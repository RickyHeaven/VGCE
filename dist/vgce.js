import { defineComponent, watch, openBlock, createBlock, unref, createElementBlock, createElementVNode, nextTick, normalizeStyle as normalizeStyle$1, toDisplayString, ref, watchEffect, normalizeProps, guardReactiveProps, withCtx, Fragment, renderList, mergeProps, computed, onMounted, onUnmounted, provide, reactive, getCurrentInstance, createVNode as createVNode$1, normalizeClass, isRef, pushScopeId, popScopeId, useCssVars, withDirectives, vShow, createCommentVNode, resolveDynamicComponent, createTextVNode, h, markRaw, capitalize, getCurrentScope, onScopeDispose, warn as warn$1, inject, shallowRef, onBeforeUnmount, onBeforeMount, renderSlot, toRef, toRefs, onUpdated, useSlots, TransitionGroup, useAttrs as useAttrs$1, withModifiers, Transition, cloneVNode, Text, Comment, Teleport, readonly, onDeactivated, toRaw, triggerRef, resolveComponent, resolveDirective, withKeys, vModelText, createSlots } from "vue";
import { ElProgress, ElTable, ElTableColumn, ElButton, ElTag as ElTag$1, ElMessage, ElIcon as ElIcon$1, ElDivider, ElDialog, ElScrollbar as ElScrollbar$1, ElCollapse, ElCollapseItem, ElFormItem as ElFormItem$1, ElTooltip as ElTooltip$1, ElSelect as ElSelect$1, ElOption as ElOption$1, ElInputNumber, ElInput as ElInput$1, ElColorPicker, ElSwitch, ElDrawer, ElTabs, ElTabPane, ElTree, ElForm, ElContainer, ElHeader, ElAside, ElMain, ElUpload, ElMessageBox } from "element-plus";
import "animate.css";
import VChart, { THEME_KEY } from "vue-echarts";
import { defineStore, createPinia } from "pinia";
import { kebabCase, isEmpty, get as get$1, set as set$1, fromPairs, castArray, clone as clone$3, isNil, isUndefined as isUndefined$1, isEqual, debounce } from "lodash-es";
import ace from "ace-builds";
const windi = "";
if (typeof window < "u") {
  let r = function() {
    var n = document.body, i = document.getElementById("__svg__icons__dom__");
    i || (i = document.createElementNS("http://www.w3.org/2000/svg", "svg"), i.style.position = "absolute", i.style.width = "0", i.style.height = "0", i.id = "__svg__icons__dom__", i.setAttribute("xmlns", "http://www.w3.org/2000/svg"), i.setAttribute("xmlns:link", "http://www.w3.org/1999/xlink")), i.innerHTML = `<symbol class="icon" viewBox="0 0 1024 1024"   id="svg-alert-light">\r
    <path d="M779.7248 452.1984c0-123.904-103.8848-224.3584-232.0384-224.3584S315.648 328.2944 315.648 452.1984c0 89.3952 54.1184 166.5536 132.4032 202.6496 0.3072 0.1536 0.6144 0.3072 0.9728 0.4096v63.488h197.376v-63.5392c78.7456-35.7888 133.3248-113.2032 133.3248-203.008z" p-id="1733" />\r
    <path d="M535.5008 234.7008s147.3536 98.7648 144.7424 233.984c0 72.9088-84.2752 145.4592-108.4416 157.184 0 52.9408 0.512 90.2144 0.512 90.2144l27.4432 2.7136 5.6832-63.5392 79.616-55.9616 53.7088-113.5616-11.776-104.1408-36.9152-73.3184-79.7696-56.832-74.8032-16.7424z" fill="#888" fill-opacity=".2" p-id="1734" />\r
    <path d="M605.3888 729.0368H408.0128c-5.632 0-10.24-4.608-10.24-10.24v-57.0368c-76.9024-37.5296-127.6416-111.7696-132.864-195.0208-0.3584-5.632 3.9424-10.496 9.5744-10.8544 5.6832-0.3072 10.496 3.9424 10.8544 9.5744 4.9152 77.5168 53.1968 146.5344 126.0032 180.0704l0.9216 0.4096c3.6352 1.6896 5.9392 5.3248 5.9392 9.3184v53.2992h176.896v-53.2992c0-3.9936 2.3552-7.68 5.9904-9.3184 77.3632-35.2256 127.3344-111.2576 127.3344-193.7408 0-118.0672-99.4816-214.1184-221.7984-214.1184-64.6656 0-125.952 27.1872-168.192 74.5472-3.7888 4.1984-10.24 4.608-14.4384 0.8192-4.1984-3.7888-4.608-10.24-0.8192-14.4384 46.08-51.712 112.9984-81.408 183.5008-81.408 133.5808 0 242.2784 105.216 242.2784 234.5984 0 88.32-52.1216 169.8816-133.3248 209.5616v57.0368c0 5.6832-4.5568 10.24-10.24 10.24z" fill="#010101" fill-opacity="1" p-id="1735" />\r
    <path d="M277.4528 427.8784c-0.5632 0-1.0752-0.0512-1.6384-0.1536a10.25024 10.25024 0 0 1-8.4992-11.7248c3.4816-21.8624 10.1888-43.0592 19.8144-63.0784 2.4576-5.12 8.6016-7.2192 13.6704-4.7616 5.0688 2.4576 7.2192 8.6016 4.7616 13.6704-8.8064 18.176-14.848 37.5296-18.0224 57.3952-0.8192 5.0688-5.1712 8.6528-10.0864 8.6528z" fill="#010101" fill-opacity="1" p-id="1736" />\r
    <path d="M606.4128 954.5728H478.3104c-39.5264 0-71.5776-32.0512-71.5776-71.5776v-164.1984h271.2576v164.1984c0 39.5776-32.0512 71.5776-71.5776 71.5776z" fill="#58DDDA" fill-opacity="1" p-id="1737" />\r
    <path d="M573.7472 724.9408v178.432s3.9424 38.7072-31.3856 51.2512c51.968 0 99.328-3.1744 99.328-86.528v-143.1552h-67.9424z" fill="#3BCCC8" fill-opacity="1" p-id="1738" />\r
    <path d="M570.1632 964.8128H442.0608c-45.1072 0-81.8176-36.7104-81.8176-81.8176v-164.1984c0-5.632 4.608-10.24 10.24-10.24h271.2576c5.632 0 10.24 4.608 10.24 10.24v164.1984c0 45.1584-36.7104 81.8176-81.8176 81.8176z m-189.44-235.776v153.9584c0 33.792 27.4944 61.3376 61.3376 61.3376h128.1024c33.792 0 61.3376-27.4944 61.3376-61.3376v-153.9584H380.7232z" fill="#010101" fill-opacity="1" p-id="1739" />\r
    <path d="M525.2608 175.0528c-16.9472 0-30.72-13.7728-30.72-30.72V92.5696c0-16.9472 13.7728-30.72 30.72-30.72s30.72 13.7728 30.72 30.72v51.7632c0 16.9472-13.7216 30.72-30.72 30.72zM361.4208 215.5008c-10.752 0-21.1968-5.632-26.8288-15.6672l-25.344-45.1072c-8.2944-14.7968-3.072-33.536 11.7248-41.8304s33.4848-3.072 41.8304 11.7248l25.344 45.1072c8.2944 14.7968 3.072 33.536-11.7248 41.8304-4.7104 2.6624-9.8816 3.9424-15.0016 3.9424zM246.3744 337.2032c-5.3248 0-10.7008-1.3824-15.5648-4.2496l-44.544-26.3168c-14.592-8.6016-19.456-27.4432-10.8544-42.0864 8.6016-14.592 27.4944-19.456 42.0864-10.8544l44.544 26.3168c14.592 8.6016 19.456 27.4432 10.8544 42.0864a30.91968 30.91968 0 0 1-26.5216 15.104zM199.2704 499.5584h-0.2048l-51.7632-0.3072a30.71488 30.71488 0 0 1-30.5152-30.9248c0.1024-16.896 13.824-30.5152 30.72-30.5152h0.2048l51.7632 0.3072c16.9472 0.1024 30.6176 13.9264 30.5152 30.9248-0.1024 16.896-13.824 30.5152-30.72 30.5152zM198.3488 687.2064a30.69952 30.69952 0 0 1-15.7184-57.088l44.4928-26.4704c14.592-8.704 33.4336-3.8912 42.0864 10.7008 8.6528 14.592 3.8912 33.4336-10.7008 42.0864l-44.4928 26.4704c-4.9152 2.9184-10.3424 4.3008-15.6672 4.3008zM688.0256 215.5008c-5.12 0-10.24-1.28-15.0016-3.9424a30.67904 30.67904 0 0 1-11.7248-41.8304l25.344-45.1072c8.2944-14.7968 27.0336-20.0192 41.8304-11.7248a30.67904 30.67904 0 0 1 11.7248 41.8304l-25.344 45.1072a30.7712 30.7712 0 0 1-26.8288 15.6672zM803.072 337.2032c-10.496 0-20.736-5.376-26.4704-15.104-8.6528-14.592-3.7888-33.4336 10.8032-42.0864l44.544-26.3168a30.76096 30.76096 0 0 1 42.0864 10.8032c8.6528 14.592 3.7888 33.4336-10.8032 42.0864l-44.544 26.3168c-4.9152 2.9184-10.2912 4.3008-15.616 4.3008zM850.176 499.5584c-16.896 0-30.6176-13.6192-30.72-30.5152-0.1024-16.9472 13.568-30.8224 30.5152-30.9248l51.7632-0.3072h0.2048c16.896 0 30.6176 13.6192 30.72 30.5152 0.1024 16.9472-13.568 30.8224-30.5152 30.9248l-51.7632 0.3072h-0.2048zM851.0976 687.2064c-5.3248 0-10.752-1.3824-15.6672-4.3008l-44.4928-26.4704c-14.592-8.6528-19.3536-27.5456-10.7008-42.0864a30.65344 30.65344 0 0 1 42.0864-10.7008l44.4928 26.4704a30.69952 30.69952 0 1 1-15.7184 57.088z" p-id="1740" />\r
    <path d="M504.7808 185.2928c-22.5792 0-40.96-18.3808-40.96-40.96V92.5696c0-22.5792 18.3808-40.96 40.96-40.96s40.96 18.3808 40.96 40.96v51.7632c0 22.5792-18.3808 40.96-40.96 40.96z m0-113.2032c-11.3152 0-20.48 9.1648-20.48 20.48v51.7632c0 11.3152 9.1648 20.48 20.48 20.48s20.48-9.1648 20.48-20.48V92.5696c0-11.264-9.1648-20.48-20.48-20.48zM340.9408 225.7408c-14.7968 0-28.5184-7.9872-35.7376-20.8896l-25.344-45.1072a40.77568 40.77568 0 0 1-3.7376-31.1296 40.4992 40.4992 0 0 1 19.4048-24.6272c19.712-11.0592 44.6976-4.0448 55.7568 15.6672l25.344 45.1072c5.376 9.5232 6.656 20.5824 3.7376 31.1296a40.4992 40.4992 0 0 1-19.4048 24.6272 41.3952 41.3952 0 0 1-20.0192 5.2224z m-25.3952-106.5472c-3.3792 0-6.8096 0.8192-9.984 2.6112-4.7616 2.6624-8.192 7.0656-9.6768 12.3392a20.3776 20.3776 0 0 0 1.8432 15.5648l25.344 45.1072a20.55168 20.55168 0 0 0 17.8688 10.4448c3.4816 0 6.9632-0.9216 9.984-2.6112 4.7616-2.6624 8.192-7.0656 9.6768-12.3392a20.3776 20.3776 0 0 0-1.8432-15.5648l-25.344-45.1072a20.39296 20.39296 0 0 0-17.8688-10.4448zM225.8944 347.4432a40.8064 40.8064 0 0 1-20.7872-5.6832l-44.544-26.3168a40.64256 40.64256 0 0 1-18.8416-25.0368c-2.7136-10.5984-1.1776-21.6064 4.4032-31.0272a40.64256 40.64256 0 0 1 25.0368-18.8416c10.5984-2.7136 21.6064-1.1776 31.0272 4.4032l44.544 26.3168a40.64256 40.64256 0 0 1 18.8416 25.0368c2.7136 10.5984 1.1776 21.6064-4.4032 31.0272a41.15456 41.15456 0 0 1-35.2768 20.1216z m-44.4928-87.7568c-1.6896 0-3.4304 0.2048-5.12 0.6656-5.3248 1.3824-9.728 4.7104-12.544 9.4208-2.7648 4.7104-3.584 10.24-2.2016 15.5136 1.3824 5.2736 4.7104 9.728 9.4208 12.544l44.544 26.3168c3.1744 1.8432 6.7584 2.8672 10.3936 2.8672 7.2192 0 13.9776-3.84 17.664-10.0864 2.7648-4.7104 3.584-10.24 2.2016-15.5136-1.3824-5.2736-4.7104-9.728-9.4208-12.544l-44.544-26.3168c-3.2256-1.9456-6.7584-2.8672-10.3936-2.8672zM178.7904 509.7984h-0.2048l-51.8144-0.3072c-22.5792-0.1536-40.8576-18.6368-40.704-41.216 0.1536-22.4256 18.5344-40.704 40.96-40.704l52.0192 0.3072c22.5792 0.1536 40.8576 18.6368 40.704 41.216-0.1024 22.4768-18.4832 40.704-40.96 40.704zM127.1808 448.0512a20.47488 20.47488 0 1 0-0.2048 40.96l51.7632 0.3072 0.1536 10.24v-10.24a20.47488 20.47488 0 1 0 0.1024-40.96l-51.8144-0.3072zM177.8688 697.4464c-14.3872 0-27.904-7.68-35.2256-20.0192a41.01632 41.01632 0 0 1 14.2336-56.1664l44.4928-26.4704a40.9088 40.9088 0 0 1 31.0272-4.5056c10.5984 2.7136 19.5072 9.3696 25.088 18.7392a41.01632 41.01632 0 0 1-14.2336 56.1664l-44.4928 26.4704a40.77568 40.77568 0 0 1-20.8896 5.7856z m44.3904-87.9104c-3.6352 0-7.2192 0.9728-10.4448 2.8672l-44.4928 26.4704c-4.7104 2.816-8.0384 7.2704-9.3696 12.544a20.3264 20.3264 0 0 0 2.2528 15.5136 20.4288 20.4288 0 0 0 17.6128 10.0352c3.6352 0 7.2704-0.9728 10.4448-2.8672l44.4928-26.4704c4.7104-2.816 8.0384-7.2704 9.3696-12.544 1.3312-5.3248 0.5632-10.8032-2.2528-15.5136s-7.2704-8.0384-12.544-9.3696a19.1488 19.1488 0 0 0-5.0688-0.6656z" fill="#010101" p-id="1741" />\r
    <path d="M667.5456 225.7408c-6.9632 0-13.9264-1.792-20.0192-5.2736a40.96 40.96 0 0 1-19.4048-24.6272 40.5504 40.5504 0 0 1 3.7376-31.1296l25.344-45.1072c11.0592-19.712 36.096-26.7264 55.7568-15.6672a40.96 40.96 0 0 1 19.4048 24.6272 40.5504 40.5504 0 0 1-3.7376 31.1296L703.2832 204.8a41.088 41.088 0 0 1-35.7376 20.9408z m25.3952-106.5472c-7.168 0-14.1312 3.7888-17.92 10.4448l-25.344 45.1072a20.3776 20.3776 0 0 0-1.8432 15.5648c1.4848 5.2736 4.9152 9.6256 9.6768 12.3392 3.072 1.7408 6.5024 2.6112 9.984 2.6112 7.424 0 14.2848-3.9936 17.8688-10.4448l25.344-45.1072c2.6624-4.7616 3.328-10.2912 1.8432-15.5648a20.49024 20.49024 0 0 0-9.6768-12.3392c-3.1232-1.792-6.5536-2.6112-9.9328-2.6112z" fill="#010101" p-id="1742" />\r
    <path d="M782.592 347.4432c-14.4384 0-27.9552-7.7312-35.2768-20.1216a41.0368 41.0368 0 0 1 14.4384-56.1152l44.544-26.3168c19.456-11.4688 44.6464-5.0176 56.1152 14.4384s5.0176 44.5952-14.4384 56.1152l-44.544 26.3168a41.64608 41.64608 0 0 1-20.8384 5.6832z m44.4928-87.7568c-3.5328 0-7.1168 0.9216-10.3936 2.8672l-44.544 26.3168a20.51584 20.51584 0 0 0-7.2192 28.0576 20.67456 20.67456 0 0 0 17.664 10.0864c3.6352 0 7.2192-0.9728 10.3936-2.8672l44.544-26.3168a20.51584 20.51584 0 0 0 7.2192-28.0576 20.44928 20.44928 0 0 0-17.664-10.0864z" fill="#010101" p-id="1743" />\r
    <path d="M829.696 509.7984c-22.4256 0-40.8064-18.2784-40.96-40.704-0.1536-22.5792 18.1248-41.0624 40.704-41.216l51.7632-0.3072c22.6816 0 41.0624 18.2784 41.216 40.704 0.1536 22.5792-18.1248 41.0624-40.704 41.216l-51.7632 0.3072h-0.256z m51.712-61.7472l-51.8656 0.3072a20.5056 20.5056 0 0 0-20.3776 20.5824 20.55168 20.55168 0 0 0 20.48 20.3776h0.2048l51.6608-0.3072a20.5056 20.5056 0 0 0 20.3776-20.5824 20.52096 20.52096 0 0 0-20.48-20.3776z" fill="#010101" p-id="1744" />\r
    <path d="M830.6176 697.4464c-7.3216 0-14.592-1.9968-20.8896-5.7856l-44.4928-26.4704a40.37632 40.37632 0 0 1-18.7392-25.1392c-2.7136-10.5984-1.0752-21.6064 4.5056-31.0272a40.66816 40.66816 0 0 1 25.088-18.7904 40.9088 40.9088 0 0 1 31.0272 4.5056l44.4416 26.4704c19.4048 11.5712 25.8048 36.7104 14.2848 56.1152a41.02144 41.02144 0 0 1-35.2256 20.1216z m-44.3904-87.9104c-1.6896 0-3.3792 0.2048-5.0688 0.6144a20.0704 20.0704 0 0 0-12.544 9.3696c-2.816 4.7104-3.584 10.24-2.2528 15.5136a20.0704 20.0704 0 0 0 9.3696 12.544l44.4928 26.4704c3.1744 1.8944 6.8096 2.8672 10.4448 2.8672 7.3216 0 13.8752-3.7376 17.6128-10.0352 2.816-4.7104 3.584-10.1888 2.2528-15.5136a20.0704 20.0704 0 0 0-9.3696-12.544l-44.4928-26.4704c-3.2256-1.8432-6.8096-2.816-10.4448-2.816z" fill="#010101" p-id="1745" />\r
    <path d="M547.584 729.0368c-5.632 0-10.24-4.608-10.24-10.24V511.8976H470.9376v206.9504c0 5.632-4.608 10.24-10.24 10.24s-10.24-4.608-10.24-10.24V511.8976h-33.024c-15.0016 0-28.0064-9.1136-33.1264-23.2448s-0.9216-29.44 10.5984-39.0656l18.2784-15.2064a35.00032 35.00032 0 0 1 37.4784-4.8128c12.4928 5.888 20.2752 18.0736 20.2752 31.8976v29.952h66.4576v-29.7472c0-13.824 7.7824-26.0608 20.3264-31.8976 12.544-5.8368 26.88-3.9936 37.5296 4.9152l17.9712 15.0016c11.52 9.6256 15.616 24.9344 10.496 39.0656-5.12 14.08-18.1248 23.1936-33.1264 23.1936h-32.7168v206.9504c-0.0512 5.5808-4.608 10.1376-10.2912 10.1376z m10.24-237.6192h32.7168c9.5744 0 13.056-7.424 13.8752-9.728 0.8192-2.304 2.9696-10.1888-4.4032-16.3328l-17.9712-15.0016c-4.5056-3.7888-10.3936-4.5568-15.7184-2.048s-8.4992 7.4752-8.4992 13.3632v29.7472z m-122.2144-44.8a14.336 14.336 0 0 0-9.3184 3.4816l-18.2784 15.2064c-7.3728 6.144-5.2736 14.08-4.4544 16.3328 0.8192 2.304 4.2496 9.728 13.8752 9.728h33.024v-29.952c0-5.888-3.1744-10.8544-8.4992-13.3632a15.872 15.872 0 0 0-6.3488-1.4336z" fill="#010101" fill-opacity="1" p-id="1746" />\r
    <path d="M339.2 449.4336c-0.6144 0-1.2288-0.0512-1.8944-0.1536-5.5808-1.024-9.216-6.3488-8.192-11.9296a256.8704 256.8704 0 0 1 9.9328-37.6832 10.30144 10.30144 0 0 1 13.056-6.2976c5.3248 1.8944 8.1408 7.7312 6.2976 13.056a236.6976 236.6976 0 0 0-9.1136 34.6624c-0.9216 4.9152-5.2224 8.3456-10.0864 8.3456z" fill="#FFFFFF" fill-opacity="1" p-id="1747" />\r
    <path d="M364.4928 378.6752c-1.7408 0-3.4816-0.4608-5.12-1.3824a10.22464 10.22464 0 0 1-3.7376-13.9776C407.552 273.5104 503.1424 266.496 507.1872 266.24c5.6832-0.3584 10.496 3.9424 10.8544 9.5744s-3.9424 10.496-9.5744 10.8544c-0.9728 0.0512-88.8832 6.8608-135.168 86.8864-1.8432 3.2768-5.2736 5.12-8.8064 5.12z" fill="#FFFFFF" fill-opacity="1" p-id="1748" />\r
    <path d="M437.4528 900.1984c-5.632 0-10.24-4.608-10.24-10.24v-108.8c0-5.632 4.608-10.24 10.24-10.24s10.24 4.608 10.24 10.24v108.8c0 5.6832-4.5568 10.24-10.24 10.24z" fill="#FFFFFF" fill-opacity="1" p-id="1749" />\r
</symbol><symbol viewBox="0 0 1029 1261"   id="svg-bot-2"><defs node-id="91"><linearGradient gradientUnits="objectBoundingBox" id="svg-bot-2_linearGradient-1" node-id="5" spreadMethod="pad" x1="0" x2="1" y1="0.5" y2="0.5"><stop offset="0" stop-color="#252424" /><stop offset="1" stop-color="#181818" /></linearGradient><linearGradient gradientUnits="objectBoundingBox" id="svg-bot-2_linearGradient-2" node-id="8" spreadMethod="pad" x1="0.0161995" x2="1" y1="0.5" y2="0.5"><stop offset="0" stop-color="#a5a5a5" /><stop offset="1" stop-color="#7b7a7a" /></linearGradient><linearGradient gradientUnits="objectBoundingBox" id="svg-bot-2_linearGradient-3" node-id="11" spreadMethod="pad" x1="0" x2="1" y1="0.5" y2="0.5"><stop offset="0" stop-color="#252424" /><stop offset="1" stop-color="#181818" /></linearGradient></defs><g node-id="110"><g node-id="111"><g node-id="112"><g node-id="121"><g node-id="129"><path d="M 371.40 1196.35 L 455.97 1198.74 L 455.97 1241.75 L 456.24 1243.70 L 455.97 1245.65 L 455.97 1250.28 L 453.11 1250.19 L 450.84 1252.11 L 447.87 1253.96 L 444.09 1255.75 L 440.17 1257.19 L 435.68 1258.44 L 430.57 1259.51 L 425.42 1260.25 L 419.89 1260.71 L 413.96 1260.89 L 407.32 1260.67 L 401.21 1260.09 L 395.57 1259.18 L 390.00 1257.86 L 385.26 1256.32 L 381.26 1254.59 L 378.32 1252.96 L 376.02 1251.30 L 374.26 1249.62 L 372.96 1247.92 L 371.40 1247.88 L 371.40 1196.35 Z" fill="url(#svg-bot-2_linearGradient-1)" fill-rule="evenodd" group-id="1,2,3,12,20" id="svg-bot-2_形状结合" node-id="20" stroke="currentColor" target-height="64.54004" target-width="84.84" target-x="371.4" target-y="1196.35" /><path d="M 456.24 1201.15 L 456.02 1202.85 L 455.43 1204.51 L 454.42 1206.16 L 452.92 1207.84 L 450.61 1209.72 L 447.63 1211.54 L 443.85 1213.30 L 439.94 1214.71 L 435.48 1215.94 L 430.41 1216.99 L 425.30 1217.71 L 419.83 1218.17 L 413.96 1218.34 L 408.08 1218.17 L 402.61 1217.71 L 397.50 1216.99 L 392.43 1215.94 L 387.97 1214.71 L 384.06 1213.30 L 380.28 1211.54 L 377.30 1209.72 L 375.00 1207.84 L 373.49 1206.16 L 372.48 1204.51 L 371.89 1202.85 L 371.67 1201.15 L 371.89 1199.44 L 372.48 1197.78 L 373.49 1196.13 L 375.00 1194.45 L 377.30 1192.57 L 380.28 1190.75 L 384.06 1188.99 L 387.97 1187.58 L 392.43 1186.35 L 397.50 1185.31 L 402.61 1184.58 L 408.08 1184.12 L 413.96 1183.96 L 419.83 1184.12 L 425.30 1184.58 L 430.41 1185.31 L 435.48 1186.35 L 439.94 1187.58 L 443.85 1188.99 L 447.63 1190.75 L 450.61 1192.57 L 452.92 1194.45 L 454.42 1196.13 L 455.43 1197.78 L 456.02 1199.44 L 456.24 1201.15 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,3,12,20" id="svg-bot-2_形状结合" node-id="21" stroke="none" target-height="34.380005" target-width="84.56998" target-x="371.67" target-y="1183.96" /></g><g node-id="130"><path d="M 401.18 1166.27 L 429.37 1168.00 L 429.37 1205.18 L 428.61 1205.13 L 427.51 1206.04 L 425.87 1206.90 L 423.55 1207.70 L 419.83 1208.43 L 415.27 1208.71 L 411.44 1208.51 L 408.16 1207.99 L 405.18 1207.11 L 403.10 1206.09 L 401.98 1205.18 L 401.38 1204.30 L 401.18 1203.41 L 401.18 1203.45 L 401.18 1166.27 Z" fill="url(#svg-bot-2_linearGradient-2)" fill-rule="evenodd" group-id="1,2,3,12,21" id="svg-bot-2_形状结合备份" node-id="23" stroke="none" target-height="42.43994" target-width="28.190002" target-x="401.18" target-y="1166.27" /><path d="M 429.37 1164.59 L 429.16 1165.50 L 428.56 1166.40 L 427.44 1167.31 L 425.36 1168.36 L 422.39 1169.25 L 419.11 1169.78 L 415.27 1169.98 L 411.44 1169.78 L 408.16 1169.25 L 405.18 1168.36 L 403.10 1167.31 L 401.99 1166.40 L 401.39 1165.50 L 401.18 1164.59 L 401.39 1163.68 L 401.99 1162.78 L 403.10 1161.87 L 405.18 1160.83 L 408.16 1159.94 L 411.44 1159.40 L 415.27 1159.20 L 419.11 1159.40 L 422.39 1159.94 L 425.36 1160.83 L 427.44 1161.87 L 428.56 1162.78 L 429.16 1163.68 L 429.37 1164.59 Z" fill="#585858" fill-rule="evenodd" group-id="1,2,3,12,21" id="svg-bot-2_形状结合备份-2" node-id="24" stroke="none" target-height="10.780029" target-width="28.190002" target-x="401.18" target-y="1159.2" /></g></g><g node-id="122"><g node-id="131"><path d="M 26.26 1034.56 L 110.83 1036.96 L 110.83 1079.96 L 111.10 1081.91 L 110.83 1083.86 L 110.83 1088.49 L 107.97 1088.41 L 105.70 1090.32 L 102.73 1092.18 L 98.95 1093.97 L 95.03 1095.40 L 90.54 1096.66 L 85.43 1097.72 L 80.28 1098.46 L 74.75 1098.93 L 68.81 1099.10 L 62.18 1098.89 L 56.07 1098.31 L 50.43 1097.40 L 44.86 1096.08 L 40.12 1094.54 L 36.11 1092.81 L 33.18 1091.17 L 30.88 1089.51 L 29.12 1087.84 L 27.82 1086.14 L 26.26 1086.09 L 26.26 1034.56 Z" fill="url(#svg-bot-2_linearGradient-1)" fill-rule="evenodd" group-id="1,2,3,13,22" id="svg-bot-2_形状结合" node-id="27" stroke="none" target-height="64.53992" target-width="84.84" target-x="26.26" target-y="1034.56" /><path d="M 111.10 1039.36 L 110.88 1041.06 L 110.29 1042.72 L 109.28 1044.38 L 107.77 1046.05 L 105.47 1047.93 L 102.49 1049.76 L 98.71 1051.52 L 94.80 1052.92 L 90.34 1054.16 L 85.27 1055.20 L 80.16 1055.93 L 74.69 1056.38 L 68.81 1056.55 L 62.94 1056.38 L 57.47 1055.93 L 52.36 1055.20 L 47.29 1054.16 L 42.83 1052.92 L 38.92 1051.52 L 35.14 1049.76 L 32.16 1047.93 L 29.85 1046.05 L 28.35 1044.38 L 27.34 1042.72 L 26.75 1041.06 L 26.53 1039.36 L 26.75 1037.66 L 27.34 1036.00 L 28.35 1034.34 L 29.85 1032.67 L 32.16 1030.79 L 35.14 1028.96 L 38.92 1027.21 L 42.83 1025.80 L 47.29 1024.56 L 52.36 1023.52 L 57.47 1022.79 L 62.94 1022.34 L 68.81 1022.17 L 74.69 1022.34 L 80.16 1022.79 L 85.27 1023.52 L 90.34 1024.56 L 94.80 1025.80 L 98.71 1027.21 L 102.49 1028.96 L 105.47 1030.79 L 107.77 1032.67 L 109.28 1034.34 L 110.29 1036.00 L 110.88 1037.66 L 111.10 1039.36 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,3,13,22" id="svg-bot-2_形状结合" node-id="28" stroke="none" target-height="34.380066" target-width="84.57" target-x="26.53" target-y="1022.17" /></g><g node-id="132"><path d="M 56.04 1004.49 L 84.23 1006.22 L 84.23 1043.39 L 83.47 1043.34 L 82.37 1044.25 L 80.73 1045.12 L 78.41 1045.92 L 74.69 1046.64 L 70.13 1046.93 L 66.30 1046.73 L 63.02 1046.20 L 60.04 1045.33 L 57.96 1044.30 L 56.84 1043.40 L 56.24 1042.52 L 56.04 1041.62 L 56.04 1041.66 L 56.04 1004.49 Z" fill="url(#svg-bot-2_linearGradient-2)" fill-rule="evenodd" group-id="1,2,3,13,23" id="svg-bot-2_形状结合备份" node-id="30" stroke="none" target-height="42.440063" target-width="28.190002" target-x="56.04" target-y="1004.49" /><path d="M 84.23 1002.81 L 84.02 1003.72 L 83.42 1004.61 L 82.30 1005.53 L 80.22 1006.57 L 77.25 1007.46 L 73.97 1008.00 L 70.13 1008.20 L 66.30 1008.00 L 63.02 1007.46 L 60.04 1006.57 L 57.96 1005.53 L 56.84 1004.61 L 56.24 1003.72 L 56.04 1002.81 L 56.24 1001.90 L 56.84 1001.00 L 57.96 1000.09 L 60.04 999.04 L 63.02 998.15 L 66.30 997.62 L 70.13 997.41 L 73.97 997.62 L 77.25 998.15 L 80.22 999.04 L 82.30 1000.09 L 83.42 1001.00 L 84.02 1001.90 L 84.23 1002.81 Z" fill="#585858" fill-rule="evenodd" group-id="1,2,3,13,23" id="svg-bot-2_形状结合备份-2" node-id="31" stroke="none" target-height="10.790039" target-width="28.190002" target-x="56.04" target-y="997.41" /></g></g><g node-id="123"><path d="M 790.71 921.36 L 875.28 926.08 L 875.28 1018.93 L 875.55 1020.88 L 875.28 1022.83 L 875.28 1027.46 L 872.50 1027.31 L 870.23 1029.23 L 867.27 1031.10 L 863.49 1032.90 L 859.56 1034.35 L 855.07 1035.61 L 849.94 1036.69 L 844.77 1037.43 L 839.22 1037.90 L 833.26 1038.07 L 827.79 1037.93 L 822.66 1037.53 L 817.83 1036.89 L 813.05 1035.98 L 808.77 1034.90 L 804.95 1033.65 L 801.24 1032.11 L 798.19 1030.48 L 795.72 1028.80 L 793.54 1026.79 L 792.08 1024.79 L 791.23 1022.78 L 790.71 1022.75 L 790.71 921.36 Z" fill="url(#svg-bot-2_linearGradient-3)" fill-rule="evenodd" group-id="1,2,3,14" id="svg-bot-2_形状结合" node-id="33" stroke="none" target-height="116.70996" target-width="84.839966" target-x="790.71" target-y="921.36" /><path d="M 875.55 924.41 L 875.33 926.11 L 874.74 927.77 L 873.72 929.42 L 872.22 931.10 L 869.92 932.98 L 866.94 934.80 L 863.16 936.56 L 859.25 937.97 L 854.79 939.20 L 849.72 940.25 L 844.61 940.97 L 839.13 941.43 L 833.26 941.60 L 827.39 941.43 L 821.92 940.97 L 816.81 940.25 L 811.74 939.20 L 807.27 937.97 L 803.36 936.56 L 799.59 934.80 L 796.61 932.98 L 794.30 931.10 L 792.80 929.42 L 791.79 927.77 L 791.19 926.11 L 790.98 924.41 L 791.19 922.71 L 791.79 921.04 L 792.80 919.39 L 794.30 917.72 L 796.61 915.83 L 799.59 914.01 L 803.36 912.25 L 807.27 910.84 L 811.74 909.61 L 816.81 908.57 L 821.92 907.84 L 827.39 907.38 L 833.26 907.22 L 839.13 907.38 L 844.61 907.84 L 849.72 908.57 L 854.79 909.61 L 859.25 910.84 L 863.16 912.25 L 866.94 914.01 L 869.92 915.83 L 872.22 917.72 L 873.72 919.39 L 874.74 921.04 L 875.33 922.71 L 875.55 924.41 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,3,14" id="svg-bot-2_形状结合" node-id="34" stroke="none" target-height="34.380005" target-width="84.57001" target-x="790.98" target-y="907.22" /></g><g node-id="124"><g node-id="133"><path d="M 470.06 779.90 L 554.63 784.61 L 554.63 877.47 L 554.90 879.42 L 554.63 881.37 L 554.63 886.00 L 551.85 885.84 L 549.58 887.76 L 546.63 889.63 L 542.84 891.44 L 538.92 892.88 L 534.42 894.15 L 529.29 895.22 L 524.12 895.96 L 518.57 896.43 L 512.62 896.61 L 507.15 896.46 L 502.01 896.06 L 497.19 895.43 L 492.40 894.52 L 488.12 893.43 L 484.30 892.18 L 480.59 890.64 L 477.54 889.02 L 475.07 887.33 L 472.89 885.32 L 471.44 883.32 L 470.59 881.31 L 470.06 881.28 L 470.06 779.90 Z" fill="url(#svg-bot-2_linearGradient-3)" fill-rule="evenodd" group-id="1,2,3,15,24" id="svg-bot-2_形状结合" node-id="37" stroke="none" target-height="116.70996" target-width="84.84003" target-x="470.06" target-y="779.9" /><path d="M 554.90 782.94 L 554.69 784.64 L 554.09 786.30 L 553.08 787.96 L 551.58 789.63 L 549.27 791.51 L 546.29 793.34 L 542.51 795.09 L 538.60 796.50 L 534.14 797.74 L 529.07 798.78 L 523.96 799.51 L 518.49 799.96 L 512.62 800.13 L 506.75 799.96 L 501.27 799.51 L 496.16 798.78 L 491.09 797.74 L 486.63 796.50 L 482.72 795.09 L 478.94 793.34 L 475.96 791.51 L 473.66 789.63 L 472.16 787.96 L 471.14 786.30 L 470.55 784.64 L 470.33 782.94 L 470.55 781.24 L 471.14 779.58 L 472.16 777.92 L 473.66 776.25 L 475.96 774.37 L 478.94 772.54 L 482.72 770.78 L 486.63 769.38 L 491.09 768.14 L 496.16 767.10 L 501.27 766.37 L 506.75 765.92 L 512.62 765.75 L 518.49 765.92 L 523.96 766.37 L 529.07 767.10 L 534.14 768.14 L 538.60 769.38 L 542.51 770.78 L 546.29 772.54 L 549.27 774.37 L 551.58 776.25 L 553.08 777.92 L 554.09 779.58 L 554.69 781.24 L 554.90 782.94 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,3,15,24" id="svg-bot-2_形状结合" node-id="38" stroke="none" target-height="34.380005" target-width="84.57004" target-x="470.33" target-y="765.75" /></g><g node-id="134"><path d="M 499.84 748.07 L 528.03 749.79 L 528.03 786.97 L 527.27 786.92 L 526.17 787.83 L 524.54 788.70 L 522.21 789.50 L 518.49 790.22 L 513.93 790.51 L 510.10 790.31 L 506.82 789.78 L 503.84 788.90 L 501.76 787.88 L 500.64 786.98 L 500.05 786.10 L 499.84 785.20 L 499.84 785.24 L 499.84 748.07 Z" fill="url(#svg-bot-2_linearGradient-2)" fill-rule="evenodd" group-id="1,2,3,15,25" id="svg-bot-2_形状结合备份" node-id="40" stroke="none" target-height="42.440002" target-width="28.190033" target-x="499.84" target-y="748.07" /><path d="M 528.03 746.38 L 527.82 747.30 L 527.22 748.19 L 526.10 749.11 L 524.02 750.15 L 521.05 751.04 L 517.77 751.58 L 513.93 751.78 L 510.10 751.58 L 506.82 751.04 L 503.84 750.15 L 501.76 749.11 L 500.65 748.19 L 500.05 747.30 L 499.84 746.38 L 500.05 745.47 L 500.65 744.58 L 501.76 743.66 L 503.84 742.62 L 506.82 741.73 L 510.10 741.19 L 513.93 740.99 L 517.77 741.19 L 521.05 741.73 L 524.02 742.62 L 526.10 743.66 L 527.22 744.58 L 527.82 745.47 L 528.03 746.38 Z" fill="#585858" fill-rule="evenodd" group-id="1,2,3,15,25" id="svg-bot-2_形状结合备份-2" node-id="41" stroke="none" target-height="10.790039" target-width="28.190033" target-x="499.84" target-y="740.99" /></g></g><g node-id="125"><path d="M 457.95 764.75 L 889.37 966.63 L 438.35 1214.19 L 0.50 1013.50 Z" fill="#c0c0c0" fill-rule="evenodd" group-id="1,2,3,16" id="svg-bot-2_矩形备份-52" node-id="43" stroke="none" target-height="449.43994" target-width="888.87" target-x="0.5" target-y="764.75" /><path d="M 889.37 554.43 L 889.37 966.63 L 438.35 1214.19 L 436.37 807.89 L 889.37 554.43 Z M 843.51 614.67 L 482.24 816.81 L 483.81 1089.24 L 843.51 891.80 L 843.51 614.67 Z" fill="#d8d8d8" fill-rule="evenodd" group-id="1,2,3,16" id="svg-bot-2_形状结合" node-id="44" stroke="none" target-height="659.75995" target-width="453" target-x="436.37" target-y="554.43" /><path d="M 2.65 603.14 L 441.77 807.89 L 440.11 1215.96 L 1.00 1013.00 L 2.65 603.14 Z M 77.41 738.72 L 44.34 760.22 L 43.24 989.00 L 68.96 1027.86 L 375.06 1170.15 L 407.65 1149.79 L 408.72 929.24 L 377.59 879.51 L 77.41 738.72 Z" fill="#e8e6e6" fill-rule="evenodd" group-id="1,2,3,16" id="svg-bot-2_形状结合" node-id="45" stroke="none" target-height="612.81995" target-width="440.77" target-x="1" target-y="603.14" /><path d="M 4.56 607.46 L 445.29 349.30 L 888.50 555.50 L 437.96 814.33 Z" fill="#f7f7f7" fill-rule="evenodd" group-id="1,2,3,16" id="svg-bot-2_路径-16备份-2" node-id="46" stroke="none" target-height="465.03003" target-width="883.94" target-x="4.56" target-y="349.3" /><path d="M 3.56 595.67 L 68.66 553.43 L 510.87 763.75 L 436.96 802.55 Z" fill="#2a7b5a" fill-rule="evenodd" group-id="1,2,3,16" id="svg-bot-2_路径-16备份-2" node-id="47" stroke="none" target-height="249.12" target-width="507.31" target-x="3.56" target-y="553.43" /><path d="M 3.56 595.67 L 3.95 607.35 L 435.37 812.28 L 436.96 802.55 Z" fill="#286f52" fill-rule="evenodd" group-id="1,2,3,16" id="svg-bot-2_路径-16备份-2" node-id="48" stroke="none" target-height="216.61005" target-width="433.4" target-x="3.56" target-y="595.67" /><path d="M 435.37 812.28 L 510.87 774.53 L 510.87 763.75 L 435.37 801.50 Z" fill="#1d5940" fill-rule="evenodd" group-id="1,2,3,16" id="svg-bot-2_路径-16备份-2" node-id="49" stroke="none" target-height="48.53003" target-width="75.5" target-x="435.37" target-y="763.75" /></g></g><g node-id="113"><g node-id="126"><g node-id="135"><path d="M 866.81 262.39 L 854.29 268.65 L 854.29 563.61 L 866.81 557.36 Z" fill="#dbdbdb" fill-rule="evenodd" group-id="1,2,4,17,26" id="svg-bot-2_矩形" node-id="52" stroke="none" target-height="301.21997" target-width="12.52002" target-x="854.29" target-y="262.39" /></g><path d="M 854.29 268.65 L 840.99 261.61 L 840.99 556.57 L 854.29 563.61 Z" fill="#bab9b9" fill-rule="evenodd" group-id="1,2,4,17,27" id="svg-bot-2_矩形备份-17" node-id="53" stroke="none" target-height="302" target-width="13.299988" target-x="840.99" target-y="261.61" /></g><g node-id="127"><g node-id="137"><path d="M 456.96 79.04 L 444.44 85.29 L 444.44 380.25 L 456.96 374.00 Z" fill="#dbdbdb" fill-rule="evenodd" group-id="1,2,4,18,28" id="svg-bot-2_矩形" node-id="55" stroke="none" target-height="301.21" target-width="12.519989" target-x="444.44" target-y="79.04" /></g><path d="M 444.44 85.29 L 431.13 78.25 L 431.13 373.22 L 444.44 380.25 Z" fill="#bab9b9" fill-rule="evenodd" group-id="1,2,4,18,29" id="svg-bot-2_矩形备份-17" node-id="56" stroke="none" target-height="302" target-width="13.309998" target-x="431.13" target-y="78.25" /></g><g node-id="128"><path d="M 242.23 158.40 L 803.09 422.65 L 803.09 435.78 L 242.23 171.53 Z" fill="#ccc6c6" fill-rule="evenodd" group-id="1,2,4,19" id="svg-bot-2_矩形备份-22" node-id="58" stroke="none" target-height="277.38" target-width="560.86005" target-x="242.23" target-y="158.4" /><g node-id="139"><path d="M 441.77 47.50 L 1002.62 311.75 L 802.76 422.54 L 238.90 159.11 Z" fill="#ffffff" fill-rule="evenodd" group-id="1,2,4,19,30" id="svg-bot-2_矩形" node-id="59" stroke="none" target-height="375.04" target-width="763.72" target-x="238.9" target-y="47.5" /></g><path d="M 1002.29 309.30 L 1002.62 322.53 L 803.09 435.78 L 803.09 419.60 Z" fill="#d8d8d8" fill-rule="evenodd" group-id="1,2,4,19,31" id="svg-bot-2_矩形备份-51" node-id="60" stroke="none" target-height="126.48001" target-width="199.52997" target-x="803.09" target-y="309.3" /></g></g><g node-id="114"><path d="M 69.66 683.85 L 69.46 686.78 L 68.93 689.30 L 68.05 691.55 L 66.99 693.17 L 66.11 694.00 L 65.21 694.47 L 64.27 694.64 L 63.33 694.47 L 62.43 694.00 L 61.55 693.17 L 60.49 691.55 L 59.61 689.30 L 59.08 686.78 L 58.88 683.85 L 59.08 680.93 L 59.61 678.41 L 60.49 676.15 L 61.55 674.54 L 62.43 673.71 L 63.33 673.24 L 64.27 673.07 L 65.21 673.24 L 66.11 673.71 L 66.99 674.54 L 68.05 676.15 L 68.93 678.41 L 69.46 680.93 L 69.66 683.85 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,5" id="svg-bot-2_椭圆形" node-id="62" stroke="none" target-height="21.570007" target-width="10.780003" target-x="58.88" target-y="673.07" /><path d="M 75.06 689.25 L 76.00 689.08 L 76.89 688.61 L 77.78 687.77 L 78.83 686.16 L 79.71 683.90 L 80.25 681.39 L 80.45 678.46 L 80.25 675.53 L 79.71 673.02 L 78.83 670.76 L 77.78 669.15 L 76.89 668.31 L 76.00 667.84 L 75.06 667.67 L 74.11 667.84 L 73.22 668.31 L 72.33 669.15 L 71.28 670.76 L 70.40 673.02 L 69.86 675.53 L 69.66 678.46 L 69.86 681.39 L 70.40 683.90 L 71.28 686.16 L 72.33 687.77 L 73.22 688.61 L 74.11 689.08 L 75.06 689.25 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,5" id="svg-bot-2_椭圆形备份-7" node-id="63" stroke="none" target-height="21.580017" target-width="10.789993" target-x="69.66" target-y="667.67" /><path d="M 64.27 673.07 L 75.06 667.67 L 75.06 689.25 L 64.27 694.64 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,5" id="svg-bot-2_矩形" node-id="64" stroke="none" target-height="26.970032" target-width="10.790001" target-x="64.27" target-y="667.67" /></g><g node-id="115"><path d="M 91.23 694.64 L 91.03 697.57 L 90.50 700.08 L 89.62 702.34 L 88.56 703.95 L 87.68 704.78 L 86.78 705.26 L 85.84 705.42 L 84.90 705.26 L 84.00 704.78 L 83.12 703.95 L 82.07 702.34 L 81.18 700.08 L 80.65 697.57 L 80.45 694.64 L 80.65 691.71 L 81.18 689.19 L 82.07 686.94 L 83.12 685.33 L 84.00 684.49 L 84.90 684.02 L 85.84 683.85 L 86.78 684.02 L 87.68 684.49 L 88.56 685.33 L 89.62 686.94 L 90.50 689.19 L 91.03 691.71 L 91.23 694.64 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,6" id="svg-bot-2_椭圆形" node-id="66" stroke="none" target-height="21.570007" target-width="10.780006" target-x="80.45" target-y="683.85" /><path d="M 96.63 700.03 L 97.57 699.86 L 98.47 699.39 L 99.35 698.56 L 100.40 696.95 L 101.28 694.69 L 101.82 692.17 L 102.02 689.25 L 101.82 686.32 L 101.28 683.80 L 100.40 681.54 L 99.35 679.93 L 98.47 679.10 L 97.57 678.63 L 96.63 678.46 L 95.69 678.63 L 94.79 679.10 L 93.90 679.93 L 92.85 681.54 L 91.97 683.80 L 91.43 686.32 L 91.23 689.25 L 91.43 692.17 L 91.97 694.69 L 92.85 696.95 L 93.90 698.56 L 94.79 699.39 L 95.69 699.86 L 96.63 700.03 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,6" id="svg-bot-2_椭圆形备份-7" node-id="67" stroke="none" target-height="21.570007" target-width="10.789993" target-x="91.23" target-y="678.46" /><path d="M 85.84 683.85 L 96.63 678.46 L 96.63 700.03 L 85.84 705.42 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,6" id="svg-bot-2_矩形" node-id="68" stroke="none" target-height="26.95996" target-width="10.790001" target-x="85.84" target-y="678.46" /></g><g node-id="116"><path d="M 134.38 716.21 L 134.18 719.14 L 133.64 721.65 L 132.76 723.91 L 131.71 725.52 L 130.82 726.36 L 129.92 726.83 L 128.98 727.00 L 128.04 726.83 L 127.15 726.36 L 126.26 725.52 L 125.21 723.91 L 124.33 721.65 L 123.79 719.14 L 123.59 716.21 L 123.79 713.28 L 124.33 710.77 L 125.21 708.51 L 126.26 706.90 L 127.15 706.06 L 128.04 705.59 L 128.98 705.42 L 129.92 705.59 L 130.82 706.06 L 131.71 706.90 L 132.76 708.51 L 133.64 710.77 L 134.18 713.28 L 134.38 716.21 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,7" id="svg-bot-2_椭圆形" node-id="70" stroke="none" target-height="21.580017" target-width="10.790009" target-x="123.59" target-y="705.42" /><path d="M 139.77 721.60 L 140.71 721.43 L 141.61 720.96 L 142.49 720.13 L 143.54 718.52 L 144.43 716.26 L 144.96 713.74 L 145.16 710.82 L 144.96 707.89 L 144.43 705.37 L 143.54 703.12 L 142.49 701.50 L 141.61 700.67 L 140.71 700.20 L 139.77 700.03 L 138.83 700.20 L 137.93 700.67 L 137.05 701.50 L 135.99 703.12 L 135.11 705.37 L 134.58 707.89 L 134.38 710.82 L 134.58 713.74 L 135.11 716.26 L 135.99 718.52 L 137.05 720.13 L 137.93 720.96 L 138.83 721.43 L 139.77 721.60 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,7" id="svg-bot-2_椭圆形备份-7" node-id="71" stroke="none" target-height="21.569946" target-width="10.779999" target-x="134.38" target-y="700.03" /><path d="M 128.98 705.42 L 139.77 700.03 L 139.77 721.60 L 128.98 727.00 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,7" id="svg-bot-2_矩形" node-id="72" stroke="none" target-height="26.96997" target-width="10.790009" target-x="128.98" target-y="700.03" /></g><g node-id="117"><path d="M 112.81 705.42 L 112.60 708.35 L 112.07 710.87 L 111.19 713.13 L 110.13 714.74 L 109.25 715.57 L 108.35 716.04 L 107.41 716.21 L 106.47 716.04 L 105.57 715.57 L 104.69 714.74 L 103.64 713.13 L 102.76 710.87 L 102.22 708.35 L 102.02 705.42 L 102.22 702.50 L 102.76 699.98 L 103.64 697.72 L 104.69 696.11 L 105.57 695.28 L 106.47 694.81 L 107.41 694.64 L 108.35 694.81 L 109.25 695.28 L 110.13 696.11 L 111.19 697.72 L 112.07 699.98 L 112.60 702.50 L 112.81 705.42 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,8" id="svg-bot-2_椭圆形" node-id="74" stroke="none" target-height="21.570007" target-width="10.790001" target-x="102.02" target-y="694.64" /><path d="M 118.20 710.82 L 119.14 710.65 L 120.04 710.18 L 120.92 709.34 L 121.97 707.73 L 122.85 705.48 L 123.39 702.96 L 123.59 700.03 L 123.39 697.10 L 122.85 694.59 L 121.97 692.33 L 120.92 690.72 L 120.04 689.89 L 119.14 689.41 L 118.20 689.25 L 117.26 689.41 L 116.36 689.89 L 115.48 690.72 L 114.42 692.33 L 113.54 694.59 L 113.01 697.10 L 112.81 700.03 L 113.01 702.96 L 113.54 705.48 L 114.42 707.73 L 115.48 709.34 L 116.36 710.18 L 117.26 710.65 L 118.20 710.82 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,8" id="svg-bot-2_椭圆形备份-7" node-id="75" stroke="none" target-height="21.570007" target-width="10.779999" target-x="112.81" target-y="689.25" /><path d="M 107.41 694.64 L 118.20 689.25 L 118.20 710.82 L 107.41 716.21 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,8" id="svg-bot-2_矩形" node-id="76" stroke="none" target-height="26.960022" target-width="10.789993" target-x="107.41" target-y="689.25" /></g><g node-id="118"><path d="M 155.95 727.00 L 155.75 729.92 L 155.21 732.44 L 154.33 734.70 L 153.28 736.31 L 152.39 737.14 L 151.50 737.61 L 150.55 737.78 L 149.61 737.61 L 148.72 737.14 L 147.83 736.31 L 146.78 734.70 L 145.90 732.44 L 145.36 729.92 L 145.16 727.00 L 145.36 724.07 L 145.90 721.55 L 146.78 719.29 L 147.83 717.68 L 148.72 716.85 L 149.61 716.38 L 150.55 716.21 L 151.50 716.38 L 152.39 716.85 L 153.28 717.68 L 154.33 719.29 L 155.21 721.55 L 155.75 724.07 L 155.95 727.00 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,9" id="svg-bot-2_椭圆形" node-id="78" stroke="none" target-height="21.570007" target-width="10.789993" target-x="145.16" target-y="716.21" /><path d="M 161.34 732.39 L 162.28 732.22 L 163.18 731.75 L 164.06 730.92 L 165.12 729.30 L 166.00 727.05 L 166.53 724.53 L 166.73 721.60 L 166.53 718.68 L 166.00 716.16 L 165.12 713.90 L 164.06 712.29 L 163.18 711.46 L 162.28 710.99 L 161.34 710.82 L 160.40 710.99 L 159.50 711.46 L 158.62 712.29 L 157.56 713.90 L 156.68 716.16 L 156.15 718.68 L 155.95 721.60 L 156.15 724.53 L 156.68 727.05 L 157.56 729.30 L 158.62 730.92 L 159.50 731.75 L 160.40 732.22 L 161.34 732.39 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,9" id="svg-bot-2_椭圆形备份-7" node-id="79" stroke="none" target-height="21.570007" target-width="10.779999" target-x="155.95" target-y="710.82" /><path d="M 150.55 716.21 L 161.34 710.82 L 161.34 732.39 L 150.55 737.78 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,9" id="svg-bot-2_矩形" node-id="80" stroke="none" target-height="26.960022" target-width="10.789993" target-x="150.55" target-y="710.82" /></g><g node-id="119"><path d="M 355.48 825.41 L 355.18 830.92 L 354.38 835.62 L 353.52 838.62 L 352.54 841.01 L 351.48 842.88 L 350.11 844.47 L 348.77 845.34 L 347.39 845.64 L 346.02 845.34 L 344.67 844.47 L 343.31 842.88 L 342.24 841.01 L 341.27 838.62 L 340.41 835.62 L 339.61 830.92 L 339.30 825.41 L 339.61 819.91 L 340.41 815.21 L 341.27 812.20 L 342.24 809.82 L 343.31 807.95 L 344.67 806.36 L 346.02 805.49 L 347.39 805.19 L 348.77 805.49 L 350.11 806.36 L 351.48 807.95 L 352.54 809.82 L 353.52 812.20 L 354.38 815.21 L 355.18 819.91 L 355.48 825.41 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,10" id="svg-bot-2_椭圆形" node-id="82" stroke="none" target-height="40.450012" target-width="16.180023" target-x="339.3" target-y="805.19" /><path d="M 363.57 837.55 L 364.95 837.25 L 366.29 836.38 L 367.65 834.79 L 368.72 832.92 L 369.70 830.54 L 370.56 827.53 L 371.36 822.83 L 371.66 817.33 L 371.36 811.83 L 370.56 807.12 L 369.70 804.12 L 368.72 801.73 L 367.65 799.86 L 366.29 798.27 L 364.95 797.40 L 363.57 797.10 L 362.20 797.40 L 360.85 798.27 L 359.49 799.86 L 358.42 801.73 L 357.45 804.12 L 356.59 807.12 L 355.78 811.83 L 355.48 817.33 L 355.78 822.83 L 356.59 827.53 L 357.45 830.54 L 358.42 832.92 L 359.49 834.79 L 360.85 836.38 L 362.20 837.25 L 363.57 837.55 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,10" id="svg-bot-2_椭圆形备份-7" node-id="83" stroke="none" target-height="40.450012" target-width="16.179993" target-x="355.48" target-y="797.1" /><path d="M 347.39 806.81 L 363.57 797.10 L 363.57 835.93 L 347.39 845.64 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,10" id="svg-bot-2_矩形" node-id="84" stroke="none" target-height="48.54004" target-width="16.179993" target-x="347.39" target-y="797.1" /></g><g node-id="120"><path d="M 199.09 508.13 L 497.17 657.33 L 497.17 694.63 L 199.09 545.43 Z" fill="#444644" fill-rule="evenodd" group-id="1,2,11" id="svg-bot-2_矩形备份-41" node-id="86" stroke="none" target-height="186.5" target-width="298.08002" target-x="199.09" target-y="508.13" /><path d="M 207.61 498.81 L 505.68 648.01 L 497.17 657.33 L 199.09 508.13 Z" fill="#696969" fill-rule="evenodd" group-id="1,2,11" id="svg-bot-2_矩形备份-42" node-id="87" stroke="none" target-height="158.52002" target-width="306.59" target-x="199.09" target-y="498.81" /><path d="M 497.17 657.33 L 506.48 648.01 L 506.48 685.31 L 497.17 694.63 Z" fill="#2b2a2a" fill-rule="evenodd" group-id="1,2,11" id="svg-bot-2_矩形" node-id="88" stroke="none" target-height="46.619995" target-width="9.309998" target-x="497.17" target-y="648.01" /><path d="M 217.72 247.03 L 497.17 384.33 L 497.17 645.43 L 217.72 508.13 Z" fill="#494a49" fill-rule="evenodd" group-id="1,2,11" id="svg-bot-2_矩形" node-id="89" stroke="none" target-height="398.4" target-width="279.45" target-x="217.72" target-y="247.03" /></g></g></g></symbol><symbol   viewBox="0 0 1051 1644" id="svg-bot-9">\r
    <title>PBA9</title>\r
    <defs>\r
        <linearGradient id="svg-bot-9_linearGradient-1" y2="50%" x2="100%" y1="50%" x1="0%">\r
            <stop offset="0%" stop-color="#252424" />\r
            <stop offset="100%" stop-color="#181818" />\r
        </linearGradient>\r
        <linearGradient id="svg-bot-9_linearGradient-2" y2="50%" x2="100%" y1="50%" x1="1.61994987%">\r
            <stop offset="0%" stop-color="#A5A5A5" />\r
            <stop offset="100%" stop-color="#7B7A7A" />\r
        </linearGradient>\r
        <linearGradient id="svg-bot-9_linearGradient-3" y2="53.5152679%" x2="33.5324159%" y1="52.2959596%" x1="10.5628407%">\r
            <stop offset="0%" stop-color="#EEECE6" />\r
            <stop offset="100%" stop-color="#BDB4A1" />\r
        </linearGradient>\r
    </defs>\r
    <g fill-rule="evenodd" fill="none" stroke-width="1" stroke="currentColor" id="svg-bot-9_页面-1">\r
        <g transform="translate(0.500000, 0.633693)" id="svg-bot-9_PBA9">\r
            <g fill-rule="nonzero" transform="translate(508.453453, 1479.969208)" id="svg-bot-9_编组-24">\r
                <g transform="translate(0.000000, 25.883740)" id="svg-bot-9_编组-23">\r
                    <path fill="url(#svg-bot-9_linearGradient-1)" id="svg-bot-9_形状结合" d="M0,14.7907085 L88.4157635,19.7209447 L88.4158196,116.802354 C88.6017545,117.471663 88.6972644,118.152109 88.6972644,118.841623 C88.6972644,119.531156 88.6017493,120.21162 88.4158045,120.880946 L88.4157635,125.721022 L85.5071674,125.557778 C78.9634845,132.156741 63.0642649,136.814054 44.4893827,136.814054 C21.7199146,136.814054 2.9709922,129.815811 0.546683008,120.821467 L0,120.790786 L0,14.7907085 Z" />\r
                    <ellipse ry="17.9724306" rx="44.2078817" cy="17.9724306" cx="44.4893827" fill="#000000" id="svg-bot-9_形状结合" />\r
                </g>\r
                <g transform="translate(31.130825, 0.000000)" id="svg-bot-9_编组-22">\r
                    <path fill="url(#svg-bot-9_linearGradient-2)" id="svg-bot-9_形状结合备份" d="M0,7.39535424 L29.4719212,9.2031075 L29.4719212,48.0698025 L28.6776991,48.0219458 C26.6911001,50.2011603 21.1995028,51.7674796 14.7359606,51.7674796 C6.59751428,51.7674796 0,49.28422 0,46.220964 L0.00102965085,46.2615849 L0,7.39535424 Z" />\r
                    <ellipse ry="5.63830199" rx="14.7359606" cy="5.63830199" cx="14.7359606" fill="#585858" id="svg-bot-9_形状结合备份-2" />\r
                </g>\r
            </g>\r
            <g fill-rule="nonzero" transform="translate(955.085487, 1259.371360)" id="svg-bot-9_编组-24备份-2">\r
                <g transform="translate(0.000000, 25.883740)" id="svg-bot-9_编组-23">\r
                    <path fill="url(#svg-bot-9_linearGradient-1)" id="svg-bot-9_形状结合" d="M0,14.7907085 L88.4157635,19.7209447 L88.4158196,116.802354 C88.6017545,117.471663 88.6972644,118.152109 88.6972644,118.841623 C88.6972644,119.531156 88.6017493,120.21162 88.4158045,120.880946 L88.4157635,125.721022 L85.5071674,125.557778 C78.9634845,132.156741 63.0642649,136.814054 44.4893827,136.814054 C21.7199146,136.814054 2.9709922,129.815811 0.546683008,120.821467 L0,120.790786 L0,14.7907085 Z" />\r
                    <ellipse ry="17.9724306" rx="44.2078817" cy="17.9724306" cx="44.4893827" fill="#000000" id="svg-bot-9_形状结合" />\r
                </g>\r
                <g transform="translate(31.130825, 0.000000)" id="svg-bot-9_编组-22">\r
                    <path fill="url(#svg-bot-9_linearGradient-2)" id="svg-bot-9_形状结合备份" d="M0,7.39535424 L29.4719212,9.2031075 L29.4719212,48.0698025 L28.6776991,48.0219458 C26.6911001,50.2011603 21.1995028,51.7674796 14.7359606,51.7674796 C6.59751428,51.7674796 0,49.28422 0,46.220964 L0.00102965085,46.2615849 L0,7.39535424 Z" />\r
                    <ellipse ry="5.63830199" rx="14.7359606" cy="5.63830199" cx="14.7359606" fill="#585858" id="svg-bot-9_形状结合备份-2" />\r
                </g>\r
            </g>\r
            <g fill-rule="nonzero" transform="translate(186.251819, 1329.340315)" id="svg-bot-9_编组-24备份">\r
                <g transform="translate(0.000000, 25.883740)" id="svg-bot-9_编组-23">\r
                    <path fill="url(#svg-bot-9_linearGradient-1)" id="svg-bot-9_形状结合" d="M0,14.7907085 L88.4157635,19.7209447 L88.4158196,116.802354 C88.6017545,117.471663 88.6972644,118.152109 88.6972644,118.841623 C88.6972644,119.531156 88.6017493,120.21162 88.4158045,120.880946 L88.4157635,125.721022 L85.5071674,125.557778 C78.9634845,132.156741 63.0642649,136.814054 44.4893827,136.814054 C21.7199146,136.814054 2.9709922,129.815811 0.546683008,120.821467 L0,120.790786 L0,14.7907085 Z" />\r
                    <ellipse ry="17.9724306" rx="44.2078817" cy="17.9724306" cx="44.4893827" fill="#000000" id="svg-bot-9_形状结合" />\r
                </g>\r
                <g transform="translate(31.130825, 0.000000)" id="svg-bot-9_编组-22">\r
                    <path fill="url(#svg-bot-9_linearGradient-2)" id="svg-bot-9_形状结合备份" d="M0,7.39535424 L29.4719212,9.2031075 L29.4719212,48.0698025 L28.6776991,48.0219458 C26.6911001,50.2011603 21.1995028,51.7674796 14.7359606,51.7674796 C6.59751428,51.7674796 0,49.28422 0,46.220964 L0.00102965085,46.2615849 L0,7.39535424 Z" />\r
                    <ellipse ry="5.63830199" rx="14.7359606" cy="5.63830199" cx="14.7359606" fill="#585858" id="svg-bot-9_形状结合备份-2" />\r
                </g>\r
            </g>\r
            <g fill-rule="nonzero" transform="translate(611.605177, 1126.909038)" id="svg-bot-9_编组-24备份-3">\r
                <g transform="translate(0.000000, 25.883740)" id="svg-bot-9_编组-23">\r
                    <path fill="url(#svg-bot-9_linearGradient-1)" id="svg-bot-9_形状结合" d="M0,14.7907085 L88.4157635,19.7209447 L88.4158196,116.802354 C88.6017545,117.471663 88.6972644,118.152109 88.6972644,118.841623 C88.6972644,119.531156 88.6017493,120.21162 88.4158045,120.880946 L88.4157635,125.721022 L85.5071674,125.557778 C78.9634845,132.156741 63.0642649,136.814054 44.4893827,136.814054 C21.7199146,136.814054 2.9709922,129.815811 0.546683008,120.821467 L0,120.790786 L0,14.7907085 Z" />\r
                    <ellipse ry="17.9724306" rx="44.2078817" cy="17.9724306" cx="44.4893827" fill="#000000" id="svg-bot-9_形状结合" />\r
                </g>\r
                <g transform="translate(31.130825, 0.000000)" id="svg-bot-9_编组-22">\r
                    <path fill="url(#svg-bot-9_linearGradient-2)" id="svg-bot-9_形状结合备份" d="M0,7.39535424 L29.4719212,9.2031075 L29.4719212,48.0698025 L28.6776991,48.0219458 C26.6911001,50.2011603 21.1995028,51.7674796 14.7359606,51.7674796 C6.59751428,51.7674796 0,49.28422 0,46.220964 L0.00102965085,46.2615849 L0,7.39535424 Z" />\r
                    <ellipse ry="5.63830199" rx="14.7359606" cy="5.63830199" cx="14.7359606" fill="#585858" id="svg-bot-9_形状结合备份-2" />\r
                </g>\r
            </g>\r
            <polygon points="598.74197 518.806372 1050 196.615434 1050 1291.03474 578.663779 1546.91275 578.449265 561.964291" fill-rule="nonzero" fill="#DED9D1" id="svg-bot-9_矩形" />\r
            <polygon points="0.51482543 454.453194 345.212256 215.78566 683.510375 401.849626 296.02462 611.989774" fill-rule="nonzero" fill="url(#svg-bot-9_linearGradient-3)" id="svg-bot-9_路径-10" />\r
            <polygon points="995.452395 305.834589 993.616985 672.488122 672.233771 886.743597 672.002552 537.332778" fill-rule="nonzero" fill="#0C0C0C" id="svg-bot-9_矩形" />\r
            <polygon points="181.701498 1354.72266 179.97182 366.564345 580.291261 560.137718 582.020939 1546.42493" fill-rule="nonzero" fill="#E9E5DD" id="svg-bot-9_路径-16" />\r
            <polygon points="209.56659 678.829835 208.078753 449.047459 552.426168 615.555711 553.914005 843.728598" fill-rule="nonzero" fill="#E9E5DD" stroke-width="0.5" stroke="#6E6E6E" id="svg-bot-9_路径-16" />\r
            <g transform="translate(242.662278, 488.515572)" id="svg-bot-9_路径-16">\r
                <g fill="#E9E5DD" transform="translate(0.000000, 0.000000)" id="svg-bot-9_path-4-link">\r
                    <polygon points="1.19026918 183.825902 -2.92644373e-14 1.17057749e-13 275.477932 133.206602 276.668201 315.744912" id="svg-bot-9_path-4" />\r
                </g>\r
                <g fill-rule="nonzero" fill="#000000" transform="translate(0.000000, 0.000000)" id="svg-bot-9_path-4-link">\r
                    <polygon points="1.19026918 183.825902 -2.92644373e-14 1.17057749e-13 275.477932 133.206602 276.668201 315.744912" id="svg-bot-9_path-4" />\r
                </g>\r
            </g>\r
            <polygon points="313.905079 672.495173 313.224926 567.4518 470.640887 643.569859 471.321041 747.877464" fill-rule="nonzero" fill="#8EC1E9" stroke-width="1.5" stroke="#000000" id="svg-bot-9_路径-16" />\r
            <polygon points="209.56659 1287.76645 208.078753 753.515766 552.426168 920.024018 553.914005 1452.66522" fill-rule="nonzero" fill="#E9E5DD" stroke-width="0.5" stroke="#6E6E6E" id="svg-bot-9_路径-16备份-3" />\r
            <polygon points="204.254706 317.275096 653.768893 2.92644373e-14 1050 196.615434 598.935845 520.253968" fill-rule="nonzero" fill="#FFFCF3" id="svg-bot-9_路径-16备份-2" />\r
            <polygon points="204.254706 317.275096 600.598133 515.717102 576.382637 565.360384 180.039209 366.918378" fill-rule="nonzero" fill="#F8F6EF" id="svg-bot-9_矩形" />\r
            <path fill-rule="nonzero" fill="#DED9D1" id="svg-bot-9_路径-12" d="M186.225252,937.488316 C157.347841,877.191105 128.752241,828.050658 100.438452,790.066975 C72.1246632,752.083292 38.860394,718.237117 0.645644105,688.528449 L0.645644105,579.368301 L23.8290419,525.89227 L1.27583391,514.615665 L0.645644105,453.227684 L188.940931,554.844152 L186.225252,937.488316 Z" />\r
            <polygon points="238.084518 1002.90492 260.592799 1013.28989 260.637725 1078.44586 238.129444 1068.0609" fill-rule="nonzero" fill="#000000" id="svg-bot-9_矩形备份-4" />\r
            <polygon points="514.361315 971.318127 565.061106 990.736683 565.106033 1033.33945 514.406241 1013.92089" fill-rule="nonzero" fill="#000000" id="svg-bot-9_矩形备份-60" />\r
            <polygon points="525.637919 644.296611 576.337711 663.715167 576.382637 706.317934 525.682846 686.899378" fill-rule="nonzero" fill="#000000" id="svg-bot-9_矩形备份-63" />\r
            <polygon points="525.637919 757.062651 576.337711 776.481207 576.382637 819.083973 525.682846 799.665418" fill-rule="nonzero" fill="#000000" id="svg-bot-9_矩形备份-64" />\r
            <polygon points="514.361315 1140.46719 565.061106 1159.88575 565.106033 1202.48851 514.406241 1183.06995" fill-rule="nonzero" fill="#000000" id="svg-bot-9_矩形备份-61" />\r
            <polygon points="514.361315 1309.61624 565.061106 1329.0348 565.106033 1371.63757 514.406241 1352.21902" fill-rule="nonzero" fill="#000000" id="svg-bot-9_矩形备份-62" />\r
            <line stroke-dasharray="3" stroke-width="0.5" stroke="#979797" id="svg-bot-9_路径-9" y2="616.105101" x2="187.339799" y1="527.043579" x1="23.6819696" />\r
            <line stroke="#979797" id="svg-bot-9_路径-9备份" y2="683.764725" x2="187.339799" y1="579.555773" x1="-1.46322187e-14" />\r
            <g fill-rule="nonzero" transform="translate(305.744142, 103.019621)" id="svg-bot-9_编组-11">\r
                <rect rx="2" height="47.5065763" width="94.9101238" y="198.426867" x="0" opacity="0.410433815" fill="#5B5B5A" id="svg-bot-9_矩形备份-33" />\r
                <rect height="180.425664" width="47.455062" y="41.7544909" x="23.7275309" fill="#C4E4E3" id="svg-bot-9_矩形" />\r
                <path fill="#FC2727" id="svg-bot-9_矩形备份-30" d="M47.455062,0 C60.5594154,0 71.1825929,10.6231775 71.1825929,23.7275309 L71.1825929,71.2598645 L71.1825929,71.2598645 L23.7275309,71.2598645 L23.7275309,23.7275309 C23.7275309,10.6231775 34.3507084,0 47.455062,0 Z" />\r
                <rect height="47.5065763" width="47.455062" y="47.5065763" x="23.7275309" fill="#FFFD54" id="svg-bot-9_矩形备份-31" />\r
                <rect height="47.5065763" width="47.455062" y="95.0131526" x="23.7275309" fill="#73FF54" id="svg-bot-9_矩形备份-32" />\r
            </g>\r
        </g>\r
    </g>\r
</symbol><symbol viewBox="0 0 1024 1024"  id="svg-clock-a">\r
    <path d="M512.3 518.9m-469.2 0a469.2 469.2 0 1 0 938.4 0 469.2 469.2 0 1 0-938.4 0Z" fill="#B4B4B4"></path>\r
    <path d="M512.3 518.9m-392.5 0a392.5 392.5 0 1 0 785 0 392.5 392.5 0 1 0-785 0Z" fill="#FFFFFF"></path>\r
    <path d="M512.3 523.8c-4.5 0-9-1.7-12.4-5.1L318.3 337.1c-6.8-6.8-6.8-17.9 0-24.8 6.8-6.8 17.9-6.8 24.8 0L524.7 494c6.8 6.8 6.8 17.9 0 24.8-3.5 3.3-7.9 5-12.4 5z" fill="#545454">\r
        <animateTransform attributeName="transform" attributeType="XML" type="rotate" from="45 512 512" to="405 512 512" dur="3600s" repeatCount="indefinite" />\r
    </path>\r
    <path d="M512.3 523.8c-4.5 0-9-1.7-12.4-5.1-6.8-6.8-6.8-17.9 0-24.8l130.8-130.8c6.8-6.8 17.9-6.8 24.8 0 6.8 6.8 6.8 17.9 0 24.8L524.7 518.7c-3.5 3.4-7.9 5.1-12.4 5.1z" fill="#292929">\r
        <animateTransform attributeName="transform" attributeType="XML" type="rotate" from="-45 512 512" to="315 512 512" dur="43200s" repeatCount="indefinite" />\r
    </path>\r
    <path d="M512.3 506.3m-47.5 0a47.5 47.5 0 1 0 95 0 47.5 47.5 0 1 0-95 0Z" fill="#919191"></path>\r
    <path d="M512.3 218.8c-9 0-16.3-7.3-16.3-16.3v-29.1c0-9 7.3-16.3 16.3-16.3s16.3 7.3 16.3 16.3v29.1c0 9-7.4 16.3-16.3 16.3zM512.3 880.8c-9 0-16.3-7.3-16.3-16.3v-29.1c0-9 7.3-16.3 16.3-16.3s16.3 7.3 16.3 16.3v29.1c0 9-7.4 16.3-16.3 16.3zM812.4 518.9c0-9 7.3-16.3 16.3-16.3h29.1c9 0 16.3 7.3 16.3 16.3s-7.3 16.3-16.3 16.3h-29.1c-8.9 0-16.3-7.3-16.3-16.3zM150.4 518.9c0-9 7.3-16.3 16.3-16.3h29.1c9 0 16.3 7.3 16.3 16.3s-7.3 16.3-16.3 16.3h-29.1c-8.9 0-16.3-7.3-16.3-16.3z" fill="#323232"></path>\r
    <path d="M296.9 733.5c-2.2 0-4.5-0.9-6.2-2.6-3.4-3.4-3.4-9 0-12.4L540 469.2c3.4-3.4 9-3.4 12.4 0 3.4 3.4 3.4 9 0 12.4L303.1 731c-1.7 1.7-4 2.5-6.2 2.5z" fill="#919191">\r
        <animateTransform attributeName="transform" attributeType="XML" type="rotate" from="135 512 512" to="495 512 512" dur="60s" repeatCount="indefinite" />\r
    </path>\r
    <path d="M512.3 506.3m-22.8 0a22.8 22.8 0 1 0 45.6 0 22.8 22.8 0 1 0-45.6 0Z" fill="#FFFFFF"></path>\r
</symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-common-table"><path d="M928 96v832h-832V416.96h64v203.776h204.8V384h23.296v-19.2L620.8 364.736V160H416v-64h512z m-563.2 563.136H160V864h204.8v-204.864z m38.4 0V864h217.536v-204.864H403.2z m460.8 0h-204.864V864H864v-204.864z m-460.8-256v217.6h217.536v-217.6H403.2z m460.8 0h-204.864v217.6H864v-217.6z m0-38.4V160h-204.864v204.736H864z" fill="#324558" p-id="14150" /><path d="M415.936 353.024v49.92l207.36 0.064v217.984H400.64V417.024h-48.768v-64h64z m-128 0v64h-64v-64h64z m-128 0v64h-64v-64h64z m0-128.512v64h-64v-64h64z m256 0v64h-64v-64h64z m-256-128.448v64h-64v-64h64z m128 0v64h-64v-64h64z m128 0v64h-64v-64h64z" fill="#41A368" p-id="14151" /></symbol><symbol class="icon" viewBox="0 0 1979 1024"   id="svg-el-button"><path d="M409.6 320.853333c34.133333 0 61.44 6.826667 75.093333 27.306667 20.48 13.653333 27.306667 34.133333 27.306667 61.44 0 20.48-6.826667 34.133333-13.653333 47.786667-6.826667 13.653333-20.48 20.48-34.133334 27.306666 20.48 6.826667 40.96 13.653333 47.786667 27.306667s20.48 34.133333 20.48 54.613333c0 34.133333-13.653333 61.44-34.133333 75.093334-20.48 13.653333-47.786667 20.48-81.92 20.48H252.586667v-341.333334H409.6zM307.2 464.213333h88.746667c27.306667 0 40.96-6.826667 54.613333-13.653333 13.653333-6.826667 13.653333-20.48 13.653333-40.96s-6.826667-27.306667-13.653333-34.133333c-13.653333-6.826667-27.306667-13.653333-47.786667-13.653334H307.2v102.4z m0 157.013334h95.573333c20.48 0 40.96-6.826667 54.613334-13.653334 13.653333-6.826667 20.48-20.48 20.48-40.96s-6.826667-34.133333-20.48-40.96c-13.653333-6.826667-27.306667-13.653333-54.613334-13.653333H307.2v109.226667zM628.053333 416.426667v150.186666c0 20.48 6.826667 34.133333 13.653334 47.786667 6.826667 6.826667 20.48 13.653333 40.96 13.653333 13.653333 0 27.306667-6.826667 34.133333-13.653333 13.653333-13.653333 20.48-27.306667 27.306667-40.96V423.253333h47.786666v245.76h-47.786666v-34.133333c-20.48 27.306667-47.786667 40.96-75.093334 40.96-61.44 0-88.746667-34.133333-88.746666-102.4V416.426667h47.786666zM928.426667 416.426667h54.613333v40.96h-54.613333v143.36c0 6.826667 0 13.653333 6.826666 13.653333 0 0 6.826667 6.826667 13.653334 6.826667h34.133333v40.96h-40.96c-20.48 0-34.133333-6.826667-47.786667-13.653334-6.826667-13.653333-13.653333-27.306667-13.653333-47.786666V457.386667h-47.786667v-40.96h47.786667v-61.44l47.786667-20.48v81.92zM1099.093333 416.426667h54.613334v40.96h-54.613334v143.36c0 6.826667 0 13.653333 6.826667 13.653333 0 0 6.826667 6.826667 13.653333 6.826667h34.133334v40.96h-40.96c-20.48 0-34.133333-6.826667-47.786667-13.653334-6.826667-13.653333-13.653333-27.306667-13.653333-47.786666V457.386667h-47.786667v-40.96h47.786667v-61.44l47.786666-20.48v81.92zM1399.466667 443.733333c20.48 27.306667 34.133333 54.613333 34.133333 95.573334 0 34.133333-13.653333 68.266667-34.133333 95.573333-20.48 27.306667-54.613333 40.96-88.746667 40.96s-68.266667-13.653333-88.746667-40.96c-20.48-27.306667-34.133333-54.613333-34.133333-95.573333 0-40.96 13.653333-68.266667 34.133333-95.573334 20.48-27.306667 54.613333-34.133333 88.746667-34.133333 40.96 0 68.266667 13.653333 88.746667 34.133333z m-143.36 34.133334c-13.653333 13.653333-13.653333 34.133333-13.653334 61.44s6.826667 47.786667 13.653334 61.44c13.653333 20.48 34.133333 27.306667 54.613333 27.306666 20.48 0 40.96-6.826667 54.613333-27.306666 13.653333-13.653333 20.48-34.133333 20.48-61.44s-6.826667-47.786667-20.48-61.44c-13.653333-20.48-34.133333-27.306667-54.613333-27.306667-20.48 0-40.96 6.826667-54.613333 27.306667zM1699.84 512v150.186667h-47.786667V512c0-40.96-20.48-61.44-54.613333-61.44-13.653333 0-27.306667 6.826667-40.96 13.653333-13.653333 13.653333-20.48 27.306667-20.48 47.786667v150.186667h-47.786667V416.426667h47.786667v27.306666c6.826667-13.653333 20.48-20.48 34.133333-27.306666 13.653333-6.826667 27.306667-6.826667 40.96-6.826667 54.613333 0 88.746667 34.133333 88.746667 102.4z" fill="#515151" p-id="8648" data-spm-anchor-id="a313x.search_index.0.i1.117f3a81AAHUyn" class="" /><path d="M1877.333333 1024h-1774.933333C47.786667 1024 0 976.213333 0 921.6v-819.2C0 47.786667 47.786667 0 102.4 0h1774.933333c54.613333 0 102.4 47.786667 102.4 102.4v819.2c0 54.613333-47.786667 102.4-102.4 102.4zM102.4 68.266667c-20.48 0-34.133333 13.653333-34.133333 34.133333v819.2c0 20.48 13.653333 34.133333 34.133333 34.133333h1774.933333c20.48 0 34.133333-13.653333 34.133334-34.133333v-819.2c0-20.48-13.653333-34.133333-34.133334-34.133333h-1774.933333z" fill="#bfbfbf" p-id="8649" data-spm-anchor-id="a313x.search_index.0.i2.117f3a81AAHUyn" class="" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-el-tag"><path d="M247.164 308.281c-33.742 0-61.116 27.385-61.116 61.116 0 33.761 27.374 61.156 61.116 61.156 33.76 0 61.116-27.395 61.116-61.156 0-33.731-27.355-61.116-61.116-61.116m0 81.488c-11.26 0-20.372-9.102-20.372-20.372 0-11.24 9.111-20.372 20.372-20.372s20.372 9.132 20.372 20.372c0 11.27-9.112 20.372-20.372 20.372m244.464 244.463c5.63 0 10.723-2.248 14.403-5.989l40.744-40.743a20.125 20.125 0 0 0 5.967-14.345c0-11.28-9.11-20.411-20.37-20.411-5.61 0-10.704 2.287-14.405 5.988l-40.743 40.744c-3.68 3.7-5.968 8.754-5.968 14.384-0.001 11.28 9.111 20.372 20.372 20.372m462.585-156.988L546.775 69.806a20.248 20.248 0 0 0-14.404-5.99H247.164c-33.742 0-61.116 27.386-61.116 61.117 0 11.271 9.11 20.372 20.37 20.372s20.373-9.102 20.373-20.372c0-11.24 9.111-20.372 20.372-20.372h276.773l387.067 387.107-46.712 46.692c-3.68 3.69-5.968 8.764-5.968 14.385 0 11.28 9.132 20.41 20.372 20.41 5.63 0 10.723-2.286 14.403-6.027l61.116-61.106a20.247 20.247 0 0 0 5.969-14.354c-0.001-5.659-2.29-10.733-5.97-14.424M389.768 695.348c0 11.28 9.111 20.372 20.372 20.372 5.63 0 10.723-2.248 14.403-5.989l20.372-20.372a20.127 20.127 0 0 0 5.969-14.344c0-11.28-9.112-20.411-20.372-20.411a20.245 20.245 0 0 0-14.404 5.988l-20.371 20.372c-3.681 3.702-5.97 8.793-5.97 14.384m34.776-503.311a20.247 20.247 0 0 0-14.403-5.989H124.932c-33.742 0-61.116 27.385-61.116 61.116v285.208c0 5.63 2.287 10.723 5.968 14.393l407.44 407.43c3.7 3.74 8.793 5.988 14.402 5.988 5.63 0 10.724-2.248 14.404-5.989l325.952-325.95c3.7-3.66 5.968-8.754 5.968-14.384s-2.287-10.682-5.968-14.384l-407.44-407.44z m67.085 718.988L104.56 523.947V247.164c0-11.24 9.11-20.37 20.37-20.37h276.773L788.772 613.86 491.628 911.025z m0-113.817c5.63 0 10.723-2.248 14.403-5.989l81.487-81.488a20.231 20.231 0 0 0 5.97-14.384c0-11.26-9.112-20.332-20.373-20.332-5.63 0-10.723 2.248-14.403 5.948l-81.488 81.488c-3.68 3.7-5.968 8.753-5.968 14.424-0.001 11.24 9.111 20.333 20.372 20.333" p-id="18247" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-hamburger"><path d="M691.3024 176.5376c47.3088 36.864 77.824 94.4128 77.824 159.0272 0 20.2752-16.384 36.6592-36.6592 36.6592h-584.704c0 1.6384-0.1024 3.3792-0.1024 5.12 0 20.2752 16.384 36.6592 36.6592 36.6592h655.36c20.2752 0 36.6592-16.384 36.6592-36.6592 0-105.8816-81.5104-192.512-185.0368-200.8064z" fill="#FFA43E" p-id="1687" /><path d="M769.1264 335.4624c0-64.6144-30.5152-122.1632-77.824-159.0272-5.4272-0.4096-10.8544-0.6144-16.2816-0.6144H349.0816c-109.568 0-198.656 87.4496-201.3184 196.3008h584.704c20.1728 0 36.5568-16.384 36.6592-36.6592z" fill="#FFD14F" p-id="1688" /><path d="M814.6944 512.4096h-48.9472c2.1504 6.2464 3.2768 12.9024 3.2768 19.8656V606.208c0 33.9968-27.648 61.6448-61.6448 61.6448H150.9376c8.2944 24.2688 31.232 41.6768 58.368 41.6768h605.3888c33.9968 0 61.6448-27.648 61.6448-61.6448v-73.9328c0-33.8944-27.5456-61.5424-61.6448-61.5424z" fill="#E01E22" p-id="1689" /><path d="M769.1264 606.3104v-73.9328c0-6.9632-1.2288-13.6192-3.2768-19.8656H209.3056c-33.9968 0-61.6448 27.648-61.6448 61.6448v73.9328c0 6.9632 1.1264 13.6192 3.2768 19.8656h556.544c33.9968-0.1024 61.5424-27.648 61.6448-61.6448z" fill="#F06661" p-id="1690" /><path d="M835.1744 413.7984H769.024v15.6672c0 22.7328-18.432 41.1648-41.1648 41.1648H147.6608v0.512c0 22.7328 18.432 41.1648 41.1648 41.1648h646.3488c22.7328 0 41.1648-18.432 41.1648-41.1648v-16.2816c0-22.6304-18.432-41.0624-41.1648-41.0624z" fill="#3EBA4A" p-id="1691" /><path d="M769.1264 429.568v-15.6672H188.8256c-22.7328 0-41.1648 18.432-41.1648 41.1648v15.6672h580.3008c22.6304 0 41.0624-18.432 41.1648-41.1648z" fill="#68E077" p-id="1692" /><path d="M848.384 709.632H769.024v14.336c0 45.568-36.864 82.432-82.432 82.432H158.4128c14.2336 24.8832 40.96 41.6768 71.68 41.6768h563.8144c45.568 0 82.432-36.864 82.432-82.432v-28.16c0-15.36-12.4928-27.8528-27.9552-27.8528z" fill="#FFA43E" p-id="1693" /><path d="M769.1264 723.968v-14.336H175.616c-15.4624 0-27.9552 12.4928-27.9552 27.9552v28.16c0 14.848 3.8912 28.672 10.752 40.7552h528.1792c45.568-0.1024 82.5344-36.9664 82.5344-82.5344z" fill="#FFD14F" p-id="1694" /><path d="M420.7616 540.5696l-68.9152 68.9152 26.112 26.112 95.1296-95.1296c18.0224-18.0224 42.496-28.16 67.9936-28.16h-52.3264c-25.6 0.1024-49.9712 10.24-67.9936 28.2624z" fill="#FFA43E" p-id="1695" /><path d="M488.6528 512.4096H214.9376c25.4976 0 49.9712 10.1376 67.9936 28.16l68.9152 68.9152 68.9152-68.9152c18.0224-18.0224 42.496-28.16 67.8912-28.16z" fill="#FFD14F" p-id="1696" /><path d="M499.2 264.0896a26.3168 15.4624 90 1 0 30.9248 0 26.3168 15.4624 90 1 0-30.9248 0Z" fill="#FDF7E5" p-id="1697" /><path d="M377.060391 277.944478a15.4624 26.3168 30 1 0 26.3168-45.582035 15.4624 26.3168 30 1 0-26.3168 45.582035Z" fill="#FDF7E5" p-id="1698" /><path d="M625.699208 262.908333a26.3168 15.4624 60 1 0 26.781662-15.4624 26.3168 15.4624 60 1 0-26.781662 15.4624Z" fill="#FDF7E5" p-id="1699" /><path d="M867.4304 415.0272c11.5712-8.4992 19.1488-22.3232 19.1488-37.7856 0-116.736-94.9248-211.6608-211.6608-211.6608H349.0816c-116.736 0-211.6608 94.9248-211.6608 211.6608 0 15.4624 7.5776 29.184 19.1488 37.7856-11.6736 9.4208-19.1488 23.8592-19.1488 40.0384v16.2816c0 19.968 11.4688 37.2736 28.16 45.7728-17.1008 13.1072-28.16 33.792-28.16 56.9344v73.9328c0 21.504 9.5232 40.7552 24.4736 53.9648-14.336 5.5296-24.4736 19.3536-24.4736 35.6352v28.16c0 51.0976 41.5744 92.672 92.672 92.672h563.8144c51.0976 0 92.672-41.5744 92.672-92.672v-28.16c0-16.1792-10.1376-30.1056-24.4736-35.6352 14.9504-13.2096 24.4736-32.4608 24.4736-53.9648v-73.9328c0-23.1424-11.0592-43.8272-28.16-56.9344 16.6912-8.4992 28.16-25.8048 28.16-45.7728v-16.2816c0-16.1792-7.4752-30.6176-19.1488-40.0384zM184.32 403.5584c-14.5408 0-26.4192-11.776-26.4192-26.4192 0-105.3696 85.8112-191.1808 191.1808-191.1808h325.9392c105.3696 0 191.1808 85.8112 191.1808 191.1808 0 14.5408-11.776 26.4192-26.4192 26.4192H184.32z m293.888 119.0912c-4.4032 3.1744-8.4992 6.7584-12.3904 10.6496l-87.8592 87.8592-87.8592-87.8592c-3.8912-3.8912-8.0896-7.4752-12.3904-10.6496H478.208z m387.8912 243.0976c0 39.8336-32.3584 72.192-72.192 72.192H230.0928c-39.8336 0-72.192-32.3584-72.192-72.192v-28.16c0-9.728 7.9872-17.7152 17.7152-17.7152h672.8704c9.728 0 17.7152 7.9872 17.7152 17.7152v28.16z m0-191.6928v73.9328c0 28.3648-23.04 51.4048-51.4048 51.4048H209.3056c-28.3648 0-51.4048-23.04-51.4048-51.4048v-73.9328c0-28.3648 23.04-51.4048 51.4048-51.4048h5.632c22.9376 0 44.544 8.9088 60.7232 25.1904l95.1296 95.1296c1.9456 1.9456 4.5056 2.9696 7.2704 2.9696 2.6624 0 5.3248-1.024 7.2704-2.9696L480.256 547.84c16.1792-16.1792 37.7856-25.1904 60.7232-25.1904h273.7152c28.3648 0 51.4048 23.1424 51.4048 51.4048z m0-102.8096c0 17.1008-13.824 30.9248-30.9248 30.9248H188.8256c-16.9984 0-30.9248-13.824-30.9248-30.9248v-16.2816c0-17.1008 13.9264-30.9248 30.9248-30.9248h646.3488c17.1008 0 30.9248 13.9264 30.9248 30.9248v16.2816z m-72.192 387.1744zM377.9584 645.9392z m136.704-351.4368c10.9568 0 19.5584-13.4144 19.5584-30.4128 0-17.1008-8.6016-30.4128-19.5584-30.4128s-19.5584 13.4144-19.5584 30.4128c0 17.1008 8.6016 30.4128 19.5584 30.4128z m0-52.6336c5.3248 0 11.3664 9.1136 11.3664 22.2208 0 13.1072-5.9392 22.2208-11.3664 22.2208s-11.3664-9.1136-11.3664-22.2208c0-13.1072 6.0416-22.2208 11.3664-22.2208z m-139.5712 39.6288c2.1504 1.2288 4.5056 1.8432 7.0656 1.8432 3.2768 0 6.7584-1.024 10.3424-3.072 5.632-3.1744 10.8544-8.704 14.7456-15.36 8.4992-14.7456 7.7824-30.6176-1.7408-36.1472-4.9152-2.8672-11.0592-2.3552-17.408 1.2288-5.632 3.1744-10.8544 8.704-14.7456 15.36-8.4992 14.7456-7.7824 30.6176 1.7408 36.1472z m5.3248-32.0512c3.072-5.4272 7.3728-9.9328 11.6736-12.3904 2.2528-1.3312 4.4032-1.9456 6.2464-1.9456 1.1264 0 2.1504 0.2048 2.9696 0.7168 4.608 2.6624 5.2224 13.6192-1.3312 24.9856-3.072 5.4272-7.3728 9.9328-11.6736 12.3904-3.6864 2.048-7.0656 2.56-9.216 1.2288-4.608-2.7648-5.2224-13.6192 1.3312-24.9856zM636.928 280.2688c3.584 2.048 7.0656 3.072 10.3424 3.072 2.56 0 4.9152-0.6144 7.0656-1.8432 9.5232-5.5296 10.24-21.4016 1.7408-36.1472-3.8912-6.7584-9.1136-12.1856-14.7456-15.36-6.3488-3.584-12.4928-3.9936-17.408-1.2288-9.5232 5.5296-10.24 21.4016-1.7408 36.1472 3.8912 6.656 9.1136 12.1856 14.7456 15.36z m-9.0112-44.4416c2.2528-1.3312 5.632-0.8192 9.216 1.2288 4.3008 2.4576 8.6016 6.9632 11.6736 12.3904 6.5536 11.3664 5.9392 22.3232 1.3312 24.9856-2.2528 1.3312-5.632 0.8192-9.216-1.2288-4.3008-2.4576-8.6016-6.9632-11.6736-12.3904-6.5536-11.3664-5.9392-22.2208-1.3312-24.9856z" p-id="1700" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-hotpot"><path d="M962.4576 438.4768h-64.3072c-11.6736-61.6448-37.6832-118.1696-74.5472-165.9904 17.6128 48.0256 27.136 99.84 27.136 153.9072 0 246.9888-200.192 447.1808-447.1808 447.1808-17.92 0-35.5328-1.024-52.8384-3.072 49.152 22.1184 103.7312 34.5088 161.1776 34.5088 192 0 351.744-137.6256 386.1504-319.5904h64.3072c10.752 0 19.456-8.704 19.456-19.456V457.9328c0.1024-10.752-8.6016-19.456-19.3536-19.456z" fill="#FFA43E" p-id="1853" /><path d="M850.8416 426.496c0-54.0672-9.6256-105.8816-27.136-153.9072-71.8848-93.3888-184.7296-153.6-311.7056-153.6-192 0-351.744 137.6256-386.1504 319.5904H61.5424c-10.752 0-19.456 8.704-19.456 19.456v108.1344c0 10.752 8.704 19.456 19.456 19.456h64.3072c24.1664 127.488 109.7728 233.2672 224.9728 285.0816 17.3056 2.048 34.9184 3.072 52.8384 3.072 246.9888-0.1024 447.1808-200.3968 447.1808-447.2832z" fill="#FFD14F" p-id="1854" /><path d="M680.6528 681.6768c0-93.184-75.5712-168.6528-168.6528-168.6528s-168.6528-75.5712-168.6528-168.6528S418.816 175.616 512 175.616v-1.9456c-186.88 0-338.3296 151.4496-338.3296 338.3296S325.12 850.3296 512 850.3296c93.184 0 168.6528-75.4688 168.6528-168.6528z" fill="#FDF7E5" p-id="1855" /><path d="M512 173.6704v1.9456c-93.184 0-168.6528 75.5712-168.6528 168.6528S418.816 512.9216 512 512.9216s168.6528 75.5712 168.6528 168.6528S605.184 850.3296 512 850.3296c186.88 0 338.3296-151.4496 338.3296-338.3296S698.88 173.6704 512 173.6704z" fill="#E01E22" p-id="1856" /><path d="M557.568 394.1376l19.5584-19.5584c27.648-27.648-27.4432-82.6368-54.9888-54.9888L391.5776 450.048s6.2464 29.3888 62.464 52.6336 92.16 11.5712 92.16 11.5712l59.8016-59.8016c27.5456-27.5456-20.8896-87.8592-48.4352-60.3136z" fill="#F06661" p-id="1857" /><path d="M592.4864 444.7232c14.336-14.336-17.5104-46.08-31.744-31.744-14.336 14.336 17.408 46.08 31.744 31.744z" fill="#E01E22" p-id="1858" /><path d="M349.4912 488.7552c0-14.9504-10.9568-27.7504-26.4192-32.768 3.3792 5.12 5.4272 11.0592 5.4272 17.408 0 12.1856-7.2704 22.9376-18.2272 29.184 1.536 3.9936 2.3552 8.192 2.3552 12.5952 0 21.9136-20.6848 39.7312-46.2848 39.7312-6.4512 0-12.5952-1.1264-18.2272-3.1744 8.192 11.1616 22.6304 18.6368 39.2192 18.6368 25.6 0 46.2848-17.8176 46.2848-39.7312 0-4.4032-0.8192-8.6016-2.3552-12.5952 10.9568-6.3488 18.2272-17.1008 18.2272-29.2864z" fill="#3EBA4A" p-id="1859" /><path d="M312.6272 515.1744c0-4.4032-0.8192-8.6016-2.3552-12.5952 10.9568-6.2464 18.2272-16.9984 18.2272-29.184 0-6.3488-1.9456-12.288-5.4272-17.408-4.5056-1.4336-9.4208-2.2528-14.5408-2.2528-14.6432 0-27.5456 6.656-34.7136 16.5888-5.9392-3.9936-13.312-6.3488-21.4016-6.3488-19.2512 0-34.9184 13.4144-34.9184 30.0032 0 13.4144 10.24 24.7808 24.4736 28.5696-0.6144 2.56-0.9216 5.3248-0.9216 8.0896 0 7.7824 2.6624 15.0528 7.0656 21.1968 5.632 2.048 11.776 3.1744 18.2272 3.1744 25.6-0.1024 46.2848-17.92 46.2848-39.8336z" fill="#68E077" p-id="1860" /><path d="M558.6944 620.4416c14.848 17.8176 21.1968 41.1648 15.1552 64.512-10.8544 42.2912-58.0608 68.8128-105.472 59.0848-4.8128-1.024-9.4208-2.2528-13.824-3.8912 12.0832 14.4384 29.696 25.3952 50.9952 29.696 47.4112 9.728 94.6176-16.7936 105.472-59.0848 9.728-38.0928-13.2096-75.9808-52.3264-90.3168zM432.5376 586.8544c13.4144 16.0768 19.1488 37.1712 13.7216 58.2656-9.8304 38.2976-52.5312 62.1568-95.3344 53.4528-4.3008-0.9216-8.4992-2.048-12.4928-3.584 10.8544 13.1072 26.9312 22.9376 46.08 26.8288 42.9056 8.704 85.6064-15.1552 95.3344-53.4528 8.8064-34.304-11.9808-68.608-47.3088-81.5104z" fill="#7C4115" p-id="1861" /><path d="M446.2592 645.12c5.4272-21.0944-0.3072-42.1888-13.7216-58.2656-3.9936-1.4336-8.192-2.6624-12.4928-3.584-42.9056-8.704-85.6064 15.1552-95.3344 53.4528-5.4272 21.0944 0.3072 42.1888 13.7216 58.2656 3.9936 1.4336 8.192 2.6624 12.4928 3.584 42.8032 8.704 85.504-15.1552 95.3344-53.4528zM573.8496 684.9536c5.9392-23.3472-0.3072-46.592-15.1552-64.512-4.4032-1.6384-9.0112-2.9696-13.824-3.8912-47.4112-9.728-94.6176 16.7936-105.472 59.0848-5.9392 23.3472 0.4096 46.592 15.2576 64.512 4.4032 1.6384 9.0112 2.9696 13.824 3.8912 47.3088 9.6256 94.5152-16.7936 105.3696-59.0848z" fill="#8B5526" p-id="1862" /><path d="M542.3104 676.1472l33.28 13.824-37.6832 1.1264c-2.7648 0.1024-5.2224 1.3312-6.5536 3.1744l-17.6128 26.0096-1.4336-29.3888c-0.1024-2.1504-1.6384-4.096-4.096-5.12l-33.28-13.824 37.6832-1.1264c2.7648-0.1024 5.2224-1.3312 6.5536-3.1744l17.6128-26.0096 1.4336 29.3888c0 2.2528 1.6384 4.1984 4.096 5.12zM419.5328 636.928l30.72 12.6976-34.7136 1.024c-2.56 0.1024-4.8128 1.2288-6.0416 2.9696L393.216 677.5808l-1.3312-27.0336c-0.1024-1.9456-1.536-3.7888-3.7888-4.7104l-30.72-12.6976 34.7136-1.024c2.56-0.1024 4.8128-1.2288 6.0416-2.9696l16.2816-23.9616 1.3312 27.0336c0.1024 1.9456 1.536 3.7888 3.7888 4.7104z" fill="#C8A981" p-id="1863" /><path d="M767.8976 503.6032c3.584 7.0656 5.632 15.0528 5.632 23.552 0 28.8768-23.3472 52.224-52.224 52.224-8.4992 0-16.4864-2.048-23.552-5.632 8.6016 16.9984 26.3168 28.7744 46.6944 28.7744 28.8768 0 52.224-23.3472 52.224-52.224 0-20.3776-11.776-38.0928-28.7744-46.6944z" fill="#E01E22" p-id="1864" /><path d="M773.5296 527.1552c0-8.4992-2.048-16.4864-5.632-23.552-7.0656-3.584-15.0528-5.632-23.552-5.632-28.8768 0-52.224 23.4496-52.224 52.224 0 8.4992 2.048 16.4864 5.632 23.552 7.0656 3.584 15.0528 5.632 23.552 5.632 28.7744 0 52.224-23.3472 52.224-52.224z" fill="#F06661" p-id="1865" /><path d="M563.5072 364.9536c14.336-14.336-17.5104-46.08-31.744-31.744-14.336 14.2336 17.5104 45.9776 31.744 31.744z" fill="#E01E22" p-id="1866" /><path d="M752.3328 369.5616c3.1744 5.7344 5.0176 12.288 5.0176 19.3536 0 22.016-17.8176 39.8336-39.8336 39.8336-7.0656 0-13.6192-1.8432-19.3536-5.0176 6.7584 12.1856 19.8656 20.48 34.816 20.48 22.016 0 39.8336-17.8176 39.8336-39.8336 0-15.0528-8.2944-28.0576-20.48-34.816z" fill="#FFA43E" p-id="1867" /><path d="M717.7216 310.6816c4.096 7.4752 6.5536 15.9744 6.5536 25.088 0 28.5696-23.1424 51.712-51.712 51.712-9.1136 0-17.7152-2.3552-25.088-6.5536 8.8064 15.872 25.8048 26.624 45.2608 26.624 28.5696 0 51.712-23.1424 51.712-51.712-0.1024-19.3536-10.8544-36.2496-26.7264-45.1584z" fill="#E2E2E2" p-id="1868" /><path d="M757.3504 388.9152c0-7.0656-1.8432-13.6192-5.0176-19.3536-5.7344-3.1744-12.288-5.0176-19.3536-5.0176-22.016 0-39.8336 17.8176-39.8336 39.8336 0 7.0656 1.8432 13.6192 5.0176 19.3536 5.7344 3.1744 12.288 5.0176 19.3536 5.0176 21.9136 0 39.8336-17.92 39.8336-39.8336z" fill="#FFD14F" p-id="1869" /><path d="M724.2752 335.872c0-9.1136-2.3552-17.7152-6.5536-25.088-7.4752-4.096-15.9744-6.5536-25.088-6.5536-28.5696 0-51.712 23.1424-51.712 51.712 0 9.1136 2.3552 17.7152 6.5536 25.088 7.4752 4.096 15.9744 6.5536 25.088 6.5536 28.5696 0 51.712-23.1424 51.712-51.712z" fill="#FFFFFF" p-id="1870" /><path d="M512 163.4304c-93.0816 0-180.6336 36.2496-246.4768 102.0928S163.4304 418.9184 163.4304 512s36.2496 180.6336 102.0928 246.4768 153.3952 102.0928 246.4768 102.0928 180.6336-36.2496 246.4768-102.0928 102.0928-153.3952 102.0928-246.4768-36.2496-180.6336-102.0928-246.4768-153.3952-102.0928-246.4768-102.0928zM183.9104 512c0-142.6432 91.5456-264.3968 218.9312-309.4528-42.3936 32.768-69.8368 84.0704-69.8368 141.7216 0 98.6112 80.2816 178.8928 178.8928 178.8928 87.3472 0 158.4128 71.0656 158.4128 158.4128S599.3472 840.0896 512 840.0896c-180.9408 0-328.0896-147.1488-328.0896-328.0896z m414.8224-64.8192l-6.9632 6.9632c-5.12-1.7408-11.3664-5.8368-17.2032-11.6736-10.5472-10.5472-15.36-22.2208-10.9568-26.624 2.2528-2.2528 5.3248-2.9696 9.1136-2.048 3.8912 0.9216 8.0896 3.584 11.6736 7.168s6.2464 7.8848 7.168 11.6736c0.9216 3.7888 0.3072 6.8608-2.048 9.1136-1.6384 1.6384-1.6384 4.1984 0 5.8368 1.6384 1.6384 4.1984 1.6384 5.8368 0 4.3008-4.3008 5.8368-10.3424 4.096-16.896-1.3312-5.3248-4.608-10.8544-9.3184-15.4624-9.0112-9.0112-23.04-14.5408-32.3584-5.12-9.4208 9.4208-1.2288 25.9072 10.9568 38.1952 5.12 5.12 10.9568 9.5232 16.6912 12.1856L550.4 495.616c-10.6496-15.36-15.872-38.2976-16.0768-55.5008-0.1024-3.7888 0.1024-7.0656 0.512-9.9328l23.4496-23.4496c10.6496-10.6496 26.7264-0.2048 33.6896 6.7584 6.9632 7.0656 17.408 23.04 6.7584 33.6896z m-123.904 42.9056c0 2.7648 0.1024 5.5296 0.3072 8.2944-2.2528-0.512-4.5056-1.1264-6.7584-1.7408l6.4512-6.5536z m8.6016 10.0352c-0.7168-7.168-0.6144-13.5168 0-18.6368l22.7328-22.7328c0.4096 12.9024 3.584 28.672 10.5472 44.032-1.536 0-3.072-0.1024-4.7104-0.1024-9.728 0-19.2512-0.8192-28.5696-2.56z m42.5984 3.1744c-10.0352-19.8656-12.4928-40.1408-11.5712-52.736l11.6736-11.6736v1.3312c0.3072 19.5584 6.144 44.4416 18.432 61.2352l-3.584 3.584c-5.0176-0.8192-9.9328-1.3312-14.9504-1.7408z m43.8272-135.8848l-6.9632 6.9632c-5.12-1.7408-11.3664-5.8368-17.2032-11.6736-10.5472-10.5472-15.36-22.2208-10.9568-26.624 5.12-5.12 14.336-1.2288 20.7872 5.12 3.584 3.584 6.2464 7.8848 7.168 11.6736 0.9216 3.7888 0.3072 6.8608-2.048 9.1136-1.6384 1.6384-1.6384 4.1984 0 5.8368 1.6384 1.6384 4.1984 1.6384 5.8368 0 9.3184-9.3184 3.8912-23.3472-5.12-32.3584s-23.04-14.5408-32.3584-5.12c-9.4208 9.4208-1.2288 25.9072 10.9568 38.1952 5.12 5.12 10.9568 9.5232 16.7936 12.1856l-6.3488 6.3488-0.2048 0.2048c-2.2528 1.4336-4.4032 3.072-6.3488 5.12l-22.8352 22.8352c-10.3424-15.36-15.36-37.888-15.5648-54.784-0.1024-3.7888 0.1024-7.0656 0.4096-9.8304l23.4496-23.4496c4.3008-4.3008 9.728-5.5296 16.4864-3.7888 12.0832 3.1744 24.576 15.6672 27.7504 27.7504 1.8432 6.5536 0.6144 11.8784-3.6864 16.2816z m-72.704-8.3968v1.3312c0.3072 19.2512 5.9392 43.7248 17.92 60.6208l-12.3904 12.3904c-14.5408-22.2208-18.3296-47.7184-17.2032-62.5664l11.6736-11.776zM477.184 378.9824c0.1024 4.096 0.6144 8.3968 1.2288 12.9024 1.6384 10.4448 6.144 29.2864 18.3296 47.3088l-27.136 27.136c-10.3424-15.36-15.36-37.888-15.5648-54.784-0.1024-3.7888 0.1024-7.0656 0.4096-9.8304l22.7328-22.7328z m-31.3344 31.3344v1.3312c0.3072 19.2512 5.9392 43.7248 17.92 60.6208l-12.3904 12.3904c-14.5408-22.2208-18.3296-47.7184-17.2032-62.5664l11.6736-11.776z m-20.0704 20.0704c0.1024 4.096 0.6144 8.3968 1.2288 12.9024 1.536 9.728 5.5296 26.8288 15.9744 43.7248-16.0768-7.7824-30.6176-18.2272-43.1104-30.72l25.9072-25.9072z m199.7824 389.4272c39.936-32.8704 65.4336-82.6368 65.4336-138.24 0-80.4864-53.3504-148.6848-126.5664-171.1104l48.8448-48.8448c18.3296-18.3296 10.4448-45.4656-6.8608-62.6688-6.8608-6.8608-15.36-12.288-24.1664-15.1552l2.048-2.048c9.5232-9.5232 12.8-22.4256 9.0112-36.2496-5.12-19.3536-22.9376-37.0688-42.2912-42.2912-13.824-3.6864-26.7264-0.512-36.2496 9.0112L386.4576 440.7296c-20.5824-26.7264-32.8704-60.2112-32.8704-96.4608 0-87.3472 71.0656-158.4128 158.4128-158.4128 2.1504 0 4.1984-0.7168 5.8368-1.8432 178.176 3.1744 322.2528 149.0944 322.2528 327.9872 0 141.0048-89.3952 261.5296-214.528 307.8144z m272.5888-262.144c-2.2528 0-4.096-1.8432-4.096-4.096v-83.1488c0-2.2528 1.8432-4.096 4.096-4.096s4.096 1.8432 4.096 4.096v83.1488c0 2.2528-1.7408 4.096-4.096 4.096z m-772.3008-91.3408c2.2528 0 4.096 1.8432 4.096 4.096v83.1488c0 2.2528-1.8432 4.096-4.096 4.096s-4.096-1.8432-4.096-4.096v-83.1488c0-2.2528 1.8432-4.096 4.096-4.096z m218.0096 64.2048c0-2.7648-0.3072-5.632-0.8192-8.2944 10.5472-8.4992 16.5888-20.5824 16.5888-33.4848 0-24.9856-22.9376-45.3632-51.0976-45.3632-14.2336 0-27.4432 5.12-37.0688 14.0288-5.9392-2.4576-12.3904-3.7888-19.1488-3.7888-24.8832 0-45.1584 18.0224-45.1584 40.2432 0 15.0528 9.1136 28.3648 23.4496 35.328v1.3312c0 27.5456 25.3952 49.9712 56.5248 49.9712s56.7296-22.3232 56.7296-49.9712z m-22.1184-8.9088c1.1264 2.8672 1.7408 5.9392 1.7408 8.9088 0 16.2816-16.1792 29.4912-36.0448 29.4912-19.8656 0-36.0448-13.2096-36.0448-29.4912 0-1.9456 0.2048-3.7888 0.7168-5.7344 1.3312-5.4272-1.9456-10.8544-7.2704-12.288-10.0352-2.7648-16.896-10.24-16.896-18.7392 0-10.8544 11.0592-19.7632 24.6784-19.7632 5.8368 0 11.264 1.6384 15.7696 4.608 4.608 3.072 10.752 1.9456 14.0288-2.56 5.5296-7.5776 15.6672-12.3904 26.4192-12.3904 16.896 0 30.6176 11.1616 30.6176 24.8832 0 8.0896-4.9152 15.6672-13.1072 20.3776-4.608 2.6624-6.4512 7.9872-4.608 12.6976z m203.3664 260.4032c44.7488 0 85.2992-27.8528 95.8464-68.8128 5.632-21.7088 1.9456-44.4416-10.24-63.7952-13.6192-21.7088-36.864-37.376-63.8976-42.9056-22.016-4.5056-44.032-1.8432-63.0784 6.144-12.4928-20.5824-34.2016-35.5328-59.904-40.7552-48.8448-10.0352-97.792 17.8176-109.1584 61.952-5.2224 20.2752-1.8432 41.3696 9.5232 59.392 12.6976 20.2752 34.304 34.816 59.392 39.936 6.656 1.3312 13.4144 2.048 20.1728 2.048 10.9568 0 21.8112-1.7408 32.0512-5.2224 1.2288 2.3552 2.4576 4.608 3.8912 6.8608 13.6192 21.7088 36.864 37.376 63.8976 42.9056 7.168 1.536 14.4384 2.2528 21.504 2.2528z m-137.3184-68.9152c-19.6608-3.9936-36.4544-15.1552-46.08-30.72-8.2944-13.312-10.752-28.672-6.9632-43.52 8.6016-33.6896 46.8992-54.784 85.1968-47.0016 19.6608 3.9936 36.352 15.1552 45.9776 30.5152-8.192 5.632-15.5648 12.4928-21.504 20.2752l-23.2448-9.6256c-0.8192-0.3072-1.2288-0.8192-1.2288-1.1264l-1.3312-27.0336c-0.1024-1.7408-1.2288-3.2768-2.9696-3.7888s-3.4816 0.2048-4.5056 1.6384L394.8544 626.688c-0.3072 0.512-1.3312 1.1264-2.7648 1.1264l-34.7136 1.024c-1.9456 0.1024-3.584 1.4336-3.8912 3.3792-0.3072 1.9456 0.7168 3.7888 2.4576 4.5056l30.72 12.6976c0.8192 0.3072 1.2288 0.8192 1.2288 1.1264l1.3312 27.0336c0.1024 1.7408 1.2288 3.2768 2.9696 3.7888 0.4096 0.1024 0.7168 0.2048 1.1264 0.2048 1.3312 0 2.56-0.6144 3.3792-1.8432l16.2816-23.9616c0.4096-0.512 1.3312-1.1264 2.7648-1.1264l21.4016-0.6144c-3.1744 5.9392-5.7344 12.288-7.4752 18.944-3.1744 12.4928-3.3792 25.2928-0.6144 37.6832-13.2096 4.4032-27.5456 5.3248-41.2672 2.4576z m43.2128-66.9696l-15.5648 0.512c-3.8912 0.1024-7.3728 1.8432-9.3184 4.7104l-9.4208 13.824-0.7168-14.848c-0.2048-3.584-2.56-6.7584-6.3488-8.2944l-13.0048-5.4272 15.5648-0.512c3.8912-0.1024 7.3728-1.8432 9.3184-4.7104l9.4208-13.824 0.7168 14.848c0.2048 3.584 2.56 6.7584 6.3488 8.2944l13.0048 5.4272z m26.0096 79.872c-9.1136-14.6432-11.8784-31.6416-7.68-47.9232 4.7104-18.3296 17.3056-33.1776 33.9968-42.5984 0 0 0.1024 0 0.1024-0.1024 0.6144-0.3072 1.2288-0.6144 1.7408-1.024 11.8784-6.2464 25.6-9.728 39.936-9.728 5.8368 0 11.776 0.6144 17.7152 1.8432 21.504 4.4032 39.936 16.6912 50.5856 33.6896 9.1136 14.6432 11.8784 31.6416 7.68 47.9232-8.192 31.8464-40.2432 53.3504-75.776 53.3504-5.8368 0-11.776-0.6144-17.7152-1.8432-21.504-4.3008-39.936-16.5888-50.5856-33.5872z m80.9984-30.8224l37.6832-1.1264c1.9456-0.1024 3.584-1.4336 3.8912-3.3792s-0.7168-3.7888-2.4576-4.5056l-33.28-13.824c-1.024-0.4096-1.536-1.1264-1.536-1.536l-1.4336-29.3888c-0.1024-1.7408-1.2288-3.2768-2.9696-3.7888s-3.4816 0.2048-4.5056 1.6384l-17.6128 26.0096c-0.4096 0.7168-1.6384 1.3312-3.2768 1.4336l-37.6832 1.1264c-1.9456 0.1024-3.584 1.4336-3.8912 3.3792-0.3072 1.9456 0.7168 3.7888 2.4576 4.5056l33.28 13.824c1.024 0.4096 1.536 1.1264 1.536 1.536l1.4336 29.3888c0.1024 1.7408 1.2288 3.2768 2.9696 3.7888 0.4096 0.1024 0.7168 0.2048 1.1264 0.2048 1.3312 0 2.56-0.6144 3.3792-1.8432l17.6128-26.0096c0.512-0.7168 1.6384-1.4336 3.2768-1.4336z m-10.0352-3.1744l-10.752 15.872-0.8192-17.2032c-0.2048-3.6864-2.7648-7.0656-6.656-8.704l-15.6672-6.4512 18.5344-0.512c4.096-0.1024 7.7824-1.9456 9.8304-5.0176l10.752-15.872 0.8192 17.2032c0.2048 3.6864 2.7648 7.0656 6.656 8.704l15.6672 6.4512-18.5344 0.512c-4.096 0.1024-7.7824 1.9456-9.8304 5.0176z m-14.2336 32.3584z m168.1408-174.08c0 34.5088 28.0576 62.464 62.464 62.464 34.5088 0 62.464-28.0576 62.464-62.464s-28.0576-62.464-62.464-62.464-62.464 27.9552-62.464 62.464z m104.5504 0c0 23.1424-18.8416 41.984-41.984 41.984s-41.984-18.8416-41.984-41.984 18.8416-41.984 41.984-41.984c23.04 0 41.984 18.8416 41.984 41.984z m-94.3104-256.3072c-34.4064 0-62.3616 27.9552-62.3616 62.3616 0 31.9488 24.1664 58.368 55.1936 61.952 6.0416 20.7872 25.2928 36.1472 48.128 36.1472 27.648 0 50.0736-22.4256 50.0736-50.0736 0-19.968-11.6736-37.1712-28.5696-45.2608 0-0.9216 0.1024-1.8432 0.1024-2.7648-0.2048-34.4064-28.16-62.3616-62.5664-62.3616zM650.24 356.352c0-23.1424 18.8416-41.8816 41.8816-41.8816 22.4256 0 40.7552 17.7152 41.8816 39.8336h-1.024c-25.1904 0-46.1824 18.7392-49.5616 43.1104-18.944-4.096-33.1776-20.8896-33.1776-41.0624z m82.7392 77.6192c-16.2816 0-29.5936-13.312-29.5936-29.5936s13.312-29.5936 29.5936-29.5936c16.2816 0 29.5936 13.312 29.5936 29.5936s-13.312 29.5936-29.5936 29.5936z m259.1744 23.9616v108.1344c0 16.384-13.312 29.696-29.696 29.696h-55.808c-39.2192 185.6512-203.776 319.5904-394.5472 319.5904S156.672 781.5168 117.5552 595.7632H61.5424c-16.384 0-29.696-13.312-29.696-29.696V457.9328c0-16.384 13.312-29.696 29.696-29.696h55.9104c39.1168-185.6512 203.776-319.5904 394.5472-319.5904 45.9776 0 91.0336 7.68 133.9392 22.7328 41.472 14.6432 80.1792 35.84 114.8928 63.1808 4.4032 3.4816 5.2224 9.9328 1.7408 14.336-3.4816 4.4032-9.9328 5.2224-14.336 1.7408-67.8912-53.3504-149.6064-81.5104-236.2368-81.5104-183.808 0-342.016 130.8672-376.1152 311.1936-0.9216 5.12-5.5296 8.6016-10.6496 8.2944H61.5424c-5.12 0-9.216 4.096-9.216 9.216v108.1344c0 5.12 4.096 9.216 9.216 9.216h63.7952c5.0176-0.2048 9.5232 3.2768 10.4448 8.2944C169.984 763.904 328.192 894.7712 512 894.7712S854.016 763.904 888.1152 583.5776c0.9216-5.12 5.5296-8.6016 10.6496-8.2944h63.6928c5.12 0 9.216-4.096 9.216-9.216V457.9328c0-5.12-4.096-9.216-9.216-9.216h-63.7952c-5.0176 0.2048-9.5232-3.2768-10.4448-8.2944-13.7216-72.704-48.2304-139.4688-99.6352-193.2288-3.8912-4.096-3.7888-10.5472 0.3072-14.4384s10.5472-3.7888 14.4384 0.3072c52.224 54.4768 87.8592 121.856 103.3216 195.2768h55.808c16.384-0.1024 29.696 13.2096 29.696 29.5936z" p-id="1871" /></symbol><symbol viewBox="0 0 1024 1024"  id="svg-light">\r
    <path d="M565.096296 289.185185s-0.948148 0 0 0c-110.933333-20.859259-208.592593 40.77037-237.985185 148.859259-14.222222 53.096296-24.651852 101.451852 44.562963 221.866667 14.222222 25.6 11.377778 70.162963 8.533333 95.762963-1.896296 14.222222 64.474074 36.02963 89.125926 42.666667l95.762963-509.155556z" fill="#cccccc" />\r
    <path d="M732.918519 513.896296c11.377778-111.881481-56.888889-203.851852-166.874075-224.711111h-0.948148L469.333333 798.340741c25.6 2.844444 94.814815 6.637037 98.607408-7.585185 6.637037-25.6 20.859259-67.318519 42.666666-86.281482C719.644444 618.192593 727.22963 568.888889 732.918519 513.896296z" fill="#bbbbbb" />\r
    <path d="M467.437037 806.874074c-7.585185-0.948148-12.325926-7.585185-14.222222-14.222222l-38.874074-256c-0.948148-5.688889 0.948148-11.377778 4.74074-15.170371 3.792593-3.792593 9.481481-5.688889 15.170371-4.74074l167.822222 31.288889c5.688889 0.948148 10.42963 4.740741 12.325926 9.481481 1.896296 4.740741 1.896296 11.377778-0.948148 16.118519L486.4 798.340741c-3.792593 6.637037-11.377778 10.42963-18.962963 8.533333z m-14.222222-251.259259l27.496296 182.992592L572.681481 578.37037l-119.466666-22.755555z" fill="#666666" />\r
    <path d="M375.466667 709.214815l-25.6 137.481481c0 2.844444 1.896296 5.688889 7.585185 10.42963l65.422222 54.992593c5.688889 4.740741 15.17037 8.533333 23.703704 10.429629l36.029629-193.422222-107.14074-19.911111z" fill="#2D4375" />\r
    <path d="M482.607407 729.125926l-36.029629 193.422222c9.481481 1.896296 18.014815 1.896296 25.6-0.948148l80.592592-27.496296c6.637037-1.896296 10.42963-4.740741 11.377778-6.637037L589.748148 749.037037l-107.140741-19.911111z" fill="#1E2D4F" />\r
    <path d="M593.540741 807.822222c1.896296-7.585185-3.792593-15.17037-11.377778-16.118518l-107.140741-19.911111-4.740741 27.496296 107.140741 19.911111c6.637037 0.948148 14.222222-3.792593 16.118519-11.377778z" fill="#CEEFF6" />\r
    <path d="M366.933333 750.933333c-7.585185-1.896296-15.17037 3.792593-16.118518 11.377778-1.896296 7.585185 3.792593 15.17037 11.377778 16.118519l107.14074 19.911111 4.740741-27.496297-107.140741-19.911111zM356.503704 808.77037c-7.585185-1.896296-15.17037 3.792593-16.118519 11.377778-1.896296 7.585185 3.792593 15.17037 11.377778 16.118519l107.140741 19.911111 4.74074-27.496297-107.14074-19.911111z" fill="#FFFFFF" />\r
    <path d="M570.785185 848.592593l-107.140741-19.911112-4.74074 27.496297 107.14074 19.911111c7.585185 1.896296 15.17037-3.792593 16.118519-11.377778 1.896296-7.585185-2.844444-15.17037-11.377778-16.118518z" fill="#CEEFF6" />\r
</symbol><symbol class="icon" viewBox="0 0 1580 1024"   id="svg-now-time"><path d="M54.993477 66.732873m55.901883 0l1163.038674 0q55.901883 0 55.901883 55.901883l0 625.891456q0 55.901883-55.901883 55.901883l-1163.038674 0q-55.901883 0-55.901883-55.901883l0-625.891456q0-55.901883 55.901883-55.901883Z" fill="#e6e6e6" p-id="6094" data-spm-anchor-id="a313x.search_index.0.i18.9f9f3a81a77f69" class="" /><path d="M1281.900053 860.190223H102.929342A102.999219 102.999219 0 0 1 0 757.330759V113.830209A103.069097 103.069097 0 0 1 102.929342 10.900867h1178.970711a102.999219 102.999219 0 0 1 102.859464 102.929342v643.50055a102.929342 102.929342 0 0 1-102.859464 102.859464zM102.929342 24.876338A89.023749 89.023749 0 0 0 13.975471 113.830209v643.50055a89.023749 89.023749 0 0 0 88.953871 88.883994h1178.970711a89.023749 89.023749 0 0 0 88.883993-88.883994V113.830209a89.023749 89.023749 0 0 0-88.883993-88.953871z" fill="#cdcdcd" p-id="6095" data-spm-anchor-id="a313x.search_index.0.i21.9f9f3a81a77f69" class="" /><path d="M145.554528 854.390403m21.452347 0l155.896376 0q21.452348 0 21.452348 21.452348l0 0q0 21.452348-21.452348 21.452347l-155.896376 0q-21.452348 0-21.452347-21.452347l0 0q0-21.452348 21.452347-21.452348Z" fill="#707070" p-id="6096" data-spm-anchor-id="a313x.search_index.0.i23.9f9f3a81a77f69" class="" /><path d="M262.45934 0m12.438169 0l835.034376 0q12.438169 0 12.438169 12.438169l0 0q0 12.438169-12.438169 12.438169l-835.034376 0q-12.438169 0-12.438169-12.438169l0 0q0-12.438169 12.438169-12.438169Z" fill="#8a8a8a" p-id="6097" data-spm-anchor-id="a313x.search_index.0.i24.9f9f3a81a77f69" class="" /><path d="M1006.02426 853.202488m21.452348 0l155.896376 0q21.452348 0 21.452348 21.452348l0 0q0 21.452348-21.452348 21.452347l-155.896376 0q-21.452348 0-21.452348-21.452347l0 0q0-21.452348 21.452348-21.452348Z" fill="#707070" p-id="6098" data-spm-anchor-id="a313x.search_index.0.i25.9f9f3a81a77f69" class="" /><path d="M1273.934034 832.379037H110.89536a83.852824 83.852824 0 0 1-83.852824-83.852825V122.634756a83.852824 83.852824 0 0 1 83.852824-83.852825h1163.038674a83.852824 83.852824 0 0 1 83.852825 83.852825v625.891456a83.852824 83.852824 0 0 1-83.852825 83.852825zM110.89536 94.683814a27.950941 27.950941 0 0 0-27.950941 27.950942v625.891456a27.950941 27.950941 0 0 0 27.950941 27.950942h1163.038674a27.950941 27.950941 0 0 0 27.950942-27.950942V122.634756a27.950941 27.950941 0 0 0-27.950942-27.950942z" fill="#8a8a8a" p-id="6099" data-spm-anchor-id="a313x.search_index.0.i22.9f9f3a81a77f69" class="" /><path d="M258.126944 581.589214h-5.729943q-51.639364-3.354113-51.639364-56.530779v-59.954769q0.419264-34.938677 23.129404-44.931139c-13.975471-7.406999-20.613819-21.38247-20.963206-41.926412v-50.870713a83.852824 83.852824 0 0 1 1.397547-15.442895q6.219084-40.109601 54.224826-40.109601h57.369308a109.358058 109.358058 0 0 1 15.652527 0.978283q40.039724 6.987735 40.039724 54.574213v50.730959c0 20.33431-6.987735 34.309781-20.963206 41.926412 15.163386 6.428717 22.849895 21.452348 23.199281 44.931138v59.95477q-0.489141 55.901883-57.439185 56.530779zM237.583002 552.031094h100.62339c2.934849 0 4.75166-2.236075 5.310679-5.799821V440.995979c0-3.913132-1.746934-5.79982-5.310679-5.799821H237.583002a6.149207 6.149207 0 0 0-5.79982 5.799821v105.305172A6.149207 6.149207 0 0 0 237.583002 552.031094z m2.236076-144.506368H335.411297c3.563745 0 5.310679-1.886689 5.310679-5.79982V306.621828A6.149207 6.149207 0 0 0 335.411297 300.472621H239.469691c-3.284236 0-5.240802 2.37583-5.79982 6.288961v95.033201a6.149207 6.149207 0 0 0 5.79982 5.799821zM497.177371 581.589214h-5.79982q-51.569487-3.354113-51.639365-56.530779v-59.954769c0-23.199281 8.035896-38.153035 23.199282-44.931139-13.975471-7.406999-20.963206-21.38247-20.963206-41.926412v-50.870713a90.141786 90.141786 0 0 1 1.32767-15.442895q6.288962-40.109601 54.364581-40.109601h57.369307a107.681002 107.681002 0 0 1 15.58265 0.978283q40.179478 6.987735 40.109601 54.574213v50.730959c-0.349387 20.33431-6.987735 34.309781-20.963206 41.926412 15.163386 6.428717 22.849895 21.452348 23.199281 44.931138v59.95477q-0.489141 55.901883-57.439185 56.530779z m-20.963206-29.488243h100.623389c2.934849 0 4.681783-2.236075 5.310679-5.79982V440.995979c0-3.913132-1.746934-5.79982-5.310679-5.799821H476.284042a6.149207 6.149207 0 0 0-5.79982 5.799821v105.305172a6.149207 6.149207 0 0 0 5.79982 5.729943z m2.236075-144.506367h96.221116c3.563745 0 5.310679-1.886689 5.310679-5.799821V306.621828a6.219084 6.219084 0 0 0-5.310679-6.288962H478.520118c-3.284236 0-5.240802 2.37583-5.799821 6.288962V401.794783a6.149207 6.149207 0 0 0 5.799821 5.799821zM675.224868 439.528554v-46.887704h33.890517v46.887704z m0 127.106907v-46.887705h33.890517v46.887705zM828.815292 581.589214h-5.799821q-51.569487-3.354113-51.639364-56.530779v-59.954769c0-23.199281 8.035896-38.153035 23.199281-44.931139-13.975471-7.406999-20.963206-21.38247-20.963206-41.926412v-50.870713a90.141786 90.141786 0 0 1 1.32767-15.442895q6.288962-40.109601 54.294704-40.109601h57.439184a107.681002 107.681002 0 0 1 15.58265 0.978283q40.039724 6.987735 40.109601 54.574213v50.730959c-0.349387 20.33431-7.337122 34.309781-20.963206 41.926412 15.163386 6.428717 22.849895 21.452348 23.129404 44.931138v59.95477q-0.419264 55.901883-57.369307 56.530779z m-20.963207-29.488243H908.405597c3.004726 0 4.75166-2.236075 5.380557-5.79982V440.995979c0-3.913132-1.816811-5.79982-5.380557-5.799821h-100.483634a6.07933 6.07933 0 0 0-5.799821 5.799821v105.305172a6.149207 6.149207 0 0 0 5.799821 5.729943z m2.236076-144.506367h96.221116c3.563745 0 5.310679-1.886689 5.310679-5.799821V306.621828a6.219084 6.219084 0 0 0-5.310679-6.288962h-96.151239c-3.284236 0-5.240802 2.37583-5.79982 6.288962V401.794783a6.149207 6.149207 0 0 0 5.79982 5.799821zM1067.865718 581.589214H1062.135775q-51.569487-3.354113-51.639364-56.530779v-59.954769q0.419264-34.938677 23.199281-44.931139c-13.975471-7.406999-20.963206-21.38247-20.963206-41.926412v-50.870713a90.141786 90.141786 0 0 1 1.32767-15.442895q6.288962-40.109601 54.294704-40.109601h57.439185a107.681002 107.681002 0 0 1 15.582649 0.978283q40.039724 6.987735 40.039724 54.574213v50.730959c0 20.33431-6.987735 34.309781-20.963206 41.926412 15.163386 6.428717 22.849895 21.452348 23.129404 44.931138v59.95477q-0.419264 55.901883-57.369307 56.530779z m-20.963206-29.488243h100.553512c3.004726 0 4.75166-2.236075 5.380556-5.79982V440.995979c0-3.913132-1.816811-5.79982-5.380556-5.799821h-100.483634a6.07933 6.07933 0 0 0-5.799821 5.799821v105.305172a6.149207 6.149207 0 0 0 5.799821 5.729943z m2.166198-144.506367h96.221116c3.493868 0 5.310679-1.886689 5.310679-5.799821V306.621828a6.219084 6.219084 0 0 0-5.310679-6.288962h-96.151238c-3.214358 0-5.170924 2.37583-5.729943 6.288962V401.794783a6.149207 6.149207 0 0 0 5.729943 5.799821z" fill="#2c2c2c" p-id="6100" data-spm-anchor-id="a313x.search_index.0.i20.9f9f3a81a77f69" class="" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-pie-charts"><path d="M512 512V38.4A473.6 473.6 0 0 1 985.6 512z" fill="" p-id="17258" /><path d="M916.096 576A409.344 409.344 0 1 1 448 107.904V43.232A473.344 473.344 0 1 0 980.768 576z" fill="" p-id="17259" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-progress-a"><path d="M324.266667 599.466667c-6.4-4.266667-12.8-8.533333-14.933334-17.066667s-6.4-17.066667-6.4-27.733333h32c0 6.4 2.133333 10.666667 4.266667 14.933333s6.4 4.266667 10.666667 4.266667 8.533333-2.133333 10.666666-4.266667 4.266667-6.4 4.266667-12.8v-27.733333c0-4.266667-2.133333-8.533333-4.266667-10.666667s-4.266667-6.4-8.533333-6.4-6.4 0-8.533333 2.133333-4.266667 4.266667-4.266667 8.533334h-32v-102.4h87.466667v32h-55.466667v34.133333c2.133333-2.133333 6.4-4.266667 8.533333-6.4s8.533333-2.133333 10.666667-2.133333c8.533333 0 14.933333 2.133333 19.2 6.4s10.666667 8.533333 12.8 17.066666c2.133333 6.4 4.266667 14.933333 4.266667 25.6V554.666667c0 10.666667-2.133333 19.2-6.4 25.6-4.266667 6.4-8.533333 12.8-17.066667 17.066666s-14.933333 6.4-25.6 6.4c-6.4 2.133333-14.933333 0-21.333333-4.266666zM437.333333 593.066667c-8.533333-8.533333-12.8-19.2-12.8-34.133334V469.333333c0-14.933333 4.266667-27.733333 12.8-34.133333s19.2-12.8 36.266667-12.8 27.733333 4.266667 36.266667 12.8 12.8 19.2 12.8 34.133333v89.6c0 14.933333-4.266667 27.733333-12.8 36.266667s-19.2 12.8-36.266667 12.8c-17.066667-2.133333-27.733333-6.4-36.266667-14.933333z m46.933334-25.6c2.133333-4.266667 4.266667-8.533333 4.266666-14.933334v-81.066666c0-6.4-2.133333-10.666667-4.266666-14.933334s-6.4-4.266667-10.666667-4.266666-8.533333 2.133333-12.8 4.266666-4.266667 8.533333-4.266667 14.933334v81.066666c0 6.4 2.133333 10.666667 4.266667 14.933334s6.4 4.266667 10.666667 4.266666 10.666667 0 12.8-4.266666zM554.666667 490.666667c-4.266667-6.4-8.533333-12.8-8.533334-23.466667v-14.933333c0-10.666667 2.133333-17.066667 8.533334-23.466667s12.8-8.533333 21.333333-8.533333 17.066667 2.133333 21.333333 8.533333 8.533333 12.8 8.533334 23.466667v14.933333c0 10.666667-2.133333 17.066667-8.533334 23.466667s-12.8 8.533333-21.333333 8.533333-17.066667-2.133333-21.333333-8.533333z m32-10.666667c2.133333-2.133333 4.266667-6.4 4.266666-12.8V448c0-4.266667-2.133333-8.533333-4.266666-10.666667s-6.4-4.266667-10.666667-4.266666-8.533333 2.133333-10.666667 4.266666-4.266667 6.4-4.266666 10.666667v21.333333c0 4.266667 2.133333 8.533333 4.266666 12.8s6.4 4.266667 10.666667 4.266667 8.533333-4.266667 10.666667-6.4z m74.666666-59.733333h17.066667l-98.133333 181.333333h-17.066667l98.133333-181.333333z m-17.066666 177.066666c-4.266667-6.4-8.533333-12.8-8.533334-23.466666v-14.933334c0-10.666667 2.133333-17.066667 8.533334-23.466666s12.8-8.533333 21.333333-8.533334 17.066667 2.133333 21.333333 8.533334 8.533333 12.8 8.533334 23.466666v14.933334c0 10.666667-2.133333 17.066667-8.533334 23.466666s-12.8 8.533333-21.333333 8.533334-14.933333-4.266667-21.333333-8.533334z m34.133333-10.666666c2.133333-2.133333 4.266667-6.4 4.266667-12.8V554.666667c0-4.266667-2.133333-8.533333-4.266667-10.666667s-6.4-4.266667-10.666667-4.266667-8.533333 2.133333-10.666666 4.266667-4.266667 6.4-4.266667 10.666667v19.2c0 4.266667 2.133333 8.533333 4.266667 12.8s6.4 4.266667 10.666666 4.266666 8.533333-2.133333 10.666667-4.266666z" fill="#B0B0B0" p-id="1705" /><path d="M512 85.333333C277.333333 85.333333 85.333333 277.333333 85.333333 512s192 426.666667 426.666667 426.666667 426.666667-192 426.666667-426.666667S746.666667 85.333333 512 85.333333z m0 768c-187.733333 0-341.333333-153.6-341.333333-341.333333S324.266667 170.666667 512 170.666667s341.333333 153.6 341.333333 341.333333-153.6 341.333333-341.333333 341.333333z" fill="#5CB87A" opacity=".6" p-id="1706" /><path d="M853.333333 512c0 187.733333-153.6 341.333333-341.333333 341.333333v85.333334c234.666667 0 426.666667-192 426.666667-426.666667S746.666667 85.333333 512 85.333333v85.333334c187.733333 0 341.333333 153.6 341.333333 341.333333z" fill="#F5F7FA" p-id="1707" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-svg-text"><path d="M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z" fill="#707070" opacity=".406" p-id="10272" data-spm-anchor-id="a313x.search_index.0.i5.26f43a81xezxDj" class="selected" /><path d="M512 128a384 384 0 1 1-384 384 384 384 0 0 1 384-384z" fill="#707070" p-id="10273" data-spm-anchor-id="a313x.search_index.0.i6.26f43a81xezxDj" class="selected" /><path d="M485.44 768v-363.648h-135.872v-48.64h326.848v48.64h-136.448v363.648z" fill="#FFFFFF" p-id="10274" /></symbol><symbol class="icon" viewBox="0 0 1027 1024"   id="svg-switch-on">\r
    <path d="M747.52 238.933333    H276.48    C122.88 238.933333 0 361.813333 0 512    s122.88 273.066667 276.48 273.066667    H750.933333    c150.186667 0 276.48-122.88 276.48-273.066667    s-126.293333-273.066667-279.893333-273.066667z" fill="white" fill-opacity=".01" p-id="1537" data-spm-anchor-id="a313x.manage_type_myprojects.0.i0.1adc3a81uCnBP5" />\r
    <path d="M747.52 238.933333    H276.48    C122.88 238.933333 0 361.813333 0 512    s122.88 273.066667 276.48 273.066667    H750.933333    c150.186667 0 276.48-122.88 276.48-273.066667    s-126.293333-273.066667-279.893333-273.066667z    m0 512    H276.48    C143.36 750.933333 34.133333 645.12 34.133333 512s109.226667-238.933333 242.346667-238.933333    H750.933333c133.12 0 242.346667 105.813333 242.346667 238.933333s-112.64 238.933333-245.76 238.933333z" fill="#2c2c2c" p-id="1531" data-spm-anchor-id="a313x.manage_type_myprojects.0.i0.1adc3a81uCnBP5" />\r
    <path d="M238.933333 409.6c-37.546667 0-68.266667 27.306667-68.266666 61.44v85.333333c0 34.133333 30.72 61.44 68.266666 61.44s68.266667-27.306667 68.266667-61.44v-85.333333c0-34.133333-30.72-61.44-68.266667-61.44z m34.133334 146.773333c0 13.653333-17.066667 23.893333-34.133334 23.893334s-34.133333-10.24-34.133333-27.306667v-85.333333c0-13.653333 17.066667-23.893333 34.133333-23.893334s34.133333 10.24 34.133334 27.306667v85.333333zM460.8 409.6c-10.24 0-17.066667 6.826667-17.066667 17.066667v109.226666l-71.68-119.466666c-3.413333-6.826667-10.24-10.24-20.48-6.826667-6.826667 3.413333-13.653333 10.24-13.653333 17.066667v170.666666c0 10.24 6.826667 17.066667 17.066667 17.066667s17.066667-6.826667 17.066666-17.066667v-109.226666l71.68 119.466666c3.413333 6.826667 10.24 6.826667 13.653334 6.826667h3.413333c6.826667-3.413333 13.653333-10.24 13.653333-17.066667v-170.666666c3.413333-10.24-3.413333-17.066667-13.653333-17.066667zM750.933333 341.333333c-95.573333 0-170.666667 75.093333-170.666666 170.666667s75.093333 170.666667 170.666666 170.666667 170.666667-75.093333 170.666667-170.666667-75.093333-170.666667-170.666667-170.666667z" fill="#5ad562" p-id="1530" data-spm-anchor-id="a313x.manage_type_myprojects.0.i1.1adc3a81uCnBP5" />\r
</symbol><symbol class="icon" viewBox="0 0 1027 1024"   id="svg-switch-r">\r
    <path d="M747.52 238.933333    H276.48    C122.88 238.933333 0 361.813333 0 512    s122.88 273.066667 276.48 273.066667    H750.933333    c150.186667 0 276.48-122.88 276.48-273.066667    s-126.293333-273.066667-279.893333-273.066667z" fill="white" fill-opacity=".01" p-id="1537" data-spm-anchor-id="a313x.manage_type_myprojects.0.i0.1adc3a81uCnBP5" />\r
    <path d="M747.52 238.933333    H276.48    C122.88 238.933333 0 361.813333 0 512    s122.88 273.066667 276.48 273.066667    H750.933333    c150.186667 0 276.48-122.88 276.48-273.066667    s-126.293333-273.066667-279.893333-273.066667z    m0 512    H276.48    C143.36 750.933333 34.133333 645.12 34.133333 512s109.226667-238.933333 242.346667-238.933333    H750.933333c133.12 0 242.346667 105.813333 242.346667 238.933333s-112.64 238.933333-245.76 238.933333z" fill="#2c2c2c" p-id="1531" data-spm-anchor-id="a313x.manage_type_myprojects.0.i0.1adc3a81uCnBP5" />\r
    <path d="M273.066667 341.333333c-95.573333 0-170.666667 75.093333-170.666667 170.666667s75.093333 170.666667 170.666667 170.666667 170.666667-75.093333 170.666666-170.666667-75.093333-170.666667-170.666666-170.666667z" fill="#bfbfbf" p-id="1530" data-spm-anchor-id="a313x.manage_type_myprojects.0.i0.1adc3a81KYNNkt" />\r
    <path d="M580.266667 409.6c-37.546667 0-68.266667 27.306667-68.266667 61.44v85.333333c0 34.133333 30.72 61.44 68.266667 61.44s68.266667-27.306667 68.266666-61.44v-85.333333c0-34.133333-30.72-61.44-68.266666-61.44z m34.133333 146.773333c0 13.653333-17.066667 27.306667-34.133333 27.306667s-34.133333-10.24-34.133334-27.306667v-85.333333c0-13.653333 17.066667-27.306667 34.133334-27.306667s34.133333 10.24 34.133333 27.306667v85.333333zM904.533333 409.6h-68.266666c-10.24 0-17.066667 6.826667-17.066667 17.066667v170.666666c0 10.24 6.826667 17.066667 17.066667 17.066667s17.066667-6.826667 17.066666-17.066667V512h17.066667c10.24 0 17.066667-6.826667 17.066667-17.066667s-6.826667-17.066667-17.066667-17.066666H853.333333v-34.133334h51.2c10.24 0 17.066667-6.826667 17.066667-17.066666s-6.826667-17.066667-17.066667-17.066667zM768 409.6h-68.266667c-10.24 0-17.066667 6.826667-17.066666 17.066667v170.666666c0 10.24 6.826667 17.066667 17.066666 17.066667s17.066667-6.826667 17.066667-17.066667V512h17.066667c10.24 0 17.066667-6.826667 17.066666-17.066667s-6.826667-17.066667-17.066666-17.066666H716.8v-34.133334h51.2c10.24 0 17.066667-6.826667 17.066667-17.066666s-6.826667-17.066667-17.066667-17.066667z" fill="#707070" p-id="1532" data-spm-anchor-id="a313x.manage_type_myprojects.0.i2.1adc3a81KYNNkt" />\r
</symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-text-box"><path d="M938.666667 955.733333h-85.333334a17.066667 17.066667 0 0 1-17.066666-17.066666v-17.066667H187.733333v17.066667a17.066667 17.066667 0 0 1-17.066666 17.066666H85.333333a17.066667 17.066667 0 0 1-17.066666-17.066666v-85.333334a17.066667 17.066667 0 0 1 17.066666-17.066666h17.066667V187.733333H85.333333a17.066667 17.066667 0 0 1-17.066666-17.066666V85.333333a17.066667 17.066667 0 0 1 17.066666-17.066666h85.333334a17.066667 17.066667 0 0 1 17.066666 17.066666v17.066667h648.533334V85.333333a17.066667 17.066667 0 0 1 17.066666-17.066666h85.333334a17.066667 17.066667 0 0 1 17.066666 17.066666v85.333334a17.066667 17.066667 0 0 1-17.066666 17.066666h-17.066667v648.533334h17.066667a17.066667 17.066667 0 0 1 17.066666 17.066666v85.333334a17.066667 17.066667 0 0 1-17.066666 17.066666z m-68.266667-34.133333h51.2v-51.2h-51.2v51.2zM102.4 921.6h51.2v-51.2H102.4v51.2z m85.333333-34.133333h648.533334v-34.133334a17.066667 17.066667 0 0 1 17.066666-17.066666h34.133334V187.733333h-34.133334a17.066667 17.066667 0 0 1-17.066666-17.066666V136.533333H187.733333v34.133334a17.066667 17.066667 0 0 1-17.066666 17.066666H136.533333v648.533334h34.133334a17.066667 17.066667 0 0 1 17.066666 17.066666v34.133334zM904.533333 153.6h17.066667V102.4h-51.2v51.2h34.133333zM119.466667 153.6h34.133333V102.4H102.4v51.2h17.066667z" p-id="4280" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-thermometer">\r
    <path d="M616.96 672V176.64a85.76 85.76 0 0 0-171.52 0v495.36c-29.44 24.32-48.64 61.44-48.64 103.68 0 74.24 60.16 134.4 134.4 134.4S665.6 849.92 665.6 775.68c0-42.24-19.2-79.36-48.64-103.68z" fill="#F7E6A3" p-id="1566"></path>\r
    <path d="M531.2 922.88c-80.64 0-147.2-66.56-147.2-147.2 0-42.24 17.92-81.92 48.64-110.08V176.64c0-53.76 43.52-98.56 98.56-98.56s98.56 43.52 98.56 98.56V665.6c30.72 28.16 48.64 67.84 48.64 110.08 0 80.64-66.56 147.2-147.2 147.2z m0-819.2c-39.68 0-72.96 33.28-72.96 72.96v495.36c0 3.84-1.28 7.68-5.12 10.24-28.16 23.04-44.8 57.6-44.8 93.44 0 66.56 55.04 121.6 121.6 121.6s121.6-55.04 121.6-121.6c0-35.84-16.64-70.4-44.8-93.44-2.56-2.56-5.12-6.4-5.12-10.24V176.64c2.56-39.68-30.72-72.96-70.4-72.96z" fill="#231C1C" p-id="1567"></path>\r
    <path d="M494 711.68 c-21.76 12.8-37.12 35.84-37.12 64 0 40.96 33.28 72.96 72.96 72.96 40.96 0 72.96-33.28 72.96-72.96 1.28-26.88-12.8-51.2-34.56-64" fill="#E24F32" p-id="1568"></path>\r
    <path d="M568.32 830 V530 c0-20.48-16.64-37.12-37.12-37.12-20.48 0-37.12 16.64-37.12 37.12 v300" fill="#E24F32" p-id="1599">\r
        <animateTransform attributeName="transform" attributeType="XML" type="translate" from="0 0" to="0 -300" dur="5" repeatCount="indefinite" />\r
    </path>\r
    <path d="M568.32 830 V530 c0-20.48-16.64-37.12-37.12-37.12-20.48 0-37.12 16.64-37.12 37.12 v300" fill="#E24F32" p-id="1588"></path>\r
    <path d="M531.2 188.16h85.76v25h-85.76z" fill="#231C1C" p-id="1595"></path>\r
    <path d="M531.2 359.68h85.76v25h-85.76zM555.52 273.92h61.44v25h-61.44z" fill="#231C1C" p-id="1570"></path>\r
    <path d="M555.52 445.44h61.44v25h-61.44z" fill="#231C1C" p-id="1571"></path>\r
    <path d="M531.2 529.92h85.76v25h-85.76z" fill="#231C1C" p-id="1572"></path>\r
</symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-thermometer2">\r
    <path d="M616.96 672V176.64a85.76 85.76 0 0 0-171.52 0v495.36c-29.44 24.32-48.64 61.44-48.64 103.68 0 74.24 60.16 134.4 134.4 134.4S665.6 849.92 665.6 775.68c0-42.24-19.2-79.36-48.64-103.68z" fill="#F7E6A3" p-id="1566" />\r
    <path d="M531.2 922.88c-80.64 0-147.2-66.56-147.2-147.2 0-42.24 17.92-81.92 48.64-110.08V176.64c0-53.76 43.52-98.56 98.56-98.56s98.56 43.52 98.56 98.56V665.6c30.72 28.16 48.64 67.84 48.64 110.08 0 80.64-66.56 147.2-147.2 147.2z m0-819.2c-39.68 0-72.96 33.28-72.96 72.96v495.36c0 3.84-1.28 7.68-5.12 10.24-28.16 23.04-44.8 57.6-44.8 93.44 0 66.56 55.04 121.6 121.6 121.6s121.6-55.04 121.6-121.6c0-35.84-16.64-70.4-44.8-93.44-2.56-2.56-5.12-6.4-5.12-10.24V176.64c2.56-39.68-30.72-72.96-70.4-72.96z" fill="#231C1C" p-id="1567" />\r
    <path d="M568.32 711.68V408.32c0-20.48-16.64-37.12-37.12-37.12-20.48 0-37.12 16.64-37.12 37.12v303.36c-21.76 12.8-37.12 35.84-37.12 64 0 40.96 33.28 72.96 72.96 72.96 40.96 0 72.96-33.28 72.96-72.96 1.28-26.88-12.8-51.2-34.56-64z" fill="#E24F32" p-id="1568" />\r
    <path d="M531.2 861.44c-47.36 0-85.76-38.4-85.76-85.76 0-28.16 14.08-55.04 37.12-70.4V408.32c0-26.88 21.76-49.92 49.92-49.92 26.88 0 49.92 21.76 49.92 49.92v296.96c23.04 16.64 37.12 42.24 37.12 70.4-2.56 47.36-40.96 85.76-88.32 85.76z m0-476.16c-12.8 0-24.32 10.24-24.32 24.32v303.36c0 5.12-2.56 8.96-6.4 11.52-19.2 10.24-30.72 30.72-30.72 52.48 0 33.28 26.88 60.16 60.16 60.16s60.16-26.88 60.16-60.16c0-21.76-11.52-40.96-30.72-52.48-3.84-2.56-6.4-6.4-6.4-11.52V408.32c2.56-12.8-8.96-23.04-21.76-23.04zM531.2 188.16h85.76v25.6h-85.76z" fill="#231C1C" p-id="1569" />\r
    <path d="M531.2 359.68h85.76v25.6h-85.76zM555.52 273.92h61.44v25.6h-61.44z" fill="#231C1C" p-id="1570" />\r
    <path d="M555.52 445.44h61.44v25.6h-61.44z" fill="#231C1C" p-id="1571" />\r
    <path d="M531.2 529.92h85.76v25.6h-85.76z" fill="#231C1C" p-id="1572" />\r
</symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-add"><path class="icon-out" d="M512 128c211.2 0 384 172.8 384 384s-172.8 384-384 384-384-172.8-384-384 172.8-384 384-384m0-64C262.4 64 64 262.4 64 512s198.4 448 448 448 448-198.4 448-448-198.4-448-448-448z" p-id="12133" /><path class="icon-in" d="M320 512m-32 0a32 32 0 1 0 64 0 32 32 0 1 0-64 0Z" p-id="12134" /><path class="icon-in" d="M704 512m-32 0a32 32 0 1 0 64 0 32 32 0 1 0-64 0Z" p-id="12135" /><path class="icon-in" d="M512 320m-32 0a32 32 0 1 0 64 0 32 32 0 1 0-64 0Z" p-id="12136" /><path class="icon-in" d="M512 704m-32 0a32 32 0 1 0 64 0 32 32 0 1 0-64 0Z" p-id="12137" /><path class="icon-in" d="M320 480h384v64H320z" p-id="12138" /><path class="icon-in" d="M480 320h64v384h-64z" p-id="12139" /></symbol><symbol class="icon gray" viewBox="0 0 1024 1024"   id="svg-delete-gray"><path d="M512.8 927.65c-82.97 0-165.93-5.84-248.32-17.53l-0.2-0.03c-23.32-3.49-46.81-15.1-66.15-32.69-19.79-18.01-32.92-40.21-36.97-62.52l-0.04-0.24c-14.73-85.45-21.15-172.11-19.09-257.59 2.06-85.46 12.66-172.1 31.5-257.51l53.71 11.85c-36.14 163.83-40.16 329.97-11.95 493.77 4.1 22.19 31.75 46.69 57.02 50.52a1712.285 1712.285 0 0 0 480.98 0c25.27-3.83 52.92-28.34 57.01-50.53 28.21-163.8 24.19-329.93-11.95-493.77l53.71-11.85c18.84 85.42 29.44 172.06 31.5 257.51 2.06 85.47-4.36 172.14-19.09 257.59l-0.04 0.24c-4.05 22.3-17.18 44.51-36.97 62.52-19.34 17.6-42.83 29.21-66.15 32.69l-0.2 0.03a1765.711 1765.711 0 0 1-248.31 17.54z" class="icon-out" p-id="3027" /><path d="M921.38 332.96H102.66c-14.16 0-25.64-11.48-25.64-25.64v-3.73c0-14.16 11.48-25.64 25.64-25.64h818.73c14.16 0 25.64 11.48 25.64 25.64v3.73c-0.01 14.16-11.49 25.64-25.65 25.64z" class="icon-out" p-id="3028" /><path d="M367.21 805.77h-2.56c-14.48 0-26.22-11.74-26.22-26.22V431.99c0-14.48 11.74-26.22 26.22-26.22h2.56c14.48 0 26.22 11.74 26.22 26.22v347.56c0 14.49-11.74 26.22-26.22 26.22zM661.4 805.77h-2.56c-14.48 0-26.22-11.74-26.22-26.22V431.99c0-14.48 11.74-26.22 26.22-26.22h2.56c14.48 0 26.22 11.74 26.22 26.22v347.56c0 14.49-11.74 26.22-26.22 26.22z" class="icon-in" p-id="3029" /><path d="M786.11 322.05l-48.07-26.73c24.95-44.87 28.29-88.34 10.14-132.77-5.56-3.25-21.61-9.19-42.32-10.42-129.2-7.27-260.31-7.27-389.6 0-20.65 1.22-36.68 7.16-42.24 10.42-18.15 44.43-14.82 87.9 10.14 132.77l-48.07 26.73c-34.04-61.21-37.74-123.49-10.97-185.09l0.21-0.48c15.56-34.01 80.41-38.81 87.75-39.25 131.42-7.39 264.61-7.39 395.94 0 7.42 0.44 72.26 5.24 87.83 39.25l0.22 0.48c26.77 61.6 23.09 123.88-10.96 185.09z m-36.39-158.46z m-477.24 0z" class="icon-out" p-id="3030" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-delete"><path d="M512.8 927.65c-82.97 0-165.93-5.84-248.32-17.53l-0.2-0.03c-23.32-3.49-46.81-15.1-66.15-32.69-19.79-18.01-32.92-40.21-36.97-62.52l-0.04-0.24c-14.73-85.45-21.15-172.11-19.09-257.59 2.06-85.46 12.66-172.1 31.5-257.51l53.71 11.85c-36.14 163.83-40.16 329.97-11.95 493.77 4.1 22.19 31.75 46.69 57.02 50.52a1712.285 1712.285 0 0 0 480.98 0c25.27-3.83 52.92-28.34 57.01-50.53 28.21-163.8 24.19-329.93-11.95-493.77l53.71-11.85c18.84 85.42 29.44 172.06 31.5 257.51 2.06 85.47-4.36 172.14-19.09 257.59l-0.04 0.24c-4.05 22.3-17.18 44.51-36.97 62.52-19.34 17.6-42.83 29.21-66.15 32.69l-0.2 0.03a1765.711 1765.711 0 0 1-248.31 17.54z" class="icon-out" p-id="3027" /><path d="M921.38 332.96H102.66c-14.16 0-25.64-11.48-25.64-25.64v-3.73c0-14.16 11.48-25.64 25.64-25.64h818.73c14.16 0 25.64 11.48 25.64 25.64v3.73c-0.01 14.16-11.49 25.64-25.65 25.64z" class="icon-out" p-id="3028" /><path d="M367.21 805.77h-2.56c-14.48 0-26.22-11.74-26.22-26.22V431.99c0-14.48 11.74-26.22 26.22-26.22h2.56c14.48 0 26.22 11.74 26.22 26.22v347.56c0 14.49-11.74 26.22-26.22 26.22zM661.4 805.77h-2.56c-14.48 0-26.22-11.74-26.22-26.22V431.99c0-14.48 11.74-26.22 26.22-26.22h2.56c14.48 0 26.22 11.74 26.22 26.22v347.56c0 14.49-11.74 26.22-26.22 26.22z" class="icon-in" p-id="3029" /><path d="M786.11 322.05l-48.07-26.73c24.95-44.87 28.29-88.34 10.14-132.77-5.56-3.25-21.61-9.19-42.32-10.42-129.2-7.27-260.31-7.27-389.6 0-20.65 1.22-36.68 7.16-42.24 10.42-18.15 44.43-14.82 87.9 10.14 132.77l-48.07 26.73c-34.04-61.21-37.74-123.49-10.97-185.09l0.21-0.48c15.56-34.01 80.41-38.81 87.75-39.25 131.42-7.39 264.61-7.39 395.94 0 7.42 0.44 72.26 5.24 87.83 39.25l0.22 0.48c26.77 61.6 23.09 123.88-10.96 185.09z m-36.39-158.46z m-477.24 0z" class="icon-out" p-id="3030" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-export"><path d="M94.85 502.74c0-88.25 6.43-176.5 19.28-264.14l0.04-0.26c4.81-30.68 21.45-61.57 46.85-86.98 25.41-25.41 56.3-42.05 86.98-46.85l0.26-0.04a1818.793 1818.793 0 0 1 528.28 0l0.26 0.04c30.68 4.81 61.57 21.44 86.98 46.85 25.41 25.41 42.05 56.3 46.85 86.98l0.04 0.26a1818.793 1818.793 0 0 1 0 528.28l-0.04 0.26c-4.81 30.68-21.44 61.57-46.85 86.98s-56.3 42.05-86.98 46.85l-0.26 0.04a1818.793 1818.793 0 0 1-528.28 0l-0.26-0.04c-30.68-4.81-61.57-21.44-86.98-46.85-25.41-25.41-42.05-56.3-46.85-86.98l-0.04-0.26a1820.45 1820.45 0 0 1-19.28-264.14z m73.69-256.03c-24.91 169.89-24.91 342.15 0 512.05 6.3 39.74 48.12 81.56 87.86 87.86 169.87 24.9 342.16 24.9 512.03 0 39.75-6.3 81.57-48.12 87.86-87.86 24.9-169.87 24.9-342.16 0-512.03-6.3-39.74-48.12-81.57-87.86-87.86a1764.188 1764.188 0 0 0-512.03 0c-39.74 6.28-81.56 48.1-87.86 87.84z" class="icon-out" p-id="3184" /><path d="M677.82 616.65L467.99 406.81c-10.19-10.19-10.19-26.72 0-36.92l12.58-12.58c10.19-10.19 26.72-10.19 36.92 0l209.84 209.84c10.19 10.19 10.19 26.72 0 36.92l-12.58 12.58c-10.2 10.19-26.73 10.19-36.93 0z" class="icon-in" p-id="3185" /><path d="M283.94 617.33l-12.58-12.58c-10.19-10.19-10.19-26.72 0-36.92L481.2 358c10.19-10.19 26.72-10.19 36.92 0l12.58 12.58c10.19 10.19 10.19 26.72 0 36.92L320.86 617.33c-10.2 10.2-26.72 10.2-36.92 0z" class="icon-in" p-id="3186" /></symbol><symbol viewBox="0 0 48 48" fill="none"  id="svg-group">\r
    <path d="M12 4H4V12H12V4Z" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M44 36H36V44H44V36Z" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M12 36H4V44H12V36Z" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M44 4H36V12H44V4Z" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M8 36V12" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
    <path d="M40 36V12" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
    <path d="M12 8H36" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
    <path d="M12 40H36" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
    <path fill-rule="evenodd" clip-rule="evenodd" d="M16 16H25.6V22.4H32V32H22.4V25.6H16V16Z" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
</symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-import"><path d="M93.33 502.74c0 88.25 6.43 176.5 19.28 264.14l0.04 0.26c4.81 30.68 21.45 61.57 46.85 86.98 25.41 25.41 56.3 42.05 86.98 46.85l0.26 0.04a1818.793 1818.793 0 0 0 528.28 0l0.26-0.04c30.68-4.81 61.57-21.44 86.98-46.85 25.41-25.41 42.05-56.3 46.85-86.98l0.04-0.26a1818.793 1818.793 0 0 0 0-528.28l-0.04-0.26c-4.81-30.68-21.44-61.57-46.85-86.98s-56.3-42.05-86.98-46.85l-0.26-0.04a1818.793 1818.793 0 0 0-528.28 0l-0.26 0.04c-30.68 4.81-61.57 21.44-86.98 46.85-25.41 25.41-42.05 56.3-46.85 86.98l-0.04 0.26a1820.244 1820.244 0 0 0-19.28 264.14z m73.68 256.02c-24.91-169.89-24.91-342.15 0-512.05 6.3-39.74 48.12-81.56 87.86-87.86 169.87-24.9 342.16-24.9 512.03 0 39.75 6.3 81.57 48.12 87.86 87.86 24.9 169.87 24.9 342.16 0 512.03-6.3 39.74-48.12 81.57-87.86 87.86a1764.188 1764.188 0 0 1-512.03 0c-39.74-6.28-81.56-48.1-87.86-87.84z" class="icon-out" p-id="3340" /><path d="M676.3 388.83L466.46 598.66c-10.19 10.19-10.19 26.72 0 36.92l12.58 12.58c10.19 10.19 26.72 10.19 36.92 0L725.8 438.32c10.19-10.19 10.19-26.72 0-36.92l-12.58-12.58c-10.2-10.19-26.73-10.19-36.92 0.01z" class="icon-in" p-id="3341" /><path d="M282.42 388.14l-12.58 12.58c-10.19 10.19-10.19 26.72 0 36.92l209.84 209.84c10.19 10.19 26.72 10.19 36.92 0l12.58-12.58c10.19-10.19 10.19-26.72 0-36.92L319.33 388.14c-10.19-10.19-26.72-10.19-36.91 0z" class="icon-in" p-id="3342" /></symbol><symbol class="icon active" viewBox="0 0 1024 1024"   id="svg-line-active"><path d="M795.969 641.938c-44.844 0-85.094 20.015-112.219 51.515L454.39 561.11c4.157-15.53 6.344-31.937 6.344-48.78 0-16.845-2.187-33.25-6.343-48.782l230.234-132.89c27.125 30.952 66.938 50.53 111.453 50.53 81.813 0 148.094-66.28 148.094-148.093C944.172 151.28 877.782 85 795.969 85s-148.094 66.281-148.094 148.094c0 14.11 1.969 27.781 5.688 40.687L427.155 404.484c-34.344-49.875-91.765-82.578-156.844-82.578C165.204 321.906 80 407.11 80 512.328S165.203 702.75 270.313 702.75c65.078 0 122.609-32.703 156.953-82.578l225.968 130.484c-3.5 12.578-5.359 25.703-5.359 39.375 0 81.813 66.281 148.094 148.094 148.094 81.812 0 148.093-66.281 148.093-148.094 0-81.812-66.28-148.093-148.093-148.093z m0-492.079c45.937 0 83.234 37.297 83.234 83.235 0 45.937-37.297 83.234-83.234 83.234-45.938 0-83.235-37.297-83.235-83.234 0-45.938 37.297-83.235 83.235-83.235zM270.312 637.781c-69.234 0-125.453-56.11-125.453-125.453 0-69.344 56.22-125.453 125.453-125.453 69.235 0 125.454 56.11 125.454 125.453 0 69.344-56.11 125.453-125.454 125.453z m525.657 234.39c-45.39 0-82.14-36.75-82.14-82.14s36.75-82.14 82.14-82.14 82.14 36.75 82.14 82.14c0.11 45.39-36.75 82.14-82.14 82.14z" p-id="1837" data-spm-anchor-id="a313x.manage_type_myprojects.0.i0.1adc3a813mH6xq" class="icon-out" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-line"><path d="M795.969 641.938c-44.844 0-85.094 20.015-112.219 51.515L454.39 561.11c4.157-15.53 6.344-31.937 6.344-48.78 0-16.845-2.187-33.25-6.343-48.782l230.234-132.89c27.125 30.952 66.938 50.53 111.453 50.53 81.813 0 148.094-66.28 148.094-148.093C944.172 151.28 877.782 85 795.969 85s-148.094 66.281-148.094 148.094c0 14.11 1.969 27.781 5.688 40.687L427.155 404.484c-34.344-49.875-91.765-82.578-156.844-82.578C165.204 321.906 80 407.11 80 512.328S165.203 702.75 270.313 702.75c65.078 0 122.609-32.703 156.953-82.578l225.968 130.484c-3.5 12.578-5.359 25.703-5.359 39.375 0 81.813 66.281 148.094 148.094 148.094 81.812 0 148.093-66.281 148.093-148.094 0-81.812-66.28-148.093-148.093-148.093z m0-492.079c45.937 0 83.234 37.297 83.234 83.235 0 45.937-37.297 83.234-83.234 83.234-45.938 0-83.235-37.297-83.235-83.234 0-45.938 37.297-83.235 83.235-83.235zM270.312 637.781c-69.234 0-125.453-56.11-125.453-125.453 0-69.344 56.22-125.453 125.453-125.453 69.235 0 125.454 56.11 125.454 125.453 0 69.344-56.11 125.453-125.454 125.453z m525.657 234.39c-45.39 0-82.14-36.75-82.14-82.14s36.75-82.14 82.14-82.14 82.14 36.75 82.14 82.14c0.11 45.39-36.75 82.14-82.14 82.14z" p-id="1837" data-spm-anchor-id="a313x.manage_type_myprojects.0.i0.1adc3a813mH6xq" class="icon-out" /></symbol><symbol viewBox="0 0 48 48" fill="none"  id="svg-lock">\r
    <rect x="6" y="22" width="36" height="22" rx="2" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M14 22V14C14 8.47715 18.4772 4 24 4C29.5228 4 34 8.47715 34 14V22" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
    <path d="M24 30V36" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
</symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-menu-fold"><path d="M510.89 921.7c-88.25 0-176.5-6.43-264.14-19.28l-0.26-0.04c-30.68-4.81-61.57-21.44-86.98-46.85-25.41-25.41-42.05-56.3-46.85-86.98l-0.04-0.26a1818.793 1818.793 0 0 1 0-528.28l0.04-0.26c4.81-30.68 21.44-61.57 46.85-86.98s56.3-42.05 86.98-46.85l0.26-0.04a1818.793 1818.793 0 0 1 528.28 0l0.26 0.04c30.68 4.81 61.57 21.45 86.98 46.85 25.41 25.41 42.05 56.3 46.85 86.98l0.04 0.26a1818.793 1818.793 0 0 1 0 528.28l-0.04 0.26c-4.81 30.68-21.45 61.58-46.85 86.98-25.41 25.41-56.3 42.05-86.98 46.85l-0.26 0.04a1819.042 1819.042 0 0 1-264.14 19.28z m-256.02-73.68a1763.556 1763.556 0 0 0 512.04 0c39.74-6.3 81.56-48.12 87.86-87.86 24.9-169.87 24.9-342.16 0-512.03-6.3-39.74-48.11-81.56-87.86-87.86a1763.556 1763.556 0 0 0-512.04 0c-39.75 6.3-81.57 48.12-87.86 87.86a1763.488 1763.488 0 0 0 0 512.03c6.3 39.75 48.12 81.57 87.86 87.86z" class="icon-out" p-id="2559" /><path d="M399.85 335.23l209.84 209.84c10.19 10.19 26.72 10.19 36.92 0l12.58-12.58c10.19-10.19 10.19-26.72 0-36.92L449.35 285.73c-10.19-10.19-26.72-10.19-36.92 0l-12.58 12.58c-10.2 10.2-10.2 26.73 0 36.92z" class="icon-in" p-id="2560" /><path d="M399.16 729.11l12.58 12.58c10.19 10.19 26.72 10.19 36.92 0L658.5 531.85c10.19-10.19 10.19-26.72 0-36.92l-12.58-12.58c-10.19-10.19-26.72-10.19-36.92 0L399.16 692.2c-10.19 10.19-10.19 26.72 0 36.91z" class="icon-in" p-id="2561" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-menu-unfold"><path d="M512.42 920.16c-88.25 0-176.5-6.43-264.14-19.28l-0.26-0.04c-30.68-4.81-61.57-21.45-86.98-46.85-25.41-25.41-42.05-56.3-46.85-86.98l-0.04-0.26a1818.793 1818.793 0 0 1 0-528.28l0.04-0.26c4.81-30.68 21.44-61.57 46.85-86.98 25.41-25.41 56.3-42.05 86.98-46.85l0.26-0.04a1818.793 1818.793 0 0 1 528.28 0l0.26 0.04c30.68 4.81 61.57 21.44 86.98 46.85s42.05 56.3 46.85 86.98l0.04 0.26a1818.793 1818.793 0 0 1 0 528.28l-0.04 0.26c-4.81 30.68-21.44 61.57-46.85 86.98-25.41 25.41-56.3 42.05-86.98 46.85l-0.26 0.04a1820.45 1820.45 0 0 1-264.14 19.28z m-256.03-73.69c169.89 24.91 342.15 24.91 512.05 0 39.74-6.3 81.56-48.12 87.86-87.86 24.9-169.87 24.9-342.16 0-512.03-6.3-39.75-48.12-81.57-87.86-87.86a1764.188 1764.188 0 0 0-512.03 0c-39.74 6.3-81.57 48.12-87.86 87.86a1764.188 1764.188 0 0 0 0 512.03c6.28 39.74 48.1 81.56 87.84 87.86z" class="icon-out" p-id="2403" /><path d="M626.33 337.19L416.49 547.03c-10.19 10.19-26.72 10.19-36.92 0l-12.58-12.58c-10.19-10.19-10.19-26.72 0-36.92l209.84-209.84c10.19-10.19 26.72-10.19 36.92 0l12.58 12.58c10.19 10.19 10.19 26.72 0 36.92z" class="icon-in" p-id="2404" /><path d="M627.01 731.07l-12.58 12.58c-10.19 10.19-26.72 10.19-36.92 0L367.67 533.81c-10.19-10.19-10.19-26.72 0-36.92l12.58-12.58c10.19-10.19 26.72-10.19 36.92 0l209.84 209.84c10.19 10.2 10.19 26.72 0 36.92z" class="icon-in" p-id="2405" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-preview"><path d="M127.94 530.03c-6.67 0-13.32-2.65-18.24-7.89-9.43-10.06-8.95-25.85 1.1-35.3 3.67-3.45 91.45-84.93 234.32-126.4 84.14-24.42 169.95-29.79 255.04-15.96 105.79 17.19 210.4 64.23 310.94 139.81 11.04 8.3 13.26 23.97 4.96 35.01-8.29 11.03-23.97 13.26-35 4.96-169.55-127.45-344.5-166.61-519.99-116.38-131.94 37.76-215.21 114.63-216.04 115.41a25.01 25.01 0 0 1-17.09 6.74z" class="icon-in" p-id="1779" /><path d="M509 688.98c-54.54 0-109.01-7.83-162.8-23.44-142.87-41.46-230.65-122.95-234.32-126.4-10.06-9.46-10.54-25.28-1.08-35.34 9.45-10.05 25.25-10.54 35.31-1.11 0.83 0.77 84.1 77.65 216.04 115.41 175.5 50.22 350.44 11.07 519.99-116.38 11.04-8.3 26.71-6.07 35 4.96 8.3 11.04 6.08 26.71-4.96 35.01C811.64 617.26 707.03 664.3 601.24 681.5c-30.69 4.98-61.47 7.48-92.24 7.48z" class="icon-in" p-id="1780" /><path d="M506.82 741.13c-141.09 0-275.99-70.27-401.17-209.03l-17.53-19.43 16.87-20c1.64-1.95 41.06-48.3 108.65-95.76 39.76-27.92 81.2-50.54 123.19-67.25 52.97-21.08 106.94-32.74 160.4-34.67 146.39-5.28 287.79 60.95 420.32 196.86l18.69 19.16-16.92 20.74c-1.7 2.09-42.53 51.76-111.93 102.32-40.88 29.79-83.37 53.81-126.29 71.39-54.25 22.23-109.31 34.19-163.66 35.54-3.53 0.08-7.09 0.13-10.62 0.13z m-337.8-229c110.37 114.93 226.81 171.73 346.5 168.89 106.58-2.53 197.54-52.73 255.07-94.39 37.87-27.42 66.74-54.92 84-72.79-114.02-109.7-233.21-163.13-354.69-158.92-105.44 3.67-194.27 50.96-250.22 89.99-36.31 25.32-63.96 50.6-80.66 67.22z" class="icon-out" p-id="1781" /><path d="M505.25 671.33c-87.55 0-158.78-71.23-158.78-158.78s71.23-158.78 158.78-158.78S664.02 425 664.02 512.55 592.8 671.33 505.25 671.33z m0-257.56c-54.47 0-98.78 44.31-98.78 98.78s44.31 98.78 98.78 98.78 98.78-44.31 98.78-98.78-44.32-98.78-98.78-98.78z" class="icon-in" p-id="1782" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-question"><path d="M512 172.8c187.04 0 339.2 152.16 339.2 339.2S699.04 851.2 512 851.2 172.8 699.03 172.8 512 324.97 172.8 512 172.8m0-76.8C282.25 96 96 282.25 96 512s186.25 416 416 416 416-186.25 416-416S741.75 96 512 96z" class="icon-out" p-id="5865" data-spm-anchor-id="a313x.search_index.0.i0.4bca3a81TehghO" /><path d="M531.31 278.99c-92.43-2.84-151.21 46.22-175.93 126.24-0.03 0.1 0.23 0.23 0.22 0.33-1.34 3.71-2.37 7.59-2.37 11.75 0 19.25 15.61 34.86 34.86 34.86 15.13 0 27.69-9.76 32.52-23.23 0.03 0.01 0.33 0.08 0.33 0.08 14.05-63.91 45.58-82.75 100.14-81.23 46.75 3.15 72.47 26.54 77.14 70.14 3.08 29.62-17.94 60.02-63.13 91.16-42.07 29.62-62.35 66.28-60.76 109.88 0 0.09 0.16 0.12 0.16 0.21-0.01 0.31-0.18 0.57-0.18 0.88 0 16.82 13.63 30.46 30.46 30.46 15.53 0 27.85-11.8 29.72-26.82 0.09-0.01 0.59-0.05 0.59-0.05s-0.3 0.03-0.59 0.05c0.26-0.02 0.24-0.02 0.59-0.05-1.55-32.73 16.39-60.76 53.75-84.15 59.2-37.41 87.26-80.26 84.15-128.56-7.77-77.94-56-127.28-141.67-131.95zM504.7 745.14h-2.34c-20.66 0-37.4-16.75-37.4-37.4 0-20.66 16.75-37.4 37.4-37.4h2.34c20.66 0 37.4 16.75 37.4 37.4s-16.75 37.4-37.4 37.4z" class="icon-in" p-id="5866" data-spm-anchor-id="a313x.search_index.0.i3.4bca3a81TehghO" /></symbol><symbol class="icon gray" viewBox="0 0 1024 1024"   id="svg-redo-gray"><path d="M550.912 890.88c-4.096 0-7.9872-0.8192-11.8784-2.4576-11.4688-4.7104-18.8416-15.9744-18.8416-28.2624v-156.672c-96.256-68.1984-309.0432 65.536-385.4336 125.1328-10.4448 7.9872-24.576 8.6016-35.6352 1.6384-11.0592-7.168-16.1792-20.48-13.1072-33.1776 99.1232-401.408 347.3408-475.9552 433.9712-489.6768V163.84c0-12.288 7.3728-23.552 18.8416-28.2624 11.4688-4.9152 24.576-2.2528 33.3824 6.3488l357.1712 348.16c5.9392 5.7344 9.216 13.7216 9.216 21.9136s-3.2768 16.1792-9.216 21.9136l-357.1712 348.16c-5.7344 5.7344-13.5168 8.8064-21.2992 8.8064z m-96.8704-267.0592c44.032 0 84.992 12.0832 117.76 43.008 6.144 5.7344 9.6256 13.9264 9.6256 22.3232v98.304L864.0512 512 581.632 236.7488v98.304c0 16.7936-13.312 30.3104-30.1056 30.72-11.264 0.4096-261.5296 12.0832-381.7472 364.1344 72.2944-45.8752 185.9584-106.0864 284.2624-106.0864z" class="icon-out" p-id="42083" data-spm-anchor-id="a313x.search_index.0.i8.a5e03a81nkrsAk" /><path d="M343.2448 579.7888c-5.9392 0-11.8784-2.048-16.7936-5.9392a26.8288 26.8288 0 0 1-3.6864-37.4784c44.4416-54.272 95.0272-93.3888 150.3232-116.5312 13.7216-5.7344 29.0816 0.8192 34.816 14.336 5.7344 13.5168-0.6144 29.0816-14.336 34.816-47.104 19.6608-90.7264 53.8624-129.6384 101.1712-5.3248 6.3488-12.9024 9.6256-20.6848 9.6256z" class="icon-in" p-id="42084" data-spm-anchor-id="a313x.search_index.0.i11.a5e03a81nkrsAk" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-redo"><path d="M550.912 890.88c-4.096 0-7.9872-0.8192-11.8784-2.4576-11.4688-4.7104-18.8416-15.9744-18.8416-28.2624v-156.672c-96.256-68.1984-309.0432 65.536-385.4336 125.1328-10.4448 7.9872-24.576 8.6016-35.6352 1.6384-11.0592-7.168-16.1792-20.48-13.1072-33.1776 99.1232-401.408 347.3408-475.9552 433.9712-489.6768V163.84c0-12.288 7.3728-23.552 18.8416-28.2624 11.4688-4.9152 24.576-2.2528 33.3824 6.3488l357.1712 348.16c5.9392 5.7344 9.216 13.7216 9.216 21.9136s-3.2768 16.1792-9.216 21.9136l-357.1712 348.16c-5.7344 5.7344-13.5168 8.8064-21.2992 8.8064z m-96.8704-267.0592c44.032 0 84.992 12.0832 117.76 43.008 6.144 5.7344 9.6256 13.9264 9.6256 22.3232v98.304L864.0512 512 581.632 236.7488v98.304c0 16.7936-13.312 30.3104-30.1056 30.72-11.264 0.4096-261.5296 12.0832-381.7472 364.1344 72.2944-45.8752 185.9584-106.0864 284.2624-106.0864z" class="icon-out" p-id="42083" data-spm-anchor-id="a313x.search_index.0.i8.a5e03a81nkrsAk" /><path d="M343.2448 579.7888c-5.9392 0-11.8784-2.048-16.7936-5.9392a26.8288 26.8288 0 0 1-3.6864-37.4784c44.4416-54.272 95.0272-93.3888 150.3232-116.5312 13.7216-5.7344 29.0816 0.8192 34.816 14.336 5.7344 13.5168-0.6144 29.0816-14.336 34.816-47.104 19.6608-90.7264 53.8624-129.6384 101.1712-5.3248 6.3488-12.9024 9.6256-20.6848 9.6256z" class="icon-in" p-id="42084" data-spm-anchor-id="a313x.search_index.0.i11.a5e03a81nkrsAk" /></symbol><symbol class="icon" viewBox="0 0 1165 1024"   id="svg-return"><path d="M364.967083 734.583428c-10.46084 0-20.92168-3.486947-29.057889-11.623156L11.623156 398.674234c-16.272418-16.272418-16.272418-41.84336 0-58.115778L335.909194 16.272418c16.272418-16.272418 41.84336-16.272418 58.115778 0s16.272418 41.84336 0 58.115777L98.796822 369.616345l295.22815 295.22815c16.272418 16.272418 16.272418 41.84336 0 58.115777-8.136209 8.136209-18.597049 11.623156-29.057889 11.623156z" p-id="3653" data-spm-anchor-id="a313x.manage_type_myprojects.0.i25.1adc3a81koFwd9" class="icon-out" /><path d="M645.085131 727.609535c-15.110102 15.110102-38.356413 15.110102-53.466516 0L260.358683 396.349603c-15.110102-15.110102-15.110102-38.356413 0-53.466516L591.618615 11.623156c15.110102-15.110102 38.356413-15.110102 53.466516 0" p-id="3654" data-spm-anchor-id="a313x.manage_type_myprojects.0.i21.1adc3a81koFwd9" class="icon-in" /><path d="M645.085131 532.340522S1104.199773 496.30874 1024 1024c0 0 216.190692-249.897843 113.906924-516.068104-51.141884-96.472191-112.744608-295.22815-492.821793-297.552781v321.961407z" p-id="3655" data-spm-anchor-id="a313x.manage_type_myprojects.0.i22.1adc3a81koFwd9" class="icon-in" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-rotate"><path d="M934.101333 416.426667h-220.373333c-26.752 0-47.232-20.48-47.232-47.232s20.48-47.232 47.232-47.232h173.141333V148.821333c0-26.752 20.48-47.232 47.232-47.232S981.333333 122.069333 981.333333 148.821333v220.373344c0 25.173333-20.48 47.232-47.232 47.232z" fill="#344" p-id="4939" data-spm-anchor-id="a313x.search_index.0.i10.30723a81IiaItd" class="selected" /><path d="M509.098667 978.389333C249.344 978.389333 38.4 767.530667 38.4 507.733333 38.4 247.978667 249.344 37.034667 509.098667 37.034667A472.32 472.32 0 0 1 943.530667 325.12c9.472 23.637333-1.536 51.968-25.173344 61.44-23.594667 9.386667-51.925333-1.621333-61.397333-25.216a377.898667 377.898667 0 0 0-347.861333-229.845333A376.234667 376.234667 0 0 0 132.864 507.733333a376.234667 376.234667 0 0 0 376.234667 376.234667c190.464 0 351.018667-141.653333 373.077333-329.002667 3.114667-25.173333 26.752-44.074667 51.925333-40.96 25.173333 3.157333 44.074667 26.794667 40.96 51.968-28.373333 234.538667-228.266667 412.416-465.962666 412.416z" fill="#344" p-id="4940" data-spm-anchor-id="a313x.search_index.0.i9.30723a81IiaItd" class="selected" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-save"><path d="M828.038 898.796H195.962c-39.409 0-71.471-32.062-71.471-71.471V195.249c0-39.409 32.062-71.471 71.471-71.471h89.621c10.382 0 18.798 8.416 18.798 18.798s-8.416 18.798-18.798 18.798h-89.621c-18.679 0-33.875 15.196-33.875 33.875v632.076c0 18.679 15.196 33.875 33.875 33.875h632.076c18.679 0 33.875-15.196 33.875-33.875V340.256L674.088 161.374h-96.215c-10.382 0-18.798-8.416-18.798-18.798s8.416-18.798 18.798-18.798h111.253l210.383 200.365v503.182c0 39.409-32.062 71.471-71.471 71.471z" class="icon-out" p-id="1919" data-spm-anchor-id="a313x.manage_type_myprojects.0.i6.1adc3a8106MMa8" /><path d="M756.239 863.629h-37.597V643.456c0-7.062-5.744-12.807-12.806-12.807H317.11c-7.061 0-12.806 5.745-12.806 12.807v220.173h-37.596V643.456c0-27.792 22.61-50.402 50.402-50.402h388.727c27.792 0 50.402 22.61 50.402 50.402v220.173z" class="icon-out" p-id="1920" data-spm-anchor-id="a313x.manage_type_myprojects.0.i7.1adc3a8106MMa8" /><path d="M547.818 325.374H317.11c-27.792 0-50.402-22.61-50.402-50.402V151.895c0-27.792 22.61-50.402 50.402-50.402h230.708c27.791 0 50.4 22.61 50.4 50.402v123.077c0.001 27.791-22.609 50.402-50.4 50.402zM317.11 139.089c-7.061 0-12.806 5.745-12.806 12.806v123.077c0 7.061 5.745 12.806 12.806 12.806h230.708c7.061 0 12.805-5.745 12.805-12.806V151.895c0-7.061-5.744-12.806-12.805-12.806H317.11z" class="icon-middle" p-id="1921" /><path d="M621.717 155.654c0-17.454-14.149-31.604-31.604-31.604H359.405c-17.455 0-31.604 14.15-31.604 31.604v9.871h-0.157V316.17c0 17.454 14.149 31.604 31.604 31.604h230.708c17.454 0 31.604-14.15 31.604-31.604V166.069h0.156v-10.415z" class="icon-middle" opacity=".4" p-id="1922" /></symbol><symbol viewBox="0 0 1024 1024"  id="svg-setting">
    <path d="M919.6 405.6l-57.2-8c-12.7-1.8-23-10.4-28-22.1-11.3-26.7-25.7-51.7-42.9-74.5-7.7-10.2-10-23.5-5.2-35.3l21.7-53.5c6.7-16.4 0.2-35.3-15.2-44.1L669.1 96.6c-15.4-8.9-34.9-5.1-45.8 8.9l-35.4 45.3c-7.9 10.2-20.7 14.9-33.5 13.3-14-1.8-28.3-2.8-42.8-2.8-14.5 0-28.8 1-42.8 2.8-12.8 1.6-25.6-3.1-33.5-13.3l-35.4-45.3c-10.9-14-30.4-17.8-45.8-8.9L230.4 168c-15.4 8.9-21.8 27.7-15.2 44.1l21.7 53.5c4.8 11.9 2.5 25.1-5.2 35.3-17.2 22.8-31.7 47.8-42.9 74.5-5 11.8-15.3 20.4-28 22.1l-57.2 8C86 408 72.9 423 72.9 440.8v142.9c0 17.7 13.1 32.7 30.6 35.2l57.2 8c12.7 1.8 23 10.4 28 22.1 11.3 26.7 25.7 51.7 42.9 74.5 7.7 10.2 10 23.5 5.2 35.3l-21.7 53.5c-6.7 16.4-0.2 35.3 15.2 44.1L354 927.8c15.4 8.9 34.9 5.1 45.8-8.9l35.4-45.3c7.9-10.2 20.7-14.9 33.5-13.3 14 1.8 28.3 2.8 42.8 2.8 14.5 0 28.8-1 42.8-2.8 12.8-1.6 25.6 3.1 33.5 13.3l35.4 45.3c10.9 14 30.4 17.8 45.8 8.9l123.7-71.4c15.4-8.9 21.8-27.7 15.2-44.1l-21.7-53.5c-4.8-11.8-2.5-25.1 5.2-35.3 17.2-22.8 31.7-47.8 42.9-74.5 5-11.8 15.3-20.4 28-22.1l57.2-8c17.6-2.5 30.6-17.5 30.6-35.2V440.8c0.2-17.8-12.9-32.8-30.5-35.2z m-408 245.5c-76.7 0-138.9-62.2-138.9-138.9s62.2-138.9 138.9-138.9 138.9 62.2 138.9 138.9-62.2 138.9-138.9 138.9z" />
</symbol><symbol class="icon gray" viewBox="0 0 1024 1024"   id="svg-undo-gray"><g transform="scale(-1, 1) translate(-1024, 0)"><path d="M550.912 890.88c-4.096 0-7.9872-0.8192-11.8784-2.4576-11.4688-4.7104-18.8416-15.9744-18.8416-28.2624v-156.672c-96.256-68.1984-309.0432 65.536-385.4336 125.1328-10.4448 7.9872-24.576 8.6016-35.6352 1.6384-11.0592-7.168-16.1792-20.48-13.1072-33.1776 99.1232-401.408 347.3408-475.9552 433.9712-489.6768V163.84c0-12.288 7.3728-23.552 18.8416-28.2624 11.4688-4.9152 24.576-2.2528 33.3824 6.3488l357.1712 348.16c5.9392 5.7344 9.216 13.7216 9.216 21.9136s-3.2768 16.1792-9.216 21.9136l-357.1712 348.16c-5.7344 5.7344-13.5168 8.8064-21.2992 8.8064z m-96.8704-267.0592c44.032 0 84.992 12.0832 117.76 43.008 6.144 5.7344 9.6256 13.9264 9.6256 22.3232v98.304L864.0512 512 581.632 236.7488v98.304c0 16.7936-13.312 30.3104-30.1056 30.72-11.264 0.4096-261.5296 12.0832-381.7472 364.1344 72.2944-45.8752 185.9584-106.0864 284.2624-106.0864z" class="icon-out" p-id="42083" data-spm-anchor-id="a313x.search_index.0.i8.a5e03a81nkrsAk" /><path d="M343.2448 579.7888c-5.9392 0-11.8784-2.048-16.7936-5.9392a26.8288 26.8288 0 0 1-3.6864-37.4784c44.4416-54.272 95.0272-93.3888 150.3232-116.5312 13.7216-5.7344 29.0816 0.8192 34.816 14.336 5.7344 13.5168-0.6144 29.0816-14.336 34.816-47.104 19.6608-90.7264 53.8624-129.6384 101.1712-5.3248 6.3488-12.9024 9.6256-20.6848 9.6256z" class="icon-in" p-id="42084" data-spm-anchor-id="a313x.search_index.0.i11.a5e03a81nkrsAk" /></g></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-undo"><g transform="scale(-1, 1) translate(-1024, 0)"><path d="M550.912 890.88c-4.096 0-7.9872-0.8192-11.8784-2.4576-11.4688-4.7104-18.8416-15.9744-18.8416-28.2624v-156.672c-96.256-68.1984-309.0432 65.536-385.4336 125.1328-10.4448 7.9872-24.576 8.6016-35.6352 1.6384-11.0592-7.168-16.1792-20.48-13.1072-33.1776 99.1232-401.408 347.3408-475.9552 433.9712-489.6768V163.84c0-12.288 7.3728-23.552 18.8416-28.2624 11.4688-4.9152 24.576-2.2528 33.3824 6.3488l357.1712 348.16c5.9392 5.7344 9.216 13.7216 9.216 21.9136s-3.2768 16.1792-9.216 21.9136l-357.1712 348.16c-5.7344 5.7344-13.5168 8.8064-21.2992 8.8064z m-96.8704-267.0592c44.032 0 84.992 12.0832 117.76 43.008 6.144 5.7344 9.6256 13.9264 9.6256 22.3232v98.304L864.0512 512 581.632 236.7488v98.304c0 16.7936-13.312 30.3104-30.1056 30.72-11.264 0.4096-261.5296 12.0832-381.7472 364.1344 72.2944-45.8752 185.9584-106.0864 284.2624-106.0864z" class="icon-out" p-id="42083" data-spm-anchor-id="a313x.search_index.0.i8.a5e03a81nkrsAk" /><path d="M343.2448 579.7888c-5.9392 0-11.8784-2.048-16.7936-5.9392a26.8288 26.8288 0 0 1-3.6864-37.4784c44.4416-54.272 95.0272-93.3888 150.3232-116.5312 13.7216-5.7344 29.0816 0.8192 34.816 14.336 5.7344 13.5168-0.6144 29.0816-14.336 34.816-47.104 19.6608-90.7264 53.8624-129.6384 101.1712-5.3248 6.3488-12.9024 9.6256-20.6848 9.6256z" class="icon-in" p-id="42084" data-spm-anchor-id="a313x.search_index.0.i11.a5e03a81nkrsAk" /></g></symbol><symbol viewBox="0 0 48 48" fill="none"  id="svg-ungroup">\r
    <path d="M11.2727 4H4V11.2727H11.2727V4Z" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M43.9998 36.7271H36.7271V43.9998H43.9998V36.7271Z" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M11.2727 24H4V31.2727H11.2727V24Z" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M23.9998 36.7271H16.7271V43.9998H23.9998V36.7271Z" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M31.2727 4H24V11.2727H31.2727V4Z" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M43.9998 16.7271H36.7271V23.9998H43.9998V16.7271Z" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M11.2729 7.63623H24.0002" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
    <path d="M24 40.3638H36.7273" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
    <path d="M11.2729 27.6366H27.6366V11.2729" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
    <path d="M28.8275 20.3633H36.7269M20.3633 36.7269V27.6282V36.7269Z" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
    <path d="M7.63672 11.2725V23.9997" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
    <path d="M40.3633 24V36.7273" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
</symbol><symbol viewBox="0 0 48 48" fill="none"  id="svg-unlock">\r
    <rect x="7" y="22.0476" width="34" height="22" rx="2" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M14 22V14.0047C13.9948 8.87022 17.9227 4.56718 23.0859 4.05117C28.249 3.53516 32.9673 6.97408 34 12.0059" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
    <path d="M24 30V36" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
</symbol>`, n.insertBefore(i, n.lastChild);
  };
  document.readyState === "loading" ? document.addEventListener("DOMContentLoaded", r) : r();
}
const main = "", index$2 = "";
var ELineBindAnchors = /* @__PURE__ */ ((r) => (r.TopCenter = "TopCenter", r.Left = "Left", r.Right = "Right", r.BottomCenter = "BottomCenter", r))(ELineBindAnchors || {}), EConfigAnimationsType = /* @__PURE__ */ ((r) => (r.None = "None", r.Electricity = "Electricity", r.WaterDrop = "WaterDrop", r.Track = "Track", r))(EConfigAnimationsType || {}), EConfigItemPropsType = /* @__PURE__ */ ((r) => (r.Input = "Input", r.Textarea = "Textarea", r.Color = "Color", r.InputNumber = "InputNumber", r.Switch = "Switch", r.JsonEdit = "JsonEdit", r.Select = "Select", r))(EConfigItemPropsType || {}), EDoneJsonType = /* @__PURE__ */ ((r) => (r.File = "File", r.StraightLine = "StraightLine", r.ConnectionLine = "ConnectionLine", r.CustomSvg = "CustomSvg", r.Vue = "Vue", r))(EDoneJsonType || {}), EEventType = /* @__PURE__ */ ((r) => (r.Click = "Click", r.Change = "Change", r.Null = "", r))(EEventType || {}), EEventAction = /* @__PURE__ */ ((r) => (r.ChangeAttr = "ChangeAttr", r.JavaScript = "JavaScript", r.Null = "", r))(EEventAction || {}), EConditionType = /* @__PURE__ */ ((r) => (r.None = "None", r.Relation = "Relation", r))(EConditionType || {}), EGlobalStoreIntention = /* @__PURE__ */ ((r) => (r.None = "None", r.Create = "Create", r.Move = "Move", r.GroupMove = "GroupMove", r.MoveCanvas = "MoveCanvas", r.Select = "Select", r.Zoom = "Zoom", r.Rotate = "Rotate", r.Connection = "Connection", r.SetConnectionLineNode = "SetConnectionLineNode", r.ContextMenu = "ContextMenu", r.SelectArea = "SelectArea", r))(EGlobalStoreIntention || {}), EMouseInfoState = /* @__PURE__ */ ((r) => (r.Down = "Down", r.Up = "Up", r))(EMouseInfoState || {}), EScaleInfoType = /* @__PURE__ */ ((r) => (r.None = "", r.TopLeft = "TopLeft", r.TopCenter = "TopCenter", r.TopRight = "TopRight", r.Left = "Left", r.Right = "Right", r.BottomLeft = "BottomLeft", r.BottomCenter = "BottomCenter", r.BottomRight = "BottomRight", r))(EScaleInfoType || {});
const svg_alert_light = {
  name: "alert-light",
  title: "警示灯",
  type: EDoneJsonType.File,
  config: {
    can_zoom: !0,
    have_anchor: !0,
    actual_rect: !0
  },
  display: !0,
  props: {},
  defaultState: "white",
  state: {
    green: {
      label: "正常",
      fill: "#00ff00",
      fillOpacity: "1"
    },
    yellow: { label: "请注意", fill: "#ffff00", fillOpacity: "1" },
    red: { label: "报警", fill: "#ff0000", fillOpacity: "1" },
    white: { label: "关闭", fill: "#ffffff", fillOpacity: "0" }
  },
  common_animations: {
    val: "",
    delay: "delay-0s",
    speed: "slow",
    repeat: "infinite"
  },
  events: []
}, stateful_group = {
  groupType: "stateful",
  title: "状态SVG",
  list: [svg_alert_light]
}, svg_bot_2 = {
  name: "bot-2",
  title: "2号机",
  type: EDoneJsonType.File,
  display: !0,
  config: {
    can_zoom: !0,
    have_anchor: !0,
    actual_rect: !0
  },
  props: {
    height: {
      title: "高度",
      type: EConfigItemPropsType.InputNumber,
      val: 150
    },
    width: {
      title: "宽度",
      type: EConfigItemPropsType.InputNumber,
      val: 120
    }
  },
  common_animations: {
    val: "",
    delay: "delay-0s",
    speed: "slow",
    repeat: "infinite"
  },
  events: []
}, svg_bot_9 = {
  name: "bot-9",
  title: "9号机",
  type: EDoneJsonType.File,
  display: !0,
  config: {
    can_zoom: !0,
    have_anchor: !0,
    actual_rect: !0
  },
  props: {},
  common_animations: {
    val: "",
    delay: "delay-0s",
    speed: "slow",
    repeat: "infinite"
  },
  events: []
}, svg_hotpot = {
  name: "hotpot",
  title: "火锅",
  type: EDoneJsonType.File,
  display: !0,
  config: {
    can_zoom: !0,
    have_anchor: !0,
    actual_rect: !0
  },
  props: {},
  common_animations: {
    val: "",
    delay: "delay-0s",
    speed: "slow",
    repeat: "infinite"
  },
  events: []
}, svg_hamburger = {
  name: "hamburger",
  title: "汉堡",
  type: EDoneJsonType.File,
  display: !0,
  config: {
    can_zoom: !0,
    have_anchor: !0,
    actual_rect: !0
  },
  props: {},
  common_animations: {
    val: "",
    delay: "delay-0s",
    speed: "slow",
    repeat: "infinite"
  },
  events: []
}, stateless_group = {
  groupType: "stateless",
  title: "静态SVG",
  list: [svg_hamburger, svg_hotpot, svg_bot_2, svg_bot_9]
}, thermometer = {
  name: "thermometer",
  title: "温度计",
  type: EDoneJsonType.File,
  config: {
    can_zoom: !0,
    have_anchor: !0,
    actual_rect: !0
  },
  display: !0,
  props: {},
  common_animations: {
    val: "",
    delay: "delay-0s",
    speed: "slow",
    repeat: "infinite"
  },
  events: []
}, animation_group = {
  groupType: "have_animation",
  title: "动画SVG",
  list: [thermometer]
}, svg_text = {
  name: "svg-text",
  title: "文字",
  tag: "svg-text",
  type: EDoneJsonType.CustomSvg,
  display: !0,
  config: {
    can_zoom: !0,
    have_anchor: !0,
    actual_rect: !0
  },
  props: {
    /*deviceCode:{
    	title:'设备编码',
    	type:EConfigItemPropsType.Input,
    	val:''
    },*/
    text: {
      title: "文字内容",
      type: EConfigItemPropsType.Textarea,
      val: "文字内容"
    },
    fontFamily: {
      title: "字体",
      type: EConfigItemPropsType.Select,
      val: "Microsoft YaHei",
      options: [
        {
          value: "Microsoft YaHei",
          label: "微软雅黑"
        },
        {
          value: "NSimSun",
          label: "新宋体"
        },
        {
          value: "KaiTi",
          label: "楷体"
        }
      ]
    },
    fontSize: {
      title: "文字大小",
      type: EConfigItemPropsType.InputNumber,
      val: 18
    },
    fill: {
      title: "文字颜色",
      type: EConfigItemPropsType.Color,
      val: "#000"
    },
    bold: {
      title: "文字加粗",
      type: EConfigItemPropsType.Switch,
      val: !1
    },
    writingMode: {
      title: "文字朝向",
      type: EConfigItemPropsType.Select,
      val: "horizontal-tb",
      options: [
        {
          value: "horizontal-tb",
          label: "水平"
        },
        {
          value: "vertical-rl",
          label: "垂直"
        }
      ]
    }
  },
  common_animations: {
    val: "",
    delay: "delay-0s",
    speed: "slow",
    repeat: "infinite"
  },
  events: []
}, switch_r = {
  name: "switch-r",
  title: "开关",
  tag: "switch-r",
  type: EDoneJsonType.CustomSvg,
  display: !0,
  config: {
    can_zoom: !0,
    have_anchor: !0,
    actual_rect: !0
  },
  props: {
    isOpen: {
      title: "开关",
      type: EConfigItemPropsType.Switch,
      val: !1
    }
  },
  common_animations: {
    val: "",
    delay: "delay-0s",
    speed: "slow",
    repeat: "infinite"
  },
  events: []
}, light_a = {
  name: "light",
  tag: "light-a",
  title: "灯",
  type: EDoneJsonType.CustomSvg,
  config: {
    can_zoom: !0,
    have_anchor: !0,
    actual_rect: !0
  },
  display: !0,
  props: {
    height: {
      title: "高度",
      type: EConfigItemPropsType.InputNumber,
      val: 60
    },
    width: {
      title: "宽度",
      type: EConfigItemPropsType.InputNumber,
      val: 50
    },
    isOpen: {
      title: "开关",
      type: EConfigItemPropsType.Switch,
      val: !1
    }
  },
  common_animations: {
    val: "",
    delay: "delay-0s",
    speed: "slow",
    repeat: "infinite"
  },
  events: []
}, clock_a = {
  name: "clock-a",
  title: "时钟",
  tag: "clock-a",
  type: EDoneJsonType.CustomSvg,
  config: {
    can_zoom: !0,
    have_anchor: !0,
    actual_rect: !0
  },
  display: !0,
  props: {
    centerColor: {
      title: "针顶颜色",
      type: EConfigItemPropsType.Color,
      val: "#EBF257"
    },
    secondsColor: {
      title: "秒针颜色",
      type: EConfigItemPropsType.Color,
      val: "#E83E24"
    },
    circleColor: {
      title: "针圈颜色",
      type: EConfigItemPropsType.Color,
      val: "#F45AFC"
    },
    minutesColor: {
      title: "分针颜色",
      type: EConfigItemPropsType.Color,
      val: "#50E68E"
    },
    hoursColor: {
      title: "时针颜色",
      type: EConfigItemPropsType.Color,
      val: "#9A36E7"
    },
    scaleColor: {
      title: "刻度颜色",
      type: EConfigItemPropsType.Color,
      val: "#4942CF"
    },
    backgroundColor: {
      title: "表盘颜色",
      type: EConfigItemPropsType.Color,
      val: "#ffffff"
    },
    borderColor: {
      title: "表框颜色",
      type: EConfigItemPropsType.Color,
      val: "#B3A7FF"
    }
  },
  common_animations: {
    val: "",
    delay: "delay-0s",
    speed: "slow",
    repeat: "infinite"
  },
  events: []
}, custom_svg_group = {
  groupType: "custom_svg_group",
  title: "SVG组件",
  list: [svg_text, switch_r, light_a, clock_a]
}, svg_config = Object.seal([
  stateless_group,
  stateful_group,
  animation_group,
  custom_svg_group
]), el_button = {
  name: "el-button",
  tag: "el-button",
  title: "按钮",
  type: EDoneJsonType.Vue,
  config: {
    can_zoom: !1,
    have_anchor: !0,
    actual_rect: !0
  },
  display: !0,
  props: {
    size: {
      title: "尺寸",
      type: EConfigItemPropsType.Select,
      val: "default",
      options: [
        { label: "大", value: "large" },
        { label: "默认", value: "default" },
        { label: "小", value: "small" }
      ]
    },
    type: {
      title: "类型",
      type: EConfigItemPropsType.Select,
      val: "primary",
      options: [
        { label: "主要按钮", value: "primary" },
        { label: "成功按钮", value: "success" },
        { label: "警告按钮", value: "warning" },
        { label: "危险按钮", value: "danger" },
        { label: "信息按钮", value: "info" }
      ]
    },
    plain: {
      title: "朴素按钮",
      type: EConfigItemPropsType.Switch,
      val: !1
    },
    text: {
      title: "文字按钮",
      type: EConfigItemPropsType.Switch,
      val: !1
    }
  },
  tag_slot: "按钮",
  common_animations: {
    val: "",
    delay: "delay-0s",
    speed: "slow",
    repeat: "infinite"
  },
  events: []
}, common_table = {
  name: "common-table",
  title: "通用表格",
  tag: "common-table",
  type: EDoneJsonType.Vue,
  config: {
    can_zoom: !1,
    have_anchor: !0,
    actual_rect: !0
  },
  display: !0,
  props: {
    "col-config": {
      title: "列配置",
      type: EConfigItemPropsType.JsonEdit,
      val: [
        {
          prop: "date",
          label: "第一列",
          width: "120px",
          fixed: !1,
          sortable: !1,
          "show-overflow-tooltip": !1
        },
        {
          prop: "name",
          label: "第二列",
          width: "120px",
          fixed: !1,
          sortable: !1,
          "show-overflow-tooltip": !1
        },
        {
          prop: "address",
          label: "第三列测试",
          width: "280px",
          fixed: !1,
          sortable: !1,
          "show-overflow-tooltip": !1
        }
      ]
    },
    data: {
      title: "表格数据",
      type: EConfigItemPropsType.JsonEdit,
      val: [
        {
          date: "2016-05-03",
          name: "Tom",
          address: "No. 189, Grove St, Los Angeles"
        },
        {
          date: "2016-05-02",
          name: "Tom",
          address: "No. 189, Grove St, Los Angeles"
        },
        {
          date: "2016-05-04",
          name: "Tom",
          address: "No. 189, Grove St, Los Angeles"
        },
        {
          date: "2016-05-01",
          name: "Tom",
          address: "No. 189, Grove St, Los Angeles"
        }
      ]
    },
    width: {
      title: "宽度",
      type: EConfigItemPropsType.InputNumber,
      val: 500
    },
    height: {
      title: "高度",
      type: EConfigItemPropsType.InputNumber,
      val: 200
    },
    maxHeight: {
      title: "最大高度",
      type: EConfigItemPropsType.InputNumber,
      val: 200
    },
    stripe: {
      title: "斑马纹",
      type: EConfigItemPropsType.Switch,
      val: !1
    },
    border: {
      title: "纵向边框",
      type: EConfigItemPropsType.Switch,
      val: !1
    },
    size: {
      title: "尺寸",
      type: EConfigItemPropsType.Select,
      val: "default",
      options: [
        {
          label: "大",
          value: "large"
        },
        {
          label: "默认",
          value: "default"
        },
        {
          label: "小",
          value: "small"
        }
      ]
    },
    fit: {
      title: "列宽自撑开",
      type: EConfigItemPropsType.Switch,
      val: !1
    }
  },
  common_animations: {
    val: "",
    delay: "delay-0s",
    speed: "slow",
    repeat: "infinite"
  },
  events: []
}, now_time = {
  name: "now-time",
  title: "当前时间",
  tag: "now-time",
  type: EDoneJsonType.Vue,
  config: {
    can_zoom: !1,
    have_anchor: !1,
    actual_rect: !0
  },
  display: !0,
  props: {
    width: {
      title: "宽度",
      type: EConfigItemPropsType.InputNumber,
      val: 150
    },
    fontFamily: {
      title: "字体",
      type: EConfigItemPropsType.Select,
      val: "Microsoft YaHei",
      options: [
        {
          value: "Microsoft YaHei",
          label: "微软雅黑"
        },
        {
          value: "NSimSun",
          label: "新宋体"
        },
        {
          value: "KaiTi",
          label: "楷体"
        }
      ]
    },
    fontSize: {
      title: "文字大小",
      type: EConfigItemPropsType.InputNumber,
      val: 18
    },
    color: {
      title: "文字颜色",
      type: EConfigItemPropsType.Color,
      val: "#000000"
    },
    bold: {
      title: "文字加粗",
      type: EConfigItemPropsType.Switch,
      val: !1
    }
  },
  common_animations: {
    val: "",
    delay: "delay-0s",
    speed: "slow",
    repeat: "infinite"
  },
  events: []
}, el_tag = {
  name: "el-tag",
  tag: "el-tag",
  title: "标签",
  type: EDoneJsonType.Vue,
  config: {
    can_zoom: !0,
    have_anchor: !0,
    actual_rect: !0
  },
  display: !0,
  props: {
    type: {
      title: "类型",
      type: EConfigItemPropsType.Select,
      val: "success",
      options: [
        { label: "成功", value: "success" },
        { label: "警告", value: "warning" },
        { label: "危险", value: "danger" },
        { label: "信息", value: "info" }
      ]
    },
    closable: {
      title: "可关闭",
      type: EConfigItemPropsType.Switch,
      val: !0
    },
    "disable-transitions": {
      title: "渐变",
      type: EConfigItemPropsType.Switch,
      val: !1
    }
  },
  tag_slot: "标签",
  common_animations: {
    val: "",
    delay: "delay-0s",
    speed: "slow",
    repeat: "infinite"
  },
  events: []
}, progress_a = {
  name: "progress-a",
  tag: "progress-a",
  title: "进度条",
  type: EDoneJsonType.Vue,
  config: {
    can_zoom: !1,
    have_anchor: !0,
    actual_rect: !0
  },
  display: !0,
  props: {
    percentage: {
      title: "进度",
      type: EConfigItemPropsType.InputNumber,
      val: 50
    }
  },
  common_animations: {
    val: "",
    delay: "delay-0s",
    speed: "slow",
    repeat: "infinite"
  },
  events: []
}, components = {
  groupType: "custom-vue",
  title: "VUE组件",
  list: [el_button, progress_a, common_table, now_time, el_tag]
}, pie_charts = {
  name: "pie-charts",
  tag: "pie-charts",
  title: "饼图",
  type: EDoneJsonType.Vue,
  config: {
    can_zoom: !0,
    have_anchor: !0,
    actual_rect: !0
  },
  display: !0,
  props: {
    title: {
      title: "标题",
      type: EConfigItemPropsType.Input,
      val: "默认标题"
    },
    seriesName: {
      title: "详情",
      type: EConfigItemPropsType.Input,
      val: "详情标题"
    },
    seriesData: {
      title: "legendData",
      type: EConfigItemPropsType.JsonEdit,
      val: [
        {
          value: 1048,
          name: "办公楼A"
        },
        {
          value: 735,
          name: "办公楼B"
        },
        {
          value: 580,
          name: "保安室"
        },
        {
          value: 484,
          name: "地下车库"
        },
        {
          value: 300,
          name: "食堂"
        }
      ]
    }
  },
  common_animations: {
    val: "",
    delay: "delay-0s",
    speed: "slow",
    repeat: "infinite"
  },
  events: []
}, echarts_group = {
  groupType: "echarts",
  title: "图表",
  list: [pie_charts]
}, vue_config = Object.seal([components, echarts_group]), _sfc_main$L = /* @__PURE__ */ defineComponent({
  __name: "progress",
  props: {
    percentage: { default: 10 }
  },
  emits: ["onChange"],
  setup(r, { emit: n }) {
    const i = r, o = [
      {
        color: "#f56c6c",
        percentage: 20
      },
      {
        color: "#e6a23c",
        percentage: 40
      },
      {
        color: "#5cb87a",
        percentage: 60
      },
      {
        color: "#1989fa",
        percentage: 80
      },
      {
        color: "#6f7ad3",
        percentage: 100
      }
    ];
    return watch(
      () => i.percentage,
      () => {
        n("onChange");
      }
    ), (a, u) => (openBlock(), createBlock(unref(ElProgress), {
      type: "dashboard",
      percentage: Number(i.percentage),
      color: o
    }, null, 8, ["percentage"]));
  }
}), _hoisted_1$m = ["id"], _hoisted_2$i = ["id"], _hoisted_3$f = /* @__PURE__ */ createElementVNode("path", {
  d: "M747.52 238.933333    H276.48    C122.88 238.933333 0 361.813333 0 512    s122.88 273.066667 276.48 273.066667    H750.933333    c150.186667 0 276.48-122.88 276.48-273.066667    s-126.293333-273.066667-279.893333-273.066667z",
  fill: "white",
  "fill-opacity": ".01",
  "p-id": "1537",
  "data-spm-anchor-id": "a313x.manage_type_myprojects.0.i0.1adc3a81uCnBP5"
}, null, -1), _hoisted_4$b = /* @__PURE__ */ createElementVNode("path", {
  d: "M747.52 238.933333    H276.48    C122.88 238.933333 0 361.813333 0 512    s122.88 273.066667 276.48 273.066667    H750.933333    c150.186667 0 276.48-122.88 276.48-273.066667    s-126.293333-273.066667-279.893333-273.066667z     m0 512    H276.48    C143.36 750.933333 34.133333 645.12 34.133333 512s109.226667-238.933333 242.346667-238.933333    H750.933333c133.12 0 242.346667 105.813333 242.346667 238.933333s-112.64 238.933333-245.76 238.933333z",
  fill: "#2c2c2c",
  "p-id": "1531",
  "data-spm-anchor-id": "a313x.manage_type_myprojects.0.i0.1adc3a81uCnBP5"
}, null, -1), _hoisted_5$9 = /* @__PURE__ */ createElementVNode("path", {
  d: "M238.933333 409.6c-37.546667 0-68.266667 27.306667-68.266666 61.44v85.333333c0 34.133333 30.72 61.44 68.266666 61.44s68.266667-27.306667 68.266667-61.44v-85.333333c0-34.133333-30.72-61.44-68.266667-61.44z m34.133334 146.773333c0 13.653333-17.066667 23.893333-34.133334 23.893334s-34.133333-10.24-34.133333-27.306667v-85.333333c0-13.653333 17.066667-23.893333 34.133333-23.893334s34.133333 10.24 34.133334 27.306667v85.333333zM460.8 409.6c-10.24 0-17.066667 6.826667-17.066667 17.066667v109.226666l-71.68-119.466666c-3.413333-6.826667-10.24-10.24-20.48-6.826667-6.826667 3.413333-13.653333 10.24-13.653333 17.066667v170.666666c0 10.24 6.826667 17.066667 17.066667 17.066667s17.066667-6.826667 17.066666-17.066667v-109.226666l71.68 119.466666c3.413333 6.826667 10.24 6.826667 13.653334 6.826667h3.413333c6.826667-3.413333 13.653333-10.24 13.653333-17.066667v-170.666666c3.413333-10.24-3.413333-17.066667-13.653333-17.066667zM750.933333 341.333333c-95.573333 0-170.666667 75.093333-170.666666 170.666667s75.093333 170.666667 170.666666 170.666667 170.666667-75.093333 170.666667-170.666667-75.093333-170.666667-170.666667-170.666667z",
  fill: "#5ad562",
  "p-id": "1530",
  "data-spm-anchor-id": "a313x.manage_type_myprojects.0.i1.1adc3a81uCnBP5"
}, null, -1), _hoisted_6$7 = [
  _hoisted_3$f,
  _hoisted_4$b,
  _hoisted_5$9
], _hoisted_7$7 = ["id"], _hoisted_8$7 = /* @__PURE__ */ createElementVNode("path", {
  d: "M747.52 238.933333    H276.48    C122.88 238.933333 0 361.813333 0 512    s122.88 273.066667 276.48 273.066667    H750.933333    c150.186667 0 276.48-122.88 276.48-273.066667    s-126.293333-273.066667-279.893333-273.066667z",
  fill: "white",
  "fill-opacity": ".01",
  "p-id": "1536",
  "data-spm-anchor-id": "a313x.manage_type_myprojects.0.i0.1adc3a81uCnBP5"
}, null, -1), _hoisted_9$7 = /* @__PURE__ */ createElementVNode("path", {
  d: "M747.52 238.933333    H276.48    C122.88 238.933333 0 361.813333 0 512    s122.88 273.066667 276.48 273.066667    H750.933333    c150.186667 0 276.48-122.88 276.48-273.066667    s-126.293333-273.066667-279.893333-273.066667z    m0 512    H276.48    C143.36 750.933333 34.133333 645.12 34.133333 512s109.226667-238.933333 242.346667-238.933333    H750.933333c133.12 0 242.346667 105.813333 242.346667 238.933333s-112.64 238.933333-245.76 238.933333z",
  fill: "#2c2c2c",
  "p-id": "1535",
  "data-spm-anchor-id": "a313x.manage_type_myprojects.0.i0.1adc3a81uCnBP5"
}, null, -1), _hoisted_10$6 = /* @__PURE__ */ createElementVNode("path", {
  d: "M273.066667 341.333333c-95.573333 0-170.666667 75.093333-170.666667 170.666667s75.093333 170.666667 170.666667 170.666667 170.666667-75.093333 170.666666-170.666667-75.093333-170.666667-170.666666-170.666667z",
  fill: "#bfbfbf",
  "p-id": "1534",
  "data-spm-anchor-id": "a313x.manage_type_myprojects.0.i0.1adc3a81KYNNkt"
}, null, -1), _hoisted_11$5 = /* @__PURE__ */ createElementVNode("path", {
  d: "M580.266667 409.6c-37.546667 0-68.266667 27.306667-68.266667 61.44v85.333333c0 34.133333 30.72 61.44 68.266667 61.44s68.266667-27.306667 68.266666-61.44v-85.333333c0-34.133333-30.72-61.44-68.266666-61.44z m34.133333 146.773333c0 13.653333-17.066667 27.306667-34.133333 27.306667s-34.133333-10.24-34.133334-27.306667v-85.333333c0-13.653333 17.066667-27.306667 34.133334-27.306667s34.133333 10.24 34.133333 27.306667v85.333333zM904.533333 409.6h-68.266666c-10.24 0-17.066667 6.826667-17.066667 17.066667v170.666666c0 10.24 6.826667 17.066667 17.066667 17.066667s17.066667-6.826667 17.066666-17.066667V512h17.066667c10.24 0 17.066667-6.826667 17.066667-17.066667s-6.826667-17.066667-17.066667-17.066666H853.333333v-34.133334h51.2c10.24 0 17.066667-6.826667 17.066667-17.066666s-6.826667-17.066667-17.066667-17.066667zM768 409.6h-68.266667c-10.24 0-17.066667 6.826667-17.066666 17.066667v170.666666c0 10.24 6.826667 17.066667 17.066666 17.066667s17.066667-6.826667 17.066667-17.066667V512h17.066667c10.24 0 17.066667-6.826667 17.066666-17.066667s-6.826667-17.066667-17.066666-17.066666H716.8v-34.133334h51.2c10.24 0 17.066667-6.826667 17.066667-17.066666s-6.826667-17.066667-17.066667-17.066667z",
  fill: "#707070",
  "p-id": "1533",
  "data-spm-anchor-id": "a313x.manage_type_myprojects.0.i2.1adc3a81KYNNkt"
}, null, -1), _hoisted_12$5 = [
  _hoisted_8$7,
  _hoisted_9$7,
  _hoisted_10$6,
  _hoisted_11$5
], _hoisted_13$4 = ["xlink:href"], _sfc_main$K = /* @__PURE__ */ defineComponent({
  __name: "switch-r",
  props: {
    id: {
      type: String,
      default: ""
    },
    isOpen: {
      type: Boolean,
      default: !0
    }
  },
  emits: ["onChange"],
  setup(r, { emit: n }) {
    const i = r;
    return watch(
      () => i.isOpen,
      () => {
        n("onChange");
      }
    ), (o, a) => (openBlock(), createElementBlock("g", {
      id: i.id
    }, [
      createElementVNode("symbol", {
        viewBox: "0 0 1027 1024",
        id: `${i.id}switch-demo-open`
      }, _hoisted_6$7, 8, _hoisted_2$i),
      createElementVNode("symbol", {
        viewBox: "0 0 1027 1024",
        id: `${i.id}switch-demo-close`
      }, _hoisted_12$5, 8, _hoisted_7$7),
      createElementVNode("use", {
        "xlink:href": `#${i.id}switch-demo-${i.isOpen ? "open" : "close"}`,
        width: "100",
        height: "100"
      }, null, 8, _hoisted_13$4)
    ], 8, _hoisted_1$m));
  }
}), _sfc_main$J = /* @__PURE__ */ defineComponent({
  __name: "svg-text",
  props: {
    text: {},
    bold: { type: Boolean }
  },
  emits: ["resize"],
  setup(r, { emit: n }) {
    const i = r;
    return watch(
      () => i.text,
      () => {
        nextTick(function() {
          n("resize");
        });
      }
    ), (o, a) => (openBlock(), createElementBlock("text", {
      x: "50",
      y: "55",
      style: normalizeStyle$1({ "font-weight": i.bold ? "bold" : "normal" })
    }, toDisplayString(i.text), 5));
  }
}), _sfc_main$I = /* @__PURE__ */ defineComponent({
  __name: "common-table",
  props: {
    colConfig: { default: () => [] },
    data: { default: () => [] },
    height: { default: 200 },
    maxHeight: {},
    stripe: { type: Boolean, default: !1 },
    border: { type: Boolean, default: !1 },
    size: {},
    fit: { type: Boolean, default: !1 },
    operateDisplay: { type: Boolean, default: !1 },
    selectionData: { default: () => [] }
  },
  setup(r) {
    const n = r, i = ref({});
    return watchEffect(() => {
      const { colConfig: o, ...a } = n;
      i.value = a;
    }), (o, a) => (openBlock(), createBlock(unref(ElTable), normalizeProps(guardReactiveProps(unref(i))), {
      default: withCtx(() => [
        (openBlock(!0), createElementBlock(Fragment, null, renderList(n.colConfig, (u) => (openBlock(), createBlock(unref(ElTableColumn), mergeProps({
          key: u.prop
        }, u), null, 16))), 128))
      ]),
      _: 1
    }, 16));
  }
}), _hoisted_1$l = { class: "flex mt-5px" }, _sfc_main$H = /* @__PURE__ */ defineComponent({
  __name: "now-time",
  props: {
    width: {},
    fontFamily: {},
    color: {},
    fontSize: {},
    bold: { type: Boolean }
  },
  setup(r) {
    const n = r, i = computed(() => ({
      fontFamily: n.fontFamily,
      color: n.color,
      fontSize: n.fontSize + "px",
      fontWeight: n.bold ? "bold" : "normal"
    })), o = ref(/* @__PURE__ */ new Date()), a = ref(), u = computed(() => {
      const d = o.value.getFullYear(), p = o.value.getMonth() + 1, y = o.value.getDate();
      return d.toString() + "年" + p.toString() + "月" + y.toString() + "日";
    }), c = computed(() => {
      const d = o.value.getDay();
      return ["星期日", "星期一", "星期二", "星期三", "星期四", "星期五", "星期六"][d];
    }), f = computed(() => {
      const d = o.value.getHours(), p = o.value.getMinutes(), y = o.value.getSeconds();
      return (d < 10 ? "0" + d.toString() : d.toString()) + ":" + (p < 10 ? "0" + p.toString() : p.toString()) + ":" + (y < 10 ? "0" + y.toString() : y.toString());
    });
    return onMounted(() => {
      a.value = setInterval(() => {
        o.value = /* @__PURE__ */ new Date();
      }, 500);
    }), onUnmounted(() => {
      clearInterval(a.value);
    }), (d, p) => (openBlock(), createElementBlock("div", {
      class: "now-time",
      style: normalizeStyle$1({ width: n.width + "px" })
    }, [
      createElementVNode("div", {
        style: normalizeStyle$1(unref(i))
      }, toDisplayString(unref(u)), 5),
      createElementVNode("div", _hoisted_1$l, [
        createElementVNode("div", {
          style: normalizeStyle$1(unref(i))
        }, toDisplayString(unref(c)), 5),
        createElementVNode("div", {
          style: normalizeStyle$1(unref(i))
        }, toDisplayString(unref(f)), 5)
      ])
    ], 4));
  }
}), nowTime_vue_vue_type_style_index_0_scoped_82ca3b84_lang = "", _export_sfc$1 = (r, n) => {
  const i = r.__vccOpts || r;
  for (const [o, a] of n)
    i[o] = a;
  return i;
}, NowTime = /* @__PURE__ */ _export_sfc$1(_sfc_main$H, [["__scopeId", "data-v-82ca3b84"]]);
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var extendStatics = function(r, n) {
  return extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(i, o) {
    i.__proto__ = o;
  } || function(i, o) {
    for (var a in o)
      Object.prototype.hasOwnProperty.call(o, a) && (i[a] = o[a]);
  }, extendStatics(r, n);
};
function __extends(r, n) {
  if (typeof n != "function" && n !== null)
    throw new TypeError("Class extends value " + String(n) + " is not a constructor or null");
  extendStatics(r, n);
  function i() {
    this.constructor = r;
  }
  r.prototype = n === null ? Object.create(n) : (i.prototype = n.prototype, new i());
}
var Browser = function() {
  function r() {
    this.firefox = !1, this.ie = !1, this.edge = !1, this.newEdge = !1, this.weChat = !1;
  }
  return r;
}(), Env = function() {
  function r() {
    this.browser = new Browser(), this.node = !1, this.wxa = !1, this.worker = !1, this.svgSupported = !1, this.touchEventsSupported = !1, this.pointerEventsSupported = !1, this.domSupported = !1, this.transformSupported = !1, this.transform3dSupported = !1, this.hasGlobalWindow = typeof window < "u";
  }
  return r;
}(), env = new Env();
typeof wx == "object" && typeof wx.getSystemInfoSync == "function" ? (env.wxa = !0, env.touchEventsSupported = !0) : typeof document > "u" && typeof self < "u" ? env.worker = !0 : typeof navigator > "u" ? (env.node = !0, env.svgSupported = !0) : detect(navigator.userAgent, env);
function detect(r, n) {
  var i = n.browser, o = r.match(/Firefox\/([\d.]+)/), a = r.match(/MSIE\s([\d.]+)/) || r.match(/Trident\/.+?rv:(([\d.]+))/), u = r.match(/Edge?\/([\d.]+)/), c = /micromessenger/i.test(r);
  o && (i.firefox = !0, i.version = o[1]), a && (i.ie = !0, i.version = a[1]), u && (i.edge = !0, i.version = u[1], i.newEdge = +u[1].split(".")[0] > 18), c && (i.weChat = !0), n.svgSupported = typeof SVGRect < "u", n.touchEventsSupported = "ontouchstart" in window && !i.ie && !i.edge, n.pointerEventsSupported = "onpointerdown" in window && (i.edge || i.ie && +i.version >= 11), n.domSupported = typeof document < "u";
  var f = document.documentElement.style;
  n.transform3dSupported = (i.ie && "transition" in f || i.edge || "WebKitCSSMatrix" in window && "m11" in new WebKitCSSMatrix() || "MozPerspective" in f) && !("OTransition" in f), n.transformSupported = n.transform3dSupported || i.ie && +i.version >= 9;
}
const env$1 = env;
var DEFAULT_FONT_SIZE = 12, DEFAULT_FONT_FAMILY = "sans-serif", DEFAULT_FONT = DEFAULT_FONT_SIZE + "px " + DEFAULT_FONT_FAMILY, OFFSET = 20, SCALE = 100, defaultWidthMapStr = "007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";
function getTextWidthMap(r) {
  var n = {};
  if (typeof JSON > "u")
    return n;
  for (var i = 0; i < r.length; i++) {
    var o = String.fromCharCode(i + 32), a = (r.charCodeAt(i) - OFFSET) / SCALE;
    n[o] = a;
  }
  return n;
}
var DEFAULT_TEXT_WIDTH_MAP = getTextWidthMap(defaultWidthMapStr), platformApi = {
  createCanvas: function() {
    return typeof document < "u" && document.createElement("canvas");
  },
  measureText: function() {
    var r, n;
    return function(i, o) {
      if (!r) {
        var a = platformApi.createCanvas();
        r = a && a.getContext("2d");
      }
      if (r)
        return n !== o && (n = r.font = o || DEFAULT_FONT), r.measureText(i);
      i = i || "", o = o || DEFAULT_FONT;
      var u = /(\d+)px/.exec(o), c = u && +u[1] || DEFAULT_FONT_SIZE, f = 0;
      if (o.indexOf("mono") >= 0)
        f = c * i.length;
      else
        for (var d = 0; d < i.length; d++) {
          var p = DEFAULT_TEXT_WIDTH_MAP[i[d]];
          f += p == null ? c : p * c;
        }
      return { width: f };
    };
  }(),
  loadImage: function(r, n, i) {
    var o = new Image();
    return o.onload = n, o.onerror = i, o.src = r, o;
  }
}, BUILTIN_OBJECT = reduce([
  "Function",
  "RegExp",
  "Date",
  "Error",
  "CanvasGradient",
  "CanvasPattern",
  "Image",
  "Canvas"
], function(r, n) {
  return r["[object " + n + "]"] = !0, r;
}, {}), TYPED_ARRAY = reduce([
  "Int8",
  "Uint8",
  "Uint8Clamped",
  "Int16",
  "Uint16",
  "Int32",
  "Uint32",
  "Float32",
  "Float64"
], function(r, n) {
  return r["[object " + n + "Array]"] = !0, r;
}, {}), objToString = Object.prototype.toString, arrayProto = Array.prototype, nativeForEach = arrayProto.forEach, nativeFilter = arrayProto.filter, nativeSlice = arrayProto.slice, nativeMap = arrayProto.map, ctorFunction = function() {
}.constructor, protoFunction = ctorFunction ? ctorFunction.prototype : null, protoKey = "__proto__", idStart = 2311;
function guid() {
  return idStart++;
}
function logError() {
  for (var r = [], n = 0; n < arguments.length; n++)
    r[n] = arguments[n];
  typeof console < "u" && console.error.apply(console, r);
}
function clone$2(r) {
  if (r == null || typeof r != "object")
    return r;
  var n = r, i = objToString.call(r);
  if (i === "[object Array]") {
    if (!isPrimitive(r)) {
      n = [];
      for (var o = 0, a = r.length; o < a; o++)
        n[o] = clone$2(r[o]);
    }
  } else if (TYPED_ARRAY[i]) {
    if (!isPrimitive(r)) {
      var u = r.constructor;
      if (u.from)
        n = u.from(r);
      else {
        n = new u(r.length);
        for (var o = 0, a = r.length; o < a; o++)
          n[o] = r[o];
      }
    }
  } else if (!BUILTIN_OBJECT[i] && !isPrimitive(r) && !isDom(r)) {
    n = {};
    for (var c in r)
      r.hasOwnProperty(c) && c !== protoKey && (n[c] = clone$2(r[c]));
  }
  return n;
}
function merge(r, n, i) {
  if (!isObject$3(n) || !isObject$3(r))
    return i ? clone$2(n) : r;
  for (var o in n)
    if (n.hasOwnProperty(o) && o !== protoKey) {
      var a = r[o], u = n[o];
      isObject$3(u) && isObject$3(a) && !isArray$1(u) && !isArray$1(a) && !isDom(u) && !isDom(a) && !isBuiltInObject(u) && !isBuiltInObject(a) && !isPrimitive(u) && !isPrimitive(a) ? merge(a, u, i) : (i || !(o in r)) && (r[o] = clone$2(n[o]));
    }
  return r;
}
function extend(r, n) {
  if (Object.assign)
    Object.assign(r, n);
  else
    for (var i in n)
      n.hasOwnProperty(i) && i !== protoKey && (r[i] = n[i]);
  return r;
}
function defaults(r, n, i) {
  for (var o = keys(n), a = 0; a < o.length; a++) {
    var u = o[a];
    (i ? n[u] != null : r[u] == null) && (r[u] = n[u]);
  }
  return r;
}
function indexOf(r, n) {
  if (r) {
    if (r.indexOf)
      return r.indexOf(n);
    for (var i = 0, o = r.length; i < o; i++)
      if (r[i] === n)
        return i;
  }
  return -1;
}
function inherits(r, n) {
  var i = r.prototype;
  function o() {
  }
  o.prototype = n.prototype, r.prototype = new o();
  for (var a in i)
    i.hasOwnProperty(a) && (r.prototype[a] = i[a]);
  r.prototype.constructor = r, r.superClass = n;
}
function mixin(r, n, i) {
  if (r = "prototype" in r ? r.prototype : r, n = "prototype" in n ? n.prototype : n, Object.getOwnPropertyNames)
    for (var o = Object.getOwnPropertyNames(n), a = 0; a < o.length; a++) {
      var u = o[a];
      u !== "constructor" && (i ? n[u] != null : r[u] == null) && (r[u] = n[u]);
    }
  else
    defaults(r, n, i);
}
function isArrayLike(r) {
  return !r || typeof r == "string" ? !1 : typeof r.length == "number";
}
function each$4(r, n, i) {
  if (r && n)
    if (r.forEach && r.forEach === nativeForEach)
      r.forEach(n, i);
    else if (r.length === +r.length)
      for (var o = 0, a = r.length; o < a; o++)
        n.call(i, r[o], o, r);
    else
      for (var u in r)
        r.hasOwnProperty(u) && n.call(i, r[u], u, r);
}
function map$1(r, n, i) {
  if (!r)
    return [];
  if (!n)
    return slice(r);
  if (r.map && r.map === nativeMap)
    return r.map(n, i);
  for (var o = [], a = 0, u = r.length; a < u; a++)
    o.push(n.call(i, r[a], a, r));
  return o;
}
function reduce(r, n, i, o) {
  if (r && n) {
    for (var a = 0, u = r.length; a < u; a++)
      i = n.call(o, i, r[a], a, r);
    return i;
  }
}
function filter(r, n, i) {
  if (!r)
    return [];
  if (!n)
    return slice(r);
  if (r.filter && r.filter === nativeFilter)
    return r.filter(n, i);
  for (var o = [], a = 0, u = r.length; a < u; a++)
    n.call(i, r[a], a, r) && o.push(r[a]);
  return o;
}
function keys(r) {
  if (!r)
    return [];
  if (Object.keys)
    return Object.keys(r);
  var n = [];
  for (var i in r)
    r.hasOwnProperty(i) && n.push(i);
  return n;
}
function bindPolyfill(r, n) {
  for (var i = [], o = 2; o < arguments.length; o++)
    i[o - 2] = arguments[o];
  return function() {
    return r.apply(n, i.concat(nativeSlice.call(arguments)));
  };
}
var bind$1 = protoFunction && isFunction$1(protoFunction.bind) ? protoFunction.call.bind(protoFunction.bind) : bindPolyfill;
function curry$1(r) {
  for (var n = [], i = 1; i < arguments.length; i++)
    n[i - 1] = arguments[i];
  return function() {
    return r.apply(this, n.concat(nativeSlice.call(arguments)));
  };
}
function isArray$1(r) {
  return Array.isArray ? Array.isArray(r) : objToString.call(r) === "[object Array]";
}
function isFunction$1(r) {
  return typeof r == "function";
}
function isString$2(r) {
  return typeof r == "string";
}
function isStringSafe(r) {
  return objToString.call(r) === "[object String]";
}
function isNumber$1(r) {
  return typeof r == "number";
}
function isObject$3(r) {
  var n = typeof r;
  return n === "function" || !!r && n === "object";
}
function isBuiltInObject(r) {
  return !!BUILTIN_OBJECT[objToString.call(r)];
}
function isTypedArray(r) {
  return !!TYPED_ARRAY[objToString.call(r)];
}
function isDom(r) {
  return typeof r == "object" && typeof r.nodeType == "number" && typeof r.ownerDocument == "object";
}
function isGradientObject(r) {
  return r.colorStops != null;
}
function isRegExp(r) {
  return objToString.call(r) === "[object RegExp]";
}
function eqNaN(r) {
  return r !== r;
}
function retrieve() {
  for (var r = [], n = 0; n < arguments.length; n++)
    r[n] = arguments[n];
  for (var i = 0, o = r.length; i < o; i++)
    if (r[i] != null)
      return r[i];
}
function retrieve2(r, n) {
  return r ?? n;
}
function retrieve3(r, n, i) {
  return r ?? n ?? i;
}
function slice(r) {
  for (var n = [], i = 1; i < arguments.length; i++)
    n[i - 1] = arguments[i];
  return nativeSlice.apply(r, n);
}
function normalizeCssArray$1(r) {
  if (typeof r == "number")
    return [r, r, r, r];
  var n = r.length;
  return n === 2 ? [r[0], r[1], r[0], r[1]] : n === 3 ? [r[0], r[1], r[2], r[1]] : r;
}
function assert(r, n) {
  if (!r)
    throw new Error(n);
}
function trim(r) {
  return r == null ? null : typeof r.trim == "function" ? r.trim() : r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, "");
}
var primitiveKey = "__ec_primitive__";
function setAsPrimitive(r) {
  r[primitiveKey] = !0;
}
function isPrimitive(r) {
  return r[primitiveKey];
}
var MapPolyfill = function() {
  function r() {
    this.data = {};
  }
  return r.prototype.delete = function(n) {
    var i = this.has(n);
    return i && delete this.data[n], i;
  }, r.prototype.has = function(n) {
    return this.data.hasOwnProperty(n);
  }, r.prototype.get = function(n) {
    return this.data[n];
  }, r.prototype.set = function(n, i) {
    return this.data[n] = i, this;
  }, r.prototype.keys = function() {
    return keys(this.data);
  }, r.prototype.forEach = function(n) {
    var i = this.data;
    for (var o in i)
      i.hasOwnProperty(o) && n(i[o], o);
  }, r;
}(), isNativeMapSupported = typeof Map == "function";
function maybeNativeMap() {
  return isNativeMapSupported ? /* @__PURE__ */ new Map() : new MapPolyfill();
}
var HashMap = function() {
  function r(n) {
    var i = isArray$1(n);
    this.data = maybeNativeMap();
    var o = this;
    n instanceof r ? n.each(a) : n && each$4(n, a);
    function a(u, c) {
      i ? o.set(u, c) : o.set(c, u);
    }
  }
  return r.prototype.hasKey = function(n) {
    return this.data.has(n);
  }, r.prototype.get = function(n) {
    return this.data.get(n);
  }, r.prototype.set = function(n, i) {
    return this.data.set(n, i), i;
  }, r.prototype.each = function(n, i) {
    this.data.forEach(function(o, a) {
      n.call(i, o, a);
    });
  }, r.prototype.keys = function() {
    var n = this.data.keys();
    return isNativeMapSupported ? Array.from(n) : n;
  }, r.prototype.removeKey = function(n) {
    this.data.delete(n);
  }, r;
}();
function createHashMap(r) {
  return new HashMap(r);
}
function concatArray(r, n) {
  for (var i = new r.constructor(r.length + n.length), o = 0; o < r.length; o++)
    i[o] = r[o];
  for (var a = r.length, o = 0; o < n.length; o++)
    i[o + a] = n[o];
  return i;
}
function createObject(r, n) {
  var i;
  if (Object.create)
    i = Object.create(r);
  else {
    var o = function() {
    };
    o.prototype = r, i = new o();
  }
  return n && extend(i, n), i;
}
function hasOwn$1(r, n) {
  return r.hasOwnProperty(n);
}
function noop$1() {
}
var RADIAN_TO_DEGREE = 180 / Math.PI;
function create$1(r, n) {
  return r == null && (r = 0), n == null && (n = 0), [r, n];
}
function clone$1(r) {
  return [r[0], r[1]];
}
function add(r, n, i) {
  return r[0] = n[0] + i[0], r[1] = n[1] + i[1], r;
}
function sub$1(r, n, i) {
  return r[0] = n[0] - i[0], r[1] = n[1] - i[1], r;
}
function len(r) {
  return Math.sqrt(lenSquare(r));
}
function lenSquare(r) {
  return r[0] * r[0] + r[1] * r[1];
}
function scale$1(r, n, i) {
  return r[0] = n[0] * i, r[1] = n[1] * i, r;
}
function normalize(r, n) {
  var i = len(n);
  return i === 0 ? (r[0] = 0, r[1] = 0) : (r[0] = n[0] / i, r[1] = n[1] / i), r;
}
function distance(r, n) {
  return Math.sqrt((r[0] - n[0]) * (r[0] - n[0]) + (r[1] - n[1]) * (r[1] - n[1]));
}
var dist$1 = distance;
function distanceSquare(r, n) {
  return (r[0] - n[0]) * (r[0] - n[0]) + (r[1] - n[1]) * (r[1] - n[1]);
}
var distSquare = distanceSquare;
function lerp(r, n, i, o) {
  return r[0] = n[0] + o * (i[0] - n[0]), r[1] = n[1] + o * (i[1] - n[1]), r;
}
function applyTransform$1(r, n, i) {
  var o = n[0], a = n[1];
  return r[0] = i[0] * o + i[2] * a + i[4], r[1] = i[1] * o + i[3] * a + i[5], r;
}
function min$1(r, n, i) {
  return r[0] = Math.min(n[0], i[0]), r[1] = Math.min(n[1], i[1]), r;
}
function max$1(r, n, i) {
  return r[0] = Math.max(n[0], i[0]), r[1] = Math.max(n[1], i[1]), r;
}
var Param = function() {
  function r(n, i) {
    this.target = n, this.topTarget = i && i.topTarget;
  }
  return r;
}(), Draggable = function() {
  function r(n) {
    this.handler = n, n.on("mousedown", this._dragStart, this), n.on("mousemove", this._drag, this), n.on("mouseup", this._dragEnd, this);
  }
  return r.prototype._dragStart = function(n) {
    for (var i = n.target; i && !i.draggable; )
      i = i.parent || i.__hostTarget;
    i && (this._draggingTarget = i, i.dragging = !0, this._x = n.offsetX, this._y = n.offsetY, this.handler.dispatchToElement(new Param(i, n), "dragstart", n.event));
  }, r.prototype._drag = function(n) {
    var i = this._draggingTarget;
    if (i) {
      var o = n.offsetX, a = n.offsetY, u = o - this._x, c = a - this._y;
      this._x = o, this._y = a, i.drift(u, c, n), this.handler.dispatchToElement(new Param(i, n), "drag", n.event);
      var f = this.handler.findHover(o, a, i).target, d = this._dropTarget;
      this._dropTarget = f, i !== f && (d && f !== d && this.handler.dispatchToElement(new Param(d, n), "dragleave", n.event), f && f !== d && this.handler.dispatchToElement(new Param(f, n), "dragenter", n.event));
    }
  }, r.prototype._dragEnd = function(n) {
    var i = this._draggingTarget;
    i && (i.dragging = !1), this.handler.dispatchToElement(new Param(i, n), "dragend", n.event), this._dropTarget && this.handler.dispatchToElement(new Param(this._dropTarget, n), "drop", n.event), this._draggingTarget = null, this._dropTarget = null;
  }, r;
}();
const Draggable$1 = Draggable;
var Eventful = function() {
  function r(n) {
    n && (this._$eventProcessor = n);
  }
  return r.prototype.on = function(n, i, o, a) {
    this._$handlers || (this._$handlers = {});
    var u = this._$handlers;
    if (typeof i == "function" && (a = o, o = i, i = null), !o || !n)
      return this;
    var c = this._$eventProcessor;
    i != null && c && c.normalizeQuery && (i = c.normalizeQuery(i)), u[n] || (u[n] = []);
    for (var f = 0; f < u[n].length; f++)
      if (u[n][f].h === o)
        return this;
    var d = {
      h: o,
      query: i,
      ctx: a || this,
      callAtLast: o.zrEventfulCallAtLast
    }, p = u[n].length - 1, y = u[n][p];
    return y && y.callAtLast ? u[n].splice(p, 0, d) : u[n].push(d), this;
  }, r.prototype.isSilent = function(n) {
    var i = this._$handlers;
    return !i || !i[n] || !i[n].length;
  }, r.prototype.off = function(n, i) {
    var o = this._$handlers;
    if (!o)
      return this;
    if (!n)
      return this._$handlers = {}, this;
    if (i) {
      if (o[n]) {
        for (var a = [], u = 0, c = o[n].length; u < c; u++)
          o[n][u].h !== i && a.push(o[n][u]);
        o[n] = a;
      }
      o[n] && o[n].length === 0 && delete o[n];
    } else
      delete o[n];
    return this;
  }, r.prototype.trigger = function(n) {
    for (var i = [], o = 1; o < arguments.length; o++)
      i[o - 1] = arguments[o];
    if (!this._$handlers)
      return this;
    var a = this._$handlers[n], u = this._$eventProcessor;
    if (a)
      for (var c = i.length, f = a.length, d = 0; d < f; d++) {
        var p = a[d];
        if (!(u && u.filter && p.query != null && !u.filter(n, p.query)))
          switch (c) {
            case 0:
              p.h.call(p.ctx);
              break;
            case 1:
              p.h.call(p.ctx, i[0]);
              break;
            case 2:
              p.h.call(p.ctx, i[0], i[1]);
              break;
            default:
              p.h.apply(p.ctx, i);
              break;
          }
      }
    return u && u.afterTrigger && u.afterTrigger(n), this;
  }, r.prototype.triggerWithContext = function(n) {
    for (var i = [], o = 1; o < arguments.length; o++)
      i[o - 1] = arguments[o];
    if (!this._$handlers)
      return this;
    var a = this._$handlers[n], u = this._$eventProcessor;
    if (a)
      for (var c = i.length, f = i[c - 1], d = a.length, p = 0; p < d; p++) {
        var y = a[p];
        if (!(u && u.filter && y.query != null && !u.filter(n, y.query)))
          switch (c) {
            case 0:
              y.h.call(f);
              break;
            case 1:
              y.h.call(f, i[0]);
              break;
            case 2:
              y.h.call(f, i[0], i[1]);
              break;
            default:
              y.h.apply(f, i.slice(1, c - 1));
              break;
          }
      }
    return u && u.afterTrigger && u.afterTrigger(n), this;
  }, r;
}();
const Eventful$1 = Eventful;
var LN2 = Math.log(2);
function determinant(r, n, i, o, a, u) {
  var c = o + "-" + a, f = r.length;
  if (u.hasOwnProperty(c))
    return u[c];
  if (n === 1) {
    var d = Math.round(Math.log((1 << f) - 1 & ~a) / LN2);
    return r[i][d];
  }
  for (var p = o | 1 << i, y = i + 1; o & 1 << y; )
    y++;
  for (var v = 0, g = 0, _ = 0; g < f; g++) {
    var b = 1 << g;
    b & a || (v += (_ % 2 ? -1 : 1) * r[i][g] * determinant(r, n - 1, y, p, a | b, u), _++);
  }
  return u[c] = v, v;
}
function buildTransformer(r, n) {
  var i = [
    [r[0], r[1], 1, 0, 0, 0, -n[0] * r[0], -n[0] * r[1]],
    [0, 0, 0, r[0], r[1], 1, -n[1] * r[0], -n[1] * r[1]],
    [r[2], r[3], 1, 0, 0, 0, -n[2] * r[2], -n[2] * r[3]],
    [0, 0, 0, r[2], r[3], 1, -n[3] * r[2], -n[3] * r[3]],
    [r[4], r[5], 1, 0, 0, 0, -n[4] * r[4], -n[4] * r[5]],
    [0, 0, 0, r[4], r[5], 1, -n[5] * r[4], -n[5] * r[5]],
    [r[6], r[7], 1, 0, 0, 0, -n[6] * r[6], -n[6] * r[7]],
    [0, 0, 0, r[6], r[7], 1, -n[7] * r[6], -n[7] * r[7]]
  ], o = {}, a = determinant(i, 8, 0, 0, 0, o);
  if (a !== 0) {
    for (var u = [], c = 0; c < 8; c++)
      for (var f = 0; f < 8; f++)
        u[f] == null && (u[f] = 0), u[f] += ((c + f) % 2 ? -1 : 1) * determinant(i, 7, c === 0 ? 1 : 0, 1 << c, 1 << f, o) / a * n[c];
    return function(d, p, y) {
      var v = p * u[6] + y * u[7] + 1;
      d[0] = (p * u[0] + y * u[1] + u[2]) / v, d[1] = (p * u[3] + y * u[4] + u[5]) / v;
    };
  }
}
var EVENT_SAVED_PROP = "___zrEVENTSAVED", _calcOut$1 = [];
function transformLocalCoord(r, n, i, o, a) {
  return transformCoordWithViewport(_calcOut$1, n, o, a, !0) && transformCoordWithViewport(r, i, _calcOut$1[0], _calcOut$1[1]);
}
function transformCoordWithViewport(r, n, i, o, a) {
  if (n.getBoundingClientRect && env$1.domSupported && !isCanvasEl(n)) {
    var u = n[EVENT_SAVED_PROP] || (n[EVENT_SAVED_PROP] = {}), c = prepareCoordMarkers(n, u), f = preparePointerTransformer(c, u, a);
    if (f)
      return f(r, i, o), !0;
  }
  return !1;
}
function prepareCoordMarkers(r, n) {
  var i = n.markers;
  if (i)
    return i;
  i = n.markers = [];
  for (var o = ["left", "right"], a = ["top", "bottom"], u = 0; u < 4; u++) {
    var c = document.createElement("div"), f = c.style, d = u % 2, p = (u >> 1) % 2;
    f.cssText = [
      "position: absolute",
      "visibility: hidden",
      "padding: 0",
      "margin: 0",
      "border-width: 0",
      "user-select: none",
      "width:0",
      "height:0",
      o[d] + ":0",
      a[p] + ":0",
      o[1 - d] + ":auto",
      a[1 - p] + ":auto",
      ""
    ].join("!important;"), r.appendChild(c), i.push(c);
  }
  return i;
}
function preparePointerTransformer(r, n, i) {
  for (var o = i ? "invTrans" : "trans", a = n[o], u = n.srcCoords, c = [], f = [], d = !0, p = 0; p < 4; p++) {
    var y = r[p].getBoundingClientRect(), v = 2 * p, g = y.left, _ = y.top;
    c.push(g, _), d = d && u && g === u[v] && _ === u[v + 1], f.push(r[p].offsetLeft, r[p].offsetTop);
  }
  return d && a ? a : (n.srcCoords = c, n[o] = i ? buildTransformer(f, c) : buildTransformer(c, f));
}
function isCanvasEl(r) {
  return r.nodeName.toUpperCase() === "CANVAS";
}
var replaceReg = /([&<>"'])/g, replaceMap = {
  "&": "&amp;",
  "<": "&lt;",
  ">": "&gt;",
  '"': "&quot;",
  "'": "&#39;"
};
function encodeHTML(r) {
  return r == null ? "" : (r + "").replace(replaceReg, function(n, i) {
    return replaceMap[i];
  });
}
var MOUSE_EVENT_REG = /^(?:mouse|pointer|contextmenu|drag|drop)|click/, _calcOut = [], firefoxNotSupportOffsetXY = env$1.browser.firefox && +env$1.browser.version.split(".")[0] < 39;
function clientToLocal(r, n, i, o) {
  return i = i || {}, o ? calculateZrXY(r, n, i) : firefoxNotSupportOffsetXY && n.layerX != null && n.layerX !== n.offsetX ? (i.zrX = n.layerX, i.zrY = n.layerY) : n.offsetX != null ? (i.zrX = n.offsetX, i.zrY = n.offsetY) : calculateZrXY(r, n, i), i;
}
function calculateZrXY(r, n, i) {
  if (env$1.domSupported && r.getBoundingClientRect) {
    var o = n.clientX, a = n.clientY;
    if (isCanvasEl(r)) {
      var u = r.getBoundingClientRect();
      i.zrX = o - u.left, i.zrY = a - u.top;
      return;
    } else if (transformCoordWithViewport(_calcOut, r, o, a)) {
      i.zrX = _calcOut[0], i.zrY = _calcOut[1];
      return;
    }
  }
  i.zrX = i.zrY = 0;
}
function getNativeEvent(r) {
  return r || window.event;
}
function normalizeEvent(r, n, i) {
  if (n = getNativeEvent(n), n.zrX != null)
    return n;
  var o = n.type, a = o && o.indexOf("touch") >= 0;
  if (a) {
    var c = o !== "touchend" ? n.targetTouches[0] : n.changedTouches[0];
    c && clientToLocal(r, c, n, i);
  } else {
    clientToLocal(r, n, n, i);
    var u = getWheelDeltaMayPolyfill(n);
    n.zrDelta = u ? u / 120 : -(n.detail || 0) / 3;
  }
  var f = n.button;
  return n.which == null && f !== void 0 && MOUSE_EVENT_REG.test(n.type) && (n.which = f & 1 ? 1 : f & 2 ? 3 : f & 4 ? 2 : 0), n;
}
function getWheelDeltaMayPolyfill(r) {
  var n = r.wheelDelta;
  if (n)
    return n;
  var i = r.deltaX, o = r.deltaY;
  if (i == null || o == null)
    return n;
  var a = Math.abs(o !== 0 ? o : i), u = o > 0 ? -1 : o < 0 ? 1 : i > 0 ? -1 : 1;
  return 3 * a * u;
}
function addEventListener(r, n, i, o) {
  r.addEventListener(n, i, o);
}
function removeEventListener(r, n, i, o) {
  r.removeEventListener(n, i, o);
}
var stop = function(r) {
  r.preventDefault(), r.stopPropagation(), r.cancelBubble = !0;
}, GestureMgr = function() {
  function r() {
    this._track = [];
  }
  return r.prototype.recognize = function(n, i, o) {
    return this._doTrack(n, i, o), this._recognize(n);
  }, r.prototype.clear = function() {
    return this._track.length = 0, this;
  }, r.prototype._doTrack = function(n, i, o) {
    var a = n.touches;
    if (a) {
      for (var u = {
        points: [],
        touches: [],
        target: i,
        event: n
      }, c = 0, f = a.length; c < f; c++) {
        var d = a[c], p = clientToLocal(o, d, {});
        u.points.push([p.zrX, p.zrY]), u.touches.push(d);
      }
      this._track.push(u);
    }
  }, r.prototype._recognize = function(n) {
    for (var i in recognizers)
      if (recognizers.hasOwnProperty(i)) {
        var o = recognizers[i](this._track, n);
        if (o)
          return o;
      }
  }, r;
}();
function dist(r) {
  var n = r[1][0] - r[0][0], i = r[1][1] - r[0][1];
  return Math.sqrt(n * n + i * i);
}
function center(r) {
  return [
    (r[0][0] + r[1][0]) / 2,
    (r[0][1] + r[1][1]) / 2
  ];
}
var recognizers = {
  pinch: function(r, n) {
    var i = r.length;
    if (i) {
      var o = (r[i - 1] || {}).points, a = (r[i - 2] || {}).points || o;
      if (a && a.length > 1 && o && o.length > 1) {
        var u = dist(o) / dist(a);
        !isFinite(u) && (u = 1), n.pinchScale = u;
        var c = center(o);
        return n.pinchX = c[0], n.pinchY = c[1], {
          type: "pinch",
          target: r[0].target,
          event: n
        };
      }
    }
  }
};
function create() {
  return [1, 0, 0, 1, 0, 0];
}
function identity$1(r) {
  return r[0] = 1, r[1] = 0, r[2] = 0, r[3] = 1, r[4] = 0, r[5] = 0, r;
}
function copy(r, n) {
  return r[0] = n[0], r[1] = n[1], r[2] = n[2], r[3] = n[3], r[4] = n[4], r[5] = n[5], r;
}
function mul(r, n, i) {
  var o = n[0] * i[0] + n[2] * i[1], a = n[1] * i[0] + n[3] * i[1], u = n[0] * i[2] + n[2] * i[3], c = n[1] * i[2] + n[3] * i[3], f = n[0] * i[4] + n[2] * i[5] + n[4], d = n[1] * i[4] + n[3] * i[5] + n[5];
  return r[0] = o, r[1] = a, r[2] = u, r[3] = c, r[4] = f, r[5] = d, r;
}
function translate$1(r, n, i) {
  return r[0] = n[0], r[1] = n[1], r[2] = n[2], r[3] = n[3], r[4] = n[4] + i[0], r[5] = n[5] + i[1], r;
}
function rotate(r, n, i) {
  var o = n[0], a = n[2], u = n[4], c = n[1], f = n[3], d = n[5], p = Math.sin(i), y = Math.cos(i);
  return r[0] = o * y + c * p, r[1] = -o * p + c * y, r[2] = a * y + f * p, r[3] = -a * p + y * f, r[4] = y * u + p * d, r[5] = y * d - p * u, r;
}
function scale(r, n, i) {
  var o = i[0], a = i[1];
  return r[0] = n[0] * o, r[1] = n[1] * a, r[2] = n[2] * o, r[3] = n[3] * a, r[4] = n[4] * o, r[5] = n[5] * a, r;
}
function invert(r, n) {
  var i = n[0], o = n[2], a = n[4], u = n[1], c = n[3], f = n[5], d = i * c - u * o;
  return d ? (d = 1 / d, r[0] = c * d, r[1] = -u * d, r[2] = -o * d, r[3] = i * d, r[4] = (o * f - c * a) * d, r[5] = (u * a - i * f) * d, r) : null;
}
var Point = function() {
  function r(n, i) {
    this.x = n || 0, this.y = i || 0;
  }
  return r.prototype.copy = function(n) {
    return this.x = n.x, this.y = n.y, this;
  }, r.prototype.clone = function() {
    return new r(this.x, this.y);
  }, r.prototype.set = function(n, i) {
    return this.x = n, this.y = i, this;
  }, r.prototype.equal = function(n) {
    return n.x === this.x && n.y === this.y;
  }, r.prototype.add = function(n) {
    return this.x += n.x, this.y += n.y, this;
  }, r.prototype.scale = function(n) {
    this.x *= n, this.y *= n;
  }, r.prototype.scaleAndAdd = function(n, i) {
    this.x += n.x * i, this.y += n.y * i;
  }, r.prototype.sub = function(n) {
    return this.x -= n.x, this.y -= n.y, this;
  }, r.prototype.dot = function(n) {
    return this.x * n.x + this.y * n.y;
  }, r.prototype.len = function() {
    return Math.sqrt(this.x * this.x + this.y * this.y);
  }, r.prototype.lenSquare = function() {
    return this.x * this.x + this.y * this.y;
  }, r.prototype.normalize = function() {
    var n = this.len();
    return this.x /= n, this.y /= n, this;
  }, r.prototype.distance = function(n) {
    var i = this.x - n.x, o = this.y - n.y;
    return Math.sqrt(i * i + o * o);
  }, r.prototype.distanceSquare = function(n) {
    var i = this.x - n.x, o = this.y - n.y;
    return i * i + o * o;
  }, r.prototype.negate = function() {
    return this.x = -this.x, this.y = -this.y, this;
  }, r.prototype.transform = function(n) {
    if (n) {
      var i = this.x, o = this.y;
      return this.x = n[0] * i + n[2] * o + n[4], this.y = n[1] * i + n[3] * o + n[5], this;
    }
  }, r.prototype.toArray = function(n) {
    return n[0] = this.x, n[1] = this.y, n;
  }, r.prototype.fromArray = function(n) {
    this.x = n[0], this.y = n[1];
  }, r.set = function(n, i, o) {
    n.x = i, n.y = o;
  }, r.copy = function(n, i) {
    n.x = i.x, n.y = i.y;
  }, r.len = function(n) {
    return Math.sqrt(n.x * n.x + n.y * n.y);
  }, r.lenSquare = function(n) {
    return n.x * n.x + n.y * n.y;
  }, r.dot = function(n, i) {
    return n.x * i.x + n.y * i.y;
  }, r.add = function(n, i, o) {
    n.x = i.x + o.x, n.y = i.y + o.y;
  }, r.sub = function(n, i, o) {
    n.x = i.x - o.x, n.y = i.y - o.y;
  }, r.scale = function(n, i, o) {
    n.x = i.x * o, n.y = i.y * o;
  }, r.scaleAndAdd = function(n, i, o, a) {
    n.x = i.x + o.x * a, n.y = i.y + o.y * a;
  }, r.lerp = function(n, i, o, a) {
    var u = 1 - a;
    n.x = u * i.x + a * o.x, n.y = u * i.y + a * o.y;
  }, r;
}();
const Point$1 = Point;
var mathMin$4 = Math.min, mathMax$4 = Math.max, lt$1 = new Point$1(), rb = new Point$1(), lb = new Point$1(), rt$1 = new Point$1(), minTv$1 = new Point$1(), maxTv$1 = new Point$1(), BoundingRect = function() {
  function r(n, i, o, a) {
    o < 0 && (n = n + o, o = -o), a < 0 && (i = i + a, a = -a), this.x = n, this.y = i, this.width = o, this.height = a;
  }
  return r.prototype.union = function(n) {
    var i = mathMin$4(n.x, this.x), o = mathMin$4(n.y, this.y);
    isFinite(this.x) && isFinite(this.width) ? this.width = mathMax$4(n.x + n.width, this.x + this.width) - i : this.width = n.width, isFinite(this.y) && isFinite(this.height) ? this.height = mathMax$4(n.y + n.height, this.y + this.height) - o : this.height = n.height, this.x = i, this.y = o;
  }, r.prototype.applyTransform = function(n) {
    r.applyTransform(this, this, n);
  }, r.prototype.calculateTransform = function(n) {
    var i = this, o = n.width / i.width, a = n.height / i.height, u = create();
    return translate$1(u, u, [-i.x, -i.y]), scale(u, u, [o, a]), translate$1(u, u, [n.x, n.y]), u;
  }, r.prototype.intersect = function(n, i) {
    if (!n)
      return !1;
    n instanceof r || (n = r.create(n));
    var o = this, a = o.x, u = o.x + o.width, c = o.y, f = o.y + o.height, d = n.x, p = n.x + n.width, y = n.y, v = n.y + n.height, g = !(u < d || p < a || f < y || v < c);
    if (i) {
      var _ = 1 / 0, b = 0, A = Math.abs(u - d), w = Math.abs(p - a), S = Math.abs(f - y), x = Math.abs(v - c), T = Math.min(A, w), L = Math.min(S, x);
      u < d || p < a ? T > b && (b = T, A < w ? Point$1.set(maxTv$1, -A, 0) : Point$1.set(maxTv$1, w, 0)) : T < _ && (_ = T, A < w ? Point$1.set(minTv$1, A, 0) : Point$1.set(minTv$1, -w, 0)), f < y || v < c ? L > b && (b = L, S < x ? Point$1.set(maxTv$1, 0, -S) : Point$1.set(maxTv$1, 0, x)) : T < _ && (_ = T, S < x ? Point$1.set(minTv$1, 0, S) : Point$1.set(minTv$1, 0, -x));
    }
    return i && Point$1.copy(i, g ? minTv$1 : maxTv$1), g;
  }, r.prototype.contain = function(n, i) {
    var o = this;
    return n >= o.x && n <= o.x + o.width && i >= o.y && i <= o.y + o.height;
  }, r.prototype.clone = function() {
    return new r(this.x, this.y, this.width, this.height);
  }, r.prototype.copy = function(n) {
    r.copy(this, n);
  }, r.prototype.plain = function() {
    return {
      x: this.x,
      y: this.y,
      width: this.width,
      height: this.height
    };
  }, r.prototype.isFinite = function() {
    return isFinite(this.x) && isFinite(this.y) && isFinite(this.width) && isFinite(this.height);
  }, r.prototype.isZero = function() {
    return this.width === 0 || this.height === 0;
  }, r.create = function(n) {
    return new r(n.x, n.y, n.width, n.height);
  }, r.copy = function(n, i) {
    n.x = i.x, n.y = i.y, n.width = i.width, n.height = i.height;
  }, r.applyTransform = function(n, i, o) {
    if (!o) {
      n !== i && r.copy(n, i);
      return;
    }
    if (o[1] < 1e-5 && o[1] > -1e-5 && o[2] < 1e-5 && o[2] > -1e-5) {
      var a = o[0], u = o[3], c = o[4], f = o[5];
      n.x = i.x * a + c, n.y = i.y * u + f, n.width = i.width * a, n.height = i.height * u, n.width < 0 && (n.x += n.width, n.width = -n.width), n.height < 0 && (n.y += n.height, n.height = -n.height);
      return;
    }
    lt$1.x = lb.x = i.x, lt$1.y = rt$1.y = i.y, rb.x = rt$1.x = i.x + i.width, rb.y = lb.y = i.y + i.height, lt$1.transform(o), rt$1.transform(o), rb.transform(o), lb.transform(o), n.x = mathMin$4(lt$1.x, rb.x, lb.x, rt$1.x), n.y = mathMin$4(lt$1.y, rb.y, lb.y, rt$1.y);
    var d = mathMax$4(lt$1.x, rb.x, lb.x, rt$1.x), p = mathMax$4(lt$1.y, rb.y, lb.y, rt$1.y);
    n.width = d - n.x, n.height = p - n.y;
  }, r;
}();
const BoundingRect$1 = BoundingRect;
var SILENT = "silent";
function makeEventPacket(r, n, i) {
  return {
    type: r,
    event: i,
    target: n.target,
    topTarget: n.topTarget,
    cancelBubble: !1,
    offsetX: i.zrX,
    offsetY: i.zrY,
    gestureEvent: i.gestureEvent,
    pinchX: i.pinchX,
    pinchY: i.pinchY,
    pinchScale: i.pinchScale,
    wheelDelta: i.zrDelta,
    zrByTouch: i.zrByTouch,
    which: i.which,
    stop: stopEvent$1
  };
}
function stopEvent$1() {
  stop(this.event);
}
var EmptyProxy = function(r) {
  __extends(n, r);
  function n() {
    var i = r !== null && r.apply(this, arguments) || this;
    return i.handler = null, i;
  }
  return n.prototype.dispose = function() {
  }, n.prototype.setCursor = function() {
  }, n;
}(Eventful$1), HoveredResult = function() {
  function r(n, i) {
    this.x = n, this.y = i;
  }
  return r;
}(), handlerNames = [
  "click",
  "dblclick",
  "mousewheel",
  "mouseout",
  "mouseup",
  "mousedown",
  "mousemove",
  "contextmenu"
], tmpRect$1 = new BoundingRect$1(0, 0, 0, 0), Handler = function(r) {
  __extends(n, r);
  function n(i, o, a, u, c) {
    var f = r.call(this) || this;
    return f._hovered = new HoveredResult(0, 0), f.storage = i, f.painter = o, f.painterRoot = u, f._pointerSize = c, a = a || new EmptyProxy(), f.proxy = null, f.setHandlerProxy(a), f._draggingMgr = new Draggable$1(f), f;
  }
  return n.prototype.setHandlerProxy = function(i) {
    this.proxy && this.proxy.dispose(), i && (each$4(handlerNames, function(o) {
      i.on && i.on(o, this[o], this);
    }, this), i.handler = this), this.proxy = i;
  }, n.prototype.mousemove = function(i) {
    var o = i.zrX, a = i.zrY, u = isOutsideBoundary(this, o, a), c = this._hovered, f = c.target;
    f && !f.__zr && (c = this.findHover(c.x, c.y), f = c.target);
    var d = this._hovered = u ? new HoveredResult(o, a) : this.findHover(o, a), p = d.target, y = this.proxy;
    y.setCursor && y.setCursor(p ? p.cursor : "default"), f && p !== f && this.dispatchToElement(c, "mouseout", i), this.dispatchToElement(d, "mousemove", i), p && p !== f && this.dispatchToElement(d, "mouseover", i);
  }, n.prototype.mouseout = function(i) {
    var o = i.zrEventControl;
    o !== "only_globalout" && this.dispatchToElement(this._hovered, "mouseout", i), o !== "no_globalout" && this.trigger("globalout", { type: "globalout", event: i });
  }, n.prototype.resize = function() {
    this._hovered = new HoveredResult(0, 0);
  }, n.prototype.dispatch = function(i, o) {
    var a = this[i];
    a && a.call(this, o);
  }, n.prototype.dispose = function() {
    this.proxy.dispose(), this.storage = null, this.proxy = null, this.painter = null;
  }, n.prototype.setCursorStyle = function(i) {
    var o = this.proxy;
    o.setCursor && o.setCursor(i);
  }, n.prototype.dispatchToElement = function(i, o, a) {
    i = i || {};
    var u = i.target;
    if (!(u && u.silent)) {
      for (var c = "on" + o, f = makeEventPacket(o, i, a); u && (u[c] && (f.cancelBubble = !!u[c].call(u, f)), u.trigger(o, f), u = u.__hostTarget ? u.__hostTarget : u.parent, !f.cancelBubble); )
        ;
      f.cancelBubble || (this.trigger(o, f), this.painter && this.painter.eachOtherLayer && this.painter.eachOtherLayer(function(d) {
        typeof d[c] == "function" && d[c].call(d, f), d.trigger && d.trigger(o, f);
      }));
    }
  }, n.prototype.findHover = function(i, o, a) {
    var u = this.storage.getDisplayList(), c = new HoveredResult(i, o);
    if (setHoverTarget(u, c, i, o, a), this._pointerSize && !c.target) {
      for (var f = [], d = this._pointerSize, p = d / 2, y = new BoundingRect$1(i - p, o - p, d, d), v = u.length - 1; v >= 0; v--) {
        var g = u[v];
        g !== a && !g.ignore && !g.ignoreCoarsePointer && (!g.parent || !g.parent.ignoreCoarsePointer) && (tmpRect$1.copy(g.getBoundingRect()), g.transform && tmpRect$1.applyTransform(g.transform), tmpRect$1.intersect(y) && f.push(g));
      }
      if (f.length)
        for (var _ = 4, b = Math.PI / 12, A = Math.PI * 2, w = 0; w < p; w += _)
          for (var S = 0; S < A; S += b) {
            var x = i + w * Math.cos(S), T = o + w * Math.sin(S);
            if (setHoverTarget(f, c, x, T, a), c.target)
              return c;
          }
    }
    return c;
  }, n.prototype.processGesture = function(i, o) {
    this._gestureMgr || (this._gestureMgr = new GestureMgr());
    var a = this._gestureMgr;
    o === "start" && a.clear();
    var u = a.recognize(i, this.findHover(i.zrX, i.zrY, null).target, this.proxy.dom);
    if (o === "end" && a.clear(), u) {
      var c = u.type;
      i.gestureEvent = c;
      var f = new HoveredResult();
      f.target = u.target, this.dispatchToElement(f, c, u.event);
    }
  }, n;
}(Eventful$1);
each$4(["click", "mousedown", "mouseup", "mousewheel", "dblclick", "contextmenu"], function(r) {
  Handler.prototype[r] = function(n) {
    var i = n.zrX, o = n.zrY, a = isOutsideBoundary(this, i, o), u, c;
    if ((r !== "mouseup" || !a) && (u = this.findHover(i, o), c = u.target), r === "mousedown")
      this._downEl = c, this._downPoint = [n.zrX, n.zrY], this._upEl = c;
    else if (r === "mouseup")
      this._upEl = c;
    else if (r === "click") {
      if (this._downEl !== this._upEl || !this._downPoint || dist$1(this._downPoint, [n.zrX, n.zrY]) > 4)
        return;
      this._downPoint = null;
    }
    this.dispatchToElement(u, r, n);
  };
});
function isHover(r, n, i) {
  if (r[r.rectHover ? "rectContain" : "contain"](n, i)) {
    for (var o = r, a = void 0, u = !1; o; ) {
      if (o.ignoreClip && (u = !0), !u) {
        var c = o.getClipPath();
        if (c && !c.contain(n, i))
          return !1;
        o.silent && (a = !0);
      }
      var f = o.__hostTarget;
      o = f || o.parent;
    }
    return a ? SILENT : !0;
  }
  return !1;
}
function setHoverTarget(r, n, i, o, a) {
  for (var u = r.length - 1; u >= 0; u--) {
    var c = r[u], f = void 0;
    if (c !== a && !c.ignore && (f = isHover(c, i, o)) && (!n.topTarget && (n.topTarget = c), f !== SILENT)) {
      n.target = c;
      break;
    }
  }
}
function isOutsideBoundary(r, n, i) {
  var o = r.painter;
  return n < 0 || n > o.getWidth() || i < 0 || i > o.getHeight();
}
const Handler$1 = Handler;
var DEFAULT_MIN_MERGE = 32, DEFAULT_MIN_GALLOPING = 7;
function minRunLength(r) {
  for (var n = 0; r >= DEFAULT_MIN_MERGE; )
    n |= r & 1, r >>= 1;
  return r + n;
}
function makeAscendingRun(r, n, i, o) {
  var a = n + 1;
  if (a === i)
    return 1;
  if (o(r[a++], r[n]) < 0) {
    for (; a < i && o(r[a], r[a - 1]) < 0; )
      a++;
    reverseRun(r, n, a);
  } else
    for (; a < i && o(r[a], r[a - 1]) >= 0; )
      a++;
  return a - n;
}
function reverseRun(r, n, i) {
  for (i--; n < i; ) {
    var o = r[n];
    r[n++] = r[i], r[i--] = o;
  }
}
function binaryInsertionSort(r, n, i, o, a) {
  for (o === n && o++; o < i; o++) {
    for (var u = r[o], c = n, f = o, d; c < f; )
      d = c + f >>> 1, a(u, r[d]) < 0 ? f = d : c = d + 1;
    var p = o - c;
    switch (p) {
      case 3:
        r[c + 3] = r[c + 2];
      case 2:
        r[c + 2] = r[c + 1];
      case 1:
        r[c + 1] = r[c];
        break;
      default:
        for (; p > 0; )
          r[c + p] = r[c + p - 1], p--;
    }
    r[c] = u;
  }
}
function gallopLeft(r, n, i, o, a, u) {
  var c = 0, f = 0, d = 1;
  if (u(r, n[i + a]) > 0) {
    for (f = o - a; d < f && u(r, n[i + a + d]) > 0; )
      c = d, d = (d << 1) + 1, d <= 0 && (d = f);
    d > f && (d = f), c += a, d += a;
  } else {
    for (f = a + 1; d < f && u(r, n[i + a - d]) <= 0; )
      c = d, d = (d << 1) + 1, d <= 0 && (d = f);
    d > f && (d = f);
    var p = c;
    c = a - d, d = a - p;
  }
  for (c++; c < d; ) {
    var y = c + (d - c >>> 1);
    u(r, n[i + y]) > 0 ? c = y + 1 : d = y;
  }
  return d;
}
function gallopRight(r, n, i, o, a, u) {
  var c = 0, f = 0, d = 1;
  if (u(r, n[i + a]) < 0) {
    for (f = a + 1; d < f && u(r, n[i + a - d]) < 0; )
      c = d, d = (d << 1) + 1, d <= 0 && (d = f);
    d > f && (d = f);
    var p = c;
    c = a - d, d = a - p;
  } else {
    for (f = o - a; d < f && u(r, n[i + a + d]) >= 0; )
      c = d, d = (d << 1) + 1, d <= 0 && (d = f);
    d > f && (d = f), c += a, d += a;
  }
  for (c++; c < d; ) {
    var y = c + (d - c >>> 1);
    u(r, n[i + y]) < 0 ? d = y : c = y + 1;
  }
  return d;
}
function TimSort(r, n) {
  var i = DEFAULT_MIN_GALLOPING, o, a, u = 0;
  r.length;
  var c = [];
  o = [], a = [];
  function f(_, b) {
    o[u] = _, a[u] = b, u += 1;
  }
  function d() {
    for (; u > 1; ) {
      var _ = u - 2;
      if (_ >= 1 && a[_ - 1] <= a[_] + a[_ + 1] || _ >= 2 && a[_ - 2] <= a[_] + a[_ - 1])
        a[_ - 1] < a[_ + 1] && _--;
      else if (a[_] > a[_ + 1])
        break;
      y(_);
    }
  }
  function p() {
    for (; u > 1; ) {
      var _ = u - 2;
      _ > 0 && a[_ - 1] < a[_ + 1] && _--, y(_);
    }
  }
  function y(_) {
    var b = o[_], A = a[_], w = o[_ + 1], S = a[_ + 1];
    a[_] = A + S, _ === u - 3 && (o[_ + 1] = o[_ + 2], a[_ + 1] = a[_ + 2]), u--;
    var x = gallopRight(r[w], r, b, A, 0, n);
    b += x, A -= x, A !== 0 && (S = gallopLeft(r[b + A - 1], r, w, S, S - 1, n), S !== 0 && (A <= S ? v(b, A, w, S) : g(b, A, w, S)));
  }
  function v(_, b, A, w) {
    var S = 0;
    for (S = 0; S < b; S++)
      c[S] = r[_ + S];
    var x = 0, T = A, L = _;
    if (r[L++] = r[T++], --w === 0) {
      for (S = 0; S < b; S++)
        r[L + S] = c[x + S];
      return;
    }
    if (b === 1) {
      for (S = 0; S < w; S++)
        r[L + S] = r[T + S];
      r[L + w] = c[x];
      return;
    }
    for (var k = i, M, O, ie; ; ) {
      M = 0, O = 0, ie = !1;
      do
        if (n(r[T], c[x]) < 0) {
          if (r[L++] = r[T++], O++, M = 0, --w === 0) {
            ie = !0;
            break;
          }
        } else if (r[L++] = c[x++], M++, O = 0, --b === 1) {
          ie = !0;
          break;
        }
      while ((M | O) < k);
      if (ie)
        break;
      do {
        if (M = gallopRight(r[T], c, x, b, 0, n), M !== 0) {
          for (S = 0; S < M; S++)
            r[L + S] = c[x + S];
          if (L += M, x += M, b -= M, b <= 1) {
            ie = !0;
            break;
          }
        }
        if (r[L++] = r[T++], --w === 0) {
          ie = !0;
          break;
        }
        if (O = gallopLeft(c[x], r, T, w, 0, n), O !== 0) {
          for (S = 0; S < O; S++)
            r[L + S] = r[T + S];
          if (L += O, T += O, w -= O, w === 0) {
            ie = !0;
            break;
          }
        }
        if (r[L++] = c[x++], --b === 1) {
          ie = !0;
          break;
        }
        k--;
      } while (M >= DEFAULT_MIN_GALLOPING || O >= DEFAULT_MIN_GALLOPING);
      if (ie)
        break;
      k < 0 && (k = 0), k += 2;
    }
    if (i = k, i < 1 && (i = 1), b === 1) {
      for (S = 0; S < w; S++)
        r[L + S] = r[T + S];
      r[L + w] = c[x];
    } else {
      if (b === 0)
        throw new Error();
      for (S = 0; S < b; S++)
        r[L + S] = c[x + S];
    }
  }
  function g(_, b, A, w) {
    var S = 0;
    for (S = 0; S < w; S++)
      c[S] = r[A + S];
    var x = _ + b - 1, T = w - 1, L = A + w - 1, k = 0, M = 0;
    if (r[L--] = r[x--], --b === 0) {
      for (k = L - (w - 1), S = 0; S < w; S++)
        r[k + S] = c[S];
      return;
    }
    if (w === 1) {
      for (L -= b, x -= b, M = L + 1, k = x + 1, S = b - 1; S >= 0; S--)
        r[M + S] = r[k + S];
      r[L] = c[T];
      return;
    }
    for (var O = i; ; ) {
      var ie = 0, F = 0, re = !1;
      do
        if (n(c[T], r[x]) < 0) {
          if (r[L--] = r[x--], ie++, F = 0, --b === 0) {
            re = !0;
            break;
          }
        } else if (r[L--] = c[T--], F++, ie = 0, --w === 1) {
          re = !0;
          break;
        }
      while ((ie | F) < O);
      if (re)
        break;
      do {
        if (ie = b - gallopRight(c[T], r, _, b, b - 1, n), ie !== 0) {
          for (L -= ie, x -= ie, b -= ie, M = L + 1, k = x + 1, S = ie - 1; S >= 0; S--)
            r[M + S] = r[k + S];
          if (b === 0) {
            re = !0;
            break;
          }
        }
        if (r[L--] = c[T--], --w === 1) {
          re = !0;
          break;
        }
        if (F = w - gallopLeft(r[x], c, 0, w, w - 1, n), F !== 0) {
          for (L -= F, T -= F, w -= F, M = L + 1, k = T + 1, S = 0; S < F; S++)
            r[M + S] = c[k + S];
          if (w <= 1) {
            re = !0;
            break;
          }
        }
        if (r[L--] = r[x--], --b === 0) {
          re = !0;
          break;
        }
        O--;
      } while (ie >= DEFAULT_MIN_GALLOPING || F >= DEFAULT_MIN_GALLOPING);
      if (re)
        break;
      O < 0 && (O = 0), O += 2;
    }
    if (i = O, i < 1 && (i = 1), w === 1) {
      for (L -= b, x -= b, M = L + 1, k = x + 1, S = b - 1; S >= 0; S--)
        r[M + S] = r[k + S];
      r[L] = c[T];
    } else {
      if (w === 0)
        throw new Error();
      for (k = L - (w - 1), S = 0; S < w; S++)
        r[k + S] = c[S];
    }
  }
  return {
    mergeRuns: d,
    forceMergeRuns: p,
    pushRun: f
  };
}
function sort(r, n, i, o) {
  i || (i = 0), o || (o = r.length);
  var a = o - i;
  if (!(a < 2)) {
    var u = 0;
    if (a < DEFAULT_MIN_MERGE) {
      u = makeAscendingRun(r, i, o, n), binaryInsertionSort(r, i, o, i + u, n);
      return;
    }
    var c = TimSort(r, n), f = minRunLength(a);
    do {
      if (u = makeAscendingRun(r, i, o, n), u < f) {
        var d = a;
        d > f && (d = f), binaryInsertionSort(r, i, i + d, i + u, n), u = d;
      }
      c.pushRun(i, u), c.mergeRuns(), a -= u, i += u;
    } while (a !== 0);
    c.forceMergeRuns();
  }
}
var REDRAW_BIT = 1, STYLE_CHANGED_BIT = 2, SHAPE_CHANGED_BIT = 4, invalidZErrorLogged = !1;
function logInvalidZError() {
  invalidZErrorLogged || (invalidZErrorLogged = !0, console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"));
}
function shapeCompareFunc(r, n) {
  return r.zlevel === n.zlevel ? r.z === n.z ? r.z2 - n.z2 : r.z - n.z : r.zlevel - n.zlevel;
}
var Storage = function() {
  function r() {
    this._roots = [], this._displayList = [], this._displayListLen = 0, this.displayableSortFunc = shapeCompareFunc;
  }
  return r.prototype.traverse = function(n, i) {
    for (var o = 0; o < this._roots.length; o++)
      this._roots[o].traverse(n, i);
  }, r.prototype.getDisplayList = function(n, i) {
    i = i || !1;
    var o = this._displayList;
    return (n || !o.length) && this.updateDisplayList(i), o;
  }, r.prototype.updateDisplayList = function(n) {
    this._displayListLen = 0;
    for (var i = this._roots, o = this._displayList, a = 0, u = i.length; a < u; a++)
      this._updateAndAddDisplayable(i[a], null, n);
    o.length = this._displayListLen, sort(o, shapeCompareFunc);
  }, r.prototype._updateAndAddDisplayable = function(n, i, o) {
    if (!(n.ignore && !o)) {
      n.beforeUpdate(), n.update(), n.afterUpdate();
      var a = n.getClipPath();
      if (n.ignoreClip)
        i = null;
      else if (a) {
        i ? i = i.slice() : i = [];
        for (var u = a, c = n; u; )
          u.parent = c, u.updateTransform(), i.push(u), c = u, u = u.getClipPath();
      }
      if (n.childrenRef) {
        for (var f = n.childrenRef(), d = 0; d < f.length; d++) {
          var p = f[d];
          n.__dirty && (p.__dirty |= REDRAW_BIT), this._updateAndAddDisplayable(p, i, o);
        }
        n.__dirty = 0;
      } else {
        var y = n;
        i && i.length ? y.__clipPaths = i : y.__clipPaths && y.__clipPaths.length > 0 && (y.__clipPaths = []), isNaN(y.z) && (logInvalidZError(), y.z = 0), isNaN(y.z2) && (logInvalidZError(), y.z2 = 0), isNaN(y.zlevel) && (logInvalidZError(), y.zlevel = 0), this._displayList[this._displayListLen++] = y;
      }
      var v = n.getDecalElement && n.getDecalElement();
      v && this._updateAndAddDisplayable(v, i, o);
      var g = n.getTextGuideLine();
      g && this._updateAndAddDisplayable(g, i, o);
      var _ = n.getTextContent();
      _ && this._updateAndAddDisplayable(_, i, o);
    }
  }, r.prototype.addRoot = function(n) {
    n.__zr && n.__zr.storage === this || this._roots.push(n);
  }, r.prototype.delRoot = function(n) {
    if (n instanceof Array) {
      for (var i = 0, o = n.length; i < o; i++)
        this.delRoot(n[i]);
      return;
    }
    var a = indexOf(this._roots, n);
    a >= 0 && this._roots.splice(a, 1);
  }, r.prototype.delAllRoots = function() {
    this._roots = [], this._displayList = [], this._displayListLen = 0;
  }, r.prototype.getRoots = function() {
    return this._roots;
  }, r.prototype.dispose = function() {
    this._displayList = null, this._roots = null;
  }, r;
}();
const Storage$1 = Storage;
var requestAnimationFrame$2;
requestAnimationFrame$2 = env$1.hasGlobalWindow && (window.requestAnimationFrame && window.requestAnimationFrame.bind(window) || window.msRequestAnimationFrame && window.msRequestAnimationFrame.bind(window) || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame) || function(r) {
  return setTimeout(r, 16);
};
const requestAnimationFrame$3 = requestAnimationFrame$2;
var easingFuncs = {
  linear: function(r) {
    return r;
  },
  quadraticIn: function(r) {
    return r * r;
  },
  quadraticOut: function(r) {
    return r * (2 - r);
  },
  quadraticInOut: function(r) {
    return (r *= 2) < 1 ? 0.5 * r * r : -0.5 * (--r * (r - 2) - 1);
  },
  cubicIn: function(r) {
    return r * r * r;
  },
  cubicOut: function(r) {
    return --r * r * r + 1;
  },
  cubicInOut: function(r) {
    return (r *= 2) < 1 ? 0.5 * r * r * r : 0.5 * ((r -= 2) * r * r + 2);
  },
  quarticIn: function(r) {
    return r * r * r * r;
  },
  quarticOut: function(r) {
    return 1 - --r * r * r * r;
  },
  quarticInOut: function(r) {
    return (r *= 2) < 1 ? 0.5 * r * r * r * r : -0.5 * ((r -= 2) * r * r * r - 2);
  },
  quinticIn: function(r) {
    return r * r * r * r * r;
  },
  quinticOut: function(r) {
    return --r * r * r * r * r + 1;
  },
  quinticInOut: function(r) {
    return (r *= 2) < 1 ? 0.5 * r * r * r * r * r : 0.5 * ((r -= 2) * r * r * r * r + 2);
  },
  sinusoidalIn: function(r) {
    return 1 - Math.cos(r * Math.PI / 2);
  },
  sinusoidalOut: function(r) {
    return Math.sin(r * Math.PI / 2);
  },
  sinusoidalInOut: function(r) {
    return 0.5 * (1 - Math.cos(Math.PI * r));
  },
  exponentialIn: function(r) {
    return r === 0 ? 0 : Math.pow(1024, r - 1);
  },
  exponentialOut: function(r) {
    return r === 1 ? 1 : 1 - Math.pow(2, -10 * r);
  },
  exponentialInOut: function(r) {
    return r === 0 ? 0 : r === 1 ? 1 : (r *= 2) < 1 ? 0.5 * Math.pow(1024, r - 1) : 0.5 * (-Math.pow(2, -10 * (r - 1)) + 2);
  },
  circularIn: function(r) {
    return 1 - Math.sqrt(1 - r * r);
  },
  circularOut: function(r) {
    return Math.sqrt(1 - --r * r);
  },
  circularInOut: function(r) {
    return (r *= 2) < 1 ? -0.5 * (Math.sqrt(1 - r * r) - 1) : 0.5 * (Math.sqrt(1 - (r -= 2) * r) + 1);
  },
  elasticIn: function(r) {
    var n, i = 0.1, o = 0.4;
    return r === 0 ? 0 : r === 1 ? 1 : (!i || i < 1 ? (i = 1, n = o / 4) : n = o * Math.asin(1 / i) / (2 * Math.PI), -(i * Math.pow(2, 10 * (r -= 1)) * Math.sin((r - n) * (2 * Math.PI) / o)));
  },
  elasticOut: function(r) {
    var n, i = 0.1, o = 0.4;
    return r === 0 ? 0 : r === 1 ? 1 : (!i || i < 1 ? (i = 1, n = o / 4) : n = o * Math.asin(1 / i) / (2 * Math.PI), i * Math.pow(2, -10 * r) * Math.sin((r - n) * (2 * Math.PI) / o) + 1);
  },
  elasticInOut: function(r) {
    var n, i = 0.1, o = 0.4;
    return r === 0 ? 0 : r === 1 ? 1 : (!i || i < 1 ? (i = 1, n = o / 4) : n = o * Math.asin(1 / i) / (2 * Math.PI), (r *= 2) < 1 ? -0.5 * (i * Math.pow(2, 10 * (r -= 1)) * Math.sin((r - n) * (2 * Math.PI) / o)) : i * Math.pow(2, -10 * (r -= 1)) * Math.sin((r - n) * (2 * Math.PI) / o) * 0.5 + 1);
  },
  backIn: function(r) {
    var n = 1.70158;
    return r * r * ((n + 1) * r - n);
  },
  backOut: function(r) {
    var n = 1.70158;
    return --r * r * ((n + 1) * r + n) + 1;
  },
  backInOut: function(r) {
    var n = 2.5949095;
    return (r *= 2) < 1 ? 0.5 * (r * r * ((n + 1) * r - n)) : 0.5 * ((r -= 2) * r * ((n + 1) * r + n) + 2);
  },
  bounceIn: function(r) {
    return 1 - easingFuncs.bounceOut(1 - r);
  },
  bounceOut: function(r) {
    return r < 1 / 2.75 ? 7.5625 * r * r : r < 2 / 2.75 ? 7.5625 * (r -= 1.5 / 2.75) * r + 0.75 : r < 2.5 / 2.75 ? 7.5625 * (r -= 2.25 / 2.75) * r + 0.9375 : 7.5625 * (r -= 2.625 / 2.75) * r + 0.984375;
  },
  bounceInOut: function(r) {
    return r < 0.5 ? easingFuncs.bounceIn(r * 2) * 0.5 : easingFuncs.bounceOut(r * 2 - 1) * 0.5 + 0.5;
  }
};
const easingFuncs$1 = easingFuncs;
var mathPow = Math.pow, mathSqrt$3 = Math.sqrt, EPSILON$3 = 1e-8, EPSILON_NUMERIC = 1e-4, THREE_SQRT = mathSqrt$3(3), ONE_THIRD = 1 / 3, _v0 = create$1(), _v1 = create$1(), _v2 = create$1();
function isAroundZero$1(r) {
  return r > -EPSILON$3 && r < EPSILON$3;
}
function isNotAroundZero$1(r) {
  return r > EPSILON$3 || r < -EPSILON$3;
}
function cubicAt(r, n, i, o, a) {
  var u = 1 - a;
  return u * u * (u * r + 3 * a * n) + a * a * (a * o + 3 * u * i);
}
function cubicDerivativeAt(r, n, i, o, a) {
  var u = 1 - a;
  return 3 * (((n - r) * u + 2 * (i - n) * a) * u + (o - i) * a * a);
}
function cubicRootAt(r, n, i, o, a, u) {
  var c = o + 3 * (n - i) - r, f = 3 * (i - n * 2 + r), d = 3 * (n - r), p = r - a, y = f * f - 3 * c * d, v = f * d - 9 * c * p, g = d * d - 3 * f * p, _ = 0;
  if (isAroundZero$1(y) && isAroundZero$1(v))
    if (isAroundZero$1(f))
      u[0] = 0;
    else {
      var b = -d / f;
      b >= 0 && b <= 1 && (u[_++] = b);
    }
  else {
    var A = v * v - 4 * y * g;
    if (isAroundZero$1(A)) {
      var w = v / y, b = -f / c + w, S = -w / 2;
      b >= 0 && b <= 1 && (u[_++] = b), S >= 0 && S <= 1 && (u[_++] = S);
    } else if (A > 0) {
      var x = mathSqrt$3(A), T = y * f + 1.5 * c * (-v + x), L = y * f + 1.5 * c * (-v - x);
      T < 0 ? T = -mathPow(-T, ONE_THIRD) : T = mathPow(T, ONE_THIRD), L < 0 ? L = -mathPow(-L, ONE_THIRD) : L = mathPow(L, ONE_THIRD);
      var b = (-f - (T + L)) / (3 * c);
      b >= 0 && b <= 1 && (u[_++] = b);
    } else {
      var k = (2 * y * f - 3 * c * v) / (2 * mathSqrt$3(y * y * y)), M = Math.acos(k) / 3, O = mathSqrt$3(y), ie = Math.cos(M), b = (-f - 2 * O * ie) / (3 * c), S = (-f + O * (ie + THREE_SQRT * Math.sin(M))) / (3 * c), F = (-f + O * (ie - THREE_SQRT * Math.sin(M))) / (3 * c);
      b >= 0 && b <= 1 && (u[_++] = b), S >= 0 && S <= 1 && (u[_++] = S), F >= 0 && F <= 1 && (u[_++] = F);
    }
  }
  return _;
}
function cubicExtrema(r, n, i, o, a) {
  var u = 6 * i - 12 * n + 6 * r, c = 9 * n + 3 * o - 3 * r - 9 * i, f = 3 * n - 3 * r, d = 0;
  if (isAroundZero$1(c)) {
    if (isNotAroundZero$1(u)) {
      var p = -f / u;
      p >= 0 && p <= 1 && (a[d++] = p);
    }
  } else {
    var y = u * u - 4 * c * f;
    if (isAroundZero$1(y))
      a[0] = -u / (2 * c);
    else if (y > 0) {
      var v = mathSqrt$3(y), p = (-u + v) / (2 * c), g = (-u - v) / (2 * c);
      p >= 0 && p <= 1 && (a[d++] = p), g >= 0 && g <= 1 && (a[d++] = g);
    }
  }
  return d;
}
function cubicSubdivide(r, n, i, o, a, u) {
  var c = (n - r) * a + r, f = (i - n) * a + n, d = (o - i) * a + i, p = (f - c) * a + c, y = (d - f) * a + f, v = (y - p) * a + p;
  u[0] = r, u[1] = c, u[2] = p, u[3] = v, u[4] = v, u[5] = y, u[6] = d, u[7] = o;
}
function cubicProjectPoint(r, n, i, o, a, u, c, f, d, p, y) {
  var v, g = 5e-3, _ = 1 / 0, b, A, w, S;
  _v0[0] = d, _v0[1] = p;
  for (var x = 0; x < 1; x += 0.05)
    _v1[0] = cubicAt(r, i, a, c, x), _v1[1] = cubicAt(n, o, u, f, x), w = distSquare(_v0, _v1), w < _ && (v = x, _ = w);
  _ = 1 / 0;
  for (var T = 0; T < 32 && !(g < EPSILON_NUMERIC); T++)
    b = v - g, A = v + g, _v1[0] = cubicAt(r, i, a, c, b), _v1[1] = cubicAt(n, o, u, f, b), w = distSquare(_v1, _v0), b >= 0 && w < _ ? (v = b, _ = w) : (_v2[0] = cubicAt(r, i, a, c, A), _v2[1] = cubicAt(n, o, u, f, A), S = distSquare(_v2, _v0), A <= 1 && S < _ ? (v = A, _ = S) : g *= 0.5);
  return y && (y[0] = cubicAt(r, i, a, c, v), y[1] = cubicAt(n, o, u, f, v)), mathSqrt$3(_);
}
function cubicLength(r, n, i, o, a, u, c, f, d) {
  for (var p = r, y = n, v = 0, g = 1 / d, _ = 1; _ <= d; _++) {
    var b = _ * g, A = cubicAt(r, i, a, c, b), w = cubicAt(n, o, u, f, b), S = A - p, x = w - y;
    v += Math.sqrt(S * S + x * x), p = A, y = w;
  }
  return v;
}
function quadraticAt(r, n, i, o) {
  var a = 1 - o;
  return a * (a * r + 2 * o * n) + o * o * i;
}
function quadraticDerivativeAt(r, n, i, o) {
  return 2 * ((1 - o) * (n - r) + o * (i - n));
}
function quadraticRootAt(r, n, i, o, a) {
  var u = r - 2 * n + i, c = 2 * (n - r), f = r - o, d = 0;
  if (isAroundZero$1(u)) {
    if (isNotAroundZero$1(c)) {
      var p = -f / c;
      p >= 0 && p <= 1 && (a[d++] = p);
    }
  } else {
    var y = c * c - 4 * u * f;
    if (isAroundZero$1(y)) {
      var p = -c / (2 * u);
      p >= 0 && p <= 1 && (a[d++] = p);
    } else if (y > 0) {
      var v = mathSqrt$3(y), p = (-c + v) / (2 * u), g = (-c - v) / (2 * u);
      p >= 0 && p <= 1 && (a[d++] = p), g >= 0 && g <= 1 && (a[d++] = g);
    }
  }
  return d;
}
function quadraticExtremum(r, n, i) {
  var o = r + i - 2 * n;
  return o === 0 ? 0.5 : (r - n) / o;
}
function quadraticSubdivide(r, n, i, o, a) {
  var u = (n - r) * o + r, c = (i - n) * o + n, f = (c - u) * o + u;
  a[0] = r, a[1] = u, a[2] = f, a[3] = f, a[4] = c, a[5] = i;
}
function quadraticProjectPoint(r, n, i, o, a, u, c, f, d) {
  var p, y = 5e-3, v = 1 / 0;
  _v0[0] = c, _v0[1] = f;
  for (var g = 0; g < 1; g += 0.05) {
    _v1[0] = quadraticAt(r, i, a, g), _v1[1] = quadraticAt(n, o, u, g);
    var _ = distSquare(_v0, _v1);
    _ < v && (p = g, v = _);
  }
  v = 1 / 0;
  for (var b = 0; b < 32 && !(y < EPSILON_NUMERIC); b++) {
    var A = p - y, w = p + y;
    _v1[0] = quadraticAt(r, i, a, A), _v1[1] = quadraticAt(n, o, u, A);
    var _ = distSquare(_v1, _v0);
    if (A >= 0 && _ < v)
      p = A, v = _;
    else {
      _v2[0] = quadraticAt(r, i, a, w), _v2[1] = quadraticAt(n, o, u, w);
      var S = distSquare(_v2, _v0);
      w <= 1 && S < v ? (p = w, v = S) : y *= 0.5;
    }
  }
  return d && (d[0] = quadraticAt(r, i, a, p), d[1] = quadraticAt(n, o, u, p)), mathSqrt$3(v);
}
function quadraticLength(r, n, i, o, a, u, c) {
  for (var f = r, d = n, p = 0, y = 1 / c, v = 1; v <= c; v++) {
    var g = v * y, _ = quadraticAt(r, i, a, g), b = quadraticAt(n, o, u, g), A = _ - f, w = b - d;
    p += Math.sqrt(A * A + w * w), f = _, d = b;
  }
  return p;
}
var regexp$1 = /cubic-bezier\(([0-9,\.e ]+)\)/;
function createCubicEasingFunc(r) {
  var n = r && regexp$1.exec(r);
  if (n) {
    var i = n[1].split(","), o = +trim(i[0]), a = +trim(i[1]), u = +trim(i[2]), c = +trim(i[3]);
    if (isNaN(o + a + u + c))
      return;
    var f = [];
    return function(d) {
      return d <= 0 ? 0 : d >= 1 ? 1 : cubicRootAt(0, o, u, 1, d, f) && cubicAt(0, a, c, 1, f[0]);
    };
  }
}
var Clip = function() {
  function r(n) {
    this._inited = !1, this._startTime = 0, this._pausedTime = 0, this._paused = !1, this._life = n.life || 1e3, this._delay = n.delay || 0, this.loop = n.loop || !1, this.onframe = n.onframe || noop$1, this.ondestroy = n.ondestroy || noop$1, this.onrestart = n.onrestart || noop$1, n.easing && this.setEasing(n.easing);
  }
  return r.prototype.step = function(n, i) {
    if (this._inited || (this._startTime = n + this._delay, this._inited = !0), this._paused) {
      this._pausedTime += i;
      return;
    }
    var o = this._life, a = n - this._startTime - this._pausedTime, u = a / o;
    u < 0 && (u = 0), u = Math.min(u, 1);
    var c = this.easingFunc, f = c ? c(u) : u;
    if (this.onframe(f), u === 1)
      if (this.loop) {
        var d = a % o;
        this._startTime = n - d, this._pausedTime = 0, this.onrestart();
      } else
        return !0;
    return !1;
  }, r.prototype.pause = function() {
    this._paused = !0;
  }, r.prototype.resume = function() {
    this._paused = !1;
  }, r.prototype.setEasing = function(n) {
    this.easing = n, this.easingFunc = isFunction$1(n) ? n : easingFuncs$1[n] || createCubicEasingFunc(n);
  }, r;
}();
const Clip$1 = Clip;
var Entry = function() {
  function r(n) {
    this.value = n;
  }
  return r;
}(), LinkedList = function() {
  function r() {
    this._len = 0;
  }
  return r.prototype.insert = function(n) {
    var i = new Entry(n);
    return this.insertEntry(i), i;
  }, r.prototype.insertEntry = function(n) {
    this.head ? (this.tail.next = n, n.prev = this.tail, n.next = null, this.tail = n) : this.head = this.tail = n, this._len++;
  }, r.prototype.remove = function(n) {
    var i = n.prev, o = n.next;
    i ? i.next = o : this.head = o, o ? o.prev = i : this.tail = i, n.next = n.prev = null, this._len--;
  }, r.prototype.len = function() {
    return this._len;
  }, r.prototype.clear = function() {
    this.head = this.tail = null, this._len = 0;
  }, r;
}(), LRU = function() {
  function r(n) {
    this._list = new LinkedList(), this._maxSize = 10, this._map = {}, this._maxSize = n;
  }
  return r.prototype.put = function(n, i) {
    var o = this._list, a = this._map, u = null;
    if (a[n] == null) {
      var c = o.len(), f = this._lastRemovedEntry;
      if (c >= this._maxSize && c > 0) {
        var d = o.head;
        o.remove(d), delete a[d.key], u = d.value, this._lastRemovedEntry = d;
      }
      f ? f.value = i : f = new Entry(i), f.key = n, o.insertEntry(f), a[n] = f;
    }
    return u;
  }, r.prototype.get = function(n) {
    var i = this._map[n], o = this._list;
    if (i != null)
      return i !== o.tail && (o.remove(i), o.insertEntry(i)), i.value;
  }, r.prototype.clear = function() {
    this._list.clear(), this._map = {};
  }, r.prototype.len = function() {
    return this._list.len();
  }, r;
}();
const LRU$1 = LRU;
var kCSSColorTable = {
  transparent: [0, 0, 0, 0],
  aliceblue: [240, 248, 255, 1],
  antiquewhite: [250, 235, 215, 1],
  aqua: [0, 255, 255, 1],
  aquamarine: [127, 255, 212, 1],
  azure: [240, 255, 255, 1],
  beige: [245, 245, 220, 1],
  bisque: [255, 228, 196, 1],
  black: [0, 0, 0, 1],
  blanchedalmond: [255, 235, 205, 1],
  blue: [0, 0, 255, 1],
  blueviolet: [138, 43, 226, 1],
  brown: [165, 42, 42, 1],
  burlywood: [222, 184, 135, 1],
  cadetblue: [95, 158, 160, 1],
  chartreuse: [127, 255, 0, 1],
  chocolate: [210, 105, 30, 1],
  coral: [255, 127, 80, 1],
  cornflowerblue: [100, 149, 237, 1],
  cornsilk: [255, 248, 220, 1],
  crimson: [220, 20, 60, 1],
  cyan: [0, 255, 255, 1],
  darkblue: [0, 0, 139, 1],
  darkcyan: [0, 139, 139, 1],
  darkgoldenrod: [184, 134, 11, 1],
  darkgray: [169, 169, 169, 1],
  darkgreen: [0, 100, 0, 1],
  darkgrey: [169, 169, 169, 1],
  darkkhaki: [189, 183, 107, 1],
  darkmagenta: [139, 0, 139, 1],
  darkolivegreen: [85, 107, 47, 1],
  darkorange: [255, 140, 0, 1],
  darkorchid: [153, 50, 204, 1],
  darkred: [139, 0, 0, 1],
  darksalmon: [233, 150, 122, 1],
  darkseagreen: [143, 188, 143, 1],
  darkslateblue: [72, 61, 139, 1],
  darkslategray: [47, 79, 79, 1],
  darkslategrey: [47, 79, 79, 1],
  darkturquoise: [0, 206, 209, 1],
  darkviolet: [148, 0, 211, 1],
  deeppink: [255, 20, 147, 1],
  deepskyblue: [0, 191, 255, 1],
  dimgray: [105, 105, 105, 1],
  dimgrey: [105, 105, 105, 1],
  dodgerblue: [30, 144, 255, 1],
  firebrick: [178, 34, 34, 1],
  floralwhite: [255, 250, 240, 1],
  forestgreen: [34, 139, 34, 1],
  fuchsia: [255, 0, 255, 1],
  gainsboro: [220, 220, 220, 1],
  ghostwhite: [248, 248, 255, 1],
  gold: [255, 215, 0, 1],
  goldenrod: [218, 165, 32, 1],
  gray: [128, 128, 128, 1],
  green: [0, 128, 0, 1],
  greenyellow: [173, 255, 47, 1],
  grey: [128, 128, 128, 1],
  honeydew: [240, 255, 240, 1],
  hotpink: [255, 105, 180, 1],
  indianred: [205, 92, 92, 1],
  indigo: [75, 0, 130, 1],
  ivory: [255, 255, 240, 1],
  khaki: [240, 230, 140, 1],
  lavender: [230, 230, 250, 1],
  lavenderblush: [255, 240, 245, 1],
  lawngreen: [124, 252, 0, 1],
  lemonchiffon: [255, 250, 205, 1],
  lightblue: [173, 216, 230, 1],
  lightcoral: [240, 128, 128, 1],
  lightcyan: [224, 255, 255, 1],
  lightgoldenrodyellow: [250, 250, 210, 1],
  lightgray: [211, 211, 211, 1],
  lightgreen: [144, 238, 144, 1],
  lightgrey: [211, 211, 211, 1],
  lightpink: [255, 182, 193, 1],
  lightsalmon: [255, 160, 122, 1],
  lightseagreen: [32, 178, 170, 1],
  lightskyblue: [135, 206, 250, 1],
  lightslategray: [119, 136, 153, 1],
  lightslategrey: [119, 136, 153, 1],
  lightsteelblue: [176, 196, 222, 1],
  lightyellow: [255, 255, 224, 1],
  lime: [0, 255, 0, 1],
  limegreen: [50, 205, 50, 1],
  linen: [250, 240, 230, 1],
  magenta: [255, 0, 255, 1],
  maroon: [128, 0, 0, 1],
  mediumaquamarine: [102, 205, 170, 1],
  mediumblue: [0, 0, 205, 1],
  mediumorchid: [186, 85, 211, 1],
  mediumpurple: [147, 112, 219, 1],
  mediumseagreen: [60, 179, 113, 1],
  mediumslateblue: [123, 104, 238, 1],
  mediumspringgreen: [0, 250, 154, 1],
  mediumturquoise: [72, 209, 204, 1],
  mediumvioletred: [199, 21, 133, 1],
  midnightblue: [25, 25, 112, 1],
  mintcream: [245, 255, 250, 1],
  mistyrose: [255, 228, 225, 1],
  moccasin: [255, 228, 181, 1],
  navajowhite: [255, 222, 173, 1],
  navy: [0, 0, 128, 1],
  oldlace: [253, 245, 230, 1],
  olive: [128, 128, 0, 1],
  olivedrab: [107, 142, 35, 1],
  orange: [255, 165, 0, 1],
  orangered: [255, 69, 0, 1],
  orchid: [218, 112, 214, 1],
  palegoldenrod: [238, 232, 170, 1],
  palegreen: [152, 251, 152, 1],
  paleturquoise: [175, 238, 238, 1],
  palevioletred: [219, 112, 147, 1],
  papayawhip: [255, 239, 213, 1],
  peachpuff: [255, 218, 185, 1],
  peru: [205, 133, 63, 1],
  pink: [255, 192, 203, 1],
  plum: [221, 160, 221, 1],
  powderblue: [176, 224, 230, 1],
  purple: [128, 0, 128, 1],
  red: [255, 0, 0, 1],
  rosybrown: [188, 143, 143, 1],
  royalblue: [65, 105, 225, 1],
  saddlebrown: [139, 69, 19, 1],
  salmon: [250, 128, 114, 1],
  sandybrown: [244, 164, 96, 1],
  seagreen: [46, 139, 87, 1],
  seashell: [255, 245, 238, 1],
  sienna: [160, 82, 45, 1],
  silver: [192, 192, 192, 1],
  skyblue: [135, 206, 235, 1],
  slateblue: [106, 90, 205, 1],
  slategray: [112, 128, 144, 1],
  slategrey: [112, 128, 144, 1],
  snow: [255, 250, 250, 1],
  springgreen: [0, 255, 127, 1],
  steelblue: [70, 130, 180, 1],
  tan: [210, 180, 140, 1],
  teal: [0, 128, 128, 1],
  thistle: [216, 191, 216, 1],
  tomato: [255, 99, 71, 1],
  turquoise: [64, 224, 208, 1],
  violet: [238, 130, 238, 1],
  wheat: [245, 222, 179, 1],
  white: [255, 255, 255, 1],
  whitesmoke: [245, 245, 245, 1],
  yellow: [255, 255, 0, 1],
  yellowgreen: [154, 205, 50, 1]
};
function clampCssByte(r) {
  return r = Math.round(r), r < 0 ? 0 : r > 255 ? 255 : r;
}
function clampCssFloat(r) {
  return r < 0 ? 0 : r > 1 ? 1 : r;
}
function parseCssInt(r) {
  var n = r;
  return n.length && n.charAt(n.length - 1) === "%" ? clampCssByte(parseFloat(n) / 100 * 255) : clampCssByte(parseInt(n, 10));
}
function parseCssFloat(r) {
  var n = r;
  return n.length && n.charAt(n.length - 1) === "%" ? clampCssFloat(parseFloat(n) / 100) : clampCssFloat(parseFloat(n));
}
function cssHueToRgb(r, n, i) {
  return i < 0 ? i += 1 : i > 1 && (i -= 1), i * 6 < 1 ? r + (n - r) * i * 6 : i * 2 < 1 ? n : i * 3 < 2 ? r + (n - r) * (2 / 3 - i) * 6 : r;
}
function setRgba(r, n, i, o, a) {
  return r[0] = n, r[1] = i, r[2] = o, r[3] = a, r;
}
function copyRgba(r, n) {
  return r[0] = n[0], r[1] = n[1], r[2] = n[2], r[3] = n[3], r;
}
var colorCache = new LRU$1(20), lastRemovedArr = null;
function putToCache(r, n) {
  lastRemovedArr && copyRgba(lastRemovedArr, n), lastRemovedArr = colorCache.put(r, lastRemovedArr || n.slice());
}
function parse(r, n) {
  if (r) {
    n = n || [];
    var i = colorCache.get(r);
    if (i)
      return copyRgba(n, i);
    r = r + "";
    var o = r.replace(/ /g, "").toLowerCase();
    if (o in kCSSColorTable)
      return copyRgba(n, kCSSColorTable[o]), putToCache(r, n), n;
    var a = o.length;
    if (o.charAt(0) === "#") {
      if (a === 4 || a === 5) {
        var u = parseInt(o.slice(1, 4), 16);
        if (!(u >= 0 && u <= 4095)) {
          setRgba(n, 0, 0, 0, 1);
          return;
        }
        return setRgba(n, (u & 3840) >> 4 | (u & 3840) >> 8, u & 240 | (u & 240) >> 4, u & 15 | (u & 15) << 4, a === 5 ? parseInt(o.slice(4), 16) / 15 : 1), putToCache(r, n), n;
      } else if (a === 7 || a === 9) {
        var u = parseInt(o.slice(1, 7), 16);
        if (!(u >= 0 && u <= 16777215)) {
          setRgba(n, 0, 0, 0, 1);
          return;
        }
        return setRgba(n, (u & 16711680) >> 16, (u & 65280) >> 8, u & 255, a === 9 ? parseInt(o.slice(7), 16) / 255 : 1), putToCache(r, n), n;
      }
      return;
    }
    var c = o.indexOf("("), f = o.indexOf(")");
    if (c !== -1 && f + 1 === a) {
      var d = o.substr(0, c), p = o.substr(c + 1, f - (c + 1)).split(","), y = 1;
      switch (d) {
        case "rgba":
          if (p.length !== 4)
            return p.length === 3 ? setRgba(n, +p[0], +p[1], +p[2], 1) : setRgba(n, 0, 0, 0, 1);
          y = parseCssFloat(p.pop());
        case "rgb":
          if (p.length >= 3)
            return setRgba(n, parseCssInt(p[0]), parseCssInt(p[1]), parseCssInt(p[2]), p.length === 3 ? y : parseCssFloat(p[3])), putToCache(r, n), n;
          setRgba(n, 0, 0, 0, 1);
          return;
        case "hsla":
          if (p.length !== 4) {
            setRgba(n, 0, 0, 0, 1);
            return;
          }
          return p[3] = parseCssFloat(p[3]), hsla2rgba(p, n), putToCache(r, n), n;
        case "hsl":
          if (p.length !== 3) {
            setRgba(n, 0, 0, 0, 1);
            return;
          }
          return hsla2rgba(p, n), putToCache(r, n), n;
        default:
          return;
      }
    }
    setRgba(n, 0, 0, 0, 1);
  }
}
function hsla2rgba(r, n) {
  var i = (parseFloat(r[0]) % 360 + 360) % 360 / 360, o = parseCssFloat(r[1]), a = parseCssFloat(r[2]), u = a <= 0.5 ? a * (o + 1) : a + o - a * o, c = a * 2 - u;
  return n = n || [], setRgba(n, clampCssByte(cssHueToRgb(c, u, i + 1 / 3) * 255), clampCssByte(cssHueToRgb(c, u, i) * 255), clampCssByte(cssHueToRgb(c, u, i - 1 / 3) * 255), 1), r.length === 4 && (n[3] = r[3]), n;
}
function lift(r, n) {
  var i = parse(r);
  if (i) {
    for (var o = 0; o < 3; o++)
      n < 0 ? i[o] = i[o] * (1 - n) | 0 : i[o] = (255 - i[o]) * n + i[o] | 0, i[o] > 255 ? i[o] = 255 : i[o] < 0 && (i[o] = 0);
    return stringify(i, i.length === 4 ? "rgba" : "rgb");
  }
}
function stringify(r, n) {
  if (!(!r || !r.length)) {
    var i = r[0] + "," + r[1] + "," + r[2];
    return (n === "rgba" || n === "hsva" || n === "hsla") && (i += "," + r[3]), n + "(" + i + ")";
  }
}
function lum(r, n) {
  var i = parse(r);
  return i ? (0.299 * i[0] + 0.587 * i[1] + 0.114 * i[2]) * i[3] / 255 + (1 - i[3]) * n : 0;
}
var mathRound$1 = Math.round;
function normalizeColor(r) {
  var n;
  if (!r || r === "transparent")
    r = "none";
  else if (typeof r == "string" && r.indexOf("rgba") > -1) {
    var i = parse(r);
    i && (r = "rgb(" + i[0] + "," + i[1] + "," + i[2] + ")", n = i[3]);
  }
  return {
    color: r,
    opacity: n ?? 1
  };
}
var EPSILON$2 = 1e-4;
function isAroundZero(r) {
  return r < EPSILON$2 && r > -EPSILON$2;
}
function round3(r) {
  return mathRound$1(r * 1e3) / 1e3;
}
function round4(r) {
  return mathRound$1(r * 1e4) / 1e4;
}
function getMatrixStr(r) {
  return "matrix(" + round3(r[0]) + "," + round3(r[1]) + "," + round3(r[2]) + "," + round3(r[3]) + "," + round4(r[4]) + "," + round4(r[5]) + ")";
}
var TEXT_ALIGN_TO_ANCHOR = {
  left: "start",
  right: "end",
  center: "middle",
  middle: "middle"
};
function adjustTextY$1(r, n, i) {
  return i === "top" ? r += n / 2 : i === "bottom" && (r -= n / 2), r;
}
function hasShadow(r) {
  return r && (r.shadowBlur || r.shadowOffsetX || r.shadowOffsetY);
}
function getShadowKey(r) {
  var n = r.style, i = r.getGlobalScale();
  return [
    n.shadowColor,
    (n.shadowBlur || 0).toFixed(2),
    (n.shadowOffsetX || 0).toFixed(2),
    (n.shadowOffsetY || 0).toFixed(2),
    i[0],
    i[1]
  ].join(",");
}
function isImagePattern(r) {
  return r && !!r.image;
}
function isSVGPattern(r) {
  return r && !!r.svgElement;
}
function isPattern(r) {
  return isImagePattern(r) || isSVGPattern(r);
}
function isLinearGradient(r) {
  return r.type === "linear";
}
function isRadialGradient(r) {
  return r.type === "radial";
}
function isGradient(r) {
  return r && (r.type === "linear" || r.type === "radial");
}
function getIdURL(r) {
  return "url(#" + r + ")";
}
function getPathPrecision(r) {
  var n = r.getGlobalScale(), i = Math.max(n[0], n[1]);
  return Math.max(Math.ceil(Math.log(i) / Math.log(10)), 1);
}
function getSRTTransformString(r) {
  var n = r.x || 0, i = r.y || 0, o = (r.rotation || 0) * RADIAN_TO_DEGREE, a = retrieve2(r.scaleX, 1), u = retrieve2(r.scaleY, 1), c = r.skewX || 0, f = r.skewY || 0, d = [];
  return (n || i) && d.push("translate(" + n + "px," + i + "px)"), o && d.push("rotate(" + o + ")"), (a !== 1 || u !== 1) && d.push("scale(" + a + "," + u + ")"), (c || f) && d.push("skew(" + mathRound$1(c * RADIAN_TO_DEGREE) + "deg, " + mathRound$1(f * RADIAN_TO_DEGREE) + "deg)"), d.join(" ");
}
var encodeBase64 = function() {
  return env$1.hasGlobalWindow && isFunction$1(window.btoa) ? function(r) {
    return window.btoa(unescape(encodeURIComponent(r)));
  } : typeof Buffer < "u" ? function(r) {
    return Buffer.from(r).toString("base64");
  } : function(r) {
    return process.env.NODE_ENV !== "production" && logError("Base64 isn't natively supported in the current environment."), null;
  };
}(), arraySlice = Array.prototype.slice;
function interpolateNumber(r, n, i) {
  return (n - r) * i + r;
}
function interpolate1DArray(r, n, i, o) {
  for (var a = n.length, u = 0; u < a; u++)
    r[u] = interpolateNumber(n[u], i[u], o);
  return r;
}
function interpolate2DArray(r, n, i, o) {
  for (var a = n.length, u = a && n[0].length, c = 0; c < a; c++) {
    r[c] || (r[c] = []);
    for (var f = 0; f < u; f++)
      r[c][f] = interpolateNumber(n[c][f], i[c][f], o);
  }
  return r;
}
function add1DArray(r, n, i, o) {
  for (var a = n.length, u = 0; u < a; u++)
    r[u] = n[u] + i[u] * o;
  return r;
}
function add2DArray(r, n, i, o) {
  for (var a = n.length, u = a && n[0].length, c = 0; c < a; c++) {
    r[c] || (r[c] = []);
    for (var f = 0; f < u; f++)
      r[c][f] = n[c][f] + i[c][f] * o;
  }
  return r;
}
function fillColorStops(r, n) {
  for (var i = r.length, o = n.length, a = i > o ? n : r, u = Math.min(i, o), c = a[u - 1] || { color: [0, 0, 0, 0], offset: 0 }, f = u; f < Math.max(i, o); f++)
    a.push({
      offset: c.offset,
      color: c.color.slice()
    });
}
function fillArray(r, n, i) {
  var o = r, a = n;
  if (!(!o.push || !a.push)) {
    var u = o.length, c = a.length;
    if (u !== c) {
      var f = u > c;
      if (f)
        o.length = c;
      else
        for (var d = u; d < c; d++)
          o.push(i === 1 ? a[d] : arraySlice.call(a[d]));
    }
    for (var p = o[0] && o[0].length, d = 0; d < o.length; d++)
      if (i === 1)
        isNaN(o[d]) && (o[d] = a[d]);
      else
        for (var y = 0; y < p; y++)
          isNaN(o[d][y]) && (o[d][y] = a[d][y]);
  }
}
function cloneValue(r) {
  if (isArrayLike(r)) {
    var n = r.length;
    if (isArrayLike(r[0])) {
      for (var i = [], o = 0; o < n; o++)
        i.push(arraySlice.call(r[o]));
      return i;
    }
    return arraySlice.call(r);
  }
  return r;
}
function rgba2String(r) {
  return r[0] = Math.floor(r[0]) || 0, r[1] = Math.floor(r[1]) || 0, r[2] = Math.floor(r[2]) || 0, r[3] = r[3] == null ? 1 : r[3], "rgba(" + r.join(",") + ")";
}
function guessArrayDim(r) {
  return isArrayLike(r && r[0]) ? 2 : 1;
}
var VALUE_TYPE_NUMBER = 0, VALUE_TYPE_1D_ARRAY = 1, VALUE_TYPE_2D_ARRAY = 2, VALUE_TYPE_COLOR = 3, VALUE_TYPE_LINEAR_GRADIENT = 4, VALUE_TYPE_RADIAL_GRADIENT = 5, VALUE_TYPE_UNKOWN = 6;
function isGradientValueType(r) {
  return r === VALUE_TYPE_LINEAR_GRADIENT || r === VALUE_TYPE_RADIAL_GRADIENT;
}
function isArrayValueType(r) {
  return r === VALUE_TYPE_1D_ARRAY || r === VALUE_TYPE_2D_ARRAY;
}
var tmpRgba = [0, 0, 0, 0], Track = function() {
  function r(n) {
    this.keyframes = [], this.discrete = !1, this._invalid = !1, this._needsSort = !1, this._lastFr = 0, this._lastFrP = 0, this.propName = n;
  }
  return r.prototype.isFinished = function() {
    return this._finished;
  }, r.prototype.setFinished = function() {
    this._finished = !0, this._additiveTrack && this._additiveTrack.setFinished();
  }, r.prototype.needsAnimate = function() {
    return this.keyframes.length >= 1;
  }, r.prototype.getAdditiveTrack = function() {
    return this._additiveTrack;
  }, r.prototype.addKeyframe = function(n, i, o) {
    this._needsSort = !0;
    var a = this.keyframes, u = a.length, c = !1, f = VALUE_TYPE_UNKOWN, d = i;
    if (isArrayLike(i)) {
      var p = guessArrayDim(i);
      f = p, (p === 1 && !isNumber$1(i[0]) || p === 2 && !isNumber$1(i[0][0])) && (c = !0);
    } else if (isNumber$1(i) && !eqNaN(i))
      f = VALUE_TYPE_NUMBER;
    else if (isString$2(i))
      if (!isNaN(+i))
        f = VALUE_TYPE_NUMBER;
      else {
        var y = parse(i);
        y && (d = y, f = VALUE_TYPE_COLOR);
      }
    else if (isGradientObject(i)) {
      var v = extend({}, d);
      v.colorStops = map$1(i.colorStops, function(_) {
        return {
          offset: _.offset,
          color: parse(_.color)
        };
      }), isLinearGradient(i) ? f = VALUE_TYPE_LINEAR_GRADIENT : isRadialGradient(i) && (f = VALUE_TYPE_RADIAL_GRADIENT), d = v;
    }
    u === 0 ? this.valType = f : (f !== this.valType || f === VALUE_TYPE_UNKOWN) && (c = !0), this.discrete = this.discrete || c;
    var g = {
      time: n,
      value: d,
      rawValue: i,
      percent: 0
    };
    return o && (g.easing = o, g.easingFunc = isFunction$1(o) ? o : easingFuncs$1[o] || createCubicEasingFunc(o)), a.push(g), g;
  }, r.prototype.prepare = function(n, i) {
    var o = this.keyframes;
    this._needsSort && o.sort(function(A, w) {
      return A.time - w.time;
    });
    for (var a = this.valType, u = o.length, c = o[u - 1], f = this.discrete, d = isArrayValueType(a), p = isGradientValueType(a), y = 0; y < u; y++) {
      var v = o[y], g = v.value, _ = c.value;
      v.percent = v.time / n, f || (d && y !== u - 1 ? fillArray(g, _, a) : p && fillColorStops(g.colorStops, _.colorStops));
    }
    if (!f && a !== VALUE_TYPE_RADIAL_GRADIENT && i && this.needsAnimate() && i.needsAnimate() && a === i.valType && !i._finished) {
      this._additiveTrack = i;
      for (var b = o[0].value, y = 0; y < u; y++)
        a === VALUE_TYPE_NUMBER ? o[y].additiveValue = o[y].value - b : a === VALUE_TYPE_COLOR ? o[y].additiveValue = add1DArray([], o[y].value, b, -1) : isArrayValueType(a) && (o[y].additiveValue = a === VALUE_TYPE_1D_ARRAY ? add1DArray([], o[y].value, b, -1) : add2DArray([], o[y].value, b, -1));
    }
  }, r.prototype.step = function(n, i) {
    if (!this._finished) {
      this._additiveTrack && this._additiveTrack._finished && (this._additiveTrack = null);
      var o = this._additiveTrack != null, a = o ? "additiveValue" : "value", u = this.valType, c = this.keyframes, f = c.length, d = this.propName, p = u === VALUE_TYPE_COLOR, y, v = this._lastFr, g = Math.min, _, b;
      if (f === 1)
        _ = b = c[0];
      else {
        if (i < 0)
          y = 0;
        else if (i < this._lastFrP) {
          var A = g(v + 1, f - 1);
          for (y = A; y >= 0 && !(c[y].percent <= i); y--)
            ;
          y = g(y, f - 2);
        } else {
          for (y = v; y < f && !(c[y].percent > i); y++)
            ;
          y = g(y - 1, f - 2);
        }
        b = c[y + 1], _ = c[y];
      }
      if (_ && b) {
        this._lastFr = y, this._lastFrP = i;
        var w = b.percent - _.percent, S = w === 0 ? 1 : g((i - _.percent) / w, 1);
        b.easingFunc && (S = b.easingFunc(S));
        var x = o ? this._additiveValue : p ? tmpRgba : n[d];
        if ((isArrayValueType(u) || p) && !x && (x = this._additiveValue = []), this.discrete)
          n[d] = S < 1 ? _.rawValue : b.rawValue;
        else if (isArrayValueType(u))
          u === VALUE_TYPE_1D_ARRAY ? interpolate1DArray(x, _[a], b[a], S) : interpolate2DArray(x, _[a], b[a], S);
        else if (isGradientValueType(u)) {
          var T = _[a], L = b[a], k = u === VALUE_TYPE_LINEAR_GRADIENT;
          n[d] = {
            type: k ? "linear" : "radial",
            x: interpolateNumber(T.x, L.x, S),
            y: interpolateNumber(T.y, L.y, S),
            colorStops: map$1(T.colorStops, function(O, ie) {
              var F = L.colorStops[ie];
              return {
                offset: interpolateNumber(O.offset, F.offset, S),
                color: rgba2String(interpolate1DArray([], O.color, F.color, S))
              };
            }),
            global: L.global
          }, k ? (n[d].x2 = interpolateNumber(T.x2, L.x2, S), n[d].y2 = interpolateNumber(T.y2, L.y2, S)) : n[d].r = interpolateNumber(T.r, L.r, S);
        } else if (p)
          interpolate1DArray(x, _[a], b[a], S), o || (n[d] = rgba2String(x));
        else {
          var M = interpolateNumber(_[a], b[a], S);
          o ? this._additiveValue = M : n[d] = M;
        }
        o && this._addToTarget(n);
      }
    }
  }, r.prototype._addToTarget = function(n) {
    var i = this.valType, o = this.propName, a = this._additiveValue;
    i === VALUE_TYPE_NUMBER ? n[o] = n[o] + a : i === VALUE_TYPE_COLOR ? (parse(n[o], tmpRgba), add1DArray(tmpRgba, tmpRgba, a, 1), n[o] = rgba2String(tmpRgba)) : i === VALUE_TYPE_1D_ARRAY ? add1DArray(n[o], n[o], a, 1) : i === VALUE_TYPE_2D_ARRAY && add2DArray(n[o], n[o], a, 1);
  }, r;
}(), Animator = function() {
  function r(n, i, o, a) {
    if (this._tracks = {}, this._trackKeys = [], this._maxTime = 0, this._started = 0, this._clip = null, this._target = n, this._loop = i, i && a) {
      logError("Can' use additive animation on looped animation.");
      return;
    }
    this._additiveAnimators = a, this._allowDiscrete = o;
  }
  return r.prototype.getMaxTime = function() {
    return this._maxTime;
  }, r.prototype.getDelay = function() {
    return this._delay;
  }, r.prototype.getLoop = function() {
    return this._loop;
  }, r.prototype.getTarget = function() {
    return this._target;
  }, r.prototype.changeTarget = function(n) {
    this._target = n;
  }, r.prototype.when = function(n, i, o) {
    return this.whenWithKeys(n, i, keys(i), o);
  }, r.prototype.whenWithKeys = function(n, i, o, a) {
    for (var u = this._tracks, c = 0; c < o.length; c++) {
      var f = o[c], d = u[f];
      if (!d) {
        d = u[f] = new Track(f);
        var p = void 0, y = this._getAdditiveTrack(f);
        if (y) {
          var v = y.keyframes, g = v[v.length - 1];
          p = g && g.value, y.valType === VALUE_TYPE_COLOR && p && (p = rgba2String(p));
        } else
          p = this._target[f];
        if (p == null)
          continue;
        n > 0 && d.addKeyframe(0, cloneValue(p), a), this._trackKeys.push(f);
      }
      d.addKeyframe(n, cloneValue(i[f]), a);
    }
    return this._maxTime = Math.max(this._maxTime, n), this;
  }, r.prototype.pause = function() {
    this._clip.pause(), this._paused = !0;
  }, r.prototype.resume = function() {
    this._clip.resume(), this._paused = !1;
  }, r.prototype.isPaused = function() {
    return !!this._paused;
  }, r.prototype.duration = function(n) {
    return this._maxTime = n, this._force = !0, this;
  }, r.prototype._doneCallback = function() {
    this._setTracksFinished(), this._clip = null;
    var n = this._doneCbs;
    if (n)
      for (var i = n.length, o = 0; o < i; o++)
        n[o].call(this);
  }, r.prototype._abortedCallback = function() {
    this._setTracksFinished();
    var n = this.animation, i = this._abortedCbs;
    if (n && n.removeClip(this._clip), this._clip = null, i)
      for (var o = 0; o < i.length; o++)
        i[o].call(this);
  }, r.prototype._setTracksFinished = function() {
    for (var n = this._tracks, i = this._trackKeys, o = 0; o < i.length; o++)
      n[i[o]].setFinished();
  }, r.prototype._getAdditiveTrack = function(n) {
    var i, o = this._additiveAnimators;
    if (o)
      for (var a = 0; a < o.length; a++) {
        var u = o[a].getTrack(n);
        u && (i = u);
      }
    return i;
  }, r.prototype.start = function(n) {
    if (!(this._started > 0)) {
      this._started = 1;
      for (var i = this, o = [], a = this._maxTime || 0, u = 0; u < this._trackKeys.length; u++) {
        var c = this._trackKeys[u], f = this._tracks[c], d = this._getAdditiveTrack(c), p = f.keyframes, y = p.length;
        if (f.prepare(a, d), f.needsAnimate())
          if (!this._allowDiscrete && f.discrete) {
            var v = p[y - 1];
            v && (i._target[f.propName] = v.rawValue), f.setFinished();
          } else
            o.push(f);
      }
      if (o.length || this._force) {
        var g = new Clip$1({
          life: a,
          loop: this._loop,
          delay: this._delay || 0,
          onframe: function(_) {
            i._started = 2;
            var b = i._additiveAnimators;
            if (b) {
              for (var A = !1, w = 0; w < b.length; w++)
                if (b[w]._clip) {
                  A = !0;
                  break;
                }
              A || (i._additiveAnimators = null);
            }
            for (var w = 0; w < o.length; w++)
              o[w].step(i._target, _);
            var S = i._onframeCbs;
            if (S)
              for (var w = 0; w < S.length; w++)
                S[w](i._target, _);
          },
          ondestroy: function() {
            i._doneCallback();
          }
        });
        this._clip = g, this.animation && this.animation.addClip(g), n && g.setEasing(n);
      } else
        this._doneCallback();
      return this;
    }
  }, r.prototype.stop = function(n) {
    if (this._clip) {
      var i = this._clip;
      n && i.onframe(1), this._abortedCallback();
    }
  }, r.prototype.delay = function(n) {
    return this._delay = n, this;
  }, r.prototype.during = function(n) {
    return n && (this._onframeCbs || (this._onframeCbs = []), this._onframeCbs.push(n)), this;
  }, r.prototype.done = function(n) {
    return n && (this._doneCbs || (this._doneCbs = []), this._doneCbs.push(n)), this;
  }, r.prototype.aborted = function(n) {
    return n && (this._abortedCbs || (this._abortedCbs = []), this._abortedCbs.push(n)), this;
  }, r.prototype.getClip = function() {
    return this._clip;
  }, r.prototype.getTrack = function(n) {
    return this._tracks[n];
  }, r.prototype.getTracks = function() {
    var n = this;
    return map$1(this._trackKeys, function(i) {
      return n._tracks[i];
    });
  }, r.prototype.stopTracks = function(n, i) {
    if (!n.length || !this._clip)
      return !0;
    for (var o = this._tracks, a = this._trackKeys, u = 0; u < n.length; u++) {
      var c = o[n[u]];
      c && !c.isFinished() && (i ? c.step(this._target, 1) : this._started === 1 && c.step(this._target, 0), c.setFinished());
    }
    for (var f = !0, u = 0; u < a.length; u++)
      if (!o[a[u]].isFinished()) {
        f = !1;
        break;
      }
    return f && this._abortedCallback(), f;
  }, r.prototype.saveTo = function(n, i, o) {
    if (n) {
      i = i || this._trackKeys;
      for (var a = 0; a < i.length; a++) {
        var u = i[a], c = this._tracks[u];
        if (!(!c || c.isFinished())) {
          var f = c.keyframes, d = f[o ? 0 : f.length - 1];
          d && (n[u] = cloneValue(d.rawValue));
        }
      }
    }
  }, r.prototype.__changeFinalValue = function(n, i) {
    i = i || keys(n);
    for (var o = 0; o < i.length; o++) {
      var a = i[o], u = this._tracks[a];
      if (u) {
        var c = u.keyframes;
        if (c.length > 1) {
          var f = c.pop();
          u.addKeyframe(f.time, n[a]), u.prepare(this._maxTime, u.getAdditiveTrack());
        }
      }
    }
  }, r;
}();
const Animator$1 = Animator;
function getTime() {
  return (/* @__PURE__ */ new Date()).getTime();
}
var Animation = function(r) {
  __extends(n, r);
  function n(i) {
    var o = r.call(this) || this;
    return o._running = !1, o._time = 0, o._pausedTime = 0, o._pauseStart = 0, o._paused = !1, i = i || {}, o.stage = i.stage || {}, o;
  }
  return n.prototype.addClip = function(i) {
    i.animation && this.removeClip(i), this._head ? (this._tail.next = i, i.prev = this._tail, i.next = null, this._tail = i) : this._head = this._tail = i, i.animation = this;
  }, n.prototype.addAnimator = function(i) {
    i.animation = this;
    var o = i.getClip();
    o && this.addClip(o);
  }, n.prototype.removeClip = function(i) {
    if (i.animation) {
      var o = i.prev, a = i.next;
      o ? o.next = a : this._head = a, a ? a.prev = o : this._tail = o, i.next = i.prev = i.animation = null;
    }
  }, n.prototype.removeAnimator = function(i) {
    var o = i.getClip();
    o && this.removeClip(o), i.animation = null;
  }, n.prototype.update = function(i) {
    for (var o = getTime() - this._pausedTime, a = o - this._time, u = this._head; u; ) {
      var c = u.next, f = u.step(o, a);
      f && (u.ondestroy(), this.removeClip(u)), u = c;
    }
    this._time = o, i || (this.trigger("frame", a), this.stage.update && this.stage.update());
  }, n.prototype._startLoop = function() {
    var i = this;
    this._running = !0;
    function o() {
      i._running && (requestAnimationFrame$3(o), !i._paused && i.update());
    }
    requestAnimationFrame$3(o);
  }, n.prototype.start = function() {
    this._running || (this._time = getTime(), this._pausedTime = 0, this._startLoop());
  }, n.prototype.stop = function() {
    this._running = !1;
  }, n.prototype.pause = function() {
    this._paused || (this._pauseStart = getTime(), this._paused = !0);
  }, n.prototype.resume = function() {
    this._paused && (this._pausedTime += getTime() - this._pauseStart, this._paused = !1);
  }, n.prototype.clear = function() {
    for (var i = this._head; i; ) {
      var o = i.next;
      i.prev = i.next = i.animation = null, i = o;
    }
    this._head = this._tail = null;
  }, n.prototype.isFinished = function() {
    return this._head == null;
  }, n.prototype.animate = function(i, o) {
    o = o || {}, this.start();
    var a = new Animator$1(i, o.loop);
    return this.addAnimator(a), a;
  }, n;
}(Eventful$1);
const Animation$1 = Animation;
var TOUCH_CLICK_DELAY = 300, globalEventSupported = env$1.domSupported, localNativeListenerNames = function() {
  var r = [
    "click",
    "dblclick",
    "mousewheel",
    "wheel",
    "mouseout",
    "mouseup",
    "mousedown",
    "mousemove",
    "contextmenu"
  ], n = [
    "touchstart",
    "touchend",
    "touchmove"
  ], i = {
    pointerdown: 1,
    pointerup: 1,
    pointermove: 1,
    pointerout: 1
  }, o = map$1(r, function(a) {
    var u = a.replace("mouse", "pointer");
    return i.hasOwnProperty(u) ? u : a;
  });
  return {
    mouse: r,
    touch: n,
    pointer: o
  };
}(), globalNativeListenerNames = {
  mouse: ["mousemove", "mouseup"],
  pointer: ["pointermove", "pointerup"]
}, wheelEventSupported = !1;
function isPointerFromTouch(r) {
  var n = r.pointerType;
  return n === "pen" || n === "touch";
}
function setTouchTimer(r) {
  r.touching = !0, r.touchTimer != null && (clearTimeout(r.touchTimer), r.touchTimer = null), r.touchTimer = setTimeout(function() {
    r.touching = !1, r.touchTimer = null;
  }, 700);
}
function markTouch(r) {
  r && (r.zrByTouch = !0);
}
function normalizeGlobalEvent(r, n) {
  return normalizeEvent(r.dom, new FakeGlobalEvent(r, n), !0);
}
function isLocalEl(r, n) {
  for (var i = n, o = !1; i && i.nodeType !== 9 && !(o = i.domBelongToZr || i !== n && i === r.painterRoot); )
    i = i.parentNode;
  return o;
}
var FakeGlobalEvent = function() {
  function r(n, i) {
    this.stopPropagation = noop$1, this.stopImmediatePropagation = noop$1, this.preventDefault = noop$1, this.type = i.type, this.target = this.currentTarget = n.dom, this.pointerType = i.pointerType, this.clientX = i.clientX, this.clientY = i.clientY;
  }
  return r;
}(), localDOMHandlers = {
  mousedown: function(r) {
    r = normalizeEvent(this.dom, r), this.__mayPointerCapture = [r.zrX, r.zrY], this.trigger("mousedown", r);
  },
  mousemove: function(r) {
    r = normalizeEvent(this.dom, r);
    var n = this.__mayPointerCapture;
    n && (r.zrX !== n[0] || r.zrY !== n[1]) && this.__togglePointerCapture(!0), this.trigger("mousemove", r);
  },
  mouseup: function(r) {
    r = normalizeEvent(this.dom, r), this.__togglePointerCapture(!1), this.trigger("mouseup", r);
  },
  mouseout: function(r) {
    r = normalizeEvent(this.dom, r);
    var n = r.toElement || r.relatedTarget;
    isLocalEl(this, n) || (this.__pointerCapturing && (r.zrEventControl = "no_globalout"), this.trigger("mouseout", r));
  },
  wheel: function(r) {
    wheelEventSupported = !0, r = normalizeEvent(this.dom, r), this.trigger("mousewheel", r);
  },
  mousewheel: function(r) {
    wheelEventSupported || (r = normalizeEvent(this.dom, r), this.trigger("mousewheel", r));
  },
  touchstart: function(r) {
    r = normalizeEvent(this.dom, r), markTouch(r), this.__lastTouchMoment = /* @__PURE__ */ new Date(), this.handler.processGesture(r, "start"), localDOMHandlers.mousemove.call(this, r), localDOMHandlers.mousedown.call(this, r);
  },
  touchmove: function(r) {
    r = normalizeEvent(this.dom, r), markTouch(r), this.handler.processGesture(r, "change"), localDOMHandlers.mousemove.call(this, r);
  },
  touchend: function(r) {
    r = normalizeEvent(this.dom, r), markTouch(r), this.handler.processGesture(r, "end"), localDOMHandlers.mouseup.call(this, r), +/* @__PURE__ */ new Date() - +this.__lastTouchMoment < TOUCH_CLICK_DELAY && localDOMHandlers.click.call(this, r);
  },
  pointerdown: function(r) {
    localDOMHandlers.mousedown.call(this, r);
  },
  pointermove: function(r) {
    isPointerFromTouch(r) || localDOMHandlers.mousemove.call(this, r);
  },
  pointerup: function(r) {
    localDOMHandlers.mouseup.call(this, r);
  },
  pointerout: function(r) {
    isPointerFromTouch(r) || localDOMHandlers.mouseout.call(this, r);
  }
};
each$4(["click", "dblclick", "contextmenu"], function(r) {
  localDOMHandlers[r] = function(n) {
    n = normalizeEvent(this.dom, n), this.trigger(r, n);
  };
});
var globalDOMHandlers = {
  pointermove: function(r) {
    isPointerFromTouch(r) || globalDOMHandlers.mousemove.call(this, r);
  },
  pointerup: function(r) {
    globalDOMHandlers.mouseup.call(this, r);
  },
  mousemove: function(r) {
    this.trigger("mousemove", r);
  },
  mouseup: function(r) {
    var n = this.__pointerCapturing;
    this.__togglePointerCapture(!1), this.trigger("mouseup", r), n && (r.zrEventControl = "only_globalout", this.trigger("mouseout", r));
  }
};
function mountLocalDOMEventListeners(r, n) {
  var i = n.domHandlers;
  env$1.pointerEventsSupported ? each$4(localNativeListenerNames.pointer, function(o) {
    mountSingleDOMEventListener(n, o, function(a) {
      i[o].call(r, a);
    });
  }) : (env$1.touchEventsSupported && each$4(localNativeListenerNames.touch, function(o) {
    mountSingleDOMEventListener(n, o, function(a) {
      i[o].call(r, a), setTouchTimer(n);
    });
  }), each$4(localNativeListenerNames.mouse, function(o) {
    mountSingleDOMEventListener(n, o, function(a) {
      a = getNativeEvent(a), n.touching || i[o].call(r, a);
    });
  }));
}
function mountGlobalDOMEventListeners(r, n) {
  env$1.pointerEventsSupported ? each$4(globalNativeListenerNames.pointer, i) : env$1.touchEventsSupported || each$4(globalNativeListenerNames.mouse, i);
  function i(o) {
    function a(u) {
      u = getNativeEvent(u), isLocalEl(r, u.target) || (u = normalizeGlobalEvent(r, u), n.domHandlers[o].call(r, u));
    }
    mountSingleDOMEventListener(n, o, a, { capture: !0 });
  }
}
function mountSingleDOMEventListener(r, n, i, o) {
  r.mounted[n] = i, r.listenerOpts[n] = o, addEventListener(r.domTarget, n, i, o);
}
function unmountDOMEventListeners(r) {
  var n = r.mounted;
  for (var i in n)
    n.hasOwnProperty(i) && removeEventListener(r.domTarget, i, n[i], r.listenerOpts[i]);
  r.mounted = {};
}
var DOMHandlerScope = function() {
  function r(n, i) {
    this.mounted = {}, this.listenerOpts = {}, this.touching = !1, this.domTarget = n, this.domHandlers = i;
  }
  return r;
}(), HandlerDomProxy = function(r) {
  __extends(n, r);
  function n(i, o) {
    var a = r.call(this) || this;
    return a.__pointerCapturing = !1, a.dom = i, a.painterRoot = o, a._localHandlerScope = new DOMHandlerScope(i, localDOMHandlers), globalEventSupported && (a._globalHandlerScope = new DOMHandlerScope(document, globalDOMHandlers)), mountLocalDOMEventListeners(a, a._localHandlerScope), a;
  }
  return n.prototype.dispose = function() {
    unmountDOMEventListeners(this._localHandlerScope), globalEventSupported && unmountDOMEventListeners(this._globalHandlerScope);
  }, n.prototype.setCursor = function(i) {
    this.dom.style && (this.dom.style.cursor = i || "default");
  }, n.prototype.__togglePointerCapture = function(i) {
    if (this.__mayPointerCapture = null, globalEventSupported && +this.__pointerCapturing ^ +i) {
      this.__pointerCapturing = i;
      var o = this._globalHandlerScope;
      i ? mountGlobalDOMEventListeners(this, o) : unmountDOMEventListeners(o);
    }
  }, n;
}(Eventful$1);
const HandlerProxy = HandlerDomProxy;
var dpr = 1;
env$1.hasGlobalWindow && (dpr = Math.max(window.devicePixelRatio || window.screen && window.screen.deviceXDPI / window.screen.logicalXDPI || 1, 1));
var devicePixelRatio = dpr, DARK_MODE_THRESHOLD = 0.4, DARK_LABEL_COLOR = "#333", LIGHT_LABEL_COLOR = "#ccc", LIGHTER_LABEL_COLOR = "#eee", mIdentity = identity$1, EPSILON$1 = 5e-5;
function isNotAroundZero(r) {
  return r > EPSILON$1 || r < -EPSILON$1;
}
var scaleTmp = [], tmpTransform = [], originTransform = create(), abs = Math.abs, Transformable = function() {
  function r() {
  }
  return r.prototype.getLocalTransform = function(n) {
    return r.getLocalTransform(this, n);
  }, r.prototype.setPosition = function(n) {
    this.x = n[0], this.y = n[1];
  }, r.prototype.setScale = function(n) {
    this.scaleX = n[0], this.scaleY = n[1];
  }, r.prototype.setSkew = function(n) {
    this.skewX = n[0], this.skewY = n[1];
  }, r.prototype.setOrigin = function(n) {
    this.originX = n[0], this.originY = n[1];
  }, r.prototype.needLocalTransform = function() {
    return isNotAroundZero(this.rotation) || isNotAroundZero(this.x) || isNotAroundZero(this.y) || isNotAroundZero(this.scaleX - 1) || isNotAroundZero(this.scaleY - 1) || isNotAroundZero(this.skewX) || isNotAroundZero(this.skewY);
  }, r.prototype.updateTransform = function() {
    var n = this.parent && this.parent.transform, i = this.needLocalTransform(), o = this.transform;
    if (!(i || n)) {
      o && mIdentity(o);
      return;
    }
    o = o || create(), i ? this.getLocalTransform(o) : mIdentity(o), n && (i ? mul(o, n, o) : copy(o, n)), this.transform = o, this._resolveGlobalScaleRatio(o);
  }, r.prototype._resolveGlobalScaleRatio = function(n) {
    var i = this.globalScaleRatio;
    if (i != null && i !== 1) {
      this.getGlobalScale(scaleTmp);
      var o = scaleTmp[0] < 0 ? -1 : 1, a = scaleTmp[1] < 0 ? -1 : 1, u = ((scaleTmp[0] - o) * i + o) / scaleTmp[0] || 0, c = ((scaleTmp[1] - a) * i + a) / scaleTmp[1] || 0;
      n[0] *= u, n[1] *= u, n[2] *= c, n[3] *= c;
    }
    this.invTransform = this.invTransform || create(), invert(this.invTransform, n);
  }, r.prototype.getComputedTransform = function() {
    for (var n = this, i = []; n; )
      i.push(n), n = n.parent;
    for (; n = i.pop(); )
      n.updateTransform();
    return this.transform;
  }, r.prototype.setLocalTransform = function(n) {
    if (n) {
      var i = n[0] * n[0] + n[1] * n[1], o = n[2] * n[2] + n[3] * n[3], a = Math.atan2(n[1], n[0]), u = Math.PI / 2 + a - Math.atan2(n[3], n[2]);
      o = Math.sqrt(o) * Math.cos(u), i = Math.sqrt(i), this.skewX = u, this.skewY = 0, this.rotation = -a, this.x = +n[4], this.y = +n[5], this.scaleX = i, this.scaleY = o, this.originX = 0, this.originY = 0;
    }
  }, r.prototype.decomposeTransform = function() {
    if (this.transform) {
      var n = this.parent, i = this.transform;
      n && n.transform && (mul(tmpTransform, n.invTransform, i), i = tmpTransform);
      var o = this.originX, a = this.originY;
      (o || a) && (originTransform[4] = o, originTransform[5] = a, mul(tmpTransform, i, originTransform), tmpTransform[4] -= o, tmpTransform[5] -= a, i = tmpTransform), this.setLocalTransform(i);
    }
  }, r.prototype.getGlobalScale = function(n) {
    var i = this.transform;
    return n = n || [], i ? (n[0] = Math.sqrt(i[0] * i[0] + i[1] * i[1]), n[1] = Math.sqrt(i[2] * i[2] + i[3] * i[3]), i[0] < 0 && (n[0] = -n[0]), i[3] < 0 && (n[1] = -n[1]), n) : (n[0] = 1, n[1] = 1, n);
  }, r.prototype.transformCoordToLocal = function(n, i) {
    var o = [n, i], a = this.invTransform;
    return a && applyTransform$1(o, o, a), o;
  }, r.prototype.transformCoordToGlobal = function(n, i) {
    var o = [n, i], a = this.transform;
    return a && applyTransform$1(o, o, a), o;
  }, r.prototype.getLineScale = function() {
    var n = this.transform;
    return n && abs(n[0] - 1) > 1e-10 && abs(n[3] - 1) > 1e-10 ? Math.sqrt(abs(n[0] * n[3] - n[2] * n[1])) : 1;
  }, r.prototype.copyTransform = function(n) {
    copyTransform(this, n);
  }, r.getLocalTransform = function(n, i) {
    i = i || [];
    var o = n.originX || 0, a = n.originY || 0, u = n.scaleX, c = n.scaleY, f = n.anchorX, d = n.anchorY, p = n.rotation || 0, y = n.x, v = n.y, g = n.skewX ? Math.tan(n.skewX) : 0, _ = n.skewY ? Math.tan(-n.skewY) : 0;
    if (o || a || f || d) {
      var b = o + f, A = a + d;
      i[4] = -b * u - g * A * c, i[5] = -A * c - _ * b * u;
    } else
      i[4] = i[5] = 0;
    return i[0] = u, i[3] = c, i[1] = _ * u, i[2] = g * c, p && rotate(i, i, p), i[4] += o + y, i[5] += a + v, i;
  }, r.initDefaultProps = function() {
    var n = r.prototype;
    n.scaleX = n.scaleY = n.globalScaleRatio = 1, n.x = n.y = n.originX = n.originY = n.skewX = n.skewY = n.rotation = n.anchorX = n.anchorY = 0;
  }(), r;
}(), TRANSFORMABLE_PROPS = [
  "x",
  "y",
  "originX",
  "originY",
  "anchorX",
  "anchorY",
  "rotation",
  "scaleX",
  "scaleY",
  "skewX",
  "skewY"
];
function copyTransform(r, n) {
  for (var i = 0; i < TRANSFORMABLE_PROPS.length; i++) {
    var o = TRANSFORMABLE_PROPS[i];
    r[o] = n[o];
  }
}
const Transformable$1 = Transformable;
var textWidthCache = {};
function getWidth(r, n) {
  n = n || DEFAULT_FONT;
  var i = textWidthCache[n];
  i || (i = textWidthCache[n] = new LRU$1(500));
  var o = i.get(r);
  return o == null && (o = platformApi.measureText(r, n).width, i.put(r, o)), o;
}
function innerGetBoundingRect(r, n, i, o) {
  var a = getWidth(r, n), u = getLineHeight(n), c = adjustTextX(0, a, i), f = adjustTextY(0, u, o), d = new BoundingRect$1(c, f, a, u);
  return d;
}
function getBoundingRect(r, n, i, o) {
  var a = ((r || "") + "").split(`
`), u = a.length;
  if (u === 1)
    return innerGetBoundingRect(a[0], n, i, o);
  for (var c = new BoundingRect$1(0, 0, 0, 0), f = 0; f < a.length; f++) {
    var d = innerGetBoundingRect(a[f], n, i, o);
    f === 0 ? c.copy(d) : c.union(d);
  }
  return c;
}
function adjustTextX(r, n, i) {
  return i === "right" ? r -= n : i === "center" && (r -= n / 2), r;
}
function adjustTextY(r, n, i) {
  return i === "middle" ? r -= n / 2 : i === "bottom" && (r -= n), r;
}
function getLineHeight(r) {
  return getWidth("国", r);
}
function parsePercent$1(r, n) {
  return typeof r == "string" ? r.lastIndexOf("%") >= 0 ? parseFloat(r) / 100 * n : parseFloat(r) : r;
}
function calculateTextPosition(r, n, i) {
  var o = n.position || "inside", a = n.distance != null ? n.distance : 5, u = i.height, c = i.width, f = u / 2, d = i.x, p = i.y, y = "left", v = "top";
  if (o instanceof Array)
    d += parsePercent$1(o[0], i.width), p += parsePercent$1(o[1], i.height), y = null, v = null;
  else
    switch (o) {
      case "left":
        d -= a, p += f, y = "right", v = "middle";
        break;
      case "right":
        d += a + c, p += f, v = "middle";
        break;
      case "top":
        d += c / 2, p -= a, y = "center", v = "bottom";
        break;
      case "bottom":
        d += c / 2, p += u + a, y = "center";
        break;
      case "inside":
        d += c / 2, p += f, y = "center", v = "middle";
        break;
      case "insideLeft":
        d += a, p += f, v = "middle";
        break;
      case "insideRight":
        d += c - a, p += f, y = "right", v = "middle";
        break;
      case "insideTop":
        d += c / 2, p += a, y = "center";
        break;
      case "insideBottom":
        d += c / 2, p += u - a, y = "center", v = "bottom";
        break;
      case "insideTopLeft":
        d += a, p += a;
        break;
      case "insideTopRight":
        d += c - a, p += a, y = "right";
        break;
      case "insideBottomLeft":
        d += a, p += u - a, v = "bottom";
        break;
      case "insideBottomRight":
        d += c - a, p += u - a, y = "right", v = "bottom";
        break;
    }
  return r = r || {}, r.x = d, r.y = p, r.align = y, r.verticalAlign = v, r;
}
var PRESERVED_NORMAL_STATE = "__zr_normal__", PRIMARY_STATES_KEYS$1 = TRANSFORMABLE_PROPS.concat(["ignore"]), DEFAULT_ANIMATABLE_MAP = reduce(TRANSFORMABLE_PROPS, function(r, n) {
  return r[n] = !0, r;
}, { ignore: !1 }), tmpTextPosCalcRes = {}, tmpBoundingRect = new BoundingRect$1(0, 0, 0, 0), Element$1 = function() {
  function r(n) {
    this.id = guid(), this.animators = [], this.currentStates = [], this.states = {}, this._init(n);
  }
  return r.prototype._init = function(n) {
    this.attr(n);
  }, r.prototype.drift = function(n, i, o) {
    switch (this.draggable) {
      case "horizontal":
        i = 0;
        break;
      case "vertical":
        n = 0;
        break;
    }
    var a = this.transform;
    a || (a = this.transform = [1, 0, 0, 1, 0, 0]), a[4] += n, a[5] += i, this.decomposeTransform(), this.markRedraw();
  }, r.prototype.beforeUpdate = function() {
  }, r.prototype.afterUpdate = function() {
  }, r.prototype.update = function() {
    this.updateTransform(), this.__dirty && this.updateInnerText();
  }, r.prototype.updateInnerText = function(n) {
    var i = this._textContent;
    if (i && (!i.ignore || n)) {
      this.textConfig || (this.textConfig = {});
      var o = this.textConfig, a = o.local, u = i.innerTransformable, c = void 0, f = void 0, d = !1;
      u.parent = a ? this : null;
      var p = !1;
      if (u.copyTransform(i), o.position != null) {
        var y = tmpBoundingRect;
        o.layoutRect ? y.copy(o.layoutRect) : y.copy(this.getBoundingRect()), a || y.applyTransform(this.transform), this.calculateTextPosition ? this.calculateTextPosition(tmpTextPosCalcRes, o, y) : calculateTextPosition(tmpTextPosCalcRes, o, y), u.x = tmpTextPosCalcRes.x, u.y = tmpTextPosCalcRes.y, c = tmpTextPosCalcRes.align, f = tmpTextPosCalcRes.verticalAlign;
        var v = o.origin;
        if (v && o.rotation != null) {
          var g = void 0, _ = void 0;
          v === "center" ? (g = y.width * 0.5, _ = y.height * 0.5) : (g = parsePercent$1(v[0], y.width), _ = parsePercent$1(v[1], y.height)), p = !0, u.originX = -u.x + g + (a ? 0 : y.x), u.originY = -u.y + _ + (a ? 0 : y.y);
        }
      }
      o.rotation != null && (u.rotation = o.rotation);
      var b = o.offset;
      b && (u.x += b[0], u.y += b[1], p || (u.originX = -b[0], u.originY = -b[1]));
      var A = o.inside == null ? typeof o.position == "string" && o.position.indexOf("inside") >= 0 : o.inside, w = this._innerTextDefaultStyle || (this._innerTextDefaultStyle = {}), S = void 0, x = void 0, T = void 0;
      A && this.canBeInsideText() ? (S = o.insideFill, x = o.insideStroke, (S == null || S === "auto") && (S = this.getInsideTextFill()), (x == null || x === "auto") && (x = this.getInsideTextStroke(S), T = !0)) : (S = o.outsideFill, x = o.outsideStroke, (S == null || S === "auto") && (S = this.getOutsideFill()), (x == null || x === "auto") && (x = this.getOutsideStroke(S), T = !0)), S = S || "#000", (S !== w.fill || x !== w.stroke || T !== w.autoStroke || c !== w.align || f !== w.verticalAlign) && (d = !0, w.fill = S, w.stroke = x, w.autoStroke = T, w.align = c, w.verticalAlign = f, i.setDefaultTextStyle(w)), i.__dirty |= REDRAW_BIT, d && i.dirtyStyle(!0);
    }
  }, r.prototype.canBeInsideText = function() {
    return !0;
  }, r.prototype.getInsideTextFill = function() {
    return "#fff";
  }, r.prototype.getInsideTextStroke = function(n) {
    return "#000";
  }, r.prototype.getOutsideFill = function() {
    return this.__zr && this.__zr.isDarkMode() ? LIGHT_LABEL_COLOR : DARK_LABEL_COLOR;
  }, r.prototype.getOutsideStroke = function(n) {
    var i = this.__zr && this.__zr.getBackgroundColor(), o = typeof i == "string" && parse(i);
    o || (o = [255, 255, 255, 1]);
    for (var a = o[3], u = this.__zr.isDarkMode(), c = 0; c < 3; c++)
      o[c] = o[c] * a + (u ? 0 : 255) * (1 - a);
    return o[3] = 1, stringify(o, "rgba");
  }, r.prototype.traverse = function(n, i) {
  }, r.prototype.attrKV = function(n, i) {
    n === "textConfig" ? this.setTextConfig(i) : n === "textContent" ? this.setTextContent(i) : n === "clipPath" ? this.setClipPath(i) : n === "extra" ? (this.extra = this.extra || {}, extend(this.extra, i)) : this[n] = i;
  }, r.prototype.hide = function() {
    this.ignore = !0, this.markRedraw();
  }, r.prototype.show = function() {
    this.ignore = !1, this.markRedraw();
  }, r.prototype.attr = function(n, i) {
    if (typeof n == "string")
      this.attrKV(n, i);
    else if (isObject$3(n))
      for (var o = n, a = keys(o), u = 0; u < a.length; u++) {
        var c = a[u];
        this.attrKV(c, n[c]);
      }
    return this.markRedraw(), this;
  }, r.prototype.saveCurrentToNormalState = function(n) {
    this._innerSaveToNormal(n);
    for (var i = this._normalState, o = 0; o < this.animators.length; o++) {
      var a = this.animators[o], u = a.__fromStateTransition;
      if (!(a.getLoop() || u && u !== PRESERVED_NORMAL_STATE)) {
        var c = a.targetName, f = c ? i[c] : i;
        a.saveTo(f);
      }
    }
  }, r.prototype._innerSaveToNormal = function(n) {
    var i = this._normalState;
    i || (i = this._normalState = {}), n.textConfig && !i.textConfig && (i.textConfig = this.textConfig), this._savePrimaryToNormal(n, i, PRIMARY_STATES_KEYS$1);
  }, r.prototype._savePrimaryToNormal = function(n, i, o) {
    for (var a = 0; a < o.length; a++) {
      var u = o[a];
      n[u] != null && !(u in i) && (i[u] = this[u]);
    }
  }, r.prototype.hasState = function() {
    return this.currentStates.length > 0;
  }, r.prototype.getState = function(n) {
    return this.states[n];
  }, r.prototype.ensureState = function(n) {
    var i = this.states;
    return i[n] || (i[n] = {}), i[n];
  }, r.prototype.clearStates = function(n) {
    this.useState(PRESERVED_NORMAL_STATE, !1, n);
  }, r.prototype.useState = function(n, i, o, a) {
    var u = n === PRESERVED_NORMAL_STATE, c = this.hasState();
    if (!(!c && u)) {
      var f = this.currentStates, d = this.stateTransition;
      if (!(indexOf(f, n) >= 0 && (i || f.length === 1))) {
        var p;
        if (this.stateProxy && !u && (p = this.stateProxy(n)), p || (p = this.states && this.states[n]), !p && !u) {
          logError("State " + n + " not exists.");
          return;
        }
        u || this.saveCurrentToNormalState(p);
        var y = !!(p && p.hoverLayer || a);
        y && this._toggleHoverLayerFlag(!0), this._applyStateObj(n, p, this._normalState, i, !o && !this.__inHover && d && d.duration > 0, d);
        var v = this._textContent, g = this._textGuide;
        return v && v.useState(n, i, o, y), g && g.useState(n, i, o, y), u ? (this.currentStates = [], this._normalState = {}) : i ? this.currentStates.push(n) : this.currentStates = [n], this._updateAnimationTargets(), this.markRedraw(), !y && this.__inHover && (this._toggleHoverLayerFlag(!1), this.__dirty &= ~REDRAW_BIT), p;
      }
    }
  }, r.prototype.useStates = function(n, i, o) {
    if (!n.length)
      this.clearStates();
    else {
      var a = [], u = this.currentStates, c = n.length, f = c === u.length;
      if (f) {
        for (var d = 0; d < c; d++)
          if (n[d] !== u[d]) {
            f = !1;
            break;
          }
      }
      if (f)
        return;
      for (var d = 0; d < c; d++) {
        var p = n[d], y = void 0;
        this.stateProxy && (y = this.stateProxy(p, n)), y || (y = this.states[p]), y && a.push(y);
      }
      var v = a[c - 1], g = !!(v && v.hoverLayer || o);
      g && this._toggleHoverLayerFlag(!0);
      var _ = this._mergeStates(a), b = this.stateTransition;
      this.saveCurrentToNormalState(_), this._applyStateObj(n.join(","), _, this._normalState, !1, !i && !this.__inHover && b && b.duration > 0, b);
      var A = this._textContent, w = this._textGuide;
      A && A.useStates(n, i, g), w && w.useStates(n, i, g), this._updateAnimationTargets(), this.currentStates = n.slice(), this.markRedraw(), !g && this.__inHover && (this._toggleHoverLayerFlag(!1), this.__dirty &= ~REDRAW_BIT);
    }
  }, r.prototype._updateAnimationTargets = function() {
    for (var n = 0; n < this.animators.length; n++) {
      var i = this.animators[n];
      i.targetName && i.changeTarget(this[i.targetName]);
    }
  }, r.prototype.removeState = function(n) {
    var i = indexOf(this.currentStates, n);
    if (i >= 0) {
      var o = this.currentStates.slice();
      o.splice(i, 1), this.useStates(o);
    }
  }, r.prototype.replaceState = function(n, i, o) {
    var a = this.currentStates.slice(), u = indexOf(a, n), c = indexOf(a, i) >= 0;
    u >= 0 ? c ? a.splice(u, 1) : a[u] = i : o && !c && a.push(i), this.useStates(a);
  }, r.prototype.toggleState = function(n, i) {
    i ? this.useState(n, !0) : this.removeState(n);
  }, r.prototype._mergeStates = function(n) {
    for (var i = {}, o, a = 0; a < n.length; a++) {
      var u = n[a];
      extend(i, u), u.textConfig && (o = o || {}, extend(o, u.textConfig));
    }
    return o && (i.textConfig = o), i;
  }, r.prototype._applyStateObj = function(n, i, o, a, u, c) {
    var f = !(i && a);
    i && i.textConfig ? (this.textConfig = extend({}, a ? this.textConfig : o.textConfig), extend(this.textConfig, i.textConfig)) : f && o.textConfig && (this.textConfig = o.textConfig);
    for (var d = {}, p = !1, y = 0; y < PRIMARY_STATES_KEYS$1.length; y++) {
      var v = PRIMARY_STATES_KEYS$1[y], g = u && DEFAULT_ANIMATABLE_MAP[v];
      i && i[v] != null ? g ? (p = !0, d[v] = i[v]) : this[v] = i[v] : f && o[v] != null && (g ? (p = !0, d[v] = o[v]) : this[v] = o[v]);
    }
    if (!u)
      for (var y = 0; y < this.animators.length; y++) {
        var _ = this.animators[y], b = _.targetName;
        _.getLoop() || _.__changeFinalValue(b ? (i || o)[b] : i || o);
      }
    p && this._transitionState(n, d, c);
  }, r.prototype._attachComponent = function(n) {
    if (n.__zr && !n.__hostTarget) {
      if (process.env.NODE_ENV !== "production")
        throw new Error("Text element has been added to zrender.");
      return;
    }
    if (n === this) {
      if (process.env.NODE_ENV !== "production")
        throw new Error("Recursive component attachment.");
      return;
    }
    var i = this.__zr;
    i && n.addSelfToZr(i), n.__zr = i, n.__hostTarget = this;
  }, r.prototype._detachComponent = function(n) {
    n.__zr && n.removeSelfFromZr(n.__zr), n.__zr = null, n.__hostTarget = null;
  }, r.prototype.getClipPath = function() {
    return this._clipPath;
  }, r.prototype.setClipPath = function(n) {
    this._clipPath && this._clipPath !== n && this.removeClipPath(), this._attachComponent(n), this._clipPath = n, this.markRedraw();
  }, r.prototype.removeClipPath = function() {
    var n = this._clipPath;
    n && (this._detachComponent(n), this._clipPath = null, this.markRedraw());
  }, r.prototype.getTextContent = function() {
    return this._textContent;
  }, r.prototype.setTextContent = function(n) {
    var i = this._textContent;
    if (i !== n) {
      if (i && i !== n && this.removeTextContent(), process.env.NODE_ENV !== "production" && n.__zr && !n.__hostTarget)
        throw new Error("Text element has been added to zrender.");
      n.innerTransformable = new Transformable$1(), this._attachComponent(n), this._textContent = n, this.markRedraw();
    }
  }, r.prototype.setTextConfig = function(n) {
    this.textConfig || (this.textConfig = {}), extend(this.textConfig, n), this.markRedraw();
  }, r.prototype.removeTextConfig = function() {
    this.textConfig = null, this.markRedraw();
  }, r.prototype.removeTextContent = function() {
    var n = this._textContent;
    n && (n.innerTransformable = null, this._detachComponent(n), this._textContent = null, this._innerTextDefaultStyle = null, this.markRedraw());
  }, r.prototype.getTextGuideLine = function() {
    return this._textGuide;
  }, r.prototype.setTextGuideLine = function(n) {
    this._textGuide && this._textGuide !== n && this.removeTextGuideLine(), this._attachComponent(n), this._textGuide = n, this.markRedraw();
  }, r.prototype.removeTextGuideLine = function() {
    var n = this._textGuide;
    n && (this._detachComponent(n), this._textGuide = null, this.markRedraw());
  }, r.prototype.markRedraw = function() {
    this.__dirty |= REDRAW_BIT;
    var n = this.__zr;
    n && (this.__inHover ? n.refreshHover() : n.refresh()), this.__hostTarget && this.__hostTarget.markRedraw();
  }, r.prototype.dirty = function() {
    this.markRedraw();
  }, r.prototype._toggleHoverLayerFlag = function(n) {
    this.__inHover = n;
    var i = this._textContent, o = this._textGuide;
    i && (i.__inHover = n), o && (o.__inHover = n);
  }, r.prototype.addSelfToZr = function(n) {
    if (this.__zr !== n) {
      this.__zr = n;
      var i = this.animators;
      if (i)
        for (var o = 0; o < i.length; o++)
          n.animation.addAnimator(i[o]);
      this._clipPath && this._clipPath.addSelfToZr(n), this._textContent && this._textContent.addSelfToZr(n), this._textGuide && this._textGuide.addSelfToZr(n);
    }
  }, r.prototype.removeSelfFromZr = function(n) {
    if (this.__zr) {
      this.__zr = null;
      var i = this.animators;
      if (i)
        for (var o = 0; o < i.length; o++)
          n.animation.removeAnimator(i[o]);
      this._clipPath && this._clipPath.removeSelfFromZr(n), this._textContent && this._textContent.removeSelfFromZr(n), this._textGuide && this._textGuide.removeSelfFromZr(n);
    }
  }, r.prototype.animate = function(n, i, o) {
    var a = n ? this[n] : this;
    if (process.env.NODE_ENV !== "production" && !a) {
      logError('Property "' + n + '" is not existed in element ' + this.id);
      return;
    }
    var u = new Animator$1(a, i, o);
    return n && (u.targetName = n), this.addAnimator(u, n), u;
  }, r.prototype.addAnimator = function(n, i) {
    var o = this.__zr, a = this;
    n.during(function() {
      a.updateDuringAnimation(i);
    }).done(function() {
      var u = a.animators, c = indexOf(u, n);
      c >= 0 && u.splice(c, 1);
    }), this.animators.push(n), o && o.animation.addAnimator(n), o && o.wakeUp();
  }, r.prototype.updateDuringAnimation = function(n) {
    this.markRedraw();
  }, r.prototype.stopAnimation = function(n, i) {
    for (var o = this.animators, a = o.length, u = [], c = 0; c < a; c++) {
      var f = o[c];
      !n || n === f.scope ? f.stop(i) : u.push(f);
    }
    return this.animators = u, this;
  }, r.prototype.animateTo = function(n, i, o) {
    animateTo(this, n, i, o);
  }, r.prototype.animateFrom = function(n, i, o) {
    animateTo(this, n, i, o, !0);
  }, r.prototype._transitionState = function(n, i, o, a) {
    for (var u = animateTo(this, i, o, a), c = 0; c < u.length; c++)
      u[c].__fromStateTransition = n;
  }, r.prototype.getBoundingRect = function() {
    return null;
  }, r.prototype.getPaintRect = function() {
    return null;
  }, r.initDefaultProps = function() {
    var n = r.prototype;
    n.type = "element", n.name = "", n.ignore = n.silent = n.isGroup = n.draggable = n.dragging = n.ignoreClip = n.__inHover = !1, n.__dirty = REDRAW_BIT;
    var i = {};
    function o(u, c, f) {
      i[u + c + f] || (console.warn("DEPRECATED: '" + u + "' has been deprecated. use '" + c + "', '" + f + "' instead"), i[u + c + f] = !0);
    }
    function a(u, c, f, d) {
      Object.defineProperty(n, u, {
        get: function() {
          if (process.env.NODE_ENV !== "production" && o(u, f, d), !this[c]) {
            var y = this[c] = [];
            p(this, y);
          }
          return this[c];
        },
        set: function(y) {
          process.env.NODE_ENV !== "production" && o(u, f, d), this[f] = y[0], this[d] = y[1], this[c] = y, p(this, y);
        }
      });
      function p(y, v) {
        Object.defineProperty(v, 0, {
          get: function() {
            return y[f];
          },
          set: function(g) {
            y[f] = g;
          }
        }), Object.defineProperty(v, 1, {
          get: function() {
            return y[d];
          },
          set: function(g) {
            y[d] = g;
          }
        });
      }
    }
    Object.defineProperty && (a("position", "_legacyPos", "x", "y"), a("scale", "_legacyScale", "scaleX", "scaleY"), a("origin", "_legacyOrigin", "originX", "originY"));
  }(), r;
}();
mixin(Element$1, Eventful$1);
mixin(Element$1, Transformable$1);
function animateTo(r, n, i, o, a) {
  i = i || {};
  var u = [];
  animateToShallow(r, "", r, n, i, o, u, a);
  var c = u.length, f = !1, d = i.done, p = i.aborted, y = function() {
    f = !0, c--, c <= 0 && (f ? d && d() : p && p());
  }, v = function() {
    c--, c <= 0 && (f ? d && d() : p && p());
  };
  c || d && d(), u.length > 0 && i.during && u[0].during(function(b, A) {
    i.during(A);
  });
  for (var g = 0; g < u.length; g++) {
    var _ = u[g];
    y && _.done(y), v && _.aborted(v), i.force && _.duration(i.duration), _.start(i.easing);
  }
  return u;
}
function copyArrShallow(r, n, i) {
  for (var o = 0; o < i; o++)
    r[o] = n[o];
}
function is2DArray(r) {
  return isArrayLike(r[0]);
}
function copyValue(r, n, i) {
  if (isArrayLike(n[i]))
    if (isArrayLike(r[i]) || (r[i] = []), isTypedArray(n[i])) {
      var o = n[i].length;
      r[i].length !== o && (r[i] = new n[i].constructor(o), copyArrShallow(r[i], n[i], o));
    } else {
      var a = n[i], u = r[i], c = a.length;
      if (is2DArray(a))
        for (var f = a[0].length, d = 0; d < c; d++)
          u[d] ? copyArrShallow(u[d], a[d], f) : u[d] = Array.prototype.slice.call(a[d]);
      else
        copyArrShallow(u, a, c);
      u.length = a.length;
    }
  else
    r[i] = n[i];
}
function isValueSame(r, n) {
  return r === n || isArrayLike(r) && isArrayLike(n) && is1DArraySame(r, n);
}
function is1DArraySame(r, n) {
  var i = r.length;
  if (i !== n.length)
    return !1;
  for (var o = 0; o < i; o++)
    if (r[o] !== n[o])
      return !1;
  return !0;
}
function animateToShallow(r, n, i, o, a, u, c, f) {
  for (var d = keys(o), p = a.duration, y = a.delay, v = a.additive, g = a.setToFinal, _ = !isObject$3(u), b = r.animators, A = [], w = 0; w < d.length; w++) {
    var S = d[w], x = o[S];
    if (x != null && i[S] != null && (_ || u[S]))
      if (isObject$3(x) && !isArrayLike(x) && !isGradientObject(x)) {
        if (n) {
          f || (i[S] = x, r.updateDuringAnimation(n));
          continue;
        }
        animateToShallow(r, S, i[S], x, a, u && u[S], c, f);
      } else
        A.push(S);
    else
      f || (i[S] = x, r.updateDuringAnimation(n), A.push(S));
  }
  var T = A.length;
  if (!v && T)
    for (var L = 0; L < b.length; L++) {
      var k = b[L];
      if (k.targetName === n) {
        var M = k.stopTracks(A);
        if (M) {
          var O = indexOf(b, k);
          b.splice(O, 1);
        }
      }
    }
  if (a.force || (A = filter(A, function(D) {
    return !isValueSame(o[D], i[D]);
  }), T = A.length), T > 0 || a.force && !c.length) {
    var ie = void 0, F = void 0, re = void 0;
    if (f) {
      F = {}, g && (ie = {});
      for (var L = 0; L < T; L++) {
        var S = A[L];
        F[S] = i[S], g ? ie[S] = o[S] : i[S] = o[S];
      }
    } else if (g) {
      re = {};
      for (var L = 0; L < T; L++) {
        var S = A[L];
        re[S] = cloneValue(i[S]), copyValue(i, o, S);
      }
    }
    var k = new Animator$1(i, !1, !1, v ? filter(b, function(Y) {
      return Y.targetName === n;
    }) : null);
    k.targetName = n, a.scope && (k.scope = a.scope), g && ie && k.whenWithKeys(0, ie, A), re && k.whenWithKeys(0, re, A), k.whenWithKeys(p ?? 500, f ? F : o, A).delay(y || 0), r.addAnimator(k, n), c.push(k);
  }
}
const Element$2 = Element$1;
var Group$2 = function(r) {
  __extends(n, r);
  function n(i) {
    var o = r.call(this) || this;
    return o.isGroup = !0, o._children = [], o.attr(i), o;
  }
  return n.prototype.childrenRef = function() {
    return this._children;
  }, n.prototype.children = function() {
    return this._children.slice();
  }, n.prototype.childAt = function(i) {
    return this._children[i];
  }, n.prototype.childOfName = function(i) {
    for (var o = this._children, a = 0; a < o.length; a++)
      if (o[a].name === i)
        return o[a];
  }, n.prototype.childCount = function() {
    return this._children.length;
  }, n.prototype.add = function(i) {
    if (i && (i !== this && i.parent !== this && (this._children.push(i), this._doAdd(i)), process.env.NODE_ENV !== "production" && i.__hostTarget))
      throw "This elemenet has been used as an attachment";
    return this;
  }, n.prototype.addBefore = function(i, o) {
    if (i && i !== this && i.parent !== this && o && o.parent === this) {
      var a = this._children, u = a.indexOf(o);
      u >= 0 && (a.splice(u, 0, i), this._doAdd(i));
    }
    return this;
  }, n.prototype.replace = function(i, o) {
    var a = indexOf(this._children, i);
    return a >= 0 && this.replaceAt(o, a), this;
  }, n.prototype.replaceAt = function(i, o) {
    var a = this._children, u = a[o];
    if (i && i !== this && i.parent !== this && i !== u) {
      a[o] = i, u.parent = null;
      var c = this.__zr;
      c && u.removeSelfFromZr(c), this._doAdd(i);
    }
    return this;
  }, n.prototype._doAdd = function(i) {
    i.parent && i.parent.remove(i), i.parent = this;
    var o = this.__zr;
    o && o !== i.__zr && i.addSelfToZr(o), o && o.refresh();
  }, n.prototype.remove = function(i) {
    var o = this.__zr, a = this._children, u = indexOf(a, i);
    return u < 0 ? this : (a.splice(u, 1), i.parent = null, o && i.removeSelfFromZr(o), o && o.refresh(), this);
  }, n.prototype.removeAll = function() {
    for (var i = this._children, o = this.__zr, a = 0; a < i.length; a++) {
      var u = i[a];
      o && u.removeSelfFromZr(o), u.parent = null;
    }
    return i.length = 0, this;
  }, n.prototype.eachChild = function(i, o) {
    for (var a = this._children, u = 0; u < a.length; u++) {
      var c = a[u];
      i.call(o, c, u);
    }
    return this;
  }, n.prototype.traverse = function(i, o) {
    for (var a = 0; a < this._children.length; a++) {
      var u = this._children[a], c = i.call(o, u);
      u.isGroup && !c && u.traverse(i, o);
    }
    return this;
  }, n.prototype.addSelfToZr = function(i) {
    r.prototype.addSelfToZr.call(this, i);
    for (var o = 0; o < this._children.length; o++) {
      var a = this._children[o];
      a.addSelfToZr(i);
    }
  }, n.prototype.removeSelfFromZr = function(i) {
    r.prototype.removeSelfFromZr.call(this, i);
    for (var o = 0; o < this._children.length; o++) {
      var a = this._children[o];
      a.removeSelfFromZr(i);
    }
  }, n.prototype.getBoundingRect = function(i) {
    for (var o = new BoundingRect$1(0, 0, 0, 0), a = i || this._children, u = [], c = null, f = 0; f < a.length; f++) {
      var d = a[f];
      if (!(d.ignore || d.invisible)) {
        var p = d.getBoundingRect(), y = d.getLocalTransform(u);
        y ? (BoundingRect$1.applyTransform(o, p, y), c = c || o.clone(), c.union(o)) : (c = c || p.clone(), c.union(p));
      }
    }
    return c || o;
  }, n;
}(Element$2);
Group$2.prototype.type = "group";
const Group$3 = Group$2;
/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/
var painterCtors = {}, instances$1 = {};
function delInstance(r) {
  delete instances$1[r];
}
function isDarkMode(r) {
  if (!r)
    return !1;
  if (typeof r == "string")
    return lum(r, 1) < DARK_MODE_THRESHOLD;
  if (r.colorStops) {
    for (var n = r.colorStops, i = 0, o = n.length, a = 0; a < o; a++)
      i += lum(n[a].color, 1);
    return i /= o, i < DARK_MODE_THRESHOLD;
  }
  return !1;
}
var ZRender = function() {
  function r(n, i, o) {
    var a = this;
    this._sleepAfterStill = 10, this._stillFrameAccum = 0, this._needsRefresh = !0, this._needsRefreshHover = !0, this._darkMode = !1, o = o || {}, this.dom = i, this.id = n;
    var u = new Storage$1(), c = o.renderer || "canvas";
    if (painterCtors[c] || (c = keys(painterCtors)[0]), process.env.NODE_ENV !== "production" && !painterCtors[c])
      throw new Error("Renderer '" + c + "' is not imported. Please import it first.");
    o.useDirtyRect = o.useDirtyRect == null ? !1 : o.useDirtyRect;
    var f = new painterCtors[c](i, u, o, n), d = o.ssr || f.ssrOnly;
    this.storage = u, this.painter = f;
    var p = !env$1.node && !env$1.worker && !d ? new HandlerProxy(f.getViewportRoot(), f.root) : null, y = o.useCoarsePointer, v = y == null || y === "auto" ? env$1.touchEventsSupported : !!y, g = 44, _;
    v && (_ = retrieve2(o.pointerSize, g)), this.handler = new Handler$1(u, f, p, f.root, _), this.animation = new Animation$1({
      stage: {
        update: d ? null : function() {
          return a._flush(!0);
        }
      }
    }), d || this.animation.start();
  }
  return r.prototype.add = function(n) {
    n && (this.storage.addRoot(n), n.addSelfToZr(this), this.refresh());
  }, r.prototype.remove = function(n) {
    n && (this.storage.delRoot(n), n.removeSelfFromZr(this), this.refresh());
  }, r.prototype.configLayer = function(n, i) {
    this.painter.configLayer && this.painter.configLayer(n, i), this.refresh();
  }, r.prototype.setBackgroundColor = function(n) {
    this.painter.setBackgroundColor && this.painter.setBackgroundColor(n), this.refresh(), this._backgroundColor = n, this._darkMode = isDarkMode(n);
  }, r.prototype.getBackgroundColor = function() {
    return this._backgroundColor;
  }, r.prototype.setDarkMode = function(n) {
    this._darkMode = n;
  }, r.prototype.isDarkMode = function() {
    return this._darkMode;
  }, r.prototype.refreshImmediately = function(n) {
    n || this.animation.update(!0), this._needsRefresh = !1, this.painter.refresh(), this._needsRefresh = !1;
  }, r.prototype.refresh = function() {
    this._needsRefresh = !0, this.animation.start();
  }, r.prototype.flush = function() {
    this._flush(!1);
  }, r.prototype._flush = function(n) {
    var i, o = getTime();
    this._needsRefresh && (i = !0, this.refreshImmediately(n)), this._needsRefreshHover && (i = !0, this.refreshHoverImmediately());
    var a = getTime();
    i ? (this._stillFrameAccum = 0, this.trigger("rendered", {
      elapsedTime: a - o
    })) : this._sleepAfterStill > 0 && (this._stillFrameAccum++, this._stillFrameAccum > this._sleepAfterStill && this.animation.stop());
  }, r.prototype.setSleepAfterStill = function(n) {
    this._sleepAfterStill = n;
  }, r.prototype.wakeUp = function() {
    this.animation.start(), this._stillFrameAccum = 0;
  }, r.prototype.refreshHover = function() {
    this._needsRefreshHover = !0;
  }, r.prototype.refreshHoverImmediately = function() {
    this._needsRefreshHover = !1, this.painter.refreshHover && this.painter.getType() === "canvas" && this.painter.refreshHover();
  }, r.prototype.resize = function(n) {
    n = n || {}, this.painter.resize(n.width, n.height), this.handler.resize();
  }, r.prototype.clearAnimation = function() {
    this.animation.clear();
  }, r.prototype.getWidth = function() {
    return this.painter.getWidth();
  }, r.prototype.getHeight = function() {
    return this.painter.getHeight();
  }, r.prototype.setCursorStyle = function(n) {
    this.handler.setCursorStyle(n);
  }, r.prototype.findHover = function(n, i) {
    return this.handler.findHover(n, i);
  }, r.prototype.on = function(n, i, o) {
    return this.handler.on(n, i, o), this;
  }, r.prototype.off = function(n, i) {
    this.handler.off(n, i);
  }, r.prototype.trigger = function(n, i) {
    this.handler.trigger(n, i);
  }, r.prototype.clear = function() {
    for (var n = this.storage.getRoots(), i = 0; i < n.length; i++)
      n[i] instanceof Group$3 && n[i].removeSelfFromZr(this);
    this.storage.delAllRoots(), this.painter.clear();
  }, r.prototype.dispose = function() {
    this.animation.stop(), this.clear(), this.storage.dispose(), this.painter.dispose(), this.handler.dispose(), this.animation = this.storage = this.painter = this.handler = null, delInstance(this.id);
  }, r;
}();
function init(r, n) {
  var i = new ZRender(guid(), r, n);
  return instances$1[i.id] = i, i;
}
function registerPainter(r, n) {
  painterCtors[r] = n;
}
var RADIAN_EPSILON = 1e-4, ROUND_SUPPORTED_PRECISION_MAX = 20;
function _trim(r) {
  return r.replace(/^\s+|\s+$/g, "");
}
function linearMap(r, n, i, o) {
  var a = n[0], u = n[1], c = i[0], f = i[1], d = u - a, p = f - c;
  if (d === 0)
    return p === 0 ? c : (c + f) / 2;
  if (o)
    if (d > 0) {
      if (r <= a)
        return c;
      if (r >= u)
        return f;
    } else {
      if (r >= a)
        return c;
      if (r <= u)
        return f;
    }
  else {
    if (r === a)
      return c;
    if (r === u)
      return f;
  }
  return (r - a) / d * p + c;
}
function parsePercent(r, n) {
  switch (r) {
    case "center":
    case "middle":
      r = "50%";
      break;
    case "left":
    case "top":
      r = "0%";
      break;
    case "right":
    case "bottom":
      r = "100%";
      break;
  }
  return isString$2(r) ? _trim(r).match(/%$/) ? parseFloat(r) / 100 * n : parseFloat(r) : r == null ? NaN : +r;
}
function round$2(r, n, i) {
  return n == null && (n = 10), n = Math.min(Math.max(0, n), ROUND_SUPPORTED_PRECISION_MAX), r = (+r).toFixed(n), i ? r : +r;
}
function getPrecision(r) {
  if (r = +r, isNaN(r))
    return 0;
  if (r > 1e-14) {
    for (var n = 1, i = 0; i < 15; i++, n *= 10)
      if (Math.round(r * n) / n === r)
        return i;
  }
  return getPrecisionSafe(r);
}
function getPrecisionSafe(r) {
  var n = r.toString().toLowerCase(), i = n.indexOf("e"), o = i > 0 ? +n.slice(i + 1) : 0, a = i > 0 ? i : n.length, u = n.indexOf("."), c = u < 0 ? 0 : a - 1 - u;
  return Math.max(0, c - o);
}
function getPercentSeats(r, n) {
  var i = reduce(r, function(_, b) {
    return _ + (isNaN(b) ? 0 : b);
  }, 0);
  if (i === 0)
    return [];
  for (var o = Math.pow(10, n), a = map$1(r, function(_) {
    return (isNaN(_) ? 0 : _) / i * o * 100;
  }), u = o * 100, c = map$1(a, function(_) {
    return Math.floor(_);
  }), f = reduce(c, function(_, b) {
    return _ + b;
  }, 0), d = map$1(a, function(_, b) {
    return _ - c[b];
  }); f < u; ) {
    for (var p = Number.NEGATIVE_INFINITY, y = null, v = 0, g = d.length; v < g; ++v)
      d[v] > p && (p = d[v], y = v);
    ++c[y], d[y] = 0, ++f;
  }
  return map$1(c, function(_) {
    return _ / o;
  });
}
function addSafe(r, n) {
  var i = Math.max(getPrecision(r), getPrecision(n)), o = r + n;
  return i > ROUND_SUPPORTED_PRECISION_MAX ? o : round$2(o, i);
}
function remRadian(r) {
  var n = Math.PI * 2;
  return (r % n + n) % n;
}
function isRadianAroundZero(r) {
  return r > -RADIAN_EPSILON && r < RADIAN_EPSILON;
}
var TIME_REG = /^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;
function parseDate(r) {
  if (r instanceof Date)
    return r;
  if (isString$2(r)) {
    var n = TIME_REG.exec(r);
    if (!n)
      return /* @__PURE__ */ new Date(NaN);
    if (n[8]) {
      var i = +n[4] || 0;
      return n[8].toUpperCase() !== "Z" && (i -= +n[8].slice(0, 3)), new Date(Date.UTC(+n[1], +(n[2] || 1) - 1, +n[3] || 1, i, +(n[5] || 0), +n[6] || 0, n[7] ? +n[7].substring(0, 3) : 0));
    } else
      return new Date(+n[1], +(n[2] || 1) - 1, +n[3] || 1, +n[4] || 0, +(n[5] || 0), +n[6] || 0, n[7] ? +n[7].substring(0, 3) : 0);
  } else if (r == null)
    return /* @__PURE__ */ new Date(NaN);
  return new Date(Math.round(r));
}
function numericToNumber(r) {
  var n = parseFloat(r);
  return n == r && (n !== 0 || !isString$2(r) || r.indexOf("x") <= 0) ? n : NaN;
}
function isNumeric(r) {
  return !isNaN(numericToNumber(r));
}
function getRandomIdBase() {
  return Math.round(Math.random() * 9);
}
function getGreatestCommonDividor(r, n) {
  return n === 0 ? r : getGreatestCommonDividor(n, r % n);
}
function getLeastCommonMultiple(r, n) {
  return r == null ? n : n == null ? r : r * n / getGreatestCommonDividor(r, n);
}
var ECHARTS_PREFIX = "[ECharts] ", storedLogs = {}, hasConsole = typeof console < "u" && console.warn && console.log;
function outputLog(r, n, i) {
  if (hasConsole) {
    if (i) {
      if (storedLogs[n])
        return;
      storedLogs[n] = !0;
    }
    console[r](ECHARTS_PREFIX + n);
  }
}
function log(r, n) {
  outputLog("log", r, n);
}
function warn(r, n) {
  outputLog("warn", r, n);
}
function error(r, n) {
  outputLog("error", r, n);
}
function deprecateLog(r) {
  process.env.NODE_ENV !== "production" && outputLog("warn", "DEPRECATED: " + r, !0);
}
function deprecateReplaceLog(r, n, i) {
  process.env.NODE_ENV !== "production" && deprecateLog((i ? "[" + i + "]" : "") + (r + " is deprecated, use " + n + " instead."));
}
function makePrintable() {
  for (var r = [], n = 0; n < arguments.length; n++)
    r[n] = arguments[n];
  var i = "";
  if (process.env.NODE_ENV !== "production") {
    var o = function(a) {
      return a === void 0 ? "undefined" : a === 1 / 0 ? "Infinity" : a === -1 / 0 ? "-Infinity" : eqNaN(a) ? "NaN" : a instanceof Date ? "Date(" + a.toISOString() + ")" : isFunction$1(a) ? "function () { ... }" : isRegExp(a) ? a + "" : null;
    };
    i = map$1(r, function(a) {
      if (isString$2(a))
        return a;
      var u = o(a);
      if (u != null)
        return u;
      if (typeof JSON < "u" && JSON.stringify)
        try {
          return JSON.stringify(a, function(c, f) {
            var d = o(f);
            return d ?? f;
          });
        } catch {
          return "?";
        }
      else
        return "?";
    }).join(" ");
  }
  return i;
}
function throwError$1(r) {
  throw new Error(r);
}
var DUMMY_COMPONENT_NAME_PREFIX = "series\0", INTERNAL_COMPONENT_ID_PREFIX = "\0_ec_\0";
function normalizeToArray(r) {
  return r instanceof Array ? r : r == null ? [] : [r];
}
function defaultEmphasis(r, n, i) {
  if (r) {
    r[n] = r[n] || {}, r.emphasis = r.emphasis || {}, r.emphasis[n] = r.emphasis[n] || {};
    for (var o = 0, a = i.length; o < a; o++) {
      var u = i[o];
      !r.emphasis[n].hasOwnProperty(u) && r[n].hasOwnProperty(u) && (r.emphasis[n][u] = r[n][u]);
    }
  }
}
var TEXT_STYLE_OPTIONS = ["fontStyle", "fontWeight", "fontSize", "fontFamily", "rich", "tag", "color", "textBorderColor", "textBorderWidth", "width", "height", "lineHeight", "align", "verticalAlign", "baseline", "shadowColor", "shadowBlur", "shadowOffsetX", "shadowOffsetY", "textShadowColor", "textShadowBlur", "textShadowOffsetX", "textShadowOffsetY", "backgroundColor", "borderColor", "borderWidth", "borderRadius", "padding"];
function getDataItemValue(r) {
  return isObject$3(r) && !isArray$1(r) && !(r instanceof Date) ? r.value : r;
}
function isDataItemOption(r) {
  return isObject$3(r) && !(r instanceof Array);
}
function mappingToExists(r, n, i) {
  var o = i === "normalMerge", a = i === "replaceMerge", u = i === "replaceAll";
  r = r || [], n = (n || []).slice();
  var c = createHashMap();
  each$4(n, function(d, p) {
    if (!isObject$3(d)) {
      n[p] = null;
      return;
    }
    process.env.NODE_ENV !== "production" && (d.id != null && !isValidIdOrName(d.id) && warnInvalidateIdOrName(d.id), d.name != null && !isValidIdOrName(d.name) && warnInvalidateIdOrName(d.name));
  });
  var f = prepareResult(r, c, i);
  return (o || a) && mappingById(f, r, c, n), o && mappingByName(f, n), o || a ? mappingByIndex(f, n, a) : u && mappingInReplaceAllMode(f, n), makeIdAndName(f), f;
}
function prepareResult(r, n, i) {
  var o = [];
  if (i === "replaceAll")
    return o;
  for (var a = 0; a < r.length; a++) {
    var u = r[a];
    u && u.id != null && n.set(u.id, a), o.push({
      existing: i === "replaceMerge" || isComponentIdInternal(u) ? null : u,
      newOption: null,
      keyInfo: null,
      brandNew: null
    });
  }
  return o;
}
function mappingById(r, n, i, o) {
  each$4(o, function(a, u) {
    if (!(!a || a.id == null)) {
      var c = makeComparableKey(a.id), f = i.get(c);
      if (f != null) {
        var d = r[f];
        assert(!d.newOption, 'Duplicated option on id "' + c + '".'), d.newOption = a, d.existing = n[f], o[u] = null;
      }
    }
  });
}
function mappingByName(r, n) {
  each$4(n, function(i, o) {
    if (!(!i || i.name == null))
      for (var a = 0; a < r.length; a++) {
        var u = r[a].existing;
        if (!r[a].newOption && u && (u.id == null || i.id == null) && !isComponentIdInternal(i) && !isComponentIdInternal(u) && keyExistAndEqual("name", u, i)) {
          r[a].newOption = i, n[o] = null;
          return;
        }
      }
  });
}
function mappingByIndex(r, n, i) {
  each$4(n, function(o) {
    if (o) {
      for (
        var a, u = 0;
        // Be `!resultItem` only when `nextIdx >= result.length`.
        (a = r[u]) && // (1) Existing models that already have id should be able to mapped to. Because
        // after mapping performed, model will always be assigned with an id if user not given.
        // After that all models have id.
        // (2) If new option has id, it can only set to a hole or append to the last. It should
        // not be merged to the existings with different id. Because id should not be overwritten.
        // (3) Name can be overwritten, because axis use name as 'show label text'.
        (a.newOption || isComponentIdInternal(a.existing) || // In mode "replaceMerge", here no not-mapped-non-internal-existing.
        a.existing && o.id != null && !keyExistAndEqual("id", o, a.existing));
      )
        u++;
      a ? (a.newOption = o, a.brandNew = i) : r.push({
        newOption: o,
        brandNew: i,
        existing: null,
        keyInfo: null
      }), u++;
    }
  });
}
function mappingInReplaceAllMode(r, n) {
  each$4(n, function(i) {
    r.push({
      newOption: i,
      brandNew: !0,
      existing: null,
      keyInfo: null
    });
  });
}
function makeIdAndName(r) {
  var n = createHashMap();
  each$4(r, function(i) {
    var o = i.existing;
    o && n.set(o.id, i);
  }), each$4(r, function(i) {
    var o = i.newOption;
    assert(!o || o.id == null || !n.get(o.id) || n.get(o.id) === i, "id duplicates: " + (o && o.id)), o && o.id != null && n.set(o.id, i), !i.keyInfo && (i.keyInfo = {});
  }), each$4(r, function(i, o) {
    var a = i.existing, u = i.newOption, c = i.keyInfo;
    if (isObject$3(u)) {
      if (c.name = u.name != null ? makeComparableKey(u.name) : a ? a.name : DUMMY_COMPONENT_NAME_PREFIX + o, a)
        c.id = makeComparableKey(a.id);
      else if (u.id != null)
        c.id = makeComparableKey(u.id);
      else {
        var f = 0;
        do
          c.id = "\0" + c.name + "\0" + f++;
        while (n.get(c.id));
      }
      n.set(c.id, i);
    }
  });
}
function keyExistAndEqual(r, n, i) {
  var o = convertOptionIdName(n[r], null), a = convertOptionIdName(i[r], null);
  return o != null && a != null && o === a;
}
function makeComparableKey(r) {
  if (process.env.NODE_ENV !== "production" && r == null)
    throw new Error();
  return convertOptionIdName(r, "");
}
function convertOptionIdName(r, n) {
  return r == null ? n : isString$2(r) ? r : isNumber$1(r) || isStringSafe(r) ? r + "" : n;
}
function warnInvalidateIdOrName(r) {
  process.env.NODE_ENV !== "production" && warn("`" + r + "` is invalid id or name. Must be a string or number.");
}
function isValidIdOrName(r) {
  return isStringSafe(r) || isNumeric(r);
}
function isNameSpecified(r) {
  var n = r.name;
  return !!(n && n.indexOf(DUMMY_COMPONENT_NAME_PREFIX));
}
function isComponentIdInternal(r) {
  return r && r.id != null && makeComparableKey(r.id).indexOf(INTERNAL_COMPONENT_ID_PREFIX) === 0;
}
function setComponentTypeToKeyInfo(r, n, i) {
  each$4(r, function(o) {
    var a = o.newOption;
    isObject$3(a) && (o.keyInfo.mainType = n, o.keyInfo.subType = determineSubType(n, a, o.existing, i));
  });
}
function determineSubType(r, n, i, o) {
  var a = n.type ? n.type : i ? i.subType : o.determineSubType(r, n);
  return a;
}
function queryDataIndex(r, n) {
  if (n.dataIndexInside != null)
    return n.dataIndexInside;
  if (n.dataIndex != null)
    return isArray$1(n.dataIndex) ? map$1(n.dataIndex, function(i) {
      return r.indexOfRawIndex(i);
    }) : r.indexOfRawIndex(n.dataIndex);
  if (n.name != null)
    return isArray$1(n.name) ? map$1(n.name, function(i) {
      return r.indexOfName(i);
    }) : r.indexOfName(n.name);
}
function makeInner() {
  var r = "__ec_inner_" + innerUniqueIndex++;
  return function(n) {
    return n[r] || (n[r] = {});
  };
}
var innerUniqueIndex = getRandomIdBase();
function parseFinder(r, n, i) {
  var o = preParseFinder(n, i), a = o.mainTypeSpecified, u = o.queryOptionMap, c = o.others, f = c, d = i ? i.defaultMainType : null;
  return !a && d && u.set(d, {}), u.each(function(p, y) {
    var v = queryReferringComponents(r, y, p, {
      useDefault: d === y,
      enableAll: i && i.enableAll != null ? i.enableAll : !0,
      enableNone: i && i.enableNone != null ? i.enableNone : !0
    });
    f[y + "Models"] = v.models, f[y + "Model"] = v.models[0];
  }), f;
}
function preParseFinder(r, n) {
  var i;
  if (isString$2(r)) {
    var o = {};
    o[r + "Index"] = 0, i = o;
  } else
    i = r;
  var a = createHashMap(), u = {}, c = !1;
  return each$4(i, function(f, d) {
    if (d === "dataIndex" || d === "dataIndexInside") {
      u[d] = f;
      return;
    }
    var p = d.match(/^(\w+)(Index|Id|Name)$/) || [], y = p[1], v = (p[2] || "").toLowerCase();
    if (!(!y || !v || n && n.includeMainTypes && indexOf(n.includeMainTypes, y) < 0)) {
      c = c || !!y;
      var g = a.get(y) || a.set(y, {});
      g[v] = f;
    }
  }), {
    mainTypeSpecified: c,
    queryOptionMap: a,
    others: u
  };
}
var SINGLE_REFERRING = {
  useDefault: !0,
  enableAll: !1,
  enableNone: !1
};
function queryReferringComponents(r, n, i, o) {
  o = o || SINGLE_REFERRING;
  var a = i.index, u = i.id, c = i.name, f = {
    models: null,
    specified: a != null || u != null || c != null
  };
  if (!f.specified) {
    var d = void 0;
    return f.models = o.useDefault && (d = r.getComponent(n)) ? [d] : [], f;
  }
  return a === "none" || a === !1 ? (assert(o.enableNone, '`"none"` or `false` is not a valid value on index option.'), f.models = [], f) : (a === "all" && (assert(o.enableAll, '`"all"` is not a valid value on index option.'), a = u = c = null), f.models = r.queryComponents({
    mainType: n,
    index: a,
    id: u,
    name: c
  }), f);
}
function setAttribute(r, n, i) {
  r.setAttribute ? r.setAttribute(n, i) : r[n] = i;
}
function getTooltipRenderMode(r) {
  return r === "auto" ? env$1.domSupported ? "html" : "richText" : r || "html";
}
var TYPE_DELIMITER = ".", IS_CONTAINER = "___EC__COMPONENT__CONTAINER___", IS_EXTENDED_CLASS = "___EC__EXTENDED_CLASS___";
function parseClassType(r) {
  var n = {
    main: "",
    sub: ""
  };
  if (r) {
    var i = r.split(TYPE_DELIMITER);
    n.main = i[0] || "", n.sub = i[1] || "";
  }
  return n;
}
function checkClassType(r) {
  assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(r), 'componentType "' + r + '" illegal');
}
function isExtendedClass(r) {
  return !!(r && r[IS_EXTENDED_CLASS]);
}
function enableClassExtend(r, n) {
  r.$constructor = r, r.extend = function(i) {
    process.env.NODE_ENV !== "production" && each$4(n, function(u) {
      i[u] || console.warn("Method `" + u + "` should be implemented" + (i.type ? " in " + i.type : "") + ".");
    });
    var o = this, a;
    return isESClass(o) ? a = /** @class */
    function(u) {
      __extends(c, u);
      function c() {
        return u.apply(this, arguments) || this;
      }
      return c;
    }(o) : (a = function() {
      (i.$constructor || o).apply(this, arguments);
    }, inherits(a, this)), extend(a.prototype, i), a[IS_EXTENDED_CLASS] = !0, a.extend = this.extend, a.superCall = superCall, a.superApply = superApply, a.superClass = o, a;
  };
}
function isESClass(r) {
  return isFunction$1(r) && /^class\s/.test(Function.prototype.toString.call(r));
}
function mountExtend(r, n) {
  r.extend = n.extend;
}
var classBase = Math.round(Math.random() * 10);
function enableClassCheck(r) {
  var n = ["__\0is_clz", classBase++].join("_");
  r.prototype[n] = !0, process.env.NODE_ENV !== "production" && assert(!r.isInstance, 'The method "is" can not be defined.'), r.isInstance = function(i) {
    return !!(i && i[n]);
  };
}
function superCall(r, n) {
  for (var i = [], o = 2; o < arguments.length; o++)
    i[o - 2] = arguments[o];
  return this.superClass.prototype[n].apply(r, i);
}
function superApply(r, n, i) {
  return this.superClass.prototype[n].apply(r, i);
}
function enableClassManagement(r) {
  var n = {};
  r.registerClass = function(o) {
    var a = o.type || o.prototype.type;
    if (a) {
      checkClassType(a), o.prototype.type = a;
      var u = parseClassType(a);
      if (!u.sub)
        process.env.NODE_ENV !== "production" && n[u.main] && console.warn(u.main + " exists."), n[u.main] = o;
      else if (u.sub !== IS_CONTAINER) {
        var c = i(u);
        c[u.sub] = o;
      }
    }
    return o;
  }, r.getClass = function(o, a, u) {
    var c = n[o];
    if (c && c[IS_CONTAINER] && (c = a ? c[a] : null), u && !c)
      throw new Error(a ? "Component " + o + "." + (a || "") + " is used but not imported." : o + ".type should be specified.");
    return c;
  }, r.getClassesByMainType = function(o) {
    var a = parseClassType(o), u = [], c = n[a.main];
    return c && c[IS_CONTAINER] ? each$4(c, function(f, d) {
      d !== IS_CONTAINER && u.push(f);
    }) : u.push(c), u;
  }, r.hasClass = function(o) {
    var a = parseClassType(o);
    return !!n[a.main];
  }, r.getAllClassMainTypes = function() {
    var o = [];
    return each$4(n, function(a, u) {
      o.push(u);
    }), o;
  }, r.hasSubTypes = function(o) {
    var a = parseClassType(o), u = n[a.main];
    return u && u[IS_CONTAINER];
  };
  function i(o) {
    var a = n[o.main];
    return (!a || !a[IS_CONTAINER]) && (a = n[o.main] = {}, a[IS_CONTAINER] = !0), a;
  }
}
function makeStyleMapper(r, n) {
  for (var i = 0; i < r.length; i++)
    r[i][1] || (r[i][1] = r[i][0]);
  return n = n || !1, function(o, a, u) {
    for (var c = {}, f = 0; f < r.length; f++) {
      var d = r[f][1];
      if (!(a && indexOf(a, d) >= 0 || u && indexOf(u, d) < 0)) {
        var p = o.getShallow(d, n);
        p != null && (c[r[f][0]] = p);
      }
    }
    return c;
  };
}
var AREA_STYLE_KEY_MAP = [
  ["fill", "color"],
  ["shadowBlur"],
  ["shadowOffsetX"],
  ["shadowOffsetY"],
  ["opacity"],
  ["shadowColor"]
  // Option decal is in `DecalObject` but style.decal is in `PatternObject`.
  // So do not transfer decal directly.
], getAreaStyle = makeStyleMapper(AREA_STYLE_KEY_MAP), AreaStyleMixin = (
  /** @class */
  function() {
    function r() {
    }
    return r.prototype.getAreaStyle = function(n, i) {
      return getAreaStyle(this, n, i);
    }, r;
  }()
), globalImageCache = new LRU$1(50);
function findExistImage(r) {
  if (typeof r == "string") {
    var n = globalImageCache.get(r);
    return n && n.image;
  } else
    return r;
}
function createOrUpdateImage(r, n, i, o, a) {
  if (r)
    if (typeof r == "string") {
      if (n && n.__zrImageSrc === r || !i)
        return n;
      var u = globalImageCache.get(r), c = { hostEl: i, cb: o, cbPayload: a };
      return u ? (n = u.image, !isImageReady(n) && u.pending.push(c)) : (n = platformApi.loadImage(r, imageOnLoad, imageOnLoad), n.__zrImageSrc = r, globalImageCache.put(r, n.__cachedImgObj = {
        image: n,
        pending: [c]
      })), n;
    } else
      return r;
  else
    return n;
}
function imageOnLoad() {
  var r = this.__cachedImgObj;
  this.onload = this.onerror = this.__cachedImgObj = null;
  for (var n = 0; n < r.pending.length; n++) {
    var i = r.pending[n], o = i.cb;
    o && o(this, i.cbPayload), i.hostEl.dirty();
  }
  r.pending.length = 0;
}
function isImageReady(r) {
  return r && r.width && r.height;
}
var STYLE_REG = /\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;
function truncateText(r, n, i, o, a) {
  if (!n)
    return "";
  var u = (r + "").split(`
`);
  a = prepareTruncateOptions(n, i, o, a);
  for (var c = 0, f = u.length; c < f; c++)
    u[c] = truncateSingleLine(u[c], a);
  return u.join(`
`);
}
function prepareTruncateOptions(r, n, i, o) {
  o = o || {};
  var a = extend({}, o);
  a.font = n, i = retrieve2(i, "..."), a.maxIterations = retrieve2(o.maxIterations, 2);
  var u = a.minChar = retrieve2(o.minChar, 0);
  a.cnCharWidth = getWidth("国", n);
  var c = a.ascCharWidth = getWidth("a", n);
  a.placeholder = retrieve2(o.placeholder, "");
  for (var f = r = Math.max(0, r - 1), d = 0; d < u && f >= c; d++)
    f -= c;
  var p = getWidth(i, n);
  return p > f && (i = "", p = 0), f = r - p, a.ellipsis = i, a.ellipsisWidth = p, a.contentWidth = f, a.containerWidth = r, a;
}
function truncateSingleLine(r, n) {
  var i = n.containerWidth, o = n.font, a = n.contentWidth;
  if (!i)
    return "";
  var u = getWidth(r, o);
  if (u <= i)
    return r;
  for (var c = 0; ; c++) {
    if (u <= a || c >= n.maxIterations) {
      r += n.ellipsis;
      break;
    }
    var f = c === 0 ? estimateLength(r, a, n.ascCharWidth, n.cnCharWidth) : u > 0 ? Math.floor(r.length * a / u) : 0;
    r = r.substr(0, f), u = getWidth(r, o);
  }
  return r === "" && (r = n.placeholder), r;
}
function estimateLength(r, n, i, o) {
  for (var a = 0, u = 0, c = r.length; u < c && a < n; u++) {
    var f = r.charCodeAt(u);
    a += 0 <= f && f <= 127 ? i : o;
  }
  return u;
}
function parsePlainText(r, n) {
  r != null && (r += "");
  var i = n.overflow, o = n.padding, a = n.font, u = i === "truncate", c = getLineHeight(a), f = retrieve2(n.lineHeight, c), d = !!n.backgroundColor, p = n.lineOverflow === "truncate", y = n.width, v;
  y != null && (i === "break" || i === "breakAll") ? v = r ? wrapText(r, n.font, y, i === "breakAll", 0).lines : [] : v = r ? r.split(`
`) : [];
  var g = v.length * f, _ = retrieve2(n.height, g);
  if (g > _ && p) {
    var b = Math.floor(_ / f);
    v = v.slice(0, b);
  }
  if (r && u && y != null)
    for (var A = prepareTruncateOptions(y, a, n.ellipsis, {
      minChar: n.truncateMinChar,
      placeholder: n.placeholder
    }), w = 0; w < v.length; w++)
      v[w] = truncateSingleLine(v[w], A);
  for (var S = _, x = 0, w = 0; w < v.length; w++)
    x = Math.max(getWidth(v[w], a), x);
  y == null && (y = x);
  var T = x;
  return o && (S += o[0] + o[2], T += o[1] + o[3], y += o[1] + o[3]), d && (T = y), {
    lines: v,
    height: _,
    outerWidth: T,
    outerHeight: S,
    lineHeight: f,
    calculatedLineHeight: c,
    contentWidth: x,
    contentHeight: g,
    width: y
  };
}
var RichTextToken = function() {
  function r() {
  }
  return r;
}(), RichTextLine = function() {
  function r(n) {
    this.tokens = [], n && (this.tokens = n);
  }
  return r;
}(), RichTextContentBlock = function() {
  function r() {
    this.width = 0, this.height = 0, this.contentWidth = 0, this.contentHeight = 0, this.outerWidth = 0, this.outerHeight = 0, this.lines = [];
  }
  return r;
}();
function parseRichText(r, n) {
  var i = new RichTextContentBlock();
  if (r != null && (r += ""), !r)
    return i;
  for (var o = n.width, a = n.height, u = n.overflow, c = (u === "break" || u === "breakAll") && o != null ? { width: o, accumWidth: 0, breakAll: u === "breakAll" } : null, f = STYLE_REG.lastIndex = 0, d; (d = STYLE_REG.exec(r)) != null; ) {
    var p = d.index;
    p > f && pushTokens(i, r.substring(f, p), n, c), pushTokens(i, d[2], n, c, d[1]), f = STYLE_REG.lastIndex;
  }
  f < r.length && pushTokens(i, r.substring(f, r.length), n, c);
  var y = [], v = 0, g = 0, _ = n.padding, b = u === "truncate", A = n.lineOverflow === "truncate";
  function w(Ie, Pt, xe) {
    Ie.width = Pt, Ie.lineHeight = xe, v += xe, g = Math.max(g, Pt);
  }
  e:
    for (var S = 0; S < i.lines.length; S++) {
      for (var x = i.lines[S], T = 0, L = 0, k = 0; k < x.tokens.length; k++) {
        var M = x.tokens[k], O = M.styleName && n.rich[M.styleName] || {}, ie = M.textPadding = O.padding, F = ie ? ie[1] + ie[3] : 0, re = M.font = O.font || n.font;
        M.contentHeight = getLineHeight(re);
        var D = retrieve2(O.height, M.contentHeight);
        if (M.innerHeight = D, ie && (D += ie[0] + ie[2]), M.height = D, M.lineHeight = retrieve3(O.lineHeight, n.lineHeight, D), M.align = O && O.align || n.align, M.verticalAlign = O && O.verticalAlign || "middle", A && a != null && v + M.lineHeight > a) {
          k > 0 ? (x.tokens = x.tokens.slice(0, k), w(x, L, T), i.lines = i.lines.slice(0, S + 1)) : i.lines = i.lines.slice(0, S);
          break e;
        }
        var Y = O.width, z = Y == null || Y === "auto";
        if (typeof Y == "string" && Y.charAt(Y.length - 1) === "%")
          M.percentWidth = Y, y.push(M), M.contentWidth = getWidth(M.text, re);
        else {
          if (z) {
            var pe = O.backgroundColor, ue = pe && pe.image;
            ue && (ue = findExistImage(ue), isImageReady(ue) && (M.width = Math.max(M.width, ue.width * D / ue.height)));
          }
          var Ce = b && o != null ? o - L : null;
          Ce != null && Ce < M.width ? !z || Ce < F ? (M.text = "", M.width = M.contentWidth = 0) : (M.text = truncateText(M.text, Ce - F, re, n.ellipsis, { minChar: n.truncateMinChar }), M.width = M.contentWidth = getWidth(M.text, re)) : M.contentWidth = getWidth(M.text, re);
        }
        M.width += F, L += M.width, O && (T = Math.max(T, M.lineHeight));
      }
      w(x, L, T);
    }
  i.outerWidth = i.width = retrieve2(o, g), i.outerHeight = i.height = retrieve2(a, v), i.contentHeight = v, i.contentWidth = g, _ && (i.outerWidth += _[1] + _[3], i.outerHeight += _[0] + _[2]);
  for (var S = 0; S < y.length; S++) {
    var M = y[S], Fe = M.percentWidth;
    M.width = parseInt(Fe, 10) / 100 * i.width;
  }
  return i;
}
function pushTokens(r, n, i, o, a) {
  var u = n === "", c = a && i.rich[a] || {}, f = r.lines, d = c.font || i.font, p = !1, y, v;
  if (o) {
    var g = c.padding, _ = g ? g[1] + g[3] : 0;
    if (c.width != null && c.width !== "auto") {
      var b = parsePercent$1(c.width, o.width) + _;
      f.length > 0 && b + o.accumWidth > o.width && (y = n.split(`
`), p = !0), o.accumWidth = b;
    } else {
      var A = wrapText(n, d, o.width, o.breakAll, o.accumWidth);
      o.accumWidth = A.accumWidth + _, v = A.linesWidths, y = A.lines;
    }
  } else
    y = n.split(`
`);
  for (var w = 0; w < y.length; w++) {
    var S = y[w], x = new RichTextToken();
    if (x.styleName = a, x.text = S, x.isLineHolder = !S && !u, typeof c.width == "number" ? x.width = c.width : x.width = v ? v[w] : getWidth(S, d), !w && !p) {
      var T = (f[f.length - 1] || (f[0] = new RichTextLine())).tokens, L = T.length;
      L === 1 && T[0].isLineHolder ? T[0] = x : (S || !L || u) && T.push(x);
    } else
      f.push(new RichTextLine([x]));
  }
}
function isLatin(r) {
  var n = r.charCodeAt(0);
  return n >= 33 && n <= 383;
}
var breakCharMap = reduce(",&?/;] ".split(""), function(r, n) {
  return r[n] = !0, r;
}, {});
function isWordBreakChar(r) {
  return isLatin(r) ? !!breakCharMap[r] : !0;
}
function wrapText(r, n, i, o, a) {
  for (var u = [], c = [], f = "", d = "", p = 0, y = 0, v = 0; v < r.length; v++) {
    var g = r.charAt(v);
    if (g === `
`) {
      d && (f += d, y += p), u.push(f), c.push(y), f = "", d = "", p = 0, y = 0;
      continue;
    }
    var _ = getWidth(g, n), b = o ? !1 : !isWordBreakChar(g);
    if (u.length ? y + _ > i : a + y + _ > i) {
      y ? (f || d) && (b ? (f || (f = d, d = "", p = 0, y = p), u.push(f), c.push(y - p), d += g, p += _, f = "", y = p) : (d && (f += d, d = "", p = 0), u.push(f), c.push(y), f = g, y = _)) : b ? (u.push(d), c.push(p), d = g, p = _) : (u.push(g), c.push(_));
      continue;
    }
    y += _, b ? (d += g, p += _) : (d && (f += d, d = "", p = 0), f += g);
  }
  return !u.length && !f && (f = r, d = "", p = 0), d && (f += d), f && (u.push(f), c.push(y)), u.length === 1 && (y += a), {
    accumWidth: y,
    lines: u,
    linesWidths: c
  };
}
var STYLE_MAGIC_KEY = "__zr_style_" + Math.round(Math.random() * 10), DEFAULT_COMMON_STYLE = {
  shadowBlur: 0,
  shadowOffsetX: 0,
  shadowOffsetY: 0,
  shadowColor: "#000",
  opacity: 1,
  blend: "source-over"
}, DEFAULT_COMMON_ANIMATION_PROPS = {
  style: {
    shadowBlur: !0,
    shadowOffsetX: !0,
    shadowOffsetY: !0,
    shadowColor: !0,
    opacity: !0
  }
};
DEFAULT_COMMON_STYLE[STYLE_MAGIC_KEY] = !0;
var PRIMARY_STATES_KEYS = ["z", "z2", "invisible"], PRIMARY_STATES_KEYS_IN_HOVER_LAYER = ["invisible"], Displayable = function(r) {
  __extends(n, r);
  function n(i) {
    return r.call(this, i) || this;
  }
  return n.prototype._init = function(i) {
    for (var o = keys(i), a = 0; a < o.length; a++) {
      var u = o[a];
      u === "style" ? this.useStyle(i[u]) : r.prototype.attrKV.call(this, u, i[u]);
    }
    this.style || this.useStyle({});
  }, n.prototype.beforeBrush = function() {
  }, n.prototype.afterBrush = function() {
  }, n.prototype.innerBeforeBrush = function() {
  }, n.prototype.innerAfterBrush = function() {
  }, n.prototype.shouldBePainted = function(i, o, a, u) {
    var c = this.transform;
    if (this.ignore || this.invisible || this.style.opacity === 0 || this.culling && isDisplayableCulled(this, i, o) || c && !c[0] && !c[3])
      return !1;
    if (a && this.__clipPaths) {
      for (var f = 0; f < this.__clipPaths.length; ++f)
        if (this.__clipPaths[f].isZeroArea())
          return !1;
    }
    if (u && this.parent)
      for (var d = this.parent; d; ) {
        if (d.ignore)
          return !1;
        d = d.parent;
      }
    return !0;
  }, n.prototype.contain = function(i, o) {
    return this.rectContain(i, o);
  }, n.prototype.traverse = function(i, o) {
    i.call(o, this);
  }, n.prototype.rectContain = function(i, o) {
    var a = this.transformCoordToLocal(i, o), u = this.getBoundingRect();
    return u.contain(a[0], a[1]);
  }, n.prototype.getPaintRect = function() {
    var i = this._paintRect;
    if (!this._paintRect || this.__dirty) {
      var o = this.transform, a = this.getBoundingRect(), u = this.style, c = u.shadowBlur || 0, f = u.shadowOffsetX || 0, d = u.shadowOffsetY || 0;
      i = this._paintRect || (this._paintRect = new BoundingRect$1(0, 0, 0, 0)), o ? BoundingRect$1.applyTransform(i, a, o) : i.copy(a), (c || f || d) && (i.width += c * 2 + Math.abs(f), i.height += c * 2 + Math.abs(d), i.x = Math.min(i.x, i.x + f - c), i.y = Math.min(i.y, i.y + d - c));
      var p = this.dirtyRectTolerance;
      i.isZero() || (i.x = Math.floor(i.x - p), i.y = Math.floor(i.y - p), i.width = Math.ceil(i.width + 1 + p * 2), i.height = Math.ceil(i.height + 1 + p * 2));
    }
    return i;
  }, n.prototype.setPrevPaintRect = function(i) {
    i ? (this._prevPaintRect = this._prevPaintRect || new BoundingRect$1(0, 0, 0, 0), this._prevPaintRect.copy(i)) : this._prevPaintRect = null;
  }, n.prototype.getPrevPaintRect = function() {
    return this._prevPaintRect;
  }, n.prototype.animateStyle = function(i) {
    return this.animate("style", i);
  }, n.prototype.updateDuringAnimation = function(i) {
    i === "style" ? this.dirtyStyle() : this.markRedraw();
  }, n.prototype.attrKV = function(i, o) {
    i !== "style" ? r.prototype.attrKV.call(this, i, o) : this.style ? this.setStyle(o) : this.useStyle(o);
  }, n.prototype.setStyle = function(i, o) {
    return typeof i == "string" ? this.style[i] = o : extend(this.style, i), this.dirtyStyle(), this;
  }, n.prototype.dirtyStyle = function(i) {
    i || this.markRedraw(), this.__dirty |= STYLE_CHANGED_BIT, this._rect && (this._rect = null);
  }, n.prototype.dirty = function() {
    this.dirtyStyle();
  }, n.prototype.styleChanged = function() {
    return !!(this.__dirty & STYLE_CHANGED_BIT);
  }, n.prototype.styleUpdated = function() {
    this.__dirty &= ~STYLE_CHANGED_BIT;
  }, n.prototype.createStyle = function(i) {
    return createObject(DEFAULT_COMMON_STYLE, i);
  }, n.prototype.useStyle = function(i) {
    i[STYLE_MAGIC_KEY] || (i = this.createStyle(i)), this.__inHover ? this.__hoverStyle = i : this.style = i, this.dirtyStyle();
  }, n.prototype.isStyleObject = function(i) {
    return i[STYLE_MAGIC_KEY];
  }, n.prototype._innerSaveToNormal = function(i) {
    r.prototype._innerSaveToNormal.call(this, i);
    var o = this._normalState;
    i.style && !o.style && (o.style = this._mergeStyle(this.createStyle(), this.style)), this._savePrimaryToNormal(i, o, PRIMARY_STATES_KEYS);
  }, n.prototype._applyStateObj = function(i, o, a, u, c, f) {
    r.prototype._applyStateObj.call(this, i, o, a, u, c, f);
    var d = !(o && u), p;
    if (o && o.style ? c ? u ? p = o.style : (p = this._mergeStyle(this.createStyle(), a.style), this._mergeStyle(p, o.style)) : (p = this._mergeStyle(this.createStyle(), u ? this.style : a.style), this._mergeStyle(p, o.style)) : d && (p = a.style), p)
      if (c) {
        var y = this.style;
        if (this.style = this.createStyle(d ? {} : y), d)
          for (var v = keys(y), g = 0; g < v.length; g++) {
            var _ = v[g];
            _ in p && (p[_] = p[_], this.style[_] = y[_]);
          }
        for (var b = keys(p), g = 0; g < b.length; g++) {
          var _ = b[g];
          this.style[_] = this.style[_];
        }
        this._transitionState(i, {
          style: p
        }, f, this.getAnimationStyleProps());
      } else
        this.useStyle(p);
    for (var A = this.__inHover ? PRIMARY_STATES_KEYS_IN_HOVER_LAYER : PRIMARY_STATES_KEYS, g = 0; g < A.length; g++) {
      var _ = A[g];
      o && o[_] != null ? this[_] = o[_] : d && a[_] != null && (this[_] = a[_]);
    }
  }, n.prototype._mergeStates = function(i) {
    for (var o = r.prototype._mergeStates.call(this, i), a, u = 0; u < i.length; u++) {
      var c = i[u];
      c.style && (a = a || {}, this._mergeStyle(a, c.style));
    }
    return a && (o.style = a), o;
  }, n.prototype._mergeStyle = function(i, o) {
    return extend(i, o), i;
  }, n.prototype.getAnimationStyleProps = function() {
    return DEFAULT_COMMON_ANIMATION_PROPS;
  }, n.initDefaultProps = function() {
    var i = n.prototype;
    i.type = "displayable", i.invisible = !1, i.z = 0, i.z2 = 0, i.zlevel = 0, i.culling = !1, i.cursor = "pointer", i.rectHover = !1, i.incremental = !1, i._rect = null, i.dirtyRectTolerance = 0, i.__dirty = REDRAW_BIT | STYLE_CHANGED_BIT;
  }(), n;
}(Element$2), tmpRect = new BoundingRect$1(0, 0, 0, 0), viewRect = new BoundingRect$1(0, 0, 0, 0);
function isDisplayableCulled(r, n, i) {
  return tmpRect.copy(r.getBoundingRect()), r.transform && tmpRect.applyTransform(r.transform), viewRect.width = n, viewRect.height = i, !tmpRect.intersect(viewRect);
}
const Displayable$1 = Displayable;
var mathMin$3 = Math.min, mathMax$3 = Math.max, mathSin$4 = Math.sin, mathCos$4 = Math.cos, PI2$7 = Math.PI * 2, start = create$1(), end = create$1(), extremity = create$1();
function fromLine(r, n, i, o, a, u) {
  a[0] = mathMin$3(r, i), a[1] = mathMin$3(n, o), u[0] = mathMax$3(r, i), u[1] = mathMax$3(n, o);
}
var xDim = [], yDim = [];
function fromCubic(r, n, i, o, a, u, c, f, d, p) {
  var y = cubicExtrema, v = cubicAt, g = y(r, i, a, c, xDim);
  d[0] = 1 / 0, d[1] = 1 / 0, p[0] = -1 / 0, p[1] = -1 / 0;
  for (var _ = 0; _ < g; _++) {
    var b = v(r, i, a, c, xDim[_]);
    d[0] = mathMin$3(b, d[0]), p[0] = mathMax$3(b, p[0]);
  }
  g = y(n, o, u, f, yDim);
  for (var _ = 0; _ < g; _++) {
    var A = v(n, o, u, f, yDim[_]);
    d[1] = mathMin$3(A, d[1]), p[1] = mathMax$3(A, p[1]);
  }
  d[0] = mathMin$3(r, d[0]), p[0] = mathMax$3(r, p[0]), d[0] = mathMin$3(c, d[0]), p[0] = mathMax$3(c, p[0]), d[1] = mathMin$3(n, d[1]), p[1] = mathMax$3(n, p[1]), d[1] = mathMin$3(f, d[1]), p[1] = mathMax$3(f, p[1]);
}
function fromQuadratic(r, n, i, o, a, u, c, f) {
  var d = quadraticExtremum, p = quadraticAt, y = mathMax$3(mathMin$3(d(r, i, a), 1), 0), v = mathMax$3(mathMin$3(d(n, o, u), 1), 0), g = p(r, i, a, y), _ = p(n, o, u, v);
  c[0] = mathMin$3(r, a, g), c[1] = mathMin$3(n, u, _), f[0] = mathMax$3(r, a, g), f[1] = mathMax$3(n, u, _);
}
function fromArc(r, n, i, o, a, u, c, f, d) {
  var p = min$1, y = max$1, v = Math.abs(a - u);
  if (v % PI2$7 < 1e-4 && v > 1e-4) {
    f[0] = r - i, f[1] = n - o, d[0] = r + i, d[1] = n + o;
    return;
  }
  if (start[0] = mathCos$4(a) * i + r, start[1] = mathSin$4(a) * o + n, end[0] = mathCos$4(u) * i + r, end[1] = mathSin$4(u) * o + n, p(f, start, end), y(d, start, end), a = a % PI2$7, a < 0 && (a = a + PI2$7), u = u % PI2$7, u < 0 && (u = u + PI2$7), a > u && !c ? u += PI2$7 : a < u && c && (a += PI2$7), c) {
    var g = u;
    u = a, a = g;
  }
  for (var _ = 0; _ < u; _ += Math.PI / 2)
    _ > a && (extremity[0] = mathCos$4(_) * i + r, extremity[1] = mathSin$4(_) * o + n, p(f, extremity, f), y(d, extremity, d));
}
var CMD$2 = {
  M: 1,
  L: 2,
  C: 3,
  Q: 4,
  A: 5,
  Z: 6,
  R: 7
}, tmpOutX = [], tmpOutY = [], min = [], max = [], min2 = [], max2 = [], mathMin$2 = Math.min, mathMax$2 = Math.max, mathCos$3 = Math.cos, mathSin$3 = Math.sin, mathAbs$1 = Math.abs, PI$5 = Math.PI, PI2$6 = PI$5 * 2, hasTypedArray = typeof Float32Array < "u", tmpAngles = [];
function modPI2(r) {
  var n = Math.round(r / PI$5 * 1e8) / 1e8;
  return n % 2 * PI$5;
}
function normalizeArcAngles(r, n) {
  var i = modPI2(r[0]);
  i < 0 && (i += PI2$6);
  var o = i - r[0], a = r[1];
  a += o, !n && a - i >= PI2$6 ? a = i + PI2$6 : n && i - a >= PI2$6 ? a = i - PI2$6 : !n && i > a ? a = i + (PI2$6 - modPI2(i - a)) : n && i < a && (a = i - (PI2$6 - modPI2(a - i))), r[0] = i, r[1] = a;
}
var PathProxy = function() {
  function r(n) {
    this.dpr = 1, this._xi = 0, this._yi = 0, this._x0 = 0, this._y0 = 0, this._len = 0, n && (this._saveData = !1), this._saveData && (this.data = []);
  }
  return r.prototype.increaseVersion = function() {
    this._version++;
  }, r.prototype.getVersion = function() {
    return this._version;
  }, r.prototype.setScale = function(n, i, o) {
    o = o || 0, o > 0 && (this._ux = mathAbs$1(o / devicePixelRatio / n) || 0, this._uy = mathAbs$1(o / devicePixelRatio / i) || 0);
  }, r.prototype.setDPR = function(n) {
    this.dpr = n;
  }, r.prototype.setContext = function(n) {
    this._ctx = n;
  }, r.prototype.getContext = function() {
    return this._ctx;
  }, r.prototype.beginPath = function() {
    return this._ctx && this._ctx.beginPath(), this.reset(), this;
  }, r.prototype.reset = function() {
    this._saveData && (this._len = 0), this._pathSegLen && (this._pathSegLen = null, this._pathLen = 0), this._version++;
  }, r.prototype.moveTo = function(n, i) {
    return this._drawPendingPt(), this.addData(CMD$2.M, n, i), this._ctx && this._ctx.moveTo(n, i), this._x0 = n, this._y0 = i, this._xi = n, this._yi = i, this;
  }, r.prototype.lineTo = function(n, i) {
    var o = mathAbs$1(n - this._xi), a = mathAbs$1(i - this._yi), u = o > this._ux || a > this._uy;
    if (this.addData(CMD$2.L, n, i), this._ctx && u && this._ctx.lineTo(n, i), u)
      this._xi = n, this._yi = i, this._pendingPtDist = 0;
    else {
      var c = o * o + a * a;
      c > this._pendingPtDist && (this._pendingPtX = n, this._pendingPtY = i, this._pendingPtDist = c);
    }
    return this;
  }, r.prototype.bezierCurveTo = function(n, i, o, a, u, c) {
    return this._drawPendingPt(), this.addData(CMD$2.C, n, i, o, a, u, c), this._ctx && this._ctx.bezierCurveTo(n, i, o, a, u, c), this._xi = u, this._yi = c, this;
  }, r.prototype.quadraticCurveTo = function(n, i, o, a) {
    return this._drawPendingPt(), this.addData(CMD$2.Q, n, i, o, a), this._ctx && this._ctx.quadraticCurveTo(n, i, o, a), this._xi = o, this._yi = a, this;
  }, r.prototype.arc = function(n, i, o, a, u, c) {
    this._drawPendingPt(), tmpAngles[0] = a, tmpAngles[1] = u, normalizeArcAngles(tmpAngles, c), a = tmpAngles[0], u = tmpAngles[1];
    var f = u - a;
    return this.addData(CMD$2.A, n, i, o, o, a, f, 0, c ? 0 : 1), this._ctx && this._ctx.arc(n, i, o, a, u, c), this._xi = mathCos$3(u) * o + n, this._yi = mathSin$3(u) * o + i, this;
  }, r.prototype.arcTo = function(n, i, o, a, u) {
    return this._drawPendingPt(), this._ctx && this._ctx.arcTo(n, i, o, a, u), this;
  }, r.prototype.rect = function(n, i, o, a) {
    return this._drawPendingPt(), this._ctx && this._ctx.rect(n, i, o, a), this.addData(CMD$2.R, n, i, o, a), this;
  }, r.prototype.closePath = function() {
    this._drawPendingPt(), this.addData(CMD$2.Z);
    var n = this._ctx, i = this._x0, o = this._y0;
    return n && n.closePath(), this._xi = i, this._yi = o, this;
  }, r.prototype.fill = function(n) {
    n && n.fill(), this.toStatic();
  }, r.prototype.stroke = function(n) {
    n && n.stroke(), this.toStatic();
  }, r.prototype.len = function() {
    return this._len;
  }, r.prototype.setData = function(n) {
    var i = n.length;
    !(this.data && this.data.length === i) && hasTypedArray && (this.data = new Float32Array(i));
    for (var o = 0; o < i; o++)
      this.data[o] = n[o];
    this._len = i;
  }, r.prototype.appendPath = function(n) {
    n instanceof Array || (n = [n]);
    for (var i = n.length, o = 0, a = this._len, u = 0; u < i; u++)
      o += n[u].len();
    hasTypedArray && this.data instanceof Float32Array && (this.data = new Float32Array(a + o));
    for (var u = 0; u < i; u++)
      for (var c = n[u].data, f = 0; f < c.length; f++)
        this.data[a++] = c[f];
    this._len = a;
  }, r.prototype.addData = function(n, i, o, a, u, c, f, d, p) {
    if (this._saveData) {
      var y = this.data;
      this._len + arguments.length > y.length && (this._expandData(), y = this.data);
      for (var v = 0; v < arguments.length; v++)
        y[this._len++] = arguments[v];
    }
  }, r.prototype._drawPendingPt = function() {
    this._pendingPtDist > 0 && (this._ctx && this._ctx.lineTo(this._pendingPtX, this._pendingPtY), this._pendingPtDist = 0);
  }, r.prototype._expandData = function() {
    if (!(this.data instanceof Array)) {
      for (var n = [], i = 0; i < this._len; i++)
        n[i] = this.data[i];
      this.data = n;
    }
  }, r.prototype.toStatic = function() {
    if (this._saveData) {
      this._drawPendingPt();
      var n = this.data;
      n instanceof Array && (n.length = this._len, hasTypedArray && this._len > 11 && (this.data = new Float32Array(n)));
    }
  }, r.prototype.getBoundingRect = function() {
    min[0] = min[1] = min2[0] = min2[1] = Number.MAX_VALUE, max[0] = max[1] = max2[0] = max2[1] = -Number.MAX_VALUE;
    var n = this.data, i = 0, o = 0, a = 0, u = 0, c;
    for (c = 0; c < this._len; ) {
      var f = n[c++], d = c === 1;
      switch (d && (i = n[c], o = n[c + 1], a = i, u = o), f) {
        case CMD$2.M:
          i = a = n[c++], o = u = n[c++], min2[0] = a, min2[1] = u, max2[0] = a, max2[1] = u;
          break;
        case CMD$2.L:
          fromLine(i, o, n[c], n[c + 1], min2, max2), i = n[c++], o = n[c++];
          break;
        case CMD$2.C:
          fromCubic(i, o, n[c++], n[c++], n[c++], n[c++], n[c], n[c + 1], min2, max2), i = n[c++], o = n[c++];
          break;
        case CMD$2.Q:
          fromQuadratic(i, o, n[c++], n[c++], n[c], n[c + 1], min2, max2), i = n[c++], o = n[c++];
          break;
        case CMD$2.A:
          var p = n[c++], y = n[c++], v = n[c++], g = n[c++], _ = n[c++], b = n[c++] + _;
          c += 1;
          var A = !n[c++];
          d && (a = mathCos$3(_) * v + p, u = mathSin$3(_) * g + y), fromArc(p, y, v, g, _, b, A, min2, max2), i = mathCos$3(b) * v + p, o = mathSin$3(b) * g + y;
          break;
        case CMD$2.R:
          a = i = n[c++], u = o = n[c++];
          var w = n[c++], S = n[c++];
          fromLine(a, u, a + w, u + S, min2, max2);
          break;
        case CMD$2.Z:
          i = a, o = u;
          break;
      }
      min$1(min, min, min2), max$1(max, max, max2);
    }
    return c === 0 && (min[0] = min[1] = max[0] = max[1] = 0), new BoundingRect$1(min[0], min[1], max[0] - min[0], max[1] - min[1]);
  }, r.prototype._calculateLength = function() {
    var n = this.data, i = this._len, o = this._ux, a = this._uy, u = 0, c = 0, f = 0, d = 0;
    this._pathSegLen || (this._pathSegLen = []);
    for (var p = this._pathSegLen, y = 0, v = 0, g = 0; g < i; ) {
      var _ = n[g++], b = g === 1;
      b && (u = n[g], c = n[g + 1], f = u, d = c);
      var A = -1;
      switch (_) {
        case CMD$2.M:
          u = f = n[g++], c = d = n[g++];
          break;
        case CMD$2.L: {
          var w = n[g++], S = n[g++], x = w - u, T = S - c;
          (mathAbs$1(x) > o || mathAbs$1(T) > a || g === i - 1) && (A = Math.sqrt(x * x + T * T), u = w, c = S);
          break;
        }
        case CMD$2.C: {
          var L = n[g++], k = n[g++], w = n[g++], S = n[g++], M = n[g++], O = n[g++];
          A = cubicLength(u, c, L, k, w, S, M, O, 10), u = M, c = O;
          break;
        }
        case CMD$2.Q: {
          var L = n[g++], k = n[g++], w = n[g++], S = n[g++];
          A = quadraticLength(u, c, L, k, w, S, 10), u = w, c = S;
          break;
        }
        case CMD$2.A:
          var ie = n[g++], F = n[g++], re = n[g++], D = n[g++], Y = n[g++], z = n[g++], pe = z + Y;
          g += 1, n[g++], b && (f = mathCos$3(Y) * re + ie, d = mathSin$3(Y) * D + F), A = mathMax$2(re, D) * mathMin$2(PI2$6, Math.abs(z)), u = mathCos$3(pe) * re + ie, c = mathSin$3(pe) * D + F;
          break;
        case CMD$2.R: {
          f = u = n[g++], d = c = n[g++];
          var ue = n[g++], Ce = n[g++];
          A = ue * 2 + Ce * 2;
          break;
        }
        case CMD$2.Z: {
          var x = f - u, T = d - c;
          A = Math.sqrt(x * x + T * T), u = f, c = d;
          break;
        }
      }
      A >= 0 && (p[v++] = A, y += A);
    }
    return this._pathLen = y, y;
  }, r.prototype.rebuildPath = function(n, i) {
    var o = this.data, a = this._ux, u = this._uy, c = this._len, f, d, p, y, v, g, _ = i < 1, b, A, w = 0, S = 0, x, T = 0, L, k;
    if (!(_ && (this._pathSegLen || this._calculateLength(), b = this._pathSegLen, A = this._pathLen, x = i * A, !x)))
      e:
        for (var M = 0; M < c; ) {
          var O = o[M++], ie = M === 1;
          switch (ie && (p = o[M], y = o[M + 1], f = p, d = y), O !== CMD$2.L && T > 0 && (n.lineTo(L, k), T = 0), O) {
            case CMD$2.M:
              f = p = o[M++], d = y = o[M++], n.moveTo(p, y);
              break;
            case CMD$2.L: {
              v = o[M++], g = o[M++];
              var F = mathAbs$1(v - p), re = mathAbs$1(g - y);
              if (F > a || re > u) {
                if (_) {
                  var D = b[S++];
                  if (w + D > x) {
                    var Y = (x - w) / D;
                    n.lineTo(p * (1 - Y) + v * Y, y * (1 - Y) + g * Y);
                    break e;
                  }
                  w += D;
                }
                n.lineTo(v, g), p = v, y = g, T = 0;
              } else {
                var z = F * F + re * re;
                z > T && (L = v, k = g, T = z);
              }
              break;
            }
            case CMD$2.C: {
              var pe = o[M++], ue = o[M++], Ce = o[M++], Fe = o[M++], Ie = o[M++], Pt = o[M++];
              if (_) {
                var D = b[S++];
                if (w + D > x) {
                  var Y = (x - w) / D;
                  cubicSubdivide(p, pe, Ce, Ie, Y, tmpOutX), cubicSubdivide(y, ue, Fe, Pt, Y, tmpOutY), n.bezierCurveTo(tmpOutX[1], tmpOutY[1], tmpOutX[2], tmpOutY[2], tmpOutX[3], tmpOutY[3]);
                  break e;
                }
                w += D;
              }
              n.bezierCurveTo(pe, ue, Ce, Fe, Ie, Pt), p = Ie, y = Pt;
              break;
            }
            case CMD$2.Q: {
              var pe = o[M++], ue = o[M++], Ce = o[M++], Fe = o[M++];
              if (_) {
                var D = b[S++];
                if (w + D > x) {
                  var Y = (x - w) / D;
                  quadraticSubdivide(p, pe, Ce, Y, tmpOutX), quadraticSubdivide(y, ue, Fe, Y, tmpOutY), n.quadraticCurveTo(tmpOutX[1], tmpOutY[1], tmpOutX[2], tmpOutY[2]);
                  break e;
                }
                w += D;
              }
              n.quadraticCurveTo(pe, ue, Ce, Fe), p = Ce, y = Fe;
              break;
            }
            case CMD$2.A:
              var xe = o[M++], Lt = o[M++], _n = o[M++], In = o[M++], jt = o[M++], he = o[M++], At = o[M++], kt = !o[M++], Cn = _n > In ? _n : In, ze = mathAbs$1(_n - In) > 1e-3, _e = jt + he, de = !1;
              if (_) {
                var D = b[S++];
                w + D > x && (_e = jt + he * (x - w) / D, de = !0), w += D;
              }
              if (ze && n.ellipse ? n.ellipse(xe, Lt, _n, In, At, jt, _e, kt) : n.arc(xe, Lt, Cn, jt, _e, kt), de)
                break e;
              ie && (f = mathCos$3(jt) * _n + xe, d = mathSin$3(jt) * In + Lt), p = mathCos$3(_e) * _n + xe, y = mathSin$3(_e) * In + Lt;
              break;
            case CMD$2.R:
              f = p = o[M], d = y = o[M + 1], v = o[M++], g = o[M++];
              var Et = o[M++], Oe = o[M++];
              if (_) {
                var D = b[S++];
                if (w + D > x) {
                  var Ve = x - w;
                  n.moveTo(v, g), n.lineTo(v + mathMin$2(Ve, Et), g), Ve -= Et, Ve > 0 && n.lineTo(v + Et, g + mathMin$2(Ve, Oe)), Ve -= Oe, Ve > 0 && n.lineTo(v + mathMax$2(Et - Ve, 0), g + Oe), Ve -= Et, Ve > 0 && n.lineTo(v, g + mathMax$2(Oe - Ve, 0));
                  break e;
                }
                w += D;
              }
              n.rect(v, g, Et, Oe);
              break;
            case CMD$2.Z:
              if (_) {
                var D = b[S++];
                if (w + D > x) {
                  var Y = (x - w) / D;
                  n.lineTo(p * (1 - Y) + f * Y, y * (1 - Y) + d * Y);
                  break e;
                }
                w += D;
              }
              n.closePath(), p = f, y = d;
          }
        }
  }, r.prototype.clone = function() {
    var n = new r(), i = this.data;
    return n.data = i.slice ? i.slice() : Array.prototype.slice.call(i), n._len = this._len, n;
  }, r.CMD = CMD$2, r.initDefaultProps = function() {
    var n = r.prototype;
    n._saveData = !0, n._ux = 0, n._uy = 0, n._pendingPtDist = 0, n._version = 0;
  }(), r;
}();
const PathProxy$1 = PathProxy;
function containStroke$4(r, n, i, o, a, u, c) {
  if (a === 0)
    return !1;
  var f = a, d = 0, p = r;
  if (c > n + f && c > o + f || c < n - f && c < o - f || u > r + f && u > i + f || u < r - f && u < i - f)
    return !1;
  if (r !== i)
    d = (n - o) / (r - i), p = (r * o - i * n) / (r - i);
  else
    return Math.abs(u - r) <= f / 2;
  var y = d * u - c + p, v = y * y / (d * d + 1);
  return v <= f / 2 * f / 2;
}
function containStroke$3(r, n, i, o, a, u, c, f, d, p, y) {
  if (d === 0)
    return !1;
  var v = d;
  if (y > n + v && y > o + v && y > u + v && y > f + v || y < n - v && y < o - v && y < u - v && y < f - v || p > r + v && p > i + v && p > a + v && p > c + v || p < r - v && p < i - v && p < a - v && p < c - v)
    return !1;
  var g = cubicProjectPoint(r, n, i, o, a, u, c, f, p, y, null);
  return g <= v / 2;
}
function containStroke$2(r, n, i, o, a, u, c, f, d) {
  if (c === 0)
    return !1;
  var p = c;
  if (d > n + p && d > o + p && d > u + p || d < n - p && d < o - p && d < u - p || f > r + p && f > i + p && f > a + p || f < r - p && f < i - p && f < a - p)
    return !1;
  var y = quadraticProjectPoint(r, n, i, o, a, u, f, d, null);
  return y <= p / 2;
}
var PI2$5 = Math.PI * 2;
function normalizeRadian(r) {
  return r %= PI2$5, r < 0 && (r += PI2$5), r;
}
var PI2$4 = Math.PI * 2;
function containStroke$1(r, n, i, o, a, u, c, f, d) {
  if (c === 0)
    return !1;
  var p = c;
  f -= r, d -= n;
  var y = Math.sqrt(f * f + d * d);
  if (y - p > i || y + p < i)
    return !1;
  if (Math.abs(o - a) % PI2$4 < 1e-4)
    return !0;
  if (u) {
    var v = o;
    o = normalizeRadian(a), a = normalizeRadian(v);
  } else
    o = normalizeRadian(o), a = normalizeRadian(a);
  o > a && (a += PI2$4);
  var g = Math.atan2(d, f);
  return g < 0 && (g += PI2$4), g >= o && g <= a || g + PI2$4 >= o && g + PI2$4 <= a;
}
function windingLine(r, n, i, o, a, u) {
  if (u > n && u > o || u < n && u < o || o === n)
    return 0;
  var c = (u - n) / (o - n), f = o < n ? 1 : -1;
  (c === 1 || c === 0) && (f = o < n ? 0.5 : -0.5);
  var d = c * (i - r) + r;
  return d === a ? 1 / 0 : d > a ? f : 0;
}
var CMD$1 = PathProxy$1.CMD, PI2$3 = Math.PI * 2, EPSILON = 1e-4;
function isAroundEqual(r, n) {
  return Math.abs(r - n) < EPSILON;
}
var roots = [-1, -1, -1], extrema = [-1, -1];
function swapExtrema() {
  var r = extrema[0];
  extrema[0] = extrema[1], extrema[1] = r;
}
function windingCubic(r, n, i, o, a, u, c, f, d, p) {
  if (p > n && p > o && p > u && p > f || p < n && p < o && p < u && p < f)
    return 0;
  var y = cubicRootAt(n, o, u, f, p, roots);
  if (y === 0)
    return 0;
  for (var v = 0, g = -1, _ = void 0, b = void 0, A = 0; A < y; A++) {
    var w = roots[A], S = w === 0 || w === 1 ? 0.5 : 1, x = cubicAt(r, i, a, c, w);
    x < d || (g < 0 && (g = cubicExtrema(n, o, u, f, extrema), extrema[1] < extrema[0] && g > 1 && swapExtrema(), _ = cubicAt(n, o, u, f, extrema[0]), g > 1 && (b = cubicAt(n, o, u, f, extrema[1]))), g === 2 ? w < extrema[0] ? v += _ < n ? S : -S : w < extrema[1] ? v += b < _ ? S : -S : v += f < b ? S : -S : w < extrema[0] ? v += _ < n ? S : -S : v += f < _ ? S : -S);
  }
  return v;
}
function windingQuadratic(r, n, i, o, a, u, c, f) {
  if (f > n && f > o && f > u || f < n && f < o && f < u)
    return 0;
  var d = quadraticRootAt(n, o, u, f, roots);
  if (d === 0)
    return 0;
  var p = quadraticExtremum(n, o, u);
  if (p >= 0 && p <= 1) {
    for (var y = 0, v = quadraticAt(n, o, u, p), g = 0; g < d; g++) {
      var _ = roots[g] === 0 || roots[g] === 1 ? 0.5 : 1, b = quadraticAt(r, i, a, roots[g]);
      b < c || (roots[g] < p ? y += v < n ? _ : -_ : y += u < v ? _ : -_);
    }
    return y;
  } else {
    var _ = roots[0] === 0 || roots[0] === 1 ? 0.5 : 1, b = quadraticAt(r, i, a, roots[0]);
    return b < c ? 0 : u < n ? _ : -_;
  }
}
function windingArc(r, n, i, o, a, u, c, f) {
  if (f -= n, f > i || f < -i)
    return 0;
  var d = Math.sqrt(i * i - f * f);
  roots[0] = -d, roots[1] = d;
  var p = Math.abs(o - a);
  if (p < 1e-4)
    return 0;
  if (p >= PI2$3 - 1e-4) {
    o = 0, a = PI2$3;
    var y = u ? 1 : -1;
    return c >= roots[0] + r && c <= roots[1] + r ? y : 0;
  }
  if (o > a) {
    var v = o;
    o = a, a = v;
  }
  o < 0 && (o += PI2$3, a += PI2$3);
  for (var g = 0, _ = 0; _ < 2; _++) {
    var b = roots[_];
    if (b + r > c) {
      var A = Math.atan2(f, b), y = u ? 1 : -1;
      A < 0 && (A = PI2$3 + A), (A >= o && A <= a || A + PI2$3 >= o && A + PI2$3 <= a) && (A > Math.PI / 2 && A < Math.PI * 1.5 && (y = -y), g += y);
    }
  }
  return g;
}
function containPath(r, n, i, o, a) {
  for (var u = r.data, c = r.len(), f = 0, d = 0, p = 0, y = 0, v = 0, g, _, b = 0; b < c; ) {
    var A = u[b++], w = b === 1;
    switch (A === CMD$1.M && b > 1 && (i || (f += windingLine(d, p, y, v, o, a))), w && (d = u[b], p = u[b + 1], y = d, v = p), A) {
      case CMD$1.M:
        y = u[b++], v = u[b++], d = y, p = v;
        break;
      case CMD$1.L:
        if (i) {
          if (containStroke$4(d, p, u[b], u[b + 1], n, o, a))
            return !0;
        } else
          f += windingLine(d, p, u[b], u[b + 1], o, a) || 0;
        d = u[b++], p = u[b++];
        break;
      case CMD$1.C:
        if (i) {
          if (containStroke$3(d, p, u[b++], u[b++], u[b++], u[b++], u[b], u[b + 1], n, o, a))
            return !0;
        } else
          f += windingCubic(d, p, u[b++], u[b++], u[b++], u[b++], u[b], u[b + 1], o, a) || 0;
        d = u[b++], p = u[b++];
        break;
      case CMD$1.Q:
        if (i) {
          if (containStroke$2(d, p, u[b++], u[b++], u[b], u[b + 1], n, o, a))
            return !0;
        } else
          f += windingQuadratic(d, p, u[b++], u[b++], u[b], u[b + 1], o, a) || 0;
        d = u[b++], p = u[b++];
        break;
      case CMD$1.A:
        var S = u[b++], x = u[b++], T = u[b++], L = u[b++], k = u[b++], M = u[b++];
        b += 1;
        var O = !!(1 - u[b++]);
        g = Math.cos(k) * T + S, _ = Math.sin(k) * L + x, w ? (y = g, v = _) : f += windingLine(d, p, g, _, o, a);
        var ie = (o - S) * L / T + S;
        if (i) {
          if (containStroke$1(S, x, L, k, k + M, O, n, ie, a))
            return !0;
        } else
          f += windingArc(S, x, L, k, k + M, O, ie, a);
        d = Math.cos(k + M) * T + S, p = Math.sin(k + M) * L + x;
        break;
      case CMD$1.R:
        y = d = u[b++], v = p = u[b++];
        var F = u[b++], re = u[b++];
        if (g = y + F, _ = v + re, i) {
          if (containStroke$4(y, v, g, v, n, o, a) || containStroke$4(g, v, g, _, n, o, a) || containStroke$4(g, _, y, _, n, o, a) || containStroke$4(y, _, y, v, n, o, a))
            return !0;
        } else
          f += windingLine(g, v, g, _, o, a), f += windingLine(y, _, y, v, o, a);
        break;
      case CMD$1.Z:
        if (i) {
          if (containStroke$4(d, p, y, v, n, o, a))
            return !0;
        } else
          f += windingLine(d, p, y, v, o, a);
        d = y, p = v;
        break;
    }
  }
  return !i && !isAroundEqual(p, v) && (f += windingLine(d, p, y, v, o, a) || 0), f !== 0;
}
function contain(r, n, i) {
  return containPath(r, 0, !1, n, i);
}
function containStroke(r, n, i, o) {
  return containPath(r, n, !0, i, o);
}
var DEFAULT_PATH_STYLE = defaults({
  fill: "#000",
  stroke: null,
  strokePercent: 1,
  fillOpacity: 1,
  strokeOpacity: 1,
  lineDashOffset: 0,
  lineWidth: 1,
  lineCap: "butt",
  miterLimit: 10,
  strokeNoScale: !1,
  strokeFirst: !1
}, DEFAULT_COMMON_STYLE), DEFAULT_PATH_ANIMATION_PROPS = {
  style: defaults({
    fill: !0,
    stroke: !0,
    strokePercent: !0,
    fillOpacity: !0,
    strokeOpacity: !0,
    lineDashOffset: !0,
    lineWidth: !0,
    miterLimit: !0
  }, DEFAULT_COMMON_ANIMATION_PROPS.style)
}, pathCopyParams = TRANSFORMABLE_PROPS.concat([
  "invisible",
  "culling",
  "z",
  "z2",
  "zlevel",
  "parent"
]), Path = function(r) {
  __extends(n, r);
  function n(i) {
    return r.call(this, i) || this;
  }
  return n.prototype.update = function() {
    var i = this;
    r.prototype.update.call(this);
    var o = this.style;
    if (o.decal) {
      var a = this._decalEl = this._decalEl || new n();
      a.buildPath === n.prototype.buildPath && (a.buildPath = function(d) {
        i.buildPath(d, i.shape);
      }), a.silent = !0;
      var u = a.style;
      for (var c in o)
        u[c] !== o[c] && (u[c] = o[c]);
      u.fill = o.fill ? o.decal : null, u.decal = null, u.shadowColor = null, o.strokeFirst && (u.stroke = null);
      for (var f = 0; f < pathCopyParams.length; ++f)
        a[pathCopyParams[f]] = this[pathCopyParams[f]];
      a.__dirty |= REDRAW_BIT;
    } else
      this._decalEl && (this._decalEl = null);
  }, n.prototype.getDecalElement = function() {
    return this._decalEl;
  }, n.prototype._init = function(i) {
    var o = keys(i);
    this.shape = this.getDefaultShape();
    var a = this.getDefaultStyle();
    a && this.useStyle(a);
    for (var u = 0; u < o.length; u++) {
      var c = o[u], f = i[c];
      c === "style" ? this.style ? extend(this.style, f) : this.useStyle(f) : c === "shape" ? extend(this.shape, f) : r.prototype.attrKV.call(this, c, f);
    }
    this.style || this.useStyle({});
  }, n.prototype.getDefaultStyle = function() {
    return null;
  }, n.prototype.getDefaultShape = function() {
    return {};
  }, n.prototype.canBeInsideText = function() {
    return this.hasFill();
  }, n.prototype.getInsideTextFill = function() {
    var i = this.style.fill;
    if (i !== "none") {
      if (isString$2(i)) {
        var o = lum(i, 0);
        return o > 0.5 ? DARK_LABEL_COLOR : o > 0.2 ? LIGHTER_LABEL_COLOR : LIGHT_LABEL_COLOR;
      } else if (i)
        return LIGHT_LABEL_COLOR;
    }
    return DARK_LABEL_COLOR;
  }, n.prototype.getInsideTextStroke = function(i) {
    var o = this.style.fill;
    if (isString$2(o)) {
      var a = this.__zr, u = !!(a && a.isDarkMode()), c = lum(i, 0) < DARK_MODE_THRESHOLD;
      if (u === c)
        return o;
    }
  }, n.prototype.buildPath = function(i, o, a) {
  }, n.prototype.pathUpdated = function() {
    this.__dirty &= ~SHAPE_CHANGED_BIT;
  }, n.prototype.getUpdatedPathProxy = function(i) {
    return !this.path && this.createPathProxy(), this.path.beginPath(), this.buildPath(this.path, this.shape, i), this.path;
  }, n.prototype.createPathProxy = function() {
    this.path = new PathProxy$1(!1);
  }, n.prototype.hasStroke = function() {
    var i = this.style, o = i.stroke;
    return !(o == null || o === "none" || !(i.lineWidth > 0));
  }, n.prototype.hasFill = function() {
    var i = this.style, o = i.fill;
    return o != null && o !== "none";
  }, n.prototype.getBoundingRect = function() {
    var i = this._rect, o = this.style, a = !i;
    if (a) {
      var u = !1;
      this.path || (u = !0, this.createPathProxy());
      var c = this.path;
      (u || this.__dirty & SHAPE_CHANGED_BIT) && (c.beginPath(), this.buildPath(c, this.shape, !1), this.pathUpdated()), i = c.getBoundingRect();
    }
    if (this._rect = i, this.hasStroke() && this.path && this.path.len() > 0) {
      var f = this._rectStroke || (this._rectStroke = i.clone());
      if (this.__dirty || a) {
        f.copy(i);
        var d = o.strokeNoScale ? this.getLineScale() : 1, p = o.lineWidth;
        if (!this.hasFill()) {
          var y = this.strokeContainThreshold;
          p = Math.max(p, y ?? 4);
        }
        d > 1e-10 && (f.width += p / d, f.height += p / d, f.x -= p / d / 2, f.y -= p / d / 2);
      }
      return f;
    }
    return i;
  }, n.prototype.contain = function(i, o) {
    var a = this.transformCoordToLocal(i, o), u = this.getBoundingRect(), c = this.style;
    if (i = a[0], o = a[1], u.contain(i, o)) {
      var f = this.path;
      if (this.hasStroke()) {
        var d = c.lineWidth, p = c.strokeNoScale ? this.getLineScale() : 1;
        if (p > 1e-10 && (this.hasFill() || (d = Math.max(d, this.strokeContainThreshold)), containStroke(f, d / p, i, o)))
          return !0;
      }
      if (this.hasFill())
        return contain(f, i, o);
    }
    return !1;
  }, n.prototype.dirtyShape = function() {
    this.__dirty |= SHAPE_CHANGED_BIT, this._rect && (this._rect = null), this._decalEl && this._decalEl.dirtyShape(), this.markRedraw();
  }, n.prototype.dirty = function() {
    this.dirtyStyle(), this.dirtyShape();
  }, n.prototype.animateShape = function(i) {
    return this.animate("shape", i);
  }, n.prototype.updateDuringAnimation = function(i) {
    i === "style" ? this.dirtyStyle() : i === "shape" ? this.dirtyShape() : this.markRedraw();
  }, n.prototype.attrKV = function(i, o) {
    i === "shape" ? this.setShape(o) : r.prototype.attrKV.call(this, i, o);
  }, n.prototype.setShape = function(i, o) {
    var a = this.shape;
    return a || (a = this.shape = {}), typeof i == "string" ? a[i] = o : extend(a, i), this.dirtyShape(), this;
  }, n.prototype.shapeChanged = function() {
    return !!(this.__dirty & SHAPE_CHANGED_BIT);
  }, n.prototype.createStyle = function(i) {
    return createObject(DEFAULT_PATH_STYLE, i);
  }, n.prototype._innerSaveToNormal = function(i) {
    r.prototype._innerSaveToNormal.call(this, i);
    var o = this._normalState;
    i.shape && !o.shape && (o.shape = extend({}, this.shape));
  }, n.prototype._applyStateObj = function(i, o, a, u, c, f) {
    r.prototype._applyStateObj.call(this, i, o, a, u, c, f);
    var d = !(o && u), p;
    if (o && o.shape ? c ? u ? p = o.shape : (p = extend({}, a.shape), extend(p, o.shape)) : (p = extend({}, u ? this.shape : a.shape), extend(p, o.shape)) : d && (p = a.shape), p)
      if (c) {
        this.shape = extend({}, this.shape);
        for (var y = {}, v = keys(p), g = 0; g < v.length; g++) {
          var _ = v[g];
          typeof p[_] == "object" ? this.shape[_] = p[_] : y[_] = p[_];
        }
        this._transitionState(i, {
          shape: y
        }, f);
      } else
        this.shape = p, this.dirtyShape();
  }, n.prototype._mergeStates = function(i) {
    for (var o = r.prototype._mergeStates.call(this, i), a, u = 0; u < i.length; u++) {
      var c = i[u];
      c.shape && (a = a || {}, this._mergeStyle(a, c.shape));
    }
    return a && (o.shape = a), o;
  }, n.prototype.getAnimationStyleProps = function() {
    return DEFAULT_PATH_ANIMATION_PROPS;
  }, n.prototype.isZeroArea = function() {
    return !1;
  }, n.extend = function(i) {
    var o = function(u) {
      __extends(c, u);
      function c(f) {
        var d = u.call(this, f) || this;
        return i.init && i.init.call(d, f), d;
      }
      return c.prototype.getDefaultStyle = function() {
        return clone$2(i.style);
      }, c.prototype.getDefaultShape = function() {
        return clone$2(i.shape);
      }, c;
    }(n);
    for (var a in i)
      typeof i[a] == "function" && (o.prototype[a] = i[a]);
    return o;
  }, n.initDefaultProps = function() {
    var i = n.prototype;
    i.type = "path", i.strokeContainThreshold = 5, i.segmentIgnoreThreshold = 0, i.subPixelOptimize = !1, i.autoBatch = !1, i.__dirty = REDRAW_BIT | STYLE_CHANGED_BIT | SHAPE_CHANGED_BIT;
  }(), n;
}(Displayable$1);
const Path$1 = Path;
var DEFAULT_TSPAN_STYLE = defaults({
  strokeFirst: !0,
  font: DEFAULT_FONT,
  x: 0,
  y: 0,
  textAlign: "left",
  textBaseline: "top",
  miterLimit: 2
}, DEFAULT_PATH_STYLE), TSpan = function(r) {
  __extends(n, r);
  function n() {
    return r !== null && r.apply(this, arguments) || this;
  }
  return n.prototype.hasStroke = function() {
    var i = this.style, o = i.stroke;
    return o != null && o !== "none" && i.lineWidth > 0;
  }, n.prototype.hasFill = function() {
    var i = this.style, o = i.fill;
    return o != null && o !== "none";
  }, n.prototype.createStyle = function(i) {
    return createObject(DEFAULT_TSPAN_STYLE, i);
  }, n.prototype.setBoundingRect = function(i) {
    this._rect = i;
  }, n.prototype.getBoundingRect = function() {
    var i = this.style;
    if (!this._rect) {
      var o = i.text;
      o != null ? o += "" : o = "";
      var a = getBoundingRect(o, i.font, i.textAlign, i.textBaseline);
      if (a.x += i.x || 0, a.y += i.y || 0, this.hasStroke()) {
        var u = i.lineWidth;
        a.x -= u / 2, a.y -= u / 2, a.width += u, a.height += u;
      }
      this._rect = a;
    }
    return this._rect;
  }, n.initDefaultProps = function() {
    var i = n.prototype;
    i.dirtyRectTolerance = 10;
  }(), n;
}(Displayable$1);
TSpan.prototype.type = "tspan";
const TSpan$1 = TSpan;
var DEFAULT_IMAGE_STYLE = defaults({
  x: 0,
  y: 0
}, DEFAULT_COMMON_STYLE), DEFAULT_IMAGE_ANIMATION_PROPS = {
  style: defaults({
    x: !0,
    y: !0,
    width: !0,
    height: !0,
    sx: !0,
    sy: !0,
    sWidth: !0,
    sHeight: !0
  }, DEFAULT_COMMON_ANIMATION_PROPS.style)
};
function isImageLike$1(r) {
  return !!(r && typeof r != "string" && r.width && r.height);
}
var ZRImage = function(r) {
  __extends(n, r);
  function n() {
    return r !== null && r.apply(this, arguments) || this;
  }
  return n.prototype.createStyle = function(i) {
    return createObject(DEFAULT_IMAGE_STYLE, i);
  }, n.prototype._getSize = function(i) {
    var o = this.style, a = o[i];
    if (a != null)
      return a;
    var u = isImageLike$1(o.image) ? o.image : this.__image;
    if (!u)
      return 0;
    var c = i === "width" ? "height" : "width", f = o[c];
    return f == null ? u[i] : u[i] / u[c] * f;
  }, n.prototype.getWidth = function() {
    return this._getSize("width");
  }, n.prototype.getHeight = function() {
    return this._getSize("height");
  }, n.prototype.getAnimationStyleProps = function() {
    return DEFAULT_IMAGE_ANIMATION_PROPS;
  }, n.prototype.getBoundingRect = function() {
    var i = this.style;
    return this._rect || (this._rect = new BoundingRect$1(i.x || 0, i.y || 0, this.getWidth(), this.getHeight())), this._rect;
  }, n;
}(Displayable$1);
ZRImage.prototype.type = "image";
const ZRImage$1 = ZRImage;
function buildPath$2(r, n) {
  var i = n.x, o = n.y, a = n.width, u = n.height, c = n.r, f, d, p, y;
  a < 0 && (i = i + a, a = -a), u < 0 && (o = o + u, u = -u), typeof c == "number" ? f = d = p = y = c : c instanceof Array ? c.length === 1 ? f = d = p = y = c[0] : c.length === 2 ? (f = p = c[0], d = y = c[1]) : c.length === 3 ? (f = c[0], d = y = c[1], p = c[2]) : (f = c[0], d = c[1], p = c[2], y = c[3]) : f = d = p = y = 0;
  var v;
  f + d > a && (v = f + d, f *= a / v, d *= a / v), p + y > a && (v = p + y, p *= a / v, y *= a / v), d + p > u && (v = d + p, d *= u / v, p *= u / v), f + y > u && (v = f + y, f *= u / v, y *= u / v), r.moveTo(i + f, o), r.lineTo(i + a - d, o), d !== 0 && r.arc(i + a - d, o + d, d, -Math.PI / 2, 0), r.lineTo(i + a, o + u - p), p !== 0 && r.arc(i + a - p, o + u - p, p, 0, Math.PI / 2), r.lineTo(i + y, o + u), y !== 0 && r.arc(i + y, o + u - y, y, Math.PI / 2, Math.PI), r.lineTo(i, o + f), f !== 0 && r.arc(i + f, o + f, f, Math.PI, Math.PI * 1.5);
}
var round$1 = Math.round;
function subPixelOptimizeLine$1(r, n, i) {
  if (n) {
    var o = n.x1, a = n.x2, u = n.y1, c = n.y2;
    r.x1 = o, r.x2 = a, r.y1 = u, r.y2 = c;
    var f = i && i.lineWidth;
    return f && (round$1(o * 2) === round$1(a * 2) && (r.x1 = r.x2 = subPixelOptimize$1(o, f, !0)), round$1(u * 2) === round$1(c * 2) && (r.y1 = r.y2 = subPixelOptimize$1(u, f, !0))), r;
  }
}
function subPixelOptimizeRect$1(r, n, i) {
  if (n) {
    var o = n.x, a = n.y, u = n.width, c = n.height;
    r.x = o, r.y = a, r.width = u, r.height = c;
    var f = i && i.lineWidth;
    return f && (r.x = subPixelOptimize$1(o, f, !0), r.y = subPixelOptimize$1(a, f, !0), r.width = Math.max(subPixelOptimize$1(o + u, f, !1) - r.x, u === 0 ? 0 : 1), r.height = Math.max(subPixelOptimize$1(a + c, f, !1) - r.y, c === 0 ? 0 : 1)), r;
  }
}
function subPixelOptimize$1(r, n, i) {
  if (!n)
    return r;
  var o = round$1(r * 2);
  return (o + round$1(n)) % 2 === 0 ? o / 2 : (o + (i ? 1 : -1)) / 2;
}
var RectShape = function() {
  function r() {
    this.x = 0, this.y = 0, this.width = 0, this.height = 0;
  }
  return r;
}(), subPixelOptimizeOutputShape$1 = {}, Rect = function(r) {
  __extends(n, r);
  function n(i) {
    return r.call(this, i) || this;
  }
  return n.prototype.getDefaultShape = function() {
    return new RectShape();
  }, n.prototype.buildPath = function(i, o) {
    var a, u, c, f;
    if (this.subPixelOptimize) {
      var d = subPixelOptimizeRect$1(subPixelOptimizeOutputShape$1, o, this.style);
      a = d.x, u = d.y, c = d.width, f = d.height, d.r = o.r, o = d;
    } else
      a = o.x, u = o.y, c = o.width, f = o.height;
    o.r ? buildPath$2(i, o) : i.rect(a, u, c, f);
  }, n.prototype.isZeroArea = function() {
    return !this.shape.width || !this.shape.height;
  }, n;
}(Path$1);
Rect.prototype.type = "rect";
const Rect$1 = Rect;
var DEFAULT_RICH_TEXT_COLOR = {
  fill: "#000"
}, DEFAULT_STROKE_LINE_WIDTH = 2, DEFAULT_TEXT_ANIMATION_PROPS = {
  style: defaults({
    fill: !0,
    stroke: !0,
    fillOpacity: !0,
    strokeOpacity: !0,
    lineWidth: !0,
    fontSize: !0,
    lineHeight: !0,
    width: !0,
    height: !0,
    textShadowColor: !0,
    textShadowBlur: !0,
    textShadowOffsetX: !0,
    textShadowOffsetY: !0,
    backgroundColor: !0,
    padding: !0,
    borderColor: !0,
    borderWidth: !0,
    borderRadius: !0
  }, DEFAULT_COMMON_ANIMATION_PROPS.style)
}, ZRText = function(r) {
  __extends(n, r);
  function n(i) {
    var o = r.call(this) || this;
    return o.type = "text", o._children = [], o._defaultStyle = DEFAULT_RICH_TEXT_COLOR, o.attr(i), o;
  }
  return n.prototype.childrenRef = function() {
    return this._children;
  }, n.prototype.update = function() {
    r.prototype.update.call(this), this.styleChanged() && this._updateSubTexts();
    for (var i = 0; i < this._children.length; i++) {
      var o = this._children[i];
      o.zlevel = this.zlevel, o.z = this.z, o.z2 = this.z2, o.culling = this.culling, o.cursor = this.cursor, o.invisible = this.invisible;
    }
  }, n.prototype.updateTransform = function() {
    var i = this.innerTransformable;
    i ? (i.updateTransform(), i.transform && (this.transform = i.transform)) : r.prototype.updateTransform.call(this);
  }, n.prototype.getLocalTransform = function(i) {
    var o = this.innerTransformable;
    return o ? o.getLocalTransform(i) : r.prototype.getLocalTransform.call(this, i);
  }, n.prototype.getComputedTransform = function() {
    return this.__hostTarget && (this.__hostTarget.getComputedTransform(), this.__hostTarget.updateInnerText(!0)), r.prototype.getComputedTransform.call(this);
  }, n.prototype._updateSubTexts = function() {
    this._childCursor = 0, normalizeTextStyle(this.style), this.style.rich ? this._updateRichTexts() : this._updatePlainTexts(), this._children.length = this._childCursor, this.styleUpdated();
  }, n.prototype.addSelfToZr = function(i) {
    r.prototype.addSelfToZr.call(this, i);
    for (var o = 0; o < this._children.length; o++)
      this._children[o].__zr = i;
  }, n.prototype.removeSelfFromZr = function(i) {
    r.prototype.removeSelfFromZr.call(this, i);
    for (var o = 0; o < this._children.length; o++)
      this._children[o].__zr = null;
  }, n.prototype.getBoundingRect = function() {
    if (this.styleChanged() && this._updateSubTexts(), !this._rect) {
      for (var i = new BoundingRect$1(0, 0, 0, 0), o = this._children, a = [], u = null, c = 0; c < o.length; c++) {
        var f = o[c], d = f.getBoundingRect(), p = f.getLocalTransform(a);
        p ? (i.copy(d), i.applyTransform(p), u = u || i.clone(), u.union(i)) : (u = u || d.clone(), u.union(d));
      }
      this._rect = u || i;
    }
    return this._rect;
  }, n.prototype.setDefaultTextStyle = function(i) {
    this._defaultStyle = i || DEFAULT_RICH_TEXT_COLOR;
  }, n.prototype.setTextContent = function(i) {
    if (process.env.NODE_ENV !== "production")
      throw new Error("Can't attach text on another text");
  }, n.prototype._mergeStyle = function(i, o) {
    if (!o)
      return i;
    var a = o.rich, u = i.rich || a && {};
    return extend(i, o), a && u ? (this._mergeRich(u, a), i.rich = u) : u && (i.rich = u), i;
  }, n.prototype._mergeRich = function(i, o) {
    for (var a = keys(o), u = 0; u < a.length; u++) {
      var c = a[u];
      i[c] = i[c] || {}, extend(i[c], o[c]);
    }
  }, n.prototype.getAnimationStyleProps = function() {
    return DEFAULT_TEXT_ANIMATION_PROPS;
  }, n.prototype._getOrCreateChild = function(i) {
    var o = this._children[this._childCursor];
    return (!o || !(o instanceof i)) && (o = new i()), this._children[this._childCursor++] = o, o.__zr = this.__zr, o.parent = this, o;
  }, n.prototype._updatePlainTexts = function() {
    var i = this.style, o = i.font || DEFAULT_FONT, a = i.padding, u = getStyleText(i), c = parsePlainText(u, i), f = needDrawBackground(i), d = !!i.backgroundColor, p = c.outerHeight, y = c.outerWidth, v = c.contentWidth, g = c.lines, _ = c.lineHeight, b = this._defaultStyle, A = i.x || 0, w = i.y || 0, S = i.align || b.align || "left", x = i.verticalAlign || b.verticalAlign || "top", T = A, L = adjustTextY(w, c.contentHeight, x);
    if (f || a) {
      var k = adjustTextX(A, y, S), M = adjustTextY(w, p, x);
      f && this._renderBackground(i, i, k, M, y, p);
    }
    L += _ / 2, a && (T = getTextXForPadding(A, S, a), x === "top" ? L += a[0] : x === "bottom" && (L -= a[2]));
    for (var O = 0, ie = !1, F = getFill("fill" in i ? i.fill : (ie = !0, b.fill)), re = getStroke("stroke" in i ? i.stroke : !d && (!b.autoStroke || ie) ? (O = DEFAULT_STROKE_LINE_WIDTH, b.stroke) : null), D = i.textShadowBlur > 0, Y = i.width != null && (i.overflow === "truncate" || i.overflow === "break" || i.overflow === "breakAll"), z = c.calculatedLineHeight, pe = 0; pe < g.length; pe++) {
      var ue = this._getOrCreateChild(TSpan$1), Ce = ue.createStyle();
      ue.useStyle(Ce), Ce.text = g[pe], Ce.x = T, Ce.y = L, S && (Ce.textAlign = S), Ce.textBaseline = "middle", Ce.opacity = i.opacity, Ce.strokeFirst = !0, D && (Ce.shadowBlur = i.textShadowBlur || 0, Ce.shadowColor = i.textShadowColor || "transparent", Ce.shadowOffsetX = i.textShadowOffsetX || 0, Ce.shadowOffsetY = i.textShadowOffsetY || 0), Ce.stroke = re, Ce.fill = F, re && (Ce.lineWidth = i.lineWidth || O, Ce.lineDash = i.lineDash, Ce.lineDashOffset = i.lineDashOffset || 0), Ce.font = o, setSeparateFont(Ce, i), L += _, Y && ue.setBoundingRect(new BoundingRect$1(adjustTextX(Ce.x, i.width, Ce.textAlign), adjustTextY(Ce.y, z, Ce.textBaseline), v, z));
    }
  }, n.prototype._updateRichTexts = function() {
    var i = this.style, o = getStyleText(i), a = parseRichText(o, i), u = a.width, c = a.outerWidth, f = a.outerHeight, d = i.padding, p = i.x || 0, y = i.y || 0, v = this._defaultStyle, g = i.align || v.align, _ = i.verticalAlign || v.verticalAlign, b = adjustTextX(p, c, g), A = adjustTextY(y, f, _), w = b, S = A;
    d && (w += d[3], S += d[0]);
    var x = w + u;
    needDrawBackground(i) && this._renderBackground(i, i, b, A, c, f);
    for (var T = !!i.backgroundColor, L = 0; L < a.lines.length; L++) {
      for (var k = a.lines[L], M = k.tokens, O = M.length, ie = k.lineHeight, F = k.width, re = 0, D = w, Y = x, z = O - 1, pe = void 0; re < O && (pe = M[re], !pe.align || pe.align === "left"); )
        this._placeToken(pe, i, ie, S, D, "left", T), F -= pe.width, D += pe.width, re++;
      for (; z >= 0 && (pe = M[z], pe.align === "right"); )
        this._placeToken(pe, i, ie, S, Y, "right", T), F -= pe.width, Y -= pe.width, z--;
      for (D += (u - (D - w) - (x - Y) - F) / 2; re <= z; )
        pe = M[re], this._placeToken(pe, i, ie, S, D + pe.width / 2, "center", T), D += pe.width, re++;
      S += ie;
    }
  }, n.prototype._placeToken = function(i, o, a, u, c, f, d) {
    var p = o.rich[i.styleName] || {};
    p.text = i.text;
    var y = i.verticalAlign, v = u + a / 2;
    y === "top" ? v = u + i.height / 2 : y === "bottom" && (v = u + a - i.height / 2);
    var g = !i.isLineHolder && needDrawBackground(p);
    g && this._renderBackground(p, o, f === "right" ? c - i.width : f === "center" ? c - i.width / 2 : c, v - i.height / 2, i.width, i.height);
    var _ = !!p.backgroundColor, b = i.textPadding;
    b && (c = getTextXForPadding(c, f, b), v -= i.height / 2 - b[0] - i.innerHeight / 2);
    var A = this._getOrCreateChild(TSpan$1), w = A.createStyle();
    A.useStyle(w);
    var S = this._defaultStyle, x = !1, T = 0, L = getFill("fill" in p ? p.fill : "fill" in o ? o.fill : (x = !0, S.fill)), k = getStroke("stroke" in p ? p.stroke : "stroke" in o ? o.stroke : !_ && !d && (!S.autoStroke || x) ? (T = DEFAULT_STROKE_LINE_WIDTH, S.stroke) : null), M = p.textShadowBlur > 0 || o.textShadowBlur > 0;
    w.text = i.text, w.x = c, w.y = v, M && (w.shadowBlur = p.textShadowBlur || o.textShadowBlur || 0, w.shadowColor = p.textShadowColor || o.textShadowColor || "transparent", w.shadowOffsetX = p.textShadowOffsetX || o.textShadowOffsetX || 0, w.shadowOffsetY = p.textShadowOffsetY || o.textShadowOffsetY || 0), w.textAlign = f, w.textBaseline = "middle", w.font = i.font || DEFAULT_FONT, w.opacity = retrieve3(p.opacity, o.opacity, 1), setSeparateFont(w, p), k && (w.lineWidth = retrieve3(p.lineWidth, o.lineWidth, T), w.lineDash = retrieve2(p.lineDash, o.lineDash), w.lineDashOffset = o.lineDashOffset || 0, w.stroke = k), L && (w.fill = L);
    var O = i.contentWidth, ie = i.contentHeight;
    A.setBoundingRect(new BoundingRect$1(adjustTextX(w.x, O, w.textAlign), adjustTextY(w.y, ie, w.textBaseline), O, ie));
  }, n.prototype._renderBackground = function(i, o, a, u, c, f) {
    var d = i.backgroundColor, p = i.borderWidth, y = i.borderColor, v = d && d.image, g = d && !v, _ = i.borderRadius, b = this, A, w;
    if (g || i.lineHeight || p && y) {
      A = this._getOrCreateChild(Rect$1), A.useStyle(A.createStyle()), A.style.fill = null;
      var S = A.shape;
      S.x = a, S.y = u, S.width = c, S.height = f, S.r = _, A.dirtyShape();
    }
    if (g) {
      var x = A.style;
      x.fill = d || null, x.fillOpacity = retrieve2(i.fillOpacity, 1);
    } else if (v) {
      w = this._getOrCreateChild(ZRImage$1), w.onload = function() {
        b.dirtyStyle();
      };
      var T = w.style;
      T.image = d.image, T.x = a, T.y = u, T.width = c, T.height = f;
    }
    if (p && y) {
      var x = A.style;
      x.lineWidth = p, x.stroke = y, x.strokeOpacity = retrieve2(i.strokeOpacity, 1), x.lineDash = i.borderDash, x.lineDashOffset = i.borderDashOffset || 0, A.strokeContainThreshold = 0, A.hasFill() && A.hasStroke() && (x.strokeFirst = !0, x.lineWidth *= 2);
    }
    var L = (A || w).style;
    L.shadowBlur = i.shadowBlur || 0, L.shadowColor = i.shadowColor || "transparent", L.shadowOffsetX = i.shadowOffsetX || 0, L.shadowOffsetY = i.shadowOffsetY || 0, L.opacity = retrieve3(i.opacity, o.opacity, 1);
  }, n.makeFont = function(i) {
    var o = "";
    return hasSeparateFont(i) && (o = [
      i.fontStyle,
      i.fontWeight,
      parseFontSize(i.fontSize),
      i.fontFamily || "sans-serif"
    ].join(" ")), o && trim(o) || i.textFont || i.font;
  }, n;
}(Displayable$1), VALID_TEXT_ALIGN = { left: !0, right: 1, center: 1 }, VALID_TEXT_VERTICAL_ALIGN = { top: 1, bottom: 1, middle: 1 }, FONT_PARTS = ["fontStyle", "fontWeight", "fontSize", "fontFamily"];
function parseFontSize(r) {
  return typeof r == "string" && (r.indexOf("px") !== -1 || r.indexOf("rem") !== -1 || r.indexOf("em") !== -1) ? r : isNaN(+r) ? DEFAULT_FONT_SIZE + "px" : r + "px";
}
function setSeparateFont(r, n) {
  for (var i = 0; i < FONT_PARTS.length; i++) {
    var o = FONT_PARTS[i], a = n[o];
    a != null && (r[o] = a);
  }
}
function hasSeparateFont(r) {
  return r.fontSize != null || r.fontFamily || r.fontWeight;
}
function normalizeTextStyle(r) {
  return normalizeStyle(r), each$4(r.rich, normalizeStyle), r;
}
function normalizeStyle(r) {
  if (r) {
    r.font = ZRText.makeFont(r);
    var n = r.align;
    n === "middle" && (n = "center"), r.align = n == null || VALID_TEXT_ALIGN[n] ? n : "left";
    var i = r.verticalAlign;
    i === "center" && (i = "middle"), r.verticalAlign = i == null || VALID_TEXT_VERTICAL_ALIGN[i] ? i : "top";
    var o = r.padding;
    o && (r.padding = normalizeCssArray$1(r.padding));
  }
}
function getStroke(r, n) {
  return r == null || n <= 0 || r === "transparent" || r === "none" ? null : r.image || r.colorStops ? "#000" : r;
}
function getFill(r) {
  return r == null || r === "none" ? null : r.image || r.colorStops ? "#000" : r;
}
function getTextXForPadding(r, n, i) {
  return n === "right" ? r - i[1] : n === "center" ? r + i[3] / 2 - i[1] / 2 : r + i[3];
}
function getStyleText(r) {
  var n = r.text;
  return n != null && (n += ""), n;
}
function needDrawBackground(r) {
  return !!(r.backgroundColor || r.lineHeight || r.borderWidth && r.borderColor);
}
const ZRText$1 = ZRText;
var getECData = makeInner(), setCommonECData = function(r, n, i, o) {
  if (o) {
    var a = getECData(o);
    a.dataIndex = i, a.dataType = n, a.seriesIndex = r, o.type === "group" && o.traverse(function(u) {
      var c = getECData(u);
      c.seriesIndex = r, c.dataIndex = i, c.dataType = n;
    });
  }
}, _highlightNextDigit = 1, _highlightKeyMap = {}, getSavedStates = makeInner(), getComponentStates = makeInner(), HOVER_STATE_NORMAL = 0, HOVER_STATE_BLUR = 1, HOVER_STATE_EMPHASIS = 2, SPECIAL_STATES = ["emphasis", "blur", "select"], DISPLAY_STATES = ["normal", "emphasis", "blur", "select"], Z2_EMPHASIS_LIFT = 10, Z2_SELECT_LIFT = 9, HIGHLIGHT_ACTION_TYPE = "highlight", DOWNPLAY_ACTION_TYPE = "downplay", SELECT_ACTION_TYPE = "select", UNSELECT_ACTION_TYPE = "unselect", TOGGLE_SELECT_ACTION_TYPE = "toggleSelect";
function hasFillOrStroke(r) {
  return r != null && r !== "none";
}
var liftedColorCache = new LRU$1(100);
function liftColor(r) {
  if (isString$2(r)) {
    var n = liftedColorCache.get(r);
    return n || (n = lift(r, -0.1), liftedColorCache.put(r, n)), n;
  } else if (isGradientObject(r)) {
    var i = extend({}, r);
    return i.colorStops = map$1(r.colorStops, function(o) {
      return {
        offset: o.offset,
        color: lift(o.color, -0.1)
      };
    }), i;
  }
  return r;
}
function doChangeHoverState(r, n, i) {
  r.onHoverStateChange && (r.hoverState || 0) !== i && r.onHoverStateChange(n), r.hoverState = i;
}
function singleEnterEmphasis(r) {
  doChangeHoverState(r, "emphasis", HOVER_STATE_EMPHASIS);
}
function singleLeaveEmphasis(r) {
  r.hoverState === HOVER_STATE_EMPHASIS && doChangeHoverState(r, "normal", HOVER_STATE_NORMAL);
}
function singleEnterBlur(r) {
  doChangeHoverState(r, "blur", HOVER_STATE_BLUR);
}
function singleLeaveBlur(r) {
  r.hoverState === HOVER_STATE_BLUR && doChangeHoverState(r, "normal", HOVER_STATE_NORMAL);
}
function singleEnterSelect(r) {
  r.selected = !0;
}
function singleLeaveSelect(r) {
  r.selected = !1;
}
function updateElementState(r, n, i) {
  n(r, i);
}
function traverseUpdateState(r, n, i) {
  updateElementState(r, n, i), r.isGroup && r.traverse(function(o) {
    updateElementState(o, n, i);
  });
}
function getFromStateStyle(r, n, i, o) {
  for (var a = r.style, u = {}, c = 0; c < n.length; c++) {
    var f = n[c], d = a[f];
    u[f] = d ?? (o && o[f]);
  }
  for (var c = 0; c < r.animators.length; c++) {
    var p = r.animators[c];
    p.__fromStateTransition && p.__fromStateTransition.indexOf(i) < 0 && p.targetName === "style" && p.saveTo(u, n);
  }
  return u;
}
function createEmphasisDefaultState(r, n, i, o) {
  var a = i && indexOf(i, "select") >= 0, u = !1;
  if (r instanceof Path$1) {
    var c = getSavedStates(r), f = a && c.selectFill || c.normalFill, d = a && c.selectStroke || c.normalStroke;
    if (hasFillOrStroke(f) || hasFillOrStroke(d)) {
      o = o || {};
      var p = o.style || {};
      p.fill === "inherit" ? (u = !0, o = extend({}, o), p = extend({}, p), p.fill = f) : !hasFillOrStroke(p.fill) && hasFillOrStroke(f) ? (u = !0, o = extend({}, o), p = extend({}, p), p.fill = liftColor(f)) : !hasFillOrStroke(p.stroke) && hasFillOrStroke(d) && (u || (o = extend({}, o), p = extend({}, p)), p.stroke = liftColor(d)), o.style = p;
    }
  }
  if (o && o.z2 == null) {
    u || (o = extend({}, o));
    var y = r.z2EmphasisLift;
    o.z2 = r.z2 + (y ?? Z2_EMPHASIS_LIFT);
  }
  return o;
}
function createSelectDefaultState(r, n, i) {
  if (i && i.z2 == null) {
    i = extend({}, i);
    var o = r.z2SelectLift;
    i.z2 = r.z2 + (o ?? Z2_SELECT_LIFT);
  }
  return i;
}
function createBlurDefaultState(r, n, i) {
  var o = indexOf(r.currentStates, n) >= 0, a = r.style.opacity, u = o ? null : getFromStateStyle(r, ["opacity"], n, {
    opacity: 1
  });
  i = i || {};
  var c = i.style || {};
  return c.opacity == null && (i = extend({}, i), c = extend({
    // Already being applied 'emphasis'. DON'T mul opacity multiple times.
    opacity: o ? a : u.opacity * 0.1
  }, c), i.style = c), i;
}
function elementStateProxy(r, n) {
  var i = this.states[r];
  if (this.style) {
    if (r === "emphasis")
      return createEmphasisDefaultState(this, r, n, i);
    if (r === "blur")
      return createBlurDefaultState(this, r, i);
    if (r === "select")
      return createSelectDefaultState(this, r, i);
  }
  return i;
}
function setDefaultStateProxy(r) {
  r.stateProxy = elementStateProxy;
  var n = r.getTextContent(), i = r.getTextGuideLine();
  n && (n.stateProxy = elementStateProxy), i && (i.stateProxy = elementStateProxy);
}
function enterEmphasisWhenMouseOver(r, n) {
  !shouldSilent(r, n) && !r.__highByOuter && traverseUpdateState(r, singleEnterEmphasis);
}
function leaveEmphasisWhenMouseOut(r, n) {
  !shouldSilent(r, n) && !r.__highByOuter && traverseUpdateState(r, singleLeaveEmphasis);
}
function enterEmphasis(r, n) {
  r.__highByOuter |= 1 << (n || 0), traverseUpdateState(r, singleEnterEmphasis);
}
function leaveEmphasis(r, n) {
  !(r.__highByOuter &= ~(1 << (n || 0))) && traverseUpdateState(r, singleLeaveEmphasis);
}
function enterBlur(r) {
  traverseUpdateState(r, singleEnterBlur);
}
function leaveBlur(r) {
  traverseUpdateState(r, singleLeaveBlur);
}
function enterSelect(r) {
  traverseUpdateState(r, singleEnterSelect);
}
function leaveSelect(r) {
  traverseUpdateState(r, singleLeaveSelect);
}
function shouldSilent(r, n) {
  return r.__highDownSilentOnTouch && n.zrByTouch;
}
function allLeaveBlur(r) {
  var n = r.getModel(), i = [], o = [];
  n.eachComponent(function(a, u) {
    var c = getComponentStates(u), f = a === "series", d = f ? r.getViewOfSeriesModel(u) : r.getViewOfComponentModel(u);
    !f && o.push(d), c.isBlured && (d.group.traverse(function(p) {
      singleLeaveBlur(p);
    }), f && i.push(u)), c.isBlured = !1;
  }), each$4(o, function(a) {
    a && a.toggleBlurSeries && a.toggleBlurSeries(i, !1, n);
  });
}
function blurSeries(r, n, i, o) {
  var a = o.getModel();
  i = i || "coordinateSystem";
  function u(p, y) {
    for (var v = 0; v < y.length; v++) {
      var g = p.getItemGraphicEl(y[v]);
      g && leaveBlur(g);
    }
  }
  if (r != null && !(!n || n === "none")) {
    var c = a.getSeriesByIndex(r), f = c.coordinateSystem;
    f && f.master && (f = f.master);
    var d = [];
    a.eachSeries(function(p) {
      var y = c === p, v = p.coordinateSystem;
      v && v.master && (v = v.master);
      var g = v && f ? v === f : y;
      if (!// Not blur other series if blurScope series
      (i === "series" && !y || i === "coordinateSystem" && !g || n === "series" && y)) {
        var _ = o.getViewOfSeriesModel(p);
        if (_.group.traverse(function(w) {
          singleEnterBlur(w);
        }), isArrayLike(n))
          u(p.getData(), n);
        else if (isObject$3(n))
          for (var b = keys(n), A = 0; A < b.length; A++)
            u(p.getData(b[A]), n[b[A]]);
        d.push(p), getComponentStates(p).isBlured = !0;
      }
    }), a.eachComponent(function(p, y) {
      if (p !== "series") {
        var v = o.getViewOfComponentModel(y);
        v && v.toggleBlurSeries && v.toggleBlurSeries(d, !0, a);
      }
    });
  }
}
function blurComponent(r, n, i) {
  if (!(r == null || n == null)) {
    var o = i.getModel().getComponent(r, n);
    if (o) {
      getComponentStates(o).isBlured = !0;
      var a = i.getViewOfComponentModel(o);
      !a || !a.focusBlurEnabled || a.group.traverse(function(u) {
        singleEnterBlur(u);
      });
    }
  }
}
function blurSeriesFromHighlightPayload(r, n, i) {
  var o = r.seriesIndex, a = r.getData(n.dataType);
  if (!a) {
    process.env.NODE_ENV !== "production" && error("Unknown dataType " + n.dataType);
    return;
  }
  var u = queryDataIndex(a, n);
  u = (isArray$1(u) ? u[0] : u) || 0;
  var c = a.getItemGraphicEl(u);
  if (!c)
    for (var f = a.count(), d = 0; !c && d < f; )
      c = a.getItemGraphicEl(d++);
  if (c) {
    var p = getECData(c);
    blurSeries(o, p.focus, p.blurScope, i);
  } else {
    var y = r.get(["emphasis", "focus"]), v = r.get(["emphasis", "blurScope"]);
    y != null && blurSeries(o, y, v, i);
  }
}
function findComponentHighDownDispatchers(r, n, i, o) {
  var a = {
    focusSelf: !1,
    dispatchers: null
  };
  if (r == null || r === "series" || n == null || i == null)
    return a;
  var u = o.getModel().getComponent(r, n);
  if (!u)
    return a;
  var c = o.getViewOfComponentModel(u);
  if (!c || !c.findHighDownDispatchers)
    return a;
  for (var f = c.findHighDownDispatchers(i), d, p = 0; p < f.length; p++)
    if (process.env.NODE_ENV !== "production" && !isHighDownDispatcher(f[p]) && error("param should be highDownDispatcher"), getECData(f[p]).focus === "self") {
      d = !0;
      break;
    }
  return {
    focusSelf: d,
    dispatchers: f
  };
}
function handleGlobalMouseOverForHighDown(r, n, i) {
  process.env.NODE_ENV !== "production" && !isHighDownDispatcher(r) && error("param should be highDownDispatcher");
  var o = getECData(r), a = findComponentHighDownDispatchers(o.componentMainType, o.componentIndex, o.componentHighDownName, i), u = a.dispatchers, c = a.focusSelf;
  u ? (c && blurComponent(o.componentMainType, o.componentIndex, i), each$4(u, function(f) {
    return enterEmphasisWhenMouseOver(f, n);
  })) : (blurSeries(o.seriesIndex, o.focus, o.blurScope, i), o.focus === "self" && blurComponent(o.componentMainType, o.componentIndex, i), enterEmphasisWhenMouseOver(r, n));
}
function handleGlobalMouseOutForHighDown(r, n, i) {
  process.env.NODE_ENV !== "production" && !isHighDownDispatcher(r) && error("param should be highDownDispatcher"), allLeaveBlur(i);
  var o = getECData(r), a = findComponentHighDownDispatchers(o.componentMainType, o.componentIndex, o.componentHighDownName, i).dispatchers;
  a ? each$4(a, function(u) {
    return leaveEmphasisWhenMouseOut(u, n);
  }) : leaveEmphasisWhenMouseOut(r, n);
}
function toggleSelectionFromPayload(r, n, i) {
  if (isSelectChangePayload(n)) {
    var o = n.dataType, a = r.getData(o), u = queryDataIndex(a, n);
    isArray$1(u) || (u = [u]), r[n.type === TOGGLE_SELECT_ACTION_TYPE ? "toggleSelect" : n.type === SELECT_ACTION_TYPE ? "select" : "unselect"](u, o);
  }
}
function updateSeriesElementSelection(r) {
  var n = r.getAllData();
  each$4(n, function(i) {
    var o = i.data, a = i.type;
    o.eachItemGraphicEl(function(u, c) {
      r.isSelected(c, a) ? enterSelect(u) : leaveSelect(u);
    });
  });
}
function getAllSelectedIndices(r) {
  var n = [];
  return r.eachSeries(function(i) {
    var o = i.getAllData();
    each$4(o, function(a) {
      a.data;
      var u = a.type, c = i.getSelectedDataIndices();
      if (c.length > 0) {
        var f = {
          dataIndex: c,
          seriesIndex: i.seriesIndex
        };
        u != null && (f.dataType = u), n.push(f);
      }
    });
  }), n;
}
function enableHoverEmphasis(r, n, i) {
  setAsHighDownDispatcher(r, !0), traverseUpdateState(r, setDefaultStateProxy), enableHoverFocus(r, n, i);
}
function disableHoverEmphasis(r) {
  setAsHighDownDispatcher(r, !1);
}
function toggleHoverEmphasis(r, n, i, o) {
  o ? disableHoverEmphasis(r) : enableHoverEmphasis(r, n, i);
}
function enableHoverFocus(r, n, i) {
  var o = getECData(r);
  n != null ? (o.focus = n, o.blurScope = i) : o.focus && (o.focus = null);
}
var OTHER_STATES = ["emphasis", "blur", "select"], defaultStyleGetterMap = {
  itemStyle: "getItemStyle",
  lineStyle: "getLineStyle",
  areaStyle: "getAreaStyle"
};
function setStatesStylesFromModel(r, n, i, o) {
  i = i || "itemStyle";
  for (var a = 0; a < OTHER_STATES.length; a++) {
    var u = OTHER_STATES[a], c = n.getModel([u, i]), f = r.ensureState(u);
    f.style = o ? o(c) : c[defaultStyleGetterMap[i]]();
  }
}
function setAsHighDownDispatcher(r, n) {
  var i = n === !1, o = r;
  r.highDownSilentOnTouch && (o.__highDownSilentOnTouch = r.highDownSilentOnTouch), (!i || o.__highDownDispatcher) && (o.__highByOuter = o.__highByOuter || 0, o.__highDownDispatcher = !i);
}
function isHighDownDispatcher(r) {
  return !!(r && r.__highDownDispatcher);
}
function getHighlightDigit(r) {
  var n = _highlightKeyMap[r];
  return n == null && _highlightNextDigit <= 32 && (n = _highlightKeyMap[r] = _highlightNextDigit++), n;
}
function isSelectChangePayload(r) {
  var n = r.type;
  return n === SELECT_ACTION_TYPE || n === UNSELECT_ACTION_TYPE || n === TOGGLE_SELECT_ACTION_TYPE;
}
function isHighDownPayload(r) {
  var n = r.type;
  return n === HIGHLIGHT_ACTION_TYPE || n === DOWNPLAY_ACTION_TYPE;
}
function savePathStates(r) {
  var n = getSavedStates(r);
  n.normalFill = r.style.fill, n.normalStroke = r.style.stroke;
  var i = r.states.select || {};
  n.selectFill = i.style && i.style.fill || null, n.selectStroke = i.style && i.style.stroke || null;
}
var CMD = PathProxy$1.CMD, points = [[], [], []], mathSqrt$2 = Math.sqrt, mathAtan2 = Math.atan2;
function transformPath(r, n) {
  if (n) {
    var i = r.data, o = r.len(), a, u, c, f, d, p, y = CMD.M, v = CMD.C, g = CMD.L, _ = CMD.R, b = CMD.A, A = CMD.Q;
    for (c = 0, f = 0; c < o; ) {
      switch (a = i[c++], f = c, u = 0, a) {
        case y:
          u = 1;
          break;
        case g:
          u = 1;
          break;
        case v:
          u = 3;
          break;
        case A:
          u = 2;
          break;
        case b:
          var w = n[4], S = n[5], x = mathSqrt$2(n[0] * n[0] + n[1] * n[1]), T = mathSqrt$2(n[2] * n[2] + n[3] * n[3]), L = mathAtan2(-n[1] / T, n[0] / x);
          i[c] *= x, i[c++] += w, i[c] *= T, i[c++] += S, i[c++] *= x, i[c++] *= T, i[c++] += L, i[c++] += L, c += 2, f = c;
          break;
        case _:
          p[0] = i[c++], p[1] = i[c++], applyTransform$1(p, p, n), i[f++] = p[0], i[f++] = p[1], p[0] += i[c++], p[1] += i[c++], applyTransform$1(p, p, n), i[f++] = p[0], i[f++] = p[1];
      }
      for (d = 0; d < u; d++) {
        var k = points[d];
        k[0] = i[c++], k[1] = i[c++], applyTransform$1(k, k, n), i[f++] = k[0], i[f++] = k[1];
      }
    }
    r.increaseVersion();
  }
}
var mathSqrt$1 = Math.sqrt, mathSin$2 = Math.sin, mathCos$2 = Math.cos, PI$4 = Math.PI;
function vMag(r) {
  return Math.sqrt(r[0] * r[0] + r[1] * r[1]);
}
function vRatio(r, n) {
  return (r[0] * n[0] + r[1] * n[1]) / (vMag(r) * vMag(n));
}
function vAngle(r, n) {
  return (r[0] * n[1] < r[1] * n[0] ? -1 : 1) * Math.acos(vRatio(r, n));
}
function processArc(r, n, i, o, a, u, c, f, d, p, y) {
  var v = d * (PI$4 / 180), g = mathCos$2(v) * (r - i) / 2 + mathSin$2(v) * (n - o) / 2, _ = -1 * mathSin$2(v) * (r - i) / 2 + mathCos$2(v) * (n - o) / 2, b = g * g / (c * c) + _ * _ / (f * f);
  b > 1 && (c *= mathSqrt$1(b), f *= mathSqrt$1(b));
  var A = (a === u ? -1 : 1) * mathSqrt$1((c * c * (f * f) - c * c * (_ * _) - f * f * (g * g)) / (c * c * (_ * _) + f * f * (g * g))) || 0, w = A * c * _ / f, S = A * -f * g / c, x = (r + i) / 2 + mathCos$2(v) * w - mathSin$2(v) * S, T = (n + o) / 2 + mathSin$2(v) * w + mathCos$2(v) * S, L = vAngle([1, 0], [(g - w) / c, (_ - S) / f]), k = [(g - w) / c, (_ - S) / f], M = [(-1 * g - w) / c, (-1 * _ - S) / f], O = vAngle(k, M);
  if (vRatio(k, M) <= -1 && (O = PI$4), vRatio(k, M) >= 1 && (O = 0), O < 0) {
    var ie = Math.round(O / PI$4 * 1e6) / 1e6;
    O = PI$4 * 2 + ie % 2 * PI$4;
  }
  y.addData(p, x, T, c, f, L, O, v, u);
}
var commandReg = /([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig, numberReg = /-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;
function createPathProxyFromString(r) {
  var n = new PathProxy$1();
  if (!r)
    return n;
  var i = 0, o = 0, a = i, u = o, c, f = PathProxy$1.CMD, d = r.match(commandReg);
  if (!d)
    return n;
  for (var p = 0; p < d.length; p++) {
    for (var y = d[p], v = y.charAt(0), g = void 0, _ = y.match(numberReg) || [], b = _.length, A = 0; A < b; A++)
      _[A] = parseFloat(_[A]);
    for (var w = 0; w < b; ) {
      var S = void 0, x = void 0, T = void 0, L = void 0, k = void 0, M = void 0, O = void 0, ie = i, F = o, re = void 0, D = void 0;
      switch (v) {
        case "l":
          i += _[w++], o += _[w++], g = f.L, n.addData(g, i, o);
          break;
        case "L":
          i = _[w++], o = _[w++], g = f.L, n.addData(g, i, o);
          break;
        case "m":
          i += _[w++], o += _[w++], g = f.M, n.addData(g, i, o), a = i, u = o, v = "l";
          break;
        case "M":
          i = _[w++], o = _[w++], g = f.M, n.addData(g, i, o), a = i, u = o, v = "L";
          break;
        case "h":
          i += _[w++], g = f.L, n.addData(g, i, o);
          break;
        case "H":
          i = _[w++], g = f.L, n.addData(g, i, o);
          break;
        case "v":
          o += _[w++], g = f.L, n.addData(g, i, o);
          break;
        case "V":
          o = _[w++], g = f.L, n.addData(g, i, o);
          break;
        case "C":
          g = f.C, n.addData(g, _[w++], _[w++], _[w++], _[w++], _[w++], _[w++]), i = _[w - 2], o = _[w - 1];
          break;
        case "c":
          g = f.C, n.addData(g, _[w++] + i, _[w++] + o, _[w++] + i, _[w++] + o, _[w++] + i, _[w++] + o), i += _[w - 2], o += _[w - 1];
          break;
        case "S":
          S = i, x = o, re = n.len(), D = n.data, c === f.C && (S += i - D[re - 4], x += o - D[re - 3]), g = f.C, ie = _[w++], F = _[w++], i = _[w++], o = _[w++], n.addData(g, S, x, ie, F, i, o);
          break;
        case "s":
          S = i, x = o, re = n.len(), D = n.data, c === f.C && (S += i - D[re - 4], x += o - D[re - 3]), g = f.C, ie = i + _[w++], F = o + _[w++], i += _[w++], o += _[w++], n.addData(g, S, x, ie, F, i, o);
          break;
        case "Q":
          ie = _[w++], F = _[w++], i = _[w++], o = _[w++], g = f.Q, n.addData(g, ie, F, i, o);
          break;
        case "q":
          ie = _[w++] + i, F = _[w++] + o, i += _[w++], o += _[w++], g = f.Q, n.addData(g, ie, F, i, o);
          break;
        case "T":
          S = i, x = o, re = n.len(), D = n.data, c === f.Q && (S += i - D[re - 4], x += o - D[re - 3]), i = _[w++], o = _[w++], g = f.Q, n.addData(g, S, x, i, o);
          break;
        case "t":
          S = i, x = o, re = n.len(), D = n.data, c === f.Q && (S += i - D[re - 4], x += o - D[re - 3]), i += _[w++], o += _[w++], g = f.Q, n.addData(g, S, x, i, o);
          break;
        case "A":
          T = _[w++], L = _[w++], k = _[w++], M = _[w++], O = _[w++], ie = i, F = o, i = _[w++], o = _[w++], g = f.A, processArc(ie, F, i, o, M, O, T, L, k, g, n);
          break;
        case "a":
          T = _[w++], L = _[w++], k = _[w++], M = _[w++], O = _[w++], ie = i, F = o, i += _[w++], o += _[w++], g = f.A, processArc(ie, F, i, o, M, O, T, L, k, g, n);
          break;
      }
    }
    (v === "z" || v === "Z") && (g = f.Z, n.addData(g), i = a, o = u), c = g;
  }
  return n.toStatic(), n;
}
var SVGPath = function(r) {
  __extends(n, r);
  function n() {
    return r !== null && r.apply(this, arguments) || this;
  }
  return n.prototype.applyTransform = function(i) {
  }, n;
}(Path$1);
function isPathProxy(r) {
  return r.setData != null;
}
function createPathOptions(r, n) {
  var i = createPathProxyFromString(r), o = extend({}, n);
  return o.buildPath = function(a) {
    if (isPathProxy(a)) {
      a.setData(i.data);
      var u = a.getContext();
      u && a.rebuildPath(u, 1);
    } else {
      var u = a;
      i.rebuildPath(u, 1);
    }
  }, o.applyTransform = function(a) {
    transformPath(i, a), this.dirtyShape();
  }, o;
}
function createFromString(r, n) {
  return new SVGPath(createPathOptions(r, n));
}
function extendFromString(r, n) {
  var i = createPathOptions(r, n), o = function(a) {
    __extends(u, a);
    function u(c) {
      var f = a.call(this, c) || this;
      return f.applyTransform = i.applyTransform, f.buildPath = i.buildPath, f;
    }
    return u;
  }(SVGPath);
  return o;
}
function mergePath$1(r, n) {
  for (var i = [], o = r.length, a = 0; a < o; a++) {
    var u = r[a];
    i.push(u.getUpdatedPathProxy(!0));
  }
  var c = new Path$1(n);
  return c.createPathProxy(), c.buildPath = function(f) {
    if (isPathProxy(f)) {
      f.appendPath(i);
      var d = f.getContext();
      d && f.rebuildPath(d, 1);
    }
  }, c;
}
var CircleShape = function() {
  function r() {
    this.cx = 0, this.cy = 0, this.r = 0;
  }
  return r;
}(), Circle = function(r) {
  __extends(n, r);
  function n(i) {
    return r.call(this, i) || this;
  }
  return n.prototype.getDefaultShape = function() {
    return new CircleShape();
  }, n.prototype.buildPath = function(i, o) {
    i.moveTo(o.cx + o.r, o.cy), i.arc(o.cx, o.cy, o.r, 0, Math.PI * 2);
  }, n;
}(Path$1);
Circle.prototype.type = "circle";
const Circle$1 = Circle;
var EllipseShape = function() {
  function r() {
    this.cx = 0, this.cy = 0, this.rx = 0, this.ry = 0;
  }
  return r;
}(), Ellipse = function(r) {
  __extends(n, r);
  function n(i) {
    return r.call(this, i) || this;
  }
  return n.prototype.getDefaultShape = function() {
    return new EllipseShape();
  }, n.prototype.buildPath = function(i, o) {
    var a = 0.5522848, u = o.cx, c = o.cy, f = o.rx, d = o.ry, p = f * a, y = d * a;
    i.moveTo(u - f, c), i.bezierCurveTo(u - f, c - y, u - p, c - d, u, c - d), i.bezierCurveTo(u + p, c - d, u + f, c - y, u + f, c), i.bezierCurveTo(u + f, c + y, u + p, c + d, u, c + d), i.bezierCurveTo(u - p, c + d, u - f, c + y, u - f, c), i.closePath();
  }, n;
}(Path$1);
Ellipse.prototype.type = "ellipse";
const Ellipse$1 = Ellipse;
var PI$3 = Math.PI, PI2$2 = PI$3 * 2, mathSin$1 = Math.sin, mathCos$1 = Math.cos, mathACos = Math.acos, mathATan2 = Math.atan2, mathAbs = Math.abs, mathSqrt = Math.sqrt, mathMax$1 = Math.max, mathMin$1 = Math.min, e = 1e-4;
function intersect(r, n, i, o, a, u, c, f) {
  var d = i - r, p = o - n, y = c - a, v = f - u, g = v * d - y * p;
  if (!(g * g < e))
    return g = (y * (n - u) - v * (r - a)) / g, [r + g * d, n + g * p];
}
function computeCornerTangents(r, n, i, o, a, u, c) {
  var f = r - i, d = n - o, p = (c ? u : -u) / mathSqrt(f * f + d * d), y = p * d, v = -p * f, g = r + y, _ = n + v, b = i + y, A = o + v, w = (g + b) / 2, S = (_ + A) / 2, x = b - g, T = A - _, L = x * x + T * T, k = a - u, M = g * A - b * _, O = (T < 0 ? -1 : 1) * mathSqrt(mathMax$1(0, k * k * L - M * M)), ie = (M * T - x * O) / L, F = (-M * x - T * O) / L, re = (M * T + x * O) / L, D = (-M * x + T * O) / L, Y = ie - w, z = F - S, pe = re - w, ue = D - S;
  return Y * Y + z * z > pe * pe + ue * ue && (ie = re, F = D), {
    cx: ie,
    cy: F,
    x0: -y,
    y0: -v,
    x1: ie * (a / k - 1),
    y1: F * (a / k - 1)
  };
}
function normalizeCornerRadius(r) {
  var n;
  if (isArray$1(r)) {
    var i = r.length;
    if (!i)
      return r;
    i === 1 ? n = [r[0], r[0], 0, 0] : i === 2 ? n = [r[0], r[0], r[1], r[1]] : i === 3 ? n = r.concat(r[2]) : n = r;
  } else
    n = [r, r, r, r];
  return n;
}
function buildPath$1(r, n) {
  var i, o = mathMax$1(n.r, 0), a = mathMax$1(n.r0 || 0, 0), u = o > 0, c = a > 0;
  if (!(!u && !c)) {
    if (u || (o = a, a = 0), a > o) {
      var f = o;
      o = a, a = f;
    }
    var d = n.startAngle, p = n.endAngle;
    if (!(isNaN(d) || isNaN(p))) {
      var y = n.cx, v = n.cy, g = !!n.clockwise, _ = mathAbs(p - d), b = _ > PI2$2 && _ % PI2$2;
      if (b > e && (_ = b), !(o > e))
        r.moveTo(y, v);
      else if (_ > PI2$2 - e)
        r.moveTo(y + o * mathCos$1(d), v + o * mathSin$1(d)), r.arc(y, v, o, d, p, !g), a > e && (r.moveTo(y + a * mathCos$1(p), v + a * mathSin$1(p)), r.arc(y, v, a, p, d, g));
      else {
        var A = void 0, w = void 0, S = void 0, x = void 0, T = void 0, L = void 0, k = void 0, M = void 0, O = void 0, ie = void 0, F = void 0, re = void 0, D = void 0, Y = void 0, z = void 0, pe = void 0, ue = o * mathCos$1(d), Ce = o * mathSin$1(d), Fe = a * mathCos$1(p), Ie = a * mathSin$1(p), Pt = _ > e;
        if (Pt) {
          var xe = n.cornerRadius;
          xe && (i = normalizeCornerRadius(xe), A = i[0], w = i[1], S = i[2], x = i[3]);
          var Lt = mathAbs(o - a) / 2;
          if (T = mathMin$1(Lt, S), L = mathMin$1(Lt, x), k = mathMin$1(Lt, A), M = mathMin$1(Lt, w), F = O = mathMax$1(T, L), re = ie = mathMax$1(k, M), (O > e || ie > e) && (D = o * mathCos$1(p), Y = o * mathSin$1(p), z = a * mathCos$1(d), pe = a * mathSin$1(d), _ < PI$3)) {
            var _n = intersect(ue, Ce, z, pe, D, Y, Fe, Ie);
            if (_n) {
              var In = ue - _n[0], jt = Ce - _n[1], he = D - _n[0], At = Y - _n[1], kt = 1 / mathSin$1(mathACos((In * he + jt * At) / (mathSqrt(In * In + jt * jt) * mathSqrt(he * he + At * At))) / 2), Cn = mathSqrt(_n[0] * _n[0] + _n[1] * _n[1]);
              F = mathMin$1(O, (o - Cn) / (kt + 1)), re = mathMin$1(ie, (a - Cn) / (kt - 1));
            }
          }
        }
        if (!Pt)
          r.moveTo(y + ue, v + Ce);
        else if (F > e) {
          var ze = mathMin$1(S, F), _e = mathMin$1(x, F), de = computeCornerTangents(z, pe, ue, Ce, o, ze, g), Et = computeCornerTangents(D, Y, Fe, Ie, o, _e, g);
          r.moveTo(y + de.cx + de.x0, v + de.cy + de.y0), F < O && ze === _e ? r.arc(y + de.cx, v + de.cy, F, mathATan2(de.y0, de.x0), mathATan2(Et.y0, Et.x0), !g) : (ze > 0 && r.arc(y + de.cx, v + de.cy, ze, mathATan2(de.y0, de.x0), mathATan2(de.y1, de.x1), !g), r.arc(y, v, o, mathATan2(de.cy + de.y1, de.cx + de.x1), mathATan2(Et.cy + Et.y1, Et.cx + Et.x1), !g), _e > 0 && r.arc(y + Et.cx, v + Et.cy, _e, mathATan2(Et.y1, Et.x1), mathATan2(Et.y0, Et.x0), !g));
        } else
          r.moveTo(y + ue, v + Ce), r.arc(y, v, o, d, p, !g);
        if (!(a > e) || !Pt)
          r.lineTo(y + Fe, v + Ie);
        else if (re > e) {
          var ze = mathMin$1(A, re), _e = mathMin$1(w, re), de = computeCornerTangents(Fe, Ie, D, Y, a, -_e, g), Et = computeCornerTangents(ue, Ce, z, pe, a, -ze, g);
          r.lineTo(y + de.cx + de.x0, v + de.cy + de.y0), re < ie && ze === _e ? r.arc(y + de.cx, v + de.cy, re, mathATan2(de.y0, de.x0), mathATan2(Et.y0, Et.x0), !g) : (_e > 0 && r.arc(y + de.cx, v + de.cy, _e, mathATan2(de.y0, de.x0), mathATan2(de.y1, de.x1), !g), r.arc(y, v, a, mathATan2(de.cy + de.y1, de.cx + de.x1), mathATan2(Et.cy + Et.y1, Et.cx + Et.x1), g), ze > 0 && r.arc(y + Et.cx, v + Et.cy, ze, mathATan2(Et.y1, Et.x1), mathATan2(Et.y0, Et.x0), !g));
        } else
          r.lineTo(y + Fe, v + Ie), r.arc(y, v, a, p, d, g);
      }
      r.closePath();
    }
  }
}
var SectorShape = function() {
  function r() {
    this.cx = 0, this.cy = 0, this.r0 = 0, this.r = 0, this.startAngle = 0, this.endAngle = Math.PI * 2, this.clockwise = !0, this.cornerRadius = 0;
  }
  return r;
}(), Sector = function(r) {
  __extends(n, r);
  function n(i) {
    return r.call(this, i) || this;
  }
  return n.prototype.getDefaultShape = function() {
    return new SectorShape();
  }, n.prototype.buildPath = function(i, o) {
    buildPath$1(i, o);
  }, n.prototype.isZeroArea = function() {
    return this.shape.startAngle === this.shape.endAngle || this.shape.r === this.shape.r0;
  }, n;
}(Path$1);
Sector.prototype.type = "sector";
const Sector$1 = Sector;
var RingShape = function() {
  function r() {
    this.cx = 0, this.cy = 0, this.r = 0, this.r0 = 0;
  }
  return r;
}(), Ring = function(r) {
  __extends(n, r);
  function n(i) {
    return r.call(this, i) || this;
  }
  return n.prototype.getDefaultShape = function() {
    return new RingShape();
  }, n.prototype.buildPath = function(i, o) {
    var a = o.cx, u = o.cy, c = Math.PI * 2;
    i.moveTo(a + o.r, u), i.arc(a, u, o.r, 0, c, !1), i.moveTo(a + o.r0, u), i.arc(a, u, o.r0, 0, c, !0);
  }, n;
}(Path$1);
Ring.prototype.type = "ring";
const Ring$1 = Ring;
function smoothBezier(r, n, i, o) {
  var a = [], u = [], c = [], f = [], d, p, y, v;
  if (o) {
    y = [1 / 0, 1 / 0], v = [-1 / 0, -1 / 0];
    for (var g = 0, _ = r.length; g < _; g++)
      min$1(y, y, r[g]), max$1(v, v, r[g]);
    min$1(y, y, o[0]), max$1(v, v, o[1]);
  }
  for (var g = 0, _ = r.length; g < _; g++) {
    var b = r[g];
    if (i)
      d = r[g ? g - 1 : _ - 1], p = r[(g + 1) % _];
    else if (g === 0 || g === _ - 1) {
      a.push(clone$1(r[g]));
      continue;
    } else
      d = r[g - 1], p = r[g + 1];
    sub$1(u, p, d), scale$1(u, u, n);
    var A = distance(b, d), w = distance(b, p), S = A + w;
    S !== 0 && (A /= S, w /= S), scale$1(c, u, -A), scale$1(f, u, w);
    var x = add([], b, c), T = add([], b, f);
    o && (max$1(x, x, y), min$1(x, x, v), max$1(T, T, y), min$1(T, T, v)), a.push(x), a.push(T);
  }
  return i && a.push(a.shift()), a;
}
function buildPath(r, n, i) {
  var o = n.smooth, a = n.points;
  if (a && a.length >= 2) {
    if (o) {
      var u = smoothBezier(a, o, i, n.smoothConstraint);
      r.moveTo(a[0][0], a[0][1]);
      for (var c = a.length, f = 0; f < (i ? c : c - 1); f++) {
        var d = u[f * 2], p = u[f * 2 + 1], y = a[(f + 1) % c];
        r.bezierCurveTo(d[0], d[1], p[0], p[1], y[0], y[1]);
      }
    } else {
      r.moveTo(a[0][0], a[0][1]);
      for (var f = 1, v = a.length; f < v; f++)
        r.lineTo(a[f][0], a[f][1]);
    }
    i && r.closePath();
  }
}
var PolygonShape = function() {
  function r() {
    this.points = null, this.smooth = 0, this.smoothConstraint = null;
  }
  return r;
}(), Polygon = function(r) {
  __extends(n, r);
  function n(i) {
    return r.call(this, i) || this;
  }
  return n.prototype.getDefaultShape = function() {
    return new PolygonShape();
  }, n.prototype.buildPath = function(i, o) {
    buildPath(i, o, !0);
  }, n;
}(Path$1);
Polygon.prototype.type = "polygon";
const Polygon$1 = Polygon;
var PolylineShape = function() {
  function r() {
    this.points = null, this.percent = 1, this.smooth = 0, this.smoothConstraint = null;
  }
  return r;
}(), Polyline = function(r) {
  __extends(n, r);
  function n(i) {
    return r.call(this, i) || this;
  }
  return n.prototype.getDefaultStyle = function() {
    return {
      stroke: "#000",
      fill: null
    };
  }, n.prototype.getDefaultShape = function() {
    return new PolylineShape();
  }, n.prototype.buildPath = function(i, o) {
    buildPath(i, o, !1);
  }, n;
}(Path$1);
Polyline.prototype.type = "polyline";
const Polyline$1 = Polyline;
var subPixelOptimizeOutputShape = {}, LineShape = function() {
  function r() {
    this.x1 = 0, this.y1 = 0, this.x2 = 0, this.y2 = 0, this.percent = 1;
  }
  return r;
}(), Line = function(r) {
  __extends(n, r);
  function n(i) {
    return r.call(this, i) || this;
  }
  return n.prototype.getDefaultStyle = function() {
    return {
      stroke: "#000",
      fill: null
    };
  }, n.prototype.getDefaultShape = function() {
    return new LineShape();
  }, n.prototype.buildPath = function(i, o) {
    var a, u, c, f;
    if (this.subPixelOptimize) {
      var d = subPixelOptimizeLine$1(subPixelOptimizeOutputShape, o, this.style);
      a = d.x1, u = d.y1, c = d.x2, f = d.y2;
    } else
      a = o.x1, u = o.y1, c = o.x2, f = o.y2;
    var p = o.percent;
    p !== 0 && (i.moveTo(a, u), p < 1 && (c = a * (1 - p) + c * p, f = u * (1 - p) + f * p), i.lineTo(c, f));
  }, n.prototype.pointAt = function(i) {
    var o = this.shape;
    return [
      o.x1 * (1 - i) + o.x2 * i,
      o.y1 * (1 - i) + o.y2 * i
    ];
  }, n;
}(Path$1);
Line.prototype.type = "line";
const Line$1 = Line;
var out = [], BezierCurveShape = function() {
  function r() {
    this.x1 = 0, this.y1 = 0, this.x2 = 0, this.y2 = 0, this.cpx1 = 0, this.cpy1 = 0, this.percent = 1;
  }
  return r;
}();
function someVectorAt(r, n, i) {
  var o = r.cpx2, a = r.cpy2;
  return o != null || a != null ? [
    (i ? cubicDerivativeAt : cubicAt)(r.x1, r.cpx1, r.cpx2, r.x2, n),
    (i ? cubicDerivativeAt : cubicAt)(r.y1, r.cpy1, r.cpy2, r.y2, n)
  ] : [
    (i ? quadraticDerivativeAt : quadraticAt)(r.x1, r.cpx1, r.x2, n),
    (i ? quadraticDerivativeAt : quadraticAt)(r.y1, r.cpy1, r.y2, n)
  ];
}
var BezierCurve = function(r) {
  __extends(n, r);
  function n(i) {
    return r.call(this, i) || this;
  }
  return n.prototype.getDefaultStyle = function() {
    return {
      stroke: "#000",
      fill: null
    };
  }, n.prototype.getDefaultShape = function() {
    return new BezierCurveShape();
  }, n.prototype.buildPath = function(i, o) {
    var a = o.x1, u = o.y1, c = o.x2, f = o.y2, d = o.cpx1, p = o.cpy1, y = o.cpx2, v = o.cpy2, g = o.percent;
    g !== 0 && (i.moveTo(a, u), y == null || v == null ? (g < 1 && (quadraticSubdivide(a, d, c, g, out), d = out[1], c = out[2], quadraticSubdivide(u, p, f, g, out), p = out[1], f = out[2]), i.quadraticCurveTo(d, p, c, f)) : (g < 1 && (cubicSubdivide(a, d, y, c, g, out), d = out[1], y = out[2], c = out[3], cubicSubdivide(u, p, v, f, g, out), p = out[1], v = out[2], f = out[3]), i.bezierCurveTo(d, p, y, v, c, f)));
  }, n.prototype.pointAt = function(i) {
    return someVectorAt(this.shape, i, !1);
  }, n.prototype.tangentAt = function(i) {
    var o = someVectorAt(this.shape, i, !0);
    return normalize(o, o);
  }, n;
}(Path$1);
BezierCurve.prototype.type = "bezier-curve";
const BezierCurve$1 = BezierCurve;
var ArcShape = function() {
  function r() {
    this.cx = 0, this.cy = 0, this.r = 0, this.startAngle = 0, this.endAngle = Math.PI * 2, this.clockwise = !0;
  }
  return r;
}(), Arc = function(r) {
  __extends(n, r);
  function n(i) {
    return r.call(this, i) || this;
  }
  return n.prototype.getDefaultStyle = function() {
    return {
      stroke: "#000",
      fill: null
    };
  }, n.prototype.getDefaultShape = function() {
    return new ArcShape();
  }, n.prototype.buildPath = function(i, o) {
    var a = o.cx, u = o.cy, c = Math.max(o.r, 0), f = o.startAngle, d = o.endAngle, p = o.clockwise, y = Math.cos(f), v = Math.sin(f);
    i.moveTo(y * c + a, v * c + u), i.arc(a, u, c, f, d, !p);
  }, n;
}(Path$1);
Arc.prototype.type = "arc";
const Arc$1 = Arc;
var CompoundPath = function(r) {
  __extends(n, r);
  function n() {
    var i = r !== null && r.apply(this, arguments) || this;
    return i.type = "compound", i;
  }
  return n.prototype._updatePathDirty = function() {
    for (var i = this.shape.paths, o = this.shapeChanged(), a = 0; a < i.length; a++)
      o = o || i[a].shapeChanged();
    o && this.dirtyShape();
  }, n.prototype.beforeBrush = function() {
    this._updatePathDirty();
    for (var i = this.shape.paths || [], o = this.getGlobalScale(), a = 0; a < i.length; a++)
      i[a].path || i[a].createPathProxy(), i[a].path.setScale(o[0], o[1], i[a].segmentIgnoreThreshold);
  }, n.prototype.buildPath = function(i, o) {
    for (var a = o.paths || [], u = 0; u < a.length; u++)
      a[u].buildPath(i, a[u].shape, !0);
  }, n.prototype.afterBrush = function() {
    for (var i = this.shape.paths || [], o = 0; o < i.length; o++)
      i[o].pathUpdated();
  }, n.prototype.getBoundingRect = function() {
    return this._updatePathDirty.call(this), Path$1.prototype.getBoundingRect.call(this);
  }, n;
}(Path$1);
const CompoundPath$1 = CompoundPath;
var Gradient = function() {
  function r(n) {
    this.colorStops = n || [];
  }
  return r.prototype.addColorStop = function(n, i) {
    this.colorStops.push({
      offset: n,
      color: i
    });
  }, r;
}();
const Gradient$1 = Gradient;
var LinearGradient = function(r) {
  __extends(n, r);
  function n(i, o, a, u, c, f) {
    var d = r.call(this, c) || this;
    return d.x = i ?? 0, d.y = o ?? 0, d.x2 = a ?? 1, d.y2 = u ?? 0, d.type = "linear", d.global = f || !1, d;
  }
  return n;
}(Gradient$1);
const LinearGradient$1 = LinearGradient;
var RadialGradient = function(r) {
  __extends(n, r);
  function n(i, o, a, u, c) {
    var f = r.call(this, u) || this;
    return f.x = i ?? 0.5, f.y = o ?? 0.5, f.r = a ?? 0.5, f.type = "radial", f.global = c || !1, f;
  }
  return n;
}(Gradient$1);
const RadialGradient$1 = RadialGradient;
var extent = [0, 0], extent2 = [0, 0], minTv = new Point$1(), maxTv = new Point$1(), OrientedBoundingRect = function() {
  function r(n, i) {
    this._corners = [], this._axes = [], this._origin = [0, 0];
    for (var o = 0; o < 4; o++)
      this._corners[o] = new Point$1();
    for (var o = 0; o < 2; o++)
      this._axes[o] = new Point$1();
    n && this.fromBoundingRect(n, i);
  }
  return r.prototype.fromBoundingRect = function(n, i) {
    var o = this._corners, a = this._axes, u = n.x, c = n.y, f = u + n.width, d = c + n.height;
    if (o[0].set(u, c), o[1].set(f, c), o[2].set(f, d), o[3].set(u, d), i)
      for (var p = 0; p < 4; p++)
        o[p].transform(i);
    Point$1.sub(a[0], o[1], o[0]), Point$1.sub(a[1], o[3], o[0]), a[0].normalize(), a[1].normalize();
    for (var p = 0; p < 2; p++)
      this._origin[p] = a[p].dot(o[0]);
  }, r.prototype.intersect = function(n, i) {
    var o = !0, a = !i;
    return minTv.set(1 / 0, 1 / 0), maxTv.set(0, 0), !this._intersectCheckOneSide(this, n, minTv, maxTv, a, 1) && (o = !1, a) || !this._intersectCheckOneSide(n, this, minTv, maxTv, a, -1) && (o = !1, a) || a || Point$1.copy(i, o ? minTv : maxTv), o;
  }, r.prototype._intersectCheckOneSide = function(n, i, o, a, u, c) {
    for (var f = !0, d = 0; d < 2; d++) {
      var p = this._axes[d];
      if (this._getProjMinMaxOnAxis(d, n._corners, extent), this._getProjMinMaxOnAxis(d, i._corners, extent2), extent[1] < extent2[0] || extent[0] > extent2[1]) {
        if (f = !1, u)
          return f;
        var y = Math.abs(extent2[0] - extent[1]), v = Math.abs(extent[0] - extent2[1]);
        Math.min(y, v) > a.len() && (y < v ? Point$1.scale(a, p, -y * c) : Point$1.scale(a, p, v * c));
      } else if (o) {
        var y = Math.abs(extent2[0] - extent[1]), v = Math.abs(extent[0] - extent2[1]);
        Math.min(y, v) < o.len() && (y < v ? Point$1.scale(o, p, y * c) : Point$1.scale(o, p, -v * c));
      }
    }
    return f;
  }, r.prototype._getProjMinMaxOnAxis = function(n, i, o) {
    for (var a = this._axes[n], u = this._origin, c = i[0].dot(a) + u[n], f = c, d = c, p = 1; p < i.length; p++) {
      var y = i[p].dot(a) + u[n];
      f = Math.min(y, f), d = Math.max(y, d);
    }
    o[0] = f, o[1] = d;
  }, r;
}();
const OrientedBoundingRect$1 = OrientedBoundingRect;
var m = [], IncrementalDisplayable = function(r) {
  __extends(n, r);
  function n() {
    var i = r !== null && r.apply(this, arguments) || this;
    return i.notClear = !0, i.incremental = !0, i._displayables = [], i._temporaryDisplayables = [], i._cursor = 0, i;
  }
  return n.prototype.traverse = function(i, o) {
    i.call(o, this);
  }, n.prototype.useStyle = function() {
    this.style = {};
  }, n.prototype.getCursor = function() {
    return this._cursor;
  }, n.prototype.innerAfterBrush = function() {
    this._cursor = this._displayables.length;
  }, n.prototype.clearDisplaybles = function() {
    this._displayables = [], this._temporaryDisplayables = [], this._cursor = 0, this.markRedraw(), this.notClear = !1;
  }, n.prototype.clearTemporalDisplayables = function() {
    this._temporaryDisplayables = [];
  }, n.prototype.addDisplayable = function(i, o) {
    o ? this._temporaryDisplayables.push(i) : this._displayables.push(i), this.markRedraw();
  }, n.prototype.addDisplayables = function(i, o) {
    o = o || !1;
    for (var a = 0; a < i.length; a++)
      this.addDisplayable(i[a], o);
  }, n.prototype.getDisplayables = function() {
    return this._displayables;
  }, n.prototype.getTemporalDisplayables = function() {
    return this._temporaryDisplayables;
  }, n.prototype.eachPendingDisplayable = function(i) {
    for (var o = this._cursor; o < this._displayables.length; o++)
      i && i(this._displayables[o]);
    for (var o = 0; o < this._temporaryDisplayables.length; o++)
      i && i(this._temporaryDisplayables[o]);
  }, n.prototype.update = function() {
    this.updateTransform();
    for (var i = this._cursor; i < this._displayables.length; i++) {
      var o = this._displayables[i];
      o.parent = this, o.update(), o.parent = null;
    }
    for (var i = 0; i < this._temporaryDisplayables.length; i++) {
      var o = this._temporaryDisplayables[i];
      o.parent = this, o.update(), o.parent = null;
    }
  }, n.prototype.getBoundingRect = function() {
    if (!this._rect) {
      for (var i = new BoundingRect$1(1 / 0, 1 / 0, -1 / 0, -1 / 0), o = 0; o < this._displayables.length; o++) {
        var a = this._displayables[o], u = a.getBoundingRect().clone();
        a.needLocalTransform() && u.applyTransform(a.getLocalTransform(m)), i.union(u);
      }
      this._rect = i;
    }
    return this._rect;
  }, n.prototype.contain = function(i, o) {
    var a = this.transformCoordToLocal(i, o), u = this.getBoundingRect();
    if (u.contain(a[0], a[1]))
      for (var c = 0; c < this._displayables.length; c++) {
        var f = this._displayables[c];
        if (f.contain(i, o))
          return !0;
      }
    return !1;
  }, n;
}(Displayable$1);
const IncrementalDisplayable$1 = IncrementalDisplayable;
var transitionStore = makeInner();
function getAnimationConfig(r, n, i, o, a) {
  var u;
  if (n && n.ecModel) {
    var c = n.ecModel.getUpdatePayload();
    u = c && c.animation;
  }
  var f = n && n.isAnimationEnabled(), d = r === "update";
  if (f) {
    var p = void 0, y = void 0, v = void 0;
    o ? (p = retrieve2(o.duration, 200), y = retrieve2(o.easing, "cubicOut"), v = 0) : (p = n.getShallow(d ? "animationDurationUpdate" : "animationDuration"), y = n.getShallow(d ? "animationEasingUpdate" : "animationEasing"), v = n.getShallow(d ? "animationDelayUpdate" : "animationDelay")), u && (u.duration != null && (p = u.duration), u.easing != null && (y = u.easing), u.delay != null && (v = u.delay)), isFunction$1(v) && (v = v(i, a)), isFunction$1(p) && (p = p(i));
    var g = {
      duration: p || 0,
      delay: v,
      easing: y
    };
    return g;
  } else
    return null;
}
function animateOrSetProps(r, n, i, o, a, u, c) {
  var f = !1, d;
  isFunction$1(a) ? (c = u, u = a, a = null) : isObject$3(a) && (u = a.cb, c = a.during, f = a.isFrom, d = a.removeOpt, a = a.dataIndex);
  var p = r === "leave";
  p || n.stopAnimation("leave");
  var y = getAnimationConfig(r, o, a, p ? d || {} : null, o && o.getAnimationDelayParams ? o.getAnimationDelayParams(n, a) : null);
  if (y && y.duration > 0) {
    var v = y.duration, g = y.delay, _ = y.easing, b = {
      duration: v,
      delay: g || 0,
      easing: _,
      done: u,
      force: !!u || !!c,
      // Set to final state in update/init animation.
      // So the post processing based on the path shape can be done correctly.
      setToFinal: !p,
      scope: r,
      during: c
    };
    f ? n.animateFrom(i, b) : n.animateTo(i, b);
  } else
    n.stopAnimation(), !f && n.attr(i), c && c(1), u && u();
}
function updateProps$1(r, n, i, o, a, u) {
  animateOrSetProps("update", r, n, i, o, a, u);
}
function initProps(r, n, i, o, a, u) {
  animateOrSetProps("enter", r, n, i, o, a, u);
}
function isElementRemoved(r) {
  if (!r.__zr)
    return !0;
  for (var n = 0; n < r.animators.length; n++) {
    var i = r.animators[n];
    if (i.scope === "leave")
      return !0;
  }
  return !1;
}
function removeElement(r, n, i, o, a, u) {
  isElementRemoved(r) || animateOrSetProps("leave", r, n, i, o, a, u);
}
function fadeOutDisplayable(r, n, i, o) {
  r.removeTextContent(), r.removeTextGuideLine(), removeElement(r, {
    style: {
      opacity: 0
    }
  }, n, i, o);
}
function removeElementWithFadeOut(r, n, i) {
  function o() {
    r.parent && r.parent.remove(r);
  }
  r.isGroup ? r.traverse(function(a) {
    a.isGroup || fadeOutDisplayable(a, n, i, o);
  }) : fadeOutDisplayable(r, n, i, o);
}
function saveOldStyle(r) {
  transitionStore(r).oldStyle = r.style;
}
var mathMax = Math.max, mathMin = Math.min, _customShapeMap = {};
function extendShape(r) {
  return Path$1.extend(r);
}
var extendPathFromString = extendFromString;
function extendPath(r, n) {
  return extendPathFromString(r, n);
}
function registerShape(r, n) {
  _customShapeMap[r] = n;
}
function getShapeClass(r) {
  if (_customShapeMap.hasOwnProperty(r))
    return _customShapeMap[r];
}
function makePath(r, n, i, o) {
  var a = createFromString(r, n);
  return i && (o === "center" && (i = centerGraphic(i, a.getBoundingRect())), resizePath(a, i)), a;
}
function makeImage(r, n, i) {
  var o = new ZRImage$1({
    style: {
      image: r,
      x: n.x,
      y: n.y,
      width: n.width,
      height: n.height
    },
    onload: function(a) {
      if (i === "center") {
        var u = {
          width: a.width,
          height: a.height
        };
        o.setStyle(centerGraphic(n, u));
      }
    }
  });
  return o;
}
function centerGraphic(r, n) {
  var i = n.width / n.height, o = r.height * i, a;
  o <= r.width ? a = r.height : (o = r.width, a = o / i);
  var u = r.x + r.width / 2, c = r.y + r.height / 2;
  return {
    x: u - o / 2,
    y: c - a / 2,
    width: o,
    height: a
  };
}
var mergePath = mergePath$1;
function resizePath(r, n) {
  if (r.applyTransform) {
    var i = r.getBoundingRect(), o = i.calculateTransform(n);
    r.applyTransform(o);
  }
}
function subPixelOptimizeLine(r, n) {
  return subPixelOptimizeLine$1(r, r, {
    lineWidth: n
  }), r;
}
function subPixelOptimizeRect(r) {
  return subPixelOptimizeRect$1(r.shape, r.shape, r.style), r;
}
var subPixelOptimize = subPixelOptimize$1;
function getTransform(r, n) {
  for (var i = identity$1([]); r && r !== n; )
    mul(i, r.getLocalTransform(), i), r = r.parent;
  return i;
}
function applyTransform(r, n, i) {
  return n && !isArrayLike(n) && (n = Transformable$1.getLocalTransform(n)), i && (n = invert([], n)), applyTransform$1([], r, n);
}
function transformDirection(r, n, i) {
  var o = n[4] === 0 || n[5] === 0 || n[0] === 0 ? 1 : Math.abs(2 * n[4] / n[0]), a = n[4] === 0 || n[5] === 0 || n[2] === 0 ? 1 : Math.abs(2 * n[4] / n[2]), u = [r === "left" ? -o : r === "right" ? o : 0, r === "top" ? -a : r === "bottom" ? a : 0];
  return u = applyTransform(u, n, i), Math.abs(u[0]) > Math.abs(u[1]) ? u[0] > 0 ? "right" : "left" : u[1] > 0 ? "bottom" : "top";
}
function isNotGroup(r) {
  return !r.isGroup;
}
function isPath(r) {
  return r.shape != null;
}
function groupTransition(r, n, i) {
  if (!r || !n)
    return;
  function o(c) {
    var f = {};
    return c.traverse(function(d) {
      isNotGroup(d) && d.anid && (f[d.anid] = d);
    }), f;
  }
  function a(c) {
    var f = {
      x: c.x,
      y: c.y,
      rotation: c.rotation
    };
    return isPath(c) && (f.shape = extend({}, c.shape)), f;
  }
  var u = o(r);
  n.traverse(function(c) {
    if (isNotGroup(c) && c.anid) {
      var f = u[c.anid];
      if (f) {
        var d = a(c);
        c.attr(a(f)), updateProps$1(c, d, i, getECData(c).dataIndex);
      }
    }
  });
}
function clipPointsByRect(r, n) {
  return map$1(r, function(i) {
    var o = i[0];
    o = mathMax(o, n.x), o = mathMin(o, n.x + n.width);
    var a = i[1];
    return a = mathMax(a, n.y), a = mathMin(a, n.y + n.height), [o, a];
  });
}
function clipRectByRect(r, n) {
  var i = mathMax(r.x, n.x), o = mathMin(r.x + r.width, n.x + n.width), a = mathMax(r.y, n.y), u = mathMin(r.y + r.height, n.y + n.height);
  if (o >= i && u >= a)
    return {
      x: i,
      y: a,
      width: o - i,
      height: u - a
    };
}
function createIcon(r, n, i) {
  var o = extend({
    rectHover: !0
  }, n), a = o.style = {
    strokeNoScale: !0
  };
  if (i = i || {
    x: -1,
    y: -1,
    width: 2,
    height: 2
  }, r)
    return r.indexOf("image://") === 0 ? (a.image = r.slice(8), defaults(a, i), new ZRImage$1(o)) : makePath(r.replace("path://", ""), o, i, "center");
}
function linePolygonIntersect(r, n, i, o, a) {
  for (var u = 0, c = a[a.length - 1]; u < a.length; u++) {
    var f = a[u];
    if (lineLineIntersect(r, n, i, o, f[0], f[1], c[0], c[1]))
      return !0;
    c = f;
  }
}
function lineLineIntersect(r, n, i, o, a, u, c, f) {
  var d = i - r, p = o - n, y = c - a, v = f - u, g = crossProduct2d(y, v, d, p);
  if (nearZero(g))
    return !1;
  var _ = r - a, b = n - u, A = crossProduct2d(_, b, d, p) / g;
  if (A < 0 || A > 1)
    return !1;
  var w = crossProduct2d(_, b, y, v) / g;
  return !(w < 0 || w > 1);
}
function crossProduct2d(r, n, i, o) {
  return r * o - i * n;
}
function nearZero(r) {
  return r <= 1e-6 && r >= -1e-6;
}
function setTooltipConfig(r) {
  var n = r.itemTooltipOption, i = r.componentModel, o = r.itemName, a = isString$2(n) ? {
    formatter: n
  } : n, u = i.mainType, c = i.componentIndex, f = {
    componentType: u,
    name: o,
    $vars: ["name"]
  };
  f[u + "Index"] = c;
  var d = r.formatterParamsExtra;
  d && each$4(keys(d), function(y) {
    hasOwn$1(f, y) || (f[y] = d[y], f.$vars.push(y));
  });
  var p = getECData(r.el);
  p.componentMainType = u, p.componentIndex = c, p.tooltipConfig = {
    name: o,
    option: defaults({
      content: o,
      formatterParams: f
    }, a)
  };
}
function traverseElement(r, n) {
  var i;
  r.isGroup && (i = n(r)), i || r.traverse(n);
}
function traverseElements(r, n) {
  if (r)
    if (isArray$1(r))
      for (var i = 0; i < r.length; i++)
        traverseElement(r[i], n);
    else
      traverseElement(r, n);
}
registerShape("circle", Circle$1);
registerShape("ellipse", Ellipse$1);
registerShape("sector", Sector$1);
registerShape("ring", Ring$1);
registerShape("polygon", Polygon$1);
registerShape("polyline", Polyline$1);
registerShape("rect", Rect$1);
registerShape("line", Line$1);
registerShape("bezierCurve", BezierCurve$1);
registerShape("arc", Arc$1);
const graphic = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  Arc: Arc$1,
  BezierCurve: BezierCurve$1,
  BoundingRect: BoundingRect$1,
  Circle: Circle$1,
  CompoundPath: CompoundPath$1,
  Ellipse: Ellipse$1,
  Group: Group$3,
  Image: ZRImage$1,
  IncrementalDisplayable: IncrementalDisplayable$1,
  Line: Line$1,
  LinearGradient: LinearGradient$1,
  OrientedBoundingRect: OrientedBoundingRect$1,
  Path: Path$1,
  Point: Point$1,
  Polygon: Polygon$1,
  Polyline: Polyline$1,
  RadialGradient: RadialGradient$1,
  Rect: Rect$1,
  Ring: Ring$1,
  Sector: Sector$1,
  Text: ZRText$1,
  applyTransform,
  clipPointsByRect,
  clipRectByRect,
  createIcon,
  extendPath,
  extendShape,
  getShapeClass,
  getTransform,
  groupTransition,
  initProps,
  isElementRemoved,
  lineLineIntersect,
  linePolygonIntersect,
  makeImage,
  makePath,
  mergePath,
  registerShape,
  removeElement,
  removeElementWithFadeOut,
  resizePath,
  setTooltipConfig,
  subPixelOptimize,
  subPixelOptimizeLine,
  subPixelOptimizeRect,
  transformDirection,
  traverseElements,
  updateProps: updateProps$1
}, Symbol.toStringTag, { value: "Module" }));
var EMPTY_OBJ = {};
function setLabelText(r, n) {
  for (var i = 0; i < SPECIAL_STATES.length; i++) {
    var o = SPECIAL_STATES[i], a = n[o], u = r.ensureState(o);
    u.style = u.style || {}, u.style.text = a;
  }
  var c = r.currentStates.slice();
  r.clearStates(!0), r.setStyle({
    text: n.normal
  }), r.useStates(c, !0);
}
function getLabelText(r, n, i) {
  var o = r.labelFetcher, a = r.labelDataIndex, u = r.labelDimIndex, c = n.normal, f;
  o && (f = o.getFormattedLabel(a, "normal", null, u, c && c.get("formatter"), i != null ? {
    interpolatedValue: i
  } : null)), f == null && (f = isFunction$1(r.defaultText) ? r.defaultText(a, r, i) : r.defaultText);
  for (var d = {
    normal: f
  }, p = 0; p < SPECIAL_STATES.length; p++) {
    var y = SPECIAL_STATES[p], v = n[y];
    d[y] = retrieve2(o ? o.getFormattedLabel(a, y, null, u, v && v.get("formatter")) : null, f);
  }
  return d;
}
function setLabelStyle(r, n, i, o) {
  i = i || EMPTY_OBJ;
  for (var a = r instanceof ZRText$1, u = !1, c = 0; c < DISPLAY_STATES.length; c++) {
    var f = n[DISPLAY_STATES[c]];
    if (f && f.getShallow("show")) {
      u = !0;
      break;
    }
  }
  var d = a ? r : r.getTextContent();
  if (u) {
    a || (d || (d = new ZRText$1(), r.setTextContent(d)), r.stateProxy && (d.stateProxy = r.stateProxy));
    var p = getLabelText(i, n), y = n.normal, v = !!y.getShallow("show"), g = createTextStyle(y, o && o.normal, i, !1, !a);
    g.text = p.normal, a || r.setTextConfig(createTextConfig(y, i, !1));
    for (var c = 0; c < SPECIAL_STATES.length; c++) {
      var _ = SPECIAL_STATES[c], f = n[_];
      if (f) {
        var b = d.ensureState(_), A = !!retrieve2(f.getShallow("show"), v);
        if (A !== v && (b.ignore = !A), b.style = createTextStyle(f, o && o[_], i, !0, !a), b.style.text = p[_], !a) {
          var w = r.ensureState(_);
          w.textConfig = createTextConfig(f, i, !0);
        }
      }
    }
    d.silent = !!y.getShallow("silent"), d.style.x != null && (g.x = d.style.x), d.style.y != null && (g.y = d.style.y), d.ignore = !v, d.useStyle(g), d.dirty(), i.enableTextSetter && (labelInner(d).setLabelText = function(S) {
      var x = getLabelText(i, n, S);
      setLabelText(d, x);
    });
  } else
    d && (d.ignore = !0);
  r.dirty();
}
function getLabelStatesModels(r, n) {
  n = n || "label";
  for (var i = {
    normal: r.getModel(n)
  }, o = 0; o < SPECIAL_STATES.length; o++) {
    var a = SPECIAL_STATES[o];
    i[a] = r.getModel([a, n]);
  }
  return i;
}
function createTextStyle(r, n, i, o, a) {
  var u = {};
  return setTextStyleCommon(u, r, i, o, a), n && extend(u, n), u;
}
function createTextConfig(r, n, i) {
  n = n || {};
  var o = {}, a, u = r.getShallow("rotate"), c = retrieve2(r.getShallow("distance"), i ? null : 5), f = r.getShallow("offset");
  return a = r.getShallow("position") || (i ? null : "inside"), a === "outside" && (a = n.defaultOutsidePosition || "top"), a != null && (o.position = a), f != null && (o.offset = f), u != null && (u *= Math.PI / 180, o.rotation = u), c != null && (o.distance = c), o.outsideFill = r.get("color") === "inherit" ? n.inheritColor || null : "auto", o;
}
function setTextStyleCommon(r, n, i, o, a) {
  i = i || EMPTY_OBJ;
  var u = n.ecModel, c = u && u.option.textStyle, f = getRichItemNames(n), d;
  if (f) {
    d = {};
    for (var p in f)
      if (f.hasOwnProperty(p)) {
        var y = n.getModel(["rich", p]);
        setTokenTextStyle(d[p] = {}, y, c, i, o, a, !1, !0);
      }
  }
  d && (r.rich = d);
  var v = n.get("overflow");
  v && (r.overflow = v);
  var g = n.get("minMargin");
  g != null && (r.margin = g), setTokenTextStyle(r, n, c, i, o, a, !0, !1);
}
function getRichItemNames(r) {
  for (var n; r && r !== r.ecModel; ) {
    var i = (r.option || EMPTY_OBJ).rich;
    if (i) {
      n = n || {};
      for (var o = keys(i), a = 0; a < o.length; a++) {
        var u = o[a];
        n[u] = 1;
      }
    }
    r = r.parentModel;
  }
  return n;
}
var TEXT_PROPS_WITH_GLOBAL = ["fontStyle", "fontWeight", "fontSize", "fontFamily", "textShadowColor", "textShadowBlur", "textShadowOffsetX", "textShadowOffsetY"], TEXT_PROPS_SELF = ["align", "lineHeight", "width", "height", "tag", "verticalAlign"], TEXT_PROPS_BOX = ["padding", "borderWidth", "borderRadius", "borderDashOffset", "backgroundColor", "borderColor", "shadowColor", "shadowBlur", "shadowOffsetX", "shadowOffsetY"];
function setTokenTextStyle(r, n, i, o, a, u, c, f) {
  i = !a && i || EMPTY_OBJ;
  var d = o && o.inheritColor, p = n.getShallow("color"), y = n.getShallow("textBorderColor"), v = retrieve2(n.getShallow("opacity"), i.opacity);
  (p === "inherit" || p === "auto") && (process.env.NODE_ENV !== "production" && p === "auto" && deprecateReplaceLog("color: 'auto'", "color: 'inherit'"), d ? p = d : p = null), (y === "inherit" || y === "auto") && (process.env.NODE_ENV !== "production" && y === "auto" && deprecateReplaceLog("color: 'auto'", "color: 'inherit'"), d ? y = d : y = null), u || (p = p || i.color, y = y || i.textBorderColor), p != null && (r.fill = p), y != null && (r.stroke = y);
  var g = retrieve2(n.getShallow("textBorderWidth"), i.textBorderWidth);
  g != null && (r.lineWidth = g);
  var _ = retrieve2(n.getShallow("textBorderType"), i.textBorderType);
  _ != null && (r.lineDash = _);
  var b = retrieve2(n.getShallow("textBorderDashOffset"), i.textBorderDashOffset);
  b != null && (r.lineDashOffset = b), !a && v == null && !f && (v = o && o.defaultOpacity), v != null && (r.opacity = v), !a && !u && r.fill == null && o.inheritColor && (r.fill = o.inheritColor);
  for (var A = 0; A < TEXT_PROPS_WITH_GLOBAL.length; A++) {
    var w = TEXT_PROPS_WITH_GLOBAL[A], S = retrieve2(n.getShallow(w), i[w]);
    S != null && (r[w] = S);
  }
  for (var A = 0; A < TEXT_PROPS_SELF.length; A++) {
    var w = TEXT_PROPS_SELF[A], S = n.getShallow(w);
    S != null && (r[w] = S);
  }
  if (r.verticalAlign == null) {
    var x = n.getShallow("baseline");
    x != null && (r.verticalAlign = x);
  }
  if (!c || !o.disableBox) {
    for (var A = 0; A < TEXT_PROPS_BOX.length; A++) {
      var w = TEXT_PROPS_BOX[A], S = n.getShallow(w);
      S != null && (r[w] = S);
    }
    var T = n.getShallow("borderType");
    T != null && (r.borderDash = T), (r.backgroundColor === "auto" || r.backgroundColor === "inherit") && d && (process.env.NODE_ENV !== "production" && r.backgroundColor === "auto" && deprecateReplaceLog("backgroundColor: 'auto'", "backgroundColor: 'inherit'"), r.backgroundColor = d), (r.borderColor === "auto" || r.borderColor === "inherit") && d && (process.env.NODE_ENV !== "production" && r.borderColor === "auto" && deprecateReplaceLog("borderColor: 'auto'", "borderColor: 'inherit'"), r.borderColor = d);
  }
}
function getFont(r, n) {
  var i = n && n.getModel("textStyle");
  return trim([
    // FIXME in node-canvas fontWeight is before fontStyle
    r.fontStyle || i && i.getShallow("fontStyle") || "",
    r.fontWeight || i && i.getShallow("fontWeight") || "",
    (r.fontSize || i && i.getShallow("fontSize") || 12) + "px",
    r.fontFamily || i && i.getShallow("fontFamily") || "sans-serif"
  ].join(" "));
}
var labelInner = makeInner(), PATH_COLOR = ["textStyle", "color"], textStyleParams = ["fontStyle", "fontWeight", "fontSize", "fontFamily", "padding", "lineHeight", "rich", "width", "height", "overflow"], tmpText = new ZRText$1(), TextStyleMixin = (
  /** @class */
  function() {
    function r() {
    }
    return r.prototype.getTextColor = function(n) {
      var i = this.ecModel;
      return this.getShallow("color") || (!n && i ? i.get(PATH_COLOR) : null);
    }, r.prototype.getFont = function() {
      return getFont({
        fontStyle: this.getShallow("fontStyle"),
        fontWeight: this.getShallow("fontWeight"),
        fontSize: this.getShallow("fontSize"),
        fontFamily: this.getShallow("fontFamily")
      }, this.ecModel);
    }, r.prototype.getTextRect = function(n) {
      for (var i = {
        text: n,
        verticalAlign: this.getShallow("verticalAlign") || this.getShallow("baseline")
      }, o = 0; o < textStyleParams.length; o++)
        i[textStyleParams[o]] = this.getShallow(textStyleParams[o]);
      return tmpText.useStyle(i), tmpText.update(), tmpText.getBoundingRect();
    }, r;
  }()
);
const TextStyleMixin$1 = TextStyleMixin;
var LINE_STYLE_KEY_MAP = [
  ["lineWidth", "width"],
  ["stroke", "color"],
  ["opacity"],
  ["shadowBlur"],
  ["shadowOffsetX"],
  ["shadowOffsetY"],
  ["shadowColor"],
  ["lineDash", "type"],
  ["lineDashOffset", "dashOffset"],
  ["lineCap", "cap"],
  ["lineJoin", "join"],
  ["miterLimit"]
  // Option decal is in `DecalObject` but style.decal is in `PatternObject`.
  // So do not transfer decal directly.
], getLineStyle = makeStyleMapper(LINE_STYLE_KEY_MAP), LineStyleMixin = (
  /** @class */
  function() {
    function r() {
    }
    return r.prototype.getLineStyle = function(n) {
      return getLineStyle(this, n);
    }, r;
  }()
), ITEM_STYLE_KEY_MAP = [
  ["fill", "color"],
  ["stroke", "borderColor"],
  ["lineWidth", "borderWidth"],
  ["opacity"],
  ["shadowBlur"],
  ["shadowOffsetX"],
  ["shadowOffsetY"],
  ["shadowColor"],
  ["lineDash", "borderType"],
  ["lineDashOffset", "borderDashOffset"],
  ["lineCap", "borderCap"],
  ["lineJoin", "borderJoin"],
  ["miterLimit", "borderMiterLimit"]
  // Option decal is in `DecalObject` but style.decal is in `PatternObject`.
  // So do not transfer decal directly.
], getItemStyle = makeStyleMapper(ITEM_STYLE_KEY_MAP), ItemStyleMixin = (
  /** @class */
  function() {
    function r() {
    }
    return r.prototype.getItemStyle = function(n, i) {
      return getItemStyle(this, n, i);
    }, r;
  }()
), Model = (
  /** @class */
  function() {
    function r(n, i, o) {
      this.parentModel = i, this.ecModel = o, this.option = n;
    }
    return r.prototype.init = function(n, i, o) {
    }, r.prototype.mergeOption = function(n, i) {
      merge(this.option, n, !0);
    }, r.prototype.get = function(n, i) {
      return n == null ? this.option : this._doGet(this.parsePath(n), !i && this.parentModel);
    }, r.prototype.getShallow = function(n, i) {
      var o = this.option, a = o == null ? o : o[n];
      if (a == null && !i) {
        var u = this.parentModel;
        u && (a = u.getShallow(n));
      }
      return a;
    }, r.prototype.getModel = function(n, i) {
      var o = n != null, a = o ? this.parsePath(n) : null, u = o ? this._doGet(a) : this.option;
      return i = i || this.parentModel && this.parentModel.getModel(this.resolveParentPath(a)), new r(u, i, this.ecModel);
    }, r.prototype.isEmpty = function() {
      return this.option == null;
    }, r.prototype.restoreData = function() {
    }, r.prototype.clone = function() {
      var n = this.constructor;
      return new n(clone$2(this.option));
    }, r.prototype.parsePath = function(n) {
      return typeof n == "string" ? n.split(".") : n;
    }, r.prototype.resolveParentPath = function(n) {
      return n;
    }, r.prototype.isAnimationEnabled = function() {
      if (!env$1.node && this.option) {
        if (this.option.animation != null)
          return !!this.option.animation;
        if (this.parentModel)
          return this.parentModel.isAnimationEnabled();
      }
    }, r.prototype._doGet = function(n, i) {
      var o = this.option;
      if (!n)
        return o;
      for (var a = 0; a < n.length && !(n[a] && (o = o && typeof o == "object" ? o[n[a]] : null, o == null)); a++)
        ;
      return o == null && i && (o = i._doGet(this.resolveParentPath(n), i.parentModel)), o;
    }, r;
  }()
);
enableClassExtend(Model);
enableClassCheck(Model);
mixin(Model, LineStyleMixin);
mixin(Model, ItemStyleMixin);
mixin(Model, AreaStyleMixin);
mixin(Model, TextStyleMixin$1);
const Model$1 = Model;
var base = Math.round(Math.random() * 10);
function getUID(r) {
  return [r || "", base++].join("_");
}
function enableSubTypeDefaulter(r) {
  var n = {};
  r.registerSubTypeDefaulter = function(i, o) {
    var a = parseClassType(i);
    n[a.main] = o;
  }, r.determineSubType = function(i, o) {
    var a = o.type;
    if (!a) {
      var u = parseClassType(i).main;
      r.hasSubTypes(i) && n[u] && (a = n[u](o));
    }
    return a;
  };
}
function enableTopologicalTravel(r, n) {
  r.topologicalTravel = function(u, c, f, d) {
    if (!u.length)
      return;
    var p = i(c), y = p.graph, v = p.noEntryList, g = {};
    for (each$4(u, function(x) {
      g[x] = !0;
    }); v.length; ) {
      var _ = v.pop(), b = y[_], A = !!g[_];
      A && (f.call(d, _, b.originalDeps.slice()), delete g[_]), each$4(b.successor, A ? S : w);
    }
    each$4(g, function() {
      var x = "";
      throw process.env.NODE_ENV !== "production" && (x = makePrintable("Circular dependency may exists: ", g, u, c)), new Error(x);
    });
    function w(x) {
      y[x].entryCount--, y[x].entryCount === 0 && v.push(x);
    }
    function S(x) {
      g[x] = !0, w(x);
    }
  };
  function i(u) {
    var c = {}, f = [];
    return each$4(u, function(d) {
      var p = o(c, d), y = p.originalDeps = n(d), v = a(y, u);
      p.entryCount = v.length, p.entryCount === 0 && f.push(d), each$4(v, function(g) {
        indexOf(p.predecessor, g) < 0 && p.predecessor.push(g);
        var _ = o(c, g);
        indexOf(_.successor, g) < 0 && _.successor.push(d);
      });
    }), {
      graph: c,
      noEntryList: f
    };
  }
  function o(u, c) {
    return u[c] || (u[c] = {
      predecessor: [],
      successor: []
    }), u[c];
  }
  function a(u, c) {
    var f = [];
    return each$4(u, function(d) {
      indexOf(c, d) >= 0 && f.push(d);
    }), f;
  }
}
function inheritDefaultOption(r, n) {
  return merge(merge({}, r, !0), n, !0);
}
const langEN = {
  time: {
    month: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
    monthAbbr: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
    dayOfWeek: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
    dayOfWeekAbbr: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"]
  },
  legend: {
    selector: {
      all: "All",
      inverse: "Inv"
    }
  },
  toolbox: {
    brush: {
      title: {
        rect: "Box Select",
        polygon: "Lasso Select",
        lineX: "Horizontally Select",
        lineY: "Vertically Select",
        keep: "Keep Selections",
        clear: "Clear Selections"
      }
    },
    dataView: {
      title: "Data View",
      lang: ["Data View", "Close", "Refresh"]
    },
    dataZoom: {
      title: {
        zoom: "Zoom",
        back: "Zoom Reset"
      }
    },
    magicType: {
      title: {
        line: "Switch to Line Chart",
        bar: "Switch to Bar Chart",
        stack: "Stack",
        tiled: "Tile"
      }
    },
    restore: {
      title: "Restore"
    },
    saveAsImage: {
      title: "Save as Image",
      lang: ["Right Click to Save Image"]
    }
  },
  series: {
    typeNames: {
      pie: "Pie chart",
      bar: "Bar chart",
      line: "Line chart",
      scatter: "Scatter plot",
      effectScatter: "Ripple scatter plot",
      radar: "Radar chart",
      tree: "Tree",
      treemap: "Treemap",
      boxplot: "Boxplot",
      candlestick: "Candlestick",
      k: "K line chart",
      heatmap: "Heat map",
      map: "Map",
      parallel: "Parallel coordinate map",
      lines: "Line graph",
      graph: "Relationship graph",
      sankey: "Sankey diagram",
      funnel: "Funnel chart",
      gauge: "Gauge",
      pictorialBar: "Pictorial bar",
      themeRiver: "Theme River Map",
      sunburst: "Sunburst"
    }
  },
  aria: {
    general: {
      withTitle: 'This is a chart about "{title}"',
      withoutTitle: "This is a chart"
    },
    series: {
      single: {
        prefix: "",
        withName: " with type {seriesType} named {seriesName}.",
        withoutName: " with type {seriesType}."
      },
      multiple: {
        prefix: ". It consists of {seriesCount} series count.",
        withName: " The {seriesId} series is a {seriesType} representing {seriesName}.",
        withoutName: " The {seriesId} series is a {seriesType}.",
        separator: {
          middle: "",
          end: ""
        }
      }
    },
    data: {
      allData: "The data is as follows: ",
      partialData: "The first {displayCnt} items are: ",
      withName: "the data for {name} is {value}",
      withoutName: "{value}",
      separator: {
        middle: ", ",
        end: ". "
      }
    }
  }
}, langZH = {
  time: {
    month: ["一月", "二月", "三月", "四月", "五月", "六月", "七月", "八月", "九月", "十月", "十一月", "十二月"],
    monthAbbr: ["1月", "2月", "3月", "4月", "5月", "6月", "7月", "8月", "9月", "10月", "11月", "12月"],
    dayOfWeek: ["星期日", "星期一", "星期二", "星期三", "星期四", "星期五", "星期六"],
    dayOfWeekAbbr: ["日", "一", "二", "三", "四", "五", "六"]
  },
  legend: {
    selector: {
      all: "全选",
      inverse: "反选"
    }
  },
  toolbox: {
    brush: {
      title: {
        rect: "矩形选择",
        polygon: "圈选",
        lineX: "横向选择",
        lineY: "纵向选择",
        keep: "保持选择",
        clear: "清除选择"
      }
    },
    dataView: {
      title: "数据视图",
      lang: ["数据视图", "关闭", "刷新"]
    },
    dataZoom: {
      title: {
        zoom: "区域缩放",
        back: "区域缩放还原"
      }
    },
    magicType: {
      title: {
        line: "切换为折线图",
        bar: "切换为柱状图",
        stack: "切换为堆叠",
        tiled: "切换为平铺"
      }
    },
    restore: {
      title: "还原"
    },
    saveAsImage: {
      title: "保存为图片",
      lang: ["右键另存为图片"]
    }
  },
  series: {
    typeNames: {
      pie: "饼图",
      bar: "柱状图",
      line: "折线图",
      scatter: "散点图",
      effectScatter: "涟漪散点图",
      radar: "雷达图",
      tree: "树图",
      treemap: "矩形树图",
      boxplot: "箱型图",
      candlestick: "K线图",
      k: "K线图",
      heatmap: "热力图",
      map: "地图",
      parallel: "平行坐标图",
      lines: "线图",
      graph: "关系图",
      sankey: "桑基图",
      funnel: "漏斗图",
      gauge: "仪表盘图",
      pictorialBar: "象形柱图",
      themeRiver: "主题河流图",
      sunburst: "旭日图"
    }
  },
  aria: {
    general: {
      withTitle: "这是一个关于“{title}”的图表。",
      withoutTitle: "这是一个图表，"
    },
    series: {
      single: {
        prefix: "",
        withName: "图表类型是{seriesType}，表示{seriesName}。",
        withoutName: "图表类型是{seriesType}。"
      },
      multiple: {
        prefix: "它由{seriesCount}个图表系列组成。",
        withName: "第{seriesId}个系列是一个表示{seriesName}的{seriesType}，",
        withoutName: "第{seriesId}个系列是一个{seriesType}，",
        separator: {
          middle: "；",
          end: "。"
        }
      }
    },
    data: {
      allData: "其数据是——",
      partialData: "其中，前{displayCnt}项是——",
      withName: "{name}的数据是{value}",
      withoutName: "{value}",
      separator: {
        middle: "，",
        end: ""
      }
    }
  }
};
var LOCALE_ZH = "ZH", LOCALE_EN = "EN", DEFAULT_LOCALE = LOCALE_EN, localeStorage = {}, localeModels = {}, SYSTEM_LANG = env$1.domSupported ? function() {
  var r = (
    /* eslint-disable-next-line */
    (document.documentElement.lang || navigator.language || navigator.browserLanguage).toUpperCase()
  );
  return r.indexOf(LOCALE_ZH) > -1 ? LOCALE_ZH : DEFAULT_LOCALE;
}() : DEFAULT_LOCALE;
function registerLocale(r, n) {
  r = r.toUpperCase(), localeModels[r] = new Model$1(n), localeStorage[r] = n;
}
function createLocaleObject(r) {
  if (isString$2(r)) {
    var n = localeStorage[r.toUpperCase()] || {};
    return r === LOCALE_ZH || r === LOCALE_EN ? clone$2(n) : merge(clone$2(n), clone$2(localeStorage[DEFAULT_LOCALE]), !1);
  } else
    return merge(clone$2(r), clone$2(localeStorage[DEFAULT_LOCALE]), !1);
}
function getLocaleModel(r) {
  return localeModels[r];
}
function getDefaultLocaleModel() {
  return localeModels[DEFAULT_LOCALE];
}
registerLocale(LOCALE_EN, langEN);
registerLocale(LOCALE_ZH, langZH);
function pad(r, n) {
  return r += "", "0000".substr(0, n - r.length) + r;
}
function format$1(r, n, i, o) {
  var a = parseDate(r), u = a[fullYearGetterName(i)](), c = a[monthGetterName(i)]() + 1, f = Math.floor((c - 1) / 3) + 1, d = a[dateGetterName(i)](), p = a["get" + (i ? "UTC" : "") + "Day"](), y = a[hoursGetterName(i)](), v = (y - 1) % 12 + 1, g = a[minutesGetterName(i)](), _ = a[secondsGetterName(i)](), b = a[millisecondsGetterName(i)](), A = o instanceof Model$1 ? o : getLocaleModel(o || SYSTEM_LANG) || getDefaultLocaleModel(), w = A.getModel("time"), S = w.get("month"), x = w.get("monthAbbr"), T = w.get("dayOfWeek"), L = w.get("dayOfWeekAbbr");
  return (n || "").replace(/{yyyy}/g, u + "").replace(/{yy}/g, u % 100 + "").replace(/{Q}/g, f + "").replace(/{MMMM}/g, S[c - 1]).replace(/{MMM}/g, x[c - 1]).replace(/{MM}/g, pad(c, 2)).replace(/{M}/g, c + "").replace(/{dd}/g, pad(d, 2)).replace(/{d}/g, d + "").replace(/{eeee}/g, T[p]).replace(/{ee}/g, L[p]).replace(/{e}/g, p + "").replace(/{HH}/g, pad(y, 2)).replace(/{H}/g, y + "").replace(/{hh}/g, pad(v + "", 2)).replace(/{h}/g, v + "").replace(/{mm}/g, pad(g, 2)).replace(/{m}/g, g + "").replace(/{ss}/g, pad(_, 2)).replace(/{s}/g, _ + "").replace(/{SSS}/g, pad(b, 3)).replace(/{S}/g, b + "");
}
function fullYearGetterName(r) {
  return r ? "getUTCFullYear" : "getFullYear";
}
function monthGetterName(r) {
  return r ? "getUTCMonth" : "getMonth";
}
function dateGetterName(r) {
  return r ? "getUTCDate" : "getDate";
}
function hoursGetterName(r) {
  return r ? "getUTCHours" : "getHours";
}
function minutesGetterName(r) {
  return r ? "getUTCMinutes" : "getMinutes";
}
function secondsGetterName(r) {
  return r ? "getUTCSeconds" : "getSeconds";
}
function millisecondsGetterName(r) {
  return r ? "getUTCMilliseconds" : "getMilliseconds";
}
function addCommas(r) {
  if (!isNumeric(r))
    return isString$2(r) ? r : "-";
  var n = (r + "").split(".");
  return n[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g, "$1,") + (n.length > 1 ? "." + n[1] : "");
}
function toCamelCase(r, n) {
  return r = (r || "").toLowerCase().replace(/-(.)/g, function(i, o) {
    return o.toUpperCase();
  }), n && r && (r = r.charAt(0).toUpperCase() + r.slice(1)), r;
}
var normalizeCssArray = normalizeCssArray$1;
function makeValueReadable(r, n, i) {
  var o = "{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";
  function a(y) {
    return y && trim(y) ? y : "-";
  }
  function u(y) {
    return !!(y != null && !isNaN(y) && isFinite(y));
  }
  var c = n === "time", f = r instanceof Date;
  if (c || f) {
    var d = c ? parseDate(r) : r;
    if (isNaN(+d)) {
      if (f)
        return "-";
    } else
      return format$1(d, o, i);
  }
  if (n === "ordinal")
    return isStringSafe(r) ? a(r) : isNumber$1(r) && u(r) ? r + "" : "-";
  var p = numericToNumber(r);
  return u(p) ? addCommas(p) : isStringSafe(r) ? a(r) : typeof r == "boolean" ? r + "" : "-";
}
var TPL_VAR_ALIAS = ["a", "b", "c", "d", "e", "f", "g"], wrapVar = function(r, n) {
  return "{" + r + (n ?? "") + "}";
};
function formatTpl(r, n, i) {
  isArray$1(n) || (n = [n]);
  var o = n.length;
  if (!o)
    return "";
  for (var a = n[0].$vars || [], u = 0; u < a.length; u++) {
    var c = TPL_VAR_ALIAS[u];
    r = r.replace(wrapVar(c), wrapVar(c, 0));
  }
  for (var f = 0; f < o; f++)
    for (var d = 0; d < a.length; d++) {
      var p = n[f][a[d]];
      r = r.replace(wrapVar(TPL_VAR_ALIAS[d], f), i ? encodeHTML(p) : p);
    }
  return r;
}
function getTooltipMarker(r, n) {
  var i = isString$2(r) ? {
    color: r,
    extraCssText: n
  } : r || {}, o = i.color, a = i.type;
  n = i.extraCssText;
  var u = i.renderMode || "html";
  if (!o)
    return "";
  if (u === "html")
    return a === "subItem" ? '<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:' + encodeHTML(o) + ";" + (n || "") + '"></span>' : '<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:' + encodeHTML(o) + ";" + (n || "") + '"></span>';
  var c = i.markerId || "markerX";
  return {
    renderMode: u,
    content: "{" + c + "|}  ",
    style: a === "subItem" ? {
      width: 4,
      height: 4,
      borderRadius: 2,
      backgroundColor: o
    } : {
      width: 10,
      height: 10,
      borderRadius: 5,
      backgroundColor: o
    }
  };
}
function convertToColorString(r, n) {
  return n = n || "transparent", isString$2(r) ? r : isObject$3(r) && r.colorStops && (r.colorStops[0] || {}).color || n;
}
function windowOpen(r, n) {
  if (n === "_blank" || n === "blank") {
    var i = window.open();
    i.opener = null, i.location.href = r;
  } else
    window.open(r, n);
}
var each$3 = each$4, LOCATION_PARAMS = ["left", "right", "top", "bottom", "width", "height"], HV_NAMES = [["width", "left", "right"], ["height", "top", "bottom"]];
function boxLayout(r, n, i, o, a) {
  var u = 0, c = 0;
  o == null && (o = 1 / 0), a == null && (a = 1 / 0);
  var f = 0;
  n.eachChild(function(d, p) {
    var y = d.getBoundingRect(), v = n.childAt(p + 1), g = v && v.getBoundingRect(), _, b;
    if (r === "horizontal") {
      var A = y.width + (g ? -g.x + y.x : 0);
      _ = u + A, _ > o || d.newline ? (u = 0, _ = A, c += f + i, f = y.height) : f = Math.max(f, y.height);
    } else {
      var w = y.height + (g ? -g.y + y.y : 0);
      b = c + w, b > a || d.newline ? (u += f + i, c = 0, b = w, f = y.width) : f = Math.max(f, y.width);
    }
    d.newline || (d.x = u, d.y = c, d.markRedraw(), r === "horizontal" ? u = _ + i : c = b + i);
  });
}
var box = boxLayout;
curry$1(boxLayout, "vertical");
curry$1(boxLayout, "horizontal");
function getLayoutRect(r, n, i) {
  i = normalizeCssArray(i || 0);
  var o = n.width, a = n.height, u = parsePercent(r.left, o), c = parsePercent(r.top, a), f = parsePercent(r.right, o), d = parsePercent(r.bottom, a), p = parsePercent(r.width, o), y = parsePercent(r.height, a), v = i[2] + i[0], g = i[1] + i[3], _ = r.aspect;
  switch (isNaN(p) && (p = o - f - g - u), isNaN(y) && (y = a - d - v - c), _ != null && (isNaN(p) && isNaN(y) && (_ > o / a ? p = o * 0.8 : y = a * 0.8), isNaN(p) && (p = _ * y), isNaN(y) && (y = p / _)), isNaN(u) && (u = o - f - p - g), isNaN(c) && (c = a - d - y - v), r.left || r.right) {
    case "center":
      u = o / 2 - p / 2 - i[3];
      break;
    case "right":
      u = o - p - g;
      break;
  }
  switch (r.top || r.bottom) {
    case "middle":
    case "center":
      c = a / 2 - y / 2 - i[0];
      break;
    case "bottom":
      c = a - y - v;
      break;
  }
  u = u || 0, c = c || 0, isNaN(p) && (p = o - g - u - (f || 0)), isNaN(y) && (y = a - v - c - (d || 0));
  var b = new BoundingRect$1(u + i[3], c + i[0], p, y);
  return b.margin = i, b;
}
function fetchLayoutMode(r) {
  var n = r.layoutMode || r.constructor.layoutMode;
  return isObject$3(n) ? n : n ? {
    type: n
  } : null;
}
function mergeLayoutParam(r, n, i) {
  var o = i && i.ignoreSize;
  !isArray$1(o) && (o = [o, o]);
  var a = c(HV_NAMES[0], 0), u = c(HV_NAMES[1], 1);
  p(HV_NAMES[0], r, a), p(HV_NAMES[1], r, u);
  function c(y, v) {
    var g = {}, _ = 0, b = {}, A = 0, w = 2;
    if (each$3(y, function(T) {
      b[T] = r[T];
    }), each$3(y, function(T) {
      f(n, T) && (g[T] = b[T] = n[T]), d(g, T) && _++, d(b, T) && A++;
    }), o[v])
      return d(n, y[1]) ? b[y[2]] = null : d(n, y[2]) && (b[y[1]] = null), b;
    if (A === w || !_)
      return b;
    if (_ >= w)
      return g;
    for (var S = 0; S < y.length; S++) {
      var x = y[S];
      if (!f(g, x) && f(r, x)) {
        g[x] = r[x];
        break;
      }
    }
    return g;
  }
  function f(y, v) {
    return y.hasOwnProperty(v);
  }
  function d(y, v) {
    return y[v] != null && y[v] !== "auto";
  }
  function p(y, v, g) {
    each$3(y, function(_) {
      v[_] = g[_];
    });
  }
}
function getLayoutParams(r) {
  return copyLayoutParams({}, r);
}
function copyLayoutParams(r, n) {
  return n && r && each$3(LOCATION_PARAMS, function(i) {
    n.hasOwnProperty(i) && (r[i] = n[i]);
  }), r;
}
var inner$7 = makeInner(), ComponentModel = (
  /** @class */
  function(r) {
    __extends(n, r);
    function n(i, o, a) {
      var u = r.call(this, i, o, a) || this;
      return u.uid = getUID("ec_cpt_model"), u;
    }
    return n.prototype.init = function(i, o, a) {
      this.mergeDefaultAndTheme(i, a);
    }, n.prototype.mergeDefaultAndTheme = function(i, o) {
      var a = fetchLayoutMode(this), u = a ? getLayoutParams(i) : {}, c = o.getTheme();
      merge(i, c.get(this.mainType)), merge(i, this.getDefaultOption()), a && mergeLayoutParam(i, u, a);
    }, n.prototype.mergeOption = function(i, o) {
      merge(this.option, i, !0);
      var a = fetchLayoutMode(this);
      a && mergeLayoutParam(this.option, i, a);
    }, n.prototype.optionUpdated = function(i, o) {
    }, n.prototype.getDefaultOption = function() {
      var i = this.constructor;
      if (!isExtendedClass(i))
        return i.defaultOption;
      var o = inner$7(this);
      if (!o.defaultOption) {
        for (var a = [], u = i; u; ) {
          var c = u.prototype.defaultOption;
          c && a.push(c), u = u.superClass;
        }
        for (var f = {}, d = a.length - 1; d >= 0; d--)
          f = merge(f, a[d], !0);
        o.defaultOption = f;
      }
      return o.defaultOption;
    }, n.prototype.getReferringComponents = function(i, o) {
      var a = i + "Index", u = i + "Id";
      return queryReferringComponents(this.ecModel, i, {
        index: this.get(a, !0),
        id: this.get(u, !0)
      }, o);
    }, n.prototype.getBoxLayoutParams = function() {
      var i = this;
      return {
        left: i.get("left"),
        top: i.get("top"),
        right: i.get("right"),
        bottom: i.get("bottom"),
        width: i.get("width"),
        height: i.get("height")
      };
    }, n.prototype.getZLevelKey = function() {
      return "";
    }, n.prototype.setZLevel = function(i) {
      this.option.zlevel = i;
    }, n.protoInitialize = function() {
      var i = n.prototype;
      i.type = "component", i.id = "", i.name = "", i.mainType = "", i.subType = "", i.componentIndex = 0;
    }(), n;
  }(Model$1)
);
mountExtend(ComponentModel, Model$1);
enableClassManagement(ComponentModel);
enableSubTypeDefaulter(ComponentModel);
enableTopologicalTravel(ComponentModel, getDependencies);
function getDependencies(r) {
  var n = [];
  return each$4(ComponentModel.getClassesByMainType(r), function(i) {
    n = n.concat(i.dependencies || i.prototype.dependencies || []);
  }), n = map$1(n, function(i) {
    return parseClassType(i).main;
  }), r !== "dataset" && indexOf(n, "dataset") <= 0 && n.unshift("dataset"), n;
}
const ComponentModel$1 = ComponentModel;
var platform = "";
typeof navigator < "u" && (platform = navigator.platform || "");
var decalColor = "rgba(0, 0, 0, 0.2)";
const globalDefault = {
  darkMode: "auto",
  // backgroundColor: 'rgba(0,0,0,0)',
  colorBy: "series",
  color: ["#5470c6", "#91cc75", "#fac858", "#ee6666", "#73c0de", "#3ba272", "#fc8452", "#9a60b4", "#ea7ccc"],
  gradientColor: ["#f6efa6", "#d88273", "#bf444c"],
  aria: {
    decal: {
      decals: [{
        color: decalColor,
        dashArrayX: [1, 0],
        dashArrayY: [2, 5],
        symbolSize: 1,
        rotation: Math.PI / 6
      }, {
        color: decalColor,
        symbol: "circle",
        dashArrayX: [[8, 8], [0, 8, 8, 0]],
        dashArrayY: [6, 0],
        symbolSize: 0.8
      }, {
        color: decalColor,
        dashArrayX: [1, 0],
        dashArrayY: [4, 3],
        rotation: -Math.PI / 4
      }, {
        color: decalColor,
        dashArrayX: [[6, 6], [0, 6, 6, 0]],
        dashArrayY: [6, 0]
      }, {
        color: decalColor,
        dashArrayX: [[1, 0], [1, 6]],
        dashArrayY: [1, 0, 6, 0],
        rotation: Math.PI / 4
      }, {
        color: decalColor,
        symbol: "triangle",
        dashArrayX: [[9, 9], [0, 9, 9, 0]],
        dashArrayY: [7, 2],
        symbolSize: 0.75
      }]
    }
  },
  // If xAxis and yAxis declared, grid is created by default.
  // grid: {},
  textStyle: {
    // color: '#000',
    // decoration: 'none',
    // PENDING
    fontFamily: platform.match(/^Win/) ? "Microsoft YaHei" : "sans-serif",
    // fontFamily: 'Arial, Verdana, sans-serif',
    fontSize: 12,
    fontStyle: "normal",
    fontWeight: "normal"
  },
  // http://blogs.adobe.com/webplatform/2014/02/24/using-blend-modes-in-html-canvas/
  // https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/globalCompositeOperation
  // Default is source-over
  blendMode: null,
  stateAnimation: {
    duration: 300,
    easing: "cubicOut"
  },
  animation: "auto",
  animationDuration: 1e3,
  animationDurationUpdate: 500,
  animationEasing: "cubicInOut",
  animationEasingUpdate: "cubicInOut",
  animationThreshold: 2e3,
  // Configuration for progressive/incremental rendering
  progressiveThreshold: 3e3,
  progressive: 400,
  // Threshold of if use single hover layer to optimize.
  // It is recommended that `hoverLayerThreshold` is equivalent to or less than
  // `progressiveThreshold`, otherwise hover will cause restart of progressive,
  // which is unexpected.
  // see example <echarts/test/heatmap-large.html>.
  hoverLayerThreshold: 3e3,
  // See: module:echarts/scale/Time
  useUTC: !1
};
var VISUAL_DIMENSIONS = createHashMap(["tooltip", "label", "itemName", "itemId", "itemGroupId", "seriesName"]), SOURCE_FORMAT_ORIGINAL = "original", SOURCE_FORMAT_ARRAY_ROWS = "arrayRows", SOURCE_FORMAT_OBJECT_ROWS = "objectRows", SOURCE_FORMAT_KEYED_COLUMNS = "keyedColumns", SOURCE_FORMAT_TYPED_ARRAY = "typedArray", SOURCE_FORMAT_UNKNOWN = "unknown", SERIES_LAYOUT_BY_COLUMN = "column", SERIES_LAYOUT_BY_ROW = "row", BE_ORDINAL = {
  Must: 1,
  Might: 2,
  Not: 3
  // Other cases
}, innerGlobalModel = makeInner();
function resetSourceDefaulter(r) {
  innerGlobalModel(r).datasetMap = createHashMap();
}
function makeSeriesEncodeForNameBased(r, n, i) {
  var o = {}, a = querySeriesUpstreamDatasetModel(r);
  if (!a)
    return o;
  var u = n.sourceFormat, c = n.dimensionsDefine, f;
  (u === SOURCE_FORMAT_OBJECT_ROWS || u === SOURCE_FORMAT_KEYED_COLUMNS) && each$4(c, function(y, v) {
    (isObject$3(y) ? y.name : y) === "name" && (f = v);
  });
  var d = function() {
    for (var y = {}, v = {}, g = [], _ = 0, b = Math.min(5, i); _ < b; _++) {
      var A = doGuessOrdinal(n.data, u, n.seriesLayoutBy, c, n.startIndex, _);
      g.push(A);
      var w = A === BE_ORDINAL.Not;
      if (w && y.v == null && _ !== f && (y.v = _), (y.n == null || y.n === y.v || !w && g[y.n] === BE_ORDINAL.Not) && (y.n = _), S(y) && g[y.n] !== BE_ORDINAL.Not)
        return y;
      w || (A === BE_ORDINAL.Might && v.v == null && _ !== f && (v.v = _), (v.n == null || v.n === v.v) && (v.n = _));
    }
    function S(x) {
      return x.v != null && x.n != null;
    }
    return S(y) ? y : S(v) ? v : null;
  }();
  if (d) {
    o.value = [d.v];
    var p = f ?? d.n;
    o.itemName = [p], o.seriesName = [p];
  }
  return o;
}
function querySeriesUpstreamDatasetModel(r) {
  var n = r.get("data", !0);
  if (!n)
    return queryReferringComponents(r.ecModel, "dataset", {
      index: r.get("datasetIndex", !0),
      id: r.get("datasetId", !0)
    }, SINGLE_REFERRING).models[0];
}
function queryDatasetUpstreamDatasetModels(r) {
  return !r.get("transform", !0) && !r.get("fromTransformResult", !0) ? [] : queryReferringComponents(r.ecModel, "dataset", {
    index: r.get("fromDatasetIndex", !0),
    id: r.get("fromDatasetId", !0)
  }, SINGLE_REFERRING).models;
}
function guessOrdinal(r, n) {
  return doGuessOrdinal(r.data, r.sourceFormat, r.seriesLayoutBy, r.dimensionsDefine, r.startIndex, n);
}
function doGuessOrdinal(r, n, i, o, a, u) {
  var c, f = 5;
  if (isTypedArray(r))
    return BE_ORDINAL.Not;
  var d, p;
  if (o) {
    var y = o[u];
    isObject$3(y) ? (d = y.name, p = y.type) : isString$2(y) && (d = y);
  }
  if (p != null)
    return p === "ordinal" ? BE_ORDINAL.Must : BE_ORDINAL.Not;
  if (n === SOURCE_FORMAT_ARRAY_ROWS) {
    var v = r;
    if (i === SERIES_LAYOUT_BY_ROW) {
      for (var g = v[u], _ = 0; _ < (g || []).length && _ < f; _++)
        if ((c = L(g[a + _])) != null)
          return c;
    } else
      for (var _ = 0; _ < v.length && _ < f; _++) {
        var b = v[a + _];
        if (b && (c = L(b[u])) != null)
          return c;
      }
  } else if (n === SOURCE_FORMAT_OBJECT_ROWS) {
    var A = r;
    if (!d)
      return BE_ORDINAL.Not;
    for (var _ = 0; _ < A.length && _ < f; _++) {
      var w = A[_];
      if (w && (c = L(w[d])) != null)
        return c;
    }
  } else if (n === SOURCE_FORMAT_KEYED_COLUMNS) {
    var S = r;
    if (!d)
      return BE_ORDINAL.Not;
    var g = S[d];
    if (!g || isTypedArray(g))
      return BE_ORDINAL.Not;
    for (var _ = 0; _ < g.length && _ < f; _++)
      if ((c = L(g[_])) != null)
        return c;
  } else if (n === SOURCE_FORMAT_ORIGINAL)
    for (var x = r, _ = 0; _ < x.length && _ < f; _++) {
      var w = x[_], T = getDataItemValue(w);
      if (!isArray$1(T))
        return BE_ORDINAL.Not;
      if ((c = L(T[u])) != null)
        return c;
    }
  function L(k) {
    var M = isString$2(k);
    if (k != null && isFinite(k) && k !== "")
      return M ? BE_ORDINAL.Might : BE_ORDINAL.Not;
    if (M && k !== "-")
      return BE_ORDINAL.Must;
  }
  return BE_ORDINAL.Not;
}
var internalOptionCreatorMap = createHashMap();
function concatInternalOptions(r, n, i) {
  var o = internalOptionCreatorMap.get(n);
  if (!o)
    return i;
  var a = o(r);
  if (!a)
    return i;
  if (process.env.NODE_ENV !== "production")
    for (var u = 0; u < a.length; u++)
      assert(isComponentIdInternal(a[u]));
  return i.concat(a);
}
var innerColor = makeInner();
makeInner();
var PaletteMixin = (
  /** @class */
  function() {
    function r() {
    }
    return r.prototype.getColorFromPalette = function(n, i, o) {
      var a = normalizeToArray(this.get("color", !0)), u = this.get("colorLayer", !0);
      return getFromPalette(this, innerColor, a, u, n, i, o);
    }, r.prototype.clearColorPalette = function() {
      clearPalette(this, innerColor);
    }, r;
  }()
);
function getNearestPalette(r, n) {
  for (var i = r.length, o = 0; o < i; o++)
    if (r[o].length > n)
      return r[o];
  return r[i - 1];
}
function getFromPalette(r, n, i, o, a, u, c) {
  u = u || r;
  var f = n(u), d = f.paletteIdx || 0, p = f.paletteNameMap = f.paletteNameMap || {};
  if (p.hasOwnProperty(a))
    return p[a];
  var y = c == null || !o ? i : getNearestPalette(o, c);
  if (y = y || i, !(!y || !y.length)) {
    var v = y[d];
    return a && (p[a] = v), f.paletteIdx = (d + 1) % y.length, v;
  }
}
function clearPalette(r, n) {
  n(r).paletteIdx = 0, n(r).paletteNameMap = {};
}
var reCreateSeriesIndices, assertSeriesInitialized, initBase, OPTION_INNER_KEY = "\0_ec_inner", OPTION_INNER_VALUE = 1, BUITIN_COMPONENTS_MAP = {
  grid: "GridComponent",
  polar: "PolarComponent",
  geo: "GeoComponent",
  singleAxis: "SingleAxisComponent",
  parallel: "ParallelComponent",
  calendar: "CalendarComponent",
  graphic: "GraphicComponent",
  toolbox: "ToolboxComponent",
  tooltip: "TooltipComponent",
  axisPointer: "AxisPointerComponent",
  brush: "BrushComponent",
  title: "TitleComponent",
  timeline: "TimelineComponent",
  markPoint: "MarkPointComponent",
  markLine: "MarkLineComponent",
  markArea: "MarkAreaComponent",
  legend: "LegendComponent",
  dataZoom: "DataZoomComponent",
  visualMap: "VisualMapComponent",
  // aria: 'AriaComponent',
  // dataset: 'DatasetComponent',
  // Dependencies
  xAxis: "GridComponent",
  yAxis: "GridComponent",
  angleAxis: "PolarComponent",
  radiusAxis: "PolarComponent"
}, BUILTIN_CHARTS_MAP = {
  line: "LineChart",
  bar: "BarChart",
  pie: "PieChart",
  scatter: "ScatterChart",
  radar: "RadarChart",
  map: "MapChart",
  tree: "TreeChart",
  treemap: "TreemapChart",
  graph: "GraphChart",
  gauge: "GaugeChart",
  funnel: "FunnelChart",
  parallel: "ParallelChart",
  sankey: "SankeyChart",
  boxplot: "BoxplotChart",
  candlestick: "CandlestickChart",
  effectScatter: "EffectScatterChart",
  lines: "LinesChart",
  heatmap: "HeatmapChart",
  pictorialBar: "PictorialBarChart",
  themeRiver: "ThemeRiverChart",
  sunburst: "SunburstChart",
  custom: "CustomChart"
}, componetsMissingLogPrinted = {};
function checkMissingComponents(r) {
  each$4(r, function(n, i) {
    if (!ComponentModel$1.hasClass(i)) {
      var o = BUITIN_COMPONENTS_MAP[i];
      o && !componetsMissingLogPrinted[o] && (error("Component " + i + ` is used but not imported.
import { ` + o + ` } from 'echarts/components';
echarts.use([` + o + "]);"), componetsMissingLogPrinted[o] = !0);
    }
  });
}
var GlobalModel = (
  /** @class */
  function(r) {
    __extends(n, r);
    function n() {
      return r !== null && r.apply(this, arguments) || this;
    }
    return n.prototype.init = function(i, o, a, u, c, f) {
      u = u || {}, this.option = null, this._theme = new Model$1(u), this._locale = new Model$1(c), this._optionManager = f;
    }, n.prototype.setOption = function(i, o, a) {
      process.env.NODE_ENV !== "production" && (assert(i != null, "option is null/undefined"), assert(i[OPTION_INNER_KEY] !== OPTION_INNER_VALUE, "please use chart.getOption()"));
      var u = normalizeSetOptionInput(o);
      this._optionManager.setOption(i, a, u), this._resetOption(null, u);
    }, n.prototype.resetOption = function(i, o) {
      return this._resetOption(i, normalizeSetOptionInput(o));
    }, n.prototype._resetOption = function(i, o) {
      var a = !1, u = this._optionManager;
      if (!i || i === "recreate") {
        var c = u.mountOption(i === "recreate");
        process.env.NODE_ENV !== "production" && checkMissingComponents(c), !this.option || i === "recreate" ? initBase(this, c) : (this.restoreData(), this._mergeOption(c, o)), a = !0;
      }
      if ((i === "timeline" || i === "media") && this.restoreData(), !i || i === "recreate" || i === "timeline") {
        var f = u.getTimelineOption(this);
        f && (a = !0, this._mergeOption(f, o));
      }
      if (!i || i === "recreate" || i === "media") {
        var d = u.getMediaOption(this);
        d.length && each$4(d, function(p) {
          a = !0, this._mergeOption(p, o);
        }, this);
      }
      return a;
    }, n.prototype.mergeOption = function(i) {
      this._mergeOption(i, null);
    }, n.prototype._mergeOption = function(i, o) {
      var a = this.option, u = this._componentsMap, c = this._componentsCount, f = [], d = createHashMap(), p = o && o.replaceMergeMainTypeMap;
      resetSourceDefaulter(this), each$4(i, function(v, g) {
        v != null && (ComponentModel$1.hasClass(g) ? g && (f.push(g), d.set(g, !0)) : a[g] = a[g] == null ? clone$2(v) : merge(a[g], v, !0));
      }), p && p.each(function(v, g) {
        ComponentModel$1.hasClass(g) && !d.get(g) && (f.push(g), d.set(g, !0));
      }), ComponentModel$1.topologicalTravel(f, ComponentModel$1.getAllClassMainTypes(), y, this);
      function y(v) {
        var g = concatInternalOptions(this, v, normalizeToArray(i[v])), _ = u.get(v), b = (
          // `!oldCmptList` means init. See the comment in `mappingToExists`
          _ ? p && p.get(v) ? "replaceMerge" : "normalMerge" : "replaceAll"
        ), A = mappingToExists(_, g, b);
        setComponentTypeToKeyInfo(A, v, ComponentModel$1), a[v] = null, u.set(v, null), c.set(v, 0);
        var w = [], S = [], x = 0, T, L;
        each$4(A, function(k, M) {
          var O = k.existing, ie = k.newOption;
          if (!ie)
            O && (O.mergeOption({}, this), O.optionUpdated({}, !1));
          else {
            var F = v === "series", re = ComponentModel$1.getClass(
              v,
              k.keyInfo.subType,
              !F
              // Give a more detailed warn later if series don't exists
            );
            if (!re) {
              if (process.env.NODE_ENV !== "production") {
                var D = k.keyInfo.subType, Y = BUILTIN_CHARTS_MAP[D];
                componetsMissingLogPrinted[D] || (componetsMissingLogPrinted[D] = !0, error(Y ? "Series " + D + ` is used but not imported.
import { ` + Y + ` } from 'echarts/charts';
echarts.use([` + Y + "]);" : "Unknown series " + D));
              }
              return;
            }
            if (v === "tooltip") {
              if (T) {
                process.env.NODE_ENV !== "production" && (L || (warn("Currently only one tooltip component is allowed."), L = !0));
                return;
              }
              T = !0;
            }
            if (O && O.constructor === re)
              O.name = k.keyInfo.name, O.mergeOption(ie, this), O.optionUpdated(ie, !1);
            else {
              var z = extend({
                componentIndex: M
              }, k.keyInfo);
              O = new re(ie, this, this, z), extend(O, z), k.brandNew && (O.__requireNewView = !0), O.init(ie, this, this), O.optionUpdated(null, !0);
            }
          }
          O ? (w.push(O.option), S.push(O), x++) : (w.push(void 0), S.push(void 0));
        }, this), a[v] = w, u.set(v, S), c.set(v, x), v === "series" && reCreateSeriesIndices(this);
      }
      this._seriesIndices || reCreateSeriesIndices(this);
    }, n.prototype.getOption = function() {
      var i = clone$2(this.option);
      return each$4(i, function(o, a) {
        if (ComponentModel$1.hasClass(a)) {
          for (var u = normalizeToArray(o), c = u.length, f = !1, d = c - 1; d >= 0; d--)
            u[d] && !isComponentIdInternal(u[d]) ? f = !0 : (u[d] = null, !f && c--);
          u.length = c, i[a] = u;
        }
      }), delete i[OPTION_INNER_KEY], i;
    }, n.prototype.getTheme = function() {
      return this._theme;
    }, n.prototype.getLocaleModel = function() {
      return this._locale;
    }, n.prototype.setUpdatePayload = function(i) {
      this._payload = i;
    }, n.prototype.getUpdatePayload = function() {
      return this._payload;
    }, n.prototype.getComponent = function(i, o) {
      var a = this._componentsMap.get(i);
      if (a) {
        var u = a[o || 0];
        if (u)
          return u;
        if (o == null) {
          for (var c = 0; c < a.length; c++)
            if (a[c])
              return a[c];
        }
      }
    }, n.prototype.queryComponents = function(i) {
      var o = i.mainType;
      if (!o)
        return [];
      var a = i.index, u = i.id, c = i.name, f = this._componentsMap.get(o);
      if (!f || !f.length)
        return [];
      var d;
      return a != null ? (d = [], each$4(normalizeToArray(a), function(p) {
        f[p] && d.push(f[p]);
      })) : u != null ? d = queryByIdOrName("id", u, f) : c != null ? d = queryByIdOrName("name", c, f) : d = filter(f, function(p) {
        return !!p;
      }), filterBySubType(d, i);
    }, n.prototype.findComponents = function(i) {
      var o = i.query, a = i.mainType, u = f(o), c = u ? this.queryComponents(u) : filter(this._componentsMap.get(a), function(p) {
        return !!p;
      });
      return d(filterBySubType(c, i));
      function f(p) {
        var y = a + "Index", v = a + "Id", g = a + "Name";
        return p && (p[y] != null || p[v] != null || p[g] != null) ? {
          mainType: a,
          // subType will be filtered finally.
          index: p[y],
          id: p[v],
          name: p[g]
        } : null;
      }
      function d(p) {
        return i.filter ? filter(p, i.filter) : p;
      }
    }, n.prototype.eachComponent = function(i, o, a) {
      var u = this._componentsMap;
      if (isFunction$1(i)) {
        var c = o, f = i;
        u.each(function(v, g) {
          for (var _ = 0; v && _ < v.length; _++) {
            var b = v[_];
            b && f.call(c, g, b, b.componentIndex);
          }
        });
      } else
        for (var d = isString$2(i) ? u.get(i) : isObject$3(i) ? this.findComponents(i) : null, p = 0; d && p < d.length; p++) {
          var y = d[p];
          y && o.call(a, y, y.componentIndex);
        }
    }, n.prototype.getSeriesByName = function(i) {
      var o = convertOptionIdName(i, null);
      return filter(this._componentsMap.get("series"), function(a) {
        return !!a && o != null && a.name === o;
      });
    }, n.prototype.getSeriesByIndex = function(i) {
      return this._componentsMap.get("series")[i];
    }, n.prototype.getSeriesByType = function(i) {
      return filter(this._componentsMap.get("series"), function(o) {
        return !!o && o.subType === i;
      });
    }, n.prototype.getSeries = function() {
      return filter(this._componentsMap.get("series"), function(i) {
        return !!i;
      });
    }, n.prototype.getSeriesCount = function() {
      return this._componentsCount.get("series");
    }, n.prototype.eachSeries = function(i, o) {
      assertSeriesInitialized(this), each$4(this._seriesIndices, function(a) {
        var u = this._componentsMap.get("series")[a];
        i.call(o, u, a);
      }, this);
    }, n.prototype.eachRawSeries = function(i, o) {
      each$4(this._componentsMap.get("series"), function(a) {
        a && i.call(o, a, a.componentIndex);
      });
    }, n.prototype.eachSeriesByType = function(i, o, a) {
      assertSeriesInitialized(this), each$4(this._seriesIndices, function(u) {
        var c = this._componentsMap.get("series")[u];
        c.subType === i && o.call(a, c, u);
      }, this);
    }, n.prototype.eachRawSeriesByType = function(i, o, a) {
      return each$4(this.getSeriesByType(i), o, a);
    }, n.prototype.isSeriesFiltered = function(i) {
      return assertSeriesInitialized(this), this._seriesIndicesMap.get(i.componentIndex) == null;
    }, n.prototype.getCurrentSeriesIndices = function() {
      return (this._seriesIndices || []).slice();
    }, n.prototype.filterSeries = function(i, o) {
      assertSeriesInitialized(this);
      var a = [];
      each$4(this._seriesIndices, function(u) {
        var c = this._componentsMap.get("series")[u];
        i.call(o, c, u) && a.push(u);
      }, this), this._seriesIndices = a, this._seriesIndicesMap = createHashMap(a);
    }, n.prototype.restoreData = function(i) {
      reCreateSeriesIndices(this);
      var o = this._componentsMap, a = [];
      o.each(function(u, c) {
        ComponentModel$1.hasClass(c) && a.push(c);
      }), ComponentModel$1.topologicalTravel(a, ComponentModel$1.getAllClassMainTypes(), function(u) {
        each$4(o.get(u), function(c) {
          c && (u !== "series" || !isNotTargetSeries(c, i)) && c.restoreData();
        });
      });
    }, n.internalField = function() {
      reCreateSeriesIndices = function(i) {
        var o = i._seriesIndices = [];
        each$4(i._componentsMap.get("series"), function(a) {
          a && o.push(a.componentIndex);
        }), i._seriesIndicesMap = createHashMap(o);
      }, assertSeriesInitialized = function(i) {
        if (process.env.NODE_ENV !== "production" && !i._seriesIndices)
          throw new Error("Option should contains series.");
      }, initBase = function(i, o) {
        i.option = {}, i.option[OPTION_INNER_KEY] = OPTION_INNER_VALUE, i._componentsMap = createHashMap({
          series: []
        }), i._componentsCount = createHashMap();
        var a = o.aria;
        isObject$3(a) && a.enabled == null && (a.enabled = !0), mergeTheme(o, i._theme.option), merge(o, globalDefault, !1), i._mergeOption(o, null);
      };
    }(), n;
  }(Model$1)
);
function isNotTargetSeries(r, n) {
  if (n) {
    var i = n.seriesIndex, o = n.seriesId, a = n.seriesName;
    return i != null && r.componentIndex !== i || o != null && r.id !== o || a != null && r.name !== a;
  }
}
function mergeTheme(r, n) {
  var i = r.color && !r.colorLayer;
  each$4(n, function(o, a) {
    a === "colorLayer" && i || ComponentModel$1.hasClass(a) || (typeof o == "object" ? r[a] = r[a] ? merge(r[a], o, !1) : clone$2(o) : r[a] == null && (r[a] = o));
  });
}
function queryByIdOrName(r, n, i) {
  if (isArray$1(n)) {
    var o = createHashMap();
    return each$4(n, function(u) {
      if (u != null) {
        var c = convertOptionIdName(u, null);
        c != null && o.set(u, !0);
      }
    }), filter(i, function(u) {
      return u && o.get(u[r]);
    });
  } else {
    var a = convertOptionIdName(n, null);
    return filter(i, function(u) {
      return u && a != null && u[r] === a;
    });
  }
}
function filterBySubType(r, n) {
  return n.hasOwnProperty("subType") ? filter(r, function(i) {
    return i && i.subType === n.subType;
  }) : r;
}
function normalizeSetOptionInput(r) {
  var n = createHashMap();
  return r && each$4(normalizeToArray(r.replaceMerge), function(i) {
    process.env.NODE_ENV !== "production" && assert(ComponentModel$1.hasClass(i), '"' + i + '" is not valid component main type in "replaceMerge"'), n.set(i, !0);
  }), {
    replaceMergeMainTypeMap: n
  };
}
mixin(GlobalModel, PaletteMixin);
const GlobalModel$1 = GlobalModel;
var availableMethods = [
  "getDom",
  "getZr",
  "getWidth",
  "getHeight",
  "getDevicePixelRatio",
  "dispatchAction",
  "isSSR",
  "isDisposed",
  "on",
  "off",
  "getDataURL",
  "getConnectedDataURL",
  // 'getModel',
  "getOption",
  // 'getViewOfComponentModel',
  // 'getViewOfSeriesModel',
  "getId",
  "updateLabelLayout"
], ExtensionAPI = (
  /** @class */
  function() {
    function r(n) {
      each$4(availableMethods, function(i) {
        this[i] = bind$1(n[i], n);
      }, this);
    }
    return r;
  }()
);
const ExtensionAPI$1 = ExtensionAPI;
var coordinateSystemCreators = {}, CoordinateSystemManager = (
  /** @class */
  function() {
    function r() {
      this._coordinateSystems = [];
    }
    return r.prototype.create = function(n, i) {
      var o = [];
      each$4(coordinateSystemCreators, function(a, u) {
        var c = a.create(n, i);
        o = o.concat(c || []);
      }), this._coordinateSystems = o;
    }, r.prototype.update = function(n, i) {
      each$4(this._coordinateSystems, function(o) {
        o.update && o.update(n, i);
      });
    }, r.prototype.getCoordinateSystems = function() {
      return this._coordinateSystems.slice();
    }, r.register = function(n, i) {
      coordinateSystemCreators[n] = i;
    }, r.get = function(n) {
      return coordinateSystemCreators[n];
    }, r;
  }()
);
const CoordinateSystem = CoordinateSystemManager;
var QUERY_REG = /^(min|max)?(.+)$/, OptionManager = (
  /** @class */
  function() {
    function r(n) {
      this._timelineOptions = [], this._mediaList = [], this._currentMediaIndices = [], this._api = n;
    }
    return r.prototype.setOption = function(n, i, o) {
      n && (each$4(normalizeToArray(n.series), function(c) {
        c && c.data && isTypedArray(c.data) && setAsPrimitive(c.data);
      }), each$4(normalizeToArray(n.dataset), function(c) {
        c && c.source && isTypedArray(c.source) && setAsPrimitive(c.source);
      })), n = clone$2(n);
      var a = this._optionBackup, u = parseRawOption(n, i, !a);
      this._newBaseOption = u.baseOption, a ? (u.timelineOptions.length && (a.timelineOptions = u.timelineOptions), u.mediaList.length && (a.mediaList = u.mediaList), u.mediaDefault && (a.mediaDefault = u.mediaDefault)) : this._optionBackup = u;
    }, r.prototype.mountOption = function(n) {
      var i = this._optionBackup;
      return this._timelineOptions = i.timelineOptions, this._mediaList = i.mediaList, this._mediaDefault = i.mediaDefault, this._currentMediaIndices = [], clone$2(n ? i.baseOption : this._newBaseOption);
    }, r.prototype.getTimelineOption = function(n) {
      var i, o = this._timelineOptions;
      if (o.length) {
        var a = n.getComponent("timeline");
        a && (i = clone$2(
          // FIXME:TS as TimelineModel or quivlant interface
          o[a.getCurrentIndex()]
        ));
      }
      return i;
    }, r.prototype.getMediaOption = function(n) {
      var i = this._api.getWidth(), o = this._api.getHeight(), a = this._mediaList, u = this._mediaDefault, c = [], f = [];
      if (!a.length && !u)
        return f;
      for (var d = 0, p = a.length; d < p; d++)
        applyMediaQuery(a[d].query, i, o) && c.push(d);
      return !c.length && u && (c = [-1]), c.length && !indicesEquals(c, this._currentMediaIndices) && (f = map$1(c, function(y) {
        return clone$2(y === -1 ? u.option : a[y].option);
      })), this._currentMediaIndices = c, f;
    }, r;
  }()
);
function parseRawOption(r, n, i) {
  var o = [], a, u, c = r.baseOption, f = r.timeline, d = r.options, p = r.media, y = !!r.media, v = !!(d || f || c && c.timeline);
  c ? (u = c, u.timeline || (u.timeline = f)) : ((v || y) && (r.options = r.media = null), u = r), y && (isArray$1(p) ? each$4(p, function(_) {
    process.env.NODE_ENV !== "production" && _ && !_.option && isObject$3(_.query) && isObject$3(_.query.option) && error("Illegal media option. Must be like { media: [ { query: {}, option: {} } ] }"), _ && _.option && (_.query ? o.push(_) : a || (a = _));
  }) : process.env.NODE_ENV !== "production" && error("Illegal media option. Must be an array. Like { media: [ {...}, {...} ] }")), g(u), each$4(d, function(_) {
    return g(_);
  }), each$4(o, function(_) {
    return g(_.option);
  });
  function g(_) {
    each$4(n, function(b) {
      b(_, i);
    });
  }
  return {
    baseOption: u,
    timelineOptions: d || [],
    mediaDefault: a,
    mediaList: o
  };
}
function applyMediaQuery(r, n, i) {
  var o = {
    width: n,
    height: i,
    aspectratio: n / i
    // lower case for convenience.
  }, a = !0;
  return each$4(r, function(u, c) {
    var f = c.match(QUERY_REG);
    if (!(!f || !f[1] || !f[2])) {
      var d = f[1], p = f[2].toLowerCase();
      compare(o[p], u, d) || (a = !1);
    }
  }), a;
}
function compare(r, n, i) {
  return i === "min" ? r >= n : i === "max" ? r <= n : r === n;
}
function indicesEquals(r, n) {
  return r.join(",") === n.join(",");
}
const OptionManager$1 = OptionManager;
var each$2 = each$4, isObject$2 = isObject$3, POSSIBLE_STYLES = ["areaStyle", "lineStyle", "nodeStyle", "linkStyle", "chordStyle", "label", "labelLine"];
function compatEC2ItemStyle(r) {
  var n = r && r.itemStyle;
  if (n)
    for (var i = 0, o = POSSIBLE_STYLES.length; i < o; i++) {
      var a = POSSIBLE_STYLES[i], u = n.normal, c = n.emphasis;
      u && u[a] && (process.env.NODE_ENV !== "production" && deprecateReplaceLog("itemStyle.normal." + a, a), r[a] = r[a] || {}, r[a].normal ? merge(r[a].normal, u[a]) : r[a].normal = u[a], u[a] = null), c && c[a] && (process.env.NODE_ENV !== "production" && deprecateReplaceLog("itemStyle.emphasis." + a, "emphasis." + a), r[a] = r[a] || {}, r[a].emphasis ? merge(r[a].emphasis, c[a]) : r[a].emphasis = c[a], c[a] = null);
    }
}
function convertNormalEmphasis(r, n, i) {
  if (r && r[n] && (r[n].normal || r[n].emphasis)) {
    var o = r[n].normal, a = r[n].emphasis;
    o && (process.env.NODE_ENV !== "production" && deprecateLog("'normal' hierarchy in " + n + " has been removed since 4.0. All style properties are configured in " + n + " directly now."), i ? (r[n].normal = r[n].emphasis = null, defaults(r[n], o)) : r[n] = o), a && (process.env.NODE_ENV !== "production" && deprecateLog(n + ".emphasis has been changed to emphasis." + n + " since 4.0"), r.emphasis = r.emphasis || {}, r.emphasis[n] = a, a.focus && (r.emphasis.focus = a.focus), a.blurScope && (r.emphasis.blurScope = a.blurScope));
  }
}
function removeEC3NormalStatus(r) {
  convertNormalEmphasis(r, "itemStyle"), convertNormalEmphasis(r, "lineStyle"), convertNormalEmphasis(r, "areaStyle"), convertNormalEmphasis(r, "label"), convertNormalEmphasis(r, "labelLine"), convertNormalEmphasis(r, "upperLabel"), convertNormalEmphasis(r, "edgeLabel");
}
function compatTextStyle(r, n) {
  var i = isObject$2(r) && r[n], o = isObject$2(i) && i.textStyle;
  if (o) {
    process.env.NODE_ENV !== "production" && deprecateLog("textStyle hierarchy in " + n + " has been removed since 4.0. All textStyle properties are configured in " + n + " directly now.");
    for (var a = 0, u = TEXT_STYLE_OPTIONS.length; a < u; a++) {
      var c = TEXT_STYLE_OPTIONS[a];
      o.hasOwnProperty(c) && (i[c] = o[c]);
    }
  }
}
function compatEC3CommonStyles(r) {
  r && (removeEC3NormalStatus(r), compatTextStyle(r, "label"), r.emphasis && compatTextStyle(r.emphasis, "label"));
}
function processSeries(r) {
  if (isObject$2(r)) {
    compatEC2ItemStyle(r), removeEC3NormalStatus(r), compatTextStyle(r, "label"), compatTextStyle(r, "upperLabel"), compatTextStyle(r, "edgeLabel"), r.emphasis && (compatTextStyle(r.emphasis, "label"), compatTextStyle(r.emphasis, "upperLabel"), compatTextStyle(r.emphasis, "edgeLabel"));
    var n = r.markPoint;
    n && (compatEC2ItemStyle(n), compatEC3CommonStyles(n));
    var i = r.markLine;
    i && (compatEC2ItemStyle(i), compatEC3CommonStyles(i));
    var o = r.markArea;
    o && compatEC3CommonStyles(o);
    var a = r.data;
    if (r.type === "graph") {
      a = a || r.nodes;
      var u = r.links || r.edges;
      if (u && !isTypedArray(u))
        for (var c = 0; c < u.length; c++)
          compatEC3CommonStyles(u[c]);
      each$4(r.categories, function(p) {
        removeEC3NormalStatus(p);
      });
    }
    if (a && !isTypedArray(a))
      for (var c = 0; c < a.length; c++)
        compatEC3CommonStyles(a[c]);
    if (n = r.markPoint, n && n.data)
      for (var f = n.data, c = 0; c < f.length; c++)
        compatEC3CommonStyles(f[c]);
    if (i = r.markLine, i && i.data)
      for (var d = i.data, c = 0; c < d.length; c++)
        isArray$1(d[c]) ? (compatEC3CommonStyles(d[c][0]), compatEC3CommonStyles(d[c][1])) : compatEC3CommonStyles(d[c]);
    r.type === "gauge" ? (compatTextStyle(r, "axisLabel"), compatTextStyle(r, "title"), compatTextStyle(r, "detail")) : r.type === "treemap" ? (convertNormalEmphasis(r.breadcrumb, "itemStyle"), each$4(r.levels, function(p) {
      removeEC3NormalStatus(p);
    })) : r.type === "tree" && removeEC3NormalStatus(r.leaves);
  }
}
function toArr(r) {
  return isArray$1(r) ? r : r ? [r] : [];
}
function toObj(r) {
  return (isArray$1(r) ? r[0] : r) || {};
}
function globalCompatStyle(r, n) {
  each$2(toArr(r.series), function(o) {
    isObject$2(o) && processSeries(o);
  });
  var i = ["xAxis", "yAxis", "radiusAxis", "angleAxis", "singleAxis", "parallelAxis", "radar"];
  n && i.push("valueAxis", "categoryAxis", "logAxis", "timeAxis"), each$2(i, function(o) {
    each$2(toArr(r[o]), function(a) {
      a && (compatTextStyle(a, "axisLabel"), compatTextStyle(a.axisPointer, "label"));
    });
  }), each$2(toArr(r.parallel), function(o) {
    var a = o && o.parallelAxisDefault;
    compatTextStyle(a, "axisLabel"), compatTextStyle(a && a.axisPointer, "label");
  }), each$2(toArr(r.calendar), function(o) {
    convertNormalEmphasis(o, "itemStyle"), compatTextStyle(o, "dayLabel"), compatTextStyle(o, "monthLabel"), compatTextStyle(o, "yearLabel");
  }), each$2(toArr(r.radar), function(o) {
    compatTextStyle(o, "name"), o.name && o.axisName == null && (o.axisName = o.name, delete o.name, process.env.NODE_ENV !== "production" && deprecateLog("name property in radar component has been changed to axisName")), o.nameGap != null && o.axisNameGap == null && (o.axisNameGap = o.nameGap, delete o.nameGap, process.env.NODE_ENV !== "production" && deprecateLog("nameGap property in radar component has been changed to axisNameGap")), process.env.NODE_ENV !== "production" && each$2(o.indicator, function(a) {
      a.text && deprecateReplaceLog("text", "name", "radar.indicator");
    });
  }), each$2(toArr(r.geo), function(o) {
    isObject$2(o) && (compatEC3CommonStyles(o), each$2(toArr(o.regions), function(a) {
      compatEC3CommonStyles(a);
    }));
  }), each$2(toArr(r.timeline), function(o) {
    compatEC3CommonStyles(o), convertNormalEmphasis(o, "label"), convertNormalEmphasis(o, "itemStyle"), convertNormalEmphasis(o, "controlStyle", !0);
    var a = o.data;
    isArray$1(a) && each$4(a, function(u) {
      isObject$3(u) && (convertNormalEmphasis(u, "label"), convertNormalEmphasis(u, "itemStyle"));
    });
  }), each$2(toArr(r.toolbox), function(o) {
    convertNormalEmphasis(o, "iconStyle"), each$2(o.feature, function(a) {
      convertNormalEmphasis(a, "iconStyle");
    });
  }), compatTextStyle(toObj(r.axisPointer), "label"), compatTextStyle(toObj(r.tooltip).axisPointer, "label");
}
function get(r, n) {
  for (var i = n.split(","), o = r, a = 0; a < i.length && (o = o && o[i[a]], o != null); a++)
    ;
  return o;
}
function set(r, n, i, o) {
  for (var a = n.split(","), u = r, c, f = 0; f < a.length - 1; f++)
    c = a[f], u[c] == null && (u[c] = {}), u = u[c];
  (o || u[a[f]] == null) && (u[a[f]] = i);
}
function compatLayoutProperties(r) {
  r && each$4(LAYOUT_PROPERTIES, function(n) {
    n[0] in r && !(n[1] in r) && (r[n[1]] = r[n[0]]);
  });
}
var LAYOUT_PROPERTIES = [["x", "left"], ["y", "top"], ["x2", "right"], ["y2", "bottom"]], COMPATITABLE_COMPONENTS = ["grid", "geo", "parallel", "legend", "toolbox", "title", "visualMap", "dataZoom", "timeline"], BAR_ITEM_STYLE_MAP = [["borderRadius", "barBorderRadius"], ["borderColor", "barBorderColor"], ["borderWidth", "barBorderWidth"]];
function compatBarItemStyle(r) {
  var n = r && r.itemStyle;
  if (n)
    for (var i = 0; i < BAR_ITEM_STYLE_MAP.length; i++) {
      var o = BAR_ITEM_STYLE_MAP[i][1], a = BAR_ITEM_STYLE_MAP[i][0];
      n[o] != null && (n[a] = n[o], process.env.NODE_ENV !== "production" && deprecateReplaceLog(o, a));
    }
}
function compatPieLabel(r) {
  r && r.alignTo === "edge" && r.margin != null && r.edgeDistance == null && (process.env.NODE_ENV !== "production" && deprecateReplaceLog("label.margin", "label.edgeDistance", "pie"), r.edgeDistance = r.margin);
}
function compatSunburstState(r) {
  r && r.downplay && !r.blur && (r.blur = r.downplay, process.env.NODE_ENV !== "production" && deprecateReplaceLog("downplay", "blur", "sunburst"));
}
function compatGraphFocus(r) {
  r && r.focusNodeAdjacency != null && (r.emphasis = r.emphasis || {}, r.emphasis.focus == null && (process.env.NODE_ENV !== "production" && deprecateReplaceLog("focusNodeAdjacency", "emphasis: { focus: 'adjacency'}", "graph/sankey"), r.emphasis.focus = "adjacency"));
}
function traverseTree(r, n) {
  if (r)
    for (var i = 0; i < r.length; i++)
      n(r[i]), r[i] && traverseTree(r[i].children, n);
}
function globalBackwardCompat(r, n) {
  globalCompatStyle(r, n), r.series = normalizeToArray(r.series), each$4(r.series, function(i) {
    if (isObject$3(i)) {
      var o = i.type;
      if (o === "line")
        i.clipOverflow != null && (i.clip = i.clipOverflow, process.env.NODE_ENV !== "production" && deprecateReplaceLog("clipOverflow", "clip", "line"));
      else if (o === "pie" || o === "gauge") {
        i.clockWise != null && (i.clockwise = i.clockWise, process.env.NODE_ENV !== "production" && deprecateReplaceLog("clockWise", "clockwise")), compatPieLabel(i.label);
        var a = i.data;
        if (a && !isTypedArray(a))
          for (var u = 0; u < a.length; u++)
            compatPieLabel(a[u]);
        i.hoverOffset != null && (i.emphasis = i.emphasis || {}, (i.emphasis.scaleSize = null) && (process.env.NODE_ENV !== "production" && deprecateReplaceLog("hoverOffset", "emphasis.scaleSize"), i.emphasis.scaleSize = i.hoverOffset));
      } else if (o === "gauge") {
        var c = get(i, "pointer.color");
        c != null && set(i, "itemStyle.color", c);
      } else if (o === "bar") {
        compatBarItemStyle(i), compatBarItemStyle(i.backgroundStyle), compatBarItemStyle(i.emphasis);
        var a = i.data;
        if (a && !isTypedArray(a))
          for (var u = 0; u < a.length; u++)
            typeof a[u] == "object" && (compatBarItemStyle(a[u]), compatBarItemStyle(a[u] && a[u].emphasis));
      } else if (o === "sunburst") {
        var f = i.highlightPolicy;
        f && (i.emphasis = i.emphasis || {}, i.emphasis.focus || (i.emphasis.focus = f, process.env.NODE_ENV !== "production" && deprecateReplaceLog("highlightPolicy", "emphasis.focus", "sunburst"))), compatSunburstState(i), traverseTree(i.data, compatSunburstState);
      } else
        o === "graph" || o === "sankey" ? compatGraphFocus(i) : o === "map" && (i.mapType && !i.map && (process.env.NODE_ENV !== "production" && deprecateReplaceLog("mapType", "map", "map"), i.map = i.mapType), i.mapLocation && (process.env.NODE_ENV !== "production" && deprecateLog("`mapLocation` is not used anymore."), defaults(i, i.mapLocation)));
      i.hoverAnimation != null && (i.emphasis = i.emphasis || {}, i.emphasis && i.emphasis.scale == null && (process.env.NODE_ENV !== "production" && deprecateReplaceLog("hoverAnimation", "emphasis.scale"), i.emphasis.scale = i.hoverAnimation)), compatLayoutProperties(i);
    }
  }), r.dataRange && (r.visualMap = r.dataRange), each$4(COMPATITABLE_COMPONENTS, function(i) {
    var o = r[i];
    o && (isArray$1(o) || (o = [o]), each$4(o, function(a) {
      compatLayoutProperties(a);
    }));
  });
}
function dataStack(r) {
  var n = createHashMap();
  r.eachSeries(function(i) {
    var o = i.get("stack");
    if (o) {
      var a = n.get(o) || n.set(o, []), u = i.getData(), c = {
        // Used for calculate axis extent automatically.
        // TODO: Type getCalculationInfo return more specific type?
        stackResultDimension: u.getCalculationInfo("stackResultDimension"),
        stackedOverDimension: u.getCalculationInfo("stackedOverDimension"),
        stackedDimension: u.getCalculationInfo("stackedDimension"),
        stackedByDimension: u.getCalculationInfo("stackedByDimension"),
        isStackedByIndex: u.getCalculationInfo("isStackedByIndex"),
        data: u,
        seriesModel: i
      };
      if (!c.stackedDimension || !(c.isStackedByIndex || c.stackedByDimension))
        return;
      a.length && u.setCalculationInfo("stackedOnSeries", a[a.length - 1].seriesModel), a.push(c);
    }
  }), n.each(calculateStack);
}
function calculateStack(r) {
  each$4(r, function(n, i) {
    var o = [], a = [NaN, NaN], u = [n.stackResultDimension, n.stackedOverDimension], c = n.data, f = n.isStackedByIndex, d = n.seriesModel.get("stackStrategy") || "samesign";
    c.modify(u, function(p, y, v) {
      var g = c.get(n.stackedDimension, v);
      if (isNaN(g))
        return a;
      var _, b;
      f ? b = c.getRawIndex(v) : _ = c.get(n.stackedByDimension, v);
      for (var A = NaN, w = i - 1; w >= 0; w--) {
        var S = r[w];
        if (f || (b = S.data.rawIndexOf(S.stackedByDimension, _)), b >= 0) {
          var x = S.data.getByRawIndex(S.stackResultDimension, b);
          if (d === "all" || d === "positive" && x > 0 || d === "negative" && x < 0 || d === "samesign" && g >= 0 && x > 0 || d === "samesign" && g <= 0 && x < 0) {
            g = addSafe(g, x), A = x;
            break;
          }
        }
      }
      return o[0] = g, o[1] = A, o;
    });
  });
}
var SourceImpl = (
  /** @class */
  function() {
    function r(n) {
      this.data = n.data || (n.sourceFormat === SOURCE_FORMAT_KEYED_COLUMNS ? {} : []), this.sourceFormat = n.sourceFormat || SOURCE_FORMAT_UNKNOWN, this.seriesLayoutBy = n.seriesLayoutBy || SERIES_LAYOUT_BY_COLUMN, this.startIndex = n.startIndex || 0, this.dimensionsDetectedCount = n.dimensionsDetectedCount, this.metaRawOption = n.metaRawOption;
      var i = this.dimensionsDefine = n.dimensionsDefine;
      if (i)
        for (var o = 0; o < i.length; o++) {
          var a = i[o];
          a.type == null && guessOrdinal(this, o) === BE_ORDINAL.Must && (a.type = "ordinal");
        }
    }
    return r;
  }()
);
function isSourceInstance(r) {
  return r instanceof SourceImpl;
}
function createSource(r, n, i) {
  i = i || detectSourceFormat(r);
  var o = n.seriesLayoutBy, a = determineSourceDimensions(r, i, o, n.sourceHeader, n.dimensions), u = new SourceImpl({
    data: r,
    sourceFormat: i,
    seriesLayoutBy: o,
    dimensionsDefine: a.dimensionsDefine,
    startIndex: a.startIndex,
    dimensionsDetectedCount: a.dimensionsDetectedCount,
    metaRawOption: clone$2(n)
  });
  return u;
}
function createSourceFromSeriesDataOption(r) {
  return new SourceImpl({
    data: r,
    sourceFormat: isTypedArray(r) ? SOURCE_FORMAT_TYPED_ARRAY : SOURCE_FORMAT_ORIGINAL
  });
}
function cloneSourceShallow(r) {
  return new SourceImpl({
    data: r.data,
    sourceFormat: r.sourceFormat,
    seriesLayoutBy: r.seriesLayoutBy,
    dimensionsDefine: clone$2(r.dimensionsDefine),
    startIndex: r.startIndex,
    dimensionsDetectedCount: r.dimensionsDetectedCount
  });
}
function detectSourceFormat(r) {
  var n = SOURCE_FORMAT_UNKNOWN;
  if (isTypedArray(r))
    n = SOURCE_FORMAT_TYPED_ARRAY;
  else if (isArray$1(r)) {
    r.length === 0 && (n = SOURCE_FORMAT_ARRAY_ROWS);
    for (var i = 0, o = r.length; i < o; i++) {
      var a = r[i];
      if (a != null) {
        if (isArray$1(a)) {
          n = SOURCE_FORMAT_ARRAY_ROWS;
          break;
        } else if (isObject$3(a)) {
          n = SOURCE_FORMAT_OBJECT_ROWS;
          break;
        }
      }
    }
  } else if (isObject$3(r)) {
    for (var u in r)
      if (hasOwn$1(r, u) && isArrayLike(r[u])) {
        n = SOURCE_FORMAT_KEYED_COLUMNS;
        break;
      }
  }
  return n;
}
function determineSourceDimensions(r, n, i, o, a) {
  var u, c;
  if (!r)
    return {
      dimensionsDefine: normalizeDimensionsOption(a),
      startIndex: c,
      dimensionsDetectedCount: u
    };
  if (n === SOURCE_FORMAT_ARRAY_ROWS) {
    var f = r;
    o === "auto" || o == null ? arrayRowsTravelFirst(function(p) {
      p != null && p !== "-" && (isString$2(p) ? c == null && (c = 1) : c = 0);
    }, i, f, 10) : c = isNumber$1(o) ? o : o ? 1 : 0, !a && c === 1 && (a = [], arrayRowsTravelFirst(function(p, y) {
      a[y] = p != null ? p + "" : "";
    }, i, f, 1 / 0)), u = a ? a.length : i === SERIES_LAYOUT_BY_ROW ? f.length : f[0] ? f[0].length : null;
  } else if (n === SOURCE_FORMAT_OBJECT_ROWS)
    a || (a = objectRowsCollectDimensions(r));
  else if (n === SOURCE_FORMAT_KEYED_COLUMNS)
    a || (a = [], each$4(r, function(p, y) {
      a.push(y);
    }));
  else if (n === SOURCE_FORMAT_ORIGINAL) {
    var d = getDataItemValue(r[0]);
    u = isArray$1(d) && d.length || 1;
  } else
    n === SOURCE_FORMAT_TYPED_ARRAY && process.env.NODE_ENV !== "production" && assert(!!a, "dimensions must be given if data is TypedArray.");
  return {
    startIndex: c,
    dimensionsDefine: normalizeDimensionsOption(a),
    dimensionsDetectedCount: u
  };
}
function objectRowsCollectDimensions(r) {
  for (var n = 0, i; n < r.length && !(i = r[n++]); )
    ;
  if (i) {
    var o = [];
    return each$4(i, function(a, u) {
      o.push(u);
    }), o;
  }
}
function normalizeDimensionsOption(r) {
  if (r) {
    var n = createHashMap();
    return map$1(r, function(i, o) {
      i = isObject$3(i) ? i : {
        name: i
      };
      var a = {
        name: i.name,
        displayName: i.displayName,
        type: i.type
      };
      if (a.name == null)
        return a;
      a.name += "", a.displayName == null && (a.displayName = a.name);
      var u = n.get(a.name);
      return u ? a.name += "-" + u.count++ : n.set(a.name, {
        count: 1
      }), a;
    });
  }
}
function arrayRowsTravelFirst(r, n, i, o) {
  if (n === SERIES_LAYOUT_BY_ROW)
    for (var a = 0; a < i.length && a < o; a++)
      r(i[a] ? i[a][0] : null, a);
  else
    for (var u = i[0] || [], a = 0; a < u.length && a < o; a++)
      r(u[a], a);
}
function shouldRetrieveDataByName(r) {
  var n = r.sourceFormat;
  return n === SOURCE_FORMAT_OBJECT_ROWS || n === SOURCE_FORMAT_KEYED_COLUMNS;
}
var _a$1, _b, _c, providerMethods, mountMethods, DefaultDataProvider = (
  /** @class */
  function() {
    function r(n, i) {
      var o = isSourceInstance(n) ? n : createSourceFromSeriesDataOption(n);
      this._source = o;
      var a = this._data = o.data;
      if (o.sourceFormat === SOURCE_FORMAT_TYPED_ARRAY) {
        if (process.env.NODE_ENV !== "production" && i == null)
          throw new Error("Typed array data must specify dimension size");
        this._offset = 0, this._dimSize = i, this._data = a;
      }
      mountMethods(this, a, o);
    }
    return r.prototype.getSource = function() {
      return this._source;
    }, r.prototype.count = function() {
      return 0;
    }, r.prototype.getItem = function(n, i) {
    }, r.prototype.appendData = function(n) {
    }, r.prototype.clean = function() {
    }, r.protoInitialize = function() {
      var n = r.prototype;
      n.pure = !1, n.persistent = !0;
    }(), r.internalField = function() {
      var n;
      mountMethods = function(c, f, d) {
        var p = d.sourceFormat, y = d.seriesLayoutBy, v = d.startIndex, g = d.dimensionsDefine, _ = providerMethods[getMethodMapKey(p, y)];
        if (process.env.NODE_ENV !== "production" && assert(_, "Invalide sourceFormat: " + p), extend(c, _), p === SOURCE_FORMAT_TYPED_ARRAY)
          c.getItem = i, c.count = a, c.fillStorage = o;
        else {
          var b = getRawSourceItemGetter(p, y);
          c.getItem = bind$1(b, null, f, v, g);
          var A = getRawSourceDataCounter(p, y);
          c.count = bind$1(A, null, f, v, g);
        }
      };
      var i = function(c, f) {
        c = c - this._offset, f = f || [];
        for (var d = this._data, p = this._dimSize, y = p * c, v = 0; v < p; v++)
          f[v] = d[y + v];
        return f;
      }, o = function(c, f, d, p) {
        for (var y = this._data, v = this._dimSize, g = 0; g < v; g++) {
          for (var _ = p[g], b = _[0] == null ? 1 / 0 : _[0], A = _[1] == null ? -1 / 0 : _[1], w = f - c, S = d[g], x = 0; x < w; x++) {
            var T = y[x * v + g];
            S[c + x] = T, T < b && (b = T), T > A && (A = T);
          }
          _[0] = b, _[1] = A;
        }
      }, a = function() {
        return this._data ? this._data.length / this._dimSize : 0;
      };
      providerMethods = (n = {}, n[SOURCE_FORMAT_ARRAY_ROWS + "_" + SERIES_LAYOUT_BY_COLUMN] = {
        pure: !0,
        appendData: u
      }, n[SOURCE_FORMAT_ARRAY_ROWS + "_" + SERIES_LAYOUT_BY_ROW] = {
        pure: !0,
        appendData: function() {
          throw new Error('Do not support appendData when set seriesLayoutBy: "row".');
        }
      }, n[SOURCE_FORMAT_OBJECT_ROWS] = {
        pure: !0,
        appendData: u
      }, n[SOURCE_FORMAT_KEYED_COLUMNS] = {
        pure: !0,
        appendData: function(c) {
          var f = this._data;
          each$4(c, function(d, p) {
            for (var y = f[p] || (f[p] = []), v = 0; v < (d || []).length; v++)
              y.push(d[v]);
          });
        }
      }, n[SOURCE_FORMAT_ORIGINAL] = {
        appendData: u
      }, n[SOURCE_FORMAT_TYPED_ARRAY] = {
        persistent: !1,
        pure: !0,
        appendData: function(c) {
          process.env.NODE_ENV !== "production" && assert(isTypedArray(c), "Added data must be TypedArray if data in initialization is TypedArray"), this._data = c;
        },
        // Clean self if data is already used.
        clean: function() {
          this._offset += this.count(), this._data = null;
        }
      }, n);
      function u(c) {
        for (var f = 0; f < c.length; f++)
          this._data.push(c[f]);
      }
    }(), r;
  }()
), getItemSimply = function(r, n, i, o) {
  return r[o];
}, rawSourceItemGetterMap = (_a$1 = {}, _a$1[SOURCE_FORMAT_ARRAY_ROWS + "_" + SERIES_LAYOUT_BY_COLUMN] = function(r, n, i, o) {
  return r[o + n];
}, _a$1[SOURCE_FORMAT_ARRAY_ROWS + "_" + SERIES_LAYOUT_BY_ROW] = function(r, n, i, o, a) {
  o += n;
  for (var u = a || [], c = r, f = 0; f < c.length; f++) {
    var d = c[f];
    u[f] = d ? d[o] : null;
  }
  return u;
}, _a$1[SOURCE_FORMAT_OBJECT_ROWS] = getItemSimply, _a$1[SOURCE_FORMAT_KEYED_COLUMNS] = function(r, n, i, o, a) {
  for (var u = a || [], c = 0; c < i.length; c++) {
    var f = i[c].name;
    if (process.env.NODE_ENV !== "production" && f == null)
      throw new Error();
    var d = r[f];
    u[c] = d ? d[o] : null;
  }
  return u;
}, _a$1[SOURCE_FORMAT_ORIGINAL] = getItemSimply, _a$1);
function getRawSourceItemGetter(r, n) {
  var i = rawSourceItemGetterMap[getMethodMapKey(r, n)];
  return process.env.NODE_ENV !== "production" && assert(i, 'Do not support get item on "' + r + '", "' + n + '".'), i;
}
var countSimply = function(r, n, i) {
  return r.length;
}, rawSourceDataCounterMap = (_b = {}, _b[SOURCE_FORMAT_ARRAY_ROWS + "_" + SERIES_LAYOUT_BY_COLUMN] = function(r, n, i) {
  return Math.max(0, r.length - n);
}, _b[SOURCE_FORMAT_ARRAY_ROWS + "_" + SERIES_LAYOUT_BY_ROW] = function(r, n, i) {
  var o = r[0];
  return o ? Math.max(0, o.length - n) : 0;
}, _b[SOURCE_FORMAT_OBJECT_ROWS] = countSimply, _b[SOURCE_FORMAT_KEYED_COLUMNS] = function(r, n, i) {
  var o = i[0].name;
  if (process.env.NODE_ENV !== "production" && o == null)
    throw new Error();
  var a = r[o];
  return a ? a.length : 0;
}, _b[SOURCE_FORMAT_ORIGINAL] = countSimply, _b);
function getRawSourceDataCounter(r, n) {
  var i = rawSourceDataCounterMap[getMethodMapKey(r, n)];
  return process.env.NODE_ENV !== "production" && assert(i, 'Do not support count on "' + r + '", "' + n + '".'), i;
}
var getRawValueSimply = function(r, n, i) {
  return r[n];
}, rawSourceValueGetterMap = (_c = {}, _c[SOURCE_FORMAT_ARRAY_ROWS] = getRawValueSimply, _c[SOURCE_FORMAT_OBJECT_ROWS] = function(r, n, i) {
  return r[i];
}, _c[SOURCE_FORMAT_KEYED_COLUMNS] = getRawValueSimply, _c[SOURCE_FORMAT_ORIGINAL] = function(r, n, i) {
  var o = getDataItemValue(r);
  return o instanceof Array ? o[n] : o;
}, _c[SOURCE_FORMAT_TYPED_ARRAY] = getRawValueSimply, _c);
function getRawSourceValueGetter(r) {
  var n = rawSourceValueGetterMap[r];
  return process.env.NODE_ENV !== "production" && assert(n, 'Do not support get value on "' + r + '".'), n;
}
function getMethodMapKey(r, n) {
  return r === SOURCE_FORMAT_ARRAY_ROWS ? r + "_" + n : r;
}
function retrieveRawValue(r, n, i) {
  if (r) {
    var o = r.getRawDataItem(n);
    if (o != null) {
      var a = r.getStore(), u = a.getSource().sourceFormat;
      if (i != null) {
        var c = r.getDimensionIndex(i), f = a.getDimensionProperty(c);
        return getRawSourceValueGetter(u)(o, c, f);
      } else {
        var d = o;
        return u === SOURCE_FORMAT_ORIGINAL && (d = getDataItemValue(o)), d;
      }
    }
  }
}
var DIMENSION_LABEL_REG = /\{@(.+?)\}/g, DataFormatMixin = (
  /** @class */
  function() {
    function r() {
    }
    return r.prototype.getDataParams = function(n, i) {
      var o = this.getData(i), a = this.getRawValue(n, i), u = o.getRawIndex(n), c = o.getName(n), f = o.getRawDataItem(n), d = o.getItemVisual(n, "style"), p = d && d[o.getItemVisual(n, "drawType") || "fill"], y = d && d.stroke, v = this.mainType, g = v === "series", _ = o.userOutput && o.userOutput.get();
      return {
        componentType: v,
        componentSubType: this.subType,
        componentIndex: this.componentIndex,
        seriesType: g ? this.subType : null,
        seriesIndex: this.seriesIndex,
        seriesId: g ? this.id : null,
        seriesName: g ? this.name : null,
        name: c,
        dataIndex: u,
        data: f,
        dataType: i,
        value: a,
        color: p,
        borderColor: y,
        dimensionNames: _ ? _.fullDimensions : null,
        encode: _ ? _.encode : null,
        // Param name list for mapping `a`, `b`, `c`, `d`, `e`
        $vars: ["seriesName", "name", "value"]
      };
    }, r.prototype.getFormattedLabel = function(n, i, o, a, u, c) {
      i = i || "normal";
      var f = this.getData(o), d = this.getDataParams(n, o);
      if (c && (d.value = c.interpolatedValue), a != null && isArray$1(d.value) && (d.value = d.value[a]), !u) {
        var p = f.getItemModel(n);
        u = p.get(i === "normal" ? ["label", "formatter"] : [i, "label", "formatter"]);
      }
      if (isFunction$1(u))
        return d.status = i, d.dimensionIndex = a, u(d);
      if (isString$2(u)) {
        var y = formatTpl(u, d);
        return y.replace(DIMENSION_LABEL_REG, function(v, g) {
          var _ = g.length, b = g;
          b.charAt(0) === "[" && b.charAt(_ - 1) === "]" && (b = +b.slice(1, _ - 1), process.env.NODE_ENV !== "production" && isNaN(b) && error("Invalide label formatter: @" + g + ", only support @[0], @[1], @[2], ..."));
          var A = retrieveRawValue(f, n, b);
          if (c && isArray$1(c.interpolatedValue)) {
            var w = f.getDimensionIndex(b);
            w >= 0 && (A = c.interpolatedValue[w]);
          }
          return A != null ? A + "" : "";
        });
      }
    }, r.prototype.getRawValue = function(n, i) {
      return retrieveRawValue(this.getData(i), n);
    }, r.prototype.formatTooltip = function(n, i, o) {
    }, r;
  }()
);
function normalizeTooltipFormatResult(r) {
  var n, i;
  return isObject$3(r) ? r.type ? i = r : process.env.NODE_ENV !== "production" && console.warn("The return type of `formatTooltip` is not supported: " + makePrintable(r)) : n = r, {
    text: n,
    // markers: markers || markersExisting,
    frag: i
  };
}
function createTask(r) {
  return new Task(r);
}
var Task = (
  /** @class */
  function() {
    function r(n) {
      n = n || {}, this._reset = n.reset, this._plan = n.plan, this._count = n.count, this._onDirty = n.onDirty, this._dirty = !0;
    }
    return r.prototype.perform = function(n) {
      var i = this._upstream, o = n && n.skip;
      if (this._dirty && i) {
        var a = this.context;
        a.data = a.outputData = i.context.outputData;
      }
      this.__pipeline && (this.__pipeline.currentTask = this);
      var u;
      this._plan && !o && (u = this._plan(this.context));
      var c = y(this._modBy), f = this._modDataCount || 0, d = y(n && n.modBy), p = n && n.modDataCount || 0;
      (c !== d || f !== p) && (u = "reset");
      function y(x) {
        return !(x >= 1) && (x = 1), x;
      }
      var v;
      (this._dirty || u === "reset") && (this._dirty = !1, v = this._doReset(o)), this._modBy = d, this._modDataCount = p;
      var g = n && n.step;
      if (i ? (process.env.NODE_ENV !== "production" && assert(i._outputDueEnd != null), this._dueEnd = i._outputDueEnd) : (process.env.NODE_ENV !== "production" && assert(!this._progress || this._count), this._dueEnd = this._count ? this._count(this.context) : 1 / 0), this._progress) {
        var _ = this._dueIndex, b = Math.min(g != null ? this._dueIndex + g : 1 / 0, this._dueEnd);
        if (!o && (v || _ < b)) {
          var A = this._progress;
          if (isArray$1(A))
            for (var w = 0; w < A.length; w++)
              this._doProgress(A[w], _, b, d, p);
          else
            this._doProgress(A, _, b, d, p);
        }
        this._dueIndex = b;
        var S = this._settedOutputEnd != null ? this._settedOutputEnd : b;
        process.env.NODE_ENV !== "production" && assert(S >= this._outputDueEnd), this._outputDueEnd = S;
      } else
        this._dueIndex = this._outputDueEnd = this._settedOutputEnd != null ? this._settedOutputEnd : this._dueEnd;
      return this.unfinished();
    }, r.prototype.dirty = function() {
      this._dirty = !0, this._onDirty && this._onDirty(this.context);
    }, r.prototype._doProgress = function(n, i, o, a, u) {
      iterator.reset(i, o, a, u), this._callingProgress = n, this._callingProgress({
        start: i,
        end: o,
        count: o - i,
        next: iterator.next
      }, this.context);
    }, r.prototype._doReset = function(n) {
      this._dueIndex = this._outputDueEnd = this._dueEnd = 0, this._settedOutputEnd = null;
      var i, o;
      !n && this._reset && (i = this._reset(this.context), i && i.progress && (o = i.forceFirstProgress, i = i.progress), isArray$1(i) && !i.length && (i = null)), this._progress = i, this._modBy = this._modDataCount = null;
      var a = this._downstream;
      return a && a.dirty(), o;
    }, r.prototype.unfinished = function() {
      return this._progress && this._dueIndex < this._dueEnd;
    }, r.prototype.pipe = function(n) {
      process.env.NODE_ENV !== "production" && assert(n && !n._disposed && n !== this), (this._downstream !== n || this._dirty) && (this._downstream = n, n._upstream = this, n.dirty());
    }, r.prototype.dispose = function() {
      this._disposed || (this._upstream && (this._upstream._downstream = null), this._downstream && (this._downstream._upstream = null), this._dirty = !1, this._disposed = !0);
    }, r.prototype.getUpstream = function() {
      return this._upstream;
    }, r.prototype.getDownstream = function() {
      return this._downstream;
    }, r.prototype.setOutputEnd = function(n) {
      this._outputDueEnd = this._settedOutputEnd = n;
    }, r;
  }()
), iterator = function() {
  var r, n, i, o, a, u = {
    reset: function(d, p, y, v) {
      n = d, r = p, i = y, o = v, a = Math.ceil(o / i), u.next = i > 1 && o > 0 ? f : c;
    }
  };
  return u;
  function c() {
    return n < r ? n++ : null;
  }
  function f() {
    var d = n % a * i + Math.ceil(n / a), p = n >= r ? null : d < o ? d : n;
    return n++, p;
  }
}();
function parseDataValue(r, n) {
  var i = n && n.type;
  return i === "ordinal" ? r : (i === "time" && !isNumber$1(r) && r != null && r !== "-" && (r = +parseDate(r)), r == null || r === "" ? NaN : +r);
}
createHashMap({
  number: function(r) {
    return parseFloat(r);
  },
  time: function(r) {
    return +parseDate(r);
  },
  trim: function(r) {
    return isString$2(r) ? trim(r) : r;
  }
});
var SortOrderComparator = (
  /** @class */
  function() {
    function r(n, i) {
      var o = n === "desc";
      this._resultLT = o ? 1 : -1, i == null && (i = o ? "min" : "max"), this._incomparable = i === "min" ? -1 / 0 : 1 / 0;
    }
    return r.prototype.evaluate = function(n, i) {
      var o = isNumber$1(n) ? n : numericToNumber(n), a = isNumber$1(i) ? i : numericToNumber(i), u = isNaN(o), c = isNaN(a);
      if (u && (o = this._incomparable), c && (a = this._incomparable), u && c) {
        var f = isString$2(n), d = isString$2(i);
        f && (o = d ? n : 0), d && (a = f ? i : 0);
      }
      return o < a ? this._resultLT : o > a ? -this._resultLT : 0;
    }, r;
  }()
), ExternalSource = (
  /** @class */
  function() {
    function r() {
    }
    return r.prototype.getRawData = function() {
      throw new Error("not supported");
    }, r.prototype.getRawDataItem = function(n) {
      throw new Error("not supported");
    }, r.prototype.cloneRawData = function() {
    }, r.prototype.getDimensionInfo = function(n) {
    }, r.prototype.cloneAllDimensionInfo = function() {
    }, r.prototype.count = function() {
    }, r.prototype.retrieveValue = function(n, i) {
    }, r.prototype.retrieveValueFromItem = function(n, i) {
    }, r.prototype.convertValue = function(n, i) {
      return parseDataValue(n, i);
    }, r;
  }()
);
function createExternalSource(r, n) {
  var i = new ExternalSource(), o = r.data, a = i.sourceFormat = r.sourceFormat, u = r.startIndex, c = "";
  r.seriesLayoutBy !== SERIES_LAYOUT_BY_COLUMN && (process.env.NODE_ENV !== "production" && (c = '`seriesLayoutBy` of upstream dataset can only be "column" in data transform.'), throwError$1(c));
  var f = [], d = {}, p = r.dimensionsDefine;
  if (p)
    each$4(p, function(A, w) {
      var S = A.name, x = {
        index: w,
        name: S,
        displayName: A.displayName
      };
      if (f.push(x), S != null) {
        var T = "";
        hasOwn$1(d, S) && (process.env.NODE_ENV !== "production" && (T = 'dimension name "' + S + '" duplicated.'), throwError$1(T)), d[S] = x;
      }
    });
  else
    for (var y = 0; y < r.dimensionsDetectedCount; y++)
      f.push({
        index: y
      });
  var v = getRawSourceItemGetter(a, SERIES_LAYOUT_BY_COLUMN);
  n.__isBuiltIn && (i.getRawDataItem = function(A) {
    return v(o, u, f, A);
  }, i.getRawData = bind$1(getRawData, null, r)), i.cloneRawData = bind$1(cloneRawData, null, r);
  var g = getRawSourceDataCounter(a, SERIES_LAYOUT_BY_COLUMN);
  i.count = bind$1(g, null, o, u, f);
  var _ = getRawSourceValueGetter(a);
  i.retrieveValue = function(A, w) {
    var S = v(o, u, f, A);
    return b(S, w);
  };
  var b = i.retrieveValueFromItem = function(A, w) {
    if (A != null) {
      var S = f[w];
      if (S)
        return _(A, w, S.name);
    }
  };
  return i.getDimensionInfo = bind$1(getDimensionInfo, null, f, d), i.cloneAllDimensionInfo = bind$1(cloneAllDimensionInfo, null, f), i;
}
function getRawData(r) {
  var n = r.sourceFormat;
  if (!isSupportedSourceFormat(n)) {
    var i = "";
    process.env.NODE_ENV !== "production" && (i = "`getRawData` is not supported in source format " + n), throwError$1(i);
  }
  return r.data;
}
function cloneRawData(r) {
  var n = r.sourceFormat, i = r.data;
  if (!isSupportedSourceFormat(n)) {
    var o = "";
    process.env.NODE_ENV !== "production" && (o = "`cloneRawData` is not supported in source format " + n), throwError$1(o);
  }
  if (n === SOURCE_FORMAT_ARRAY_ROWS) {
    for (var a = [], u = 0, c = i.length; u < c; u++)
      a.push(i[u].slice());
    return a;
  } else if (n === SOURCE_FORMAT_OBJECT_ROWS) {
    for (var a = [], u = 0, c = i.length; u < c; u++)
      a.push(extend({}, i[u]));
    return a;
  }
}
function getDimensionInfo(r, n, i) {
  if (i != null) {
    if (isNumber$1(i) || !isNaN(i) && !hasOwn$1(n, i))
      return r[i];
    if (hasOwn$1(n, i))
      return n[i];
  }
}
function cloneAllDimensionInfo(r) {
  return clone$2(r);
}
var externalTransformMap = createHashMap();
function registerExternalTransform(r) {
  r = clone$2(r);
  var n = r.type, i = "";
  n || (process.env.NODE_ENV !== "production" && (i = "Must have a `type` when `registerTransform`."), throwError$1(i));
  var o = n.split(":");
  o.length !== 2 && (process.env.NODE_ENV !== "production" && (i = 'Name must include namespace like "ns:regression".'), throwError$1(i));
  var a = !1;
  o[0] === "echarts" && (n = o[1], a = !0), r.__isBuiltIn = a, externalTransformMap.set(n, r);
}
function applyDataTransform(r, n, i) {
  var o = normalizeToArray(r), a = o.length, u = "";
  a || (process.env.NODE_ENV !== "production" && (u = "If `transform` declared, it should at least contain one transform."), throwError$1(u));
  for (var c = 0, f = a; c < f; c++) {
    var d = o[c];
    n = applySingleDataTransform(d, n, i, a === 1 ? null : c), c !== f - 1 && (n.length = Math.max(n.length, 1));
  }
  return n;
}
function applySingleDataTransform(r, n, i, o) {
  var a = "";
  n.length || (process.env.NODE_ENV !== "production" && (a = "Must have at least one upstream dataset."), throwError$1(a)), isObject$3(r) || (process.env.NODE_ENV !== "production" && (a = "transform declaration must be an object rather than " + typeof r + "."), throwError$1(a));
  var u = r.type, c = externalTransformMap.get(u);
  c || (process.env.NODE_ENV !== "production" && (a = 'Can not find transform on type "' + u + '".'), throwError$1(a));
  var f = map$1(n, function(y) {
    return createExternalSource(y, c);
  }), d = normalizeToArray(c.transform({
    upstream: f[0],
    upstreamList: f,
    config: clone$2(r.config)
  }));
  if (process.env.NODE_ENV !== "production" && r.print) {
    var p = map$1(d, function(y) {
      var v = o != null ? " === pipe index: " + o : "";
      return ["=== dataset index: " + i.datasetIndex + v + " ===", "- transform result data:", makePrintable(y.data), "- transform result dimensions:", makePrintable(y.dimensions)].join(`
`);
    }).join(`
`);
    log(p);
  }
  return map$1(d, function(y, v) {
    var g = "";
    isObject$3(y) || (process.env.NODE_ENV !== "production" && (g = "A transform should not return some empty results."), throwError$1(g)), y.data || (process.env.NODE_ENV !== "production" && (g = "Transform result data should be not be null or undefined"), throwError$1(g));
    var _ = detectSourceFormat(y.data);
    isSupportedSourceFormat(_) || (process.env.NODE_ENV !== "production" && (g = "Transform result data should be array rows or object rows."), throwError$1(g));
    var b, A = n[0];
    if (A && v === 0 && !y.dimensions) {
      var w = A.startIndex;
      w && (y.data = A.data.slice(0, w).concat(y.data)), b = {
        seriesLayoutBy: SERIES_LAYOUT_BY_COLUMN,
        sourceHeader: w,
        dimensions: A.metaRawOption.dimensions
      };
    } else
      b = {
        seriesLayoutBy: SERIES_LAYOUT_BY_COLUMN,
        sourceHeader: 0,
        dimensions: y.dimensions
      };
    return createSource(y.data, b, null);
  });
}
function isSupportedSourceFormat(r) {
  return r === SOURCE_FORMAT_ARRAY_ROWS || r === SOURCE_FORMAT_OBJECT_ROWS;
}
var UNDEFINED = "undefined", CtorUint32Array = typeof Uint32Array === UNDEFINED ? Array : Uint32Array, CtorUint16Array = typeof Uint16Array === UNDEFINED ? Array : Uint16Array, CtorInt32Array$1 = typeof Int32Array === UNDEFINED ? Array : Int32Array, CtorFloat64Array = typeof Float64Array === UNDEFINED ? Array : Float64Array, dataCtors = {
  float: CtorFloat64Array,
  int: CtorInt32Array$1,
  // Ordinal data type can be string or int
  ordinal: Array,
  number: Array,
  time: CtorFloat64Array
}, defaultDimValueGetters;
function getIndicesCtor(r) {
  return r > 65535 ? CtorUint32Array : CtorUint16Array;
}
function getInitialExtent() {
  return [1 / 0, -1 / 0];
}
function cloneChunk(r) {
  var n = r.constructor;
  return n === Array ? r.slice() : new n(r);
}
function prepareStore(r, n, i, o, a) {
  var u = dataCtors[i || "float"];
  if (a) {
    var c = r[n], f = c && c.length;
    if (f !== o) {
      for (var d = new u(o), p = 0; p < f; p++)
        d[p] = c[p];
      r[n] = d;
    }
  } else
    r[n] = new u(o);
}
var DataStore = (
  /** @class */
  function() {
    function r() {
      this._chunks = [], this._rawExtent = [], this._extent = [], this._count = 0, this._rawCount = 0, this._calcDimNameToIdx = createHashMap();
    }
    return r.prototype.initData = function(n, i, o) {
      process.env.NODE_ENV !== "production" && assert(isFunction$1(n.getItem) && isFunction$1(n.count), "Invalid data provider."), this._provider = n, this._chunks = [], this._indices = null, this.getRawIndex = this._getRawIdxIdentity;
      var a = n.getSource(), u = this.defaultDimValueGetter = defaultDimValueGetters[a.sourceFormat];
      this._dimValueGetter = o || u, this._rawExtent = [];
      var c = shouldRetrieveDataByName(a);
      this._dimensions = map$1(i, function(f) {
        return process.env.NODE_ENV !== "production" && c && assert(f.property != null), {
          // Only pick these two props. Not leak other properties like orderMeta.
          type: f.type,
          property: f.property
        };
      }), this._initDataFromProvider(0, n.count());
    }, r.prototype.getProvider = function() {
      return this._provider;
    }, r.prototype.getSource = function() {
      return this._provider.getSource();
    }, r.prototype.ensureCalculationDimension = function(n, i) {
      var o = this._calcDimNameToIdx, a = this._dimensions, u = o.get(n);
      if (u != null) {
        if (a[u].type === i)
          return u;
      } else
        u = a.length;
      return a[u] = {
        type: i
      }, o.set(n, u), this._chunks[u] = new dataCtors[i || "float"](this._rawCount), this._rawExtent[u] = getInitialExtent(), u;
    }, r.prototype.collectOrdinalMeta = function(n, i) {
      var o = this._chunks[n], a = this._dimensions[n], u = this._rawExtent, c = a.ordinalOffset || 0, f = o.length;
      c === 0 && (u[n] = getInitialExtent());
      for (var d = u[n], p = c; p < f; p++) {
        var y = o[p] = i.parseAndCollect(o[p]);
        isNaN(y) || (d[0] = Math.min(y, d[0]), d[1] = Math.max(y, d[1]));
      }
      a.ordinalMeta = i, a.ordinalOffset = f, a.type = "ordinal";
    }, r.prototype.getOrdinalMeta = function(n) {
      var i = this._dimensions[n], o = i.ordinalMeta;
      return o;
    }, r.prototype.getDimensionProperty = function(n) {
      var i = this._dimensions[n];
      return i && i.property;
    }, r.prototype.appendData = function(n) {
      process.env.NODE_ENV !== "production" && assert(!this._indices, "appendData can only be called on raw data.");
      var i = this._provider, o = this.count();
      i.appendData(n);
      var a = i.count();
      return i.persistent || (a += o), o < a && this._initDataFromProvider(o, a, !0), [o, a];
    }, r.prototype.appendValues = function(n, i) {
      for (var o = this._chunks, a = this._dimensions, u = a.length, c = this._rawExtent, f = this.count(), d = f + Math.max(n.length, i || 0), p = 0; p < u; p++) {
        var y = a[p];
        prepareStore(o, p, y.type, d, !0);
      }
      for (var v = [], g = f; g < d; g++)
        for (var _ = g - f, b = 0; b < u; b++) {
          var y = a[b], A = defaultDimValueGetters.arrayRows.call(this, n[_] || v, y.property, _, b);
          o[b][g] = A;
          var w = c[b];
          A < w[0] && (w[0] = A), A > w[1] && (w[1] = A);
        }
      return this._rawCount = this._count = d, {
        start: f,
        end: d
      };
    }, r.prototype._initDataFromProvider = function(n, i, o) {
      for (var a = this._provider, u = this._chunks, c = this._dimensions, f = c.length, d = this._rawExtent, p = map$1(c, function(x) {
        return x.property;
      }), y = 0; y < f; y++) {
        var v = c[y];
        d[y] || (d[y] = getInitialExtent()), prepareStore(u, y, v.type, i, o);
      }
      if (a.fillStorage)
        a.fillStorage(n, i, u, d);
      else
        for (var g = [], _ = n; _ < i; _++) {
          g = a.getItem(_, g);
          for (var b = 0; b < f; b++) {
            var A = u[b], w = this._dimValueGetter(g, p[b], _, b);
            A[_] = w;
            var S = d[b];
            w < S[0] && (S[0] = w), w > S[1] && (S[1] = w);
          }
        }
      !a.persistent && a.clean && a.clean(), this._rawCount = this._count = i, this._extent = [];
    }, r.prototype.count = function() {
      return this._count;
    }, r.prototype.get = function(n, i) {
      if (!(i >= 0 && i < this._count))
        return NaN;
      var o = this._chunks[n];
      return o ? o[this.getRawIndex(i)] : NaN;
    }, r.prototype.getValues = function(n, i) {
      var o = [], a = [];
      if (i == null) {
        i = n, n = [];
        for (var u = 0; u < this._dimensions.length; u++)
          a.push(u);
      } else
        a = n;
      for (var u = 0, c = a.length; u < c; u++)
        o.push(this.get(a[u], i));
      return o;
    }, r.prototype.getByRawIndex = function(n, i) {
      if (!(i >= 0 && i < this._rawCount))
        return NaN;
      var o = this._chunks[n];
      return o ? o[i] : NaN;
    }, r.prototype.getSum = function(n) {
      var i = this._chunks[n], o = 0;
      if (i)
        for (var a = 0, u = this.count(); a < u; a++) {
          var c = this.get(n, a);
          isNaN(c) || (o += c);
        }
      return o;
    }, r.prototype.getMedian = function(n) {
      var i = [];
      this.each([n], function(u) {
        isNaN(u) || i.push(u);
      });
      var o = i.sort(function(u, c) {
        return u - c;
      }), a = this.count();
      return a === 0 ? 0 : a % 2 === 1 ? o[(a - 1) / 2] : (o[a / 2] + o[a / 2 - 1]) / 2;
    }, r.prototype.indexOfRawIndex = function(n) {
      if (n >= this._rawCount || n < 0)
        return -1;
      if (!this._indices)
        return n;
      var i = this._indices, o = i[n];
      if (o != null && o < this._count && o === n)
        return n;
      for (var a = 0, u = this._count - 1; a <= u; ) {
        var c = (a + u) / 2 | 0;
        if (i[c] < n)
          a = c + 1;
        else if (i[c] > n)
          u = c - 1;
        else
          return c;
      }
      return -1;
    }, r.prototype.indicesOfNearest = function(n, i, o) {
      var a = this._chunks, u = a[n], c = [];
      if (!u)
        return c;
      o == null && (o = 1 / 0);
      for (var f = 1 / 0, d = -1, p = 0, y = 0, v = this.count(); y < v; y++) {
        var g = this.getRawIndex(y), _ = i - u[g], b = Math.abs(_);
        b <= o && ((b < f || b === f && _ >= 0 && d < 0) && (f = b, d = _, p = 0), _ === d && (c[p++] = y));
      }
      return c.length = p, c;
    }, r.prototype.getIndices = function() {
      var n, i = this._indices;
      if (i) {
        var o = i.constructor, a = this._count;
        if (o === Array) {
          n = new o(a);
          for (var u = 0; u < a; u++)
            n[u] = i[u];
        } else
          n = new o(i.buffer, 0, a);
      } else {
        var o = getIndicesCtor(this._rawCount);
        n = new o(this.count());
        for (var u = 0; u < n.length; u++)
          n[u] = u;
      }
      return n;
    }, r.prototype.filter = function(n, i) {
      if (!this._count)
        return this;
      for (var o = this.clone(), a = o.count(), u = getIndicesCtor(o._rawCount), c = new u(a), f = [], d = n.length, p = 0, y = n[0], v = o._chunks, g = 0; g < a; g++) {
        var _ = void 0, b = o.getRawIndex(g);
        if (d === 0)
          _ = i(g);
        else if (d === 1) {
          var A = v[y][b];
          _ = i(A, g);
        } else {
          for (var w = 0; w < d; w++)
            f[w] = v[n[w]][b];
          f[w] = g, _ = i.apply(null, f);
        }
        _ && (c[p++] = b);
      }
      return p < a && (o._indices = c), o._count = p, o._extent = [], o._updateGetRawIdx(), o;
    }, r.prototype.selectRange = function(n) {
      var i = this.clone(), o = i._count;
      if (!o)
        return this;
      var a = keys(n), u = a.length;
      if (!u)
        return this;
      var c = i.count(), f = getIndicesCtor(i._rawCount), d = new f(c), p = 0, y = a[0], v = n[y][0], g = n[y][1], _ = i._chunks, b = !1;
      if (!i._indices) {
        var A = 0;
        if (u === 1) {
          for (var w = _[a[0]], S = 0; S < o; S++) {
            var x = w[S];
            (x >= v && x <= g || isNaN(x)) && (d[p++] = A), A++;
          }
          b = !0;
        } else if (u === 2) {
          for (var w = _[a[0]], T = _[a[1]], L = n[a[1]][0], k = n[a[1]][1], S = 0; S < o; S++) {
            var x = w[S], M = T[S];
            (x >= v && x <= g || isNaN(x)) && (M >= L && M <= k || isNaN(M)) && (d[p++] = A), A++;
          }
          b = !0;
        }
      }
      if (!b)
        if (u === 1)
          for (var S = 0; S < c; S++) {
            var O = i.getRawIndex(S), x = _[a[0]][O];
            (x >= v && x <= g || isNaN(x)) && (d[p++] = O);
          }
        else
          for (var S = 0; S < c; S++) {
            for (var ie = !0, O = i.getRawIndex(S), F = 0; F < u; F++) {
              var re = a[F], x = _[re][O];
              (x < n[re][0] || x > n[re][1]) && (ie = !1);
            }
            ie && (d[p++] = i.getRawIndex(S));
          }
      return p < c && (i._indices = d), i._count = p, i._extent = [], i._updateGetRawIdx(), i;
    }, r.prototype.map = function(n, i) {
      var o = this.clone(n);
      return this._updateDims(o, n, i), o;
    }, r.prototype.modify = function(n, i) {
      this._updateDims(this, n, i);
    }, r.prototype._updateDims = function(n, i, o) {
      for (var a = n._chunks, u = [], c = i.length, f = n.count(), d = [], p = n._rawExtent, y = 0; y < i.length; y++)
        p[i[y]] = getInitialExtent();
      for (var v = 0; v < f; v++) {
        for (var g = n.getRawIndex(v), _ = 0; _ < c; _++)
          d[_] = a[i[_]][g];
        d[c] = v;
        var b = o && o.apply(null, d);
        if (b != null) {
          typeof b != "object" && (u[0] = b, b = u);
          for (var y = 0; y < b.length; y++) {
            var A = i[y], w = b[y], S = p[A], x = a[A];
            x && (x[g] = w), w < S[0] && (S[0] = w), w > S[1] && (S[1] = w);
          }
        }
      }
    }, r.prototype.lttbDownSample = function(n, i) {
      var o = this.clone([n], !0), a = o._chunks, u = a[n], c = this.count(), f = 0, d = Math.floor(1 / i), p = this.getRawIndex(0), y, v, g, _ = new (getIndicesCtor(this._rawCount))(Math.min((Math.ceil(c / d) + 2) * 2, c));
      _[f++] = p;
      for (var b = 1; b < c - 1; b += d) {
        for (var A = Math.min(b + d, c - 1), w = Math.min(b + d * 2, c), S = (w + A) / 2, x = 0, T = A; T < w; T++) {
          var L = this.getRawIndex(T), k = u[L];
          isNaN(k) || (x += k);
        }
        x /= w - A;
        var M = b, O = Math.min(b + d, c), ie = b - 1, F = u[p];
        y = -1, g = M;
        for (var re = -1, D = 0, T = M; T < O; T++) {
          var L = this.getRawIndex(T), k = u[L];
          if (isNaN(k)) {
            D++, re < 0 && (re = L);
            continue;
          }
          v = Math.abs((ie - S) * (k - F) - (ie - T) * (x - F)), v > y && (y = v, g = L);
        }
        D > 0 && D < O - M && (_[f++] = Math.min(re, g), g = Math.max(re, g)), _[f++] = g, p = g;
      }
      return _[f++] = this.getRawIndex(c - 1), o._count = f, o._indices = _, o.getRawIndex = this._getRawIdx, o;
    }, r.prototype.downSample = function(n, i, o, a) {
      for (var u = this.clone([n], !0), c = u._chunks, f = [], d = Math.floor(1 / i), p = c[n], y = this.count(), v = u._rawExtent[n] = getInitialExtent(), g = new (getIndicesCtor(this._rawCount))(Math.ceil(y / d)), _ = 0, b = 0; b < y; b += d) {
        d > y - b && (d = y - b, f.length = d);
        for (var A = 0; A < d; A++) {
          var w = this.getRawIndex(b + A);
          f[A] = p[w];
        }
        var S = o(f), x = this.getRawIndex(Math.min(b + a(f, S) || 0, y - 1));
        p[x] = S, S < v[0] && (v[0] = S), S > v[1] && (v[1] = S), g[_++] = x;
      }
      return u._count = _, u._indices = g, u._updateGetRawIdx(), u;
    }, r.prototype.each = function(n, i) {
      if (this._count)
        for (var o = n.length, a = this._chunks, u = 0, c = this.count(); u < c; u++) {
          var f = this.getRawIndex(u);
          switch (o) {
            case 0:
              i(u);
              break;
            case 1:
              i(a[n[0]][f], u);
              break;
            case 2:
              i(a[n[0]][f], a[n[1]][f], u);
              break;
            default:
              for (var d = 0, p = []; d < o; d++)
                p[d] = a[n[d]][f];
              p[d] = u, i.apply(null, p);
          }
        }
    }, r.prototype.getDataExtent = function(n) {
      var i = this._chunks[n], o = getInitialExtent();
      if (!i)
        return o;
      var a = this.count(), u = !this._indices, c;
      if (u)
        return this._rawExtent[n].slice();
      if (c = this._extent[n], c)
        return c.slice();
      c = o;
      for (var f = c[0], d = c[1], p = 0; p < a; p++) {
        var y = this.getRawIndex(p), v = i[y];
        v < f && (f = v), v > d && (d = v);
      }
      return c = [f, d], this._extent[n] = c, c;
    }, r.prototype.getRawDataItem = function(n) {
      var i = this.getRawIndex(n);
      if (this._provider.persistent)
        return this._provider.getItem(i);
      for (var o = [], a = this._chunks, u = 0; u < a.length; u++)
        o.push(a[u][i]);
      return o;
    }, r.prototype.clone = function(n, i) {
      var o = new r(), a = this._chunks, u = n && reduce(n, function(f, d) {
        return f[d] = !0, f;
      }, {});
      if (u)
        for (var c = 0; c < a.length; c++)
          o._chunks[c] = u[c] ? cloneChunk(a[c]) : a[c];
      else
        o._chunks = a;
      return this._copyCommonProps(o), i || (o._indices = this._cloneIndices()), o._updateGetRawIdx(), o;
    }, r.prototype._copyCommonProps = function(n) {
      n._count = this._count, n._rawCount = this._rawCount, n._provider = this._provider, n._dimensions = this._dimensions, n._extent = clone$2(this._extent), n._rawExtent = clone$2(this._rawExtent);
    }, r.prototype._cloneIndices = function() {
      if (this._indices) {
        var n = this._indices.constructor, i = void 0;
        if (n === Array) {
          var o = this._indices.length;
          i = new n(o);
          for (var a = 0; a < o; a++)
            i[a] = this._indices[a];
        } else
          i = new n(this._indices);
        return i;
      }
      return null;
    }, r.prototype._getRawIdxIdentity = function(n) {
      return n;
    }, r.prototype._getRawIdx = function(n) {
      return n < this._count && n >= 0 ? this._indices[n] : -1;
    }, r.prototype._updateGetRawIdx = function() {
      this.getRawIndex = this._indices ? this._getRawIdx : this._getRawIdxIdentity;
    }, r.internalField = function() {
      function n(i, o, a, u) {
        return parseDataValue(i[u], this._dimensions[u]);
      }
      defaultDimValueGetters = {
        arrayRows: n,
        objectRows: function(i, o, a, u) {
          return parseDataValue(i[o], this._dimensions[u]);
        },
        keyedColumns: n,
        original: function(i, o, a, u) {
          var c = i && (i.value == null ? i : i.value);
          return parseDataValue(c instanceof Array ? c[u] : c, this._dimensions[u]);
        },
        typedArray: function(i, o, a, u) {
          return i[u];
        }
      };
    }(), r;
  }()
), SourceManager = (
  /** @class */
  function() {
    function r(n) {
      this._sourceList = [], this._storeList = [], this._upstreamSignList = [], this._versionSignBase = 0, this._dirty = !0, this._sourceHost = n;
    }
    return r.prototype.dirty = function() {
      this._setLocalSource([], []), this._storeList = [], this._dirty = !0;
    }, r.prototype._setLocalSource = function(n, i) {
      this._sourceList = n, this._upstreamSignList = i, this._versionSignBase++, this._versionSignBase > 9e10 && (this._versionSignBase = 0);
    }, r.prototype._getVersionSign = function() {
      return this._sourceHost.uid + "_" + this._versionSignBase;
    }, r.prototype.prepareSource = function() {
      this._isDirty() && (this._createSource(), this._dirty = !1);
    }, r.prototype._createSource = function() {
      this._setLocalSource([], []);
      var n = this._sourceHost, i = this._getUpstreamSourceManagers(), o = !!i.length, a, u;
      if (isSeries(n)) {
        var c = n, f = void 0, d = void 0, p = void 0;
        if (o) {
          var y = i[0];
          y.prepareSource(), p = y.getSource(), f = p.data, d = p.sourceFormat, u = [y._getVersionSign()];
        } else
          f = c.get("data", !0), d = isTypedArray(f) ? SOURCE_FORMAT_TYPED_ARRAY : SOURCE_FORMAT_ORIGINAL, u = [];
        var v = this._getSourceMetaRawOption() || {}, g = p && p.metaRawOption || {}, _ = retrieve2(v.seriesLayoutBy, g.seriesLayoutBy) || null, b = retrieve2(v.sourceHeader, g.sourceHeader), A = retrieve2(v.dimensions, g.dimensions), w = _ !== g.seriesLayoutBy || !!b != !!g.sourceHeader || A;
        a = w ? [createSource(f, {
          seriesLayoutBy: _,
          sourceHeader: b,
          dimensions: A
        }, d)] : [];
      } else {
        var S = n;
        if (o) {
          var x = this._applyTransform(i);
          a = x.sourceList, u = x.upstreamSignList;
        } else {
          var T = S.get("source", !0);
          a = [createSource(T, this._getSourceMetaRawOption(), null)], u = [];
        }
      }
      process.env.NODE_ENV !== "production" && assert(a && u), this._setLocalSource(a, u);
    }, r.prototype._applyTransform = function(n) {
      var i = this._sourceHost, o = i.get("transform", !0), a = i.get("fromTransformResult", !0);
      if (process.env.NODE_ENV !== "production" && assert(a != null || o != null), a != null) {
        var u = "";
        n.length !== 1 && (process.env.NODE_ENV !== "production" && (u = "When using `fromTransformResult`, there should be only one upstream dataset"), doThrow(u));
      }
      var c, f = [], d = [];
      return each$4(n, function(p) {
        p.prepareSource();
        var y = p.getSource(a || 0), v = "";
        a != null && !y && (process.env.NODE_ENV !== "production" && (v = "Can not retrieve result by `fromTransformResult`: " + a), doThrow(v)), f.push(y), d.push(p._getVersionSign());
      }), o ? c = applyDataTransform(o, f, {
        datasetIndex: i.componentIndex
      }) : a != null && (c = [cloneSourceShallow(f[0])]), {
        sourceList: c,
        upstreamSignList: d
      };
    }, r.prototype._isDirty = function() {
      if (this._dirty)
        return !0;
      for (var n = this._getUpstreamSourceManagers(), i = 0; i < n.length; i++) {
        var o = n[i];
        if (
          // Consider the case that there is ancestor diry, call it recursively.
          // The performance is probably not an issue because usually the chain is not long.
          o._isDirty() || this._upstreamSignList[i] !== o._getVersionSign()
        )
          return !0;
      }
    }, r.prototype.getSource = function(n) {
      n = n || 0;
      var i = this._sourceList[n];
      if (!i) {
        var o = this._getUpstreamSourceManagers();
        return o[0] && o[0].getSource(n);
      }
      return i;
    }, r.prototype.getSharedDataStore = function(n) {
      process.env.NODE_ENV !== "production" && assert(isSeries(this._sourceHost), "Can only call getDataStore on series source manager.");
      var i = n.makeStoreSchema();
      return this._innerGetDataStore(i.dimensions, n.source, i.hash);
    }, r.prototype._innerGetDataStore = function(n, i, o) {
      var a = 0, u = this._storeList, c = u[a];
      c || (c = u[a] = {});
      var f = c[o];
      if (!f) {
        var d = this._getUpstreamSourceManagers()[0];
        isSeries(this._sourceHost) && d ? f = d._innerGetDataStore(n, i, o) : (f = new DataStore(), f.initData(new DefaultDataProvider(i, n.length), n)), c[o] = f;
      }
      return f;
    }, r.prototype._getUpstreamSourceManagers = function() {
      var n = this._sourceHost;
      if (isSeries(n)) {
        var i = querySeriesUpstreamDatasetModel(n);
        return i ? [i.getSourceManager()] : [];
      } else
        return map$1(queryDatasetUpstreamDatasetModels(n), function(o) {
          return o.getSourceManager();
        });
    }, r.prototype._getSourceMetaRawOption = function() {
      var n = this._sourceHost, i, o, a;
      if (isSeries(n))
        i = n.get("seriesLayoutBy", !0), o = n.get("sourceHeader", !0), a = n.get("dimensions", !0);
      else if (!this._getUpstreamSourceManagers().length) {
        var u = n;
        i = u.get("seriesLayoutBy", !0), o = u.get("sourceHeader", !0), a = u.get("dimensions", !0);
      }
      return {
        seriesLayoutBy: i,
        sourceHeader: o,
        dimensions: a
      };
    }, r;
  }()
);
function isSeries(r) {
  return r.mainType === "series";
}
function doThrow(r) {
  throw new Error(r);
}
var TOOLTIP_LINE_HEIGHT_CSS = "line-height:1";
function getTooltipTextStyle(r, n) {
  var i = r.color || "#6e7079", o = r.fontSize || 12, a = r.fontWeight || "400", u = r.color || "#464646", c = r.fontSize || 14, f = r.fontWeight || "900";
  return n === "html" ? {
    // eslint-disable-next-line max-len
    nameStyle: "font-size:" + encodeHTML(o + "") + "px;color:" + encodeHTML(i) + ";font-weight:" + encodeHTML(a + ""),
    // eslint-disable-next-line max-len
    valueStyle: "font-size:" + encodeHTML(c + "") + "px;color:" + encodeHTML(u) + ";font-weight:" + encodeHTML(f + "")
  } : {
    nameStyle: {
      fontSize: o,
      fill: i,
      fontWeight: a
    },
    valueStyle: {
      fontSize: c,
      fill: u,
      fontWeight: f
    }
  };
}
var HTML_GAPS = [0, 10, 20, 30], RICH_TEXT_GAPS = ["", `
`, `

`, `


`];
function createTooltipMarkup(r, n) {
  return n.type = r, n;
}
function isSectionFragment(r) {
  return r.type === "section";
}
function getBuilder(r) {
  return isSectionFragment(r) ? buildSection : buildNameValue;
}
function getBlockGapLevel(r) {
  if (isSectionFragment(r)) {
    var n = 0, i = r.blocks.length, o = i > 1 || i > 0 && !r.noHeader;
    return each$4(r.blocks, function(a) {
      var u = getBlockGapLevel(a);
      u >= n && (n = u + +(o && // 0 always can not be readable gap level.
      (!u || isSectionFragment(a) && !a.noHeader)));
    }), n;
  }
  return 0;
}
function buildSection(r, n, i, o) {
  var a = n.noHeader, u = getGap(getBlockGapLevel(n)), c = [], f = n.blocks || [];
  assert(!f || isArray$1(f)), f = f || [];
  var d = r.orderMode;
  if (n.sortBlocks && d) {
    f = f.slice();
    var p = {
      valueAsc: "asc",
      valueDesc: "desc"
    };
    if (hasOwn$1(p, d)) {
      var y = new SortOrderComparator(p[d], null);
      f.sort(function(b, A) {
        return y.evaluate(b.sortParam, A.sortParam);
      });
    } else
      d === "seriesDesc" && f.reverse();
  }
  each$4(f, function(b, A) {
    var w = n.valueFormatter, S = getBuilder(b)(
      // Inherit valueFormatter
      w ? extend(extend({}, r), {
        valueFormatter: w
      }) : r,
      b,
      A > 0 ? u.html : 0,
      o
    );
    S != null && c.push(S);
  });
  var v = r.renderMode === "richText" ? c.join(u.richText) : wrapBlockHTML(c.join(""), a ? i : u.html);
  if (a)
    return v;
  var g = makeValueReadable(n.header, "ordinal", r.useUTC), _ = getTooltipTextStyle(o, r.renderMode).nameStyle;
  return r.renderMode === "richText" ? wrapInlineNameRichText(r, g, _) + u.richText + v : wrapBlockHTML('<div style="' + _ + ";" + TOOLTIP_LINE_HEIGHT_CSS + ';">' + encodeHTML(g) + "</div>" + v, i);
}
function buildNameValue(r, n, i, o) {
  var a = r.renderMode, u = n.noName, c = n.noValue, f = !n.markerType, d = n.name, p = r.useUTC, y = n.valueFormatter || r.valueFormatter || function(L) {
    return L = isArray$1(L) ? L : [L], map$1(L, function(k, M) {
      return makeValueReadable(k, isArray$1(_) ? _[M] : _, p);
    });
  };
  if (!(u && c)) {
    var v = f ? "" : r.markupStyleCreator.makeTooltipMarker(n.markerType, n.markerColor || "#333", a), g = u ? "" : makeValueReadable(d, "ordinal", p), _ = n.valueType, b = c ? [] : y(n.value), A = !f || !u, w = !f && u, S = getTooltipTextStyle(o, a), x = S.nameStyle, T = S.valueStyle;
    return a === "richText" ? (f ? "" : v) + (u ? "" : wrapInlineNameRichText(r, g, x)) + (c ? "" : wrapInlineValueRichText(r, b, A, w, T)) : wrapBlockHTML((f ? "" : v) + (u ? "" : wrapInlineNameHTML(g, !f, x)) + (c ? "" : wrapInlineValueHTML(b, A, w, T)), i);
  }
}
function buildTooltipMarkup(r, n, i, o, a, u) {
  if (r) {
    var c = getBuilder(r), f = {
      useUTC: a,
      renderMode: i,
      orderMode: o,
      markupStyleCreator: n,
      valueFormatter: r.valueFormatter
    };
    return c(f, r, 0, u);
  }
}
function getGap(r) {
  return {
    html: HTML_GAPS[r],
    richText: RICH_TEXT_GAPS[r]
  };
}
function wrapBlockHTML(r, n) {
  var i = '<div style="clear:both"></div>', o = "margin: " + n + "px 0 0";
  return '<div style="' + o + ";" + TOOLTIP_LINE_HEIGHT_CSS + ';">' + r + i + "</div>";
}
function wrapInlineNameHTML(r, n, i) {
  var o = n ? "margin-left:2px" : "";
  return '<span style="' + i + ";" + o + '">' + encodeHTML(r) + "</span>";
}
function wrapInlineValueHTML(r, n, i, o) {
  var a = i ? "10px" : "20px", u = n ? "float:right;margin-left:" + a : "";
  return r = isArray$1(r) ? r : [r], '<span style="' + u + ";" + o + '">' + map$1(r, function(c) {
    return encodeHTML(c);
  }).join("&nbsp;&nbsp;") + "</span>";
}
function wrapInlineNameRichText(r, n, i) {
  return r.markupStyleCreator.wrapRichTextStyle(n, i);
}
function wrapInlineValueRichText(r, n, i, o, a) {
  var u = [a], c = o ? 10 : 20;
  return i && u.push({
    padding: [0, 0, 0, c],
    align: "right"
  }), r.markupStyleCreator.wrapRichTextStyle(isArray$1(n) ? n.join("  ") : n, u);
}
function retrieveVisualColorForTooltipMarker(r, n) {
  var i = r.getData().getItemVisual(n, "style"), o = i[r.visualDrawType];
  return convertToColorString(o);
}
function getPaddingFromTooltipModel(r, n) {
  var i = r.get("padding");
  return i ?? (n === "richText" ? [8, 10] : 10);
}
var TooltipMarkupStyleCreator = (
  /** @class */
  function() {
    function r() {
      this.richTextStyles = {}, this._nextStyleNameId = getRandomIdBase();
    }
    return r.prototype._generateStyleName = function() {
      return "__EC_aUTo_" + this._nextStyleNameId++;
    }, r.prototype.makeTooltipMarker = function(n, i, o) {
      var a = o === "richText" ? this._generateStyleName() : null, u = getTooltipMarker({
        color: i,
        type: n,
        renderMode: o,
        markerId: a
      });
      return isString$2(u) ? u : (process.env.NODE_ENV !== "production" && assert(a), this.richTextStyles[a] = u.style, u.content);
    }, r.prototype.wrapRichTextStyle = function(n, i) {
      var o = {};
      isArray$1(i) ? each$4(i, function(u) {
        return extend(o, u);
      }) : extend(o, i);
      var a = this._generateStyleName();
      return this.richTextStyles[a] = o, "{" + a + "|" + n + "}";
    }, r;
  }()
);
function defaultSeriesFormatTooltip(r) {
  var n = r.series, i = r.dataIndex, o = r.multipleSeries, a = n.getData(), u = a.mapDimensionsAll("defaultedTooltip"), c = u.length, f = n.getRawValue(i), d = isArray$1(f), p = retrieveVisualColorForTooltipMarker(n, i), y, v, g, _;
  if (c > 1 || d && !c) {
    var b = formatTooltipArrayValue(f, n, i, u, p);
    y = b.inlineValues, v = b.inlineValueTypes, g = b.blocks, _ = b.inlineValues[0];
  } else if (c) {
    var A = a.getDimensionInfo(u[0]);
    _ = y = retrieveRawValue(a, i, u[0]), v = A.type;
  } else
    _ = y = d ? f[0] : f;
  var w = isNameSpecified(n), S = w && n.name || "", x = a.getName(i), T = o ? S : x;
  return createTooltipMarkup("section", {
    header: S,
    // When series name not specified, do not show a header line with only '-'.
    // This case alway happen in tooltip.trigger: 'item'.
    noHeader: o || !w,
    sortParam: _,
    blocks: [createTooltipMarkup("nameValue", {
      markerType: "item",
      markerColor: p,
      // Do not mix display seriesName and itemName in one tooltip,
      // which might confuses users.
      name: T,
      // name dimension might be auto assigned, where the name might
      // be not readable. So we check trim here.
      noName: !trim(T),
      value: y,
      valueType: v
    })].concat(g || [])
  });
}
function formatTooltipArrayValue(r, n, i, o, a) {
  var u = n.getData(), c = reduce(r, function(v, g, _) {
    var b = u.getDimensionInfo(_);
    return v = v || b && b.tooltip !== !1 && b.displayName != null;
  }, !1), f = [], d = [], p = [];
  o.length ? each$4(o, function(v) {
    y(retrieveRawValue(u, i, v), v);
  }) : each$4(r, y);
  function y(v, g) {
    var _ = u.getDimensionInfo(g);
    !_ || _.otherDims.tooltip === !1 || (c ? p.push(createTooltipMarkup("nameValue", {
      markerType: "subItem",
      markerColor: a,
      name: _.displayName,
      value: v,
      valueType: _.type
    })) : (f.push(v), d.push(_.type)));
  }
  return {
    inlineValues: f,
    inlineValueTypes: d,
    blocks: p
  };
}
var inner$6 = makeInner();
function getSelectionKey(r, n) {
  return r.getName(n) || r.getId(n);
}
var SERIES_UNIVERSAL_TRANSITION_PROP = "__universalTransitionEnabled", SeriesModel = (
  /** @class */
  function(r) {
    __extends(n, r);
    function n() {
      var i = r !== null && r.apply(this, arguments) || this;
      return i._selectedDataIndicesMap = {}, i;
    }
    return n.prototype.init = function(i, o, a) {
      this.seriesIndex = this.componentIndex, this.dataTask = createTask({
        count: dataTaskCount,
        reset: dataTaskReset
      }), this.dataTask.context = {
        model: this
      }, this.mergeDefaultAndTheme(i, a);
      var u = inner$6(this).sourceManager = new SourceManager(this);
      u.prepareSource();
      var c = this.getInitialData(i, a);
      wrapData(c, this), this.dataTask.context.data = c, process.env.NODE_ENV !== "production" && assert(c, "getInitialData returned invalid data."), inner$6(this).dataBeforeProcessed = c, autoSeriesName(this), this._initSelectedMapFromData(c);
    }, n.prototype.mergeDefaultAndTheme = function(i, o) {
      var a = fetchLayoutMode(this), u = a ? getLayoutParams(i) : {}, c = this.subType;
      ComponentModel$1.hasClass(c) && (c += "Series"), merge(i, o.getTheme().get(this.subType)), merge(i, this.getDefaultOption()), defaultEmphasis(i, "label", ["show"]), this.fillDataTextStyle(i.data), a && mergeLayoutParam(i, u, a);
    }, n.prototype.mergeOption = function(i, o) {
      i = merge(this.option, i, !0), this.fillDataTextStyle(i.data);
      var a = fetchLayoutMode(this);
      a && mergeLayoutParam(this.option, i, a);
      var u = inner$6(this).sourceManager;
      u.dirty(), u.prepareSource();
      var c = this.getInitialData(i, o);
      wrapData(c, this), this.dataTask.dirty(), this.dataTask.context.data = c, inner$6(this).dataBeforeProcessed = c, autoSeriesName(this), this._initSelectedMapFromData(c);
    }, n.prototype.fillDataTextStyle = function(i) {
      if (i && !isTypedArray(i))
        for (var o = ["show"], a = 0; a < i.length; a++)
          i[a] && i[a].label && defaultEmphasis(i[a], "label", o);
    }, n.prototype.getInitialData = function(i, o) {
    }, n.prototype.appendData = function(i) {
      var o = this.getRawData();
      o.appendData(i.data);
    }, n.prototype.getData = function(i) {
      var o = getCurrentTask(this);
      if (o) {
        var a = o.context.data;
        return i == null ? a : a.getLinkedData(i);
      } else
        return inner$6(this).data;
    }, n.prototype.getAllData = function() {
      var i = this.getData();
      return i && i.getLinkedDataAll ? i.getLinkedDataAll() : [{
        data: i
      }];
    }, n.prototype.setData = function(i) {
      var o = getCurrentTask(this);
      if (o) {
        var a = o.context;
        a.outputData = i, o !== this.dataTask && (a.data = i);
      }
      inner$6(this).data = i;
    }, n.prototype.getEncode = function() {
      var i = this.get("encode", !0);
      if (i)
        return createHashMap(i);
    }, n.prototype.getSourceManager = function() {
      return inner$6(this).sourceManager;
    }, n.prototype.getSource = function() {
      return this.getSourceManager().getSource();
    }, n.prototype.getRawData = function() {
      return inner$6(this).dataBeforeProcessed;
    }, n.prototype.getColorBy = function() {
      var i = this.get("colorBy");
      return i || "series";
    }, n.prototype.isColorBySeries = function() {
      return this.getColorBy() === "series";
    }, n.prototype.getBaseAxis = function() {
      var i = this.coordinateSystem;
      return i && i.getBaseAxis && i.getBaseAxis();
    }, n.prototype.formatTooltip = function(i, o, a) {
      return defaultSeriesFormatTooltip({
        series: this,
        dataIndex: i,
        multipleSeries: o
      });
    }, n.prototype.isAnimationEnabled = function() {
      var i = this.ecModel;
      if (env$1.node && !(i && i.ssr))
        return !1;
      var o = this.getShallow("animation");
      return o && this.getData().count() > this.getShallow("animationThreshold") && (o = !1), !!o;
    }, n.prototype.restoreData = function() {
      this.dataTask.dirty();
    }, n.prototype.getColorFromPalette = function(i, o, a) {
      var u = this.ecModel, c = PaletteMixin.prototype.getColorFromPalette.call(this, i, o, a);
      return c || (c = u.getColorFromPalette(i, o, a)), c;
    }, n.prototype.coordDimToDataDim = function(i) {
      return this.getRawData().mapDimensionsAll(i);
    }, n.prototype.getProgressive = function() {
      return this.get("progressive");
    }, n.prototype.getProgressiveThreshold = function() {
      return this.get("progressiveThreshold");
    }, n.prototype.select = function(i, o) {
      this._innerSelect(this.getData(o), i);
    }, n.prototype.unselect = function(i, o) {
      var a = this.option.selectedMap;
      if (a) {
        var u = this.option.selectedMode, c = this.getData(o);
        if (u === "series" || a === "all") {
          this.option.selectedMap = {}, this._selectedDataIndicesMap = {};
          return;
        }
        for (var f = 0; f < i.length; f++) {
          var d = i[f], p = getSelectionKey(c, d);
          a[p] = !1, this._selectedDataIndicesMap[p] = -1;
        }
      }
    }, n.prototype.toggleSelect = function(i, o) {
      for (var a = [], u = 0; u < i.length; u++)
        a[0] = i[u], this.isSelected(i[u], o) ? this.unselect(a, o) : this.select(a, o);
    }, n.prototype.getSelectedDataIndices = function() {
      if (this.option.selectedMap === "all")
        return [].slice.call(this.getData().getIndices());
      for (var i = this._selectedDataIndicesMap, o = keys(i), a = [], u = 0; u < o.length; u++) {
        var c = i[o[u]];
        c >= 0 && a.push(c);
      }
      return a;
    }, n.prototype.isSelected = function(i, o) {
      var a = this.option.selectedMap;
      if (!a)
        return !1;
      var u = this.getData(o);
      return (a === "all" || a[getSelectionKey(u, i)]) && !u.getItemModel(i).get(["select", "disabled"]);
    }, n.prototype.isUniversalTransitionEnabled = function() {
      if (this[SERIES_UNIVERSAL_TRANSITION_PROP])
        return !0;
      var i = this.option.universalTransition;
      return i ? i === !0 ? !0 : i && i.enabled : !1;
    }, n.prototype._innerSelect = function(i, o) {
      var a, u, c = this.option, f = c.selectedMode, d = o.length;
      if (!(!f || !d)) {
        if (f === "series")
          c.selectedMap = "all";
        else if (f === "multiple") {
          isObject$3(c.selectedMap) || (c.selectedMap = {});
          for (var p = c.selectedMap, y = 0; y < d; y++) {
            var v = o[y], g = getSelectionKey(i, v);
            p[g] = !0, this._selectedDataIndicesMap[g] = i.getRawIndex(v);
          }
        } else if (f === "single" || f === !0) {
          var _ = o[d - 1], g = getSelectionKey(i, _);
          c.selectedMap = (a = {}, a[g] = !0, a), this._selectedDataIndicesMap = (u = {}, u[g] = i.getRawIndex(_), u);
        }
      }
    }, n.prototype._initSelectedMapFromData = function(i) {
      if (!this.option.selectedMap) {
        var o = [];
        i.hasItemOption && i.each(function(a) {
          var u = i.getRawDataItem(a);
          u && u.selected && o.push(a);
        }), o.length > 0 && this._innerSelect(i, o);
      }
    }, n.registerClass = function(i) {
      return ComponentModel$1.registerClass(i);
    }, n.protoInitialize = function() {
      var i = n.prototype;
      i.type = "series.__base__", i.seriesIndex = 0, i.ignoreStyleOnData = !1, i.hasSymbolVisual = !1, i.defaultSymbol = "circle", i.visualStyleAccessPath = "itemStyle", i.visualDrawType = "fill";
    }(), n;
  }(ComponentModel$1)
);
mixin(SeriesModel, DataFormatMixin);
mixin(SeriesModel, PaletteMixin);
mountExtend(SeriesModel, ComponentModel$1);
function autoSeriesName(r) {
  var n = r.name;
  isNameSpecified(r) || (r.name = getSeriesAutoName(r) || n);
}
function getSeriesAutoName(r) {
  var n = r.getRawData(), i = n.mapDimensionsAll("seriesName"), o = [];
  return each$4(i, function(a) {
    var u = n.getDimensionInfo(a);
    u.displayName && o.push(u.displayName);
  }), o.join(" ");
}
function dataTaskCount(r) {
  return r.model.getRawData().count();
}
function dataTaskReset(r) {
  var n = r.model;
  return n.setData(n.getRawData().cloneShallow()), dataTaskProgress;
}
function dataTaskProgress(r, n) {
  n.outputData && r.end > n.outputData.count() && n.model.getRawData().cloneShallow(n.outputData);
}
function wrapData(r, n) {
  each$4(concatArray(r.CHANGABLE_METHODS, r.DOWNSAMPLE_METHODS), function(i) {
    r.wrapMethod(i, curry$1(onDataChange, n));
  });
}
function onDataChange(r, n) {
  var i = getCurrentTask(r);
  return i && i.setOutputEnd((n || this).count()), n;
}
function getCurrentTask(r) {
  var n = (r.ecModel || {}).scheduler, i = n && n.getPipeline(r.uid);
  if (i) {
    var o = i.currentTask;
    if (o) {
      var a = o.agentStubMap;
      a && (o = a.get(r.uid));
    }
    return o;
  }
}
const SeriesModel$1 = SeriesModel;
var ComponentView = (
  /** @class */
  function() {
    function r() {
      this.group = new Group$3(), this.uid = getUID("viewComponent");
    }
    return r.prototype.init = function(n, i) {
    }, r.prototype.render = function(n, i, o, a) {
    }, r.prototype.dispose = function(n, i) {
    }, r.prototype.updateView = function(n, i, o, a) {
    }, r.prototype.updateLayout = function(n, i, o, a) {
    }, r.prototype.updateVisual = function(n, i, o, a) {
    }, r.prototype.toggleBlurSeries = function(n, i, o) {
    }, r.prototype.eachRendered = function(n) {
      var i = this.group;
      i && i.traverse(n);
    }, r;
  }()
);
enableClassExtend(ComponentView);
enableClassManagement(ComponentView);
const ComponentView$1 = ComponentView;
function createRenderPlanner() {
  var r = makeInner();
  return function(n) {
    var i = r(n), o = n.pipelineContext, a = !!i.large, u = !!i.progressiveRender, c = i.large = !!(o && o.large), f = i.progressiveRender = !!(o && o.progressiveRender);
    return (a !== c || u !== f) && "reset";
  };
}
var inner$5 = makeInner(), renderPlanner = createRenderPlanner(), ChartView = (
  /** @class */
  function() {
    function r() {
      this.group = new Group$3(), this.uid = getUID("viewChart"), this.renderTask = createTask({
        plan: renderTaskPlan,
        reset: renderTaskReset
      }), this.renderTask.context = {
        view: this
      };
    }
    return r.prototype.init = function(n, i) {
    }, r.prototype.render = function(n, i, o, a) {
      if (process.env.NODE_ENV !== "production")
        throw new Error("render method must been implemented");
    }, r.prototype.highlight = function(n, i, o, a) {
      var u = n.getData(a && a.dataType);
      if (!u) {
        process.env.NODE_ENV !== "production" && error("Unknown dataType " + a.dataType);
        return;
      }
      toggleHighlight(u, a, "emphasis");
    }, r.prototype.downplay = function(n, i, o, a) {
      var u = n.getData(a && a.dataType);
      if (!u) {
        process.env.NODE_ENV !== "production" && error("Unknown dataType " + a.dataType);
        return;
      }
      toggleHighlight(u, a, "normal");
    }, r.prototype.remove = function(n, i) {
      this.group.removeAll();
    }, r.prototype.dispose = function(n, i) {
    }, r.prototype.updateView = function(n, i, o, a) {
      this.render(n, i, o, a);
    }, r.prototype.updateLayout = function(n, i, o, a) {
      this.render(n, i, o, a);
    }, r.prototype.updateVisual = function(n, i, o, a) {
      this.render(n, i, o, a);
    }, r.prototype.eachRendered = function(n) {
      traverseElements(this.group, n);
    }, r.markUpdateMethod = function(n, i) {
      inner$5(n).updateMethod = i;
    }, r.protoInitialize = function() {
      var n = r.prototype;
      n.type = "chart";
    }(), r;
  }()
);
function elSetState(r, n, i) {
  r && isHighDownDispatcher(r) && (n === "emphasis" ? enterEmphasis : leaveEmphasis)(r, i);
}
function toggleHighlight(r, n, i) {
  var o = queryDataIndex(r, n), a = n && n.highlightKey != null ? getHighlightDigit(n.highlightKey) : null;
  o != null ? each$4(normalizeToArray(o), function(u) {
    elSetState(r.getItemGraphicEl(u), i, a);
  }) : r.eachItemGraphicEl(function(u) {
    elSetState(u, i, a);
  });
}
enableClassExtend(ChartView, ["dispose"]);
enableClassManagement(ChartView);
function renderTaskPlan(r) {
  return renderPlanner(r.model);
}
function renderTaskReset(r) {
  var n = r.model, i = r.ecModel, o = r.api, a = r.payload, u = n.pipelineContext.progressiveRender, c = r.view, f = a && inner$5(a).updateMethod, d = u ? "incrementalPrepareRender" : f && c[f] ? f : "render";
  return d !== "render" && c[d](n, i, o, a), progressMethodMap[d];
}
var progressMethodMap = {
  incrementalPrepareRender: {
    progress: function(r, n) {
      n.view.incrementalRender(r, n.model, n.ecModel, n.api, n.payload);
    }
  },
  render: {
    // Put view.render in `progress` to support appendData. But in this case
    // view.render should not be called in reset, otherwise it will be called
    // twise. Use `forceFirstProgress` to make sure that view.render is called
    // in any cases.
    forceFirstProgress: !0,
    progress: function(r, n) {
      n.view.render(n.model, n.ecModel, n.api, n.payload);
    }
  }
};
const ChartView$1 = ChartView;
var ORIGIN_METHOD = "\0__throttleOriginMethod", RATE = "\0__throttleRate", THROTTLE_TYPE = "\0__throttleType";
function throttle$1(r, n, i) {
  var o, a = 0, u = 0, c = null, f, d, p, y;
  n = n || 0;
  function v() {
    u = (/* @__PURE__ */ new Date()).getTime(), c = null, r.apply(d, p || []);
  }
  var g = function() {
    for (var _ = [], b = 0; b < arguments.length; b++)
      _[b] = arguments[b];
    o = (/* @__PURE__ */ new Date()).getTime(), d = this, p = _;
    var A = y || n, w = y || i;
    y = null, f = o - (w ? a : u) - A, clearTimeout(c), w ? c = setTimeout(v, A) : f >= 0 ? v() : c = setTimeout(v, -f), a = o;
  };
  return g.clear = function() {
    c && (clearTimeout(c), c = null);
  }, g.debounceNextCall = function(_) {
    y = _;
  }, g;
}
function createOrUpdate(r, n, i, o) {
  var a = r[n];
  if (a) {
    var u = a[ORIGIN_METHOD] || a, c = a[THROTTLE_TYPE], f = a[RATE];
    if (f !== i || c !== o) {
      if (i == null || !o)
        return r[n] = u;
      a = r[n] = throttle$1(u, i, o === "debounce"), a[ORIGIN_METHOD] = u, a[THROTTLE_TYPE] = o, a[RATE] = i;
    }
    return a;
  }
}
function clear(r, n) {
  var i = r[n];
  i && i[ORIGIN_METHOD] && (i.clear && i.clear(), r[n] = i[ORIGIN_METHOD]);
}
var inner$4 = makeInner(), defaultStyleMappers = {
  itemStyle: makeStyleMapper(ITEM_STYLE_KEY_MAP, !0),
  lineStyle: makeStyleMapper(LINE_STYLE_KEY_MAP, !0)
}, defaultColorKey = {
  lineStyle: "stroke",
  itemStyle: "fill"
};
function getStyleMapper(r, n) {
  var i = r.visualStyleMapper || defaultStyleMappers[n];
  return i || (console.warn("Unknown style type '" + n + "'."), defaultStyleMappers.itemStyle);
}
function getDefaultColorKey(r, n) {
  var i = r.visualDrawType || defaultColorKey[n];
  return i || (console.warn("Unknown style type '" + n + "'."), "fill");
}
var seriesStyleTask = {
  createOnAllSeries: !0,
  performRawSeries: !0,
  reset: function(r, n) {
    var i = r.getData(), o = r.visualStyleAccessPath || "itemStyle", a = r.getModel(o), u = getStyleMapper(r, o), c = u(a), f = a.getShallow("decal");
    f && (i.setVisual("decal", f), f.dirty = !0);
    var d = getDefaultColorKey(r, o), p = c[d], y = isFunction$1(p) ? p : null, v = c.fill === "auto" || c.stroke === "auto";
    if (!c[d] || y || v) {
      var g = r.getColorFromPalette(
        // TODO series count changed.
        r.name,
        null,
        n.getSeriesCount()
      );
      c[d] || (c[d] = g, i.setVisual("colorFromPalette", !0)), c.fill = c.fill === "auto" || isFunction$1(c.fill) ? g : c.fill, c.stroke = c.stroke === "auto" || isFunction$1(c.stroke) ? g : c.stroke;
    }
    if (i.setVisual("style", c), i.setVisual("drawType", d), !n.isSeriesFiltered(r) && y)
      return i.setVisual("colorFromPalette", !1), {
        dataEach: function(_, b) {
          var A = r.getDataParams(b), w = extend({}, c);
          w[d] = y(A), _.setItemVisual(b, "style", w);
        }
      };
  }
}, sharedModel = new Model$1(), dataStyleTask = {
  createOnAllSeries: !0,
  performRawSeries: !0,
  reset: function(r, n) {
    if (!(r.ignoreStyleOnData || n.isSeriesFiltered(r))) {
      var i = r.getData(), o = r.visualStyleAccessPath || "itemStyle", a = getStyleMapper(r, o), u = i.getVisual("drawType");
      return {
        dataEach: i.hasItemOption ? function(c, f) {
          var d = c.getRawDataItem(f);
          if (d && d[o]) {
            sharedModel.option = d[o];
            var p = a(sharedModel), y = c.ensureUniqueItemVisual(f, "style");
            extend(y, p), sharedModel.option.decal && (c.setItemVisual(f, "decal", sharedModel.option.decal), sharedModel.option.decal.dirty = !0), u in p && c.setItemVisual(f, "colorFromPalette", !1);
          }
        } : null
      };
    }
  }
}, dataColorPaletteTask = {
  performRawSeries: !0,
  overallReset: function(r) {
    var n = createHashMap();
    r.eachSeries(function(i) {
      var o = i.getColorBy();
      if (!i.isColorBySeries()) {
        var a = i.type + "-" + o, u = n.get(a);
        u || (u = {}, n.set(a, u)), inner$4(i).scope = u;
      }
    }), r.eachSeries(function(i) {
      if (!(i.isColorBySeries() || r.isSeriesFiltered(i))) {
        var o = i.getRawData(), a = {}, u = i.getData(), c = inner$4(i).scope, f = i.visualStyleAccessPath || "itemStyle", d = getDefaultColorKey(i, f);
        u.each(function(p) {
          var y = u.getRawIndex(p);
          a[y] = p;
        }), o.each(function(p) {
          var y = a[p], v = u.getItemVisual(y, "colorFromPalette");
          if (v) {
            var g = u.ensureUniqueItemVisual(y, "style"), _ = o.getName(p) || p + "", b = o.count();
            g[d] = i.getColorFromPalette(_, c, b);
          }
        });
      }
    });
  }
}, PI$2 = Math.PI;
function defaultLoading(r, n) {
  n = n || {}, defaults(n, {
    text: "loading",
    textColor: "#000",
    fontSize: 12,
    fontWeight: "normal",
    fontStyle: "normal",
    fontFamily: "sans-serif",
    maskColor: "rgba(255, 255, 255, 0.8)",
    showSpinner: !0,
    color: "#5470c6",
    spinnerRadius: 10,
    lineWidth: 5,
    zlevel: 0
  });
  var i = new Group$3(), o = new Rect$1({
    style: {
      fill: n.maskColor
    },
    zlevel: n.zlevel,
    z: 1e4
  });
  i.add(o);
  var a = new ZRText$1({
    style: {
      text: n.text,
      fill: n.textColor,
      fontSize: n.fontSize,
      fontWeight: n.fontWeight,
      fontStyle: n.fontStyle,
      fontFamily: n.fontFamily
    },
    zlevel: n.zlevel,
    z: 10001
  }), u = new Rect$1({
    style: {
      fill: "none"
    },
    textContent: a,
    textConfig: {
      position: "right",
      distance: 10
    },
    zlevel: n.zlevel,
    z: 10001
  });
  i.add(u);
  var c;
  return n.showSpinner && (c = new Arc$1({
    shape: {
      startAngle: -PI$2 / 2,
      endAngle: -PI$2 / 2 + 0.1,
      r: n.spinnerRadius
    },
    style: {
      stroke: n.color,
      lineCap: "round",
      lineWidth: n.lineWidth
    },
    zlevel: n.zlevel,
    z: 10001
  }), c.animateShape(!0).when(1e3, {
    endAngle: PI$2 * 3 / 2
  }).start("circularInOut"), c.animateShape(!0).when(1e3, {
    startAngle: PI$2 * 3 / 2
  }).delay(300).start("circularInOut"), i.add(c)), i.resize = function() {
    var f = a.getBoundingRect().width, d = n.showSpinner ? n.spinnerRadius : 0, p = (r.getWidth() - d * 2 - (n.showSpinner && f ? 10 : 0) - f) / 2 - (n.showSpinner && f ? 0 : 5 + f / 2) + (n.showSpinner ? 0 : f / 2) + (f ? 0 : d), y = r.getHeight() / 2;
    n.showSpinner && c.setShape({
      cx: p,
      cy: y
    }), u.setShape({
      x: p - d,
      y: y - d,
      width: d * 2,
      height: d * 2
    }), o.setShape({
      x: 0,
      y: 0,
      width: r.getWidth(),
      height: r.getHeight()
    });
  }, i.resize(), i;
}
var Scheduler = (
  /** @class */
  function() {
    function r(n, i, o, a) {
      this._stageTaskMap = createHashMap(), this.ecInstance = n, this.api = i, o = this._dataProcessorHandlers = o.slice(), a = this._visualHandlers = a.slice(), this._allHandlers = o.concat(a);
    }
    return r.prototype.restoreData = function(n, i) {
      n.restoreData(i), this._stageTaskMap.each(function(o) {
        var a = o.overallTask;
        a && a.dirty();
      });
    }, r.prototype.getPerformArgs = function(n, i) {
      if (n.__pipeline) {
        var o = this._pipelineMap.get(n.__pipeline.id), a = o.context, u = !i && o.progressiveEnabled && (!a || a.progressiveRender) && n.__idxInPipeline > o.blockIndex, c = u ? o.step : null, f = a && a.modDataCount, d = f != null ? Math.ceil(f / c) : null;
        return {
          step: c,
          modBy: d,
          modDataCount: f
        };
      }
    }, r.prototype.getPipeline = function(n) {
      return this._pipelineMap.get(n);
    }, r.prototype.updateStreamModes = function(n, i) {
      var o = this._pipelineMap.get(n.uid), a = n.getData(), u = a.count(), c = o.progressiveEnabled && i.incrementalPrepareRender && u >= o.threshold, f = n.get("large") && u >= n.get("largeThreshold"), d = n.get("progressiveChunkMode") === "mod" ? u : null;
      n.pipelineContext = o.context = {
        progressiveRender: c,
        modDataCount: d,
        large: f
      };
    }, r.prototype.restorePipelines = function(n) {
      var i = this, o = i._pipelineMap = createHashMap();
      n.eachSeries(function(a) {
        var u = a.getProgressive(), c = a.uid;
        o.set(c, {
          id: c,
          head: null,
          tail: null,
          threshold: a.getProgressiveThreshold(),
          progressiveEnabled: u && !(a.preventIncremental && a.preventIncremental()),
          blockIndex: -1,
          step: Math.round(u || 700),
          count: 0
        }), i._pipe(a, a.dataTask);
      });
    }, r.prototype.prepareStageTasks = function() {
      var n = this._stageTaskMap, i = this.api.getModel(), o = this.api;
      each$4(this._allHandlers, function(a) {
        var u = n.get(a.uid) || n.set(a.uid, {}), c = "";
        process.env.NODE_ENV !== "production" && (c = '"reset" and "overallReset" must not be both specified.'), assert(!(a.reset && a.overallReset), c), a.reset && this._createSeriesStageTask(a, u, i, o), a.overallReset && this._createOverallStageTask(a, u, i, o);
      }, this);
    }, r.prototype.prepareView = function(n, i, o, a) {
      var u = n.renderTask, c = u.context;
      c.model = i, c.ecModel = o, c.api = a, u.__block = !n.incrementalPrepareRender, this._pipe(i, u);
    }, r.prototype.performDataProcessorTasks = function(n, i) {
      this._performStageTasks(this._dataProcessorHandlers, n, i, {
        block: !0
      });
    }, r.prototype.performVisualTasks = function(n, i, o) {
      this._performStageTasks(this._visualHandlers, n, i, o);
    }, r.prototype._performStageTasks = function(n, i, o, a) {
      a = a || {};
      var u = !1, c = this;
      each$4(n, function(d, p) {
        if (!(a.visualType && a.visualType !== d.visualType)) {
          var y = c._stageTaskMap.get(d.uid), v = y.seriesTaskMap, g = y.overallTask;
          if (g) {
            var _, b = g.agentStubMap;
            b.each(function(w) {
              f(a, w) && (w.dirty(), _ = !0);
            }), _ && g.dirty(), c.updatePayload(g, o);
            var A = c.getPerformArgs(g, a.block);
            b.each(function(w) {
              w.perform(A);
            }), g.perform(A) && (u = !0);
          } else
            v && v.each(function(w, S) {
              f(a, w) && w.dirty();
              var x = c.getPerformArgs(w, a.block);
              x.skip = !d.performRawSeries && i.isSeriesFiltered(w.context.model), c.updatePayload(w, o), w.perform(x) && (u = !0);
            });
        }
      });
      function f(d, p) {
        return d.setDirty && (!d.dirtyMap || d.dirtyMap.get(p.__pipeline.id));
      }
      this.unfinished = u || this.unfinished;
    }, r.prototype.performSeriesTasks = function(n) {
      var i;
      n.eachSeries(function(o) {
        i = o.dataTask.perform() || i;
      }), this.unfinished = i || this.unfinished;
    }, r.prototype.plan = function() {
      this._pipelineMap.each(function(n) {
        var i = n.tail;
        do {
          if (i.__block) {
            n.blockIndex = i.__idxInPipeline;
            break;
          }
          i = i.getUpstream();
        } while (i);
      });
    }, r.prototype.updatePayload = function(n, i) {
      i !== "remain" && (n.context.payload = i);
    }, r.prototype._createSeriesStageTask = function(n, i, o, a) {
      var u = this, c = i.seriesTaskMap, f = i.seriesTaskMap = createHashMap(), d = n.seriesType, p = n.getTargetSeries;
      n.createOnAllSeries ? o.eachRawSeries(y) : d ? o.eachRawSeriesByType(d, y) : p && p(o, a).each(y);
      function y(v) {
        var g = v.uid, _ = f.set(g, c && c.get(g) || createTask({
          plan: seriesTaskPlan,
          reset: seriesTaskReset,
          count: seriesTaskCount
        }));
        _.context = {
          model: v,
          ecModel: o,
          api: a,
          // PENDING: `useClearVisual` not used?
          useClearVisual: n.isVisual && !n.isLayout,
          plan: n.plan,
          reset: n.reset,
          scheduler: u
        }, u._pipe(v, _);
      }
    }, r.prototype._createOverallStageTask = function(n, i, o, a) {
      var u = this, c = i.overallTask = i.overallTask || createTask({
        reset: overallTaskReset
      });
      c.context = {
        ecModel: o,
        api: a,
        overallReset: n.overallReset,
        scheduler: u
      };
      var f = c.agentStubMap, d = c.agentStubMap = createHashMap(), p = n.seriesType, y = n.getTargetSeries, v = !0, g = !1, _ = "";
      process.env.NODE_ENV !== "production" && (_ = '"createOnAllSeries" is not supported for "overallReset", because it will block all streams.'), assert(!n.createOnAllSeries, _), p ? o.eachRawSeriesByType(p, b) : y ? y(o, a).each(b) : (v = !1, each$4(o.getSeries(), b));
      function b(A) {
        var w = A.uid, S = d.set(w, f && f.get(w) || // When the result of `getTargetSeries` changed, the overallTask
        // should be set as dirty and re-performed.
        (g = !0, createTask({
          reset: stubReset,
          onDirty: stubOnDirty
        })));
        S.context = {
          model: A,
          overallProgress: v
          // FIXME:TS never used, so comment it
          // modifyOutputEnd: modifyOutputEnd
        }, S.agent = c, S.__block = v, u._pipe(A, S);
      }
      g && c.dirty();
    }, r.prototype._pipe = function(n, i) {
      var o = n.uid, a = this._pipelineMap.get(o);
      !a.head && (a.head = i), a.tail && a.tail.pipe(i), a.tail = i, i.__idxInPipeline = a.count++, i.__pipeline = a;
    }, r.wrapStageHandler = function(n, i) {
      return isFunction$1(n) && (n = {
        overallReset: n,
        seriesType: detectSeriseType(n)
      }), n.uid = getUID("stageHandler"), i && (n.visualType = i), n;
    }, r;
  }()
);
function overallTaskReset(r) {
  r.overallReset(r.ecModel, r.api, r.payload);
}
function stubReset(r) {
  return r.overallProgress && stubProgress;
}
function stubProgress() {
  this.agent.dirty(), this.getDownstream().dirty();
}
function stubOnDirty() {
  this.agent && this.agent.dirty();
}
function seriesTaskPlan(r) {
  return r.plan ? r.plan(r.model, r.ecModel, r.api, r.payload) : null;
}
function seriesTaskReset(r) {
  r.useClearVisual && r.data.clearAllVisual();
  var n = r.resetDefines = normalizeToArray(r.reset(r.model, r.ecModel, r.api, r.payload));
  return n.length > 1 ? map$1(n, function(i, o) {
    return makeSeriesTaskProgress(o);
  }) : singleSeriesTaskProgress;
}
var singleSeriesTaskProgress = makeSeriesTaskProgress(0);
function makeSeriesTaskProgress(r) {
  return function(n, i) {
    var o = i.data, a = i.resetDefines[r];
    if (a && a.dataEach)
      for (var u = n.start; u < n.end; u++)
        a.dataEach(o, u);
    else
      a && a.progress && a.progress(n, o);
  };
}
function seriesTaskCount(r) {
  return r.data.count();
}
function detectSeriseType(r) {
  seriesType = null;
  try {
    r(ecModelMock, apiMock);
  } catch {
  }
  return seriesType;
}
var ecModelMock = {}, apiMock = {}, seriesType;
mockMethods(ecModelMock, GlobalModel$1);
mockMethods(apiMock, ExtensionAPI$1);
ecModelMock.eachSeriesByType = ecModelMock.eachRawSeriesByType = function(r) {
  seriesType = r;
};
ecModelMock.eachComponent = function(r) {
  r.mainType === "series" && r.subType && (seriesType = r.subType);
};
function mockMethods(r, n) {
  for (var i in n.prototype)
    r[i] = noop$1;
}
const Scheduler$1 = Scheduler;
var colorAll = ["#37A2DA", "#32C5E9", "#67E0E3", "#9FE6B8", "#FFDB5C", "#ff9f7f", "#fb7293", "#E062AE", "#E690D1", "#e7bcf3", "#9d96f5", "#8378EA", "#96BFFF"];
const lightTheme = {
  color: colorAll,
  colorLayer: [["#37A2DA", "#ffd85c", "#fd7b5f"], ["#37A2DA", "#67E0E3", "#FFDB5C", "#ff9f7f", "#E062AE", "#9d96f5"], ["#37A2DA", "#32C5E9", "#9FE6B8", "#FFDB5C", "#ff9f7f", "#fb7293", "#e7bcf3", "#8378EA", "#96BFFF"], colorAll]
};
var contrastColor = "#B9B8CE", backgroundColor = "#100C2A", axisCommon = function() {
  return {
    axisLine: {
      lineStyle: {
        color: contrastColor
      }
    },
    splitLine: {
      lineStyle: {
        color: "#484753"
      }
    },
    splitArea: {
      areaStyle: {
        color: ["rgba(255,255,255,0.02)", "rgba(255,255,255,0.05)"]
      }
    },
    minorSplitLine: {
      lineStyle: {
        color: "#20203B"
      }
    }
  };
}, colorPalette = ["#4992ff", "#7cffb2", "#fddd60", "#ff6e76", "#58d9f9", "#05c091", "#ff8a45", "#8d48e3", "#dd79ff"], theme = {
  darkMode: !0,
  color: colorPalette,
  backgroundColor,
  axisPointer: {
    lineStyle: {
      color: "#817f91"
    },
    crossStyle: {
      color: "#817f91"
    },
    label: {
      // TODO Contrast of label backgorundColor
      color: "#fff"
    }
  },
  legend: {
    textStyle: {
      color: contrastColor
    }
  },
  textStyle: {
    color: contrastColor
  },
  title: {
    textStyle: {
      color: "#EEF1FA"
    },
    subtextStyle: {
      color: "#B9B8CE"
    }
  },
  toolbox: {
    iconStyle: {
      borderColor: contrastColor
    }
  },
  dataZoom: {
    borderColor: "#71708A",
    textStyle: {
      color: contrastColor
    },
    brushStyle: {
      color: "rgba(135,163,206,0.3)"
    },
    handleStyle: {
      color: "#353450",
      borderColor: "#C5CBE3"
    },
    moveHandleStyle: {
      color: "#B0B6C3",
      opacity: 0.3
    },
    fillerColor: "rgba(135,163,206,0.2)",
    emphasis: {
      handleStyle: {
        borderColor: "#91B7F2",
        color: "#4D587D"
      },
      moveHandleStyle: {
        color: "#636D9A",
        opacity: 0.7
      }
    },
    dataBackground: {
      lineStyle: {
        color: "#71708A",
        width: 1
      },
      areaStyle: {
        color: "#71708A"
      }
    },
    selectedDataBackground: {
      lineStyle: {
        color: "#87A3CE"
      },
      areaStyle: {
        color: "#87A3CE"
      }
    }
  },
  visualMap: {
    textStyle: {
      color: contrastColor
    }
  },
  timeline: {
    lineStyle: {
      color: contrastColor
    },
    label: {
      color: contrastColor
    },
    controlStyle: {
      color: contrastColor,
      borderColor: contrastColor
    }
  },
  calendar: {
    itemStyle: {
      color: backgroundColor
    },
    dayLabel: {
      color: contrastColor
    },
    monthLabel: {
      color: contrastColor
    },
    yearLabel: {
      color: contrastColor
    }
  },
  timeAxis: axisCommon(),
  logAxis: axisCommon(),
  valueAxis: axisCommon(),
  categoryAxis: axisCommon(),
  line: {
    symbol: "circle"
  },
  graph: {
    color: colorPalette
  },
  gauge: {
    title: {
      color: contrastColor
    },
    axisLine: {
      lineStyle: {
        color: [[1, "rgba(207,212,219,0.2)"]]
      }
    },
    axisLabel: {
      color: contrastColor
    },
    detail: {
      color: "#EEF1FA"
    }
  },
  candlestick: {
    itemStyle: {
      color: "#f64e56",
      color0: "#54ea92",
      borderColor: "#f64e56",
      borderColor0: "#54ea92"
      // borderColor: '#ca2824',
      // borderColor0: '#09a443'
    }
  }
};
theme.categoryAxis.splitLine.show = !1;
const darkTheme = theme;
var ECEventProcessor = (
  /** @class */
  function() {
    function r() {
    }
    return r.prototype.normalizeQuery = function(n) {
      var i = {}, o = {}, a = {};
      if (isString$2(n)) {
        var u = parseClassType(n);
        i.mainType = u.main || null, i.subType = u.sub || null;
      } else {
        var c = ["Index", "Name", "Id"], f = {
          name: 1,
          dataIndex: 1,
          dataType: 1
        };
        each$4(n, function(d, p) {
          for (var y = !1, v = 0; v < c.length; v++) {
            var g = c[v], _ = p.lastIndexOf(g);
            if (_ > 0 && _ === p.length - g.length) {
              var b = p.slice(0, _);
              b !== "data" && (i.mainType = b, i[g.toLowerCase()] = d, y = !0);
            }
          }
          f.hasOwnProperty(p) && (o[p] = d, y = !0), y || (a[p] = d);
        });
      }
      return {
        cptQuery: i,
        dataQuery: o,
        otherQuery: a
      };
    }, r.prototype.filter = function(n, i) {
      var o = this.eventInfo;
      if (!o)
        return !0;
      var a = o.targetEl, u = o.packedEvent, c = o.model, f = o.view;
      if (!c || !f)
        return !0;
      var d = i.cptQuery, p = i.dataQuery;
      return y(d, c, "mainType") && y(d, c, "subType") && y(d, c, "index", "componentIndex") && y(d, c, "name") && y(d, c, "id") && y(p, u, "name") && y(p, u, "dataIndex") && y(p, u, "dataType") && (!f.filterForExposedEvent || f.filterForExposedEvent(n, i.otherQuery, a, u));
      function y(v, g, _, b) {
        return v[_] == null || g[b || _] === v[_];
      }
    }, r.prototype.afterTrigger = function() {
      this.eventInfo = null;
    }, r;
  }()
), SYMBOL_PROPS_WITH_CB = ["symbol", "symbolSize", "symbolRotate", "symbolOffset"], SYMBOL_PROPS = SYMBOL_PROPS_WITH_CB.concat(["symbolKeepAspect"]), seriesSymbolTask = {
  createOnAllSeries: !0,
  // For legend.
  performRawSeries: !0,
  reset: function(r, n) {
    var i = r.getData();
    if (r.legendIcon && i.setVisual("legendIcon", r.legendIcon), !r.hasSymbolVisual)
      return;
    for (var o = {}, a = {}, u = !1, c = 0; c < SYMBOL_PROPS_WITH_CB.length; c++) {
      var f = SYMBOL_PROPS_WITH_CB[c], d = r.get(f);
      isFunction$1(d) ? (u = !0, a[f] = d) : o[f] = d;
    }
    if (o.symbol = o.symbol || r.defaultSymbol, i.setVisual(extend({
      legendIcon: r.legendIcon || o.symbol,
      symbolKeepAspect: r.get("symbolKeepAspect")
    }, o)), n.isSeriesFiltered(r))
      return;
    var p = keys(a);
    function y(v, g) {
      for (var _ = r.getRawValue(g), b = r.getDataParams(g), A = 0; A < p.length; A++) {
        var w = p[A];
        v.setItemVisual(g, w, a[w](_, b));
      }
    }
    return {
      dataEach: u ? y : null
    };
  }
}, dataSymbolTask = {
  createOnAllSeries: !0,
  // For legend.
  performRawSeries: !0,
  reset: function(r, n) {
    if (!r.hasSymbolVisual || n.isSeriesFiltered(r))
      return;
    var i = r.getData();
    function o(a, u) {
      for (var c = a.getItemModel(u), f = 0; f < SYMBOL_PROPS.length; f++) {
        var d = SYMBOL_PROPS[f], p = c.getShallow(d, !0);
        p != null && a.setItemVisual(u, d, p);
      }
    }
    return {
      dataEach: i.hasItemOption ? o : null
    };
  }
};
function getItemVisualFromData(r, n, i) {
  switch (i) {
    case "color":
      var o = r.getItemVisual(n, "style");
      return o[r.getVisual("drawType")];
    case "opacity":
      return r.getItemVisual(n, "style").opacity;
    case "symbol":
    case "symbolSize":
    case "liftZ":
      return r.getItemVisual(n, i);
    default:
      process.env.NODE_ENV !== "production" && console.warn("Unknown visual type " + i);
  }
}
function getVisualFromData(r, n) {
  switch (n) {
    case "color":
      var i = r.getVisual("style");
      return i[r.getVisual("drawType")];
    case "opacity":
      return r.getVisual("style").opacity;
    case "symbol":
    case "symbolSize":
    case "liftZ":
      return r.getVisual(n);
    default:
      process.env.NODE_ENV !== "production" && console.warn("Unknown visual type " + n);
  }
}
function createLegacyDataSelectAction(r, n) {
  function i(o, a) {
    var u = [];
    return o.eachComponent({
      mainType: "series",
      subType: r,
      query: a
    }, function(c) {
      u.push(c.seriesIndex);
    }), u;
  }
  each$4([[r + "ToggleSelect", "toggleSelect"], [r + "Select", "select"], [r + "UnSelect", "unselect"]], function(o) {
    n(o[0], function(a, u, c) {
      a = extend({}, a), process.env.NODE_ENV !== "production" && deprecateReplaceLog(a.type, o[1]), c.dispatchAction(extend(a, {
        type: o[1],
        seriesIndex: i(u, a)
      }));
    });
  });
}
function handleSeriesLegacySelectEvents(r, n, i, o, a) {
  var u = r + n;
  i.isSilent(u) || (process.env.NODE_ENV !== "production" && deprecateLog("event " + u + " is deprecated."), o.eachComponent({
    mainType: "series",
    subType: "pie"
  }, function(c) {
    for (var f = c.seriesIndex, d = c.option.selectedMap, p = a.selected, y = 0; y < p.length; y++)
      if (p[y].seriesIndex === f) {
        var v = c.getData(), g = queryDataIndex(v, a.fromActionPayload);
        i.trigger(u, {
          type: u,
          seriesId: c.id,
          name: isArray$1(g) ? v.getName(g[0]) : v.getName(g),
          selected: isString$2(d) ? d : extend({}, d)
        });
      }
  }));
}
function handleLegacySelectEvents(r, n, i) {
  r.on("selectchanged", function(o) {
    var a = i.getModel();
    o.isFromClick ? (handleSeriesLegacySelectEvents("map", "selectchanged", n, a, o), handleSeriesLegacySelectEvents("pie", "selectchanged", n, a, o)) : o.fromAction === "select" ? (handleSeriesLegacySelectEvents("map", "selected", n, a, o), handleSeriesLegacySelectEvents("pie", "selected", n, a, o)) : o.fromAction === "unselect" && (handleSeriesLegacySelectEvents("map", "unselected", n, a, o), handleSeriesLegacySelectEvents("pie", "unselected", n, a, o));
  });
}
function findEventDispatcher(r, n, i) {
  for (var o; r && !(n(r) && (o = r, i)); )
    r = r.__hostTarget || r.parent;
  return o;
}
var wmUniqueIndex = Math.round(Math.random() * 9), supportDefineProperty = typeof Object.defineProperty == "function", WeakMap$1 = function() {
  function r() {
    this._id = "__ec_inner_" + wmUniqueIndex++;
  }
  return r.prototype.get = function(n) {
    return this._guard(n)[this._id];
  }, r.prototype.set = function(n, i) {
    var o = this._guard(n);
    return supportDefineProperty ? Object.defineProperty(o, this._id, {
      value: i,
      enumerable: !1,
      configurable: !0
    }) : o[this._id] = i, this;
  }, r.prototype.delete = function(n) {
    return this.has(n) ? (delete this._guard(n)[this._id], !0) : !1;
  }, r.prototype.has = function(n) {
    return !!this._guard(n)[this._id];
  }, r.prototype._guard = function(n) {
    if (n !== Object(n))
      throw TypeError("Value of WeakMap is not a non-null object.");
    return n;
  }, r;
}();
const WeakMap$2 = WeakMap$1;
var Triangle = Path$1.extend({
  type: "triangle",
  shape: {
    cx: 0,
    cy: 0,
    width: 0,
    height: 0
  },
  buildPath: function(r, n) {
    var i = n.cx, o = n.cy, a = n.width / 2, u = n.height / 2;
    r.moveTo(i, o - u), r.lineTo(i + a, o + u), r.lineTo(i - a, o + u), r.closePath();
  }
}), Diamond = Path$1.extend({
  type: "diamond",
  shape: {
    cx: 0,
    cy: 0,
    width: 0,
    height: 0
  },
  buildPath: function(r, n) {
    var i = n.cx, o = n.cy, a = n.width / 2, u = n.height / 2;
    r.moveTo(i, o - u), r.lineTo(i + a, o), r.lineTo(i, o + u), r.lineTo(i - a, o), r.closePath();
  }
}), Pin = Path$1.extend({
  type: "pin",
  shape: {
    // x, y on the cusp
    x: 0,
    y: 0,
    width: 0,
    height: 0
  },
  buildPath: function(r, n) {
    var i = n.x, o = n.y, a = n.width / 5 * 3, u = Math.max(a, n.height), c = a / 2, f = c * c / (u - c), d = o - u + c + f, p = Math.asin(f / c), y = Math.cos(p) * c, v = Math.sin(p), g = Math.cos(p), _ = c * 0.6, b = c * 0.7;
    r.moveTo(i - y, d + f), r.arc(i, d, c, Math.PI - p, Math.PI * 2 + p), r.bezierCurveTo(i + y - v * _, d + f + g * _, i, o - b, i, o), r.bezierCurveTo(i, o - b, i - y + v * _, d + f + g * _, i - y, d + f), r.closePath();
  }
}), Arrow = Path$1.extend({
  type: "arrow",
  shape: {
    x: 0,
    y: 0,
    width: 0,
    height: 0
  },
  buildPath: function(r, n) {
    var i = n.height, o = n.width, a = n.x, u = n.y, c = o / 3 * 2;
    r.moveTo(a, u), r.lineTo(a + c, u + i), r.lineTo(a, u + i / 4 * 3), r.lineTo(a - c, u + i), r.lineTo(a, u), r.closePath();
  }
}), symbolCtors = {
  line: Line$1,
  rect: Rect$1,
  roundRect: Rect$1,
  square: Rect$1,
  circle: Circle$1,
  diamond: Diamond,
  pin: Pin,
  arrow: Arrow,
  triangle: Triangle
}, symbolShapeMakers = {
  line: function(r, n, i, o, a) {
    a.x1 = r, a.y1 = n + o / 2, a.x2 = r + i, a.y2 = n + o / 2;
  },
  rect: function(r, n, i, o, a) {
    a.x = r, a.y = n, a.width = i, a.height = o;
  },
  roundRect: function(r, n, i, o, a) {
    a.x = r, a.y = n, a.width = i, a.height = o, a.r = Math.min(i, o) / 4;
  },
  square: function(r, n, i, o, a) {
    var u = Math.min(i, o);
    a.x = r, a.y = n, a.width = u, a.height = u;
  },
  circle: function(r, n, i, o, a) {
    a.cx = r + i / 2, a.cy = n + o / 2, a.r = Math.min(i, o) / 2;
  },
  diamond: function(r, n, i, o, a) {
    a.cx = r + i / 2, a.cy = n + o / 2, a.width = i, a.height = o;
  },
  pin: function(r, n, i, o, a) {
    a.x = r + i / 2, a.y = n + o / 2, a.width = i, a.height = o;
  },
  arrow: function(r, n, i, o, a) {
    a.x = r + i / 2, a.y = n + o / 2, a.width = i, a.height = o;
  },
  triangle: function(r, n, i, o, a) {
    a.cx = r + i / 2, a.cy = n + o / 2, a.width = i, a.height = o;
  }
}, symbolBuildProxies = {};
each$4(symbolCtors, function(r, n) {
  symbolBuildProxies[n] = new r();
});
var SymbolClz = Path$1.extend({
  type: "symbol",
  shape: {
    symbolType: "",
    x: 0,
    y: 0,
    width: 0,
    height: 0
  },
  calculateTextPosition: function(r, n, i) {
    var o = calculateTextPosition(r, n, i), a = this.shape;
    return a && a.symbolType === "pin" && n.position === "inside" && (o.y = i.y + i.height * 0.4), o;
  },
  buildPath: function(r, n, i) {
    var o = n.symbolType;
    if (o !== "none") {
      var a = symbolBuildProxies[o];
      a || (o = "rect", a = symbolBuildProxies[o]), symbolShapeMakers[o](n.x, n.y, n.width, n.height, a.shape), a.buildPath(r, a.shape, i);
    }
  }
});
function symbolPathSetColor(r, n) {
  if (this.type !== "image") {
    var i = this.style;
    this.__isEmptyBrush ? (i.stroke = r, i.fill = n || "#fff", i.lineWidth = 2) : this.shape.symbolType === "line" ? i.stroke = r : i.fill = r, this.markRedraw();
  }
}
function createSymbol(r, n, i, o, a, u, c) {
  var f = r.indexOf("empty") === 0;
  f && (r = r.substr(5, 1).toLowerCase() + r.substr(6));
  var d;
  return r.indexOf("image://") === 0 ? d = makeImage(r.slice(8), new BoundingRect$1(n, i, o, a), c ? "center" : "cover") : r.indexOf("path://") === 0 ? d = makePath(r.slice(7), {}, new BoundingRect$1(n, i, o, a), c ? "center" : "cover") : d = new SymbolClz({
    shape: {
      symbolType: r,
      x: n,
      y: i,
      width: o,
      height: a
    }
  }), d.__isEmptyBrush = f, d.setColor = symbolPathSetColor, u && d.setColor(u), d;
}
function normalizeSymbolOffset(r, n) {
  if (r != null)
    return isArray$1(r) || (r = [r, r]), [parsePercent(r[0], n[0]) || 0, parsePercent(retrieve2(r[1], r[0]), n[1]) || 0];
}
function isSafeNum(r) {
  return isFinite(r);
}
function createLinearGradient(r, n, i) {
  var o = n.x == null ? 0 : n.x, a = n.x2 == null ? 1 : n.x2, u = n.y == null ? 0 : n.y, c = n.y2 == null ? 0 : n.y2;
  n.global || (o = o * i.width + i.x, a = a * i.width + i.x, u = u * i.height + i.y, c = c * i.height + i.y), o = isSafeNum(o) ? o : 0, a = isSafeNum(a) ? a : 1, u = isSafeNum(u) ? u : 0, c = isSafeNum(c) ? c : 0;
  var f = r.createLinearGradient(o, u, a, c);
  return f;
}
function createRadialGradient(r, n, i) {
  var o = i.width, a = i.height, u = Math.min(o, a), c = n.x == null ? 0.5 : n.x, f = n.y == null ? 0.5 : n.y, d = n.r == null ? 0.5 : n.r;
  n.global || (c = c * o + i.x, f = f * a + i.y, d = d * u), c = isSafeNum(c) ? c : 0.5, f = isSafeNum(f) ? f : 0.5, d = d >= 0 && isSafeNum(d) ? d : 0.5;
  var p = r.createRadialGradient(c, f, 0, c, f, d);
  return p;
}
function getCanvasGradient(r, n, i) {
  for (var o = n.type === "radial" ? createRadialGradient(r, n, i) : createLinearGradient(r, n, i), a = n.colorStops, u = 0; u < a.length; u++)
    o.addColorStop(a[u].offset, a[u].color);
  return o;
}
function isClipPathChanged(r, n) {
  if (r === n || !r && !n)
    return !1;
  if (!r || !n || r.length !== n.length)
    return !0;
  for (var i = 0; i < r.length; i++)
    if (r[i] !== n[i])
      return !0;
  return !1;
}
function parseInt10(r) {
  return parseInt(r, 10);
}
function getSize(r, n, i) {
  var o = ["width", "height"][n], a = ["clientWidth", "clientHeight"][n], u = ["paddingLeft", "paddingTop"][n], c = ["paddingRight", "paddingBottom"][n];
  if (i[o] != null && i[o] !== "auto")
    return parseFloat(i[o]);
  var f = document.defaultView.getComputedStyle(r);
  return (r[a] || parseInt10(f[o]) || parseInt10(r.style[o])) - (parseInt10(f[u]) || 0) - (parseInt10(f[c]) || 0) | 0;
}
function normalizeLineDash(r, n) {
  return !r || r === "solid" || !(n > 0) ? null : r === "dashed" ? [4 * n, 2 * n] : r === "dotted" ? [n] : isNumber$1(r) ? [r] : isArray$1(r) ? r : null;
}
function getLineDash(r) {
  var n = r.style, i = n.lineDash && n.lineWidth > 0 && normalizeLineDash(n.lineDash, n.lineWidth), o = n.lineDashOffset;
  if (i) {
    var a = n.strokeNoScale && r.getLineScale ? r.getLineScale() : 1;
    a && a !== 1 && (i = map$1(i, function(u) {
      return u / a;
    }), o /= a);
  }
  return [i, o];
}
var pathProxyForDraw = new PathProxy$1(!0);
function styleHasStroke(r) {
  var n = r.stroke;
  return !(n == null || n === "none" || !(r.lineWidth > 0));
}
function isValidStrokeFillStyle(r) {
  return typeof r == "string" && r !== "none";
}
function styleHasFill(r) {
  var n = r.fill;
  return n != null && n !== "none";
}
function doFillPath(r, n) {
  if (n.fillOpacity != null && n.fillOpacity !== 1) {
    var i = r.globalAlpha;
    r.globalAlpha = n.fillOpacity * n.opacity, r.fill(), r.globalAlpha = i;
  } else
    r.fill();
}
function doStrokePath(r, n) {
  if (n.strokeOpacity != null && n.strokeOpacity !== 1) {
    var i = r.globalAlpha;
    r.globalAlpha = n.strokeOpacity * n.opacity, r.stroke(), r.globalAlpha = i;
  } else
    r.stroke();
}
function createCanvasPattern(r, n, i) {
  var o = createOrUpdateImage(n.image, n.__image, i);
  if (isImageReady(o)) {
    var a = r.createPattern(o, n.repeat || "repeat");
    if (typeof DOMMatrix == "function" && a && a.setTransform) {
      var u = new DOMMatrix();
      u.translateSelf(n.x || 0, n.y || 0), u.rotateSelf(0, 0, (n.rotation || 0) * RADIAN_TO_DEGREE), u.scaleSelf(n.scaleX || 1, n.scaleY || 1), a.setTransform(u);
    }
    return a;
  }
}
function brushPath(r, n, i, o) {
  var a, u = styleHasStroke(i), c = styleHasFill(i), f = i.strokePercent, d = f < 1, p = !n.path;
  (!n.silent || d) && p && n.createPathProxy();
  var y = n.path || pathProxyForDraw, v = n.__dirty;
  if (!o) {
    var g = i.fill, _ = i.stroke, b = c && !!g.colorStops, A = u && !!_.colorStops, w = c && !!g.image, S = u && !!_.image, x = void 0, T = void 0, L = void 0, k = void 0, M = void 0;
    (b || A) && (M = n.getBoundingRect()), b && (x = v ? getCanvasGradient(r, g, M) : n.__canvasFillGradient, n.__canvasFillGradient = x), A && (T = v ? getCanvasGradient(r, _, M) : n.__canvasStrokeGradient, n.__canvasStrokeGradient = T), w && (L = v || !n.__canvasFillPattern ? createCanvasPattern(r, g, n) : n.__canvasFillPattern, n.__canvasFillPattern = L), S && (k = v || !n.__canvasStrokePattern ? createCanvasPattern(r, _, n) : n.__canvasStrokePattern, n.__canvasStrokePattern = L), b ? r.fillStyle = x : w && (L ? r.fillStyle = L : c = !1), A ? r.strokeStyle = T : S && (k ? r.strokeStyle = k : u = !1);
  }
  var O = n.getGlobalScale();
  y.setScale(O[0], O[1], n.segmentIgnoreThreshold);
  var ie, F;
  r.setLineDash && i.lineDash && (a = getLineDash(n), ie = a[0], F = a[1]);
  var re = !0;
  (p || v & SHAPE_CHANGED_BIT) && (y.setDPR(r.dpr), d ? y.setContext(null) : (y.setContext(r), re = !1), y.reset(), n.buildPath(y, n.shape, o), y.toStatic(), n.pathUpdated()), re && y.rebuildPath(r, d ? f : 1), ie && (r.setLineDash(ie), r.lineDashOffset = F), o || (i.strokeFirst ? (u && doStrokePath(r, i), c && doFillPath(r, i)) : (c && doFillPath(r, i), u && doStrokePath(r, i))), ie && r.setLineDash([]);
}
function brushImage(r, n, i) {
  var o = n.__image = createOrUpdateImage(i.image, n.__image, n, n.onload);
  if (!(!o || !isImageReady(o))) {
    var a = i.x || 0, u = i.y || 0, c = n.getWidth(), f = n.getHeight(), d = o.width / o.height;
    if (c == null && f != null ? c = f * d : f == null && c != null ? f = c / d : c == null && f == null && (c = o.width, f = o.height), i.sWidth && i.sHeight) {
      var p = i.sx || 0, y = i.sy || 0;
      r.drawImage(o, p, y, i.sWidth, i.sHeight, a, u, c, f);
    } else if (i.sx && i.sy) {
      var p = i.sx, y = i.sy, v = c - p, g = f - y;
      r.drawImage(o, p, y, v, g, a, u, c, f);
    } else
      r.drawImage(o, a, u, c, f);
  }
}
function brushText(r, n, i) {
  var o, a = i.text;
  if (a != null && (a += ""), a) {
    r.font = i.font || DEFAULT_FONT, r.textAlign = i.textAlign, r.textBaseline = i.textBaseline;
    var u = void 0, c = void 0;
    r.setLineDash && i.lineDash && (o = getLineDash(n), u = o[0], c = o[1]), u && (r.setLineDash(u), r.lineDashOffset = c), i.strokeFirst ? (styleHasStroke(i) && r.strokeText(a, i.x, i.y), styleHasFill(i) && r.fillText(a, i.x, i.y)) : (styleHasFill(i) && r.fillText(a, i.x, i.y), styleHasStroke(i) && r.strokeText(a, i.x, i.y)), u && r.setLineDash([]);
  }
}
var SHADOW_NUMBER_PROPS = ["shadowBlur", "shadowOffsetX", "shadowOffsetY"], STROKE_PROPS = [
  ["lineCap", "butt"],
  ["lineJoin", "miter"],
  ["miterLimit", 10]
];
function bindCommonProps(r, n, i, o, a) {
  var u = !1;
  if (!o && (i = i || {}, n === i))
    return !1;
  if (o || n.opacity !== i.opacity) {
    flushPathDrawn(r, a), u = !0;
    var c = Math.max(Math.min(n.opacity, 1), 0);
    r.globalAlpha = isNaN(c) ? DEFAULT_COMMON_STYLE.opacity : c;
  }
  (o || n.blend !== i.blend) && (u || (flushPathDrawn(r, a), u = !0), r.globalCompositeOperation = n.blend || DEFAULT_COMMON_STYLE.blend);
  for (var f = 0; f < SHADOW_NUMBER_PROPS.length; f++) {
    var d = SHADOW_NUMBER_PROPS[f];
    (o || n[d] !== i[d]) && (u || (flushPathDrawn(r, a), u = !0), r[d] = r.dpr * (n[d] || 0));
  }
  return (o || n.shadowColor !== i.shadowColor) && (u || (flushPathDrawn(r, a), u = !0), r.shadowColor = n.shadowColor || DEFAULT_COMMON_STYLE.shadowColor), u;
}
function bindPathAndTextCommonStyle(r, n, i, o, a) {
  var u = getStyle(n, a.inHover), c = o ? null : i && getStyle(i, a.inHover) || {};
  if (u === c)
    return !1;
  var f = bindCommonProps(r, u, c, o, a);
  if ((o || u.fill !== c.fill) && (f || (flushPathDrawn(r, a), f = !0), isValidStrokeFillStyle(u.fill) && (r.fillStyle = u.fill)), (o || u.stroke !== c.stroke) && (f || (flushPathDrawn(r, a), f = !0), isValidStrokeFillStyle(u.stroke) && (r.strokeStyle = u.stroke)), (o || u.opacity !== c.opacity) && (f || (flushPathDrawn(r, a), f = !0), r.globalAlpha = u.opacity == null ? 1 : u.opacity), n.hasStroke()) {
    var d = u.lineWidth, p = d / (u.strokeNoScale && n.getLineScale ? n.getLineScale() : 1);
    r.lineWidth !== p && (f || (flushPathDrawn(r, a), f = !0), r.lineWidth = p);
  }
  for (var y = 0; y < STROKE_PROPS.length; y++) {
    var v = STROKE_PROPS[y], g = v[0];
    (o || u[g] !== c[g]) && (f || (flushPathDrawn(r, a), f = !0), r[g] = u[g] || v[1]);
  }
  return f;
}
function bindImageStyle(r, n, i, o, a) {
  return bindCommonProps(r, getStyle(n, a.inHover), i && getStyle(i, a.inHover), o, a);
}
function setContextTransform(r, n) {
  var i = n.transform, o = r.dpr || 1;
  i ? r.setTransform(o * i[0], o * i[1], o * i[2], o * i[3], o * i[4], o * i[5]) : r.setTransform(o, 0, 0, o, 0, 0);
}
function updateClipStatus(r, n, i) {
  for (var o = !1, a = 0; a < r.length; a++) {
    var u = r[a];
    o = o || u.isZeroArea(), setContextTransform(n, u), n.beginPath(), u.buildPath(n, u.shape), n.clip();
  }
  i.allClipped = o;
}
function isTransformChanged(r, n) {
  return r && n ? r[0] !== n[0] || r[1] !== n[1] || r[2] !== n[2] || r[3] !== n[3] || r[4] !== n[4] || r[5] !== n[5] : !(!r && !n);
}
var DRAW_TYPE_PATH = 1, DRAW_TYPE_IMAGE = 2, DRAW_TYPE_TEXT = 3, DRAW_TYPE_INCREMENTAL = 4;
function canPathBatch(r) {
  var n = styleHasFill(r), i = styleHasStroke(r);
  return !(r.lineDash || !(+n ^ +i) || n && typeof r.fill != "string" || i && typeof r.stroke != "string" || r.strokePercent < 1 || r.strokeOpacity < 1 || r.fillOpacity < 1);
}
function flushPathDrawn(r, n) {
  n.batchFill && r.fill(), n.batchStroke && r.stroke(), n.batchFill = "", n.batchStroke = "";
}
function getStyle(r, n) {
  return n && r.__hoverStyle || r.style;
}
function brushSingle(r, n) {
  brush$1(r, n, { inHover: !1, viewWidth: 0, viewHeight: 0 }, !0);
}
function brush$1(r, n, i, o) {
  var a = n.transform;
  if (!n.shouldBePainted(i.viewWidth, i.viewHeight, !1, !1)) {
    n.__dirty &= ~REDRAW_BIT, n.__isRendered = !1;
    return;
  }
  var u = n.__clipPaths, c = i.prevElClipPaths, f = !1, d = !1;
  if ((!c || isClipPathChanged(u, c)) && (c && c.length && (flushPathDrawn(r, i), r.restore(), d = f = !0, i.prevElClipPaths = null, i.allClipped = !1, i.prevEl = null), u && u.length && (flushPathDrawn(r, i), r.save(), updateClipStatus(u, r, i), f = !0), i.prevElClipPaths = u), i.allClipped) {
    n.__isRendered = !1;
    return;
  }
  n.beforeBrush && n.beforeBrush(), n.innerBeforeBrush();
  var p = i.prevEl;
  p || (d = f = !0);
  var y = n instanceof Path$1 && n.autoBatch && canPathBatch(n.style);
  f || isTransformChanged(a, p.transform) ? (flushPathDrawn(r, i), setContextTransform(r, n)) : y || flushPathDrawn(r, i);
  var v = getStyle(n, i.inHover);
  n instanceof Path$1 ? (i.lastDrawType !== DRAW_TYPE_PATH && (d = !0, i.lastDrawType = DRAW_TYPE_PATH), bindPathAndTextCommonStyle(r, n, p, d, i), (!y || !i.batchFill && !i.batchStroke) && r.beginPath(), brushPath(r, n, v, y), y && (i.batchFill = v.fill || "", i.batchStroke = v.stroke || "")) : n instanceof TSpan$1 ? (i.lastDrawType !== DRAW_TYPE_TEXT && (d = !0, i.lastDrawType = DRAW_TYPE_TEXT), bindPathAndTextCommonStyle(r, n, p, d, i), brushText(r, n, v)) : n instanceof ZRImage$1 ? (i.lastDrawType !== DRAW_TYPE_IMAGE && (d = !0, i.lastDrawType = DRAW_TYPE_IMAGE), bindImageStyle(r, n, p, d, i), brushImage(r, n, v)) : n.getTemporalDisplayables && (i.lastDrawType !== DRAW_TYPE_INCREMENTAL && (d = !0, i.lastDrawType = DRAW_TYPE_INCREMENTAL), brushIncremental(r, n, i)), y && o && flushPathDrawn(r, i), n.innerAfterBrush(), n.afterBrush && n.afterBrush(), i.prevEl = n, n.__dirty = 0, n.__isRendered = !0;
}
function brushIncremental(r, n, i) {
  var o = n.getDisplayables(), a = n.getTemporalDisplayables();
  r.save();
  var u = {
    prevElClipPaths: null,
    prevEl: null,
    allClipped: !1,
    viewWidth: i.viewWidth,
    viewHeight: i.viewHeight,
    inHover: i.inHover
  }, c, f;
  for (c = n.getCursor(), f = o.length; c < f; c++) {
    var d = o[c];
    d.beforeBrush && d.beforeBrush(), d.innerBeforeBrush(), brush$1(r, d, u, c === f - 1), d.innerAfterBrush(), d.afterBrush && d.afterBrush(), u.prevEl = d;
  }
  for (var p = 0, y = a.length; p < y; p++) {
    var d = a[p];
    d.beforeBrush && d.beforeBrush(), d.innerBeforeBrush(), brush$1(r, d, u, p === y - 1), d.innerAfterBrush(), d.afterBrush && d.afterBrush(), u.prevEl = d;
  }
  n.clearTemporalDisplayables(), n.notClear = !0, r.restore();
}
var decalMap = new WeakMap$2(), decalCache = new LRU$1(100), decalKeys = ["symbol", "symbolSize", "symbolKeepAspect", "color", "backgroundColor", "dashArrayX", "dashArrayY", "maxTileWidth", "maxTileHeight"];
function createOrUpdatePatternFromDecal(r, n) {
  if (r === "none")
    return null;
  var i = n.getDevicePixelRatio(), o = n.getZr(), a = o.painter.type === "svg";
  r.dirty && decalMap.delete(r);
  var u = decalMap.get(r);
  if (u)
    return u;
  var c = defaults(r, {
    symbol: "rect",
    symbolSize: 1,
    symbolKeepAspect: !0,
    color: "rgba(0, 0, 0, 0.2)",
    backgroundColor: null,
    dashArrayX: 5,
    dashArrayY: 5,
    rotation: 0,
    maxTileWidth: 512,
    maxTileHeight: 512
  });
  c.backgroundColor === "none" && (c.backgroundColor = null);
  var f = {
    repeat: "repeat"
  };
  return d(f), f.rotation = c.rotation, f.scaleX = f.scaleY = a ? 1 : 1 / i, decalMap.set(r, f), r.dirty = !1, f;
  function d(p) {
    for (var y = [i], v = !0, g = 0; g < decalKeys.length; ++g) {
      var _ = c[decalKeys[g]];
      if (_ != null && !isArray$1(_) && !isString$2(_) && !isNumber$1(_) && typeof _ != "boolean") {
        v = !1;
        break;
      }
      y.push(_);
    }
    var b;
    if (v) {
      b = y.join(",") + (a ? "-svg" : "");
      var A = decalCache.get(b);
      A && (a ? p.svgElement = A : p.image = A);
    }
    var w = normalizeDashArrayX(c.dashArrayX), S = normalizeDashArrayY(c.dashArrayY), x = normalizeSymbolArray(c.symbol), T = getLineBlockLengthX(w), L = getLineBlockLengthY(S), k = !a && platformApi.createCanvas(), M = a && {
      tag: "g",
      attrs: {},
      key: "dcl",
      children: []
    }, O = F(), ie;
    k && (k.width = O.width * i, k.height = O.height * i, ie = k.getContext("2d")), re(), v && decalCache.put(b, k || M), p.image = k, p.svgElement = M, p.svgWidth = O.width, p.svgHeight = O.height;
    function F() {
      for (var D = 1, Y = 0, z = T.length; Y < z; ++Y)
        D = getLeastCommonMultiple(D, T[Y]);
      for (var pe = 1, Y = 0, z = x.length; Y < z; ++Y)
        pe = getLeastCommonMultiple(pe, x[Y].length);
      D *= pe;
      var ue = L * T.length * x.length;
      if (process.env.NODE_ENV !== "production") {
        var Ce = function(Fe) {
          console.warn("Calculated decal size is greater than " + Fe + " due to decal option settings so " + Fe + " is used for the decal size. Please consider changing the decal option to make a smaller decal or set " + Fe + " to be larger to avoid incontinuity.");
        };
        D > c.maxTileWidth && Ce("maxTileWidth"), ue > c.maxTileHeight && Ce("maxTileHeight");
      }
      return {
        width: Math.max(1, Math.min(D, c.maxTileWidth)),
        height: Math.max(1, Math.min(ue, c.maxTileHeight))
      };
    }
    function re() {
      ie && (ie.clearRect(0, 0, k.width, k.height), c.backgroundColor && (ie.fillStyle = c.backgroundColor, ie.fillRect(0, 0, k.width, k.height)));
      for (var D = 0, Y = 0; Y < S.length; ++Y)
        D += S[Y];
      if (D <= 0)
        return;
      for (var z = -L, pe = 0, ue = 0, Ce = 0; z < O.height; ) {
        if (pe % 2 === 0) {
          for (var Fe = ue / 2 % x.length, Ie = 0, Pt = 0, xe = 0; Ie < O.width * 2; ) {
            for (var Lt = 0, Y = 0; Y < w[Ce].length; ++Y)
              Lt += w[Ce][Y];
            if (Lt <= 0)
              break;
            if (Pt % 2 === 0) {
              var _n = (1 - c.symbolSize) * 0.5, In = Ie + w[Ce][Pt] * _n, jt = z + S[pe] * _n, he = w[Ce][Pt] * c.symbolSize, At = S[pe] * c.symbolSize, kt = xe / 2 % x[Fe].length;
              Cn(In, jt, he, At, x[Fe][kt]);
            }
            Ie += w[Ce][Pt], ++xe, ++Pt, Pt === w[Ce].length && (Pt = 0);
          }
          ++Ce, Ce === w.length && (Ce = 0);
        }
        z += S[pe], ++ue, ++pe, pe === S.length && (pe = 0);
      }
      function Cn(ze, _e, de, Et, Oe) {
        var Ve = a ? 1 : i, Dt = createSymbol(Oe, ze * Ve, _e * Ve, de * Ve, Et * Ve, c.color, c.symbolKeepAspect);
        if (a) {
          var hn = o.painter.renderOneToVNode(Dt);
          hn && M.children.push(hn);
        } else
          brushSingle(ie, Dt);
      }
    }
  }
}
function normalizeSymbolArray(r) {
  if (!r || r.length === 0)
    return [["rect"]];
  if (isString$2(r))
    return [[r]];
  for (var n = !0, i = 0; i < r.length; ++i)
    if (!isString$2(r[i])) {
      n = !1;
      break;
    }
  if (n)
    return normalizeSymbolArray([r]);
  for (var o = [], i = 0; i < r.length; ++i)
    isString$2(r[i]) ? o.push([r[i]]) : o.push(r[i]);
  return o;
}
function normalizeDashArrayX(r) {
  if (!r || r.length === 0)
    return [[0, 0]];
  if (isNumber$1(r)) {
    var n = Math.ceil(r);
    return [[n, n]];
  }
  for (var i = !0, o = 0; o < r.length; ++o)
    if (!isNumber$1(r[o])) {
      i = !1;
      break;
    }
  if (i)
    return normalizeDashArrayX([r]);
  for (var a = [], o = 0; o < r.length; ++o)
    if (isNumber$1(r[o])) {
      var n = Math.ceil(r[o]);
      a.push([n, n]);
    } else {
      var n = map$1(r[o], function(f) {
        return Math.ceil(f);
      });
      n.length % 2 === 1 ? a.push(n.concat(n)) : a.push(n);
    }
  return a;
}
function normalizeDashArrayY(r) {
  if (!r || typeof r == "object" && r.length === 0)
    return [0, 0];
  if (isNumber$1(r)) {
    var n = Math.ceil(r);
    return [n, n];
  }
  var i = map$1(r, function(o) {
    return Math.ceil(o);
  });
  return r.length % 2 ? i.concat(i) : i;
}
function getLineBlockLengthX(r) {
  return map$1(r, function(n) {
    return getLineBlockLengthY(n);
  });
}
function getLineBlockLengthY(r) {
  for (var n = 0, i = 0; i < r.length; ++i)
    n += r[i];
  return r.length % 2 === 1 ? n * 2 : n;
}
function decalVisual(r, n) {
  r.eachRawSeries(function(i) {
    if (!r.isSeriesFiltered(i)) {
      var o = i.getData();
      o.hasItemVisual() && o.each(function(c) {
        var f = o.getItemVisual(c, "decal");
        if (f) {
          var d = o.ensureUniqueItemVisual(c, "style");
          d.decal = createOrUpdatePatternFromDecal(f, n);
        }
      });
      var a = o.getVisual("decal");
      if (a) {
        var u = o.getVisual("style");
        u.decal = createOrUpdatePatternFromDecal(a, n);
      }
    }
  });
}
var lifecycle = new Eventful$1();
const lifecycle$1 = lifecycle;
var implsStore = {};
function registerImpl(r, n) {
  process.env.NODE_ENV !== "production" && implsStore[r] && error("Already has an implementation of " + r + "."), implsStore[r] = n;
}
function getImpl(r) {
  return process.env.NODE_ENV !== "production" && (implsStore[r] || error("Implementation of " + r + " doesn't exists.")), implsStore[r];
}
var TEST_FRAME_REMAIN_TIME = 1, PRIORITY_PROCESSOR_SERIES_FILTER = 800, PRIORITY_PROCESSOR_DATASTACK = 900, PRIORITY_PROCESSOR_FILTER = 1e3, PRIORITY_PROCESSOR_DEFAULT = 2e3, PRIORITY_PROCESSOR_STATISTIC = 5e3, PRIORITY_VISUAL_LAYOUT = 1e3, PRIORITY_VISUAL_PROGRESSIVE_LAYOUT = 1100, PRIORITY_VISUAL_GLOBAL = 2e3, PRIORITY_VISUAL_CHART = 3e3, PRIORITY_VISUAL_COMPONENT = 4e3, PRIORITY_VISUAL_CHART_DATA_CUSTOM = 4500, PRIORITY_VISUAL_POST_CHART_LAYOUT = 4600, PRIORITY_VISUAL_BRUSH = 5e3, PRIORITY_VISUAL_ARIA = 6e3, PRIORITY_VISUAL_DECAL = 7e3, PRIORITY = {
  PROCESSOR: {
    FILTER: PRIORITY_PROCESSOR_FILTER,
    SERIES_FILTER: PRIORITY_PROCESSOR_SERIES_FILTER,
    STATISTIC: PRIORITY_PROCESSOR_STATISTIC
  },
  VISUAL: {
    LAYOUT: PRIORITY_VISUAL_LAYOUT,
    PROGRESSIVE_LAYOUT: PRIORITY_VISUAL_PROGRESSIVE_LAYOUT,
    GLOBAL: PRIORITY_VISUAL_GLOBAL,
    CHART: PRIORITY_VISUAL_CHART,
    POST_CHART_LAYOUT: PRIORITY_VISUAL_POST_CHART_LAYOUT,
    COMPONENT: PRIORITY_VISUAL_COMPONENT,
    BRUSH: PRIORITY_VISUAL_BRUSH,
    CHART_ITEM: PRIORITY_VISUAL_CHART_DATA_CUSTOM,
    ARIA: PRIORITY_VISUAL_ARIA,
    DECAL: PRIORITY_VISUAL_DECAL
  }
}, IN_MAIN_PROCESS_KEY = "__flagInMainProcess", PENDING_UPDATE = "__pendingUpdate", STATUS_NEEDS_UPDATE_KEY = "__needsUpdateStatus", ACTION_REG = /^[a-zA-Z0-9_]+$/;
function createRegisterEventWithLowercaseECharts(r) {
  return function() {
    for (var n = [], i = 0; i < arguments.length; i++)
      n[i] = arguments[i];
    if (this.isDisposed()) {
      disposedWarning(this.id);
      return;
    }
    return toLowercaseNameAndCallEventful(this, r, n);
  };
}
function createRegisterEventWithLowercaseMessageCenter(r) {
  return function() {
    for (var n = [], i = 0; i < arguments.length; i++)
      n[i] = arguments[i];
    return toLowercaseNameAndCallEventful(this, r, n);
  };
}
function toLowercaseNameAndCallEventful(r, n, i) {
  return i[0] = i[0] && i[0].toLowerCase(), Eventful$1.prototype[n].apply(r, i);
}
var MessageCenter = (
  /** @class */
  function(r) {
    __extends(n, r);
    function n() {
      return r !== null && r.apply(this, arguments) || this;
    }
    return n;
  }(Eventful$1)
), messageCenterProto = MessageCenter.prototype;
messageCenterProto.on = createRegisterEventWithLowercaseMessageCenter("on");
messageCenterProto.off = createRegisterEventWithLowercaseMessageCenter("off");
var prepare, prepareView, updateDirectly, updateMethods, doConvertPixel, updateStreamModes, doDispatchAction, flushPendingActions, triggerUpdatedEvent, bindRenderedEvent, bindMouseEvent, render, renderComponents, renderSeries, createExtensionAPI, markStatusToUpdate, applyChangedStates, ECharts = (
  /** @class */
  function(r) {
    __extends(n, r);
    function n(i, o, a) {
      var u = r.call(this, new ECEventProcessor()) || this;
      u._chartsViews = [], u._chartsMap = {}, u._componentsViews = [], u._componentsMap = {}, u._pendingActions = [], a = a || {}, isString$2(o) && (o = themeStorage[o]), u._dom = i;
      var c = "canvas", f = "auto", d = !1;
      if (process.env.NODE_ENV !== "production") {
        var p = (
          /* eslint-disable-next-line */
          env$1.hasGlobalWindow ? window : global
        );
        c = p.__ECHARTS__DEFAULT__RENDERER__ || c, f = retrieve2(p.__ECHARTS__DEFAULT__COARSE_POINTER, f);
        var y = p.__ECHARTS__DEFAULT__USE_DIRTY_RECT__;
        d = y ?? d;
      }
      var v = u._zr = init(i, {
        renderer: a.renderer || c,
        devicePixelRatio: a.devicePixelRatio,
        width: a.width,
        height: a.height,
        ssr: a.ssr,
        useDirtyRect: retrieve2(a.useDirtyRect, d),
        useCoarsePointer: retrieve2(a.useCoarsePointer, f),
        pointerSize: a.pointerSize
      });
      u._ssr = a.ssr, u._throttledZrFlush = throttle$1(bind$1(v.flush, v), 17), o = clone$2(o), o && globalBackwardCompat(o, !0), u._theme = o, u._locale = createLocaleObject(a.locale || SYSTEM_LANG), u._coordSysMgr = new CoordinateSystem();
      var g = u._api = createExtensionAPI(u);
      function _(b, A) {
        return b.__prio - A.__prio;
      }
      return sort(visualFuncs, _), sort(dataProcessorFuncs, _), u._scheduler = new Scheduler$1(u, g, dataProcessorFuncs, visualFuncs), u._messageCenter = new MessageCenter(), u._initEvents(), u.resize = bind$1(u.resize, u), v.animation.on("frame", u._onframe, u), bindRenderedEvent(v, u), bindMouseEvent(v, u), setAsPrimitive(u), u;
    }
    return n.prototype._onframe = function() {
      if (!this._disposed) {
        applyChangedStates(this);
        var i = this._scheduler;
        if (this[PENDING_UPDATE]) {
          var o = this[PENDING_UPDATE].silent;
          this[IN_MAIN_PROCESS_KEY] = !0;
          try {
            prepare(this), updateMethods.update.call(this, null, this[PENDING_UPDATE].updateParams);
          } catch (d) {
            throw this[IN_MAIN_PROCESS_KEY] = !1, this[PENDING_UPDATE] = null, d;
          }
          this._zr.flush(), this[IN_MAIN_PROCESS_KEY] = !1, this[PENDING_UPDATE] = null, flushPendingActions.call(this, o), triggerUpdatedEvent.call(this, o);
        } else if (i.unfinished) {
          var a = TEST_FRAME_REMAIN_TIME, u = this._model, c = this._api;
          i.unfinished = !1;
          do {
            var f = +/* @__PURE__ */ new Date();
            i.performSeriesTasks(u), i.performDataProcessorTasks(u), updateStreamModes(this, u), i.performVisualTasks(u), renderSeries(this, this._model, c, "remain", {}), a -= +/* @__PURE__ */ new Date() - f;
          } while (a > 0 && i.unfinished);
          i.unfinished || this._zr.flush();
        }
      }
    }, n.prototype.getDom = function() {
      return this._dom;
    }, n.prototype.getId = function() {
      return this.id;
    }, n.prototype.getZr = function() {
      return this._zr;
    }, n.prototype.isSSR = function() {
      return this._ssr;
    }, n.prototype.setOption = function(i, o, a) {
      if (this[IN_MAIN_PROCESS_KEY]) {
        process.env.NODE_ENV !== "production" && error("`setOption` should not be called during main process.");
        return;
      }
      if (this._disposed) {
        disposedWarning(this.id);
        return;
      }
      var u, c, f;
      if (isObject$3(o) && (a = o.lazyUpdate, u = o.silent, c = o.replaceMerge, f = o.transition, o = o.notMerge), this[IN_MAIN_PROCESS_KEY] = !0, !this._model || o) {
        var d = new OptionManager$1(this._api), p = this._theme, y = this._model = new GlobalModel$1();
        y.scheduler = this._scheduler, y.ssr = this._ssr, y.init(null, null, null, p, this._locale, d);
      }
      this._model.setOption(i, {
        replaceMerge: c
      }, optionPreprocessorFuncs);
      var v = {
        seriesTransition: f,
        optionChanged: !0
      };
      if (a)
        this[PENDING_UPDATE] = {
          silent: u,
          updateParams: v
        }, this[IN_MAIN_PROCESS_KEY] = !1, this.getZr().wakeUp();
      else {
        try {
          prepare(this), updateMethods.update.call(this, null, v);
        } catch (g) {
          throw this[PENDING_UPDATE] = null, this[IN_MAIN_PROCESS_KEY] = !1, g;
        }
        this._ssr || this._zr.flush(), this[PENDING_UPDATE] = null, this[IN_MAIN_PROCESS_KEY] = !1, flushPendingActions.call(this, u), triggerUpdatedEvent.call(this, u);
      }
    }, n.prototype.setTheme = function() {
      deprecateLog("ECharts#setTheme() is DEPRECATED in ECharts 3.0");
    }, n.prototype.getModel = function() {
      return this._model;
    }, n.prototype.getOption = function() {
      return this._model && this._model.getOption();
    }, n.prototype.getWidth = function() {
      return this._zr.getWidth();
    }, n.prototype.getHeight = function() {
      return this._zr.getHeight();
    }, n.prototype.getDevicePixelRatio = function() {
      return this._zr.painter.dpr || env$1.hasGlobalWindow && window.devicePixelRatio || 1;
    }, n.prototype.getRenderedCanvas = function(i) {
      return process.env.NODE_ENV !== "production" && deprecateReplaceLog("getRenderedCanvas", "renderToCanvas"), this.renderToCanvas(i);
    }, n.prototype.renderToCanvas = function(i) {
      i = i || {};
      var o = this._zr.painter;
      if (process.env.NODE_ENV !== "production" && o.type !== "canvas")
        throw new Error("renderToCanvas can only be used in the canvas renderer.");
      return o.getRenderedCanvas({
        backgroundColor: i.backgroundColor || this._model.get("backgroundColor"),
        pixelRatio: i.pixelRatio || this.getDevicePixelRatio()
      });
    }, n.prototype.renderToSVGString = function(i) {
      i = i || {};
      var o = this._zr.painter;
      if (process.env.NODE_ENV !== "production" && o.type !== "svg")
        throw new Error("renderToSVGString can only be used in the svg renderer.");
      return o.renderToString({
        useViewBox: i.useViewBox
      });
    }, n.prototype.getSvgDataURL = function() {
      if (env$1.svgSupported) {
        var i = this._zr, o = i.storage.getDisplayList();
        return each$4(o, function(a) {
          a.stopAnimation(null, !0);
        }), i.painter.toDataURL();
      }
    }, n.prototype.getDataURL = function(i) {
      if (this._disposed) {
        disposedWarning(this.id);
        return;
      }
      i = i || {};
      var o = i.excludeComponents, a = this._model, u = [], c = this;
      each$4(o, function(d) {
        a.eachComponent({
          mainType: d
        }, function(p) {
          var y = c._componentsMap[p.__viewId];
          y.group.ignore || (u.push(y), y.group.ignore = !0);
        });
      });
      var f = this._zr.painter.getType() === "svg" ? this.getSvgDataURL() : this.renderToCanvas(i).toDataURL("image/" + (i && i.type || "png"));
      return each$4(u, function(d) {
        d.group.ignore = !1;
      }), f;
    }, n.prototype.getConnectedDataURL = function(i) {
      if (this._disposed) {
        disposedWarning(this.id);
        return;
      }
      var o = i.type === "svg", a = this.group, u = Math.min, c = Math.max, f = 1 / 0;
      if (connectedGroups[a]) {
        var d = f, p = f, y = -f, v = -f, g = [], _ = i && i.pixelRatio || this.getDevicePixelRatio();
        each$4(instances, function(T, L) {
          if (T.group === a) {
            var k = o ? T.getZr().painter.getSvgDom().innerHTML : T.renderToCanvas(clone$2(i)), M = T.getDom().getBoundingClientRect();
            d = u(M.left, d), p = u(M.top, p), y = c(M.right, y), v = c(M.bottom, v), g.push({
              dom: k,
              left: M.left,
              top: M.top
            });
          }
        }), d *= _, p *= _, y *= _, v *= _;
        var b = y - d, A = v - p, w = platformApi.createCanvas(), S = init(w, {
          renderer: o ? "svg" : "canvas"
        });
        if (S.resize({
          width: b,
          height: A
        }), o) {
          var x = "";
          return each$4(g, function(T) {
            var L = T.left - d, k = T.top - p;
            x += '<g transform="translate(' + L + "," + k + ')">' + T.dom + "</g>";
          }), S.painter.getSvgRoot().innerHTML = x, i.connectedBackgroundColor && S.painter.setBackgroundColor(i.connectedBackgroundColor), S.refreshImmediately(), S.painter.toDataURL();
        } else
          return i.connectedBackgroundColor && S.add(new Rect$1({
            shape: {
              x: 0,
              y: 0,
              width: b,
              height: A
            },
            style: {
              fill: i.connectedBackgroundColor
            }
          })), each$4(g, function(T) {
            var L = new ZRImage$1({
              style: {
                x: T.left * _ - d,
                y: T.top * _ - p,
                image: T.dom
              }
            });
            S.add(L);
          }), S.refreshImmediately(), w.toDataURL("image/" + (i && i.type || "png"));
      } else
        return this.getDataURL(i);
    }, n.prototype.convertToPixel = function(i, o) {
      return doConvertPixel(this, "convertToPixel", i, o);
    }, n.prototype.convertFromPixel = function(i, o) {
      return doConvertPixel(this, "convertFromPixel", i, o);
    }, n.prototype.containPixel = function(i, o) {
      if (this._disposed) {
        disposedWarning(this.id);
        return;
      }
      var a = this._model, u, c = parseFinder(a, i);
      return each$4(c, function(f, d) {
        d.indexOf("Models") >= 0 && each$4(f, function(p) {
          var y = p.coordinateSystem;
          if (y && y.containPoint)
            u = u || !!y.containPoint(o);
          else if (d === "seriesModels") {
            var v = this._chartsMap[p.__viewId];
            v && v.containPoint ? u = u || v.containPoint(o, p) : process.env.NODE_ENV !== "production" && warn(d + ": " + (v ? "The found component do not support containPoint." : "No view mapping to the found component."));
          } else
            process.env.NODE_ENV !== "production" && warn(d + ": containPoint is not supported");
        }, this);
      }, this), !!u;
    }, n.prototype.getVisual = function(i, o) {
      var a = this._model, u = parseFinder(a, i, {
        defaultMainType: "series"
      }), c = u.seriesModel;
      process.env.NODE_ENV !== "production" && (c || warn("There is no specified series model"));
      var f = c.getData(), d = u.hasOwnProperty("dataIndexInside") ? u.dataIndexInside : u.hasOwnProperty("dataIndex") ? f.indexOfRawIndex(u.dataIndex) : null;
      return d != null ? getItemVisualFromData(f, d, o) : getVisualFromData(f, o);
    }, n.prototype.getViewOfComponentModel = function(i) {
      return this._componentsMap[i.__viewId];
    }, n.prototype.getViewOfSeriesModel = function(i) {
      return this._chartsMap[i.__viewId];
    }, n.prototype._initEvents = function() {
      var i = this;
      each$4(MOUSE_EVENT_NAMES, function(o) {
        var a = function(u) {
          var c = i.getModel(), f = u.target, d, p = o === "globalout";
          if (p ? d = {} : f && findEventDispatcher(f, function(b) {
            var A = getECData(b);
            if (A && A.dataIndex != null) {
              var w = A.dataModel || c.getSeriesByIndex(A.seriesIndex);
              return d = w && w.getDataParams(A.dataIndex, A.dataType) || {}, !0;
            } else if (A.eventData)
              return d = extend({}, A.eventData), !0;
          }, !0), d) {
            var y = d.componentType, v = d.componentIndex;
            (y === "markLine" || y === "markPoint" || y === "markArea") && (y = "series", v = d.seriesIndex);
            var g = y && v != null && c.getComponent(y, v), _ = g && i[g.mainType === "series" ? "_chartsMap" : "_componentsMap"][g.__viewId];
            process.env.NODE_ENV !== "production" && !p && !(g && _) && warn("model or view can not be found by params"), d.event = u, d.type = o, i._$eventProcessor.eventInfo = {
              targetEl: f,
              packedEvent: d,
              model: g,
              view: _
            }, i.trigger(o, d);
          }
        };
        a.zrEventfulCallAtLast = !0, i._zr.on(o, a, i);
      }), each$4(eventActionMap, function(o, a) {
        i._messageCenter.on(a, function(u) {
          this.trigger(a, u);
        }, i);
      }), each$4(["selectchanged"], function(o) {
        i._messageCenter.on(o, function(a) {
          this.trigger(o, a);
        }, i);
      }), handleLegacySelectEvents(this._messageCenter, this, this._api);
    }, n.prototype.isDisposed = function() {
      return this._disposed;
    }, n.prototype.clear = function() {
      if (this._disposed) {
        disposedWarning(this.id);
        return;
      }
      this.setOption({
        series: []
      }, !0);
    }, n.prototype.dispose = function() {
      if (this._disposed) {
        disposedWarning(this.id);
        return;
      }
      this._disposed = !0;
      var i = this.getDom();
      i && setAttribute(this.getDom(), DOM_ATTRIBUTE_KEY, "");
      var o = this, a = o._api, u = o._model;
      each$4(o._componentsViews, function(c) {
        c.dispose(u, a);
      }), each$4(o._chartsViews, function(c) {
        c.dispose(u, a);
      }), o._zr.dispose(), o._dom = o._model = o._chartsMap = o._componentsMap = o._chartsViews = o._componentsViews = o._scheduler = o._api = o._zr = o._throttledZrFlush = o._theme = o._coordSysMgr = o._messageCenter = null, delete instances[o.id];
    }, n.prototype.resize = function(i) {
      if (this[IN_MAIN_PROCESS_KEY]) {
        process.env.NODE_ENV !== "production" && error("`resize` should not be called during main process.");
        return;
      }
      if (this._disposed) {
        disposedWarning(this.id);
        return;
      }
      this._zr.resize(i);
      var o = this._model;
      if (this._loadingFX && this._loadingFX.resize(), !!o) {
        var a = o.resetOption("media"), u = i && i.silent;
        this[PENDING_UPDATE] && (u == null && (u = this[PENDING_UPDATE].silent), a = !0, this[PENDING_UPDATE] = null), this[IN_MAIN_PROCESS_KEY] = !0;
        try {
          a && prepare(this), updateMethods.update.call(this, {
            type: "resize",
            animation: extend({
              // Disable animation
              duration: 0
            }, i && i.animation)
          });
        } catch (c) {
          throw this[IN_MAIN_PROCESS_KEY] = !1, c;
        }
        this[IN_MAIN_PROCESS_KEY] = !1, flushPendingActions.call(this, u), triggerUpdatedEvent.call(this, u);
      }
    }, n.prototype.showLoading = function(i, o) {
      if (this._disposed) {
        disposedWarning(this.id);
        return;
      }
      if (isObject$3(i) && (o = i, i = ""), i = i || "default", this.hideLoading(), !loadingEffects[i]) {
        process.env.NODE_ENV !== "production" && warn("Loading effects " + i + " not exists.");
        return;
      }
      var a = loadingEffects[i](this._api, o), u = this._zr;
      this._loadingFX = a, u.add(a);
    }, n.prototype.hideLoading = function() {
      if (this._disposed) {
        disposedWarning(this.id);
        return;
      }
      this._loadingFX && this._zr.remove(this._loadingFX), this._loadingFX = null;
    }, n.prototype.makeActionFromEvent = function(i) {
      var o = extend({}, i);
      return o.type = eventActionMap[i.type], o;
    }, n.prototype.dispatchAction = function(i, o) {
      if (this._disposed) {
        disposedWarning(this.id);
        return;
      }
      if (isObject$3(o) || (o = {
        silent: !!o
      }), !!actions[i.type] && this._model) {
        if (this[IN_MAIN_PROCESS_KEY]) {
          this._pendingActions.push(i);
          return;
        }
        var a = o.silent;
        doDispatchAction.call(this, i, a);
        var u = o.flush;
        u ? this._zr.flush() : u !== !1 && env$1.browser.weChat && this._throttledZrFlush(), flushPendingActions.call(this, a), triggerUpdatedEvent.call(this, a);
      }
    }, n.prototype.updateLabelLayout = function() {
      lifecycle$1.trigger("series:layoutlabels", this._model, this._api, {
        // Not adding series labels.
        // TODO
        updatedSeries: []
      });
    }, n.prototype.appendData = function(i) {
      if (this._disposed) {
        disposedWarning(this.id);
        return;
      }
      var o = i.seriesIndex, a = this.getModel(), u = a.getSeriesByIndex(o);
      process.env.NODE_ENV !== "production" && assert(i.data && u), u.appendData(i), this._scheduler.unfinished = !0, this.getZr().wakeUp();
    }, n.internalField = function() {
      prepare = function(v) {
        var g = v._scheduler;
        g.restorePipelines(v._model), g.prepareStageTasks(), prepareView(v, !0), prepareView(v, !1), g.plan();
      }, prepareView = function(v, g) {
        for (var _ = v._model, b = v._scheduler, A = g ? v._componentsViews : v._chartsViews, w = g ? v._componentsMap : v._chartsMap, S = v._zr, x = v._api, T = 0; T < A.length; T++)
          A[T].__alive = !1;
        g ? _.eachComponent(function(M, O) {
          M !== "series" && L(O);
        }) : _.eachSeries(L);
        function L(M) {
          var O = M.__requireNewView;
          M.__requireNewView = !1;
          var ie = "_ec_" + M.id + "_" + M.type, F = !O && w[ie];
          if (!F) {
            var re = parseClassType(M.type), D = g ? ComponentView$1.getClass(re.main, re.sub) : (
              // FIXME:TS
              // (ChartView as ChartViewConstructor).getClass('series', classType.sub)
              // For backward compat, still support a chart type declared as only subType
              // like "liquidfill", but recommend "series.liquidfill"
              // But need a base class to make a type series.
              ChartView$1.getClass(re.sub)
            );
            process.env.NODE_ENV !== "production" && assert(D, re.sub + " does not exist."), F = new D(), F.init(_, x), w[ie] = F, A.push(F), S.add(F.group);
          }
          M.__viewId = F.__id = ie, F.__alive = !0, F.__model = M, F.group.__ecComponentInfo = {
            mainType: M.mainType,
            index: M.componentIndex
          }, !g && b.prepareView(F, M, _, x);
        }
        for (var T = 0; T < A.length; ) {
          var k = A[T];
          k.__alive ? T++ : (!g && k.renderTask.dispose(), S.remove(k.group), k.dispose(_, x), A.splice(T, 1), w[k.__id] === k && delete w[k.__id], k.__id = k.group.__ecComponentInfo = null);
        }
      }, updateDirectly = function(v, g, _, b, A) {
        var w = v._model;
        if (w.setUpdatePayload(_), !b) {
          each$4([].concat(v._componentsViews).concat(v._chartsViews), k);
          return;
        }
        var S = {};
        S[b + "Id"] = _[b + "Id"], S[b + "Index"] = _[b + "Index"], S[b + "Name"] = _[b + "Name"];
        var x = {
          mainType: b,
          query: S
        };
        A && (x.subType = A);
        var T = _.excludeSeriesId, L;
        T != null && (L = createHashMap(), each$4(normalizeToArray(T), function(M) {
          var O = convertOptionIdName(M, null);
          O != null && L.set(O, !0);
        })), w && w.eachComponent(x, function(M) {
          var O = L && L.get(M.id) != null;
          if (!O)
            if (isHighDownPayload(_))
              if (M instanceof SeriesModel$1)
                _.type === HIGHLIGHT_ACTION_TYPE && !_.notBlur && !M.get(["emphasis", "disabled"]) && blurSeriesFromHighlightPayload(M, _, v._api);
              else {
                var ie = findComponentHighDownDispatchers(M.mainType, M.componentIndex, _.name, v._api), F = ie.focusSelf, re = ie.dispatchers;
                _.type === HIGHLIGHT_ACTION_TYPE && F && !_.notBlur && blurComponent(M.mainType, M.componentIndex, v._api), re && each$4(re, function(D) {
                  _.type === HIGHLIGHT_ACTION_TYPE ? enterEmphasis(D) : leaveEmphasis(D);
                });
              }
            else
              isSelectChangePayload(_) && M instanceof SeriesModel$1 && (toggleSelectionFromPayload(M, _, v._api), updateSeriesElementSelection(M), markStatusToUpdate(v));
        }, v), w && w.eachComponent(x, function(M) {
          var O = L && L.get(M.id) != null;
          O || k(v[b === "series" ? "_chartsMap" : "_componentsMap"][M.__viewId]);
        }, v);
        function k(M) {
          M && M.__alive && M[g] && M[g](M.__model, w, v._api, _);
        }
      }, updateMethods = {
        prepareAndUpdate: function(v) {
          prepare(this), updateMethods.update.call(this, v, {
            // Needs to mark option changed if newOption is given.
            // It's from MagicType.
            // TODO If use a separate flag optionChanged in payload?
            optionChanged: v.newOption != null
          });
        },
        update: function(v, g) {
          var _ = this._model, b = this._api, A = this._zr, w = this._coordSysMgr, S = this._scheduler;
          if (_) {
            _.setUpdatePayload(v), S.restoreData(_, v), S.performSeriesTasks(_), w.create(_, b), S.performDataProcessorTasks(_, v), updateStreamModes(this, _), w.update(_, b), i(_), S.performVisualTasks(_, v), render(this, _, b, v, g);
            var x = _.get("backgroundColor") || "transparent", T = _.get("darkMode");
            A.setBackgroundColor(x), T != null && T !== "auto" && A.setDarkMode(T), lifecycle$1.trigger("afterupdate", _, b);
          }
        },
        updateTransform: function(v) {
          var g = this, _ = this._model, b = this._api;
          if (_) {
            _.setUpdatePayload(v);
            var A = [];
            _.eachComponent(function(S, x) {
              if (S !== "series") {
                var T = g.getViewOfComponentModel(x);
                if (T && T.__alive)
                  if (T.updateTransform) {
                    var L = T.updateTransform(x, _, b, v);
                    L && L.update && A.push(T);
                  } else
                    A.push(T);
              }
            });
            var w = createHashMap();
            _.eachSeries(function(S) {
              var x = g._chartsMap[S.__viewId];
              if (x.updateTransform) {
                var T = x.updateTransform(S, _, b, v);
                T && T.update && w.set(S.uid, 1);
              } else
                w.set(S.uid, 1);
            }), i(_), this._scheduler.performVisualTasks(_, v, {
              setDirty: !0,
              dirtyMap: w
            }), renderSeries(this, _, b, v, {}, w), lifecycle$1.trigger("afterupdate", _, b);
          }
        },
        updateView: function(v) {
          var g = this._model;
          g && (g.setUpdatePayload(v), ChartView$1.markUpdateMethod(v, "updateView"), i(g), this._scheduler.performVisualTasks(g, v, {
            setDirty: !0
          }), render(this, g, this._api, v, {}), lifecycle$1.trigger("afterupdate", g, this._api));
        },
        updateVisual: function(v) {
          var g = this, _ = this._model;
          _ && (_.setUpdatePayload(v), _.eachSeries(function(b) {
            b.getData().clearAllVisual();
          }), ChartView$1.markUpdateMethod(v, "updateVisual"), i(_), this._scheduler.performVisualTasks(_, v, {
            visualType: "visual",
            setDirty: !0
          }), _.eachComponent(function(b, A) {
            if (b !== "series") {
              var w = g.getViewOfComponentModel(A);
              w && w.__alive && w.updateVisual(A, _, g._api, v);
            }
          }), _.eachSeries(function(b) {
            var A = g._chartsMap[b.__viewId];
            A.updateVisual(b, _, g._api, v);
          }), lifecycle$1.trigger("afterupdate", _, this._api));
        },
        updateLayout: function(v) {
          updateMethods.update.call(this, v);
        }
      }, doConvertPixel = function(v, g, _, b) {
        if (v._disposed) {
          disposedWarning(v.id);
          return;
        }
        for (var A = v._model, w = v._coordSysMgr.getCoordinateSystems(), S, x = parseFinder(A, _), T = 0; T < w.length; T++) {
          var L = w[T];
          if (L[g] && (S = L[g](A, x, b)) != null)
            return S;
        }
        process.env.NODE_ENV !== "production" && warn("No coordinate system that supports " + g + " found by the given finder.");
      }, updateStreamModes = function(v, g) {
        var _ = v._chartsMap, b = v._scheduler;
        g.eachSeries(function(A) {
          b.updateStreamModes(A, _[A.__viewId]);
        });
      }, doDispatchAction = function(v, g) {
        var _ = this, b = this.getModel(), A = v.type, w = v.escapeConnect, S = actions[A], x = S.actionInfo, T = (x.update || "update").split(":"), L = T.pop(), k = T[0] != null && parseClassType(T[0]);
        this[IN_MAIN_PROCESS_KEY] = !0;
        var M = [v], O = !1;
        v.batch && (O = !0, M = map$1(v.batch, function(pe) {
          return pe = defaults(extend({}, pe), v), pe.batch = null, pe;
        }));
        var ie = [], F, re = isSelectChangePayload(v), D = isHighDownPayload(v);
        if (D && allLeaveBlur(this._api), each$4(M, function(pe) {
          if (F = S.action(pe, _._model, _._api), F = F || extend({}, pe), F.type = x.event || F.type, ie.push(F), D) {
            var ue = preParseFinder(v), Ce = ue.queryOptionMap, Fe = ue.mainTypeSpecified, Ie = Fe ? Ce.keys()[0] : "series";
            updateDirectly(_, L, pe, Ie), markStatusToUpdate(_);
          } else
            re ? (updateDirectly(_, L, pe, "series"), markStatusToUpdate(_)) : k && updateDirectly(_, L, pe, k.main, k.sub);
        }), L !== "none" && !D && !re && !k)
          try {
            this[PENDING_UPDATE] ? (prepare(this), updateMethods.update.call(this, v), this[PENDING_UPDATE] = null) : updateMethods[L].call(this, v);
          } catch (pe) {
            throw this[IN_MAIN_PROCESS_KEY] = !1, pe;
          }
        if (O ? F = {
          type: x.event || A,
          escapeConnect: w,
          batch: ie
        } : F = ie[0], this[IN_MAIN_PROCESS_KEY] = !1, !g) {
          var Y = this._messageCenter;
          if (Y.trigger(F.type, F), re) {
            var z = {
              type: "selectchanged",
              escapeConnect: w,
              selected: getAllSelectedIndices(b),
              isFromClick: v.isFromClick || !1,
              fromAction: v.type,
              fromActionPayload: v
            };
            Y.trigger(z.type, z);
          }
        }
      }, flushPendingActions = function(v) {
        for (var g = this._pendingActions; g.length; ) {
          var _ = g.shift();
          doDispatchAction.call(this, _, v);
        }
      }, triggerUpdatedEvent = function(v) {
        !v && this.trigger("updated");
      }, bindRenderedEvent = function(v, g) {
        v.on("rendered", function(_) {
          g.trigger("rendered", _), // Although zr is dirty if initial animation is not finished
          // and this checking is called on frame, we also check
          // animation finished for robustness.
          v.animation.isFinished() && !g[PENDING_UPDATE] && !g._scheduler.unfinished && !g._pendingActions.length && g.trigger("finished");
        });
      }, bindMouseEvent = function(v, g) {
        v.on("mouseover", function(_) {
          var b = _.target, A = findEventDispatcher(b, isHighDownDispatcher);
          A && (handleGlobalMouseOverForHighDown(A, _, g._api), markStatusToUpdate(g));
        }).on("mouseout", function(_) {
          var b = _.target, A = findEventDispatcher(b, isHighDownDispatcher);
          A && (handleGlobalMouseOutForHighDown(A, _, g._api), markStatusToUpdate(g));
        }).on("click", function(_) {
          var b = _.target, A = findEventDispatcher(b, function(x) {
            return getECData(x).dataIndex != null;
          }, !0);
          if (A) {
            var w = A.selected ? "unselect" : "select", S = getECData(A);
            g._api.dispatchAction({
              type: w,
              dataType: S.dataType,
              dataIndexInside: S.dataIndex,
              seriesIndex: S.seriesIndex,
              isFromClick: !0
            });
          }
        });
      };
      function i(v) {
        v.clearColorPalette(), v.eachSeries(function(g) {
          g.clearColorPalette();
        });
      }
      function o(v) {
        var g = [], _ = [], b = !1;
        if (v.eachComponent(function(x, T) {
          var L = T.get("zlevel") || 0, k = T.get("z") || 0, M = T.getZLevelKey();
          b = b || !!M, (x === "series" ? _ : g).push({
            zlevel: L,
            z: k,
            idx: T.componentIndex,
            type: x,
            key: M
          });
        }), b) {
          var A = g.concat(_), w, S;
          sort(A, function(x, T) {
            return x.zlevel === T.zlevel ? x.z - T.z : x.zlevel - T.zlevel;
          }), each$4(A, function(x) {
            var T = v.getComponent(x.type, x.idx), L = x.zlevel, k = x.key;
            w != null && (L = Math.max(w, L)), k ? (L === w && k !== S && L++, S = k) : S && (L === w && L++, S = ""), w = L, T.setZLevel(L);
          });
        }
      }
      render = function(v, g, _, b, A) {
        o(g), renderComponents(v, g, _, b, A), each$4(v._chartsViews, function(w) {
          w.__alive = !1;
        }), renderSeries(v, g, _, b, A), each$4(v._chartsViews, function(w) {
          w.__alive || w.remove(g, _);
        });
      }, renderComponents = function(v, g, _, b, A, w) {
        each$4(w || v._componentsViews, function(S) {
          var x = S.__model;
          p(x, S), S.render(x, g, _, b), f(x, S), y(x, S);
        });
      }, renderSeries = function(v, g, _, b, A, w) {
        var S = v._scheduler;
        A = extend(A || {}, {
          updatedSeries: g.getSeries()
        }), lifecycle$1.trigger("series:beforeupdate", g, _, A);
        var x = !1;
        g.eachSeries(function(T) {
          var L = v._chartsMap[T.__viewId];
          L.__alive = !0;
          var k = L.renderTask;
          S.updatePayload(k, b), p(T, L), w && w.get(T.uid) && k.dirty(), k.perform(S.getPerformArgs(k)) && (x = !0), L.group.silent = !!T.get("silent"), c(T, L), updateSeriesElementSelection(T);
        }), S.unfinished = x || S.unfinished, lifecycle$1.trigger("series:layoutlabels", g, _, A), lifecycle$1.trigger("series:transition", g, _, A), g.eachSeries(function(T) {
          var L = v._chartsMap[T.__viewId];
          f(T, L), y(T, L);
        }), u(v, g), lifecycle$1.trigger("series:afterupdate", g, _, A);
      }, markStatusToUpdate = function(v) {
        v[STATUS_NEEDS_UPDATE_KEY] = !0, v.getZr().wakeUp();
      }, applyChangedStates = function(v) {
        v[STATUS_NEEDS_UPDATE_KEY] && (v.getZr().storage.traverse(function(g) {
          isElementRemoved(g) || a(g);
        }), v[STATUS_NEEDS_UPDATE_KEY] = !1);
      };
      function a(v) {
        for (var g = [], _ = v.currentStates, b = 0; b < _.length; b++) {
          var A = _[b];
          A === "emphasis" || A === "blur" || A === "select" || g.push(A);
        }
        v.selected && v.states.select && g.push("select"), v.hoverState === HOVER_STATE_EMPHASIS && v.states.emphasis ? g.push("emphasis") : v.hoverState === HOVER_STATE_BLUR && v.states.blur && g.push("blur"), v.useStates(g);
      }
      function u(v, g) {
        var _ = v._zr, b = _.storage, A = 0;
        b.traverse(function(w) {
          w.isGroup || A++;
        }), A > g.get("hoverLayerThreshold") && !env$1.node && !env$1.worker && g.eachSeries(function(w) {
          if (!w.preventUsingHoverLayer) {
            var S = v._chartsMap[w.__viewId];
            S.__alive && S.eachRendered(function(x) {
              x.states.emphasis && (x.states.emphasis.hoverLayer = !0);
            });
          }
        });
      }
      function c(v, g) {
        var _ = v.get("blendMode") || null;
        g.eachRendered(function(b) {
          b.isGroup || (b.style.blend = _);
        });
      }
      function f(v, g) {
        if (!v.preventAutoZ) {
          var _ = v.get("z") || 0, b = v.get("zlevel") || 0;
          g.eachRendered(function(A) {
            return d(A, _, b, -1 / 0), !0;
          });
        }
      }
      function d(v, g, _, b) {
        var A = v.getTextContent(), w = v.getTextGuideLine(), S = v.isGroup;
        if (S)
          for (var x = v.childrenRef(), T = 0; T < x.length; T++)
            b = Math.max(d(x[T], g, _, b), b);
        else
          v.z = g, v.zlevel = _, b = Math.max(v.z2, b);
        if (A && (A.z = g, A.zlevel = _, isFinite(b) && (A.z2 = b + 2)), w) {
          var L = v.textGuideLineConfig;
          w.z = g, w.zlevel = _, isFinite(b) && (w.z2 = b + (L && L.showAbove ? 1 : -1));
        }
        return b;
      }
      function p(v, g) {
        g.eachRendered(function(_) {
          if (!isElementRemoved(_)) {
            var b = _.getTextContent(), A = _.getTextGuideLine();
            _.stateTransition && (_.stateTransition = null), b && b.stateTransition && (b.stateTransition = null), A && A.stateTransition && (A.stateTransition = null), _.hasState() ? (_.prevStates = _.currentStates, _.clearStates()) : _.prevStates && (_.prevStates = null);
          }
        });
      }
      function y(v, g) {
        var _ = v.getModel("stateAnimation"), b = v.isAnimationEnabled(), A = _.get("duration"), w = A > 0 ? {
          duration: A,
          delay: _.get("delay"),
          easing: _.get("easing")
          // additive: stateAnimationModel.get('additive')
        } : null;
        g.eachRendered(function(S) {
          if (S.states && S.states.emphasis) {
            if (isElementRemoved(S))
              return;
            if (S instanceof Path$1 && savePathStates(S), S.__dirty) {
              var x = S.prevStates;
              x && S.useStates(x);
            }
            if (b) {
              S.stateTransition = w;
              var T = S.getTextContent(), L = S.getTextGuideLine();
              T && (T.stateTransition = w), L && (L.stateTransition = w);
            }
            S.__dirty && a(S);
          }
        });
      }
      createExtensionAPI = function(v) {
        return new /** @class */
        (function(g) {
          __extends(_, g);
          function _() {
            return g !== null && g.apply(this, arguments) || this;
          }
          return _.prototype.getCoordinateSystems = function() {
            return v._coordSysMgr.getCoordinateSystems();
          }, _.prototype.getComponentByElement = function(b) {
            for (; b; ) {
              var A = b.__ecComponentInfo;
              if (A != null)
                return v._model.getComponent(A.mainType, A.index);
              b = b.parent;
            }
          }, _.prototype.enterEmphasis = function(b, A) {
            enterEmphasis(b, A), markStatusToUpdate(v);
          }, _.prototype.leaveEmphasis = function(b, A) {
            leaveEmphasis(b, A), markStatusToUpdate(v);
          }, _.prototype.enterBlur = function(b) {
            enterBlur(b), markStatusToUpdate(v);
          }, _.prototype.leaveBlur = function(b) {
            leaveBlur(b), markStatusToUpdate(v);
          }, _.prototype.enterSelect = function(b) {
            enterSelect(b), markStatusToUpdate(v);
          }, _.prototype.leaveSelect = function(b) {
            leaveSelect(b), markStatusToUpdate(v);
          }, _.prototype.getModel = function() {
            return v.getModel();
          }, _.prototype.getViewOfComponentModel = function(b) {
            return v.getViewOfComponentModel(b);
          }, _.prototype.getViewOfSeriesModel = function(b) {
            return v.getViewOfSeriesModel(b);
          }, _;
        }(ExtensionAPI$1))(v);
      };
    }(), n;
  }(Eventful$1)
), echartsProto = ECharts.prototype;
echartsProto.on = createRegisterEventWithLowercaseECharts("on");
echartsProto.off = createRegisterEventWithLowercaseECharts("off");
echartsProto.one = function(r, n, i) {
  var o = this;
  deprecateLog("ECharts#one is deprecated.");
  function a() {
    for (var u = [], c = 0; c < arguments.length; c++)
      u[c] = arguments[c];
    n && n.apply && n.apply(this, u), o.off(r, a);
  }
  this.on.call(this, r, a, i);
};
var MOUSE_EVENT_NAMES = ["click", "dblclick", "mouseover", "mouseout", "mousemove", "mousedown", "mouseup", "globalout", "contextmenu"];
function disposedWarning(r) {
  process.env.NODE_ENV !== "production" && warn("Instance " + r + " has been disposed");
}
var actions = {}, eventActionMap = {}, dataProcessorFuncs = [], optionPreprocessorFuncs = [], visualFuncs = [], themeStorage = {}, loadingEffects = {}, instances = {}, connectedGroups = {}, DOM_ATTRIBUTE_KEY = "_echarts_instance_";
function registerTheme(r, n) {
  themeStorage[r] = n;
}
function registerPreprocessor(r) {
  indexOf(optionPreprocessorFuncs, r) < 0 && optionPreprocessorFuncs.push(r);
}
function registerProcessor(r, n) {
  normalizeRegister(dataProcessorFuncs, r, n, PRIORITY_PROCESSOR_DEFAULT);
}
function registerPostInit(r) {
  registerUpdateLifecycle("afterinit", r);
}
function registerPostUpdate(r) {
  registerUpdateLifecycle("afterupdate", r);
}
function registerUpdateLifecycle(r, n) {
  lifecycle$1.on(r, n);
}
function registerAction(r, n, i) {
  isFunction$1(n) && (i = n, n = "");
  var o = isObject$3(r) ? r.type : [r, r = {
    event: n
  }][0];
  r.event = (r.event || o).toLowerCase(), n = r.event, !eventActionMap[n] && (assert(ACTION_REG.test(o) && ACTION_REG.test(n)), actions[o] || (actions[o] = {
    action: i,
    actionInfo: r
  }), eventActionMap[n] = o);
}
function registerCoordinateSystem(r, n) {
  CoordinateSystem.register(r, n);
}
function registerLayout(r, n) {
  normalizeRegister(visualFuncs, r, n, PRIORITY_VISUAL_LAYOUT, "layout");
}
function registerVisual(r, n) {
  normalizeRegister(visualFuncs, r, n, PRIORITY_VISUAL_CHART, "visual");
}
var registeredTasks = [];
function normalizeRegister(r, n, i, o, a) {
  if ((isFunction$1(n) || isObject$3(n)) && (i = n, n = o), process.env.NODE_ENV !== "production") {
    if (isNaN(n) || n == null)
      throw new Error("Illegal priority");
    each$4(r, function(c) {
      assert(c.__raw !== i);
    });
  }
  if (!(indexOf(registeredTasks, i) >= 0)) {
    registeredTasks.push(i);
    var u = Scheduler$1.wrapStageHandler(i, a);
    u.__prio = n, u.__raw = i, r.push(u);
  }
}
function registerLoading(r, n) {
  loadingEffects[r] = n;
}
function registerMap(r, n, i) {
  var o = getImpl("registerMap");
  o && o(r, n, i);
}
var registerTransform = registerExternalTransform;
registerVisual(PRIORITY_VISUAL_GLOBAL, seriesStyleTask);
registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM, dataStyleTask);
registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM, dataColorPaletteTask);
registerVisual(PRIORITY_VISUAL_GLOBAL, seriesSymbolTask);
registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM, dataSymbolTask);
registerVisual(PRIORITY_VISUAL_DECAL, decalVisual);
registerPreprocessor(globalBackwardCompat);
registerProcessor(PRIORITY_PROCESSOR_DATASTACK, dataStack);
registerLoading("default", defaultLoading);
registerAction({
  type: HIGHLIGHT_ACTION_TYPE,
  event: HIGHLIGHT_ACTION_TYPE,
  update: HIGHLIGHT_ACTION_TYPE
}, noop$1);
registerAction({
  type: DOWNPLAY_ACTION_TYPE,
  event: DOWNPLAY_ACTION_TYPE,
  update: DOWNPLAY_ACTION_TYPE
}, noop$1);
registerAction({
  type: SELECT_ACTION_TYPE,
  event: SELECT_ACTION_TYPE,
  update: SELECT_ACTION_TYPE
}, noop$1);
registerAction({
  type: UNSELECT_ACTION_TYPE,
  event: UNSELECT_ACTION_TYPE,
  update: UNSELECT_ACTION_TYPE
}, noop$1);
registerAction({
  type: TOGGLE_SELECT_ACTION_TYPE,
  event: TOGGLE_SELECT_ACTION_TYPE,
  update: TOGGLE_SELECT_ACTION_TYPE
}, noop$1);
registerTheme("light", lightTheme);
registerTheme("dark", darkTheme);
function dataIndexMapValueLength(r) {
  return r == null ? 0 : r.length || 1;
}
function defaultKeyGetter(r) {
  return r;
}
var DataDiffer = (
  /** @class */
  function() {
    function r(n, i, o, a, u, c) {
      this._old = n, this._new = i, this._oldKeyGetter = o || defaultKeyGetter, this._newKeyGetter = a || defaultKeyGetter, this.context = u, this._diffModeMultiple = c === "multiple";
    }
    return r.prototype.add = function(n) {
      return this._add = n, this;
    }, r.prototype.update = function(n) {
      return this._update = n, this;
    }, r.prototype.updateManyToOne = function(n) {
      return this._updateManyToOne = n, this;
    }, r.prototype.updateOneToMany = function(n) {
      return this._updateOneToMany = n, this;
    }, r.prototype.updateManyToMany = function(n) {
      return this._updateManyToMany = n, this;
    }, r.prototype.remove = function(n) {
      return this._remove = n, this;
    }, r.prototype.execute = function() {
      this[this._diffModeMultiple ? "_executeMultiple" : "_executeOneToOne"]();
    }, r.prototype._executeOneToOne = function() {
      var n = this._old, i = this._new, o = {}, a = new Array(n.length), u = new Array(i.length);
      this._initIndexMap(n, null, a, "_oldKeyGetter"), this._initIndexMap(i, o, u, "_newKeyGetter");
      for (var c = 0; c < n.length; c++) {
        var f = a[c], d = o[f], p = dataIndexMapValueLength(d);
        if (p > 1) {
          var y = d.shift();
          d.length === 1 && (o[f] = d[0]), this._update && this._update(y, c);
        } else
          p === 1 ? (o[f] = null, this._update && this._update(d, c)) : this._remove && this._remove(c);
      }
      this._performRestAdd(u, o);
    }, r.prototype._executeMultiple = function() {
      var n = this._old, i = this._new, o = {}, a = {}, u = [], c = [];
      this._initIndexMap(n, o, u, "_oldKeyGetter"), this._initIndexMap(i, a, c, "_newKeyGetter");
      for (var f = 0; f < u.length; f++) {
        var d = u[f], p = o[d], y = a[d], v = dataIndexMapValueLength(p), g = dataIndexMapValueLength(y);
        if (v > 1 && g === 1)
          this._updateManyToOne && this._updateManyToOne(y, p), a[d] = null;
        else if (v === 1 && g > 1)
          this._updateOneToMany && this._updateOneToMany(y, p), a[d] = null;
        else if (v === 1 && g === 1)
          this._update && this._update(y, p), a[d] = null;
        else if (v > 1 && g > 1)
          this._updateManyToMany && this._updateManyToMany(y, p), a[d] = null;
        else if (v > 1)
          for (var _ = 0; _ < v; _++)
            this._remove && this._remove(p[_]);
        else
          this._remove && this._remove(p);
      }
      this._performRestAdd(c, a);
    }, r.prototype._performRestAdd = function(n, i) {
      for (var o = 0; o < n.length; o++) {
        var a = n[o], u = i[a], c = dataIndexMapValueLength(u);
        if (c > 1)
          for (var f = 0; f < c; f++)
            this._add && this._add(u[f]);
        else
          c === 1 && this._add && this._add(u);
        i[a] = null;
      }
    }, r.prototype._initIndexMap = function(n, i, o, a) {
      for (var u = this._diffModeMultiple, c = 0; c < n.length; c++) {
        var f = "_ec_" + this[a](n[c], c);
        if (u || (o[c] = f), !!i) {
          var d = i[f], p = dataIndexMapValueLength(d);
          p === 0 ? (i[f] = c, u && o.push(f)) : p === 1 ? i[f] = [d, c] : d.push(c);
        }
      }
    }, r;
  }()
);
const DataDiffer$1 = DataDiffer;
var DimensionUserOuput = (
  /** @class */
  function() {
    function r(n, i) {
      this._encode = n, this._schema = i;
    }
    return r.prototype.get = function() {
      return {
        // Do not generate full dimension name until fist used.
        fullDimensions: this._getFullDimensionNames(),
        encode: this._encode
      };
    }, r.prototype._getFullDimensionNames = function() {
      return this._cachedDimNames || (this._cachedDimNames = this._schema ? this._schema.makeOutputDimensionNames() : []), this._cachedDimNames;
    }, r;
  }()
);
function summarizeDimensions(r, n) {
  var i = {}, o = i.encode = {}, a = createHashMap(), u = [], c = [], f = {};
  each$4(r.dimensions, function(g) {
    var _ = r.getDimensionInfo(g), b = _.coordDim;
    if (b) {
      process.env.NODE_ENV !== "production" && assert(VISUAL_DIMENSIONS.get(b) == null);
      var A = _.coordDimIndex;
      getOrCreateEncodeArr(o, b)[A] = g, _.isExtraCoord || (a.set(b, 1), mayLabelDimType(_.type) && (u[0] = g), getOrCreateEncodeArr(f, b)[A] = r.getDimensionIndex(_.name)), _.defaultTooltip && c.push(g);
    }
    VISUAL_DIMENSIONS.each(function(w, S) {
      var x = getOrCreateEncodeArr(o, S), T = _.otherDims[S];
      T != null && T !== !1 && (x[T] = _.name);
    });
  });
  var d = [], p = {};
  a.each(function(g, _) {
    var b = o[_];
    p[_] = b[0], d = d.concat(b);
  }), i.dataDimsOnCoord = d, i.dataDimIndicesOnCoord = map$1(d, function(g) {
    return r.getDimensionInfo(g).storeDimIndex;
  }), i.encodeFirstDimNotExtra = p;
  var y = o.label;
  y && y.length && (u = y.slice());
  var v = o.tooltip;
  return v && v.length ? c = v.slice() : c.length || (c = u.slice()), o.defaultedLabel = u, o.defaultedTooltip = c, i.userOutput = new DimensionUserOuput(f, n), i;
}
function getOrCreateEncodeArr(r, n) {
  return r.hasOwnProperty(n) || (r[n] = []), r[n];
}
function mayLabelDimType(r) {
  return !(r === "ordinal" || r === "time");
}
var SeriesDimensionDefine = (
  /** @class */
  function() {
    function r(n) {
      this.otherDims = {}, n != null && extend(this, n);
    }
    return r;
  }()
);
const SeriesDimensionDefine$1 = SeriesDimensionDefine;
var inner$3 = makeInner(), dimTypeShort = {
  float: "f",
  int: "i",
  ordinal: "o",
  number: "n",
  time: "t"
}, SeriesDataSchema = (
  /** @class */
  function() {
    function r(n) {
      this.dimensions = n.dimensions, this._dimOmitted = n.dimensionOmitted, this.source = n.source, this._fullDimCount = n.fullDimensionCount, this._updateDimOmitted(n.dimensionOmitted);
    }
    return r.prototype.isDimensionOmitted = function() {
      return this._dimOmitted;
    }, r.prototype._updateDimOmitted = function(n) {
      this._dimOmitted = n, n && (this._dimNameMap || (this._dimNameMap = ensureSourceDimNameMap(this.source)));
    }, r.prototype.getSourceDimensionIndex = function(n) {
      return retrieve2(this._dimNameMap.get(n), -1);
    }, r.prototype.getSourceDimension = function(n) {
      var i = this.source.dimensionsDefine;
      if (i)
        return i[n];
    }, r.prototype.makeStoreSchema = function() {
      for (var n = this._fullDimCount, i = shouldRetrieveDataByName(this.source), o = !shouldOmitUnusedDimensions(n), a = "", u = [], c = 0, f = 0; c < n; c++) {
        var d = void 0, p = void 0, y = void 0, v = this.dimensions[f];
        if (v && v.storeDimIndex === c)
          d = i ? v.name : null, p = v.type, y = v.ordinalMeta, f++;
        else {
          var g = this.getSourceDimension(c);
          g && (d = i ? g.name : null, p = g.type);
        }
        u.push({
          property: d,
          type: p,
          ordinalMeta: y
        }), i && d != null && (!v || !v.isCalculationCoord) && (a += o ? d.replace(/\`/g, "`1").replace(/\$/g, "`2") : d), a += "$", a += dimTypeShort[p] || "f", y && (a += y.uid), a += "$";
      }
      var _ = this.source, b = [_.seriesLayoutBy, _.startIndex, a].join("$$");
      return {
        dimensions: u,
        hash: b
      };
    }, r.prototype.makeOutputDimensionNames = function() {
      for (var n = [], i = 0, o = 0; i < this._fullDimCount; i++) {
        var a = void 0, u = this.dimensions[o];
        if (u && u.storeDimIndex === i)
          u.isCalculationCoord || (a = u.name), o++;
        else {
          var c = this.getSourceDimension(i);
          c && (a = c.name);
        }
        n.push(a);
      }
      return n;
    }, r.prototype.appendCalculationDimension = function(n) {
      this.dimensions.push(n), n.isCalculationCoord = !0, this._fullDimCount++, this._updateDimOmitted(!0);
    }, r;
  }()
);
function isSeriesDataSchema(r) {
  return r instanceof SeriesDataSchema;
}
function createDimNameMap(r) {
  for (var n = createHashMap(), i = 0; i < (r || []).length; i++) {
    var o = r[i], a = isObject$3(o) ? o.name : o;
    a != null && n.get(a) == null && n.set(a, i);
  }
  return n;
}
function ensureSourceDimNameMap(r) {
  var n = inner$3(r);
  return n.dimNameMap || (n.dimNameMap = createDimNameMap(r.dimensionsDefine));
}
function shouldOmitUnusedDimensions(r) {
  return r > 30;
}
var isObject$1 = isObject$3, map = map$1, CtorInt32Array = typeof Int32Array > "u" ? Array : Int32Array, ID_PREFIX = "e\0\0", INDEX_NOT_FOUND = -1, TRANSFERABLE_PROPERTIES = ["hasItemOption", "_nameList", "_idList", "_invertedIndicesMap", "_dimSummary", "userOutput", "_rawData", "_dimValueGetter", "_nameDimIdx", "_idDimIdx", "_nameRepeatCount"], CLONE_PROPERTIES = ["_approximateExtent"], prepareInvertedIndex, getId, getIdNameFromStore, normalizeDimensions, transferProperties, cloneListForMapAndSample, makeIdFromName, SeriesData = (
  /** @class */
  function() {
    function r(n, i) {
      this.type = "list", this._dimOmitted = !1, this._nameList = [], this._idList = [], this._visual = {}, this._layout = {}, this._itemVisuals = [], this._itemLayouts = [], this._graphicEls = [], this._approximateExtent = {}, this._calculationInfo = {}, this.hasItemOption = !1, this.TRANSFERABLE_METHODS = ["cloneShallow", "downSample", "lttbDownSample", "map"], this.CHANGABLE_METHODS = ["filterSelf", "selectRange"], this.DOWNSAMPLE_METHODS = ["downSample", "lttbDownSample"];
      var o, a = !1;
      isSeriesDataSchema(n) ? (o = n.dimensions, this._dimOmitted = n.isDimensionOmitted(), this._schema = n) : (a = !0, o = n), o = o || ["x", "y"];
      for (var u = {}, c = [], f = {}, d = !1, p = {}, y = 0; y < o.length; y++) {
        var v = o[y], g = isString$2(v) ? new SeriesDimensionDefine$1({
          name: v
        }) : v instanceof SeriesDimensionDefine$1 ? v : new SeriesDimensionDefine$1(v), _ = g.name;
        g.type = g.type || "float", g.coordDim || (g.coordDim = _, g.coordDimIndex = 0);
        var b = g.otherDims = g.otherDims || {};
        c.push(_), u[_] = g, p[_] != null && (d = !0), g.createInvertedIndices && (f[_] = []), b.itemName === 0 && (this._nameDimIdx = y), b.itemId === 0 && (this._idDimIdx = y), process.env.NODE_ENV !== "production" && assert(a || g.storeDimIndex >= 0), a && (g.storeDimIndex = y);
      }
      if (this.dimensions = c, this._dimInfos = u, this._initGetDimensionInfo(d), this.hostModel = i, this._invertedIndicesMap = f, this._dimOmitted) {
        var A = this._dimIdxToName = createHashMap();
        each$4(c, function(w) {
          A.set(u[w].storeDimIndex, w);
        });
      }
    }
    return r.prototype.getDimension = function(n) {
      var i = this._recognizeDimIndex(n);
      if (i == null)
        return n;
      if (i = n, !this._dimOmitted)
        return this.dimensions[i];
      var o = this._dimIdxToName.get(i);
      if (o != null)
        return o;
      var a = this._schema.getSourceDimension(i);
      if (a)
        return a.name;
    }, r.prototype.getDimensionIndex = function(n) {
      var i = this._recognizeDimIndex(n);
      if (i != null)
        return i;
      if (n == null)
        return -1;
      var o = this._getDimInfo(n);
      return o ? o.storeDimIndex : this._dimOmitted ? this._schema.getSourceDimensionIndex(n) : -1;
    }, r.prototype._recognizeDimIndex = function(n) {
      if (isNumber$1(n) || n != null && !isNaN(n) && !this._getDimInfo(n) && (!this._dimOmitted || this._schema.getSourceDimensionIndex(n) < 0))
        return +n;
    }, r.prototype._getStoreDimIndex = function(n) {
      var i = this.getDimensionIndex(n);
      if (process.env.NODE_ENV !== "production" && i == null)
        throw new Error("Unknown dimension " + n);
      return i;
    }, r.prototype.getDimensionInfo = function(n) {
      return this._getDimInfo(this.getDimension(n));
    }, r.prototype._initGetDimensionInfo = function(n) {
      var i = this._dimInfos;
      this._getDimInfo = n ? function(o) {
        return i.hasOwnProperty(o) ? i[o] : void 0;
      } : function(o) {
        return i[o];
      };
    }, r.prototype.getDimensionsOnCoord = function() {
      return this._dimSummary.dataDimsOnCoord.slice();
    }, r.prototype.mapDimension = function(n, i) {
      var o = this._dimSummary;
      if (i == null)
        return o.encodeFirstDimNotExtra[n];
      var a = o.encode[n];
      return a ? a[i] : null;
    }, r.prototype.mapDimensionsAll = function(n) {
      var i = this._dimSummary, o = i.encode[n];
      return (o || []).slice();
    }, r.prototype.getStore = function() {
      return this._store;
    }, r.prototype.initData = function(n, i, o) {
      var a = this, u;
      if (n instanceof DataStore && (u = n), !u) {
        var c = this.dimensions, f = isSourceInstance(n) || isArrayLike(n) ? new DefaultDataProvider(n, c.length) : n;
        u = new DataStore();
        var d = map(c, function(p) {
          return {
            type: a._dimInfos[p].type,
            property: p
          };
        });
        u.initData(f, d, o);
      }
      this._store = u, this._nameList = (i || []).slice(), this._idList = [], this._nameRepeatCount = {}, this._doInit(0, u.count()), this._dimSummary = summarizeDimensions(this, this._schema), this.userOutput = this._dimSummary.userOutput;
    }, r.prototype.appendData = function(n) {
      var i = this._store.appendData(n);
      this._doInit(i[0], i[1]);
    }, r.prototype.appendValues = function(n, i) {
      var o = this._store.appendValues(n, i.length), a = o.start, u = o.end, c = this._shouldMakeIdFromName();
      if (this._updateOrdinalMeta(), i)
        for (var f = a; f < u; f++) {
          var d = f - a;
          this._nameList[f] = i[d], c && makeIdFromName(this, f);
        }
    }, r.prototype._updateOrdinalMeta = function() {
      for (var n = this._store, i = this.dimensions, o = 0; o < i.length; o++) {
        var a = this._dimInfos[i[o]];
        a.ordinalMeta && n.collectOrdinalMeta(a.storeDimIndex, a.ordinalMeta);
      }
    }, r.prototype._shouldMakeIdFromName = function() {
      var n = this._store.getProvider();
      return this._idDimIdx == null && n.getSource().sourceFormat !== SOURCE_FORMAT_TYPED_ARRAY && !n.fillStorage;
    }, r.prototype._doInit = function(n, i) {
      if (!(n >= i)) {
        var o = this._store, a = o.getProvider();
        this._updateOrdinalMeta();
        var u = this._nameList, c = this._idList, f = a.getSource().sourceFormat, d = f === SOURCE_FORMAT_ORIGINAL;
        if (d && !a.pure)
          for (var p = [], y = n; y < i; y++) {
            var v = a.getItem(y, p);
            if (!this.hasItemOption && isDataItemOption(v) && (this.hasItemOption = !0), v) {
              var g = v.name;
              u[y] == null && g != null && (u[y] = convertOptionIdName(g, null));
              var _ = v.id;
              c[y] == null && _ != null && (c[y] = convertOptionIdName(_, null));
            }
          }
        if (this._shouldMakeIdFromName())
          for (var y = n; y < i; y++)
            makeIdFromName(this, y);
        prepareInvertedIndex(this);
      }
    }, r.prototype.getApproximateExtent = function(n) {
      return this._approximateExtent[n] || this._store.getDataExtent(this._getStoreDimIndex(n));
    }, r.prototype.setApproximateExtent = function(n, i) {
      i = this.getDimension(i), this._approximateExtent[i] = n.slice();
    }, r.prototype.getCalculationInfo = function(n) {
      return this._calculationInfo[n];
    }, r.prototype.setCalculationInfo = function(n, i) {
      isObject$1(n) ? extend(this._calculationInfo, n) : this._calculationInfo[n] = i;
    }, r.prototype.getName = function(n) {
      var i = this.getRawIndex(n), o = this._nameList[i];
      return o == null && this._nameDimIdx != null && (o = getIdNameFromStore(this, this._nameDimIdx, i)), o == null && (o = ""), o;
    }, r.prototype._getCategory = function(n, i) {
      var o = this._store.get(n, i), a = this._store.getOrdinalMeta(n);
      return a ? a.categories[o] : o;
    }, r.prototype.getId = function(n) {
      return getId(this, this.getRawIndex(n));
    }, r.prototype.count = function() {
      return this._store.count();
    }, r.prototype.get = function(n, i) {
      var o = this._store, a = this._dimInfos[n];
      if (a)
        return o.get(a.storeDimIndex, i);
    }, r.prototype.getByRawIndex = function(n, i) {
      var o = this._store, a = this._dimInfos[n];
      if (a)
        return o.getByRawIndex(a.storeDimIndex, i);
    }, r.prototype.getIndices = function() {
      return this._store.getIndices();
    }, r.prototype.getDataExtent = function(n) {
      return this._store.getDataExtent(this._getStoreDimIndex(n));
    }, r.prototype.getSum = function(n) {
      return this._store.getSum(this._getStoreDimIndex(n));
    }, r.prototype.getMedian = function(n) {
      return this._store.getMedian(this._getStoreDimIndex(n));
    }, r.prototype.getValues = function(n, i) {
      var o = this, a = this._store;
      return isArray$1(n) ? a.getValues(map(n, function(u) {
        return o._getStoreDimIndex(u);
      }), i) : a.getValues(n);
    }, r.prototype.hasValue = function(n) {
      for (var i = this._dimSummary.dataDimIndicesOnCoord, o = 0, a = i.length; o < a; o++)
        if (isNaN(this._store.get(i[o], n)))
          return !1;
      return !0;
    }, r.prototype.indexOfName = function(n) {
      for (var i = 0, o = this._store.count(); i < o; i++)
        if (this.getName(i) === n)
          return i;
      return -1;
    }, r.prototype.getRawIndex = function(n) {
      return this._store.getRawIndex(n);
    }, r.prototype.indexOfRawIndex = function(n) {
      return this._store.indexOfRawIndex(n);
    }, r.prototype.rawIndexOf = function(n, i) {
      var o = n && this._invertedIndicesMap[n];
      if (process.env.NODE_ENV !== "production" && !o)
        throw new Error("Do not supported yet");
      var a = o[i];
      return a == null || isNaN(a) ? INDEX_NOT_FOUND : a;
    }, r.prototype.indicesOfNearest = function(n, i, o) {
      return this._store.indicesOfNearest(this._getStoreDimIndex(n), i, o);
    }, r.prototype.each = function(n, i, o) {
      isFunction$1(n) && (o = i, i = n, n = []);
      var a = o || this, u = map(normalizeDimensions(n), this._getStoreDimIndex, this);
      this._store.each(u, a ? bind$1(i, a) : i);
    }, r.prototype.filterSelf = function(n, i, o) {
      isFunction$1(n) && (o = i, i = n, n = []);
      var a = o || this, u = map(normalizeDimensions(n), this._getStoreDimIndex, this);
      return this._store = this._store.filter(u, a ? bind$1(i, a) : i), this;
    }, r.prototype.selectRange = function(n) {
      var i = this, o = {}, a = keys(n);
      return each$4(a, function(u) {
        var c = i._getStoreDimIndex(u);
        o[c] = n[u];
      }), this._store = this._store.selectRange(o), this;
    }, r.prototype.mapArray = function(n, i, o) {
      isFunction$1(n) && (o = i, i = n, n = []), o = o || this;
      var a = [];
      return this.each(n, function() {
        a.push(i && i.apply(this, arguments));
      }, o), a;
    }, r.prototype.map = function(n, i, o, a) {
      var u = o || a || this, c = map(normalizeDimensions(n), this._getStoreDimIndex, this), f = cloneListForMapAndSample(this);
      return f._store = this._store.map(c, u ? bind$1(i, u) : i), f;
    }, r.prototype.modify = function(n, i, o, a) {
      var u = this, c = o || a || this;
      process.env.NODE_ENV !== "production" && each$4(normalizeDimensions(n), function(d) {
        var p = u.getDimensionInfo(d);
        p.isCalculationCoord || console.error("Danger: only stack dimension can be modified");
      });
      var f = map(normalizeDimensions(n), this._getStoreDimIndex, this);
      this._store.modify(f, c ? bind$1(i, c) : i);
    }, r.prototype.downSample = function(n, i, o, a) {
      var u = cloneListForMapAndSample(this);
      return u._store = this._store.downSample(this._getStoreDimIndex(n), i, o, a), u;
    }, r.prototype.lttbDownSample = function(n, i) {
      var o = cloneListForMapAndSample(this);
      return o._store = this._store.lttbDownSample(this._getStoreDimIndex(n), i), o;
    }, r.prototype.getRawDataItem = function(n) {
      return this._store.getRawDataItem(n);
    }, r.prototype.getItemModel = function(n) {
      var i = this.hostModel, o = this.getRawDataItem(n);
      return new Model$1(o, i, i && i.ecModel);
    }, r.prototype.diff = function(n) {
      var i = this;
      return new DataDiffer$1(n ? n.getStore().getIndices() : [], this.getStore().getIndices(), function(o) {
        return getId(n, o);
      }, function(o) {
        return getId(i, o);
      });
    }, r.prototype.getVisual = function(n) {
      var i = this._visual;
      return i && i[n];
    }, r.prototype.setVisual = function(n, i) {
      this._visual = this._visual || {}, isObject$1(n) ? extend(this._visual, n) : this._visual[n] = i;
    }, r.prototype.getItemVisual = function(n, i) {
      var o = this._itemVisuals[n], a = o && o[i];
      return a ?? this.getVisual(i);
    }, r.prototype.hasItemVisual = function() {
      return this._itemVisuals.length > 0;
    }, r.prototype.ensureUniqueItemVisual = function(n, i) {
      var o = this._itemVisuals, a = o[n];
      a || (a = o[n] = {});
      var u = a[i];
      return u == null && (u = this.getVisual(i), isArray$1(u) ? u = u.slice() : isObject$1(u) && (u = extend({}, u)), a[i] = u), u;
    }, r.prototype.setItemVisual = function(n, i, o) {
      var a = this._itemVisuals[n] || {};
      this._itemVisuals[n] = a, isObject$1(i) ? extend(a, i) : a[i] = o;
    }, r.prototype.clearAllVisual = function() {
      this._visual = {}, this._itemVisuals = [];
    }, r.prototype.setLayout = function(n, i) {
      isObject$1(n) ? extend(this._layout, n) : this._layout[n] = i;
    }, r.prototype.getLayout = function(n) {
      return this._layout[n];
    }, r.prototype.getItemLayout = function(n) {
      return this._itemLayouts[n];
    }, r.prototype.setItemLayout = function(n, i, o) {
      this._itemLayouts[n] = o ? extend(this._itemLayouts[n] || {}, i) : i;
    }, r.prototype.clearItemLayouts = function() {
      this._itemLayouts.length = 0;
    }, r.prototype.setItemGraphicEl = function(n, i) {
      var o = this.hostModel && this.hostModel.seriesIndex;
      setCommonECData(o, this.dataType, n, i), this._graphicEls[n] = i;
    }, r.prototype.getItemGraphicEl = function(n) {
      return this._graphicEls[n];
    }, r.prototype.eachItemGraphicEl = function(n, i) {
      each$4(this._graphicEls, function(o, a) {
        o && n && n.call(i, o, a);
      });
    }, r.prototype.cloneShallow = function(n) {
      return n || (n = new r(this._schema ? this._schema : map(this.dimensions, this._getDimInfo, this), this.hostModel)), transferProperties(n, this), n._store = this._store, n;
    }, r.prototype.wrapMethod = function(n, i) {
      var o = this[n];
      isFunction$1(o) && (this.__wrappedMethods = this.__wrappedMethods || [], this.__wrappedMethods.push(n), this[n] = function() {
        var a = o.apply(this, arguments);
        return i.apply(this, [a].concat(slice(arguments)));
      });
    }, r.internalField = function() {
      prepareInvertedIndex = function(n) {
        var i = n._invertedIndicesMap;
        each$4(i, function(o, a) {
          var u = n._dimInfos[a], c = u.ordinalMeta, f = n._store;
          if (c) {
            o = i[a] = new CtorInt32Array(c.categories.length);
            for (var d = 0; d < o.length; d++)
              o[d] = INDEX_NOT_FOUND;
            for (var d = 0; d < f.count(); d++)
              o[f.get(u.storeDimIndex, d)] = d;
          }
        });
      }, getIdNameFromStore = function(n, i, o) {
        return convertOptionIdName(n._getCategory(i, o), null);
      }, getId = function(n, i) {
        var o = n._idList[i];
        return o == null && n._idDimIdx != null && (o = getIdNameFromStore(n, n._idDimIdx, i)), o == null && (o = ID_PREFIX + i), o;
      }, normalizeDimensions = function(n) {
        return isArray$1(n) || (n = n != null ? [n] : []), n;
      }, cloneListForMapAndSample = function(n) {
        var i = new r(n._schema ? n._schema : map(n.dimensions, n._getDimInfo, n), n.hostModel);
        return transferProperties(i, n), i;
      }, transferProperties = function(n, i) {
        each$4(TRANSFERABLE_PROPERTIES.concat(i.__wrappedMethods || []), function(o) {
          i.hasOwnProperty(o) && (n[o] = i[o]);
        }), n.__wrappedMethods = i.__wrappedMethods, each$4(CLONE_PROPERTIES, function(o) {
          n[o] = clone$2(i[o]);
        }), n._calculationInfo = extend({}, i._calculationInfo);
      }, makeIdFromName = function(n, i) {
        var o = n._nameList, a = n._idList, u = n._nameDimIdx, c = n._idDimIdx, f = o[i], d = a[i];
        if (f == null && u != null && (o[i] = f = getIdNameFromStore(n, u, i)), d == null && c != null && (a[i] = d = getIdNameFromStore(n, c, i)), d == null && f != null) {
          var p = n._nameRepeatCount, y = p[f] = (p[f] || 0) + 1;
          d = f, y > 1 && (d += "__ec__" + y), a[i] = d;
        }
      };
    }(), r;
  }()
);
const SeriesData$1 = SeriesData;
function prepareSeriesDataSchema(r, n) {
  isSourceInstance(r) || (r = createSourceFromSeriesDataOption(r)), n = n || {};
  var i = n.coordDimensions || [], o = n.dimensionsDefine || r.dimensionsDefine || [], a = createHashMap(), u = [], c = getDimCount(r, i, o, n.dimensionsCount), f = n.canOmitUnusedDimensions && shouldOmitUnusedDimensions(c), d = o === r.dimensionsDefine, p = d ? ensureSourceDimNameMap(r) : createDimNameMap(o), y = n.encodeDefine;
  !y && n.encodeDefaulter && (y = n.encodeDefaulter(r, c));
  for (var v = createHashMap(y), g = new CtorInt32Array$1(c), _ = 0; _ < g.length; _++)
    g[_] = -1;
  function b(F) {
    var re = g[F];
    if (re < 0) {
      var D = o[F], Y = isObject$3(D) ? D : {
        name: D
      }, z = new SeriesDimensionDefine$1(), pe = Y.name;
      pe != null && p.get(pe) != null && (z.name = z.displayName = pe), Y.type != null && (z.type = Y.type), Y.displayName != null && (z.displayName = Y.displayName);
      var ue = u.length;
      return g[F] = ue, z.storeDimIndex = F, u.push(z), z;
    }
    return u[re];
  }
  if (!f)
    for (var _ = 0; _ < c; _++)
      b(_);
  v.each(function(F, re) {
    var D = normalizeToArray(F).slice();
    if (D.length === 1 && !isString$2(D[0]) && D[0] < 0) {
      v.set(re, !1);
      return;
    }
    var Y = v.set(re, []);
    each$4(D, function(z, pe) {
      var ue = isString$2(z) ? p.get(z) : z;
      ue != null && ue < c && (Y[pe] = ue, w(b(ue), re, pe));
    });
  });
  var A = 0;
  each$4(i, function(F) {
    var re, D, Y, z;
    if (isString$2(F))
      re = F, z = {};
    else {
      z = F, re = z.name;
      var pe = z.ordinalMeta;
      z.ordinalMeta = null, z = extend({}, z), z.ordinalMeta = pe, D = z.dimsDef, Y = z.otherDims, z.name = z.coordDim = z.coordDimIndex = z.dimsDef = z.otherDims = null;
    }
    var ue = v.get(re);
    if (ue !== !1) {
      if (ue = normalizeToArray(ue), !ue.length)
        for (var Ce = 0; Ce < (D && D.length || 1); Ce++) {
          for (; A < c && b(A).coordDim != null; )
            A++;
          A < c && ue.push(A++);
        }
      each$4(ue, function(Fe, Ie) {
        var Pt = b(Fe);
        if (d && z.type != null && (Pt.type = z.type), w(defaults(Pt, z), re, Ie), Pt.name == null && D) {
          var xe = D[Ie];
          !isObject$3(xe) && (xe = {
            name: xe
          }), Pt.name = Pt.displayName = xe.name, Pt.defaultTooltip = xe.defaultTooltip;
        }
        Y && defaults(Pt.otherDims, Y);
      });
    }
  });
  function w(F, re, D) {
    VISUAL_DIMENSIONS.get(re) != null ? F.otherDims[re] = D : (F.coordDim = re, F.coordDimIndex = D, a.set(re, !0));
  }
  var S = n.generateCoord, x = n.generateCoordCount, T = x != null;
  x = S ? x || 1 : 0;
  var L = S || "value";
  function k(F) {
    F.name == null && (F.name = F.coordDim);
  }
  if (f)
    each$4(u, function(F) {
      k(F);
    }), u.sort(function(F, re) {
      return F.storeDimIndex - re.storeDimIndex;
    });
  else
    for (var M = 0; M < c; M++) {
      var O = b(M), ie = O.coordDim;
      ie == null && (O.coordDim = genCoordDimName(L, a, T), O.coordDimIndex = 0, (!S || x <= 0) && (O.isExtraCoord = !0), x--), k(O), O.type == null && (guessOrdinal(r, M) === BE_ORDINAL.Must || O.isExtraCoord && (O.otherDims.itemName != null || O.otherDims.seriesName != null)) && (O.type = "ordinal");
    }
  return removeDuplication(u), new SeriesDataSchema({
    source: r,
    dimensions: u,
    fullDimensionCount: c,
    dimensionOmitted: f
  });
}
function removeDuplication(r) {
  for (var n = createHashMap(), i = 0; i < r.length; i++) {
    var o = r[i], a = o.name, u = n.get(a) || 0;
    u > 0 && (o.name = a + (u - 1)), u++, n.set(a, u);
  }
}
function getDimCount(r, n, i, o) {
  var a = Math.max(r.dimensionsDetectedCount || 1, n.length, i.length, o || 0);
  return each$4(n, function(u) {
    var c;
    isObject$3(u) && (c = u.dimsDef) && (a = Math.max(a, c.length));
  }), a;
}
function genCoordDimName(r, n, i) {
  if (i || n.hasKey(r)) {
    for (var o = 0; n.hasKey(r + o); )
      o++;
    r += o;
  }
  return n.set(r, !0), r;
}
function getAxisRawValue(r, n) {
  return r.type === "category" ? r.scale.getLabel(n) : n.value;
}
function getOptionCategoryInterval(r) {
  var n = r.get("interval");
  return n ?? "auto";
}
function shouldShowAllLabels(r) {
  return r.type === "category" && getOptionCategoryInterval(r.getLabelModel()) === 0;
}
var extensions = [], extensionRegisters = {
  registerPreprocessor,
  registerProcessor,
  registerPostInit,
  registerPostUpdate,
  registerUpdateLifecycle,
  registerAction,
  registerCoordinateSystem,
  registerLayout,
  registerVisual,
  registerTransform,
  registerLoading,
  registerMap,
  registerImpl,
  PRIORITY,
  ComponentModel: ComponentModel$1,
  ComponentView: ComponentView$1,
  SeriesModel: SeriesModel$1,
  ChartView: ChartView$1,
  // TODO Use ComponentModel and SeriesModel instead of Constructor
  registerComponentModel: function(r) {
    ComponentModel$1.registerClass(r);
  },
  registerComponentView: function(r) {
    ComponentView$1.registerClass(r);
  },
  registerSeriesModel: function(r) {
    SeriesModel$1.registerClass(r);
  },
  registerChartView: function(r) {
    ChartView$1.registerClass(r);
  },
  registerSubTypeDefaulter: function(r, n) {
    ComponentModel$1.registerSubTypeDefaulter(r, n);
  },
  registerPainter: function(r, n) {
    registerPainter(r, n);
  }
};
function use(r) {
  if (isArray$1(r)) {
    each$4(r, function(n) {
      use(n);
    });
    return;
  }
  indexOf(extensions, r) >= 0 || (extensions.push(r), isFunction$1(r) && (r = {
    install: r
  }), r.install(extensionRegisters));
}
PathProxy$1.CMD;
function projectPointToLine(r, n, i, o, a, u, c, f) {
  var d = a - r, p = u - n, y = i - r, v = o - n, g = Math.sqrt(y * y + v * v);
  y /= g, v /= g;
  var _ = d * y + p * v, b = _ / g;
  f && (b = Math.min(Math.max(b, 0), 1)), b *= g;
  var A = c[0] = r + b * y, w = c[1] = n + b * v;
  return Math.sqrt((A - a) * (A - a) + (w - u) * (w - u));
}
var pt0 = new Point$1(), pt1 = new Point$1(), pt2 = new Point$1(), dir = new Point$1(), dir2 = new Point$1(), tmpArr = [], tmpProjPoint = new Point$1();
function limitTurnAngle(r, n) {
  if (n <= 180 && n > 0) {
    n = n / 180 * Math.PI, pt0.fromArray(r[0]), pt1.fromArray(r[1]), pt2.fromArray(r[2]), Point$1.sub(dir, pt0, pt1), Point$1.sub(dir2, pt2, pt1);
    var i = dir.len(), o = dir2.len();
    if (!(i < 1e-3 || o < 1e-3)) {
      dir.scale(1 / i), dir2.scale(1 / o);
      var a = dir.dot(dir2), u = Math.cos(n);
      if (u < a) {
        var c = projectPointToLine(pt1.x, pt1.y, pt2.x, pt2.y, pt0.x, pt0.y, tmpArr, !1);
        tmpProjPoint.fromArray(tmpArr), tmpProjPoint.scaleAndAdd(dir2, c / Math.tan(Math.PI - n));
        var f = pt2.x !== pt1.x ? (tmpProjPoint.x - pt1.x) / (pt2.x - pt1.x) : (tmpProjPoint.y - pt1.y) / (pt2.y - pt1.y);
        if (isNaN(f))
          return;
        f < 0 ? Point$1.copy(tmpProjPoint, pt1) : f > 1 && Point$1.copy(tmpProjPoint, pt2), tmpProjPoint.toArray(r[1]);
      }
    }
  }
}
function limitSurfaceAngle(r, n, i) {
  if (i <= 180 && i > 0) {
    i = i / 180 * Math.PI, pt0.fromArray(r[0]), pt1.fromArray(r[1]), pt2.fromArray(r[2]), Point$1.sub(dir, pt1, pt0), Point$1.sub(dir2, pt2, pt1);
    var o = dir.len(), a = dir2.len();
    if (!(o < 1e-3 || a < 1e-3)) {
      dir.scale(1 / o), dir2.scale(1 / a);
      var u = dir.dot(n), c = Math.cos(i);
      if (u < c) {
        var f = projectPointToLine(pt1.x, pt1.y, pt2.x, pt2.y, pt0.x, pt0.y, tmpArr, !1);
        tmpProjPoint.fromArray(tmpArr);
        var d = Math.PI / 2, p = Math.acos(dir2.dot(n)), y = d + p - i;
        if (y >= d)
          Point$1.copy(tmpProjPoint, pt2);
        else {
          tmpProjPoint.scaleAndAdd(dir2, f / Math.tan(Math.PI / 2 - y));
          var v = pt2.x !== pt1.x ? (tmpProjPoint.x - pt1.x) / (pt2.x - pt1.x) : (tmpProjPoint.y - pt1.y) / (pt2.y - pt1.y);
          if (isNaN(v))
            return;
          v < 0 ? Point$1.copy(tmpProjPoint, pt1) : v > 1 && Point$1.copy(tmpProjPoint, pt2);
        }
        tmpProjPoint.toArray(r[1]);
      }
    }
  }
}
function setLabelLineState(r, n, i, o) {
  var a = i === "normal", u = a ? r : r.ensureState(i);
  u.ignore = n;
  var c = o.get("smooth");
  c && c === !0 && (c = 0.3), u.shape = u.shape || {}, c > 0 && (u.shape.smooth = c);
  var f = o.getModel("lineStyle").getLineStyle();
  a ? r.useStyle(f) : u.style = f;
}
function buildLabelLinePath(r, n) {
  var i = n.smooth, o = n.points;
  if (o)
    if (r.moveTo(o[0][0], o[0][1]), i > 0 && o.length >= 3) {
      var a = dist$1(o[0], o[1]), u = dist$1(o[1], o[2]);
      if (!a || !u) {
        r.lineTo(o[1][0], o[1][1]), r.lineTo(o[2][0], o[2][1]);
        return;
      }
      var c = Math.min(a, u) * i, f = lerp([], o[1], o[0], c / a), d = lerp([], o[1], o[2], c / u), p = lerp([], f, d, 0.5);
      r.bezierCurveTo(f[0], f[1], f[0], f[1], p[0], p[1]), r.bezierCurveTo(d[0], d[1], d[0], d[1], o[2][0], o[2][1]);
    } else
      for (var y = 1; y < o.length; y++)
        r.lineTo(o[y][0], o[y][1]);
}
function setLabelLineStyle(r, n, i) {
  var o = r.getTextGuideLine(), a = r.getTextContent();
  if (!a) {
    o && r.removeTextGuideLine();
    return;
  }
  for (var u = n.normal, c = u.get("show"), f = a.ignore, d = 0; d < DISPLAY_STATES.length; d++) {
    var p = DISPLAY_STATES[d], y = n[p], v = p === "normal";
    if (y) {
      var g = y.get("show"), _ = v ? f : retrieve2(a.states[p] && a.states[p].ignore, f);
      if (_ || !retrieve2(g, c)) {
        var b = v ? o : o && o.states[p];
        b && (b.ignore = !0);
        continue;
      }
      o || (o = new Polyline$1(), r.setTextGuideLine(o), !v && (f || !c) && setLabelLineState(o, !0, "normal", n.normal), r.stateProxy && (o.stateProxy = r.stateProxy)), setLabelLineState(o, !1, p, y);
    }
  }
  if (o) {
    defaults(o.style, i), o.style.fill = null;
    var A = u.get("showAbove"), w = r.textGuideLineConfig = r.textGuideLineConfig || {};
    w.showAbove = A || !1, o.buildPath = buildLabelLinePath;
  }
}
function getLabelLineStatesModels(r, n) {
  n = n || "labelLine";
  for (var i = {
    normal: r.getModel(n)
  }, o = 0; o < SPECIAL_STATES.length; o++) {
    var a = SPECIAL_STATES[o];
    i[a] = r.getModel([a, n]);
  }
  return i;
}
function prepareLayoutList(r) {
  for (var n = [], i = 0; i < r.length; i++) {
    var o = r[i];
    if (!o.defaultAttr.ignore) {
      var a = o.label, u = a.getComputedTransform(), c = a.getBoundingRect(), f = !u || u[1] < 1e-5 && u[2] < 1e-5, d = a.style.margin || 0, p = c.clone();
      p.applyTransform(u), p.x -= d / 2, p.y -= d / 2, p.width += d, p.height += d;
      var y = f ? new OrientedBoundingRect$1(c, u) : null;
      n.push({
        label: a,
        labelLine: o.labelLine,
        rect: p,
        localRect: c,
        obb: y,
        priority: o.priority,
        defaultAttr: o.defaultAttr,
        layoutOption: o.computedLayoutOption,
        axisAligned: f,
        transform: u
      });
    }
  }
  return n;
}
function shiftLayout(r, n, i, o, a, u) {
  var c = r.length;
  if (c < 2)
    return;
  r.sort(function(ie, F) {
    return ie.rect[n] - F.rect[n];
  });
  for (var f = 0, d, p = !1, y = 0, v = 0; v < c; v++) {
    var g = r[v], _ = g.rect;
    d = _[n] - f, d < 0 && (_[n] -= d, g.label[n] -= d, p = !0);
    var b = Math.max(-d, 0);
    y += b, f = _[n] + _[i];
  }
  y > 0 && u && k(-y / c, 0, c);
  var A = r[0], w = r[c - 1], S, x;
  T(), S < 0 && M(-S, 0.8), x < 0 && M(x, 0.8), T(), L(S, x, 1), L(x, S, -1), T(), S < 0 && O(-S), x < 0 && O(x);
  function T() {
    S = A.rect[n] - o, x = a - w.rect[n] - w.rect[i];
  }
  function L(ie, F, re) {
    if (ie < 0) {
      var D = Math.min(F, -ie);
      if (D > 0) {
        k(D * re, 0, c);
        var Y = D + ie;
        Y < 0 && M(-Y * re, 1);
      } else
        M(-ie * re, 1);
    }
  }
  function k(ie, F, re) {
    ie !== 0 && (p = !0);
    for (var D = F; D < re; D++) {
      var Y = r[D], z = Y.rect;
      z[n] += ie, Y.label[n] += ie;
    }
  }
  function M(ie, F) {
    for (var re = [], D = 0, Y = 1; Y < c; Y++) {
      var z = r[Y - 1].rect, pe = Math.max(r[Y].rect[n] - z[n] - z[i], 0);
      re.push(pe), D += pe;
    }
    if (D) {
      var ue = Math.min(Math.abs(ie) / D, F);
      if (ie > 0)
        for (var Y = 0; Y < c - 1; Y++) {
          var Ce = re[Y] * ue;
          k(Ce, 0, Y + 1);
        }
      else
        for (var Y = c - 1; Y > 0; Y--) {
          var Ce = re[Y - 1] * ue;
          k(-Ce, Y, c);
        }
    }
  }
  function O(ie) {
    var F = ie < 0 ? -1 : 1;
    ie = Math.abs(ie);
    for (var re = Math.ceil(ie / (c - 1)), D = 0; D < c - 1; D++)
      if (F > 0 ? k(re, 0, D + 1) : k(-re, c - D - 1, c), ie -= re, ie <= 0)
        return;
  }
  return p;
}
function shiftLayoutOnY(r, n, i, o) {
  return shiftLayout(r, "y", "height", n, i, o);
}
function hideOverlap(r) {
  var n = [];
  r.sort(function(A, w) {
    return w.priority - A.priority;
  });
  var i = new BoundingRect$1(0, 0, 0, 0);
  function o(A) {
    if (!A.ignore) {
      var w = A.ensureState("emphasis");
      w.ignore == null && (w.ignore = !1);
    }
    A.ignore = !0;
  }
  for (var a = 0; a < r.length; a++) {
    var u = r[a], c = u.axisAligned, f = u.localRect, d = u.transform, p = u.label, y = u.labelLine;
    i.copy(u.rect), i.width -= 0.1, i.height -= 0.1, i.x += 0.05, i.y += 0.05;
    for (var v = u.obb, g = !1, _ = 0; _ < n.length; _++) {
      var b = n[_];
      if (i.intersect(b.rect)) {
        if (c && b.axisAligned) {
          g = !0;
          break;
        }
        if (b.obb || (b.obb = new OrientedBoundingRect$1(b.localRect, b.transform)), v || (v = new OrientedBoundingRect$1(f, d)), v.intersect(b.obb)) {
          g = !0;
          break;
        }
      }
    }
    g ? (o(p), y && o(y)) : (p.attr("ignore", u.defaultAttr.ignore), y && y.attr("ignore", u.defaultAttr.labelGuideIgnore), n.push(u));
  }
}
var mathSin = Math.sin, mathCos = Math.cos, PI$1 = Math.PI, PI2$1 = Math.PI * 2, degree = 180 / PI$1, SVGPathRebuilder = function() {
  function r() {
  }
  return r.prototype.reset = function(n) {
    this._start = !0, this._d = [], this._str = "", this._p = Math.pow(10, n || 4);
  }, r.prototype.moveTo = function(n, i) {
    this._add("M", n, i);
  }, r.prototype.lineTo = function(n, i) {
    this._add("L", n, i);
  }, r.prototype.bezierCurveTo = function(n, i, o, a, u, c) {
    this._add("C", n, i, o, a, u, c);
  }, r.prototype.quadraticCurveTo = function(n, i, o, a) {
    this._add("Q", n, i, o, a);
  }, r.prototype.arc = function(n, i, o, a, u, c) {
    this.ellipse(n, i, o, o, 0, a, u, c);
  }, r.prototype.ellipse = function(n, i, o, a, u, c, f, d) {
    var p = f - c, y = !d, v = Math.abs(p), g = isAroundZero(v - PI2$1) || (y ? p >= PI2$1 : -p >= PI2$1), _ = p > 0 ? p % PI2$1 : p % PI2$1 + PI2$1, b = !1;
    g ? b = !0 : isAroundZero(v) ? b = !1 : b = _ >= PI$1 == !!y;
    var A = n + o * mathCos(c), w = i + a * mathSin(c);
    this._start && this._add("M", A, w);
    var S = Math.round(u * degree);
    if (g) {
      var x = 1 / this._p, T = (y ? 1 : -1) * (PI2$1 - x);
      this._add("A", o, a, S, 1, +y, n + o * mathCos(c + T), i + a * mathSin(c + T)), x > 0.01 && this._add("A", o, a, S, 0, +y, A, w);
    } else {
      var L = n + o * mathCos(f), k = i + a * mathSin(f);
      this._add("A", o, a, S, +b, +y, L, k);
    }
  }, r.prototype.rect = function(n, i, o, a) {
    this._add("M", n, i), this._add("l", o, 0), this._add("l", 0, a), this._add("l", -o, 0), this._add("Z");
  }, r.prototype.closePath = function() {
    this._d.length > 0 && this._add("Z");
  }, r.prototype._add = function(n, i, o, a, u, c, f, d, p) {
    for (var y = [], v = this._p, g = 1; g < arguments.length; g++) {
      var _ = arguments[g];
      if (isNaN(_)) {
        this._invalid = !0;
        return;
      }
      y.push(Math.round(_ * v) / v);
    }
    this._d.push(n + y.join(" ")), this._start = n === "Z";
  }, r.prototype.generateStr = function() {
    this._str = this._invalid ? "" : this._d.join(""), this._d = [];
  }, r.prototype.getStr = function() {
    return this._str;
  }, r;
}();
const SVGPathRebuilder$1 = SVGPathRebuilder;
var NONE = "none", mathRound = Math.round;
function pathHasFill(r) {
  var n = r.fill;
  return n != null && n !== NONE;
}
function pathHasStroke(r) {
  var n = r.stroke;
  return n != null && n !== NONE;
}
var strokeProps = ["lineCap", "miterLimit", "lineJoin"], svgStrokeProps = map$1(strokeProps, function(r) {
  return "stroke-" + r.toLowerCase();
});
function mapStyleToAttrs(r, n, i, o) {
  var a = n.opacity == null ? 1 : n.opacity;
  if (i instanceof ZRImage$1) {
    r("opacity", a);
    return;
  }
  if (pathHasFill(n)) {
    var u = normalizeColor(n.fill);
    r("fill", u.color);
    var c = n.fillOpacity != null ? n.fillOpacity * u.opacity * a : u.opacity * a;
    (o || c < 1) && r("fill-opacity", c);
  } else
    r("fill", NONE);
  if (pathHasStroke(n)) {
    var f = normalizeColor(n.stroke);
    r("stroke", f.color);
    var d = n.strokeNoScale ? i.getLineScale() : 1, p = d ? (n.lineWidth || 0) / d : 0, y = n.strokeOpacity != null ? n.strokeOpacity * f.opacity * a : f.opacity * a, v = n.strokeFirst;
    if ((o || p !== 1) && r("stroke-width", p), (o || v) && r("paint-order", v ? "stroke" : "fill"), (o || y < 1) && r("stroke-opacity", y), n.lineDash) {
      var g = getLineDash(i), _ = g[0], b = g[1];
      _ && (b = mathRound(b || 0), r("stroke-dasharray", _.join(",")), (b || o) && r("stroke-dashoffset", b));
    } else
      o && r("stroke-dasharray", NONE);
    for (var A = 0; A < strokeProps.length; A++) {
      var w = strokeProps[A];
      if (o || n[w] !== DEFAULT_PATH_STYLE[w]) {
        var S = n[w] || DEFAULT_PATH_STYLE[w];
        S && r(svgStrokeProps[A], S);
      }
    }
  } else
    o && r("stroke", NONE);
}
var SVGNS = "http://www.w3.org/2000/svg", XLINKNS = "http://www.w3.org/1999/xlink", XMLNS = "http://www.w3.org/2000/xmlns/", XML_NAMESPACE = "http://www.w3.org/XML/1998/namespace";
function createElement(r) {
  return document.createElementNS(SVGNS, r);
}
function createVNode(r, n, i, o, a) {
  return {
    tag: r,
    attrs: i || {},
    children: o,
    text: a,
    key: n
  };
}
function createElementOpen(r, n) {
  var i = [];
  if (n)
    for (var o in n) {
      var a = n[o], u = o;
      a !== !1 && (a !== !0 && a != null && (u += '="' + a + '"'), i.push(u));
    }
  return "<" + r + " " + i.join(" ") + ">";
}
function createElementClose(r) {
  return "</" + r + ">";
}
function vNodeToString(r, n) {
  n = n || {};
  var i = n.newline ? `
` : "";
  function o(a) {
    var u = a.children, c = a.tag, f = a.attrs;
    return createElementOpen(c, f) + encodeHTML(a.text) + (u ? "" + i + map$1(u, function(d) {
      return o(d);
    }).join(i) + i : "") + createElementClose(c);
  }
  return o(r);
}
function getCssString(r, n, i) {
  i = i || {};
  var o = i.newline ? `
` : "", a = " {" + o, u = o + "}", c = map$1(keys(r), function(d) {
    return d + a + map$1(keys(r[d]), function(p) {
      return p + ":" + r[d][p] + ";";
    }).join(o) + u;
  }).join(o), f = map$1(keys(n), function(d) {
    return "@keyframes " + d + a + map$1(keys(n[d]), function(p) {
      return p + a + map$1(keys(n[d][p]), function(y) {
        var v = n[d][p][y];
        return y === "d" && (v = 'path("' + v + '")'), y + ":" + v + ";";
      }).join(o) + u;
    }).join(o) + u;
  }).join(o);
  return !c && !f ? "" : ["<![CDATA[", c, f, "]]>"].join(o);
}
function createBrushScope(r) {
  return {
    zrId: r,
    shadowCache: {},
    patternCache: {},
    gradientCache: {},
    clipPathCache: {},
    defs: {},
    cssNodes: {},
    cssAnims: {},
    cssClassIdx: 0,
    cssAnimIdx: 0,
    shadowIdx: 0,
    gradientIdx: 0,
    patternIdx: 0,
    clipPathIdx: 0
  };
}
function createSVGVNode(r, n, i, o) {
  return createVNode("svg", "root", {
    width: r,
    height: n,
    xmlns: SVGNS,
    "xmlns:xlink": XLINKNS,
    version: "1.1",
    baseProfile: "full",
    viewBox: o ? "0 0 " + r + " " + n : !1
  }, i);
}
var EASING_MAP = {
  cubicIn: "0.32,0,0.67,0",
  cubicOut: "0.33,1,0.68,1",
  cubicInOut: "0.65,0,0.35,1",
  quadraticIn: "0.11,0,0.5,0",
  quadraticOut: "0.5,1,0.89,1",
  quadraticInOut: "0.45,0,0.55,1",
  quarticIn: "0.5,0,0.75,0",
  quarticOut: "0.25,1,0.5,1",
  quarticInOut: "0.76,0,0.24,1",
  quinticIn: "0.64,0,0.78,0",
  quinticOut: "0.22,1,0.36,1",
  quinticInOut: "0.83,0,0.17,1",
  sinusoidalIn: "0.12,0,0.39,0",
  sinusoidalOut: "0.61,1,0.88,1",
  sinusoidalInOut: "0.37,0,0.63,1",
  exponentialIn: "0.7,0,0.84,0",
  exponentialOut: "0.16,1,0.3,1",
  exponentialInOut: "0.87,0,0.13,1",
  circularIn: "0.55,0,1,0.45",
  circularOut: "0,0.55,0.45,1",
  circularInOut: "0.85,0,0.15,1"
}, transformOriginKey = "transform-origin";
function buildPathString(r, n, i) {
  var o = extend({}, r.shape);
  extend(o, n), r.buildPath(i, o);
  var a = new SVGPathRebuilder$1();
  return a.reset(getPathPrecision(r)), i.rebuildPath(a, 1), a.generateStr(), a.getStr();
}
function setTransformOrigin(r, n) {
  var i = n.originX, o = n.originY;
  (i || o) && (r[transformOriginKey] = i + "px " + o + "px");
}
var ANIMATE_STYLE_MAP = {
  fill: "fill",
  opacity: "opacity",
  lineWidth: "stroke-width",
  lineDashOffset: "stroke-dashoffset"
};
function addAnimation(r, n) {
  var i = n.zrId + "-ani-" + n.cssAnimIdx++;
  return n.cssAnims[i] = r, i;
}
function createCompoundPathCSSAnimation(r, n, i) {
  var o = r.shape.paths, a = {}, u, c;
  if (each$4(o, function(d) {
    var p = createBrushScope(i.zrId);
    p.animation = !0, createCSSAnimation(d, {}, p, !0);
    var y = p.cssAnims, v = p.cssNodes, g = keys(y), _ = g.length;
    if (_) {
      c = g[_ - 1];
      var b = y[c];
      for (var A in b) {
        var w = b[A];
        a[A] = a[A] || { d: "" }, a[A].d += w.d || "";
      }
      for (var S in v) {
        var x = v[S].animation;
        x.indexOf(c) >= 0 && (u = x);
      }
    }
  }), !!u) {
    n.d = !1;
    var f = addAnimation(a, i);
    return u.replace(c, f);
  }
}
function getEasingFunc(r) {
  return isString$2(r) ? EASING_MAP[r] ? "cubic-bezier(" + EASING_MAP[r] + ")" : createCubicEasingFunc(r) ? r : "" : "";
}
function createCSSAnimation(r, n, i, o) {
  var a = r.animators, u = a.length, c = [];
  if (r instanceof CompoundPath$1) {
    var f = createCompoundPathCSSAnimation(r, n, i);
    if (f)
      c.push(f);
    else if (!u)
      return;
  } else if (!u)
    return;
  for (var d = {}, p = 0; p < u; p++) {
    var y = a[p], v = [y.getMaxTime() / 1e3 + "s"], g = getEasingFunc(y.getClip().easing), _ = y.getDelay();
    g ? v.push(g) : v.push("linear"), _ && v.push(_ / 1e3 + "s"), y.getLoop() && v.push("infinite");
    var b = v.join(" ");
    d[b] = d[b] || [b, []], d[b][1].push(y);
  }
  function A(x) {
    var T = x[1], L = T.length, k = {}, M = {}, O = {}, ie = "animation-timing-function";
    function F(Cn, ze, _e) {
      for (var de = Cn.getTracks(), Et = Cn.getMaxTime(), Oe = 0; Oe < de.length; Oe++) {
        var Ve = de[Oe];
        if (Ve.needsAnimate()) {
          var Dt = Ve.keyframes, hn = Ve.propName;
          if (_e && (hn = _e(hn)), hn)
            for (var bn = 0; bn < Dt.length; bn++) {
              var oe = Dt[bn], le = Math.round(oe.time / Et * 100) + "%", j = getEasingFunc(oe.easing), V = oe.rawValue;
              (isString$2(V) || isNumber$1(V)) && (ze[le] = ze[le] || {}, ze[le][hn] = oe.rawValue, j && (ze[le][ie] = j));
            }
        }
      }
    }
    for (var re = 0; re < L; re++) {
      var D = T[re], Y = D.targetName;
      Y ? Y === "shape" && F(D, M) : !o && F(D, k);
    }
    for (var z in k) {
      var pe = {};
      copyTransform(pe, r), extend(pe, k[z]);
      var ue = getSRTTransformString(pe), Ce = k[z][ie];
      O[z] = ue ? {
        transform: ue
      } : {}, setTransformOrigin(O[z], pe), Ce && (O[z][ie] = Ce);
    }
    var Fe, Ie = !0;
    for (var z in M) {
      O[z] = O[z] || {};
      var Pt = !Fe, Ce = M[z][ie];
      Pt && (Fe = new PathProxy$1());
      var xe = Fe.len();
      Fe.reset(), O[z].d = buildPathString(r, M[z], Fe);
      var Lt = Fe.len();
      if (!Pt && xe !== Lt) {
        Ie = !1;
        break;
      }
      Ce && (O[z][ie] = Ce);
    }
    if (!Ie)
      for (var z in O)
        delete O[z].d;
    if (!o)
      for (var re = 0; re < L; re++) {
        var D = T[re], Y = D.targetName;
        Y === "style" && F(D, O, function(de) {
          return ANIMATE_STYLE_MAP[de];
        });
      }
    for (var _n = keys(O), In = !0, jt, re = 1; re < _n.length; re++) {
      var he = _n[re - 1], At = _n[re];
      if (O[he][transformOriginKey] !== O[At][transformOriginKey]) {
        In = !1;
        break;
      }
      jt = O[he][transformOriginKey];
    }
    if (In && jt) {
      for (var z in O)
        O[z][transformOriginKey] && delete O[z][transformOriginKey];
      n[transformOriginKey] = jt;
    }
    if (filter(_n, function(Cn) {
      return keys(O[Cn]).length > 0;
    }).length) {
      var kt = addAnimation(O, i);
      return kt + " " + x[0] + " both";
    }
  }
  for (var w in d) {
    var f = A(d[w]);
    f && c.push(f);
  }
  if (c.length) {
    var S = i.zrId + "-cls-" + i.cssClassIdx++;
    i.cssNodes["." + S] = {
      animation: c.join(",")
    }, n.class = S;
  }
}
var round = Math.round;
function isImageLike(r) {
  return r && isString$2(r.src);
}
function isCanvasLike(r) {
  return r && isFunction$1(r.toDataURL);
}
function setStyleAttrs(r, n, i, o) {
  mapStyleToAttrs(function(a, u) {
    var c = a === "fill" || a === "stroke";
    c && isGradient(u) ? setGradient(n, r, a, o) : c && isPattern(u) ? setPattern(i, r, a, o) : r[a] = u;
  }, n, i, !1), setShadow(i, r, o);
}
function noRotateScale(r) {
  return isAroundZero(r[0] - 1) && isAroundZero(r[1]) && isAroundZero(r[2]) && isAroundZero(r[3] - 1);
}
function noTranslate(r) {
  return isAroundZero(r[4]) && isAroundZero(r[5]);
}
function setTransform(r, n, i) {
  if (n && !(noTranslate(n) && noRotateScale(n))) {
    var o = i ? 10 : 1e4;
    r.transform = noRotateScale(n) ? "translate(" + round(n[4] * o) / o + " " + round(n[5] * o) / o + ")" : getMatrixStr(n);
  }
}
function convertPolyShape(r, n, i) {
  for (var o = r.points, a = [], u = 0; u < o.length; u++)
    a.push(round(o[u][0] * i) / i), a.push(round(o[u][1] * i) / i);
  n.points = a.join(" ");
}
function validatePolyShape(r) {
  return !r.smooth;
}
function createAttrsConvert(r) {
  var n = map$1(r, function(i) {
    return typeof i == "string" ? [i, i] : i;
  });
  return function(i, o, a) {
    for (var u = 0; u < n.length; u++) {
      var c = n[u], f = i[c[0]];
      f != null && (o[c[1]] = round(f * a) / a);
    }
  };
}
var builtinShapesDef = {
  circle: [createAttrsConvert(["cx", "cy", "r"])],
  polyline: [convertPolyShape, validatePolyShape],
  polygon: [convertPolyShape, validatePolyShape]
};
function hasShapeAnimation(r) {
  for (var n = r.animators, i = 0; i < n.length; i++)
    if (n[i].targetName === "shape")
      return !0;
  return !1;
}
function brushSVGPath(r, n) {
  var i = r.style, o = r.shape, a = builtinShapesDef[r.type], u = {}, c = n.animation, f = "path", d = r.style.strokePercent, p = n.compress && getPathPrecision(r) || 4;
  if (a && !n.willUpdate && !(a[1] && !a[1](o)) && !(c && hasShapeAnimation(r)) && !(d < 1)) {
    f = r.type;
    var y = Math.pow(10, p);
    a[0](o, u, y);
  } else {
    var v = !r.path || r.shapeChanged();
    r.path || r.createPathProxy();
    var g = r.path;
    v && (g.beginPath(), r.buildPath(g, r.shape), r.pathUpdated());
    var _ = g.getVersion(), b = r, A = b.__svgPathBuilder;
    (b.__svgPathVersion !== _ || !A || d !== b.__svgPathStrokePercent) && (A || (A = b.__svgPathBuilder = new SVGPathRebuilder$1()), A.reset(p), g.rebuildPath(A, d), A.generateStr(), b.__svgPathVersion = _, b.__svgPathStrokePercent = d), u.d = A.getStr();
  }
  return setTransform(u, r.transform), setStyleAttrs(u, i, r, n), n.animation && createCSSAnimation(r, u, n), createVNode(f, r.id + "", u);
}
function brushSVGImage(r, n) {
  var i = r.style, o = i.image;
  if (o && !isString$2(o) && (isImageLike(o) ? o = o.src : isCanvasLike(o) && (o = o.toDataURL())), !!o) {
    var a = i.x || 0, u = i.y || 0, c = i.width, f = i.height, d = {
      href: o,
      width: c,
      height: f
    };
    return a && (d.x = a), u && (d.y = u), setTransform(d, r.transform), setStyleAttrs(d, i, r, n), n.animation && createCSSAnimation(r, d, n), createVNode("image", r.id + "", d);
  }
}
function brushSVGTSpan(r, n) {
  var i = r.style, o = i.text;
  if (o != null && (o += ""), !(!o || isNaN(i.x) || isNaN(i.y))) {
    var a = i.font || DEFAULT_FONT, u = i.x || 0, c = adjustTextY$1(i.y || 0, getLineHeight(a), i.textBaseline), f = TEXT_ALIGN_TO_ANCHOR[i.textAlign] || i.textAlign, d = {
      "dominant-baseline": "central",
      "text-anchor": f
    };
    if (hasSeparateFont(i)) {
      var p = "", y = i.fontStyle, v = parseFontSize(i.fontSize);
      if (!parseFloat(v))
        return;
      var g = i.fontFamily || DEFAULT_FONT_FAMILY, _ = i.fontWeight;
      p += "font-size:" + v + ";font-family:" + g + ";", y && y !== "normal" && (p += "font-style:" + y + ";"), _ && _ !== "normal" && (p += "font-weight:" + _ + ";"), d.style = p;
    } else
      d.style = "font: " + a;
    return o.match(/\s/) && (d["xml:space"] = "preserve"), u && (d.x = u), c && (d.y = c), setTransform(d, r.transform), setStyleAttrs(d, i, r, n), n.animation && createCSSAnimation(r, d, n), createVNode("text", r.id + "", d, void 0, o);
  }
}
function brush(r, n) {
  if (r instanceof Path$1)
    return brushSVGPath(r, n);
  if (r instanceof ZRImage$1)
    return brushSVGImage(r, n);
  if (r instanceof TSpan$1)
    return brushSVGTSpan(r, n);
}
function setShadow(r, n, i) {
  var o = r.style;
  if (hasShadow(o)) {
    var a = getShadowKey(r), u = i.shadowCache, c = u[a];
    if (!c) {
      var f = r.getGlobalScale(), d = f[0], p = f[1];
      if (!d || !p)
        return;
      var y = o.shadowOffsetX || 0, v = o.shadowOffsetY || 0, g = o.shadowBlur, _ = normalizeColor(o.shadowColor), b = _.opacity, A = _.color, w = g / 2 / d, S = g / 2 / p, x = w + " " + S;
      c = i.zrId + "-s" + i.shadowIdx++, i.defs[c] = createVNode("filter", c, {
        id: c,
        x: "-100%",
        y: "-100%",
        width: "300%",
        height: "300%"
      }, [
        createVNode("feDropShadow", "", {
          dx: y / d,
          dy: v / p,
          stdDeviation: x,
          "flood-color": A,
          "flood-opacity": b
        })
      ]), u[a] = c;
    }
    n.filter = getIdURL(c);
  }
}
function setGradient(r, n, i, o) {
  var a = r[i], u, c = {
    gradientUnits: a.global ? "userSpaceOnUse" : "objectBoundingBox"
  };
  if (isLinearGradient(a))
    u = "linearGradient", c.x1 = a.x, c.y1 = a.y, c.x2 = a.x2, c.y2 = a.y2;
  else if (isRadialGradient(a))
    u = "radialGradient", c.cx = retrieve2(a.x, 0.5), c.cy = retrieve2(a.y, 0.5), c.r = retrieve2(a.r, 0.5);
  else {
    process.env.NODE_ENV !== "production" && logError("Illegal gradient type.");
    return;
  }
  for (var f = a.colorStops, d = [], p = 0, y = f.length; p < y; ++p) {
    var v = round4(f[p].offset) * 100 + "%", g = f[p].color, _ = normalizeColor(g), b = _.color, A = _.opacity, w = {
      offset: v
    };
    w["stop-color"] = b, A < 1 && (w["stop-opacity"] = A), d.push(createVNode("stop", p + "", w));
  }
  var S = createVNode(u, "", c, d), x = vNodeToString(S), T = o.gradientCache, L = T[x];
  L || (L = o.zrId + "-g" + o.gradientIdx++, T[x] = L, c.id = L, o.defs[L] = createVNode(u, L, c, d)), n[i] = getIdURL(L);
}
function setPattern(r, n, i, o) {
  var a = r.style[i], u = r.getBoundingRect(), c = {}, f = a.repeat, d = f === "no-repeat", p = f === "repeat-x", y = f === "repeat-y", v;
  if (isImagePattern(a)) {
    var g = a.imageWidth, _ = a.imageHeight, b = void 0, A = a.image;
    if (isString$2(A) ? b = A : isImageLike(A) ? b = A.src : isCanvasLike(A) && (b = A.toDataURL()), typeof Image > "u") {
      var w = "Image width/height must been given explictly in svg-ssr renderer.";
      assert(g, w), assert(_, w);
    } else if (g == null || _ == null) {
      var S = function(re, D) {
        if (re) {
          var Y = re.elm, z = g || D.width, pe = _ || D.height;
          re.tag === "pattern" && (p ? (pe = 1, z /= u.width) : y && (z = 1, pe /= u.height)), re.attrs.width = z, re.attrs.height = pe, Y && (Y.setAttribute("width", z), Y.setAttribute("height", pe));
        }
      }, x = createOrUpdateImage(b, null, r, function(re) {
        d || S(M, re), S(v, re);
      });
      x && x.width && x.height && (g = g || x.width, _ = _ || x.height);
    }
    v = createVNode("image", "img", {
      href: b,
      width: g,
      height: _
    }), c.width = g, c.height = _;
  } else
    a.svgElement && (v = clone$2(a.svgElement), c.width = a.svgWidth, c.height = a.svgHeight);
  if (v) {
    var T, L;
    d ? T = L = 1 : p ? (L = 1, T = c.width / u.width) : y ? (T = 1, L = c.height / u.height) : c.patternUnits = "userSpaceOnUse", T != null && !isNaN(T) && (c.width = T), L != null && !isNaN(L) && (c.height = L);
    var k = getSRTTransformString(a);
    k && (c.patternTransform = k);
    var M = createVNode("pattern", "", c, [v]), O = vNodeToString(M), ie = o.patternCache, F = ie[O];
    F || (F = o.zrId + "-p" + o.patternIdx++, ie[O] = F, c.id = F, M = o.defs[F] = createVNode("pattern", F, c, [v])), n[i] = getIdURL(F);
  }
}
function setClipPath(r, n, i) {
  var o = i.clipPathCache, a = i.defs, u = o[r.id];
  if (!u) {
    u = i.zrId + "-c" + i.clipPathIdx++;
    var c = {
      id: u
    };
    o[r.id] = u, a[u] = createVNode("clipPath", u, c, [brushSVGPath(r, i)]);
  }
  n["clip-path"] = getIdURL(u);
}
function createTextNode(r) {
  return document.createTextNode(r);
}
function insertBefore(r, n, i) {
  r.insertBefore(n, i);
}
function removeChild(r, n) {
  r.removeChild(n);
}
function appendChild(r, n) {
  r.appendChild(n);
}
function parentNode(r) {
  return r.parentNode;
}
function nextSibling(r) {
  return r.nextSibling;
}
function setTextContent(r, n) {
  r.textContent = n;
}
var colonChar = 58, xChar = 120, emptyNode = createVNode("", "");
function isUndef(r) {
  return r === void 0;
}
function isDef(r) {
  return r !== void 0;
}
function createKeyToOldIdx(r, n, i) {
  for (var o = {}, a = n; a <= i; ++a) {
    var u = r[a].key;
    u !== void 0 && (process.env.NODE_ENV !== "production" && o[u] != null && console.error("Duplicate key " + u), o[u] = a);
  }
  return o;
}
function sameVnode(r, n) {
  var i = r.key === n.key, o = r.tag === n.tag;
  return o && i;
}
function createElm(r) {
  var n, i = r.children, o = r.tag;
  if (isDef(o)) {
    var a = r.elm = createElement(o);
    if (updateAttrs(emptyNode, r), isArray$1(i))
      for (n = 0; n < i.length; ++n) {
        var u = i[n];
        u != null && appendChild(a, createElm(u));
      }
    else
      isDef(r.text) && !isObject$3(r.text) && appendChild(a, createTextNode(r.text));
  } else
    r.elm = createTextNode(r.text);
  return r.elm;
}
function addVnodes(r, n, i, o, a) {
  for (; o <= a; ++o) {
    var u = i[o];
    u != null && insertBefore(r, createElm(u), n);
  }
}
function removeVnodes(r, n, i, o) {
  for (; i <= o; ++i) {
    var a = n[i];
    if (a != null)
      if (isDef(a.tag)) {
        var u = parentNode(a.elm);
        removeChild(u, a.elm);
      } else
        removeChild(r, a.elm);
  }
}
function updateAttrs(r, n) {
  var i, o = n.elm, a = r && r.attrs || {}, u = n.attrs || {};
  if (a !== u) {
    for (i in u) {
      var c = u[i], f = a[i];
      f !== c && (c === !0 ? o.setAttribute(i, "") : c === !1 ? o.removeAttribute(i) : i.charCodeAt(0) !== xChar ? o.setAttribute(i, c) : i === "xmlns:xlink" || i === "xmlns" ? o.setAttributeNS(XMLNS, i, c) : i.charCodeAt(3) === colonChar ? o.setAttributeNS(XML_NAMESPACE, i, c) : i.charCodeAt(5) === colonChar ? o.setAttributeNS(XLINKNS, i, c) : o.setAttribute(i, c));
    }
    for (i in a)
      i in u || o.removeAttribute(i);
  }
}
function updateChildren(r, n, i) {
  for (var o = 0, a = 0, u = n.length - 1, c = n[0], f = n[u], d = i.length - 1, p = i[0], y = i[d], v, g, _, b; o <= u && a <= d; )
    c == null ? c = n[++o] : f == null ? f = n[--u] : p == null ? p = i[++a] : y == null ? y = i[--d] : sameVnode(c, p) ? (patchVnode(c, p), c = n[++o], p = i[++a]) : sameVnode(f, y) ? (patchVnode(f, y), f = n[--u], y = i[--d]) : sameVnode(c, y) ? (patchVnode(c, y), insertBefore(r, c.elm, nextSibling(f.elm)), c = n[++o], y = i[--d]) : sameVnode(f, p) ? (patchVnode(f, p), insertBefore(r, f.elm, c.elm), f = n[--u], p = i[++a]) : (isUndef(v) && (v = createKeyToOldIdx(n, o, u)), g = v[p.key], isUndef(g) ? insertBefore(r, createElm(p), c.elm) : (_ = n[g], _.tag !== p.tag ? insertBefore(r, createElm(p), c.elm) : (patchVnode(_, p), n[g] = void 0, insertBefore(r, _.elm, c.elm))), p = i[++a]);
  (o <= u || a <= d) && (o > u ? (b = i[d + 1] == null ? null : i[d + 1].elm, addVnodes(r, b, i, a, d)) : removeVnodes(r, n, o, u));
}
function patchVnode(r, n) {
  var i = n.elm = r.elm, o = r.children, a = n.children;
  r !== n && (updateAttrs(r, n), isUndef(n.text) ? isDef(o) && isDef(a) ? o !== a && updateChildren(i, o, a) : isDef(a) ? (isDef(r.text) && setTextContent(i, ""), addVnodes(i, null, a, 0, a.length - 1)) : isDef(o) ? removeVnodes(i, o, 0, o.length - 1) : isDef(r.text) && setTextContent(i, "") : r.text !== n.text && (isDef(o) && removeVnodes(i, o, 0, o.length - 1), setTextContent(i, n.text)));
}
function patch(r, n) {
  if (sameVnode(r, n))
    patchVnode(r, n);
  else {
    var i = r.elm, o = parentNode(i);
    createElm(n), o !== null && (insertBefore(o, n.elm, nextSibling(i)), removeVnodes(o, [r], 0, 0));
  }
  return n;
}
var svgId = 0, SVGPainter = function() {
  function r(n, i, o) {
    if (this.type = "svg", this.refreshHover = createMethodNotSupport("refreshHover"), this.configLayer = createMethodNotSupport("configLayer"), this.storage = i, this._opts = o = extend({}, o), this.root = n, this._id = "zr" + svgId++, this._oldVNode = createSVGVNode(o.width, o.height), n && !o.ssr) {
      var a = this._viewport = document.createElement("div");
      a.style.cssText = "position:relative;overflow:hidden";
      var u = this._svgDom = this._oldVNode.elm = createElement("svg");
      updateAttrs(null, this._oldVNode), a.appendChild(u), n.appendChild(a);
    }
    this.resize(o.width, o.height);
  }
  return r.prototype.getType = function() {
    return this.type;
  }, r.prototype.getViewportRoot = function() {
    return this._viewport;
  }, r.prototype.getViewportRootOffset = function() {
    var n = this.getViewportRoot();
    if (n)
      return {
        offsetLeft: n.offsetLeft || 0,
        offsetTop: n.offsetTop || 0
      };
  }, r.prototype.getSvgDom = function() {
    return this._svgDom;
  }, r.prototype.refresh = function() {
    if (this.root) {
      var n = this.renderToVNode({
        willUpdate: !0
      });
      n.attrs.style = "position:absolute;left:0;top:0;user-select:none", patch(this._oldVNode, n), this._oldVNode = n;
    }
  }, r.prototype.renderOneToVNode = function(n) {
    return brush(n, createBrushScope(this._id));
  }, r.prototype.renderToVNode = function(n) {
    n = n || {};
    var i = this.storage.getDisplayList(!0), o = this._width, a = this._height, u = createBrushScope(this._id);
    u.animation = n.animation, u.willUpdate = n.willUpdate, u.compress = n.compress;
    var c = [], f = this._bgVNode = createBackgroundVNode(o, a, this._backgroundColor, u);
    f && c.push(f);
    var d = n.compress ? null : this._mainVNode = createVNode("g", "main", {}, []);
    this._paintList(i, u, d ? d.children : c), d && c.push(d);
    var p = map$1(keys(u.defs), function(g) {
      return u.defs[g];
    });
    if (p.length && c.push(createVNode("defs", "defs", {}, p)), n.animation) {
      var y = getCssString(u.cssNodes, u.cssAnims, { newline: !0 });
      if (y) {
        var v = createVNode("style", "stl", {}, [], y);
        c.push(v);
      }
    }
    return createSVGVNode(o, a, c, n.useViewBox);
  }, r.prototype.renderToString = function(n) {
    return n = n || {}, vNodeToString(this.renderToVNode({
      animation: retrieve2(n.cssAnimation, !0),
      willUpdate: !1,
      compress: !0,
      useViewBox: retrieve2(n.useViewBox, !0)
    }), { newline: !0 });
  }, r.prototype.setBackgroundColor = function(n) {
    this._backgroundColor = n;
  }, r.prototype.getSvgRoot = function() {
    return this._mainVNode && this._mainVNode.elm;
  }, r.prototype._paintList = function(n, i, o) {
    for (var a = n.length, u = [], c = 0, f, d, p = 0, y = 0; y < a; y++) {
      var v = n[y];
      if (!v.invisible) {
        var g = v.__clipPaths, _ = g && g.length || 0, b = d && d.length || 0, A = void 0;
        for (A = Math.max(_ - 1, b - 1); A >= 0 && !(g && d && g[A] === d[A]); A--)
          ;
        for (var w = b - 1; w > A; w--)
          c--, f = u[c - 1];
        for (var S = A + 1; S < _; S++) {
          var x = {};
          setClipPath(g[S], x, i);
          var T = createVNode("g", "clip-g-" + p++, x, []);
          (f ? f.children : o).push(T), u[c++] = T, f = T;
        }
        d = g;
        var L = brush(v, i);
        L && (f ? f.children : o).push(L);
      }
    }
  }, r.prototype.resize = function(n, i) {
    var o = this._opts, a = this.root, u = this._viewport;
    if (n != null && (o.width = n), i != null && (o.height = i), a && u && (u.style.display = "none", n = getSize(a, 0, o), i = getSize(a, 1, o), u.style.display = ""), this._width !== n || this._height !== i) {
      if (this._width = n, this._height = i, u) {
        var c = u.style;
        c.width = n + "px", c.height = i + "px";
      }
      if (isPattern(this._backgroundColor))
        this.refresh();
      else {
        var f = this._svgDom;
        f && (f.setAttribute("width", n), f.setAttribute("height", i));
        var d = this._bgVNode && this._bgVNode.elm;
        d && (d.setAttribute("width", n), d.setAttribute("height", i));
      }
    }
  }, r.prototype.getWidth = function() {
    return this._width;
  }, r.prototype.getHeight = function() {
    return this._height;
  }, r.prototype.dispose = function() {
    this.root && (this.root.innerHTML = ""), this._svgDom = this._viewport = this.storage = this._oldVNode = this._bgVNode = this._mainVNode = null;
  }, r.prototype.clear = function() {
    this._svgDom && (this._svgDom.innerHTML = null), this._oldVNode = null;
  }, r.prototype.toDataURL = function(n) {
    var i = this.renderToString(), o = "data:image/svg+xml;";
    return n ? (i = encodeBase64(i), i && o + "base64," + i) : o + "charset=UTF-8," + encodeURIComponent(i);
  }, r;
}();
function createMethodNotSupport(r) {
  return function() {
    process.env.NODE_ENV !== "production" && logError('In SVG mode painter not support method "' + r + '"');
  };
}
function createBackgroundVNode(r, n, i, o) {
  var a;
  if (i && i !== "none")
    if (a = createVNode("rect", "bg", {
      width: r,
      height: n,
      x: "0",
      y: "0",
      id: "0"
    }), isGradient(i))
      setGradient({ fill: i }, a.attrs, "fill", o);
    else if (isPattern(i))
      setPattern({
        style: {
          fill: i
        },
        dirty: noop$1,
        getBoundingRect: function() {
          return { width: r, height: n };
        }
      }, a.attrs, "fill", o);
    else {
      var u = normalizeColor(i), c = u.color, f = u.opacity;
      a.attrs.fill = c, f < 1 && (a.attrs["fill-opacity"] = f);
    }
  return a;
}
const SVGPainter$1 = SVGPainter;
function install$7(r) {
  r.registerPainter("svg", SVGPainter$1);
}
var PI2 = Math.PI * 2, RADIAN$1 = Math.PI / 180;
function getViewRect(r, n) {
  return getLayoutRect(r.getBoxLayoutParams(), {
    width: n.getWidth(),
    height: n.getHeight()
  });
}
function getBasicPieLayout(r, n) {
  var i = getViewRect(r, n), o = r.get("center"), a = r.get("radius");
  isArray$1(a) || (a = [0, a]);
  var u = parsePercent(i.width, n.getWidth()), c = parsePercent(i.height, n.getHeight()), f = Math.min(u, c), d = parsePercent(a[0], f / 2), p = parsePercent(a[1], f / 2), y, v, g = r.coordinateSystem;
  if (g) {
    var _ = g.dataToPoint(o);
    y = _[0] || 0, v = _[1] || 0;
  } else
    isArray$1(o) || (o = [o, o]), y = parsePercent(o[0], u) + i.x, v = parsePercent(o[1], c) + i.y;
  return {
    cx: y,
    cy: v,
    r0: d,
    r: p
  };
}
function pieLayout(r, n, i) {
  n.eachSeriesByType(r, function(o) {
    var a = o.getData(), u = a.mapDimension("value"), c = getViewRect(o, i), f = getBasicPieLayout(o, i), d = f.cx, p = f.cy, y = f.r, v = f.r0, g = -o.get("startAngle") * RADIAN$1, _ = o.get("minAngle") * RADIAN$1, b = 0;
    a.each(u, function(re) {
      !isNaN(re) && b++;
    });
    var A = a.getSum(u), w = Math.PI / (A || b) * 2, S = o.get("clockwise"), x = o.get("roseType"), T = o.get("stillShowZeroSum"), L = a.getDataExtent(u);
    L[0] = 0;
    var k = PI2, M = 0, O = g, ie = S ? 1 : -1;
    if (a.setLayout({
      viewRect: c,
      r: y
    }), a.each(u, function(re, D) {
      var Y;
      if (isNaN(re)) {
        a.setItemLayout(D, {
          angle: NaN,
          startAngle: NaN,
          endAngle: NaN,
          clockwise: S,
          cx: d,
          cy: p,
          r0: v,
          r: x ? NaN : y
        });
        return;
      }
      x !== "area" ? Y = A === 0 && T ? w : re * w : Y = PI2 / b, Y < _ ? (Y = _, k -= _) : M += re;
      var z = O + ie * Y;
      a.setItemLayout(D, {
        angle: Y,
        startAngle: O,
        endAngle: z,
        clockwise: S,
        cx: d,
        cy: p,
        r0: v,
        r: x ? linearMap(re, L, [v, y]) : y
      }), O = z;
    }), k < PI2 && b)
      if (k <= 1e-3) {
        var F = PI2 / b;
        a.each(u, function(re, D) {
          if (!isNaN(re)) {
            var Y = a.getItemLayout(D);
            Y.angle = F, Y.startAngle = g + ie * D * F, Y.endAngle = g + ie * (D + 1) * F;
          }
        });
      } else
        w = k / M, O = g, a.each(u, function(re, D) {
          if (!isNaN(re)) {
            var Y = a.getItemLayout(D), z = Y.angle === _ ? _ : re * w;
            Y.startAngle = O, Y.endAngle = O + ie * z, O += ie * z;
          }
        });
  });
}
function dataFilter(r) {
  return {
    seriesType: r,
    reset: function(n, i) {
      var o = i.findComponents({
        mainType: "legend"
      });
      if (!(!o || !o.length)) {
        var a = n.getData();
        a.filterSelf(function(u) {
          for (var c = a.getName(u), f = 0; f < o.length; f++)
            if (!o[f].isSelected(c))
              return !1;
          return !0;
        });
      }
    }
  };
}
var RADIAN = Math.PI / 180;
function adjustSingleSide(r, n, i, o, a, u, c, f, d, p) {
  if (r.length < 2)
    return;
  function y(A) {
    for (var w = A.rB, S = w * w, x = 0; x < A.list.length; x++) {
      var T = A.list[x], L = Math.abs(T.label.y - i), k = o + T.len, M = k * k, O = Math.sqrt((1 - Math.abs(L * L / S)) * M), ie = n + (O + T.len2) * a, F = ie - T.label.x, re = T.targetTextWidth - F * a;
      constrainTextWidth(T, re, !0), T.label.x = ie;
    }
  }
  function v(A) {
    for (var w = {
      list: [],
      maxY: 0
    }, S = {
      list: [],
      maxY: 0
    }, x = 0; x < A.length; x++)
      if (A[x].labelAlignTo === "none") {
        var T = A[x], L = T.label.y > i ? S : w, k = Math.abs(T.label.y - i);
        if (k >= L.maxY) {
          var M = T.label.x - n - T.len2 * a, O = o + T.len, ie = Math.abs(M) < O ? Math.sqrt(k * k / (1 - M * M / O / O)) : O;
          L.rB = ie, L.maxY = k;
        }
        L.list.push(T);
      }
    y(w), y(S);
  }
  for (var g = r.length, _ = 0; _ < g; _++)
    if (r[_].position === "outer" && r[_].labelAlignTo === "labelLine") {
      var b = r[_].label.x - p;
      r[_].linePoints[1][0] += b, r[_].label.x = p;
    }
  shiftLayoutOnY(r, d, d + c) && v(r);
}
function avoidOverlap(r, n, i, o, a, u, c, f) {
  for (var d = [], p = [], y = Number.MAX_VALUE, v = -Number.MAX_VALUE, g = 0; g < r.length; g++) {
    var _ = r[g].label;
    isPositionCenter(r[g]) || (_.x < n ? (y = Math.min(y, _.x), d.push(r[g])) : (v = Math.max(v, _.x), p.push(r[g])));
  }
  for (var g = 0; g < r.length; g++) {
    var b = r[g];
    if (!isPositionCenter(b) && b.linePoints) {
      if (b.labelStyleWidth != null)
        continue;
      var _ = b.label, A = b.linePoints, w = void 0;
      b.labelAlignTo === "edge" ? _.x < n ? w = A[2][0] - b.labelDistance - c - b.edgeDistance : w = c + a - b.edgeDistance - A[2][0] - b.labelDistance : b.labelAlignTo === "labelLine" ? _.x < n ? w = y - c - b.bleedMargin : w = c + a - v - b.bleedMargin : _.x < n ? w = _.x - c - b.bleedMargin : w = c + a - _.x - b.bleedMargin, b.targetTextWidth = w, constrainTextWidth(b, w);
    }
  }
  adjustSingleSide(p, n, i, o, 1, a, u, c, f, v), adjustSingleSide(d, n, i, o, -1, a, u, c, f, y);
  for (var g = 0; g < r.length; g++) {
    var b = r[g];
    if (!isPositionCenter(b) && b.linePoints) {
      var _ = b.label, A = b.linePoints, S = b.labelAlignTo === "edge", x = _.style.padding, T = x ? x[1] + x[3] : 0, L = _.style.backgroundColor ? 0 : T, k = b.rect.width + L, M = A[1][0] - A[2][0];
      S ? _.x < n ? A[2][0] = c + b.edgeDistance + k + b.labelDistance : A[2][0] = c + a - b.edgeDistance - k - b.labelDistance : (_.x < n ? A[2][0] = _.x + b.labelDistance : A[2][0] = _.x - b.labelDistance, A[1][0] = A[2][0] + M), A[1][1] = A[2][1] = _.y;
    }
  }
}
function constrainTextWidth(r, n, i) {
  if (i === void 0 && (i = !1), r.labelStyleWidth == null) {
    var o = r.label, a = o.style, u = r.rect, c = a.backgroundColor, f = a.padding, d = f ? f[1] + f[3] : 0, p = a.overflow, y = u.width + (c ? 0 : d);
    if (n < y || i) {
      var v = u.height;
      if (p && p.match("break")) {
        o.setStyle("backgroundColor", null), o.setStyle("width", n - d);
        var g = o.getBoundingRect();
        o.setStyle("width", Math.ceil(g.width)), o.setStyle("backgroundColor", c);
      } else {
        var _ = n - d, b = n < y ? _ : (
          // Current available width is enough, but the text may have
          // already been wrapped with a smaller available width.
          i ? _ > r.unconstrainedWidth ? null : _ : (
            // Current available width is enough, so no need to
            // constrain.
            null
          )
        );
        o.setStyle("width", b);
      }
      var A = o.getBoundingRect();
      u.width = A.width;
      var w = (o.style.margin || 0) + 2.1;
      u.height = A.height + w, u.y -= (u.height - v) / 2;
    }
  }
}
function isPositionCenter(r) {
  return r.position === "center";
}
function pieLabelLayout(r) {
  var n = r.getData(), i = [], o, a, u = !1, c = (r.get("minShowLabelAngle") || 0) * RADIAN, f = n.getLayout("viewRect"), d = n.getLayout("r"), p = f.width, y = f.x, v = f.y, g = f.height;
  function _(M) {
    M.ignore = !0;
  }
  function b(M) {
    if (!M.ignore)
      return !0;
    for (var O in M.states)
      if (M.states[O].ignore === !1)
        return !0;
    return !1;
  }
  n.each(function(M) {
    var O = n.getItemGraphicEl(M), ie = O.shape, F = O.getTextContent(), re = O.getTextGuideLine(), D = n.getItemModel(M), Y = D.getModel("label"), z = Y.get("position") || D.get(["emphasis", "label", "position"]), pe = Y.get("distanceToLabelLine"), ue = Y.get("alignTo"), Ce = parsePercent(Y.get("edgeDistance"), p), Fe = Y.get("bleedMargin"), Ie = D.getModel("labelLine"), Pt = Ie.get("length");
    Pt = parsePercent(Pt, p);
    var xe = Ie.get("length2");
    if (xe = parsePercent(xe, p), Math.abs(ie.endAngle - ie.startAngle) < c) {
      each$4(F.states, _), F.ignore = !0, re && (each$4(re.states, _), re.ignore = !0);
      return;
    }
    if (b(F)) {
      var Lt = (ie.startAngle + ie.endAngle) / 2, _n = Math.cos(Lt), In = Math.sin(Lt), jt, he, At, kt;
      o = ie.cx, a = ie.cy;
      var Cn = z === "inside" || z === "inner";
      if (z === "center")
        jt = ie.cx, he = ie.cy, kt = "center";
      else {
        var ze = (Cn ? (ie.r + ie.r0) / 2 * _n : ie.r * _n) + o, _e = (Cn ? (ie.r + ie.r0) / 2 * In : ie.r * In) + a;
        if (jt = ze + _n * 3, he = _e + In * 3, !Cn) {
          var de = ze + _n * (Pt + d - ie.r), Et = _e + In * (Pt + d - ie.r), Oe = de + (_n < 0 ? -1 : 1) * xe, Ve = Et;
          ue === "edge" ? jt = _n < 0 ? y + Ce : y + p - Ce : jt = Oe + (_n < 0 ? -pe : pe), he = Ve, At = [[ze, _e], [de, Et], [Oe, Ve]];
        }
        kt = Cn ? "center" : ue === "edge" ? _n > 0 ? "right" : "left" : _n > 0 ? "left" : "right";
      }
      var Dt = Math.PI, hn = 0, bn = Y.get("rotate");
      if (isNumber$1(bn))
        hn = bn * (Dt / 180);
      else if (z === "center")
        hn = 0;
      else if (bn === "radial" || bn === !0) {
        var oe = _n < 0 ? -Lt + Dt : -Lt;
        hn = oe;
      } else if (bn === "tangential" && z !== "outside" && z !== "outer") {
        var le = Math.atan2(_n, In);
        le < 0 && (le = Dt * 2 + le);
        var j = In > 0;
        j && (le = Dt + le), hn = le - Dt;
      }
      if (u = !!hn, F.x = jt, F.y = he, F.rotation = hn, F.setStyle({
        verticalAlign: "middle"
      }), Cn) {
        F.setStyle({
          align: kt
        });
        var ae = F.states.select;
        ae && (ae.x += F.x, ae.y += F.y);
      } else {
        var V = F.getBoundingRect().clone();
        V.applyTransform(F.getComputedTransform());
        var $ = (F.style.margin || 0) + 2.1;
        V.y -= $ / 2, V.height += $, i.push({
          label: F,
          labelLine: re,
          position: z,
          len: Pt,
          len2: xe,
          minTurnAngle: Ie.get("minTurnAngle"),
          maxSurfaceAngle: Ie.get("maxSurfaceAngle"),
          surfaceNormal: new Point$1(_n, In),
          linePoints: At,
          textAlign: kt,
          labelDistance: pe,
          labelAlignTo: ue,
          edgeDistance: Ce,
          bleedMargin: Fe,
          rect: V,
          unconstrainedWidth: V.width,
          labelStyleWidth: F.style.width
        });
      }
      O.setTextConfig({
        inside: Cn
      });
    }
  }), !u && r.get("avoidLabelOverlap") && avoidOverlap(i, o, a, d, p, g, y, v);
  for (var A = 0; A < i.length; A++) {
    var w = i[A], S = w.label, x = w.labelLine, T = isNaN(S.x) || isNaN(S.y);
    if (S) {
      S.setStyle({
        align: w.textAlign
      }), T && (each$4(S.states, _), S.ignore = !0);
      var L = S.states.select;
      L && (L.x += S.x, L.y += S.y);
    }
    if (x) {
      var k = w.linePoints;
      T || !k ? (each$4(x.states, _), x.ignore = !0) : (limitTurnAngle(k, w.minTurnAngle), limitSurfaceAngle(k, w.surfaceNormal, w.maxSurfaceAngle), x.setShape({
        points: k
      }), S.__hostTarget.textGuideLineConfig = {
        anchor: new Point$1(k[0][0], k[0][1])
      });
    }
  }
}
function getSectorCornerRadius(r, n, i) {
  var o = r.get("borderRadius");
  if (o == null)
    return i ? {
      cornerRadius: 0
    } : null;
  isArray$1(o) || (o = [o, o, o, o]);
  var a = Math.abs(n.r || 0 - n.r0 || 0);
  return {
    cornerRadius: map$1(o, function(u) {
      return parsePercent$1(u, a);
    })
  };
}
var PiePiece = (
  /** @class */
  function(r) {
    __extends(n, r);
    function n(i, o, a) {
      var u = r.call(this) || this;
      u.z2 = 2;
      var c = new ZRText$1();
      return u.setTextContent(c), u.updateData(i, o, a, !0), u;
    }
    return n.prototype.updateData = function(i, o, a, u) {
      var c = this, f = i.hostModel, d = i.getItemModel(o), p = d.getModel("emphasis"), y = i.getItemLayout(o), v = extend(getSectorCornerRadius(d.getModel("itemStyle"), y, !0), y);
      if (isNaN(v.startAngle)) {
        c.setShape(v);
        return;
      }
      if (u) {
        c.setShape(v);
        var g = f.getShallow("animationType");
        f.ecModel.ssr ? (initProps(c, {
          scaleX: 0,
          scaleY: 0
        }, f, {
          dataIndex: o,
          isFrom: !0
        }), c.originX = v.cx, c.originY = v.cy) : g === "scale" ? (c.shape.r = y.r0, initProps(c, {
          shape: {
            r: y.r
          }
        }, f, o)) : a != null ? (c.setShape({
          startAngle: a,
          endAngle: a
        }), initProps(c, {
          shape: {
            startAngle: y.startAngle,
            endAngle: y.endAngle
          }
        }, f, o)) : (c.shape.endAngle = y.startAngle, updateProps$1(c, {
          shape: {
            endAngle: y.endAngle
          }
        }, f, o));
      } else
        saveOldStyle(c), updateProps$1(c, {
          shape: v
        }, f, o);
      c.useStyle(i.getItemVisual(o, "style")), setStatesStylesFromModel(c, d);
      var _ = (y.startAngle + y.endAngle) / 2, b = f.get("selectedOffset"), A = Math.cos(_) * b, w = Math.sin(_) * b, S = d.getShallow("cursor");
      S && c.attr("cursor", S), this._updateLabel(f, i, o), c.ensureState("emphasis").shape = extend({
        r: y.r + (p.get("scale") && p.get("scaleSize") || 0)
      }, getSectorCornerRadius(p.getModel("itemStyle"), y)), extend(c.ensureState("select"), {
        x: A,
        y: w,
        shape: getSectorCornerRadius(d.getModel(["select", "itemStyle"]), y)
      }), extend(c.ensureState("blur"), {
        shape: getSectorCornerRadius(d.getModel(["blur", "itemStyle"]), y)
      });
      var x = c.getTextGuideLine(), T = c.getTextContent();
      x && extend(x.ensureState("select"), {
        x: A,
        y: w
      }), extend(T.ensureState("select"), {
        x: A,
        y: w
      }), toggleHoverEmphasis(this, p.get("focus"), p.get("blurScope"), p.get("disabled"));
    }, n.prototype._updateLabel = function(i, o, a) {
      var u = this, c = o.getItemModel(a), f = c.getModel("labelLine"), d = o.getItemVisual(a, "style"), p = d && d.fill, y = d && d.opacity;
      setLabelStyle(u, getLabelStatesModels(c), {
        labelFetcher: o.hostModel,
        labelDataIndex: a,
        inheritColor: p,
        defaultOpacity: y,
        defaultText: i.getFormattedLabel(a, "normal") || o.getName(a)
      });
      var v = u.getTextContent();
      u.setTextConfig({
        // reset position, rotation
        position: null,
        rotation: null
      }), v.attr({
        z2: 10
      });
      var g = i.get(["label", "position"]);
      if (g !== "outside" && g !== "outer")
        u.removeTextGuideLine();
      else {
        var _ = this.getTextGuideLine();
        _ || (_ = new Polyline$1(), this.setTextGuideLine(_)), setLabelLineStyle(this, getLabelLineStatesModels(c), {
          stroke: p,
          opacity: retrieve3(f.get(["lineStyle", "opacity"]), y, 1)
        });
      }
    }, n;
  }(Sector$1)
), PieView = (
  /** @class */
  function(r) {
    __extends(n, r);
    function n() {
      var i = r !== null && r.apply(this, arguments) || this;
      return i.ignoreLabelLineUpdate = !0, i;
    }
    return n.prototype.render = function(i, o, a, u) {
      var c = i.getData(), f = this._data, d = this.group, p;
      if (!f && c.count() > 0) {
        for (var y = c.getItemLayout(0), v = 1; isNaN(y && y.startAngle) && v < c.count(); ++v)
          y = c.getItemLayout(v);
        y && (p = y.startAngle);
      }
      if (this._emptyCircleSector && d.remove(this._emptyCircleSector), c.count() === 0 && i.get("showEmptyCircle")) {
        var g = new Sector$1({
          shape: getBasicPieLayout(i, a)
        });
        g.useStyle(i.getModel("emptyCircleStyle").getItemStyle()), this._emptyCircleSector = g, d.add(g);
      }
      c.diff(f).add(function(_) {
        var b = new PiePiece(c, _, p);
        c.setItemGraphicEl(_, b), d.add(b);
      }).update(function(_, b) {
        var A = f.getItemGraphicEl(b);
        A.updateData(c, _, p), A.off("click"), d.add(A), c.setItemGraphicEl(_, A);
      }).remove(function(_) {
        var b = f.getItemGraphicEl(_);
        removeElementWithFadeOut(b, i, _);
      }).execute(), pieLabelLayout(i), i.get("animationTypeUpdate") !== "expansion" && (this._data = c);
    }, n.prototype.dispose = function() {
    }, n.prototype.containPoint = function(i, o) {
      var a = o.getData(), u = a.getItemLayout(0);
      if (u) {
        var c = i[0] - u.cx, f = i[1] - u.cy, d = Math.sqrt(c * c + f * f);
        return d <= u.r && d >= u.r0;
      }
    }, n.type = "pie", n;
  }(ChartView$1)
);
const PieView$1 = PieView;
function createSeriesDataSimply(r, n, i) {
  n = isArray$1(n) && {
    coordDimensions: n
  } || extend({
    encodeDefine: r.getEncode()
  }, n);
  var o = r.getSource(), a = prepareSeriesDataSchema(o, n).dimensions, u = new SeriesData$1(a, r);
  return u.initData(o, i), u;
}
var LegendVisualProvider = (
  /** @class */
  function() {
    function r(n, i) {
      this._getDataWithEncodedVisual = n, this._getRawData = i;
    }
    return r.prototype.getAllNames = function() {
      var n = this._getRawData();
      return n.mapArray(n.getName);
    }, r.prototype.containName = function(n) {
      var i = this._getRawData();
      return i.indexOfName(n) >= 0;
    }, r.prototype.indexOfName = function(n) {
      var i = this._getDataWithEncodedVisual();
      return i.indexOfName(n);
    }, r.prototype.getItemVisual = function(n, i) {
      var o = this._getDataWithEncodedVisual();
      return o.getItemVisual(n, i);
    }, r;
  }()
);
const LegendVisualProvider$1 = LegendVisualProvider;
var innerData = makeInner(), PieSeriesModel = (
  /** @class */
  function(r) {
    __extends(n, r);
    function n() {
      return r !== null && r.apply(this, arguments) || this;
    }
    return n.prototype.init = function(i) {
      r.prototype.init.apply(this, arguments), this.legendVisualProvider = new LegendVisualProvider$1(bind$1(this.getData, this), bind$1(this.getRawData, this)), this._defaultLabelLine(i);
    }, n.prototype.mergeOption = function() {
      r.prototype.mergeOption.apply(this, arguments);
    }, n.prototype.getInitialData = function() {
      return createSeriesDataSimply(this, {
        coordDimensions: ["value"],
        encodeDefaulter: curry$1(makeSeriesEncodeForNameBased, this)
      });
    }, n.prototype.getDataParams = function(i) {
      var o = this.getData(), a = innerData(o), u = a.seats;
      if (!u) {
        var c = [];
        o.each(o.mapDimension("value"), function(d) {
          c.push(d);
        }), u = a.seats = getPercentSeats(c, o.hostModel.get("percentPrecision"));
      }
      var f = r.prototype.getDataParams.call(this, i);
      return f.percent = u[i] || 0, f.$vars.push("percent"), f;
    }, n.prototype._defaultLabelLine = function(i) {
      defaultEmphasis(i, "labelLine", ["show"]);
      var o = i.labelLine, a = i.emphasis.labelLine;
      o.show = o.show && i.label.show, a.show = a.show && i.emphasis.label.show;
    }, n.type = "series.pie", n.defaultOption = {
      // zlevel: 0,
      z: 2,
      legendHoverLink: !0,
      colorBy: "data",
      // 默认全局居中
      center: ["50%", "50%"],
      radius: [0, "75%"],
      // 默认顺时针
      clockwise: !0,
      startAngle: 90,
      // 最小角度改为0
      minAngle: 0,
      // If the angle of a sector less than `minShowLabelAngle`,
      // the label will not be displayed.
      minShowLabelAngle: 0,
      // 选中时扇区偏移量
      selectedOffset: 10,
      // 选择模式，默认关闭，可选single，multiple
      // selectedMode: false,
      // 南丁格尔玫瑰图模式，'radius'（半径） | 'area'（面积）
      // roseType: null,
      percentPrecision: 2,
      // If still show when all data zero.
      stillShowZeroSum: !0,
      // cursor: null,
      left: 0,
      top: 0,
      right: 0,
      bottom: 0,
      width: null,
      height: null,
      label: {
        // color: 'inherit',
        // If rotate around circle
        rotate: 0,
        show: !0,
        overflow: "truncate",
        // 'outer', 'inside', 'center'
        position: "outer",
        // 'none', 'labelLine', 'edge'. Works only when position is 'outer'
        alignTo: "none",
        // Closest distance between label and chart edge.
        // Works only position is 'outer' and alignTo is 'edge'.
        edgeDistance: "25%",
        // Works only position is 'outer' and alignTo is not 'edge'.
        bleedMargin: 10,
        // Distance between text and label line.
        distanceToLabelLine: 5
        // formatter: 标签文本格式器，同 tooltip.formatter，不支持异步回调
        // 默认使用全局文本样式，详见 textStyle
        // distance: 当position为inner时有效，为label位置到圆心的距离与圆半径(环状图为内外半径和)的比例系数
      },
      // Enabled when label.normal.position is 'outer'
      labelLine: {
        show: !0,
        // 引导线两段中的第一段长度
        length: 15,
        // 引导线两段中的第二段长度
        length2: 15,
        smooth: !1,
        minTurnAngle: 90,
        maxSurfaceAngle: 90,
        lineStyle: {
          // color: 各异,
          width: 1,
          type: "solid"
        }
      },
      itemStyle: {
        borderWidth: 1,
        borderJoin: "round"
      },
      showEmptyCircle: !0,
      emptyCircleStyle: {
        color: "lightgray",
        opacity: 1
      },
      labelLayout: {
        // Hide the overlapped label.
        hideOverlap: !0
      },
      emphasis: {
        scale: !0,
        scaleSize: 5
      },
      // If use strategy to avoid label overlapping
      avoidLabelOverlap: !0,
      // Animation type. Valid values: expansion, scale
      animationType: "expansion",
      animationDuration: 1e3,
      // Animation type when update. Valid values: transition, expansion
      animationTypeUpdate: "transition",
      animationEasingUpdate: "cubicInOut",
      animationDurationUpdate: 500,
      animationEasing: "cubicInOut"
    }, n;
  }(SeriesModel$1)
);
const PieSeriesModel$1 = PieSeriesModel;
function negativeDataFilter(r) {
  return {
    seriesType: r,
    reset: function(n, i) {
      var o = n.getData();
      o.filterSelf(function(a) {
        var u = o.mapDimension("value"), c = o.get(u, a);
        return !(isNumber$1(c) && !isNaN(c) && c < 0);
      });
    }
  };
}
function install$6(r) {
  r.registerChartView(PieView$1), r.registerSeriesModel(PieSeriesModel$1), createLegacyDataSelectAction("pie", r.registerAction), r.registerLayout(curry$1(pieLayout, "pie")), r.registerProcessor(dataFilter("pie")), r.registerProcessor(negativeDataFilter("pie"));
}
function layout(r, n, i) {
  i = i || {};
  var o = r.coordinateSystem, a = n.axis, u = {}, c = a.getAxesOnZeroOf()[0], f = a.position, d = c ? "onZero" : f, p = a.dim, y = o.getRect(), v = [y.x, y.x + y.width, y.y, y.y + y.height], g = {
    left: 0,
    right: 1,
    top: 0,
    bottom: 1,
    onZero: 2
  }, _ = n.get("offset") || 0, b = p === "x" ? [v[2] - _, v[3] + _] : [v[0] - _, v[1] + _];
  if (c) {
    var A = c.toGlobalCoord(c.dataToCoord(0));
    b[g.onZero] = Math.max(Math.min(A, b[1]), b[0]);
  }
  u.position = [p === "y" ? b[g[d]] : v[0], p === "x" ? b[g[d]] : v[3]], u.rotation = Math.PI / 2 * (p === "x" ? 0 : 1);
  var w = {
    top: -1,
    bottom: 1,
    left: -1,
    right: 1
  };
  u.labelDirection = u.tickDirection = u.nameDirection = w[f], u.labelOffset = c ? b[g[f]] - b[g.onZero] : 0, n.get(["axisTick", "inside"]) && (u.tickDirection = -u.tickDirection), retrieve(i.labelInside, n.get(["axisLabel", "inside"])) && (u.labelDirection = -u.labelDirection);
  var S = n.get(["axisLabel", "rotate"]);
  return u.labelRotate = d === "top" ? -S : S, u.z2 = 1, u;
}
var PI = Math.PI, AxisBuilder = (
  /** @class */
  function() {
    function r(n, i) {
      this.group = new Group$3(), this.opt = i, this.axisModel = n, defaults(i, {
        labelOffset: 0,
        nameDirection: 1,
        tickDirection: 1,
        labelDirection: 1,
        silent: !0,
        handleAutoShown: function() {
          return !0;
        }
      });
      var o = new Group$3({
        x: i.position[0],
        y: i.position[1],
        rotation: i.rotation
      });
      o.updateTransform(), this._transformGroup = o;
    }
    return r.prototype.hasBuilder = function(n) {
      return !!builders[n];
    }, r.prototype.add = function(n) {
      builders[n](this.opt, this.axisModel, this.group, this._transformGroup);
    }, r.prototype.getGroup = function() {
      return this.group;
    }, r.innerTextLayout = function(n, i, o) {
      var a = remRadian(i - n), u, c;
      return isRadianAroundZero(a) ? (c = o > 0 ? "top" : "bottom", u = "center") : isRadianAroundZero(a - PI) ? (c = o > 0 ? "bottom" : "top", u = "center") : (c = "middle", a > 0 && a < PI ? u = o > 0 ? "right" : "left" : u = o > 0 ? "left" : "right"), {
        rotation: a,
        textAlign: u,
        textVerticalAlign: c
      };
    }, r.makeAxisEventDataBase = function(n) {
      var i = {
        componentType: n.mainType,
        componentIndex: n.componentIndex
      };
      return i[n.mainType + "Index"] = n.componentIndex, i;
    }, r.isLabelSilent = function(n) {
      var i = n.get("tooltip");
      return n.get("silent") || !(n.get("triggerEvent") || i && i.show);
    }, r;
  }()
), builders = {
  axisLine: function(r, n, i, o) {
    var a = n.get(["axisLine", "show"]);
    if (a === "auto" && r.handleAutoShown && (a = r.handleAutoShown("axisLine")), !!a) {
      var u = n.axis.getExtent(), c = o.transform, f = [u[0], 0], d = [u[1], 0], p = f[0] > d[0];
      c && (applyTransform$1(f, f, c), applyTransform$1(d, d, c));
      var y = extend({
        lineCap: "round"
      }, n.getModel(["axisLine", "lineStyle"]).getLineStyle()), v = new Line$1({
        shape: {
          x1: f[0],
          y1: f[1],
          x2: d[0],
          y2: d[1]
        },
        style: y,
        strokeContainThreshold: r.strokeContainThreshold || 5,
        silent: !0,
        z2: 1
      });
      subPixelOptimizeLine(v.shape, v.style.lineWidth), v.anid = "line", i.add(v);
      var g = n.get(["axisLine", "symbol"]);
      if (g != null) {
        var _ = n.get(["axisLine", "symbolSize"]);
        isString$2(g) && (g = [g, g]), (isString$2(_) || isNumber$1(_)) && (_ = [_, _]);
        var b = normalizeSymbolOffset(n.get(["axisLine", "symbolOffset"]) || 0, _), A = _[0], w = _[1];
        each$4([{
          rotate: r.rotation + Math.PI / 2,
          offset: b[0],
          r: 0
        }, {
          rotate: r.rotation - Math.PI / 2,
          offset: b[1],
          r: Math.sqrt((f[0] - d[0]) * (f[0] - d[0]) + (f[1] - d[1]) * (f[1] - d[1]))
        }], function(S, x) {
          if (g[x] !== "none" && g[x] != null) {
            var T = createSymbol(g[x], -A / 2, -w / 2, A, w, y.stroke, !0), L = S.r + S.offset, k = p ? d : f;
            T.attr({
              rotation: S.rotate,
              x: k[0] + L * Math.cos(r.rotation),
              y: k[1] - L * Math.sin(r.rotation),
              silent: !0,
              z2: 11
            }), i.add(T);
          }
        });
      }
    }
  },
  axisTickLabel: function(r, n, i, o) {
    var a = buildAxisMajorTicks(i, o, n, r), u = buildAxisLabel(i, o, n, r);
    if (fixMinMaxLabelShow(n, u, a), buildAxisMinorTicks(i, o, n, r.tickDirection), n.get(["axisLabel", "hideOverlap"])) {
      var c = prepareLayoutList(map$1(u, function(f) {
        return {
          label: f,
          priority: f.z2,
          defaultAttr: {
            ignore: f.ignore
          }
        };
      }));
      hideOverlap(c);
    }
  },
  axisName: function(r, n, i, o) {
    var a = retrieve(r.axisName, n.get("name"));
    if (a) {
      var u = n.get("nameLocation"), c = r.nameDirection, f = n.getModel("nameTextStyle"), d = n.get("nameGap") || 0, p = n.axis.getExtent(), y = p[0] > p[1] ? -1 : 1, v = [
        u === "start" ? p[0] - y * d : u === "end" ? p[1] + y * d : (p[0] + p[1]) / 2,
        // Reuse labelOffset.
        isNameLocationCenter(u) ? r.labelOffset + c * d : 0
      ], g, _ = n.get("nameRotate");
      _ != null && (_ = _ * PI / 180);
      var b;
      isNameLocationCenter(u) ? g = AxisBuilder.innerTextLayout(
        r.rotation,
        _ ?? r.rotation,
        // Adapt to axis.
        c
      ) : (g = endTextLayout(r.rotation, u, _ || 0, p), b = r.axisNameAvailableWidth, b != null && (b = Math.abs(b / Math.sin(g.rotation)), !isFinite(b) && (b = null)));
      var A = f.getFont(), w = n.get("nameTruncate", !0) || {}, S = w.ellipsis, x = retrieve(r.nameTruncateMaxWidth, w.maxWidth, b), T = new ZRText$1({
        x: v[0],
        y: v[1],
        rotation: g.rotation,
        silent: AxisBuilder.isLabelSilent(n),
        style: createTextStyle(f, {
          text: a,
          font: A,
          overflow: "truncate",
          width: x,
          ellipsis: S,
          fill: f.getTextColor() || n.get(["axisLine", "lineStyle", "color"]),
          align: f.get("align") || g.textAlign,
          verticalAlign: f.get("verticalAlign") || g.textVerticalAlign
        }),
        z2: 1
      });
      if (setTooltipConfig({
        el: T,
        componentModel: n,
        itemName: a
      }), T.__fullText = a, T.anid = "name", n.get("triggerEvent")) {
        var L = AxisBuilder.makeAxisEventDataBase(n);
        L.targetType = "axisName", L.name = a, getECData(T).eventData = L;
      }
      o.add(T), T.updateTransform(), i.add(T), T.decomposeTransform();
    }
  }
};
function endTextLayout(r, n, i, o) {
  var a = remRadian(i - r), u, c, f = o[0] > o[1], d = n === "start" && !f || n !== "start" && f;
  return isRadianAroundZero(a - PI / 2) ? (c = d ? "bottom" : "top", u = "center") : isRadianAroundZero(a - PI * 1.5) ? (c = d ? "top" : "bottom", u = "center") : (c = "middle", a < PI * 1.5 && a > PI / 2 ? u = d ? "left" : "right" : u = d ? "right" : "left"), {
    rotation: a,
    textAlign: u,
    textVerticalAlign: c
  };
}
function fixMinMaxLabelShow(r, n, i) {
  if (!shouldShowAllLabels(r.axis)) {
    var o = r.get(["axisLabel", "showMinLabel"]), a = r.get(["axisLabel", "showMaxLabel"]);
    n = n || [], i = i || [];
    var u = n[0], c = n[1], f = n[n.length - 1], d = n[n.length - 2], p = i[0], y = i[1], v = i[i.length - 1], g = i[i.length - 2];
    o === !1 ? (ignoreEl(u), ignoreEl(p)) : isTwoLabelOverlapped(u, c) && (o ? (ignoreEl(c), ignoreEl(y)) : (ignoreEl(u), ignoreEl(p))), a === !1 ? (ignoreEl(f), ignoreEl(v)) : isTwoLabelOverlapped(d, f) && (a ? (ignoreEl(d), ignoreEl(g)) : (ignoreEl(f), ignoreEl(v)));
  }
}
function ignoreEl(r) {
  r && (r.ignore = !0);
}
function isTwoLabelOverlapped(r, n) {
  var i = r && r.getBoundingRect().clone(), o = n && n.getBoundingRect().clone();
  if (!(!i || !o)) {
    var a = identity$1([]);
    return rotate(a, a, -r.rotation), i.applyTransform(mul([], a, r.getLocalTransform())), o.applyTransform(mul([], a, n.getLocalTransform())), i.intersect(o);
  }
}
function isNameLocationCenter(r) {
  return r === "middle" || r === "center";
}
function createTicks(r, n, i, o, a) {
  for (var u = [], c = [], f = [], d = 0; d < r.length; d++) {
    var p = r[d].coord;
    c[0] = p, c[1] = 0, f[0] = p, f[1] = i, n && (applyTransform$1(c, c, n), applyTransform$1(f, f, n));
    var y = new Line$1({
      shape: {
        x1: c[0],
        y1: c[1],
        x2: f[0],
        y2: f[1]
      },
      style: o,
      z2: 2,
      autoBatch: !0,
      silent: !0
    });
    subPixelOptimizeLine(y.shape, y.style.lineWidth), y.anid = a + "_" + r[d].tickValue, u.push(y);
  }
  return u;
}
function buildAxisMajorTicks(r, n, i, o) {
  var a = i.axis, u = i.getModel("axisTick"), c = u.get("show");
  if (c === "auto" && o.handleAutoShown && (c = o.handleAutoShown("axisTick")), !(!c || a.scale.isBlank())) {
    for (var f = u.getModel("lineStyle"), d = o.tickDirection * u.get("length"), p = a.getTicksCoords(), y = createTicks(p, n.transform, d, defaults(f.getLineStyle(), {
      stroke: i.get(["axisLine", "lineStyle", "color"])
    }), "ticks"), v = 0; v < y.length; v++)
      r.add(y[v]);
    return y;
  }
}
function buildAxisMinorTicks(r, n, i, o) {
  var a = i.axis, u = i.getModel("minorTick");
  if (!(!u.get("show") || a.scale.isBlank())) {
    var c = a.getMinorTicksCoords();
    if (c.length)
      for (var f = u.getModel("lineStyle"), d = o * u.get("length"), p = defaults(f.getLineStyle(), defaults(i.getModel("axisTick").getLineStyle(), {
        stroke: i.get(["axisLine", "lineStyle", "color"])
      })), y = 0; y < c.length; y++)
        for (var v = createTicks(c[y], n.transform, d, p, "minorticks_" + y), g = 0; g < v.length; g++)
          r.add(v[g]);
  }
}
function buildAxisLabel(r, n, i, o) {
  var a = i.axis, u = retrieve(o.axisLabelShow, i.get(["axisLabel", "show"]));
  if (!(!u || a.scale.isBlank())) {
    var c = i.getModel("axisLabel"), f = c.get("margin"), d = a.getViewLabels(), p = (retrieve(o.labelRotate, c.get("rotate")) || 0) * PI / 180, y = AxisBuilder.innerTextLayout(o.rotation, p, o.labelDirection), v = i.getCategories && i.getCategories(!0), g = [], _ = AxisBuilder.isLabelSilent(i), b = i.get("triggerEvent");
    return each$4(d, function(A, w) {
      var S = a.scale.type === "ordinal" ? a.scale.getRawOrdinalNumber(A.tickValue) : A.tickValue, x = A.formattedLabel, T = A.rawLabel, L = c;
      if (v && v[S]) {
        var k = v[S];
        isObject$3(k) && k.textStyle && (L = new Model$1(k.textStyle, c, i.ecModel));
      }
      var M = L.getTextColor() || i.get(["axisLine", "lineStyle", "color"]), O = a.dataToCoord(S), ie = new ZRText$1({
        x: O,
        y: o.labelOffset + o.labelDirection * f,
        rotation: y.rotation,
        silent: _,
        z2: 10 + (A.level || 0),
        style: createTextStyle(L, {
          text: x,
          align: L.getShallow("align", !0) || y.textAlign,
          verticalAlign: L.getShallow("verticalAlign", !0) || L.getShallow("baseline", !0) || y.textVerticalAlign,
          fill: isFunction$1(M) ? M(
            // (1) In category axis with data zoom, tick is not the original
            // index of axis.data. So tick should not be exposed to user
            // in category axis.
            // (2) Compatible with previous version, which always use formatted label as
            // input. But in interval scale the formatted label is like '223,445', which
            // maked user repalce ','. So we modify it to return original val but remain
            // it as 'string' to avoid error in replacing.
            a.type === "category" ? T : a.type === "value" ? S + "" : S,
            w
          ) : M
        })
      });
      if (ie.anid = "label_" + S, b) {
        var F = AxisBuilder.makeAxisEventDataBase(i);
        F.targetType = "axisLabel", F.value = T, F.tickIndex = w, a.type === "category" && (F.dataIndex = S), getECData(ie).eventData = F;
      }
      n.add(ie), ie.updateTransform(), g.push(ie), r.add(ie), ie.decomposeTransform();
    }), g;
  }
}
const AxisBuilder$1 = AxisBuilder;
function collect(r, n) {
  var i = {
    /**
     * key: makeKey(axis.model)
     * value: {
     *      axis,
     *      coordSys,
     *      axisPointerModel,
     *      triggerTooltip,
     *      involveSeries,
     *      snap,
     *      seriesModels,
     *      seriesDataCount
     * }
     */
    axesInfo: {},
    seriesInvolved: !1,
    /**
     * key: makeKey(coordSys.model)
     * value: Object: key makeKey(axis.model), value: axisInfo
     */
    coordSysAxesInfo: {},
    coordSysMap: {}
  };
  return collectAxesInfo(i, r, n), i.seriesInvolved && collectSeriesInfo(i, r), i;
}
function collectAxesInfo(r, n, i) {
  var o = n.getComponent("tooltip"), a = n.getComponent("axisPointer"), u = a.get("link", !0) || [], c = [];
  each$4(i.getCoordinateSystems(), function(f) {
    if (!f.axisPointerEnabled)
      return;
    var d = makeKey(f.model), p = r.coordSysAxesInfo[d] = {};
    r.coordSysMap[d] = f;
    var y = f.model, v = y.getModel("tooltip", o);
    if (each$4(f.getAxes(), curry$1(A, !1, null)), f.getTooltipAxes && o && v.get("show")) {
      var g = v.get("trigger") === "axis", _ = v.get(["axisPointer", "type"]) === "cross", b = f.getTooltipAxes(v.get(["axisPointer", "axis"]));
      (g || _) && each$4(b.baseAxes, curry$1(A, _ ? "cross" : !0, g)), _ && each$4(b.otherAxes, curry$1(A, "cross", !1));
    }
    function A(w, S, x) {
      var T = x.model.getModel("axisPointer", a), L = T.get("show");
      if (!(!L || L === "auto" && !w && !isHandleTrigger(T))) {
        S == null && (S = T.get("triggerTooltip")), T = w ? makeAxisPointerModel(x, v, a, n, w, S) : T;
        var k = T.get("snap"), M = makeKey(x.model), O = S || k || x.type === "category", ie = r.axesInfo[M] = {
          key: M,
          axis: x,
          coordSys: f,
          axisPointerModel: T,
          triggerTooltip: S,
          involveSeries: O,
          snap: k,
          useHandle: isHandleTrigger(T),
          seriesModels: [],
          linkGroup: null
        };
        p[M] = ie, r.seriesInvolved = r.seriesInvolved || O;
        var F = getLinkGroupIndex(u, x);
        if (F != null) {
          var re = c[F] || (c[F] = {
            axesInfo: {}
          });
          re.axesInfo[M] = ie, re.mapper = u[F].mapper, ie.linkGroup = re;
        }
      }
    }
  });
}
function makeAxisPointerModel(r, n, i, o, a, u) {
  var c = n.getModel("axisPointer"), f = ["type", "snap", "lineStyle", "shadowStyle", "label", "animation", "animationDurationUpdate", "animationEasingUpdate", "z"], d = {};
  each$4(f, function(g) {
    d[g] = clone$2(c.get(g));
  }), d.snap = r.type !== "category" && !!u, c.get("type") === "cross" && (d.type = "line");
  var p = d.label || (d.label = {});
  if (p.show == null && (p.show = !1), a === "cross") {
    var y = c.get(["label", "show"]);
    if (p.show = y ?? !0, !u) {
      var v = d.lineStyle = c.get("crossStyle");
      v && defaults(p, v.textStyle);
    }
  }
  return r.model.getModel("axisPointer", new Model$1(d, i, o));
}
function collectSeriesInfo(r, n) {
  n.eachSeries(function(i) {
    var o = i.coordinateSystem, a = i.get(["tooltip", "trigger"], !0), u = i.get(["tooltip", "show"], !0);
    !o || a === "none" || a === !1 || a === "item" || u === !1 || i.get(["axisPointer", "show"], !0) === !1 || each$4(r.coordSysAxesInfo[makeKey(o.model)], function(c) {
      var f = c.axis;
      o.getAxis(f.dim) === f && (c.seriesModels.push(i), c.seriesDataCount == null && (c.seriesDataCount = 0), c.seriesDataCount += i.getData().count());
    });
  });
}
function getLinkGroupIndex(r, n) {
  for (var i = n.model, o = n.dim, a = 0; a < r.length; a++) {
    var u = r[a] || {};
    if (checkPropInLink(u[o + "AxisId"], i.id) || checkPropInLink(u[o + "AxisIndex"], i.componentIndex) || checkPropInLink(u[o + "AxisName"], i.name))
      return a;
  }
}
function checkPropInLink(r, n) {
  return r === "all" || isArray$1(r) && indexOf(r, n) >= 0 || r === n;
}
function fixValue(r) {
  var n = getAxisInfo(r);
  if (n) {
    var i = n.axisPointerModel, o = n.axis.scale, a = i.option, u = i.get("status"), c = i.get("value");
    c != null && (c = o.parse(c));
    var f = isHandleTrigger(i);
    u == null && (a.status = f ? "show" : "hide");
    var d = o.getExtent().slice();
    d[0] > d[1] && d.reverse(), // Pick a value on axis when initializing.
    (c == null || c > d[1]) && (c = d[1]), c < d[0] && (c = d[0]), a.value = c, f && (a.status = n.axis.scale.isBlank() ? "hide" : "show");
  }
}
function getAxisInfo(r) {
  var n = (r.ecModel.getComponent("axisPointer") || {}).coordSysAxesInfo;
  return n && n.axesInfo[makeKey(r)];
}
function getAxisPointerModel(r) {
  var n = getAxisInfo(r);
  return n && n.axisPointerModel;
}
function isHandleTrigger(r) {
  return !!r.get(["handle", "show"]);
}
function makeKey(r) {
  return r.type + "||" + r.id;
}
var axisPointerClazz = {}, AxisView = (
  /** @class */
  function(r) {
    __extends(n, r);
    function n() {
      var i = r !== null && r.apply(this, arguments) || this;
      return i.type = n.type, i;
    }
    return n.prototype.render = function(i, o, a, u) {
      this.axisPointerClass && fixValue(i), r.prototype.render.apply(this, arguments), this._doUpdateAxisPointerClass(i, a, !0);
    }, n.prototype.updateAxisPointer = function(i, o, a, u) {
      this._doUpdateAxisPointerClass(i, a, !1);
    }, n.prototype.remove = function(i, o) {
      var a = this._axisPointer;
      a && a.remove(o);
    }, n.prototype.dispose = function(i, o) {
      this._disposeAxisPointer(o), r.prototype.dispose.apply(this, arguments);
    }, n.prototype._doUpdateAxisPointerClass = function(i, o, a) {
      var u = n.getAxisPointerClass(this.axisPointerClass);
      if (u) {
        var c = getAxisPointerModel(i);
        c ? (this._axisPointer || (this._axisPointer = new u())).render(i, c, o, a) : this._disposeAxisPointer(o);
      }
    }, n.prototype._disposeAxisPointer = function(i) {
      this._axisPointer && this._axisPointer.dispose(i), this._axisPointer = null;
    }, n.registerAxisPointerClass = function(i, o) {
      if (process.env.NODE_ENV !== "production" && axisPointerClazz[i])
        throw new Error("axisPointer " + i + " exists");
      axisPointerClazz[i] = o;
    }, n.getAxisPointerClass = function(i) {
      return i && axisPointerClazz[i];
    }, n.type = "axis", n;
  }(ComponentView$1)
);
const AxisView$1 = AxisView;
var inner$2 = makeInner(), clone = clone$2, bind = bind$1, BaseAxisPointer = (
  /** @class */
  function() {
    function r() {
      this._dragging = !1, this.animationThreshold = 15;
    }
    return r.prototype.render = function(n, i, o, a) {
      var u = i.get("value"), c = i.get("status");
      if (this._axisModel = n, this._axisPointerModel = i, this._api = o, !(!a && this._lastValue === u && this._lastStatus === c)) {
        this._lastValue = u, this._lastStatus = c;
        var f = this._group, d = this._handle;
        if (!c || c === "hide") {
          f && f.hide(), d && d.hide();
          return;
        }
        f && f.show(), d && d.show();
        var p = {};
        this.makeElOption(p, u, n, i, o);
        var y = p.graphicKey;
        y !== this._lastGraphicKey && this.clear(o), this._lastGraphicKey = y;
        var v = this._moveAnimation = this.determineAnimation(n, i);
        if (!f)
          f = this._group = new Group$3(), this.createPointerEl(f, p, n, i), this.createLabelEl(f, p, n, i), o.getZr().add(f);
        else {
          var g = curry$1(updateProps, i, v);
          this.updatePointerEl(f, p, g), this.updateLabelEl(f, p, g, i);
        }
        updateMandatoryProps(f, i, !0), this._renderHandle(u);
      }
    }, r.prototype.remove = function(n) {
      this.clear(n);
    }, r.prototype.dispose = function(n) {
      this.clear(n);
    }, r.prototype.determineAnimation = function(n, i) {
      var o = i.get("animation"), a = n.axis, u = a.type === "category", c = i.get("snap");
      if (!c && !u)
        return !1;
      if (o === "auto" || o == null) {
        var f = this.animationThreshold;
        if (u && a.getBandWidth() > f)
          return !0;
        if (c) {
          var d = getAxisInfo(n).seriesDataCount, p = a.getExtent();
          return Math.abs(p[0] - p[1]) / d > f;
        }
        return !1;
      }
      return o === !0;
    }, r.prototype.makeElOption = function(n, i, o, a, u) {
    }, r.prototype.createPointerEl = function(n, i, o, a) {
      var u = i.pointer;
      if (u) {
        var c = inner$2(n).pointerEl = new graphic[u.type](clone(i.pointer));
        n.add(c);
      }
    }, r.prototype.createLabelEl = function(n, i, o, a) {
      if (i.label) {
        var u = inner$2(n).labelEl = new ZRText$1(clone(i.label));
        n.add(u), updateLabelShowHide(u, a);
      }
    }, r.prototype.updatePointerEl = function(n, i, o) {
      var a = inner$2(n).pointerEl;
      a && i.pointer && (a.setStyle(i.pointer.style), o(a, {
        shape: i.pointer.shape
      }));
    }, r.prototype.updateLabelEl = function(n, i, o, a) {
      var u = inner$2(n).labelEl;
      u && (u.setStyle(i.label.style), o(u, {
        // Consider text length change in vertical axis, animation should
        // be used on shape, otherwise the effect will be weird.
        // TODOTODO
        // shape: elOption.label.shape,
        x: i.label.x,
        y: i.label.y
      }), updateLabelShowHide(u, a));
    }, r.prototype._renderHandle = function(n) {
      if (!(this._dragging || !this.updateHandleTransform)) {
        var i = this._axisPointerModel, o = this._api.getZr(), a = this._handle, u = i.getModel("handle"), c = i.get("status");
        if (!u.get("show") || !c || c === "hide") {
          a && o.remove(a), this._handle = null;
          return;
        }
        var f;
        this._handle || (f = !0, a = this._handle = createIcon(u.get("icon"), {
          cursor: "move",
          draggable: !0,
          onmousemove: function(p) {
            stop(p.event);
          },
          onmousedown: bind(this._onHandleDragMove, this, 0, 0),
          drift: bind(this._onHandleDragMove, this),
          ondragend: bind(this._onHandleDragEnd, this)
        }), o.add(a)), updateMandatoryProps(a, i, !1), a.setStyle(u.getItemStyle(null, ["color", "borderColor", "borderWidth", "opacity", "shadowColor", "shadowBlur", "shadowOffsetX", "shadowOffsetY"]));
        var d = u.get("size");
        isArray$1(d) || (d = [d, d]), a.scaleX = d[0] / 2, a.scaleY = d[1] / 2, createOrUpdate(this, "_doDispatchAxisPointer", u.get("throttle") || 0, "fixRate"), this._moveHandleToValue(n, f);
      }
    }, r.prototype._moveHandleToValue = function(n, i) {
      updateProps(this._axisPointerModel, !i && this._moveAnimation, this._handle, getHandleTransProps(this.getHandleTransform(n, this._axisModel, this._axisPointerModel)));
    }, r.prototype._onHandleDragMove = function(n, i) {
      var o = this._handle;
      if (o) {
        this._dragging = !0;
        var a = this.updateHandleTransform(getHandleTransProps(o), [n, i], this._axisModel, this._axisPointerModel);
        this._payloadInfo = a, o.stopAnimation(), o.attr(getHandleTransProps(a)), inner$2(o).lastProp = null, this._doDispatchAxisPointer();
      }
    }, r.prototype._doDispatchAxisPointer = function() {
      var n = this._handle;
      if (n) {
        var i = this._payloadInfo, o = this._axisModel;
        this._api.dispatchAction({
          type: "updateAxisPointer",
          x: i.cursorPoint[0],
          y: i.cursorPoint[1],
          tooltipOption: i.tooltipOption,
          axesInfo: [{
            axisDim: o.axis.dim,
            axisIndex: o.componentIndex
          }]
        });
      }
    }, r.prototype._onHandleDragEnd = function() {
      this._dragging = !1;
      var n = this._handle;
      if (n) {
        var i = this._axisPointerModel.get("value");
        this._moveHandleToValue(i), this._api.dispatchAction({
          type: "hideTip"
        });
      }
    }, r.prototype.clear = function(n) {
      this._lastValue = null, this._lastStatus = null;
      var i = n.getZr(), o = this._group, a = this._handle;
      i && o && (this._lastGraphicKey = null, o && i.remove(o), a && i.remove(a), this._group = null, this._handle = null, this._payloadInfo = null), clear(this, "_doDispatchAxisPointer");
    }, r.prototype.doClear = function() {
    }, r.prototype.buildLabel = function(n, i, o) {
      return o = o || 0, {
        x: n[o],
        y: n[1 - o],
        width: i[o],
        height: i[1 - o]
      };
    }, r;
  }()
);
function updateProps(r, n, i, o) {
  propsEqual(inner$2(i).lastProp, o) || (inner$2(i).lastProp = o, n ? updateProps$1(i, o, r) : (i.stopAnimation(), i.attr(o)));
}
function propsEqual(r, n) {
  if (isObject$3(r) && isObject$3(n)) {
    var i = !0;
    return each$4(n, function(o, a) {
      i = i && propsEqual(r[a], o);
    }), !!i;
  } else
    return r === n;
}
function updateLabelShowHide(r, n) {
  r[n.get(["label", "show"]) ? "show" : "hide"]();
}
function getHandleTransProps(r) {
  return {
    x: r.x || 0,
    y: r.y || 0,
    rotation: r.rotation || 0
  };
}
function updateMandatoryProps(r, n, i) {
  var o = n.get("z"), a = n.get("zlevel");
  r && r.traverse(function(u) {
    u.type !== "group" && (o != null && (u.z = o), a != null && (u.zlevel = a), u.silent = i);
  });
}
const BaseAxisPointer$1 = BaseAxisPointer;
function buildElStyle(r) {
  var n = r.get("type"), i = r.getModel(n + "Style"), o;
  return n === "line" ? (o = i.getLineStyle(), o.fill = null) : n === "shadow" && (o = i.getAreaStyle(), o.stroke = null), o;
}
function buildLabelElOption(r, n, i, o, a) {
  var u = i.get("value"), c = getValueLabel(u, n.axis, n.ecModel, i.get("seriesDataIndices"), {
    precision: i.get(["label", "precision"]),
    formatter: i.get(["label", "formatter"])
  }), f = i.getModel("label"), d = normalizeCssArray(f.get("padding") || 0), p = f.getFont(), y = getBoundingRect(c, p), v = a.position, g = y.width + d[1] + d[3], _ = y.height + d[0] + d[2], b = a.align;
  b === "right" && (v[0] -= g), b === "center" && (v[0] -= g / 2);
  var A = a.verticalAlign;
  A === "bottom" && (v[1] -= _), A === "middle" && (v[1] -= _ / 2), confineInContainer(v, g, _, o);
  var w = f.get("backgroundColor");
  (!w || w === "auto") && (w = n.get(["axisLine", "lineStyle", "color"])), r.label = {
    // shape: {x: 0, y: 0, width: width, height: height, r: labelModel.get('borderRadius')},
    x: v[0],
    y: v[1],
    style: createTextStyle(f, {
      text: c,
      font: p,
      fill: f.getTextColor(),
      padding: d,
      backgroundColor: w
    }),
    // Lable should be over axisPointer.
    z2: 10
  };
}
function confineInContainer(r, n, i, o) {
  var a = o.getWidth(), u = o.getHeight();
  r[0] = Math.min(r[0] + n, a) - n, r[1] = Math.min(r[1] + i, u) - i, r[0] = Math.max(r[0], 0), r[1] = Math.max(r[1], 0);
}
function getValueLabel(r, n, i, o, a) {
  r = n.scale.parse(r);
  var u = n.scale.getLabel({
    value: r
  }, {
    // If `precision` is set, width can be fixed (like '12.00500'), which
    // helps to debounce when when moving label.
    precision: a.precision
  }), c = a.formatter;
  if (c) {
    var f = {
      value: getAxisRawValue(n, {
        value: r
      }),
      axisDimension: n.dim,
      axisIndex: n.index,
      seriesData: []
    };
    each$4(o, function(d) {
      var p = i.getSeriesByIndex(d.seriesIndex), y = d.dataIndexInside, v = p && p.getDataParams(y);
      v && f.seriesData.push(v);
    }), isString$2(c) ? u = c.replace("{value}", u) : isFunction$1(c) && (u = c(f));
  }
  return u;
}
function getTransformedPosition(r, n, i) {
  var o = create();
  return rotate(o, o, i.rotation), translate$1(o, o, i.position), applyTransform([r.dataToCoord(n), (i.labelOffset || 0) + (i.labelDirection || 1) * (i.labelMargin || 0)], o);
}
function buildCartesianSingleLabelElOption(r, n, i, o, a, u) {
  var c = AxisBuilder$1.innerTextLayout(i.rotation, 0, i.labelDirection);
  i.labelMargin = a.get(["label", "margin"]), buildLabelElOption(n, o, a, u, {
    position: getTransformedPosition(o.axis, r, i),
    align: c.textAlign,
    verticalAlign: c.textVerticalAlign
  });
}
function makeLineShape(r, n, i) {
  return i = i || 0, {
    x1: r[i],
    y1: r[1 - i],
    x2: n[i],
    y2: n[1 - i]
  };
}
function makeRectShape(r, n, i) {
  return i = i || 0, {
    x: r[i],
    y: r[1 - i],
    width: n[i],
    height: n[1 - i]
  };
}
var CartesianAxisPointer = (
  /** @class */
  function(r) {
    __extends(n, r);
    function n() {
      return r !== null && r.apply(this, arguments) || this;
    }
    return n.prototype.makeElOption = function(i, o, a, u, c) {
      var f = a.axis, d = f.grid, p = u.get("type"), y = getCartesian(d, f).getOtherAxis(f).getGlobalExtent(), v = f.toGlobalCoord(f.dataToCoord(o, !0));
      if (p && p !== "none") {
        var g = buildElStyle(u), _ = pointerShapeBuilder[p](f, v, y);
        _.style = g, i.graphicKey = _.type, i.pointer = _;
      }
      var b = layout(d.model, a);
      buildCartesianSingleLabelElOption(
        // @ts-ignore
        o,
        i,
        b,
        a,
        u,
        c
      );
    }, n.prototype.getHandleTransform = function(i, o, a) {
      var u = layout(o.axis.grid.model, o, {
        labelInside: !1
      });
      u.labelMargin = a.get(["handle", "margin"]);
      var c = getTransformedPosition(o.axis, i, u);
      return {
        x: c[0],
        y: c[1],
        rotation: u.rotation + (u.labelDirection < 0 ? Math.PI : 0)
      };
    }, n.prototype.updateHandleTransform = function(i, o, a, u) {
      var c = a.axis, f = c.grid, d = c.getGlobalExtent(!0), p = getCartesian(f, c).getOtherAxis(c).getGlobalExtent(), y = c.dim === "x" ? 0 : 1, v = [i.x, i.y];
      v[y] += o[y], v[y] = Math.min(d[1], v[y]), v[y] = Math.max(d[0], v[y]);
      var g = (p[1] + p[0]) / 2, _ = [g, g];
      _[y] = v[y];
      var b = [{
        verticalAlign: "middle"
      }, {
        align: "center"
      }];
      return {
        x: v[0],
        y: v[1],
        rotation: i.rotation,
        cursorPoint: _,
        tooltipOption: b[y]
      };
    }, n;
  }(BaseAxisPointer$1)
);
function getCartesian(r, n) {
  var i = {};
  return i[n.dim + "AxisIndex"] = n.index, r.getCartesian(i);
}
var pointerShapeBuilder = {
  line: function(r, n, i) {
    var o = makeLineShape([n, i[0]], [n, i[1]], getAxisDimIndex(r));
    return {
      type: "Line",
      subPixelOptimize: !0,
      shape: o
    };
  },
  shadow: function(r, n, i) {
    var o = Math.max(1, r.getBandWidth()), a = i[1] - i[0];
    return {
      type: "Rect",
      shape: makeRectShape([n - o / 2, i[0]], [o, a], getAxisDimIndex(r))
    };
  }
};
function getAxisDimIndex(r) {
  return r.dim === "x" ? 0 : 1;
}
const CartesianAxisPointer$1 = CartesianAxisPointer;
var AxisPointerModel = (
  /** @class */
  function(r) {
    __extends(n, r);
    function n() {
      var i = r !== null && r.apply(this, arguments) || this;
      return i.type = n.type, i;
    }
    return n.type = "axisPointer", n.defaultOption = {
      // 'auto' means that show when triggered by tooltip or handle.
      show: "auto",
      // zlevel: 0,
      z: 50,
      type: "line",
      // axispointer triggered by tootip determine snap automatically,
      // see `modelHelper`.
      snap: !1,
      triggerTooltip: !0,
      value: null,
      status: null,
      link: [],
      // Do not set 'auto' here, otherwise global animation: false
      // will not effect at this axispointer.
      animation: null,
      animationDurationUpdate: 200,
      lineStyle: {
        color: "#B9BEC9",
        width: 1,
        type: "dashed"
      },
      shadowStyle: {
        color: "rgba(210,219,238,0.2)"
      },
      label: {
        show: !0,
        formatter: null,
        precision: "auto",
        margin: 3,
        color: "#fff",
        padding: [5, 7, 5, 7],
        backgroundColor: "auto",
        borderColor: null,
        borderWidth: 0,
        borderRadius: 3
      },
      handle: {
        show: !1,
        // eslint-disable-next-line
        icon: "M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",
        size: 45,
        // handle margin is from symbol center to axis, which is stable when circular move.
        margin: 50,
        // color: '#1b8bbd'
        // color: '#2f4554'
        color: "#333",
        shadowBlur: 3,
        shadowColor: "#aaa",
        shadowOffsetX: 0,
        shadowOffsetY: 2,
        // For mobile performance
        throttle: 40
      }
    }, n;
  }(ComponentModel$1)
);
const AxisPointerModel$1 = AxisPointerModel;
var inner$1 = makeInner(), each$1 = each$4;
function register(r, n, i) {
  if (!env$1.node) {
    var o = n.getZr();
    inner$1(o).records || (inner$1(o).records = {}), initGlobalListeners(o, n);
    var a = inner$1(o).records[r] || (inner$1(o).records[r] = {});
    a.handler = i;
  }
}
function initGlobalListeners(r, n) {
  if (inner$1(r).initialized)
    return;
  inner$1(r).initialized = !0, i("click", curry$1(doEnter, "click")), i("mousemove", curry$1(doEnter, "mousemove")), i("globalout", onLeave);
  function i(o, a) {
    r.on(o, function(u) {
      var c = makeDispatchAction$1(n);
      each$1(inner$1(r).records, function(f) {
        f && a(f, u, c.dispatchAction);
      }), dispatchTooltipFinally(c.pendings, n);
    });
  }
}
function dispatchTooltipFinally(r, n) {
  var i = r.showTip.length, o = r.hideTip.length, a;
  i ? a = r.showTip[i - 1] : o && (a = r.hideTip[o - 1]), a && (a.dispatchAction = null, n.dispatchAction(a));
}
function onLeave(r, n, i) {
  r.handler("leave", null, i);
}
function doEnter(r, n, i, o) {
  n.handler(r, i, o);
}
function makeDispatchAction$1(r) {
  var n = {
    showTip: [],
    hideTip: []
  }, i = function(o) {
    var a = n[o.type];
    a ? a.push(o) : (o.dispatchAction = i, r.dispatchAction(o));
  };
  return {
    dispatchAction: i,
    pendings: n
  };
}
function unregister(r, n) {
  if (!env$1.node) {
    var i = n.getZr(), o = (inner$1(i).records || {})[r];
    o && (inner$1(i).records[r] = null);
  }
}
var AxisPointerView = (
  /** @class */
  function(r) {
    __extends(n, r);
    function n() {
      var i = r !== null && r.apply(this, arguments) || this;
      return i.type = n.type, i;
    }
    return n.prototype.render = function(i, o, a) {
      var u = o.getComponent("tooltip"), c = i.get("triggerOn") || u && u.get("triggerOn") || "mousemove|click";
      register("axisPointer", a, function(f, d, p) {
        c !== "none" && (f === "leave" || c.indexOf(f) >= 0) && p({
          type: "updateAxisPointer",
          currTrigger: f,
          x: d && d.offsetX,
          y: d && d.offsetY
        });
      });
    }, n.prototype.remove = function(i, o) {
      unregister("axisPointer", o);
    }, n.prototype.dispose = function(i, o) {
      unregister("axisPointer", o);
    }, n.type = "axisPointer", n;
  }(ComponentView$1)
);
const AxisPointerView$1 = AxisPointerView;
function findPointFromSeries(r, n) {
  var i = [], o = r.seriesIndex, a;
  if (o == null || !(a = n.getSeriesByIndex(o)))
    return {
      point: []
    };
  var u = a.getData(), c = queryDataIndex(u, r);
  if (c == null || c < 0 || isArray$1(c))
    return {
      point: []
    };
  var f = u.getItemGraphicEl(c), d = a.coordinateSystem;
  if (a.getTooltipPosition)
    i = a.getTooltipPosition(c) || [];
  else if (d && d.dataToPoint)
    if (r.isStacked) {
      var p = d.getBaseAxis(), y = d.getOtherAxis(p), v = y.dim, g = p.dim, _ = v === "x" || v === "radius" ? 1 : 0, b = u.mapDimension(g), A = [];
      A[_] = u.get(b, c), A[1 - _] = u.get(u.getCalculationInfo("stackResultDimension"), c), i = d.dataToPoint(A) || [];
    } else
      i = d.dataToPoint(u.getValues(map$1(d.dimensions, function(S) {
        return u.mapDimension(S);
      }), c)) || [];
  else if (f) {
    var w = f.getBoundingRect().clone();
    w.applyTransform(f.transform), i = [w.x + w.width / 2, w.y + w.height / 2];
  }
  return {
    point: i,
    el: f
  };
}
var inner = makeInner();
function axisTrigger(r, n, i) {
  var o = r.currTrigger, a = [r.x, r.y], u = r, c = r.dispatchAction || bind$1(i.dispatchAction, i), f = n.getComponent("axisPointer").coordSysAxesInfo;
  if (f) {
    illegalPoint(a) && (a = findPointFromSeries({
      seriesIndex: u.seriesIndex,
      // Do not use dataIndexInside from other ec instance.
      // FIXME: auto detect it?
      dataIndex: u.dataIndex
    }, n).point);
    var d = illegalPoint(a), p = u.axesInfo, y = f.axesInfo, v = o === "leave" || illegalPoint(a), g = {}, _ = {}, b = {
      list: [],
      map: {}
    }, A = {
      showPointer: curry$1(showPointer, _),
      showTooltip: curry$1(showTooltip, b)
    };
    each$4(f.coordSysMap, function(S, x) {
      var T = d || S.containPoint(a);
      each$4(f.coordSysAxesInfo[x], function(L, k) {
        var M = L.axis, O = findInputAxisInfo(p, L);
        if (!v && T && (!p || O)) {
          var ie = O && O.value;
          ie == null && !d && (ie = M.pointToData(a)), ie != null && processOnAxis(L, ie, A, !1, g);
        }
      });
    });
    var w = {};
    return each$4(y, function(S, x) {
      var T = S.linkGroup;
      T && !_[x] && each$4(T.axesInfo, function(L, k) {
        var M = _[k];
        if (L !== S && M) {
          var O = M.value;
          T.mapper && (O = S.axis.scale.parse(T.mapper(O, makeMapperParam(L), makeMapperParam(S)))), w[S.key] = O;
        }
      });
    }), each$4(w, function(S, x) {
      processOnAxis(y[x], S, A, !0, g);
    }), updateModelActually(_, y, g), dispatchTooltipActually(b, a, r, c), dispatchHighDownActually(y, c, i), g;
  }
}
function processOnAxis(r, n, i, o, a) {
  var u = r.axis;
  if (!(u.scale.isBlank() || !u.containData(n))) {
    if (!r.involveSeries) {
      i.showPointer(r, n);
      return;
    }
    var c = buildPayloadsBySeries(n, r), f = c.payloadBatch, d = c.snapToValue;
    f[0] && a.seriesIndex == null && extend(a, f[0]), !o && r.snap && u.containData(d) && d != null && (n = d), i.showPointer(r, n, f), i.showTooltip(r, c, d);
  }
}
function buildPayloadsBySeries(r, n) {
  var i = n.axis, o = i.dim, a = r, u = [], c = Number.MAX_VALUE, f = -1;
  return each$4(n.seriesModels, function(d, p) {
    var y = d.getData().mapDimensionsAll(o), v, g;
    if (d.getAxisTooltipData) {
      var _ = d.getAxisTooltipData(y, r, i);
      g = _.dataIndices, v = _.nestestValue;
    } else {
      if (g = d.getData().indicesOfNearest(
        y[0],
        r,
        // Add a threshold to avoid find the wrong dataIndex
        // when data length is not same.
        // false,
        i.type === "category" ? 0.5 : null
      ), !g.length)
        return;
      v = d.getData().get(y[0], g[0]);
    }
    if (!(v == null || !isFinite(v))) {
      var b = r - v, A = Math.abs(b);
      A <= c && ((A < c || b >= 0 && f < 0) && (c = A, f = b, a = v, u.length = 0), each$4(g, function(w) {
        u.push({
          seriesIndex: d.seriesIndex,
          dataIndexInside: w,
          dataIndex: d.getData().getRawIndex(w)
        });
      }));
    }
  }), {
    payloadBatch: u,
    snapToValue: a
  };
}
function showPointer(r, n, i, o) {
  r[n.key] = {
    value: i,
    payloadBatch: o
  };
}
function showTooltip(r, n, i, o) {
  var a = i.payloadBatch, u = n.axis, c = u.model, f = n.axisPointerModel;
  if (!(!n.triggerTooltip || !a.length)) {
    var d = n.coordSys.model, p = makeKey(d), y = r.map[p];
    y || (y = r.map[p] = {
      coordSysId: d.id,
      coordSysIndex: d.componentIndex,
      coordSysType: d.type,
      coordSysMainType: d.mainType,
      dataByAxis: []
    }, r.list.push(y)), y.dataByAxis.push({
      axisDim: u.dim,
      axisIndex: c.componentIndex,
      axisType: c.type,
      axisId: c.id,
      value: o,
      // Caustion: viewHelper.getValueLabel is actually on "view stage", which
      // depends that all models have been updated. So it should not be performed
      // here. Considering axisPointerModel used here is volatile, which is hard
      // to be retrieve in TooltipView, we prepare parameters here.
      valueLabelOpt: {
        precision: f.get(["label", "precision"]),
        formatter: f.get(["label", "formatter"])
      },
      seriesDataIndices: a.slice()
    });
  }
}
function updateModelActually(r, n, i) {
  var o = i.axesInfo = [];
  each$4(n, function(a, u) {
    var c = a.axisPointerModel.option, f = r[u];
    f ? (!a.useHandle && (c.status = "show"), c.value = f.value, c.seriesDataIndices = (f.payloadBatch || []).slice()) : !a.useHandle && (c.status = "hide"), c.status === "show" && o.push({
      axisDim: a.axis.dim,
      axisIndex: a.axis.model.componentIndex,
      value: c.value
    });
  });
}
function dispatchTooltipActually(r, n, i, o) {
  if (illegalPoint(n) || !r.list.length) {
    o({
      type: "hideTip"
    });
    return;
  }
  var a = ((r.list[0].dataByAxis[0] || {}).seriesDataIndices || [])[0] || {};
  o({
    type: "showTip",
    escapeConnect: !0,
    x: n[0],
    y: n[1],
    tooltipOption: i.tooltipOption,
    position: i.position,
    dataIndexInside: a.dataIndexInside,
    dataIndex: a.dataIndex,
    seriesIndex: a.seriesIndex,
    dataByCoordSys: r.list
  });
}
function dispatchHighDownActually(r, n, i) {
  var o = i.getZr(), a = "axisPointerLastHighlights", u = inner(o)[a] || {}, c = inner(o)[a] = {};
  each$4(r, function(p, y) {
    var v = p.axisPointerModel.option;
    v.status === "show" && each$4(v.seriesDataIndices, function(g) {
      var _ = g.seriesIndex + " | " + g.dataIndex;
      c[_] = g;
    });
  });
  var f = [], d = [];
  each$4(u, function(p, y) {
    !c[y] && d.push(p);
  }), each$4(c, function(p, y) {
    !u[y] && f.push(p);
  }), d.length && i.dispatchAction({
    type: "downplay",
    escapeConnect: !0,
    // Not blur others when highlight in axisPointer.
    notBlur: !0,
    batch: d
  }), f.length && i.dispatchAction({
    type: "highlight",
    escapeConnect: !0,
    // Not blur others when highlight in axisPointer.
    notBlur: !0,
    batch: f
  });
}
function findInputAxisInfo(r, n) {
  for (var i = 0; i < (r || []).length; i++) {
    var o = r[i];
    if (n.axis.dim === o.axisDim && n.axis.model.componentIndex === o.axisIndex)
      return o;
  }
}
function makeMapperParam(r) {
  var n = r.axis.model, i = {}, o = i.axisDim = r.axis.dim;
  return i.axisIndex = i[o + "AxisIndex"] = n.componentIndex, i.axisName = i[o + "AxisName"] = n.name, i.axisId = i[o + "AxisId"] = n.id, i;
}
function illegalPoint(r) {
  return !r || r[0] == null || isNaN(r[0]) || r[1] == null || isNaN(r[1]);
}
function install$5(r) {
  AxisView$1.registerAxisPointerClass("CartesianAxisPointer", CartesianAxisPointer$1), r.registerComponentModel(AxisPointerModel$1), r.registerComponentView(AxisPointerView$1), r.registerPreprocessor(function(n) {
    if (n) {
      (!n.axisPointer || n.axisPointer.length === 0) && (n.axisPointer = {});
      var i = n.axisPointer.link;
      i && !isArray$1(i) && (n.axisPointer.link = [i]);
    }
  }), r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC, function(n, i) {
    n.getComponent("axisPointer").coordSysAxesInfo = collect(n, i);
  }), r.registerAction({
    type: "updateAxisPointer",
    event: "updateAxisPointer",
    update: ":updateAxisPointer"
  }, axisTrigger);
}
function makeBackground(r, n) {
  var i = normalizeCssArray(n.get("padding")), o = n.getItemStyle(["color", "opacity"]);
  return o.fill = n.get("backgroundColor"), r = new Rect$1({
    shape: {
      x: r.x - i[3],
      y: r.y - i[0],
      width: r.width + i[1] + i[3],
      height: r.height + i[0] + i[2],
      r: n.get("borderRadius")
    },
    style: o,
    silent: !0,
    z2: -1
  }), r;
}
var TooltipModel = (
  /** @class */
  function(r) {
    __extends(n, r);
    function n() {
      var i = r !== null && r.apply(this, arguments) || this;
      return i.type = n.type, i;
    }
    return n.type = "tooltip", n.dependencies = ["axisPointer"], n.defaultOption = {
      // zlevel: 0,
      z: 60,
      show: !0,
      // tooltip main content
      showContent: !0,
      // 'trigger' only works on coordinate system.
      // 'item' | 'axis' | 'none'
      trigger: "item",
      // 'click' | 'mousemove' | 'none'
      triggerOn: "mousemove|click",
      alwaysShowContent: !1,
      displayMode: "single",
      renderMode: "auto",
      // whether restraint content inside viewRect.
      // If renderMode: 'richText', default true.
      // If renderMode: 'html', defaut false (for backward compat).
      confine: null,
      showDelay: 0,
      hideDelay: 100,
      // Animation transition time, unit is second
      transitionDuration: 0.4,
      enterable: !1,
      backgroundColor: "#fff",
      // box shadow
      shadowBlur: 10,
      shadowColor: "rgba(0, 0, 0, .2)",
      shadowOffsetX: 1,
      shadowOffsetY: 2,
      // tooltip border radius, unit is px, default is 4
      borderRadius: 4,
      // tooltip border width, unit is px, default is 0 (no border)
      borderWidth: 1,
      // Tooltip inside padding, default is 5 for all direction
      // Array is allowed to set up, right, bottom, left, same with css
      // The default value: See `tooltip/tooltipMarkup.ts#getPaddingFromTooltipModel`.
      padding: null,
      // Extra css text
      extraCssText: "",
      // axis indicator, trigger by axis
      axisPointer: {
        // default is line
        // legal values: 'line' | 'shadow' | 'cross'
        type: "line",
        // Valid when type is line, appoint tooltip line locate on which line. Optional
        // legal values: 'x' | 'y' | 'angle' | 'radius' | 'auto'
        // default is 'auto', chose the axis which type is category.
        // for multiply y axis, cartesian coord chose x axis, polar chose angle axis
        axis: "auto",
        animation: "auto",
        animationDurationUpdate: 200,
        animationEasingUpdate: "exponentialOut",
        crossStyle: {
          color: "#999",
          width: 1,
          type: "dashed",
          // TODO formatter
          textStyle: {}
        }
        // lineStyle and shadowStyle should not be specified here,
        // otherwise it will always override those styles on option.axisPointer.
      },
      textStyle: {
        color: "#666",
        fontSize: 14
      }
    }, n;
  }(ComponentModel$1)
);
const TooltipModel$1 = TooltipModel;
function shouldTooltipConfine(r) {
  var n = r.get("confine");
  return n != null ? !!n : r.get("renderMode") === "richText";
}
function testStyle(r) {
  if (env$1.domSupported) {
    for (var n = document.documentElement.style, i = 0, o = r.length; i < o; i++)
      if (r[i] in n)
        return r[i];
  }
}
var TRANSFORM_VENDOR = testStyle(["transform", "webkitTransform", "OTransform", "MozTransform", "msTransform"]), TRANSITION_VENDOR = testStyle(["webkitTransition", "transition", "OTransition", "MozTransition", "msTransition"]);
function toCSSVendorPrefix(r, n) {
  if (!r)
    return n;
  n = toCamelCase(n, !0);
  var i = r.indexOf(n);
  return r = i === -1 ? n : "-" + r.slice(0, i) + "-" + n, r.toLowerCase();
}
function getComputedStyle$1(r, n) {
  var i = r.currentStyle || document.defaultView && document.defaultView.getComputedStyle(r);
  return i ? n ? i[n] : i : null;
}
var CSS_TRANSITION_VENDOR = toCSSVendorPrefix(TRANSITION_VENDOR, "transition"), CSS_TRANSFORM_VENDOR = toCSSVendorPrefix(TRANSFORM_VENDOR, "transform"), gCssText = "position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;" + (env$1.transform3dSupported ? "will-change:transform;" : "");
function mirrorPos(r) {
  return r = r === "left" ? "right" : r === "right" ? "left" : r === "top" ? "bottom" : "top", r;
}
function assembleArrow(r, n, i) {
  if (!isString$2(i) || i === "inside")
    return "";
  var o = r.get("backgroundColor"), a = r.get("borderWidth");
  n = convertToColorString(n);
  var u = mirrorPos(i), c = Math.max(Math.round(a) * 1.5, 6), f = "", d = CSS_TRANSFORM_VENDOR + ":", p;
  indexOf(["left", "right"], u) > -1 ? (f += "top:50%", d += "translateY(-50%) rotate(" + (p = u === "left" ? -225 : -45) + "deg)") : (f += "left:50%", d += "translateX(-50%) rotate(" + (p = u === "top" ? 225 : 45) + "deg)");
  var y = p * Math.PI / 180, v = c + a, g = v * Math.abs(Math.cos(y)) + v * Math.abs(Math.sin(y)), _ = Math.round(((g - Math.SQRT2 * a) / 2 + Math.SQRT2 * a - (g - v) / 2) * 100) / 100;
  f += ";" + u + ":-" + _ + "px";
  var b = n + " solid " + a + "px;", A = ["position:absolute;width:" + c + "px;height:" + c + "px;z-index:-1;", f + ";" + d + ";", "border-bottom:" + b, "border-right:" + b, "background-color:" + o + ";"];
  return '<div style="' + A.join("") + '"></div>';
}
function assembleTransition(r, n) {
  var i = "cubic-bezier(0.23,1,0.32,1)", o = " " + r / 2 + "s " + i, a = "opacity" + o + ",visibility" + o;
  return n || (o = " " + r + "s " + i, a += env$1.transformSupported ? "," + CSS_TRANSFORM_VENDOR + o : ",left" + o + ",top" + o), CSS_TRANSITION_VENDOR + ":" + a;
}
function assembleTransform(r, n, i) {
  var o = r.toFixed(0) + "px", a = n.toFixed(0) + "px";
  if (!env$1.transformSupported)
    return i ? "top:" + a + ";left:" + o + ";" : [["top", a], ["left", o]];
  var u = env$1.transform3dSupported, c = "translate" + (u ? "3d" : "") + "(" + o + "," + a + (u ? ",0" : "") + ")";
  return i ? "top:0;left:0;" + CSS_TRANSFORM_VENDOR + ":" + c + ";" : [["top", 0], ["left", 0], [TRANSFORM_VENDOR, c]];
}
function assembleFont(r) {
  var n = [], i = r.get("fontSize"), o = r.getTextColor();
  o && n.push("color:" + o), n.push("font:" + r.getFont()), i && n.push("line-height:" + Math.round(i * 3 / 2) + "px");
  var a = r.get("textShadowColor"), u = r.get("textShadowBlur") || 0, c = r.get("textShadowOffsetX") || 0, f = r.get("textShadowOffsetY") || 0;
  return a && u && n.push("text-shadow:" + c + "px " + f + "px " + u + "px " + a), each$4(["decoration", "align"], function(d) {
    var p = r.get(d);
    p && n.push("text-" + d + ":" + p);
  }), n.join(";");
}
function assembleCssText(r, n, i) {
  var o = [], a = r.get("transitionDuration"), u = r.get("backgroundColor"), c = r.get("shadowBlur"), f = r.get("shadowColor"), d = r.get("shadowOffsetX"), p = r.get("shadowOffsetY"), y = r.getModel("textStyle"), v = getPaddingFromTooltipModel(r, "html"), g = d + "px " + p + "px " + c + "px " + f;
  return o.push("box-shadow:" + g), n && a && o.push(assembleTransition(a, i)), u && o.push("background-color:" + u), each$4(["width", "color", "radius"], function(_) {
    var b = "border-" + _, A = toCamelCase(b), w = r.get(A);
    w != null && o.push(b + ":" + w + (_ === "color" ? "" : "px"));
  }), o.push(assembleFont(y)), v != null && o.push("padding:" + normalizeCssArray(v).join("px ") + "px"), o.join(";") + ";";
}
function makeStyleCoord$1(r, n, i, o, a) {
  var u = n && n.painter;
  if (i) {
    var c = u && u.getViewportRoot();
    c && transformLocalCoord(r, c, document.body, o, a);
  } else {
    r[0] = o, r[1] = a;
    var f = u && u.getViewportRootOffset();
    f && (r[0] += f.offsetLeft, r[1] += f.offsetTop);
  }
  r[2] = r[0] / n.getWidth(), r[3] = r[1] / n.getHeight();
}
var TooltipHTMLContent = (
  /** @class */
  function() {
    function r(n, i, o) {
      if (this._show = !1, this._styleCoord = [0, 0, 0, 0], this._enterable = !0, this._firstShow = !0, this._longHide = !0, env$1.wxa)
        return null;
      var a = document.createElement("div");
      a.domBelongToZr = !0, this.el = a;
      var u = this._zr = i.getZr(), c = this._appendToBody = o && o.appendToBody;
      makeStyleCoord$1(this._styleCoord, u, c, i.getWidth() / 2, i.getHeight() / 2), c ? document.body.appendChild(a) : n.appendChild(a), this._container = n;
      var f = this;
      a.onmouseenter = function() {
        f._enterable && (clearTimeout(f._hideTimeout), f._show = !0), f._inContent = !0;
      }, a.onmousemove = function(d) {
        if (d = d || window.event, !f._enterable) {
          var p = u.handler, y = u.painter.getViewportRoot();
          normalizeEvent(y, d, !0), p.dispatch("mousemove", d);
        }
      }, a.onmouseleave = function() {
        f._inContent = !1, f._enterable && f._show && f.hideLater(f._hideDelay);
      };
    }
    return r.prototype.update = function(n) {
      var i = this._container, o = getComputedStyle$1(i, "position"), a = i.style;
      a.position !== "absolute" && o !== "absolute" && (a.position = "relative");
      var u = n.get("alwaysShowContent");
      u && this._moveIfResized(), this.el.className = n.get("className") || "";
    }, r.prototype.show = function(n, i) {
      clearTimeout(this._hideTimeout), clearTimeout(this._longHideTimeout);
      var o = this.el, a = o.style, u = this._styleCoord;
      o.innerHTML ? a.cssText = gCssText + assembleCssText(n, !this._firstShow, this._longHide) + assembleTransform(u[0], u[1], !0) + ("border-color:" + convertToColorString(i) + ";") + (n.get("extraCssText") || "") + (";pointer-events:" + (this._enterable ? "auto" : "none")) : a.display = "none", this._show = !0, this._firstShow = !1, this._longHide = !1;
    }, r.prototype.setContent = function(n, i, o, a, u) {
      var c = this.el;
      if (n == null) {
        c.innerHTML = "";
        return;
      }
      var f = "";
      if (isString$2(u) && o.get("trigger") === "item" && !shouldTooltipConfine(o) && (f = assembleArrow(o, a, u)), isString$2(n))
        c.innerHTML = n + f;
      else if (n) {
        c.innerHTML = "", isArray$1(n) || (n = [n]);
        for (var d = 0; d < n.length; d++)
          isDom(n[d]) && n[d].parentNode !== c && c.appendChild(n[d]);
        if (f && c.childNodes.length) {
          var p = document.createElement("div");
          p.innerHTML = f, c.appendChild(p);
        }
      }
    }, r.prototype.setEnterable = function(n) {
      this._enterable = n;
    }, r.prototype.getSize = function() {
      var n = this.el;
      return [n.offsetWidth, n.offsetHeight];
    }, r.prototype.moveTo = function(n, i) {
      var o = this._styleCoord;
      if (makeStyleCoord$1(o, this._zr, this._appendToBody, n, i), o[0] != null && o[1] != null) {
        var a = this.el.style, u = assembleTransform(o[0], o[1]);
        each$4(u, function(c) {
          a[c[0]] = c[1];
        });
      }
    }, r.prototype._moveIfResized = function() {
      var n = this._styleCoord[2], i = this._styleCoord[3];
      this.moveTo(n * this._zr.getWidth(), i * this._zr.getHeight());
    }, r.prototype.hide = function() {
      var n = this, i = this.el.style;
      i.visibility = "hidden", i.opacity = "0", env$1.transform3dSupported && (i.willChange = ""), this._show = !1, this._longHideTimeout = setTimeout(function() {
        return n._longHide = !0;
      }, 500);
    }, r.prototype.hideLater = function(n) {
      this._show && !(this._inContent && this._enterable) && (n ? (this._hideDelay = n, this._show = !1, this._hideTimeout = setTimeout(bind$1(this.hide, this), n)) : this.hide());
    }, r.prototype.isShow = function() {
      return this._show;
    }, r.prototype.dispose = function() {
      this.el.parentNode.removeChild(this.el);
    }, r;
  }()
);
const TooltipHTMLContent$1 = TooltipHTMLContent;
var TooltipRichContent = (
  /** @class */
  function() {
    function r(n) {
      this._show = !1, this._styleCoord = [0, 0, 0, 0], this._enterable = !0, this._zr = n.getZr(), makeStyleCoord(this._styleCoord, this._zr, n.getWidth() / 2, n.getHeight() / 2);
    }
    return r.prototype.update = function(n) {
      var i = n.get("alwaysShowContent");
      i && this._moveIfResized();
    }, r.prototype.show = function() {
      this._hideTimeout && clearTimeout(this._hideTimeout), this.el.show(), this._show = !0;
    }, r.prototype.setContent = function(n, i, o, a, u) {
      var c = this;
      isObject$3(n) && throwError$1(process.env.NODE_ENV !== "production" ? "Passing DOM nodes as content is not supported in richText tooltip!" : ""), this.el && this._zr.remove(this.el);
      var f = o.getModel("textStyle");
      this.el = new ZRText$1({
        style: {
          rich: i.richTextStyles,
          text: n,
          lineHeight: 22,
          borderWidth: 1,
          borderColor: a,
          textShadowColor: f.get("textShadowColor"),
          fill: o.get(["textStyle", "color"]),
          padding: getPaddingFromTooltipModel(o, "richText"),
          verticalAlign: "top",
          align: "left"
        },
        z: o.get("z")
      }), each$4(["backgroundColor", "borderRadius", "shadowColor", "shadowBlur", "shadowOffsetX", "shadowOffsetY"], function(p) {
        c.el.style[p] = o.get(p);
      }), each$4(["textShadowBlur", "textShadowOffsetX", "textShadowOffsetY"], function(p) {
        c.el.style[p] = f.get(p) || 0;
      }), this._zr.add(this.el);
      var d = this;
      this.el.on("mouseover", function() {
        d._enterable && (clearTimeout(d._hideTimeout), d._show = !0), d._inContent = !0;
      }), this.el.on("mouseout", function() {
        d._enterable && d._show && d.hideLater(d._hideDelay), d._inContent = !1;
      });
    }, r.prototype.setEnterable = function(n) {
      this._enterable = n;
    }, r.prototype.getSize = function() {
      var n = this.el, i = this.el.getBoundingRect(), o = calcShadowOuterSize(n.style);
      return [i.width + o.left + o.right, i.height + o.top + o.bottom];
    }, r.prototype.moveTo = function(n, i) {
      var o = this.el;
      if (o) {
        var a = this._styleCoord;
        makeStyleCoord(a, this._zr, n, i), n = a[0], i = a[1];
        var u = o.style, c = mathMaxWith0(u.borderWidth || 0), f = calcShadowOuterSize(u);
        o.x = n + c + f.left, o.y = i + c + f.top, o.markRedraw();
      }
    }, r.prototype._moveIfResized = function() {
      var n = this._styleCoord[2], i = this._styleCoord[3];
      this.moveTo(n * this._zr.getWidth(), i * this._zr.getHeight());
    }, r.prototype.hide = function() {
      this.el && this.el.hide(), this._show = !1;
    }, r.prototype.hideLater = function(n) {
      this._show && !(this._inContent && this._enterable) && (n ? (this._hideDelay = n, this._show = !1, this._hideTimeout = setTimeout(bind$1(this.hide, this), n)) : this.hide());
    }, r.prototype.isShow = function() {
      return this._show;
    }, r.prototype.dispose = function() {
      this._zr.remove(this.el);
    }, r;
  }()
);
function mathMaxWith0(r) {
  return Math.max(0, r);
}
function calcShadowOuterSize(r) {
  var n = mathMaxWith0(r.shadowBlur || 0), i = mathMaxWith0(r.shadowOffsetX || 0), o = mathMaxWith0(r.shadowOffsetY || 0);
  return {
    left: mathMaxWith0(n - i),
    right: mathMaxWith0(n + i),
    top: mathMaxWith0(n - o),
    bottom: mathMaxWith0(n + o)
  };
}
function makeStyleCoord(r, n, i, o) {
  r[0] = i, r[1] = o, r[2] = r[0] / n.getWidth(), r[3] = r[1] / n.getHeight();
}
const TooltipRichContent$1 = TooltipRichContent;
var proxyRect = new Rect$1({
  shape: {
    x: -1,
    y: -1,
    width: 2,
    height: 2
  }
}), TooltipView = (
  /** @class */
  function(r) {
    __extends(n, r);
    function n() {
      var i = r !== null && r.apply(this, arguments) || this;
      return i.type = n.type, i;
    }
    return n.prototype.init = function(i, o) {
      if (!(env$1.node || !o.getDom())) {
        var a = i.getComponent("tooltip"), u = this._renderMode = getTooltipRenderMode(a.get("renderMode"));
        this._tooltipContent = u === "richText" ? new TooltipRichContent$1(o) : new TooltipHTMLContent$1(o.getDom(), o, {
          appendToBody: a.get("appendToBody", !0)
        });
      }
    }, n.prototype.render = function(i, o, a) {
      if (!(env$1.node || !a.getDom())) {
        this.group.removeAll(), this._tooltipModel = i, this._ecModel = o, this._api = a, this._alwaysShowContent = i.get("alwaysShowContent");
        var u = this._tooltipContent;
        u.update(i), u.setEnterable(i.get("enterable")), this._initGlobalListener(), this._keepShow(), this._renderMode !== "richText" && i.get("transitionDuration") ? createOrUpdate(this, "_updatePosition", 50, "fixRate") : clear(this, "_updatePosition");
      }
    }, n.prototype._initGlobalListener = function() {
      var i = this._tooltipModel, o = i.get("triggerOn");
      register("itemTooltip", this._api, bind$1(function(a, u, c) {
        o !== "none" && (o.indexOf(a) >= 0 ? this._tryShow(u, c) : a === "leave" && this._hide(c));
      }, this));
    }, n.prototype._keepShow = function() {
      var i = this._tooltipModel, o = this._ecModel, a = this._api, u = i.get("triggerOn");
      if (this._lastX != null && this._lastY != null && u !== "none" && u !== "click") {
        var c = this;
        clearTimeout(this._refreshUpdateTimeout), this._refreshUpdateTimeout = setTimeout(function() {
          !a.isDisposed() && c.manuallyShowTip(i, o, a, {
            x: c._lastX,
            y: c._lastY,
            dataByCoordSys: c._lastDataByCoordSys
          });
        });
      }
    }, n.prototype.manuallyShowTip = function(i, o, a, u) {
      if (!(u.from === this.uid || env$1.node || !a.getDom())) {
        var c = makeDispatchAction(u, a);
        this._ticket = "";
        var f = u.dataByCoordSys, d = findComponentReference(u, o, a);
        if (d) {
          var p = d.el.getBoundingRect().clone();
          p.applyTransform(d.el.transform), this._tryShow({
            offsetX: p.x + p.width / 2,
            offsetY: p.y + p.height / 2,
            target: d.el,
            position: u.position,
            // When manully trigger, the mouse is not on the el, so we'd better to
            // position tooltip on the bottom of the el and display arrow is possible.
            positionDefault: "bottom"
          }, c);
        } else if (u.tooltip && u.x != null && u.y != null) {
          var y = proxyRect;
          y.x = u.x, y.y = u.y, y.update(), getECData(y).tooltipConfig = {
            name: null,
            option: u.tooltip
          }, this._tryShow({
            offsetX: u.x,
            offsetY: u.y,
            target: y
          }, c);
        } else if (f)
          this._tryShow({
            offsetX: u.x,
            offsetY: u.y,
            position: u.position,
            dataByCoordSys: f,
            tooltipOption: u.tooltipOption
          }, c);
        else if (u.seriesIndex != null) {
          if (this._manuallyAxisShowTip(i, o, a, u))
            return;
          var v = findPointFromSeries(u, o), g = v.point[0], _ = v.point[1];
          g != null && _ != null && this._tryShow({
            offsetX: g,
            offsetY: _,
            target: v.el,
            position: u.position,
            // When manully trigger, the mouse is not on the el, so we'd better to
            // position tooltip on the bottom of the el and display arrow is possible.
            positionDefault: "bottom"
          }, c);
        } else
          u.x != null && u.y != null && (a.dispatchAction({
            type: "updateAxisPointer",
            x: u.x,
            y: u.y
          }), this._tryShow({
            offsetX: u.x,
            offsetY: u.y,
            position: u.position,
            target: a.getZr().findHover(u.x, u.y).target
          }, c));
      }
    }, n.prototype.manuallyHideTip = function(i, o, a, u) {
      var c = this._tooltipContent;
      !this._alwaysShowContent && this._tooltipModel && c.hideLater(this._tooltipModel.get("hideDelay")), this._lastX = this._lastY = this._lastDataByCoordSys = null, u.from !== this.uid && this._hide(makeDispatchAction(u, a));
    }, n.prototype._manuallyAxisShowTip = function(i, o, a, u) {
      var c = u.seriesIndex, f = u.dataIndex, d = o.getComponent("axisPointer").coordSysAxesInfo;
      if (!(c == null || f == null || d == null)) {
        var p = o.getSeriesByIndex(c);
        if (p) {
          var y = p.getData(), v = buildTooltipModel([y.getItemModel(f), p, (p.coordinateSystem || {}).model], this._tooltipModel);
          if (v.get("trigger") === "axis")
            return a.dispatchAction({
              type: "updateAxisPointer",
              seriesIndex: c,
              dataIndex: f,
              position: u.position
            }), !0;
        }
      }
    }, n.prototype._tryShow = function(i, o) {
      var a = i.target, u = this._tooltipModel;
      if (u) {
        this._lastX = i.offsetX, this._lastY = i.offsetY;
        var c = i.dataByCoordSys;
        if (c && c.length)
          this._showAxisTooltip(c, i);
        else if (a) {
          this._lastDataByCoordSys = null;
          var f, d;
          findEventDispatcher(a, function(p) {
            if (getECData(p).dataIndex != null)
              return f = p, !0;
            if (getECData(p).tooltipConfig != null)
              return d = p, !0;
          }, !0), f ? this._showSeriesItemTooltip(i, f, o) : d ? this._showComponentItemTooltip(i, d, o) : this._hide(o);
        } else
          this._lastDataByCoordSys = null, this._hide(o);
      }
    }, n.prototype._showOrMove = function(i, o) {
      var a = i.get("showDelay");
      o = bind$1(o, this), clearTimeout(this._showTimout), a > 0 ? this._showTimout = setTimeout(o, a) : o();
    }, n.prototype._showAxisTooltip = function(i, o) {
      var a = this._ecModel, u = this._tooltipModel, c = [o.offsetX, o.offsetY], f = buildTooltipModel([o.tooltipOption], u), d = this._renderMode, p = [], y = createTooltipMarkup("section", {
        blocks: [],
        noHeader: !0
      }), v = [], g = new TooltipMarkupStyleCreator();
      each$4(i, function(x) {
        each$4(x.dataByAxis, function(T) {
          var L = a.getComponent(T.axisDim + "Axis", T.axisIndex), k = T.value;
          if (!(!L || k == null)) {
            var M = getValueLabel(k, L.axis, a, T.seriesDataIndices, T.valueLabelOpt), O = createTooltipMarkup("section", {
              header: M,
              noHeader: !trim(M),
              sortBlocks: !0,
              blocks: []
            });
            y.blocks.push(O), each$4(T.seriesDataIndices, function(ie) {
              var F = a.getSeriesByIndex(ie.seriesIndex), re = ie.dataIndexInside, D = F.getDataParams(re);
              if (!(D.dataIndex < 0)) {
                D.axisDim = T.axisDim, D.axisIndex = T.axisIndex, D.axisType = T.axisType, D.axisId = T.axisId, D.axisValue = getAxisRawValue(L.axis, {
                  value: k
                }), D.axisValueLabel = M, D.marker = g.makeTooltipMarker("item", convertToColorString(D.color), d);
                var Y = normalizeTooltipFormatResult(F.formatTooltip(re, !0, null)), z = Y.frag;
                if (z) {
                  var pe = buildTooltipModel([F], u).get("valueFormatter");
                  O.blocks.push(pe ? extend({
                    valueFormatter: pe
                  }, z) : z);
                }
                Y.text && v.push(Y.text), p.push(D);
              }
            });
          }
        });
      }), y.blocks.reverse(), v.reverse();
      var _ = o.position, b = f.get("order"), A = buildTooltipMarkup(y, g, d, b, a.get("useUTC"), f.get("textStyle"));
      A && v.unshift(A);
      var w = d === "richText" ? `

` : "<br/>", S = v.join(w);
      this._showOrMove(f, function() {
        this._updateContentNotChangedOnAxis(i, p) ? this._updatePosition(f, _, c[0], c[1], this._tooltipContent, p) : this._showTooltipContent(f, S, p, Math.random() + "", c[0], c[1], _, null, g);
      });
    }, n.prototype._showSeriesItemTooltip = function(i, o, a) {
      var u = this._ecModel, c = getECData(o), f = c.seriesIndex, d = u.getSeriesByIndex(f), p = c.dataModel || d, y = c.dataIndex, v = c.dataType, g = p.getData(v), _ = this._renderMode, b = i.positionDefault, A = buildTooltipModel([g.getItemModel(y), p, d && (d.coordinateSystem || {}).model], this._tooltipModel, b ? {
        position: b
      } : null), w = A.get("trigger");
      if (!(w != null && w !== "item")) {
        var S = p.getDataParams(y, v), x = new TooltipMarkupStyleCreator();
        S.marker = x.makeTooltipMarker("item", convertToColorString(S.color), _);
        var T = normalizeTooltipFormatResult(p.formatTooltip(y, !1, v)), L = A.get("order"), k = A.get("valueFormatter"), M = T.frag, O = M ? buildTooltipMarkup(k ? extend({
          valueFormatter: k
        }, M) : M, x, _, L, u.get("useUTC"), A.get("textStyle")) : T.text, ie = "item_" + p.name + "_" + y;
        this._showOrMove(A, function() {
          this._showTooltipContent(A, O, S, ie, i.offsetX, i.offsetY, i.position, i.target, x);
        }), a({
          type: "showTip",
          dataIndexInside: y,
          dataIndex: g.getRawIndex(y),
          seriesIndex: f,
          from: this.uid
        });
      }
    }, n.prototype._showComponentItemTooltip = function(i, o, a) {
      var u = getECData(o), c = u.tooltipConfig, f = c.option || {};
      if (isString$2(f)) {
        var d = f;
        f = {
          content: d,
          // Fixed formatter
          formatter: d
        };
      }
      var p = [f], y = this._ecModel.getComponent(u.componentMainType, u.componentIndex);
      y && p.push(y), p.push({
        formatter: f.content
      });
      var v = i.positionDefault, g = buildTooltipModel(p, this._tooltipModel, v ? {
        position: v
      } : null), _ = g.get("content"), b = Math.random() + "", A = new TooltipMarkupStyleCreator();
      this._showOrMove(g, function() {
        var w = clone$2(g.get("formatterParams") || {});
        this._showTooltipContent(g, _, w, b, i.offsetX, i.offsetY, i.position, o, A);
      }), a({
        type: "showTip",
        from: this.uid
      });
    }, n.prototype._showTooltipContent = function(i, o, a, u, c, f, d, p, y) {
      if (this._ticket = "", !(!i.get("showContent") || !i.get("show"))) {
        var v = this._tooltipContent;
        v.setEnterable(i.get("enterable"));
        var g = i.get("formatter");
        d = d || i.get("position");
        var _ = o, b = this._getNearestPoint([c, f], a, i.get("trigger"), i.get("borderColor")), A = b.color;
        if (g)
          if (isString$2(g)) {
            var w = i.ecModel.get("useUTC"), S = isArray$1(a) ? a[0] : a, x = S && S.axisType && S.axisType.indexOf("time") >= 0;
            _ = g, x && (_ = format$1(S.axisValue, _, w)), _ = formatTpl(_, a, !0);
          } else if (isFunction$1(g)) {
            var T = bind$1(function(L, k) {
              L === this._ticket && (v.setContent(k, y, i, A, d), this._updatePosition(i, d, c, f, v, a, p));
            }, this);
            this._ticket = u, _ = g(a, u, T);
          } else
            _ = g;
        v.setContent(_, y, i, A, d), v.show(i, A), this._updatePosition(i, d, c, f, v, a, p);
      }
    }, n.prototype._getNearestPoint = function(i, o, a, u) {
      if (a === "axis" || isArray$1(o))
        return {
          color: u || (this._renderMode === "html" ? "#fff" : "none")
        };
      if (!isArray$1(o))
        return {
          color: u || o.color || o.borderColor
        };
    }, n.prototype._updatePosition = function(i, o, a, u, c, f, d) {
      var p = this._api.getWidth(), y = this._api.getHeight();
      o = o || i.get("position");
      var v = c.getSize(), g = i.get("align"), _ = i.get("verticalAlign"), b = d && d.getBoundingRect().clone();
      if (d && b.applyTransform(d.transform), isFunction$1(o) && (o = o([a, u], f, c.el, b, {
        viewSize: [p, y],
        contentSize: v.slice()
      })), isArray$1(o))
        a = parsePercent(o[0], p), u = parsePercent(o[1], y);
      else if (isObject$3(o)) {
        var A = o;
        A.width = v[0], A.height = v[1];
        var w = getLayoutRect(A, {
          width: p,
          height: y
        });
        a = w.x, u = w.y, g = null, _ = null;
      } else if (isString$2(o) && d) {
        var S = calcTooltipPosition(o, b, v, i.get("borderWidth"));
        a = S[0], u = S[1];
      } else {
        var S = refixTooltipPosition(a, u, c, p, y, g ? null : 20, _ ? null : 20);
        a = S[0], u = S[1];
      }
      if (g && (a -= isCenterAlign(g) ? v[0] / 2 : g === "right" ? v[0] : 0), _ && (u -= isCenterAlign(_) ? v[1] / 2 : _ === "bottom" ? v[1] : 0), shouldTooltipConfine(i)) {
        var S = confineTooltipPosition(a, u, c, p, y);
        a = S[0], u = S[1];
      }
      c.moveTo(a, u);
    }, n.prototype._updateContentNotChangedOnAxis = function(i, o) {
      var a = this._lastDataByCoordSys, u = this._cbParamsList, c = !!a && a.length === i.length;
      return c && each$4(a, function(f, d) {
        var p = f.dataByAxis || [], y = i[d] || {}, v = y.dataByAxis || [];
        c = c && p.length === v.length, c && each$4(p, function(g, _) {
          var b = v[_] || {}, A = g.seriesDataIndices || [], w = b.seriesDataIndices || [];
          c = c && g.value === b.value && g.axisType === b.axisType && g.axisId === b.axisId && A.length === w.length, c && each$4(A, function(S, x) {
            var T = w[x];
            c = c && S.seriesIndex === T.seriesIndex && S.dataIndex === T.dataIndex;
          }), u && each$4(g.seriesDataIndices, function(S) {
            var x = S.seriesIndex, T = o[x], L = u[x];
            T && L && L.data !== T.data && (c = !1);
          });
        });
      }), this._lastDataByCoordSys = i, this._cbParamsList = o, !!c;
    }, n.prototype._hide = function(i) {
      this._lastDataByCoordSys = null, i({
        type: "hideTip",
        from: this.uid
      });
    }, n.prototype.dispose = function(i, o) {
      env$1.node || !o.getDom() || (clear(this, "_updatePosition"), this._tooltipContent.dispose(), unregister("itemTooltip", o));
    }, n.type = "tooltip", n;
  }(ComponentView$1)
);
function buildTooltipModel(r, n, i) {
  var o = n.ecModel, a;
  i ? (a = new Model$1(i, o, o), a = new Model$1(n.option, a, o)) : a = n;
  for (var u = r.length - 1; u >= 0; u--) {
    var c = r[u];
    c && (c instanceof Model$1 && (c = c.get("tooltip", !0)), isString$2(c) && (c = {
      formatter: c
    }), c && (a = new Model$1(c, a, o)));
  }
  return a;
}
function makeDispatchAction(r, n) {
  return r.dispatchAction || bind$1(n.dispatchAction, n);
}
function refixTooltipPosition(r, n, i, o, a, u, c) {
  var f = i.getSize(), d = f[0], p = f[1];
  return u != null && (r + d + u + 2 > o ? r -= d + u : r += u), c != null && (n + p + c > a ? n -= p + c : n += c), [r, n];
}
function confineTooltipPosition(r, n, i, o, a) {
  var u = i.getSize(), c = u[0], f = u[1];
  return r = Math.min(r + c, o) - c, n = Math.min(n + f, a) - f, r = Math.max(r, 0), n = Math.max(n, 0), [r, n];
}
function calcTooltipPosition(r, n, i, o) {
  var a = i[0], u = i[1], c = Math.ceil(Math.SQRT2 * o) + 8, f = 0, d = 0, p = n.width, y = n.height;
  switch (r) {
    case "inside":
      f = n.x + p / 2 - a / 2, d = n.y + y / 2 - u / 2;
      break;
    case "top":
      f = n.x + p / 2 - a / 2, d = n.y - u - c;
      break;
    case "bottom":
      f = n.x + p / 2 - a / 2, d = n.y + y + c;
      break;
    case "left":
      f = n.x - a - c, d = n.y + y / 2 - u / 2;
      break;
    case "right":
      f = n.x + p + c, d = n.y + y / 2 - u / 2;
  }
  return [f, d];
}
function isCenterAlign(r) {
  return r === "center" || r === "middle";
}
function findComponentReference(r, n, i) {
  var o = preParseFinder(r).queryOptionMap, a = o.keys()[0];
  if (!(!a || a === "series")) {
    var u = queryReferringComponents(n, a, o.get(a), {
      useDefault: !1,
      enableAll: !1,
      enableNone: !1
    }), c = u.models[0];
    if (c) {
      var f = i.getViewOfComponentModel(c), d;
      if (f.group.traverse(function(p) {
        var y = getECData(p).tooltipConfig;
        if (y && y.name === r.name)
          return d = p, !0;
      }), d)
        return {
          componentMainType: a,
          componentIndex: c.componentIndex,
          el: d
        };
    }
  }
}
const TooltipView$1 = TooltipView;
function install$4(r) {
  use(install$5), r.registerComponentModel(TooltipModel$1), r.registerComponentView(TooltipView$1), r.registerAction({
    type: "showTip",
    event: "showTip",
    update: "tooltip:manuallyShowTip"
  }, noop$1), r.registerAction({
    type: "hideTip",
    event: "hideTip",
    update: "tooltip:manuallyHideTip"
  }, noop$1);
}
var TitleModel = (
  /** @class */
  function(r) {
    __extends(n, r);
    function n() {
      var i = r !== null && r.apply(this, arguments) || this;
      return i.type = n.type, i.layoutMode = {
        type: "box",
        ignoreSize: !0
      }, i;
    }
    return n.type = "title", n.defaultOption = {
      // zlevel: 0,
      z: 6,
      show: !0,
      text: "",
      target: "blank",
      subtext: "",
      subtarget: "blank",
      left: 0,
      top: 0,
      backgroundColor: "rgba(0,0,0,0)",
      borderColor: "#ccc",
      borderWidth: 0,
      padding: 5,
      itemGap: 10,
      textStyle: {
        fontSize: 18,
        fontWeight: "bold",
        color: "#464646"
      },
      subtextStyle: {
        fontSize: 12,
        color: "#6E7079"
      }
    }, n;
  }(ComponentModel$1)
), TitleView = (
  /** @class */
  function(r) {
    __extends(n, r);
    function n() {
      var i = r !== null && r.apply(this, arguments) || this;
      return i.type = n.type, i;
    }
    return n.prototype.render = function(i, o, a) {
      if (this.group.removeAll(), !!i.get("show")) {
        var u = this.group, c = i.getModel("textStyle"), f = i.getModel("subtextStyle"), d = i.get("textAlign"), p = retrieve2(i.get("textBaseline"), i.get("textVerticalAlign")), y = new ZRText$1({
          style: createTextStyle(c, {
            text: i.get("text"),
            fill: c.getTextColor()
          }, {
            disableBox: !0
          }),
          z2: 10
        }), v = y.getBoundingRect(), g = i.get("subtext"), _ = new ZRText$1({
          style: createTextStyle(f, {
            text: g,
            fill: f.getTextColor(),
            y: v.height + i.get("itemGap"),
            verticalAlign: "top"
          }, {
            disableBox: !0
          }),
          z2: 10
        }), b = i.get("link"), A = i.get("sublink"), w = i.get("triggerEvent", !0);
        y.silent = !b && !w, _.silent = !A && !w, b && y.on("click", function() {
          windowOpen(b, "_" + i.get("target"));
        }), A && _.on("click", function() {
          windowOpen(A, "_" + i.get("subtarget"));
        }), getECData(y).eventData = getECData(_).eventData = w ? {
          componentType: "title",
          componentIndex: i.componentIndex
        } : null, u.add(y), g && u.add(_);
        var S = u.getBoundingRect(), x = i.getBoxLayoutParams();
        x.width = S.width, x.height = S.height;
        var T = getLayoutRect(x, {
          width: a.getWidth(),
          height: a.getHeight()
        }, i.get("padding"));
        d || (d = i.get("left") || i.get("right"), d === "middle" && (d = "center"), d === "right" ? T.x += T.width : d === "center" && (T.x += T.width / 2)), p || (p = i.get("top") || i.get("bottom"), p === "center" && (p = "middle"), p === "bottom" ? T.y += T.height : p === "middle" && (T.y += T.height / 2), p = p || "top"), u.x = T.x, u.y = T.y, u.markRedraw();
        var L = {
          align: d,
          verticalAlign: p
        };
        y.setStyle(L), _.setStyle(L), S = u.getBoundingRect();
        var k = T.margin, M = i.getItemStyle(["color", "opacity"]);
        M.fill = i.get("backgroundColor");
        var O = new Rect$1({
          shape: {
            x: S.x - k[3],
            y: S.y - k[0],
            width: S.width + k[1] + k[3],
            height: S.height + k[0] + k[2],
            r: i.get("borderRadius")
          },
          style: M,
          subPixelOptimize: !0,
          silent: !0
        });
        u.add(O);
      }
    }, n.type = "title", n;
  }(ComponentView$1)
);
function install$3(r) {
  r.registerComponentModel(TitleModel), r.registerComponentView(TitleView);
}
var getDefaultSelectorOptions = function(r, n) {
  if (n === "all")
    return {
      type: "all",
      title: r.getLocaleModel().get(["legend", "selector", "all"])
    };
  if (n === "inverse")
    return {
      type: "inverse",
      title: r.getLocaleModel().get(["legend", "selector", "inverse"])
    };
}, LegendModel = (
  /** @class */
  function(r) {
    __extends(n, r);
    function n() {
      var i = r !== null && r.apply(this, arguments) || this;
      return i.type = n.type, i.layoutMode = {
        type: "box",
        // legend.width/height are maxWidth/maxHeight actually,
        // whereas real width/height is calculated by its content.
        // (Setting {left: 10, right: 10} does not make sense).
        // So consider the case:
        // `setOption({legend: {left: 10});`
        // then `setOption({legend: {right: 10});`
        // The previous `left` should be cleared by setting `ignoreSize`.
        ignoreSize: !0
      }, i;
    }
    return n.prototype.init = function(i, o, a) {
      this.mergeDefaultAndTheme(i, a), i.selected = i.selected || {}, this._updateSelector(i);
    }, n.prototype.mergeOption = function(i, o) {
      r.prototype.mergeOption.call(this, i, o), this._updateSelector(i);
    }, n.prototype._updateSelector = function(i) {
      var o = i.selector, a = this.ecModel;
      o === !0 && (o = i.selector = ["all", "inverse"]), isArray$1(o) && each$4(o, function(u, c) {
        isString$2(u) && (u = {
          type: u
        }), o[c] = merge(u, getDefaultSelectorOptions(a, u.type));
      });
    }, n.prototype.optionUpdated = function() {
      this._updateData(this.ecModel);
      var i = this._data;
      if (i[0] && this.get("selectedMode") === "single") {
        for (var o = !1, a = 0; a < i.length; a++) {
          var u = i[a].get("name");
          if (this.isSelected(u)) {
            this.select(u), o = !0;
            break;
          }
        }
        !o && this.select(i[0].get("name"));
      }
    }, n.prototype._updateData = function(i) {
      var o = [], a = [];
      i.eachRawSeries(function(d) {
        var p = d.name;
        a.push(p);
        var y;
        if (d.legendVisualProvider) {
          var v = d.legendVisualProvider, g = v.getAllNames();
          i.isSeriesFiltered(d) || (a = a.concat(g)), g.length ? o = o.concat(g) : y = !0;
        } else
          y = !0;
        y && isNameSpecified(d) && o.push(d.name);
      }), this._availableNames = a;
      var u = this.get("data") || o, c = createHashMap(), f = map$1(u, function(d) {
        return (isString$2(d) || isNumber$1(d)) && (d = {
          name: d
        }), c.get(d.name) ? null : (c.set(d.name, !0), new Model$1(d, this, this.ecModel));
      }, this);
      this._data = filter(f, function(d) {
        return !!d;
      });
    }, n.prototype.getData = function() {
      return this._data;
    }, n.prototype.select = function(i) {
      var o = this.option.selected, a = this.get("selectedMode");
      if (a === "single") {
        var u = this._data;
        each$4(u, function(c) {
          o[c.get("name")] = !1;
        });
      }
      o[i] = !0;
    }, n.prototype.unSelect = function(i) {
      this.get("selectedMode") !== "single" && (this.option.selected[i] = !1);
    }, n.prototype.toggleSelected = function(i) {
      var o = this.option.selected;
      o.hasOwnProperty(i) || (o[i] = !0), this[o[i] ? "unSelect" : "select"](i);
    }, n.prototype.allSelect = function() {
      var i = this._data, o = this.option.selected;
      each$4(i, function(a) {
        o[a.get("name", !0)] = !0;
      });
    }, n.prototype.inverseSelect = function() {
      var i = this._data, o = this.option.selected;
      each$4(i, function(a) {
        var u = a.get("name", !0);
        o.hasOwnProperty(u) || (o[u] = !0), o[u] = !o[u];
      });
    }, n.prototype.isSelected = function(i) {
      var o = this.option.selected;
      return !(o.hasOwnProperty(i) && !o[i]) && indexOf(this._availableNames, i) >= 0;
    }, n.prototype.getOrient = function() {
      return this.get("orient") === "vertical" ? {
        index: 1,
        name: "vertical"
      } : {
        index: 0,
        name: "horizontal"
      };
    }, n.type = "legend.plain", n.dependencies = ["series"], n.defaultOption = {
      // zlevel: 0,
      z: 4,
      show: !0,
      orient: "horizontal",
      left: "center",
      // right: 'center',
      top: 0,
      // bottom: null,
      align: "auto",
      backgroundColor: "rgba(0,0,0,0)",
      borderColor: "#ccc",
      borderRadius: 0,
      borderWidth: 0,
      padding: 5,
      itemGap: 10,
      itemWidth: 25,
      itemHeight: 14,
      symbolRotate: "inherit",
      symbolKeepAspect: !0,
      inactiveColor: "#ccc",
      inactiveBorderColor: "#ccc",
      inactiveBorderWidth: "auto",
      itemStyle: {
        color: "inherit",
        opacity: "inherit",
        borderColor: "inherit",
        borderWidth: "auto",
        borderCap: "inherit",
        borderJoin: "inherit",
        borderDashOffset: "inherit",
        borderMiterLimit: "inherit"
      },
      lineStyle: {
        width: "auto",
        color: "inherit",
        inactiveColor: "#ccc",
        inactiveWidth: 2,
        opacity: "inherit",
        type: "inherit",
        cap: "inherit",
        join: "inherit",
        dashOffset: "inherit",
        miterLimit: "inherit"
      },
      textStyle: {
        color: "#333"
      },
      selectedMode: !0,
      selector: !1,
      selectorLabel: {
        show: !0,
        borderRadius: 10,
        padding: [3, 5, 3, 5],
        fontSize: 12,
        fontFamily: "sans-serif",
        color: "#666",
        borderWidth: 1,
        borderColor: "#666"
      },
      emphasis: {
        selectorLabel: {
          show: !0,
          color: "#eee",
          backgroundColor: "#666"
        }
      },
      selectorPosition: "auto",
      selectorItemGap: 7,
      selectorButtonGap: 10,
      tooltip: {
        show: !1
      }
    }, n;
  }(ComponentModel$1)
);
const LegendModel$1 = LegendModel;
var curry = curry$1, each = each$4, Group$1 = Group$3, LegendView = (
  /** @class */
  function(r) {
    __extends(n, r);
    function n() {
      var i = r !== null && r.apply(this, arguments) || this;
      return i.type = n.type, i.newlineDisabled = !1, i;
    }
    return n.prototype.init = function() {
      this.group.add(this._contentGroup = new Group$1()), this.group.add(this._selectorGroup = new Group$1()), this._isFirstRender = !0;
    }, n.prototype.getContentGroup = function() {
      return this._contentGroup;
    }, n.prototype.getSelectorGroup = function() {
      return this._selectorGroup;
    }, n.prototype.render = function(i, o, a) {
      var u = this._isFirstRender;
      if (this._isFirstRender = !1, this.resetInner(), !!i.get("show", !0)) {
        var c = i.get("align"), f = i.get("orient");
        (!c || c === "auto") && (c = i.get("left") === "right" && f === "vertical" ? "right" : "left");
        var d = i.get("selector", !0), p = i.get("selectorPosition", !0);
        d && (!p || p === "auto") && (p = f === "horizontal" ? "end" : "start"), this.renderInner(c, i, o, a, d, f, p);
        var y = i.getBoxLayoutParams(), v = {
          width: a.getWidth(),
          height: a.getHeight()
        }, g = i.get("padding"), _ = getLayoutRect(y, v, g), b = this.layoutInner(i, c, _, u, d, p), A = getLayoutRect(defaults({
          width: b.width,
          height: b.height
        }, y), v, g);
        this.group.x = A.x - b.x, this.group.y = A.y - b.y, this.group.markRedraw(), this.group.add(this._backgroundEl = makeBackground(b, i));
      }
    }, n.prototype.resetInner = function() {
      this.getContentGroup().removeAll(), this._backgroundEl && this.group.remove(this._backgroundEl), this.getSelectorGroup().removeAll();
    }, n.prototype.renderInner = function(i, o, a, u, c, f, d) {
      var p = this.getContentGroup(), y = createHashMap(), v = o.get("selectedMode"), g = [];
      a.eachRawSeries(function(_) {
        !_.get("legendHoverLink") && g.push(_.id);
      }), each(o.getData(), function(_, b) {
        var A = _.get("name");
        if (!this.newlineDisabled && (A === "" || A === `
`)) {
          var w = new Group$1();
          w.newline = !0, p.add(w);
          return;
        }
        var S = a.getSeriesByName(A)[0];
        if (!y.get(A)) {
          if (S) {
            var x = S.getData(), T = x.getVisual("legendLineStyle") || {}, L = x.getVisual("legendIcon"), k = x.getVisual("style"), M = this._createItem(S, A, b, _, o, i, T, k, L, v, u);
            M.on("click", curry(dispatchSelectAction, A, null, u, g)).on("mouseover", curry(dispatchHighlightAction, S.name, null, u, g)).on("mouseout", curry(dispatchDownplayAction, S.name, null, u, g)), y.set(A, !0);
          } else
            a.eachRawSeries(function(O) {
              if (!y.get(A) && O.legendVisualProvider) {
                var ie = O.legendVisualProvider;
                if (!ie.containName(A))
                  return;
                var F = ie.indexOfName(A), re = ie.getItemVisual(F, "style"), D = ie.getItemVisual(F, "legendIcon"), Y = parse(re.fill);
                Y && Y[3] === 0 && (Y[3] = 0.2, re = extend(extend({}, re), {
                  fill: stringify(Y, "rgba")
                }));
                var z = this._createItem(O, A, b, _, o, i, {}, re, D, v, u);
                z.on("click", curry(dispatchSelectAction, null, A, u, g)).on("mouseover", curry(dispatchHighlightAction, null, A, u, g)).on("mouseout", curry(dispatchDownplayAction, null, A, u, g)), y.set(A, !0);
              }
            }, this);
          process.env.NODE_ENV !== "production" && (y.get(A) || console.warn(A + " series not exists. Legend data should be same with series name or data name."));
        }
      }, this), c && this._createSelector(c, o, u, f, d);
    }, n.prototype._createSelector = function(i, o, a, u, c) {
      var f = this.getSelectorGroup();
      each(i, function(p) {
        var y = p.type, v = new ZRText$1({
          style: {
            x: 0,
            y: 0,
            align: "center",
            verticalAlign: "middle"
          },
          onclick: function() {
            a.dispatchAction({
              type: y === "all" ? "legendAllSelect" : "legendInverseSelect"
            });
          }
        });
        f.add(v);
        var g = o.getModel("selectorLabel"), _ = o.getModel(["emphasis", "selectorLabel"]);
        setLabelStyle(v, {
          normal: g,
          emphasis: _
        }, {
          defaultText: p.title
        }), enableHoverEmphasis(v);
      });
    }, n.prototype._createItem = function(i, o, a, u, c, f, d, p, y, v, g) {
      var _ = i.visualDrawType, b = c.get("itemWidth"), A = c.get("itemHeight"), w = c.isSelected(o), S = u.get("symbolRotate"), x = u.get("symbolKeepAspect"), T = u.get("icon");
      y = T || y || "roundRect";
      var L = getLegendStyle(y, u, d, p, _, w, g), k = new Group$1(), M = u.getModel("textStyle");
      if (isFunction$1(i.getLegendIcon) && (!T || T === "inherit"))
        k.add(i.getLegendIcon({
          itemWidth: b,
          itemHeight: A,
          icon: y,
          iconRotate: S,
          itemStyle: L.itemStyle,
          lineStyle: L.lineStyle,
          symbolKeepAspect: x
        }));
      else {
        var O = T === "inherit" && i.getData().getVisual("symbol") ? S === "inherit" ? i.getData().getVisual("symbolRotate") : S : 0;
        k.add(getDefaultLegendIcon({
          itemWidth: b,
          itemHeight: A,
          icon: y,
          iconRotate: O,
          itemStyle: L.itemStyle,
          lineStyle: L.lineStyle,
          symbolKeepAspect: x
        }));
      }
      var ie = f === "left" ? b + 5 : -5, F = f, re = c.get("formatter"), D = o;
      isString$2(re) && re ? D = re.replace("{name}", o ?? "") : isFunction$1(re) && (D = re(o));
      var Y = u.get("inactiveColor");
      k.add(new ZRText$1({
        style: createTextStyle(M, {
          text: D,
          x: ie,
          y: A / 2,
          fill: w ? M.getTextColor() : Y,
          align: F,
          verticalAlign: "middle"
        })
      }));
      var z = new Rect$1({
        shape: k.getBoundingRect(),
        invisible: !0
      }), pe = u.getModel("tooltip");
      return pe.get("show") && setTooltipConfig({
        el: z,
        componentModel: c,
        itemName: o,
        itemTooltipOption: pe.option
      }), k.add(z), k.eachChild(function(ue) {
        ue.silent = !0;
      }), z.silent = !v, this.getContentGroup().add(k), enableHoverEmphasis(k), k.__legendDataIndex = a, k;
    }, n.prototype.layoutInner = function(i, o, a, u, c, f) {
      var d = this.getContentGroup(), p = this.getSelectorGroup();
      box(i.get("orient"), d, i.get("itemGap"), a.width, a.height);
      var y = d.getBoundingRect(), v = [-y.x, -y.y];
      if (p.markRedraw(), d.markRedraw(), c) {
        box(
          // Buttons in selectorGroup always layout horizontally
          "horizontal",
          p,
          i.get("selectorItemGap", !0)
        );
        var g = p.getBoundingRect(), _ = [-g.x, -g.y], b = i.get("selectorButtonGap", !0), A = i.getOrient().index, w = A === 0 ? "width" : "height", S = A === 0 ? "height" : "width", x = A === 0 ? "y" : "x";
        f === "end" ? _[A] += y[w] + b : v[A] += g[w] + b, _[1 - A] += y[S] / 2 - g[S] / 2, p.x = _[0], p.y = _[1], d.x = v[0], d.y = v[1];
        var T = {
          x: 0,
          y: 0
        };
        return T[w] = y[w] + b + g[w], T[S] = Math.max(y[S], g[S]), T[x] = Math.min(0, g[x] + _[1 - A]), T;
      } else
        return d.x = v[0], d.y = v[1], this.group.getBoundingRect();
    }, n.prototype.remove = function() {
      this.getContentGroup().removeAll(), this._isFirstRender = !0;
    }, n.type = "legend.plain", n;
  }(ComponentView$1)
);
function getLegendStyle(r, n, i, o, a, u, c) {
  function f(w, S) {
    w.lineWidth === "auto" && (w.lineWidth = S.lineWidth > 0 ? 2 : 0), each(w, function(x, T) {
      w[T] === "inherit" && (w[T] = S[T]);
    });
  }
  var d = n.getModel("itemStyle"), p = d.getItemStyle(), y = r.lastIndexOf("empty", 0) === 0 ? "fill" : "stroke", v = d.getShallow("decal");
  p.decal = !v || v === "inherit" ? o.decal : createOrUpdatePatternFromDecal(v, c), p.fill === "inherit" && (p.fill = o[a]), p.stroke === "inherit" && (p.stroke = o[y]), p.opacity === "inherit" && (p.opacity = (a === "fill" ? o : i).opacity), f(p, o);
  var g = n.getModel("lineStyle"), _ = g.getLineStyle();
  if (f(_, i), p.fill === "auto" && (p.fill = o.fill), p.stroke === "auto" && (p.stroke = o.fill), _.stroke === "auto" && (_.stroke = o.fill), !u) {
    var b = n.get("inactiveBorderWidth"), A = p[y];
    p.lineWidth = b === "auto" ? o.lineWidth > 0 && A ? 2 : 0 : p.lineWidth, p.fill = n.get("inactiveColor"), p.stroke = n.get("inactiveBorderColor"), _.stroke = g.get("inactiveColor"), _.lineWidth = g.get("inactiveWidth");
  }
  return {
    itemStyle: p,
    lineStyle: _
  };
}
function getDefaultLegendIcon(r) {
  var n = r.icon || "roundRect", i = createSymbol(n, 0, 0, r.itemWidth, r.itemHeight, r.itemStyle.fill, r.symbolKeepAspect);
  return i.setStyle(r.itemStyle), i.rotation = (r.iconRotate || 0) * Math.PI / 180, i.setOrigin([r.itemWidth / 2, r.itemHeight / 2]), n.indexOf("empty") > -1 && (i.style.stroke = i.style.fill, i.style.fill = "#fff", i.style.lineWidth = 2), i;
}
function dispatchSelectAction(r, n, i, o) {
  dispatchDownplayAction(r, n, i, o), i.dispatchAction({
    type: "legendToggleSelect",
    name: r ?? n
  }), dispatchHighlightAction(r, n, i, o);
}
function isUseHoverLayer(r) {
  for (var n = r.getZr().storage.getDisplayList(), i, o = 0, a = n.length; o < a && !(i = n[o].states.emphasis); )
    o++;
  return i && i.hoverLayer;
}
function dispatchHighlightAction(r, n, i, o) {
  isUseHoverLayer(i) || i.dispatchAction({
    type: "highlight",
    seriesName: r,
    name: n,
    excludeSeriesId: o
  });
}
function dispatchDownplayAction(r, n, i, o) {
  isUseHoverLayer(i) || i.dispatchAction({
    type: "downplay",
    seriesName: r,
    name: n,
    excludeSeriesId: o
  });
}
const LegendView$1 = LegendView;
function legendFilter(r) {
  var n = r.findComponents({
    mainType: "legend"
  });
  n && n.length && r.filterSeries(function(i) {
    for (var o = 0; o < n.length; o++)
      if (!n[o].isSelected(i.name))
        return !1;
    return !0;
  });
}
function legendSelectActionHandler(r, n, i) {
  var o = {}, a = r === "toggleSelected", u;
  return i.eachComponent("legend", function(c) {
    a && u != null ? c[u ? "select" : "unSelect"](n.name) : r === "allSelect" || r === "inverseSelect" ? c[r]() : (c[r](n.name), u = c.isSelected(n.name));
    var f = c.getData();
    each$4(f, function(d) {
      var p = d.get("name");
      if (!(p === `
` || p === "")) {
        var y = c.isSelected(p);
        o.hasOwnProperty(p) ? o[p] = o[p] && y : o[p] = y;
      }
    });
  }), r === "allSelect" || r === "inverseSelect" ? {
    selected: o
  } : {
    name: n.name,
    selected: o
  };
}
function installLegendAction(r) {
  r.registerAction("legendToggleSelect", "legendselectchanged", curry$1(legendSelectActionHandler, "toggleSelected")), r.registerAction("legendAllSelect", "legendselectall", curry$1(legendSelectActionHandler, "allSelect")), r.registerAction("legendInverseSelect", "legendinverseselect", curry$1(legendSelectActionHandler, "inverseSelect")), r.registerAction("legendSelect", "legendselected", curry$1(legendSelectActionHandler, "select")), r.registerAction("legendUnSelect", "legendunselected", curry$1(legendSelectActionHandler, "unSelect"));
}
function install$2(r) {
  r.registerComponentModel(LegendModel$1), r.registerComponentView(LegendView$1), r.registerProcessor(r.PRIORITY.PROCESSOR.SERIES_FILTER, legendFilter), r.registerSubTypeDefaulter("legend", function() {
    return "plain";
  }), installLegendAction(r);
}
var ScrollableLegendModel = (
  /** @class */
  function(r) {
    __extends(n, r);
    function n() {
      var i = r !== null && r.apply(this, arguments) || this;
      return i.type = n.type, i;
    }
    return n.prototype.setScrollDataIndex = function(i) {
      this.option.scrollDataIndex = i;
    }, n.prototype.init = function(i, o, a) {
      var u = getLayoutParams(i);
      r.prototype.init.call(this, i, o, a), mergeAndNormalizeLayoutParams(this, i, u);
    }, n.prototype.mergeOption = function(i, o) {
      r.prototype.mergeOption.call(this, i, o), mergeAndNormalizeLayoutParams(this, this.option, i);
    }, n.type = "legend.scroll", n.defaultOption = inheritDefaultOption(LegendModel$1.defaultOption, {
      scrollDataIndex: 0,
      pageButtonItemGap: 5,
      pageButtonGap: null,
      pageButtonPosition: "end",
      pageFormatter: "{current}/{total}",
      pageIcons: {
        horizontal: ["M0,0L12,-10L12,10z", "M0,0L-12,-10L-12,10z"],
        vertical: ["M0,0L20,0L10,-20z", "M0,0L20,0L10,20z"]
      },
      pageIconColor: "#2f4554",
      pageIconInactiveColor: "#aaa",
      pageIconSize: 15,
      pageTextStyle: {
        color: "#333"
      },
      animationDurationUpdate: 800
    }), n;
  }(LegendModel$1)
);
function mergeAndNormalizeLayoutParams(r, n, i) {
  var o = r.getOrient(), a = [1, 1];
  a[o.index] = 0, mergeLayoutParam(n, i, {
    type: "box",
    ignoreSize: !!a
  });
}
const ScrollableLegendModel$1 = ScrollableLegendModel;
var Group = Group$3, WH = ["width", "height"], XY = ["x", "y"], ScrollableLegendView = (
  /** @class */
  function(r) {
    __extends(n, r);
    function n() {
      var i = r !== null && r.apply(this, arguments) || this;
      return i.type = n.type, i.newlineDisabled = !0, i._currentIndex = 0, i;
    }
    return n.prototype.init = function() {
      r.prototype.init.call(this), this.group.add(this._containerGroup = new Group()), this._containerGroup.add(this.getContentGroup()), this.group.add(this._controllerGroup = new Group());
    }, n.prototype.resetInner = function() {
      r.prototype.resetInner.call(this), this._controllerGroup.removeAll(), this._containerGroup.removeClipPath(), this._containerGroup.__rectSize = null;
    }, n.prototype.renderInner = function(i, o, a, u, c, f, d) {
      var p = this;
      r.prototype.renderInner.call(this, i, o, a, u, c, f, d);
      var y = this._controllerGroup, v = o.get("pageIconSize", !0), g = isArray$1(v) ? v : [v, v];
      b("pagePrev", 0);
      var _ = o.getModel("pageTextStyle");
      y.add(new ZRText$1({
        name: "pageText",
        style: {
          // Placeholder to calculate a proper layout.
          text: "xx/xx",
          fill: _.getTextColor(),
          font: _.getFont(),
          verticalAlign: "middle",
          align: "center"
        },
        silent: !0
      })), b("pageNext", 1);
      function b(A, w) {
        var S = A + "DataIndex", x = createIcon(o.get("pageIcons", !0)[o.getOrient().name][w], {
          // Buttons will be created in each render, so we do not need
          // to worry about avoiding using legendModel kept in scope.
          onclick: bind$1(p._pageGo, p, S, o, u)
        }, {
          x: -g[0] / 2,
          y: -g[1] / 2,
          width: g[0],
          height: g[1]
        });
        x.name = A, y.add(x);
      }
    }, n.prototype.layoutInner = function(i, o, a, u, c, f) {
      var d = this.getSelectorGroup(), p = i.getOrient().index, y = WH[p], v = XY[p], g = WH[1 - p], _ = XY[1 - p];
      c && box(
        // Buttons in selectorGroup always layout horizontally
        "horizontal",
        d,
        i.get("selectorItemGap", !0)
      );
      var b = i.get("selectorButtonGap", !0), A = d.getBoundingRect(), w = [-A.x, -A.y], S = clone$2(a);
      c && (S[y] = a[y] - A[y] - b);
      var x = this._layoutContentAndController(i, u, S, p, y, g, _, v);
      if (c) {
        if (f === "end")
          w[p] += x[y] + b;
        else {
          var T = A[y] + b;
          w[p] -= T, x[v] -= T;
        }
        x[y] += A[y] + b, w[1 - p] += x[_] + x[g] / 2 - A[g] / 2, x[g] = Math.max(x[g], A[g]), x[_] = Math.min(x[_], A[_] + w[1 - p]), d.x = w[0], d.y = w[1], d.markRedraw();
      }
      return x;
    }, n.prototype._layoutContentAndController = function(i, o, a, u, c, f, d, p) {
      var y = this.getContentGroup(), v = this._containerGroup, g = this._controllerGroup;
      box(i.get("orient"), y, i.get("itemGap"), u ? a.width : null, u ? null : a.height), box(
        // Buttons in controller are layout always horizontally.
        "horizontal",
        g,
        i.get("pageButtonItemGap", !0)
      );
      var _ = y.getBoundingRect(), b = g.getBoundingRect(), A = this._showController = _[c] > a[c], w = [-_.x, -_.y];
      o || (w[u] = y[p]);
      var S = [0, 0], x = [-b.x, -b.y], T = retrieve2(i.get("pageButtonGap", !0), i.get("itemGap", !0));
      if (A) {
        var L = i.get("pageButtonPosition", !0);
        L === "end" ? x[u] += a[c] - b[c] : S[u] += b[c] + T;
      }
      x[1 - u] += _[f] / 2 - b[f] / 2, y.setPosition(w), v.setPosition(S), g.setPosition(x);
      var k = {
        x: 0,
        y: 0
      };
      if (k[c] = A ? a[c] : _[c], k[f] = Math.max(_[f], b[f]), k[d] = Math.min(0, b[d] + x[1 - u]), v.__rectSize = a[c], A) {
        var M = {
          x: 0,
          y: 0
        };
        M[c] = Math.max(a[c] - b[c] - T, 0), M[f] = k[f], v.setClipPath(new Rect$1({
          shape: M
        })), v.__rectSize = M[c];
      } else
        g.eachChild(function(ie) {
          ie.attr({
            invisible: !0,
            silent: !0
          });
        });
      var O = this._getPageInfo(i);
      return O.pageIndex != null && updateProps$1(
        y,
        {
          x: O.contentPosition[0],
          y: O.contentPosition[1]
        },
        // When switch from "show controller" to "not show controller", view should be
        // updated immediately without animation, otherwise causes weird effect.
        A ? i : null
      ), this._updatePageInfoView(i, O), k;
    }, n.prototype._pageGo = function(i, o, a) {
      var u = this._getPageInfo(o)[i];
      u != null && a.dispatchAction({
        type: "legendScroll",
        scrollDataIndex: u,
        legendId: o.id
      });
    }, n.prototype._updatePageInfoView = function(i, o) {
      var a = this._controllerGroup;
      each$4(["pagePrev", "pageNext"], function(y) {
        var v = y + "DataIndex", g = o[v] != null, _ = a.childOfName(y);
        _ && (_.setStyle("fill", g ? i.get("pageIconColor", !0) : i.get("pageIconInactiveColor", !0)), _.cursor = g ? "pointer" : "default");
      });
      var u = a.childOfName("pageText"), c = i.get("pageFormatter"), f = o.pageIndex, d = f != null ? f + 1 : 0, p = o.pageCount;
      u && c && u.setStyle("text", isString$2(c) ? c.replace("{current}", d == null ? "" : d + "").replace("{total}", p == null ? "" : p + "") : c({
        current: d,
        total: p
      }));
    }, n.prototype._getPageInfo = function(i) {
      var o = i.get("scrollDataIndex", !0), a = this.getContentGroup(), u = this._containerGroup.__rectSize, c = i.getOrient().index, f = WH[c], d = XY[c], p = this._findTargetItemIndex(o), y = a.children(), v = y[p], g = y.length, _ = g ? 1 : 0, b = {
        contentPosition: [a.x, a.y],
        pageCount: _,
        pageIndex: _ - 1,
        pagePrevDataIndex: null,
        pageNextDataIndex: null
      };
      if (!v)
        return b;
      var A = L(v);
      b.contentPosition[c] = -A.s;
      for (var w = p + 1, S = A, x = A, T = null; w <= g; ++w)
        T = L(y[w]), // Half of the last item is out of the window.
        (!T && x.e > S.s + u || // If the current item does not intersect with the window, the new page
        // can be started at the current item or the last item.
        T && !k(T, S.s)) && (x.i > S.i ? S = x : S = T, S && (b.pageNextDataIndex == null && (b.pageNextDataIndex = S.i), ++b.pageCount)), x = T;
      for (var w = p - 1, S = A, x = A, T = null; w >= -1; --w)
        T = L(y[w]), // If the the end item does not intersect with the window started
        // from the current item, a page can be settled.
        (!T || !k(x, T.s)) && // e.g., when page size is smaller than item size.
        S.i < x.i && (x = S, b.pagePrevDataIndex == null && (b.pagePrevDataIndex = S.i), ++b.pageCount, ++b.pageIndex), S = T;
      return b;
      function L(M) {
        if (M) {
          var O = M.getBoundingRect(), ie = O[d] + M[d];
          return {
            s: ie,
            e: ie + O[f],
            i: M.__legendDataIndex
          };
        }
      }
      function k(M, O) {
        return M.e >= O && M.s <= O + u;
      }
    }, n.prototype._findTargetItemIndex = function(i) {
      if (!this._showController)
        return 0;
      var o, a = this.getContentGroup(), u;
      return a.eachChild(function(c, f) {
        var d = c.__legendDataIndex;
        u == null && d != null && (u = f), d === i && (o = f);
      }), o ?? u;
    }, n.type = "legend.scroll", n;
  }(LegendView$1)
);
const ScrollableLegendView$1 = ScrollableLegendView;
function installScrollableLegendAction(r) {
  r.registerAction("legendScroll", "legendscroll", function(n, i) {
    var o = n.scrollDataIndex;
    o != null && i.eachComponent({
      mainType: "legend",
      subType: "scroll",
      query: n
    }, function(a) {
      a.setScrollDataIndex(o);
    });
  });
}
function install$1(r) {
  use(install$2), r.registerComponentModel(ScrollableLegendModel$1), r.registerComponentView(ScrollableLegendView$1), installScrollableLegendAction(r);
}
function install(r) {
  use(install$2), use(install$1);
}
const _sfc_main$G = /* @__PURE__ */ defineComponent({
  __name: "pie-charts",
  props: {
    title: {
      type: String,
      default: "标题"
    },
    seriesName: {
      type: String,
      default: "详情"
    },
    seriesData: {
      type: Array,
      default: () => []
    }
  },
  setup(r) {
    const n = r;
    use([install$7, install$6, install$3, install$4, install]), provide(THEME_KEY, "dark");
    const i = reactive({
      title: {
        text: n.title,
        left: "center"
      },
      tooltip: {
        trigger: "item",
        formatter: "{a} <br/>{b} : {c} ({d}%)"
      },
      legend: {
        orient: "vertical",
        left: "left"
      },
      series: [
        {
          name: n.seriesName,
          type: "pie",
          radius: "55%",
          center: ["50%", "60%"],
          data: n.seriesData,
          emphasis: {
            itemStyle: {
              shadowBlur: 10,
              shadowOffsetX: 0,
              shadowColor: "rgba(0, 0, 0, 0.5)"
            }
          }
        }
      ]
    });
    return watch(n, (o) => {
      i.title.text = o.title, i.series[0].name = o.seriesName, i.series[0].data = o.seriesData;
    }), (o, a) => (openBlock(), createBlock(unref(VChart), {
      class: "chart",
      option: unref(i),
      autoresize: ""
    }, null, 8, ["option"]));
  }
}), pieCharts_vue_vue_type_style_index_0_scoped_fec2cbf2_lang = "", PieCharts = /* @__PURE__ */ _export_sfc$1(_sfc_main$G, [["__scopeId", "data-v-fec2cbf2"]]), _hoisted_1$k = ["id"], _hoisted_2$h = ["id"], _hoisted_3$e = ["fill"], _hoisted_4$a = ["fill"], _hoisted_5$8 = ["fill"], _hoisted_6$6 = /* @__PURE__ */ createElementVNode("path", {
  d: "M375.466667 709.214815l-25.6 137.481481c0 2.844444 1.896296 5.688889 7.585185 10.42963l65.422222 54.992593c5.688889 4.740741 15.17037 8.533333 23.703704 10.429629l36.029629-193.422222-107.14074-19.911111z",
  fill: "#2D4375"
}, null, -1), _hoisted_7$6 = /* @__PURE__ */ createElementVNode("path", {
  d: "M482.607407 729.125926l-36.029629 193.422222c9.481481 1.896296 18.014815 1.896296 25.6-0.948148l80.592592-27.496296c6.637037-1.896296 10.42963-4.740741 11.377778-6.637037L589.748148 749.037037l-107.140741-19.911111z",
  fill: "#1E2D4F"
}, null, -1), _hoisted_8$6 = ["fill-opacity"], _hoisted_9$6 = ["fill-opacity"], _hoisted_10$5 = ["fill-opacity"], _hoisted_11$4 = /* @__PURE__ */ createElementVNode("path", {
  d: "M593.540741 807.822222c1.896296-7.585185-3.792593-15.17037-11.377778-16.118518l-107.140741-19.911111-4.740741 27.496296 107.140741 19.911111c6.637037 0.948148 14.222222-3.792593 16.118519-11.377778z",
  fill: "#CEEFF6"
}, null, -1), _hoisted_12$4 = /* @__PURE__ */ createElementVNode("path", {
  d: "M366.933333 750.933333c-7.585185-1.896296-15.17037 3.792593-16.118518 11.377778-1.896296 7.585185 3.792593 15.17037 11.377778 16.118519l107.14074 19.911111 4.740741-27.496297-107.140741-19.911111zM356.503704 808.77037c-7.585185-1.896296-15.17037 3.792593-16.118519 11.377778-1.896296 7.585185 3.792593 15.17037 11.377778 16.118519l107.140741 19.911111 4.74074-27.496297-107.14074-19.911111z",
  fill: "#FFFFFF"
}, null, -1), _hoisted_13$3 = /* @__PURE__ */ createElementVNode("path", {
  d: "M570.785185 848.592593l-107.140741-19.911112-4.74074 27.496297 107.14074 19.911111c7.585185 1.896296 15.17037-3.792593 16.118519-11.377778 1.896296-7.585185-2.844444-15.17037-11.377778-16.118518z",
  fill: "#CEEFF6"
}, null, -1), _hoisted_14$3 = ["xlink:href", "width", "height"], _sfc_main$F = /* @__PURE__ */ defineComponent({
  __name: "light-a",
  props: {
    id: { default: "" },
    isOpen: { type: Boolean, default: !1 },
    height: { default: 100 },
    width: { default: 100 }
  },
  emits: ["onChange"],
  setup(r, { emit: n }) {
    const i = r;
    return watch(
      () => i.isOpen,
      () => {
        n("onChange");
      }
    ), (o, a) => (openBlock(), createElementBlock("g", {
      id: i.id,
      style: { cursor: "pointer" }
    }, [
      createElementVNode("symbol", {
        id: `${i.id}light-121`,
        viewBox: "0 0 1024 1024"
      }, [
        createElementVNode("path", {
          d: "M565.096296 289.185185s-0.948148 0 0 0c-110.933333-20.859259-208.592593 40.77037-237.985185 148.859259-14.222222 53.096296-24.651852 101.451852 44.562963 221.866667 14.222222 25.6 11.377778 70.162963 8.533333 95.762963-1.896296 14.222222 64.474074 36.02963 89.125926 42.666667l95.762963-509.155556z",
          fill: i.isOpen ? "#FDB813" : "#cccccc"
        }, null, 8, _hoisted_3$e),
        createElementVNode("path", {
          d: "M732.918519 513.896296c11.377778-111.881481-56.888889-203.851852-166.874075-224.711111h-0.948148L469.333333 798.340741c25.6 2.844444 94.814815 6.637037 98.607408-7.585185 6.637037-25.6 20.859259-67.318519 42.666666-86.281482C719.644444 618.192593 727.22963 568.888889 732.918519 513.896296z",
          fill: i.isOpen ? "#FD9B13" : "#bbbbbb"
        }, null, 8, _hoisted_4$a),
        createElementVNode("path", {
          d: "M467.437037 806.874074c-7.585185-0.948148-12.325926-7.585185-14.222222-14.222222l-38.874074-256c-0.948148-5.688889 0.948148-11.377778 4.74074-15.170371 3.792593-3.792593 9.481481-5.688889 15.170371-4.74074l167.822222 31.288889c5.688889 0.948148 10.42963 4.740741 12.325926 9.481481 1.896296 4.740741 1.896296 11.377778-0.948148 16.118519L486.4 798.340741c-3.792593 6.637037-11.377778 10.42963-18.962963 8.533333z m-14.222222-251.259259l27.496296 182.992592L572.681481 578.37037l-119.466666-22.755555z",
          fill: i.isOpen ? "#F12A3F" : "#666666"
        }, null, 8, _hoisted_5$8),
        _hoisted_6$6,
        _hoisted_7$6,
        createElementVNode("path", {
          d: "M612.503704 217.125926c-3.792593 18.014815-20.859259 29.392593-38.874074 26.548148-18.014815-3.792593-30.340741-20.859259-26.548149-38.874074l18.962963-100.503704c3.792593-18.014815 20.859259-29.392593 38.874075-26.548148 18.014815 3.792593 30.340741 20.859259 26.548148 38.874074l-18.962963 100.503704z",
          fill: "#FDB813",
          "fill-opacity": i.isOpen ? 1 : 0
        }, null, 8, _hoisted_8$6),
        createElementVNode("path", {
          d: "M382.103704 228.503704c10.42963 15.17037 6.637037 36.02963-8.533334 46.459259-15.17037 10.42963-36.02963 6.637037-46.459259-8.533333l-57.837037-84.385186c-10.42963-15.17037-6.637037-36.02963 8.533333-46.459259 15.17037-10.42963 36.02963-6.637037 46.45926 8.533334l57.837037 84.385185zM757.57037 298.666667c-15.17037 10.42963-18.962963 31.288889-8.533333 46.459259 10.42963 15.17037 31.288889 18.962963 46.459259 8.533333l84.385185-57.837037c15.17037-10.42963 18.962963-31.288889 8.533334-46.459259-10.42963-15.17037-31.288889-18.962963-46.459259-8.533333l-84.385186 57.837037z",
          fill: "#FDB813",
          "fill-opacity": i.isOpen ? 1 : 0
        }, null, 8, _hoisted_9$6),
        createElementVNode("path", {
          d: "M252.207407 361.244444c18.014815 3.792593 30.340741 20.859259 26.548149 38.874075-3.792593 18.014815-20.859259 29.392593-38.874075 26.548148l-100.503703-18.962963c-18.014815-3.792593-30.340741-20.859259-26.548148-38.874074 3.792593-18.014815 20.859259-29.392593 38.874074-26.548149l100.503703 18.962963zM931.081481 488.296296c18.014815 3.792593 30.340741 20.859259 26.548149 38.874074-3.792593 18.014815-20.859259 29.392593-38.874074 26.548149l-100.503704-18.962963c-18.014815-3.792593-30.340741-20.859259-26.548148-38.874075 3.792593-18.014815 20.859259-29.392593 38.874074-26.548148l100.503703 18.962963z",
          fill: "#FDB813",
          "fill-opacity": i.isOpen ? 1 : 0
        }, null, 8, _hoisted_10$5),
        _hoisted_11$4,
        _hoisted_12$4,
        _hoisted_13$3
      ], 8, _hoisted_2$h),
      createElementVNode("use", {
        "xlink:href": `#${i.id}light-121`,
        width: o.width,
        height: o.height
      }, null, 8, _hoisted_14$3)
    ], 8, _hoisted_1$k));
  }
}), _hoisted_1$j = ["id"], _hoisted_2$g = ["id"], _hoisted_3$d = ["fill"], _hoisted_4$9 = ["fill"], _hoisted_5$7 = ["fill"], _hoisted_6$5 = ["from", "to"], _hoisted_7$5 = ["fill"], _hoisted_8$5 = ["from", "to"], _hoisted_9$5 = ["fill"], _hoisted_10$4 = ["fill"], _hoisted_11$3 = ["fill"], _hoisted_12$3 = ["from", "to"], _hoisted_13$2 = ["fill"], _hoisted_14$2 = ["xlink:href"], _sfc_main$E = /* @__PURE__ */ defineComponent({
  __name: "clock-a",
  props: {
    id: { default: "" },
    centerColor: { default: "#EBF257" },
    secondsColor: { default: "#E83E24" },
    circleColor: { default: "#F45AFC" },
    minutesColor: { default: "#50E68E" },
    hoursColor: { default: "#9A36E7" },
    scaleColor: { default: "#4942CF" },
    backgroundColor: { default: "#ffffff" },
    borderColor: { default: "#B3A7FF" }
  },
  setup(r) {
    const n = r, i = new Date(Number(window.sessionStorage.getItem("editorLoadTime") || "0")), o = i.getSeconds() + 1, a = i.getMinutes(), u = Math.floor((i.getHours() + (a + o / 60) / 60) * 30);
    return (c, f) => (openBlock(), createElementBlock("g", {
      id: n.id
    }, [
      createElementVNode("symbol", {
        id: `${n.id}clock-a-n`,
        viewBox: "0 0 1024 1024"
      }, [
        createElementVNode("path", {
          d: "M512.3 518.9m-469.2 0a469.2 469.2 0 1 0 938.4 0 469.2 469.2 0 1 0-938.4 0Z",
          fill: n.borderColor
        }, null, 8, _hoisted_3$d),
        createElementVNode("path", {
          d: "M512.3 518.9m-392.5 0a392.5 392.5 0 1 0 785 0 392.5 392.5 0 1 0-785 0Z",
          fill: n.backgroundColor
        }, null, 8, _hoisted_4$9),
        createElementVNode("path", {
          d: "M512.3 523.8c-4.5 0-9-1.7-12.4-5.1L318.3 337.1c-6.8-6.8-6.8-17.9 0-24.8 6.8-6.8 17.9-6.8 24.8 0L524.7 494c6.8 6.8 6.8 17.9 0 24.8-3.5 3.3-7.9 5-12.4 5z",
          fill: n.minutesColor
        }, [
          createElementVNode("animateTransform", {
            attributeName: "transform",
            attributeType: "XML",
            type: "rotate",
            from: `${45 + unref(a) * 6} 512.3 506.3`,
            to: `${405 + unref(a) * 6} 512.3 506.3`,
            dur: "3600s",
            repeatCount: "indefinite"
          }, null, 8, _hoisted_6$5)
        ], 8, _hoisted_5$7),
        createElementVNode("path", {
          d: "M512.3 523.8c-4.5 0-9-1.7-12.4-5.1-6.8-6.8-6.8-17.9 0-24.8l130.8-130.8c6.8-6.8 17.9-6.8 24.8 0 6.8 6.8 6.8 17.9 0 24.8L524.7 518.7c-3.5 3.4-7.9 5.1-12.4 5.1z",
          fill: n.hoursColor
        }, [
          createElementVNode("animateTransform", {
            attributeName: "transform",
            attributeType: "XML",
            type: "rotate",
            from: `${-45 + unref(u)} 512.3 506.3`,
            to: `${315 + unref(u)} 512.3 506.3`,
            dur: "43200s",
            repeatCount: "indefinite"
          }, null, 8, _hoisted_8$5)
        ], 8, _hoisted_7$5),
        createElementVNode("path", {
          d: "M512.3 506.3m-47.5 0a47.5 47.5 0 1 0 95 0 47.5 47.5 0 1 0-95 0Z",
          fill: n.circleColor
        }, null, 8, _hoisted_9$5),
        createElementVNode("path", {
          d: "M512.3 218.8c-9 0-16.3-7.3-16.3-16.3v-29.1c0-9 7.3-16.3 16.3-16.3s16.3 7.3 16.3 16.3v29.1c0 9-7.4 16.3-16.3 16.3zM512.3 880.8c-9 0-16.3-7.3-16.3-16.3v-29.1c0-9 7.3-16.3 16.3-16.3s16.3 7.3 16.3 16.3v29.1c0 9-7.4 16.3-16.3 16.3zM812.4 518.9c0-9 7.3-16.3 16.3-16.3h29.1c9 0 16.3 7.3 16.3 16.3s-7.3 16.3-16.3 16.3h-29.1c-8.9 0-16.3-7.3-16.3-16.3zM150.4 518.9c0-9 7.3-16.3 16.3-16.3h29.1c9 0 16.3 7.3 16.3 16.3s-7.3 16.3-16.3 16.3h-29.1c-8.9 0-16.3-7.3-16.3-16.3z",
          fill: n.scaleColor
        }, null, 8, _hoisted_10$4),
        createElementVNode("path", {
          d: "M296.9 733.5c-2.2 0-4.5-0.9-6.2-2.6-3.4-3.4-3.4-9 0-12.4L540 469.2c3.4-3.4 9-3.4 12.4 0 3.4 3.4 3.4 9 0 12.4L303.1 731c-1.7 1.7-4 2.5-6.2 2.5z",
          fill: n.secondsColor
        }, [
          createElementVNode("animateTransform", {
            attributeName: "transform",
            attributeType: "XML",
            type: "rotate",
            from: `${135.5 + o * 6} 512.3 506.3`,
            to: `${495.5 + o * 6} 512.3 506.3`,
            dur: "60s",
            repeatCount: "indefinite"
          }, null, 8, _hoisted_12$3)
        ], 8, _hoisted_11$3),
        createElementVNode("path", {
          d: "M512.3 506.3m-22.8 0a22.8 22.8 0 1 0 45.6 0 22.8 22.8 0 1 0-45.6 0Z",
          fill: n.centerColor
        }, null, 8, _hoisted_13$2)
      ], 8, _hoisted_2$g),
      createElementVNode("use", {
        "xlink:href": `#${n.id}clock-a-n`,
        width: "100",
        height: "100"
      }, null, 8, _hoisted_14$2)
    ], 8, _hoisted_1$j));
  }
}), vueComp = {
  "svg-text": _sfc_main$J,
  "el-button": ElButton,
  "progress-a": _sfc_main$L,
  "el-tag": ElTag$1,
  "common-table": _sfc_main$I,
  "pie-charts": PieCharts,
  "switch-r": _sfc_main$K,
  "now-time": NowTime,
  "light-a": _sfc_main$F,
  "clock-a": _sfc_main$E
}, config = [...svg_config, ...vue_config], useGlobalStore = defineStore("global-store", {
  state: () => ({
    config_center: config,
    intention: EGlobalStoreIntention.None,
    create_svg_info: null,
    done_json: [],
    mouse_info: {
      state: EMouseInfoState.Up,
      position_x: 0,
      position_y: 0,
      now_position_x: 0,
      now_position_y: 0,
      new_position_x: 0,
      new_position_y: 0
    },
    handle_svg_info: null,
    scale_info: {
      type: EScaleInfoType.None,
      scale_times: {
        x: 1,
        y: 1
      },
      scale_item_info: {
        x: 0,
        y: 0
      },
      symmetric_point: {
        x: 0,
        y: 0
      }
    },
    rotate_info: {
      angle: 0
    },
    connection_line_node_info: {
      init_pos: {
        x: 0,
        y: 0
      },
      point_index: 0
    }
  }),
  actions: {
    setCreateInfo(r) {
      this.intention = EGlobalStoreIntention.Create, this.create_svg_info = r;
    },
    setDoneJson(r) {
      isOfType(r, "id") ? (this.done_json.push(r), nextTick(() => {
        setSvgActualInfo(r);
      })) : this.done_json = objectDeepClone(r), nextTick(() => {
        useHistoryRecord(objectDeepClone(this.done_json));
      });
    },
    setHandleSvgInfo(r, n) {
      let i = n;
      r ? (!i && i != 0 && (i = this.done_json.findIndex((o) => o.id === r.id) ?? -1), this.handle_svg_info = {
        info: r,
        index: i
      }) : this.handle_svg_info = r;
    },
    spliceDoneJson(r) {
      const n = useGlobalStore(), o = n.done_json.splice(r, 1)[0];
      unbindAnchors(o.id), useHistoryRecord(n.done_json);
    }
  }
}), useSvgEditLayoutStore = defineStore("svg-edit-layout-store", {
  state: () => ({
    left_nav: !0,
    right_nav: !0,
    center_offset: {
      x: 0,
      y: 0
    },
    canvasInfo: {
      with: 0,
      height: 0,
      top: 0,
      left: 0
    }
  })
}), stopEvent = (r) => {
  r.stopPropagation();
}, preventDefault = (r) => {
  r.preventDefault();
};
function componentsRegister(r) {
  var o, a;
  const n = getCurrentInstance(), i = r ? Object.assign(vueComp, r) : vueComp;
  for (let u in i)
    !((o = n == null ? void 0 : n.appContext) != null && o.components.hasOwnProperty(u)) && vueComp.hasOwnProperty(u) && ((a = n == null ? void 0 : n.appContext) == null || a.app.component(u, vueComp[u]));
}
function setEditorLoadTime() {
  window.sessionStorage.setItem("editorLoadTime", (/* @__PURE__ */ new Date()).getTime().toString());
}
const randomString = (r) => {
  r = r || 10;
  const n = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789", i = n.length;
  let o = "";
  for (let a = 0; a < r; a++) {
    let u = i;
    a === 0 && (u = i - 10), o += n.charAt(Math.floor(Math.random() * u));
  }
  return o;
}, isOfType = (r, n) => r[n] !== void 0, getCoordinateOffset = (r, n) => r / 2 * (n - 1), angleToRadian = (r) => r * Math.PI / 180, calculateRotatedPointCoordinate = (r, n, i) => ({
  x: parseFloat(
    ((r.x - n.x) * Math.cos(angleToRadian(i)) - (r.y - n.y) * Math.sin(angleToRadian(i)) + n.x).toFixed(1)
  ),
  y: parseFloat(
    ((r.x - n.x) * Math.sin(angleToRadian(i)) + (r.y - n.y) * Math.cos(angleToRadian(i)) + n.y).toFixed(1)
  )
}), getCenterPoint = (r, n) => ({
  x: r.x + (n.x - r.x) / 2,
  y: r.y + (n.y - r.y) / 2
}), positionArrToPath = (r) => {
  let n = "";
  for (let i = 0; i < r.length; i++)
    i === 0 ? n += `M ${r[i].x} ${r[i].y}` : n += ` L ${r[i].x} ${r[i].y}`;
  return n;
}, getSvgNowPosition = (r, n, i) => i + (n - r), objectDeepClone = (r, n = {}) => r ? JSON.parse(JSON.stringify(r)) : n, setSvgActualInfo = (r, n) => {
  var a, u;
  const i = document.querySelector(`#${r.id}`), o = document.querySelector(`#rect${r.id}`);
  if (i) {
    let c = 0, f = 0, d = 0, p = 0;
    if (r.type === EDoneJsonType.Vue) {
      d = ((a = r.props.width) == null ? void 0 : a.val) || i.offsetWidth || 100, p = ((u = r.props.height) == null ? void 0 : u.val) || i.offsetHeight || 100, c = 50 - d / 2, f = 50 - p / 2;
      const y = document.querySelector(`#foreign-object${r.id}`);
      y && (y.getAttribute("x") === "0" && y.getAttribute("y") === "0" && y.getAttribute("width") === "0" && y.getAttribute("height") === "0" || n) && (y.setAttribute("x", c.toString()), y.setAttribute("y", f.toString()), y.setAttribute("width", d.toString()), y.setAttribute("height", p.toString()));
    } else {
      const y = i.getBBox();
      c = parseFloat(y.x.toFixed(0)), f = parseFloat(y.y.toFixed(0)), d = parseFloat(y.width.toFixed(0)), p = parseFloat(y.height.toFixed(0));
    }
    o && (o.getAttribute("x") === "0" && o.getAttribute("y") === "0" && o.getAttribute("width") === "0" && o.getAttribute("height") === "0" || n) && (o.setAttribute("x", c.toString()), o.setAttribute("y", f.toString()), o.setAttribute("width", d.toString()), o.setAttribute("height", p.toString())), (r.actual_bound.x === 0 && r.actual_bound.y === 0 && r.actual_bound.width === 0 && r.actual_bound.height === 0 || n) && (r.actual_bound = {
      x: c,
      y: f,
      width: d,
      height: p
    }), r.center_position = {
      x: r.x + r.actual_bound.x + d / 2,
      y: r.y + r.actual_bound.y + p / 2
    }, r.point_coordinate.tl = {
      x: r.center_position.x - d * r.scale_x / 2,
      y: r.center_position.y - p * r.scale_y / 2
    }, r.point_coordinate.tc = {
      x: r.center_position.x,
      y: r.center_position.y - p * r.scale_y / 2
    }, r.point_coordinate.tr = {
      x: r.center_position.x + d * r.scale_x / 2,
      y: r.center_position.y - p * r.scale_y / 2
    }, r.point_coordinate.l = {
      x: r.center_position.x - d * r.scale_x / 2,
      y: r.center_position.y
    }, r.point_coordinate.r = {
      x: r.center_position.x + d * r.scale_x / 2,
      y: r.center_position.y
    }, r.point_coordinate.bl = {
      x: r.center_position.x - d * r.scale_x / 2,
      y: r.center_position.y + p * r.scale_y / 2
    }, r.point_coordinate.bc = {
      x: r.center_position.x,
      y: r.center_position.y + p * r.scale_y / 2
    }, r.point_coordinate.br = {
      x: r.center_position.x + d * r.scale_x / 2,
      y: r.center_position.y + p * r.scale_y / 2
    }, r.rotate !== 0 && setAfterRotationPointCoordinate(r), moveAnchors(r);
  }
}, resetHandlePointOld = (r) => {
  for (const n of Object.keys(r.point_coordinate))
    r.point_coordinate_old && (r.point_coordinate_old[n].x = 0, r.point_coordinate_old[n].y = 0);
}, moveHandlePoint = (r, n, i) => {
  const o = useGlobalStore(pinia), a = n ?? o.mouse_info.new_position_x - o.mouse_info.position_x, u = i ?? o.mouse_info.new_position_y - o.mouse_info.position_y;
  for (const c of Object.keys(r.point_coordinate))
    n !== void 0 && i !== void 0 ? (r.point_coordinate[c].x += a, r.point_coordinate[c].y += u) : r.point_coordinate_old && (r.point_coordinate[c].x = r.point_coordinate_old[c].x + a, r.point_coordinate[c].y = r.point_coordinate_old[c].y + u);
}, moveAnchors = (r) => {
  var i, o, a, u;
  const n = useGlobalStore(pinia);
  for (let c of n.done_json)
    if (c.type === EDoneJsonType.ConnectionLine) {
      if (((o = (i = c.bind_anchors) == null ? void 0 : i.start) == null ? void 0 : o.target_id) === r.id) {
        const f = getAnchorPosByAnchorType(c.bind_anchors.start.type, r);
        c.props.point_position.val[0] = {
          x: f.x - c.x,
          y: f.y - c.y
        };
      }
      if (((u = (a = c.bind_anchors) == null ? void 0 : a.end) == null ? void 0 : u.target_id) === r.id) {
        const f = getAnchorPosByAnchorType(c.bind_anchors.end.type, r);
        c.props.point_position.val[c.props.point_position.val.length - 1] = {
          x: f.x - c.x,
          y: f.y - c.y
        };
      }
    }
}, unbindAnchors = (r) => {
  var i, o, a, u;
  const n = useGlobalStore(pinia);
  for (let c of n.done_json)
    c.type === EDoneJsonType.ConnectionLine && (((o = (i = c.bind_anchors) == null ? void 0 : i.start) == null ? void 0 : o.target_id) === r && (c.bind_anchors.start = null), ((u = (a = c.bind_anchors) == null ? void 0 : a.end) == null ? void 0 : u.target_id) === r && (c.bind_anchors.end = null));
}, getAnchorPosByAnchorType = (r, n) => r === ELineBindAnchors.BottomCenter ? n.point_coordinate.bc : r === ELineBindAnchors.Left ? n.point_coordinate.l : r === ELineBindAnchors.Right ? n.point_coordinate.r : n.point_coordinate.tc, setAfterRotationPointCoordinate = (r) => {
  r.point_coordinate = {
    tl: calculateRotatedPointCoordinate(r.point_coordinate.tl, r.center_position, r.rotate),
    tc: calculateRotatedPointCoordinate(r.point_coordinate.tc, r.center_position, r.rotate),
    tr: calculateRotatedPointCoordinate(r.point_coordinate.tr, r.center_position, r.rotate),
    l: calculateRotatedPointCoordinate(r.point_coordinate.l, r.center_position, r.rotate),
    r: calculateRotatedPointCoordinate(r.point_coordinate.r, r.center_position, r.rotate),
    bl: calculateRotatedPointCoordinate(r.point_coordinate.bl, r.center_position, r.rotate),
    bc: calculateRotatedPointCoordinate(r.point_coordinate.bc, r.center_position, r.rotate),
    br: calculateRotatedPointCoordinate(r.point_coordinate.br, r.center_position, r.rotate)
  };
}, prosToVBind = (r, n = []) => {
  let i = {};
  if (r.state) {
    for (const o in r.state)
      if (r.state.hasOwnProperty(o) && o === r.defaultState) {
        for (let a in r.state[o])
          a !== "label" && (i[kebabCase(a)] = r.state[o][a]);
        break;
      }
  }
  for (const o in r.props)
    n.indexOf(o) < 0 && (i[kebabCase(o)] = r.props[o].val);
  return i;
}, setArrItemByID = (id, key, val, json_arr) => new Promise((res) => {
  const find_item = json_arr.find((r) => r.id === id);
  find_item || res({
    status: !1,
    msg: "要设置的id不存在"
  }), eval(`find_item.${key} = val;`), res({
    status: !0,
    msg: "操作成功"
  });
}), getCommonClass = (r) => !r.common_animations || !r.common_animations.val ? "" : `common-ani animate__animated animate__${r.common_animations.val} animate__${r.common_animations.speed} animate__${r.common_animations.repeat} animate__${r.common_animations.delay}`, numberArray = (r) => {
  let n = [];
  for (let i = 0; i < r; i++)
    n.push(i);
  return n;
}, getStringWidth = (r, n = 12) => {
  if (r.length > 0) {
    let i = document.createElement("span");
    i.style.fontSize = n + "px", i.style.fontFamily = "inherit", i.innerHTML = r, i.style.opacity = "0", i.style.position = "fixed", i.style.top = "3000px", document.body.append(i);
    const o = i.clientWidth;
    return document.body.removeChild(i), o;
  }
  return 0;
}, valFormat = (r) => /false|true/.test(r) ? r !== "false" : /^\d+(\.\d+)?$/.test(r) ? Number(r) : r, createLine = (r, n, i) => {
  r.preventDefault();
  const o = useGlobalStore(pinia), a = useConfigStore(pinia), u = useSvgEditLayoutStore(pinia), { clientX: c, clientY: f } = r;
  let d = objectDeepClone(a.connection_line), p = 0, y = 0;
  if (n && i) {
    d.bind_anchors.start = {
      type: n,
      target_id: i.id
    };
    let g = getAnchorPosByAnchorType(n, i);
    p = g.x, y = g.y;
  } else
    p = Math.round(
      (c - u.canvasInfo.left) / a.svg.scale - u.center_offset.x
    ), y = Math.round(
      (f - u.canvasInfo.top) / a.svg.scale - u.center_offset.y
    );
  const v = {
    id: randomString(),
    x: p,
    y,
    client: {
      x: p,
      y
    },
    scale_x: 1,
    scale_y: 1,
    rotate: 0,
    actual_bound: {
      x: 0,
      y: 0,
      width: 0,
      height: 0
    },
    center_position: {
      x: 0,
      y: 0
    },
    point_coordinate: {
      tl: {
        x: 0,
        y: 0
      },
      tc: {
        x: 0,
        y: 0
      },
      tr: {
        x: 0,
        y: 0
      },
      l: {
        x: 0,
        y: 0
      },
      r: {
        x: 0,
        y: 0
      },
      bl: {
        x: 0,
        y: 0
      },
      bc: {
        x: 0,
        y: 0
      },
      br: {
        x: 0,
        y: 0
      }
    },
    ...d
  };
  v.props.point_position.val.push({
    x: 0,
    y: 0
  }), o.setDoneJson(v), o.setHandleSvgInfo(v, o.done_json.length - 1), o.intention = EGlobalStoreIntention.Connection, o.mouse_info = {
    state: EMouseInfoState.Down,
    position_x: p,
    position_y: y,
    now_position_x: p,
    now_position_y: y,
    new_position_x: 0,
    new_position_y: 0
  };
};
Object.seal({
  name: "straight-line",
  title: "直线",
  type: EDoneJsonType.StraightLine,
  config: {
    can_zoom: !1,
    have_anchor: !1,
    actual_rect: !1
  },
  display: !0,
  props: {
    fill: {
      title: "填充色",
      type: EConfigItemPropsType.Color,
      val: "#ff0000"
    },
    start_x: {
      title: "起点x坐标",
      type: EConfigItemPropsType.InputNumber,
      val: 0
    },
    start_y: {
      title: "起点y坐标",
      type: EConfigItemPropsType.InputNumber,
      val: 0
    },
    end_x: {
      title: "终点x坐标",
      type: EConfigItemPropsType.InputNumber,
      val: 0
    },
    end_y: {
      title: "终点y坐标",
      type: EConfigItemPropsType.InputNumber,
      val: 0
    }
  },
  bind_anchors: {
    start: null,
    end: null
  },
  events: []
});
const connection_line_system = {
  name: "connection_line",
  title: "连接线",
  type: EDoneJsonType.ConnectionLine,
  config: {
    can_zoom: !1,
    have_anchor: !1,
    actual_rect: !1
  },
  display: !0,
  props: {
    stroke: {
      title: "线条颜色",
      type: EConfigItemPropsType.Color,
      val: "#ff0000"
    },
    "stroke-width": {
      title: "线条宽度",
      type: EConfigItemPropsType.InputNumber,
      val: 2
    },
    point_r: {
      title: "节点半径",
      type: EConfigItemPropsType.InputNumber,
      val: 4
    },
    point_position: {
      title: "点坐标",
      type: EConfigItemPropsType.JsonEdit,
      val: []
    }
  },
  animations: {
    type: {
      title: "动画类型",
      type: EConfigItemPropsType.Select,
      val: EConfigAnimationsType.None,
      options: [
        {
          label: "无",
          value: EConfigAnimationsType.None
        },
        {
          label: "电流",
          value: EConfigAnimationsType.Electricity
        },
        {
          label: "轨迹",
          value: EConfigAnimationsType.Track
        },
        {
          label: "水珠",
          value: EConfigAnimationsType.WaterDrop
        }
      ]
    },
    dur: {
      title: "持续时间",
      type: EConfigItemPropsType.InputNumber,
      val: 20
    },
    repeatCount: {
      title: "循环次数",
      type: EConfigItemPropsType.Input,
      val: "indefinite",
      disabled: !0
    },
    color: {
      title: "颜色",
      type: EConfigItemPropsType.Color,
      val: "#602a00"
    },
    reverse: {
      title: "反转动画",
      type: EConfigItemPropsType.Switch,
      val: !1
    }
  },
  bind_anchors: {
    start: null,
    end: null
  },
  events: []
}, common_animate_list = [
  {
    label: "进入",
    children: [
      {
        label: "渐显",
        value: "fadeIn"
      },
      {
        label: "向右进入",
        value: "fadeInLeft"
      },
      {
        label: "向左进入",
        value: "fadeInRight"
      },
      {
        label: "向上进入",
        value: "fadeInUp"
      },
      {
        label: "向下进入",
        value: "fadeInDown"
      },
      {
        label: "向右长距进入",
        value: "fadeInLeftBig"
      },
      {
        label: "向左长距进入",
        value: "fadeInRightBig"
      },
      {
        label: "向上长距进入",
        value: "fadeInUpBig"
      },
      {
        label: "向下长距进入",
        value: "fadeInDownBig"
      },
      {
        label: "旋转进入",
        value: "rotateIn"
      },
      {
        label: "左顺时针旋转",
        value: "rotateInDownLeft"
      },
      {
        label: "右逆时针旋转",
        value: "rotateInDownRight"
      },
      {
        label: "左逆时针旋转",
        value: "rotateInUpLeft"
      },
      {
        label: "右逆时针旋转",
        value: "rotateInUpRight"
      },
      {
        label: "弹入",
        value: "bounceIn"
      },
      {
        label: "向右弹入",
        value: "bounceInLeft"
      },
      {
        label: "向左弹入",
        value: "bounceInRight"
      },
      {
        label: "向上弹入",
        value: "bounceInUp"
      },
      {
        label: "向下弹入",
        value: "bounceInDown"
      },
      {
        label: "光速从右进入",
        value: "lightSpeedInRight"
      },
      {
        label: "光速从左进入",
        value: "lightSpeedInLeft"
      },
      {
        label: "光速从右退出",
        value: "lightSpeedOutRight"
      },
      {
        label: "光速从左退出",
        value: "lightSpeedOutLeft"
      },
      {
        label: "Y轴旋转",
        value: "flip"
      },
      {
        label: "中心X轴旋转",
        value: "flipInX"
      },
      {
        label: "中心Y轴旋转",
        value: "flipInY"
      },
      {
        label: "左长半径旋转",
        value: "rollIn"
      },
      {
        label: "由小变大进入",
        value: "zoomIn"
      },
      {
        label: "左变大进入",
        value: "zoomInLeft"
      },
      {
        label: "右变大进入",
        value: "zoomInRight"
      },
      {
        label: "向上变大进入",
        value: "zoomInUp"
      },
      {
        label: "向下变大进入",
        value: "zoomInDown"
      },
      {
        label: "向右滑动展开",
        value: "slideInLeft"
      },
      {
        label: "向左滑动展开",
        value: "slideInRight"
      },
      {
        label: "向上滑动展开",
        value: "slideInUp"
      },
      {
        label: "向下滑动展开",
        value: "slideInDown"
      }
    ]
  },
  {
    label: "强调",
    children: [
      {
        label: "弹跳",
        value: "bounce"
      },
      {
        label: "闪烁",
        value: "flash"
      },
      {
        label: "放大缩小",
        value: "pulse"
      },
      {
        label: "放大缩小弹簧",
        value: "rubberBand"
      },
      {
        label: "左右晃动",
        value: "headShake"
      },
      {
        label: "左右扇形摇摆",
        value: "swing"
      },
      {
        label: "放大晃动缩小",
        value: "tada"
      },
      {
        label: "扇形摇摆",
        value: "wobble"
      },
      {
        label: "左右上下晃动",
        value: "jello"
      },
      {
        label: "Y轴旋转",
        value: "flip"
      }
    ]
  },
  {
    label: "退出",
    children: [
      {
        label: "渐隐",
        value: "fadeOut"
      },
      {
        label: "向左退出",
        value: "fadeOutLeft"
      },
      {
        label: "向右退出",
        value: "fadeOutRight"
      },
      {
        label: "向上退出",
        value: "fadeOutUp"
      },
      {
        label: "向下退出",
        value: "fadeOutDown"
      },
      {
        label: "向左长距退出",
        value: "fadeOutLeftBig"
      },
      {
        label: "向右长距退出",
        value: "fadeOutRightBig"
      },
      {
        label: "向上长距退出",
        value: "fadeOutUpBig"
      },
      {
        label: "向下长距退出",
        value: "fadeOutDownBig"
      },
      {
        label: "旋转退出",
        value: "rotateOut"
      },
      {
        label: "左顺时针旋转",
        value: "rotateOutDownLeft"
      },
      {
        label: "右逆时针旋转",
        value: "rotateOutDownRight"
      },
      {
        label: "左逆时针旋转",
        value: "rotateOutUpLeft"
      },
      {
        label: "右逆时针旋转",
        value: "rotateOutUpRight"
      },
      {
        label: "弹出",
        value: "bounceOut"
      },
      {
        label: "向左弹出",
        value: "bounceOutLeft"
      },
      {
        label: "向右弹出",
        value: "bounceOutRight"
      },
      {
        label: "向上弹出",
        value: "bounceOutUp"
      },
      {
        label: "向下弹出",
        value: "bounceOutDown"
      },
      {
        label: "中心X轴旋转",
        value: "flipOutX"
      },
      {
        label: "中心Y轴旋转",
        value: "flipOutY"
      },
      {
        label: "左长半径旋转",
        value: "rollOut"
      },
      {
        label: "由小变大退出",
        value: "zoomOut"
      },
      {
        label: "左变大退出",
        value: "zoomOutLeft"
      },
      {
        label: "右变大退出",
        value: "zoomOutRight"
      },
      {
        label: "向上变大退出",
        value: "zoomOutUp"
      },
      {
        label: "向下变大退出",
        value: "zoomOutDown"
      },
      {
        label: "向左滑动收起",
        value: "slideOutLeft"
      },
      {
        label: "向右滑动收起",
        value: "slideOutRight"
      },
      {
        label: "向上滑动收起",
        value: "slideOutUp"
      },
      {
        label: "向下滑动收起",
        value: "slideOutDown"
      }
    ]
  }
];
let l = localStorage.getItem("svg-editor-config"), s, t;
if (l) {
  let r = JSON.parse(l);
  t = r.connection_line, s = r.svg;
} else
  t = objectDeepClone(connection_line_system), s = {
    background_color: "#fff",
    scale: 1,
    grid: !0,
    grid_color: "#ebebeb",
    ruler: !0
  };
const useConfigStore = defineStore("config-store", {
  state: () => ({
    svg: s,
    connection_line: t,
    net: { mqtt: { url: "", user: "", pwd: "", topics: "" } }
  }),
  getters: {},
  actions: {}
});
var EContextMenuInfoType = /* @__PURE__ */ ((r) => (r.Copy = "Copy", r.Delete = "Delete", r.MoveUpOneLevel = "MoveUpOneLevel", r.MoveDownOneLevel = "MoveDownOneLevel", r.MoveUpTopLevel = "MoveUpTopLevel", r.MoveDownTopLevel = "MoveDownTopLevel", r))(EContextMenuInfoType || {});
const useEditPrivateStore = defineStore("edit-private-store", {
  state: () => ({
    old_done_components: [],
    //记录预览之前的组件数据
    history_doneComponent: [],
    history_now_index: 0,
    is_record_history: !0,
    //是否需要记录当前状态，如果是操作的历史记录，则不需要记录
    max_record_times: 10
  }),
  getters: {
    getTopBtnUndoStatus(r) {
      return r.history_now_index >= 1;
    },
    getTopBtnRedoStatus(r) {
      return r.history_now_index + 1 != r.history_doneComponent.length;
    }
  },
  actions: {
    topUndoBtnClick() {
      if (console.log("撤销"), this.history_now_index < 1)
        return;
      const r = useGlobalStore();
      this.is_record_history = !1, this.history_now_index -= 1, r.setDoneJson(this.history_doneComponent[this.history_now_index]);
    },
    topRedoBtnClick() {
      if (console.log("重做"), this.history_now_index + 1 == this.history_doneComponent.length)
        return;
      const r = useGlobalStore();
      this.is_record_history = !1, this.history_now_index += 1, r.setDoneJson(this.history_doneComponent[this.history_now_index]);
    }
  }
}), useContextMenuStore = defineStore("context-menu-store", {
  state: () => ({
    display: !1,
    info: {
      [EContextMenuInfoType.Copy]: {
        title: "复制",
        hot_key: "Ctrl + c",
        enable: !0
      },
      [EContextMenuInfoType.Delete]: {
        title: "删除",
        hot_key: "Delete",
        enable: !0
      },
      [EContextMenuInfoType.MoveUpTopLevel]: {
        title: "置于顶层",
        hot_key: "Ctrl + →",
        enable: !0
      },
      [EContextMenuInfoType.MoveDownTopLevel]: {
        title: "置于底层",
        hot_key: "Ctrl + ←",
        enable: !0
      },
      [EContextMenuInfoType.MoveUpOneLevel]: {
        title: "置于上一层",
        hot_key: "Ctrl + ↑",
        enable: !0
      },
      [EContextMenuInfoType.MoveDownOneLevel]: {
        title: "置于下一层",
        hot_key: "Ctrl + ↓",
        enable: !0
      }
    }
  }),
  actions: {
    onContextMenuClick(r) {
      const n = useGlobalStore();
      if (n.handle_svg_info)
        switch (n.intention = EGlobalStoreIntention.Select, r) {
          case EContextMenuInfoType.Copy:
            const i = objectDeepClone(n.handle_svg_info.info);
            i.id = randomString(), i.title += "-copy", i.x += 10, i.y += 10, n.setDoneJson(i), this.display = !1, n.setHandleSvgInfo(i, n.done_json.length);
            break;
          case EContextMenuInfoType.Delete:
            n.spliceDoneJson(n.handle_svg_info.index), this.display = !1, n.setHandleSvgInfo(null), n.intention = EGlobalStoreIntention.None;
            break;
          case EContextMenuInfoType.MoveUpOneLevel:
            if (n.done_json.length === 1 || n.handle_svg_info.index === n.done_json.length - 1)
              return;
            const o = n.handle_svg_info.info;
            n.done_json[n.handle_svg_info.index] = n.done_json[n.handle_svg_info.index + 1], n.done_json[n.handle_svg_info.index + 1] = o, useHistoryRecord(n.done_json), this.display = !1, n.setHandleSvgInfo(o, n.handle_svg_info.index + 1);
            break;
          case EContextMenuInfoType.MoveDownOneLevel:
            if (n.done_json.length === 1 || n.handle_svg_info.index === 0)
              return;
            const a = n.handle_svg_info.info;
            n.done_json[n.handle_svg_info.index] = n.done_json[n.handle_svg_info.index - 1], n.done_json[n.handle_svg_info.index - 1] = a, useHistoryRecord(n.done_json), this.display = !1, n.setHandleSvgInfo(a, n.handle_svg_info.index - 1);
            break;
          case EContextMenuInfoType.MoveDownTopLevel:
            if (n.done_json.length === 1 || n.handle_svg_info.index === 0)
              return;
            const u = n.handle_svg_info.info;
            n.done_json.splice(n.handle_svg_info.index, 1), n.done_json.unshift(u), useHistoryRecord(n.done_json), this.display = !1, n.setHandleSvgInfo(u, 0);
            break;
          case EContextMenuInfoType.MoveUpTopLevel:
            if (n.done_json.length === 1 || n.handle_svg_info.index === n.done_json.length)
              return;
            const c = n.handle_svg_info.info;
            n.done_json.splice(n.handle_svg_info.index, 1), n.done_json.push(c), useHistoryRecord(n.done_json), this.display = !1, n.setHandleSvgInfo(c, n.done_json.length - 1);
            break;
        }
    }
  }
}), pinia = createPinia(), useHistoryRecord = (r) => {
  const n = useEditPrivateStore();
  n.is_record_history && (n.history_now_index + 1 < n.history_doneComponent.length && n.history_doneComponent.splice(n.history_now_index + 1), n.history_doneComponent.push(r), n.history_now_index = n.history_doneComponent.length - 1, n.history_doneComponent.length > n.max_record_times && (n.history_doneComponent.shift(), n.history_now_index = n.history_doneComponent.length - 1)), n.is_record_history = !0;
}, useImportDataModel = (r) => {
  try {
    const n = JSON.parse(r);
    if (!n.config || !n.layout_center || !n.done_json)
      return ElMessage.error("请导入正确的数据模型！"), !1;
    const i = useGlobalStore(pinia), o = useSvgEditLayoutStore(pinia), a = useConfigStore(pinia);
    return a.$state = n.config, o.center_offset = n.layout_center, i.setDoneJson(n.done_json), !0;
  } catch (n) {
    return ElMessage.error("请导入正确的数据模型！"), console.error(n), !1;
  }
}, _hoisted_1$i = { "aria-hidden": "true" }, _hoisted_2$f = ["xlink:href"], _sfc_main$D = /* @__PURE__ */ defineComponent({
  __name: "svg-analysis",
  props: {
    name: {},
    props: { default: () => ({}) }
  },
  setup(r) {
    const n = r, i = computed(() => `#svg-${n.name}`);
    return (o, a) => (openBlock(), createElementBlock("svg", _hoisted_1$i, [
      createElementVNode("use", mergeProps({ "xlink:href": unref(i) }, n.props), null, 16, _hoisted_2$f)
    ]));
  }
});
var EVisibleConfKey = /* @__PURE__ */ ((r) => (r.ImportJson = "ImportJson", r.ExportJson = "ExportJson", r.ImportFile = "ImportFile", r))(EVisibleConfKey || {});
const _withScopeId$2 = (r) => (pushScopeId("data-v-62907637"), r = r(), popScopeId(), r), _hoisted_1$h = {
  class: "flex justify-between",
  style: { width: "100%" }
}, _hoisted_2$e = {
  class: "flex items-center justify-between",
  style: { width: "250px" }
}, _hoisted_3$c = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", { class: "flex items-center" }, [
  /* @__PURE__ */ createElementVNode("span", { class: "logo-title" }, "Svg Editor")
], -1)), _hoisted_4$8 = {
  class: "flex justify-between",
  style: { width: "calc(100% - 440px)" }
}, _hoisted_5$6 = { class: "flex items-center" }, _hoisted_6$4 = { class: "flex items-center mr-20px" }, _hoisted_7$4 = {
  class: "flex items-center",
  style: { width: "250px" }
}, _hoisted_8$4 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", {
  class: "font-bold mb-10px text-15px guide-title",
  style: { "padding-top": "16px" }
}, "多选", -1)), _hoisted_9$4 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", null, "在画布空白区域按住鼠标左键可以框选（图形坐标在框选区域即判定被选中），也可以按住ctrl+鼠标左键点图形进行多选", -1)), _hoisted_10$3 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", {
  class: "el-divider el-divider--horizontal",
  role: "separator",
  style: { "--el-border-style": "solid" }
}, null, -1)), _hoisted_11$2 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", { class: "font-bold mb-10px text-15px guide-title" }, "拖动画布", -1)), _hoisted_12$2 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", null, "在画布空白区域按住右键可拖动画布，右侧面板‘图纸’栏可微调或重置位置", -1)), _hoisted_13$1 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", {
  class: "el-divider el-divider--horizontal",
  role: "separator",
  style: { "--el-border-style": "solid" }
}, null, -1)), _hoisted_14$1 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", { class: "font-bold mb-10px text-15px guide-title" }, "画布缩放", -1)), _hoisted_15$1 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", null, "在画布空白区使用鼠标滚轮或者右侧面板‘图纸’栏可控制画布缩放", -1)), _hoisted_16$2 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", {
  class: "el-divider el-divider--horizontal",
  role: "separator",
  style: { "--el-border-style": "solid" }
}, null, -1)), _hoisted_17 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", { class: "font-bold mb-10px text-15px guide-title" }, "标尺辅助线", -1)), _hoisted_18 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", null, "在标尺区域按住鼠标左键并拖动即可创建标尺辅助线，将标尺辅助线拖动到标尺区域即可删除标尺辅助线", -1)), _hoisted_19 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", {
  class: "el-divider el-divider--horizontal",
  role: "separator",
  style: { "--el-border-style": "solid" }
}, null, -1)), _hoisted_20 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", { class: "font-bold mb-10px text-15px guide-title" }, "组件尺寸", -1)), _hoisted_21 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", null, [
  /* @__PURE__ */ createElementVNode("p", null, " 大多数组件可以通过选中组件然后拖动交互点或在右侧‘外观’栏改变外形尺寸，或通过右侧‘数据’栏直接或间接改变外形尺寸；"),
  /* @__PURE__ */ createElementVNode("p", null, "少数特殊组件仅可通过右侧'数据'栏直接或间接改变外形尺寸")
], -1)), _hoisted_22$1 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", {
  class: "el-divider el-divider--horizontal",
  role: "separator",
  style: { "--el-border-style": "solid" }
}, null, -1)), _hoisted_23 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", { class: "font-bold mb-10px text-15px guide-title" }, "连线样式", -1)), _hoisted_24 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", null, "在右侧‘连线’栏可以统一配置连线样式，配置后先增加的线会应用新样式，之前的线样式不变，如需改变，可选中线手动更改或删除重画 ", -1)), _hoisted_25 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", {
  class: "el-divider el-divider--horizontal",
  role: "separator",
  style: { "--el-border-style": "solid" }
}, null, -1)), _hoisted_26$1 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", { class: "font-bold mb-10px text-15px guide-title" }, "横线和竖线", -1)), _hoisted_27 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", { class: "guide-text" }, [
  /* @__PURE__ */ createElementVNode("p", null, " 点击编辑器顶部连线按钮会进入连线状态，该状态下在画板点击鼠标左键即可开始画线，移动并再次点击左键创建新的节点，右键结束画线并退出连线状态；"),
  /* @__PURE__ */ createElementVNode("p", null, "画线的时候按住ctrl即可画竖线，按住shift即可画横线")
], -1)), _hoisted_28 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", {
  class: "el-divider el-divider--horizontal",
  role: "separator",
  style: { "--el-border-style": "solid" }
}, null, -1)), _hoisted_29 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", { class: "font-bold mb-10px text-15px guide-title" }, "绑定锚点", -1)), _hoisted_30 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", { class: "guide-text" }, [
  /* @__PURE__ */ createElementVNode("p", null, "组件在未选中时，鼠标经过组件时会出现锚点，鼠标悬浮在锚点上时，会有交互样式，点击左键即可以锚点为起点创建连线；"),
  /* @__PURE__ */ createElementVNode("p", null, "同样，在连线时鼠标经过锚点时，会出现锚点交互样式，点击左键即可以锚点为连线终点结束连线；"),
  /* @__PURE__ */ createElementVNode("p", null, "这两种情况下的连线会绑定组件上的锚点，如需解绑，参考下面的‘锚点解绑’；"),
  /* @__PURE__ */ createElementVNode("p", null, "同样，也可先画线，再选中连线绑定想要绑定的组件锚点（连线只有首尾节点可以绑定锚点）")
], -1)), _hoisted_31 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", {
  class: "el-divider el-divider--horizontal",
  role: "separator",
  style: { "--el-border-style": "solid" }
}, null, -1)), _hoisted_32$1 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", { class: "font-bold mb-10px text-15px guide-title" }, "线段选中", -1)), _hoisted_33 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", null, " 若线段绑定了锚点，移动线段，绑定的锚点不会移动。若是想将线段整体移动，需要先解绑，参考下面的‘锚点解绑’ ", -1)), _hoisted_34 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", {
  class: "el-divider el-divider--horizontal",
  role: "separator",
  style: { "--el-border-style": "solid" }
}, null, -1)), _hoisted_35 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", { class: "font-bold mb-10px text-15px guide-title" }, "锚点解绑", -1)), _hoisted_36$1 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", { style: { "padding-bottom": "14px" } }, " 选中线段，在右侧‘数据’栏里解除绑定；或者鼠标左键拖拽连线上需要解绑的节点", -1)), _sfc_main$C = /* @__PURE__ */ defineComponent({
  __name: "top-panel",
  emits: ["changeVisible", "onReturn", "onPreview", "onSave"],
  setup(r, { emit: n }) {
    const i = useSvgEditLayoutStore(pinia), o = useGlobalStore(pinia), a = useEditPrivateStore(pinia), u = useConfigStore(pinia), c = () => {
      o.done_json.length <= 0 || o.setDoneJson([]), o.intention = EGlobalStoreIntention.None;
    }, f = (y) => {
      const v = {
        layout_center: i.center_offset,
        config: u.$state,
        done_json: o.done_json
      };
      n(y, v);
    }, d = ref(!1), p = computed({
      get: () => o.intention === EGlobalStoreIntention.Connection,
      set(y) {
        o.intention = y ? EGlobalStoreIntention.Connection : EGlobalStoreIntention.None, y && o.setHandleSvgInfo(null);
      }
    });
    return (y, v) => (openBlock(), createElementBlock(Fragment, null, [
      createElementVNode("div", _hoisted_1$h, [
        createElementVNode("div", _hoisted_2$e, [
          _hoisted_3$c,
          createVNode$1(unref(ElIcon$1), {
            size: 24,
            class: "bt-Icon",
            onClick: v[0] || (v[0] = (g) => unref(i).left_nav = !unref(i).left_nav),
            title: unref(i).left_nav ? "隐藏左侧菜单" : "显示左侧菜单"
          }, {
            default: withCtx(() => [
              unref(i).left_nav ? (openBlock(), createBlock(_sfc_main$D, {
                key: 0,
                name: "menu-unfold"
              })) : (openBlock(), createBlock(_sfc_main$D, {
                key: 1,
                name: "menu-fold"
              }))
            ]),
            _: 1
          }, 8, ["title"])
        ]),
        createElementVNode("div", _hoisted_4$8, [
          createElementVNode("div", _hoisted_5$6, [
            createVNode$1(unref(ElIcon$1), {
              title: "撤销 ctrl+z",
              size: 24,
              class: normalizeClass(`${unref(a).getTopBtnUndoStatus ? "bt-Icon" : "icon-disable"} ml-20px`),
              onClick: v[1] || (v[1] = () => unref(a).topUndoBtnClick())
            }, {
              default: withCtx(() => [
                createVNode$1(_sfc_main$D, {
                  name: unref(a).getTopBtnUndoStatus ? "undo" : "undo-gray"
                }, null, 8, ["name"])
              ]),
              _: 1
            }, 8, ["class"]),
            createVNode$1(unref(ElIcon$1), {
              title: "重做 ctrl+shift+z",
              class: normalizeClass(`${unref(a).getTopBtnRedoStatus ? "bt-Icon" : "icon-disable"} ml-5px`),
              size: 24,
              onClick: v[2] || (v[2] = () => unref(a).topRedoBtnClick())
            }, {
              default: withCtx(() => [
                createVNode$1(_sfc_main$D, {
                  name: unref(a).getTopBtnRedoStatus ? "redo" : "redo-gray"
                }, null, 8, ["name"])
              ]),
              _: 1
            }, 8, ["class"]),
            createVNode$1(unref(ElDivider), { direction: "vertical" }),
            createVNode$1(unref(ElIcon$1), {
              title: "清空 ctrl+delete",
              class: normalizeClass(unref(o).done_json.length > 0 ? "bt-Icon" : "icon-disable"),
              size: 24,
              onClick: c
            }, {
              default: withCtx(() => [
                createVNode$1(_sfc_main$D, {
                  name: unref(o).done_json.length > 0 ? "delete" : "delete-gray"
                }, null, 8, ["name"])
              ]),
              _: 1
            }, 8, ["class"]),
            createVNode$1(unref(ElDivider), { direction: "vertical" }),
            createVNode$1(unref(ElIcon$1), {
              title: "导入数据模型",
              class: "bt-Icon",
              size: 24,
              onClick: v[3] || (v[3] = (g) => n("changeVisible", unref(EVisibleConfKey).ImportJson, !0))
            }, {
              default: withCtx(() => [
                createVNode$1(_sfc_main$D, { name: "import" })
              ]),
              _: 1
            }),
            createVNode$1(unref(ElIcon$1), {
              title: "导出数据模型",
              size: 24,
              class: "bt-Icon ml-5px",
              onClick: v[4] || (v[4] = (g) => n("changeVisible", unref(EVisibleConfKey).ExportJson, !0))
            }, {
              default: withCtx(() => [
                createVNode$1(_sfc_main$D, { name: "export" })
              ]),
              _: 1
            }),
            createVNode$1(unref(ElDivider), { direction: "vertical" }),
            createVNode$1(unref(ElIcon$1), {
              title: "创建连线",
              class: normalizeClass(["bt-Icon", { active: unref(p) }]),
              size: 24,
              onClick: v[5] || (v[5] = (g) => p.value = !unref(p))
            }, {
              default: withCtx(() => [
                createVNode$1(_sfc_main$D, {
                  name: unref(p) ? "line-active" : "line"
                }, null, 8, ["name"])
              ]),
              _: 1
            }, 8, ["class"]),
            createVNode$1(unref(ElDivider), { direction: "vertical" }),
            createVNode$1(unref(ElIcon$1), {
              title: "说明",
              class: "bt-Icon",
              size: 24,
              onClick: v[6] || (v[6] = (g) => d.value = !unref(d))
            }, {
              default: withCtx(() => [
                createVNode$1(_sfc_main$D, { name: "question" })
              ]),
              _: 1
            })
          ]),
          createElementVNode("div", _hoisted_6$4, [
            createVNode$1(unref(ElIcon$1), {
              title: "返回",
              class: "bt-Icon",
              size: 24,
              onClick: v[7] || (v[7] = (g) => f("onReturn"))
            }, {
              default: withCtx(() => [
                createVNode$1(_sfc_main$D, { name: "return" })
              ]),
              _: 1
            }),
            createVNode$1(unref(ElDivider), { direction: "vertical" }),
            createVNode$1(unref(ElIcon$1), {
              title: "保存",
              class: "bt-Icon",
              size: 24,
              onClick: v[8] || (v[8] = (g) => f("onSave"))
            }, {
              default: withCtx(() => [
                createVNode$1(_sfc_main$D, { name: "save" })
              ]),
              _: 1
            }),
            createVNode$1(unref(ElDivider), { direction: "vertical" }),
            createVNode$1(unref(ElIcon$1), {
              title: "预览",
              class: "bt-Icon",
              size: 22,
              onClick: v[9] || (v[9] = (g) => f("onPreview"))
            }, {
              default: withCtx(() => [
                createVNode$1(_sfc_main$D, { name: "preview" })
              ]),
              _: 1
            })
          ])
        ]),
        createElementVNode("div", _hoisted_7$4, [
          createVNode$1(unref(ElIcon$1), {
            size: 24,
            class: "bt-Icon",
            onClick: v[10] || (v[10] = (g) => unref(i).right_nav = !unref(i).right_nav),
            title: unref(i).right_nav ? "隐藏右侧菜单" : "显示右侧菜单"
          }, {
            default: withCtx(() => [
              unref(i).right_nav ? (openBlock(), createBlock(_sfc_main$D, {
                key: 0,
                name: "menu-fold"
              })) : (openBlock(), createBlock(_sfc_main$D, {
                key: 1,
                name: "menu-unfold"
              }))
            ]),
            _: 1
          }, 8, ["title"])
        ])
      ]),
      createVNode$1(unref(ElDialog), {
        modelValue: unref(d),
        "onUpdate:modelValue": v[11] || (v[11] = (g) => isRef(d) ? d.value = g : null),
        title: "使用说明",
        width: "60%",
        class: "guide-dialog"
      }, {
        default: withCtx(() => [
          createVNode$1(unref(ElScrollbar$1), { "max-height": "60vh" }, {
            default: withCtx(() => [
              _hoisted_8$4,
              _hoisted_9$4,
              _hoisted_10$3,
              _hoisted_11$2,
              _hoisted_12$2,
              _hoisted_13$1,
              _hoisted_14$1,
              _hoisted_15$1,
              _hoisted_16$2,
              _hoisted_17,
              _hoisted_18,
              _hoisted_19,
              _hoisted_20,
              _hoisted_21,
              _hoisted_22$1,
              _hoisted_23,
              _hoisted_24,
              _hoisted_25,
              _hoisted_26$1,
              _hoisted_27,
              _hoisted_28,
              _hoisted_29,
              _hoisted_30,
              _hoisted_31,
              _hoisted_32$1,
              _hoisted_33,
              _hoisted_34,
              _hoisted_35,
              _hoisted_36$1
            ]),
            _: 1
          })
        ]),
        _: 1
      }, 8, ["modelValue"])
    ], 64));
  }
}), topPanel_vue_vue_type_style_index_0_scoped_62907637_lang = "", topPanel_vue_vue_type_style_index_1_lang = "", TopPanel = /* @__PURE__ */ _export_sfc$1(_sfc_main$C, [["__scopeId", "data-v-62907637"]]), _hoisted_1$g = { class: "component-group flex flex-wrap" }, _hoisted_2$d = ["onDragstart", "title"], _sfc_main$B = /* @__PURE__ */ defineComponent({
  __name: "left-panel",
  props: {
    customToolbar: {}
  },
  setup(r) {
    const n = r, i = useGlobalStore(pinia), o = ref(
      n.customToolbar && Object.keys(n.customToolbar).length > 0 ? n.customToolbar : i.config_center
    ), a = ref([
      "stateful",
      "stateless",
      "have_animation",
      "custom_svg_group",
      "element-ui",
      "custom-vue",
      "echarts"
    ]), u = (d) => {
      i.setCreateInfo(c(d));
    }, c = (d) => (d != null && d.props && !isEmpty(d.props) && Object.keys(d.props).forEach((p, y) => {
      d.props[p].sort = String(y);
    }), d), f = (d) => {
      var p;
      if (((p = d.dataTransfer) == null ? void 0 : p.dropEffect) !== "copy") {
        ElMessage.warning("请将组件拖到画布中!"), i.intention = EGlobalStoreIntention.None;
        return;
      }
    };
    return (d, p) => (openBlock(), createElementBlock("div", null, [
      createVNode$1(unref(ElCollapse), {
        modelValue: unref(a),
        "onUpdate:modelValue": p[0] || (p[0] = (y) => isRef(a) ? a.value = y : null),
        style: { "border-top": "none" }
      }, {
        default: withCtx(() => [
          (openBlock(!0), createElementBlock(Fragment, null, renderList(unref(o), (y) => (openBlock(), createBlock(unref(ElCollapseItem), {
            name: y.groupType,
            key: y.title
          }, {
            title: withCtx(() => [
              createElementVNode("div", null, toDisplayString(y.title), 1)
            ]),
            default: withCtx(() => [
              createElementVNode("div", _hoisted_1$g, [
                (openBlock(!0), createElementBlock(Fragment, null, renderList(y.list, (v) => (openBlock(), createElementBlock("div", {
                  class: "ideal",
                  key: v.name,
                  draggable: "true",
                  onDragstart: (g) => u(v),
                  onDragend: f,
                  title: v.title
                }, [
                  createVNode$1(unref(ElIcon$1), {
                    size: 35,
                    class: "flex items-center"
                  }, {
                    default: withCtx(() => [
                      createVNode$1(_sfc_main$D, {
                        name: v.name,
                        props: unref(prosToVBind)(v, ["width", "height", "maxHeight"])
                      }, null, 8, ["name", "props"])
                    ]),
                    _: 2
                  }, 1024)
                ], 40, _hoisted_2$d))), 128))
              ])
            ]),
            _: 2
          }, 1032, ["name"]))), 128))
        ]),
        _: 1
      }, 8, ["modelValue"])
    ]));
  }
}), leftPanel_vue_vue_type_style_index_0_scoped_8aba8565_lang = "", LeftPanel = /* @__PURE__ */ _export_sfc$1(_sfc_main$B, [["__scopeId", "data-v-8aba8565"]]), calculateLeftTop = (r, n, i) => {
  const o = getCenterPoint(r, n), a = calculateRotatedPointCoordinate(r, o, -i), u = calculateRotatedPointCoordinate(n, o, -i);
  return {
    width: u.x - a.x,
    height: u.y - a.y,
    is_old_width: !1,
    is_old_height: !1
  };
}, calculateRightTop = (r, n, i) => {
  const o = getCenterPoint(r, n), a = calculateRotatedPointCoordinate(r, o, -i), u = calculateRotatedPointCoordinate(n, o, -i);
  return {
    width: a.x - u.x,
    height: u.y - a.y,
    is_old_width: !1,
    is_old_height: !1
  };
}, calculateRightBottom = (r, n, i) => {
  const o = getCenterPoint(r, n), a = calculateRotatedPointCoordinate(n, o, -i), u = calculateRotatedPointCoordinate(r, o, -i);
  return {
    width: u.x - a.x,
    height: u.y - a.y,
    is_old_width: !1,
    is_old_height: !1
  };
}, calculateLeftBottom = (r, n, i) => {
  const o = getCenterPoint(r, n), a = calculateRotatedPointCoordinate(n, o, -i), u = calculateRotatedPointCoordinate(r, o, -i);
  return {
    width: a.x - u.x,
    height: u.y - a.y,
    is_old_width: !1,
    is_old_height: !1
  };
}, calculateTop = (r, n, i, o) => {
  const a = calculateRotatedPointCoordinate(r, o, -i), u = calculateRotatedPointCoordinate(
    {
      x: o.x,
      y: a.y
    },
    o,
    i
  ), c = Math.sqrt(
    (u.x - n.x) ** 2 + (u.y - n.y) ** 2
  );
  return {
    width: 1,
    height: Math.round(c),
    is_old_width: !0,
    is_old_height: !1
  };
}, calculateRight = (r, n, i, o) => {
  const a = calculateRotatedPointCoordinate(r, o, -i), u = calculateRotatedPointCoordinate(
    {
      x: a.x,
      y: o.y
    },
    o,
    i
  ), c = Math.sqrt(
    (u.x - n.x) ** 2 + (u.y - n.y) ** 2
  );
  return {
    width: Math.round(c),
    height: 1,
    is_old_width: !1,
    is_old_height: !0
  };
}, calculateBottom = (r, n, i, o) => {
  const a = calculateRotatedPointCoordinate(r, o, -i), u = calculateRotatedPointCoordinate(
    {
      x: o.x,
      y: a.y
    },
    o,
    i
  ), c = Math.sqrt(
    (u.x - n.x) ** 2 + (u.y - n.y) ** 2
  );
  return {
    width: 1,
    height: Math.round(c),
    is_old_width: !0,
    is_old_height: !1
  };
}, calculateLeft = (r, n, i, o) => {
  const a = calculateRotatedPointCoordinate(r, o, -i), u = calculateRotatedPointCoordinate(
    {
      x: a.x,
      y: o.y
    },
    o,
    i
  ), c = Math.sqrt(
    (u.x - n.x) ** 2 + (u.y - n.y) ** 2
  );
  return {
    width: Math.round(c),
    height: 1,
    is_old_width: !1,
    is_old_height: !0
  };
}, _hoisted_1$f = { style: { "vector-effect": "non-scaling-stroke" } }, _hoisted_2$c = ["fill", "x", "y"], _hoisted_3$b = ["cx", "cy"], _hoisted_4$7 = ["x1", "y1", "x2", "y2"], _hoisted_5$5 = ["fill", "x", "y"], _hoisted_6$3 = ["fill", "x", "y"], _hoisted_7$3 = ["fill", "x", "y"], _hoisted_8$3 = ["fill", "x", "y"], _hoisted_9$3 = ["fill", "x", "y"], _hoisted_10$2 = ["fill", "x", "y"], _hoisted_11$1 = ["fill", "x", "y"], _sfc_main$A = /* @__PURE__ */ defineComponent({
  __name: "handle-panel",
  props: {
    itemInfo: {}
  },
  setup(r) {
    const n = r;
    useCssVars((g) => ({
      "5c831aea": unref(c)
    }));
    const i = useGlobalStore(pinia), o = useConfigStore(pinia), a = useSvgEditLayoutStore(pinia), u = ref(4), c = ref("#ab712e"), f = [
      {
        start: 338,
        end: 23,
        cursor: "nw",
        type: EScaleInfoType.TopLeft
      },
      {
        start: 23,
        end: 68,
        cursor: "n",
        type: EScaleInfoType.TopCenter
      },
      {
        start: 68,
        end: 113,
        cursor: "ne",
        type: EScaleInfoType.TopRight
      },
      {
        start: 293,
        end: 338,
        cursor: "w",
        type: EScaleInfoType.Left
      },
      {
        start: 113,
        end: 158,
        cursor: "e",
        type: EScaleInfoType.Right
      },
      {
        start: 248,
        end: 293,
        cursor: "sw",
        type: EScaleInfoType.BottomLeft
      },
      {
        start: 203,
        end: 248,
        cursor: "s",
        type: EScaleInfoType.BottomCenter
      },
      {
        start: 158,
        end: 203,
        cursor: "se",
        type: EScaleInfoType.BottomRight
      }
    ], d = computed(() => n.itemInfo.config.can_zoom), p = (g, _) => {
      console.log("handMousedown", _);
      const { clientX: b, clientY: A } = _;
      _.stopPropagation(), i.intention = EGlobalStoreIntention.Zoom;
      const w = Math.round(
        (b - a.canvasInfo.left) / o.svg.scale - a.center_offset.x
      ), S = Math.round(
        (A - a.canvasInfo.top) / o.svg.scale - a.center_offset.y
      );
      i.mouse_info = {
        state: EMouseInfoState.Down,
        position_x: w,
        position_y: S,
        now_position_x: w,
        now_position_y: S,
        new_position_x: 0,
        new_position_y: 0
      }, i.scale_info = {
        type: g,
        scale_times: {
          x: n.itemInfo.scale_x,
          y: n.itemInfo.scale_y
        },
        scale_item_info: {
          x: n.itemInfo.x,
          y: n.itemInfo.y
        },
        symmetric_point: {
          x: w + Math.abs(w - n.itemInfo.center_position.x) * 2 * (w > n.itemInfo.center_position.x ? -1 : 1),
          y: S + Math.abs(S - n.itemInfo.center_position.y) * 2 * (S > n.itemInfo.center_position.y ? -1 : 1)
        }
      };
    }, y = (g) => {
      const { clientX: _, clientY: b } = g, A = Math.round(
        (_ - a.canvasInfo.left) / o.svg.scale - a.center_offset.x
      ), w = Math.round(
        (b - a.canvasInfo.top) / o.svg.scale - a.center_offset.y
      );
      g.stopPropagation(), i.intention = EGlobalStoreIntention.Rotate, i.rotate_info = {
        angle: n.itemInfo.rotate
      }, i.mouse_info = {
        state: EMouseInfoState.Down,
        position_x: A,
        position_y: w,
        now_position_x: A,
        now_position_y: w,
        new_position_x: 0,
        new_position_y: 0
      };
    }, v = (g) => {
      const _ = (g + n.itemInfo.rotate) % 360, b = f.find((A) => A.start <= _ && A.end > _);
      return b ? {
        cursor: b.cursor + "-resize",
        type: b.type
      } : {
        cursor: "nw-resize",
        type: EScaleInfoType.TopLeft
      };
    };
    return (g, _) => (openBlock(), createElementBlock("g", _hoisted_1$f, [
      withDirectives(createElementVNode("rect", {
        id: "resize_tl",
        width: "8",
        height: "8",
        fill: unref(c),
        style: normalizeStyle$1({ cursor: v(0).cursor, "vector-effect": "non-scaling-stroke" }),
        "pointer-events": "all",
        x: n.itemInfo.actual_bound.x - unref(u) - unref(getCoordinateOffset)(n.itemInfo.actual_bound.width, n.itemInfo.scale_x),
        y: n.itemInfo.actual_bound.y - unref(u) - unref(getCoordinateOffset)(n.itemInfo.actual_bound.height, n.itemInfo.scale_y),
        stroke: "rgba(0,0,0,0)",
        onMousedown: _[0] || (_[0] = (b) => p(unref(EScaleInfoType).TopLeft, b))
      }, null, 44, _hoisted_2$c), [
        [vShow, unref(d)]
      ]),
      createElementVNode("circle", {
        cx: n.itemInfo.actual_bound.x + n.itemInfo.actual_bound.width / 2,
        cy: n.itemInfo.actual_bound.y - unref(u) - unref(getCoordinateOffset)(n.itemInfo.actual_bound.height, n.itemInfo.scale_y) - 24,
        r: 4,
        class: "rotate-circle",
        onMousedown: y
      }, null, 40, _hoisted_3$b),
      createElementVNode("line", {
        x1: n.itemInfo.actual_bound.x + n.itemInfo.actual_bound.width / 2,
        y1: n.itemInfo.actual_bound.y - unref(u) - unref(getCoordinateOffset)(n.itemInfo.actual_bound.height, n.itemInfo.scale_y),
        x2: n.itemInfo.actual_bound.x + n.itemInfo.actual_bound.width / 2,
        y2: n.itemInfo.actual_bound.y - unref(u) - unref(getCoordinateOffset)(n.itemInfo.actual_bound.height, n.itemInfo.scale_y) - 20,
        style: normalizeStyle$1({ stroke: unref(c), "stroke-width": 2 })
      }, null, 12, _hoisted_4$7),
      withDirectives(createElementVNode("rect", {
        id: "resize_tc",
        width: "8",
        height: "8",
        fill: unref(c),
        style: normalizeStyle$1({ cursor: v(45).cursor, "vector-effect": "non-scaling-stroke" }),
        "pointer-events": "all",
        x: n.itemInfo.actual_bound.x + n.itemInfo.actual_bound.width / 2 - unref(u),
        y: n.itemInfo.actual_bound.y - unref(u) - unref(getCoordinateOffset)(n.itemInfo.actual_bound.height, n.itemInfo.scale_y),
        stroke: "rgba(0,0,0,0)",
        onMousedown: _[1] || (_[1] = (b) => p(unref(EScaleInfoType).TopCenter, b))
      }, null, 44, _hoisted_5$5), [
        [vShow, unref(d)]
      ]),
      withDirectives(createElementVNode("rect", {
        id: "resize_tr",
        width: "8",
        height: "8",
        fill: unref(c),
        style: normalizeStyle$1({ cursor: v(90).cursor, "vector-effect": "non-scaling-stroke" }),
        "pointer-events": "all",
        x: n.itemInfo.actual_bound.x + n.itemInfo.actual_bound.width - unref(u) + unref(getCoordinateOffset)(n.itemInfo.actual_bound.width, n.itemInfo.scale_x),
        y: n.itemInfo.actual_bound.y - unref(u) - unref(getCoordinateOffset)(n.itemInfo.actual_bound.height, n.itemInfo.scale_y),
        stroke: "rgba(0,0,0,0)",
        onMousedown: _[2] || (_[2] = (b) => p(unref(EScaleInfoType).TopRight, b))
      }, null, 44, _hoisted_6$3), [
        [vShow, unref(d)]
      ]),
      withDirectives(createElementVNode("rect", {
        id: "resize_l",
        width: "8",
        height: "8",
        fill: unref(c),
        style: normalizeStyle$1({ cursor: v(315).cursor, "vector-effect": "non-scaling-stroke" }),
        "pointer-events": "all",
        x: n.itemInfo.actual_bound.x - unref(u) - unref(getCoordinateOffset)(n.itemInfo.actual_bound.width, n.itemInfo.scale_x),
        y: n.itemInfo.actual_bound.y - unref(u) + n.itemInfo.actual_bound.height * n.itemInfo.scale_y / 2 - unref(getCoordinateOffset)(n.itemInfo.actual_bound.height, n.itemInfo.scale_y),
        stroke: "rgba(0,0,0,0)",
        onMousedown: _[3] || (_[3] = (b) => p(unref(EScaleInfoType).Left, b))
      }, null, 44, _hoisted_7$3), [
        [vShow, unref(d)]
      ]),
      withDirectives(createElementVNode("rect", {
        id: "resize_r",
        width: "8",
        height: "8",
        fill: unref(c),
        style: normalizeStyle$1({ cursor: v(135).cursor, "vector-effect": "non-scaling-stroke" }),
        "pointer-events": "all",
        x: n.itemInfo.actual_bound.x - unref(u) + n.itemInfo.actual_bound.width + unref(getCoordinateOffset)(n.itemInfo.actual_bound.width, n.itemInfo.scale_x),
        y: n.itemInfo.actual_bound.y - unref(u) + n.itemInfo.actual_bound.height * n.itemInfo.scale_y / 2 - unref(getCoordinateOffset)(n.itemInfo.actual_bound.height, n.itemInfo.scale_y),
        stroke: "rgba(0,0,0,0)",
        onMousedown: _[4] || (_[4] = (b) => p(unref(EScaleInfoType).Right, b))
      }, null, 44, _hoisted_8$3), [
        [vShow, unref(d)]
      ]),
      withDirectives(createElementVNode("rect", {
        id: "resize_bl",
        width: "8",
        height: "8",
        fill: unref(c),
        style: normalizeStyle$1({ cursor: v(270).cursor, "vector-effect": "non-scaling-stroke" }),
        "pointer-events": "all",
        x: n.itemInfo.actual_bound.x - unref(u) - unref(getCoordinateOffset)(n.itemInfo.actual_bound.width, n.itemInfo.scale_x),
        y: n.itemInfo.actual_bound.y - unref(u) + n.itemInfo.actual_bound.height * n.itemInfo.scale_y - unref(getCoordinateOffset)(n.itemInfo.actual_bound.height, n.itemInfo.scale_y),
        stroke: "rgba(0,0,0,0)",
        onMousedown: _[5] || (_[5] = (b) => p(unref(EScaleInfoType).BottomLeft, b))
      }, null, 44, _hoisted_9$3), [
        [vShow, unref(d)]
      ]),
      withDirectives(createElementVNode("rect", {
        id: "resize_bc",
        width: "8",
        height: "8",
        fill: unref(c),
        style: normalizeStyle$1({ cursor: v(225).cursor, "vector-effect": "non-scaling-stroke" }),
        "pointer-events": "all",
        x: n.itemInfo.actual_bound.x - unref(u) + n.itemInfo.actual_bound.width / 2,
        y: n.itemInfo.actual_bound.y - unref(u) + n.itemInfo.actual_bound.height + unref(getCoordinateOffset)(n.itemInfo.actual_bound.height, n.itemInfo.scale_y),
        stroke: "rgba(0,0,0,0)",
        onMousedown: _[6] || (_[6] = (b) => p(unref(EScaleInfoType).BottomCenter, b))
      }, null, 44, _hoisted_10$2), [
        [vShow, unref(d)]
      ]),
      withDirectives(createElementVNode("rect", {
        id: "resize_br",
        width: "8",
        height: "8",
        fill: unref(c),
        style: normalizeStyle$1({ cursor: v(180).cursor, "vector-effect": "non-scaling-stroke" }),
        "pointer-events": "all",
        x: n.itemInfo.actual_bound.x - unref(u) + n.itemInfo.actual_bound.width + unref(getCoordinateOffset)(n.itemInfo.actual_bound.width, n.itemInfo.scale_x),
        y: n.itemInfo.actual_bound.y - unref(u) + n.itemInfo.actual_bound.height + unref(getCoordinateOffset)(n.itemInfo.actual_bound.height, n.itemInfo.scale_y),
        stroke: "rgba(0,0,0,0)",
        onMousedown: _[7] || (_[7] = (b) => p(unref(EScaleInfoType).BottomRight, b))
      }, null, 44, _hoisted_11$1), [
        [vShow, unref(d)]
      ])
    ]));
  }
}), handlePanel_vue_vue_type_style_index_0_scoped_e6622df8_lang = "", HandlePanel = /* @__PURE__ */ _export_sfc$1(_sfc_main$A, [["__scopeId", "data-v-e6622df8"]]), _hoisted_1$e = ["fill"], _hoisted_2$b = ["cx", "cy", "r"], _hoisted_3$a = ["cx", "cy", "r"], _hoisted_4$6 = ["cx", "cy", "r"], _hoisted_5$4 = ["cx", "cy", "r"], _hoisted_6$2 = ["cx", "cy", "r"], _hoisted_7$2 = ["cx", "cy", "r"], _hoisted_8$2 = ["cx", "cy", "r"], _hoisted_9$2 = ["cx", "cy", "r"], _sfc_main$z = /* @__PURE__ */ defineComponent({
  __name: "connection-panel",
  props: {
    itemInfo: {}
  },
  setup(r) {
    const n = r, i = ref(4), o = ref("#ab712e"), a = ref(4), u = ref(12), c = useGlobalStore(pinia), f = useSvgEditLayoutStore(pinia), d = computed(
      () => n.itemInfo.actual_bound.x + n.itemInfo.actual_bound.width / 2 - i.value + a.value
    ), p = computed(
      () => n.itemInfo.actual_bound.y - i.value - getCoordinateOffset(n.itemInfo.actual_bound.height, n.itemInfo.scale_y) + a.value
    ), y = computed(
      () => n.itemInfo.actual_bound.x - i.value + n.itemInfo.actual_bound.width + getCoordinateOffset(n.itemInfo.actual_bound.width, n.itemInfo.scale_x) + a.value
    ), v = computed(
      () => n.itemInfo.actual_bound.y - i.value + n.itemInfo.actual_bound.height * n.itemInfo.scale_y / 2 - getCoordinateOffset(n.itemInfo.actual_bound.height, n.itemInfo.scale_y) + a.value
    ), g = computed(
      () => n.itemInfo.actual_bound.x - i.value + n.itemInfo.actual_bound.width / 2 + a.value
    ), _ = computed(
      () => n.itemInfo.actual_bound.y - i.value + n.itemInfo.actual_bound.height + getCoordinateOffset(n.itemInfo.actual_bound.height, n.itemInfo.scale_y) + a.value
    ), b = computed(
      () => n.itemInfo.actual_bound.x - i.value - getCoordinateOffset(n.itemInfo.actual_bound.width, n.itemInfo.scale_x) + a.value
    ), A = computed(
      () => n.itemInfo.actual_bound.y - i.value + n.itemInfo.actual_bound.height * n.itemInfo.scale_y / 2 - getCoordinateOffset(n.itemInfo.actual_bound.height, n.itemInfo.scale_y) + a.value
    ), w = (x, T) => {
      var L;
      c.intention === EGlobalStoreIntention.SetConnectionLineNode && (x.stopPropagation(), (L = c.handle_svg_info) != null && L.info.bind_anchors && c.connection_line_node_info && (c.connection_line_node_info.point_index === 0 ? c.handle_svg_info.info.bind_anchors.start = {
        type: T,
        target_id: n.itemInfo.id
      } : c.connection_line_node_info.point_index === c.handle_svg_info.info.props.point_position.val.length - 1 && (c.handle_svg_info.info.bind_anchors.end = {
        type: T,
        target_id: n.itemInfo.id
      }), c.intention = EGlobalStoreIntention.None, c.setHandleSvgInfo(null), nextTick(function() {
        moveAnchors(n.itemInfo);
      })));
    }, S = (x, T) => {
      var L;
      c.intention === EGlobalStoreIntention.None ? (createLine(x, T, n.itemInfo), c.handle_svg_info && (c.handle_svg_info.info.props.point_position.val.length !== 1 ? c.handle_svg_info.info.props.point_position.val.push({
        x: c.mouse_info.new_position_x - c.mouse_info.position_x - f.center_offset.x,
        y: c.mouse_info.new_position_y - c.mouse_info.position_y - f.center_offset.y
      }) : c.handle_svg_info.info.props.point_position.val.push({
        x: 0,
        y: 0
      }))) : c.intention === EGlobalStoreIntention.Connection && (x.stopPropagation(), (L = c.handle_svg_info) != null && L.info.bind_anchors && (c.handle_svg_info.info.bind_anchors.end = {
        type: T,
        target_id: n.itemInfo.id
      }, c.intention = EGlobalStoreIntention.None, c.setHandleSvgInfo(null), nextTick(function() {
        moveAnchors(n.itemInfo);
      })));
    };
    return (x, T) => (openBlock(), createElementBlock("g", {
      style: { "vector-effect": "non-scaling-stroke" },
      class: "connect-points",
      fill: unref(o),
      "stroke-width": "2",
      stroke: "rgba(0,0,0,0)"
    }, [
      createElementVNode("g", {
        onMousedown: T[0] || (T[0] = (L) => S(L, unref(ELineBindAnchors).TopCenter)),
        onMouseup: T[1] || (T[1] = (L) => w(L, unref(ELineBindAnchors).TopCenter))
      }, [
        createElementVNode("circle", {
          class: "out-circle",
          cx: unref(d),
          cy: unref(p),
          r: unref(u),
          "fill-opacity": ".3"
        }, null, 8, _hoisted_2$b),
        createElementVNode("circle", {
          id: "connection_tc",
          cx: unref(d),
          cy: unref(p),
          r: unref(a),
          "pointer-events": "all"
        }, null, 8, _hoisted_3$a)
      ], 32),
      createElementVNode("g", {
        onMousedown: T[2] || (T[2] = (L) => S(L, unref(ELineBindAnchors).Right)),
        onMouseup: T[3] || (T[3] = (L) => w(L, unref(ELineBindAnchors).Right))
      }, [
        createElementVNode("circle", {
          class: "out-circle",
          cx: unref(y),
          cy: unref(v),
          r: unref(u),
          "fill-opacity": ".3"
        }, null, 8, _hoisted_4$6),
        createElementVNode("circle", {
          id: "connection_r",
          cx: unref(y),
          cy: unref(v),
          r: unref(a),
          "pointer-events": "all"
        }, null, 8, _hoisted_5$4)
      ], 32),
      createElementVNode("g", {
        onMousedown: T[4] || (T[4] = (L) => S(L, unref(ELineBindAnchors).BottomCenter)),
        onMouseup: T[5] || (T[5] = (L) => w(L, unref(ELineBindAnchors).BottomCenter))
      }, [
        createElementVNode("circle", {
          class: "out-circle",
          cx: unref(g),
          cy: unref(_),
          r: unref(u),
          "fill-opacity": ".3"
        }, null, 8, _hoisted_6$2),
        createElementVNode("circle", {
          id: "connection_bc",
          cx: unref(g),
          cy: unref(_),
          r: unref(a),
          "pointer-events": "all"
        }, null, 8, _hoisted_7$2)
      ], 32),
      createElementVNode("g", {
        onMousedown: T[6] || (T[6] = (L) => S(L, unref(ELineBindAnchors).Left)),
        onMouseup: T[7] || (T[7] = (L) => w(L, unref(ELineBindAnchors).Left))
      }, [
        createElementVNode("circle", {
          class: "out-circle",
          cx: unref(b),
          cy: unref(A),
          r: unref(u),
          "fill-opacity": ".3"
        }, null, 8, _hoisted_8$2),
        createElementVNode("circle", {
          id: "connection_l",
          cx: unref(b),
          cy: unref(A),
          r: unref(a),
          style: { cursor: "crosshair" },
          "pointer-events": "all"
        }, null, 8, _hoisted_9$2)
      ], 32)
    ], 8, _hoisted_1$e));
  }
}), connectionPanel_vue_vue_type_style_index_0_scoped_fb729c7a_lang = "", ConnectionPanel = /* @__PURE__ */ _export_sfc$1(_sfc_main$z, [["__scopeId", "data-v-fb729c7a"]]), _hoisted_1$d = ["d", "stroke-width"], _hoisted_2$a = ["d", "stroke-width"], _hoisted_3$9 = ["id", "d", "stroke", "stroke-width", "stroke-dasharray"], _hoisted_4$5 = ["from", "to", "dur", "repeatCount"], _hoisted_5$3 = ["d", "stroke", "stroke-width", "stroke-dasharray"], _hoisted_6$1 = ["from", "to", "dur", "repeatCount"], _hoisted_7$1 = ["r", "fill"], _hoisted_8$1 = ["path", "dur", "repeatCount"], _hoisted_9$1 = ["cx", "cy", "r", "stroke-width"], _hoisted_10$1 = ["cx", "cy", "r", "stroke", "onMousedown"], _sfc_main$y = /* @__PURE__ */ defineComponent({
  __name: "connection-line",
  props: {
    itemInfo: {},
    pointVisible: { type: Boolean, default: !1 }
  },
  setup(r) {
    const n = r, i = useGlobalStore(pinia), o = useConfigStore(pinia), a = useSvgEditLayoutStore(pinia), u = (c, f, d, p) => {
      if (i.intention === EGlobalStoreIntention.Connection)
        return;
      i.setHandleSvgInfo(n.itemInfo);
      const { clientX: y, clientY: v } = f;
      f.stopPropagation(), i.connection_line_node_info = {
        init_pos: {
          x: d,
          y: p
        },
        point_index: c
      }, i.intention = EGlobalStoreIntention.SetConnectionLineNode, i.mouse_info = {
        state: EMouseInfoState.Down,
        position_x: Math.round((y - a.canvasInfo.left) / o.svg.scale),
        position_y: Math.round((v - a.canvasInfo.top) / o.svg.scale),
        now_position_x: 0,
        now_position_y: 0,
        new_position_x: 0,
        new_position_y: 0
      };
    };
    return (c, f) => {
      var d, p, y, v, g, _;
      return openBlock(), createElementBlock("g", {
        style: normalizeStyle$1({ cursor: unref(i).intention === unref(EGlobalStoreIntention).Connection ? "crosshair" : "move" })
      }, [
        withDirectives(createElementVNode("path", {
          d: unref(positionArrToPath)(n.itemInfo.props.point_position.val),
          fill: "none",
          "fill-opacity": "0",
          stroke: "#DE4517",
          "stroke-width": Math.ceil(n.itemInfo.props["stroke-width"].val * 1.2) + 1,
          "stroke-linecap": "round",
          "stroke-linejoin": "round"
        }, null, 8, _hoisted_1$d), [
          [vShow, n.itemInfo.selected || n.itemInfo.id === ((d = unref(i).handle_svg_info) == null ? void 0 : d.info.id)]
        ]),
        createElementVNode("path", {
          d: unref(positionArrToPath)(n.itemInfo.props.point_position.val),
          fill: "none",
          "fill-opacity": "0",
          stroke: "#fff",
          "stroke-opacity": ".01",
          "stroke-width": n.itemInfo.props["stroke-width"].val,
          "stroke-linecap": "round",
          "stroke-linejoin": "round"
        }, null, 8, _hoisted_2$a),
        createElementVNode("path", {
          id: n.itemInfo.id,
          d: unref(positionArrToPath)(n.itemInfo.props.point_position.val),
          fill: "none",
          stroke: ((p = n.itemInfo.animations) == null ? void 0 : p.type.val) === unref(EConfigAnimationsType).Electricity ? n.itemInfo.animations.color.val : n.itemInfo.props.stroke.val,
          "stroke-width": n.itemInfo.props["stroke-width"].val,
          "stroke-dashoffset": "0",
          "stroke-dasharray": ((y = n.itemInfo.animations) == null ? void 0 : y.type.val) === unref(EConfigAnimationsType).Electricity ? n.itemInfo.props["stroke-width"].val * 3 : 0,
          "stroke-linejoin": "round"
        }, [
          ((v = n.itemInfo.animations) == null ? void 0 : v.type.val) === unref(EConfigAnimationsType).Electricity ? (openBlock(), createElementBlock("animate", {
            key: 0,
            attributeName: "stroke-dashoffset",
            from: n.itemInfo.animations.reverse.val ? 0 : 1e3,
            to: n.itemInfo.animations.reverse.val ? 1e3 : 0,
            dur: `${n.itemInfo.animations.dur.val}s`,
            repeatCount: n.itemInfo.animations.repeatCount.val
          }, null, 8, _hoisted_4$5)) : createCommentVNode("", !0)
        ], 8, _hoisted_3$9),
        ((g = n.itemInfo.animations) == null ? void 0 : g.type.val) === unref(EConfigAnimationsType).WaterDrop ? (openBlock(), createElementBlock("path", {
          key: 0,
          d: unref(positionArrToPath)(n.itemInfo.props.point_position.val),
          fill: "none",
          "fill-opacity": "0",
          stroke: n.itemInfo.animations.color.val,
          "stroke-width": n.itemInfo.props["stroke-width"].val,
          "stroke-dasharray": n.itemInfo.props["stroke-width"].val * 3,
          "stroke-dashoffset": "0",
          "stroke-linecap": "round",
          "stroke-linejoin": "round"
        }, [
          createElementVNode("animate", {
            attributeName: "stroke-dashoffset",
            from: n.itemInfo.animations.reverse.val ? 0 : 1e3,
            to: n.itemInfo.animations.reverse.val ? 1e3 : 0,
            dur: `${n.itemInfo.animations.dur.val}s`,
            repeatCount: n.itemInfo.animations.repeatCount.val,
            fill: "freeze"
          }, null, 8, _hoisted_6$1)
        ], 8, _hoisted_5$3)) : ((_ = n.itemInfo.animations) == null ? void 0 : _.type.val) === unref(EConfigAnimationsType).Track ? (openBlock(), createElementBlock("circle", {
          key: 1,
          cx: "0",
          cy: "0",
          r: Math.ceil(n.itemInfo.props["stroke-width"].val * 0.6) + 2,
          fill: n.itemInfo.animations.color.val
        }, [
          createElementVNode("animateMotion", {
            path: unref(positionArrToPath)(
              n.itemInfo.animations.reverse.val ? [...n.itemInfo.props.point_position.val].reverse() : n.itemInfo.props.point_position.val
            ),
            dur: `${n.itemInfo.animations.dur.val}s`,
            repeatCount: n.itemInfo.animations.repeatCount.val
          }, null, 8, _hoisted_8$1)
        ], 8, _hoisted_7$1)) : createCommentVNode("", !0),
        createElementVNode("g", null, [
          (openBlock(!0), createElementBlock(Fragment, null, renderList(n.itemInfo.props.point_position.val, (b, A) => {
            var w;
            return withDirectives((openBlock(), createElementBlock("circle", {
              key: A,
              cx: b.x,
              cy: b.y,
              r: n.itemInfo.props.point_r.val + 1,
              fill: "none",
              "fill-opacity": "0",
              "stroke-width": Math.ceil(n.itemInfo.props.point_r.val * 0.2) + 1,
              stroke: "#DE4517"
            }, null, 8, _hoisted_9$1)), [
              [vShow, n.itemInfo.selected || n.itemInfo.id === ((w = unref(i).handle_svg_info) == null ? void 0 : w.info.id)]
            ]);
          }), 128)),
          (openBlock(!0), createElementBlock(Fragment, null, renderList(n.itemInfo.props.point_position.val, (b, A) => (openBlock(), createElementBlock("circle", {
            key: A,
            cx: b.x,
            cy: b.y,
            r: n.itemInfo.props.point_r.val,
            "stroke-width": "1",
            stroke: n.itemInfo.props.stroke.val,
            fill: "#fff",
            style: { cursor: "pointer" },
            onMousedown: (w) => u(A, w, b.x, b.y)
          }, null, 40, _hoisted_10$1))), 128))
        ])
      ], 4);
    };
  }
}), _hoisted_1$c = {
  id: "pattern_grid",
  patternUnits: "userSpaceOnUse",
  x: "0",
  y: "0",
  width: "20",
  height: "20"
}, _hoisted_2$9 = ["stroke"], _hoisted_3$8 = ["stroke"], _hoisted_4$4 = ["stroke"], _hoisted_5$2 = ["stroke"], _hoisted_6 = {
  key: 0,
  width: "100%",
  height: "100%",
  fill: "url(#pattern_grid)"
}, _hoisted_7 = ["transform"], _hoisted_8 = ["transform"], _hoisted_9 = ["transform", "onMousedown", "onMouseup", "onMouseenter", "onMouseleave", "onContextmenu"], _hoisted_10 = ["xlink:href", "width", "height", "id", "transform"], _hoisted_11 = ["id"], _hoisted_12$1 = ["id", "x1", "y1", "x2", "y2"], _hoisted_13 = ["id"], _hoisted_14 = ["x", "y", "height", "width"], _hoisted_15 = ["onClick"], _hoisted_16$1 = { class: "shortcut" }, _sfc_main$x = /* @__PURE__ */ defineComponent({
  __name: "center-panel",
  props: {
    vueComp: {}
  },
  setup(r, { expose: n }) {
    const i = r;
    useCssVars((Ie) => ({
      "6831c8e2": unref(v)
    }));
    const o = useGlobalStore(pinia), a = useConfigStore(pinia), u = useSvgEditLayoutStore(pinia), c = useEditPrivateStore(pinia), f = useContextMenuStore(pinia);
    componentsRegister(i.vueComp);
    const d = ref(), p = ref(), y = {
      MoveCanvas: "grab",
      Rotate: "url('/src/assets/icons/rotate.svg'), auto",
      Connection: "crosshair",
      SetConnectionLineNode: "crosshair"
    }, v = computed(() => Object.keys(y).indexOf(o.intention) > -1 ? y[o.intention] : "default"), g = reactive({
      handle_panel: computed(
        () => o.intention === EGlobalStoreIntention.Select || o.intention === EGlobalStoreIntention.Zoom || o.intention === EGlobalStoreIntention.Rotate
      ),
      connection_panel: !1,
      connection_line: !1,
      select_item: {
        info: null,
        index: -1
      }
    }), _ = ref({
      a: {
        x: 0,
        y: 0
      },
      b: {
        x: 0,
        y: 0
      }
    }), b = computed(() => o.intention === EGlobalStoreIntention.SelectArea && _.value.b.x && _.value.b.y ? {
      with: Math.abs(_.value.b.x - _.value.a.x),
      height: Math.abs(_.value.b.y - _.value.a.y),
      x: _.value.a.x < _.value.b.x ? _.value.a.x : _.value.b.x,
      y: _.value.a.y < _.value.b.y ? _.value.a.y : _.value.b.y
    } : {
      with: 0,
      height: 0,
      x: 0,
      y: 0
    }), A = computed(() => {
      let Ie = 0;
      for (let Pt of o.done_json)
        Pt.selected && Ie++;
      return Ie > 0;
    });
    let w = !1, S = !1;
    const x = (Ie) => {
      var Pt;
      if (o.intention != EGlobalStoreIntention.None) {
        if (o.intention == EGlobalStoreIntention.Create) {
          if (!o.create_svg_info) {
            console.error("要创建的数据获取失败");
            return;
          }
          const xe = Math.floor(Ie.offsetX / a.svg.scale - u.center_offset.x), Lt = Math.floor(Ie.offsetY / a.svg.scale - u.center_offset.y), _n = {
            id: randomString(),
            x: xe,
            y: Lt,
            client: {
              x: xe,
              y: Lt
            },
            scale_x: 1,
            scale_y: 1,
            rotate: 0,
            actual_bound: {
              x: 0,
              y: 0,
              width: 0,
              height: 0
            },
            center_position: {
              x: 0,
              y: 0
            },
            point_coordinate: {
              tl: {
                x: 0,
                y: 0
              },
              tc: {
                x: 0,
                y: 0
              },
              tr: {
                x: 0,
                y: 0
              },
              l: {
                x: 0,
                y: 0
              },
              r: {
                x: 0,
                y: 0
              },
              bl: {
                x: 0,
                y: 0
              },
              bc: {
                x: 0,
                y: 0
              },
              br: {
                x: 0,
                y: 0
              }
            },
            selected: !1,
            ...objectDeepClone(o.create_svg_info)
          };
          o.setDoneJson(_n), o.setHandleSvgInfo(_n, o.done_json.length), o.intention = EGlobalStoreIntention.None;
        }
        (Pt = p.value) == null || Pt.focus();
      }
    }, T = (Ie) => {
      Ie.preventDefault();
    }, L = (Ie) => {
      Ie.preventDefault();
    }, k = (Ie, Pt, xe) => {
      var Lt, _n, In;
      if ((Lt = p.value) == null || Lt.focus(), o.intention === EGlobalStoreIntention.Connection) {
        xe.stopPropagation();
        return;
      }
      if (xe.preventDefault(), xe.stopPropagation(), xe.ctrlKey && xe.button === 0)
        ((_n = o.handle_svg_info) != null && _n.index || ((In = o.handle_svg_info) == null ? void 0 : In.index) === 0) && (o.done_json[o.handle_svg_info.index].selected = !0, o.setHandleSvgInfo(null), o.intention = EGlobalStoreIntention.None), Ie.selected = !Ie.selected;
      else if (A.value) {
        o.intention = EGlobalStoreIntention.GroupMove, o.mouse_info = {
          state: EMouseInfoState.Down,
          position_x: Math.round((xe.clientX - u.canvasInfo.left) / a.svg.scale),
          position_y: Math.round((xe.clientY - u.canvasInfo.top) / a.svg.scale),
          now_position_x: 0,
          now_position_y: 0,
          new_position_x: 0,
          new_position_y: 0
        };
        for (let jt of o.done_json)
          jt.selected && (jt.old_position = {
            x: jt.x,
            y: jt.y
          }, jt.point_coordinate_old = objectDeepClone(jt.point_coordinate));
      } else
        o.intention = EGlobalStoreIntention.Select, o.setHandleSvgInfo(Ie, Pt), o.mouse_info = {
          state: EMouseInfoState.Down,
          position_x: Math.round((xe.clientX - u.canvasInfo.left) / a.svg.scale),
          position_y: Math.round((xe.clientY - u.canvasInfo.top) / a.svg.scale),
          now_position_x: Ie.x,
          now_position_y: Ie.y,
          new_position_x: 0,
          new_position_y: 0
        }, Ie.point_coordinate_old = objectDeepClone(Ie.point_coordinate);
    }, M = (Ie, Pt, xe) => {
      if (!(o.intention === EGlobalStoreIntention.Connection || o.mouse_info.state != EMouseInfoState.Down) && A.value && !w && ["SelectArea", "Move", "Select"].indexOf(o.intention) < 0) {
        for (let Lt of o.done_json)
          Lt.selected = !1, Lt.old_position = {
            x: 0,
            y: 0
          }, resetHandlePointOld(Lt);
        o.intention = EGlobalStoreIntention.Select, o.setHandleSvgInfo(Ie, Pt), o.mouse_info = {
          state: EMouseInfoState.Down,
          position_x: Math.round((xe.clientX - u.canvasInfo.left) / a.svg.scale),
          position_y: Math.round((xe.clientY - u.canvasInfo.top) / a.svg.scale),
          now_position_x: Ie.x,
          now_position_y: Ie.y,
          new_position_x: 0,
          new_position_y: 0
        };
      }
    }, O = (Ie, Pt, xe) => {
      xe.preventDefault(), xe.stopPropagation(), g.connection_panel = !0, g.connection_line = !0, !((o.intention === EGlobalStoreIntention.Connection || o.intention === EGlobalStoreIntention.SetConnectionLineNode) && Ie.type === EDoneJsonType.ConnectionLine) && (g.select_item.info = Ie, g.select_item.index = Pt);
    }, ie = (Ie, Pt, xe) => {
      xe.preventDefault(), xe.stopPropagation(), !((o.intention === EGlobalStoreIntention.Connection || o.intention === EGlobalStoreIntention.SetConnectionLineNode) && Ie.type === EDoneJsonType.ConnectionLine) && (g.connection_panel = !1, g.connection_line = !1, g.select_item.info = null, g.select_item.index = -1);
    }, F = (Ie) => {
      var In, jt, he, At, kt, Cn, ze, _e, de, Et, Oe, Ve, Dt, hn, bn, oe;
      if (o.mouse_info.state != EMouseInfoState.Down && o.intention !== EGlobalStoreIntention.Connection)
        return;
      const { clientX: Pt, clientY: xe } = Ie;
      o.mouse_info.new_position_x = Math.round(
        (Pt - u.canvasInfo.left) / a.svg.scale
      ), o.mouse_info.new_position_y = Math.round(
        (xe - u.canvasInfo.top) / a.svg.scale
      );
      const Lt = Math.round(
        o.mouse_info.new_position_x - o.mouse_info.position_x + o.mouse_info.now_position_x
      ), _n = Math.round(
        o.mouse_info.new_position_y - o.mouse_info.position_y + o.mouse_info.now_position_y
      );
      if ((In = o.handle_svg_info) != null && In.info && (o.intention === EGlobalStoreIntention.Select || o.intention === EGlobalStoreIntention.Move)) {
        if (o.handle_svg_info.info.x = Lt, o.handle_svg_info.info.y = _n, o.handle_svg_info.info.client = {
          x: Lt,
          y: _n
        }, o.intention = EGlobalStoreIntention.Move, moveHandlePoint(o.handle_svg_info.info), moveAnchors(o.handle_svg_info.info), o.handle_svg_info.info.type === EDoneJsonType.ConnectionLine) {
          if ((jt = o.handle_svg_info.info.bind_anchors) != null && jt.start) {
            let le = null;
            for (let j of o.done_json)
              j.id === ((At = (he = o.handle_svg_info.info.bind_anchors) == null ? void 0 : he.start) == null ? void 0 : At.target_id) && (le = j);
            le && moveAnchors(le);
          }
          if ((kt = o.handle_svg_info.info.bind_anchors) != null && kt.end) {
            let le = null;
            for (let j of o.done_json)
              j.id === ((ze = (Cn = o.handle_svg_info.info.bind_anchors) == null ? void 0 : Cn.end) == null ? void 0 : ze.target_id) && (le = j);
            le && moveAnchors(le);
          }
        }
      } else if (o.intention === EGlobalStoreIntention.MoveCanvas)
        u.center_offset.x = Lt, u.center_offset.y = _n;
      else if (o.intention === EGlobalStoreIntention.SelectArea)
        _.value.b.x = o.mouse_info.new_position_x - u.center_offset.x, _.value.b.y = o.mouse_info.new_position_y - u.center_offset.y;
      else if (o.intention === EGlobalStoreIntention.GroupMove) {
        w = !0;
        for (let le of o.done_json)
          if (le.selected && le.old_position) {
            const j = Math.round(
              o.mouse_info.new_position_x - o.mouse_info.position_x + le.old_position.x
            ), V = Math.round(
              o.mouse_info.new_position_y - o.mouse_info.position_y + le.old_position.y
            );
            if (le.x = j, le.y = V, le.client = {
              x: j,
              y: V
            }, moveHandlePoint(le), moveAnchors(le), le.type === EDoneJsonType.ConnectionLine && ((_e = le.bind_anchors) != null && _e.end)) {
              let $ = null;
              for (let ae of o.done_json)
                ae.id === ((Et = (de = le.bind_anchors) == null ? void 0 : de.end) == null ? void 0 : Et.target_id) && ($ = ae);
              $ && moveAnchors($);
            }
          }
      } else if (o.intention === EGlobalStoreIntention.Zoom) {
        if (!o.handle_svg_info)
          return;
        const le = {
          x: o.mouse_info.new_position_x - u.center_offset.x,
          y: o.mouse_info.new_position_y - u.center_offset.y
        };
        let j = {
          width: 0,
          height: 0,
          is_old_width: !1,
          is_old_height: !1
        };
        if (o.scale_info.type === EScaleInfoType.TopLeft ? j = calculateLeftTop(
          le,
          o.scale_info.symmetric_point,
          o.handle_svg_info.info.rotate
        ) : o.scale_info.type === EScaleInfoType.TopRight ? j = calculateRightTop(
          le,
          o.scale_info.symmetric_point,
          o.handle_svg_info.info.rotate
        ) : o.scale_info.type === EScaleInfoType.BottomRight ? j = calculateRightBottom(
          le,
          o.scale_info.symmetric_point,
          o.handle_svg_info.info.rotate
        ) : o.scale_info.type === EScaleInfoType.BottomLeft ? j = calculateLeftBottom(
          le,
          o.scale_info.symmetric_point,
          o.handle_svg_info.info.rotate
        ) : o.scale_info.type === EScaleInfoType.TopCenter ? j = calculateTop(
          le,
          o.scale_info.symmetric_point,
          o.handle_svg_info.info.rotate,
          o.handle_svg_info.info.client
        ) : o.scale_info.type === EScaleInfoType.Right ? j = calculateRight(
          le,
          o.scale_info.symmetric_point,
          o.handle_svg_info.info.rotate,
          o.handle_svg_info.info.client
        ) : o.scale_info.type === EScaleInfoType.BottomCenter ? j = calculateBottom(
          le,
          o.scale_info.symmetric_point,
          o.handle_svg_info.info.rotate,
          o.handle_svg_info.info.client
        ) : o.scale_info.type === EScaleInfoType.Left && (j = calculateLeft(
          le,
          o.scale_info.symmetric_point,
          o.handle_svg_info.info.rotate,
          o.handle_svg_info.info.client
        )), o.handle_svg_info && j.width > 0 && j.height > 0) {
          const V = j.is_old_width ? 1 : parseFloat((j.width / o.handle_svg_info.info.actual_bound.width).toFixed(3)), $ = j.is_old_height ? 1 : parseFloat((j.height / o.handle_svg_info.info.actual_bound.height).toFixed(3)), ae = getCenterPoint(le, o.scale_info.symmetric_point);
          V > 0 && o.scale_info.type !== EScaleInfoType.TopCenter && o.scale_info.type !== EScaleInfoType.BottomCenter && (o.handle_svg_info.info.scale_x = V, o.handle_svg_info.info.x = Math.round(
            getSvgNowPosition(
              o.handle_svg_info.info.center_position.x,
              ae.x,
              o.handle_svg_info.info.client.x
            )
          )), $ > 0 && o.scale_info.type !== EScaleInfoType.Left && o.scale_info.type !== EScaleInfoType.Right && (o.handle_svg_info.info.scale_y = $, o.handle_svg_info.info.y = Math.round(
            getSvgNowPosition(
              o.handle_svg_info.info.center_position.y,
              ae.y,
              o.handle_svg_info.info.client.y
            )
          ));
        }
      } else if (o.intention === EGlobalStoreIntention.Rotate) {
        if (!o.handle_svg_info)
          return;
        const le = Math.atan2(
          o.mouse_info.position_y - o.handle_svg_info.info.y,
          o.mouse_info.position_x - o.handle_svg_info.info.x
        ) / (Math.PI / 180), j = Math.atan2(
          o.mouse_info.new_position_y - u.center_offset.y - o.handle_svg_info.info.y,
          o.mouse_info.new_position_x - u.center_offset.x - o.handle_svg_info.info.x
        ) / (Math.PI / 180);
        o.handle_svg_info.info.rotate = parseFloat(
          (o.rotate_info.angle + j - le).toFixed(2)
        );
      } else if (o.intention === EGlobalStoreIntention.Connection && o.handle_svg_info) {
        const le = (Oe = o.handle_svg_info) == null ? void 0 : Oe.info.props.point_position.val.length, j = o.mouse_info.new_position_x - o.mouse_info.position_x - u.center_offset.x, V = o.mouse_info.new_position_y - o.mouse_info.position_y - u.center_offset.y, $ = o.handle_svg_info.info.props.point_position.val[le - 2], ae = ((Dt = (Ve = o.handle_svg_info) == null ? void 0 : Ve.info.props.point_r) == null ? void 0 : Dt.val) + 2 || 4;
        let Ne = $.x < j ? -ae : $.x > j ? ae : 0, Ue = $.y < V ? -ae : $.y > V ? ae : 0;
        Ie.ctrlKey ? o.handle_svg_info.info.props.point_position.val[le - 1] = {
          x: $.x,
          y: V + Ue
        } : Ie.shiftKey ? o.handle_svg_info.info.props.point_position.val[le - 1] = {
          x: j + Ne,
          y: $.y
        } : o.handle_svg_info.info.props.point_position.val[le - 1] = {
          x: j + Ne,
          y: V + Ue
        };
      } else if (o.intention === EGlobalStoreIntention.SetConnectionLineNode && o.handle_svg_info) {
        !S && (o.connection_line_node_info.point_index === o.handle_svg_info.info.props.point_position.val.length - 1 || o.connection_line_node_info.point_index === 0) && (S = !0);
        const le = (hn = o.handle_svg_info) == null ? void 0 : hn.info.props.point_position.val.length, j = getSvgNowPosition(
          o.mouse_info.position_x,
          o.mouse_info.new_position_x,
          o.connection_line_node_info.init_pos.x
        ), V = getSvgNowPosition(
          o.mouse_info.position_y,
          o.mouse_info.new_position_y,
          o.connection_line_node_info.init_pos.y
        ), $ = o.handle_svg_info.info.props.point_position.val[le - 2], ae = ((oe = (bn = o.handle_svg_info) == null ? void 0 : bn.info.props.point_r) == null ? void 0 : oe.val) + 2 || 4;
        let Ne = $.x < j ? -ae : $.x > j ? ae : 0, Ue = $.y < V ? -ae : $.y > V ? ae : 0;
        o.handle_svg_info.info.props.point_position.val[o.connection_line_node_info.point_index] = {
          x: j + Ne,
          y: V + Ue
        };
      }
    }, re = () => {
      var Ie, Pt, xe, Lt;
      if (o.mouse_info.state == EMouseInfoState.Down) {
        if ((Ie = o.handle_svg_info) != null && Ie.info && o.intention == EGlobalStoreIntention.Move)
          setSvgActualInfo(o.done_json[o.handle_svg_info.index]), o.intention = EGlobalStoreIntention.None, o.setDoneJson(o.done_json);
        else if (o.intention == EGlobalStoreIntention.GroupMove)
          w && (w = !1, o.intention = EGlobalStoreIntention.None);
        else if ((Pt = o.handle_svg_info) != null && Pt.info && o.intention == EGlobalStoreIntention.Zoom)
          o.handle_svg_info.info.client = {
            x: o.handle_svg_info.info.x,
            y: o.handle_svg_info.info.y
          }, o.intention = EGlobalStoreIntention.None, setSvgActualInfo(o.done_json[o.handle_svg_info.index]), o.setDoneJson(o.done_json);
        else if (o.intention === EGlobalStoreIntention.Rotate && ((xe = o.handle_svg_info) != null && xe.info))
          setSvgActualInfo(o.done_json[o.handle_svg_info.index]), o.setDoneJson(o.done_json), o.intention = EGlobalStoreIntention.None;
        else {
          if (o.intention === EGlobalStoreIntention.Connection)
            return;
          if (o.intention === EGlobalStoreIntention.SetConnectionLineNode)
            S && ((Lt = o.handle_svg_info) != null && Lt.info.bind_anchors) && (o.connection_line_node_info.point_index === 0 ? o.handle_svg_info.info.bind_anchors.start = null : o.handle_svg_info.info.bind_anchors.end = null), o.intention = EGlobalStoreIntention.None, S = !1;
          else if (o.intention === EGlobalStoreIntention.SelectArea) {
            o.setHandleSvgInfo(null);
            for (let _n of o.done_json) {
              const In = b.value;
              _n.selected = _n.x > In.x && _n.x < In.x + In.with && _n.y > In.y && _n.y < In.y + In.height;
            }
            o.intention = EGlobalStoreIntention.None;
          } else
            o.intention != EGlobalStoreIntention.Select && (o.intention = EGlobalStoreIntention.None);
        }
        o.mouse_info = {
          state: EMouseInfoState.Up,
          position_x: 0,
          position_y: 0,
          now_position_x: 0,
          now_position_y: 0,
          new_position_x: 0,
          new_position_y: 0
        }, f.display = !1;
      }
    }, D = (Ie) => {
      const { clientX: Pt, clientY: xe } = Ie;
      if (o.intention === EGlobalStoreIntention.Connection) {
        o.handle_svg_info || createLine(Ie), o.handle_svg_info && (Ie.button === 0 ? o.handle_svg_info.info.props.point_position.val.length !== 1 ? o.handle_svg_info.info.props.point_position.val.push({
          x: o.mouse_info.new_position_x - o.mouse_info.position_x - u.center_offset.x,
          y: o.mouse_info.new_position_y - o.mouse_info.position_y - u.center_offset.y
        }) : o.handle_svg_info.info.props.point_position.val.push({
          x: 0,
          y: 0
        }) : Ie.button === 2 && (o.intention = EGlobalStoreIntention.None, setSvgActualInfo(o.done_json[o.handle_svg_info.index]), o.setHandleSvgInfo(null)));
        return;
      }
      Ie.button === 0 ? (o.intention = EGlobalStoreIntention.SelectArea, o.mouse_info = {
        state: EMouseInfoState.Down,
        position_x: Math.round(
          (Pt - u.canvasInfo.left) / a.svg.scale - u.center_offset.x
        ),
        position_y: Math.round(
          (xe - u.canvasInfo.top) / a.svg.scale - u.center_offset.y
        ),
        now_position_x: 0,
        now_position_y: 0,
        new_position_x: 0,
        new_position_y: 0
      }, _.value = {
        a: {
          x: o.mouse_info.position_x,
          y: o.mouse_info.position_y
        },
        b: {
          x: 0,
          y: 0
        }
      }) : Ie.button === 2 && (o.intention = EGlobalStoreIntention.MoveCanvas, o.mouse_info = {
        state: EMouseInfoState.Down,
        position_x: Math.round((Pt - u.canvasInfo.left) / a.svg.scale),
        position_y: Math.round((xe - u.canvasInfo.top) / a.svg.scale),
        now_position_x: u.center_offset.x,
        now_position_y: u.center_offset.y,
        new_position_x: 0,
        new_position_y: 0
      });
    };
    function Y(Ie) {
      Ie != null && Ie.wheelDelta && (Ie.wheelDelta > 0 ? a.svg.scale = parseFloat((a.svg.scale + 0.1).toFixed(1)) : a.svg.scale = parseFloat((a.svg.scale - 0.1).toFixed(1)));
    }
    const z = (Ie) => {
      Ie.stopPropagation(), Ie.preventDefault();
    }, pe = (Ie, Pt, xe) => {
      o.intention !== EGlobalStoreIntention.Connection && d.value && (o.intention = EGlobalStoreIntention.ContextMenu, o.setHandleSvgInfo(Ie, Pt), d.value.style.left = xe.pageX + "px", d.value.style.top = xe.pageY + "px", f.info.MoveUpOneLevel.enable = f.info.MoveUpTopLevel.enable = f.info.MoveDownOneLevel.enable = f.info.MoveDownTopLevel.enable = !0, Pt === o.done_json.length - 1 && (f.info.MoveUpOneLevel.enable = f.info.MoveUpTopLevel.enable = !1), Pt === 0 && (f.info.MoveDownOneLevel.enable = f.info.MoveDownTopLevel.enable = !1), f.display = !0);
    }, ue = (Ie, Pt, xe) => ({
      x: parseFloat((Ie.x - Ie.width / 2 * Pt + Ie.width / 2).toFixed(1)),
      y: parseFloat((Ie.y - Ie.height / 2 * xe + Ie.height / 2).toFixed(1)),
      width: parseFloat((Ie.width * Pt).toFixed(1)),
      height: parseFloat((Ie.height * xe).toFixed(1))
    }), Ce = (Ie) => {
      Ie.preventDefault();
      let Pt = [];
      if (!Ie.ctrlKey && ["ArrowUp", "ArrowDown", "ArrowLeft", "ArrowRight"].indexOf(Ie.key) > -1 && (A.value ? Pt = o.done_json.map((xe, Lt) => ({
        selected: xe.selected,
        i: Lt
      })).filter((xe) => xe.selected).map((xe) => xe.i) : o.handle_svg_info && Pt.push(o.handle_svg_info.index)), !Ie.ctrlKey && Ie.key == "ArrowUp") {
        for (let xe of Pt)
          o.done_json[xe].y -= 1, o.done_json[xe].client.y -= 1, moveHandlePoint(o.done_json[xe], 0, -1), moveAnchors(o.done_json[xe]);
        useHistoryRecord(o.done_json);
      } else if (!Ie.ctrlKey && Ie.key == "ArrowDown") {
        for (let xe of Pt)
          o.done_json[xe].y += 1, o.done_json[xe].client.y += 1, moveHandlePoint(o.done_json[xe], 0, 1), moveAnchors(o.done_json[xe]);
        useHistoryRecord(o.done_json);
      } else if (!Ie.ctrlKey && Ie.key == "ArrowLeft") {
        for (let xe of Pt)
          o.done_json[xe].x -= 1, o.done_json[xe].client.x -= 1, moveHandlePoint(o.done_json[xe], -1, 0), moveAnchors(o.done_json[xe]);
        useHistoryRecord(o.done_json);
      } else if (!Ie.ctrlKey && Ie.key == "ArrowRight") {
        for (let xe of Pt)
          o.done_json[xe].x += 1, o.done_json[xe].client.x += 1, moveHandlePoint(o.done_json[xe], 1, 0), moveAnchors(o.done_json[xe]);
        useHistoryRecord(o.done_json);
      } else
        Ie.ctrlKey && Ie.key.toLowerCase() == "c" ? f.onContextMenuClick(EContextMenuInfoType.Copy) : !Ie.ctrlKey && Ie.key == "Delete" ? A.value ? (o.setDoneJson(o.done_json.filter((xe) => !xe.selected)), o.setHandleSvgInfo(
          o.done_json[o.done_json.length - 1],
          o.done_json.length - 1
        )) : f.onContextMenuClick(EContextMenuInfoType.Delete) : Ie.ctrlKey && Ie.key == "ArrowUp" ? f.onContextMenuClick(EContextMenuInfoType.MoveUpOneLevel) : Ie.ctrlKey && Ie.key == "ArrowDown" ? f.onContextMenuClick(EContextMenuInfoType.MoveDownOneLevel) : Ie.ctrlKey && Ie.key == "ArrowLeft" ? f.onContextMenuClick(EContextMenuInfoType.MoveDownTopLevel) : Ie.ctrlKey && Ie.key == "ArrowRight" ? f.onContextMenuClick(EContextMenuInfoType.MoveUpTopLevel) : Ie.ctrlKey && Ie.shiftKey && Ie.key.toLowerCase() == "z" ? c.topRedoBtnClick() : Ie.ctrlKey && Ie.key.toLowerCase() == "z" ? c.topUndoBtnClick() : Ie.ctrlKey && Ie.key.toLowerCase() == "delete" && (o.done_json.length <= 0 || o.setDoneJson([]));
    }, Fe = () => {
      setSvgActualInfo(o.done_json[o.handle_svg_info.index], !0);
    };
    return onMounted(() => {
      var Ie;
      (Ie = p.value) == null || Ie.focus(), nextTick(function() {
        var xe;
        const Pt = (xe = p.value) == null ? void 0 : xe.getBoundingClientRect();
        u.canvasInfo = {
          height: (Pt == null ? void 0 : Pt.height) || 0,
          with: (Pt == null ? void 0 : Pt.width) || 0,
          top: (Pt == null ? void 0 : Pt.top) || 0,
          left: (Pt == null ? void 0 : Pt.left) || 0
        };
      });
    }), n({ onCanvasMouseUp: re }), (Ie, Pt) => (openBlock(), createElementBlock(Fragment, null, [
      createElementVNode("div", {
        class: "canvas",
        tabindex: "0",
        ref_key: "canvasRef",
        ref: p,
        onDrop: x,
        onDragenter: T,
        onDragover: L,
        onMousedown: D,
        onMousemove: F,
        onMouseup: re,
        onContextmenu: z,
        onKeydown: Ce,
        onMousewheel: Y
      }, [
        (openBlock(), createElementBlock("svg", {
          xmlns: "http://www.w3.org/2000/svg",
          style: normalizeStyle$1({ backgroundColor: unref(a).svg.background_color }),
          width: "100%",
          height: "100%"
        }, [
          createElementVNode("defs", null, [
            createElementVNode("pattern", _hoisted_1$c, [
              createElementVNode("line", {
                x1: "0",
                y1: "0",
                x2: "0",
                y2: "20",
                stroke: unref(a).svg.grid_color
              }, null, 8, _hoisted_2$9),
              createElementVNode("line", {
                x1: "10",
                y1: "0",
                x2: "10",
                y2: "20",
                stroke: unref(a).svg.grid_color
              }, null, 8, _hoisted_3$8),
              createElementVNode("line", {
                x1: "0",
                y1: "0",
                x2: "20",
                y2: "0",
                stroke: unref(a).svg.grid_color
              }, null, 8, _hoisted_4$4),
              createElementVNode("line", {
                x1: "0",
                y1: "10",
                x2: "20",
                y2: "10",
                stroke: unref(a).svg.grid_color
              }, null, 8, _hoisted_5$2)
            ])
          ]),
          unref(a).svg.grid ? (openBlock(), createElementBlock("rect", _hoisted_6)) : createCommentVNode("", !0),
          createElementVNode("g", {
            transform: `translate(${unref(u).center_offset.x * unref(a).svg.scale},${unref(u).center_offset.y * unref(a).svg.scale})rotate(0)scale(${unref(a).svg.scale})`
          }, [
            (openBlock(!0), createElementBlock(Fragment, null, renderList(unref(o).done_json, (xe, Lt) => {
              var _n, In, jt, he, At, kt, Cn, ze, _e, de, Et, Oe, Ve, Dt;
              return withDirectives((openBlock(), createElementBlock("g", {
                key: xe.id,
                transform: `translate(${xe.x},${xe.y})rotate(0)scale(1)`,
                onMousewheel: Pt[0] || (Pt[0] = //@ts-ignore
                (...hn) => unref(stopEvent) && unref(stopEvent)(...hn))
              }, [
                createElementVNode("g", {
                  class: normalizeClass(`${unref(getCommonClass)(xe)}`)
                }, [
                  createElementVNode("g", {
                    transform: `translate(${xe.actual_bound.x + xe.actual_bound.width / 2},${xe.actual_bound.y + xe.actual_bound.height / 2})rotate(${xe.rotate}) scale(1) translate(${-(xe.actual_bound.x + xe.actual_bound.width / 2)},${-(xe.actual_bound.y + xe.actual_bound.height / 2)})`,
                    onMousedown: (hn) => k(xe, Lt, hn),
                    onMouseup: (hn) => M(xe, Lt, hn),
                    onMouseenter: (hn) => O(xe, Lt, hn),
                    onMouseleave: (hn) => ie(xe, Lt, hn),
                    onContextmenu: (hn) => pe(xe, Lt, hn)
                  }, [
                    xe.type === unref(EDoneJsonType).ConnectionLine ? (openBlock(), createBlock(_sfc_main$y, {
                      key: 0,
                      "item-info": xe,
                      "point-visible": unref(g).connection_line && ((_n = unref(g).select_item.info) == null ? void 0 : _n.id) == xe.id
                    }, null, 8, ["item-info", "point-visible"])) : xe.type === unref(EDoneJsonType).File ? (openBlock(), createElementBlock("use", mergeProps({
                      key: 1,
                      "xlink:href": `#svg-${xe.name}`
                    }, unref(prosToVBind)(xe, ["height", "width"]), {
                      width: ((jt = (In = xe.props) == null ? void 0 : In.width) == null ? void 0 : jt.val) ?? 100,
                      height: ((At = (he = xe.props) == null ? void 0 : he.height) == null ? void 0 : At.val) ?? 100,
                      id: xe.id,
                      transform: `translate(${xe.actual_bound.x + xe.actual_bound.width / 2},${xe.actual_bound.y + xe.actual_bound.height / 2}) scale(${xe.scale_x},${xe.scale_y}) translate(${-(xe.actual_bound.x + xe.actual_bound.width / 2)},${-(xe.actual_bound.y + xe.actual_bound.height / 2)})`
                    }), null, 16, _hoisted_10)) : xe.type === unref(EDoneJsonType).CustomSvg ? (openBlock(), createBlock(resolveDynamicComponent(xe.tag), mergeProps({ key: 2 }, unref(prosToVBind)(xe, ["height", "width"]), {
                      width: ((Cn = (kt = xe.props) == null ? void 0 : kt.width) == null ? void 0 : Cn.val) ?? 100,
                      height: ((_e = (ze = xe.props) == null ? void 0 : ze.height) == null ? void 0 : _e.val) ?? 100,
                      id: xe.id,
                      onResize: Fe,
                      transform: `translate(${xe.actual_bound.x + xe.actual_bound.width / 2},${xe.actual_bound.y + xe.actual_bound.height / 2}) scale(${xe.scale_x},${xe.scale_y}) translate(${-(xe.actual_bound.x + xe.actual_bound.width / 2)},${-(xe.actual_bound.y + xe.actual_bound.height / 2)})`
                    }), null, 16, ["width", "height", "id", "transform"])) : xe.type === unref(EDoneJsonType).Vue ? (openBlock(), createElementBlock("foreignObject", mergeProps({ key: 3 }, ue(xe.actual_bound, xe.scale_x, xe.scale_y), {
                      id: `foreign-object${xe.id}`,
                      class: "foreignObject"
                    }), [
                      (openBlock(), createBlock(resolveDynamicComponent(xe.tag), mergeProps(unref(prosToVBind)(xe), {
                        id: xe.id,
                        transform: `translate(${xe.actual_bound.x + xe.actual_bound.width / 2},${xe.actual_bound.y + xe.actual_bound.height / 2}) scale(${xe.scale_x},${xe.scale_y}) translate(${-(xe.actual_bound.x + xe.actual_bound.width / 2)},${-(xe.actual_bound.y + xe.actual_bound.height / 2)})`
                      }), {
                        default: withCtx(() => [
                          createTextVNode(toDisplayString(xe.tag_slot), 1)
                        ]),
                        _: 2
                      }, 1040, ["id", "transform"]))
                    ], 16, _hoisted_11)) : xe.type === unref(EDoneJsonType).StraightLine ? (openBlock(), createElementBlock("line", {
                      key: 4,
                      id: xe.id,
                      x1: xe.props.start_x.val,
                      y1: xe.props.start_y.val,
                      x2: xe.props.end_x.val,
                      y2: xe.props.end_y.val,
                      fill: "#FF0000",
                      stroke: "#FF0000",
                      "stroke-width": "2"
                    }, null, 8, _hoisted_12$1)) : createCommentVNode("", !0),
                    xe.config.actual_rect ? (openBlock(), createElementBlock("rect", mergeProps({
                      key: 5,
                      id: `rect${xe.id}`,
                      fill: "black",
                      "fill-opacity": "0"
                    }, ue(xe.actual_bound, xe.scale_x, xe.scale_y), {
                      style: { stroke: "none", "stroke-width": "2", "stroke-miterlimit": "10" },
                      class: {
                        "svg-item-none": !xe.selected && (unref(o).intention == unref(EGlobalStoreIntention).None || unref(o).intention == unref(EGlobalStoreIntention).Select),
                        "svg-item-move": unref(o).intention == unref(EGlobalStoreIntention).Move && ((de = unref(o).handle_svg_info) == null ? void 0 : de.info.id) == xe.id,
                        "svg-item-select": unref(o).intention == unref(EGlobalStoreIntention).Select && ((Et = unref(o).handle_svg_info) == null ? void 0 : Et.info.id) == xe.id,
                        "svg-item-in-group": xe.selected
                      }
                    }), null, 16, _hoisted_13)) : createCommentVNode("", !0),
                    ((Oe = unref(o).handle_svg_info) == null ? void 0 : Oe.info.id) === xe.id && unref(g).handle_panel && xe.type !== unref(EDoneJsonType).ConnectionLine ? (openBlock(), createBlock(HandlePanel, {
                      key: 6,
                      "item-info": xe
                    }, null, 8, ["item-info"])) : createCommentVNode("", !0),
                    !xe.selected && ((Ve = unref(g).select_item.info) == null ? void 0 : Ve.id) == xe.id && unref(g).connection_panel && xe.config.have_anchor && unref(o).intention !== unref(EGlobalStoreIntention).SelectArea && (unref(o).intention !== unref(EGlobalStoreIntention).Select || xe.id !== ((Dt = unref(o).handle_svg_info) == null ? void 0 : Dt.info.id)) ? (openBlock(), createBlock(ConnectionPanel, {
                      key: 7,
                      onContextmenu: z,
                      "item-info": xe
                    }, null, 8, ["item-info"])) : createCommentVNode("", !0)
                  ], 40, _hoisted_9)
                ], 2)
              ], 40, _hoisted_8)), [
                [vShow, xe.display]
              ]);
            }), 128)),
            createElementVNode("rect", {
              x: unref(b).x,
              y: unref(b).y,
              height: unref(b).height,
              width: unref(b).with,
              stroke: "#107cec",
              fill: "#107cec",
              "fill-opacity": ".2"
            }, null, 8, _hoisted_14)
          ], 8, _hoisted_7)
        ], 4))
      ], 544),
      withDirectives(createElementVNode("ul", {
        ref_key: "contextMenuRef",
        ref: d,
        class: "contextMenu"
      }, [
        (openBlock(!0), createElementBlock(Fragment, null, renderList(unref(f).info, (xe, Lt) => (openBlock(), createElementBlock("li", {
          key: xe.title,
          onClick: (_n) => unref(f).onContextMenuClick(Lt)
        }, [
          createElementVNode("p", {
            class: normalizeClass(xe.enable ? "" : "disabled")
          }, [
            createTextVNode(toDisplayString(xe.title) + " ", 1),
            createElementVNode("span", _hoisted_16$1, toDisplayString(xe.hot_key), 1)
          ], 2)
        ], 8, _hoisted_15))), 128))
      ], 512), [
        [vShow, unref(f).display]
      ])
    ], 64));
  }
}), centerPanel_vue_vue_type_style_index_0_scoped_45eb2bb8_lang = "", CenterPanel = /* @__PURE__ */ _export_sfc$1(_sfc_main$x, [["__scopeId", "data-v-45eb2bb8"]]);
/*! Element Plus Icons Vue v2.1.0 */
var export_helper_default = (r, n) => {
  let i = r.__vccOpts || r;
  for (let [o, a] of n)
    i[o] = a;
  return i;
}, aim_vue_vue_type_script_lang_default = {
  name: "Aim"
}, _hoisted_12 = {
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 1024 1024"
}, _hoisted_22 = /* @__PURE__ */ createElementVNode(
  "path",
  {
    fill: "currentColor",
    d: "M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"
  },
  null,
  -1
  /* HOISTED */
), _hoisted_32 = /* @__PURE__ */ createElementVNode(
  "path",
  {
    fill: "currentColor",
    d: "M512 96a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V128a32 32 0 0 1 32-32zm0 576a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V704a32 32 0 0 1 32-32zM96 512a32 32 0 0 1 32-32h192a32 32 0 0 1 0 64H128a32 32 0 0 1-32-32zm576 0a32 32 0 0 1 32-32h192a32 32 0 1 1 0 64H704a32 32 0 0 1-32-32z"
  },
  null,
  -1
  /* HOISTED */
), _hoisted_42 = [
  _hoisted_22,
  _hoisted_32
];
function _sfc_render2(r, n, i, o, a, u) {
  return openBlock(), createElementBlock("svg", _hoisted_12, _hoisted_42);
}
var aim_default = /* @__PURE__ */ export_helper_default(aim_vue_vue_type_script_lang_default, [["render", _sfc_render2], ["__file", "aim.vue"]]), arrow_down_vue_vue_type_script_lang_default = {
  name: "ArrowDown"
}, _hoisted_16 = {
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 1024 1024"
}, _hoisted_26 = /* @__PURE__ */ createElementVNode(
  "path",
  {
    fill: "currentColor",
    d: "M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"
  },
  null,
  -1
  /* HOISTED */
), _hoisted_36 = [
  _hoisted_26
];
function _sfc_render6(r, n, i, o, a, u) {
  return openBlock(), createElementBlock("svg", _hoisted_16, _hoisted_36);
}
var arrow_down_default = /* @__PURE__ */ export_helper_default(arrow_down_vue_vue_type_script_lang_default, [["render", _sfc_render6], ["__file", "arrow-down.vue"]]), circle_check_vue_vue_type_script_lang_default = {
  name: "CircleCheck"
}, _hoisted_149 = {
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 1024 1024"
}, _hoisted_249 = /* @__PURE__ */ createElementVNode(
  "path",
  {
    fill: "currentColor",
    d: "M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"
  },
  null,
  -1
  /* HOISTED */
), _hoisted_348 = /* @__PURE__ */ createElementVNode(
  "path",
  {
    fill: "currentColor",
    d: "M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"
  },
  null,
  -1
  /* HOISTED */
), _hoisted_415 = [
  _hoisted_249,
  _hoisted_348
];
function _sfc_render49(r, n, i, o, a, u) {
  return openBlock(), createElementBlock("svg", _hoisted_149, _hoisted_415);
}
var circle_check_default = /* @__PURE__ */ export_helper_default(circle_check_vue_vue_type_script_lang_default, [["render", _sfc_render49], ["__file", "circle-check.vue"]]), circle_close_vue_vue_type_script_lang_default = {
  name: "CircleClose"
}, _hoisted_151 = {
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 1024 1024"
}, _hoisted_251 = /* @__PURE__ */ createElementVNode(
  "path",
  {
    fill: "currentColor",
    d: "m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248L466.752 512z"
  },
  null,
  -1
  /* HOISTED */
), _hoisted_350 = /* @__PURE__ */ createElementVNode(
  "path",
  {
    fill: "currentColor",
    d: "M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"
  },
  null,
  -1
  /* HOISTED */
), _hoisted_416 = [
  _hoisted_251,
  _hoisted_350
];
function _sfc_render51(r, n, i, o, a, u) {
  return openBlock(), createElementBlock("svg", _hoisted_151, _hoisted_416);
}
var circle_close_default = /* @__PURE__ */ export_helper_default(circle_close_vue_vue_type_script_lang_default, [["render", _sfc_render51], ["__file", "circle-close.vue"]]), close_vue_vue_type_script_lang_default = {
  name: "Close"
}, _hoisted_156 = {
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 1024 1024"
}, _hoisted_256 = /* @__PURE__ */ createElementVNode(
  "path",
  {
    fill: "currentColor",
    d: "M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"
  },
  null,
  -1
  /* HOISTED */
), _hoisted_355 = [
  _hoisted_256
];
function _sfc_render56(r, n, i, o, a, u) {
  return openBlock(), createElementBlock("svg", _hoisted_156, _hoisted_355);
}
var close_default = /* @__PURE__ */ export_helper_default(close_vue_vue_type_script_lang_default, [["render", _sfc_render56], ["__file", "close.vue"]]), hide_vue_vue_type_script_lang_default = {
  name: "Hide"
}, _hoisted_1133 = {
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 1024 1024"
}, _hoisted_2133 = /* @__PURE__ */ createElementVNode(
  "path",
  {
    fill: "currentColor",
    d: "M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2L371.2 588.8ZM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z"
  },
  null,
  -1
  /* HOISTED */
), _hoisted_3132 = /* @__PURE__ */ createElementVNode(
  "path",
  {
    fill: "currentColor",
    d: "M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z"
  },
  null,
  -1
  /* HOISTED */
), _hoisted_438 = [
  _hoisted_2133,
  _hoisted_3132
];
function _sfc_render133(r, n, i, o, a, u) {
  return openBlock(), createElementBlock("svg", _hoisted_1133, _hoisted_438);
}
var hide_default = /* @__PURE__ */ export_helper_default(hide_vue_vue_type_script_lang_default, [["render", _sfc_render133], ["__file", "hide.vue"]]), loading_vue_vue_type_script_lang_default = {
  name: "Loading"
}, _hoisted_1150 = {
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 1024 1024"
}, _hoisted_2150 = /* @__PURE__ */ createElementVNode(
  "path",
  {
    fill: "currentColor",
    d: "M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32zm0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32zm448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32zm-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32zM195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0zm-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"
  },
  null,
  -1
  /* HOISTED */
), _hoisted_3149 = [
  _hoisted_2150
];
function _sfc_render150(r, n, i, o, a, u) {
  return openBlock(), createElementBlock("svg", _hoisted_1150, _hoisted_3149);
}
var loading_default = /* @__PURE__ */ export_helper_default(loading_vue_vue_type_script_lang_default, [["render", _sfc_render150], ["__file", "loading.vue"]]), view_vue_vue_type_script_lang_default = {
  name: "View"
}, _hoisted_1283 = {
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 1024 1024"
}, _hoisted_2283 = /* @__PURE__ */ createElementVNode(
  "path",
  {
    fill: "currentColor",
    d: "M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352zm0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448zm0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160z"
  },
  null,
  -1
  /* HOISTED */
), _hoisted_3282 = [
  _hoisted_2283
];
function _sfc_render283(r, n, i, o, a, u) {
  return openBlock(), createElementBlock("svg", _hoisted_1283, _hoisted_3282);
}
var view_default = /* @__PURE__ */ export_helper_default(view_vue_vue_type_script_lang_default, [["render", _sfc_render283], ["__file", "view.vue"]]), MapShim = function() {
  if (typeof Map < "u")
    return Map;
  function r(n, i) {
    var o = -1;
    return n.some(function(a, u) {
      return a[0] === i ? (o = u, !0) : !1;
    }), o;
  }
  return (
    /** @class */
    function() {
      function n() {
        this.__entries__ = [];
      }
      return Object.defineProperty(n.prototype, "size", {
        /**
         * @returns {boolean}
         */
        get: function() {
          return this.__entries__.length;
        },
        enumerable: !0,
        configurable: !0
      }), n.prototype.get = function(i) {
        var o = r(this.__entries__, i), a = this.__entries__[o];
        return a && a[1];
      }, n.prototype.set = function(i, o) {
        var a = r(this.__entries__, i);
        ~a ? this.__entries__[a][1] = o : this.__entries__.push([i, o]);
      }, n.prototype.delete = function(i) {
        var o = this.__entries__, a = r(o, i);
        ~a && o.splice(a, 1);
      }, n.prototype.has = function(i) {
        return !!~r(this.__entries__, i);
      }, n.prototype.clear = function() {
        this.__entries__.splice(0);
      }, n.prototype.forEach = function(i, o) {
        o === void 0 && (o = null);
        for (var a = 0, u = this.__entries__; a < u.length; a++) {
          var c = u[a];
          i.call(o, c[1], c[0]);
        }
      }, n;
    }()
  );
}(), isBrowser = typeof window < "u" && typeof document < "u" && window.document === document, global$1 = function() {
  return typeof global < "u" && global.Math === Math ? global : typeof self < "u" && self.Math === Math ? self : typeof window < "u" && window.Math === Math ? window : Function("return this")();
}(), requestAnimationFrame$1 = function() {
  return typeof requestAnimationFrame == "function" ? requestAnimationFrame.bind(global$1) : function(r) {
    return setTimeout(function() {
      return r(Date.now());
    }, 1e3 / 60);
  };
}(), trailingTimeout = 2;
function throttle(r, n) {
  var i = !1, o = !1, a = 0;
  function u() {
    i && (i = !1, r()), o && f();
  }
  function c() {
    requestAnimationFrame$1(u);
  }
  function f() {
    var d = Date.now();
    if (i) {
      if (d - a < trailingTimeout)
        return;
      o = !0;
    } else
      i = !0, o = !1, setTimeout(c, n);
    a = d;
  }
  return f;
}
var REFRESH_DELAY = 20, transitionKeys = ["top", "right", "bottom", "left", "width", "height", "size", "weight"], mutationObserverSupported = typeof MutationObserver < "u", ResizeObserverController = (
  /** @class */
  function() {
    function r() {
      this.connected_ = !1, this.mutationEventsAdded_ = !1, this.mutationsObserver_ = null, this.observers_ = [], this.onTransitionEnd_ = this.onTransitionEnd_.bind(this), this.refresh = throttle(this.refresh.bind(this), REFRESH_DELAY);
    }
    return r.prototype.addObserver = function(n) {
      ~this.observers_.indexOf(n) || this.observers_.push(n), this.connected_ || this.connect_();
    }, r.prototype.removeObserver = function(n) {
      var i = this.observers_, o = i.indexOf(n);
      ~o && i.splice(o, 1), !i.length && this.connected_ && this.disconnect_();
    }, r.prototype.refresh = function() {
      var n = this.updateObservers_();
      n && this.refresh();
    }, r.prototype.updateObservers_ = function() {
      var n = this.observers_.filter(function(i) {
        return i.gatherActive(), i.hasActive();
      });
      return n.forEach(function(i) {
        return i.broadcastActive();
      }), n.length > 0;
    }, r.prototype.connect_ = function() {
      !isBrowser || this.connected_ || (document.addEventListener("transitionend", this.onTransitionEnd_), window.addEventListener("resize", this.refresh), mutationObserverSupported ? (this.mutationsObserver_ = new MutationObserver(this.refresh), this.mutationsObserver_.observe(document, {
        attributes: !0,
        childList: !0,
        characterData: !0,
        subtree: !0
      })) : (document.addEventListener("DOMSubtreeModified", this.refresh), this.mutationEventsAdded_ = !0), this.connected_ = !0);
    }, r.prototype.disconnect_ = function() {
      !isBrowser || !this.connected_ || (document.removeEventListener("transitionend", this.onTransitionEnd_), window.removeEventListener("resize", this.refresh), this.mutationsObserver_ && this.mutationsObserver_.disconnect(), this.mutationEventsAdded_ && document.removeEventListener("DOMSubtreeModified", this.refresh), this.mutationsObserver_ = null, this.mutationEventsAdded_ = !1, this.connected_ = !1);
    }, r.prototype.onTransitionEnd_ = function(n) {
      var i = n.propertyName, o = i === void 0 ? "" : i, a = transitionKeys.some(function(u) {
        return !!~o.indexOf(u);
      });
      a && this.refresh();
    }, r.getInstance = function() {
      return this.instance_ || (this.instance_ = new r()), this.instance_;
    }, r.instance_ = null, r;
  }()
), defineConfigurable = function(r, n) {
  for (var i = 0, o = Object.keys(n); i < o.length; i++) {
    var a = o[i];
    Object.defineProperty(r, a, {
      value: n[a],
      enumerable: !1,
      writable: !1,
      configurable: !0
    });
  }
  return r;
}, getWindowOf = function(r) {
  var n = r && r.ownerDocument && r.ownerDocument.defaultView;
  return n || global$1;
}, emptyRect = createRectInit(0, 0, 0, 0);
function toFloat(r) {
  return parseFloat(r) || 0;
}
function getBordersSize(r) {
  for (var n = [], i = 1; i < arguments.length; i++)
    n[i - 1] = arguments[i];
  return n.reduce(function(o, a) {
    var u = r["border-" + a + "-width"];
    return o + toFloat(u);
  }, 0);
}
function getPaddings(r) {
  for (var n = ["top", "right", "bottom", "left"], i = {}, o = 0, a = n; o < a.length; o++) {
    var u = a[o], c = r["padding-" + u];
    i[u] = toFloat(c);
  }
  return i;
}
function getSVGContentRect(r) {
  var n = r.getBBox();
  return createRectInit(0, 0, n.width, n.height);
}
function getHTMLElementContentRect(r) {
  var n = r.clientWidth, i = r.clientHeight;
  if (!n && !i)
    return emptyRect;
  var o = getWindowOf(r).getComputedStyle(r), a = getPaddings(o), u = a.left + a.right, c = a.top + a.bottom, f = toFloat(o.width), d = toFloat(o.height);
  if (o.boxSizing === "border-box" && (Math.round(f + u) !== n && (f -= getBordersSize(o, "left", "right") + u), Math.round(d + c) !== i && (d -= getBordersSize(o, "top", "bottom") + c)), !isDocumentElement(r)) {
    var p = Math.round(f + u) - n, y = Math.round(d + c) - i;
    Math.abs(p) !== 1 && (f -= p), Math.abs(y) !== 1 && (d -= y);
  }
  return createRectInit(a.left, a.top, f, d);
}
var isSVGGraphicsElement = function() {
  return typeof SVGGraphicsElement < "u" ? function(r) {
    return r instanceof getWindowOf(r).SVGGraphicsElement;
  } : function(r) {
    return r instanceof getWindowOf(r).SVGElement && typeof r.getBBox == "function";
  };
}();
function isDocumentElement(r) {
  return r === getWindowOf(r).document.documentElement;
}
function getContentRect(r) {
  return isBrowser ? isSVGGraphicsElement(r) ? getSVGContentRect(r) : getHTMLElementContentRect(r) : emptyRect;
}
function createReadOnlyRect(r) {
  var n = r.x, i = r.y, o = r.width, a = r.height, u = typeof DOMRectReadOnly < "u" ? DOMRectReadOnly : Object, c = Object.create(u.prototype);
  return defineConfigurable(c, {
    x: n,
    y: i,
    width: o,
    height: a,
    top: i,
    right: n + o,
    bottom: a + i,
    left: n
  }), c;
}
function createRectInit(r, n, i, o) {
  return { x: r, y: n, width: i, height: o };
}
var ResizeObservation = (
  /** @class */
  function() {
    function r(n) {
      this.broadcastWidth = 0, this.broadcastHeight = 0, this.contentRect_ = createRectInit(0, 0, 0, 0), this.target = n;
    }
    return r.prototype.isActive = function() {
      var n = getContentRect(this.target);
      return this.contentRect_ = n, n.width !== this.broadcastWidth || n.height !== this.broadcastHeight;
    }, r.prototype.broadcastRect = function() {
      var n = this.contentRect_;
      return this.broadcastWidth = n.width, this.broadcastHeight = n.height, n;
    }, r;
  }()
), ResizeObserverEntry = (
  /** @class */
  function() {
    function r(n, i) {
      var o = createReadOnlyRect(i);
      defineConfigurable(this, { target: n, contentRect: o });
    }
    return r;
  }()
), ResizeObserverSPI = (
  /** @class */
  function() {
    function r(n, i, o) {
      if (this.activeObservations_ = [], this.observations_ = new MapShim(), typeof n != "function")
        throw new TypeError("The callback provided as parameter 1 is not a function.");
      this.callback_ = n, this.controller_ = i, this.callbackCtx_ = o;
    }
    return r.prototype.observe = function(n) {
      if (!arguments.length)
        throw new TypeError("1 argument required, but only 0 present.");
      if (!(typeof Element > "u" || !(Element instanceof Object))) {
        if (!(n instanceof getWindowOf(n).Element))
          throw new TypeError('parameter 1 is not of type "Element".');
        var i = this.observations_;
        i.has(n) || (i.set(n, new ResizeObservation(n)), this.controller_.addObserver(this), this.controller_.refresh());
      }
    }, r.prototype.unobserve = function(n) {
      if (!arguments.length)
        throw new TypeError("1 argument required, but only 0 present.");
      if (!(typeof Element > "u" || !(Element instanceof Object))) {
        if (!(n instanceof getWindowOf(n).Element))
          throw new TypeError('parameter 1 is not of type "Element".');
        var i = this.observations_;
        i.has(n) && (i.delete(n), i.size || this.controller_.removeObserver(this));
      }
    }, r.prototype.disconnect = function() {
      this.clearActive(), this.observations_.clear(), this.controller_.removeObserver(this);
    }, r.prototype.gatherActive = function() {
      var n = this;
      this.clearActive(), this.observations_.forEach(function(i) {
        i.isActive() && n.activeObservations_.push(i);
      });
    }, r.prototype.broadcastActive = function() {
      if (this.hasActive()) {
        var n = this.callbackCtx_, i = this.activeObservations_.map(function(o) {
          return new ResizeObserverEntry(o.target, o.broadcastRect());
        });
        this.callback_.call(n, i, n), this.clearActive();
      }
    }, r.prototype.clearActive = function() {
      this.activeObservations_.splice(0);
    }, r.prototype.hasActive = function() {
      return this.activeObservations_.length > 0;
    }, r;
  }()
), observers = typeof WeakMap < "u" ? /* @__PURE__ */ new WeakMap() : new MapShim(), ResizeObserver$1 = (
  /** @class */
  function() {
    function r(n) {
      if (!(this instanceof r))
        throw new TypeError("Cannot call a class as a function.");
      if (!arguments.length)
        throw new TypeError("1 argument required, but only 0 present.");
      var i = ResizeObserverController.getInstance(), o = new ResizeObserverSPI(n, i, this);
      observers.set(this, o);
    }
    return r;
  }()
);
[
  "observe",
  "unobserve",
  "disconnect"
].forEach(function(r) {
  ResizeObserver$1.prototype[r] = function() {
    var n;
    return (n = observers.get(this))[r].apply(n, arguments);
  };
});
var index$1 = function() {
  return typeof global$1.ResizeObserver < "u" ? global$1.ResizeObserver : ResizeObserver$1;
}();
const Events = [
  "blur",
  "input",
  "change",
  "changeSelectionStyle",
  "changeSession",
  "copy",
  "focus",
  "paste"
], VAceEditor = defineComponent({
  props: {
    value: {
      type: String,
      required: !0
    },
    lang: {
      type: String,
      default: "text"
    },
    theme: {
      type: String,
      default: "chrome"
    },
    options: Object,
    placeholder: String,
    readonly: Boolean,
    wrap: Boolean,
    printMargin: {
      type: [Boolean, Number],
      default: !0
    },
    minLines: Number,
    maxLines: Number
  },
  emits: ["update:value", "init", ...Events],
  render() {
    return h("div");
  },
  mounted() {
    const r = this._editor = markRaw(ace.edit(this.$el, {
      placeholder: this.placeholder,
      readOnly: this.readonly,
      value: this.value,
      mode: "ace/mode/" + this.lang,
      theme: "ace/theme/" + this.theme,
      wrap: this.wrap,
      printMargin: this.printMargin,
      useWorker: !1,
      minLines: this.minLines,
      maxLines: this.maxLines,
      ...this.options
    }));
    this._contentBackup = this.value, this._isSettingContent = !1, r.on("change", () => {
      if (this._isSettingContent)
        return;
      const n = r.getValue();
      this._contentBackup = n, this.$emit("update:value", n);
    }), Events.forEach((n) => {
      const i = "on" + capitalize(n);
      typeof this.$.vnode.props[i] == "function" && r.on(n, this.$emit.bind(this, n));
    }), this._ro = new index$1(() => r.resize()), this._ro.observe(this.$el), this.$emit("init", r);
  },
  beforeUnmount() {
    var r, n;
    (r = this._ro) === null || r === void 0 || r.disconnect(), (n = this._editor) === null || n === void 0 || n.destroy();
  },
  methods: {
    focus() {
      this._editor.focus();
    },
    blur() {
      this._editor.blur();
    },
    selectAll() {
      this._editor.selectAll();
    }
  },
  watch: {
    value(r) {
      if (this._contentBackup !== r) {
        try {
          this._isSettingContent = !0, this._editor.setValue(r, 1);
        } finally {
          this._isSettingContent = !1;
        }
        this._contentBackup = r;
      }
    },
    theme(r) {
      this._editor.setTheme("ace/theme/" + r);
    },
    options(r) {
      this._editor.setOptions(r);
    },
    readonly(r) {
      this._editor.setReadOnly(r);
    },
    placeholder(r) {
      this._editor.setOption("placeholder", r);
    },
    wrap(r) {
      this._editor.setWrapBehavioursEnabled(r);
    },
    printMargin(r) {
      this._editor.setOption("printMargin", r);
    },
    lang(r) {
      this._editor.setOption("mode", "ace/mode/" + r);
    },
    minLines(r) {
      this._editor.setOption("minLines", r);
    },
    maxLines(r) {
      this._editor.setOption("maxLines", r);
    }
  }
}), themeUrl2 = "data:application/javascript;base64,YWNlLmRlZmluZSgiYWNlL3RoZW1lL2tyX3RoZW1lLmNzcyIsWyJyZXF1aXJlIiwiZXhwb3J0cyIsIm1vZHVsZSJdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpe21vZHVsZS5leHBvcnRzID0gIi5hY2Uta3ItdGhlbWUgLmFjZV9ndXR0ZXIge1xuICBiYWNrZ3JvdW5kOiAjMWMxOTE3O1xuICBjb2xvcjogI0ZDRkZFMFxufVxuXG4uYWNlLWtyLXRoZW1lIC5hY2VfcHJpbnQtbWFyZ2luIHtcbiAgd2lkdGg6IDFweDtcbiAgYmFja2dyb3VuZDogIzFjMTkxN1xufVxuXG4uYWNlLWtyLXRoZW1lIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzBCMEEwOTtcbiAgY29sb3I6ICNGQ0ZGRTBcbn1cblxuLmFjZS1rci10aGVtZSAuYWNlX2N1cnNvciB7XG4gIGNvbG9yOiAjRkY5OTAwXG59XG5cbi5hY2Uta3ItdGhlbWUgLmFjZV9tYXJrZXItbGF5ZXIgLmFjZV9zZWxlY3Rpb24ge1xuICBiYWNrZ3JvdW5kOiByZ2JhKDE3MCwgMCwgMjU1LCAwLjQ1KVxufVxuXG4uYWNlLWtyLXRoZW1lLmFjZV9tdWx0aXNlbGVjdCAuYWNlX3NlbGVjdGlvbi5hY2Vfc3RhcnQge1xuICBib3gtc2hhZG93OiAwIDAgM3B4IDBweCAjMEIwQTA5O1xufVxuXG4uYWNlLWtyLXRoZW1lIC5hY2VfbWFya2VyLWxheWVyIC5hY2Vfc3RlcCB7XG4gIGJhY2tncm91bmQ6IHJnYigxMDIsIDgyLCAwKVxufVxuXG4uYWNlLWtyLXRoZW1lIC5hY2VfbWFya2VyLWxheWVyIC5hY2VfYnJhY2tldCB7XG4gIG1hcmdpbjogLTFweCAwIDAgLTFweDtcbiAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgyNTUsIDE3NywgMTExLCAwLjMyKVxufVxuXG4uYWNlLWtyLXRoZW1lIC5hY2VfbWFya2VyLWxheWVyIC5hY2VfYWN0aXZlLWxpbmUge1xuICBiYWNrZ3JvdW5kOiAjMzg0MDNEXG59XG5cbi5hY2Uta3ItdGhlbWUgLmFjZV9ndXR0ZXItYWN0aXZlLWxpbmUge1xuICBiYWNrZ3JvdW5kLWNvbG9yIDogIzM4NDAzRFxufVxuXG4uYWNlLWtyLXRoZW1lIC5hY2VfbWFya2VyLWxheWVyIC5hY2Vfc2VsZWN0ZWQtd29yZCB7XG4gIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMTcwLCAwLCAyNTUsIDAuNDUpXG59XG5cbi5hY2Uta3ItdGhlbWUgLmFjZV9pbnZpc2libGUge1xuICBjb2xvcjogcmdiYSgyNTUsIDE3NywgMTExLCAwLjMyKVxufVxuXG4uYWNlLWtyLXRoZW1lIC5hY2Vfa2V5d29yZCxcbi5hY2Uta3ItdGhlbWUgLmFjZV9tZXRhIHtcbiAgY29sb3I6ICM5NDlDOEJcbn1cblxuLmFjZS1rci10aGVtZSAuYWNlX2NvbnN0YW50LFxuLmFjZS1rci10aGVtZSAuYWNlX2NvbnN0YW50LmFjZV9jaGFyYWN0ZXIsXG4uYWNlLWtyLXRoZW1lIC5hY2VfY29uc3RhbnQuYWNlX2NoYXJhY3Rlci5hY2VfZXNjYXBlLFxuLmFjZS1rci10aGVtZSAuYWNlX2NvbnN0YW50LmFjZV9vdGhlciB7XG4gIGNvbG9yOiByZ2JhKDIxMCwgMTE3LCAyNCwgMC43Nilcbn1cblxuLmFjZS1rci10aGVtZSAuYWNlX2ludmFsaWQge1xuICBjb2xvcjogI0Y4RjhGODtcbiAgYmFja2dyb3VuZC1jb2xvcjogI0E0MTMwMFxufVxuXG4uYWNlLWtyLXRoZW1lIC5hY2Vfc3VwcG9ydCB7XG4gIGNvbG9yOiAjOUZDMjhBXG59XG5cbi5hY2Uta3ItdGhlbWUgLmFjZV9zdXBwb3J0LmFjZV9jb25zdGFudCB7XG4gIGNvbG9yOiAjQzI3RTY2XG59XG5cbi5hY2Uta3ItdGhlbWUgLmFjZV9mb2xkIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzk0OUM4QjtcbiAgYm9yZGVyLWNvbG9yOiAjRkNGRkUwXG59XG5cbi5hY2Uta3ItdGhlbWUgLmFjZV9zdXBwb3J0LmFjZV9mdW5jdGlvbiB7XG4gIGNvbG9yOiAjODU4NzNBXG59XG5cbi5hY2Uta3ItdGhlbWUgLmFjZV9zdG9yYWdlIHtcbiAgY29sb3I6ICNGRkVFODBcbn1cblxuLmFjZS1rci10aGVtZSAuYWNlX3N0cmluZyB7XG4gIGNvbG9yOiByZ2JhKDE2NCwgMTYxLCAxODEsIDAuOClcbn1cblxuLmFjZS1rci10aGVtZSAuYWNlX3N0cmluZy5hY2VfcmVnZXhwIHtcbiAgY29sb3I6IHJnYmEoMTI1LCAyNTUsIDE5MiwgMC42NSlcbn1cblxuLmFjZS1rci10aGVtZSAuYWNlX2NvbW1lbnQge1xuICBmb250LXN0eWxlOiBpdGFsaWM7XG4gIGNvbG9yOiAjNzA2RDVCXG59XG5cbi5hY2Uta3ItdGhlbWUgLmFjZV92YXJpYWJsZSB7XG4gIGNvbG9yOiAjRDFBNzk2XG59XG5cbi5hY2Uta3ItdGhlbWUgLmFjZV9saXN0LFxuLmFjZS1rci10aGVtZSAuYWNlX21hcmt1cC5hY2VfbGlzdCB7XG4gIGJhY2tncm91bmQtY29sb3I6ICMwRjAwNDBcbn1cblxuLmFjZS1rci10aGVtZSAuYWNlX3ZhcmlhYmxlLmFjZV9sYW5ndWFnZSB7XG4gIGNvbG9yOiAjRkY4MEUxXG59XG5cbi5hY2Uta3ItdGhlbWUgLmFjZV9tZXRhLmFjZV90YWcge1xuICBjb2xvcjogI0JBQkQ5Q1xufVxuXG4uYWNlLWtyLXRoZW1lIC5hY2VfaW5kZW50LWd1aWRlIHtcbiAgYmFja2dyb3VuZDogdXJsKGRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQUVBQUFBQ0NBWUFBQUNaZ2JZbkFBQUFFa2xFUVZRSW1XTmdZR0JnWUZCWFYvOFBBQUpvQVhYNGtUMkVBQUFBQUVsRlRrU3VRbUNDKSByaWdodCByZXBlYXQteVxufVxuXG4uYWNlLWtyLXRoZW1lIC5hY2VfaW5kZW50LWd1aWRlLWFjdGl2ZSB7XG4gIGJhY2tncm91bmQ6IHVybChcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQUVBQUFBQ0NBWUFBQUNaZ2JZbkFBQUFDWEJJV1hNQUFBc1RBQUFMRXdFQW1wd1lBQUFBSUdOSVVrMEFBSG9sQUFDQWd3QUErZjhBQUlEcEFBQjFNQUFBNm1BQUFEcVlBQUFYYjVKZnhVWUFBQUFaU1VSQlZIamFZdmovLy85L2hpdkt5djhCQUFBQS8vOERBQ0xxQmhidmsrL2VBQUFBQUVsRlRrU3VRbUNDXCIpIHJpZ2h0IHJlcGVhdC15O1xufVxuIjsKCn0pOwoKYWNlLmRlZmluZSgiYWNlL3RoZW1lL2tyX3RoZW1lIixbInJlcXVpcmUiLCJleHBvcnRzIiwibW9kdWxlIiwiYWNlL3RoZW1lL2tyX3RoZW1lLmNzcyIsImFjZS9saWIvZG9tIl0sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSl7ZXhwb3J0cy5pc0RhcmsgPSB0cnVlOwpleHBvcnRzLmNzc0NsYXNzID0gImFjZS1rci10aGVtZSI7CmV4cG9ydHMuY3NzVGV4dCA9IHJlcXVpcmUoIi4va3JfdGhlbWUuY3NzIik7CnZhciBkb20gPSByZXF1aXJlKCIuLi9saWIvZG9tIik7CmRvbS5pbXBvcnRDc3NTdHJpbmcoZXhwb3J0cy5jc3NUZXh0LCBleHBvcnRzLmNzc0NsYXNzLCBmYWxzZSk7Cgp9KTsgICAgICAgICAgICAgICAgKGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgIGFjZS5yZXF1aXJlKFsiYWNlL3RoZW1lL2tyX3RoZW1lIl0sIGZ1bmN0aW9uKG0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtb2R1bGUgPT0gIm9iamVjdCIgJiYgdHlwZW9mIGV4cG9ydHMgPT0gIm9iamVjdCIgJiYgbW9kdWxlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IG07CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pKCk7CiAgICAgICAgICAgIA==", modeJsonUrl = "data:application/javascript;base64,YWNlLmRlZmluZSgiYWNlL21vZGUvanNvbl9oaWdobGlnaHRfcnVsZXMiLFsicmVxdWlyZSIsImV4cG9ydHMiLCJtb2R1bGUiLCJhY2UvbGliL29vcCIsImFjZS9tb2RlL3RleHRfaGlnaGxpZ2h0X3J1bGVzIl0sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSl7InVzZSBzdHJpY3QiOwp2YXIgb29wID0gcmVxdWlyZSgiLi4vbGliL29vcCIpOwp2YXIgVGV4dEhpZ2hsaWdodFJ1bGVzID0gcmVxdWlyZSgiLi90ZXh0X2hpZ2hsaWdodF9ydWxlcyIpLlRleHRIaWdobGlnaHRSdWxlczsKdmFyIEpzb25IaWdobGlnaHRSdWxlcyA9IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuJHJ1bGVzID0gewogICAgICAgICJzdGFydCI6IFsKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdG9rZW46ICJ2YXJpYWJsZSIsCiAgICAgICAgICAgICAgICByZWdleDogJ1siXSg/Oig/OlxcXFwuKXwoPzpbXiJcXFxcXSkpKj9bIl1cXHMqKD89OiknCiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgIHRva2VuOiAic3RyaW5nIiwKICAgICAgICAgICAgICAgIHJlZ2V4OiAnIicsCiAgICAgICAgICAgICAgICBuZXh0OiAic3RyaW5nIgogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICB0b2tlbjogImNvbnN0YW50Lm51bWVyaWMiLAogICAgICAgICAgICAgICAgcmVnZXg6ICIwW3hYXVswLTlhLWZBLUZdK1xcYiIKICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgdG9rZW46ICJjb25zdGFudC5udW1lcmljIiwKICAgICAgICAgICAgICAgIHJlZ2V4OiAiWystXT9cXGQrKD86KD86XFwuXFxkKik/KD86W2VFXVsrLV0/XFxkKyk/KT9cXGIiCiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgIHRva2VuOiAiY29uc3RhbnQubGFuZ3VhZ2UuYm9vbGVhbiIsCiAgICAgICAgICAgICAgICByZWdleDogIig/OnRydWV8ZmFsc2UpXFxiIgogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICB0b2tlbjogInRleHQiLAogICAgICAgICAgICAgICAgcmVnZXg6ICJbJ10oPzooPzpcXFxcLil8KD86W14nXFxcXF0pKSo/WyddIgogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICB0b2tlbjogImNvbW1lbnQiLAogICAgICAgICAgICAgICAgcmVnZXg6ICJcXC9cXC8uKiQiCiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgIHRva2VuOiAiY29tbWVudC5zdGFydCIsCiAgICAgICAgICAgICAgICByZWdleDogIlxcL1xcKiIsCiAgICAgICAgICAgICAgICBuZXh0OiAiY29tbWVudCIKICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgdG9rZW46ICJwYXJlbi5scGFyZW4iLAogICAgICAgICAgICAgICAgcmVnZXg6ICJbWyh7XSIKICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgdG9rZW46ICJwYXJlbi5ycGFyZW4iLAogICAgICAgICAgICAgICAgcmVnZXg6ICJbXFxdKX1dIgogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICB0b2tlbjogInB1bmN0dWF0aW9uLm9wZXJhdG9yIiwKICAgICAgICAgICAgICAgIHJlZ2V4OiAvWyxdLwogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICB0b2tlbjogInRleHQiLAogICAgICAgICAgICAgICAgcmVnZXg6ICJcXHMrIgogICAgICAgICAgICB9CiAgICAgICAgXSwKICAgICAgICAic3RyaW5nIjogWwogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB0b2tlbjogImNvbnN0YW50Lmxhbmd1YWdlLmVzY2FwZSIsCiAgICAgICAgICAgICAgICByZWdleDogL1xcKD86eFswLTlhLWZBLUZdezJ9fHVbMC05YS1mQS1GXXs0fXxbIlxcXC9iZm5ydF0pLwogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICB0b2tlbjogInN0cmluZyIsCiAgICAgICAgICAgICAgICByZWdleDogJyJ8JCcsCiAgICAgICAgICAgICAgICBuZXh0OiAic3RhcnQiCiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgIGRlZmF1bHRUb2tlbjogInN0cmluZyIKICAgICAgICAgICAgfQogICAgICAgIF0sCiAgICAgICAgImNvbW1lbnQiOiBbCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHRva2VuOiAiY29tbWVudC5lbmQiLAogICAgICAgICAgICAgICAgcmVnZXg6ICJcXCpcXC8iLAogICAgICAgICAgICAgICAgbmV4dDogInN0YXJ0IgogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICBkZWZhdWx0VG9rZW46ICJjb21tZW50IgogICAgICAgICAgICB9CiAgICAgICAgXQogICAgfTsKfTsKb29wLmluaGVyaXRzKEpzb25IaWdobGlnaHRSdWxlcywgVGV4dEhpZ2hsaWdodFJ1bGVzKTsKZXhwb3J0cy5Kc29uSGlnaGxpZ2h0UnVsZXMgPSBKc29uSGlnaGxpZ2h0UnVsZXM7Cgp9KTsKCmFjZS5kZWZpbmUoImFjZS9tb2RlL21hdGNoaW5nX2JyYWNlX291dGRlbnQiLFsicmVxdWlyZSIsImV4cG9ydHMiLCJtb2R1bGUiLCJhY2UvcmFuZ2UiXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKXsidXNlIHN0cmljdCI7CnZhciBSYW5nZSA9IHJlcXVpcmUoIi4uL3JhbmdlIikuUmFuZ2U7CnZhciBNYXRjaGluZ0JyYWNlT3V0ZGVudCA9IGZ1bmN0aW9uICgpIHsgfTsKKGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuY2hlY2tPdXRkZW50ID0gZnVuY3Rpb24gKGxpbmUsIGlucHV0KSB7CiAgICAgICAgaWYgKCEvXlxzKyQvLnRlc3QobGluZSkpCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICByZXR1cm4gL15ccypcfS8udGVzdChpbnB1dCk7CiAgICB9OwogICAgdGhpcy5hdXRvT3V0ZGVudCA9IGZ1bmN0aW9uIChkb2MsIHJvdykgewogICAgICAgIHZhciBsaW5lID0gZG9jLmdldExpbmUocm93KTsKICAgICAgICB2YXIgbWF0Y2ggPSBsaW5lLm1hdGNoKC9eKFxzKlx9KS8pOwogICAgICAgIGlmICghbWF0Y2gpCiAgICAgICAgICAgIHJldHVybiAwOwogICAgICAgIHZhciBjb2x1bW4gPSBtYXRjaFsxXS5sZW5ndGg7CiAgICAgICAgdmFyIG9wZW5CcmFjZVBvcyA9IGRvYy5maW5kTWF0Y2hpbmdCcmFja2V0KHsgcm93OiByb3csIGNvbHVtbjogY29sdW1uIH0pOwogICAgICAgIGlmICghb3BlbkJyYWNlUG9zIHx8IG9wZW5CcmFjZVBvcy5yb3cgPT0gcm93KQogICAgICAgICAgICByZXR1cm4gMDsKICAgICAgICB2YXIgaW5kZW50ID0gdGhpcy4kZ2V0SW5kZW50KGRvYy5nZXRMaW5lKG9wZW5CcmFjZVBvcy5yb3cpKTsKICAgICAgICBkb2MucmVwbGFjZShuZXcgUmFuZ2Uocm93LCAwLCByb3csIGNvbHVtbiAtIDEpLCBpbmRlbnQpOwogICAgfTsKICAgIHRoaXMuJGdldEluZGVudCA9IGZ1bmN0aW9uIChsaW5lKSB7CiAgICAgICAgcmV0dXJuIGxpbmUubWF0Y2goL15ccyovKVswXTsKICAgIH07Cn0pLmNhbGwoTWF0Y2hpbmdCcmFjZU91dGRlbnQucHJvdG90eXBlKTsKZXhwb3J0cy5NYXRjaGluZ0JyYWNlT3V0ZGVudCA9IE1hdGNoaW5nQnJhY2VPdXRkZW50OwoKfSk7CgphY2UuZGVmaW5lKCJhY2UvbW9kZS9mb2xkaW5nL2NzdHlsZSIsWyJyZXF1aXJlIiwiZXhwb3J0cyIsIm1vZHVsZSIsImFjZS9saWIvb29wIiwiYWNlL3JhbmdlIiwiYWNlL21vZGUvZm9sZGluZy9mb2xkX21vZGUiXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKXsidXNlIHN0cmljdCI7CnZhciBvb3AgPSByZXF1aXJlKCIuLi8uLi9saWIvb29wIik7CnZhciBSYW5nZSA9IHJlcXVpcmUoIi4uLy4uL3JhbmdlIikuUmFuZ2U7CnZhciBCYXNlRm9sZE1vZGUgPSByZXF1aXJlKCIuL2ZvbGRfbW9kZSIpLkZvbGRNb2RlOwp2YXIgRm9sZE1vZGUgPSBleHBvcnRzLkZvbGRNb2RlID0gZnVuY3Rpb24gKGNvbW1lbnRSZWdleCkgewogICAgaWYgKGNvbW1lbnRSZWdleCkgewogICAgICAgIHRoaXMuZm9sZGluZ1N0YXJ0TWFya2VyID0gbmV3IFJlZ0V4cCh0aGlzLmZvbGRpbmdTdGFydE1hcmtlci5zb3VyY2UucmVwbGFjZSgvXHxbXnxdKj8kLywgInwiICsgY29tbWVudFJlZ2V4LnN0YXJ0KSk7CiAgICAgICAgdGhpcy5mb2xkaW5nU3RvcE1hcmtlciA9IG5ldyBSZWdFeHAodGhpcy5mb2xkaW5nU3RvcE1hcmtlci5zb3VyY2UucmVwbGFjZSgvXHxbXnxdKj8kLywgInwiICsgY29tbWVudFJlZ2V4LmVuZCkpOwogICAgfQp9Owpvb3AuaW5oZXJpdHMoRm9sZE1vZGUsIEJhc2VGb2xkTW9kZSk7CihmdW5jdGlvbiAoKSB7CiAgICB0aGlzLmZvbGRpbmdTdGFydE1hcmtlciA9IC8oW1x7XFtcKF0pW15cfVxdXCldKiR8XlxzKihcL1wqKS87CiAgICB0aGlzLmZvbGRpbmdTdG9wTWFya2VyID0gL15bXlxbXHtcKF0qKFtcfVxdXCldKXxeW1xzXCpdKihcKlwvKS87CiAgICB0aGlzLnNpbmdsZUxpbmVCbG9ja0NvbW1lbnRSZSA9IC9eXHMqKFwvXCopLipcKlwvXHMqJC87CiAgICB0aGlzLnRyaXBsZVN0YXJCbG9ja0NvbW1lbnRSZSA9IC9eXHMqKFwvXCpcKlwqKS4qXCpcL1xzKiQvOwogICAgdGhpcy5zdGFydFJlZ2lvblJlID0gL15ccyooXC9cKnxcL1wvKSM/cmVnaW9uXGIvOwogICAgdGhpcy5fZ2V0Rm9sZFdpZGdldEJhc2UgPSB0aGlzLmdldEZvbGRXaWRnZXQ7CiAgICB0aGlzLmdldEZvbGRXaWRnZXQgPSBmdW5jdGlvbiAoc2Vzc2lvbiwgZm9sZFN0eWxlLCByb3cpIHsKICAgICAgICB2YXIgbGluZSA9IHNlc3Npb24uZ2V0TGluZShyb3cpOwogICAgICAgIGlmICh0aGlzLnNpbmdsZUxpbmVCbG9ja0NvbW1lbnRSZS50ZXN0KGxpbmUpKSB7CiAgICAgICAgICAgIGlmICghdGhpcy5zdGFydFJlZ2lvblJlLnRlc3QobGluZSkgJiYgIXRoaXMudHJpcGxlU3RhckJsb2NrQ29tbWVudFJlLnRlc3QobGluZSkpCiAgICAgICAgICAgICAgICByZXR1cm4gIiI7CiAgICAgICAgfQogICAgICAgIHZhciBmdyA9IHRoaXMuX2dldEZvbGRXaWRnZXRCYXNlKHNlc3Npb24sIGZvbGRTdHlsZSwgcm93KTsKICAgICAgICBpZiAoIWZ3ICYmIHRoaXMuc3RhcnRSZWdpb25SZS50ZXN0KGxpbmUpKQogICAgICAgICAgICByZXR1cm4gInN0YXJ0IjsgLy8gbGluZUNvbW1lbnRSZWdpb25TdGFydAogICAgICAgIHJldHVybiBmdzsKICAgIH07CiAgICB0aGlzLmdldEZvbGRXaWRnZXRSYW5nZSA9IGZ1bmN0aW9uIChzZXNzaW9uLCBmb2xkU3R5bGUsIHJvdywgZm9yY2VNdWx0aWxpbmUpIHsKICAgICAgICB2YXIgbGluZSA9IHNlc3Npb24uZ2V0TGluZShyb3cpOwogICAgICAgIGlmICh0aGlzLnN0YXJ0UmVnaW9uUmUudGVzdChsaW5lKSkKICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q29tbWVudFJlZ2lvbkJsb2NrKHNlc3Npb24sIGxpbmUsIHJvdyk7CiAgICAgICAgdmFyIG1hdGNoID0gbGluZS5tYXRjaCh0aGlzLmZvbGRpbmdTdGFydE1hcmtlcik7CiAgICAgICAgaWYgKG1hdGNoKSB7CiAgICAgICAgICAgIHZhciBpID0gbWF0Y2guaW5kZXg7CiAgICAgICAgICAgIGlmIChtYXRjaFsxXSkKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm9wZW5pbmdCcmFja2V0QmxvY2soc2Vzc2lvbiwgbWF0Y2hbMV0sIHJvdywgaSk7CiAgICAgICAgICAgIHZhciByYW5nZSA9IHNlc3Npb24uZ2V0Q29tbWVudEZvbGRSYW5nZShyb3csIGkgKyBtYXRjaFswXS5sZW5ndGgsIDEpOwogICAgICAgICAgICBpZiAocmFuZ2UgJiYgIXJhbmdlLmlzTXVsdGlMaW5lKCkpIHsKICAgICAgICAgICAgICAgIGlmIChmb3JjZU11bHRpbGluZSkgewogICAgICAgICAgICAgICAgICAgIHJhbmdlID0gdGhpcy5nZXRTZWN0aW9uUmFuZ2Uoc2Vzc2lvbiwgcm93KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgaWYgKGZvbGRTdHlsZSAhPSAiYWxsIikKICAgICAgICAgICAgICAgICAgICByYW5nZSA9IG51bGw7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHJhbmdlOwogICAgICAgIH0KICAgICAgICBpZiAoZm9sZFN0eWxlID09PSAibWFya2JlZ2luIikKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIHZhciBtYXRjaCA9IGxpbmUubWF0Y2godGhpcy5mb2xkaW5nU3RvcE1hcmtlcik7CiAgICAgICAgaWYgKG1hdGNoKSB7CiAgICAgICAgICAgIHZhciBpID0gbWF0Y2guaW5kZXggKyBtYXRjaFswXS5sZW5ndGg7CiAgICAgICAgICAgIGlmIChtYXRjaFsxXSkKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNsb3NpbmdCcmFja2V0QmxvY2soc2Vzc2lvbiwgbWF0Y2hbMV0sIHJvdywgaSk7CiAgICAgICAgICAgIHJldHVybiBzZXNzaW9uLmdldENvbW1lbnRGb2xkUmFuZ2Uocm93LCBpLCAtMSk7CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMuZ2V0U2VjdGlvblJhbmdlID0gZnVuY3Rpb24gKHNlc3Npb24sIHJvdykgewogICAgICAgIHZhciBsaW5lID0gc2Vzc2lvbi5nZXRMaW5lKHJvdyk7CiAgICAgICAgdmFyIHN0YXJ0SW5kZW50ID0gbGluZS5zZWFyY2goL1xTLyk7CiAgICAgICAgdmFyIHN0YXJ0Um93ID0gcm93OwogICAgICAgIHZhciBzdGFydENvbHVtbiA9IGxpbmUubGVuZ3RoOwogICAgICAgIHJvdyA9IHJvdyArIDE7CiAgICAgICAgdmFyIGVuZFJvdyA9IHJvdzsKICAgICAgICB2YXIgbWF4Um93ID0gc2Vzc2lvbi5nZXRMZW5ndGgoKTsKICAgICAgICB3aGlsZSAoKytyb3cgPCBtYXhSb3cpIHsKICAgICAgICAgICAgbGluZSA9IHNlc3Npb24uZ2V0TGluZShyb3cpOwogICAgICAgICAgICB2YXIgaW5kZW50ID0gbGluZS5zZWFyY2goL1xTLyk7CiAgICAgICAgICAgIGlmIChpbmRlbnQgPT09IC0xKQogICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgIGlmIChzdGFydEluZGVudCA+IGluZGVudCkKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB2YXIgc3ViUmFuZ2UgPSB0aGlzLmdldEZvbGRXaWRnZXRSYW5nZShzZXNzaW9uLCAiYWxsIiwgcm93KTsKICAgICAgICAgICAgaWYgKHN1YlJhbmdlKSB7CiAgICAgICAgICAgICAgICBpZiAoc3ViUmFuZ2Uuc3RhcnQucm93IDw9IHN0YXJ0Um93KSB7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIGlmIChzdWJSYW5nZS5pc011bHRpTGluZSgpKSB7CiAgICAgICAgICAgICAgICAgICAgcm93ID0gc3ViUmFuZ2UuZW5kLnJvdzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgaWYgKHN0YXJ0SW5kZW50ID09IGluZGVudCkgewogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVuZFJvdyA9IHJvdzsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIG5ldyBSYW5nZShzdGFydFJvdywgc3RhcnRDb2x1bW4sIGVuZFJvdywgc2Vzc2lvbi5nZXRMaW5lKGVuZFJvdykubGVuZ3RoKTsKICAgIH07CiAgICB0aGlzLmdldENvbW1lbnRSZWdpb25CbG9jayA9IGZ1bmN0aW9uIChzZXNzaW9uLCBsaW5lLCByb3cpIHsKICAgICAgICB2YXIgc3RhcnRDb2x1bW4gPSBsaW5lLnNlYXJjaCgvXHMqJC8pOwogICAgICAgIHZhciBtYXhSb3cgPSBzZXNzaW9uLmdldExlbmd0aCgpOwogICAgICAgIHZhciBzdGFydFJvdyA9IHJvdzsKICAgICAgICB2YXIgcmUgPSAvXlxzKig/OlwvXCp8XC9cL3wtLSkjPyhlbmQpP3JlZ2lvblxiLzsKICAgICAgICB2YXIgZGVwdGggPSAxOwogICAgICAgIHdoaWxlICgrK3JvdyA8IG1heFJvdykgewogICAgICAgICAgICBsaW5lID0gc2Vzc2lvbi5nZXRMaW5lKHJvdyk7CiAgICAgICAgICAgIHZhciBtID0gcmUuZXhlYyhsaW5lKTsKICAgICAgICAgICAgaWYgKCFtKQogICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgIGlmIChtWzFdKQogICAgICAgICAgICAgICAgZGVwdGgtLTsKICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgZGVwdGgrKzsKICAgICAgICAgICAgaWYgKCFkZXB0aCkKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgICB2YXIgZW5kUm93ID0gcm93OwogICAgICAgIGlmIChlbmRSb3cgPiBzdGFydFJvdykgewogICAgICAgICAgICByZXR1cm4gbmV3IFJhbmdlKHN0YXJ0Um93LCBzdGFydENvbHVtbiwgZW5kUm93LCBsaW5lLmxlbmd0aCk7CiAgICAgICAgfQogICAgfTsKfSkuY2FsbChGb2xkTW9kZS5wcm90b3R5cGUpOwoKfSk7CgphY2UuZGVmaW5lKCJhY2UvbW9kZS9qc29uIixbInJlcXVpcmUiLCJleHBvcnRzIiwibW9kdWxlIiwiYWNlL2xpYi9vb3AiLCJhY2UvbW9kZS90ZXh0IiwiYWNlL21vZGUvanNvbl9oaWdobGlnaHRfcnVsZXMiLCJhY2UvbW9kZS9tYXRjaGluZ19icmFjZV9vdXRkZW50IiwiYWNlL21vZGUvYmVoYXZpb3VyL2NzdHlsZSIsImFjZS9tb2RlL2ZvbGRpbmcvY3N0eWxlIiwiYWNlL3dvcmtlci93b3JrZXJfY2xpZW50Il0sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSl7InVzZSBzdHJpY3QiOwp2YXIgb29wID0gcmVxdWlyZSgiLi4vbGliL29vcCIpOwp2YXIgVGV4dE1vZGUgPSByZXF1aXJlKCIuL3RleHQiKS5Nb2RlOwp2YXIgSGlnaGxpZ2h0UnVsZXMgPSByZXF1aXJlKCIuL2pzb25faGlnaGxpZ2h0X3J1bGVzIikuSnNvbkhpZ2hsaWdodFJ1bGVzOwp2YXIgTWF0Y2hpbmdCcmFjZU91dGRlbnQgPSByZXF1aXJlKCIuL21hdGNoaW5nX2JyYWNlX291dGRlbnQiKS5NYXRjaGluZ0JyYWNlT3V0ZGVudDsKdmFyIENzdHlsZUJlaGF2aW91ciA9IHJlcXVpcmUoIi4vYmVoYXZpb3VyL2NzdHlsZSIpLkNzdHlsZUJlaGF2aW91cjsKdmFyIENTdHlsZUZvbGRNb2RlID0gcmVxdWlyZSgiLi9mb2xkaW5nL2NzdHlsZSIpLkZvbGRNb2RlOwp2YXIgV29ya2VyQ2xpZW50ID0gcmVxdWlyZSgiLi4vd29ya2VyL3dvcmtlcl9jbGllbnQiKS5Xb3JrZXJDbGllbnQ7CnZhciBNb2RlID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy5IaWdobGlnaHRSdWxlcyA9IEhpZ2hsaWdodFJ1bGVzOwogICAgdGhpcy4kb3V0ZGVudCA9IG5ldyBNYXRjaGluZ0JyYWNlT3V0ZGVudCgpOwogICAgdGhpcy4kYmVoYXZpb3VyID0gbmV3IENzdHlsZUJlaGF2aW91cigpOwogICAgdGhpcy5mb2xkaW5nUnVsZXMgPSBuZXcgQ1N0eWxlRm9sZE1vZGUoKTsKfTsKb29wLmluaGVyaXRzKE1vZGUsIFRleHRNb2RlKTsKKGZ1bmN0aW9uICgpIHsKICAgIHRoaXMubGluZUNvbW1lbnRTdGFydCA9ICIvLyI7CiAgICB0aGlzLmJsb2NrQ29tbWVudCA9IHsgc3RhcnQ6ICIvKiIsIGVuZDogIiovIiB9OwogICAgdGhpcy5nZXROZXh0TGluZUluZGVudCA9IGZ1bmN0aW9uIChzdGF0ZSwgbGluZSwgdGFiKSB7CiAgICAgICAgdmFyIGluZGVudCA9IHRoaXMuJGdldEluZGVudChsaW5lKTsKICAgICAgICBpZiAoc3RhdGUgPT0gInN0YXJ0IikgewogICAgICAgICAgICB2YXIgbWF0Y2ggPSBsaW5lLm1hdGNoKC9eLipbXHtcKFxbXVxzKiQvKTsKICAgICAgICAgICAgaWYgKG1hdGNoKSB7CiAgICAgICAgICAgICAgICBpbmRlbnQgKz0gdGFiOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBpbmRlbnQ7CiAgICB9OwogICAgdGhpcy5jaGVja091dGRlbnQgPSBmdW5jdGlvbiAoc3RhdGUsIGxpbmUsIGlucHV0KSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJG91dGRlbnQuY2hlY2tPdXRkZW50KGxpbmUsIGlucHV0KTsKICAgIH07CiAgICB0aGlzLmF1dG9PdXRkZW50ID0gZnVuY3Rpb24gKHN0YXRlLCBkb2MsIHJvdykgewogICAgICAgIHRoaXMuJG91dGRlbnQuYXV0b091dGRlbnQoZG9jLCByb3cpOwogICAgfTsKICAgIHRoaXMuY3JlYXRlV29ya2VyID0gZnVuY3Rpb24gKHNlc3Npb24pIHsKICAgICAgICB2YXIgd29ya2VyID0gbmV3IFdvcmtlckNsaWVudChbImFjZSJdLCAiYWNlL21vZGUvanNvbl93b3JrZXIiLCAiSnNvbldvcmtlciIpOwogICAgICAgIHdvcmtlci5hdHRhY2hUb0RvY3VtZW50KHNlc3Npb24uZ2V0RG9jdW1lbnQoKSk7CiAgICAgICAgd29ya2VyLm9uKCJhbm5vdGF0ZSIsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIHNlc3Npb24uc2V0QW5ub3RhdGlvbnMoZS5kYXRhKTsKICAgICAgICB9KTsKICAgICAgICB3b3JrZXIub24oInRlcm1pbmF0ZSIsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgc2Vzc2lvbi5jbGVhckFubm90YXRpb25zKCk7CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIHdvcmtlcjsKICAgIH07CiAgICB0aGlzLiRpZCA9ICJhY2UvbW9kZS9qc29uIjsKfSkuY2FsbChNb2RlLnByb3RvdHlwZSk7CmV4cG9ydHMuTW9kZSA9IE1vZGU7Cgp9KTsgICAgICAgICAgICAgICAgKGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgIGFjZS5yZXF1aXJlKFsiYWNlL21vZGUvanNvbiJdLCBmdW5jdGlvbihtKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbW9kdWxlID09ICJvYmplY3QiICYmIHR5cGVvZiBleHBvcnRzID09ICJvYmplY3QiICYmIG1vZHVsZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBtOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KSgpOwogICAgICAgICAgICA=", workerJsonUrl = "data:application/javascript;base64,Im5vIHVzZSBzdHJpY3QiOwohKGZ1bmN0aW9uKHdpbmRvdykgewppZiAodHlwZW9mIHdpbmRvdy53aW5kb3cgIT0gInVuZGVmaW5lZCIgJiYgd2luZG93LmRvY3VtZW50KQogICAgcmV0dXJuOwppZiAod2luZG93LnJlcXVpcmUgJiYgd2luZG93LmRlZmluZSkKICAgIHJldHVybjsKCmlmICghd2luZG93LmNvbnNvbGUpIHsKICAgIHdpbmRvdy5jb25zb2xlID0gZnVuY3Rpb24oKSB7CiAgICAgICAgdmFyIG1zZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDApOwogICAgICAgIHBvc3RNZXNzYWdlKHt0eXBlOiAibG9nIiwgZGF0YTogbXNnc30pOwogICAgfTsKICAgIHdpbmRvdy5jb25zb2xlLmVycm9yID0KICAgIHdpbmRvdy5jb25zb2xlLndhcm4gPSAKICAgIHdpbmRvdy5jb25zb2xlLmxvZyA9CiAgICB3aW5kb3cuY29uc29sZS50cmFjZSA9IHdpbmRvdy5jb25zb2xlOwp9CndpbmRvdy53aW5kb3cgPSB3aW5kb3c7CndpbmRvdy5hY2UgPSB3aW5kb3c7Cgp3aW5kb3cub25lcnJvciA9IGZ1bmN0aW9uKG1lc3NhZ2UsIGZpbGUsIGxpbmUsIGNvbCwgZXJyKSB7CiAgICBwb3N0TWVzc2FnZSh7dHlwZTogImVycm9yIiwgZGF0YTogewogICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsCiAgICAgICAgZGF0YTogZXJyICYmIGVyci5kYXRhLAogICAgICAgIGZpbGU6IGZpbGUsCiAgICAgICAgbGluZTogbGluZSwgCiAgICAgICAgY29sOiBjb2wsCiAgICAgICAgc3RhY2s6IGVyciAmJiBlcnIuc3RhY2sKICAgIH19KTsKfTsKCndpbmRvdy5ub3JtYWxpemVNb2R1bGUgPSBmdW5jdGlvbihwYXJlbnRJZCwgbW9kdWxlTmFtZSkgewogICAgLy8gbm9ybWFsaXplIHBsdWdpbiByZXF1aXJlcwogICAgaWYgKG1vZHVsZU5hbWUuaW5kZXhPZigiISIpICE9PSAtMSkgewogICAgICAgIHZhciBjaHVua3MgPSBtb2R1bGVOYW1lLnNwbGl0KCIhIik7CiAgICAgICAgcmV0dXJuIHdpbmRvdy5ub3JtYWxpemVNb2R1bGUocGFyZW50SWQsIGNodW5rc1swXSkgKyAiISIgKyB3aW5kb3cubm9ybWFsaXplTW9kdWxlKHBhcmVudElkLCBjaHVua3NbMV0pOwogICAgfQogICAgLy8gbm9ybWFsaXplIHJlbGF0aXZlIHJlcXVpcmVzCiAgICBpZiAobW9kdWxlTmFtZS5jaGFyQXQoMCkgPT0gIi4iKSB7CiAgICAgICAgdmFyIGJhc2UgPSBwYXJlbnRJZC5zcGxpdCgiLyIpLnNsaWNlKDAsIC0xKS5qb2luKCIvIik7CiAgICAgICAgbW9kdWxlTmFtZSA9IChiYXNlID8gYmFzZSArICIvIiA6ICIiKSArIG1vZHVsZU5hbWU7CiAgICAgICAgCiAgICAgICAgd2hpbGUgKG1vZHVsZU5hbWUuaW5kZXhPZigiLiIpICE9PSAtMSAmJiBwcmV2aW91cyAhPSBtb2R1bGVOYW1lKSB7CiAgICAgICAgICAgIHZhciBwcmV2aW91cyA9IG1vZHVsZU5hbWU7CiAgICAgICAgICAgIG1vZHVsZU5hbWUgPSBtb2R1bGVOYW1lLnJlcGxhY2UoL15cLlwvLywgIiIpLnJlcGxhY2UoL1wvXC5cLy8sICIvIikucmVwbGFjZSgvW15cL10rXC9cLlwuXC8vLCAiIik7CiAgICAgICAgfQogICAgfQogICAgCiAgICByZXR1cm4gbW9kdWxlTmFtZTsKfTsKCndpbmRvdy5yZXF1aXJlID0gZnVuY3Rpb24gcmVxdWlyZShwYXJlbnRJZCwgaWQpIHsKICAgIGlmICghaWQpIHsKICAgICAgICBpZCA9IHBhcmVudElkOwogICAgICAgIHBhcmVudElkID0gbnVsbDsKICAgIH0KICAgIGlmICghaWQuY2hhckF0KQogICAgICAgIHRocm93IG5ldyBFcnJvcigid29ya2VyLmpzIHJlcXVpcmUoKSBhY2NlcHRzIG9ubHkgKHBhcmVudElkLCBpZCkgYXMgYXJndW1lbnRzIik7CgogICAgaWQgPSB3aW5kb3cubm9ybWFsaXplTW9kdWxlKHBhcmVudElkLCBpZCk7CgogICAgdmFyIG1vZHVsZSA9IHdpbmRvdy5yZXF1aXJlLm1vZHVsZXNbaWRdOwogICAgaWYgKG1vZHVsZSkgewogICAgICAgIGlmICghbW9kdWxlLmluaXRpYWxpemVkKSB7CiAgICAgICAgICAgIG1vZHVsZS5pbml0aWFsaXplZCA9IHRydWU7CiAgICAgICAgICAgIG1vZHVsZS5leHBvcnRzID0gbW9kdWxlLmZhY3RvcnkoKS5leHBvcnRzOwogICAgICAgIH0KICAgICAgICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7CiAgICB9CiAgIAogICAgaWYgKCF3aW5kb3cucmVxdWlyZS50bG5zKQogICAgICAgIHJldHVybiBjb25zb2xlLmxvZygidW5hYmxlIHRvIGxvYWQgIiArIGlkKTsKICAgIAogICAgdmFyIHBhdGggPSByZXNvbHZlTW9kdWxlSWQoaWQsIHdpbmRvdy5yZXF1aXJlLnRsbnMpOwogICAgaWYgKHBhdGguc2xpY2UoLTMpICE9ICIuanMiKSBwYXRoICs9ICIuanMiOwogICAgCiAgICB3aW5kb3cucmVxdWlyZS5pZCA9IGlkOwogICAgd2luZG93LnJlcXVpcmUubW9kdWxlc1tpZF0gPSB7fTsgLy8gcHJldmVudCBpbmZpbml0ZSBsb29wIG9uIGJyb2tlbiBtb2R1bGVzCiAgICBpbXBvcnRTY3JpcHRzKHBhdGgpOwogICAgcmV0dXJuIHdpbmRvdy5yZXF1aXJlKHBhcmVudElkLCBpZCk7Cn07CmZ1bmN0aW9uIHJlc29sdmVNb2R1bGVJZChpZCwgcGF0aHMpIHsKICAgIHZhciB0ZXN0UGF0aCA9IGlkLCB0YWlsID0gIiI7CiAgICB3aGlsZSAodGVzdFBhdGgpIHsKICAgICAgICB2YXIgYWxpYXMgPSBwYXRoc1t0ZXN0UGF0aF07CiAgICAgICAgaWYgKHR5cGVvZiBhbGlhcyA9PSAic3RyaW5nIikgewogICAgICAgICAgICByZXR1cm4gYWxpYXMgKyB0YWlsOwogICAgICAgIH0gZWxzZSBpZiAoYWxpYXMpIHsKICAgICAgICAgICAgcmV0dXJuICBhbGlhcy5sb2NhdGlvbi5yZXBsYWNlKC9cLyokLywgIi8iKSArICh0YWlsIHx8IGFsaWFzLm1haW4gfHwgYWxpYXMubmFtZSk7CiAgICAgICAgfSBlbHNlIGlmIChhbGlhcyA9PT0gZmFsc2UpIHsKICAgICAgICAgICAgcmV0dXJuICIiOwogICAgICAgIH0KICAgICAgICB2YXIgaSA9IHRlc3RQYXRoLmxhc3RJbmRleE9mKCIvIik7CiAgICAgICAgaWYgKGkgPT09IC0xKSBicmVhazsKICAgICAgICB0YWlsID0gdGVzdFBhdGguc3Vic3RyKGkpICsgdGFpbDsKICAgICAgICB0ZXN0UGF0aCA9IHRlc3RQYXRoLnNsaWNlKDAsIGkpOwogICAgfQogICAgcmV0dXJuIGlkOwp9CndpbmRvdy5yZXF1aXJlLm1vZHVsZXMgPSB7fTsKd2luZG93LnJlcXVpcmUudGxucyA9IHt9OwoKd2luZG93LmRlZmluZSA9IGZ1bmN0aW9uKGlkLCBkZXBzLCBmYWN0b3J5KSB7CiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PSAyKSB7CiAgICAgICAgZmFjdG9yeSA9IGRlcHM7CiAgICAgICAgaWYgKHR5cGVvZiBpZCAhPSAic3RyaW5nIikgewogICAgICAgICAgICBkZXBzID0gaWQ7CiAgICAgICAgICAgIGlkID0gd2luZG93LnJlcXVpcmUuaWQ7CiAgICAgICAgfQogICAgfSBlbHNlIGlmIChhcmd1bWVudHMubGVuZ3RoID09IDEpIHsKICAgICAgICBmYWN0b3J5ID0gaWQ7CiAgICAgICAgZGVwcyA9IFtdOwogICAgICAgIGlkID0gd2luZG93LnJlcXVpcmUuaWQ7CiAgICB9CiAgICAKICAgIGlmICh0eXBlb2YgZmFjdG9yeSAhPSAiZnVuY3Rpb24iKSB7CiAgICAgICAgd2luZG93LnJlcXVpcmUubW9kdWxlc1tpZF0gPSB7CiAgICAgICAgICAgIGV4cG9ydHM6IGZhY3RvcnksCiAgICAgICAgICAgIGluaXRpYWxpemVkOiB0cnVlCiAgICAgICAgfTsKICAgICAgICByZXR1cm47CiAgICB9CgogICAgaWYgKCFkZXBzLmxlbmd0aCkKICAgICAgICAvLyBJZiB0aGVyZSBpcyBubyBkZXBlbmRlbmNpZXMsIHdlIGluamVjdCAicmVxdWlyZSIsICJleHBvcnRzIiBhbmQKICAgICAgICAvLyAibW9kdWxlIiBhcyBkZXBlbmRlbmNpZXMsIHRvIHByb3ZpZGUgQ29tbW9uSlMgY29tcGF0aWJpbGl0eS4KICAgICAgICBkZXBzID0gWyJyZXF1aXJlIiwgImV4cG9ydHMiLCAibW9kdWxlIl07CgogICAgdmFyIHJlcSA9IGZ1bmN0aW9uKGNoaWxkSWQpIHsKICAgICAgICByZXR1cm4gd2luZG93LnJlcXVpcmUoaWQsIGNoaWxkSWQpOwogICAgfTsKCiAgICB3aW5kb3cucmVxdWlyZS5tb2R1bGVzW2lkXSA9IHsKICAgICAgICBleHBvcnRzOiB7fSwKICAgICAgICBmYWN0b3J5OiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgdmFyIG1vZHVsZSA9IHRoaXM7CiAgICAgICAgICAgIHZhciByZXR1cm5FeHBvcnRzID0gZmFjdG9yeS5hcHBseSh0aGlzLCBkZXBzLnNsaWNlKDAsIGZhY3RvcnkubGVuZ3RoKS5tYXAoZnVuY3Rpb24oZGVwKSB7CiAgICAgICAgICAgICAgICBzd2l0Y2ggKGRlcCkgewogICAgICAgICAgICAgICAgICAgIC8vIEJlY2F1c2UgInJlcXVpcmUiLCAiZXhwb3J0cyIgYW5kICJtb2R1bGUiIGFyZW4ndCBhY3R1YWwKICAgICAgICAgICAgICAgICAgICAvLyBkZXBlbmRlbmNpZXMsIHdlIG11c3QgaGFuZGxlIHRoZW0gc2VwZXJhdGVseS4KICAgICAgICAgICAgICAgICAgICBjYXNlICJyZXF1aXJlIjogcmV0dXJuIHJlcTsKICAgICAgICAgICAgICAgICAgICBjYXNlICJleHBvcnRzIjogcmV0dXJuIG1vZHVsZS5leHBvcnRzOwogICAgICAgICAgICAgICAgICAgIGNhc2UgIm1vZHVsZSI6ICByZXR1cm4gbW9kdWxlOwogICAgICAgICAgICAgICAgICAgIC8vIEJ1dCBmb3IgYWxsIG90aGVyIGRlcGVuZGVuY2llcywgd2UgY2FuIGp1c3QgZ28gYWhlYWQgYW5kCiAgICAgICAgICAgICAgICAgICAgLy8gcmVxdWlyZSB0aGVtLgogICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6ICAgICAgICByZXR1cm4gcmVxKGRlcCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pKTsKICAgICAgICAgICAgaWYgKHJldHVybkV4cG9ydHMpCiAgICAgICAgICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IHJldHVybkV4cG9ydHM7CiAgICAgICAgICAgIHJldHVybiBtb2R1bGU7CiAgICAgICAgfQogICAgfTsKfTsKd2luZG93LmRlZmluZS5hbWQgPSB7fTsKd2luZG93LnJlcXVpcmUudGxucyA9IHt9Owp3aW5kb3cuaW5pdEJhc2VVcmxzICA9IGZ1bmN0aW9uIGluaXRCYXNlVXJscyh0b3BMZXZlbE5hbWVzcGFjZXMpIHsKICAgIGZvciAodmFyIGkgaW4gdG9wTGV2ZWxOYW1lc3BhY2VzKQogICAgICAgIHRoaXMucmVxdWlyZS50bG5zW2ldID0gdG9wTGV2ZWxOYW1lc3BhY2VzW2ldOwp9OwoKd2luZG93LmluaXRTZW5kZXIgPSBmdW5jdGlvbiBpbml0U2VuZGVyKCkgewoKICAgIHZhciBFdmVudEVtaXR0ZXIgPSB3aW5kb3cucmVxdWlyZSgiYWNlL2xpYi9ldmVudF9lbWl0dGVyIikuRXZlbnRFbWl0dGVyOwogICAgdmFyIG9vcCA9IHdpbmRvdy5yZXF1aXJlKCJhY2UvbGliL29vcCIpOwogICAgCiAgICB2YXIgU2VuZGVyID0gZnVuY3Rpb24oKSB7fTsKICAgIAogICAgKGZ1bmN0aW9uKCkgewogICAgICAgIAogICAgICAgIG9vcC5pbXBsZW1lbnQodGhpcywgRXZlbnRFbWl0dGVyKTsKICAgICAgICAgICAgICAgIAogICAgICAgIHRoaXMuY2FsbGJhY2sgPSBmdW5jdGlvbihkYXRhLCBjYWxsYmFja0lkKSB7CiAgICAgICAgICAgIHBvc3RNZXNzYWdlKHsKICAgICAgICAgICAgICAgIHR5cGU6ICJjYWxsIiwKICAgICAgICAgICAgICAgIGlkOiBjYWxsYmFja0lkLAogICAgICAgICAgICAgICAgZGF0YTogZGF0YQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgCiAgICAgICAgdGhpcy5lbWl0ID0gZnVuY3Rpb24obmFtZSwgZGF0YSkgewogICAgICAgICAgICBwb3N0TWVzc2FnZSh7CiAgICAgICAgICAgICAgICB0eXBlOiAiZXZlbnQiLAogICAgICAgICAgICAgICAgbmFtZTogbmFtZSwKICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEKICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICAKICAgIH0pLmNhbGwoU2VuZGVyLnByb3RvdHlwZSk7CiAgICAKICAgIHJldHVybiBuZXcgU2VuZGVyKCk7Cn07Cgp2YXIgbWFpbiA9IHdpbmRvdy5tYWluID0gbnVsbDsKdmFyIHNlbmRlciA9IHdpbmRvdy5zZW5kZXIgPSBudWxsOwoKd2luZG93Lm9ubWVzc2FnZSA9IGZ1bmN0aW9uKGUpIHsKICAgIHZhciBtc2cgPSBlLmRhdGE7CiAgICBpZiAobXNnLmV2ZW50ICYmIHNlbmRlcikgewogICAgICAgIHNlbmRlci5fc2lnbmFsKG1zZy5ldmVudCwgbXNnLmRhdGEpOwogICAgfQogICAgZWxzZSBpZiAobXNnLmNvbW1hbmQpIHsKICAgICAgICBpZiAobWFpblttc2cuY29tbWFuZF0pCiAgICAgICAgICAgIG1haW5bbXNnLmNvbW1hbmRdLmFwcGx5KG1haW4sIG1zZy5hcmdzKTsKICAgICAgICBlbHNlIGlmICh3aW5kb3dbbXNnLmNvbW1hbmRdKQogICAgICAgICAgICB3aW5kb3dbbXNnLmNvbW1hbmRdLmFwcGx5KHdpbmRvdywgbXNnLmFyZ3MpOwogICAgICAgIGVsc2UKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJVbmtub3duIGNvbW1hbmQ6IiArIG1zZy5jb21tYW5kKTsKICAgIH0KICAgIGVsc2UgaWYgKG1zZy5pbml0KSB7CiAgICAgICAgd2luZG93LmluaXRCYXNlVXJscyhtc2cudGxucyk7CiAgICAgICAgc2VuZGVyID0gd2luZG93LnNlbmRlciA9IHdpbmRvdy5pbml0U2VuZGVyKCk7CiAgICAgICAgdmFyIGNsYXp6ID0gdGhpcy5yZXF1aXJlKG1zZy5tb2R1bGUpW21zZy5jbGFzc25hbWVdOwogICAgICAgIG1haW4gPSB3aW5kb3cubWFpbiA9IG5ldyBjbGF6eihzZW5kZXIpOwogICAgfQp9Owp9KSh0aGlzKTsKCmFjZS5kZWZpbmUoImFjZS9saWIvb29wIixbXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKXsidXNlIHN0cmljdCI7CmV4cG9ydHMuaW5oZXJpdHMgPSBmdW5jdGlvbiAoY3Rvciwgc3VwZXJDdG9yKSB7CiAgICBjdG9yLnN1cGVyXyA9IHN1cGVyQ3RvcjsKICAgIGN0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckN0b3IucHJvdG90eXBlLCB7CiAgICAgICAgY29uc3RydWN0b3I6IHsKICAgICAgICAgICAgdmFsdWU6IGN0b3IsCiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLAogICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSwKICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlCiAgICAgICAgfQogICAgfSk7Cn07CmV4cG9ydHMubWl4aW4gPSBmdW5jdGlvbiAob2JqLCBtaXhpbikgewogICAgZm9yICh2YXIga2V5IGluIG1peGluKSB7CiAgICAgICAgb2JqW2tleV0gPSBtaXhpbltrZXldOwogICAgfQogICAgcmV0dXJuIG9iajsKfTsKZXhwb3J0cy5pbXBsZW1lbnQgPSBmdW5jdGlvbiAocHJvdG8sIG1peGluKSB7CiAgICBleHBvcnRzLm1peGluKHByb3RvLCBtaXhpbik7Cn07Cgp9KTsKCmFjZS5kZWZpbmUoImFjZS9hcHBseV9kZWx0YSIsW10sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSl7InVzZSBzdHJpY3QiOwpmdW5jdGlvbiB0aHJvd0RlbHRhRXJyb3IoZGVsdGEsIGVycm9yVGV4dCkgewogICAgY29uc29sZS5sb2coIkludmFsaWQgRGVsdGE6IiwgZGVsdGEpOwogICAgdGhyb3cgIkludmFsaWQgRGVsdGE6ICIgKyBlcnJvclRleHQ7Cn0KZnVuY3Rpb24gcG9zaXRpb25JbkRvY3VtZW50KGRvY0xpbmVzLCBwb3NpdGlvbikgewogICAgcmV0dXJuIHBvc2l0aW9uLnJvdyA+PSAwICYmIHBvc2l0aW9uLnJvdyA8IGRvY0xpbmVzLmxlbmd0aCAmJgogICAgICAgIHBvc2l0aW9uLmNvbHVtbiA+PSAwICYmIHBvc2l0aW9uLmNvbHVtbiA8PSBkb2NMaW5lc1twb3NpdGlvbi5yb3ddLmxlbmd0aDsKfQpmdW5jdGlvbiB2YWxpZGF0ZURlbHRhKGRvY0xpbmVzLCBkZWx0YSkgewogICAgaWYgKGRlbHRhLmFjdGlvbiAhPSAiaW5zZXJ0IiAmJiBkZWx0YS5hY3Rpb24gIT0gInJlbW92ZSIpCiAgICAgICAgdGhyb3dEZWx0YUVycm9yKGRlbHRhLCAiZGVsdGEuYWN0aW9uIG11c3QgYmUgJ2luc2VydCcgb3IgJ3JlbW92ZSciKTsKICAgIGlmICghKGRlbHRhLmxpbmVzIGluc3RhbmNlb2YgQXJyYXkpKQogICAgICAgIHRocm93RGVsdGFFcnJvcihkZWx0YSwgImRlbHRhLmxpbmVzIG11c3QgYmUgYW4gQXJyYXkiKTsKICAgIGlmICghZGVsdGEuc3RhcnQgfHwgIWRlbHRhLmVuZCkKICAgICAgICB0aHJvd0RlbHRhRXJyb3IoZGVsdGEsICJkZWx0YS5zdGFydC9lbmQgbXVzdCBiZSBhbiBwcmVzZW50Iik7CiAgICB2YXIgc3RhcnQgPSBkZWx0YS5zdGFydDsKICAgIGlmICghcG9zaXRpb25JbkRvY3VtZW50KGRvY0xpbmVzLCBkZWx0YS5zdGFydCkpCiAgICAgICAgdGhyb3dEZWx0YUVycm9yKGRlbHRhLCAiZGVsdGEuc3RhcnQgbXVzdCBiZSBjb250YWluZWQgaW4gZG9jdW1lbnQiKTsKICAgIHZhciBlbmQgPSBkZWx0YS5lbmQ7CiAgICBpZiAoZGVsdGEuYWN0aW9uID09ICJyZW1vdmUiICYmICFwb3NpdGlvbkluRG9jdW1lbnQoZG9jTGluZXMsIGVuZCkpCiAgICAgICAgdGhyb3dEZWx0YUVycm9yKGRlbHRhLCAiZGVsdGEuZW5kIG11c3QgY29udGFpbmVkIGluIGRvY3VtZW50IGZvciAncmVtb3ZlJyBhY3Rpb25zIik7CiAgICB2YXIgbnVtUmFuZ2VSb3dzID0gZW5kLnJvdyAtIHN0YXJ0LnJvdzsKICAgIHZhciBudW1SYW5nZUxhc3RMaW5lQ2hhcnMgPSAoZW5kLmNvbHVtbiAtIChudW1SYW5nZVJvd3MgPT0gMCA/IHN0YXJ0LmNvbHVtbiA6IDApKTsKICAgIGlmIChudW1SYW5nZVJvd3MgIT0gZGVsdGEubGluZXMubGVuZ3RoIC0gMSB8fCBkZWx0YS5saW5lc1tudW1SYW5nZVJvd3NdLmxlbmd0aCAhPSBudW1SYW5nZUxhc3RMaW5lQ2hhcnMpCiAgICAgICAgdGhyb3dEZWx0YUVycm9yKGRlbHRhLCAiZGVsdGEucmFuZ2UgbXVzdCBtYXRjaCBkZWx0YSBsaW5lcyIpOwp9CmV4cG9ydHMuYXBwbHlEZWx0YSA9IGZ1bmN0aW9uIChkb2NMaW5lcywgZGVsdGEsIGRvTm90VmFsaWRhdGUpIHsKICAgIHZhciByb3cgPSBkZWx0YS5zdGFydC5yb3c7CiAgICB2YXIgc3RhcnRDb2x1bW4gPSBkZWx0YS5zdGFydC5jb2x1bW47CiAgICB2YXIgbGluZSA9IGRvY0xpbmVzW3Jvd10gfHwgIiI7CiAgICBzd2l0Y2ggKGRlbHRhLmFjdGlvbikgewogICAgICAgIGNhc2UgImluc2VydCI6CiAgICAgICAgICAgIHZhciBsaW5lcyA9IGRlbHRhLmxpbmVzOwogICAgICAgICAgICBpZiAobGluZXMubGVuZ3RoID09PSAxKSB7CiAgICAgICAgICAgICAgICBkb2NMaW5lc1tyb3ddID0gbGluZS5zdWJzdHJpbmcoMCwgc3RhcnRDb2x1bW4pICsgZGVsdGEubGluZXNbMF0gKyBsaW5lLnN1YnN0cmluZyhzdGFydENvbHVtbik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICB2YXIgYXJncyA9IFtyb3csIDFdLmNvbmNhdChkZWx0YS5saW5lcyk7CiAgICAgICAgICAgICAgICBkb2NMaW5lcy5zcGxpY2UuYXBwbHkoZG9jTGluZXMsIGFyZ3MpOwogICAgICAgICAgICAgICAgZG9jTGluZXNbcm93XSA9IGxpbmUuc3Vic3RyaW5nKDAsIHN0YXJ0Q29sdW1uKSArIGRvY0xpbmVzW3Jvd107CiAgICAgICAgICAgICAgICBkb2NMaW5lc1tyb3cgKyBkZWx0YS5saW5lcy5sZW5ndGggLSAxXSArPSBsaW5lLnN1YnN0cmluZyhzdGFydENvbHVtbik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAicmVtb3ZlIjoKICAgICAgICAgICAgdmFyIGVuZENvbHVtbiA9IGRlbHRhLmVuZC5jb2x1bW47CiAgICAgICAgICAgIHZhciBlbmRSb3cgPSBkZWx0YS5lbmQucm93OwogICAgICAgICAgICBpZiAocm93ID09PSBlbmRSb3cpIHsKICAgICAgICAgICAgICAgIGRvY0xpbmVzW3Jvd10gPSBsaW5lLnN1YnN0cmluZygwLCBzdGFydENvbHVtbikgKyBsaW5lLnN1YnN0cmluZyhlbmRDb2x1bW4pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgZG9jTGluZXMuc3BsaWNlKHJvdywgZW5kUm93IC0gcm93ICsgMSwgbGluZS5zdWJzdHJpbmcoMCwgc3RhcnRDb2x1bW4pICsgZG9jTGluZXNbZW5kUm93XS5zdWJzdHJpbmcoZW5kQ29sdW1uKSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgYnJlYWs7CiAgICB9Cn07Cgp9KTsKCmFjZS5kZWZpbmUoImFjZS9saWIvZXZlbnRfZW1pdHRlciIsW10sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSl7InVzZSBzdHJpY3QiOwp2YXIgRXZlbnRFbWl0dGVyID0ge307CnZhciBzdG9wUHJvcGFnYXRpb24gPSBmdW5jdGlvbiAoKSB7IHRoaXMucHJvcGFnYXRpb25TdG9wcGVkID0gdHJ1ZTsgfTsKdmFyIHByZXZlbnREZWZhdWx0ID0gZnVuY3Rpb24gKCkgeyB0aGlzLmRlZmF1bHRQcmV2ZW50ZWQgPSB0cnVlOyB9OwpFdmVudEVtaXR0ZXIuX2VtaXQgPQogICAgRXZlbnRFbWl0dGVyLl9kaXNwYXRjaEV2ZW50ID0gZnVuY3Rpb24gKGV2ZW50TmFtZSwgZSkgewogICAgICAgIHRoaXMuX2V2ZW50UmVnaXN0cnkgfHwgKHRoaXMuX2V2ZW50UmVnaXN0cnkgPSB7fSk7CiAgICAgICAgdGhpcy5fZGVmYXVsdEhhbmRsZXJzIHx8ICh0aGlzLl9kZWZhdWx0SGFuZGxlcnMgPSB7fSk7CiAgICAgICAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50UmVnaXN0cnlbZXZlbnROYW1lXSB8fCBbXTsKICAgICAgICB2YXIgZGVmYXVsdEhhbmRsZXIgPSB0aGlzLl9kZWZhdWx0SGFuZGxlcnNbZXZlbnROYW1lXTsKICAgICAgICBpZiAoIWxpc3RlbmVycy5sZW5ndGggJiYgIWRlZmF1bHRIYW5kbGVyKQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgaWYgKHR5cGVvZiBlICE9ICJvYmplY3QiIHx8ICFlKQogICAgICAgICAgICBlID0ge307CiAgICAgICAgaWYgKCFlLnR5cGUpCiAgICAgICAgICAgIGUudHlwZSA9IGV2ZW50TmFtZTsKICAgICAgICBpZiAoIWUuc3RvcFByb3BhZ2F0aW9uKQogICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbiA9IHN0b3BQcm9wYWdhdGlvbjsKICAgICAgICBpZiAoIWUucHJldmVudERlZmF1bHQpCiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQgPSBwcmV2ZW50RGVmYXVsdDsKICAgICAgICBsaXN0ZW5lcnMgPSBsaXN0ZW5lcnMuc2xpY2UoKTsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBsaXN0ZW5lcnNbaV0oZSwgdGhpcyk7CiAgICAgICAgICAgIGlmIChlLnByb3BhZ2F0aW9uU3RvcHBlZCkKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgICBpZiAoZGVmYXVsdEhhbmRsZXIgJiYgIWUuZGVmYXVsdFByZXZlbnRlZCkKICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRIYW5kbGVyKGUsIHRoaXMpOwogICAgfTsKRXZlbnRFbWl0dGVyLl9zaWduYWwgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBlKSB7CiAgICB2YXIgbGlzdGVuZXJzID0gKHRoaXMuX2V2ZW50UmVnaXN0cnkgfHwge30pW2V2ZW50TmFtZV07CiAgICBpZiAoIWxpc3RlbmVycykKICAgICAgICByZXR1cm47CiAgICBsaXN0ZW5lcnMgPSBsaXN0ZW5lcnMuc2xpY2UoKTsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdGVuZXJzLmxlbmd0aDsgaSsrKQogICAgICAgIGxpc3RlbmVyc1tpXShlLCB0aGlzKTsKfTsKRXZlbnRFbWl0dGVyLm9uY2UgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBjYWxsYmFjaykgewogICAgdmFyIF9zZWxmID0gdGhpczsKICAgIHRoaXMub24oZXZlbnROYW1lLCBmdW5jdGlvbiBuZXdDYWxsYmFjaygpIHsKICAgICAgICBfc2VsZi5vZmYoZXZlbnROYW1lLCBuZXdDYWxsYmFjayk7CiAgICAgICAgY2FsbGJhY2suYXBwbHkobnVsbCwgYXJndW1lbnRzKTsKICAgIH0pOwogICAgaWYgKCFjYWxsYmFjaykgewogICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICBjYWxsYmFjayA9IHJlc29sdmU7CiAgICAgICAgfSk7CiAgICB9Cn07CkV2ZW50RW1pdHRlci5zZXREZWZhdWx0SGFuZGxlciA9IGZ1bmN0aW9uIChldmVudE5hbWUsIGNhbGxiYWNrKSB7CiAgICB2YXIgaGFuZGxlcnMgPSB0aGlzLl9kZWZhdWx0SGFuZGxlcnM7CiAgICBpZiAoIWhhbmRsZXJzKQogICAgICAgIGhhbmRsZXJzID0gdGhpcy5fZGVmYXVsdEhhbmRsZXJzID0geyBfZGlzYWJsZWRfOiB7fSB9OwogICAgaWYgKGhhbmRsZXJzW2V2ZW50TmFtZV0pIHsKICAgICAgICB2YXIgb2xkID0gaGFuZGxlcnNbZXZlbnROYW1lXTsKICAgICAgICB2YXIgZGlzYWJsZWQgPSBoYW5kbGVycy5fZGlzYWJsZWRfW2V2ZW50TmFtZV07CiAgICAgICAgaWYgKCFkaXNhYmxlZCkKICAgICAgICAgICAgaGFuZGxlcnMuX2Rpc2FibGVkX1tldmVudE5hbWVdID0gZGlzYWJsZWQgPSBbXTsKICAgICAgICBkaXNhYmxlZC5wdXNoKG9sZCk7CiAgICAgICAgdmFyIGkgPSBkaXNhYmxlZC5pbmRleE9mKGNhbGxiYWNrKTsKICAgICAgICBpZiAoaSAhPSAtMSkKICAgICAgICAgICAgZGlzYWJsZWQuc3BsaWNlKGksIDEpOwogICAgfQogICAgaGFuZGxlcnNbZXZlbnROYW1lXSA9IGNhbGxiYWNrOwp9OwpFdmVudEVtaXR0ZXIucmVtb3ZlRGVmYXVsdEhhbmRsZXIgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBjYWxsYmFjaykgewogICAgdmFyIGhhbmRsZXJzID0gdGhpcy5fZGVmYXVsdEhhbmRsZXJzOwogICAgaWYgKCFoYW5kbGVycykKICAgICAgICByZXR1cm47CiAgICB2YXIgZGlzYWJsZWQgPSBoYW5kbGVycy5fZGlzYWJsZWRfW2V2ZW50TmFtZV07CiAgICBpZiAoaGFuZGxlcnNbZXZlbnROYW1lXSA9PSBjYWxsYmFjaykgewogICAgICAgIGlmIChkaXNhYmxlZCkKICAgICAgICAgICAgdGhpcy5zZXREZWZhdWx0SGFuZGxlcihldmVudE5hbWUsIGRpc2FibGVkLnBvcCgpKTsKICAgIH0KICAgIGVsc2UgaWYgKGRpc2FibGVkKSB7CiAgICAgICAgdmFyIGkgPSBkaXNhYmxlZC5pbmRleE9mKGNhbGxiYWNrKTsKICAgICAgICBpZiAoaSAhPSAtMSkKICAgICAgICAgICAgZGlzYWJsZWQuc3BsaWNlKGksIDEpOwogICAgfQp9OwpFdmVudEVtaXR0ZXIub24gPQogICAgRXZlbnRFbWl0dGVyLmFkZEV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBjYWxsYmFjaywgY2FwdHVyaW5nKSB7CiAgICAgICAgdGhpcy5fZXZlbnRSZWdpc3RyeSA9IHRoaXMuX2V2ZW50UmVnaXN0cnkgfHwge307CiAgICAgICAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50UmVnaXN0cnlbZXZlbnROYW1lXTsKICAgICAgICBpZiAoIWxpc3RlbmVycykKICAgICAgICAgICAgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRSZWdpc3RyeVtldmVudE5hbWVdID0gW107CiAgICAgICAgaWYgKGxpc3RlbmVycy5pbmRleE9mKGNhbGxiYWNrKSA9PSAtMSkKICAgICAgICAgICAgbGlzdGVuZXJzW2NhcHR1cmluZyA/ICJ1bnNoaWZ0IiA6ICJwdXNoIl0oY2FsbGJhY2spOwogICAgICAgIHJldHVybiBjYWxsYmFjazsKICAgIH07CkV2ZW50RW1pdHRlci5vZmYgPQogICAgRXZlbnRFbWl0dGVyLnJlbW92ZUxpc3RlbmVyID0KICAgICAgICBFdmVudEVtaXR0ZXIucmVtb3ZlRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uIChldmVudE5hbWUsIGNhbGxiYWNrKSB7CiAgICAgICAgICAgIHRoaXMuX2V2ZW50UmVnaXN0cnkgPSB0aGlzLl9ldmVudFJlZ2lzdHJ5IHx8IHt9OwogICAgICAgICAgICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRSZWdpc3RyeVtldmVudE5hbWVdOwogICAgICAgICAgICBpZiAoIWxpc3RlbmVycykKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgdmFyIGluZGV4ID0gbGlzdGVuZXJzLmluZGV4T2YoY2FsbGJhY2spOwogICAgICAgICAgICBpZiAoaW5kZXggIT09IC0xKQogICAgICAgICAgICAgICAgbGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7CiAgICAgICAgfTsKRXZlbnRFbWl0dGVyLnJlbW92ZUFsbExpc3RlbmVycyA9IGZ1bmN0aW9uIChldmVudE5hbWUpIHsKICAgIGlmICghZXZlbnROYW1lKQogICAgICAgIHRoaXMuX2V2ZW50UmVnaXN0cnkgPSB0aGlzLl9kZWZhdWx0SGFuZGxlcnMgPSB1bmRlZmluZWQ7CiAgICBpZiAodGhpcy5fZXZlbnRSZWdpc3RyeSkKICAgICAgICB0aGlzLl9ldmVudFJlZ2lzdHJ5W2V2ZW50TmFtZV0gPSB1bmRlZmluZWQ7CiAgICBpZiAodGhpcy5fZGVmYXVsdEhhbmRsZXJzKQogICAgICAgIHRoaXMuX2RlZmF1bHRIYW5kbGVyc1tldmVudE5hbWVdID0gdW5kZWZpbmVkOwp9OwpleHBvcnRzLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjsKCn0pOwoKYWNlLmRlZmluZSgiYWNlL3JhbmdlIixbXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKXsidXNlIHN0cmljdCI7CnZhciBjb21wYXJlUG9pbnRzID0gZnVuY3Rpb24gKHAxLCBwMikgewogICAgcmV0dXJuIHAxLnJvdyAtIHAyLnJvdyB8fCBwMS5jb2x1bW4gLSBwMi5jb2x1bW47Cn07CnZhciBSYW5nZSA9IGZ1bmN0aW9uIChzdGFydFJvdywgc3RhcnRDb2x1bW4sIGVuZFJvdywgZW5kQ29sdW1uKSB7CiAgICB0aGlzLnN0YXJ0ID0gewogICAgICAgIHJvdzogc3RhcnRSb3csCiAgICAgICAgY29sdW1uOiBzdGFydENvbHVtbgogICAgfTsKICAgIHRoaXMuZW5kID0gewogICAgICAgIHJvdzogZW5kUm93LAogICAgICAgIGNvbHVtbjogZW5kQ29sdW1uCiAgICB9Owp9OwooZnVuY3Rpb24gKCkgewogICAgdGhpcy5pc0VxdWFsID0gZnVuY3Rpb24gKHJhbmdlKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuc3RhcnQucm93ID09PSByYW5nZS5zdGFydC5yb3cgJiYKICAgICAgICAgICAgdGhpcy5lbmQucm93ID09PSByYW5nZS5lbmQucm93ICYmCiAgICAgICAgICAgIHRoaXMuc3RhcnQuY29sdW1uID09PSByYW5nZS5zdGFydC5jb2x1bW4gJiYKICAgICAgICAgICAgdGhpcy5lbmQuY29sdW1uID09PSByYW5nZS5lbmQuY29sdW1uOwogICAgfTsKICAgIHRoaXMudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuICgiUmFuZ2U6IFsiICsgdGhpcy5zdGFydC5yb3cgKyAiLyIgKyB0aGlzLnN0YXJ0LmNvbHVtbiArCiAgICAgICAgICAgICJdIC0+IFsiICsgdGhpcy5lbmQucm93ICsgIi8iICsgdGhpcy5lbmQuY29sdW1uICsgIl0iKTsKICAgIH07CiAgICB0aGlzLmNvbnRhaW5zID0gZnVuY3Rpb24gKHJvdywgY29sdW1uKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuY29tcGFyZShyb3csIGNvbHVtbikgPT0gMDsKICAgIH07CiAgICB0aGlzLmNvbXBhcmVSYW5nZSA9IGZ1bmN0aW9uIChyYW5nZSkgewogICAgICAgIHZhciBjbXAsIGVuZCA9IHJhbmdlLmVuZCwgc3RhcnQgPSByYW5nZS5zdGFydDsKICAgICAgICBjbXAgPSB0aGlzLmNvbXBhcmUoZW5kLnJvdywgZW5kLmNvbHVtbik7CiAgICAgICAgaWYgKGNtcCA9PSAxKSB7CiAgICAgICAgICAgIGNtcCA9IHRoaXMuY29tcGFyZShzdGFydC5yb3csIHN0YXJ0LmNvbHVtbik7CiAgICAgICAgICAgIGlmIChjbXAgPT0gMSkgewogICAgICAgICAgICAgICAgcmV0dXJuIDI7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSBpZiAoY21wID09IDApIHsKICAgICAgICAgICAgICAgIHJldHVybiAxOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZWxzZSBpZiAoY21wID09IC0xKSB7CiAgICAgICAgICAgIHJldHVybiAtMjsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIGNtcCA9IHRoaXMuY29tcGFyZShzdGFydC5yb3csIHN0YXJ0LmNvbHVtbik7CiAgICAgICAgICAgIGlmIChjbXAgPT0gLTEpIHsKICAgICAgICAgICAgICAgIHJldHVybiAtMTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIGlmIChjbXAgPT0gMSkgewogICAgICAgICAgICAgICAgcmV0dXJuIDQyOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9OwogICAgdGhpcy5jb21wYXJlUG9pbnQgPSBmdW5jdGlvbiAocCkgewogICAgICAgIHJldHVybiB0aGlzLmNvbXBhcmUocC5yb3csIHAuY29sdW1uKTsKICAgIH07CiAgICB0aGlzLmNvbnRhaW5zUmFuZ2UgPSBmdW5jdGlvbiAocmFuZ2UpIHsKICAgICAgICByZXR1cm4gdGhpcy5jb21wYXJlUG9pbnQocmFuZ2Uuc3RhcnQpID09IDAgJiYgdGhpcy5jb21wYXJlUG9pbnQocmFuZ2UuZW5kKSA9PSAwOwogICAgfTsKICAgIHRoaXMuaW50ZXJzZWN0cyA9IGZ1bmN0aW9uIChyYW5nZSkgewogICAgICAgIHZhciBjbXAgPSB0aGlzLmNvbXBhcmVSYW5nZShyYW5nZSk7CiAgICAgICAgcmV0dXJuIChjbXAgPT0gLTEgfHwgY21wID09IDAgfHwgY21wID09IDEpOwogICAgfTsKICAgIHRoaXMuaXNFbmQgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICByZXR1cm4gdGhpcy5lbmQucm93ID09IHJvdyAmJiB0aGlzLmVuZC5jb2x1bW4gPT0gY29sdW1uOwogICAgfTsKICAgIHRoaXMuaXNTdGFydCA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICAgIHJldHVybiB0aGlzLnN0YXJ0LnJvdyA9PSByb3cgJiYgdGhpcy5zdGFydC5jb2x1bW4gPT0gY29sdW1uOwogICAgfTsKICAgIHRoaXMuc2V0U3RhcnQgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICBpZiAodHlwZW9mIHJvdyA9PSAib2JqZWN0IikgewogICAgICAgICAgICB0aGlzLnN0YXJ0LmNvbHVtbiA9IHJvdy5jb2x1bW47CiAgICAgICAgICAgIHRoaXMuc3RhcnQucm93ID0gcm93LnJvdzsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIHRoaXMuc3RhcnQucm93ID0gcm93OwogICAgICAgICAgICB0aGlzLnN0YXJ0LmNvbHVtbiA9IGNvbHVtbjsKICAgICAgICB9CiAgICB9OwogICAgdGhpcy5zZXRFbmQgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICBpZiAodHlwZW9mIHJvdyA9PSAib2JqZWN0IikgewogICAgICAgICAgICB0aGlzLmVuZC5jb2x1bW4gPSByb3cuY29sdW1uOwogICAgICAgICAgICB0aGlzLmVuZC5yb3cgPSByb3cucm93OwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgdGhpcy5lbmQucm93ID0gcm93OwogICAgICAgICAgICB0aGlzLmVuZC5jb2x1bW4gPSBjb2x1bW47CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMuaW5zaWRlID0gZnVuY3Rpb24gKHJvdywgY29sdW1uKSB7CiAgICAgICAgaWYgKHRoaXMuY29tcGFyZShyb3csIGNvbHVtbikgPT0gMCkgewogICAgICAgICAgICBpZiAodGhpcy5pc0VuZChyb3csIGNvbHVtbikgfHwgdGhpcy5pc1N0YXJ0KHJvdywgY29sdW1uKSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfTsKICAgIHRoaXMuaW5zaWRlU3RhcnQgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICBpZiAodGhpcy5jb21wYXJlKHJvdywgY29sdW1uKSA9PSAwKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmlzRW5kKHJvdywgY29sdW1uKSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfTsKICAgIHRoaXMuaW5zaWRlRW5kID0gZnVuY3Rpb24gKHJvdywgY29sdW1uKSB7CiAgICAgICAgaWYgKHRoaXMuY29tcGFyZShyb3csIGNvbHVtbikgPT0gMCkgewogICAgICAgICAgICBpZiAodGhpcy5pc1N0YXJ0KHJvdywgY29sdW1uKSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfTsKICAgIHRoaXMuY29tcGFyZSA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICAgIGlmICghdGhpcy5pc011bHRpTGluZSgpKSB7CiAgICAgICAgICAgIGlmIChyb3cgPT09IHRoaXMuc3RhcnQucm93KSB7CiAgICAgICAgICAgICAgICByZXR1cm4gY29sdW1uIDwgdGhpcy5zdGFydC5jb2x1bW4gPyAtMSA6IChjb2x1bW4gPiB0aGlzLmVuZC5jb2x1bW4gPyAxIDogMCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKHJvdyA8IHRoaXMuc3RhcnQucm93KQogICAgICAgICAgICByZXR1cm4gLTE7CiAgICAgICAgaWYgKHJvdyA+IHRoaXMuZW5kLnJvdykKICAgICAgICAgICAgcmV0dXJuIDE7CiAgICAgICAgaWYgKHRoaXMuc3RhcnQucm93ID09PSByb3cpCiAgICAgICAgICAgIHJldHVybiBjb2x1bW4gPj0gdGhpcy5zdGFydC5jb2x1bW4gPyAwIDogLTE7CiAgICAgICAgaWYgKHRoaXMuZW5kLnJvdyA9PT0gcm93KQogICAgICAgICAgICByZXR1cm4gY29sdW1uIDw9IHRoaXMuZW5kLmNvbHVtbiA/IDAgOiAxOwogICAgICAgIHJldHVybiAwOwogICAgfTsKICAgIHRoaXMuY29tcGFyZVN0YXJ0ID0gZnVuY3Rpb24gKHJvdywgY29sdW1uKSB7CiAgICAgICAgaWYgKHRoaXMuc3RhcnQucm93ID09IHJvdyAmJiB0aGlzLnN0YXJ0LmNvbHVtbiA9PSBjb2x1bW4pIHsKICAgICAgICAgICAgcmV0dXJuIC0xOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29tcGFyZShyb3csIGNvbHVtbik7CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMuY29tcGFyZUVuZCA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICAgIGlmICh0aGlzLmVuZC5yb3cgPT0gcm93ICYmIHRoaXMuZW5kLmNvbHVtbiA9PSBjb2x1bW4pIHsKICAgICAgICAgICAgcmV0dXJuIDE7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICByZXR1cm4gdGhpcy5jb21wYXJlKHJvdywgY29sdW1uKTsKICAgICAgICB9CiAgICB9OwogICAgdGhpcy5jb21wYXJlSW5zaWRlID0gZnVuY3Rpb24gKHJvdywgY29sdW1uKSB7CiAgICAgICAgaWYgKHRoaXMuZW5kLnJvdyA9PSByb3cgJiYgdGhpcy5lbmQuY29sdW1uID09IGNvbHVtbikgewogICAgICAgICAgICByZXR1cm4gMTsKICAgICAgICB9CiAgICAgICAgZWxzZSBpZiAodGhpcy5zdGFydC5yb3cgPT0gcm93ICYmIHRoaXMuc3RhcnQuY29sdW1uID09IGNvbHVtbikgewogICAgICAgICAgICByZXR1cm4gLTE7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICByZXR1cm4gdGhpcy5jb21wYXJlKHJvdywgY29sdW1uKTsKICAgICAgICB9CiAgICB9OwogICAgdGhpcy5jbGlwUm93cyA9IGZ1bmN0aW9uIChmaXJzdFJvdywgbGFzdFJvdykgewogICAgICAgIGlmICh0aGlzLmVuZC5yb3cgPiBsYXN0Um93KQogICAgICAgICAgICB2YXIgZW5kID0geyByb3c6IGxhc3RSb3cgKyAxLCBjb2x1bW46IDAgfTsKICAgICAgICBlbHNlIGlmICh0aGlzLmVuZC5yb3cgPCBmaXJzdFJvdykKICAgICAgICAgICAgdmFyIGVuZCA9IHsgcm93OiBmaXJzdFJvdywgY29sdW1uOiAwIH07CiAgICAgICAgaWYgKHRoaXMuc3RhcnQucm93ID4gbGFzdFJvdykKICAgICAgICAgICAgdmFyIHN0YXJ0ID0geyByb3c6IGxhc3RSb3cgKyAxLCBjb2x1bW46IDAgfTsKICAgICAgICBlbHNlIGlmICh0aGlzLnN0YXJ0LnJvdyA8IGZpcnN0Um93KQogICAgICAgICAgICB2YXIgc3RhcnQgPSB7IHJvdzogZmlyc3RSb3csIGNvbHVtbjogMCB9OwogICAgICAgIHJldHVybiBSYW5nZS5mcm9tUG9pbnRzKHN0YXJ0IHx8IHRoaXMuc3RhcnQsIGVuZCB8fCB0aGlzLmVuZCk7CiAgICB9OwogICAgdGhpcy5leHRlbmQgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICB2YXIgY21wID0gdGhpcy5jb21wYXJlKHJvdywgY29sdW1uKTsKICAgICAgICBpZiAoY21wID09IDApCiAgICAgICAgICAgIHJldHVybiB0aGlzOwogICAgICAgIGVsc2UgaWYgKGNtcCA9PSAtMSkKICAgICAgICAgICAgdmFyIHN0YXJ0ID0geyByb3c6IHJvdywgY29sdW1uOiBjb2x1bW4gfTsKICAgICAgICBlbHNlCiAgICAgICAgICAgIHZhciBlbmQgPSB7IHJvdzogcm93LCBjb2x1bW46IGNvbHVtbiB9OwogICAgICAgIHJldHVybiBSYW5nZS5mcm9tUG9pbnRzKHN0YXJ0IHx8IHRoaXMuc3RhcnQsIGVuZCB8fCB0aGlzLmVuZCk7CiAgICB9OwogICAgdGhpcy5pc0VtcHR5ID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiAodGhpcy5zdGFydC5yb3cgPT09IHRoaXMuZW5kLnJvdyAmJiB0aGlzLnN0YXJ0LmNvbHVtbiA9PT0gdGhpcy5lbmQuY29sdW1uKTsKICAgIH07CiAgICB0aGlzLmlzTXVsdGlMaW5lID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiAodGhpcy5zdGFydC5yb3cgIT09IHRoaXMuZW5kLnJvdyk7CiAgICB9OwogICAgdGhpcy5jbG9uZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gUmFuZ2UuZnJvbVBvaW50cyh0aGlzLnN0YXJ0LCB0aGlzLmVuZCk7CiAgICB9OwogICAgdGhpcy5jb2xsYXBzZVJvd3MgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKHRoaXMuZW5kLmNvbHVtbiA9PSAwKQogICAgICAgICAgICByZXR1cm4gbmV3IFJhbmdlKHRoaXMuc3RhcnQucm93LCAwLCBNYXRoLm1heCh0aGlzLnN0YXJ0LnJvdywgdGhpcy5lbmQucm93IC0gMSksIDApOwogICAgICAgIGVsc2UKICAgICAgICAgICAgcmV0dXJuIG5ldyBSYW5nZSh0aGlzLnN0YXJ0LnJvdywgMCwgdGhpcy5lbmQucm93LCAwKTsKICAgIH07CiAgICB0aGlzLnRvU2NyZWVuUmFuZ2UgPSBmdW5jdGlvbiAoc2Vzc2lvbikgewogICAgICAgIHZhciBzY3JlZW5Qb3NTdGFydCA9IHNlc3Npb24uZG9jdW1lbnRUb1NjcmVlblBvc2l0aW9uKHRoaXMuc3RhcnQpOwogICAgICAgIHZhciBzY3JlZW5Qb3NFbmQgPSBzZXNzaW9uLmRvY3VtZW50VG9TY3JlZW5Qb3NpdGlvbih0aGlzLmVuZCk7CiAgICAgICAgcmV0dXJuIG5ldyBSYW5nZShzY3JlZW5Qb3NTdGFydC5yb3csIHNjcmVlblBvc1N0YXJ0LmNvbHVtbiwgc2NyZWVuUG9zRW5kLnJvdywgc2NyZWVuUG9zRW5kLmNvbHVtbik7CiAgICB9OwogICAgdGhpcy5tb3ZlQnkgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICB0aGlzLnN0YXJ0LnJvdyArPSByb3c7CiAgICAgICAgdGhpcy5zdGFydC5jb2x1bW4gKz0gY29sdW1uOwogICAgICAgIHRoaXMuZW5kLnJvdyArPSByb3c7CiAgICAgICAgdGhpcy5lbmQuY29sdW1uICs9IGNvbHVtbjsKICAgIH07Cn0pLmNhbGwoUmFuZ2UucHJvdG90eXBlKTsKUmFuZ2UuZnJvbVBvaW50cyA9IGZ1bmN0aW9uIChzdGFydCwgZW5kKSB7CiAgICByZXR1cm4gbmV3IFJhbmdlKHN0YXJ0LnJvdywgc3RhcnQuY29sdW1uLCBlbmQucm93LCBlbmQuY29sdW1uKTsKfTsKUmFuZ2UuY29tcGFyZVBvaW50cyA9IGNvbXBhcmVQb2ludHM7ClJhbmdlLmNvbXBhcmVQb2ludHMgPSBmdW5jdGlvbiAocDEsIHAyKSB7CiAgICByZXR1cm4gcDEucm93IC0gcDIucm93IHx8IHAxLmNvbHVtbiAtIHAyLmNvbHVtbjsKfTsKZXhwb3J0cy5SYW5nZSA9IFJhbmdlOwoKfSk7CgphY2UuZGVmaW5lKCJhY2UvYW5jaG9yIixbXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKXsidXNlIHN0cmljdCI7CnZhciBvb3AgPSByZXF1aXJlKCIuL2xpYi9vb3AiKTsKdmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoIi4vbGliL2V2ZW50X2VtaXR0ZXIiKS5FdmVudEVtaXR0ZXI7CnZhciBBbmNob3IgPSBleHBvcnRzLkFuY2hvciA9IGZ1bmN0aW9uIChkb2MsIHJvdywgY29sdW1uKSB7CiAgICB0aGlzLiRvbkNoYW5nZSA9IHRoaXMub25DaGFuZ2UuYmluZCh0aGlzKTsKICAgIHRoaXMuYXR0YWNoKGRvYyk7CiAgICBpZiAodHlwZW9mIGNvbHVtbiA9PSAidW5kZWZpbmVkIikKICAgICAgICB0aGlzLnNldFBvc2l0aW9uKHJvdy5yb3csIHJvdy5jb2x1bW4pOwogICAgZWxzZQogICAgICAgIHRoaXMuc2V0UG9zaXRpb24ocm93LCBjb2x1bW4pOwp9OwooZnVuY3Rpb24gKCkgewogICAgb29wLmltcGxlbWVudCh0aGlzLCBFdmVudEVtaXR0ZXIpOwogICAgdGhpcy5nZXRQb3NpdGlvbiA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gdGhpcy4kY2xpcFBvc2l0aW9uVG9Eb2N1bWVudCh0aGlzLnJvdywgdGhpcy5jb2x1bW4pOwogICAgfTsKICAgIHRoaXMuZ2V0RG9jdW1lbnQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZG9jdW1lbnQ7CiAgICB9OwogICAgdGhpcy4kaW5zZXJ0UmlnaHQgPSBmYWxzZTsKICAgIHRoaXMub25DaGFuZ2UgPSBmdW5jdGlvbiAoZGVsdGEpIHsKICAgICAgICBpZiAoZGVsdGEuc3RhcnQucm93ID09IGRlbHRhLmVuZC5yb3cgJiYgZGVsdGEuc3RhcnQucm93ICE9IHRoaXMucm93KQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgaWYgKGRlbHRhLnN0YXJ0LnJvdyA+IHRoaXMucm93KQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgdmFyIHBvaW50ID0gJGdldFRyYW5zZm9ybWVkUG9pbnQoZGVsdGEsIHsgcm93OiB0aGlzLnJvdywgY29sdW1uOiB0aGlzLmNvbHVtbiB9LCB0aGlzLiRpbnNlcnRSaWdodCk7CiAgICAgICAgdGhpcy5zZXRQb3NpdGlvbihwb2ludC5yb3csIHBvaW50LmNvbHVtbiwgdHJ1ZSk7CiAgICB9OwogICAgZnVuY3Rpb24gJHBvaW50c0luT3JkZXIocG9pbnQxLCBwb2ludDIsIGVxdWFsUG9pbnRzSW5PcmRlcikgewogICAgICAgIHZhciBiQ29sSXNBZnRlciA9IGVxdWFsUG9pbnRzSW5PcmRlciA/IHBvaW50MS5jb2x1bW4gPD0gcG9pbnQyLmNvbHVtbiA6IHBvaW50MS5jb2x1bW4gPCBwb2ludDIuY29sdW1uOwogICAgICAgIHJldHVybiAocG9pbnQxLnJvdyA8IHBvaW50Mi5yb3cpIHx8IChwb2ludDEucm93ID09IHBvaW50Mi5yb3cgJiYgYkNvbElzQWZ0ZXIpOwogICAgfQogICAgZnVuY3Rpb24gJGdldFRyYW5zZm9ybWVkUG9pbnQoZGVsdGEsIHBvaW50LCBtb3ZlSWZFcXVhbCkgewogICAgICAgIHZhciBkZWx0YUlzSW5zZXJ0ID0gZGVsdGEuYWN0aW9uID09ICJpbnNlcnQiOwogICAgICAgIHZhciBkZWx0YVJvd1NoaWZ0ID0gKGRlbHRhSXNJbnNlcnQgPyAxIDogLTEpICogKGRlbHRhLmVuZC5yb3cgLSBkZWx0YS5zdGFydC5yb3cpOwogICAgICAgIHZhciBkZWx0YUNvbFNoaWZ0ID0gKGRlbHRhSXNJbnNlcnQgPyAxIDogLTEpICogKGRlbHRhLmVuZC5jb2x1bW4gLSBkZWx0YS5zdGFydC5jb2x1bW4pOwogICAgICAgIHZhciBkZWx0YVN0YXJ0ID0gZGVsdGEuc3RhcnQ7CiAgICAgICAgdmFyIGRlbHRhRW5kID0gZGVsdGFJc0luc2VydCA/IGRlbHRhU3RhcnQgOiBkZWx0YS5lbmQ7IC8vIENvbGxhcHNlIGluc2VydCByYW5nZS4KICAgICAgICBpZiAoJHBvaW50c0luT3JkZXIocG9pbnQsIGRlbHRhU3RhcnQsIG1vdmVJZkVxdWFsKSkgewogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgcm93OiBwb2ludC5yb3csCiAgICAgICAgICAgICAgICBjb2x1bW46IHBvaW50LmNvbHVtbgogICAgICAgICAgICB9OwogICAgICAgIH0KICAgICAgICBpZiAoJHBvaW50c0luT3JkZXIoZGVsdGFFbmQsIHBvaW50LCAhbW92ZUlmRXF1YWwpKSB7CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICByb3c6IHBvaW50LnJvdyArIGRlbHRhUm93U2hpZnQsCiAgICAgICAgICAgICAgICBjb2x1bW46IHBvaW50LmNvbHVtbiArIChwb2ludC5yb3cgPT0gZGVsdGFFbmQucm93ID8gZGVsdGFDb2xTaGlmdCA6IDApCiAgICAgICAgICAgIH07CiAgICAgICAgfQogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHJvdzogZGVsdGFTdGFydC5yb3csCiAgICAgICAgICAgIGNvbHVtbjogZGVsdGFTdGFydC5jb2x1bW4KICAgICAgICB9OwogICAgfQogICAgdGhpcy5zZXRQb3NpdGlvbiA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbiwgbm9DbGlwKSB7CiAgICAgICAgdmFyIHBvczsKICAgICAgICBpZiAobm9DbGlwKSB7CiAgICAgICAgICAgIHBvcyA9IHsKICAgICAgICAgICAgICAgIHJvdzogcm93LAogICAgICAgICAgICAgICAgY29sdW1uOiBjb2x1bW4KICAgICAgICAgICAgfTsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIHBvcyA9IHRoaXMuJGNsaXBQb3NpdGlvblRvRG9jdW1lbnQocm93LCBjb2x1bW4pOwogICAgICAgIH0KICAgICAgICBpZiAodGhpcy5yb3cgPT0gcG9zLnJvdyAmJiB0aGlzLmNvbHVtbiA9PSBwb3MuY29sdW1uKQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgdmFyIG9sZCA9IHsKICAgICAgICAgICAgcm93OiB0aGlzLnJvdywKICAgICAgICAgICAgY29sdW1uOiB0aGlzLmNvbHVtbgogICAgICAgIH07CiAgICAgICAgdGhpcy5yb3cgPSBwb3Mucm93OwogICAgICAgIHRoaXMuY29sdW1uID0gcG9zLmNvbHVtbjsKICAgICAgICB0aGlzLl9zaWduYWwoImNoYW5nZSIsIHsKICAgICAgICAgICAgb2xkOiBvbGQsCiAgICAgICAgICAgIHZhbHVlOiBwb3MKICAgICAgICB9KTsKICAgIH07CiAgICB0aGlzLmRldGFjaCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB0aGlzLmRvY3VtZW50Lm9mZigiY2hhbmdlIiwgdGhpcy4kb25DaGFuZ2UpOwogICAgfTsKICAgIHRoaXMuYXR0YWNoID0gZnVuY3Rpb24gKGRvYykgewogICAgICAgIHRoaXMuZG9jdW1lbnQgPSBkb2MgfHwgdGhpcy5kb2N1bWVudDsKICAgICAgICB0aGlzLmRvY3VtZW50Lm9uKCJjaGFuZ2UiLCB0aGlzLiRvbkNoYW5nZSk7CiAgICB9OwogICAgdGhpcy4kY2xpcFBvc2l0aW9uVG9Eb2N1bWVudCA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICAgIHZhciBwb3MgPSB7fTsKICAgICAgICBpZiAocm93ID49IHRoaXMuZG9jdW1lbnQuZ2V0TGVuZ3RoKCkpIHsKICAgICAgICAgICAgcG9zLnJvdyA9IE1hdGgubWF4KDAsIHRoaXMuZG9jdW1lbnQuZ2V0TGVuZ3RoKCkgLSAxKTsKICAgICAgICAgICAgcG9zLmNvbHVtbiA9IHRoaXMuZG9jdW1lbnQuZ2V0TGluZShwb3Mucm93KS5sZW5ndGg7CiAgICAgICAgfQogICAgICAgIGVsc2UgaWYgKHJvdyA8IDApIHsKICAgICAgICAgICAgcG9zLnJvdyA9IDA7CiAgICAgICAgICAgIHBvcy5jb2x1bW4gPSAwOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgcG9zLnJvdyA9IHJvdzsKICAgICAgICAgICAgcG9zLmNvbHVtbiA9IE1hdGgubWluKHRoaXMuZG9jdW1lbnQuZ2V0TGluZShwb3Mucm93KS5sZW5ndGgsIE1hdGgubWF4KDAsIGNvbHVtbikpOwogICAgICAgIH0KICAgICAgICBpZiAoY29sdW1uIDwgMCkKICAgICAgICAgICAgcG9zLmNvbHVtbiA9IDA7CiAgICAgICAgcmV0dXJuIHBvczsKICAgIH07Cn0pLmNhbGwoQW5jaG9yLnByb3RvdHlwZSk7Cgp9KTsKCmFjZS5kZWZpbmUoImFjZS9kb2N1bWVudCIsW10sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSl7InVzZSBzdHJpY3QiOwp2YXIgb29wID0gcmVxdWlyZSgiLi9saWIvb29wIik7CnZhciBhcHBseURlbHRhID0gcmVxdWlyZSgiLi9hcHBseV9kZWx0YSIpLmFwcGx5RGVsdGE7CnZhciBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCIuL2xpYi9ldmVudF9lbWl0dGVyIikuRXZlbnRFbWl0dGVyOwp2YXIgUmFuZ2UgPSByZXF1aXJlKCIuL3JhbmdlIikuUmFuZ2U7CnZhciBBbmNob3IgPSByZXF1aXJlKCIuL2FuY2hvciIpLkFuY2hvcjsKdmFyIERvY3VtZW50ID0gZnVuY3Rpb24gKHRleHRPckxpbmVzKSB7CiAgICB0aGlzLiRsaW5lcyA9IFsiIl07CiAgICBpZiAodGV4dE9yTGluZXMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgdGhpcy4kbGluZXMgPSBbIiJdOwogICAgfQogICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh0ZXh0T3JMaW5lcykpIHsKICAgICAgICB0aGlzLmluc2VydE1lcmdlZExpbmVzKHsgcm93OiAwLCBjb2x1bW46IDAgfSwgdGV4dE9yTGluZXMpOwogICAgfQogICAgZWxzZSB7CiAgICAgICAgdGhpcy5pbnNlcnQoeyByb3c6IDAsIGNvbHVtbjogMCB9LCB0ZXh0T3JMaW5lcyk7CiAgICB9Cn07CihmdW5jdGlvbiAoKSB7CiAgICBvb3AuaW1wbGVtZW50KHRoaXMsIEV2ZW50RW1pdHRlcik7CiAgICB0aGlzLnNldFZhbHVlID0gZnVuY3Rpb24gKHRleHQpIHsKICAgICAgICB2YXIgbGVuID0gdGhpcy5nZXRMZW5ndGgoKSAtIDE7CiAgICAgICAgdGhpcy5yZW1vdmUobmV3IFJhbmdlKDAsIDAsIGxlbiwgdGhpcy5nZXRMaW5lKGxlbikubGVuZ3RoKSk7CiAgICAgICAgdGhpcy5pbnNlcnQoeyByb3c6IDAsIGNvbHVtbjogMCB9LCB0ZXh0IHx8ICIiKTsKICAgIH07CiAgICB0aGlzLmdldFZhbHVlID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiB0aGlzLmdldEFsbExpbmVzKCkuam9pbih0aGlzLmdldE5ld0xpbmVDaGFyYWN0ZXIoKSk7CiAgICB9OwogICAgdGhpcy5jcmVhdGVBbmNob3IgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICByZXR1cm4gbmV3IEFuY2hvcih0aGlzLCByb3csIGNvbHVtbik7CiAgICB9OwogICAgaWYgKCJhYWEiLnNwbGl0KC9hLykubGVuZ3RoID09PSAwKSB7CiAgICAgICAgdGhpcy4kc3BsaXQgPSBmdW5jdGlvbiAodGV4dCkgewogICAgICAgICAgICByZXR1cm4gdGV4dC5yZXBsYWNlKC9cclxufFxyL2csICJcbiIpLnNwbGl0KCJcbiIpOwogICAgICAgIH07CiAgICB9CiAgICBlbHNlIHsKICAgICAgICB0aGlzLiRzcGxpdCA9IGZ1bmN0aW9uICh0ZXh0KSB7CiAgICAgICAgICAgIHJldHVybiB0ZXh0LnNwbGl0KC9cclxufFxyfFxuLyk7CiAgICAgICAgfTsKICAgIH0KICAgIHRoaXMuJGRldGVjdE5ld0xpbmUgPSBmdW5jdGlvbiAodGV4dCkgewogICAgICAgIHZhciBtYXRjaCA9IHRleHQubWF0Y2goL14uKj8oXHJcbnxccnxcbikvbSk7CiAgICAgICAgdGhpcy4kYXV0b05ld0xpbmUgPSBtYXRjaCA/IG1hdGNoWzFdIDogIlxuIjsKICAgICAgICB0aGlzLl9zaWduYWwoImNoYW5nZU5ld0xpbmVNb2RlIik7CiAgICB9OwogICAgdGhpcy5nZXROZXdMaW5lQ2hhcmFjdGVyID0gZnVuY3Rpb24gKCkgewogICAgICAgIHN3aXRjaCAodGhpcy4kbmV3TGluZU1vZGUpIHsKICAgICAgICAgICAgY2FzZSAid2luZG93cyI6CiAgICAgICAgICAgICAgICByZXR1cm4gIlxyXG4iOwogICAgICAgICAgICBjYXNlICJ1bml4IjoKICAgICAgICAgICAgICAgIHJldHVybiAiXG4iOwogICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJGF1dG9OZXdMaW5lIHx8ICJcbiI7CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMuJGF1dG9OZXdMaW5lID0gIiI7CiAgICB0aGlzLiRuZXdMaW5lTW9kZSA9ICJhdXRvIjsKICAgIHRoaXMuc2V0TmV3TGluZU1vZGUgPSBmdW5jdGlvbiAobmV3TGluZU1vZGUpIHsKICAgICAgICBpZiAodGhpcy4kbmV3TGluZU1vZGUgPT09IG5ld0xpbmVNb2RlKQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgdGhpcy4kbmV3TGluZU1vZGUgPSBuZXdMaW5lTW9kZTsKICAgICAgICB0aGlzLl9zaWduYWwoImNoYW5nZU5ld0xpbmVNb2RlIik7CiAgICB9OwogICAgdGhpcy5nZXROZXdMaW5lTW9kZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gdGhpcy4kbmV3TGluZU1vZGU7CiAgICB9OwogICAgdGhpcy5pc05ld0xpbmUgPSBmdW5jdGlvbiAodGV4dCkgewogICAgICAgIHJldHVybiAodGV4dCA9PSAiXHJcbiIgfHwgdGV4dCA9PSAiXHIiIHx8IHRleHQgPT0gIlxuIik7CiAgICB9OwogICAgdGhpcy5nZXRMaW5lID0gZnVuY3Rpb24gKHJvdykgewogICAgICAgIHJldHVybiB0aGlzLiRsaW5lc1tyb3ddIHx8ICIiOwogICAgfTsKICAgIHRoaXMuZ2V0TGluZXMgPSBmdW5jdGlvbiAoZmlyc3RSb3csIGxhc3RSb3cpIHsKICAgICAgICByZXR1cm4gdGhpcy4kbGluZXMuc2xpY2UoZmlyc3RSb3csIGxhc3RSb3cgKyAxKTsKICAgIH07CiAgICB0aGlzLmdldEFsbExpbmVzID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiB0aGlzLmdldExpbmVzKDAsIHRoaXMuZ2V0TGVuZ3RoKCkpOwogICAgfTsKICAgIHRoaXMuZ2V0TGVuZ3RoID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiB0aGlzLiRsaW5lcy5sZW5ndGg7CiAgICB9OwogICAgdGhpcy5nZXRUZXh0UmFuZ2UgPSBmdW5jdGlvbiAocmFuZ2UpIHsKICAgICAgICByZXR1cm4gdGhpcy5nZXRMaW5lc0ZvclJhbmdlKHJhbmdlKS5qb2luKHRoaXMuZ2V0TmV3TGluZUNoYXJhY3RlcigpKTsKICAgIH07CiAgICB0aGlzLmdldExpbmVzRm9yUmFuZ2UgPSBmdW5jdGlvbiAocmFuZ2UpIHsKICAgICAgICB2YXIgbGluZXM7CiAgICAgICAgaWYgKHJhbmdlLnN0YXJ0LnJvdyA9PT0gcmFuZ2UuZW5kLnJvdykgewogICAgICAgICAgICBsaW5lcyA9IFt0aGlzLmdldExpbmUocmFuZ2Uuc3RhcnQucm93KS5zdWJzdHJpbmcocmFuZ2Uuc3RhcnQuY29sdW1uLCByYW5nZS5lbmQuY29sdW1uKV07CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICBsaW5lcyA9IHRoaXMuZ2V0TGluZXMocmFuZ2Uuc3RhcnQucm93LCByYW5nZS5lbmQucm93KTsKICAgICAgICAgICAgbGluZXNbMF0gPSAobGluZXNbMF0gfHwgIiIpLnN1YnN0cmluZyhyYW5nZS5zdGFydC5jb2x1bW4pOwogICAgICAgICAgICB2YXIgbCA9IGxpbmVzLmxlbmd0aCAtIDE7CiAgICAgICAgICAgIGlmIChyYW5nZS5lbmQucm93IC0gcmFuZ2Uuc3RhcnQucm93ID09IGwpCiAgICAgICAgICAgICAgICBsaW5lc1tsXSA9IGxpbmVzW2xdLnN1YnN0cmluZygwLCByYW5nZS5lbmQuY29sdW1uKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGxpbmVzOwogICAgfTsKICAgIHRoaXMuaW5zZXJ0TGluZXMgPSBmdW5jdGlvbiAocm93LCBsaW5lcykgewogICAgICAgIGNvbnNvbGUud2FybigiVXNlIG9mIGRvY3VtZW50Lmluc2VydExpbmVzIGlzIGRlcHJlY2F0ZWQuIFVzZSB0aGUgaW5zZXJ0RnVsbExpbmVzIG1ldGhvZCBpbnN0ZWFkLiIpOwogICAgICAgIHJldHVybiB0aGlzLmluc2VydEZ1bGxMaW5lcyhyb3csIGxpbmVzKTsKICAgIH07CiAgICB0aGlzLnJlbW92ZUxpbmVzID0gZnVuY3Rpb24gKGZpcnN0Um93LCBsYXN0Um93KSB7CiAgICAgICAgY29uc29sZS53YXJuKCJVc2Ugb2YgZG9jdW1lbnQucmVtb3ZlTGluZXMgaXMgZGVwcmVjYXRlZC4gVXNlIHRoZSByZW1vdmVGdWxsTGluZXMgbWV0aG9kIGluc3RlYWQuIik7CiAgICAgICAgcmV0dXJuIHRoaXMucmVtb3ZlRnVsbExpbmVzKGZpcnN0Um93LCBsYXN0Um93KTsKICAgIH07CiAgICB0aGlzLmluc2VydE5ld0xpbmUgPSBmdW5jdGlvbiAocG9zaXRpb24pIHsKICAgICAgICBjb25zb2xlLndhcm4oIlVzZSBvZiBkb2N1bWVudC5pbnNlcnROZXdMaW5lIGlzIGRlcHJlY2F0ZWQuIFVzZSBpbnNlcnRNZXJnZWRMaW5lcyhwb3NpdGlvbiwgWycnLCAnJ10pIGluc3RlYWQuIik7CiAgICAgICAgcmV0dXJuIHRoaXMuaW5zZXJ0TWVyZ2VkTGluZXMocG9zaXRpb24sIFsiIiwgIiJdKTsKICAgIH07CiAgICB0aGlzLmluc2VydCA9IGZ1bmN0aW9uIChwb3NpdGlvbiwgdGV4dCkgewogICAgICAgIGlmICh0aGlzLmdldExlbmd0aCgpIDw9IDEpCiAgICAgICAgICAgIHRoaXMuJGRldGVjdE5ld0xpbmUodGV4dCk7CiAgICAgICAgcmV0dXJuIHRoaXMuaW5zZXJ0TWVyZ2VkTGluZXMocG9zaXRpb24sIHRoaXMuJHNwbGl0KHRleHQpKTsKICAgIH07CiAgICB0aGlzLmluc2VydEluTGluZSA9IGZ1bmN0aW9uIChwb3NpdGlvbiwgdGV4dCkgewogICAgICAgIHZhciBzdGFydCA9IHRoaXMuY2xpcHBlZFBvcyhwb3NpdGlvbi5yb3csIHBvc2l0aW9uLmNvbHVtbik7CiAgICAgICAgdmFyIGVuZCA9IHRoaXMucG9zKHBvc2l0aW9uLnJvdywgcG9zaXRpb24uY29sdW1uICsgdGV4dC5sZW5ndGgpOwogICAgICAgIHRoaXMuYXBwbHlEZWx0YSh7CiAgICAgICAgICAgIHN0YXJ0OiBzdGFydCwKICAgICAgICAgICAgZW5kOiBlbmQsCiAgICAgICAgICAgIGFjdGlvbjogImluc2VydCIsCiAgICAgICAgICAgIGxpbmVzOiBbdGV4dF0KICAgICAgICB9LCB0cnVlKTsKICAgICAgICByZXR1cm4gdGhpcy5jbG9uZVBvcyhlbmQpOwogICAgfTsKICAgIHRoaXMuY2xpcHBlZFBvcyA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICAgIHZhciBsZW5ndGggPSB0aGlzLmdldExlbmd0aCgpOwogICAgICAgIGlmIChyb3cgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICByb3cgPSBsZW5ndGg7CiAgICAgICAgfQogICAgICAgIGVsc2UgaWYgKHJvdyA8IDApIHsKICAgICAgICAgICAgcm93ID0gMDsKICAgICAgICB9CiAgICAgICAgZWxzZSBpZiAocm93ID49IGxlbmd0aCkgewogICAgICAgICAgICByb3cgPSBsZW5ndGggLSAxOwogICAgICAgICAgICBjb2x1bW4gPSB1bmRlZmluZWQ7CiAgICAgICAgfQogICAgICAgIHZhciBsaW5lID0gdGhpcy5nZXRMaW5lKHJvdyk7CiAgICAgICAgaWYgKGNvbHVtbiA9PSB1bmRlZmluZWQpCiAgICAgICAgICAgIGNvbHVtbiA9IGxpbmUubGVuZ3RoOwogICAgICAgIGNvbHVtbiA9IE1hdGgubWluKE1hdGgubWF4KGNvbHVtbiwgMCksIGxpbmUubGVuZ3RoKTsKICAgICAgICByZXR1cm4geyByb3c6IHJvdywgY29sdW1uOiBjb2x1bW4gfTsKICAgIH07CiAgICB0aGlzLmNsb25lUG9zID0gZnVuY3Rpb24gKHBvcykgewogICAgICAgIHJldHVybiB7IHJvdzogcG9zLnJvdywgY29sdW1uOiBwb3MuY29sdW1uIH07CiAgICB9OwogICAgdGhpcy5wb3MgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICByZXR1cm4geyByb3c6IHJvdywgY29sdW1uOiBjb2x1bW4gfTsKICAgIH07CiAgICB0aGlzLiRjbGlwUG9zaXRpb24gPSBmdW5jdGlvbiAocG9zaXRpb24pIHsKICAgICAgICB2YXIgbGVuZ3RoID0gdGhpcy5nZXRMZW5ndGgoKTsKICAgICAgICBpZiAocG9zaXRpb24ucm93ID49IGxlbmd0aCkgewogICAgICAgICAgICBwb3NpdGlvbi5yb3cgPSBNYXRoLm1heCgwLCBsZW5ndGggLSAxKTsKICAgICAgICAgICAgcG9zaXRpb24uY29sdW1uID0gdGhpcy5nZXRMaW5lKGxlbmd0aCAtIDEpLmxlbmd0aDsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIHBvc2l0aW9uLnJvdyA9IE1hdGgubWF4KDAsIHBvc2l0aW9uLnJvdyk7CiAgICAgICAgICAgIHBvc2l0aW9uLmNvbHVtbiA9IE1hdGgubWluKE1hdGgubWF4KHBvc2l0aW9uLmNvbHVtbiwgMCksIHRoaXMuZ2V0TGluZShwb3NpdGlvbi5yb3cpLmxlbmd0aCk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBwb3NpdGlvbjsKICAgIH07CiAgICB0aGlzLmluc2VydEZ1bGxMaW5lcyA9IGZ1bmN0aW9uIChyb3csIGxpbmVzKSB7CiAgICAgICAgcm93ID0gTWF0aC5taW4oTWF0aC5tYXgocm93LCAwKSwgdGhpcy5nZXRMZW5ndGgoKSk7CiAgICAgICAgdmFyIGNvbHVtbiA9IDA7CiAgICAgICAgaWYgKHJvdyA8IHRoaXMuZ2V0TGVuZ3RoKCkpIHsKICAgICAgICAgICAgbGluZXMgPSBsaW5lcy5jb25jYXQoWyIiXSk7CiAgICAgICAgICAgIGNvbHVtbiA9IDA7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICBsaW5lcyA9IFsiIl0uY29uY2F0KGxpbmVzKTsKICAgICAgICAgICAgcm93LS07CiAgICAgICAgICAgIGNvbHVtbiA9IHRoaXMuJGxpbmVzW3Jvd10ubGVuZ3RoOwogICAgICAgIH0KICAgICAgICB0aGlzLmluc2VydE1lcmdlZExpbmVzKHsgcm93OiByb3csIGNvbHVtbjogY29sdW1uIH0sIGxpbmVzKTsKICAgIH07CiAgICB0aGlzLmluc2VydE1lcmdlZExpbmVzID0gZnVuY3Rpb24gKHBvc2l0aW9uLCBsaW5lcykgewogICAgICAgIHZhciBzdGFydCA9IHRoaXMuY2xpcHBlZFBvcyhwb3NpdGlvbi5yb3csIHBvc2l0aW9uLmNvbHVtbik7CiAgICAgICAgdmFyIGVuZCA9IHsKICAgICAgICAgICAgcm93OiBzdGFydC5yb3cgKyBsaW5lcy5sZW5ndGggLSAxLAogICAgICAgICAgICBjb2x1bW46IChsaW5lcy5sZW5ndGggPT0gMSA/IHN0YXJ0LmNvbHVtbiA6IDApICsgbGluZXNbbGluZXMubGVuZ3RoIC0gMV0ubGVuZ3RoCiAgICAgICAgfTsKICAgICAgICB0aGlzLmFwcGx5RGVsdGEoewogICAgICAgICAgICBzdGFydDogc3RhcnQsCiAgICAgICAgICAgIGVuZDogZW5kLAogICAgICAgICAgICBhY3Rpb246ICJpbnNlcnQiLAogICAgICAgICAgICBsaW5lczogbGluZXMKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gdGhpcy5jbG9uZVBvcyhlbmQpOwogICAgfTsKICAgIHRoaXMucmVtb3ZlID0gZnVuY3Rpb24gKHJhbmdlKSB7CiAgICAgICAgdmFyIHN0YXJ0ID0gdGhpcy5jbGlwcGVkUG9zKHJhbmdlLnN0YXJ0LnJvdywgcmFuZ2Uuc3RhcnQuY29sdW1uKTsKICAgICAgICB2YXIgZW5kID0gdGhpcy5jbGlwcGVkUG9zKHJhbmdlLmVuZC5yb3csIHJhbmdlLmVuZC5jb2x1bW4pOwogICAgICAgIHRoaXMuYXBwbHlEZWx0YSh7CiAgICAgICAgICAgIHN0YXJ0OiBzdGFydCwKICAgICAgICAgICAgZW5kOiBlbmQsCiAgICAgICAgICAgIGFjdGlvbjogInJlbW92ZSIsCiAgICAgICAgICAgIGxpbmVzOiB0aGlzLmdldExpbmVzRm9yUmFuZ2UoeyBzdGFydDogc3RhcnQsIGVuZDogZW5kIH0pCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIHRoaXMuY2xvbmVQb3Moc3RhcnQpOwogICAgfTsKICAgIHRoaXMucmVtb3ZlSW5MaW5lID0gZnVuY3Rpb24gKHJvdywgc3RhcnRDb2x1bW4sIGVuZENvbHVtbikgewogICAgICAgIHZhciBzdGFydCA9IHRoaXMuY2xpcHBlZFBvcyhyb3csIHN0YXJ0Q29sdW1uKTsKICAgICAgICB2YXIgZW5kID0gdGhpcy5jbGlwcGVkUG9zKHJvdywgZW5kQ29sdW1uKTsKICAgICAgICB0aGlzLmFwcGx5RGVsdGEoewogICAgICAgICAgICBzdGFydDogc3RhcnQsCiAgICAgICAgICAgIGVuZDogZW5kLAogICAgICAgICAgICBhY3Rpb246ICJyZW1vdmUiLAogICAgICAgICAgICBsaW5lczogdGhpcy5nZXRMaW5lc0ZvclJhbmdlKHsgc3RhcnQ6IHN0YXJ0LCBlbmQ6IGVuZCB9KQogICAgICAgIH0sIHRydWUpOwogICAgICAgIHJldHVybiB0aGlzLmNsb25lUG9zKHN0YXJ0KTsKICAgIH07CiAgICB0aGlzLnJlbW92ZUZ1bGxMaW5lcyA9IGZ1bmN0aW9uIChmaXJzdFJvdywgbGFzdFJvdykgewogICAgICAgIGZpcnN0Um93ID0gTWF0aC5taW4oTWF0aC5tYXgoMCwgZmlyc3RSb3cpLCB0aGlzLmdldExlbmd0aCgpIC0gMSk7CiAgICAgICAgbGFzdFJvdyA9IE1hdGgubWluKE1hdGgubWF4KDAsIGxhc3RSb3cpLCB0aGlzLmdldExlbmd0aCgpIC0gMSk7CiAgICAgICAgdmFyIGRlbGV0ZUZpcnN0TmV3TGluZSA9IGxhc3RSb3cgPT0gdGhpcy5nZXRMZW5ndGgoKSAtIDEgJiYgZmlyc3RSb3cgPiAwOwogICAgICAgIHZhciBkZWxldGVMYXN0TmV3TGluZSA9IGxhc3RSb3cgPCB0aGlzLmdldExlbmd0aCgpIC0gMTsKICAgICAgICB2YXIgc3RhcnRSb3cgPSAoZGVsZXRlRmlyc3ROZXdMaW5lID8gZmlyc3RSb3cgLSAxIDogZmlyc3RSb3cpOwogICAgICAgIHZhciBzdGFydENvbCA9IChkZWxldGVGaXJzdE5ld0xpbmUgPyB0aGlzLmdldExpbmUoc3RhcnRSb3cpLmxlbmd0aCA6IDApOwogICAgICAgIHZhciBlbmRSb3cgPSAoZGVsZXRlTGFzdE5ld0xpbmUgPyBsYXN0Um93ICsgMSA6IGxhc3RSb3cpOwogICAgICAgIHZhciBlbmRDb2wgPSAoZGVsZXRlTGFzdE5ld0xpbmUgPyAwIDogdGhpcy5nZXRMaW5lKGVuZFJvdykubGVuZ3RoKTsKICAgICAgICB2YXIgcmFuZ2UgPSBuZXcgUmFuZ2Uoc3RhcnRSb3csIHN0YXJ0Q29sLCBlbmRSb3csIGVuZENvbCk7CiAgICAgICAgdmFyIGRlbGV0ZWRMaW5lcyA9IHRoaXMuJGxpbmVzLnNsaWNlKGZpcnN0Um93LCBsYXN0Um93ICsgMSk7CiAgICAgICAgdGhpcy5hcHBseURlbHRhKHsKICAgICAgICAgICAgc3RhcnQ6IHJhbmdlLnN0YXJ0LAogICAgICAgICAgICBlbmQ6IHJhbmdlLmVuZCwKICAgICAgICAgICAgYWN0aW9uOiAicmVtb3ZlIiwKICAgICAgICAgICAgbGluZXM6IHRoaXMuZ2V0TGluZXNGb3JSYW5nZShyYW5nZSkKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gZGVsZXRlZExpbmVzOwogICAgfTsKICAgIHRoaXMucmVtb3ZlTmV3TGluZSA9IGZ1bmN0aW9uIChyb3cpIHsKICAgICAgICBpZiAocm93IDwgdGhpcy5nZXRMZW5ndGgoKSAtIDEgJiYgcm93ID49IDApIHsKICAgICAgICAgICAgdGhpcy5hcHBseURlbHRhKHsKICAgICAgICAgICAgICAgIHN0YXJ0OiB0aGlzLnBvcyhyb3csIHRoaXMuZ2V0TGluZShyb3cpLmxlbmd0aCksCiAgICAgICAgICAgICAgICBlbmQ6IHRoaXMucG9zKHJvdyArIDEsIDApLAogICAgICAgICAgICAgICAgYWN0aW9uOiAicmVtb3ZlIiwKICAgICAgICAgICAgICAgIGxpbmVzOiBbIiIsICIiXQogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICB9OwogICAgdGhpcy5yZXBsYWNlID0gZnVuY3Rpb24gKHJhbmdlLCB0ZXh0KSB7CiAgICAgICAgaWYgKCEocmFuZ2UgaW5zdGFuY2VvZiBSYW5nZSkpCiAgICAgICAgICAgIHJhbmdlID0gUmFuZ2UuZnJvbVBvaW50cyhyYW5nZS5zdGFydCwgcmFuZ2UuZW5kKTsKICAgICAgICBpZiAodGV4dC5sZW5ndGggPT09IDAgJiYgcmFuZ2UuaXNFbXB0eSgpKQogICAgICAgICAgICByZXR1cm4gcmFuZ2Uuc3RhcnQ7CiAgICAgICAgaWYgKHRleHQgPT0gdGhpcy5nZXRUZXh0UmFuZ2UocmFuZ2UpKQogICAgICAgICAgICByZXR1cm4gcmFuZ2UuZW5kOwogICAgICAgIHRoaXMucmVtb3ZlKHJhbmdlKTsKICAgICAgICB2YXIgZW5kOwogICAgICAgIGlmICh0ZXh0KSB7CiAgICAgICAgICAgIGVuZCA9IHRoaXMuaW5zZXJ0KHJhbmdlLnN0YXJ0LCB0ZXh0KTsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIGVuZCA9IHJhbmdlLnN0YXJ0OwogICAgICAgIH0KICAgICAgICByZXR1cm4gZW5kOwogICAgfTsKICAgIHRoaXMuYXBwbHlEZWx0YXMgPSBmdW5jdGlvbiAoZGVsdGFzKSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkZWx0YXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgdGhpcy5hcHBseURlbHRhKGRlbHRhc1tpXSk7CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMucmV2ZXJ0RGVsdGFzID0gZnVuY3Rpb24gKGRlbHRhcykgewogICAgICAgIGZvciAodmFyIGkgPSBkZWx0YXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHsKICAgICAgICAgICAgdGhpcy5yZXZlcnREZWx0YShkZWx0YXNbaV0pOwogICAgICAgIH0KICAgIH07CiAgICB0aGlzLmFwcGx5RGVsdGEgPSBmdW5jdGlvbiAoZGVsdGEsIGRvTm90VmFsaWRhdGUpIHsKICAgICAgICB2YXIgaXNJbnNlcnQgPSBkZWx0YS5hY3Rpb24gPT0gImluc2VydCI7CiAgICAgICAgaWYgKGlzSW5zZXJ0ID8gZGVsdGEubGluZXMubGVuZ3RoIDw9IDEgJiYgIWRlbHRhLmxpbmVzWzBdCiAgICAgICAgICAgIDogIVJhbmdlLmNvbXBhcmVQb2ludHMoZGVsdGEuc3RhcnQsIGRlbHRhLmVuZCkpIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBpZiAoaXNJbnNlcnQgJiYgZGVsdGEubGluZXMubGVuZ3RoID4gMjAwMDApIHsKICAgICAgICAgICAgdGhpcy4kc3BsaXRBbmRhcHBseUxhcmdlRGVsdGEoZGVsdGEsIDIwMDAwKTsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIGFwcGx5RGVsdGEodGhpcy4kbGluZXMsIGRlbHRhLCBkb05vdFZhbGlkYXRlKTsKICAgICAgICAgICAgdGhpcy5fc2lnbmFsKCJjaGFuZ2UiLCBkZWx0YSk7CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMuJHNhZmVBcHBseURlbHRhID0gZnVuY3Rpb24gKGRlbHRhKSB7CiAgICAgICAgdmFyIGRvY0xlbmd0aCA9IHRoaXMuJGxpbmVzLmxlbmd0aDsKICAgICAgICBpZiAoZGVsdGEuYWN0aW9uID09ICJyZW1vdmUiICYmIGRlbHRhLnN0YXJ0LnJvdyA8IGRvY0xlbmd0aCAmJiBkZWx0YS5lbmQucm93IDwgZG9jTGVuZ3RoCiAgICAgICAgICAgIHx8IGRlbHRhLmFjdGlvbiA9PSAiaW5zZXJ0IiAmJiBkZWx0YS5zdGFydC5yb3cgPD0gZG9jTGVuZ3RoKSB7CiAgICAgICAgICAgIHRoaXMuYXBwbHlEZWx0YShkZWx0YSk7CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMuJHNwbGl0QW5kYXBwbHlMYXJnZURlbHRhID0gZnVuY3Rpb24gKGRlbHRhLCBNQVgpIHsKICAgICAgICB2YXIgbGluZXMgPSBkZWx0YS5saW5lczsKICAgICAgICB2YXIgbCA9IGxpbmVzLmxlbmd0aCAtIE1BWCArIDE7CiAgICAgICAgdmFyIHJvdyA9IGRlbHRhLnN0YXJ0LnJvdzsKICAgICAgICB2YXIgY29sdW1uID0gZGVsdGEuc3RhcnQuY29sdW1uOwogICAgICAgIGZvciAodmFyIGZyb20gPSAwLCB0byA9IDA7IGZyb20gPCBsOyBmcm9tID0gdG8pIHsKICAgICAgICAgICAgdG8gKz0gTUFYIC0gMTsKICAgICAgICAgICAgdmFyIGNodW5rID0gbGluZXMuc2xpY2UoZnJvbSwgdG8pOwogICAgICAgICAgICBjaHVuay5wdXNoKCIiKTsKICAgICAgICAgICAgdGhpcy5hcHBseURlbHRhKHsKICAgICAgICAgICAgICAgIHN0YXJ0OiB0aGlzLnBvcyhyb3cgKyBmcm9tLCBjb2x1bW4pLAogICAgICAgICAgICAgICAgZW5kOiB0aGlzLnBvcyhyb3cgKyB0bywgY29sdW1uID0gMCksCiAgICAgICAgICAgICAgICBhY3Rpb246IGRlbHRhLmFjdGlvbiwKICAgICAgICAgICAgICAgIGxpbmVzOiBjaHVuawogICAgICAgICAgICB9LCB0cnVlKTsKICAgICAgICB9CiAgICAgICAgZGVsdGEubGluZXMgPSBsaW5lcy5zbGljZShmcm9tKTsKICAgICAgICBkZWx0YS5zdGFydC5yb3cgPSByb3cgKyBmcm9tOwogICAgICAgIGRlbHRhLnN0YXJ0LmNvbHVtbiA9IGNvbHVtbjsKICAgICAgICB0aGlzLmFwcGx5RGVsdGEoZGVsdGEsIHRydWUpOwogICAgfTsKICAgIHRoaXMucmV2ZXJ0RGVsdGEgPSBmdW5jdGlvbiAoZGVsdGEpIHsKICAgICAgICB0aGlzLiRzYWZlQXBwbHlEZWx0YSh7CiAgICAgICAgICAgIHN0YXJ0OiB0aGlzLmNsb25lUG9zKGRlbHRhLnN0YXJ0KSwKICAgICAgICAgICAgZW5kOiB0aGlzLmNsb25lUG9zKGRlbHRhLmVuZCksCiAgICAgICAgICAgIGFjdGlvbjogKGRlbHRhLmFjdGlvbiA9PSAiaW5zZXJ0IiA/ICJyZW1vdmUiIDogImluc2VydCIpLAogICAgICAgICAgICBsaW5lczogZGVsdGEubGluZXMuc2xpY2UoKQogICAgICAgIH0pOwogICAgfTsKICAgIHRoaXMuaW5kZXhUb1Bvc2l0aW9uID0gZnVuY3Rpb24gKGluZGV4LCBzdGFydFJvdykgewogICAgICAgIHZhciBsaW5lcyA9IHRoaXMuJGxpbmVzIHx8IHRoaXMuZ2V0QWxsTGluZXMoKTsKICAgICAgICB2YXIgbmV3bGluZUxlbmd0aCA9IHRoaXMuZ2V0TmV3TGluZUNoYXJhY3RlcigpLmxlbmd0aDsKICAgICAgICBmb3IgKHZhciBpID0gc3RhcnRSb3cgfHwgMCwgbCA9IGxpbmVzLmxlbmd0aDsgaSA8IGw7IGkrKykgewogICAgICAgICAgICBpbmRleCAtPSBsaW5lc1tpXS5sZW5ndGggKyBuZXdsaW5lTGVuZ3RoOwogICAgICAgICAgICBpZiAoaW5kZXggPCAwKQogICAgICAgICAgICAgICAgcmV0dXJuIHsgcm93OiBpLCBjb2x1bW46IGluZGV4ICsgbGluZXNbaV0ubGVuZ3RoICsgbmV3bGluZUxlbmd0aCB9OwogICAgICAgIH0KICAgICAgICByZXR1cm4geyByb3c6IGwgLSAxLCBjb2x1bW46IGluZGV4ICsgbGluZXNbbCAtIDFdLmxlbmd0aCArIG5ld2xpbmVMZW5ndGggfTsKICAgIH07CiAgICB0aGlzLnBvc2l0aW9uVG9JbmRleCA9IGZ1bmN0aW9uIChwb3MsIHN0YXJ0Um93KSB7CiAgICAgICAgdmFyIGxpbmVzID0gdGhpcy4kbGluZXMgfHwgdGhpcy5nZXRBbGxMaW5lcygpOwogICAgICAgIHZhciBuZXdsaW5lTGVuZ3RoID0gdGhpcy5nZXROZXdMaW5lQ2hhcmFjdGVyKCkubGVuZ3RoOwogICAgICAgIHZhciBpbmRleCA9IDA7CiAgICAgICAgdmFyIHJvdyA9IE1hdGgubWluKHBvcy5yb3csIGxpbmVzLmxlbmd0aCk7CiAgICAgICAgZm9yICh2YXIgaSA9IHN0YXJ0Um93IHx8IDA7IGkgPCByb3c7ICsraSkKICAgICAgICAgICAgaW5kZXggKz0gbGluZXNbaV0ubGVuZ3RoICsgbmV3bGluZUxlbmd0aDsKICAgICAgICByZXR1cm4gaW5kZXggKyBwb3MuY29sdW1uOwogICAgfTsKfSkuY2FsbChEb2N1bWVudC5wcm90b3R5cGUpOwpleHBvcnRzLkRvY3VtZW50ID0gRG9jdW1lbnQ7Cgp9KTsKCmFjZS5kZWZpbmUoImFjZS9saWIvbGFuZyIsW10sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSl7InVzZSBzdHJpY3QiOwpleHBvcnRzLmxhc3QgPSBmdW5jdGlvbiAoYSkgewogICAgcmV0dXJuIGFbYS5sZW5ndGggLSAxXTsKfTsKZXhwb3J0cy5zdHJpbmdSZXZlcnNlID0gZnVuY3Rpb24gKHN0cmluZykgewogICAgcmV0dXJuIHN0cmluZy5zcGxpdCgiIikucmV2ZXJzZSgpLmpvaW4oIiIpOwp9OwpleHBvcnRzLnN0cmluZ1JlcGVhdCA9IGZ1bmN0aW9uIChzdHJpbmcsIGNvdW50KSB7CiAgICB2YXIgcmVzdWx0ID0gJyc7CiAgICB3aGlsZSAoY291bnQgPiAwKSB7CiAgICAgICAgaWYgKGNvdW50ICYgMSkKICAgICAgICAgICAgcmVzdWx0ICs9IHN0cmluZzsKICAgICAgICBpZiAoY291bnQgPj49IDEpCiAgICAgICAgICAgIHN0cmluZyArPSBzdHJpbmc7CiAgICB9CiAgICByZXR1cm4gcmVzdWx0Owp9Owp2YXIgdHJpbUJlZ2luUmVnZXhwID0gL15cc1xzKi87CnZhciB0cmltRW5kUmVnZXhwID0gL1xzXHMqJC87CmV4cG9ydHMuc3RyaW5nVHJpbUxlZnQgPSBmdW5jdGlvbiAoc3RyaW5nKSB7CiAgICByZXR1cm4gc3RyaW5nLnJlcGxhY2UodHJpbUJlZ2luUmVnZXhwLCAnJyk7Cn07CmV4cG9ydHMuc3RyaW5nVHJpbVJpZ2h0ID0gZnVuY3Rpb24gKHN0cmluZykgewogICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKHRyaW1FbmRSZWdleHAsICcnKTsKfTsKZXhwb3J0cy5jb3B5T2JqZWN0ID0gZnVuY3Rpb24gKG9iaikgewogICAgdmFyIGNvcHkgPSB7fTsKICAgIGZvciAodmFyIGtleSBpbiBvYmopIHsKICAgICAgICBjb3B5W2tleV0gPSBvYmpba2V5XTsKICAgIH0KICAgIHJldHVybiBjb3B5Owp9OwpleHBvcnRzLmNvcHlBcnJheSA9IGZ1bmN0aW9uIChhcnJheSkgewogICAgdmFyIGNvcHkgPSBbXTsKICAgIGZvciAodmFyIGkgPSAwLCBsID0gYXJyYXkubGVuZ3RoOyBpIDwgbDsgaSsrKSB7CiAgICAgICAgaWYgKGFycmF5W2ldICYmIHR5cGVvZiBhcnJheVtpXSA9PSAib2JqZWN0IikKICAgICAgICAgICAgY29weVtpXSA9IHRoaXMuY29weU9iamVjdChhcnJheVtpXSk7CiAgICAgICAgZWxzZQogICAgICAgICAgICBjb3B5W2ldID0gYXJyYXlbaV07CiAgICB9CiAgICByZXR1cm4gY29weTsKfTsKZXhwb3J0cy5kZWVwQ29weSA9IGZ1bmN0aW9uIGRlZXBDb3B5KG9iaikgewogICAgaWYgKHR5cGVvZiBvYmogIT09ICJvYmplY3QiIHx8ICFvYmopCiAgICAgICAgcmV0dXJuIG9iajsKICAgIHZhciBjb3B5OwogICAgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkgewogICAgICAgIGNvcHkgPSBbXTsKICAgICAgICBmb3IgKHZhciBrZXkgPSAwOyBrZXkgPCBvYmoubGVuZ3RoOyBrZXkrKykgewogICAgICAgICAgICBjb3B5W2tleV0gPSBkZWVwQ29weShvYmpba2V5XSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBjb3B5OwogICAgfQogICAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopICE9PSAiW29iamVjdCBPYmplY3RdIikKICAgICAgICByZXR1cm4gb2JqOwogICAgY29weSA9IHt9OwogICAgZm9yICh2YXIga2V5IGluIG9iaikKICAgICAgICBjb3B5W2tleV0gPSBkZWVwQ29weShvYmpba2V5XSk7CiAgICByZXR1cm4gY29weTsKfTsKZXhwb3J0cy5hcnJheVRvTWFwID0gZnVuY3Rpb24gKGFycikgewogICAgdmFyIG1hcCA9IHt9OwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsKICAgICAgICBtYXBbYXJyW2ldXSA9IDE7CiAgICB9CiAgICByZXR1cm4gbWFwOwp9OwpleHBvcnRzLmNyZWF0ZU1hcCA9IGZ1bmN0aW9uIChwcm9wcykgewogICAgdmFyIG1hcCA9IE9iamVjdC5jcmVhdGUobnVsbCk7CiAgICBmb3IgKHZhciBpIGluIHByb3BzKSB7CiAgICAgICAgbWFwW2ldID0gcHJvcHNbaV07CiAgICB9CiAgICByZXR1cm4gbWFwOwp9OwpleHBvcnRzLmFycmF5UmVtb3ZlID0gZnVuY3Rpb24gKGFycmF5LCB2YWx1ZSkgewogICAgZm9yICh2YXIgaSA9IDA7IGkgPD0gYXJyYXkubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAodmFsdWUgPT09IGFycmF5W2ldKSB7CiAgICAgICAgICAgIGFycmF5LnNwbGljZShpLCAxKTsKICAgICAgICB9CiAgICB9Cn07CmV4cG9ydHMuZXNjYXBlUmVnRXhwID0gZnVuY3Rpb24gKHN0cikgewogICAgcmV0dXJuIHN0ci5yZXBsYWNlKC8oWy4qKz9eJHt9KCl8W1xdXC9cXF0pL2csICdcXCQxJyk7Cn07CmV4cG9ydHMuZXNjYXBlSFRNTCA9IGZ1bmN0aW9uIChzdHIpIHsKICAgIHJldHVybiAoIiIgKyBzdHIpLnJlcGxhY2UoLyYvZywgIiYjMzg7IikucmVwbGFjZSgvIi9nLCAiJiMzNDsiKS5yZXBsYWNlKC8nL2csICImIzM5OyIpLnJlcGxhY2UoLzwvZywgIiYjNjA7Iik7Cn07CmV4cG9ydHMuZ2V0TWF0Y2hPZmZzZXRzID0gZnVuY3Rpb24gKHN0cmluZywgcmVnRXhwKSB7CiAgICB2YXIgbWF0Y2hlcyA9IFtdOwogICAgc3RyaW5nLnJlcGxhY2UocmVnRXhwLCBmdW5jdGlvbiAoc3RyKSB7CiAgICAgICAgbWF0Y2hlcy5wdXNoKHsKICAgICAgICAgICAgb2Zmc2V0OiBhcmd1bWVudHNbYXJndW1lbnRzLmxlbmd0aCAtIDJdLAogICAgICAgICAgICBsZW5ndGg6IHN0ci5sZW5ndGgKICAgICAgICB9KTsKICAgIH0pOwogICAgcmV0dXJuIG1hdGNoZXM7Cn07CmV4cG9ydHMuZGVmZXJyZWRDYWxsID0gZnVuY3Rpb24gKGZjbikgewogICAgdmFyIHRpbWVyID0gbnVsbDsKICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB0aW1lciA9IG51bGw7CiAgICAgICAgZmNuKCk7CiAgICB9OwogICAgdmFyIGRlZmVycmVkID0gZnVuY3Rpb24gKHRpbWVvdXQpIHsKICAgICAgICBkZWZlcnJlZC5jYW5jZWwoKTsKICAgICAgICB0aW1lciA9IHNldFRpbWVvdXQoY2FsbGJhY2ssIHRpbWVvdXQgfHwgMCk7CiAgICAgICAgcmV0dXJuIGRlZmVycmVkOwogICAgfTsKICAgIGRlZmVycmVkLnNjaGVkdWxlID0gZGVmZXJyZWQ7CiAgICBkZWZlcnJlZC5jYWxsID0gZnVuY3Rpb24gKCkgewogICAgICAgIHRoaXMuY2FuY2VsKCk7CiAgICAgICAgZmNuKCk7CiAgICAgICAgcmV0dXJuIGRlZmVycmVkOwogICAgfTsKICAgIGRlZmVycmVkLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBjbGVhclRpbWVvdXQodGltZXIpOwogICAgICAgIHRpbWVyID0gbnVsbDsKICAgICAgICByZXR1cm4gZGVmZXJyZWQ7CiAgICB9OwogICAgZGVmZXJyZWQuaXNQZW5kaW5nID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiB0aW1lcjsKICAgIH07CiAgICByZXR1cm4gZGVmZXJyZWQ7Cn07CmV4cG9ydHMuZGVsYXllZENhbGwgPSBmdW5jdGlvbiAoZmNuLCBkZWZhdWx0VGltZW91dCkgewogICAgdmFyIHRpbWVyID0gbnVsbDsKICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB0aW1lciA9IG51bGw7CiAgICAgICAgZmNuKCk7CiAgICB9OwogICAgdmFyIF9zZWxmID0gZnVuY3Rpb24gKHRpbWVvdXQpIHsKICAgICAgICBpZiAodGltZXIgPT0gbnVsbCkKICAgICAgICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KGNhbGxiYWNrLCB0aW1lb3V0IHx8IGRlZmF1bHRUaW1lb3V0KTsKICAgIH07CiAgICBfc2VsZi5kZWxheSA9IGZ1bmN0aW9uICh0aW1lb3V0KSB7CiAgICAgICAgdGltZXIgJiYgY2xlYXJUaW1lb3V0KHRpbWVyKTsKICAgICAgICB0aW1lciA9IHNldFRpbWVvdXQoY2FsbGJhY2ssIHRpbWVvdXQgfHwgZGVmYXVsdFRpbWVvdXQpOwogICAgfTsKICAgIF9zZWxmLnNjaGVkdWxlID0gX3NlbGY7CiAgICBfc2VsZi5jYWxsID0gZnVuY3Rpb24gKCkgewogICAgICAgIHRoaXMuY2FuY2VsKCk7CiAgICAgICAgZmNuKCk7CiAgICB9OwogICAgX3NlbGYuY2FuY2VsID0gZnVuY3Rpb24gKCkgewogICAgICAgIHRpbWVyICYmIGNsZWFyVGltZW91dCh0aW1lcik7CiAgICAgICAgdGltZXIgPSBudWxsOwogICAgfTsKICAgIF9zZWxmLmlzUGVuZGluZyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gdGltZXI7CiAgICB9OwogICAgcmV0dXJuIF9zZWxmOwp9OwoKfSk7CgphY2UuZGVmaW5lKCJhY2Uvd29ya2VyL21pcnJvciIsW10sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkgewoidXNlIHN0cmljdCI7Cgp2YXIgRG9jdW1lbnQgPSByZXF1aXJlKCIuLi9kb2N1bWVudCIpLkRvY3VtZW50Owp2YXIgbGFuZyA9IHJlcXVpcmUoIi4uL2xpYi9sYW5nIik7CiAgICAKdmFyIE1pcnJvciA9IGV4cG9ydHMuTWlycm9yID0gZnVuY3Rpb24oc2VuZGVyKSB7CiAgICB0aGlzLnNlbmRlciA9IHNlbmRlcjsKICAgIHZhciBkb2MgPSB0aGlzLmRvYyA9IG5ldyBEb2N1bWVudCgiIik7CiAgICAKICAgIHZhciBkZWZlcnJlZFVwZGF0ZSA9IHRoaXMuZGVmZXJyZWRVcGRhdGUgPSBsYW5nLmRlbGF5ZWRDYWxsKHRoaXMub25VcGRhdGUuYmluZCh0aGlzKSk7CiAgICAKICAgIHZhciBfc2VsZiA9IHRoaXM7CiAgICBzZW5kZXIub24oImNoYW5nZSIsIGZ1bmN0aW9uKGUpIHsKICAgICAgICB2YXIgZGF0YSA9IGUuZGF0YTsKICAgICAgICBpZiAoZGF0YVswXS5zdGFydCkgewogICAgICAgICAgICBkb2MuYXBwbHlEZWx0YXMoZGF0YSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSArPSAyKSB7CiAgICAgICAgICAgICAgICB2YXIgZCwgZXJyOyAKICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGFbaSsxXSkpIHsKICAgICAgICAgICAgICAgICAgICBkID0ge2FjdGlvbjogImluc2VydCIsIHN0YXJ0OiBkYXRhW2ldLCBsaW5lczogZGF0YVtpKzFdfTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgZCA9IHthY3Rpb246ICJyZW1vdmUiLCBzdGFydDogZGF0YVtpXSwgZW5kOiBkYXRhW2krMV19OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBpZiAoKGQuYWN0aW9uID09ICJpbnNlcnQiID8gZC5zdGFydCA6IGQuZW5kKS5yb3cgPj0gZG9jLiRsaW5lcy5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgICBlcnIgPSBuZXcgRXJyb3IoIkludmFsaWQgZGVsdGEiKTsKICAgICAgICAgICAgICAgICAgICBlcnIuZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogX3NlbGYuJHBhdGgsCiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVzTGVuZ3RoOiBkb2MuJGxpbmVzLmxlbmd0aCwKICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IGQuc3RhcnQsCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZDogZC5lbmQKICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgIHRocm93IGVycjsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBkb2MuYXBwbHlEZWx0YShkLCB0cnVlKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZiAoX3NlbGYuJHRpbWVvdXQpCiAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZFVwZGF0ZS5zY2hlZHVsZShfc2VsZi4kdGltZW91dCk7CiAgICAgICAgX3NlbGYub25VcGRhdGUoKTsKICAgIH0pOwp9OwoKKGZ1bmN0aW9uKCkgewogICAgCiAgICB0aGlzLiR0aW1lb3V0ID0gNTAwOwogICAgCiAgICB0aGlzLnNldFRpbWVvdXQgPSBmdW5jdGlvbih0aW1lb3V0KSB7CiAgICAgICAgdGhpcy4kdGltZW91dCA9IHRpbWVvdXQ7CiAgICB9OwogICAgCiAgICB0aGlzLnNldFZhbHVlID0gZnVuY3Rpb24odmFsdWUpIHsKICAgICAgICB0aGlzLmRvYy5zZXRWYWx1ZSh2YWx1ZSk7CiAgICAgICAgdGhpcy5kZWZlcnJlZFVwZGF0ZS5zY2hlZHVsZSh0aGlzLiR0aW1lb3V0KTsKICAgIH07CiAgICAKICAgIHRoaXMuZ2V0VmFsdWUgPSBmdW5jdGlvbihjYWxsYmFja0lkKSB7CiAgICAgICAgdGhpcy5zZW5kZXIuY2FsbGJhY2sodGhpcy5kb2MuZ2V0VmFsdWUoKSwgY2FsbGJhY2tJZCk7CiAgICB9OwogICAgCiAgICB0aGlzLm9uVXBkYXRlID0gZnVuY3Rpb24oKSB7CiAgICB9OwogICAgCiAgICB0aGlzLmlzUGVuZGluZyA9IGZ1bmN0aW9uKCkgewogICAgICAgIHJldHVybiB0aGlzLmRlZmVycmVkVXBkYXRlLmlzUGVuZGluZygpOwogICAgfTsKICAgIAp9KS5jYWxsKE1pcnJvci5wcm90b3R5cGUpOwoKfSk7CgphY2UuZGVmaW5lKCJhY2UvbW9kZS9qc29uL2pzb25fcGFyc2UiLFtdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHsKInVzZSBzdHJpY3QiOwoKICAgIHZhciBhdCwgICAgIC8vIFRoZSBpbmRleCBvZiB0aGUgY3VycmVudCBjaGFyYWN0ZXIKICAgICAgICBjaCwgICAgIC8vIFRoZSBjdXJyZW50IGNoYXJhY3RlcgogICAgICAgIGVzY2FwZWUgPSB7CiAgICAgICAgICAgICciJzogICciJywKICAgICAgICAgICAgJ1xcJzogJ1xcJywKICAgICAgICAgICAgJy8nOiAgJy8nLAogICAgICAgICAgICBiOiAgICAnXGInLAogICAgICAgICAgICBmOiAgICAnXGYnLAogICAgICAgICAgICBuOiAgICAnXG4nLAogICAgICAgICAgICByOiAgICAnXHInLAogICAgICAgICAgICB0OiAgICAnXHQnCiAgICAgICAgfSwKICAgICAgICB0ZXh0LAoKICAgICAgICBlcnJvciA9IGZ1bmN0aW9uIChtKSB7CgogICAgICAgICAgICB0aHJvdyB7CiAgICAgICAgICAgICAgICBuYW1lOiAgICAnU3ludGF4RXJyb3InLAogICAgICAgICAgICAgICAgbWVzc2FnZTogbSwKICAgICAgICAgICAgICAgIGF0OiAgICAgIGF0LAogICAgICAgICAgICAgICAgdGV4dDogICAgdGV4dAogICAgICAgICAgICB9OwogICAgICAgIH0sCgogICAgICAgIG5leHQgPSBmdW5jdGlvbiAoYykgewoKICAgICAgICAgICAgaWYgKGMgJiYgYyAhPT0gY2gpIHsKICAgICAgICAgICAgICAgIGVycm9yKCJFeHBlY3RlZCAnIiArIGMgKyAiJyBpbnN0ZWFkIG9mICciICsgY2ggKyAiJyIpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBjaCA9IHRleHQuY2hhckF0KGF0KTsKICAgICAgICAgICAgYXQgKz0gMTsKICAgICAgICAgICAgcmV0dXJuIGNoOwogICAgICAgIH0sCgogICAgICAgIG51bWJlciA9IGZ1bmN0aW9uICgpIHsKCiAgICAgICAgICAgIHZhciBudW1iZXIsCiAgICAgICAgICAgICAgICBzdHJpbmcgPSAnJzsKCiAgICAgICAgICAgIGlmIChjaCA9PT0gJy0nKSB7CiAgICAgICAgICAgICAgICBzdHJpbmcgPSAnLSc7CiAgICAgICAgICAgICAgICBuZXh0KCctJyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgd2hpbGUgKGNoID49ICcwJyAmJiBjaCA8PSAnOScpIHsKICAgICAgICAgICAgICAgIHN0cmluZyArPSBjaDsKICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoY2ggPT09ICcuJykgewogICAgICAgICAgICAgICAgc3RyaW5nICs9ICcuJzsKICAgICAgICAgICAgICAgIHdoaWxlIChuZXh0KCkgJiYgY2ggPj0gJzAnICYmIGNoIDw9ICc5JykgewogICAgICAgICAgICAgICAgICAgIHN0cmluZyArPSBjaDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoY2ggPT09ICdlJyB8fCBjaCA9PT0gJ0UnKSB7CiAgICAgICAgICAgICAgICBzdHJpbmcgKz0gY2g7CiAgICAgICAgICAgICAgICBuZXh0KCk7CiAgICAgICAgICAgICAgICBpZiAoY2ggPT09ICctJyB8fCBjaCA9PT0gJysnKSB7CiAgICAgICAgICAgICAgICAgICAgc3RyaW5nICs9IGNoOwogICAgICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHdoaWxlIChjaCA+PSAnMCcgJiYgY2ggPD0gJzknKSB7CiAgICAgICAgICAgICAgICAgICAgc3RyaW5nICs9IGNoOwogICAgICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBudW1iZXIgPSArc3RyaW5nOwogICAgICAgICAgICBpZiAoaXNOYU4obnVtYmVyKSkgewogICAgICAgICAgICAgICAgZXJyb3IoIkJhZCBudW1iZXIiKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiBudW1iZXI7CiAgICAgICAgICAgIH0KICAgICAgICB9LAoKICAgICAgICBzdHJpbmcgPSBmdW5jdGlvbiAoKSB7CgogICAgICAgICAgICB2YXIgaGV4LAogICAgICAgICAgICAgICAgaSwKICAgICAgICAgICAgICAgIHN0cmluZyA9ICcnLAogICAgICAgICAgICAgICAgdWZmZmY7CgogICAgICAgICAgICBpZiAoY2ggPT09ICciJykgewogICAgICAgICAgICAgICAgd2hpbGUgKG5leHQoKSkgewogICAgICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gJyInKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0cmluZzsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNoID09PSAnXFwnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoID09PSAndScpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVmZmZmID0gMDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCA0OyBpICs9IDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZXggPSBwYXJzZUludChuZXh0KCksIDE2KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzRmluaXRlKGhleCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVmZmZmID0gdWZmZmYgKiAxNiArIGhleDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cmluZyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHVmZmZmKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZXNjYXBlZVtjaF0gPT09ICdzdHJpbmcnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJpbmcgKz0gZXNjYXBlZVtjaF07CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2ggPT0gIlxuIiB8fCBjaCA9PSAiXHIiKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN0cmluZyArPSBjaDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZXJyb3IoIkJhZCBzdHJpbmciKTsKICAgICAgICB9LAoKICAgICAgICB3aGl0ZSA9IGZ1bmN0aW9uICgpIHsKCiAgICAgICAgICAgIHdoaWxlIChjaCAmJiBjaCA8PSAnICcpIHsKICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgfQogICAgICAgIH0sCgogICAgICAgIHdvcmQgPSBmdW5jdGlvbiAoKSB7CgogICAgICAgICAgICBzd2l0Y2ggKGNoKSB7CiAgICAgICAgICAgIGNhc2UgJ3QnOgogICAgICAgICAgICAgICAgbmV4dCgndCcpOwogICAgICAgICAgICAgICAgbmV4dCgncicpOwogICAgICAgICAgICAgICAgbmV4dCgndScpOwogICAgICAgICAgICAgICAgbmV4dCgnZScpOwogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIGNhc2UgJ2YnOgogICAgICAgICAgICAgICAgbmV4dCgnZicpOwogICAgICAgICAgICAgICAgbmV4dCgnYScpOwogICAgICAgICAgICAgICAgbmV4dCgnbCcpOwogICAgICAgICAgICAgICAgbmV4dCgncycpOwogICAgICAgICAgICAgICAgbmV4dCgnZScpOwogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICBjYXNlICduJzoKICAgICAgICAgICAgICAgIG5leHQoJ24nKTsKICAgICAgICAgICAgICAgIG5leHQoJ3UnKTsKICAgICAgICAgICAgICAgIG5leHQoJ2wnKTsKICAgICAgICAgICAgICAgIG5leHQoJ2wnKTsKICAgICAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVycm9yKCJVbmV4cGVjdGVkICciICsgY2ggKyAiJyIpOwogICAgICAgIH0sCgogICAgICAgIHZhbHVlLCAgLy8gUGxhY2UgaG9sZGVyIGZvciB0aGUgdmFsdWUgZnVuY3Rpb24uCgogICAgICAgIGFycmF5ID0gZnVuY3Rpb24gKCkgewoKICAgICAgICAgICAgdmFyIGFycmF5ID0gW107CgogICAgICAgICAgICBpZiAoY2ggPT09ICdbJykgewogICAgICAgICAgICAgICAgbmV4dCgnWycpOwogICAgICAgICAgICAgICAgd2hpdGUoKTsKICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gJ10nKSB7CiAgICAgICAgICAgICAgICAgICAgbmV4dCgnXScpOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBhcnJheTsgICAvLyBlbXB0eSBhcnJheQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgd2hpbGUgKGNoKSB7CiAgICAgICAgICAgICAgICAgICAgYXJyYXkucHVzaCh2YWx1ZSgpKTsKICAgICAgICAgICAgICAgICAgICB3aGl0ZSgpOwogICAgICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gJ10nKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoJ10nKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFycmF5OwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBuZXh0KCcsJyk7CiAgICAgICAgICAgICAgICAgICAgd2hpdGUoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBlcnJvcigiQmFkIGFycmF5Iik7CiAgICAgICAgfSwKCiAgICAgICAgb2JqZWN0ID0gZnVuY3Rpb24gKCkgewoKICAgICAgICAgICAgdmFyIGtleSwKICAgICAgICAgICAgICAgIG9iamVjdCA9IHt9OwoKICAgICAgICAgICAgaWYgKGNoID09PSAneycpIHsKICAgICAgICAgICAgICAgIG5leHQoJ3snKTsKICAgICAgICAgICAgICAgIHdoaXRlKCk7CiAgICAgICAgICAgICAgICBpZiAoY2ggPT09ICd9JykgewogICAgICAgICAgICAgICAgICAgIG5leHQoJ30nKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0OyAgIC8vIGVtcHR5IG9iamVjdAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgd2hpbGUgKGNoKSB7CiAgICAgICAgICAgICAgICAgICAga2V5ID0gc3RyaW5nKCk7CiAgICAgICAgICAgICAgICAgICAgd2hpdGUoKTsKICAgICAgICAgICAgICAgICAgICBuZXh0KCc6Jyk7CiAgICAgICAgICAgICAgICAgICAgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSkgewogICAgICAgICAgICAgICAgICAgICAgICBlcnJvcignRHVwbGljYXRlIGtleSAiJyArIGtleSArICciJyk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIG9iamVjdFtrZXldID0gdmFsdWUoKTsKICAgICAgICAgICAgICAgICAgICB3aGl0ZSgpOwogICAgICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gJ30nKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoJ30nKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgbmV4dCgnLCcpOwogICAgICAgICAgICAgICAgICAgIHdoaXRlKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZXJyb3IoIkJhZCBvYmplY3QiKTsKICAgICAgICB9OwoKICAgIHZhbHVlID0gZnVuY3Rpb24gKCkgewoKICAgICAgICB3aGl0ZSgpOwogICAgICAgIHN3aXRjaCAoY2gpIHsKICAgICAgICBjYXNlICd7JzoKICAgICAgICAgICAgcmV0dXJuIG9iamVjdCgpOwogICAgICAgIGNhc2UgJ1snOgogICAgICAgICAgICByZXR1cm4gYXJyYXkoKTsKICAgICAgICBjYXNlICciJzoKICAgICAgICAgICAgcmV0dXJuIHN0cmluZygpOwogICAgICAgIGNhc2UgJy0nOgogICAgICAgICAgICByZXR1cm4gbnVtYmVyKCk7CiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgcmV0dXJuIGNoID49ICcwJyAmJiBjaCA8PSAnOScgPyBudW1iZXIoKSA6IHdvcmQoKTsKICAgICAgICB9CiAgICB9OwoKICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlLCByZXZpdmVyKSB7CiAgICAgICAgdmFyIHJlc3VsdDsKCiAgICAgICAgdGV4dCA9IHNvdXJjZTsKICAgICAgICBhdCA9IDA7CiAgICAgICAgY2ggPSAnICc7CiAgICAgICAgcmVzdWx0ID0gdmFsdWUoKTsKICAgICAgICB3aGl0ZSgpOwogICAgICAgIGlmIChjaCkgewogICAgICAgICAgICBlcnJvcigiU3ludGF4IGVycm9yIik7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gdHlwZW9mIHJldml2ZXIgPT09ICdmdW5jdGlvbicgPyBmdW5jdGlvbiB3YWxrKGhvbGRlciwga2V5KSB7CiAgICAgICAgICAgIHZhciBrLCB2LCB2YWx1ZSA9IGhvbGRlcltrZXldOwogICAgICAgICAgICBpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JykgewogICAgICAgICAgICAgICAgZm9yIChrIGluIHZhbHVlKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBrKSkgewogICAgICAgICAgICAgICAgICAgICAgICB2ID0gd2Fsayh2YWx1ZSwgayk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2ICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlW2tdID0gdjsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB2YWx1ZVtrXTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gcmV2aXZlci5jYWxsKGhvbGRlciwga2V5LCB2YWx1ZSk7CiAgICAgICAgfSh7Jyc6IHJlc3VsdH0sICcnKSA6IHJlc3VsdDsKICAgIH07Cn0pOwoKYWNlLmRlZmluZSgiYWNlL21vZGUvanNvbl93b3JrZXIiLFtdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHsKInVzZSBzdHJpY3QiOwoKdmFyIG9vcCA9IHJlcXVpcmUoIi4uL2xpYi9vb3AiKTsKdmFyIE1pcnJvciA9IHJlcXVpcmUoIi4uL3dvcmtlci9taXJyb3IiKS5NaXJyb3I7CnZhciBwYXJzZSA9IHJlcXVpcmUoIi4vanNvbi9qc29uX3BhcnNlIik7Cgp2YXIgSnNvbldvcmtlciA9IGV4cG9ydHMuSnNvbldvcmtlciA9IGZ1bmN0aW9uKHNlbmRlcikgewogICAgTWlycm9yLmNhbGwodGhpcywgc2VuZGVyKTsKICAgIHRoaXMuc2V0VGltZW91dCgyMDApOwp9OwoKb29wLmluaGVyaXRzKEpzb25Xb3JrZXIsIE1pcnJvcik7CgooZnVuY3Rpb24oKSB7CgogICAgdGhpcy5vblVwZGF0ZSA9IGZ1bmN0aW9uKCkgewogICAgICAgIHZhciB2YWx1ZSA9IHRoaXMuZG9jLmdldFZhbHVlKCk7CiAgICAgICAgdmFyIGVycm9ycyA9IFtdOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGlmICh2YWx1ZSkKICAgICAgICAgICAgICAgIHBhcnNlKHZhbHVlKTsKICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgIHZhciBwb3MgPSB0aGlzLmRvYy5pbmRleFRvUG9zaXRpb24oZS5hdC0xKTsKICAgICAgICAgICAgZXJyb3JzLnB1c2goewogICAgICAgICAgICAgICAgcm93OiBwb3Mucm93LAogICAgICAgICAgICAgICAgY29sdW1uOiBwb3MuY29sdW1uLAogICAgICAgICAgICAgICAgdGV4dDogZS5tZXNzYWdlLAogICAgICAgICAgICAgICAgdHlwZTogImVycm9yIgogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgdGhpcy5zZW5kZXIuZW1pdCgiYW5ub3RhdGUiLCBlcnJvcnMpOwogICAgfTsKCn0pLmNhbGwoSnNvbldvcmtlci5wcm90b3R5cGUpOwoKfSk7Cg==";
ace.config.setModuleUrl("ace/theme/kr_theme", themeUrl2);
ace.config.setModuleUrl("ace/mode/json", modeJsonUrl);
ace.config.setModuleUrl("ace/mode/json_worker", workerJsonUrl);
const _sfc_main$w = /* @__PURE__ */ defineComponent({
  __name: "code-edit-modal",
  props: {
    modelValue: { default: () => ({}) },
    lang: { default: "json" },
    title: { default: "编辑" }
  },
  emits: ["update:modelValue", "close"],
  setup(r, { emit: n }) {
    const i = r, o = ref(!1), a = computed({
      get() {
        return i.lang === "json" ? JSON.stringify(i.modelValue, null, 2) : i.modelValue;
      },
      set(u) {
        i.lang === "json" ? n("update:modelValue", JSON.parse(u)) : n("update:modelValue", u);
      }
    });
    return (u, c) => (openBlock(), createElementBlock("div", null, [
      createVNode$1(unref(ElButton), {
        onClick: c[0] || (c[0] = (f) => o.value = !0)
      }, {
        default: withCtx(() => [
          createTextVNode("···")
        ]),
        _: 1
      }),
      createVNode$1(unref(ElDialog), {
        class: "modal-full",
        modelValue: unref(o),
        "onUpdate:modelValue": c[2] || (c[2] = (f) => isRef(o) ? o.value = f : null),
        title: i.title,
        width: "60%",
        onClose: c[3] || (c[3] = (f) => n("close"))
      }, {
        default: withCtx(() => [
          createVNode$1(unref(VAceEditor), {
            value: unref(a),
            "onUpdate:value": c[1] || (c[1] = (f) => isRef(a) ? a.value = f : null),
            lang: i.lang,
            theme: "kr_theme",
            style: { height: "400px" },
            options: {
              useWorker: !0,
              enableBasicAutocompletion: !0,
              enableSnippets: !0,
              enableLiveAutocompletion: !0
            }
          }, null, 8, ["value", "lang"])
        ]),
        _: 1
      }, 8, ["modelValue", "title"])
    ]));
  }
}), _hoisted_1$b = {
  class: "one-row-txt",
  style: { width: "78px" }
}, _hoisted_2$8 = { key: 1 }, _hoisted_3$7 = {
  class: "one-row-txt",
  style: { width: "145px" }
}, _hoisted_4$3 = { key: 1 }, _sfc_main$v = /* @__PURE__ */ defineComponent({
  __name: "dynamic-el-form-item",
  props: {
    objInfo: { default: () => ({}) },
    hide: { default: () => [] },
    code: { type: Boolean, default: !1 }
  },
  emits: ["change"],
  setup(r, { emit: n }) {
    const i = r, o = computed(() => {
      var d;
      const u = {};
      let c = 0, f = [];
      for (let p of Object.keys(i.objInfo)) {
        const y = (d = i.objInfo[p]) == null ? void 0 : d.sort;
        if (y) {
          const v = Number(y);
          v > c && (c = v);
        }
        if (y)
          u[y] = p;
        else
          return Object.keys(i.objInfo).map((v) => ({
            ...i.objInfo[v],
            _key: v
          }));
      }
      for (let p = 0; p < c + 1; p++) {
        const y = String(p);
        f.push({
          ...i.objInfo[u[y]],
          _key: u[y]
        });
      }
      return f;
    });
    function a(u) {
      let c = window.setTimeout(function() {
        n("change", u), clearTimeout(c), c = null;
      }, 200);
    }
    return (u, c) => (openBlock(!0), createElementBlock(Fragment, null, renderList(unref(o), (f) => (openBlock(), createElementBlock("div", {
      key: f._key
    }, [
      i.code ? (openBlock(), createBlock(unref(ElFormItem$1), {
        key: 0,
        class: "props-row",
        size: "small"
      }, {
        label: withCtx(() => [
          unref(getStringWidth)(String(f._key)) > 78 ? (openBlock(), createBlock(unref(ElTooltip$1), {
            key: 0,
            content: String(f._key),
            placement: "left",
            "popper-class": "props-popper"
          }, {
            default: withCtx(() => [
              createElementVNode("div", _hoisted_1$b, toDisplayString(f._key), 1)
            ]),
            _: 2
          }, 1032, ["content"])) : (openBlock(), createElementBlock("span", _hoisted_2$8, toDisplayString(f._key), 1))
        ]),
        default: withCtx(() => [
          unref(getStringWidth)(String(f.val)) > 145 ? (openBlock(), createBlock(unref(ElTooltip$1), {
            key: 0,
            content: JSON.stringify(f.val),
            placement: "left",
            "popper-class": "props-popper"
          }, {
            default: withCtx(() => [
              createElementVNode("div", _hoisted_3$7, toDisplayString(f.val), 1)
            ]),
            _: 2
          }, 1032, ["content"])) : (openBlock(), createElementBlock("span", _hoisted_4$3, toDisplayString(f.val), 1))
        ]),
        _: 2
      }, 1024)) : createCommentVNode("", !0),
      i.hide.indexOf(String(f._key)) < 0 ? (openBlock(), createBlock(unref(ElFormItem$1), {
        key: 1,
        label: f.title,
        size: "small"
      }, {
        default: withCtx(() => [
          f.type === unref(EConfigItemPropsType).Select ? (openBlock(), createBlock(unref(ElSelect$1), {
            key: 0,
            modelValue: i.objInfo[f._key].val,
            "onUpdate:modelValue": (d) => i.objInfo[f._key].val = d,
            placeholder: "Select",
            size: "small",
            disabled: !!(f != null && f.disabled),
            onChange: a
          }, {
            default: withCtx(() => [
              (openBlock(!0), createElementBlock(Fragment, null, renderList(f.options, (d) => (openBlock(), createBlock(unref(ElOption$1), {
                key: d.value,
                label: d.label,
                value: d.value
              }, null, 8, ["label", "value"]))), 128))
            ]),
            _: 2
          }, 1032, ["modelValue", "onUpdate:modelValue", "disabled"])) : f.type === unref(EConfigItemPropsType).InputNumber ? (openBlock(), createBlock(unref(ElInputNumber), {
            key: 1,
            modelValue: i.objInfo[f._key].val,
            "onUpdate:modelValue": (d) => i.objInfo[f._key].val = d,
            disabled: !!(f != null && f.disabled),
            onChange: a
          }, null, 8, ["modelValue", "onUpdate:modelValue", "disabled"])) : f.type === unref(EConfigItemPropsType).Input ? (openBlock(), createBlock(unref(ElInput$1), {
            key: 2,
            modelValue: i.objInfo[f._key].val,
            "onUpdate:modelValue": (d) => i.objInfo[f._key].val = d,
            disabled: !!(f != null && f.disabled),
            onChange: a
          }, null, 8, ["modelValue", "onUpdate:modelValue", "disabled"])) : f.type === unref(EConfigItemPropsType).Textarea ? (openBlock(), createBlock(unref(ElInput$1), {
            key: 3,
            modelValue: i.objInfo[f._key].val,
            "onUpdate:modelValue": (d) => i.objInfo[f._key].val = d,
            autosize: "",
            type: "textarea",
            disabled: !!(f != null && f.disabled),
            onChange: a
          }, null, 8, ["modelValue", "onUpdate:modelValue", "disabled"])) : f.type === unref(EConfigItemPropsType).Color ? (openBlock(), createBlock(unref(ElColorPicker), {
            key: 4,
            modelValue: i.objInfo[f._key].val,
            "onUpdate:modelValue": (d) => i.objInfo[f._key].val = d,
            disabled: !!(f != null && f.disabled),
            onChange: a
          }, null, 8, ["modelValue", "onUpdate:modelValue", "disabled"])) : f.type === unref(EConfigItemPropsType).Switch ? (openBlock(), createBlock(unref(ElSwitch), {
            key: 5,
            modelValue: i.objInfo[f._key].val,
            "onUpdate:modelValue": (d) => i.objInfo[f._key].val = d,
            disabled: !!(f != null && f.disabled),
            onChange: a
          }, null, 8, ["modelValue", "onUpdate:modelValue", "disabled"])) : f.type === unref(EConfigItemPropsType).JsonEdit ? (openBlock(), createBlock(_sfc_main$w, {
            key: 6,
            modelValue: i.objInfo[f._key].val,
            "onUpdate:modelValue": (d) => i.objInfo[f._key].val = d,
            disabled: !!(f != null && f.disabled),
            onClose: a
          }, null, 8, ["modelValue", "onUpdate:modelValue", "disabled"])) : createCommentVNode("", !0)
        ]),
        _: 2
      }, 1032, ["label"])) : createCommentVNode("", !0)
    ]))), 128));
  }
}), dynamicElFormItem_vue_vue_type_style_index_0_scoped_b2819020_lang = "", dynamicElFormItem_vue_vue_type_style_index_1_lang = "", DynamicElFormItem = /* @__PURE__ */ _export_sfc$1(_sfc_main$v, [["__scopeId", "data-v-b2819020"]]), _hoisted_1$a = { style: { height: "100%" } }, _hoisted_2$7 = { class: "flex flex-wrap" }, _hoisted_3$6 = ["onMouseenter", "onClick"], _sfc_main$u = /* @__PURE__ */ defineComponent({
  __name: "common-animate",
  props: {
    val: {}
  },
  emits: ["updateCommonAniVal"],
  setup(r, { emit: n }) {
    const i = r, o = ref(i.val), a = ref(!1), u = ref("进入"), c = ref(null), f = (d) => {
      n("updateCommonAniVal", d), a.value = !1;
    };
    return watch(
      () => i.val,
      (d) => {
        o.value = d;
      }
    ), (d, p) => (openBlock(), createElementBlock("div", _hoisted_1$a, [
      unref(o) ? (openBlock(), createBlock(unref(ElTag$1), {
        key: 0,
        closable: "",
        onClose: p[0] || (p[0] = (y) => f("")),
        onClick: p[1] || (p[1] = (y) => a.value = !0),
        style: { cursor: "pointer" }
      }, {
        default: withCtx(() => {
          var y;
          return [
            createTextVNode(toDisplayString((y = unref(common_animate_list).map((v) => v.children).reduce((v, g) => v.concat(g)).find((v) => v.value == unref(o))) == null ? void 0 : y.label) + " ", 1),
            createVNode$1(unref(ElIcon$1), { size: 10 }, {
              default: withCtx(() => [
                createVNode$1(_sfc_main$D, { name: "setting" })
              ]),
              _: 1
            })
          ];
        }),
        _: 1
      })) : (openBlock(), createBlock(unref(ElTag$1), {
        key: 1,
        type: "success",
        style: { cursor: "pointer" },
        onClick: p[2] || (p[2] = (y) => a.value = !0)
      }, {
        default: withCtx(() => [
          createTextVNode("新增")
        ]),
        _: 1
      })),
      createVNode$1(unref(ElDrawer), {
        modelValue: unref(a),
        "onUpdate:modelValue": p[5] || (p[5] = (y) => isRef(a) ? a.value = y : null),
        title: "选择动画",
        direction: "ltr"
      }, {
        default: withCtx(() => [
          createVNode$1(unref(ElTabs), {
            modelValue: unref(u),
            "onUpdate:modelValue": p[4] || (p[4] = (y) => isRef(u) ? u.value = y : null)
          }, {
            default: withCtx(() => [
              (openBlock(!0), createElementBlock(Fragment, null, renderList(unref(common_animate_list), (y) => (openBlock(), createBlock(unref(ElTabPane), {
                label: y.label,
                name: y.label,
                key: y.label
              }, {
                default: withCtx(() => [
                  createVNode$1(unref(ElScrollbar$1), { height: "500px" }, {
                    default: withCtx(() => [
                      createElementVNode("div", _hoisted_2$7, [
                        (openBlock(!0), createElementBlock(Fragment, null, renderList(y.children, (v, g) => (openBlock(), createElementBlock("div", {
                          class: "animate",
                          key: g,
                          onMouseenter: (_) => c.value = g,
                          onMouseleave: p[3] || (p[3] = (_) => c.value = null),
                          onClick: (_) => f(v.value)
                        }, [
                          createElementVNode("div", {
                            class: normalizeClass(`${unref(c) == g ? `animate__animated animate__${v.value} animate__slow animate__infinite` : ""}`)
                          }, toDisplayString(v.label), 3)
                        ], 40, _hoisted_3$6))), 128))
                      ])
                    ]),
                    _: 2
                  }, 1024)
                ]),
                _: 2
              }, 1032, ["label", "name"]))), 128))
            ]),
            _: 1
          }, 8, ["modelValue"])
        ]),
        _: 1
      }, 8, ["modelValue"])
    ]));
  }
}), commonAnimate_vue_vue_type_style_index_0_scoped_2668f60c_lang = "", CommonAnimate = /* @__PURE__ */ _export_sfc$1(_sfc_main$u, [["__scopeId", "data-v-2668f60c"]]), _sfc_main$t = /* @__PURE__ */ defineComponent({
  __name: "component-tree",
  setup(r) {
    const n = useGlobalStore(pinia), i = computed(() => {
      var u;
      return ((u = n.handle_svg_info) == null ? void 0 : u.info.id) ?? "";
    }), o = (u) => {
      for (let c of n.done_json)
        c.selected = !1, c.old_position = { x: 0, y: 0 };
      n.intention = EGlobalStoreIntention.Select, n.setHandleSvgInfo(u);
    }, a = {
      children: "children",
      label: "title"
    };
    return (u, c) => (openBlock(), createBlock(unref(ElTree), {
      class: "tree-v",
      data: unref(n).done_json,
      props: a,
      onNodeClick: o,
      "default-expand-all": !0,
      "expand-on-click-node": !1,
      "highlight-current": !!unref(i),
      "node-key": "id",
      "current-node-key": unref(i)
    }, null, 8, ["data", "highlight-current", "current-node-key"]));
  }
}), _withScopeId$1 = (r) => (pushScopeId("data-v-98320511"), r = r(), popScopeId(), r), _hoisted_1$9 = { class: "wall-l" }, _hoisted_2$6 = { class: "head-l" }, _hoisted_3$5 = /* @__PURE__ */ _withScopeId$1(() => /* @__PURE__ */ createElementVNode("span", null, "key", -1)), _hoisted_4$2 = /* @__PURE__ */ _withScopeId$1(() => /* @__PURE__ */ createElementVNode("span", null, "value", -1)), _hoisted_5$1 = { class: "row-l" }, _sfc_main$s = /* @__PURE__ */ defineComponent({
  __name: "list",
  props: {
    modelValue: { default: () => [
      {
        key: "",
        val: ""
      }
    ] }
  },
  emits: ["update:modelValue"],
  setup(r, { emit: n }) {
    const i = r, o = computed({
      get() {
        return i.modelValue;
      },
      set(c) {
        n("update:modelValue", c);
      }
    }), a = () => {
      o.value.push({
        key: "",
        val: ""
      });
    }, u = (c) => {
      o.value.splice(c, 1);
    };
    return (c, f) => (openBlock(), createElementBlock("div", _hoisted_1$9, [
      createElementVNode("div", _hoisted_2$6, [
        _hoisted_3$5,
        _hoisted_4$2,
        createVNode$1(unref(ElIcon$1), {
          size: 16,
          class: "bt-Icon",
          onClick: a
        }, {
          default: withCtx(() => [
            createVNode$1(_sfc_main$D, { name: "add" })
          ]),
          _: 1
        })
      ]),
      (openBlock(!0), createElementBlock(Fragment, null, renderList(unref(o), (d, p) => (openBlock(), createElementBlock("div", _hoisted_5$1, [
        createVNode$1(unref(ElInput$1), {
          class: "content-l",
          modelValue: d.key,
          "onUpdate:modelValue": (y) => d.key = y,
          size: "small",
          placeholder: "key"
        }, null, 8, ["modelValue", "onUpdate:modelValue"]),
        createVNode$1(unref(ElInput$1), {
          class: "content-l",
          modelValue: d.val,
          "onUpdate:modelValue": (y) => d.val = y,
          size: "small",
          placeholder: "value"
        }, null, 8, ["modelValue", "onUpdate:modelValue"]),
        createVNode$1(unref(ElIcon$1), {
          size: 16,
          class: "bt-Icon",
          onClick: (y) => u(p)
        }, {
          default: withCtx(() => [
            createVNode$1(_sfc_main$D, { name: "delete" })
          ]),
          _: 2
        }, 1032, ["onClick"])
      ]))), 256))
    ]));
  }
}), list_vue_vue_type_style_index_0_scoped_98320511_lang = "", List = /* @__PURE__ */ _export_sfc$1(_sfc_main$s, [["__scopeId", "data-v-98320511"]]), composeEventHandlers = (r, n, { checkForDefaultPrevented: i = !0 } = {}) => (a) => {
  const u = r == null ? void 0 : r(a);
  if (i === !1 || !u)
    return n == null ? void 0 : n(a);
};
var _a;
const isClient = typeof window < "u", isString$1 = (r) => typeof r == "string", noop = () => {
}, isIOS = isClient && ((_a = window == null ? void 0 : window.navigator) == null ? void 0 : _a.userAgent) && /iP(ad|hone|od)/.test(window.navigator.userAgent);
function resolveUnref(r) {
  return typeof r == "function" ? r() : unref(r);
}
function createFilterWrapper(r, n) {
  function i(...o) {
    return new Promise((a, u) => {
      Promise.resolve(r(() => n.apply(this, o), { fn: n, thisArg: this, args: o })).then(a).catch(u);
    });
  }
  return i;
}
function debounceFilter(r, n = {}) {
  let i, o, a = noop;
  const u = (f) => {
    clearTimeout(f), a(), a = noop;
  };
  return (f) => {
    const d = resolveUnref(r), p = resolveUnref(n.maxWait);
    return i && u(i), d <= 0 || p !== void 0 && p <= 0 ? (o && (u(o), o = null), Promise.resolve(f())) : new Promise((y, v) => {
      a = n.rejectOnCancel ? v : y, p && !o && (o = setTimeout(() => {
        i && u(i), o = null, y(f());
      }, p)), i = setTimeout(() => {
        o && u(o), o = null, y(f());
      }, d);
    });
  };
}
function identity(r) {
  return r;
}
function tryOnScopeDispose(r) {
  return getCurrentScope() ? (onScopeDispose(r), !0) : !1;
}
function useDebounceFn(r, n = 200, i = {}) {
  return createFilterWrapper(debounceFilter(n, i), r);
}
function refDebounced(r, n = 200, i = {}) {
  const o = ref(r.value), a = useDebounceFn(() => {
    o.value = r.value;
  }, n, i);
  return watch(r, () => a()), o;
}
function tryOnMounted(r, n = !0) {
  getCurrentInstance() ? onMounted(r) : n ? r() : nextTick(r);
}
function unrefElement(r) {
  var n;
  const i = resolveUnref(r);
  return (n = i == null ? void 0 : i.$el) != null ? n : i;
}
const defaultWindow = isClient ? window : void 0;
function useEventListener(...r) {
  let n, i, o, a;
  if (isString$1(r[0]) || Array.isArray(r[0]) ? ([i, o, a] = r, n = defaultWindow) : [n, i, o, a] = r, !n)
    return noop;
  Array.isArray(i) || (i = [i]), Array.isArray(o) || (o = [o]);
  const u = [], c = () => {
    u.forEach((y) => y()), u.length = 0;
  }, f = (y, v, g, _) => (y.addEventListener(v, g, _), () => y.removeEventListener(v, g, _)), d = watch(() => [unrefElement(n), resolveUnref(a)], ([y, v]) => {
    c(), y && u.push(...i.flatMap((g) => o.map((_) => f(y, g, _, v))));
  }, { immediate: !0, flush: "post" }), p = () => {
    d(), c();
  };
  return tryOnScopeDispose(p), p;
}
let _iOSWorkaround = !1;
function onClickOutside(r, n, i = {}) {
  const { window: o = defaultWindow, ignore: a = [], capture: u = !0, detectIframe: c = !1 } = i;
  if (!o)
    return;
  isIOS && !_iOSWorkaround && (_iOSWorkaround = !0, Array.from(o.document.body.children).forEach((g) => g.addEventListener("click", noop)));
  let f = !0;
  const d = (g) => a.some((_) => {
    if (typeof _ == "string")
      return Array.from(o.document.querySelectorAll(_)).some((b) => b === g.target || g.composedPath().includes(b));
    {
      const b = unrefElement(_);
      return b && (g.target === b || g.composedPath().includes(b));
    }
  }), y = [
    useEventListener(o, "click", (g) => {
      const _ = unrefElement(r);
      if (!(!_ || _ === g.target || g.composedPath().includes(_))) {
        if (g.detail === 0 && (f = !d(g)), !f) {
          f = !0;
          return;
        }
        n(g);
      }
    }, { passive: !0, capture: u }),
    useEventListener(o, "pointerdown", (g) => {
      const _ = unrefElement(r);
      _ && (f = !g.composedPath().includes(_) && !d(g));
    }, { passive: !0 }),
    c && useEventListener(o, "blur", (g) => {
      var _;
      const b = unrefElement(r);
      ((_ = o.document.activeElement) == null ? void 0 : _.tagName) === "IFRAME" && !(b != null && b.contains(o.document.activeElement)) && n(g);
    })
  ].filter(Boolean);
  return () => y.forEach((g) => g());
}
function useSupported(r, n = !1) {
  const i = ref(), o = () => i.value = !!r();
  return o(), tryOnMounted(o, n), i;
}
const _global = typeof globalThis < "u" ? globalThis : typeof window < "u" ? window : typeof global < "u" ? global : typeof self < "u" ? self : {}, globalKey = "__vueuse_ssr_handlers__";
_global[globalKey] = _global[globalKey] || {};
var __getOwnPropSymbols$g = Object.getOwnPropertySymbols, __hasOwnProp$g = Object.prototype.hasOwnProperty, __propIsEnum$g = Object.prototype.propertyIsEnumerable, __objRest$2 = (r, n) => {
  var i = {};
  for (var o in r)
    __hasOwnProp$g.call(r, o) && n.indexOf(o) < 0 && (i[o] = r[o]);
  if (r != null && __getOwnPropSymbols$g)
    for (var o of __getOwnPropSymbols$g(r))
      n.indexOf(o) < 0 && __propIsEnum$g.call(r, o) && (i[o] = r[o]);
  return i;
};
function useResizeObserver(r, n, i = {}) {
  const o = i, { window: a = defaultWindow } = o, u = __objRest$2(o, ["window"]);
  let c;
  const f = useSupported(() => a && "ResizeObserver" in a), d = () => {
    c && (c.disconnect(), c = void 0);
  }, p = watch(() => unrefElement(r), (v) => {
    d(), f.value && a && v && (c = new ResizeObserver(n), c.observe(v, u));
  }, { immediate: !0, flush: "post" }), y = () => {
    d(), p();
  };
  return tryOnScopeDispose(y), {
    isSupported: f,
    stop: y
  };
}
var SwipeDirection;
(function(r) {
  r.UP = "UP", r.RIGHT = "RIGHT", r.DOWN = "DOWN", r.LEFT = "LEFT", r.NONE = "NONE";
})(SwipeDirection || (SwipeDirection = {}));
var __defProp = Object.defineProperty, __getOwnPropSymbols = Object.getOwnPropertySymbols, __hasOwnProp = Object.prototype.hasOwnProperty, __propIsEnum = Object.prototype.propertyIsEnumerable, __defNormalProp = (r, n, i) => n in r ? __defProp(r, n, { enumerable: !0, configurable: !0, writable: !0, value: i }) : r[n] = i, __spreadValues = (r, n) => {
  for (var i in n || (n = {}))
    __hasOwnProp.call(n, i) && __defNormalProp(r, i, n[i]);
  if (__getOwnPropSymbols)
    for (var i of __getOwnPropSymbols(n))
      __propIsEnum.call(n, i) && __defNormalProp(r, i, n[i]);
  return r;
};
const _TransitionPresets = {
  easeInSine: [0.12, 0, 0.39, 0],
  easeOutSine: [0.61, 1, 0.88, 1],
  easeInOutSine: [0.37, 0, 0.63, 1],
  easeInQuad: [0.11, 0, 0.5, 0],
  easeOutQuad: [0.5, 1, 0.89, 1],
  easeInOutQuad: [0.45, 0, 0.55, 1],
  easeInCubic: [0.32, 0, 0.67, 0],
  easeOutCubic: [0.33, 1, 0.68, 1],
  easeInOutCubic: [0.65, 0, 0.35, 1],
  easeInQuart: [0.5, 0, 0.75, 0],
  easeOutQuart: [0.25, 1, 0.5, 1],
  easeInOutQuart: [0.76, 0, 0.24, 1],
  easeInQuint: [0.64, 0, 0.78, 0],
  easeOutQuint: [0.22, 1, 0.36, 1],
  easeInOutQuint: [0.83, 0, 0.17, 1],
  easeInExpo: [0.7, 0, 0.84, 0],
  easeOutExpo: [0.16, 1, 0.3, 1],
  easeInOutExpo: [0.87, 0, 0.13, 1],
  easeInCirc: [0.55, 0, 1, 0.45],
  easeOutCirc: [0, 0.55, 0.45, 1],
  easeInOutCirc: [0.85, 0, 0.15, 1],
  easeInBack: [0.36, 0, 0.66, -0.56],
  easeOutBack: [0.34, 1.56, 0.64, 1],
  easeInOutBack: [0.68, -0.6, 0.32, 1.6]
};
__spreadValues({
  linear: identity
}, _TransitionPresets);
const isFirefox = () => isClient && /firefox/i.test(window.navigator.userAgent);
process.env.NODE_ENV !== "production" && Object.freeze({});
process.env.NODE_ENV !== "production" && Object.freeze([]);
const NOOP = () => {
}, hasOwnProperty = Object.prototype.hasOwnProperty, hasOwn = (r, n) => hasOwnProperty.call(r, n), isArray = Array.isArray, isFunction = (r) => typeof r == "function", isString = (r) => typeof r == "string", isObject = (r) => r !== null && typeof r == "object", objectToString = Object.prototype.toString, toTypeString = (r) => objectToString.call(r), toRawType = (r) => toTypeString(r).slice(8, -1), isUndefined = (r) => r === void 0, isBoolean = (r) => typeof r == "boolean", isNumber = (r) => typeof r == "number", isElement = (r) => typeof Element > "u" ? !1 : r instanceof Element, isStringNumber = (r) => isString(r) ? !Number.isNaN(Number(r)) : !1, escapeStringRegexp = (r = "") => r.replace(/[|\\{}()[\]^$+*?.]/g, "\\$&").replace(/-/g, "\\x2d"), getProp = (r, n, i) => ({
  get value() {
    return get$1(r, n, i);
  },
  set value(o) {
    set$1(r, n, o);
  }
});
class ElementPlusError extends Error {
  constructor(n) {
    super(n), this.name = "ElementPlusError";
  }
}
function throwError(r, n) {
  throw new ElementPlusError(`[${r}] ${n}`);
}
function debugWarn(r, n) {
  if (process.env.NODE_ENV !== "production") {
    const i = isString(r) ? new ElementPlusError(`[${r}] ${n}`) : r;
    console.warn(i);
  }
}
const SCOPE$1 = "utils/dom/style";
function addUnit(r, n = "px") {
  if (!r)
    return "";
  if (isNumber(r) || isStringNumber(r))
    return `${r}${n}`;
  if (isString(r))
    return r;
  debugWarn(SCOPE$1, "binding value must be a string or number");
}
function scrollIntoView(r, n) {
  if (!isClient)
    return;
  if (!n) {
    r.scrollTop = 0;
    return;
  }
  const i = [];
  let o = n.offsetParent;
  for (; o !== null && r !== o && r.contains(o); )
    i.push(o), o = o.offsetParent;
  const a = n.offsetTop + i.reduce((d, p) => d + p.offsetTop, 0), u = a + n.offsetHeight, c = r.scrollTop, f = c + r.clientHeight;
  a < c ? r.scrollTop = a : u > f && (r.scrollTop = u - r.clientHeight);
}
const epPropKey = "__epPropKey", definePropType = (r) => r, isEpProp = (r) => isObject(r) && !!r[epPropKey], buildProp = (r, n) => {
  if (!isObject(r) || isEpProp(r))
    return r;
  const { values: i, required: o, default: a, type: u, validator: c } = r, d = {
    type: u,
    required: !!o,
    validator: i || c ? (p) => {
      let y = !1, v = [];
      if (i && (v = Array.from(i), hasOwn(r, "default") && v.push(a), y || (y = v.includes(p))), c && (y || (y = c(p))), !y && v.length > 0) {
        const g = [...new Set(v)].map((_) => JSON.stringify(_)).join(", ");
        warn$1(`Invalid prop: validation failed${n ? ` for prop "${n}"` : ""}. Expected one of [${g}], got value ${JSON.stringify(p)}.`);
      }
      return y;
    } : void 0,
    [epPropKey]: !0
  };
  return hasOwn(r, "default") && (d.default = a), d;
}, buildProps = (r) => fromPairs(Object.entries(r).map(([n, i]) => [
  n,
  buildProp(i, n)
])), iconPropType = definePropType([
  String,
  Object,
  Function
]), ValidateComponentsMap = {
  validating: loading_default,
  success: circle_check_default,
  error: circle_close_default
}, withInstall = (r, n) => {
  if (r.install = (i) => {
    for (const o of [r, ...Object.values(n ?? {})])
      i.component(o.name, o);
  }, n)
    for (const [i, o] of Object.entries(n))
      r[i] = o;
  return r;
}, withNoopInstall = (r) => (r.install = NOOP, r), EVENT_CODE = {
  tab: "Tab",
  enter: "Enter",
  space: "Space",
  left: "ArrowLeft",
  up: "ArrowUp",
  right: "ArrowRight",
  down: "ArrowDown",
  esc: "Escape",
  delete: "Delete",
  backspace: "Backspace",
  numpadEnter: "NumpadEnter",
  pageUp: "PageUp",
  pageDown: "PageDown",
  home: "Home",
  end: "End"
}, UPDATE_MODEL_EVENT = "update:modelValue", CHANGE_EVENT = "change", componentSizes = ["", "default", "small", "large"], componentSizeMap = {
  large: 40,
  default: 32,
  small: 24
}, getComponentSize = (r) => componentSizeMap[r || "default"], isValidComponentSize = (r) => ["", ...componentSizes].includes(r), isKorean = (r) => /([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(r), mutable = (r) => r, DEFAULT_EXCLUDE_KEYS = ["class", "style"], LISTENER_PREFIX = /^on[A-Z]/, useAttrs = (r = {}) => {
  const { excludeListeners: n = !1, excludeKeys: i } = r, o = computed(() => ((i == null ? void 0 : i.value) || []).concat(DEFAULT_EXCLUDE_KEYS)), a = getCurrentInstance();
  return a ? computed(() => {
    var u;
    return fromPairs(Object.entries((u = a.proxy) == null ? void 0 : u.$attrs).filter(([c]) => !o.value.includes(c) && !(n && LISTENER_PREFIX.test(c))));
  }) : (debugWarn("use-attrs", "getCurrentInstance() returned null. useAttrs() must be called at the top of a setup function"), computed(() => ({})));
}, useDeprecated = ({ from: r, replacement: n, scope: i, version: o, ref: a, type: u = "API" }, c) => {
  watch(() => unref(c), (f) => {
    f && debugWarn(i, `[${u}] ${r} is about to be deprecated in version ${o}, please use ${n} instead.
For more detail, please visit: ${a}
`);
  }, {
    immediate: !0
  });
}, useFocus = (r) => ({
  focus: () => {
    var n, i;
    (i = (n = r.value) == null ? void 0 : n.focus) == null || i.call(n);
  }
});
var English = {
  name: "en",
  el: {
    colorpicker: {
      confirm: "OK",
      clear: "Clear",
      defaultLabel: "color picker",
      description: "current color is {color}. press enter to select a new color."
    },
    datepicker: {
      now: "Now",
      today: "Today",
      cancel: "Cancel",
      clear: "Clear",
      confirm: "OK",
      dateTablePrompt: "Use the arrow keys and enter to select the day of the month",
      monthTablePrompt: "Use the arrow keys and enter to select the month",
      yearTablePrompt: "Use the arrow keys and enter to select the year",
      selectedDate: "Selected date",
      selectDate: "Select date",
      selectTime: "Select time",
      startDate: "Start Date",
      startTime: "Start Time",
      endDate: "End Date",
      endTime: "End Time",
      prevYear: "Previous Year",
      nextYear: "Next Year",
      prevMonth: "Previous Month",
      nextMonth: "Next Month",
      year: "",
      month1: "January",
      month2: "February",
      month3: "March",
      month4: "April",
      month5: "May",
      month6: "June",
      month7: "July",
      month8: "August",
      month9: "September",
      month10: "October",
      month11: "November",
      month12: "December",
      week: "week",
      weeks: {
        sun: "Sun",
        mon: "Mon",
        tue: "Tue",
        wed: "Wed",
        thu: "Thu",
        fri: "Fri",
        sat: "Sat"
      },
      weeksFull: {
        sun: "Sunday",
        mon: "Monday",
        tue: "Tuesday",
        wed: "Wednesday",
        thu: "Thursday",
        fri: "Friday",
        sat: "Saturday"
      },
      months: {
        jan: "Jan",
        feb: "Feb",
        mar: "Mar",
        apr: "Apr",
        may: "May",
        jun: "Jun",
        jul: "Jul",
        aug: "Aug",
        sep: "Sep",
        oct: "Oct",
        nov: "Nov",
        dec: "Dec"
      }
    },
    inputNumber: {
      decrease: "decrease number",
      increase: "increase number"
    },
    select: {
      loading: "Loading",
      noMatch: "No matching data",
      noData: "No data",
      placeholder: "Select"
    },
    dropdown: {
      toggleDropdown: "Toggle Dropdown"
    },
    cascader: {
      noMatch: "No matching data",
      loading: "Loading",
      placeholder: "Select",
      noData: "No data"
    },
    pagination: {
      goto: "Go to",
      pagesize: "/page",
      total: "Total {total}",
      pageClassifier: "",
      page: "Page",
      prev: "Go to previous page",
      next: "Go to next page",
      currentPage: "page {pager}",
      prevPages: "Previous {pager} pages",
      nextPages: "Next {pager} pages",
      deprecationWarning: "Deprecated usages detected, please refer to the el-pagination documentation for more details"
    },
    dialog: {
      close: "Close this dialog"
    },
    drawer: {
      close: "Close this dialog"
    },
    messagebox: {
      title: "Message",
      confirm: "OK",
      cancel: "Cancel",
      error: "Illegal input",
      close: "Close this dialog"
    },
    upload: {
      deleteTip: "press delete to remove",
      delete: "Delete",
      preview: "Preview",
      continue: "Continue"
    },
    slider: {
      defaultLabel: "slider between {min} and {max}",
      defaultRangeStartLabel: "pick start value",
      defaultRangeEndLabel: "pick end value"
    },
    table: {
      emptyText: "No Data",
      confirmFilter: "Confirm",
      resetFilter: "Reset",
      clearFilter: "All",
      sumText: "Sum"
    },
    tree: {
      emptyText: "No Data"
    },
    transfer: {
      noMatch: "No matching data",
      noData: "No data",
      titles: ["List 1", "List 2"],
      filterPlaceholder: "Enter keyword",
      noCheckedFormat: "{total} items",
      hasCheckedFormat: "{checked}/{total} checked"
    },
    image: {
      error: "FAILED"
    },
    pageHeader: {
      title: "Back"
    },
    popconfirm: {
      confirmButtonText: "Yes",
      cancelButtonText: "No"
    }
  }
};
const buildTranslator = (r) => (n, i) => translate(n, i, unref(r)), translate = (r, n, i) => get$1(i, r, r).replace(/\{(\w+)\}/g, (o, a) => {
  var u;
  return `${(u = n == null ? void 0 : n[a]) != null ? u : `{${a}}`}`;
}), buildLocaleContext = (r) => {
  const n = computed(() => unref(r).name), i = isRef(r) ? r : ref(r);
  return {
    lang: n,
    locale: i,
    t: buildTranslator(r)
  };
}, localeContextKey = Symbol("localeContextKey"), useLocale = (r) => {
  const n = r || inject(localeContextKey, ref());
  return buildLocaleContext(computed(() => n.value || English));
}, defaultNamespace = "el", statePrefix = "is-", _bem = (r, n, i, o, a) => {
  let u = `${r}-${n}`;
  return i && (u += `-${i}`), o && (u += `__${o}`), a && (u += `--${a}`), u;
}, namespaceContextKey = Symbol("namespaceContextKey"), useGetDerivedNamespace = (r) => {
  const n = r || inject(namespaceContextKey, ref(defaultNamespace));
  return computed(() => unref(n) || defaultNamespace);
}, useNamespace = (r, n) => {
  const i = useGetDerivedNamespace(n);
  return {
    namespace: i,
    b: (A = "") => _bem(i.value, r, A, "", ""),
    e: (A) => A ? _bem(i.value, r, "", A, "") : "",
    m: (A) => A ? _bem(i.value, r, "", "", A) : "",
    be: (A, w) => A && w ? _bem(i.value, r, A, w, "") : "",
    em: (A, w) => A && w ? _bem(i.value, r, "", A, w) : "",
    bm: (A, w) => A && w ? _bem(i.value, r, A, "", w) : "",
    bem: (A, w, S) => A && w && S ? _bem(i.value, r, A, w, S) : "",
    is: (A, ...w) => {
      const S = w.length >= 1 ? w[0] : !0;
      return A && S ? `${statePrefix}${A}` : "";
    },
    cssVar: (A) => {
      const w = {};
      for (const S in A)
        A[S] && (w[`--${i.value}-${S}`] = A[S]);
      return w;
    },
    cssVarName: (A) => `--${i.value}-${A}`,
    cssVarBlock: (A) => {
      const w = {};
      for (const S in A)
        A[S] && (w[`--${i.value}-${r}-${S}`] = A[S]);
      return w;
    },
    cssVarBlockName: (A) => `--${i.value}-${r}-${A}`
  };
}, _prop = buildProp({
  type: definePropType(Boolean),
  default: null
}), _event = buildProp({
  type: definePropType(Function)
}), createModelToggleComposable = (r) => {
  const n = `update:${r}`, i = `onUpdate:${r}`, o = [n], a = {
    [r]: _prop,
    [i]: _event
  };
  return {
    useModelToggle: ({
      indicator: c,
      toggleReason: f,
      shouldHideWhenRouteChanges: d,
      shouldProceed: p,
      onShow: y,
      onHide: v
    }) => {
      const g = getCurrentInstance(), { emit: _ } = g, b = g.props, A = computed(() => isFunction(b[i])), w = computed(() => b[r] === null), S = (O) => {
        c.value !== !0 && (c.value = !0, f && (f.value = O), isFunction(y) && y(O));
      }, x = (O) => {
        c.value !== !1 && (c.value = !1, f && (f.value = O), isFunction(v) && v(O));
      }, T = (O) => {
        if (b.disabled === !0 || isFunction(p) && !p())
          return;
        const ie = A.value && isClient;
        ie && _(n, !0), (w.value || !ie) && S(O);
      }, L = (O) => {
        if (b.disabled === !0 || !isClient)
          return;
        const ie = A.value && isClient;
        ie && _(n, !1), (w.value || !ie) && x(O);
      }, k = (O) => {
        isBoolean(O) && (b.disabled && O ? A.value && _(n, !1) : c.value !== O && (O ? S() : x()));
      }, M = () => {
        c.value ? L() : T();
      };
      return watch(() => b[r], k), d && g.appContext.config.globalProperties.$route !== void 0 && watch(() => ({
        ...g.proxy.$route
      }), () => {
        d.value && c.value && L();
      }), onMounted(() => {
        k(b[r]);
      }), {
        hide: L,
        show: T,
        toggle: M,
        hasUpdateHandler: A
      };
    },
    useModelToggleProps: a,
    useModelToggleEmits: o
  };
};
createModelToggleComposable("modelValue");
const useProp = (r) => {
  const n = getCurrentInstance();
  return computed(() => {
    var i, o;
    return (o = (i = n == null ? void 0 : n.proxy) == null ? void 0 : i.$props) == null ? void 0 : o[r];
  });
};
var E = "top", R = "bottom", W = "right", P = "left", me = "auto", G = [E, R, W, P], U = "start", J = "end", Xe = "clippingParents", je = "viewport", K = "popper", Ye = "reference", De = G.reduce(function(r, n) {
  return r.concat([n + "-" + U, n + "-" + J]);
}, []), Ee = [].concat(G, [me]).reduce(function(r, n) {
  return r.concat([n, n + "-" + U, n + "-" + J]);
}, []), Ge = "beforeRead", Je = "read", Ke = "afterRead", Qe = "beforeMain", Ze = "main", et = "afterMain", tt = "beforeWrite", nt = "write", rt = "afterWrite", ot = [Ge, Je, Ke, Qe, Ze, et, tt, nt, rt];
function C(r) {
  return r ? (r.nodeName || "").toLowerCase() : null;
}
function H(r) {
  if (r == null)
    return window;
  if (r.toString() !== "[object Window]") {
    var n = r.ownerDocument;
    return n && n.defaultView || window;
  }
  return r;
}
function Q(r) {
  var n = H(r).Element;
  return r instanceof n || r instanceof Element;
}
function B(r) {
  var n = H(r).HTMLElement;
  return r instanceof n || r instanceof HTMLElement;
}
function Pe(r) {
  if (typeof ShadowRoot > "u")
    return !1;
  var n = H(r).ShadowRoot;
  return r instanceof n || r instanceof ShadowRoot;
}
function Mt(r) {
  var n = r.state;
  Object.keys(n.elements).forEach(function(i) {
    var o = n.styles[i] || {}, a = n.attributes[i] || {}, u = n.elements[i];
    !B(u) || !C(u) || (Object.assign(u.style, o), Object.keys(a).forEach(function(c) {
      var f = a[c];
      f === !1 ? u.removeAttribute(c) : u.setAttribute(c, f === !0 ? "" : f);
    }));
  });
}
function Rt(r) {
  var n = r.state, i = { popper: { position: n.options.strategy, left: "0", top: "0", margin: "0" }, arrow: { position: "absolute" }, reference: {} };
  return Object.assign(n.elements.popper.style, i.popper), n.styles = i, n.elements.arrow && Object.assign(n.elements.arrow.style, i.arrow), function() {
    Object.keys(n.elements).forEach(function(o) {
      var a = n.elements[o], u = n.attributes[o] || {}, c = Object.keys(n.styles.hasOwnProperty(o) ? n.styles[o] : i[o]), f = c.reduce(function(d, p) {
        return d[p] = "", d;
      }, {});
      !B(a) || !C(a) || (Object.assign(a.style, f), Object.keys(u).forEach(function(d) {
        a.removeAttribute(d);
      }));
    });
  };
}
var Ae = { name: "applyStyles", enabled: !0, phase: "write", fn: Mt, effect: Rt, requires: ["computeStyles"] };
function q(r) {
  return r.split("-")[0];
}
var X = Math.max, ve = Math.min, Z = Math.round;
function ee(r, n) {
  n === void 0 && (n = !1);
  var i = r.getBoundingClientRect(), o = 1, a = 1;
  if (B(r) && n) {
    var u = r.offsetHeight, c = r.offsetWidth;
    c > 0 && (o = Z(i.width) / c || 1), u > 0 && (a = Z(i.height) / u || 1);
  }
  return { width: i.width / o, height: i.height / a, top: i.top / a, right: i.right / o, bottom: i.bottom / a, left: i.left / o, x: i.left / o, y: i.top / a };
}
function ke(r) {
  var n = ee(r), i = r.offsetWidth, o = r.offsetHeight;
  return Math.abs(n.width - i) <= 1 && (i = n.width), Math.abs(n.height - o) <= 1 && (o = n.height), { x: r.offsetLeft, y: r.offsetTop, width: i, height: o };
}
function it(r, n) {
  var i = n.getRootNode && n.getRootNode();
  if (r.contains(n))
    return !0;
  if (i && Pe(i)) {
    var o = n;
    do {
      if (o && r.isSameNode(o))
        return !0;
      o = o.parentNode || o.host;
    } while (o);
  }
  return !1;
}
function N(r) {
  return H(r).getComputedStyle(r);
}
function Wt(r) {
  return ["table", "td", "th"].indexOf(C(r)) >= 0;
}
function I(r) {
  return ((Q(r) ? r.ownerDocument : r.document) || window.document).documentElement;
}
function ge(r) {
  return C(r) === "html" ? r : r.assignedSlot || r.parentNode || (Pe(r) ? r.host : null) || I(r);
}
function at(r) {
  return !B(r) || N(r).position === "fixed" ? null : r.offsetParent;
}
function Bt(r) {
  var n = navigator.userAgent.toLowerCase().indexOf("firefox") !== -1, i = navigator.userAgent.indexOf("Trident") !== -1;
  if (i && B(r)) {
    var o = N(r);
    if (o.position === "fixed")
      return null;
  }
  var a = ge(r);
  for (Pe(a) && (a = a.host); B(a) && ["html", "body"].indexOf(C(a)) < 0; ) {
    var u = N(a);
    if (u.transform !== "none" || u.perspective !== "none" || u.contain === "paint" || ["transform", "perspective"].indexOf(u.willChange) !== -1 || n && u.willChange === "filter" || n && u.filter && u.filter !== "none")
      return a;
    a = a.parentNode;
  }
  return null;
}
function se(r) {
  for (var n = H(r), i = at(r); i && Wt(i) && N(i).position === "static"; )
    i = at(i);
  return i && (C(i) === "html" || C(i) === "body" && N(i).position === "static") ? n : i || Bt(r) || n;
}
function Le(r) {
  return ["top", "bottom"].indexOf(r) >= 0 ? "x" : "y";
}
function fe(r, n, i) {
  return X(r, ve(n, i));
}
function St(r, n, i) {
  var o = fe(r, n, i);
  return o > i ? i : o;
}
function st() {
  return { top: 0, right: 0, bottom: 0, left: 0 };
}
function ft(r) {
  return Object.assign({}, st(), r);
}
function ct(r, n) {
  return n.reduce(function(i, o) {
    return i[o] = r, i;
  }, {});
}
var Tt = function(r, n) {
  return r = typeof r == "function" ? r(Object.assign({}, n.rects, { placement: n.placement })) : r, ft(typeof r != "number" ? r : ct(r, G));
};
function Ht(r) {
  var n, i = r.state, o = r.name, a = r.options, u = i.elements.arrow, c = i.modifiersData.popperOffsets, f = q(i.placement), d = Le(f), p = [P, W].indexOf(f) >= 0, y = p ? "height" : "width";
  if (!(!u || !c)) {
    var v = Tt(a.padding, i), g = ke(u), _ = d === "y" ? E : P, b = d === "y" ? R : W, A = i.rects.reference[y] + i.rects.reference[d] - c[d] - i.rects.popper[y], w = c[d] - i.rects.reference[d], S = se(u), x = S ? d === "y" ? S.clientHeight || 0 : S.clientWidth || 0 : 0, T = A / 2 - w / 2, L = v[_], k = x - g[y] - v[b], M = x / 2 - g[y] / 2 + T, O = fe(L, M, k), ie = d;
    i.modifiersData[o] = (n = {}, n[ie] = O, n.centerOffset = O - M, n);
  }
}
function Ct(r) {
  var n = r.state, i = r.options, o = i.element, a = o === void 0 ? "[data-popper-arrow]" : o;
  a != null && (typeof a == "string" && (a = n.elements.popper.querySelector(a), !a) || !it(n.elements.popper, a) || (n.elements.arrow = a));
}
var pt = { name: "arrow", enabled: !0, phase: "main", fn: Ht, effect: Ct, requires: ["popperOffsets"], requiresIfExists: ["preventOverflow"] };
function te(r) {
  return r.split("-")[1];
}
var qt = { top: "auto", right: "auto", bottom: "auto", left: "auto" };
function Vt(r) {
  var n = r.x, i = r.y, o = window, a = o.devicePixelRatio || 1;
  return { x: Z(n * a) / a || 0, y: Z(i * a) / a || 0 };
}
function ut(r) {
  var n, i = r.popper, o = r.popperRect, a = r.placement, u = r.variation, c = r.offsets, f = r.position, d = r.gpuAcceleration, p = r.adaptive, y = r.roundOffsets, v = r.isFixed, g = c.x, _ = g === void 0 ? 0 : g, b = c.y, A = b === void 0 ? 0 : b, w = typeof y == "function" ? y({ x: _, y: A }) : { x: _, y: A };
  _ = w.x, A = w.y;
  var S = c.hasOwnProperty("x"), x = c.hasOwnProperty("y"), T = P, L = E, k = window;
  if (p) {
    var M = se(i), O = "clientHeight", ie = "clientWidth";
    if (M === H(i) && (M = I(i), N(M).position !== "static" && f === "absolute" && (O = "scrollHeight", ie = "scrollWidth")), M = M, a === E || (a === P || a === W) && u === J) {
      L = R;
      var F = v && M === k && k.visualViewport ? k.visualViewport.height : M[O];
      A -= F - o.height, A *= d ? 1 : -1;
    }
    if (a === P || (a === E || a === R) && u === J) {
      T = W;
      var re = v && M === k && k.visualViewport ? k.visualViewport.width : M[ie];
      _ -= re - o.width, _ *= d ? 1 : -1;
    }
  }
  var D = Object.assign({ position: f }, p && qt), Y = y === !0 ? Vt({ x: _, y: A }) : { x: _, y: A };
  if (_ = Y.x, A = Y.y, d) {
    var z;
    return Object.assign({}, D, (z = {}, z[L] = x ? "0" : "", z[T] = S ? "0" : "", z.transform = (k.devicePixelRatio || 1) <= 1 ? "translate(" + _ + "px, " + A + "px)" : "translate3d(" + _ + "px, " + A + "px, 0)", z));
  }
  return Object.assign({}, D, (n = {}, n[L] = x ? A + "px" : "", n[T] = S ? _ + "px" : "", n.transform = "", n));
}
function Nt(r) {
  var n = r.state, i = r.options, o = i.gpuAcceleration, a = o === void 0 ? !0 : o, u = i.adaptive, c = u === void 0 ? !0 : u, f = i.roundOffsets, d = f === void 0 ? !0 : f, p = { placement: q(n.placement), variation: te(n.placement), popper: n.elements.popper, popperRect: n.rects.popper, gpuAcceleration: a, isFixed: n.options.strategy === "fixed" };
  n.modifiersData.popperOffsets != null && (n.styles.popper = Object.assign({}, n.styles.popper, ut(Object.assign({}, p, { offsets: n.modifiersData.popperOffsets, position: n.options.strategy, adaptive: c, roundOffsets: d })))), n.modifiersData.arrow != null && (n.styles.arrow = Object.assign({}, n.styles.arrow, ut(Object.assign({}, p, { offsets: n.modifiersData.arrow, position: "absolute", adaptive: !1, roundOffsets: d })))), n.attributes.popper = Object.assign({}, n.attributes.popper, { "data-popper-placement": n.placement });
}
var Me = { name: "computeStyles", enabled: !0, phase: "beforeWrite", fn: Nt, data: {} }, ye = { passive: !0 };
function It(r) {
  var n = r.state, i = r.instance, o = r.options, a = o.scroll, u = a === void 0 ? !0 : a, c = o.resize, f = c === void 0 ? !0 : c, d = H(n.elements.popper), p = [].concat(n.scrollParents.reference, n.scrollParents.popper);
  return u && p.forEach(function(y) {
    y.addEventListener("scroll", i.update, ye);
  }), f && d.addEventListener("resize", i.update, ye), function() {
    u && p.forEach(function(y) {
      y.removeEventListener("scroll", i.update, ye);
    }), f && d.removeEventListener("resize", i.update, ye);
  };
}
var Re = { name: "eventListeners", enabled: !0, phase: "write", fn: function() {
}, effect: It, data: {} }, _t = { left: "right", right: "left", bottom: "top", top: "bottom" };
function be(r) {
  return r.replace(/left|right|bottom|top/g, function(n) {
    return _t[n];
  });
}
var zt = { start: "end", end: "start" };
function lt(r) {
  return r.replace(/start|end/g, function(n) {
    return zt[n];
  });
}
function We(r) {
  var n = H(r), i = n.pageXOffset, o = n.pageYOffset;
  return { scrollLeft: i, scrollTop: o };
}
function Be(r) {
  return ee(I(r)).left + We(r).scrollLeft;
}
function Ft(r) {
  var n = H(r), i = I(r), o = n.visualViewport, a = i.clientWidth, u = i.clientHeight, c = 0, f = 0;
  return o && (a = o.width, u = o.height, /^((?!chrome|android).)*safari/i.test(navigator.userAgent) || (c = o.offsetLeft, f = o.offsetTop)), { width: a, height: u, x: c + Be(r), y: f };
}
function Ut(r) {
  var n, i = I(r), o = We(r), a = (n = r.ownerDocument) == null ? void 0 : n.body, u = X(i.scrollWidth, i.clientWidth, a ? a.scrollWidth : 0, a ? a.clientWidth : 0), c = X(i.scrollHeight, i.clientHeight, a ? a.scrollHeight : 0, a ? a.clientHeight : 0), f = -o.scrollLeft + Be(r), d = -o.scrollTop;
  return N(a || i).direction === "rtl" && (f += X(i.clientWidth, a ? a.clientWidth : 0) - u), { width: u, height: c, x: f, y: d };
}
function Se(r) {
  var n = N(r), i = n.overflow, o = n.overflowX, a = n.overflowY;
  return /auto|scroll|overlay|hidden/.test(i + a + o);
}
function dt(r) {
  return ["html", "body", "#document"].indexOf(C(r)) >= 0 ? r.ownerDocument.body : B(r) && Se(r) ? r : dt(ge(r));
}
function ce(r, n) {
  var i;
  n === void 0 && (n = []);
  var o = dt(r), a = o === ((i = r.ownerDocument) == null ? void 0 : i.body), u = H(o), c = a ? [u].concat(u.visualViewport || [], Se(o) ? o : []) : o, f = n.concat(c);
  return a ? f : f.concat(ce(ge(c)));
}
function Te(r) {
  return Object.assign({}, r, { left: r.x, top: r.y, right: r.x + r.width, bottom: r.y + r.height });
}
function Xt(r) {
  var n = ee(r);
  return n.top = n.top + r.clientTop, n.left = n.left + r.clientLeft, n.bottom = n.top + r.clientHeight, n.right = n.left + r.clientWidth, n.width = r.clientWidth, n.height = r.clientHeight, n.x = n.left, n.y = n.top, n;
}
function ht(r, n) {
  return n === je ? Te(Ft(r)) : Q(n) ? Xt(n) : Te(Ut(I(r)));
}
function Yt(r) {
  var n = ce(ge(r)), i = ["absolute", "fixed"].indexOf(N(r).position) >= 0, o = i && B(r) ? se(r) : r;
  return Q(o) ? n.filter(function(a) {
    return Q(a) && it(a, o) && C(a) !== "body";
  }) : [];
}
function Gt(r, n, i) {
  var o = n === "clippingParents" ? Yt(r) : [].concat(n), a = [].concat(o, [i]), u = a[0], c = a.reduce(function(f, d) {
    var p = ht(r, d);
    return f.top = X(p.top, f.top), f.right = ve(p.right, f.right), f.bottom = ve(p.bottom, f.bottom), f.left = X(p.left, f.left), f;
  }, ht(r, u));
  return c.width = c.right - c.left, c.height = c.bottom - c.top, c.x = c.left, c.y = c.top, c;
}
function mt(r) {
  var n = r.reference, i = r.element, o = r.placement, a = o ? q(o) : null, u = o ? te(o) : null, c = n.x + n.width / 2 - i.width / 2, f = n.y + n.height / 2 - i.height / 2, d;
  switch (a) {
    case E:
      d = { x: c, y: n.y - i.height };
      break;
    case R:
      d = { x: c, y: n.y + n.height };
      break;
    case W:
      d = { x: n.x + n.width, y: f };
      break;
    case P:
      d = { x: n.x - i.width, y: f };
      break;
    default:
      d = { x: n.x, y: n.y };
  }
  var p = a ? Le(a) : null;
  if (p != null) {
    var y = p === "y" ? "height" : "width";
    switch (u) {
      case U:
        d[p] = d[p] - (n[y] / 2 - i[y] / 2);
        break;
      case J:
        d[p] = d[p] + (n[y] / 2 - i[y] / 2);
        break;
    }
  }
  return d;
}
function ne(r, n) {
  n === void 0 && (n = {});
  var i = n, o = i.placement, a = o === void 0 ? r.placement : o, u = i.boundary, c = u === void 0 ? Xe : u, f = i.rootBoundary, d = f === void 0 ? je : f, p = i.elementContext, y = p === void 0 ? K : p, v = i.altBoundary, g = v === void 0 ? !1 : v, _ = i.padding, b = _ === void 0 ? 0 : _, A = ft(typeof b != "number" ? b : ct(b, G)), w = y === K ? Ye : K, S = r.rects.popper, x = r.elements[g ? w : y], T = Gt(Q(x) ? x : x.contextElement || I(r.elements.popper), c, d), L = ee(r.elements.reference), k = mt({ reference: L, element: S, strategy: "absolute", placement: a }), M = Te(Object.assign({}, S, k)), O = y === K ? M : L, ie = { top: T.top - O.top + A.top, bottom: O.bottom - T.bottom + A.bottom, left: T.left - O.left + A.left, right: O.right - T.right + A.right }, F = r.modifiersData.offset;
  if (y === K && F) {
    var re = F[a];
    Object.keys(ie).forEach(function(D) {
      var Y = [W, R].indexOf(D) >= 0 ? 1 : -1, z = [E, R].indexOf(D) >= 0 ? "y" : "x";
      ie[D] += re[z] * Y;
    });
  }
  return ie;
}
function Jt(r, n) {
  n === void 0 && (n = {});
  var i = n, o = i.placement, a = i.boundary, u = i.rootBoundary, c = i.padding, f = i.flipVariations, d = i.allowedAutoPlacements, p = d === void 0 ? Ee : d, y = te(o), v = y ? f ? De : De.filter(function(b) {
    return te(b) === y;
  }) : G, g = v.filter(function(b) {
    return p.indexOf(b) >= 0;
  });
  g.length === 0 && (g = v);
  var _ = g.reduce(function(b, A) {
    return b[A] = ne(r, { placement: A, boundary: a, rootBoundary: u, padding: c })[q(A)], b;
  }, {});
  return Object.keys(_).sort(function(b, A) {
    return _[b] - _[A];
  });
}
function Kt(r) {
  if (q(r) === me)
    return [];
  var n = be(r);
  return [lt(r), n, lt(n)];
}
function Qt(r) {
  var n = r.state, i = r.options, o = r.name;
  if (!n.modifiersData[o]._skip) {
    for (var a = i.mainAxis, u = a === void 0 ? !0 : a, c = i.altAxis, f = c === void 0 ? !0 : c, d = i.fallbackPlacements, p = i.padding, y = i.boundary, v = i.rootBoundary, g = i.altBoundary, _ = i.flipVariations, b = _ === void 0 ? !0 : _, A = i.allowedAutoPlacements, w = n.options.placement, S = q(w), x = S === w, T = d || (x || !b ? [be(w)] : Kt(w)), L = [w].concat(T).reduce(function(jt, he) {
      return jt.concat(q(he) === me ? Jt(n, { placement: he, boundary: y, rootBoundary: v, padding: p, flipVariations: b, allowedAutoPlacements: A }) : he);
    }, []), k = n.rects.reference, M = n.rects.popper, O = /* @__PURE__ */ new Map(), ie = !0, F = L[0], re = 0; re < L.length; re++) {
      var D = L[re], Y = q(D), z = te(D) === U, pe = [E, R].indexOf(Y) >= 0, ue = pe ? "width" : "height", Ce = ne(n, { placement: D, boundary: y, rootBoundary: v, altBoundary: g, padding: p }), Fe = pe ? z ? W : P : z ? R : E;
      k[ue] > M[ue] && (Fe = be(Fe));
      var Ie = be(Fe), Pt = [];
      if (u && Pt.push(Ce[Y] <= 0), f && Pt.push(Ce[Fe] <= 0, Ce[Ie] <= 0), Pt.every(function(jt) {
        return jt;
      })) {
        F = D, ie = !1;
        break;
      }
      O.set(D, Pt);
    }
    if (ie)
      for (var xe = b ? 3 : 1, Lt = function(jt) {
        var he = L.find(function(At) {
          var kt = O.get(At);
          if (kt)
            return kt.slice(0, jt).every(function(Cn) {
              return Cn;
            });
        });
        if (he)
          return F = he, "break";
      }, _n = xe; _n > 0; _n--) {
        var In = Lt(_n);
        if (In === "break")
          break;
      }
    n.placement !== F && (n.modifiersData[o]._skip = !0, n.placement = F, n.reset = !0);
  }
}
var vt = { name: "flip", enabled: !0, phase: "main", fn: Qt, requiresIfExists: ["offset"], data: { _skip: !1 } };
function gt(r, n, i) {
  return i === void 0 && (i = { x: 0, y: 0 }), { top: r.top - n.height - i.y, right: r.right - n.width + i.x, bottom: r.bottom - n.height + i.y, left: r.left - n.width - i.x };
}
function yt(r) {
  return [E, W, R, P].some(function(n) {
    return r[n] >= 0;
  });
}
function Zt(r) {
  var n = r.state, i = r.name, o = n.rects.reference, a = n.rects.popper, u = n.modifiersData.preventOverflow, c = ne(n, { elementContext: "reference" }), f = ne(n, { altBoundary: !0 }), d = gt(c, o), p = gt(f, a, u), y = yt(d), v = yt(p);
  n.modifiersData[i] = { referenceClippingOffsets: d, popperEscapeOffsets: p, isReferenceHidden: y, hasPopperEscaped: v }, n.attributes.popper = Object.assign({}, n.attributes.popper, { "data-popper-reference-hidden": y, "data-popper-escaped": v });
}
var bt = { name: "hide", enabled: !0, phase: "main", requiresIfExists: ["preventOverflow"], fn: Zt };
function en(r, n, i) {
  var o = q(r), a = [P, E].indexOf(o) >= 0 ? -1 : 1, u = typeof i == "function" ? i(Object.assign({}, n, { placement: r })) : i, c = u[0], f = u[1];
  return c = c || 0, f = (f || 0) * a, [P, W].indexOf(o) >= 0 ? { x: f, y: c } : { x: c, y: f };
}
function tn(r) {
  var n = r.state, i = r.options, o = r.name, a = i.offset, u = a === void 0 ? [0, 0] : a, c = Ee.reduce(function(y, v) {
    return y[v] = en(v, n.rects, u), y;
  }, {}), f = c[n.placement], d = f.x, p = f.y;
  n.modifiersData.popperOffsets != null && (n.modifiersData.popperOffsets.x += d, n.modifiersData.popperOffsets.y += p), n.modifiersData[o] = c;
}
var wt = { name: "offset", enabled: !0, phase: "main", requires: ["popperOffsets"], fn: tn };
function nn(r) {
  var n = r.state, i = r.name;
  n.modifiersData[i] = mt({ reference: n.rects.reference, element: n.rects.popper, strategy: "absolute", placement: n.placement });
}
var He = { name: "popperOffsets", enabled: !0, phase: "read", fn: nn, data: {} };
function rn(r) {
  return r === "x" ? "y" : "x";
}
function on(r) {
  var n = r.state, i = r.options, o = r.name, a = i.mainAxis, u = a === void 0 ? !0 : a, c = i.altAxis, f = c === void 0 ? !1 : c, d = i.boundary, p = i.rootBoundary, y = i.altBoundary, v = i.padding, g = i.tether, _ = g === void 0 ? !0 : g, b = i.tetherOffset, A = b === void 0 ? 0 : b, w = ne(n, { boundary: d, rootBoundary: p, padding: v, altBoundary: y }), S = q(n.placement), x = te(n.placement), T = !x, L = Le(S), k = rn(L), M = n.modifiersData.popperOffsets, O = n.rects.reference, ie = n.rects.popper, F = typeof A == "function" ? A(Object.assign({}, n.rects, { placement: n.placement })) : A, re = typeof F == "number" ? { mainAxis: F, altAxis: F } : Object.assign({ mainAxis: 0, altAxis: 0 }, F), D = n.modifiersData.offset ? n.modifiersData.offset[n.placement] : null, Y = { x: 0, y: 0 };
  if (M) {
    if (u) {
      var z, pe = L === "y" ? E : P, ue = L === "y" ? R : W, Ce = L === "y" ? "height" : "width", Fe = M[L], Ie = Fe + w[pe], Pt = Fe - w[ue], xe = _ ? -ie[Ce] / 2 : 0, Lt = x === U ? O[Ce] : ie[Ce], _n = x === U ? -ie[Ce] : -O[Ce], In = n.elements.arrow, jt = _ && In ? ke(In) : { width: 0, height: 0 }, he = n.modifiersData["arrow#persistent"] ? n.modifiersData["arrow#persistent"].padding : st(), At = he[pe], kt = he[ue], Cn = fe(0, O[Ce], jt[Ce]), ze = T ? O[Ce] / 2 - xe - Cn - At - re.mainAxis : Lt - Cn - At - re.mainAxis, _e = T ? -O[Ce] / 2 + xe + Cn + kt + re.mainAxis : _n + Cn + kt + re.mainAxis, de = n.elements.arrow && se(n.elements.arrow), Et = de ? L === "y" ? de.clientTop || 0 : de.clientLeft || 0 : 0, Oe = (z = D == null ? void 0 : D[L]) != null ? z : 0, Ve = Fe + ze - Oe - Et, Dt = Fe + _e - Oe, hn = fe(_ ? ve(Ie, Ve) : Ie, Fe, _ ? X(Pt, Dt) : Pt);
      M[L] = hn, Y[L] = hn - Fe;
    }
    if (f) {
      var bn, oe = L === "x" ? E : P, le = L === "x" ? R : W, j = M[k], V = k === "y" ? "height" : "width", $ = j + w[oe], ae = j - w[le], Ne = [E, P].indexOf(S) !== -1, Ue = (bn = D == null ? void 0 : D[k]) != null ? bn : 0, vn = Ne ? $ : j - O[V] - ie[V] - Ue + re.altAxis, wn = Ne ? j + O[V] + ie[V] - Ue - re.altAxis : ae, xn = _ && Ne ? St(vn, j, wn) : fe(_ ? vn : $, j, _ ? wn : ae);
      M[k] = xn, Y[k] = xn - j;
    }
    n.modifiersData[o] = Y;
  }
}
var xt = { name: "preventOverflow", enabled: !0, phase: "main", fn: on, requiresIfExists: ["offset"] };
function an(r) {
  return { scrollLeft: r.scrollLeft, scrollTop: r.scrollTop };
}
function sn(r) {
  return r === H(r) || !B(r) ? We(r) : an(r);
}
function fn(r) {
  var n = r.getBoundingClientRect(), i = Z(n.width) / r.offsetWidth || 1, o = Z(n.height) / r.offsetHeight || 1;
  return i !== 1 || o !== 1;
}
function cn(r, n, i) {
  i === void 0 && (i = !1);
  var o = B(n), a = B(n) && fn(n), u = I(n), c = ee(r, a), f = { scrollLeft: 0, scrollTop: 0 }, d = { x: 0, y: 0 };
  return (o || !o && !i) && ((C(n) !== "body" || Se(u)) && (f = sn(n)), B(n) ? (d = ee(n, !0), d.x += n.clientLeft, d.y += n.clientTop) : u && (d.x = Be(u))), { x: c.left + f.scrollLeft - d.x, y: c.top + f.scrollTop - d.y, width: c.width, height: c.height };
}
function pn(r) {
  var n = /* @__PURE__ */ new Map(), i = /* @__PURE__ */ new Set(), o = [];
  r.forEach(function(u) {
    n.set(u.name, u);
  });
  function a(u) {
    i.add(u.name);
    var c = [].concat(u.requires || [], u.requiresIfExists || []);
    c.forEach(function(f) {
      if (!i.has(f)) {
        var d = n.get(f);
        d && a(d);
      }
    }), o.push(u);
  }
  return r.forEach(function(u) {
    i.has(u.name) || a(u);
  }), o;
}
function un(r) {
  var n = pn(r);
  return ot.reduce(function(i, o) {
    return i.concat(n.filter(function(a) {
      return a.phase === o;
    }));
  }, []);
}
function ln(r) {
  var n;
  return function() {
    return n || (n = new Promise(function(i) {
      Promise.resolve().then(function() {
        n = void 0, i(r());
      });
    })), n;
  };
}
function dn(r) {
  var n = r.reduce(function(i, o) {
    var a = i[o.name];
    return i[o.name] = a ? Object.assign({}, a, o, { options: Object.assign({}, a.options, o.options), data: Object.assign({}, a.data, o.data) }) : o, i;
  }, {});
  return Object.keys(n).map(function(i) {
    return n[i];
  });
}
var Ot = { placement: "bottom", modifiers: [], strategy: "absolute" };
function $t() {
  for (var r = arguments.length, n = new Array(r), i = 0; i < r; i++)
    n[i] = arguments[i];
  return !n.some(function(o) {
    return !(o && typeof o.getBoundingClientRect == "function");
  });
}
function we(r) {
  r === void 0 && (r = {});
  var n = r, i = n.defaultModifiers, o = i === void 0 ? [] : i, a = n.defaultOptions, u = a === void 0 ? Ot : a;
  return function(c, f, d) {
    d === void 0 && (d = u);
    var p = { placement: "bottom", orderedModifiers: [], options: Object.assign({}, Ot, u), modifiersData: {}, elements: { reference: c, popper: f }, attributes: {}, styles: {} }, y = [], v = !1, g = { state: p, setOptions: function(A) {
      var w = typeof A == "function" ? A(p.options) : A;
      b(), p.options = Object.assign({}, u, p.options, w), p.scrollParents = { reference: Q(c) ? ce(c) : c.contextElement ? ce(c.contextElement) : [], popper: ce(f) };
      var S = un(dn([].concat(o, p.options.modifiers)));
      return p.orderedModifiers = S.filter(function(x) {
        return x.enabled;
      }), _(), g.update();
    }, forceUpdate: function() {
      if (!v) {
        var A = p.elements, w = A.reference, S = A.popper;
        if ($t(w, S)) {
          p.rects = { reference: cn(w, se(S), p.options.strategy === "fixed"), popper: ke(S) }, p.reset = !1, p.placement = p.options.placement, p.orderedModifiers.forEach(function(ie) {
            return p.modifiersData[ie.name] = Object.assign({}, ie.data);
          });
          for (var x = 0; x < p.orderedModifiers.length; x++) {
            if (p.reset === !0) {
              p.reset = !1, x = -1;
              continue;
            }
            var T = p.orderedModifiers[x], L = T.fn, k = T.options, M = k === void 0 ? {} : k, O = T.name;
            typeof L == "function" && (p = L({ state: p, options: M, name: O, instance: g }) || p);
          }
        }
      }
    }, update: ln(function() {
      return new Promise(function(A) {
        g.forceUpdate(), A(p);
      });
    }), destroy: function() {
      b(), v = !0;
    } };
    if (!$t(c, f))
      return g;
    g.setOptions(d).then(function(A) {
      !v && d.onFirstUpdate && d.onFirstUpdate(A);
    });
    function _() {
      p.orderedModifiers.forEach(function(A) {
        var w = A.name, S = A.options, x = S === void 0 ? {} : S, T = A.effect;
        if (typeof T == "function") {
          var L = T({ state: p, name: w, instance: g, options: x }), k = function() {
          };
          y.push(L || k);
        }
      });
    }
    function b() {
      y.forEach(function(A) {
        return A();
      }), y = [];
    }
    return g;
  };
}
we();
var mn = [Re, He, Me, Ae];
we({ defaultModifiers: mn });
var gn = [Re, He, Me, Ae, wt, vt, xt, pt, bt], yn = we({ defaultModifiers: gn });
const usePopper = (r, n, i = {}) => {
  const o = {
    name: "updateState",
    enabled: !0,
    phase: "write",
    fn: ({ state: d }) => {
      const p = deriveState(d);
      Object.assign(c.value, p);
    },
    requires: ["computeStyles"]
  }, a = computed(() => {
    const { onFirstUpdate: d, placement: p, strategy: y, modifiers: v } = unref(i);
    return {
      onFirstUpdate: d,
      placement: p || "bottom",
      strategy: y || "absolute",
      modifiers: [
        ...v || [],
        o,
        { name: "applyStyles", enabled: !1 }
      ]
    };
  }), u = shallowRef(), c = ref({
    styles: {
      popper: {
        position: unref(a).strategy,
        left: "0",
        top: "0"
      },
      arrow: {
        position: "absolute"
      }
    },
    attributes: {}
  }), f = () => {
    u.value && (u.value.destroy(), u.value = void 0);
  };
  return watch(a, (d) => {
    const p = unref(u);
    p && p.setOptions(d);
  }, {
    deep: !0
  }), watch([r, n], ([d, p]) => {
    f(), !(!d || !p) && (u.value = yn(d, p, unref(a)));
  }), onBeforeUnmount(() => {
    f();
  }), {
    state: computed(() => {
      var d;
      return { ...((d = unref(u)) == null ? void 0 : d.state) || {} };
    }),
    styles: computed(() => unref(c).styles),
    attributes: computed(() => unref(c).attributes),
    update: () => {
      var d;
      return (d = unref(u)) == null ? void 0 : d.update();
    },
    forceUpdate: () => {
      var d;
      return (d = unref(u)) == null ? void 0 : d.forceUpdate();
    },
    instanceRef: computed(() => unref(u))
  };
};
function deriveState(r) {
  const n = Object.keys(r.elements), i = fromPairs(n.map((a) => [a, r.styles[a] || {}])), o = fromPairs(n.map((a) => [a, r.attributes[a]]));
  return {
    styles: i,
    attributes: o
  };
}
function useTimeout() {
  let r;
  const n = (o, a) => {
    i(), r = window.setTimeout(o, a);
  }, i = () => window.clearTimeout(r);
  return tryOnScopeDispose(() => i()), {
    registerTimeout: n,
    cancelTimeout: i
  };
}
const defaultIdInjection = {
  prefix: Math.floor(Math.random() * 1e4),
  current: 0
}, ID_INJECTION_KEY = Symbol("elIdInjection"), useIdInjection = () => getCurrentInstance() ? inject(ID_INJECTION_KEY, defaultIdInjection) : defaultIdInjection, useId = (r) => {
  const n = useIdInjection();
  !isClient && n === defaultIdInjection && debugWarn("IdInjection", `Looks like you are using server rendering, you must provide a id provider to ensure the hydration process to be succeed
usage: app.provide(ID_INJECTION_KEY, {
  prefix: number,
  current: number,
})`);
  const i = useGetDerivedNamespace();
  return computed(() => unref(r) || `${i.value}-id-${n.prefix}-${n.current++}`);
};
let registeredEscapeHandlers = [];
const cachedHandler = (r) => {
  const n = r;
  n.key === EVENT_CODE.esc && registeredEscapeHandlers.forEach((i) => i(n));
}, useEscapeKeydown = (r) => {
  onMounted(() => {
    registeredEscapeHandlers.length === 0 && document.addEventListener("keydown", cachedHandler), isClient && registeredEscapeHandlers.push(r);
  }), onBeforeUnmount(() => {
    registeredEscapeHandlers = registeredEscapeHandlers.filter((n) => n !== r), registeredEscapeHandlers.length === 0 && isClient && document.removeEventListener("keydown", cachedHandler);
  });
};
let cachedContainer;
const usePopperContainerId = () => {
  const r = useGetDerivedNamespace(), n = useIdInjection(), i = computed(() => `${r.value}-popper-container-${n.prefix}`), o = computed(() => `#${i.value}`);
  return {
    id: i,
    selector: o
  };
}, createContainer = (r) => {
  const n = document.createElement("div");
  return n.id = r, document.body.appendChild(n), n;
}, usePopperContainer = () => {
  const { id: r, selector: n } = usePopperContainerId();
  return onBeforeMount(() => {
    isClient && (process.env.NODE_ENV === "test" || !cachedContainer && !document.body.querySelector(n.value)) && (cachedContainer = createContainer(r.value));
  }), {
    id: r,
    selector: n
  };
}, useDelayedToggleProps = buildProps({
  showAfter: {
    type: Number,
    default: 0
  },
  hideAfter: {
    type: Number,
    default: 200
  },
  autoClose: {
    type: Number,
    default: 0
  }
}), useDelayedToggle = ({
  showAfter: r,
  hideAfter: n,
  autoClose: i,
  open: o,
  close: a
}) => {
  const { registerTimeout: u } = useTimeout(), {
    registerTimeout: c,
    cancelTimeout: f
  } = useTimeout();
  return {
    onOpen: (y) => {
      u(() => {
        o(y);
        const v = unref(i);
        isNumber(v) && v > 0 && c(() => {
          a(y);
        }, v);
      }, unref(r));
    },
    onClose: (y) => {
      f(), u(() => {
        a(y);
      }, unref(n));
    }
  };
}, FORWARD_REF_INJECTION_KEY = Symbol("elForwardRef"), useForwardRef = (r) => {
  provide(FORWARD_REF_INJECTION_KEY, {
    setForwardRef: (i) => {
      r.value = i;
    }
  });
}, useForwardRefDirective = (r) => ({
  mounted(n) {
    r(n);
  },
  updated(n) {
    r(n);
  },
  unmounted() {
    r(null);
  }
}), zIndex = ref(0), defaultInitialZIndex = 2e3, zIndexContextKey = Symbol("zIndexContextKey"), useZIndex = (r) => {
  const n = r || inject(zIndexContextKey, void 0), i = computed(() => {
    const u = unref(n);
    return isNumber(u) ? u : defaultInitialZIndex;
  }), o = computed(() => i.value + zIndex.value);
  return {
    initialZIndex: i,
    currentZIndex: o,
    nextZIndex: () => (zIndex.value++, o.value)
  };
};
function useCursor(r) {
  const n = ref();
  function i() {
    if (r.value == null)
      return;
    const { selectionStart: a, selectionEnd: u, value: c } = r.value;
    if (a == null || u == null)
      return;
    const f = c.slice(0, Math.max(0, a)), d = c.slice(Math.max(0, u));
    n.value = {
      selectionStart: a,
      selectionEnd: u,
      value: c,
      beforeTxt: f,
      afterTxt: d
    };
  }
  function o() {
    if (r.value == null || n.value == null)
      return;
    const { value: a } = r.value, { beforeTxt: u, afterTxt: c, selectionStart: f } = n.value;
    if (u == null || c == null || f == null)
      return;
    let d = a.length;
    if (a.endsWith(c))
      d = a.length - c.length;
    else if (a.startsWith(u))
      d = u.length;
    else {
      const p = u[f - 1], y = a.indexOf(p, f - 1);
      y !== -1 && (d = y + 1);
    }
    r.value.setSelectionRange(d, d);
  }
  return [i, o];
}
const useSizeProp = buildProp({
  type: String,
  values: componentSizes,
  required: !1
}), SIZE_INJECTION_KEY = Symbol("size"), useGlobalSize = () => {
  const r = inject(SIZE_INJECTION_KEY, {});
  return computed(() => unref(r.size) || "");
};
function useFocusController(r, { afterFocus: n, afterBlur: i } = {}) {
  const o = getCurrentInstance(), { emit: a } = o, u = shallowRef(), c = ref(!1), f = (y) => {
    c.value || (c.value = !0, a("focus", y), n == null || n());
  }, d = (y) => {
    var v;
    y.relatedTarget && ((v = u.value) != null && v.contains(y.relatedTarget)) || (c.value = !1, a("blur", y), i == null || i());
  }, p = () => {
    var y;
    (y = r.value) == null || y.focus();
  };
  return watch(u, (y) => {
    y && (y.setAttribute("role", "button"), y.setAttribute("tabindex", "-1"));
  }), useEventListener(u, "click", p), {
    wrapperRef: u,
    isFocused: c,
    handleFocus: f,
    handleBlur: d
  };
}
var _export_sfc = (r, n) => {
  const i = r.__vccOpts || r;
  for (const [o, a] of n)
    i[o] = a;
  return i;
};
const iconProps = buildProps({
  size: {
    type: definePropType([Number, String])
  },
  color: {
    type: String
  }
}), __default__$c = defineComponent({
  name: "ElIcon",
  inheritAttrs: !1
}), _sfc_main$r = /* @__PURE__ */ defineComponent({
  ...__default__$c,
  props: iconProps,
  setup(r) {
    const n = r, i = useNamespace("icon"), o = computed(() => {
      const { size: a, color: u } = n;
      return !a && !u ? {} : {
        fontSize: isUndefined(a) ? void 0 : addUnit(a),
        "--color": u
      };
    });
    return (a, u) => (openBlock(), createElementBlock("i", mergeProps({
      class: unref(i).b(),
      style: unref(o)
    }, a.$attrs), [
      renderSlot(a.$slots, "default")
    ], 16));
  }
});
var Icon = /* @__PURE__ */ _export_sfc(_sfc_main$r, [["__file", "/home/runner/work/element-plus/element-plus/packages/components/icon/src/icon.vue"]]);
const ElIcon = withInstall(Icon), formContextKey = Symbol("formContextKey"), formItemContextKey = Symbol("formItemContextKey"), useFormSize = (r, n = {}) => {
  const i = ref(void 0), o = n.prop ? i : useProp("size"), a = n.global ? i : useGlobalSize(), u = n.form ? { size: void 0 } : inject(formContextKey, void 0), c = n.formItem ? { size: void 0 } : inject(formItemContextKey, void 0);
  return computed(() => o.value || unref(r) || (c == null ? void 0 : c.size) || (u == null ? void 0 : u.size) || a.value || "");
}, useFormDisabled = (r) => {
  const n = useProp("disabled"), i = inject(formContextKey, void 0);
  return computed(() => n.value || unref(r) || (i == null ? void 0 : i.disabled) || !1);
}, useFormItem = () => {
  const r = inject(formContextKey, void 0), n = inject(formItemContextKey, void 0);
  return {
    form: r,
    formItem: n
  };
}, useFormItemInputId = (r, {
  formItemContext: n,
  disableIdGeneration: i,
  disableIdManagement: o
}) => {
  i || (i = ref(!1)), o || (o = ref(!1));
  const a = ref();
  let u;
  const c = computed(() => {
    var f;
    return !!(!r.label && n && n.inputIds && ((f = n.inputIds) == null ? void 0 : f.length) <= 1);
  });
  return onMounted(() => {
    u = watch([toRef(r, "id"), i], ([f, d]) => {
      const p = f ?? (d ? void 0 : useId().value);
      p !== a.value && (n != null && n.removeInputId && (a.value && n.removeInputId(a.value), !(o != null && o.value) && !d && p && n.addInputId(p)), a.value = p);
    }, { immediate: !0 });
  }), onUnmounted(() => {
    u && u(), n != null && n.removeInputId && a.value && n.removeInputId(a.value);
  }), {
    isLabeledByFormItem: c,
    inputId: a
  };
}, formMetaProps = buildProps({
  size: {
    type: String,
    values: componentSizes
  },
  disabled: Boolean
}), formProps = buildProps({
  ...formMetaProps,
  model: Object,
  rules: {
    type: definePropType(Object)
  },
  labelPosition: {
    type: String,
    values: ["left", "right", "top"],
    default: "right"
  },
  requireAsteriskPosition: {
    type: String,
    values: ["left", "right"],
    default: "left"
  },
  labelWidth: {
    type: [String, Number],
    default: ""
  },
  labelSuffix: {
    type: String,
    default: ""
  },
  inline: Boolean,
  inlineMessage: Boolean,
  statusIcon: Boolean,
  showMessage: {
    type: Boolean,
    default: !0
  },
  validateOnRuleChange: {
    type: Boolean,
    default: !0
  },
  hideRequiredAsterisk: Boolean,
  scrollToError: Boolean,
  scrollIntoViewOptions: {
    type: [Object, Boolean]
  }
}), formEmits = {
  validate: (r, n, i) => (isArray(r) || isString(r)) && isBoolean(n) && isString(i)
}, SCOPE = "ElForm";
function useFormLabelWidth() {
  const r = ref([]), n = computed(() => {
    if (!r.value.length)
      return "0";
    const u = Math.max(...r.value);
    return u ? `${u}px` : "";
  });
  function i(u) {
    const c = r.value.indexOf(u);
    return c === -1 && n.value === "0" && debugWarn(SCOPE, `unexpected width ${u}`), c;
  }
  function o(u, c) {
    if (u && c) {
      const f = i(c);
      r.value.splice(f, 1, u);
    } else
      u && r.value.push(u);
  }
  function a(u) {
    const c = i(u);
    c > -1 && r.value.splice(c, 1);
  }
  return {
    autoLabelWidth: n,
    registerLabelWidth: o,
    deregisterLabelWidth: a
  };
}
const filterFields = (r, n) => {
  const i = castArray(n);
  return i.length > 0 ? r.filter((o) => o.prop && i.includes(o.prop)) : r;
}, COMPONENT_NAME$4 = "ElForm", __default__$b = defineComponent({
  name: COMPONENT_NAME$4
}), _sfc_main$q = /* @__PURE__ */ defineComponent({
  ...__default__$b,
  props: formProps,
  emits: formEmits,
  setup(r, { expose: n, emit: i }) {
    const o = r, a = [], u = useFormSize(), c = useNamespace("form"), f = computed(() => {
      const { labelPosition: x, inline: T } = o;
      return [
        c.b(),
        c.m(u.value || "default"),
        {
          [c.m(`label-${x}`)]: x,
          [c.m("inline")]: T
        }
      ];
    }), d = (x) => {
      a.push(x);
    }, p = (x) => {
      x.prop && a.splice(a.indexOf(x), 1);
    }, y = (x = []) => {
      if (!o.model) {
        debugWarn(COMPONENT_NAME$4, "model is required for resetFields to work.");
        return;
      }
      filterFields(a, x).forEach((T) => T.resetField());
    }, v = (x = []) => {
      filterFields(a, x).forEach((T) => T.clearValidate());
    }, g = computed(() => {
      const x = !!o.model;
      return x || debugWarn(COMPONENT_NAME$4, "model is required for validate to work."), x;
    }), _ = (x) => {
      if (a.length === 0)
        return [];
      const T = filterFields(a, x);
      return T.length ? T : (debugWarn(COMPONENT_NAME$4, "please pass correct props!"), []);
    }, b = async (x) => w(void 0, x), A = async (x = []) => {
      if (!g.value)
        return !1;
      const T = _(x);
      if (T.length === 0)
        return !0;
      let L = {};
      for (const k of T)
        try {
          await k.validate("");
        } catch (M) {
          L = {
            ...L,
            ...M
          };
        }
      return Object.keys(L).length === 0 ? !0 : Promise.reject(L);
    }, w = async (x = [], T) => {
      const L = !isFunction(T);
      try {
        const k = await A(x);
        return k === !0 && (T == null || T(k)), k;
      } catch (k) {
        if (k instanceof Error)
          throw k;
        const M = k;
        return o.scrollToError && S(Object.keys(M)[0]), T == null || T(!1, M), L && Promise.reject(M);
      }
    }, S = (x) => {
      var T;
      const L = filterFields(a, x)[0];
      L && ((T = L.$el) == null || T.scrollIntoView(o.scrollIntoViewOptions));
    };
    return watch(() => o.rules, () => {
      o.validateOnRuleChange && b().catch((x) => debugWarn(x));
    }, { deep: !0 }), provide(formContextKey, reactive({
      ...toRefs(o),
      emit: i,
      resetFields: y,
      clearValidate: v,
      validateField: w,
      addField: d,
      removeField: p,
      ...useFormLabelWidth()
    })), n({
      validate: b,
      validateField: w,
      resetFields: y,
      clearValidate: v,
      scrollToField: S
    }), (x, T) => (openBlock(), createElementBlock("form", {
      class: normalizeClass(unref(f))
    }, [
      renderSlot(x.$slots, "default")
    ], 2));
  }
});
var Form = /* @__PURE__ */ _export_sfc(_sfc_main$q, [["__file", "/home/runner/work/element-plus/element-plus/packages/components/form/src/form.vue"]]);
function _extends() {
  return _extends = Object.assign ? Object.assign.bind() : function(r) {
    for (var n = 1; n < arguments.length; n++) {
      var i = arguments[n];
      for (var o in i)
        Object.prototype.hasOwnProperty.call(i, o) && (r[o] = i[o]);
    }
    return r;
  }, _extends.apply(this, arguments);
}
function _inheritsLoose(r, n) {
  r.prototype = Object.create(n.prototype), r.prototype.constructor = r, _setPrototypeOf(r, n);
}
function _getPrototypeOf(r) {
  return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(i) {
    return i.__proto__ || Object.getPrototypeOf(i);
  }, _getPrototypeOf(r);
}
function _setPrototypeOf(r, n) {
  return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(o, a) {
    return o.__proto__ = a, o;
  }, _setPrototypeOf(r, n);
}
function _isNativeReflectConstruct() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return !1;
  if (typeof Proxy == "function")
    return !0;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), !0;
  } catch {
    return !1;
  }
}
function _construct(r, n, i) {
  return _isNativeReflectConstruct() ? _construct = Reflect.construct.bind() : _construct = function(a, u, c) {
    var f = [null];
    f.push.apply(f, u);
    var d = Function.bind.apply(a, f), p = new d();
    return c && _setPrototypeOf(p, c.prototype), p;
  }, _construct.apply(null, arguments);
}
function _isNativeFunction(r) {
  return Function.toString.call(r).indexOf("[native code]") !== -1;
}
function _wrapNativeSuper(r) {
  var n = typeof Map == "function" ? /* @__PURE__ */ new Map() : void 0;
  return _wrapNativeSuper = function(o) {
    if (o === null || !_isNativeFunction(o))
      return o;
    if (typeof o != "function")
      throw new TypeError("Super expression must either be null or a function");
    if (typeof n < "u") {
      if (n.has(o))
        return n.get(o);
      n.set(o, a);
    }
    function a() {
      return _construct(o, arguments, _getPrototypeOf(this).constructor);
    }
    return a.prototype = Object.create(o.prototype, {
      constructor: {
        value: a,
        enumerable: !1,
        writable: !0,
        configurable: !0
      }
    }), _setPrototypeOf(a, o);
  }, _wrapNativeSuper(r);
}
var formatRegExp = /%[sdj%]/g, warning = function r() {
};
typeof process < "u" && process.env && process.env.NODE_ENV !== "production" && typeof window < "u" && typeof document < "u" && (warning = function(n, i) {
  typeof console < "u" && console.warn && typeof ASYNC_VALIDATOR_NO_WARNING > "u" && i.every(function(o) {
    return typeof o == "string";
  }) && console.warn(n, i);
});
function convertFieldsError(r) {
  if (!r || !r.length)
    return null;
  var n = {};
  return r.forEach(function(i) {
    var o = i.field;
    n[o] = n[o] || [], n[o].push(i);
  }), n;
}
function format(r) {
  for (var n = arguments.length, i = new Array(n > 1 ? n - 1 : 0), o = 1; o < n; o++)
    i[o - 1] = arguments[o];
  var a = 0, u = i.length;
  if (typeof r == "function")
    return r.apply(null, i);
  if (typeof r == "string") {
    var c = r.replace(formatRegExp, function(f) {
      if (f === "%%")
        return "%";
      if (a >= u)
        return f;
      switch (f) {
        case "%s":
          return String(i[a++]);
        case "%d":
          return Number(i[a++]);
        case "%j":
          try {
            return JSON.stringify(i[a++]);
          } catch {
            return "[Circular]";
          }
          break;
        default:
          return f;
      }
    });
    return c;
  }
  return r;
}
function isNativeStringType(r) {
  return r === "string" || r === "url" || r === "hex" || r === "email" || r === "date" || r === "pattern";
}
function isEmptyValue(r, n) {
  return !!(r == null || n === "array" && Array.isArray(r) && !r.length || isNativeStringType(n) && typeof r == "string" && !r);
}
function asyncParallelArray(r, n, i) {
  var o = [], a = 0, u = r.length;
  function c(f) {
    o.push.apply(o, f || []), a++, a === u && i(o);
  }
  r.forEach(function(f) {
    n(f, c);
  });
}
function asyncSerialArray(r, n, i) {
  var o = 0, a = r.length;
  function u(c) {
    if (c && c.length) {
      i(c);
      return;
    }
    var f = o;
    o = o + 1, f < a ? n(r[f], u) : i([]);
  }
  u([]);
}
function flattenObjArr(r) {
  var n = [];
  return Object.keys(r).forEach(function(i) {
    n.push.apply(n, r[i] || []);
  }), n;
}
var AsyncValidationError = /* @__PURE__ */ function(r) {
  _inheritsLoose(n, r);
  function n(i, o) {
    var a;
    return a = r.call(this, "Async Validation Error") || this, a.errors = i, a.fields = o, a;
  }
  return n;
}(/* @__PURE__ */ _wrapNativeSuper(Error));
function asyncMap(r, n, i, o, a) {
  if (n.first) {
    var u = new Promise(function(g, _) {
      var b = function(S) {
        return o(S), S.length ? _(new AsyncValidationError(S, convertFieldsError(S))) : g(a);
      }, A = flattenObjArr(r);
      asyncSerialArray(A, i, b);
    });
    return u.catch(function(g) {
      return g;
    }), u;
  }
  var c = n.firstFields === !0 ? Object.keys(r) : n.firstFields || [], f = Object.keys(r), d = f.length, p = 0, y = [], v = new Promise(function(g, _) {
    var b = function(w) {
      if (y.push.apply(y, w), p++, p === d)
        return o(y), y.length ? _(new AsyncValidationError(y, convertFieldsError(y))) : g(a);
    };
    f.length || (o(y), g(a)), f.forEach(function(A) {
      var w = r[A];
      c.indexOf(A) !== -1 ? asyncSerialArray(w, i, b) : asyncParallelArray(w, i, b);
    });
  });
  return v.catch(function(g) {
    return g;
  }), v;
}
function isErrorObj(r) {
  return !!(r && r.message !== void 0);
}
function getValue(r, n) {
  for (var i = r, o = 0; o < n.length; o++) {
    if (i == null)
      return i;
    i = i[n[o]];
  }
  return i;
}
function complementError(r, n) {
  return function(i) {
    var o;
    return r.fullFields ? o = getValue(n, r.fullFields) : o = n[i.field || r.fullField], isErrorObj(i) ? (i.field = i.field || r.fullField, i.fieldValue = o, i) : {
      message: typeof i == "function" ? i() : i,
      fieldValue: o,
      field: i.field || r.fullField
    };
  };
}
function deepMerge(r, n) {
  if (n) {
    for (var i in n)
      if (n.hasOwnProperty(i)) {
        var o = n[i];
        typeof o == "object" && typeof r[i] == "object" ? r[i] = _extends({}, r[i], o) : r[i] = o;
      }
  }
  return r;
}
var required$1 = function r(n, i, o, a, u, c) {
  n.required && (!o.hasOwnProperty(n.field) || isEmptyValue(i, c || n.type)) && a.push(format(u.messages.required, n.fullField));
}, whitespace = function r(n, i, o, a, u) {
  (/^\s+$/.test(i) || i === "") && a.push(format(u.messages.whitespace, n.fullField));
}, urlReg, getUrlRegex = function() {
  if (urlReg)
    return urlReg;
  var r = "[a-fA-F\\d:]", n = function(L) {
    return L && L.includeBoundaries ? "(?:(?<=\\s|^)(?=" + r + ")|(?<=" + r + ")(?=\\s|$))" : "";
  }, i = "(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}", o = "[a-fA-F\\d]{1,4}", a = (`
(?:
(?:` + o + ":){7}(?:" + o + `|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:` + o + ":){6}(?:" + i + "|:" + o + `|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:` + o + ":){5}(?::" + i + "|(?::" + o + `){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:` + o + ":){4}(?:(?::" + o + "){0,1}:" + i + "|(?::" + o + `){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:` + o + ":){3}(?:(?::" + o + "){0,2}:" + i + "|(?::" + o + `){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:` + o + ":){2}(?:(?::" + o + "){0,3}:" + i + "|(?::" + o + `){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:` + o + ":){1}(?:(?::" + o + "){0,4}:" + i + "|(?::" + o + `){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::` + o + "){0,5}:" + i + "|(?::" + o + `){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm, "").replace(/\n/g, "").trim(), u = new RegExp("(?:^" + i + "$)|(?:^" + a + "$)"), c = new RegExp("^" + i + "$"), f = new RegExp("^" + a + "$"), d = function(L) {
    return L && L.exact ? u : new RegExp("(?:" + n(L) + i + n(L) + ")|(?:" + n(L) + a + n(L) + ")", "g");
  };
  d.v4 = function(T) {
    return T && T.exact ? c : new RegExp("" + n(T) + i + n(T), "g");
  }, d.v6 = function(T) {
    return T && T.exact ? f : new RegExp("" + n(T) + a + n(T), "g");
  };
  var p = "(?:(?:[a-z]+:)?//)", y = "(?:\\S+(?::\\S*)?@)?", v = d.v4().source, g = d.v6().source, _ = "(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)", b = "(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*", A = "(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))", w = "(?::\\d{2,5})?", S = '(?:[/?#][^\\s"]*)?', x = "(?:" + p + "|www\\.)" + y + "(?:localhost|" + v + "|" + g + "|" + _ + b + A + ")" + w + S;
  return urlReg = new RegExp("(?:^" + x + "$)", "i"), urlReg;
}, pattern$2 = {
  // http://emailregex.com/
  email: /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,
  // url: new RegExp(
  //   '^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$',
  //   'i',
  // ),
  hex: /^#?([a-f0-9]{6}|[a-f0-9]{3})$/i
}, types = {
  integer: function r(n) {
    return types.number(n) && parseInt(n, 10) === n;
  },
  float: function r(n) {
    return types.number(n) && !types.integer(n);
  },
  array: function r(n) {
    return Array.isArray(n);
  },
  regexp: function r(n) {
    if (n instanceof RegExp)
      return !0;
    try {
      return !!new RegExp(n);
    } catch {
      return !1;
    }
  },
  date: function r(n) {
    return typeof n.getTime == "function" && typeof n.getMonth == "function" && typeof n.getYear == "function" && !isNaN(n.getTime());
  },
  number: function r(n) {
    return isNaN(n) ? !1 : typeof n == "number";
  },
  object: function r(n) {
    return typeof n == "object" && !types.array(n);
  },
  method: function r(n) {
    return typeof n == "function";
  },
  email: function r(n) {
    return typeof n == "string" && n.length <= 320 && !!n.match(pattern$2.email);
  },
  url: function r(n) {
    return typeof n == "string" && n.length <= 2048 && !!n.match(getUrlRegex());
  },
  hex: function r(n) {
    return typeof n == "string" && !!n.match(pattern$2.hex);
  }
}, type$1 = function r(n, i, o, a, u) {
  if (n.required && i === void 0) {
    required$1(n, i, o, a, u);
    return;
  }
  var c = ["integer", "float", "array", "regexp", "object", "method", "email", "number", "date", "url", "hex"], f = n.type;
  c.indexOf(f) > -1 ? types[f](i) || a.push(format(u.messages.types[f], n.fullField, n.type)) : f && typeof i !== n.type && a.push(format(u.messages.types[f], n.fullField, n.type));
}, range = function r(n, i, o, a, u) {
  var c = typeof n.len == "number", f = typeof n.min == "number", d = typeof n.max == "number", p = /[\uD800-\uDBFF][\uDC00-\uDFFF]/g, y = i, v = null, g = typeof i == "number", _ = typeof i == "string", b = Array.isArray(i);
  if (g ? v = "number" : _ ? v = "string" : b && (v = "array"), !v)
    return !1;
  b && (y = i.length), _ && (y = i.replace(p, "_").length), c ? y !== n.len && a.push(format(u.messages[v].len, n.fullField, n.len)) : f && !d && y < n.min ? a.push(format(u.messages[v].min, n.fullField, n.min)) : d && !f && y > n.max ? a.push(format(u.messages[v].max, n.fullField, n.max)) : f && d && (y < n.min || y > n.max) && a.push(format(u.messages[v].range, n.fullField, n.min, n.max));
}, ENUM$1 = "enum", enumerable$1 = function r(n, i, o, a, u) {
  n[ENUM$1] = Array.isArray(n[ENUM$1]) ? n[ENUM$1] : [], n[ENUM$1].indexOf(i) === -1 && a.push(format(u.messages[ENUM$1], n.fullField, n[ENUM$1].join(", ")));
}, pattern$1 = function r(n, i, o, a, u) {
  if (n.pattern) {
    if (n.pattern instanceof RegExp)
      n.pattern.lastIndex = 0, n.pattern.test(i) || a.push(format(u.messages.pattern.mismatch, n.fullField, i, n.pattern));
    else if (typeof n.pattern == "string") {
      var c = new RegExp(n.pattern);
      c.test(i) || a.push(format(u.messages.pattern.mismatch, n.fullField, i, n.pattern));
    }
  }
}, rules = {
  required: required$1,
  whitespace,
  type: type$1,
  range,
  enum: enumerable$1,
  pattern: pattern$1
}, string = function r(n, i, o, a, u) {
  var c = [], f = n.required || !n.required && a.hasOwnProperty(n.field);
  if (f) {
    if (isEmptyValue(i, "string") && !n.required)
      return o();
    rules.required(n, i, a, c, u, "string"), isEmptyValue(i, "string") || (rules.type(n, i, a, c, u), rules.range(n, i, a, c, u), rules.pattern(n, i, a, c, u), n.whitespace === !0 && rules.whitespace(n, i, a, c, u));
  }
  o(c);
}, method = function r(n, i, o, a, u) {
  var c = [], f = n.required || !n.required && a.hasOwnProperty(n.field);
  if (f) {
    if (isEmptyValue(i) && !n.required)
      return o();
    rules.required(n, i, a, c, u), i !== void 0 && rules.type(n, i, a, c, u);
  }
  o(c);
}, number = function r(n, i, o, a, u) {
  var c = [], f = n.required || !n.required && a.hasOwnProperty(n.field);
  if (f) {
    if (i === "" && (i = void 0), isEmptyValue(i) && !n.required)
      return o();
    rules.required(n, i, a, c, u), i !== void 0 && (rules.type(n, i, a, c, u), rules.range(n, i, a, c, u));
  }
  o(c);
}, _boolean = function r(n, i, o, a, u) {
  var c = [], f = n.required || !n.required && a.hasOwnProperty(n.field);
  if (f) {
    if (isEmptyValue(i) && !n.required)
      return o();
    rules.required(n, i, a, c, u), i !== void 0 && rules.type(n, i, a, c, u);
  }
  o(c);
}, regexp = function r(n, i, o, a, u) {
  var c = [], f = n.required || !n.required && a.hasOwnProperty(n.field);
  if (f) {
    if (isEmptyValue(i) && !n.required)
      return o();
    rules.required(n, i, a, c, u), isEmptyValue(i) || rules.type(n, i, a, c, u);
  }
  o(c);
}, integer = function r(n, i, o, a, u) {
  var c = [], f = n.required || !n.required && a.hasOwnProperty(n.field);
  if (f) {
    if (isEmptyValue(i) && !n.required)
      return o();
    rules.required(n, i, a, c, u), i !== void 0 && (rules.type(n, i, a, c, u), rules.range(n, i, a, c, u));
  }
  o(c);
}, floatFn = function r(n, i, o, a, u) {
  var c = [], f = n.required || !n.required && a.hasOwnProperty(n.field);
  if (f) {
    if (isEmptyValue(i) && !n.required)
      return o();
    rules.required(n, i, a, c, u), i !== void 0 && (rules.type(n, i, a, c, u), rules.range(n, i, a, c, u));
  }
  o(c);
}, array = function r(n, i, o, a, u) {
  var c = [], f = n.required || !n.required && a.hasOwnProperty(n.field);
  if (f) {
    if (i == null && !n.required)
      return o();
    rules.required(n, i, a, c, u, "array"), i != null && (rules.type(n, i, a, c, u), rules.range(n, i, a, c, u));
  }
  o(c);
}, object = function r(n, i, o, a, u) {
  var c = [], f = n.required || !n.required && a.hasOwnProperty(n.field);
  if (f) {
    if (isEmptyValue(i) && !n.required)
      return o();
    rules.required(n, i, a, c, u), i !== void 0 && rules.type(n, i, a, c, u);
  }
  o(c);
}, ENUM = "enum", enumerable = function r(n, i, o, a, u) {
  var c = [], f = n.required || !n.required && a.hasOwnProperty(n.field);
  if (f) {
    if (isEmptyValue(i) && !n.required)
      return o();
    rules.required(n, i, a, c, u), i !== void 0 && rules[ENUM](n, i, a, c, u);
  }
  o(c);
}, pattern = function r(n, i, o, a, u) {
  var c = [], f = n.required || !n.required && a.hasOwnProperty(n.field);
  if (f) {
    if (isEmptyValue(i, "string") && !n.required)
      return o();
    rules.required(n, i, a, c, u), isEmptyValue(i, "string") || rules.pattern(n, i, a, c, u);
  }
  o(c);
}, date = function r(n, i, o, a, u) {
  var c = [], f = n.required || !n.required && a.hasOwnProperty(n.field);
  if (f) {
    if (isEmptyValue(i, "date") && !n.required)
      return o();
    if (rules.required(n, i, a, c, u), !isEmptyValue(i, "date")) {
      var d;
      i instanceof Date ? d = i : d = new Date(i), rules.type(n, d, a, c, u), d && rules.range(n, d.getTime(), a, c, u);
    }
  }
  o(c);
}, required = function r(n, i, o, a, u) {
  var c = [], f = Array.isArray(i) ? "array" : typeof i;
  rules.required(n, i, a, c, u, f), o(c);
}, type = function r(n, i, o, a, u) {
  var c = n.type, f = [], d = n.required || !n.required && a.hasOwnProperty(n.field);
  if (d) {
    if (isEmptyValue(i, c) && !n.required)
      return o();
    rules.required(n, i, a, f, u, c), isEmptyValue(i, c) || rules.type(n, i, a, f, u);
  }
  o(f);
}, any = function r(n, i, o, a, u) {
  var c = [], f = n.required || !n.required && a.hasOwnProperty(n.field);
  if (f) {
    if (isEmptyValue(i) && !n.required)
      return o();
    rules.required(n, i, a, c, u);
  }
  o(c);
}, validators = {
  string,
  method,
  number,
  boolean: _boolean,
  regexp,
  integer,
  float: floatFn,
  array,
  object,
  enum: enumerable,
  pattern,
  date,
  url: type,
  hex: type,
  email: type,
  required,
  any
};
function newMessages() {
  return {
    default: "Validation error on field %s",
    required: "%s is required",
    enum: "%s must be one of %s",
    whitespace: "%s cannot be empty",
    date: {
      format: "%s date %s is invalid for format %s",
      parse: "%s date could not be parsed, %s is invalid ",
      invalid: "%s date %s is invalid"
    },
    types: {
      string: "%s is not a %s",
      method: "%s is not a %s (function)",
      array: "%s is not an %s",
      object: "%s is not an %s",
      number: "%s is not a %s",
      date: "%s is not a %s",
      boolean: "%s is not a %s",
      integer: "%s is not an %s",
      float: "%s is not a %s",
      regexp: "%s is not a valid %s",
      email: "%s is not a valid %s",
      url: "%s is not a valid %s",
      hex: "%s is not a valid %s"
    },
    string: {
      len: "%s must be exactly %s characters",
      min: "%s must be at least %s characters",
      max: "%s cannot be longer than %s characters",
      range: "%s must be between %s and %s characters"
    },
    number: {
      len: "%s must equal %s",
      min: "%s cannot be less than %s",
      max: "%s cannot be greater than %s",
      range: "%s must be between %s and %s"
    },
    array: {
      len: "%s must be exactly %s in length",
      min: "%s cannot be less than %s in length",
      max: "%s cannot be greater than %s in length",
      range: "%s must be between %s and %s in length"
    },
    pattern: {
      mismatch: "%s value %s does not match pattern %s"
    },
    clone: function() {
      var n = JSON.parse(JSON.stringify(this));
      return n.clone = this.clone, n;
    }
  };
}
var messages = newMessages(), Schema = /* @__PURE__ */ function() {
  function r(i) {
    this.rules = null, this._messages = messages, this.define(i);
  }
  var n = r.prototype;
  return n.define = function(o) {
    var a = this;
    if (!o)
      throw new Error("Cannot configure a schema with no rules");
    if (typeof o != "object" || Array.isArray(o))
      throw new Error("Rules must be an object");
    this.rules = {}, Object.keys(o).forEach(function(u) {
      var c = o[u];
      a.rules[u] = Array.isArray(c) ? c : [c];
    });
  }, n.messages = function(o) {
    return o && (this._messages = deepMerge(newMessages(), o)), this._messages;
  }, n.validate = function(o, a, u) {
    var c = this;
    a === void 0 && (a = {}), u === void 0 && (u = function() {
    });
    var f = o, d = a, p = u;
    if (typeof d == "function" && (p = d, d = {}), !this.rules || Object.keys(this.rules).length === 0)
      return p && p(null, f), Promise.resolve(f);
    function y(A) {
      var w = [], S = {};
      function x(L) {
        if (Array.isArray(L)) {
          var k;
          w = (k = w).concat.apply(k, L);
        } else
          w.push(L);
      }
      for (var T = 0; T < A.length; T++)
        x(A[T]);
      w.length ? (S = convertFieldsError(w), p(w, S)) : p(null, f);
    }
    if (d.messages) {
      var v = this.messages();
      v === messages && (v = newMessages()), deepMerge(v, d.messages), d.messages = v;
    } else
      d.messages = this.messages();
    var g = {}, _ = d.keys || Object.keys(this.rules);
    _.forEach(function(A) {
      var w = c.rules[A], S = f[A];
      w.forEach(function(x) {
        var T = x;
        typeof T.transform == "function" && (f === o && (f = _extends({}, f)), S = f[A] = T.transform(S)), typeof T == "function" ? T = {
          validator: T
        } : T = _extends({}, T), T.validator = c.getValidationMethod(T), T.validator && (T.field = A, T.fullField = T.fullField || A, T.type = c.getType(T), g[A] = g[A] || [], g[A].push({
          rule: T,
          value: S,
          source: f,
          field: A
        }));
      });
    });
    var b = {};
    return asyncMap(g, d, function(A, w) {
      var S = A.rule, x = (S.type === "object" || S.type === "array") && (typeof S.fields == "object" || typeof S.defaultField == "object");
      x = x && (S.required || !S.required && A.value), S.field = A.field;
      function T(M, O) {
        return _extends({}, O, {
          fullField: S.fullField + "." + M,
          fullFields: S.fullFields ? [].concat(S.fullFields, [M]) : [M]
        });
      }
      function L(M) {
        M === void 0 && (M = []);
        var O = Array.isArray(M) ? M : [M];
        !d.suppressWarning && O.length && r.warning("async-validator:", O), O.length && S.message !== void 0 && (O = [].concat(S.message));
        var ie = O.map(complementError(S, f));
        if (d.first && ie.length)
          return b[S.field] = 1, w(ie);
        if (!x)
          w(ie);
        else {
          if (S.required && !A.value)
            return S.message !== void 0 ? ie = [].concat(S.message).map(complementError(S, f)) : d.error && (ie = [d.error(S, format(d.messages.required, S.field))]), w(ie);
          var F = {};
          S.defaultField && Object.keys(A.value).map(function(Y) {
            F[Y] = S.defaultField;
          }), F = _extends({}, F, A.rule.fields);
          var re = {};
          Object.keys(F).forEach(function(Y) {
            var z = F[Y], pe = Array.isArray(z) ? z : [z];
            re[Y] = pe.map(T.bind(null, Y));
          });
          var D = new r(re);
          D.messages(d.messages), A.rule.options && (A.rule.options.messages = d.messages, A.rule.options.error = d.error), D.validate(A.value, A.rule.options || d, function(Y) {
            var z = [];
            ie && ie.length && z.push.apply(z, ie), Y && Y.length && z.push.apply(z, Y), w(z.length ? z : null);
          });
        }
      }
      var k;
      if (S.asyncValidator)
        k = S.asyncValidator(S, A.value, L, A.source, d);
      else if (S.validator) {
        try {
          k = S.validator(S, A.value, L, A.source, d);
        } catch (M) {
          console.error == null || console.error(M), d.suppressValidatorError || setTimeout(function() {
            throw M;
          }, 0), L(M.message);
        }
        k === !0 ? L() : k === !1 ? L(typeof S.message == "function" ? S.message(S.fullField || S.field) : S.message || (S.fullField || S.field) + " fails") : k instanceof Array ? L(k) : k instanceof Error && L(k.message);
      }
      k && k.then && k.then(function() {
        return L();
      }, function(M) {
        return L(M);
      });
    }, function(A) {
      y(A);
    }, f);
  }, n.getType = function(o) {
    if (o.type === void 0 && o.pattern instanceof RegExp && (o.type = "pattern"), typeof o.validator != "function" && o.type && !validators.hasOwnProperty(o.type))
      throw new Error(format("Unknown rule type %s", o.type));
    return o.type || "string";
  }, n.getValidationMethod = function(o) {
    if (typeof o.validator == "function")
      return o.validator;
    var a = Object.keys(o), u = a.indexOf("message");
    return u !== -1 && a.splice(u, 1), a.length === 1 && a[0] === "required" ? validators.required : validators[this.getType(o)] || void 0;
  }, r;
}();
Schema.register = function r(n, i) {
  if (typeof i != "function")
    throw new Error("Cannot register a validator by type, validator is not a function");
  validators[n] = i;
};
Schema.warning = warning;
Schema.messages = messages;
Schema.validators = validators;
const formItemValidateStates = [
  "",
  "error",
  "validating",
  "success"
], formItemProps = buildProps({
  label: String,
  labelWidth: {
    type: [String, Number],
    default: ""
  },
  prop: {
    type: definePropType([String, Array])
  },
  required: {
    type: Boolean,
    default: void 0
  },
  rules: {
    type: definePropType([Object, Array])
  },
  error: String,
  validateStatus: {
    type: String,
    values: formItemValidateStates
  },
  for: String,
  inlineMessage: {
    type: [String, Boolean],
    default: ""
  },
  showMessage: {
    type: Boolean,
    default: !0
  },
  size: {
    type: String,
    values: componentSizes
  }
}), COMPONENT_NAME$3 = "ElLabelWrap";
var FormLabelWrap = defineComponent({
  name: COMPONENT_NAME$3,
  props: {
    isAutoWidth: Boolean,
    updateAll: Boolean
  },
  setup(r, {
    slots: n
  }) {
    const i = inject(formContextKey, void 0), o = inject(formItemContextKey);
    o || throwError(COMPONENT_NAME$3, "usage: <el-form-item><label-wrap /></el-form-item>");
    const a = useNamespace("form"), u = ref(), c = ref(0), f = () => {
      var y;
      if ((y = u.value) != null && y.firstElementChild) {
        const v = window.getComputedStyle(u.value.firstElementChild).width;
        return Math.ceil(Number.parseFloat(v));
      } else
        return 0;
    }, d = (y = "update") => {
      nextTick(() => {
        n.default && r.isAutoWidth && (y === "update" ? c.value = f() : y === "remove" && (i == null || i.deregisterLabelWidth(c.value)));
      });
    }, p = () => d("update");
    return onMounted(() => {
      p();
    }), onBeforeUnmount(() => {
      d("remove");
    }), onUpdated(() => p()), watch(c, (y, v) => {
      r.updateAll && (i == null || i.registerLabelWidth(y, v));
    }), useResizeObserver(computed(() => {
      var y, v;
      return (v = (y = u.value) == null ? void 0 : y.firstElementChild) != null ? v : null;
    }), p), () => {
      var y, v;
      if (!n)
        return null;
      const {
        isAutoWidth: g
      } = r;
      if (g) {
        const _ = i == null ? void 0 : i.autoLabelWidth, b = o == null ? void 0 : o.hasLabel, A = {};
        if (b && _ && _ !== "auto") {
          const w = Math.max(0, Number.parseInt(_, 10) - c.value), S = i.labelPosition === "left" ? "marginRight" : "marginLeft";
          w && (A[S] = `${w}px`);
        }
        return createVNode$1("div", {
          ref: u,
          class: [a.be("item", "label-wrap")],
          style: A
        }, [(y = n.default) == null ? void 0 : y.call(n)]);
      } else
        return createVNode$1(Fragment, {
          ref: u
        }, [(v = n.default) == null ? void 0 : v.call(n)]);
    };
  }
});
const _hoisted_1$8 = ["role", "aria-labelledby"], __default__$a = defineComponent({
  name: "ElFormItem"
}), _sfc_main$p = /* @__PURE__ */ defineComponent({
  ...__default__$a,
  props: formItemProps,
  setup(r, { expose: n }) {
    const i = r, o = useSlots(), a = inject(formContextKey, void 0), u = inject(formItemContextKey, void 0), c = useFormSize(void 0, { formItem: !1 }), f = useNamespace("form-item"), d = useId().value, p = ref([]), y = ref(""), v = refDebounced(y, 100), g = ref(""), _ = ref();
    let b, A = !1;
    const w = computed(() => {
      if ((a == null ? void 0 : a.labelPosition) === "top")
        return {};
      const kt = addUnit(i.labelWidth || (a == null ? void 0 : a.labelWidth) || "");
      return kt ? { width: kt } : {};
    }), S = computed(() => {
      if ((a == null ? void 0 : a.labelPosition) === "top" || a != null && a.inline)
        return {};
      if (!i.label && !i.labelWidth && F)
        return {};
      const kt = addUnit(i.labelWidth || (a == null ? void 0 : a.labelWidth) || "");
      return !i.label && !o.label ? { marginLeft: kt } : {};
    }), x = computed(() => [
      f.b(),
      f.m(c.value),
      f.is("error", y.value === "error"),
      f.is("validating", y.value === "validating"),
      f.is("success", y.value === "success"),
      f.is("required", pe.value || i.required),
      f.is("no-asterisk", a == null ? void 0 : a.hideRequiredAsterisk),
      (a == null ? void 0 : a.requireAsteriskPosition) === "right" ? "asterisk-right" : "asterisk-left",
      { [f.m("feedback")]: a == null ? void 0 : a.statusIcon }
    ]), T = computed(() => isBoolean(i.inlineMessage) ? i.inlineMessage : (a == null ? void 0 : a.inlineMessage) || !1), L = computed(() => [
      f.e("error"),
      { [f.em("error", "inline")]: T.value }
    ]), k = computed(() => i.prop ? isString(i.prop) ? i.prop : i.prop.join(".") : ""), M = computed(() => !!(i.label || o.label)), O = computed(() => i.for || p.value.length === 1 ? p.value[0] : void 0), ie = computed(() => !O.value && M.value), F = !!u, re = computed(() => {
      const kt = a == null ? void 0 : a.model;
      if (!(!kt || !i.prop))
        return getProp(kt, i.prop).value;
    }), D = computed(() => {
      const { required: kt } = i, Cn = [];
      i.rules && Cn.push(...castArray(i.rules));
      const ze = a == null ? void 0 : a.rules;
      if (ze && i.prop) {
        const _e = getProp(ze, i.prop).value;
        _e && Cn.push(...castArray(_e));
      }
      if (kt !== void 0) {
        const _e = Cn.map((de, Et) => [de, Et]).filter(([de]) => Object.keys(de).includes("required"));
        if (_e.length > 0)
          for (const [de, Et] of _e)
            de.required !== kt && (Cn[Et] = { ...de, required: kt });
        else
          Cn.push({ required: kt });
      }
      return Cn;
    }), Y = computed(() => D.value.length > 0), z = (kt) => D.value.filter((ze) => !ze.trigger || !kt ? !0 : Array.isArray(ze.trigger) ? ze.trigger.includes(kt) : ze.trigger === kt).map(({ trigger: ze, ..._e }) => _e), pe = computed(() => D.value.some((kt) => kt.required)), ue = computed(() => {
      var kt;
      return v.value === "error" && i.showMessage && ((kt = a == null ? void 0 : a.showMessage) != null ? kt : !0);
    }), Ce = computed(() => `${i.label || ""}${(a == null ? void 0 : a.labelSuffix) || ""}`), Fe = (kt) => {
      y.value = kt;
    }, Ie = (kt) => {
      var Cn, ze;
      const { errors: _e, fields: de } = kt;
      (!_e || !de) && console.error(kt), Fe("error"), g.value = _e ? (ze = (Cn = _e == null ? void 0 : _e[0]) == null ? void 0 : Cn.message) != null ? ze : `${i.prop} is required` : "", a == null || a.emit("validate", i.prop, !1, g.value);
    }, Pt = () => {
      Fe("success"), a == null || a.emit("validate", i.prop, !0, "");
    }, xe = async (kt) => {
      const Cn = k.value;
      return new Schema({
        [Cn]: kt
      }).validate({ [Cn]: re.value }, { firstFields: !0 }).then(() => (Pt(), !0)).catch((_e) => (Ie(_e), Promise.reject(_e)));
    }, Lt = async (kt, Cn) => {
      if (A || !i.prop)
        return !1;
      const ze = isFunction(Cn);
      if (!Y.value)
        return Cn == null || Cn(!1), !1;
      const _e = z(kt);
      return _e.length === 0 ? (Cn == null || Cn(!0), !0) : (Fe("validating"), xe(_e).then(() => (Cn == null || Cn(!0), !0)).catch((de) => {
        const { fields: Et } = de;
        return Cn == null || Cn(!1, Et), ze ? !1 : Promise.reject(Et);
      }));
    }, _n = () => {
      Fe(""), g.value = "", A = !1;
    }, In = async () => {
      const kt = a == null ? void 0 : a.model;
      if (!kt || !i.prop)
        return;
      const Cn = getProp(kt, i.prop);
      A = !0, Cn.value = clone$3(b), await nextTick(), _n(), A = !1;
    }, jt = (kt) => {
      p.value.includes(kt) || p.value.push(kt);
    }, he = (kt) => {
      p.value = p.value.filter((Cn) => Cn !== kt);
    };
    watch(() => i.error, (kt) => {
      g.value = kt || "", Fe(kt ? "error" : "");
    }, { immediate: !0 }), watch(() => i.validateStatus, (kt) => Fe(kt || ""));
    const At = reactive({
      ...toRefs(i),
      $el: _,
      size: c,
      validateState: y,
      labelId: d,
      inputIds: p,
      isGroup: ie,
      hasLabel: M,
      addInputId: jt,
      removeInputId: he,
      resetField: In,
      clearValidate: _n,
      validate: Lt
    });
    return provide(formItemContextKey, At), onMounted(() => {
      i.prop && (a == null || a.addField(At), b = clone$3(re.value));
    }), onBeforeUnmount(() => {
      a == null || a.removeField(At);
    }), n({
      size: c,
      validateMessage: g,
      validateState: y,
      validate: Lt,
      clearValidate: _n,
      resetField: In
    }), (kt, Cn) => {
      var ze;
      return openBlock(), createElementBlock("div", {
        ref_key: "formItemRef",
        ref: _,
        class: normalizeClass(unref(x)),
        role: unref(ie) ? "group" : void 0,
        "aria-labelledby": unref(ie) ? unref(d) : void 0
      }, [
        createVNode$1(unref(FormLabelWrap), {
          "is-auto-width": unref(w).width === "auto",
          "update-all": ((ze = unref(a)) == null ? void 0 : ze.labelWidth) === "auto"
        }, {
          default: withCtx(() => [
            unref(M) ? (openBlock(), createBlock(resolveDynamicComponent(unref(O) ? "label" : "div"), {
              key: 0,
              id: unref(d),
              for: unref(O),
              class: normalizeClass(unref(f).e("label")),
              style: normalizeStyle$1(unref(w))
            }, {
              default: withCtx(() => [
                renderSlot(kt.$slots, "label", { label: unref(Ce) }, () => [
                  createTextVNode(toDisplayString(unref(Ce)), 1)
                ])
              ]),
              _: 3
            }, 8, ["id", "for", "class", "style"])) : createCommentVNode("v-if", !0)
          ]),
          _: 3
        }, 8, ["is-auto-width", "update-all"]),
        createElementVNode("div", {
          class: normalizeClass(unref(f).e("content")),
          style: normalizeStyle$1(unref(S))
        }, [
          renderSlot(kt.$slots, "default"),
          createVNode$1(TransitionGroup, {
            name: `${unref(f).namespace.value}-zoom-in-top`
          }, {
            default: withCtx(() => [
              unref(ue) ? renderSlot(kt.$slots, "error", {
                key: 0,
                error: g.value
              }, () => [
                createElementVNode("div", {
                  class: normalizeClass(unref(L))
                }, toDisplayString(g.value), 3)
              ]) : createCommentVNode("v-if", !0)
            ]),
            _: 3
          }, 8, ["name"])
        ], 6)
      ], 10, _hoisted_1$8);
    };
  }
});
var FormItem = /* @__PURE__ */ _export_sfc(_sfc_main$p, [["__file", "/home/runner/work/element-plus/element-plus/packages/components/form/src/form-item.vue"]]);
withInstall(Form, {
  FormItem
});
const ElFormItem = withNoopInstall(FormItem);
let hiddenTextarea;
const HIDDEN_STYLE = `
  height:0 !important;
  visibility:hidden !important;
  ${isFirefox() ? "" : "overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`, CONTEXT_STYLE = [
  "letter-spacing",
  "line-height",
  "padding-top",
  "padding-bottom",
  "font-family",
  "font-weight",
  "font-size",
  "text-rendering",
  "text-transform",
  "width",
  "text-indent",
  "padding-left",
  "padding-right",
  "border-width",
  "box-sizing"
];
function calculateNodeStyling(r) {
  const n = window.getComputedStyle(r), i = n.getPropertyValue("box-sizing"), o = Number.parseFloat(n.getPropertyValue("padding-bottom")) + Number.parseFloat(n.getPropertyValue("padding-top")), a = Number.parseFloat(n.getPropertyValue("border-bottom-width")) + Number.parseFloat(n.getPropertyValue("border-top-width"));
  return { contextStyle: CONTEXT_STYLE.map((c) => `${c}:${n.getPropertyValue(c)}`).join(";"), paddingSize: o, borderSize: a, boxSizing: i };
}
function calcTextareaHeight(r, n = 1, i) {
  var o;
  hiddenTextarea || (hiddenTextarea = document.createElement("textarea"), document.body.appendChild(hiddenTextarea));
  const { paddingSize: a, borderSize: u, boxSizing: c, contextStyle: f } = calculateNodeStyling(r);
  hiddenTextarea.setAttribute("style", `${f};${HIDDEN_STYLE}`), hiddenTextarea.value = r.value || r.placeholder || "";
  let d = hiddenTextarea.scrollHeight;
  const p = {};
  c === "border-box" ? d = d + u : c === "content-box" && (d = d - a), hiddenTextarea.value = "";
  const y = hiddenTextarea.scrollHeight - a;
  if (isNumber(n)) {
    let v = y * n;
    c === "border-box" && (v = v + a + u), d = Math.max(v, d), p.minHeight = `${v}px`;
  }
  if (isNumber(i)) {
    let v = y * i;
    c === "border-box" && (v = v + a + u), d = Math.min(v, d);
  }
  return p.height = `${d}px`, (o = hiddenTextarea.parentNode) == null || o.removeChild(hiddenTextarea), hiddenTextarea = void 0, p;
}
const inputProps = buildProps({
  id: {
    type: String,
    default: void 0
  },
  size: useSizeProp,
  disabled: Boolean,
  modelValue: {
    type: definePropType([
      String,
      Number,
      Object
    ]),
    default: ""
  },
  type: {
    type: String,
    default: "text"
  },
  resize: {
    type: String,
    values: ["none", "both", "horizontal", "vertical"]
  },
  autosize: {
    type: definePropType([Boolean, Object]),
    default: !1
  },
  autocomplete: {
    type: String,
    default: "off"
  },
  formatter: {
    type: Function
  },
  parser: {
    type: Function
  },
  placeholder: {
    type: String
  },
  form: {
    type: String
  },
  readonly: {
    type: Boolean,
    default: !1
  },
  clearable: {
    type: Boolean,
    default: !1
  },
  showPassword: {
    type: Boolean,
    default: !1
  },
  showWordLimit: {
    type: Boolean,
    default: !1
  },
  suffixIcon: {
    type: iconPropType
  },
  prefixIcon: {
    type: iconPropType
  },
  containerRole: {
    type: String,
    default: void 0
  },
  label: {
    type: String,
    default: void 0
  },
  tabindex: {
    type: [String, Number],
    default: 0
  },
  validateEvent: {
    type: Boolean,
    default: !0
  },
  inputStyle: {
    type: definePropType([Object, Array, String]),
    default: () => mutable({})
  }
}), inputEmits = {
  [UPDATE_MODEL_EVENT]: (r) => isString(r),
  input: (r) => isString(r),
  change: (r) => isString(r),
  focus: (r) => r instanceof FocusEvent,
  blur: (r) => r instanceof FocusEvent,
  clear: () => !0,
  mouseleave: (r) => r instanceof MouseEvent,
  mouseenter: (r) => r instanceof MouseEvent,
  keydown: (r) => r instanceof Event,
  compositionstart: (r) => r instanceof CompositionEvent,
  compositionupdate: (r) => r instanceof CompositionEvent,
  compositionend: (r) => r instanceof CompositionEvent
}, _hoisted_1$7 = ["role"], _hoisted_2$5 = ["id", "type", "disabled", "formatter", "parser", "readonly", "autocomplete", "tabindex", "aria-label", "placeholder", "form"], _hoisted_3$4 = ["id", "tabindex", "disabled", "readonly", "autocomplete", "aria-label", "placeholder", "form"], __default__$9 = defineComponent({
  name: "ElInput",
  inheritAttrs: !1
}), _sfc_main$o = /* @__PURE__ */ defineComponent({
  ...__default__$9,
  props: inputProps,
  emits: inputEmits,
  setup(r, { expose: n, emit: i }) {
    const o = r, a = useAttrs$1(), u = useSlots(), c = computed(() => {
      const Ue = {};
      return o.containerRole === "combobox" && (Ue["aria-haspopup"] = a["aria-haspopup"], Ue["aria-owns"] = a["aria-owns"], Ue["aria-expanded"] = a["aria-expanded"]), Ue;
    }), f = computed(() => [
      o.type === "textarea" ? w.b() : A.b(),
      A.m(_.value),
      A.is("disabled", b.value),
      A.is("exceed", jt.value),
      {
        [A.b("group")]: u.prepend || u.append,
        [A.bm("group", "append")]: u.append,
        [A.bm("group", "prepend")]: u.prepend,
        [A.m("prefix")]: u.prefix || o.prefixIcon,
        [A.m("suffix")]: u.suffix || o.suffixIcon || o.clearable || o.showPassword,
        [A.bm("suffix", "password-clear")]: xe.value && Lt.value
      },
      a.class
    ]), d = computed(() => [
      A.e("wrapper"),
      A.is("focus", re.value)
    ]), p = useAttrs({
      excludeKeys: computed(() => Object.keys(c.value))
    }), { form: y, formItem: v } = useFormItem(), { inputId: g } = useFormItemInputId(o, {
      formItemContext: v
    }), _ = useFormSize(), b = useFormDisabled(), A = useNamespace("input"), w = useNamespace("textarea"), S = shallowRef(), x = shallowRef(), T = ref(!1), L = ref(!1), k = ref(!1), M = ref(), O = shallowRef(o.inputStyle), ie = computed(() => S.value || x.value), { wrapperRef: F, isFocused: re, handleFocus: D, handleBlur: Y } = useFocusController(ie, {
      afterBlur() {
        var Ue;
        o.validateEvent && ((Ue = v == null ? void 0 : v.validate) == null || Ue.call(v, "blur").catch((vn) => debugWarn(vn)));
      }
    }), z = computed(() => {
      var Ue;
      return (Ue = y == null ? void 0 : y.statusIcon) != null ? Ue : !1;
    }), pe = computed(() => (v == null ? void 0 : v.validateState) || ""), ue = computed(() => pe.value && ValidateComponentsMap[pe.value]), Ce = computed(() => k.value ? view_default : hide_default), Fe = computed(() => [
      a.style,
      o.inputStyle
    ]), Ie = computed(() => [
      o.inputStyle,
      O.value,
      { resize: o.resize }
    ]), Pt = computed(() => isNil(o.modelValue) ? "" : String(o.modelValue)), xe = computed(() => o.clearable && !b.value && !o.readonly && !!Pt.value && (re.value || T.value)), Lt = computed(() => o.showPassword && !b.value && !o.readonly && !!Pt.value && (!!Pt.value || re.value)), _n = computed(() => o.showWordLimit && !!p.value.maxlength && (o.type === "text" || o.type === "textarea") && !b.value && !o.readonly && !o.showPassword), In = computed(() => Pt.value.length), jt = computed(() => !!_n.value && In.value > Number(p.value.maxlength)), he = computed(() => !!u.suffix || !!o.suffixIcon || xe.value || o.showPassword || _n.value || !!pe.value && z.value), [At, kt] = useCursor(S);
    useResizeObserver(x, (Ue) => {
      if (_e(), !_n.value || o.resize !== "both")
        return;
      const vn = Ue[0], { width: wn } = vn.contentRect;
      M.value = {
        right: `calc(100% - ${wn + 15 + 6}px)`
      };
    });
    const Cn = () => {
      const { type: Ue, autosize: vn } = o;
      if (!(!isClient || Ue !== "textarea" || !x.value))
        if (vn) {
          const wn = isObject(vn) ? vn.minRows : void 0, xn = isObject(vn) ? vn.maxRows : void 0, Bn = calcTextareaHeight(x.value, wn, xn);
          O.value = {
            overflowY: "hidden",
            ...Bn
          }, nextTick(() => {
            x.value.offsetHeight, O.value = Bn;
          });
        } else
          O.value = {
            minHeight: calcTextareaHeight(x.value).minHeight
          };
    }, _e = ((Ue) => {
      let vn = !1;
      return () => {
        var wn;
        if (vn || !o.autosize)
          return;
        ((wn = x.value) == null ? void 0 : wn.offsetParent) === null || (Ue(), vn = !0);
      };
    })(Cn), de = () => {
      const Ue = ie.value, vn = o.formatter ? o.formatter(Pt.value) : Pt.value;
      !Ue || Ue.value === vn || (Ue.value = vn);
    }, Et = async (Ue) => {
      At();
      let { value: vn } = Ue.target;
      if (o.formatter && (vn = o.parser ? o.parser(vn) : vn), !L.value) {
        if (vn === Pt.value) {
          de();
          return;
        }
        i(UPDATE_MODEL_EVENT, vn), i("input", vn), await nextTick(), de(), kt();
      }
    }, Oe = (Ue) => {
      i("change", Ue.target.value);
    }, Ve = (Ue) => {
      i("compositionstart", Ue), L.value = !0;
    }, Dt = (Ue) => {
      var vn;
      i("compositionupdate", Ue);
      const wn = (vn = Ue.target) == null ? void 0 : vn.value, xn = wn[wn.length - 1] || "";
      L.value = !isKorean(xn);
    }, hn = (Ue) => {
      i("compositionend", Ue), L.value && (L.value = !1, Et(Ue));
    }, bn = () => {
      k.value = !k.value, oe();
    }, oe = async () => {
      var Ue;
      await nextTick(), (Ue = ie.value) == null || Ue.focus();
    }, le = () => {
      var Ue;
      return (Ue = ie.value) == null ? void 0 : Ue.blur();
    }, j = (Ue) => {
      T.value = !1, i("mouseleave", Ue);
    }, V = (Ue) => {
      T.value = !0, i("mouseenter", Ue);
    }, $ = (Ue) => {
      i("keydown", Ue);
    }, ae = () => {
      var Ue;
      (Ue = ie.value) == null || Ue.select();
    }, Ne = () => {
      i(UPDATE_MODEL_EVENT, ""), i("change", ""), i("clear"), i("input", "");
    };
    return watch(() => o.modelValue, () => {
      var Ue;
      nextTick(() => Cn()), o.validateEvent && ((Ue = v == null ? void 0 : v.validate) == null || Ue.call(v, "change").catch((vn) => debugWarn(vn)));
    }), watch(Pt, () => de()), watch(() => o.type, async () => {
      await nextTick(), de(), Cn();
    }), onMounted(() => {
      !o.formatter && o.parser && debugWarn("ElInput", "If you set the parser, you also need to set the formatter."), de(), nextTick(Cn);
    }), n({
      input: S,
      textarea: x,
      ref: ie,
      textareaStyle: Ie,
      autosize: toRef(o, "autosize"),
      focus: oe,
      blur: le,
      select: ae,
      clear: Ne,
      resizeTextarea: Cn
    }), (Ue, vn) => withDirectives((openBlock(), createElementBlock("div", mergeProps(unref(c), {
      class: unref(f),
      style: unref(Fe),
      role: Ue.containerRole,
      onMouseenter: V,
      onMouseleave: j
    }), [
      createCommentVNode(" input "),
      Ue.type !== "textarea" ? (openBlock(), createElementBlock(Fragment, { key: 0 }, [
        createCommentVNode(" prepend slot "),
        Ue.$slots.prepend ? (openBlock(), createElementBlock("div", {
          key: 0,
          class: normalizeClass(unref(A).be("group", "prepend"))
        }, [
          renderSlot(Ue.$slots, "prepend")
        ], 2)) : createCommentVNode("v-if", !0),
        createElementVNode("div", {
          ref_key: "wrapperRef",
          ref: F,
          class: normalizeClass(unref(d))
        }, [
          createCommentVNode(" prefix slot "),
          Ue.$slots.prefix || Ue.prefixIcon ? (openBlock(), createElementBlock("span", {
            key: 0,
            class: normalizeClass(unref(A).e("prefix"))
          }, [
            createElementVNode("span", {
              class: normalizeClass(unref(A).e("prefix-inner"))
            }, [
              renderSlot(Ue.$slots, "prefix"),
              Ue.prefixIcon ? (openBlock(), createBlock(unref(ElIcon), {
                key: 0,
                class: normalizeClass(unref(A).e("icon"))
              }, {
                default: withCtx(() => [
                  (openBlock(), createBlock(resolveDynamicComponent(Ue.prefixIcon)))
                ]),
                _: 1
              }, 8, ["class"])) : createCommentVNode("v-if", !0)
            ], 2)
          ], 2)) : createCommentVNode("v-if", !0),
          createElementVNode("input", mergeProps({
            id: unref(g),
            ref_key: "input",
            ref: S,
            class: unref(A).e("inner")
          }, unref(p), {
            type: Ue.showPassword ? k.value ? "text" : "password" : Ue.type,
            disabled: unref(b),
            formatter: Ue.formatter,
            parser: Ue.parser,
            readonly: Ue.readonly,
            autocomplete: Ue.autocomplete,
            tabindex: Ue.tabindex,
            "aria-label": Ue.label,
            placeholder: Ue.placeholder,
            style: Ue.inputStyle,
            form: o.form,
            onCompositionstart: Ve,
            onCompositionupdate: Dt,
            onCompositionend: hn,
            onInput: Et,
            onFocus: vn[0] || (vn[0] = (...wn) => unref(D) && unref(D)(...wn)),
            onBlur: vn[1] || (vn[1] = (...wn) => unref(Y) && unref(Y)(...wn)),
            onChange: Oe,
            onKeydown: $
          }), null, 16, _hoisted_2$5),
          createCommentVNode(" suffix slot "),
          unref(he) ? (openBlock(), createElementBlock("span", {
            key: 1,
            class: normalizeClass(unref(A).e("suffix"))
          }, [
            createElementVNode("span", {
              class: normalizeClass(unref(A).e("suffix-inner"))
            }, [
              !unref(xe) || !unref(Lt) || !unref(_n) ? (openBlock(), createElementBlock(Fragment, { key: 0 }, [
                renderSlot(Ue.$slots, "suffix"),
                Ue.suffixIcon ? (openBlock(), createBlock(unref(ElIcon), {
                  key: 0,
                  class: normalizeClass(unref(A).e("icon"))
                }, {
                  default: withCtx(() => [
                    (openBlock(), createBlock(resolveDynamicComponent(Ue.suffixIcon)))
                  ]),
                  _: 1
                }, 8, ["class"])) : createCommentVNode("v-if", !0)
              ], 64)) : createCommentVNode("v-if", !0),
              unref(xe) ? (openBlock(), createBlock(unref(ElIcon), {
                key: 1,
                class: normalizeClass([unref(A).e("icon"), unref(A).e("clear")]),
                onMousedown: withModifiers(unref(NOOP), ["prevent"]),
                onClick: Ne
              }, {
                default: withCtx(() => [
                  createVNode$1(unref(circle_close_default))
                ]),
                _: 1
              }, 8, ["class", "onMousedown"])) : createCommentVNode("v-if", !0),
              unref(Lt) ? (openBlock(), createBlock(unref(ElIcon), {
                key: 2,
                class: normalizeClass([unref(A).e("icon"), unref(A).e("password")]),
                onClick: bn
              }, {
                default: withCtx(() => [
                  (openBlock(), createBlock(resolveDynamicComponent(unref(Ce))))
                ]),
                _: 1
              }, 8, ["class"])) : createCommentVNode("v-if", !0),
              unref(_n) ? (openBlock(), createElementBlock("span", {
                key: 3,
                class: normalizeClass(unref(A).e("count"))
              }, [
                createElementVNode("span", {
                  class: normalizeClass(unref(A).e("count-inner"))
                }, toDisplayString(unref(In)) + " / " + toDisplayString(unref(p).maxlength), 3)
              ], 2)) : createCommentVNode("v-if", !0),
              unref(pe) && unref(ue) && unref(z) ? (openBlock(), createBlock(unref(ElIcon), {
                key: 4,
                class: normalizeClass([
                  unref(A).e("icon"),
                  unref(A).e("validateIcon"),
                  unref(A).is("loading", unref(pe) === "validating")
                ])
              }, {
                default: withCtx(() => [
                  (openBlock(), createBlock(resolveDynamicComponent(unref(ue))))
                ]),
                _: 1
              }, 8, ["class"])) : createCommentVNode("v-if", !0)
            ], 2)
          ], 2)) : createCommentVNode("v-if", !0)
        ], 2),
        createCommentVNode(" append slot "),
        Ue.$slots.append ? (openBlock(), createElementBlock("div", {
          key: 1,
          class: normalizeClass(unref(A).be("group", "append"))
        }, [
          renderSlot(Ue.$slots, "append")
        ], 2)) : createCommentVNode("v-if", !0)
      ], 64)) : (openBlock(), createElementBlock(Fragment, { key: 1 }, [
        createCommentVNode(" textarea "),
        createElementVNode("textarea", mergeProps({
          id: unref(g),
          ref_key: "textarea",
          ref: x,
          class: unref(w).e("inner")
        }, unref(p), {
          tabindex: Ue.tabindex,
          disabled: unref(b),
          readonly: Ue.readonly,
          autocomplete: Ue.autocomplete,
          style: unref(Ie),
          "aria-label": Ue.label,
          placeholder: Ue.placeholder,
          form: o.form,
          onCompositionstart: Ve,
          onCompositionupdate: Dt,
          onCompositionend: hn,
          onInput: Et,
          onFocus: vn[2] || (vn[2] = (...wn) => unref(D) && unref(D)(...wn)),
          onBlur: vn[3] || (vn[3] = (...wn) => unref(Y) && unref(Y)(...wn)),
          onChange: Oe,
          onKeydown: $
        }), null, 16, _hoisted_3$4),
        unref(_n) ? (openBlock(), createElementBlock("span", {
          key: 0,
          style: normalizeStyle$1(M.value),
          class: normalizeClass(unref(A).e("count"))
        }, toDisplayString(unref(In)) + " / " + toDisplayString(unref(p).maxlength), 7)) : createCommentVNode("v-if", !0)
      ], 64))
    ], 16, _hoisted_1$7)), [
      [vShow, Ue.type !== "hidden"]
    ]);
  }
});
var Input = /* @__PURE__ */ _export_sfc(_sfc_main$o, [["__file", "/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue"]]);
const ElInput = withInstall(Input), GAP = 4, BAR_MAP = {
  vertical: {
    offset: "offsetHeight",
    scroll: "scrollTop",
    scrollSize: "scrollHeight",
    size: "height",
    key: "vertical",
    axis: "Y",
    client: "clientY",
    direction: "top"
  },
  horizontal: {
    offset: "offsetWidth",
    scroll: "scrollLeft",
    scrollSize: "scrollWidth",
    size: "width",
    key: "horizontal",
    axis: "X",
    client: "clientX",
    direction: "left"
  }
}, renderThumbStyle = ({
  move: r,
  size: n,
  bar: i
}) => ({
  [i.size]: n,
  transform: `translate${i.axis}(${r}%)`
}), scrollbarContextKey = Symbol("scrollbarContextKey"), thumbProps = buildProps({
  vertical: Boolean,
  size: String,
  move: Number,
  ratio: {
    type: Number,
    required: !0
  },
  always: Boolean
}), COMPONENT_NAME$2 = "Thumb", _sfc_main$n = /* @__PURE__ */ defineComponent({
  __name: "thumb",
  props: thumbProps,
  setup(r) {
    const n = r, i = inject(scrollbarContextKey), o = useNamespace("scrollbar");
    i || throwError(COMPONENT_NAME$2, "can not inject scrollbar context");
    const a = ref(), u = ref(), c = ref({}), f = ref(!1);
    let d = !1, p = !1, y = isClient ? document.onselectstart : null;
    const v = computed(() => BAR_MAP[n.vertical ? "vertical" : "horizontal"]), g = computed(() => renderThumbStyle({
      size: n.size,
      move: n.move,
      bar: v.value
    })), _ = computed(() => a.value[v.value.offset] ** 2 / i.wrapElement[v.value.scrollSize] / n.ratio / u.value[v.value.offset]), b = (M) => {
      var O;
      if (M.stopPropagation(), M.ctrlKey || [1, 2].includes(M.button))
        return;
      (O = window.getSelection()) == null || O.removeAllRanges(), w(M);
      const ie = M.currentTarget;
      ie && (c.value[v.value.axis] = ie[v.value.offset] - (M[v.value.client] - ie.getBoundingClientRect()[v.value.direction]));
    }, A = (M) => {
      if (!u.value || !a.value || !i.wrapElement)
        return;
      const O = Math.abs(M.target.getBoundingClientRect()[v.value.direction] - M[v.value.client]), ie = u.value[v.value.offset] / 2, F = (O - ie) * 100 * _.value / a.value[v.value.offset];
      i.wrapElement[v.value.scroll] = F * i.wrapElement[v.value.scrollSize] / 100;
    }, w = (M) => {
      M.stopImmediatePropagation(), d = !0, document.addEventListener("mousemove", S), document.addEventListener("mouseup", x), y = document.onselectstart, document.onselectstart = () => !1;
    }, S = (M) => {
      if (!a.value || !u.value || d === !1)
        return;
      const O = c.value[v.value.axis];
      if (!O)
        return;
      const ie = (a.value.getBoundingClientRect()[v.value.direction] - M[v.value.client]) * -1, F = u.value[v.value.offset] - O, re = (ie - F) * 100 * _.value / a.value[v.value.offset];
      i.wrapElement[v.value.scroll] = re * i.wrapElement[v.value.scrollSize] / 100;
    }, x = () => {
      d = !1, c.value[v.value.axis] = 0, document.removeEventListener("mousemove", S), document.removeEventListener("mouseup", x), k(), p && (f.value = !1);
    }, T = () => {
      p = !1, f.value = !!n.size;
    }, L = () => {
      p = !0, f.value = d;
    };
    onBeforeUnmount(() => {
      k(), document.removeEventListener("mouseup", x);
    });
    const k = () => {
      document.onselectstart !== y && (document.onselectstart = y);
    };
    return useEventListener(toRef(i, "scrollbarElement"), "mousemove", T), useEventListener(toRef(i, "scrollbarElement"), "mouseleave", L), (M, O) => (openBlock(), createBlock(Transition, {
      name: unref(o).b("fade"),
      persisted: ""
    }, {
      default: withCtx(() => [
        withDirectives(createElementVNode("div", {
          ref_key: "instance",
          ref: a,
          class: normalizeClass([unref(o).e("bar"), unref(o).is(unref(v).key)]),
          onMousedown: A
        }, [
          createElementVNode("div", {
            ref_key: "thumb",
            ref: u,
            class: normalizeClass(unref(o).e("thumb")),
            style: normalizeStyle$1(unref(g)),
            onMousedown: b
          }, null, 38)
        ], 34), [
          [vShow, M.always || f.value]
        ])
      ]),
      _: 1
    }, 8, ["name"]));
  }
});
var Thumb = /* @__PURE__ */ _export_sfc(_sfc_main$n, [["__file", "/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/thumb.vue"]]);
const barProps = buildProps({
  always: {
    type: Boolean,
    default: !0
  },
  width: String,
  height: String,
  ratioX: {
    type: Number,
    default: 1
  },
  ratioY: {
    type: Number,
    default: 1
  }
}), _sfc_main$m = /* @__PURE__ */ defineComponent({
  __name: "bar",
  props: barProps,
  setup(r, { expose: n }) {
    const i = r, o = ref(0), a = ref(0);
    return n({
      handleScroll: (c) => {
        if (c) {
          const f = c.offsetHeight - GAP, d = c.offsetWidth - GAP;
          a.value = c.scrollTop * 100 / f * i.ratioY, o.value = c.scrollLeft * 100 / d * i.ratioX;
        }
      }
    }), (c, f) => (openBlock(), createElementBlock(Fragment, null, [
      createVNode$1(Thumb, {
        move: o.value,
        ratio: c.ratioX,
        size: c.width,
        always: c.always
      }, null, 8, ["move", "ratio", "size", "always"]),
      createVNode$1(Thumb, {
        move: a.value,
        ratio: c.ratioY,
        size: c.height,
        vertical: "",
        always: c.always
      }, null, 8, ["move", "ratio", "size", "always"])
    ], 64));
  }
});
var Bar = /* @__PURE__ */ _export_sfc(_sfc_main$m, [["__file", "/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/bar.vue"]]);
const scrollbarProps = buildProps({
  height: {
    type: [String, Number],
    default: ""
  },
  maxHeight: {
    type: [String, Number],
    default: ""
  },
  native: {
    type: Boolean,
    default: !1
  },
  wrapStyle: {
    type: definePropType([String, Object, Array]),
    default: ""
  },
  wrapClass: {
    type: [String, Array],
    default: ""
  },
  viewClass: {
    type: [String, Array],
    default: ""
  },
  viewStyle: {
    type: [String, Array, Object],
    default: ""
  },
  noresize: Boolean,
  tag: {
    type: String,
    default: "div"
  },
  always: Boolean,
  minSize: {
    type: Number,
    default: 20
  }
}), scrollbarEmits = {
  scroll: ({
    scrollTop: r,
    scrollLeft: n
  }) => [r, n].every(isNumber)
}, COMPONENT_NAME$1 = "ElScrollbar", __default__$8 = defineComponent({
  name: COMPONENT_NAME$1
}), _sfc_main$l = /* @__PURE__ */ defineComponent({
  ...__default__$8,
  props: scrollbarProps,
  emits: scrollbarEmits,
  setup(r, { expose: n, emit: i }) {
    const o = r, a = useNamespace("scrollbar");
    let u, c;
    const f = ref(), d = ref(), p = ref(), y = ref("0"), v = ref("0"), g = ref(), _ = ref(1), b = ref(1), A = computed(() => {
      const O = {};
      return o.height && (O.height = addUnit(o.height)), o.maxHeight && (O.maxHeight = addUnit(o.maxHeight)), [o.wrapStyle, O];
    }), w = computed(() => [
      o.wrapClass,
      a.e("wrap"),
      { [a.em("wrap", "hidden-default")]: !o.native }
    ]), S = computed(() => [a.e("view"), o.viewClass]), x = () => {
      var O;
      d.value && ((O = g.value) == null || O.handleScroll(d.value), i("scroll", {
        scrollTop: d.value.scrollTop,
        scrollLeft: d.value.scrollLeft
      }));
    };
    function T(O, ie) {
      isObject(O) ? d.value.scrollTo(O) : isNumber(O) && isNumber(ie) && d.value.scrollTo(O, ie);
    }
    const L = (O) => {
      if (!isNumber(O)) {
        debugWarn(COMPONENT_NAME$1, "value must be a number");
        return;
      }
      d.value.scrollTop = O;
    }, k = (O) => {
      if (!isNumber(O)) {
        debugWarn(COMPONENT_NAME$1, "value must be a number");
        return;
      }
      d.value.scrollLeft = O;
    }, M = () => {
      if (!d.value)
        return;
      const O = d.value.offsetHeight - GAP, ie = d.value.offsetWidth - GAP, F = O ** 2 / d.value.scrollHeight, re = ie ** 2 / d.value.scrollWidth, D = Math.max(F, o.minSize), Y = Math.max(re, o.minSize);
      _.value = F / (O - F) / (D / (O - D)), b.value = re / (ie - re) / (Y / (ie - Y)), v.value = D + GAP < O ? `${D}px` : "", y.value = Y + GAP < ie ? `${Y}px` : "";
    };
    return watch(() => o.noresize, (O) => {
      O ? (u == null || u(), c == null || c()) : ({ stop: u } = useResizeObserver(p, M), c = useEventListener("resize", M));
    }, { immediate: !0 }), watch(() => [o.maxHeight, o.height], () => {
      o.native || nextTick(() => {
        var O;
        M(), d.value && ((O = g.value) == null || O.handleScroll(d.value));
      });
    }), provide(scrollbarContextKey, reactive({
      scrollbarElement: f,
      wrapElement: d
    })), onMounted(() => {
      o.native || nextTick(() => {
        M();
      });
    }), onUpdated(() => M()), n({
      wrapRef: d,
      update: M,
      scrollTo: T,
      setScrollTop: L,
      setScrollLeft: k,
      handleScroll: x
    }), (O, ie) => (openBlock(), createElementBlock("div", {
      ref_key: "scrollbarRef",
      ref: f,
      class: normalizeClass(unref(a).b())
    }, [
      createElementVNode("div", {
        ref_key: "wrapRef",
        ref: d,
        class: normalizeClass(unref(w)),
        style: normalizeStyle$1(unref(A)),
        onScroll: x
      }, [
        (openBlock(), createBlock(resolveDynamicComponent(O.tag), {
          ref_key: "resizeRef",
          ref: p,
          class: normalizeClass(unref(S)),
          style: normalizeStyle$1(O.viewStyle)
        }, {
          default: withCtx(() => [
            renderSlot(O.$slots, "default")
          ]),
          _: 3
        }, 8, ["class", "style"]))
      ], 38),
      O.native ? createCommentVNode("v-if", !0) : (openBlock(), createBlock(Bar, {
        key: 0,
        ref_key: "barRef",
        ref: g,
        height: v.value,
        width: y.value,
        always: O.always,
        "ratio-x": b.value,
        "ratio-y": _.value
      }, null, 8, ["height", "width", "always", "ratio-x", "ratio-y"]))
    ], 2));
  }
});
var Scrollbar = /* @__PURE__ */ _export_sfc(_sfc_main$l, [["__file", "/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/scrollbar.vue"]]);
const ElScrollbar = withInstall(Scrollbar), POPPER_INJECTION_KEY = Symbol("popper"), POPPER_CONTENT_INJECTION_KEY = Symbol("popperContent"), roleTypes = [
  "dialog",
  "grid",
  "group",
  "listbox",
  "menu",
  "navigation",
  "tooltip",
  "tree"
], popperProps = buildProps({
  role: {
    type: String,
    values: roleTypes,
    default: "tooltip"
  }
}), __default__$7 = defineComponent({
  name: "ElPopper",
  inheritAttrs: !1
}), _sfc_main$k = /* @__PURE__ */ defineComponent({
  ...__default__$7,
  props: popperProps,
  setup(r, { expose: n }) {
    const i = r, o = ref(), a = ref(), u = ref(), c = ref(), f = computed(() => i.role), d = {
      triggerRef: o,
      popperInstanceRef: a,
      contentRef: u,
      referenceRef: c,
      role: f
    };
    return n(d), provide(POPPER_INJECTION_KEY, d), (p, y) => renderSlot(p.$slots, "default");
  }
});
var Popper = /* @__PURE__ */ _export_sfc(_sfc_main$k, [["__file", "/home/runner/work/element-plus/element-plus/packages/components/popper/src/popper.vue"]]);
const popperArrowProps = buildProps({
  arrowOffset: {
    type: Number,
    default: 5
  }
}), __default__$6 = defineComponent({
  name: "ElPopperArrow",
  inheritAttrs: !1
}), _sfc_main$j = /* @__PURE__ */ defineComponent({
  ...__default__$6,
  props: popperArrowProps,
  setup(r, { expose: n }) {
    const i = r, o = useNamespace("popper"), { arrowOffset: a, arrowRef: u, arrowStyle: c } = inject(POPPER_CONTENT_INJECTION_KEY, void 0);
    return watch(() => i.arrowOffset, (f) => {
      a.value = f;
    }), onBeforeUnmount(() => {
      u.value = void 0;
    }), n({
      arrowRef: u
    }), (f, d) => (openBlock(), createElementBlock("span", {
      ref_key: "arrowRef",
      ref: u,
      class: normalizeClass(unref(o).e("arrow")),
      style: normalizeStyle$1(unref(c)),
      "data-popper-arrow": ""
    }, null, 6));
  }
});
var ElPopperArrow = /* @__PURE__ */ _export_sfc(_sfc_main$j, [["__file", "/home/runner/work/element-plus/element-plus/packages/components/popper/src/arrow.vue"]]);
const NAME = "ElOnlyChild", OnlyChild = defineComponent({
  name: NAME,
  setup(r, {
    slots: n,
    attrs: i
  }) {
    var o;
    const a = inject(FORWARD_REF_INJECTION_KEY), u = useForwardRefDirective((o = a == null ? void 0 : a.setForwardRef) != null ? o : NOOP);
    return () => {
      var c;
      const f = (c = n.default) == null ? void 0 : c.call(n, i);
      if (!f)
        return null;
      if (f.length > 1)
        return debugWarn(NAME, "requires exact only one valid child."), null;
      const d = findFirstLegitChild(f);
      return d ? withDirectives(cloneVNode(d, i), [[u]]) : (debugWarn(NAME, "no valid child node found"), null);
    };
  }
});
function findFirstLegitChild(r) {
  if (!r)
    return null;
  const n = r;
  for (const i of n) {
    if (isObject(i))
      switch (i.type) {
        case Comment:
          continue;
        case Text:
        case "svg":
          return wrapTextContent(i);
        case Fragment:
          return findFirstLegitChild(i.children);
        default:
          return i;
      }
    return wrapTextContent(i);
  }
  return null;
}
function wrapTextContent(r) {
  const n = useNamespace("only-child");
  return createVNode$1("span", {
    class: n.e("content")
  }, [r]);
}
const popperTriggerProps = buildProps({
  virtualRef: {
    type: definePropType(Object)
  },
  virtualTriggering: Boolean,
  onMouseenter: {
    type: definePropType(Function)
  },
  onMouseleave: {
    type: definePropType(Function)
  },
  onClick: {
    type: definePropType(Function)
  },
  onKeydown: {
    type: definePropType(Function)
  },
  onFocus: {
    type: definePropType(Function)
  },
  onBlur: {
    type: definePropType(Function)
  },
  onContextmenu: {
    type: definePropType(Function)
  },
  id: String,
  open: Boolean
}), __default__$5 = defineComponent({
  name: "ElPopperTrigger",
  inheritAttrs: !1
}), _sfc_main$i = /* @__PURE__ */ defineComponent({
  ...__default__$5,
  props: popperTriggerProps,
  setup(r, { expose: n }) {
    const i = r, { role: o, triggerRef: a } = inject(POPPER_INJECTION_KEY, void 0);
    useForwardRef(a);
    const u = computed(() => f.value ? i.id : void 0), c = computed(() => {
      if (o && o.value === "tooltip")
        return i.open && i.id ? i.id : void 0;
    }), f = computed(() => {
      if (o && o.value !== "tooltip")
        return o.value;
    }), d = computed(() => f.value ? `${i.open}` : void 0);
    let p;
    return onMounted(() => {
      watch(() => i.virtualRef, (y) => {
        y && (a.value = unrefElement(y));
      }, {
        immediate: !0
      }), watch(a, (y, v) => {
        p == null || p(), p = void 0, isElement(y) && ([
          "onMouseenter",
          "onMouseleave",
          "onClick",
          "onKeydown",
          "onFocus",
          "onBlur",
          "onContextmenu"
        ].forEach((g) => {
          var _;
          const b = i[g];
          b && (y.addEventListener(g.slice(2).toLowerCase(), b), (_ = v == null ? void 0 : v.removeEventListener) == null || _.call(v, g.slice(2).toLowerCase(), b));
        }), p = watch([u, c, f, d], (g) => {
          [
            "aria-controls",
            "aria-describedby",
            "aria-haspopup",
            "aria-expanded"
          ].forEach((_, b) => {
            isNil(g[b]) ? y.removeAttribute(_) : y.setAttribute(_, g[b]);
          });
        }, { immediate: !0 })), isElement(v) && [
          "aria-controls",
          "aria-describedby",
          "aria-haspopup",
          "aria-expanded"
        ].forEach((g) => v.removeAttribute(g));
      }, {
        immediate: !0
      });
    }), onBeforeUnmount(() => {
      p == null || p(), p = void 0;
    }), n({
      triggerRef: a
    }), (y, v) => y.virtualTriggering ? createCommentVNode("v-if", !0) : (openBlock(), createBlock(unref(OnlyChild), mergeProps({ key: 0 }, y.$attrs, {
      "aria-controls": unref(u),
      "aria-describedby": unref(c),
      "aria-expanded": unref(d),
      "aria-haspopup": unref(f)
    }), {
      default: withCtx(() => [
        renderSlot(y.$slots, "default")
      ]),
      _: 3
    }, 16, ["aria-controls", "aria-describedby", "aria-expanded", "aria-haspopup"]));
  }
});
var ElPopperTrigger = /* @__PURE__ */ _export_sfc(_sfc_main$i, [["__file", "/home/runner/work/element-plus/element-plus/packages/components/popper/src/trigger.vue"]]);
const FOCUS_AFTER_TRAPPED = "focus-trap.focus-after-trapped", FOCUS_AFTER_RELEASED = "focus-trap.focus-after-released", FOCUSOUT_PREVENTED = "focus-trap.focusout-prevented", FOCUS_AFTER_TRAPPED_OPTS = {
  cancelable: !0,
  bubbles: !1
}, FOCUSOUT_PREVENTED_OPTS = {
  cancelable: !0,
  bubbles: !1
}, ON_TRAP_FOCUS_EVT = "focusAfterTrapped", ON_RELEASE_FOCUS_EVT = "focusAfterReleased", FOCUS_TRAP_INJECTION_KEY = Symbol("elFocusTrap"), focusReason = ref(), lastUserFocusTimestamp = ref(0), lastAutomatedFocusTimestamp = ref(0);
let focusReasonUserCount = 0;
const obtainAllFocusableElements = (r) => {
  const n = [], i = document.createTreeWalker(r, NodeFilter.SHOW_ELEMENT, {
    acceptNode: (o) => {
      const a = o.tagName === "INPUT" && o.type === "hidden";
      return o.disabled || o.hidden || a ? NodeFilter.FILTER_SKIP : o.tabIndex >= 0 || o === document.activeElement ? NodeFilter.FILTER_ACCEPT : NodeFilter.FILTER_SKIP;
    }
  });
  for (; i.nextNode(); )
    n.push(i.currentNode);
  return n;
}, getVisibleElement = (r, n) => {
  for (const i of r)
    if (!isHidden(i, n))
      return i;
}, isHidden = (r, n) => {
  if (process.env.NODE_ENV === "test")
    return !1;
  if (getComputedStyle(r).visibility === "hidden")
    return !0;
  for (; r; ) {
    if (n && r === n)
      return !1;
    if (getComputedStyle(r).display === "none")
      return !0;
    r = r.parentElement;
  }
  return !1;
}, getEdges = (r) => {
  const n = obtainAllFocusableElements(r), i = getVisibleElement(n, r), o = getVisibleElement(n.reverse(), r);
  return [i, o];
}, isSelectable = (r) => r instanceof HTMLInputElement && "select" in r, tryFocus = (r, n) => {
  if (r && r.focus) {
    const i = document.activeElement;
    r.focus({ preventScroll: !0 }), lastAutomatedFocusTimestamp.value = window.performance.now(), r !== i && isSelectable(r) && n && r.select();
  }
};
function removeFromStack(r, n) {
  const i = [...r], o = r.indexOf(n);
  return o !== -1 && i.splice(o, 1), i;
}
const createFocusableStack = () => {
  let r = [];
  return {
    push: (o) => {
      const a = r[0];
      a && o !== a && a.pause(), r = removeFromStack(r, o), r.unshift(o);
    },
    remove: (o) => {
      var a, u;
      r = removeFromStack(r, o), (u = (a = r[0]) == null ? void 0 : a.resume) == null || u.call(a);
    }
  };
}, focusFirstDescendant = (r, n = !1) => {
  const i = document.activeElement;
  for (const o of r)
    if (tryFocus(o, n), document.activeElement !== i)
      return;
}, focusableStack = createFocusableStack(), isFocusCausedByUserEvent = () => lastUserFocusTimestamp.value > lastAutomatedFocusTimestamp.value, notifyFocusReasonPointer = () => {
  focusReason.value = "pointer", lastUserFocusTimestamp.value = window.performance.now();
}, notifyFocusReasonKeydown = () => {
  focusReason.value = "keyboard", lastUserFocusTimestamp.value = window.performance.now();
}, useFocusReason = () => (onMounted(() => {
  focusReasonUserCount === 0 && (document.addEventListener("mousedown", notifyFocusReasonPointer), document.addEventListener("touchstart", notifyFocusReasonPointer), document.addEventListener("keydown", notifyFocusReasonKeydown)), focusReasonUserCount++;
}), onBeforeUnmount(() => {
  focusReasonUserCount--, focusReasonUserCount <= 0 && (document.removeEventListener("mousedown", notifyFocusReasonPointer), document.removeEventListener("touchstart", notifyFocusReasonPointer), document.removeEventListener("keydown", notifyFocusReasonKeydown));
}), {
  focusReason,
  lastUserFocusTimestamp,
  lastAutomatedFocusTimestamp
}), createFocusOutPreventedEvent = (r) => new CustomEvent(FOCUSOUT_PREVENTED, {
  ...FOCUSOUT_PREVENTED_OPTS,
  detail: r
}), _sfc_main$h = defineComponent({
  name: "ElFocusTrap",
  inheritAttrs: !1,
  props: {
    loop: Boolean,
    trapped: Boolean,
    focusTrapEl: Object,
    focusStartEl: {
      type: [Object, String],
      default: "first"
    }
  },
  emits: [
    ON_TRAP_FOCUS_EVT,
    ON_RELEASE_FOCUS_EVT,
    "focusin",
    "focusout",
    "focusout-prevented",
    "release-requested"
  ],
  setup(r, { emit: n }) {
    const i = ref();
    let o, a;
    const { focusReason: u } = useFocusReason();
    useEscapeKeydown((b) => {
      r.trapped && !c.paused && n("release-requested", b);
    });
    const c = {
      paused: !1,
      pause() {
        this.paused = !0;
      },
      resume() {
        this.paused = !1;
      }
    }, f = (b) => {
      if (!r.loop && !r.trapped || c.paused)
        return;
      const { key: A, altKey: w, ctrlKey: S, metaKey: x, currentTarget: T, shiftKey: L } = b, { loop: k } = r, M = A === EVENT_CODE.tab && !w && !S && !x, O = document.activeElement;
      if (M && O) {
        const ie = T, [F, re] = getEdges(ie);
        if (F && re) {
          if (!L && O === re) {
            const Y = createFocusOutPreventedEvent({
              focusReason: u.value
            });
            n("focusout-prevented", Y), Y.defaultPrevented || (b.preventDefault(), k && tryFocus(F, !0));
          } else if (L && [F, ie].includes(O)) {
            const Y = createFocusOutPreventedEvent({
              focusReason: u.value
            });
            n("focusout-prevented", Y), Y.defaultPrevented || (b.preventDefault(), k && tryFocus(re, !0));
          }
        } else if (O === ie) {
          const Y = createFocusOutPreventedEvent({
            focusReason: u.value
          });
          n("focusout-prevented", Y), Y.defaultPrevented || b.preventDefault();
        }
      }
    };
    provide(FOCUS_TRAP_INJECTION_KEY, {
      focusTrapRef: i,
      onKeydown: f
    }), watch(() => r.focusTrapEl, (b) => {
      b && (i.value = b);
    }, { immediate: !0 }), watch([i], ([b], [A]) => {
      b && (b.addEventListener("keydown", f), b.addEventListener("focusin", y), b.addEventListener("focusout", v)), A && (A.removeEventListener("keydown", f), A.removeEventListener("focusin", y), A.removeEventListener("focusout", v));
    });
    const d = (b) => {
      n(ON_TRAP_FOCUS_EVT, b);
    }, p = (b) => n(ON_RELEASE_FOCUS_EVT, b), y = (b) => {
      const A = unref(i);
      if (!A)
        return;
      const w = b.target, S = b.relatedTarget, x = w && A.contains(w);
      r.trapped || S && A.contains(S) || (o = S), x && n("focusin", b), !c.paused && r.trapped && (x ? a = w : tryFocus(a, !0));
    }, v = (b) => {
      const A = unref(i);
      if (!(c.paused || !A))
        if (r.trapped) {
          const w = b.relatedTarget;
          !isNil(w) && !A.contains(w) && setTimeout(() => {
            if (!c.paused && r.trapped) {
              const S = createFocusOutPreventedEvent({
                focusReason: u.value
              });
              n("focusout-prevented", S), S.defaultPrevented || tryFocus(a, !0);
            }
          }, 0);
        } else {
          const w = b.target;
          w && A.contains(w) || n("focusout", b);
        }
    };
    async function g() {
      await nextTick();
      const b = unref(i);
      if (b) {
        focusableStack.push(c);
        const A = b.contains(document.activeElement) ? o : document.activeElement;
        if (o = A, !b.contains(A)) {
          const S = new Event(FOCUS_AFTER_TRAPPED, FOCUS_AFTER_TRAPPED_OPTS);
          b.addEventListener(FOCUS_AFTER_TRAPPED, d), b.dispatchEvent(S), S.defaultPrevented || nextTick(() => {
            let x = r.focusStartEl;
            isString(x) || (tryFocus(x), document.activeElement !== x && (x = "first")), x === "first" && focusFirstDescendant(obtainAllFocusableElements(b), !0), (document.activeElement === A || x === "container") && tryFocus(b);
          });
        }
      }
    }
    function _() {
      const b = unref(i);
      if (b) {
        b.removeEventListener(FOCUS_AFTER_TRAPPED, d);
        const A = new CustomEvent(FOCUS_AFTER_RELEASED, {
          ...FOCUS_AFTER_TRAPPED_OPTS,
          detail: {
            focusReason: u.value
          }
        });
        b.addEventListener(FOCUS_AFTER_RELEASED, p), b.dispatchEvent(A), !A.defaultPrevented && (u.value == "keyboard" || !isFocusCausedByUserEvent() || b.contains(document.activeElement)) && tryFocus(o ?? document.body), b.removeEventListener(FOCUS_AFTER_RELEASED, d), focusableStack.remove(c);
      }
    }
    return onMounted(() => {
      r.trapped && g(), watch(() => r.trapped, (b) => {
        b ? g() : _();
      });
    }), onBeforeUnmount(() => {
      r.trapped && _();
    }), {
      onKeydown: f
    };
  }
});
function _sfc_render$4(r, n, i, o, a, u) {
  return renderSlot(r.$slots, "default", { handleKeydown: r.onKeydown });
}
var ElFocusTrap = /* @__PURE__ */ _export_sfc(_sfc_main$h, [["render", _sfc_render$4], ["__file", "/home/runner/work/element-plus/element-plus/packages/components/focus-trap/src/focus-trap.vue"]]);
const POSITIONING_STRATEGIES = ["fixed", "absolute"], popperCoreConfigProps = buildProps({
  boundariesPadding: {
    type: Number,
    default: 0
  },
  fallbackPlacements: {
    type: definePropType(Array),
    default: void 0
  },
  gpuAcceleration: {
    type: Boolean,
    default: !0
  },
  offset: {
    type: Number,
    default: 12
  },
  placement: {
    type: String,
    values: Ee,
    default: "bottom"
  },
  popperOptions: {
    type: definePropType(Object),
    default: () => ({})
  },
  strategy: {
    type: String,
    values: POSITIONING_STRATEGIES,
    default: "absolute"
  }
}), popperContentProps = buildProps({
  ...popperCoreConfigProps,
  id: String,
  style: {
    type: definePropType([String, Array, Object])
  },
  className: {
    type: definePropType([String, Array, Object])
  },
  effect: {
    type: String,
    default: "dark"
  },
  visible: Boolean,
  enterable: {
    type: Boolean,
    default: !0
  },
  pure: Boolean,
  focusOnShow: {
    type: Boolean,
    default: !1
  },
  trapping: {
    type: Boolean,
    default: !1
  },
  popperClass: {
    type: definePropType([String, Array, Object])
  },
  popperStyle: {
    type: definePropType([String, Array, Object])
  },
  referenceEl: {
    type: definePropType(Object)
  },
  triggerTargetEl: {
    type: definePropType(Object)
  },
  stopPopperMouseEvent: {
    type: Boolean,
    default: !0
  },
  ariaLabel: {
    type: String,
    default: void 0
  },
  virtualTriggering: Boolean,
  zIndex: Number
}), popperContentEmits = {
  mouseenter: (r) => r instanceof MouseEvent,
  mouseleave: (r) => r instanceof MouseEvent,
  focus: () => !0,
  blur: () => !0,
  close: () => !0
}, buildPopperOptions = (r, n = []) => {
  const { placement: i, strategy: o, popperOptions: a } = r, u = {
    placement: i,
    strategy: o,
    ...a,
    modifiers: [...genModifiers(r), ...n]
  };
  return deriveExtraModifiers(u, a == null ? void 0 : a.modifiers), u;
}, unwrapMeasurableEl = (r) => {
  if (isClient)
    return unrefElement(r);
};
function genModifiers(r) {
  const { offset: n, gpuAcceleration: i, fallbackPlacements: o } = r;
  return [
    {
      name: "offset",
      options: {
        offset: [0, n ?? 12]
      }
    },
    {
      name: "preventOverflow",
      options: {
        padding: {
          top: 2,
          bottom: 2,
          left: 5,
          right: 5
        }
      }
    },
    {
      name: "flip",
      options: {
        padding: 5,
        fallbackPlacements: o
      }
    },
    {
      name: "computeStyles",
      options: {
        gpuAcceleration: i
      }
    }
  ];
}
function deriveExtraModifiers(r, n) {
  n && (r.modifiers = [...r.modifiers, ...n ?? []]);
}
const DEFAULT_ARROW_OFFSET = 0, usePopperContent = (r) => {
  const { popperInstanceRef: n, contentRef: i, triggerRef: o, role: a } = inject(POPPER_INJECTION_KEY, void 0), u = ref(), c = ref(), f = computed(() => ({
    name: "eventListeners",
    enabled: !!r.visible
  })), d = computed(() => {
    var S;
    const x = unref(u), T = (S = unref(c)) != null ? S : DEFAULT_ARROW_OFFSET;
    return {
      name: "arrow",
      enabled: !isUndefined$1(x),
      options: {
        element: x,
        padding: T
      }
    };
  }), p = computed(() => ({
    onFirstUpdate: () => {
      b();
    },
    ...buildPopperOptions(r, [
      unref(d),
      unref(f)
    ])
  })), y = computed(() => unwrapMeasurableEl(r.referenceEl) || unref(o)), { attributes: v, state: g, styles: _, update: b, forceUpdate: A, instanceRef: w } = usePopper(y, i, p);
  return watch(w, (S) => n.value = S), onMounted(() => {
    watch(() => {
      var S;
      return (S = unref(y)) == null ? void 0 : S.getBoundingClientRect();
    }, () => {
      b();
    });
  }), {
    attributes: v,
    arrowRef: u,
    contentRef: i,
    instanceRef: w,
    state: g,
    styles: _,
    role: a,
    forceUpdate: A,
    update: b
  };
}, usePopperContentDOM = (r, {
  attributes: n,
  styles: i,
  role: o
}) => {
  const { nextZIndex: a } = useZIndex(), u = useNamespace("popper"), c = computed(() => unref(n).popper), f = ref(r.zIndex || a()), d = computed(() => [
    u.b(),
    u.is("pure", r.pure),
    u.is(r.effect),
    r.popperClass
  ]), p = computed(() => [
    { zIndex: unref(f) },
    unref(i).popper,
    r.popperStyle || {}
  ]), y = computed(() => o.value === "dialog" ? "false" : void 0), v = computed(() => unref(i).arrow || {});
  return {
    ariaModal: y,
    arrowStyle: v,
    contentAttrs: c,
    contentClass: d,
    contentStyle: p,
    contentZIndex: f,
    updateZIndex: () => {
      f.value = r.zIndex || a();
    }
  };
}, usePopperContentFocusTrap = (r, n) => {
  const i = ref(!1), o = ref();
  return {
    focusStartRef: o,
    trapped: i,
    onFocusAfterReleased: (p) => {
      var y;
      ((y = p.detail) == null ? void 0 : y.focusReason) !== "pointer" && (o.value = "first", n("blur"));
    },
    onFocusAfterTrapped: () => {
      n("focus");
    },
    onFocusInTrap: (p) => {
      r.visible && !i.value && (p.target && (o.value = p.target), i.value = !0);
    },
    onFocusoutPrevented: (p) => {
      r.trapping || (p.detail.focusReason === "pointer" && p.preventDefault(), i.value = !1);
    },
    onReleaseRequested: () => {
      i.value = !1, n("close");
    }
  };
}, __default__$4 = defineComponent({
  name: "ElPopperContent"
}), _sfc_main$g = /* @__PURE__ */ defineComponent({
  ...__default__$4,
  props: popperContentProps,
  emits: popperContentEmits,
  setup(r, { expose: n, emit: i }) {
    const o = r, {
      focusStartRef: a,
      trapped: u,
      onFocusAfterReleased: c,
      onFocusAfterTrapped: f,
      onFocusInTrap: d,
      onFocusoutPrevented: p,
      onReleaseRequested: y
    } = usePopperContentFocusTrap(o, i), { attributes: v, arrowRef: g, contentRef: _, styles: b, instanceRef: A, role: w, update: S } = usePopperContent(o), {
      ariaModal: x,
      arrowStyle: T,
      contentAttrs: L,
      contentClass: k,
      contentStyle: M,
      updateZIndex: O
    } = usePopperContentDOM(o, {
      styles: b,
      attributes: v,
      role: w
    }), ie = inject(formItemContextKey, void 0), F = ref();
    provide(POPPER_CONTENT_INJECTION_KEY, {
      arrowStyle: T,
      arrowRef: g,
      arrowOffset: F
    }), ie && (ie.addInputId || ie.removeInputId) && provide(formItemContextKey, {
      ...ie,
      addInputId: NOOP,
      removeInputId: NOOP
    });
    let re;
    const D = (z = !0) => {
      S(), z && O();
    }, Y = () => {
      D(!1), o.visible && o.focusOnShow ? u.value = !0 : o.visible === !1 && (u.value = !1);
    };
    return onMounted(() => {
      watch(() => o.triggerTargetEl, (z, pe) => {
        re == null || re(), re = void 0;
        const ue = unref(z || _.value), Ce = unref(pe || _.value);
        isElement(ue) && (re = watch([w, () => o.ariaLabel, x, () => o.id], (Fe) => {
          ["role", "aria-label", "aria-modal", "id"].forEach((Ie, Pt) => {
            isNil(Fe[Pt]) ? ue.removeAttribute(Ie) : ue.setAttribute(Ie, Fe[Pt]);
          });
        }, { immediate: !0 })), Ce !== ue && isElement(Ce) && ["role", "aria-label", "aria-modal", "id"].forEach((Fe) => {
          Ce.removeAttribute(Fe);
        });
      }, { immediate: !0 }), watch(() => o.visible, Y, { immediate: !0 });
    }), onBeforeUnmount(() => {
      re == null || re(), re = void 0;
    }), n({
      popperContentRef: _,
      popperInstanceRef: A,
      updatePopper: D,
      contentStyle: M
    }), (z, pe) => (openBlock(), createElementBlock("div", mergeProps({
      ref_key: "contentRef",
      ref: _
    }, unref(L), {
      style: unref(M),
      class: unref(k),
      tabindex: "-1",
      onMouseenter: pe[0] || (pe[0] = (ue) => z.$emit("mouseenter", ue)),
      onMouseleave: pe[1] || (pe[1] = (ue) => z.$emit("mouseleave", ue))
    }), [
      createVNode$1(unref(ElFocusTrap), {
        trapped: unref(u),
        "trap-on-focus-in": !0,
        "focus-trap-el": unref(_),
        "focus-start-el": unref(a),
        onFocusAfterTrapped: unref(f),
        onFocusAfterReleased: unref(c),
        onFocusin: unref(d),
        onFocusoutPrevented: unref(p),
        onReleaseRequested: unref(y)
      }, {
        default: withCtx(() => [
          renderSlot(z.$slots, "default")
        ]),
        _: 3
      }, 8, ["trapped", "focus-trap-el", "focus-start-el", "onFocusAfterTrapped", "onFocusAfterReleased", "onFocusin", "onFocusoutPrevented", "onReleaseRequested"])
    ], 16));
  }
});
var ElPopperContent = /* @__PURE__ */ _export_sfc(_sfc_main$g, [["__file", "/home/runner/work/element-plus/element-plus/packages/components/popper/src/content.vue"]]);
const ElPopper = withInstall(Popper), TOOLTIP_INJECTION_KEY = Symbol("elTooltip"), useTooltipContentProps = buildProps({
  ...useDelayedToggleProps,
  ...popperContentProps,
  appendTo: {
    type: definePropType([String, Object])
  },
  content: {
    type: String,
    default: ""
  },
  rawContent: {
    type: Boolean,
    default: !1
  },
  persistent: Boolean,
  ariaLabel: String,
  visible: {
    type: definePropType(Boolean),
    default: null
  },
  transition: String,
  teleported: {
    type: Boolean,
    default: !0
  },
  disabled: Boolean
}), useTooltipTriggerProps = buildProps({
  ...popperTriggerProps,
  disabled: Boolean,
  trigger: {
    type: definePropType([String, Array]),
    default: "hover"
  },
  triggerKeys: {
    type: definePropType(Array),
    default: () => [EVENT_CODE.enter, EVENT_CODE.space]
  }
}), {
  useModelToggleProps: useTooltipModelToggleProps,
  useModelToggleEmits: useTooltipModelToggleEmits,
  useModelToggle: useTooltipModelToggle
} = createModelToggleComposable("visible"), useTooltipProps = buildProps({
  ...popperProps,
  ...useTooltipModelToggleProps,
  ...useTooltipContentProps,
  ...useTooltipTriggerProps,
  ...popperArrowProps,
  showArrow: {
    type: Boolean,
    default: !0
  }
}), tooltipEmits = [
  ...useTooltipModelToggleEmits,
  "before-show",
  "before-hide",
  "show",
  "hide",
  "open",
  "close"
], isTriggerType = (r, n) => isArray(r) ? r.includes(n) : r === n, whenTrigger = (r, n, i) => (o) => {
  isTriggerType(unref(r), n) && i(o);
}, __default__$3 = defineComponent({
  name: "ElTooltipTrigger"
}), _sfc_main$f = /* @__PURE__ */ defineComponent({
  ...__default__$3,
  props: useTooltipTriggerProps,
  setup(r, { expose: n }) {
    const i = r, o = useNamespace("tooltip"), { controlled: a, id: u, open: c, onOpen: f, onClose: d, onToggle: p } = inject(TOOLTIP_INJECTION_KEY, void 0), y = ref(null), v = () => {
      if (unref(a) || i.disabled)
        return !0;
    }, g = toRef(i, "trigger"), _ = composeEventHandlers(v, whenTrigger(g, "hover", f)), b = composeEventHandlers(v, whenTrigger(g, "hover", d)), A = composeEventHandlers(v, whenTrigger(g, "click", (L) => {
      L.button === 0 && p(L);
    })), w = composeEventHandlers(v, whenTrigger(g, "focus", f)), S = composeEventHandlers(v, whenTrigger(g, "focus", d)), x = composeEventHandlers(v, whenTrigger(g, "contextmenu", (L) => {
      L.preventDefault(), p(L);
    })), T = composeEventHandlers(v, (L) => {
      const { code: k } = L;
      i.triggerKeys.includes(k) && (L.preventDefault(), p(L));
    });
    return n({
      triggerRef: y
    }), (L, k) => (openBlock(), createBlock(unref(ElPopperTrigger), {
      id: unref(u),
      "virtual-ref": L.virtualRef,
      open: unref(c),
      "virtual-triggering": L.virtualTriggering,
      class: normalizeClass(unref(o).e("trigger")),
      onBlur: unref(S),
      onClick: unref(A),
      onContextmenu: unref(x),
      onFocus: unref(w),
      onMouseenter: unref(_),
      onMouseleave: unref(b),
      onKeydown: unref(T)
    }, {
      default: withCtx(() => [
        renderSlot(L.$slots, "default")
      ]),
      _: 3
    }, 8, ["id", "virtual-ref", "open", "virtual-triggering", "class", "onBlur", "onClick", "onContextmenu", "onFocus", "onMouseenter", "onMouseleave", "onKeydown"]));
  }
});
var ElTooltipTrigger = /* @__PURE__ */ _export_sfc(_sfc_main$f, [["__file", "/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/trigger.vue"]]);
const __default__$2 = defineComponent({
  name: "ElTooltipContent",
  inheritAttrs: !1
}), _sfc_main$e = /* @__PURE__ */ defineComponent({
  ...__default__$2,
  props: useTooltipContentProps,
  setup(r, { expose: n }) {
    const i = r, { selector: o } = usePopperContainerId(), a = useNamespace("tooltip"), u = ref(null), c = ref(!1), {
      controlled: f,
      id: d,
      open: p,
      trigger: y,
      onClose: v,
      onOpen: g,
      onShow: _,
      onHide: b,
      onBeforeShow: A,
      onBeforeHide: w
    } = inject(TOOLTIP_INJECTION_KEY, void 0), S = computed(() => i.transition || `${a.namespace.value}-fade-in-linear`), x = computed(() => process.env.NODE_ENV === "test" ? !0 : i.persistent);
    onBeforeUnmount(() => {
      c.value = !0;
    });
    const T = computed(() => unref(x) ? !0 : unref(p)), L = computed(() => i.disabled ? !1 : unref(p)), k = computed(() => i.appendTo || o.value), M = computed(() => {
      var Fe;
      return (Fe = i.style) != null ? Fe : {};
    }), O = computed(() => !unref(p)), ie = () => {
      b();
    }, F = () => {
      if (unref(f))
        return !0;
    }, re = composeEventHandlers(F, () => {
      i.enterable && unref(y) === "hover" && g();
    }), D = composeEventHandlers(F, () => {
      unref(y) === "hover" && v();
    }), Y = () => {
      var Fe, Ie;
      (Ie = (Fe = u.value) == null ? void 0 : Fe.updatePopper) == null || Ie.call(Fe), A == null || A();
    }, z = () => {
      w == null || w();
    }, pe = () => {
      _(), Ce = onClickOutside(computed(() => {
        var Fe;
        return (Fe = u.value) == null ? void 0 : Fe.popperContentRef;
      }), () => {
        if (unref(f))
          return;
        unref(y) !== "hover" && v();
      });
    }, ue = () => {
      i.virtualTriggering || v();
    };
    let Ce;
    return watch(() => unref(p), (Fe) => {
      Fe || Ce == null || Ce();
    }, {
      flush: "post"
    }), watch(() => i.content, () => {
      var Fe, Ie;
      (Ie = (Fe = u.value) == null ? void 0 : Fe.updatePopper) == null || Ie.call(Fe);
    }), n({
      contentRef: u
    }), (Fe, Ie) => (openBlock(), createBlock(Teleport, {
      disabled: !Fe.teleported,
      to: unref(k)
    }, [
      createVNode$1(Transition, {
        name: unref(S),
        onAfterLeave: ie,
        onBeforeEnter: Y,
        onAfterEnter: pe,
        onBeforeLeave: z
      }, {
        default: withCtx(() => [
          unref(T) ? withDirectives((openBlock(), createBlock(unref(ElPopperContent), mergeProps({
            key: 0,
            id: unref(d),
            ref_key: "contentRef",
            ref: u
          }, Fe.$attrs, {
            "aria-label": Fe.ariaLabel,
            "aria-hidden": unref(O),
            "boundaries-padding": Fe.boundariesPadding,
            "fallback-placements": Fe.fallbackPlacements,
            "gpu-acceleration": Fe.gpuAcceleration,
            offset: Fe.offset,
            placement: Fe.placement,
            "popper-options": Fe.popperOptions,
            strategy: Fe.strategy,
            effect: Fe.effect,
            enterable: Fe.enterable,
            pure: Fe.pure,
            "popper-class": Fe.popperClass,
            "popper-style": [Fe.popperStyle, unref(M)],
            "reference-el": Fe.referenceEl,
            "trigger-target-el": Fe.triggerTargetEl,
            visible: unref(L),
            "z-index": Fe.zIndex,
            onMouseenter: unref(re),
            onMouseleave: unref(D),
            onBlur: ue,
            onClose: unref(v)
          }), {
            default: withCtx(() => [
              c.value ? createCommentVNode("v-if", !0) : renderSlot(Fe.$slots, "default", { key: 0 })
            ]),
            _: 3
          }, 16, ["id", "aria-label", "aria-hidden", "boundaries-padding", "fallback-placements", "gpu-acceleration", "offset", "placement", "popper-options", "strategy", "effect", "enterable", "pure", "popper-class", "popper-style", "reference-el", "trigger-target-el", "visible", "z-index", "onMouseenter", "onMouseleave", "onClose"])), [
            [vShow, unref(L)]
          ]) : createCommentVNode("v-if", !0)
        ]),
        _: 3
      }, 8, ["name"])
    ], 8, ["disabled", "to"]));
  }
});
var ElTooltipContent = /* @__PURE__ */ _export_sfc(_sfc_main$e, [["__file", "/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/content.vue"]]);
const _hoisted_1$6 = ["innerHTML"], _hoisted_2$4 = { key: 1 }, __default__$1 = defineComponent({
  name: "ElTooltip"
}), _sfc_main$d = /* @__PURE__ */ defineComponent({
  ...__default__$1,
  props: useTooltipProps,
  emits: tooltipEmits,
  setup(r, { expose: n, emit: i }) {
    const o = r;
    usePopperContainer();
    const a = useId(), u = ref(), c = ref(), f = () => {
      var S;
      const x = unref(u);
      x && ((S = x.popperInstanceRef) == null || S.update());
    }, d = ref(!1), p = ref(), { show: y, hide: v, hasUpdateHandler: g } = useTooltipModelToggle({
      indicator: d,
      toggleReason: p
    }), { onOpen: _, onClose: b } = useDelayedToggle({
      showAfter: toRef(o, "showAfter"),
      hideAfter: toRef(o, "hideAfter"),
      autoClose: toRef(o, "autoClose"),
      open: y,
      close: v
    }), A = computed(() => isBoolean(o.visible) && !g.value);
    provide(TOOLTIP_INJECTION_KEY, {
      controlled: A,
      id: a,
      open: readonly(d),
      trigger: toRef(o, "trigger"),
      onOpen: (S) => {
        _(S);
      },
      onClose: (S) => {
        b(S);
      },
      onToggle: (S) => {
        unref(d) ? b(S) : _(S);
      },
      onShow: () => {
        i("show", p.value);
      },
      onHide: () => {
        i("hide", p.value);
      },
      onBeforeShow: () => {
        i("before-show", p.value);
      },
      onBeforeHide: () => {
        i("before-hide", p.value);
      },
      updatePopper: f
    }), watch(() => o.disabled, (S) => {
      S && d.value && (d.value = !1);
    });
    const w = () => {
      var S, x;
      const T = (x = (S = c.value) == null ? void 0 : S.contentRef) == null ? void 0 : x.popperContentRef;
      return T && T.contains(document.activeElement);
    };
    return onDeactivated(() => d.value && v()), n({
      popperRef: u,
      contentRef: c,
      isFocusInsideContent: w,
      updatePopper: f,
      onOpen: _,
      onClose: b,
      hide: v
    }), (S, x) => (openBlock(), createBlock(unref(ElPopper), {
      ref_key: "popperRef",
      ref: u,
      role: S.role
    }, {
      default: withCtx(() => [
        createVNode$1(ElTooltipTrigger, {
          disabled: S.disabled,
          trigger: S.trigger,
          "trigger-keys": S.triggerKeys,
          "virtual-ref": S.virtualRef,
          "virtual-triggering": S.virtualTriggering
        }, {
          default: withCtx(() => [
            S.$slots.default ? renderSlot(S.$slots, "default", { key: 0 }) : createCommentVNode("v-if", !0)
          ]),
          _: 3
        }, 8, ["disabled", "trigger", "trigger-keys", "virtual-ref", "virtual-triggering"]),
        createVNode$1(ElTooltipContent, {
          ref_key: "contentRef",
          ref: c,
          "aria-label": S.ariaLabel,
          "boundaries-padding": S.boundariesPadding,
          content: S.content,
          disabled: S.disabled,
          effect: S.effect,
          enterable: S.enterable,
          "fallback-placements": S.fallbackPlacements,
          "hide-after": S.hideAfter,
          "gpu-acceleration": S.gpuAcceleration,
          offset: S.offset,
          persistent: S.persistent,
          "popper-class": S.popperClass,
          "popper-style": S.popperStyle,
          placement: S.placement,
          "popper-options": S.popperOptions,
          pure: S.pure,
          "raw-content": S.rawContent,
          "reference-el": S.referenceEl,
          "trigger-target-el": S.triggerTargetEl,
          "show-after": S.showAfter,
          strategy: S.strategy,
          teleported: S.teleported,
          transition: S.transition,
          "virtual-triggering": S.virtualTriggering,
          "z-index": S.zIndex,
          "append-to": S.appendTo
        }, {
          default: withCtx(() => [
            renderSlot(S.$slots, "content", {}, () => [
              S.rawContent ? (openBlock(), createElementBlock("span", {
                key: 0,
                innerHTML: S.content
              }, null, 8, _hoisted_1$6)) : (openBlock(), createElementBlock("span", _hoisted_2$4, toDisplayString(S.content), 1))
            ]),
            S.showArrow ? (openBlock(), createBlock(unref(ElPopperArrow), {
              key: 0,
              "arrow-offset": S.arrowOffset
            }, null, 8, ["arrow-offset"])) : createCommentVNode("v-if", !0)
          ]),
          _: 3
        }, 8, ["aria-label", "boundaries-padding", "content", "disabled", "effect", "enterable", "fallback-placements", "hide-after", "gpu-acceleration", "offset", "persistent", "popper-class", "popper-style", "placement", "popper-options", "pure", "raw-content", "reference-el", "trigger-target-el", "show-after", "strategy", "teleported", "transition", "virtual-triggering", "z-index", "append-to"])
      ]),
      _: 3
    }, 8, ["role"]));
  }
});
var Tooltip = /* @__PURE__ */ _export_sfc(_sfc_main$d, [["__file", "/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/tooltip.vue"]]);
const ElTooltip = withInstall(Tooltip);
var commonjsGlobal = typeof globalThis < "u" ? globalThis : typeof window < "u" ? window : typeof global < "u" ? global : typeof self < "u" ? self : {};
const nodeList = /* @__PURE__ */ new Map();
let startClick;
isClient && (document.addEventListener("mousedown", (r) => startClick = r), document.addEventListener("mouseup", (r) => {
  for (const n of nodeList.values())
    for (const { documentHandler: i } of n)
      i(r, startClick);
}));
function createDocumentHandler(r, n) {
  let i = [];
  return Array.isArray(n.arg) ? i = n.arg : isElement(n.arg) && i.push(n.arg), function(o, a) {
    const u = n.instance.popperRef, c = o.target, f = a == null ? void 0 : a.target, d = !n || !n.instance, p = !c || !f, y = r.contains(c) || r.contains(f), v = r === c, g = i.length && i.some((b) => b == null ? void 0 : b.contains(c)) || i.length && i.includes(f), _ = u && (u.contains(c) || u.contains(f));
    d || p || y || v || g || _ || n.value(o, a);
  };
}
const ClickOutside = {
  beforeMount(r, n) {
    nodeList.has(r) || nodeList.set(r, []), nodeList.get(r).push({
      documentHandler: createDocumentHandler(r, n),
      bindingFn: n.value
    });
  },
  updated(r, n) {
    nodeList.has(r) || nodeList.set(r, []);
    const i = nodeList.get(r), o = i.findIndex((u) => u.bindingFn === n.oldValue), a = {
      documentHandler: createDocumentHandler(r, n),
      bindingFn: n.value
    };
    o >= 0 ? i.splice(o, 1, a) : i.push(a);
  },
  unmounted(r) {
    nodeList.delete(r);
  }
}, tagProps = buildProps({
  type: {
    type: String,
    values: ["success", "info", "warning", "danger", ""],
    default: ""
  },
  closable: Boolean,
  disableTransitions: Boolean,
  hit: Boolean,
  color: {
    type: String,
    default: ""
  },
  size: {
    type: String,
    values: componentSizes,
    default: ""
  },
  effect: {
    type: String,
    values: ["dark", "light", "plain"],
    default: "light"
  },
  round: Boolean
}), tagEmits = {
  close: (r) => r instanceof MouseEvent,
  click: (r) => r instanceof MouseEvent
}, __default__ = defineComponent({
  name: "ElTag"
}), _sfc_main$c = /* @__PURE__ */ defineComponent({
  ...__default__,
  props: tagProps,
  emits: tagEmits,
  setup(r, { emit: n }) {
    const i = r, o = useFormSize(), a = useNamespace("tag"), u = computed(() => {
      const { type: d, hit: p, effect: y, closable: v, round: g } = i;
      return [
        a.b(),
        a.is("closable", v),
        a.m(d),
        a.m(o.value),
        a.m(y),
        a.is("hit", p),
        a.is("round", g)
      ];
    }), c = (d) => {
      n("close", d);
    }, f = (d) => {
      n("click", d);
    };
    return (d, p) => d.disableTransitions ? (openBlock(), createElementBlock("span", {
      key: 0,
      class: normalizeClass(unref(u)),
      style: normalizeStyle$1({ backgroundColor: d.color }),
      onClick: f
    }, [
      createElementVNode("span", {
        class: normalizeClass(unref(a).e("content"))
      }, [
        renderSlot(d.$slots, "default")
      ], 2),
      d.closable ? (openBlock(), createBlock(unref(ElIcon), {
        key: 0,
        class: normalizeClass(unref(a).e("close")),
        onClick: withModifiers(c, ["stop"])
      }, {
        default: withCtx(() => [
          createVNode$1(unref(close_default))
        ]),
        _: 1
      }, 8, ["class", "onClick"])) : createCommentVNode("v-if", !0)
    ], 6)) : (openBlock(), createBlock(Transition, {
      key: 1,
      name: `${unref(a).namespace.value}-zoom-in-center`,
      appear: ""
    }, {
      default: withCtx(() => [
        createElementVNode("span", {
          class: normalizeClass(unref(u)),
          style: normalizeStyle$1({ backgroundColor: d.color }),
          onClick: f
        }, [
          createElementVNode("span", {
            class: normalizeClass(unref(a).e("content"))
          }, [
            renderSlot(d.$slots, "default")
          ], 2),
          d.closable ? (openBlock(), createBlock(unref(ElIcon), {
            key: 0,
            class: normalizeClass(unref(a).e("close")),
            onClick: withModifiers(c, ["stop"])
          }, {
            default: withCtx(() => [
              createVNode$1(unref(close_default))
            ]),
            _: 1
          }, 8, ["class", "onClick"])) : createCommentVNode("v-if", !0)
        ], 6)
      ]),
      _: 3
    }, 8, ["name"]));
  }
});
var Tag = /* @__PURE__ */ _export_sfc(_sfc_main$c, [["__file", "/home/runner/work/element-plus/element-plus/packages/components/tag/src/tag.vue"]]);
const ElTag = withInstall(Tag), selectGroupKey = Symbol("ElSelectGroup"), selectKey = Symbol("ElSelect");
function useOption(r, n) {
  const i = inject(selectKey), o = inject(selectGroupKey, { disabled: !1 }), a = computed(() => Object.prototype.toString.call(r.value).toLowerCase() === "[object object]"), u = computed(() => i.props.multiple ? v(i.props.modelValue, r.value) : g(r.value, i.props.modelValue)), c = computed(() => {
    if (i.props.multiple) {
      const A = i.props.modelValue || [];
      return !u.value && A.length >= i.props.multipleLimit && i.props.multipleLimit > 0;
    } else
      return !1;
  }), f = computed(() => r.label || (a.value ? "" : r.value)), d = computed(() => r.value || r.label || ""), p = computed(() => r.disabled || n.groupDisabled || c.value), y = getCurrentInstance(), v = (A = [], w) => {
    if (a.value) {
      const S = i.props.valueKey;
      return A && A.some((x) => toRaw(get$1(x, S)) === get$1(w, S));
    } else
      return A && A.includes(w);
  }, g = (A, w) => {
    if (a.value) {
      const { valueKey: S } = i.props;
      return get$1(A, S) === get$1(w, S);
    } else
      return A === w;
  }, _ = () => {
    !r.disabled && !o.disabled && (i.hoverIndex = i.optionsArray.indexOf(y.proxy));
  };
  watch(() => f.value, () => {
    !r.created && !i.props.remote && i.setSelected();
  }), watch(() => r.value, (A, w) => {
    const { remote: S, valueKey: x } = i.props;
    if (Object.is(A, w) || (i.onOptionDestroy(w, y.proxy), i.onOptionCreate(y.proxy)), !r.created && !S) {
      if (x && typeof A == "object" && typeof w == "object" && A[x] === w[x])
        return;
      i.setSelected();
    }
  }), watch(() => o.disabled, () => {
    n.groupDisabled = o.disabled;
  }, { immediate: !0 });
  const { queryChange: b } = toRaw(i);
  return watch(b, (A) => {
    const { query: w } = unref(A), S = new RegExp(escapeStringRegexp(w), "i");
    n.visible = S.test(f.value) || r.created, n.visible || i.filteredOptionsCount--;
  }, { immediate: !0 }), {
    select: i,
    currentLabel: f,
    currentValue: d,
    itemSelected: u,
    isDisabled: p,
    hoverItem: _
  };
}
const _sfc_main$b = defineComponent({
  name: "ElOption",
  componentName: "ElOption",
  props: {
    value: {
      required: !0,
      type: [String, Number, Boolean, Object]
    },
    label: [String, Number],
    created: Boolean,
    disabled: {
      type: Boolean,
      default: !1
    }
  },
  setup(r) {
    const n = useNamespace("select"), i = computed(() => [
      n.be("dropdown", "item"),
      n.is("disabled", unref(c)),
      {
        selected: unref(u),
        hover: unref(y)
      }
    ]), o = reactive({
      index: -1,
      groupDisabled: !1,
      visible: !0,
      hitState: !1,
      hover: !1
    }), { currentLabel: a, itemSelected: u, isDisabled: c, select: f, hoverItem: d } = useOption(r, o), { visible: p, hover: y } = toRefs(o), v = getCurrentInstance().proxy;
    f.onOptionCreate(v), onBeforeUnmount(() => {
      const _ = v.value, { selected: b } = f, w = (f.props.multiple ? b : [b]).some((S) => S.value === v.value);
      nextTick(() => {
        f.cachedOptions.get(_) === v && !w && f.cachedOptions.delete(_);
      }), f.onOptionDestroy(_, v);
    });
    function g() {
      r.disabled !== !0 && o.groupDisabled !== !0 && f.handleOptionSelect(v);
    }
    return {
      ns: n,
      containerKls: i,
      currentLabel: a,
      itemSelected: u,
      isDisabled: c,
      select: f,
      hoverItem: d,
      visible: p,
      hover: y,
      selectOptionClick: g,
      states: o
    };
  }
});
function _sfc_render$3(r, n, i, o, a, u) {
  return withDirectives((openBlock(), createElementBlock("li", {
    class: normalizeClass(r.containerKls),
    onMouseenter: n[0] || (n[0] = (...c) => r.hoverItem && r.hoverItem(...c)),
    onClick: n[1] || (n[1] = withModifiers((...c) => r.selectOptionClick && r.selectOptionClick(...c), ["stop"]))
  }, [
    renderSlot(r.$slots, "default", {}, () => [
      createElementVNode("span", null, toDisplayString(r.currentLabel), 1)
    ])
  ], 34)), [
    [vShow, r.visible]
  ]);
}
var Option = /* @__PURE__ */ _export_sfc(_sfc_main$b, [["render", _sfc_render$3], ["__file", "/home/runner/work/element-plus/element-plus/packages/components/select/src/option.vue"]]);
const _sfc_main$a = defineComponent({
  name: "ElSelectDropdown",
  componentName: "ElSelectDropdown",
  setup() {
    const r = inject(selectKey), n = useNamespace("select"), i = computed(() => r.props.popperClass), o = computed(() => r.props.multiple), a = computed(() => r.props.fitInputWidth), u = ref("");
    function c() {
      var f;
      u.value = `${(f = r.selectWrapper) == null ? void 0 : f.offsetWidth}px`;
    }
    return onMounted(() => {
      c(), useResizeObserver(r.selectWrapper, c);
    }), {
      ns: n,
      minWidth: u,
      popperClass: i,
      isMultiple: o,
      isFitInputWidth: a
    };
  }
});
function _sfc_render$2(r, n, i, o, a, u) {
  return openBlock(), createElementBlock("div", {
    class: normalizeClass([r.ns.b("dropdown"), r.ns.is("multiple", r.isMultiple), r.popperClass]),
    style: normalizeStyle$1({ [r.isFitInputWidth ? "width" : "minWidth"]: r.minWidth })
  }, [
    renderSlot(r.$slots, "default")
  ], 6);
}
var ElSelectMenu = /* @__PURE__ */ _export_sfc(_sfc_main$a, [["render", _sfc_render$2], ["__file", "/home/runner/work/element-plus/element-plus/packages/components/select/src/select-dropdown.vue"]]);
function useSelectStates(r) {
  const { t: n } = useLocale();
  return reactive({
    options: /* @__PURE__ */ new Map(),
    cachedOptions: /* @__PURE__ */ new Map(),
    createdLabel: null,
    createdSelected: !1,
    selected: r.multiple ? [] : {},
    inputLength: 20,
    inputWidth: 0,
    optionsCount: 0,
    filteredOptionsCount: 0,
    visible: !1,
    selectedLabel: "",
    hoverIndex: -1,
    query: "",
    previousQuery: null,
    inputHovering: !1,
    cachedPlaceHolder: "",
    currentPlaceholder: n("el.select.placeholder"),
    menuVisibleOnFocus: !1,
    isOnComposition: !1,
    prefixWidth: 11,
    mouseEnter: !1
  });
}
let ignoreFocusEvent = !1;
const useSelect = (r, n, i) => {
  const { t: o } = useLocale(), a = useNamespace("select");
  useDeprecated({
    from: "suffixTransition",
    replacement: "override style scheme",
    version: "2.3.0",
    scope: "props",
    ref: "https://element-plus.org/en-US/component/select.html#select-attributes"
  }, computed(() => r.suffixTransition === !1));
  const u = ref(null), c = ref(null), f = ref(null), d = ref(null), p = ref(null), y = ref(null), v = ref(null), g = ref(null), _ = ref(-1), b = shallowRef({ query: "" }), A = shallowRef(""), w = ref([]);
  let S = 0;
  const { form: x, formItem: T } = useFormItem(), L = computed(() => !r.filterable || r.multiple || !n.visible), k = computed(() => r.disabled || (x == null ? void 0 : x.disabled)), M = computed(() => {
    const An = r.multiple ? Array.isArray(r.modelValue) && r.modelValue.length > 0 : r.modelValue !== void 0 && r.modelValue !== null && r.modelValue !== "";
    return r.clearable && !k.value && n.inputHovering && An;
  }), O = computed(() => r.remote && r.filterable && !r.remoteShowSuffix ? "" : r.suffixIcon), ie = computed(() => a.is("reverse", O.value && n.visible && r.suffixTransition)), F = computed(() => r.remote ? 300 : 0), re = computed(() => r.loading ? r.loadingText || o("el.select.loading") : r.remote && n.query === "" && n.options.size === 0 ? !1 : r.filterable && n.query && n.options.size > 0 && n.filteredOptionsCount === 0 ? r.noMatchText || o("el.select.noMatch") : n.options.size === 0 ? r.noDataText || o("el.select.noData") : null), D = computed(() => {
    const An = Array.from(n.options.values()), Sn = [];
    return w.value.forEach((Rn) => {
      const Mn = An.findIndex((Pn) => Pn.currentLabel === Rn);
      Mn > -1 && Sn.push(An[Mn]);
    }), Sn.length ? Sn : An;
  }), Y = computed(() => Array.from(n.cachedOptions.values())), z = computed(() => {
    const An = D.value.filter((Sn) => !Sn.created).some((Sn) => Sn.currentLabel === n.query);
    return r.filterable && r.allowCreate && n.query !== "" && !An;
  }), pe = useFormSize(), ue = computed(() => ["small"].includes(pe.value) ? "small" : "default"), Ce = computed({
    get() {
      return n.visible && re.value !== !1;
    },
    set(An) {
      n.visible = An;
    }
  });
  watch([() => k.value, () => pe.value, () => x == null ? void 0 : x.size], () => {
    nextTick(() => {
      Fe();
    });
  }), watch(() => r.placeholder, (An) => {
    n.cachedPlaceHolder = n.currentPlaceholder = An, r.multiple && Array.isArray(r.modelValue) && r.modelValue.length > 0 && (n.currentPlaceholder = "");
  }), watch(() => r.modelValue, (An, Sn) => {
    r.multiple && (Fe(), An && An.length > 0 || c.value && n.query !== "" ? n.currentPlaceholder = "" : n.currentPlaceholder = n.cachedPlaceHolder, r.filterable && !r.reserveKeyword && (n.query = "", Ie(n.query))), Lt(), r.filterable && !r.multiple && (n.inputLength = 20), !isEqual(An, Sn) && r.validateEvent && (T == null || T.validate("change").catch((Rn) => debugWarn(Rn)));
  }, {
    flush: "post",
    deep: !0
  }), watch(() => n.visible, (An) => {
    var Sn, Rn, Mn, Pn, kn;
    An ? ((Rn = (Sn = d.value) == null ? void 0 : Sn.updatePopper) == null || Rn.call(Sn), r.filterable && (n.filteredOptionsCount = n.optionsCount, n.query = r.remote ? "" : n.selectedLabel, (Pn = (Mn = f.value) == null ? void 0 : Mn.focus) == null || Pn.call(Mn), r.multiple ? (kn = c.value) == null || kn.focus() : n.selectedLabel && (n.currentPlaceholder = `${n.selectedLabel}`, n.selectedLabel = ""), Ie(n.query), !r.multiple && !r.remote && (b.value.query = "", triggerRef(b), triggerRef(A)))) : (r.filterable && (isFunction(r.filterMethod) && r.filterMethod(""), isFunction(r.remoteMethod) && r.remoteMethod("")), c.value && c.value.blur(), n.query = "", n.previousQuery = null, n.selectedLabel = "", n.inputLength = 20, n.menuVisibleOnFocus = !1, In(), nextTick(() => {
      c.value && c.value.value === "" && n.selected.length === 0 && (n.currentPlaceholder = n.cachedPlaceHolder);
    }), r.multiple || (n.selected && (r.filterable && r.allowCreate && n.createdSelected && n.createdLabel ? n.selectedLabel = n.createdLabel : n.selectedLabel = n.selected.currentLabel, r.filterable && (n.query = n.selectedLabel)), r.filterable && (n.currentPlaceholder = n.cachedPlaceHolder))), i.emit("visible-change", An);
  }), watch(() => n.options.entries(), () => {
    var An, Sn, Rn;
    if (!isClient)
      return;
    (Sn = (An = d.value) == null ? void 0 : An.updatePopper) == null || Sn.call(An), r.multiple && Fe();
    const Mn = ((Rn = v.value) == null ? void 0 : Rn.querySelectorAll("input")) || [];
    Array.from(Mn).includes(document.activeElement) || Lt(), r.defaultFirstOption && (r.filterable || r.remote) && n.filteredOptionsCount && xe();
  }, {
    flush: "post"
  }), watch(() => n.hoverIndex, (An) => {
    isNumber(An) && An > -1 ? _.value = D.value[An] || {} : _.value = {}, D.value.forEach((Sn) => {
      Sn.hover = _.value === Sn;
    });
  });
  const Fe = () => {
    nextTick(() => {
      var An, Sn;
      if (!u.value)
        return;
      const Rn = u.value.$el.querySelector("input");
      S = S || (Rn.clientHeight > 0 ? Rn.clientHeight + 2 : 0);
      const Mn = y.value, Pn = getComponentSize(pe.value || (x == null ? void 0 : x.size)), kn = pe.value || Pn === S || S <= 0 ? Pn : S;
      !(Rn.offsetParent === null) && (Rn.style.height = `${(n.selected.length === 0 ? kn : Math.max(Mn ? Mn.clientHeight + (Mn.clientHeight > kn ? 6 : 0) : 0, kn)) - 2}px`), n.visible && re.value !== !1 && ((Sn = (An = d.value) == null ? void 0 : An.updatePopper) == null || Sn.call(An));
    });
  }, Ie = async (An) => {
    if (!(n.previousQuery === An || n.isOnComposition)) {
      if (n.previousQuery === null && (isFunction(r.filterMethod) || isFunction(r.remoteMethod))) {
        n.previousQuery = An;
        return;
      }
      n.previousQuery = An, nextTick(() => {
        var Sn, Rn;
        n.visible && ((Rn = (Sn = d.value) == null ? void 0 : Sn.updatePopper) == null || Rn.call(Sn));
      }), n.hoverIndex = -1, r.multiple && r.filterable && nextTick(() => {
        const Sn = c.value.value.length * 15 + 20;
        n.inputLength = r.collapseTags ? Math.min(50, Sn) : Sn, Pt(), Fe();
      }), r.remote && isFunction(r.remoteMethod) ? (n.hoverIndex = -1, r.remoteMethod(An)) : isFunction(r.filterMethod) ? (r.filterMethod(An), triggerRef(A)) : (n.filteredOptionsCount = n.optionsCount, b.value.query = An, triggerRef(b), triggerRef(A)), r.defaultFirstOption && (r.filterable || r.remote) && n.filteredOptionsCount && (await nextTick(), xe());
    }
  }, Pt = () => {
    n.currentPlaceholder !== "" && (n.currentPlaceholder = c.value.value ? "" : n.cachedPlaceHolder);
  }, xe = () => {
    const An = D.value.filter((Mn) => Mn.visible && !Mn.disabled && !Mn.states.groupDisabled), Sn = An.find((Mn) => Mn.created), Rn = An[0];
    n.hoverIndex = Ve(D.value, Sn || Rn);
  }, Lt = () => {
    var An;
    if (r.multiple)
      n.selectedLabel = "";
    else {
      const Rn = _n(r.modelValue);
      (An = Rn.props) != null && An.created ? (n.createdLabel = Rn.props.value, n.createdSelected = !0) : n.createdSelected = !1, n.selectedLabel = Rn.currentLabel, n.selected = Rn, r.filterable && (n.query = n.selectedLabel);
      return;
    }
    const Sn = [];
    Array.isArray(r.modelValue) && r.modelValue.forEach((Rn) => {
      Sn.push(_n(Rn));
    }), n.selected = Sn, nextTick(() => {
      Fe();
    });
  }, _n = (An) => {
    let Sn;
    const Rn = toRawType(An).toLowerCase() === "object", Mn = toRawType(An).toLowerCase() === "null", Pn = toRawType(An).toLowerCase() === "undefined";
    for (let Dn = n.cachedOptions.size - 1; Dn >= 0; Dn--) {
      const On = Y.value[Dn];
      if (Rn ? get$1(On.value, r.valueKey) === get$1(An, r.valueKey) : On.value === An) {
        Sn = {
          value: An,
          currentLabel: On.currentLabel,
          isDisabled: On.isDisabled
        };
        break;
      }
    }
    if (Sn)
      return Sn;
    const kn = Rn ? An.label : !Mn && !Pn ? An : "", $n = {
      value: An,
      currentLabel: kn
    };
    return r.multiple && ($n.hitState = !1), $n;
  }, In = () => {
    setTimeout(() => {
      const An = r.valueKey;
      r.multiple ? n.selected.length > 0 ? n.hoverIndex = Math.min.apply(null, n.selected.map((Sn) => D.value.findIndex((Rn) => get$1(Rn, An) === get$1(Sn, An)))) : n.hoverIndex = -1 : n.hoverIndex = D.value.findIndex((Sn) => qe(Sn) === qe(n.selected));
    }, 300);
  }, jt = () => {
    var An, Sn;
    he(), (Sn = (An = d.value) == null ? void 0 : An.updatePopper) == null || Sn.call(An), r.multiple && Fe();
  }, he = () => {
    var An;
    n.inputWidth = (An = u.value) == null ? void 0 : An.$el.offsetWidth;
  }, At = () => {
    r.filterable && n.query !== n.selectedLabel && (n.query = n.selectedLabel, Ie(n.query));
  }, kt = debounce(() => {
    At();
  }, F.value), Cn = debounce((An) => {
    Ie(An.target.value);
  }, F.value), ze = (An) => {
    isEqual(r.modelValue, An) || i.emit(CHANGE_EVENT, An);
  }, _e = (An) => {
    if (An.code !== EVENT_CODE.delete) {
      if (An.target.value.length <= 0 && !j()) {
        const Sn = r.modelValue.slice();
        Sn.pop(), i.emit(UPDATE_MODEL_EVENT, Sn), ze(Sn);
      }
      An.target.value.length === 1 && r.modelValue.length === 0 && (n.currentPlaceholder = n.cachedPlaceHolder);
    }
  }, de = (An, Sn) => {
    const Rn = n.selected.indexOf(Sn);
    if (Rn > -1 && !k.value) {
      const Mn = r.modelValue.slice();
      Mn.splice(Rn, 1), i.emit(UPDATE_MODEL_EVENT, Mn), ze(Mn), i.emit("remove-tag", Sn.value);
    }
    An.stopPropagation();
  }, Et = (An) => {
    An.stopPropagation();
    const Sn = r.multiple ? [] : "";
    if (!isString(Sn))
      for (const Rn of n.selected)
        Rn.isDisabled && Sn.push(Rn.value);
    i.emit(UPDATE_MODEL_EVENT, Sn), ze(Sn), n.hoverIndex = -1, n.visible = !1, i.emit("clear");
  }, Oe = (An) => {
    var Sn;
    if (r.multiple) {
      const Rn = (r.modelValue || []).slice(), Mn = Ve(Rn, An.value);
      Mn > -1 ? Rn.splice(Mn, 1) : (r.multipleLimit <= 0 || Rn.length < r.multipleLimit) && Rn.push(An.value), i.emit(UPDATE_MODEL_EVENT, Rn), ze(Rn), An.created && (n.query = "", Ie(""), n.inputLength = 20), r.filterable && ((Sn = c.value) == null || Sn.focus());
    } else
      i.emit(UPDATE_MODEL_EVENT, An.value), ze(An.value), n.visible = !1;
    Dt(), !n.visible && nextTick(() => {
      hn(An);
    });
  }, Ve = (An = [], Sn) => {
    if (!isObject(Sn))
      return An.indexOf(Sn);
    const Rn = r.valueKey;
    let Mn = -1;
    return An.some((Pn, kn) => toRaw(get$1(Pn, Rn)) === get$1(Sn, Rn) ? (Mn = kn, !0) : !1), Mn;
  }, Dt = () => {
    const An = c.value || u.value;
    An && (An == null || An.focus());
  }, hn = (An) => {
    var Sn, Rn, Mn, Pn, kn;
    const $n = Array.isArray(An) ? An[0] : An;
    let Dn = null;
    if ($n != null && $n.value) {
      const On = D.value.filter((Gn) => Gn.value === $n.value);
      On.length > 0 && (Dn = On[0].$el);
    }
    if (d.value && Dn) {
      const On = (Pn = (Mn = (Rn = (Sn = d.value) == null ? void 0 : Sn.popperRef) == null ? void 0 : Rn.contentRef) == null ? void 0 : Mn.querySelector) == null ? void 0 : Pn.call(Mn, `.${a.be("dropdown", "wrap")}`);
      On && scrollIntoView(On, Dn);
    }
    (kn = g.value) == null || kn.handleScroll();
  }, bn = (An) => {
    n.optionsCount++, n.filteredOptionsCount++, n.options.set(An.value, An), n.cachedOptions.set(An.value, An);
  }, oe = (An, Sn) => {
    n.options.get(An) === Sn && (n.optionsCount--, n.filteredOptionsCount--, n.options.delete(An));
  }, le = (An) => {
    An.code !== EVENT_CODE.backspace && j(!1), n.inputLength = c.value.value.length * 15 + 20, Fe();
  }, j = (An) => {
    if (!Array.isArray(n.selected))
      return;
    const Sn = n.selected[n.selected.length - 1];
    if (Sn)
      return An === !0 || An === !1 ? (Sn.hitState = An, An) : (Sn.hitState = !Sn.hitState, Sn.hitState);
  }, V = (An) => {
    const Sn = An.target.value;
    if (An.type === "compositionend")
      n.isOnComposition = !1, nextTick(() => Ie(Sn));
    else {
      const Rn = Sn[Sn.length - 1] || "";
      n.isOnComposition = !isKorean(Rn);
    }
  }, $ = () => {
    nextTick(() => hn(n.selected));
  }, ae = (An) => {
    ignoreFocusEvent ? ignoreFocusEvent = !1 : ((r.automaticDropdown || r.filterable) && (r.filterable && !n.visible && (n.menuVisibleOnFocus = !0), n.visible = !0), i.emit("focus", An));
  }, Ne = () => {
    var An, Sn, Rn;
    n.visible = !1, (An = u.value) == null || An.blur(), (Rn = (Sn = f.value) == null ? void 0 : Sn.blur) == null || Rn.call(Sn);
  }, Ue = (An) => {
    setTimeout(() => {
      var Sn;
      if ((Sn = d.value) != null && Sn.isFocusInsideContent()) {
        ignoreFocusEvent = !0;
        return;
      }
      n.visible && wn(), i.emit("blur", An);
    });
  }, vn = (An) => {
    Et(An);
  }, wn = () => {
    n.visible = !1;
  }, xn = (An) => {
    n.visible && (An.preventDefault(), An.stopPropagation(), n.visible = !1);
  }, Bn = (An) => {
    var Sn;
    An && !n.mouseEnter || k.value || (n.menuVisibleOnFocus ? n.menuVisibleOnFocus = !1 : (!d.value || !d.value.isFocusInsideContent()) && (n.visible = !n.visible), n.visible && ((Sn = c.value || u.value) == null || Sn.focus()));
  }, $e = () => {
    n.visible ? D.value[n.hoverIndex] && Oe(D.value[n.hoverIndex]) : Bn();
  }, qe = (An) => isObject(An.value) ? get$1(An.value, r.valueKey) : An.value, Tn = computed(() => D.value.filter((An) => An.visible).every((An) => An.disabled)), En = computed(() => n.selected.slice(0, r.maxCollapseTags)), Ln = computed(() => n.selected.slice(r.maxCollapseTags)), Nn = (An) => {
    if (!n.visible) {
      n.visible = !0;
      return;
    }
    if (!(n.options.size === 0 || n.filteredOptionsCount === 0) && !n.isOnComposition && !Tn.value) {
      An === "next" ? (n.hoverIndex++, n.hoverIndex === n.options.size && (n.hoverIndex = 0)) : An === "prev" && (n.hoverIndex--, n.hoverIndex < 0 && (n.hoverIndex = n.options.size - 1));
      const Sn = D.value[n.hoverIndex];
      (Sn.disabled === !0 || Sn.states.groupDisabled === !0 || !Sn.visible) && Nn(An), nextTick(() => hn(_.value));
    }
  };
  return {
    optionList: w,
    optionsArray: D,
    selectSize: pe,
    handleResize: jt,
    debouncedOnInputChange: kt,
    debouncedQueryChange: Cn,
    deletePrevTag: _e,
    deleteTag: de,
    deleteSelected: Et,
    handleOptionSelect: Oe,
    scrollToOption: hn,
    readonly: L,
    resetInputHeight: Fe,
    showClose: M,
    iconComponent: O,
    iconReverse: ie,
    showNewOption: z,
    collapseTagSize: ue,
    setSelected: Lt,
    managePlaceholder: Pt,
    selectDisabled: k,
    emptyText: re,
    toggleLastOptionHitState: j,
    resetInputState: le,
    handleComposition: V,
    onOptionCreate: bn,
    onOptionDestroy: oe,
    handleMenuEnter: $,
    handleFocus: ae,
    blur: Ne,
    handleBlur: Ue,
    handleClearClick: vn,
    handleClose: wn,
    handleKeydownEscape: xn,
    toggleMenu: Bn,
    selectOption: $e,
    getValueKey: qe,
    navigateOptions: Nn,
    handleDeleteTooltipTag: (An, Sn) => {
      var Rn, Mn;
      de(An, Sn), (Mn = (Rn = p.value) == null ? void 0 : Rn.updatePopper) == null || Mn.call(Rn);
    },
    dropMenuVisible: Ce,
    queryChange: b,
    groupQueryChange: A,
    showTagList: En,
    collapseTagList: Ln,
    reference: u,
    input: c,
    iOSInput: f,
    tooltipRef: d,
    tagTooltipRef: p,
    tags: y,
    selectWrapper: v,
    scrollbar: g,
    handleMouseEnter: () => {
      n.mouseEnter = !0;
    },
    handleMouseLeave: () => {
      n.mouseEnter = !1;
    }
  };
};
var ElOptions = defineComponent({
  name: "ElOptions",
  emits: ["update-options"],
  setup(r, { slots: n, emit: i }) {
    let o = [];
    function a(u, c) {
      if (u.length !== c.length)
        return !1;
      for (const [f] of u.entries())
        if (u[f] != c[f])
          return !1;
      return !0;
    }
    return () => {
      var u, c;
      const f = (u = n.default) == null ? void 0 : u.call(n), d = [];
      function p(y) {
        Array.isArray(y) && y.forEach((v) => {
          var g, _, b, A;
          const w = (g = (v == null ? void 0 : v.type) || {}) == null ? void 0 : g.name;
          w === "ElOptionGroup" ? p(!isString(v.children) && !Array.isArray(v.children) && isFunction((_ = v.children) == null ? void 0 : _.default) ? (b = v.children) == null ? void 0 : b.default() : v.children) : w === "ElOption" ? d.push((A = v.props) == null ? void 0 : A.label) : Array.isArray(v.children) && p(v.children);
        });
      }
      return f.length && p((c = f[0]) == null ? void 0 : c.children), a(d, o) || (o = d, i("update-options", d)), f;
    };
  }
});
const COMPONENT_NAME = "ElSelect", _sfc_main$9 = defineComponent({
  name: COMPONENT_NAME,
  componentName: COMPONENT_NAME,
  components: {
    ElInput,
    ElSelectMenu,
    ElOption: Option,
    ElOptions,
    ElTag,
    ElScrollbar,
    ElTooltip,
    ElIcon
  },
  directives: { ClickOutside },
  props: {
    name: String,
    id: String,
    modelValue: {
      type: [Array, String, Number, Boolean, Object],
      default: void 0
    },
    autocomplete: {
      type: String,
      default: "off"
    },
    automaticDropdown: Boolean,
    size: {
      type: String,
      validator: isValidComponentSize
    },
    effect: {
      type: String,
      default: "light"
    },
    disabled: Boolean,
    clearable: Boolean,
    filterable: Boolean,
    allowCreate: Boolean,
    loading: Boolean,
    popperClass: {
      type: String,
      default: ""
    },
    popperOptions: {
      type: Object,
      default: () => ({})
    },
    remote: Boolean,
    loadingText: String,
    noMatchText: String,
    noDataText: String,
    remoteMethod: Function,
    filterMethod: Function,
    multiple: Boolean,
    multipleLimit: {
      type: Number,
      default: 0
    },
    placeholder: {
      type: String
    },
    defaultFirstOption: Boolean,
    reserveKeyword: {
      type: Boolean,
      default: !0
    },
    valueKey: {
      type: String,
      default: "value"
    },
    collapseTags: Boolean,
    collapseTagsTooltip: {
      type: Boolean,
      default: !1
    },
    maxCollapseTags: {
      type: Number,
      default: 1
    },
    teleported: useTooltipContentProps.teleported,
    persistent: {
      type: Boolean,
      default: !0
    },
    clearIcon: {
      type: iconPropType,
      default: circle_close_default
    },
    fitInputWidth: {
      type: Boolean,
      default: !1
    },
    suffixIcon: {
      type: iconPropType,
      default: arrow_down_default
    },
    tagType: { ...tagProps.type, default: "info" },
    validateEvent: {
      type: Boolean,
      default: !0
    },
    remoteShowSuffix: {
      type: Boolean,
      default: !1
    },
    suffixTransition: {
      type: Boolean,
      default: !0
    },
    placement: {
      type: String,
      values: Ee,
      default: "bottom-start"
    }
  },
  emits: [
    UPDATE_MODEL_EVENT,
    CHANGE_EVENT,
    "remove-tag",
    "clear",
    "visible-change",
    "focus",
    "blur"
  ],
  setup(r, n) {
    const i = useNamespace("select"), o = useNamespace("input"), { t: a } = useLocale(), u = useSelectStates(r), {
      optionList: c,
      optionsArray: f,
      selectSize: d,
      readonly: p,
      handleResize: y,
      collapseTagSize: v,
      debouncedOnInputChange: g,
      debouncedQueryChange: _,
      deletePrevTag: b,
      deleteTag: A,
      deleteSelected: w,
      handleOptionSelect: S,
      scrollToOption: x,
      setSelected: T,
      resetInputHeight: L,
      managePlaceholder: k,
      showClose: M,
      selectDisabled: O,
      iconComponent: ie,
      iconReverse: F,
      showNewOption: re,
      emptyText: D,
      toggleLastOptionHitState: Y,
      resetInputState: z,
      handleComposition: pe,
      onOptionCreate: ue,
      onOptionDestroy: Ce,
      handleMenuEnter: Fe,
      handleFocus: Ie,
      blur: Pt,
      handleBlur: xe,
      handleClearClick: Lt,
      handleClose: _n,
      handleKeydownEscape: In,
      toggleMenu: jt,
      selectOption: he,
      getValueKey: At,
      navigateOptions: kt,
      handleDeleteTooltipTag: Cn,
      dropMenuVisible: ze,
      reference: _e,
      input: de,
      iOSInput: Et,
      tooltipRef: Oe,
      tagTooltipRef: Ve,
      tags: Dt,
      selectWrapper: hn,
      scrollbar: bn,
      queryChange: oe,
      groupQueryChange: le,
      handleMouseEnter: j,
      handleMouseLeave: V,
      showTagList: $,
      collapseTagList: ae
    } = useSelect(r, u, n), { focus: Ne } = useFocus(_e), {
      inputWidth: Ue,
      selected: vn,
      inputLength: wn,
      filteredOptionsCount: xn,
      visible: Bn,
      selectedLabel: $e,
      hoverIndex: qe,
      query: Tn,
      inputHovering: En,
      currentPlaceholder: Ln,
      menuVisibleOnFocus: Nn,
      isOnComposition: Vn,
      options: Hn,
      cachedOptions: Wn,
      optionsCount: An,
      prefixWidth: Sn
    } = toRefs(u), Rn = computed(() => {
      const Fn = [i.b()], Zn = unref(d);
      return Zn && Fn.push(i.m(Zn)), r.disabled && Fn.push(i.m("disabled")), Fn;
    }), Mn = computed(() => [
      i.e("tags"),
      i.is("disabled", unref(O))
    ]), Pn = computed(() => [
      i.b("tags-wrapper"),
      { "has-prefix": unref(Sn) && unref(vn).length }
    ]), kn = computed(() => [
      i.e("input"),
      i.is(unref(d)),
      i.is("disabled", unref(O))
    ]), $n = computed(() => [
      i.e("input"),
      i.is(unref(d)),
      i.em("input", "iOS")
    ]), Dn = computed(() => [
      i.is("empty", !r.allowCreate && !!unref(Tn) && unref(xn) === 0)
    ]), On = computed(() => ({
      maxWidth: `${unref(Ue) - 32}px`,
      width: "100%"
    })), Gn = computed(() => ({ maxWidth: `${unref(Ue) > 123 ? unref(Ue) - 123 : unref(Ue) - 75}px` })), zn = computed(() => ({
      marginLeft: `${unref(Sn)}px`,
      flexGrow: 1,
      width: `${unref(wn) / (unref(Ue) - 32)}%`,
      maxWidth: `${unref(Ue) - 42}px`
    }));
    provide(selectKey, reactive({
      props: r,
      options: Hn,
      optionsArray: f,
      cachedOptions: Wn,
      optionsCount: An,
      filteredOptionsCount: xn,
      hoverIndex: qe,
      handleOptionSelect: S,
      onOptionCreate: ue,
      onOptionDestroy: Ce,
      selectWrapper: hn,
      selected: vn,
      setSelected: T,
      queryChange: oe,
      groupQueryChange: le
    })), onMounted(() => {
      u.cachedPlaceHolder = Ln.value = r.placeholder || (() => a("el.select.placeholder")), r.multiple && Array.isArray(r.modelValue) && r.modelValue.length > 0 && (Ln.value = ""), useResizeObserver(hn, y), r.remote && r.multiple && L(), nextTick(() => {
        const Fn = _e.value && _e.value.$el;
        if (Fn && (Ue.value = Fn.getBoundingClientRect().width, n.slots.prefix)) {
          const Zn = Fn.querySelector(`.${o.e("prefix")}`);
          Sn.value = Math.max(Zn.getBoundingClientRect().width + 11, 30);
        }
      }), T();
    }), r.multiple && !Array.isArray(r.modelValue) && n.emit(UPDATE_MODEL_EVENT, []), !r.multiple && Array.isArray(r.modelValue) && n.emit(UPDATE_MODEL_EVENT, "");
    const Yn = computed(() => {
      var Fn, Zn;
      return (Zn = (Fn = Oe.value) == null ? void 0 : Fn.popperRef) == null ? void 0 : Zn.contentRef;
    });
    return {
      isIOS,
      onOptionsRendered: (Fn) => {
        c.value = Fn;
      },
      prefixWidth: Sn,
      selectSize: d,
      readonly: p,
      handleResize: y,
      collapseTagSize: v,
      debouncedOnInputChange: g,
      debouncedQueryChange: _,
      deletePrevTag: b,
      deleteTag: A,
      handleDeleteTooltipTag: Cn,
      deleteSelected: w,
      handleOptionSelect: S,
      scrollToOption: x,
      inputWidth: Ue,
      selected: vn,
      inputLength: wn,
      filteredOptionsCount: xn,
      visible: Bn,
      selectedLabel: $e,
      hoverIndex: qe,
      query: Tn,
      inputHovering: En,
      currentPlaceholder: Ln,
      menuVisibleOnFocus: Nn,
      isOnComposition: Vn,
      options: Hn,
      resetInputHeight: L,
      managePlaceholder: k,
      showClose: M,
      selectDisabled: O,
      iconComponent: ie,
      iconReverse: F,
      showNewOption: re,
      emptyText: D,
      toggleLastOptionHitState: Y,
      resetInputState: z,
      handleComposition: pe,
      handleMenuEnter: Fe,
      handleFocus: Ie,
      blur: Pt,
      handleBlur: xe,
      handleClearClick: Lt,
      handleClose: _n,
      handleKeydownEscape: In,
      toggleMenu: jt,
      selectOption: he,
      getValueKey: At,
      navigateOptions: kt,
      dropMenuVisible: ze,
      focus: Ne,
      reference: _e,
      input: de,
      iOSInput: Et,
      tooltipRef: Oe,
      popperPaneRef: Yn,
      tags: Dt,
      selectWrapper: hn,
      scrollbar: bn,
      wrapperKls: Rn,
      tagsKls: Mn,
      tagWrapperKls: Pn,
      inputKls: kn,
      iOSInputKls: $n,
      scrollbarKls: Dn,
      selectTagsStyle: On,
      nsSelect: i,
      tagTextStyle: Gn,
      inputStyle: zn,
      handleMouseEnter: j,
      handleMouseLeave: V,
      showTagList: $,
      collapseTagList: ae,
      tagTooltipRef: Ve
    };
  }
}), _hoisted_1$5 = ["disabled", "autocomplete"], _hoisted_2$3 = ["disabled"], _hoisted_3$3 = { style: { height: "100%", display: "flex", "justify-content": "center", "align-items": "center" } };
function _sfc_render$1(r, n, i, o, a, u) {
  const c = resolveComponent("el-tag"), f = resolveComponent("el-tooltip"), d = resolveComponent("el-icon"), p = resolveComponent("el-input"), y = resolveComponent("el-option"), v = resolveComponent("el-options"), g = resolveComponent("el-scrollbar"), _ = resolveComponent("el-select-menu"), b = resolveDirective("click-outside");
  return withDirectives((openBlock(), createElementBlock("div", {
    ref: "selectWrapper",
    class: normalizeClass(r.wrapperKls),
    onMouseenter: n[21] || (n[21] = (...A) => r.handleMouseEnter && r.handleMouseEnter(...A)),
    onMouseleave: n[22] || (n[22] = (...A) => r.handleMouseLeave && r.handleMouseLeave(...A)),
    onClick: n[23] || (n[23] = withModifiers((...A) => r.toggleMenu && r.toggleMenu(...A), ["stop"]))
  }, [
    createVNode$1(f, {
      ref: "tooltipRef",
      visible: r.dropMenuVisible,
      placement: r.placement,
      teleported: r.teleported,
      "popper-class": [r.nsSelect.e("popper"), r.popperClass],
      "popper-options": r.popperOptions,
      "fallback-placements": ["bottom-start", "top-start", "right", "left"],
      effect: r.effect,
      pure: "",
      trigger: "click",
      transition: `${r.nsSelect.namespace.value}-zoom-in-top`,
      "stop-popper-mouse-event": !1,
      "gpu-acceleration": !1,
      persistent: r.persistent,
      onShow: r.handleMenuEnter
    }, {
      default: withCtx(() => [
        createElementVNode("div", {
          class: "select-trigger",
          onMouseenter: n[19] || (n[19] = (A) => r.inputHovering = !0),
          onMouseleave: n[20] || (n[20] = (A) => r.inputHovering = !1)
        }, [
          r.multiple ? (openBlock(), createElementBlock("div", {
            key: 0,
            ref: "tags",
            class: normalizeClass(r.tagsKls),
            style: normalizeStyle$1(r.selectTagsStyle)
          }, [
            r.collapseTags && r.selected.length ? (openBlock(), createBlock(Transition, {
              key: 0,
              onAfterLeave: r.resetInputHeight
            }, {
              default: withCtx(() => [
                createElementVNode("span", {
                  class: normalizeClass(r.tagWrapperKls)
                }, [
                  (openBlock(!0), createElementBlock(Fragment, null, renderList(r.showTagList, (A) => (openBlock(), createBlock(c, {
                    key: r.getValueKey(A),
                    closable: !r.selectDisabled && !A.isDisabled,
                    size: r.collapseTagSize,
                    hit: A.hitState,
                    type: r.tagType,
                    "disable-transitions": "",
                    onClose: (w) => r.deleteTag(w, A)
                  }, {
                    default: withCtx(() => [
                      createElementVNode("span", {
                        class: normalizeClass(r.nsSelect.e("tags-text")),
                        style: normalizeStyle$1(r.tagTextStyle)
                      }, toDisplayString(A.currentLabel), 7)
                    ]),
                    _: 2
                  }, 1032, ["closable", "size", "hit", "type", "onClose"]))), 128)),
                  r.selected.length > r.maxCollapseTags ? (openBlock(), createBlock(c, {
                    key: 0,
                    closable: !1,
                    size: r.collapseTagSize,
                    type: r.tagType,
                    "disable-transitions": ""
                  }, {
                    default: withCtx(() => [
                      r.collapseTagsTooltip ? (openBlock(), createBlock(f, {
                        key: 0,
                        ref: "tagTooltipRef",
                        disabled: r.dropMenuVisible,
                        "fallback-placements": ["bottom", "top", "right", "left"],
                        effect: r.effect,
                        placement: "bottom",
                        teleported: r.teleported
                      }, {
                        default: withCtx(() => [
                          createElementVNode("span", {
                            class: normalizeClass(r.nsSelect.e("tags-text"))
                          }, "+ " + toDisplayString(r.selected.length - r.maxCollapseTags), 3)
                        ]),
                        content: withCtx(() => [
                          createElementVNode("div", {
                            class: normalizeClass(r.nsSelect.e("collapse-tags"))
                          }, [
                            (openBlock(!0), createElementBlock(Fragment, null, renderList(r.collapseTagList, (A) => (openBlock(), createElementBlock("div", {
                              key: r.getValueKey(A),
                              class: normalizeClass(r.nsSelect.e("collapse-tag"))
                            }, [
                              createVNode$1(c, {
                                class: "in-tooltip",
                                closable: !r.selectDisabled && !A.isDisabled,
                                size: r.collapseTagSize,
                                hit: A.hitState,
                                type: r.tagType,
                                "disable-transitions": "",
                                style: { margin: "2px" },
                                onClose: (w) => r.handleDeleteTooltipTag(w, A)
                              }, {
                                default: withCtx(() => [
                                  createElementVNode("span", {
                                    class: normalizeClass(r.nsSelect.e("tags-text")),
                                    style: normalizeStyle$1({
                                      maxWidth: r.inputWidth - 75 + "px"
                                    })
                                  }, toDisplayString(A.currentLabel), 7)
                                ]),
                                _: 2
                              }, 1032, ["closable", "size", "hit", "type", "onClose"])
                            ], 2))), 128))
                          ], 2)
                        ]),
                        _: 1
                      }, 8, ["disabled", "effect", "teleported"])) : (openBlock(), createElementBlock("span", {
                        key: 1,
                        class: normalizeClass(r.nsSelect.e("tags-text"))
                      }, "+ " + toDisplayString(r.selected.length - r.maxCollapseTags), 3))
                    ]),
                    _: 1
                  }, 8, ["size", "type"])) : createCommentVNode("v-if", !0)
                ], 2)
              ]),
              _: 1
            }, 8, ["onAfterLeave"])) : createCommentVNode("v-if", !0),
            r.collapseTags ? createCommentVNode("v-if", !0) : (openBlock(), createBlock(Transition, {
              key: 1,
              onAfterLeave: r.resetInputHeight
            }, {
              default: withCtx(() => [
                createElementVNode("span", {
                  class: normalizeClass(r.tagWrapperKls),
                  style: normalizeStyle$1(r.prefixWidth && r.selected.length ? { marginLeft: `${r.prefixWidth}px` } : "")
                }, [
                  (openBlock(!0), createElementBlock(Fragment, null, renderList(r.selected, (A) => (openBlock(), createBlock(c, {
                    key: r.getValueKey(A),
                    closable: !r.selectDisabled && !A.isDisabled,
                    size: r.collapseTagSize,
                    hit: A.hitState,
                    type: r.tagType,
                    "disable-transitions": "",
                    onClose: (w) => r.deleteTag(w, A)
                  }, {
                    default: withCtx(() => [
                      createElementVNode("span", {
                        class: normalizeClass(r.nsSelect.e("tags-text")),
                        style: normalizeStyle$1({ maxWidth: r.inputWidth - 75 + "px" })
                      }, toDisplayString(A.currentLabel), 7)
                    ]),
                    _: 2
                  }, 1032, ["closable", "size", "hit", "type", "onClose"]))), 128))
                ], 6)
              ]),
              _: 1
            }, 8, ["onAfterLeave"])),
            r.filterable && !r.selectDisabled ? withDirectives((openBlock(), createElementBlock("input", {
              key: 2,
              ref: "input",
              "onUpdate:modelValue": n[0] || (n[0] = (A) => r.query = A),
              type: "text",
              class: normalizeClass(r.inputKls),
              disabled: r.selectDisabled,
              autocomplete: r.autocomplete,
              style: normalizeStyle$1(r.inputStyle),
              onFocus: n[1] || (n[1] = (...A) => r.handleFocus && r.handleFocus(...A)),
              onBlur: n[2] || (n[2] = (...A) => r.handleBlur && r.handleBlur(...A)),
              onKeyup: n[3] || (n[3] = (...A) => r.managePlaceholder && r.managePlaceholder(...A)),
              onKeydown: [
                n[4] || (n[4] = (...A) => r.resetInputState && r.resetInputState(...A)),
                n[5] || (n[5] = withKeys(withModifiers((A) => r.navigateOptions("next"), ["prevent"]), ["down"])),
                n[6] || (n[6] = withKeys(withModifiers((A) => r.navigateOptions("prev"), ["prevent"]), ["up"])),
                n[7] || (n[7] = withKeys((...A) => r.handleKeydownEscape && r.handleKeydownEscape(...A), ["esc"])),
                n[8] || (n[8] = withKeys(withModifiers((...A) => r.selectOption && r.selectOption(...A), ["stop", "prevent"]), ["enter"])),
                n[9] || (n[9] = withKeys((...A) => r.deletePrevTag && r.deletePrevTag(...A), ["delete"])),
                n[10] || (n[10] = withKeys((A) => r.visible = !1, ["tab"]))
              ],
              onCompositionstart: n[11] || (n[11] = (...A) => r.handleComposition && r.handleComposition(...A)),
              onCompositionupdate: n[12] || (n[12] = (...A) => r.handleComposition && r.handleComposition(...A)),
              onCompositionend: n[13] || (n[13] = (...A) => r.handleComposition && r.handleComposition(...A)),
              onInput: n[14] || (n[14] = (...A) => r.debouncedQueryChange && r.debouncedQueryChange(...A))
            }, null, 46, _hoisted_1$5)), [
              [vModelText, r.query]
            ]) : createCommentVNode("v-if", !0)
          ], 6)) : createCommentVNode("v-if", !0),
          createCommentVNode(" fix: https://github.com/element-plus/element-plus/issues/11415 "),
          r.isIOS && !r.multiple && r.filterable && r.readonly ? (openBlock(), createElementBlock("input", {
            key: 1,
            ref: "iOSInput",
            class: normalizeClass(r.iOSInputKls),
            disabled: r.selectDisabled,
            type: "text"
          }, null, 10, _hoisted_2$3)) : createCommentVNode("v-if", !0),
          createVNode$1(p, {
            id: r.id,
            ref: "reference",
            modelValue: r.selectedLabel,
            "onUpdate:modelValue": n[15] || (n[15] = (A) => r.selectedLabel = A),
            type: "text",
            placeholder: typeof r.currentPlaceholder == "function" ? r.currentPlaceholder() : r.currentPlaceholder,
            name: r.name,
            autocomplete: r.autocomplete,
            size: r.selectSize,
            disabled: r.selectDisabled,
            readonly: r.readonly,
            "validate-event": !1,
            class: normalizeClass([r.nsSelect.is("focus", r.visible)]),
            tabindex: r.multiple && r.filterable ? -1 : void 0,
            onFocus: r.handleFocus,
            onBlur: r.handleBlur,
            onInput: r.debouncedOnInputChange,
            onPaste: r.debouncedOnInputChange,
            onCompositionstart: r.handleComposition,
            onCompositionupdate: r.handleComposition,
            onCompositionend: r.handleComposition,
            onKeydown: [
              n[16] || (n[16] = withKeys(withModifiers((A) => r.navigateOptions("next"), ["stop", "prevent"]), ["down"])),
              n[17] || (n[17] = withKeys(withModifiers((A) => r.navigateOptions("prev"), ["stop", "prevent"]), ["up"])),
              withKeys(withModifiers(r.selectOption, ["stop", "prevent"]), ["enter"]),
              withKeys(r.handleKeydownEscape, ["esc"]),
              n[18] || (n[18] = withKeys((A) => r.visible = !1, ["tab"]))
            ]
          }, createSlots({
            suffix: withCtx(() => [
              r.iconComponent && !r.showClose ? (openBlock(), createBlock(d, {
                key: 0,
                class: normalizeClass([r.nsSelect.e("caret"), r.nsSelect.e("icon"), r.iconReverse])
              }, {
                default: withCtx(() => [
                  (openBlock(), createBlock(resolveDynamicComponent(r.iconComponent)))
                ]),
                _: 1
              }, 8, ["class"])) : createCommentVNode("v-if", !0),
              r.showClose && r.clearIcon ? (openBlock(), createBlock(d, {
                key: 1,
                class: normalizeClass([r.nsSelect.e("caret"), r.nsSelect.e("icon")]),
                onClick: r.handleClearClick
              }, {
                default: withCtx(() => [
                  (openBlock(), createBlock(resolveDynamicComponent(r.clearIcon)))
                ]),
                _: 1
              }, 8, ["class", "onClick"])) : createCommentVNode("v-if", !0)
            ]),
            _: 2
          }, [
            r.$slots.prefix ? {
              name: "prefix",
              fn: withCtx(() => [
                createElementVNode("div", _hoisted_3$3, [
                  renderSlot(r.$slots, "prefix")
                ])
              ])
            } : void 0
          ]), 1032, ["id", "modelValue", "placeholder", "name", "autocomplete", "size", "disabled", "readonly", "class", "tabindex", "onFocus", "onBlur", "onInput", "onPaste", "onCompositionstart", "onCompositionupdate", "onCompositionend", "onKeydown"])
        ], 32)
      ]),
      content: withCtx(() => [
        createVNode$1(_, null, {
          default: withCtx(() => [
            withDirectives(createVNode$1(g, {
              ref: "scrollbar",
              tag: "ul",
              "wrap-class": r.nsSelect.be("dropdown", "wrap"),
              "view-class": r.nsSelect.be("dropdown", "list"),
              class: normalizeClass(r.scrollbarKls)
            }, {
              default: withCtx(() => [
                r.showNewOption ? (openBlock(), createBlock(y, {
                  key: 0,
                  value: r.query,
                  created: !0
                }, null, 8, ["value"])) : createCommentVNode("v-if", !0),
                createVNode$1(v, { onUpdateOptions: r.onOptionsRendered }, {
                  default: withCtx(() => [
                    renderSlot(r.$slots, "default")
                  ]),
                  _: 3
                }, 8, ["onUpdateOptions"])
              ]),
              _: 3
            }, 8, ["wrap-class", "view-class", "class"]), [
              [vShow, r.options.size > 0 && !r.loading]
            ]),
            r.emptyText && (!r.allowCreate || r.loading || r.allowCreate && r.options.size === 0) ? (openBlock(), createElementBlock(Fragment, { key: 0 }, [
              r.$slots.empty ? renderSlot(r.$slots, "empty", { key: 0 }) : (openBlock(), createElementBlock("p", {
                key: 1,
                class: normalizeClass(r.nsSelect.be("dropdown", "empty"))
              }, toDisplayString(r.emptyText), 3))
            ], 64)) : createCommentVNode("v-if", !0)
          ]),
          _: 3
        })
      ]),
      _: 3
    }, 8, ["visible", "placement", "teleported", "popper-class", "popper-options", "effect", "transition", "persistent", "onShow"])
  ], 34)), [
    [b, r.handleClose, r.popperPaneRef]
  ]);
}
var Select = /* @__PURE__ */ _export_sfc(_sfc_main$9, [["render", _sfc_render$1], ["__file", "/home/runner/work/element-plus/element-plus/packages/components/select/src/select.vue"]]);
const _sfc_main$8 = defineComponent({
  name: "ElOptionGroup",
  componentName: "ElOptionGroup",
  props: {
    label: String,
    disabled: {
      type: Boolean,
      default: !1
    }
  },
  setup(r) {
    const n = useNamespace("select"), i = ref(!0), o = getCurrentInstance(), a = ref([]);
    provide(selectGroupKey, reactive({
      ...toRefs(r)
    }));
    const u = inject(selectKey);
    onMounted(() => {
      a.value = c(o.subTree);
    });
    const c = (d) => {
      const p = [];
      return Array.isArray(d.children) && d.children.forEach((y) => {
        var v;
        y.type && y.type.name === "ElOption" && y.component && y.component.proxy ? p.push(y.component.proxy) : (v = y.children) != null && v.length && p.push(...c(y));
      }), p;
    }, { groupQueryChange: f } = toRaw(u);
    return watch(f, () => {
      i.value = a.value.some((d) => d.visible === !0);
    }, { flush: "post" }), {
      visible: i,
      ns: n
    };
  }
});
function _sfc_render(r, n, i, o, a, u) {
  return withDirectives((openBlock(), createElementBlock("ul", {
    class: normalizeClass(r.ns.be("group", "wrap"))
  }, [
    createElementVNode("li", {
      class: normalizeClass(r.ns.be("group", "title"))
    }, toDisplayString(r.label), 3),
    createElementVNode("li", null, [
      createElementVNode("ul", {
        class: normalizeClass(r.ns.b("group"))
      }, [
        renderSlot(r.$slots, "default")
      ], 2)
    ])
  ], 2)), [
    [vShow, r.visible]
  ]);
}
var OptionGroup = /* @__PURE__ */ _export_sfc(_sfc_main$8, [["render", _sfc_render], ["__file", "/home/runner/work/element-plus/element-plus/packages/components/select/src/option-group.vue"]]);
const ElSelect = withInstall(Select, {
  Option,
  OptionGroup
}), ElOption = withNoopInstall(Option);
withNoopInstall(OptionGroup);
const _hoisted_1$4 = { class: "c-wall-d" }, _sfc_main$7 = /* @__PURE__ */ defineComponent({
  __name: "condition",
  props: {
    modelValue: { default: () => ({ type: EConditionType.None }) }
  },
  emits: ["update:modelValue"],
  setup(r, { emit: n }) {
    const i = r, o = computed({
      get() {
        return i.modelValue;
      },
      set(c) {
        n("update:modelValue", c);
      }
    }), a = [
      {
        label: "大于",
        val: "greater"
      },
      {
        label: "大于等于",
        val: ">="
      },
      {
        label: "小于",
        val: "<"
      },
      {
        label: "小于等于",
        val: "<="
      },
      {
        label: "等于",
        val: "=="
      },
      {
        label: "不等于",
        val: "!="
      },
      {
        label: "介于",
        val: ">=,=<"
      },
      {
        label: "不介于",
        val: "<,>"
      }
    ], u = (c) => {
      c !== "None" && (o.value.Relation = {
        key: "",
        relation: "",
        val: "",
        val2: ""
      }), n("update:modelValue", o);
    };
    return (c, f) => {
      var d, p;
      return openBlock(), createElementBlock("div", _hoisted_1$4, [
        createVNode$1(unref(ElFormItem), {
          label: "条件",
          size: "small"
        }, {
          default: withCtx(() => [
            createVNode$1(unref(ElSelect), {
              modelValue: unref(o).type,
              "onUpdate:modelValue": f[0] || (f[0] = (y) => unref(o).type = y),
              onChange: u
            }, {
              default: withCtx(() => [
                createVNode$1(unref(ElOption), {
                  value: "None",
                  label: "无"
                }),
                createVNode$1(unref(ElOption), {
                  value: "Relation",
                  label: "关系运算"
                })
              ]),
              _: 1
            }, 8, ["modelValue"])
          ]),
          _: 1
        }),
        unref(o).type === "Relation" ? (openBlock(), createBlock(unref(ElFormItem), {
          key: 0,
          label: "属性",
          size: "small"
        }, {
          default: withCtx(() => [
            createVNode$1(unref(ElInput), {
              modelValue: unref(o).Relation.key,
              "onUpdate:modelValue": f[1] || (f[1] = (y) => unref(o).Relation.key = y)
            }, null, 8, ["modelValue"])
          ]),
          _: 1
        })) : createCommentVNode("", !0),
        unref(o).type === "Relation" ? (openBlock(), createBlock(unref(ElFormItem), {
          key: 1,
          label: "关系",
          size: "small"
        }, {
          default: withCtx(() => [
            createVNode$1(unref(ElSelect), {
              modelValue: unref(o).Relation.relation,
              "onUpdate:modelValue": f[2] || (f[2] = (y) => unref(o).Relation.relation = y)
            }, {
              default: withCtx(() => [
                (openBlock(), createElementBlock(Fragment, null, renderList(a, (y, v) => createVNode$1(unref(ElOption), {
                  value: y.val,
                  label: y.label,
                  key: "rop" + v
                }, null, 8, ["value", "label"])), 64))
              ]),
              _: 1
            }, 8, ["modelValue"])
          ]),
          _: 1
        })) : createCommentVNode("", !0),
        unref(o).type === "Relation" ? (openBlock(), createBlock(unref(ElFormItem), {
          key: 2,
          label: "值",
          size: "small"
        }, {
          default: withCtx(() => [
            createVNode$1(unref(ElInput), {
              modelValue: unref(o).Relation.val,
              "onUpdate:modelValue": f[3] || (f[3] = (y) => unref(o).Relation.val = y)
            }, null, 8, ["modelValue"])
          ]),
          _: 1
        })) : createCommentVNode("", !0),
        unref(o).type === "Relation" && (((d = unref(o).Relation) == null ? void 0 : d.relation) === ">=,=<" || ((p = unref(o).Relation) == null ? void 0 : p.relation) === "<,>") ? (openBlock(), createBlock(unref(ElFormItem), {
          key: 3,
          label: "值2",
          size: "small"
        }, {
          default: withCtx(() => [
            createVNode$1(unref(ElInput), {
              modelValue: unref(o).Relation.val2,
              "onUpdate:modelValue": f[4] || (f[4] = (y) => unref(o).Relation.val2 = y)
            }, null, 8, ["modelValue"])
          ]),
          _: 1
        })) : createCommentVNode("", !0)
      ]);
    };
  }
}), condition_vue_vue_type_style_index_0_scoped_f43f10e6_lang = "", Condition = /* @__PURE__ */ _export_sfc$1(_sfc_main$7, [["__scopeId", "data-v-f43f10e6"]]), _sfc_main$6 = /* @__PURE__ */ defineComponent({
  __name: "bind-anchor",
  props: {
    modelValue: {},
    title: {}
  },
  emits: ["update:modelValue"],
  setup(r, { emit: n }) {
    const i = r, o = useGlobalStore(pinia), a = computed({
      get() {
        return i.modelValue !== null;
      },
      set(y) {
        let v = null;
        y && (v = {
          target_id: "",
          type: ""
        }), n("update:modelValue", v);
      }
    }), u = computed({
      get() {
        var y;
        return ((y = i.modelValue) == null ? void 0 : y.target_id) ?? void 0;
      },
      set(y) {
        let v = null;
        a.value && (v = {
          target_id: y,
          type: c.value
        }), n("update:modelValue", v);
      }
    }), c = computed({
      get() {
        var y;
        return ((y = i.modelValue) == null ? void 0 : y.type) ?? void 0;
      },
      set(y) {
        let v = null;
        a.value && (v = {
          target_id: u.value,
          type: y
        }), n("update:modelValue", v);
      }
    }), f = computed(
      () => o.done_json.filter((y) => y.type !== EDoneJsonType.ConnectionLine).map((y) => ({
        label: y.title,
        value: y.id
      }))
    ), d = [
      {
        label: "上锚点",
        value: ELineBindAnchors.TopCenter
      },
      {
        label: "右锚点",
        value: ELineBindAnchors.Right
      },
      {
        label: "下锚点",
        value: ELineBindAnchors.BottomCenter
      },
      {
        label: "左锚点",
        value: ELineBindAnchors.Left
      }
    ];
    function p() {
      nextTick(function() {
        var y, v;
        if (a.value && ((y = i.modelValue) != null && y.target_id) && ((v = i.modelValue) != null && v.type) && o.handle_svg_info) {
          let g = null;
          for (let _ of o.done_json)
            _.id === i.modelValue.target_id && (g = _);
          g && (setSvgActualInfo(g), moveAnchors(g));
        }
      });
    }
    return (y, v) => (openBlock(), createElementBlock(Fragment, null, [
      createVNode$1(unref(ElFormItem$1), {
        label: i.title,
        size: "small"
      }, {
        default: withCtx(() => [
          createVNode$1(unref(ElSwitch), {
            modelValue: unref(a),
            "onUpdate:modelValue": v[0] || (v[0] = (g) => isRef(a) ? a.value = g : null),
            onChange: p
          }, null, 8, ["modelValue"])
        ]),
        _: 1
      }, 8, ["label"]),
      unref(a) ? (openBlock(), createBlock(unref(ElFormItem$1), {
        key: 0,
        label: "绑定对象",
        size: "small"
      }, {
        default: withCtx(() => [
          createVNode$1(unref(ElSelect$1), {
            modelValue: unref(u),
            "onUpdate:modelValue": v[1] || (v[1] = (g) => isRef(u) ? u.value = g : null),
            onChange: p
          }, {
            default: withCtx(() => [
              (openBlock(!0), createElementBlock(Fragment, null, renderList(unref(f), (g) => (openBlock(), createBlock(unref(ElOption$1), {
                key: g.value,
                label: g.label,
                value: g.value
              }, null, 8, ["label", "value"]))), 128))
            ]),
            _: 1
          }, 8, ["modelValue"])
        ]),
        _: 1
      })) : createCommentVNode("", !0),
      unref(a) ? (openBlock(), createBlock(unref(ElFormItem$1), {
        key: 1,
        label: "绑定位置",
        size: "small"
      }, {
        default: withCtx(() => [
          createVNode$1(unref(ElSelect$1), {
            modelValue: unref(c),
            "onUpdate:modelValue": v[2] || (v[2] = (g) => isRef(c) ? c.value = g : null),
            onChange: p
          }, {
            default: withCtx(() => [
              (openBlock(), createElementBlock(Fragment, null, renderList(d, (g) => createVNode$1(unref(ElOption$1), {
                key: g.value,
                label: g.label,
                value: g.value
              }, null, 8, ["label", "value"])), 64))
            ]),
            _: 1
          }, 8, ["modelValue"])
        ]),
        _: 1
      })) : createCommentVNode("", !0)
    ], 64));
  }
}), _withScopeId = (r) => (pushScopeId("data-v-9b4c5da1"), r = r(), popScopeId(), r), _hoisted_1$3 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ createElementVNode("span", { style: { "font-weight": "bold" } }, "MQTT", -1)), _hoisted_2$2 = { key: 2 }, _hoisted_3$2 = { class: "events-title" }, _sfc_main$5 = /* @__PURE__ */ defineComponent({
  __name: "right-panel",
  setup(r) {
    const n = useConfigStore(pinia), i = useGlobalStore(pinia), o = useSvgEditLayoutStore(pinia), a = ref("page"), u = ref("style"), c = (b, A) => {
      b != null && b.common_animations && (b.common_animations.val = A);
    };
    n.$subscribe((b, A) => {
      b.storeId === "config-store" && localStorage.setItem("svg-editor-config", JSON.stringify(A));
    });
    const f = ref(numberArray(20)), d = ref(["MQTT"]), p = ref();
    p.value = () => {
      var A, w;
      let b = {
        type: EEventType.Null,
        action: EEventAction.Null,
        target: "",
        scripts: "",
        condition: { type: EConditionType.None }
      };
      (w = (A = i.handle_svg_info) == null ? void 0 : A.info) == null || w.events.push(b);
    };
    const y = (b, A) => {
      b === "ChangeAttr" ? A.attrs = [
        {
          key: "",
          val: ""
        }
      ] : delete A.attrs;
    }, v = (b) => {
      var A, w;
      (w = (A = i.handle_svg_info) == null ? void 0 : A.info) == null || w.events.splice(b, 1);
    }, g = () => {
      o.center_offset = {
        x: 0,
        y: 0
      };
    }, _ = (b, A, w) => {
      nextTick(function() {
        if (i.handle_svg_info) {
          const S = i.done_json[i.handle_svg_info.index];
          w ? setSvgActualInfo(S, w) : setSvgActualInfo(S), moveAnchors(S);
        }
      });
    };
    return (b, A) => unref(i).intention != unref(EGlobalStoreIntention).Select ? (openBlock(), createBlock(unref(ElTabs), {
      key: 0,
      class: "mx-2 rightTabs",
      modelValue: unref(a),
      "onUpdate:modelValue": A[13] || (A[13] = (w) => isRef(a) ? a.value = w : null)
    }, {
      default: withCtx(() => [
        createVNode$1(unref(ElTabPane), {
          label: "图纸",
          name: "page"
        }, {
          default: withCtx(() => [
            createVNode$1(unref(ElForm), {
              "label-width": "60px",
              "label-position": "left"
            }, {
              default: withCtx(() => [
                createVNode$1(unref(ElFormItem$1), {
                  label: "背景色",
                  size: "small"
                }, {
                  default: withCtx(() => [
                    createVNode$1(unref(ElColorPicker), {
                      modelValue: unref(n).svg.background_color,
                      "onUpdate:modelValue": A[0] || (A[0] = (w) => unref(n).svg.background_color = w)
                    }, null, 8, ["modelValue"])
                  ]),
                  _: 1
                }),
                createVNode$1(unref(ElFormItem$1), {
                  label: "画布",
                  size: "small"
                }, {
                  default: withCtx(() => [
                    createVNode$1(unref(ElButton), {
                      size: "small",
                      onClick: g,
                      icon: unref(aim_default)
                    }, {
                      default: withCtx(() => [
                        createTextVNode("重置位置")
                      ]),
                      _: 1
                    }, 8, ["icon"])
                  ]),
                  _: 1
                }),
                createVNode$1(unref(ElFormItem$1), {
                  label: "X轴偏移",
                  size: "small"
                }, {
                  default: withCtx(() => [
                    createVNode$1(unref(ElInputNumber), {
                      modelValue: unref(o).center_offset.x,
                      "onUpdate:modelValue": A[1] || (A[1] = (w) => unref(o).center_offset.x = w)
                    }, null, 8, ["modelValue"])
                  ]),
                  _: 1
                }),
                createVNode$1(unref(ElFormItem$1), {
                  label: "Y轴偏移",
                  size: "small"
                }, {
                  default: withCtx(() => [
                    createVNode$1(unref(ElInputNumber), {
                      modelValue: unref(o).center_offset.y,
                      "onUpdate:modelValue": A[2] || (A[2] = (w) => unref(o).center_offset.y = w)
                    }, null, 8, ["modelValue"])
                  ]),
                  _: 1
                }),
                createVNode$1(unref(ElFormItem$1), {
                  label: "缩放",
                  size: "small"
                }, {
                  default: withCtx(() => [
                    createVNode$1(unref(ElInputNumber), {
                      modelValue: unref(n).svg.scale,
                      "onUpdate:modelValue": A[3] || (A[3] = (w) => unref(n).svg.scale = w),
                      step: 0.1,
                      "step-strictly": ""
                    }, null, 8, ["modelValue"])
                  ]),
                  _: 1
                }),
                createVNode$1(unref(ElFormItem$1), {
                  label: "标尺",
                  size: "small"
                }, {
                  default: withCtx(() => [
                    createVNode$1(unref(ElSwitch), {
                      modelValue: unref(n).svg.ruler,
                      "onUpdate:modelValue": A[4] || (A[4] = (w) => unref(n).svg.ruler = w)
                    }, null, 8, ["modelValue"])
                  ]),
                  _: 1
                }),
                createVNode$1(unref(ElFormItem$1), {
                  label: "网格",
                  size: "small"
                }, {
                  default: withCtx(() => [
                    createVNode$1(unref(ElSwitch), {
                      modelValue: unref(n).svg.grid,
                      "onUpdate:modelValue": A[5] || (A[5] = (w) => unref(n).svg.grid = w)
                    }, null, 8, ["modelValue"])
                  ]),
                  _: 1
                }),
                unref(n).svg.grid ? (openBlock(), createBlock(unref(ElFormItem$1), {
                  key: 0,
                  label: "网格颜色",
                  size: "small"
                }, {
                  default: withCtx(() => [
                    createVNode$1(unref(ElColorPicker), {
                      modelValue: unref(n).svg.grid_color,
                      "onUpdate:modelValue": A[6] || (A[6] = (w) => unref(n).svg.grid_color = w)
                    }, null, 8, ["modelValue"])
                  ]),
                  _: 1
                })) : createCommentVNode("", !0)
              ]),
              _: 1
            })
          ]),
          _: 1
        }),
        createVNode$1(unref(ElTabPane), {
          label: "连线",
          name: "line"
        }, {
          default: withCtx(() => [
            unref(n).connection_line.props ? (openBlock(), createBlock(unref(ElForm), {
              key: 0,
              "label-width": "60px",
              "label-position": "left"
            }, {
              default: withCtx(() => [
                createVNode$1(DynamicElFormItem, {
                  "obj-info": unref(n).connection_line.props,
                  hide: ["point_position"]
                }, null, 8, ["obj-info"])
              ]),
              _: 1
            })) : createCommentVNode("", !0),
            unref(n).connection_line.animations ? (openBlock(), createBlock(unref(ElForm), {
              key: 1,
              "label-width": "60px",
              "label-position": "left"
            }, {
              default: withCtx(() => [
                createVNode$1(unref(ElFormItem$1), {
                  label: unref(n).connection_line.animations.type.title,
                  size: "small"
                }, {
                  default: withCtx(() => [
                    createVNode$1(unref(ElSelect$1), {
                      modelValue: unref(n).connection_line.animations.type.val,
                      "onUpdate:modelValue": A[7] || (A[7] = (w) => unref(n).connection_line.animations.type.val = w),
                      placeholder: "Select",
                      size: "small"
                    }, {
                      default: withCtx(() => [
                        (openBlock(!0), createElementBlock(Fragment, null, renderList(unref(n).connection_line.animations.type.options, (w) => (openBlock(), createBlock(unref(ElOption$1), {
                          key: w.value,
                          label: w.label,
                          value: w.value
                        }, null, 8, ["label", "value"]))), 128))
                      ]),
                      _: 1
                    }, 8, ["modelValue"])
                  ]),
                  _: 1
                }, 8, ["label"]),
                unref(n).connection_line.animations.type.val !== "None" ? (openBlock(), createBlock(DynamicElFormItem, {
                  key: 0,
                  "obj-info": unref(n).connection_line.animations,
                  hide: ["type", "repeatCount"]
                }, null, 8, ["obj-info"])) : createCommentVNode("", !0)
              ]),
              _: 1
            })) : createCommentVNode("", !0)
          ]),
          _: 1
        }),
        createVNode$1(unref(ElTabPane), {
          label: "通信",
          name: "net"
        }, {
          default: withCtx(() => [
            createVNode$1(unref(ElCollapse), {
              modelValue: unref(d),
              "onUpdate:modelValue": A[12] || (A[12] = (w) => isRef(d) ? d.value = w : null)
            }, {
              default: withCtx(() => [
                createVNode$1(unref(ElCollapseItem), { name: "MQTT" }, {
                  title: withCtx(() => [
                    _hoisted_1$3
                  ]),
                  default: withCtx(() => [
                    createVNode$1(unref(ElForm), {
                      "label-width": "60px",
                      "label-position": "left"
                    }, {
                      default: withCtx(() => [
                        createVNode$1(unref(ElFormItem$1), {
                          label: "URL",
                          size: "small"
                        }, {
                          default: withCtx(() => [
                            createVNode$1(unref(ElInput$1), {
                              modelValue: unref(n).net.mqtt.url,
                              "onUpdate:modelValue": A[8] || (A[8] = (w) => unref(n).net.mqtt.url = w),
                              placeholder: "如 ws://127.0.0.1:4500"
                            }, null, 8, ["modelValue"])
                          ]),
                          _: 1
                        }),
                        createVNode$1(unref(ElFormItem$1), {
                          label: "用户名",
                          size: "small"
                        }, {
                          default: withCtx(() => [
                            createVNode$1(unref(ElInput$1), {
                              modelValue: unref(n).net.mqtt.user,
                              "onUpdate:modelValue": A[9] || (A[9] = (w) => unref(n).net.mqtt.user = w),
                              placeholder: "username"
                            }, null, 8, ["modelValue"])
                          ]),
                          _: 1
                        }),
                        createVNode$1(unref(ElFormItem$1), {
                          label: "密码",
                          size: "small"
                        }, {
                          default: withCtx(() => [
                            createVNode$1(unref(ElInput$1), {
                              modelValue: unref(n).net.mqtt.pwd,
                              "onUpdate:modelValue": A[10] || (A[10] = (w) => unref(n).net.mqtt.pwd = w),
                              placeholder: "password"
                            }, null, 8, ["modelValue"])
                          ]),
                          _: 1
                        }),
                        createVNode$1(unref(ElFormItem$1), {
                          label: "Topics",
                          size: "small"
                        }, {
                          default: withCtx(() => [
                            createVNode$1(unref(ElInput$1), {
                              modelValue: unref(n).net.mqtt.topics,
                              "onUpdate:modelValue": A[11] || (A[11] = (w) => unref(n).net.mqtt.topics = w),
                              placeholder: "topics"
                            }, null, 8, ["modelValue"])
                          ]),
                          _: 1
                        })
                      ]),
                      _: 1
                    })
                  ]),
                  _: 1
                })
              ]),
              _: 1
            }, 8, ["modelValue"])
          ]),
          _: 1
        }),
        createVNode$1(unref(ElTabPane), {
          label: "结构",
          name: "tree"
        }, {
          default: withCtx(() => [
            createVNode$1(_sfc_main$t)
          ]),
          _: 1
        })
      ]),
      _: 1
    }, 8, ["modelValue"])) : unref(i).intention == unref(EGlobalStoreIntention).Select && unref(i).handle_svg_info ? (openBlock(), createBlock(unref(ElTabs), {
      key: 1,
      class: "mx-2 rightTabs",
      modelValue: unref(u),
      "onUpdate:modelValue": A[34] || (A[34] = (w) => isRef(u) ? u.value = w : null)
    }, {
      default: withCtx(() => [
        createVNode$1(unref(ElTabPane), {
          label: "外观",
          name: "style"
        }, {
          default: withCtx(() => [
            createVNode$1(unref(ElForm), {
              "label-width": "60px",
              "label-position": "left"
            }, {
              default: withCtx(() => {
                var w, S, x, T;
                return [
                  createVNode$1(unref(ElFormItem$1), {
                    label: "标题",
                    size: "small"
                  }, {
                    default: withCtx(() => [
                      createVNode$1(unref(ElInput$1), {
                        modelValue: unref(i).handle_svg_info.info.title,
                        "onUpdate:modelValue": A[14] || (A[14] = (L) => unref(i).handle_svg_info.info.title = L)
                      }, null, 8, ["modelValue"])
                    ]),
                    _: 1
                  }),
                  createVNode$1(unref(ElFormItem$1), {
                    label: "X坐标",
                    size: "small"
                  }, {
                    default: withCtx(() => [
                      createVNode$1(unref(ElInputNumber), {
                        modelValue: unref(i).handle_svg_info.info.x,
                        "onUpdate:modelValue": A[15] || (A[15] = (L) => unref(i).handle_svg_info.info.x = L),
                        onChange: _
                      }, null, 8, ["modelValue"])
                    ]),
                    _: 1
                  }),
                  createVNode$1(unref(ElFormItem$1), {
                    label: "Y坐标",
                    size: "small"
                  }, {
                    default: withCtx(() => [
                      createVNode$1(unref(ElInputNumber), {
                        modelValue: unref(i).handle_svg_info.info.y,
                        "onUpdate:modelValue": A[16] || (A[16] = (L) => unref(i).handle_svg_info.info.y = L),
                        onChange: _
                      }, null, 8, ["modelValue"])
                    ]),
                    _: 1
                  }),
                  withDirectives(createVNode$1(unref(ElFormItem$1), {
                    label: "X缩放",
                    size: "small"
                  }, {
                    default: withCtx(() => [
                      createVNode$1(unref(ElInputNumber), {
                        modelValue: unref(i).handle_svg_info.info.scale_x,
                        "onUpdate:modelValue": A[17] || (A[17] = (L) => unref(i).handle_svg_info.info.scale_x = L),
                        onChange: _
                      }, null, 8, ["modelValue"])
                    ]),
                    _: 1
                  }, 512), [
                    [vShow, (S = (w = unref(i).handle_svg_info) == null ? void 0 : w.info) == null ? void 0 : S.config.can_zoom]
                  ]),
                  withDirectives(createVNode$1(unref(ElFormItem$1), {
                    label: "Y缩放",
                    size: "small"
                  }, {
                    default: withCtx(() => [
                      createVNode$1(unref(ElInputNumber), {
                        modelValue: unref(i).handle_svg_info.info.scale_y,
                        "onUpdate:modelValue": A[18] || (A[18] = (L) => unref(i).handle_svg_info.info.scale_y = L),
                        onChange: _
                      }, null, 8, ["modelValue"])
                    ]),
                    _: 1
                  }, 512), [
                    [vShow, (T = (x = unref(i).handle_svg_info) == null ? void 0 : x.info) == null ? void 0 : T.config.can_zoom]
                  ]),
                  createVNode$1(unref(ElFormItem$1), {
                    label: "旋转",
                    size: "small"
                  }, {
                    default: withCtx(() => [
                      createVNode$1(unref(ElInputNumber), {
                        modelValue: unref(i).handle_svg_info.info.rotate,
                        "onUpdate:modelValue": A[19] || (A[19] = (L) => unref(i).handle_svg_info.info.rotate = L),
                        onChange: _
                      }, null, 8, ["modelValue"])
                    ]),
                    _: 1
                  }),
                  createVNode$1(unref(ElFormItem$1), {
                    label: "显示",
                    size: "small"
                  }, {
                    default: withCtx(() => [
                      createVNode$1(unref(ElSwitch), {
                        modelValue: unref(i).handle_svg_info.info.display,
                        "onUpdate:modelValue": A[20] || (A[20] = (L) => unref(i).handle_svg_info.info.display = L)
                      }, null, 8, ["modelValue"])
                    ]),
                    _: 1
                  })
                ];
              }),
              _: 1
            })
          ]),
          _: 1
        }),
        createVNode$1(unref(ElTabPane), {
          label: "数据",
          name: "data"
        }, {
          default: withCtx(() => [
            createVNode$1(unref(ElForm), {
              "label-width": "90px",
              "label-position": "left"
            }, {
              default: withCtx(() => {
                var w, S, x, T, L, k, M, O;
                return [
                  createVNode$1(unref(ElFormItem$1), {
                    label: "ID",
                    size: "small"
                  }, {
                    default: withCtx(() => [
                      createVNode$1(unref(ElInput$1), {
                        modelValue: unref(i).handle_svg_info.info.id,
                        "onUpdate:modelValue": A[21] || (A[21] = (ie) => unref(i).handle_svg_info.info.id = ie)
                      }, null, 8, ["modelValue"])
                    ]),
                    _: 1
                  }),
                  (S = (w = unref(i).handle_svg_info) == null ? void 0 : w.info) != null && S.state ? (openBlock(), createBlock(unref(ElFormItem$1), {
                    key: 0,
                    class: "props-row",
                    label: "state",
                    size: "small"
                  }, {
                    default: withCtx(() => [
                      createTextVNode(toDisplayString(unref(i).handle_svg_info.info.defaultState), 1)
                    ]),
                    _: 1
                  })) : createCommentVNode("", !0),
                  (T = (x = unref(i).handle_svg_info) == null ? void 0 : x.info) != null && T.state ? (openBlock(), createBlock(unref(ElFormItem$1), {
                    key: 1,
                    label: "状态",
                    size: "small"
                  }, {
                    default: withCtx(() => [
                      createVNode$1(unref(ElSelect$1), {
                        modelValue: unref(i).handle_svg_info.info.defaultState,
                        "onUpdate:modelValue": A[22] || (A[22] = (ie) => unref(i).handle_svg_info.info.defaultState = ie),
                        placeholder: "Select",
                        size: "small"
                      }, {
                        default: withCtx(() => [
                          (openBlock(!0), createElementBlock(Fragment, null, renderList(unref(i).handle_svg_info.info.state, (ie, F) => (openBlock(), createBlock(unref(ElOption$1), {
                            key: "state" + String(F),
                            label: ie.label,
                            value: F
                          }, null, 8, ["label", "value"]))), 128))
                        ]),
                        _: 1
                      }, 8, ["modelValue"])
                    ]),
                    _: 1
                  })) : createCommentVNode("", !0),
                  (L = unref(i).handle_svg_info.info) != null && L.hasOwnProperty("tag_slot") ? (openBlock(), createElementBlock("div", _hoisted_2$2, [
                    createVNode$1(unref(ElFormItem$1), {
                      class: "props-row",
                      label: "tag_slot",
                      size: "small"
                    }, {
                      default: withCtx(() => [
                        createTextVNode(toDisplayString(unref(i).handle_svg_info.info.tag_slot), 1)
                      ]),
                      _: 1
                    }),
                    createVNode$1(unref(ElFormItem$1), {
                      label: "文字插槽",
                      size: "small"
                    }, {
                      default: withCtx(() => [
                        createVNode$1(unref(ElInput$1), {
                          modelValue: unref(i).handle_svg_info.info.tag_slot,
                          "onUpdate:modelValue": A[23] || (A[23] = (ie) => unref(i).handle_svg_info.info.tag_slot = ie),
                          onInput: A[24] || (A[24] = (ie) => _(ie, null, !0))
                        }, null, 8, ["modelValue"])
                      ]),
                      _: 1
                    })
                  ])) : createCommentVNode("", !0),
                  createVNode$1(DynamicElFormItem, {
                    "obj-info": unref(i).handle_svg_info.info.props,
                    code: "",
                    onChange: A[25] || (A[25] = (ie) => _(ie, null, !0))
                  }, null, 8, ["obj-info"]),
                  unref(i).handle_svg_info.info.animations ? (openBlock(), createBlock(unref(ElFormItem$1), {
                    key: 3,
                    label: unref(i).handle_svg_info.info.animations.type.title,
                    size: "small"
                  }, {
                    default: withCtx(() => [
                      createVNode$1(unref(ElSelect$1), {
                        modelValue: unref(i).handle_svg_info.info.animations.type.val,
                        "onUpdate:modelValue": A[26] || (A[26] = (ie) => unref(i).handle_svg_info.info.animations.type.val = ie),
                        placeholder: "Select",
                        size: "small"
                      }, {
                        default: withCtx(() => [
                          (openBlock(!0), createElementBlock(Fragment, null, renderList(unref(i).handle_svg_info.info.animations.type.options, (ie) => (openBlock(), createBlock(unref(ElOption$1), {
                            key: ie.value,
                            label: ie.label,
                            value: ie.value
                          }, null, 8, ["label", "value"]))), 128))
                        ]),
                        _: 1
                      }, 8, ["modelValue"])
                    ]),
                    _: 1
                  }, 8, ["label"])) : createCommentVNode("", !0),
                  ((k = unref(i).handle_svg_info.info.animations) == null ? void 0 : k.type.val) !== "None" ? (openBlock(), createBlock(DynamicElFormItem, {
                    key: 4,
                    "obj-info": unref(i).handle_svg_info.info.animations,
                    hide: ["type", "repeatCount"]
                  }, null, 8, ["obj-info"])) : createCommentVNode("", !0),
                  ((M = unref(i).handle_svg_info) == null ? void 0 : M.info.type) === unref(EDoneJsonType).ConnectionLine ? (openBlock(), createBlock(_sfc_main$6, {
                    key: 5,
                    modelValue: unref(i).handle_svg_info.info.bind_anchors.start,
                    "onUpdate:modelValue": A[27] || (A[27] = (ie) => unref(i).handle_svg_info.info.bind_anchors.start = ie),
                    title: "绑定起点"
                  }, null, 8, ["modelValue"])) : createCommentVNode("", !0),
                  ((O = unref(i).handle_svg_info) == null ? void 0 : O.info.type) === unref(EDoneJsonType).ConnectionLine ? (openBlock(), createBlock(_sfc_main$6, {
                    key: 6,
                    modelValue: unref(i).handle_svg_info.info.bind_anchors.end,
                    "onUpdate:modelValue": A[28] || (A[28] = (ie) => unref(i).handle_svg_info.info.bind_anchors.end = ie),
                    title: "绑定终点"
                  }, null, 8, ["modelValue"])) : createCommentVNode("", !0)
                ];
              }),
              _: 1
            })
          ]),
          _: 1
        }),
        createVNode$1(unref(ElTabPane), {
          label: "事件",
          name: "event"
        }, {
          default: withCtx(() => [
            createVNode$1(unref(ElButton), {
              type: "primary",
              style: { width: "100%" },
              onClick: unref(p)
            }, {
              default: withCtx(() => [
                createTextVNode("添加事件")
              ]),
              _: 1
            }, 8, ["onClick"]),
            createVNode$1(unref(ElCollapse), {
              modelValue: unref(f),
              "onUpdate:modelValue": A[29] || (A[29] = (w) => isRef(f) ? f.value = w : null)
            }, {
              default: withCtx(() => [
                (openBlock(!0), createElementBlock(Fragment, null, renderList(unref(i).handle_svg_info.info.events, (w, S) => (openBlock(), createBlock(unref(ElCollapseItem), {
                  name: S,
                  key: "event" + S
                }, {
                  title: withCtx(() => [
                    createElementVNode("div", _hoisted_3$2, [
                      createElementVNode("span", null, "事件" + toDisplayString(S + 1), 1),
                      createVNode$1(unref(ElIcon$1), {
                        size: 16,
                        class: "bt-Icon",
                        onClick: withModifiers((x) => v(S), ["stop"])
                      }, {
                        default: withCtx(() => [
                          createVNode$1(_sfc_main$D, { name: "delete" })
                        ]),
                        _: 2
                      }, 1032, ["onClick"])
                    ])
                  ]),
                  default: withCtx(() => [
                    createVNode$1(unref(ElForm), {
                      "label-width": "90px",
                      "label-position": "left"
                    }, {
                      default: withCtx(() => [
                        createVNode$1(unref(ElFormItem$1), {
                          label: "类型",
                          size: "small"
                        }, {
                          default: withCtx(() => [
                            createVNode$1(unref(ElSelect$1), {
                              modelValue: w.type,
                              "onUpdate:modelValue": (x) => w.type = x
                            }, {
                              default: withCtx(() => [
                                createVNode$1(unref(ElOption$1), {
                                  value: "Click",
                                  label: "点击"
                                }),
                                createVNode$1(unref(ElOption$1), {
                                  value: "Change",
                                  label: "值改变"
                                })
                              ]),
                              _: 2
                            }, 1032, ["modelValue", "onUpdate:modelValue"])
                          ]),
                          _: 2
                        }, 1024),
                        createVNode$1(unref(ElFormItem$1), {
                          label: "行为",
                          size: "small"
                        }, {
                          default: withCtx(() => [
                            createVNode$1(unref(ElSelect$1), {
                              modelValue: w.action,
                              "onUpdate:modelValue": (x) => w.action = x,
                              onChange: (x) => y(x, w)
                            }, {
                              default: withCtx(() => [
                                createVNode$1(unref(ElOption$1), {
                                  value: "ChangeAttr",
                                  label: "改变属性"
                                }),
                                createVNode$1(unref(ElOption$1), {
                                  value: "JavaScript",
                                  label: "执行JavaScript"
                                })
                              ]),
                              _: 2
                            }, 1032, ["modelValue", "onUpdate:modelValue", "onChange"])
                          ]),
                          _: 2
                        }, 1024),
                        w.action === "ChangeAttr" ? (openBlock(), createBlock(unref(ElFormItem$1), {
                          key: 0,
                          label: "目标",
                          size: "small"
                        }, {
                          default: withCtx(() => [
                            createVNode$1(unref(ElInput$1), {
                              modelValue: w.target,
                              "onUpdate:modelValue": (x) => w.target = x,
                              placeholder: "默认自身"
                            }, null, 8, ["modelValue", "onUpdate:modelValue"])
                          ]),
                          _: 2
                        }, 1024)) : createCommentVNode("", !0),
                        w.action === "ChangeAttr" ? (openBlock(), createBlock(List, {
                          key: 1,
                          modelValue: w.attrs,
                          "onUpdate:modelValue": (x) => w.attrs = x
                        }, null, 8, ["modelValue", "onUpdate:modelValue"])) : createCommentVNode("", !0),
                        w.action === "JavaScript" ? (openBlock(), createBlock(unref(ElFormItem$1), {
                          key: 2,
                          label: "JavaScript",
                          size: "small"
                        }, {
                          default: withCtx(() => [
                            createVNode$1(_sfc_main$w, {
                              modelValue: w.scripts,
                              "onUpdate:modelValue": (x) => w.scripts = x,
                              lang: "javascript"
                            }, null, 8, ["modelValue", "onUpdate:modelValue"])
                          ]),
                          _: 2
                        }, 1024)) : createCommentVNode("", !0),
                        createVNode$1(Condition, {
                          modelValue: w.condition,
                          "onUpdate:modelValue": (x) => w.condition = x
                        }, null, 8, ["modelValue", "onUpdate:modelValue"])
                      ]),
                      _: 2
                    }, 1024)
                  ]),
                  _: 2
                }, 1032, ["name"]))), 128))
              ]),
              _: 1
            }, 8, ["modelValue"])
          ]),
          _: 1
        }),
        createVNode$1(unref(ElTabPane), {
          label: "动效",
          name: "animation"
        }, {
          default: withCtx(() => {
            var w;
            return [
              (w = unref(i).handle_svg_info) != null && w.info.animations ? (openBlock(), createBlock(unref(ElForm), {
                key: 0,
                "label-width": "60px",
                "label-position": "left"
              }, {
                default: withCtx(() => [
                  createVNode$1(DynamicElFormItem, {
                    "obj-info": unref(i).handle_svg_info.info.animations
                  }, null, 8, ["obj-info"])
                ]),
                _: 1
              })) : unref(i).handle_svg_info.info.common_animations ? (openBlock(), createBlock(unref(ElForm), {
                key: 1,
                "label-width": "60px",
                "label-position": "left"
              }, {
                default: withCtx(() => [
                  createVNode$1(unref(ElFormItem$1), {
                    label: "动画效果",
                    size: "small"
                  }, {
                    default: withCtx(() => [
                      createVNode$1(CommonAnimate, {
                        onUpdateCommonAniVal: A[30] || (A[30] = (S) => {
                          var x;
                          return c((x = unref(i).handle_svg_info) == null ? void 0 : x.info, S);
                        }),
                        val: unref(i).handle_svg_info.info.common_animations.val
                      }, null, 8, ["val"])
                    ]),
                    _: 1
                  }),
                  createVNode$1(unref(ElFormItem$1), {
                    label: "延迟",
                    size: "small"
                  }, {
                    default: withCtx(() => [
                      createVNode$1(unref(ElSelect$1), {
                        modelValue: unref(i).handle_svg_info.info.common_animations.delay,
                        "onUpdate:modelValue": A[31] || (A[31] = (S) => unref(i).handle_svg_info.info.common_animations.delay = S)
                      }, {
                        default: withCtx(() => [
                          createVNode$1(unref(ElOption$1), {
                            value: "delay-0s",
                            label: "无"
                          }),
                          createVNode$1(unref(ElOption$1), {
                            value: "delay-1s",
                            label: "1秒"
                          }),
                          createVNode$1(unref(ElOption$1), {
                            value: "delay-2s",
                            label: "2秒"
                          }),
                          createVNode$1(unref(ElOption$1), {
                            value: "delay-3s",
                            label: "3秒"
                          }),
                          createVNode$1(unref(ElOption$1), {
                            value: "delay-4s",
                            label: "4秒"
                          }),
                          createVNode$1(unref(ElOption$1), {
                            value: "delay-5s",
                            label: "5秒"
                          })
                        ]),
                        _: 1
                      }, 8, ["modelValue"])
                    ]),
                    _: 1
                  }),
                  createVNode$1(unref(ElFormItem$1), {
                    label: "动画速度",
                    size: "small"
                  }, {
                    default: withCtx(() => [
                      createVNode$1(unref(ElSelect$1), {
                        modelValue: unref(i).handle_svg_info.info.common_animations.speed,
                        "onUpdate:modelValue": A[32] || (A[32] = (S) => unref(i).handle_svg_info.info.common_animations.speed = S)
                      }, {
                        default: withCtx(() => [
                          createVNode$1(unref(ElOption$1), {
                            value: "slow",
                            label: "慢"
                          }),
                          createVNode$1(unref(ElOption$1), {
                            value: "slower",
                            label: "最慢"
                          }),
                          createVNode$1(unref(ElOption$1), {
                            value: "fast",
                            label: "快"
                          }),
                          createVNode$1(unref(ElOption$1), {
                            value: "faster",
                            label: "最快"
                          })
                        ]),
                        _: 1
                      }, 8, ["modelValue"])
                    ]),
                    _: 1
                  }),
                  createVNode$1(unref(ElFormItem$1), {
                    label: "循环次数",
                    size: "small"
                  }, {
                    default: withCtx(() => [
                      createVNode$1(unref(ElSelect$1), {
                        modelValue: unref(i).handle_svg_info.info.common_animations.repeat,
                        "onUpdate:modelValue": A[33] || (A[33] = (S) => unref(i).handle_svg_info.info.common_animations.repeat = S)
                      }, {
                        default: withCtx(() => [
                          createVNode$1(unref(ElOption$1), {
                            value: "repeat-1",
                            label: "一次"
                          }),
                          createVNode$1(unref(ElOption$1), {
                            value: "repeat-2",
                            label: "两次"
                          }),
                          createVNode$1(unref(ElOption$1), {
                            value: "repeat-3",
                            label: "三次"
                          }),
                          createVNode$1(unref(ElOption$1), {
                            value: "infinite",
                            label: "无限次"
                          })
                        ]),
                        _: 1
                      }, 8, ["modelValue"])
                    ]),
                    _: 1
                  })
                ]),
                _: 1
              })) : createCommentVNode("", !0)
            ];
          }),
          _: 1
        }),
        createVNode$1(unref(ElTabPane), {
          label: "结构",
          name: "tree"
        }, {
          default: withCtx(() => [
            createVNode$1(_sfc_main$t)
          ]),
          _: 1
        })
      ]),
      _: 1
    }, 8, ["modelValue"])) : createCommentVNode("", !0);
  }
}), rightPanel_vue_vue_type_style_index_0_scoped_9b4c5da1_lang = "", rightPanel_vue_vue_type_style_index_1_lang = "", RightPanel = /* @__PURE__ */ _export_sfc$1(_sfc_main$5, [["__scopeId", "data-v-9b4c5da1"]]), _sfc_main$4 = /* @__PURE__ */ defineComponent({
  __name: "export-json",
  setup(r) {
    const n = ref(""), i = useGlobalStore(pinia), o = useSvgEditLayoutStore(pinia), a = useConfigStore(pinia);
    return onMounted(() => {
      const u = {
        layout_center: o.center_offset,
        config: a.$state,
        done_json: i.done_json
      };
      n.value = JSON.stringify(u, null, 2);
    }), (u, c) => (openBlock(), createBlock(unref(VAceEditor), {
      value: unref(n),
      "onUpdate:value": c[0] || (c[0] = (f) => isRef(n) ? n.value = f : null),
      lang: "json",
      theme: "kr_theme",
      style: { height: "400px" },
      options: {
        useWorker: !0,
        enableBasicAutocompletion: !0,
        enableSnippets: !0,
        enableLiveAutocompletion: !0
      }
    }, null, 8, ["value"]));
  }
}), _sfc_main$3 = /* @__PURE__ */ defineComponent({
  __name: "import-json",
  setup(r, { expose: n }) {
    const i = ref("");
    return n({
      setVal: (u) => {
        i.value = u;
      },
      onImportJson: () => {
        useImportDataModel(i.value) && ElMessage.success("导入成功");
      }
    }), (u, c) => (openBlock(), createBlock(unref(VAceEditor), {
      value: unref(i),
      "onUpdate:value": c[0] || (c[0] = (f) => isRef(i) ? i.value = f : null),
      lang: "json",
      theme: "kr_theme",
      style: { height: "400px" },
      options: {
        useWorker: !0,
        enableBasicAutocompletion: !0,
        enableSnippets: !0,
        enableLiveAutocompletion: !0
      }
    }, null, 8, ["value"]));
  }
}), _hoisted_1$2 = ["onMousedown"], _hoisted_2$1 = ["onMousedown"], _hoisted_3$1 = ["title", "onMousedown"], _hoisted_4$1 = { class: "vue-ruler-content-mask" }, _sfc_main$2 = /* @__PURE__ */ defineComponent({
  __name: "vue3-ruler-tool",
  props: {
    visible: { type: Boolean, default: !0 },
    stepLength: { default: 100 }
  },
  emits: ["onLineMouseUp"],
  setup(r, { emit: n }) {
    const i = r, o = useSvgEditLayoutStore(pinia), a = useConfigStore(pinia), u = function() {
      return function(ze, _e, de) {
        ze && _e && de && ze.addEventListener(_e, de, !1);
      };
    }(), c = function() {
      return function(ze, _e, de) {
        ze && _e && ze.removeEventListener(_e, de, !1);
      };
    }();
    let f = 18, d = ref(0), p = ref(0), y = ref([]), v = ref([]);
    const g = ref([]);
    let _ = ref(!1), b = "", A = ref(-999), w = ref(-999), S = 18, x = 18, T = "";
    const L = ref(null), k = ref(null), M = ref(null), O = ref(null), ie = computed(() => ({
      width: d.value + "px",
      height: p.value + "px"
    })), F = computed(() => ({
      padding: f + "px 0px 0px " + f + "px"
    })), re = computed(() => {
      let ze = 0, _e = 0;
      return g.value.map((de) => {
        const Et = de.type === "h";
        return {
          id: `${de.type}_${Et ? ze++ : _e++}`,
          type: de.type,
          title: de.site.toFixed(0) + "px",
          [Et ? "top" : "left"]: de.site * a.svg.scale + f + o.center_offset[Et ? "y" : "x"] * a.svg.scale
        };
      });
    });
    o.$subscribe((ze) => {
      var _e, de, Et, Oe;
      ((de = (_e = ze.events) == null ? void 0 : _e.target) != null && de.hasOwnProperty("left_nav") || (Oe = (Et = ze.events) == null ? void 0 : Et.target) != null && Oe.hasOwnProperty("right_nav")) && window.setTimeout(D, 420);
    }), a.$subscribe((ze) => {
      var _e, de;
      (de = (_e = ze.events) == null ? void 0 : _e.target) != null && de.hasOwnProperty("scale") && Ce();
    }), onMounted(() => {
      u(document, "mousemove", Ie), u(document, "mouseup", Lt), D(), u(window, "resize", Y);
    }), onBeforeUnmount(() => {
      c(document, "mousemove", Ie), c(document, "mouseup", Lt), c(window, "resize", Y);
    });
    const D = () => {
      ue(), Ce();
    }, Y = () => {
      y.value = [], v.value = [], D();
    }, z = ({ type: ze, top: _e, left: de }) => ze === "h" ? { top: _e + "px" } : { left: de + "px" }, pe = ({ type: ze, id: _e }) => ze === "h" ? At(_e) : kt(_e), ue = () => {
      const ze = window.getComputedStyle(k.value.parentNode, null);
      d.value = parseInt(ze.getPropertyValue("width")), p.value = parseInt(ze.getPropertyValue("height")), S = M.value.clientWidth, x = O.value.clientHeight;
    }, Ce = () => {
      Fe(y.value, d.value, o.center_offset.x), Fe(v.value, p.value, o.center_offset.y);
    }, Fe = (ze, _e, de) => {
      if (ze.length === 0)
        for (let Et = 0; Et < _e; Et += i.stepLength)
          Et % i.stepLength === 0 && ze.push({ id: Number((Et / a.svg.scale - de).toFixed(0)) });
      else
        ze.forEach((Et, Oe) => {
          Et.id = Number((Oe * i.stepLength / a.svg.scale - de).toFixed(0));
        });
    }, Ie = (ze) => {
      Ce(), Pt(ze);
    }, Pt = (ze) => {
      if (!(ze.layerX === ze.x || ze.layerY === ze.y))
        switch (b) {
          case "x":
            _.value && (w.value = ze.layerY);
            break;
          case "y":
            _.value && (A.value = ze.layerX);
            break;
          case "h":
            _.value && (w.value = ze.layerY);
            break;
          case "v":
            _.value && (A.value = ze.layerX);
            break;
        }
    }, xe = (ze) => {
      _.value = !0, b = ze;
    }, Lt = (ze) => {
      _n(ze);
    }, _n = (ze) => {
      if (_.value) {
        switch (_.value = !1, b) {
          case "x":
            const _e = Math.round(
              (ze.layerY - f) / a.svg.scale - o.center_offset.y
            );
            if (_e <= 0) {
              w.value = -999;
              return;
            }
            g.value.push({
              type: "h",
              site: _e
            });
            break;
          case "y":
            const de = Math.round(
              (ze.layerX - f) / a.svg.scale - o.center_offset.x
            );
            if (de <= 0) {
              A.value = -999;
              return;
            }
            g.value.push({
              type: "v",
              site: de
            });
            break;
          case "h":
            In(
              g.value,
              Math.round((ze.layerY - f) / a.svg.scale - o.center_offset.y),
              Math.round(x / a.svg.scale - o.center_offset.y),
              "h"
            );
            break;
          case "v":
            In(
              g.value,
              Math.round((ze.layerX - f) / a.svg.scale - o.center_offset.x),
              Math.round(S / a.svg.scale - o.center_offset.x),
              "v"
            );
            break;
        }
        w.value = A.value = -999;
      }
    }, In = (ze, _e, de, Et) => {
      if (_e < de) {
        let Oe;
        re.value.forEach((Ve, Dt) => {
          Ve.id === T && (Oe = Dt);
        }), ze.splice(Oe, 1);
      } else {
        let Oe;
        re.value.forEach((Ve, Dt) => {
          Ve.id === T && (Oe = Dt);
        }), ze.splice(Oe, 1, {
          type: Et,
          site: _e
        });
      }
    }, jt = () => {
      xe("x");
    }, he = () => {
      xe("y");
    }, At = (ze) => {
      _.value = !0, b = "h", T = ze;
    }, kt = (ze) => {
      _.value = !0, b = "v", T = ze;
    }, Cn = () => {
      n("onLineMouseUp");
    };
    return (ze, _e) => (openBlock(), createElementBlock("div", {
      style: normalizeStyle$1(unref(ie)),
      class: "vue-ruler-wrapper",
      onselectStart: "return false;",
      ref_key: "el",
      ref: k
    }, [
      withDirectives(createElementVNode("section", null, [
        createElementVNode("div", {
          ref_key: "horizontalRuler",
          ref: O,
          class: "vue-ruler-h",
          onMousedown: withModifiers(jt, ["stop"])
        }, [
          (openBlock(!0), createElementBlock(Fragment, null, renderList(unref(y), (de, Et) => (openBlock(), createElementBlock("span", {
            style: normalizeStyle$1({ left: Et * ze.stepLength + "px" }),
            class: "n"
          }, toDisplayString(de.id), 5))), 256))
        ], 40, _hoisted_1$2),
        createElementVNode("div", {
          ref_key: "verticalRuler",
          ref: M,
          class: "vue-ruler-v",
          onMousedown: withModifiers(he, ["stop"])
        }, [
          (openBlock(!0), createElementBlock(Fragment, null, renderList(unref(v), (de, Et) => (openBlock(), createElementBlock("span", {
            style: normalizeStyle$1({ top: Et * ze.stepLength + "px" }),
            class: "n"
          }, toDisplayString(de.id), 5))), 256))
        ], 40, _hoisted_2$1),
        createElementVNode("div", {
          style: normalizeStyle$1({ top: unref(w) + "px" }),
          class: "vue-ruler-ref-dot-h"
        }, [
          createElementVNode("span", null, toDisplayString(Math.round((unref(w) - unref(x)) / unref(a).svg.scale)), 1)
        ], 4),
        createElementVNode("div", {
          style: normalizeStyle$1({ left: unref(A) + "px" }),
          class: "vue-ruler-ref-dot-v"
        }, [
          createElementVNode("span", null, toDisplayString(Math.round((unref(A) - unref(S)) / unref(a).svg.scale)), 1)
        ], 4),
        (openBlock(!0), createElementBlock(Fragment, null, renderList(unref(re), (de) => (openBlock(), createElementBlock("div", {
          title: de.title,
          style: normalizeStyle$1(z(de)),
          key: de.id,
          class: normalizeClass(`vue-ruler-ref-line-${de.type}`),
          onMousedown: (Et) => pe(de),
          onMouseup: Cn,
          onContextmenu: _e[0] || (_e[0] = //@ts-ignore
          (...Et) => unref(preventDefault) && unref(preventDefault)(...Et))
        }, null, 46, _hoisted_3$1))), 128))
      ], 512), [
        [vShow, i.visible]
      ]),
      createElementVNode("div", {
        ref_key: "content",
        ref: L,
        class: "vue-ruler-content",
        style: normalizeStyle$1(unref(F))
      }, [
        renderSlot(ze.$slots, "default")
      ], 4),
      withDirectives(createElementVNode("div", _hoisted_4$1, null, 512), [
        [vShow, unref(_)]
      ])
    ], 4));
  }
}), vue3RulerTool_vue_vue_type_style_index_0_lang = "";
function fileWrite(r, n = new Date(Date.now()).toLocaleString()) {
  const i = JSON.stringify(r), o = new Blob([i]);
  let a = document.createElement("a");
  a.download = n + ".json", a.style.display = "none", a.href = URL.createObjectURL(o), document.body.appendChild(a), a.click(), document.body.removeChild(a);
}
function fileRead(r) {
  return new Promise((n, i) => {
    let o = new FileReader();
    o.readAsText(r, "UTF-8"), o.onload = function(a) {
      a && a.target ? n(a.target.result) : i("文件读取错误");
    };
  });
}
const _hoisted_1$1 = { class: "canvas-main-pc" }, _sfc_main$1 = /* @__PURE__ */ defineComponent({
  __name: "index",
  props: {
    customToolbar: {},
    vueComp: {},
    data: {},
    saveFile: { type: Boolean, default: !1 }
  },
  emits: ["onReturn", "onPreview", "onSave"],
  setup(r, { expose: n, emit: i }) {
    const o = r;
    setEditorLoadTime();
    const a = useGlobalStore(pinia), u = useSvgEditLayoutStore(pinia), c = useConfigStore(pinia), f = useEditPrivateStore(pinia), d = ref(), p = ref(), y = reactive({
      [EVisibleConfKey.ExportJson]: !1,
      [EVisibleConfKey.ImportJson]: !1,
      [EVisibleConfKey.ImportFile]: !1
    }), v = (T, L) => {
      y[T] = L;
    }, g = ref();
    g.value = () => {
      p.value.onImportJson(), v(EVisibleConfKey.ImportJson, !1);
    };
    const _ = (T) => ["text/plain", "application/json"].indexOf(T.type) < 0 ? (ElMessage.error("仅支持的格式：txt、json"), !1) : (fileRead(T).then((L) => {
      p.value.setVal(L), ElMessage.success("文件读取成功！");
    }), !1), b = (T) => {
      a.setDoneJson(T);
    };
    onMounted(() => {
      f.history_doneComponent = [], f.history_now_index = 0, o.data ? useImportDataModel(o.data) : a.setDoneJson([]), a.intention = EGlobalStoreIntention.None;
    });
    const { appContext: A } = getCurrentInstance();
    function w(T) {
      i("onReturn", {
        data: T,
        isChange: f.getTopBtnUndoStatus
      });
    }
    function S(T) {
      o.saveFile ? ElMessageBox.prompt(
        "请输入文件名",
        "保存",
        {
          cancelButtonText: "取消",
          confirmButtonText: "保存"
        },
        A
      ).then((L) => {
        fileWrite(T, L.value.trim()), i("onSave", T);
      }).catch((L) => {
        console.log(L);
      }) : i("onSave", T);
    }
    function x() {
      d.value.onCanvasMouseUp();
    }
    return n({
      setGraphNodeJson: b
    }), (T, L) => (openBlock(), createElementBlock("div", null, [
      createVNode$1(unref(ElContainer), null, {
        default: withCtx(() => [
          createVNode$1(unref(ElHeader), { class: "top-el-header" }, {
            default: withCtx(() => [
              createVNode$1(TopPanel, {
                onChangeVisible: v,
                onOnReturn: w,
                onOnPreview: L[0] || (L[0] = (k) => i("onPreview", k)),
                onOnSave: S
              })
            ]),
            _: 1
          }),
          createVNode$1(unref(ElContainer), { class: "middle" }, {
            default: withCtx(() => [
              createVNode$1(unref(ElAside), {
                class: normalizeClass(["side-nav", unref(u).left_nav ? "show-nav" : "hide-nav"]),
                style: { "border-right": "1px solid #efefef" }
              }, {
                default: withCtx(() => [
                  createVNode$1(unref(ElScrollbar$1), { class: "el-scroll-pc" }, {
                    default: withCtx(() => [
                      createVNode$1(LeftPanel, {
                        class: "content-left",
                        "custom-toolbar": o.customToolbar
                      }, null, 8, ["custom-toolbar"])
                    ]),
                    _: 1
                  })
                ]),
                _: 1
              }, 8, ["class"]),
              createVNode$1(unref(ElMain), { class: "middle main" }, {
                default: withCtx(() => [
                  createElementVNode("div", _hoisted_1$1, [
                    createVNode$1(_sfc_main$2, {
                      class: "canvas-main-pc",
                      visible: unref(c).svg.ruler,
                      onOnLineMouseUp: x
                    }, {
                      default: withCtx(() => [
                        createVNode$1(CenterPanel, {
                          ref_key: "centerRef",
                          ref: d,
                          vueComp: o.vueComp
                        }, null, 8, ["vueComp"])
                      ]),
                      _: 1
                    }, 8, ["visible"])
                  ])
                ]),
                _: 1
              }),
              createVNode$1(unref(ElAside), {
                class: normalizeClass(["side-nav", unref(u).right_nav ? "show-nav" : "hide-nav"]),
                style: { "border-left": "1px solid #efefef" }
              }, {
                default: withCtx(() => [
                  createVNode$1(unref(ElScrollbar$1), { class: "el-scroll-pc" }, {
                    default: withCtx(() => [
                      createVNode$1(RightPanel)
                    ]),
                    _: 1
                  })
                ]),
                _: 1
              }, 8, ["class"])
            ]),
            _: 1
          })
        ]),
        _: 1
      }),
      createVNode$1(unref(ElDialog), {
        class: "modal-full",
        modelValue: unref(y).ImportJson,
        "onUpdate:modelValue": L[2] || (L[2] = (k) => unref(y).ImportJson = k),
        title: "导入数据",
        width: "60%",
        "destroy-on-close": ""
      }, {
        footer: withCtx(() => [
          createVNode$1(unref(ElUpload), {
            beforeUpload: _,
            style: { display: "inline-flex", "margin-right": "12px" },
            multiple: !1,
            "show-file-list": !1,
            limit: 1
          }, {
            default: withCtx(() => [
              createVNode$1(unref(ElButton), {
                onClick: L[1] || (L[1] = (k) => v(unref(EVisibleConfKey).ImportFile, !0))
              }, {
                default: withCtx(() => [
                  createTextVNode("读取文件")
                ]),
                _: 1
              })
            ]),
            _: 1
          }),
          createVNode$1(unref(ElButton), {
            type: "primary",
            onClick: unref(g)
          }, {
            default: withCtx(() => [
              createTextVNode("导入数据")
            ]),
            _: 1
          }, 8, ["onClick"])
        ]),
        default: withCtx(() => [
          createVNode$1(_sfc_main$3, {
            ref_key: "importJsonRef",
            ref: p
          }, null, 512)
        ]),
        _: 1
      }, 8, ["modelValue"]),
      createVNode$1(unref(ElDialog), {
        class: "modal-full",
        modelValue: unref(y).ExportJson,
        "onUpdate:modelValue": L[3] || (L[3] = (k) => unref(y).ExportJson = k),
        title: "导出",
        width: "60%",
        "destroy-on-close": ""
      }, {
        default: withCtx(() => [
          createVNode$1(_sfc_main$4)
        ]),
        _: 1
      }, 8, ["modelValue"])
    ]));
  }
}), index_vue_vue_type_style_index_0_scoped_75bc782f_lang = "", index = /* @__PURE__ */ _export_sfc$1(_sfc_main$1, [["__scopeId", "data-v-75bc782f"]]);
function commonjsRequire(r) {
  throw new Error('Could not dynamically require "' + r + '". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.');
}
var mqtt = { exports: {} };
(function(r, n) {
  (function(i) {
    r.exports = i();
  })(function() {
    return function() {
      function i(o, a, u) {
        function c(p, y) {
          if (!a[p]) {
            if (!o[p]) {
              var v = typeof commonjsRequire == "function" && commonjsRequire;
              if (!y && v)
                return v(p, !0);
              if (f)
                return f(p, !0);
              var g = new Error("Cannot find module '" + p + "'");
              throw g.code = "MODULE_NOT_FOUND", g;
            }
            var _ = a[p] = { exports: {} };
            o[p][0].call(_.exports, function(b) {
              var A = o[p][1][b];
              return c(A || b);
            }, _, _.exports, i, o, a, u);
          }
          return a[p].exports;
        }
        for (var f = typeof commonjsRequire == "function" && commonjsRequire, d = 0; d < u.length; d++)
          c(u[d]);
        return c;
      }
      return i;
    }()({ 1: [function(i, o, a) {
      var u = this && this.__importDefault || function(p) {
        return p && p.__esModule ? p : { default: p };
      };
      Object.defineProperty(a, "__esModule", { value: !0 }), a.TypedEventEmitter = void 0;
      const c = u(i("events")), f = i("./shared");
      class d {
      }
      a.TypedEventEmitter = d, (0, f.applyMixin)(d, c.default);
    }, { "./shared": 17, events: 49 }], 2: [function(i, o, a) {
      (function(u, c) {
        (function() {
          var f = this && this.__createBinding || (Object.create ? function(D, Y, z, pe) {
            pe === void 0 && (pe = z);
            var ue = Object.getOwnPropertyDescriptor(Y, z);
            (!ue || ("get" in ue ? !Y.__esModule : ue.writable || ue.configurable)) && (ue = { enumerable: !0, get: function() {
              return Y[z];
            } }), Object.defineProperty(D, pe, ue);
          } : function(D, Y, z, pe) {
            pe === void 0 && (pe = z), D[pe] = Y[z];
          }), d = this && this.__setModuleDefault || (Object.create ? function(D, Y) {
            Object.defineProperty(D, "default", { enumerable: !0, value: Y });
          } : function(D, Y) {
            D.default = Y;
          }), p = this && this.__importStar || function(D) {
            if (D && D.__esModule)
              return D;
            var Y = {};
            if (D != null)
              for (var z in D)
                z !== "default" && Object.prototype.hasOwnProperty.call(D, z) && f(Y, D, z);
            return d(Y, D), Y;
          }, y = this && this.__importDefault || function(D) {
            return D && D.__esModule ? D : { default: D };
          };
          Object.defineProperty(a, "__esModule", { value: !0 });
          const v = y(i("./topic-alias-recv")), g = y(i("mqtt-packet")), _ = y(i("./default-message-id-provider")), b = i("readable-stream"), A = y(i("reinterval")), w = y(i("rfdc/default")), S = p(i("./validations")), x = y(i("debug")), T = y(i("./store")), L = y(i("./handlers")), k = i("./TypedEmitter"), M = u ? u.nextTick : (D) => {
            setTimeout(D, 0);
          }, O = c.setImmediate || ((...D) => {
            const Y = D.shift();
            M(() => {
              Y(...D);
            });
          }), ie = {
            keepalive: 60,
            reschedulePings: !0,
            protocolId: "MQTT",
            protocolVersion: 4,
            reconnectPeriod: 1e3,
            connectTimeout: 30 * 1e3,
            clean: !0,
            resubscribe: !0,
            writeCache: !0
          }, F = [
            "ECONNREFUSED",
            "EADDRINUSE",
            "ECONNRESET",
            "ENOTFOUND",
            "ETIMEDOUT"
          ];
          class re extends k.TypedEventEmitter {
            static defaultId() {
              return `mqttjs_${Math.random().toString(16).substr(2, 8)}`;
            }
            constructor(Y, z) {
              super(), this.options = z || {};
              for (const pe in ie)
                typeof this.options[pe] > "u" ? this.options[pe] = ie[pe] : this.options[pe] = z[pe];
              this.log = this.options.log || (0, x.default)("mqttjs:client"), this.noop = this._noop.bind(this), this.log("MqttClient :: options.protocol", z.protocol), this.log("MqttClient :: options.protocolVersion", z.protocolVersion), this.log("MqttClient :: options.username", z.username), this.log("MqttClient :: options.keepalive", z.keepalive), this.log("MqttClient :: options.reconnectPeriod", z.reconnectPeriod), this.log("MqttClient :: options.rejectUnauthorized", z.rejectUnauthorized), this.log("MqttClient :: options.properties.topicAliasMaximum", z.properties ? z.properties.topicAliasMaximum : void 0), this.options.clientId = typeof z.clientId == "string" ? z.clientId : re.defaultId(), this.log("MqttClient :: clientId", this.options.clientId), this.options.customHandleAcks = z.protocolVersion === 5 && z.customHandleAcks ? z.customHandleAcks : (...pe) => {
                pe[3](null, 0);
              }, this.options.writeCache || (g.default.writeToStream.cacheNumbers = !1), this.streamBuilder = Y, this.messageIdProvider = typeof this.options.messageIdProvider > "u" ? new _.default() : this.options.messageIdProvider, this.outgoingStore = z.outgoingStore || new T.default(), this.incomingStore = z.incomingStore || new T.default(), this.queueQoSZero = z.queueQoSZero === void 0 ? !0 : z.queueQoSZero, this._resubscribeTopics = {}, this.messageIdToTopic = {}, this.pingTimer = null, this.connected = !1, this.disconnecting = !1, this.reconnecting = !1, this.queue = [], this.connackTimer = null, this.reconnectTimer = null, this._storeProcessing = !1, this._packetIdsDuringStoreProcessing = {}, this._storeProcessingQueue = [], this.outgoing = {}, this._firstConnection = !0, z.properties && z.properties.topicAliasMaximum > 0 && (z.properties.topicAliasMaximum > 65535 ? this.log("MqttClient :: options.properties.topicAliasMaximum is out of range") : this.topicAliasRecv = new v.default(z.properties.topicAliasMaximum)), this.on("connect", () => {
                const { queue: pe } = this, ue = () => {
                  const Ce = pe.shift();
                  this.log("deliver :: entry %o", Ce);
                  let Fe = null;
                  if (!Ce) {
                    this._resubscribe();
                    return;
                  }
                  Fe = Ce.packet, this.log("deliver :: call _sendPacket for %o", Fe);
                  let Ie = !0;
                  Fe.messageId && Fe.messageId !== 0 && (this.messageIdProvider.register(Fe.messageId) || (Ie = !1)), Ie ? this._sendPacket(Fe, (Pt) => {
                    Ce.cb && Ce.cb(Pt), ue();
                  }) : (this.log("messageId: %d has already used. The message is skipped and removed.", Fe.messageId), ue());
                };
                this.log("connect :: sending queued packets"), ue();
              }), this.on("close", () => {
                this.log("close :: connected set to `false`"), this.connected = !1, this.log("close :: clearing connackTimer"), clearTimeout(this.connackTimer), this.log("close :: clearing ping timer"), this.pingTimer !== null && (this.pingTimer.clear(), this.pingTimer = null), this.topicAliasRecv && this.topicAliasRecv.clear(), this.log("close :: calling _setupReconnect"), this._setupReconnect();
              }), this.options.manualConnect || (this.log("MqttClient :: setting up stream"), this.connect());
            }
            handleAuth(Y, z) {
              z();
            }
            handleMessage(Y, z) {
              z();
            }
            _nextId() {
              return this.messageIdProvider.allocate();
            }
            getLastMessageId() {
              return this.messageIdProvider.getLastAllocated();
            }
            connect() {
              var Y;
              const z = new b.Writable(), pe = g.default.parser(this.options);
              let ue = null;
              const Ce = [];
              this.log("connect :: calling method to clear reconnect"), this._clearReconnect(), this.log("connect :: using streamBuilder provided to client to create stream"), this.stream = this.streamBuilder(this), pe.on("packet", (Lt) => {
                this.log("parser :: on packet push to packets array."), Ce.push(Lt);
              });
              const Fe = () => {
                this.log("work :: getting next packet in queue");
                const Lt = Ce.shift();
                if (Lt)
                  this.log("work :: packet pulled from queue"), (0, L.default)(this, Lt, Ie);
                else {
                  this.log("work :: no packets in queue");
                  const _n = ue;
                  ue = null, this.log("work :: done flag is %s", !!_n), _n && _n();
                }
              }, Ie = () => {
                if (Ce.length)
                  M(Fe);
                else {
                  const Lt = ue;
                  ue = null, Lt();
                }
              };
              z._write = (Lt, _n, In) => {
                ue = In, this.log("writable stream :: parsing buffer"), pe.parse(Lt), Fe();
              };
              const Pt = (Lt) => {
                this.log("streamErrorHandler :: error", Lt.message), F.includes(Lt.code) ? (this.log("streamErrorHandler :: emitting error"), this.emit("error", Lt)) : this.noop(Lt);
              };
              this.log("connect :: pipe stream to writable stream"), this.stream.pipe(z), this.stream.on("error", Pt), this.stream.on("close", () => {
                this.log("(%s)stream :: on close", this.options.clientId), this._flushVolatile(), this.log("stream: emit close to MqttClient"), this.emit("close");
              }), this.log("connect: sending packet `connect`");
              const xe = {
                cmd: "connect",
                protocolId: this.options.protocolId,
                protocolVersion: this.options.protocolVersion,
                clean: this.options.clean,
                clientId: this.options.clientId,
                keepalive: this.options.keepalive,
                username: this.options.username,
                password: this.options.password,
                properties: this.options.properties
              };
              if (this.options.will && (xe.will = Object.assign(Object.assign({}, this.options.will), { payload: (Y = this.options.will) === null || Y === void 0 ? void 0 : Y.payload })), this.topicAliasRecv && (xe.properties || (xe.properties = {}), this.topicAliasRecv && (xe.properties.topicAliasMaximum = this.topicAliasRecv.max)), this._writePacket(xe), pe.on("error", this.emit.bind(this, "error")), this.options.properties) {
                if (!this.options.properties.authenticationMethod && this.options.properties.authenticationData)
                  return this.end(() => this.emit("error", new Error("Packet has no Authentication Method"))), this;
                if (this.options.properties.authenticationMethod && this.options.authPacket && typeof this.options.authPacket == "object") {
                  const Lt = Object.assign({ cmd: "auth", reasonCode: 0 }, this.options.authPacket);
                  this._writePacket(Lt);
                }
              }
              return this.stream.setMaxListeners(1e3), clearTimeout(this.connackTimer), this.connackTimer = setTimeout(() => {
                this.log("!!connectTimeout hit!! Calling _cleanUp with force `true`"), this._cleanUp(!0);
              }, this.options.connectTimeout), this;
            }
            publish(Y, z, pe, ue) {
              this.log("publish :: message `%s` to topic `%s`", z, Y);
              const { options: Ce } = this;
              typeof pe == "function" && (ue = pe, pe = null), pe = pe || {}, pe = Object.assign(Object.assign({}, {
                qos: 0,
                retain: !1,
                dup: !1
              }), pe);
              const { qos: Ie, retain: Pt, dup: xe, properties: Lt, cbStorePut: _n } = pe;
              if (this._checkDisconnecting(ue))
                return this;
              const In = () => {
                let jt = 0;
                if ((Ie === 1 || Ie === 2) && (jt = this._nextId(), jt === null))
                  return this.log("No messageId left"), !1;
                const he = {
                  cmd: "publish",
                  topic: Y,
                  payload: z,
                  qos: Ie,
                  retain: Pt,
                  messageId: jt,
                  dup: xe
                };
                switch (Ce.protocolVersion === 5 && (he.properties = Lt), this.log("publish :: qos", Ie), Ie) {
                  case 1:
                  case 2:
                    this.outgoing[he.messageId] = {
                      volatile: !1,
                      cb: ue || this.noop
                    }, this.log("MqttClient:publish: packet cmd: %s", he.cmd), this._sendPacket(he, void 0, _n);
                    break;
                  default:
                    this.log("MqttClient:publish: packet cmd: %s", he.cmd), this._sendPacket(he, ue, _n);
                    break;
                }
                return !0;
              };
              return (this._storeProcessing || this._storeProcessingQueue.length > 0 || !In()) && this._storeProcessingQueue.push({
                invoke: In,
                cbStorePut: pe.cbStorePut,
                callback: ue
              }), this;
            }
            publishAsync(Y, z, pe) {
              return new Promise((ue, Ce) => {
                this.publish(Y, z, pe, (Fe, Ie) => {
                  Fe ? Ce(Fe) : ue(Ie);
                });
              });
            }
            subscribe(Y, z, pe) {
              const ue = this.options.protocolVersion;
              typeof z == "function" && (pe = z), pe = pe || this.noop;
              let Ce = !1, Fe = [];
              typeof Y == "string" ? (Y = [Y], Fe = Y) : Array.isArray(Y) ? Fe = Y : typeof Y == "object" && (Ce = Y.resubscribe, delete Y.resubscribe, Fe = Object.keys(Y));
              const Ie = S.validateTopics(Fe);
              if (Ie !== null)
                return O(pe, new Error(`Invalid topic ${Ie}`)), this;
              if (this._checkDisconnecting(pe))
                return this.log("subscribe: discconecting true"), this;
              const Pt = {
                qos: 0
              };
              ue === 5 && (Pt.nl = !1, Pt.rap = !1, Pt.rh = 0), z = Object.assign(Object.assign({}, Pt), z);
              const xe = z.properties, Lt = [], _n = (jt, he) => {
                if (he = he || z, !Object.prototype.hasOwnProperty.call(this._resubscribeTopics, jt) || this._resubscribeTopics[jt].qos < he.qos || Ce) {
                  const At = {
                    topic: jt,
                    qos: he.qos
                  };
                  ue === 5 && (At.nl = he.nl, At.rap = he.rap, At.rh = he.rh, At.properties = xe), this.log("subscribe: pushing topic `%s` and qos `%s` to subs list", At.topic, At.qos), Lt.push(At);
                }
              };
              if (Array.isArray(Y) ? Y.forEach((jt) => {
                this.log("subscribe: array topic %s", jt), _n(jt);
              }) : Object.keys(Y).forEach((jt) => {
                this.log("subscribe: object topic %s, %o", jt, Y[jt]), _n(jt, Y[jt]);
              }), !Lt.length)
                return pe(null, []), this;
              const In = () => {
                const jt = this._nextId();
                if (jt === null)
                  return this.log("No messageId left"), !1;
                const he = {
                  cmd: "subscribe",
                  subscriptions: Lt,
                  messageId: jt
                };
                if (xe && (he.properties = xe), this.options.resubscribe) {
                  this.log("subscribe :: resubscribe true");
                  const At = [];
                  Lt.forEach((kt) => {
                    if (this.options.reconnectPeriod > 0) {
                      const Cn = { qos: kt.qos };
                      ue === 5 && (Cn.nl = kt.nl || !1, Cn.rap = kt.rap || !1, Cn.rh = kt.rh || 0, Cn.properties = kt.properties), this._resubscribeTopics[kt.topic] = Cn, At.push(kt.topic);
                    }
                  }), this.messageIdToTopic[he.messageId] = At;
                }
                return this.outgoing[he.messageId] = {
                  volatile: !0,
                  cb(At, kt) {
                    if (!At) {
                      const { granted: Cn } = kt;
                      for (let ze = 0; ze < Cn.length; ze += 1)
                        Lt[ze].qos = Cn[ze];
                    }
                    pe(At, Lt);
                  }
                }, this.log("subscribe :: call _sendPacket"), this._sendPacket(he), !0;
              };
              return (this._storeProcessing || this._storeProcessingQueue.length > 0 || !In()) && this._storeProcessingQueue.push({
                invoke: In,
                callback: pe
              }), this;
            }
            subscribeAsync(Y, z) {
              return new Promise((pe, ue) => {
                this.subscribe(Y, z, (Ce, Fe) => {
                  Ce ? ue(Ce) : pe(Fe);
                });
              });
            }
            unsubscribe(Y, z, pe) {
              typeof Y == "string" && (Y = [Y]), typeof z == "function" && (pe = z), pe = pe || this.noop;
              const ue = S.validateTopics(Y);
              if (ue !== null)
                return O(pe, new Error(`Invalid topic ${ue}`)), this;
              if (this._checkDisconnecting(pe))
                return this;
              const Ce = () => {
                const Fe = this._nextId();
                if (Fe === null)
                  return this.log("No messageId left"), !1;
                const Ie = {
                  cmd: "unsubscribe",
                  messageId: Fe,
                  unsubscriptions: []
                };
                return typeof Y == "string" ? Ie.unsubscriptions = [Y] : Array.isArray(Y) && (Ie.unsubscriptions = Y), this.options.resubscribe && Ie.unsubscriptions.forEach((Pt) => {
                  delete this._resubscribeTopics[Pt];
                }), typeof z == "object" && z.properties && (Ie.properties = z.properties), this.outgoing[Ie.messageId] = {
                  volatile: !0,
                  cb: pe
                }, this.log("unsubscribe: call _sendPacket"), this._sendPacket(Ie), !0;
              };
              return (this._storeProcessing || this._storeProcessingQueue.length > 0 || !Ce()) && this._storeProcessingQueue.push({
                invoke: Ce,
                callback: pe
              }), this;
            }
            unsubscribeAsync(Y, z) {
              return new Promise((pe, ue) => {
                this.unsubscribe(Y, z, (Ce, Fe) => {
                  Ce ? ue(Ce) : pe(Fe);
                });
              });
            }
            end(Y, z, pe) {
              this.log("end :: (%s)", this.options.clientId), (Y == null || typeof Y != "boolean") && (pe = pe || z, z = Y, Y = !1), typeof z != "object" && (pe = pe || z, z = null), this.log("end :: cb? %s", !!pe), (!pe || typeof pe != "function") && (pe = this.noop);
              const ue = () => {
                this.log("end :: closeStores: closing incoming and outgoing stores"), this.disconnected = !0, this.incomingStore.close((Fe) => {
                  this.outgoingStore.close((Ie) => {
                    if (this.log("end :: closeStores: emitting end"), this.emit("end"), pe) {
                      const Pt = Fe || Ie;
                      this.log("end :: closeStores: invoking callback with args"), pe(Pt);
                    }
                  });
                }), this._deferredReconnect && this._deferredReconnect();
              }, Ce = () => {
                this.log("end :: (%s) :: finish :: calling _cleanUp with force %s", this.options.clientId, Y), this._cleanUp(Y, () => {
                  this.log("end :: finish :: calling process.nextTick on closeStores"), M(ue);
                }, z);
              };
              return this.disconnecting ? (pe(), this) : (this._clearReconnect(), this.disconnecting = !0, !Y && Object.keys(this.outgoing).length > 0 ? (this.log("end :: (%s) :: calling finish in 10ms once outgoing is empty", this.options.clientId), this.once("outgoingEmpty", setTimeout.bind(null, Ce, 10))) : (this.log("end :: (%s) :: immediately calling finish", this.options.clientId), Ce()), this);
            }
            endAsync(Y, z) {
              return new Promise((pe, ue) => {
                this.end(Y, z, (Ce) => {
                  Ce ? ue(Ce) : pe();
                });
              });
            }
            removeOutgoingMessage(Y) {
              if (this.outgoing[Y]) {
                const { cb: z } = this.outgoing[Y];
                this._removeOutgoingAndStoreMessage(Y, () => {
                  z(new Error("Message removed"));
                });
              }
              return this;
            }
            reconnect(Y) {
              this.log("client reconnect");
              const z = () => {
                Y ? (this.options.incomingStore = Y.incomingStore, this.options.outgoingStore = Y.outgoingStore) : (this.options.incomingStore = null, this.options.outgoingStore = null), this.incomingStore = this.options.incomingStore || new T.default(), this.outgoingStore = this.options.outgoingStore || new T.default(), this.disconnecting = !1, this.disconnected = !1, this._deferredReconnect = null, this._reconnect();
              };
              return this.disconnecting && !this.disconnected ? this._deferredReconnect = z : z(), this;
            }
            _flushVolatile() {
              this.outgoing && (this.log("_flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"), Object.keys(this.outgoing).forEach((Y) => {
                this.outgoing[Y].volatile && typeof this.outgoing[Y].cb == "function" && (this.outgoing[Y].cb(new Error("Connection closed")), delete this.outgoing[Y]);
              }));
            }
            _flush() {
              this.outgoing && (this.log("_flush: queue exists? %b", !!this.outgoing), Object.keys(this.outgoing).forEach((Y) => {
                typeof this.outgoing[Y].cb == "function" && (this.outgoing[Y].cb(new Error("Connection closed")), delete this.outgoing[Y]);
              }));
            }
            _removeTopicAliasAndRecoverTopicName(Y) {
              let z;
              Y.properties && (z = Y.properties.topicAlias);
              let pe = Y.topic.toString();
              if (this.log("_removeTopicAliasAndRecoverTopicName :: alias %d, topic %o", z, pe), pe.length === 0) {
                if (typeof z > "u")
                  return new Error("Unregistered Topic Alias");
                if (pe = this.topicAliasSend.getTopicByAlias(z), typeof pe > "u")
                  return new Error("Unregistered Topic Alias");
                Y.topic = pe;
              }
              z && delete Y.properties.topicAlias;
            }
            _checkDisconnecting(Y) {
              return this.disconnecting && (Y && Y !== this.noop ? Y(new Error("client disconnecting")) : this.emit("error", new Error("client disconnecting"))), this.disconnecting;
            }
            _reconnect() {
              this.log("_reconnect: emitting reconnect to client"), this.emit("reconnect"), this.connected ? (this.end(() => {
                this.connect();
              }), this.log("client already connected. disconnecting first.")) : (this.log("_reconnect: calling connect"), this.connect());
            }
            _setupReconnect() {
              !this.disconnecting && !this.reconnectTimer && this.options.reconnectPeriod > 0 ? (this.reconnecting || (this.log("_setupReconnect :: emit `offline` state"), this.emit("offline"), this.log("_setupReconnect :: set `reconnecting` to `true`"), this.reconnecting = !0), this.log("_setupReconnect :: setting reconnectTimer for %d ms", this.options.reconnectPeriod), this.reconnectTimer = setInterval(() => {
                this.log("reconnectTimer :: reconnect triggered!"), this._reconnect();
              }, this.options.reconnectPeriod)) : this.log("_setupReconnect :: doing nothing...");
            }
            _clearReconnect() {
              this.log("_clearReconnect : clearing reconnect timer"), this.reconnectTimer && (clearInterval(this.reconnectTimer), this.reconnectTimer = null);
            }
            _cleanUp(Y, z, pe = {}) {
              if (z && (this.log("_cleanUp :: done callback provided for on stream close"), this.stream.on("close", z)), this.log("_cleanUp :: forced? %s", Y), Y)
                this.options.reconnectPeriod === 0 && this.options.clean && this._flush(), this.log("_cleanUp :: (%s) :: destroying stream", this.options.clientId), this.stream.destroy();
              else {
                const ue = Object.assign({ cmd: "disconnect" }, pe);
                this.log("_cleanUp :: (%s) :: call _sendPacket with disconnect packet", this.options.clientId), this._sendPacket(ue, () => {
                  this.log("_cleanUp :: (%s) :: destroying stream", this.options.clientId), O(() => {
                    this.stream.end(() => {
                      this.log("_cleanUp :: (%s) :: stream destroyed", this.options.clientId);
                    });
                  });
                });
              }
              this.disconnecting || (this.log("_cleanUp :: client not disconnecting. Clearing and resetting reconnect."), this._clearReconnect(), this._setupReconnect()), this.pingTimer !== null && (this.log("_cleanUp :: clearing pingTimer"), this.pingTimer.clear(), this.pingTimer = null), z && !this.connected && (this.log("_cleanUp :: (%s) :: removing stream `done` callback `close` listener", this.options.clientId), this.stream.removeListener("close", z), z());
            }
            _storeAndSend(Y, z, pe) {
              this.log("storeAndSend :: store packet with cmd %s to outgoingStore", Y.cmd);
              let ue = Y, Ce;
              if (ue.cmd === "publish" && (ue = (0, w.default)(Y), Ce = this._removeTopicAliasAndRecoverTopicName(ue), Ce))
                return z && z(Ce);
              this.outgoingStore.put(ue, (Fe) => {
                if (Fe)
                  return z && z(Fe);
                pe(), this._writePacket(Y, z);
              });
            }
            _applyTopicAlias(Y) {
              if (this.options.protocolVersion === 5 && Y.cmd === "publish") {
                let z;
                Y.properties && (z = Y.properties.topicAlias);
                const pe = Y.topic.toString();
                if (this.topicAliasSend)
                  if (z) {
                    if (pe.length !== 0 && (this.log("applyTopicAlias :: register topic: %s - alias: %d", pe, z), !this.topicAliasSend.put(pe, z)))
                      return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d", pe, z), new Error("Sending Topic Alias out of range");
                  } else
                    pe.length !== 0 && (this.options.autoAssignTopicAlias ? (z = this.topicAliasSend.getAliasByTopic(pe), z ? (Y.topic = "", Y.properties = Object.assign(Object.assign({}, Y.properties), { topicAlias: z }), this.log("applyTopicAlias :: auto assign(use) topic: %s - alias: %d", pe, z)) : (z = this.topicAliasSend.getLruAlias(), this.topicAliasSend.put(pe, z), Y.properties = Object.assign(Object.assign({}, Y.properties), { topicAlias: z }), this.log("applyTopicAlias :: auto assign topic: %s - alias: %d", pe, z))) : this.options.autoUseTopicAlias && (z = this.topicAliasSend.getAliasByTopic(pe), z && (Y.topic = "", Y.properties = Object.assign(Object.assign({}, Y.properties), { topicAlias: z }), this.log("applyTopicAlias :: auto use topic: %s - alias: %d", pe, z))));
                else if (z)
                  return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d", pe, z), new Error("Sending Topic Alias out of range");
              }
            }
            _noop(Y) {
              this.log("noop ::", Y);
            }
            _writePacket(Y, z) {
              this.log("_writePacket :: packet: %O", Y), this.log("_writePacket :: emitting `packetsend`"), this.emit("packetsend", Y), this._shiftPingInterval(), this.log("_writePacket :: writing to stream");
              const pe = g.default.writeToStream(Y, this.stream, this.options);
              this.log("_writePacket :: writeToStream result %s", pe), !pe && z && z !== this.noop ? (this.log("_writePacket :: handle events on `drain` once through callback."), this.stream.once("drain", z)) : z && (this.log("_writePacket :: invoking cb"), z());
            }
            _sendPacket(Y, z, pe, ue) {
              this.log("_sendPacket :: (%s) ::  start", this.options.clientId), pe = pe || this.noop, z = z || this.noop;
              const Ce = this._applyTopicAlias(Y);
              if (Ce) {
                z(Ce);
                return;
              }
              if (!this.connected) {
                if (Y.cmd === "auth") {
                  this._writePacket(Y, z);
                  return;
                }
                this.log("_sendPacket :: client not connected. Storing packet offline."), this._storePacket(Y, z, pe);
                return;
              }
              if (ue) {
                this._writePacket(Y, z);
                return;
              }
              switch (Y.cmd) {
                case "publish":
                  break;
                case "pubrel":
                  this._storeAndSend(Y, z, pe);
                  return;
                default:
                  this._writePacket(Y, z);
                  return;
              }
              switch (Y.qos) {
                case 2:
                case 1:
                  this._storeAndSend(Y, z, pe);
                  break;
                case 0:
                default:
                  this._writePacket(Y, z);
                  break;
              }
              this.log("_sendPacket :: (%s) ::  end", this.options.clientId);
            }
            _storePacket(Y, z, pe) {
              this.log("_storePacket :: packet: %o", Y), this.log("_storePacket :: cb? %s", !!z), pe = pe || this.noop;
              let ue = Y;
              if (ue.cmd === "publish") {
                ue = (0, w.default)(Y);
                const Fe = this._removeTopicAliasAndRecoverTopicName(ue);
                if (Fe)
                  return z && z(Fe);
              }
              const Ce = ue.qos || 0;
              Ce === 0 && this.queueQoSZero || ue.cmd !== "publish" ? this.queue.push({ packet: ue, cb: z }) : Ce > 0 ? (z = this.outgoing[ue.messageId] ? this.outgoing[ue.messageId].cb : null, this.outgoingStore.put(ue, (Fe) => {
                if (Fe)
                  return z && z(Fe);
                pe();
              })) : z && z(new Error("No connection to broker"));
            }
            _setupPingTimer() {
              this.log("_setupPingTimer :: keepalive %d (seconds)", this.options.keepalive), !this.pingTimer && this.options.keepalive && (this.pingResp = !0, this.pingTimer = (0, A.default)(() => {
                this._checkPing();
              }, this.options.keepalive * 1e3));
            }
            _shiftPingInterval() {
              this.pingTimer && this.options.keepalive && this.options.reschedulePings && this.pingTimer.reschedule(this.options.keepalive * 1e3);
            }
            _checkPing() {
              this.log("_checkPing :: checking ping..."), this.pingResp ? (this.log("_checkPing :: ping response received. Clearing flag and sending `pingreq`"), this.pingResp = !1, this._sendPacket({ cmd: "pingreq" })) : (this.log("_checkPing :: calling _cleanUp with force true"), this._cleanUp(!0));
            }
            _resubscribe() {
              this.log("_resubscribe");
              const Y = Object.keys(this._resubscribeTopics);
              if (!this._firstConnection && (this.options.clean || this.options.protocolVersion >= 4 && !this.connackPacket.sessionPresent) && Y.length > 0)
                if (this.options.resubscribe)
                  if (this.options.protocolVersion === 5) {
                    this.log("_resubscribe: protocolVersion 5");
                    for (let z = 0; z < Y.length; z++) {
                      const pe = {};
                      pe[Y[z]] = this._resubscribeTopics[Y[z]], pe.resubscribe = !0, this.subscribe(pe, {
                        properties: pe[Y[z]].properties
                      });
                    }
                  } else
                    this._resubscribeTopics.resubscribe = !0, this.subscribe(this._resubscribeTopics);
                else
                  this._resubscribeTopics = {};
              this._firstConnection = !1;
            }
            _onConnect(Y) {
              if (this.disconnected) {
                this.emit("connect", Y);
                return;
              }
              this.connackPacket = Y, this.messageIdProvider.clear(), this._setupPingTimer(), this.connected = !0;
              const z = () => {
                let pe = this.outgoingStore.createStream();
                const ue = () => {
                  pe.destroy(), pe = null, this._flushStoreProcessingQueue(), Ce();
                }, Ce = () => {
                  this._storeProcessing = !1, this._packetIdsDuringStoreProcessing = {};
                };
                this.once("close", ue), pe.on("error", (Ie) => {
                  Ce(), this._flushStoreProcessingQueue(), this.removeListener("close", ue), this.emit("error", Ie);
                });
                const Fe = () => {
                  if (!pe)
                    return;
                  const Ie = pe.read(1);
                  let Pt;
                  if (!Ie) {
                    pe.once("readable", Fe);
                    return;
                  }
                  if (this._storeProcessing = !0, this._packetIdsDuringStoreProcessing[Ie.messageId]) {
                    Fe();
                    return;
                  }
                  !this.disconnecting && !this.reconnectTimer ? (Pt = this.outgoing[Ie.messageId] ? this.outgoing[Ie.messageId].cb : null, this.outgoing[Ie.messageId] = {
                    volatile: !1,
                    cb(xe, Lt) {
                      Pt && Pt(xe, Lt), Fe();
                    }
                  }, this._packetIdsDuringStoreProcessing[Ie.messageId] = !0, this.messageIdProvider.register(Ie.messageId) ? this._sendPacket(Ie, void 0, void 0, !0) : this.log("messageId: %d has already used.", Ie.messageId)) : pe.destroy && pe.destroy();
                };
                pe.on("end", () => {
                  let Ie = !0;
                  for (const Pt in this._packetIdsDuringStoreProcessing)
                    if (!this._packetIdsDuringStoreProcessing[Pt]) {
                      Ie = !1;
                      break;
                    }
                  Ie ? (Ce(), this.removeListener("close", ue), this._invokeAllStoreProcessingQueue(), this.emit("connect", Y)) : z();
                }), Fe();
              };
              z();
            }
            _invokeStoreProcessingQueue() {
              if (!this._storeProcessing && this._storeProcessingQueue.length > 0) {
                const Y = this._storeProcessingQueue[0];
                if (Y && Y.invoke())
                  return this._storeProcessingQueue.shift(), !0;
              }
              return !1;
            }
            _invokeAllStoreProcessingQueue() {
              for (; this._invokeStoreProcessingQueue(); )
                ;
            }
            _flushStoreProcessingQueue() {
              for (const Y of this._storeProcessingQueue)
                Y.cbStorePut && Y.cbStorePut(new Error("Connection closed")), Y.callback && Y.callback(new Error("Connection closed"));
              this._storeProcessingQueue.splice(0);
            }
            _removeOutgoingAndStoreMessage(Y, z) {
              delete this.outgoing[Y], this.outgoingStore.del({ messageId: Y }, (pe, ue) => {
                z(pe, ue), this.messageIdProvider.deallocate(Y), this._invokeStoreProcessingQueue();
              });
            }
          }
          a.default = re;
        }).call(this);
      }).call(this, i("_process"), typeof commonjsGlobal < "u" ? commonjsGlobal : typeof self < "u" ? self : typeof window < "u" ? window : {});
    }, { "./TypedEmitter": 1, "./default-message-id-provider": 9, "./handlers": 13, "./store": 18, "./topic-alias-recv": 19, "./validations": 22, _process: 102, debug: 30, "mqtt-packet": 75, "readable-stream": 125, reinterval: 131, "rfdc/default": 132 }], 3: [function(i, o, a) {
      var u = this && this.__importDefault || function(x) {
        return x && x.__esModule ? x : { default: x };
      };
      Object.defineProperty(a, "__esModule", { value: !0 });
      const c = i("buffer"), f = i("readable-stream"), d = u(i("duplexify"));
      let p, y, v, g = !1;
      function _() {
        const x = new f.Transform();
        return x._write = (T, L, k) => {
          p.sendSocketMessage({
            data: T.buffer,
            success() {
              k();
            },
            fail() {
              k(new Error());
            }
          });
        }, x._flush = (T) => {
          p.closeSocket({
            success() {
              T();
            }
          });
        }, x;
      }
      function b(x) {
        x.hostname || (x.hostname = "localhost"), x.path || (x.path = "/"), x.wsOptions || (x.wsOptions = {});
      }
      function A(x, T) {
        const L = x.protocol === "alis" ? "wss" : "ws";
        let k = `${L}://${x.hostname}${x.path}`;
        return x.port && x.port !== 80 && x.port !== 443 && (k = `${L}://${x.hostname}:${x.port}${x.path}`), typeof x.transformWsUrl == "function" && (k = x.transformWsUrl(k, x, T)), k;
      }
      function w() {
        g || (g = !0, p.onSocketOpen(() => {
          v.setReadable(y), v.setWritable(y), v.emit("connect");
        }), p.onSocketMessage((x) => {
          if (typeof x.data == "string") {
            const T = c.Buffer.from(x.data, "base64");
            y.push(T);
          } else {
            const T = new FileReader();
            T.addEventListener("load", () => {
              let L = T.result;
              L instanceof ArrayBuffer ? L = c.Buffer.from(L) : L = c.Buffer.from(L, "utf8"), y.push(L);
            }), T.readAsArrayBuffer(x.data);
          }
        }), p.onSocketClose(() => {
          v.end(), v.destroy();
        }), p.onSocketError((x) => {
          v.destroy(x);
        }));
      }
      const S = (x, T) => {
        if (T.hostname = T.hostname || T.host, !T.hostname)
          throw new Error("Could not determine host. Specify host manually.");
        const L = T.protocolId === "MQIsdp" && T.protocolVersion === 3 ? "mqttv3.1" : "mqtt";
        b(T);
        const k = A(T, x);
        return p = T.my, p.connectSocket({
          url: k,
          protocols: L
        }), y = _(), v = d.default.obj(), w(), v;
      };
      a.default = S;
    }, { buffer: 29, duplexify: 32, "readable-stream": 125 }], 4: [function(i, o, a) {
      var u = this && this.__importDefault || function(A) {
        return A && A.__esModule ? A : { default: A };
      };
      Object.defineProperty(a, "__esModule", { value: !0 }), a.connectAsync = void 0;
      const c = u(i("debug")), f = u(i("url")), d = u(i("../client")), p = u(i("../is-browser")), y = (0, c.default)("mqttjs"), v = {};
      p.default ? (v.wx = i("./wx").default, v.wxs = i("./wx").default, v.ali = i("./ali").default, v.alis = i("./ali").default) : (v.mqtt = i("./tcp").default, v.tcp = i("./tcp").default, v.ssl = i("./tls").default, v.tls = v.ssl, v.mqtts = i("./tls").default), v.ws = i("./ws").default, v.wss = i("./ws").default;
      function g(A) {
        let w;
        A.auth && (w = A.auth.match(/^(.+):(.+)$/), w ? (A.username = w[1], A.password = w[2]) : A.username = A.auth);
      }
      function _(A, w) {
        if (y("connecting to an MQTT broker..."), typeof A == "object" && !w && (w = A, A = ""), w = w || {}, A && typeof A == "string") {
          const T = f.default.parse(A, !0);
          if (T.port != null && (T.port = Number(T.port)), w = Object.assign(Object.assign({}, T), w), w.protocol === null)
            throw new Error("Missing protocol");
          w.protocol = w.protocol.replace(/:$/, "");
        }
        if (g(w), w.query && typeof w.query.clientId == "string" && (w.clientId = w.query.clientId), w.cert && w.key)
          if (w.protocol) {
            if (["mqtts", "wss", "wxs", "alis"].indexOf(w.protocol) === -1)
              switch (w.protocol) {
                case "mqtt":
                  w.protocol = "mqtts";
                  break;
                case "ws":
                  w.protocol = "wss";
                  break;
                case "wx":
                  w.protocol = "wxs";
                  break;
                case "ali":
                  w.protocol = "alis";
                  break;
                default:
                  throw new Error(`Unknown protocol for secure connection: "${w.protocol}"!`);
              }
          } else
            throw new Error("Missing secure protocol key");
        if (!v[w.protocol]) {
          const T = ["mqtts", "wss"].indexOf(w.protocol) !== -1;
          w.protocol = [
            "mqtt",
            "mqtts",
            "ws",
            "wss",
            "wx",
            "wxs",
            "ali",
            "alis"
          ].filter((L, k) => T && k % 2 === 0 ? !1 : typeof v[L] == "function")[0];
        }
        if (w.clean === !1 && !w.clientId)
          throw new Error("Missing clientId for unclean clients");
        w.protocol && (w.defaultProtocol = w.protocol);
        function S(T) {
          return w.servers && ((!T._reconnectCount || T._reconnectCount === w.servers.length) && (T._reconnectCount = 0), w.host = w.servers[T._reconnectCount].host, w.port = w.servers[T._reconnectCount].port, w.protocol = w.servers[T._reconnectCount].protocol ? w.servers[T._reconnectCount].protocol : w.defaultProtocol, w.hostname = w.host, T._reconnectCount++), y("calling streambuilder for", w.protocol), v[w.protocol](T, w);
        }
        const x = new d.default(S, w);
        return x.on("error", () => {
        }), x;
      }
      function b(A, w, S = !0) {
        return new Promise((x, T) => {
          const L = _(A, w), k = {
            connect: (O) => {
              M(), x(L);
            },
            end: () => {
              M(), x(L);
            },
            error: (O) => {
              M(), L.end(), T(O);
            }
          };
          S === !1 && (k.close = () => {
            k.error(new Error("Couldn't connect to server"));
          });
          function M() {
            Object.keys(k).forEach((O) => {
              L.off(O, k[O]);
            });
          }
          Object.keys(k).forEach((O) => {
            L.on(O, k[O]);
          });
        });
      }
      a.connectAsync = b, a.default = _;
    }, { "../client": 2, "../is-browser": 16, "./ali": 3, "./tcp": 5, "./tls": 6, "./ws": 7, "./wx": 8, debug: 30, url: 137 }], 5: [function(i, o, a) {
      var u = this && this.__importDefault || function(y) {
        return y && y.__esModule ? y : { default: y };
      };
      Object.defineProperty(a, "__esModule", { value: !0 });
      const c = u(i("net")), d = (0, u(i("debug")).default)("mqttjs:tcp"), p = (y, v) => {
        v.port = v.port || 1883, v.hostname = v.hostname || v.host || "localhost";
        const { port: g } = v, _ = v.hostname;
        return d("port %d and host %s", g, _), c.default.createConnection(g, _);
      };
      a.default = p;
    }, { debug: 30, net: 26 }], 6: [function(i, o, a) {
      var u = this && this.__importDefault || function(v) {
        return v && v.__esModule ? v : { default: v };
      };
      Object.defineProperty(a, "__esModule", { value: !0 });
      const c = u(i("tls")), f = u(i("net")), p = (0, u(i("debug")).default)("mqttjs:tls"), y = (v, g) => {
        g.port = g.port || 8883, g.host = g.hostname || g.host || "localhost", f.default.isIP(g.host) === 0 && (g.servername = g.host), g.rejectUnauthorized = g.rejectUnauthorized !== !1, delete g.path, p("port %d host %s rejectUnauthorized %b", g.port, g.host, g.rejectUnauthorized);
        const _ = c.default.connect(g);
        _.on("secureConnect", () => {
          g.rejectUnauthorized && !_.authorized ? _.emit("error", new Error("TLS not authorized")) : _.removeListener("error", b);
        });
        function b(A) {
          g.rejectUnauthorized && v.emit("error", A), _.end();
        }
        return _.on("error", b), _;
      };
      a.default = y;
    }, { debug: 30, net: 26, tls: 26 }], 7: [function(i, o, a) {
      var u = this && this.__importDefault || function(k) {
        return k && k.__esModule ? k : { default: k };
      };
      Object.defineProperty(a, "__esModule", { value: !0 });
      const c = i("buffer"), f = u(i("ws")), d = u(i("debug")), p = u(i("duplexify")), y = i("readable-stream"), v = u(i("../is-browser")), g = (0, d.default)("mqttjs:ws"), _ = [
        "rejectUnauthorized",
        "ca",
        "cert",
        "key",
        "pfx",
        "passphrase"
      ];
      function b(k, M) {
        let O = `${k.protocol}://${k.hostname}:${k.port}${k.path}`;
        return typeof k.transformWsUrl == "function" && (O = k.transformWsUrl(O, k, M)), O;
      }
      function A(k) {
        const M = k;
        return k.hostname || (M.hostname = "localhost"), k.port || (k.protocol === "wss" ? M.port = 443 : M.port = 80), k.path || (M.path = "/"), k.wsOptions || (M.wsOptions = {}), !v.default && k.protocol === "wss" && _.forEach((O) => {
          Object.prototype.hasOwnProperty.call(k, O) && !Object.prototype.hasOwnProperty.call(k.wsOptions, O) && (M.wsOptions[O] = k[O]);
        }), M;
      }
      function w(k) {
        const M = A(k);
        if (M.hostname || (M.hostname = M.host), !M.hostname) {
          if (typeof document > "u")
            throw new Error("Could not determine host. Specify host manually.");
          const O = new URL(document.URL);
          M.hostname = O.hostname, M.port || (M.port = Number(O.port));
        }
        return M.objectMode === void 0 && (M.objectMode = !(M.binary === !0 || M.binary === void 0)), M;
      }
      function S(k, M, O) {
        g("createWebSocket"), g(`protocol: ${O.protocolId} ${O.protocolVersion}`);
        const ie = O.protocolId === "MQIsdp" && O.protocolVersion === 3 ? "mqttv3.1" : "mqtt";
        g(`creating new Websocket for url: ${M} and protocol: ${ie}`);
        let F;
        return O.createWebsocket ? F = O.createWebsocket(M, [ie], O) : F = new f.default(M, [ie], O.wsOptions), F;
      }
      function x(k, M) {
        const O = M.protocolId === "MQIsdp" && M.protocolVersion === 3 ? "mqttv3.1" : "mqtt", ie = b(M, k);
        let F;
        return M.createWebsocket ? F = M.createWebsocket(ie, [O], M) : F = new WebSocket(ie, [O]), F.binaryType = "arraybuffer", F;
      }
      const T = (k, M) => {
        g("streamBuilder");
        const O = A(M), ie = b(O, k), F = S(k, ie, O), re = f.default.createWebSocketStream(F, O.wsOptions);
        return re.url = ie, F.on("close", () => {
          re.destroy();
        }), re;
      }, L = (k, M) => {
        g("browserStreamBuilder");
        let O;
        const F = w(M).browserBufferSize || 1024 * 512, re = M.browserBufferTimeout || 1e3, D = !M.objectMode, Y = x(k, M), z = ue(M, Lt, _n);
        M.objectMode || (z._writev = xe), z.on("close", () => {
          Y.close();
        });
        const pe = typeof Y.addEventListener < "u";
        Y.readyState === Y.OPEN ? O = z : (O = (0, p.default)(void 0, void 0, M), M.objectMode || (O._writev = xe), pe ? Y.addEventListener("open", Ce) : Y.onopen = Ce), O.socket = Y, pe ? (Y.addEventListener("close", Fe), Y.addEventListener("error", Ie), Y.addEventListener("message", Pt)) : (Y.onclose = Fe, Y.onerror = Ie, Y.onmessage = Pt);
        function ue(In, jt, he) {
          const At = new y.Transform({
            objectMode: In.objectMode
          });
          return At._write = jt, At._flush = he, At;
        }
        function Ce() {
          O.setReadable(z), O.setWritable(z), O.emit("connect");
        }
        function Fe() {
          O.end(), O.destroy();
        }
        function Ie(In) {
          O.destroy(In);
        }
        function Pt(In) {
          let { data: jt } = In;
          jt instanceof ArrayBuffer ? jt = c.Buffer.from(jt) : jt = c.Buffer.from(jt, "utf8"), z.push(jt);
        }
        function xe(In, jt) {
          const he = new Array(In.length);
          for (let At = 0; At < In.length; At++)
            typeof In[At].chunk == "string" ? he[At] = c.Buffer.from(In[At], "utf8") : he[At] = In[At].chunk;
          this._write(c.Buffer.concat(he), "binary", jt);
        }
        function Lt(In, jt, he) {
          Y.bufferedAmount > F && setTimeout(Lt, re, In, jt, he), D && typeof In == "string" && (In = c.Buffer.from(In, "utf8"));
          try {
            Y.send(In);
          } catch (At) {
            return he(At);
          }
          he();
        }
        function _n(In) {
          Y.close(), In();
        }
        return O;
      };
      a.default = v.default ? L : T;
    }, { "../is-browser": 16, buffer: 29, debug: 30, duplexify: 32, "readable-stream": 125, ws: 141 }], 8: [function(i, o, a) {
      var u = this && this.__importDefault || function(S) {
        return S && S.__esModule ? S : { default: S };
      };
      Object.defineProperty(a, "__esModule", { value: !0 });
      const c = i("buffer"), f = i("readable-stream"), d = u(i("duplexify"));
      let p, y, v;
      function g() {
        const S = new f.Transform();
        return S._write = (x, T, L) => {
          p.send({
            data: x.buffer,
            success() {
              L();
            },
            fail(k) {
              L(new Error(k));
            }
          });
        }, S._flush = (x) => {
          p.close({
            success() {
              x();
            }
          });
        }, S;
      }
      function _(S) {
        S.hostname || (S.hostname = "localhost"), S.path || (S.path = "/"), S.wsOptions || (S.wsOptions = {});
      }
      function b(S, x) {
        const T = S.protocol === "wxs" ? "wss" : "ws";
        let L = `${T}://${S.hostname}${S.path}`;
        return S.port && S.port !== 80 && S.port !== 443 && (L = `${T}://${S.hostname}:${S.port}${S.path}`), typeof S.transformWsUrl == "function" && (L = S.transformWsUrl(L, S, x)), L;
      }
      function A() {
        p.onOpen(() => {
          v.setReadable(y), v.setWritable(y), v.emit("connect");
        }), p.onMessage((S) => {
          let { data: x } = S;
          x instanceof ArrayBuffer ? x = c.Buffer.from(x) : x = c.Buffer.from(x, "utf8"), y.push(x);
        }), p.onClose(() => {
          v.emit("close"), v.end(), v.destroy();
        }), p.onError((S) => {
          v.destroy(new Error(S.errMsg));
        });
      }
      const w = (S, x) => {
        if (x.hostname = x.hostname || x.host, !x.hostname)
          throw new Error("Could not determine host. Specify host manually.");
        const T = x.protocolId === "MQIsdp" && x.protocolVersion === 3 ? "mqttv3.1" : "mqtt";
        _(x);
        const L = b(x, S);
        p = wx.connectSocket({
          url: L,
          protocols: [T]
        }), y = g(), v = d.default.obj(), v._destroy = (M, O) => {
          p.close({
            success() {
              O && O(M);
            }
          });
        };
        const k = v.destroy;
        return v.destroy = () => {
          v.destroy = k, setTimeout(() => {
            p.close({
              fail() {
                v._destroy(new Error());
              }
            });
          }, 0);
        }, A(), v;
      };
      a.default = w;
    }, { buffer: 29, duplexify: 32, "readable-stream": 125 }], 9: [function(i, o, a) {
      Object.defineProperty(a, "__esModule", { value: !0 });
      class u {
        constructor() {
          this.nextId = Math.max(1, Math.floor(Math.random() * 65535));
        }
        allocate() {
          const f = this.nextId++;
          return this.nextId === 65536 && (this.nextId = 1), f;
        }
        getLastAllocated() {
          return this.nextId === 1 ? 65535 : this.nextId - 1;
        }
        register(f) {
          return !0;
        }
        deallocate(f) {
        }
        clear() {
        }
      }
      a.default = u;
    }, {}], 10: [function(i, o, a) {
      Object.defineProperty(a, "__esModule", { value: !0 }), a.ReasonCodes = void 0, a.ReasonCodes = {
        0: "",
        1: "Unacceptable protocol version",
        2: "Identifier rejected",
        3: "Server unavailable",
        4: "Bad username or password",
        5: "Not authorized",
        16: "No matching subscribers",
        17: "No subscription existed",
        128: "Unspecified error",
        129: "Malformed Packet",
        130: "Protocol Error",
        131: "Implementation specific error",
        132: "Unsupported Protocol Version",
        133: "Client Identifier not valid",
        134: "Bad User Name or Password",
        135: "Not authorized",
        136: "Server unavailable",
        137: "Server busy",
        138: "Banned",
        139: "Server shutting down",
        140: "Bad authentication method",
        141: "Keep Alive timeout",
        142: "Session taken over",
        143: "Topic Filter invalid",
        144: "Topic Name invalid",
        145: "Packet identifier in use",
        146: "Packet Identifier not found",
        147: "Receive Maximum exceeded",
        148: "Topic Alias invalid",
        149: "Packet too large",
        150: "Message rate too high",
        151: "Quota exceeded",
        152: "Administrative action",
        153: "Payload format invalid",
        154: "Retain not supported",
        155: "QoS not supported",
        156: "Use another server",
        157: "Server moved",
        158: "Shared Subscriptions not supported",
        159: "Connection rate exceeded",
        160: "Maximum connect time",
        161: "Subscription Identifiers not supported",
        162: "Wildcard Subscriptions not supported"
      };
      const u = (c, f) => {
        const { messageId: d } = f, p = f.cmd;
        let y = null;
        const v = c.outgoing[d] ? c.outgoing[d].cb : null;
        let g;
        if (!v) {
          c.log("_handleAck :: Server sent an ack in error. Ignoring.");
          return;
        }
        switch (c.log("_handleAck :: packet type", p), p) {
          case "pubcomp":
          case "puback": {
            const _ = f.reasonCode;
            _ && _ > 0 && _ !== 16 ? (g = new Error(`Publish error: ${a.ReasonCodes[_]}`), g.code = _, c._removeOutgoingAndStoreMessage(d, () => {
              v(g, f);
            })) : c._removeOutgoingAndStoreMessage(d, v);
            break;
          }
          case "pubrec": {
            y = {
              cmd: "pubrel",
              qos: 2,
              messageId: d
            };
            const _ = f.reasonCode;
            _ && _ > 0 && _ !== 16 ? (g = new Error(`Publish error: ${a.ReasonCodes[_]}`), g.code = _, c._removeOutgoingAndStoreMessage(d, () => {
              v(g, f);
            })) : c._sendPacket(y);
            break;
          }
          case "suback": {
            delete c.outgoing[d], c.messageIdProvider.deallocate(d);
            const _ = f.granted;
            for (let b = 0; b < _.length; b++)
              if (_[b] & 128) {
                const A = c.messageIdToTopic[d];
                A && A.forEach((w) => {
                  delete c._resubscribeTopics[w];
                });
              }
            delete c.messageIdToTopic[d], c._invokeStoreProcessingQueue(), v(null, f);
            break;
          }
          case "unsuback": {
            delete c.outgoing[d], c.messageIdProvider.deallocate(d), c._invokeStoreProcessingQueue(), v(null);
            break;
          }
          default:
            c.emit("error", new Error("unrecognized packet type"));
        }
        c.disconnecting && Object.keys(c.outgoing).length === 0 && c.emit("outgoingEmpty");
      };
      a.default = u;
    }, {}], 11: [function(i, o, a) {
      Object.defineProperty(a, "__esModule", { value: !0 });
      const u = i("../shared"), c = i("./ack"), f = (d, p) => {
        const { options: y } = d, v = y.protocolVersion, g = v === 5 ? p.reasonCode : p.returnCode;
        if (v !== 5) {
          const _ = new u.ErrorWithReasonCode(`Protocol error: Auth packets are only supported in MQTT 5. Your version:${v}`, g);
          d.emit("error", _);
          return;
        }
        d.handleAuth(p, (_, b) => {
          if (_) {
            d.emit("error", _);
            return;
          }
          if (g === 24)
            d.reconnecting = !1, d._sendPacket(b);
          else {
            const A = new u.ErrorWithReasonCode(`Connection refused: ${c.ReasonCodes[g]}`, g);
            d.emit("error", A);
          }
        });
      };
      a.default = f;
    }, { "../shared": 17, "./ack": 10 }], 12: [function(i, o, a) {
      var u = this && this.__importDefault || function(y) {
        return y && y.__esModule ? y : { default: y };
      };
      Object.defineProperty(a, "__esModule", { value: !0 });
      const c = i("./ack"), f = u(i("../topic-alias-send")), d = i("../shared"), p = (y, v) => {
        y.log("_handleConnack");
        const { options: g } = y, b = g.protocolVersion === 5 ? v.reasonCode : v.returnCode;
        if (clearTimeout(y.connackTimer), delete y.topicAliasSend, v.properties) {
          if (v.properties.topicAliasMaximum) {
            if (v.properties.topicAliasMaximum > 65535) {
              y.emit("error", new Error("topicAliasMaximum from broker is out of range"));
              return;
            }
            v.properties.topicAliasMaximum > 0 && (y.topicAliasSend = new f.default(v.properties.topicAliasMaximum));
          }
          v.properties.serverKeepAlive && g.keepalive && (g.keepalive = v.properties.serverKeepAlive, y._shiftPingInterval()), v.properties.maximumPacketSize && (g.properties || (g.properties = {}), g.properties.maximumPacketSize = v.properties.maximumPacketSize);
        }
        if (b === 0)
          y.reconnecting = !1, y._onConnect(v);
        else if (b > 0) {
          const A = new d.ErrorWithReasonCode(`Connection refused: ${c.ReasonCodes[b]}`, b);
          y.emit("error", A);
        }
      };
      a.default = p;
    }, { "../shared": 17, "../topic-alias-send": 20, "./ack": 10 }], 13: [function(i, o, a) {
      var u = this && this.__importDefault || function(g) {
        return g && g.__esModule ? g : { default: g };
      };
      Object.defineProperty(a, "__esModule", { value: !0 });
      const c = u(i("./publish")), f = u(i("./auth")), d = u(i("./connack")), p = u(i("./ack")), y = u(i("./pubrel")), v = (g, _, b) => {
        const { options: A } = g;
        if (A.protocolVersion === 5 && A.properties && A.properties.maximumPacketSize && A.properties.maximumPacketSize < _.length)
          return g.emit("error", new Error(`exceeding packets size ${_.cmd}`)), g.end({
            reasonCode: 149,
            properties: { reasonString: "Maximum packet size was exceeded" }
          }), g;
        switch (g.log("_handlePacket :: emitting packetreceive"), g.emit("packetreceive", _), _.cmd) {
          case "publish":
            (0, c.default)(g, _, b);
            break;
          case "puback":
          case "pubrec":
          case "pubcomp":
          case "suback":
          case "unsuback":
            (0, p.default)(g, _), b();
            break;
          case "pubrel":
            (0, y.default)(g, _, b);
            break;
          case "connack":
            (0, d.default)(g, _), b();
            break;
          case "auth":
            (0, f.default)(g, _), b();
            break;
          case "pingresp":
            g.pingResp = !0, b();
            break;
          case "disconnect":
            g.emit("disconnect", _), b();
            break;
          default:
            g.log("_handlePacket :: unknown command"), b();
            break;
        }
      };
      a.default = v;
    }, { "./ack": 10, "./auth": 11, "./connack": 12, "./publish": 14, "./pubrel": 15 }], 14: [function(i, o, a) {
      Object.defineProperty(a, "__esModule", { value: !0 });
      const u = [0, 16, 128, 131, 135, 144, 145, 151, 153], c = (f, d, p) => {
        f.log("handlePublish: packet %o", d), p = typeof p < "u" ? p : f.noop;
        let y = d.topic.toString();
        const v = d.payload, { qos: g } = d, { messageId: _ } = d, { options: b } = f;
        if (f.options.protocolVersion === 5) {
          let A;
          if (d.properties && (A = d.properties.topicAlias), typeof A < "u")
            if (y.length === 0)
              if (A > 0 && A <= 65535) {
                const w = f.topicAliasRecv.getTopicByAlias(A);
                if (w)
                  y = w, f.log("handlePublish :: topic complemented by alias. topic: %s - alias: %d", y, A);
                else {
                  f.log("handlePublish :: unregistered topic alias. alias: %d", A), f.emit("error", new Error("Received unregistered Topic Alias"));
                  return;
                }
              } else {
                f.log("handlePublish :: topic alias out of range. alias: %d", A), f.emit("error", new Error("Received Topic Alias is out of range"));
                return;
              }
            else if (f.topicAliasRecv.put(y, A))
              f.log("handlePublish :: registered topic: %s - alias: %d", y, A);
            else {
              f.log("handlePublish :: topic alias out of range. alias: %d", A), f.emit("error", new Error("Received Topic Alias is out of range"));
              return;
            }
        }
        switch (f.log("handlePublish: qos %d", g), g) {
          case 2: {
            b.customHandleAcks(y, v, d, (A, w) => {
              if (typeof A == "number" && (w = A, A = null), A)
                return f.emit("error", A);
              if (u.indexOf(w) === -1)
                return f.emit("error", new Error("Wrong reason code for pubrec"));
              w ? f._sendPacket({ cmd: "pubrec", messageId: _, reasonCode: w }, p) : f.incomingStore.put(d, () => {
                f._sendPacket({ cmd: "pubrec", messageId: _ }, p);
              });
            });
            break;
          }
          case 1: {
            b.customHandleAcks(y, v, d, (A, w) => {
              if (typeof A == "number" && (w = A, A = null), A)
                return f.emit("error", A);
              if (u.indexOf(w) === -1)
                return f.emit("error", new Error("Wrong reason code for puback"));
              w || f.emit("message", y, v, d), f.handleMessage(d, (S) => {
                if (S)
                  return p && p(S);
                f._sendPacket({ cmd: "puback", messageId: _, reasonCode: w }, p);
              });
            });
            break;
          }
          case 0:
            f.emit("message", y, v, d), f.handleMessage(d, p);
            break;
          default:
            f.log("handlePublish: unknown QoS. Doing nothing.");
            break;
        }
      };
      a.default = c;
    }, {}], 15: [function(i, o, a) {
      Object.defineProperty(a, "__esModule", { value: !0 });
      const u = (c, f, d) => {
        c.log("handling pubrel packet");
        const p = typeof d < "u" ? d : c.noop, { messageId: y } = f, v = { cmd: "pubcomp", messageId: y };
        c.incomingStore.get(f, (g, _) => {
          g ? c._sendPacket(v, p) : (c.emit("message", _.topic, _.payload, _), c.handleMessage(_, (b) => {
            if (b)
              return p(b);
            c.incomingStore.del(_, c.noop), c._sendPacket(v, p);
          }));
        });
      };
      a.default = u;
    }, {}], 16: [function(i, o, a) {
      Object.defineProperty(a, "__esModule", { value: !0 });
      const u = typeof window < "u" && typeof window.document < "u" || typeof self < "u" && typeof self.postMessage == "function";
      a.default = u;
    }, {}], 17: [function(i, o, a) {
      Object.defineProperty(a, "__esModule", { value: !0 }), a.applyMixin = a.ErrorWithReasonCode = void 0;
      class u extends Error {
        constructor(d, p) {
          super(d), this.code = p, Object.setPrototypeOf(this, u.prototype), Object.getPrototypeOf(this).name = "ErrorWithReasonCode";
        }
      }
      a.ErrorWithReasonCode = u;
      function c(f, d, p = !1) {
        var y;
        const v = [d];
        for (; ; ) {
          const g = v[0], _ = Object.getPrototypeOf(g);
          if (_ != null && _.prototype)
            v.unshift(_);
          else
            break;
        }
        for (const g of v)
          for (const _ of Object.getOwnPropertyNames(g.prototype))
            (p || _ !== "constructor") && Object.defineProperty(f.prototype, _, (y = Object.getOwnPropertyDescriptor(g.prototype, _)) !== null && y !== void 0 ? y : /* @__PURE__ */ Object.create(null));
      }
      a.applyMixin = c;
    }, {}], 18: [function(i, o, a) {
      Object.defineProperty(a, "__esModule", { value: !0 });
      const u = i("readable-stream"), c = { objectMode: !0 }, f = {
        clean: !0
      };
      class d {
        constructor(y) {
          this.options = y || {}, this.options = Object.assign(Object.assign({}, f), y), this._inflights = /* @__PURE__ */ new Map();
        }
        put(y, v) {
          return this._inflights.set(y.messageId, y), v && v(), this;
        }
        createStream() {
          const y = new u.Readable(c), v = [];
          let g = !1, _ = 0;
          return this._inflights.forEach((b, A) => {
            v.push(b);
          }), y._read = () => {
            !g && _ < v.length ? y.push(v[_++]) : y.push(null);
          }, y.destroy = (b) => {
            if (!g)
              return g = !0, setTimeout(() => {
                y.emit("close");
              }, 0), y;
          }, y;
        }
        del(y, v) {
          const g = this._inflights.get(y.messageId);
          return g ? (this._inflights.delete(y.messageId), v(null, g)) : v && v(new Error("missing packet")), this;
        }
        get(y, v) {
          const g = this._inflights.get(y.messageId);
          return g ? v(null, g) : v && v(new Error("missing packet")), this;
        }
        close(y) {
          this.options.clean && (this._inflights = null), y && y();
        }
      }
      a.default = d;
    }, { "readable-stream": 125 }], 19: [function(i, o, a) {
      Object.defineProperty(a, "__esModule", { value: !0 });
      class u {
        constructor(f) {
          this.aliasToTopic = {}, this.max = f;
        }
        put(f, d) {
          return d === 0 || d > this.max ? !1 : (this.aliasToTopic[d] = f, this.length = Object.keys(this.aliasToTopic).length, !0);
        }
        getTopicByAlias(f) {
          return this.aliasToTopic[f];
        }
        clear() {
          this.aliasToTopic = {};
        }
      }
      a.default = u;
    }, {}], 20: [function(i, o, a) {
      var u = this && this.__importDefault || function(p) {
        return p && p.__esModule ? p : { default: p };
      };
      Object.defineProperty(a, "__esModule", { value: !0 });
      const c = u(i("lru-cache")), f = i("number-allocator");
      class d {
        constructor(y) {
          y > 0 && (this.aliasToTopic = new c.default({ max: y }), this.topicToAlias = {}, this.numberAllocator = new f.NumberAllocator(1, y), this.max = y, this.length = 0);
        }
        put(y, v) {
          if (v === 0 || v > this.max)
            return !1;
          const g = this.aliasToTopic.get(v);
          return g && delete this.topicToAlias[g], this.aliasToTopic.set(v, y), this.topicToAlias[y] = v, this.numberAllocator.use(v), this.length = this.aliasToTopic.size, !0;
        }
        getTopicByAlias(y) {
          return this.aliasToTopic.get(y);
        }
        getAliasByTopic(y) {
          const v = this.topicToAlias[y];
          return typeof v < "u" && this.aliasToTopic.get(v), v;
        }
        clear() {
          this.aliasToTopic.clear(), this.topicToAlias = {}, this.numberAllocator.clear(), this.length = 0;
        }
        getLruAlias() {
          const y = this.numberAllocator.firstVacant();
          return y || [...this.aliasToTopic.keys()][this.aliasToTopic.size - 1];
        }
      }
      a.default = d;
    }, { "lru-cache": 72, "number-allocator": 98 }], 21: [function(i, o, a) {
      Object.defineProperty(a, "__esModule", { value: !0 });
      const u = i("number-allocator");
      class c {
        constructor() {
          this.numberAllocator = new u.NumberAllocator(1, 65535);
        }
        allocate() {
          return this.lastId = this.numberAllocator.alloc(), this.lastId;
        }
        getLastAllocated() {
          return this.lastId;
        }
        register(d) {
          return this.numberAllocator.use(d);
        }
        deallocate(d) {
          this.numberAllocator.free(d);
        }
        clear() {
          this.numberAllocator.clear();
        }
      }
      a.default = c;
    }, { "number-allocator": 98 }], 22: [function(i, o, a) {
      Object.defineProperty(a, "__esModule", { value: !0 }), a.validateTopics = a.validateTopic = void 0;
      function u(f) {
        const d = f.split("/");
        for (let p = 0; p < d.length; p++)
          if (d[p] !== "+") {
            if (d[p] === "#")
              return p === d.length - 1;
            if (d[p].indexOf("+") !== -1 || d[p].indexOf("#") !== -1)
              return !1;
          }
        return !0;
      }
      a.validateTopic = u;
      function c(f) {
        if (f.length === 0)
          return "empty_topic_list";
        for (let d = 0; d < f.length; d++)
          if (!u(f[d]))
            return f[d];
        return null;
      }
      a.validateTopics = c;
    }, {}], 23: [function(i, o, a) {
      var u = this && this.__createBinding || (Object.create ? function(w, S, x, T) {
        T === void 0 && (T = x);
        var L = Object.getOwnPropertyDescriptor(S, x);
        (!L || ("get" in L ? !S.__esModule : L.writable || L.configurable)) && (L = { enumerable: !0, get: function() {
          return S[x];
        } }), Object.defineProperty(w, T, L);
      } : function(w, S, x, T) {
        T === void 0 && (T = x), w[T] = S[x];
      }), c = this && this.__setModuleDefault || (Object.create ? function(w, S) {
        Object.defineProperty(w, "default", { enumerable: !0, value: S });
      } : function(w, S) {
        w.default = S;
      }), f = this && this.__importStar || function(w) {
        if (w && w.__esModule)
          return w;
        var S = {};
        if (w != null)
          for (var x in w)
            x !== "default" && Object.prototype.hasOwnProperty.call(w, x) && u(S, w, x);
        return c(S, w), S;
      }, d = this && this.__exportStar || function(w, S) {
        for (var x in w)
          x !== "default" && !Object.prototype.hasOwnProperty.call(S, x) && u(S, w, x);
      }, p = this && this.__importDefault || function(w) {
        return w && w.__esModule ? w : { default: w };
      };
      Object.defineProperty(a, "__esModule", { value: !0 }), a.ReasonCodes = a.UniqueMessageIdProvider = a.DefaultMessageIdProvider = a.Store = a.MqttClient = a.connectAsync = a.connect = a.Client = void 0;
      const y = p(i("./lib/client"));
      a.MqttClient = y.default;
      const v = p(i("./lib/default-message-id-provider"));
      a.DefaultMessageIdProvider = v.default;
      const g = p(i("./lib/unique-message-id-provider"));
      a.UniqueMessageIdProvider = g.default;
      const _ = p(i("./lib/store"));
      a.Store = _.default;
      const b = f(i("./lib/connect"));
      a.connect = b.default, Object.defineProperty(a, "connectAsync", { enumerable: !0, get: function() {
        return b.connectAsync;
      } }), a.Client = y.default, d(i("./lib/client"), a), d(i("./lib/shared"), a);
      var A = i("./lib/handlers/ack");
      Object.defineProperty(a, "ReasonCodes", { enumerable: !0, get: function() {
        return A.ReasonCodes;
      } });
    }, { "./lib/client": 2, "./lib/connect": 4, "./lib/default-message-id-provider": 9, "./lib/handlers/ack": 10, "./lib/shared": 17, "./lib/store": 18, "./lib/unique-message-id-provider": 21 }], 24: [function(i, o, a) {
      const { AbortController: u, AbortSignal: c } = typeof self < "u" ? self : typeof window < "u" ? window : (
        /* otherwise */
        void 0
      );
      o.exports = u, o.exports.AbortSignal = c, o.exports.default = u;
    }, {}], 25: [function(i, o, a) {
      a.byteLength = g, a.toByteArray = b, a.fromByteArray = S;
      for (var u = [], c = [], f = typeof Uint8Array < "u" ? Uint8Array : Array, d = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", p = 0, y = d.length; p < y; ++p)
        u[p] = d[p], c[d.charCodeAt(p)] = p;
      c["-".charCodeAt(0)] = 62, c["_".charCodeAt(0)] = 63;
      function v(x) {
        var T = x.length;
        if (T % 4 > 0)
          throw new Error("Invalid string. Length must be a multiple of 4");
        var L = x.indexOf("=");
        L === -1 && (L = T);
        var k = L === T ? 0 : 4 - L % 4;
        return [L, k];
      }
      function g(x) {
        var T = v(x), L = T[0], k = T[1];
        return (L + k) * 3 / 4 - k;
      }
      function _(x, T, L) {
        return (T + L) * 3 / 4 - L;
      }
      function b(x) {
        var T, L = v(x), k = L[0], M = L[1], O = new f(_(x, k, M)), ie = 0, F = M > 0 ? k - 4 : k, re;
        for (re = 0; re < F; re += 4)
          T = c[x.charCodeAt(re)] << 18 | c[x.charCodeAt(re + 1)] << 12 | c[x.charCodeAt(re + 2)] << 6 | c[x.charCodeAt(re + 3)], O[ie++] = T >> 16 & 255, O[ie++] = T >> 8 & 255, O[ie++] = T & 255;
        return M === 2 && (T = c[x.charCodeAt(re)] << 2 | c[x.charCodeAt(re + 1)] >> 4, O[ie++] = T & 255), M === 1 && (T = c[x.charCodeAt(re)] << 10 | c[x.charCodeAt(re + 1)] << 4 | c[x.charCodeAt(re + 2)] >> 2, O[ie++] = T >> 8 & 255, O[ie++] = T & 255), O;
      }
      function A(x) {
        return u[x >> 18 & 63] + u[x >> 12 & 63] + u[x >> 6 & 63] + u[x & 63];
      }
      function w(x, T, L) {
        for (var k, M = [], O = T; O < L; O += 3)
          k = (x[O] << 16 & 16711680) + (x[O + 1] << 8 & 65280) + (x[O + 2] & 255), M.push(A(k));
        return M.join("");
      }
      function S(x) {
        for (var T, L = x.length, k = L % 3, M = [], O = 16383, ie = 0, F = L - k; ie < F; ie += O)
          M.push(w(x, ie, ie + O > F ? F : ie + O));
        return k === 1 ? (T = x[L - 1], M.push(
          u[T >> 2] + u[T << 4 & 63] + "=="
        )) : k === 2 && (T = (x[L - 2] << 8) + x[L - 1], M.push(
          u[T >> 10] + u[T >> 4 & 63] + u[T << 2 & 63] + "="
        )), M.join("");
      }
    }, {}], 26: [function(i, o, a) {
    }, {}], 27: [function(i, o, a) {
      var u = i("buffer"), c = u.Buffer;
      function f(p, y) {
        for (var v in p)
          y[v] = p[v];
      }
      c.from && c.alloc && c.allocUnsafe && c.allocUnsafeSlow ? o.exports = u : (f(u, a), a.Buffer = d);
      function d(p, y, v) {
        return c(p, y, v);
      }
      f(c, d), d.from = function(p, y, v) {
        if (typeof p == "number")
          throw new TypeError("Argument must not be a number");
        return c(p, y, v);
      }, d.alloc = function(p, y, v) {
        if (typeof p != "number")
          throw new TypeError("Argument must be a number");
        var g = c(p);
        return y !== void 0 ? typeof v == "string" ? g.fill(y, v) : g.fill(y) : g.fill(0), g;
      }, d.allocUnsafe = function(p) {
        if (typeof p != "number")
          throw new TypeError("Argument must be a number");
        return c(p);
      }, d.allocUnsafeSlow = function(p) {
        if (typeof p != "number")
          throw new TypeError("Argument must be a number");
        return u.SlowBuffer(p);
      };
    }, { buffer: 29 }], 28: [function(i, o, a) {
      var u = i("safe-buffer").Buffer, c = u.isEncoding || function(M) {
        switch (M = "" + M, M && M.toLowerCase()) {
          case "hex":
          case "utf8":
          case "utf-8":
          case "ascii":
          case "binary":
          case "base64":
          case "ucs2":
          case "ucs-2":
          case "utf16le":
          case "utf-16le":
          case "raw":
            return !0;
          default:
            return !1;
        }
      };
      function f(M) {
        if (!M)
          return "utf8";
        for (var O; ; )
          switch (M) {
            case "utf8":
            case "utf-8":
              return "utf8";
            case "ucs2":
            case "ucs-2":
            case "utf16le":
            case "utf-16le":
              return "utf16le";
            case "latin1":
            case "binary":
              return "latin1";
            case "base64":
            case "ascii":
            case "hex":
              return M;
            default:
              if (O)
                return;
              M = ("" + M).toLowerCase(), O = !0;
          }
      }
      function d(M) {
        var O = f(M);
        if (typeof O != "string" && (u.isEncoding === c || !c(M)))
          throw new Error("Unknown encoding: " + M);
        return O || M;
      }
      a.StringDecoder = p;
      function p(M) {
        this.encoding = d(M);
        var O;
        switch (this.encoding) {
          case "utf16le":
            this.text = w, this.end = S, O = 4;
            break;
          case "utf8":
            this.fillLast = _, O = 4;
            break;
          case "base64":
            this.text = x, this.end = T, O = 3;
            break;
          default:
            this.write = L, this.end = k;
            return;
        }
        this.lastNeed = 0, this.lastTotal = 0, this.lastChar = u.allocUnsafe(O);
      }
      p.prototype.write = function(M) {
        if (M.length === 0)
          return "";
        var O, ie;
        if (this.lastNeed) {
          if (O = this.fillLast(M), O === void 0)
            return "";
          ie = this.lastNeed, this.lastNeed = 0;
        } else
          ie = 0;
        return ie < M.length ? O ? O + this.text(M, ie) : this.text(M, ie) : O || "";
      }, p.prototype.end = A, p.prototype.text = b, p.prototype.fillLast = function(M) {
        if (this.lastNeed <= M.length)
          return M.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, this.lastNeed), this.lastChar.toString(this.encoding, 0, this.lastTotal);
        M.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, M.length), this.lastNeed -= M.length;
      };
      function y(M) {
        return M <= 127 ? 0 : M >> 5 === 6 ? 2 : M >> 4 === 14 ? 3 : M >> 3 === 30 ? 4 : M >> 6 === 2 ? -1 : -2;
      }
      function v(M, O, ie) {
        var F = O.length - 1;
        if (F < ie)
          return 0;
        var re = y(O[F]);
        return re >= 0 ? (re > 0 && (M.lastNeed = re - 1), re) : --F < ie || re === -2 ? 0 : (re = y(O[F]), re >= 0 ? (re > 0 && (M.lastNeed = re - 2), re) : --F < ie || re === -2 ? 0 : (re = y(O[F]), re >= 0 ? (re > 0 && (re === 2 ? re = 0 : M.lastNeed = re - 3), re) : 0));
      }
      function g(M, O, ie) {
        if ((O[0] & 192) !== 128)
          return M.lastNeed = 0, "�";
        if (M.lastNeed > 1 && O.length > 1) {
          if ((O[1] & 192) !== 128)
            return M.lastNeed = 1, "�";
          if (M.lastNeed > 2 && O.length > 2 && (O[2] & 192) !== 128)
            return M.lastNeed = 2, "�";
        }
      }
      function _(M) {
        var O = this.lastTotal - this.lastNeed, ie = g(this, M);
        if (ie !== void 0)
          return ie;
        if (this.lastNeed <= M.length)
          return M.copy(this.lastChar, O, 0, this.lastNeed), this.lastChar.toString(this.encoding, 0, this.lastTotal);
        M.copy(this.lastChar, O, 0, M.length), this.lastNeed -= M.length;
      }
      function b(M, O) {
        var ie = v(this, M, O);
        if (!this.lastNeed)
          return M.toString("utf8", O);
        this.lastTotal = ie;
        var F = M.length - (ie - this.lastNeed);
        return M.copy(this.lastChar, 0, F), M.toString("utf8", O, F);
      }
      function A(M) {
        var O = M && M.length ? this.write(M) : "";
        return this.lastNeed ? O + "�" : O;
      }
      function w(M, O) {
        if ((M.length - O) % 2 === 0) {
          var ie = M.toString("utf16le", O);
          if (ie) {
            var F = ie.charCodeAt(ie.length - 1);
            if (F >= 55296 && F <= 56319)
              return this.lastNeed = 2, this.lastTotal = 4, this.lastChar[0] = M[M.length - 2], this.lastChar[1] = M[M.length - 1], ie.slice(0, -1);
          }
          return ie;
        }
        return this.lastNeed = 1, this.lastTotal = 2, this.lastChar[0] = M[M.length - 1], M.toString("utf16le", O, M.length - 1);
      }
      function S(M) {
        var O = M && M.length ? this.write(M) : "";
        if (this.lastNeed) {
          var ie = this.lastTotal - this.lastNeed;
          return O + this.lastChar.toString("utf16le", 0, ie);
        }
        return O;
      }
      function x(M, O) {
        var ie = (M.length - O) % 3;
        return ie === 0 ? M.toString("base64", O) : (this.lastNeed = 3 - ie, this.lastTotal = 3, ie === 1 ? this.lastChar[0] = M[M.length - 1] : (this.lastChar[0] = M[M.length - 2], this.lastChar[1] = M[M.length - 1]), M.toString("base64", O, M.length - ie));
      }
      function T(M) {
        var O = M && M.length ? this.write(M) : "";
        return this.lastNeed ? O + this.lastChar.toString("base64", 0, 3 - this.lastNeed) : O;
      }
      function L(M) {
        return M.toString(this.encoding);
      }
      function k(M) {
        return M && M.length ? this.write(M) : "";
      }
    }, { "safe-buffer": 27 }], 29: [function(i, o, a) {
      (function(u) {
        (function() {
          var c = i("base64-js"), f = i("ieee754");
          a.Buffer = v, a.SlowBuffer = k, a.INSPECT_MAX_BYTES = 50;
          var d = 2147483647;
          a.kMaxLength = d, v.TYPED_ARRAY_SUPPORT = p(), !v.TYPED_ARRAY_SUPPORT && typeof console < "u" && typeof console.error == "function" && console.error(
            "This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."
          );
          function p() {
            try {
              var j = new Uint8Array(1);
              return j.__proto__ = { __proto__: Uint8Array.prototype, foo: function() {
                return 42;
              } }, j.foo() === 42;
            } catch {
              return !1;
            }
          }
          Object.defineProperty(v.prototype, "parent", {
            enumerable: !0,
            get: function() {
              if (v.isBuffer(this))
                return this.buffer;
            }
          }), Object.defineProperty(v.prototype, "offset", {
            enumerable: !0,
            get: function() {
              if (v.isBuffer(this))
                return this.byteOffset;
            }
          });
          function y(j) {
            if (j > d)
              throw new RangeError('The value "' + j + '" is invalid for option "size"');
            var V = new Uint8Array(j);
            return V.__proto__ = v.prototype, V;
          }
          function v(j, V, $) {
            if (typeof j == "number") {
              if (typeof V == "string")
                throw new TypeError(
                  'The "string" argument must be of type string. Received type number'
                );
              return A(j);
            }
            return g(j, V, $);
          }
          typeof Symbol < "u" && Symbol.species != null && v[Symbol.species] === v && Object.defineProperty(v, Symbol.species, {
            value: null,
            configurable: !0,
            enumerable: !1,
            writable: !1
          }), v.poolSize = 8192;
          function g(j, V, $) {
            if (typeof j == "string")
              return w(j, V);
            if (ArrayBuffer.isView(j))
              return S(j);
            if (j == null)
              throw TypeError(
                "The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type " + typeof j
              );
            if (oe(j, ArrayBuffer) || j && oe(j.buffer, ArrayBuffer))
              return x(j, V, $);
            if (typeof j == "number")
              throw new TypeError(
                'The "value" argument must not be of type number. Received type number'
              );
            var ae = j.valueOf && j.valueOf();
            if (ae != null && ae !== j)
              return v.from(ae, V, $);
            var Ne = T(j);
            if (Ne)
              return Ne;
            if (typeof Symbol < "u" && Symbol.toPrimitive != null && typeof j[Symbol.toPrimitive] == "function")
              return v.from(
                j[Symbol.toPrimitive]("string"),
                V,
                $
              );
            throw new TypeError(
              "The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type " + typeof j
            );
          }
          v.from = function(j, V, $) {
            return g(j, V, $);
          }, v.prototype.__proto__ = Uint8Array.prototype, v.__proto__ = Uint8Array;
          function _(j) {
            if (typeof j != "number")
              throw new TypeError('"size" argument must be of type number');
            if (j < 0)
              throw new RangeError('The value "' + j + '" is invalid for option "size"');
          }
          function b(j, V, $) {
            return _(j), j <= 0 ? y(j) : V !== void 0 ? typeof $ == "string" ? y(j).fill(V, $) : y(j).fill(V) : y(j);
          }
          v.alloc = function(j, V, $) {
            return b(j, V, $);
          };
          function A(j) {
            return _(j), y(j < 0 ? 0 : L(j) | 0);
          }
          v.allocUnsafe = function(j) {
            return A(j);
          }, v.allocUnsafeSlow = function(j) {
            return A(j);
          };
          function w(j, V) {
            if ((typeof V != "string" || V === "") && (V = "utf8"), !v.isEncoding(V))
              throw new TypeError("Unknown encoding: " + V);
            var $ = M(j, V) | 0, ae = y($), Ne = ae.write(j, V);
            return Ne !== $ && (ae = ae.slice(0, Ne)), ae;
          }
          function S(j) {
            for (var V = j.length < 0 ? 0 : L(j.length) | 0, $ = y(V), ae = 0; ae < V; ae += 1)
              $[ae] = j[ae] & 255;
            return $;
          }
          function x(j, V, $) {
            if (V < 0 || j.byteLength < V)
              throw new RangeError('"offset" is outside of buffer bounds');
            if (j.byteLength < V + ($ || 0))
              throw new RangeError('"length" is outside of buffer bounds');
            var ae;
            return V === void 0 && $ === void 0 ? ae = new Uint8Array(j) : $ === void 0 ? ae = new Uint8Array(j, V) : ae = new Uint8Array(j, V, $), ae.__proto__ = v.prototype, ae;
          }
          function T(j) {
            if (v.isBuffer(j)) {
              var V = L(j.length) | 0, $ = y(V);
              return $.length === 0 || j.copy($, 0, 0, V), $;
            }
            if (j.length !== void 0)
              return typeof j.length != "number" || le(j.length) ? y(0) : S(j);
            if (j.type === "Buffer" && Array.isArray(j.data))
              return S(j.data);
          }
          function L(j) {
            if (j >= d)
              throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x" + d.toString(16) + " bytes");
            return j | 0;
          }
          function k(j) {
            return +j != j && (j = 0), v.alloc(+j);
          }
          v.isBuffer = function(V) {
            return V != null && V._isBuffer === !0 && V !== v.prototype;
          }, v.compare = function(V, $) {
            if (oe(V, Uint8Array) && (V = v.from(V, V.offset, V.byteLength)), oe($, Uint8Array) && ($ = v.from($, $.offset, $.byteLength)), !v.isBuffer(V) || !v.isBuffer($))
              throw new TypeError(
                'The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array'
              );
            if (V === $)
              return 0;
            for (var ae = V.length, Ne = $.length, Ue = 0, vn = Math.min(ae, Ne); Ue < vn; ++Ue)
              if (V[Ue] !== $[Ue]) {
                ae = V[Ue], Ne = $[Ue];
                break;
              }
            return ae < Ne ? -1 : Ne < ae ? 1 : 0;
          }, v.isEncoding = function(V) {
            switch (String(V).toLowerCase()) {
              case "hex":
              case "utf8":
              case "utf-8":
              case "ascii":
              case "latin1":
              case "binary":
              case "base64":
              case "ucs2":
              case "ucs-2":
              case "utf16le":
              case "utf-16le":
                return !0;
              default:
                return !1;
            }
          }, v.concat = function(V, $) {
            if (!Array.isArray(V))
              throw new TypeError('"list" argument must be an Array of Buffers');
            if (V.length === 0)
              return v.alloc(0);
            var ae;
            if ($ === void 0)
              for ($ = 0, ae = 0; ae < V.length; ++ae)
                $ += V[ae].length;
            var Ne = v.allocUnsafe($), Ue = 0;
            for (ae = 0; ae < V.length; ++ae) {
              var vn = V[ae];
              if (oe(vn, Uint8Array) && (vn = v.from(vn)), !v.isBuffer(vn))
                throw new TypeError('"list" argument must be an Array of Buffers');
              vn.copy(Ne, Ue), Ue += vn.length;
            }
            return Ne;
          };
          function M(j, V) {
            if (v.isBuffer(j))
              return j.length;
            if (ArrayBuffer.isView(j) || oe(j, ArrayBuffer))
              return j.byteLength;
            if (typeof j != "string")
              throw new TypeError(
                'The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type ' + typeof j
              );
            var $ = j.length, ae = arguments.length > 2 && arguments[2] === !0;
            if (!ae && $ === 0)
              return 0;
            for (var Ne = !1; ; )
              switch (V) {
                case "ascii":
                case "latin1":
                case "binary":
                  return $;
                case "utf8":
                case "utf-8":
                  return Oe(j).length;
                case "ucs2":
                case "ucs-2":
                case "utf16le":
                case "utf-16le":
                  return $ * 2;
                case "hex":
                  return $ >>> 1;
                case "base64":
                  return hn(j).length;
                default:
                  if (Ne)
                    return ae ? -1 : Oe(j).length;
                  V = ("" + V).toLowerCase(), Ne = !0;
              }
          }
          v.byteLength = M;
          function O(j, V, $) {
            var ae = !1;
            if ((V === void 0 || V < 0) && (V = 0), V > this.length || (($ === void 0 || $ > this.length) && ($ = this.length), $ <= 0) || ($ >>>= 0, V >>>= 0, $ <= V))
              return "";
            for (j || (j = "utf8"); ; )
              switch (j) {
                case "hex":
                  return In(this, V, $);
                case "utf8":
                case "utf-8":
                  return Ie(this, V, $);
                case "ascii":
                  return Lt(this, V, $);
                case "latin1":
                case "binary":
                  return _n(this, V, $);
                case "base64":
                  return Fe(this, V, $);
                case "ucs2":
                case "ucs-2":
                case "utf16le":
                case "utf-16le":
                  return jt(this, V, $);
                default:
                  if (ae)
                    throw new TypeError("Unknown encoding: " + j);
                  j = (j + "").toLowerCase(), ae = !0;
              }
          }
          v.prototype._isBuffer = !0;
          function ie(j, V, $) {
            var ae = j[V];
            j[V] = j[$], j[$] = ae;
          }
          v.prototype.swap16 = function() {
            var V = this.length;
            if (V % 2 !== 0)
              throw new RangeError("Buffer size must be a multiple of 16-bits");
            for (var $ = 0; $ < V; $ += 2)
              ie(this, $, $ + 1);
            return this;
          }, v.prototype.swap32 = function() {
            var V = this.length;
            if (V % 4 !== 0)
              throw new RangeError("Buffer size must be a multiple of 32-bits");
            for (var $ = 0; $ < V; $ += 4)
              ie(this, $, $ + 3), ie(this, $ + 1, $ + 2);
            return this;
          }, v.prototype.swap64 = function() {
            var V = this.length;
            if (V % 8 !== 0)
              throw new RangeError("Buffer size must be a multiple of 64-bits");
            for (var $ = 0; $ < V; $ += 8)
              ie(this, $, $ + 7), ie(this, $ + 1, $ + 6), ie(this, $ + 2, $ + 5), ie(this, $ + 3, $ + 4);
            return this;
          }, v.prototype.toString = function() {
            var V = this.length;
            return V === 0 ? "" : arguments.length === 0 ? Ie(this, 0, V) : O.apply(this, arguments);
          }, v.prototype.toLocaleString = v.prototype.toString, v.prototype.equals = function(V) {
            if (!v.isBuffer(V))
              throw new TypeError("Argument must be a Buffer");
            return this === V ? !0 : v.compare(this, V) === 0;
          }, v.prototype.inspect = function() {
            var V = "", $ = a.INSPECT_MAX_BYTES;
            return V = this.toString("hex", 0, $).replace(/(.{2})/g, "$1 ").trim(), this.length > $ && (V += " ... "), "<Buffer " + V + ">";
          }, v.prototype.compare = function(V, $, ae, Ne, Ue) {
            if (oe(V, Uint8Array) && (V = v.from(V, V.offset, V.byteLength)), !v.isBuffer(V))
              throw new TypeError(
                'The "target" argument must be one of type Buffer or Uint8Array. Received type ' + typeof V
              );
            if ($ === void 0 && ($ = 0), ae === void 0 && (ae = V ? V.length : 0), Ne === void 0 && (Ne = 0), Ue === void 0 && (Ue = this.length), $ < 0 || ae > V.length || Ne < 0 || Ue > this.length)
              throw new RangeError("out of range index");
            if (Ne >= Ue && $ >= ae)
              return 0;
            if (Ne >= Ue)
              return -1;
            if ($ >= ae)
              return 1;
            if ($ >>>= 0, ae >>>= 0, Ne >>>= 0, Ue >>>= 0, this === V)
              return 0;
            for (var vn = Ue - Ne, wn = ae - $, xn = Math.min(vn, wn), Bn = this.slice(Ne, Ue), $e = V.slice($, ae), qe = 0; qe < xn; ++qe)
              if (Bn[qe] !== $e[qe]) {
                vn = Bn[qe], wn = $e[qe];
                break;
              }
            return vn < wn ? -1 : wn < vn ? 1 : 0;
          };
          function F(j, V, $, ae, Ne) {
            if (j.length === 0)
              return -1;
            if (typeof $ == "string" ? (ae = $, $ = 0) : $ > 2147483647 ? $ = 2147483647 : $ < -2147483648 && ($ = -2147483648), $ = +$, le($) && ($ = Ne ? 0 : j.length - 1), $ < 0 && ($ = j.length + $), $ >= j.length) {
              if (Ne)
                return -1;
              $ = j.length - 1;
            } else if ($ < 0)
              if (Ne)
                $ = 0;
              else
                return -1;
            if (typeof V == "string" && (V = v.from(V, ae)), v.isBuffer(V))
              return V.length === 0 ? -1 : re(j, V, $, ae, Ne);
            if (typeof V == "number")
              return V = V & 255, typeof Uint8Array.prototype.indexOf == "function" ? Ne ? Uint8Array.prototype.indexOf.call(j, V, $) : Uint8Array.prototype.lastIndexOf.call(j, V, $) : re(j, [V], $, ae, Ne);
            throw new TypeError("val must be string, number or Buffer");
          }
          function re(j, V, $, ae, Ne) {
            var Ue = 1, vn = j.length, wn = V.length;
            if (ae !== void 0 && (ae = String(ae).toLowerCase(), ae === "ucs2" || ae === "ucs-2" || ae === "utf16le" || ae === "utf-16le")) {
              if (j.length < 2 || V.length < 2)
                return -1;
              Ue = 2, vn /= 2, wn /= 2, $ /= 2;
            }
            function xn(En, Ln) {
              return Ue === 1 ? En[Ln] : En.readUInt16BE(Ln * Ue);
            }
            var Bn;
            if (Ne) {
              var $e = -1;
              for (Bn = $; Bn < vn; Bn++)
                if (xn(j, Bn) === xn(V, $e === -1 ? 0 : Bn - $e)) {
                  if ($e === -1 && ($e = Bn), Bn - $e + 1 === wn)
                    return $e * Ue;
                } else
                  $e !== -1 && (Bn -= Bn - $e), $e = -1;
            } else
              for ($ + wn > vn && ($ = vn - wn), Bn = $; Bn >= 0; Bn--) {
                for (var qe = !0, Tn = 0; Tn < wn; Tn++)
                  if (xn(j, Bn + Tn) !== xn(V, Tn)) {
                    qe = !1;
                    break;
                  }
                if (qe)
                  return Bn;
              }
            return -1;
          }
          v.prototype.includes = function(V, $, ae) {
            return this.indexOf(V, $, ae) !== -1;
          }, v.prototype.indexOf = function(V, $, ae) {
            return F(this, V, $, ae, !0);
          }, v.prototype.lastIndexOf = function(V, $, ae) {
            return F(this, V, $, ae, !1);
          };
          function D(j, V, $, ae) {
            $ = Number($) || 0;
            var Ne = j.length - $;
            ae ? (ae = Number(ae), ae > Ne && (ae = Ne)) : ae = Ne;
            var Ue = V.length;
            ae > Ue / 2 && (ae = Ue / 2);
            for (var vn = 0; vn < ae; ++vn) {
              var wn = parseInt(V.substr(vn * 2, 2), 16);
              if (le(wn))
                return vn;
              j[$ + vn] = wn;
            }
            return vn;
          }
          function Y(j, V, $, ae) {
            return bn(Oe(V, j.length - $), j, $, ae);
          }
          function z(j, V, $, ae) {
            return bn(Ve(V), j, $, ae);
          }
          function pe(j, V, $, ae) {
            return z(j, V, $, ae);
          }
          function ue(j, V, $, ae) {
            return bn(hn(V), j, $, ae);
          }
          function Ce(j, V, $, ae) {
            return bn(Dt(V, j.length - $), j, $, ae);
          }
          v.prototype.write = function(V, $, ae, Ne) {
            if ($ === void 0)
              Ne = "utf8", ae = this.length, $ = 0;
            else if (ae === void 0 && typeof $ == "string")
              Ne = $, ae = this.length, $ = 0;
            else if (isFinite($))
              $ = $ >>> 0, isFinite(ae) ? (ae = ae >>> 0, Ne === void 0 && (Ne = "utf8")) : (Ne = ae, ae = void 0);
            else
              throw new Error(
                "Buffer.write(string, encoding, offset[, length]) is no longer supported"
              );
            var Ue = this.length - $;
            if ((ae === void 0 || ae > Ue) && (ae = Ue), V.length > 0 && (ae < 0 || $ < 0) || $ > this.length)
              throw new RangeError("Attempt to write outside buffer bounds");
            Ne || (Ne = "utf8");
            for (var vn = !1; ; )
              switch (Ne) {
                case "hex":
                  return D(this, V, $, ae);
                case "utf8":
                case "utf-8":
                  return Y(this, V, $, ae);
                case "ascii":
                  return z(this, V, $, ae);
                case "latin1":
                case "binary":
                  return pe(this, V, $, ae);
                case "base64":
                  return ue(this, V, $, ae);
                case "ucs2":
                case "ucs-2":
                case "utf16le":
                case "utf-16le":
                  return Ce(this, V, $, ae);
                default:
                  if (vn)
                    throw new TypeError("Unknown encoding: " + Ne);
                  Ne = ("" + Ne).toLowerCase(), vn = !0;
              }
          }, v.prototype.toJSON = function() {
            return {
              type: "Buffer",
              data: Array.prototype.slice.call(this._arr || this, 0)
            };
          };
          function Fe(j, V, $) {
            return V === 0 && $ === j.length ? c.fromByteArray(j) : c.fromByteArray(j.slice(V, $));
          }
          function Ie(j, V, $) {
            $ = Math.min(j.length, $);
            for (var ae = [], Ne = V; Ne < $; ) {
              var Ue = j[Ne], vn = null, wn = Ue > 239 ? 4 : Ue > 223 ? 3 : Ue > 191 ? 2 : 1;
              if (Ne + wn <= $) {
                var xn, Bn, $e, qe;
                switch (wn) {
                  case 1:
                    Ue < 128 && (vn = Ue);
                    break;
                  case 2:
                    xn = j[Ne + 1], (xn & 192) === 128 && (qe = (Ue & 31) << 6 | xn & 63, qe > 127 && (vn = qe));
                    break;
                  case 3:
                    xn = j[Ne + 1], Bn = j[Ne + 2], (xn & 192) === 128 && (Bn & 192) === 128 && (qe = (Ue & 15) << 12 | (xn & 63) << 6 | Bn & 63, qe > 2047 && (qe < 55296 || qe > 57343) && (vn = qe));
                    break;
                  case 4:
                    xn = j[Ne + 1], Bn = j[Ne + 2], $e = j[Ne + 3], (xn & 192) === 128 && (Bn & 192) === 128 && ($e & 192) === 128 && (qe = (Ue & 15) << 18 | (xn & 63) << 12 | (Bn & 63) << 6 | $e & 63, qe > 65535 && qe < 1114112 && (vn = qe));
                }
              }
              vn === null ? (vn = 65533, wn = 1) : vn > 65535 && (vn -= 65536, ae.push(vn >>> 10 & 1023 | 55296), vn = 56320 | vn & 1023), ae.push(vn), Ne += wn;
            }
            return xe(ae);
          }
          var Pt = 4096;
          function xe(j) {
            var V = j.length;
            if (V <= Pt)
              return String.fromCharCode.apply(String, j);
            for (var $ = "", ae = 0; ae < V; )
              $ += String.fromCharCode.apply(
                String,
                j.slice(ae, ae += Pt)
              );
            return $;
          }
          function Lt(j, V, $) {
            var ae = "";
            $ = Math.min(j.length, $);
            for (var Ne = V; Ne < $; ++Ne)
              ae += String.fromCharCode(j[Ne] & 127);
            return ae;
          }
          function _n(j, V, $) {
            var ae = "";
            $ = Math.min(j.length, $);
            for (var Ne = V; Ne < $; ++Ne)
              ae += String.fromCharCode(j[Ne]);
            return ae;
          }
          function In(j, V, $) {
            var ae = j.length;
            (!V || V < 0) && (V = 0), (!$ || $ < 0 || $ > ae) && ($ = ae);
            for (var Ne = "", Ue = V; Ue < $; ++Ue)
              Ne += Et(j[Ue]);
            return Ne;
          }
          function jt(j, V, $) {
            for (var ae = j.slice(V, $), Ne = "", Ue = 0; Ue < ae.length; Ue += 2)
              Ne += String.fromCharCode(ae[Ue] + ae[Ue + 1] * 256);
            return Ne;
          }
          v.prototype.slice = function(V, $) {
            var ae = this.length;
            V = ~~V, $ = $ === void 0 ? ae : ~~$, V < 0 ? (V += ae, V < 0 && (V = 0)) : V > ae && (V = ae), $ < 0 ? ($ += ae, $ < 0 && ($ = 0)) : $ > ae && ($ = ae), $ < V && ($ = V);
            var Ne = this.subarray(V, $);
            return Ne.__proto__ = v.prototype, Ne;
          };
          function he(j, V, $) {
            if (j % 1 !== 0 || j < 0)
              throw new RangeError("offset is not uint");
            if (j + V > $)
              throw new RangeError("Trying to access beyond buffer length");
          }
          v.prototype.readUIntLE = function(V, $, ae) {
            V = V >>> 0, $ = $ >>> 0, ae || he(V, $, this.length);
            for (var Ne = this[V], Ue = 1, vn = 0; ++vn < $ && (Ue *= 256); )
              Ne += this[V + vn] * Ue;
            return Ne;
          }, v.prototype.readUIntBE = function(V, $, ae) {
            V = V >>> 0, $ = $ >>> 0, ae || he(V, $, this.length);
            for (var Ne = this[V + --$], Ue = 1; $ > 0 && (Ue *= 256); )
              Ne += this[V + --$] * Ue;
            return Ne;
          }, v.prototype.readUInt8 = function(V, $) {
            return V = V >>> 0, $ || he(V, 1, this.length), this[V];
          }, v.prototype.readUInt16LE = function(V, $) {
            return V = V >>> 0, $ || he(V, 2, this.length), this[V] | this[V + 1] << 8;
          }, v.prototype.readUInt16BE = function(V, $) {
            return V = V >>> 0, $ || he(V, 2, this.length), this[V] << 8 | this[V + 1];
          }, v.prototype.readUInt32LE = function(V, $) {
            return V = V >>> 0, $ || he(V, 4, this.length), (this[V] | this[V + 1] << 8 | this[V + 2] << 16) + this[V + 3] * 16777216;
          }, v.prototype.readUInt32BE = function(V, $) {
            return V = V >>> 0, $ || he(V, 4, this.length), this[V] * 16777216 + (this[V + 1] << 16 | this[V + 2] << 8 | this[V + 3]);
          }, v.prototype.readIntLE = function(V, $, ae) {
            V = V >>> 0, $ = $ >>> 0, ae || he(V, $, this.length);
            for (var Ne = this[V], Ue = 1, vn = 0; ++vn < $ && (Ue *= 256); )
              Ne += this[V + vn] * Ue;
            return Ue *= 128, Ne >= Ue && (Ne -= Math.pow(2, 8 * $)), Ne;
          }, v.prototype.readIntBE = function(V, $, ae) {
            V = V >>> 0, $ = $ >>> 0, ae || he(V, $, this.length);
            for (var Ne = $, Ue = 1, vn = this[V + --Ne]; Ne > 0 && (Ue *= 256); )
              vn += this[V + --Ne] * Ue;
            return Ue *= 128, vn >= Ue && (vn -= Math.pow(2, 8 * $)), vn;
          }, v.prototype.readInt8 = function(V, $) {
            return V = V >>> 0, $ || he(V, 1, this.length), this[V] & 128 ? (255 - this[V] + 1) * -1 : this[V];
          }, v.prototype.readInt16LE = function(V, $) {
            V = V >>> 0, $ || he(V, 2, this.length);
            var ae = this[V] | this[V + 1] << 8;
            return ae & 32768 ? ae | 4294901760 : ae;
          }, v.prototype.readInt16BE = function(V, $) {
            V = V >>> 0, $ || he(V, 2, this.length);
            var ae = this[V + 1] | this[V] << 8;
            return ae & 32768 ? ae | 4294901760 : ae;
          }, v.prototype.readInt32LE = function(V, $) {
            return V = V >>> 0, $ || he(V, 4, this.length), this[V] | this[V + 1] << 8 | this[V + 2] << 16 | this[V + 3] << 24;
          }, v.prototype.readInt32BE = function(V, $) {
            return V = V >>> 0, $ || he(V, 4, this.length), this[V] << 24 | this[V + 1] << 16 | this[V + 2] << 8 | this[V + 3];
          }, v.prototype.readFloatLE = function(V, $) {
            return V = V >>> 0, $ || he(V, 4, this.length), f.read(this, V, !0, 23, 4);
          }, v.prototype.readFloatBE = function(V, $) {
            return V = V >>> 0, $ || he(V, 4, this.length), f.read(this, V, !1, 23, 4);
          }, v.prototype.readDoubleLE = function(V, $) {
            return V = V >>> 0, $ || he(V, 8, this.length), f.read(this, V, !0, 52, 8);
          }, v.prototype.readDoubleBE = function(V, $) {
            return V = V >>> 0, $ || he(V, 8, this.length), f.read(this, V, !1, 52, 8);
          };
          function At(j, V, $, ae, Ne, Ue) {
            if (!v.isBuffer(j))
              throw new TypeError('"buffer" argument must be a Buffer instance');
            if (V > Ne || V < Ue)
              throw new RangeError('"value" argument is out of bounds');
            if ($ + ae > j.length)
              throw new RangeError("Index out of range");
          }
          v.prototype.writeUIntLE = function(V, $, ae, Ne) {
            if (V = +V, $ = $ >>> 0, ae = ae >>> 0, !Ne) {
              var Ue = Math.pow(2, 8 * ae) - 1;
              At(this, V, $, ae, Ue, 0);
            }
            var vn = 1, wn = 0;
            for (this[$] = V & 255; ++wn < ae && (vn *= 256); )
              this[$ + wn] = V / vn & 255;
            return $ + ae;
          }, v.prototype.writeUIntBE = function(V, $, ae, Ne) {
            if (V = +V, $ = $ >>> 0, ae = ae >>> 0, !Ne) {
              var Ue = Math.pow(2, 8 * ae) - 1;
              At(this, V, $, ae, Ue, 0);
            }
            var vn = ae - 1, wn = 1;
            for (this[$ + vn] = V & 255; --vn >= 0 && (wn *= 256); )
              this[$ + vn] = V / wn & 255;
            return $ + ae;
          }, v.prototype.writeUInt8 = function(V, $, ae) {
            return V = +V, $ = $ >>> 0, ae || At(this, V, $, 1, 255, 0), this[$] = V & 255, $ + 1;
          }, v.prototype.writeUInt16LE = function(V, $, ae) {
            return V = +V, $ = $ >>> 0, ae || At(this, V, $, 2, 65535, 0), this[$] = V & 255, this[$ + 1] = V >>> 8, $ + 2;
          }, v.prototype.writeUInt16BE = function(V, $, ae) {
            return V = +V, $ = $ >>> 0, ae || At(this, V, $, 2, 65535, 0), this[$] = V >>> 8, this[$ + 1] = V & 255, $ + 2;
          }, v.prototype.writeUInt32LE = function(V, $, ae) {
            return V = +V, $ = $ >>> 0, ae || At(this, V, $, 4, 4294967295, 0), this[$ + 3] = V >>> 24, this[$ + 2] = V >>> 16, this[$ + 1] = V >>> 8, this[$] = V & 255, $ + 4;
          }, v.prototype.writeUInt32BE = function(V, $, ae) {
            return V = +V, $ = $ >>> 0, ae || At(this, V, $, 4, 4294967295, 0), this[$] = V >>> 24, this[$ + 1] = V >>> 16, this[$ + 2] = V >>> 8, this[$ + 3] = V & 255, $ + 4;
          }, v.prototype.writeIntLE = function(V, $, ae, Ne) {
            if (V = +V, $ = $ >>> 0, !Ne) {
              var Ue = Math.pow(2, 8 * ae - 1);
              At(this, V, $, ae, Ue - 1, -Ue);
            }
            var vn = 0, wn = 1, xn = 0;
            for (this[$] = V & 255; ++vn < ae && (wn *= 256); )
              V < 0 && xn === 0 && this[$ + vn - 1] !== 0 && (xn = 1), this[$ + vn] = (V / wn >> 0) - xn & 255;
            return $ + ae;
          }, v.prototype.writeIntBE = function(V, $, ae, Ne) {
            if (V = +V, $ = $ >>> 0, !Ne) {
              var Ue = Math.pow(2, 8 * ae - 1);
              At(this, V, $, ae, Ue - 1, -Ue);
            }
            var vn = ae - 1, wn = 1, xn = 0;
            for (this[$ + vn] = V & 255; --vn >= 0 && (wn *= 256); )
              V < 0 && xn === 0 && this[$ + vn + 1] !== 0 && (xn = 1), this[$ + vn] = (V / wn >> 0) - xn & 255;
            return $ + ae;
          }, v.prototype.writeInt8 = function(V, $, ae) {
            return V = +V, $ = $ >>> 0, ae || At(this, V, $, 1, 127, -128), V < 0 && (V = 255 + V + 1), this[$] = V & 255, $ + 1;
          }, v.prototype.writeInt16LE = function(V, $, ae) {
            return V = +V, $ = $ >>> 0, ae || At(this, V, $, 2, 32767, -32768), this[$] = V & 255, this[$ + 1] = V >>> 8, $ + 2;
          }, v.prototype.writeInt16BE = function(V, $, ae) {
            return V = +V, $ = $ >>> 0, ae || At(this, V, $, 2, 32767, -32768), this[$] = V >>> 8, this[$ + 1] = V & 255, $ + 2;
          }, v.prototype.writeInt32LE = function(V, $, ae) {
            return V = +V, $ = $ >>> 0, ae || At(this, V, $, 4, 2147483647, -2147483648), this[$] = V & 255, this[$ + 1] = V >>> 8, this[$ + 2] = V >>> 16, this[$ + 3] = V >>> 24, $ + 4;
          }, v.prototype.writeInt32BE = function(V, $, ae) {
            return V = +V, $ = $ >>> 0, ae || At(this, V, $, 4, 2147483647, -2147483648), V < 0 && (V = 4294967295 + V + 1), this[$] = V >>> 24, this[$ + 1] = V >>> 16, this[$ + 2] = V >>> 8, this[$ + 3] = V & 255, $ + 4;
          };
          function kt(j, V, $, ae, Ne, Ue) {
            if ($ + ae > j.length)
              throw new RangeError("Index out of range");
            if ($ < 0)
              throw new RangeError("Index out of range");
          }
          function Cn(j, V, $, ae, Ne) {
            return V = +V, $ = $ >>> 0, Ne || kt(j, V, $, 4), f.write(j, V, $, ae, 23, 4), $ + 4;
          }
          v.prototype.writeFloatLE = function(V, $, ae) {
            return Cn(this, V, $, !0, ae);
          }, v.prototype.writeFloatBE = function(V, $, ae) {
            return Cn(this, V, $, !1, ae);
          };
          function ze(j, V, $, ae, Ne) {
            return V = +V, $ = $ >>> 0, Ne || kt(j, V, $, 8), f.write(j, V, $, ae, 52, 8), $ + 8;
          }
          v.prototype.writeDoubleLE = function(V, $, ae) {
            return ze(this, V, $, !0, ae);
          }, v.prototype.writeDoubleBE = function(V, $, ae) {
            return ze(this, V, $, !1, ae);
          }, v.prototype.copy = function(V, $, ae, Ne) {
            if (!v.isBuffer(V))
              throw new TypeError("argument should be a Buffer");
            if (ae || (ae = 0), !Ne && Ne !== 0 && (Ne = this.length), $ >= V.length && ($ = V.length), $ || ($ = 0), Ne > 0 && Ne < ae && (Ne = ae), Ne === ae || V.length === 0 || this.length === 0)
              return 0;
            if ($ < 0)
              throw new RangeError("targetStart out of bounds");
            if (ae < 0 || ae >= this.length)
              throw new RangeError("Index out of range");
            if (Ne < 0)
              throw new RangeError("sourceEnd out of bounds");
            Ne > this.length && (Ne = this.length), V.length - $ < Ne - ae && (Ne = V.length - $ + ae);
            var Ue = Ne - ae;
            if (this === V && typeof Uint8Array.prototype.copyWithin == "function")
              this.copyWithin($, ae, Ne);
            else if (this === V && ae < $ && $ < Ne)
              for (var vn = Ue - 1; vn >= 0; --vn)
                V[vn + $] = this[vn + ae];
            else
              Uint8Array.prototype.set.call(
                V,
                this.subarray(ae, Ne),
                $
              );
            return Ue;
          }, v.prototype.fill = function(V, $, ae, Ne) {
            if (typeof V == "string") {
              if (typeof $ == "string" ? (Ne = $, $ = 0, ae = this.length) : typeof ae == "string" && (Ne = ae, ae = this.length), Ne !== void 0 && typeof Ne != "string")
                throw new TypeError("encoding must be a string");
              if (typeof Ne == "string" && !v.isEncoding(Ne))
                throw new TypeError("Unknown encoding: " + Ne);
              if (V.length === 1) {
                var Ue = V.charCodeAt(0);
                (Ne === "utf8" && Ue < 128 || Ne === "latin1") && (V = Ue);
              }
            } else
              typeof V == "number" && (V = V & 255);
            if ($ < 0 || this.length < $ || this.length < ae)
              throw new RangeError("Out of range index");
            if (ae <= $)
              return this;
            $ = $ >>> 0, ae = ae === void 0 ? this.length : ae >>> 0, V || (V = 0);
            var vn;
            if (typeof V == "number")
              for (vn = $; vn < ae; ++vn)
                this[vn] = V;
            else {
              var wn = v.isBuffer(V) ? V : v.from(V, Ne), xn = wn.length;
              if (xn === 0)
                throw new TypeError('The value "' + V + '" is invalid for argument "value"');
              for (vn = 0; vn < ae - $; ++vn)
                this[vn + $] = wn[vn % xn];
            }
            return this;
          };
          var _e = /[^+/0-9A-Za-z-_]/g;
          function de(j) {
            if (j = j.split("=")[0], j = j.trim().replace(_e, ""), j.length < 2)
              return "";
            for (; j.length % 4 !== 0; )
              j = j + "=";
            return j;
          }
          function Et(j) {
            return j < 16 ? "0" + j.toString(16) : j.toString(16);
          }
          function Oe(j, V) {
            V = V || 1 / 0;
            for (var $, ae = j.length, Ne = null, Ue = [], vn = 0; vn < ae; ++vn) {
              if ($ = j.charCodeAt(vn), $ > 55295 && $ < 57344) {
                if (!Ne) {
                  if ($ > 56319) {
                    (V -= 3) > -1 && Ue.push(239, 191, 189);
                    continue;
                  } else if (vn + 1 === ae) {
                    (V -= 3) > -1 && Ue.push(239, 191, 189);
                    continue;
                  }
                  Ne = $;
                  continue;
                }
                if ($ < 56320) {
                  (V -= 3) > -1 && Ue.push(239, 191, 189), Ne = $;
                  continue;
                }
                $ = (Ne - 55296 << 10 | $ - 56320) + 65536;
              } else
                Ne && (V -= 3) > -1 && Ue.push(239, 191, 189);
              if (Ne = null, $ < 128) {
                if ((V -= 1) < 0)
                  break;
                Ue.push($);
              } else if ($ < 2048) {
                if ((V -= 2) < 0)
                  break;
                Ue.push(
                  $ >> 6 | 192,
                  $ & 63 | 128
                );
              } else if ($ < 65536) {
                if ((V -= 3) < 0)
                  break;
                Ue.push(
                  $ >> 12 | 224,
                  $ >> 6 & 63 | 128,
                  $ & 63 | 128
                );
              } else if ($ < 1114112) {
                if ((V -= 4) < 0)
                  break;
                Ue.push(
                  $ >> 18 | 240,
                  $ >> 12 & 63 | 128,
                  $ >> 6 & 63 | 128,
                  $ & 63 | 128
                );
              } else
                throw new Error("Invalid code point");
            }
            return Ue;
          }
          function Ve(j) {
            for (var V = [], $ = 0; $ < j.length; ++$)
              V.push(j.charCodeAt($) & 255);
            return V;
          }
          function Dt(j, V) {
            for (var $, ae, Ne, Ue = [], vn = 0; vn < j.length && !((V -= 2) < 0); ++vn)
              $ = j.charCodeAt(vn), ae = $ >> 8, Ne = $ % 256, Ue.push(Ne), Ue.push(ae);
            return Ue;
          }
          function hn(j) {
            return c.toByteArray(de(j));
          }
          function bn(j, V, $, ae) {
            for (var Ne = 0; Ne < ae && !(Ne + $ >= V.length || Ne >= j.length); ++Ne)
              V[Ne + $] = j[Ne];
            return Ne;
          }
          function oe(j, V) {
            return j instanceof V || j != null && j.constructor != null && j.constructor.name != null && j.constructor.name === V.name;
          }
          function le(j) {
            return j !== j;
          }
        }).call(this);
      }).call(this, i("buffer").Buffer);
    }, { "base64-js": 25, buffer: 29, ieee754: 50 }], 30: [function(i, o, a) {
      (function(u) {
        (function() {
          a.formatArgs = f, a.save = d, a.load = p, a.useColors = c, a.storage = y(), a.destroy = (() => {
            let g = !1;
            return () => {
              g || (g = !0, console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."));
            };
          })(), a.colors = [
            "#0000CC",
            "#0000FF",
            "#0033CC",
            "#0033FF",
            "#0066CC",
            "#0066FF",
            "#0099CC",
            "#0099FF",
            "#00CC00",
            "#00CC33",
            "#00CC66",
            "#00CC99",
            "#00CCCC",
            "#00CCFF",
            "#3300CC",
            "#3300FF",
            "#3333CC",
            "#3333FF",
            "#3366CC",
            "#3366FF",
            "#3399CC",
            "#3399FF",
            "#33CC00",
            "#33CC33",
            "#33CC66",
            "#33CC99",
            "#33CCCC",
            "#33CCFF",
            "#6600CC",
            "#6600FF",
            "#6633CC",
            "#6633FF",
            "#66CC00",
            "#66CC33",
            "#9900CC",
            "#9900FF",
            "#9933CC",
            "#9933FF",
            "#99CC00",
            "#99CC33",
            "#CC0000",
            "#CC0033",
            "#CC0066",
            "#CC0099",
            "#CC00CC",
            "#CC00FF",
            "#CC3300",
            "#CC3333",
            "#CC3366",
            "#CC3399",
            "#CC33CC",
            "#CC33FF",
            "#CC6600",
            "#CC6633",
            "#CC9900",
            "#CC9933",
            "#CCCC00",
            "#CCCC33",
            "#FF0000",
            "#FF0033",
            "#FF0066",
            "#FF0099",
            "#FF00CC",
            "#FF00FF",
            "#FF3300",
            "#FF3333",
            "#FF3366",
            "#FF3399",
            "#FF33CC",
            "#FF33FF",
            "#FF6600",
            "#FF6633",
            "#FF9900",
            "#FF9933",
            "#FFCC00",
            "#FFCC33"
          ];
          function c() {
            return typeof window < "u" && window.process && (window.process.type === "renderer" || window.process.__nwjs) ? !0 : typeof navigator < "u" && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/) ? !1 : typeof document < "u" && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance || // Is firebug? http://stackoverflow.com/a/398120/376773
            typeof window < "u" && window.console && (window.console.firebug || window.console.exception && window.console.table) || // Is firefox >= v31?
            // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages
            typeof navigator < "u" && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/) && parseInt(RegExp.$1, 10) >= 31 || // Double check webkit in userAgent just in case we are in a worker
            typeof navigator < "u" && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/);
          }
          function f(g) {
            if (g[0] = (this.useColors ? "%c" : "") + this.namespace + (this.useColors ? " %c" : " ") + g[0] + (this.useColors ? "%c " : " ") + "+" + o.exports.humanize(this.diff), !this.useColors)
              return;
            const _ = "color: " + this.color;
            g.splice(1, 0, _, "color: inherit");
            let b = 0, A = 0;
            g[0].replace(/%[a-zA-Z%]/g, (w) => {
              w !== "%%" && (b++, w === "%c" && (A = b));
            }), g.splice(A, 0, _);
          }
          a.log = console.debug || console.log || (() => {
          });
          function d(g) {
            try {
              g ? a.storage.setItem("debug", g) : a.storage.removeItem("debug");
            } catch {
            }
          }
          function p() {
            let g;
            try {
              g = a.storage.getItem("debug");
            } catch {
            }
            return !g && typeof u < "u" && "env" in u && (g = u.env.DEBUG), g;
          }
          function y() {
            try {
              return localStorage;
            } catch {
            }
          }
          o.exports = i("./common")(a);
          const { formatters: v } = o.exports;
          v.j = function(g) {
            try {
              return JSON.stringify(g);
            } catch (_) {
              return "[UnexpectedJSONParseError]: " + _.message;
            }
          };
        }).call(this);
      }).call(this, i("_process"));
    }, { "./common": 31, _process: 102 }], 31: [function(i, o, a) {
      function u(c) {
        d.debug = d, d.default = d, d.coerce = b, d.disable = v, d.enable = y, d.enabled = g, d.humanize = i("ms"), d.destroy = A, Object.keys(c).forEach((w) => {
          d[w] = c[w];
        }), d.names = [], d.skips = [], d.formatters = {};
        function f(w) {
          let S = 0;
          for (let x = 0; x < w.length; x++)
            S = (S << 5) - S + w.charCodeAt(x), S |= 0;
          return d.colors[Math.abs(S) % d.colors.length];
        }
        d.selectColor = f;
        function d(w) {
          let S, x = null, T, L;
          function k(...M) {
            if (!k.enabled)
              return;
            const O = k, ie = Number(/* @__PURE__ */ new Date()), F = ie - (S || ie);
            O.diff = F, O.prev = S, O.curr = ie, S = ie, M[0] = d.coerce(M[0]), typeof M[0] != "string" && M.unshift("%O");
            let re = 0;
            M[0] = M[0].replace(/%([a-zA-Z%])/g, (Y, z) => {
              if (Y === "%%")
                return "%";
              re++;
              const pe = d.formatters[z];
              if (typeof pe == "function") {
                const ue = M[re];
                Y = pe.call(O, ue), M.splice(re, 1), re--;
              }
              return Y;
            }), d.formatArgs.call(O, M), (O.log || d.log).apply(O, M);
          }
          return k.namespace = w, k.useColors = d.useColors(), k.color = d.selectColor(w), k.extend = p, k.destroy = d.destroy, Object.defineProperty(k, "enabled", {
            enumerable: !0,
            configurable: !1,
            get: () => x !== null ? x : (T !== d.namespaces && (T = d.namespaces, L = d.enabled(w)), L),
            set: (M) => {
              x = M;
            }
          }), typeof d.init == "function" && d.init(k), k;
        }
        function p(w, S) {
          const x = d(this.namespace + (typeof S > "u" ? ":" : S) + w);
          return x.log = this.log, x;
        }
        function y(w) {
          d.save(w), d.namespaces = w, d.names = [], d.skips = [];
          let S;
          const x = (typeof w == "string" ? w : "").split(/[\s,]+/), T = x.length;
          for (S = 0; S < T; S++)
            x[S] && (w = x[S].replace(/\*/g, ".*?"), w[0] === "-" ? d.skips.push(new RegExp("^" + w.slice(1) + "$")) : d.names.push(new RegExp("^" + w + "$")));
        }
        function v() {
          const w = [
            ...d.names.map(_),
            ...d.skips.map(_).map((S) => "-" + S)
          ].join(",");
          return d.enable(""), w;
        }
        function g(w) {
          if (w[w.length - 1] === "*")
            return !0;
          let S, x;
          for (S = 0, x = d.skips.length; S < x; S++)
            if (d.skips[S].test(w))
              return !1;
          for (S = 0, x = d.names.length; S < x; S++)
            if (d.names[S].test(w))
              return !0;
          return !1;
        }
        function _(w) {
          return w.toString().substring(2, w.toString().length - 2).replace(/\.\*\?$/, "*");
        }
        function b(w) {
          return w instanceof Error ? w.stack || w.message : w;
        }
        function A() {
          console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");
        }
        return d.enable(d.load()), d;
      }
      o.exports = u;
    }, { ms: 97 }], 32: [function(i, o, a) {
      (function(u, c) {
        (function() {
          var f = i("readable-stream"), d = i("end-of-stream"), p = i("inherits"), y = i("stream-shift"), v = c.from && c.from !== Uint8Array.from ? c.from([0]) : new c([0]), g = function(T, L) {
            T._corked ? T.once("uncork", L) : L();
          }, _ = function(T, L) {
            T._autoDestroy && T.destroy(L);
          }, b = function(T, L) {
            return function(k) {
              k ? _(T, k.message === "premature close" ? null : k) : L && !T._ended && T.end();
            };
          }, A = function(T, L) {
            if (!T || T._writableState && T._writableState.finished)
              return L();
            if (T._writableState)
              return T.end(L);
            T.end(), L();
          }, w = function() {
          }, S = function(T) {
            return new f.Readable({ objectMode: !0, highWaterMark: 16 }).wrap(T);
          }, x = function(T, L, k) {
            if (!(this instanceof x))
              return new x(T, L, k);
            f.Duplex.call(this, k), this._writable = null, this._readable = null, this._readable2 = null, this._autoDestroy = !k || k.autoDestroy !== !1, this._forwardDestroy = !k || k.destroy !== !1, this._forwardEnd = !k || k.end !== !1, this._corked = 1, this._ondrain = null, this._drained = !1, this._forwarding = !1, this._unwrite = null, this._unread = null, this._ended = !1, this.destroyed = !1, T && this.setWritable(T), L && this.setReadable(L);
          };
          p(x, f.Duplex), x.obj = function(T, L, k) {
            return k || (k = {}), k.objectMode = !0, k.highWaterMark = 16, new x(T, L, k);
          }, x.prototype.cork = function() {
            ++this._corked === 1 && this.emit("cork");
          }, x.prototype.uncork = function() {
            this._corked && --this._corked === 0 && this.emit("uncork");
          }, x.prototype.setWritable = function(T) {
            if (this._unwrite && this._unwrite(), this.destroyed) {
              T && T.destroy && T.destroy();
              return;
            }
            if (T === null || T === !1) {
              this.end();
              return;
            }
            var L = this, k = d(T, { writable: !0, readable: !1 }, b(this, this._forwardEnd)), M = function() {
              var ie = L._ondrain;
              L._ondrain = null, ie && ie();
            }, O = function() {
              L._writable.removeListener("drain", M), k();
            };
            this._unwrite && u.nextTick(M), this._writable = T, this._writable.on("drain", M), this._unwrite = O, this.uncork();
          }, x.prototype.setReadable = function(T) {
            if (this._unread && this._unread(), this.destroyed) {
              T && T.destroy && T.destroy();
              return;
            }
            if (T === null || T === !1) {
              this.push(null), this.resume();
              return;
            }
            var L = this, k = d(T, { writable: !1, readable: !0 }, b(this)), M = function() {
              L._forward();
            }, O = function() {
              L.push(null);
            }, ie = function() {
              L._readable2.removeListener("readable", M), L._readable2.removeListener("end", O), k();
            };
            this._drained = !0, this._readable = T, this._readable2 = T._readableState ? T : S(T), this._readable2.on("readable", M), this._readable2.on("end", O), this._unread = ie, this._forward();
          }, x.prototype._read = function() {
            this._drained = !0, this._forward();
          }, x.prototype._forward = function() {
            if (!(this._forwarding || !this._readable2 || !this._drained)) {
              this._forwarding = !0;
              for (var T; this._drained && (T = y(this._readable2)) !== null; )
                this.destroyed || (this._drained = this.push(T));
              this._forwarding = !1;
            }
          }, x.prototype.destroy = function(T, L) {
            if (L || (L = w), this.destroyed)
              return L(null);
            this.destroyed = !0;
            var k = this;
            u.nextTick(function() {
              k._destroy(T), L(null);
            });
          }, x.prototype._destroy = function(T) {
            if (T) {
              var L = this._ondrain;
              this._ondrain = null, L ? L(T) : this.emit("error", T);
            }
            this._forwardDestroy && (this._readable && this._readable.destroy && this._readable.destroy(), this._writable && this._writable.destroy && this._writable.destroy()), this.emit("close");
          }, x.prototype._write = function(T, L, k) {
            if (!this.destroyed) {
              if (this._corked)
                return g(this, this._write.bind(this, T, L, k));
              if (T === v)
                return this._finish(k);
              if (!this._writable)
                return k();
              this._writable.write(T) === !1 ? this._ondrain = k : this.destroyed || k();
            }
          }, x.prototype._finish = function(T) {
            var L = this;
            this.emit("preend"), g(this, function() {
              A(L._forwardEnd && L._writable, function() {
                L._writableState.prefinished === !1 && (L._writableState.prefinished = !0), L.emit("prefinish"), g(L, T);
              });
            });
          }, x.prototype.end = function(T, L, k) {
            return typeof T == "function" ? this.end(null, null, T) : typeof L == "function" ? this.end(T, null, L) : (this._ended = !0, T && this.write(T), !this._writableState.ending && !this._writableState.destroyed && this.write(v), f.Writable.prototype.end.call(this, k));
          }, o.exports = x;
        }).call(this);
      }).call(this, i("_process"), i("buffer").Buffer);
    }, { _process: 102, buffer: 29, "end-of-stream": 48, inherits: 51, "readable-stream": 47, "stream-shift": 135 }], 33: [function(i, o, a) {
      function u(g, _) {
        g.prototype = Object.create(_.prototype), g.prototype.constructor = g, g.__proto__ = _;
      }
      var c = {};
      function f(g, _, b) {
        b || (b = Error);
        function A(S, x, T) {
          return typeof _ == "string" ? _ : _(S, x, T);
        }
        var w = /* @__PURE__ */ function(S) {
          u(x, S);
          function x(T, L, k) {
            return S.call(this, A(T, L, k)) || this;
          }
          return x;
        }(b);
        w.prototype.name = b.name, w.prototype.code = g, c[g] = w;
      }
      function d(g, _) {
        if (Array.isArray(g)) {
          var b = g.length;
          return g = g.map(function(A) {
            return String(A);
          }), b > 2 ? "one of ".concat(_, " ").concat(g.slice(0, b - 1).join(", "), ", or ") + g[b - 1] : b === 2 ? "one of ".concat(_, " ").concat(g[0], " or ").concat(g[1]) : "of ".concat(_, " ").concat(g[0]);
        } else
          return "of ".concat(_, " ").concat(String(g));
      }
      function p(g, _, b) {
        return g.substr(!b || b < 0 ? 0 : +b, _.length) === _;
      }
      function y(g, _, b) {
        return (b === void 0 || b > g.length) && (b = g.length), g.substring(b - _.length, b) === _;
      }
      function v(g, _, b) {
        return typeof b != "number" && (b = 0), b + _.length > g.length ? !1 : g.indexOf(_, b) !== -1;
      }
      f("ERR_INVALID_OPT_VALUE", function(g, _) {
        return 'The value "' + _ + '" is invalid for option "' + g + '"';
      }, TypeError), f("ERR_INVALID_ARG_TYPE", function(g, _, b) {
        var A;
        typeof _ == "string" && p(_, "not ") ? (A = "must not be", _ = _.replace(/^not /, "")) : A = "must be";
        var w;
        if (y(g, " argument"))
          w = "The ".concat(g, " ").concat(A, " ").concat(d(_, "type"));
        else {
          var S = v(g, ".") ? "property" : "argument";
          w = 'The "'.concat(g, '" ').concat(S, " ").concat(A, " ").concat(d(_, "type"));
        }
        return w += ". Received type ".concat(typeof b), w;
      }, TypeError), f("ERR_STREAM_PUSH_AFTER_EOF", "stream.push() after EOF"), f("ERR_METHOD_NOT_IMPLEMENTED", function(g) {
        return "The " + g + " method is not implemented";
      }), f("ERR_STREAM_PREMATURE_CLOSE", "Premature close"), f("ERR_STREAM_DESTROYED", function(g) {
        return "Cannot call " + g + " after a stream was destroyed";
      }), f("ERR_MULTIPLE_CALLBACK", "Callback called multiple times"), f("ERR_STREAM_CANNOT_PIPE", "Cannot pipe, not readable"), f("ERR_STREAM_WRITE_AFTER_END", "write after end"), f("ERR_STREAM_NULL_VALUES", "May not write null values to stream", TypeError), f("ERR_UNKNOWN_ENCODING", function(g) {
        return "Unknown encoding: " + g;
      }, TypeError), f("ERR_STREAM_UNSHIFT_AFTER_END_EVENT", "stream.unshift() after end event"), o.exports.codes = c;
    }, {}], 34: [function(i, o, a) {
      (function(u) {
        (function() {
          var c = Object.keys || function(A) {
            var w = [];
            for (var S in A)
              w.push(S);
            return w;
          };
          o.exports = g;
          var f = i("./_stream_readable"), d = i("./_stream_writable");
          i("inherits")(g, f);
          for (var p = c(d.prototype), y = 0; y < p.length; y++) {
            var v = p[y];
            g.prototype[v] || (g.prototype[v] = d.prototype[v]);
          }
          function g(A) {
            if (!(this instanceof g))
              return new g(A);
            f.call(this, A), d.call(this, A), this.allowHalfOpen = !0, A && (A.readable === !1 && (this.readable = !1), A.writable === !1 && (this.writable = !1), A.allowHalfOpen === !1 && (this.allowHalfOpen = !1, this.once("end", _)));
          }
          Object.defineProperty(g.prototype, "writableHighWaterMark", {
            // making it explicit this property is not enumerable
            // because otherwise some prototype manipulation in
            // userland will fail
            enumerable: !1,
            get: function() {
              return this._writableState.highWaterMark;
            }
          }), Object.defineProperty(g.prototype, "writableBuffer", {
            // making it explicit this property is not enumerable
            // because otherwise some prototype manipulation in
            // userland will fail
            enumerable: !1,
            get: function() {
              return this._writableState && this._writableState.getBuffer();
            }
          }), Object.defineProperty(g.prototype, "writableLength", {
            // making it explicit this property is not enumerable
            // because otherwise some prototype manipulation in
            // userland will fail
            enumerable: !1,
            get: function() {
              return this._writableState.length;
            }
          });
          function _() {
            this._writableState.ended || u.nextTick(b, this);
          }
          function b(A) {
            A.end();
          }
          Object.defineProperty(g.prototype, "destroyed", {
            // making it explicit this property is not enumerable
            // because otherwise some prototype manipulation in
            // userland will fail
            enumerable: !1,
            get: function() {
              return this._readableState === void 0 || this._writableState === void 0 ? !1 : this._readableState.destroyed && this._writableState.destroyed;
            },
            set: function(w) {
              this._readableState === void 0 || this._writableState === void 0 || (this._readableState.destroyed = w, this._writableState.destroyed = w);
            }
          });
        }).call(this);
      }).call(this, i("_process"));
    }, { "./_stream_readable": 36, "./_stream_writable": 38, _process: 102, inherits: 51 }], 35: [function(i, o, a) {
      o.exports = c;
      var u = i("./_stream_transform");
      i("inherits")(c, u);
      function c(f) {
        if (!(this instanceof c))
          return new c(f);
        u.call(this, f);
      }
      c.prototype._transform = function(f, d, p) {
        p(null, f);
      };
    }, { "./_stream_transform": 37, inherits: 51 }], 36: [function(i, o, a) {
      (function(u, c) {
        (function() {
          o.exports = Ce;
          var f;
          Ce.ReadableState = ue, i("events").EventEmitter;
          var d = function(le, j) {
            return le.listeners(j).length;
          }, p = i("./internal/streams/stream"), y = i("buffer").Buffer, v = c.Uint8Array || function() {
          };
          function g(oe) {
            return y.from(oe);
          }
          function _(oe) {
            return y.isBuffer(oe) || oe instanceof v;
          }
          var b = i("util"), A;
          b && b.debuglog ? A = b.debuglog("stream") : A = function() {
          };
          var w = i("./internal/streams/buffer_list"), S = i("./internal/streams/destroy"), x = i("./internal/streams/state"), T = x.getHighWaterMark, L = i("../errors").codes, k = L.ERR_INVALID_ARG_TYPE, M = L.ERR_STREAM_PUSH_AFTER_EOF, O = L.ERR_METHOD_NOT_IMPLEMENTED, ie = L.ERR_STREAM_UNSHIFT_AFTER_END_EVENT, F, re, D;
          i("inherits")(Ce, p);
          var Y = S.errorOrDestroy, z = ["error", "close", "destroy", "pause", "resume"];
          function pe(oe, le, j) {
            if (typeof oe.prependListener == "function")
              return oe.prependListener(le, j);
            !oe._events || !oe._events[le] ? oe.on(le, j) : Array.isArray(oe._events[le]) ? oe._events[le].unshift(j) : oe._events[le] = [j, oe._events[le]];
          }
          function ue(oe, le, j) {
            f = f || i("./_stream_duplex"), oe = oe || {}, typeof j != "boolean" && (j = le instanceof f), this.objectMode = !!oe.objectMode, j && (this.objectMode = this.objectMode || !!oe.readableObjectMode), this.highWaterMark = T(this, oe, "readableHighWaterMark", j), this.buffer = new w(), this.length = 0, this.pipes = null, this.pipesCount = 0, this.flowing = null, this.ended = !1, this.endEmitted = !1, this.reading = !1, this.sync = !0, this.needReadable = !1, this.emittedReadable = !1, this.readableListening = !1, this.resumeScheduled = !1, this.paused = !0, this.emitClose = oe.emitClose !== !1, this.autoDestroy = !!oe.autoDestroy, this.destroyed = !1, this.defaultEncoding = oe.defaultEncoding || "utf8", this.awaitDrain = 0, this.readingMore = !1, this.decoder = null, this.encoding = null, oe.encoding && (F || (F = i("string_decoder/").StringDecoder), this.decoder = new F(oe.encoding), this.encoding = oe.encoding);
          }
          function Ce(oe) {
            if (f = f || i("./_stream_duplex"), !(this instanceof Ce))
              return new Ce(oe);
            var le = this instanceof f;
            this._readableState = new ue(oe, this, le), this.readable = !0, oe && (typeof oe.read == "function" && (this._read = oe.read), typeof oe.destroy == "function" && (this._destroy = oe.destroy)), p.call(this);
          }
          Object.defineProperty(Ce.prototype, "destroyed", {
            // making it explicit this property is not enumerable
            // because otherwise some prototype manipulation in
            // userland will fail
            enumerable: !1,
            get: function() {
              return this._readableState === void 0 ? !1 : this._readableState.destroyed;
            },
            set: function(le) {
              this._readableState && (this._readableState.destroyed = le);
            }
          }), Ce.prototype.destroy = S.destroy, Ce.prototype._undestroy = S.undestroy, Ce.prototype._destroy = function(oe, le) {
            le(oe);
          }, Ce.prototype.push = function(oe, le) {
            var j = this._readableState, V;
            return j.objectMode ? V = !0 : typeof oe == "string" && (le = le || j.defaultEncoding, le !== j.encoding && (oe = y.from(oe, le), le = ""), V = !0), Fe(this, oe, le, !1, V);
          }, Ce.prototype.unshift = function(oe) {
            return Fe(this, oe, null, !0, !1);
          };
          function Fe(oe, le, j, V, $) {
            A("readableAddChunk", le);
            var ae = oe._readableState;
            if (le === null)
              ae.reading = !1, In(oe, ae);
            else {
              var Ne;
              if ($ || (Ne = Pt(ae, le)), Ne)
                Y(oe, Ne);
              else if (ae.objectMode || le && le.length > 0)
                if (typeof le != "string" && !ae.objectMode && Object.getPrototypeOf(le) !== y.prototype && (le = g(le)), V)
                  ae.endEmitted ? Y(oe, new ie()) : Ie(oe, ae, le, !0);
                else if (ae.ended)
                  Y(oe, new M());
                else {
                  if (ae.destroyed)
                    return !1;
                  ae.reading = !1, ae.decoder && !j ? (le = ae.decoder.write(le), ae.objectMode || le.length !== 0 ? Ie(oe, ae, le, !1) : At(oe, ae)) : Ie(oe, ae, le, !1);
                }
              else
                V || (ae.reading = !1, At(oe, ae));
            }
            return !ae.ended && (ae.length < ae.highWaterMark || ae.length === 0);
          }
          function Ie(oe, le, j, V) {
            le.flowing && le.length === 0 && !le.sync ? (le.awaitDrain = 0, oe.emit("data", j)) : (le.length += le.objectMode ? 1 : j.length, V ? le.buffer.unshift(j) : le.buffer.push(j), le.needReadable && jt(oe)), At(oe, le);
          }
          function Pt(oe, le) {
            var j;
            return !_(le) && typeof le != "string" && le !== void 0 && !oe.objectMode && (j = new k("chunk", ["string", "Buffer", "Uint8Array"], le)), j;
          }
          Ce.prototype.isPaused = function() {
            return this._readableState.flowing === !1;
          }, Ce.prototype.setEncoding = function(oe) {
            F || (F = i("string_decoder/").StringDecoder);
            var le = new F(oe);
            this._readableState.decoder = le, this._readableState.encoding = this._readableState.decoder.encoding;
            for (var j = this._readableState.buffer.head, V = ""; j !== null; )
              V += le.write(j.data), j = j.next;
            return this._readableState.buffer.clear(), V !== "" && this._readableState.buffer.push(V), this._readableState.length = V.length, this;
          };
          var xe = 1073741824;
          function Lt(oe) {
            return oe >= xe ? oe = xe : (oe--, oe |= oe >>> 1, oe |= oe >>> 2, oe |= oe >>> 4, oe |= oe >>> 8, oe |= oe >>> 16, oe++), oe;
          }
          function _n(oe, le) {
            return oe <= 0 || le.length === 0 && le.ended ? 0 : le.objectMode ? 1 : oe !== oe ? le.flowing && le.length ? le.buffer.head.data.length : le.length : (oe > le.highWaterMark && (le.highWaterMark = Lt(oe)), oe <= le.length ? oe : le.ended ? le.length : (le.needReadable = !0, 0));
          }
          Ce.prototype.read = function(oe) {
            A("read", oe), oe = parseInt(oe, 10);
            var le = this._readableState, j = oe;
            if (oe !== 0 && (le.emittedReadable = !1), oe === 0 && le.needReadable && ((le.highWaterMark !== 0 ? le.length >= le.highWaterMark : le.length > 0) || le.ended))
              return A("read: emitReadable", le.length, le.ended), le.length === 0 && le.ended ? Dt(this) : jt(this), null;
            if (oe = _n(oe, le), oe === 0 && le.ended)
              return le.length === 0 && Dt(this), null;
            var V = le.needReadable;
            A("need readable", V), (le.length === 0 || le.length - oe < le.highWaterMark) && (V = !0, A("length less than watermark", V)), le.ended || le.reading ? (V = !1, A("reading or ended", V)) : V && (A("do read"), le.reading = !0, le.sync = !0, le.length === 0 && (le.needReadable = !0), this._read(le.highWaterMark), le.sync = !1, le.reading || (oe = _n(j, le)));
            var $;
            return oe > 0 ? $ = Ve(oe, le) : $ = null, $ === null ? (le.needReadable = le.length <= le.highWaterMark, oe = 0) : (le.length -= oe, le.awaitDrain = 0), le.length === 0 && (le.ended || (le.needReadable = !0), j !== oe && le.ended && Dt(this)), $ !== null && this.emit("data", $), $;
          };
          function In(oe, le) {
            if (A("onEofChunk"), !le.ended) {
              if (le.decoder) {
                var j = le.decoder.end();
                j && j.length && (le.buffer.push(j), le.length += le.objectMode ? 1 : j.length);
              }
              le.ended = !0, le.sync ? jt(oe) : (le.needReadable = !1, le.emittedReadable || (le.emittedReadable = !0, he(oe)));
            }
          }
          function jt(oe) {
            var le = oe._readableState;
            A("emitReadable", le.needReadable, le.emittedReadable), le.needReadable = !1, le.emittedReadable || (A("emitReadable", le.flowing), le.emittedReadable = !0, u.nextTick(he, oe));
          }
          function he(oe) {
            var le = oe._readableState;
            A("emitReadable_", le.destroyed, le.length, le.ended), !le.destroyed && (le.length || le.ended) && (oe.emit("readable"), le.emittedReadable = !1), le.needReadable = !le.flowing && !le.ended && le.length <= le.highWaterMark, Oe(oe);
          }
          function At(oe, le) {
            le.readingMore || (le.readingMore = !0, u.nextTick(kt, oe, le));
          }
          function kt(oe, le) {
            for (; !le.reading && !le.ended && (le.length < le.highWaterMark || le.flowing && le.length === 0); ) {
              var j = le.length;
              if (A("maybeReadMore read 0"), oe.read(0), j === le.length)
                break;
            }
            le.readingMore = !1;
          }
          Ce.prototype._read = function(oe) {
            Y(this, new O("_read()"));
          }, Ce.prototype.pipe = function(oe, le) {
            var j = this, V = this._readableState;
            switch (V.pipesCount) {
              case 0:
                V.pipes = oe;
                break;
              case 1:
                V.pipes = [V.pipes, oe];
                break;
              default:
                V.pipes.push(oe);
                break;
            }
            V.pipesCount += 1, A("pipe count=%d opts=%j", V.pipesCount, le);
            var $ = (!le || le.end !== !1) && oe !== u.stdout && oe !== u.stderr, ae = $ ? Ue : En;
            V.endEmitted ? u.nextTick(ae) : j.once("end", ae), oe.on("unpipe", Ne);
            function Ne(Ln, Nn) {
              A("onunpipe"), Ln === j && Nn && Nn.hasUnpiped === !1 && (Nn.hasUnpiped = !0, xn());
            }
            function Ue() {
              A("onend"), oe.end();
            }
            var vn = Cn(j);
            oe.on("drain", vn);
            var wn = !1;
            function xn() {
              A("cleanup"), oe.removeListener("close", qe), oe.removeListener("finish", Tn), oe.removeListener("drain", vn), oe.removeListener("error", $e), oe.removeListener("unpipe", Ne), j.removeListener("end", Ue), j.removeListener("end", En), j.removeListener("data", Bn), wn = !0, V.awaitDrain && (!oe._writableState || oe._writableState.needDrain) && vn();
            }
            j.on("data", Bn);
            function Bn(Ln) {
              A("ondata");
              var Nn = oe.write(Ln);
              A("dest.write", Nn), Nn === !1 && ((V.pipesCount === 1 && V.pipes === oe || V.pipesCount > 1 && bn(V.pipes, oe) !== -1) && !wn && (A("false write response, pause", V.awaitDrain), V.awaitDrain++), j.pause());
            }
            function $e(Ln) {
              A("onerror", Ln), En(), oe.removeListener("error", $e), d(oe, "error") === 0 && Y(oe, Ln);
            }
            pe(oe, "error", $e);
            function qe() {
              oe.removeListener("finish", Tn), En();
            }
            oe.once("close", qe);
            function Tn() {
              A("onfinish"), oe.removeListener("close", qe), En();
            }
            oe.once("finish", Tn);
            function En() {
              A("unpipe"), j.unpipe(oe);
            }
            return oe.emit("pipe", j), V.flowing || (A("pipe resume"), j.resume()), oe;
          };
          function Cn(oe) {
            return function() {
              var j = oe._readableState;
              A("pipeOnDrain", j.awaitDrain), j.awaitDrain && j.awaitDrain--, j.awaitDrain === 0 && d(oe, "data") && (j.flowing = !0, Oe(oe));
            };
          }
          Ce.prototype.unpipe = function(oe) {
            var le = this._readableState, j = {
              hasUnpiped: !1
            };
            if (le.pipesCount === 0)
              return this;
            if (le.pipesCount === 1)
              return oe && oe !== le.pipes ? this : (oe || (oe = le.pipes), le.pipes = null, le.pipesCount = 0, le.flowing = !1, oe && oe.emit("unpipe", this, j), this);
            if (!oe) {
              var V = le.pipes, $ = le.pipesCount;
              le.pipes = null, le.pipesCount = 0, le.flowing = !1;
              for (var ae = 0; ae < $; ae++)
                V[ae].emit("unpipe", this, {
                  hasUnpiped: !1
                });
              return this;
            }
            var Ne = bn(le.pipes, oe);
            return Ne === -1 ? this : (le.pipes.splice(Ne, 1), le.pipesCount -= 1, le.pipesCount === 1 && (le.pipes = le.pipes[0]), oe.emit("unpipe", this, j), this);
          }, Ce.prototype.on = function(oe, le) {
            var j = p.prototype.on.call(this, oe, le), V = this._readableState;
            return oe === "data" ? (V.readableListening = this.listenerCount("readable") > 0, V.flowing !== !1 && this.resume()) : oe === "readable" && !V.endEmitted && !V.readableListening && (V.readableListening = V.needReadable = !0, V.flowing = !1, V.emittedReadable = !1, A("on readable", V.length, V.reading), V.length ? jt(this) : V.reading || u.nextTick(_e, this)), j;
          }, Ce.prototype.addListener = Ce.prototype.on, Ce.prototype.removeListener = function(oe, le) {
            var j = p.prototype.removeListener.call(this, oe, le);
            return oe === "readable" && u.nextTick(ze, this), j;
          }, Ce.prototype.removeAllListeners = function(oe) {
            var le = p.prototype.removeAllListeners.apply(this, arguments);
            return (oe === "readable" || oe === void 0) && u.nextTick(ze, this), le;
          };
          function ze(oe) {
            var le = oe._readableState;
            le.readableListening = oe.listenerCount("readable") > 0, le.resumeScheduled && !le.paused ? le.flowing = !0 : oe.listenerCount("data") > 0 && oe.resume();
          }
          function _e(oe) {
            A("readable nexttick read 0"), oe.read(0);
          }
          Ce.prototype.resume = function() {
            var oe = this._readableState;
            return oe.flowing || (A("resume"), oe.flowing = !oe.readableListening, de(this, oe)), oe.paused = !1, this;
          };
          function de(oe, le) {
            le.resumeScheduled || (le.resumeScheduled = !0, u.nextTick(Et, oe, le));
          }
          function Et(oe, le) {
            A("resume", le.reading), le.reading || oe.read(0), le.resumeScheduled = !1, oe.emit("resume"), Oe(oe), le.flowing && !le.reading && oe.read(0);
          }
          Ce.prototype.pause = function() {
            return A("call pause flowing=%j", this._readableState.flowing), this._readableState.flowing !== !1 && (A("pause"), this._readableState.flowing = !1, this.emit("pause")), this._readableState.paused = !0, this;
          };
          function Oe(oe) {
            var le = oe._readableState;
            for (A("flow", le.flowing); le.flowing && oe.read() !== null; )
              ;
          }
          Ce.prototype.wrap = function(oe) {
            var le = this, j = this._readableState, V = !1;
            oe.on("end", function() {
              if (A("wrapped end"), j.decoder && !j.ended) {
                var Ne = j.decoder.end();
                Ne && Ne.length && le.push(Ne);
              }
              le.push(null);
            }), oe.on("data", function(Ne) {
              if (A("wrapped data"), j.decoder && (Ne = j.decoder.write(Ne)), !(j.objectMode && Ne == null) && !(!j.objectMode && (!Ne || !Ne.length))) {
                var Ue = le.push(Ne);
                Ue || (V = !0, oe.pause());
              }
            });
            for (var $ in oe)
              this[$] === void 0 && typeof oe[$] == "function" && (this[$] = function(Ue) {
                return function() {
                  return oe[Ue].apply(oe, arguments);
                };
              }($));
            for (var ae = 0; ae < z.length; ae++)
              oe.on(z[ae], this.emit.bind(this, z[ae]));
            return this._read = function(Ne) {
              A("wrapped _read", Ne), V && (V = !1, oe.resume());
            }, this;
          }, typeof Symbol == "function" && (Ce.prototype[Symbol.asyncIterator] = function() {
            return re === void 0 && (re = i("./internal/streams/async_iterator")), re(this);
          }), Object.defineProperty(Ce.prototype, "readableHighWaterMark", {
            // making it explicit this property is not enumerable
            // because otherwise some prototype manipulation in
            // userland will fail
            enumerable: !1,
            get: function() {
              return this._readableState.highWaterMark;
            }
          }), Object.defineProperty(Ce.prototype, "readableBuffer", {
            // making it explicit this property is not enumerable
            // because otherwise some prototype manipulation in
            // userland will fail
            enumerable: !1,
            get: function() {
              return this._readableState && this._readableState.buffer;
            }
          }), Object.defineProperty(Ce.prototype, "readableFlowing", {
            // making it explicit this property is not enumerable
            // because otherwise some prototype manipulation in
            // userland will fail
            enumerable: !1,
            get: function() {
              return this._readableState.flowing;
            },
            set: function(le) {
              this._readableState && (this._readableState.flowing = le);
            }
          }), Ce._fromList = Ve, Object.defineProperty(Ce.prototype, "readableLength", {
            // making it explicit this property is not enumerable
            // because otherwise some prototype manipulation in
            // userland will fail
            enumerable: !1,
            get: function() {
              return this._readableState.length;
            }
          });
          function Ve(oe, le) {
            if (le.length === 0)
              return null;
            var j;
            return le.objectMode ? j = le.buffer.shift() : !oe || oe >= le.length ? (le.decoder ? j = le.buffer.join("") : le.buffer.length === 1 ? j = le.buffer.first() : j = le.buffer.concat(le.length), le.buffer.clear()) : j = le.buffer.consume(oe, le.decoder), j;
          }
          function Dt(oe) {
            var le = oe._readableState;
            A("endReadable", le.endEmitted), le.endEmitted || (le.ended = !0, u.nextTick(hn, le, oe));
          }
          function hn(oe, le) {
            if (A("endReadableNT", oe.endEmitted, oe.length), !oe.endEmitted && oe.length === 0 && (oe.endEmitted = !0, le.readable = !1, le.emit("end"), oe.autoDestroy)) {
              var j = le._writableState;
              (!j || j.autoDestroy && j.finished) && le.destroy();
            }
          }
          typeof Symbol == "function" && (Ce.from = function(oe, le) {
            return D === void 0 && (D = i("./internal/streams/from")), D(Ce, oe, le);
          });
          function bn(oe, le) {
            for (var j = 0, V = oe.length; j < V; j++)
              if (oe[j] === le)
                return j;
            return -1;
          }
        }).call(this);
      }).call(this, i("_process"), typeof commonjsGlobal < "u" ? commonjsGlobal : typeof self < "u" ? self : typeof window < "u" ? window : {});
    }, { "../errors": 33, "./_stream_duplex": 34, "./internal/streams/async_iterator": 39, "./internal/streams/buffer_list": 40, "./internal/streams/destroy": 41, "./internal/streams/from": 43, "./internal/streams/state": 45, "./internal/streams/stream": 46, _process: 102, buffer: 29, events: 49, inherits: 51, "string_decoder/": 136, util: 26 }], 37: [function(i, o, a) {
      o.exports = g;
      var u = i("../errors").codes, c = u.ERR_METHOD_NOT_IMPLEMENTED, f = u.ERR_MULTIPLE_CALLBACK, d = u.ERR_TRANSFORM_ALREADY_TRANSFORMING, p = u.ERR_TRANSFORM_WITH_LENGTH_0, y = i("./_stream_duplex");
      i("inherits")(g, y);
      function v(A, w) {
        var S = this._transformState;
        S.transforming = !1;
        var x = S.writecb;
        if (x === null)
          return this.emit("error", new f());
        S.writechunk = null, S.writecb = null, w != null && this.push(w), x(A);
        var T = this._readableState;
        T.reading = !1, (T.needReadable || T.length < T.highWaterMark) && this._read(T.highWaterMark);
      }
      function g(A) {
        if (!(this instanceof g))
          return new g(A);
        y.call(this, A), this._transformState = {
          afterTransform: v.bind(this),
          needTransform: !1,
          transforming: !1,
          writecb: null,
          writechunk: null,
          writeencoding: null
        }, this._readableState.needReadable = !0, this._readableState.sync = !1, A && (typeof A.transform == "function" && (this._transform = A.transform), typeof A.flush == "function" && (this._flush = A.flush)), this.on("prefinish", _);
      }
      function _() {
        var A = this;
        typeof this._flush == "function" && !this._readableState.destroyed ? this._flush(function(w, S) {
          b(A, w, S);
        }) : b(this, null, null);
      }
      g.prototype.push = function(A, w) {
        return this._transformState.needTransform = !1, y.prototype.push.call(this, A, w);
      }, g.prototype._transform = function(A, w, S) {
        S(new c("_transform()"));
      }, g.prototype._write = function(A, w, S) {
        var x = this._transformState;
        if (x.writecb = S, x.writechunk = A, x.writeencoding = w, !x.transforming) {
          var T = this._readableState;
          (x.needTransform || T.needReadable || T.length < T.highWaterMark) && this._read(T.highWaterMark);
        }
      }, g.prototype._read = function(A) {
        var w = this._transformState;
        w.writechunk !== null && !w.transforming ? (w.transforming = !0, this._transform(w.writechunk, w.writeencoding, w.afterTransform)) : w.needTransform = !0;
      }, g.prototype._destroy = function(A, w) {
        y.prototype._destroy.call(this, A, function(S) {
          w(S);
        });
      };
      function b(A, w, S) {
        if (w)
          return A.emit("error", w);
        if (S != null && A.push(S), A._writableState.length)
          throw new p();
        if (A._transformState.transforming)
          throw new d();
        return A.push(null);
      }
    }, { "../errors": 33, "./_stream_duplex": 34, inherits: 51 }], 38: [function(i, o, a) {
      (function(u, c) {
        (function() {
          o.exports = ue;
          function f(Oe) {
            var Ve = this;
            this.next = null, this.entry = null, this.finish = function() {
              Et(Ve, Oe);
            };
          }
          var d;
          ue.WritableState = z;
          var p = {
            deprecate: i("util-deprecate")
          }, y = i("./internal/streams/stream"), v = i("buffer").Buffer, g = c.Uint8Array || function() {
          };
          function _(Oe) {
            return v.from(Oe);
          }
          function b(Oe) {
            return v.isBuffer(Oe) || Oe instanceof g;
          }
          var A = i("./internal/streams/destroy"), w = i("./internal/streams/state"), S = w.getHighWaterMark, x = i("../errors").codes, T = x.ERR_INVALID_ARG_TYPE, L = x.ERR_METHOD_NOT_IMPLEMENTED, k = x.ERR_MULTIPLE_CALLBACK, M = x.ERR_STREAM_CANNOT_PIPE, O = x.ERR_STREAM_DESTROYED, ie = x.ERR_STREAM_NULL_VALUES, F = x.ERR_STREAM_WRITE_AFTER_END, re = x.ERR_UNKNOWN_ENCODING, D = A.errorOrDestroy;
          i("inherits")(ue, y);
          function Y() {
          }
          function z(Oe, Ve, Dt) {
            d = d || i("./_stream_duplex"), Oe = Oe || {}, typeof Dt != "boolean" && (Dt = Ve instanceof d), this.objectMode = !!Oe.objectMode, Dt && (this.objectMode = this.objectMode || !!Oe.writableObjectMode), this.highWaterMark = S(this, Oe, "writableHighWaterMark", Dt), this.finalCalled = !1, this.needDrain = !1, this.ending = !1, this.ended = !1, this.finished = !1, this.destroyed = !1;
            var hn = Oe.decodeStrings === !1;
            this.decodeStrings = !hn, this.defaultEncoding = Oe.defaultEncoding || "utf8", this.length = 0, this.writing = !1, this.corked = 0, this.sync = !0, this.bufferProcessing = !1, this.onwrite = function(bn) {
              In(Ve, bn);
            }, this.writecb = null, this.writelen = 0, this.bufferedRequest = null, this.lastBufferedRequest = null, this.pendingcb = 0, this.prefinished = !1, this.errorEmitted = !1, this.emitClose = Oe.emitClose !== !1, this.autoDestroy = !!Oe.autoDestroy, this.bufferedRequestCount = 0, this.corkedRequestsFree = new f(this);
          }
          z.prototype.getBuffer = function() {
            for (var Ve = this.bufferedRequest, Dt = []; Ve; )
              Dt.push(Ve), Ve = Ve.next;
            return Dt;
          }, function() {
            try {
              Object.defineProperty(z.prototype, "buffer", {
                get: p.deprecate(function() {
                  return this.getBuffer();
                }, "_writableState.buffer is deprecated. Use _writableState.getBuffer instead.", "DEP0003")
              });
            } catch {
            }
          }();
          var pe;
          typeof Symbol == "function" && Symbol.hasInstance && typeof Function.prototype[Symbol.hasInstance] == "function" ? (pe = Function.prototype[Symbol.hasInstance], Object.defineProperty(ue, Symbol.hasInstance, {
            value: function(Ve) {
              return pe.call(this, Ve) ? !0 : this !== ue ? !1 : Ve && Ve._writableState instanceof z;
            }
          })) : pe = function(Ve) {
            return Ve instanceof this;
          };
          function ue(Oe) {
            d = d || i("./_stream_duplex");
            var Ve = this instanceof d;
            if (!Ve && !pe.call(ue, this))
              return new ue(Oe);
            this._writableState = new z(Oe, this, Ve), this.writable = !0, Oe && (typeof Oe.write == "function" && (this._write = Oe.write), typeof Oe.writev == "function" && (this._writev = Oe.writev), typeof Oe.destroy == "function" && (this._destroy = Oe.destroy), typeof Oe.final == "function" && (this._final = Oe.final)), y.call(this);
          }
          ue.prototype.pipe = function() {
            D(this, new M());
          };
          function Ce(Oe, Ve) {
            var Dt = new F();
            D(Oe, Dt), u.nextTick(Ve, Dt);
          }
          function Fe(Oe, Ve, Dt, hn) {
            var bn;
            return Dt === null ? bn = new ie() : typeof Dt != "string" && !Ve.objectMode && (bn = new T("chunk", ["string", "Buffer"], Dt)), bn ? (D(Oe, bn), u.nextTick(hn, bn), !1) : !0;
          }
          ue.prototype.write = function(Oe, Ve, Dt) {
            var hn = this._writableState, bn = !1, oe = !hn.objectMode && b(Oe);
            return oe && !v.isBuffer(Oe) && (Oe = _(Oe)), typeof Ve == "function" && (Dt = Ve, Ve = null), oe ? Ve = "buffer" : Ve || (Ve = hn.defaultEncoding), typeof Dt != "function" && (Dt = Y), hn.ending ? Ce(this, Dt) : (oe || Fe(this, hn, Oe, Dt)) && (hn.pendingcb++, bn = Pt(this, hn, oe, Oe, Ve, Dt)), bn;
          }, ue.prototype.cork = function() {
            this._writableState.corked++;
          }, ue.prototype.uncork = function() {
            var Oe = this._writableState;
            Oe.corked && (Oe.corked--, !Oe.writing && !Oe.corked && !Oe.bufferProcessing && Oe.bufferedRequest && At(this, Oe));
          }, ue.prototype.setDefaultEncoding = function(Ve) {
            if (typeof Ve == "string" && (Ve = Ve.toLowerCase()), !(["hex", "utf8", "utf-8", "ascii", "binary", "base64", "ucs2", "ucs-2", "utf16le", "utf-16le", "raw"].indexOf((Ve + "").toLowerCase()) > -1))
              throw new re(Ve);
            return this._writableState.defaultEncoding = Ve, this;
          }, Object.defineProperty(ue.prototype, "writableBuffer", {
            // making it explicit this property is not enumerable
            // because otherwise some prototype manipulation in
            // userland will fail
            enumerable: !1,
            get: function() {
              return this._writableState && this._writableState.getBuffer();
            }
          });
          function Ie(Oe, Ve, Dt) {
            return !Oe.objectMode && Oe.decodeStrings !== !1 && typeof Ve == "string" && (Ve = v.from(Ve, Dt)), Ve;
          }
          Object.defineProperty(ue.prototype, "writableHighWaterMark", {
            // making it explicit this property is not enumerable
            // because otherwise some prototype manipulation in
            // userland will fail
            enumerable: !1,
            get: function() {
              return this._writableState.highWaterMark;
            }
          });
          function Pt(Oe, Ve, Dt, hn, bn, oe) {
            if (!Dt) {
              var le = Ie(Ve, hn, bn);
              hn !== le && (Dt = !0, bn = "buffer", hn = le);
            }
            var j = Ve.objectMode ? 1 : hn.length;
            Ve.length += j;
            var V = Ve.length < Ve.highWaterMark;
            if (V || (Ve.needDrain = !0), Ve.writing || Ve.corked) {
              var $ = Ve.lastBufferedRequest;
              Ve.lastBufferedRequest = {
                chunk: hn,
                encoding: bn,
                isBuf: Dt,
                callback: oe,
                next: null
              }, $ ? $.next = Ve.lastBufferedRequest : Ve.bufferedRequest = Ve.lastBufferedRequest, Ve.bufferedRequestCount += 1;
            } else
              xe(Oe, Ve, !1, j, hn, bn, oe);
            return V;
          }
          function xe(Oe, Ve, Dt, hn, bn, oe, le) {
            Ve.writelen = hn, Ve.writecb = le, Ve.writing = !0, Ve.sync = !0, Ve.destroyed ? Ve.onwrite(new O("write")) : Dt ? Oe._writev(bn, Ve.onwrite) : Oe._write(bn, oe, Ve.onwrite), Ve.sync = !1;
          }
          function Lt(Oe, Ve, Dt, hn, bn) {
            --Ve.pendingcb, Dt ? (u.nextTick(bn, hn), u.nextTick(_e, Oe, Ve), Oe._writableState.errorEmitted = !0, D(Oe, hn)) : (bn(hn), Oe._writableState.errorEmitted = !0, D(Oe, hn), _e(Oe, Ve));
          }
          function _n(Oe) {
            Oe.writing = !1, Oe.writecb = null, Oe.length -= Oe.writelen, Oe.writelen = 0;
          }
          function In(Oe, Ve) {
            var Dt = Oe._writableState, hn = Dt.sync, bn = Dt.writecb;
            if (typeof bn != "function")
              throw new k();
            if (_n(Dt), Ve)
              Lt(Oe, Dt, hn, Ve, bn);
            else {
              var oe = kt(Dt) || Oe.destroyed;
              !oe && !Dt.corked && !Dt.bufferProcessing && Dt.bufferedRequest && At(Oe, Dt), hn ? u.nextTick(jt, Oe, Dt, oe, bn) : jt(Oe, Dt, oe, bn);
            }
          }
          function jt(Oe, Ve, Dt, hn) {
            Dt || he(Oe, Ve), Ve.pendingcb--, hn(), _e(Oe, Ve);
          }
          function he(Oe, Ve) {
            Ve.length === 0 && Ve.needDrain && (Ve.needDrain = !1, Oe.emit("drain"));
          }
          function At(Oe, Ve) {
            Ve.bufferProcessing = !0;
            var Dt = Ve.bufferedRequest;
            if (Oe._writev && Dt && Dt.next) {
              var hn = Ve.bufferedRequestCount, bn = new Array(hn), oe = Ve.corkedRequestsFree;
              oe.entry = Dt;
              for (var le = 0, j = !0; Dt; )
                bn[le] = Dt, Dt.isBuf || (j = !1), Dt = Dt.next, le += 1;
              bn.allBuffers = j, xe(Oe, Ve, !0, Ve.length, bn, "", oe.finish), Ve.pendingcb++, Ve.lastBufferedRequest = null, oe.next ? (Ve.corkedRequestsFree = oe.next, oe.next = null) : Ve.corkedRequestsFree = new f(Ve), Ve.bufferedRequestCount = 0;
            } else {
              for (; Dt; ) {
                var V = Dt.chunk, $ = Dt.encoding, ae = Dt.callback, Ne = Ve.objectMode ? 1 : V.length;
                if (xe(Oe, Ve, !1, Ne, V, $, ae), Dt = Dt.next, Ve.bufferedRequestCount--, Ve.writing)
                  break;
              }
              Dt === null && (Ve.lastBufferedRequest = null);
            }
            Ve.bufferedRequest = Dt, Ve.bufferProcessing = !1;
          }
          ue.prototype._write = function(Oe, Ve, Dt) {
            Dt(new L("_write()"));
          }, ue.prototype._writev = null, ue.prototype.end = function(Oe, Ve, Dt) {
            var hn = this._writableState;
            return typeof Oe == "function" ? (Dt = Oe, Oe = null, Ve = null) : typeof Ve == "function" && (Dt = Ve, Ve = null), Oe != null && this.write(Oe, Ve), hn.corked && (hn.corked = 1, this.uncork()), hn.ending || de(this, hn, Dt), this;
          }, Object.defineProperty(ue.prototype, "writableLength", {
            // making it explicit this property is not enumerable
            // because otherwise some prototype manipulation in
            // userland will fail
            enumerable: !1,
            get: function() {
              return this._writableState.length;
            }
          });
          function kt(Oe) {
            return Oe.ending && Oe.length === 0 && Oe.bufferedRequest === null && !Oe.finished && !Oe.writing;
          }
          function Cn(Oe, Ve) {
            Oe._final(function(Dt) {
              Ve.pendingcb--, Dt && D(Oe, Dt), Ve.prefinished = !0, Oe.emit("prefinish"), _e(Oe, Ve);
            });
          }
          function ze(Oe, Ve) {
            !Ve.prefinished && !Ve.finalCalled && (typeof Oe._final == "function" && !Ve.destroyed ? (Ve.pendingcb++, Ve.finalCalled = !0, u.nextTick(Cn, Oe, Ve)) : (Ve.prefinished = !0, Oe.emit("prefinish")));
          }
          function _e(Oe, Ve) {
            var Dt = kt(Ve);
            if (Dt && (ze(Oe, Ve), Ve.pendingcb === 0 && (Ve.finished = !0, Oe.emit("finish"), Ve.autoDestroy))) {
              var hn = Oe._readableState;
              (!hn || hn.autoDestroy && hn.endEmitted) && Oe.destroy();
            }
            return Dt;
          }
          function de(Oe, Ve, Dt) {
            Ve.ending = !0, _e(Oe, Ve), Dt && (Ve.finished ? u.nextTick(Dt) : Oe.once("finish", Dt)), Ve.ended = !0, Oe.writable = !1;
          }
          function Et(Oe, Ve, Dt) {
            var hn = Oe.entry;
            for (Oe.entry = null; hn; ) {
              var bn = hn.callback;
              Ve.pendingcb--, bn(Dt), hn = hn.next;
            }
            Ve.corkedRequestsFree.next = Oe;
          }
          Object.defineProperty(ue.prototype, "destroyed", {
            // making it explicit this property is not enumerable
            // because otherwise some prototype manipulation in
            // userland will fail
            enumerable: !1,
            get: function() {
              return this._writableState === void 0 ? !1 : this._writableState.destroyed;
            },
            set: function(Ve) {
              this._writableState && (this._writableState.destroyed = Ve);
            }
          }), ue.prototype.destroy = A.destroy, ue.prototype._undestroy = A.undestroy, ue.prototype._destroy = function(Oe, Ve) {
            Ve(Oe);
          };
        }).call(this);
      }).call(this, i("_process"), typeof commonjsGlobal < "u" ? commonjsGlobal : typeof self < "u" ? self : typeof window < "u" ? window : {});
    }, { "../errors": 33, "./_stream_duplex": 34, "./internal/streams/destroy": 41, "./internal/streams/state": 45, "./internal/streams/stream": 46, _process: 102, buffer: 29, inherits: 51, "util-deprecate": 139 }], 39: [function(i, o, a) {
      (function(u) {
        (function() {
          var c;
          function f(O, ie, F) {
            return ie in O ? Object.defineProperty(O, ie, { value: F, enumerable: !0, configurable: !0, writable: !0 }) : O[ie] = F, O;
          }
          var d = i("./end-of-stream"), p = Symbol("lastResolve"), y = Symbol("lastReject"), v = Symbol("error"), g = Symbol("ended"), _ = Symbol("lastPromise"), b = Symbol("handlePromise"), A = Symbol("stream");
          function w(O, ie) {
            return {
              value: O,
              done: ie
            };
          }
          function S(O) {
            var ie = O[p];
            if (ie !== null) {
              var F = O[A].read();
              F !== null && (O[_] = null, O[p] = null, O[y] = null, ie(w(F, !1)));
            }
          }
          function x(O) {
            u.nextTick(S, O);
          }
          function T(O, ie) {
            return function(F, re) {
              O.then(function() {
                if (ie[g]) {
                  F(w(void 0, !0));
                  return;
                }
                ie[b](F, re);
              }, re);
            };
          }
          var L = Object.getPrototypeOf(function() {
          }), k = Object.setPrototypeOf((c = {
            get stream() {
              return this[A];
            },
            next: function() {
              var ie = this, F = this[v];
              if (F !== null)
                return Promise.reject(F);
              if (this[g])
                return Promise.resolve(w(void 0, !0));
              if (this[A].destroyed)
                return new Promise(function(z, pe) {
                  u.nextTick(function() {
                    ie[v] ? pe(ie[v]) : z(w(void 0, !0));
                  });
                });
              var re = this[_], D;
              if (re)
                D = new Promise(T(re, this));
              else {
                var Y = this[A].read();
                if (Y !== null)
                  return Promise.resolve(w(Y, !1));
                D = new Promise(this[b]);
              }
              return this[_] = D, D;
            }
          }, f(c, Symbol.asyncIterator, function() {
            return this;
          }), f(c, "return", function() {
            var ie = this;
            return new Promise(function(F, re) {
              ie[A].destroy(null, function(D) {
                if (D) {
                  re(D);
                  return;
                }
                F(w(void 0, !0));
              });
            });
          }), c), L), M = function(ie) {
            var F, re = Object.create(k, (F = {}, f(F, A, {
              value: ie,
              writable: !0
            }), f(F, p, {
              value: null,
              writable: !0
            }), f(F, y, {
              value: null,
              writable: !0
            }), f(F, v, {
              value: null,
              writable: !0
            }), f(F, g, {
              value: ie._readableState.endEmitted,
              writable: !0
            }), f(F, b, {
              value: function(Y, z) {
                var pe = re[A].read();
                pe ? (re[_] = null, re[p] = null, re[y] = null, Y(w(pe, !1))) : (re[p] = Y, re[y] = z);
              },
              writable: !0
            }), F));
            return re[_] = null, d(ie, function(D) {
              if (D && D.code !== "ERR_STREAM_PREMATURE_CLOSE") {
                var Y = re[y];
                Y !== null && (re[_] = null, re[p] = null, re[y] = null, Y(D)), re[v] = D;
                return;
              }
              var z = re[p];
              z !== null && (re[_] = null, re[p] = null, re[y] = null, z(w(void 0, !0))), re[g] = !0;
            }), ie.on("readable", x.bind(null, re)), re;
          };
          o.exports = M;
        }).call(this);
      }).call(this, i("_process"));
    }, { "./end-of-stream": 42, _process: 102 }], 40: [function(i, o, a) {
      function u(S, x) {
        var T = Object.keys(S);
        if (Object.getOwnPropertySymbols) {
          var L = Object.getOwnPropertySymbols(S);
          x && (L = L.filter(function(k) {
            return Object.getOwnPropertyDescriptor(S, k).enumerable;
          })), T.push.apply(T, L);
        }
        return T;
      }
      function c(S) {
        for (var x = 1; x < arguments.length; x++) {
          var T = arguments[x] != null ? arguments[x] : {};
          x % 2 ? u(Object(T), !0).forEach(function(L) {
            f(S, L, T[L]);
          }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(S, Object.getOwnPropertyDescriptors(T)) : u(Object(T)).forEach(function(L) {
            Object.defineProperty(S, L, Object.getOwnPropertyDescriptor(T, L));
          });
        }
        return S;
      }
      function f(S, x, T) {
        return x in S ? Object.defineProperty(S, x, { value: T, enumerable: !0, configurable: !0, writable: !0 }) : S[x] = T, S;
      }
      function d(S, x) {
        if (!(S instanceof x))
          throw new TypeError("Cannot call a class as a function");
      }
      function p(S, x) {
        for (var T = 0; T < x.length; T++) {
          var L = x[T];
          L.enumerable = L.enumerable || !1, L.configurable = !0, "value" in L && (L.writable = !0), Object.defineProperty(S, L.key, L);
        }
      }
      function y(S, x, T) {
        return x && p(S.prototype, x), T && p(S, T), S;
      }
      var v = i("buffer"), g = v.Buffer, _ = i("util"), b = _.inspect, A = b && b.custom || "inspect";
      function w(S, x, T) {
        g.prototype.copy.call(S, x, T);
      }
      o.exports = /* @__PURE__ */ function() {
        function S() {
          d(this, S), this.head = null, this.tail = null, this.length = 0;
        }
        return y(S, [{
          key: "push",
          value: function(T) {
            var L = {
              data: T,
              next: null
            };
            this.length > 0 ? this.tail.next = L : this.head = L, this.tail = L, ++this.length;
          }
        }, {
          key: "unshift",
          value: function(T) {
            var L = {
              data: T,
              next: this.head
            };
            this.length === 0 && (this.tail = L), this.head = L, ++this.length;
          }
        }, {
          key: "shift",
          value: function() {
            if (this.length !== 0) {
              var T = this.head.data;
              return this.length === 1 ? this.head = this.tail = null : this.head = this.head.next, --this.length, T;
            }
          }
        }, {
          key: "clear",
          value: function() {
            this.head = this.tail = null, this.length = 0;
          }
        }, {
          key: "join",
          value: function(T) {
            if (this.length === 0)
              return "";
            for (var L = this.head, k = "" + L.data; L = L.next; )
              k += T + L.data;
            return k;
          }
        }, {
          key: "concat",
          value: function(T) {
            if (this.length === 0)
              return g.alloc(0);
            for (var L = g.allocUnsafe(T >>> 0), k = this.head, M = 0; k; )
              w(k.data, L, M), M += k.data.length, k = k.next;
            return L;
          }
          // Consumes a specified amount of bytes or characters from the buffered data.
        }, {
          key: "consume",
          value: function(T, L) {
            var k;
            return T < this.head.data.length ? (k = this.head.data.slice(0, T), this.head.data = this.head.data.slice(T)) : T === this.head.data.length ? k = this.shift() : k = L ? this._getString(T) : this._getBuffer(T), k;
          }
        }, {
          key: "first",
          value: function() {
            return this.head.data;
          }
          // Consumes a specified amount of characters from the buffered data.
        }, {
          key: "_getString",
          value: function(T) {
            var L = this.head, k = 1, M = L.data;
            for (T -= M.length; L = L.next; ) {
              var O = L.data, ie = T > O.length ? O.length : T;
              if (ie === O.length ? M += O : M += O.slice(0, T), T -= ie, T === 0) {
                ie === O.length ? (++k, L.next ? this.head = L.next : this.head = this.tail = null) : (this.head = L, L.data = O.slice(ie));
                break;
              }
              ++k;
            }
            return this.length -= k, M;
          }
          // Consumes a specified amount of bytes from the buffered data.
        }, {
          key: "_getBuffer",
          value: function(T) {
            var L = g.allocUnsafe(T), k = this.head, M = 1;
            for (k.data.copy(L), T -= k.data.length; k = k.next; ) {
              var O = k.data, ie = T > O.length ? O.length : T;
              if (O.copy(L, L.length - T, 0, ie), T -= ie, T === 0) {
                ie === O.length ? (++M, k.next ? this.head = k.next : this.head = this.tail = null) : (this.head = k, k.data = O.slice(ie));
                break;
              }
              ++M;
            }
            return this.length -= M, L;
          }
          // Make sure the linked list only shows the minimal necessary information.
        }, {
          key: A,
          value: function(T, L) {
            return b(this, c({}, L, {
              // Only inspect one level.
              depth: 0,
              // It should not recurse.
              customInspect: !1
            }));
          }
        }]), S;
      }();
    }, { buffer: 29, util: 26 }], 41: [function(i, o, a) {
      (function(u) {
        (function() {
          function c(g, _) {
            var b = this, A = this._readableState && this._readableState.destroyed, w = this._writableState && this._writableState.destroyed;
            return A || w ? (_ ? _(g) : g && (this._writableState ? this._writableState.errorEmitted || (this._writableState.errorEmitted = !0, u.nextTick(y, this, g)) : u.nextTick(y, this, g)), this) : (this._readableState && (this._readableState.destroyed = !0), this._writableState && (this._writableState.destroyed = !0), this._destroy(g || null, function(S) {
              !_ && S ? b._writableState ? b._writableState.errorEmitted ? u.nextTick(d, b) : (b._writableState.errorEmitted = !0, u.nextTick(f, b, S)) : u.nextTick(f, b, S) : _ ? (u.nextTick(d, b), _(S)) : u.nextTick(d, b);
            }), this);
          }
          function f(g, _) {
            y(g, _), d(g);
          }
          function d(g) {
            g._writableState && !g._writableState.emitClose || g._readableState && !g._readableState.emitClose || g.emit("close");
          }
          function p() {
            this._readableState && (this._readableState.destroyed = !1, this._readableState.reading = !1, this._readableState.ended = !1, this._readableState.endEmitted = !1), this._writableState && (this._writableState.destroyed = !1, this._writableState.ended = !1, this._writableState.ending = !1, this._writableState.finalCalled = !1, this._writableState.prefinished = !1, this._writableState.finished = !1, this._writableState.errorEmitted = !1);
          }
          function y(g, _) {
            g.emit("error", _);
          }
          function v(g, _) {
            var b = g._readableState, A = g._writableState;
            b && b.autoDestroy || A && A.autoDestroy ? g.destroy(_) : g.emit("error", _);
          }
          o.exports = {
            destroy: c,
            undestroy: p,
            errorOrDestroy: v
          };
        }).call(this);
      }).call(this, i("_process"));
    }, { _process: 102 }], 42: [function(i, o, a) {
      var u = i("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;
      function c(y) {
        var v = !1;
        return function() {
          if (!v) {
            v = !0;
            for (var g = arguments.length, _ = new Array(g), b = 0; b < g; b++)
              _[b] = arguments[b];
            y.apply(this, _);
          }
        };
      }
      function f() {
      }
      function d(y) {
        return y.setHeader && typeof y.abort == "function";
      }
      function p(y, v, g) {
        if (typeof v == "function")
          return p(y, null, v);
        v || (v = {}), g = c(g || f);
        var _ = v.readable || v.readable !== !1 && y.readable, b = v.writable || v.writable !== !1 && y.writable, A = function() {
          y.writable || S();
        }, w = y._writableState && y._writableState.finished, S = function() {
          b = !1, w = !0, _ || g.call(y);
        }, x = y._readableState && y._readableState.endEmitted, T = function() {
          _ = !1, x = !0, b || g.call(y);
        }, L = function(ie) {
          g.call(y, ie);
        }, k = function() {
          var ie;
          if (_ && !x)
            return (!y._readableState || !y._readableState.ended) && (ie = new u()), g.call(y, ie);
          if (b && !w)
            return (!y._writableState || !y._writableState.ended) && (ie = new u()), g.call(y, ie);
        }, M = function() {
          y.req.on("finish", S);
        };
        return d(y) ? (y.on("complete", S), y.on("abort", k), y.req ? M() : y.on("request", M)) : b && !y._writableState && (y.on("end", A), y.on("close", A)), y.on("end", T), y.on("finish", S), v.error !== !1 && y.on("error", L), y.on("close", k), function() {
          y.removeListener("complete", S), y.removeListener("abort", k), y.removeListener("request", M), y.req && y.req.removeListener("finish", S), y.removeListener("end", A), y.removeListener("close", A), y.removeListener("finish", S), y.removeListener("end", T), y.removeListener("error", L), y.removeListener("close", k);
        };
      }
      o.exports = p;
    }, { "../../../errors": 33 }], 43: [function(i, o, a) {
      o.exports = function() {
        throw new Error("Readable.from is not available in the browser");
      };
    }, {}], 44: [function(i, o, a) {
      var u;
      function c(S) {
        var x = !1;
        return function() {
          x || (x = !0, S.apply(void 0, arguments));
        };
      }
      var f = i("../../../errors").codes, d = f.ERR_MISSING_ARGS, p = f.ERR_STREAM_DESTROYED;
      function y(S) {
        if (S)
          throw S;
      }
      function v(S) {
        return S.setHeader && typeof S.abort == "function";
      }
      function g(S, x, T, L) {
        L = c(L);
        var k = !1;
        S.on("close", function() {
          k = !0;
        }), u === void 0 && (u = i("./end-of-stream")), u(S, {
          readable: x,
          writable: T
        }, function(O) {
          if (O)
            return L(O);
          k = !0, L();
        });
        var M = !1;
        return function(O) {
          if (!k && !M) {
            if (M = !0, v(S))
              return S.abort();
            if (typeof S.destroy == "function")
              return S.destroy();
            L(O || new p("pipe"));
          }
        };
      }
      function _(S) {
        S();
      }
      function b(S, x) {
        return S.pipe(x);
      }
      function A(S) {
        return !S.length || typeof S[S.length - 1] != "function" ? y : S.pop();
      }
      function w() {
        for (var S = arguments.length, x = new Array(S), T = 0; T < S; T++)
          x[T] = arguments[T];
        var L = A(x);
        if (Array.isArray(x[0]) && (x = x[0]), x.length < 2)
          throw new d("streams");
        var k, M = x.map(function(O, ie) {
          var F = ie < x.length - 1, re = ie > 0;
          return g(O, F, re, function(D) {
            k || (k = D), D && M.forEach(_), !F && (M.forEach(_), L(k));
          });
        });
        return x.reduce(b);
      }
      o.exports = w;
    }, { "../../../errors": 33, "./end-of-stream": 42 }], 45: [function(i, o, a) {
      var u = i("../../../errors").codes.ERR_INVALID_OPT_VALUE;
      function c(d, p, y) {
        return d.highWaterMark != null ? d.highWaterMark : p ? d[y] : null;
      }
      function f(d, p, y, v) {
        var g = c(p, v, y);
        if (g != null) {
          if (!(isFinite(g) && Math.floor(g) === g) || g < 0) {
            var _ = v ? y : "highWaterMark";
            throw new u(_, g);
          }
          return Math.floor(g);
        }
        return d.objectMode ? 16 : 16 * 1024;
      }
      o.exports = {
        getHighWaterMark: f
      };
    }, { "../../../errors": 33 }], 46: [function(i, o, a) {
      o.exports = i("events").EventEmitter;
    }, { events: 49 }], 47: [function(i, o, a) {
      a = o.exports = i("./lib/_stream_readable.js"), a.Stream = a, a.Readable = a, a.Writable = i("./lib/_stream_writable.js"), a.Duplex = i("./lib/_stream_duplex.js"), a.Transform = i("./lib/_stream_transform.js"), a.PassThrough = i("./lib/_stream_passthrough.js"), a.finished = i("./lib/internal/streams/end-of-stream.js"), a.pipeline = i("./lib/internal/streams/pipeline.js");
    }, { "./lib/_stream_duplex.js": 34, "./lib/_stream_passthrough.js": 35, "./lib/_stream_readable.js": 36, "./lib/_stream_transform.js": 37, "./lib/_stream_writable.js": 38, "./lib/internal/streams/end-of-stream.js": 42, "./lib/internal/streams/pipeline.js": 44 }], 48: [function(i, o, a) {
      (function(u) {
        (function() {
          var c = i("once"), f = function() {
          }, d = function(v) {
            return v.setHeader && typeof v.abort == "function";
          }, p = function(v) {
            return v.stdio && Array.isArray(v.stdio) && v.stdio.length === 3;
          }, y = function(v, g, _) {
            if (typeof g == "function")
              return y(v, null, g);
            g || (g = {}), _ = c(_ || f);
            var b = v._writableState, A = v._readableState, w = g.readable || g.readable !== !1 && v.readable, S = g.writable || g.writable !== !1 && v.writable, x = !1, T = function() {
              v.writable || L();
            }, L = function() {
              S = !1, w || _.call(v);
            }, k = function() {
              w = !1, S || _.call(v);
            }, M = function(D) {
              _.call(v, D ? new Error("exited with error code: " + D) : null);
            }, O = function(D) {
              _.call(v, D);
            }, ie = function() {
              u.nextTick(F);
            }, F = function() {
              if (!x) {
                if (w && !(A && A.ended && !A.destroyed))
                  return _.call(v, new Error("premature close"));
                if (S && !(b && b.ended && !b.destroyed))
                  return _.call(v, new Error("premature close"));
              }
            }, re = function() {
              v.req.on("finish", L);
            };
            return d(v) ? (v.on("complete", L), v.on("abort", ie), v.req ? re() : v.on("request", re)) : S && !b && (v.on("end", T), v.on("close", T)), p(v) && v.on("exit", M), v.on("end", k), v.on("finish", L), g.error !== !1 && v.on("error", O), v.on("close", ie), function() {
              x = !0, v.removeListener("complete", L), v.removeListener("abort", ie), v.removeListener("request", re), v.req && v.req.removeListener("finish", L), v.removeListener("end", T), v.removeListener("close", T), v.removeListener("finish", L), v.removeListener("exit", M), v.removeListener("end", k), v.removeListener("error", O), v.removeListener("close", ie);
            };
          };
          o.exports = y;
        }).call(this);
      }).call(this, i("_process"));
    }, { _process: 102, once: 100 }], 49: [function(i, o, a) {
      var u = typeof Reflect == "object" ? Reflect : null, c = u && typeof u.apply == "function" ? u.apply : function(re, D, Y) {
        return Function.prototype.apply.call(re, D, Y);
      }, f;
      u && typeof u.ownKeys == "function" ? f = u.ownKeys : Object.getOwnPropertySymbols ? f = function(re) {
        return Object.getOwnPropertyNames(re).concat(Object.getOwnPropertySymbols(re));
      } : f = function(re) {
        return Object.getOwnPropertyNames(re);
      };
      function d(F) {
        console && console.warn && console.warn(F);
      }
      var p = Number.isNaN || function(re) {
        return re !== re;
      };
      function y() {
        y.init.call(this);
      }
      o.exports = y, o.exports.once = M, y.EventEmitter = y, y.prototype._events = void 0, y.prototype._eventsCount = 0, y.prototype._maxListeners = void 0;
      var v = 10;
      function g(F) {
        if (typeof F != "function")
          throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof F);
      }
      Object.defineProperty(y, "defaultMaxListeners", {
        enumerable: !0,
        get: function() {
          return v;
        },
        set: function(F) {
          if (typeof F != "number" || F < 0 || p(F))
            throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received ' + F + ".");
          v = F;
        }
      }), y.init = function() {
        (this._events === void 0 || this._events === Object.getPrototypeOf(this)._events) && (this._events = /* @__PURE__ */ Object.create(null), this._eventsCount = 0), this._maxListeners = this._maxListeners || void 0;
      }, y.prototype.setMaxListeners = function(re) {
        if (typeof re != "number" || re < 0 || p(re))
          throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received ' + re + ".");
        return this._maxListeners = re, this;
      };
      function _(F) {
        return F._maxListeners === void 0 ? y.defaultMaxListeners : F._maxListeners;
      }
      y.prototype.getMaxListeners = function() {
        return _(this);
      }, y.prototype.emit = function(re) {
        for (var D = [], Y = 1; Y < arguments.length; Y++)
          D.push(arguments[Y]);
        var z = re === "error", pe = this._events;
        if (pe !== void 0)
          z = z && pe.error === void 0;
        else if (!z)
          return !1;
        if (z) {
          var ue;
          if (D.length > 0 && (ue = D[0]), ue instanceof Error)
            throw ue;
          var Ce = new Error("Unhandled error." + (ue ? " (" + ue.message + ")" : ""));
          throw Ce.context = ue, Ce;
        }
        var Fe = pe[re];
        if (Fe === void 0)
          return !1;
        if (typeof Fe == "function")
          c(Fe, this, D);
        else
          for (var Ie = Fe.length, Pt = T(Fe, Ie), Y = 0; Y < Ie; ++Y)
            c(Pt[Y], this, D);
        return !0;
      };
      function b(F, re, D, Y) {
        var z, pe, ue;
        if (g(D), pe = F._events, pe === void 0 ? (pe = F._events = /* @__PURE__ */ Object.create(null), F._eventsCount = 0) : (pe.newListener !== void 0 && (F.emit(
          "newListener",
          re,
          D.listener ? D.listener : D
        ), pe = F._events), ue = pe[re]), ue === void 0)
          ue = pe[re] = D, ++F._eventsCount;
        else if (typeof ue == "function" ? ue = pe[re] = Y ? [D, ue] : [ue, D] : Y ? ue.unshift(D) : ue.push(D), z = _(F), z > 0 && ue.length > z && !ue.warned) {
          ue.warned = !0;
          var Ce = new Error("Possible EventEmitter memory leak detected. " + ue.length + " " + String(re) + " listeners added. Use emitter.setMaxListeners() to increase limit");
          Ce.name = "MaxListenersExceededWarning", Ce.emitter = F, Ce.type = re, Ce.count = ue.length, d(Ce);
        }
        return F;
      }
      y.prototype.addListener = function(re, D) {
        return b(this, re, D, !1);
      }, y.prototype.on = y.prototype.addListener, y.prototype.prependListener = function(re, D) {
        return b(this, re, D, !0);
      };
      function A() {
        if (!this.fired)
          return this.target.removeListener(this.type, this.wrapFn), this.fired = !0, arguments.length === 0 ? this.listener.call(this.target) : this.listener.apply(this.target, arguments);
      }
      function w(F, re, D) {
        var Y = { fired: !1, wrapFn: void 0, target: F, type: re, listener: D }, z = A.bind(Y);
        return z.listener = D, Y.wrapFn = z, z;
      }
      y.prototype.once = function(re, D) {
        return g(D), this.on(re, w(this, re, D)), this;
      }, y.prototype.prependOnceListener = function(re, D) {
        return g(D), this.prependListener(re, w(this, re, D)), this;
      }, y.prototype.removeListener = function(re, D) {
        var Y, z, pe, ue, Ce;
        if (g(D), z = this._events, z === void 0)
          return this;
        if (Y = z[re], Y === void 0)
          return this;
        if (Y === D || Y.listener === D)
          --this._eventsCount === 0 ? this._events = /* @__PURE__ */ Object.create(null) : (delete z[re], z.removeListener && this.emit("removeListener", re, Y.listener || D));
        else if (typeof Y != "function") {
          for (pe = -1, ue = Y.length - 1; ue >= 0; ue--)
            if (Y[ue] === D || Y[ue].listener === D) {
              Ce = Y[ue].listener, pe = ue;
              break;
            }
          if (pe < 0)
            return this;
          pe === 0 ? Y.shift() : L(Y, pe), Y.length === 1 && (z[re] = Y[0]), z.removeListener !== void 0 && this.emit("removeListener", re, Ce || D);
        }
        return this;
      }, y.prototype.off = y.prototype.removeListener, y.prototype.removeAllListeners = function(re) {
        var D, Y, z;
        if (Y = this._events, Y === void 0)
          return this;
        if (Y.removeListener === void 0)
          return arguments.length === 0 ? (this._events = /* @__PURE__ */ Object.create(null), this._eventsCount = 0) : Y[re] !== void 0 && (--this._eventsCount === 0 ? this._events = /* @__PURE__ */ Object.create(null) : delete Y[re]), this;
        if (arguments.length === 0) {
          var pe = Object.keys(Y), ue;
          for (z = 0; z < pe.length; ++z)
            ue = pe[z], ue !== "removeListener" && this.removeAllListeners(ue);
          return this.removeAllListeners("removeListener"), this._events = /* @__PURE__ */ Object.create(null), this._eventsCount = 0, this;
        }
        if (D = Y[re], typeof D == "function")
          this.removeListener(re, D);
        else if (D !== void 0)
          for (z = D.length - 1; z >= 0; z--)
            this.removeListener(re, D[z]);
        return this;
      };
      function S(F, re, D) {
        var Y = F._events;
        if (Y === void 0)
          return [];
        var z = Y[re];
        return z === void 0 ? [] : typeof z == "function" ? D ? [z.listener || z] : [z] : D ? k(z) : T(z, z.length);
      }
      y.prototype.listeners = function(re) {
        return S(this, re, !0);
      }, y.prototype.rawListeners = function(re) {
        return S(this, re, !1);
      }, y.listenerCount = function(F, re) {
        return typeof F.listenerCount == "function" ? F.listenerCount(re) : x.call(F, re);
      }, y.prototype.listenerCount = x;
      function x(F) {
        var re = this._events;
        if (re !== void 0) {
          var D = re[F];
          if (typeof D == "function")
            return 1;
          if (D !== void 0)
            return D.length;
        }
        return 0;
      }
      y.prototype.eventNames = function() {
        return this._eventsCount > 0 ? f(this._events) : [];
      };
      function T(F, re) {
        for (var D = new Array(re), Y = 0; Y < re; ++Y)
          D[Y] = F[Y];
        return D;
      }
      function L(F, re) {
        for (; re + 1 < F.length; re++)
          F[re] = F[re + 1];
        F.pop();
      }
      function k(F) {
        for (var re = new Array(F.length), D = 0; D < re.length; ++D)
          re[D] = F[D].listener || F[D];
        return re;
      }
      function M(F, re) {
        return new Promise(function(D, Y) {
          function z(ue) {
            F.removeListener(re, pe), Y(ue);
          }
          function pe() {
            typeof F.removeListener == "function" && F.removeListener("error", z), D([].slice.call(arguments));
          }
          ie(F, re, pe, { once: !0 }), re !== "error" && O(F, z, { once: !0 });
        });
      }
      function O(F, re, D) {
        typeof F.on == "function" && ie(F, "error", re, D);
      }
      function ie(F, re, D, Y) {
        if (typeof F.on == "function")
          Y.once ? F.once(re, D) : F.on(re, D);
        else if (typeof F.addEventListener == "function")
          F.addEventListener(re, function z(pe) {
            Y.once && F.removeEventListener(re, z), D(pe);
          });
        else
          throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type ' + typeof F);
      }
    }, {}], 50: [function(i, o, a) {
      /*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
      a.read = function(u, c, f, d, p) {
        var y, v, g = p * 8 - d - 1, _ = (1 << g) - 1, b = _ >> 1, A = -7, w = f ? p - 1 : 0, S = f ? -1 : 1, x = u[c + w];
        for (w += S, y = x & (1 << -A) - 1, x >>= -A, A += g; A > 0; y = y * 256 + u[c + w], w += S, A -= 8)
          ;
        for (v = y & (1 << -A) - 1, y >>= -A, A += d; A > 0; v = v * 256 + u[c + w], w += S, A -= 8)
          ;
        if (y === 0)
          y = 1 - b;
        else {
          if (y === _)
            return v ? NaN : (x ? -1 : 1) * (1 / 0);
          v = v + Math.pow(2, d), y = y - b;
        }
        return (x ? -1 : 1) * v * Math.pow(2, y - d);
      }, a.write = function(u, c, f, d, p, y) {
        var v, g, _, b = y * 8 - p - 1, A = (1 << b) - 1, w = A >> 1, S = p === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0, x = d ? 0 : y - 1, T = d ? 1 : -1, L = c < 0 || c === 0 && 1 / c < 0 ? 1 : 0;
        for (c = Math.abs(c), isNaN(c) || c === 1 / 0 ? (g = isNaN(c) ? 1 : 0, v = A) : (v = Math.floor(Math.log(c) / Math.LN2), c * (_ = Math.pow(2, -v)) < 1 && (v--, _ *= 2), v + w >= 1 ? c += S / _ : c += S * Math.pow(2, 1 - w), c * _ >= 2 && (v++, _ /= 2), v + w >= A ? (g = 0, v = A) : v + w >= 1 ? (g = (c * _ - 1) * Math.pow(2, p), v = v + w) : (g = c * Math.pow(2, w - 1) * Math.pow(2, p), v = 0)); p >= 8; u[f + x] = g & 255, x += T, g /= 256, p -= 8)
          ;
        for (v = v << p | g, b += p; b > 0; u[f + x] = v & 255, x += T, v /= 256, b -= 8)
          ;
        u[f + x - T] |= L * 128;
      };
    }, {}], 51: [function(i, o, a) {
      typeof Object.create == "function" ? o.exports = function(c, f) {
        f && (c.super_ = f, c.prototype = Object.create(f.prototype, {
          constructor: {
            value: c,
            enumerable: !1,
            writable: !0,
            configurable: !0
          }
        }));
      } : o.exports = function(c, f) {
        if (f) {
          c.super_ = f;
          var d = function() {
          };
          d.prototype = f.prototype, c.prototype = new d(), c.prototype.constructor = c;
        }
      };
    }, {}], 52: [function(i, o, a) {
      Object.defineProperty(a, "t", {
        value: !0
      }), a.ContainerIterator = a.Container = a.Base = void 0;
      class u {
        constructor(p = 0) {
          this.iteratorType = p;
        }
        equals(p) {
          return this.o === p.o;
        }
      }
      a.ContainerIterator = u;
      class c {
        constructor() {
          this.i = 0;
        }
        get length() {
          return this.i;
        }
        size() {
          return this.i;
        }
        empty() {
          return this.i === 0;
        }
      }
      a.Base = c;
      class f extends c {
      }
      a.Container = f;
    }, {}], 53: [function(i, o, a) {
      Object.defineProperty(a, "t", {
        value: !0
      }), a.HashContainerIterator = a.HashContainer = void 0;
      var u = i("../../ContainerBase"), c = d(i("../../../utils/checkObject")), f = i("../../../utils/throwError");
      function d(v) {
        return v && v.t ? v : {
          default: v
        };
      }
      class p extends u.ContainerIterator {
        constructor(g, _, b) {
          super(b), this.o = g, this.h = _, this.iteratorType === 0 ? (this.pre = function() {
            return this.o.L === this.h && (0, f.throwIteratorAccessError)(), this.o = this.o.L, this;
          }, this.next = function() {
            return this.o === this.h && (0, f.throwIteratorAccessError)(), this.o = this.o.B, this;
          }) : (this.pre = function() {
            return this.o.B === this.h && (0, f.throwIteratorAccessError)(), this.o = this.o.B, this;
          }, this.next = function() {
            return this.o === this.h && (0, f.throwIteratorAccessError)(), this.o = this.o.L, this;
          });
        }
      }
      a.HashContainerIterator = p;
      class y extends u.Container {
        constructor() {
          super(), this.H = [], this.g = {}, this.HASH_TAG = Symbol("@@HASH_TAG"), Object.setPrototypeOf(this.g, null), this.h = {}, this.h.L = this.h.B = this.p = this._ = this.h;
        }
        V(g) {
          const { L: _, B: b } = g;
          _.B = b, b.L = _, g === this.p && (this.p = b), g === this._ && (this._ = _), this.i -= 1;
        }
        M(g, _, b) {
          b === void 0 && (b = (0, c.default)(g));
          let A;
          if (b) {
            const w = g[this.HASH_TAG];
            if (w !== void 0)
              return this.H[w].l = _, this.i;
            Object.defineProperty(g, this.HASH_TAG, {
              value: this.H.length,
              configurable: !0
            }), A = {
              u: g,
              l: _,
              L: this._,
              B: this.h
            }, this.H.push(A);
          } else {
            const w = this.g[g];
            if (w)
              return w.l = _, this.i;
            A = {
              u: g,
              l: _,
              L: this._,
              B: this.h
            }, this.g[g] = A;
          }
          return this.i === 0 ? (this.p = A, this.h.B = A) : this._.B = A, this._ = A, this.h.L = A, ++this.i;
        }
        I(g, _) {
          if (_ === void 0 && (_ = (0, c.default)(g)), _) {
            const b = g[this.HASH_TAG];
            return b === void 0 ? this.h : this.H[b];
          } else
            return this.g[g] || this.h;
        }
        clear() {
          const g = this.HASH_TAG;
          this.H.forEach(function(_) {
            delete _.u[g];
          }), this.H = [], this.g = {}, Object.setPrototypeOf(this.g, null), this.i = 0, this.p = this._ = this.h.L = this.h.B = this.h;
        }
        eraseElementByKey(g, _) {
          let b;
          if (_ === void 0 && (_ = (0, c.default)(g)), _) {
            const A = g[this.HASH_TAG];
            if (A === void 0)
              return !1;
            delete g[this.HASH_TAG], b = this.H[A], delete this.H[A];
          } else {
            if (b = this.g[g], b === void 0)
              return !1;
            delete this.g[g];
          }
          return this.V(b), !0;
        }
        eraseElementByIterator(g) {
          const _ = g.o;
          return _ === this.h && (0, f.throwIteratorAccessError)(), this.V(_), g.next();
        }
        eraseElementByPos(g) {
          if (g < 0 || g > this.i - 1)
            throw new RangeError();
          let _ = this.p;
          for (; g--; )
            _ = _.B;
          return this.V(_), this.i;
        }
      }
      a.HashContainer = y;
    }, { "../../../utils/checkObject": 70, "../../../utils/throwError": 71, "../../ContainerBase": 52 }], 54: [function(i, o, a) {
      Object.defineProperty(a, "t", {
        value: !0
      }), a.default = void 0;
      var u = i("./Base"), c = d(i("../../utils/checkObject")), f = i("../../utils/throwError");
      function d(g) {
        return g && g.t ? g : {
          default: g
        };
      }
      class p extends u.HashContainerIterator {
        constructor(_, b, A, w) {
          super(_, b, w), this.container = A;
        }
        get pointer() {
          this.o === this.h && (0, f.throwIteratorAccessError)();
          const _ = this;
          return new Proxy([], {
            get(b, A) {
              if (A === "0")
                return _.o.u;
              if (A === "1")
                return _.o.l;
            },
            set(b, A, w) {
              if (A !== "1")
                throw new TypeError("props must be 1");
              return _.o.l = w, !0;
            }
          });
        }
        copy() {
          return new p(this.o, this.h, this.container, this.iteratorType);
        }
      }
      class y extends u.HashContainer {
        constructor(_ = []) {
          super();
          const b = this;
          _.forEach(function(A) {
            b.setElement(A[0], A[1]);
          });
        }
        begin() {
          return new p(this.p, this.h, this);
        }
        end() {
          return new p(this.h, this.h, this);
        }
        rBegin() {
          return new p(this._, this.h, this, 1);
        }
        rEnd() {
          return new p(this.h, this.h, this, 1);
        }
        front() {
          if (this.i !== 0)
            return [this.p.u, this.p.l];
        }
        back() {
          if (this.i !== 0)
            return [this._.u, this._.l];
        }
        setElement(_, b, A) {
          return this.M(_, b, A);
        }
        getElementByKey(_, b) {
          if (b === void 0 && (b = (0, c.default)(_)), b) {
            const w = _[this.HASH_TAG];
            return w !== void 0 ? this.H[w].l : void 0;
          }
          const A = this.g[_];
          return A ? A.l : void 0;
        }
        getElementByPos(_) {
          if (_ < 0 || _ > this.i - 1)
            throw new RangeError();
          let b = this.p;
          for (; _--; )
            b = b.B;
          return [b.u, b.l];
        }
        find(_, b) {
          const A = this.I(_, b);
          return new p(A, this.h, this);
        }
        forEach(_) {
          let b = 0, A = this.p;
          for (; A !== this.h; )
            _([A.u, A.l], b++, this), A = A.B;
        }
        [Symbol.iterator]() {
          return function* () {
            let _ = this.p;
            for (; _ !== this.h; )
              yield [_.u, _.l], _ = _.B;
          }.bind(this)();
        }
      }
      var v = y;
      a.default = v;
    }, { "../../utils/checkObject": 70, "../../utils/throwError": 71, "./Base": 53 }], 55: [function(i, o, a) {
      Object.defineProperty(a, "t", {
        value: !0
      }), a.default = void 0;
      var u = i("./Base"), c = i("../../utils/throwError");
      class f extends u.HashContainerIterator {
        constructor(v, g, _, b) {
          super(v, g, b), this.container = _;
        }
        get pointer() {
          return this.o === this.h && (0, c.throwIteratorAccessError)(), this.o.u;
        }
        copy() {
          return new f(this.o, this.h, this.container, this.iteratorType);
        }
      }
      class d extends u.HashContainer {
        constructor(v = []) {
          super();
          const g = this;
          v.forEach(function(_) {
            g.insert(_);
          });
        }
        begin() {
          return new f(this.p, this.h, this);
        }
        end() {
          return new f(this.h, this.h, this);
        }
        rBegin() {
          return new f(this._, this.h, this, 1);
        }
        rEnd() {
          return new f(this.h, this.h, this, 1);
        }
        front() {
          return this.p.u;
        }
        back() {
          return this._.u;
        }
        insert(v, g) {
          return this.M(v, void 0, g);
        }
        getElementByPos(v) {
          if (v < 0 || v > this.i - 1)
            throw new RangeError();
          let g = this.p;
          for (; v--; )
            g = g.B;
          return g.u;
        }
        find(v, g) {
          const _ = this.I(v, g);
          return new f(_, this.h, this);
        }
        forEach(v) {
          let g = 0, _ = this.p;
          for (; _ !== this.h; )
            v(_.u, g++, this), _ = _.B;
        }
        [Symbol.iterator]() {
          return function* () {
            let v = this.p;
            for (; v !== this.h; )
              yield v.u, v = v.B;
          }.bind(this)();
        }
      }
      var p = d;
      a.default = p;
    }, { "../../utils/throwError": 71, "./Base": 53 }], 56: [function(i, o, a) {
      Object.defineProperty(a, "t", {
        value: !0
      }), a.default = void 0;
      var u = i("../ContainerBase");
      class c extends u.Base {
        constructor(p = [], y = function(g, _) {
          return g > _ ? -1 : g < _ ? 1 : 0;
        }, v = !0) {
          if (super(), this.v = y, Array.isArray(p))
            this.C = v ? [...p] : p;
          else {
            this.C = [];
            const _ = this;
            p.forEach(function(b) {
              _.C.push(b);
            });
          }
          this.i = this.C.length;
          const g = this.i >> 1;
          for (let _ = this.i - 1 >> 1; _ >= 0; --_)
            this.k(_, g);
        }
        m(p) {
          const y = this.C[p];
          for (; p > 0; ) {
            const v = p - 1 >> 1, g = this.C[v];
            if (this.v(g, y) <= 0)
              break;
            this.C[p] = g, p = v;
          }
          this.C[p] = y;
        }
        k(p, y) {
          const v = this.C[p];
          for (; p < y; ) {
            let g = p << 1 | 1;
            const _ = g + 1;
            let b = this.C[g];
            if (_ < this.i && this.v(b, this.C[_]) > 0 && (g = _, b = this.C[_]), this.v(b, v) >= 0)
              break;
            this.C[p] = b, p = g;
          }
          this.C[p] = v;
        }
        clear() {
          this.i = 0, this.C.length = 0;
        }
        push(p) {
          this.C.push(p), this.m(this.i), this.i += 1;
        }
        pop() {
          if (this.i === 0)
            return;
          const p = this.C[0], y = this.C.pop();
          return this.i -= 1, this.i && (this.C[0] = y, this.k(0, this.i >> 1)), p;
        }
        top() {
          return this.C[0];
        }
        find(p) {
          return this.C.indexOf(p) >= 0;
        }
        remove(p) {
          const y = this.C.indexOf(p);
          return y < 0 ? !1 : (y === 0 ? this.pop() : y === this.i - 1 ? (this.C.pop(), this.i -= 1) : (this.C.splice(y, 1, this.C.pop()), this.i -= 1, this.m(y), this.k(y, this.i >> 1)), !0);
        }
        updateItem(p) {
          const y = this.C.indexOf(p);
          return y < 0 ? !1 : (this.m(y), this.k(y, this.i >> 1), !0);
        }
        toArray() {
          return [...this.C];
        }
      }
      var f = c;
      a.default = f;
    }, { "../ContainerBase": 52 }], 57: [function(i, o, a) {
      Object.defineProperty(a, "t", {
        value: !0
      }), a.default = void 0;
      var u = i("../ContainerBase");
      class c extends u.Base {
        constructor(p = []) {
          super(), this.j = 0, this.q = [];
          const y = this;
          p.forEach(function(v) {
            y.push(v);
          });
        }
        clear() {
          this.q = [], this.i = this.j = 0;
        }
        push(p) {
          const y = this.q.length;
          if (this.j / y > 0.5 && this.j + this.i >= y && y > 4096) {
            const v = this.i;
            for (let g = 0; g < v; ++g)
              this.q[g] = this.q[this.j + g];
            this.j = 0, this.q[this.i] = p;
          } else
            this.q[this.j + this.i] = p;
          return ++this.i;
        }
        pop() {
          if (this.i === 0)
            return;
          const p = this.q[this.j++];
          return this.i -= 1, p;
        }
        front() {
          if (this.i !== 0)
            return this.q[this.j];
        }
      }
      var f = c;
      a.default = f;
    }, { "../ContainerBase": 52 }], 58: [function(i, o, a) {
      Object.defineProperty(a, "t", {
        value: !0
      }), a.default = void 0;
      var u = i("../ContainerBase");
      class c extends u.Base {
        constructor(p = []) {
          super(), this.S = [];
          const y = this;
          p.forEach(function(v) {
            y.push(v);
          });
        }
        clear() {
          this.i = 0, this.S = [];
        }
        push(p) {
          return this.S.push(p), this.i += 1, this.i;
        }
        pop() {
          if (this.i !== 0)
            return this.i -= 1, this.S.pop();
        }
        top() {
          return this.S[this.i - 1];
        }
      }
      var f = c;
      a.default = f;
    }, { "../ContainerBase": 52 }], 59: [function(i, o, a) {
      Object.defineProperty(a, "t", {
        value: !0
      }), a.RandomIterator = void 0;
      var u = i("../../ContainerBase"), c = i("../../../utils/throwError");
      class f extends u.ContainerIterator {
        constructor(p, y) {
          super(y), this.o = p, this.iteratorType === 0 ? (this.pre = function() {
            return this.o === 0 && (0, c.throwIteratorAccessError)(), this.o -= 1, this;
          }, this.next = function() {
            return this.o === this.container.size() && (0, c.throwIteratorAccessError)(), this.o += 1, this;
          }) : (this.pre = function() {
            return this.o === this.container.size() - 1 && (0, c.throwIteratorAccessError)(), this.o += 1, this;
          }, this.next = function() {
            return this.o === -1 && (0, c.throwIteratorAccessError)(), this.o -= 1, this;
          });
        }
        get pointer() {
          return this.container.getElementByPos(this.o);
        }
        set pointer(p) {
          this.container.setElementByPos(this.o, p);
        }
      }
      a.RandomIterator = f;
    }, { "../../../utils/throwError": 71, "../../ContainerBase": 52 }], 60: [function(i, o, a) {
      Object.defineProperty(a, "t", {
        value: !0
      }), a.default = void 0;
      var u = i("../../ContainerBase");
      class c extends u.Container {
      }
      var f = c;
      a.default = f;
    }, { "../../ContainerBase": 52 }], 61: [function(i, o, a) {
      Object.defineProperty(a, "t", {
        value: !0
      }), a.default = void 0;
      var u = f(i("./Base")), c = i("./Base/RandomIterator");
      function f(v) {
        return v && v.t ? v : {
          default: v
        };
      }
      class d extends c.RandomIterator {
        constructor(g, _, b) {
          super(g, b), this.container = _;
        }
        copy() {
          return new d(this.o, this.container, this.iteratorType);
        }
      }
      class p extends u.default {
        constructor(g = [], _ = 4096) {
          super(), this.j = 0, this.D = 0, this.R = 0, this.N = 0, this.P = 0, this.A = [];
          const b = (() => {
            if (typeof g.length == "number")
              return g.length;
            if (typeof g.size == "number")
              return g.size;
            if (typeof g.size == "function")
              return g.size();
            throw new TypeError("Cannot get the length or size of the container");
          })();
          this.F = _, this.P = Math.max(Math.ceil(b / this.F), 1);
          for (let S = 0; S < this.P; ++S)
            this.A.push(new Array(this.F));
          const A = Math.ceil(b / this.F);
          this.j = this.R = (this.P >> 1) - (A >> 1), this.D = this.N = this.F - b % this.F >> 1;
          const w = this;
          g.forEach(function(S) {
            w.pushBack(S);
          });
        }
        T() {
          const g = [], _ = Math.max(this.P >> 1, 1);
          for (let b = 0; b < _; ++b)
            g[b] = new Array(this.F);
          for (let b = this.j; b < this.P; ++b)
            g[g.length] = this.A[b];
          for (let b = 0; b < this.R; ++b)
            g[g.length] = this.A[b];
          g[g.length] = [...this.A[this.R]], this.j = _, this.R = g.length - 1;
          for (let b = 0; b < _; ++b)
            g[g.length] = new Array(this.F);
          this.A = g, this.P = g.length;
        }
        O(g) {
          const _ = this.D + g + 1, b = _ % this.F;
          let A = b - 1, w = this.j + (_ - b) / this.F;
          return b === 0 && (w -= 1), w %= this.P, A < 0 && (A += this.F), {
            curNodeBucketIndex: w,
            curNodePointerIndex: A
          };
        }
        clear() {
          this.A = [new Array(this.F)], this.P = 1, this.j = this.R = this.i = 0, this.D = this.N = this.F >> 1;
        }
        begin() {
          return new d(0, this);
        }
        end() {
          return new d(this.i, this);
        }
        rBegin() {
          return new d(this.i - 1, this, 1);
        }
        rEnd() {
          return new d(-1, this, 1);
        }
        front() {
          if (this.i !== 0)
            return this.A[this.j][this.D];
        }
        back() {
          if (this.i !== 0)
            return this.A[this.R][this.N];
        }
        pushBack(g) {
          return this.i && (this.N < this.F - 1 ? this.N += 1 : this.R < this.P - 1 ? (this.R += 1, this.N = 0) : (this.R = 0, this.N = 0), this.R === this.j && this.N === this.D && this.T()), this.i += 1, this.A[this.R][this.N] = g, this.i;
        }
        popBack() {
          if (this.i === 0)
            return;
          const g = this.A[this.R][this.N];
          return this.i !== 1 && (this.N > 0 ? this.N -= 1 : this.R > 0 ? (this.R -= 1, this.N = this.F - 1) : (this.R = this.P - 1, this.N = this.F - 1)), this.i -= 1, g;
        }
        pushFront(g) {
          return this.i && (this.D > 0 ? this.D -= 1 : this.j > 0 ? (this.j -= 1, this.D = this.F - 1) : (this.j = this.P - 1, this.D = this.F - 1), this.j === this.R && this.D === this.N && this.T()), this.i += 1, this.A[this.j][this.D] = g, this.i;
        }
        popFront() {
          if (this.i === 0)
            return;
          const g = this.A[this.j][this.D];
          return this.i !== 1 && (this.D < this.F - 1 ? this.D += 1 : this.j < this.P - 1 ? (this.j += 1, this.D = 0) : (this.j = 0, this.D = 0)), this.i -= 1, g;
        }
        getElementByPos(g) {
          if (g < 0 || g > this.i - 1)
            throw new RangeError();
          const { curNodeBucketIndex: _, curNodePointerIndex: b } = this.O(g);
          return this.A[_][b];
        }
        setElementByPos(g, _) {
          if (g < 0 || g > this.i - 1)
            throw new RangeError();
          const { curNodeBucketIndex: b, curNodePointerIndex: A } = this.O(g);
          this.A[b][A] = _;
        }
        insert(g, _, b = 1) {
          if (g < 0 || g > this.i)
            throw new RangeError();
          if (g === 0)
            for (; b--; )
              this.pushFront(_);
          else if (g === this.i)
            for (; b--; )
              this.pushBack(_);
          else {
            const A = [];
            for (let w = g; w < this.i; ++w)
              A.push(this.getElementByPos(w));
            this.cut(g - 1);
            for (let w = 0; w < b; ++w)
              this.pushBack(_);
            for (let w = 0; w < A.length; ++w)
              this.pushBack(A[w]);
          }
          return this.i;
        }
        cut(g) {
          if (g < 0)
            return this.clear(), 0;
          const { curNodeBucketIndex: _, curNodePointerIndex: b } = this.O(g);
          return this.R = _, this.N = b, this.i = g + 1, this.i;
        }
        eraseElementByPos(g) {
          if (g < 0 || g > this.i - 1)
            throw new RangeError();
          if (g === 0)
            this.popFront();
          else if (g === this.i - 1)
            this.popBack();
          else {
            const _ = [];
            for (let A = g + 1; A < this.i; ++A)
              _.push(this.getElementByPos(A));
            this.cut(g), this.popBack();
            const b = this;
            _.forEach(function(A) {
              b.pushBack(A);
            });
          }
          return this.i;
        }
        eraseElementByValue(g) {
          if (this.i === 0)
            return 0;
          const _ = [];
          for (let A = 0; A < this.i; ++A) {
            const w = this.getElementByPos(A);
            w !== g && _.push(w);
          }
          const b = _.length;
          for (let A = 0; A < b; ++A)
            this.setElementByPos(A, _[A]);
          return this.cut(b - 1);
        }
        eraseElementByIterator(g) {
          const _ = g.o;
          return this.eraseElementByPos(_), g = g.next(), g;
        }
        find(g) {
          for (let _ = 0; _ < this.i; ++_)
            if (this.getElementByPos(_) === g)
              return new d(_, this);
          return this.end();
        }
        reverse() {
          let g = 0, _ = this.i - 1;
          for (; g < _; ) {
            const b = this.getElementByPos(g);
            this.setElementByPos(g, this.getElementByPos(_)), this.setElementByPos(_, b), g += 1, _ -= 1;
          }
        }
        unique() {
          if (this.i <= 1)
            return this.i;
          let g = 1, _ = this.getElementByPos(0);
          for (let b = 1; b < this.i; ++b) {
            const A = this.getElementByPos(b);
            A !== _ && (_ = A, this.setElementByPos(g++, A));
          }
          for (; this.i > g; )
            this.popBack();
          return this.i;
        }
        sort(g) {
          const _ = [];
          for (let b = 0; b < this.i; ++b)
            _.push(this.getElementByPos(b));
          _.sort(g);
          for (let b = 0; b < this.i; ++b)
            this.setElementByPos(b, _[b]);
        }
        shrinkToFit() {
          if (this.i === 0)
            return;
          const g = [];
          this.forEach(function(_) {
            g.push(_);
          }), this.P = Math.max(Math.ceil(this.i / this.F), 1), this.i = this.j = this.R = this.D = this.N = 0, this.A = [];
          for (let _ = 0; _ < this.P; ++_)
            this.A.push(new Array(this.F));
          for (let _ = 0; _ < g.length; ++_)
            this.pushBack(g[_]);
        }
        forEach(g) {
          for (let _ = 0; _ < this.i; ++_)
            g(this.getElementByPos(_), _, this);
        }
        [Symbol.iterator]() {
          return function* () {
            for (let g = 0; g < this.i; ++g)
              yield this.getElementByPos(g);
          }.bind(this)();
        }
      }
      var y = p;
      a.default = y;
    }, { "./Base": 60, "./Base/RandomIterator": 59 }], 62: [function(i, o, a) {
      Object.defineProperty(a, "t", {
        value: !0
      }), a.default = void 0;
      var u = d(i("./Base")), c = i("../ContainerBase"), f = i("../../utils/throwError");
      function d(g) {
        return g && g.t ? g : {
          default: g
        };
      }
      class p extends c.ContainerIterator {
        constructor(_, b, A, w) {
          super(w), this.o = _, this.h = b, this.container = A, this.iteratorType === 0 ? (this.pre = function() {
            return this.o.L === this.h && (0, f.throwIteratorAccessError)(), this.o = this.o.L, this;
          }, this.next = function() {
            return this.o === this.h && (0, f.throwIteratorAccessError)(), this.o = this.o.B, this;
          }) : (this.pre = function() {
            return this.o.B === this.h && (0, f.throwIteratorAccessError)(), this.o = this.o.B, this;
          }, this.next = function() {
            return this.o === this.h && (0, f.throwIteratorAccessError)(), this.o = this.o.L, this;
          });
        }
        get pointer() {
          return this.o === this.h && (0, f.throwIteratorAccessError)(), this.o.l;
        }
        set pointer(_) {
          this.o === this.h && (0, f.throwIteratorAccessError)(), this.o.l = _;
        }
        copy() {
          return new p(this.o, this.h, this.container, this.iteratorType);
        }
      }
      class y extends u.default {
        constructor(_ = []) {
          super(), this.h = {}, this.p = this._ = this.h.L = this.h.B = this.h;
          const b = this;
          _.forEach(function(A) {
            b.pushBack(A);
          });
        }
        V(_) {
          const { L: b, B: A } = _;
          b.B = A, A.L = b, _ === this.p && (this.p = A), _ === this._ && (this._ = b), this.i -= 1;
        }
        G(_, b) {
          const A = b.B, w = {
            l: _,
            L: b,
            B: A
          };
          b.B = w, A.L = w, b === this.h && (this.p = w), A === this.h && (this._ = w), this.i += 1;
        }
        clear() {
          this.i = 0, this.p = this._ = this.h.L = this.h.B = this.h;
        }
        begin() {
          return new p(this.p, this.h, this);
        }
        end() {
          return new p(this.h, this.h, this);
        }
        rBegin() {
          return new p(this._, this.h, this, 1);
        }
        rEnd() {
          return new p(this.h, this.h, this, 1);
        }
        front() {
          return this.p.l;
        }
        back() {
          return this._.l;
        }
        getElementByPos(_) {
          if (_ < 0 || _ > this.i - 1)
            throw new RangeError();
          let b = this.p;
          for (; _--; )
            b = b.B;
          return b.l;
        }
        eraseElementByPos(_) {
          if (_ < 0 || _ > this.i - 1)
            throw new RangeError();
          let b = this.p;
          for (; _--; )
            b = b.B;
          return this.V(b), this.i;
        }
        eraseElementByValue(_) {
          let b = this.p;
          for (; b !== this.h; )
            b.l === _ && this.V(b), b = b.B;
          return this.i;
        }
        eraseElementByIterator(_) {
          const b = _.o;
          return b === this.h && (0, f.throwIteratorAccessError)(), _ = _.next(), this.V(b), _;
        }
        pushBack(_) {
          return this.G(_, this._), this.i;
        }
        popBack() {
          if (this.i === 0)
            return;
          const _ = this._.l;
          return this.V(this._), _;
        }
        pushFront(_) {
          return this.G(_, this.h), this.i;
        }
        popFront() {
          if (this.i === 0)
            return;
          const _ = this.p.l;
          return this.V(this.p), _;
        }
        setElementByPos(_, b) {
          if (_ < 0 || _ > this.i - 1)
            throw new RangeError();
          let A = this.p;
          for (; _--; )
            A = A.B;
          A.l = b;
        }
        insert(_, b, A = 1) {
          if (_ < 0 || _ > this.i)
            throw new RangeError();
          if (A <= 0)
            return this.i;
          if (_ === 0)
            for (; A--; )
              this.pushFront(b);
          else if (_ === this.i)
            for (; A--; )
              this.pushBack(b);
          else {
            let w = this.p;
            for (let x = 1; x < _; ++x)
              w = w.B;
            const S = w.B;
            for (this.i += A; A--; )
              w.B = {
                l: b,
                L: w
              }, w.B.L = w, w = w.B;
            w.B = S, S.L = w;
          }
          return this.i;
        }
        find(_) {
          let b = this.p;
          for (; b !== this.h; ) {
            if (b.l === _)
              return new p(b, this.h, this);
            b = b.B;
          }
          return this.end();
        }
        reverse() {
          if (this.i <= 1)
            return;
          let _ = this.p, b = this._, A = 0;
          for (; A << 1 < this.i; ) {
            const w = _.l;
            _.l = b.l, b.l = w, _ = _.B, b = b.L, A += 1;
          }
        }
        unique() {
          if (this.i <= 1)
            return this.i;
          let _ = this.p;
          for (; _ !== this.h; ) {
            let b = _;
            for (; b.B !== this.h && b.l === b.B.l; )
              b = b.B, this.i -= 1;
            _.B = b.B, _.B.L = _, _ = _.B;
          }
          return this.i;
        }
        sort(_) {
          if (this.i <= 1)
            return;
          const b = [];
          this.forEach(function(w) {
            b.push(w);
          }), b.sort(_);
          let A = this.p;
          b.forEach(function(w) {
            A.l = w, A = A.B;
          });
        }
        merge(_) {
          const b = this;
          if (this.i === 0)
            _.forEach(function(A) {
              b.pushBack(A);
            });
          else {
            let A = this.p;
            _.forEach(function(w) {
              for (; A !== b.h && A.l <= w; )
                A = A.B;
              b.G(w, A.L);
            });
          }
          return this.i;
        }
        forEach(_) {
          let b = this.p, A = 0;
          for (; b !== this.h; )
            _(b.l, A++, this), b = b.B;
        }
        [Symbol.iterator]() {
          return function* () {
            if (this.i === 0)
              return;
            let _ = this.p;
            for (; _ !== this.h; )
              yield _.l, _ = _.B;
          }.bind(this)();
        }
      }
      var v = y;
      a.default = v;
    }, { "../../utils/throwError": 71, "../ContainerBase": 52, "./Base": 60 }], 63: [function(i, o, a) {
      Object.defineProperty(a, "t", {
        value: !0
      }), a.default = void 0;
      var u = f(i("./Base")), c = i("./Base/RandomIterator");
      function f(v) {
        return v && v.t ? v : {
          default: v
        };
      }
      class d extends c.RandomIterator {
        constructor(g, _, b) {
          super(g, b), this.container = _;
        }
        copy() {
          return new d(this.o, this.container, this.iteratorType);
        }
      }
      class p extends u.default {
        constructor(g = [], _ = !0) {
          if (super(), Array.isArray(g))
            this.J = _ ? [...g] : g, this.i = g.length;
          else {
            this.J = [];
            const b = this;
            g.forEach(function(A) {
              b.pushBack(A);
            });
          }
        }
        clear() {
          this.i = 0, this.J.length = 0;
        }
        begin() {
          return new d(0, this);
        }
        end() {
          return new d(this.i, this);
        }
        rBegin() {
          return new d(this.i - 1, this, 1);
        }
        rEnd() {
          return new d(-1, this, 1);
        }
        front() {
          return this.J[0];
        }
        back() {
          return this.J[this.i - 1];
        }
        getElementByPos(g) {
          if (g < 0 || g > this.i - 1)
            throw new RangeError();
          return this.J[g];
        }
        eraseElementByPos(g) {
          if (g < 0 || g > this.i - 1)
            throw new RangeError();
          return this.J.splice(g, 1), this.i -= 1, this.i;
        }
        eraseElementByValue(g) {
          let _ = 0;
          for (let b = 0; b < this.i; ++b)
            this.J[b] !== g && (this.J[_++] = this.J[b]);
          return this.i = this.J.length = _, this.i;
        }
        eraseElementByIterator(g) {
          const _ = g.o;
          return g = g.next(), this.eraseElementByPos(_), g;
        }
        pushBack(g) {
          return this.J.push(g), this.i += 1, this.i;
        }
        popBack() {
          if (this.i !== 0)
            return this.i -= 1, this.J.pop();
        }
        setElementByPos(g, _) {
          if (g < 0 || g > this.i - 1)
            throw new RangeError();
          this.J[g] = _;
        }
        insert(g, _, b = 1) {
          if (g < 0 || g > this.i)
            throw new RangeError();
          return this.J.splice(g, 0, ...new Array(b).fill(_)), this.i += b, this.i;
        }
        find(g) {
          for (let _ = 0; _ < this.i; ++_)
            if (this.J[_] === g)
              return new d(_, this);
          return this.end();
        }
        reverse() {
          this.J.reverse();
        }
        unique() {
          let g = 1;
          for (let _ = 1; _ < this.i; ++_)
            this.J[_] !== this.J[_ - 1] && (this.J[g++] = this.J[_]);
          return this.i = this.J.length = g, this.i;
        }
        sort(g) {
          this.J.sort(g);
        }
        forEach(g) {
          for (let _ = 0; _ < this.i; ++_)
            g(this.J[_], _, this);
        }
        [Symbol.iterator]() {
          return function* () {
            yield* this.J;
          }.bind(this)();
        }
      }
      var y = p;
      a.default = y;
    }, { "./Base": 60, "./Base/RandomIterator": 59 }], 64: [function(i, o, a) {
      Object.defineProperty(a, "t", {
        value: !0
      }), a.default = void 0;
      var u = i("../../ContainerBase"), c = i("../../../utils/throwError");
      class f extends u.ContainerIterator {
        constructor(y, v, g) {
          super(g), this.o = y, this.h = v, this.iteratorType === 0 ? (this.pre = function() {
            return this.o === this.h.U && (0, c.throwIteratorAccessError)(), this.o = this.o.L(), this;
          }, this.next = function() {
            return this.o === this.h && (0, c.throwIteratorAccessError)(), this.o = this.o.B(), this;
          }) : (this.pre = function() {
            return this.o === this.h.W && (0, c.throwIteratorAccessError)(), this.o = this.o.B(), this;
          }, this.next = function() {
            return this.o === this.h && (0, c.throwIteratorAccessError)(), this.o = this.o.L(), this;
          });
        }
        get index() {
          let y = this.o;
          const v = this.h.tt;
          if (y === this.h)
            return v ? v.rt - 1 : 0;
          let g = 0;
          for (y.U && (g += y.U.rt); y !== v; ) {
            const _ = y.tt;
            y === _.W && (g += 1, _.U && (g += _.U.rt)), y = _;
          }
          return g;
        }
      }
      var d = f;
      a.default = d;
    }, { "../../../utils/throwError": 71, "../../ContainerBase": 52 }], 65: [function(i, o, a) {
      Object.defineProperty(a, "t", {
        value: !0
      }), a.TreeNodeEnableIndex = a.TreeNode = void 0;
      class u {
        constructor(d, p) {
          this.ee = 1, this.u = void 0, this.l = void 0, this.U = void 0, this.W = void 0, this.tt = void 0, this.u = d, this.l = p;
        }
        L() {
          let d = this;
          if (d.ee === 1 && d.tt.tt === d)
            d = d.W;
          else if (d.U)
            for (d = d.U; d.W; )
              d = d.W;
          else {
            let p = d.tt;
            for (; p.U === d; )
              d = p, p = d.tt;
            d = p;
          }
          return d;
        }
        B() {
          let d = this;
          if (d.W) {
            for (d = d.W; d.U; )
              d = d.U;
            return d;
          } else {
            let p = d.tt;
            for (; p.W === d; )
              d = p, p = d.tt;
            return d.W !== p ? p : d;
          }
        }
        te() {
          const d = this.tt, p = this.W, y = p.U;
          return d.tt === this ? d.tt = p : d.U === this ? d.U = p : d.W = p, p.tt = d, p.U = this, this.tt = p, this.W = y, y && (y.tt = this), p;
        }
        se() {
          const d = this.tt, p = this.U, y = p.W;
          return d.tt === this ? d.tt = p : d.U === this ? d.U = p : d.W = p, p.tt = d, p.W = this, this.tt = p, this.U = y, y && (y.tt = this), p;
        }
      }
      a.TreeNode = u;
      class c extends u {
        constructor() {
          super(...arguments), this.rt = 1;
        }
        te() {
          const d = super.te();
          return this.ie(), d.ie(), d;
        }
        se() {
          const d = super.se();
          return this.ie(), d.ie(), d;
        }
        ie() {
          this.rt = 1, this.U && (this.rt += this.U.rt), this.W && (this.rt += this.W.rt);
        }
      }
      a.TreeNodeEnableIndex = c;
    }, {}], 66: [function(i, o, a) {
      Object.defineProperty(a, "t", {
        value: !0
      }), a.default = void 0;
      var u = i("./TreeNode"), c = i("../../ContainerBase"), f = i("../../../utils/throwError");
      class d extends c.Container {
        constructor(v = function(_, b) {
          return _ < b ? -1 : _ > b ? 1 : 0;
        }, g = !1) {
          super(), this.Y = void 0, this.v = v, g ? (this.re = u.TreeNodeEnableIndex, this.M = function(_, b, A) {
            const w = this.ne(_, b, A);
            if (w) {
              let S = w.tt;
              for (; S !== this.h; )
                S.rt += 1, S = S.tt;
              const x = this.he(w);
              if (x) {
                const { parentNode: T, grandParent: L, curNode: k } = x;
                T.ie(), L.ie(), k.ie();
              }
            }
            return this.i;
          }, this.V = function(_) {
            let b = this.fe(_);
            for (; b !== this.h; )
              b.rt -= 1, b = b.tt;
          }) : (this.re = u.TreeNode, this.M = function(_, b, A) {
            const w = this.ne(_, b, A);
            return w && this.he(w), this.i;
          }, this.V = this.fe), this.h = new this.re();
        }
        X(v, g) {
          let _ = this.h;
          for (; v; ) {
            const b = this.v(v.u, g);
            if (b < 0)
              v = v.W;
            else if (b > 0)
              _ = v, v = v.U;
            else
              return v;
          }
          return _;
        }
        Z(v, g) {
          let _ = this.h;
          for (; v; )
            this.v(v.u, g) <= 0 ? v = v.W : (_ = v, v = v.U);
          return _;
        }
        $(v, g) {
          let _ = this.h;
          for (; v; ) {
            const b = this.v(v.u, g);
            if (b < 0)
              _ = v, v = v.W;
            else if (b > 0)
              v = v.U;
            else
              return v;
          }
          return _;
        }
        rr(v, g) {
          let _ = this.h;
          for (; v; )
            this.v(v.u, g) < 0 ? (_ = v, v = v.W) : v = v.U;
          return _;
        }
        ue(v) {
          for (; ; ) {
            const g = v.tt;
            if (g === this.h)
              return;
            if (v.ee === 1) {
              v.ee = 0;
              return;
            }
            if (v === g.U) {
              const _ = g.W;
              if (_.ee === 1)
                _.ee = 0, g.ee = 1, g === this.Y ? this.Y = g.te() : g.te();
              else if (_.W && _.W.ee === 1) {
                _.ee = g.ee, g.ee = 0, _.W.ee = 0, g === this.Y ? this.Y = g.te() : g.te();
                return;
              } else
                _.U && _.U.ee === 1 ? (_.ee = 1, _.U.ee = 0, _.se()) : (_.ee = 1, v = g);
            } else {
              const _ = g.U;
              if (_.ee === 1)
                _.ee = 0, g.ee = 1, g === this.Y ? this.Y = g.se() : g.se();
              else if (_.U && _.U.ee === 1) {
                _.ee = g.ee, g.ee = 0, _.U.ee = 0, g === this.Y ? this.Y = g.se() : g.se();
                return;
              } else
                _.W && _.W.ee === 1 ? (_.ee = 1, _.W.ee = 0, _.te()) : (_.ee = 1, v = g);
            }
          }
        }
        fe(v) {
          if (this.i === 1)
            return this.clear(), this.h;
          let g = v;
          for (; g.U || g.W; ) {
            if (g.W)
              for (g = g.W; g.U; )
                g = g.U;
            else
              g = g.U;
            [v.u, g.u] = [g.u, v.u], [v.l, g.l] = [g.l, v.l], v = g;
          }
          this.h.U === g ? this.h.U = g.tt : this.h.W === g && (this.h.W = g.tt), this.ue(g);
          const _ = g.tt;
          return g === _.U ? _.U = void 0 : _.W = void 0, this.i -= 1, this.Y.ee = 0, _;
        }
        oe(v, g) {
          return v === void 0 ? !1 : this.oe(v.U, g) || g(v) ? !0 : this.oe(v.W, g);
        }
        he(v) {
          for (; ; ) {
            const g = v.tt;
            if (g.ee === 0)
              return;
            const _ = g.tt;
            if (g === _.U) {
              const b = _.W;
              if (b && b.ee === 1) {
                if (b.ee = g.ee = 0, _ === this.Y)
                  return;
                _.ee = 1, v = _;
                continue;
              } else if (v === g.W) {
                if (v.ee = 0, v.U && (v.U.tt = g), v.W && (v.W.tt = _), g.W = v.U, _.U = v.W, v.U = g, v.W = _, _ === this.Y)
                  this.Y = v, this.h.tt = v;
                else {
                  const A = _.tt;
                  A.U === _ ? A.U = v : A.W = v;
                }
                return v.tt = _.tt, g.tt = v, _.tt = v, _.ee = 1, {
                  parentNode: g,
                  grandParent: _,
                  curNode: v
                };
              } else
                g.ee = 0, _ === this.Y ? this.Y = _.se() : _.se(), _.ee = 1;
            } else {
              const b = _.U;
              if (b && b.ee === 1) {
                if (b.ee = g.ee = 0, _ === this.Y)
                  return;
                _.ee = 1, v = _;
                continue;
              } else if (v === g.U) {
                if (v.ee = 0, v.U && (v.U.tt = _), v.W && (v.W.tt = g), _.W = v.U, g.U = v.W, v.U = _, v.W = g, _ === this.Y)
                  this.Y = v, this.h.tt = v;
                else {
                  const A = _.tt;
                  A.U === _ ? A.U = v : A.W = v;
                }
                return v.tt = _.tt, g.tt = v, _.tt = v, _.ee = 1, {
                  parentNode: g,
                  grandParent: _,
                  curNode: v
                };
              } else
                g.ee = 0, _ === this.Y ? this.Y = _.te() : _.te(), _.ee = 1;
            }
            return;
          }
        }
        ne(v, g, _) {
          if (this.Y === void 0) {
            this.i += 1, this.Y = new this.re(v, g), this.Y.ee = 0, this.Y.tt = this.h, this.h.tt = this.Y, this.h.U = this.Y, this.h.W = this.Y;
            return;
          }
          let b;
          const A = this.h.U, w = this.v(A.u, v);
          if (w === 0) {
            A.l = g;
            return;
          } else if (w > 0)
            A.U = new this.re(v, g), A.U.tt = A, b = A.U, this.h.U = b;
          else {
            const S = this.h.W, x = this.v(S.u, v);
            if (x === 0) {
              S.l = g;
              return;
            } else if (x < 0)
              S.W = new this.re(v, g), S.W.tt = S, b = S.W, this.h.W = b;
            else {
              if (_ !== void 0) {
                const T = _.o;
                if (T !== this.h) {
                  const L = this.v(T.u, v);
                  if (L === 0) {
                    T.l = g;
                    return;
                  } else if (L > 0) {
                    const k = T.L(), M = this.v(k.u, v);
                    if (M === 0) {
                      k.l = g;
                      return;
                    } else
                      M < 0 && (b = new this.re(v, g), k.W === void 0 ? (k.W = b, b.tt = k) : (T.U = b, b.tt = T));
                  }
                }
              }
              if (b === void 0)
                for (b = this.Y; ; ) {
                  const T = this.v(b.u, v);
                  if (T > 0) {
                    if (b.U === void 0) {
                      b.U = new this.re(v, g), b.U.tt = b, b = b.U;
                      break;
                    }
                    b = b.U;
                  } else if (T < 0) {
                    if (b.W === void 0) {
                      b.W = new this.re(v, g), b.W.tt = b, b = b.W;
                      break;
                    }
                    b = b.W;
                  } else {
                    b.l = g;
                    return;
                  }
                }
            }
          }
          return this.i += 1, b;
        }
        I(v, g) {
          for (; v; ) {
            const _ = this.v(v.u, g);
            if (_ < 0)
              v = v.W;
            else if (_ > 0)
              v = v.U;
            else
              return v;
          }
          return v || this.h;
        }
        clear() {
          this.i = 0, this.Y = void 0, this.h.tt = void 0, this.h.U = this.h.W = void 0;
        }
        updateKeyByIterator(v, g) {
          const _ = v.o;
          if (_ === this.h && (0, f.throwIteratorAccessError)(), this.i === 1)
            return _.u = g, !0;
          if (_ === this.h.U)
            return this.v(_.B().u, g) > 0 ? (_.u = g, !0) : !1;
          if (_ === this.h.W)
            return this.v(_.L().u, g) < 0 ? (_.u = g, !0) : !1;
          const b = _.L().u;
          if (this.v(b, g) >= 0)
            return !1;
          const A = _.B().u;
          return this.v(A, g) <= 0 ? !1 : (_.u = g, !0);
        }
        eraseElementByPos(v) {
          if (v < 0 || v > this.i - 1)
            throw new RangeError();
          let g = 0;
          const _ = this;
          return this.oe(this.Y, function(b) {
            return v === g ? (_.V(b), !0) : (g += 1, !1);
          }), this.i;
        }
        eraseElementByKey(v) {
          if (this.i === 0)
            return !1;
          const g = this.I(this.Y, v);
          return g === this.h ? !1 : (this.V(g), !0);
        }
        eraseElementByIterator(v) {
          const g = v.o;
          g === this.h && (0, f.throwIteratorAccessError)();
          const _ = g.W === void 0;
          return v.iteratorType === 0 ? _ && v.next() : (!_ || g.U === void 0) && v.next(), this.V(g), v;
        }
        forEach(v) {
          let g = 0;
          for (const _ of this)
            v(_, g++, this);
        }
        getElementByPos(v) {
          if (v < 0 || v > this.i - 1)
            throw new RangeError();
          let g, _ = 0;
          for (const b of this) {
            if (_ === v) {
              g = b;
              break;
            }
            _ += 1;
          }
          return g;
        }
        getHeight() {
          if (this.i === 0)
            return 0;
          const v = function(g) {
            return g ? Math.max(v(g.U), v(g.W)) + 1 : 0;
          };
          return v(this.Y);
        }
      }
      var p = d;
      a.default = p;
    }, { "../../../utils/throwError": 71, "../../ContainerBase": 52, "./TreeNode": 65 }], 67: [function(i, o, a) {
      Object.defineProperty(a, "t", {
        value: !0
      }), a.default = void 0;
      var u = d(i("./Base")), c = d(i("./Base/TreeIterator")), f = i("../../utils/throwError");
      function d(g) {
        return g && g.t ? g : {
          default: g
        };
      }
      class p extends c.default {
        constructor(_, b, A, w) {
          super(_, b, w), this.container = A;
        }
        get pointer() {
          this.o === this.h && (0, f.throwIteratorAccessError)();
          const _ = this;
          return new Proxy([], {
            get(b, A) {
              if (A === "0")
                return _.o.u;
              if (A === "1")
                return _.o.l;
            },
            set(b, A, w) {
              if (A !== "1")
                throw new TypeError("props must be 1");
              return _.o.l = w, !0;
            }
          });
        }
        copy() {
          return new p(this.o, this.h, this.container, this.iteratorType);
        }
      }
      class y extends u.default {
        constructor(_ = [], b, A) {
          super(b, A);
          const w = this;
          _.forEach(function(S) {
            w.setElement(S[0], S[1]);
          });
        }
        *K(_) {
          _ !== void 0 && (yield* this.K(_.U), yield [_.u, _.l], yield* this.K(_.W));
        }
        begin() {
          return new p(this.h.U || this.h, this.h, this);
        }
        end() {
          return new p(this.h, this.h, this);
        }
        rBegin() {
          return new p(this.h.W || this.h, this.h, this, 1);
        }
        rEnd() {
          return new p(this.h, this.h, this, 1);
        }
        front() {
          if (this.i === 0)
            return;
          const _ = this.h.U;
          return [_.u, _.l];
        }
        back() {
          if (this.i === 0)
            return;
          const _ = this.h.W;
          return [_.u, _.l];
        }
        lowerBound(_) {
          const b = this.X(this.Y, _);
          return new p(b, this.h, this);
        }
        upperBound(_) {
          const b = this.Z(this.Y, _);
          return new p(b, this.h, this);
        }
        reverseLowerBound(_) {
          const b = this.$(this.Y, _);
          return new p(b, this.h, this);
        }
        reverseUpperBound(_) {
          const b = this.rr(this.Y, _);
          return new p(b, this.h, this);
        }
        setElement(_, b, A) {
          return this.M(_, b, A);
        }
        find(_) {
          const b = this.I(this.Y, _);
          return new p(b, this.h, this);
        }
        getElementByKey(_) {
          return this.I(this.Y, _).l;
        }
        union(_) {
          const b = this;
          return _.forEach(function(A) {
            b.setElement(A[0], A[1]);
          }), this.i;
        }
        [Symbol.iterator]() {
          return this.K(this.Y);
        }
      }
      var v = y;
      a.default = v;
    }, { "../../utils/throwError": 71, "./Base": 66, "./Base/TreeIterator": 64 }], 68: [function(i, o, a) {
      Object.defineProperty(a, "t", {
        value: !0
      }), a.default = void 0;
      var u = d(i("./Base")), c = d(i("./Base/TreeIterator")), f = i("../../utils/throwError");
      function d(g) {
        return g && g.t ? g : {
          default: g
        };
      }
      class p extends c.default {
        constructor(_, b, A, w) {
          super(_, b, w), this.container = A;
        }
        get pointer() {
          return this.o === this.h && (0, f.throwIteratorAccessError)(), this.o.u;
        }
        copy() {
          return new p(this.o, this.h, this.container, this.iteratorType);
        }
      }
      class y extends u.default {
        constructor(_ = [], b, A) {
          super(b, A);
          const w = this;
          _.forEach(function(S) {
            w.insert(S);
          });
        }
        *K(_) {
          _ !== void 0 && (yield* this.K(_.U), yield _.u, yield* this.K(_.W));
        }
        begin() {
          return new p(this.h.U || this.h, this.h, this);
        }
        end() {
          return new p(this.h, this.h, this);
        }
        rBegin() {
          return new p(this.h.W || this.h, this.h, this, 1);
        }
        rEnd() {
          return new p(this.h, this.h, this, 1);
        }
        front() {
          return this.h.U ? this.h.U.u : void 0;
        }
        back() {
          return this.h.W ? this.h.W.u : void 0;
        }
        insert(_, b) {
          return this.M(_, void 0, b);
        }
        find(_) {
          const b = this.I(this.Y, _);
          return new p(b, this.h, this);
        }
        lowerBound(_) {
          const b = this.X(this.Y, _);
          return new p(b, this.h, this);
        }
        upperBound(_) {
          const b = this.Z(this.Y, _);
          return new p(b, this.h, this);
        }
        reverseLowerBound(_) {
          const b = this.$(this.Y, _);
          return new p(b, this.h, this);
        }
        reverseUpperBound(_) {
          const b = this.rr(this.Y, _);
          return new p(b, this.h, this);
        }
        union(_) {
          const b = this;
          return _.forEach(function(A) {
            b.insert(A);
          }), this.i;
        }
        [Symbol.iterator]() {
          return this.K(this.Y);
        }
      }
      var v = y;
      a.default = v;
    }, { "../../utils/throwError": 71, "./Base": 66, "./Base/TreeIterator": 64 }], 69: [function(i, o, a) {
      Object.defineProperty(a, "t", {
        value: !0
      }), Object.defineProperty(a, "Deque", {
        enumerable: !0,
        get: function() {
          return y.default;
        }
      }), Object.defineProperty(a, "HashMap", {
        enumerable: !0,
        get: function() {
          return b.default;
        }
      }), Object.defineProperty(a, "HashSet", {
        enumerable: !0,
        get: function() {
          return _.default;
        }
      }), Object.defineProperty(a, "LinkList", {
        enumerable: !0,
        get: function() {
          return p.default;
        }
      }), Object.defineProperty(a, "OrderedMap", {
        enumerable: !0,
        get: function() {
          return g.default;
        }
      }), Object.defineProperty(a, "OrderedSet", {
        enumerable: !0,
        get: function() {
          return v.default;
        }
      }), Object.defineProperty(a, "PriorityQueue", {
        enumerable: !0,
        get: function() {
          return f.default;
        }
      }), Object.defineProperty(a, "Queue", {
        enumerable: !0,
        get: function() {
          return c.default;
        }
      }), Object.defineProperty(a, "Stack", {
        enumerable: !0,
        get: function() {
          return u.default;
        }
      }), Object.defineProperty(a, "Vector", {
        enumerable: !0,
        get: function() {
          return d.default;
        }
      });
      var u = A(i("./container/OtherContainer/Stack")), c = A(i("./container/OtherContainer/Queue")), f = A(i("./container/OtherContainer/PriorityQueue")), d = A(i("./container/SequentialContainer/Vector")), p = A(i("./container/SequentialContainer/LinkList")), y = A(i("./container/SequentialContainer/Deque")), v = A(i("./container/TreeContainer/OrderedSet")), g = A(i("./container/TreeContainer/OrderedMap")), _ = A(i("./container/HashContainer/HashSet")), b = A(i("./container/HashContainer/HashMap"));
      function A(w) {
        return w && w.t ? w : {
          default: w
        };
      }
    }, { "./container/HashContainer/HashMap": 54, "./container/HashContainer/HashSet": 55, "./container/OtherContainer/PriorityQueue": 56, "./container/OtherContainer/Queue": 57, "./container/OtherContainer/Stack": 58, "./container/SequentialContainer/Deque": 61, "./container/SequentialContainer/LinkList": 62, "./container/SequentialContainer/Vector": 63, "./container/TreeContainer/OrderedMap": 67, "./container/TreeContainer/OrderedSet": 68 }], 70: [function(i, o, a) {
      Object.defineProperty(a, "t", {
        value: !0
      }), a.default = u;
      function u(c) {
        const f = typeof c;
        return f === "object" && c !== null || f === "function";
      }
    }, {}], 71: [function(i, o, a) {
      Object.defineProperty(a, "t", {
        value: !0
      }), a.throwIteratorAccessError = u;
      function u() {
        throw new RangeError("Iterator access denied!");
      }
    }, {}], 72: [function(i, o, a) {
      (function(u) {
        (function() {
          const c = typeof performance == "object" && performance && typeof performance.now == "function" ? performance : Date, d = typeof AbortController == "function" ? AbortController : class {
            constructor() {
              this.signal = new v();
            }
            abort(F = new Error("This operation was aborted")) {
              this.signal.reason = this.signal.reason || F, this.signal.aborted = !0, this.signal.dispatchEvent({
                type: "abort",
                target: this.signal
              });
            }
          }, p = typeof AbortSignal == "function", y = typeof d.AbortSignal == "function", v = p ? AbortSignal : y ? d.AbortController : class {
            constructor() {
              this.reason = void 0, this.aborted = !1, this._listeners = [];
            }
            dispatchEvent(F) {
              F.type === "abort" && (this.aborted = !0, this.onabort(F), this._listeners.forEach((re) => re(F), this));
            }
            onabort() {
            }
            addEventListener(F, re) {
              F === "abort" && this._listeners.push(re);
            }
            removeEventListener(F, re) {
              F === "abort" && (this._listeners = this._listeners.filter((D) => D !== re));
            }
          }, g = /* @__PURE__ */ new Set(), _ = (ie, F) => {
            const re = `LRU_CACHE_OPTION_${ie}`;
            S(re) && x(re, `${ie} option`, `options.${F}`, O);
          }, b = (ie, F) => {
            const re = `LRU_CACHE_METHOD_${ie}`;
            if (S(re)) {
              const { prototype: D } = O, { get: Y } = Object.getOwnPropertyDescriptor(D, ie);
              x(re, `${ie} method`, `cache.${F}()`, Y);
            }
          }, A = (ie, F) => {
            const re = `LRU_CACHE_PROPERTY_${ie}`;
            if (S(re)) {
              const { prototype: D } = O, { get: Y } = Object.getOwnPropertyDescriptor(D, ie);
              x(re, `${ie} property`, `cache.${F}`, Y);
            }
          }, w = (...ie) => {
            typeof u == "object" && u && typeof u.emitWarning == "function" ? u.emitWarning(...ie) : console.error(...ie);
          }, S = (ie) => !g.has(ie), x = (ie, F, re, D) => {
            g.add(ie);
            const Y = `The ${F} is deprecated. Please use ${re} instead.`;
            w(Y, "DeprecationWarning", ie, D);
          }, T = (ie) => ie && ie === Math.floor(ie) && ie > 0 && isFinite(ie), L = (ie) => T(ie) ? ie <= Math.pow(2, 8) ? Uint8Array : ie <= Math.pow(2, 16) ? Uint16Array : ie <= Math.pow(2, 32) ? Uint32Array : ie <= Number.MAX_SAFE_INTEGER ? k : null : null;
          class k extends Array {
            constructor(F) {
              super(F), this.fill(0);
            }
          }
          class M {
            constructor(F) {
              if (F === 0)
                return [];
              const re = L(F);
              this.heap = new re(F), this.length = 0;
            }
            push(F) {
              this.heap[this.length++] = F;
            }
            pop() {
              return this.heap[--this.length];
            }
          }
          class O {
            constructor(F = {}) {
              const {
                max: re = 0,
                ttl: D,
                ttlResolution: Y = 1,
                ttlAutopurge: z,
                updateAgeOnGet: pe,
                updateAgeOnHas: ue,
                allowStale: Ce,
                dispose: Fe,
                disposeAfter: Ie,
                noDisposeOnSet: Pt,
                noUpdateTTL: xe,
                maxSize: Lt = 0,
                maxEntrySize: _n = 0,
                sizeCalculation: In,
                fetchMethod: jt,
                fetchContext: he,
                noDeleteOnFetchRejection: At,
                noDeleteOnStaleGet: kt,
                allowStaleOnFetchRejection: Cn,
                allowStaleOnFetchAbort: ze,
                ignoreFetchAbort: _e
              } = F, { length: de, maxAge: Et, stale: Oe } = F instanceof O ? {} : F;
              if (re !== 0 && !T(re))
                throw new TypeError("max option must be a nonnegative integer");
              const Ve = re ? L(re) : Array;
              if (!Ve)
                throw new Error("invalid max value: " + re);
              if (this.max = re, this.maxSize = Lt, this.maxEntrySize = _n || this.maxSize, this.sizeCalculation = In || de, this.sizeCalculation) {
                if (!this.maxSize && !this.maxEntrySize)
                  throw new TypeError(
                    "cannot set sizeCalculation without setting maxSize or maxEntrySize"
                  );
                if (typeof this.sizeCalculation != "function")
                  throw new TypeError("sizeCalculation set to non-function");
              }
              if (this.fetchMethod = jt || null, this.fetchMethod && typeof this.fetchMethod != "function")
                throw new TypeError(
                  "fetchMethod must be a function if specified"
                );
              if (this.fetchContext = he, !this.fetchMethod && he !== void 0)
                throw new TypeError(
                  "cannot set fetchContext without fetchMethod"
                );
              if (this.keyMap = /* @__PURE__ */ new Map(), this.keyList = new Array(re).fill(null), this.valList = new Array(re).fill(null), this.next = new Ve(re), this.prev = new Ve(re), this.head = 0, this.tail = 0, this.free = new M(re), this.initialFill = 1, this.size = 0, typeof Fe == "function" && (this.dispose = Fe), typeof Ie == "function" ? (this.disposeAfter = Ie, this.disposed = []) : (this.disposeAfter = null, this.disposed = null), this.noDisposeOnSet = !!Pt, this.noUpdateTTL = !!xe, this.noDeleteOnFetchRejection = !!At, this.allowStaleOnFetchRejection = !!Cn, this.allowStaleOnFetchAbort = !!ze, this.ignoreFetchAbort = !!_e, this.maxEntrySize !== 0) {
                if (this.maxSize !== 0 && !T(this.maxSize))
                  throw new TypeError(
                    "maxSize must be a positive integer if specified"
                  );
                if (!T(this.maxEntrySize))
                  throw new TypeError(
                    "maxEntrySize must be a positive integer if specified"
                  );
                this.initializeSizeTracking();
              }
              if (this.allowStale = !!Ce || !!Oe, this.noDeleteOnStaleGet = !!kt, this.updateAgeOnGet = !!pe, this.updateAgeOnHas = !!ue, this.ttlResolution = T(Y) || Y === 0 ? Y : 1, this.ttlAutopurge = !!z, this.ttl = D || Et || 0, this.ttl) {
                if (!T(this.ttl))
                  throw new TypeError(
                    "ttl must be a positive integer if specified"
                  );
                this.initializeTTLTracking();
              }
              if (this.max === 0 && this.ttl === 0 && this.maxSize === 0)
                throw new TypeError(
                  "At least one of max, maxSize, or ttl is required"
                );
              if (!this.ttlAutopurge && !this.max && !this.maxSize) {
                const Dt = "LRU_CACHE_UNBOUNDED";
                S(Dt) && (g.add(Dt), w("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.", "UnboundedCacheWarning", Dt, O));
              }
              Oe && _("stale", "allowStale"), Et && _("maxAge", "ttl"), de && _("length", "sizeCalculation");
            }
            getRemainingTTL(F) {
              return this.has(F, { updateAgeOnHas: !1 }) ? 1 / 0 : 0;
            }
            initializeTTLTracking() {
              this.ttls = new k(this.max), this.starts = new k(this.max), this.setItemTTL = (D, Y, z = c.now()) => {
                if (this.starts[D] = Y !== 0 ? z : 0, this.ttls[D] = Y, Y !== 0 && this.ttlAutopurge) {
                  const pe = setTimeout(() => {
                    this.isStale(D) && this.delete(this.keyList[D]);
                  }, Y + 1);
                  pe.unref && pe.unref();
                }
              }, this.updateItemAge = (D) => {
                this.starts[D] = this.ttls[D] !== 0 ? c.now() : 0;
              }, this.statusTTL = (D, Y) => {
                D && (D.ttl = this.ttls[Y], D.start = this.starts[Y], D.now = F || re(), D.remainingTTL = D.now + D.ttl - D.start);
              };
              let F = 0;
              const re = () => {
                const D = c.now();
                if (this.ttlResolution > 0) {
                  F = D;
                  const Y = setTimeout(
                    () => F = 0,
                    this.ttlResolution
                  );
                  Y.unref && Y.unref();
                }
                return D;
              };
              this.getRemainingTTL = (D) => {
                const Y = this.keyMap.get(D);
                return Y === void 0 ? 0 : this.ttls[Y] === 0 || this.starts[Y] === 0 ? 1 / 0 : this.starts[Y] + this.ttls[Y] - (F || re());
              }, this.isStale = (D) => this.ttls[D] !== 0 && this.starts[D] !== 0 && (F || re()) - this.starts[D] > this.ttls[D];
            }
            updateItemAge(F) {
            }
            statusTTL(F, re) {
            }
            setItemTTL(F, re, D) {
            }
            isStale(F) {
              return !1;
            }
            initializeSizeTracking() {
              this.calculatedSize = 0, this.sizes = new k(this.max), this.removeItemSize = (F) => {
                this.calculatedSize -= this.sizes[F], this.sizes[F] = 0;
              }, this.requireSize = (F, re, D, Y) => {
                if (this.isBackgroundFetch(re))
                  return 0;
                if (!T(D))
                  if (Y) {
                    if (typeof Y != "function")
                      throw new TypeError("sizeCalculation must be a function");
                    if (D = Y(re, F), !T(D))
                      throw new TypeError(
                        "sizeCalculation return invalid (expect positive integer)"
                      );
                  } else
                    throw new TypeError(
                      "invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set."
                    );
                return D;
              }, this.addItemSize = (F, re, D) => {
                if (this.sizes[F] = re, this.maxSize) {
                  const Y = this.maxSize - this.sizes[F];
                  for (; this.calculatedSize > Y; )
                    this.evict(!0);
                }
                this.calculatedSize += this.sizes[F], D && (D.entrySize = re, D.totalCalculatedSize = this.calculatedSize);
              };
            }
            removeItemSize(F) {
            }
            addItemSize(F, re) {
            }
            requireSize(F, re, D, Y) {
              if (D || Y)
                throw new TypeError(
                  "cannot set size without setting maxSize or maxEntrySize on cache"
                );
            }
            *indexes({ allowStale: F = this.allowStale } = {}) {
              if (this.size)
                for (let re = this.tail; !(!this.isValidIndex(re) || ((F || !this.isStale(re)) && (yield re), re === this.head)); )
                  re = this.prev[re];
            }
            *rindexes({ allowStale: F = this.allowStale } = {}) {
              if (this.size)
                for (let re = this.head; !(!this.isValidIndex(re) || ((F || !this.isStale(re)) && (yield re), re === this.tail)); )
                  re = this.next[re];
            }
            isValidIndex(F) {
              return F !== void 0 && this.keyMap.get(this.keyList[F]) === F;
            }
            *entries() {
              for (const F of this.indexes())
                this.valList[F] !== void 0 && this.keyList[F] !== void 0 && !this.isBackgroundFetch(this.valList[F]) && (yield [this.keyList[F], this.valList[F]]);
            }
            *rentries() {
              for (const F of this.rindexes())
                this.valList[F] !== void 0 && this.keyList[F] !== void 0 && !this.isBackgroundFetch(this.valList[F]) && (yield [this.keyList[F], this.valList[F]]);
            }
            *keys() {
              for (const F of this.indexes())
                this.keyList[F] !== void 0 && !this.isBackgroundFetch(this.valList[F]) && (yield this.keyList[F]);
            }
            *rkeys() {
              for (const F of this.rindexes())
                this.keyList[F] !== void 0 && !this.isBackgroundFetch(this.valList[F]) && (yield this.keyList[F]);
            }
            *values() {
              for (const F of this.indexes())
                this.valList[F] !== void 0 && !this.isBackgroundFetch(this.valList[F]) && (yield this.valList[F]);
            }
            *rvalues() {
              for (const F of this.rindexes())
                this.valList[F] !== void 0 && !this.isBackgroundFetch(this.valList[F]) && (yield this.valList[F]);
            }
            [Symbol.iterator]() {
              return this.entries();
            }
            find(F, re) {
              for (const D of this.indexes()) {
                const Y = this.valList[D], z = this.isBackgroundFetch(Y) ? Y.__staleWhileFetching : Y;
                if (z !== void 0 && F(z, this.keyList[D], this))
                  return this.get(this.keyList[D], re);
              }
            }
            forEach(F, re = this) {
              for (const D of this.indexes()) {
                const Y = this.valList[D], z = this.isBackgroundFetch(Y) ? Y.__staleWhileFetching : Y;
                z !== void 0 && F.call(re, z, this.keyList[D], this);
              }
            }
            rforEach(F, re = this) {
              for (const D of this.rindexes()) {
                const Y = this.valList[D], z = this.isBackgroundFetch(Y) ? Y.__staleWhileFetching : Y;
                z !== void 0 && F.call(re, z, this.keyList[D], this);
              }
            }
            get prune() {
              return b("prune", "purgeStale"), this.purgeStale;
            }
            purgeStale() {
              let F = !1;
              for (const re of this.rindexes({ allowStale: !0 }))
                this.isStale(re) && (this.delete(this.keyList[re]), F = !0);
              return F;
            }
            dump() {
              const F = [];
              for (const re of this.indexes({ allowStale: !0 })) {
                const D = this.keyList[re], Y = this.valList[re], z = this.isBackgroundFetch(Y) ? Y.__staleWhileFetching : Y;
                if (z === void 0)
                  continue;
                const pe = { value: z };
                if (this.ttls) {
                  pe.ttl = this.ttls[re];
                  const ue = c.now() - this.starts[re];
                  pe.start = Math.floor(Date.now() - ue);
                }
                this.sizes && (pe.size = this.sizes[re]), F.unshift([D, pe]);
              }
              return F;
            }
            load(F) {
              this.clear();
              for (const [re, D] of F) {
                if (D.start) {
                  const Y = Date.now() - D.start;
                  D.start = c.now() - Y;
                }
                this.set(re, D.value, D);
              }
            }
            dispose(F, re, D) {
            }
            set(F, re, {
              ttl: D = this.ttl,
              start: Y,
              noDisposeOnSet: z = this.noDisposeOnSet,
              size: pe = 0,
              sizeCalculation: ue = this.sizeCalculation,
              noUpdateTTL: Ce = this.noUpdateTTL,
              status: Fe
            } = {}) {
              if (pe = this.requireSize(F, re, pe, ue), this.maxEntrySize && pe > this.maxEntrySize)
                return Fe && (Fe.set = "miss", Fe.maxEntrySizeExceeded = !0), this.delete(F), this;
              let Ie = this.size === 0 ? void 0 : this.keyMap.get(F);
              if (Ie === void 0)
                Ie = this.newIndex(), this.keyList[Ie] = F, this.valList[Ie] = re, this.keyMap.set(F, Ie), this.next[this.tail] = Ie, this.prev[Ie] = this.tail, this.tail = Ie, this.size++, this.addItemSize(Ie, pe, Fe), Fe && (Fe.set = "add"), Ce = !1;
              else {
                this.moveToTail(Ie);
                const Pt = this.valList[Ie];
                if (re !== Pt) {
                  if (this.isBackgroundFetch(Pt) ? Pt.__abortController.abort(new Error("replaced")) : z || (this.dispose(Pt, F, "set"), this.disposeAfter && this.disposed.push([Pt, F, "set"])), this.removeItemSize(Ie), this.valList[Ie] = re, this.addItemSize(Ie, pe, Fe), Fe) {
                    Fe.set = "replace";
                    const xe = Pt && this.isBackgroundFetch(Pt) ? Pt.__staleWhileFetching : Pt;
                    xe !== void 0 && (Fe.oldValue = xe);
                  }
                } else
                  Fe && (Fe.set = "update");
              }
              if (D !== 0 && this.ttl === 0 && !this.ttls && this.initializeTTLTracking(), Ce || this.setItemTTL(Ie, D, Y), this.statusTTL(Fe, Ie), this.disposeAfter)
                for (; this.disposed.length; )
                  this.disposeAfter(...this.disposed.shift());
              return this;
            }
            newIndex() {
              return this.size === 0 ? this.tail : this.size === this.max && this.max !== 0 ? this.evict(!1) : this.free.length !== 0 ? this.free.pop() : this.initialFill++;
            }
            pop() {
              if (this.size) {
                const F = this.valList[this.head];
                return this.evict(!0), F;
              }
            }
            evict(F) {
              const re = this.head, D = this.keyList[re], Y = this.valList[re];
              return this.isBackgroundFetch(Y) ? Y.__abortController.abort(new Error("evicted")) : (this.dispose(Y, D, "evict"), this.disposeAfter && this.disposed.push([Y, D, "evict"])), this.removeItemSize(re), F && (this.keyList[re] = null, this.valList[re] = null, this.free.push(re)), this.head = this.next[re], this.keyMap.delete(D), this.size--, re;
            }
            has(F, { updateAgeOnHas: re = this.updateAgeOnHas, status: D } = {}) {
              const Y = this.keyMap.get(F);
              if (Y !== void 0)
                if (this.isStale(Y))
                  D && (D.has = "stale", this.statusTTL(D, Y));
                else
                  return re && this.updateItemAge(Y), D && (D.has = "hit"), this.statusTTL(D, Y), !0;
              else
                D && (D.has = "miss");
              return !1;
            }
            // like get(), but without any LRU updating or TTL expiration
            peek(F, { allowStale: re = this.allowStale } = {}) {
              const D = this.keyMap.get(F);
              if (D !== void 0 && (re || !this.isStale(D))) {
                const Y = this.valList[D];
                return this.isBackgroundFetch(Y) ? Y.__staleWhileFetching : Y;
              }
            }
            backgroundFetch(F, re, D, Y) {
              const z = re === void 0 ? void 0 : this.valList[re];
              if (this.isBackgroundFetch(z))
                return z;
              const pe = new d();
              D.signal && D.signal.addEventListener(
                "abort",
                () => pe.abort(D.signal.reason)
              );
              const ue = {
                signal: pe.signal,
                options: D,
                context: Y
              }, Ce = (Lt, _n = !1) => {
                const { aborted: In } = pe.signal, jt = D.ignoreFetchAbort && Lt !== void 0;
                return D.status && (In && !_n ? (D.status.fetchAborted = !0, D.status.fetchError = pe.signal.reason, jt && (D.status.fetchAbortIgnored = !0)) : D.status.fetchResolved = !0), In && !jt && !_n ? Ie(pe.signal.reason) : (this.valList[re] === xe && (Lt === void 0 ? xe.__staleWhileFetching ? this.valList[re] = xe.__staleWhileFetching : this.delete(F) : (D.status && (D.status.fetchUpdated = !0), this.set(F, Lt, ue.options))), Lt);
              }, Fe = (Lt) => (D.status && (D.status.fetchRejected = !0, D.status.fetchError = Lt), Ie(Lt)), Ie = (Lt) => {
                const { aborted: _n } = pe.signal, In = _n && D.allowStaleOnFetchAbort, jt = In || D.allowStaleOnFetchRejection, he = jt || D.noDeleteOnFetchRejection;
                if (this.valList[re] === xe && (!he || xe.__staleWhileFetching === void 0 ? this.delete(F) : In || (this.valList[re] = xe.__staleWhileFetching)), jt)
                  return D.status && xe.__staleWhileFetching !== void 0 && (D.status.returnedStale = !0), xe.__staleWhileFetching;
                if (xe.__returned === xe)
                  throw Lt;
              }, Pt = (Lt, _n) => {
                this.fetchMethod(F, z, ue).then((In) => Lt(In), _n), pe.signal.addEventListener("abort", () => {
                  (!D.ignoreFetchAbort || D.allowStaleOnFetchAbort) && (Lt(), D.allowStaleOnFetchAbort && (Lt = (In) => Ce(In, !0)));
                });
              };
              D.status && (D.status.fetchDispatched = !0);
              const xe = new Promise(Pt).then(Ce, Fe);
              return xe.__abortController = pe, xe.__staleWhileFetching = z, xe.__returned = null, re === void 0 ? (this.set(F, xe, { ...ue.options, status: void 0 }), re = this.keyMap.get(F)) : this.valList[re] = xe, xe;
            }
            isBackgroundFetch(F) {
              return F && typeof F == "object" && typeof F.then == "function" && Object.prototype.hasOwnProperty.call(
                F,
                "__staleWhileFetching"
              ) && Object.prototype.hasOwnProperty.call(F, "__returned") && (F.__returned === F || F.__returned === null);
            }
            // this takes the union of get() and set() opts, because it does both
            async fetch(F, {
              // get options
              allowStale: re = this.allowStale,
              updateAgeOnGet: D = this.updateAgeOnGet,
              noDeleteOnStaleGet: Y = this.noDeleteOnStaleGet,
              // set options
              ttl: z = this.ttl,
              noDisposeOnSet: pe = this.noDisposeOnSet,
              size: ue = 0,
              sizeCalculation: Ce = this.sizeCalculation,
              noUpdateTTL: Fe = this.noUpdateTTL,
              // fetch exclusive options
              noDeleteOnFetchRejection: Ie = this.noDeleteOnFetchRejection,
              allowStaleOnFetchRejection: Pt = this.allowStaleOnFetchRejection,
              ignoreFetchAbort: xe = this.ignoreFetchAbort,
              allowStaleOnFetchAbort: Lt = this.allowStaleOnFetchAbort,
              fetchContext: _n = this.fetchContext,
              forceRefresh: In = !1,
              status: jt,
              signal: he
            } = {}) {
              if (!this.fetchMethod)
                return jt && (jt.fetch = "get"), this.get(F, {
                  allowStale: re,
                  updateAgeOnGet: D,
                  noDeleteOnStaleGet: Y,
                  status: jt
                });
              const At = {
                allowStale: re,
                updateAgeOnGet: D,
                noDeleteOnStaleGet: Y,
                ttl: z,
                noDisposeOnSet: pe,
                size: ue,
                sizeCalculation: Ce,
                noUpdateTTL: Fe,
                noDeleteOnFetchRejection: Ie,
                allowStaleOnFetchRejection: Pt,
                allowStaleOnFetchAbort: Lt,
                ignoreFetchAbort: xe,
                status: jt,
                signal: he
              };
              let kt = this.keyMap.get(F);
              if (kt === void 0) {
                jt && (jt.fetch = "miss");
                const Cn = this.backgroundFetch(F, kt, At, _n);
                return Cn.__returned = Cn;
              } else {
                const Cn = this.valList[kt];
                if (this.isBackgroundFetch(Cn)) {
                  const Oe = re && Cn.__staleWhileFetching !== void 0;
                  return jt && (jt.fetch = "inflight", Oe && (jt.returnedStale = !0)), Oe ? Cn.__staleWhileFetching : Cn.__returned = Cn;
                }
                const ze = this.isStale(kt);
                if (!In && !ze)
                  return jt && (jt.fetch = "hit"), this.moveToTail(kt), D && this.updateItemAge(kt), this.statusTTL(jt, kt), Cn;
                const _e = this.backgroundFetch(F, kt, At, _n), de = _e.__staleWhileFetching !== void 0, Et = de && re;
                return jt && (jt.fetch = de && ze ? "stale" : "refresh", Et && ze && (jt.returnedStale = !0)), Et ? _e.__staleWhileFetching : _e.__returned = _e;
              }
            }
            get(F, {
              allowStale: re = this.allowStale,
              updateAgeOnGet: D = this.updateAgeOnGet,
              noDeleteOnStaleGet: Y = this.noDeleteOnStaleGet,
              status: z
            } = {}) {
              const pe = this.keyMap.get(F);
              if (pe !== void 0) {
                const ue = this.valList[pe], Ce = this.isBackgroundFetch(ue);
                return this.statusTTL(z, pe), this.isStale(pe) ? (z && (z.get = "stale"), Ce ? (z && (z.returnedStale = re && ue.__staleWhileFetching !== void 0), re ? ue.__staleWhileFetching : void 0) : (Y || this.delete(F), z && (z.returnedStale = re), re ? ue : void 0)) : (z && (z.get = "hit"), Ce ? ue.__staleWhileFetching : (this.moveToTail(pe), D && this.updateItemAge(pe), ue));
              } else
                z && (z.get = "miss");
            }
            connect(F, re) {
              this.prev[re] = F, this.next[F] = re;
            }
            moveToTail(F) {
              F !== this.tail && (F === this.head ? this.head = this.next[F] : this.connect(this.prev[F], this.next[F]), this.connect(this.tail, F), this.tail = F);
            }
            get del() {
              return b("del", "delete"), this.delete;
            }
            delete(F) {
              let re = !1;
              if (this.size !== 0) {
                const D = this.keyMap.get(F);
                if (D !== void 0)
                  if (re = !0, this.size === 1)
                    this.clear();
                  else {
                    this.removeItemSize(D);
                    const Y = this.valList[D];
                    this.isBackgroundFetch(Y) ? Y.__abortController.abort(new Error("deleted")) : (this.dispose(Y, F, "delete"), this.disposeAfter && this.disposed.push([Y, F, "delete"])), this.keyMap.delete(F), this.keyList[D] = null, this.valList[D] = null, D === this.tail ? this.tail = this.prev[D] : D === this.head ? this.head = this.next[D] : (this.next[this.prev[D]] = this.next[D], this.prev[this.next[D]] = this.prev[D]), this.size--, this.free.push(D);
                  }
              }
              if (this.disposed)
                for (; this.disposed.length; )
                  this.disposeAfter(...this.disposed.shift());
              return re;
            }
            clear() {
              for (const F of this.rindexes({ allowStale: !0 })) {
                const re = this.valList[F];
                if (this.isBackgroundFetch(re))
                  re.__abortController.abort(new Error("deleted"));
                else {
                  const D = this.keyList[F];
                  this.dispose(re, D, "delete"), this.disposeAfter && this.disposed.push([re, D, "delete"]);
                }
              }
              if (this.keyMap.clear(), this.valList.fill(null), this.keyList.fill(null), this.ttls && (this.ttls.fill(0), this.starts.fill(0)), this.sizes && this.sizes.fill(0), this.head = 0, this.tail = 0, this.initialFill = 1, this.free.length = 0, this.calculatedSize = 0, this.size = 0, this.disposed)
                for (; this.disposed.length; )
                  this.disposeAfter(...this.disposed.shift());
            }
            get reset() {
              return b("reset", "clear"), this.clear;
            }
            get length() {
              return A("length", "size"), this.size;
            }
            static get AbortController() {
              return d;
            }
            static get AbortSignal() {
              return v;
            }
          }
          o.exports = O;
        }).call(this);
      }).call(this, i("_process"));
    }, { _process: 102 }], 73: [function(i, o, a) {
      const u = o.exports, { Buffer: c } = i("buffer");
      u.types = {
        0: "reserved",
        1: "connect",
        2: "connack",
        3: "publish",
        4: "puback",
        5: "pubrec",
        6: "pubrel",
        7: "pubcomp",
        8: "subscribe",
        9: "suback",
        10: "unsubscribe",
        11: "unsuback",
        12: "pingreq",
        13: "pingresp",
        14: "disconnect",
        15: "auth"
      }, u.requiredHeaderFlags = {
        1: 0,
        // 'connect'
        2: 0,
        // 'connack'
        4: 0,
        // 'puback'
        5: 0,
        // 'pubrec'
        6: 2,
        // 'pubrel'
        7: 0,
        // 'pubcomp'
        8: 2,
        // 'subscribe'
        9: 0,
        // 'suback'
        10: 2,
        // 'unsubscribe'
        11: 0,
        // 'unsuback'
        12: 0,
        // 'pingreq'
        13: 0,
        // 'pingresp'
        14: 0,
        // 'disconnect'
        15: 0
        // 'auth'
      }, u.requiredHeaderFlagsErrors = {};
      for (const d in u.requiredHeaderFlags) {
        const p = u.requiredHeaderFlags[d];
        u.requiredHeaderFlagsErrors[d] = "Invalid header flag bits, must be 0x" + p.toString(16) + " for " + u.types[d] + " packet";
      }
      u.codes = {};
      for (const d in u.types) {
        const p = u.types[d];
        u.codes[p] = d;
      }
      u.CMD_SHIFT = 4, u.CMD_MASK = 240, u.DUP_MASK = 8, u.QOS_MASK = 3, u.QOS_SHIFT = 1, u.RETAIN_MASK = 1, u.VARBYTEINT_MASK = 127, u.VARBYTEINT_FIN_MASK = 128, u.VARBYTEINT_MAX = 268435455, u.SESSIONPRESENT_MASK = 1, u.SESSIONPRESENT_HEADER = c.from([u.SESSIONPRESENT_MASK]), u.CONNACK_HEADER = c.from([u.codes.connack << u.CMD_SHIFT]), u.USERNAME_MASK = 128, u.PASSWORD_MASK = 64, u.WILL_RETAIN_MASK = 32, u.WILL_QOS_MASK = 24, u.WILL_QOS_SHIFT = 3, u.WILL_FLAG_MASK = 4, u.CLEAN_SESSION_MASK = 2, u.CONNECT_HEADER = c.from([u.codes.connect << u.CMD_SHIFT]), u.properties = {
        sessionExpiryInterval: 17,
        willDelayInterval: 24,
        receiveMaximum: 33,
        maximumPacketSize: 39,
        topicAliasMaximum: 34,
        requestResponseInformation: 25,
        requestProblemInformation: 23,
        userProperties: 38,
        authenticationMethod: 21,
        authenticationData: 22,
        payloadFormatIndicator: 1,
        messageExpiryInterval: 2,
        contentType: 3,
        responseTopic: 8,
        correlationData: 9,
        maximumQoS: 36,
        retainAvailable: 37,
        assignedClientIdentifier: 18,
        reasonString: 31,
        wildcardSubscriptionAvailable: 40,
        subscriptionIdentifiersAvailable: 41,
        sharedSubscriptionAvailable: 42,
        serverKeepAlive: 19,
        responseInformation: 26,
        serverReference: 28,
        topicAlias: 35,
        subscriptionIdentifier: 11
      }, u.propertiesCodes = {};
      for (const d in u.properties) {
        const p = u.properties[d];
        u.propertiesCodes[p] = d;
      }
      u.propertiesTypes = {
        sessionExpiryInterval: "int32",
        willDelayInterval: "int32",
        receiveMaximum: "int16",
        maximumPacketSize: "int32",
        topicAliasMaximum: "int16",
        requestResponseInformation: "byte",
        requestProblemInformation: "byte",
        userProperties: "pair",
        authenticationMethod: "string",
        authenticationData: "binary",
        payloadFormatIndicator: "byte",
        messageExpiryInterval: "int32",
        contentType: "string",
        responseTopic: "string",
        correlationData: "binary",
        maximumQoS: "int8",
        retainAvailable: "byte",
        assignedClientIdentifier: "string",
        reasonString: "string",
        wildcardSubscriptionAvailable: "byte",
        subscriptionIdentifiersAvailable: "byte",
        sharedSubscriptionAvailable: "byte",
        serverKeepAlive: "int16",
        responseInformation: "string",
        serverReference: "string",
        topicAlias: "int16",
        subscriptionIdentifier: "var"
      };
      function f(d) {
        return [0, 1, 2].map((p) => [0, 1].map((y) => [0, 1].map((v) => {
          const g = c.alloc(1);
          return g.writeUInt8(
            u.codes[d] << u.CMD_SHIFT | (y ? u.DUP_MASK : 0) | p << u.QOS_SHIFT | v,
            0,
            !0
          ), g;
        })));
      }
      u.PUBLISH_HEADER = f("publish"), u.SUBSCRIBE_HEADER = f("subscribe"), u.SUBSCRIBE_OPTIONS_QOS_MASK = 3, u.SUBSCRIBE_OPTIONS_NL_MASK = 1, u.SUBSCRIBE_OPTIONS_NL_SHIFT = 2, u.SUBSCRIBE_OPTIONS_RAP_MASK = 1, u.SUBSCRIBE_OPTIONS_RAP_SHIFT = 3, u.SUBSCRIBE_OPTIONS_RH_MASK = 3, u.SUBSCRIBE_OPTIONS_RH_SHIFT = 4, u.SUBSCRIBE_OPTIONS_RH = [0, 16, 32], u.SUBSCRIBE_OPTIONS_NL = 4, u.SUBSCRIBE_OPTIONS_RAP = 8, u.SUBSCRIBE_OPTIONS_QOS = [0, 1, 2], u.UNSUBSCRIBE_HEADER = f("unsubscribe"), u.ACKS = {
        unsuback: f("unsuback"),
        puback: f("puback"),
        pubcomp: f("pubcomp"),
        pubrel: f("pubrel"),
        pubrec: f("pubrec")
      }, u.SUBACK_HEADER = c.from([u.codes.suback << u.CMD_SHIFT]), u.VERSION3 = c.from([3]), u.VERSION4 = c.from([4]), u.VERSION5 = c.from([5]), u.VERSION131 = c.from([131]), u.VERSION132 = c.from([132]), u.QOS = [0, 1, 2].map((d) => c.from([d])), u.EMPTY = {
        pingreq: c.from([u.codes.pingreq << 4, 0]),
        pingresp: c.from([u.codes.pingresp << 4, 0]),
        disconnect: c.from([u.codes.disconnect << 4, 0])
      }, u.MQTT5_PUBACK_PUBREC_CODES = {
        0: "Success",
        16: "No matching subscribers",
        128: "Unspecified error",
        131: "Implementation specific error",
        135: "Not authorized",
        144: "Topic Name invalid",
        145: "Packet identifier in use",
        151: "Quota exceeded",
        153: "Payload format invalid"
      }, u.MQTT5_PUBREL_PUBCOMP_CODES = {
        0: "Success",
        146: "Packet Identifier not found"
      }, u.MQTT5_SUBACK_CODES = {
        0: "Granted QoS 0",
        1: "Granted QoS 1",
        2: "Granted QoS 2",
        128: "Unspecified error",
        131: "Implementation specific error",
        135: "Not authorized",
        143: "Topic Filter invalid",
        145: "Packet Identifier in use",
        151: "Quota exceeded",
        158: "Shared Subscriptions not supported",
        161: "Subscription Identifiers not supported",
        162: "Wildcard Subscriptions not supported"
      }, u.MQTT5_UNSUBACK_CODES = {
        0: "Success",
        17: "No subscription existed",
        128: "Unspecified error",
        131: "Implementation specific error",
        135: "Not authorized",
        143: "Topic Filter invalid",
        145: "Packet Identifier in use"
      }, u.MQTT5_DISCONNECT_CODES = {
        0: "Normal disconnection",
        4: "Disconnect with Will Message",
        128: "Unspecified error",
        129: "Malformed Packet",
        130: "Protocol Error",
        131: "Implementation specific error",
        135: "Not authorized",
        137: "Server busy",
        139: "Server shutting down",
        141: "Keep Alive timeout",
        142: "Session taken over",
        143: "Topic Filter invalid",
        144: "Topic Name invalid",
        147: "Receive Maximum exceeded",
        148: "Topic Alias invalid",
        149: "Packet too large",
        150: "Message rate too high",
        151: "Quota exceeded",
        152: "Administrative action",
        153: "Payload format invalid",
        154: "Retain not supported",
        155: "QoS not supported",
        156: "Use another server",
        157: "Server moved",
        158: "Shared Subscriptions not supported",
        159: "Connection rate exceeded",
        160: "Maximum connect time",
        161: "Subscription Identifiers not supported",
        162: "Wildcard Subscriptions not supported"
      }, u.MQTT5_AUTH_CODES = {
        0: "Success",
        24: "Continue authentication",
        25: "Re-authenticate"
      };
    }, { buffer: 29 }], 74: [function(i, o, a) {
      const u = i("./writeToStream"), c = i("events"), { Buffer: f } = i("buffer");
      function d(y, v) {
        const g = new p();
        return u(y, g, v), g.concat();
      }
      class p extends c {
        constructor() {
          super(), this._array = new Array(20), this._i = 0;
        }
        write(v) {
          return this._array[this._i++] = v, !0;
        }
        concat() {
          let v = 0;
          const g = new Array(this._array.length), _ = this._array;
          let b = 0, A;
          for (A = 0; A < _.length && _[A] !== void 0; A++)
            typeof _[A] != "string" ? g[A] = _[A].length : g[A] = f.byteLength(_[A]), v += g[A];
          const w = f.allocUnsafe(v);
          for (A = 0; A < _.length && _[A] !== void 0; A++)
            typeof _[A] != "string" ? (_[A].copy(w, b), b += g[A]) : (w.write(_[A], b), b += g[A]);
          return w;
        }
        destroy(v) {
          v && this.emit("error", v);
        }
      }
      o.exports = d;
    }, { "./writeToStream": 96, buffer: 29, events: 49 }], 75: [function(i, o, a) {
      a.parser = i("./parser").parser, a.generate = i("./generate"), a.writeToStream = i("./writeToStream");
    }, { "./generate": 74, "./parser": 95, "./writeToStream": 96 }], 76: [function(i, o, a) {
      const { Buffer: u } = i("buffer"), c = Symbol.for("BufferList");
      function f(d) {
        if (!(this instanceof f))
          return new f(d);
        f._init.call(this, d);
      }
      f._init = function(p) {
        Object.defineProperty(this, c, { value: !0 }), this._bufs = [], this.length = 0, p && this.append(p);
      }, f.prototype._new = function(p) {
        return new f(p);
      }, f.prototype._offset = function(p) {
        if (p === 0)
          return [0, 0];
        let y = 0;
        for (let v = 0; v < this._bufs.length; v++) {
          const g = y + this._bufs[v].length;
          if (p < g || v === this._bufs.length - 1)
            return [v, p - y];
          y = g;
        }
      }, f.prototype._reverseOffset = function(d) {
        const p = d[0];
        let y = d[1];
        for (let v = 0; v < p; v++)
          y += this._bufs[v].length;
        return y;
      }, f.prototype.get = function(p) {
        if (p > this.length || p < 0)
          return;
        const y = this._offset(p);
        return this._bufs[y[0]][y[1]];
      }, f.prototype.slice = function(p, y) {
        return typeof p == "number" && p < 0 && (p += this.length), typeof y == "number" && y < 0 && (y += this.length), this.copy(null, 0, p, y);
      }, f.prototype.copy = function(p, y, v, g) {
        if ((typeof v != "number" || v < 0) && (v = 0), (typeof g != "number" || g > this.length) && (g = this.length), v >= this.length || g <= 0)
          return p || u.alloc(0);
        const _ = !!p, b = this._offset(v), A = g - v;
        let w = A, S = _ && y || 0, x = b[1];
        if (v === 0 && g === this.length) {
          if (!_)
            return this._bufs.length === 1 ? this._bufs[0] : u.concat(this._bufs, this.length);
          for (let T = 0; T < this._bufs.length; T++)
            this._bufs[T].copy(p, S), S += this._bufs[T].length;
          return p;
        }
        if (w <= this._bufs[b[0]].length - x)
          return _ ? this._bufs[b[0]].copy(p, y, x, x + w) : this._bufs[b[0]].slice(x, x + w);
        _ || (p = u.allocUnsafe(A));
        for (let T = b[0]; T < this._bufs.length; T++) {
          const L = this._bufs[T].length - x;
          if (w > L)
            this._bufs[T].copy(p, S, x), S += L;
          else {
            this._bufs[T].copy(p, S, x, x + w), S += L;
            break;
          }
          w -= L, x && (x = 0);
        }
        return p.length > S ? p.slice(0, S) : p;
      }, f.prototype.shallowSlice = function(p, y) {
        if (p = p || 0, y = typeof y != "number" ? this.length : y, p < 0 && (p += this.length), y < 0 && (y += this.length), p === y)
          return this._new();
        const v = this._offset(p), g = this._offset(y), _ = this._bufs.slice(v[0], g[0] + 1);
        return g[1] === 0 ? _.pop() : _[_.length - 1] = _[_.length - 1].slice(0, g[1]), v[1] !== 0 && (_[0] = _[0].slice(v[1])), this._new(_);
      }, f.prototype.toString = function(p, y, v) {
        return this.slice(y, v).toString(p);
      }, f.prototype.consume = function(p) {
        if (p = Math.trunc(p), Number.isNaN(p) || p <= 0)
          return this;
        for (; this._bufs.length; )
          if (p >= this._bufs[0].length)
            p -= this._bufs[0].length, this.length -= this._bufs[0].length, this._bufs.shift();
          else {
            this._bufs[0] = this._bufs[0].slice(p), this.length -= p;
            break;
          }
        return this;
      }, f.prototype.duplicate = function() {
        const p = this._new();
        for (let y = 0; y < this._bufs.length; y++)
          p.append(this._bufs[y]);
        return p;
      }, f.prototype.append = function(p) {
        if (p == null)
          return this;
        if (p.buffer)
          this._appendBuffer(u.from(p.buffer, p.byteOffset, p.byteLength));
        else if (Array.isArray(p))
          for (let y = 0; y < p.length; y++)
            this.append(p[y]);
        else if (this._isBufferList(p))
          for (let y = 0; y < p._bufs.length; y++)
            this.append(p._bufs[y]);
        else
          typeof p == "number" && (p = p.toString()), this._appendBuffer(u.from(p));
        return this;
      }, f.prototype._appendBuffer = function(p) {
        this._bufs.push(p), this.length += p.length;
      }, f.prototype.indexOf = function(d, p, y) {
        if (y === void 0 && typeof p == "string" && (y = p, p = void 0), typeof d == "function" || Array.isArray(d))
          throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');
        if (typeof d == "number" ? d = u.from([d]) : typeof d == "string" ? d = u.from(d, y) : this._isBufferList(d) ? d = d.slice() : Array.isArray(d.buffer) ? d = u.from(d.buffer, d.byteOffset, d.byteLength) : u.isBuffer(d) || (d = u.from(d)), p = Number(p || 0), isNaN(p) && (p = 0), p < 0 && (p = this.length + p), p < 0 && (p = 0), d.length === 0)
          return p > this.length ? this.length : p;
        const v = this._offset(p);
        let g = v[0], _ = v[1];
        for (; g < this._bufs.length; g++) {
          const b = this._bufs[g];
          for (; _ < b.length; )
            if (b.length - _ >= d.length) {
              const w = b.indexOf(d, _);
              if (w !== -1)
                return this._reverseOffset([g, w]);
              _ = b.length - d.length + 1;
            } else {
              const w = this._reverseOffset([g, _]);
              if (this._match(w, d))
                return w;
              _++;
            }
          _ = 0;
        }
        return -1;
      }, f.prototype._match = function(d, p) {
        if (this.length - d < p.length)
          return !1;
        for (let y = 0; y < p.length; y++)
          if (this.get(d + y) !== p[y])
            return !1;
        return !0;
      }, function() {
        const d = {
          readDoubleBE: 8,
          readDoubleLE: 8,
          readFloatBE: 4,
          readFloatLE: 4,
          readInt32BE: 4,
          readInt32LE: 4,
          readUInt32BE: 4,
          readUInt32LE: 4,
          readInt16BE: 2,
          readInt16LE: 2,
          readUInt16BE: 2,
          readUInt16LE: 2,
          readInt8: 1,
          readUInt8: 1,
          readIntBE: null,
          readIntLE: null,
          readUIntBE: null,
          readUIntLE: null
        };
        for (const p in d)
          (function(y) {
            d[y] === null ? f.prototype[y] = function(v, g) {
              return this.slice(v, v + g)[y](0, g);
            } : f.prototype[y] = function(v = 0) {
              return this.slice(v, v + d[y])[y](0);
            };
          })(p);
      }(), f.prototype._isBufferList = function(p) {
        return p instanceof f || f.isBufferList(p);
      }, f.isBufferList = function(p) {
        return p != null && p[c];
      }, o.exports = f;
    }, { buffer: 29 }], 77: [function(i, o, a) {
      const u = i("readable-stream").Duplex, c = i("inherits"), f = i("./BufferList");
      function d(p) {
        if (!(this instanceof d))
          return new d(p);
        if (typeof p == "function") {
          this._callback = p;
          const y = function(g) {
            this._callback && (this._callback(g), this._callback = null);
          }.bind(this);
          this.on("pipe", function(g) {
            g.on("error", y);
          }), this.on("unpipe", function(g) {
            g.removeListener("error", y);
          }), p = null;
        }
        f._init.call(this, p), u.call(this);
      }
      c(d, u), Object.assign(d.prototype, f.prototype), d.prototype._new = function(y) {
        return new d(y);
      }, d.prototype._write = function(y, v, g) {
        this._appendBuffer(y), typeof g == "function" && g();
      }, d.prototype._read = function(y) {
        if (!this.length)
          return this.push(null);
        y = Math.min(y, this.length), this.push(this.slice(0, y)), this.consume(y);
      }, d.prototype.end = function(y) {
        u.prototype.end.call(this, y), this._callback && (this._callback(null, this.slice()), this._callback = null);
      }, d.prototype._destroy = function(y, v) {
        this._bufs.length = 0, this.length = 0, v(y);
      }, d.prototype._isBufferList = function(y) {
        return y instanceof d || y instanceof f || d.isBufferList(y);
      }, d.isBufferList = f.isBufferList, o.exports = d, o.exports.BufferListStream = d, o.exports.BufferList = f;
    }, { "./BufferList": 76, inherits: 51, "readable-stream": 92 }], 78: [function(i, o, a) {
      arguments[4][33][0].apply(a, arguments);
    }, { dup: 33 }], 79: [function(i, o, a) {
      arguments[4][34][0].apply(a, arguments);
    }, { "./_stream_readable": 81, "./_stream_writable": 83, _process: 102, dup: 34, inherits: 51 }], 80: [function(i, o, a) {
      arguments[4][35][0].apply(a, arguments);
    }, { "./_stream_transform": 82, dup: 35, inherits: 51 }], 81: [function(i, o, a) {
      arguments[4][36][0].apply(a, arguments);
    }, { "../errors": 78, "./_stream_duplex": 79, "./internal/streams/async_iterator": 84, "./internal/streams/buffer_list": 85, "./internal/streams/destroy": 86, "./internal/streams/from": 88, "./internal/streams/state": 90, "./internal/streams/stream": 91, _process: 102, buffer: 29, dup: 36, events: 49, inherits: 51, "string_decoder/": 136, util: 26 }], 82: [function(i, o, a) {
      arguments[4][37][0].apply(a, arguments);
    }, { "../errors": 78, "./_stream_duplex": 79, dup: 37, inherits: 51 }], 83: [function(i, o, a) {
      arguments[4][38][0].apply(a, arguments);
    }, { "../errors": 78, "./_stream_duplex": 79, "./internal/streams/destroy": 86, "./internal/streams/state": 90, "./internal/streams/stream": 91, _process: 102, buffer: 29, dup: 38, inherits: 51, "util-deprecate": 139 }], 84: [function(i, o, a) {
      arguments[4][39][0].apply(a, arguments);
    }, { "./end-of-stream": 87, _process: 102, dup: 39 }], 85: [function(i, o, a) {
      arguments[4][40][0].apply(a, arguments);
    }, { buffer: 29, dup: 40, util: 26 }], 86: [function(i, o, a) {
      arguments[4][41][0].apply(a, arguments);
    }, { _process: 102, dup: 41 }], 87: [function(i, o, a) {
      arguments[4][42][0].apply(a, arguments);
    }, { "../../../errors": 78, dup: 42 }], 88: [function(i, o, a) {
      arguments[4][43][0].apply(a, arguments);
    }, { dup: 43 }], 89: [function(i, o, a) {
      arguments[4][44][0].apply(a, arguments);
    }, { "../../../errors": 78, "./end-of-stream": 87, dup: 44 }], 90: [function(i, o, a) {
      arguments[4][45][0].apply(a, arguments);
    }, { "../../../errors": 78, dup: 45 }], 91: [function(i, o, a) {
      arguments[4][46][0].apply(a, arguments);
    }, { dup: 46, events: 49 }], 92: [function(i, o, a) {
      arguments[4][47][0].apply(a, arguments);
    }, { "./lib/_stream_duplex.js": 79, "./lib/_stream_passthrough.js": 80, "./lib/_stream_readable.js": 81, "./lib/_stream_transform.js": 82, "./lib/_stream_writable.js": 83, "./lib/internal/streams/end-of-stream.js": 87, "./lib/internal/streams/pipeline.js": 89, dup: 47 }], 93: [function(i, o, a) {
      const { Buffer: u } = i("buffer"), c = 65536, f = {}, d = u.isBuffer(u.from([1, 2]).subarray(0, 1));
      function p(_) {
        const b = u.allocUnsafe(2);
        return b.writeUInt8(_ >> 8, 0), b.writeUInt8(_ & 255, 0 + 1), b;
      }
      function y() {
        for (let _ = 0; _ < c; _++)
          f[_] = p(_);
      }
      function v(_) {
        let A = 0, w = 0;
        const S = u.allocUnsafe(4);
        do
          A = _ % 128 | 0, _ = _ / 128 | 0, _ > 0 && (A = A | 128), S.writeUInt8(A, w++);
        while (_ > 0 && w < 4);
        return _ > 0 && (w = 0), d ? S.subarray(0, w) : S.slice(0, w);
      }
      function g(_) {
        const b = u.allocUnsafe(4);
        return b.writeUInt32BE(_, 0), b;
      }
      o.exports = {
        cache: f,
        generateCache: y,
        generateNumber: p,
        genBufVariableByteInt: v,
        generate4ByteBuffer: g
      };
    }, { buffer: 29 }], 94: [function(i, o, a) {
      class u {
        constructor() {
          this.cmd = null, this.retain = !1, this.qos = 0, this.dup = !1, this.length = -1, this.topic = null, this.payload = null;
        }
      }
      o.exports = u;
    }, {}], 95: [function(i, o, a) {
      const u = i("bl"), c = i("events"), f = i("./packet"), d = i("./constants"), p = i("debug")("mqtt-packet:parser");
      class y extends c {
        constructor() {
          super(), this.parser = this.constructor.parser;
        }
        static parser(g) {
          return this instanceof y ? (this.settings = g || {}, this._states = [
            "_parseHeader",
            "_parseLength",
            "_parsePayload",
            "_newPacket"
          ], this._resetState(), this) : new y().parser(g);
        }
        _resetState() {
          p("_resetState: resetting packet, error, _list, and _stateCounter"), this.packet = new f(), this.error = null, this._list = u(), this._stateCounter = 0;
        }
        parse(g) {
          for (this.error && this._resetState(), this._list.append(g), p("parse: current state: %s", this._states[this._stateCounter]); (this.packet.length !== -1 || this._list.length > 0) && this[this._states[this._stateCounter]]() && !this.error; )
            this._stateCounter++, p("parse: state complete. _stateCounter is now: %d", this._stateCounter), p("parse: packet.length: %d, buffer list length: %d", this.packet.length, this._list.length), this._stateCounter >= this._states.length && (this._stateCounter = 0);
          return p("parse: exited while loop. packet: %d, buffer list length: %d", this.packet.length, this._list.length), this._list.length;
        }
        _parseHeader() {
          const g = this._list.readUInt8(0), _ = g >> d.CMD_SHIFT;
          this.packet.cmd = d.types[_];
          const b = g & 15, A = d.requiredHeaderFlags[_];
          return A != null && b !== A ? this._emitError(new Error(d.requiredHeaderFlagsErrors[_])) : (this.packet.retain = (g & d.RETAIN_MASK) !== 0, this.packet.qos = g >> d.QOS_SHIFT & d.QOS_MASK, this.packet.qos > 2 ? this._emitError(new Error("Packet must not have both QoS bits set to 1")) : (this.packet.dup = (g & d.DUP_MASK) !== 0, p("_parseHeader: packet: %o", this.packet), this._list.consume(1), !0));
        }
        _parseLength() {
          const g = this._parseVarByteNum(!0);
          return g && (this.packet.length = g.value, this._list.consume(g.bytes)), p("_parseLength %d", g.value), !!g;
        }
        _parsePayload() {
          p("_parsePayload: payload %O", this._list);
          let g = !1;
          if (this.packet.length === 0 || this._list.length >= this.packet.length) {
            switch (this._pos = 0, this.packet.cmd) {
              case "connect":
                this._parseConnect();
                break;
              case "connack":
                this._parseConnack();
                break;
              case "publish":
                this._parsePublish();
                break;
              case "puback":
              case "pubrec":
              case "pubrel":
              case "pubcomp":
                this._parseConfirmation();
                break;
              case "subscribe":
                this._parseSubscribe();
                break;
              case "suback":
                this._parseSuback();
                break;
              case "unsubscribe":
                this._parseUnsubscribe();
                break;
              case "unsuback":
                this._parseUnsuback();
                break;
              case "pingreq":
              case "pingresp":
                break;
              case "disconnect":
                this._parseDisconnect();
                break;
              case "auth":
                this._parseAuth();
                break;
              default:
                this._emitError(new Error("Not supported"));
            }
            g = !0;
          }
          return p("_parsePayload complete result: %s", g), g;
        }
        _parseConnect() {
          p("_parseConnect");
          let g, _, b, A;
          const w = {}, S = this.packet, x = this._parseString();
          if (x === null)
            return this._emitError(new Error("Cannot parse protocolId"));
          if (x !== "MQTT" && x !== "MQIsdp")
            return this._emitError(new Error("Invalid protocolId"));
          if (S.protocolId = x, this._pos >= this._list.length)
            return this._emitError(new Error("Packet too short"));
          if (S.protocolVersion = this._list.readUInt8(this._pos), S.protocolVersion >= 128 && (S.bridgeMode = !0, S.protocolVersion = S.protocolVersion - 128), S.protocolVersion !== 3 && S.protocolVersion !== 4 && S.protocolVersion !== 5)
            return this._emitError(new Error("Invalid protocol version"));
          if (this._pos++, this._pos >= this._list.length)
            return this._emitError(new Error("Packet too short"));
          if (this._list.readUInt8(this._pos) & 1)
            return this._emitError(new Error("Connect flag bit 0 must be 0, but got 1"));
          w.username = this._list.readUInt8(this._pos) & d.USERNAME_MASK, w.password = this._list.readUInt8(this._pos) & d.PASSWORD_MASK, w.will = this._list.readUInt8(this._pos) & d.WILL_FLAG_MASK;
          const T = !!(this._list.readUInt8(this._pos) & d.WILL_RETAIN_MASK), L = (this._list.readUInt8(this._pos) & d.WILL_QOS_MASK) >> d.WILL_QOS_SHIFT;
          if (w.will)
            S.will = {}, S.will.retain = T, S.will.qos = L;
          else {
            if (T)
              return this._emitError(new Error("Will Retain Flag must be set to zero when Will Flag is set to 0"));
            if (L)
              return this._emitError(new Error("Will QoS must be set to zero when Will Flag is set to 0"));
          }
          if (S.clean = (this._list.readUInt8(this._pos) & d.CLEAN_SESSION_MASK) !== 0, this._pos++, S.keepalive = this._parseNum(), S.keepalive === -1)
            return this._emitError(new Error("Packet too short"));
          if (S.protocolVersion === 5) {
            const M = this._parseProperties();
            Object.getOwnPropertyNames(M).length && (S.properties = M);
          }
          const k = this._parseString();
          if (k === null)
            return this._emitError(new Error("Packet too short"));
          if (S.clientId = k, p("_parseConnect: packet.clientId: %s", S.clientId), w.will) {
            if (S.protocolVersion === 5) {
              const M = this._parseProperties();
              Object.getOwnPropertyNames(M).length && (S.will.properties = M);
            }
            if (g = this._parseString(), g === null)
              return this._emitError(new Error("Cannot parse will topic"));
            if (S.will.topic = g, p("_parseConnect: packet.will.topic: %s", S.will.topic), _ = this._parseBuffer(), _ === null)
              return this._emitError(new Error("Cannot parse will payload"));
            S.will.payload = _, p("_parseConnect: packet.will.paylaod: %s", S.will.payload);
          }
          if (w.username) {
            if (A = this._parseString(), A === null)
              return this._emitError(new Error("Cannot parse username"));
            S.username = A, p("_parseConnect: packet.username: %s", S.username);
          }
          if (w.password) {
            if (b = this._parseBuffer(), b === null)
              return this._emitError(new Error("Cannot parse password"));
            S.password = b;
          }
          return this.settings = S, p("_parseConnect: complete"), S;
        }
        _parseConnack() {
          p("_parseConnack");
          const g = this.packet;
          if (this._list.length < 1)
            return null;
          const _ = this._list.readUInt8(this._pos++);
          if (_ > 1)
            return this._emitError(new Error("Invalid connack flags, bits 7-1 must be set to 0"));
          if (g.sessionPresent = !!(_ & d.SESSIONPRESENT_MASK), this.settings.protocolVersion === 5)
            this._list.length >= 2 ? g.reasonCode = this._list.readUInt8(this._pos++) : g.reasonCode = 0;
          else {
            if (this._list.length < 2)
              return null;
            g.returnCode = this._list.readUInt8(this._pos++);
          }
          if (g.returnCode === -1 || g.reasonCode === -1)
            return this._emitError(new Error("Cannot parse return code"));
          if (this.settings.protocolVersion === 5) {
            const b = this._parseProperties();
            Object.getOwnPropertyNames(b).length && (g.properties = b);
          }
          p("_parseConnack: complete");
        }
        _parsePublish() {
          p("_parsePublish");
          const g = this.packet;
          if (g.topic = this._parseString(), g.topic === null)
            return this._emitError(new Error("Cannot parse topic"));
          if (!(g.qos > 0 && !this._parseMessageId())) {
            if (this.settings.protocolVersion === 5) {
              const _ = this._parseProperties();
              Object.getOwnPropertyNames(_).length && (g.properties = _);
            }
            g.payload = this._list.slice(this._pos, g.length), p("_parsePublish: payload from buffer list: %o", g.payload);
          }
        }
        _parseSubscribe() {
          p("_parseSubscribe");
          const g = this.packet;
          let _, b, A, w, S, x, T;
          if (g.subscriptions = [], !!this._parseMessageId()) {
            if (this.settings.protocolVersion === 5) {
              const L = this._parseProperties();
              Object.getOwnPropertyNames(L).length && (g.properties = L);
            }
            if (g.length <= 0)
              return this._emitError(new Error("Malformed subscribe, no payload specified"));
            for (; this._pos < g.length; ) {
              if (_ = this._parseString(), _ === null)
                return this._emitError(new Error("Cannot parse topic"));
              if (this._pos >= g.length)
                return this._emitError(new Error("Malformed Subscribe Payload"));
              if (b = this._parseByte(), this.settings.protocolVersion === 5) {
                if (b & 192)
                  return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-6 must be 0"));
              } else if (b & 252)
                return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-2 must be 0"));
              if (A = b & d.SUBSCRIBE_OPTIONS_QOS_MASK, A > 2)
                return this._emitError(new Error("Invalid subscribe QoS, must be <= 2"));
              if (x = (b >> d.SUBSCRIBE_OPTIONS_NL_SHIFT & d.SUBSCRIBE_OPTIONS_NL_MASK) !== 0, S = (b >> d.SUBSCRIBE_OPTIONS_RAP_SHIFT & d.SUBSCRIBE_OPTIONS_RAP_MASK) !== 0, w = b >> d.SUBSCRIBE_OPTIONS_RH_SHIFT & d.SUBSCRIBE_OPTIONS_RH_MASK, w > 2)
                return this._emitError(new Error("Invalid retain handling, must be <= 2"));
              T = { topic: _, qos: A }, this.settings.protocolVersion === 5 ? (T.nl = x, T.rap = S, T.rh = w) : this.settings.bridgeMode && (T.rh = 0, T.rap = !0, T.nl = !0), p("_parseSubscribe: push subscription `%s` to subscription", T), g.subscriptions.push(T);
            }
          }
        }
        _parseSuback() {
          p("_parseSuback");
          const g = this.packet;
          if (this.packet.granted = [], !!this._parseMessageId()) {
            if (this.settings.protocolVersion === 5) {
              const _ = this._parseProperties();
              Object.getOwnPropertyNames(_).length && (g.properties = _);
            }
            if (g.length <= 0)
              return this._emitError(new Error("Malformed suback, no payload specified"));
            for (; this._pos < this.packet.length; ) {
              const _ = this._list.readUInt8(this._pos++);
              if (this.settings.protocolVersion === 5) {
                if (!d.MQTT5_SUBACK_CODES[_])
                  return this._emitError(new Error("Invalid suback code"));
              } else if (_ > 2 && _ !== 128)
                return this._emitError(new Error("Invalid suback QoS, must be 0, 1, 2 or 128"));
              this.packet.granted.push(_);
            }
          }
        }
        _parseUnsubscribe() {
          p("_parseUnsubscribe");
          const g = this.packet;
          if (g.unsubscriptions = [], !!this._parseMessageId()) {
            if (this.settings.protocolVersion === 5) {
              const _ = this._parseProperties();
              Object.getOwnPropertyNames(_).length && (g.properties = _);
            }
            if (g.length <= 0)
              return this._emitError(new Error("Malformed unsubscribe, no payload specified"));
            for (; this._pos < g.length; ) {
              const _ = this._parseString();
              if (_ === null)
                return this._emitError(new Error("Cannot parse topic"));
              p("_parseUnsubscribe: push topic `%s` to unsubscriptions", _), g.unsubscriptions.push(_);
            }
          }
        }
        _parseUnsuback() {
          p("_parseUnsuback");
          const g = this.packet;
          if (!this._parseMessageId())
            return this._emitError(new Error("Cannot parse messageId"));
          if ((this.settings.protocolVersion === 3 || this.settings.protocolVersion === 4) && g.length !== 2)
            return this._emitError(new Error("Malformed unsuback, payload length must be 2"));
          if (g.length <= 0)
            return this._emitError(new Error("Malformed unsuback, no payload specified"));
          if (this.settings.protocolVersion === 5) {
            const _ = this._parseProperties();
            for (Object.getOwnPropertyNames(_).length && (g.properties = _), g.granted = []; this._pos < this.packet.length; ) {
              const b = this._list.readUInt8(this._pos++);
              if (!d.MQTT5_UNSUBACK_CODES[b])
                return this._emitError(new Error("Invalid unsuback code"));
              this.packet.granted.push(b);
            }
          }
        }
        // parse packets like puback, pubrec, pubrel, pubcomp
        _parseConfirmation() {
          p("_parseConfirmation: packet.cmd: `%s`", this.packet.cmd);
          const g = this.packet;
          if (this._parseMessageId(), this.settings.protocolVersion === 5) {
            if (g.length > 2) {
              switch (g.reasonCode = this._parseByte(), this.packet.cmd) {
                case "puback":
                case "pubrec":
                  if (!d.MQTT5_PUBACK_PUBREC_CODES[g.reasonCode])
                    return this._emitError(new Error("Invalid " + this.packet.cmd + " reason code"));
                  break;
                case "pubrel":
                case "pubcomp":
                  if (!d.MQTT5_PUBREL_PUBCOMP_CODES[g.reasonCode])
                    return this._emitError(new Error("Invalid " + this.packet.cmd + " reason code"));
                  break;
              }
              p("_parseConfirmation: packet.reasonCode `%d`", g.reasonCode);
            } else
              g.reasonCode = 0;
            if (g.length > 3) {
              const _ = this._parseProperties();
              Object.getOwnPropertyNames(_).length && (g.properties = _);
            }
          }
          return !0;
        }
        // parse disconnect packet
        _parseDisconnect() {
          const g = this.packet;
          if (p("_parseDisconnect"), this.settings.protocolVersion === 5) {
            this._list.length > 0 ? (g.reasonCode = this._parseByte(), d.MQTT5_DISCONNECT_CODES[g.reasonCode] || this._emitError(new Error("Invalid disconnect reason code"))) : g.reasonCode = 0;
            const _ = this._parseProperties();
            Object.getOwnPropertyNames(_).length && (g.properties = _);
          }
          return p("_parseDisconnect result: true"), !0;
        }
        // parse auth packet
        _parseAuth() {
          p("_parseAuth");
          const g = this.packet;
          if (this.settings.protocolVersion !== 5)
            return this._emitError(new Error("Not supported auth packet for this version MQTT"));
          if (g.reasonCode = this._parseByte(), !d.MQTT5_AUTH_CODES[g.reasonCode])
            return this._emitError(new Error("Invalid auth reason code"));
          const _ = this._parseProperties();
          return Object.getOwnPropertyNames(_).length && (g.properties = _), p("_parseAuth: result: true"), !0;
        }
        _parseMessageId() {
          const g = this.packet;
          return g.messageId = this._parseNum(), g.messageId === null ? (this._emitError(new Error("Cannot parse messageId")), !1) : (p("_parseMessageId: packet.messageId %d", g.messageId), !0);
        }
        _parseString(g) {
          const _ = this._parseNum(), b = _ + this._pos;
          if (_ === -1 || b > this._list.length || b > this.packet.length)
            return null;
          const A = this._list.toString("utf8", this._pos, b);
          return this._pos += _, p("_parseString: result: %s", A), A;
        }
        _parseStringPair() {
          return p("_parseStringPair"), {
            name: this._parseString(),
            value: this._parseString()
          };
        }
        _parseBuffer() {
          const g = this._parseNum(), _ = g + this._pos;
          if (g === -1 || _ > this._list.length || _ > this.packet.length)
            return null;
          const b = this._list.slice(this._pos, _);
          return this._pos += g, p("_parseBuffer: result: %o", b), b;
        }
        _parseNum() {
          if (this._list.length - this._pos < 2)
            return -1;
          const g = this._list.readUInt16BE(this._pos);
          return this._pos += 2, p("_parseNum: result: %s", g), g;
        }
        _parse4ByteNum() {
          if (this._list.length - this._pos < 4)
            return -1;
          const g = this._list.readUInt32BE(this._pos);
          return this._pos += 4, p("_parse4ByteNum: result: %s", g), g;
        }
        _parseVarByteNum(g) {
          p("_parseVarByteNum");
          const _ = 4;
          let b = 0, A = 1, w = 0, S = !1, x;
          const T = this._pos ? this._pos : 0;
          for (; b < _ && T + b < this._list.length; ) {
            if (x = this._list.readUInt8(T + b++), w += A * (x & d.VARBYTEINT_MASK), A *= 128, !(x & d.VARBYTEINT_FIN_MASK)) {
              S = !0;
              break;
            }
            if (this._list.length <= b)
              break;
          }
          return !S && b === _ && this._list.length >= b && this._emitError(new Error("Invalid variable byte integer")), T && (this._pos += b), S ? g ? S = { bytes: b, value: w } : S = w : S = !1, p("_parseVarByteNum: result: %o", S), S;
        }
        _parseByte() {
          let g;
          return this._pos < this._list.length && (g = this._list.readUInt8(this._pos), this._pos++), p("_parseByte: result: %o", g), g;
        }
        _parseByType(g) {
          switch (p("_parseByType: type: %s", g), g) {
            case "byte":
              return this._parseByte() !== 0;
            case "int8":
              return this._parseByte();
            case "int16":
              return this._parseNum();
            case "int32":
              return this._parse4ByteNum();
            case "var":
              return this._parseVarByteNum();
            case "string":
              return this._parseString();
            case "pair":
              return this._parseStringPair();
            case "binary":
              return this._parseBuffer();
          }
        }
        _parseProperties() {
          p("_parseProperties");
          const g = this._parseVarByteNum(), b = this._pos + g, A = {};
          for (; this._pos < b; ) {
            const w = this._parseByte();
            if (!w)
              return this._emitError(new Error("Cannot parse property code type")), !1;
            const S = d.propertiesCodes[w];
            if (!S)
              return this._emitError(new Error("Unknown property")), !1;
            if (S === "userProperties") {
              A[S] || (A[S] = /* @__PURE__ */ Object.create(null));
              const x = this._parseByType(d.propertiesTypes[S]);
              if (A[S][x.name])
                if (Array.isArray(A[S][x.name]))
                  A[S][x.name].push(x.value);
                else {
                  const T = A[S][x.name];
                  A[S][x.name] = [T], A[S][x.name].push(x.value);
                }
              else
                A[S][x.name] = x.value;
              continue;
            }
            A[S] ? Array.isArray(A[S]) ? A[S].push(this._parseByType(d.propertiesTypes[S])) : (A[S] = [A[S]], A[S].push(this._parseByType(d.propertiesTypes[S]))) : A[S] = this._parseByType(d.propertiesTypes[S]);
          }
          return A;
        }
        _newPacket() {
          return p("_newPacket"), this.packet && (this._list.consume(this.packet.length), p("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d", this.packet.cmd, this.packet.payload, this.packet.length), this.emit("packet", this.packet)), p("_newPacket: new packet"), this.packet = new f(), this._pos = 0, !0;
        }
        _emitError(g) {
          p("_emitError", g), this.error = g, this.emit("error", g);
        }
      }
      o.exports = y;
    }, { "./constants": 73, "./packet": 94, bl: 77, debug: 30, events: 49 }], 96: [function(i, o, a) {
      const u = i("./constants"), { Buffer: c } = i("buffer"), f = c.allocUnsafe(0), d = c.from([0]), p = i("./numbers"), y = i("process-nextick-args").nextTick, v = i("debug")("mqtt-packet:writeToStream"), g = p.cache, _ = p.generateNumber, b = p.generateCache, A = p.genBufVariableByteInt, w = p.generate4ByteBuffer;
      let S = xe, x = !0;
      function T(_e, de, Et) {
        switch (v("generate called"), de.cork && (de.cork(), y(L, de)), x && (x = !1, b()), v("generate: packet.cmd: %s", _e.cmd), _e.cmd) {
          case "connect":
            return k(_e, de);
          case "connack":
            return M(_e, de, Et);
          case "publish":
            return O(_e, de, Et);
          case "puback":
          case "pubrec":
          case "pubrel":
          case "pubcomp":
            return ie(_e, de, Et);
          case "subscribe":
            return F(_e, de, Et);
          case "suback":
            return re(_e, de, Et);
          case "unsubscribe":
            return D(_e, de, Et);
          case "unsuback":
            return Y(_e, de, Et);
          case "pingreq":
          case "pingresp":
            return z(_e, de);
          case "disconnect":
            return pe(_e, de, Et);
          case "auth":
            return ue(_e, de, Et);
          default:
            return de.destroy(new Error("Unknown command")), !1;
        }
      }
      Object.defineProperty(T, "cacheNumbers", {
        get() {
          return S === xe;
        },
        set(_e) {
          _e ? ((!g || Object.keys(g).length === 0) && (x = !0), S = xe) : (x = !1, S = Lt);
        }
      });
      function L(_e) {
        _e.uncork();
      }
      function k(_e, de, Et) {
        const Oe = _e || {}, Ve = Oe.protocolId || "MQTT";
        let Dt = Oe.protocolVersion || 4;
        const hn = Oe.will;
        let bn = Oe.clean;
        const oe = Oe.keepalive || 0, le = Oe.clientId || "", j = Oe.username, V = Oe.password, $ = Oe.properties;
        bn === void 0 && (bn = !0);
        let ae = 0;
        if (!Ve || typeof Ve != "string" && !c.isBuffer(Ve))
          return de.destroy(new Error("Invalid protocolId")), !1;
        if (ae += Ve.length + 2, Dt !== 3 && Dt !== 4 && Dt !== 5)
          return de.destroy(new Error("Invalid protocol version")), !1;
        if (ae += 1, (typeof le == "string" || c.isBuffer(le)) && (le || Dt >= 4) && (le || bn))
          ae += c.byteLength(le) + 2;
        else {
          if (Dt < 4)
            return de.destroy(new Error("clientId must be supplied before 3.1.1")), !1;
          if (bn * 1 === 0)
            return de.destroy(new Error("clientId must be given if cleanSession set to 0")), !1;
        }
        if (typeof oe != "number" || oe < 0 || oe > 65535 || oe % 1 !== 0)
          return de.destroy(new Error("Invalid keepalive")), !1;
        ae += 2, ae += 1;
        let Ne, Ue;
        if (Dt === 5) {
          if (Ne = jt(de, $), !Ne)
            return !1;
          ae += Ne.length;
        }
        if (hn) {
          if (typeof hn != "object")
            return de.destroy(new Error("Invalid will")), !1;
          if (!hn.topic || typeof hn.topic != "string")
            return de.destroy(new Error("Invalid will topic")), !1;
          if (ae += c.byteLength(hn.topic) + 2, ae += 2, hn.payload)
            if (hn.payload.length >= 0)
              typeof hn.payload == "string" ? ae += c.byteLength(hn.payload) : ae += hn.payload.length;
            else
              return de.destroy(new Error("Invalid will payload")), !1;
          if (Ue = {}, Dt === 5) {
            if (Ue = jt(de, hn.properties), !Ue)
              return !1;
            ae += Ue.length;
          }
        }
        let vn = !1;
        if (j != null)
          if (ze(j))
            vn = !0, ae += c.byteLength(j) + 2;
          else
            return de.destroy(new Error("Invalid username")), !1;
        if (V != null) {
          if (!vn)
            return de.destroy(new Error("Username is required to use password")), !1;
          if (ze(V))
            ae += Cn(V) + 2;
          else
            return de.destroy(new Error("Invalid password")), !1;
        }
        de.write(u.CONNECT_HEADER), Fe(de, ae), In(de, Ve), Oe.bridgeMode && (Dt += 128), de.write(
          Dt === 131 ? u.VERSION131 : Dt === 132 ? u.VERSION132 : Dt === 4 ? u.VERSION4 : Dt === 5 ? u.VERSION5 : u.VERSION3
        );
        let wn = 0;
        return wn |= j != null ? u.USERNAME_MASK : 0, wn |= V != null ? u.PASSWORD_MASK : 0, wn |= hn && hn.retain ? u.WILL_RETAIN_MASK : 0, wn |= hn && hn.qos ? hn.qos << u.WILL_QOS_SHIFT : 0, wn |= hn ? u.WILL_FLAG_MASK : 0, wn |= bn ? u.CLEAN_SESSION_MASK : 0, de.write(c.from([wn])), S(de, oe), Dt === 5 && Ne.write(), In(de, le), hn && (Dt === 5 && Ue.write(), Ie(de, hn.topic), In(de, hn.payload)), j != null && In(de, j), V != null && In(de, V), !0;
      }
      function M(_e, de, Et) {
        const Oe = Et ? Et.protocolVersion : 4, Ve = _e || {}, Dt = Oe === 5 ? Ve.reasonCode : Ve.returnCode, hn = Ve.properties;
        let bn = 2;
        if (typeof Dt != "number")
          return de.destroy(new Error("Invalid return code")), !1;
        let oe = null;
        if (Oe === 5) {
          if (oe = jt(de, hn), !oe)
            return !1;
          bn += oe.length;
        }
        return de.write(u.CONNACK_HEADER), Fe(de, bn), de.write(Ve.sessionPresent ? u.SESSIONPRESENT_HEADER : d), de.write(c.from([Dt])), oe != null && oe.write(), !0;
      }
      function O(_e, de, Et) {
        v("publish: packet: %o", _e);
        const Oe = Et ? Et.protocolVersion : 4, Ve = _e || {}, Dt = Ve.qos || 0, hn = Ve.retain ? u.RETAIN_MASK : 0, bn = Ve.topic, oe = Ve.payload || f, le = Ve.messageId, j = Ve.properties;
        let V = 0;
        if (typeof bn == "string")
          V += c.byteLength(bn) + 2;
        else if (c.isBuffer(bn))
          V += bn.length + 2;
        else
          return de.destroy(new Error("Invalid topic")), !1;
        if (c.isBuffer(oe) ? V += oe.length : V += c.byteLength(oe), Dt && typeof le != "number")
          return de.destroy(new Error("Invalid messageId")), !1;
        Dt && (V += 2);
        let $ = null;
        if (Oe === 5) {
          if ($ = jt(de, j), !$)
            return !1;
          V += $.length;
        }
        return de.write(u.PUBLISH_HEADER[Dt][Ve.dup ? 1 : 0][hn ? 1 : 0]), Fe(de, V), S(de, Cn(bn)), de.write(bn), Dt > 0 && S(de, le), $ != null && $.write(), v("publish: payload: %o", oe), de.write(oe);
      }
      function ie(_e, de, Et) {
        const Oe = Et ? Et.protocolVersion : 4, Ve = _e || {}, Dt = Ve.cmd || "puback", hn = Ve.messageId, bn = Ve.dup && Dt === "pubrel" ? u.DUP_MASK : 0;
        let oe = 0;
        const le = Ve.reasonCode, j = Ve.properties;
        let V = Oe === 5 ? 3 : 2;
        if (Dt === "pubrel" && (oe = 1), typeof hn != "number")
          return de.destroy(new Error("Invalid messageId")), !1;
        let $ = null;
        if (Oe === 5 && typeof j == "object") {
          if ($ = he(de, j, Et, V), !$)
            return !1;
          V += $.length;
        }
        return de.write(u.ACKS[Dt][oe][bn][0]), V === 3 && (V += le !== 0 ? 1 : -1), Fe(de, V), S(de, hn), Oe === 5 && V !== 2 && de.write(c.from([le])), $ !== null ? $.write() : V === 4 && de.write(c.from([0])), !0;
      }
      function F(_e, de, Et) {
        v("subscribe: packet: ");
        const Oe = Et ? Et.protocolVersion : 4, Ve = _e || {}, Dt = Ve.dup ? u.DUP_MASK : 0, hn = Ve.messageId, bn = Ve.subscriptions, oe = Ve.properties;
        let le = 0;
        if (typeof hn != "number")
          return de.destroy(new Error("Invalid messageId")), !1;
        le += 2;
        let j = null;
        if (Oe === 5) {
          if (j = jt(de, oe), !j)
            return !1;
          le += j.length;
        }
        if (typeof bn == "object" && bn.length)
          for (let $ = 0; $ < bn.length; $ += 1) {
            const ae = bn[$].topic, Ne = bn[$].qos;
            if (typeof ae != "string")
              return de.destroy(new Error("Invalid subscriptions - invalid topic")), !1;
            if (typeof Ne != "number")
              return de.destroy(new Error("Invalid subscriptions - invalid qos")), !1;
            if (Oe === 5) {
              if (typeof (bn[$].nl || !1) != "boolean")
                return de.destroy(new Error("Invalid subscriptions - invalid No Local")), !1;
              if (typeof (bn[$].rap || !1) != "boolean")
                return de.destroy(new Error("Invalid subscriptions - invalid Retain as Published")), !1;
              const wn = bn[$].rh || 0;
              if (typeof wn != "number" || wn > 2)
                return de.destroy(new Error("Invalid subscriptions - invalid Retain Handling")), !1;
            }
            le += c.byteLength(ae) + 2 + 1;
          }
        else
          return de.destroy(new Error("Invalid subscriptions")), !1;
        v("subscribe: writing to stream: %o", u.SUBSCRIBE_HEADER), de.write(u.SUBSCRIBE_HEADER[1][Dt ? 1 : 0][0]), Fe(de, le), S(de, hn), j !== null && j.write();
        let V = !0;
        for (const $ of bn) {
          const ae = $.topic, Ne = $.qos, Ue = +$.nl, vn = +$.rap, wn = $.rh;
          let xn;
          Ie(de, ae), xn = u.SUBSCRIBE_OPTIONS_QOS[Ne], Oe === 5 && (xn |= Ue ? u.SUBSCRIBE_OPTIONS_NL : 0, xn |= vn ? u.SUBSCRIBE_OPTIONS_RAP : 0, xn |= wn ? u.SUBSCRIBE_OPTIONS_RH[wn] : 0), V = de.write(c.from([xn]));
        }
        return V;
      }
      function re(_e, de, Et) {
        const Oe = Et ? Et.protocolVersion : 4, Ve = _e || {}, Dt = Ve.messageId, hn = Ve.granted, bn = Ve.properties;
        let oe = 0;
        if (typeof Dt != "number")
          return de.destroy(new Error("Invalid messageId")), !1;
        if (oe += 2, typeof hn == "object" && hn.length)
          for (let j = 0; j < hn.length; j += 1) {
            if (typeof hn[j] != "number")
              return de.destroy(new Error("Invalid qos vector")), !1;
            oe += 1;
          }
        else
          return de.destroy(new Error("Invalid qos vector")), !1;
        let le = null;
        if (Oe === 5) {
          if (le = he(de, bn, Et, oe), !le)
            return !1;
          oe += le.length;
        }
        return de.write(u.SUBACK_HEADER), Fe(de, oe), S(de, Dt), le !== null && le.write(), de.write(c.from(hn));
      }
      function D(_e, de, Et) {
        const Oe = Et ? Et.protocolVersion : 4, Ve = _e || {}, Dt = Ve.messageId, hn = Ve.dup ? u.DUP_MASK : 0, bn = Ve.unsubscriptions, oe = Ve.properties;
        let le = 0;
        if (typeof Dt != "number")
          return de.destroy(new Error("Invalid messageId")), !1;
        if (le += 2, typeof bn == "object" && bn.length)
          for (let $ = 0; $ < bn.length; $ += 1) {
            if (typeof bn[$] != "string")
              return de.destroy(new Error("Invalid unsubscriptions")), !1;
            le += c.byteLength(bn[$]) + 2;
          }
        else
          return de.destroy(new Error("Invalid unsubscriptions")), !1;
        let j = null;
        if (Oe === 5) {
          if (j = jt(de, oe), !j)
            return !1;
          le += j.length;
        }
        de.write(u.UNSUBSCRIBE_HEADER[1][hn ? 1 : 0][0]), Fe(de, le), S(de, Dt), j !== null && j.write();
        let V = !0;
        for (let $ = 0; $ < bn.length; $++)
          V = Ie(de, bn[$]);
        return V;
      }
      function Y(_e, de, Et) {
        const Oe = Et ? Et.protocolVersion : 4, Ve = _e || {}, Dt = Ve.messageId, hn = Ve.dup ? u.DUP_MASK : 0, bn = Ve.granted, oe = Ve.properties, le = Ve.cmd, j = 0;
        let V = 2;
        if (typeof Dt != "number")
          return de.destroy(new Error("Invalid messageId")), !1;
        if (Oe === 5)
          if (typeof bn == "object" && bn.length)
            for (let ae = 0; ae < bn.length; ae += 1) {
              if (typeof bn[ae] != "number")
                return de.destroy(new Error("Invalid qos vector")), !1;
              V += 1;
            }
          else
            return de.destroy(new Error("Invalid qos vector")), !1;
        let $ = null;
        if (Oe === 5) {
          if ($ = he(de, oe, Et, V), !$)
            return !1;
          V += $.length;
        }
        return de.write(u.ACKS[le][j][hn][0]), Fe(de, V), S(de, Dt), $ !== null && $.write(), Oe === 5 && de.write(c.from(bn)), !0;
      }
      function z(_e, de, Et) {
        return de.write(u.EMPTY[_e.cmd]);
      }
      function pe(_e, de, Et) {
        const Oe = Et ? Et.protocolVersion : 4, Ve = _e || {}, Dt = Ve.reasonCode, hn = Ve.properties;
        let bn = Oe === 5 ? 1 : 0, oe = null;
        if (Oe === 5) {
          if (oe = he(de, hn, Et, bn), !oe)
            return !1;
          bn += oe.length;
        }
        return de.write(c.from([u.codes.disconnect << 4])), Fe(de, bn), Oe === 5 && de.write(c.from([Dt])), oe !== null && oe.write(), !0;
      }
      function ue(_e, de, Et) {
        const Oe = Et ? Et.protocolVersion : 4, Ve = _e || {}, Dt = Ve.reasonCode, hn = Ve.properties;
        let bn = Oe === 5 ? 1 : 0;
        Oe !== 5 && de.destroy(new Error("Invalid mqtt version for auth packet"));
        const oe = he(de, hn, Et, bn);
        return oe ? (bn += oe.length, de.write(c.from([u.codes.auth << 4])), Fe(de, bn), de.write(c.from([Dt])), oe !== null && oe.write(), !0) : !1;
      }
      const Ce = {};
      function Fe(_e, de) {
        if (de > u.VARBYTEINT_MAX)
          return _e.destroy(new Error(`Invalid variable byte integer: ${de}`)), !1;
        let Et = Ce[de];
        return Et || (Et = A(de), de < 16384 && (Ce[de] = Et)), v("writeVarByteInt: writing to stream: %o", Et), _e.write(Et);
      }
      function Ie(_e, de) {
        const Et = c.byteLength(de);
        return S(_e, Et), v("writeString: %s", de), _e.write(de, "utf8");
      }
      function Pt(_e, de, Et) {
        Ie(_e, de), Ie(_e, Et);
      }
      function xe(_e, de) {
        return v("writeNumberCached: number: %d", de), v("writeNumberCached: %o", g[de]), _e.write(g[de]);
      }
      function Lt(_e, de) {
        const Et = _(de);
        return v("writeNumberGenerated: %o", Et), _e.write(Et);
      }
      function _n(_e, de) {
        const Et = w(de);
        return v("write4ByteNumber: %o", Et), _e.write(Et);
      }
      function In(_e, de) {
        typeof de == "string" ? Ie(_e, de) : de ? (S(_e, de.length), _e.write(de)) : S(_e, 0);
      }
      function jt(_e, de) {
        if (typeof de != "object" || de.length != null)
          return {
            length: 1,
            write() {
              kt(_e, {}, 0);
            }
          };
        let Et = 0;
        function Oe(Dt, hn) {
          const bn = u.propertiesTypes[Dt];
          let oe = 0;
          switch (bn) {
            case "byte": {
              if (typeof hn != "boolean")
                return _e.destroy(new Error(`Invalid ${Dt}: ${hn}`)), !1;
              oe += 1 + 1;
              break;
            }
            case "int8": {
              if (typeof hn != "number" || hn < 0 || hn > 255)
                return _e.destroy(new Error(`Invalid ${Dt}: ${hn}`)), !1;
              oe += 1 + 1;
              break;
            }
            case "binary": {
              if (hn && hn === null)
                return _e.destroy(new Error(`Invalid ${Dt}: ${hn}`)), !1;
              oe += 1 + c.byteLength(hn) + 2;
              break;
            }
            case "int16": {
              if (typeof hn != "number" || hn < 0 || hn > 65535)
                return _e.destroy(new Error(`Invalid ${Dt}: ${hn}`)), !1;
              oe += 1 + 2;
              break;
            }
            case "int32": {
              if (typeof hn != "number" || hn < 0 || hn > 4294967295)
                return _e.destroy(new Error(`Invalid ${Dt}: ${hn}`)), !1;
              oe += 1 + 4;
              break;
            }
            case "var": {
              if (typeof hn != "number" || hn < 0 || hn > 268435455)
                return _e.destroy(new Error(`Invalid ${Dt}: ${hn}`)), !1;
              oe += 1 + c.byteLength(A(hn));
              break;
            }
            case "string": {
              if (typeof hn != "string")
                return _e.destroy(new Error(`Invalid ${Dt}: ${hn}`)), !1;
              oe += 1 + 2 + c.byteLength(hn.toString());
              break;
            }
            case "pair": {
              if (typeof hn != "object")
                return _e.destroy(new Error(`Invalid ${Dt}: ${hn}`)), !1;
              oe += Object.getOwnPropertyNames(hn).reduce((le, j) => {
                const V = hn[j];
                return Array.isArray(V) ? le += V.reduce(($, ae) => ($ += 1 + 2 + c.byteLength(j.toString()) + 2 + c.byteLength(ae.toString()), $), 0) : le += 1 + 2 + c.byteLength(j.toString()) + 2 + c.byteLength(hn[j].toString()), le;
              }, 0);
              break;
            }
            default:
              return _e.destroy(new Error(`Invalid property ${Dt}: ${hn}`)), !1;
          }
          return oe;
        }
        if (de)
          for (const Dt in de) {
            let hn = 0, bn = 0;
            const oe = de[Dt];
            if (Array.isArray(oe))
              for (let le = 0; le < oe.length; le++) {
                if (bn = Oe(Dt, oe[le]), !bn)
                  return !1;
                hn += bn;
              }
            else {
              if (bn = Oe(Dt, oe), !bn)
                return !1;
              hn = bn;
            }
            if (!hn)
              return !1;
            Et += hn;
          }
        return {
          length: c.byteLength(A(Et)) + Et,
          write() {
            kt(_e, de, Et);
          }
        };
      }
      function he(_e, de, Et, Oe) {
        const Ve = ["reasonString", "userProperties"], Dt = Et && Et.properties && Et.properties.maximumPacketSize ? Et.properties.maximumPacketSize : 0;
        let hn = jt(_e, de);
        if (Dt)
          for (; Oe + hn.length > Dt; ) {
            const bn = Ve.shift();
            if (bn && de[bn])
              delete de[bn], hn = jt(_e, de);
            else
              return !1;
          }
        return hn;
      }
      function At(_e, de, Et) {
        switch (u.propertiesTypes[de]) {
          case "byte": {
            _e.write(c.from([u.properties[de]])), _e.write(c.from([+Et]));
            break;
          }
          case "int8": {
            _e.write(c.from([u.properties[de]])), _e.write(c.from([Et]));
            break;
          }
          case "binary": {
            _e.write(c.from([u.properties[de]])), In(_e, Et);
            break;
          }
          case "int16": {
            _e.write(c.from([u.properties[de]])), S(_e, Et);
            break;
          }
          case "int32": {
            _e.write(c.from([u.properties[de]])), _n(_e, Et);
            break;
          }
          case "var": {
            _e.write(c.from([u.properties[de]])), Fe(_e, Et);
            break;
          }
          case "string": {
            _e.write(c.from([u.properties[de]])), Ie(_e, Et);
            break;
          }
          case "pair": {
            Object.getOwnPropertyNames(Et).forEach((Ve) => {
              const Dt = Et[Ve];
              Array.isArray(Dt) ? Dt.forEach((hn) => {
                _e.write(c.from([u.properties[de]])), Pt(_e, Ve.toString(), hn.toString());
              }) : (_e.write(c.from([u.properties[de]])), Pt(_e, Ve.toString(), Dt.toString()));
            });
            break;
          }
          default:
            return _e.destroy(new Error(`Invalid property ${de} value: ${Et}`)), !1;
        }
      }
      function kt(_e, de, Et) {
        Fe(_e, Et);
        for (const Oe in de)
          if (Object.prototype.hasOwnProperty.call(de, Oe) && de[Oe] !== null) {
            const Ve = de[Oe];
            if (Array.isArray(Ve))
              for (let Dt = 0; Dt < Ve.length; Dt++)
                At(_e, Oe, Ve[Dt]);
            else
              At(_e, Oe, Ve);
          }
      }
      function Cn(_e) {
        return _e ? _e instanceof c ? _e.length : c.byteLength(_e) : 0;
      }
      function ze(_e) {
        return typeof _e == "string" || _e instanceof c;
      }
      o.exports = T;
    }, { "./constants": 73, "./numbers": 93, buffer: 29, debug: 30, "process-nextick-args": 101 }], 97: [function(i, o, a) {
      var u = 1e3, c = u * 60, f = c * 60, d = f * 24, p = d * 7, y = d * 365.25;
      o.exports = function(A, w) {
        w = w || {};
        var S = typeof A;
        if (S === "string" && A.length > 0)
          return v(A);
        if (S === "number" && isFinite(A))
          return w.long ? _(A) : g(A);
        throw new Error(
          "val is not a non-empty string or a valid number. val=" + JSON.stringify(A)
        );
      };
      function v(A) {
        if (A = String(A), !(A.length > 100)) {
          var w = /^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(
            A
          );
          if (w) {
            var S = parseFloat(w[1]), x = (w[2] || "ms").toLowerCase();
            switch (x) {
              case "years":
              case "year":
              case "yrs":
              case "yr":
              case "y":
                return S * y;
              case "weeks":
              case "week":
              case "w":
                return S * p;
              case "days":
              case "day":
              case "d":
                return S * d;
              case "hours":
              case "hour":
              case "hrs":
              case "hr":
              case "h":
                return S * f;
              case "minutes":
              case "minute":
              case "mins":
              case "min":
              case "m":
                return S * c;
              case "seconds":
              case "second":
              case "secs":
              case "sec":
              case "s":
                return S * u;
              case "milliseconds":
              case "millisecond":
              case "msecs":
              case "msec":
              case "ms":
                return S;
              default:
                return;
            }
          }
        }
      }
      function g(A) {
        var w = Math.abs(A);
        return w >= d ? Math.round(A / d) + "d" : w >= f ? Math.round(A / f) + "h" : w >= c ? Math.round(A / c) + "m" : w >= u ? Math.round(A / u) + "s" : A + "ms";
      }
      function _(A) {
        var w = Math.abs(A);
        return w >= d ? b(A, w, d, "day") : w >= f ? b(A, w, f, "hour") : w >= c ? b(A, w, c, "minute") : w >= u ? b(A, w, u, "second") : A + " ms";
      }
      function b(A, w, S, x) {
        var T = w >= S * 1.5;
        return Math.round(A / S) + " " + x + (T ? "s" : "");
      }
    }, {}], 98: [function(i, o, a) {
      const u = i("./lib/number-allocator.js");
      o.exports.NumberAllocator = u;
    }, { "./lib/number-allocator.js": 99 }], 99: [function(i, o, a) {
      const u = i("js-sdsl").OrderedSet, c = i("debug")("number-allocator:trace"), f = i("debug")("number-allocator:error");
      function d(y, v) {
        this.low = y, this.high = v;
      }
      d.prototype.equals = function(y) {
        return this.low === y.low && this.high === y.high;
      }, d.prototype.compare = function(y) {
        return this.low < y.low && this.high < y.low ? -1 : y.low < this.low && y.high < this.low ? 1 : 0;
      };
      function p(y, v) {
        if (!(this instanceof p))
          return new p(y, v);
        this.min = y, this.max = v, this.ss = new u(
          [],
          (g, _) => g.compare(_)
        ), c("Create"), this.clear();
      }
      p.prototype.firstVacant = function() {
        return this.ss.size() === 0 ? null : this.ss.front().low;
      }, p.prototype.alloc = function() {
        if (this.ss.size() === 0)
          return c("alloc():empty"), null;
        const y = this.ss.begin(), v = y.pointer.low, g = y.pointer.high, _ = v;
        return _ + 1 <= g ? this.ss.updateKeyByIterator(y, new d(v + 1, g)) : this.ss.eraseElementByPos(0), c("alloc():" + _), _;
      }, p.prototype.use = function(y) {
        const v = new d(y, y), g = this.ss.lowerBound(v);
        if (!g.equals(this.ss.end())) {
          const _ = g.pointer.low, b = g.pointer.high;
          return g.pointer.equals(v) ? (this.ss.eraseElementByIterator(g), c("use():" + y), !0) : _ > y ? !1 : _ === y ? (this.ss.updateKeyByIterator(g, new d(_ + 1, b)), c("use():" + y), !0) : b === y ? (this.ss.updateKeyByIterator(g, new d(_, b - 1)), c("use():" + y), !0) : (this.ss.updateKeyByIterator(g, new d(y + 1, b)), this.ss.insert(new d(_, y - 1)), c("use():" + y), !0);
        }
        return c("use():failed"), !1;
      }, p.prototype.free = function(y) {
        if (y < this.min || y > this.max) {
          f("free():" + y + " is out of range");
          return;
        }
        const v = new d(y, y), g = this.ss.upperBound(v);
        if (g.equals(this.ss.end())) {
          if (g.equals(this.ss.begin())) {
            this.ss.insert(v);
            return;
          }
          g.pre();
          const _ = g.pointer.high;
          g.pointer.high + 1 === y ? this.ss.updateKeyByIterator(g, new d(_, y)) : this.ss.insert(v);
        } else if (g.equals(this.ss.begin()))
          if (y + 1 === g.pointer.low) {
            const _ = g.pointer.high;
            this.ss.updateKeyByIterator(g, new d(y, _));
          } else
            this.ss.insert(v);
        else {
          const _ = g.pointer.low, b = g.pointer.high;
          g.pre();
          const A = g.pointer.low;
          g.pointer.high + 1 === y ? y + 1 === _ ? (this.ss.eraseElementByIterator(g), this.ss.updateKeyByIterator(g, new d(A, b))) : this.ss.updateKeyByIterator(g, new d(A, y)) : y + 1 === _ ? (this.ss.eraseElementByIterator(g.next()), this.ss.insert(new d(y, b))) : this.ss.insert(v);
        }
        c("free():" + y);
      }, p.prototype.clear = function() {
        c("clear()"), this.ss.clear(), this.ss.insert(new d(this.min, this.max));
      }, p.prototype.intervalCount = function() {
        return this.ss.size();
      }, p.prototype.dump = function() {
        console.log("length:" + this.ss.size());
        for (const y of this.ss)
          console.log(y);
      }, o.exports = p;
    }, { debug: 30, "js-sdsl": 69 }], 100: [function(i, o, a) {
      var u = i("wrappy");
      o.exports = u(c), o.exports.strict = u(f), c.proto = c(function() {
        Object.defineProperty(Function.prototype, "once", {
          value: function() {
            return c(this);
          },
          configurable: !0
        }), Object.defineProperty(Function.prototype, "onceStrict", {
          value: function() {
            return f(this);
          },
          configurable: !0
        });
      });
      function c(d) {
        var p = function() {
          return p.called ? p.value : (p.called = !0, p.value = d.apply(this, arguments));
        };
        return p.called = !1, p;
      }
      function f(d) {
        var p = function() {
          if (p.called)
            throw new Error(p.onceError);
          return p.called = !0, p.value = d.apply(this, arguments);
        }, y = d.name || "Function wrapped with `once`";
        return p.onceError = y + " shouldn't be called more than once", p.called = !1, p;
      }
    }, { wrappy: 140 }], 101: [function(i, o, a) {
      (function(u) {
        (function() {
          typeof u > "u" || !u.version || u.version.indexOf("v0.") === 0 || u.version.indexOf("v1.") === 0 && u.version.indexOf("v1.8.") !== 0 ? o.exports = { nextTick: c } : o.exports = u;
          function c(f, d, p, y) {
            if (typeof f != "function")
              throw new TypeError('"callback" argument must be a function');
            var v = arguments.length, g, _;
            switch (v) {
              case 0:
              case 1:
                return u.nextTick(f);
              case 2:
                return u.nextTick(function() {
                  f.call(null, d);
                });
              case 3:
                return u.nextTick(function() {
                  f.call(null, d, p);
                });
              case 4:
                return u.nextTick(function() {
                  f.call(null, d, p, y);
                });
              default:
                for (g = new Array(v - 1), _ = 0; _ < g.length; )
                  g[_++] = arguments[_];
                return u.nextTick(function() {
                  f.apply(null, g);
                });
            }
          }
        }).call(this);
      }).call(this, i("_process"));
    }, { _process: 102 }], 102: [function(i, o, a) {
      var u = o.exports = {}, c, f;
      function d() {
        throw new Error("setTimeout has not been defined");
      }
      function p() {
        throw new Error("clearTimeout has not been defined");
      }
      (function() {
        try {
          typeof setTimeout == "function" ? c = setTimeout : c = d;
        } catch {
          c = d;
        }
        try {
          typeof clearTimeout == "function" ? f = clearTimeout : f = p;
        } catch {
          f = p;
        }
      })();
      function y(L) {
        if (c === setTimeout)
          return setTimeout(L, 0);
        if ((c === d || !c) && setTimeout)
          return c = setTimeout, setTimeout(L, 0);
        try {
          return c(L, 0);
        } catch {
          try {
            return c.call(null, L, 0);
          } catch {
            return c.call(this, L, 0);
          }
        }
      }
      function v(L) {
        if (f === clearTimeout)
          return clearTimeout(L);
        if ((f === p || !f) && clearTimeout)
          return f = clearTimeout, clearTimeout(L);
        try {
          return f(L);
        } catch {
          try {
            return f.call(null, L);
          } catch {
            return f.call(this, L);
          }
        }
      }
      var g = [], _ = !1, b, A = -1;
      function w() {
        !_ || !b || (_ = !1, b.length ? g = b.concat(g) : A = -1, g.length && S());
      }
      function S() {
        if (!_) {
          var L = y(w);
          _ = !0;
          for (var k = g.length; k; ) {
            for (b = g, g = []; ++A < k; )
              b && b[A].run();
            A = -1, k = g.length;
          }
          b = null, _ = !1, v(L);
        }
      }
      u.nextTick = function(L) {
        var k = new Array(arguments.length - 1);
        if (arguments.length > 1)
          for (var M = 1; M < arguments.length; M++)
            k[M - 1] = arguments[M];
        g.push(new x(L, k)), g.length === 1 && !_ && y(S);
      };
      function x(L, k) {
        this.fun = L, this.array = k;
      }
      x.prototype.run = function() {
        this.fun.apply(null, this.array);
      }, u.title = "browser", u.browser = !0, u.env = {}, u.argv = [], u.version = "", u.versions = {};
      function T() {
      }
      u.on = T, u.addListener = T, u.once = T, u.off = T, u.removeListener = T, u.removeAllListeners = T, u.emit = T, u.prependListener = T, u.prependOnceListener = T, u.listeners = function(L) {
        return [];
      }, u.binding = function(L) {
        throw new Error("process.binding is not supported");
      }, u.cwd = function() {
        return "/";
      }, u.chdir = function(L) {
        throw new Error("process.chdir is not supported");
      }, u.umask = function() {
        return 0;
      };
    }, {}], 103: [function(i, o, a) {
      (function(u) {
        (function() {
          (function(c) {
            var f = typeof a == "object" && a && !a.nodeType && a, d = typeof o == "object" && o && !o.nodeType && o, p = typeof u == "object" && u;
            (p.global === p || p.window === p || p.self === p) && (c = p);
            var y, v = 2147483647, g = 36, _ = 1, b = 26, A = 38, w = 700, S = 72, x = 128, T = "-", L = /^xn--/, k = /[^\x20-\x7E]/, M = /[\x2E\u3002\uFF0E\uFF61]/g, O = {
              overflow: "Overflow: input needs wider integers to process",
              "not-basic": "Illegal input >= 0x80 (not a basic code point)",
              "invalid-input": "Invalid input"
            }, ie = g - _, F = Math.floor, re = String.fromCharCode, D;
            function Y(jt) {
              throw new RangeError(O[jt]);
            }
            function z(jt, he) {
              for (var At = jt.length, kt = []; At--; )
                kt[At] = he(jt[At]);
              return kt;
            }
            function pe(jt, he) {
              var At = jt.split("@"), kt = "";
              At.length > 1 && (kt = At[0] + "@", jt = At[1]), jt = jt.replace(M, ".");
              var Cn = jt.split("."), ze = z(Cn, he).join(".");
              return kt + ze;
            }
            function ue(jt) {
              for (var he = [], At = 0, kt = jt.length, Cn, ze; At < kt; )
                Cn = jt.charCodeAt(At++), Cn >= 55296 && Cn <= 56319 && At < kt ? (ze = jt.charCodeAt(At++), (ze & 64512) == 56320 ? he.push(((Cn & 1023) << 10) + (ze & 1023) + 65536) : (he.push(Cn), At--)) : he.push(Cn);
              return he;
            }
            function Ce(jt) {
              return z(jt, function(he) {
                var At = "";
                return he > 65535 && (he -= 65536, At += re(he >>> 10 & 1023 | 55296), he = 56320 | he & 1023), At += re(he), At;
              }).join("");
            }
            function Fe(jt) {
              return jt - 48 < 10 ? jt - 22 : jt - 65 < 26 ? jt - 65 : jt - 97 < 26 ? jt - 97 : g;
            }
            function Ie(jt, he) {
              return jt + 22 + 75 * (jt < 26) - ((he != 0) << 5);
            }
            function Pt(jt, he, At) {
              var kt = 0;
              for (jt = At ? F(jt / w) : jt >> 1, jt += F(jt / he); jt > ie * b >> 1; kt += g)
                jt = F(jt / ie);
              return F(kt + (ie + 1) * jt / (jt + A));
            }
            function xe(jt) {
              var he = [], At = jt.length, kt, Cn = 0, ze = x, _e = S, de, Et, Oe, Ve, Dt, hn, bn, oe, le;
              for (de = jt.lastIndexOf(T), de < 0 && (de = 0), Et = 0; Et < de; ++Et)
                jt.charCodeAt(Et) >= 128 && Y("not-basic"), he.push(jt.charCodeAt(Et));
              for (Oe = de > 0 ? de + 1 : 0; Oe < At; ) {
                for (Ve = Cn, Dt = 1, hn = g; Oe >= At && Y("invalid-input"), bn = Fe(jt.charCodeAt(Oe++)), (bn >= g || bn > F((v - Cn) / Dt)) && Y("overflow"), Cn += bn * Dt, oe = hn <= _e ? _ : hn >= _e + b ? b : hn - _e, !(bn < oe); hn += g)
                  le = g - oe, Dt > F(v / le) && Y("overflow"), Dt *= le;
                kt = he.length + 1, _e = Pt(Cn - Ve, kt, Ve == 0), F(Cn / kt) > v - ze && Y("overflow"), ze += F(Cn / kt), Cn %= kt, he.splice(Cn++, 0, ze);
              }
              return Ce(he);
            }
            function Lt(jt) {
              var he, At, kt, Cn, ze, _e, de, Et, Oe, Ve, Dt, hn = [], bn, oe, le, j;
              for (jt = ue(jt), bn = jt.length, he = x, At = 0, ze = S, _e = 0; _e < bn; ++_e)
                Dt = jt[_e], Dt < 128 && hn.push(re(Dt));
              for (kt = Cn = hn.length, Cn && hn.push(T); kt < bn; ) {
                for (de = v, _e = 0; _e < bn; ++_e)
                  Dt = jt[_e], Dt >= he && Dt < de && (de = Dt);
                for (oe = kt + 1, de - he > F((v - At) / oe) && Y("overflow"), At += (de - he) * oe, he = de, _e = 0; _e < bn; ++_e)
                  if (Dt = jt[_e], Dt < he && ++At > v && Y("overflow"), Dt == he) {
                    for (Et = At, Oe = g; Ve = Oe <= ze ? _ : Oe >= ze + b ? b : Oe - ze, !(Et < Ve); Oe += g)
                      j = Et - Ve, le = g - Ve, hn.push(
                        re(Ie(Ve + j % le, 0))
                      ), Et = F(j / le);
                    hn.push(re(Ie(Et, 0))), ze = Pt(At, oe, kt == Cn), At = 0, ++kt;
                  }
                ++At, ++he;
              }
              return hn.join("");
            }
            function _n(jt) {
              return pe(jt, function(he) {
                return L.test(he) ? xe(he.slice(4).toLowerCase()) : he;
              });
            }
            function In(jt) {
              return pe(jt, function(he) {
                return k.test(he) ? "xn--" + Lt(he) : he;
              });
            }
            if (y = {
              /**
               * A string representing the current Punycode.js version number.
               * @memberOf punycode
               * @type String
               */
              version: "1.4.1",
              /**
               * An object of methods to convert from JavaScript's internal character
               * representation (UCS-2) to Unicode code points, and back.
               * @see <https://mathiasbynens.be/notes/javascript-encoding>
               * @memberOf punycode
               * @type Object
               */
              ucs2: {
                decode: ue,
                encode: Ce
              },
              decode: xe,
              encode: Lt,
              toASCII: In,
              toUnicode: _n
            }, f && d)
              if (o.exports == f)
                d.exports = y;
              else
                for (D in y)
                  y.hasOwnProperty(D) && (f[D] = y[D]);
            else
              c.punycode = y;
          })(this);
        }).call(this);
      }).call(this, typeof commonjsGlobal < "u" ? commonjsGlobal : typeof self < "u" ? self : typeof window < "u" ? window : {});
    }, {}], 104: [function(i, o, a) {
      function u(f, d) {
        return Object.prototype.hasOwnProperty.call(f, d);
      }
      o.exports = function(f, d, p, y) {
        d = d || "&", p = p || "=";
        var v = {};
        if (typeof f != "string" || f.length === 0)
          return v;
        var g = /\+/g;
        f = f.split(d);
        var _ = 1e3;
        y && typeof y.maxKeys == "number" && (_ = y.maxKeys);
        var b = f.length;
        _ > 0 && b > _ && (b = _);
        for (var A = 0; A < b; ++A) {
          var w = f[A].replace(g, "%20"), S = w.indexOf(p), x, T, L, k;
          S >= 0 ? (x = w.substr(0, S), T = w.substr(S + 1)) : (x = w, T = ""), L = decodeURIComponent(x), k = decodeURIComponent(T), u(v, L) ? c(v[L]) ? v[L].push(k) : v[L] = [v[L], k] : v[L] = k;
        }
        return v;
      };
      var c = Array.isArray || function(f) {
        return Object.prototype.toString.call(f) === "[object Array]";
      };
    }, {}], 105: [function(i, o, a) {
      var u = function(p) {
        switch (typeof p) {
          case "string":
            return p;
          case "boolean":
            return p ? "true" : "false";
          case "number":
            return isFinite(p) ? p : "";
          default:
            return "";
        }
      };
      o.exports = function(p, y, v, g) {
        return y = y || "&", v = v || "=", p === null && (p = void 0), typeof p == "object" ? f(d(p), function(_) {
          var b = encodeURIComponent(u(_)) + v;
          return c(p[_]) ? f(p[_], function(A) {
            return b + encodeURIComponent(u(A));
          }).join(y) : b + encodeURIComponent(u(p[_]));
        }).join(y) : g ? encodeURIComponent(u(g)) + v + encodeURIComponent(u(p)) : "";
      };
      var c = Array.isArray || function(p) {
        return Object.prototype.toString.call(p) === "[object Array]";
      };
      function f(p, y) {
        if (p.map)
          return p.map(y);
        for (var v = [], g = 0; g < p.length; g++)
          v.push(y(p[g], g));
        return v;
      }
      var d = Object.keys || function(p) {
        var y = [];
        for (var v in p)
          Object.prototype.hasOwnProperty.call(p, v) && y.push(v);
        return y;
      };
    }, {}], 106: [function(i, o, a) {
      a.decode = a.parse = i("./decode"), a.encode = a.stringify = i("./encode");
    }, { "./decode": 104, "./encode": 105 }], 107: [function(i, o, a) {
      const { AbortError: u, codes: c } = i("../../ours/errors"), { isNodeStream: f, isWebStream: d, kControllerErrorFunction: p } = i("./utils"), y = i("./end-of-stream"), { ERR_INVALID_ARG_TYPE: v } = c, g = (_, b) => {
        if (typeof _ != "object" || !("aborted" in _))
          throw new v(b, "AbortSignal", _);
      };
      o.exports.addAbortSignal = function(b, A) {
        if (g(b, "signal"), !f(A) && !d(A))
          throw new v("stream", ["ReadableStream", "WritableStream", "Stream"], A);
        return o.exports.addAbortSignalNoValidate(b, A);
      }, o.exports.addAbortSignalNoValidate = function(_, b) {
        if (typeof _ != "object" || !("aborted" in _))
          return b;
        const A = f(b) ? () => {
          b.destroy(
            new u(void 0, {
              cause: _.reason
            })
          );
        } : () => {
          b[p](
            new u(void 0, {
              cause: _.reason
            })
          );
        };
        return _.aborted ? A() : (_.addEventListener("abort", A), y(b, () => _.removeEventListener("abort", A))), b;
      };
    }, { "../../ours/errors": 126, "./end-of-stream": 113, "./utils": 122 }], 108: [function(i, o, a) {
      const { StringPrototypeSlice: u, SymbolIterator: c, TypedArrayPrototypeSet: f, Uint8Array: d } = i("../../ours/primordials"), { Buffer: p } = i("buffer"), { inspect: y } = i("../../ours/util");
      o.exports = class {
        constructor() {
          this.head = null, this.tail = null, this.length = 0;
        }
        push(g) {
          const _ = {
            data: g,
            next: null
          };
          this.length > 0 ? this.tail.next = _ : this.head = _, this.tail = _, ++this.length;
        }
        unshift(g) {
          const _ = {
            data: g,
            next: this.head
          };
          this.length === 0 && (this.tail = _), this.head = _, ++this.length;
        }
        shift() {
          if (this.length === 0)
            return;
          const g = this.head.data;
          return this.length === 1 ? this.head = this.tail = null : this.head = this.head.next, --this.length, g;
        }
        clear() {
          this.head = this.tail = null, this.length = 0;
        }
        join(g) {
          if (this.length === 0)
            return "";
          let _ = this.head, b = "" + _.data;
          for (; (_ = _.next) !== null; )
            b += g + _.data;
          return b;
        }
        concat(g) {
          if (this.length === 0)
            return p.alloc(0);
          const _ = p.allocUnsafe(g >>> 0);
          let b = this.head, A = 0;
          for (; b; )
            f(_, b.data, A), A += b.data.length, b = b.next;
          return _;
        }
        // Consumes a specified amount of bytes or characters from the buffered data.
        consume(g, _) {
          const b = this.head.data;
          if (g < b.length) {
            const A = b.slice(0, g);
            return this.head.data = b.slice(g), A;
          }
          return g === b.length ? this.shift() : _ ? this._getString(g) : this._getBuffer(g);
        }
        first() {
          return this.head.data;
        }
        *[c]() {
          for (let g = this.head; g; g = g.next)
            yield g.data;
        }
        // Consumes a specified amount of characters from the buffered data.
        _getString(g) {
          let _ = "", b = this.head, A = 0;
          do {
            const w = b.data;
            if (g > w.length)
              _ += w, g -= w.length;
            else {
              g === w.length ? (_ += w, ++A, b.next ? this.head = b.next : this.head = this.tail = null) : (_ += u(w, 0, g), this.head = b, b.data = u(w, g));
              break;
            }
            ++A;
          } while ((b = b.next) !== null);
          return this.length -= A, _;
        }
        // Consumes a specified amount of bytes from the buffered data.
        _getBuffer(g) {
          const _ = p.allocUnsafe(g), b = g;
          let A = this.head, w = 0;
          do {
            const S = A.data;
            if (g > S.length)
              f(_, S, b - g), g -= S.length;
            else {
              g === S.length ? (f(_, S, b - g), ++w, A.next ? this.head = A.next : this.head = this.tail = null) : (f(_, new d(S.buffer, S.byteOffset, g), b - g), this.head = A, A.data = S.slice(g));
              break;
            }
            ++w;
          } while ((A = A.next) !== null);
          return this.length -= w, _;
        }
        // Make sure the linked list only shows the minimal necessary information.
        [Symbol.for("nodejs.util.inspect.custom")](g, _) {
          return y(this, {
            ..._,
            // Only inspect one level.
            depth: 0,
            // It should not recurse.
            customInspect: !1
          });
        }
      };
    }, { "../../ours/primordials": 127, "../../ours/util": 128, buffer: 29 }], 109: [function(i, o, a) {
      const { pipeline: u } = i("./pipeline"), c = i("./duplex"), { destroyer: f } = i("./destroy"), {
        isNodeStream: d,
        isReadable: p,
        isWritable: y,
        isWebStream: v,
        isTransformStream: g,
        isWritableStream: _,
        isReadableStream: b
      } = i("./utils"), {
        AbortError: A,
        codes: { ERR_INVALID_ARG_VALUE: w, ERR_MISSING_ARGS: S }
      } = i("../../ours/errors"), x = i("./end-of-stream");
      o.exports = function(...L) {
        if (L.length === 0)
          throw new S("streams");
        if (L.length === 1)
          return c.from(L[0]);
        const k = [...L];
        if (typeof L[0] == "function" && (L[0] = c.from(L[0])), typeof L[L.length - 1] == "function") {
          const Ce = L.length - 1;
          L[Ce] = c.from(L[Ce]);
        }
        for (let Ce = 0; Ce < L.length; ++Ce)
          if (!(!d(L[Ce]) && !v(L[Ce]))) {
            if (Ce < L.length - 1 && !(p(L[Ce]) || b(L[Ce]) || g(L[Ce])))
              throw new w(`streams[${Ce}]`, k[Ce], "must be readable");
            if (Ce > 0 && !(y(L[Ce]) || _(L[Ce]) || g(L[Ce])))
              throw new w(`streams[${Ce}]`, k[Ce], "must be writable");
          }
        let M, O, ie, F, re;
        function D(Ce) {
          const Fe = F;
          F = null, Fe ? Fe(Ce) : Ce ? re.destroy(Ce) : !ue && !pe && re.destroy();
        }
        const Y = L[0], z = u(L, D), pe = !!(y(Y) || _(Y) || g(Y)), ue = !!(p(z) || b(z) || g(z));
        if (re = new c({
          // TODO (ronag): highWaterMark?
          writableObjectMode: !!(Y != null && Y.writableObjectMode),
          readableObjectMode: !!(z != null && z.writableObjectMode),
          writable: pe,
          readable: ue
        }), pe) {
          if (d(Y))
            re._write = function(Fe, Ie, Pt) {
              Y.write(Fe, Ie) ? Pt() : M = Pt;
            }, re._final = function(Fe) {
              Y.end(), O = Fe;
            }, Y.on("drain", function() {
              if (M) {
                const Fe = M;
                M = null, Fe();
              }
            });
          else if (v(Y)) {
            const Ie = (g(Y) ? Y.writable : Y).getWriter();
            re._write = async function(Pt, xe, Lt) {
              try {
                await Ie.ready, Ie.write(Pt).catch(() => {
                }), Lt();
              } catch (_n) {
                Lt(_n);
              }
            }, re._final = async function(Pt) {
              try {
                await Ie.ready, Ie.close().catch(() => {
                }), O = Pt;
              } catch (xe) {
                Pt(xe);
              }
            };
          }
          const Ce = g(z) ? z.readable : z;
          x(Ce, () => {
            if (O) {
              const Fe = O;
              O = null, Fe();
            }
          });
        }
        if (ue) {
          if (d(z))
            z.on("readable", function() {
              if (ie) {
                const Ce = ie;
                ie = null, Ce();
              }
            }), z.on("end", function() {
              re.push(null);
            }), re._read = function() {
              for (; ; ) {
                const Ce = z.read();
                if (Ce === null) {
                  ie = re._read;
                  return;
                }
                if (!re.push(Ce))
                  return;
              }
            };
          else if (v(z)) {
            const Fe = (g(z) ? z.readable : z).getReader();
            re._read = async function() {
              for (; ; )
                try {
                  const { value: Ie, done: Pt } = await Fe.read();
                  if (!re.push(Ie))
                    return;
                  if (Pt) {
                    re.push(null);
                    return;
                  }
                } catch {
                  return;
                }
            };
          }
        }
        return re._destroy = function(Ce, Fe) {
          !Ce && F !== null && (Ce = new A()), ie = null, M = null, O = null, F === null ? Fe(Ce) : (F = Fe, d(z) && f(z, Ce));
        }, re;
      };
    }, { "../../ours/errors": 126, "./destroy": 110, "./duplex": 111, "./end-of-stream": 113, "./pipeline": 118, "./utils": 122 }], 110: [function(i, o, a) {
      const u = i("process/"), {
        aggregateTwoErrors: c,
        codes: { ERR_MULTIPLE_CALLBACK: f },
        AbortError: d
      } = i("../../ours/errors"), { Symbol: p } = i("../../ours/primordials"), { kDestroyed: y, isDestroyed: v, isFinished: g, isServerRequest: _ } = i("./utils"), b = p("kDestroy"), A = p("kConstruct");
      function w(ue, Ce, Fe) {
        ue && (ue.stack, Ce && !Ce.errored && (Ce.errored = ue), Fe && !Fe.errored && (Fe.errored = ue));
      }
      function S(ue, Ce) {
        const Fe = this._readableState, Ie = this._writableState, Pt = Ie || Fe;
        return Ie != null && Ie.destroyed || Fe != null && Fe.destroyed ? (typeof Ce == "function" && Ce(), this) : (w(ue, Ie, Fe), Ie && (Ie.destroyed = !0), Fe && (Fe.destroyed = !0), Pt.constructed ? x(this, ue, Ce) : this.once(b, function(xe) {
          x(this, c(xe, ue), Ce);
        }), this);
      }
      function x(ue, Ce, Fe) {
        let Ie = !1;
        function Pt(xe) {
          if (Ie)
            return;
          Ie = !0;
          const Lt = ue._readableState, _n = ue._writableState;
          w(xe, _n, Lt), _n && (_n.closed = !0), Lt && (Lt.closed = !0), typeof Fe == "function" && Fe(xe), xe ? u.nextTick(T, ue, xe) : u.nextTick(L, ue);
        }
        try {
          ue._destroy(Ce || null, Pt);
        } catch (xe) {
          Pt(xe);
        }
      }
      function T(ue, Ce) {
        k(ue, Ce), L(ue);
      }
      function L(ue) {
        const Ce = ue._readableState, Fe = ue._writableState;
        Fe && (Fe.closeEmitted = !0), Ce && (Ce.closeEmitted = !0), (Fe != null && Fe.emitClose || Ce != null && Ce.emitClose) && ue.emit("close");
      }
      function k(ue, Ce) {
        const Fe = ue._readableState, Ie = ue._writableState;
        Ie != null && Ie.errorEmitted || Fe != null && Fe.errorEmitted || (Ie && (Ie.errorEmitted = !0), Fe && (Fe.errorEmitted = !0), ue.emit("error", Ce));
      }
      function M() {
        const ue = this._readableState, Ce = this._writableState;
        ue && (ue.constructed = !0, ue.closed = !1, ue.closeEmitted = !1, ue.destroyed = !1, ue.errored = null, ue.errorEmitted = !1, ue.reading = !1, ue.ended = ue.readable === !1, ue.endEmitted = ue.readable === !1), Ce && (Ce.constructed = !0, Ce.destroyed = !1, Ce.closed = !1, Ce.closeEmitted = !1, Ce.errored = null, Ce.errorEmitted = !1, Ce.finalCalled = !1, Ce.prefinished = !1, Ce.ended = Ce.writable === !1, Ce.ending = Ce.writable === !1, Ce.finished = Ce.writable === !1);
      }
      function O(ue, Ce, Fe) {
        const Ie = ue._readableState, Pt = ue._writableState;
        if (Pt != null && Pt.destroyed || Ie != null && Ie.destroyed)
          return this;
        Ie != null && Ie.autoDestroy || Pt != null && Pt.autoDestroy ? ue.destroy(Ce) : Ce && (Ce.stack, Pt && !Pt.errored && (Pt.errored = Ce), Ie && !Ie.errored && (Ie.errored = Ce), Fe ? u.nextTick(k, ue, Ce) : k(ue, Ce));
      }
      function ie(ue, Ce) {
        if (typeof ue._construct != "function")
          return;
        const Fe = ue._readableState, Ie = ue._writableState;
        Fe && (Fe.constructed = !1), Ie && (Ie.constructed = !1), ue.once(A, Ce), !(ue.listenerCount(A) > 1) && u.nextTick(F, ue);
      }
      function F(ue) {
        let Ce = !1;
        function Fe(Ie) {
          if (Ce) {
            O(ue, Ie ?? new f());
            return;
          }
          Ce = !0;
          const Pt = ue._readableState, xe = ue._writableState, Lt = xe || Pt;
          Pt && (Pt.constructed = !0), xe && (xe.constructed = !0), Lt.destroyed ? ue.emit(b, Ie) : Ie ? O(ue, Ie, !0) : u.nextTick(re, ue);
        }
        try {
          ue._construct((Ie) => {
            u.nextTick(Fe, Ie);
          });
        } catch (Ie) {
          u.nextTick(Fe, Ie);
        }
      }
      function re(ue) {
        ue.emit(A);
      }
      function D(ue) {
        return (ue == null ? void 0 : ue.setHeader) && typeof ue.abort == "function";
      }
      function Y(ue) {
        ue.emit("close");
      }
      function z(ue, Ce) {
        ue.emit("error", Ce), u.nextTick(Y, ue);
      }
      function pe(ue, Ce) {
        !ue || v(ue) || (!Ce && !g(ue) && (Ce = new d()), _(ue) ? (ue.socket = null, ue.destroy(Ce)) : D(ue) ? ue.abort() : D(ue.req) ? ue.req.abort() : typeof ue.destroy == "function" ? ue.destroy(Ce) : typeof ue.close == "function" ? ue.close() : Ce ? u.nextTick(z, ue, Ce) : u.nextTick(Y, ue), ue.destroyed || (ue[y] = !0));
      }
      o.exports = {
        construct: ie,
        destroyer: pe,
        destroy: S,
        undestroy: M,
        errorOrDestroy: O
      };
    }, { "../../ours/errors": 126, "../../ours/primordials": 127, "./utils": 122, "process/": 102 }], 111: [function(i, o, a) {
      const {
        ObjectDefineProperties: u,
        ObjectGetOwnPropertyDescriptor: c,
        ObjectKeys: f,
        ObjectSetPrototypeOf: d
      } = i("../../ours/primordials");
      o.exports = v;
      const p = i("./readable"), y = i("./writable");
      d(v.prototype, p.prototype), d(v, p);
      {
        const A = f(y.prototype);
        for (let w = 0; w < A.length; w++) {
          const S = A[w];
          v.prototype[S] || (v.prototype[S] = y.prototype[S]);
        }
      }
      function v(A) {
        if (!(this instanceof v))
          return new v(A);
        p.call(this, A), y.call(this, A), A ? (this.allowHalfOpen = A.allowHalfOpen !== !1, A.readable === !1 && (this._readableState.readable = !1, this._readableState.ended = !0, this._readableState.endEmitted = !0), A.writable === !1 && (this._writableState.writable = !1, this._writableState.ending = !0, this._writableState.ended = !0, this._writableState.finished = !0)) : this.allowHalfOpen = !0;
      }
      u(v.prototype, {
        writable: {
          __proto__: null,
          ...c(y.prototype, "writable")
        },
        writableHighWaterMark: {
          __proto__: null,
          ...c(y.prototype, "writableHighWaterMark")
        },
        writableObjectMode: {
          __proto__: null,
          ...c(y.prototype, "writableObjectMode")
        },
        writableBuffer: {
          __proto__: null,
          ...c(y.prototype, "writableBuffer")
        },
        writableLength: {
          __proto__: null,
          ...c(y.prototype, "writableLength")
        },
        writableFinished: {
          __proto__: null,
          ...c(y.prototype, "writableFinished")
        },
        writableCorked: {
          __proto__: null,
          ...c(y.prototype, "writableCorked")
        },
        writableEnded: {
          __proto__: null,
          ...c(y.prototype, "writableEnded")
        },
        writableNeedDrain: {
          __proto__: null,
          ...c(y.prototype, "writableNeedDrain")
        },
        destroyed: {
          __proto__: null,
          get() {
            return this._readableState === void 0 || this._writableState === void 0 ? !1 : this._readableState.destroyed && this._writableState.destroyed;
          },
          set(A) {
            this._readableState && this._writableState && (this._readableState.destroyed = A, this._writableState.destroyed = A);
          }
        }
      });
      let g;
      function _() {
        return g === void 0 && (g = {}), g;
      }
      v.fromWeb = function(A, w) {
        return _().newStreamDuplexFromReadableWritablePair(A, w);
      }, v.toWeb = function(A) {
        return _().newReadableWritablePairFromDuplex(A);
      };
      let b;
      v.from = function(A) {
        return b || (b = i("./duplexify")), b(A, "body");
      };
    }, { "../../ours/primordials": 127, "./duplexify": 112, "./readable": 119, "./writable": 123 }], 112: [function(i, o, a) {
      const u = i("process/"), c = i("buffer"), {
        isReadable: f,
        isWritable: d,
        isIterable: p,
        isNodeStream: y,
        isReadableNodeStream: v,
        isWritableNodeStream: g,
        isDuplexNodeStream: _
      } = i("./utils"), b = i("./end-of-stream"), {
        AbortError: A,
        codes: { ERR_INVALID_ARG_TYPE: w, ERR_INVALID_RETURN_VALUE: S }
      } = i("../../ours/errors"), { destroyer: x } = i("./destroy"), T = i("./duplex"), L = i("./readable"), { createDeferredPromise: k } = i("../../ours/util"), M = i("./from"), O = globalThis.Blob || c.Blob, ie = typeof O < "u" ? function(ue) {
        return ue instanceof O;
      } : function(ue) {
        return !1;
      }, F = globalThis.AbortController || i("abort-controller").AbortController, { FunctionPrototypeCall: re } = i("../../ours/primordials");
      class D extends T {
        constructor(ue) {
          super(ue), (ue == null ? void 0 : ue.readable) === !1 && (this._readableState.readable = !1, this._readableState.ended = !0, this._readableState.endEmitted = !0), (ue == null ? void 0 : ue.writable) === !1 && (this._writableState.writable = !1, this._writableState.ending = !0, this._writableState.ended = !0, this._writableState.finished = !0);
        }
      }
      o.exports = function pe(ue, Ce) {
        if (_(ue))
          return ue;
        if (v(ue))
          return z({
            readable: ue
          });
        if (g(ue))
          return z({
            writable: ue
          });
        if (y(ue))
          return z({
            writable: !1,
            readable: !1
          });
        if (typeof ue == "function") {
          const { value: Ie, write: Pt, final: xe, destroy: Lt } = Y(ue);
          if (p(Ie))
            return M(D, Ie, {
              // TODO (ronag): highWaterMark?
              objectMode: !0,
              write: Pt,
              final: xe,
              destroy: Lt
            });
          const _n = Ie == null ? void 0 : Ie.then;
          if (typeof _n == "function") {
            let In;
            const jt = re(
              _n,
              Ie,
              (he) => {
                if (he != null)
                  throw new S("nully", "body", he);
              },
              (he) => {
                x(In, he);
              }
            );
            return In = new D({
              // TODO (ronag): highWaterMark?
              objectMode: !0,
              readable: !1,
              write: Pt,
              final(he) {
                xe(async () => {
                  try {
                    await jt, u.nextTick(he, null);
                  } catch (At) {
                    u.nextTick(he, At);
                  }
                });
              },
              destroy: Lt
            });
          }
          throw new S("Iterable, AsyncIterable or AsyncFunction", Ce, Ie);
        }
        if (ie(ue))
          return pe(ue.arrayBuffer());
        if (p(ue))
          return M(D, ue, {
            // TODO (ronag): highWaterMark?
            objectMode: !0,
            writable: !1
          });
        if (typeof (ue == null ? void 0 : ue.writable) == "object" || typeof (ue == null ? void 0 : ue.readable) == "object") {
          const Ie = ue != null && ue.readable ? v(ue == null ? void 0 : ue.readable) ? ue == null ? void 0 : ue.readable : pe(ue.readable) : void 0, Pt = ue != null && ue.writable ? g(ue == null ? void 0 : ue.writable) ? ue == null ? void 0 : ue.writable : pe(ue.writable) : void 0;
          return z({
            readable: Ie,
            writable: Pt
          });
        }
        const Fe = ue == null ? void 0 : ue.then;
        if (typeof Fe == "function") {
          let Ie;
          return re(
            Fe,
            ue,
            (Pt) => {
              Pt != null && Ie.push(Pt), Ie.push(null);
            },
            (Pt) => {
              x(Ie, Pt);
            }
          ), Ie = new D({
            objectMode: !0,
            writable: !1,
            read() {
            }
          });
        }
        throw new w(
          Ce,
          [
            "Blob",
            "ReadableStream",
            "WritableStream",
            "Stream",
            "Iterable",
            "AsyncIterable",
            "Function",
            "{ readable, writable } pair",
            "Promise"
          ],
          ue
        );
      };
      function Y(pe) {
        let { promise: ue, resolve: Ce } = k();
        const Fe = new F(), Ie = Fe.signal;
        return {
          value: pe(
            async function* () {
              for (; ; ) {
                const xe = ue;
                ue = null;
                const { chunk: Lt, done: _n, cb: In } = await xe;
                if (u.nextTick(In), _n)
                  return;
                if (Ie.aborted)
                  throw new A(void 0, {
                    cause: Ie.reason
                  });
                ({ promise: ue, resolve: Ce } = k()), yield Lt;
              }
            }(),
            {
              signal: Ie
            }
          ),
          write(xe, Lt, _n) {
            const In = Ce;
            Ce = null, In({
              chunk: xe,
              done: !1,
              cb: _n
            });
          },
          final(xe) {
            const Lt = Ce;
            Ce = null, Lt({
              done: !0,
              cb: xe
            });
          },
          destroy(xe, Lt) {
            Fe.abort(), Lt(xe);
          }
        };
      }
      function z(pe) {
        const ue = pe.readable && typeof pe.readable.read != "function" ? L.wrap(pe.readable) : pe.readable, Ce = pe.writable;
        let Fe = !!f(ue), Ie = !!d(Ce), Pt, xe, Lt, _n, In;
        function jt(he) {
          const At = _n;
          _n = null, At ? At(he) : he && In.destroy(he);
        }
        return In = new D({
          // TODO (ronag): highWaterMark?
          readableObjectMode: !!(ue != null && ue.readableObjectMode),
          writableObjectMode: !!(Ce != null && Ce.writableObjectMode),
          readable: Fe,
          writable: Ie
        }), Ie && (b(Ce, (he) => {
          Ie = !1, he && x(ue, he), jt(he);
        }), In._write = function(he, At, kt) {
          Ce.write(he, At) ? kt() : Pt = kt;
        }, In._final = function(he) {
          Ce.end(), xe = he;
        }, Ce.on("drain", function() {
          if (Pt) {
            const he = Pt;
            Pt = null, he();
          }
        }), Ce.on("finish", function() {
          if (xe) {
            const he = xe;
            xe = null, he();
          }
        })), Fe && (b(ue, (he) => {
          Fe = !1, he && x(ue, he), jt(he);
        }), ue.on("readable", function() {
          if (Lt) {
            const he = Lt;
            Lt = null, he();
          }
        }), ue.on("end", function() {
          In.push(null);
        }), In._read = function() {
          for (; ; ) {
            const he = ue.read();
            if (he === null) {
              Lt = In._read;
              return;
            }
            if (!In.push(he))
              return;
          }
        }), In._destroy = function(he, At) {
          !he && _n !== null && (he = new A()), Lt = null, Pt = null, xe = null, _n === null ? At(he) : (_n = At, x(Ce, he), x(ue, he));
        }, In;
      }
    }, { "../../ours/errors": 126, "../../ours/primordials": 127, "../../ours/util": 128, "./destroy": 110, "./duplex": 111, "./end-of-stream": 113, "./from": 114, "./readable": 119, "./utils": 122, "abort-controller": 24, buffer: 29, "process/": 102 }], 113: [function(i, o, a) {
      const u = i("process/"), { AbortError: c, codes: f } = i("../../ours/errors"), { ERR_INVALID_ARG_TYPE: d, ERR_STREAM_PREMATURE_CLOSE: p } = f, { kEmptyObject: y, once: v } = i("../../ours/util"), { validateAbortSignal: g, validateFunction: _, validateObject: b, validateBoolean: A } = i("../validators"), { Promise: w, PromisePrototypeThen: S } = i("../../ours/primordials"), {
        isClosed: x,
        isReadable: T,
        isReadableNodeStream: L,
        isReadableStream: k,
        isReadableFinished: M,
        isReadableErrored: O,
        isWritable: ie,
        isWritableNodeStream: F,
        isWritableStream: re,
        isWritableFinished: D,
        isWritableErrored: Y,
        isNodeStream: z,
        willEmitClose: pe,
        kIsClosedPromise: ue
      } = i("./utils");
      function Ce(Lt) {
        return Lt.setHeader && typeof Lt.abort == "function";
      }
      const Fe = () => {
      };
      function Ie(Lt, _n, In) {
        var jt, he;
        if (arguments.length === 2 ? (In = _n, _n = y) : _n == null ? _n = y : b(_n, "options"), _(In, "callback"), g(_n.signal, "options.signal"), In = v(In), k(Lt) || re(Lt))
          return Pt(Lt, _n, In);
        if (!z(Lt))
          throw new d("stream", ["ReadableStream", "WritableStream", "Stream"], Lt);
        const At = (jt = _n.readable) !== null && jt !== void 0 ? jt : L(Lt), kt = (he = _n.writable) !== null && he !== void 0 ? he : F(Lt), Cn = Lt._writableState, ze = Lt._readableState, _e = () => {
          Lt.writable || Oe();
        };
        let de = pe(Lt) && L(Lt) === At && F(Lt) === kt, Et = D(Lt, !1);
        const Oe = () => {
          Et = !0, Lt.destroyed && (de = !1), !(de && (!Lt.readable || At)) && (!At || Ve) && In.call(Lt);
        };
        let Ve = M(Lt, !1);
        const Dt = () => {
          Ve = !0, Lt.destroyed && (de = !1), !(de && (!Lt.writable || kt)) && (!kt || Et) && In.call(Lt);
        }, hn = ($) => {
          In.call(Lt, $);
        };
        let bn = x(Lt);
        const oe = () => {
          bn = !0;
          const $ = Y(Lt) || O(Lt);
          if ($ && typeof $ != "boolean")
            return In.call(Lt, $);
          if (At && !Ve && L(Lt, !0) && !M(Lt, !1))
            return In.call(Lt, new p());
          if (kt && !Et && !D(Lt, !1))
            return In.call(Lt, new p());
          In.call(Lt);
        }, le = () => {
          bn = !0;
          const $ = Y(Lt) || O(Lt);
          if ($ && typeof $ != "boolean")
            return In.call(Lt, $);
          In.call(Lt);
        }, j = () => {
          Lt.req.on("finish", Oe);
        };
        Ce(Lt) ? (Lt.on("complete", Oe), de || Lt.on("abort", oe), Lt.req ? j() : Lt.on("request", j)) : kt && !Cn && (Lt.on("end", _e), Lt.on("close", _e)), !de && typeof Lt.aborted == "boolean" && Lt.on("aborted", oe), Lt.on("end", Dt), Lt.on("finish", Oe), _n.error !== !1 && Lt.on("error", hn), Lt.on("close", oe), bn ? u.nextTick(oe) : Cn != null && Cn.errorEmitted || ze != null && ze.errorEmitted ? de || u.nextTick(le) : (!At && (!de || T(Lt)) && (Et || ie(Lt) === !1) || !kt && (!de || ie(Lt)) && (Ve || T(Lt) === !1) || ze && Lt.req && Lt.aborted) && u.nextTick(le);
        const V = () => {
          In = Fe, Lt.removeListener("aborted", oe), Lt.removeListener("complete", Oe), Lt.removeListener("abort", oe), Lt.removeListener("request", j), Lt.req && Lt.req.removeListener("finish", Oe), Lt.removeListener("end", _e), Lt.removeListener("close", _e), Lt.removeListener("finish", Oe), Lt.removeListener("end", Dt), Lt.removeListener("error", hn), Lt.removeListener("close", oe);
        };
        if (_n.signal && !bn) {
          const $ = () => {
            const ae = In;
            V(), ae.call(
              Lt,
              new c(void 0, {
                cause: _n.signal.reason
              })
            );
          };
          if (_n.signal.aborted)
            u.nextTick($);
          else {
            const ae = In;
            In = v((...Ne) => {
              _n.signal.removeEventListener("abort", $), ae.apply(Lt, Ne);
            }), _n.signal.addEventListener("abort", $);
          }
        }
        return V;
      }
      function Pt(Lt, _n, In) {
        let jt = !1, he = Fe;
        if (_n.signal)
          if (he = () => {
            jt = !0, In.call(
              Lt,
              new c(void 0, {
                cause: _n.signal.reason
              })
            );
          }, _n.signal.aborted)
            u.nextTick(he);
          else {
            const kt = In;
            In = v((...Cn) => {
              _n.signal.removeEventListener("abort", he), kt.apply(Lt, Cn);
            }), _n.signal.addEventListener("abort", he);
          }
        const At = (...kt) => {
          jt || u.nextTick(() => In.apply(Lt, kt));
        };
        return S(Lt[ue].promise, At, At), Fe;
      }
      function xe(Lt, _n) {
        var In;
        let jt = !1;
        return _n === null && (_n = y), (In = _n) !== null && In !== void 0 && In.cleanup && (A(_n.cleanup, "cleanup"), jt = _n.cleanup), new w((he, At) => {
          const kt = Ie(Lt, _n, (Cn) => {
            jt && kt(), Cn ? At(Cn) : he();
          });
        });
      }
      o.exports = Ie, o.exports.finished = xe;
    }, { "../../ours/errors": 126, "../../ours/primordials": 127, "../../ours/util": 128, "../validators": 124, "./utils": 122, "process/": 102 }], 114: [function(i, o, a) {
      const u = i("process/"), { PromisePrototypeThen: c, SymbolAsyncIterator: f, SymbolIterator: d } = i("../../ours/primordials"), { Buffer: p } = i("buffer"), { ERR_INVALID_ARG_TYPE: y, ERR_STREAM_NULL_VALUES: v } = i("../../ours/errors").codes;
      function g(_, b, A) {
        let w;
        if (typeof b == "string" || b instanceof p)
          return new _({
            objectMode: !0,
            ...A,
            read() {
              this.push(b), this.push(null);
            }
          });
        let S;
        if (b && b[f])
          S = !0, w = b[f]();
        else if (b && b[d])
          S = !1, w = b[d]();
        else
          throw new y("iterable", ["Iterable"], b);
        const x = new _({
          objectMode: !0,
          highWaterMark: 1,
          // TODO(ronag): What options should be allowed?
          ...A
        });
        let T = !1;
        x._read = function() {
          T || (T = !0, k());
        }, x._destroy = function(M, O) {
          c(
            L(M),
            () => u.nextTick(O, M),
            // nextTick is here in case cb throws
            (ie) => u.nextTick(O, ie || M)
          );
        };
        async function L(M) {
          const O = M != null, ie = typeof w.throw == "function";
          if (O && ie) {
            const { value: F, done: re } = await w.throw(M);
            if (await F, re)
              return;
          }
          if (typeof w.return == "function") {
            const { value: F } = await w.return();
            await F;
          }
        }
        async function k() {
          for (; ; ) {
            try {
              const { value: M, done: O } = S ? await w.next() : w.next();
              if (O)
                x.push(null);
              else {
                const ie = M && typeof M.then == "function" ? await M : M;
                if (ie === null)
                  throw T = !1, new v();
                if (x.push(ie))
                  continue;
                T = !1;
              }
            } catch (M) {
              x.destroy(M);
            }
            break;
          }
        }
        return x;
      }
      o.exports = g;
    }, { "../../ours/errors": 126, "../../ours/primordials": 127, buffer: 29, "process/": 102 }], 115: [function(i, o, a) {
      const { ArrayIsArray: u, ObjectSetPrototypeOf: c } = i("../../ours/primordials"), { EventEmitter: f } = i("events");
      function d(y) {
        f.call(this, y);
      }
      c(d.prototype, f.prototype), c(d, f), d.prototype.pipe = function(y, v) {
        const g = this;
        function _(L) {
          y.writable && y.write(L) === !1 && g.pause && g.pause();
        }
        g.on("data", _);
        function b() {
          g.readable && g.resume && g.resume();
        }
        y.on("drain", b), !y._isStdio && (!v || v.end !== !1) && (g.on("end", w), g.on("close", S));
        let A = !1;
        function w() {
          A || (A = !0, y.end());
        }
        function S() {
          A || (A = !0, typeof y.destroy == "function" && y.destroy());
        }
        function x(L) {
          T(), f.listenerCount(this, "error") === 0 && this.emit("error", L);
        }
        p(g, "error", x), p(y, "error", x);
        function T() {
          g.removeListener("data", _), y.removeListener("drain", b), g.removeListener("end", w), g.removeListener("close", S), g.removeListener("error", x), y.removeListener("error", x), g.removeListener("end", T), g.removeListener("close", T), y.removeListener("close", T);
        }
        return g.on("end", T), g.on("close", T), y.on("close", T), y.emit("pipe", g), y;
      };
      function p(y, v, g) {
        if (typeof y.prependListener == "function")
          return y.prependListener(v, g);
        !y._events || !y._events[v] ? y.on(v, g) : u(y._events[v]) ? y._events[v].unshift(g) : y._events[v] = [g, y._events[v]];
      }
      o.exports = {
        Stream: d,
        prependListener: p
      };
    }, { "../../ours/primordials": 127, events: 49 }], 116: [function(i, o, a) {
      const u = globalThis.AbortController || i("abort-controller").AbortController, {
        codes: { ERR_INVALID_ARG_VALUE: c, ERR_INVALID_ARG_TYPE: f, ERR_MISSING_ARGS: d, ERR_OUT_OF_RANGE: p },
        AbortError: y
      } = i("../../ours/errors"), { validateAbortSignal: v, validateInteger: g, validateObject: _ } = i("../validators"), b = i("../../ours/primordials").Symbol("kWeak"), { finished: A } = i("./end-of-stream"), w = i("./compose"), { addAbortSignalNoValidate: S } = i("./add-abort-signal"), { isWritable: x, isNodeStream: T } = i("./utils"), {
        ArrayPrototypePush: L,
        MathFloor: k,
        Number: M,
        NumberIsNaN: O,
        Promise: ie,
        PromiseReject: F,
        PromisePrototypeThen: re,
        Symbol: D
      } = i("../../ours/primordials"), Y = D("kEmpty"), z = D("kEof");
      function pe(ze, _e) {
        if (_e != null && _(_e, "options"), (_e == null ? void 0 : _e.signal) != null && v(_e.signal, "options.signal"), T(ze) && !x(ze))
          throw new c("stream", ze, "must be writable");
        const de = w(this, ze);
        return _e != null && _e.signal && S(_e.signal, de), de;
      }
      function ue(ze, _e) {
        if (typeof ze != "function")
          throw new f("fn", ["Function", "AsyncFunction"], ze);
        _e != null && _(_e, "options"), (_e == null ? void 0 : _e.signal) != null && v(_e.signal, "options.signal");
        let de = 1;
        return (_e == null ? void 0 : _e.concurrency) != null && (de = k(_e.concurrency)), g(de, "concurrency", 1), async function* () {
          var Oe, Ve;
          const Dt = new u(), hn = this, bn = [], oe = Dt.signal, le = {
            signal: oe
          }, j = () => Dt.abort();
          _e != null && (Oe = _e.signal) !== null && Oe !== void 0 && Oe.aborted && j(), _e == null || (Ve = _e.signal) === null || Ve === void 0 || Ve.addEventListener("abort", j);
          let V, $, ae = !1;
          function Ne() {
            ae = !0;
          }
          async function Ue() {
            try {
              for await (let xn of hn) {
                var vn;
                if (ae)
                  return;
                if (oe.aborted)
                  throw new y();
                try {
                  xn = ze(xn, le);
                } catch (Bn) {
                  xn = F(Bn);
                }
                xn !== Y && (typeof ((vn = xn) === null || vn === void 0 ? void 0 : vn.catch) == "function" && xn.catch(Ne), bn.push(xn), V && (V(), V = null), !ae && bn.length && bn.length >= de && await new ie((Bn) => {
                  $ = Bn;
                }));
              }
              bn.push(z);
            } catch (xn) {
              const Bn = F(xn);
              re(Bn, void 0, Ne), bn.push(Bn);
            } finally {
              var wn;
              ae = !0, V && (V(), V = null), _e == null || (wn = _e.signal) === null || wn === void 0 || wn.removeEventListener("abort", j);
            }
          }
          Ue();
          try {
            for (; ; ) {
              for (; bn.length > 0; ) {
                const vn = await bn[0];
                if (vn === z)
                  return;
                if (oe.aborted)
                  throw new y();
                vn !== Y && (yield vn), bn.shift(), $ && ($(), $ = null);
              }
              await new ie((vn) => {
                V = vn;
              });
            }
          } finally {
            Dt.abort(), ae = !0, $ && ($(), $ = null);
          }
        }.call(this);
      }
      function Ce(ze = void 0) {
        return ze != null && _(ze, "options"), (ze == null ? void 0 : ze.signal) != null && v(ze.signal, "options.signal"), async function* () {
          let de = 0;
          for await (const Oe of this) {
            var Et;
            if (ze != null && (Et = ze.signal) !== null && Et !== void 0 && Et.aborted)
              throw new y({
                cause: ze.signal.reason
              });
            yield [de++, Oe];
          }
        }.call(this);
      }
      async function Fe(ze, _e = void 0) {
        for await (const de of Lt.call(this, ze, _e))
          return !0;
        return !1;
      }
      async function Ie(ze, _e = void 0) {
        if (typeof ze != "function")
          throw new f("fn", ["Function", "AsyncFunction"], ze);
        return !await Fe.call(
          this,
          async (...de) => !await ze(...de),
          _e
        );
      }
      async function Pt(ze, _e) {
        for await (const de of Lt.call(this, ze, _e))
          return de;
      }
      async function xe(ze, _e) {
        if (typeof ze != "function")
          throw new f("fn", ["Function", "AsyncFunction"], ze);
        async function de(Et, Oe) {
          return await ze(Et, Oe), Y;
        }
        for await (const Et of ue.call(this, de, _e))
          ;
      }
      function Lt(ze, _e) {
        if (typeof ze != "function")
          throw new f("fn", ["Function", "AsyncFunction"], ze);
        async function de(Et, Oe) {
          return await ze(Et, Oe) ? Et : Y;
        }
        return ue.call(this, de, _e);
      }
      class _n extends d {
        constructor() {
          super("reduce"), this.message = "Reduce of an empty stream requires an initial value";
        }
      }
      async function In(ze, _e, de) {
        var Et;
        if (typeof ze != "function")
          throw new f("reducer", ["Function", "AsyncFunction"], ze);
        de != null && _(de, "options"), (de == null ? void 0 : de.signal) != null && v(de.signal, "options.signal");
        let Oe = arguments.length > 1;
        if (de != null && (Et = de.signal) !== null && Et !== void 0 && Et.aborted) {
          const oe = new y(void 0, {
            cause: de.signal.reason
          });
          throw this.once("error", () => {
          }), await A(this.destroy(oe)), oe;
        }
        const Ve = new u(), Dt = Ve.signal;
        if (de != null && de.signal) {
          const oe = {
            once: !0,
            [b]: this
          };
          de.signal.addEventListener("abort", () => Ve.abort(), oe);
        }
        let hn = !1;
        try {
          for await (const oe of this) {
            var bn;
            if (hn = !0, de != null && (bn = de.signal) !== null && bn !== void 0 && bn.aborted)
              throw new y();
            Oe ? _e = await ze(_e, oe, {
              signal: Dt
            }) : (_e = oe, Oe = !0);
          }
          if (!hn && !Oe)
            throw new _n();
        } finally {
          Ve.abort();
        }
        return _e;
      }
      async function jt(ze) {
        ze != null && _(ze, "options"), (ze == null ? void 0 : ze.signal) != null && v(ze.signal, "options.signal");
        const _e = [];
        for await (const Et of this) {
          var de;
          if (ze != null && (de = ze.signal) !== null && de !== void 0 && de.aborted)
            throw new y(void 0, {
              cause: ze.signal.reason
            });
          L(_e, Et);
        }
        return _e;
      }
      function he(ze, _e) {
        const de = ue.call(this, ze, _e);
        return async function* () {
          for await (const Oe of de)
            yield* Oe;
        }.call(this);
      }
      function At(ze) {
        if (ze = M(ze), O(ze))
          return 0;
        if (ze < 0)
          throw new p("number", ">= 0", ze);
        return ze;
      }
      function kt(ze, _e = void 0) {
        return _e != null && _(_e, "options"), (_e == null ? void 0 : _e.signal) != null && v(_e.signal, "options.signal"), ze = At(ze), async function* () {
          var Et;
          if (_e != null && (Et = _e.signal) !== null && Et !== void 0 && Et.aborted)
            throw new y();
          for await (const Ve of this) {
            var Oe;
            if (_e != null && (Oe = _e.signal) !== null && Oe !== void 0 && Oe.aborted)
              throw new y();
            ze-- <= 0 && (yield Ve);
          }
        }.call(this);
      }
      function Cn(ze, _e = void 0) {
        return _e != null && _(_e, "options"), (_e == null ? void 0 : _e.signal) != null && v(_e.signal, "options.signal"), ze = At(ze), async function* () {
          var Et;
          if (_e != null && (Et = _e.signal) !== null && Et !== void 0 && Et.aborted)
            throw new y();
          for await (const Ve of this) {
            var Oe;
            if (_e != null && (Oe = _e.signal) !== null && Oe !== void 0 && Oe.aborted)
              throw new y();
            if (ze-- > 0)
              yield Ve;
            else
              return;
          }
        }.call(this);
      }
      o.exports.streamReturningOperators = {
        asIndexedPairs: Ce,
        drop: kt,
        filter: Lt,
        flatMap: he,
        map: ue,
        take: Cn,
        compose: pe
      }, o.exports.promiseReturningOperators = {
        every: Ie,
        forEach: xe,
        reduce: In,
        toArray: jt,
        some: Fe,
        find: Pt
      };
    }, { "../../ours/errors": 126, "../../ours/primordials": 127, "../validators": 124, "./add-abort-signal": 107, "./compose": 109, "./end-of-stream": 113, "./utils": 122, "abort-controller": 24 }], 117: [function(i, o, a) {
      const { ObjectSetPrototypeOf: u } = i("../../ours/primordials");
      o.exports = f;
      const c = i("./transform");
      u(f.prototype, c.prototype), u(f, c);
      function f(d) {
        if (!(this instanceof f))
          return new f(d);
        c.call(this, d);
      }
      f.prototype._transform = function(d, p, y) {
        y(null, d);
      };
    }, { "../../ours/primordials": 127, "./transform": 121 }], 118: [function(i, o, a) {
      const u = i("process/"), { ArrayIsArray: c, Promise: f, SymbolAsyncIterator: d } = i("../../ours/primordials"), p = i("./end-of-stream"), { once: y } = i("../../ours/util"), v = i("./destroy"), g = i("./duplex"), {
        aggregateTwoErrors: _,
        codes: {
          ERR_INVALID_ARG_TYPE: b,
          ERR_INVALID_RETURN_VALUE: A,
          ERR_MISSING_ARGS: w,
          ERR_STREAM_DESTROYED: S,
          ERR_STREAM_PREMATURE_CLOSE: x
        },
        AbortError: T
      } = i("../../ours/errors"), { validateFunction: L, validateAbortSignal: k } = i("../validators"), {
        isIterable: M,
        isReadable: O,
        isReadableNodeStream: ie,
        isNodeStream: F,
        isTransformStream: re,
        isWebStream: D,
        isReadableStream: Y,
        isReadableEnded: z
      } = i("./utils"), pe = globalThis.AbortController || i("abort-controller").AbortController;
      let ue, Ce;
      function Fe(At, kt, Cn) {
        let ze = !1;
        At.on("close", () => {
          ze = !0;
        });
        const _e = p(
          At,
          {
            readable: kt,
            writable: Cn
          },
          (de) => {
            ze = !de;
          }
        );
        return {
          destroy: (de) => {
            ze || (ze = !0, v.destroyer(At, de || new S("pipe")));
          },
          cleanup: _e
        };
      }
      function Ie(At) {
        return L(At[At.length - 1], "streams[stream.length - 1]"), At.pop();
      }
      function Pt(At) {
        if (M(At))
          return At;
        if (ie(At))
          return xe(At);
        throw new b("val", ["Readable", "Iterable", "AsyncIterable"], At);
      }
      async function* xe(At) {
        Ce || (Ce = i("./readable")), yield* Ce.prototype[d].call(At);
      }
      async function Lt(At, kt, Cn, { end: ze }) {
        let _e, de = null;
        const Et = (Dt) => {
          if (Dt && (_e = Dt), de) {
            const hn = de;
            de = null, hn();
          }
        }, Oe = () => new f((Dt, hn) => {
          _e ? hn(_e) : de = () => {
            _e ? hn(_e) : Dt();
          };
        });
        kt.on("drain", Et);
        const Ve = p(
          kt,
          {
            readable: !1
          },
          Et
        );
        try {
          kt.writableNeedDrain && await Oe();
          for await (const Dt of At)
            kt.write(Dt) || await Oe();
          ze && kt.end(), await Oe(), Cn();
        } catch (Dt) {
          Cn(_e !== Dt ? _(_e, Dt) : Dt);
        } finally {
          Ve(), kt.off("drain", Et);
        }
      }
      async function _n(At, kt, Cn, { end: ze }) {
        re(kt) && (kt = kt.writable);
        const _e = kt.getWriter();
        try {
          for await (const de of At)
            await _e.ready, _e.write(de).catch(() => {
            });
          await _e.ready, ze && await _e.close(), Cn();
        } catch (de) {
          try {
            await _e.abort(de), Cn(de);
          } catch (Et) {
            Cn(Et);
          }
        }
      }
      function In(...At) {
        return jt(At, y(Ie(At)));
      }
      function jt(At, kt, Cn) {
        if (At.length === 1 && c(At[0]) && (At = At[0]), At.length < 2)
          throw new w("streams");
        const ze = new pe(), _e = ze.signal, de = Cn == null ? void 0 : Cn.signal, Et = [];
        k(de, "options.signal");
        function Oe() {
          le(new T());
        }
        de == null || de.addEventListener("abort", Oe);
        let Ve, Dt;
        const hn = [];
        let bn = 0;
        function oe(ae) {
          le(ae, --bn === 0);
        }
        function le(ae, Ne) {
          if (ae && (!Ve || Ve.code === "ERR_STREAM_PREMATURE_CLOSE") && (Ve = ae), !(!Ve && !Ne)) {
            for (; hn.length; )
              hn.shift()(Ve);
            de == null || de.removeEventListener("abort", Oe), ze.abort(), Ne && (Ve || Et.forEach((Ue) => Ue()), u.nextTick(kt, Ve, Dt));
          }
        }
        let j;
        for (let ae = 0; ae < At.length; ae++) {
          const Ne = At[ae], Ue = ae < At.length - 1, vn = ae > 0, wn = Ue || (Cn == null ? void 0 : Cn.end) !== !1, xn = ae === At.length - 1;
          if (F(Ne)) {
            let Bn = function($e) {
              $e && $e.name !== "AbortError" && $e.code !== "ERR_STREAM_PREMATURE_CLOSE" && oe($e);
            };
            if (wn) {
              const { destroy: $e, cleanup: qe } = Fe(Ne, Ue, vn);
              hn.push($e), O(Ne) && xn && Et.push(qe);
            }
            Ne.on("error", Bn), O(Ne) && xn && Et.push(() => {
              Ne.removeListener("error", Bn);
            });
          }
          if (ae === 0)
            if (typeof Ne == "function") {
              if (j = Ne({
                signal: _e
              }), !M(j))
                throw new A("Iterable, AsyncIterable or Stream", "source", j);
            } else
              M(Ne) || ie(Ne) || re(Ne) ? j = Ne : j = g.from(Ne);
          else if (typeof Ne == "function") {
            if (re(j)) {
              var V;
              j = Pt((V = j) === null || V === void 0 ? void 0 : V.readable);
            } else
              j = Pt(j);
            if (j = Ne(j, {
              signal: _e
            }), Ue) {
              if (!M(j, !0))
                throw new A("AsyncIterable", `transform[${ae - 1}]`, j);
            } else {
              var $;
              ue || (ue = i("./passthrough"));
              const Bn = new ue({
                objectMode: !0
              }), $e = ($ = j) === null || $ === void 0 ? void 0 : $.then;
              if (typeof $e == "function")
                bn++, $e.call(
                  j,
                  (En) => {
                    Dt = En, En != null && Bn.write(En), wn && Bn.end(), u.nextTick(oe);
                  },
                  (En) => {
                    Bn.destroy(En), u.nextTick(oe, En);
                  }
                );
              else if (M(j, !0))
                bn++, Lt(j, Bn, oe, {
                  end: wn
                });
              else if (Y(j) || re(j)) {
                const En = j.readable || j;
                bn++, Lt(En, Bn, oe, {
                  end: wn
                });
              } else
                throw new A("AsyncIterable or Promise", "destination", j);
              j = Bn;
              const { destroy: qe, cleanup: Tn } = Fe(j, !1, !0);
              hn.push(qe), xn && Et.push(Tn);
            }
          } else if (F(Ne)) {
            if (ie(j)) {
              bn += 2;
              const Bn = he(j, Ne, oe, {
                end: wn
              });
              O(Ne) && xn && Et.push(Bn);
            } else if (re(j) || Y(j)) {
              const Bn = j.readable || j;
              bn++, Lt(Bn, Ne, oe, {
                end: wn
              });
            } else if (M(j))
              bn++, Lt(j, Ne, oe, {
                end: wn
              });
            else
              throw new b(
                "val",
                ["Readable", "Iterable", "AsyncIterable", "ReadableStream", "TransformStream"],
                j
              );
            j = Ne;
          } else if (D(Ne)) {
            if (ie(j))
              bn++, _n(Pt(j), Ne, oe, {
                end: wn
              });
            else if (Y(j) || M(j))
              bn++, _n(j, Ne, oe, {
                end: wn
              });
            else if (re(j))
              bn++, _n(j.readable, Ne, oe, {
                end: wn
              });
            else
              throw new b(
                "val",
                ["Readable", "Iterable", "AsyncIterable", "ReadableStream", "TransformStream"],
                j
              );
            j = Ne;
          } else
            j = g.from(Ne);
        }
        return (_e != null && _e.aborted || de != null && de.aborted) && u.nextTick(Oe), j;
      }
      function he(At, kt, Cn, { end: ze }) {
        let _e = !1;
        if (kt.on("close", () => {
          _e || Cn(new x());
        }), At.pipe(kt, {
          end: !1
        }), ze) {
          let de = function() {
            _e = !0, kt.end();
          };
          z(At) ? u.nextTick(de) : At.once("end", de);
        } else
          Cn();
        return p(
          At,
          {
            readable: !0,
            writable: !1
          },
          (de) => {
            const Et = At._readableState;
            de && de.code === "ERR_STREAM_PREMATURE_CLOSE" && Et && Et.ended && !Et.errored && !Et.errorEmitted ? At.once("end", Cn).once("error", Cn) : Cn(de);
          }
        ), p(
          kt,
          {
            readable: !1,
            writable: !0
          },
          Cn
        );
      }
      o.exports = {
        pipelineImpl: jt,
        pipeline: In
      };
    }, { "../../ours/errors": 126, "../../ours/primordials": 127, "../../ours/util": 128, "../validators": 124, "./destroy": 110, "./duplex": 111, "./end-of-stream": 113, "./passthrough": 117, "./readable": 119, "./utils": 122, "abort-controller": 24, "process/": 102 }], 119: [function(i, o, a) {
      const u = i("process/"), {
        ArrayPrototypeIndexOf: c,
        NumberIsInteger: f,
        NumberIsNaN: d,
        NumberParseInt: p,
        ObjectDefineProperties: y,
        ObjectKeys: v,
        ObjectSetPrototypeOf: g,
        Promise: _,
        SafeSet: b,
        SymbolAsyncIterator: A,
        Symbol: w
      } = i("../../ours/primordials");
      o.exports = he, he.ReadableState = jt;
      const { EventEmitter: S } = i("events"), { Stream: x, prependListener: T } = i("./legacy"), { Buffer: L } = i("buffer"), { addAbortSignal: k } = i("./add-abort-signal"), M = i("./end-of-stream");
      let O = i("../../ours/util").debuglog("stream", ($e) => {
        O = $e;
      });
      const ie = i("./buffer_list"), F = i("./destroy"), { getHighWaterMark: re, getDefaultHighWaterMark: D } = i("./state"), {
        aggregateTwoErrors: Y,
        codes: {
          ERR_INVALID_ARG_TYPE: z,
          ERR_METHOD_NOT_IMPLEMENTED: pe,
          ERR_OUT_OF_RANGE: ue,
          ERR_STREAM_PUSH_AFTER_EOF: Ce,
          ERR_STREAM_UNSHIFT_AFTER_END_EVENT: Fe
        }
      } = i("../../ours/errors"), { validateObject: Ie } = i("../validators"), Pt = w("kPaused"), { StringDecoder: xe } = i("string_decoder"), Lt = i("./from");
      g(he.prototype, x.prototype), g(he, x);
      const _n = () => {
      }, { errorOrDestroy: In } = F;
      function jt($e, qe, Tn) {
        typeof Tn != "boolean" && (Tn = qe instanceof i("./duplex")), this.objectMode = !!($e && $e.objectMode), Tn && (this.objectMode = this.objectMode || !!($e && $e.readableObjectMode)), this.highWaterMark = $e ? re(this, $e, "readableHighWaterMark", Tn) : D(!1), this.buffer = new ie(), this.length = 0, this.pipes = [], this.flowing = null, this.ended = !1, this.endEmitted = !1, this.reading = !1, this.constructed = !0, this.sync = !0, this.needReadable = !1, this.emittedReadable = !1, this.readableListening = !1, this.resumeScheduled = !1, this[Pt] = null, this.errorEmitted = !1, this.emitClose = !$e || $e.emitClose !== !1, this.autoDestroy = !$e || $e.autoDestroy !== !1, this.destroyed = !1, this.errored = null, this.closed = !1, this.closeEmitted = !1, this.defaultEncoding = $e && $e.defaultEncoding || "utf8", this.awaitDrainWriters = null, this.multiAwaitDrain = !1, this.readingMore = !1, this.dataEmitted = !1, this.decoder = null, this.encoding = null, $e && $e.encoding && (this.decoder = new xe($e.encoding), this.encoding = $e.encoding);
      }
      function he($e) {
        if (!(this instanceof he))
          return new he($e);
        const qe = this instanceof i("./duplex");
        this._readableState = new jt($e, this, qe), $e && (typeof $e.read == "function" && (this._read = $e.read), typeof $e.destroy == "function" && (this._destroy = $e.destroy), typeof $e.construct == "function" && (this._construct = $e.construct), $e.signal && !qe && k($e.signal, this)), x.call(this, $e), F.construct(this, () => {
          this._readableState.needReadable && Ve(this, this._readableState);
        });
      }
      he.prototype.destroy = F.destroy, he.prototype._undestroy = F.undestroy, he.prototype._destroy = function($e, qe) {
        qe($e);
      }, he.prototype[S.captureRejectionSymbol] = function($e) {
        this.destroy($e);
      }, he.prototype.push = function($e, qe) {
        return At(this, $e, qe, !1);
      }, he.prototype.unshift = function($e, qe) {
        return At(this, $e, qe, !0);
      };
      function At($e, qe, Tn, En) {
        O("readableAddChunk", qe);
        const Ln = $e._readableState;
        let Nn;
        if (Ln.objectMode || (typeof qe == "string" ? (Tn = Tn || Ln.defaultEncoding, Ln.encoding !== Tn && (En && Ln.encoding ? qe = L.from(qe, Tn).toString(Ln.encoding) : (qe = L.from(qe, Tn), Tn = ""))) : qe instanceof L ? Tn = "" : x._isUint8Array(qe) ? (qe = x._uint8ArrayToBuffer(qe), Tn = "") : qe != null && (Nn = new z("chunk", ["string", "Buffer", "Uint8Array"], qe))), Nn)
          In($e, Nn);
        else if (qe === null)
          Ln.reading = !1, de($e, Ln);
        else if (Ln.objectMode || qe && qe.length > 0)
          if (En)
            if (Ln.endEmitted)
              In($e, new Fe());
            else {
              if (Ln.destroyed || Ln.errored)
                return !1;
              kt($e, Ln, qe, !0);
            }
          else if (Ln.ended)
            In($e, new Ce());
          else {
            if (Ln.destroyed || Ln.errored)
              return !1;
            Ln.reading = !1, Ln.decoder && !Tn ? (qe = Ln.decoder.write(qe), Ln.objectMode || qe.length !== 0 ? kt($e, Ln, qe, !1) : Ve($e, Ln)) : kt($e, Ln, qe, !1);
          }
        else
          En || (Ln.reading = !1, Ve($e, Ln));
        return !Ln.ended && (Ln.length < Ln.highWaterMark || Ln.length === 0);
      }
      function kt($e, qe, Tn, En) {
        qe.flowing && qe.length === 0 && !qe.sync && $e.listenerCount("data") > 0 ? (qe.multiAwaitDrain ? qe.awaitDrainWriters.clear() : qe.awaitDrainWriters = null, qe.dataEmitted = !0, $e.emit("data", Tn)) : (qe.length += qe.objectMode ? 1 : Tn.length, En ? qe.buffer.unshift(Tn) : qe.buffer.push(Tn), qe.needReadable && Et($e)), Ve($e, qe);
      }
      he.prototype.isPaused = function() {
        const $e = this._readableState;
        return $e[Pt] === !0 || $e.flowing === !1;
      }, he.prototype.setEncoding = function($e) {
        const qe = new xe($e);
        this._readableState.decoder = qe, this._readableState.encoding = this._readableState.decoder.encoding;
        const Tn = this._readableState.buffer;
        let En = "";
        for (const Ln of Tn)
          En += qe.write(Ln);
        return Tn.clear(), En !== "" && Tn.push(En), this._readableState.length = En.length, this;
      };
      const Cn = 1073741824;
      function ze($e) {
        if ($e > Cn)
          throw new ue("size", "<= 1GiB", $e);
        return $e--, $e |= $e >>> 1, $e |= $e >>> 2, $e |= $e >>> 4, $e |= $e >>> 8, $e |= $e >>> 16, $e++, $e;
      }
      function _e($e, qe) {
        return $e <= 0 || qe.length === 0 && qe.ended ? 0 : qe.objectMode ? 1 : d($e) ? qe.flowing && qe.length ? qe.buffer.first().length : qe.length : $e <= qe.length ? $e : qe.ended ? qe.length : 0;
      }
      he.prototype.read = function($e) {
        O("read", $e), $e === void 0 ? $e = NaN : f($e) || ($e = p($e, 10));
        const qe = this._readableState, Tn = $e;
        if ($e > qe.highWaterMark && (qe.highWaterMark = ze($e)), $e !== 0 && (qe.emittedReadable = !1), $e === 0 && qe.needReadable && ((qe.highWaterMark !== 0 ? qe.length >= qe.highWaterMark : qe.length > 0) || qe.ended))
          return O("read: emitReadable", qe.length, qe.ended), qe.length === 0 && qe.ended ? Ue(this) : Et(this), null;
        if ($e = _e($e, qe), $e === 0 && qe.ended)
          return qe.length === 0 && Ue(this), null;
        let En = qe.needReadable;
        if (O("need readable", En), (qe.length === 0 || qe.length - $e < qe.highWaterMark) && (En = !0, O("length less than watermark", En)), qe.ended || qe.reading || qe.destroyed || qe.errored || !qe.constructed)
          En = !1, O("reading, ended or constructing", En);
        else if (En) {
          O("do read"), qe.reading = !0, qe.sync = !0, qe.length === 0 && (qe.needReadable = !0);
          try {
            this._read(qe.highWaterMark);
          } catch (Nn) {
            In(this, Nn);
          }
          qe.sync = !1, qe.reading || ($e = _e(Tn, qe));
        }
        let Ln;
        return $e > 0 ? Ln = Ne($e, qe) : Ln = null, Ln === null ? (qe.needReadable = qe.length <= qe.highWaterMark, $e = 0) : (qe.length -= $e, qe.multiAwaitDrain ? qe.awaitDrainWriters.clear() : qe.awaitDrainWriters = null), qe.length === 0 && (qe.ended || (qe.needReadable = !0), Tn !== $e && qe.ended && Ue(this)), Ln !== null && !qe.errorEmitted && !qe.closeEmitted && (qe.dataEmitted = !0, this.emit("data", Ln)), Ln;
      };
      function de($e, qe) {
        if (O("onEofChunk"), !qe.ended) {
          if (qe.decoder) {
            const Tn = qe.decoder.end();
            Tn && Tn.length && (qe.buffer.push(Tn), qe.length += qe.objectMode ? 1 : Tn.length);
          }
          qe.ended = !0, qe.sync ? Et($e) : (qe.needReadable = !1, qe.emittedReadable = !0, Oe($e));
        }
      }
      function Et($e) {
        const qe = $e._readableState;
        O("emitReadable", qe.needReadable, qe.emittedReadable), qe.needReadable = !1, qe.emittedReadable || (O("emitReadable", qe.flowing), qe.emittedReadable = !0, u.nextTick(Oe, $e));
      }
      function Oe($e) {
        const qe = $e._readableState;
        O("emitReadable_", qe.destroyed, qe.length, qe.ended), !qe.destroyed && !qe.errored && (qe.length || qe.ended) && ($e.emit("readable"), qe.emittedReadable = !1), qe.needReadable = !qe.flowing && !qe.ended && qe.length <= qe.highWaterMark, V($e);
      }
      function Ve($e, qe) {
        !qe.readingMore && qe.constructed && (qe.readingMore = !0, u.nextTick(Dt, $e, qe));
      }
      function Dt($e, qe) {
        for (; !qe.reading && !qe.ended && (qe.length < qe.highWaterMark || qe.flowing && qe.length === 0); ) {
          const Tn = qe.length;
          if (O("maybeReadMore read 0"), $e.read(0), Tn === qe.length)
            break;
        }
        qe.readingMore = !1;
      }
      he.prototype._read = function($e) {
        throw new pe("_read()");
      }, he.prototype.pipe = function($e, qe) {
        const Tn = this, En = this._readableState;
        En.pipes.length === 1 && (En.multiAwaitDrain || (En.multiAwaitDrain = !0, En.awaitDrainWriters = new b(En.awaitDrainWriters ? [En.awaitDrainWriters] : []))), En.pipes.push($e), O("pipe count=%d opts=%j", En.pipes.length, qe);
        const Nn = (!qe || qe.end !== !1) && $e !== u.stdout && $e !== u.stderr ? Hn : Dn;
        En.endEmitted ? u.nextTick(Nn) : Tn.once("end", Nn), $e.on("unpipe", Vn);
        function Vn(On, Gn) {
          O("onunpipe"), On === Tn && Gn && Gn.hasUnpiped === !1 && (Gn.hasUnpiped = !0, Sn());
        }
        function Hn() {
          O("onend"), $e.end();
        }
        let Wn, An = !1;
        function Sn() {
          O("cleanup"), $e.removeListener("close", kn), $e.removeListener("finish", $n), Wn && $e.removeListener("drain", Wn), $e.removeListener("error", Pn), $e.removeListener("unpipe", Vn), Tn.removeListener("end", Hn), Tn.removeListener("end", Dn), Tn.removeListener("data", Mn), An = !0, Wn && En.awaitDrainWriters && (!$e._writableState || $e._writableState.needDrain) && Wn();
        }
        function Rn() {
          An || (En.pipes.length === 1 && En.pipes[0] === $e ? (O("false write response, pause", 0), En.awaitDrainWriters = $e, En.multiAwaitDrain = !1) : En.pipes.length > 1 && En.pipes.includes($e) && (O("false write response, pause", En.awaitDrainWriters.size), En.awaitDrainWriters.add($e)), Tn.pause()), Wn || (Wn = hn(Tn, $e), $e.on("drain", Wn));
        }
        Tn.on("data", Mn);
        function Mn(On) {
          O("ondata");
          const Gn = $e.write(On);
          O("dest.write", Gn), Gn === !1 && Rn();
        }
        function Pn(On) {
          if (O("onerror", On), Dn(), $e.removeListener("error", Pn), $e.listenerCount("error") === 0) {
            const Gn = $e._writableState || $e._readableState;
            Gn && !Gn.errorEmitted ? In($e, On) : $e.emit("error", On);
          }
        }
        T($e, "error", Pn);
        function kn() {
          $e.removeListener("finish", $n), Dn();
        }
        $e.once("close", kn);
        function $n() {
          O("onfinish"), $e.removeListener("close", kn), Dn();
        }
        $e.once("finish", $n);
        function Dn() {
          O("unpipe"), Tn.unpipe($e);
        }
        return $e.emit("pipe", Tn), $e.writableNeedDrain === !0 ? En.flowing && Rn() : En.flowing || (O("pipe resume"), Tn.resume()), $e;
      };
      function hn($e, qe) {
        return function() {
          const En = $e._readableState;
          En.awaitDrainWriters === qe ? (O("pipeOnDrain", 1), En.awaitDrainWriters = null) : En.multiAwaitDrain && (O("pipeOnDrain", En.awaitDrainWriters.size), En.awaitDrainWriters.delete(qe)), (!En.awaitDrainWriters || En.awaitDrainWriters.size === 0) && $e.listenerCount("data") && $e.resume();
        };
      }
      he.prototype.unpipe = function($e) {
        const qe = this._readableState, Tn = {
          hasUnpiped: !1
        };
        if (qe.pipes.length === 0)
          return this;
        if (!$e) {
          const Ln = qe.pipes;
          qe.pipes = [], this.pause();
          for (let Nn = 0; Nn < Ln.length; Nn++)
            Ln[Nn].emit("unpipe", this, {
              hasUnpiped: !1
            });
          return this;
        }
        const En = c(qe.pipes, $e);
        return En === -1 ? this : (qe.pipes.splice(En, 1), qe.pipes.length === 0 && this.pause(), $e.emit("unpipe", this, Tn), this);
      }, he.prototype.on = function($e, qe) {
        const Tn = x.prototype.on.call(this, $e, qe), En = this._readableState;
        return $e === "data" ? (En.readableListening = this.listenerCount("readable") > 0, En.flowing !== !1 && this.resume()) : $e === "readable" && !En.endEmitted && !En.readableListening && (En.readableListening = En.needReadable = !0, En.flowing = !1, En.emittedReadable = !1, O("on readable", En.length, En.reading), En.length ? Et(this) : En.reading || u.nextTick(oe, this)), Tn;
      }, he.prototype.addListener = he.prototype.on, he.prototype.removeListener = function($e, qe) {
        const Tn = x.prototype.removeListener.call(this, $e, qe);
        return $e === "readable" && u.nextTick(bn, this), Tn;
      }, he.prototype.off = he.prototype.removeListener, he.prototype.removeAllListeners = function($e) {
        const qe = x.prototype.removeAllListeners.apply(this, arguments);
        return ($e === "readable" || $e === void 0) && u.nextTick(bn, this), qe;
      };
      function bn($e) {
        const qe = $e._readableState;
        qe.readableListening = $e.listenerCount("readable") > 0, qe.resumeScheduled && qe[Pt] === !1 ? qe.flowing = !0 : $e.listenerCount("data") > 0 ? $e.resume() : qe.readableListening || (qe.flowing = null);
      }
      function oe($e) {
        O("readable nexttick read 0"), $e.read(0);
      }
      he.prototype.resume = function() {
        const $e = this._readableState;
        return $e.flowing || (O("resume"), $e.flowing = !$e.readableListening, le(this, $e)), $e[Pt] = !1, this;
      };
      function le($e, qe) {
        qe.resumeScheduled || (qe.resumeScheduled = !0, u.nextTick(j, $e, qe));
      }
      function j($e, qe) {
        O("resume", qe.reading), qe.reading || $e.read(0), qe.resumeScheduled = !1, $e.emit("resume"), V($e), qe.flowing && !qe.reading && $e.read(0);
      }
      he.prototype.pause = function() {
        return O("call pause flowing=%j", this._readableState.flowing), this._readableState.flowing !== !1 && (O("pause"), this._readableState.flowing = !1, this.emit("pause")), this._readableState[Pt] = !0, this;
      };
      function V($e) {
        const qe = $e._readableState;
        for (O("flow", qe.flowing); qe.flowing && $e.read() !== null; )
          ;
      }
      he.prototype.wrap = function($e) {
        let qe = !1;
        $e.on("data", (En) => {
          !this.push(En) && $e.pause && (qe = !0, $e.pause());
        }), $e.on("end", () => {
          this.push(null);
        }), $e.on("error", (En) => {
          In(this, En);
        }), $e.on("close", () => {
          this.destroy();
        }), $e.on("destroy", () => {
          this.destroy();
        }), this._read = () => {
          qe && $e.resume && (qe = !1, $e.resume());
        };
        const Tn = v($e);
        for (let En = 1; En < Tn.length; En++) {
          const Ln = Tn[En];
          this[Ln] === void 0 && typeof $e[Ln] == "function" && (this[Ln] = $e[Ln].bind($e));
        }
        return this;
      }, he.prototype[A] = function() {
        return $(this);
      }, he.prototype.iterator = function($e) {
        return $e !== void 0 && Ie($e, "options"), $(this, $e);
      };
      function $($e, qe) {
        typeof $e.read != "function" && ($e = he.wrap($e, {
          objectMode: !0
        }));
        const Tn = ae($e, qe);
        return Tn.stream = $e, Tn;
      }
      async function* ae($e, qe) {
        let Tn = _n;
        function En(Vn) {
          this === $e ? (Tn(), Tn = _n) : Tn = Vn;
        }
        $e.on("readable", En);
        let Ln;
        const Nn = M(
          $e,
          {
            writable: !1
          },
          (Vn) => {
            Ln = Vn ? Y(Ln, Vn) : null, Tn(), Tn = _n;
          }
        );
        try {
          for (; ; ) {
            const Vn = $e.destroyed ? null : $e.read();
            if (Vn !== null)
              yield Vn;
            else {
              if (Ln)
                throw Ln;
              if (Ln === null)
                return;
              await new _(En);
            }
          }
        } catch (Vn) {
          throw Ln = Y(Ln, Vn), Ln;
        } finally {
          (Ln || (qe == null ? void 0 : qe.destroyOnReturn) !== !1) && (Ln === void 0 || $e._readableState.autoDestroy) ? F.destroyer($e, null) : ($e.off("readable", En), Nn());
        }
      }
      y(he.prototype, {
        readable: {
          __proto__: null,
          get() {
            const $e = this._readableState;
            return !!$e && $e.readable !== !1 && !$e.destroyed && !$e.errorEmitted && !$e.endEmitted;
          },
          set($e) {
            this._readableState && (this._readableState.readable = !!$e);
          }
        },
        readableDidRead: {
          __proto__: null,
          enumerable: !1,
          get: function() {
            return this._readableState.dataEmitted;
          }
        },
        readableAborted: {
          __proto__: null,
          enumerable: !1,
          get: function() {
            return !!(this._readableState.readable !== !1 && (this._readableState.destroyed || this._readableState.errored) && !this._readableState.endEmitted);
          }
        },
        readableHighWaterMark: {
          __proto__: null,
          enumerable: !1,
          get: function() {
            return this._readableState.highWaterMark;
          }
        },
        readableBuffer: {
          __proto__: null,
          enumerable: !1,
          get: function() {
            return this._readableState && this._readableState.buffer;
          }
        },
        readableFlowing: {
          __proto__: null,
          enumerable: !1,
          get: function() {
            return this._readableState.flowing;
          },
          set: function($e) {
            this._readableState && (this._readableState.flowing = $e);
          }
        },
        readableLength: {
          __proto__: null,
          enumerable: !1,
          get() {
            return this._readableState.length;
          }
        },
        readableObjectMode: {
          __proto__: null,
          enumerable: !1,
          get() {
            return this._readableState ? this._readableState.objectMode : !1;
          }
        },
        readableEncoding: {
          __proto__: null,
          enumerable: !1,
          get() {
            return this._readableState ? this._readableState.encoding : null;
          }
        },
        errored: {
          __proto__: null,
          enumerable: !1,
          get() {
            return this._readableState ? this._readableState.errored : null;
          }
        },
        closed: {
          __proto__: null,
          get() {
            return this._readableState ? this._readableState.closed : !1;
          }
        },
        destroyed: {
          __proto__: null,
          enumerable: !1,
          get() {
            return this._readableState ? this._readableState.destroyed : !1;
          },
          set($e) {
            this._readableState && (this._readableState.destroyed = $e);
          }
        },
        readableEnded: {
          __proto__: null,
          enumerable: !1,
          get() {
            return this._readableState ? this._readableState.endEmitted : !1;
          }
        }
      }), y(jt.prototype, {
        // Legacy getter for `pipesCount`.
        pipesCount: {
          __proto__: null,
          get() {
            return this.pipes.length;
          }
        },
        // Legacy property for `paused`.
        paused: {
          __proto__: null,
          get() {
            return this[Pt] !== !1;
          },
          set($e) {
            this[Pt] = !!$e;
          }
        }
      }), he._fromList = Ne;
      function Ne($e, qe) {
        if (qe.length === 0)
          return null;
        let Tn;
        return qe.objectMode ? Tn = qe.buffer.shift() : !$e || $e >= qe.length ? (qe.decoder ? Tn = qe.buffer.join("") : qe.buffer.length === 1 ? Tn = qe.buffer.first() : Tn = qe.buffer.concat(qe.length), qe.buffer.clear()) : Tn = qe.buffer.consume($e, qe.decoder), Tn;
      }
      function Ue($e) {
        const qe = $e._readableState;
        O("endReadable", qe.endEmitted), qe.endEmitted || (qe.ended = !0, u.nextTick(vn, qe, $e));
      }
      function vn($e, qe) {
        if (O("endReadableNT", $e.endEmitted, $e.length), !$e.errored && !$e.closeEmitted && !$e.endEmitted && $e.length === 0) {
          if ($e.endEmitted = !0, qe.emit("end"), qe.writable && qe.allowHalfOpen === !1)
            u.nextTick(wn, qe);
          else if ($e.autoDestroy) {
            const Tn = qe._writableState;
            (!Tn || Tn.autoDestroy && // We don't expect the writable to ever 'finish'
            // if writable is explicitly set to false.
            (Tn.finished || Tn.writable === !1)) && qe.destroy();
          }
        }
      }
      function wn($e) {
        $e.writable && !$e.writableEnded && !$e.destroyed && $e.end();
      }
      he.from = function($e, qe) {
        return Lt(he, $e, qe);
      };
      let xn;
      function Bn() {
        return xn === void 0 && (xn = {}), xn;
      }
      he.fromWeb = function($e, qe) {
        return Bn().newStreamReadableFromReadableStream($e, qe);
      }, he.toWeb = function($e, qe) {
        return Bn().newReadableStreamFromStreamReadable($e, qe);
      }, he.wrap = function($e, qe) {
        var Tn, En;
        return new he({
          objectMode: (Tn = (En = $e.readableObjectMode) !== null && En !== void 0 ? En : $e.objectMode) !== null && Tn !== void 0 ? Tn : !0,
          ...qe,
          destroy(Ln, Nn) {
            F.destroyer($e, Ln), Nn(Ln);
          }
        }).wrap($e);
      };
    }, { "../../ours/errors": 126, "../../ours/primordials": 127, "../../ours/util": 128, "../validators": 124, "./add-abort-signal": 107, "./buffer_list": 108, "./destroy": 110, "./duplex": 111, "./end-of-stream": 113, "./from": 114, "./legacy": 115, "./state": 120, buffer: 29, events: 49, "process/": 102, string_decoder: 28 }], 120: [function(i, o, a) {
      const { MathFloor: u, NumberIsInteger: c } = i("../../ours/primordials"), { ERR_INVALID_ARG_VALUE: f } = i("../../ours/errors").codes;
      function d(v, g, _) {
        return v.highWaterMark != null ? v.highWaterMark : g ? v[_] : null;
      }
      function p(v) {
        return v ? 16 : 16 * 1024;
      }
      function y(v, g, _, b) {
        const A = d(g, b, _);
        if (A != null) {
          if (!c(A) || A < 0) {
            const w = b ? `options.${_}` : "options.highWaterMark";
            throw new f(w, A);
          }
          return u(A);
        }
        return p(v.objectMode);
      }
      o.exports = {
        getHighWaterMark: y,
        getDefaultHighWaterMark: p
      };
    }, { "../../ours/errors": 126, "../../ours/primordials": 127 }], 121: [function(i, o, a) {
      const { ObjectSetPrototypeOf: u, Symbol: c } = i("../../ours/primordials");
      o.exports = v;
      const { ERR_METHOD_NOT_IMPLEMENTED: f } = i("../../ours/errors").codes, d = i("./duplex"), { getHighWaterMark: p } = i("./state");
      u(v.prototype, d.prototype), u(v, d);
      const y = c("kCallback");
      function v(b) {
        if (!(this instanceof v))
          return new v(b);
        const A = b ? p(this, b, "readableHighWaterMark", !0) : null;
        A === 0 && (b = {
          ...b,
          highWaterMark: null,
          readableHighWaterMark: A,
          // TODO (ronag): 0 is not optimal since we have
          // a "bug" where we check needDrain before calling _write and not after.
          // Refs: https://github.com/nodejs/node/pull/32887
          // Refs: https://github.com/nodejs/node/pull/35941
          writableHighWaterMark: b.writableHighWaterMark || 0
        }), d.call(this, b), this._readableState.sync = !1, this[y] = null, b && (typeof b.transform == "function" && (this._transform = b.transform), typeof b.flush == "function" && (this._flush = b.flush)), this.on("prefinish", _);
      }
      function g(b) {
        typeof this._flush == "function" && !this.destroyed ? this._flush((A, w) => {
          if (A) {
            b ? b(A) : this.destroy(A);
            return;
          }
          w != null && this.push(w), this.push(null), b && b();
        }) : (this.push(null), b && b());
      }
      function _() {
        this._final !== g && g.call(this);
      }
      v.prototype._final = g, v.prototype._transform = function(b, A, w) {
        throw new f("_transform()");
      }, v.prototype._write = function(b, A, w) {
        const S = this._readableState, x = this._writableState, T = S.length;
        this._transform(b, A, (L, k) => {
          if (L) {
            w(L);
            return;
          }
          k != null && this.push(k), x.ended || // Backwards compat.
          T === S.length || // Backwards compat.
          S.length < S.highWaterMark ? w() : this[y] = w;
        });
      }, v.prototype._read = function() {
        if (this[y]) {
          const b = this[y];
          this[y] = null, b();
        }
      };
    }, { "../../ours/errors": 126, "../../ours/primordials": 127, "./duplex": 111, "./state": 120 }], 122: [function(i, o, a) {
      const { Symbol: u, SymbolAsyncIterator: c, SymbolIterator: f, SymbolFor: d } = i("../../ours/primordials"), p = u("kDestroyed"), y = u("kIsErrored"), v = u("kIsReadable"), g = u("kIsDisturbed"), _ = d("nodejs.webstream.isClosedPromise"), b = d("nodejs.webstream.controllerErrorFunction");
      function A(he, At = !1) {
        var kt;
        return !!(he && typeof he.pipe == "function" && typeof he.on == "function" && (!At || typeof he.pause == "function" && typeof he.resume == "function") && (!he._writableState || ((kt = he._readableState) === null || kt === void 0 ? void 0 : kt.readable) !== !1) && // Duplex
        (!he._writableState || he._readableState));
      }
      function w(he) {
        var At;
        return !!(he && typeof he.write == "function" && typeof he.on == "function" && (!he._readableState || ((At = he._writableState) === null || At === void 0 ? void 0 : At.writable) !== !1));
      }
      function S(he) {
        return !!(he && typeof he.pipe == "function" && he._readableState && typeof he.on == "function" && typeof he.write == "function");
      }
      function x(he) {
        return he && (he._readableState || he._writableState || typeof he.write == "function" && typeof he.on == "function" || typeof he.pipe == "function" && typeof he.on == "function");
      }
      function T(he) {
        return !!(he && !x(he) && typeof he.pipeThrough == "function" && typeof he.getReader == "function" && typeof he.cancel == "function");
      }
      function L(he) {
        return !!(he && !x(he) && typeof he.getWriter == "function" && typeof he.abort == "function");
      }
      function k(he) {
        return !!(he && !x(he) && typeof he.readable == "object" && typeof he.writable == "object");
      }
      function M(he) {
        return T(he) || L(he) || k(he);
      }
      function O(he, At) {
        return he == null ? !1 : At === !0 ? typeof he[c] == "function" : At === !1 ? typeof he[f] == "function" : typeof he[c] == "function" || typeof he[f] == "function";
      }
      function ie(he) {
        if (!x(he))
          return null;
        const At = he._writableState, kt = he._readableState, Cn = At || kt;
        return !!(he.destroyed || he[p] || Cn != null && Cn.destroyed);
      }
      function F(he) {
        if (!w(he))
          return null;
        if (he.writableEnded === !0)
          return !0;
        const At = he._writableState;
        return At != null && At.errored ? !1 : typeof (At == null ? void 0 : At.ended) != "boolean" ? null : At.ended;
      }
      function re(he, At) {
        if (!w(he))
          return null;
        if (he.writableFinished === !0)
          return !0;
        const kt = he._writableState;
        return kt != null && kt.errored ? !1 : typeof (kt == null ? void 0 : kt.finished) != "boolean" ? null : !!(kt.finished || At === !1 && kt.ended === !0 && kt.length === 0);
      }
      function D(he) {
        if (!A(he))
          return null;
        if (he.readableEnded === !0)
          return !0;
        const At = he._readableState;
        return !At || At.errored ? !1 : typeof (At == null ? void 0 : At.ended) != "boolean" ? null : At.ended;
      }
      function Y(he, At) {
        if (!A(he))
          return null;
        const kt = he._readableState;
        return kt != null && kt.errored ? !1 : typeof (kt == null ? void 0 : kt.endEmitted) != "boolean" ? null : !!(kt.endEmitted || At === !1 && kt.ended === !0 && kt.length === 0);
      }
      function z(he) {
        return he && he[v] != null ? he[v] : typeof (he == null ? void 0 : he.readable) != "boolean" ? null : ie(he) ? !1 : A(he) && he.readable && !Y(he);
      }
      function pe(he) {
        return typeof (he == null ? void 0 : he.writable) != "boolean" ? null : ie(he) ? !1 : w(he) && he.writable && !F(he);
      }
      function ue(he, At) {
        return x(he) ? ie(he) ? !0 : !((At == null ? void 0 : At.readable) !== !1 && z(he) || (At == null ? void 0 : At.writable) !== !1 && pe(he)) : null;
      }
      function Ce(he) {
        var At, kt;
        return x(he) ? he.writableErrored ? he.writableErrored : (At = (kt = he._writableState) === null || kt === void 0 ? void 0 : kt.errored) !== null && At !== void 0 ? At : null : null;
      }
      function Fe(he) {
        var At, kt;
        return x(he) ? he.readableErrored ? he.readableErrored : (At = (kt = he._readableState) === null || kt === void 0 ? void 0 : kt.errored) !== null && At !== void 0 ? At : null : null;
      }
      function Ie(he) {
        if (!x(he))
          return null;
        if (typeof he.closed == "boolean")
          return he.closed;
        const At = he._writableState, kt = he._readableState;
        return typeof (At == null ? void 0 : At.closed) == "boolean" || typeof (kt == null ? void 0 : kt.closed) == "boolean" ? (At == null ? void 0 : At.closed) || (kt == null ? void 0 : kt.closed) : typeof he._closed == "boolean" && Pt(he) ? he._closed : null;
      }
      function Pt(he) {
        return typeof he._closed == "boolean" && typeof he._defaultKeepAlive == "boolean" && typeof he._removedConnection == "boolean" && typeof he._removedContLen == "boolean";
      }
      function xe(he) {
        return typeof he._sent100 == "boolean" && Pt(he);
      }
      function Lt(he) {
        var At;
        return typeof he._consuming == "boolean" && typeof he._dumped == "boolean" && ((At = he.req) === null || At === void 0 ? void 0 : At.upgradeOrConnect) === void 0;
      }
      function _n(he) {
        if (!x(he))
          return null;
        const At = he._writableState, kt = he._readableState, Cn = At || kt;
        return !Cn && xe(he) || !!(Cn && Cn.autoDestroy && Cn.emitClose && Cn.closed === !1);
      }
      function In(he) {
        var At;
        return !!(he && ((At = he[g]) !== null && At !== void 0 ? At : he.readableDidRead || he.readableAborted));
      }
      function jt(he) {
        var At, kt, Cn, ze, _e, de, Et, Oe, Ve, Dt;
        return !!(he && ((At = (kt = (Cn = (ze = (_e = (de = he[y]) !== null && de !== void 0 ? de : he.readableErrored) !== null && _e !== void 0 ? _e : he.writableErrored) !== null && ze !== void 0 ? ze : (Et = he._readableState) === null || Et === void 0 ? void 0 : Et.errorEmitted) !== null && Cn !== void 0 ? Cn : (Oe = he._writableState) === null || Oe === void 0 ? void 0 : Oe.errorEmitted) !== null && kt !== void 0 ? kt : (Ve = he._readableState) === null || Ve === void 0 ? void 0 : Ve.errored) !== null && At !== void 0 ? At : !((Dt = he._writableState) === null || Dt === void 0) && Dt.errored));
      }
      o.exports = {
        kDestroyed: p,
        isDisturbed: In,
        kIsDisturbed: g,
        isErrored: jt,
        kIsErrored: y,
        isReadable: z,
        kIsReadable: v,
        kIsClosedPromise: _,
        kControllerErrorFunction: b,
        isClosed: Ie,
        isDestroyed: ie,
        isDuplexNodeStream: S,
        isFinished: ue,
        isIterable: O,
        isReadableNodeStream: A,
        isReadableStream: T,
        isReadableEnded: D,
        isReadableFinished: Y,
        isReadableErrored: Fe,
        isNodeStream: x,
        isWebStream: M,
        isWritable: pe,
        isWritableNodeStream: w,
        isWritableStream: L,
        isWritableEnded: F,
        isWritableFinished: re,
        isWritableErrored: Ce,
        isServerRequest: Lt,
        isServerResponse: xe,
        willEmitClose: _n,
        isTransformStream: k
      };
    }, { "../../ours/primordials": 127 }], 123: [function(i, o, a) {
      const u = i("process/"), {
        ArrayPrototypeSlice: c,
        Error: f,
        FunctionPrototypeSymbolHasInstance: d,
        ObjectDefineProperty: p,
        ObjectDefineProperties: y,
        ObjectSetPrototypeOf: v,
        StringPrototypeToLowerCase: g,
        Symbol: _,
        SymbolHasInstance: b
      } = i("../../ours/primordials");
      o.exports = xe, xe.WritableState = Ie;
      const { EventEmitter: A } = i("events"), w = i("./legacy").Stream, { Buffer: S } = i("buffer"), x = i("./destroy"), { addAbortSignal: T } = i("./add-abort-signal"), { getHighWaterMark: L, getDefaultHighWaterMark: k } = i("./state"), {
        ERR_INVALID_ARG_TYPE: M,
        ERR_METHOD_NOT_IMPLEMENTED: O,
        ERR_MULTIPLE_CALLBACK: ie,
        ERR_STREAM_CANNOT_PIPE: F,
        ERR_STREAM_DESTROYED: re,
        ERR_STREAM_ALREADY_FINISHED: D,
        ERR_STREAM_NULL_VALUES: Y,
        ERR_STREAM_WRITE_AFTER_END: z,
        ERR_UNKNOWN_ENCODING: pe
      } = i("../../ours/errors").codes, { errorOrDestroy: ue } = x;
      v(xe.prototype, w.prototype), v(xe, w);
      function Ce() {
      }
      const Fe = _("kOnFinished");
      function Ie(oe, le, j) {
        typeof j != "boolean" && (j = le instanceof i("./duplex")), this.objectMode = !!(oe && oe.objectMode), j && (this.objectMode = this.objectMode || !!(oe && oe.writableObjectMode)), this.highWaterMark = oe ? L(this, oe, "writableHighWaterMark", j) : k(!1), this.finalCalled = !1, this.needDrain = !1, this.ending = !1, this.ended = !1, this.finished = !1, this.destroyed = !1;
        const V = !!(oe && oe.decodeStrings === !1);
        this.decodeStrings = !V, this.defaultEncoding = oe && oe.defaultEncoding || "utf8", this.length = 0, this.writing = !1, this.corked = 0, this.sync = !0, this.bufferProcessing = !1, this.onwrite = he.bind(void 0, le), this.writecb = null, this.writelen = 0, this.afterWriteTickInfo = null, Pt(this), this.pendingcb = 0, this.constructed = !0, this.prefinished = !1, this.errorEmitted = !1, this.emitClose = !oe || oe.emitClose !== !1, this.autoDestroy = !oe || oe.autoDestroy !== !1, this.errored = null, this.closed = !1, this.closeEmitted = !1, this[Fe] = [];
      }
      function Pt(oe) {
        oe.buffered = [], oe.bufferedIndex = 0, oe.allBuffers = !0, oe.allNoop = !0;
      }
      Ie.prototype.getBuffer = function() {
        return c(this.buffered, this.bufferedIndex);
      }, p(Ie.prototype, "bufferedRequestCount", {
        __proto__: null,
        get() {
          return this.buffered.length - this.bufferedIndex;
        }
      });
      function xe(oe) {
        const le = this instanceof i("./duplex");
        if (!le && !d(xe, this))
          return new xe(oe);
        this._writableState = new Ie(oe, this, le), oe && (typeof oe.write == "function" && (this._write = oe.write), typeof oe.writev == "function" && (this._writev = oe.writev), typeof oe.destroy == "function" && (this._destroy = oe.destroy), typeof oe.final == "function" && (this._final = oe.final), typeof oe.construct == "function" && (this._construct = oe.construct), oe.signal && T(oe.signal, this)), w.call(this, oe), x.construct(this, () => {
          const j = this._writableState;
          j.writing || ze(this, j), Oe(this, j);
        });
      }
      p(xe, b, {
        __proto__: null,
        value: function(oe) {
          return d(this, oe) ? !0 : this !== xe ? !1 : oe && oe._writableState instanceof Ie;
        }
      }), xe.prototype.pipe = function() {
        ue(this, new F());
      };
      function Lt(oe, le, j, V) {
        const $ = oe._writableState;
        if (typeof j == "function")
          V = j, j = $.defaultEncoding;
        else {
          if (!j)
            j = $.defaultEncoding;
          else if (j !== "buffer" && !S.isEncoding(j))
            throw new pe(j);
          typeof V != "function" && (V = Ce);
        }
        if (le === null)
          throw new Y();
        if (!$.objectMode)
          if (typeof le == "string")
            $.decodeStrings !== !1 && (le = S.from(le, j), j = "buffer");
          else if (le instanceof S)
            j = "buffer";
          else if (w._isUint8Array(le))
            le = w._uint8ArrayToBuffer(le), j = "buffer";
          else
            throw new M("chunk", ["string", "Buffer", "Uint8Array"], le);
        let ae;
        return $.ending ? ae = new z() : $.destroyed && (ae = new re("write")), ae ? (u.nextTick(V, ae), ue(oe, ae, !0), ae) : ($.pendingcb++, _n(oe, $, le, j, V));
      }
      xe.prototype.write = function(oe, le, j) {
        return Lt(this, oe, le, j) === !0;
      }, xe.prototype.cork = function() {
        this._writableState.corked++;
      }, xe.prototype.uncork = function() {
        const oe = this._writableState;
        oe.corked && (oe.corked--, oe.writing || ze(this, oe));
      }, xe.prototype.setDefaultEncoding = function(le) {
        if (typeof le == "string" && (le = g(le)), !S.isEncoding(le))
          throw new pe(le);
        return this._writableState.defaultEncoding = le, this;
      };
      function _n(oe, le, j, V, $) {
        const ae = le.objectMode ? 1 : j.length;
        le.length += ae;
        const Ne = le.length < le.highWaterMark;
        return Ne || (le.needDrain = !0), le.writing || le.corked || le.errored || !le.constructed ? (le.buffered.push({
          chunk: j,
          encoding: V,
          callback: $
        }), le.allBuffers && V !== "buffer" && (le.allBuffers = !1), le.allNoop && $ !== Ce && (le.allNoop = !1)) : (le.writelen = ae, le.writecb = $, le.writing = !0, le.sync = !0, oe._write(j, V, le.onwrite), le.sync = !1), Ne && !le.errored && !le.destroyed;
      }
      function In(oe, le, j, V, $, ae, Ne) {
        le.writelen = V, le.writecb = Ne, le.writing = !0, le.sync = !0, le.destroyed ? le.onwrite(new re("write")) : j ? oe._writev($, le.onwrite) : oe._write($, ae, le.onwrite), le.sync = !1;
      }
      function jt(oe, le, j, V) {
        --le.pendingcb, V(j), Cn(le), ue(oe, j);
      }
      function he(oe, le) {
        const j = oe._writableState, V = j.sync, $ = j.writecb;
        if (typeof $ != "function") {
          ue(oe, new ie());
          return;
        }
        j.writing = !1, j.writecb = null, j.length -= j.writelen, j.writelen = 0, le ? (le.stack, j.errored || (j.errored = le), oe._readableState && !oe._readableState.errored && (oe._readableState.errored = le), V ? u.nextTick(jt, oe, j, le, $) : jt(oe, j, le, $)) : (j.buffered.length > j.bufferedIndex && ze(oe, j), V ? j.afterWriteTickInfo !== null && j.afterWriteTickInfo.cb === $ ? j.afterWriteTickInfo.count++ : (j.afterWriteTickInfo = {
          count: 1,
          cb: $,
          stream: oe,
          state: j
        }, u.nextTick(At, j.afterWriteTickInfo)) : kt(oe, j, 1, $));
      }
      function At({ stream: oe, state: le, count: j, cb: V }) {
        return le.afterWriteTickInfo = null, kt(oe, le, j, V);
      }
      function kt(oe, le, j, V) {
        for (!le.ending && !oe.destroyed && le.length === 0 && le.needDrain && (le.needDrain = !1, oe.emit("drain")); j-- > 0; )
          le.pendingcb--, V();
        le.destroyed && Cn(le), Oe(oe, le);
      }
      function Cn(oe) {
        if (oe.writing)
          return;
        for (let $ = oe.bufferedIndex; $ < oe.buffered.length; ++$) {
          var le;
          const { chunk: ae, callback: Ne } = oe.buffered[$], Ue = oe.objectMode ? 1 : ae.length;
          oe.length -= Ue, Ne(
            (le = oe.errored) !== null && le !== void 0 ? le : new re("write")
          );
        }
        const j = oe[Fe].splice(0);
        for (let $ = 0; $ < j.length; $++) {
          var V;
          j[$](
            (V = oe.errored) !== null && V !== void 0 ? V : new re("end")
          );
        }
        Pt(oe);
      }
      function ze(oe, le) {
        if (le.corked || le.bufferProcessing || le.destroyed || !le.constructed)
          return;
        const { buffered: j, bufferedIndex: V, objectMode: $ } = le, ae = j.length - V;
        if (!ae)
          return;
        let Ne = V;
        if (le.bufferProcessing = !0, ae > 1 && oe._writev) {
          le.pendingcb -= ae - 1;
          const Ue = le.allNoop ? Ce : (wn) => {
            for (let xn = Ne; xn < j.length; ++xn)
              j[xn].callback(wn);
          }, vn = le.allNoop && Ne === 0 ? j : c(j, Ne);
          vn.allBuffers = le.allBuffers, In(oe, le, !0, le.length, vn, "", Ue), Pt(le);
        } else {
          do {
            const { chunk: Ue, encoding: vn, callback: wn } = j[Ne];
            j[Ne++] = null;
            const xn = $ ? 1 : Ue.length;
            In(oe, le, !1, xn, Ue, vn, wn);
          } while (Ne < j.length && !le.writing);
          Ne === j.length ? Pt(le) : Ne > 256 ? (j.splice(0, Ne), le.bufferedIndex = 0) : le.bufferedIndex = Ne;
        }
        le.bufferProcessing = !1;
      }
      xe.prototype._write = function(oe, le, j) {
        if (this._writev)
          this._writev(
            [
              {
                chunk: oe,
                encoding: le
              }
            ],
            j
          );
        else
          throw new O("_write()");
      }, xe.prototype._writev = null, xe.prototype.end = function(oe, le, j) {
        const V = this._writableState;
        typeof oe == "function" ? (j = oe, oe = null, le = null) : typeof le == "function" && (j = le, le = null);
        let $;
        if (oe != null) {
          const ae = Lt(this, oe, le);
          ae instanceof f && ($ = ae);
        }
        return V.corked && (V.corked = 1, this.uncork()), $ || (!V.errored && !V.ending ? (V.ending = !0, Oe(this, V, !0), V.ended = !0) : V.finished ? $ = new D("end") : V.destroyed && ($ = new re("end"))), typeof j == "function" && ($ || V.finished ? u.nextTick(j, $) : V[Fe].push(j)), this;
      };
      function _e(oe) {
        return oe.ending && !oe.destroyed && oe.constructed && oe.length === 0 && !oe.errored && oe.buffered.length === 0 && !oe.finished && !oe.writing && !oe.errorEmitted && !oe.closeEmitted;
      }
      function de(oe, le) {
        let j = !1;
        function V($) {
          if (j) {
            ue(oe, $ ?? ie());
            return;
          }
          if (j = !0, le.pendingcb--, $) {
            const ae = le[Fe].splice(0);
            for (let Ne = 0; Ne < ae.length; Ne++)
              ae[Ne]($);
            ue(oe, $, le.sync);
          } else
            _e(le) && (le.prefinished = !0, oe.emit("prefinish"), le.pendingcb++, u.nextTick(Ve, oe, le));
        }
        le.sync = !0, le.pendingcb++;
        try {
          oe._final(V);
        } catch ($) {
          V($);
        }
        le.sync = !1;
      }
      function Et(oe, le) {
        !le.prefinished && !le.finalCalled && (typeof oe._final == "function" && !le.destroyed ? (le.finalCalled = !0, de(oe, le)) : (le.prefinished = !0, oe.emit("prefinish")));
      }
      function Oe(oe, le, j) {
        _e(le) && (Et(oe, le), le.pendingcb === 0 && (j ? (le.pendingcb++, u.nextTick(
          (V, $) => {
            _e($) ? Ve(V, $) : $.pendingcb--;
          },
          oe,
          le
        )) : _e(le) && (le.pendingcb++, Ve(oe, le))));
      }
      function Ve(oe, le) {
        le.pendingcb--, le.finished = !0;
        const j = le[Fe].splice(0);
        for (let V = 0; V < j.length; V++)
          j[V]();
        if (oe.emit("finish"), le.autoDestroy) {
          const V = oe._readableState;
          (!V || V.autoDestroy && // We don't expect the readable to ever 'end'
          // if readable is explicitly set to false.
          (V.endEmitted || V.readable === !1)) && oe.destroy();
        }
      }
      y(xe.prototype, {
        closed: {
          __proto__: null,
          get() {
            return this._writableState ? this._writableState.closed : !1;
          }
        },
        destroyed: {
          __proto__: null,
          get() {
            return this._writableState ? this._writableState.destroyed : !1;
          },
          set(oe) {
            this._writableState && (this._writableState.destroyed = oe);
          }
        },
        writable: {
          __proto__: null,
          get() {
            const oe = this._writableState;
            return !!oe && oe.writable !== !1 && !oe.destroyed && !oe.errored && !oe.ending && !oe.ended;
          },
          set(oe) {
            this._writableState && (this._writableState.writable = !!oe);
          }
        },
        writableFinished: {
          __proto__: null,
          get() {
            return this._writableState ? this._writableState.finished : !1;
          }
        },
        writableObjectMode: {
          __proto__: null,
          get() {
            return this._writableState ? this._writableState.objectMode : !1;
          }
        },
        writableBuffer: {
          __proto__: null,
          get() {
            return this._writableState && this._writableState.getBuffer();
          }
        },
        writableEnded: {
          __proto__: null,
          get() {
            return this._writableState ? this._writableState.ending : !1;
          }
        },
        writableNeedDrain: {
          __proto__: null,
          get() {
            const oe = this._writableState;
            return oe ? !oe.destroyed && !oe.ending && oe.needDrain : !1;
          }
        },
        writableHighWaterMark: {
          __proto__: null,
          get() {
            return this._writableState && this._writableState.highWaterMark;
          }
        },
        writableCorked: {
          __proto__: null,
          get() {
            return this._writableState ? this._writableState.corked : 0;
          }
        },
        writableLength: {
          __proto__: null,
          get() {
            return this._writableState && this._writableState.length;
          }
        },
        errored: {
          __proto__: null,
          enumerable: !1,
          get() {
            return this._writableState ? this._writableState.errored : null;
          }
        },
        writableAborted: {
          __proto__: null,
          enumerable: !1,
          get: function() {
            return !!(this._writableState.writable !== !1 && (this._writableState.destroyed || this._writableState.errored) && !this._writableState.finished);
          }
        }
      });
      const Dt = x.destroy;
      xe.prototype.destroy = function(oe, le) {
        const j = this._writableState;
        return !j.destroyed && (j.bufferedIndex < j.buffered.length || j[Fe].length) && u.nextTick(Cn, j), Dt.call(this, oe, le), this;
      }, xe.prototype._undestroy = x.undestroy, xe.prototype._destroy = function(oe, le) {
        le(oe);
      }, xe.prototype[A.captureRejectionSymbol] = function(oe) {
        this.destroy(oe);
      };
      let hn;
      function bn() {
        return hn === void 0 && (hn = {}), hn;
      }
      xe.fromWeb = function(oe, le) {
        return bn().newStreamWritableFromWritableStream(oe, le);
      }, xe.toWeb = function(oe) {
        return bn().newWritableStreamFromStreamWritable(oe);
      };
    }, { "../../ours/errors": 126, "../../ours/primordials": 127, "./add-abort-signal": 107, "./destroy": 110, "./duplex": 111, "./legacy": 115, "./state": 120, buffer: 29, events: 49, "process/": 102 }], 124: [function(i, o, a) {
      const {
        ArrayIsArray: u,
        ArrayPrototypeIncludes: c,
        ArrayPrototypeJoin: f,
        ArrayPrototypeMap: d,
        NumberIsInteger: p,
        NumberIsNaN: y,
        NumberMAX_SAFE_INTEGER: v,
        NumberMIN_SAFE_INTEGER: g,
        NumberParseInt: _,
        ObjectPrototypeHasOwnProperty: b,
        RegExpPrototypeExec: A,
        String: w,
        StringPrototypeToUpperCase: S,
        StringPrototypeTrim: x
      } = i("../ours/primordials"), {
        hideStackFrames: T,
        codes: { ERR_SOCKET_BAD_PORT: L, ERR_INVALID_ARG_TYPE: k, ERR_INVALID_ARG_VALUE: M, ERR_OUT_OF_RANGE: O, ERR_UNKNOWN_SIGNAL: ie }
      } = i("../ours/errors"), { normalizeEncoding: F } = i("../ours/util"), { isAsyncFunction: re, isArrayBufferView: D } = i("../ours/util").types, Y = {};
      function z(ae) {
        return ae === (ae | 0);
      }
      function pe(ae) {
        return ae === ae >>> 0;
      }
      const ue = /^[0-7]+$/, Ce = "must be a 32-bit unsigned integer or an octal string";
      function Fe(ae, Ne, Ue) {
        if (typeof ae > "u" && (ae = Ue), typeof ae == "string") {
          if (A(ue, ae) === null)
            throw new M(Ne, ae, Ce);
          ae = _(ae, 8);
        }
        return xe(ae, Ne), ae;
      }
      const Ie = T((ae, Ne, Ue = g, vn = v) => {
        if (typeof ae != "number")
          throw new k(Ne, "number", ae);
        if (!p(ae))
          throw new O(Ne, "an integer", ae);
        if (ae < Ue || ae > vn)
          throw new O(Ne, `>= ${Ue} && <= ${vn}`, ae);
      }), Pt = T((ae, Ne, Ue = -2147483648, vn = 2147483647) => {
        if (typeof ae != "number")
          throw new k(Ne, "number", ae);
        if (!p(ae))
          throw new O(Ne, "an integer", ae);
        if (ae < Ue || ae > vn)
          throw new O(Ne, `>= ${Ue} && <= ${vn}`, ae);
      }), xe = T((ae, Ne, Ue = !1) => {
        if (typeof ae != "number")
          throw new k(Ne, "number", ae);
        if (!p(ae))
          throw new O(Ne, "an integer", ae);
        const vn = Ue ? 1 : 0, wn = 4294967295;
        if (ae < vn || ae > wn)
          throw new O(Ne, `>= ${vn} && <= ${wn}`, ae);
      });
      function Lt(ae, Ne) {
        if (typeof ae != "string")
          throw new k(Ne, "string", ae);
      }
      function _n(ae, Ne, Ue = void 0, vn) {
        if (typeof ae != "number")
          throw new k(Ne, "number", ae);
        if (Ue != null && ae < Ue || vn != null && ae > vn || (Ue != null || vn != null) && y(ae))
          throw new O(
            Ne,
            `${Ue != null ? `>= ${Ue}` : ""}${Ue != null && vn != null ? " && " : ""}${vn != null ? `<= ${vn}` : ""}`,
            ae
          );
      }
      const In = T((ae, Ne, Ue) => {
        if (!c(Ue, ae)) {
          const wn = "must be one of: " + f(
            d(Ue, (xn) => typeof xn == "string" ? `'${xn}'` : w(xn)),
            ", "
          );
          throw new M(Ne, ae, wn);
        }
      });
      function jt(ae, Ne) {
        if (typeof ae != "boolean")
          throw new k(Ne, "boolean", ae);
      }
      function he(ae, Ne, Ue) {
        return ae == null || !b(ae, Ne) ? Ue : ae[Ne];
      }
      const At = T((ae, Ne, Ue = null) => {
        const vn = he(Ue, "allowArray", !1), wn = he(Ue, "allowFunction", !1);
        if (!he(Ue, "nullable", !1) && ae === null || !vn && u(ae) || typeof ae != "object" && (!wn || typeof ae != "function"))
          throw new k(Ne, "Object", ae);
      }), kt = T((ae, Ne) => {
        if (ae != null && typeof ae != "object" && typeof ae != "function")
          throw new k(Ne, "a dictionary", ae);
      }), Cn = T((ae, Ne, Ue = 0) => {
        if (!u(ae))
          throw new k(Ne, "Array", ae);
        if (ae.length < Ue) {
          const vn = `must be longer than ${Ue}`;
          throw new M(Ne, ae, vn);
        }
      });
      function ze(ae, Ne) {
        Cn(ae, Ne);
        for (let Ue = 0; Ue < ae.length; Ue++)
          Lt(ae[Ue], `${Ne}[${Ue}]`);
      }
      function _e(ae, Ne) {
        Cn(ae, Ne);
        for (let Ue = 0; Ue < ae.length; Ue++)
          jt(ae[Ue], `${Ne}[${Ue}]`);
      }
      function de(ae, Ne = "signal") {
        if (Lt(ae, Ne), Y[ae] === void 0)
          throw Y[S(ae)] !== void 0 ? new ie(ae + " (signals must use all capital letters)") : new ie(ae);
      }
      const Et = T((ae, Ne = "buffer") => {
        if (!D(ae))
          throw new k(Ne, ["Buffer", "TypedArray", "DataView"], ae);
      });
      function Oe(ae, Ne) {
        const Ue = F(Ne), vn = ae.length;
        if (Ue === "hex" && vn % 2 !== 0)
          throw new M("encoding", Ne, `is invalid for data of length ${vn}`);
      }
      function Ve(ae, Ne = "Port", Ue = !0) {
        if (typeof ae != "number" && typeof ae != "string" || typeof ae == "string" && x(ae).length === 0 || +ae !== +ae >>> 0 || ae > 65535 || ae === 0 && !Ue)
          throw new L(Ne, ae, Ue);
        return ae | 0;
      }
      const Dt = T((ae, Ne) => {
        if (ae !== void 0 && (ae === null || typeof ae != "object" || !("aborted" in ae)))
          throw new k(Ne, "AbortSignal", ae);
      }), hn = T((ae, Ne) => {
        if (typeof ae != "function")
          throw new k(Ne, "Function", ae);
      }), bn = T((ae, Ne) => {
        if (typeof ae != "function" || re(ae))
          throw new k(Ne, "Function", ae);
      }), oe = T((ae, Ne) => {
        if (ae !== void 0)
          throw new k(Ne, "undefined", ae);
      });
      function le(ae, Ne, Ue) {
        if (!c(Ue, ae))
          throw new k(Ne, `('${f(Ue, "|")}')`, ae);
      }
      const j = /^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;
      function V(ae, Ne) {
        if (typeof ae > "u" || !A(j, ae))
          throw new M(
            Ne,
            ae,
            'must be an array or string of format "</styles.css>; rel=preload; as=style"'
          );
      }
      function $(ae) {
        if (typeof ae == "string")
          return V(ae, "hints"), ae;
        if (u(ae)) {
          const Ne = ae.length;
          let Ue = "";
          if (Ne === 0)
            return Ue;
          for (let vn = 0; vn < Ne; vn++) {
            const wn = ae[vn];
            V(wn, "hints"), Ue += wn, vn !== Ne - 1 && (Ue += ", ");
          }
          return Ue;
        }
        throw new M(
          "hints",
          ae,
          'must be an array or string of format "</styles.css>; rel=preload; as=style"'
        );
      }
      o.exports = {
        isInt32: z,
        isUint32: pe,
        parseFileMode: Fe,
        validateArray: Cn,
        validateStringArray: ze,
        validateBooleanArray: _e,
        validateBoolean: jt,
        validateBuffer: Et,
        validateDictionary: kt,
        validateEncoding: Oe,
        validateFunction: hn,
        validateInt32: Pt,
        validateInteger: Ie,
        validateNumber: _n,
        validateObject: At,
        validateOneOf: In,
        validatePlainFunction: bn,
        validatePort: Ve,
        validateSignalName: de,
        validateString: Lt,
        validateUint32: xe,
        validateUndefined: oe,
        validateUnion: le,
        validateAbortSignal: Dt,
        validateLinkHeaderValue: $
      };
    }, { "../ours/errors": 126, "../ours/primordials": 127, "../ours/util": 128 }], 125: [function(i, o, a) {
      const u = i("../stream"), c = i("../stream/promises"), f = u.Readable.destroy;
      o.exports = u.Readable, o.exports._uint8ArrayToBuffer = u._uint8ArrayToBuffer, o.exports._isUint8Array = u._isUint8Array, o.exports.isDisturbed = u.isDisturbed, o.exports.isErrored = u.isErrored, o.exports.isReadable = u.isReadable, o.exports.Readable = u.Readable, o.exports.Writable = u.Writable, o.exports.Duplex = u.Duplex, o.exports.Transform = u.Transform, o.exports.PassThrough = u.PassThrough, o.exports.addAbortSignal = u.addAbortSignal, o.exports.finished = u.finished, o.exports.destroy = u.destroy, o.exports.destroy = f, o.exports.pipeline = u.pipeline, o.exports.compose = u.compose, Object.defineProperty(u, "promises", {
        configurable: !0,
        enumerable: !0,
        get() {
          return c;
        }
      }), o.exports.Stream = u.Stream, o.exports.default = o.exports;
    }, { "../stream": 129, "../stream/promises": 130 }], 126: [function(i, o, a) {
      const { format: u, inspect: c, AggregateError: f } = i("./util"), d = globalThis.AggregateError || f, p = Symbol("kIsNodeError"), y = [
        "string",
        "function",
        "number",
        "object",
        // Accept 'Function' and 'Object' as alternative to the lower cased version.
        "Function",
        "Object",
        "boolean",
        "bigint",
        "symbol"
      ], v = /^([A-Z][a-z0-9]*)+$/, g = "__node_internal_", _ = {};
      function b(k, M) {
        if (!k)
          throw new _.ERR_INTERNAL_ASSERTION(M);
      }
      function A(k) {
        let M = "", O = k.length;
        const ie = k[0] === "-" ? 1 : 0;
        for (; O >= ie + 4; O -= 3)
          M = `_${k.slice(O - 3, O)}${M}`;
        return `${k.slice(0, O)}${M}`;
      }
      function w(k, M, O) {
        if (typeof M == "function")
          return b(
            M.length <= O.length,
            // Default options do not count.
            `Code: ${k}; The provided arguments length (${O.length}) does not match the required ones (${M.length}).`
          ), M(...O);
        const ie = (M.match(/%[dfijoOs]/g) || []).length;
        return b(
          ie === O.length,
          `Code: ${k}; The provided arguments length (${O.length}) does not match the required ones (${ie}).`
        ), O.length === 0 ? M : u(M, ...O);
      }
      function S(k, M, O) {
        O || (O = Error);
        class ie extends O {
          constructor(...re) {
            super(w(k, M, re));
          }
          toString() {
            return `${this.name} [${k}]: ${this.message}`;
          }
        }
        Object.defineProperties(ie.prototype, {
          name: {
            value: O.name,
            writable: !0,
            enumerable: !1,
            configurable: !0
          },
          toString: {
            value() {
              return `${this.name} [${k}]: ${this.message}`;
            },
            writable: !0,
            enumerable: !1,
            configurable: !0
          }
        }), ie.prototype.code = k, ie.prototype[p] = !0, _[k] = ie;
      }
      function x(k) {
        const M = g + k.name;
        return Object.defineProperty(k, "name", {
          value: M
        }), k;
      }
      function T(k, M) {
        if (k && M && k !== M) {
          if (Array.isArray(M.errors))
            return M.errors.push(k), M;
          const O = new d([M, k], M.message);
          return O.code = M.code, O;
        }
        return k || M;
      }
      class L extends Error {
        constructor(M = "The operation was aborted", O = void 0) {
          if (O !== void 0 && typeof O != "object")
            throw new _.ERR_INVALID_ARG_TYPE("options", "Object", O);
          super(M, O), this.code = "ABORT_ERR", this.name = "AbortError";
        }
      }
      S("ERR_ASSERTION", "%s", Error), S(
        "ERR_INVALID_ARG_TYPE",
        (k, M, O) => {
          b(typeof k == "string", "'name' must be a string"), Array.isArray(M) || (M = [M]);
          let ie = "The ";
          k.endsWith(" argument") ? ie += `${k} ` : ie += `"${k}" ${k.includes(".") ? "property" : "argument"} `, ie += "must be ";
          const F = [], re = [], D = [];
          for (const z of M)
            b(typeof z == "string", "All expected entries have to be of type string"), y.includes(z) ? F.push(z.toLowerCase()) : v.test(z) ? re.push(z) : (b(z !== "object", 'The value "object" should be written as "Object"'), D.push(z));
          if (re.length > 0) {
            const z = F.indexOf("object");
            z !== -1 && (F.splice(F, z, 1), re.push("Object"));
          }
          if (F.length > 0) {
            switch (F.length) {
              case 1:
                ie += `of type ${F[0]}`;
                break;
              case 2:
                ie += `one of type ${F[0]} or ${F[1]}`;
                break;
              default: {
                const z = F.pop();
                ie += `one of type ${F.join(", ")}, or ${z}`;
              }
            }
            (re.length > 0 || D.length > 0) && (ie += " or ");
          }
          if (re.length > 0) {
            switch (re.length) {
              case 1:
                ie += `an instance of ${re[0]}`;
                break;
              case 2:
                ie += `an instance of ${re[0]} or ${re[1]}`;
                break;
              default: {
                const z = re.pop();
                ie += `an instance of ${re.join(", ")}, or ${z}`;
              }
            }
            D.length > 0 && (ie += " or ");
          }
          switch (D.length) {
            case 0:
              break;
            case 1:
              D[0].toLowerCase() !== D[0] && (ie += "an "), ie += `${D[0]}`;
              break;
            case 2:
              ie += `one of ${D[0]} or ${D[1]}`;
              break;
            default: {
              const z = D.pop();
              ie += `one of ${D.join(", ")}, or ${z}`;
            }
          }
          if (O == null)
            ie += `. Received ${O}`;
          else if (typeof O == "function" && O.name)
            ie += `. Received function ${O.name}`;
          else if (typeof O == "object") {
            var Y;
            if ((Y = O.constructor) !== null && Y !== void 0 && Y.name)
              ie += `. Received an instance of ${O.constructor.name}`;
            else {
              const z = c(O, {
                depth: -1
              });
              ie += `. Received ${z}`;
            }
          } else {
            let z = c(O, {
              colors: !1
            });
            z.length > 25 && (z = `${z.slice(0, 25)}...`), ie += `. Received type ${typeof O} (${z})`;
          }
          return ie;
        },
        TypeError
      ), S(
        "ERR_INVALID_ARG_VALUE",
        (k, M, O = "is invalid") => {
          let ie = c(M);
          return ie.length > 128 && (ie = ie.slice(0, 128) + "..."), `The ${k.includes(".") ? "property" : "argument"} '${k}' ${O}. Received ${ie}`;
        },
        TypeError
      ), S(
        "ERR_INVALID_RETURN_VALUE",
        (k, M, O) => {
          var ie;
          const F = O != null && (ie = O.constructor) !== null && ie !== void 0 && ie.name ? `instance of ${O.constructor.name}` : `type ${typeof O}`;
          return `Expected ${k} to be returned from the "${M}" function but got ${F}.`;
        },
        TypeError
      ), S(
        "ERR_MISSING_ARGS",
        (...k) => {
          b(k.length > 0, "At least one arg needs to be specified");
          let M;
          const O = k.length;
          switch (k = (Array.isArray(k) ? k : [k]).map((ie) => `"${ie}"`).join(" or "), O) {
            case 1:
              M += `The ${k[0]} argument`;
              break;
            case 2:
              M += `The ${k[0]} and ${k[1]} arguments`;
              break;
            default:
              {
                const ie = k.pop();
                M += `The ${k.join(", ")}, and ${ie} arguments`;
              }
              break;
          }
          return `${M} must be specified`;
        },
        TypeError
      ), S(
        "ERR_OUT_OF_RANGE",
        (k, M, O) => {
          b(M, 'Missing "range" argument');
          let ie;
          return Number.isInteger(O) && Math.abs(O) > 2 ** 32 ? ie = A(String(O)) : typeof O == "bigint" ? (ie = String(O), (O > 2n ** 32n || O < -(2n ** 32n)) && (ie = A(ie)), ie += "n") : ie = c(O), `The value of "${k}" is out of range. It must be ${M}. Received ${ie}`;
        },
        RangeError
      ), S("ERR_MULTIPLE_CALLBACK", "Callback called multiple times", Error), S("ERR_METHOD_NOT_IMPLEMENTED", "The %s method is not implemented", Error), S("ERR_STREAM_ALREADY_FINISHED", "Cannot call %s after a stream was finished", Error), S("ERR_STREAM_CANNOT_PIPE", "Cannot pipe, not readable", Error), S("ERR_STREAM_DESTROYED", "Cannot call %s after a stream was destroyed", Error), S("ERR_STREAM_NULL_VALUES", "May not write null values to stream", TypeError), S("ERR_STREAM_PREMATURE_CLOSE", "Premature close", Error), S("ERR_STREAM_PUSH_AFTER_EOF", "stream.push() after EOF", Error), S("ERR_STREAM_UNSHIFT_AFTER_END_EVENT", "stream.unshift() after end event", Error), S("ERR_STREAM_WRITE_AFTER_END", "write after end", Error), S("ERR_UNKNOWN_ENCODING", "Unknown encoding: %s", TypeError), o.exports = {
        AbortError: L,
        aggregateTwoErrors: x(T),
        hideStackFrames: x,
        codes: _
      };
    }, { "./util": 128 }], 127: [function(i, o, a) {
      o.exports = {
        ArrayIsArray(u) {
          return Array.isArray(u);
        },
        ArrayPrototypeIncludes(u, c) {
          return u.includes(c);
        },
        ArrayPrototypeIndexOf(u, c) {
          return u.indexOf(c);
        },
        ArrayPrototypeJoin(u, c) {
          return u.join(c);
        },
        ArrayPrototypeMap(u, c) {
          return u.map(c);
        },
        ArrayPrototypePop(u, c) {
          return u.pop(c);
        },
        ArrayPrototypePush(u, c) {
          return u.push(c);
        },
        ArrayPrototypeSlice(u, c, f) {
          return u.slice(c, f);
        },
        Error,
        FunctionPrototypeCall(u, c, ...f) {
          return u.call(c, ...f);
        },
        FunctionPrototypeSymbolHasInstance(u, c) {
          return Function.prototype[Symbol.hasInstance].call(u, c);
        },
        MathFloor: Math.floor,
        Number,
        NumberIsInteger: Number.isInteger,
        NumberIsNaN: Number.isNaN,
        NumberMAX_SAFE_INTEGER: Number.MAX_SAFE_INTEGER,
        NumberMIN_SAFE_INTEGER: Number.MIN_SAFE_INTEGER,
        NumberParseInt: Number.parseInt,
        ObjectDefineProperties(u, c) {
          return Object.defineProperties(u, c);
        },
        ObjectDefineProperty(u, c, f) {
          return Object.defineProperty(u, c, f);
        },
        ObjectGetOwnPropertyDescriptor(u, c) {
          return Object.getOwnPropertyDescriptor(u, c);
        },
        ObjectKeys(u) {
          return Object.keys(u);
        },
        ObjectSetPrototypeOf(u, c) {
          return Object.setPrototypeOf(u, c);
        },
        Promise,
        PromisePrototypeCatch(u, c) {
          return u.catch(c);
        },
        PromisePrototypeThen(u, c, f) {
          return u.then(c, f);
        },
        PromiseReject(u) {
          return Promise.reject(u);
        },
        ReflectApply: Reflect.apply,
        RegExpPrototypeTest(u, c) {
          return u.test(c);
        },
        SafeSet: Set,
        String,
        StringPrototypeSlice(u, c, f) {
          return u.slice(c, f);
        },
        StringPrototypeToLowerCase(u) {
          return u.toLowerCase();
        },
        StringPrototypeToUpperCase(u) {
          return u.toUpperCase();
        },
        StringPrototypeTrim(u) {
          return u.trim();
        },
        Symbol,
        SymbolFor: Symbol.for,
        SymbolAsyncIterator: Symbol.asyncIterator,
        SymbolHasInstance: Symbol.hasInstance,
        SymbolIterator: Symbol.iterator,
        TypedArrayPrototypeSet(u, c, f) {
          return u.set(c, f);
        },
        Uint8Array
      };
    }, {}], 128: [function(i, o, a) {
      const u = i("buffer"), c = Object.getPrototypeOf(async function() {
      }).constructor, f = globalThis.Blob || u.Blob, d = typeof f < "u" ? function(v) {
        return v instanceof f;
      } : function(v) {
        return !1;
      };
      class p extends Error {
        constructor(v) {
          if (!Array.isArray(v))
            throw new TypeError(`Expected input to be an Array, got ${typeof v}`);
          let g = "";
          for (let _ = 0; _ < v.length; _++)
            g += `    ${v[_].stack}
`;
          super(g), this.name = "AggregateError", this.errors = v;
        }
      }
      o.exports = {
        AggregateError: p,
        kEmptyObject: Object.freeze({}),
        once(y) {
          let v = !1;
          return function(...g) {
            v || (v = !0, y.apply(this, g));
          };
        },
        createDeferredPromise: function() {
          let y, v;
          return {
            promise: new Promise((_, b) => {
              y = _, v = b;
            }),
            resolve: y,
            reject: v
          };
        },
        promisify(y) {
          return new Promise((v, g) => {
            y((_, ...b) => _ ? g(_) : v(...b));
          });
        },
        debuglog() {
          return function() {
          };
        },
        format(y, ...v) {
          return y.replace(/%([sdifj])/g, function(...[g, _]) {
            const b = v.shift();
            return _ === "f" ? b.toFixed(6) : _ === "j" ? JSON.stringify(b) : _ === "s" && typeof b == "object" ? `${b.constructor !== Object ? b.constructor.name : ""} {}`.trim() : b.toString();
          });
        },
        inspect(y) {
          switch (typeof y) {
            case "string":
              if (y.includes("'"))
                if (y.includes('"')) {
                  if (!y.includes("`") && !y.includes("${"))
                    return `\`${y}\``;
                } else
                  return `"${y}"`;
              return `'${y}'`;
            case "number":
              return isNaN(y) ? "NaN" : Object.is(y, -0) ? String(y) : y;
            case "bigint":
              return `${String(y)}n`;
            case "boolean":
            case "undefined":
              return String(y);
            case "object":
              return "{}";
          }
        },
        types: {
          isAsyncFunction(y) {
            return y instanceof c;
          },
          isArrayBufferView(y) {
            return ArrayBuffer.isView(y);
          }
        },
        isBlob: d
      }, o.exports.promisify.custom = Symbol.for("nodejs.util.promisify.custom");
    }, { buffer: 29 }], 129: [function(i, o, a) {
      const { Buffer: u } = i("buffer"), { ObjectDefineProperty: c, ObjectKeys: f, ReflectApply: d } = i("./ours/primordials"), {
        promisify: { custom: p }
      } = i("./ours/util"), { streamReturningOperators: y, promiseReturningOperators: v } = i("./internal/streams/operators"), {
        codes: { ERR_ILLEGAL_CONSTRUCTOR: g }
      } = i("./ours/errors"), _ = i("./internal/streams/compose"), { pipeline: b } = i("./internal/streams/pipeline"), { destroyer: A } = i("./internal/streams/destroy"), w = i("./internal/streams/end-of-stream"), S = i("./stream/promises"), x = i("./internal/streams/utils"), T = o.exports = i("./internal/streams/legacy").Stream;
      T.isDisturbed = x.isDisturbed, T.isErrored = x.isErrored, T.isReadable = x.isReadable, T.Readable = i("./internal/streams/readable");
      for (const k of f(y)) {
        let O = function(...ie) {
          if (new.target)
            throw g();
          return T.Readable.from(d(M, this, ie));
        };
        const M = y[k];
        c(O, "name", {
          __proto__: null,
          value: M.name
        }), c(O, "length", {
          __proto__: null,
          value: M.length
        }), c(T.Readable.prototype, k, {
          __proto__: null,
          value: O,
          enumerable: !1,
          configurable: !0,
          writable: !0
        });
      }
      for (const k of f(v)) {
        let O = function(...ie) {
          if (new.target)
            throw g();
          return d(M, this, ie);
        };
        const M = v[k];
        c(O, "name", {
          __proto__: null,
          value: M.name
        }), c(O, "length", {
          __proto__: null,
          value: M.length
        }), c(T.Readable.prototype, k, {
          __proto__: null,
          value: O,
          enumerable: !1,
          configurable: !0,
          writable: !0
        });
      }
      T.Writable = i("./internal/streams/writable"), T.Duplex = i("./internal/streams/duplex"), T.Transform = i("./internal/streams/transform"), T.PassThrough = i("./internal/streams/passthrough"), T.pipeline = b;
      const { addAbortSignal: L } = i("./internal/streams/add-abort-signal");
      T.addAbortSignal = L, T.finished = w, T.destroy = A, T.compose = _, c(T, "promises", {
        __proto__: null,
        configurable: !0,
        enumerable: !0,
        get() {
          return S;
        }
      }), c(b, p, {
        __proto__: null,
        enumerable: !0,
        get() {
          return S.pipeline;
        }
      }), c(w, p, {
        __proto__: null,
        enumerable: !0,
        get() {
          return S.finished;
        }
      }), T.Stream = T, T._isUint8Array = function(M) {
        return M instanceof Uint8Array;
      }, T._uint8ArrayToBuffer = function(M) {
        return u.from(M.buffer, M.byteOffset, M.byteLength);
      };
    }, { "./internal/streams/add-abort-signal": 107, "./internal/streams/compose": 109, "./internal/streams/destroy": 110, "./internal/streams/duplex": 111, "./internal/streams/end-of-stream": 113, "./internal/streams/legacy": 115, "./internal/streams/operators": 116, "./internal/streams/passthrough": 117, "./internal/streams/pipeline": 118, "./internal/streams/readable": 119, "./internal/streams/transform": 121, "./internal/streams/utils": 122, "./internal/streams/writable": 123, "./ours/errors": 126, "./ours/primordials": 127, "./ours/util": 128, "./stream/promises": 130, buffer: 29 }], 130: [function(i, o, a) {
      const { ArrayPrototypePop: u, Promise: c } = i("../ours/primordials"), { isIterable: f, isNodeStream: d, isWebStream: p } = i("../internal/streams/utils"), { pipelineImpl: y } = i("../internal/streams/pipeline"), { finished: v } = i("../internal/streams/end-of-stream");
      i("../../lib/stream.js");
      function g(..._) {
        return new c((b, A) => {
          let w, S;
          const x = _[_.length - 1];
          if (x && typeof x == "object" && !d(x) && !f(x) && !p(x)) {
            const T = u(_);
            w = T.signal, S = T.end;
          }
          y(
            _,
            (T, L) => {
              T ? A(T) : b(L);
            },
            {
              signal: w,
              end: S
            }
          );
        });
      }
      o.exports = {
        finished: v,
        pipeline: g
      };
    }, { "../../lib/stream.js": 129, "../internal/streams/end-of-stream": 113, "../internal/streams/pipeline": 118, "../internal/streams/utils": 122, "../ours/primordials": 127 }], 131: [function(i, o, a) {
      function u(f, d, p) {
        var y = this;
        this._callback = f, this._args = p, this._interval = setInterval(f, d, this._args), this.reschedule = function(v) {
          v || (v = y._interval), y._interval && clearInterval(y._interval), y._interval = setInterval(y._callback, v, y._args);
        }, this.clear = function() {
          y._interval && (clearInterval(y._interval), y._interval = void 0);
        }, this.destroy = function() {
          y._interval && clearInterval(y._interval), y._callback = void 0, y._interval = void 0, y._args = void 0;
        };
      }
      function c() {
        if (typeof arguments[0] != "function")
          throw new Error("callback needed");
        if (typeof arguments[1] != "number")
          throw new Error("interval needed");
        var f;
        if (arguments.length > 0) {
          f = new Array(arguments.length - 2);
          for (var d = 0; d < f.length; d++)
            f[d] = arguments[d + 2];
        }
        return new u(arguments[0], arguments[1], f);
      }
      o.exports = c;
    }, {}], 132: [function(i, o, a) {
      o.exports = i("./index.js")();
    }, { "./index.js": 133 }], 133: [function(i, o, a) {
      (function(u) {
        (function() {
          o.exports = f;
          function c(p) {
            return p instanceof u ? u.from(p) : new p.constructor(p.buffer.slice(), p.byteOffset, p.length);
          }
          function f(p) {
            if (p = p || {}, p.circles)
              return d(p);
            return p.proto ? g : v;
            function y(_, b) {
              for (var A = Object.keys(_), w = new Array(A.length), S = 0; S < A.length; S++) {
                var x = A[S], T = _[x];
                typeof T != "object" || T === null ? w[x] = T : T instanceof Date ? w[x] = new Date(T) : ArrayBuffer.isView(T) ? w[x] = c(T) : w[x] = b(T);
              }
              return w;
            }
            function v(_) {
              if (typeof _ != "object" || _ === null)
                return _;
              if (_ instanceof Date)
                return new Date(_);
              if (Array.isArray(_))
                return y(_, v);
              if (_ instanceof Map)
                return new Map(y(Array.from(_), v));
              if (_ instanceof Set)
                return new Set(y(Array.from(_), v));
              var b = {};
              for (var A in _)
                if (Object.hasOwnProperty.call(_, A) !== !1) {
                  var w = _[A];
                  typeof w != "object" || w === null ? b[A] = w : w instanceof Date ? b[A] = new Date(w) : w instanceof Map ? b[A] = new Map(y(Array.from(w), v)) : w instanceof Set ? b[A] = new Set(y(Array.from(w), v)) : ArrayBuffer.isView(w) ? b[A] = c(w) : b[A] = v(w);
                }
              return b;
            }
            function g(_) {
              if (typeof _ != "object" || _ === null)
                return _;
              if (_ instanceof Date)
                return new Date(_);
              if (Array.isArray(_))
                return y(_, g);
              if (_ instanceof Map)
                return new Map(y(Array.from(_), g));
              if (_ instanceof Set)
                return new Set(y(Array.from(_), g));
              var b = {};
              for (var A in _) {
                var w = _[A];
                typeof w != "object" || w === null ? b[A] = w : w instanceof Date ? b[A] = new Date(w) : w instanceof Map ? b[A] = new Map(y(Array.from(w), g)) : w instanceof Set ? b[A] = new Set(y(Array.from(w), g)) : ArrayBuffer.isView(w) ? b[A] = c(w) : b[A] = g(w);
              }
              return b;
            }
          }
          function d(p) {
            var y = [], v = [];
            return p.proto ? b : _;
            function g(A, w) {
              for (var S = Object.keys(A), x = new Array(S.length), T = 0; T < S.length; T++) {
                var L = S[T], k = A[L];
                if (typeof k != "object" || k === null)
                  x[L] = k;
                else if (k instanceof Date)
                  x[L] = new Date(k);
                else if (ArrayBuffer.isView(k))
                  x[L] = c(k);
                else {
                  var M = y.indexOf(k);
                  M !== -1 ? x[L] = v[M] : x[L] = w(k);
                }
              }
              return x;
            }
            function _(A) {
              if (typeof A != "object" || A === null)
                return A;
              if (A instanceof Date)
                return new Date(A);
              if (Array.isArray(A))
                return g(A, _);
              if (A instanceof Map)
                return new Map(g(Array.from(A), _));
              if (A instanceof Set)
                return new Set(g(Array.from(A), _));
              var w = {};
              y.push(A), v.push(w);
              for (var S in A)
                if (Object.hasOwnProperty.call(A, S) !== !1) {
                  var x = A[S];
                  if (typeof x != "object" || x === null)
                    w[S] = x;
                  else if (x instanceof Date)
                    w[S] = new Date(x);
                  else if (x instanceof Map)
                    w[S] = new Map(g(Array.from(x), _));
                  else if (x instanceof Set)
                    w[S] = new Set(g(Array.from(x), _));
                  else if (ArrayBuffer.isView(x))
                    w[S] = c(x);
                  else {
                    var T = y.indexOf(x);
                    T !== -1 ? w[S] = v[T] : w[S] = _(x);
                  }
                }
              return y.pop(), v.pop(), w;
            }
            function b(A) {
              if (typeof A != "object" || A === null)
                return A;
              if (A instanceof Date)
                return new Date(A);
              if (Array.isArray(A))
                return g(A, b);
              if (A instanceof Map)
                return new Map(g(Array.from(A), b));
              if (A instanceof Set)
                return new Set(g(Array.from(A), b));
              var w = {};
              y.push(A), v.push(w);
              for (var S in A) {
                var x = A[S];
                if (typeof x != "object" || x === null)
                  w[S] = x;
                else if (x instanceof Date)
                  w[S] = new Date(x);
                else if (x instanceof Map)
                  w[S] = new Map(g(Array.from(x), b));
                else if (x instanceof Set)
                  w[S] = new Set(g(Array.from(x), b));
                else if (ArrayBuffer.isView(x))
                  w[S] = c(x);
                else {
                  var T = y.indexOf(x);
                  T !== -1 ? w[S] = v[T] : w[S] = b(x);
                }
              }
              return y.pop(), v.pop(), w;
            }
          }
        }).call(this);
      }).call(this, i("buffer").Buffer);
    }, { buffer: 29 }], 134: [function(i, o, a) {
      /*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
      var u = i("buffer"), c = u.Buffer;
      function f(p, y) {
        for (var v in p)
          y[v] = p[v];
      }
      c.from && c.alloc && c.allocUnsafe && c.allocUnsafeSlow ? o.exports = u : (f(u, a), a.Buffer = d);
      function d(p, y, v) {
        return c(p, y, v);
      }
      d.prototype = Object.create(c.prototype), f(c, d), d.from = function(p, y, v) {
        if (typeof p == "number")
          throw new TypeError("Argument must not be a number");
        return c(p, y, v);
      }, d.alloc = function(p, y, v) {
        if (typeof p != "number")
          throw new TypeError("Argument must be a number");
        var g = c(p);
        return y !== void 0 ? typeof v == "string" ? g.fill(y, v) : g.fill(y) : g.fill(0), g;
      }, d.allocUnsafe = function(p) {
        if (typeof p != "number")
          throw new TypeError("Argument must be a number");
        return c(p);
      }, d.allocUnsafeSlow = function(p) {
        if (typeof p != "number")
          throw new TypeError("Argument must be a number");
        return u.SlowBuffer(p);
      };
    }, { buffer: 29 }], 135: [function(i, o, a) {
      o.exports = u;
      function u(f) {
        var d = f._readableState;
        return d ? d.objectMode || typeof f._duplexState == "number" ? f.read() : f.read(c(d)) : null;
      }
      function c(f) {
        return f.buffer.length ? f.buffer.head ? f.buffer.head.data.length : f.buffer[0].length : f.length;
      }
    }, {}], 136: [function(i, o, a) {
      arguments[4][28][0].apply(a, arguments);
    }, { dup: 28, "safe-buffer": 134 }], 137: [function(i, o, a) {
      var u = i("punycode"), c = i("./util");
      a.parse = O, a.resolve = F, a.resolveObject = re, a.format = ie, a.Url = f;
      function f() {
        this.protocol = null, this.slashes = null, this.auth = null, this.host = null, this.port = null, this.hostname = null, this.hash = null, this.search = null, this.query = null, this.pathname = null, this.path = null, this.href = null;
      }
      var d = /^([a-z0-9.+-]+:)/i, p = /:[0-9]*$/, y = /^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/, v = ["<", ">", '"', "`", " ", "\r", `
`, "	"], g = ["{", "}", "|", "\\", "^", "`"].concat(v), _ = ["'"].concat(g), b = ["%", "/", "?", ";", "#"].concat(_), A = ["/", "?", "#"], w = 255, S = /^[+a-z0-9A-Z_-]{0,63}$/, x = /^([+a-z0-9A-Z_-]{0,63})(.*)$/, T = {
        javascript: !0,
        "javascript:": !0
      }, L = {
        javascript: !0,
        "javascript:": !0
      }, k = {
        http: !0,
        https: !0,
        ftp: !0,
        gopher: !0,
        file: !0,
        "http:": !0,
        "https:": !0,
        "ftp:": !0,
        "gopher:": !0,
        "file:": !0
      }, M = i("querystring");
      function O(D, Y, z) {
        if (D && c.isObject(D) && D instanceof f)
          return D;
        var pe = new f();
        return pe.parse(D, Y, z), pe;
      }
      f.prototype.parse = function(D, Y, z) {
        if (!c.isString(D))
          throw new TypeError("Parameter 'url' must be a string, not " + typeof D);
        var pe = D.indexOf("?"), ue = pe !== -1 && pe < D.indexOf("#") ? "?" : "#", Ce = D.split(ue), Fe = /\\/g;
        Ce[0] = Ce[0].replace(Fe, "/"), D = Ce.join(ue);
        var Ie = D;
        if (Ie = Ie.trim(), !z && D.split("#").length === 1) {
          var Pt = y.exec(Ie);
          if (Pt)
            return this.path = Ie, this.href = Ie, this.pathname = Pt[1], Pt[2] ? (this.search = Pt[2], Y ? this.query = M.parse(this.search.substr(1)) : this.query = this.search.substr(1)) : Y && (this.search = "", this.query = {}), this;
        }
        var xe = d.exec(Ie);
        if (xe) {
          xe = xe[0];
          var Lt = xe.toLowerCase();
          this.protocol = Lt, Ie = Ie.substr(xe.length);
        }
        if (z || xe || Ie.match(/^\/\/[^@\/]+@[^@\/]+/)) {
          var _n = Ie.substr(0, 2) === "//";
          _n && !(xe && L[xe]) && (Ie = Ie.substr(2), this.slashes = !0);
        }
        if (!L[xe] && (_n || xe && !k[xe])) {
          for (var In = -1, jt = 0; jt < A.length; jt++) {
            var he = Ie.indexOf(A[jt]);
            he !== -1 && (In === -1 || he < In) && (In = he);
          }
          var At, kt;
          In === -1 ? kt = Ie.lastIndexOf("@") : kt = Ie.lastIndexOf("@", In), kt !== -1 && (At = Ie.slice(0, kt), Ie = Ie.slice(kt + 1), this.auth = decodeURIComponent(At)), In = -1;
          for (var jt = 0; jt < b.length; jt++) {
            var he = Ie.indexOf(b[jt]);
            he !== -1 && (In === -1 || he < In) && (In = he);
          }
          In === -1 && (In = Ie.length), this.host = Ie.slice(0, In), Ie = Ie.slice(In), this.parseHost(), this.hostname = this.hostname || "";
          var Cn = this.hostname[0] === "[" && this.hostname[this.hostname.length - 1] === "]";
          if (!Cn)
            for (var ze = this.hostname.split(/\./), jt = 0, _e = ze.length; jt < _e; jt++) {
              var de = ze[jt];
              if (de && !de.match(S)) {
                for (var Et = "", Oe = 0, Ve = de.length; Oe < Ve; Oe++)
                  de.charCodeAt(Oe) > 127 ? Et += "x" : Et += de[Oe];
                if (!Et.match(S)) {
                  var Dt = ze.slice(0, jt), hn = ze.slice(jt + 1), bn = de.match(x);
                  bn && (Dt.push(bn[1]), hn.unshift(bn[2])), hn.length && (Ie = "/" + hn.join(".") + Ie), this.hostname = Dt.join(".");
                  break;
                }
              }
            }
          this.hostname.length > w ? this.hostname = "" : this.hostname = this.hostname.toLowerCase(), Cn || (this.hostname = u.toASCII(this.hostname));
          var oe = this.port ? ":" + this.port : "", le = this.hostname || "";
          this.host = le + oe, this.href += this.host, Cn && (this.hostname = this.hostname.substr(1, this.hostname.length - 2), Ie[0] !== "/" && (Ie = "/" + Ie));
        }
        if (!T[Lt])
          for (var jt = 0, _e = _.length; jt < _e; jt++) {
            var j = _[jt];
            if (Ie.indexOf(j) !== -1) {
              var V = encodeURIComponent(j);
              V === j && (V = escape(j)), Ie = Ie.split(j).join(V);
            }
          }
        var $ = Ie.indexOf("#");
        $ !== -1 && (this.hash = Ie.substr($), Ie = Ie.slice(0, $));
        var ae = Ie.indexOf("?");
        if (ae !== -1 ? (this.search = Ie.substr(ae), this.query = Ie.substr(ae + 1), Y && (this.query = M.parse(this.query)), Ie = Ie.slice(0, ae)) : Y && (this.search = "", this.query = {}), Ie && (this.pathname = Ie), k[Lt] && this.hostname && !this.pathname && (this.pathname = "/"), this.pathname || this.search) {
          var oe = this.pathname || "", Ne = this.search || "";
          this.path = oe + Ne;
        }
        return this.href = this.format(), this;
      };
      function ie(D) {
        return c.isString(D) && (D = O(D)), D instanceof f ? D.format() : f.prototype.format.call(D);
      }
      f.prototype.format = function() {
        var D = this.auth || "";
        D && (D = encodeURIComponent(D), D = D.replace(/%3A/i, ":"), D += "@");
        var Y = this.protocol || "", z = this.pathname || "", pe = this.hash || "", ue = !1, Ce = "";
        this.host ? ue = D + this.host : this.hostname && (ue = D + (this.hostname.indexOf(":") === -1 ? this.hostname : "[" + this.hostname + "]"), this.port && (ue += ":" + this.port)), this.query && c.isObject(this.query) && Object.keys(this.query).length && (Ce = M.stringify(this.query));
        var Fe = this.search || Ce && "?" + Ce || "";
        return Y && Y.substr(-1) !== ":" && (Y += ":"), this.slashes || (!Y || k[Y]) && ue !== !1 ? (ue = "//" + (ue || ""), z && z.charAt(0) !== "/" && (z = "/" + z)) : ue || (ue = ""), pe && pe.charAt(0) !== "#" && (pe = "#" + pe), Fe && Fe.charAt(0) !== "?" && (Fe = "?" + Fe), z = z.replace(/[?#]/g, function(Ie) {
          return encodeURIComponent(Ie);
        }), Fe = Fe.replace("#", "%23"), Y + ue + z + Fe + pe;
      };
      function F(D, Y) {
        return O(D, !1, !0).resolve(Y);
      }
      f.prototype.resolve = function(D) {
        return this.resolveObject(O(D, !1, !0)).format();
      };
      function re(D, Y) {
        return D ? O(D, !1, !0).resolveObject(Y) : Y;
      }
      f.prototype.resolveObject = function(D) {
        if (c.isString(D)) {
          var Y = new f();
          Y.parse(D, !1, !0), D = Y;
        }
        for (var z = new f(), pe = Object.keys(this), ue = 0; ue < pe.length; ue++) {
          var Ce = pe[ue];
          z[Ce] = this[Ce];
        }
        if (z.hash = D.hash, D.href === "")
          return z.href = z.format(), z;
        if (D.slashes && !D.protocol) {
          for (var Fe = Object.keys(D), Ie = 0; Ie < Fe.length; Ie++) {
            var Pt = Fe[Ie];
            Pt !== "protocol" && (z[Pt] = D[Pt]);
          }
          return k[z.protocol] && z.hostname && !z.pathname && (z.path = z.pathname = "/"), z.href = z.format(), z;
        }
        if (D.protocol && D.protocol !== z.protocol) {
          if (!k[D.protocol]) {
            for (var xe = Object.keys(D), Lt = 0; Lt < xe.length; Lt++) {
              var _n = xe[Lt];
              z[_n] = D[_n];
            }
            return z.href = z.format(), z;
          }
          if (z.protocol = D.protocol, !D.host && !L[D.protocol]) {
            for (var _e = (D.pathname || "").split("/"); _e.length && !(D.host = _e.shift()); )
              ;
            D.host || (D.host = ""), D.hostname || (D.hostname = ""), _e[0] !== "" && _e.unshift(""), _e.length < 2 && _e.unshift(""), z.pathname = _e.join("/");
          } else
            z.pathname = D.pathname;
          if (z.search = D.search, z.query = D.query, z.host = D.host || "", z.auth = D.auth, z.hostname = D.hostname || D.host, z.port = D.port, z.pathname || z.search) {
            var In = z.pathname || "", jt = z.search || "";
            z.path = In + jt;
          }
          return z.slashes = z.slashes || D.slashes, z.href = z.format(), z;
        }
        var he = z.pathname && z.pathname.charAt(0) === "/", At = D.host || D.pathname && D.pathname.charAt(0) === "/", kt = At || he || z.host && D.pathname, Cn = kt, ze = z.pathname && z.pathname.split("/") || [], _e = D.pathname && D.pathname.split("/") || [], de = z.protocol && !k[z.protocol];
        if (de && (z.hostname = "", z.port = null, z.host && (ze[0] === "" ? ze[0] = z.host : ze.unshift(z.host)), z.host = "", D.protocol && (D.hostname = null, D.port = null, D.host && (_e[0] === "" ? _e[0] = D.host : _e.unshift(D.host)), D.host = null), kt = kt && (_e[0] === "" || ze[0] === "")), At)
          z.host = D.host || D.host === "" ? D.host : z.host, z.hostname = D.hostname || D.hostname === "" ? D.hostname : z.hostname, z.search = D.search, z.query = D.query, ze = _e;
        else if (_e.length)
          ze || (ze = []), ze.pop(), ze = ze.concat(_e), z.search = D.search, z.query = D.query;
        else if (!c.isNullOrUndefined(D.search)) {
          if (de) {
            z.hostname = z.host = ze.shift();
            var Et = z.host && z.host.indexOf("@") > 0 ? z.host.split("@") : !1;
            Et && (z.auth = Et.shift(), z.host = z.hostname = Et.shift());
          }
          return z.search = D.search, z.query = D.query, (!c.isNull(z.pathname) || !c.isNull(z.search)) && (z.path = (z.pathname ? z.pathname : "") + (z.search ? z.search : "")), z.href = z.format(), z;
        }
        if (!ze.length)
          return z.pathname = null, z.search ? z.path = "/" + z.search : z.path = null, z.href = z.format(), z;
        for (var Oe = ze.slice(-1)[0], Ve = (z.host || D.host || ze.length > 1) && (Oe === "." || Oe === "..") || Oe === "", Dt = 0, hn = ze.length; hn >= 0; hn--)
          Oe = ze[hn], Oe === "." ? ze.splice(hn, 1) : Oe === ".." ? (ze.splice(hn, 1), Dt++) : Dt && (ze.splice(hn, 1), Dt--);
        if (!kt && !Cn)
          for (; Dt--; Dt)
            ze.unshift("..");
        kt && ze[0] !== "" && (!ze[0] || ze[0].charAt(0) !== "/") && ze.unshift(""), Ve && ze.join("/").substr(-1) !== "/" && ze.push("");
        var bn = ze[0] === "" || ze[0] && ze[0].charAt(0) === "/";
        if (de) {
          z.hostname = z.host = bn ? "" : ze.length ? ze.shift() : "";
          var Et = z.host && z.host.indexOf("@") > 0 ? z.host.split("@") : !1;
          Et && (z.auth = Et.shift(), z.host = z.hostname = Et.shift());
        }
        return kt = kt || z.host && ze.length, kt && !bn && ze.unshift(""), ze.length ? z.pathname = ze.join("/") : (z.pathname = null, z.path = null), (!c.isNull(z.pathname) || !c.isNull(z.search)) && (z.path = (z.pathname ? z.pathname : "") + (z.search ? z.search : "")), z.auth = D.auth || z.auth, z.slashes = z.slashes || D.slashes, z.href = z.format(), z;
      }, f.prototype.parseHost = function() {
        var D = this.host, Y = p.exec(D);
        Y && (Y = Y[0], Y !== ":" && (this.port = Y.substr(1)), D = D.substr(0, D.length - Y.length)), D && (this.hostname = D);
      };
    }, { "./util": 138, punycode: 103, querystring: 106 }], 138: [function(i, o, a) {
      o.exports = {
        isString: function(u) {
          return typeof u == "string";
        },
        isObject: function(u) {
          return typeof u == "object" && u !== null;
        },
        isNull: function(u) {
          return u === null;
        },
        isNullOrUndefined: function(u) {
          return u == null;
        }
      };
    }, {}], 139: [function(i, o, a) {
      (function(u) {
        (function() {
          o.exports = c;
          function c(d, p) {
            if (f("noDeprecation"))
              return d;
            var y = !1;
            function v() {
              if (!y) {
                if (f("throwDeprecation"))
                  throw new Error(p);
                f("traceDeprecation") ? console.trace(p) : console.warn(p), y = !0;
              }
              return d.apply(this, arguments);
            }
            return v;
          }
          function f(d) {
            try {
              if (!u.localStorage)
                return !1;
            } catch {
              return !1;
            }
            var p = u.localStorage[d];
            return p == null ? !1 : String(p).toLowerCase() === "true";
          }
        }).call(this);
      }).call(this, typeof commonjsGlobal < "u" ? commonjsGlobal : typeof self < "u" ? self : typeof window < "u" ? window : {});
    }, {}], 140: [function(i, o, a) {
      o.exports = u;
      function u(c, f) {
        if (c && f)
          return u(c)(f);
        if (typeof c != "function")
          throw new TypeError("need wrapper function");
        return Object.keys(c).forEach(function(p) {
          d[p] = c[p];
        }), d;
        function d() {
          for (var p = new Array(arguments.length), y = 0; y < p.length; y++)
            p[y] = arguments[y];
          var v = c.apply(this, p), g = p[p.length - 1];
          return typeof v == "function" && v !== g && Object.keys(g).forEach(function(_) {
            v[_] = g[_];
          }), v;
        }
      }
    }, {}], 141: [function(i, o, a) {
      o.exports = function() {
        throw new Error(
          "ws does not work in the browser. Browser clients must use the native WebSocket object"
        );
      };
    }, {}] }, {}, [23])(23);
  });
})(mqtt);
var mqttExports = mqtt.exports;
let client;
const sub = (r, n, i, o, a) => {
  const u = r.trim();
  if (!/^wss?:\/\/.*$/.test(u)) {
    console.error('编辑器MQTT通信只支持ws协议 (url必须以"ws://"开头)');
    return;
  }
  client = mqttExports.connect(u, {
    username: n.trim(),
    password: i.trim(),
    reconnectPeriod: 6e5
    /*如果连不上，10分钟后重试*/
  }), client.on("connect", () => {
    console.log("MQTT服务器连接成功"), console.log(client.options.clientId), client.subscribe(o, { qos: 1 });
  }), client.on("message", a);
}, close = () => {
  client && client.end && client.end(!0, {}, () => {
    console.log("MQTT服务连接关闭");
  });
}, _hoisted_1 = ["transform"], _hoisted_2 = ["transform", "onClick"], _hoisted_3 = ["transform"], _hoisted_4 = ["xlink:href", "width", "height", "id", "transform"], _hoisted_5 = ["id"], _sfc_main = /* @__PURE__ */ defineComponent({
  __name: "svg-viewer",
  props: {
    vueComp: {},
    data: {},
    canvasDrag: { type: Boolean, default: !0 }
  },
  emits: ["onMessage"],
  setup(r, { expose: n, emit: i }) {
    const o = r;
    useCssVars((S) => ({
      "95589e5a": unref(c)
    })), setEditorLoadTime();
    const a = useGlobalStore(pinia);
    componentsRegister(o.vueComp);
    const u = reactive(
      o.data ?? {
        layout_center: {
          x: 0,
          y: 0
        },
        config: {
          svg: {
            background_color: "#fff",
            scale: 1,
            grid_color: "#ebebeb"
          },
          net: {
            mqtt: {
              url: "",
              user: "",
              pwd: "",
              topics: ""
            }
          }
        },
        done_json: []
      }
    ), c = computed(() => a.intention == EGlobalStoreIntention.MoveCanvas ? "grab" : "default"), f = (S) => {
      if (a.mouse_info.state != EMouseInfoState.Down && a.intention !== EGlobalStoreIntention.Connection || !o.canvasDrag)
        return;
      const { clientX: x, clientY: T } = S;
      a.mouse_info.new_position_x = a.mouse_info.now_position_x + x - a.mouse_info.position_x, a.mouse_info.new_position_y = a.mouse_info.now_position_y + T - a.mouse_info.position_y, a.intention == EGlobalStoreIntention.MoveCanvas && (u.layout_center.x = a.mouse_info.new_position_x, u.layout_center.y = a.mouse_info.new_position_y);
    }, d = () => {
      a.mouse_info.state == EMouseInfoState.Down && (a.intention != EGlobalStoreIntention.Select && (a.intention = EGlobalStoreIntention.None), a.mouse_info = {
        state: EMouseInfoState.Up,
        position_x: 0,
        position_y: 0,
        now_position_x: 0,
        now_position_y: 0,
        new_position_x: 0,
        new_position_y: 0
      });
    }, p = (S) => {
      const { clientX: x, clientY: T } = S;
      a.intention = EGlobalStoreIntention.MoveCanvas, a.mouse_info = {
        state: EMouseInfoState.Down,
        position_x: x,
        position_y: T,
        now_position_x: u.layout_center.x,
        now_position_y: u.layout_center.y,
        new_position_x: u.layout_center.x,
        new_position_y: u.layout_center.y
      };
    };
    function y(S) {
      S != null && S.wheelDelta && (S.wheelDelta > 0 ? u.config.svg.scale = parseFloat((u.config.svg.scale + 0.1).toFixed(1)) : u.config.svg.scale = parseFloat((u.config.svg.scale - 0.1).toFixed(1)));
    }
    const v = (S, x, T) => ({
      x: S.x - S.width / 2 * x + S.width / 2,
      y: S.y - S.height / 2 * T + S.height / 2,
      width: S.width * x,
      height: S.height * T
    }), g = (S) => {
      var T;
      let x = !1;
      if (((T = S.events) == null ? void 0 : T.length) > 0) {
        for (let L of S.events)
          if (L.type === EEventType.Click) {
            x = !0;
            break;
          }
      }
      return { cursor: x ? "pointer" : "default" };
    }, _ = (S, x) => {
      var T;
      if (console.log(S.events, x), ((T = S.events) == null ? void 0 : T.length) > 0) {
        for (let L of S.events)
          if (L.type === x) {
            if (L.condition && L.condition.type !== "None" && L.condition.type === "Relation" && L.condition.Relation && L.condition.Relation.relation) {
              const k = L.condition.Relation.key, M = L.condition.Relation.relation, O = valFormat(L.condition.Relation.val), ie = valFormat(L.condition.Relation.val2);
              if (S.props.hasOwnProperty(k)) {
                const F = S.props[k].val;
                if (!b(F, M, O, ie))
                  continue;
              }
            }
            if (L.action === EEventAction.ChangeAttr) {
              if (L.attrs && L.attrs.length > 0) {
                let k;
                if (L.target) {
                  for (let M of u.done_json)
                    if (M.id === L.target) {
                      k = M;
                      break;
                    }
                } else
                  k = S;
                if (!k)
                  continue;
                for (let M of L.attrs)
                  M.key === "state" ? k.defaultState = valFormat(M.val) : k.props.hasOwnProperty(M.key) && (k.props[M.key].val = valFormat(M.val));
              }
            } else
              L.action === EEventAction.JavaScript && new Function(L.scripts)();
          }
      }
    }, b = (S, x, T, L) => {
      switch (x) {
        case ">":
          return S > T;
        case ">=":
          return S >= T;
        case "<":
          return S < T;
        case "<=":
          return S <= T;
        case "==":
          return S == T;
        case "!=":
          return S != T;
        case ">=,=<":
          return S >= T && S <= L;
        case "<,>":
          return S < T || S > L;
      }
    }, A = () => {
      const S = u.config.net.mqtt;
      S && S.url && S.user && S.pwd && S.topics && sub(S.url, S.user, S.pwd, S.topics, (x, T) => {
        console.log(x), console.log(T.toString()), i("onMessage", {
          topics: x,
          message: T
        });
      });
    }, w = (S, x, T) => setArrItemByID(S, x, T, u.done_json);
    return onMounted(() => {
      A();
    }), onBeforeUnmount(close), n({
      setNodeAttrByID: w
    }), (S, x) => (openBlock(), createElementBlock("div", {
      class: "canvas",
      onMousedown: p,
      onMousemove: f,
      onMouseup: d,
      onMousewheel: y,
      onContextmenu: x[4] || (x[4] = //@ts-ignore
      (...T) => unref(preventDefault) && unref(preventDefault)(...T))
    }, [
      (openBlock(), createElementBlock("svg", {
        xmlns: "http://www.w3.org/2000/svg",
        style: normalizeStyle$1({ backgroundColor: unref(u).config.svg.background_color }),
        width: "100%",
        height: "100%"
      }, [
        createElementVNode("g", {
          transform: `translate(${unref(u).layout_center.x},${unref(u).layout_center.y})rotate(0)scale(${unref(u).config.svg.scale})`
        }, [
          (openBlock(!0), createElementBlock(Fragment, null, renderList(unref(u).done_json, (T) => {
            var L, k, M, O, ie, F, re, D;
            return withDirectives((openBlock(), createElementBlock("g", {
              key: T.id,
              transform: `translate(${T.x},${T.y})rotate(0)scale(1)`,
              style: normalizeStyle$1(g(T)),
              onClick: (Y) => _(T, unref(EEventType).Click),
              onMousedown: x[0] || (x[0] = //@ts-ignore
              (...Y) => unref(stopEvent) && unref(stopEvent)(...Y)),
              onMousemove: x[1] || (x[1] = //@ts-ignore
              (...Y) => unref(stopEvent) && unref(stopEvent)(...Y)),
              onMouseup: x[2] || (x[2] = //@ts-ignore
              (...Y) => unref(stopEvent) && unref(stopEvent)(...Y)),
              onMousewheel: x[3] || (x[3] = //@ts-ignore
              (...Y) => unref(stopEvent) && unref(stopEvent)(...Y))
            }, [
              createElementVNode("g", {
                class: normalizeClass(`${unref(getCommonClass)(T)}`)
              }, [
                createElementVNode("g", {
                  transform: `translate(${T.actual_bound.x + T.actual_bound.width / 2},${T.actual_bound.y + T.actual_bound.height / 2})rotate(${T.rotate}) scale(1) translate(${-(T.actual_bound.x + T.actual_bound.width / 2)},${-(T.actual_bound.y + T.actual_bound.height / 2)})`
                }, [
                  T.type === unref(EDoneJsonType).ConnectionLine ? (openBlock(), createBlock(_sfc_main$y, {
                    key: 0,
                    "item-info": T
                  }, null, 8, ["item-info"])) : T.type === unref(EDoneJsonType).File ? (openBlock(), createElementBlock("use", mergeProps({
                    key: 1,
                    "xlink:href": `#svg-${T.name}`
                  }, unref(prosToVBind)(T, ["height", "width"]), {
                    width: ((k = (L = T.props) == null ? void 0 : L.width) == null ? void 0 : k.val) ?? 100,
                    height: ((O = (M = T.props) == null ? void 0 : M.height) == null ? void 0 : O.val) ?? 100,
                    id: T.id,
                    transform: `translate(${T.actual_bound.x + T.actual_bound.width / 2},${T.actual_bound.y + T.actual_bound.height / 2}) scale(${T.scale_x},${T.scale_y}) translate(${-(T.actual_bound.x + T.actual_bound.width / 2)},${-(T.actual_bound.y + T.actual_bound.height / 2)})`
                  }), null, 16, _hoisted_4)) : T.type === unref(EDoneJsonType).CustomSvg ? (openBlock(), createBlock(resolveDynamicComponent(T.tag), mergeProps({ key: 2 }, unref(prosToVBind)(T, ["height", "width"]), {
                    width: ((F = (ie = T.props) == null ? void 0 : ie.width) == null ? void 0 : F.val) ?? 100,
                    height: ((D = (re = T.props) == null ? void 0 : re.height) == null ? void 0 : D.val) ?? 100,
                    id: T.id,
                    onOnChange: (Y) => _(T, unref(EEventType).Change),
                    transform: `translate(${T.actual_bound.x + T.actual_bound.width / 2},${T.actual_bound.y + T.actual_bound.height / 2}) scale(${T.scale_x},${T.scale_y}) translate(${-(T.actual_bound.x + T.actual_bound.width / 2)},${-(T.actual_bound.y + T.actual_bound.height / 2)})`
                  }), null, 16, ["width", "height", "id", "onOnChange", "transform"])) : T.type === unref(EDoneJsonType).Vue ? (openBlock(), createElementBlock("foreignObject", mergeProps({ key: 3 }, v(T.actual_bound, T.scale_x, T.scale_y), {
                    id: `foreign-object${T.id}`,
                    class: "foreignObject"
                  }), [
                    (openBlock(), createBlock(resolveDynamicComponent(T.tag), mergeProps(unref(prosToVBind)(T), {
                      id: T.id,
                      onOnChange: (Y) => _(T, unref(EEventType).Change),
                      transform: `translate(${T.actual_bound.x + T.actual_bound.width / 2},${T.actual_bound.y + T.actual_bound.height / 2}) scale(${T.scale_x},${T.scale_y}) translate(${-(T.actual_bound.x + T.actual_bound.width / 2)},${-(T.actual_bound.y + T.actual_bound.height / 2)})`
                    }), {
                      default: withCtx(() => [
                        createTextVNode(toDisplayString(T.tag_slot), 1)
                      ]),
                      _: 2
                    }, 1040, ["id", "onOnChange", "transform"]))
                  ], 16, _hoisted_5)) : createCommentVNode("", !0)
                ], 8, _hoisted_3)
              ], 2)
            ], 44, _hoisted_2)), [
              [vShow, T.display]
            ]);
          }), 128))
        ], 8, _hoisted_1)
      ], 4))
    ], 32));
  }
}), svgViewer_vue_vue_type_style_index_0_scoped_c4bb0b2d_lang = "", svgViewer = /* @__PURE__ */ _export_sfc$1(_sfc_main, [["__scopeId", "data-v-c4bb0b2d"]]);
export {
  index as SvgEditor,
  svgViewer as SvgViewer
};
