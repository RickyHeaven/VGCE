var ur = Object.defineProperty;
var cr = (i, r, n) => r in i ? ur(i, r, { enumerable: !0, configurable: !0, writable: !0, value: n }) : i[r] = n;
var tr = (i, r, n) => (cr(i, typeof r != "symbol" ? r + "" : r, n), n);
import { defineComponent, watch, openBlock, createBlock, unref, createElementBlock, createElementVNode, nextTick, normalizeStyle as normalizeStyle$1, toDisplayString, ref, watchEffect, normalizeProps, guardReactiveProps, withCtx, Fragment, renderList, mergeProps, computed, onMounted, onUnmounted, provide, reactive, getCurrentInstance, createVNode as createVNode$1, normalizeClass, isRef, pushScopeId, popScopeId, useCssVars, withDirectives, vShow, createCommentVNode, renderSlot, resolveDynamicComponent, createTextVNode, h, markRaw, capitalize, getCurrentScope, onScopeDispose, warn as warn$1, inject, shallowRef, onBeforeUnmount, onBeforeMount, toRef, toRefs, onUpdated, useSlots, TransitionGroup, useAttrs as useAttrs$1, withModifiers, Transition, onActivated, cloneVNode, Text, Comment, Teleport as Teleport$1, readonly, onDeactivated, toRaw, resolveComponent, resolveDirective, toHandlerKey, withKeys, vModelText } from "vue";
import { ElProgress, ElTable, ElTableColumn, ElButton, ElTag as ElTag$1, ElMessage, ElIcon as ElIcon$1, ElDivider, ElDialog, ElScrollbar as ElScrollbar$1, ElCollapse, ElCollapseItem, ElFormItem as ElFormItem$1, ElTooltip as ElTooltip$1, ElSelect as ElSelect$1, ElOption as ElOption$1, ElInputNumber, ElInput as ElInput$1, ElColorPicker, ElSwitch, ElDrawer, ElTabs, ElTabPane, ElTree, ElForm, ElContainer, ElHeader, ElAside, ElMain, ElUpload, ElMessageBox } from "element-plus";
import "animate.css";
import VChart, { THEME_KEY } from "vue-echarts";
import { defineStore, createPinia } from "pinia";
import { kebabCase, isEmpty, get as get$1, set as set$1, fromPairs, pick, castArray, clone as clone$3, isNil, isUndefined as isUndefined$1, isEqual, debounce, findLastIndex } from "lodash-es";
import ace from "ace-builds";
const windi = "";
if (typeof window < "u") {
  let i = function() {
    var r = document.body, n = document.getElementById("__svg__icons__dom__");
    n || (n = document.createElementNS("http://www.w3.org/2000/svg", "svg"), n.style.position = "absolute", n.style.width = "0", n.style.height = "0", n.id = "__svg__icons__dom__", n.setAttribute("xmlns", "http://www.w3.org/2000/svg"), n.setAttribute("xmlns:link", "http://www.w3.org/1999/xlink")), n.innerHTML = `<symbol class="icon" viewBox="0 0 1024 1024"   id="svg-alert-light">\r
    <path d="M779.7248 452.1984c0-123.904-103.8848-224.3584-232.0384-224.3584S315.648 328.2944 315.648 452.1984c0 89.3952 54.1184 166.5536 132.4032 202.6496 0.3072 0.1536 0.6144 0.3072 0.9728 0.4096v63.488h197.376v-63.5392c78.7456-35.7888 133.3248-113.2032 133.3248-203.008z" p-id="1733" />\r
    <path d="M535.5008 234.7008s147.3536 98.7648 144.7424 233.984c0 72.9088-84.2752 145.4592-108.4416 157.184 0 52.9408 0.512 90.2144 0.512 90.2144l27.4432 2.7136 5.6832-63.5392 79.616-55.9616 53.7088-113.5616-11.776-104.1408-36.9152-73.3184-79.7696-56.832-74.8032-16.7424z" fill="#888" fill-opacity=".2" p-id="1734" />\r
    <path d="M605.3888 729.0368H408.0128c-5.632 0-10.24-4.608-10.24-10.24v-57.0368c-76.9024-37.5296-127.6416-111.7696-132.864-195.0208-0.3584-5.632 3.9424-10.496 9.5744-10.8544 5.6832-0.3072 10.496 3.9424 10.8544 9.5744 4.9152 77.5168 53.1968 146.5344 126.0032 180.0704l0.9216 0.4096c3.6352 1.6896 5.9392 5.3248 5.9392 9.3184v53.2992h176.896v-53.2992c0-3.9936 2.3552-7.68 5.9904-9.3184 77.3632-35.2256 127.3344-111.2576 127.3344-193.7408 0-118.0672-99.4816-214.1184-221.7984-214.1184-64.6656 0-125.952 27.1872-168.192 74.5472-3.7888 4.1984-10.24 4.608-14.4384 0.8192-4.1984-3.7888-4.608-10.24-0.8192-14.4384 46.08-51.712 112.9984-81.408 183.5008-81.408 133.5808 0 242.2784 105.216 242.2784 234.5984 0 88.32-52.1216 169.8816-133.3248 209.5616v57.0368c0 5.6832-4.5568 10.24-10.24 10.24z" fill="#010101" fill-opacity="1" p-id="1735" />\r
    <path d="M277.4528 427.8784c-0.5632 0-1.0752-0.0512-1.6384-0.1536a10.25024 10.25024 0 0 1-8.4992-11.7248c3.4816-21.8624 10.1888-43.0592 19.8144-63.0784 2.4576-5.12 8.6016-7.2192 13.6704-4.7616 5.0688 2.4576 7.2192 8.6016 4.7616 13.6704-8.8064 18.176-14.848 37.5296-18.0224 57.3952-0.8192 5.0688-5.1712 8.6528-10.0864 8.6528z" fill="#010101" fill-opacity="1" p-id="1736" />\r
    <path d="M606.4128 954.5728H478.3104c-39.5264 0-71.5776-32.0512-71.5776-71.5776v-164.1984h271.2576v164.1984c0 39.5776-32.0512 71.5776-71.5776 71.5776z" fill="#58DDDA" fill-opacity="1" p-id="1737" />\r
    <path d="M573.7472 724.9408v178.432s3.9424 38.7072-31.3856 51.2512c51.968 0 99.328-3.1744 99.328-86.528v-143.1552h-67.9424z" fill="#3BCCC8" fill-opacity="1" p-id="1738" />\r
    <path d="M570.1632 964.8128H442.0608c-45.1072 0-81.8176-36.7104-81.8176-81.8176v-164.1984c0-5.632 4.608-10.24 10.24-10.24h271.2576c5.632 0 10.24 4.608 10.24 10.24v164.1984c0 45.1584-36.7104 81.8176-81.8176 81.8176z m-189.44-235.776v153.9584c0 33.792 27.4944 61.3376 61.3376 61.3376h128.1024c33.792 0 61.3376-27.4944 61.3376-61.3376v-153.9584H380.7232z" fill="#010101" fill-opacity="1" p-id="1739" />\r
    <path d="M525.2608 175.0528c-16.9472 0-30.72-13.7728-30.72-30.72V92.5696c0-16.9472 13.7728-30.72 30.72-30.72s30.72 13.7728 30.72 30.72v51.7632c0 16.9472-13.7216 30.72-30.72 30.72zM361.4208 215.5008c-10.752 0-21.1968-5.632-26.8288-15.6672l-25.344-45.1072c-8.2944-14.7968-3.072-33.536 11.7248-41.8304s33.4848-3.072 41.8304 11.7248l25.344 45.1072c8.2944 14.7968 3.072 33.536-11.7248 41.8304-4.7104 2.6624-9.8816 3.9424-15.0016 3.9424zM246.3744 337.2032c-5.3248 0-10.7008-1.3824-15.5648-4.2496l-44.544-26.3168c-14.592-8.6016-19.456-27.4432-10.8544-42.0864 8.6016-14.592 27.4944-19.456 42.0864-10.8544l44.544 26.3168c14.592 8.6016 19.456 27.4432 10.8544 42.0864a30.91968 30.91968 0 0 1-26.5216 15.104zM199.2704 499.5584h-0.2048l-51.7632-0.3072a30.71488 30.71488 0 0 1-30.5152-30.9248c0.1024-16.896 13.824-30.5152 30.72-30.5152h0.2048l51.7632 0.3072c16.9472 0.1024 30.6176 13.9264 30.5152 30.9248-0.1024 16.896-13.824 30.5152-30.72 30.5152zM198.3488 687.2064a30.69952 30.69952 0 0 1-15.7184-57.088l44.4928-26.4704c14.592-8.704 33.4336-3.8912 42.0864 10.7008 8.6528 14.592 3.8912 33.4336-10.7008 42.0864l-44.4928 26.4704c-4.9152 2.9184-10.3424 4.3008-15.6672 4.3008zM688.0256 215.5008c-5.12 0-10.24-1.28-15.0016-3.9424a30.67904 30.67904 0 0 1-11.7248-41.8304l25.344-45.1072c8.2944-14.7968 27.0336-20.0192 41.8304-11.7248a30.67904 30.67904 0 0 1 11.7248 41.8304l-25.344 45.1072a30.7712 30.7712 0 0 1-26.8288 15.6672zM803.072 337.2032c-10.496 0-20.736-5.376-26.4704-15.104-8.6528-14.592-3.7888-33.4336 10.8032-42.0864l44.544-26.3168a30.76096 30.76096 0 0 1 42.0864 10.8032c8.6528 14.592 3.7888 33.4336-10.8032 42.0864l-44.544 26.3168c-4.9152 2.9184-10.2912 4.3008-15.616 4.3008zM850.176 499.5584c-16.896 0-30.6176-13.6192-30.72-30.5152-0.1024-16.9472 13.568-30.8224 30.5152-30.9248l51.7632-0.3072h0.2048c16.896 0 30.6176 13.6192 30.72 30.5152 0.1024 16.9472-13.568 30.8224-30.5152 30.9248l-51.7632 0.3072h-0.2048zM851.0976 687.2064c-5.3248 0-10.752-1.3824-15.6672-4.3008l-44.4928-26.4704c-14.592-8.6528-19.3536-27.5456-10.7008-42.0864a30.65344 30.65344 0 0 1 42.0864-10.7008l44.4928 26.4704a30.69952 30.69952 0 1 1-15.7184 57.088z" p-id="1740" />\r
    <path d="M504.7808 185.2928c-22.5792 0-40.96-18.3808-40.96-40.96V92.5696c0-22.5792 18.3808-40.96 40.96-40.96s40.96 18.3808 40.96 40.96v51.7632c0 22.5792-18.3808 40.96-40.96 40.96z m0-113.2032c-11.3152 0-20.48 9.1648-20.48 20.48v51.7632c0 11.3152 9.1648 20.48 20.48 20.48s20.48-9.1648 20.48-20.48V92.5696c0-11.264-9.1648-20.48-20.48-20.48zM340.9408 225.7408c-14.7968 0-28.5184-7.9872-35.7376-20.8896l-25.344-45.1072a40.77568 40.77568 0 0 1-3.7376-31.1296 40.4992 40.4992 0 0 1 19.4048-24.6272c19.712-11.0592 44.6976-4.0448 55.7568 15.6672l25.344 45.1072c5.376 9.5232 6.656 20.5824 3.7376 31.1296a40.4992 40.4992 0 0 1-19.4048 24.6272 41.3952 41.3952 0 0 1-20.0192 5.2224z m-25.3952-106.5472c-3.3792 0-6.8096 0.8192-9.984 2.6112-4.7616 2.6624-8.192 7.0656-9.6768 12.3392a20.3776 20.3776 0 0 0 1.8432 15.5648l25.344 45.1072a20.55168 20.55168 0 0 0 17.8688 10.4448c3.4816 0 6.9632-0.9216 9.984-2.6112 4.7616-2.6624 8.192-7.0656 9.6768-12.3392a20.3776 20.3776 0 0 0-1.8432-15.5648l-25.344-45.1072a20.39296 20.39296 0 0 0-17.8688-10.4448zM225.8944 347.4432a40.8064 40.8064 0 0 1-20.7872-5.6832l-44.544-26.3168a40.64256 40.64256 0 0 1-18.8416-25.0368c-2.7136-10.5984-1.1776-21.6064 4.4032-31.0272a40.64256 40.64256 0 0 1 25.0368-18.8416c10.5984-2.7136 21.6064-1.1776 31.0272 4.4032l44.544 26.3168a40.64256 40.64256 0 0 1 18.8416 25.0368c2.7136 10.5984 1.1776 21.6064-4.4032 31.0272a41.15456 41.15456 0 0 1-35.2768 20.1216z m-44.4928-87.7568c-1.6896 0-3.4304 0.2048-5.12 0.6656-5.3248 1.3824-9.728 4.7104-12.544 9.4208-2.7648 4.7104-3.584 10.24-2.2016 15.5136 1.3824 5.2736 4.7104 9.728 9.4208 12.544l44.544 26.3168c3.1744 1.8432 6.7584 2.8672 10.3936 2.8672 7.2192 0 13.9776-3.84 17.664-10.0864 2.7648-4.7104 3.584-10.24 2.2016-15.5136-1.3824-5.2736-4.7104-9.728-9.4208-12.544l-44.544-26.3168c-3.2256-1.9456-6.7584-2.8672-10.3936-2.8672zM178.7904 509.7984h-0.2048l-51.8144-0.3072c-22.5792-0.1536-40.8576-18.6368-40.704-41.216 0.1536-22.4256 18.5344-40.704 40.96-40.704l52.0192 0.3072c22.5792 0.1536 40.8576 18.6368 40.704 41.216-0.1024 22.4768-18.4832 40.704-40.96 40.704zM127.1808 448.0512a20.47488 20.47488 0 1 0-0.2048 40.96l51.7632 0.3072 0.1536 10.24v-10.24a20.47488 20.47488 0 1 0 0.1024-40.96l-51.8144-0.3072zM177.8688 697.4464c-14.3872 0-27.904-7.68-35.2256-20.0192a41.01632 41.01632 0 0 1 14.2336-56.1664l44.4928-26.4704a40.9088 40.9088 0 0 1 31.0272-4.5056c10.5984 2.7136 19.5072 9.3696 25.088 18.7392a41.01632 41.01632 0 0 1-14.2336 56.1664l-44.4928 26.4704a40.77568 40.77568 0 0 1-20.8896 5.7856z m44.3904-87.9104c-3.6352 0-7.2192 0.9728-10.4448 2.8672l-44.4928 26.4704c-4.7104 2.816-8.0384 7.2704-9.3696 12.544a20.3264 20.3264 0 0 0 2.2528 15.5136 20.4288 20.4288 0 0 0 17.6128 10.0352c3.6352 0 7.2704-0.9728 10.4448-2.8672l44.4928-26.4704c4.7104-2.816 8.0384-7.2704 9.3696-12.544 1.3312-5.3248 0.5632-10.8032-2.2528-15.5136s-7.2704-8.0384-12.544-9.3696a19.1488 19.1488 0 0 0-5.0688-0.6656z" fill="#010101" p-id="1741" />\r
    <path d="M667.5456 225.7408c-6.9632 0-13.9264-1.792-20.0192-5.2736a40.96 40.96 0 0 1-19.4048-24.6272 40.5504 40.5504 0 0 1 3.7376-31.1296l25.344-45.1072c11.0592-19.712 36.096-26.7264 55.7568-15.6672a40.96 40.96 0 0 1 19.4048 24.6272 40.5504 40.5504 0 0 1-3.7376 31.1296L703.2832 204.8a41.088 41.088 0 0 1-35.7376 20.9408z m25.3952-106.5472c-7.168 0-14.1312 3.7888-17.92 10.4448l-25.344 45.1072a20.3776 20.3776 0 0 0-1.8432 15.5648c1.4848 5.2736 4.9152 9.6256 9.6768 12.3392 3.072 1.7408 6.5024 2.6112 9.984 2.6112 7.424 0 14.2848-3.9936 17.8688-10.4448l25.344-45.1072c2.6624-4.7616 3.328-10.2912 1.8432-15.5648a20.49024 20.49024 0 0 0-9.6768-12.3392c-3.1232-1.792-6.5536-2.6112-9.9328-2.6112z" fill="#010101" p-id="1742" />\r
    <path d="M782.592 347.4432c-14.4384 0-27.9552-7.7312-35.2768-20.1216a41.0368 41.0368 0 0 1 14.4384-56.1152l44.544-26.3168c19.456-11.4688 44.6464-5.0176 56.1152 14.4384s5.0176 44.5952-14.4384 56.1152l-44.544 26.3168a41.64608 41.64608 0 0 1-20.8384 5.6832z m44.4928-87.7568c-3.5328 0-7.1168 0.9216-10.3936 2.8672l-44.544 26.3168a20.51584 20.51584 0 0 0-7.2192 28.0576 20.67456 20.67456 0 0 0 17.664 10.0864c3.6352 0 7.2192-0.9728 10.3936-2.8672l44.544-26.3168a20.51584 20.51584 0 0 0 7.2192-28.0576 20.44928 20.44928 0 0 0-17.664-10.0864z" fill="#010101" p-id="1743" />\r
    <path d="M829.696 509.7984c-22.4256 0-40.8064-18.2784-40.96-40.704-0.1536-22.5792 18.1248-41.0624 40.704-41.216l51.7632-0.3072c22.6816 0 41.0624 18.2784 41.216 40.704 0.1536 22.5792-18.1248 41.0624-40.704 41.216l-51.7632 0.3072h-0.256z m51.712-61.7472l-51.8656 0.3072a20.5056 20.5056 0 0 0-20.3776 20.5824 20.55168 20.55168 0 0 0 20.48 20.3776h0.2048l51.6608-0.3072a20.5056 20.5056 0 0 0 20.3776-20.5824 20.52096 20.52096 0 0 0-20.48-20.3776z" fill="#010101" p-id="1744" />\r
    <path d="M830.6176 697.4464c-7.3216 0-14.592-1.9968-20.8896-5.7856l-44.4928-26.4704a40.37632 40.37632 0 0 1-18.7392-25.1392c-2.7136-10.5984-1.0752-21.6064 4.5056-31.0272a40.66816 40.66816 0 0 1 25.088-18.7904 40.9088 40.9088 0 0 1 31.0272 4.5056l44.4416 26.4704c19.4048 11.5712 25.8048 36.7104 14.2848 56.1152a41.02144 41.02144 0 0 1-35.2256 20.1216z m-44.3904-87.9104c-1.6896 0-3.3792 0.2048-5.0688 0.6144a20.0704 20.0704 0 0 0-12.544 9.3696c-2.816 4.7104-3.584 10.24-2.2528 15.5136a20.0704 20.0704 0 0 0 9.3696 12.544l44.4928 26.4704c3.1744 1.8944 6.8096 2.8672 10.4448 2.8672 7.3216 0 13.8752-3.7376 17.6128-10.0352 2.816-4.7104 3.584-10.1888 2.2528-15.5136a20.0704 20.0704 0 0 0-9.3696-12.544l-44.4928-26.4704c-3.2256-1.8432-6.8096-2.816-10.4448-2.816z" fill="#010101" p-id="1745" />\r
    <path d="M547.584 729.0368c-5.632 0-10.24-4.608-10.24-10.24V511.8976H470.9376v206.9504c0 5.632-4.608 10.24-10.24 10.24s-10.24-4.608-10.24-10.24V511.8976h-33.024c-15.0016 0-28.0064-9.1136-33.1264-23.2448s-0.9216-29.44 10.5984-39.0656l18.2784-15.2064a35.00032 35.00032 0 0 1 37.4784-4.8128c12.4928 5.888 20.2752 18.0736 20.2752 31.8976v29.952h66.4576v-29.7472c0-13.824 7.7824-26.0608 20.3264-31.8976 12.544-5.8368 26.88-3.9936 37.5296 4.9152l17.9712 15.0016c11.52 9.6256 15.616 24.9344 10.496 39.0656-5.12 14.08-18.1248 23.1936-33.1264 23.1936h-32.7168v206.9504c-0.0512 5.5808-4.608 10.1376-10.2912 10.1376z m10.24-237.6192h32.7168c9.5744 0 13.056-7.424 13.8752-9.728 0.8192-2.304 2.9696-10.1888-4.4032-16.3328l-17.9712-15.0016c-4.5056-3.7888-10.3936-4.5568-15.7184-2.048s-8.4992 7.4752-8.4992 13.3632v29.7472z m-122.2144-44.8a14.336 14.336 0 0 0-9.3184 3.4816l-18.2784 15.2064c-7.3728 6.144-5.2736 14.08-4.4544 16.3328 0.8192 2.304 4.2496 9.728 13.8752 9.728h33.024v-29.952c0-5.888-3.1744-10.8544-8.4992-13.3632a15.872 15.872 0 0 0-6.3488-1.4336z" fill="#010101" fill-opacity="1" p-id="1746" />\r
    <path d="M339.2 449.4336c-0.6144 0-1.2288-0.0512-1.8944-0.1536-5.5808-1.024-9.216-6.3488-8.192-11.9296a256.8704 256.8704 0 0 1 9.9328-37.6832 10.30144 10.30144 0 0 1 13.056-6.2976c5.3248 1.8944 8.1408 7.7312 6.2976 13.056a236.6976 236.6976 0 0 0-9.1136 34.6624c-0.9216 4.9152-5.2224 8.3456-10.0864 8.3456z" fill="#FFFFFF" fill-opacity="1" p-id="1747" />\r
    <path d="M364.4928 378.6752c-1.7408 0-3.4816-0.4608-5.12-1.3824a10.22464 10.22464 0 0 1-3.7376-13.9776C407.552 273.5104 503.1424 266.496 507.1872 266.24c5.6832-0.3584 10.496 3.9424 10.8544 9.5744s-3.9424 10.496-9.5744 10.8544c-0.9728 0.0512-88.8832 6.8608-135.168 86.8864-1.8432 3.2768-5.2736 5.12-8.8064 5.12z" fill="#FFFFFF" fill-opacity="1" p-id="1748" />\r
    <path d="M437.4528 900.1984c-5.632 0-10.24-4.608-10.24-10.24v-108.8c0-5.632 4.608-10.24 10.24-10.24s10.24 4.608 10.24 10.24v108.8c0 5.6832-4.5568 10.24-10.24 10.24z" fill="#FFFFFF" fill-opacity="1" p-id="1749" />\r
</symbol><symbol viewBox="0 0 1029 1261"   id="svg-bot-2"><defs node-id="91"><linearGradient gradientUnits="objectBoundingBox" id="svg-bot-2_linearGradient-1" node-id="5" spreadMethod="pad" x1="0" x2="1" y1="0.5" y2="0.5"><stop offset="0" stop-color="#252424" /><stop offset="1" stop-color="#181818" /></linearGradient><linearGradient gradientUnits="objectBoundingBox" id="svg-bot-2_linearGradient-2" node-id="8" spreadMethod="pad" x1="0.0161995" x2="1" y1="0.5" y2="0.5"><stop offset="0" stop-color="#a5a5a5" /><stop offset="1" stop-color="#7b7a7a" /></linearGradient><linearGradient gradientUnits="objectBoundingBox" id="svg-bot-2_linearGradient-3" node-id="11" spreadMethod="pad" x1="0" x2="1" y1="0.5" y2="0.5"><stop offset="0" stop-color="#252424" /><stop offset="1" stop-color="#181818" /></linearGradient></defs><g node-id="110"><g node-id="111"><g node-id="112"><g node-id="121"><g node-id="129"><path d="M 371.40 1196.35 L 455.97 1198.74 L 455.97 1241.75 L 456.24 1243.70 L 455.97 1245.65 L 455.97 1250.28 L 453.11 1250.19 L 450.84 1252.11 L 447.87 1253.96 L 444.09 1255.75 L 440.17 1257.19 L 435.68 1258.44 L 430.57 1259.51 L 425.42 1260.25 L 419.89 1260.71 L 413.96 1260.89 L 407.32 1260.67 L 401.21 1260.09 L 395.57 1259.18 L 390.00 1257.86 L 385.26 1256.32 L 381.26 1254.59 L 378.32 1252.96 L 376.02 1251.30 L 374.26 1249.62 L 372.96 1247.92 L 371.40 1247.88 L 371.40 1196.35 Z" fill="url(#svg-bot-2_linearGradient-1)" fill-rule="evenodd" group-id="1,2,3,12,20" id="svg-bot-2_形状结合" node-id="20" stroke="currentColor" target-height="64.54004" target-width="84.84" target-x="371.4" target-y="1196.35" /><path d="M 456.24 1201.15 L 456.02 1202.85 L 455.43 1204.51 L 454.42 1206.16 L 452.92 1207.84 L 450.61 1209.72 L 447.63 1211.54 L 443.85 1213.30 L 439.94 1214.71 L 435.48 1215.94 L 430.41 1216.99 L 425.30 1217.71 L 419.83 1218.17 L 413.96 1218.34 L 408.08 1218.17 L 402.61 1217.71 L 397.50 1216.99 L 392.43 1215.94 L 387.97 1214.71 L 384.06 1213.30 L 380.28 1211.54 L 377.30 1209.72 L 375.00 1207.84 L 373.49 1206.16 L 372.48 1204.51 L 371.89 1202.85 L 371.67 1201.15 L 371.89 1199.44 L 372.48 1197.78 L 373.49 1196.13 L 375.00 1194.45 L 377.30 1192.57 L 380.28 1190.75 L 384.06 1188.99 L 387.97 1187.58 L 392.43 1186.35 L 397.50 1185.31 L 402.61 1184.58 L 408.08 1184.12 L 413.96 1183.96 L 419.83 1184.12 L 425.30 1184.58 L 430.41 1185.31 L 435.48 1186.35 L 439.94 1187.58 L 443.85 1188.99 L 447.63 1190.75 L 450.61 1192.57 L 452.92 1194.45 L 454.42 1196.13 L 455.43 1197.78 L 456.02 1199.44 L 456.24 1201.15 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,3,12,20" id="svg-bot-2_形状结合" node-id="21" stroke="none" target-height="34.380005" target-width="84.56998" target-x="371.67" target-y="1183.96" /></g><g node-id="130"><path d="M 401.18 1166.27 L 429.37 1168.00 L 429.37 1205.18 L 428.61 1205.13 L 427.51 1206.04 L 425.87 1206.90 L 423.55 1207.70 L 419.83 1208.43 L 415.27 1208.71 L 411.44 1208.51 L 408.16 1207.99 L 405.18 1207.11 L 403.10 1206.09 L 401.98 1205.18 L 401.38 1204.30 L 401.18 1203.41 L 401.18 1203.45 L 401.18 1166.27 Z" fill="url(#svg-bot-2_linearGradient-2)" fill-rule="evenodd" group-id="1,2,3,12,21" id="svg-bot-2_形状结合备份" node-id="23" stroke="none" target-height="42.43994" target-width="28.190002" target-x="401.18" target-y="1166.27" /><path d="M 429.37 1164.59 L 429.16 1165.50 L 428.56 1166.40 L 427.44 1167.31 L 425.36 1168.36 L 422.39 1169.25 L 419.11 1169.78 L 415.27 1169.98 L 411.44 1169.78 L 408.16 1169.25 L 405.18 1168.36 L 403.10 1167.31 L 401.99 1166.40 L 401.39 1165.50 L 401.18 1164.59 L 401.39 1163.68 L 401.99 1162.78 L 403.10 1161.87 L 405.18 1160.83 L 408.16 1159.94 L 411.44 1159.40 L 415.27 1159.20 L 419.11 1159.40 L 422.39 1159.94 L 425.36 1160.83 L 427.44 1161.87 L 428.56 1162.78 L 429.16 1163.68 L 429.37 1164.59 Z" fill="#585858" fill-rule="evenodd" group-id="1,2,3,12,21" id="svg-bot-2_形状结合备份-2" node-id="24" stroke="none" target-height="10.780029" target-width="28.190002" target-x="401.18" target-y="1159.2" /></g></g><g node-id="122"><g node-id="131"><path d="M 26.26 1034.56 L 110.83 1036.96 L 110.83 1079.96 L 111.10 1081.91 L 110.83 1083.86 L 110.83 1088.49 L 107.97 1088.41 L 105.70 1090.32 L 102.73 1092.18 L 98.95 1093.97 L 95.03 1095.40 L 90.54 1096.66 L 85.43 1097.72 L 80.28 1098.46 L 74.75 1098.93 L 68.81 1099.10 L 62.18 1098.89 L 56.07 1098.31 L 50.43 1097.40 L 44.86 1096.08 L 40.12 1094.54 L 36.11 1092.81 L 33.18 1091.17 L 30.88 1089.51 L 29.12 1087.84 L 27.82 1086.14 L 26.26 1086.09 L 26.26 1034.56 Z" fill="url(#svg-bot-2_linearGradient-1)" fill-rule="evenodd" group-id="1,2,3,13,22" id="svg-bot-2_形状结合" node-id="27" stroke="none" target-height="64.53992" target-width="84.84" target-x="26.26" target-y="1034.56" /><path d="M 111.10 1039.36 L 110.88 1041.06 L 110.29 1042.72 L 109.28 1044.38 L 107.77 1046.05 L 105.47 1047.93 L 102.49 1049.76 L 98.71 1051.52 L 94.80 1052.92 L 90.34 1054.16 L 85.27 1055.20 L 80.16 1055.93 L 74.69 1056.38 L 68.81 1056.55 L 62.94 1056.38 L 57.47 1055.93 L 52.36 1055.20 L 47.29 1054.16 L 42.83 1052.92 L 38.92 1051.52 L 35.14 1049.76 L 32.16 1047.93 L 29.85 1046.05 L 28.35 1044.38 L 27.34 1042.72 L 26.75 1041.06 L 26.53 1039.36 L 26.75 1037.66 L 27.34 1036.00 L 28.35 1034.34 L 29.85 1032.67 L 32.16 1030.79 L 35.14 1028.96 L 38.92 1027.21 L 42.83 1025.80 L 47.29 1024.56 L 52.36 1023.52 L 57.47 1022.79 L 62.94 1022.34 L 68.81 1022.17 L 74.69 1022.34 L 80.16 1022.79 L 85.27 1023.52 L 90.34 1024.56 L 94.80 1025.80 L 98.71 1027.21 L 102.49 1028.96 L 105.47 1030.79 L 107.77 1032.67 L 109.28 1034.34 L 110.29 1036.00 L 110.88 1037.66 L 111.10 1039.36 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,3,13,22" id="svg-bot-2_形状结合" node-id="28" stroke="none" target-height="34.380066" target-width="84.57" target-x="26.53" target-y="1022.17" /></g><g node-id="132"><path d="M 56.04 1004.49 L 84.23 1006.22 L 84.23 1043.39 L 83.47 1043.34 L 82.37 1044.25 L 80.73 1045.12 L 78.41 1045.92 L 74.69 1046.64 L 70.13 1046.93 L 66.30 1046.73 L 63.02 1046.20 L 60.04 1045.33 L 57.96 1044.30 L 56.84 1043.40 L 56.24 1042.52 L 56.04 1041.62 L 56.04 1041.66 L 56.04 1004.49 Z" fill="url(#svg-bot-2_linearGradient-2)" fill-rule="evenodd" group-id="1,2,3,13,23" id="svg-bot-2_形状结合备份" node-id="30" stroke="none" target-height="42.440063" target-width="28.190002" target-x="56.04" target-y="1004.49" /><path d="M 84.23 1002.81 L 84.02 1003.72 L 83.42 1004.61 L 82.30 1005.53 L 80.22 1006.57 L 77.25 1007.46 L 73.97 1008.00 L 70.13 1008.20 L 66.30 1008.00 L 63.02 1007.46 L 60.04 1006.57 L 57.96 1005.53 L 56.84 1004.61 L 56.24 1003.72 L 56.04 1002.81 L 56.24 1001.90 L 56.84 1001.00 L 57.96 1000.09 L 60.04 999.04 L 63.02 998.15 L 66.30 997.62 L 70.13 997.41 L 73.97 997.62 L 77.25 998.15 L 80.22 999.04 L 82.30 1000.09 L 83.42 1001.00 L 84.02 1001.90 L 84.23 1002.81 Z" fill="#585858" fill-rule="evenodd" group-id="1,2,3,13,23" id="svg-bot-2_形状结合备份-2" node-id="31" stroke="none" target-height="10.790039" target-width="28.190002" target-x="56.04" target-y="997.41" /></g></g><g node-id="123"><path d="M 790.71 921.36 L 875.28 926.08 L 875.28 1018.93 L 875.55 1020.88 L 875.28 1022.83 L 875.28 1027.46 L 872.50 1027.31 L 870.23 1029.23 L 867.27 1031.10 L 863.49 1032.90 L 859.56 1034.35 L 855.07 1035.61 L 849.94 1036.69 L 844.77 1037.43 L 839.22 1037.90 L 833.26 1038.07 L 827.79 1037.93 L 822.66 1037.53 L 817.83 1036.89 L 813.05 1035.98 L 808.77 1034.90 L 804.95 1033.65 L 801.24 1032.11 L 798.19 1030.48 L 795.72 1028.80 L 793.54 1026.79 L 792.08 1024.79 L 791.23 1022.78 L 790.71 1022.75 L 790.71 921.36 Z" fill="url(#svg-bot-2_linearGradient-3)" fill-rule="evenodd" group-id="1,2,3,14" id="svg-bot-2_形状结合" node-id="33" stroke="none" target-height="116.70996" target-width="84.839966" target-x="790.71" target-y="921.36" /><path d="M 875.55 924.41 L 875.33 926.11 L 874.74 927.77 L 873.72 929.42 L 872.22 931.10 L 869.92 932.98 L 866.94 934.80 L 863.16 936.56 L 859.25 937.97 L 854.79 939.20 L 849.72 940.25 L 844.61 940.97 L 839.13 941.43 L 833.26 941.60 L 827.39 941.43 L 821.92 940.97 L 816.81 940.25 L 811.74 939.20 L 807.27 937.97 L 803.36 936.56 L 799.59 934.80 L 796.61 932.98 L 794.30 931.10 L 792.80 929.42 L 791.79 927.77 L 791.19 926.11 L 790.98 924.41 L 791.19 922.71 L 791.79 921.04 L 792.80 919.39 L 794.30 917.72 L 796.61 915.83 L 799.59 914.01 L 803.36 912.25 L 807.27 910.84 L 811.74 909.61 L 816.81 908.57 L 821.92 907.84 L 827.39 907.38 L 833.26 907.22 L 839.13 907.38 L 844.61 907.84 L 849.72 908.57 L 854.79 909.61 L 859.25 910.84 L 863.16 912.25 L 866.94 914.01 L 869.92 915.83 L 872.22 917.72 L 873.72 919.39 L 874.74 921.04 L 875.33 922.71 L 875.55 924.41 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,3,14" id="svg-bot-2_形状结合" node-id="34" stroke="none" target-height="34.380005" target-width="84.57001" target-x="790.98" target-y="907.22" /></g><g node-id="124"><g node-id="133"><path d="M 470.06 779.90 L 554.63 784.61 L 554.63 877.47 L 554.90 879.42 L 554.63 881.37 L 554.63 886.00 L 551.85 885.84 L 549.58 887.76 L 546.63 889.63 L 542.84 891.44 L 538.92 892.88 L 534.42 894.15 L 529.29 895.22 L 524.12 895.96 L 518.57 896.43 L 512.62 896.61 L 507.15 896.46 L 502.01 896.06 L 497.19 895.43 L 492.40 894.52 L 488.12 893.43 L 484.30 892.18 L 480.59 890.64 L 477.54 889.02 L 475.07 887.33 L 472.89 885.32 L 471.44 883.32 L 470.59 881.31 L 470.06 881.28 L 470.06 779.90 Z" fill="url(#svg-bot-2_linearGradient-3)" fill-rule="evenodd" group-id="1,2,3,15,24" id="svg-bot-2_形状结合" node-id="37" stroke="none" target-height="116.70996" target-width="84.84003" target-x="470.06" target-y="779.9" /><path d="M 554.90 782.94 L 554.69 784.64 L 554.09 786.30 L 553.08 787.96 L 551.58 789.63 L 549.27 791.51 L 546.29 793.34 L 542.51 795.09 L 538.60 796.50 L 534.14 797.74 L 529.07 798.78 L 523.96 799.51 L 518.49 799.96 L 512.62 800.13 L 506.75 799.96 L 501.27 799.51 L 496.16 798.78 L 491.09 797.74 L 486.63 796.50 L 482.72 795.09 L 478.94 793.34 L 475.96 791.51 L 473.66 789.63 L 472.16 787.96 L 471.14 786.30 L 470.55 784.64 L 470.33 782.94 L 470.55 781.24 L 471.14 779.58 L 472.16 777.92 L 473.66 776.25 L 475.96 774.37 L 478.94 772.54 L 482.72 770.78 L 486.63 769.38 L 491.09 768.14 L 496.16 767.10 L 501.27 766.37 L 506.75 765.92 L 512.62 765.75 L 518.49 765.92 L 523.96 766.37 L 529.07 767.10 L 534.14 768.14 L 538.60 769.38 L 542.51 770.78 L 546.29 772.54 L 549.27 774.37 L 551.58 776.25 L 553.08 777.92 L 554.09 779.58 L 554.69 781.24 L 554.90 782.94 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,3,15,24" id="svg-bot-2_形状结合" node-id="38" stroke="none" target-height="34.380005" target-width="84.57004" target-x="470.33" target-y="765.75" /></g><g node-id="134"><path d="M 499.84 748.07 L 528.03 749.79 L 528.03 786.97 L 527.27 786.92 L 526.17 787.83 L 524.54 788.70 L 522.21 789.50 L 518.49 790.22 L 513.93 790.51 L 510.10 790.31 L 506.82 789.78 L 503.84 788.90 L 501.76 787.88 L 500.64 786.98 L 500.05 786.10 L 499.84 785.20 L 499.84 785.24 L 499.84 748.07 Z" fill="url(#svg-bot-2_linearGradient-2)" fill-rule="evenodd" group-id="1,2,3,15,25" id="svg-bot-2_形状结合备份" node-id="40" stroke="none" target-height="42.440002" target-width="28.190033" target-x="499.84" target-y="748.07" /><path d="M 528.03 746.38 L 527.82 747.30 L 527.22 748.19 L 526.10 749.11 L 524.02 750.15 L 521.05 751.04 L 517.77 751.58 L 513.93 751.78 L 510.10 751.58 L 506.82 751.04 L 503.84 750.15 L 501.76 749.11 L 500.65 748.19 L 500.05 747.30 L 499.84 746.38 L 500.05 745.47 L 500.65 744.58 L 501.76 743.66 L 503.84 742.62 L 506.82 741.73 L 510.10 741.19 L 513.93 740.99 L 517.77 741.19 L 521.05 741.73 L 524.02 742.62 L 526.10 743.66 L 527.22 744.58 L 527.82 745.47 L 528.03 746.38 Z" fill="#585858" fill-rule="evenodd" group-id="1,2,3,15,25" id="svg-bot-2_形状结合备份-2" node-id="41" stroke="none" target-height="10.790039" target-width="28.190033" target-x="499.84" target-y="740.99" /></g></g><g node-id="125"><path d="M 457.95 764.75 L 889.37 966.63 L 438.35 1214.19 L 0.50 1013.50 Z" fill="#c0c0c0" fill-rule="evenodd" group-id="1,2,3,16" id="svg-bot-2_矩形备份-52" node-id="43" stroke="none" target-height="449.43994" target-width="888.87" target-x="0.5" target-y="764.75" /><path d="M 889.37 554.43 L 889.37 966.63 L 438.35 1214.19 L 436.37 807.89 L 889.37 554.43 Z M 843.51 614.67 L 482.24 816.81 L 483.81 1089.24 L 843.51 891.80 L 843.51 614.67 Z" fill="#d8d8d8" fill-rule="evenodd" group-id="1,2,3,16" id="svg-bot-2_形状结合" node-id="44" stroke="none" target-height="659.75995" target-width="453" target-x="436.37" target-y="554.43" /><path d="M 2.65 603.14 L 441.77 807.89 L 440.11 1215.96 L 1.00 1013.00 L 2.65 603.14 Z M 77.41 738.72 L 44.34 760.22 L 43.24 989.00 L 68.96 1027.86 L 375.06 1170.15 L 407.65 1149.79 L 408.72 929.24 L 377.59 879.51 L 77.41 738.72 Z" fill="#e8e6e6" fill-rule="evenodd" group-id="1,2,3,16" id="svg-bot-2_形状结合" node-id="45" stroke="none" target-height="612.81995" target-width="440.77" target-x="1" target-y="603.14" /><path d="M 4.56 607.46 L 445.29 349.30 L 888.50 555.50 L 437.96 814.33 Z" fill="#f7f7f7" fill-rule="evenodd" group-id="1,2,3,16" id="svg-bot-2_路径-16备份-2" node-id="46" stroke="none" target-height="465.03003" target-width="883.94" target-x="4.56" target-y="349.3" /><path d="M 3.56 595.67 L 68.66 553.43 L 510.87 763.75 L 436.96 802.55 Z" fill="#2a7b5a" fill-rule="evenodd" group-id="1,2,3,16" id="svg-bot-2_路径-16备份-2" node-id="47" stroke="none" target-height="249.12" target-width="507.31" target-x="3.56" target-y="553.43" /><path d="M 3.56 595.67 L 3.95 607.35 L 435.37 812.28 L 436.96 802.55 Z" fill="#286f52" fill-rule="evenodd" group-id="1,2,3,16" id="svg-bot-2_路径-16备份-2" node-id="48" stroke="none" target-height="216.61005" target-width="433.4" target-x="3.56" target-y="595.67" /><path d="M 435.37 812.28 L 510.87 774.53 L 510.87 763.75 L 435.37 801.50 Z" fill="#1d5940" fill-rule="evenodd" group-id="1,2,3,16" id="svg-bot-2_路径-16备份-2" node-id="49" stroke="none" target-height="48.53003" target-width="75.5" target-x="435.37" target-y="763.75" /></g></g><g node-id="113"><g node-id="126"><g node-id="135"><path d="M 866.81 262.39 L 854.29 268.65 L 854.29 563.61 L 866.81 557.36 Z" fill="#dbdbdb" fill-rule="evenodd" group-id="1,2,4,17,26" id="svg-bot-2_矩形" node-id="52" stroke="none" target-height="301.21997" target-width="12.52002" target-x="854.29" target-y="262.39" /></g><path d="M 854.29 268.65 L 840.99 261.61 L 840.99 556.57 L 854.29 563.61 Z" fill="#bab9b9" fill-rule="evenodd" group-id="1,2,4,17,27" id="svg-bot-2_矩形备份-17" node-id="53" stroke="none" target-height="302" target-width="13.299988" target-x="840.99" target-y="261.61" /></g><g node-id="127"><g node-id="137"><path d="M 456.96 79.04 L 444.44 85.29 L 444.44 380.25 L 456.96 374.00 Z" fill="#dbdbdb" fill-rule="evenodd" group-id="1,2,4,18,28" id="svg-bot-2_矩形" node-id="55" stroke="none" target-height="301.21" target-width="12.519989" target-x="444.44" target-y="79.04" /></g><path d="M 444.44 85.29 L 431.13 78.25 L 431.13 373.22 L 444.44 380.25 Z" fill="#bab9b9" fill-rule="evenodd" group-id="1,2,4,18,29" id="svg-bot-2_矩形备份-17" node-id="56" stroke="none" target-height="302" target-width="13.309998" target-x="431.13" target-y="78.25" /></g><g node-id="128"><path d="M 242.23 158.40 L 803.09 422.65 L 803.09 435.78 L 242.23 171.53 Z" fill="#ccc6c6" fill-rule="evenodd" group-id="1,2,4,19" id="svg-bot-2_矩形备份-22" node-id="58" stroke="none" target-height="277.38" target-width="560.86005" target-x="242.23" target-y="158.4" /><g node-id="139"><path d="M 441.77 47.50 L 1002.62 311.75 L 802.76 422.54 L 238.90 159.11 Z" fill="#ffffff" fill-rule="evenodd" group-id="1,2,4,19,30" id="svg-bot-2_矩形" node-id="59" stroke="none" target-height="375.04" target-width="763.72" target-x="238.9" target-y="47.5" /></g><path d="M 1002.29 309.30 L 1002.62 322.53 L 803.09 435.78 L 803.09 419.60 Z" fill="#d8d8d8" fill-rule="evenodd" group-id="1,2,4,19,31" id="svg-bot-2_矩形备份-51" node-id="60" stroke="none" target-height="126.48001" target-width="199.52997" target-x="803.09" target-y="309.3" /></g></g><g node-id="114"><path d="M 69.66 683.85 L 69.46 686.78 L 68.93 689.30 L 68.05 691.55 L 66.99 693.17 L 66.11 694.00 L 65.21 694.47 L 64.27 694.64 L 63.33 694.47 L 62.43 694.00 L 61.55 693.17 L 60.49 691.55 L 59.61 689.30 L 59.08 686.78 L 58.88 683.85 L 59.08 680.93 L 59.61 678.41 L 60.49 676.15 L 61.55 674.54 L 62.43 673.71 L 63.33 673.24 L 64.27 673.07 L 65.21 673.24 L 66.11 673.71 L 66.99 674.54 L 68.05 676.15 L 68.93 678.41 L 69.46 680.93 L 69.66 683.85 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,5" id="svg-bot-2_椭圆形" node-id="62" stroke="none" target-height="21.570007" target-width="10.780003" target-x="58.88" target-y="673.07" /><path d="M 75.06 689.25 L 76.00 689.08 L 76.89 688.61 L 77.78 687.77 L 78.83 686.16 L 79.71 683.90 L 80.25 681.39 L 80.45 678.46 L 80.25 675.53 L 79.71 673.02 L 78.83 670.76 L 77.78 669.15 L 76.89 668.31 L 76.00 667.84 L 75.06 667.67 L 74.11 667.84 L 73.22 668.31 L 72.33 669.15 L 71.28 670.76 L 70.40 673.02 L 69.86 675.53 L 69.66 678.46 L 69.86 681.39 L 70.40 683.90 L 71.28 686.16 L 72.33 687.77 L 73.22 688.61 L 74.11 689.08 L 75.06 689.25 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,5" id="svg-bot-2_椭圆形备份-7" node-id="63" stroke="none" target-height="21.580017" target-width="10.789993" target-x="69.66" target-y="667.67" /><path d="M 64.27 673.07 L 75.06 667.67 L 75.06 689.25 L 64.27 694.64 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,5" id="svg-bot-2_矩形" node-id="64" stroke="none" target-height="26.970032" target-width="10.790001" target-x="64.27" target-y="667.67" /></g><g node-id="115"><path d="M 91.23 694.64 L 91.03 697.57 L 90.50 700.08 L 89.62 702.34 L 88.56 703.95 L 87.68 704.78 L 86.78 705.26 L 85.84 705.42 L 84.90 705.26 L 84.00 704.78 L 83.12 703.95 L 82.07 702.34 L 81.18 700.08 L 80.65 697.57 L 80.45 694.64 L 80.65 691.71 L 81.18 689.19 L 82.07 686.94 L 83.12 685.33 L 84.00 684.49 L 84.90 684.02 L 85.84 683.85 L 86.78 684.02 L 87.68 684.49 L 88.56 685.33 L 89.62 686.94 L 90.50 689.19 L 91.03 691.71 L 91.23 694.64 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,6" id="svg-bot-2_椭圆形" node-id="66" stroke="none" target-height="21.570007" target-width="10.780006" target-x="80.45" target-y="683.85" /><path d="M 96.63 700.03 L 97.57 699.86 L 98.47 699.39 L 99.35 698.56 L 100.40 696.95 L 101.28 694.69 L 101.82 692.17 L 102.02 689.25 L 101.82 686.32 L 101.28 683.80 L 100.40 681.54 L 99.35 679.93 L 98.47 679.10 L 97.57 678.63 L 96.63 678.46 L 95.69 678.63 L 94.79 679.10 L 93.90 679.93 L 92.85 681.54 L 91.97 683.80 L 91.43 686.32 L 91.23 689.25 L 91.43 692.17 L 91.97 694.69 L 92.85 696.95 L 93.90 698.56 L 94.79 699.39 L 95.69 699.86 L 96.63 700.03 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,6" id="svg-bot-2_椭圆形备份-7" node-id="67" stroke="none" target-height="21.570007" target-width="10.789993" target-x="91.23" target-y="678.46" /><path d="M 85.84 683.85 L 96.63 678.46 L 96.63 700.03 L 85.84 705.42 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,6" id="svg-bot-2_矩形" node-id="68" stroke="none" target-height="26.95996" target-width="10.790001" target-x="85.84" target-y="678.46" /></g><g node-id="116"><path d="M 134.38 716.21 L 134.18 719.14 L 133.64 721.65 L 132.76 723.91 L 131.71 725.52 L 130.82 726.36 L 129.92 726.83 L 128.98 727.00 L 128.04 726.83 L 127.15 726.36 L 126.26 725.52 L 125.21 723.91 L 124.33 721.65 L 123.79 719.14 L 123.59 716.21 L 123.79 713.28 L 124.33 710.77 L 125.21 708.51 L 126.26 706.90 L 127.15 706.06 L 128.04 705.59 L 128.98 705.42 L 129.92 705.59 L 130.82 706.06 L 131.71 706.90 L 132.76 708.51 L 133.64 710.77 L 134.18 713.28 L 134.38 716.21 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,7" id="svg-bot-2_椭圆形" node-id="70" stroke="none" target-height="21.580017" target-width="10.790009" target-x="123.59" target-y="705.42" /><path d="M 139.77 721.60 L 140.71 721.43 L 141.61 720.96 L 142.49 720.13 L 143.54 718.52 L 144.43 716.26 L 144.96 713.74 L 145.16 710.82 L 144.96 707.89 L 144.43 705.37 L 143.54 703.12 L 142.49 701.50 L 141.61 700.67 L 140.71 700.20 L 139.77 700.03 L 138.83 700.20 L 137.93 700.67 L 137.05 701.50 L 135.99 703.12 L 135.11 705.37 L 134.58 707.89 L 134.38 710.82 L 134.58 713.74 L 135.11 716.26 L 135.99 718.52 L 137.05 720.13 L 137.93 720.96 L 138.83 721.43 L 139.77 721.60 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,7" id="svg-bot-2_椭圆形备份-7" node-id="71" stroke="none" target-height="21.569946" target-width="10.779999" target-x="134.38" target-y="700.03" /><path d="M 128.98 705.42 L 139.77 700.03 L 139.77 721.60 L 128.98 727.00 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,7" id="svg-bot-2_矩形" node-id="72" stroke="none" target-height="26.96997" target-width="10.790009" target-x="128.98" target-y="700.03" /></g><g node-id="117"><path d="M 112.81 705.42 L 112.60 708.35 L 112.07 710.87 L 111.19 713.13 L 110.13 714.74 L 109.25 715.57 L 108.35 716.04 L 107.41 716.21 L 106.47 716.04 L 105.57 715.57 L 104.69 714.74 L 103.64 713.13 L 102.76 710.87 L 102.22 708.35 L 102.02 705.42 L 102.22 702.50 L 102.76 699.98 L 103.64 697.72 L 104.69 696.11 L 105.57 695.28 L 106.47 694.81 L 107.41 694.64 L 108.35 694.81 L 109.25 695.28 L 110.13 696.11 L 111.19 697.72 L 112.07 699.98 L 112.60 702.50 L 112.81 705.42 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,8" id="svg-bot-2_椭圆形" node-id="74" stroke="none" target-height="21.570007" target-width="10.790001" target-x="102.02" target-y="694.64" /><path d="M 118.20 710.82 L 119.14 710.65 L 120.04 710.18 L 120.92 709.34 L 121.97 707.73 L 122.85 705.48 L 123.39 702.96 L 123.59 700.03 L 123.39 697.10 L 122.85 694.59 L 121.97 692.33 L 120.92 690.72 L 120.04 689.89 L 119.14 689.41 L 118.20 689.25 L 117.26 689.41 L 116.36 689.89 L 115.48 690.72 L 114.42 692.33 L 113.54 694.59 L 113.01 697.10 L 112.81 700.03 L 113.01 702.96 L 113.54 705.48 L 114.42 707.73 L 115.48 709.34 L 116.36 710.18 L 117.26 710.65 L 118.20 710.82 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,8" id="svg-bot-2_椭圆形备份-7" node-id="75" stroke="none" target-height="21.570007" target-width="10.779999" target-x="112.81" target-y="689.25" /><path d="M 107.41 694.64 L 118.20 689.25 L 118.20 710.82 L 107.41 716.21 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,8" id="svg-bot-2_矩形" node-id="76" stroke="none" target-height="26.960022" target-width="10.789993" target-x="107.41" target-y="689.25" /></g><g node-id="118"><path d="M 155.95 727.00 L 155.75 729.92 L 155.21 732.44 L 154.33 734.70 L 153.28 736.31 L 152.39 737.14 L 151.50 737.61 L 150.55 737.78 L 149.61 737.61 L 148.72 737.14 L 147.83 736.31 L 146.78 734.70 L 145.90 732.44 L 145.36 729.92 L 145.16 727.00 L 145.36 724.07 L 145.90 721.55 L 146.78 719.29 L 147.83 717.68 L 148.72 716.85 L 149.61 716.38 L 150.55 716.21 L 151.50 716.38 L 152.39 716.85 L 153.28 717.68 L 154.33 719.29 L 155.21 721.55 L 155.75 724.07 L 155.95 727.00 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,9" id="svg-bot-2_椭圆形" node-id="78" stroke="none" target-height="21.570007" target-width="10.789993" target-x="145.16" target-y="716.21" /><path d="M 161.34 732.39 L 162.28 732.22 L 163.18 731.75 L 164.06 730.92 L 165.12 729.30 L 166.00 727.05 L 166.53 724.53 L 166.73 721.60 L 166.53 718.68 L 166.00 716.16 L 165.12 713.90 L 164.06 712.29 L 163.18 711.46 L 162.28 710.99 L 161.34 710.82 L 160.40 710.99 L 159.50 711.46 L 158.62 712.29 L 157.56 713.90 L 156.68 716.16 L 156.15 718.68 L 155.95 721.60 L 156.15 724.53 L 156.68 727.05 L 157.56 729.30 L 158.62 730.92 L 159.50 731.75 L 160.40 732.22 L 161.34 732.39 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,9" id="svg-bot-2_椭圆形备份-7" node-id="79" stroke="none" target-height="21.570007" target-width="10.779999" target-x="155.95" target-y="710.82" /><path d="M 150.55 716.21 L 161.34 710.82 L 161.34 732.39 L 150.55 737.78 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,9" id="svg-bot-2_矩形" node-id="80" stroke="none" target-height="26.960022" target-width="10.789993" target-x="150.55" target-y="710.82" /></g><g node-id="119"><path d="M 355.48 825.41 L 355.18 830.92 L 354.38 835.62 L 353.52 838.62 L 352.54 841.01 L 351.48 842.88 L 350.11 844.47 L 348.77 845.34 L 347.39 845.64 L 346.02 845.34 L 344.67 844.47 L 343.31 842.88 L 342.24 841.01 L 341.27 838.62 L 340.41 835.62 L 339.61 830.92 L 339.30 825.41 L 339.61 819.91 L 340.41 815.21 L 341.27 812.20 L 342.24 809.82 L 343.31 807.95 L 344.67 806.36 L 346.02 805.49 L 347.39 805.19 L 348.77 805.49 L 350.11 806.36 L 351.48 807.95 L 352.54 809.82 L 353.52 812.20 L 354.38 815.21 L 355.18 819.91 L 355.48 825.41 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,10" id="svg-bot-2_椭圆形" node-id="82" stroke="none" target-height="40.450012" target-width="16.180023" target-x="339.3" target-y="805.19" /><path d="M 363.57 837.55 L 364.95 837.25 L 366.29 836.38 L 367.65 834.79 L 368.72 832.92 L 369.70 830.54 L 370.56 827.53 L 371.36 822.83 L 371.66 817.33 L 371.36 811.83 L 370.56 807.12 L 369.70 804.12 L 368.72 801.73 L 367.65 799.86 L 366.29 798.27 L 364.95 797.40 L 363.57 797.10 L 362.20 797.40 L 360.85 798.27 L 359.49 799.86 L 358.42 801.73 L 357.45 804.12 L 356.59 807.12 L 355.78 811.83 L 355.48 817.33 L 355.78 822.83 L 356.59 827.53 L 357.45 830.54 L 358.42 832.92 L 359.49 834.79 L 360.85 836.38 L 362.20 837.25 L 363.57 837.55 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,10" id="svg-bot-2_椭圆形备份-7" node-id="83" stroke="none" target-height="40.450012" target-width="16.179993" target-x="355.48" target-y="797.1" /><path d="M 347.39 806.81 L 363.57 797.10 L 363.57 835.93 L 347.39 845.64 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,10" id="svg-bot-2_矩形" node-id="84" stroke="none" target-height="48.54004" target-width="16.179993" target-x="347.39" target-y="797.1" /></g><g node-id="120"><path d="M 199.09 508.13 L 497.17 657.33 L 497.17 694.63 L 199.09 545.43 Z" fill="#444644" fill-rule="evenodd" group-id="1,2,11" id="svg-bot-2_矩形备份-41" node-id="86" stroke="none" target-height="186.5" target-width="298.08002" target-x="199.09" target-y="508.13" /><path d="M 207.61 498.81 L 505.68 648.01 L 497.17 657.33 L 199.09 508.13 Z" fill="#696969" fill-rule="evenodd" group-id="1,2,11" id="svg-bot-2_矩形备份-42" node-id="87" stroke="none" target-height="158.52002" target-width="306.59" target-x="199.09" target-y="498.81" /><path d="M 497.17 657.33 L 506.48 648.01 L 506.48 685.31 L 497.17 694.63 Z" fill="#2b2a2a" fill-rule="evenodd" group-id="1,2,11" id="svg-bot-2_矩形" node-id="88" stroke="none" target-height="46.619995" target-width="9.309998" target-x="497.17" target-y="648.01" /><path d="M 217.72 247.03 L 497.17 384.33 L 497.17 645.43 L 217.72 508.13 Z" fill="#494a49" fill-rule="evenodd" group-id="1,2,11" id="svg-bot-2_矩形" node-id="89" stroke="none" target-height="398.4" target-width="279.45" target-x="217.72" target-y="247.03" /></g></g></g></symbol><symbol   viewBox="0 0 1051 1644" id="svg-bot-9">\r
    <title>PBA9</title>\r
    <defs>\r
        <linearGradient id="svg-bot-9_linearGradient-1" y2="50%" x2="100%" y1="50%" x1="0%">\r
            <stop offset="0%" stop-color="#252424" />\r
            <stop offset="100%" stop-color="#181818" />\r
        </linearGradient>\r
        <linearGradient id="svg-bot-9_linearGradient-2" y2="50%" x2="100%" y1="50%" x1="1.61994987%">\r
            <stop offset="0%" stop-color="#A5A5A5" />\r
            <stop offset="100%" stop-color="#7B7A7A" />\r
        </linearGradient>\r
        <linearGradient id="svg-bot-9_linearGradient-3" y2="53.5152679%" x2="33.5324159%" y1="52.2959596%" x1="10.5628407%">\r
            <stop offset="0%" stop-color="#EEECE6" />\r
            <stop offset="100%" stop-color="#BDB4A1" />\r
        </linearGradient>\r
    </defs>\r
    <g fill-rule="evenodd" fill="none" stroke-width="1" stroke="currentColor" id="svg-bot-9_页面-1">\r
        <g transform="translate(0.500000, 0.633693)" id="svg-bot-9_PBA9">\r
            <g fill-rule="nonzero" transform="translate(508.453453, 1479.969208)" id="svg-bot-9_编组-24">\r
                <g transform="translate(0.000000, 25.883740)" id="svg-bot-9_编组-23">\r
                    <path fill="url(#svg-bot-9_linearGradient-1)" id="svg-bot-9_形状结合" d="M0,14.7907085 L88.4157635,19.7209447 L88.4158196,116.802354 C88.6017545,117.471663 88.6972644,118.152109 88.6972644,118.841623 C88.6972644,119.531156 88.6017493,120.21162 88.4158045,120.880946 L88.4157635,125.721022 L85.5071674,125.557778 C78.9634845,132.156741 63.0642649,136.814054 44.4893827,136.814054 C21.7199146,136.814054 2.9709922,129.815811 0.546683008,120.821467 L0,120.790786 L0,14.7907085 Z" />\r
                    <ellipse ry="17.9724306" rx="44.2078817" cy="17.9724306" cx="44.4893827" fill="#000000" id="svg-bot-9_形状结合" />\r
                </g>\r
                <g transform="translate(31.130825, 0.000000)" id="svg-bot-9_编组-22">\r
                    <path fill="url(#svg-bot-9_linearGradient-2)" id="svg-bot-9_形状结合备份" d="M0,7.39535424 L29.4719212,9.2031075 L29.4719212,48.0698025 L28.6776991,48.0219458 C26.6911001,50.2011603 21.1995028,51.7674796 14.7359606,51.7674796 C6.59751428,51.7674796 0,49.28422 0,46.220964 L0.00102965085,46.2615849 L0,7.39535424 Z" />\r
                    <ellipse ry="5.63830199" rx="14.7359606" cy="5.63830199" cx="14.7359606" fill="#585858" id="svg-bot-9_形状结合备份-2" />\r
                </g>\r
            </g>\r
            <g fill-rule="nonzero" transform="translate(955.085487, 1259.371360)" id="svg-bot-9_编组-24备份-2">\r
                <g transform="translate(0.000000, 25.883740)" id="svg-bot-9_编组-23">\r
                    <path fill="url(#svg-bot-9_linearGradient-1)" id="svg-bot-9_形状结合" d="M0,14.7907085 L88.4157635,19.7209447 L88.4158196,116.802354 C88.6017545,117.471663 88.6972644,118.152109 88.6972644,118.841623 C88.6972644,119.531156 88.6017493,120.21162 88.4158045,120.880946 L88.4157635,125.721022 L85.5071674,125.557778 C78.9634845,132.156741 63.0642649,136.814054 44.4893827,136.814054 C21.7199146,136.814054 2.9709922,129.815811 0.546683008,120.821467 L0,120.790786 L0,14.7907085 Z" />\r
                    <ellipse ry="17.9724306" rx="44.2078817" cy="17.9724306" cx="44.4893827" fill="#000000" id="svg-bot-9_形状结合" />\r
                </g>\r
                <g transform="translate(31.130825, 0.000000)" id="svg-bot-9_编组-22">\r
                    <path fill="url(#svg-bot-9_linearGradient-2)" id="svg-bot-9_形状结合备份" d="M0,7.39535424 L29.4719212,9.2031075 L29.4719212,48.0698025 L28.6776991,48.0219458 C26.6911001,50.2011603 21.1995028,51.7674796 14.7359606,51.7674796 C6.59751428,51.7674796 0,49.28422 0,46.220964 L0.00102965085,46.2615849 L0,7.39535424 Z" />\r
                    <ellipse ry="5.63830199" rx="14.7359606" cy="5.63830199" cx="14.7359606" fill="#585858" id="svg-bot-9_形状结合备份-2" />\r
                </g>\r
            </g>\r
            <g fill-rule="nonzero" transform="translate(186.251819, 1329.340315)" id="svg-bot-9_编组-24备份">\r
                <g transform="translate(0.000000, 25.883740)" id="svg-bot-9_编组-23">\r
                    <path fill="url(#svg-bot-9_linearGradient-1)" id="svg-bot-9_形状结合" d="M0,14.7907085 L88.4157635,19.7209447 L88.4158196,116.802354 C88.6017545,117.471663 88.6972644,118.152109 88.6972644,118.841623 C88.6972644,119.531156 88.6017493,120.21162 88.4158045,120.880946 L88.4157635,125.721022 L85.5071674,125.557778 C78.9634845,132.156741 63.0642649,136.814054 44.4893827,136.814054 C21.7199146,136.814054 2.9709922,129.815811 0.546683008,120.821467 L0,120.790786 L0,14.7907085 Z" />\r
                    <ellipse ry="17.9724306" rx="44.2078817" cy="17.9724306" cx="44.4893827" fill="#000000" id="svg-bot-9_形状结合" />\r
                </g>\r
                <g transform="translate(31.130825, 0.000000)" id="svg-bot-9_编组-22">\r
                    <path fill="url(#svg-bot-9_linearGradient-2)" id="svg-bot-9_形状结合备份" d="M0,7.39535424 L29.4719212,9.2031075 L29.4719212,48.0698025 L28.6776991,48.0219458 C26.6911001,50.2011603 21.1995028,51.7674796 14.7359606,51.7674796 C6.59751428,51.7674796 0,49.28422 0,46.220964 L0.00102965085,46.2615849 L0,7.39535424 Z" />\r
                    <ellipse ry="5.63830199" rx="14.7359606" cy="5.63830199" cx="14.7359606" fill="#585858" id="svg-bot-9_形状结合备份-2" />\r
                </g>\r
            </g>\r
            <g fill-rule="nonzero" transform="translate(611.605177, 1126.909038)" id="svg-bot-9_编组-24备份-3">\r
                <g transform="translate(0.000000, 25.883740)" id="svg-bot-9_编组-23">\r
                    <path fill="url(#svg-bot-9_linearGradient-1)" id="svg-bot-9_形状结合" d="M0,14.7907085 L88.4157635,19.7209447 L88.4158196,116.802354 C88.6017545,117.471663 88.6972644,118.152109 88.6972644,118.841623 C88.6972644,119.531156 88.6017493,120.21162 88.4158045,120.880946 L88.4157635,125.721022 L85.5071674,125.557778 C78.9634845,132.156741 63.0642649,136.814054 44.4893827,136.814054 C21.7199146,136.814054 2.9709922,129.815811 0.546683008,120.821467 L0,120.790786 L0,14.7907085 Z" />\r
                    <ellipse ry="17.9724306" rx="44.2078817" cy="17.9724306" cx="44.4893827" fill="#000000" id="svg-bot-9_形状结合" />\r
                </g>\r
                <g transform="translate(31.130825, 0.000000)" id="svg-bot-9_编组-22">\r
                    <path fill="url(#svg-bot-9_linearGradient-2)" id="svg-bot-9_形状结合备份" d="M0,7.39535424 L29.4719212,9.2031075 L29.4719212,48.0698025 L28.6776991,48.0219458 C26.6911001,50.2011603 21.1995028,51.7674796 14.7359606,51.7674796 C6.59751428,51.7674796 0,49.28422 0,46.220964 L0.00102965085,46.2615849 L0,7.39535424 Z" />\r
                    <ellipse ry="5.63830199" rx="14.7359606" cy="5.63830199" cx="14.7359606" fill="#585858" id="svg-bot-9_形状结合备份-2" />\r
                </g>\r
            </g>\r
            <polygon points="598.74197 518.806372 1050 196.615434 1050 1291.03474 578.663779 1546.91275 578.449265 561.964291" fill-rule="nonzero" fill="#DED9D1" id="svg-bot-9_矩形" />\r
            <polygon points="0.51482543 454.453194 345.212256 215.78566 683.510375 401.849626 296.02462 611.989774" fill-rule="nonzero" fill="url(#svg-bot-9_linearGradient-3)" id="svg-bot-9_路径-10" />\r
            <polygon points="995.452395 305.834589 993.616985 672.488122 672.233771 886.743597 672.002552 537.332778" fill-rule="nonzero" fill="#0C0C0C" id="svg-bot-9_矩形" />\r
            <polygon points="181.701498 1354.72266 179.97182 366.564345 580.291261 560.137718 582.020939 1546.42493" fill-rule="nonzero" fill="#E9E5DD" id="svg-bot-9_路径-16" />\r
            <polygon points="209.56659 678.829835 208.078753 449.047459 552.426168 615.555711 553.914005 843.728598" fill-rule="nonzero" fill="#E9E5DD" stroke-width="0.5" stroke="#6E6E6E" id="svg-bot-9_路径-16" />\r
            <g transform="translate(242.662278, 488.515572)" id="svg-bot-9_路径-16">\r
                <g fill="#E9E5DD" transform="translate(0.000000, 0.000000)" id="svg-bot-9_path-4-link">\r
                    <polygon points="1.19026918 183.825902 -2.92644373e-14 1.17057749e-13 275.477932 133.206602 276.668201 315.744912" id="svg-bot-9_path-4" />\r
                </g>\r
                <g fill-rule="nonzero" fill="#000000" transform="translate(0.000000, 0.000000)" id="svg-bot-9_path-4-link">\r
                    <polygon points="1.19026918 183.825902 -2.92644373e-14 1.17057749e-13 275.477932 133.206602 276.668201 315.744912" id="svg-bot-9_path-4" />\r
                </g>\r
            </g>\r
            <polygon points="313.905079 672.495173 313.224926 567.4518 470.640887 643.569859 471.321041 747.877464" fill-rule="nonzero" fill="#8EC1E9" stroke-width="1.5" stroke="#000000" id="svg-bot-9_路径-16" />\r
            <polygon points="209.56659 1287.76645 208.078753 753.515766 552.426168 920.024018 553.914005 1452.66522" fill-rule="nonzero" fill="#E9E5DD" stroke-width="0.5" stroke="#6E6E6E" id="svg-bot-9_路径-16备份-3" />\r
            <polygon points="204.254706 317.275096 653.768893 2.92644373e-14 1050 196.615434 598.935845 520.253968" fill-rule="nonzero" fill="#FFFCF3" id="svg-bot-9_路径-16备份-2" />\r
            <polygon points="204.254706 317.275096 600.598133 515.717102 576.382637 565.360384 180.039209 366.918378" fill-rule="nonzero" fill="#F8F6EF" id="svg-bot-9_矩形" />\r
            <path fill-rule="nonzero" fill="#DED9D1" id="svg-bot-9_路径-12" d="M186.225252,937.488316 C157.347841,877.191105 128.752241,828.050658 100.438452,790.066975 C72.1246632,752.083292 38.860394,718.237117 0.645644105,688.528449 L0.645644105,579.368301 L23.8290419,525.89227 L1.27583391,514.615665 L0.645644105,453.227684 L188.940931,554.844152 L186.225252,937.488316 Z" />\r
            <polygon points="238.084518 1002.90492 260.592799 1013.28989 260.637725 1078.44586 238.129444 1068.0609" fill-rule="nonzero" fill="#000000" id="svg-bot-9_矩形备份-4" />\r
            <polygon points="514.361315 971.318127 565.061106 990.736683 565.106033 1033.33945 514.406241 1013.92089" fill-rule="nonzero" fill="#000000" id="svg-bot-9_矩形备份-60" />\r
            <polygon points="525.637919 644.296611 576.337711 663.715167 576.382637 706.317934 525.682846 686.899378" fill-rule="nonzero" fill="#000000" id="svg-bot-9_矩形备份-63" />\r
            <polygon points="525.637919 757.062651 576.337711 776.481207 576.382637 819.083973 525.682846 799.665418" fill-rule="nonzero" fill="#000000" id="svg-bot-9_矩形备份-64" />\r
            <polygon points="514.361315 1140.46719 565.061106 1159.88575 565.106033 1202.48851 514.406241 1183.06995" fill-rule="nonzero" fill="#000000" id="svg-bot-9_矩形备份-61" />\r
            <polygon points="514.361315 1309.61624 565.061106 1329.0348 565.106033 1371.63757 514.406241 1352.21902" fill-rule="nonzero" fill="#000000" id="svg-bot-9_矩形备份-62" />\r
            <line stroke-dasharray="3" stroke-width="0.5" stroke="#979797" id="svg-bot-9_路径-9" y2="616.105101" x2="187.339799" y1="527.043579" x1="23.6819696" />\r
            <line stroke="#979797" id="svg-bot-9_路径-9备份" y2="683.764725" x2="187.339799" y1="579.555773" x1="-1.46322187e-14" />\r
            <g fill-rule="nonzero" transform="translate(305.744142, 103.019621)" id="svg-bot-9_编组-11">\r
                <rect rx="2" height="47.5065763" width="94.9101238" y="198.426867" x="0" opacity="0.410433815" fill="#5B5B5A" id="svg-bot-9_矩形备份-33" />\r
                <rect height="180.425664" width="47.455062" y="41.7544909" x="23.7275309" fill="#C4E4E3" id="svg-bot-9_矩形" />\r
                <path fill="#FC2727" id="svg-bot-9_矩形备份-30" d="M47.455062,0 C60.5594154,0 71.1825929,10.6231775 71.1825929,23.7275309 L71.1825929,71.2598645 L71.1825929,71.2598645 L23.7275309,71.2598645 L23.7275309,23.7275309 C23.7275309,10.6231775 34.3507084,0 47.455062,0 Z" />\r
                <rect height="47.5065763" width="47.455062" y="47.5065763" x="23.7275309" fill="#FFFD54" id="svg-bot-9_矩形备份-31" />\r
                <rect height="47.5065763" width="47.455062" y="95.0131526" x="23.7275309" fill="#73FF54" id="svg-bot-9_矩形备份-32" />\r
            </g>\r
        </g>\r
    </g>\r
</symbol><symbol viewBox="0 0 1024 1024"  id="svg-clock-a">\r
    <path d="M512.3 518.9m-469.2 0a469.2 469.2 0 1 0 938.4 0 469.2 469.2 0 1 0-938.4 0Z" fill="#B4B4B4"></path>\r
    <path d="M512.3 518.9m-392.5 0a392.5 392.5 0 1 0 785 0 392.5 392.5 0 1 0-785 0Z" fill="#FFFFFF"></path>\r
    <path d="M512.3 523.8c-4.5 0-9-1.7-12.4-5.1L318.3 337.1c-6.8-6.8-6.8-17.9 0-24.8 6.8-6.8 17.9-6.8 24.8 0L524.7 494c6.8 6.8 6.8 17.9 0 24.8-3.5 3.3-7.9 5-12.4 5z" fill="#545454">\r
        <animateTransform attributeName="transform" attributeType="XML" type="rotate" from="45 512 512" to="405 512 512" dur="3600s" repeatCount="indefinite" />\r
    </path>\r
    <path d="M512.3 523.8c-4.5 0-9-1.7-12.4-5.1-6.8-6.8-6.8-17.9 0-24.8l130.8-130.8c6.8-6.8 17.9-6.8 24.8 0 6.8 6.8 6.8 17.9 0 24.8L524.7 518.7c-3.5 3.4-7.9 5.1-12.4 5.1z" fill="#292929">\r
        <animateTransform attributeName="transform" attributeType="XML" type="rotate" from="-45 512 512" to="315 512 512" dur="43200s" repeatCount="indefinite" />\r
    </path>\r
    <path d="M512.3 506.3m-47.5 0a47.5 47.5 0 1 0 95 0 47.5 47.5 0 1 0-95 0Z" fill="#919191"></path>\r
    <path d="M512.3 218.8c-9 0-16.3-7.3-16.3-16.3v-29.1c0-9 7.3-16.3 16.3-16.3s16.3 7.3 16.3 16.3v29.1c0 9-7.4 16.3-16.3 16.3zM512.3 880.8c-9 0-16.3-7.3-16.3-16.3v-29.1c0-9 7.3-16.3 16.3-16.3s16.3 7.3 16.3 16.3v29.1c0 9-7.4 16.3-16.3 16.3zM812.4 518.9c0-9 7.3-16.3 16.3-16.3h29.1c9 0 16.3 7.3 16.3 16.3s-7.3 16.3-16.3 16.3h-29.1c-8.9 0-16.3-7.3-16.3-16.3zM150.4 518.9c0-9 7.3-16.3 16.3-16.3h29.1c9 0 16.3 7.3 16.3 16.3s-7.3 16.3-16.3 16.3h-29.1c-8.9 0-16.3-7.3-16.3-16.3z" fill="#323232"></path>\r
    <path d="M296.9 733.5c-2.2 0-4.5-0.9-6.2-2.6-3.4-3.4-3.4-9 0-12.4L540 469.2c3.4-3.4 9-3.4 12.4 0 3.4 3.4 3.4 9 0 12.4L303.1 731c-1.7 1.7-4 2.5-6.2 2.5z" fill="#919191">\r
        <animateTransform attributeName="transform" attributeType="XML" type="rotate" from="135 512 512" to="495 512 512" dur="60s" repeatCount="indefinite" />\r
    </path>\r
    <path d="M512.3 506.3m-22.8 0a22.8 22.8 0 1 0 45.6 0 22.8 22.8 0 1 0-45.6 0Z" fill="#FFFFFF"></path>\r
</symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-common-table"><path d="M928 96v832h-832V416.96h64v203.776h204.8V384h23.296v-19.2L620.8 364.736V160H416v-64h512z m-563.2 563.136H160V864h204.8v-204.864z m38.4 0V864h217.536v-204.864H403.2z m460.8 0h-204.864V864H864v-204.864z m-460.8-256v217.6h217.536v-217.6H403.2z m460.8 0h-204.864v217.6H864v-217.6z m0-38.4V160h-204.864v204.736H864z" fill="#324558" p-id="14150" /><path d="M415.936 353.024v49.92l207.36 0.064v217.984H400.64V417.024h-48.768v-64h64z m-128 0v64h-64v-64h64z m-128 0v64h-64v-64h64z m0-128.512v64h-64v-64h64z m256 0v64h-64v-64h64z m-256-128.448v64h-64v-64h64z m128 0v64h-64v-64h64z m128 0v64h-64v-64h64z" fill="#41A368" p-id="14151" /></symbol><symbol class="icon" viewBox="0 0 1979 1024"   id="svg-el-button"><path d="M409.6 320.853333c34.133333 0 61.44 6.826667 75.093333 27.306667 20.48 13.653333 27.306667 34.133333 27.306667 61.44 0 20.48-6.826667 34.133333-13.653333 47.786667-6.826667 13.653333-20.48 20.48-34.133334 27.306666 20.48 6.826667 40.96 13.653333 47.786667 27.306667s20.48 34.133333 20.48 54.613333c0 34.133333-13.653333 61.44-34.133333 75.093334-20.48 13.653333-47.786667 20.48-81.92 20.48H252.586667v-341.333334H409.6zM307.2 464.213333h88.746667c27.306667 0 40.96-6.826667 54.613333-13.653333 13.653333-6.826667 13.653333-20.48 13.653333-40.96s-6.826667-27.306667-13.653333-34.133333c-13.653333-6.826667-27.306667-13.653333-47.786667-13.653334H307.2v102.4z m0 157.013334h95.573333c20.48 0 40.96-6.826667 54.613334-13.653334 13.653333-6.826667 20.48-20.48 20.48-40.96s-6.826667-34.133333-20.48-40.96c-13.653333-6.826667-27.306667-13.653333-54.613334-13.653333H307.2v109.226667zM628.053333 416.426667v150.186666c0 20.48 6.826667 34.133333 13.653334 47.786667 6.826667 6.826667 20.48 13.653333 40.96 13.653333 13.653333 0 27.306667-6.826667 34.133333-13.653333 13.653333-13.653333 20.48-27.306667 27.306667-40.96V423.253333h47.786666v245.76h-47.786666v-34.133333c-20.48 27.306667-47.786667 40.96-75.093334 40.96-61.44 0-88.746667-34.133333-88.746666-102.4V416.426667h47.786666zM928.426667 416.426667h54.613333v40.96h-54.613333v143.36c0 6.826667 0 13.653333 6.826666 13.653333 0 0 6.826667 6.826667 13.653334 6.826667h34.133333v40.96h-40.96c-20.48 0-34.133333-6.826667-47.786667-13.653334-6.826667-13.653333-13.653333-27.306667-13.653333-47.786666V457.386667h-47.786667v-40.96h47.786667v-61.44l47.786667-20.48v81.92zM1099.093333 416.426667h54.613334v40.96h-54.613334v143.36c0 6.826667 0 13.653333 6.826667 13.653333 0 0 6.826667 6.826667 13.653333 6.826667h34.133334v40.96h-40.96c-20.48 0-34.133333-6.826667-47.786667-13.653334-6.826667-13.653333-13.653333-27.306667-13.653333-47.786666V457.386667h-47.786667v-40.96h47.786667v-61.44l47.786666-20.48v81.92zM1399.466667 443.733333c20.48 27.306667 34.133333 54.613333 34.133333 95.573334 0 34.133333-13.653333 68.266667-34.133333 95.573333-20.48 27.306667-54.613333 40.96-88.746667 40.96s-68.266667-13.653333-88.746667-40.96c-20.48-27.306667-34.133333-54.613333-34.133333-95.573333 0-40.96 13.653333-68.266667 34.133333-95.573334 20.48-27.306667 54.613333-34.133333 88.746667-34.133333 40.96 0 68.266667 13.653333 88.746667 34.133333z m-143.36 34.133334c-13.653333 13.653333-13.653333 34.133333-13.653334 61.44s6.826667 47.786667 13.653334 61.44c13.653333 20.48 34.133333 27.306667 54.613333 27.306666 20.48 0 40.96-6.826667 54.613333-27.306666 13.653333-13.653333 20.48-34.133333 20.48-61.44s-6.826667-47.786667-20.48-61.44c-13.653333-20.48-34.133333-27.306667-54.613333-27.306667-20.48 0-40.96 6.826667-54.613333 27.306667zM1699.84 512v150.186667h-47.786667V512c0-40.96-20.48-61.44-54.613333-61.44-13.653333 0-27.306667 6.826667-40.96 13.653333-13.653333 13.653333-20.48 27.306667-20.48 47.786667v150.186667h-47.786667V416.426667h47.786667v27.306666c6.826667-13.653333 20.48-20.48 34.133333-27.306666 13.653333-6.826667 27.306667-6.826667 40.96-6.826667 54.613333 0 88.746667 34.133333 88.746667 102.4z" fill="#515151" p-id="8648" data-spm-anchor-id="a313x.search_index.0.i1.117f3a81AAHUyn" class="" /><path d="M1877.333333 1024h-1774.933333C47.786667 1024 0 976.213333 0 921.6v-819.2C0 47.786667 47.786667 0 102.4 0h1774.933333c54.613333 0 102.4 47.786667 102.4 102.4v819.2c0 54.613333-47.786667 102.4-102.4 102.4zM102.4 68.266667c-20.48 0-34.133333 13.653333-34.133333 34.133333v819.2c0 20.48 13.653333 34.133333 34.133333 34.133333h1774.933333c20.48 0 34.133333-13.653333 34.133334-34.133333v-819.2c0-20.48-13.653333-34.133333-34.133334-34.133333h-1774.933333z" fill="#bfbfbf" p-id="8649" data-spm-anchor-id="a313x.search_index.0.i2.117f3a81AAHUyn" class="" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-el-tag"><path d="M247.164 308.281c-33.742 0-61.116 27.385-61.116 61.116 0 33.761 27.374 61.156 61.116 61.156 33.76 0 61.116-27.395 61.116-61.156 0-33.731-27.355-61.116-61.116-61.116m0 81.488c-11.26 0-20.372-9.102-20.372-20.372 0-11.24 9.111-20.372 20.372-20.372s20.372 9.132 20.372 20.372c0 11.27-9.112 20.372-20.372 20.372m244.464 244.463c5.63 0 10.723-2.248 14.403-5.989l40.744-40.743a20.125 20.125 0 0 0 5.967-14.345c0-11.28-9.11-20.411-20.37-20.411-5.61 0-10.704 2.287-14.405 5.988l-40.743 40.744c-3.68 3.7-5.968 8.754-5.968 14.384-0.001 11.28 9.111 20.372 20.372 20.372m462.585-156.988L546.775 69.806a20.248 20.248 0 0 0-14.404-5.99H247.164c-33.742 0-61.116 27.386-61.116 61.117 0 11.271 9.11 20.372 20.37 20.372s20.373-9.102 20.373-20.372c0-11.24 9.111-20.372 20.372-20.372h276.773l387.067 387.107-46.712 46.692c-3.68 3.69-5.968 8.764-5.968 14.385 0 11.28 9.132 20.41 20.372 20.41 5.63 0 10.723-2.286 14.403-6.027l61.116-61.106a20.247 20.247 0 0 0 5.969-14.354c-0.001-5.659-2.29-10.733-5.97-14.424M389.768 695.348c0 11.28 9.111 20.372 20.372 20.372 5.63 0 10.723-2.248 14.403-5.989l20.372-20.372a20.127 20.127 0 0 0 5.969-14.344c0-11.28-9.112-20.411-20.372-20.411a20.245 20.245 0 0 0-14.404 5.988l-20.371 20.372c-3.681 3.702-5.97 8.793-5.97 14.384m34.776-503.311a20.247 20.247 0 0 0-14.403-5.989H124.932c-33.742 0-61.116 27.385-61.116 61.116v285.208c0 5.63 2.287 10.723 5.968 14.393l407.44 407.43c3.7 3.74 8.793 5.988 14.402 5.988 5.63 0 10.724-2.248 14.404-5.989l325.952-325.95c3.7-3.66 5.968-8.754 5.968-14.384s-2.287-10.682-5.968-14.384l-407.44-407.44z m67.085 718.988L104.56 523.947V247.164c0-11.24 9.11-20.37 20.37-20.37h276.773L788.772 613.86 491.628 911.025z m0-113.817c5.63 0 10.723-2.248 14.403-5.989l81.487-81.488a20.231 20.231 0 0 0 5.97-14.384c0-11.26-9.112-20.332-20.373-20.332-5.63 0-10.723 2.248-14.403 5.948l-81.488 81.488c-3.68 3.7-5.968 8.753-5.968 14.424-0.001 11.24 9.111 20.333 20.372 20.333" p-id="18247" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-hamburger"><path d="M691.3024 176.5376c47.3088 36.864 77.824 94.4128 77.824 159.0272 0 20.2752-16.384 36.6592-36.6592 36.6592h-584.704c0 1.6384-0.1024 3.3792-0.1024 5.12 0 20.2752 16.384 36.6592 36.6592 36.6592h655.36c20.2752 0 36.6592-16.384 36.6592-36.6592 0-105.8816-81.5104-192.512-185.0368-200.8064z" fill="#FFA43E" p-id="1687" /><path d="M769.1264 335.4624c0-64.6144-30.5152-122.1632-77.824-159.0272-5.4272-0.4096-10.8544-0.6144-16.2816-0.6144H349.0816c-109.568 0-198.656 87.4496-201.3184 196.3008h584.704c20.1728 0 36.5568-16.384 36.6592-36.6592z" fill="#FFD14F" p-id="1688" /><path d="M814.6944 512.4096h-48.9472c2.1504 6.2464 3.2768 12.9024 3.2768 19.8656V606.208c0 33.9968-27.648 61.6448-61.6448 61.6448H150.9376c8.2944 24.2688 31.232 41.6768 58.368 41.6768h605.3888c33.9968 0 61.6448-27.648 61.6448-61.6448v-73.9328c0-33.8944-27.5456-61.5424-61.6448-61.5424z" fill="#E01E22" p-id="1689" /><path d="M769.1264 606.3104v-73.9328c0-6.9632-1.2288-13.6192-3.2768-19.8656H209.3056c-33.9968 0-61.6448 27.648-61.6448 61.6448v73.9328c0 6.9632 1.1264 13.6192 3.2768 19.8656h556.544c33.9968-0.1024 61.5424-27.648 61.6448-61.6448z" fill="#F06661" p-id="1690" /><path d="M835.1744 413.7984H769.024v15.6672c0 22.7328-18.432 41.1648-41.1648 41.1648H147.6608v0.512c0 22.7328 18.432 41.1648 41.1648 41.1648h646.3488c22.7328 0 41.1648-18.432 41.1648-41.1648v-16.2816c0-22.6304-18.432-41.0624-41.1648-41.0624z" fill="#3EBA4A" p-id="1691" /><path d="M769.1264 429.568v-15.6672H188.8256c-22.7328 0-41.1648 18.432-41.1648 41.1648v15.6672h580.3008c22.6304 0 41.0624-18.432 41.1648-41.1648z" fill="#68E077" p-id="1692" /><path d="M848.384 709.632H769.024v14.336c0 45.568-36.864 82.432-82.432 82.432H158.4128c14.2336 24.8832 40.96 41.6768 71.68 41.6768h563.8144c45.568 0 82.432-36.864 82.432-82.432v-28.16c0-15.36-12.4928-27.8528-27.9552-27.8528z" fill="#FFA43E" p-id="1693" /><path d="M769.1264 723.968v-14.336H175.616c-15.4624 0-27.9552 12.4928-27.9552 27.9552v28.16c0 14.848 3.8912 28.672 10.752 40.7552h528.1792c45.568-0.1024 82.5344-36.9664 82.5344-82.5344z" fill="#FFD14F" p-id="1694" /><path d="M420.7616 540.5696l-68.9152 68.9152 26.112 26.112 95.1296-95.1296c18.0224-18.0224 42.496-28.16 67.9936-28.16h-52.3264c-25.6 0.1024-49.9712 10.24-67.9936 28.2624z" fill="#FFA43E" p-id="1695" /><path d="M488.6528 512.4096H214.9376c25.4976 0 49.9712 10.1376 67.9936 28.16l68.9152 68.9152 68.9152-68.9152c18.0224-18.0224 42.496-28.16 67.8912-28.16z" fill="#FFD14F" p-id="1696" /><path d="M499.2 264.0896a26.3168 15.4624 90 1 0 30.9248 0 26.3168 15.4624 90 1 0-30.9248 0Z" fill="#FDF7E5" p-id="1697" /><path d="M377.060391 277.944478a15.4624 26.3168 30 1 0 26.3168-45.582035 15.4624 26.3168 30 1 0-26.3168 45.582035Z" fill="#FDF7E5" p-id="1698" /><path d="M625.699208 262.908333a26.3168 15.4624 60 1 0 26.781662-15.4624 26.3168 15.4624 60 1 0-26.781662 15.4624Z" fill="#FDF7E5" p-id="1699" /><path d="M867.4304 415.0272c11.5712-8.4992 19.1488-22.3232 19.1488-37.7856 0-116.736-94.9248-211.6608-211.6608-211.6608H349.0816c-116.736 0-211.6608 94.9248-211.6608 211.6608 0 15.4624 7.5776 29.184 19.1488 37.7856-11.6736 9.4208-19.1488 23.8592-19.1488 40.0384v16.2816c0 19.968 11.4688 37.2736 28.16 45.7728-17.1008 13.1072-28.16 33.792-28.16 56.9344v73.9328c0 21.504 9.5232 40.7552 24.4736 53.9648-14.336 5.5296-24.4736 19.3536-24.4736 35.6352v28.16c0 51.0976 41.5744 92.672 92.672 92.672h563.8144c51.0976 0 92.672-41.5744 92.672-92.672v-28.16c0-16.1792-10.1376-30.1056-24.4736-35.6352 14.9504-13.2096 24.4736-32.4608 24.4736-53.9648v-73.9328c0-23.1424-11.0592-43.8272-28.16-56.9344 16.6912-8.4992 28.16-25.8048 28.16-45.7728v-16.2816c0-16.1792-7.4752-30.6176-19.1488-40.0384zM184.32 403.5584c-14.5408 0-26.4192-11.776-26.4192-26.4192 0-105.3696 85.8112-191.1808 191.1808-191.1808h325.9392c105.3696 0 191.1808 85.8112 191.1808 191.1808 0 14.5408-11.776 26.4192-26.4192 26.4192H184.32z m293.888 119.0912c-4.4032 3.1744-8.4992 6.7584-12.3904 10.6496l-87.8592 87.8592-87.8592-87.8592c-3.8912-3.8912-8.0896-7.4752-12.3904-10.6496H478.208z m387.8912 243.0976c0 39.8336-32.3584 72.192-72.192 72.192H230.0928c-39.8336 0-72.192-32.3584-72.192-72.192v-28.16c0-9.728 7.9872-17.7152 17.7152-17.7152h672.8704c9.728 0 17.7152 7.9872 17.7152 17.7152v28.16z m0-191.6928v73.9328c0 28.3648-23.04 51.4048-51.4048 51.4048H209.3056c-28.3648 0-51.4048-23.04-51.4048-51.4048v-73.9328c0-28.3648 23.04-51.4048 51.4048-51.4048h5.632c22.9376 0 44.544 8.9088 60.7232 25.1904l95.1296 95.1296c1.9456 1.9456 4.5056 2.9696 7.2704 2.9696 2.6624 0 5.3248-1.024 7.2704-2.9696L480.256 547.84c16.1792-16.1792 37.7856-25.1904 60.7232-25.1904h273.7152c28.3648 0 51.4048 23.1424 51.4048 51.4048z m0-102.8096c0 17.1008-13.824 30.9248-30.9248 30.9248H188.8256c-16.9984 0-30.9248-13.824-30.9248-30.9248v-16.2816c0-17.1008 13.9264-30.9248 30.9248-30.9248h646.3488c17.1008 0 30.9248 13.9264 30.9248 30.9248v16.2816z m-72.192 387.1744zM377.9584 645.9392z m136.704-351.4368c10.9568 0 19.5584-13.4144 19.5584-30.4128 0-17.1008-8.6016-30.4128-19.5584-30.4128s-19.5584 13.4144-19.5584 30.4128c0 17.1008 8.6016 30.4128 19.5584 30.4128z m0-52.6336c5.3248 0 11.3664 9.1136 11.3664 22.2208 0 13.1072-5.9392 22.2208-11.3664 22.2208s-11.3664-9.1136-11.3664-22.2208c0-13.1072 6.0416-22.2208 11.3664-22.2208z m-139.5712 39.6288c2.1504 1.2288 4.5056 1.8432 7.0656 1.8432 3.2768 0 6.7584-1.024 10.3424-3.072 5.632-3.1744 10.8544-8.704 14.7456-15.36 8.4992-14.7456 7.7824-30.6176-1.7408-36.1472-4.9152-2.8672-11.0592-2.3552-17.408 1.2288-5.632 3.1744-10.8544 8.704-14.7456 15.36-8.4992 14.7456-7.7824 30.6176 1.7408 36.1472z m5.3248-32.0512c3.072-5.4272 7.3728-9.9328 11.6736-12.3904 2.2528-1.3312 4.4032-1.9456 6.2464-1.9456 1.1264 0 2.1504 0.2048 2.9696 0.7168 4.608 2.6624 5.2224 13.6192-1.3312 24.9856-3.072 5.4272-7.3728 9.9328-11.6736 12.3904-3.6864 2.048-7.0656 2.56-9.216 1.2288-4.608-2.7648-5.2224-13.6192 1.3312-24.9856zM636.928 280.2688c3.584 2.048 7.0656 3.072 10.3424 3.072 2.56 0 4.9152-0.6144 7.0656-1.8432 9.5232-5.5296 10.24-21.4016 1.7408-36.1472-3.8912-6.7584-9.1136-12.1856-14.7456-15.36-6.3488-3.584-12.4928-3.9936-17.408-1.2288-9.5232 5.5296-10.24 21.4016-1.7408 36.1472 3.8912 6.656 9.1136 12.1856 14.7456 15.36z m-9.0112-44.4416c2.2528-1.3312 5.632-0.8192 9.216 1.2288 4.3008 2.4576 8.6016 6.9632 11.6736 12.3904 6.5536 11.3664 5.9392 22.3232 1.3312 24.9856-2.2528 1.3312-5.632 0.8192-9.216-1.2288-4.3008-2.4576-8.6016-6.9632-11.6736-12.3904-6.5536-11.3664-5.9392-22.2208-1.3312-24.9856z" p-id="1700" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-hotpot"><path d="M962.4576 438.4768h-64.3072c-11.6736-61.6448-37.6832-118.1696-74.5472-165.9904 17.6128 48.0256 27.136 99.84 27.136 153.9072 0 246.9888-200.192 447.1808-447.1808 447.1808-17.92 0-35.5328-1.024-52.8384-3.072 49.152 22.1184 103.7312 34.5088 161.1776 34.5088 192 0 351.744-137.6256 386.1504-319.5904h64.3072c10.752 0 19.456-8.704 19.456-19.456V457.9328c0.1024-10.752-8.6016-19.456-19.3536-19.456z" fill="#FFA43E" p-id="1853" /><path d="M850.8416 426.496c0-54.0672-9.6256-105.8816-27.136-153.9072-71.8848-93.3888-184.7296-153.6-311.7056-153.6-192 0-351.744 137.6256-386.1504 319.5904H61.5424c-10.752 0-19.456 8.704-19.456 19.456v108.1344c0 10.752 8.704 19.456 19.456 19.456h64.3072c24.1664 127.488 109.7728 233.2672 224.9728 285.0816 17.3056 2.048 34.9184 3.072 52.8384 3.072 246.9888-0.1024 447.1808-200.3968 447.1808-447.2832z" fill="#FFD14F" p-id="1854" /><path d="M680.6528 681.6768c0-93.184-75.5712-168.6528-168.6528-168.6528s-168.6528-75.5712-168.6528-168.6528S418.816 175.616 512 175.616v-1.9456c-186.88 0-338.3296 151.4496-338.3296 338.3296S325.12 850.3296 512 850.3296c93.184 0 168.6528-75.4688 168.6528-168.6528z" fill="#FDF7E5" p-id="1855" /><path d="M512 173.6704v1.9456c-93.184 0-168.6528 75.5712-168.6528 168.6528S418.816 512.9216 512 512.9216s168.6528 75.5712 168.6528 168.6528S605.184 850.3296 512 850.3296c186.88 0 338.3296-151.4496 338.3296-338.3296S698.88 173.6704 512 173.6704z" fill="#E01E22" p-id="1856" /><path d="M557.568 394.1376l19.5584-19.5584c27.648-27.648-27.4432-82.6368-54.9888-54.9888L391.5776 450.048s6.2464 29.3888 62.464 52.6336 92.16 11.5712 92.16 11.5712l59.8016-59.8016c27.5456-27.5456-20.8896-87.8592-48.4352-60.3136z" fill="#F06661" p-id="1857" /><path d="M592.4864 444.7232c14.336-14.336-17.5104-46.08-31.744-31.744-14.336 14.336 17.408 46.08 31.744 31.744z" fill="#E01E22" p-id="1858" /><path d="M349.4912 488.7552c0-14.9504-10.9568-27.7504-26.4192-32.768 3.3792 5.12 5.4272 11.0592 5.4272 17.408 0 12.1856-7.2704 22.9376-18.2272 29.184 1.536 3.9936 2.3552 8.192 2.3552 12.5952 0 21.9136-20.6848 39.7312-46.2848 39.7312-6.4512 0-12.5952-1.1264-18.2272-3.1744 8.192 11.1616 22.6304 18.6368 39.2192 18.6368 25.6 0 46.2848-17.8176 46.2848-39.7312 0-4.4032-0.8192-8.6016-2.3552-12.5952 10.9568-6.3488 18.2272-17.1008 18.2272-29.2864z" fill="#3EBA4A" p-id="1859" /><path d="M312.6272 515.1744c0-4.4032-0.8192-8.6016-2.3552-12.5952 10.9568-6.2464 18.2272-16.9984 18.2272-29.184 0-6.3488-1.9456-12.288-5.4272-17.408-4.5056-1.4336-9.4208-2.2528-14.5408-2.2528-14.6432 0-27.5456 6.656-34.7136 16.5888-5.9392-3.9936-13.312-6.3488-21.4016-6.3488-19.2512 0-34.9184 13.4144-34.9184 30.0032 0 13.4144 10.24 24.7808 24.4736 28.5696-0.6144 2.56-0.9216 5.3248-0.9216 8.0896 0 7.7824 2.6624 15.0528 7.0656 21.1968 5.632 2.048 11.776 3.1744 18.2272 3.1744 25.6-0.1024 46.2848-17.92 46.2848-39.8336z" fill="#68E077" p-id="1860" /><path d="M558.6944 620.4416c14.848 17.8176 21.1968 41.1648 15.1552 64.512-10.8544 42.2912-58.0608 68.8128-105.472 59.0848-4.8128-1.024-9.4208-2.2528-13.824-3.8912 12.0832 14.4384 29.696 25.3952 50.9952 29.696 47.4112 9.728 94.6176-16.7936 105.472-59.0848 9.728-38.0928-13.2096-75.9808-52.3264-90.3168zM432.5376 586.8544c13.4144 16.0768 19.1488 37.1712 13.7216 58.2656-9.8304 38.2976-52.5312 62.1568-95.3344 53.4528-4.3008-0.9216-8.4992-2.048-12.4928-3.584 10.8544 13.1072 26.9312 22.9376 46.08 26.8288 42.9056 8.704 85.6064-15.1552 95.3344-53.4528 8.8064-34.304-11.9808-68.608-47.3088-81.5104z" fill="#7C4115" p-id="1861" /><path d="M446.2592 645.12c5.4272-21.0944-0.3072-42.1888-13.7216-58.2656-3.9936-1.4336-8.192-2.6624-12.4928-3.584-42.9056-8.704-85.6064 15.1552-95.3344 53.4528-5.4272 21.0944 0.3072 42.1888 13.7216 58.2656 3.9936 1.4336 8.192 2.6624 12.4928 3.584 42.8032 8.704 85.504-15.1552 95.3344-53.4528zM573.8496 684.9536c5.9392-23.3472-0.3072-46.592-15.1552-64.512-4.4032-1.6384-9.0112-2.9696-13.824-3.8912-47.4112-9.728-94.6176 16.7936-105.472 59.0848-5.9392 23.3472 0.4096 46.592 15.2576 64.512 4.4032 1.6384 9.0112 2.9696 13.824 3.8912 47.3088 9.6256 94.5152-16.7936 105.3696-59.0848z" fill="#8B5526" p-id="1862" /><path d="M542.3104 676.1472l33.28 13.824-37.6832 1.1264c-2.7648 0.1024-5.2224 1.3312-6.5536 3.1744l-17.6128 26.0096-1.4336-29.3888c-0.1024-2.1504-1.6384-4.096-4.096-5.12l-33.28-13.824 37.6832-1.1264c2.7648-0.1024 5.2224-1.3312 6.5536-3.1744l17.6128-26.0096 1.4336 29.3888c0 2.2528 1.6384 4.1984 4.096 5.12zM419.5328 636.928l30.72 12.6976-34.7136 1.024c-2.56 0.1024-4.8128 1.2288-6.0416 2.9696L393.216 677.5808l-1.3312-27.0336c-0.1024-1.9456-1.536-3.7888-3.7888-4.7104l-30.72-12.6976 34.7136-1.024c2.56-0.1024 4.8128-1.2288 6.0416-2.9696l16.2816-23.9616 1.3312 27.0336c0.1024 1.9456 1.536 3.7888 3.7888 4.7104z" fill="#C8A981" p-id="1863" /><path d="M767.8976 503.6032c3.584 7.0656 5.632 15.0528 5.632 23.552 0 28.8768-23.3472 52.224-52.224 52.224-8.4992 0-16.4864-2.048-23.552-5.632 8.6016 16.9984 26.3168 28.7744 46.6944 28.7744 28.8768 0 52.224-23.3472 52.224-52.224 0-20.3776-11.776-38.0928-28.7744-46.6944z" fill="#E01E22" p-id="1864" /><path d="M773.5296 527.1552c0-8.4992-2.048-16.4864-5.632-23.552-7.0656-3.584-15.0528-5.632-23.552-5.632-28.8768 0-52.224 23.4496-52.224 52.224 0 8.4992 2.048 16.4864 5.632 23.552 7.0656 3.584 15.0528 5.632 23.552 5.632 28.7744 0 52.224-23.3472 52.224-52.224z" fill="#F06661" p-id="1865" /><path d="M563.5072 364.9536c14.336-14.336-17.5104-46.08-31.744-31.744-14.336 14.2336 17.5104 45.9776 31.744 31.744z" fill="#E01E22" p-id="1866" /><path d="M752.3328 369.5616c3.1744 5.7344 5.0176 12.288 5.0176 19.3536 0 22.016-17.8176 39.8336-39.8336 39.8336-7.0656 0-13.6192-1.8432-19.3536-5.0176 6.7584 12.1856 19.8656 20.48 34.816 20.48 22.016 0 39.8336-17.8176 39.8336-39.8336 0-15.0528-8.2944-28.0576-20.48-34.816z" fill="#FFA43E" p-id="1867" /><path d="M717.7216 310.6816c4.096 7.4752 6.5536 15.9744 6.5536 25.088 0 28.5696-23.1424 51.712-51.712 51.712-9.1136 0-17.7152-2.3552-25.088-6.5536 8.8064 15.872 25.8048 26.624 45.2608 26.624 28.5696 0 51.712-23.1424 51.712-51.712-0.1024-19.3536-10.8544-36.2496-26.7264-45.1584z" fill="#E2E2E2" p-id="1868" /><path d="M757.3504 388.9152c0-7.0656-1.8432-13.6192-5.0176-19.3536-5.7344-3.1744-12.288-5.0176-19.3536-5.0176-22.016 0-39.8336 17.8176-39.8336 39.8336 0 7.0656 1.8432 13.6192 5.0176 19.3536 5.7344 3.1744 12.288 5.0176 19.3536 5.0176 21.9136 0 39.8336-17.92 39.8336-39.8336z" fill="#FFD14F" p-id="1869" /><path d="M724.2752 335.872c0-9.1136-2.3552-17.7152-6.5536-25.088-7.4752-4.096-15.9744-6.5536-25.088-6.5536-28.5696 0-51.712 23.1424-51.712 51.712 0 9.1136 2.3552 17.7152 6.5536 25.088 7.4752 4.096 15.9744 6.5536 25.088 6.5536 28.5696 0 51.712-23.1424 51.712-51.712z" fill="#FFFFFF" p-id="1870" /><path d="M512 163.4304c-93.0816 0-180.6336 36.2496-246.4768 102.0928S163.4304 418.9184 163.4304 512s36.2496 180.6336 102.0928 246.4768 153.3952 102.0928 246.4768 102.0928 180.6336-36.2496 246.4768-102.0928 102.0928-153.3952 102.0928-246.4768-36.2496-180.6336-102.0928-246.4768-153.3952-102.0928-246.4768-102.0928zM183.9104 512c0-142.6432 91.5456-264.3968 218.9312-309.4528-42.3936 32.768-69.8368 84.0704-69.8368 141.7216 0 98.6112 80.2816 178.8928 178.8928 178.8928 87.3472 0 158.4128 71.0656 158.4128 158.4128S599.3472 840.0896 512 840.0896c-180.9408 0-328.0896-147.1488-328.0896-328.0896z m414.8224-64.8192l-6.9632 6.9632c-5.12-1.7408-11.3664-5.8368-17.2032-11.6736-10.5472-10.5472-15.36-22.2208-10.9568-26.624 2.2528-2.2528 5.3248-2.9696 9.1136-2.048 3.8912 0.9216 8.0896 3.584 11.6736 7.168s6.2464 7.8848 7.168 11.6736c0.9216 3.7888 0.3072 6.8608-2.048 9.1136-1.6384 1.6384-1.6384 4.1984 0 5.8368 1.6384 1.6384 4.1984 1.6384 5.8368 0 4.3008-4.3008 5.8368-10.3424 4.096-16.896-1.3312-5.3248-4.608-10.8544-9.3184-15.4624-9.0112-9.0112-23.04-14.5408-32.3584-5.12-9.4208 9.4208-1.2288 25.9072 10.9568 38.1952 5.12 5.12 10.9568 9.5232 16.6912 12.1856L550.4 495.616c-10.6496-15.36-15.872-38.2976-16.0768-55.5008-0.1024-3.7888 0.1024-7.0656 0.512-9.9328l23.4496-23.4496c10.6496-10.6496 26.7264-0.2048 33.6896 6.7584 6.9632 7.0656 17.408 23.04 6.7584 33.6896z m-123.904 42.9056c0 2.7648 0.1024 5.5296 0.3072 8.2944-2.2528-0.512-4.5056-1.1264-6.7584-1.7408l6.4512-6.5536z m8.6016 10.0352c-0.7168-7.168-0.6144-13.5168 0-18.6368l22.7328-22.7328c0.4096 12.9024 3.584 28.672 10.5472 44.032-1.536 0-3.072-0.1024-4.7104-0.1024-9.728 0-19.2512-0.8192-28.5696-2.56z m42.5984 3.1744c-10.0352-19.8656-12.4928-40.1408-11.5712-52.736l11.6736-11.6736v1.3312c0.3072 19.5584 6.144 44.4416 18.432 61.2352l-3.584 3.584c-5.0176-0.8192-9.9328-1.3312-14.9504-1.7408z m43.8272-135.8848l-6.9632 6.9632c-5.12-1.7408-11.3664-5.8368-17.2032-11.6736-10.5472-10.5472-15.36-22.2208-10.9568-26.624 5.12-5.12 14.336-1.2288 20.7872 5.12 3.584 3.584 6.2464 7.8848 7.168 11.6736 0.9216 3.7888 0.3072 6.8608-2.048 9.1136-1.6384 1.6384-1.6384 4.1984 0 5.8368 1.6384 1.6384 4.1984 1.6384 5.8368 0 9.3184-9.3184 3.8912-23.3472-5.12-32.3584s-23.04-14.5408-32.3584-5.12c-9.4208 9.4208-1.2288 25.9072 10.9568 38.1952 5.12 5.12 10.9568 9.5232 16.7936 12.1856l-6.3488 6.3488-0.2048 0.2048c-2.2528 1.4336-4.4032 3.072-6.3488 5.12l-22.8352 22.8352c-10.3424-15.36-15.36-37.888-15.5648-54.784-0.1024-3.7888 0.1024-7.0656 0.4096-9.8304l23.4496-23.4496c4.3008-4.3008 9.728-5.5296 16.4864-3.7888 12.0832 3.1744 24.576 15.6672 27.7504 27.7504 1.8432 6.5536 0.6144 11.8784-3.6864 16.2816z m-72.704-8.3968v1.3312c0.3072 19.2512 5.9392 43.7248 17.92 60.6208l-12.3904 12.3904c-14.5408-22.2208-18.3296-47.7184-17.2032-62.5664l11.6736-11.776zM477.184 378.9824c0.1024 4.096 0.6144 8.3968 1.2288 12.9024 1.6384 10.4448 6.144 29.2864 18.3296 47.3088l-27.136 27.136c-10.3424-15.36-15.36-37.888-15.5648-54.784-0.1024-3.7888 0.1024-7.0656 0.4096-9.8304l22.7328-22.7328z m-31.3344 31.3344v1.3312c0.3072 19.2512 5.9392 43.7248 17.92 60.6208l-12.3904 12.3904c-14.5408-22.2208-18.3296-47.7184-17.2032-62.5664l11.6736-11.776z m-20.0704 20.0704c0.1024 4.096 0.6144 8.3968 1.2288 12.9024 1.536 9.728 5.5296 26.8288 15.9744 43.7248-16.0768-7.7824-30.6176-18.2272-43.1104-30.72l25.9072-25.9072z m199.7824 389.4272c39.936-32.8704 65.4336-82.6368 65.4336-138.24 0-80.4864-53.3504-148.6848-126.5664-171.1104l48.8448-48.8448c18.3296-18.3296 10.4448-45.4656-6.8608-62.6688-6.8608-6.8608-15.36-12.288-24.1664-15.1552l2.048-2.048c9.5232-9.5232 12.8-22.4256 9.0112-36.2496-5.12-19.3536-22.9376-37.0688-42.2912-42.2912-13.824-3.6864-26.7264-0.512-36.2496 9.0112L386.4576 440.7296c-20.5824-26.7264-32.8704-60.2112-32.8704-96.4608 0-87.3472 71.0656-158.4128 158.4128-158.4128 2.1504 0 4.1984-0.7168 5.8368-1.8432 178.176 3.1744 322.2528 149.0944 322.2528 327.9872 0 141.0048-89.3952 261.5296-214.528 307.8144z m272.5888-262.144c-2.2528 0-4.096-1.8432-4.096-4.096v-83.1488c0-2.2528 1.8432-4.096 4.096-4.096s4.096 1.8432 4.096 4.096v83.1488c0 2.2528-1.7408 4.096-4.096 4.096z m-772.3008-91.3408c2.2528 0 4.096 1.8432 4.096 4.096v83.1488c0 2.2528-1.8432 4.096-4.096 4.096s-4.096-1.8432-4.096-4.096v-83.1488c0-2.2528 1.8432-4.096 4.096-4.096z m218.0096 64.2048c0-2.7648-0.3072-5.632-0.8192-8.2944 10.5472-8.4992 16.5888-20.5824 16.5888-33.4848 0-24.9856-22.9376-45.3632-51.0976-45.3632-14.2336 0-27.4432 5.12-37.0688 14.0288-5.9392-2.4576-12.3904-3.7888-19.1488-3.7888-24.8832 0-45.1584 18.0224-45.1584 40.2432 0 15.0528 9.1136 28.3648 23.4496 35.328v1.3312c0 27.5456 25.3952 49.9712 56.5248 49.9712s56.7296-22.3232 56.7296-49.9712z m-22.1184-8.9088c1.1264 2.8672 1.7408 5.9392 1.7408 8.9088 0 16.2816-16.1792 29.4912-36.0448 29.4912-19.8656 0-36.0448-13.2096-36.0448-29.4912 0-1.9456 0.2048-3.7888 0.7168-5.7344 1.3312-5.4272-1.9456-10.8544-7.2704-12.288-10.0352-2.7648-16.896-10.24-16.896-18.7392 0-10.8544 11.0592-19.7632 24.6784-19.7632 5.8368 0 11.264 1.6384 15.7696 4.608 4.608 3.072 10.752 1.9456 14.0288-2.56 5.5296-7.5776 15.6672-12.3904 26.4192-12.3904 16.896 0 30.6176 11.1616 30.6176 24.8832 0 8.0896-4.9152 15.6672-13.1072 20.3776-4.608 2.6624-6.4512 7.9872-4.608 12.6976z m203.3664 260.4032c44.7488 0 85.2992-27.8528 95.8464-68.8128 5.632-21.7088 1.9456-44.4416-10.24-63.7952-13.6192-21.7088-36.864-37.376-63.8976-42.9056-22.016-4.5056-44.032-1.8432-63.0784 6.144-12.4928-20.5824-34.2016-35.5328-59.904-40.7552-48.8448-10.0352-97.792 17.8176-109.1584 61.952-5.2224 20.2752-1.8432 41.3696 9.5232 59.392 12.6976 20.2752 34.304 34.816 59.392 39.936 6.656 1.3312 13.4144 2.048 20.1728 2.048 10.9568 0 21.8112-1.7408 32.0512-5.2224 1.2288 2.3552 2.4576 4.608 3.8912 6.8608 13.6192 21.7088 36.864 37.376 63.8976 42.9056 7.168 1.536 14.4384 2.2528 21.504 2.2528z m-137.3184-68.9152c-19.6608-3.9936-36.4544-15.1552-46.08-30.72-8.2944-13.312-10.752-28.672-6.9632-43.52 8.6016-33.6896 46.8992-54.784 85.1968-47.0016 19.6608 3.9936 36.352 15.1552 45.9776 30.5152-8.192 5.632-15.5648 12.4928-21.504 20.2752l-23.2448-9.6256c-0.8192-0.3072-1.2288-0.8192-1.2288-1.1264l-1.3312-27.0336c-0.1024-1.7408-1.2288-3.2768-2.9696-3.7888s-3.4816 0.2048-4.5056 1.6384L394.8544 626.688c-0.3072 0.512-1.3312 1.1264-2.7648 1.1264l-34.7136 1.024c-1.9456 0.1024-3.584 1.4336-3.8912 3.3792-0.3072 1.9456 0.7168 3.7888 2.4576 4.5056l30.72 12.6976c0.8192 0.3072 1.2288 0.8192 1.2288 1.1264l1.3312 27.0336c0.1024 1.7408 1.2288 3.2768 2.9696 3.7888 0.4096 0.1024 0.7168 0.2048 1.1264 0.2048 1.3312 0 2.56-0.6144 3.3792-1.8432l16.2816-23.9616c0.4096-0.512 1.3312-1.1264 2.7648-1.1264l21.4016-0.6144c-3.1744 5.9392-5.7344 12.288-7.4752 18.944-3.1744 12.4928-3.3792 25.2928-0.6144 37.6832-13.2096 4.4032-27.5456 5.3248-41.2672 2.4576z m43.2128-66.9696l-15.5648 0.512c-3.8912 0.1024-7.3728 1.8432-9.3184 4.7104l-9.4208 13.824-0.7168-14.848c-0.2048-3.584-2.56-6.7584-6.3488-8.2944l-13.0048-5.4272 15.5648-0.512c3.8912-0.1024 7.3728-1.8432 9.3184-4.7104l9.4208-13.824 0.7168 14.848c0.2048 3.584 2.56 6.7584 6.3488 8.2944l13.0048 5.4272z m26.0096 79.872c-9.1136-14.6432-11.8784-31.6416-7.68-47.9232 4.7104-18.3296 17.3056-33.1776 33.9968-42.5984 0 0 0.1024 0 0.1024-0.1024 0.6144-0.3072 1.2288-0.6144 1.7408-1.024 11.8784-6.2464 25.6-9.728 39.936-9.728 5.8368 0 11.776 0.6144 17.7152 1.8432 21.504 4.4032 39.936 16.6912 50.5856 33.6896 9.1136 14.6432 11.8784 31.6416 7.68 47.9232-8.192 31.8464-40.2432 53.3504-75.776 53.3504-5.8368 0-11.776-0.6144-17.7152-1.8432-21.504-4.3008-39.936-16.5888-50.5856-33.5872z m80.9984-30.8224l37.6832-1.1264c1.9456-0.1024 3.584-1.4336 3.8912-3.3792s-0.7168-3.7888-2.4576-4.5056l-33.28-13.824c-1.024-0.4096-1.536-1.1264-1.536-1.536l-1.4336-29.3888c-0.1024-1.7408-1.2288-3.2768-2.9696-3.7888s-3.4816 0.2048-4.5056 1.6384l-17.6128 26.0096c-0.4096 0.7168-1.6384 1.3312-3.2768 1.4336l-37.6832 1.1264c-1.9456 0.1024-3.584 1.4336-3.8912 3.3792-0.3072 1.9456 0.7168 3.7888 2.4576 4.5056l33.28 13.824c1.024 0.4096 1.536 1.1264 1.536 1.536l1.4336 29.3888c0.1024 1.7408 1.2288 3.2768 2.9696 3.7888 0.4096 0.1024 0.7168 0.2048 1.1264 0.2048 1.3312 0 2.56-0.6144 3.3792-1.8432l17.6128-26.0096c0.512-0.7168 1.6384-1.4336 3.2768-1.4336z m-10.0352-3.1744l-10.752 15.872-0.8192-17.2032c-0.2048-3.6864-2.7648-7.0656-6.656-8.704l-15.6672-6.4512 18.5344-0.512c4.096-0.1024 7.7824-1.9456 9.8304-5.0176l10.752-15.872 0.8192 17.2032c0.2048 3.6864 2.7648 7.0656 6.656 8.704l15.6672 6.4512-18.5344 0.512c-4.096 0.1024-7.7824 1.9456-9.8304 5.0176z m-14.2336 32.3584z m168.1408-174.08c0 34.5088 28.0576 62.464 62.464 62.464 34.5088 0 62.464-28.0576 62.464-62.464s-28.0576-62.464-62.464-62.464-62.464 27.9552-62.464 62.464z m104.5504 0c0 23.1424-18.8416 41.984-41.984 41.984s-41.984-18.8416-41.984-41.984 18.8416-41.984 41.984-41.984c23.04 0 41.984 18.8416 41.984 41.984z m-94.3104-256.3072c-34.4064 0-62.3616 27.9552-62.3616 62.3616 0 31.9488 24.1664 58.368 55.1936 61.952 6.0416 20.7872 25.2928 36.1472 48.128 36.1472 27.648 0 50.0736-22.4256 50.0736-50.0736 0-19.968-11.6736-37.1712-28.5696-45.2608 0-0.9216 0.1024-1.8432 0.1024-2.7648-0.2048-34.4064-28.16-62.3616-62.5664-62.3616zM650.24 356.352c0-23.1424 18.8416-41.8816 41.8816-41.8816 22.4256 0 40.7552 17.7152 41.8816 39.8336h-1.024c-25.1904 0-46.1824 18.7392-49.5616 43.1104-18.944-4.096-33.1776-20.8896-33.1776-41.0624z m82.7392 77.6192c-16.2816 0-29.5936-13.312-29.5936-29.5936s13.312-29.5936 29.5936-29.5936c16.2816 0 29.5936 13.312 29.5936 29.5936s-13.312 29.5936-29.5936 29.5936z m259.1744 23.9616v108.1344c0 16.384-13.312 29.696-29.696 29.696h-55.808c-39.2192 185.6512-203.776 319.5904-394.5472 319.5904S156.672 781.5168 117.5552 595.7632H61.5424c-16.384 0-29.696-13.312-29.696-29.696V457.9328c0-16.384 13.312-29.696 29.696-29.696h55.9104c39.1168-185.6512 203.776-319.5904 394.5472-319.5904 45.9776 0 91.0336 7.68 133.9392 22.7328 41.472 14.6432 80.1792 35.84 114.8928 63.1808 4.4032 3.4816 5.2224 9.9328 1.7408 14.336-3.4816 4.4032-9.9328 5.2224-14.336 1.7408-67.8912-53.3504-149.6064-81.5104-236.2368-81.5104-183.808 0-342.016 130.8672-376.1152 311.1936-0.9216 5.12-5.5296 8.6016-10.6496 8.2944H61.5424c-5.12 0-9.216 4.096-9.216 9.216v108.1344c0 5.12 4.096 9.216 9.216 9.216h63.7952c5.0176-0.2048 9.5232 3.2768 10.4448 8.2944C169.984 763.904 328.192 894.7712 512 894.7712S854.016 763.904 888.1152 583.5776c0.9216-5.12 5.5296-8.6016 10.6496-8.2944h63.6928c5.12 0 9.216-4.096 9.216-9.216V457.9328c0-5.12-4.096-9.216-9.216-9.216h-63.7952c-5.0176 0.2048-9.5232-3.2768-10.4448-8.2944-13.7216-72.704-48.2304-139.4688-99.6352-193.2288-3.8912-4.096-3.7888-10.5472 0.3072-14.4384s10.5472-3.7888 14.4384 0.3072c52.224 54.4768 87.8592 121.856 103.3216 195.2768h55.808c16.384-0.1024 29.696 13.2096 29.696 29.5936z" p-id="1871" /></symbol><symbol viewBox="0 0 1024 1024"  id="svg-light">\r
    <path d="M565.096296 289.185185s-0.948148 0 0 0c-110.933333-20.859259-208.592593 40.77037-237.985185 148.859259-14.222222 53.096296-24.651852 101.451852 44.562963 221.866667 14.222222 25.6 11.377778 70.162963 8.533333 95.762963-1.896296 14.222222 64.474074 36.02963 89.125926 42.666667l95.762963-509.155556z" fill="#cccccc" />\r
    <path d="M732.918519 513.896296c11.377778-111.881481-56.888889-203.851852-166.874075-224.711111h-0.948148L469.333333 798.340741c25.6 2.844444 94.814815 6.637037 98.607408-7.585185 6.637037-25.6 20.859259-67.318519 42.666666-86.281482C719.644444 618.192593 727.22963 568.888889 732.918519 513.896296z" fill="#bbbbbb" />\r
    <path d="M467.437037 806.874074c-7.585185-0.948148-12.325926-7.585185-14.222222-14.222222l-38.874074-256c-0.948148-5.688889 0.948148-11.377778 4.74074-15.170371 3.792593-3.792593 9.481481-5.688889 15.170371-4.74074l167.822222 31.288889c5.688889 0.948148 10.42963 4.740741 12.325926 9.481481 1.896296 4.740741 1.896296 11.377778-0.948148 16.118519L486.4 798.340741c-3.792593 6.637037-11.377778 10.42963-18.962963 8.533333z m-14.222222-251.259259l27.496296 182.992592L572.681481 578.37037l-119.466666-22.755555z" fill="#666666" />\r
    <path d="M375.466667 709.214815l-25.6 137.481481c0 2.844444 1.896296 5.688889 7.585185 10.42963l65.422222 54.992593c5.688889 4.740741 15.17037 8.533333 23.703704 10.429629l36.029629-193.422222-107.14074-19.911111z" fill="#2D4375" />\r
    <path d="M482.607407 729.125926l-36.029629 193.422222c9.481481 1.896296 18.014815 1.896296 25.6-0.948148l80.592592-27.496296c6.637037-1.896296 10.42963-4.740741 11.377778-6.637037L589.748148 749.037037l-107.140741-19.911111z" fill="#1E2D4F" />\r
    <path d="M593.540741 807.822222c1.896296-7.585185-3.792593-15.17037-11.377778-16.118518l-107.140741-19.911111-4.740741 27.496296 107.140741 19.911111c6.637037 0.948148 14.222222-3.792593 16.118519-11.377778z" fill="#CEEFF6" />\r
    <path d="M366.933333 750.933333c-7.585185-1.896296-15.17037 3.792593-16.118518 11.377778-1.896296 7.585185 3.792593 15.17037 11.377778 16.118519l107.14074 19.911111 4.740741-27.496297-107.140741-19.911111zM356.503704 808.77037c-7.585185-1.896296-15.17037 3.792593-16.118519 11.377778-1.896296 7.585185 3.792593 15.17037 11.377778 16.118519l107.140741 19.911111 4.74074-27.496297-107.14074-19.911111z" fill="#FFFFFF" />\r
    <path d="M570.785185 848.592593l-107.140741-19.911112-4.74074 27.496297 107.14074 19.911111c7.585185 1.896296 15.17037-3.792593 16.118519-11.377778 1.896296-7.585185-2.844444-15.17037-11.377778-16.118518z" fill="#CEEFF6" />\r
</symbol><symbol class="icon" viewBox="0 0 1580 1024"   id="svg-now-time"><path d="M54.993477 66.732873m55.901883 0l1163.038674 0q55.901883 0 55.901883 55.901883l0 625.891456q0 55.901883-55.901883 55.901883l-1163.038674 0q-55.901883 0-55.901883-55.901883l0-625.891456q0-55.901883 55.901883-55.901883Z" fill="#e6e6e6" p-id="6094" data-spm-anchor-id="a313x.search_index.0.i18.9f9f3a81a77f69" class="" /><path d="M1281.900053 860.190223H102.929342A102.999219 102.999219 0 0 1 0 757.330759V113.830209A103.069097 103.069097 0 0 1 102.929342 10.900867h1178.970711a102.999219 102.999219 0 0 1 102.859464 102.929342v643.50055a102.929342 102.929342 0 0 1-102.859464 102.859464zM102.929342 24.876338A89.023749 89.023749 0 0 0 13.975471 113.830209v643.50055a89.023749 89.023749 0 0 0 88.953871 88.883994h1178.970711a89.023749 89.023749 0 0 0 88.883993-88.883994V113.830209a89.023749 89.023749 0 0 0-88.883993-88.953871z" fill="#cdcdcd" p-id="6095" data-spm-anchor-id="a313x.search_index.0.i21.9f9f3a81a77f69" class="" /><path d="M145.554528 854.390403m21.452347 0l155.896376 0q21.452348 0 21.452348 21.452348l0 0q0 21.452348-21.452348 21.452347l-155.896376 0q-21.452348 0-21.452347-21.452347l0 0q0-21.452348 21.452347-21.452348Z" fill="#707070" p-id="6096" data-spm-anchor-id="a313x.search_index.0.i23.9f9f3a81a77f69" class="" /><path d="M262.45934 0m12.438169 0l835.034376 0q12.438169 0 12.438169 12.438169l0 0q0 12.438169-12.438169 12.438169l-835.034376 0q-12.438169 0-12.438169-12.438169l0 0q0-12.438169 12.438169-12.438169Z" fill="#8a8a8a" p-id="6097" data-spm-anchor-id="a313x.search_index.0.i24.9f9f3a81a77f69" class="" /><path d="M1006.02426 853.202488m21.452348 0l155.896376 0q21.452348 0 21.452348 21.452348l0 0q0 21.452348-21.452348 21.452347l-155.896376 0q-21.452348 0-21.452348-21.452347l0 0q0-21.452348 21.452348-21.452348Z" fill="#707070" p-id="6098" data-spm-anchor-id="a313x.search_index.0.i25.9f9f3a81a77f69" class="" /><path d="M1273.934034 832.379037H110.89536a83.852824 83.852824 0 0 1-83.852824-83.852825V122.634756a83.852824 83.852824 0 0 1 83.852824-83.852825h1163.038674a83.852824 83.852824 0 0 1 83.852825 83.852825v625.891456a83.852824 83.852824 0 0 1-83.852825 83.852825zM110.89536 94.683814a27.950941 27.950941 0 0 0-27.950941 27.950942v625.891456a27.950941 27.950941 0 0 0 27.950941 27.950942h1163.038674a27.950941 27.950941 0 0 0 27.950942-27.950942V122.634756a27.950941 27.950941 0 0 0-27.950942-27.950942z" fill="#8a8a8a" p-id="6099" data-spm-anchor-id="a313x.search_index.0.i22.9f9f3a81a77f69" class="" /><path d="M258.126944 581.589214h-5.729943q-51.639364-3.354113-51.639364-56.530779v-59.954769q0.419264-34.938677 23.129404-44.931139c-13.975471-7.406999-20.613819-21.38247-20.963206-41.926412v-50.870713a83.852824 83.852824 0 0 1 1.397547-15.442895q6.219084-40.109601 54.224826-40.109601h57.369308a109.358058 109.358058 0 0 1 15.652527 0.978283q40.039724 6.987735 40.039724 54.574213v50.730959c0 20.33431-6.987735 34.309781-20.963206 41.926412 15.163386 6.428717 22.849895 21.452348 23.199281 44.931138v59.95477q-0.489141 55.901883-57.439185 56.530779zM237.583002 552.031094h100.62339c2.934849 0 4.75166-2.236075 5.310679-5.799821V440.995979c0-3.913132-1.746934-5.79982-5.310679-5.799821H237.583002a6.149207 6.149207 0 0 0-5.79982 5.799821v105.305172A6.149207 6.149207 0 0 0 237.583002 552.031094z m2.236076-144.506368H335.411297c3.563745 0 5.310679-1.886689 5.310679-5.79982V306.621828A6.149207 6.149207 0 0 0 335.411297 300.472621H239.469691c-3.284236 0-5.240802 2.37583-5.79982 6.288961v95.033201a6.149207 6.149207 0 0 0 5.79982 5.799821zM497.177371 581.589214h-5.79982q-51.569487-3.354113-51.639365-56.530779v-59.954769c0-23.199281 8.035896-38.153035 23.199282-44.931139-13.975471-7.406999-20.963206-21.38247-20.963206-41.926412v-50.870713a90.141786 90.141786 0 0 1 1.32767-15.442895q6.288962-40.109601 54.364581-40.109601h57.369307a107.681002 107.681002 0 0 1 15.58265 0.978283q40.179478 6.987735 40.109601 54.574213v50.730959c-0.349387 20.33431-6.987735 34.309781-20.963206 41.926412 15.163386 6.428717 22.849895 21.452348 23.199281 44.931138v59.95477q-0.489141 55.901883-57.439185 56.530779z m-20.963206-29.488243h100.623389c2.934849 0 4.681783-2.236075 5.310679-5.79982V440.995979c0-3.913132-1.746934-5.79982-5.310679-5.799821H476.284042a6.149207 6.149207 0 0 0-5.79982 5.799821v105.305172a6.149207 6.149207 0 0 0 5.79982 5.729943z m2.236075-144.506367h96.221116c3.563745 0 5.310679-1.886689 5.310679-5.799821V306.621828a6.219084 6.219084 0 0 0-5.310679-6.288962H478.520118c-3.284236 0-5.240802 2.37583-5.799821 6.288962V401.794783a6.149207 6.149207 0 0 0 5.799821 5.799821zM675.224868 439.528554v-46.887704h33.890517v46.887704z m0 127.106907v-46.887705h33.890517v46.887705zM828.815292 581.589214h-5.799821q-51.569487-3.354113-51.639364-56.530779v-59.954769c0-23.199281 8.035896-38.153035 23.199281-44.931139-13.975471-7.406999-20.963206-21.38247-20.963206-41.926412v-50.870713a90.141786 90.141786 0 0 1 1.32767-15.442895q6.288962-40.109601 54.294704-40.109601h57.439184a107.681002 107.681002 0 0 1 15.58265 0.978283q40.039724 6.987735 40.109601 54.574213v50.730959c-0.349387 20.33431-7.337122 34.309781-20.963206 41.926412 15.163386 6.428717 22.849895 21.452348 23.129404 44.931138v59.95477q-0.419264 55.901883-57.369307 56.530779z m-20.963207-29.488243H908.405597c3.004726 0 4.75166-2.236075 5.380557-5.79982V440.995979c0-3.913132-1.816811-5.79982-5.380557-5.799821h-100.483634a6.07933 6.07933 0 0 0-5.799821 5.799821v105.305172a6.149207 6.149207 0 0 0 5.799821 5.729943z m2.236076-144.506367h96.221116c3.563745 0 5.310679-1.886689 5.310679-5.799821V306.621828a6.219084 6.219084 0 0 0-5.310679-6.288962h-96.151239c-3.284236 0-5.240802 2.37583-5.79982 6.288962V401.794783a6.149207 6.149207 0 0 0 5.79982 5.799821zM1067.865718 581.589214H1062.135775q-51.569487-3.354113-51.639364-56.530779v-59.954769q0.419264-34.938677 23.199281-44.931139c-13.975471-7.406999-20.963206-21.38247-20.963206-41.926412v-50.870713a90.141786 90.141786 0 0 1 1.32767-15.442895q6.288962-40.109601 54.294704-40.109601h57.439185a107.681002 107.681002 0 0 1 15.582649 0.978283q40.039724 6.987735 40.039724 54.574213v50.730959c0 20.33431-6.987735 34.309781-20.963206 41.926412 15.163386 6.428717 22.849895 21.452348 23.129404 44.931138v59.95477q-0.419264 55.901883-57.369307 56.530779z m-20.963206-29.488243h100.553512c3.004726 0 4.75166-2.236075 5.380556-5.79982V440.995979c0-3.913132-1.816811-5.79982-5.380556-5.799821h-100.483634a6.07933 6.07933 0 0 0-5.799821 5.799821v105.305172a6.149207 6.149207 0 0 0 5.799821 5.729943z m2.166198-144.506367h96.221116c3.493868 0 5.310679-1.886689 5.310679-5.799821V306.621828a6.219084 6.219084 0 0 0-5.310679-6.288962h-96.151238c-3.214358 0-5.170924 2.37583-5.729943 6.288962V401.794783a6.149207 6.149207 0 0 0 5.729943 5.799821z" fill="#2c2c2c" p-id="6100" data-spm-anchor-id="a313x.search_index.0.i20.9f9f3a81a77f69" class="" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-pie-charts"><path d="M512 512V38.4A473.6 473.6 0 0 1 985.6 512z" fill="" p-id="17258" /><path d="M916.096 576A409.344 409.344 0 1 1 448 107.904V43.232A473.344 473.344 0 1 0 980.768 576z" fill="" p-id="17259" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-progress-a"><path d="M324.266667 599.466667c-6.4-4.266667-12.8-8.533333-14.933334-17.066667s-6.4-17.066667-6.4-27.733333h32c0 6.4 2.133333 10.666667 4.266667 14.933333s6.4 4.266667 10.666667 4.266667 8.533333-2.133333 10.666666-4.266667 4.266667-6.4 4.266667-12.8v-27.733333c0-4.266667-2.133333-8.533333-4.266667-10.666667s-4.266667-6.4-8.533333-6.4-6.4 0-8.533333 2.133333-4.266667 4.266667-4.266667 8.533334h-32v-102.4h87.466667v32h-55.466667v34.133333c2.133333-2.133333 6.4-4.266667 8.533333-6.4s8.533333-2.133333 10.666667-2.133333c8.533333 0 14.933333 2.133333 19.2 6.4s10.666667 8.533333 12.8 17.066666c2.133333 6.4 4.266667 14.933333 4.266667 25.6V554.666667c0 10.666667-2.133333 19.2-6.4 25.6-4.266667 6.4-8.533333 12.8-17.066667 17.066666s-14.933333 6.4-25.6 6.4c-6.4 2.133333-14.933333 0-21.333333-4.266666zM437.333333 593.066667c-8.533333-8.533333-12.8-19.2-12.8-34.133334V469.333333c0-14.933333 4.266667-27.733333 12.8-34.133333s19.2-12.8 36.266667-12.8 27.733333 4.266667 36.266667 12.8 12.8 19.2 12.8 34.133333v89.6c0 14.933333-4.266667 27.733333-12.8 36.266667s-19.2 12.8-36.266667 12.8c-17.066667-2.133333-27.733333-6.4-36.266667-14.933333z m46.933334-25.6c2.133333-4.266667 4.266667-8.533333 4.266666-14.933334v-81.066666c0-6.4-2.133333-10.666667-4.266666-14.933334s-6.4-4.266667-10.666667-4.266666-8.533333 2.133333-12.8 4.266666-4.266667 8.533333-4.266667 14.933334v81.066666c0 6.4 2.133333 10.666667 4.266667 14.933334s6.4 4.266667 10.666667 4.266666 10.666667 0 12.8-4.266666zM554.666667 490.666667c-4.266667-6.4-8.533333-12.8-8.533334-23.466667v-14.933333c0-10.666667 2.133333-17.066667 8.533334-23.466667s12.8-8.533333 21.333333-8.533333 17.066667 2.133333 21.333333 8.533333 8.533333 12.8 8.533334 23.466667v14.933333c0 10.666667-2.133333 17.066667-8.533334 23.466667s-12.8 8.533333-21.333333 8.533333-17.066667-2.133333-21.333333-8.533333z m32-10.666667c2.133333-2.133333 4.266667-6.4 4.266666-12.8V448c0-4.266667-2.133333-8.533333-4.266666-10.666667s-6.4-4.266667-10.666667-4.266666-8.533333 2.133333-10.666667 4.266666-4.266667 6.4-4.266666 10.666667v21.333333c0 4.266667 2.133333 8.533333 4.266666 12.8s6.4 4.266667 10.666667 4.266667 8.533333-4.266667 10.666667-6.4z m74.666666-59.733333h17.066667l-98.133333 181.333333h-17.066667l98.133333-181.333333z m-17.066666 177.066666c-4.266667-6.4-8.533333-12.8-8.533334-23.466666v-14.933334c0-10.666667 2.133333-17.066667 8.533334-23.466666s12.8-8.533333 21.333333-8.533334 17.066667 2.133333 21.333333 8.533334 8.533333 12.8 8.533334 23.466666v14.933334c0 10.666667-2.133333 17.066667-8.533334 23.466666s-12.8 8.533333-21.333333 8.533334-14.933333-4.266667-21.333333-8.533334z m34.133333-10.666666c2.133333-2.133333 4.266667-6.4 4.266667-12.8V554.666667c0-4.266667-2.133333-8.533333-4.266667-10.666667s-6.4-4.266667-10.666667-4.266667-8.533333 2.133333-10.666666 4.266667-4.266667 6.4-4.266667 10.666667v19.2c0 4.266667 2.133333 8.533333 4.266667 12.8s6.4 4.266667 10.666666 4.266666 8.533333-2.133333 10.666667-4.266666z" fill="#B0B0B0" p-id="1705" /><path d="M512 85.333333C277.333333 85.333333 85.333333 277.333333 85.333333 512s192 426.666667 426.666667 426.666667 426.666667-192 426.666667-426.666667S746.666667 85.333333 512 85.333333z m0 768c-187.733333 0-341.333333-153.6-341.333333-341.333333S324.266667 170.666667 512 170.666667s341.333333 153.6 341.333333 341.333333-153.6 341.333333-341.333333 341.333333z" fill="#5CB87A" opacity=".6" p-id="1706" /><path d="M853.333333 512c0 187.733333-153.6 341.333333-341.333333 341.333333v85.333334c234.666667 0 426.666667-192 426.666667-426.666667S746.666667 85.333333 512 85.333333v85.333334c187.733333 0 341.333333 153.6 341.333333 341.333333z" fill="#F5F7FA" p-id="1707" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-svg-text"><path d="M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z" fill="#707070" opacity=".406" p-id="10272" data-spm-anchor-id="a313x.search_index.0.i5.26f43a81xezxDj" class="selected" /><path d="M512 128a384 384 0 1 1-384 384 384 384 0 0 1 384-384z" fill="#707070" p-id="10273" data-spm-anchor-id="a313x.search_index.0.i6.26f43a81xezxDj" class="selected" /><path d="M485.44 768v-363.648h-135.872v-48.64h326.848v48.64h-136.448v363.648z" fill="#FFFFFF" p-id="10274" /></symbol><symbol class="icon" viewBox="0 0 1027 1024"   id="svg-switch-on">\r
    <path d="M747.52 238.933333    H276.48    C122.88 238.933333 0 361.813333 0 512    s122.88 273.066667 276.48 273.066667    H750.933333    c150.186667 0 276.48-122.88 276.48-273.066667    s-126.293333-273.066667-279.893333-273.066667z" fill="white" fill-opacity=".01" p-id="1537" data-spm-anchor-id="a313x.manage_type_myprojects.0.i0.1adc3a81uCnBP5" />\r
    <path d="M747.52 238.933333    H276.48    C122.88 238.933333 0 361.813333 0 512    s122.88 273.066667 276.48 273.066667    H750.933333    c150.186667 0 276.48-122.88 276.48-273.066667    s-126.293333-273.066667-279.893333-273.066667z    m0 512    H276.48    C143.36 750.933333 34.133333 645.12 34.133333 512s109.226667-238.933333 242.346667-238.933333    H750.933333c133.12 0 242.346667 105.813333 242.346667 238.933333s-112.64 238.933333-245.76 238.933333z" fill="#2c2c2c" p-id="1531" data-spm-anchor-id="a313x.manage_type_myprojects.0.i0.1adc3a81uCnBP5" />\r
    <path d="M238.933333 409.6c-37.546667 0-68.266667 27.306667-68.266666 61.44v85.333333c0 34.133333 30.72 61.44 68.266666 61.44s68.266667-27.306667 68.266667-61.44v-85.333333c0-34.133333-30.72-61.44-68.266667-61.44z m34.133334 146.773333c0 13.653333-17.066667 23.893333-34.133334 23.893334s-34.133333-10.24-34.133333-27.306667v-85.333333c0-13.653333 17.066667-23.893333 34.133333-23.893334s34.133333 10.24 34.133334 27.306667v85.333333zM460.8 409.6c-10.24 0-17.066667 6.826667-17.066667 17.066667v109.226666l-71.68-119.466666c-3.413333-6.826667-10.24-10.24-20.48-6.826667-6.826667 3.413333-13.653333 10.24-13.653333 17.066667v170.666666c0 10.24 6.826667 17.066667 17.066667 17.066667s17.066667-6.826667 17.066666-17.066667v-109.226666l71.68 119.466666c3.413333 6.826667 10.24 6.826667 13.653334 6.826667h3.413333c6.826667-3.413333 13.653333-10.24 13.653333-17.066667v-170.666666c3.413333-10.24-3.413333-17.066667-13.653333-17.066667zM750.933333 341.333333c-95.573333 0-170.666667 75.093333-170.666666 170.666667s75.093333 170.666667 170.666666 170.666667 170.666667-75.093333 170.666667-170.666667-75.093333-170.666667-170.666667-170.666667z" fill="#5ad562" p-id="1530" data-spm-anchor-id="a313x.manage_type_myprojects.0.i1.1adc3a81uCnBP5" />\r
</symbol><symbol class="icon" viewBox="0 0 1027 1024"   id="svg-switch-r">\r
    <path d="M747.52 238.933333    H276.48    C122.88 238.933333 0 361.813333 0 512    s122.88 273.066667 276.48 273.066667    H750.933333    c150.186667 0 276.48-122.88 276.48-273.066667    s-126.293333-273.066667-279.893333-273.066667z" fill="white" fill-opacity=".01" p-id="1537" data-spm-anchor-id="a313x.manage_type_myprojects.0.i0.1adc3a81uCnBP5" />\r
    <path d="M747.52 238.933333    H276.48    C122.88 238.933333 0 361.813333 0 512    s122.88 273.066667 276.48 273.066667    H750.933333    c150.186667 0 276.48-122.88 276.48-273.066667    s-126.293333-273.066667-279.893333-273.066667z    m0 512    H276.48    C143.36 750.933333 34.133333 645.12 34.133333 512s109.226667-238.933333 242.346667-238.933333    H750.933333c133.12 0 242.346667 105.813333 242.346667 238.933333s-112.64 238.933333-245.76 238.933333z" fill="#2c2c2c" p-id="1531" data-spm-anchor-id="a313x.manage_type_myprojects.0.i0.1adc3a81uCnBP5" />\r
    <path d="M273.066667 341.333333c-95.573333 0-170.666667 75.093333-170.666667 170.666667s75.093333 170.666667 170.666667 170.666667 170.666667-75.093333 170.666666-170.666667-75.093333-170.666667-170.666666-170.666667z" fill="#bfbfbf" p-id="1530" data-spm-anchor-id="a313x.manage_type_myprojects.0.i0.1adc3a81KYNNkt" />\r
    <path d="M580.266667 409.6c-37.546667 0-68.266667 27.306667-68.266667 61.44v85.333333c0 34.133333 30.72 61.44 68.266667 61.44s68.266667-27.306667 68.266666-61.44v-85.333333c0-34.133333-30.72-61.44-68.266666-61.44z m34.133333 146.773333c0 13.653333-17.066667 27.306667-34.133333 27.306667s-34.133333-10.24-34.133334-27.306667v-85.333333c0-13.653333 17.066667-27.306667 34.133334-27.306667s34.133333 10.24 34.133333 27.306667v85.333333zM904.533333 409.6h-68.266666c-10.24 0-17.066667 6.826667-17.066667 17.066667v170.666666c0 10.24 6.826667 17.066667 17.066667 17.066667s17.066667-6.826667 17.066666-17.066667V512h17.066667c10.24 0 17.066667-6.826667 17.066667-17.066667s-6.826667-17.066667-17.066667-17.066666H853.333333v-34.133334h51.2c10.24 0 17.066667-6.826667 17.066667-17.066666s-6.826667-17.066667-17.066667-17.066667zM768 409.6h-68.266667c-10.24 0-17.066667 6.826667-17.066666 17.066667v170.666666c0 10.24 6.826667 17.066667 17.066666 17.066667s17.066667-6.826667 17.066667-17.066667V512h17.066667c10.24 0 17.066667-6.826667 17.066666-17.066667s-6.826667-17.066667-17.066666-17.066666H716.8v-34.133334h51.2c10.24 0 17.066667-6.826667 17.066667-17.066666s-6.826667-17.066667-17.066667-17.066667z" fill="#707070" p-id="1532" data-spm-anchor-id="a313x.manage_type_myprojects.0.i2.1adc3a81KYNNkt" />\r
</symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-text-box"><path d="M938.666667 955.733333h-85.333334a17.066667 17.066667 0 0 1-17.066666-17.066666v-17.066667H187.733333v17.066667a17.066667 17.066667 0 0 1-17.066666 17.066666H85.333333a17.066667 17.066667 0 0 1-17.066666-17.066666v-85.333334a17.066667 17.066667 0 0 1 17.066666-17.066666h17.066667V187.733333H85.333333a17.066667 17.066667 0 0 1-17.066666-17.066666V85.333333a17.066667 17.066667 0 0 1 17.066666-17.066666h85.333334a17.066667 17.066667 0 0 1 17.066666 17.066666v17.066667h648.533334V85.333333a17.066667 17.066667 0 0 1 17.066666-17.066666h85.333334a17.066667 17.066667 0 0 1 17.066666 17.066666v85.333334a17.066667 17.066667 0 0 1-17.066666 17.066666h-17.066667v648.533334h17.066667a17.066667 17.066667 0 0 1 17.066666 17.066666v85.333334a17.066667 17.066667 0 0 1-17.066666 17.066666z m-68.266667-34.133333h51.2v-51.2h-51.2v51.2zM102.4 921.6h51.2v-51.2H102.4v51.2z m85.333333-34.133333h648.533334v-34.133334a17.066667 17.066667 0 0 1 17.066666-17.066666h34.133334V187.733333h-34.133334a17.066667 17.066667 0 0 1-17.066666-17.066666V136.533333H187.733333v34.133334a17.066667 17.066667 0 0 1-17.066666 17.066666H136.533333v648.533334h34.133334a17.066667 17.066667 0 0 1 17.066666 17.066666v34.133334zM904.533333 153.6h17.066667V102.4h-51.2v51.2h34.133333zM119.466667 153.6h34.133333V102.4H102.4v51.2h17.066667z" p-id="4280" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-thermometer">\r
    <path d="M616.96 672V176.64a85.76 85.76 0 0 0-171.52 0v495.36c-29.44 24.32-48.64 61.44-48.64 103.68 0 74.24 60.16 134.4 134.4 134.4S665.6 849.92 665.6 775.68c0-42.24-19.2-79.36-48.64-103.68z" fill="#F7E6A3" p-id="1566"></path>\r
    <path d="M531.2 922.88c-80.64 0-147.2-66.56-147.2-147.2 0-42.24 17.92-81.92 48.64-110.08V176.64c0-53.76 43.52-98.56 98.56-98.56s98.56 43.52 98.56 98.56V665.6c30.72 28.16 48.64 67.84 48.64 110.08 0 80.64-66.56 147.2-147.2 147.2z m0-819.2c-39.68 0-72.96 33.28-72.96 72.96v495.36c0 3.84-1.28 7.68-5.12 10.24-28.16 23.04-44.8 57.6-44.8 93.44 0 66.56 55.04 121.6 121.6 121.6s121.6-55.04 121.6-121.6c0-35.84-16.64-70.4-44.8-93.44-2.56-2.56-5.12-6.4-5.12-10.24V176.64c2.56-39.68-30.72-72.96-70.4-72.96z" fill="#231C1C" p-id="1567"></path>\r
    <path d="M494 711.68 c-21.76 12.8-37.12 35.84-37.12 64 0 40.96 33.28 72.96 72.96 72.96 40.96 0 72.96-33.28 72.96-72.96 1.28-26.88-12.8-51.2-34.56-64" fill="#E24F32" p-id="1568"></path>\r
    <path d="M568.32 830 V530 c0-20.48-16.64-37.12-37.12-37.12-20.48 0-37.12 16.64-37.12 37.12 v300" fill="#E24F32" p-id="1599">\r
        <animateTransform attributeName="transform" attributeType="XML" type="translate" from="0 0" to="0 -300" dur="5" repeatCount="indefinite" />\r
    </path>\r
    <path d="M568.32 830 V530 c0-20.48-16.64-37.12-37.12-37.12-20.48 0-37.12 16.64-37.12 37.12 v300" fill="#E24F32" p-id="1588"></path>\r
    <path d="M531.2 188.16h85.76v25h-85.76z" fill="#231C1C" p-id="1595"></path>\r
    <path d="M531.2 359.68h85.76v25h-85.76zM555.52 273.92h61.44v25h-61.44z" fill="#231C1C" p-id="1570"></path>\r
    <path d="M555.52 445.44h61.44v25h-61.44z" fill="#231C1C" p-id="1571"></path>\r
    <path d="M531.2 529.92h85.76v25h-85.76z" fill="#231C1C" p-id="1572"></path>\r
</symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-thermometer2">\r
    <path d="M616.96 672V176.64a85.76 85.76 0 0 0-171.52 0v495.36c-29.44 24.32-48.64 61.44-48.64 103.68 0 74.24 60.16 134.4 134.4 134.4S665.6 849.92 665.6 775.68c0-42.24-19.2-79.36-48.64-103.68z" fill="#F7E6A3" p-id="1566" />\r
    <path d="M531.2 922.88c-80.64 0-147.2-66.56-147.2-147.2 0-42.24 17.92-81.92 48.64-110.08V176.64c0-53.76 43.52-98.56 98.56-98.56s98.56 43.52 98.56 98.56V665.6c30.72 28.16 48.64 67.84 48.64 110.08 0 80.64-66.56 147.2-147.2 147.2z m0-819.2c-39.68 0-72.96 33.28-72.96 72.96v495.36c0 3.84-1.28 7.68-5.12 10.24-28.16 23.04-44.8 57.6-44.8 93.44 0 66.56 55.04 121.6 121.6 121.6s121.6-55.04 121.6-121.6c0-35.84-16.64-70.4-44.8-93.44-2.56-2.56-5.12-6.4-5.12-10.24V176.64c2.56-39.68-30.72-72.96-70.4-72.96z" fill="#231C1C" p-id="1567" />\r
    <path d="M568.32 711.68V408.32c0-20.48-16.64-37.12-37.12-37.12-20.48 0-37.12 16.64-37.12 37.12v303.36c-21.76 12.8-37.12 35.84-37.12 64 0 40.96 33.28 72.96 72.96 72.96 40.96 0 72.96-33.28 72.96-72.96 1.28-26.88-12.8-51.2-34.56-64z" fill="#E24F32" p-id="1568" />\r
    <path d="M531.2 861.44c-47.36 0-85.76-38.4-85.76-85.76 0-28.16 14.08-55.04 37.12-70.4V408.32c0-26.88 21.76-49.92 49.92-49.92 26.88 0 49.92 21.76 49.92 49.92v296.96c23.04 16.64 37.12 42.24 37.12 70.4-2.56 47.36-40.96 85.76-88.32 85.76z m0-476.16c-12.8 0-24.32 10.24-24.32 24.32v303.36c0 5.12-2.56 8.96-6.4 11.52-19.2 10.24-30.72 30.72-30.72 52.48 0 33.28 26.88 60.16 60.16 60.16s60.16-26.88 60.16-60.16c0-21.76-11.52-40.96-30.72-52.48-3.84-2.56-6.4-6.4-6.4-11.52V408.32c2.56-12.8-8.96-23.04-21.76-23.04zM531.2 188.16h85.76v25.6h-85.76z" fill="#231C1C" p-id="1569" />\r
    <path d="M531.2 359.68h85.76v25.6h-85.76zM555.52 273.92h61.44v25.6h-61.44z" fill="#231C1C" p-id="1570" />\r
    <path d="M555.52 445.44h61.44v25.6h-61.44z" fill="#231C1C" p-id="1571" />\r
    <path d="M531.2 529.92h85.76v25.6h-85.76z" fill="#231C1C" p-id="1572" />\r
</symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-add"><path class="icon-out" d="M512 128c211.2 0 384 172.8 384 384s-172.8 384-384 384-384-172.8-384-384 172.8-384 384-384m0-64C262.4 64 64 262.4 64 512s198.4 448 448 448 448-198.4 448-448-198.4-448-448-448z" p-id="12133" /><path class="icon-in" d="M320 512m-32 0a32 32 0 1 0 64 0 32 32 0 1 0-64 0Z" p-id="12134" /><path class="icon-in" d="M704 512m-32 0a32 32 0 1 0 64 0 32 32 0 1 0-64 0Z" p-id="12135" /><path class="icon-in" d="M512 320m-32 0a32 32 0 1 0 64 0 32 32 0 1 0-64 0Z" p-id="12136" /><path class="icon-in" d="M512 704m-32 0a32 32 0 1 0 64 0 32 32 0 1 0-64 0Z" p-id="12137" /><path class="icon-in" d="M320 480h384v64H320z" p-id="12138" /><path class="icon-in" d="M480 320h64v384h-64z" p-id="12139" /></symbol><symbol class="icon gray" viewBox="0 0 1024 1024"   id="svg-delete-gray"><path d="M512.8 927.65c-82.97 0-165.93-5.84-248.32-17.53l-0.2-0.03c-23.32-3.49-46.81-15.1-66.15-32.69-19.79-18.01-32.92-40.21-36.97-62.52l-0.04-0.24c-14.73-85.45-21.15-172.11-19.09-257.59 2.06-85.46 12.66-172.1 31.5-257.51l53.71 11.85c-36.14 163.83-40.16 329.97-11.95 493.77 4.1 22.19 31.75 46.69 57.02 50.52a1712.285 1712.285 0 0 0 480.98 0c25.27-3.83 52.92-28.34 57.01-50.53 28.21-163.8 24.19-329.93-11.95-493.77l53.71-11.85c18.84 85.42 29.44 172.06 31.5 257.51 2.06 85.47-4.36 172.14-19.09 257.59l-0.04 0.24c-4.05 22.3-17.18 44.51-36.97 62.52-19.34 17.6-42.83 29.21-66.15 32.69l-0.2 0.03a1765.711 1765.711 0 0 1-248.31 17.54z" class="icon-out" p-id="3027" /><path d="M921.38 332.96H102.66c-14.16 0-25.64-11.48-25.64-25.64v-3.73c0-14.16 11.48-25.64 25.64-25.64h818.73c14.16 0 25.64 11.48 25.64 25.64v3.73c-0.01 14.16-11.49 25.64-25.65 25.64z" class="icon-out" p-id="3028" /><path d="M367.21 805.77h-2.56c-14.48 0-26.22-11.74-26.22-26.22V431.99c0-14.48 11.74-26.22 26.22-26.22h2.56c14.48 0 26.22 11.74 26.22 26.22v347.56c0 14.49-11.74 26.22-26.22 26.22zM661.4 805.77h-2.56c-14.48 0-26.22-11.74-26.22-26.22V431.99c0-14.48 11.74-26.22 26.22-26.22h2.56c14.48 0 26.22 11.74 26.22 26.22v347.56c0 14.49-11.74 26.22-26.22 26.22z" class="icon-in" p-id="3029" /><path d="M786.11 322.05l-48.07-26.73c24.95-44.87 28.29-88.34 10.14-132.77-5.56-3.25-21.61-9.19-42.32-10.42-129.2-7.27-260.31-7.27-389.6 0-20.65 1.22-36.68 7.16-42.24 10.42-18.15 44.43-14.82 87.9 10.14 132.77l-48.07 26.73c-34.04-61.21-37.74-123.49-10.97-185.09l0.21-0.48c15.56-34.01 80.41-38.81 87.75-39.25 131.42-7.39 264.61-7.39 395.94 0 7.42 0.44 72.26 5.24 87.83 39.25l0.22 0.48c26.77 61.6 23.09 123.88-10.96 185.09z m-36.39-158.46z m-477.24 0z" class="icon-out" p-id="3030" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-delete"><path d="M512.8 927.65c-82.97 0-165.93-5.84-248.32-17.53l-0.2-0.03c-23.32-3.49-46.81-15.1-66.15-32.69-19.79-18.01-32.92-40.21-36.97-62.52l-0.04-0.24c-14.73-85.45-21.15-172.11-19.09-257.59 2.06-85.46 12.66-172.1 31.5-257.51l53.71 11.85c-36.14 163.83-40.16 329.97-11.95 493.77 4.1 22.19 31.75 46.69 57.02 50.52a1712.285 1712.285 0 0 0 480.98 0c25.27-3.83 52.92-28.34 57.01-50.53 28.21-163.8 24.19-329.93-11.95-493.77l53.71-11.85c18.84 85.42 29.44 172.06 31.5 257.51 2.06 85.47-4.36 172.14-19.09 257.59l-0.04 0.24c-4.05 22.3-17.18 44.51-36.97 62.52-19.34 17.6-42.83 29.21-66.15 32.69l-0.2 0.03a1765.711 1765.711 0 0 1-248.31 17.54z" class="icon-out" p-id="3027" /><path d="M921.38 332.96H102.66c-14.16 0-25.64-11.48-25.64-25.64v-3.73c0-14.16 11.48-25.64 25.64-25.64h818.73c14.16 0 25.64 11.48 25.64 25.64v3.73c-0.01 14.16-11.49 25.64-25.65 25.64z" class="icon-out" p-id="3028" /><path d="M367.21 805.77h-2.56c-14.48 0-26.22-11.74-26.22-26.22V431.99c0-14.48 11.74-26.22 26.22-26.22h2.56c14.48 0 26.22 11.74 26.22 26.22v347.56c0 14.49-11.74 26.22-26.22 26.22zM661.4 805.77h-2.56c-14.48 0-26.22-11.74-26.22-26.22V431.99c0-14.48 11.74-26.22 26.22-26.22h2.56c14.48 0 26.22 11.74 26.22 26.22v347.56c0 14.49-11.74 26.22-26.22 26.22z" class="icon-in" p-id="3029" /><path d="M786.11 322.05l-48.07-26.73c24.95-44.87 28.29-88.34 10.14-132.77-5.56-3.25-21.61-9.19-42.32-10.42-129.2-7.27-260.31-7.27-389.6 0-20.65 1.22-36.68 7.16-42.24 10.42-18.15 44.43-14.82 87.9 10.14 132.77l-48.07 26.73c-34.04-61.21-37.74-123.49-10.97-185.09l0.21-0.48c15.56-34.01 80.41-38.81 87.75-39.25 131.42-7.39 264.61-7.39 395.94 0 7.42 0.44 72.26 5.24 87.83 39.25l0.22 0.48c26.77 61.6 23.09 123.88-10.96 185.09z m-36.39-158.46z m-477.24 0z" class="icon-out" p-id="3030" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-export"><path d="M94.85 502.74c0-88.25 6.43-176.5 19.28-264.14l0.04-0.26c4.81-30.68 21.45-61.57 46.85-86.98 25.41-25.41 56.3-42.05 86.98-46.85l0.26-0.04a1818.793 1818.793 0 0 1 528.28 0l0.26 0.04c30.68 4.81 61.57 21.44 86.98 46.85 25.41 25.41 42.05 56.3 46.85 86.98l0.04 0.26a1818.793 1818.793 0 0 1 0 528.28l-0.04 0.26c-4.81 30.68-21.44 61.57-46.85 86.98s-56.3 42.05-86.98 46.85l-0.26 0.04a1818.793 1818.793 0 0 1-528.28 0l-0.26-0.04c-30.68-4.81-61.57-21.44-86.98-46.85-25.41-25.41-42.05-56.3-46.85-86.98l-0.04-0.26a1820.45 1820.45 0 0 1-19.28-264.14z m73.69-256.03c-24.91 169.89-24.91 342.15 0 512.05 6.3 39.74 48.12 81.56 87.86 87.86 169.87 24.9 342.16 24.9 512.03 0 39.75-6.3 81.57-48.12 87.86-87.86 24.9-169.87 24.9-342.16 0-512.03-6.3-39.74-48.12-81.57-87.86-87.86a1764.188 1764.188 0 0 0-512.03 0c-39.74 6.28-81.56 48.1-87.86 87.84z" class="icon-out" p-id="3184" /><path d="M677.82 616.65L467.99 406.81c-10.19-10.19-10.19-26.72 0-36.92l12.58-12.58c10.19-10.19 26.72-10.19 36.92 0l209.84 209.84c10.19 10.19 10.19 26.72 0 36.92l-12.58 12.58c-10.2 10.19-26.73 10.19-36.93 0z" class="icon-in" p-id="3185" /><path d="M283.94 617.33l-12.58-12.58c-10.19-10.19-10.19-26.72 0-36.92L481.2 358c10.19-10.19 26.72-10.19 36.92 0l12.58 12.58c10.19 10.19 10.19 26.72 0 36.92L320.86 617.33c-10.2 10.2-26.72 10.2-36.92 0z" class="icon-in" p-id="3186" /></symbol><symbol viewBox="0 0 48 48" fill="none"  id="svg-group">\r
    <path d="M12 4H4V12H12V4Z" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M44 36H36V44H44V36Z" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M12 36H4V44H12V36Z" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M44 4H36V12H44V4Z" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M8 36V12" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
    <path d="M40 36V12" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
    <path d="M12 8H36" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
    <path d="M12 40H36" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
    <path fill-rule="evenodd" clip-rule="evenodd" d="M16 16H25.6V22.4H32V32H22.4V25.6H16V16Z" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
</symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-import"><path d="M93.33 502.74c0 88.25 6.43 176.5 19.28 264.14l0.04 0.26c4.81 30.68 21.45 61.57 46.85 86.98 25.41 25.41 56.3 42.05 86.98 46.85l0.26 0.04a1818.793 1818.793 0 0 0 528.28 0l0.26-0.04c30.68-4.81 61.57-21.44 86.98-46.85 25.41-25.41 42.05-56.3 46.85-86.98l0.04-0.26a1818.793 1818.793 0 0 0 0-528.28l-0.04-0.26c-4.81-30.68-21.44-61.57-46.85-86.98s-56.3-42.05-86.98-46.85l-0.26-0.04a1818.793 1818.793 0 0 0-528.28 0l-0.26 0.04c-30.68 4.81-61.57 21.44-86.98 46.85-25.41 25.41-42.05 56.3-46.85 86.98l-0.04 0.26a1820.244 1820.244 0 0 0-19.28 264.14z m73.68 256.02c-24.91-169.89-24.91-342.15 0-512.05 6.3-39.74 48.12-81.56 87.86-87.86 169.87-24.9 342.16-24.9 512.03 0 39.75 6.3 81.57 48.12 87.86 87.86 24.9 169.87 24.9 342.16 0 512.03-6.3 39.74-48.12 81.57-87.86 87.86a1764.188 1764.188 0 0 1-512.03 0c-39.74-6.28-81.56-48.1-87.86-87.84z" class="icon-out" p-id="3340" /><path d="M676.3 388.83L466.46 598.66c-10.19 10.19-10.19 26.72 0 36.92l12.58 12.58c10.19 10.19 26.72 10.19 36.92 0L725.8 438.32c10.19-10.19 10.19-26.72 0-36.92l-12.58-12.58c-10.2-10.19-26.73-10.19-36.92 0.01z" class="icon-in" p-id="3341" /><path d="M282.42 388.14l-12.58 12.58c-10.19 10.19-10.19 26.72 0 36.92l209.84 209.84c10.19 10.19 26.72 10.19 36.92 0l12.58-12.58c10.19-10.19 10.19-26.72 0-36.92L319.33 388.14c-10.19-10.19-26.72-10.19-36.91 0z" class="icon-in" p-id="3342" /></symbol><symbol class="icon active" viewBox="0 0 1024 1024"   id="svg-line-active"><path d="M795.969 641.938c-44.844 0-85.094 20.015-112.219 51.515L454.39 561.11c4.157-15.53 6.344-31.937 6.344-48.78 0-16.845-2.187-33.25-6.343-48.782l230.234-132.89c27.125 30.952 66.938 50.53 111.453 50.53 81.813 0 148.094-66.28 148.094-148.093C944.172 151.28 877.782 85 795.969 85s-148.094 66.281-148.094 148.094c0 14.11 1.969 27.781 5.688 40.687L427.155 404.484c-34.344-49.875-91.765-82.578-156.844-82.578C165.204 321.906 80 407.11 80 512.328S165.203 702.75 270.313 702.75c65.078 0 122.609-32.703 156.953-82.578l225.968 130.484c-3.5 12.578-5.359 25.703-5.359 39.375 0 81.813 66.281 148.094 148.094 148.094 81.812 0 148.093-66.281 148.093-148.094 0-81.812-66.28-148.093-148.093-148.093z m0-492.079c45.937 0 83.234 37.297 83.234 83.235 0 45.937-37.297 83.234-83.234 83.234-45.938 0-83.235-37.297-83.235-83.234 0-45.938 37.297-83.235 83.235-83.235zM270.312 637.781c-69.234 0-125.453-56.11-125.453-125.453 0-69.344 56.22-125.453 125.453-125.453 69.235 0 125.454 56.11 125.454 125.453 0 69.344-56.11 125.453-125.454 125.453z m525.657 234.39c-45.39 0-82.14-36.75-82.14-82.14s36.75-82.14 82.14-82.14 82.14 36.75 82.14 82.14c0.11 45.39-36.75 82.14-82.14 82.14z" p-id="1837" data-spm-anchor-id="a313x.manage_type_myprojects.0.i0.1adc3a813mH6xq" class="icon-out" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-line"><path d="M795.969 641.938c-44.844 0-85.094 20.015-112.219 51.515L454.39 561.11c4.157-15.53 6.344-31.937 6.344-48.78 0-16.845-2.187-33.25-6.343-48.782l230.234-132.89c27.125 30.952 66.938 50.53 111.453 50.53 81.813 0 148.094-66.28 148.094-148.093C944.172 151.28 877.782 85 795.969 85s-148.094 66.281-148.094 148.094c0 14.11 1.969 27.781 5.688 40.687L427.155 404.484c-34.344-49.875-91.765-82.578-156.844-82.578C165.204 321.906 80 407.11 80 512.328S165.203 702.75 270.313 702.75c65.078 0 122.609-32.703 156.953-82.578l225.968 130.484c-3.5 12.578-5.359 25.703-5.359 39.375 0 81.813 66.281 148.094 148.094 148.094 81.812 0 148.093-66.281 148.093-148.094 0-81.812-66.28-148.093-148.093-148.093z m0-492.079c45.937 0 83.234 37.297 83.234 83.235 0 45.937-37.297 83.234-83.234 83.234-45.938 0-83.235-37.297-83.235-83.234 0-45.938 37.297-83.235 83.235-83.235zM270.312 637.781c-69.234 0-125.453-56.11-125.453-125.453 0-69.344 56.22-125.453 125.453-125.453 69.235 0 125.454 56.11 125.454 125.453 0 69.344-56.11 125.453-125.454 125.453z m525.657 234.39c-45.39 0-82.14-36.75-82.14-82.14s36.75-82.14 82.14-82.14 82.14 36.75 82.14 82.14c0.11 45.39-36.75 82.14-82.14 82.14z" p-id="1837" data-spm-anchor-id="a313x.manage_type_myprojects.0.i0.1adc3a813mH6xq" class="icon-out" /></symbol><symbol viewBox="0 0 48 48" fill="none"  id="svg-lock">\r
    <rect x="6" y="22" width="36" height="22" rx="2" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M14 22V14C14 8.47715 18.4772 4 24 4C29.5228 4 34 8.47715 34 14V22" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
    <path d="M24 30V36" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
</symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-menu-fold"><path d="M510.89 921.7c-88.25 0-176.5-6.43-264.14-19.28l-0.26-0.04c-30.68-4.81-61.57-21.44-86.98-46.85-25.41-25.41-42.05-56.3-46.85-86.98l-0.04-0.26a1818.793 1818.793 0 0 1 0-528.28l0.04-0.26c4.81-30.68 21.44-61.57 46.85-86.98s56.3-42.05 86.98-46.85l0.26-0.04a1818.793 1818.793 0 0 1 528.28 0l0.26 0.04c30.68 4.81 61.57 21.45 86.98 46.85 25.41 25.41 42.05 56.3 46.85 86.98l0.04 0.26a1818.793 1818.793 0 0 1 0 528.28l-0.04 0.26c-4.81 30.68-21.45 61.58-46.85 86.98-25.41 25.41-56.3 42.05-86.98 46.85l-0.26 0.04a1819.042 1819.042 0 0 1-264.14 19.28z m-256.02-73.68a1763.556 1763.556 0 0 0 512.04 0c39.74-6.3 81.56-48.12 87.86-87.86 24.9-169.87 24.9-342.16 0-512.03-6.3-39.74-48.11-81.56-87.86-87.86a1763.556 1763.556 0 0 0-512.04 0c-39.75 6.3-81.57 48.12-87.86 87.86a1763.488 1763.488 0 0 0 0 512.03c6.3 39.75 48.12 81.57 87.86 87.86z" class="icon-out" p-id="2559" /><path d="M399.85 335.23l209.84 209.84c10.19 10.19 26.72 10.19 36.92 0l12.58-12.58c10.19-10.19 10.19-26.72 0-36.92L449.35 285.73c-10.19-10.19-26.72-10.19-36.92 0l-12.58 12.58c-10.2 10.2-10.2 26.73 0 36.92z" class="icon-in" p-id="2560" /><path d="M399.16 729.11l12.58 12.58c10.19 10.19 26.72 10.19 36.92 0L658.5 531.85c10.19-10.19 10.19-26.72 0-36.92l-12.58-12.58c-10.19-10.19-26.72-10.19-36.92 0L399.16 692.2c-10.19 10.19-10.19 26.72 0 36.91z" class="icon-in" p-id="2561" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-menu-unfold"><path d="M512.42 920.16c-88.25 0-176.5-6.43-264.14-19.28l-0.26-0.04c-30.68-4.81-61.57-21.45-86.98-46.85-25.41-25.41-42.05-56.3-46.85-86.98l-0.04-0.26a1818.793 1818.793 0 0 1 0-528.28l0.04-0.26c4.81-30.68 21.44-61.57 46.85-86.98 25.41-25.41 56.3-42.05 86.98-46.85l0.26-0.04a1818.793 1818.793 0 0 1 528.28 0l0.26 0.04c30.68 4.81 61.57 21.44 86.98 46.85s42.05 56.3 46.85 86.98l0.04 0.26a1818.793 1818.793 0 0 1 0 528.28l-0.04 0.26c-4.81 30.68-21.44 61.57-46.85 86.98-25.41 25.41-56.3 42.05-86.98 46.85l-0.26 0.04a1820.45 1820.45 0 0 1-264.14 19.28z m-256.03-73.69c169.89 24.91 342.15 24.91 512.05 0 39.74-6.3 81.56-48.12 87.86-87.86 24.9-169.87 24.9-342.16 0-512.03-6.3-39.75-48.12-81.57-87.86-87.86a1764.188 1764.188 0 0 0-512.03 0c-39.74 6.3-81.57 48.12-87.86 87.86a1764.188 1764.188 0 0 0 0 512.03c6.28 39.74 48.1 81.56 87.84 87.86z" class="icon-out" p-id="2403" /><path d="M626.33 337.19L416.49 547.03c-10.19 10.19-26.72 10.19-36.92 0l-12.58-12.58c-10.19-10.19-10.19-26.72 0-36.92l209.84-209.84c10.19-10.19 26.72-10.19 36.92 0l12.58 12.58c10.19 10.19 10.19 26.72 0 36.92z" class="icon-in" p-id="2404" /><path d="M627.01 731.07l-12.58 12.58c-10.19 10.19-26.72 10.19-36.92 0L367.67 533.81c-10.19-10.19-10.19-26.72 0-36.92l12.58-12.58c10.19-10.19 26.72-10.19 36.92 0l209.84 209.84c10.19 10.2 10.19 26.72 0 36.92z" class="icon-in" p-id="2405" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-preview"><path d="M127.94 530.03c-6.67 0-13.32-2.65-18.24-7.89-9.43-10.06-8.95-25.85 1.1-35.3 3.67-3.45 91.45-84.93 234.32-126.4 84.14-24.42 169.95-29.79 255.04-15.96 105.79 17.19 210.4 64.23 310.94 139.81 11.04 8.3 13.26 23.97 4.96 35.01-8.29 11.03-23.97 13.26-35 4.96-169.55-127.45-344.5-166.61-519.99-116.38-131.94 37.76-215.21 114.63-216.04 115.41a25.01 25.01 0 0 1-17.09 6.74z" class="icon-in" p-id="1779" /><path d="M509 688.98c-54.54 0-109.01-7.83-162.8-23.44-142.87-41.46-230.65-122.95-234.32-126.4-10.06-9.46-10.54-25.28-1.08-35.34 9.45-10.05 25.25-10.54 35.31-1.11 0.83 0.77 84.1 77.65 216.04 115.41 175.5 50.22 350.44 11.07 519.99-116.38 11.04-8.3 26.71-6.07 35 4.96 8.3 11.04 6.08 26.71-4.96 35.01C811.64 617.26 707.03 664.3 601.24 681.5c-30.69 4.98-61.47 7.48-92.24 7.48z" class="icon-in" p-id="1780" /><path d="M506.82 741.13c-141.09 0-275.99-70.27-401.17-209.03l-17.53-19.43 16.87-20c1.64-1.95 41.06-48.3 108.65-95.76 39.76-27.92 81.2-50.54 123.19-67.25 52.97-21.08 106.94-32.74 160.4-34.67 146.39-5.28 287.79 60.95 420.32 196.86l18.69 19.16-16.92 20.74c-1.7 2.09-42.53 51.76-111.93 102.32-40.88 29.79-83.37 53.81-126.29 71.39-54.25 22.23-109.31 34.19-163.66 35.54-3.53 0.08-7.09 0.13-10.62 0.13z m-337.8-229c110.37 114.93 226.81 171.73 346.5 168.89 106.58-2.53 197.54-52.73 255.07-94.39 37.87-27.42 66.74-54.92 84-72.79-114.02-109.7-233.21-163.13-354.69-158.92-105.44 3.67-194.27 50.96-250.22 89.99-36.31 25.32-63.96 50.6-80.66 67.22z" class="icon-out" p-id="1781" /><path d="M505.25 671.33c-87.55 0-158.78-71.23-158.78-158.78s71.23-158.78 158.78-158.78S664.02 425 664.02 512.55 592.8 671.33 505.25 671.33z m0-257.56c-54.47 0-98.78 44.31-98.78 98.78s44.31 98.78 98.78 98.78 98.78-44.31 98.78-98.78-44.32-98.78-98.78-98.78z" class="icon-in" p-id="1782" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-question"><path d="M512 172.8c187.04 0 339.2 152.16 339.2 339.2S699.04 851.2 512 851.2 172.8 699.03 172.8 512 324.97 172.8 512 172.8m0-76.8C282.25 96 96 282.25 96 512s186.25 416 416 416 416-186.25 416-416S741.75 96 512 96z" class="icon-out" p-id="5865" data-spm-anchor-id="a313x.search_index.0.i0.4bca3a81TehghO" /><path d="M531.31 278.99c-92.43-2.84-151.21 46.22-175.93 126.24-0.03 0.1 0.23 0.23 0.22 0.33-1.34 3.71-2.37 7.59-2.37 11.75 0 19.25 15.61 34.86 34.86 34.86 15.13 0 27.69-9.76 32.52-23.23 0.03 0.01 0.33 0.08 0.33 0.08 14.05-63.91 45.58-82.75 100.14-81.23 46.75 3.15 72.47 26.54 77.14 70.14 3.08 29.62-17.94 60.02-63.13 91.16-42.07 29.62-62.35 66.28-60.76 109.88 0 0.09 0.16 0.12 0.16 0.21-0.01 0.31-0.18 0.57-0.18 0.88 0 16.82 13.63 30.46 30.46 30.46 15.53 0 27.85-11.8 29.72-26.82 0.09-0.01 0.59-0.05 0.59-0.05s-0.3 0.03-0.59 0.05c0.26-0.02 0.24-0.02 0.59-0.05-1.55-32.73 16.39-60.76 53.75-84.15 59.2-37.41 87.26-80.26 84.15-128.56-7.77-77.94-56-127.28-141.67-131.95zM504.7 745.14h-2.34c-20.66 0-37.4-16.75-37.4-37.4 0-20.66 16.75-37.4 37.4-37.4h2.34c20.66 0 37.4 16.75 37.4 37.4s-16.75 37.4-37.4 37.4z" class="icon-in" p-id="5866" data-spm-anchor-id="a313x.search_index.0.i3.4bca3a81TehghO" /></symbol><symbol class="icon gray" viewBox="0 0 1024 1024"   id="svg-redo-gray"><path d="M550.912 890.88c-4.096 0-7.9872-0.8192-11.8784-2.4576-11.4688-4.7104-18.8416-15.9744-18.8416-28.2624v-156.672c-96.256-68.1984-309.0432 65.536-385.4336 125.1328-10.4448 7.9872-24.576 8.6016-35.6352 1.6384-11.0592-7.168-16.1792-20.48-13.1072-33.1776 99.1232-401.408 347.3408-475.9552 433.9712-489.6768V163.84c0-12.288 7.3728-23.552 18.8416-28.2624 11.4688-4.9152 24.576-2.2528 33.3824 6.3488l357.1712 348.16c5.9392 5.7344 9.216 13.7216 9.216 21.9136s-3.2768 16.1792-9.216 21.9136l-357.1712 348.16c-5.7344 5.7344-13.5168 8.8064-21.2992 8.8064z m-96.8704-267.0592c44.032 0 84.992 12.0832 117.76 43.008 6.144 5.7344 9.6256 13.9264 9.6256 22.3232v98.304L864.0512 512 581.632 236.7488v98.304c0 16.7936-13.312 30.3104-30.1056 30.72-11.264 0.4096-261.5296 12.0832-381.7472 364.1344 72.2944-45.8752 185.9584-106.0864 284.2624-106.0864z" class="icon-out" p-id="42083" data-spm-anchor-id="a313x.search_index.0.i8.a5e03a81nkrsAk" /><path d="M343.2448 579.7888c-5.9392 0-11.8784-2.048-16.7936-5.9392a26.8288 26.8288 0 0 1-3.6864-37.4784c44.4416-54.272 95.0272-93.3888 150.3232-116.5312 13.7216-5.7344 29.0816 0.8192 34.816 14.336 5.7344 13.5168-0.6144 29.0816-14.336 34.816-47.104 19.6608-90.7264 53.8624-129.6384 101.1712-5.3248 6.3488-12.9024 9.6256-20.6848 9.6256z" class="icon-in" p-id="42084" data-spm-anchor-id="a313x.search_index.0.i11.a5e03a81nkrsAk" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-redo"><path d="M550.912 890.88c-4.096 0-7.9872-0.8192-11.8784-2.4576-11.4688-4.7104-18.8416-15.9744-18.8416-28.2624v-156.672c-96.256-68.1984-309.0432 65.536-385.4336 125.1328-10.4448 7.9872-24.576 8.6016-35.6352 1.6384-11.0592-7.168-16.1792-20.48-13.1072-33.1776 99.1232-401.408 347.3408-475.9552 433.9712-489.6768V163.84c0-12.288 7.3728-23.552 18.8416-28.2624 11.4688-4.9152 24.576-2.2528 33.3824 6.3488l357.1712 348.16c5.9392 5.7344 9.216 13.7216 9.216 21.9136s-3.2768 16.1792-9.216 21.9136l-357.1712 348.16c-5.7344 5.7344-13.5168 8.8064-21.2992 8.8064z m-96.8704-267.0592c44.032 0 84.992 12.0832 117.76 43.008 6.144 5.7344 9.6256 13.9264 9.6256 22.3232v98.304L864.0512 512 581.632 236.7488v98.304c0 16.7936-13.312 30.3104-30.1056 30.72-11.264 0.4096-261.5296 12.0832-381.7472 364.1344 72.2944-45.8752 185.9584-106.0864 284.2624-106.0864z" class="icon-out" p-id="42083" data-spm-anchor-id="a313x.search_index.0.i8.a5e03a81nkrsAk" /><path d="M343.2448 579.7888c-5.9392 0-11.8784-2.048-16.7936-5.9392a26.8288 26.8288 0 0 1-3.6864-37.4784c44.4416-54.272 95.0272-93.3888 150.3232-116.5312 13.7216-5.7344 29.0816 0.8192 34.816 14.336 5.7344 13.5168-0.6144 29.0816-14.336 34.816-47.104 19.6608-90.7264 53.8624-129.6384 101.1712-5.3248 6.3488-12.9024 9.6256-20.6848 9.6256z" class="icon-in" p-id="42084" data-spm-anchor-id="a313x.search_index.0.i11.a5e03a81nkrsAk" /></symbol><symbol class="icon" viewBox="0 0 1165 1024"   id="svg-return"><path d="M364.967083 734.583428c-10.46084 0-20.92168-3.486947-29.057889-11.623156L11.623156 398.674234c-16.272418-16.272418-16.272418-41.84336 0-58.115778L335.909194 16.272418c16.272418-16.272418 41.84336-16.272418 58.115778 0s16.272418 41.84336 0 58.115777L98.796822 369.616345l295.22815 295.22815c16.272418 16.272418 16.272418 41.84336 0 58.115777-8.136209 8.136209-18.597049 11.623156-29.057889 11.623156z" p-id="3653" data-spm-anchor-id="a313x.manage_type_myprojects.0.i25.1adc3a81koFwd9" class="icon-out" /><path d="M645.085131 727.609535c-15.110102 15.110102-38.356413 15.110102-53.466516 0L260.358683 396.349603c-15.110102-15.110102-15.110102-38.356413 0-53.466516L591.618615 11.623156c15.110102-15.110102 38.356413-15.110102 53.466516 0" p-id="3654" data-spm-anchor-id="a313x.manage_type_myprojects.0.i21.1adc3a81koFwd9" class="icon-in" /><path d="M645.085131 532.340522S1104.199773 496.30874 1024 1024c0 0 216.190692-249.897843 113.906924-516.068104-51.141884-96.472191-112.744608-295.22815-492.821793-297.552781v321.961407z" p-id="3655" data-spm-anchor-id="a313x.manage_type_myprojects.0.i22.1adc3a81koFwd9" class="icon-in" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-rotate"><path d="M934.101333 416.426667h-220.373333c-26.752 0-47.232-20.48-47.232-47.232s20.48-47.232 47.232-47.232h173.141333V148.821333c0-26.752 20.48-47.232 47.232-47.232S981.333333 122.069333 981.333333 148.821333v220.373344c0 25.173333-20.48 47.232-47.232 47.232z" fill="#344" p-id="4939" data-spm-anchor-id="a313x.search_index.0.i10.30723a81IiaItd" class="selected" /><path d="M509.098667 978.389333C249.344 978.389333 38.4 767.530667 38.4 507.733333 38.4 247.978667 249.344 37.034667 509.098667 37.034667A472.32 472.32 0 0 1 943.530667 325.12c9.472 23.637333-1.536 51.968-25.173344 61.44-23.594667 9.386667-51.925333-1.621333-61.397333-25.216a377.898667 377.898667 0 0 0-347.861333-229.845333A376.234667 376.234667 0 0 0 132.864 507.733333a376.234667 376.234667 0 0 0 376.234667 376.234667c190.464 0 351.018667-141.653333 373.077333-329.002667 3.114667-25.173333 26.752-44.074667 51.925333-40.96 25.173333 3.157333 44.074667 26.794667 40.96 51.968-28.373333 234.538667-228.266667 412.416-465.962666 412.416z" fill="#344" p-id="4940" data-spm-anchor-id="a313x.search_index.0.i9.30723a81IiaItd" class="selected" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-save"><path d="M828.038 898.796H195.962c-39.409 0-71.471-32.062-71.471-71.471V195.249c0-39.409 32.062-71.471 71.471-71.471h89.621c10.382 0 18.798 8.416 18.798 18.798s-8.416 18.798-18.798 18.798h-89.621c-18.679 0-33.875 15.196-33.875 33.875v632.076c0 18.679 15.196 33.875 33.875 33.875h632.076c18.679 0 33.875-15.196 33.875-33.875V340.256L674.088 161.374h-96.215c-10.382 0-18.798-8.416-18.798-18.798s8.416-18.798 18.798-18.798h111.253l210.383 200.365v503.182c0 39.409-32.062 71.471-71.471 71.471z" class="icon-out" p-id="1919" data-spm-anchor-id="a313x.manage_type_myprojects.0.i6.1adc3a8106MMa8" /><path d="M756.239 863.629h-37.597V643.456c0-7.062-5.744-12.807-12.806-12.807H317.11c-7.061 0-12.806 5.745-12.806 12.807v220.173h-37.596V643.456c0-27.792 22.61-50.402 50.402-50.402h388.727c27.792 0 50.402 22.61 50.402 50.402v220.173z" class="icon-out" p-id="1920" data-spm-anchor-id="a313x.manage_type_myprojects.0.i7.1adc3a8106MMa8" /><path d="M547.818 325.374H317.11c-27.792 0-50.402-22.61-50.402-50.402V151.895c0-27.792 22.61-50.402 50.402-50.402h230.708c27.791 0 50.4 22.61 50.4 50.402v123.077c0.001 27.791-22.609 50.402-50.4 50.402zM317.11 139.089c-7.061 0-12.806 5.745-12.806 12.806v123.077c0 7.061 5.745 12.806 12.806 12.806h230.708c7.061 0 12.805-5.745 12.805-12.806V151.895c0-7.061-5.744-12.806-12.805-12.806H317.11z" class="icon-middle" p-id="1921" /><path d="M621.717 155.654c0-17.454-14.149-31.604-31.604-31.604H359.405c-17.455 0-31.604 14.15-31.604 31.604v9.871h-0.157V316.17c0 17.454 14.149 31.604 31.604 31.604h230.708c17.454 0 31.604-14.15 31.604-31.604V166.069h0.156v-10.415z" class="icon-middle" opacity=".4" p-id="1922" /></symbol><symbol viewBox="0 0 1024 1024"  id="svg-setting">
    <path d="M919.6 405.6l-57.2-8c-12.7-1.8-23-10.4-28-22.1-11.3-26.7-25.7-51.7-42.9-74.5-7.7-10.2-10-23.5-5.2-35.3l21.7-53.5c6.7-16.4 0.2-35.3-15.2-44.1L669.1 96.6c-15.4-8.9-34.9-5.1-45.8 8.9l-35.4 45.3c-7.9 10.2-20.7 14.9-33.5 13.3-14-1.8-28.3-2.8-42.8-2.8-14.5 0-28.8 1-42.8 2.8-12.8 1.6-25.6-3.1-33.5-13.3l-35.4-45.3c-10.9-14-30.4-17.8-45.8-8.9L230.4 168c-15.4 8.9-21.8 27.7-15.2 44.1l21.7 53.5c4.8 11.9 2.5 25.1-5.2 35.3-17.2 22.8-31.7 47.8-42.9 74.5-5 11.8-15.3 20.4-28 22.1l-57.2 8C86 408 72.9 423 72.9 440.8v142.9c0 17.7 13.1 32.7 30.6 35.2l57.2 8c12.7 1.8 23 10.4 28 22.1 11.3 26.7 25.7 51.7 42.9 74.5 7.7 10.2 10 23.5 5.2 35.3l-21.7 53.5c-6.7 16.4-0.2 35.3 15.2 44.1L354 927.8c15.4 8.9 34.9 5.1 45.8-8.9l35.4-45.3c7.9-10.2 20.7-14.9 33.5-13.3 14 1.8 28.3 2.8 42.8 2.8 14.5 0 28.8-1 42.8-2.8 12.8-1.6 25.6 3.1 33.5 13.3l35.4 45.3c10.9 14 30.4 17.8 45.8 8.9l123.7-71.4c15.4-8.9 21.8-27.7 15.2-44.1l-21.7-53.5c-4.8-11.8-2.5-25.1 5.2-35.3 17.2-22.8 31.7-47.8 42.9-74.5 5-11.8 15.3-20.4 28-22.1l57.2-8c17.6-2.5 30.6-17.5 30.6-35.2V440.8c0.2-17.8-12.9-32.8-30.5-35.2z m-408 245.5c-76.7 0-138.9-62.2-138.9-138.9s62.2-138.9 138.9-138.9 138.9 62.2 138.9 138.9-62.2 138.9-138.9 138.9z" />
</symbol><symbol class="icon gray" viewBox="0 0 1024 1024"   id="svg-undo-gray"><g transform="scale(-1, 1) translate(-1024, 0)"><path d="M550.912 890.88c-4.096 0-7.9872-0.8192-11.8784-2.4576-11.4688-4.7104-18.8416-15.9744-18.8416-28.2624v-156.672c-96.256-68.1984-309.0432 65.536-385.4336 125.1328-10.4448 7.9872-24.576 8.6016-35.6352 1.6384-11.0592-7.168-16.1792-20.48-13.1072-33.1776 99.1232-401.408 347.3408-475.9552 433.9712-489.6768V163.84c0-12.288 7.3728-23.552 18.8416-28.2624 11.4688-4.9152 24.576-2.2528 33.3824 6.3488l357.1712 348.16c5.9392 5.7344 9.216 13.7216 9.216 21.9136s-3.2768 16.1792-9.216 21.9136l-357.1712 348.16c-5.7344 5.7344-13.5168 8.8064-21.2992 8.8064z m-96.8704-267.0592c44.032 0 84.992 12.0832 117.76 43.008 6.144 5.7344 9.6256 13.9264 9.6256 22.3232v98.304L864.0512 512 581.632 236.7488v98.304c0 16.7936-13.312 30.3104-30.1056 30.72-11.264 0.4096-261.5296 12.0832-381.7472 364.1344 72.2944-45.8752 185.9584-106.0864 284.2624-106.0864z" class="icon-out" p-id="42083" data-spm-anchor-id="a313x.search_index.0.i8.a5e03a81nkrsAk" /><path d="M343.2448 579.7888c-5.9392 0-11.8784-2.048-16.7936-5.9392a26.8288 26.8288 0 0 1-3.6864-37.4784c44.4416-54.272 95.0272-93.3888 150.3232-116.5312 13.7216-5.7344 29.0816 0.8192 34.816 14.336 5.7344 13.5168-0.6144 29.0816-14.336 34.816-47.104 19.6608-90.7264 53.8624-129.6384 101.1712-5.3248 6.3488-12.9024 9.6256-20.6848 9.6256z" class="icon-in" p-id="42084" data-spm-anchor-id="a313x.search_index.0.i11.a5e03a81nkrsAk" /></g></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-undo"><g transform="scale(-1, 1) translate(-1024, 0)"><path d="M550.912 890.88c-4.096 0-7.9872-0.8192-11.8784-2.4576-11.4688-4.7104-18.8416-15.9744-18.8416-28.2624v-156.672c-96.256-68.1984-309.0432 65.536-385.4336 125.1328-10.4448 7.9872-24.576 8.6016-35.6352 1.6384-11.0592-7.168-16.1792-20.48-13.1072-33.1776 99.1232-401.408 347.3408-475.9552 433.9712-489.6768V163.84c0-12.288 7.3728-23.552 18.8416-28.2624 11.4688-4.9152 24.576-2.2528 33.3824 6.3488l357.1712 348.16c5.9392 5.7344 9.216 13.7216 9.216 21.9136s-3.2768 16.1792-9.216 21.9136l-357.1712 348.16c-5.7344 5.7344-13.5168 8.8064-21.2992 8.8064z m-96.8704-267.0592c44.032 0 84.992 12.0832 117.76 43.008 6.144 5.7344 9.6256 13.9264 9.6256 22.3232v98.304L864.0512 512 581.632 236.7488v98.304c0 16.7936-13.312 30.3104-30.1056 30.72-11.264 0.4096-261.5296 12.0832-381.7472 364.1344 72.2944-45.8752 185.9584-106.0864 284.2624-106.0864z" class="icon-out" p-id="42083" data-spm-anchor-id="a313x.search_index.0.i8.a5e03a81nkrsAk" /><path d="M343.2448 579.7888c-5.9392 0-11.8784-2.048-16.7936-5.9392a26.8288 26.8288 0 0 1-3.6864-37.4784c44.4416-54.272 95.0272-93.3888 150.3232-116.5312 13.7216-5.7344 29.0816 0.8192 34.816 14.336 5.7344 13.5168-0.6144 29.0816-14.336 34.816-47.104 19.6608-90.7264 53.8624-129.6384 101.1712-5.3248 6.3488-12.9024 9.6256-20.6848 9.6256z" class="icon-in" p-id="42084" data-spm-anchor-id="a313x.search_index.0.i11.a5e03a81nkrsAk" /></g></symbol><symbol viewBox="0 0 48 48" fill="none"  id="svg-ungroup">\r
    <path d="M11.2727 4H4V11.2727H11.2727V4Z" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M43.9998 36.7271H36.7271V43.9998H43.9998V36.7271Z" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M11.2727 24H4V31.2727H11.2727V24Z" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M23.9998 36.7271H16.7271V43.9998H23.9998V36.7271Z" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M31.2727 4H24V11.2727H31.2727V4Z" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M43.9998 16.7271H36.7271V23.9998H43.9998V16.7271Z" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M11.2729 7.63623H24.0002" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
    <path d="M24 40.3638H36.7273" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
    <path d="M11.2729 27.6366H27.6366V11.2729" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
    <path d="M28.8275 20.3633H36.7269M20.3633 36.7269V27.6282V36.7269Z" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
    <path d="M7.63672 11.2725V23.9997" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
    <path d="M40.3633 24V36.7273" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
</symbol><symbol viewBox="0 0 48 48" fill="none"  id="svg-unlock">\r
    <rect x="7" y="22.0476" width="34" height="22" rx="2" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M14 22V14.0047C13.9948 8.87022 17.9227 4.56718 23.0859 4.05117C28.249 3.53516 32.9673 6.97408 34 12.0059" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
    <path d="M24 30V36" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
</symbol>`, r.insertBefore(n, r.lastChild);
  };
  document.readyState === "loading" ? document.addEventListener("DOMContentLoaded", i) : i();
}
const main = "", index$2 = "";
var ELineBindAnchors = /* @__PURE__ */ ((i) => (i.TopCenter = "TopCenter", i.Left = "Left", i.Right = "Right", i.BottomCenter = "BottomCenter", i))(ELineBindAnchors || {}), EConfigAnimationsType = /* @__PURE__ */ ((i) => (i.None = "None", i.Electricity = "Electricity", i.WaterDrop = "WaterDrop", i.Track = "Track", i))(EConfigAnimationsType || {}), EConfigItemPropsType = /* @__PURE__ */ ((i) => (i.Input = "Input", i.Textarea = "Textarea", i.Color = "Color", i.InputNumber = "InputNumber", i.Switch = "Switch", i.JsonEdit = "JsonEdit", i.Select = "Select", i))(EConfigItemPropsType || {}), EDoneJsonType = /* @__PURE__ */ ((i) => (i.File = "File", i.StraightLine = "StraightLine", i.ConnectionLine = "ConnectionLine", i.CustomSvg = "CustomSvg", i.Vue = "Vue", i))(EDoneJsonType || {}), EEventType = /* @__PURE__ */ ((i) => (i.Click = "Click", i.Change = "Change", i.Null = "", i))(EEventType || {}), EEventAction = /* @__PURE__ */ ((i) => (i.ChangeAttr = "ChangeAttr", i.JavaScript = "JavaScript", i.Emit = "Emit", i.Null = "", i))(EEventAction || {}), EConditionType = /* @__PURE__ */ ((i) => (i.None = "None", i.Relation = "Relation", i))(EConditionType || {}), EGlobalStoreIntention = /* @__PURE__ */ ((i) => (i.None = "None", i.Create = "Create", i.Move = "Move", i.GroupMove = "GroupMove", i.MoveCanvas = "MoveCanvas", i.Select = "Select", i.Zoom = "Zoom", i.Rotate = "Rotate", i.Connection = "Connection", i.SetConnectionLineNode = "SetConnectionLineNode", i.ContextMenu = "ContextMenu", i.SelectArea = "SelectArea", i))(EGlobalStoreIntention || {}), EMouseInfoState = /* @__PURE__ */ ((i) => (i.Down = "Down", i.Up = "Up", i))(EMouseInfoState || {}), EScaleInfoType = /* @__PURE__ */ ((i) => (i.None = "", i.TopLeft = "TopLeft", i.TopCenter = "TopCenter", i.TopRight = "TopRight", i.Left = "Left", i.Right = "Right", i.BottomLeft = "BottomLeft", i.BottomCenter = "BottomCenter", i.BottomRight = "BottomRight", i))(EScaleInfoType || {});
const t$q = {
  name: "alert-light",
  title: "警示灯",
  type: EDoneJsonType.File,
  config: {
    can_zoom: !0,
    have_anchor: !1,
    actual_rect: !0
  },
  display: !0,
  props: {},
  defaultState: "white",
  state: {
    green: {
      label: "正常",
      fill: "#00ff00",
      fillOpacity: "1"
    },
    yellow: { label: "请注意", fill: "#ffff00", fillOpacity: "1" },
    red: { label: "报警", fill: "#ff0000", fillOpacity: "1" },
    white: { label: "关闭", fill: "#ffffff", fillOpacity: "0" }
  },
  common_animations: {
    val: "",
    delay: "delay-0s",
    speed: "slow",
    repeat: "infinite"
  },
  events: []
}, t$p = {
  groupType: "stateful",
  title: "状态SVG",
  list: [t$q]
}, t$o = {
  name: "bot-2",
  title: "2号机",
  type: EDoneJsonType.File,
  display: !0,
  config: {
    can_zoom: !0,
    have_anchor: !0,
    actual_rect: !0
  },
  props: {
    height: {
      title: "高度",
      type: EConfigItemPropsType.InputNumber,
      val: 150
    },
    width: {
      title: "宽度",
      type: EConfigItemPropsType.InputNumber,
      val: 120
    }
  },
  common_animations: {
    val: "",
    delay: "delay-0s",
    speed: "slow",
    repeat: "infinite"
  },
  events: []
}, t$n = {
  name: "bot-9",
  title: "9号机",
  type: EDoneJsonType.File,
  display: !0,
  config: {
    can_zoom: !0,
    have_anchor: !0,
    actual_rect: !0
  },
  props: {},
  common_animations: {
    val: "",
    delay: "delay-0s",
    speed: "slow",
    repeat: "infinite"
  },
  events: []
}, t$m = {
  name: "hotpot",
  title: "火锅",
  type: EDoneJsonType.File,
  display: !0,
  config: {
    can_zoom: !0,
    have_anchor: !0,
    actual_rect: !0
  },
  props: {},
  common_animations: {
    val: "",
    delay: "delay-0s",
    speed: "slow",
    repeat: "infinite"
  },
  events: []
}, t$l = {
  name: "hamburger",
  title: "汉堡",
  type: EDoneJsonType.File,
  display: !0,
  config: {
    can_zoom: !0,
    have_anchor: !0,
    actual_rect: !0
  },
  props: {},
  common_animations: {
    val: "",
    delay: "delay-0s",
    speed: "slow",
    repeat: "infinite"
  },
  events: []
}, t$k = {
  groupType: "stateless",
  title: "静态SVG",
  list: [t$l, t$m, t$o, t$n]
}, t$j = {
  name: "thermometer",
  title: "温度计",
  type: EDoneJsonType.File,
  config: {
    can_zoom: !0,
    have_anchor: !1,
    actual_rect: !0
  },
  display: !0,
  props: {},
  common_animations: {
    val: "",
    delay: "delay-0s",
    speed: "slow",
    repeat: "infinite"
  },
  events: []
}, t$i = {
  groupType: "have_animation",
  title: "动画SVG",
  list: [t$j]
}, t$h = {
  name: "svg-text",
  title: "文字",
  tag: "svg-text",
  type: EDoneJsonType.CustomSvg,
  display: !0,
  config: {
    can_zoom: !0,
    have_anchor: !1,
    actual_rect: !0
  },
  props: {
    /*deviceCode:{
    	title:'设备编码',
    	type:EConfigItemPropsType.Input,
    	val:''
    },*/
    text: {
      title: "文字内容",
      type: EConfigItemPropsType.Textarea,
      val: "文字内容"
    },
    fontFamily: {
      title: "字体",
      type: EConfigItemPropsType.Select,
      val: "Microsoft YaHei",
      options: [
        {
          value: "Microsoft YaHei",
          label: "微软雅黑"
        },
        {
          value: "NSimSun",
          label: "新宋体"
        },
        {
          value: "KaiTi",
          label: "楷体"
        }
      ]
    },
    fontSize: {
      title: "文字大小",
      type: EConfigItemPropsType.InputNumber,
      val: 18
    },
    fill: {
      title: "文字颜色",
      type: EConfigItemPropsType.Color,
      val: "#000"
    },
    bold: {
      title: "文字加粗",
      type: EConfigItemPropsType.Switch,
      val: !1
    },
    writingMode: {
      title: "文字朝向",
      type: EConfigItemPropsType.Select,
      val: "horizontal-tb",
      options: [
        {
          value: "horizontal-tb",
          label: "水平"
        },
        {
          value: "vertical-rl",
          label: "垂直"
        }
      ]
    }
  },
  common_animations: {
    val: "",
    delay: "delay-0s",
    speed: "slow",
    repeat: "infinite"
  },
  events: []
}, t$g = {
  name: "switch-r",
  title: "开关",
  tag: "switch-r",
  type: EDoneJsonType.CustomSvg,
  display: !0,
  config: {
    can_zoom: !0,
    have_anchor: !1,
    actual_rect: !0
  },
  props: {
    isOpen: {
      title: "开关",
      type: EConfigItemPropsType.Switch,
      val: !1
    }
  },
  common_animations: {
    val: "",
    delay: "delay-0s",
    speed: "slow",
    repeat: "infinite"
  },
  events: []
}, t$f = {
  name: "light",
  tag: "light-a",
  title: "灯",
  type: EDoneJsonType.CustomSvg,
  config: {
    can_zoom: !0,
    have_anchor: !1,
    actual_rect: !0
  },
  display: !0,
  props: {
    height: {
      title: "高度",
      type: EConfigItemPropsType.InputNumber,
      val: 60
    },
    width: {
      title: "宽度",
      type: EConfigItemPropsType.InputNumber,
      val: 50
    },
    isOpen: {
      title: "开关",
      type: EConfigItemPropsType.Switch,
      val: !1
    }
  },
  common_animations: {
    val: "",
    delay: "delay-0s",
    speed: "slow",
    repeat: "infinite"
  },
  events: []
}, t$e = {
  name: "clock-a",
  title: "时钟",
  tag: "clock-a",
  type: EDoneJsonType.CustomSvg,
  config: {
    can_zoom: !0,
    have_anchor: !1,
    actual_rect: !0
  },
  display: !0,
  props: {
    centerColor: {
      title: "针顶颜色",
      type: EConfigItemPropsType.Color,
      val: "#EBF257"
    },
    secondsColor: {
      title: "秒针颜色",
      type: EConfigItemPropsType.Color,
      val: "#E83E24"
    },
    circleColor: {
      title: "针圈颜色",
      type: EConfigItemPropsType.Color,
      val: "#F45AFC"
    },
    minutesColor: {
      title: "分针颜色",
      type: EConfigItemPropsType.Color,
      val: "#50E68E"
    },
    hoursColor: {
      title: "时针颜色",
      type: EConfigItemPropsType.Color,
      val: "#9A36E7"
    },
    scaleColor: {
      title: "刻度颜色",
      type: EConfigItemPropsType.Color,
      val: "#4942CF"
    },
    backgroundColor: {
      title: "表盘颜色",
      type: EConfigItemPropsType.Color,
      val: "#ffffff"
    },
    borderColor: {
      title: "表框颜色",
      type: EConfigItemPropsType.Color,
      val: "#B3A7FF"
    }
  },
  common_animations: {
    val: "",
    delay: "delay-0s",
    speed: "slow",
    repeat: "infinite"
  },
  events: []
}, t$d = {
  groupType: "custom_svg_group",
  title: "SVG组件",
  list: [t$h, t$g, t$f, t$e]
}, t$c = Object.seal([t$k, t$p, t$i, t$d]), t$b = {
  name: "el-button",
  tag: "el-button",
  title: "按钮",
  type: EDoneJsonType.Vue,
  config: {
    can_zoom: !1,
    have_anchor: !1,
    actual_rect: !0
  },
  display: !0,
  props: {
    size: {
      title: "尺寸",
      type: EConfigItemPropsType.Select,
      val: "default",
      options: [
        { label: "大", value: "large" },
        { label: "默认", value: "default" },
        { label: "小", value: "small" }
      ]
    },
    type: {
      title: "类型",
      type: EConfigItemPropsType.Select,
      val: "primary",
      options: [
        { label: "主要按钮", value: "primary" },
        { label: "成功按钮", value: "success" },
        { label: "警告按钮", value: "warning" },
        { label: "危险按钮", value: "danger" },
        { label: "信息按钮", value: "info" }
      ]
    },
    plain: {
      title: "朴素按钮",
      type: EConfigItemPropsType.Switch,
      val: !1
    },
    text: {
      title: "文字按钮",
      type: EConfigItemPropsType.Switch,
      val: !1
    }
  },
  tag_slot: "按钮",
  common_animations: {
    val: "",
    delay: "delay-0s",
    speed: "slow",
    repeat: "infinite"
  },
  events: []
}, t$a = {
  name: "common-table",
  title: "通用表格",
  tag: "common-table",
  type: EDoneJsonType.Vue,
  config: {
    can_zoom: !1,
    have_anchor: !1,
    actual_rect: !0
  },
  display: !0,
  props: {
    "col-config": {
      title: "列配置",
      type: EConfigItemPropsType.JsonEdit,
      val: [
        {
          prop: "date",
          label: "第一列",
          width: "120px",
          fixed: !1,
          sortable: !1,
          "show-overflow-tooltip": !1
        },
        {
          prop: "name",
          label: "第二列",
          width: "120px",
          fixed: !1,
          sortable: !1,
          "show-overflow-tooltip": !1
        },
        {
          prop: "address",
          label: "第三列测试",
          width: "280px",
          fixed: !1,
          sortable: !1,
          "show-overflow-tooltip": !1
        }
      ]
    },
    data: {
      title: "表格数据",
      type: EConfigItemPropsType.JsonEdit,
      val: [
        {
          date: "2016-05-03",
          name: "Tom",
          address: "No. 189, Grove St, Los Angeles"
        },
        {
          date: "2016-05-02",
          name: "Tom",
          address: "No. 189, Grove St, Los Angeles"
        },
        {
          date: "2016-05-04",
          name: "Tom",
          address: "No. 189, Grove St, Los Angeles"
        },
        {
          date: "2016-05-01",
          name: "Tom",
          address: "No. 189, Grove St, Los Angeles"
        }
      ]
    },
    width: {
      title: "宽度",
      type: EConfigItemPropsType.InputNumber,
      val: 500
    },
    height: {
      title: "高度",
      type: EConfigItemPropsType.InputNumber,
      val: 200
    },
    maxHeight: {
      title: "最大高度",
      type: EConfigItemPropsType.InputNumber,
      val: 200
    },
    stripe: {
      title: "斑马纹",
      type: EConfigItemPropsType.Switch,
      val: !1
    },
    border: {
      title: "纵向边框",
      type: EConfigItemPropsType.Switch,
      val: !1
    },
    size: {
      title: "尺寸",
      type: EConfigItemPropsType.Select,
      val: "default",
      options: [
        {
          label: "大",
          value: "large"
        },
        {
          label: "默认",
          value: "default"
        },
        {
          label: "小",
          value: "small"
        }
      ]
    },
    fit: {
      title: "列宽自撑开",
      type: EConfigItemPropsType.Switch,
      val: !1
    }
  },
  common_animations: {
    val: "",
    delay: "delay-0s",
    speed: "slow",
    repeat: "infinite"
  },
  events: []
}, t$9 = {
  name: "now-time",
  title: "当前时间",
  tag: "now-time",
  type: EDoneJsonType.Vue,
  config: {
    can_zoom: !1,
    have_anchor: !1,
    actual_rect: !0
  },
  display: !0,
  props: {
    width: {
      title: "宽度",
      type: EConfigItemPropsType.InputNumber,
      val: 150
    },
    fontFamily: {
      title: "字体",
      type: EConfigItemPropsType.Select,
      val: "Microsoft YaHei",
      options: [
        {
          value: "Microsoft YaHei",
          label: "微软雅黑"
        },
        {
          value: "NSimSun",
          label: "新宋体"
        },
        {
          value: "KaiTi",
          label: "楷体"
        }
      ]
    },
    fontSize: {
      title: "文字大小",
      type: EConfigItemPropsType.InputNumber,
      val: 18
    },
    color: {
      title: "文字颜色",
      type: EConfigItemPropsType.Color,
      val: "#000000"
    },
    bold: {
      title: "文字加粗",
      type: EConfigItemPropsType.Switch,
      val: !1
    }
  },
  common_animations: {
    val: "",
    delay: "delay-0s",
    speed: "slow",
    repeat: "infinite"
  },
  events: []
}, t$8 = {
  name: "el-tag",
  tag: "el-tag",
  title: "标签",
  type: EDoneJsonType.Vue,
  config: {
    can_zoom: !0,
    have_anchor: !1,
    actual_rect: !0
  },
  display: !0,
  props: {
    type: {
      title: "类型",
      type: EConfigItemPropsType.Select,
      val: "success",
      options: [
        { label: "成功", value: "success" },
        { label: "警告", value: "warning" },
        { label: "危险", value: "danger" },
        { label: "信息", value: "info" }
      ]
    },
    closable: {
      title: "可关闭",
      type: EConfigItemPropsType.Switch,
      val: !0
    },
    "disable-transitions": {
      title: "渐变",
      type: EConfigItemPropsType.Switch,
      val: !1
    }
  },
  tag_slot: "标签",
  common_animations: {
    val: "",
    delay: "delay-0s",
    speed: "slow",
    repeat: "infinite"
  },
  events: []
}, t$7 = {
  name: "progress-a",
  tag: "progress-a",
  title: "进度条",
  type: EDoneJsonType.Vue,
  config: {
    can_zoom: !1,
    have_anchor: !1,
    actual_rect: !0
  },
  display: !0,
  props: {
    percentage: {
      title: "进度",
      type: EConfigItemPropsType.InputNumber,
      val: 50
    }
  },
  common_animations: {
    val: "",
    delay: "delay-0s",
    speed: "slow",
    repeat: "infinite"
  },
  events: []
}, t$6 = {
  name: "text-box",
  title: "文字背景框",
  tag: "text-box",
  type: EDoneJsonType.Vue,
  config: {
    can_zoom: !1,
    have_anchor: !1,
    actual_rect: !0
  },
  display: !0,
  props: {
    width: {
      title: "宽度",
      type: EConfigItemPropsType.InputNumber,
      val: 250
    },
    height: {
      title: "高度",
      type: EConfigItemPropsType.InputNumber,
      val: 150
    },
    bgColor: {
      title: "背景颜色",
      type: EConfigItemPropsType.Color,
      val: "#000000"
    },
    bgOpacity: {
      title: "背景透明度(%)",
      type: EConfigItemPropsType.InputNumber,
      val: 1
    },
    borderColor: {
      title: "边框颜色",
      type: EConfigItemPropsType.Color,
      val: "#cccccc"
    },
    borderWidth: {
      title: "边框宽度",
      type: EConfigItemPropsType.InputNumber,
      val: 1
    },
    borderRadius: {
      title: "边框圆角",
      type: EConfigItemPropsType.InputNumber,
      val: 5
    },
    borderOpacity: {
      title: "边框透明度(%)",
      type: EConfigItemPropsType.InputNumber,
      val: 100
    }
  },
  common_animations: {
    val: "",
    delay: "delay-0s",
    speed: "slow",
    repeat: "infinite"
  },
  events: []
}, t$5 = {
  groupType: "custom-vue",
  title: "VUE组件",
  list: [t$b, t$7, t$a, t$9, t$8, t$6]
}, t$4 = {
  name: "pie-charts",
  tag: "pie-charts",
  title: "饼图",
  type: EDoneJsonType.Vue,
  config: {
    can_zoom: !0,
    have_anchor: !1,
    actual_rect: !0
  },
  display: !0,
  props: {
    title: {
      title: "标题",
      type: EConfigItemPropsType.Input,
      val: "默认标题"
    },
    seriesName: {
      title: "详情",
      type: EConfigItemPropsType.Input,
      val: "详情标题"
    },
    seriesData: {
      title: "legendData",
      type: EConfigItemPropsType.JsonEdit,
      val: [
        {
          value: 1048,
          name: "办公楼A"
        },
        {
          value: 735,
          name: "办公楼B"
        },
        {
          value: 580,
          name: "保安室"
        },
        {
          value: 484,
          name: "地下车库"
        },
        {
          value: 300,
          name: "食堂"
        }
      ]
    }
  },
  common_animations: {
    val: "",
    delay: "delay-0s",
    speed: "slow",
    repeat: "infinite"
  },
  events: []
}, t$3 = {
  groupType: "echarts",
  title: "图表",
  list: [t$4]
}, t$2 = Object.seal([t$5, t$3]), _sfc_main$N = /* @__PURE__ */ defineComponent({
  __name: "progress",
  props: {
    percentage: { default: 10 }
  },
  emits: ["onChange"],
  setup(i, { emit: r }) {
    const n = [
      {
        color: "#f56c6c",
        percentage: 20
      },
      {
        color: "#e6a23c",
        percentage: 40
      },
      {
        color: "#5cb87a",
        percentage: 60
      },
      {
        color: "#1989fa",
        percentage: 80
      },
      {
        color: "#6f7ad3",
        percentage: 100
      }
    ], o = i, a = r;
    return watch(
      () => o.percentage,
      () => {
        a("onChange");
      }
    ), (u, c) => (openBlock(), createBlock(unref(ElProgress), {
      type: "dashboard",
      percentage: Number(o.percentage),
      color: n
    }, null, 8, ["percentage"]));
  }
}), _hoisted_1$i = ["id"], _hoisted_2$f = ["id"], _hoisted_3$c = /* @__PURE__ */ createElementVNode("path", {
  d: "M747.52 238.933333    H276.48    C122.88 238.933333 0 361.813333 0 512    s122.88 273.066667 276.48 273.066667    H750.933333    c150.186667 0 276.48-122.88 276.48-273.066667    s-126.293333-273.066667-279.893333-273.066667z",
  fill: "white",
  "fill-opacity": ".01",
  "p-id": "1537",
  "data-spm-anchor-id": "a313x.manage_type_myprojects.0.i0.1adc3a81uCnBP5"
}, null, -1), _hoisted_4$b = /* @__PURE__ */ createElementVNode("path", {
  d: "M747.52 238.933333    H276.48    C122.88 238.933333 0 361.813333 0 512    s122.88 273.066667 276.48 273.066667    H750.933333    c150.186667 0 276.48-122.88 276.48-273.066667    s-126.293333-273.066667-279.893333-273.066667z     m0 512    H276.48    C143.36 750.933333 34.133333 645.12 34.133333 512s109.226667-238.933333 242.346667-238.933333    H750.933333c133.12 0 242.346667 105.813333 242.346667 238.933333s-112.64 238.933333-245.76 238.933333z",
  fill: "#2c2c2c",
  "p-id": "1531",
  "data-spm-anchor-id": "a313x.manage_type_myprojects.0.i0.1adc3a81uCnBP5"
}, null, -1), _hoisted_5$9 = /* @__PURE__ */ createElementVNode("path", {
  d: "M238.933333 409.6c-37.546667 0-68.266667 27.306667-68.266666 61.44v85.333333c0 34.133333 30.72 61.44 68.266666 61.44s68.266667-27.306667 68.266667-61.44v-85.333333c0-34.133333-30.72-61.44-68.266667-61.44z m34.133334 146.773333c0 13.653333-17.066667 23.893333-34.133334 23.893334s-34.133333-10.24-34.133333-27.306667v-85.333333c0-13.653333 17.066667-23.893333 34.133333-23.893334s34.133333 10.24 34.133334 27.306667v85.333333zM460.8 409.6c-10.24 0-17.066667 6.826667-17.066667 17.066667v109.226666l-71.68-119.466666c-3.413333-6.826667-10.24-10.24-20.48-6.826667-6.826667 3.413333-13.653333 10.24-13.653333 17.066667v170.666666c0 10.24 6.826667 17.066667 17.066667 17.066667s17.066667-6.826667 17.066666-17.066667v-109.226666l71.68 119.466666c3.413333 6.826667 10.24 6.826667 13.653334 6.826667h3.413333c6.826667-3.413333 13.653333-10.24 13.653333-17.066667v-170.666666c3.413333-10.24-3.413333-17.066667-13.653333-17.066667zM750.933333 341.333333c-95.573333 0-170.666667 75.093333-170.666666 170.666667s75.093333 170.666667 170.666666 170.666667 170.666667-75.093333 170.666667-170.666667-75.093333-170.666667-170.666667-170.666667z",
  fill: "#5ad562",
  "p-id": "1530",
  "data-spm-anchor-id": "a313x.manage_type_myprojects.0.i1.1adc3a81uCnBP5"
}, null, -1), _hoisted_6$8 = [
  _hoisted_3$c,
  _hoisted_4$b,
  _hoisted_5$9
], _hoisted_7$8 = ["id"], _hoisted_8$8 = /* @__PURE__ */ createElementVNode("path", {
  d: "M747.52 238.933333    H276.48    C122.88 238.933333 0 361.813333 0 512    s122.88 273.066667 276.48 273.066667    H750.933333    c150.186667 0 276.48-122.88 276.48-273.066667    s-126.293333-273.066667-279.893333-273.066667z",
  fill: "white",
  "fill-opacity": ".01",
  "p-id": "1536",
  "data-spm-anchor-id": "a313x.manage_type_myprojects.0.i0.1adc3a81uCnBP5"
}, null, -1), _hoisted_9$7 = /* @__PURE__ */ createElementVNode("path", {
  d: "M747.52 238.933333    H276.48    C122.88 238.933333 0 361.813333 0 512    s122.88 273.066667 276.48 273.066667    H750.933333    c150.186667 0 276.48-122.88 276.48-273.066667    s-126.293333-273.066667-279.893333-273.066667z    m0 512    H276.48    C143.36 750.933333 34.133333 645.12 34.133333 512s109.226667-238.933333 242.346667-238.933333    H750.933333c133.12 0 242.346667 105.813333 242.346667 238.933333s-112.64 238.933333-245.76 238.933333z",
  fill: "#2c2c2c",
  "p-id": "1535",
  "data-spm-anchor-id": "a313x.manage_type_myprojects.0.i0.1adc3a81uCnBP5"
}, null, -1), _hoisted_10$6 = /* @__PURE__ */ createElementVNode("path", {
  d: "M273.066667 341.333333c-95.573333 0-170.666667 75.093333-170.666667 170.666667s75.093333 170.666667 170.666667 170.666667 170.666667-75.093333 170.666666-170.666667-75.093333-170.666667-170.666666-170.666667z",
  fill: "#bfbfbf",
  "p-id": "1534",
  "data-spm-anchor-id": "a313x.manage_type_myprojects.0.i0.1adc3a81KYNNkt"
}, null, -1), _hoisted_11$5 = /* @__PURE__ */ createElementVNode("path", {
  d: "M580.266667 409.6c-37.546667 0-68.266667 27.306667-68.266667 61.44v85.333333c0 34.133333 30.72 61.44 68.266667 61.44s68.266667-27.306667 68.266666-61.44v-85.333333c0-34.133333-30.72-61.44-68.266666-61.44z m34.133333 146.773333c0 13.653333-17.066667 27.306667-34.133333 27.306667s-34.133333-10.24-34.133334-27.306667v-85.333333c0-13.653333 17.066667-27.306667 34.133334-27.306667s34.133333 10.24 34.133333 27.306667v85.333333zM904.533333 409.6h-68.266666c-10.24 0-17.066667 6.826667-17.066667 17.066667v170.666666c0 10.24 6.826667 17.066667 17.066667 17.066667s17.066667-6.826667 17.066666-17.066667V512h17.066667c10.24 0 17.066667-6.826667 17.066667-17.066667s-6.826667-17.066667-17.066667-17.066666H853.333333v-34.133334h51.2c10.24 0 17.066667-6.826667 17.066667-17.066666s-6.826667-17.066667-17.066667-17.066667zM768 409.6h-68.266667c-10.24 0-17.066667 6.826667-17.066666 17.066667v170.666666c0 10.24 6.826667 17.066667 17.066666 17.066667s17.066667-6.826667 17.066667-17.066667V512h17.066667c10.24 0 17.066667-6.826667 17.066666-17.066667s-6.826667-17.066667-17.066666-17.066666H716.8v-34.133334h51.2c10.24 0 17.066667-6.826667 17.066667-17.066666s-6.826667-17.066667-17.066667-17.066667z",
  fill: "#707070",
  "p-id": "1533",
  "data-spm-anchor-id": "a313x.manage_type_myprojects.0.i2.1adc3a81KYNNkt"
}, null, -1), _hoisted_12$4 = [
  _hoisted_8$8,
  _hoisted_9$7,
  _hoisted_10$6,
  _hoisted_11$5
], _hoisted_13$4 = ["xlink:href"], _sfc_main$M = /* @__PURE__ */ defineComponent({
  __name: "switch-r",
  props: {
    id: {
      type: String,
      default: ""
    },
    isOpen: {
      type: Boolean,
      default: !0
    }
  },
  emits: ["onChange"],
  setup(i, { emit: r }) {
    const n = i, o = r;
    return watch(
      () => n.isOpen,
      () => {
        o("onChange");
      }
    ), (a, u) => (openBlock(), createElementBlock("g", {
      id: n.id
    }, [
      createElementVNode("symbol", {
        viewBox: "0 0 1027 1024",
        id: `${n.id}switch-demo-open`
      }, _hoisted_6$8, 8, _hoisted_2$f),
      createElementVNode("symbol", {
        viewBox: "0 0 1027 1024",
        id: `${n.id}switch-demo-close`
      }, _hoisted_12$4, 8, _hoisted_7$8),
      createElementVNode("use", {
        "xlink:href": `#${n.id}switch-demo-${n.isOpen ? "open" : "close"}`,
        width: "100",
        height: "100"
      }, null, 8, _hoisted_13$4)
    ], 8, _hoisted_1$i));
  }
}), _sfc_main$L = /* @__PURE__ */ defineComponent({
  __name: "svg-text",
  props: {
    text: {},
    bold: { type: Boolean }
  },
  emits: ["resize"],
  setup(i, { emit: r }) {
    const n = r, o = i;
    return watch(
      () => o.text,
      () => {
        nextTick(function() {
          n("resize");
        });
      }
    ), (a, u) => (openBlock(), createElementBlock("text", {
      x: "50",
      y: "55",
      style: normalizeStyle$1({ "font-weight": o.bold ? "bold" : "normal" })
    }, toDisplayString(o.text), 5));
  }
}), _sfc_main$K = /* @__PURE__ */ defineComponent({
  __name: "common-table",
  props: {
    colConfig: { default: () => [] },
    data: { default: () => [] },
    height: { default: 200 },
    maxHeight: {},
    stripe: { type: Boolean, default: !1 },
    border: { type: Boolean, default: !1 },
    size: {},
    fit: { type: Boolean, default: !1 },
    operateDisplay: { type: Boolean, default: !1 },
    selectionData: { default: () => [] }
  },
  setup(i) {
    const r = i, n = ref({});
    return watchEffect(() => {
      const { colConfig: o, ...a } = r;
      n.value = a;
    }), (o, a) => (openBlock(), createBlock(unref(ElTable), normalizeProps(guardReactiveProps(unref(n))), {
      default: withCtx(() => [
        (openBlock(!0), createElementBlock(Fragment, null, renderList(r.colConfig, (u) => (openBlock(), createBlock(unref(ElTableColumn), mergeProps({
          key: u.prop,
          ref_for: !0
        }, u), null, 16))), 128))
      ]),
      _: 1
    }, 16));
  }
}), _hoisted_1$h = { class: "flex mt-5px" }, _sfc_main$J = /* @__PURE__ */ defineComponent({
  __name: "now-time",
  props: {
    width: {},
    fontFamily: {},
    color: {},
    fontSize: {},
    bold: { type: Boolean }
  },
  setup(i) {
    const r = i, n = computed(() => ({
      fontFamily: r.fontFamily,
      color: r.color,
      fontSize: r.fontSize + "px",
      fontWeight: r.bold ? "bold" : "normal"
    })), o = ref(/* @__PURE__ */ new Date()), a = ref(), u = computed(() => {
      const f = o.value.getFullYear(), p = o.value.getMonth() + 1, _ = o.value.getDate();
      return f.toString() + "年" + p.toString() + "月" + _.toString() + "日";
    }), c = computed(() => {
      const f = o.value.getDay();
      return ["星期日", "星期一", "星期二", "星期三", "星期四", "星期五", "星期六"][f];
    }), d = computed(() => {
      const f = o.value.getHours(), p = o.value.getMinutes(), _ = o.value.getSeconds();
      return (f < 10 ? "0" + f.toString() : f.toString()) + ":" + (p < 10 ? "0" + p.toString() : p.toString()) + ":" + (_ < 10 ? "0" + _.toString() : _.toString());
    });
    return onMounted(() => {
      a.value = setInterval(() => {
        o.value = /* @__PURE__ */ new Date();
      }, 500);
    }), onUnmounted(() => {
      clearInterval(a.value);
    }), (f, p) => (openBlock(), createElementBlock("div", {
      class: "now-time",
      style: normalizeStyle$1({ width: r.width + "px" })
    }, [
      createElementVNode("div", {
        style: normalizeStyle$1(unref(n))
      }, toDisplayString(unref(u)), 5),
      createElementVNode("div", _hoisted_1$h, [
        createElementVNode("div", {
          style: normalizeStyle$1(unref(n))
        }, toDisplayString(unref(c)), 5),
        createElementVNode("div", {
          style: normalizeStyle$1(unref(n))
        }, toDisplayString(unref(d)), 5)
      ])
    ], 4));
  }
}), nowTime_vue_vue_type_style_index_0_scoped_82ca3b84_lang = "", _export_sfc$1 = (i, r) => {
  const n = i.__vccOpts || i;
  for (const [o, a] of r)
    n[o] = a;
  return n;
}, NowTime = /* @__PURE__ */ _export_sfc$1(_sfc_main$J, [["__scopeId", "data-v-82ca3b84"]]);
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var extendStatics = function(i, r) {
  return extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(n, o) {
    n.__proto__ = o;
  } || function(n, o) {
    for (var a in o)
      Object.prototype.hasOwnProperty.call(o, a) && (n[a] = o[a]);
  }, extendStatics(i, r);
};
function __extends(i, r) {
  if (typeof r != "function" && r !== null)
    throw new TypeError("Class extends value " + String(r) + " is not a constructor or null");
  extendStatics(i, r);
  function n() {
    this.constructor = i;
  }
  i.prototype = r === null ? Object.create(r) : (n.prototype = r.prototype, new n());
}
var Browser = function() {
  function i() {
    this.firefox = !1, this.ie = !1, this.edge = !1, this.newEdge = !1, this.weChat = !1;
  }
  return i;
}(), Env = function() {
  function i() {
    this.browser = new Browser(), this.node = !1, this.wxa = !1, this.worker = !1, this.svgSupported = !1, this.touchEventsSupported = !1, this.pointerEventsSupported = !1, this.domSupported = !1, this.transformSupported = !1, this.transform3dSupported = !1, this.hasGlobalWindow = typeof window < "u";
  }
  return i;
}(), env = new Env();
typeof wx == "object" && typeof wx.getSystemInfoSync == "function" ? (env.wxa = !0, env.touchEventsSupported = !0) : typeof document > "u" && typeof self < "u" ? env.worker = !0 : typeof navigator > "u" || navigator.userAgent.indexOf("Node.js") === 0 ? (env.node = !0, env.svgSupported = !0) : detect(navigator.userAgent, env);
function detect(i, r) {
  var n = r.browser, o = i.match(/Firefox\/([\d.]+)/), a = i.match(/MSIE\s([\d.]+)/) || i.match(/Trident\/.+?rv:(([\d.]+))/), u = i.match(/Edge?\/([\d.]+)/), c = /micromessenger/i.test(i);
  o && (n.firefox = !0, n.version = o[1]), a && (n.ie = !0, n.version = a[1]), u && (n.edge = !0, n.version = u[1], n.newEdge = +u[1].split(".")[0] > 18), c && (n.weChat = !0), r.svgSupported = typeof SVGRect < "u", r.touchEventsSupported = "ontouchstart" in window && !n.ie && !n.edge, r.pointerEventsSupported = "onpointerdown" in window && (n.edge || n.ie && +n.version >= 11), r.domSupported = typeof document < "u";
  var d = document.documentElement.style;
  r.transform3dSupported = (n.ie && "transition" in d || n.edge || "WebKitCSSMatrix" in window && "m11" in new WebKitCSSMatrix() || "MozPerspective" in d) && !("OTransition" in d), r.transformSupported = r.transform3dSupported || n.ie && +n.version >= 9;
}
const env$1 = env;
var DEFAULT_FONT_SIZE = 12, DEFAULT_FONT_FAMILY = "sans-serif", DEFAULT_FONT = DEFAULT_FONT_SIZE + "px " + DEFAULT_FONT_FAMILY, OFFSET = 20, SCALE = 100, defaultWidthMapStr = "007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";
function getTextWidthMap(i) {
  var r = {};
  if (typeof JSON > "u")
    return r;
  for (var n = 0; n < i.length; n++) {
    var o = String.fromCharCode(n + 32), a = (i.charCodeAt(n) - OFFSET) / SCALE;
    r[o] = a;
  }
  return r;
}
var DEFAULT_TEXT_WIDTH_MAP = getTextWidthMap(defaultWidthMapStr), platformApi = {
  createCanvas: function() {
    return typeof document < "u" && document.createElement("canvas");
  },
  measureText: function() {
    var i, r;
    return function(n, o) {
      if (!i) {
        var a = platformApi.createCanvas();
        i = a && a.getContext("2d");
      }
      if (i)
        return r !== o && (r = i.font = o || DEFAULT_FONT), i.measureText(n);
      n = n || "", o = o || DEFAULT_FONT;
      var u = /((?:\d+)?\.?\d*)px/.exec(o), c = u && +u[1] || DEFAULT_FONT_SIZE, d = 0;
      if (o.indexOf("mono") >= 0)
        d = c * n.length;
      else
        for (var f = 0; f < n.length; f++) {
          var p = DEFAULT_TEXT_WIDTH_MAP[n[f]];
          d += p == null ? c : p * c;
        }
      return { width: d };
    };
  }(),
  loadImage: function(i, r, n) {
    var o = new Image();
    return o.onload = r, o.onerror = n, o.src = i, o;
  }
}, BUILTIN_OBJECT = reduce([
  "Function",
  "RegExp",
  "Date",
  "Error",
  "CanvasGradient",
  "CanvasPattern",
  "Image",
  "Canvas"
], function(i, r) {
  return i["[object " + r + "]"] = !0, i;
}, {}), TYPED_ARRAY = reduce([
  "Int8",
  "Uint8",
  "Uint8Clamped",
  "Int16",
  "Uint16",
  "Int32",
  "Uint32",
  "Float32",
  "Float64"
], function(i, r) {
  return i["[object " + r + "Array]"] = !0, i;
}, {}), objToString = Object.prototype.toString, arrayProto = Array.prototype, nativeForEach = arrayProto.forEach, nativeFilter = arrayProto.filter, nativeSlice = arrayProto.slice, nativeMap = arrayProto.map, ctorFunction = (function() {
}).constructor, protoFunction = ctorFunction ? ctorFunction.prototype : null, protoKey = "__proto__", idStart = 2311;
function guid() {
  return idStart++;
}
function logError() {
  for (var i = [], r = 0; r < arguments.length; r++)
    i[r] = arguments[r];
  typeof console < "u" && console.error.apply(console, i);
}
function clone$2(i) {
  if (i == null || typeof i != "object")
    return i;
  var r = i, n = objToString.call(i);
  if (n === "[object Array]") {
    if (!isPrimitive(i)) {
      r = [];
      for (var o = 0, a = i.length; o < a; o++)
        r[o] = clone$2(i[o]);
    }
  } else if (TYPED_ARRAY[n]) {
    if (!isPrimitive(i)) {
      var u = i.constructor;
      if (u.from)
        r = u.from(i);
      else {
        r = new u(i.length);
        for (var o = 0, a = i.length; o < a; o++)
          r[o] = i[o];
      }
    }
  } else if (!BUILTIN_OBJECT[n] && !isPrimitive(i) && !isDom(i)) {
    r = {};
    for (var c in i)
      i.hasOwnProperty(c) && c !== protoKey && (r[c] = clone$2(i[c]));
  }
  return r;
}
function merge(i, r, n) {
  if (!isObject$3(r) || !isObject$3(i))
    return n ? clone$2(r) : i;
  for (var o in r)
    if (r.hasOwnProperty(o) && o !== protoKey) {
      var a = i[o], u = r[o];
      isObject$3(u) && isObject$3(a) && !isArray$1(u) && !isArray$1(a) && !isDom(u) && !isDom(a) && !isBuiltInObject(u) && !isBuiltInObject(a) && !isPrimitive(u) && !isPrimitive(a) ? merge(a, u, n) : (n || !(o in i)) && (i[o] = clone$2(r[o]));
    }
  return i;
}
function extend(i, r) {
  if (Object.assign)
    Object.assign(i, r);
  else
    for (var n in r)
      r.hasOwnProperty(n) && n !== protoKey && (i[n] = r[n]);
  return i;
}
function defaults(i, r, n) {
  for (var o = keys(r), a = 0; a < o.length; a++) {
    var u = o[a];
    (n ? r[u] != null : i[u] == null) && (i[u] = r[u]);
  }
  return i;
}
function indexOf(i, r) {
  if (i) {
    if (i.indexOf)
      return i.indexOf(r);
    for (var n = 0, o = i.length; n < o; n++)
      if (i[n] === r)
        return n;
  }
  return -1;
}
function inherits(i, r) {
  var n = i.prototype;
  function o() {
  }
  o.prototype = r.prototype, i.prototype = new o();
  for (var a in n)
    n.hasOwnProperty(a) && (i.prototype[a] = n[a]);
  i.prototype.constructor = i, i.superClass = r;
}
function mixin(i, r, n) {
  if (i = "prototype" in i ? i.prototype : i, r = "prototype" in r ? r.prototype : r, Object.getOwnPropertyNames)
    for (var o = Object.getOwnPropertyNames(r), a = 0; a < o.length; a++) {
      var u = o[a];
      u !== "constructor" && (n ? r[u] != null : i[u] == null) && (i[u] = r[u]);
    }
  else
    defaults(i, r, n);
}
function isArrayLike(i) {
  return !i || typeof i == "string" ? !1 : typeof i.length == "number";
}
function each$4(i, r, n) {
  if (i && r)
    if (i.forEach && i.forEach === nativeForEach)
      i.forEach(r, n);
    else if (i.length === +i.length)
      for (var o = 0, a = i.length; o < a; o++)
        r.call(n, i[o], o, i);
    else
      for (var u in i)
        i.hasOwnProperty(u) && r.call(n, i[u], u, i);
}
function map$1(i, r, n) {
  if (!i)
    return [];
  if (!r)
    return slice(i);
  if (i.map && i.map === nativeMap)
    return i.map(r, n);
  for (var o = [], a = 0, u = i.length; a < u; a++)
    o.push(r.call(n, i[a], a, i));
  return o;
}
function reduce(i, r, n, o) {
  if (i && r) {
    for (var a = 0, u = i.length; a < u; a++)
      n = r.call(o, n, i[a], a, i);
    return n;
  }
}
function filter(i, r, n) {
  if (!i)
    return [];
  if (!r)
    return slice(i);
  if (i.filter && i.filter === nativeFilter)
    return i.filter(r, n);
  for (var o = [], a = 0, u = i.length; a < u; a++)
    r.call(n, i[a], a, i) && o.push(i[a]);
  return o;
}
function keys(i) {
  if (!i)
    return [];
  if (Object.keys)
    return Object.keys(i);
  var r = [];
  for (var n in i)
    i.hasOwnProperty(n) && r.push(n);
  return r;
}
function bindPolyfill(i, r) {
  for (var n = [], o = 2; o < arguments.length; o++)
    n[o - 2] = arguments[o];
  return function() {
    return i.apply(r, n.concat(nativeSlice.call(arguments)));
  };
}
var bind$1 = protoFunction && isFunction$1(protoFunction.bind) ? protoFunction.call.bind(protoFunction.bind) : bindPolyfill;
function curry$1(i) {
  for (var r = [], n = 1; n < arguments.length; n++)
    r[n - 1] = arguments[n];
  return function() {
    return i.apply(this, r.concat(nativeSlice.call(arguments)));
  };
}
function isArray$1(i) {
  return Array.isArray ? Array.isArray(i) : objToString.call(i) === "[object Array]";
}
function isFunction$1(i) {
  return typeof i == "function";
}
function isString$2(i) {
  return typeof i == "string";
}
function isStringSafe(i) {
  return objToString.call(i) === "[object String]";
}
function isNumber$1(i) {
  return typeof i == "number";
}
function isObject$3(i) {
  var r = typeof i;
  return r === "function" || !!i && r === "object";
}
function isBuiltInObject(i) {
  return !!BUILTIN_OBJECT[objToString.call(i)];
}
function isTypedArray(i) {
  return !!TYPED_ARRAY[objToString.call(i)];
}
function isDom(i) {
  return typeof i == "object" && typeof i.nodeType == "number" && typeof i.ownerDocument == "object";
}
function isGradientObject(i) {
  return i.colorStops != null;
}
function isRegExp(i) {
  return objToString.call(i) === "[object RegExp]";
}
function eqNaN(i) {
  return i !== i;
}
function retrieve() {
  for (var i = [], r = 0; r < arguments.length; r++)
    i[r] = arguments[r];
  for (var n = 0, o = i.length; n < o; n++)
    if (i[n] != null)
      return i[n];
}
function retrieve2(i, r) {
  return i ?? r;
}
function retrieve3(i, r, n) {
  return i ?? r ?? n;
}
function slice(i) {
  for (var r = [], n = 1; n < arguments.length; n++)
    r[n - 1] = arguments[n];
  return nativeSlice.apply(i, r);
}
function normalizeCssArray$1(i) {
  if (typeof i == "number")
    return [i, i, i, i];
  var r = i.length;
  return r === 2 ? [i[0], i[1], i[0], i[1]] : r === 3 ? [i[0], i[1], i[2], i[1]] : i;
}
function assert(i, r) {
  if (!i)
    throw new Error(r);
}
function trim(i) {
  return i == null ? null : typeof i.trim == "function" ? i.trim() : i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, "");
}
var primitiveKey = "__ec_primitive__";
function setAsPrimitive(i) {
  i[primitiveKey] = !0;
}
function isPrimitive(i) {
  return i[primitiveKey];
}
var MapPolyfill = function() {
  function i() {
    this.data = {};
  }
  return i.prototype.delete = function(r) {
    var n = this.has(r);
    return n && delete this.data[r], n;
  }, i.prototype.has = function(r) {
    return this.data.hasOwnProperty(r);
  }, i.prototype.get = function(r) {
    return this.data[r];
  }, i.prototype.set = function(r, n) {
    return this.data[r] = n, this;
  }, i.prototype.keys = function() {
    return keys(this.data);
  }, i.prototype.forEach = function(r) {
    var n = this.data;
    for (var o in n)
      n.hasOwnProperty(o) && r(n[o], o);
  }, i;
}(), isNativeMapSupported = typeof Map == "function";
function maybeNativeMap() {
  return isNativeMapSupported ? /* @__PURE__ */ new Map() : new MapPolyfill();
}
var HashMap = function() {
  function i(r) {
    var n = isArray$1(r);
    this.data = maybeNativeMap();
    var o = this;
    r instanceof i ? r.each(a) : r && each$4(r, a);
    function a(u, c) {
      n ? o.set(u, c) : o.set(c, u);
    }
  }
  return i.prototype.hasKey = function(r) {
    return this.data.has(r);
  }, i.prototype.get = function(r) {
    return this.data.get(r);
  }, i.prototype.set = function(r, n) {
    return this.data.set(r, n), n;
  }, i.prototype.each = function(r, n) {
    this.data.forEach(function(o, a) {
      r.call(n, o, a);
    });
  }, i.prototype.keys = function() {
    var r = this.data.keys();
    return isNativeMapSupported ? Array.from(r) : r;
  }, i.prototype.removeKey = function(r) {
    this.data.delete(r);
  }, i;
}();
function createHashMap(i) {
  return new HashMap(i);
}
function concatArray(i, r) {
  for (var n = new i.constructor(i.length + r.length), o = 0; o < i.length; o++)
    n[o] = i[o];
  for (var a = i.length, o = 0; o < r.length; o++)
    n[o + a] = r[o];
  return n;
}
function createObject(i, r) {
  var n;
  if (Object.create)
    n = Object.create(i);
  else {
    var o = function() {
    };
    o.prototype = i, n = new o();
  }
  return r && extend(n, r), n;
}
function hasOwn$1(i, r) {
  return i.hasOwnProperty(r);
}
function noop$1() {
}
var RADIAN_TO_DEGREE = 180 / Math.PI;
function create$1(i, r) {
  return i == null && (i = 0), r == null && (r = 0), [i, r];
}
function clone$1(i) {
  return [i[0], i[1]];
}
function add(i, r, n) {
  return i[0] = r[0] + n[0], i[1] = r[1] + n[1], i;
}
function sub(i, r, n) {
  return i[0] = r[0] - n[0], i[1] = r[1] - n[1], i;
}
function len(i) {
  return Math.sqrt(lenSquare(i));
}
function lenSquare(i) {
  return i[0] * i[0] + i[1] * i[1];
}
function scale$1(i, r, n) {
  return i[0] = r[0] * n, i[1] = r[1] * n, i;
}
function normalize(i, r) {
  var n = len(r);
  return n === 0 ? (i[0] = 0, i[1] = 0) : (i[0] = r[0] / n, i[1] = r[1] / n), i;
}
function distance(i, r) {
  return Math.sqrt((i[0] - r[0]) * (i[0] - r[0]) + (i[1] - r[1]) * (i[1] - r[1]));
}
var dist$1 = distance;
function distanceSquare(i, r) {
  return (i[0] - r[0]) * (i[0] - r[0]) + (i[1] - r[1]) * (i[1] - r[1]);
}
var distSquare = distanceSquare;
function lerp(i, r, n, o) {
  return i[0] = r[0] + o * (n[0] - r[0]), i[1] = r[1] + o * (n[1] - r[1]), i;
}
function applyTransform$1(i, r, n) {
  var o = r[0], a = r[1];
  return i[0] = n[0] * o + n[2] * a + n[4], i[1] = n[1] * o + n[3] * a + n[5], i;
}
function min$1(i, r, n) {
  return i[0] = Math.min(r[0], n[0]), i[1] = Math.min(r[1], n[1]), i;
}
function max$1(i, r, n) {
  return i[0] = Math.max(r[0], n[0]), i[1] = Math.max(r[1], n[1]), i;
}
var Param = function() {
  function i(r, n) {
    this.target = r, this.topTarget = n && n.topTarget;
  }
  return i;
}(), Draggable = function() {
  function i(r) {
    this.handler = r, r.on("mousedown", this._dragStart, this), r.on("mousemove", this._drag, this), r.on("mouseup", this._dragEnd, this);
  }
  return i.prototype._dragStart = function(r) {
    for (var n = r.target; n && !n.draggable; )
      n = n.parent || n.__hostTarget;
    n && (this._draggingTarget = n, n.dragging = !0, this._x = r.offsetX, this._y = r.offsetY, this.handler.dispatchToElement(new Param(n, r), "dragstart", r.event));
  }, i.prototype._drag = function(r) {
    var n = this._draggingTarget;
    if (n) {
      var o = r.offsetX, a = r.offsetY, u = o - this._x, c = a - this._y;
      this._x = o, this._y = a, n.drift(u, c, r), this.handler.dispatchToElement(new Param(n, r), "drag", r.event);
      var d = this.handler.findHover(o, a, n).target, f = this._dropTarget;
      this._dropTarget = d, n !== d && (f && d !== f && this.handler.dispatchToElement(new Param(f, r), "dragleave", r.event), d && d !== f && this.handler.dispatchToElement(new Param(d, r), "dragenter", r.event));
    }
  }, i.prototype._dragEnd = function(r) {
    var n = this._draggingTarget;
    n && (n.dragging = !1), this.handler.dispatchToElement(new Param(n, r), "dragend", r.event), this._dropTarget && this.handler.dispatchToElement(new Param(this._dropTarget, r), "drop", r.event), this._draggingTarget = null, this._dropTarget = null;
  }, i;
}();
const Draggable$1 = Draggable;
var Eventful = function() {
  function i(r) {
    r && (this._$eventProcessor = r);
  }
  return i.prototype.on = function(r, n, o, a) {
    this._$handlers || (this._$handlers = {});
    var u = this._$handlers;
    if (typeof n == "function" && (a = o, o = n, n = null), !o || !r)
      return this;
    var c = this._$eventProcessor;
    n != null && c && c.normalizeQuery && (n = c.normalizeQuery(n)), u[r] || (u[r] = []);
    for (var d = 0; d < u[r].length; d++)
      if (u[r][d].h === o)
        return this;
    var f = {
      h: o,
      query: n,
      ctx: a || this,
      callAtLast: o.zrEventfulCallAtLast
    }, p = u[r].length - 1, _ = u[r][p];
    return _ && _.callAtLast ? u[r].splice(p, 0, f) : u[r].push(f), this;
  }, i.prototype.isSilent = function(r) {
    var n = this._$handlers;
    return !n || !n[r] || !n[r].length;
  }, i.prototype.off = function(r, n) {
    var o = this._$handlers;
    if (!o)
      return this;
    if (!r)
      return this._$handlers = {}, this;
    if (n) {
      if (o[r]) {
        for (var a = [], u = 0, c = o[r].length; u < c; u++)
          o[r][u].h !== n && a.push(o[r][u]);
        o[r] = a;
      }
      o[r] && o[r].length === 0 && delete o[r];
    } else
      delete o[r];
    return this;
  }, i.prototype.trigger = function(r) {
    for (var n = [], o = 1; o < arguments.length; o++)
      n[o - 1] = arguments[o];
    if (!this._$handlers)
      return this;
    var a = this._$handlers[r], u = this._$eventProcessor;
    if (a)
      for (var c = n.length, d = a.length, f = 0; f < d; f++) {
        var p = a[f];
        if (!(u && u.filter && p.query != null && !u.filter(r, p.query)))
          switch (c) {
            case 0:
              p.h.call(p.ctx);
              break;
            case 1:
              p.h.call(p.ctx, n[0]);
              break;
            case 2:
              p.h.call(p.ctx, n[0], n[1]);
              break;
            default:
              p.h.apply(p.ctx, n);
              break;
          }
      }
    return u && u.afterTrigger && u.afterTrigger(r), this;
  }, i.prototype.triggerWithContext = function(r) {
    for (var n = [], o = 1; o < arguments.length; o++)
      n[o - 1] = arguments[o];
    if (!this._$handlers)
      return this;
    var a = this._$handlers[r], u = this._$eventProcessor;
    if (a)
      for (var c = n.length, d = n[c - 1], f = a.length, p = 0; p < f; p++) {
        var _ = a[p];
        if (!(u && u.filter && _.query != null && !u.filter(r, _.query)))
          switch (c) {
            case 0:
              _.h.call(d);
              break;
            case 1:
              _.h.call(d, n[0]);
              break;
            case 2:
              _.h.call(d, n[0], n[1]);
              break;
            default:
              _.h.apply(d, n.slice(1, c - 1));
              break;
          }
      }
    return u && u.afterTrigger && u.afterTrigger(r), this;
  }, i;
}();
const Eventful$1 = Eventful;
var LN2 = Math.log(2);
function determinant(i, r, n, o, a, u) {
  var c = o + "-" + a, d = i.length;
  if (u.hasOwnProperty(c))
    return u[c];
  if (r === 1) {
    var f = Math.round(Math.log((1 << d) - 1 & ~a) / LN2);
    return i[n][f];
  }
  for (var p = o | 1 << n, _ = n + 1; o & 1 << _; )
    _++;
  for (var v = 0, g = 0, y = 0; g < d; g++) {
    var b = 1 << g;
    b & a || (v += (y % 2 ? -1 : 1) * i[n][g] * determinant(i, r - 1, _, p, a | b, u), y++);
  }
  return u[c] = v, v;
}
function buildTransformer(i, r) {
  var n = [
    [i[0], i[1], 1, 0, 0, 0, -r[0] * i[0], -r[0] * i[1]],
    [0, 0, 0, i[0], i[1], 1, -r[1] * i[0], -r[1] * i[1]],
    [i[2], i[3], 1, 0, 0, 0, -r[2] * i[2], -r[2] * i[3]],
    [0, 0, 0, i[2], i[3], 1, -r[3] * i[2], -r[3] * i[3]],
    [i[4], i[5], 1, 0, 0, 0, -r[4] * i[4], -r[4] * i[5]],
    [0, 0, 0, i[4], i[5], 1, -r[5] * i[4], -r[5] * i[5]],
    [i[6], i[7], 1, 0, 0, 0, -r[6] * i[6], -r[6] * i[7]],
    [0, 0, 0, i[6], i[7], 1, -r[7] * i[6], -r[7] * i[7]]
  ], o = {}, a = determinant(n, 8, 0, 0, 0, o);
  if (a !== 0) {
    for (var u = [], c = 0; c < 8; c++)
      for (var d = 0; d < 8; d++)
        u[d] == null && (u[d] = 0), u[d] += ((c + d) % 2 ? -1 : 1) * determinant(n, 7, c === 0 ? 1 : 0, 1 << c, 1 << d, o) / a * r[c];
    return function(f, p, _) {
      var v = p * u[6] + _ * u[7] + 1;
      f[0] = (p * u[0] + _ * u[1] + u[2]) / v, f[1] = (p * u[3] + _ * u[4] + u[5]) / v;
    };
  }
}
var EVENT_SAVED_PROP = "___zrEVENTSAVED", _calcOut$1 = [];
function transformLocalCoord(i, r, n, o, a) {
  return transformCoordWithViewport(_calcOut$1, r, o, a, !0) && transformCoordWithViewport(i, n, _calcOut$1[0], _calcOut$1[1]);
}
function transformCoordWithViewport(i, r, n, o, a) {
  if (r.getBoundingClientRect && env$1.domSupported && !isCanvasEl(r)) {
    var u = r[EVENT_SAVED_PROP] || (r[EVENT_SAVED_PROP] = {}), c = prepareCoordMarkers(r, u), d = preparePointerTransformer(c, u, a);
    if (d)
      return d(i, n, o), !0;
  }
  return !1;
}
function prepareCoordMarkers(i, r) {
  var n = r.markers;
  if (n)
    return n;
  n = r.markers = [];
  for (var o = ["left", "right"], a = ["top", "bottom"], u = 0; u < 4; u++) {
    var c = document.createElement("div"), d = c.style, f = u % 2, p = (u >> 1) % 2;
    d.cssText = [
      "position: absolute",
      "visibility: hidden",
      "padding: 0",
      "margin: 0",
      "border-width: 0",
      "user-select: none",
      "width:0",
      "height:0",
      o[f] + ":0",
      a[p] + ":0",
      o[1 - f] + ":auto",
      a[1 - p] + ":auto",
      ""
    ].join("!important;"), i.appendChild(c), n.push(c);
  }
  return n;
}
function preparePointerTransformer(i, r, n) {
  for (var o = n ? "invTrans" : "trans", a = r[o], u = r.srcCoords, c = [], d = [], f = !0, p = 0; p < 4; p++) {
    var _ = i[p].getBoundingClientRect(), v = 2 * p, g = _.left, y = _.top;
    c.push(g, y), f = f && u && g === u[v] && y === u[v + 1], d.push(i[p].offsetLeft, i[p].offsetTop);
  }
  return f && a ? a : (r.srcCoords = c, r[o] = n ? buildTransformer(d, c) : buildTransformer(c, d));
}
function isCanvasEl(i) {
  return i.nodeName.toUpperCase() === "CANVAS";
}
var replaceReg = /([&<>"'])/g, replaceMap = {
  "&": "&amp;",
  "<": "&lt;",
  ">": "&gt;",
  '"': "&quot;",
  "'": "&#39;"
};
function encodeHTML(i) {
  return i == null ? "" : (i + "").replace(replaceReg, function(r, n) {
    return replaceMap[n];
  });
}
var MOUSE_EVENT_REG = /^(?:mouse|pointer|contextmenu|drag|drop)|click/, _calcOut = [], firefoxNotSupportOffsetXY = env$1.browser.firefox && +env$1.browser.version.split(".")[0] < 39;
function clientToLocal(i, r, n, o) {
  return n = n || {}, o ? calculateZrXY(i, r, n) : firefoxNotSupportOffsetXY && r.layerX != null && r.layerX !== r.offsetX ? (n.zrX = r.layerX, n.zrY = r.layerY) : r.offsetX != null ? (n.zrX = r.offsetX, n.zrY = r.offsetY) : calculateZrXY(i, r, n), n;
}
function calculateZrXY(i, r, n) {
  if (env$1.domSupported && i.getBoundingClientRect) {
    var o = r.clientX, a = r.clientY;
    if (isCanvasEl(i)) {
      var u = i.getBoundingClientRect();
      n.zrX = o - u.left, n.zrY = a - u.top;
      return;
    } else if (transformCoordWithViewport(_calcOut, i, o, a)) {
      n.zrX = _calcOut[0], n.zrY = _calcOut[1];
      return;
    }
  }
  n.zrX = n.zrY = 0;
}
function getNativeEvent(i) {
  return i || window.event;
}
function normalizeEvent(i, r, n) {
  if (r = getNativeEvent(r), r.zrX != null)
    return r;
  var o = r.type, a = o && o.indexOf("touch") >= 0;
  if (a) {
    var c = o !== "touchend" ? r.targetTouches[0] : r.changedTouches[0];
    c && clientToLocal(i, c, r, n);
  } else {
    clientToLocal(i, r, r, n);
    var u = getWheelDeltaMayPolyfill(r);
    r.zrDelta = u ? u / 120 : -(r.detail || 0) / 3;
  }
  var d = r.button;
  return r.which == null && d !== void 0 && MOUSE_EVENT_REG.test(r.type) && (r.which = d & 1 ? 1 : d & 2 ? 3 : d & 4 ? 2 : 0), r;
}
function getWheelDeltaMayPolyfill(i) {
  var r = i.wheelDelta;
  if (r)
    return r;
  var n = i.deltaX, o = i.deltaY;
  if (n == null || o == null)
    return r;
  var a = Math.abs(o !== 0 ? o : n), u = o > 0 ? -1 : o < 0 ? 1 : n > 0 ? -1 : 1;
  return 3 * a * u;
}
function addEventListener(i, r, n, o) {
  i.addEventListener(r, n, o);
}
function removeEventListener(i, r, n, o) {
  i.removeEventListener(r, n, o);
}
var stop = function(i) {
  i.preventDefault(), i.stopPropagation(), i.cancelBubble = !0;
}, GestureMgr = function() {
  function i() {
    this._track = [];
  }
  return i.prototype.recognize = function(r, n, o) {
    return this._doTrack(r, n, o), this._recognize(r);
  }, i.prototype.clear = function() {
    return this._track.length = 0, this;
  }, i.prototype._doTrack = function(r, n, o) {
    var a = r.touches;
    if (a) {
      for (var u = {
        points: [],
        touches: [],
        target: n,
        event: r
      }, c = 0, d = a.length; c < d; c++) {
        var f = a[c], p = clientToLocal(o, f, {});
        u.points.push([p.zrX, p.zrY]), u.touches.push(f);
      }
      this._track.push(u);
    }
  }, i.prototype._recognize = function(r) {
    for (var n in recognizers)
      if (recognizers.hasOwnProperty(n)) {
        var o = recognizers[n](this._track, r);
        if (o)
          return o;
      }
  }, i;
}();
function dist(i) {
  var r = i[1][0] - i[0][0], n = i[1][1] - i[0][1];
  return Math.sqrt(r * r + n * n);
}
function center(i) {
  return [
    (i[0][0] + i[1][0]) / 2,
    (i[0][1] + i[1][1]) / 2
  ];
}
var recognizers = {
  pinch: function(i, r) {
    var n = i.length;
    if (n) {
      var o = (i[n - 1] || {}).points, a = (i[n - 2] || {}).points || o;
      if (a && a.length > 1 && o && o.length > 1) {
        var u = dist(o) / dist(a);
        !isFinite(u) && (u = 1), r.pinchScale = u;
        var c = center(o);
        return r.pinchX = c[0], r.pinchY = c[1], {
          type: "pinch",
          target: i[0].target,
          event: r
        };
      }
    }
  }
};
function create() {
  return [1, 0, 0, 1, 0, 0];
}
function identity$1(i) {
  return i[0] = 1, i[1] = 0, i[2] = 0, i[3] = 1, i[4] = 0, i[5] = 0, i;
}
function copy(i, r) {
  return i[0] = r[0], i[1] = r[1], i[2] = r[2], i[3] = r[3], i[4] = r[4], i[5] = r[5], i;
}
function mul(i, r, n) {
  var o = r[0] * n[0] + r[2] * n[1], a = r[1] * n[0] + r[3] * n[1], u = r[0] * n[2] + r[2] * n[3], c = r[1] * n[2] + r[3] * n[3], d = r[0] * n[4] + r[2] * n[5] + r[4], f = r[1] * n[4] + r[3] * n[5] + r[5];
  return i[0] = o, i[1] = a, i[2] = u, i[3] = c, i[4] = d, i[5] = f, i;
}
function translate$1(i, r, n) {
  return i[0] = r[0], i[1] = r[1], i[2] = r[2], i[3] = r[3], i[4] = r[4] + n[0], i[5] = r[5] + n[1], i;
}
function rotate(i, r, n, o) {
  o === void 0 && (o = [0, 0]);
  var a = r[0], u = r[2], c = r[4], d = r[1], f = r[3], p = r[5], _ = Math.sin(n), v = Math.cos(n);
  return i[0] = a * v + d * _, i[1] = -a * _ + d * v, i[2] = u * v + f * _, i[3] = -u * _ + v * f, i[4] = v * (c - o[0]) + _ * (p - o[1]) + o[0], i[5] = v * (p - o[1]) - _ * (c - o[0]) + o[1], i;
}
function scale(i, r, n) {
  var o = n[0], a = n[1];
  return i[0] = r[0] * o, i[1] = r[1] * a, i[2] = r[2] * o, i[3] = r[3] * a, i[4] = r[4] * o, i[5] = r[5] * a, i;
}
function invert(i, r) {
  var n = r[0], o = r[2], a = r[4], u = r[1], c = r[3], d = r[5], f = n * c - u * o;
  return f ? (f = 1 / f, i[0] = c * f, i[1] = -u * f, i[2] = -o * f, i[3] = n * f, i[4] = (o * d - c * a) * f, i[5] = (u * a - n * d) * f, i) : null;
}
var Point = function() {
  function i(r, n) {
    this.x = r || 0, this.y = n || 0;
  }
  return i.prototype.copy = function(r) {
    return this.x = r.x, this.y = r.y, this;
  }, i.prototype.clone = function() {
    return new i(this.x, this.y);
  }, i.prototype.set = function(r, n) {
    return this.x = r, this.y = n, this;
  }, i.prototype.equal = function(r) {
    return r.x === this.x && r.y === this.y;
  }, i.prototype.add = function(r) {
    return this.x += r.x, this.y += r.y, this;
  }, i.prototype.scale = function(r) {
    this.x *= r, this.y *= r;
  }, i.prototype.scaleAndAdd = function(r, n) {
    this.x += r.x * n, this.y += r.y * n;
  }, i.prototype.sub = function(r) {
    return this.x -= r.x, this.y -= r.y, this;
  }, i.prototype.dot = function(r) {
    return this.x * r.x + this.y * r.y;
  }, i.prototype.len = function() {
    return Math.sqrt(this.x * this.x + this.y * this.y);
  }, i.prototype.lenSquare = function() {
    return this.x * this.x + this.y * this.y;
  }, i.prototype.normalize = function() {
    var r = this.len();
    return this.x /= r, this.y /= r, this;
  }, i.prototype.distance = function(r) {
    var n = this.x - r.x, o = this.y - r.y;
    return Math.sqrt(n * n + o * o);
  }, i.prototype.distanceSquare = function(r) {
    var n = this.x - r.x, o = this.y - r.y;
    return n * n + o * o;
  }, i.prototype.negate = function() {
    return this.x = -this.x, this.y = -this.y, this;
  }, i.prototype.transform = function(r) {
    if (r) {
      var n = this.x, o = this.y;
      return this.x = r[0] * n + r[2] * o + r[4], this.y = r[1] * n + r[3] * o + r[5], this;
    }
  }, i.prototype.toArray = function(r) {
    return r[0] = this.x, r[1] = this.y, r;
  }, i.prototype.fromArray = function(r) {
    this.x = r[0], this.y = r[1];
  }, i.set = function(r, n, o) {
    r.x = n, r.y = o;
  }, i.copy = function(r, n) {
    r.x = n.x, r.y = n.y;
  }, i.len = function(r) {
    return Math.sqrt(r.x * r.x + r.y * r.y);
  }, i.lenSquare = function(r) {
    return r.x * r.x + r.y * r.y;
  }, i.dot = function(r, n) {
    return r.x * n.x + r.y * n.y;
  }, i.add = function(r, n, o) {
    r.x = n.x + o.x, r.y = n.y + o.y;
  }, i.sub = function(r, n, o) {
    r.x = n.x - o.x, r.y = n.y - o.y;
  }, i.scale = function(r, n, o) {
    r.x = n.x * o, r.y = n.y * o;
  }, i.scaleAndAdd = function(r, n, o, a) {
    r.x = n.x + o.x * a, r.y = n.y + o.y * a;
  }, i.lerp = function(r, n, o, a) {
    var u = 1 - a;
    r.x = u * n.x + a * o.x, r.y = u * n.y + a * o.y;
  }, i;
}();
const Point$1 = Point;
var mathMin$4 = Math.min, mathMax$4 = Math.max, lt$1 = new Point$1(), rb = new Point$1(), lb = new Point$1(), rt$1 = new Point$1(), minTv$1 = new Point$1(), maxTv$1 = new Point$1(), BoundingRect = function() {
  function i(r, n, o, a) {
    o < 0 && (r = r + o, o = -o), a < 0 && (n = n + a, a = -a), this.x = r, this.y = n, this.width = o, this.height = a;
  }
  return i.prototype.union = function(r) {
    var n = mathMin$4(r.x, this.x), o = mathMin$4(r.y, this.y);
    isFinite(this.x) && isFinite(this.width) ? this.width = mathMax$4(r.x + r.width, this.x + this.width) - n : this.width = r.width, isFinite(this.y) && isFinite(this.height) ? this.height = mathMax$4(r.y + r.height, this.y + this.height) - o : this.height = r.height, this.x = n, this.y = o;
  }, i.prototype.applyTransform = function(r) {
    i.applyTransform(this, this, r);
  }, i.prototype.calculateTransform = function(r) {
    var n = this, o = r.width / n.width, a = r.height / n.height, u = create();
    return translate$1(u, u, [-n.x, -n.y]), scale(u, u, [o, a]), translate$1(u, u, [r.x, r.y]), u;
  }, i.prototype.intersect = function(r, n) {
    if (!r)
      return !1;
    r instanceof i || (r = i.create(r));
    var o = this, a = o.x, u = o.x + o.width, c = o.y, d = o.y + o.height, f = r.x, p = r.x + r.width, _ = r.y, v = r.y + r.height, g = !(u < f || p < a || d < _ || v < c);
    if (n) {
      var y = 1 / 0, b = 0, A = Math.abs(u - f), w = Math.abs(p - a), S = Math.abs(d - _), T = Math.abs(v - c), x = Math.min(A, w), L = Math.min(S, T);
      u < f || p < a ? x > b && (b = x, A < w ? Point$1.set(maxTv$1, -A, 0) : Point$1.set(maxTv$1, w, 0)) : x < y && (y = x, A < w ? Point$1.set(minTv$1, A, 0) : Point$1.set(minTv$1, -w, 0)), d < _ || v < c ? L > b && (b = L, S < T ? Point$1.set(maxTv$1, 0, -S) : Point$1.set(maxTv$1, 0, T)) : x < y && (y = x, S < T ? Point$1.set(minTv$1, 0, S) : Point$1.set(minTv$1, 0, -T));
    }
    return n && Point$1.copy(n, g ? minTv$1 : maxTv$1), g;
  }, i.prototype.contain = function(r, n) {
    var o = this;
    return r >= o.x && r <= o.x + o.width && n >= o.y && n <= o.y + o.height;
  }, i.prototype.clone = function() {
    return new i(this.x, this.y, this.width, this.height);
  }, i.prototype.copy = function(r) {
    i.copy(this, r);
  }, i.prototype.plain = function() {
    return {
      x: this.x,
      y: this.y,
      width: this.width,
      height: this.height
    };
  }, i.prototype.isFinite = function() {
    return isFinite(this.x) && isFinite(this.y) && isFinite(this.width) && isFinite(this.height);
  }, i.prototype.isZero = function() {
    return this.width === 0 || this.height === 0;
  }, i.create = function(r) {
    return new i(r.x, r.y, r.width, r.height);
  }, i.copy = function(r, n) {
    r.x = n.x, r.y = n.y, r.width = n.width, r.height = n.height;
  }, i.applyTransform = function(r, n, o) {
    if (!o) {
      r !== n && i.copy(r, n);
      return;
    }
    if (o[1] < 1e-5 && o[1] > -1e-5 && o[2] < 1e-5 && o[2] > -1e-5) {
      var a = o[0], u = o[3], c = o[4], d = o[5];
      r.x = n.x * a + c, r.y = n.y * u + d, r.width = n.width * a, r.height = n.height * u, r.width < 0 && (r.x += r.width, r.width = -r.width), r.height < 0 && (r.y += r.height, r.height = -r.height);
      return;
    }
    lt$1.x = lb.x = n.x, lt$1.y = rt$1.y = n.y, rb.x = rt$1.x = n.x + n.width, rb.y = lb.y = n.y + n.height, lt$1.transform(o), rt$1.transform(o), rb.transform(o), lb.transform(o), r.x = mathMin$4(lt$1.x, rb.x, lb.x, rt$1.x), r.y = mathMin$4(lt$1.y, rb.y, lb.y, rt$1.y);
    var f = mathMax$4(lt$1.x, rb.x, lb.x, rt$1.x), p = mathMax$4(lt$1.y, rb.y, lb.y, rt$1.y);
    r.width = f - r.x, r.height = p - r.y;
  }, i;
}();
const BoundingRect$1 = BoundingRect;
var SILENT = "silent";
function makeEventPacket(i, r, n) {
  return {
    type: i,
    event: n,
    target: r.target,
    topTarget: r.topTarget,
    cancelBubble: !1,
    offsetX: n.zrX,
    offsetY: n.zrY,
    gestureEvent: n.gestureEvent,
    pinchX: n.pinchX,
    pinchY: n.pinchY,
    pinchScale: n.pinchScale,
    wheelDelta: n.zrDelta,
    zrByTouch: n.zrByTouch,
    which: n.which,
    stop: stopEvent$1
  };
}
function stopEvent$1() {
  stop(this.event);
}
var EmptyProxy = function(i) {
  __extends(r, i);
  function r() {
    var n = i !== null && i.apply(this, arguments) || this;
    return n.handler = null, n;
  }
  return r.prototype.dispose = function() {
  }, r.prototype.setCursor = function() {
  }, r;
}(Eventful$1), HoveredResult = function() {
  function i(r, n) {
    this.x = r, this.y = n;
  }
  return i;
}(), handlerNames = [
  "click",
  "dblclick",
  "mousewheel",
  "mouseout",
  "mouseup",
  "mousedown",
  "mousemove",
  "contextmenu"
], tmpRect$1 = new BoundingRect$1(0, 0, 0, 0), Handler = function(i) {
  __extends(r, i);
  function r(n, o, a, u, c) {
    var d = i.call(this) || this;
    return d._hovered = new HoveredResult(0, 0), d.storage = n, d.painter = o, d.painterRoot = u, d._pointerSize = c, a = a || new EmptyProxy(), d.proxy = null, d.setHandlerProxy(a), d._draggingMgr = new Draggable$1(d), d;
  }
  return r.prototype.setHandlerProxy = function(n) {
    this.proxy && this.proxy.dispose(), n && (each$4(handlerNames, function(o) {
      n.on && n.on(o, this[o], this);
    }, this), n.handler = this), this.proxy = n;
  }, r.prototype.mousemove = function(n) {
    var o = n.zrX, a = n.zrY, u = isOutsideBoundary(this, o, a), c = this._hovered, d = c.target;
    d && !d.__zr && (c = this.findHover(c.x, c.y), d = c.target);
    var f = this._hovered = u ? new HoveredResult(o, a) : this.findHover(o, a), p = f.target, _ = this.proxy;
    _.setCursor && _.setCursor(p ? p.cursor : "default"), d && p !== d && this.dispatchToElement(c, "mouseout", n), this.dispatchToElement(f, "mousemove", n), p && p !== d && this.dispatchToElement(f, "mouseover", n);
  }, r.prototype.mouseout = function(n) {
    var o = n.zrEventControl;
    o !== "only_globalout" && this.dispatchToElement(this._hovered, "mouseout", n), o !== "no_globalout" && this.trigger("globalout", { type: "globalout", event: n });
  }, r.prototype.resize = function() {
    this._hovered = new HoveredResult(0, 0);
  }, r.prototype.dispatch = function(n, o) {
    var a = this[n];
    a && a.call(this, o);
  }, r.prototype.dispose = function() {
    this.proxy.dispose(), this.storage = null, this.proxy = null, this.painter = null;
  }, r.prototype.setCursorStyle = function(n) {
    var o = this.proxy;
    o.setCursor && o.setCursor(n);
  }, r.prototype.dispatchToElement = function(n, o, a) {
    n = n || {};
    var u = n.target;
    if (!(u && u.silent)) {
      for (var c = "on" + o, d = makeEventPacket(o, n, a); u && (u[c] && (d.cancelBubble = !!u[c].call(u, d)), u.trigger(o, d), u = u.__hostTarget ? u.__hostTarget : u.parent, !d.cancelBubble); )
        ;
      d.cancelBubble || (this.trigger(o, d), this.painter && this.painter.eachOtherLayer && this.painter.eachOtherLayer(function(f) {
        typeof f[c] == "function" && f[c].call(f, d), f.trigger && f.trigger(o, d);
      }));
    }
  }, r.prototype.findHover = function(n, o, a) {
    var u = this.storage.getDisplayList(), c = new HoveredResult(n, o);
    if (setHoverTarget(u, c, n, o, a), this._pointerSize && !c.target) {
      for (var d = [], f = this._pointerSize, p = f / 2, _ = new BoundingRect$1(n - p, o - p, f, f), v = u.length - 1; v >= 0; v--) {
        var g = u[v];
        g !== a && !g.ignore && !g.ignoreCoarsePointer && (!g.parent || !g.parent.ignoreCoarsePointer) && (tmpRect$1.copy(g.getBoundingRect()), g.transform && tmpRect$1.applyTransform(g.transform), tmpRect$1.intersect(_) && d.push(g));
      }
      if (d.length)
        for (var y = 4, b = Math.PI / 12, A = Math.PI * 2, w = 0; w < p; w += y)
          for (var S = 0; S < A; S += b) {
            var T = n + w * Math.cos(S), x = o + w * Math.sin(S);
            if (setHoverTarget(d, c, T, x, a), c.target)
              return c;
          }
    }
    return c;
  }, r.prototype.processGesture = function(n, o) {
    this._gestureMgr || (this._gestureMgr = new GestureMgr());
    var a = this._gestureMgr;
    o === "start" && a.clear();
    var u = a.recognize(n, this.findHover(n.zrX, n.zrY, null).target, this.proxy.dom);
    if (o === "end" && a.clear(), u) {
      var c = u.type;
      n.gestureEvent = c;
      var d = new HoveredResult();
      d.target = u.target, this.dispatchToElement(d, c, u.event);
    }
  }, r;
}(Eventful$1);
each$4(["click", "mousedown", "mouseup", "mousewheel", "dblclick", "contextmenu"], function(i) {
  Handler.prototype[i] = function(r) {
    var n = r.zrX, o = r.zrY, a = isOutsideBoundary(this, n, o), u, c;
    if ((i !== "mouseup" || !a) && (u = this.findHover(n, o), c = u.target), i === "mousedown")
      this._downEl = c, this._downPoint = [r.zrX, r.zrY], this._upEl = c;
    else if (i === "mouseup")
      this._upEl = c;
    else if (i === "click") {
      if (this._downEl !== this._upEl || !this._downPoint || dist$1(this._downPoint, [r.zrX, r.zrY]) > 4)
        return;
      this._downPoint = null;
    }
    this.dispatchToElement(u, i, r);
  };
});
function isHover(i, r, n) {
  if (i[i.rectHover ? "rectContain" : "contain"](r, n)) {
    for (var o = i, a = void 0, u = !1; o; ) {
      if (o.ignoreClip && (u = !0), !u) {
        var c = o.getClipPath();
        if (c && !c.contain(r, n))
          return !1;
      }
      o.silent && (a = !0);
      var d = o.__hostTarget;
      o = d || o.parent;
    }
    return a ? SILENT : !0;
  }
  return !1;
}
function setHoverTarget(i, r, n, o, a) {
  for (var u = i.length - 1; u >= 0; u--) {
    var c = i[u], d = void 0;
    if (c !== a && !c.ignore && (d = isHover(c, n, o)) && (!r.topTarget && (r.topTarget = c), d !== SILENT)) {
      r.target = c;
      break;
    }
  }
}
function isOutsideBoundary(i, r, n) {
  var o = i.painter;
  return r < 0 || r > o.getWidth() || n < 0 || n > o.getHeight();
}
const Handler$1 = Handler;
var DEFAULT_MIN_MERGE = 32, DEFAULT_MIN_GALLOPING = 7;
function minRunLength(i) {
  for (var r = 0; i >= DEFAULT_MIN_MERGE; )
    r |= i & 1, i >>= 1;
  return i + r;
}
function makeAscendingRun(i, r, n, o) {
  var a = r + 1;
  if (a === n)
    return 1;
  if (o(i[a++], i[r]) < 0) {
    for (; a < n && o(i[a], i[a - 1]) < 0; )
      a++;
    reverseRun(i, r, a);
  } else
    for (; a < n && o(i[a], i[a - 1]) >= 0; )
      a++;
  return a - r;
}
function reverseRun(i, r, n) {
  for (n--; r < n; ) {
    var o = i[r];
    i[r++] = i[n], i[n--] = o;
  }
}
function binaryInsertionSort(i, r, n, o, a) {
  for (o === r && o++; o < n; o++) {
    for (var u = i[o], c = r, d = o, f; c < d; )
      f = c + d >>> 1, a(u, i[f]) < 0 ? d = f : c = f + 1;
    var p = o - c;
    switch (p) {
      case 3:
        i[c + 3] = i[c + 2];
      case 2:
        i[c + 2] = i[c + 1];
      case 1:
        i[c + 1] = i[c];
        break;
      default:
        for (; p > 0; )
          i[c + p] = i[c + p - 1], p--;
    }
    i[c] = u;
  }
}
function gallopLeft(i, r, n, o, a, u) {
  var c = 0, d = 0, f = 1;
  if (u(i, r[n + a]) > 0) {
    for (d = o - a; f < d && u(i, r[n + a + f]) > 0; )
      c = f, f = (f << 1) + 1, f <= 0 && (f = d);
    f > d && (f = d), c += a, f += a;
  } else {
    for (d = a + 1; f < d && u(i, r[n + a - f]) <= 0; )
      c = f, f = (f << 1) + 1, f <= 0 && (f = d);
    f > d && (f = d);
    var p = c;
    c = a - f, f = a - p;
  }
  for (c++; c < f; ) {
    var _ = c + (f - c >>> 1);
    u(i, r[n + _]) > 0 ? c = _ + 1 : f = _;
  }
  return f;
}
function gallopRight(i, r, n, o, a, u) {
  var c = 0, d = 0, f = 1;
  if (u(i, r[n + a]) < 0) {
    for (d = a + 1; f < d && u(i, r[n + a - f]) < 0; )
      c = f, f = (f << 1) + 1, f <= 0 && (f = d);
    f > d && (f = d);
    var p = c;
    c = a - f, f = a - p;
  } else {
    for (d = o - a; f < d && u(i, r[n + a + f]) >= 0; )
      c = f, f = (f << 1) + 1, f <= 0 && (f = d);
    f > d && (f = d), c += a, f += a;
  }
  for (c++; c < f; ) {
    var _ = c + (f - c >>> 1);
    u(i, r[n + _]) < 0 ? f = _ : c = _ + 1;
  }
  return f;
}
function TimSort(i, r) {
  var n = DEFAULT_MIN_GALLOPING, o, a, u = 0, c = [];
  o = [], a = [];
  function d(y, b) {
    o[u] = y, a[u] = b, u += 1;
  }
  function f() {
    for (; u > 1; ) {
      var y = u - 2;
      if (y >= 1 && a[y - 1] <= a[y] + a[y + 1] || y >= 2 && a[y - 2] <= a[y] + a[y - 1])
        a[y - 1] < a[y + 1] && y--;
      else if (a[y] > a[y + 1])
        break;
      _(y);
    }
  }
  function p() {
    for (; u > 1; ) {
      var y = u - 2;
      y > 0 && a[y - 1] < a[y + 1] && y--, _(y);
    }
  }
  function _(y) {
    var b = o[y], A = a[y], w = o[y + 1], S = a[y + 1];
    a[y] = A + S, y === u - 3 && (o[y + 1] = o[y + 2], a[y + 1] = a[y + 2]), u--;
    var T = gallopRight(i[w], i, b, A, 0, r);
    b += T, A -= T, A !== 0 && (S = gallopLeft(i[b + A - 1], i, w, S, S - 1, r), S !== 0 && (A <= S ? v(b, A, w, S) : g(b, A, w, S)));
  }
  function v(y, b, A, w) {
    var S = 0;
    for (S = 0; S < b; S++)
      c[S] = i[y + S];
    var T = 0, x = A, L = y;
    if (i[L++] = i[x++], --w === 0) {
      for (S = 0; S < b; S++)
        i[L + S] = c[T + S];
      return;
    }
    if (b === 1) {
      for (S = 0; S < w; S++)
        i[L + S] = i[x + S];
      i[L + w] = c[T];
      return;
    }
    for (var O = n, M, k, ie; ; ) {
      M = 0, k = 0, ie = !1;
      do
        if (r(i[x], c[T]) < 0) {
          if (i[L++] = i[x++], k++, M = 0, --w === 0) {
            ie = !0;
            break;
          }
        } else if (i[L++] = c[T++], M++, k = 0, --b === 1) {
          ie = !0;
          break;
        }
      while ((M | k) < O);
      if (ie)
        break;
      do {
        if (M = gallopRight(i[x], c, T, b, 0, r), M !== 0) {
          for (S = 0; S < M; S++)
            i[L + S] = c[T + S];
          if (L += M, T += M, b -= M, b <= 1) {
            ie = !0;
            break;
          }
        }
        if (i[L++] = i[x++], --w === 0) {
          ie = !0;
          break;
        }
        if (k = gallopLeft(c[T], i, x, w, 0, r), k !== 0) {
          for (S = 0; S < k; S++)
            i[L + S] = i[x + S];
          if (L += k, x += k, w -= k, w === 0) {
            ie = !0;
            break;
          }
        }
        if (i[L++] = c[T++], --b === 1) {
          ie = !0;
          break;
        }
        O--;
      } while (M >= DEFAULT_MIN_GALLOPING || k >= DEFAULT_MIN_GALLOPING);
      if (ie)
        break;
      O < 0 && (O = 0), O += 2;
    }
    if (n = O, n < 1 && (n = 1), b === 1) {
      for (S = 0; S < w; S++)
        i[L + S] = i[x + S];
      i[L + w] = c[T];
    } else {
      if (b === 0)
        throw new Error();
      for (S = 0; S < b; S++)
        i[L + S] = c[T + S];
    }
  }
  function g(y, b, A, w) {
    var S = 0;
    for (S = 0; S < w; S++)
      c[S] = i[A + S];
    var T = y + b - 1, x = w - 1, L = A + w - 1, O = 0, M = 0;
    if (i[L--] = i[T--], --b === 0) {
      for (O = L - (w - 1), S = 0; S < w; S++)
        i[O + S] = c[S];
      return;
    }
    if (w === 1) {
      for (L -= b, T -= b, M = L + 1, O = T + 1, S = b - 1; S >= 0; S--)
        i[M + S] = i[O + S];
      i[L] = c[x];
      return;
    }
    for (var k = n; ; ) {
      var ie = 0, $ = 0, Y = !1;
      do
        if (r(c[x], i[T]) < 0) {
          if (i[L--] = i[T--], ie++, $ = 0, --b === 0) {
            Y = !0;
            break;
          }
        } else if (i[L--] = c[x--], $++, ie = 0, --w === 1) {
          Y = !0;
          break;
        }
      while ((ie | $) < k);
      if (Y)
        break;
      do {
        if (ie = b - gallopRight(c[x], i, y, b, b - 1, r), ie !== 0) {
          for (L -= ie, T -= ie, b -= ie, M = L + 1, O = T + 1, S = ie - 1; S >= 0; S--)
            i[M + S] = i[O + S];
          if (b === 0) {
            Y = !0;
            break;
          }
        }
        if (i[L--] = c[x--], --w === 1) {
          Y = !0;
          break;
        }
        if ($ = w - gallopLeft(i[T], c, 0, w, w - 1, r), $ !== 0) {
          for (L -= $, x -= $, w -= $, M = L + 1, O = x + 1, S = 0; S < $; S++)
            i[M + S] = c[O + S];
          if (w <= 1) {
            Y = !0;
            break;
          }
        }
        if (i[L--] = i[T--], --b === 0) {
          Y = !0;
          break;
        }
        k--;
      } while (ie >= DEFAULT_MIN_GALLOPING || $ >= DEFAULT_MIN_GALLOPING);
      if (Y)
        break;
      k < 0 && (k = 0), k += 2;
    }
    if (n = k, n < 1 && (n = 1), w === 1) {
      for (L -= b, T -= b, M = L + 1, O = T + 1, S = b - 1; S >= 0; S--)
        i[M + S] = i[O + S];
      i[L] = c[x];
    } else {
      if (w === 0)
        throw new Error();
      for (O = L - (w - 1), S = 0; S < w; S++)
        i[O + S] = c[S];
    }
  }
  return {
    mergeRuns: f,
    forceMergeRuns: p,
    pushRun: d
  };
}
function sort(i, r, n, o) {
  n || (n = 0), o || (o = i.length);
  var a = o - n;
  if (!(a < 2)) {
    var u = 0;
    if (a < DEFAULT_MIN_MERGE) {
      u = makeAscendingRun(i, n, o, r), binaryInsertionSort(i, n, o, n + u, r);
      return;
    }
    var c = TimSort(i, r), d = minRunLength(a);
    do {
      if (u = makeAscendingRun(i, n, o, r), u < d) {
        var f = a;
        f > d && (f = d), binaryInsertionSort(i, n, n + f, n + u, r), u = f;
      }
      c.pushRun(n, u), c.mergeRuns(), a -= u, n += u;
    } while (a !== 0);
    c.forceMergeRuns();
  }
}
var REDRAW_BIT = 1, STYLE_CHANGED_BIT = 2, SHAPE_CHANGED_BIT = 4, invalidZErrorLogged = !1;
function logInvalidZError() {
  invalidZErrorLogged || (invalidZErrorLogged = !0, console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"));
}
function shapeCompareFunc(i, r) {
  return i.zlevel === r.zlevel ? i.z === r.z ? i.z2 - r.z2 : i.z - r.z : i.zlevel - r.zlevel;
}
var Storage = function() {
  function i() {
    this._roots = [], this._displayList = [], this._displayListLen = 0, this.displayableSortFunc = shapeCompareFunc;
  }
  return i.prototype.traverse = function(r, n) {
    for (var o = 0; o < this._roots.length; o++)
      this._roots[o].traverse(r, n);
  }, i.prototype.getDisplayList = function(r, n) {
    n = n || !1;
    var o = this._displayList;
    return (r || !o.length) && this.updateDisplayList(n), o;
  }, i.prototype.updateDisplayList = function(r) {
    this._displayListLen = 0;
    for (var n = this._roots, o = this._displayList, a = 0, u = n.length; a < u; a++)
      this._updateAndAddDisplayable(n[a], null, r);
    o.length = this._displayListLen, sort(o, shapeCompareFunc);
  }, i.prototype._updateAndAddDisplayable = function(r, n, o) {
    if (!(r.ignore && !o)) {
      r.beforeUpdate(), r.update(), r.afterUpdate();
      var a = r.getClipPath();
      if (r.ignoreClip)
        n = null;
      else if (a) {
        n ? n = n.slice() : n = [];
        for (var u = a, c = r; u; )
          u.parent = c, u.updateTransform(), n.push(u), c = u, u = u.getClipPath();
      }
      if (r.childrenRef) {
        for (var d = r.childrenRef(), f = 0; f < d.length; f++) {
          var p = d[f];
          r.__dirty && (p.__dirty |= REDRAW_BIT), this._updateAndAddDisplayable(p, n, o);
        }
        r.__dirty = 0;
      } else {
        var _ = r;
        n && n.length ? _.__clipPaths = n : _.__clipPaths && _.__clipPaths.length > 0 && (_.__clipPaths = []), isNaN(_.z) && (logInvalidZError(), _.z = 0), isNaN(_.z2) && (logInvalidZError(), _.z2 = 0), isNaN(_.zlevel) && (logInvalidZError(), _.zlevel = 0), this._displayList[this._displayListLen++] = _;
      }
      var v = r.getDecalElement && r.getDecalElement();
      v && this._updateAndAddDisplayable(v, n, o);
      var g = r.getTextGuideLine();
      g && this._updateAndAddDisplayable(g, n, o);
      var y = r.getTextContent();
      y && this._updateAndAddDisplayable(y, n, o);
    }
  }, i.prototype.addRoot = function(r) {
    r.__zr && r.__zr.storage === this || this._roots.push(r);
  }, i.prototype.delRoot = function(r) {
    if (r instanceof Array) {
      for (var n = 0, o = r.length; n < o; n++)
        this.delRoot(r[n]);
      return;
    }
    var a = indexOf(this._roots, r);
    a >= 0 && this._roots.splice(a, 1);
  }, i.prototype.delAllRoots = function() {
    this._roots = [], this._displayList = [], this._displayListLen = 0;
  }, i.prototype.getRoots = function() {
    return this._roots;
  }, i.prototype.dispose = function() {
    this._displayList = null, this._roots = null;
  }, i;
}();
const Storage$1 = Storage;
var requestAnimationFrame$2;
requestAnimationFrame$2 = env$1.hasGlobalWindow && (window.requestAnimationFrame && window.requestAnimationFrame.bind(window) || window.msRequestAnimationFrame && window.msRequestAnimationFrame.bind(window) || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame) || function(i) {
  return setTimeout(i, 16);
};
const requestAnimationFrame$3 = requestAnimationFrame$2;
var easingFuncs = {
  linear: function(i) {
    return i;
  },
  quadraticIn: function(i) {
    return i * i;
  },
  quadraticOut: function(i) {
    return i * (2 - i);
  },
  quadraticInOut: function(i) {
    return (i *= 2) < 1 ? 0.5 * i * i : -0.5 * (--i * (i - 2) - 1);
  },
  cubicIn: function(i) {
    return i * i * i;
  },
  cubicOut: function(i) {
    return --i * i * i + 1;
  },
  cubicInOut: function(i) {
    return (i *= 2) < 1 ? 0.5 * i * i * i : 0.5 * ((i -= 2) * i * i + 2);
  },
  quarticIn: function(i) {
    return i * i * i * i;
  },
  quarticOut: function(i) {
    return 1 - --i * i * i * i;
  },
  quarticInOut: function(i) {
    return (i *= 2) < 1 ? 0.5 * i * i * i * i : -0.5 * ((i -= 2) * i * i * i - 2);
  },
  quinticIn: function(i) {
    return i * i * i * i * i;
  },
  quinticOut: function(i) {
    return --i * i * i * i * i + 1;
  },
  quinticInOut: function(i) {
    return (i *= 2) < 1 ? 0.5 * i * i * i * i * i : 0.5 * ((i -= 2) * i * i * i * i + 2);
  },
  sinusoidalIn: function(i) {
    return 1 - Math.cos(i * Math.PI / 2);
  },
  sinusoidalOut: function(i) {
    return Math.sin(i * Math.PI / 2);
  },
  sinusoidalInOut: function(i) {
    return 0.5 * (1 - Math.cos(Math.PI * i));
  },
  exponentialIn: function(i) {
    return i === 0 ? 0 : Math.pow(1024, i - 1);
  },
  exponentialOut: function(i) {
    return i === 1 ? 1 : 1 - Math.pow(2, -10 * i);
  },
  exponentialInOut: function(i) {
    return i === 0 ? 0 : i === 1 ? 1 : (i *= 2) < 1 ? 0.5 * Math.pow(1024, i - 1) : 0.5 * (-Math.pow(2, -10 * (i - 1)) + 2);
  },
  circularIn: function(i) {
    return 1 - Math.sqrt(1 - i * i);
  },
  circularOut: function(i) {
    return Math.sqrt(1 - --i * i);
  },
  circularInOut: function(i) {
    return (i *= 2) < 1 ? -0.5 * (Math.sqrt(1 - i * i) - 1) : 0.5 * (Math.sqrt(1 - (i -= 2) * i) + 1);
  },
  elasticIn: function(i) {
    var r, n = 0.1, o = 0.4;
    return i === 0 ? 0 : i === 1 ? 1 : (!n || n < 1 ? (n = 1, r = o / 4) : r = o * Math.asin(1 / n) / (2 * Math.PI), -(n * Math.pow(2, 10 * (i -= 1)) * Math.sin((i - r) * (2 * Math.PI) / o)));
  },
  elasticOut: function(i) {
    var r, n = 0.1, o = 0.4;
    return i === 0 ? 0 : i === 1 ? 1 : (!n || n < 1 ? (n = 1, r = o / 4) : r = o * Math.asin(1 / n) / (2 * Math.PI), n * Math.pow(2, -10 * i) * Math.sin((i - r) * (2 * Math.PI) / o) + 1);
  },
  elasticInOut: function(i) {
    var r, n = 0.1, o = 0.4;
    return i === 0 ? 0 : i === 1 ? 1 : (!n || n < 1 ? (n = 1, r = o / 4) : r = o * Math.asin(1 / n) / (2 * Math.PI), (i *= 2) < 1 ? -0.5 * (n * Math.pow(2, 10 * (i -= 1)) * Math.sin((i - r) * (2 * Math.PI) / o)) : n * Math.pow(2, -10 * (i -= 1)) * Math.sin((i - r) * (2 * Math.PI) / o) * 0.5 + 1);
  },
  backIn: function(i) {
    var r = 1.70158;
    return i * i * ((r + 1) * i - r);
  },
  backOut: function(i) {
    var r = 1.70158;
    return --i * i * ((r + 1) * i + r) + 1;
  },
  backInOut: function(i) {
    var r = 2.5949095;
    return (i *= 2) < 1 ? 0.5 * (i * i * ((r + 1) * i - r)) : 0.5 * ((i -= 2) * i * ((r + 1) * i + r) + 2);
  },
  bounceIn: function(i) {
    return 1 - easingFuncs.bounceOut(1 - i);
  },
  bounceOut: function(i) {
    return i < 1 / 2.75 ? 7.5625 * i * i : i < 2 / 2.75 ? 7.5625 * (i -= 1.5 / 2.75) * i + 0.75 : i < 2.5 / 2.75 ? 7.5625 * (i -= 2.25 / 2.75) * i + 0.9375 : 7.5625 * (i -= 2.625 / 2.75) * i + 0.984375;
  },
  bounceInOut: function(i) {
    return i < 0.5 ? easingFuncs.bounceIn(i * 2) * 0.5 : easingFuncs.bounceOut(i * 2 - 1) * 0.5 + 0.5;
  }
};
const easingFuncs$1 = easingFuncs;
var mathPow = Math.pow, mathSqrt$3 = Math.sqrt, EPSILON$3 = 1e-8, EPSILON_NUMERIC = 1e-4, THREE_SQRT = mathSqrt$3(3), ONE_THIRD = 1 / 3, _v0 = create$1(), _v1 = create$1(), _v2 = create$1();
function isAroundZero$1(i) {
  return i > -EPSILON$3 && i < EPSILON$3;
}
function isNotAroundZero$1(i) {
  return i > EPSILON$3 || i < -EPSILON$3;
}
function cubicAt(i, r, n, o, a) {
  var u = 1 - a;
  return u * u * (u * i + 3 * a * r) + a * a * (a * o + 3 * u * n);
}
function cubicDerivativeAt(i, r, n, o, a) {
  var u = 1 - a;
  return 3 * (((r - i) * u + 2 * (n - r) * a) * u + (o - n) * a * a);
}
function cubicRootAt(i, r, n, o, a, u) {
  var c = o + 3 * (r - n) - i, d = 3 * (n - r * 2 + i), f = 3 * (r - i), p = i - a, _ = d * d - 3 * c * f, v = d * f - 9 * c * p, g = f * f - 3 * d * p, y = 0;
  if (isAroundZero$1(_) && isAroundZero$1(v))
    if (isAroundZero$1(d))
      u[0] = 0;
    else {
      var b = -f / d;
      b >= 0 && b <= 1 && (u[y++] = b);
    }
  else {
    var A = v * v - 4 * _ * g;
    if (isAroundZero$1(A)) {
      var w = v / _, b = -d / c + w, S = -w / 2;
      b >= 0 && b <= 1 && (u[y++] = b), S >= 0 && S <= 1 && (u[y++] = S);
    } else if (A > 0) {
      var T = mathSqrt$3(A), x = _ * d + 1.5 * c * (-v + T), L = _ * d + 1.5 * c * (-v - T);
      x < 0 ? x = -mathPow(-x, ONE_THIRD) : x = mathPow(x, ONE_THIRD), L < 0 ? L = -mathPow(-L, ONE_THIRD) : L = mathPow(L, ONE_THIRD);
      var b = (-d - (x + L)) / (3 * c);
      b >= 0 && b <= 1 && (u[y++] = b);
    } else {
      var O = (2 * _ * d - 3 * c * v) / (2 * mathSqrt$3(_ * _ * _)), M = Math.acos(O) / 3, k = mathSqrt$3(_), ie = Math.cos(M), b = (-d - 2 * k * ie) / (3 * c), S = (-d + k * (ie + THREE_SQRT * Math.sin(M))) / (3 * c), $ = (-d + k * (ie - THREE_SQRT * Math.sin(M))) / (3 * c);
      b >= 0 && b <= 1 && (u[y++] = b), S >= 0 && S <= 1 && (u[y++] = S), $ >= 0 && $ <= 1 && (u[y++] = $);
    }
  }
  return y;
}
function cubicExtrema(i, r, n, o, a) {
  var u = 6 * n - 12 * r + 6 * i, c = 9 * r + 3 * o - 3 * i - 9 * n, d = 3 * r - 3 * i, f = 0;
  if (isAroundZero$1(c)) {
    if (isNotAroundZero$1(u)) {
      var p = -d / u;
      p >= 0 && p <= 1 && (a[f++] = p);
    }
  } else {
    var _ = u * u - 4 * c * d;
    if (isAroundZero$1(_))
      a[0] = -u / (2 * c);
    else if (_ > 0) {
      var v = mathSqrt$3(_), p = (-u + v) / (2 * c), g = (-u - v) / (2 * c);
      p >= 0 && p <= 1 && (a[f++] = p), g >= 0 && g <= 1 && (a[f++] = g);
    }
  }
  return f;
}
function cubicSubdivide(i, r, n, o, a, u) {
  var c = (r - i) * a + i, d = (n - r) * a + r, f = (o - n) * a + n, p = (d - c) * a + c, _ = (f - d) * a + d, v = (_ - p) * a + p;
  u[0] = i, u[1] = c, u[2] = p, u[3] = v, u[4] = v, u[5] = _, u[6] = f, u[7] = o;
}
function cubicProjectPoint(i, r, n, o, a, u, c, d, f, p, _) {
  var v, g = 5e-3, y = 1 / 0, b, A, w, S;
  _v0[0] = f, _v0[1] = p;
  for (var T = 0; T < 1; T += 0.05)
    _v1[0] = cubicAt(i, n, a, c, T), _v1[1] = cubicAt(r, o, u, d, T), w = distSquare(_v0, _v1), w < y && (v = T, y = w);
  y = 1 / 0;
  for (var x = 0; x < 32 && !(g < EPSILON_NUMERIC); x++)
    b = v - g, A = v + g, _v1[0] = cubicAt(i, n, a, c, b), _v1[1] = cubicAt(r, o, u, d, b), w = distSquare(_v1, _v0), b >= 0 && w < y ? (v = b, y = w) : (_v2[0] = cubicAt(i, n, a, c, A), _v2[1] = cubicAt(r, o, u, d, A), S = distSquare(_v2, _v0), A <= 1 && S < y ? (v = A, y = S) : g *= 0.5);
  return _ && (_[0] = cubicAt(i, n, a, c, v), _[1] = cubicAt(r, o, u, d, v)), mathSqrt$3(y);
}
function cubicLength(i, r, n, o, a, u, c, d, f) {
  for (var p = i, _ = r, v = 0, g = 1 / f, y = 1; y <= f; y++) {
    var b = y * g, A = cubicAt(i, n, a, c, b), w = cubicAt(r, o, u, d, b), S = A - p, T = w - _;
    v += Math.sqrt(S * S + T * T), p = A, _ = w;
  }
  return v;
}
function quadraticAt(i, r, n, o) {
  var a = 1 - o;
  return a * (a * i + 2 * o * r) + o * o * n;
}
function quadraticDerivativeAt(i, r, n, o) {
  return 2 * ((1 - o) * (r - i) + o * (n - r));
}
function quadraticRootAt(i, r, n, o, a) {
  var u = i - 2 * r + n, c = 2 * (r - i), d = i - o, f = 0;
  if (isAroundZero$1(u)) {
    if (isNotAroundZero$1(c)) {
      var p = -d / c;
      p >= 0 && p <= 1 && (a[f++] = p);
    }
  } else {
    var _ = c * c - 4 * u * d;
    if (isAroundZero$1(_)) {
      var p = -c / (2 * u);
      p >= 0 && p <= 1 && (a[f++] = p);
    } else if (_ > 0) {
      var v = mathSqrt$3(_), p = (-c + v) / (2 * u), g = (-c - v) / (2 * u);
      p >= 0 && p <= 1 && (a[f++] = p), g >= 0 && g <= 1 && (a[f++] = g);
    }
  }
  return f;
}
function quadraticExtremum(i, r, n) {
  var o = i + n - 2 * r;
  return o === 0 ? 0.5 : (i - r) / o;
}
function quadraticSubdivide(i, r, n, o, a) {
  var u = (r - i) * o + i, c = (n - r) * o + r, d = (c - u) * o + u;
  a[0] = i, a[1] = u, a[2] = d, a[3] = d, a[4] = c, a[5] = n;
}
function quadraticProjectPoint(i, r, n, o, a, u, c, d, f) {
  var p, _ = 5e-3, v = 1 / 0;
  _v0[0] = c, _v0[1] = d;
  for (var g = 0; g < 1; g += 0.05) {
    _v1[0] = quadraticAt(i, n, a, g), _v1[1] = quadraticAt(r, o, u, g);
    var y = distSquare(_v0, _v1);
    y < v && (p = g, v = y);
  }
  v = 1 / 0;
  for (var b = 0; b < 32 && !(_ < EPSILON_NUMERIC); b++) {
    var A = p - _, w = p + _;
    _v1[0] = quadraticAt(i, n, a, A), _v1[1] = quadraticAt(r, o, u, A);
    var y = distSquare(_v1, _v0);
    if (A >= 0 && y < v)
      p = A, v = y;
    else {
      _v2[0] = quadraticAt(i, n, a, w), _v2[1] = quadraticAt(r, o, u, w);
      var S = distSquare(_v2, _v0);
      w <= 1 && S < v ? (p = w, v = S) : _ *= 0.5;
    }
  }
  return f && (f[0] = quadraticAt(i, n, a, p), f[1] = quadraticAt(r, o, u, p)), mathSqrt$3(v);
}
function quadraticLength(i, r, n, o, a, u, c) {
  for (var d = i, f = r, p = 0, _ = 1 / c, v = 1; v <= c; v++) {
    var g = v * _, y = quadraticAt(i, n, a, g), b = quadraticAt(r, o, u, g), A = y - d, w = b - f;
    p += Math.sqrt(A * A + w * w), d = y, f = b;
  }
  return p;
}
var regexp$1 = /cubic-bezier\(([0-9,\.e ]+)\)/;
function createCubicEasingFunc(i) {
  var r = i && regexp$1.exec(i);
  if (r) {
    var n = r[1].split(","), o = +trim(n[0]), a = +trim(n[1]), u = +trim(n[2]), c = +trim(n[3]);
    if (isNaN(o + a + u + c))
      return;
    var d = [];
    return function(f) {
      return f <= 0 ? 0 : f >= 1 ? 1 : cubicRootAt(0, o, u, 1, f, d) && cubicAt(0, a, c, 1, d[0]);
    };
  }
}
var Clip = function() {
  function i(r) {
    this._inited = !1, this._startTime = 0, this._pausedTime = 0, this._paused = !1, this._life = r.life || 1e3, this._delay = r.delay || 0, this.loop = r.loop || !1, this.onframe = r.onframe || noop$1, this.ondestroy = r.ondestroy || noop$1, this.onrestart = r.onrestart || noop$1, r.easing && this.setEasing(r.easing);
  }
  return i.prototype.step = function(r, n) {
    if (this._inited || (this._startTime = r + this._delay, this._inited = !0), this._paused) {
      this._pausedTime += n;
      return;
    }
    var o = this._life, a = r - this._startTime - this._pausedTime, u = a / o;
    u < 0 && (u = 0), u = Math.min(u, 1);
    var c = this.easingFunc, d = c ? c(u) : u;
    if (this.onframe(d), u === 1)
      if (this.loop) {
        var f = a % o;
        this._startTime = r - f, this._pausedTime = 0, this.onrestart();
      } else
        return !0;
    return !1;
  }, i.prototype.pause = function() {
    this._paused = !0;
  }, i.prototype.resume = function() {
    this._paused = !1;
  }, i.prototype.setEasing = function(r) {
    this.easing = r, this.easingFunc = isFunction$1(r) ? r : easingFuncs$1[r] || createCubicEasingFunc(r);
  }, i;
}();
const Clip$1 = Clip;
var Entry = function() {
  function i(r) {
    this.value = r;
  }
  return i;
}(), LinkedList = function() {
  function i() {
    this._len = 0;
  }
  return i.prototype.insert = function(r) {
    var n = new Entry(r);
    return this.insertEntry(n), n;
  }, i.prototype.insertEntry = function(r) {
    this.head ? (this.tail.next = r, r.prev = this.tail, r.next = null, this.tail = r) : this.head = this.tail = r, this._len++;
  }, i.prototype.remove = function(r) {
    var n = r.prev, o = r.next;
    n ? n.next = o : this.head = o, o ? o.prev = n : this.tail = n, r.next = r.prev = null, this._len--;
  }, i.prototype.len = function() {
    return this._len;
  }, i.prototype.clear = function() {
    this.head = this.tail = null, this._len = 0;
  }, i;
}(), LRU = function() {
  function i(r) {
    this._list = new LinkedList(), this._maxSize = 10, this._map = {}, this._maxSize = r;
  }
  return i.prototype.put = function(r, n) {
    var o = this._list, a = this._map, u = null;
    if (a[r] == null) {
      var c = o.len(), d = this._lastRemovedEntry;
      if (c >= this._maxSize && c > 0) {
        var f = o.head;
        o.remove(f), delete a[f.key], u = f.value, this._lastRemovedEntry = f;
      }
      d ? d.value = n : d = new Entry(n), d.key = r, o.insertEntry(d), a[r] = d;
    }
    return u;
  }, i.prototype.get = function(r) {
    var n = this._map[r], o = this._list;
    if (n != null)
      return n !== o.tail && (o.remove(n), o.insertEntry(n)), n.value;
  }, i.prototype.clear = function() {
    this._list.clear(), this._map = {};
  }, i.prototype.len = function() {
    return this._list.len();
  }, i;
}();
const LRU$1 = LRU;
var kCSSColorTable = {
  transparent: [0, 0, 0, 0],
  aliceblue: [240, 248, 255, 1],
  antiquewhite: [250, 235, 215, 1],
  aqua: [0, 255, 255, 1],
  aquamarine: [127, 255, 212, 1],
  azure: [240, 255, 255, 1],
  beige: [245, 245, 220, 1],
  bisque: [255, 228, 196, 1],
  black: [0, 0, 0, 1],
  blanchedalmond: [255, 235, 205, 1],
  blue: [0, 0, 255, 1],
  blueviolet: [138, 43, 226, 1],
  brown: [165, 42, 42, 1],
  burlywood: [222, 184, 135, 1],
  cadetblue: [95, 158, 160, 1],
  chartreuse: [127, 255, 0, 1],
  chocolate: [210, 105, 30, 1],
  coral: [255, 127, 80, 1],
  cornflowerblue: [100, 149, 237, 1],
  cornsilk: [255, 248, 220, 1],
  crimson: [220, 20, 60, 1],
  cyan: [0, 255, 255, 1],
  darkblue: [0, 0, 139, 1],
  darkcyan: [0, 139, 139, 1],
  darkgoldenrod: [184, 134, 11, 1],
  darkgray: [169, 169, 169, 1],
  darkgreen: [0, 100, 0, 1],
  darkgrey: [169, 169, 169, 1],
  darkkhaki: [189, 183, 107, 1],
  darkmagenta: [139, 0, 139, 1],
  darkolivegreen: [85, 107, 47, 1],
  darkorange: [255, 140, 0, 1],
  darkorchid: [153, 50, 204, 1],
  darkred: [139, 0, 0, 1],
  darksalmon: [233, 150, 122, 1],
  darkseagreen: [143, 188, 143, 1],
  darkslateblue: [72, 61, 139, 1],
  darkslategray: [47, 79, 79, 1],
  darkslategrey: [47, 79, 79, 1],
  darkturquoise: [0, 206, 209, 1],
  darkviolet: [148, 0, 211, 1],
  deeppink: [255, 20, 147, 1],
  deepskyblue: [0, 191, 255, 1],
  dimgray: [105, 105, 105, 1],
  dimgrey: [105, 105, 105, 1],
  dodgerblue: [30, 144, 255, 1],
  firebrick: [178, 34, 34, 1],
  floralwhite: [255, 250, 240, 1],
  forestgreen: [34, 139, 34, 1],
  fuchsia: [255, 0, 255, 1],
  gainsboro: [220, 220, 220, 1],
  ghostwhite: [248, 248, 255, 1],
  gold: [255, 215, 0, 1],
  goldenrod: [218, 165, 32, 1],
  gray: [128, 128, 128, 1],
  green: [0, 128, 0, 1],
  greenyellow: [173, 255, 47, 1],
  grey: [128, 128, 128, 1],
  honeydew: [240, 255, 240, 1],
  hotpink: [255, 105, 180, 1],
  indianred: [205, 92, 92, 1],
  indigo: [75, 0, 130, 1],
  ivory: [255, 255, 240, 1],
  khaki: [240, 230, 140, 1],
  lavender: [230, 230, 250, 1],
  lavenderblush: [255, 240, 245, 1],
  lawngreen: [124, 252, 0, 1],
  lemonchiffon: [255, 250, 205, 1],
  lightblue: [173, 216, 230, 1],
  lightcoral: [240, 128, 128, 1],
  lightcyan: [224, 255, 255, 1],
  lightgoldenrodyellow: [250, 250, 210, 1],
  lightgray: [211, 211, 211, 1],
  lightgreen: [144, 238, 144, 1],
  lightgrey: [211, 211, 211, 1],
  lightpink: [255, 182, 193, 1],
  lightsalmon: [255, 160, 122, 1],
  lightseagreen: [32, 178, 170, 1],
  lightskyblue: [135, 206, 250, 1],
  lightslategray: [119, 136, 153, 1],
  lightslategrey: [119, 136, 153, 1],
  lightsteelblue: [176, 196, 222, 1],
  lightyellow: [255, 255, 224, 1],
  lime: [0, 255, 0, 1],
  limegreen: [50, 205, 50, 1],
  linen: [250, 240, 230, 1],
  magenta: [255, 0, 255, 1],
  maroon: [128, 0, 0, 1],
  mediumaquamarine: [102, 205, 170, 1],
  mediumblue: [0, 0, 205, 1],
  mediumorchid: [186, 85, 211, 1],
  mediumpurple: [147, 112, 219, 1],
  mediumseagreen: [60, 179, 113, 1],
  mediumslateblue: [123, 104, 238, 1],
  mediumspringgreen: [0, 250, 154, 1],
  mediumturquoise: [72, 209, 204, 1],
  mediumvioletred: [199, 21, 133, 1],
  midnightblue: [25, 25, 112, 1],
  mintcream: [245, 255, 250, 1],
  mistyrose: [255, 228, 225, 1],
  moccasin: [255, 228, 181, 1],
  navajowhite: [255, 222, 173, 1],
  navy: [0, 0, 128, 1],
  oldlace: [253, 245, 230, 1],
  olive: [128, 128, 0, 1],
  olivedrab: [107, 142, 35, 1],
  orange: [255, 165, 0, 1],
  orangered: [255, 69, 0, 1],
  orchid: [218, 112, 214, 1],
  palegoldenrod: [238, 232, 170, 1],
  palegreen: [152, 251, 152, 1],
  paleturquoise: [175, 238, 238, 1],
  palevioletred: [219, 112, 147, 1],
  papayawhip: [255, 239, 213, 1],
  peachpuff: [255, 218, 185, 1],
  peru: [205, 133, 63, 1],
  pink: [255, 192, 203, 1],
  plum: [221, 160, 221, 1],
  powderblue: [176, 224, 230, 1],
  purple: [128, 0, 128, 1],
  red: [255, 0, 0, 1],
  rosybrown: [188, 143, 143, 1],
  royalblue: [65, 105, 225, 1],
  saddlebrown: [139, 69, 19, 1],
  salmon: [250, 128, 114, 1],
  sandybrown: [244, 164, 96, 1],
  seagreen: [46, 139, 87, 1],
  seashell: [255, 245, 238, 1],
  sienna: [160, 82, 45, 1],
  silver: [192, 192, 192, 1],
  skyblue: [135, 206, 235, 1],
  slateblue: [106, 90, 205, 1],
  slategray: [112, 128, 144, 1],
  slategrey: [112, 128, 144, 1],
  snow: [255, 250, 250, 1],
  springgreen: [0, 255, 127, 1],
  steelblue: [70, 130, 180, 1],
  tan: [210, 180, 140, 1],
  teal: [0, 128, 128, 1],
  thistle: [216, 191, 216, 1],
  tomato: [255, 99, 71, 1],
  turquoise: [64, 224, 208, 1],
  violet: [238, 130, 238, 1],
  wheat: [245, 222, 179, 1],
  white: [255, 255, 255, 1],
  whitesmoke: [245, 245, 245, 1],
  yellow: [255, 255, 0, 1],
  yellowgreen: [154, 205, 50, 1]
};
function clampCssByte(i) {
  return i = Math.round(i), i < 0 ? 0 : i > 255 ? 255 : i;
}
function clampCssFloat(i) {
  return i < 0 ? 0 : i > 1 ? 1 : i;
}
function parseCssInt(i) {
  var r = i;
  return r.length && r.charAt(r.length - 1) === "%" ? clampCssByte(parseFloat(r) / 100 * 255) : clampCssByte(parseInt(r, 10));
}
function parseCssFloat(i) {
  var r = i;
  return r.length && r.charAt(r.length - 1) === "%" ? clampCssFloat(parseFloat(r) / 100) : clampCssFloat(parseFloat(r));
}
function cssHueToRgb(i, r, n) {
  return n < 0 ? n += 1 : n > 1 && (n -= 1), n * 6 < 1 ? i + (r - i) * n * 6 : n * 2 < 1 ? r : n * 3 < 2 ? i + (r - i) * (2 / 3 - n) * 6 : i;
}
function setRgba(i, r, n, o, a) {
  return i[0] = r, i[1] = n, i[2] = o, i[3] = a, i;
}
function copyRgba(i, r) {
  return i[0] = r[0], i[1] = r[1], i[2] = r[2], i[3] = r[3], i;
}
var colorCache = new LRU$1(20), lastRemovedArr = null;
function putToCache(i, r) {
  lastRemovedArr && copyRgba(lastRemovedArr, r), lastRemovedArr = colorCache.put(i, lastRemovedArr || r.slice());
}
function parse(i, r) {
  if (i) {
    r = r || [];
    var n = colorCache.get(i);
    if (n)
      return copyRgba(r, n);
    i = i + "";
    var o = i.replace(/ /g, "").toLowerCase();
    if (o in kCSSColorTable)
      return copyRgba(r, kCSSColorTable[o]), putToCache(i, r), r;
    var a = o.length;
    if (o.charAt(0) === "#") {
      if (a === 4 || a === 5) {
        var u = parseInt(o.slice(1, 4), 16);
        if (!(u >= 0 && u <= 4095)) {
          setRgba(r, 0, 0, 0, 1);
          return;
        }
        return setRgba(r, (u & 3840) >> 4 | (u & 3840) >> 8, u & 240 | (u & 240) >> 4, u & 15 | (u & 15) << 4, a === 5 ? parseInt(o.slice(4), 16) / 15 : 1), putToCache(i, r), r;
      } else if (a === 7 || a === 9) {
        var u = parseInt(o.slice(1, 7), 16);
        if (!(u >= 0 && u <= 16777215)) {
          setRgba(r, 0, 0, 0, 1);
          return;
        }
        return setRgba(r, (u & 16711680) >> 16, (u & 65280) >> 8, u & 255, a === 9 ? parseInt(o.slice(7), 16) / 255 : 1), putToCache(i, r), r;
      }
      return;
    }
    var c = o.indexOf("("), d = o.indexOf(")");
    if (c !== -1 && d + 1 === a) {
      var f = o.substr(0, c), p = o.substr(c + 1, d - (c + 1)).split(","), _ = 1;
      switch (f) {
        case "rgba":
          if (p.length !== 4)
            return p.length === 3 ? setRgba(r, +p[0], +p[1], +p[2], 1) : setRgba(r, 0, 0, 0, 1);
          _ = parseCssFloat(p.pop());
        case "rgb":
          if (p.length >= 3)
            return setRgba(r, parseCssInt(p[0]), parseCssInt(p[1]), parseCssInt(p[2]), p.length === 3 ? _ : parseCssFloat(p[3])), putToCache(i, r), r;
          setRgba(r, 0, 0, 0, 1);
          return;
        case "hsla":
          if (p.length !== 4) {
            setRgba(r, 0, 0, 0, 1);
            return;
          }
          return p[3] = parseCssFloat(p[3]), hsla2rgba(p, r), putToCache(i, r), r;
        case "hsl":
          if (p.length !== 3) {
            setRgba(r, 0, 0, 0, 1);
            return;
          }
          return hsla2rgba(p, r), putToCache(i, r), r;
        default:
          return;
      }
    }
    setRgba(r, 0, 0, 0, 1);
  }
}
function hsla2rgba(i, r) {
  var n = (parseFloat(i[0]) % 360 + 360) % 360 / 360, o = parseCssFloat(i[1]), a = parseCssFloat(i[2]), u = a <= 0.5 ? a * (o + 1) : a + o - a * o, c = a * 2 - u;
  return r = r || [], setRgba(r, clampCssByte(cssHueToRgb(c, u, n + 1 / 3) * 255), clampCssByte(cssHueToRgb(c, u, n) * 255), clampCssByte(cssHueToRgb(c, u, n - 1 / 3) * 255), 1), i.length === 4 && (r[3] = i[3]), r;
}
function lift(i, r) {
  var n = parse(i);
  if (n) {
    for (var o = 0; o < 3; o++)
      r < 0 ? n[o] = n[o] * (1 - r) | 0 : n[o] = (255 - n[o]) * r + n[o] | 0, n[o] > 255 ? n[o] = 255 : n[o] < 0 && (n[o] = 0);
    return stringify(n, n.length === 4 ? "rgba" : "rgb");
  }
}
function stringify(i, r) {
  if (!(!i || !i.length)) {
    var n = i[0] + "," + i[1] + "," + i[2];
    return (r === "rgba" || r === "hsva" || r === "hsla") && (n += "," + i[3]), r + "(" + n + ")";
  }
}
function lum(i, r) {
  var n = parse(i);
  return n ? (0.299 * n[0] + 0.587 * n[1] + 0.114 * n[2]) * n[3] / 255 + (1 - n[3]) * r : 0;
}
var liftedColorCache = new LRU$1(100);
function liftColor(i) {
  if (isString$2(i)) {
    var r = liftedColorCache.get(i);
    return r || (r = lift(i, -0.1), liftedColorCache.put(i, r)), r;
  } else if (isGradientObject(i)) {
    var n = extend({}, i);
    return n.colorStops = map$1(i.colorStops, function(o) {
      return {
        offset: o.offset,
        color: lift(o.color, -0.1)
      };
    }), n;
  }
  return i;
}
var mathRound$1 = Math.round;
function normalizeColor(i) {
  var r;
  if (!i || i === "transparent")
    i = "none";
  else if (typeof i == "string" && i.indexOf("rgba") > -1) {
    var n = parse(i);
    n && (i = "rgb(" + n[0] + "," + n[1] + "," + n[2] + ")", r = n[3]);
  }
  return {
    color: i,
    opacity: r ?? 1
  };
}
var EPSILON$2 = 1e-4;
function isAroundZero(i) {
  return i < EPSILON$2 && i > -EPSILON$2;
}
function round3(i) {
  return mathRound$1(i * 1e3) / 1e3;
}
function round4(i) {
  return mathRound$1(i * 1e4) / 1e4;
}
function getMatrixStr(i) {
  return "matrix(" + round3(i[0]) + "," + round3(i[1]) + "," + round3(i[2]) + "," + round3(i[3]) + "," + round4(i[4]) + "," + round4(i[5]) + ")";
}
var TEXT_ALIGN_TO_ANCHOR = {
  left: "start",
  right: "end",
  center: "middle",
  middle: "middle"
};
function adjustTextY$1(i, r, n) {
  return n === "top" ? i += r / 2 : n === "bottom" && (i -= r / 2), i;
}
function hasShadow(i) {
  return i && (i.shadowBlur || i.shadowOffsetX || i.shadowOffsetY);
}
function getShadowKey(i) {
  var r = i.style, n = i.getGlobalScale();
  return [
    r.shadowColor,
    (r.shadowBlur || 0).toFixed(2),
    (r.shadowOffsetX || 0).toFixed(2),
    (r.shadowOffsetY || 0).toFixed(2),
    n[0],
    n[1]
  ].join(",");
}
function isImagePattern(i) {
  return i && !!i.image;
}
function isSVGPattern(i) {
  return i && !!i.svgElement;
}
function isPattern(i) {
  return isImagePattern(i) || isSVGPattern(i);
}
function isLinearGradient(i) {
  return i.type === "linear";
}
function isRadialGradient(i) {
  return i.type === "radial";
}
function isGradient(i) {
  return i && (i.type === "linear" || i.type === "radial");
}
function getIdURL(i) {
  return "url(#" + i + ")";
}
function getPathPrecision(i) {
  var r = i.getGlobalScale(), n = Math.max(r[0], r[1]);
  return Math.max(Math.ceil(Math.log(n) / Math.log(10)), 1);
}
function getSRTTransformString(i) {
  var r = i.x || 0, n = i.y || 0, o = (i.rotation || 0) * RADIAN_TO_DEGREE, a = retrieve2(i.scaleX, 1), u = retrieve2(i.scaleY, 1), c = i.skewX || 0, d = i.skewY || 0, f = [];
  return (r || n) && f.push("translate(" + r + "px," + n + "px)"), o && f.push("rotate(" + o + ")"), (a !== 1 || u !== 1) && f.push("scale(" + a + "," + u + ")"), (c || d) && f.push("skew(" + mathRound$1(c * RADIAN_TO_DEGREE) + "deg, " + mathRound$1(d * RADIAN_TO_DEGREE) + "deg)"), f.join(" ");
}
var encodeBase64 = function() {
  return env$1.hasGlobalWindow && isFunction$1(window.btoa) ? function(i) {
    return window.btoa(unescape(encodeURIComponent(i)));
  } : typeof Buffer < "u" ? function(i) {
    return Buffer.from(i).toString("base64");
  } : function(i) {
    return process.env.NODE_ENV !== "production" && logError("Base64 isn't natively supported in the current environment."), null;
  };
}(), arraySlice = Array.prototype.slice;
function interpolateNumber(i, r, n) {
  return (r - i) * n + i;
}
function interpolate1DArray(i, r, n, o) {
  for (var a = r.length, u = 0; u < a; u++)
    i[u] = interpolateNumber(r[u], n[u], o);
  return i;
}
function interpolate2DArray(i, r, n, o) {
  for (var a = r.length, u = a && r[0].length, c = 0; c < a; c++) {
    i[c] || (i[c] = []);
    for (var d = 0; d < u; d++)
      i[c][d] = interpolateNumber(r[c][d], n[c][d], o);
  }
  return i;
}
function add1DArray(i, r, n, o) {
  for (var a = r.length, u = 0; u < a; u++)
    i[u] = r[u] + n[u] * o;
  return i;
}
function add2DArray(i, r, n, o) {
  for (var a = r.length, u = a && r[0].length, c = 0; c < a; c++) {
    i[c] || (i[c] = []);
    for (var d = 0; d < u; d++)
      i[c][d] = r[c][d] + n[c][d] * o;
  }
  return i;
}
function fillColorStops(i, r) {
  for (var n = i.length, o = r.length, a = n > o ? r : i, u = Math.min(n, o), c = a[u - 1] || { color: [0, 0, 0, 0], offset: 0 }, d = u; d < Math.max(n, o); d++)
    a.push({
      offset: c.offset,
      color: c.color.slice()
    });
}
function fillArray(i, r, n) {
  var o = i, a = r;
  if (!(!o.push || !a.push)) {
    var u = o.length, c = a.length;
    if (u !== c) {
      var d = u > c;
      if (d)
        o.length = c;
      else
        for (var f = u; f < c; f++)
          o.push(n === 1 ? a[f] : arraySlice.call(a[f]));
    }
    for (var p = o[0] && o[0].length, f = 0; f < o.length; f++)
      if (n === 1)
        isNaN(o[f]) && (o[f] = a[f]);
      else
        for (var _ = 0; _ < p; _++)
          isNaN(o[f][_]) && (o[f][_] = a[f][_]);
  }
}
function cloneValue(i) {
  if (isArrayLike(i)) {
    var r = i.length;
    if (isArrayLike(i[0])) {
      for (var n = [], o = 0; o < r; o++)
        n.push(arraySlice.call(i[o]));
      return n;
    }
    return arraySlice.call(i);
  }
  return i;
}
function rgba2String(i) {
  return i[0] = Math.floor(i[0]) || 0, i[1] = Math.floor(i[1]) || 0, i[2] = Math.floor(i[2]) || 0, i[3] = i[3] == null ? 1 : i[3], "rgba(" + i.join(",") + ")";
}
function guessArrayDim(i) {
  return isArrayLike(i && i[0]) ? 2 : 1;
}
var VALUE_TYPE_NUMBER = 0, VALUE_TYPE_1D_ARRAY = 1, VALUE_TYPE_2D_ARRAY = 2, VALUE_TYPE_COLOR = 3, VALUE_TYPE_LINEAR_GRADIENT = 4, VALUE_TYPE_RADIAL_GRADIENT = 5, VALUE_TYPE_UNKOWN = 6;
function isGradientValueType(i) {
  return i === VALUE_TYPE_LINEAR_GRADIENT || i === VALUE_TYPE_RADIAL_GRADIENT;
}
function isArrayValueType(i) {
  return i === VALUE_TYPE_1D_ARRAY || i === VALUE_TYPE_2D_ARRAY;
}
var tmpRgba = [0, 0, 0, 0], Track = function() {
  function i(r) {
    this.keyframes = [], this.discrete = !1, this._invalid = !1, this._needsSort = !1, this._lastFr = 0, this._lastFrP = 0, this.propName = r;
  }
  return i.prototype.isFinished = function() {
    return this._finished;
  }, i.prototype.setFinished = function() {
    this._finished = !0, this._additiveTrack && this._additiveTrack.setFinished();
  }, i.prototype.needsAnimate = function() {
    return this.keyframes.length >= 1;
  }, i.prototype.getAdditiveTrack = function() {
    return this._additiveTrack;
  }, i.prototype.addKeyframe = function(r, n, o) {
    this._needsSort = !0;
    var a = this.keyframes, u = a.length, c = !1, d = VALUE_TYPE_UNKOWN, f = n;
    if (isArrayLike(n)) {
      var p = guessArrayDim(n);
      d = p, (p === 1 && !isNumber$1(n[0]) || p === 2 && !isNumber$1(n[0][0])) && (c = !0);
    } else if (isNumber$1(n) && !eqNaN(n))
      d = VALUE_TYPE_NUMBER;
    else if (isString$2(n))
      if (!isNaN(+n))
        d = VALUE_TYPE_NUMBER;
      else {
        var _ = parse(n);
        _ && (f = _, d = VALUE_TYPE_COLOR);
      }
    else if (isGradientObject(n)) {
      var v = extend({}, f);
      v.colorStops = map$1(n.colorStops, function(y) {
        return {
          offset: y.offset,
          color: parse(y.color)
        };
      }), isLinearGradient(n) ? d = VALUE_TYPE_LINEAR_GRADIENT : isRadialGradient(n) && (d = VALUE_TYPE_RADIAL_GRADIENT), f = v;
    }
    u === 0 ? this.valType = d : (d !== this.valType || d === VALUE_TYPE_UNKOWN) && (c = !0), this.discrete = this.discrete || c;
    var g = {
      time: r,
      value: f,
      rawValue: n,
      percent: 0
    };
    return o && (g.easing = o, g.easingFunc = isFunction$1(o) ? o : easingFuncs$1[o] || createCubicEasingFunc(o)), a.push(g), g;
  }, i.prototype.prepare = function(r, n) {
    var o = this.keyframes;
    this._needsSort && o.sort(function(A, w) {
      return A.time - w.time;
    });
    for (var a = this.valType, u = o.length, c = o[u - 1], d = this.discrete, f = isArrayValueType(a), p = isGradientValueType(a), _ = 0; _ < u; _++) {
      var v = o[_], g = v.value, y = c.value;
      v.percent = v.time / r, d || (f && _ !== u - 1 ? fillArray(g, y, a) : p && fillColorStops(g.colorStops, y.colorStops));
    }
    if (!d && a !== VALUE_TYPE_RADIAL_GRADIENT && n && this.needsAnimate() && n.needsAnimate() && a === n.valType && !n._finished) {
      this._additiveTrack = n;
      for (var b = o[0].value, _ = 0; _ < u; _++)
        a === VALUE_TYPE_NUMBER ? o[_].additiveValue = o[_].value - b : a === VALUE_TYPE_COLOR ? o[_].additiveValue = add1DArray([], o[_].value, b, -1) : isArrayValueType(a) && (o[_].additiveValue = a === VALUE_TYPE_1D_ARRAY ? add1DArray([], o[_].value, b, -1) : add2DArray([], o[_].value, b, -1));
    }
  }, i.prototype.step = function(r, n) {
    if (!this._finished) {
      this._additiveTrack && this._additiveTrack._finished && (this._additiveTrack = null);
      var o = this._additiveTrack != null, a = o ? "additiveValue" : "value", u = this.valType, c = this.keyframes, d = c.length, f = this.propName, p = u === VALUE_TYPE_COLOR, _, v = this._lastFr, g = Math.min, y, b;
      if (d === 1)
        y = b = c[0];
      else {
        if (n < 0)
          _ = 0;
        else if (n < this._lastFrP) {
          var A = g(v + 1, d - 1);
          for (_ = A; _ >= 0 && !(c[_].percent <= n); _--)
            ;
          _ = g(_, d - 2);
        } else {
          for (_ = v; _ < d && !(c[_].percent > n); _++)
            ;
          _ = g(_ - 1, d - 2);
        }
        b = c[_ + 1], y = c[_];
      }
      if (y && b) {
        this._lastFr = _, this._lastFrP = n;
        var w = b.percent - y.percent, S = w === 0 ? 1 : g((n - y.percent) / w, 1);
        b.easingFunc && (S = b.easingFunc(S));
        var T = o ? this._additiveValue : p ? tmpRgba : r[f];
        if ((isArrayValueType(u) || p) && !T && (T = this._additiveValue = []), this.discrete)
          r[f] = S < 1 ? y.rawValue : b.rawValue;
        else if (isArrayValueType(u))
          u === VALUE_TYPE_1D_ARRAY ? interpolate1DArray(T, y[a], b[a], S) : interpolate2DArray(T, y[a], b[a], S);
        else if (isGradientValueType(u)) {
          var x = y[a], L = b[a], O = u === VALUE_TYPE_LINEAR_GRADIENT;
          r[f] = {
            type: O ? "linear" : "radial",
            x: interpolateNumber(x.x, L.x, S),
            y: interpolateNumber(x.y, L.y, S),
            colorStops: map$1(x.colorStops, function(k, ie) {
              var $ = L.colorStops[ie];
              return {
                offset: interpolateNumber(k.offset, $.offset, S),
                color: rgba2String(interpolate1DArray([], k.color, $.color, S))
              };
            }),
            global: L.global
          }, O ? (r[f].x2 = interpolateNumber(x.x2, L.x2, S), r[f].y2 = interpolateNumber(x.y2, L.y2, S)) : r[f].r = interpolateNumber(x.r, L.r, S);
        } else if (p)
          interpolate1DArray(T, y[a], b[a], S), o || (r[f] = rgba2String(T));
        else {
          var M = interpolateNumber(y[a], b[a], S);
          o ? this._additiveValue = M : r[f] = M;
        }
        o && this._addToTarget(r);
      }
    }
  }, i.prototype._addToTarget = function(r) {
    var n = this.valType, o = this.propName, a = this._additiveValue;
    n === VALUE_TYPE_NUMBER ? r[o] = r[o] + a : n === VALUE_TYPE_COLOR ? (parse(r[o], tmpRgba), add1DArray(tmpRgba, tmpRgba, a, 1), r[o] = rgba2String(tmpRgba)) : n === VALUE_TYPE_1D_ARRAY ? add1DArray(r[o], r[o], a, 1) : n === VALUE_TYPE_2D_ARRAY && add2DArray(r[o], r[o], a, 1);
  }, i;
}(), Animator = function() {
  function i(r, n, o, a) {
    if (this._tracks = {}, this._trackKeys = [], this._maxTime = 0, this._started = 0, this._clip = null, this._target = r, this._loop = n, n && a) {
      logError("Can' use additive animation on looped animation.");
      return;
    }
    this._additiveAnimators = a, this._allowDiscrete = o;
  }
  return i.prototype.getMaxTime = function() {
    return this._maxTime;
  }, i.prototype.getDelay = function() {
    return this._delay;
  }, i.prototype.getLoop = function() {
    return this._loop;
  }, i.prototype.getTarget = function() {
    return this._target;
  }, i.prototype.changeTarget = function(r) {
    this._target = r;
  }, i.prototype.when = function(r, n, o) {
    return this.whenWithKeys(r, n, keys(n), o);
  }, i.prototype.whenWithKeys = function(r, n, o, a) {
    for (var u = this._tracks, c = 0; c < o.length; c++) {
      var d = o[c], f = u[d];
      if (!f) {
        f = u[d] = new Track(d);
        var p = void 0, _ = this._getAdditiveTrack(d);
        if (_) {
          var v = _.keyframes, g = v[v.length - 1];
          p = g && g.value, _.valType === VALUE_TYPE_COLOR && p && (p = rgba2String(p));
        } else
          p = this._target[d];
        if (p == null)
          continue;
        r > 0 && f.addKeyframe(0, cloneValue(p), a), this._trackKeys.push(d);
      }
      f.addKeyframe(r, cloneValue(n[d]), a);
    }
    return this._maxTime = Math.max(this._maxTime, r), this;
  }, i.prototype.pause = function() {
    this._clip.pause(), this._paused = !0;
  }, i.prototype.resume = function() {
    this._clip.resume(), this._paused = !1;
  }, i.prototype.isPaused = function() {
    return !!this._paused;
  }, i.prototype.duration = function(r) {
    return this._maxTime = r, this._force = !0, this;
  }, i.prototype._doneCallback = function() {
    this._setTracksFinished(), this._clip = null;
    var r = this._doneCbs;
    if (r)
      for (var n = r.length, o = 0; o < n; o++)
        r[o].call(this);
  }, i.prototype._abortedCallback = function() {
    this._setTracksFinished();
    var r = this.animation, n = this._abortedCbs;
    if (r && r.removeClip(this._clip), this._clip = null, n)
      for (var o = 0; o < n.length; o++)
        n[o].call(this);
  }, i.prototype._setTracksFinished = function() {
    for (var r = this._tracks, n = this._trackKeys, o = 0; o < n.length; o++)
      r[n[o]].setFinished();
  }, i.prototype._getAdditiveTrack = function(r) {
    var n, o = this._additiveAnimators;
    if (o)
      for (var a = 0; a < o.length; a++) {
        var u = o[a].getTrack(r);
        u && (n = u);
      }
    return n;
  }, i.prototype.start = function(r) {
    if (!(this._started > 0)) {
      this._started = 1;
      for (var n = this, o = [], a = this._maxTime || 0, u = 0; u < this._trackKeys.length; u++) {
        var c = this._trackKeys[u], d = this._tracks[c], f = this._getAdditiveTrack(c), p = d.keyframes, _ = p.length;
        if (d.prepare(a, f), d.needsAnimate())
          if (!this._allowDiscrete && d.discrete) {
            var v = p[_ - 1];
            v && (n._target[d.propName] = v.rawValue), d.setFinished();
          } else
            o.push(d);
      }
      if (o.length || this._force) {
        var g = new Clip$1({
          life: a,
          loop: this._loop,
          delay: this._delay || 0,
          onframe: function(y) {
            n._started = 2;
            var b = n._additiveAnimators;
            if (b) {
              for (var A = !1, w = 0; w < b.length; w++)
                if (b[w]._clip) {
                  A = !0;
                  break;
                }
              A || (n._additiveAnimators = null);
            }
            for (var w = 0; w < o.length; w++)
              o[w].step(n._target, y);
            var S = n._onframeCbs;
            if (S)
              for (var w = 0; w < S.length; w++)
                S[w](n._target, y);
          },
          ondestroy: function() {
            n._doneCallback();
          }
        });
        this._clip = g, this.animation && this.animation.addClip(g), r && g.setEasing(r);
      } else
        this._doneCallback();
      return this;
    }
  }, i.prototype.stop = function(r) {
    if (this._clip) {
      var n = this._clip;
      r && n.onframe(1), this._abortedCallback();
    }
  }, i.prototype.delay = function(r) {
    return this._delay = r, this;
  }, i.prototype.during = function(r) {
    return r && (this._onframeCbs || (this._onframeCbs = []), this._onframeCbs.push(r)), this;
  }, i.prototype.done = function(r) {
    return r && (this._doneCbs || (this._doneCbs = []), this._doneCbs.push(r)), this;
  }, i.prototype.aborted = function(r) {
    return r && (this._abortedCbs || (this._abortedCbs = []), this._abortedCbs.push(r)), this;
  }, i.prototype.getClip = function() {
    return this._clip;
  }, i.prototype.getTrack = function(r) {
    return this._tracks[r];
  }, i.prototype.getTracks = function() {
    var r = this;
    return map$1(this._trackKeys, function(n) {
      return r._tracks[n];
    });
  }, i.prototype.stopTracks = function(r, n) {
    if (!r.length || !this._clip)
      return !0;
    for (var o = this._tracks, a = this._trackKeys, u = 0; u < r.length; u++) {
      var c = o[r[u]];
      c && !c.isFinished() && (n ? c.step(this._target, 1) : this._started === 1 && c.step(this._target, 0), c.setFinished());
    }
    for (var d = !0, u = 0; u < a.length; u++)
      if (!o[a[u]].isFinished()) {
        d = !1;
        break;
      }
    return d && this._abortedCallback(), d;
  }, i.prototype.saveTo = function(r, n, o) {
    if (r) {
      n = n || this._trackKeys;
      for (var a = 0; a < n.length; a++) {
        var u = n[a], c = this._tracks[u];
        if (!(!c || c.isFinished())) {
          var d = c.keyframes, f = d[o ? 0 : d.length - 1];
          f && (r[u] = cloneValue(f.rawValue));
        }
      }
    }
  }, i.prototype.__changeFinalValue = function(r, n) {
    n = n || keys(r);
    for (var o = 0; o < n.length; o++) {
      var a = n[o], u = this._tracks[a];
      if (u) {
        var c = u.keyframes;
        if (c.length > 1) {
          var d = c.pop();
          u.addKeyframe(d.time, r[a]), u.prepare(this._maxTime, u.getAdditiveTrack());
        }
      }
    }
  }, i;
}();
const Animator$1 = Animator;
function getTime() {
  return (/* @__PURE__ */ new Date()).getTime();
}
var Animation = function(i) {
  __extends(r, i);
  function r(n) {
    var o = i.call(this) || this;
    return o._running = !1, o._time = 0, o._pausedTime = 0, o._pauseStart = 0, o._paused = !1, n = n || {}, o.stage = n.stage || {}, o;
  }
  return r.prototype.addClip = function(n) {
    n.animation && this.removeClip(n), this._head ? (this._tail.next = n, n.prev = this._tail, n.next = null, this._tail = n) : this._head = this._tail = n, n.animation = this;
  }, r.prototype.addAnimator = function(n) {
    n.animation = this;
    var o = n.getClip();
    o && this.addClip(o);
  }, r.prototype.removeClip = function(n) {
    if (n.animation) {
      var o = n.prev, a = n.next;
      o ? o.next = a : this._head = a, a ? a.prev = o : this._tail = o, n.next = n.prev = n.animation = null;
    }
  }, r.prototype.removeAnimator = function(n) {
    var o = n.getClip();
    o && this.removeClip(o), n.animation = null;
  }, r.prototype.update = function(n) {
    for (var o = getTime() - this._pausedTime, a = o - this._time, u = this._head; u; ) {
      var c = u.next, d = u.step(o, a);
      d && (u.ondestroy(), this.removeClip(u)), u = c;
    }
    this._time = o, n || (this.trigger("frame", a), this.stage.update && this.stage.update());
  }, r.prototype._startLoop = function() {
    var n = this;
    this._running = !0;
    function o() {
      n._running && (requestAnimationFrame$3(o), !n._paused && n.update());
    }
    requestAnimationFrame$3(o);
  }, r.prototype.start = function() {
    this._running || (this._time = getTime(), this._pausedTime = 0, this._startLoop());
  }, r.prototype.stop = function() {
    this._running = !1;
  }, r.prototype.pause = function() {
    this._paused || (this._pauseStart = getTime(), this._paused = !0);
  }, r.prototype.resume = function() {
    this._paused && (this._pausedTime += getTime() - this._pauseStart, this._paused = !1);
  }, r.prototype.clear = function() {
    for (var n = this._head; n; ) {
      var o = n.next;
      n.prev = n.next = n.animation = null, n = o;
    }
    this._head = this._tail = null;
  }, r.prototype.isFinished = function() {
    return this._head == null;
  }, r.prototype.animate = function(n, o) {
    o = o || {}, this.start();
    var a = new Animator$1(n, o.loop);
    return this.addAnimator(a), a;
  }, r;
}(Eventful$1);
const Animation$1 = Animation;
var TOUCH_CLICK_DELAY = 300, globalEventSupported = env$1.domSupported, localNativeListenerNames = function() {
  var i = [
    "click",
    "dblclick",
    "mousewheel",
    "wheel",
    "mouseout",
    "mouseup",
    "mousedown",
    "mousemove",
    "contextmenu"
  ], r = [
    "touchstart",
    "touchend",
    "touchmove"
  ], n = {
    pointerdown: 1,
    pointerup: 1,
    pointermove: 1,
    pointerout: 1
  }, o = map$1(i, function(a) {
    var u = a.replace("mouse", "pointer");
    return n.hasOwnProperty(u) ? u : a;
  });
  return {
    mouse: i,
    touch: r,
    pointer: o
  };
}(), globalNativeListenerNames = {
  mouse: ["mousemove", "mouseup"],
  pointer: ["pointermove", "pointerup"]
}, wheelEventSupported = !1;
function isPointerFromTouch(i) {
  var r = i.pointerType;
  return r === "pen" || r === "touch";
}
function setTouchTimer(i) {
  i.touching = !0, i.touchTimer != null && (clearTimeout(i.touchTimer), i.touchTimer = null), i.touchTimer = setTimeout(function() {
    i.touching = !1, i.touchTimer = null;
  }, 700);
}
function markTouch(i) {
  i && (i.zrByTouch = !0);
}
function normalizeGlobalEvent(i, r) {
  return normalizeEvent(i.dom, new FakeGlobalEvent(i, r), !0);
}
function isLocalEl(i, r) {
  for (var n = r, o = !1; n && n.nodeType !== 9 && !(o = n.domBelongToZr || n !== r && n === i.painterRoot); )
    n = n.parentNode;
  return o;
}
var FakeGlobalEvent = function() {
  function i(r, n) {
    this.stopPropagation = noop$1, this.stopImmediatePropagation = noop$1, this.preventDefault = noop$1, this.type = n.type, this.target = this.currentTarget = r.dom, this.pointerType = n.pointerType, this.clientX = n.clientX, this.clientY = n.clientY;
  }
  return i;
}(), localDOMHandlers = {
  mousedown: function(i) {
    i = normalizeEvent(this.dom, i), this.__mayPointerCapture = [i.zrX, i.zrY], this.trigger("mousedown", i);
  },
  mousemove: function(i) {
    i = normalizeEvent(this.dom, i);
    var r = this.__mayPointerCapture;
    r && (i.zrX !== r[0] || i.zrY !== r[1]) && this.__togglePointerCapture(!0), this.trigger("mousemove", i);
  },
  mouseup: function(i) {
    i = normalizeEvent(this.dom, i), this.__togglePointerCapture(!1), this.trigger("mouseup", i);
  },
  mouseout: function(i) {
    i = normalizeEvent(this.dom, i);
    var r = i.toElement || i.relatedTarget;
    isLocalEl(this, r) || (this.__pointerCapturing && (i.zrEventControl = "no_globalout"), this.trigger("mouseout", i));
  },
  wheel: function(i) {
    wheelEventSupported = !0, i = normalizeEvent(this.dom, i), this.trigger("mousewheel", i);
  },
  mousewheel: function(i) {
    wheelEventSupported || (i = normalizeEvent(this.dom, i), this.trigger("mousewheel", i));
  },
  touchstart: function(i) {
    i = normalizeEvent(this.dom, i), markTouch(i), this.__lastTouchMoment = /* @__PURE__ */ new Date(), this.handler.processGesture(i, "start"), localDOMHandlers.mousemove.call(this, i), localDOMHandlers.mousedown.call(this, i);
  },
  touchmove: function(i) {
    i = normalizeEvent(this.dom, i), markTouch(i), this.handler.processGesture(i, "change"), localDOMHandlers.mousemove.call(this, i);
  },
  touchend: function(i) {
    i = normalizeEvent(this.dom, i), markTouch(i), this.handler.processGesture(i, "end"), localDOMHandlers.mouseup.call(this, i), +/* @__PURE__ */ new Date() - +this.__lastTouchMoment < TOUCH_CLICK_DELAY && localDOMHandlers.click.call(this, i);
  },
  pointerdown: function(i) {
    localDOMHandlers.mousedown.call(this, i);
  },
  pointermove: function(i) {
    isPointerFromTouch(i) || localDOMHandlers.mousemove.call(this, i);
  },
  pointerup: function(i) {
    localDOMHandlers.mouseup.call(this, i);
  },
  pointerout: function(i) {
    isPointerFromTouch(i) || localDOMHandlers.mouseout.call(this, i);
  }
};
each$4(["click", "dblclick", "contextmenu"], function(i) {
  localDOMHandlers[i] = function(r) {
    r = normalizeEvent(this.dom, r), this.trigger(i, r);
  };
});
var globalDOMHandlers = {
  pointermove: function(i) {
    isPointerFromTouch(i) || globalDOMHandlers.mousemove.call(this, i);
  },
  pointerup: function(i) {
    globalDOMHandlers.mouseup.call(this, i);
  },
  mousemove: function(i) {
    this.trigger("mousemove", i);
  },
  mouseup: function(i) {
    var r = this.__pointerCapturing;
    this.__togglePointerCapture(!1), this.trigger("mouseup", i), r && (i.zrEventControl = "only_globalout", this.trigger("mouseout", i));
  }
};
function mountLocalDOMEventListeners(i, r) {
  var n = r.domHandlers;
  env$1.pointerEventsSupported ? each$4(localNativeListenerNames.pointer, function(o) {
    mountSingleDOMEventListener(r, o, function(a) {
      n[o].call(i, a);
    });
  }) : (env$1.touchEventsSupported && each$4(localNativeListenerNames.touch, function(o) {
    mountSingleDOMEventListener(r, o, function(a) {
      n[o].call(i, a), setTouchTimer(r);
    });
  }), each$4(localNativeListenerNames.mouse, function(o) {
    mountSingleDOMEventListener(r, o, function(a) {
      a = getNativeEvent(a), r.touching || n[o].call(i, a);
    });
  }));
}
function mountGlobalDOMEventListeners(i, r) {
  env$1.pointerEventsSupported ? each$4(globalNativeListenerNames.pointer, n) : env$1.touchEventsSupported || each$4(globalNativeListenerNames.mouse, n);
  function n(o) {
    function a(u) {
      u = getNativeEvent(u), isLocalEl(i, u.target) || (u = normalizeGlobalEvent(i, u), r.domHandlers[o].call(i, u));
    }
    mountSingleDOMEventListener(r, o, a, { capture: !0 });
  }
}
function mountSingleDOMEventListener(i, r, n, o) {
  i.mounted[r] = n, i.listenerOpts[r] = o, addEventListener(i.domTarget, r, n, o);
}
function unmountDOMEventListeners(i) {
  var r = i.mounted;
  for (var n in r)
    r.hasOwnProperty(n) && removeEventListener(i.domTarget, n, r[n], i.listenerOpts[n]);
  i.mounted = {};
}
var DOMHandlerScope = function() {
  function i(r, n) {
    this.mounted = {}, this.listenerOpts = {}, this.touching = !1, this.domTarget = r, this.domHandlers = n;
  }
  return i;
}(), HandlerDomProxy = function(i) {
  __extends(r, i);
  function r(n, o) {
    var a = i.call(this) || this;
    return a.__pointerCapturing = !1, a.dom = n, a.painterRoot = o, a._localHandlerScope = new DOMHandlerScope(n, localDOMHandlers), globalEventSupported && (a._globalHandlerScope = new DOMHandlerScope(document, globalDOMHandlers)), mountLocalDOMEventListeners(a, a._localHandlerScope), a;
  }
  return r.prototype.dispose = function() {
    unmountDOMEventListeners(this._localHandlerScope), globalEventSupported && unmountDOMEventListeners(this._globalHandlerScope);
  }, r.prototype.setCursor = function(n) {
    this.dom.style && (this.dom.style.cursor = n || "default");
  }, r.prototype.__togglePointerCapture = function(n) {
    if (this.__mayPointerCapture = null, globalEventSupported && +this.__pointerCapturing ^ +n) {
      this.__pointerCapturing = n;
      var o = this._globalHandlerScope;
      n ? mountGlobalDOMEventListeners(this, o) : unmountDOMEventListeners(o);
    }
  }, r;
}(Eventful$1);
const HandlerProxy = HandlerDomProxy;
var dpr = 1;
env$1.hasGlobalWindow && (dpr = Math.max(window.devicePixelRatio || window.screen && window.screen.deviceXDPI / window.screen.logicalXDPI || 1, 1));
var devicePixelRatio = dpr, DARK_MODE_THRESHOLD = 0.4, DARK_LABEL_COLOR = "#333", LIGHT_LABEL_COLOR = "#ccc", LIGHTER_LABEL_COLOR = "#eee", mIdentity = identity$1, EPSILON$1 = 5e-5;
function isNotAroundZero(i) {
  return i > EPSILON$1 || i < -EPSILON$1;
}
var scaleTmp = [], tmpTransform = [], originTransform = create(), abs = Math.abs, Transformable = function() {
  function i() {
  }
  return i.prototype.getLocalTransform = function(r) {
    return i.getLocalTransform(this, r);
  }, i.prototype.setPosition = function(r) {
    this.x = r[0], this.y = r[1];
  }, i.prototype.setScale = function(r) {
    this.scaleX = r[0], this.scaleY = r[1];
  }, i.prototype.setSkew = function(r) {
    this.skewX = r[0], this.skewY = r[1];
  }, i.prototype.setOrigin = function(r) {
    this.originX = r[0], this.originY = r[1];
  }, i.prototype.needLocalTransform = function() {
    return isNotAroundZero(this.rotation) || isNotAroundZero(this.x) || isNotAroundZero(this.y) || isNotAroundZero(this.scaleX - 1) || isNotAroundZero(this.scaleY - 1) || isNotAroundZero(this.skewX) || isNotAroundZero(this.skewY);
  }, i.prototype.updateTransform = function() {
    var r = this.parent && this.parent.transform, n = this.needLocalTransform(), o = this.transform;
    if (!(n || r)) {
      o && (mIdentity(o), this.invTransform = null);
      return;
    }
    o = o || create(), n ? this.getLocalTransform(o) : mIdentity(o), r && (n ? mul(o, r, o) : copy(o, r)), this.transform = o, this._resolveGlobalScaleRatio(o);
  }, i.prototype._resolveGlobalScaleRatio = function(r) {
    var n = this.globalScaleRatio;
    if (n != null && n !== 1) {
      this.getGlobalScale(scaleTmp);
      var o = scaleTmp[0] < 0 ? -1 : 1, a = scaleTmp[1] < 0 ? -1 : 1, u = ((scaleTmp[0] - o) * n + o) / scaleTmp[0] || 0, c = ((scaleTmp[1] - a) * n + a) / scaleTmp[1] || 0;
      r[0] *= u, r[1] *= u, r[2] *= c, r[3] *= c;
    }
    this.invTransform = this.invTransform || create(), invert(this.invTransform, r);
  }, i.prototype.getComputedTransform = function() {
    for (var r = this, n = []; r; )
      n.push(r), r = r.parent;
    for (; r = n.pop(); )
      r.updateTransform();
    return this.transform;
  }, i.prototype.setLocalTransform = function(r) {
    if (r) {
      var n = r[0] * r[0] + r[1] * r[1], o = r[2] * r[2] + r[3] * r[3], a = Math.atan2(r[1], r[0]), u = Math.PI / 2 + a - Math.atan2(r[3], r[2]);
      o = Math.sqrt(o) * Math.cos(u), n = Math.sqrt(n), this.skewX = u, this.skewY = 0, this.rotation = -a, this.x = +r[4], this.y = +r[5], this.scaleX = n, this.scaleY = o, this.originX = 0, this.originY = 0;
    }
  }, i.prototype.decomposeTransform = function() {
    if (this.transform) {
      var r = this.parent, n = this.transform;
      r && r.transform && (r.invTransform = r.invTransform || create(), mul(tmpTransform, r.invTransform, n), n = tmpTransform);
      var o = this.originX, a = this.originY;
      (o || a) && (originTransform[4] = o, originTransform[5] = a, mul(tmpTransform, n, originTransform), tmpTransform[4] -= o, tmpTransform[5] -= a, n = tmpTransform), this.setLocalTransform(n);
    }
  }, i.prototype.getGlobalScale = function(r) {
    var n = this.transform;
    return r = r || [], n ? (r[0] = Math.sqrt(n[0] * n[0] + n[1] * n[1]), r[1] = Math.sqrt(n[2] * n[2] + n[3] * n[3]), n[0] < 0 && (r[0] = -r[0]), n[3] < 0 && (r[1] = -r[1]), r) : (r[0] = 1, r[1] = 1, r);
  }, i.prototype.transformCoordToLocal = function(r, n) {
    var o = [r, n], a = this.invTransform;
    return a && applyTransform$1(o, o, a), o;
  }, i.prototype.transformCoordToGlobal = function(r, n) {
    var o = [r, n], a = this.transform;
    return a && applyTransform$1(o, o, a), o;
  }, i.prototype.getLineScale = function() {
    var r = this.transform;
    return r && abs(r[0] - 1) > 1e-10 && abs(r[3] - 1) > 1e-10 ? Math.sqrt(abs(r[0] * r[3] - r[2] * r[1])) : 1;
  }, i.prototype.copyTransform = function(r) {
    copyTransform(this, r);
  }, i.getLocalTransform = function(r, n) {
    n = n || [];
    var o = r.originX || 0, a = r.originY || 0, u = r.scaleX, c = r.scaleY, d = r.anchorX, f = r.anchorY, p = r.rotation || 0, _ = r.x, v = r.y, g = r.skewX ? Math.tan(r.skewX) : 0, y = r.skewY ? Math.tan(-r.skewY) : 0;
    if (o || a || d || f) {
      var b = o + d, A = a + f;
      n[4] = -b * u - g * A * c, n[5] = -A * c - y * b * u;
    } else
      n[4] = n[5] = 0;
    return n[0] = u, n[3] = c, n[1] = y * u, n[2] = g * c, p && rotate(n, n, p), n[4] += o + _, n[5] += a + v, n;
  }, i.initDefaultProps = function() {
    var r = i.prototype;
    r.scaleX = r.scaleY = r.globalScaleRatio = 1, r.x = r.y = r.originX = r.originY = r.skewX = r.skewY = r.rotation = r.anchorX = r.anchorY = 0;
  }(), i;
}(), TRANSFORMABLE_PROPS = [
  "x",
  "y",
  "originX",
  "originY",
  "anchorX",
  "anchorY",
  "rotation",
  "scaleX",
  "scaleY",
  "skewX",
  "skewY"
];
function copyTransform(i, r) {
  for (var n = 0; n < TRANSFORMABLE_PROPS.length; n++) {
    var o = TRANSFORMABLE_PROPS[n];
    i[o] = r[o];
  }
}
const Transformable$1 = Transformable;
var textWidthCache = {};
function getWidth(i, r) {
  r = r || DEFAULT_FONT;
  var n = textWidthCache[r];
  n || (n = textWidthCache[r] = new LRU$1(500));
  var o = n.get(i);
  return o == null && (o = platformApi.measureText(i, r).width, n.put(i, o)), o;
}
function innerGetBoundingRect(i, r, n, o) {
  var a = getWidth(i, r), u = getLineHeight(r), c = adjustTextX(0, a, n), d = adjustTextY(0, u, o), f = new BoundingRect$1(c, d, a, u);
  return f;
}
function getBoundingRect(i, r, n, o) {
  var a = ((i || "") + "").split(`
`), u = a.length;
  if (u === 1)
    return innerGetBoundingRect(a[0], r, n, o);
  for (var c = new BoundingRect$1(0, 0, 0, 0), d = 0; d < a.length; d++) {
    var f = innerGetBoundingRect(a[d], r, n, o);
    d === 0 ? c.copy(f) : c.union(f);
  }
  return c;
}
function adjustTextX(i, r, n) {
  return n === "right" ? i -= r : n === "center" && (i -= r / 2), i;
}
function adjustTextY(i, r, n) {
  return n === "middle" ? i -= r / 2 : n === "bottom" && (i -= r), i;
}
function getLineHeight(i) {
  return getWidth("国", i);
}
function parsePercent$1(i, r) {
  return typeof i == "string" ? i.lastIndexOf("%") >= 0 ? parseFloat(i) / 100 * r : parseFloat(i) : i;
}
function calculateTextPosition(i, r, n) {
  var o = r.position || "inside", a = r.distance != null ? r.distance : 5, u = n.height, c = n.width, d = u / 2, f = n.x, p = n.y, _ = "left", v = "top";
  if (o instanceof Array)
    f += parsePercent$1(o[0], n.width), p += parsePercent$1(o[1], n.height), _ = null, v = null;
  else
    switch (o) {
      case "left":
        f -= a, p += d, _ = "right", v = "middle";
        break;
      case "right":
        f += a + c, p += d, v = "middle";
        break;
      case "top":
        f += c / 2, p -= a, _ = "center", v = "bottom";
        break;
      case "bottom":
        f += c / 2, p += u + a, _ = "center";
        break;
      case "inside":
        f += c / 2, p += d, _ = "center", v = "middle";
        break;
      case "insideLeft":
        f += a, p += d, v = "middle";
        break;
      case "insideRight":
        f += c - a, p += d, _ = "right", v = "middle";
        break;
      case "insideTop":
        f += c / 2, p += a, _ = "center";
        break;
      case "insideBottom":
        f += c / 2, p += u - a, _ = "center", v = "bottom";
        break;
      case "insideTopLeft":
        f += a, p += a;
        break;
      case "insideTopRight":
        f += c - a, p += a, _ = "right";
        break;
      case "insideBottomLeft":
        f += a, p += u - a, v = "bottom";
        break;
      case "insideBottomRight":
        f += c - a, p += u - a, _ = "right", v = "bottom";
        break;
    }
  return i = i || {}, i.x = f, i.y = p, i.align = _, i.verticalAlign = v, i;
}
var PRESERVED_NORMAL_STATE = "__zr_normal__", PRIMARY_STATES_KEYS$1 = TRANSFORMABLE_PROPS.concat(["ignore"]), DEFAULT_ANIMATABLE_MAP = reduce(TRANSFORMABLE_PROPS, function(i, r) {
  return i[r] = !0, i;
}, { ignore: !1 }), tmpTextPosCalcRes = {}, tmpBoundingRect = new BoundingRect$1(0, 0, 0, 0), Element$1 = function() {
  function i(r) {
    this.id = guid(), this.animators = [], this.currentStates = [], this.states = {}, this._init(r);
  }
  return i.prototype._init = function(r) {
    this.attr(r);
  }, i.prototype.drift = function(r, n, o) {
    switch (this.draggable) {
      case "horizontal":
        n = 0;
        break;
      case "vertical":
        r = 0;
        break;
    }
    var a = this.transform;
    a || (a = this.transform = [1, 0, 0, 1, 0, 0]), a[4] += r, a[5] += n, this.decomposeTransform(), this.markRedraw();
  }, i.prototype.beforeUpdate = function() {
  }, i.prototype.afterUpdate = function() {
  }, i.prototype.update = function() {
    this.updateTransform(), this.__dirty && this.updateInnerText();
  }, i.prototype.updateInnerText = function(r) {
    var n = this._textContent;
    if (n && (!n.ignore || r)) {
      this.textConfig || (this.textConfig = {});
      var o = this.textConfig, a = o.local, u = n.innerTransformable, c = void 0, d = void 0, f = !1;
      u.parent = a ? this : null;
      var p = !1;
      if (u.copyTransform(n), o.position != null) {
        var _ = tmpBoundingRect;
        o.layoutRect ? _.copy(o.layoutRect) : _.copy(this.getBoundingRect()), a || _.applyTransform(this.transform), this.calculateTextPosition ? this.calculateTextPosition(tmpTextPosCalcRes, o, _) : calculateTextPosition(tmpTextPosCalcRes, o, _), u.x = tmpTextPosCalcRes.x, u.y = tmpTextPosCalcRes.y, c = tmpTextPosCalcRes.align, d = tmpTextPosCalcRes.verticalAlign;
        var v = o.origin;
        if (v && o.rotation != null) {
          var g = void 0, y = void 0;
          v === "center" ? (g = _.width * 0.5, y = _.height * 0.5) : (g = parsePercent$1(v[0], _.width), y = parsePercent$1(v[1], _.height)), p = !0, u.originX = -u.x + g + (a ? 0 : _.x), u.originY = -u.y + y + (a ? 0 : _.y);
        }
      }
      o.rotation != null && (u.rotation = o.rotation);
      var b = o.offset;
      b && (u.x += b[0], u.y += b[1], p || (u.originX = -b[0], u.originY = -b[1]));
      var A = o.inside == null ? typeof o.position == "string" && o.position.indexOf("inside") >= 0 : o.inside, w = this._innerTextDefaultStyle || (this._innerTextDefaultStyle = {}), S = void 0, T = void 0, x = void 0;
      A && this.canBeInsideText() ? (S = o.insideFill, T = o.insideStroke, (S == null || S === "auto") && (S = this.getInsideTextFill()), (T == null || T === "auto") && (T = this.getInsideTextStroke(S), x = !0)) : (S = o.outsideFill, T = o.outsideStroke, (S == null || S === "auto") && (S = this.getOutsideFill()), (T == null || T === "auto") && (T = this.getOutsideStroke(S), x = !0)), S = S || "#000", (S !== w.fill || T !== w.stroke || x !== w.autoStroke || c !== w.align || d !== w.verticalAlign) && (f = !0, w.fill = S, w.stroke = T, w.autoStroke = x, w.align = c, w.verticalAlign = d, n.setDefaultTextStyle(w)), n.__dirty |= REDRAW_BIT, f && n.dirtyStyle(!0);
    }
  }, i.prototype.canBeInsideText = function() {
    return !0;
  }, i.prototype.getInsideTextFill = function() {
    return "#fff";
  }, i.prototype.getInsideTextStroke = function(r) {
    return "#000";
  }, i.prototype.getOutsideFill = function() {
    return this.__zr && this.__zr.isDarkMode() ? LIGHT_LABEL_COLOR : DARK_LABEL_COLOR;
  }, i.prototype.getOutsideStroke = function(r) {
    var n = this.__zr && this.__zr.getBackgroundColor(), o = typeof n == "string" && parse(n);
    o || (o = [255, 255, 255, 1]);
    for (var a = o[3], u = this.__zr.isDarkMode(), c = 0; c < 3; c++)
      o[c] = o[c] * a + (u ? 0 : 255) * (1 - a);
    return o[3] = 1, stringify(o, "rgba");
  }, i.prototype.traverse = function(r, n) {
  }, i.prototype.attrKV = function(r, n) {
    r === "textConfig" ? this.setTextConfig(n) : r === "textContent" ? this.setTextContent(n) : r === "clipPath" ? this.setClipPath(n) : r === "extra" ? (this.extra = this.extra || {}, extend(this.extra, n)) : this[r] = n;
  }, i.prototype.hide = function() {
    this.ignore = !0, this.markRedraw();
  }, i.prototype.show = function() {
    this.ignore = !1, this.markRedraw();
  }, i.prototype.attr = function(r, n) {
    if (typeof r == "string")
      this.attrKV(r, n);
    else if (isObject$3(r))
      for (var o = r, a = keys(o), u = 0; u < a.length; u++) {
        var c = a[u];
        this.attrKV(c, r[c]);
      }
    return this.markRedraw(), this;
  }, i.prototype.saveCurrentToNormalState = function(r) {
    this._innerSaveToNormal(r);
    for (var n = this._normalState, o = 0; o < this.animators.length; o++) {
      var a = this.animators[o], u = a.__fromStateTransition;
      if (!(a.getLoop() || u && u !== PRESERVED_NORMAL_STATE)) {
        var c = a.targetName, d = c ? n[c] : n;
        a.saveTo(d);
      }
    }
  }, i.prototype._innerSaveToNormal = function(r) {
    var n = this._normalState;
    n || (n = this._normalState = {}), r.textConfig && !n.textConfig && (n.textConfig = this.textConfig), this._savePrimaryToNormal(r, n, PRIMARY_STATES_KEYS$1);
  }, i.prototype._savePrimaryToNormal = function(r, n, o) {
    for (var a = 0; a < o.length; a++) {
      var u = o[a];
      r[u] != null && !(u in n) && (n[u] = this[u]);
    }
  }, i.prototype.hasState = function() {
    return this.currentStates.length > 0;
  }, i.prototype.getState = function(r) {
    return this.states[r];
  }, i.prototype.ensureState = function(r) {
    var n = this.states;
    return n[r] || (n[r] = {}), n[r];
  }, i.prototype.clearStates = function(r) {
    this.useState(PRESERVED_NORMAL_STATE, !1, r);
  }, i.prototype.useState = function(r, n, o, a) {
    var u = r === PRESERVED_NORMAL_STATE, c = this.hasState();
    if (!(!c && u)) {
      var d = this.currentStates, f = this.stateTransition;
      if (!(indexOf(d, r) >= 0 && (n || d.length === 1))) {
        var p;
        if (this.stateProxy && !u && (p = this.stateProxy(r)), p || (p = this.states && this.states[r]), !p && !u) {
          logError("State " + r + " not exists.");
          return;
        }
        u || this.saveCurrentToNormalState(p);
        var _ = !!(p && p.hoverLayer || a);
        _ && this._toggleHoverLayerFlag(!0), this._applyStateObj(r, p, this._normalState, n, !o && !this.__inHover && f && f.duration > 0, f);
        var v = this._textContent, g = this._textGuide;
        return v && v.useState(r, n, o, _), g && g.useState(r, n, o, _), u ? (this.currentStates = [], this._normalState = {}) : n ? this.currentStates.push(r) : this.currentStates = [r], this._updateAnimationTargets(), this.markRedraw(), !_ && this.__inHover && (this._toggleHoverLayerFlag(!1), this.__dirty &= ~REDRAW_BIT), p;
      }
    }
  }, i.prototype.useStates = function(r, n, o) {
    if (!r.length)
      this.clearStates();
    else {
      var a = [], u = this.currentStates, c = r.length, d = c === u.length;
      if (d) {
        for (var f = 0; f < c; f++)
          if (r[f] !== u[f]) {
            d = !1;
            break;
          }
      }
      if (d)
        return;
      for (var f = 0; f < c; f++) {
        var p = r[f], _ = void 0;
        this.stateProxy && (_ = this.stateProxy(p, r)), _ || (_ = this.states[p]), _ && a.push(_);
      }
      var v = a[c - 1], g = !!(v && v.hoverLayer || o);
      g && this._toggleHoverLayerFlag(!0);
      var y = this._mergeStates(a), b = this.stateTransition;
      this.saveCurrentToNormalState(y), this._applyStateObj(r.join(","), y, this._normalState, !1, !n && !this.__inHover && b && b.duration > 0, b);
      var A = this._textContent, w = this._textGuide;
      A && A.useStates(r, n, g), w && w.useStates(r, n, g), this._updateAnimationTargets(), this.currentStates = r.slice(), this.markRedraw(), !g && this.__inHover && (this._toggleHoverLayerFlag(!1), this.__dirty &= ~REDRAW_BIT);
    }
  }, i.prototype.isSilent = function() {
    for (var r = this.silent, n = this.parent; !r && n; ) {
      if (n.silent) {
        r = !0;
        break;
      }
      n = n.parent;
    }
    return r;
  }, i.prototype._updateAnimationTargets = function() {
    for (var r = 0; r < this.animators.length; r++) {
      var n = this.animators[r];
      n.targetName && n.changeTarget(this[n.targetName]);
    }
  }, i.prototype.removeState = function(r) {
    var n = indexOf(this.currentStates, r);
    if (n >= 0) {
      var o = this.currentStates.slice();
      o.splice(n, 1), this.useStates(o);
    }
  }, i.prototype.replaceState = function(r, n, o) {
    var a = this.currentStates.slice(), u = indexOf(a, r), c = indexOf(a, n) >= 0;
    u >= 0 ? c ? a.splice(u, 1) : a[u] = n : o && !c && a.push(n), this.useStates(a);
  }, i.prototype.toggleState = function(r, n) {
    n ? this.useState(r, !0) : this.removeState(r);
  }, i.prototype._mergeStates = function(r) {
    for (var n = {}, o, a = 0; a < r.length; a++) {
      var u = r[a];
      extend(n, u), u.textConfig && (o = o || {}, extend(o, u.textConfig));
    }
    return o && (n.textConfig = o), n;
  }, i.prototype._applyStateObj = function(r, n, o, a, u, c) {
    var d = !(n && a);
    n && n.textConfig ? (this.textConfig = extend({}, a ? this.textConfig : o.textConfig), extend(this.textConfig, n.textConfig)) : d && o.textConfig && (this.textConfig = o.textConfig);
    for (var f = {}, p = !1, _ = 0; _ < PRIMARY_STATES_KEYS$1.length; _++) {
      var v = PRIMARY_STATES_KEYS$1[_], g = u && DEFAULT_ANIMATABLE_MAP[v];
      n && n[v] != null ? g ? (p = !0, f[v] = n[v]) : this[v] = n[v] : d && o[v] != null && (g ? (p = !0, f[v] = o[v]) : this[v] = o[v]);
    }
    if (!u)
      for (var _ = 0; _ < this.animators.length; _++) {
        var y = this.animators[_], b = y.targetName;
        y.getLoop() || y.__changeFinalValue(b ? (n || o)[b] : n || o);
      }
    p && this._transitionState(r, f, c);
  }, i.prototype._attachComponent = function(r) {
    if (r.__zr && !r.__hostTarget) {
      if (process.env.NODE_ENV !== "production")
        throw new Error("Text element has been added to zrender.");
      return;
    }
    if (r === this) {
      if (process.env.NODE_ENV !== "production")
        throw new Error("Recursive component attachment.");
      return;
    }
    var n = this.__zr;
    n && r.addSelfToZr(n), r.__zr = n, r.__hostTarget = this;
  }, i.prototype._detachComponent = function(r) {
    r.__zr && r.removeSelfFromZr(r.__zr), r.__zr = null, r.__hostTarget = null;
  }, i.prototype.getClipPath = function() {
    return this._clipPath;
  }, i.prototype.setClipPath = function(r) {
    this._clipPath && this._clipPath !== r && this.removeClipPath(), this._attachComponent(r), this._clipPath = r, this.markRedraw();
  }, i.prototype.removeClipPath = function() {
    var r = this._clipPath;
    r && (this._detachComponent(r), this._clipPath = null, this.markRedraw());
  }, i.prototype.getTextContent = function() {
    return this._textContent;
  }, i.prototype.setTextContent = function(r) {
    var n = this._textContent;
    if (n !== r) {
      if (n && n !== r && this.removeTextContent(), process.env.NODE_ENV !== "production" && r.__zr && !r.__hostTarget)
        throw new Error("Text element has been added to zrender.");
      r.innerTransformable = new Transformable$1(), this._attachComponent(r), this._textContent = r, this.markRedraw();
    }
  }, i.prototype.setTextConfig = function(r) {
    this.textConfig || (this.textConfig = {}), extend(this.textConfig, r), this.markRedraw();
  }, i.prototype.removeTextConfig = function() {
    this.textConfig = null, this.markRedraw();
  }, i.prototype.removeTextContent = function() {
    var r = this._textContent;
    r && (r.innerTransformable = null, this._detachComponent(r), this._textContent = null, this._innerTextDefaultStyle = null, this.markRedraw());
  }, i.prototype.getTextGuideLine = function() {
    return this._textGuide;
  }, i.prototype.setTextGuideLine = function(r) {
    this._textGuide && this._textGuide !== r && this.removeTextGuideLine(), this._attachComponent(r), this._textGuide = r, this.markRedraw();
  }, i.prototype.removeTextGuideLine = function() {
    var r = this._textGuide;
    r && (this._detachComponent(r), this._textGuide = null, this.markRedraw());
  }, i.prototype.markRedraw = function() {
    this.__dirty |= REDRAW_BIT;
    var r = this.__zr;
    r && (this.__inHover ? r.refreshHover() : r.refresh()), this.__hostTarget && this.__hostTarget.markRedraw();
  }, i.prototype.dirty = function() {
    this.markRedraw();
  }, i.prototype._toggleHoverLayerFlag = function(r) {
    this.__inHover = r;
    var n = this._textContent, o = this._textGuide;
    n && (n.__inHover = r), o && (o.__inHover = r);
  }, i.prototype.addSelfToZr = function(r) {
    if (this.__zr !== r) {
      this.__zr = r;
      var n = this.animators;
      if (n)
        for (var o = 0; o < n.length; o++)
          r.animation.addAnimator(n[o]);
      this._clipPath && this._clipPath.addSelfToZr(r), this._textContent && this._textContent.addSelfToZr(r), this._textGuide && this._textGuide.addSelfToZr(r);
    }
  }, i.prototype.removeSelfFromZr = function(r) {
    if (this.__zr) {
      this.__zr = null;
      var n = this.animators;
      if (n)
        for (var o = 0; o < n.length; o++)
          r.animation.removeAnimator(n[o]);
      this._clipPath && this._clipPath.removeSelfFromZr(r), this._textContent && this._textContent.removeSelfFromZr(r), this._textGuide && this._textGuide.removeSelfFromZr(r);
    }
  }, i.prototype.animate = function(r, n, o) {
    var a = r ? this[r] : this;
    if (process.env.NODE_ENV !== "production" && !a) {
      logError('Property "' + r + '" is not existed in element ' + this.id);
      return;
    }
    var u = new Animator$1(a, n, o);
    return r && (u.targetName = r), this.addAnimator(u, r), u;
  }, i.prototype.addAnimator = function(r, n) {
    var o = this.__zr, a = this;
    r.during(function() {
      a.updateDuringAnimation(n);
    }).done(function() {
      var u = a.animators, c = indexOf(u, r);
      c >= 0 && u.splice(c, 1);
    }), this.animators.push(r), o && o.animation.addAnimator(r), o && o.wakeUp();
  }, i.prototype.updateDuringAnimation = function(r) {
    this.markRedraw();
  }, i.prototype.stopAnimation = function(r, n) {
    for (var o = this.animators, a = o.length, u = [], c = 0; c < a; c++) {
      var d = o[c];
      !r || r === d.scope ? d.stop(n) : u.push(d);
    }
    return this.animators = u, this;
  }, i.prototype.animateTo = function(r, n, o) {
    animateTo(this, r, n, o);
  }, i.prototype.animateFrom = function(r, n, o) {
    animateTo(this, r, n, o, !0);
  }, i.prototype._transitionState = function(r, n, o, a) {
    for (var u = animateTo(this, n, o, a), c = 0; c < u.length; c++)
      u[c].__fromStateTransition = r;
  }, i.prototype.getBoundingRect = function() {
    return null;
  }, i.prototype.getPaintRect = function() {
    return null;
  }, i.initDefaultProps = function() {
    var r = i.prototype;
    r.type = "element", r.name = "", r.ignore = r.silent = r.isGroup = r.draggable = r.dragging = r.ignoreClip = r.__inHover = !1, r.__dirty = REDRAW_BIT;
    var n = {};
    function o(u, c, d) {
      n[u + c + d] || (console.warn("DEPRECATED: '" + u + "' has been deprecated. use '" + c + "', '" + d + "' instead"), n[u + c + d] = !0);
    }
    function a(u, c, d, f) {
      Object.defineProperty(r, u, {
        get: function() {
          if (process.env.NODE_ENV !== "production" && o(u, d, f), !this[c]) {
            var _ = this[c] = [];
            p(this, _);
          }
          return this[c];
        },
        set: function(_) {
          process.env.NODE_ENV !== "production" && o(u, d, f), this[d] = _[0], this[f] = _[1], this[c] = _, p(this, _);
        }
      });
      function p(_, v) {
        Object.defineProperty(v, 0, {
          get: function() {
            return _[d];
          },
          set: function(g) {
            _[d] = g;
          }
        }), Object.defineProperty(v, 1, {
          get: function() {
            return _[f];
          },
          set: function(g) {
            _[f] = g;
          }
        });
      }
    }
    Object.defineProperty && (a("position", "_legacyPos", "x", "y"), a("scale", "_legacyScale", "scaleX", "scaleY"), a("origin", "_legacyOrigin", "originX", "originY"));
  }(), i;
}();
mixin(Element$1, Eventful$1);
mixin(Element$1, Transformable$1);
function animateTo(i, r, n, o, a) {
  n = n || {};
  var u = [];
  animateToShallow(i, "", i, r, n, o, u, a);
  var c = u.length, d = !1, f = n.done, p = n.aborted, _ = function() {
    d = !0, c--, c <= 0 && (d ? f && f() : p && p());
  }, v = function() {
    c--, c <= 0 && (d ? f && f() : p && p());
  };
  c || f && f(), u.length > 0 && n.during && u[0].during(function(b, A) {
    n.during(A);
  });
  for (var g = 0; g < u.length; g++) {
    var y = u[g];
    _ && y.done(_), v && y.aborted(v), n.force && y.duration(n.duration), y.start(n.easing);
  }
  return u;
}
function copyArrShallow(i, r, n) {
  for (var o = 0; o < n; o++)
    i[o] = r[o];
}
function is2DArray(i) {
  return isArrayLike(i[0]);
}
function copyValue(i, r, n) {
  if (isArrayLike(r[n]))
    if (isArrayLike(i[n]) || (i[n] = []), isTypedArray(r[n])) {
      var o = r[n].length;
      i[n].length !== o && (i[n] = new r[n].constructor(o), copyArrShallow(i[n], r[n], o));
    } else {
      var a = r[n], u = i[n], c = a.length;
      if (is2DArray(a))
        for (var d = a[0].length, f = 0; f < c; f++)
          u[f] ? copyArrShallow(u[f], a[f], d) : u[f] = Array.prototype.slice.call(a[f]);
      else
        copyArrShallow(u, a, c);
      u.length = a.length;
    }
  else
    i[n] = r[n];
}
function isValueSame(i, r) {
  return i === r || isArrayLike(i) && isArrayLike(r) && is1DArraySame(i, r);
}
function is1DArraySame(i, r) {
  var n = i.length;
  if (n !== r.length)
    return !1;
  for (var o = 0; o < n; o++)
    if (i[o] !== r[o])
      return !1;
  return !0;
}
function animateToShallow(i, r, n, o, a, u, c, d) {
  for (var f = keys(o), p = a.duration, _ = a.delay, v = a.additive, g = a.setToFinal, y = !isObject$3(u), b = i.animators, A = [], w = 0; w < f.length; w++) {
    var S = f[w], T = o[S];
    if (T != null && n[S] != null && (y || u[S]))
      if (isObject$3(T) && !isArrayLike(T) && !isGradientObject(T)) {
        if (r) {
          d || (n[S] = T, i.updateDuringAnimation(r));
          continue;
        }
        animateToShallow(i, S, n[S], T, a, u && u[S], c, d);
      } else
        A.push(S);
    else
      d || (n[S] = T, i.updateDuringAnimation(r), A.push(S));
  }
  var x = A.length;
  if (!v && x)
    for (var L = 0; L < b.length; L++) {
      var O = b[L];
      if (O.targetName === r) {
        var M = O.stopTracks(A);
        if (M) {
          var k = indexOf(b, O);
          b.splice(k, 1);
        }
      }
    }
  if (a.force || (A = filter(A, function(D) {
    return !isValueSame(o[D], n[D]);
  }), x = A.length), x > 0 || a.force && !c.length) {
    var ie = void 0, $ = void 0, Y = void 0;
    if (d) {
      $ = {}, g && (ie = {});
      for (var L = 0; L < x; L++) {
        var S = A[L];
        $[S] = n[S], g ? ie[S] = o[S] : n[S] = o[S];
      }
    } else if (g) {
      Y = {};
      for (var L = 0; L < x; L++) {
        var S = A[L];
        Y[S] = cloneValue(n[S]), copyValue(n, o, S);
      }
    }
    var O = new Animator$1(n, !1, !1, v ? filter(b, function(re) {
      return re.targetName === r;
    }) : null);
    O.targetName = r, a.scope && (O.scope = a.scope), g && ie && O.whenWithKeys(0, ie, A), Y && O.whenWithKeys(0, Y, A), O.whenWithKeys(p ?? 500, d ? $ : o, A).delay(_ || 0), i.addAnimator(O, r), c.push(O);
  }
}
const Element$2 = Element$1;
var Group$2 = function(i) {
  __extends(r, i);
  function r(n) {
    var o = i.call(this) || this;
    return o.isGroup = !0, o._children = [], o.attr(n), o;
  }
  return r.prototype.childrenRef = function() {
    return this._children;
  }, r.prototype.children = function() {
    return this._children.slice();
  }, r.prototype.childAt = function(n) {
    return this._children[n];
  }, r.prototype.childOfName = function(n) {
    for (var o = this._children, a = 0; a < o.length; a++)
      if (o[a].name === n)
        return o[a];
  }, r.prototype.childCount = function() {
    return this._children.length;
  }, r.prototype.add = function(n) {
    if (n && (n !== this && n.parent !== this && (this._children.push(n), this._doAdd(n)), process.env.NODE_ENV !== "production" && n.__hostTarget))
      throw "This elemenet has been used as an attachment";
    return this;
  }, r.prototype.addBefore = function(n, o) {
    if (n && n !== this && n.parent !== this && o && o.parent === this) {
      var a = this._children, u = a.indexOf(o);
      u >= 0 && (a.splice(u, 0, n), this._doAdd(n));
    }
    return this;
  }, r.prototype.replace = function(n, o) {
    var a = indexOf(this._children, n);
    return a >= 0 && this.replaceAt(o, a), this;
  }, r.prototype.replaceAt = function(n, o) {
    var a = this._children, u = a[o];
    if (n && n !== this && n.parent !== this && n !== u) {
      a[o] = n, u.parent = null;
      var c = this.__zr;
      c && u.removeSelfFromZr(c), this._doAdd(n);
    }
    return this;
  }, r.prototype._doAdd = function(n) {
    n.parent && n.parent.remove(n), n.parent = this;
    var o = this.__zr;
    o && o !== n.__zr && n.addSelfToZr(o), o && o.refresh();
  }, r.prototype.remove = function(n) {
    var o = this.__zr, a = this._children, u = indexOf(a, n);
    return u < 0 ? this : (a.splice(u, 1), n.parent = null, o && n.removeSelfFromZr(o), o && o.refresh(), this);
  }, r.prototype.removeAll = function() {
    for (var n = this._children, o = this.__zr, a = 0; a < n.length; a++) {
      var u = n[a];
      o && u.removeSelfFromZr(o), u.parent = null;
    }
    return n.length = 0, this;
  }, r.prototype.eachChild = function(n, o) {
    for (var a = this._children, u = 0; u < a.length; u++) {
      var c = a[u];
      n.call(o, c, u);
    }
    return this;
  }, r.prototype.traverse = function(n, o) {
    for (var a = 0; a < this._children.length; a++) {
      var u = this._children[a], c = n.call(o, u);
      u.isGroup && !c && u.traverse(n, o);
    }
    return this;
  }, r.prototype.addSelfToZr = function(n) {
    i.prototype.addSelfToZr.call(this, n);
    for (var o = 0; o < this._children.length; o++) {
      var a = this._children[o];
      a.addSelfToZr(n);
    }
  }, r.prototype.removeSelfFromZr = function(n) {
    i.prototype.removeSelfFromZr.call(this, n);
    for (var o = 0; o < this._children.length; o++) {
      var a = this._children[o];
      a.removeSelfFromZr(n);
    }
  }, r.prototype.getBoundingRect = function(n) {
    for (var o = new BoundingRect$1(0, 0, 0, 0), a = n || this._children, u = [], c = null, d = 0; d < a.length; d++) {
      var f = a[d];
      if (!(f.ignore || f.invisible)) {
        var p = f.getBoundingRect(), _ = f.getLocalTransform(u);
        _ ? (BoundingRect$1.applyTransform(o, p, _), c = c || o.clone(), c.union(o)) : (c = c || p.clone(), c.union(p));
      }
    }
    return c || o;
  }, r;
}(Element$2);
Group$2.prototype.type = "group";
const Group$3 = Group$2;
/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/
var painterCtors = {}, instances$1 = {};
function delInstance(i) {
  delete instances$1[i];
}
function isDarkMode(i) {
  if (!i)
    return !1;
  if (typeof i == "string")
    return lum(i, 1) < DARK_MODE_THRESHOLD;
  if (i.colorStops) {
    for (var r = i.colorStops, n = 0, o = r.length, a = 0; a < o; a++)
      n += lum(r[a].color, 1);
    return n /= o, n < DARK_MODE_THRESHOLD;
  }
  return !1;
}
var ZRender = function() {
  function i(r, n, o) {
    var a = this;
    this._sleepAfterStill = 10, this._stillFrameAccum = 0, this._needsRefresh = !0, this._needsRefreshHover = !0, this._darkMode = !1, o = o || {}, this.dom = n, this.id = r;
    var u = new Storage$1(), c = o.renderer || "canvas";
    if (painterCtors[c] || (c = keys(painterCtors)[0]), process.env.NODE_ENV !== "production" && !painterCtors[c])
      throw new Error("Renderer '" + c + "' is not imported. Please import it first.");
    o.useDirtyRect = o.useDirtyRect == null ? !1 : o.useDirtyRect;
    var d = new painterCtors[c](n, u, o, r), f = o.ssr || d.ssrOnly;
    this.storage = u, this.painter = d;
    var p = !env$1.node && !env$1.worker && !f ? new HandlerProxy(d.getViewportRoot(), d.root) : null, _ = o.useCoarsePointer, v = _ == null || _ === "auto" ? env$1.touchEventsSupported : !!_, g = 44, y;
    v && (y = retrieve2(o.pointerSize, g)), this.handler = new Handler$1(u, d, p, d.root, y), this.animation = new Animation$1({
      stage: {
        update: f ? null : function() {
          return a._flush(!0);
        }
      }
    }), f || this.animation.start();
  }
  return i.prototype.add = function(r) {
    this._disposed || !r || (this.storage.addRoot(r), r.addSelfToZr(this), this.refresh());
  }, i.prototype.remove = function(r) {
    this._disposed || !r || (this.storage.delRoot(r), r.removeSelfFromZr(this), this.refresh());
  }, i.prototype.configLayer = function(r, n) {
    this._disposed || (this.painter.configLayer && this.painter.configLayer(r, n), this.refresh());
  }, i.prototype.setBackgroundColor = function(r) {
    this._disposed || (this.painter.setBackgroundColor && this.painter.setBackgroundColor(r), this.refresh(), this._backgroundColor = r, this._darkMode = isDarkMode(r));
  }, i.prototype.getBackgroundColor = function() {
    return this._backgroundColor;
  }, i.prototype.setDarkMode = function(r) {
    this._darkMode = r;
  }, i.prototype.isDarkMode = function() {
    return this._darkMode;
  }, i.prototype.refreshImmediately = function(r) {
    this._disposed || (r || this.animation.update(!0), this._needsRefresh = !1, this.painter.refresh(), this._needsRefresh = !1);
  }, i.prototype.refresh = function() {
    this._disposed || (this._needsRefresh = !0, this.animation.start());
  }, i.prototype.flush = function() {
    this._disposed || this._flush(!1);
  }, i.prototype._flush = function(r) {
    var n, o = getTime();
    this._needsRefresh && (n = !0, this.refreshImmediately(r)), this._needsRefreshHover && (n = !0, this.refreshHoverImmediately());
    var a = getTime();
    n ? (this._stillFrameAccum = 0, this.trigger("rendered", {
      elapsedTime: a - o
    })) : this._sleepAfterStill > 0 && (this._stillFrameAccum++, this._stillFrameAccum > this._sleepAfterStill && this.animation.stop());
  }, i.prototype.setSleepAfterStill = function(r) {
    this._sleepAfterStill = r;
  }, i.prototype.wakeUp = function() {
    this._disposed || (this.animation.start(), this._stillFrameAccum = 0);
  }, i.prototype.refreshHover = function() {
    this._needsRefreshHover = !0;
  }, i.prototype.refreshHoverImmediately = function() {
    this._disposed || (this._needsRefreshHover = !1, this.painter.refreshHover && this.painter.getType() === "canvas" && this.painter.refreshHover());
  }, i.prototype.resize = function(r) {
    this._disposed || (r = r || {}, this.painter.resize(r.width, r.height), this.handler.resize());
  }, i.prototype.clearAnimation = function() {
    this._disposed || this.animation.clear();
  }, i.prototype.getWidth = function() {
    if (!this._disposed)
      return this.painter.getWidth();
  }, i.prototype.getHeight = function() {
    if (!this._disposed)
      return this.painter.getHeight();
  }, i.prototype.setCursorStyle = function(r) {
    this._disposed || this.handler.setCursorStyle(r);
  }, i.prototype.findHover = function(r, n) {
    if (!this._disposed)
      return this.handler.findHover(r, n);
  }, i.prototype.on = function(r, n, o) {
    return this._disposed || this.handler.on(r, n, o), this;
  }, i.prototype.off = function(r, n) {
    this._disposed || this.handler.off(r, n);
  }, i.prototype.trigger = function(r, n) {
    this._disposed || this.handler.trigger(r, n);
  }, i.prototype.clear = function() {
    if (!this._disposed) {
      for (var r = this.storage.getRoots(), n = 0; n < r.length; n++)
        r[n] instanceof Group$3 && r[n].removeSelfFromZr(this);
      this.storage.delAllRoots(), this.painter.clear();
    }
  }, i.prototype.dispose = function() {
    this._disposed || (this.animation.stop(), this.clear(), this.storage.dispose(), this.painter.dispose(), this.handler.dispose(), this.animation = this.storage = this.painter = this.handler = null, this._disposed = !0, delInstance(this.id));
  }, i;
}();
function init(i, r) {
  var n = new ZRender(guid(), i, r);
  return instances$1[n.id] = n, n;
}
function registerPainter(i, r) {
  painterCtors[i] = r;
}
var ssrDataGetter;
function getElementSSRData(i) {
  if (typeof ssrDataGetter == "function")
    return ssrDataGetter(i);
}
function registerSSRDataGetter(i) {
  ssrDataGetter = i;
}
var RADIAN_EPSILON = 1e-4, ROUND_SUPPORTED_PRECISION_MAX = 20;
function _trim(i) {
  return i.replace(/^\s+|\s+$/g, "");
}
function linearMap(i, r, n, o) {
  var a = r[0], u = r[1], c = n[0], d = n[1], f = u - a, p = d - c;
  if (f === 0)
    return p === 0 ? c : (c + d) / 2;
  if (o)
    if (f > 0) {
      if (i <= a)
        return c;
      if (i >= u)
        return d;
    } else {
      if (i >= a)
        return c;
      if (i <= u)
        return d;
    }
  else {
    if (i === a)
      return c;
    if (i === u)
      return d;
  }
  return (i - a) / f * p + c;
}
function parsePercent(i, r) {
  switch (i) {
    case "center":
    case "middle":
      i = "50%";
      break;
    case "left":
    case "top":
      i = "0%";
      break;
    case "right":
    case "bottom":
      i = "100%";
      break;
  }
  return isString$2(i) ? _trim(i).match(/%$/) ? parseFloat(i) / 100 * r : parseFloat(i) : i == null ? NaN : +i;
}
function round$2(i, r, n) {
  return r == null && (r = 10), r = Math.min(Math.max(0, r), ROUND_SUPPORTED_PRECISION_MAX), i = (+i).toFixed(r), n ? i : +i;
}
function getPrecision(i) {
  if (i = +i, isNaN(i))
    return 0;
  if (i > 1e-14) {
    for (var r = 1, n = 0; n < 15; n++, r *= 10)
      if (Math.round(i * r) / r === i)
        return n;
  }
  return getPrecisionSafe(i);
}
function getPrecisionSafe(i) {
  var r = i.toString().toLowerCase(), n = r.indexOf("e"), o = n > 0 ? +r.slice(n + 1) : 0, a = n > 0 ? n : r.length, u = r.indexOf("."), c = u < 0 ? 0 : a - 1 - u;
  return Math.max(0, c - o);
}
function getPercentSeats(i, r) {
  var n = reduce(i, function(y, b) {
    return y + (isNaN(b) ? 0 : b);
  }, 0);
  if (n === 0)
    return [];
  for (var o = Math.pow(10, r), a = map$1(i, function(y) {
    return (isNaN(y) ? 0 : y) / n * o * 100;
  }), u = o * 100, c = map$1(a, function(y) {
    return Math.floor(y);
  }), d = reduce(c, function(y, b) {
    return y + b;
  }, 0), f = map$1(a, function(y, b) {
    return y - c[b];
  }); d < u; ) {
    for (var p = Number.NEGATIVE_INFINITY, _ = null, v = 0, g = f.length; v < g; ++v)
      f[v] > p && (p = f[v], _ = v);
    ++c[_], f[_] = 0, ++d;
  }
  return map$1(c, function(y) {
    return y / o;
  });
}
function addSafe(i, r) {
  var n = Math.max(getPrecision(i), getPrecision(r)), o = i + r;
  return n > ROUND_SUPPORTED_PRECISION_MAX ? o : round$2(o, n);
}
function remRadian(i) {
  var r = Math.PI * 2;
  return (i % r + r) % r;
}
function isRadianAroundZero(i) {
  return i > -RADIAN_EPSILON && i < RADIAN_EPSILON;
}
var TIME_REG = /^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;
function parseDate(i) {
  if (i instanceof Date)
    return i;
  if (isString$2(i)) {
    var r = TIME_REG.exec(i);
    if (!r)
      return /* @__PURE__ */ new Date(NaN);
    if (r[8]) {
      var n = +r[4] || 0;
      return r[8].toUpperCase() !== "Z" && (n -= +r[8].slice(0, 3)), new Date(Date.UTC(+r[1], +(r[2] || 1) - 1, +r[3] || 1, n, +(r[5] || 0), +r[6] || 0, r[7] ? +r[7].substring(0, 3) : 0));
    } else
      return new Date(+r[1], +(r[2] || 1) - 1, +r[3] || 1, +r[4] || 0, +(r[5] || 0), +r[6] || 0, r[7] ? +r[7].substring(0, 3) : 0);
  } else if (i == null)
    return /* @__PURE__ */ new Date(NaN);
  return new Date(Math.round(i));
}
function numericToNumber(i) {
  var r = parseFloat(i);
  return r == i && (r !== 0 || !isString$2(i) || i.indexOf("x") <= 0) ? r : NaN;
}
function isNumeric(i) {
  return !isNaN(numericToNumber(i));
}
function getRandomIdBase() {
  return Math.round(Math.random() * 9);
}
function getGreatestCommonDividor(i, r) {
  return r === 0 ? i : getGreatestCommonDividor(r, i % r);
}
function getLeastCommonMultiple(i, r) {
  return i == null ? r : r == null ? i : i * r / getGreatestCommonDividor(i, r);
}
var ECHARTS_PREFIX = "[ECharts] ", storedLogs = {}, hasConsole = typeof console < "u" && console.warn && console.log;
function outputLog(i, r, n) {
  if (hasConsole) {
    if (n) {
      if (storedLogs[r])
        return;
      storedLogs[r] = !0;
    }
    console[i](ECHARTS_PREFIX + r);
  }
}
function log(i, r) {
  outputLog("log", i, r);
}
function warn(i, r) {
  outputLog("warn", i, r);
}
function error(i, r) {
  outputLog("error", i, r);
}
function deprecateLog(i) {
  process.env.NODE_ENV !== "production" && outputLog("warn", "DEPRECATED: " + i, !0);
}
function deprecateReplaceLog(i, r, n) {
  process.env.NODE_ENV !== "production" && deprecateLog((n ? "[" + n + "]" : "") + (i + " is deprecated, use " + r + " instead."));
}
function makePrintable() {
  for (var i = [], r = 0; r < arguments.length; r++)
    i[r] = arguments[r];
  var n = "";
  if (process.env.NODE_ENV !== "production") {
    var o = function(a) {
      return a === void 0 ? "undefined" : a === 1 / 0 ? "Infinity" : a === -1 / 0 ? "-Infinity" : eqNaN(a) ? "NaN" : a instanceof Date ? "Date(" + a.toISOString() + ")" : isFunction$1(a) ? "function () { ... }" : isRegExp(a) ? a + "" : null;
    };
    n = map$1(i, function(a) {
      if (isString$2(a))
        return a;
      var u = o(a);
      if (u != null)
        return u;
      if (typeof JSON < "u" && JSON.stringify)
        try {
          return JSON.stringify(a, function(c, d) {
            var f = o(d);
            return f ?? d;
          });
        } catch {
          return "?";
        }
      else
        return "?";
    }).join(" ");
  }
  return n;
}
function throwError$1(i) {
  throw new Error(i);
}
var DUMMY_COMPONENT_NAME_PREFIX = "series\0", INTERNAL_COMPONENT_ID_PREFIX = "\0_ec_\0";
function normalizeToArray(i) {
  return i instanceof Array ? i : i == null ? [] : [i];
}
function defaultEmphasis(i, r, n) {
  if (i) {
    i[r] = i[r] || {}, i.emphasis = i.emphasis || {}, i.emphasis[r] = i.emphasis[r] || {};
    for (var o = 0, a = n.length; o < a; o++) {
      var u = n[o];
      !i.emphasis[r].hasOwnProperty(u) && i[r].hasOwnProperty(u) && (i.emphasis[r][u] = i[r][u]);
    }
  }
}
var TEXT_STYLE_OPTIONS = ["fontStyle", "fontWeight", "fontSize", "fontFamily", "rich", "tag", "color", "textBorderColor", "textBorderWidth", "width", "height", "lineHeight", "align", "verticalAlign", "baseline", "shadowColor", "shadowBlur", "shadowOffsetX", "shadowOffsetY", "textShadowColor", "textShadowBlur", "textShadowOffsetX", "textShadowOffsetY", "backgroundColor", "borderColor", "borderWidth", "borderRadius", "padding"];
function getDataItemValue(i) {
  return isObject$3(i) && !isArray$1(i) && !(i instanceof Date) ? i.value : i;
}
function isDataItemOption(i) {
  return isObject$3(i) && !(i instanceof Array);
}
function mappingToExists(i, r, n) {
  var o = n === "normalMerge", a = n === "replaceMerge", u = n === "replaceAll";
  i = i || [], r = (r || []).slice();
  var c = createHashMap();
  each$4(r, function(f, p) {
    if (!isObject$3(f)) {
      r[p] = null;
      return;
    }
    process.env.NODE_ENV !== "production" && (f.id != null && !isValidIdOrName(f.id) && warnInvalidateIdOrName(f.id), f.name != null && !isValidIdOrName(f.name) && warnInvalidateIdOrName(f.name));
  });
  var d = prepareResult(i, c, n);
  return (o || a) && mappingById(d, i, c, r), o && mappingByName(d, r), o || a ? mappingByIndex(d, r, a) : u && mappingInReplaceAllMode(d, r), makeIdAndName(d), d;
}
function prepareResult(i, r, n) {
  var o = [];
  if (n === "replaceAll")
    return o;
  for (var a = 0; a < i.length; a++) {
    var u = i[a];
    u && u.id != null && r.set(u.id, a), o.push({
      existing: n === "replaceMerge" || isComponentIdInternal(u) ? null : u,
      newOption: null,
      keyInfo: null,
      brandNew: null
    });
  }
  return o;
}
function mappingById(i, r, n, o) {
  each$4(o, function(a, u) {
    if (!(!a || a.id == null)) {
      var c = makeComparableKey(a.id), d = n.get(c);
      if (d != null) {
        var f = i[d];
        assert(!f.newOption, 'Duplicated option on id "' + c + '".'), f.newOption = a, f.existing = r[d], o[u] = null;
      }
    }
  });
}
function mappingByName(i, r) {
  each$4(r, function(n, o) {
    if (!(!n || n.name == null))
      for (var a = 0; a < i.length; a++) {
        var u = i[a].existing;
        if (!i[a].newOption && u && (u.id == null || n.id == null) && !isComponentIdInternal(n) && !isComponentIdInternal(u) && keyExistAndEqual("name", u, n)) {
          i[a].newOption = n, r[o] = null;
          return;
        }
      }
  });
}
function mappingByIndex(i, r, n) {
  each$4(r, function(o) {
    if (o) {
      for (
        var a, u = 0;
        // Be `!resultItem` only when `nextIdx >= result.length`.
        (a = i[u]) && (a.newOption || isComponentIdInternal(a.existing) || // In mode "replaceMerge", here no not-mapped-non-internal-existing.
        a.existing && o.id != null && !keyExistAndEqual("id", o, a.existing));
      )
        u++;
      a ? (a.newOption = o, a.brandNew = n) : i.push({
        newOption: o,
        brandNew: n,
        existing: null,
        keyInfo: null
      }), u++;
    }
  });
}
function mappingInReplaceAllMode(i, r) {
  each$4(r, function(n) {
    i.push({
      newOption: n,
      brandNew: !0,
      existing: null,
      keyInfo: null
    });
  });
}
function makeIdAndName(i) {
  var r = createHashMap();
  each$4(i, function(n) {
    var o = n.existing;
    o && r.set(o.id, n);
  }), each$4(i, function(n) {
    var o = n.newOption;
    assert(!o || o.id == null || !r.get(o.id) || r.get(o.id) === n, "id duplicates: " + (o && o.id)), o && o.id != null && r.set(o.id, n), !n.keyInfo && (n.keyInfo = {});
  }), each$4(i, function(n, o) {
    var a = n.existing, u = n.newOption, c = n.keyInfo;
    if (isObject$3(u)) {
      if (c.name = u.name != null ? makeComparableKey(u.name) : a ? a.name : DUMMY_COMPONENT_NAME_PREFIX + o, a)
        c.id = makeComparableKey(a.id);
      else if (u.id != null)
        c.id = makeComparableKey(u.id);
      else {
        var d = 0;
        do
          c.id = "\0" + c.name + "\0" + d++;
        while (r.get(c.id));
      }
      r.set(c.id, n);
    }
  });
}
function keyExistAndEqual(i, r, n) {
  var o = convertOptionIdName(r[i], null), a = convertOptionIdName(n[i], null);
  return o != null && a != null && o === a;
}
function makeComparableKey(i) {
  if (process.env.NODE_ENV !== "production" && i == null)
    throw new Error();
  return convertOptionIdName(i, "");
}
function convertOptionIdName(i, r) {
  return i == null ? r : isString$2(i) ? i : isNumber$1(i) || isStringSafe(i) ? i + "" : r;
}
function warnInvalidateIdOrName(i) {
  process.env.NODE_ENV !== "production" && warn("`" + i + "` is invalid id or name. Must be a string or number.");
}
function isValidIdOrName(i) {
  return isStringSafe(i) || isNumeric(i);
}
function isNameSpecified(i) {
  var r = i.name;
  return !!(r && r.indexOf(DUMMY_COMPONENT_NAME_PREFIX));
}
function isComponentIdInternal(i) {
  return i && i.id != null && makeComparableKey(i.id).indexOf(INTERNAL_COMPONENT_ID_PREFIX) === 0;
}
function setComponentTypeToKeyInfo(i, r, n) {
  each$4(i, function(o) {
    var a = o.newOption;
    isObject$3(a) && (o.keyInfo.mainType = r, o.keyInfo.subType = determineSubType(r, a, o.existing, n));
  });
}
function determineSubType(i, r, n, o) {
  var a = r.type ? r.type : n ? n.subType : o.determineSubType(i, r);
  return a;
}
function queryDataIndex(i, r) {
  if (r.dataIndexInside != null)
    return r.dataIndexInside;
  if (r.dataIndex != null)
    return isArray$1(r.dataIndex) ? map$1(r.dataIndex, function(n) {
      return i.indexOfRawIndex(n);
    }) : i.indexOfRawIndex(r.dataIndex);
  if (r.name != null)
    return isArray$1(r.name) ? map$1(r.name, function(n) {
      return i.indexOfName(n);
    }) : i.indexOfName(r.name);
}
function makeInner() {
  var i = "__ec_inner_" + innerUniqueIndex++;
  return function(r) {
    return r[i] || (r[i] = {});
  };
}
var innerUniqueIndex = getRandomIdBase();
function parseFinder(i, r, n) {
  var o = preParseFinder(r, n), a = o.mainTypeSpecified, u = o.queryOptionMap, c = o.others, d = c, f = n ? n.defaultMainType : null;
  return !a && f && u.set(f, {}), u.each(function(p, _) {
    var v = queryReferringComponents(i, _, p, {
      useDefault: f === _,
      enableAll: n && n.enableAll != null ? n.enableAll : !0,
      enableNone: n && n.enableNone != null ? n.enableNone : !0
    });
    d[_ + "Models"] = v.models, d[_ + "Model"] = v.models[0];
  }), d;
}
function preParseFinder(i, r) {
  var n;
  if (isString$2(i)) {
    var o = {};
    o[i + "Index"] = 0, n = o;
  } else
    n = i;
  var a = createHashMap(), u = {}, c = !1;
  return each$4(n, function(d, f) {
    if (f === "dataIndex" || f === "dataIndexInside") {
      u[f] = d;
      return;
    }
    var p = f.match(/^(\w+)(Index|Id|Name)$/) || [], _ = p[1], v = (p[2] || "").toLowerCase();
    if (!(!_ || !v || r && r.includeMainTypes && indexOf(r.includeMainTypes, _) < 0)) {
      c = c || !!_;
      var g = a.get(_) || a.set(_, {});
      g[v] = d;
    }
  }), {
    mainTypeSpecified: c,
    queryOptionMap: a,
    others: u
  };
}
var SINGLE_REFERRING = {
  useDefault: !0,
  enableAll: !1,
  enableNone: !1
};
function queryReferringComponents(i, r, n, o) {
  o = o || SINGLE_REFERRING;
  var a = n.index, u = n.id, c = n.name, d = {
    models: null,
    specified: a != null || u != null || c != null
  };
  if (!d.specified) {
    var f = void 0;
    return d.models = o.useDefault && (f = i.getComponent(r)) ? [f] : [], d;
  }
  return a === "none" || a === !1 ? (assert(o.enableNone, '`"none"` or `false` is not a valid value on index option.'), d.models = [], d) : (a === "all" && (assert(o.enableAll, '`"all"` is not a valid value on index option.'), a = u = c = null), d.models = i.queryComponents({
    mainType: r,
    index: a,
    id: u,
    name: c
  }), d);
}
function setAttribute(i, r, n) {
  i.setAttribute ? i.setAttribute(r, n) : i[r] = n;
}
function getTooltipRenderMode(i) {
  return i === "auto" ? env$1.domSupported ? "html" : "richText" : i || "html";
}
var TYPE_DELIMITER = ".", IS_CONTAINER = "___EC__COMPONENT__CONTAINER___", IS_EXTENDED_CLASS = "___EC__EXTENDED_CLASS___";
function parseClassType(i) {
  var r = {
    main: "",
    sub: ""
  };
  if (i) {
    var n = i.split(TYPE_DELIMITER);
    r.main = n[0] || "", r.sub = n[1] || "";
  }
  return r;
}
function checkClassType(i) {
  assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(i), 'componentType "' + i + '" illegal');
}
function isExtendedClass(i) {
  return !!(i && i[IS_EXTENDED_CLASS]);
}
function enableClassExtend(i, r) {
  i.$constructor = i, i.extend = function(n) {
    process.env.NODE_ENV !== "production" && each$4(r, function(u) {
      n[u] || console.warn("Method `" + u + "` should be implemented" + (n.type ? " in " + n.type : "") + ".");
    });
    var o = this, a;
    return isESClass(o) ? a = /** @class */
    function(u) {
      __extends(c, u);
      function c() {
        return u.apply(this, arguments) || this;
      }
      return c;
    }(o) : (a = function() {
      (n.$constructor || o).apply(this, arguments);
    }, inherits(a, this)), extend(a.prototype, n), a[IS_EXTENDED_CLASS] = !0, a.extend = this.extend, a.superCall = superCall, a.superApply = superApply, a.superClass = o, a;
  };
}
function isESClass(i) {
  return isFunction$1(i) && /^class\s/.test(Function.prototype.toString.call(i));
}
function mountExtend(i, r) {
  i.extend = r.extend;
}
var classBase = Math.round(Math.random() * 10);
function enableClassCheck(i) {
  var r = ["__\0is_clz", classBase++].join("_");
  i.prototype[r] = !0, process.env.NODE_ENV !== "production" && assert(!i.isInstance, 'The method "is" can not be defined.'), i.isInstance = function(n) {
    return !!(n && n[r]);
  };
}
function superCall(i, r) {
  for (var n = [], o = 2; o < arguments.length; o++)
    n[o - 2] = arguments[o];
  return this.superClass.prototype[r].apply(i, n);
}
function superApply(i, r, n) {
  return this.superClass.prototype[r].apply(i, n);
}
function enableClassManagement(i) {
  var r = {};
  i.registerClass = function(o) {
    var a = o.type || o.prototype.type;
    if (a) {
      checkClassType(a), o.prototype.type = a;
      var u = parseClassType(a);
      if (!u.sub)
        process.env.NODE_ENV !== "production" && r[u.main] && console.warn(u.main + " exists."), r[u.main] = o;
      else if (u.sub !== IS_CONTAINER) {
        var c = n(u);
        c[u.sub] = o;
      }
    }
    return o;
  }, i.getClass = function(o, a, u) {
    var c = r[o];
    if (c && c[IS_CONTAINER] && (c = a ? c[a] : null), u && !c)
      throw new Error(a ? "Component " + o + "." + (a || "") + " is used but not imported." : o + ".type should be specified.");
    return c;
  }, i.getClassesByMainType = function(o) {
    var a = parseClassType(o), u = [], c = r[a.main];
    return c && c[IS_CONTAINER] ? each$4(c, function(d, f) {
      f !== IS_CONTAINER && u.push(d);
    }) : u.push(c), u;
  }, i.hasClass = function(o) {
    var a = parseClassType(o);
    return !!r[a.main];
  }, i.getAllClassMainTypes = function() {
    var o = [];
    return each$4(r, function(a, u) {
      o.push(u);
    }), o;
  }, i.hasSubTypes = function(o) {
    var a = parseClassType(o), u = r[a.main];
    return u && u[IS_CONTAINER];
  };
  function n(o) {
    var a = r[o.main];
    return (!a || !a[IS_CONTAINER]) && (a = r[o.main] = {}, a[IS_CONTAINER] = !0), a;
  }
}
function makeStyleMapper(i, r) {
  for (var n = 0; n < i.length; n++)
    i[n][1] || (i[n][1] = i[n][0]);
  return r = r || !1, function(o, a, u) {
    for (var c = {}, d = 0; d < i.length; d++) {
      var f = i[d][1];
      if (!(a && indexOf(a, f) >= 0 || u && indexOf(u, f) < 0)) {
        var p = o.getShallow(f, r);
        p != null && (c[i[d][0]] = p);
      }
    }
    return c;
  };
}
var AREA_STYLE_KEY_MAP = [
  ["fill", "color"],
  ["shadowBlur"],
  ["shadowOffsetX"],
  ["shadowOffsetY"],
  ["opacity"],
  ["shadowColor"]
  // Option decal is in `DecalObject` but style.decal is in `PatternObject`.
  // So do not transfer decal directly.
], getAreaStyle = makeStyleMapper(AREA_STYLE_KEY_MAP), AreaStyleMixin = (
  /** @class */
  function() {
    function i() {
    }
    return i.prototype.getAreaStyle = function(r, n) {
      return getAreaStyle(this, r, n);
    }, i;
  }()
), globalImageCache = new LRU$1(50);
function findExistImage(i) {
  if (typeof i == "string") {
    var r = globalImageCache.get(i);
    return r && r.image;
  } else
    return i;
}
function createOrUpdateImage(i, r, n, o, a) {
  if (i)
    if (typeof i == "string") {
      if (r && r.__zrImageSrc === i || !n)
        return r;
      var u = globalImageCache.get(i), c = { hostEl: n, cb: o, cbPayload: a };
      return u ? (r = u.image, !isImageReady(r) && u.pending.push(c)) : (r = platformApi.loadImage(i, imageOnLoad, imageOnLoad), r.__zrImageSrc = i, globalImageCache.put(i, r.__cachedImgObj = {
        image: r,
        pending: [c]
      })), r;
    } else
      return i;
  else
    return r;
}
function imageOnLoad() {
  var i = this.__cachedImgObj;
  this.onload = this.onerror = this.__cachedImgObj = null;
  for (var r = 0; r < i.pending.length; r++) {
    var n = i.pending[r], o = n.cb;
    o && o(this, n.cbPayload), n.hostEl.dirty();
  }
  i.pending.length = 0;
}
function isImageReady(i) {
  return i && i.width && i.height;
}
var STYLE_REG = /\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;
function truncateText(i, r, n, o, a) {
  if (!r)
    return "";
  var u = (i + "").split(`
`);
  a = prepareTruncateOptions(r, n, o, a);
  for (var c = 0, d = u.length; c < d; c++)
    u[c] = truncateSingleLine(u[c], a);
  return u.join(`
`);
}
function prepareTruncateOptions(i, r, n, o) {
  o = o || {};
  var a = extend({}, o);
  a.font = r, n = retrieve2(n, "..."), a.maxIterations = retrieve2(o.maxIterations, 2);
  var u = a.minChar = retrieve2(o.minChar, 0);
  a.cnCharWidth = getWidth("国", r);
  var c = a.ascCharWidth = getWidth("a", r);
  a.placeholder = retrieve2(o.placeholder, "");
  for (var d = i = Math.max(0, i - 1), f = 0; f < u && d >= c; f++)
    d -= c;
  var p = getWidth(n, r);
  return p > d && (n = "", p = 0), d = i - p, a.ellipsis = n, a.ellipsisWidth = p, a.contentWidth = d, a.containerWidth = i, a;
}
function truncateSingleLine(i, r) {
  var n = r.containerWidth, o = r.font, a = r.contentWidth;
  if (!n)
    return "";
  var u = getWidth(i, o);
  if (u <= n)
    return i;
  for (var c = 0; ; c++) {
    if (u <= a || c >= r.maxIterations) {
      i += r.ellipsis;
      break;
    }
    var d = c === 0 ? estimateLength(i, a, r.ascCharWidth, r.cnCharWidth) : u > 0 ? Math.floor(i.length * a / u) : 0;
    i = i.substr(0, d), u = getWidth(i, o);
  }
  return i === "" && (i = r.placeholder), i;
}
function estimateLength(i, r, n, o) {
  for (var a = 0, u = 0, c = i.length; u < c && a < r; u++) {
    var d = i.charCodeAt(u);
    a += 0 <= d && d <= 127 ? n : o;
  }
  return u;
}
function parsePlainText(i, r) {
  i != null && (i += "");
  var n = r.overflow, o = r.padding, a = r.font, u = n === "truncate", c = getLineHeight(a), d = retrieve2(r.lineHeight, c), f = !!r.backgroundColor, p = r.lineOverflow === "truncate", _ = r.width, v;
  _ != null && (n === "break" || n === "breakAll") ? v = i ? wrapText(i, r.font, _, n === "breakAll", 0).lines : [] : v = i ? i.split(`
`) : [];
  var g = v.length * d, y = retrieve2(r.height, g);
  if (g > y && p) {
    var b = Math.floor(y / d);
    v = v.slice(0, b);
  }
  if (i && u && _ != null)
    for (var A = prepareTruncateOptions(_, a, r.ellipsis, {
      minChar: r.truncateMinChar,
      placeholder: r.placeholder
    }), w = 0; w < v.length; w++)
      v[w] = truncateSingleLine(v[w], A);
  for (var S = y, T = 0, w = 0; w < v.length; w++)
    T = Math.max(getWidth(v[w], a), T);
  _ == null && (_ = T);
  var x = T;
  return o && (S += o[0] + o[2], x += o[1] + o[3], _ += o[1] + o[3]), f && (x = _), {
    lines: v,
    height: y,
    outerWidth: x,
    outerHeight: S,
    lineHeight: d,
    calculatedLineHeight: c,
    contentWidth: T,
    contentHeight: g,
    width: _
  };
}
var RichTextToken = function() {
  function i() {
  }
  return i;
}(), RichTextLine = function() {
  function i(r) {
    this.tokens = [], r && (this.tokens = r);
  }
  return i;
}(), RichTextContentBlock = function() {
  function i() {
    this.width = 0, this.height = 0, this.contentWidth = 0, this.contentHeight = 0, this.outerWidth = 0, this.outerHeight = 0, this.lines = [];
  }
  return i;
}();
function parseRichText(i, r) {
  var n = new RichTextContentBlock();
  if (i != null && (i += ""), !i)
    return n;
  for (var o = r.width, a = r.height, u = r.overflow, c = (u === "break" || u === "breakAll") && o != null ? { width: o, accumWidth: 0, breakAll: u === "breakAll" } : null, d = STYLE_REG.lastIndex = 0, f; (f = STYLE_REG.exec(i)) != null; ) {
    var p = f.index;
    p > d && pushTokens(n, i.substring(d, p), r, c), pushTokens(n, f[2], r, c, f[1]), d = STYLE_REG.lastIndex;
  }
  d < i.length && pushTokens(n, i.substring(d, i.length), r, c);
  var _ = [], v = 0, g = 0, y = r.padding, b = u === "truncate", A = r.lineOverflow === "truncate";
  function w(Fe, Oe, Lt) {
    Fe.width = Oe, Fe.lineHeight = Lt, v += Lt, g = Math.max(g, Oe);
  }
  e:
    for (var S = 0; S < n.lines.length; S++) {
      for (var T = n.lines[S], x = 0, L = 0, O = 0; O < T.tokens.length; O++) {
        var M = T.tokens[O], k = M.styleName && r.rich[M.styleName] || {}, ie = M.textPadding = k.padding, $ = ie ? ie[1] + ie[3] : 0, Y = M.font = k.font || r.font;
        M.contentHeight = getLineHeight(Y);
        var D = retrieve2(k.height, M.contentHeight);
        if (M.innerHeight = D, ie && (D += ie[0] + ie[2]), M.height = D, M.lineHeight = retrieve3(k.lineHeight, r.lineHeight, D), M.align = k && k.align || r.align, M.verticalAlign = k && k.verticalAlign || "middle", A && a != null && v + M.lineHeight > a) {
          O > 0 ? (T.tokens = T.tokens.slice(0, O), w(T, L, x), n.lines = n.lines.slice(0, S + 1)) : n.lines = n.lines.slice(0, S);
          break e;
        }
        var re = k.width, F = re == null || re === "auto";
        if (typeof re == "string" && re.charAt(re.length - 1) === "%")
          M.percentWidth = re, _.push(M), M.contentWidth = getWidth(M.text, Y);
        else {
          if (F) {
            var _e = k.backgroundColor, ue = _e && _e.image;
            ue && (ue = findExistImage(ue), isImageReady(ue) && (M.width = Math.max(M.width, ue.width * D / ue.height)));
          }
          var Ie = b && o != null ? o - L : null;
          Ie != null && Ie < M.width ? !F || Ie < $ ? (M.text = "", M.width = M.contentWidth = 0) : (M.text = truncateText(M.text, Ie - $, Y, r.ellipsis, { minChar: r.truncateMinChar }), M.width = M.contentWidth = getWidth(M.text, Y)) : M.contentWidth = getWidth(M.text, Y);
        }
        M.width += $, L += M.width, k && (x = Math.max(x, M.lineHeight));
      }
      w(T, L, x);
    }
  n.outerWidth = n.width = retrieve2(o, g), n.outerHeight = n.height = retrieve2(a, v), n.contentHeight = v, n.contentWidth = g, y && (n.outerWidth += y[1] + y[3], n.outerHeight += y[0] + y[2]);
  for (var S = 0; S < _.length; S++) {
    var M = _[S], ze = M.percentWidth;
    M.width = parseInt(ze, 10) / 100 * n.width;
  }
  return n;
}
function pushTokens(i, r, n, o, a) {
  var u = r === "", c = a && n.rich[a] || {}, d = i.lines, f = c.font || n.font, p = !1, _, v;
  if (o) {
    var g = c.padding, y = g ? g[1] + g[3] : 0;
    if (c.width != null && c.width !== "auto") {
      var b = parsePercent$1(c.width, o.width) + y;
      d.length > 0 && b + o.accumWidth > o.width && (_ = r.split(`
`), p = !0), o.accumWidth = b;
    } else {
      var A = wrapText(r, f, o.width, o.breakAll, o.accumWidth);
      o.accumWidth = A.accumWidth + y, v = A.linesWidths, _ = A.lines;
    }
  } else
    _ = r.split(`
`);
  for (var w = 0; w < _.length; w++) {
    var S = _[w], T = new RichTextToken();
    if (T.styleName = a, T.text = S, T.isLineHolder = !S && !u, typeof c.width == "number" ? T.width = c.width : T.width = v ? v[w] : getWidth(S, f), !w && !p) {
      var x = (d[d.length - 1] || (d[0] = new RichTextLine())).tokens, L = x.length;
      L === 1 && x[0].isLineHolder ? x[0] = T : (S || !L || u) && x.push(T);
    } else
      d.push(new RichTextLine([T]));
  }
}
function isAlphabeticLetter(i) {
  var r = i.charCodeAt(0);
  return r >= 32 && r <= 591 || r >= 880 && r <= 4351 || r >= 4608 && r <= 5119 || r >= 7680 && r <= 8303;
}
var breakCharMap = reduce(",&?/;] ".split(""), function(i, r) {
  return i[r] = !0, i;
}, {});
function isWordBreakChar(i) {
  return isAlphabeticLetter(i) ? !!breakCharMap[i] : !0;
}
function wrapText(i, r, n, o, a) {
  for (var u = [], c = [], d = "", f = "", p = 0, _ = 0, v = 0; v < i.length; v++) {
    var g = i.charAt(v);
    if (g === `
`) {
      f && (d += f, _ += p), u.push(d), c.push(_), d = "", f = "", p = 0, _ = 0;
      continue;
    }
    var y = getWidth(g, r), b = o ? !1 : !isWordBreakChar(g);
    if (u.length ? _ + y > n : a + _ + y > n) {
      _ ? (d || f) && (b ? (d || (d = f, f = "", p = 0, _ = p), u.push(d), c.push(_ - p), f += g, p += y, d = "", _ = p) : (f && (d += f, f = "", p = 0), u.push(d), c.push(_), d = g, _ = y)) : b ? (u.push(f), c.push(p), f = g, p = y) : (u.push(g), c.push(y));
      continue;
    }
    _ += y, b ? (f += g, p += y) : (f && (d += f, f = "", p = 0), d += g);
  }
  return !u.length && !d && (d = i, f = "", p = 0), f && (d += f), d && (u.push(d), c.push(_)), u.length === 1 && (_ += a), {
    accumWidth: _,
    lines: u,
    linesWidths: c
  };
}
var STYLE_MAGIC_KEY = "__zr_style_" + Math.round(Math.random() * 10), DEFAULT_COMMON_STYLE = {
  shadowBlur: 0,
  shadowOffsetX: 0,
  shadowOffsetY: 0,
  shadowColor: "#000",
  opacity: 1,
  blend: "source-over"
}, DEFAULT_COMMON_ANIMATION_PROPS = {
  style: {
    shadowBlur: !0,
    shadowOffsetX: !0,
    shadowOffsetY: !0,
    shadowColor: !0,
    opacity: !0
  }
};
DEFAULT_COMMON_STYLE[STYLE_MAGIC_KEY] = !0;
var PRIMARY_STATES_KEYS = ["z", "z2", "invisible"], PRIMARY_STATES_KEYS_IN_HOVER_LAYER = ["invisible"], Displayable = function(i) {
  __extends(r, i);
  function r(n) {
    return i.call(this, n) || this;
  }
  return r.prototype._init = function(n) {
    for (var o = keys(n), a = 0; a < o.length; a++) {
      var u = o[a];
      u === "style" ? this.useStyle(n[u]) : i.prototype.attrKV.call(this, u, n[u]);
    }
    this.style || this.useStyle({});
  }, r.prototype.beforeBrush = function() {
  }, r.prototype.afterBrush = function() {
  }, r.prototype.innerBeforeBrush = function() {
  }, r.prototype.innerAfterBrush = function() {
  }, r.prototype.shouldBePainted = function(n, o, a, u) {
    var c = this.transform;
    if (this.ignore || this.invisible || this.style.opacity === 0 || this.culling && isDisplayableCulled(this, n, o) || c && !c[0] && !c[3])
      return !1;
    if (a && this.__clipPaths) {
      for (var d = 0; d < this.__clipPaths.length; ++d)
        if (this.__clipPaths[d].isZeroArea())
          return !1;
    }
    if (u && this.parent)
      for (var f = this.parent; f; ) {
        if (f.ignore)
          return !1;
        f = f.parent;
      }
    return !0;
  }, r.prototype.contain = function(n, o) {
    return this.rectContain(n, o);
  }, r.prototype.traverse = function(n, o) {
    n.call(o, this);
  }, r.prototype.rectContain = function(n, o) {
    var a = this.transformCoordToLocal(n, o), u = this.getBoundingRect();
    return u.contain(a[0], a[1]);
  }, r.prototype.getPaintRect = function() {
    var n = this._paintRect;
    if (!this._paintRect || this.__dirty) {
      var o = this.transform, a = this.getBoundingRect(), u = this.style, c = u.shadowBlur || 0, d = u.shadowOffsetX || 0, f = u.shadowOffsetY || 0;
      n = this._paintRect || (this._paintRect = new BoundingRect$1(0, 0, 0, 0)), o ? BoundingRect$1.applyTransform(n, a, o) : n.copy(a), (c || d || f) && (n.width += c * 2 + Math.abs(d), n.height += c * 2 + Math.abs(f), n.x = Math.min(n.x, n.x + d - c), n.y = Math.min(n.y, n.y + f - c));
      var p = this.dirtyRectTolerance;
      n.isZero() || (n.x = Math.floor(n.x - p), n.y = Math.floor(n.y - p), n.width = Math.ceil(n.width + 1 + p * 2), n.height = Math.ceil(n.height + 1 + p * 2));
    }
    return n;
  }, r.prototype.setPrevPaintRect = function(n) {
    n ? (this._prevPaintRect = this._prevPaintRect || new BoundingRect$1(0, 0, 0, 0), this._prevPaintRect.copy(n)) : this._prevPaintRect = null;
  }, r.prototype.getPrevPaintRect = function() {
    return this._prevPaintRect;
  }, r.prototype.animateStyle = function(n) {
    return this.animate("style", n);
  }, r.prototype.updateDuringAnimation = function(n) {
    n === "style" ? this.dirtyStyle() : this.markRedraw();
  }, r.prototype.attrKV = function(n, o) {
    n !== "style" ? i.prototype.attrKV.call(this, n, o) : this.style ? this.setStyle(o) : this.useStyle(o);
  }, r.prototype.setStyle = function(n, o) {
    return typeof n == "string" ? this.style[n] = o : extend(this.style, n), this.dirtyStyle(), this;
  }, r.prototype.dirtyStyle = function(n) {
    n || this.markRedraw(), this.__dirty |= STYLE_CHANGED_BIT, this._rect && (this._rect = null);
  }, r.prototype.dirty = function() {
    this.dirtyStyle();
  }, r.prototype.styleChanged = function() {
    return !!(this.__dirty & STYLE_CHANGED_BIT);
  }, r.prototype.styleUpdated = function() {
    this.__dirty &= ~STYLE_CHANGED_BIT;
  }, r.prototype.createStyle = function(n) {
    return createObject(DEFAULT_COMMON_STYLE, n);
  }, r.prototype.useStyle = function(n) {
    n[STYLE_MAGIC_KEY] || (n = this.createStyle(n)), this.__inHover ? this.__hoverStyle = n : this.style = n, this.dirtyStyle();
  }, r.prototype.isStyleObject = function(n) {
    return n[STYLE_MAGIC_KEY];
  }, r.prototype._innerSaveToNormal = function(n) {
    i.prototype._innerSaveToNormal.call(this, n);
    var o = this._normalState;
    n.style && !o.style && (o.style = this._mergeStyle(this.createStyle(), this.style)), this._savePrimaryToNormal(n, o, PRIMARY_STATES_KEYS);
  }, r.prototype._applyStateObj = function(n, o, a, u, c, d) {
    i.prototype._applyStateObj.call(this, n, o, a, u, c, d);
    var f = !(o && u), p;
    if (o && o.style ? c ? u ? p = o.style : (p = this._mergeStyle(this.createStyle(), a.style), this._mergeStyle(p, o.style)) : (p = this._mergeStyle(this.createStyle(), u ? this.style : a.style), this._mergeStyle(p, o.style)) : f && (p = a.style), p)
      if (c) {
        var _ = this.style;
        if (this.style = this.createStyle(f ? {} : _), f)
          for (var v = keys(_), g = 0; g < v.length; g++) {
            var y = v[g];
            y in p && (p[y] = p[y], this.style[y] = _[y]);
          }
        for (var b = keys(p), g = 0; g < b.length; g++) {
          var y = b[g];
          this.style[y] = this.style[y];
        }
        this._transitionState(n, {
          style: p
        }, d, this.getAnimationStyleProps());
      } else
        this.useStyle(p);
    for (var A = this.__inHover ? PRIMARY_STATES_KEYS_IN_HOVER_LAYER : PRIMARY_STATES_KEYS, g = 0; g < A.length; g++) {
      var y = A[g];
      o && o[y] != null ? this[y] = o[y] : f && a[y] != null && (this[y] = a[y]);
    }
  }, r.prototype._mergeStates = function(n) {
    for (var o = i.prototype._mergeStates.call(this, n), a, u = 0; u < n.length; u++) {
      var c = n[u];
      c.style && (a = a || {}, this._mergeStyle(a, c.style));
    }
    return a && (o.style = a), o;
  }, r.prototype._mergeStyle = function(n, o) {
    return extend(n, o), n;
  }, r.prototype.getAnimationStyleProps = function() {
    return DEFAULT_COMMON_ANIMATION_PROPS;
  }, r.initDefaultProps = function() {
    var n = r.prototype;
    n.type = "displayable", n.invisible = !1, n.z = 0, n.z2 = 0, n.zlevel = 0, n.culling = !1, n.cursor = "pointer", n.rectHover = !1, n.incremental = !1, n._rect = null, n.dirtyRectTolerance = 0, n.__dirty = REDRAW_BIT | STYLE_CHANGED_BIT;
  }(), r;
}(Element$2), tmpRect = new BoundingRect$1(0, 0, 0, 0), viewRect = new BoundingRect$1(0, 0, 0, 0);
function isDisplayableCulled(i, r, n) {
  return tmpRect.copy(i.getBoundingRect()), i.transform && tmpRect.applyTransform(i.transform), viewRect.width = r, viewRect.height = n, !tmpRect.intersect(viewRect);
}
const Displayable$1 = Displayable;
var mathMin$3 = Math.min, mathMax$3 = Math.max, mathSin$4 = Math.sin, mathCos$4 = Math.cos, PI2$7 = Math.PI * 2, start = create$1(), end = create$1(), extremity = create$1();
function fromLine(i, r, n, o, a, u) {
  a[0] = mathMin$3(i, n), a[1] = mathMin$3(r, o), u[0] = mathMax$3(i, n), u[1] = mathMax$3(r, o);
}
var xDim = [], yDim = [];
function fromCubic(i, r, n, o, a, u, c, d, f, p) {
  var _ = cubicExtrema, v = cubicAt, g = _(i, n, a, c, xDim);
  f[0] = 1 / 0, f[1] = 1 / 0, p[0] = -1 / 0, p[1] = -1 / 0;
  for (var y = 0; y < g; y++) {
    var b = v(i, n, a, c, xDim[y]);
    f[0] = mathMin$3(b, f[0]), p[0] = mathMax$3(b, p[0]);
  }
  g = _(r, o, u, d, yDim);
  for (var y = 0; y < g; y++) {
    var A = v(r, o, u, d, yDim[y]);
    f[1] = mathMin$3(A, f[1]), p[1] = mathMax$3(A, p[1]);
  }
  f[0] = mathMin$3(i, f[0]), p[0] = mathMax$3(i, p[0]), f[0] = mathMin$3(c, f[0]), p[0] = mathMax$3(c, p[0]), f[1] = mathMin$3(r, f[1]), p[1] = mathMax$3(r, p[1]), f[1] = mathMin$3(d, f[1]), p[1] = mathMax$3(d, p[1]);
}
function fromQuadratic(i, r, n, o, a, u, c, d) {
  var f = quadraticExtremum, p = quadraticAt, _ = mathMax$3(mathMin$3(f(i, n, a), 1), 0), v = mathMax$3(mathMin$3(f(r, o, u), 1), 0), g = p(i, n, a, _), y = p(r, o, u, v);
  c[0] = mathMin$3(i, a, g), c[1] = mathMin$3(r, u, y), d[0] = mathMax$3(i, a, g), d[1] = mathMax$3(r, u, y);
}
function fromArc(i, r, n, o, a, u, c, d, f) {
  var p = min$1, _ = max$1, v = Math.abs(a - u);
  if (v % PI2$7 < 1e-4 && v > 1e-4) {
    d[0] = i - n, d[1] = r - o, f[0] = i + n, f[1] = r + o;
    return;
  }
  if (start[0] = mathCos$4(a) * n + i, start[1] = mathSin$4(a) * o + r, end[0] = mathCos$4(u) * n + i, end[1] = mathSin$4(u) * o + r, p(d, start, end), _(f, start, end), a = a % PI2$7, a < 0 && (a = a + PI2$7), u = u % PI2$7, u < 0 && (u = u + PI2$7), a > u && !c ? u += PI2$7 : a < u && c && (a += PI2$7), c) {
    var g = u;
    u = a, a = g;
  }
  for (var y = 0; y < u; y += Math.PI / 2)
    y > a && (extremity[0] = mathCos$4(y) * n + i, extremity[1] = mathSin$4(y) * o + r, p(d, extremity, d), _(f, extremity, f));
}
var CMD$2 = {
  M: 1,
  L: 2,
  C: 3,
  Q: 4,
  A: 5,
  Z: 6,
  R: 7
}, tmpOutX = [], tmpOutY = [], min = [], max = [], min2 = [], max2 = [], mathMin$2 = Math.min, mathMax$2 = Math.max, mathCos$3 = Math.cos, mathSin$3 = Math.sin, mathAbs$1 = Math.abs, PI$5 = Math.PI, PI2$6 = PI$5 * 2, hasTypedArray = typeof Float32Array < "u", tmpAngles = [];
function modPI2(i) {
  var r = Math.round(i / PI$5 * 1e8) / 1e8;
  return r % 2 * PI$5;
}
function normalizeArcAngles(i, r) {
  var n = modPI2(i[0]);
  n < 0 && (n += PI2$6);
  var o = n - i[0], a = i[1];
  a += o, !r && a - n >= PI2$6 ? a = n + PI2$6 : r && n - a >= PI2$6 ? a = n - PI2$6 : !r && n > a ? a = n + (PI2$6 - modPI2(n - a)) : r && n < a && (a = n - (PI2$6 - modPI2(a - n))), i[0] = n, i[1] = a;
}
var PathProxy = function() {
  function i(r) {
    this.dpr = 1, this._xi = 0, this._yi = 0, this._x0 = 0, this._y0 = 0, this._len = 0, r && (this._saveData = !1), this._saveData && (this.data = []);
  }
  return i.prototype.increaseVersion = function() {
    this._version++;
  }, i.prototype.getVersion = function() {
    return this._version;
  }, i.prototype.setScale = function(r, n, o) {
    o = o || 0, o > 0 && (this._ux = mathAbs$1(o / devicePixelRatio / r) || 0, this._uy = mathAbs$1(o / devicePixelRatio / n) || 0);
  }, i.prototype.setDPR = function(r) {
    this.dpr = r;
  }, i.prototype.setContext = function(r) {
    this._ctx = r;
  }, i.prototype.getContext = function() {
    return this._ctx;
  }, i.prototype.beginPath = function() {
    return this._ctx && this._ctx.beginPath(), this.reset(), this;
  }, i.prototype.reset = function() {
    this._saveData && (this._len = 0), this._pathSegLen && (this._pathSegLen = null, this._pathLen = 0), this._version++;
  }, i.prototype.moveTo = function(r, n) {
    return this._drawPendingPt(), this.addData(CMD$2.M, r, n), this._ctx && this._ctx.moveTo(r, n), this._x0 = r, this._y0 = n, this._xi = r, this._yi = n, this;
  }, i.prototype.lineTo = function(r, n) {
    var o = mathAbs$1(r - this._xi), a = mathAbs$1(n - this._yi), u = o > this._ux || a > this._uy;
    if (this.addData(CMD$2.L, r, n), this._ctx && u && this._ctx.lineTo(r, n), u)
      this._xi = r, this._yi = n, this._pendingPtDist = 0;
    else {
      var c = o * o + a * a;
      c > this._pendingPtDist && (this._pendingPtX = r, this._pendingPtY = n, this._pendingPtDist = c);
    }
    return this;
  }, i.prototype.bezierCurveTo = function(r, n, o, a, u, c) {
    return this._drawPendingPt(), this.addData(CMD$2.C, r, n, o, a, u, c), this._ctx && this._ctx.bezierCurveTo(r, n, o, a, u, c), this._xi = u, this._yi = c, this;
  }, i.prototype.quadraticCurveTo = function(r, n, o, a) {
    return this._drawPendingPt(), this.addData(CMD$2.Q, r, n, o, a), this._ctx && this._ctx.quadraticCurveTo(r, n, o, a), this._xi = o, this._yi = a, this;
  }, i.prototype.arc = function(r, n, o, a, u, c) {
    this._drawPendingPt(), tmpAngles[0] = a, tmpAngles[1] = u, normalizeArcAngles(tmpAngles, c), a = tmpAngles[0], u = tmpAngles[1];
    var d = u - a;
    return this.addData(CMD$2.A, r, n, o, o, a, d, 0, c ? 0 : 1), this._ctx && this._ctx.arc(r, n, o, a, u, c), this._xi = mathCos$3(u) * o + r, this._yi = mathSin$3(u) * o + n, this;
  }, i.prototype.arcTo = function(r, n, o, a, u) {
    return this._drawPendingPt(), this._ctx && this._ctx.arcTo(r, n, o, a, u), this;
  }, i.prototype.rect = function(r, n, o, a) {
    return this._drawPendingPt(), this._ctx && this._ctx.rect(r, n, o, a), this.addData(CMD$2.R, r, n, o, a), this;
  }, i.prototype.closePath = function() {
    this._drawPendingPt(), this.addData(CMD$2.Z);
    var r = this._ctx, n = this._x0, o = this._y0;
    return r && r.closePath(), this._xi = n, this._yi = o, this;
  }, i.prototype.fill = function(r) {
    r && r.fill(), this.toStatic();
  }, i.prototype.stroke = function(r) {
    r && r.stroke(), this.toStatic();
  }, i.prototype.len = function() {
    return this._len;
  }, i.prototype.setData = function(r) {
    var n = r.length;
    !(this.data && this.data.length === n) && hasTypedArray && (this.data = new Float32Array(n));
    for (var o = 0; o < n; o++)
      this.data[o] = r[o];
    this._len = n;
  }, i.prototype.appendPath = function(r) {
    r instanceof Array || (r = [r]);
    for (var n = r.length, o = 0, a = this._len, u = 0; u < n; u++)
      o += r[u].len();
    hasTypedArray && this.data instanceof Float32Array && (this.data = new Float32Array(a + o));
    for (var u = 0; u < n; u++)
      for (var c = r[u].data, d = 0; d < c.length; d++)
        this.data[a++] = c[d];
    this._len = a;
  }, i.prototype.addData = function(r, n, o, a, u, c, d, f, p) {
    if (this._saveData) {
      var _ = this.data;
      this._len + arguments.length > _.length && (this._expandData(), _ = this.data);
      for (var v = 0; v < arguments.length; v++)
        _[this._len++] = arguments[v];
    }
  }, i.prototype._drawPendingPt = function() {
    this._pendingPtDist > 0 && (this._ctx && this._ctx.lineTo(this._pendingPtX, this._pendingPtY), this._pendingPtDist = 0);
  }, i.prototype._expandData = function() {
    if (!(this.data instanceof Array)) {
      for (var r = [], n = 0; n < this._len; n++)
        r[n] = this.data[n];
      this.data = r;
    }
  }, i.prototype.toStatic = function() {
    if (this._saveData) {
      this._drawPendingPt();
      var r = this.data;
      r instanceof Array && (r.length = this._len, hasTypedArray && this._len > 11 && (this.data = new Float32Array(r)));
    }
  }, i.prototype.getBoundingRect = function() {
    min[0] = min[1] = min2[0] = min2[1] = Number.MAX_VALUE, max[0] = max[1] = max2[0] = max2[1] = -Number.MAX_VALUE;
    var r = this.data, n = 0, o = 0, a = 0, u = 0, c;
    for (c = 0; c < this._len; ) {
      var d = r[c++], f = c === 1;
      switch (f && (n = r[c], o = r[c + 1], a = n, u = o), d) {
        case CMD$2.M:
          n = a = r[c++], o = u = r[c++], min2[0] = a, min2[1] = u, max2[0] = a, max2[1] = u;
          break;
        case CMD$2.L:
          fromLine(n, o, r[c], r[c + 1], min2, max2), n = r[c++], o = r[c++];
          break;
        case CMD$2.C:
          fromCubic(n, o, r[c++], r[c++], r[c++], r[c++], r[c], r[c + 1], min2, max2), n = r[c++], o = r[c++];
          break;
        case CMD$2.Q:
          fromQuadratic(n, o, r[c++], r[c++], r[c], r[c + 1], min2, max2), n = r[c++], o = r[c++];
          break;
        case CMD$2.A:
          var p = r[c++], _ = r[c++], v = r[c++], g = r[c++], y = r[c++], b = r[c++] + y;
          c += 1;
          var A = !r[c++];
          f && (a = mathCos$3(y) * v + p, u = mathSin$3(y) * g + _), fromArc(p, _, v, g, y, b, A, min2, max2), n = mathCos$3(b) * v + p, o = mathSin$3(b) * g + _;
          break;
        case CMD$2.R:
          a = n = r[c++], u = o = r[c++];
          var w = r[c++], S = r[c++];
          fromLine(a, u, a + w, u + S, min2, max2);
          break;
        case CMD$2.Z:
          n = a, o = u;
          break;
      }
      min$1(min, min, min2), max$1(max, max, max2);
    }
    return c === 0 && (min[0] = min[1] = max[0] = max[1] = 0), new BoundingRect$1(min[0], min[1], max[0] - min[0], max[1] - min[1]);
  }, i.prototype._calculateLength = function() {
    var r = this.data, n = this._len, o = this._ux, a = this._uy, u = 0, c = 0, d = 0, f = 0;
    this._pathSegLen || (this._pathSegLen = []);
    for (var p = this._pathSegLen, _ = 0, v = 0, g = 0; g < n; ) {
      var y = r[g++], b = g === 1;
      b && (u = r[g], c = r[g + 1], d = u, f = c);
      var A = -1;
      switch (y) {
        case CMD$2.M:
          u = d = r[g++], c = f = r[g++];
          break;
        case CMD$2.L: {
          var w = r[g++], S = r[g++], T = w - u, x = S - c;
          (mathAbs$1(T) > o || mathAbs$1(x) > a || g === n - 1) && (A = Math.sqrt(T * T + x * x), u = w, c = S);
          break;
        }
        case CMD$2.C: {
          var L = r[g++], O = r[g++], w = r[g++], S = r[g++], M = r[g++], k = r[g++];
          A = cubicLength(u, c, L, O, w, S, M, k, 10), u = M, c = k;
          break;
        }
        case CMD$2.Q: {
          var L = r[g++], O = r[g++], w = r[g++], S = r[g++];
          A = quadraticLength(u, c, L, O, w, S, 10), u = w, c = S;
          break;
        }
        case CMD$2.A:
          var ie = r[g++], $ = r[g++], Y = r[g++], D = r[g++], re = r[g++], F = r[g++], _e = F + re;
          g += 1, b && (d = mathCos$3(re) * Y + ie, f = mathSin$3(re) * D + $), A = mathMax$2(Y, D) * mathMin$2(PI2$6, Math.abs(F)), u = mathCos$3(_e) * Y + ie, c = mathSin$3(_e) * D + $;
          break;
        case CMD$2.R: {
          d = u = r[g++], f = c = r[g++];
          var ue = r[g++], Ie = r[g++];
          A = ue * 2 + Ie * 2;
          break;
        }
        case CMD$2.Z: {
          var T = d - u, x = f - c;
          A = Math.sqrt(T * T + x * x), u = d, c = f;
          break;
        }
      }
      A >= 0 && (p[v++] = A, _ += A);
    }
    return this._pathLen = _, _;
  }, i.prototype.rebuildPath = function(r, n) {
    var o = this.data, a = this._ux, u = this._uy, c = this._len, d, f, p, _, v, g, y = n < 1, b, A, w = 0, S = 0, T, x = 0, L, O;
    if (!(y && (this._pathSegLen || this._calculateLength(), b = this._pathSegLen, A = this._pathLen, T = n * A, !T)))
      e:
        for (var M = 0; M < c; ) {
          var k = o[M++], ie = M === 1;
          switch (ie && (p = o[M], _ = o[M + 1], d = p, f = _), k !== CMD$2.L && x > 0 && (r.lineTo(L, O), x = 0), k) {
            case CMD$2.M:
              d = p = o[M++], f = _ = o[M++], r.moveTo(p, _);
              break;
            case CMD$2.L: {
              v = o[M++], g = o[M++];
              var $ = mathAbs$1(v - p), Y = mathAbs$1(g - _);
              if ($ > a || Y > u) {
                if (y) {
                  var D = b[S++];
                  if (w + D > T) {
                    var re = (T - w) / D;
                    r.lineTo(p * (1 - re) + v * re, _ * (1 - re) + g * re);
                    break e;
                  }
                  w += D;
                }
                r.lineTo(v, g), p = v, _ = g, x = 0;
              } else {
                var F = $ * $ + Y * Y;
                F > x && (L = v, O = g, x = F);
              }
              break;
            }
            case CMD$2.C: {
              var _e = o[M++], ue = o[M++], Ie = o[M++], ze = o[M++], Fe = o[M++], Oe = o[M++];
              if (y) {
                var D = b[S++];
                if (w + D > T) {
                  var re = (T - w) / D;
                  cubicSubdivide(p, _e, Ie, Fe, re, tmpOutX), cubicSubdivide(_, ue, ze, Oe, re, tmpOutY), r.bezierCurveTo(tmpOutX[1], tmpOutY[1], tmpOutX[2], tmpOutY[2], tmpOutX[3], tmpOutY[3]);
                  break e;
                }
                w += D;
              }
              r.bezierCurveTo(_e, ue, Ie, ze, Fe, Oe), p = Fe, _ = Oe;
              break;
            }
            case CMD$2.Q: {
              var _e = o[M++], ue = o[M++], Ie = o[M++], ze = o[M++];
              if (y) {
                var D = b[S++];
                if (w + D > T) {
                  var re = (T - w) / D;
                  quadraticSubdivide(p, _e, Ie, re, tmpOutX), quadraticSubdivide(_, ue, ze, re, tmpOutY), r.quadraticCurveTo(tmpOutX[1], tmpOutY[1], tmpOutX[2], tmpOutY[2]);
                  break e;
                }
                w += D;
              }
              r.quadraticCurveTo(_e, ue, Ie, ze), p = Ie, _ = ze;
              break;
            }
            case CMD$2.A:
              var Lt = o[M++], pe = o[M++], Cn = o[M++], In = o[M++], Dt = o[M++], he = o[M++], Et = o[M++], hn = !o[M++], vn = Cn > In ? Cn : In, kt = mathAbs$1(Cn - In) > 1e-3, Ce = Dt + he, de = !1;
              if (y) {
                var D = b[S++];
                w + D > T && (Ce = Dt + he * (T - w) / D, de = !0), w += D;
              }
              if (kt && r.ellipse ? r.ellipse(Lt, pe, Cn, In, Et, Dt, Ce, hn) : r.arc(Lt, pe, vn, Dt, Ce, hn), de)
                break e;
              ie && (d = mathCos$3(Dt) * Cn + Lt, f = mathSin$3(Dt) * In + pe), p = mathCos$3(Ce) * Cn + Lt, _ = mathSin$3(Ce) * In + pe;
              break;
            case CMD$2.R:
              d = p = o[M], f = _ = o[M + 1], v = o[M++], g = o[M++];
              var Ue = o[M++], Ne = o[M++];
              if (y) {
                var D = b[S++];
                if (w + D > T) {
                  var Ve = T - w;
                  r.moveTo(v, g), r.lineTo(v + mathMin$2(Ve, Ue), g), Ve -= Ue, Ve > 0 && r.lineTo(v + Ue, g + mathMin$2(Ve, Ne)), Ve -= Ne, Ve > 0 && r.lineTo(v + mathMax$2(Ue - Ve, 0), g + Ne), Ve -= Ue, Ve > 0 && r.lineTo(v, g + mathMax$2(Ne - Ve, 0));
                  break e;
                }
                w += D;
              }
              r.rect(v, g, Ue, Ne);
              break;
            case CMD$2.Z:
              if (y) {
                var D = b[S++];
                if (w + D > T) {
                  var re = (T - w) / D;
                  r.lineTo(p * (1 - re) + d * re, _ * (1 - re) + f * re);
                  break e;
                }
                w += D;
              }
              r.closePath(), p = d, _ = f;
          }
        }
  }, i.prototype.clone = function() {
    var r = new i(), n = this.data;
    return r.data = n.slice ? n.slice() : Array.prototype.slice.call(n), r._len = this._len, r;
  }, i.CMD = CMD$2, i.initDefaultProps = function() {
    var r = i.prototype;
    r._saveData = !0, r._ux = 0, r._uy = 0, r._pendingPtDist = 0, r._version = 0;
  }(), i;
}();
function containStroke$4(i, r, n, o, a, u, c) {
  if (a === 0)
    return !1;
  var d = a, f = 0, p = i;
  if (c > r + d && c > o + d || c < r - d && c < o - d || u > i + d && u > n + d || u < i - d && u < n - d)
    return !1;
  if (i !== n)
    f = (r - o) / (i - n), p = (i * o - n * r) / (i - n);
  else
    return Math.abs(u - i) <= d / 2;
  var _ = f * u - c + p, v = _ * _ / (f * f + 1);
  return v <= d / 2 * d / 2;
}
function containStroke$3(i, r, n, o, a, u, c, d, f, p, _) {
  if (f === 0)
    return !1;
  var v = f;
  if (_ > r + v && _ > o + v && _ > u + v && _ > d + v || _ < r - v && _ < o - v && _ < u - v && _ < d - v || p > i + v && p > n + v && p > a + v && p > c + v || p < i - v && p < n - v && p < a - v && p < c - v)
    return !1;
  var g = cubicProjectPoint(i, r, n, o, a, u, c, d, p, _, null);
  return g <= v / 2;
}
function containStroke$2(i, r, n, o, a, u, c, d, f) {
  if (c === 0)
    return !1;
  var p = c;
  if (f > r + p && f > o + p && f > u + p || f < r - p && f < o - p && f < u - p || d > i + p && d > n + p && d > a + p || d < i - p && d < n - p && d < a - p)
    return !1;
  var _ = quadraticProjectPoint(i, r, n, o, a, u, d, f, null);
  return _ <= p / 2;
}
var PI2$5 = Math.PI * 2;
function normalizeRadian(i) {
  return i %= PI2$5, i < 0 && (i += PI2$5), i;
}
var PI2$4 = Math.PI * 2;
function containStroke$1(i, r, n, o, a, u, c, d, f) {
  if (c === 0)
    return !1;
  var p = c;
  d -= i, f -= r;
  var _ = Math.sqrt(d * d + f * f);
  if (_ - p > n || _ + p < n)
    return !1;
  if (Math.abs(o - a) % PI2$4 < 1e-4)
    return !0;
  if (u) {
    var v = o;
    o = normalizeRadian(a), a = normalizeRadian(v);
  } else
    o = normalizeRadian(o), a = normalizeRadian(a);
  o > a && (a += PI2$4);
  var g = Math.atan2(f, d);
  return g < 0 && (g += PI2$4), g >= o && g <= a || g + PI2$4 >= o && g + PI2$4 <= a;
}
function windingLine(i, r, n, o, a, u) {
  if (u > r && u > o || u < r && u < o || o === r)
    return 0;
  var c = (u - r) / (o - r), d = o < r ? 1 : -1;
  (c === 1 || c === 0) && (d = o < r ? 0.5 : -0.5);
  var f = c * (n - i) + i;
  return f === a ? 1 / 0 : f > a ? d : 0;
}
var CMD$1 = PathProxy.CMD, PI2$3 = Math.PI * 2, EPSILON = 1e-4;
function isAroundEqual(i, r) {
  return Math.abs(i - r) < EPSILON;
}
var roots = [-1, -1, -1], extrema = [-1, -1];
function swapExtrema() {
  var i = extrema[0];
  extrema[0] = extrema[1], extrema[1] = i;
}
function windingCubic(i, r, n, o, a, u, c, d, f, p) {
  if (p > r && p > o && p > u && p > d || p < r && p < o && p < u && p < d)
    return 0;
  var _ = cubicRootAt(r, o, u, d, p, roots);
  if (_ === 0)
    return 0;
  for (var v = 0, g = -1, y = void 0, b = void 0, A = 0; A < _; A++) {
    var w = roots[A], S = w === 0 || w === 1 ? 0.5 : 1, T = cubicAt(i, n, a, c, w);
    T < f || (g < 0 && (g = cubicExtrema(r, o, u, d, extrema), extrema[1] < extrema[0] && g > 1 && swapExtrema(), y = cubicAt(r, o, u, d, extrema[0]), g > 1 && (b = cubicAt(r, o, u, d, extrema[1]))), g === 2 ? w < extrema[0] ? v += y < r ? S : -S : w < extrema[1] ? v += b < y ? S : -S : v += d < b ? S : -S : w < extrema[0] ? v += y < r ? S : -S : v += d < y ? S : -S);
  }
  return v;
}
function windingQuadratic(i, r, n, o, a, u, c, d) {
  if (d > r && d > o && d > u || d < r && d < o && d < u)
    return 0;
  var f = quadraticRootAt(r, o, u, d, roots);
  if (f === 0)
    return 0;
  var p = quadraticExtremum(r, o, u);
  if (p >= 0 && p <= 1) {
    for (var _ = 0, v = quadraticAt(r, o, u, p), g = 0; g < f; g++) {
      var y = roots[g] === 0 || roots[g] === 1 ? 0.5 : 1, b = quadraticAt(i, n, a, roots[g]);
      b < c || (roots[g] < p ? _ += v < r ? y : -y : _ += u < v ? y : -y);
    }
    return _;
  } else {
    var y = roots[0] === 0 || roots[0] === 1 ? 0.5 : 1, b = quadraticAt(i, n, a, roots[0]);
    return b < c ? 0 : u < r ? y : -y;
  }
}
function windingArc(i, r, n, o, a, u, c, d) {
  if (d -= r, d > n || d < -n)
    return 0;
  var f = Math.sqrt(n * n - d * d);
  roots[0] = -f, roots[1] = f;
  var p = Math.abs(o - a);
  if (p < 1e-4)
    return 0;
  if (p >= PI2$3 - 1e-4) {
    o = 0, a = PI2$3;
    var _ = u ? 1 : -1;
    return c >= roots[0] + i && c <= roots[1] + i ? _ : 0;
  }
  if (o > a) {
    var v = o;
    o = a, a = v;
  }
  o < 0 && (o += PI2$3, a += PI2$3);
  for (var g = 0, y = 0; y < 2; y++) {
    var b = roots[y];
    if (b + i > c) {
      var A = Math.atan2(d, b), _ = u ? 1 : -1;
      A < 0 && (A = PI2$3 + A), (A >= o && A <= a || A + PI2$3 >= o && A + PI2$3 <= a) && (A > Math.PI / 2 && A < Math.PI * 1.5 && (_ = -_), g += _);
    }
  }
  return g;
}
function containPath(i, r, n, o, a) {
  for (var u = i.data, c = i.len(), d = 0, f = 0, p = 0, _ = 0, v = 0, g, y, b = 0; b < c; ) {
    var A = u[b++], w = b === 1;
    switch (A === CMD$1.M && b > 1 && (n || (d += windingLine(f, p, _, v, o, a))), w && (f = u[b], p = u[b + 1], _ = f, v = p), A) {
      case CMD$1.M:
        _ = u[b++], v = u[b++], f = _, p = v;
        break;
      case CMD$1.L:
        if (n) {
          if (containStroke$4(f, p, u[b], u[b + 1], r, o, a))
            return !0;
        } else
          d += windingLine(f, p, u[b], u[b + 1], o, a) || 0;
        f = u[b++], p = u[b++];
        break;
      case CMD$1.C:
        if (n) {
          if (containStroke$3(f, p, u[b++], u[b++], u[b++], u[b++], u[b], u[b + 1], r, o, a))
            return !0;
        } else
          d += windingCubic(f, p, u[b++], u[b++], u[b++], u[b++], u[b], u[b + 1], o, a) || 0;
        f = u[b++], p = u[b++];
        break;
      case CMD$1.Q:
        if (n) {
          if (containStroke$2(f, p, u[b++], u[b++], u[b], u[b + 1], r, o, a))
            return !0;
        } else
          d += windingQuadratic(f, p, u[b++], u[b++], u[b], u[b + 1], o, a) || 0;
        f = u[b++], p = u[b++];
        break;
      case CMD$1.A:
        var S = u[b++], T = u[b++], x = u[b++], L = u[b++], O = u[b++], M = u[b++];
        b += 1;
        var k = !!(1 - u[b++]);
        g = Math.cos(O) * x + S, y = Math.sin(O) * L + T, w ? (_ = g, v = y) : d += windingLine(f, p, g, y, o, a);
        var ie = (o - S) * L / x + S;
        if (n) {
          if (containStroke$1(S, T, L, O, O + M, k, r, ie, a))
            return !0;
        } else
          d += windingArc(S, T, L, O, O + M, k, ie, a);
        f = Math.cos(O + M) * x + S, p = Math.sin(O + M) * L + T;
        break;
      case CMD$1.R:
        _ = f = u[b++], v = p = u[b++];
        var $ = u[b++], Y = u[b++];
        if (g = _ + $, y = v + Y, n) {
          if (containStroke$4(_, v, g, v, r, o, a) || containStroke$4(g, v, g, y, r, o, a) || containStroke$4(g, y, _, y, r, o, a) || containStroke$4(_, y, _, v, r, o, a))
            return !0;
        } else
          d += windingLine(g, v, g, y, o, a), d += windingLine(_, y, _, v, o, a);
        break;
      case CMD$1.Z:
        if (n) {
          if (containStroke$4(f, p, _, v, r, o, a))
            return !0;
        } else
          d += windingLine(f, p, _, v, o, a);
        f = _, p = v;
        break;
    }
  }
  return !n && !isAroundEqual(p, v) && (d += windingLine(f, p, _, v, o, a) || 0), d !== 0;
}
function contain(i, r, n) {
  return containPath(i, 0, !1, r, n);
}
function containStroke(i, r, n, o) {
  return containPath(i, r, !0, n, o);
}
var DEFAULT_PATH_STYLE = defaults({
  fill: "#000",
  stroke: null,
  strokePercent: 1,
  fillOpacity: 1,
  strokeOpacity: 1,
  lineDashOffset: 0,
  lineWidth: 1,
  lineCap: "butt",
  miterLimit: 10,
  strokeNoScale: !1,
  strokeFirst: !1
}, DEFAULT_COMMON_STYLE), DEFAULT_PATH_ANIMATION_PROPS = {
  style: defaults({
    fill: !0,
    stroke: !0,
    strokePercent: !0,
    fillOpacity: !0,
    strokeOpacity: !0,
    lineDashOffset: !0,
    lineWidth: !0,
    miterLimit: !0
  }, DEFAULT_COMMON_ANIMATION_PROPS.style)
}, pathCopyParams = TRANSFORMABLE_PROPS.concat([
  "invisible",
  "culling",
  "z",
  "z2",
  "zlevel",
  "parent"
]), Path = function(i) {
  __extends(r, i);
  function r(n) {
    return i.call(this, n) || this;
  }
  return r.prototype.update = function() {
    var n = this;
    i.prototype.update.call(this);
    var o = this.style;
    if (o.decal) {
      var a = this._decalEl = this._decalEl || new r();
      a.buildPath === r.prototype.buildPath && (a.buildPath = function(f) {
        n.buildPath(f, n.shape);
      }), a.silent = !0;
      var u = a.style;
      for (var c in o)
        u[c] !== o[c] && (u[c] = o[c]);
      u.fill = o.fill ? o.decal : null, u.decal = null, u.shadowColor = null, o.strokeFirst && (u.stroke = null);
      for (var d = 0; d < pathCopyParams.length; ++d)
        a[pathCopyParams[d]] = this[pathCopyParams[d]];
      a.__dirty |= REDRAW_BIT;
    } else
      this._decalEl && (this._decalEl = null);
  }, r.prototype.getDecalElement = function() {
    return this._decalEl;
  }, r.prototype._init = function(n) {
    var o = keys(n);
    this.shape = this.getDefaultShape();
    var a = this.getDefaultStyle();
    a && this.useStyle(a);
    for (var u = 0; u < o.length; u++) {
      var c = o[u], d = n[c];
      c === "style" ? this.style ? extend(this.style, d) : this.useStyle(d) : c === "shape" ? extend(this.shape, d) : i.prototype.attrKV.call(this, c, d);
    }
    this.style || this.useStyle({});
  }, r.prototype.getDefaultStyle = function() {
    return null;
  }, r.prototype.getDefaultShape = function() {
    return {};
  }, r.prototype.canBeInsideText = function() {
    return this.hasFill();
  }, r.prototype.getInsideTextFill = function() {
    var n = this.style.fill;
    if (n !== "none") {
      if (isString$2(n)) {
        var o = lum(n, 0);
        return o > 0.5 ? DARK_LABEL_COLOR : o > 0.2 ? LIGHTER_LABEL_COLOR : LIGHT_LABEL_COLOR;
      } else if (n)
        return LIGHT_LABEL_COLOR;
    }
    return DARK_LABEL_COLOR;
  }, r.prototype.getInsideTextStroke = function(n) {
    var o = this.style.fill;
    if (isString$2(o)) {
      var a = this.__zr, u = !!(a && a.isDarkMode()), c = lum(n, 0) < DARK_MODE_THRESHOLD;
      if (u === c)
        return o;
    }
  }, r.prototype.buildPath = function(n, o, a) {
  }, r.prototype.pathUpdated = function() {
    this.__dirty &= ~SHAPE_CHANGED_BIT;
  }, r.prototype.getUpdatedPathProxy = function(n) {
    return !this.path && this.createPathProxy(), this.path.beginPath(), this.buildPath(this.path, this.shape, n), this.path;
  }, r.prototype.createPathProxy = function() {
    this.path = new PathProxy(!1);
  }, r.prototype.hasStroke = function() {
    var n = this.style, o = n.stroke;
    return !(o == null || o === "none" || !(n.lineWidth > 0));
  }, r.prototype.hasFill = function() {
    var n = this.style, o = n.fill;
    return o != null && o !== "none";
  }, r.prototype.getBoundingRect = function() {
    var n = this._rect, o = this.style, a = !n;
    if (a) {
      var u = !1;
      this.path || (u = !0, this.createPathProxy());
      var c = this.path;
      (u || this.__dirty & SHAPE_CHANGED_BIT) && (c.beginPath(), this.buildPath(c, this.shape, !1), this.pathUpdated()), n = c.getBoundingRect();
    }
    if (this._rect = n, this.hasStroke() && this.path && this.path.len() > 0) {
      var d = this._rectStroke || (this._rectStroke = n.clone());
      if (this.__dirty || a) {
        d.copy(n);
        var f = o.strokeNoScale ? this.getLineScale() : 1, p = o.lineWidth;
        if (!this.hasFill()) {
          var _ = this.strokeContainThreshold;
          p = Math.max(p, _ ?? 4);
        }
        f > 1e-10 && (d.width += p / f, d.height += p / f, d.x -= p / f / 2, d.y -= p / f / 2);
      }
      return d;
    }
    return n;
  }, r.prototype.contain = function(n, o) {
    var a = this.transformCoordToLocal(n, o), u = this.getBoundingRect(), c = this.style;
    if (n = a[0], o = a[1], u.contain(n, o)) {
      var d = this.path;
      if (this.hasStroke()) {
        var f = c.lineWidth, p = c.strokeNoScale ? this.getLineScale() : 1;
        if (p > 1e-10 && (this.hasFill() || (f = Math.max(f, this.strokeContainThreshold)), containStroke(d, f / p, n, o)))
          return !0;
      }
      if (this.hasFill())
        return contain(d, n, o);
    }
    return !1;
  }, r.prototype.dirtyShape = function() {
    this.__dirty |= SHAPE_CHANGED_BIT, this._rect && (this._rect = null), this._decalEl && this._decalEl.dirtyShape(), this.markRedraw();
  }, r.prototype.dirty = function() {
    this.dirtyStyle(), this.dirtyShape();
  }, r.prototype.animateShape = function(n) {
    return this.animate("shape", n);
  }, r.prototype.updateDuringAnimation = function(n) {
    n === "style" ? this.dirtyStyle() : n === "shape" ? this.dirtyShape() : this.markRedraw();
  }, r.prototype.attrKV = function(n, o) {
    n === "shape" ? this.setShape(o) : i.prototype.attrKV.call(this, n, o);
  }, r.prototype.setShape = function(n, o) {
    var a = this.shape;
    return a || (a = this.shape = {}), typeof n == "string" ? a[n] = o : extend(a, n), this.dirtyShape(), this;
  }, r.prototype.shapeChanged = function() {
    return !!(this.__dirty & SHAPE_CHANGED_BIT);
  }, r.prototype.createStyle = function(n) {
    return createObject(DEFAULT_PATH_STYLE, n);
  }, r.prototype._innerSaveToNormal = function(n) {
    i.prototype._innerSaveToNormal.call(this, n);
    var o = this._normalState;
    n.shape && !o.shape && (o.shape = extend({}, this.shape));
  }, r.prototype._applyStateObj = function(n, o, a, u, c, d) {
    i.prototype._applyStateObj.call(this, n, o, a, u, c, d);
    var f = !(o && u), p;
    if (o && o.shape ? c ? u ? p = o.shape : (p = extend({}, a.shape), extend(p, o.shape)) : (p = extend({}, u ? this.shape : a.shape), extend(p, o.shape)) : f && (p = a.shape), p)
      if (c) {
        this.shape = extend({}, this.shape);
        for (var _ = {}, v = keys(p), g = 0; g < v.length; g++) {
          var y = v[g];
          typeof p[y] == "object" ? this.shape[y] = p[y] : _[y] = p[y];
        }
        this._transitionState(n, {
          shape: _
        }, d);
      } else
        this.shape = p, this.dirtyShape();
  }, r.prototype._mergeStates = function(n) {
    for (var o = i.prototype._mergeStates.call(this, n), a, u = 0; u < n.length; u++) {
      var c = n[u];
      c.shape && (a = a || {}, this._mergeStyle(a, c.shape));
    }
    return a && (o.shape = a), o;
  }, r.prototype.getAnimationStyleProps = function() {
    return DEFAULT_PATH_ANIMATION_PROPS;
  }, r.prototype.isZeroArea = function() {
    return !1;
  }, r.extend = function(n) {
    var o = function(u) {
      __extends(c, u);
      function c(d) {
        var f = u.call(this, d) || this;
        return n.init && n.init.call(f, d), f;
      }
      return c.prototype.getDefaultStyle = function() {
        return clone$2(n.style);
      }, c.prototype.getDefaultShape = function() {
        return clone$2(n.shape);
      }, c;
    }(r);
    for (var a in n)
      typeof n[a] == "function" && (o.prototype[a] = n[a]);
    return o;
  }, r.initDefaultProps = function() {
    var n = r.prototype;
    n.type = "path", n.strokeContainThreshold = 5, n.segmentIgnoreThreshold = 0, n.subPixelOptimize = !1, n.autoBatch = !1, n.__dirty = REDRAW_BIT | STYLE_CHANGED_BIT | SHAPE_CHANGED_BIT;
  }(), r;
}(Displayable$1);
const Path$1 = Path;
var DEFAULT_TSPAN_STYLE = defaults({
  strokeFirst: !0,
  font: DEFAULT_FONT,
  x: 0,
  y: 0,
  textAlign: "left",
  textBaseline: "top",
  miterLimit: 2
}, DEFAULT_PATH_STYLE), TSpan = function(i) {
  __extends(r, i);
  function r() {
    return i !== null && i.apply(this, arguments) || this;
  }
  return r.prototype.hasStroke = function() {
    var n = this.style, o = n.stroke;
    return o != null && o !== "none" && n.lineWidth > 0;
  }, r.prototype.hasFill = function() {
    var n = this.style, o = n.fill;
    return o != null && o !== "none";
  }, r.prototype.createStyle = function(n) {
    return createObject(DEFAULT_TSPAN_STYLE, n);
  }, r.prototype.setBoundingRect = function(n) {
    this._rect = n;
  }, r.prototype.getBoundingRect = function() {
    var n = this.style;
    if (!this._rect) {
      var o = n.text;
      o != null ? o += "" : o = "";
      var a = getBoundingRect(o, n.font, n.textAlign, n.textBaseline);
      if (a.x += n.x || 0, a.y += n.y || 0, this.hasStroke()) {
        var u = n.lineWidth;
        a.x -= u / 2, a.y -= u / 2, a.width += u, a.height += u;
      }
      this._rect = a;
    }
    return this._rect;
  }, r.initDefaultProps = function() {
    var n = r.prototype;
    n.dirtyRectTolerance = 10;
  }(), r;
}(Displayable$1);
TSpan.prototype.type = "tspan";
const TSpan$1 = TSpan;
var DEFAULT_IMAGE_STYLE = defaults({
  x: 0,
  y: 0
}, DEFAULT_COMMON_STYLE), DEFAULT_IMAGE_ANIMATION_PROPS = {
  style: defaults({
    x: !0,
    y: !0,
    width: !0,
    height: !0,
    sx: !0,
    sy: !0,
    sWidth: !0,
    sHeight: !0
  }, DEFAULT_COMMON_ANIMATION_PROPS.style)
};
function isImageLike$1(i) {
  return !!(i && typeof i != "string" && i.width && i.height);
}
var ZRImage = function(i) {
  __extends(r, i);
  function r() {
    return i !== null && i.apply(this, arguments) || this;
  }
  return r.prototype.createStyle = function(n) {
    return createObject(DEFAULT_IMAGE_STYLE, n);
  }, r.prototype._getSize = function(n) {
    var o = this.style, a = o[n];
    if (a != null)
      return a;
    var u = isImageLike$1(o.image) ? o.image : this.__image;
    if (!u)
      return 0;
    var c = n === "width" ? "height" : "width", d = o[c];
    return d == null ? u[n] : u[n] / u[c] * d;
  }, r.prototype.getWidth = function() {
    return this._getSize("width");
  }, r.prototype.getHeight = function() {
    return this._getSize("height");
  }, r.prototype.getAnimationStyleProps = function() {
    return DEFAULT_IMAGE_ANIMATION_PROPS;
  }, r.prototype.getBoundingRect = function() {
    var n = this.style;
    return this._rect || (this._rect = new BoundingRect$1(n.x || 0, n.y || 0, this.getWidth(), this.getHeight())), this._rect;
  }, r;
}(Displayable$1);
ZRImage.prototype.type = "image";
const ZRImage$1 = ZRImage;
function buildPath$2(i, r) {
  var n = r.x, o = r.y, a = r.width, u = r.height, c = r.r, d, f, p, _;
  a < 0 && (n = n + a, a = -a), u < 0 && (o = o + u, u = -u), typeof c == "number" ? d = f = p = _ = c : c instanceof Array ? c.length === 1 ? d = f = p = _ = c[0] : c.length === 2 ? (d = p = c[0], f = _ = c[1]) : c.length === 3 ? (d = c[0], f = _ = c[1], p = c[2]) : (d = c[0], f = c[1], p = c[2], _ = c[3]) : d = f = p = _ = 0;
  var v;
  d + f > a && (v = d + f, d *= a / v, f *= a / v), p + _ > a && (v = p + _, p *= a / v, _ *= a / v), f + p > u && (v = f + p, f *= u / v, p *= u / v), d + _ > u && (v = d + _, d *= u / v, _ *= u / v), i.moveTo(n + d, o), i.lineTo(n + a - f, o), f !== 0 && i.arc(n + a - f, o + f, f, -Math.PI / 2, 0), i.lineTo(n + a, o + u - p), p !== 0 && i.arc(n + a - p, o + u - p, p, 0, Math.PI / 2), i.lineTo(n + _, o + u), _ !== 0 && i.arc(n + _, o + u - _, _, Math.PI / 2, Math.PI), i.lineTo(n, o + d), d !== 0 && i.arc(n + d, o + d, d, Math.PI, Math.PI * 1.5);
}
var round$1 = Math.round;
function subPixelOptimizeLine$1(i, r, n) {
  if (r) {
    var o = r.x1, a = r.x2, u = r.y1, c = r.y2;
    i.x1 = o, i.x2 = a, i.y1 = u, i.y2 = c;
    var d = n && n.lineWidth;
    return d && (round$1(o * 2) === round$1(a * 2) && (i.x1 = i.x2 = subPixelOptimize$1(o, d, !0)), round$1(u * 2) === round$1(c * 2) && (i.y1 = i.y2 = subPixelOptimize$1(u, d, !0))), i;
  }
}
function subPixelOptimizeRect$1(i, r, n) {
  if (r) {
    var o = r.x, a = r.y, u = r.width, c = r.height;
    i.x = o, i.y = a, i.width = u, i.height = c;
    var d = n && n.lineWidth;
    return d && (i.x = subPixelOptimize$1(o, d, !0), i.y = subPixelOptimize$1(a, d, !0), i.width = Math.max(subPixelOptimize$1(o + u, d, !1) - i.x, u === 0 ? 0 : 1), i.height = Math.max(subPixelOptimize$1(a + c, d, !1) - i.y, c === 0 ? 0 : 1)), i;
  }
}
function subPixelOptimize$1(i, r, n) {
  if (!r)
    return i;
  var o = round$1(i * 2);
  return (o + round$1(r)) % 2 === 0 ? o / 2 : (o + (n ? 1 : -1)) / 2;
}
var RectShape = function() {
  function i() {
    this.x = 0, this.y = 0, this.width = 0, this.height = 0;
  }
  return i;
}(), subPixelOptimizeOutputShape$1 = {}, Rect = function(i) {
  __extends(r, i);
  function r(n) {
    return i.call(this, n) || this;
  }
  return r.prototype.getDefaultShape = function() {
    return new RectShape();
  }, r.prototype.buildPath = function(n, o) {
    var a, u, c, d;
    if (this.subPixelOptimize) {
      var f = subPixelOptimizeRect$1(subPixelOptimizeOutputShape$1, o, this.style);
      a = f.x, u = f.y, c = f.width, d = f.height, f.r = o.r, o = f;
    } else
      a = o.x, u = o.y, c = o.width, d = o.height;
    o.r ? buildPath$2(n, o) : n.rect(a, u, c, d);
  }, r.prototype.isZeroArea = function() {
    return !this.shape.width || !this.shape.height;
  }, r;
}(Path$1);
Rect.prototype.type = "rect";
const Rect$1 = Rect;
var DEFAULT_RICH_TEXT_COLOR = {
  fill: "#000"
}, DEFAULT_STROKE_LINE_WIDTH = 2, DEFAULT_TEXT_ANIMATION_PROPS = {
  style: defaults({
    fill: !0,
    stroke: !0,
    fillOpacity: !0,
    strokeOpacity: !0,
    lineWidth: !0,
    fontSize: !0,
    lineHeight: !0,
    width: !0,
    height: !0,
    textShadowColor: !0,
    textShadowBlur: !0,
    textShadowOffsetX: !0,
    textShadowOffsetY: !0,
    backgroundColor: !0,
    padding: !0,
    borderColor: !0,
    borderWidth: !0,
    borderRadius: !0
  }, DEFAULT_COMMON_ANIMATION_PROPS.style)
}, ZRText = function(i) {
  __extends(r, i);
  function r(n) {
    var o = i.call(this) || this;
    return o.type = "text", o._children = [], o._defaultStyle = DEFAULT_RICH_TEXT_COLOR, o.attr(n), o;
  }
  return r.prototype.childrenRef = function() {
    return this._children;
  }, r.prototype.update = function() {
    i.prototype.update.call(this), this.styleChanged() && this._updateSubTexts();
    for (var n = 0; n < this._children.length; n++) {
      var o = this._children[n];
      o.zlevel = this.zlevel, o.z = this.z, o.z2 = this.z2, o.culling = this.culling, o.cursor = this.cursor, o.invisible = this.invisible;
    }
  }, r.prototype.updateTransform = function() {
    var n = this.innerTransformable;
    n ? (n.updateTransform(), n.transform && (this.transform = n.transform)) : i.prototype.updateTransform.call(this);
  }, r.prototype.getLocalTransform = function(n) {
    var o = this.innerTransformable;
    return o ? o.getLocalTransform(n) : i.prototype.getLocalTransform.call(this, n);
  }, r.prototype.getComputedTransform = function() {
    return this.__hostTarget && (this.__hostTarget.getComputedTransform(), this.__hostTarget.updateInnerText(!0)), i.prototype.getComputedTransform.call(this);
  }, r.prototype._updateSubTexts = function() {
    this._childCursor = 0, normalizeTextStyle(this.style), this.style.rich ? this._updateRichTexts() : this._updatePlainTexts(), this._children.length = this._childCursor, this.styleUpdated();
  }, r.prototype.addSelfToZr = function(n) {
    i.prototype.addSelfToZr.call(this, n);
    for (var o = 0; o < this._children.length; o++)
      this._children[o].__zr = n;
  }, r.prototype.removeSelfFromZr = function(n) {
    i.prototype.removeSelfFromZr.call(this, n);
    for (var o = 0; o < this._children.length; o++)
      this._children[o].__zr = null;
  }, r.prototype.getBoundingRect = function() {
    if (this.styleChanged() && this._updateSubTexts(), !this._rect) {
      for (var n = new BoundingRect$1(0, 0, 0, 0), o = this._children, a = [], u = null, c = 0; c < o.length; c++) {
        var d = o[c], f = d.getBoundingRect(), p = d.getLocalTransform(a);
        p ? (n.copy(f), n.applyTransform(p), u = u || n.clone(), u.union(n)) : (u = u || f.clone(), u.union(f));
      }
      this._rect = u || n;
    }
    return this._rect;
  }, r.prototype.setDefaultTextStyle = function(n) {
    this._defaultStyle = n || DEFAULT_RICH_TEXT_COLOR;
  }, r.prototype.setTextContent = function(n) {
    if (process.env.NODE_ENV !== "production")
      throw new Error("Can't attach text on another text");
  }, r.prototype._mergeStyle = function(n, o) {
    if (!o)
      return n;
    var a = o.rich, u = n.rich || a && {};
    return extend(n, o), a && u ? (this._mergeRich(u, a), n.rich = u) : u && (n.rich = u), n;
  }, r.prototype._mergeRich = function(n, o) {
    for (var a = keys(o), u = 0; u < a.length; u++) {
      var c = a[u];
      n[c] = n[c] || {}, extend(n[c], o[c]);
    }
  }, r.prototype.getAnimationStyleProps = function() {
    return DEFAULT_TEXT_ANIMATION_PROPS;
  }, r.prototype._getOrCreateChild = function(n) {
    var o = this._children[this._childCursor];
    return (!o || !(o instanceof n)) && (o = new n()), this._children[this._childCursor++] = o, o.__zr = this.__zr, o.parent = this, o;
  }, r.prototype._updatePlainTexts = function() {
    var n = this.style, o = n.font || DEFAULT_FONT, a = n.padding, u = getStyleText(n), c = parsePlainText(u, n), d = needDrawBackground(n), f = !!n.backgroundColor, p = c.outerHeight, _ = c.outerWidth, v = c.contentWidth, g = c.lines, y = c.lineHeight, b = this._defaultStyle, A = n.x || 0, w = n.y || 0, S = n.align || b.align || "left", T = n.verticalAlign || b.verticalAlign || "top", x = A, L = adjustTextY(w, c.contentHeight, T);
    if (d || a) {
      var O = adjustTextX(A, _, S), M = adjustTextY(w, p, T);
      d && this._renderBackground(n, n, O, M, _, p);
    }
    L += y / 2, a && (x = getTextXForPadding(A, S, a), T === "top" ? L += a[0] : T === "bottom" && (L -= a[2]));
    for (var k = 0, ie = !1, $ = getFill("fill" in n ? n.fill : (ie = !0, b.fill)), Y = getStroke("stroke" in n ? n.stroke : !f && (!b.autoStroke || ie) ? (k = DEFAULT_STROKE_LINE_WIDTH, b.stroke) : null), D = n.textShadowBlur > 0, re = n.width != null && (n.overflow === "truncate" || n.overflow === "break" || n.overflow === "breakAll"), F = c.calculatedLineHeight, _e = 0; _e < g.length; _e++) {
      var ue = this._getOrCreateChild(TSpan$1), Ie = ue.createStyle();
      ue.useStyle(Ie), Ie.text = g[_e], Ie.x = x, Ie.y = L, S && (Ie.textAlign = S), Ie.textBaseline = "middle", Ie.opacity = n.opacity, Ie.strokeFirst = !0, D && (Ie.shadowBlur = n.textShadowBlur || 0, Ie.shadowColor = n.textShadowColor || "transparent", Ie.shadowOffsetX = n.textShadowOffsetX || 0, Ie.shadowOffsetY = n.textShadowOffsetY || 0), Ie.stroke = Y, Ie.fill = $, Y && (Ie.lineWidth = n.lineWidth || k, Ie.lineDash = n.lineDash, Ie.lineDashOffset = n.lineDashOffset || 0), Ie.font = o, setSeparateFont(Ie, n), L += y, re && ue.setBoundingRect(new BoundingRect$1(adjustTextX(Ie.x, n.width, Ie.textAlign), adjustTextY(Ie.y, F, Ie.textBaseline), v, F));
    }
  }, r.prototype._updateRichTexts = function() {
    var n = this.style, o = getStyleText(n), a = parseRichText(o, n), u = a.width, c = a.outerWidth, d = a.outerHeight, f = n.padding, p = n.x || 0, _ = n.y || 0, v = this._defaultStyle, g = n.align || v.align, y = n.verticalAlign || v.verticalAlign, b = adjustTextX(p, c, g), A = adjustTextY(_, d, y), w = b, S = A;
    f && (w += f[3], S += f[0]);
    var T = w + u;
    needDrawBackground(n) && this._renderBackground(n, n, b, A, c, d);
    for (var x = !!n.backgroundColor, L = 0; L < a.lines.length; L++) {
      for (var O = a.lines[L], M = O.tokens, k = M.length, ie = O.lineHeight, $ = O.width, Y = 0, D = w, re = T, F = k - 1, _e = void 0; Y < k && (_e = M[Y], !_e.align || _e.align === "left"); )
        this._placeToken(_e, n, ie, S, D, "left", x), $ -= _e.width, D += _e.width, Y++;
      for (; F >= 0 && (_e = M[F], _e.align === "right"); )
        this._placeToken(_e, n, ie, S, re, "right", x), $ -= _e.width, re -= _e.width, F--;
      for (D += (u - (D - w) - (T - re) - $) / 2; Y <= F; )
        _e = M[Y], this._placeToken(_e, n, ie, S, D + _e.width / 2, "center", x), D += _e.width, Y++;
      S += ie;
    }
  }, r.prototype._placeToken = function(n, o, a, u, c, d, f) {
    var p = o.rich[n.styleName] || {};
    p.text = n.text;
    var _ = n.verticalAlign, v = u + a / 2;
    _ === "top" ? v = u + n.height / 2 : _ === "bottom" && (v = u + a - n.height / 2);
    var g = !n.isLineHolder && needDrawBackground(p);
    g && this._renderBackground(p, o, d === "right" ? c - n.width : d === "center" ? c - n.width / 2 : c, v - n.height / 2, n.width, n.height);
    var y = !!p.backgroundColor, b = n.textPadding;
    b && (c = getTextXForPadding(c, d, b), v -= n.height / 2 - b[0] - n.innerHeight / 2);
    var A = this._getOrCreateChild(TSpan$1), w = A.createStyle();
    A.useStyle(w);
    var S = this._defaultStyle, T = !1, x = 0, L = getFill("fill" in p ? p.fill : "fill" in o ? o.fill : (T = !0, S.fill)), O = getStroke("stroke" in p ? p.stroke : "stroke" in o ? o.stroke : !y && !f && (!S.autoStroke || T) ? (x = DEFAULT_STROKE_LINE_WIDTH, S.stroke) : null), M = p.textShadowBlur > 0 || o.textShadowBlur > 0;
    w.text = n.text, w.x = c, w.y = v, M && (w.shadowBlur = p.textShadowBlur || o.textShadowBlur || 0, w.shadowColor = p.textShadowColor || o.textShadowColor || "transparent", w.shadowOffsetX = p.textShadowOffsetX || o.textShadowOffsetX || 0, w.shadowOffsetY = p.textShadowOffsetY || o.textShadowOffsetY || 0), w.textAlign = d, w.textBaseline = "middle", w.font = n.font || DEFAULT_FONT, w.opacity = retrieve3(p.opacity, o.opacity, 1), setSeparateFont(w, p), O && (w.lineWidth = retrieve3(p.lineWidth, o.lineWidth, x), w.lineDash = retrieve2(p.lineDash, o.lineDash), w.lineDashOffset = o.lineDashOffset || 0, w.stroke = O), L && (w.fill = L);
    var k = n.contentWidth, ie = n.contentHeight;
    A.setBoundingRect(new BoundingRect$1(adjustTextX(w.x, k, w.textAlign), adjustTextY(w.y, ie, w.textBaseline), k, ie));
  }, r.prototype._renderBackground = function(n, o, a, u, c, d) {
    var f = n.backgroundColor, p = n.borderWidth, _ = n.borderColor, v = f && f.image, g = f && !v, y = n.borderRadius, b = this, A, w;
    if (g || n.lineHeight || p && _) {
      A = this._getOrCreateChild(Rect$1), A.useStyle(A.createStyle()), A.style.fill = null;
      var S = A.shape;
      S.x = a, S.y = u, S.width = c, S.height = d, S.r = y, A.dirtyShape();
    }
    if (g) {
      var T = A.style;
      T.fill = f || null, T.fillOpacity = retrieve2(n.fillOpacity, 1);
    } else if (v) {
      w = this._getOrCreateChild(ZRImage$1), w.onload = function() {
        b.dirtyStyle();
      };
      var x = w.style;
      x.image = f.image, x.x = a, x.y = u, x.width = c, x.height = d;
    }
    if (p && _) {
      var T = A.style;
      T.lineWidth = p, T.stroke = _, T.strokeOpacity = retrieve2(n.strokeOpacity, 1), T.lineDash = n.borderDash, T.lineDashOffset = n.borderDashOffset || 0, A.strokeContainThreshold = 0, A.hasFill() && A.hasStroke() && (T.strokeFirst = !0, T.lineWidth *= 2);
    }
    var L = (A || w).style;
    L.shadowBlur = n.shadowBlur || 0, L.shadowColor = n.shadowColor || "transparent", L.shadowOffsetX = n.shadowOffsetX || 0, L.shadowOffsetY = n.shadowOffsetY || 0, L.opacity = retrieve3(n.opacity, o.opacity, 1);
  }, r.makeFont = function(n) {
    var o = "";
    return hasSeparateFont(n) && (o = [
      n.fontStyle,
      n.fontWeight,
      parseFontSize(n.fontSize),
      n.fontFamily || "sans-serif"
    ].join(" ")), o && trim(o) || n.textFont || n.font;
  }, r;
}(Displayable$1), VALID_TEXT_ALIGN = { left: !0, right: 1, center: 1 }, VALID_TEXT_VERTICAL_ALIGN = { top: 1, bottom: 1, middle: 1 }, FONT_PARTS = ["fontStyle", "fontWeight", "fontSize", "fontFamily"];
function parseFontSize(i) {
  return typeof i == "string" && (i.indexOf("px") !== -1 || i.indexOf("rem") !== -1 || i.indexOf("em") !== -1) ? i : isNaN(+i) ? DEFAULT_FONT_SIZE + "px" : i + "px";
}
function setSeparateFont(i, r) {
  for (var n = 0; n < FONT_PARTS.length; n++) {
    var o = FONT_PARTS[n], a = r[o];
    a != null && (i[o] = a);
  }
}
function hasSeparateFont(i) {
  return i.fontSize != null || i.fontFamily || i.fontWeight;
}
function normalizeTextStyle(i) {
  return normalizeStyle(i), each$4(i.rich, normalizeStyle), i;
}
function normalizeStyle(i) {
  if (i) {
    i.font = ZRText.makeFont(i);
    var r = i.align;
    r === "middle" && (r = "center"), i.align = r == null || VALID_TEXT_ALIGN[r] ? r : "left";
    var n = i.verticalAlign;
    n === "center" && (n = "middle"), i.verticalAlign = n == null || VALID_TEXT_VERTICAL_ALIGN[n] ? n : "top";
    var o = i.padding;
    o && (i.padding = normalizeCssArray$1(i.padding));
  }
}
function getStroke(i, r) {
  return i == null || r <= 0 || i === "transparent" || i === "none" ? null : i.image || i.colorStops ? "#000" : i;
}
function getFill(i) {
  return i == null || i === "none" ? null : i.image || i.colorStops ? "#000" : i;
}
function getTextXForPadding(i, r, n) {
  return r === "right" ? i - n[1] : r === "center" ? i + n[3] / 2 - n[1] / 2 : i + n[3];
}
function getStyleText(i) {
  var r = i.text;
  return r != null && (r += ""), r;
}
function needDrawBackground(i) {
  return !!(i.backgroundColor || i.lineHeight || i.borderWidth && i.borderColor);
}
const ZRText$1 = ZRText;
var getECData = makeInner(), setCommonECData = function(i, r, n, o) {
  if (o) {
    var a = getECData(o);
    a.dataIndex = n, a.dataType = r, a.seriesIndex = i, a.ssrType = "chart", o.type === "group" && o.traverse(function(u) {
      var c = getECData(u);
      c.seriesIndex = i, c.dataIndex = n, c.dataType = r, c.ssrType = "chart";
    });
  }
}, _highlightNextDigit = 1, _highlightKeyMap = {}, getSavedStates = makeInner(), getComponentStates = makeInner(), HOVER_STATE_NORMAL = 0, HOVER_STATE_BLUR = 1, HOVER_STATE_EMPHASIS = 2, SPECIAL_STATES = ["emphasis", "blur", "select"], DISPLAY_STATES = ["normal", "emphasis", "blur", "select"], Z2_EMPHASIS_LIFT = 10, Z2_SELECT_LIFT = 9, HIGHLIGHT_ACTION_TYPE = "highlight", DOWNPLAY_ACTION_TYPE = "downplay", SELECT_ACTION_TYPE = "select", UNSELECT_ACTION_TYPE = "unselect", TOGGLE_SELECT_ACTION_TYPE = "toggleSelect";
function hasFillOrStroke(i) {
  return i != null && i !== "none";
}
function doChangeHoverState(i, r, n) {
  i.onHoverStateChange && (i.hoverState || 0) !== n && i.onHoverStateChange(r), i.hoverState = n;
}
function singleEnterEmphasis(i) {
  doChangeHoverState(i, "emphasis", HOVER_STATE_EMPHASIS);
}
function singleLeaveEmphasis(i) {
  i.hoverState === HOVER_STATE_EMPHASIS && doChangeHoverState(i, "normal", HOVER_STATE_NORMAL);
}
function singleEnterBlur(i) {
  doChangeHoverState(i, "blur", HOVER_STATE_BLUR);
}
function singleLeaveBlur(i) {
  i.hoverState === HOVER_STATE_BLUR && doChangeHoverState(i, "normal", HOVER_STATE_NORMAL);
}
function singleEnterSelect(i) {
  i.selected = !0;
}
function singleLeaveSelect(i) {
  i.selected = !1;
}
function updateElementState(i, r, n) {
  r(i, n);
}
function traverseUpdateState(i, r, n) {
  updateElementState(i, r, n), i.isGroup && i.traverse(function(o) {
    updateElementState(o, r, n);
  });
}
function getFromStateStyle(i, r, n, o) {
  for (var a = i.style, u = {}, c = 0; c < r.length; c++) {
    var d = r[c], f = a[d];
    u[d] = f ?? (o && o[d]);
  }
  for (var c = 0; c < i.animators.length; c++) {
    var p = i.animators[c];
    p.__fromStateTransition && p.__fromStateTransition.indexOf(n) < 0 && p.targetName === "style" && p.saveTo(u, r);
  }
  return u;
}
function createEmphasisDefaultState(i, r, n, o) {
  var a = n && indexOf(n, "select") >= 0, u = !1;
  if (i instanceof Path$1) {
    var c = getSavedStates(i), d = a && c.selectFill || c.normalFill, f = a && c.selectStroke || c.normalStroke;
    if (hasFillOrStroke(d) || hasFillOrStroke(f)) {
      o = o || {};
      var p = o.style || {};
      p.fill === "inherit" ? (u = !0, o = extend({}, o), p = extend({}, p), p.fill = d) : !hasFillOrStroke(p.fill) && hasFillOrStroke(d) ? (u = !0, o = extend({}, o), p = extend({}, p), p.fill = liftColor(d)) : !hasFillOrStroke(p.stroke) && hasFillOrStroke(f) && (u || (o = extend({}, o), p = extend({}, p)), p.stroke = liftColor(f)), o.style = p;
    }
  }
  if (o && o.z2 == null) {
    u || (o = extend({}, o));
    var _ = i.z2EmphasisLift;
    o.z2 = i.z2 + (_ ?? Z2_EMPHASIS_LIFT);
  }
  return o;
}
function createSelectDefaultState(i, r, n) {
  if (n && n.z2 == null) {
    n = extend({}, n);
    var o = i.z2SelectLift;
    n.z2 = i.z2 + (o ?? Z2_SELECT_LIFT);
  }
  return n;
}
function createBlurDefaultState(i, r, n) {
  var o = indexOf(i.currentStates, r) >= 0, a = i.style.opacity, u = o ? null : getFromStateStyle(i, ["opacity"], r, {
    opacity: 1
  });
  n = n || {};
  var c = n.style || {};
  return c.opacity == null && (n = extend({}, n), c = extend({
    // Already being applied 'emphasis'. DON'T mul opacity multiple times.
    opacity: o ? a : u.opacity * 0.1
  }, c), n.style = c), n;
}
function elementStateProxy(i, r) {
  var n = this.states[i];
  if (this.style) {
    if (i === "emphasis")
      return createEmphasisDefaultState(this, i, r, n);
    if (i === "blur")
      return createBlurDefaultState(this, i, n);
    if (i === "select")
      return createSelectDefaultState(this, i, n);
  }
  return n;
}
function setDefaultStateProxy(i) {
  i.stateProxy = elementStateProxy;
  var r = i.getTextContent(), n = i.getTextGuideLine();
  r && (r.stateProxy = elementStateProxy), n && (n.stateProxy = elementStateProxy);
}
function enterEmphasisWhenMouseOver(i, r) {
  !shouldSilent(i, r) && !i.__highByOuter && traverseUpdateState(i, singleEnterEmphasis);
}
function leaveEmphasisWhenMouseOut(i, r) {
  !shouldSilent(i, r) && !i.__highByOuter && traverseUpdateState(i, singleLeaveEmphasis);
}
function enterEmphasis(i, r) {
  i.__highByOuter |= 1 << (r || 0), traverseUpdateState(i, singleEnterEmphasis);
}
function leaveEmphasis(i, r) {
  !(i.__highByOuter &= ~(1 << (r || 0))) && traverseUpdateState(i, singleLeaveEmphasis);
}
function enterBlur(i) {
  traverseUpdateState(i, singleEnterBlur);
}
function leaveBlur(i) {
  traverseUpdateState(i, singleLeaveBlur);
}
function enterSelect(i) {
  traverseUpdateState(i, singleEnterSelect);
}
function leaveSelect(i) {
  traverseUpdateState(i, singleLeaveSelect);
}
function shouldSilent(i, r) {
  return i.__highDownSilentOnTouch && r.zrByTouch;
}
function allLeaveBlur(i) {
  var r = i.getModel(), n = [], o = [];
  r.eachComponent(function(a, u) {
    var c = getComponentStates(u), d = a === "series", f = d ? i.getViewOfSeriesModel(u) : i.getViewOfComponentModel(u);
    !d && o.push(f), c.isBlured && (f.group.traverse(function(p) {
      singleLeaveBlur(p);
    }), d && n.push(u)), c.isBlured = !1;
  }), each$4(o, function(a) {
    a && a.toggleBlurSeries && a.toggleBlurSeries(n, !1, r);
  });
}
function blurSeries(i, r, n, o) {
  var a = o.getModel();
  n = n || "coordinateSystem";
  function u(p, _) {
    for (var v = 0; v < _.length; v++) {
      var g = p.getItemGraphicEl(_[v]);
      g && leaveBlur(g);
    }
  }
  if (i != null && !(!r || r === "none")) {
    var c = a.getSeriesByIndex(i), d = c.coordinateSystem;
    d && d.master && (d = d.master);
    var f = [];
    a.eachSeries(function(p) {
      var _ = c === p, v = p.coordinateSystem;
      v && v.master && (v = v.master);
      var g = v && d ? v === d : _;
      if (!// Not blur other series if blurScope series
      (n === "series" && !_ || n === "coordinateSystem" && !g || r === "series" && _)) {
        var y = o.getViewOfSeriesModel(p);
        if (y.group.traverse(function(w) {
          w.__highByOuter && _ && r === "self" || singleEnterBlur(w);
        }), isArrayLike(r))
          u(p.getData(), r);
        else if (isObject$3(r))
          for (var b = keys(r), A = 0; A < b.length; A++)
            u(p.getData(b[A]), r[b[A]]);
        f.push(p), getComponentStates(p).isBlured = !0;
      }
    }), a.eachComponent(function(p, _) {
      if (p !== "series") {
        var v = o.getViewOfComponentModel(_);
        v && v.toggleBlurSeries && v.toggleBlurSeries(f, !0, a);
      }
    });
  }
}
function blurComponent(i, r, n) {
  if (!(i == null || r == null)) {
    var o = n.getModel().getComponent(i, r);
    if (o) {
      getComponentStates(o).isBlured = !0;
      var a = n.getViewOfComponentModel(o);
      !a || !a.focusBlurEnabled || a.group.traverse(function(u) {
        singleEnterBlur(u);
      });
    }
  }
}
function blurSeriesFromHighlightPayload(i, r, n) {
  var o = i.seriesIndex, a = i.getData(r.dataType);
  if (!a) {
    process.env.NODE_ENV !== "production" && error("Unknown dataType " + r.dataType);
    return;
  }
  var u = queryDataIndex(a, r);
  u = (isArray$1(u) ? u[0] : u) || 0;
  var c = a.getItemGraphicEl(u);
  if (!c)
    for (var d = a.count(), f = 0; !c && f < d; )
      c = a.getItemGraphicEl(f++);
  if (c) {
    var p = getECData(c);
    blurSeries(o, p.focus, p.blurScope, n);
  } else {
    var _ = i.get(["emphasis", "focus"]), v = i.get(["emphasis", "blurScope"]);
    _ != null && blurSeries(o, _, v, n);
  }
}
function findComponentHighDownDispatchers(i, r, n, o) {
  var a = {
    focusSelf: !1,
    dispatchers: null
  };
  if (i == null || i === "series" || r == null || n == null)
    return a;
  var u = o.getModel().getComponent(i, r);
  if (!u)
    return a;
  var c = o.getViewOfComponentModel(u);
  if (!c || !c.findHighDownDispatchers)
    return a;
  for (var d = c.findHighDownDispatchers(n), f, p = 0; p < d.length; p++)
    if (process.env.NODE_ENV !== "production" && !isHighDownDispatcher(d[p]) && error("param should be highDownDispatcher"), getECData(d[p]).focus === "self") {
      f = !0;
      break;
    }
  return {
    focusSelf: f,
    dispatchers: d
  };
}
function handleGlobalMouseOverForHighDown(i, r, n) {
  process.env.NODE_ENV !== "production" && !isHighDownDispatcher(i) && error("param should be highDownDispatcher");
  var o = getECData(i), a = findComponentHighDownDispatchers(o.componentMainType, o.componentIndex, o.componentHighDownName, n), u = a.dispatchers, c = a.focusSelf;
  u ? (c && blurComponent(o.componentMainType, o.componentIndex, n), each$4(u, function(d) {
    return enterEmphasisWhenMouseOver(d, r);
  })) : (blurSeries(o.seriesIndex, o.focus, o.blurScope, n), o.focus === "self" && blurComponent(o.componentMainType, o.componentIndex, n), enterEmphasisWhenMouseOver(i, r));
}
function handleGlobalMouseOutForHighDown(i, r, n) {
  process.env.NODE_ENV !== "production" && !isHighDownDispatcher(i) && error("param should be highDownDispatcher"), allLeaveBlur(n);
  var o = getECData(i), a = findComponentHighDownDispatchers(o.componentMainType, o.componentIndex, o.componentHighDownName, n).dispatchers;
  a ? each$4(a, function(u) {
    return leaveEmphasisWhenMouseOut(u, r);
  }) : leaveEmphasisWhenMouseOut(i, r);
}
function toggleSelectionFromPayload(i, r, n) {
  if (isSelectChangePayload(r)) {
    var o = r.dataType, a = i.getData(o), u = queryDataIndex(a, r);
    isArray$1(u) || (u = [u]), i[r.type === TOGGLE_SELECT_ACTION_TYPE ? "toggleSelect" : r.type === SELECT_ACTION_TYPE ? "select" : "unselect"](u, o);
  }
}
function updateSeriesElementSelection(i) {
  var r = i.getAllData();
  each$4(r, function(n) {
    var o = n.data, a = n.type;
    o.eachItemGraphicEl(function(u, c) {
      i.isSelected(c, a) ? enterSelect(u) : leaveSelect(u);
    });
  });
}
function getAllSelectedIndices(i) {
  var r = [];
  return i.eachSeries(function(n) {
    var o = n.getAllData();
    each$4(o, function(a) {
      a.data;
      var u = a.type, c = n.getSelectedDataIndices();
      if (c.length > 0) {
        var d = {
          dataIndex: c,
          seriesIndex: n.seriesIndex
        };
        u != null && (d.dataType = u), r.push(d);
      }
    });
  }), r;
}
function enableHoverEmphasis(i, r, n) {
  setAsHighDownDispatcher(i, !0), traverseUpdateState(i, setDefaultStateProxy), enableHoverFocus(i, r, n);
}
function disableHoverEmphasis(i) {
  setAsHighDownDispatcher(i, !1);
}
function toggleHoverEmphasis(i, r, n, o) {
  o ? disableHoverEmphasis(i) : enableHoverEmphasis(i, r, n);
}
function enableHoverFocus(i, r, n) {
  var o = getECData(i);
  r != null ? (o.focus = r, o.blurScope = n) : o.focus && (o.focus = null);
}
var OTHER_STATES = ["emphasis", "blur", "select"], defaultStyleGetterMap = {
  itemStyle: "getItemStyle",
  lineStyle: "getLineStyle",
  areaStyle: "getAreaStyle"
};
function setStatesStylesFromModel(i, r, n, o) {
  n = n || "itemStyle";
  for (var a = 0; a < OTHER_STATES.length; a++) {
    var u = OTHER_STATES[a], c = r.getModel([u, n]), d = i.ensureState(u);
    d.style = o ? o(c) : c[defaultStyleGetterMap[n]]();
  }
}
function setAsHighDownDispatcher(i, r) {
  var n = r === !1, o = i;
  i.highDownSilentOnTouch && (o.__highDownSilentOnTouch = i.highDownSilentOnTouch), (!n || o.__highDownDispatcher) && (o.__highByOuter = o.__highByOuter || 0, o.__highDownDispatcher = !n);
}
function isHighDownDispatcher(i) {
  return !!(i && i.__highDownDispatcher);
}
function getHighlightDigit(i) {
  var r = _highlightKeyMap[i];
  return r == null && _highlightNextDigit <= 32 && (r = _highlightKeyMap[i] = _highlightNextDigit++), r;
}
function isSelectChangePayload(i) {
  var r = i.type;
  return r === SELECT_ACTION_TYPE || r === UNSELECT_ACTION_TYPE || r === TOGGLE_SELECT_ACTION_TYPE;
}
function isHighDownPayload(i) {
  var r = i.type;
  return r === HIGHLIGHT_ACTION_TYPE || r === DOWNPLAY_ACTION_TYPE;
}
function savePathStates(i) {
  var r = getSavedStates(i);
  r.normalFill = i.style.fill, r.normalStroke = i.style.stroke;
  var n = i.states.select || {};
  r.selectFill = n.style && n.style.fill || null, r.selectStroke = n.style && n.style.stroke || null;
}
var CMD = PathProxy.CMD, points = [[], [], []], mathSqrt$2 = Math.sqrt, mathAtan2 = Math.atan2;
function transformPath(i, r) {
  if (r) {
    var n = i.data, o = i.len(), a, u, c, d, f, p, _ = CMD.M, v = CMD.C, g = CMD.L, y = CMD.R, b = CMD.A, A = CMD.Q;
    for (c = 0, d = 0; c < o; ) {
      switch (a = n[c++], d = c, u = 0, a) {
        case _:
          u = 1;
          break;
        case g:
          u = 1;
          break;
        case v:
          u = 3;
          break;
        case A:
          u = 2;
          break;
        case b:
          var w = r[4], S = r[5], T = mathSqrt$2(r[0] * r[0] + r[1] * r[1]), x = mathSqrt$2(r[2] * r[2] + r[3] * r[3]), L = mathAtan2(-r[1] / x, r[0] / T);
          n[c] *= T, n[c++] += w, n[c] *= x, n[c++] += S, n[c++] *= T, n[c++] *= x, n[c++] += L, n[c++] += L, c += 2, d = c;
          break;
        case y:
          p[0] = n[c++], p[1] = n[c++], applyTransform$1(p, p, r), n[d++] = p[0], n[d++] = p[1], p[0] += n[c++], p[1] += n[c++], applyTransform$1(p, p, r), n[d++] = p[0], n[d++] = p[1];
      }
      for (f = 0; f < u; f++) {
        var O = points[f];
        O[0] = n[c++], O[1] = n[c++], applyTransform$1(O, O, r), n[d++] = O[0], n[d++] = O[1];
      }
    }
    i.increaseVersion();
  }
}
var mathSqrt$1 = Math.sqrt, mathSin$2 = Math.sin, mathCos$2 = Math.cos, PI$4 = Math.PI;
function vMag(i) {
  return Math.sqrt(i[0] * i[0] + i[1] * i[1]);
}
function vRatio(i, r) {
  return (i[0] * r[0] + i[1] * r[1]) / (vMag(i) * vMag(r));
}
function vAngle(i, r) {
  return (i[0] * r[1] < i[1] * r[0] ? -1 : 1) * Math.acos(vRatio(i, r));
}
function processArc(i, r, n, o, a, u, c, d, f, p, _) {
  var v = f * (PI$4 / 180), g = mathCos$2(v) * (i - n) / 2 + mathSin$2(v) * (r - o) / 2, y = -1 * mathSin$2(v) * (i - n) / 2 + mathCos$2(v) * (r - o) / 2, b = g * g / (c * c) + y * y / (d * d);
  b > 1 && (c *= mathSqrt$1(b), d *= mathSqrt$1(b));
  var A = (a === u ? -1 : 1) * mathSqrt$1((c * c * (d * d) - c * c * (y * y) - d * d * (g * g)) / (c * c * (y * y) + d * d * (g * g))) || 0, w = A * c * y / d, S = A * -d * g / c, T = (i + n) / 2 + mathCos$2(v) * w - mathSin$2(v) * S, x = (r + o) / 2 + mathSin$2(v) * w + mathCos$2(v) * S, L = vAngle([1, 0], [(g - w) / c, (y - S) / d]), O = [(g - w) / c, (y - S) / d], M = [(-1 * g - w) / c, (-1 * y - S) / d], k = vAngle(O, M);
  if (vRatio(O, M) <= -1 && (k = PI$4), vRatio(O, M) >= 1 && (k = 0), k < 0) {
    var ie = Math.round(k / PI$4 * 1e6) / 1e6;
    k = PI$4 * 2 + ie % 2 * PI$4;
  }
  _.addData(p, T, x, c, d, L, k, v, u);
}
var commandReg = /([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig, numberReg = /-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;
function createPathProxyFromString(i) {
  var r = new PathProxy();
  if (!i)
    return r;
  var n = 0, o = 0, a = n, u = o, c, d = PathProxy.CMD, f = i.match(commandReg);
  if (!f)
    return r;
  for (var p = 0; p < f.length; p++) {
    for (var _ = f[p], v = _.charAt(0), g = void 0, y = _.match(numberReg) || [], b = y.length, A = 0; A < b; A++)
      y[A] = parseFloat(y[A]);
    for (var w = 0; w < b; ) {
      var S = void 0, T = void 0, x = void 0, L = void 0, O = void 0, M = void 0, k = void 0, ie = n, $ = o, Y = void 0, D = void 0;
      switch (v) {
        case "l":
          n += y[w++], o += y[w++], g = d.L, r.addData(g, n, o);
          break;
        case "L":
          n = y[w++], o = y[w++], g = d.L, r.addData(g, n, o);
          break;
        case "m":
          n += y[w++], o += y[w++], g = d.M, r.addData(g, n, o), a = n, u = o, v = "l";
          break;
        case "M":
          n = y[w++], o = y[w++], g = d.M, r.addData(g, n, o), a = n, u = o, v = "L";
          break;
        case "h":
          n += y[w++], g = d.L, r.addData(g, n, o);
          break;
        case "H":
          n = y[w++], g = d.L, r.addData(g, n, o);
          break;
        case "v":
          o += y[w++], g = d.L, r.addData(g, n, o);
          break;
        case "V":
          o = y[w++], g = d.L, r.addData(g, n, o);
          break;
        case "C":
          g = d.C, r.addData(g, y[w++], y[w++], y[w++], y[w++], y[w++], y[w++]), n = y[w - 2], o = y[w - 1];
          break;
        case "c":
          g = d.C, r.addData(g, y[w++] + n, y[w++] + o, y[w++] + n, y[w++] + o, y[w++] + n, y[w++] + o), n += y[w - 2], o += y[w - 1];
          break;
        case "S":
          S = n, T = o, Y = r.len(), D = r.data, c === d.C && (S += n - D[Y - 4], T += o - D[Y - 3]), g = d.C, ie = y[w++], $ = y[w++], n = y[w++], o = y[w++], r.addData(g, S, T, ie, $, n, o);
          break;
        case "s":
          S = n, T = o, Y = r.len(), D = r.data, c === d.C && (S += n - D[Y - 4], T += o - D[Y - 3]), g = d.C, ie = n + y[w++], $ = o + y[w++], n += y[w++], o += y[w++], r.addData(g, S, T, ie, $, n, o);
          break;
        case "Q":
          ie = y[w++], $ = y[w++], n = y[w++], o = y[w++], g = d.Q, r.addData(g, ie, $, n, o);
          break;
        case "q":
          ie = y[w++] + n, $ = y[w++] + o, n += y[w++], o += y[w++], g = d.Q, r.addData(g, ie, $, n, o);
          break;
        case "T":
          S = n, T = o, Y = r.len(), D = r.data, c === d.Q && (S += n - D[Y - 4], T += o - D[Y - 3]), n = y[w++], o = y[w++], g = d.Q, r.addData(g, S, T, n, o);
          break;
        case "t":
          S = n, T = o, Y = r.len(), D = r.data, c === d.Q && (S += n - D[Y - 4], T += o - D[Y - 3]), n += y[w++], o += y[w++], g = d.Q, r.addData(g, S, T, n, o);
          break;
        case "A":
          x = y[w++], L = y[w++], O = y[w++], M = y[w++], k = y[w++], ie = n, $ = o, n = y[w++], o = y[w++], g = d.A, processArc(ie, $, n, o, M, k, x, L, O, g, r);
          break;
        case "a":
          x = y[w++], L = y[w++], O = y[w++], M = y[w++], k = y[w++], ie = n, $ = o, n += y[w++], o += y[w++], g = d.A, processArc(ie, $, n, o, M, k, x, L, O, g, r);
          break;
      }
    }
    (v === "z" || v === "Z") && (g = d.Z, r.addData(g), n = a, o = u), c = g;
  }
  return r.toStatic(), r;
}
var SVGPath = function(i) {
  __extends(r, i);
  function r() {
    return i !== null && i.apply(this, arguments) || this;
  }
  return r.prototype.applyTransform = function(n) {
  }, r;
}(Path$1);
function isPathProxy(i) {
  return i.setData != null;
}
function createPathOptions(i, r) {
  var n = createPathProxyFromString(i), o = extend({}, r);
  return o.buildPath = function(a) {
    if (isPathProxy(a)) {
      a.setData(n.data);
      var u = a.getContext();
      u && a.rebuildPath(u, 1);
    } else {
      var u = a;
      n.rebuildPath(u, 1);
    }
  }, o.applyTransform = function(a) {
    transformPath(n, a), this.dirtyShape();
  }, o;
}
function createFromString(i, r) {
  return new SVGPath(createPathOptions(i, r));
}
function extendFromString(i, r) {
  var n = createPathOptions(i, r), o = function(a) {
    __extends(u, a);
    function u(c) {
      var d = a.call(this, c) || this;
      return d.applyTransform = n.applyTransform, d.buildPath = n.buildPath, d;
    }
    return u;
  }(SVGPath);
  return o;
}
function mergePath$1(i, r) {
  for (var n = [], o = i.length, a = 0; a < o; a++) {
    var u = i[a];
    n.push(u.getUpdatedPathProxy(!0));
  }
  var c = new Path$1(r);
  return c.createPathProxy(), c.buildPath = function(d) {
    if (isPathProxy(d)) {
      d.appendPath(n);
      var f = d.getContext();
      f && d.rebuildPath(f, 1);
    }
  }, c;
}
var CircleShape = function() {
  function i() {
    this.cx = 0, this.cy = 0, this.r = 0;
  }
  return i;
}(), Circle = function(i) {
  __extends(r, i);
  function r(n) {
    return i.call(this, n) || this;
  }
  return r.prototype.getDefaultShape = function() {
    return new CircleShape();
  }, r.prototype.buildPath = function(n, o) {
    n.moveTo(o.cx + o.r, o.cy), n.arc(o.cx, o.cy, o.r, 0, Math.PI * 2);
  }, r;
}(Path$1);
Circle.prototype.type = "circle";
const Circle$1 = Circle;
var EllipseShape = function() {
  function i() {
    this.cx = 0, this.cy = 0, this.rx = 0, this.ry = 0;
  }
  return i;
}(), Ellipse = function(i) {
  __extends(r, i);
  function r(n) {
    return i.call(this, n) || this;
  }
  return r.prototype.getDefaultShape = function() {
    return new EllipseShape();
  }, r.prototype.buildPath = function(n, o) {
    var a = 0.5522848, u = o.cx, c = o.cy, d = o.rx, f = o.ry, p = d * a, _ = f * a;
    n.moveTo(u - d, c), n.bezierCurveTo(u - d, c - _, u - p, c - f, u, c - f), n.bezierCurveTo(u + p, c - f, u + d, c - _, u + d, c), n.bezierCurveTo(u + d, c + _, u + p, c + f, u, c + f), n.bezierCurveTo(u - p, c + f, u - d, c + _, u - d, c), n.closePath();
  }, r;
}(Path$1);
Ellipse.prototype.type = "ellipse";
const Ellipse$1 = Ellipse;
var PI$3 = Math.PI, PI2$2 = PI$3 * 2, mathSin$1 = Math.sin, mathCos$1 = Math.cos, mathACos = Math.acos, mathATan2 = Math.atan2, mathAbs = Math.abs, mathSqrt = Math.sqrt, mathMax$1 = Math.max, mathMin$1 = Math.min, e = 1e-4;
function intersect(i, r, n, o, a, u, c, d) {
  var f = n - i, p = o - r, _ = c - a, v = d - u, g = v * f - _ * p;
  if (!(g * g < e))
    return g = (_ * (r - u) - v * (i - a)) / g, [i + g * f, r + g * p];
}
function computeCornerTangents(i, r, n, o, a, u, c) {
  var d = i - n, f = r - o, p = (c ? u : -u) / mathSqrt(d * d + f * f), _ = p * f, v = -p * d, g = i + _, y = r + v, b = n + _, A = o + v, w = (g + b) / 2, S = (y + A) / 2, T = b - g, x = A - y, L = T * T + x * x, O = a - u, M = g * A - b * y, k = (x < 0 ? -1 : 1) * mathSqrt(mathMax$1(0, O * O * L - M * M)), ie = (M * x - T * k) / L, $ = (-M * T - x * k) / L, Y = (M * x + T * k) / L, D = (-M * T + x * k) / L, re = ie - w, F = $ - S, _e = Y - w, ue = D - S;
  return re * re + F * F > _e * _e + ue * ue && (ie = Y, $ = D), {
    cx: ie,
    cy: $,
    x0: -_,
    y0: -v,
    x1: ie * (a / O - 1),
    y1: $ * (a / O - 1)
  };
}
function normalizeCornerRadius(i) {
  var r;
  if (isArray$1(i)) {
    var n = i.length;
    if (!n)
      return i;
    n === 1 ? r = [i[0], i[0], 0, 0] : n === 2 ? r = [i[0], i[0], i[1], i[1]] : n === 3 ? r = i.concat(i[2]) : r = i;
  } else
    r = [i, i, i, i];
  return r;
}
function buildPath$1(i, r) {
  var n, o = mathMax$1(r.r, 0), a = mathMax$1(r.r0 || 0, 0), u = o > 0, c = a > 0;
  if (!(!u && !c)) {
    if (u || (o = a, a = 0), a > o) {
      var d = o;
      o = a, a = d;
    }
    var f = r.startAngle, p = r.endAngle;
    if (!(isNaN(f) || isNaN(p))) {
      var _ = r.cx, v = r.cy, g = !!r.clockwise, y = mathAbs(p - f), b = y > PI2$2 && y % PI2$2;
      if (b > e && (y = b), !(o > e))
        i.moveTo(_, v);
      else if (y > PI2$2 - e)
        i.moveTo(_ + o * mathCos$1(f), v + o * mathSin$1(f)), i.arc(_, v, o, f, p, !g), a > e && (i.moveTo(_ + a * mathCos$1(p), v + a * mathSin$1(p)), i.arc(_, v, a, p, f, g));
      else {
        var A = void 0, w = void 0, S = void 0, T = void 0, x = void 0, L = void 0, O = void 0, M = void 0, k = void 0, ie = void 0, $ = void 0, Y = void 0, D = void 0, re = void 0, F = void 0, _e = void 0, ue = o * mathCos$1(f), Ie = o * mathSin$1(f), ze = a * mathCos$1(p), Fe = a * mathSin$1(p), Oe = y > e;
        if (Oe) {
          var Lt = r.cornerRadius;
          Lt && (n = normalizeCornerRadius(Lt), A = n[0], w = n[1], S = n[2], T = n[3]);
          var pe = mathAbs(o - a) / 2;
          if (x = mathMin$1(pe, S), L = mathMin$1(pe, T), O = mathMin$1(pe, A), M = mathMin$1(pe, w), $ = k = mathMax$1(x, L), Y = ie = mathMax$1(O, M), (k > e || ie > e) && (D = o * mathCos$1(p), re = o * mathSin$1(p), F = a * mathCos$1(f), _e = a * mathSin$1(f), y < PI$3)) {
            var Cn = intersect(ue, Ie, F, _e, D, re, ze, Fe);
            if (Cn) {
              var In = ue - Cn[0], Dt = Ie - Cn[1], he = D - Cn[0], Et = re - Cn[1], hn = 1 / mathSin$1(mathACos((In * he + Dt * Et) / (mathSqrt(In * In + Dt * Dt) * mathSqrt(he * he + Et * Et))) / 2), vn = mathSqrt(Cn[0] * Cn[0] + Cn[1] * Cn[1]);
              $ = mathMin$1(k, (o - vn) / (hn + 1)), Y = mathMin$1(ie, (a - vn) / (hn - 1));
            }
          }
        }
        if (!Oe)
          i.moveTo(_ + ue, v + Ie);
        else if ($ > e) {
          var kt = mathMin$1(S, $), Ce = mathMin$1(T, $), de = computeCornerTangents(F, _e, ue, Ie, o, kt, g), Ue = computeCornerTangents(D, re, ze, Fe, o, Ce, g);
          i.moveTo(_ + de.cx + de.x0, v + de.cy + de.y0), $ < k && kt === Ce ? i.arc(_ + de.cx, v + de.cy, $, mathATan2(de.y0, de.x0), mathATan2(Ue.y0, Ue.x0), !g) : (kt > 0 && i.arc(_ + de.cx, v + de.cy, kt, mathATan2(de.y0, de.x0), mathATan2(de.y1, de.x1), !g), i.arc(_, v, o, mathATan2(de.cy + de.y1, de.cx + de.x1), mathATan2(Ue.cy + Ue.y1, Ue.cx + Ue.x1), !g), Ce > 0 && i.arc(_ + Ue.cx, v + Ue.cy, Ce, mathATan2(Ue.y1, Ue.x1), mathATan2(Ue.y0, Ue.x0), !g));
        } else
          i.moveTo(_ + ue, v + Ie), i.arc(_, v, o, f, p, !g);
        if (!(a > e) || !Oe)
          i.lineTo(_ + ze, v + Fe);
        else if (Y > e) {
          var kt = mathMin$1(A, Y), Ce = mathMin$1(w, Y), de = computeCornerTangents(ze, Fe, D, re, a, -Ce, g), Ue = computeCornerTangents(ue, Ie, F, _e, a, -kt, g);
          i.lineTo(_ + de.cx + de.x0, v + de.cy + de.y0), Y < ie && kt === Ce ? i.arc(_ + de.cx, v + de.cy, Y, mathATan2(de.y0, de.x0), mathATan2(Ue.y0, Ue.x0), !g) : (Ce > 0 && i.arc(_ + de.cx, v + de.cy, Ce, mathATan2(de.y0, de.x0), mathATan2(de.y1, de.x1), !g), i.arc(_, v, a, mathATan2(de.cy + de.y1, de.cx + de.x1), mathATan2(Ue.cy + Ue.y1, Ue.cx + Ue.x1), g), kt > 0 && i.arc(_ + Ue.cx, v + Ue.cy, kt, mathATan2(Ue.y1, Ue.x1), mathATan2(Ue.y0, Ue.x0), !g));
        } else
          i.lineTo(_ + ze, v + Fe), i.arc(_, v, a, p, f, g);
      }
      i.closePath();
    }
  }
}
var SectorShape = function() {
  function i() {
    this.cx = 0, this.cy = 0, this.r0 = 0, this.r = 0, this.startAngle = 0, this.endAngle = Math.PI * 2, this.clockwise = !0, this.cornerRadius = 0;
  }
  return i;
}(), Sector = function(i) {
  __extends(r, i);
  function r(n) {
    return i.call(this, n) || this;
  }
  return r.prototype.getDefaultShape = function() {
    return new SectorShape();
  }, r.prototype.buildPath = function(n, o) {
    buildPath$1(n, o);
  }, r.prototype.isZeroArea = function() {
    return this.shape.startAngle === this.shape.endAngle || this.shape.r === this.shape.r0;
  }, r;
}(Path$1);
Sector.prototype.type = "sector";
const Sector$1 = Sector;
var RingShape = function() {
  function i() {
    this.cx = 0, this.cy = 0, this.r = 0, this.r0 = 0;
  }
  return i;
}(), Ring = function(i) {
  __extends(r, i);
  function r(n) {
    return i.call(this, n) || this;
  }
  return r.prototype.getDefaultShape = function() {
    return new RingShape();
  }, r.prototype.buildPath = function(n, o) {
    var a = o.cx, u = o.cy, c = Math.PI * 2;
    n.moveTo(a + o.r, u), n.arc(a, u, o.r, 0, c, !1), n.moveTo(a + o.r0, u), n.arc(a, u, o.r0, 0, c, !0);
  }, r;
}(Path$1);
Ring.prototype.type = "ring";
const Ring$1 = Ring;
function smoothBezier(i, r, n, o) {
  var a = [], u = [], c = [], d = [], f, p, _, v;
  if (o) {
    _ = [1 / 0, 1 / 0], v = [-1 / 0, -1 / 0];
    for (var g = 0, y = i.length; g < y; g++)
      min$1(_, _, i[g]), max$1(v, v, i[g]);
    min$1(_, _, o[0]), max$1(v, v, o[1]);
  }
  for (var g = 0, y = i.length; g < y; g++) {
    var b = i[g];
    if (n)
      f = i[g ? g - 1 : y - 1], p = i[(g + 1) % y];
    else if (g === 0 || g === y - 1) {
      a.push(clone$1(i[g]));
      continue;
    } else
      f = i[g - 1], p = i[g + 1];
    sub(u, p, f), scale$1(u, u, r);
    var A = distance(b, f), w = distance(b, p), S = A + w;
    S !== 0 && (A /= S, w /= S), scale$1(c, u, -A), scale$1(d, u, w);
    var T = add([], b, c), x = add([], b, d);
    o && (max$1(T, T, _), min$1(T, T, v), max$1(x, x, _), min$1(x, x, v)), a.push(T), a.push(x);
  }
  return n && a.push(a.shift()), a;
}
function buildPath(i, r, n) {
  var o = r.smooth, a = r.points;
  if (a && a.length >= 2) {
    if (o) {
      var u = smoothBezier(a, o, n, r.smoothConstraint);
      i.moveTo(a[0][0], a[0][1]);
      for (var c = a.length, d = 0; d < (n ? c : c - 1); d++) {
        var f = u[d * 2], p = u[d * 2 + 1], _ = a[(d + 1) % c];
        i.bezierCurveTo(f[0], f[1], p[0], p[1], _[0], _[1]);
      }
    } else {
      i.moveTo(a[0][0], a[0][1]);
      for (var d = 1, v = a.length; d < v; d++)
        i.lineTo(a[d][0], a[d][1]);
    }
    n && i.closePath();
  }
}
var PolygonShape = function() {
  function i() {
    this.points = null, this.smooth = 0, this.smoothConstraint = null;
  }
  return i;
}(), Polygon = function(i) {
  __extends(r, i);
  function r(n) {
    return i.call(this, n) || this;
  }
  return r.prototype.getDefaultShape = function() {
    return new PolygonShape();
  }, r.prototype.buildPath = function(n, o) {
    buildPath(n, o, !0);
  }, r;
}(Path$1);
Polygon.prototype.type = "polygon";
const Polygon$1 = Polygon;
var PolylineShape = function() {
  function i() {
    this.points = null, this.percent = 1, this.smooth = 0, this.smoothConstraint = null;
  }
  return i;
}(), Polyline = function(i) {
  __extends(r, i);
  function r(n) {
    return i.call(this, n) || this;
  }
  return r.prototype.getDefaultStyle = function() {
    return {
      stroke: "#000",
      fill: null
    };
  }, r.prototype.getDefaultShape = function() {
    return new PolylineShape();
  }, r.prototype.buildPath = function(n, o) {
    buildPath(n, o, !1);
  }, r;
}(Path$1);
Polyline.prototype.type = "polyline";
const Polyline$1 = Polyline;
var subPixelOptimizeOutputShape = {}, LineShape = function() {
  function i() {
    this.x1 = 0, this.y1 = 0, this.x2 = 0, this.y2 = 0, this.percent = 1;
  }
  return i;
}(), Line = function(i) {
  __extends(r, i);
  function r(n) {
    return i.call(this, n) || this;
  }
  return r.prototype.getDefaultStyle = function() {
    return {
      stroke: "#000",
      fill: null
    };
  }, r.prototype.getDefaultShape = function() {
    return new LineShape();
  }, r.prototype.buildPath = function(n, o) {
    var a, u, c, d;
    if (this.subPixelOptimize) {
      var f = subPixelOptimizeLine$1(subPixelOptimizeOutputShape, o, this.style);
      a = f.x1, u = f.y1, c = f.x2, d = f.y2;
    } else
      a = o.x1, u = o.y1, c = o.x2, d = o.y2;
    var p = o.percent;
    p !== 0 && (n.moveTo(a, u), p < 1 && (c = a * (1 - p) + c * p, d = u * (1 - p) + d * p), n.lineTo(c, d));
  }, r.prototype.pointAt = function(n) {
    var o = this.shape;
    return [
      o.x1 * (1 - n) + o.x2 * n,
      o.y1 * (1 - n) + o.y2 * n
    ];
  }, r;
}(Path$1);
Line.prototype.type = "line";
const Line$1 = Line;
var out = [], BezierCurveShape = function() {
  function i() {
    this.x1 = 0, this.y1 = 0, this.x2 = 0, this.y2 = 0, this.cpx1 = 0, this.cpy1 = 0, this.percent = 1;
  }
  return i;
}();
function someVectorAt(i, r, n) {
  var o = i.cpx2, a = i.cpy2;
  return o != null || a != null ? [
    (n ? cubicDerivativeAt : cubicAt)(i.x1, i.cpx1, i.cpx2, i.x2, r),
    (n ? cubicDerivativeAt : cubicAt)(i.y1, i.cpy1, i.cpy2, i.y2, r)
  ] : [
    (n ? quadraticDerivativeAt : quadraticAt)(i.x1, i.cpx1, i.x2, r),
    (n ? quadraticDerivativeAt : quadraticAt)(i.y1, i.cpy1, i.y2, r)
  ];
}
var BezierCurve = function(i) {
  __extends(r, i);
  function r(n) {
    return i.call(this, n) || this;
  }
  return r.prototype.getDefaultStyle = function() {
    return {
      stroke: "#000",
      fill: null
    };
  }, r.prototype.getDefaultShape = function() {
    return new BezierCurveShape();
  }, r.prototype.buildPath = function(n, o) {
    var a = o.x1, u = o.y1, c = o.x2, d = o.y2, f = o.cpx1, p = o.cpy1, _ = o.cpx2, v = o.cpy2, g = o.percent;
    g !== 0 && (n.moveTo(a, u), _ == null || v == null ? (g < 1 && (quadraticSubdivide(a, f, c, g, out), f = out[1], c = out[2], quadraticSubdivide(u, p, d, g, out), p = out[1], d = out[2]), n.quadraticCurveTo(f, p, c, d)) : (g < 1 && (cubicSubdivide(a, f, _, c, g, out), f = out[1], _ = out[2], c = out[3], cubicSubdivide(u, p, v, d, g, out), p = out[1], v = out[2], d = out[3]), n.bezierCurveTo(f, p, _, v, c, d)));
  }, r.prototype.pointAt = function(n) {
    return someVectorAt(this.shape, n, !1);
  }, r.prototype.tangentAt = function(n) {
    var o = someVectorAt(this.shape, n, !0);
    return normalize(o, o);
  }, r;
}(Path$1);
BezierCurve.prototype.type = "bezier-curve";
const BezierCurve$1 = BezierCurve;
var ArcShape = function() {
  function i() {
    this.cx = 0, this.cy = 0, this.r = 0, this.startAngle = 0, this.endAngle = Math.PI * 2, this.clockwise = !0;
  }
  return i;
}(), Arc = function(i) {
  __extends(r, i);
  function r(n) {
    return i.call(this, n) || this;
  }
  return r.prototype.getDefaultStyle = function() {
    return {
      stroke: "#000",
      fill: null
    };
  }, r.prototype.getDefaultShape = function() {
    return new ArcShape();
  }, r.prototype.buildPath = function(n, o) {
    var a = o.cx, u = o.cy, c = Math.max(o.r, 0), d = o.startAngle, f = o.endAngle, p = o.clockwise, _ = Math.cos(d), v = Math.sin(d);
    n.moveTo(_ * c + a, v * c + u), n.arc(a, u, c, d, f, !p);
  }, r;
}(Path$1);
Arc.prototype.type = "arc";
const Arc$1 = Arc;
var CompoundPath = function(i) {
  __extends(r, i);
  function r() {
    var n = i !== null && i.apply(this, arguments) || this;
    return n.type = "compound", n;
  }
  return r.prototype._updatePathDirty = function() {
    for (var n = this.shape.paths, o = this.shapeChanged(), a = 0; a < n.length; a++)
      o = o || n[a].shapeChanged();
    o && this.dirtyShape();
  }, r.prototype.beforeBrush = function() {
    this._updatePathDirty();
    for (var n = this.shape.paths || [], o = this.getGlobalScale(), a = 0; a < n.length; a++)
      n[a].path || n[a].createPathProxy(), n[a].path.setScale(o[0], o[1], n[a].segmentIgnoreThreshold);
  }, r.prototype.buildPath = function(n, o) {
    for (var a = o.paths || [], u = 0; u < a.length; u++)
      a[u].buildPath(n, a[u].shape, !0);
  }, r.prototype.afterBrush = function() {
    for (var n = this.shape.paths || [], o = 0; o < n.length; o++)
      n[o].pathUpdated();
  }, r.prototype.getBoundingRect = function() {
    return this._updatePathDirty.call(this), Path$1.prototype.getBoundingRect.call(this);
  }, r;
}(Path$1);
const CompoundPath$1 = CompoundPath;
var Gradient = function() {
  function i(r) {
    this.colorStops = r || [];
  }
  return i.prototype.addColorStop = function(r, n) {
    this.colorStops.push({
      offset: r,
      color: n
    });
  }, i;
}();
const Gradient$1 = Gradient;
var LinearGradient = function(i) {
  __extends(r, i);
  function r(n, o, a, u, c, d) {
    var f = i.call(this, c) || this;
    return f.x = n ?? 0, f.y = o ?? 0, f.x2 = a ?? 1, f.y2 = u ?? 0, f.type = "linear", f.global = d || !1, f;
  }
  return r;
}(Gradient$1);
const LinearGradient$1 = LinearGradient;
var RadialGradient = function(i) {
  __extends(r, i);
  function r(n, o, a, u, c) {
    var d = i.call(this, u) || this;
    return d.x = n ?? 0.5, d.y = o ?? 0.5, d.r = a ?? 0.5, d.type = "radial", d.global = c || !1, d;
  }
  return r;
}(Gradient$1);
const RadialGradient$1 = RadialGradient;
var extent = [0, 0], extent2 = [0, 0], minTv = new Point$1(), maxTv = new Point$1(), OrientedBoundingRect = function() {
  function i(r, n) {
    this._corners = [], this._axes = [], this._origin = [0, 0];
    for (var o = 0; o < 4; o++)
      this._corners[o] = new Point$1();
    for (var o = 0; o < 2; o++)
      this._axes[o] = new Point$1();
    r && this.fromBoundingRect(r, n);
  }
  return i.prototype.fromBoundingRect = function(r, n) {
    var o = this._corners, a = this._axes, u = r.x, c = r.y, d = u + r.width, f = c + r.height;
    if (o[0].set(u, c), o[1].set(d, c), o[2].set(d, f), o[3].set(u, f), n)
      for (var p = 0; p < 4; p++)
        o[p].transform(n);
    Point$1.sub(a[0], o[1], o[0]), Point$1.sub(a[1], o[3], o[0]), a[0].normalize(), a[1].normalize();
    for (var p = 0; p < 2; p++)
      this._origin[p] = a[p].dot(o[0]);
  }, i.prototype.intersect = function(r, n) {
    var o = !0, a = !n;
    return minTv.set(1 / 0, 1 / 0), maxTv.set(0, 0), !this._intersectCheckOneSide(this, r, minTv, maxTv, a, 1) && (o = !1, a) || !this._intersectCheckOneSide(r, this, minTv, maxTv, a, -1) && (o = !1, a) || a || Point$1.copy(n, o ? minTv : maxTv), o;
  }, i.prototype._intersectCheckOneSide = function(r, n, o, a, u, c) {
    for (var d = !0, f = 0; f < 2; f++) {
      var p = this._axes[f];
      if (this._getProjMinMaxOnAxis(f, r._corners, extent), this._getProjMinMaxOnAxis(f, n._corners, extent2), extent[1] < extent2[0] || extent[0] > extent2[1]) {
        if (d = !1, u)
          return d;
        var _ = Math.abs(extent2[0] - extent[1]), v = Math.abs(extent[0] - extent2[1]);
        Math.min(_, v) > a.len() && (_ < v ? Point$1.scale(a, p, -_ * c) : Point$1.scale(a, p, v * c));
      } else if (o) {
        var _ = Math.abs(extent2[0] - extent[1]), v = Math.abs(extent[0] - extent2[1]);
        Math.min(_, v) < o.len() && (_ < v ? Point$1.scale(o, p, _ * c) : Point$1.scale(o, p, -v * c));
      }
    }
    return d;
  }, i.prototype._getProjMinMaxOnAxis = function(r, n, o) {
    for (var a = this._axes[r], u = this._origin, c = n[0].dot(a) + u[r], d = c, f = c, p = 1; p < n.length; p++) {
      var _ = n[p].dot(a) + u[r];
      d = Math.min(_, d), f = Math.max(_, f);
    }
    o[0] = d, o[1] = f;
  }, i;
}();
const OrientedBoundingRect$1 = OrientedBoundingRect;
var m = [], IncrementalDisplayable = function(i) {
  __extends(r, i);
  function r() {
    var n = i !== null && i.apply(this, arguments) || this;
    return n.notClear = !0, n.incremental = !0, n._displayables = [], n._temporaryDisplayables = [], n._cursor = 0, n;
  }
  return r.prototype.traverse = function(n, o) {
    n.call(o, this);
  }, r.prototype.useStyle = function() {
    this.style = {};
  }, r.prototype.getCursor = function() {
    return this._cursor;
  }, r.prototype.innerAfterBrush = function() {
    this._cursor = this._displayables.length;
  }, r.prototype.clearDisplaybles = function() {
    this._displayables = [], this._temporaryDisplayables = [], this._cursor = 0, this.markRedraw(), this.notClear = !1;
  }, r.prototype.clearTemporalDisplayables = function() {
    this._temporaryDisplayables = [];
  }, r.prototype.addDisplayable = function(n, o) {
    o ? this._temporaryDisplayables.push(n) : this._displayables.push(n), this.markRedraw();
  }, r.prototype.addDisplayables = function(n, o) {
    o = o || !1;
    for (var a = 0; a < n.length; a++)
      this.addDisplayable(n[a], o);
  }, r.prototype.getDisplayables = function() {
    return this._displayables;
  }, r.prototype.getTemporalDisplayables = function() {
    return this._temporaryDisplayables;
  }, r.prototype.eachPendingDisplayable = function(n) {
    for (var o = this._cursor; o < this._displayables.length; o++)
      n && n(this._displayables[o]);
    for (var o = 0; o < this._temporaryDisplayables.length; o++)
      n && n(this._temporaryDisplayables[o]);
  }, r.prototype.update = function() {
    this.updateTransform();
    for (var n = this._cursor; n < this._displayables.length; n++) {
      var o = this._displayables[n];
      o.parent = this, o.update(), o.parent = null;
    }
    for (var n = 0; n < this._temporaryDisplayables.length; n++) {
      var o = this._temporaryDisplayables[n];
      o.parent = this, o.update(), o.parent = null;
    }
  }, r.prototype.getBoundingRect = function() {
    if (!this._rect) {
      for (var n = new BoundingRect$1(1 / 0, 1 / 0, -1 / 0, -1 / 0), o = 0; o < this._displayables.length; o++) {
        var a = this._displayables[o], u = a.getBoundingRect().clone();
        a.needLocalTransform() && u.applyTransform(a.getLocalTransform(m)), n.union(u);
      }
      this._rect = n;
    }
    return this._rect;
  }, r.prototype.contain = function(n, o) {
    var a = this.transformCoordToLocal(n, o), u = this.getBoundingRect();
    if (u.contain(a[0], a[1]))
      for (var c = 0; c < this._displayables.length; c++) {
        var d = this._displayables[c];
        if (d.contain(n, o))
          return !0;
      }
    return !1;
  }, r;
}(Displayable$1);
const IncrementalDisplayable$1 = IncrementalDisplayable;
var transitionStore = makeInner();
function getAnimationConfig(i, r, n, o, a) {
  var u;
  if (r && r.ecModel) {
    var c = r.ecModel.getUpdatePayload();
    u = c && c.animation;
  }
  var d = r && r.isAnimationEnabled(), f = i === "update";
  if (d) {
    var p = void 0, _ = void 0, v = void 0;
    o ? (p = retrieve2(o.duration, 200), _ = retrieve2(o.easing, "cubicOut"), v = 0) : (p = r.getShallow(f ? "animationDurationUpdate" : "animationDuration"), _ = r.getShallow(f ? "animationEasingUpdate" : "animationEasing"), v = r.getShallow(f ? "animationDelayUpdate" : "animationDelay")), u && (u.duration != null && (p = u.duration), u.easing != null && (_ = u.easing), u.delay != null && (v = u.delay)), isFunction$1(v) && (v = v(n, a)), isFunction$1(p) && (p = p(n));
    var g = {
      duration: p || 0,
      delay: v,
      easing: _
    };
    return g;
  } else
    return null;
}
function animateOrSetProps(i, r, n, o, a, u, c) {
  var d = !1, f;
  isFunction$1(a) ? (c = u, u = a, a = null) : isObject$3(a) && (u = a.cb, c = a.during, d = a.isFrom, f = a.removeOpt, a = a.dataIndex);
  var p = i === "leave";
  p || r.stopAnimation("leave");
  var _ = getAnimationConfig(i, o, a, p ? f || {} : null, o && o.getAnimationDelayParams ? o.getAnimationDelayParams(r, a) : null);
  if (_ && _.duration > 0) {
    var v = _.duration, g = _.delay, y = _.easing, b = {
      duration: v,
      delay: g || 0,
      easing: y,
      done: u,
      force: !!u || !!c,
      // Set to final state in update/init animation.
      // So the post processing based on the path shape can be done correctly.
      setToFinal: !p,
      scope: i,
      during: c
    };
    d ? r.animateFrom(n, b) : r.animateTo(n, b);
  } else
    r.stopAnimation(), !d && r.attr(n), c && c(1), u && u();
}
function updateProps$1(i, r, n, o, a, u) {
  animateOrSetProps("update", i, r, n, o, a, u);
}
function initProps(i, r, n, o, a, u) {
  animateOrSetProps("enter", i, r, n, o, a, u);
}
function isElementRemoved(i) {
  if (!i.__zr)
    return !0;
  for (var r = 0; r < i.animators.length; r++) {
    var n = i.animators[r];
    if (n.scope === "leave")
      return !0;
  }
  return !1;
}
function removeElement(i, r, n, o, a, u) {
  isElementRemoved(i) || animateOrSetProps("leave", i, r, n, o, a, u);
}
function fadeOutDisplayable(i, r, n, o) {
  i.removeTextContent(), i.removeTextGuideLine(), removeElement(i, {
    style: {
      opacity: 0
    }
  }, r, n, o);
}
function removeElementWithFadeOut(i, r, n) {
  function o() {
    i.parent && i.parent.remove(i);
  }
  i.isGroup ? i.traverse(function(a) {
    a.isGroup || fadeOutDisplayable(a, r, n, o);
  }) : fadeOutDisplayable(i, r, n, o);
}
function saveOldStyle(i) {
  transitionStore(i).oldStyle = i.style;
}
var mathMax = Math.max, mathMin = Math.min, _customShapeMap = {};
function extendShape(i) {
  return Path$1.extend(i);
}
var extendPathFromString = extendFromString;
function extendPath(i, r) {
  return extendPathFromString(i, r);
}
function registerShape(i, r) {
  _customShapeMap[i] = r;
}
function getShapeClass(i) {
  if (_customShapeMap.hasOwnProperty(i))
    return _customShapeMap[i];
}
function makePath(i, r, n, o) {
  var a = createFromString(i, r);
  return n && (o === "center" && (n = centerGraphic(n, a.getBoundingRect())), resizePath(a, n)), a;
}
function makeImage(i, r, n) {
  var o = new ZRImage$1({
    style: {
      image: i,
      x: r.x,
      y: r.y,
      width: r.width,
      height: r.height
    },
    onload: function(a) {
      if (n === "center") {
        var u = {
          width: a.width,
          height: a.height
        };
        o.setStyle(centerGraphic(r, u));
      }
    }
  });
  return o;
}
function centerGraphic(i, r) {
  var n = r.width / r.height, o = i.height * n, a;
  o <= i.width ? a = i.height : (o = i.width, a = o / n);
  var u = i.x + i.width / 2, c = i.y + i.height / 2;
  return {
    x: u - o / 2,
    y: c - a / 2,
    width: o,
    height: a
  };
}
var mergePath = mergePath$1;
function resizePath(i, r) {
  if (i.applyTransform) {
    var n = i.getBoundingRect(), o = n.calculateTransform(r);
    i.applyTransform(o);
  }
}
function subPixelOptimizeLine(i, r) {
  return subPixelOptimizeLine$1(i, i, {
    lineWidth: r
  }), i;
}
function subPixelOptimizeRect(i) {
  return subPixelOptimizeRect$1(i.shape, i.shape, i.style), i;
}
var subPixelOptimize = subPixelOptimize$1;
function getTransform(i, r) {
  for (var n = identity$1([]); i && i !== r; )
    mul(n, i.getLocalTransform(), n), i = i.parent;
  return n;
}
function applyTransform(i, r, n) {
  return r && !isArrayLike(r) && (r = Transformable$1.getLocalTransform(r)), n && (r = invert([], r)), applyTransform$1([], i, r);
}
function transformDirection(i, r, n) {
  var o = r[4] === 0 || r[5] === 0 || r[0] === 0 ? 1 : Math.abs(2 * r[4] / r[0]), a = r[4] === 0 || r[5] === 0 || r[2] === 0 ? 1 : Math.abs(2 * r[4] / r[2]), u = [i === "left" ? -o : i === "right" ? o : 0, i === "top" ? -a : i === "bottom" ? a : 0];
  return u = applyTransform(u, r, n), Math.abs(u[0]) > Math.abs(u[1]) ? u[0] > 0 ? "right" : "left" : u[1] > 0 ? "bottom" : "top";
}
function isNotGroup(i) {
  return !i.isGroup;
}
function isPath(i) {
  return i.shape != null;
}
function groupTransition(i, r, n) {
  if (!i || !r)
    return;
  function o(c) {
    var d = {};
    return c.traverse(function(f) {
      isNotGroup(f) && f.anid && (d[f.anid] = f);
    }), d;
  }
  function a(c) {
    var d = {
      x: c.x,
      y: c.y,
      rotation: c.rotation
    };
    return isPath(c) && (d.shape = extend({}, c.shape)), d;
  }
  var u = o(i);
  r.traverse(function(c) {
    if (isNotGroup(c) && c.anid) {
      var d = u[c.anid];
      if (d) {
        var f = a(c);
        c.attr(a(d)), updateProps$1(c, f, n, getECData(c).dataIndex);
      }
    }
  });
}
function clipPointsByRect(i, r) {
  return map$1(i, function(n) {
    var o = n[0];
    o = mathMax(o, r.x), o = mathMin(o, r.x + r.width);
    var a = n[1];
    return a = mathMax(a, r.y), a = mathMin(a, r.y + r.height), [o, a];
  });
}
function clipRectByRect(i, r) {
  var n = mathMax(i.x, r.x), o = mathMin(i.x + i.width, r.x + r.width), a = mathMax(i.y, r.y), u = mathMin(i.y + i.height, r.y + r.height);
  if (o >= n && u >= a)
    return {
      x: n,
      y: a,
      width: o - n,
      height: u - a
    };
}
function createIcon(i, r, n) {
  var o = extend({
    rectHover: !0
  }, r), a = o.style = {
    strokeNoScale: !0
  };
  if (n = n || {
    x: -1,
    y: -1,
    width: 2,
    height: 2
  }, i)
    return i.indexOf("image://") === 0 ? (a.image = i.slice(8), defaults(a, n), new ZRImage$1(o)) : makePath(i.replace("path://", ""), o, n, "center");
}
function linePolygonIntersect(i, r, n, o, a) {
  for (var u = 0, c = a[a.length - 1]; u < a.length; u++) {
    var d = a[u];
    if (lineLineIntersect(i, r, n, o, d[0], d[1], c[0], c[1]))
      return !0;
    c = d;
  }
}
function lineLineIntersect(i, r, n, o, a, u, c, d) {
  var f = n - i, p = o - r, _ = c - a, v = d - u, g = crossProduct2d(_, v, f, p);
  if (nearZero(g))
    return !1;
  var y = i - a, b = r - u, A = crossProduct2d(y, b, f, p) / g;
  if (A < 0 || A > 1)
    return !1;
  var w = crossProduct2d(y, b, _, v) / g;
  return !(w < 0 || w > 1);
}
function crossProduct2d(i, r, n, o) {
  return i * o - n * r;
}
function nearZero(i) {
  return i <= 1e-6 && i >= -1e-6;
}
function setTooltipConfig(i) {
  var r = i.itemTooltipOption, n = i.componentModel, o = i.itemName, a = isString$2(r) ? {
    formatter: r
  } : r, u = n.mainType, c = n.componentIndex, d = {
    componentType: u,
    name: o,
    $vars: ["name"]
  };
  d[u + "Index"] = c;
  var f = i.formatterParamsExtra;
  f && each$4(keys(f), function(_) {
    hasOwn$1(d, _) || (d[_] = f[_], d.$vars.push(_));
  });
  var p = getECData(i.el);
  p.componentMainType = u, p.componentIndex = c, p.tooltipConfig = {
    name: o,
    option: defaults({
      content: o,
      encodeHTMLContent: !0,
      formatterParams: d
    }, a)
  };
}
function traverseElement(i, r) {
  var n;
  i.isGroup && (n = r(i)), n || i.traverse(r);
}
function traverseElements(i, r) {
  if (i)
    if (isArray$1(i))
      for (var n = 0; n < i.length; n++)
        traverseElement(i[n], r);
    else
      traverseElement(i, r);
}
registerShape("circle", Circle$1);
registerShape("ellipse", Ellipse$1);
registerShape("sector", Sector$1);
registerShape("ring", Ring$1);
registerShape("polygon", Polygon$1);
registerShape("polyline", Polyline$1);
registerShape("rect", Rect$1);
registerShape("line", Line$1);
registerShape("bezierCurve", BezierCurve$1);
registerShape("arc", Arc$1);
const graphic = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  Arc: Arc$1,
  BezierCurve: BezierCurve$1,
  BoundingRect: BoundingRect$1,
  Circle: Circle$1,
  CompoundPath: CompoundPath$1,
  Ellipse: Ellipse$1,
  Group: Group$3,
  Image: ZRImage$1,
  IncrementalDisplayable: IncrementalDisplayable$1,
  Line: Line$1,
  LinearGradient: LinearGradient$1,
  OrientedBoundingRect: OrientedBoundingRect$1,
  Path: Path$1,
  Point: Point$1,
  Polygon: Polygon$1,
  Polyline: Polyline$1,
  RadialGradient: RadialGradient$1,
  Rect: Rect$1,
  Ring: Ring$1,
  Sector: Sector$1,
  Text: ZRText$1,
  applyTransform,
  clipPointsByRect,
  clipRectByRect,
  createIcon,
  extendPath,
  extendShape,
  getShapeClass,
  getTransform,
  groupTransition,
  initProps,
  isElementRemoved,
  lineLineIntersect,
  linePolygonIntersect,
  makeImage,
  makePath,
  mergePath,
  registerShape,
  removeElement,
  removeElementWithFadeOut,
  resizePath,
  setTooltipConfig,
  subPixelOptimize,
  subPixelOptimizeLine,
  subPixelOptimizeRect,
  transformDirection,
  traverseElements,
  updateProps: updateProps$1
}, Symbol.toStringTag, { value: "Module" }));
var EMPTY_OBJ = {};
function setLabelText(i, r) {
  for (var n = 0; n < SPECIAL_STATES.length; n++) {
    var o = SPECIAL_STATES[n], a = r[o], u = i.ensureState(o);
    u.style = u.style || {}, u.style.text = a;
  }
  var c = i.currentStates.slice();
  i.clearStates(!0), i.setStyle({
    text: r.normal
  }), i.useStates(c, !0);
}
function getLabelText(i, r, n) {
  var o = i.labelFetcher, a = i.labelDataIndex, u = i.labelDimIndex, c = r.normal, d;
  o && (d = o.getFormattedLabel(a, "normal", null, u, c && c.get("formatter"), n != null ? {
    interpolatedValue: n
  } : null)), d == null && (d = isFunction$1(i.defaultText) ? i.defaultText(a, i, n) : i.defaultText);
  for (var f = {
    normal: d
  }, p = 0; p < SPECIAL_STATES.length; p++) {
    var _ = SPECIAL_STATES[p], v = r[_];
    f[_] = retrieve2(o ? o.getFormattedLabel(a, _, null, u, v && v.get("formatter")) : null, d);
  }
  return f;
}
function setLabelStyle(i, r, n, o) {
  n = n || EMPTY_OBJ;
  for (var a = i instanceof ZRText$1, u = !1, c = 0; c < DISPLAY_STATES.length; c++) {
    var d = r[DISPLAY_STATES[c]];
    if (d && d.getShallow("show")) {
      u = !0;
      break;
    }
  }
  var f = a ? i : i.getTextContent();
  if (u) {
    a || (f || (f = new ZRText$1(), i.setTextContent(f)), i.stateProxy && (f.stateProxy = i.stateProxy));
    var p = getLabelText(n, r), _ = r.normal, v = !!_.getShallow("show"), g = createTextStyle(_, o && o.normal, n, !1, !a);
    g.text = p.normal, a || i.setTextConfig(createTextConfig(_, n, !1));
    for (var c = 0; c < SPECIAL_STATES.length; c++) {
      var y = SPECIAL_STATES[c], d = r[y];
      if (d) {
        var b = f.ensureState(y), A = !!retrieve2(d.getShallow("show"), v);
        if (A !== v && (b.ignore = !A), b.style = createTextStyle(d, o && o[y], n, !0, !a), b.style.text = p[y], !a) {
          var w = i.ensureState(y);
          w.textConfig = createTextConfig(d, n, !0);
        }
      }
    }
    f.silent = !!_.getShallow("silent"), f.style.x != null && (g.x = f.style.x), f.style.y != null && (g.y = f.style.y), f.ignore = !v, f.useStyle(g), f.dirty(), n.enableTextSetter && (labelInner(f).setLabelText = function(S) {
      var T = getLabelText(n, r, S);
      setLabelText(f, T);
    });
  } else
    f && (f.ignore = !0);
  i.dirty();
}
function getLabelStatesModels(i, r) {
  r = r || "label";
  for (var n = {
    normal: i.getModel(r)
  }, o = 0; o < SPECIAL_STATES.length; o++) {
    var a = SPECIAL_STATES[o];
    n[a] = i.getModel([a, r]);
  }
  return n;
}
function createTextStyle(i, r, n, o, a) {
  var u = {};
  return setTextStyleCommon(u, i, n, o, a), r && extend(u, r), u;
}
function createTextConfig(i, r, n) {
  r = r || {};
  var o = {}, a, u = i.getShallow("rotate"), c = retrieve2(i.getShallow("distance"), n ? null : 5), d = i.getShallow("offset");
  return a = i.getShallow("position") || (n ? null : "inside"), a === "outside" && (a = r.defaultOutsidePosition || "top"), a != null && (o.position = a), d != null && (o.offset = d), u != null && (u *= Math.PI / 180, o.rotation = u), c != null && (o.distance = c), o.outsideFill = i.get("color") === "inherit" ? r.inheritColor || null : "auto", o;
}
function setTextStyleCommon(i, r, n, o, a) {
  n = n || EMPTY_OBJ;
  var u = r.ecModel, c = u && u.option.textStyle, d = getRichItemNames(r), f;
  if (d) {
    f = {};
    for (var p in d)
      if (d.hasOwnProperty(p)) {
        var _ = r.getModel(["rich", p]);
        setTokenTextStyle(f[p] = {}, _, c, n, o, a, !1, !0);
      }
  }
  f && (i.rich = f);
  var v = r.get("overflow");
  v && (i.overflow = v);
  var g = r.get("minMargin");
  g != null && (i.margin = g), setTokenTextStyle(i, r, c, n, o, a, !0, !1);
}
function getRichItemNames(i) {
  for (var r; i && i !== i.ecModel; ) {
    var n = (i.option || EMPTY_OBJ).rich;
    if (n) {
      r = r || {};
      for (var o = keys(n), a = 0; a < o.length; a++) {
        var u = o[a];
        r[u] = 1;
      }
    }
    i = i.parentModel;
  }
  return r;
}
var TEXT_PROPS_WITH_GLOBAL = ["fontStyle", "fontWeight", "fontSize", "fontFamily", "textShadowColor", "textShadowBlur", "textShadowOffsetX", "textShadowOffsetY"], TEXT_PROPS_SELF = ["align", "lineHeight", "width", "height", "tag", "verticalAlign", "ellipsis"], TEXT_PROPS_BOX = ["padding", "borderWidth", "borderRadius", "borderDashOffset", "backgroundColor", "borderColor", "shadowColor", "shadowBlur", "shadowOffsetX", "shadowOffsetY"];
function setTokenTextStyle(i, r, n, o, a, u, c, d) {
  n = !a && n || EMPTY_OBJ;
  var f = o && o.inheritColor, p = r.getShallow("color"), _ = r.getShallow("textBorderColor"), v = retrieve2(r.getShallow("opacity"), n.opacity);
  (p === "inherit" || p === "auto") && (process.env.NODE_ENV !== "production" && p === "auto" && deprecateReplaceLog("color: 'auto'", "color: 'inherit'"), f ? p = f : p = null), (_ === "inherit" || _ === "auto") && (process.env.NODE_ENV !== "production" && _ === "auto" && deprecateReplaceLog("color: 'auto'", "color: 'inherit'"), f ? _ = f : _ = null), u || (p = p || n.color, _ = _ || n.textBorderColor), p != null && (i.fill = p), _ != null && (i.stroke = _);
  var g = retrieve2(r.getShallow("textBorderWidth"), n.textBorderWidth);
  g != null && (i.lineWidth = g);
  var y = retrieve2(r.getShallow("textBorderType"), n.textBorderType);
  y != null && (i.lineDash = y);
  var b = retrieve2(r.getShallow("textBorderDashOffset"), n.textBorderDashOffset);
  b != null && (i.lineDashOffset = b), !a && v == null && !d && (v = o && o.defaultOpacity), v != null && (i.opacity = v), !a && !u && i.fill == null && o.inheritColor && (i.fill = o.inheritColor);
  for (var A = 0; A < TEXT_PROPS_WITH_GLOBAL.length; A++) {
    var w = TEXT_PROPS_WITH_GLOBAL[A], S = retrieve2(r.getShallow(w), n[w]);
    S != null && (i[w] = S);
  }
  for (var A = 0; A < TEXT_PROPS_SELF.length; A++) {
    var w = TEXT_PROPS_SELF[A], S = r.getShallow(w);
    S != null && (i[w] = S);
  }
  if (i.verticalAlign == null) {
    var T = r.getShallow("baseline");
    T != null && (i.verticalAlign = T);
  }
  if (!c || !o.disableBox) {
    for (var A = 0; A < TEXT_PROPS_BOX.length; A++) {
      var w = TEXT_PROPS_BOX[A], S = r.getShallow(w);
      S != null && (i[w] = S);
    }
    var x = r.getShallow("borderType");
    x != null && (i.borderDash = x), (i.backgroundColor === "auto" || i.backgroundColor === "inherit") && f && (process.env.NODE_ENV !== "production" && i.backgroundColor === "auto" && deprecateReplaceLog("backgroundColor: 'auto'", "backgroundColor: 'inherit'"), i.backgroundColor = f), (i.borderColor === "auto" || i.borderColor === "inherit") && f && (process.env.NODE_ENV !== "production" && i.borderColor === "auto" && deprecateReplaceLog("borderColor: 'auto'", "borderColor: 'inherit'"), i.borderColor = f);
  }
}
function getFont(i, r) {
  var n = r && r.getModel("textStyle");
  return trim([
    // FIXME in node-canvas fontWeight is before fontStyle
    i.fontStyle || n && n.getShallow("fontStyle") || "",
    i.fontWeight || n && n.getShallow("fontWeight") || "",
    (i.fontSize || n && n.getShallow("fontSize") || 12) + "px",
    i.fontFamily || n && n.getShallow("fontFamily") || "sans-serif"
  ].join(" "));
}
var labelInner = makeInner(), PATH_COLOR = ["textStyle", "color"], textStyleParams = ["fontStyle", "fontWeight", "fontSize", "fontFamily", "padding", "lineHeight", "rich", "width", "height", "overflow"], tmpText = new ZRText$1(), TextStyleMixin = (
  /** @class */
  function() {
    function i() {
    }
    return i.prototype.getTextColor = function(r) {
      var n = this.ecModel;
      return this.getShallow("color") || (!r && n ? n.get(PATH_COLOR) : null);
    }, i.prototype.getFont = function() {
      return getFont({
        fontStyle: this.getShallow("fontStyle"),
        fontWeight: this.getShallow("fontWeight"),
        fontSize: this.getShallow("fontSize"),
        fontFamily: this.getShallow("fontFamily")
      }, this.ecModel);
    }, i.prototype.getTextRect = function(r) {
      for (var n = {
        text: r,
        verticalAlign: this.getShallow("verticalAlign") || this.getShallow("baseline")
      }, o = 0; o < textStyleParams.length; o++)
        n[textStyleParams[o]] = this.getShallow(textStyleParams[o]);
      return tmpText.useStyle(n), tmpText.update(), tmpText.getBoundingRect();
    }, i;
  }()
);
const TextStyleMixin$1 = TextStyleMixin;
var LINE_STYLE_KEY_MAP = [
  ["lineWidth", "width"],
  ["stroke", "color"],
  ["opacity"],
  ["shadowBlur"],
  ["shadowOffsetX"],
  ["shadowOffsetY"],
  ["shadowColor"],
  ["lineDash", "type"],
  ["lineDashOffset", "dashOffset"],
  ["lineCap", "cap"],
  ["lineJoin", "join"],
  ["miterLimit"]
  // Option decal is in `DecalObject` but style.decal is in `PatternObject`.
  // So do not transfer decal directly.
], getLineStyle = makeStyleMapper(LINE_STYLE_KEY_MAP), LineStyleMixin = (
  /** @class */
  function() {
    function i() {
    }
    return i.prototype.getLineStyle = function(r) {
      return getLineStyle(this, r);
    }, i;
  }()
), ITEM_STYLE_KEY_MAP = [
  ["fill", "color"],
  ["stroke", "borderColor"],
  ["lineWidth", "borderWidth"],
  ["opacity"],
  ["shadowBlur"],
  ["shadowOffsetX"],
  ["shadowOffsetY"],
  ["shadowColor"],
  ["lineDash", "borderType"],
  ["lineDashOffset", "borderDashOffset"],
  ["lineCap", "borderCap"],
  ["lineJoin", "borderJoin"],
  ["miterLimit", "borderMiterLimit"]
  // Option decal is in `DecalObject` but style.decal is in `PatternObject`.
  // So do not transfer decal directly.
], getItemStyle = makeStyleMapper(ITEM_STYLE_KEY_MAP), ItemStyleMixin = (
  /** @class */
  function() {
    function i() {
    }
    return i.prototype.getItemStyle = function(r, n) {
      return getItemStyle(this, r, n);
    }, i;
  }()
), Model = (
  /** @class */
  function() {
    function i(r, n, o) {
      this.parentModel = n, this.ecModel = o, this.option = r;
    }
    return i.prototype.init = function(r, n, o) {
    }, i.prototype.mergeOption = function(r, n) {
      merge(this.option, r, !0);
    }, i.prototype.get = function(r, n) {
      return r == null ? this.option : this._doGet(this.parsePath(r), !n && this.parentModel);
    }, i.prototype.getShallow = function(r, n) {
      var o = this.option, a = o == null ? o : o[r];
      if (a == null && !n) {
        var u = this.parentModel;
        u && (a = u.getShallow(r));
      }
      return a;
    }, i.prototype.getModel = function(r, n) {
      var o = r != null, a = o ? this.parsePath(r) : null, u = o ? this._doGet(a) : this.option;
      return n = n || this.parentModel && this.parentModel.getModel(this.resolveParentPath(a)), new i(u, n, this.ecModel);
    }, i.prototype.isEmpty = function() {
      return this.option == null;
    }, i.prototype.restoreData = function() {
    }, i.prototype.clone = function() {
      var r = this.constructor;
      return new r(clone$2(this.option));
    }, i.prototype.parsePath = function(r) {
      return typeof r == "string" ? r.split(".") : r;
    }, i.prototype.resolveParentPath = function(r) {
      return r;
    }, i.prototype.isAnimationEnabled = function() {
      if (!env$1.node && this.option) {
        if (this.option.animation != null)
          return !!this.option.animation;
        if (this.parentModel)
          return this.parentModel.isAnimationEnabled();
      }
    }, i.prototype._doGet = function(r, n) {
      var o = this.option;
      if (!r)
        return o;
      for (var a = 0; a < r.length && !(r[a] && (o = o && typeof o == "object" ? o[r[a]] : null, o == null)); a++)
        ;
      return o == null && n && (o = n._doGet(this.resolveParentPath(r), n.parentModel)), o;
    }, i;
  }()
);
enableClassExtend(Model);
enableClassCheck(Model);
mixin(Model, LineStyleMixin);
mixin(Model, ItemStyleMixin);
mixin(Model, AreaStyleMixin);
mixin(Model, TextStyleMixin$1);
const Model$1 = Model;
var base = Math.round(Math.random() * 10);
function getUID(i) {
  return [i || "", base++].join("_");
}
function enableSubTypeDefaulter(i) {
  var r = {};
  i.registerSubTypeDefaulter = function(n, o) {
    var a = parseClassType(n);
    r[a.main] = o;
  }, i.determineSubType = function(n, o) {
    var a = o.type;
    if (!a) {
      var u = parseClassType(n).main;
      i.hasSubTypes(n) && r[u] && (a = r[u](o));
    }
    return a;
  };
}
function enableTopologicalTravel(i, r) {
  i.topologicalTravel = function(u, c, d, f) {
    if (!u.length)
      return;
    var p = n(c), _ = p.graph, v = p.noEntryList, g = {};
    for (each$4(u, function(T) {
      g[T] = !0;
    }); v.length; ) {
      var y = v.pop(), b = _[y], A = !!g[y];
      A && (d.call(f, y, b.originalDeps.slice()), delete g[y]), each$4(b.successor, A ? S : w);
    }
    each$4(g, function() {
      var T = "";
      throw process.env.NODE_ENV !== "production" && (T = makePrintable("Circular dependency may exists: ", g, u, c)), new Error(T);
    });
    function w(T) {
      _[T].entryCount--, _[T].entryCount === 0 && v.push(T);
    }
    function S(T) {
      g[T] = !0, w(T);
    }
  };
  function n(u) {
    var c = {}, d = [];
    return each$4(u, function(f) {
      var p = o(c, f), _ = p.originalDeps = r(f), v = a(_, u);
      p.entryCount = v.length, p.entryCount === 0 && d.push(f), each$4(v, function(g) {
        indexOf(p.predecessor, g) < 0 && p.predecessor.push(g);
        var y = o(c, g);
        indexOf(y.successor, g) < 0 && y.successor.push(f);
      });
    }), {
      graph: c,
      noEntryList: d
    };
  }
  function o(u, c) {
    return u[c] || (u[c] = {
      predecessor: [],
      successor: []
    }), u[c];
  }
  function a(u, c) {
    var d = [];
    return each$4(u, function(f) {
      indexOf(c, f) >= 0 && d.push(f);
    }), d;
  }
}
function inheritDefaultOption(i, r) {
  return merge(merge({}, i, !0), r, !0);
}
const langEN = {
  time: {
    month: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
    monthAbbr: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
    dayOfWeek: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
    dayOfWeekAbbr: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"]
  },
  legend: {
    selector: {
      all: "All",
      inverse: "Inv"
    }
  },
  toolbox: {
    brush: {
      title: {
        rect: "Box Select",
        polygon: "Lasso Select",
        lineX: "Horizontally Select",
        lineY: "Vertically Select",
        keep: "Keep Selections",
        clear: "Clear Selections"
      }
    },
    dataView: {
      title: "Data View",
      lang: ["Data View", "Close", "Refresh"]
    },
    dataZoom: {
      title: {
        zoom: "Zoom",
        back: "Zoom Reset"
      }
    },
    magicType: {
      title: {
        line: "Switch to Line Chart",
        bar: "Switch to Bar Chart",
        stack: "Stack",
        tiled: "Tile"
      }
    },
    restore: {
      title: "Restore"
    },
    saveAsImage: {
      title: "Save as Image",
      lang: ["Right Click to Save Image"]
    }
  },
  series: {
    typeNames: {
      pie: "Pie chart",
      bar: "Bar chart",
      line: "Line chart",
      scatter: "Scatter plot",
      effectScatter: "Ripple scatter plot",
      radar: "Radar chart",
      tree: "Tree",
      treemap: "Treemap",
      boxplot: "Boxplot",
      candlestick: "Candlestick",
      k: "K line chart",
      heatmap: "Heat map",
      map: "Map",
      parallel: "Parallel coordinate map",
      lines: "Line graph",
      graph: "Relationship graph",
      sankey: "Sankey diagram",
      funnel: "Funnel chart",
      gauge: "Gauge",
      pictorialBar: "Pictorial bar",
      themeRiver: "Theme River Map",
      sunburst: "Sunburst",
      custom: "Custom chart",
      chart: "Chart"
    }
  },
  aria: {
    general: {
      withTitle: 'This is a chart about "{title}"',
      withoutTitle: "This is a chart"
    },
    series: {
      single: {
        prefix: "",
        withName: " with type {seriesType} named {seriesName}.",
        withoutName: " with type {seriesType}."
      },
      multiple: {
        prefix: ". It consists of {seriesCount} series count.",
        withName: " The {seriesId} series is a {seriesType} representing {seriesName}.",
        withoutName: " The {seriesId} series is a {seriesType}.",
        separator: {
          middle: "",
          end: ""
        }
      }
    },
    data: {
      allData: "The data is as follows: ",
      partialData: "The first {displayCnt} items are: ",
      withName: "the data for {name} is {value}",
      withoutName: "{value}",
      separator: {
        middle: ", ",
        end: ". "
      }
    }
  }
}, langZH = {
  time: {
    month: ["一月", "二月", "三月", "四月", "五月", "六月", "七月", "八月", "九月", "十月", "十一月", "十二月"],
    monthAbbr: ["1月", "2月", "3月", "4月", "5月", "6月", "7月", "8月", "9月", "10月", "11月", "12月"],
    dayOfWeek: ["星期日", "星期一", "星期二", "星期三", "星期四", "星期五", "星期六"],
    dayOfWeekAbbr: ["日", "一", "二", "三", "四", "五", "六"]
  },
  legend: {
    selector: {
      all: "全选",
      inverse: "反选"
    }
  },
  toolbox: {
    brush: {
      title: {
        rect: "矩形选择",
        polygon: "圈选",
        lineX: "横向选择",
        lineY: "纵向选择",
        keep: "保持选择",
        clear: "清除选择"
      }
    },
    dataView: {
      title: "数据视图",
      lang: ["数据视图", "关闭", "刷新"]
    },
    dataZoom: {
      title: {
        zoom: "区域缩放",
        back: "区域缩放还原"
      }
    },
    magicType: {
      title: {
        line: "切换为折线图",
        bar: "切换为柱状图",
        stack: "切换为堆叠",
        tiled: "切换为平铺"
      }
    },
    restore: {
      title: "还原"
    },
    saveAsImage: {
      title: "保存为图片",
      lang: ["右键另存为图片"]
    }
  },
  series: {
    typeNames: {
      pie: "饼图",
      bar: "柱状图",
      line: "折线图",
      scatter: "散点图",
      effectScatter: "涟漪散点图",
      radar: "雷达图",
      tree: "树图",
      treemap: "矩形树图",
      boxplot: "箱型图",
      candlestick: "K线图",
      k: "K线图",
      heatmap: "热力图",
      map: "地图",
      parallel: "平行坐标图",
      lines: "线图",
      graph: "关系图",
      sankey: "桑基图",
      funnel: "漏斗图",
      gauge: "仪表盘图",
      pictorialBar: "象形柱图",
      themeRiver: "主题河流图",
      sunburst: "旭日图",
      custom: "自定义图表",
      chart: "图表"
    }
  },
  aria: {
    general: {
      withTitle: "这是一个关于“{title}”的图表。",
      withoutTitle: "这是一个图表，"
    },
    series: {
      single: {
        prefix: "",
        withName: "图表类型是{seriesType}，表示{seriesName}。",
        withoutName: "图表类型是{seriesType}。"
      },
      multiple: {
        prefix: "它由{seriesCount}个图表系列组成。",
        withName: "第{seriesId}个系列是一个表示{seriesName}的{seriesType}，",
        withoutName: "第{seriesId}个系列是一个{seriesType}，",
        separator: {
          middle: "；",
          end: "。"
        }
      }
    },
    data: {
      allData: "其数据是——",
      partialData: "其中，前{displayCnt}项是——",
      withName: "{name}的数据是{value}",
      withoutName: "{value}",
      separator: {
        middle: "，",
        end: ""
      }
    }
  }
};
var LOCALE_ZH = "ZH", LOCALE_EN = "EN", DEFAULT_LOCALE = LOCALE_EN, localeStorage = {}, localeModels = {}, SYSTEM_LANG = env$1.domSupported ? function() {
  var i = (
    /* eslint-disable-next-line */
    (document.documentElement.lang || navigator.language || navigator.browserLanguage || DEFAULT_LOCALE).toUpperCase()
  );
  return i.indexOf(LOCALE_ZH) > -1 ? LOCALE_ZH : DEFAULT_LOCALE;
}() : DEFAULT_LOCALE;
function registerLocale(i, r) {
  i = i.toUpperCase(), localeModels[i] = new Model$1(r), localeStorage[i] = r;
}
function createLocaleObject(i) {
  if (isString$2(i)) {
    var r = localeStorage[i.toUpperCase()] || {};
    return i === LOCALE_ZH || i === LOCALE_EN ? clone$2(r) : merge(clone$2(r), clone$2(localeStorage[DEFAULT_LOCALE]), !1);
  } else
    return merge(clone$2(i), clone$2(localeStorage[DEFAULT_LOCALE]), !1);
}
function getLocaleModel(i) {
  return localeModels[i];
}
function getDefaultLocaleModel() {
  return localeModels[DEFAULT_LOCALE];
}
registerLocale(LOCALE_EN, langEN);
registerLocale(LOCALE_ZH, langZH);
function pad(i, r) {
  return i += "", "0000".substr(0, r - i.length) + i;
}
function format$1(i, r, n, o) {
  var a = parseDate(i), u = a[fullYearGetterName(n)](), c = a[monthGetterName(n)]() + 1, d = Math.floor((c - 1) / 3) + 1, f = a[dateGetterName(n)](), p = a["get" + (n ? "UTC" : "") + "Day"](), _ = a[hoursGetterName(n)](), v = (_ - 1) % 12 + 1, g = a[minutesGetterName(n)](), y = a[secondsGetterName(n)](), b = a[millisecondsGetterName(n)](), A = _ >= 12 ? "pm" : "am", w = A.toUpperCase(), S = o instanceof Model$1 ? o : getLocaleModel(o || SYSTEM_LANG) || getDefaultLocaleModel(), T = S.getModel("time"), x = T.get("month"), L = T.get("monthAbbr"), O = T.get("dayOfWeek"), M = T.get("dayOfWeekAbbr");
  return (r || "").replace(/{a}/g, A + "").replace(/{A}/g, w + "").replace(/{yyyy}/g, u + "").replace(/{yy}/g, pad(u % 100 + "", 2)).replace(/{Q}/g, d + "").replace(/{MMMM}/g, x[c - 1]).replace(/{MMM}/g, L[c - 1]).replace(/{MM}/g, pad(c, 2)).replace(/{M}/g, c + "").replace(/{dd}/g, pad(f, 2)).replace(/{d}/g, f + "").replace(/{eeee}/g, O[p]).replace(/{ee}/g, M[p]).replace(/{e}/g, p + "").replace(/{HH}/g, pad(_, 2)).replace(/{H}/g, _ + "").replace(/{hh}/g, pad(v + "", 2)).replace(/{h}/g, v + "").replace(/{mm}/g, pad(g, 2)).replace(/{m}/g, g + "").replace(/{ss}/g, pad(y, 2)).replace(/{s}/g, y + "").replace(/{SSS}/g, pad(b, 3)).replace(/{S}/g, b + "");
}
function fullYearGetterName(i) {
  return i ? "getUTCFullYear" : "getFullYear";
}
function monthGetterName(i) {
  return i ? "getUTCMonth" : "getMonth";
}
function dateGetterName(i) {
  return i ? "getUTCDate" : "getDate";
}
function hoursGetterName(i) {
  return i ? "getUTCHours" : "getHours";
}
function minutesGetterName(i) {
  return i ? "getUTCMinutes" : "getMinutes";
}
function secondsGetterName(i) {
  return i ? "getUTCSeconds" : "getSeconds";
}
function millisecondsGetterName(i) {
  return i ? "getUTCMilliseconds" : "getMilliseconds";
}
function addCommas(i) {
  if (!isNumeric(i))
    return isString$2(i) ? i : "-";
  var r = (i + "").split(".");
  return r[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g, "$1,") + (r.length > 1 ? "." + r[1] : "");
}
function toCamelCase(i, r) {
  return i = (i || "").toLowerCase().replace(/-(.)/g, function(n, o) {
    return o.toUpperCase();
  }), r && i && (i = i.charAt(0).toUpperCase() + i.slice(1)), i;
}
var normalizeCssArray = normalizeCssArray$1;
function makeValueReadable(i, r, n) {
  var o = "{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";
  function a(_) {
    return _ && trim(_) ? _ : "-";
  }
  function u(_) {
    return !!(_ != null && !isNaN(_) && isFinite(_));
  }
  var c = r === "time", d = i instanceof Date;
  if (c || d) {
    var f = c ? parseDate(i) : i;
    if (isNaN(+f)) {
      if (d)
        return "-";
    } else
      return format$1(f, o, n);
  }
  if (r === "ordinal")
    return isStringSafe(i) ? a(i) : isNumber$1(i) && u(i) ? i + "" : "-";
  var p = numericToNumber(i);
  return u(p) ? addCommas(p) : isStringSafe(i) ? a(i) : typeof i == "boolean" ? i + "" : "-";
}
var TPL_VAR_ALIAS = ["a", "b", "c", "d", "e", "f", "g"], wrapVar = function(i, r) {
  return "{" + i + (r ?? "") + "}";
};
function formatTpl(i, r, n) {
  isArray$1(r) || (r = [r]);
  var o = r.length;
  if (!o)
    return "";
  for (var a = r[0].$vars || [], u = 0; u < a.length; u++) {
    var c = TPL_VAR_ALIAS[u];
    i = i.replace(wrapVar(c), wrapVar(c, 0));
  }
  for (var d = 0; d < o; d++)
    for (var f = 0; f < a.length; f++) {
      var p = r[d][a[f]];
      i = i.replace(wrapVar(TPL_VAR_ALIAS[f], d), n ? encodeHTML(p) : p);
    }
  return i;
}
function getTooltipMarker(i, r) {
  var n = isString$2(i) ? {
    color: i,
    extraCssText: r
  } : i || {}, o = n.color, a = n.type;
  r = n.extraCssText;
  var u = n.renderMode || "html";
  if (!o)
    return "";
  if (u === "html")
    return a === "subItem" ? '<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:' + encodeHTML(o) + ";" + (r || "") + '"></span>' : '<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:' + encodeHTML(o) + ";" + (r || "") + '"></span>';
  var c = n.markerId || "markerX";
  return {
    renderMode: u,
    content: "{" + c + "|}  ",
    style: a === "subItem" ? {
      width: 4,
      height: 4,
      borderRadius: 2,
      backgroundColor: o
    } : {
      width: 10,
      height: 10,
      borderRadius: 5,
      backgroundColor: o
    }
  };
}
function convertToColorString(i, r) {
  return r = r || "transparent", isString$2(i) ? i : isObject$3(i) && i.colorStops && (i.colorStops[0] || {}).color || r;
}
function windowOpen(i, r) {
  if (r === "_blank" || r === "blank") {
    var n = window.open();
    n.opener = null, n.location.href = i;
  } else
    window.open(i, r);
}
var each$3 = each$4, LOCATION_PARAMS = ["left", "right", "top", "bottom", "width", "height"], HV_NAMES = [["width", "left", "right"], ["height", "top", "bottom"]];
function boxLayout(i, r, n, o, a) {
  var u = 0, c = 0;
  o == null && (o = 1 / 0), a == null && (a = 1 / 0);
  var d = 0;
  r.eachChild(function(f, p) {
    var _ = f.getBoundingRect(), v = r.childAt(p + 1), g = v && v.getBoundingRect(), y, b;
    if (i === "horizontal") {
      var A = _.width + (g ? -g.x + _.x : 0);
      y = u + A, y > o || f.newline ? (u = 0, y = A, c += d + n, d = _.height) : d = Math.max(d, _.height);
    } else {
      var w = _.height + (g ? -g.y + _.y : 0);
      b = c + w, b > a || f.newline ? (u += d + n, c = 0, b = w, d = _.width) : d = Math.max(d, _.width);
    }
    f.newline || (f.x = u, f.y = c, f.markRedraw(), i === "horizontal" ? u = y + n : c = b + n);
  });
}
var box = boxLayout;
curry$1(boxLayout, "vertical");
curry$1(boxLayout, "horizontal");
function getLayoutRect(i, r, n) {
  n = normalizeCssArray(n || 0);
  var o = r.width, a = r.height, u = parsePercent(i.left, o), c = parsePercent(i.top, a), d = parsePercent(i.right, o), f = parsePercent(i.bottom, a), p = parsePercent(i.width, o), _ = parsePercent(i.height, a), v = n[2] + n[0], g = n[1] + n[3], y = i.aspect;
  switch (isNaN(p) && (p = o - d - g - u), isNaN(_) && (_ = a - f - v - c), y != null && (isNaN(p) && isNaN(_) && (y > o / a ? p = o * 0.8 : _ = a * 0.8), isNaN(p) && (p = y * _), isNaN(_) && (_ = p / y)), isNaN(u) && (u = o - d - p - g), isNaN(c) && (c = a - f - _ - v), i.left || i.right) {
    case "center":
      u = o / 2 - p / 2 - n[3];
      break;
    case "right":
      u = o - p - g;
      break;
  }
  switch (i.top || i.bottom) {
    case "middle":
    case "center":
      c = a / 2 - _ / 2 - n[0];
      break;
    case "bottom":
      c = a - _ - v;
      break;
  }
  u = u || 0, c = c || 0, isNaN(p) && (p = o - g - u - (d || 0)), isNaN(_) && (_ = a - v - c - (f || 0));
  var b = new BoundingRect$1(u + n[3], c + n[0], p, _);
  return b.margin = n, b;
}
function fetchLayoutMode(i) {
  var r = i.layoutMode || i.constructor.layoutMode;
  return isObject$3(r) ? r : r ? {
    type: r
  } : null;
}
function mergeLayoutParam(i, r, n) {
  var o = n && n.ignoreSize;
  !isArray$1(o) && (o = [o, o]);
  var a = c(HV_NAMES[0], 0), u = c(HV_NAMES[1], 1);
  p(HV_NAMES[0], i, a), p(HV_NAMES[1], i, u);
  function c(_, v) {
    var g = {}, y = 0, b = {}, A = 0, w = 2;
    if (each$3(_, function(x) {
      b[x] = i[x];
    }), each$3(_, function(x) {
      d(r, x) && (g[x] = b[x] = r[x]), f(g, x) && y++, f(b, x) && A++;
    }), o[v])
      return f(r, _[1]) ? b[_[2]] = null : f(r, _[2]) && (b[_[1]] = null), b;
    if (A === w || !y)
      return b;
    if (y >= w)
      return g;
    for (var S = 0; S < _.length; S++) {
      var T = _[S];
      if (!d(g, T) && d(i, T)) {
        g[T] = i[T];
        break;
      }
    }
    return g;
  }
  function d(_, v) {
    return _.hasOwnProperty(v);
  }
  function f(_, v) {
    return _[v] != null && _[v] !== "auto";
  }
  function p(_, v, g) {
    each$3(_, function(y) {
      v[y] = g[y];
    });
  }
}
function getLayoutParams(i) {
  return copyLayoutParams({}, i);
}
function copyLayoutParams(i, r) {
  return r && i && each$3(LOCATION_PARAMS, function(n) {
    r.hasOwnProperty(n) && (i[n] = r[n]);
  }), i;
}
var inner$7 = makeInner(), ComponentModel = (
  /** @class */
  function(i) {
    __extends(r, i);
    function r(n, o, a) {
      var u = i.call(this, n, o, a) || this;
      return u.uid = getUID("ec_cpt_model"), u;
    }
    return r.prototype.init = function(n, o, a) {
      this.mergeDefaultAndTheme(n, a);
    }, r.prototype.mergeDefaultAndTheme = function(n, o) {
      var a = fetchLayoutMode(this), u = a ? getLayoutParams(n) : {}, c = o.getTheme();
      merge(n, c.get(this.mainType)), merge(n, this.getDefaultOption()), a && mergeLayoutParam(n, u, a);
    }, r.prototype.mergeOption = function(n, o) {
      merge(this.option, n, !0);
      var a = fetchLayoutMode(this);
      a && mergeLayoutParam(this.option, n, a);
    }, r.prototype.optionUpdated = function(n, o) {
    }, r.prototype.getDefaultOption = function() {
      var n = this.constructor;
      if (!isExtendedClass(n))
        return n.defaultOption;
      var o = inner$7(this);
      if (!o.defaultOption) {
        for (var a = [], u = n; u; ) {
          var c = u.prototype.defaultOption;
          c && a.push(c), u = u.superClass;
        }
        for (var d = {}, f = a.length - 1; f >= 0; f--)
          d = merge(d, a[f], !0);
        o.defaultOption = d;
      }
      return o.defaultOption;
    }, r.prototype.getReferringComponents = function(n, o) {
      var a = n + "Index", u = n + "Id";
      return queryReferringComponents(this.ecModel, n, {
        index: this.get(a, !0),
        id: this.get(u, !0)
      }, o);
    }, r.prototype.getBoxLayoutParams = function() {
      var n = this;
      return {
        left: n.get("left"),
        top: n.get("top"),
        right: n.get("right"),
        bottom: n.get("bottom"),
        width: n.get("width"),
        height: n.get("height")
      };
    }, r.prototype.getZLevelKey = function() {
      return "";
    }, r.prototype.setZLevel = function(n) {
      this.option.zlevel = n;
    }, r.protoInitialize = function() {
      var n = r.prototype;
      n.type = "component", n.id = "", n.name = "", n.mainType = "", n.subType = "", n.componentIndex = 0;
    }(), r;
  }(Model$1)
);
mountExtend(ComponentModel, Model$1);
enableClassManagement(ComponentModel);
enableSubTypeDefaulter(ComponentModel);
enableTopologicalTravel(ComponentModel, getDependencies);
function getDependencies(i) {
  var r = [];
  return each$4(ComponentModel.getClassesByMainType(i), function(n) {
    r = r.concat(n.dependencies || n.prototype.dependencies || []);
  }), r = map$1(r, function(n) {
    return parseClassType(n).main;
  }), i !== "dataset" && indexOf(r, "dataset") <= 0 && r.unshift("dataset"), r;
}
const ComponentModel$1 = ComponentModel;
var platform = "";
typeof navigator < "u" && (platform = navigator.platform || "");
var decalColor = "rgba(0, 0, 0, 0.2)";
const globalDefault = {
  darkMode: "auto",
  // backgroundColor: 'rgba(0,0,0,0)',
  colorBy: "series",
  color: ["#5470c6", "#91cc75", "#fac858", "#ee6666", "#73c0de", "#3ba272", "#fc8452", "#9a60b4", "#ea7ccc"],
  gradientColor: ["#f6efa6", "#d88273", "#bf444c"],
  aria: {
    decal: {
      decals: [{
        color: decalColor,
        dashArrayX: [1, 0],
        dashArrayY: [2, 5],
        symbolSize: 1,
        rotation: Math.PI / 6
      }, {
        color: decalColor,
        symbol: "circle",
        dashArrayX: [[8, 8], [0, 8, 8, 0]],
        dashArrayY: [6, 0],
        symbolSize: 0.8
      }, {
        color: decalColor,
        dashArrayX: [1, 0],
        dashArrayY: [4, 3],
        rotation: -Math.PI / 4
      }, {
        color: decalColor,
        dashArrayX: [[6, 6], [0, 6, 6, 0]],
        dashArrayY: [6, 0]
      }, {
        color: decalColor,
        dashArrayX: [[1, 0], [1, 6]],
        dashArrayY: [1, 0, 6, 0],
        rotation: Math.PI / 4
      }, {
        color: decalColor,
        symbol: "triangle",
        dashArrayX: [[9, 9], [0, 9, 9, 0]],
        dashArrayY: [7, 2],
        symbolSize: 0.75
      }]
    }
  },
  // If xAxis and yAxis declared, grid is created by default.
  // grid: {},
  textStyle: {
    // color: '#000',
    // decoration: 'none',
    // PENDING
    fontFamily: platform.match(/^Win/) ? "Microsoft YaHei" : "sans-serif",
    // fontFamily: 'Arial, Verdana, sans-serif',
    fontSize: 12,
    fontStyle: "normal",
    fontWeight: "normal"
  },
  // http://blogs.adobe.com/webplatform/2014/02/24/using-blend-modes-in-html-canvas/
  // https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/globalCompositeOperation
  // Default is source-over
  blendMode: null,
  stateAnimation: {
    duration: 300,
    easing: "cubicOut"
  },
  animation: "auto",
  animationDuration: 1e3,
  animationDurationUpdate: 500,
  animationEasing: "cubicInOut",
  animationEasingUpdate: "cubicInOut",
  animationThreshold: 2e3,
  // Configuration for progressive/incremental rendering
  progressiveThreshold: 3e3,
  progressive: 400,
  // Threshold of if use single hover layer to optimize.
  // It is recommended that `hoverLayerThreshold` is equivalent to or less than
  // `progressiveThreshold`, otherwise hover will cause restart of progressive,
  // which is unexpected.
  // see example <echarts/test/heatmap-large.html>.
  hoverLayerThreshold: 3e3,
  // See: module:echarts/scale/Time
  useUTC: !1
};
var VISUAL_DIMENSIONS = createHashMap(["tooltip", "label", "itemName", "itemId", "itemGroupId", "itemChildGroupId", "seriesName"]), SOURCE_FORMAT_ORIGINAL = "original", SOURCE_FORMAT_ARRAY_ROWS = "arrayRows", SOURCE_FORMAT_OBJECT_ROWS = "objectRows", SOURCE_FORMAT_KEYED_COLUMNS = "keyedColumns", SOURCE_FORMAT_TYPED_ARRAY = "typedArray", SOURCE_FORMAT_UNKNOWN = "unknown", SERIES_LAYOUT_BY_COLUMN = "column", SERIES_LAYOUT_BY_ROW = "row", BE_ORDINAL = {
  Must: 1,
  Might: 2,
  Not: 3
  // Other cases
}, innerGlobalModel = makeInner();
function resetSourceDefaulter(i) {
  innerGlobalModel(i).datasetMap = createHashMap();
}
function makeSeriesEncodeForNameBased(i, r, n) {
  var o = {}, a = querySeriesUpstreamDatasetModel(i);
  if (!a)
    return o;
  var u = r.sourceFormat, c = r.dimensionsDefine, d;
  (u === SOURCE_FORMAT_OBJECT_ROWS || u === SOURCE_FORMAT_KEYED_COLUMNS) && each$4(c, function(_, v) {
    (isObject$3(_) ? _.name : _) === "name" && (d = v);
  });
  var f = function() {
    for (var _ = {}, v = {}, g = [], y = 0, b = Math.min(5, n); y < b; y++) {
      var A = doGuessOrdinal(r.data, u, r.seriesLayoutBy, c, r.startIndex, y);
      g.push(A);
      var w = A === BE_ORDINAL.Not;
      if (w && _.v == null && y !== d && (_.v = y), (_.n == null || _.n === _.v || !w && g[_.n] === BE_ORDINAL.Not) && (_.n = y), S(_) && g[_.n] !== BE_ORDINAL.Not)
        return _;
      w || (A === BE_ORDINAL.Might && v.v == null && y !== d && (v.v = y), (v.n == null || v.n === v.v) && (v.n = y));
    }
    function S(T) {
      return T.v != null && T.n != null;
    }
    return S(_) ? _ : S(v) ? v : null;
  }();
  if (f) {
    o.value = [f.v];
    var p = d ?? f.n;
    o.itemName = [p], o.seriesName = [p];
  }
  return o;
}
function querySeriesUpstreamDatasetModel(i) {
  var r = i.get("data", !0);
  if (!r)
    return queryReferringComponents(i.ecModel, "dataset", {
      index: i.get("datasetIndex", !0),
      id: i.get("datasetId", !0)
    }, SINGLE_REFERRING).models[0];
}
function queryDatasetUpstreamDatasetModels(i) {
  return !i.get("transform", !0) && !i.get("fromTransformResult", !0) ? [] : queryReferringComponents(i.ecModel, "dataset", {
    index: i.get("fromDatasetIndex", !0),
    id: i.get("fromDatasetId", !0)
  }, SINGLE_REFERRING).models;
}
function guessOrdinal(i, r) {
  return doGuessOrdinal(i.data, i.sourceFormat, i.seriesLayoutBy, i.dimensionsDefine, i.startIndex, r);
}
function doGuessOrdinal(i, r, n, o, a, u) {
  var c, d = 5;
  if (isTypedArray(i))
    return BE_ORDINAL.Not;
  var f, p;
  if (o) {
    var _ = o[u];
    isObject$3(_) ? (f = _.name, p = _.type) : isString$2(_) && (f = _);
  }
  if (p != null)
    return p === "ordinal" ? BE_ORDINAL.Must : BE_ORDINAL.Not;
  if (r === SOURCE_FORMAT_ARRAY_ROWS) {
    var v = i;
    if (n === SERIES_LAYOUT_BY_ROW) {
      for (var g = v[u], y = 0; y < (g || []).length && y < d; y++)
        if ((c = L(g[a + y])) != null)
          return c;
    } else
      for (var y = 0; y < v.length && y < d; y++) {
        var b = v[a + y];
        if (b && (c = L(b[u])) != null)
          return c;
      }
  } else if (r === SOURCE_FORMAT_OBJECT_ROWS) {
    var A = i;
    if (!f)
      return BE_ORDINAL.Not;
    for (var y = 0; y < A.length && y < d; y++) {
      var w = A[y];
      if (w && (c = L(w[f])) != null)
        return c;
    }
  } else if (r === SOURCE_FORMAT_KEYED_COLUMNS) {
    var S = i;
    if (!f)
      return BE_ORDINAL.Not;
    var g = S[f];
    if (!g || isTypedArray(g))
      return BE_ORDINAL.Not;
    for (var y = 0; y < g.length && y < d; y++)
      if ((c = L(g[y])) != null)
        return c;
  } else if (r === SOURCE_FORMAT_ORIGINAL)
    for (var T = i, y = 0; y < T.length && y < d; y++) {
      var w = T[y], x = getDataItemValue(w);
      if (!isArray$1(x))
        return BE_ORDINAL.Not;
      if ((c = L(x[u])) != null)
        return c;
    }
  function L(O) {
    var M = isString$2(O);
    if (O != null && Number.isFinite(Number(O)) && O !== "")
      return M ? BE_ORDINAL.Might : BE_ORDINAL.Not;
    if (M && O !== "-")
      return BE_ORDINAL.Must;
  }
  return BE_ORDINAL.Not;
}
var internalOptionCreatorMap = createHashMap();
function concatInternalOptions(i, r, n) {
  var o = internalOptionCreatorMap.get(r);
  if (!o)
    return n;
  var a = o(i);
  if (!a)
    return n;
  if (process.env.NODE_ENV !== "production")
    for (var u = 0; u < a.length; u++)
      assert(isComponentIdInternal(a[u]));
  return n.concat(a);
}
var innerColor = makeInner();
makeInner();
var PaletteMixin = (
  /** @class */
  function() {
    function i() {
    }
    return i.prototype.getColorFromPalette = function(r, n, o) {
      var a = normalizeToArray(this.get("color", !0)), u = this.get("colorLayer", !0);
      return getFromPalette(this, innerColor, a, u, r, n, o);
    }, i.prototype.clearColorPalette = function() {
      clearPalette(this, innerColor);
    }, i;
  }()
);
function getNearestPalette(i, r) {
  for (var n = i.length, o = 0; o < n; o++)
    if (i[o].length > r)
      return i[o];
  return i[n - 1];
}
function getFromPalette(i, r, n, o, a, u, c) {
  u = u || i;
  var d = r(u), f = d.paletteIdx || 0, p = d.paletteNameMap = d.paletteNameMap || {};
  if (p.hasOwnProperty(a))
    return p[a];
  var _ = c == null || !o ? n : getNearestPalette(o, c);
  if (_ = _ || n, !(!_ || !_.length)) {
    var v = _[f];
    return a && (p[a] = v), d.paletteIdx = (f + 1) % _.length, v;
  }
}
function clearPalette(i, r) {
  r(i).paletteIdx = 0, r(i).paletteNameMap = {};
}
var reCreateSeriesIndices, assertSeriesInitialized, initBase, OPTION_INNER_KEY = "\0_ec_inner", OPTION_INNER_VALUE = 1, BUITIN_COMPONENTS_MAP = {
  grid: "GridComponent",
  polar: "PolarComponent",
  geo: "GeoComponent",
  singleAxis: "SingleAxisComponent",
  parallel: "ParallelComponent",
  calendar: "CalendarComponent",
  graphic: "GraphicComponent",
  toolbox: "ToolboxComponent",
  tooltip: "TooltipComponent",
  axisPointer: "AxisPointerComponent",
  brush: "BrushComponent",
  title: "TitleComponent",
  timeline: "TimelineComponent",
  markPoint: "MarkPointComponent",
  markLine: "MarkLineComponent",
  markArea: "MarkAreaComponent",
  legend: "LegendComponent",
  dataZoom: "DataZoomComponent",
  visualMap: "VisualMapComponent",
  // aria: 'AriaComponent',
  // dataset: 'DatasetComponent',
  // Dependencies
  xAxis: "GridComponent",
  yAxis: "GridComponent",
  angleAxis: "PolarComponent",
  radiusAxis: "PolarComponent"
}, BUILTIN_CHARTS_MAP = {
  line: "LineChart",
  bar: "BarChart",
  pie: "PieChart",
  scatter: "ScatterChart",
  radar: "RadarChart",
  map: "MapChart",
  tree: "TreeChart",
  treemap: "TreemapChart",
  graph: "GraphChart",
  gauge: "GaugeChart",
  funnel: "FunnelChart",
  parallel: "ParallelChart",
  sankey: "SankeyChart",
  boxplot: "BoxplotChart",
  candlestick: "CandlestickChart",
  effectScatter: "EffectScatterChart",
  lines: "LinesChart",
  heatmap: "HeatmapChart",
  pictorialBar: "PictorialBarChart",
  themeRiver: "ThemeRiverChart",
  sunburst: "SunburstChart",
  custom: "CustomChart"
}, componetsMissingLogPrinted = {};
function checkMissingComponents(i) {
  each$4(i, function(r, n) {
    if (!ComponentModel$1.hasClass(n)) {
      var o = BUITIN_COMPONENTS_MAP[n];
      o && !componetsMissingLogPrinted[o] && (error("Component " + n + ` is used but not imported.
import { ` + o + ` } from 'echarts/components';
echarts.use([` + o + "]);"), componetsMissingLogPrinted[o] = !0);
    }
  });
}
var GlobalModel = (
  /** @class */
  function(i) {
    __extends(r, i);
    function r() {
      return i !== null && i.apply(this, arguments) || this;
    }
    return r.prototype.init = function(n, o, a, u, c, d) {
      u = u || {}, this.option = null, this._theme = new Model$1(u), this._locale = new Model$1(c), this._optionManager = d;
    }, r.prototype.setOption = function(n, o, a) {
      process.env.NODE_ENV !== "production" && (assert(n != null, "option is null/undefined"), assert(n[OPTION_INNER_KEY] !== OPTION_INNER_VALUE, "please use chart.getOption()"));
      var u = normalizeSetOptionInput(o);
      this._optionManager.setOption(n, a, u), this._resetOption(null, u);
    }, r.prototype.resetOption = function(n, o) {
      return this._resetOption(n, normalizeSetOptionInput(o));
    }, r.prototype._resetOption = function(n, o) {
      var a = !1, u = this._optionManager;
      if (!n || n === "recreate") {
        var c = u.mountOption(n === "recreate");
        process.env.NODE_ENV !== "production" && checkMissingComponents(c), !this.option || n === "recreate" ? initBase(this, c) : (this.restoreData(), this._mergeOption(c, o)), a = !0;
      }
      if ((n === "timeline" || n === "media") && this.restoreData(), !n || n === "recreate" || n === "timeline") {
        var d = u.getTimelineOption(this);
        d && (a = !0, this._mergeOption(d, o));
      }
      if (!n || n === "recreate" || n === "media") {
        var f = u.getMediaOption(this);
        f.length && each$4(f, function(p) {
          a = !0, this._mergeOption(p, o);
        }, this);
      }
      return a;
    }, r.prototype.mergeOption = function(n) {
      this._mergeOption(n, null);
    }, r.prototype._mergeOption = function(n, o) {
      var a = this.option, u = this._componentsMap, c = this._componentsCount, d = [], f = createHashMap(), p = o && o.replaceMergeMainTypeMap;
      resetSourceDefaulter(this), each$4(n, function(v, g) {
        v != null && (ComponentModel$1.hasClass(g) ? g && (d.push(g), f.set(g, !0)) : a[g] = a[g] == null ? clone$2(v) : merge(a[g], v, !0));
      }), p && p.each(function(v, g) {
        ComponentModel$1.hasClass(g) && !f.get(g) && (d.push(g), f.set(g, !0));
      }), ComponentModel$1.topologicalTravel(d, ComponentModel$1.getAllClassMainTypes(), _, this);
      function _(v) {
        var g = concatInternalOptions(this, v, normalizeToArray(n[v])), y = u.get(v), b = (
          // `!oldCmptList` means init. See the comment in `mappingToExists`
          y ? p && p.get(v) ? "replaceMerge" : "normalMerge" : "replaceAll"
        ), A = mappingToExists(y, g, b);
        setComponentTypeToKeyInfo(A, v, ComponentModel$1), a[v] = null, u.set(v, null), c.set(v, 0);
        var w = [], S = [], T = 0, x, L;
        each$4(A, function(O, M) {
          var k = O.existing, ie = O.newOption;
          if (!ie)
            k && (k.mergeOption({}, this), k.optionUpdated({}, !1));
          else {
            var $ = v === "series", Y = ComponentModel$1.getClass(
              v,
              O.keyInfo.subType,
              !$
              // Give a more detailed warn later if series don't exists
            );
            if (!Y) {
              if (process.env.NODE_ENV !== "production") {
                var D = O.keyInfo.subType, re = BUILTIN_CHARTS_MAP[D];
                componetsMissingLogPrinted[D] || (componetsMissingLogPrinted[D] = !0, error(re ? "Series " + D + ` is used but not imported.
import { ` + re + ` } from 'echarts/charts';
echarts.use([` + re + "]);" : "Unknown series " + D));
              }
              return;
            }
            if (v === "tooltip") {
              if (x) {
                process.env.NODE_ENV !== "production" && (L || (warn("Currently only one tooltip component is allowed."), L = !0));
                return;
              }
              x = !0;
            }
            if (k && k.constructor === Y)
              k.name = O.keyInfo.name, k.mergeOption(ie, this), k.optionUpdated(ie, !1);
            else {
              var F = extend({
                componentIndex: M
              }, O.keyInfo);
              k = new Y(ie, this, this, F), extend(k, F), O.brandNew && (k.__requireNewView = !0), k.init(ie, this, this), k.optionUpdated(null, !0);
            }
          }
          k ? (w.push(k.option), S.push(k), T++) : (w.push(void 0), S.push(void 0));
        }, this), a[v] = w, u.set(v, S), c.set(v, T), v === "series" && reCreateSeriesIndices(this);
      }
      this._seriesIndices || reCreateSeriesIndices(this);
    }, r.prototype.getOption = function() {
      var n = clone$2(this.option);
      return each$4(n, function(o, a) {
        if (ComponentModel$1.hasClass(a)) {
          for (var u = normalizeToArray(o), c = u.length, d = !1, f = c - 1; f >= 0; f--)
            u[f] && !isComponentIdInternal(u[f]) ? d = !0 : (u[f] = null, !d && c--);
          u.length = c, n[a] = u;
        }
      }), delete n[OPTION_INNER_KEY], n;
    }, r.prototype.getTheme = function() {
      return this._theme;
    }, r.prototype.getLocaleModel = function() {
      return this._locale;
    }, r.prototype.setUpdatePayload = function(n) {
      this._payload = n;
    }, r.prototype.getUpdatePayload = function() {
      return this._payload;
    }, r.prototype.getComponent = function(n, o) {
      var a = this._componentsMap.get(n);
      if (a) {
        var u = a[o || 0];
        if (u)
          return u;
        if (o == null) {
          for (var c = 0; c < a.length; c++)
            if (a[c])
              return a[c];
        }
      }
    }, r.prototype.queryComponents = function(n) {
      var o = n.mainType;
      if (!o)
        return [];
      var a = n.index, u = n.id, c = n.name, d = this._componentsMap.get(o);
      if (!d || !d.length)
        return [];
      var f;
      return a != null ? (f = [], each$4(normalizeToArray(a), function(p) {
        d[p] && f.push(d[p]);
      })) : u != null ? f = queryByIdOrName("id", u, d) : c != null ? f = queryByIdOrName("name", c, d) : f = filter(d, function(p) {
        return !!p;
      }), filterBySubType(f, n);
    }, r.prototype.findComponents = function(n) {
      var o = n.query, a = n.mainType, u = d(o), c = u ? this.queryComponents(u) : filter(this._componentsMap.get(a), function(p) {
        return !!p;
      });
      return f(filterBySubType(c, n));
      function d(p) {
        var _ = a + "Index", v = a + "Id", g = a + "Name";
        return p && (p[_] != null || p[v] != null || p[g] != null) ? {
          mainType: a,
          // subType will be filtered finally.
          index: p[_],
          id: p[v],
          name: p[g]
        } : null;
      }
      function f(p) {
        return n.filter ? filter(p, n.filter) : p;
      }
    }, r.prototype.eachComponent = function(n, o, a) {
      var u = this._componentsMap;
      if (isFunction$1(n)) {
        var c = o, d = n;
        u.each(function(v, g) {
          for (var y = 0; v && y < v.length; y++) {
            var b = v[y];
            b && d.call(c, g, b, b.componentIndex);
          }
        });
      } else
        for (var f = isString$2(n) ? u.get(n) : isObject$3(n) ? this.findComponents(n) : null, p = 0; f && p < f.length; p++) {
          var _ = f[p];
          _ && o.call(a, _, _.componentIndex);
        }
    }, r.prototype.getSeriesByName = function(n) {
      var o = convertOptionIdName(n, null);
      return filter(this._componentsMap.get("series"), function(a) {
        return !!a && o != null && a.name === o;
      });
    }, r.prototype.getSeriesByIndex = function(n) {
      return this._componentsMap.get("series")[n];
    }, r.prototype.getSeriesByType = function(n) {
      return filter(this._componentsMap.get("series"), function(o) {
        return !!o && o.subType === n;
      });
    }, r.prototype.getSeries = function() {
      return filter(this._componentsMap.get("series"), function(n) {
        return !!n;
      });
    }, r.prototype.getSeriesCount = function() {
      return this._componentsCount.get("series");
    }, r.prototype.eachSeries = function(n, o) {
      assertSeriesInitialized(this), each$4(this._seriesIndices, function(a) {
        var u = this._componentsMap.get("series")[a];
        n.call(o, u, a);
      }, this);
    }, r.prototype.eachRawSeries = function(n, o) {
      each$4(this._componentsMap.get("series"), function(a) {
        a && n.call(o, a, a.componentIndex);
      });
    }, r.prototype.eachSeriesByType = function(n, o, a) {
      assertSeriesInitialized(this), each$4(this._seriesIndices, function(u) {
        var c = this._componentsMap.get("series")[u];
        c.subType === n && o.call(a, c, u);
      }, this);
    }, r.prototype.eachRawSeriesByType = function(n, o, a) {
      return each$4(this.getSeriesByType(n), o, a);
    }, r.prototype.isSeriesFiltered = function(n) {
      return assertSeriesInitialized(this), this._seriesIndicesMap.get(n.componentIndex) == null;
    }, r.prototype.getCurrentSeriesIndices = function() {
      return (this._seriesIndices || []).slice();
    }, r.prototype.filterSeries = function(n, o) {
      assertSeriesInitialized(this);
      var a = [];
      each$4(this._seriesIndices, function(u) {
        var c = this._componentsMap.get("series")[u];
        n.call(o, c, u) && a.push(u);
      }, this), this._seriesIndices = a, this._seriesIndicesMap = createHashMap(a);
    }, r.prototype.restoreData = function(n) {
      reCreateSeriesIndices(this);
      var o = this._componentsMap, a = [];
      o.each(function(u, c) {
        ComponentModel$1.hasClass(c) && a.push(c);
      }), ComponentModel$1.topologicalTravel(a, ComponentModel$1.getAllClassMainTypes(), function(u) {
        each$4(o.get(u), function(c) {
          c && (u !== "series" || !isNotTargetSeries(c, n)) && c.restoreData();
        });
      });
    }, r.internalField = function() {
      reCreateSeriesIndices = function(n) {
        var o = n._seriesIndices = [];
        each$4(n._componentsMap.get("series"), function(a) {
          a && o.push(a.componentIndex);
        }), n._seriesIndicesMap = createHashMap(o);
      }, assertSeriesInitialized = function(n) {
        if (process.env.NODE_ENV !== "production" && !n._seriesIndices)
          throw new Error("Option should contains series.");
      }, initBase = function(n, o) {
        n.option = {}, n.option[OPTION_INNER_KEY] = OPTION_INNER_VALUE, n._componentsMap = createHashMap({
          series: []
        }), n._componentsCount = createHashMap();
        var a = o.aria;
        isObject$3(a) && a.enabled == null && (a.enabled = !0), mergeTheme(o, n._theme.option), merge(o, globalDefault, !1), n._mergeOption(o, null);
      };
    }(), r;
  }(Model$1)
);
function isNotTargetSeries(i, r) {
  if (r) {
    var n = r.seriesIndex, o = r.seriesId, a = r.seriesName;
    return n != null && i.componentIndex !== n || o != null && i.id !== o || a != null && i.name !== a;
  }
}
function mergeTheme(i, r) {
  var n = i.color && !i.colorLayer;
  each$4(r, function(o, a) {
    a === "colorLayer" && n || ComponentModel$1.hasClass(a) || (typeof o == "object" ? i[a] = i[a] ? merge(i[a], o, !1) : clone$2(o) : i[a] == null && (i[a] = o));
  });
}
function queryByIdOrName(i, r, n) {
  if (isArray$1(r)) {
    var o = createHashMap();
    return each$4(r, function(u) {
      if (u != null) {
        var c = convertOptionIdName(u, null);
        c != null && o.set(u, !0);
      }
    }), filter(n, function(u) {
      return u && o.get(u[i]);
    });
  } else {
    var a = convertOptionIdName(r, null);
    return filter(n, function(u) {
      return u && a != null && u[i] === a;
    });
  }
}
function filterBySubType(i, r) {
  return r.hasOwnProperty("subType") ? filter(i, function(n) {
    return n && n.subType === r.subType;
  }) : i;
}
function normalizeSetOptionInput(i) {
  var r = createHashMap();
  return i && each$4(normalizeToArray(i.replaceMerge), function(n) {
    process.env.NODE_ENV !== "production" && assert(ComponentModel$1.hasClass(n), '"' + n + '" is not valid component main type in "replaceMerge"'), r.set(n, !0);
  }), {
    replaceMergeMainTypeMap: r
  };
}
mixin(GlobalModel, PaletteMixin);
const GlobalModel$1 = GlobalModel;
var availableMethods = [
  "getDom",
  "getZr",
  "getWidth",
  "getHeight",
  "getDevicePixelRatio",
  "dispatchAction",
  "isSSR",
  "isDisposed",
  "on",
  "off",
  "getDataURL",
  "getConnectedDataURL",
  // 'getModel',
  "getOption",
  // 'getViewOfComponentModel',
  // 'getViewOfSeriesModel',
  "getId",
  "updateLabelLayout"
], ExtensionAPI = (
  /** @class */
  function() {
    function i(r) {
      each$4(availableMethods, function(n) {
        this[n] = bind$1(r[n], r);
      }, this);
    }
    return i;
  }()
);
const ExtensionAPI$1 = ExtensionAPI;
var coordinateSystemCreators = {}, CoordinateSystemManager = (
  /** @class */
  function() {
    function i() {
      this._coordinateSystems = [];
    }
    return i.prototype.create = function(r, n) {
      var o = [];
      each$4(coordinateSystemCreators, function(a, u) {
        var c = a.create(r, n);
        o = o.concat(c || []);
      }), this._coordinateSystems = o;
    }, i.prototype.update = function(r, n) {
      each$4(this._coordinateSystems, function(o) {
        o.update && o.update(r, n);
      });
    }, i.prototype.getCoordinateSystems = function() {
      return this._coordinateSystems.slice();
    }, i.register = function(r, n) {
      coordinateSystemCreators[r] = n;
    }, i.get = function(r) {
      return coordinateSystemCreators[r];
    }, i;
  }()
);
const CoordinateSystem = CoordinateSystemManager;
var QUERY_REG = /^(min|max)?(.+)$/, OptionManager = (
  /** @class */
  function() {
    function i(r) {
      this._timelineOptions = [], this._mediaList = [], this._currentMediaIndices = [], this._api = r;
    }
    return i.prototype.setOption = function(r, n, o) {
      r && (each$4(normalizeToArray(r.series), function(c) {
        c && c.data && isTypedArray(c.data) && setAsPrimitive(c.data);
      }), each$4(normalizeToArray(r.dataset), function(c) {
        c && c.source && isTypedArray(c.source) && setAsPrimitive(c.source);
      })), r = clone$2(r);
      var a = this._optionBackup, u = parseRawOption(r, n, !a);
      this._newBaseOption = u.baseOption, a ? (u.timelineOptions.length && (a.timelineOptions = u.timelineOptions), u.mediaList.length && (a.mediaList = u.mediaList), u.mediaDefault && (a.mediaDefault = u.mediaDefault)) : this._optionBackup = u;
    }, i.prototype.mountOption = function(r) {
      var n = this._optionBackup;
      return this._timelineOptions = n.timelineOptions, this._mediaList = n.mediaList, this._mediaDefault = n.mediaDefault, this._currentMediaIndices = [], clone$2(r ? n.baseOption : this._newBaseOption);
    }, i.prototype.getTimelineOption = function(r) {
      var n, o = this._timelineOptions;
      if (o.length) {
        var a = r.getComponent("timeline");
        a && (n = clone$2(
          // FIXME:TS as TimelineModel or quivlant interface
          o[a.getCurrentIndex()]
        ));
      }
      return n;
    }, i.prototype.getMediaOption = function(r) {
      var n = this._api.getWidth(), o = this._api.getHeight(), a = this._mediaList, u = this._mediaDefault, c = [], d = [];
      if (!a.length && !u)
        return d;
      for (var f = 0, p = a.length; f < p; f++)
        applyMediaQuery(a[f].query, n, o) && c.push(f);
      return !c.length && u && (c = [-1]), c.length && !indicesEquals(c, this._currentMediaIndices) && (d = map$1(c, function(_) {
        return clone$2(_ === -1 ? u.option : a[_].option);
      })), this._currentMediaIndices = c, d;
    }, i;
  }()
);
function parseRawOption(i, r, n) {
  var o = [], a, u, c = i.baseOption, d = i.timeline, f = i.options, p = i.media, _ = !!i.media, v = !!(f || d || c && c.timeline);
  c ? (u = c, u.timeline || (u.timeline = d)) : ((v || _) && (i.options = i.media = null), u = i), _ && (isArray$1(p) ? each$4(p, function(y) {
    process.env.NODE_ENV !== "production" && y && !y.option && isObject$3(y.query) && isObject$3(y.query.option) && error("Illegal media option. Must be like { media: [ { query: {}, option: {} } ] }"), y && y.option && (y.query ? o.push(y) : a || (a = y));
  }) : process.env.NODE_ENV !== "production" && error("Illegal media option. Must be an array. Like { media: [ {...}, {...} ] }")), g(u), each$4(f, function(y) {
    return g(y);
  }), each$4(o, function(y) {
    return g(y.option);
  });
  function g(y) {
    each$4(r, function(b) {
      b(y, n);
    });
  }
  return {
    baseOption: u,
    timelineOptions: f || [],
    mediaDefault: a,
    mediaList: o
  };
}
function applyMediaQuery(i, r, n) {
  var o = {
    width: r,
    height: n,
    aspectratio: r / n
    // lower case for convenience.
  }, a = !0;
  return each$4(i, function(u, c) {
    var d = c.match(QUERY_REG);
    if (!(!d || !d[1] || !d[2])) {
      var f = d[1], p = d[2].toLowerCase();
      compare(o[p], u, f) || (a = !1);
    }
  }), a;
}
function compare(i, r, n) {
  return n === "min" ? i >= r : n === "max" ? i <= r : i === r;
}
function indicesEquals(i, r) {
  return i.join(",") === r.join(",");
}
const OptionManager$1 = OptionManager;
var each$2 = each$4, isObject$2 = isObject$3, POSSIBLE_STYLES = ["areaStyle", "lineStyle", "nodeStyle", "linkStyle", "chordStyle", "label", "labelLine"];
function compatEC2ItemStyle(i) {
  var r = i && i.itemStyle;
  if (r)
    for (var n = 0, o = POSSIBLE_STYLES.length; n < o; n++) {
      var a = POSSIBLE_STYLES[n], u = r.normal, c = r.emphasis;
      u && u[a] && (process.env.NODE_ENV !== "production" && deprecateReplaceLog("itemStyle.normal." + a, a), i[a] = i[a] || {}, i[a].normal ? merge(i[a].normal, u[a]) : i[a].normal = u[a], u[a] = null), c && c[a] && (process.env.NODE_ENV !== "production" && deprecateReplaceLog("itemStyle.emphasis." + a, "emphasis." + a), i[a] = i[a] || {}, i[a].emphasis ? merge(i[a].emphasis, c[a]) : i[a].emphasis = c[a], c[a] = null);
    }
}
function convertNormalEmphasis(i, r, n) {
  if (i && i[r] && (i[r].normal || i[r].emphasis)) {
    var o = i[r].normal, a = i[r].emphasis;
    o && (process.env.NODE_ENV !== "production" && deprecateLog("'normal' hierarchy in " + r + " has been removed since 4.0. All style properties are configured in " + r + " directly now."), n ? (i[r].normal = i[r].emphasis = null, defaults(i[r], o)) : i[r] = o), a && (process.env.NODE_ENV !== "production" && deprecateLog(r + ".emphasis has been changed to emphasis." + r + " since 4.0"), i.emphasis = i.emphasis || {}, i.emphasis[r] = a, a.focus && (i.emphasis.focus = a.focus), a.blurScope && (i.emphasis.blurScope = a.blurScope));
  }
}
function removeEC3NormalStatus(i) {
  convertNormalEmphasis(i, "itemStyle"), convertNormalEmphasis(i, "lineStyle"), convertNormalEmphasis(i, "areaStyle"), convertNormalEmphasis(i, "label"), convertNormalEmphasis(i, "labelLine"), convertNormalEmphasis(i, "upperLabel"), convertNormalEmphasis(i, "edgeLabel");
}
function compatTextStyle(i, r) {
  var n = isObject$2(i) && i[r], o = isObject$2(n) && n.textStyle;
  if (o) {
    process.env.NODE_ENV !== "production" && deprecateLog("textStyle hierarchy in " + r + " has been removed since 4.0. All textStyle properties are configured in " + r + " directly now.");
    for (var a = 0, u = TEXT_STYLE_OPTIONS.length; a < u; a++) {
      var c = TEXT_STYLE_OPTIONS[a];
      o.hasOwnProperty(c) && (n[c] = o[c]);
    }
  }
}
function compatEC3CommonStyles(i) {
  i && (removeEC3NormalStatus(i), compatTextStyle(i, "label"), i.emphasis && compatTextStyle(i.emphasis, "label"));
}
function processSeries(i) {
  if (isObject$2(i)) {
    compatEC2ItemStyle(i), removeEC3NormalStatus(i), compatTextStyle(i, "label"), compatTextStyle(i, "upperLabel"), compatTextStyle(i, "edgeLabel"), i.emphasis && (compatTextStyle(i.emphasis, "label"), compatTextStyle(i.emphasis, "upperLabel"), compatTextStyle(i.emphasis, "edgeLabel"));
    var r = i.markPoint;
    r && (compatEC2ItemStyle(r), compatEC3CommonStyles(r));
    var n = i.markLine;
    n && (compatEC2ItemStyle(n), compatEC3CommonStyles(n));
    var o = i.markArea;
    o && compatEC3CommonStyles(o);
    var a = i.data;
    if (i.type === "graph") {
      a = a || i.nodes;
      var u = i.links || i.edges;
      if (u && !isTypedArray(u))
        for (var c = 0; c < u.length; c++)
          compatEC3CommonStyles(u[c]);
      each$4(i.categories, function(p) {
        removeEC3NormalStatus(p);
      });
    }
    if (a && !isTypedArray(a))
      for (var c = 0; c < a.length; c++)
        compatEC3CommonStyles(a[c]);
    if (r = i.markPoint, r && r.data)
      for (var d = r.data, c = 0; c < d.length; c++)
        compatEC3CommonStyles(d[c]);
    if (n = i.markLine, n && n.data)
      for (var f = n.data, c = 0; c < f.length; c++)
        isArray$1(f[c]) ? (compatEC3CommonStyles(f[c][0]), compatEC3CommonStyles(f[c][1])) : compatEC3CommonStyles(f[c]);
    i.type === "gauge" ? (compatTextStyle(i, "axisLabel"), compatTextStyle(i, "title"), compatTextStyle(i, "detail")) : i.type === "treemap" ? (convertNormalEmphasis(i.breadcrumb, "itemStyle"), each$4(i.levels, function(p) {
      removeEC3NormalStatus(p);
    })) : i.type === "tree" && removeEC3NormalStatus(i.leaves);
  }
}
function toArr(i) {
  return isArray$1(i) ? i : i ? [i] : [];
}
function toObj(i) {
  return (isArray$1(i) ? i[0] : i) || {};
}
function globalCompatStyle(i, r) {
  each$2(toArr(i.series), function(o) {
    isObject$2(o) && processSeries(o);
  });
  var n = ["xAxis", "yAxis", "radiusAxis", "angleAxis", "singleAxis", "parallelAxis", "radar"];
  r && n.push("valueAxis", "categoryAxis", "logAxis", "timeAxis"), each$2(n, function(o) {
    each$2(toArr(i[o]), function(a) {
      a && (compatTextStyle(a, "axisLabel"), compatTextStyle(a.axisPointer, "label"));
    });
  }), each$2(toArr(i.parallel), function(o) {
    var a = o && o.parallelAxisDefault;
    compatTextStyle(a, "axisLabel"), compatTextStyle(a && a.axisPointer, "label");
  }), each$2(toArr(i.calendar), function(o) {
    convertNormalEmphasis(o, "itemStyle"), compatTextStyle(o, "dayLabel"), compatTextStyle(o, "monthLabel"), compatTextStyle(o, "yearLabel");
  }), each$2(toArr(i.radar), function(o) {
    compatTextStyle(o, "name"), o.name && o.axisName == null && (o.axisName = o.name, delete o.name, process.env.NODE_ENV !== "production" && deprecateLog("name property in radar component has been changed to axisName")), o.nameGap != null && o.axisNameGap == null && (o.axisNameGap = o.nameGap, delete o.nameGap, process.env.NODE_ENV !== "production" && deprecateLog("nameGap property in radar component has been changed to axisNameGap")), process.env.NODE_ENV !== "production" && each$2(o.indicator, function(a) {
      a.text && deprecateReplaceLog("text", "name", "radar.indicator");
    });
  }), each$2(toArr(i.geo), function(o) {
    isObject$2(o) && (compatEC3CommonStyles(o), each$2(toArr(o.regions), function(a) {
      compatEC3CommonStyles(a);
    }));
  }), each$2(toArr(i.timeline), function(o) {
    compatEC3CommonStyles(o), convertNormalEmphasis(o, "label"), convertNormalEmphasis(o, "itemStyle"), convertNormalEmphasis(o, "controlStyle", !0);
    var a = o.data;
    isArray$1(a) && each$4(a, function(u) {
      isObject$3(u) && (convertNormalEmphasis(u, "label"), convertNormalEmphasis(u, "itemStyle"));
    });
  }), each$2(toArr(i.toolbox), function(o) {
    convertNormalEmphasis(o, "iconStyle"), each$2(o.feature, function(a) {
      convertNormalEmphasis(a, "iconStyle");
    });
  }), compatTextStyle(toObj(i.axisPointer), "label"), compatTextStyle(toObj(i.tooltip).axisPointer, "label");
}
function get(i, r) {
  for (var n = r.split(","), o = i, a = 0; a < n.length && (o = o && o[n[a]], o != null); a++)
    ;
  return o;
}
function set(i, r, n, o) {
  for (var a = r.split(","), u = i, c, d = 0; d < a.length - 1; d++)
    c = a[d], u[c] == null && (u[c] = {}), u = u[c];
  (o || u[a[d]] == null) && (u[a[d]] = n);
}
function compatLayoutProperties(i) {
  i && each$4(LAYOUT_PROPERTIES, function(r) {
    r[0] in i && !(r[1] in i) && (i[r[1]] = i[r[0]]);
  });
}
var LAYOUT_PROPERTIES = [["x", "left"], ["y", "top"], ["x2", "right"], ["y2", "bottom"]], COMPATITABLE_COMPONENTS = ["grid", "geo", "parallel", "legend", "toolbox", "title", "visualMap", "dataZoom", "timeline"], BAR_ITEM_STYLE_MAP = [["borderRadius", "barBorderRadius"], ["borderColor", "barBorderColor"], ["borderWidth", "barBorderWidth"]];
function compatBarItemStyle(i) {
  var r = i && i.itemStyle;
  if (r)
    for (var n = 0; n < BAR_ITEM_STYLE_MAP.length; n++) {
      var o = BAR_ITEM_STYLE_MAP[n][1], a = BAR_ITEM_STYLE_MAP[n][0];
      r[o] != null && (r[a] = r[o], process.env.NODE_ENV !== "production" && deprecateReplaceLog(o, a));
    }
}
function compatPieLabel(i) {
  i && i.alignTo === "edge" && i.margin != null && i.edgeDistance == null && (process.env.NODE_ENV !== "production" && deprecateReplaceLog("label.margin", "label.edgeDistance", "pie"), i.edgeDistance = i.margin);
}
function compatSunburstState(i) {
  i && i.downplay && !i.blur && (i.blur = i.downplay, process.env.NODE_ENV !== "production" && deprecateReplaceLog("downplay", "blur", "sunburst"));
}
function compatGraphFocus(i) {
  i && i.focusNodeAdjacency != null && (i.emphasis = i.emphasis || {}, i.emphasis.focus == null && (process.env.NODE_ENV !== "production" && deprecateReplaceLog("focusNodeAdjacency", "emphasis: { focus: 'adjacency'}", "graph/sankey"), i.emphasis.focus = "adjacency"));
}
function traverseTree(i, r) {
  if (i)
    for (var n = 0; n < i.length; n++)
      r(i[n]), i[n] && traverseTree(i[n].children, r);
}
function globalBackwardCompat(i, r) {
  globalCompatStyle(i, r), i.series = normalizeToArray(i.series), each$4(i.series, function(n) {
    if (isObject$3(n)) {
      var o = n.type;
      if (o === "line")
        n.clipOverflow != null && (n.clip = n.clipOverflow, process.env.NODE_ENV !== "production" && deprecateReplaceLog("clipOverflow", "clip", "line"));
      else if (o === "pie" || o === "gauge") {
        n.clockWise != null && (n.clockwise = n.clockWise, process.env.NODE_ENV !== "production" && deprecateReplaceLog("clockWise", "clockwise")), compatPieLabel(n.label);
        var a = n.data;
        if (a && !isTypedArray(a))
          for (var u = 0; u < a.length; u++)
            compatPieLabel(a[u]);
        n.hoverOffset != null && (n.emphasis = n.emphasis || {}, (n.emphasis.scaleSize = null) && (process.env.NODE_ENV !== "production" && deprecateReplaceLog("hoverOffset", "emphasis.scaleSize"), n.emphasis.scaleSize = n.hoverOffset));
      } else if (o === "gauge") {
        var c = get(n, "pointer.color");
        c != null && set(n, "itemStyle.color", c);
      } else if (o === "bar") {
        compatBarItemStyle(n), compatBarItemStyle(n.backgroundStyle), compatBarItemStyle(n.emphasis);
        var a = n.data;
        if (a && !isTypedArray(a))
          for (var u = 0; u < a.length; u++)
            typeof a[u] == "object" && (compatBarItemStyle(a[u]), compatBarItemStyle(a[u] && a[u].emphasis));
      } else if (o === "sunburst") {
        var d = n.highlightPolicy;
        d && (n.emphasis = n.emphasis || {}, n.emphasis.focus || (n.emphasis.focus = d, process.env.NODE_ENV !== "production" && deprecateReplaceLog("highlightPolicy", "emphasis.focus", "sunburst"))), compatSunburstState(n), traverseTree(n.data, compatSunburstState);
      } else
        o === "graph" || o === "sankey" ? compatGraphFocus(n) : o === "map" && (n.mapType && !n.map && (process.env.NODE_ENV !== "production" && deprecateReplaceLog("mapType", "map", "map"), n.map = n.mapType), n.mapLocation && (process.env.NODE_ENV !== "production" && deprecateLog("`mapLocation` is not used anymore."), defaults(n, n.mapLocation)));
      n.hoverAnimation != null && (n.emphasis = n.emphasis || {}, n.emphasis && n.emphasis.scale == null && (process.env.NODE_ENV !== "production" && deprecateReplaceLog("hoverAnimation", "emphasis.scale"), n.emphasis.scale = n.hoverAnimation)), compatLayoutProperties(n);
    }
  }), i.dataRange && (i.visualMap = i.dataRange), each$4(COMPATITABLE_COMPONENTS, function(n) {
    var o = i[n];
    o && (isArray$1(o) || (o = [o]), each$4(o, function(a) {
      compatLayoutProperties(a);
    }));
  });
}
function dataStack(i) {
  var r = createHashMap();
  i.eachSeries(function(n) {
    var o = n.get("stack");
    if (o) {
      var a = r.get(o) || r.set(o, []), u = n.getData(), c = {
        // Used for calculate axis extent automatically.
        // TODO: Type getCalculationInfo return more specific type?
        stackResultDimension: u.getCalculationInfo("stackResultDimension"),
        stackedOverDimension: u.getCalculationInfo("stackedOverDimension"),
        stackedDimension: u.getCalculationInfo("stackedDimension"),
        stackedByDimension: u.getCalculationInfo("stackedByDimension"),
        isStackedByIndex: u.getCalculationInfo("isStackedByIndex"),
        data: u,
        seriesModel: n
      };
      if (!c.stackedDimension || !(c.isStackedByIndex || c.stackedByDimension))
        return;
      a.length && u.setCalculationInfo("stackedOnSeries", a[a.length - 1].seriesModel), a.push(c);
    }
  }), r.each(calculateStack);
}
function calculateStack(i) {
  each$4(i, function(r, n) {
    var o = [], a = [NaN, NaN], u = [r.stackResultDimension, r.stackedOverDimension], c = r.data, d = r.isStackedByIndex, f = r.seriesModel.get("stackStrategy") || "samesign";
    c.modify(u, function(p, _, v) {
      var g = c.get(r.stackedDimension, v);
      if (isNaN(g))
        return a;
      var y, b;
      d ? b = c.getRawIndex(v) : y = c.get(r.stackedByDimension, v);
      for (var A = NaN, w = n - 1; w >= 0; w--) {
        var S = i[w];
        if (d || (b = S.data.rawIndexOf(S.stackedByDimension, y)), b >= 0) {
          var T = S.data.getByRawIndex(S.stackResultDimension, b);
          if (f === "all" || f === "positive" && T > 0 || f === "negative" && T < 0 || f === "samesign" && g >= 0 && T > 0 || f === "samesign" && g <= 0 && T < 0) {
            g = addSafe(g, T), A = T;
            break;
          }
        }
      }
      return o[0] = g, o[1] = A, o;
    });
  });
}
var SourceImpl = (
  /** @class */
  function() {
    function i(r) {
      this.data = r.data || (r.sourceFormat === SOURCE_FORMAT_KEYED_COLUMNS ? {} : []), this.sourceFormat = r.sourceFormat || SOURCE_FORMAT_UNKNOWN, this.seriesLayoutBy = r.seriesLayoutBy || SERIES_LAYOUT_BY_COLUMN, this.startIndex = r.startIndex || 0, this.dimensionsDetectedCount = r.dimensionsDetectedCount, this.metaRawOption = r.metaRawOption;
      var n = this.dimensionsDefine = r.dimensionsDefine;
      if (n)
        for (var o = 0; o < n.length; o++) {
          var a = n[o];
          a.type == null && guessOrdinal(this, o) === BE_ORDINAL.Must && (a.type = "ordinal");
        }
    }
    return i;
  }()
);
function isSourceInstance(i) {
  return i instanceof SourceImpl;
}
function createSource(i, r, n) {
  n = n || detectSourceFormat(i);
  var o = r.seriesLayoutBy, a = determineSourceDimensions(i, n, o, r.sourceHeader, r.dimensions), u = new SourceImpl({
    data: i,
    sourceFormat: n,
    seriesLayoutBy: o,
    dimensionsDefine: a.dimensionsDefine,
    startIndex: a.startIndex,
    dimensionsDetectedCount: a.dimensionsDetectedCount,
    metaRawOption: clone$2(r)
  });
  return u;
}
function createSourceFromSeriesDataOption(i) {
  return new SourceImpl({
    data: i,
    sourceFormat: isTypedArray(i) ? SOURCE_FORMAT_TYPED_ARRAY : SOURCE_FORMAT_ORIGINAL
  });
}
function cloneSourceShallow(i) {
  return new SourceImpl({
    data: i.data,
    sourceFormat: i.sourceFormat,
    seriesLayoutBy: i.seriesLayoutBy,
    dimensionsDefine: clone$2(i.dimensionsDefine),
    startIndex: i.startIndex,
    dimensionsDetectedCount: i.dimensionsDetectedCount
  });
}
function detectSourceFormat(i) {
  var r = SOURCE_FORMAT_UNKNOWN;
  if (isTypedArray(i))
    r = SOURCE_FORMAT_TYPED_ARRAY;
  else if (isArray$1(i)) {
    i.length === 0 && (r = SOURCE_FORMAT_ARRAY_ROWS);
    for (var n = 0, o = i.length; n < o; n++) {
      var a = i[n];
      if (a != null) {
        if (isArray$1(a) || isTypedArray(a)) {
          r = SOURCE_FORMAT_ARRAY_ROWS;
          break;
        } else if (isObject$3(a)) {
          r = SOURCE_FORMAT_OBJECT_ROWS;
          break;
        }
      }
    }
  } else if (isObject$3(i)) {
    for (var u in i)
      if (hasOwn$1(i, u) && isArrayLike(i[u])) {
        r = SOURCE_FORMAT_KEYED_COLUMNS;
        break;
      }
  }
  return r;
}
function determineSourceDimensions(i, r, n, o, a) {
  var u, c;
  if (!i)
    return {
      dimensionsDefine: normalizeDimensionsOption(a),
      startIndex: c,
      dimensionsDetectedCount: u
    };
  if (r === SOURCE_FORMAT_ARRAY_ROWS) {
    var d = i;
    o === "auto" || o == null ? arrayRowsTravelFirst(function(p) {
      p != null && p !== "-" && (isString$2(p) ? c == null && (c = 1) : c = 0);
    }, n, d, 10) : c = isNumber$1(o) ? o : o ? 1 : 0, !a && c === 1 && (a = [], arrayRowsTravelFirst(function(p, _) {
      a[_] = p != null ? p + "" : "";
    }, n, d, 1 / 0)), u = a ? a.length : n === SERIES_LAYOUT_BY_ROW ? d.length : d[0] ? d[0].length : null;
  } else if (r === SOURCE_FORMAT_OBJECT_ROWS)
    a || (a = objectRowsCollectDimensions(i));
  else if (r === SOURCE_FORMAT_KEYED_COLUMNS)
    a || (a = [], each$4(i, function(p, _) {
      a.push(_);
    }));
  else if (r === SOURCE_FORMAT_ORIGINAL) {
    var f = getDataItemValue(i[0]);
    u = isArray$1(f) && f.length || 1;
  } else
    r === SOURCE_FORMAT_TYPED_ARRAY && process.env.NODE_ENV !== "production" && assert(!!a, "dimensions must be given if data is TypedArray.");
  return {
    startIndex: c,
    dimensionsDefine: normalizeDimensionsOption(a),
    dimensionsDetectedCount: u
  };
}
function objectRowsCollectDimensions(i) {
  for (var r = 0, n; r < i.length && !(n = i[r++]); )
    ;
  if (n)
    return keys(n);
}
function normalizeDimensionsOption(i) {
  if (i) {
    var r = createHashMap();
    return map$1(i, function(n, o) {
      n = isObject$3(n) ? n : {
        name: n
      };
      var a = {
        name: n.name,
        displayName: n.displayName,
        type: n.type
      };
      if (a.name == null)
        return a;
      a.name += "", a.displayName == null && (a.displayName = a.name);
      var u = r.get(a.name);
      return u ? a.name += "-" + u.count++ : r.set(a.name, {
        count: 1
      }), a;
    });
  }
}
function arrayRowsTravelFirst(i, r, n, o) {
  if (r === SERIES_LAYOUT_BY_ROW)
    for (var a = 0; a < n.length && a < o; a++)
      i(n[a] ? n[a][0] : null, a);
  else
    for (var u = n[0] || [], a = 0; a < u.length && a < o; a++)
      i(u[a], a);
}
function shouldRetrieveDataByName(i) {
  var r = i.sourceFormat;
  return r === SOURCE_FORMAT_OBJECT_ROWS || r === SOURCE_FORMAT_KEYED_COLUMNS;
}
var _a$1, _b, _c, providerMethods, mountMethods, DefaultDataProvider = (
  /** @class */
  function() {
    function i(r, n) {
      var o = isSourceInstance(r) ? r : createSourceFromSeriesDataOption(r);
      this._source = o;
      var a = this._data = o.data;
      if (o.sourceFormat === SOURCE_FORMAT_TYPED_ARRAY) {
        if (process.env.NODE_ENV !== "production" && n == null)
          throw new Error("Typed array data must specify dimension size");
        this._offset = 0, this._dimSize = n, this._data = a;
      }
      mountMethods(this, a, o);
    }
    return i.prototype.getSource = function() {
      return this._source;
    }, i.prototype.count = function() {
      return 0;
    }, i.prototype.getItem = function(r, n) {
    }, i.prototype.appendData = function(r) {
    }, i.prototype.clean = function() {
    }, i.protoInitialize = function() {
      var r = i.prototype;
      r.pure = !1, r.persistent = !0;
    }(), i.internalField = function() {
      var r;
      mountMethods = function(c, d, f) {
        var p = f.sourceFormat, _ = f.seriesLayoutBy, v = f.startIndex, g = f.dimensionsDefine, y = providerMethods[getMethodMapKey(p, _)];
        if (process.env.NODE_ENV !== "production" && assert(y, "Invalide sourceFormat: " + p), extend(c, y), p === SOURCE_FORMAT_TYPED_ARRAY)
          c.getItem = n, c.count = a, c.fillStorage = o;
        else {
          var b = getRawSourceItemGetter(p, _);
          c.getItem = bind$1(b, null, d, v, g);
          var A = getRawSourceDataCounter(p, _);
          c.count = bind$1(A, null, d, v, g);
        }
      };
      var n = function(c, d) {
        c = c - this._offset, d = d || [];
        for (var f = this._data, p = this._dimSize, _ = p * c, v = 0; v < p; v++)
          d[v] = f[_ + v];
        return d;
      }, o = function(c, d, f, p) {
        for (var _ = this._data, v = this._dimSize, g = 0; g < v; g++) {
          for (var y = p[g], b = y[0] == null ? 1 / 0 : y[0], A = y[1] == null ? -1 / 0 : y[1], w = d - c, S = f[g], T = 0; T < w; T++) {
            var x = _[T * v + g];
            S[c + T] = x, x < b && (b = x), x > A && (A = x);
          }
          y[0] = b, y[1] = A;
        }
      }, a = function() {
        return this._data ? this._data.length / this._dimSize : 0;
      };
      providerMethods = (r = {}, r[SOURCE_FORMAT_ARRAY_ROWS + "_" + SERIES_LAYOUT_BY_COLUMN] = {
        pure: !0,
        appendData: u
      }, r[SOURCE_FORMAT_ARRAY_ROWS + "_" + SERIES_LAYOUT_BY_ROW] = {
        pure: !0,
        appendData: function() {
          throw new Error('Do not support appendData when set seriesLayoutBy: "row".');
        }
      }, r[SOURCE_FORMAT_OBJECT_ROWS] = {
        pure: !0,
        appendData: u
      }, r[SOURCE_FORMAT_KEYED_COLUMNS] = {
        pure: !0,
        appendData: function(c) {
          var d = this._data;
          each$4(c, function(f, p) {
            for (var _ = d[p] || (d[p] = []), v = 0; v < (f || []).length; v++)
              _.push(f[v]);
          });
        }
      }, r[SOURCE_FORMAT_ORIGINAL] = {
        appendData: u
      }, r[SOURCE_FORMAT_TYPED_ARRAY] = {
        persistent: !1,
        pure: !0,
        appendData: function(c) {
          process.env.NODE_ENV !== "production" && assert(isTypedArray(c), "Added data must be TypedArray if data in initialization is TypedArray"), this._data = c;
        },
        // Clean self if data is already used.
        clean: function() {
          this._offset += this.count(), this._data = null;
        }
      }, r);
      function u(c) {
        for (var d = 0; d < c.length; d++)
          this._data.push(c[d]);
      }
    }(), i;
  }()
), getItemSimply = function(i, r, n, o) {
  return i[o];
}, rawSourceItemGetterMap = (_a$1 = {}, _a$1[SOURCE_FORMAT_ARRAY_ROWS + "_" + SERIES_LAYOUT_BY_COLUMN] = function(i, r, n, o) {
  return i[o + r];
}, _a$1[SOURCE_FORMAT_ARRAY_ROWS + "_" + SERIES_LAYOUT_BY_ROW] = function(i, r, n, o, a) {
  o += r;
  for (var u = a || [], c = i, d = 0; d < c.length; d++) {
    var f = c[d];
    u[d] = f ? f[o] : null;
  }
  return u;
}, _a$1[SOURCE_FORMAT_OBJECT_ROWS] = getItemSimply, _a$1[SOURCE_FORMAT_KEYED_COLUMNS] = function(i, r, n, o, a) {
  for (var u = a || [], c = 0; c < n.length; c++) {
    var d = n[c].name;
    if (process.env.NODE_ENV !== "production" && d == null)
      throw new Error();
    var f = i[d];
    u[c] = f ? f[o] : null;
  }
  return u;
}, _a$1[SOURCE_FORMAT_ORIGINAL] = getItemSimply, _a$1);
function getRawSourceItemGetter(i, r) {
  var n = rawSourceItemGetterMap[getMethodMapKey(i, r)];
  return process.env.NODE_ENV !== "production" && assert(n, 'Do not support get item on "' + i + '", "' + r + '".'), n;
}
var countSimply = function(i, r, n) {
  return i.length;
}, rawSourceDataCounterMap = (_b = {}, _b[SOURCE_FORMAT_ARRAY_ROWS + "_" + SERIES_LAYOUT_BY_COLUMN] = function(i, r, n) {
  return Math.max(0, i.length - r);
}, _b[SOURCE_FORMAT_ARRAY_ROWS + "_" + SERIES_LAYOUT_BY_ROW] = function(i, r, n) {
  var o = i[0];
  return o ? Math.max(0, o.length - r) : 0;
}, _b[SOURCE_FORMAT_OBJECT_ROWS] = countSimply, _b[SOURCE_FORMAT_KEYED_COLUMNS] = function(i, r, n) {
  var o = n[0].name;
  if (process.env.NODE_ENV !== "production" && o == null)
    throw new Error();
  var a = i[o];
  return a ? a.length : 0;
}, _b[SOURCE_FORMAT_ORIGINAL] = countSimply, _b);
function getRawSourceDataCounter(i, r) {
  var n = rawSourceDataCounterMap[getMethodMapKey(i, r)];
  return process.env.NODE_ENV !== "production" && assert(n, 'Do not support count on "' + i + '", "' + r + '".'), n;
}
var getRawValueSimply = function(i, r, n) {
  return i[r];
}, rawSourceValueGetterMap = (_c = {}, _c[SOURCE_FORMAT_ARRAY_ROWS] = getRawValueSimply, _c[SOURCE_FORMAT_OBJECT_ROWS] = function(i, r, n) {
  return i[n];
}, _c[SOURCE_FORMAT_KEYED_COLUMNS] = getRawValueSimply, _c[SOURCE_FORMAT_ORIGINAL] = function(i, r, n) {
  var o = getDataItemValue(i);
  return o instanceof Array ? o[r] : o;
}, _c[SOURCE_FORMAT_TYPED_ARRAY] = getRawValueSimply, _c);
function getRawSourceValueGetter(i) {
  var r = rawSourceValueGetterMap[i];
  return process.env.NODE_ENV !== "production" && assert(r, 'Do not support get value on "' + i + '".'), r;
}
function getMethodMapKey(i, r) {
  return i === SOURCE_FORMAT_ARRAY_ROWS ? i + "_" + r : i;
}
function retrieveRawValue(i, r, n) {
  if (i) {
    var o = i.getRawDataItem(r);
    if (o != null) {
      var a = i.getStore(), u = a.getSource().sourceFormat;
      if (n != null) {
        var c = i.getDimensionIndex(n), d = a.getDimensionProperty(c);
        return getRawSourceValueGetter(u)(o, c, d);
      } else {
        var f = o;
        return u === SOURCE_FORMAT_ORIGINAL && (f = getDataItemValue(o)), f;
      }
    }
  }
}
var DIMENSION_LABEL_REG = /\{@(.+?)\}/g, DataFormatMixin = (
  /** @class */
  function() {
    function i() {
    }
    return i.prototype.getDataParams = function(r, n) {
      var o = this.getData(n), a = this.getRawValue(r, n), u = o.getRawIndex(r), c = o.getName(r), d = o.getRawDataItem(r), f = o.getItemVisual(r, "style"), p = f && f[o.getItemVisual(r, "drawType") || "fill"], _ = f && f.stroke, v = this.mainType, g = v === "series", y = o.userOutput && o.userOutput.get();
      return {
        componentType: v,
        componentSubType: this.subType,
        componentIndex: this.componentIndex,
        seriesType: g ? this.subType : null,
        seriesIndex: this.seriesIndex,
        seriesId: g ? this.id : null,
        seriesName: g ? this.name : null,
        name: c,
        dataIndex: u,
        data: d,
        dataType: n,
        value: a,
        color: p,
        borderColor: _,
        dimensionNames: y ? y.fullDimensions : null,
        encode: y ? y.encode : null,
        // Param name list for mapping `a`, `b`, `c`, `d`, `e`
        $vars: ["seriesName", "name", "value"]
      };
    }, i.prototype.getFormattedLabel = function(r, n, o, a, u, c) {
      n = n || "normal";
      var d = this.getData(o), f = this.getDataParams(r, o);
      if (c && (f.value = c.interpolatedValue), a != null && isArray$1(f.value) && (f.value = f.value[a]), !u) {
        var p = d.getItemModel(r);
        u = p.get(n === "normal" ? ["label", "formatter"] : [n, "label", "formatter"]);
      }
      if (isFunction$1(u))
        return f.status = n, f.dimensionIndex = a, u(f);
      if (isString$2(u)) {
        var _ = formatTpl(u, f);
        return _.replace(DIMENSION_LABEL_REG, function(v, g) {
          var y = g.length, b = g;
          b.charAt(0) === "[" && b.charAt(y - 1) === "]" && (b = +b.slice(1, y - 1), process.env.NODE_ENV !== "production" && isNaN(b) && error("Invalide label formatter: @" + g + ", only support @[0], @[1], @[2], ..."));
          var A = retrieveRawValue(d, r, b);
          if (c && isArray$1(c.interpolatedValue)) {
            var w = d.getDimensionIndex(b);
            w >= 0 && (A = c.interpolatedValue[w]);
          }
          return A != null ? A + "" : "";
        });
      }
    }, i.prototype.getRawValue = function(r, n) {
      return retrieveRawValue(this.getData(n), r);
    }, i.prototype.formatTooltip = function(r, n, o) {
    }, i;
  }()
);
function normalizeTooltipFormatResult(i) {
  var r, n;
  return isObject$3(i) ? i.type ? n = i : process.env.NODE_ENV !== "production" && console.warn("The return type of `formatTooltip` is not supported: " + makePrintable(i)) : r = i, {
    text: r,
    // markers: markers || markersExisting,
    frag: n
  };
}
function createTask(i) {
  return new Task(i);
}
var Task = (
  /** @class */
  function() {
    function i(r) {
      r = r || {}, this._reset = r.reset, this._plan = r.plan, this._count = r.count, this._onDirty = r.onDirty, this._dirty = !0;
    }
    return i.prototype.perform = function(r) {
      var n = this._upstream, o = r && r.skip;
      if (this._dirty && n) {
        var a = this.context;
        a.data = a.outputData = n.context.outputData;
      }
      this.__pipeline && (this.__pipeline.currentTask = this);
      var u;
      this._plan && !o && (u = this._plan(this.context));
      var c = _(this._modBy), d = this._modDataCount || 0, f = _(r && r.modBy), p = r && r.modDataCount || 0;
      (c !== f || d !== p) && (u = "reset");
      function _(T) {
        return !(T >= 1) && (T = 1), T;
      }
      var v;
      (this._dirty || u === "reset") && (this._dirty = !1, v = this._doReset(o)), this._modBy = f, this._modDataCount = p;
      var g = r && r.step;
      if (n ? (process.env.NODE_ENV !== "production" && assert(n._outputDueEnd != null), this._dueEnd = n._outputDueEnd) : (process.env.NODE_ENV !== "production" && assert(!this._progress || this._count), this._dueEnd = this._count ? this._count(this.context) : 1 / 0), this._progress) {
        var y = this._dueIndex, b = Math.min(g != null ? this._dueIndex + g : 1 / 0, this._dueEnd);
        if (!o && (v || y < b)) {
          var A = this._progress;
          if (isArray$1(A))
            for (var w = 0; w < A.length; w++)
              this._doProgress(A[w], y, b, f, p);
          else
            this._doProgress(A, y, b, f, p);
        }
        this._dueIndex = b;
        var S = this._settedOutputEnd != null ? this._settedOutputEnd : b;
        process.env.NODE_ENV !== "production" && assert(S >= this._outputDueEnd), this._outputDueEnd = S;
      } else
        this._dueIndex = this._outputDueEnd = this._settedOutputEnd != null ? this._settedOutputEnd : this._dueEnd;
      return this.unfinished();
    }, i.prototype.dirty = function() {
      this._dirty = !0, this._onDirty && this._onDirty(this.context);
    }, i.prototype._doProgress = function(r, n, o, a, u) {
      iterator.reset(n, o, a, u), this._callingProgress = r, this._callingProgress({
        start: n,
        end: o,
        count: o - n,
        next: iterator.next
      }, this.context);
    }, i.prototype._doReset = function(r) {
      this._dueIndex = this._outputDueEnd = this._dueEnd = 0, this._settedOutputEnd = null;
      var n, o;
      !r && this._reset && (n = this._reset(this.context), n && n.progress && (o = n.forceFirstProgress, n = n.progress), isArray$1(n) && !n.length && (n = null)), this._progress = n, this._modBy = this._modDataCount = null;
      var a = this._downstream;
      return a && a.dirty(), o;
    }, i.prototype.unfinished = function() {
      return this._progress && this._dueIndex < this._dueEnd;
    }, i.prototype.pipe = function(r) {
      process.env.NODE_ENV !== "production" && assert(r && !r._disposed && r !== this), (this._downstream !== r || this._dirty) && (this._downstream = r, r._upstream = this, r.dirty());
    }, i.prototype.dispose = function() {
      this._disposed || (this._upstream && (this._upstream._downstream = null), this._downstream && (this._downstream._upstream = null), this._dirty = !1, this._disposed = !0);
    }, i.prototype.getUpstream = function() {
      return this._upstream;
    }, i.prototype.getDownstream = function() {
      return this._downstream;
    }, i.prototype.setOutputEnd = function(r) {
      this._outputDueEnd = this._settedOutputEnd = r;
    }, i;
  }()
), iterator = function() {
  var i, r, n, o, a, u = {
    reset: function(f, p, _, v) {
      r = f, i = p, n = _, o = v, a = Math.ceil(o / n), u.next = n > 1 && o > 0 ? d : c;
    }
  };
  return u;
  function c() {
    return r < i ? r++ : null;
  }
  function d() {
    var f = r % a * n + Math.ceil(r / a), p = r >= i ? null : f < o ? f : r;
    return r++, p;
  }
}();
function parseDataValue(i, r) {
  var n = r && r.type;
  return n === "ordinal" ? i : (n === "time" && !isNumber$1(i) && i != null && i !== "-" && (i = +parseDate(i)), i == null || i === "" ? NaN : Number(i));
}
createHashMap({
  number: function(i) {
    return parseFloat(i);
  },
  time: function(i) {
    return +parseDate(i);
  },
  trim: function(i) {
    return isString$2(i) ? trim(i) : i;
  }
});
var SortOrderComparator = (
  /** @class */
  function() {
    function i(r, n) {
      var o = r === "desc";
      this._resultLT = o ? 1 : -1, n == null && (n = o ? "min" : "max"), this._incomparable = n === "min" ? -1 / 0 : 1 / 0;
    }
    return i.prototype.evaluate = function(r, n) {
      var o = isNumber$1(r) ? r : numericToNumber(r), a = isNumber$1(n) ? n : numericToNumber(n), u = isNaN(o), c = isNaN(a);
      if (u && (o = this._incomparable), c && (a = this._incomparable), u && c) {
        var d = isString$2(r), f = isString$2(n);
        d && (o = f ? r : 0), f && (a = d ? n : 0);
      }
      return o < a ? this._resultLT : o > a ? -this._resultLT : 0;
    }, i;
  }()
), ExternalSource = (
  /** @class */
  function() {
    function i() {
    }
    return i.prototype.getRawData = function() {
      throw new Error("not supported");
    }, i.prototype.getRawDataItem = function(r) {
      throw new Error("not supported");
    }, i.prototype.cloneRawData = function() {
    }, i.prototype.getDimensionInfo = function(r) {
    }, i.prototype.cloneAllDimensionInfo = function() {
    }, i.prototype.count = function() {
    }, i.prototype.retrieveValue = function(r, n) {
    }, i.prototype.retrieveValueFromItem = function(r, n) {
    }, i.prototype.convertValue = function(r, n) {
      return parseDataValue(r, n);
    }, i;
  }()
);
function createExternalSource(i, r) {
  var n = new ExternalSource(), o = i.data, a = n.sourceFormat = i.sourceFormat, u = i.startIndex, c = "";
  i.seriesLayoutBy !== SERIES_LAYOUT_BY_COLUMN && (process.env.NODE_ENV !== "production" && (c = '`seriesLayoutBy` of upstream dataset can only be "column" in data transform.'), throwError$1(c));
  var d = [], f = {}, p = i.dimensionsDefine;
  if (p)
    each$4(p, function(A, w) {
      var S = A.name, T = {
        index: w,
        name: S,
        displayName: A.displayName
      };
      if (d.push(T), S != null) {
        var x = "";
        hasOwn$1(f, S) && (process.env.NODE_ENV !== "production" && (x = 'dimension name "' + S + '" duplicated.'), throwError$1(x)), f[S] = T;
      }
    });
  else
    for (var _ = 0; _ < i.dimensionsDetectedCount; _++)
      d.push({
        index: _
      });
  var v = getRawSourceItemGetter(a, SERIES_LAYOUT_BY_COLUMN);
  r.__isBuiltIn && (n.getRawDataItem = function(A) {
    return v(o, u, d, A);
  }, n.getRawData = bind$1(getRawData, null, i)), n.cloneRawData = bind$1(cloneRawData, null, i);
  var g = getRawSourceDataCounter(a, SERIES_LAYOUT_BY_COLUMN);
  n.count = bind$1(g, null, o, u, d);
  var y = getRawSourceValueGetter(a);
  n.retrieveValue = function(A, w) {
    var S = v(o, u, d, A);
    return b(S, w);
  };
  var b = n.retrieveValueFromItem = function(A, w) {
    if (A != null) {
      var S = d[w];
      if (S)
        return y(A, w, S.name);
    }
  };
  return n.getDimensionInfo = bind$1(getDimensionInfo, null, d, f), n.cloneAllDimensionInfo = bind$1(cloneAllDimensionInfo, null, d), n;
}
function getRawData(i) {
  var r = i.sourceFormat;
  if (!isSupportedSourceFormat(r)) {
    var n = "";
    process.env.NODE_ENV !== "production" && (n = "`getRawData` is not supported in source format " + r), throwError$1(n);
  }
  return i.data;
}
function cloneRawData(i) {
  var r = i.sourceFormat, n = i.data;
  if (!isSupportedSourceFormat(r)) {
    var o = "";
    process.env.NODE_ENV !== "production" && (o = "`cloneRawData` is not supported in source format " + r), throwError$1(o);
  }
  if (r === SOURCE_FORMAT_ARRAY_ROWS) {
    for (var a = [], u = 0, c = n.length; u < c; u++)
      a.push(n[u].slice());
    return a;
  } else if (r === SOURCE_FORMAT_OBJECT_ROWS) {
    for (var a = [], u = 0, c = n.length; u < c; u++)
      a.push(extend({}, n[u]));
    return a;
  }
}
function getDimensionInfo(i, r, n) {
  if (n != null) {
    if (isNumber$1(n) || !isNaN(n) && !hasOwn$1(r, n))
      return i[n];
    if (hasOwn$1(r, n))
      return r[n];
  }
}
function cloneAllDimensionInfo(i) {
  return clone$2(i);
}
var externalTransformMap = createHashMap();
function registerExternalTransform(i) {
  i = clone$2(i);
  var r = i.type, n = "";
  r || (process.env.NODE_ENV !== "production" && (n = "Must have a `type` when `registerTransform`."), throwError$1(n));
  var o = r.split(":");
  o.length !== 2 && (process.env.NODE_ENV !== "production" && (n = 'Name must include namespace like "ns:regression".'), throwError$1(n));
  var a = !1;
  o[0] === "echarts" && (r = o[1], a = !0), i.__isBuiltIn = a, externalTransformMap.set(r, i);
}
function applyDataTransform(i, r, n) {
  var o = normalizeToArray(i), a = o.length, u = "";
  a || (process.env.NODE_ENV !== "production" && (u = "If `transform` declared, it should at least contain one transform."), throwError$1(u));
  for (var c = 0, d = a; c < d; c++) {
    var f = o[c];
    r = applySingleDataTransform(f, r, n, a === 1 ? null : c), c !== d - 1 && (r.length = Math.max(r.length, 1));
  }
  return r;
}
function applySingleDataTransform(i, r, n, o) {
  var a = "";
  r.length || (process.env.NODE_ENV !== "production" && (a = "Must have at least one upstream dataset."), throwError$1(a)), isObject$3(i) || (process.env.NODE_ENV !== "production" && (a = "transform declaration must be an object rather than " + typeof i + "."), throwError$1(a));
  var u = i.type, c = externalTransformMap.get(u);
  c || (process.env.NODE_ENV !== "production" && (a = 'Can not find transform on type "' + u + '".'), throwError$1(a));
  var d = map$1(r, function(_) {
    return createExternalSource(_, c);
  }), f = normalizeToArray(c.transform({
    upstream: d[0],
    upstreamList: d,
    config: clone$2(i.config)
  }));
  if (process.env.NODE_ENV !== "production" && i.print) {
    var p = map$1(f, function(_) {
      var v = o != null ? " === pipe index: " + o : "";
      return ["=== dataset index: " + n.datasetIndex + v + " ===", "- transform result data:", makePrintable(_.data), "- transform result dimensions:", makePrintable(_.dimensions)].join(`
`);
    }).join(`
`);
    log(p);
  }
  return map$1(f, function(_, v) {
    var g = "";
    isObject$3(_) || (process.env.NODE_ENV !== "production" && (g = "A transform should not return some empty results."), throwError$1(g)), _.data || (process.env.NODE_ENV !== "production" && (g = "Transform result data should be not be null or undefined"), throwError$1(g));
    var y = detectSourceFormat(_.data);
    isSupportedSourceFormat(y) || (process.env.NODE_ENV !== "production" && (g = "Transform result data should be array rows or object rows."), throwError$1(g));
    var b, A = r[0];
    if (A && v === 0 && !_.dimensions) {
      var w = A.startIndex;
      w && (_.data = A.data.slice(0, w).concat(_.data)), b = {
        seriesLayoutBy: SERIES_LAYOUT_BY_COLUMN,
        sourceHeader: w,
        dimensions: A.metaRawOption.dimensions
      };
    } else
      b = {
        seriesLayoutBy: SERIES_LAYOUT_BY_COLUMN,
        sourceHeader: 0,
        dimensions: _.dimensions
      };
    return createSource(_.data, b, null);
  });
}
function isSupportedSourceFormat(i) {
  return i === SOURCE_FORMAT_ARRAY_ROWS || i === SOURCE_FORMAT_OBJECT_ROWS;
}
var UNDEFINED = "undefined", CtorUint32Array = typeof Uint32Array === UNDEFINED ? Array : Uint32Array, CtorUint16Array = typeof Uint16Array === UNDEFINED ? Array : Uint16Array, CtorInt32Array$1 = typeof Int32Array === UNDEFINED ? Array : Int32Array, CtorFloat64Array = typeof Float64Array === UNDEFINED ? Array : Float64Array, dataCtors = {
  float: CtorFloat64Array,
  int: CtorInt32Array$1,
  // Ordinal data type can be string or int
  ordinal: Array,
  number: Array,
  time: CtorFloat64Array
}, defaultDimValueGetters;
function getIndicesCtor(i) {
  return i > 65535 ? CtorUint32Array : CtorUint16Array;
}
function getInitialExtent() {
  return [1 / 0, -1 / 0];
}
function cloneChunk(i) {
  var r = i.constructor;
  return r === Array ? i.slice() : new r(i);
}
function prepareStore(i, r, n, o, a) {
  var u = dataCtors[n || "float"];
  if (a) {
    var c = i[r], d = c && c.length;
    if (d !== o) {
      for (var f = new u(o), p = 0; p < d; p++)
        f[p] = c[p];
      i[r] = f;
    }
  } else
    i[r] = new u(o);
}
var DataStore = (
  /** @class */
  function() {
    function i() {
      this._chunks = [], this._rawExtent = [], this._extent = [], this._count = 0, this._rawCount = 0, this._calcDimNameToIdx = createHashMap();
    }
    return i.prototype.initData = function(r, n, o) {
      process.env.NODE_ENV !== "production" && assert(isFunction$1(r.getItem) && isFunction$1(r.count), "Invalid data provider."), this._provider = r, this._chunks = [], this._indices = null, this.getRawIndex = this._getRawIdxIdentity;
      var a = r.getSource(), u = this.defaultDimValueGetter = defaultDimValueGetters[a.sourceFormat];
      this._dimValueGetter = o || u, this._rawExtent = [];
      var c = shouldRetrieveDataByName(a);
      this._dimensions = map$1(n, function(d) {
        return process.env.NODE_ENV !== "production" && c && assert(d.property != null), {
          // Only pick these two props. Not leak other properties like orderMeta.
          type: d.type,
          property: d.property
        };
      }), this._initDataFromProvider(0, r.count());
    }, i.prototype.getProvider = function() {
      return this._provider;
    }, i.prototype.getSource = function() {
      return this._provider.getSource();
    }, i.prototype.ensureCalculationDimension = function(r, n) {
      var o = this._calcDimNameToIdx, a = this._dimensions, u = o.get(r);
      if (u != null) {
        if (a[u].type === n)
          return u;
      } else
        u = a.length;
      return a[u] = {
        type: n
      }, o.set(r, u), this._chunks[u] = new dataCtors[n || "float"](this._rawCount), this._rawExtent[u] = getInitialExtent(), u;
    }, i.prototype.collectOrdinalMeta = function(r, n) {
      var o = this._chunks[r], a = this._dimensions[r], u = this._rawExtent, c = a.ordinalOffset || 0, d = o.length;
      c === 0 && (u[r] = getInitialExtent());
      for (var f = u[r], p = c; p < d; p++) {
        var _ = o[p] = n.parseAndCollect(o[p]);
        isNaN(_) || (f[0] = Math.min(_, f[0]), f[1] = Math.max(_, f[1]));
      }
      a.ordinalMeta = n, a.ordinalOffset = d, a.type = "ordinal";
    }, i.prototype.getOrdinalMeta = function(r) {
      var n = this._dimensions[r], o = n.ordinalMeta;
      return o;
    }, i.prototype.getDimensionProperty = function(r) {
      var n = this._dimensions[r];
      return n && n.property;
    }, i.prototype.appendData = function(r) {
      process.env.NODE_ENV !== "production" && assert(!this._indices, "appendData can only be called on raw data.");
      var n = this._provider, o = this.count();
      n.appendData(r);
      var a = n.count();
      return n.persistent || (a += o), o < a && this._initDataFromProvider(o, a, !0), [o, a];
    }, i.prototype.appendValues = function(r, n) {
      for (var o = this._chunks, a = this._dimensions, u = a.length, c = this._rawExtent, d = this.count(), f = d + Math.max(r.length, n || 0), p = 0; p < u; p++) {
        var _ = a[p];
        prepareStore(o, p, _.type, f, !0);
      }
      for (var v = [], g = d; g < f; g++)
        for (var y = g - d, b = 0; b < u; b++) {
          var _ = a[b], A = defaultDimValueGetters.arrayRows.call(this, r[y] || v, _.property, y, b);
          o[b][g] = A;
          var w = c[b];
          A < w[0] && (w[0] = A), A > w[1] && (w[1] = A);
        }
      return this._rawCount = this._count = f, {
        start: d,
        end: f
      };
    }, i.prototype._initDataFromProvider = function(r, n, o) {
      for (var a = this._provider, u = this._chunks, c = this._dimensions, d = c.length, f = this._rawExtent, p = map$1(c, function(T) {
        return T.property;
      }), _ = 0; _ < d; _++) {
        var v = c[_];
        f[_] || (f[_] = getInitialExtent()), prepareStore(u, _, v.type, n, o);
      }
      if (a.fillStorage)
        a.fillStorage(r, n, u, f);
      else
        for (var g = [], y = r; y < n; y++) {
          g = a.getItem(y, g);
          for (var b = 0; b < d; b++) {
            var A = u[b], w = this._dimValueGetter(g, p[b], y, b);
            A[y] = w;
            var S = f[b];
            w < S[0] && (S[0] = w), w > S[1] && (S[1] = w);
          }
        }
      !a.persistent && a.clean && a.clean(), this._rawCount = this._count = n, this._extent = [];
    }, i.prototype.count = function() {
      return this._count;
    }, i.prototype.get = function(r, n) {
      if (!(n >= 0 && n < this._count))
        return NaN;
      var o = this._chunks[r];
      return o ? o[this.getRawIndex(n)] : NaN;
    }, i.prototype.getValues = function(r, n) {
      var o = [], a = [];
      if (n == null) {
        n = r, r = [];
        for (var u = 0; u < this._dimensions.length; u++)
          a.push(u);
      } else
        a = r;
      for (var u = 0, c = a.length; u < c; u++)
        o.push(this.get(a[u], n));
      return o;
    }, i.prototype.getByRawIndex = function(r, n) {
      if (!(n >= 0 && n < this._rawCount))
        return NaN;
      var o = this._chunks[r];
      return o ? o[n] : NaN;
    }, i.prototype.getSum = function(r) {
      var n = this._chunks[r], o = 0;
      if (n)
        for (var a = 0, u = this.count(); a < u; a++) {
          var c = this.get(r, a);
          isNaN(c) || (o += c);
        }
      return o;
    }, i.prototype.getMedian = function(r) {
      var n = [];
      this.each([r], function(u) {
        isNaN(u) || n.push(u);
      });
      var o = n.sort(function(u, c) {
        return u - c;
      }), a = this.count();
      return a === 0 ? 0 : a % 2 === 1 ? o[(a - 1) / 2] : (o[a / 2] + o[a / 2 - 1]) / 2;
    }, i.prototype.indexOfRawIndex = function(r) {
      if (r >= this._rawCount || r < 0)
        return -1;
      if (!this._indices)
        return r;
      var n = this._indices, o = n[r];
      if (o != null && o < this._count && o === r)
        return r;
      for (var a = 0, u = this._count - 1; a <= u; ) {
        var c = (a + u) / 2 | 0;
        if (n[c] < r)
          a = c + 1;
        else if (n[c] > r)
          u = c - 1;
        else
          return c;
      }
      return -1;
    }, i.prototype.indicesOfNearest = function(r, n, o) {
      var a = this._chunks, u = a[r], c = [];
      if (!u)
        return c;
      o == null && (o = 1 / 0);
      for (var d = 1 / 0, f = -1, p = 0, _ = 0, v = this.count(); _ < v; _++) {
        var g = this.getRawIndex(_), y = n - u[g], b = Math.abs(y);
        b <= o && ((b < d || b === d && y >= 0 && f < 0) && (d = b, f = y, p = 0), y === f && (c[p++] = _));
      }
      return c.length = p, c;
    }, i.prototype.getIndices = function() {
      var r, n = this._indices;
      if (n) {
        var o = n.constructor, a = this._count;
        if (o === Array) {
          r = new o(a);
          for (var u = 0; u < a; u++)
            r[u] = n[u];
        } else
          r = new o(n.buffer, 0, a);
      } else {
        var o = getIndicesCtor(this._rawCount);
        r = new o(this.count());
        for (var u = 0; u < r.length; u++)
          r[u] = u;
      }
      return r;
    }, i.prototype.filter = function(r, n) {
      if (!this._count)
        return this;
      for (var o = this.clone(), a = o.count(), u = getIndicesCtor(o._rawCount), c = new u(a), d = [], f = r.length, p = 0, _ = r[0], v = o._chunks, g = 0; g < a; g++) {
        var y = void 0, b = o.getRawIndex(g);
        if (f === 0)
          y = n(g);
        else if (f === 1) {
          var A = v[_][b];
          y = n(A, g);
        } else {
          for (var w = 0; w < f; w++)
            d[w] = v[r[w]][b];
          d[w] = g, y = n.apply(null, d);
        }
        y && (c[p++] = b);
      }
      return p < a && (o._indices = c), o._count = p, o._extent = [], o._updateGetRawIdx(), o;
    }, i.prototype.selectRange = function(r) {
      var n = this.clone(), o = n._count;
      if (!o)
        return this;
      var a = keys(r), u = a.length;
      if (!u)
        return this;
      var c = n.count(), d = getIndicesCtor(n._rawCount), f = new d(c), p = 0, _ = a[0], v = r[_][0], g = r[_][1], y = n._chunks, b = !1;
      if (!n._indices) {
        var A = 0;
        if (u === 1) {
          for (var w = y[a[0]], S = 0; S < o; S++) {
            var T = w[S];
            (T >= v && T <= g || isNaN(T)) && (f[p++] = A), A++;
          }
          b = !0;
        } else if (u === 2) {
          for (var w = y[a[0]], x = y[a[1]], L = r[a[1]][0], O = r[a[1]][1], S = 0; S < o; S++) {
            var T = w[S], M = x[S];
            (T >= v && T <= g || isNaN(T)) && (M >= L && M <= O || isNaN(M)) && (f[p++] = A), A++;
          }
          b = !0;
        }
      }
      if (!b)
        if (u === 1)
          for (var S = 0; S < c; S++) {
            var k = n.getRawIndex(S), T = y[a[0]][k];
            (T >= v && T <= g || isNaN(T)) && (f[p++] = k);
          }
        else
          for (var S = 0; S < c; S++) {
            for (var ie = !0, k = n.getRawIndex(S), $ = 0; $ < u; $++) {
              var Y = a[$], T = y[Y][k];
              (T < r[Y][0] || T > r[Y][1]) && (ie = !1);
            }
            ie && (f[p++] = n.getRawIndex(S));
          }
      return p < c && (n._indices = f), n._count = p, n._extent = [], n._updateGetRawIdx(), n;
    }, i.prototype.map = function(r, n) {
      var o = this.clone(r);
      return this._updateDims(o, r, n), o;
    }, i.prototype.modify = function(r, n) {
      this._updateDims(this, r, n);
    }, i.prototype._updateDims = function(r, n, o) {
      for (var a = r._chunks, u = [], c = n.length, d = r.count(), f = [], p = r._rawExtent, _ = 0; _ < n.length; _++)
        p[n[_]] = getInitialExtent();
      for (var v = 0; v < d; v++) {
        for (var g = r.getRawIndex(v), y = 0; y < c; y++)
          f[y] = a[n[y]][g];
        f[c] = v;
        var b = o && o.apply(null, f);
        if (b != null) {
          typeof b != "object" && (u[0] = b, b = u);
          for (var _ = 0; _ < b.length; _++) {
            var A = n[_], w = b[_], S = p[A], T = a[A];
            T && (T[g] = w), w < S[0] && (S[0] = w), w > S[1] && (S[1] = w);
          }
        }
      }
    }, i.prototype.lttbDownSample = function(r, n) {
      var o = this.clone([r], !0), a = o._chunks, u = a[r], c = this.count(), d = 0, f = Math.floor(1 / n), p = this.getRawIndex(0), _, v, g, y = new (getIndicesCtor(this._rawCount))(Math.min((Math.ceil(c / f) + 2) * 2, c));
      y[d++] = p;
      for (var b = 1; b < c - 1; b += f) {
        for (var A = Math.min(b + f, c - 1), w = Math.min(b + f * 2, c), S = (w + A) / 2, T = 0, x = A; x < w; x++) {
          var L = this.getRawIndex(x), O = u[L];
          isNaN(O) || (T += O);
        }
        T /= w - A;
        var M = b, k = Math.min(b + f, c), ie = b - 1, $ = u[p];
        _ = -1, g = M;
        for (var Y = -1, D = 0, x = M; x < k; x++) {
          var L = this.getRawIndex(x), O = u[L];
          if (isNaN(O)) {
            D++, Y < 0 && (Y = L);
            continue;
          }
          v = Math.abs((ie - S) * (O - $) - (ie - x) * (T - $)), v > _ && (_ = v, g = L);
        }
        D > 0 && D < k - M && (y[d++] = Math.min(Y, g), g = Math.max(Y, g)), y[d++] = g, p = g;
      }
      return y[d++] = this.getRawIndex(c - 1), o._count = d, o._indices = y, o.getRawIndex = this._getRawIdx, o;
    }, i.prototype.downSample = function(r, n, o, a) {
      for (var u = this.clone([r], !0), c = u._chunks, d = [], f = Math.floor(1 / n), p = c[r], _ = this.count(), v = u._rawExtent[r] = getInitialExtent(), g = new (getIndicesCtor(this._rawCount))(Math.ceil(_ / f)), y = 0, b = 0; b < _; b += f) {
        f > _ - b && (f = _ - b, d.length = f);
        for (var A = 0; A < f; A++) {
          var w = this.getRawIndex(b + A);
          d[A] = p[w];
        }
        var S = o(d), T = this.getRawIndex(Math.min(b + a(d, S) || 0, _ - 1));
        p[T] = S, S < v[0] && (v[0] = S), S > v[1] && (v[1] = S), g[y++] = T;
      }
      return u._count = y, u._indices = g, u._updateGetRawIdx(), u;
    }, i.prototype.each = function(r, n) {
      if (this._count)
        for (var o = r.length, a = this._chunks, u = 0, c = this.count(); u < c; u++) {
          var d = this.getRawIndex(u);
          switch (o) {
            case 0:
              n(u);
              break;
            case 1:
              n(a[r[0]][d], u);
              break;
            case 2:
              n(a[r[0]][d], a[r[1]][d], u);
              break;
            default:
              for (var f = 0, p = []; f < o; f++)
                p[f] = a[r[f]][d];
              p[f] = u, n.apply(null, p);
          }
        }
    }, i.prototype.getDataExtent = function(r) {
      var n = this._chunks[r], o = getInitialExtent();
      if (!n)
        return o;
      var a = this.count(), u = !this._indices, c;
      if (u)
        return this._rawExtent[r].slice();
      if (c = this._extent[r], c)
        return c.slice();
      c = o;
      for (var d = c[0], f = c[1], p = 0; p < a; p++) {
        var _ = this.getRawIndex(p), v = n[_];
        v < d && (d = v), v > f && (f = v);
      }
      return c = [d, f], this._extent[r] = c, c;
    }, i.prototype.getRawDataItem = function(r) {
      var n = this.getRawIndex(r);
      if (this._provider.persistent)
        return this._provider.getItem(n);
      for (var o = [], a = this._chunks, u = 0; u < a.length; u++)
        o.push(a[u][n]);
      return o;
    }, i.prototype.clone = function(r, n) {
      var o = new i(), a = this._chunks, u = r && reduce(r, function(d, f) {
        return d[f] = !0, d;
      }, {});
      if (u)
        for (var c = 0; c < a.length; c++)
          o._chunks[c] = u[c] ? cloneChunk(a[c]) : a[c];
      else
        o._chunks = a;
      return this._copyCommonProps(o), n || (o._indices = this._cloneIndices()), o._updateGetRawIdx(), o;
    }, i.prototype._copyCommonProps = function(r) {
      r._count = this._count, r._rawCount = this._rawCount, r._provider = this._provider, r._dimensions = this._dimensions, r._extent = clone$2(this._extent), r._rawExtent = clone$2(this._rawExtent);
    }, i.prototype._cloneIndices = function() {
      if (this._indices) {
        var r = this._indices.constructor, n = void 0;
        if (r === Array) {
          var o = this._indices.length;
          n = new r(o);
          for (var a = 0; a < o; a++)
            n[a] = this._indices[a];
        } else
          n = new r(this._indices);
        return n;
      }
      return null;
    }, i.prototype._getRawIdxIdentity = function(r) {
      return r;
    }, i.prototype._getRawIdx = function(r) {
      return r < this._count && r >= 0 ? this._indices[r] : -1;
    }, i.prototype._updateGetRawIdx = function() {
      this.getRawIndex = this._indices ? this._getRawIdx : this._getRawIdxIdentity;
    }, i.internalField = function() {
      function r(n, o, a, u) {
        return parseDataValue(n[u], this._dimensions[u]);
      }
      defaultDimValueGetters = {
        arrayRows: r,
        objectRows: function(n, o, a, u) {
          return parseDataValue(n[o], this._dimensions[u]);
        },
        keyedColumns: r,
        original: function(n, o, a, u) {
          var c = n && (n.value == null ? n : n.value);
          return parseDataValue(c instanceof Array ? c[u] : c, this._dimensions[u]);
        },
        typedArray: function(n, o, a, u) {
          return n[u];
        }
      };
    }(), i;
  }()
), SourceManager = (
  /** @class */
  function() {
    function i(r) {
      this._sourceList = [], this._storeList = [], this._upstreamSignList = [], this._versionSignBase = 0, this._dirty = !0, this._sourceHost = r;
    }
    return i.prototype.dirty = function() {
      this._setLocalSource([], []), this._storeList = [], this._dirty = !0;
    }, i.prototype._setLocalSource = function(r, n) {
      this._sourceList = r, this._upstreamSignList = n, this._versionSignBase++, this._versionSignBase > 9e10 && (this._versionSignBase = 0);
    }, i.prototype._getVersionSign = function() {
      return this._sourceHost.uid + "_" + this._versionSignBase;
    }, i.prototype.prepareSource = function() {
      this._isDirty() && (this._createSource(), this._dirty = !1);
    }, i.prototype._createSource = function() {
      this._setLocalSource([], []);
      var r = this._sourceHost, n = this._getUpstreamSourceManagers(), o = !!n.length, a, u;
      if (isSeries(r)) {
        var c = r, d = void 0, f = void 0, p = void 0;
        if (o) {
          var _ = n[0];
          _.prepareSource(), p = _.getSource(), d = p.data, f = p.sourceFormat, u = [_._getVersionSign()];
        } else
          d = c.get("data", !0), f = isTypedArray(d) ? SOURCE_FORMAT_TYPED_ARRAY : SOURCE_FORMAT_ORIGINAL, u = [];
        var v = this._getSourceMetaRawOption() || {}, g = p && p.metaRawOption || {}, y = retrieve2(v.seriesLayoutBy, g.seriesLayoutBy) || null, b = retrieve2(v.sourceHeader, g.sourceHeader), A = retrieve2(v.dimensions, g.dimensions), w = y !== g.seriesLayoutBy || !!b != !!g.sourceHeader || A;
        a = w ? [createSource(d, {
          seriesLayoutBy: y,
          sourceHeader: b,
          dimensions: A
        }, f)] : [];
      } else {
        var S = r;
        if (o) {
          var T = this._applyTransform(n);
          a = T.sourceList, u = T.upstreamSignList;
        } else {
          var x = S.get("source", !0);
          a = [createSource(x, this._getSourceMetaRawOption(), null)], u = [];
        }
      }
      process.env.NODE_ENV !== "production" && assert(a && u), this._setLocalSource(a, u);
    }, i.prototype._applyTransform = function(r) {
      var n = this._sourceHost, o = n.get("transform", !0), a = n.get("fromTransformResult", !0);
      if (process.env.NODE_ENV !== "production" && assert(a != null || o != null), a != null) {
        var u = "";
        r.length !== 1 && (process.env.NODE_ENV !== "production" && (u = "When using `fromTransformResult`, there should be only one upstream dataset"), doThrow(u));
      }
      var c, d = [], f = [];
      return each$4(r, function(p) {
        p.prepareSource();
        var _ = p.getSource(a || 0), v = "";
        a != null && !_ && (process.env.NODE_ENV !== "production" && (v = "Can not retrieve result by `fromTransformResult`: " + a), doThrow(v)), d.push(_), f.push(p._getVersionSign());
      }), o ? c = applyDataTransform(o, d, {
        datasetIndex: n.componentIndex
      }) : a != null && (c = [cloneSourceShallow(d[0])]), {
        sourceList: c,
        upstreamSignList: f
      };
    }, i.prototype._isDirty = function() {
      if (this._dirty)
        return !0;
      for (var r = this._getUpstreamSourceManagers(), n = 0; n < r.length; n++) {
        var o = r[n];
        if (
          // Consider the case that there is ancestor diry, call it recursively.
          // The performance is probably not an issue because usually the chain is not long.
          o._isDirty() || this._upstreamSignList[n] !== o._getVersionSign()
        )
          return !0;
      }
    }, i.prototype.getSource = function(r) {
      r = r || 0;
      var n = this._sourceList[r];
      if (!n) {
        var o = this._getUpstreamSourceManagers();
        return o[0] && o[0].getSource(r);
      }
      return n;
    }, i.prototype.getSharedDataStore = function(r) {
      process.env.NODE_ENV !== "production" && assert(isSeries(this._sourceHost), "Can only call getDataStore on series source manager.");
      var n = r.makeStoreSchema();
      return this._innerGetDataStore(n.dimensions, r.source, n.hash);
    }, i.prototype._innerGetDataStore = function(r, n, o) {
      var a = 0, u = this._storeList, c = u[a];
      c || (c = u[a] = {});
      var d = c[o];
      if (!d) {
        var f = this._getUpstreamSourceManagers()[0];
        isSeries(this._sourceHost) && f ? d = f._innerGetDataStore(r, n, o) : (d = new DataStore(), d.initData(new DefaultDataProvider(n, r.length), r)), c[o] = d;
      }
      return d;
    }, i.prototype._getUpstreamSourceManagers = function() {
      var r = this._sourceHost;
      if (isSeries(r)) {
        var n = querySeriesUpstreamDatasetModel(r);
        return n ? [n.getSourceManager()] : [];
      } else
        return map$1(queryDatasetUpstreamDatasetModels(r), function(o) {
          return o.getSourceManager();
        });
    }, i.prototype._getSourceMetaRawOption = function() {
      var r = this._sourceHost, n, o, a;
      if (isSeries(r))
        n = r.get("seriesLayoutBy", !0), o = r.get("sourceHeader", !0), a = r.get("dimensions", !0);
      else if (!this._getUpstreamSourceManagers().length) {
        var u = r;
        n = u.get("seriesLayoutBy", !0), o = u.get("sourceHeader", !0), a = u.get("dimensions", !0);
      }
      return {
        seriesLayoutBy: n,
        sourceHeader: o,
        dimensions: a
      };
    }, i;
  }()
);
function isSeries(i) {
  return i.mainType === "series";
}
function doThrow(i) {
  throw new Error(i);
}
var TOOLTIP_LINE_HEIGHT_CSS = "line-height:1";
function getTooltipTextStyle(i, r) {
  var n = i.color || "#6e7079", o = i.fontSize || 12, a = i.fontWeight || "400", u = i.color || "#464646", c = i.fontSize || 14, d = i.fontWeight || "900";
  return r === "html" ? {
    // eslint-disable-next-line max-len
    nameStyle: "font-size:" + encodeHTML(o + "") + "px;color:" + encodeHTML(n) + ";font-weight:" + encodeHTML(a + ""),
    // eslint-disable-next-line max-len
    valueStyle: "font-size:" + encodeHTML(c + "") + "px;color:" + encodeHTML(u) + ";font-weight:" + encodeHTML(d + "")
  } : {
    nameStyle: {
      fontSize: o,
      fill: n,
      fontWeight: a
    },
    valueStyle: {
      fontSize: c,
      fill: u,
      fontWeight: d
    }
  };
}
var HTML_GAPS = [0, 10, 20, 30], RICH_TEXT_GAPS = ["", `
`, `

`, `


`];
function createTooltipMarkup(i, r) {
  return r.type = i, r;
}
function isSectionFragment(i) {
  return i.type === "section";
}
function getBuilder(i) {
  return isSectionFragment(i) ? buildSection : buildNameValue;
}
function getBlockGapLevel(i) {
  if (isSectionFragment(i)) {
    var r = 0, n = i.blocks.length, o = n > 1 || n > 0 && !i.noHeader;
    return each$4(i.blocks, function(a) {
      var u = getBlockGapLevel(a);
      u >= r && (r = u + +(o && // 0 always can not be readable gap level.
      (!u || isSectionFragment(a) && !a.noHeader)));
    }), r;
  }
  return 0;
}
function buildSection(i, r, n, o) {
  var a = r.noHeader, u = getGap(getBlockGapLevel(r)), c = [], d = r.blocks || [];
  assert(!d || isArray$1(d)), d = d || [];
  var f = i.orderMode;
  if (r.sortBlocks && f) {
    d = d.slice();
    var p = {
      valueAsc: "asc",
      valueDesc: "desc"
    };
    if (hasOwn$1(p, f)) {
      var _ = new SortOrderComparator(p[f], null);
      d.sort(function(b, A) {
        return _.evaluate(b.sortParam, A.sortParam);
      });
    } else
      f === "seriesDesc" && d.reverse();
  }
  each$4(d, function(b, A) {
    var w = r.valueFormatter, S = getBuilder(b)(
      // Inherit valueFormatter
      w ? extend(extend({}, i), {
        valueFormatter: w
      }) : i,
      b,
      A > 0 ? u.html : 0,
      o
    );
    S != null && c.push(S);
  });
  var v = i.renderMode === "richText" ? c.join(u.richText) : wrapBlockHTML(c.join(""), a ? n : u.html);
  if (a)
    return v;
  var g = makeValueReadable(r.header, "ordinal", i.useUTC), y = getTooltipTextStyle(o, i.renderMode).nameStyle;
  return i.renderMode === "richText" ? wrapInlineNameRichText(i, g, y) + u.richText + v : wrapBlockHTML('<div style="' + y + ";" + TOOLTIP_LINE_HEIGHT_CSS + ';">' + encodeHTML(g) + "</div>" + v, n);
}
function buildNameValue(i, r, n, o) {
  var a = i.renderMode, u = r.noName, c = r.noValue, d = !r.markerType, f = r.name, p = i.useUTC, _ = r.valueFormatter || i.valueFormatter || function(L) {
    return L = isArray$1(L) ? L : [L], map$1(L, function(O, M) {
      return makeValueReadable(O, isArray$1(y) ? y[M] : y, p);
    });
  };
  if (!(u && c)) {
    var v = d ? "" : i.markupStyleCreator.makeTooltipMarker(r.markerType, r.markerColor || "#333", a), g = u ? "" : makeValueReadable(f, "ordinal", p), y = r.valueType, b = c ? [] : _(r.value, r.dataIndex), A = !d || !u, w = !d && u, S = getTooltipTextStyle(o, a), T = S.nameStyle, x = S.valueStyle;
    return a === "richText" ? (d ? "" : v) + (u ? "" : wrapInlineNameRichText(i, g, T)) + (c ? "" : wrapInlineValueRichText(i, b, A, w, x)) : wrapBlockHTML((d ? "" : v) + (u ? "" : wrapInlineNameHTML(g, !d, T)) + (c ? "" : wrapInlineValueHTML(b, A, w, x)), n);
  }
}
function buildTooltipMarkup(i, r, n, o, a, u) {
  if (i) {
    var c = getBuilder(i), d = {
      useUTC: a,
      renderMode: n,
      orderMode: o,
      markupStyleCreator: r,
      valueFormatter: i.valueFormatter
    };
    return c(d, i, 0, u);
  }
}
function getGap(i) {
  return {
    html: HTML_GAPS[i],
    richText: RICH_TEXT_GAPS[i]
  };
}
function wrapBlockHTML(i, r) {
  var n = '<div style="clear:both"></div>', o = "margin: " + r + "px 0 0";
  return '<div style="' + o + ";" + TOOLTIP_LINE_HEIGHT_CSS + ';">' + i + n + "</div>";
}
function wrapInlineNameHTML(i, r, n) {
  var o = r ? "margin-left:2px" : "";
  return '<span style="' + n + ";" + o + '">' + encodeHTML(i) + "</span>";
}
function wrapInlineValueHTML(i, r, n, o) {
  var a = n ? "10px" : "20px", u = r ? "float:right;margin-left:" + a : "";
  return i = isArray$1(i) ? i : [i], '<span style="' + u + ";" + o + '">' + map$1(i, function(c) {
    return encodeHTML(c);
  }).join("&nbsp;&nbsp;") + "</span>";
}
function wrapInlineNameRichText(i, r, n) {
  return i.markupStyleCreator.wrapRichTextStyle(r, n);
}
function wrapInlineValueRichText(i, r, n, o, a) {
  var u = [a], c = o ? 10 : 20;
  return n && u.push({
    padding: [0, 0, 0, c],
    align: "right"
  }), i.markupStyleCreator.wrapRichTextStyle(isArray$1(r) ? r.join("  ") : r, u);
}
function retrieveVisualColorForTooltipMarker(i, r) {
  var n = i.getData().getItemVisual(r, "style"), o = n[i.visualDrawType];
  return convertToColorString(o);
}
function getPaddingFromTooltipModel(i, r) {
  var n = i.get("padding");
  return n ?? (r === "richText" ? [8, 10] : 10);
}
var TooltipMarkupStyleCreator = (
  /** @class */
  function() {
    function i() {
      this.richTextStyles = {}, this._nextStyleNameId = getRandomIdBase();
    }
    return i.prototype._generateStyleName = function() {
      return "__EC_aUTo_" + this._nextStyleNameId++;
    }, i.prototype.makeTooltipMarker = function(r, n, o) {
      var a = o === "richText" ? this._generateStyleName() : null, u = getTooltipMarker({
        color: n,
        type: r,
        renderMode: o,
        markerId: a
      });
      return isString$2(u) ? u : (process.env.NODE_ENV !== "production" && assert(a), this.richTextStyles[a] = u.style, u.content);
    }, i.prototype.wrapRichTextStyle = function(r, n) {
      var o = {};
      isArray$1(n) ? each$4(n, function(u) {
        return extend(o, u);
      }) : extend(o, n);
      var a = this._generateStyleName();
      return this.richTextStyles[a] = o, "{" + a + "|" + r + "}";
    }, i;
  }()
);
function defaultSeriesFormatTooltip(i) {
  var r = i.series, n = i.dataIndex, o = i.multipleSeries, a = r.getData(), u = a.mapDimensionsAll("defaultedTooltip"), c = u.length, d = r.getRawValue(n), f = isArray$1(d), p = retrieveVisualColorForTooltipMarker(r, n), _, v, g, y;
  if (c > 1 || f && !c) {
    var b = formatTooltipArrayValue(d, r, n, u, p);
    _ = b.inlineValues, v = b.inlineValueTypes, g = b.blocks, y = b.inlineValues[0];
  } else if (c) {
    var A = a.getDimensionInfo(u[0]);
    y = _ = retrieveRawValue(a, n, u[0]), v = A.type;
  } else
    y = _ = f ? d[0] : d;
  var w = isNameSpecified(r), S = w && r.name || "", T = a.getName(n), x = o ? S : T;
  return createTooltipMarkup("section", {
    header: S,
    // When series name is not specified, do not show a header line with only '-'.
    // This case always happens in tooltip.trigger: 'item'.
    noHeader: o || !w,
    sortParam: y,
    blocks: [createTooltipMarkup("nameValue", {
      markerType: "item",
      markerColor: p,
      // Do not mix display seriesName and itemName in one tooltip,
      // which might confuses users.
      name: x,
      // name dimension might be auto assigned, where the name might
      // be not readable. So we check trim here.
      noName: !trim(x),
      value: _,
      valueType: v,
      dataIndex: n
    })].concat(g || [])
  });
}
function formatTooltipArrayValue(i, r, n, o, a) {
  var u = r.getData(), c = reduce(i, function(v, g, y) {
    var b = u.getDimensionInfo(y);
    return v = v || b && b.tooltip !== !1 && b.displayName != null;
  }, !1), d = [], f = [], p = [];
  o.length ? each$4(o, function(v) {
    _(retrieveRawValue(u, n, v), v);
  }) : each$4(i, _);
  function _(v, g) {
    var y = u.getDimensionInfo(g);
    !y || y.otherDims.tooltip === !1 || (c ? p.push(createTooltipMarkup("nameValue", {
      markerType: "subItem",
      markerColor: a,
      name: y.displayName,
      value: v,
      valueType: y.type
    })) : (d.push(v), f.push(y.type)));
  }
  return {
    inlineValues: d,
    inlineValueTypes: f,
    blocks: p
  };
}
var inner$6 = makeInner();
function getSelectionKey(i, r) {
  return i.getName(r) || i.getId(r);
}
var SERIES_UNIVERSAL_TRANSITION_PROP = "__universalTransitionEnabled", SeriesModel = (
  /** @class */
  function(i) {
    __extends(r, i);
    function r() {
      var n = i !== null && i.apply(this, arguments) || this;
      return n._selectedDataIndicesMap = {}, n;
    }
    return r.prototype.init = function(n, o, a) {
      this.seriesIndex = this.componentIndex, this.dataTask = createTask({
        count: dataTaskCount,
        reset: dataTaskReset
      }), this.dataTask.context = {
        model: this
      }, this.mergeDefaultAndTheme(n, a);
      var u = inner$6(this).sourceManager = new SourceManager(this);
      u.prepareSource();
      var c = this.getInitialData(n, a);
      wrapData(c, this), this.dataTask.context.data = c, process.env.NODE_ENV !== "production" && assert(c, "getInitialData returned invalid data."), inner$6(this).dataBeforeProcessed = c, autoSeriesName(this), this._initSelectedMapFromData(c);
    }, r.prototype.mergeDefaultAndTheme = function(n, o) {
      var a = fetchLayoutMode(this), u = a ? getLayoutParams(n) : {}, c = this.subType;
      ComponentModel$1.hasClass(c) && (c += "Series"), merge(n, o.getTheme().get(this.subType)), merge(n, this.getDefaultOption()), defaultEmphasis(n, "label", ["show"]), this.fillDataTextStyle(n.data), a && mergeLayoutParam(n, u, a);
    }, r.prototype.mergeOption = function(n, o) {
      n = merge(this.option, n, !0), this.fillDataTextStyle(n.data);
      var a = fetchLayoutMode(this);
      a && mergeLayoutParam(this.option, n, a);
      var u = inner$6(this).sourceManager;
      u.dirty(), u.prepareSource();
      var c = this.getInitialData(n, o);
      wrapData(c, this), this.dataTask.dirty(), this.dataTask.context.data = c, inner$6(this).dataBeforeProcessed = c, autoSeriesName(this), this._initSelectedMapFromData(c);
    }, r.prototype.fillDataTextStyle = function(n) {
      if (n && !isTypedArray(n))
        for (var o = ["show"], a = 0; a < n.length; a++)
          n[a] && n[a].label && defaultEmphasis(n[a], "label", o);
    }, r.prototype.getInitialData = function(n, o) {
    }, r.prototype.appendData = function(n) {
      var o = this.getRawData();
      o.appendData(n.data);
    }, r.prototype.getData = function(n) {
      var o = getCurrentTask(this);
      if (o) {
        var a = o.context.data;
        return n == null || !a.getLinkedData ? a : a.getLinkedData(n);
      } else
        return inner$6(this).data;
    }, r.prototype.getAllData = function() {
      var n = this.getData();
      return n && n.getLinkedDataAll ? n.getLinkedDataAll() : [{
        data: n
      }];
    }, r.prototype.setData = function(n) {
      var o = getCurrentTask(this);
      if (o) {
        var a = o.context;
        a.outputData = n, o !== this.dataTask && (a.data = n);
      }
      inner$6(this).data = n;
    }, r.prototype.getEncode = function() {
      var n = this.get("encode", !0);
      if (n)
        return createHashMap(n);
    }, r.prototype.getSourceManager = function() {
      return inner$6(this).sourceManager;
    }, r.prototype.getSource = function() {
      return this.getSourceManager().getSource();
    }, r.prototype.getRawData = function() {
      return inner$6(this).dataBeforeProcessed;
    }, r.prototype.getColorBy = function() {
      var n = this.get("colorBy");
      return n || "series";
    }, r.prototype.isColorBySeries = function() {
      return this.getColorBy() === "series";
    }, r.prototype.getBaseAxis = function() {
      var n = this.coordinateSystem;
      return n && n.getBaseAxis && n.getBaseAxis();
    }, r.prototype.formatTooltip = function(n, o, a) {
      return defaultSeriesFormatTooltip({
        series: this,
        dataIndex: n,
        multipleSeries: o
      });
    }, r.prototype.isAnimationEnabled = function() {
      var n = this.ecModel;
      if (env$1.node && !(n && n.ssr))
        return !1;
      var o = this.getShallow("animation");
      return o && this.getData().count() > this.getShallow("animationThreshold") && (o = !1), !!o;
    }, r.prototype.restoreData = function() {
      this.dataTask.dirty();
    }, r.prototype.getColorFromPalette = function(n, o, a) {
      var u = this.ecModel, c = PaletteMixin.prototype.getColorFromPalette.call(this, n, o, a);
      return c || (c = u.getColorFromPalette(n, o, a)), c;
    }, r.prototype.coordDimToDataDim = function(n) {
      return this.getRawData().mapDimensionsAll(n);
    }, r.prototype.getProgressive = function() {
      return this.get("progressive");
    }, r.prototype.getProgressiveThreshold = function() {
      return this.get("progressiveThreshold");
    }, r.prototype.select = function(n, o) {
      this._innerSelect(this.getData(o), n);
    }, r.prototype.unselect = function(n, o) {
      var a = this.option.selectedMap;
      if (a) {
        var u = this.option.selectedMode, c = this.getData(o);
        if (u === "series" || a === "all") {
          this.option.selectedMap = {}, this._selectedDataIndicesMap = {};
          return;
        }
        for (var d = 0; d < n.length; d++) {
          var f = n[d], p = getSelectionKey(c, f);
          a[p] = !1, this._selectedDataIndicesMap[p] = -1;
        }
      }
    }, r.prototype.toggleSelect = function(n, o) {
      for (var a = [], u = 0; u < n.length; u++)
        a[0] = n[u], this.isSelected(n[u], o) ? this.unselect(a, o) : this.select(a, o);
    }, r.prototype.getSelectedDataIndices = function() {
      if (this.option.selectedMap === "all")
        return [].slice.call(this.getData().getIndices());
      for (var n = this._selectedDataIndicesMap, o = keys(n), a = [], u = 0; u < o.length; u++) {
        var c = n[o[u]];
        c >= 0 && a.push(c);
      }
      return a;
    }, r.prototype.isSelected = function(n, o) {
      var a = this.option.selectedMap;
      if (!a)
        return !1;
      var u = this.getData(o);
      return (a === "all" || a[getSelectionKey(u, n)]) && !u.getItemModel(n).get(["select", "disabled"]);
    }, r.prototype.isUniversalTransitionEnabled = function() {
      if (this[SERIES_UNIVERSAL_TRANSITION_PROP])
        return !0;
      var n = this.option.universalTransition;
      return n ? n === !0 ? !0 : n && n.enabled : !1;
    }, r.prototype._innerSelect = function(n, o) {
      var a, u, c = this.option, d = c.selectedMode, f = o.length;
      if (!(!d || !f)) {
        if (d === "series")
          c.selectedMap = "all";
        else if (d === "multiple") {
          isObject$3(c.selectedMap) || (c.selectedMap = {});
          for (var p = c.selectedMap, _ = 0; _ < f; _++) {
            var v = o[_], g = getSelectionKey(n, v);
            p[g] = !0, this._selectedDataIndicesMap[g] = n.getRawIndex(v);
          }
        } else if (d === "single" || d === !0) {
          var y = o[f - 1], g = getSelectionKey(n, y);
          c.selectedMap = (a = {}, a[g] = !0, a), this._selectedDataIndicesMap = (u = {}, u[g] = n.getRawIndex(y), u);
        }
      }
    }, r.prototype._initSelectedMapFromData = function(n) {
      if (!this.option.selectedMap) {
        var o = [];
        n.hasItemOption && n.each(function(a) {
          var u = n.getRawDataItem(a);
          u && u.selected && o.push(a);
        }), o.length > 0 && this._innerSelect(n, o);
      }
    }, r.registerClass = function(n) {
      return ComponentModel$1.registerClass(n);
    }, r.protoInitialize = function() {
      var n = r.prototype;
      n.type = "series.__base__", n.seriesIndex = 0, n.ignoreStyleOnData = !1, n.hasSymbolVisual = !1, n.defaultSymbol = "circle", n.visualStyleAccessPath = "itemStyle", n.visualDrawType = "fill";
    }(), r;
  }(ComponentModel$1)
);
mixin(SeriesModel, DataFormatMixin);
mixin(SeriesModel, PaletteMixin);
mountExtend(SeriesModel, ComponentModel$1);
function autoSeriesName(i) {
  var r = i.name;
  isNameSpecified(i) || (i.name = getSeriesAutoName(i) || r);
}
function getSeriesAutoName(i) {
  var r = i.getRawData(), n = r.mapDimensionsAll("seriesName"), o = [];
  return each$4(n, function(a) {
    var u = r.getDimensionInfo(a);
    u.displayName && o.push(u.displayName);
  }), o.join(" ");
}
function dataTaskCount(i) {
  return i.model.getRawData().count();
}
function dataTaskReset(i) {
  var r = i.model;
  return r.setData(r.getRawData().cloneShallow()), dataTaskProgress;
}
function dataTaskProgress(i, r) {
  r.outputData && i.end > r.outputData.count() && r.model.getRawData().cloneShallow(r.outputData);
}
function wrapData(i, r) {
  each$4(concatArray(i.CHANGABLE_METHODS, i.DOWNSAMPLE_METHODS), function(n) {
    i.wrapMethod(n, curry$1(onDataChange, r));
  });
}
function onDataChange(i, r) {
  var n = getCurrentTask(i);
  return n && n.setOutputEnd((r || this).count()), r;
}
function getCurrentTask(i) {
  var r = (i.ecModel || {}).scheduler, n = r && r.getPipeline(i.uid);
  if (n) {
    var o = n.currentTask;
    if (o) {
      var a = o.agentStubMap;
      a && (o = a.get(i.uid));
    }
    return o;
  }
}
const SeriesModel$1 = SeriesModel;
var ComponentView = (
  /** @class */
  function() {
    function i() {
      this.group = new Group$3(), this.uid = getUID("viewComponent");
    }
    return i.prototype.init = function(r, n) {
    }, i.prototype.render = function(r, n, o, a) {
    }, i.prototype.dispose = function(r, n) {
    }, i.prototype.updateView = function(r, n, o, a) {
    }, i.prototype.updateLayout = function(r, n, o, a) {
    }, i.prototype.updateVisual = function(r, n, o, a) {
    }, i.prototype.toggleBlurSeries = function(r, n, o) {
    }, i.prototype.eachRendered = function(r) {
      var n = this.group;
      n && n.traverse(r);
    }, i;
  }()
);
enableClassExtend(ComponentView);
enableClassManagement(ComponentView);
const ComponentView$1 = ComponentView;
function createRenderPlanner() {
  var i = makeInner();
  return function(r) {
    var n = i(r), o = r.pipelineContext, a = !!n.large, u = !!n.progressiveRender, c = n.large = !!(o && o.large), d = n.progressiveRender = !!(o && o.progressiveRender);
    return (a !== c || u !== d) && "reset";
  };
}
var inner$5 = makeInner(), renderPlanner = createRenderPlanner(), ChartView = (
  /** @class */
  function() {
    function i() {
      this.group = new Group$3(), this.uid = getUID("viewChart"), this.renderTask = createTask({
        plan: renderTaskPlan,
        reset: renderTaskReset
      }), this.renderTask.context = {
        view: this
      };
    }
    return i.prototype.init = function(r, n) {
    }, i.prototype.render = function(r, n, o, a) {
      if (process.env.NODE_ENV !== "production")
        throw new Error("render method must been implemented");
    }, i.prototype.highlight = function(r, n, o, a) {
      var u = r.getData(a && a.dataType);
      if (!u) {
        process.env.NODE_ENV !== "production" && error("Unknown dataType " + a.dataType);
        return;
      }
      toggleHighlight(u, a, "emphasis");
    }, i.prototype.downplay = function(r, n, o, a) {
      var u = r.getData(a && a.dataType);
      if (!u) {
        process.env.NODE_ENV !== "production" && error("Unknown dataType " + a.dataType);
        return;
      }
      toggleHighlight(u, a, "normal");
    }, i.prototype.remove = function(r, n) {
      this.group.removeAll();
    }, i.prototype.dispose = function(r, n) {
    }, i.prototype.updateView = function(r, n, o, a) {
      this.render(r, n, o, a);
    }, i.prototype.updateLayout = function(r, n, o, a) {
      this.render(r, n, o, a);
    }, i.prototype.updateVisual = function(r, n, o, a) {
      this.render(r, n, o, a);
    }, i.prototype.eachRendered = function(r) {
      traverseElements(this.group, r);
    }, i.markUpdateMethod = function(r, n) {
      inner$5(r).updateMethod = n;
    }, i.protoInitialize = function() {
      var r = i.prototype;
      r.type = "chart";
    }(), i;
  }()
);
function elSetState(i, r, n) {
  i && isHighDownDispatcher(i) && (r === "emphasis" ? enterEmphasis : leaveEmphasis)(i, n);
}
function toggleHighlight(i, r, n) {
  var o = queryDataIndex(i, r), a = r && r.highlightKey != null ? getHighlightDigit(r.highlightKey) : null;
  o != null ? each$4(normalizeToArray(o), function(u) {
    elSetState(i.getItemGraphicEl(u), n, a);
  }) : i.eachItemGraphicEl(function(u) {
    elSetState(u, n, a);
  });
}
enableClassExtend(ChartView, ["dispose"]);
enableClassManagement(ChartView);
function renderTaskPlan(i) {
  return renderPlanner(i.model);
}
function renderTaskReset(i) {
  var r = i.model, n = i.ecModel, o = i.api, a = i.payload, u = r.pipelineContext.progressiveRender, c = i.view, d = a && inner$5(a).updateMethod, f = u ? "incrementalPrepareRender" : d && c[d] ? d : "render";
  return f !== "render" && c[f](r, n, o, a), progressMethodMap[f];
}
var progressMethodMap = {
  incrementalPrepareRender: {
    progress: function(i, r) {
      r.view.incrementalRender(i, r.model, r.ecModel, r.api, r.payload);
    }
  },
  render: {
    // Put view.render in `progress` to support appendData. But in this case
    // view.render should not be called in reset, otherwise it will be called
    // twise. Use `forceFirstProgress` to make sure that view.render is called
    // in any cases.
    forceFirstProgress: !0,
    progress: function(i, r) {
      r.view.render(r.model, r.ecModel, r.api, r.payload);
    }
  }
};
const ChartView$1 = ChartView;
var ORIGIN_METHOD = "\0__throttleOriginMethod", RATE = "\0__throttleRate", THROTTLE_TYPE = "\0__throttleType";
function throttle$1(i, r, n) {
  var o, a = 0, u = 0, c = null, d, f, p, _;
  r = r || 0;
  function v() {
    u = (/* @__PURE__ */ new Date()).getTime(), c = null, i.apply(f, p || []);
  }
  var g = function() {
    for (var y = [], b = 0; b < arguments.length; b++)
      y[b] = arguments[b];
    o = (/* @__PURE__ */ new Date()).getTime(), f = this, p = y;
    var A = _ || r, w = _ || n;
    _ = null, d = o - (w ? a : u) - A, clearTimeout(c), w ? c = setTimeout(v, A) : d >= 0 ? v() : c = setTimeout(v, -d), a = o;
  };
  return g.clear = function() {
    c && (clearTimeout(c), c = null);
  }, g.debounceNextCall = function(y) {
    _ = y;
  }, g;
}
function createOrUpdate(i, r, n, o) {
  var a = i[r];
  if (a) {
    var u = a[ORIGIN_METHOD] || a, c = a[THROTTLE_TYPE], d = a[RATE];
    if (d !== n || c !== o) {
      if (n == null || !o)
        return i[r] = u;
      a = i[r] = throttle$1(u, n, o === "debounce"), a[ORIGIN_METHOD] = u, a[THROTTLE_TYPE] = o, a[RATE] = n;
    }
    return a;
  }
}
function clear(i, r) {
  var n = i[r];
  n && n[ORIGIN_METHOD] && (n.clear && n.clear(), i[r] = n[ORIGIN_METHOD]);
}
var inner$4 = makeInner(), defaultStyleMappers = {
  itemStyle: makeStyleMapper(ITEM_STYLE_KEY_MAP, !0),
  lineStyle: makeStyleMapper(LINE_STYLE_KEY_MAP, !0)
}, defaultColorKey = {
  lineStyle: "stroke",
  itemStyle: "fill"
};
function getStyleMapper(i, r) {
  var n = i.visualStyleMapper || defaultStyleMappers[r];
  return n || (console.warn("Unknown style type '" + r + "'."), defaultStyleMappers.itemStyle);
}
function getDefaultColorKey(i, r) {
  var n = i.visualDrawType || defaultColorKey[r];
  return n || (console.warn("Unknown style type '" + r + "'."), "fill");
}
var seriesStyleTask = {
  createOnAllSeries: !0,
  performRawSeries: !0,
  reset: function(i, r) {
    var n = i.getData(), o = i.visualStyleAccessPath || "itemStyle", a = i.getModel(o), u = getStyleMapper(i, o), c = u(a), d = a.getShallow("decal");
    d && (n.setVisual("decal", d), d.dirty = !0);
    var f = getDefaultColorKey(i, o), p = c[f], _ = isFunction$1(p) ? p : null, v = c.fill === "auto" || c.stroke === "auto";
    if (!c[f] || _ || v) {
      var g = i.getColorFromPalette(
        // TODO series count changed.
        i.name,
        null,
        r.getSeriesCount()
      );
      c[f] || (c[f] = g, n.setVisual("colorFromPalette", !0)), c.fill = c.fill === "auto" || isFunction$1(c.fill) ? g : c.fill, c.stroke = c.stroke === "auto" || isFunction$1(c.stroke) ? g : c.stroke;
    }
    if (n.setVisual("style", c), n.setVisual("drawType", f), !r.isSeriesFiltered(i) && _)
      return n.setVisual("colorFromPalette", !1), {
        dataEach: function(y, b) {
          var A = i.getDataParams(b), w = extend({}, c);
          w[f] = _(A), y.setItemVisual(b, "style", w);
        }
      };
  }
}, sharedModel = new Model$1(), dataStyleTask = {
  createOnAllSeries: !0,
  performRawSeries: !0,
  reset: function(i, r) {
    if (!(i.ignoreStyleOnData || r.isSeriesFiltered(i))) {
      var n = i.getData(), o = i.visualStyleAccessPath || "itemStyle", a = getStyleMapper(i, o), u = n.getVisual("drawType");
      return {
        dataEach: n.hasItemOption ? function(c, d) {
          var f = c.getRawDataItem(d);
          if (f && f[o]) {
            sharedModel.option = f[o];
            var p = a(sharedModel), _ = c.ensureUniqueItemVisual(d, "style");
            extend(_, p), sharedModel.option.decal && (c.setItemVisual(d, "decal", sharedModel.option.decal), sharedModel.option.decal.dirty = !0), u in p && c.setItemVisual(d, "colorFromPalette", !1);
          }
        } : null
      };
    }
  }
}, dataColorPaletteTask = {
  performRawSeries: !0,
  overallReset: function(i) {
    var r = createHashMap();
    i.eachSeries(function(n) {
      var o = n.getColorBy();
      if (!n.isColorBySeries()) {
        var a = n.type + "-" + o, u = r.get(a);
        u || (u = {}, r.set(a, u)), inner$4(n).scope = u;
      }
    }), i.eachSeries(function(n) {
      if (!(n.isColorBySeries() || i.isSeriesFiltered(n))) {
        var o = n.getRawData(), a = {}, u = n.getData(), c = inner$4(n).scope, d = n.visualStyleAccessPath || "itemStyle", f = getDefaultColorKey(n, d);
        u.each(function(p) {
          var _ = u.getRawIndex(p);
          a[_] = p;
        }), o.each(function(p) {
          var _ = a[p], v = u.getItemVisual(_, "colorFromPalette");
          if (v) {
            var g = u.ensureUniqueItemVisual(_, "style"), y = o.getName(p) || p + "", b = o.count();
            g[f] = n.getColorFromPalette(y, c, b);
          }
        });
      }
    });
  }
}, PI$2 = Math.PI;
function defaultLoading(i, r) {
  r = r || {}, defaults(r, {
    text: "loading",
    textColor: "#000",
    fontSize: 12,
    fontWeight: "normal",
    fontStyle: "normal",
    fontFamily: "sans-serif",
    maskColor: "rgba(255, 255, 255, 0.8)",
    showSpinner: !0,
    color: "#5470c6",
    spinnerRadius: 10,
    lineWidth: 5,
    zlevel: 0
  });
  var n = new Group$3(), o = new Rect$1({
    style: {
      fill: r.maskColor
    },
    zlevel: r.zlevel,
    z: 1e4
  });
  n.add(o);
  var a = new ZRText$1({
    style: {
      text: r.text,
      fill: r.textColor,
      fontSize: r.fontSize,
      fontWeight: r.fontWeight,
      fontStyle: r.fontStyle,
      fontFamily: r.fontFamily
    },
    zlevel: r.zlevel,
    z: 10001
  }), u = new Rect$1({
    style: {
      fill: "none"
    },
    textContent: a,
    textConfig: {
      position: "right",
      distance: 10
    },
    zlevel: r.zlevel,
    z: 10001
  });
  n.add(u);
  var c;
  return r.showSpinner && (c = new Arc$1({
    shape: {
      startAngle: -PI$2 / 2,
      endAngle: -PI$2 / 2 + 0.1,
      r: r.spinnerRadius
    },
    style: {
      stroke: r.color,
      lineCap: "round",
      lineWidth: r.lineWidth
    },
    zlevel: r.zlevel,
    z: 10001
  }), c.animateShape(!0).when(1e3, {
    endAngle: PI$2 * 3 / 2
  }).start("circularInOut"), c.animateShape(!0).when(1e3, {
    startAngle: PI$2 * 3 / 2
  }).delay(300).start("circularInOut"), n.add(c)), n.resize = function() {
    var d = a.getBoundingRect().width, f = r.showSpinner ? r.spinnerRadius : 0, p = (i.getWidth() - f * 2 - (r.showSpinner && d ? 10 : 0) - d) / 2 - (r.showSpinner && d ? 0 : 5 + d / 2) + (r.showSpinner ? 0 : d / 2) + (d ? 0 : f), _ = i.getHeight() / 2;
    r.showSpinner && c.setShape({
      cx: p,
      cy: _
    }), u.setShape({
      x: p - f,
      y: _ - f,
      width: f * 2,
      height: f * 2
    }), o.setShape({
      x: 0,
      y: 0,
      width: i.getWidth(),
      height: i.getHeight()
    });
  }, n.resize(), n;
}
var Scheduler = (
  /** @class */
  function() {
    function i(r, n, o, a) {
      this._stageTaskMap = createHashMap(), this.ecInstance = r, this.api = n, o = this._dataProcessorHandlers = o.slice(), a = this._visualHandlers = a.slice(), this._allHandlers = o.concat(a);
    }
    return i.prototype.restoreData = function(r, n) {
      r.restoreData(n), this._stageTaskMap.each(function(o) {
        var a = o.overallTask;
        a && a.dirty();
      });
    }, i.prototype.getPerformArgs = function(r, n) {
      if (r.__pipeline) {
        var o = this._pipelineMap.get(r.__pipeline.id), a = o.context, u = !n && o.progressiveEnabled && (!a || a.progressiveRender) && r.__idxInPipeline > o.blockIndex, c = u ? o.step : null, d = a && a.modDataCount, f = d != null ? Math.ceil(d / c) : null;
        return {
          step: c,
          modBy: f,
          modDataCount: d
        };
      }
    }, i.prototype.getPipeline = function(r) {
      return this._pipelineMap.get(r);
    }, i.prototype.updateStreamModes = function(r, n) {
      var o = this._pipelineMap.get(r.uid), a = r.getData(), u = a.count(), c = o.progressiveEnabled && n.incrementalPrepareRender && u >= o.threshold, d = r.get("large") && u >= r.get("largeThreshold"), f = r.get("progressiveChunkMode") === "mod" ? u : null;
      r.pipelineContext = o.context = {
        progressiveRender: c,
        modDataCount: f,
        large: d
      };
    }, i.prototype.restorePipelines = function(r) {
      var n = this, o = n._pipelineMap = createHashMap();
      r.eachSeries(function(a) {
        var u = a.getProgressive(), c = a.uid;
        o.set(c, {
          id: c,
          head: null,
          tail: null,
          threshold: a.getProgressiveThreshold(),
          progressiveEnabled: u && !(a.preventIncremental && a.preventIncremental()),
          blockIndex: -1,
          step: Math.round(u || 700),
          count: 0
        }), n._pipe(a, a.dataTask);
      });
    }, i.prototype.prepareStageTasks = function() {
      var r = this._stageTaskMap, n = this.api.getModel(), o = this.api;
      each$4(this._allHandlers, function(a) {
        var u = r.get(a.uid) || r.set(a.uid, {}), c = "";
        process.env.NODE_ENV !== "production" && (c = '"reset" and "overallReset" must not be both specified.'), assert(!(a.reset && a.overallReset), c), a.reset && this._createSeriesStageTask(a, u, n, o), a.overallReset && this._createOverallStageTask(a, u, n, o);
      }, this);
    }, i.prototype.prepareView = function(r, n, o, a) {
      var u = r.renderTask, c = u.context;
      c.model = n, c.ecModel = o, c.api = a, u.__block = !r.incrementalPrepareRender, this._pipe(n, u);
    }, i.prototype.performDataProcessorTasks = function(r, n) {
      this._performStageTasks(this._dataProcessorHandlers, r, n, {
        block: !0
      });
    }, i.prototype.performVisualTasks = function(r, n, o) {
      this._performStageTasks(this._visualHandlers, r, n, o);
    }, i.prototype._performStageTasks = function(r, n, o, a) {
      a = a || {};
      var u = !1, c = this;
      each$4(r, function(f, p) {
        if (!(a.visualType && a.visualType !== f.visualType)) {
          var _ = c._stageTaskMap.get(f.uid), v = _.seriesTaskMap, g = _.overallTask;
          if (g) {
            var y, b = g.agentStubMap;
            b.each(function(w) {
              d(a, w) && (w.dirty(), y = !0);
            }), y && g.dirty(), c.updatePayload(g, o);
            var A = c.getPerformArgs(g, a.block);
            b.each(function(w) {
              w.perform(A);
            }), g.perform(A) && (u = !0);
          } else
            v && v.each(function(w, S) {
              d(a, w) && w.dirty();
              var T = c.getPerformArgs(w, a.block);
              T.skip = !f.performRawSeries && n.isSeriesFiltered(w.context.model), c.updatePayload(w, o), w.perform(T) && (u = !0);
            });
        }
      });
      function d(f, p) {
        return f.setDirty && (!f.dirtyMap || f.dirtyMap.get(p.__pipeline.id));
      }
      this.unfinished = u || this.unfinished;
    }, i.prototype.performSeriesTasks = function(r) {
      var n;
      r.eachSeries(function(o) {
        n = o.dataTask.perform() || n;
      }), this.unfinished = n || this.unfinished;
    }, i.prototype.plan = function() {
      this._pipelineMap.each(function(r) {
        var n = r.tail;
        do {
          if (n.__block) {
            r.blockIndex = n.__idxInPipeline;
            break;
          }
          n = n.getUpstream();
        } while (n);
      });
    }, i.prototype.updatePayload = function(r, n) {
      n !== "remain" && (r.context.payload = n);
    }, i.prototype._createSeriesStageTask = function(r, n, o, a) {
      var u = this, c = n.seriesTaskMap, d = n.seriesTaskMap = createHashMap(), f = r.seriesType, p = r.getTargetSeries;
      r.createOnAllSeries ? o.eachRawSeries(_) : f ? o.eachRawSeriesByType(f, _) : p && p(o, a).each(_);
      function _(v) {
        var g = v.uid, y = d.set(g, c && c.get(g) || createTask({
          plan: seriesTaskPlan,
          reset: seriesTaskReset,
          count: seriesTaskCount
        }));
        y.context = {
          model: v,
          ecModel: o,
          api: a,
          // PENDING: `useClearVisual` not used?
          useClearVisual: r.isVisual && !r.isLayout,
          plan: r.plan,
          reset: r.reset,
          scheduler: u
        }, u._pipe(v, y);
      }
    }, i.prototype._createOverallStageTask = function(r, n, o, a) {
      var u = this, c = n.overallTask = n.overallTask || createTask({
        reset: overallTaskReset
      });
      c.context = {
        ecModel: o,
        api: a,
        overallReset: r.overallReset,
        scheduler: u
      };
      var d = c.agentStubMap, f = c.agentStubMap = createHashMap(), p = r.seriesType, _ = r.getTargetSeries, v = !0, g = !1, y = "";
      process.env.NODE_ENV !== "production" && (y = '"createOnAllSeries" is not supported for "overallReset", because it will block all streams.'), assert(!r.createOnAllSeries, y), p ? o.eachRawSeriesByType(p, b) : _ ? _(o, a).each(b) : (v = !1, each$4(o.getSeries(), b));
      function b(A) {
        var w = A.uid, S = f.set(w, d && d.get(w) || // When the result of `getTargetSeries` changed, the overallTask
        // should be set as dirty and re-performed.
        (g = !0, createTask({
          reset: stubReset,
          onDirty: stubOnDirty
        })));
        S.context = {
          model: A,
          overallProgress: v
          // FIXME:TS never used, so comment it
          // modifyOutputEnd: modifyOutputEnd
        }, S.agent = c, S.__block = v, u._pipe(A, S);
      }
      g && c.dirty();
    }, i.prototype._pipe = function(r, n) {
      var o = r.uid, a = this._pipelineMap.get(o);
      !a.head && (a.head = n), a.tail && a.tail.pipe(n), a.tail = n, n.__idxInPipeline = a.count++, n.__pipeline = a;
    }, i.wrapStageHandler = function(r, n) {
      return isFunction$1(r) && (r = {
        overallReset: r,
        seriesType: detectSeriseType(r)
      }), r.uid = getUID("stageHandler"), n && (r.visualType = n), r;
    }, i;
  }()
);
function overallTaskReset(i) {
  i.overallReset(i.ecModel, i.api, i.payload);
}
function stubReset(i) {
  return i.overallProgress && stubProgress;
}
function stubProgress() {
  this.agent.dirty(), this.getDownstream().dirty();
}
function stubOnDirty() {
  this.agent && this.agent.dirty();
}
function seriesTaskPlan(i) {
  return i.plan ? i.plan(i.model, i.ecModel, i.api, i.payload) : null;
}
function seriesTaskReset(i) {
  i.useClearVisual && i.data.clearAllVisual();
  var r = i.resetDefines = normalizeToArray(i.reset(i.model, i.ecModel, i.api, i.payload));
  return r.length > 1 ? map$1(r, function(n, o) {
    return makeSeriesTaskProgress(o);
  }) : singleSeriesTaskProgress;
}
var singleSeriesTaskProgress = makeSeriesTaskProgress(0);
function makeSeriesTaskProgress(i) {
  return function(r, n) {
    var o = n.data, a = n.resetDefines[i];
    if (a && a.dataEach)
      for (var u = r.start; u < r.end; u++)
        a.dataEach(o, u);
    else
      a && a.progress && a.progress(r, o);
  };
}
function seriesTaskCount(i) {
  return i.data.count();
}
function detectSeriseType(i) {
  seriesType = null;
  try {
    i(ecModelMock, apiMock);
  } catch {
  }
  return seriesType;
}
var ecModelMock = {}, apiMock = {}, seriesType;
mockMethods(ecModelMock, GlobalModel$1);
mockMethods(apiMock, ExtensionAPI$1);
ecModelMock.eachSeriesByType = ecModelMock.eachRawSeriesByType = function(i) {
  seriesType = i;
};
ecModelMock.eachComponent = function(i) {
  i.mainType === "series" && i.subType && (seriesType = i.subType);
};
function mockMethods(i, r) {
  for (var n in r.prototype)
    i[n] = noop$1;
}
const Scheduler$1 = Scheduler;
var colorAll = ["#37A2DA", "#32C5E9", "#67E0E3", "#9FE6B8", "#FFDB5C", "#ff9f7f", "#fb7293", "#E062AE", "#E690D1", "#e7bcf3", "#9d96f5", "#8378EA", "#96BFFF"];
const lightTheme = {
  color: colorAll,
  colorLayer: [["#37A2DA", "#ffd85c", "#fd7b5f"], ["#37A2DA", "#67E0E3", "#FFDB5C", "#ff9f7f", "#E062AE", "#9d96f5"], ["#37A2DA", "#32C5E9", "#9FE6B8", "#FFDB5C", "#ff9f7f", "#fb7293", "#e7bcf3", "#8378EA", "#96BFFF"], colorAll]
};
var contrastColor = "#B9B8CE", backgroundColor = "#100C2A", axisCommon = function() {
  return {
    axisLine: {
      lineStyle: {
        color: contrastColor
      }
    },
    splitLine: {
      lineStyle: {
        color: "#484753"
      }
    },
    splitArea: {
      areaStyle: {
        color: ["rgba(255,255,255,0.02)", "rgba(255,255,255,0.05)"]
      }
    },
    minorSplitLine: {
      lineStyle: {
        color: "#20203B"
      }
    }
  };
}, colorPalette = ["#4992ff", "#7cffb2", "#fddd60", "#ff6e76", "#58d9f9", "#05c091", "#ff8a45", "#8d48e3", "#dd79ff"], theme = {
  darkMode: !0,
  color: colorPalette,
  backgroundColor,
  axisPointer: {
    lineStyle: {
      color: "#817f91"
    },
    crossStyle: {
      color: "#817f91"
    },
    label: {
      // TODO Contrast of label backgorundColor
      color: "#fff"
    }
  },
  legend: {
    textStyle: {
      color: contrastColor
    }
  },
  textStyle: {
    color: contrastColor
  },
  title: {
    textStyle: {
      color: "#EEF1FA"
    },
    subtextStyle: {
      color: "#B9B8CE"
    }
  },
  toolbox: {
    iconStyle: {
      borderColor: contrastColor
    }
  },
  dataZoom: {
    borderColor: "#71708A",
    textStyle: {
      color: contrastColor
    },
    brushStyle: {
      color: "rgba(135,163,206,0.3)"
    },
    handleStyle: {
      color: "#353450",
      borderColor: "#C5CBE3"
    },
    moveHandleStyle: {
      color: "#B0B6C3",
      opacity: 0.3
    },
    fillerColor: "rgba(135,163,206,0.2)",
    emphasis: {
      handleStyle: {
        borderColor: "#91B7F2",
        color: "#4D587D"
      },
      moveHandleStyle: {
        color: "#636D9A",
        opacity: 0.7
      }
    },
    dataBackground: {
      lineStyle: {
        color: "#71708A",
        width: 1
      },
      areaStyle: {
        color: "#71708A"
      }
    },
    selectedDataBackground: {
      lineStyle: {
        color: "#87A3CE"
      },
      areaStyle: {
        color: "#87A3CE"
      }
    }
  },
  visualMap: {
    textStyle: {
      color: contrastColor
    }
  },
  timeline: {
    lineStyle: {
      color: contrastColor
    },
    label: {
      color: contrastColor
    },
    controlStyle: {
      color: contrastColor,
      borderColor: contrastColor
    }
  },
  calendar: {
    itemStyle: {
      color: backgroundColor
    },
    dayLabel: {
      color: contrastColor
    },
    monthLabel: {
      color: contrastColor
    },
    yearLabel: {
      color: contrastColor
    }
  },
  timeAxis: axisCommon(),
  logAxis: axisCommon(),
  valueAxis: axisCommon(),
  categoryAxis: axisCommon(),
  line: {
    symbol: "circle"
  },
  graph: {
    color: colorPalette
  },
  gauge: {
    title: {
      color: contrastColor
    },
    axisLine: {
      lineStyle: {
        color: [[1, "rgba(207,212,219,0.2)"]]
      }
    },
    axisLabel: {
      color: contrastColor
    },
    detail: {
      color: "#EEF1FA"
    }
  },
  candlestick: {
    itemStyle: {
      color: "#f64e56",
      color0: "#54ea92",
      borderColor: "#f64e56",
      borderColor0: "#54ea92"
      // borderColor: '#ca2824',
      // borderColor0: '#09a443'
    }
  }
};
theme.categoryAxis.splitLine.show = !1;
const darkTheme = theme;
var ECEventProcessor = (
  /** @class */
  function() {
    function i() {
    }
    return i.prototype.normalizeQuery = function(r) {
      var n = {}, o = {}, a = {};
      if (isString$2(r)) {
        var u = parseClassType(r);
        n.mainType = u.main || null, n.subType = u.sub || null;
      } else {
        var c = ["Index", "Name", "Id"], d = {
          name: 1,
          dataIndex: 1,
          dataType: 1
        };
        each$4(r, function(f, p) {
          for (var _ = !1, v = 0; v < c.length; v++) {
            var g = c[v], y = p.lastIndexOf(g);
            if (y > 0 && y === p.length - g.length) {
              var b = p.slice(0, y);
              b !== "data" && (n.mainType = b, n[g.toLowerCase()] = f, _ = !0);
            }
          }
          d.hasOwnProperty(p) && (o[p] = f, _ = !0), _ || (a[p] = f);
        });
      }
      return {
        cptQuery: n,
        dataQuery: o,
        otherQuery: a
      };
    }, i.prototype.filter = function(r, n) {
      var o = this.eventInfo;
      if (!o)
        return !0;
      var a = o.targetEl, u = o.packedEvent, c = o.model, d = o.view;
      if (!c || !d)
        return !0;
      var f = n.cptQuery, p = n.dataQuery;
      return _(f, c, "mainType") && _(f, c, "subType") && _(f, c, "index", "componentIndex") && _(f, c, "name") && _(f, c, "id") && _(p, u, "name") && _(p, u, "dataIndex") && _(p, u, "dataType") && (!d.filterForExposedEvent || d.filterForExposedEvent(r, n.otherQuery, a, u));
      function _(v, g, y, b) {
        return v[y] == null || g[b || y] === v[y];
      }
    }, i.prototype.afterTrigger = function() {
      this.eventInfo = null;
    }, i;
  }()
), SYMBOL_PROPS_WITH_CB = ["symbol", "symbolSize", "symbolRotate", "symbolOffset"], SYMBOL_PROPS = SYMBOL_PROPS_WITH_CB.concat(["symbolKeepAspect"]), seriesSymbolTask = {
  createOnAllSeries: !0,
  // For legend.
  performRawSeries: !0,
  reset: function(i, r) {
    var n = i.getData();
    if (i.legendIcon && n.setVisual("legendIcon", i.legendIcon), !i.hasSymbolVisual)
      return;
    for (var o = {}, a = {}, u = !1, c = 0; c < SYMBOL_PROPS_WITH_CB.length; c++) {
      var d = SYMBOL_PROPS_WITH_CB[c], f = i.get(d);
      isFunction$1(f) ? (u = !0, a[d] = f) : o[d] = f;
    }
    if (o.symbol = o.symbol || i.defaultSymbol, n.setVisual(extend({
      legendIcon: i.legendIcon || o.symbol,
      symbolKeepAspect: i.get("symbolKeepAspect")
    }, o)), r.isSeriesFiltered(i))
      return;
    var p = keys(a);
    function _(v, g) {
      for (var y = i.getRawValue(g), b = i.getDataParams(g), A = 0; A < p.length; A++) {
        var w = p[A];
        v.setItemVisual(g, w, a[w](y, b));
      }
    }
    return {
      dataEach: u ? _ : null
    };
  }
}, dataSymbolTask = {
  createOnAllSeries: !0,
  // For legend.
  performRawSeries: !0,
  reset: function(i, r) {
    if (!i.hasSymbolVisual || r.isSeriesFiltered(i))
      return;
    var n = i.getData();
    function o(a, u) {
      for (var c = a.getItemModel(u), d = 0; d < SYMBOL_PROPS.length; d++) {
        var f = SYMBOL_PROPS[d], p = c.getShallow(f, !0);
        p != null && a.setItemVisual(u, f, p);
      }
    }
    return {
      dataEach: n.hasItemOption ? o : null
    };
  }
};
function getItemVisualFromData(i, r, n) {
  switch (n) {
    case "color":
      var o = i.getItemVisual(r, "style");
      return o[i.getVisual("drawType")];
    case "opacity":
      return i.getItemVisual(r, "style").opacity;
    case "symbol":
    case "symbolSize":
    case "liftZ":
      return i.getItemVisual(r, n);
    default:
      process.env.NODE_ENV !== "production" && console.warn("Unknown visual type " + n);
  }
}
function getVisualFromData(i, r) {
  switch (r) {
    case "color":
      var n = i.getVisual("style");
      return n[i.getVisual("drawType")];
    case "opacity":
      return i.getVisual("style").opacity;
    case "symbol":
    case "symbolSize":
    case "liftZ":
      return i.getVisual(r);
    default:
      process.env.NODE_ENV !== "production" && console.warn("Unknown visual type " + r);
  }
}
function createLegacyDataSelectAction(i, r) {
  function n(o, a) {
    var u = [];
    return o.eachComponent({
      mainType: "series",
      subType: i,
      query: a
    }, function(c) {
      u.push(c.seriesIndex);
    }), u;
  }
  each$4([[i + "ToggleSelect", "toggleSelect"], [i + "Select", "select"], [i + "UnSelect", "unselect"]], function(o) {
    r(o[0], function(a, u, c) {
      a = extend({}, a), process.env.NODE_ENV !== "production" && deprecateReplaceLog(a.type, o[1]), c.dispatchAction(extend(a, {
        type: o[1],
        seriesIndex: n(u, a)
      }));
    });
  });
}
function handleSeriesLegacySelectEvents(i, r, n, o, a) {
  var u = i + r;
  n.isSilent(u) || (process.env.NODE_ENV !== "production" && deprecateLog("event " + u + " is deprecated."), o.eachComponent({
    mainType: "series",
    subType: "pie"
  }, function(c) {
    for (var d = c.seriesIndex, f = c.option.selectedMap, p = a.selected, _ = 0; _ < p.length; _++)
      if (p[_].seriesIndex === d) {
        var v = c.getData(), g = queryDataIndex(v, a.fromActionPayload);
        n.trigger(u, {
          type: u,
          seriesId: c.id,
          name: isArray$1(g) ? v.getName(g[0]) : v.getName(g),
          selected: isString$2(f) ? f : extend({}, f)
        });
      }
  }));
}
function handleLegacySelectEvents(i, r, n) {
  i.on("selectchanged", function(o) {
    var a = n.getModel();
    o.isFromClick ? (handleSeriesLegacySelectEvents("map", "selectchanged", r, a, o), handleSeriesLegacySelectEvents("pie", "selectchanged", r, a, o)) : o.fromAction === "select" ? (handleSeriesLegacySelectEvents("map", "selected", r, a, o), handleSeriesLegacySelectEvents("pie", "selected", r, a, o)) : o.fromAction === "unselect" && (handleSeriesLegacySelectEvents("map", "unselected", r, a, o), handleSeriesLegacySelectEvents("pie", "unselected", r, a, o));
  });
}
function findEventDispatcher(i, r, n) {
  for (var o; i && !(r(i) && (o = i, n)); )
    i = i.__hostTarget || i.parent;
  return o;
}
var wmUniqueIndex = Math.round(Math.random() * 9), supportDefineProperty = typeof Object.defineProperty == "function", WeakMap$1 = function() {
  function i() {
    this._id = "__ec_inner_" + wmUniqueIndex++;
  }
  return i.prototype.get = function(r) {
    return this._guard(r)[this._id];
  }, i.prototype.set = function(r, n) {
    var o = this._guard(r);
    return supportDefineProperty ? Object.defineProperty(o, this._id, {
      value: n,
      enumerable: !1,
      configurable: !0
    }) : o[this._id] = n, this;
  }, i.prototype.delete = function(r) {
    return this.has(r) ? (delete this._guard(r)[this._id], !0) : !1;
  }, i.prototype.has = function(r) {
    return !!this._guard(r)[this._id];
  }, i.prototype._guard = function(r) {
    if (r !== Object(r))
      throw TypeError("Value of WeakMap is not a non-null object.");
    return r;
  }, i;
}();
const WeakMap$2 = WeakMap$1;
var Triangle = Path$1.extend({
  type: "triangle",
  shape: {
    cx: 0,
    cy: 0,
    width: 0,
    height: 0
  },
  buildPath: function(i, r) {
    var n = r.cx, o = r.cy, a = r.width / 2, u = r.height / 2;
    i.moveTo(n, o - u), i.lineTo(n + a, o + u), i.lineTo(n - a, o + u), i.closePath();
  }
}), Diamond = Path$1.extend({
  type: "diamond",
  shape: {
    cx: 0,
    cy: 0,
    width: 0,
    height: 0
  },
  buildPath: function(i, r) {
    var n = r.cx, o = r.cy, a = r.width / 2, u = r.height / 2;
    i.moveTo(n, o - u), i.lineTo(n + a, o), i.lineTo(n, o + u), i.lineTo(n - a, o), i.closePath();
  }
}), Pin = Path$1.extend({
  type: "pin",
  shape: {
    // x, y on the cusp
    x: 0,
    y: 0,
    width: 0,
    height: 0
  },
  buildPath: function(i, r) {
    var n = r.x, o = r.y, a = r.width / 5 * 3, u = Math.max(a, r.height), c = a / 2, d = c * c / (u - c), f = o - u + c + d, p = Math.asin(d / c), _ = Math.cos(p) * c, v = Math.sin(p), g = Math.cos(p), y = c * 0.6, b = c * 0.7;
    i.moveTo(n - _, f + d), i.arc(n, f, c, Math.PI - p, Math.PI * 2 + p), i.bezierCurveTo(n + _ - v * y, f + d + g * y, n, o - b, n, o), i.bezierCurveTo(n, o - b, n - _ + v * y, f + d + g * y, n - _, f + d), i.closePath();
  }
}), Arrow = Path$1.extend({
  type: "arrow",
  shape: {
    x: 0,
    y: 0,
    width: 0,
    height: 0
  },
  buildPath: function(i, r) {
    var n = r.height, o = r.width, a = r.x, u = r.y, c = o / 3 * 2;
    i.moveTo(a, u), i.lineTo(a + c, u + n), i.lineTo(a, u + n / 4 * 3), i.lineTo(a - c, u + n), i.lineTo(a, u), i.closePath();
  }
}), symbolCtors = {
  line: Line$1,
  rect: Rect$1,
  roundRect: Rect$1,
  square: Rect$1,
  circle: Circle$1,
  diamond: Diamond,
  pin: Pin,
  arrow: Arrow,
  triangle: Triangle
}, symbolShapeMakers = {
  line: function(i, r, n, o, a) {
    a.x1 = i, a.y1 = r + o / 2, a.x2 = i + n, a.y2 = r + o / 2;
  },
  rect: function(i, r, n, o, a) {
    a.x = i, a.y = r, a.width = n, a.height = o;
  },
  roundRect: function(i, r, n, o, a) {
    a.x = i, a.y = r, a.width = n, a.height = o, a.r = Math.min(n, o) / 4;
  },
  square: function(i, r, n, o, a) {
    var u = Math.min(n, o);
    a.x = i, a.y = r, a.width = u, a.height = u;
  },
  circle: function(i, r, n, o, a) {
    a.cx = i + n / 2, a.cy = r + o / 2, a.r = Math.min(n, o) / 2;
  },
  diamond: function(i, r, n, o, a) {
    a.cx = i + n / 2, a.cy = r + o / 2, a.width = n, a.height = o;
  },
  pin: function(i, r, n, o, a) {
    a.x = i + n / 2, a.y = r + o / 2, a.width = n, a.height = o;
  },
  arrow: function(i, r, n, o, a) {
    a.x = i + n / 2, a.y = r + o / 2, a.width = n, a.height = o;
  },
  triangle: function(i, r, n, o, a) {
    a.cx = i + n / 2, a.cy = r + o / 2, a.width = n, a.height = o;
  }
}, symbolBuildProxies = {};
each$4(symbolCtors, function(i, r) {
  symbolBuildProxies[r] = new i();
});
var SymbolClz = Path$1.extend({
  type: "symbol",
  shape: {
    symbolType: "",
    x: 0,
    y: 0,
    width: 0,
    height: 0
  },
  calculateTextPosition: function(i, r, n) {
    var o = calculateTextPosition(i, r, n), a = this.shape;
    return a && a.symbolType === "pin" && r.position === "inside" && (o.y = n.y + n.height * 0.4), o;
  },
  buildPath: function(i, r, n) {
    var o = r.symbolType;
    if (o !== "none") {
      var a = symbolBuildProxies[o];
      a || (o = "rect", a = symbolBuildProxies[o]), symbolShapeMakers[o](r.x, r.y, r.width, r.height, a.shape), a.buildPath(i, a.shape, n);
    }
  }
});
function symbolPathSetColor(i, r) {
  if (this.type !== "image") {
    var n = this.style;
    this.__isEmptyBrush ? (n.stroke = i, n.fill = r || "#fff", n.lineWidth = 2) : this.shape.symbolType === "line" ? n.stroke = i : n.fill = i, this.markRedraw();
  }
}
function createSymbol(i, r, n, o, a, u, c) {
  var d = i.indexOf("empty") === 0;
  d && (i = i.substr(5, 1).toLowerCase() + i.substr(6));
  var f;
  return i.indexOf("image://") === 0 ? f = makeImage(i.slice(8), new BoundingRect$1(r, n, o, a), c ? "center" : "cover") : i.indexOf("path://") === 0 ? f = makePath(i.slice(7), {}, new BoundingRect$1(r, n, o, a), c ? "center" : "cover") : f = new SymbolClz({
    shape: {
      symbolType: i,
      x: r,
      y: n,
      width: o,
      height: a
    }
  }), f.__isEmptyBrush = d, f.setColor = symbolPathSetColor, u && f.setColor(u), f;
}
function normalizeSymbolOffset(i, r) {
  if (i != null)
    return isArray$1(i) || (i = [i, i]), [parsePercent(i[0], r[0]) || 0, parsePercent(retrieve2(i[1], i[0]), r[1]) || 0];
}
function isSafeNum(i) {
  return isFinite(i);
}
function createLinearGradient(i, r, n) {
  var o = r.x == null ? 0 : r.x, a = r.x2 == null ? 1 : r.x2, u = r.y == null ? 0 : r.y, c = r.y2 == null ? 0 : r.y2;
  r.global || (o = o * n.width + n.x, a = a * n.width + n.x, u = u * n.height + n.y, c = c * n.height + n.y), o = isSafeNum(o) ? o : 0, a = isSafeNum(a) ? a : 1, u = isSafeNum(u) ? u : 0, c = isSafeNum(c) ? c : 0;
  var d = i.createLinearGradient(o, u, a, c);
  return d;
}
function createRadialGradient(i, r, n) {
  var o = n.width, a = n.height, u = Math.min(o, a), c = r.x == null ? 0.5 : r.x, d = r.y == null ? 0.5 : r.y, f = r.r == null ? 0.5 : r.r;
  r.global || (c = c * o + n.x, d = d * a + n.y, f = f * u), c = isSafeNum(c) ? c : 0.5, d = isSafeNum(d) ? d : 0.5, f = f >= 0 && isSafeNum(f) ? f : 0.5;
  var p = i.createRadialGradient(c, d, 0, c, d, f);
  return p;
}
function getCanvasGradient(i, r, n) {
  for (var o = r.type === "radial" ? createRadialGradient(i, r, n) : createLinearGradient(i, r, n), a = r.colorStops, u = 0; u < a.length; u++)
    o.addColorStop(a[u].offset, a[u].color);
  return o;
}
function isClipPathChanged(i, r) {
  if (i === r || !i && !r)
    return !1;
  if (!i || !r || i.length !== r.length)
    return !0;
  for (var n = 0; n < i.length; n++)
    if (i[n] !== r[n])
      return !0;
  return !1;
}
function parseInt10(i) {
  return parseInt(i, 10);
}
function getSize(i, r, n) {
  var o = ["width", "height"][r], a = ["clientWidth", "clientHeight"][r], u = ["paddingLeft", "paddingTop"][r], c = ["paddingRight", "paddingBottom"][r];
  if (n[o] != null && n[o] !== "auto")
    return parseFloat(n[o]);
  var d = document.defaultView.getComputedStyle(i);
  return (i[a] || parseInt10(d[o]) || parseInt10(i.style[o])) - (parseInt10(d[u]) || 0) - (parseInt10(d[c]) || 0) | 0;
}
function normalizeLineDash(i, r) {
  return !i || i === "solid" || !(r > 0) ? null : i === "dashed" ? [4 * r, 2 * r] : i === "dotted" ? [r] : isNumber$1(i) ? [i] : isArray$1(i) ? i : null;
}
function getLineDash(i) {
  var r = i.style, n = r.lineDash && r.lineWidth > 0 && normalizeLineDash(r.lineDash, r.lineWidth), o = r.lineDashOffset;
  if (n) {
    var a = r.strokeNoScale && i.getLineScale ? i.getLineScale() : 1;
    a && a !== 1 && (n = map$1(n, function(u) {
      return u / a;
    }), o /= a);
  }
  return [n, o];
}
var pathProxyForDraw = new PathProxy(!0);
function styleHasStroke(i) {
  var r = i.stroke;
  return !(r == null || r === "none" || !(i.lineWidth > 0));
}
function isValidStrokeFillStyle(i) {
  return typeof i == "string" && i !== "none";
}
function styleHasFill(i) {
  var r = i.fill;
  return r != null && r !== "none";
}
function doFillPath(i, r) {
  if (r.fillOpacity != null && r.fillOpacity !== 1) {
    var n = i.globalAlpha;
    i.globalAlpha = r.fillOpacity * r.opacity, i.fill(), i.globalAlpha = n;
  } else
    i.fill();
}
function doStrokePath(i, r) {
  if (r.strokeOpacity != null && r.strokeOpacity !== 1) {
    var n = i.globalAlpha;
    i.globalAlpha = r.strokeOpacity * r.opacity, i.stroke(), i.globalAlpha = n;
  } else
    i.stroke();
}
function createCanvasPattern(i, r, n) {
  var o = createOrUpdateImage(r.image, r.__image, n);
  if (isImageReady(o)) {
    var a = i.createPattern(o, r.repeat || "repeat");
    if (typeof DOMMatrix == "function" && a && a.setTransform) {
      var u = new DOMMatrix();
      u.translateSelf(r.x || 0, r.y || 0), u.rotateSelf(0, 0, (r.rotation || 0) * RADIAN_TO_DEGREE), u.scaleSelf(r.scaleX || 1, r.scaleY || 1), a.setTransform(u);
    }
    return a;
  }
}
function brushPath(i, r, n, o) {
  var a, u = styleHasStroke(n), c = styleHasFill(n), d = n.strokePercent, f = d < 1, p = !r.path;
  (!r.silent || f) && p && r.createPathProxy();
  var _ = r.path || pathProxyForDraw, v = r.__dirty;
  if (!o) {
    var g = n.fill, y = n.stroke, b = c && !!g.colorStops, A = u && !!y.colorStops, w = c && !!g.image, S = u && !!y.image, T = void 0, x = void 0, L = void 0, O = void 0, M = void 0;
    (b || A) && (M = r.getBoundingRect()), b && (T = v ? getCanvasGradient(i, g, M) : r.__canvasFillGradient, r.__canvasFillGradient = T), A && (x = v ? getCanvasGradient(i, y, M) : r.__canvasStrokeGradient, r.__canvasStrokeGradient = x), w && (L = v || !r.__canvasFillPattern ? createCanvasPattern(i, g, r) : r.__canvasFillPattern, r.__canvasFillPattern = L), S && (O = v || !r.__canvasStrokePattern ? createCanvasPattern(i, y, r) : r.__canvasStrokePattern, r.__canvasStrokePattern = L), b ? i.fillStyle = T : w && (L ? i.fillStyle = L : c = !1), A ? i.strokeStyle = x : S && (O ? i.strokeStyle = O : u = !1);
  }
  var k = r.getGlobalScale();
  _.setScale(k[0], k[1], r.segmentIgnoreThreshold);
  var ie, $;
  i.setLineDash && n.lineDash && (a = getLineDash(r), ie = a[0], $ = a[1]);
  var Y = !0;
  (p || v & SHAPE_CHANGED_BIT) && (_.setDPR(i.dpr), f ? _.setContext(null) : (_.setContext(i), Y = !1), _.reset(), r.buildPath(_, r.shape, o), _.toStatic(), r.pathUpdated()), Y && _.rebuildPath(i, f ? d : 1), ie && (i.setLineDash(ie), i.lineDashOffset = $), o || (n.strokeFirst ? (u && doStrokePath(i, n), c && doFillPath(i, n)) : (c && doFillPath(i, n), u && doStrokePath(i, n))), ie && i.setLineDash([]);
}
function brushImage(i, r, n) {
  var o = r.__image = createOrUpdateImage(n.image, r.__image, r, r.onload);
  if (!(!o || !isImageReady(o))) {
    var a = n.x || 0, u = n.y || 0, c = r.getWidth(), d = r.getHeight(), f = o.width / o.height;
    if (c == null && d != null ? c = d * f : d == null && c != null ? d = c / f : c == null && d == null && (c = o.width, d = o.height), n.sWidth && n.sHeight) {
      var p = n.sx || 0, _ = n.sy || 0;
      i.drawImage(o, p, _, n.sWidth, n.sHeight, a, u, c, d);
    } else if (n.sx && n.sy) {
      var p = n.sx, _ = n.sy, v = c - p, g = d - _;
      i.drawImage(o, p, _, v, g, a, u, c, d);
    } else
      i.drawImage(o, a, u, c, d);
  }
}
function brushText(i, r, n) {
  var o, a = n.text;
  if (a != null && (a += ""), a) {
    i.font = n.font || DEFAULT_FONT, i.textAlign = n.textAlign, i.textBaseline = n.textBaseline;
    var u = void 0, c = void 0;
    i.setLineDash && n.lineDash && (o = getLineDash(r), u = o[0], c = o[1]), u && (i.setLineDash(u), i.lineDashOffset = c), n.strokeFirst ? (styleHasStroke(n) && i.strokeText(a, n.x, n.y), styleHasFill(n) && i.fillText(a, n.x, n.y)) : (styleHasFill(n) && i.fillText(a, n.x, n.y), styleHasStroke(n) && i.strokeText(a, n.x, n.y)), u && i.setLineDash([]);
  }
}
var SHADOW_NUMBER_PROPS = ["shadowBlur", "shadowOffsetX", "shadowOffsetY"], STROKE_PROPS = [
  ["lineCap", "butt"],
  ["lineJoin", "miter"],
  ["miterLimit", 10]
];
function bindCommonProps(i, r, n, o, a) {
  var u = !1;
  if (!o && (n = n || {}, r === n))
    return !1;
  if (o || r.opacity !== n.opacity) {
    flushPathDrawn(i, a), u = !0;
    var c = Math.max(Math.min(r.opacity, 1), 0);
    i.globalAlpha = isNaN(c) ? DEFAULT_COMMON_STYLE.opacity : c;
  }
  (o || r.blend !== n.blend) && (u || (flushPathDrawn(i, a), u = !0), i.globalCompositeOperation = r.blend || DEFAULT_COMMON_STYLE.blend);
  for (var d = 0; d < SHADOW_NUMBER_PROPS.length; d++) {
    var f = SHADOW_NUMBER_PROPS[d];
    (o || r[f] !== n[f]) && (u || (flushPathDrawn(i, a), u = !0), i[f] = i.dpr * (r[f] || 0));
  }
  return (o || r.shadowColor !== n.shadowColor) && (u || (flushPathDrawn(i, a), u = !0), i.shadowColor = r.shadowColor || DEFAULT_COMMON_STYLE.shadowColor), u;
}
function bindPathAndTextCommonStyle(i, r, n, o, a) {
  var u = getStyle(r, a.inHover), c = o ? null : n && getStyle(n, a.inHover) || {};
  if (u === c)
    return !1;
  var d = bindCommonProps(i, u, c, o, a);
  if ((o || u.fill !== c.fill) && (d || (flushPathDrawn(i, a), d = !0), isValidStrokeFillStyle(u.fill) && (i.fillStyle = u.fill)), (o || u.stroke !== c.stroke) && (d || (flushPathDrawn(i, a), d = !0), isValidStrokeFillStyle(u.stroke) && (i.strokeStyle = u.stroke)), (o || u.opacity !== c.opacity) && (d || (flushPathDrawn(i, a), d = !0), i.globalAlpha = u.opacity == null ? 1 : u.opacity), r.hasStroke()) {
    var f = u.lineWidth, p = f / (u.strokeNoScale && r.getLineScale ? r.getLineScale() : 1);
    i.lineWidth !== p && (d || (flushPathDrawn(i, a), d = !0), i.lineWidth = p);
  }
  for (var _ = 0; _ < STROKE_PROPS.length; _++) {
    var v = STROKE_PROPS[_], g = v[0];
    (o || u[g] !== c[g]) && (d || (flushPathDrawn(i, a), d = !0), i[g] = u[g] || v[1]);
  }
  return d;
}
function bindImageStyle(i, r, n, o, a) {
  return bindCommonProps(i, getStyle(r, a.inHover), n && getStyle(n, a.inHover), o, a);
}
function setContextTransform(i, r) {
  var n = r.transform, o = i.dpr || 1;
  n ? i.setTransform(o * n[0], o * n[1], o * n[2], o * n[3], o * n[4], o * n[5]) : i.setTransform(o, 0, 0, o, 0, 0);
}
function updateClipStatus(i, r, n) {
  for (var o = !1, a = 0; a < i.length; a++) {
    var u = i[a];
    o = o || u.isZeroArea(), setContextTransform(r, u), r.beginPath(), u.buildPath(r, u.shape), r.clip();
  }
  n.allClipped = o;
}
function isTransformChanged(i, r) {
  return i && r ? i[0] !== r[0] || i[1] !== r[1] || i[2] !== r[2] || i[3] !== r[3] || i[4] !== r[4] || i[5] !== r[5] : !(!i && !r);
}
var DRAW_TYPE_PATH = 1, DRAW_TYPE_IMAGE = 2, DRAW_TYPE_TEXT = 3, DRAW_TYPE_INCREMENTAL = 4;
function canPathBatch(i) {
  var r = styleHasFill(i), n = styleHasStroke(i);
  return !(i.lineDash || !(+r ^ +n) || r && typeof i.fill != "string" || n && typeof i.stroke != "string" || i.strokePercent < 1 || i.strokeOpacity < 1 || i.fillOpacity < 1);
}
function flushPathDrawn(i, r) {
  r.batchFill && i.fill(), r.batchStroke && i.stroke(), r.batchFill = "", r.batchStroke = "";
}
function getStyle(i, r) {
  return r && i.__hoverStyle || i.style;
}
function brushSingle(i, r) {
  brush$1(i, r, { inHover: !1, viewWidth: 0, viewHeight: 0 }, !0);
}
function brush$1(i, r, n, o) {
  var a = r.transform;
  if (!r.shouldBePainted(n.viewWidth, n.viewHeight, !1, !1)) {
    r.__dirty &= ~REDRAW_BIT, r.__isRendered = !1;
    return;
  }
  var u = r.__clipPaths, c = n.prevElClipPaths, d = !1, f = !1;
  if ((!c || isClipPathChanged(u, c)) && (c && c.length && (flushPathDrawn(i, n), i.restore(), f = d = !0, n.prevElClipPaths = null, n.allClipped = !1, n.prevEl = null), u && u.length && (flushPathDrawn(i, n), i.save(), updateClipStatus(u, i, n), d = !0), n.prevElClipPaths = u), n.allClipped) {
    r.__isRendered = !1;
    return;
  }
  r.beforeBrush && r.beforeBrush(), r.innerBeforeBrush();
  var p = n.prevEl;
  p || (f = d = !0);
  var _ = r instanceof Path$1 && r.autoBatch && canPathBatch(r.style);
  d || isTransformChanged(a, p.transform) ? (flushPathDrawn(i, n), setContextTransform(i, r)) : _ || flushPathDrawn(i, n);
  var v = getStyle(r, n.inHover);
  r instanceof Path$1 ? (n.lastDrawType !== DRAW_TYPE_PATH && (f = !0, n.lastDrawType = DRAW_TYPE_PATH), bindPathAndTextCommonStyle(i, r, p, f, n), (!_ || !n.batchFill && !n.batchStroke) && i.beginPath(), brushPath(i, r, v, _), _ && (n.batchFill = v.fill || "", n.batchStroke = v.stroke || "")) : r instanceof TSpan$1 ? (n.lastDrawType !== DRAW_TYPE_TEXT && (f = !0, n.lastDrawType = DRAW_TYPE_TEXT), bindPathAndTextCommonStyle(i, r, p, f, n), brushText(i, r, v)) : r instanceof ZRImage$1 ? (n.lastDrawType !== DRAW_TYPE_IMAGE && (f = !0, n.lastDrawType = DRAW_TYPE_IMAGE), bindImageStyle(i, r, p, f, n), brushImage(i, r, v)) : r.getTemporalDisplayables && (n.lastDrawType !== DRAW_TYPE_INCREMENTAL && (f = !0, n.lastDrawType = DRAW_TYPE_INCREMENTAL), brushIncremental(i, r, n)), _ && o && flushPathDrawn(i, n), r.innerAfterBrush(), r.afterBrush && r.afterBrush(), n.prevEl = r, r.__dirty = 0, r.__isRendered = !0;
}
function brushIncremental(i, r, n) {
  var o = r.getDisplayables(), a = r.getTemporalDisplayables();
  i.save();
  var u = {
    prevElClipPaths: null,
    prevEl: null,
    allClipped: !1,
    viewWidth: n.viewWidth,
    viewHeight: n.viewHeight,
    inHover: n.inHover
  }, c, d;
  for (c = r.getCursor(), d = o.length; c < d; c++) {
    var f = o[c];
    f.beforeBrush && f.beforeBrush(), f.innerBeforeBrush(), brush$1(i, f, u, c === d - 1), f.innerAfterBrush(), f.afterBrush && f.afterBrush(), u.prevEl = f;
  }
  for (var p = 0, _ = a.length; p < _; p++) {
    var f = a[p];
    f.beforeBrush && f.beforeBrush(), f.innerBeforeBrush(), brush$1(i, f, u, p === _ - 1), f.innerAfterBrush(), f.afterBrush && f.afterBrush(), u.prevEl = f;
  }
  r.clearTemporalDisplayables(), r.notClear = !0, i.restore();
}
var decalMap = new WeakMap$2(), decalCache = new LRU$1(100), decalKeys = ["symbol", "symbolSize", "symbolKeepAspect", "color", "backgroundColor", "dashArrayX", "dashArrayY", "maxTileWidth", "maxTileHeight"];
function createOrUpdatePatternFromDecal(i, r) {
  if (i === "none")
    return null;
  var n = r.getDevicePixelRatio(), o = r.getZr(), a = o.painter.type === "svg";
  i.dirty && decalMap.delete(i);
  var u = decalMap.get(i);
  if (u)
    return u;
  var c = defaults(i, {
    symbol: "rect",
    symbolSize: 1,
    symbolKeepAspect: !0,
    color: "rgba(0, 0, 0, 0.2)",
    backgroundColor: null,
    dashArrayX: 5,
    dashArrayY: 5,
    rotation: 0,
    maxTileWidth: 512,
    maxTileHeight: 512
  });
  c.backgroundColor === "none" && (c.backgroundColor = null);
  var d = {
    repeat: "repeat"
  };
  return f(d), d.rotation = c.rotation, d.scaleX = d.scaleY = a ? 1 : 1 / n, decalMap.set(i, d), i.dirty = !1, d;
  function f(p) {
    for (var _ = [n], v = !0, g = 0; g < decalKeys.length; ++g) {
      var y = c[decalKeys[g]];
      if (y != null && !isArray$1(y) && !isString$2(y) && !isNumber$1(y) && typeof y != "boolean") {
        v = !1;
        break;
      }
      _.push(y);
    }
    var b;
    if (v) {
      b = _.join(",") + (a ? "-svg" : "");
      var A = decalCache.get(b);
      A && (a ? p.svgElement = A : p.image = A);
    }
    var w = normalizeDashArrayX(c.dashArrayX), S = normalizeDashArrayY(c.dashArrayY), T = normalizeSymbolArray(c.symbol), x = getLineBlockLengthX(w), L = getLineBlockLengthY(S), O = !a && platformApi.createCanvas(), M = a && {
      tag: "g",
      attrs: {},
      key: "dcl",
      children: []
    }, k = $(), ie;
    O && (O.width = k.width * n, O.height = k.height * n, ie = O.getContext("2d")), Y(), v && decalCache.put(b, O || M), p.image = O, p.svgElement = M, p.svgWidth = k.width, p.svgHeight = k.height;
    function $() {
      for (var D = 1, re = 0, F = x.length; re < F; ++re)
        D = getLeastCommonMultiple(D, x[re]);
      for (var _e = 1, re = 0, F = T.length; re < F; ++re)
        _e = getLeastCommonMultiple(_e, T[re].length);
      D *= _e;
      var ue = L * x.length * T.length;
      if (process.env.NODE_ENV !== "production") {
        var Ie = function(ze) {
          console.warn("Calculated decal size is greater than " + ze + " due to decal option settings so " + ze + " is used for the decal size. Please consider changing the decal option to make a smaller decal or set " + ze + " to be larger to avoid incontinuity.");
        };
        D > c.maxTileWidth && Ie("maxTileWidth"), ue > c.maxTileHeight && Ie("maxTileHeight");
      }
      return {
        width: Math.max(1, Math.min(D, c.maxTileWidth)),
        height: Math.max(1, Math.min(ue, c.maxTileHeight))
      };
    }
    function Y() {
      ie && (ie.clearRect(0, 0, O.width, O.height), c.backgroundColor && (ie.fillStyle = c.backgroundColor, ie.fillRect(0, 0, O.width, O.height)));
      for (var D = 0, re = 0; re < S.length; ++re)
        D += S[re];
      if (D <= 0)
        return;
      for (var F = -L, _e = 0, ue = 0, Ie = 0; F < k.height; ) {
        if (_e % 2 === 0) {
          for (var ze = ue / 2 % T.length, Fe = 0, Oe = 0, Lt = 0; Fe < k.width * 2; ) {
            for (var pe = 0, re = 0; re < w[Ie].length; ++re)
              pe += w[Ie][re];
            if (pe <= 0)
              break;
            if (Oe % 2 === 0) {
              var Cn = (1 - c.symbolSize) * 0.5, In = Fe + w[Ie][Oe] * Cn, Dt = F + S[_e] * Cn, he = w[Ie][Oe] * c.symbolSize, Et = S[_e] * c.symbolSize, hn = Lt / 2 % T[ze].length;
              vn(In, Dt, he, Et, T[ze][hn]);
            }
            Fe += w[Ie][Oe], ++Lt, ++Oe, Oe === w[Ie].length && (Oe = 0);
          }
          ++Ie, Ie === w.length && (Ie = 0);
        }
        F += S[_e], ++ue, ++_e, _e === S.length && (_e = 0);
      }
      function vn(kt, Ce, de, Ue, Ne) {
        var Ve = a ? 1 : n, Pt = createSymbol(Ne, kt * Ve, Ce * Ve, de * Ve, Ue * Ve, c.color, c.symbolKeepAspect);
        if (a) {
          var jt = o.painter.renderOneToVNode(Pt);
          jt && M.children.push(jt);
        } else
          brushSingle(ie, Pt);
      }
    }
  }
}
function normalizeSymbolArray(i) {
  if (!i || i.length === 0)
    return [["rect"]];
  if (isString$2(i))
    return [[i]];
  for (var r = !0, n = 0; n < i.length; ++n)
    if (!isString$2(i[n])) {
      r = !1;
      break;
    }
  if (r)
    return normalizeSymbolArray([i]);
  for (var o = [], n = 0; n < i.length; ++n)
    isString$2(i[n]) ? o.push([i[n]]) : o.push(i[n]);
  return o;
}
function normalizeDashArrayX(i) {
  if (!i || i.length === 0)
    return [[0, 0]];
  if (isNumber$1(i)) {
    var r = Math.ceil(i);
    return [[r, r]];
  }
  for (var n = !0, o = 0; o < i.length; ++o)
    if (!isNumber$1(i[o])) {
      n = !1;
      break;
    }
  if (n)
    return normalizeDashArrayX([i]);
  for (var a = [], o = 0; o < i.length; ++o)
    if (isNumber$1(i[o])) {
      var r = Math.ceil(i[o]);
      a.push([r, r]);
    } else {
      var r = map$1(i[o], function(d) {
        return Math.ceil(d);
      });
      r.length % 2 === 1 ? a.push(r.concat(r)) : a.push(r);
    }
  return a;
}
function normalizeDashArrayY(i) {
  if (!i || typeof i == "object" && i.length === 0)
    return [0, 0];
  if (isNumber$1(i)) {
    var r = Math.ceil(i);
    return [r, r];
  }
  var n = map$1(i, function(o) {
    return Math.ceil(o);
  });
  return i.length % 2 ? n.concat(n) : n;
}
function getLineBlockLengthX(i) {
  return map$1(i, function(r) {
    return getLineBlockLengthY(r);
  });
}
function getLineBlockLengthY(i) {
  for (var r = 0, n = 0; n < i.length; ++n)
    r += i[n];
  return i.length % 2 === 1 ? r * 2 : r;
}
function decalVisual(i, r) {
  i.eachRawSeries(function(n) {
    if (!i.isSeriesFiltered(n)) {
      var o = n.getData();
      o.hasItemVisual() && o.each(function(c) {
        var d = o.getItemVisual(c, "decal");
        if (d) {
          var f = o.ensureUniqueItemVisual(c, "style");
          f.decal = createOrUpdatePatternFromDecal(d, r);
        }
      });
      var a = o.getVisual("decal");
      if (a) {
        var u = o.getVisual("style");
        u.decal = createOrUpdatePatternFromDecal(a, r);
      }
    }
  });
}
var lifecycle = new Eventful$1();
const lifecycle$1 = lifecycle;
var implsStore = {};
function registerImpl(i, r) {
  process.env.NODE_ENV !== "production" && implsStore[i] && error("Already has an implementation of " + i + "."), implsStore[i] = r;
}
function getImpl(i) {
  return process.env.NODE_ENV !== "production" && (implsStore[i] || error("Implementation of " + i + " doesn't exists.")), implsStore[i];
}
var TEST_FRAME_REMAIN_TIME = 1, PRIORITY_PROCESSOR_SERIES_FILTER = 800, PRIORITY_PROCESSOR_DATASTACK = 900, PRIORITY_PROCESSOR_FILTER = 1e3, PRIORITY_PROCESSOR_DEFAULT = 2e3, PRIORITY_PROCESSOR_STATISTIC = 5e3, PRIORITY_VISUAL_LAYOUT = 1e3, PRIORITY_VISUAL_PROGRESSIVE_LAYOUT = 1100, PRIORITY_VISUAL_GLOBAL = 2e3, PRIORITY_VISUAL_CHART = 3e3, PRIORITY_VISUAL_COMPONENT = 4e3, PRIORITY_VISUAL_CHART_DATA_CUSTOM = 4500, PRIORITY_VISUAL_POST_CHART_LAYOUT = 4600, PRIORITY_VISUAL_BRUSH = 5e3, PRIORITY_VISUAL_ARIA = 6e3, PRIORITY_VISUAL_DECAL = 7e3, PRIORITY = {
  PROCESSOR: {
    FILTER: PRIORITY_PROCESSOR_FILTER,
    SERIES_FILTER: PRIORITY_PROCESSOR_SERIES_FILTER,
    STATISTIC: PRIORITY_PROCESSOR_STATISTIC
  },
  VISUAL: {
    LAYOUT: PRIORITY_VISUAL_LAYOUT,
    PROGRESSIVE_LAYOUT: PRIORITY_VISUAL_PROGRESSIVE_LAYOUT,
    GLOBAL: PRIORITY_VISUAL_GLOBAL,
    CHART: PRIORITY_VISUAL_CHART,
    POST_CHART_LAYOUT: PRIORITY_VISUAL_POST_CHART_LAYOUT,
    COMPONENT: PRIORITY_VISUAL_COMPONENT,
    BRUSH: PRIORITY_VISUAL_BRUSH,
    CHART_ITEM: PRIORITY_VISUAL_CHART_DATA_CUSTOM,
    ARIA: PRIORITY_VISUAL_ARIA,
    DECAL: PRIORITY_VISUAL_DECAL
  }
}, IN_MAIN_PROCESS_KEY = "__flagInMainProcess", PENDING_UPDATE = "__pendingUpdate", STATUS_NEEDS_UPDATE_KEY = "__needsUpdateStatus", ACTION_REG = /^[a-zA-Z0-9_]+$/;
function createRegisterEventWithLowercaseECharts(i) {
  return function() {
    for (var r = [], n = 0; n < arguments.length; n++)
      r[n] = arguments[n];
    if (this.isDisposed()) {
      disposedWarning(this.id);
      return;
    }
    return toLowercaseNameAndCallEventful(this, i, r);
  };
}
function createRegisterEventWithLowercaseMessageCenter(i) {
  return function() {
    for (var r = [], n = 0; n < arguments.length; n++)
      r[n] = arguments[n];
    return toLowercaseNameAndCallEventful(this, i, r);
  };
}
function toLowercaseNameAndCallEventful(i, r, n) {
  return n[0] = n[0] && n[0].toLowerCase(), Eventful$1.prototype[r].apply(i, n);
}
var MessageCenter = (
  /** @class */
  function(i) {
    __extends(r, i);
    function r() {
      return i !== null && i.apply(this, arguments) || this;
    }
    return r;
  }(Eventful$1)
), messageCenterProto = MessageCenter.prototype;
messageCenterProto.on = createRegisterEventWithLowercaseMessageCenter("on");
messageCenterProto.off = createRegisterEventWithLowercaseMessageCenter("off");
var prepare, prepareView, updateDirectly, updateMethods, doConvertPixel, updateStreamModes, doDispatchAction, flushPendingActions, triggerUpdatedEvent, bindRenderedEvent, bindMouseEvent, render, renderComponents, renderSeries, createExtensionAPI, markStatusToUpdate, applyChangedStates, ECharts = (
  /** @class */
  function(i) {
    __extends(r, i);
    function r(n, o, a) {
      var u = i.call(this, new ECEventProcessor()) || this;
      u._chartsViews = [], u._chartsMap = {}, u._componentsViews = [], u._componentsMap = {}, u._pendingActions = [], a = a || {}, isString$2(o) && (o = themeStorage[o]), u._dom = n;
      var c = "canvas", d = "auto", f = !1;
      if (process.env.NODE_ENV !== "production") {
        var p = (
          /* eslint-disable-next-line */
          env$1.hasGlobalWindow ? window : global
        );
        p && (c = retrieve2(p.__ECHARTS__DEFAULT__RENDERER__, c), d = retrieve2(p.__ECHARTS__DEFAULT__COARSE_POINTER, d), f = retrieve2(p.__ECHARTS__DEFAULT__USE_DIRTY_RECT__, f));
      }
      a.ssr && registerSSRDataGetter(function(y) {
        var b = getECData(y), A = b.dataIndex;
        if (A != null) {
          var w = createHashMap();
          return w.set("series_index", b.seriesIndex), w.set("data_index", A), b.ssrType && w.set("ssr_type", b.ssrType), w;
        }
      });
      var _ = u._zr = init(n, {
        renderer: a.renderer || c,
        devicePixelRatio: a.devicePixelRatio,
        width: a.width,
        height: a.height,
        ssr: a.ssr,
        useDirtyRect: retrieve2(a.useDirtyRect, f),
        useCoarsePointer: retrieve2(a.useCoarsePointer, d),
        pointerSize: a.pointerSize
      });
      u._ssr = a.ssr, u._throttledZrFlush = throttle$1(bind$1(_.flush, _), 17), o = clone$2(o), o && globalBackwardCompat(o, !0), u._theme = o, u._locale = createLocaleObject(a.locale || SYSTEM_LANG), u._coordSysMgr = new CoordinateSystem();
      var v = u._api = createExtensionAPI(u);
      function g(y, b) {
        return y.__prio - b.__prio;
      }
      return sort(visualFuncs, g), sort(dataProcessorFuncs, g), u._scheduler = new Scheduler$1(u, v, dataProcessorFuncs, visualFuncs), u._messageCenter = new MessageCenter(), u._initEvents(), u.resize = bind$1(u.resize, u), _.animation.on("frame", u._onframe, u), bindRenderedEvent(_, u), bindMouseEvent(_, u), setAsPrimitive(u), u;
    }
    return r.prototype._onframe = function() {
      if (!this._disposed) {
        applyChangedStates(this);
        var n = this._scheduler;
        if (this[PENDING_UPDATE]) {
          var o = this[PENDING_UPDATE].silent;
          this[IN_MAIN_PROCESS_KEY] = !0;
          try {
            prepare(this), updateMethods.update.call(this, null, this[PENDING_UPDATE].updateParams);
          } catch (f) {
            throw this[IN_MAIN_PROCESS_KEY] = !1, this[PENDING_UPDATE] = null, f;
          }
          this._zr.flush(), this[IN_MAIN_PROCESS_KEY] = !1, this[PENDING_UPDATE] = null, flushPendingActions.call(this, o), triggerUpdatedEvent.call(this, o);
        } else if (n.unfinished) {
          var a = TEST_FRAME_REMAIN_TIME, u = this._model, c = this._api;
          n.unfinished = !1;
          do {
            var d = +/* @__PURE__ */ new Date();
            n.performSeriesTasks(u), n.performDataProcessorTasks(u), updateStreamModes(this, u), n.performVisualTasks(u), renderSeries(this, this._model, c, "remain", {}), a -= +/* @__PURE__ */ new Date() - d;
          } while (a > 0 && n.unfinished);
          n.unfinished || this._zr.flush();
        }
      }
    }, r.prototype.getDom = function() {
      return this._dom;
    }, r.prototype.getId = function() {
      return this.id;
    }, r.prototype.getZr = function() {
      return this._zr;
    }, r.prototype.isSSR = function() {
      return this._ssr;
    }, r.prototype.setOption = function(n, o, a) {
      if (this[IN_MAIN_PROCESS_KEY]) {
        process.env.NODE_ENV !== "production" && error("`setOption` should not be called during main process.");
        return;
      }
      if (this._disposed) {
        disposedWarning(this.id);
        return;
      }
      var u, c, d;
      if (isObject$3(o) && (a = o.lazyUpdate, u = o.silent, c = o.replaceMerge, d = o.transition, o = o.notMerge), this[IN_MAIN_PROCESS_KEY] = !0, !this._model || o) {
        var f = new OptionManager$1(this._api), p = this._theme, _ = this._model = new GlobalModel$1();
        _.scheduler = this._scheduler, _.ssr = this._ssr, _.init(null, null, null, p, this._locale, f);
      }
      this._model.setOption(n, {
        replaceMerge: c
      }, optionPreprocessorFuncs);
      var v = {
        seriesTransition: d,
        optionChanged: !0
      };
      if (a)
        this[PENDING_UPDATE] = {
          silent: u,
          updateParams: v
        }, this[IN_MAIN_PROCESS_KEY] = !1, this.getZr().wakeUp();
      else {
        try {
          prepare(this), updateMethods.update.call(this, null, v);
        } catch (g) {
          throw this[PENDING_UPDATE] = null, this[IN_MAIN_PROCESS_KEY] = !1, g;
        }
        this._ssr || this._zr.flush(), this[PENDING_UPDATE] = null, this[IN_MAIN_PROCESS_KEY] = !1, flushPendingActions.call(this, u), triggerUpdatedEvent.call(this, u);
      }
    }, r.prototype.setTheme = function() {
      deprecateLog("ECharts#setTheme() is DEPRECATED in ECharts 3.0");
    }, r.prototype.getModel = function() {
      return this._model;
    }, r.prototype.getOption = function() {
      return this._model && this._model.getOption();
    }, r.prototype.getWidth = function() {
      return this._zr.getWidth();
    }, r.prototype.getHeight = function() {
      return this._zr.getHeight();
    }, r.prototype.getDevicePixelRatio = function() {
      return this._zr.painter.dpr || env$1.hasGlobalWindow && window.devicePixelRatio || 1;
    }, r.prototype.getRenderedCanvas = function(n) {
      return process.env.NODE_ENV !== "production" && deprecateReplaceLog("getRenderedCanvas", "renderToCanvas"), this.renderToCanvas(n);
    }, r.prototype.renderToCanvas = function(n) {
      n = n || {};
      var o = this._zr.painter;
      if (process.env.NODE_ENV !== "production" && o.type !== "canvas")
        throw new Error("renderToCanvas can only be used in the canvas renderer.");
      return o.getRenderedCanvas({
        backgroundColor: n.backgroundColor || this._model.get("backgroundColor"),
        pixelRatio: n.pixelRatio || this.getDevicePixelRatio()
      });
    }, r.prototype.renderToSVGString = function(n) {
      n = n || {};
      var o = this._zr.painter;
      if (process.env.NODE_ENV !== "production" && o.type !== "svg")
        throw new Error("renderToSVGString can only be used in the svg renderer.");
      return o.renderToString({
        useViewBox: n.useViewBox
      });
    }, r.prototype.getSvgDataURL = function() {
      if (env$1.svgSupported) {
        var n = this._zr, o = n.storage.getDisplayList();
        return each$4(o, function(a) {
          a.stopAnimation(null, !0);
        }), n.painter.toDataURL();
      }
    }, r.prototype.getDataURL = function(n) {
      if (this._disposed) {
        disposedWarning(this.id);
        return;
      }
      n = n || {};
      var o = n.excludeComponents, a = this._model, u = [], c = this;
      each$4(o, function(f) {
        a.eachComponent({
          mainType: f
        }, function(p) {
          var _ = c._componentsMap[p.__viewId];
          _.group.ignore || (u.push(_), _.group.ignore = !0);
        });
      });
      var d = this._zr.painter.getType() === "svg" ? this.getSvgDataURL() : this.renderToCanvas(n).toDataURL("image/" + (n && n.type || "png"));
      return each$4(u, function(f) {
        f.group.ignore = !1;
      }), d;
    }, r.prototype.getConnectedDataURL = function(n) {
      if (this._disposed) {
        disposedWarning(this.id);
        return;
      }
      var o = n.type === "svg", a = this.group, u = Math.min, c = Math.max, d = 1 / 0;
      if (connectedGroups[a]) {
        var f = d, p = d, _ = -d, v = -d, g = [], y = n && n.pixelRatio || this.getDevicePixelRatio();
        each$4(instances, function(x, L) {
          if (x.group === a) {
            var O = o ? x.getZr().painter.getSvgDom().innerHTML : x.renderToCanvas(clone$2(n)), M = x.getDom().getBoundingClientRect();
            f = u(M.left, f), p = u(M.top, p), _ = c(M.right, _), v = c(M.bottom, v), g.push({
              dom: O,
              left: M.left,
              top: M.top
            });
          }
        }), f *= y, p *= y, _ *= y, v *= y;
        var b = _ - f, A = v - p, w = platformApi.createCanvas(), S = init(w, {
          renderer: o ? "svg" : "canvas"
        });
        if (S.resize({
          width: b,
          height: A
        }), o) {
          var T = "";
          return each$4(g, function(x) {
            var L = x.left - f, O = x.top - p;
            T += '<g transform="translate(' + L + "," + O + ')">' + x.dom + "</g>";
          }), S.painter.getSvgRoot().innerHTML = T, n.connectedBackgroundColor && S.painter.setBackgroundColor(n.connectedBackgroundColor), S.refreshImmediately(), S.painter.toDataURL();
        } else
          return n.connectedBackgroundColor && S.add(new Rect$1({
            shape: {
              x: 0,
              y: 0,
              width: b,
              height: A
            },
            style: {
              fill: n.connectedBackgroundColor
            }
          })), each$4(g, function(x) {
            var L = new ZRImage$1({
              style: {
                x: x.left * y - f,
                y: x.top * y - p,
                image: x.dom
              }
            });
            S.add(L);
          }), S.refreshImmediately(), w.toDataURL("image/" + (n && n.type || "png"));
      } else
        return this.getDataURL(n);
    }, r.prototype.convertToPixel = function(n, o) {
      return doConvertPixel(this, "convertToPixel", n, o);
    }, r.prototype.convertFromPixel = function(n, o) {
      return doConvertPixel(this, "convertFromPixel", n, o);
    }, r.prototype.containPixel = function(n, o) {
      if (this._disposed) {
        disposedWarning(this.id);
        return;
      }
      var a = this._model, u, c = parseFinder(a, n);
      return each$4(c, function(d, f) {
        f.indexOf("Models") >= 0 && each$4(d, function(p) {
          var _ = p.coordinateSystem;
          if (_ && _.containPoint)
            u = u || !!_.containPoint(o);
          else if (f === "seriesModels") {
            var v = this._chartsMap[p.__viewId];
            v && v.containPoint ? u = u || v.containPoint(o, p) : process.env.NODE_ENV !== "production" && warn(f + ": " + (v ? "The found component do not support containPoint." : "No view mapping to the found component."));
          } else
            process.env.NODE_ENV !== "production" && warn(f + ": containPoint is not supported");
        }, this);
      }, this), !!u;
    }, r.prototype.getVisual = function(n, o) {
      var a = this._model, u = parseFinder(a, n, {
        defaultMainType: "series"
      }), c = u.seriesModel;
      process.env.NODE_ENV !== "production" && (c || warn("There is no specified series model"));
      var d = c.getData(), f = u.hasOwnProperty("dataIndexInside") ? u.dataIndexInside : u.hasOwnProperty("dataIndex") ? d.indexOfRawIndex(u.dataIndex) : null;
      return f != null ? getItemVisualFromData(d, f, o) : getVisualFromData(d, o);
    }, r.prototype.getViewOfComponentModel = function(n) {
      return this._componentsMap[n.__viewId];
    }, r.prototype.getViewOfSeriesModel = function(n) {
      return this._chartsMap[n.__viewId];
    }, r.prototype._initEvents = function() {
      var n = this;
      each$4(MOUSE_EVENT_NAMES, function(o) {
        var a = function(u) {
          var c = n.getModel(), d = u.target, f, p = o === "globalout";
          if (p ? f = {} : d && findEventDispatcher(d, function(b) {
            var A = getECData(b);
            if (A && A.dataIndex != null) {
              var w = A.dataModel || c.getSeriesByIndex(A.seriesIndex);
              return f = w && w.getDataParams(A.dataIndex, A.dataType, d) || {}, !0;
            } else if (A.eventData)
              return f = extend({}, A.eventData), !0;
          }, !0), f) {
            var _ = f.componentType, v = f.componentIndex;
            (_ === "markLine" || _ === "markPoint" || _ === "markArea") && (_ = "series", v = f.seriesIndex);
            var g = _ && v != null && c.getComponent(_, v), y = g && n[g.mainType === "series" ? "_chartsMap" : "_componentsMap"][g.__viewId];
            process.env.NODE_ENV !== "production" && !p && !(g && y) && warn("model or view can not be found by params"), f.event = u, f.type = o, n._$eventProcessor.eventInfo = {
              targetEl: d,
              packedEvent: f,
              model: g,
              view: y
            }, n.trigger(o, f);
          }
        };
        a.zrEventfulCallAtLast = !0, n._zr.on(o, a, n);
      }), each$4(eventActionMap, function(o, a) {
        n._messageCenter.on(a, function(u) {
          this.trigger(a, u);
        }, n);
      }), each$4(["selectchanged"], function(o) {
        n._messageCenter.on(o, function(a) {
          this.trigger(o, a);
        }, n);
      }), handleLegacySelectEvents(this._messageCenter, this, this._api);
    }, r.prototype.isDisposed = function() {
      return this._disposed;
    }, r.prototype.clear = function() {
      if (this._disposed) {
        disposedWarning(this.id);
        return;
      }
      this.setOption({
        series: []
      }, !0);
    }, r.prototype.dispose = function() {
      if (this._disposed) {
        disposedWarning(this.id);
        return;
      }
      this._disposed = !0;
      var n = this.getDom();
      n && setAttribute(this.getDom(), DOM_ATTRIBUTE_KEY, "");
      var o = this, a = o._api, u = o._model;
      each$4(o._componentsViews, function(c) {
        c.dispose(u, a);
      }), each$4(o._chartsViews, function(c) {
        c.dispose(u, a);
      }), o._zr.dispose(), o._dom = o._model = o._chartsMap = o._componentsMap = o._chartsViews = o._componentsViews = o._scheduler = o._api = o._zr = o._throttledZrFlush = o._theme = o._coordSysMgr = o._messageCenter = null, delete instances[o.id];
    }, r.prototype.resize = function(n) {
      if (this[IN_MAIN_PROCESS_KEY]) {
        process.env.NODE_ENV !== "production" && error("`resize` should not be called during main process.");
        return;
      }
      if (this._disposed) {
        disposedWarning(this.id);
        return;
      }
      this._zr.resize(n);
      var o = this._model;
      if (this._loadingFX && this._loadingFX.resize(), !!o) {
        var a = o.resetOption("media"), u = n && n.silent;
        this[PENDING_UPDATE] && (u == null && (u = this[PENDING_UPDATE].silent), a = !0, this[PENDING_UPDATE] = null), this[IN_MAIN_PROCESS_KEY] = !0;
        try {
          a && prepare(this), updateMethods.update.call(this, {
            type: "resize",
            animation: extend({
              // Disable animation
              duration: 0
            }, n && n.animation)
          });
        } catch (c) {
          throw this[IN_MAIN_PROCESS_KEY] = !1, c;
        }
        this[IN_MAIN_PROCESS_KEY] = !1, flushPendingActions.call(this, u), triggerUpdatedEvent.call(this, u);
      }
    }, r.prototype.showLoading = function(n, o) {
      if (this._disposed) {
        disposedWarning(this.id);
        return;
      }
      if (isObject$3(n) && (o = n, n = ""), n = n || "default", this.hideLoading(), !loadingEffects[n]) {
        process.env.NODE_ENV !== "production" && warn("Loading effects " + n + " not exists.");
        return;
      }
      var a = loadingEffects[n](this._api, o), u = this._zr;
      this._loadingFX = a, u.add(a);
    }, r.prototype.hideLoading = function() {
      if (this._disposed) {
        disposedWarning(this.id);
        return;
      }
      this._loadingFX && this._zr.remove(this._loadingFX), this._loadingFX = null;
    }, r.prototype.makeActionFromEvent = function(n) {
      var o = extend({}, n);
      return o.type = eventActionMap[n.type], o;
    }, r.prototype.dispatchAction = function(n, o) {
      if (this._disposed) {
        disposedWarning(this.id);
        return;
      }
      if (isObject$3(o) || (o = {
        silent: !!o
      }), !!actions[n.type] && this._model) {
        if (this[IN_MAIN_PROCESS_KEY]) {
          this._pendingActions.push(n);
          return;
        }
        var a = o.silent;
        doDispatchAction.call(this, n, a);
        var u = o.flush;
        u ? this._zr.flush() : u !== !1 && env$1.browser.weChat && this._throttledZrFlush(), flushPendingActions.call(this, a), triggerUpdatedEvent.call(this, a);
      }
    }, r.prototype.updateLabelLayout = function() {
      lifecycle$1.trigger("series:layoutlabels", this._model, this._api, {
        // Not adding series labels.
        // TODO
        updatedSeries: []
      });
    }, r.prototype.appendData = function(n) {
      if (this._disposed) {
        disposedWarning(this.id);
        return;
      }
      var o = n.seriesIndex, a = this.getModel(), u = a.getSeriesByIndex(o);
      process.env.NODE_ENV !== "production" && assert(n.data && u), u.appendData(n), this._scheduler.unfinished = !0, this.getZr().wakeUp();
    }, r.internalField = function() {
      prepare = function(v) {
        var g = v._scheduler;
        g.restorePipelines(v._model), g.prepareStageTasks(), prepareView(v, !0), prepareView(v, !1), g.plan();
      }, prepareView = function(v, g) {
        for (var y = v._model, b = v._scheduler, A = g ? v._componentsViews : v._chartsViews, w = g ? v._componentsMap : v._chartsMap, S = v._zr, T = v._api, x = 0; x < A.length; x++)
          A[x].__alive = !1;
        g ? y.eachComponent(function(M, k) {
          M !== "series" && L(k);
        }) : y.eachSeries(L);
        function L(M) {
          var k = M.__requireNewView;
          M.__requireNewView = !1;
          var ie = "_ec_" + M.id + "_" + M.type, $ = !k && w[ie];
          if (!$) {
            var Y = parseClassType(M.type), D = g ? ComponentView$1.getClass(Y.main, Y.sub) : (
              // FIXME:TS
              // (ChartView as ChartViewConstructor).getClass('series', classType.sub)
              // For backward compat, still support a chart type declared as only subType
              // like "liquidfill", but recommend "series.liquidfill"
              // But need a base class to make a type series.
              ChartView$1.getClass(Y.sub)
            );
            process.env.NODE_ENV !== "production" && assert(D, Y.sub + " does not exist."), $ = new D(), $.init(y, T), w[ie] = $, A.push($), S.add($.group);
          }
          M.__viewId = $.__id = ie, $.__alive = !0, $.__model = M, $.group.__ecComponentInfo = {
            mainType: M.mainType,
            index: M.componentIndex
          }, !g && b.prepareView($, M, y, T);
        }
        for (var x = 0; x < A.length; ) {
          var O = A[x];
          O.__alive ? x++ : (!g && O.renderTask.dispose(), S.remove(O.group), O.dispose(y, T), A.splice(x, 1), w[O.__id] === O && delete w[O.__id], O.__id = O.group.__ecComponentInfo = null);
        }
      }, updateDirectly = function(v, g, y, b, A) {
        var w = v._model;
        if (w.setUpdatePayload(y), !b) {
          each$4([].concat(v._componentsViews).concat(v._chartsViews), O);
          return;
        }
        var S = {};
        S[b + "Id"] = y[b + "Id"], S[b + "Index"] = y[b + "Index"], S[b + "Name"] = y[b + "Name"];
        var T = {
          mainType: b,
          query: S
        };
        A && (T.subType = A);
        var x = y.excludeSeriesId, L;
        x != null && (L = createHashMap(), each$4(normalizeToArray(x), function(M) {
          var k = convertOptionIdName(M, null);
          k != null && L.set(k, !0);
        })), w && w.eachComponent(T, function(M) {
          var k = L && L.get(M.id) != null;
          if (!k)
            if (isHighDownPayload(y))
              if (M instanceof SeriesModel$1)
                y.type === HIGHLIGHT_ACTION_TYPE && !y.notBlur && !M.get(["emphasis", "disabled"]) && blurSeriesFromHighlightPayload(M, y, v._api);
              else {
                var ie = findComponentHighDownDispatchers(M.mainType, M.componentIndex, y.name, v._api), $ = ie.focusSelf, Y = ie.dispatchers;
                y.type === HIGHLIGHT_ACTION_TYPE && $ && !y.notBlur && blurComponent(M.mainType, M.componentIndex, v._api), Y && each$4(Y, function(D) {
                  y.type === HIGHLIGHT_ACTION_TYPE ? enterEmphasis(D) : leaveEmphasis(D);
                });
              }
            else
              isSelectChangePayload(y) && M instanceof SeriesModel$1 && (toggleSelectionFromPayload(M, y, v._api), updateSeriesElementSelection(M), markStatusToUpdate(v));
        }, v), w && w.eachComponent(T, function(M) {
          var k = L && L.get(M.id) != null;
          k || O(v[b === "series" ? "_chartsMap" : "_componentsMap"][M.__viewId]);
        }, v);
        function O(M) {
          M && M.__alive && M[g] && M[g](M.__model, w, v._api, y);
        }
      }, updateMethods = {
        prepareAndUpdate: function(v) {
          prepare(this), updateMethods.update.call(this, v, {
            // Needs to mark option changed if newOption is given.
            // It's from MagicType.
            // TODO If use a separate flag optionChanged in payload?
            optionChanged: v.newOption != null
          });
        },
        update: function(v, g) {
          var y = this._model, b = this._api, A = this._zr, w = this._coordSysMgr, S = this._scheduler;
          if (y) {
            y.setUpdatePayload(v), S.restoreData(y, v), S.performSeriesTasks(y), w.create(y, b), S.performDataProcessorTasks(y, v), updateStreamModes(this, y), w.update(y, b), n(y), S.performVisualTasks(y, v), render(this, y, b, v, g);
            var T = y.get("backgroundColor") || "transparent", x = y.get("darkMode");
            A.setBackgroundColor(T), x != null && x !== "auto" && A.setDarkMode(x), lifecycle$1.trigger("afterupdate", y, b);
          }
        },
        updateTransform: function(v) {
          var g = this, y = this._model, b = this._api;
          if (y) {
            y.setUpdatePayload(v);
            var A = [];
            y.eachComponent(function(S, T) {
              if (S !== "series") {
                var x = g.getViewOfComponentModel(T);
                if (x && x.__alive)
                  if (x.updateTransform) {
                    var L = x.updateTransform(T, y, b, v);
                    L && L.update && A.push(x);
                  } else
                    A.push(x);
              }
            });
            var w = createHashMap();
            y.eachSeries(function(S) {
              var T = g._chartsMap[S.__viewId];
              if (T.updateTransform) {
                var x = T.updateTransform(S, y, b, v);
                x && x.update && w.set(S.uid, 1);
              } else
                w.set(S.uid, 1);
            }), n(y), this._scheduler.performVisualTasks(y, v, {
              setDirty: !0,
              dirtyMap: w
            }), renderSeries(this, y, b, v, {}, w), lifecycle$1.trigger("afterupdate", y, b);
          }
        },
        updateView: function(v) {
          var g = this._model;
          g && (g.setUpdatePayload(v), ChartView$1.markUpdateMethod(v, "updateView"), n(g), this._scheduler.performVisualTasks(g, v, {
            setDirty: !0
          }), render(this, g, this._api, v, {}), lifecycle$1.trigger("afterupdate", g, this._api));
        },
        updateVisual: function(v) {
          var g = this, y = this._model;
          y && (y.setUpdatePayload(v), y.eachSeries(function(b) {
            b.getData().clearAllVisual();
          }), ChartView$1.markUpdateMethod(v, "updateVisual"), n(y), this._scheduler.performVisualTasks(y, v, {
            visualType: "visual",
            setDirty: !0
          }), y.eachComponent(function(b, A) {
            if (b !== "series") {
              var w = g.getViewOfComponentModel(A);
              w && w.__alive && w.updateVisual(A, y, g._api, v);
            }
          }), y.eachSeries(function(b) {
            var A = g._chartsMap[b.__viewId];
            A.updateVisual(b, y, g._api, v);
          }), lifecycle$1.trigger("afterupdate", y, this._api));
        },
        updateLayout: function(v) {
          updateMethods.update.call(this, v);
        }
      }, doConvertPixel = function(v, g, y, b) {
        if (v._disposed) {
          disposedWarning(v.id);
          return;
        }
        for (var A = v._model, w = v._coordSysMgr.getCoordinateSystems(), S, T = parseFinder(A, y), x = 0; x < w.length; x++) {
          var L = w[x];
          if (L[g] && (S = L[g](A, T, b)) != null)
            return S;
        }
        process.env.NODE_ENV !== "production" && warn("No coordinate system that supports " + g + " found by the given finder.");
      }, updateStreamModes = function(v, g) {
        var y = v._chartsMap, b = v._scheduler;
        g.eachSeries(function(A) {
          b.updateStreamModes(A, y[A.__viewId]);
        });
      }, doDispatchAction = function(v, g) {
        var y = this, b = this.getModel(), A = v.type, w = v.escapeConnect, S = actions[A], T = S.actionInfo, x = (T.update || "update").split(":"), L = x.pop(), O = x[0] != null && parseClassType(x[0]);
        this[IN_MAIN_PROCESS_KEY] = !0;
        var M = [v], k = !1;
        v.batch && (k = !0, M = map$1(v.batch, function(_e) {
          return _e = defaults(extend({}, _e), v), _e.batch = null, _e;
        }));
        var ie = [], $, Y = isSelectChangePayload(v), D = isHighDownPayload(v);
        if (D && allLeaveBlur(this._api), each$4(M, function(_e) {
          if ($ = S.action(_e, y._model, y._api), $ = $ || extend({}, _e), $.type = T.event || $.type, ie.push($), D) {
            var ue = preParseFinder(v), Ie = ue.queryOptionMap, ze = ue.mainTypeSpecified, Fe = ze ? Ie.keys()[0] : "series";
            updateDirectly(y, L, _e, Fe), markStatusToUpdate(y);
          } else
            Y ? (updateDirectly(y, L, _e, "series"), markStatusToUpdate(y)) : O && updateDirectly(y, L, _e, O.main, O.sub);
        }), L !== "none" && !D && !Y && !O)
          try {
            this[PENDING_UPDATE] ? (prepare(this), updateMethods.update.call(this, v), this[PENDING_UPDATE] = null) : updateMethods[L].call(this, v);
          } catch (_e) {
            throw this[IN_MAIN_PROCESS_KEY] = !1, _e;
          }
        if (k ? $ = {
          type: T.event || A,
          escapeConnect: w,
          batch: ie
        } : $ = ie[0], this[IN_MAIN_PROCESS_KEY] = !1, !g) {
          var re = this._messageCenter;
          if (re.trigger($.type, $), Y) {
            var F = {
              type: "selectchanged",
              escapeConnect: w,
              selected: getAllSelectedIndices(b),
              isFromClick: v.isFromClick || !1,
              fromAction: v.type,
              fromActionPayload: v
            };
            re.trigger(F.type, F);
          }
        }
      }, flushPendingActions = function(v) {
        for (var g = this._pendingActions; g.length; ) {
          var y = g.shift();
          doDispatchAction.call(this, y, v);
        }
      }, triggerUpdatedEvent = function(v) {
        !v && this.trigger("updated");
      }, bindRenderedEvent = function(v, g) {
        v.on("rendered", function(y) {
          g.trigger("rendered", y), // Although zr is dirty if initial animation is not finished
          // and this checking is called on frame, we also check
          // animation finished for robustness.
          v.animation.isFinished() && !g[PENDING_UPDATE] && !g._scheduler.unfinished && !g._pendingActions.length && g.trigger("finished");
        });
      }, bindMouseEvent = function(v, g) {
        v.on("mouseover", function(y) {
          var b = y.target, A = findEventDispatcher(b, isHighDownDispatcher);
          A && (handleGlobalMouseOverForHighDown(A, y, g._api), markStatusToUpdate(g));
        }).on("mouseout", function(y) {
          var b = y.target, A = findEventDispatcher(b, isHighDownDispatcher);
          A && (handleGlobalMouseOutForHighDown(A, y, g._api), markStatusToUpdate(g));
        }).on("click", function(y) {
          var b = y.target, A = findEventDispatcher(b, function(T) {
            return getECData(T).dataIndex != null;
          }, !0);
          if (A) {
            var w = A.selected ? "unselect" : "select", S = getECData(A);
            g._api.dispatchAction({
              type: w,
              dataType: S.dataType,
              dataIndexInside: S.dataIndex,
              seriesIndex: S.seriesIndex,
              isFromClick: !0
            });
          }
        });
      };
      function n(v) {
        v.clearColorPalette(), v.eachSeries(function(g) {
          g.clearColorPalette();
        });
      }
      function o(v) {
        var g = [], y = [], b = !1;
        if (v.eachComponent(function(T, x) {
          var L = x.get("zlevel") || 0, O = x.get("z") || 0, M = x.getZLevelKey();
          b = b || !!M, (T === "series" ? y : g).push({
            zlevel: L,
            z: O,
            idx: x.componentIndex,
            type: T,
            key: M
          });
        }), b) {
          var A = g.concat(y), w, S;
          sort(A, function(T, x) {
            return T.zlevel === x.zlevel ? T.z - x.z : T.zlevel - x.zlevel;
          }), each$4(A, function(T) {
            var x = v.getComponent(T.type, T.idx), L = T.zlevel, O = T.key;
            w != null && (L = Math.max(w, L)), O ? (L === w && O !== S && L++, S = O) : S && (L === w && L++, S = ""), w = L, x.setZLevel(L);
          });
        }
      }
      render = function(v, g, y, b, A) {
        o(g), renderComponents(v, g, y, b, A), each$4(v._chartsViews, function(w) {
          w.__alive = !1;
        }), renderSeries(v, g, y, b, A), each$4(v._chartsViews, function(w) {
          w.__alive || w.remove(g, y);
        });
      }, renderComponents = function(v, g, y, b, A, w) {
        each$4(w || v._componentsViews, function(S) {
          var T = S.__model;
          p(T, S), S.render(T, g, y, b), d(T, S), _(T, S);
        });
      }, renderSeries = function(v, g, y, b, A, w) {
        var S = v._scheduler;
        A = extend(A || {}, {
          updatedSeries: g.getSeries()
        }), lifecycle$1.trigger("series:beforeupdate", g, y, A);
        var T = !1;
        g.eachSeries(function(x) {
          var L = v._chartsMap[x.__viewId];
          L.__alive = !0;
          var O = L.renderTask;
          S.updatePayload(O, b), p(x, L), w && w.get(x.uid) && O.dirty(), O.perform(S.getPerformArgs(O)) && (T = !0), L.group.silent = !!x.get("silent"), c(x, L), updateSeriesElementSelection(x);
        }), S.unfinished = T || S.unfinished, lifecycle$1.trigger("series:layoutlabels", g, y, A), lifecycle$1.trigger("series:transition", g, y, A), g.eachSeries(function(x) {
          var L = v._chartsMap[x.__viewId];
          d(x, L), _(x, L);
        }), u(v, g), lifecycle$1.trigger("series:afterupdate", g, y, A);
      }, markStatusToUpdate = function(v) {
        v[STATUS_NEEDS_UPDATE_KEY] = !0, v.getZr().wakeUp();
      }, applyChangedStates = function(v) {
        v[STATUS_NEEDS_UPDATE_KEY] && (v.getZr().storage.traverse(function(g) {
          isElementRemoved(g) || a(g);
        }), v[STATUS_NEEDS_UPDATE_KEY] = !1);
      };
      function a(v) {
        for (var g = [], y = v.currentStates, b = 0; b < y.length; b++) {
          var A = y[b];
          A === "emphasis" || A === "blur" || A === "select" || g.push(A);
        }
        v.selected && v.states.select && g.push("select"), v.hoverState === HOVER_STATE_EMPHASIS && v.states.emphasis ? g.push("emphasis") : v.hoverState === HOVER_STATE_BLUR && v.states.blur && g.push("blur"), v.useStates(g);
      }
      function u(v, g) {
        var y = v._zr, b = y.storage, A = 0;
        b.traverse(function(w) {
          w.isGroup || A++;
        }), A > g.get("hoverLayerThreshold") && !env$1.node && !env$1.worker && g.eachSeries(function(w) {
          if (!w.preventUsingHoverLayer) {
            var S = v._chartsMap[w.__viewId];
            S.__alive && S.eachRendered(function(T) {
              T.states.emphasis && (T.states.emphasis.hoverLayer = !0);
            });
          }
        });
      }
      function c(v, g) {
        var y = v.get("blendMode") || null;
        g.eachRendered(function(b) {
          b.isGroup || (b.style.blend = y);
        });
      }
      function d(v, g) {
        if (!v.preventAutoZ) {
          var y = v.get("z") || 0, b = v.get("zlevel") || 0;
          g.eachRendered(function(A) {
            return f(A, y, b, -1 / 0), !0;
          });
        }
      }
      function f(v, g, y, b) {
        var A = v.getTextContent(), w = v.getTextGuideLine(), S = v.isGroup;
        if (S)
          for (var T = v.childrenRef(), x = 0; x < T.length; x++)
            b = Math.max(f(T[x], g, y, b), b);
        else
          v.z = g, v.zlevel = y, b = Math.max(v.z2, b);
        if (A && (A.z = g, A.zlevel = y, isFinite(b) && (A.z2 = b + 2)), w) {
          var L = v.textGuideLineConfig;
          w.z = g, w.zlevel = y, isFinite(b) && (w.z2 = b + (L && L.showAbove ? 1 : -1));
        }
        return b;
      }
      function p(v, g) {
        g.eachRendered(function(y) {
          if (!isElementRemoved(y)) {
            var b = y.getTextContent(), A = y.getTextGuideLine();
            y.stateTransition && (y.stateTransition = null), b && b.stateTransition && (b.stateTransition = null), A && A.stateTransition && (A.stateTransition = null), y.hasState() ? (y.prevStates = y.currentStates, y.clearStates()) : y.prevStates && (y.prevStates = null);
          }
        });
      }
      function _(v, g) {
        var y = v.getModel("stateAnimation"), b = v.isAnimationEnabled(), A = y.get("duration"), w = A > 0 ? {
          duration: A,
          delay: y.get("delay"),
          easing: y.get("easing")
          // additive: stateAnimationModel.get('additive')
        } : null;
        g.eachRendered(function(S) {
          if (S.states && S.states.emphasis) {
            if (isElementRemoved(S))
              return;
            if (S instanceof Path$1 && savePathStates(S), S.__dirty) {
              var T = S.prevStates;
              T && S.useStates(T);
            }
            if (b) {
              S.stateTransition = w;
              var x = S.getTextContent(), L = S.getTextGuideLine();
              x && (x.stateTransition = w), L && (L.stateTransition = w);
            }
            S.__dirty && a(S);
          }
        });
      }
      createExtensionAPI = function(v) {
        return new /** @class */
        (function(g) {
          __extends(y, g);
          function y() {
            return g !== null && g.apply(this, arguments) || this;
          }
          return y.prototype.getCoordinateSystems = function() {
            return v._coordSysMgr.getCoordinateSystems();
          }, y.prototype.getComponentByElement = function(b) {
            for (; b; ) {
              var A = b.__ecComponentInfo;
              if (A != null)
                return v._model.getComponent(A.mainType, A.index);
              b = b.parent;
            }
          }, y.prototype.enterEmphasis = function(b, A) {
            enterEmphasis(b, A), markStatusToUpdate(v);
          }, y.prototype.leaveEmphasis = function(b, A) {
            leaveEmphasis(b, A), markStatusToUpdate(v);
          }, y.prototype.enterBlur = function(b) {
            enterBlur(b), markStatusToUpdate(v);
          }, y.prototype.leaveBlur = function(b) {
            leaveBlur(b), markStatusToUpdate(v);
          }, y.prototype.enterSelect = function(b) {
            enterSelect(b), markStatusToUpdate(v);
          }, y.prototype.leaveSelect = function(b) {
            leaveSelect(b), markStatusToUpdate(v);
          }, y.prototype.getModel = function() {
            return v.getModel();
          }, y.prototype.getViewOfComponentModel = function(b) {
            return v.getViewOfComponentModel(b);
          }, y.prototype.getViewOfSeriesModel = function(b) {
            return v.getViewOfSeriesModel(b);
          }, y;
        }(ExtensionAPI$1))(v);
      };
    }(), r;
  }(Eventful$1)
), echartsProto = ECharts.prototype;
echartsProto.on = createRegisterEventWithLowercaseECharts("on");
echartsProto.off = createRegisterEventWithLowercaseECharts("off");
echartsProto.one = function(i, r, n) {
  var o = this;
  deprecateLog("ECharts#one is deprecated.");
  function a() {
    for (var u = [], c = 0; c < arguments.length; c++)
      u[c] = arguments[c];
    r && r.apply && r.apply(this, u), o.off(i, a);
  }
  this.on.call(this, i, a, n);
};
var MOUSE_EVENT_NAMES = ["click", "dblclick", "mouseover", "mouseout", "mousemove", "mousedown", "mouseup", "globalout", "contextmenu"];
function disposedWarning(i) {
  process.env.NODE_ENV !== "production" && warn("Instance " + i + " has been disposed");
}
var actions = {}, eventActionMap = {}, dataProcessorFuncs = [], optionPreprocessorFuncs = [], visualFuncs = [], themeStorage = {}, loadingEffects = {}, instances = {}, connectedGroups = {}, DOM_ATTRIBUTE_KEY = "_echarts_instance_";
function registerTheme(i, r) {
  themeStorage[i] = r;
}
function registerPreprocessor(i) {
  indexOf(optionPreprocessorFuncs, i) < 0 && optionPreprocessorFuncs.push(i);
}
function registerProcessor(i, r) {
  normalizeRegister(dataProcessorFuncs, i, r, PRIORITY_PROCESSOR_DEFAULT);
}
function registerPostInit(i) {
  registerUpdateLifecycle("afterinit", i);
}
function registerPostUpdate(i) {
  registerUpdateLifecycle("afterupdate", i);
}
function registerUpdateLifecycle(i, r) {
  lifecycle$1.on(i, r);
}
function registerAction(i, r, n) {
  isFunction$1(r) && (n = r, r = "");
  var o = isObject$3(i) ? i.type : [i, i = {
    event: r
  }][0];
  i.event = (i.event || o).toLowerCase(), r = i.event, !eventActionMap[r] && (assert(ACTION_REG.test(o) && ACTION_REG.test(r)), actions[o] || (actions[o] = {
    action: n,
    actionInfo: i
  }), eventActionMap[r] = o);
}
function registerCoordinateSystem(i, r) {
  CoordinateSystem.register(i, r);
}
function registerLayout(i, r) {
  normalizeRegister(visualFuncs, i, r, PRIORITY_VISUAL_LAYOUT, "layout");
}
function registerVisual(i, r) {
  normalizeRegister(visualFuncs, i, r, PRIORITY_VISUAL_CHART, "visual");
}
var registeredTasks = [];
function normalizeRegister(i, r, n, o, a) {
  if ((isFunction$1(r) || isObject$3(r)) && (n = r, r = o), process.env.NODE_ENV !== "production") {
    if (isNaN(r) || r == null)
      throw new Error("Illegal priority");
    each$4(i, function(c) {
      assert(c.__raw !== n);
    });
  }
  if (!(indexOf(registeredTasks, n) >= 0)) {
    registeredTasks.push(n);
    var u = Scheduler$1.wrapStageHandler(n, a);
    u.__prio = r, u.__raw = n, i.push(u);
  }
}
function registerLoading(i, r) {
  loadingEffects[i] = r;
}
function registerMap(i, r, n) {
  var o = getImpl("registerMap");
  o && o(i, r, n);
}
var registerTransform = registerExternalTransform;
registerVisual(PRIORITY_VISUAL_GLOBAL, seriesStyleTask);
registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM, dataStyleTask);
registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM, dataColorPaletteTask);
registerVisual(PRIORITY_VISUAL_GLOBAL, seriesSymbolTask);
registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM, dataSymbolTask);
registerVisual(PRIORITY_VISUAL_DECAL, decalVisual);
registerPreprocessor(globalBackwardCompat);
registerProcessor(PRIORITY_PROCESSOR_DATASTACK, dataStack);
registerLoading("default", defaultLoading);
registerAction({
  type: HIGHLIGHT_ACTION_TYPE,
  event: HIGHLIGHT_ACTION_TYPE,
  update: HIGHLIGHT_ACTION_TYPE
}, noop$1);
registerAction({
  type: DOWNPLAY_ACTION_TYPE,
  event: DOWNPLAY_ACTION_TYPE,
  update: DOWNPLAY_ACTION_TYPE
}, noop$1);
registerAction({
  type: SELECT_ACTION_TYPE,
  event: SELECT_ACTION_TYPE,
  update: SELECT_ACTION_TYPE
}, noop$1);
registerAction({
  type: UNSELECT_ACTION_TYPE,
  event: UNSELECT_ACTION_TYPE,
  update: UNSELECT_ACTION_TYPE
}, noop$1);
registerAction({
  type: TOGGLE_SELECT_ACTION_TYPE,
  event: TOGGLE_SELECT_ACTION_TYPE,
  update: TOGGLE_SELECT_ACTION_TYPE
}, noop$1);
registerTheme("light", lightTheme);
registerTheme("dark", darkTheme);
function dataIndexMapValueLength(i) {
  return i == null ? 0 : i.length || 1;
}
function defaultKeyGetter(i) {
  return i;
}
var DataDiffer = (
  /** @class */
  function() {
    function i(r, n, o, a, u, c) {
      this._old = r, this._new = n, this._oldKeyGetter = o || defaultKeyGetter, this._newKeyGetter = a || defaultKeyGetter, this.context = u, this._diffModeMultiple = c === "multiple";
    }
    return i.prototype.add = function(r) {
      return this._add = r, this;
    }, i.prototype.update = function(r) {
      return this._update = r, this;
    }, i.prototype.updateManyToOne = function(r) {
      return this._updateManyToOne = r, this;
    }, i.prototype.updateOneToMany = function(r) {
      return this._updateOneToMany = r, this;
    }, i.prototype.updateManyToMany = function(r) {
      return this._updateManyToMany = r, this;
    }, i.prototype.remove = function(r) {
      return this._remove = r, this;
    }, i.prototype.execute = function() {
      this[this._diffModeMultiple ? "_executeMultiple" : "_executeOneToOne"]();
    }, i.prototype._executeOneToOne = function() {
      var r = this._old, n = this._new, o = {}, a = new Array(r.length), u = new Array(n.length);
      this._initIndexMap(r, null, a, "_oldKeyGetter"), this._initIndexMap(n, o, u, "_newKeyGetter");
      for (var c = 0; c < r.length; c++) {
        var d = a[c], f = o[d], p = dataIndexMapValueLength(f);
        if (p > 1) {
          var _ = f.shift();
          f.length === 1 && (o[d] = f[0]), this._update && this._update(_, c);
        } else
          p === 1 ? (o[d] = null, this._update && this._update(f, c)) : this._remove && this._remove(c);
      }
      this._performRestAdd(u, o);
    }, i.prototype._executeMultiple = function() {
      var r = this._old, n = this._new, o = {}, a = {}, u = [], c = [];
      this._initIndexMap(r, o, u, "_oldKeyGetter"), this._initIndexMap(n, a, c, "_newKeyGetter");
      for (var d = 0; d < u.length; d++) {
        var f = u[d], p = o[f], _ = a[f], v = dataIndexMapValueLength(p), g = dataIndexMapValueLength(_);
        if (v > 1 && g === 1)
          this._updateManyToOne && this._updateManyToOne(_, p), a[f] = null;
        else if (v === 1 && g > 1)
          this._updateOneToMany && this._updateOneToMany(_, p), a[f] = null;
        else if (v === 1 && g === 1)
          this._update && this._update(_, p), a[f] = null;
        else if (v > 1 && g > 1)
          this._updateManyToMany && this._updateManyToMany(_, p), a[f] = null;
        else if (v > 1)
          for (var y = 0; y < v; y++)
            this._remove && this._remove(p[y]);
        else
          this._remove && this._remove(p);
      }
      this._performRestAdd(c, a);
    }, i.prototype._performRestAdd = function(r, n) {
      for (var o = 0; o < r.length; o++) {
        var a = r[o], u = n[a], c = dataIndexMapValueLength(u);
        if (c > 1)
          for (var d = 0; d < c; d++)
            this._add && this._add(u[d]);
        else
          c === 1 && this._add && this._add(u);
        n[a] = null;
      }
    }, i.prototype._initIndexMap = function(r, n, o, a) {
      for (var u = this._diffModeMultiple, c = 0; c < r.length; c++) {
        var d = "_ec_" + this[a](r[c], c);
        if (u || (o[c] = d), !!n) {
          var f = n[d], p = dataIndexMapValueLength(f);
          p === 0 ? (n[d] = c, u && o.push(d)) : p === 1 ? n[d] = [f, c] : f.push(c);
        }
      }
    }, i;
  }()
);
const DataDiffer$1 = DataDiffer;
var DimensionUserOuput = (
  /** @class */
  function() {
    function i(r, n) {
      this._encode = r, this._schema = n;
    }
    return i.prototype.get = function() {
      return {
        // Do not generate full dimension name until fist used.
        fullDimensions: this._getFullDimensionNames(),
        encode: this._encode
      };
    }, i.prototype._getFullDimensionNames = function() {
      return this._cachedDimNames || (this._cachedDimNames = this._schema ? this._schema.makeOutputDimensionNames() : []), this._cachedDimNames;
    }, i;
  }()
);
function summarizeDimensions(i, r) {
  var n = {}, o = n.encode = {}, a = createHashMap(), u = [], c = [], d = {};
  each$4(i.dimensions, function(g) {
    var y = i.getDimensionInfo(g), b = y.coordDim;
    if (b) {
      process.env.NODE_ENV !== "production" && assert(VISUAL_DIMENSIONS.get(b) == null);
      var A = y.coordDimIndex;
      getOrCreateEncodeArr(o, b)[A] = g, y.isExtraCoord || (a.set(b, 1), mayLabelDimType(y.type) && (u[0] = g), getOrCreateEncodeArr(d, b)[A] = i.getDimensionIndex(y.name)), y.defaultTooltip && c.push(g);
    }
    VISUAL_DIMENSIONS.each(function(w, S) {
      var T = getOrCreateEncodeArr(o, S), x = y.otherDims[S];
      x != null && x !== !1 && (T[x] = y.name);
    });
  });
  var f = [], p = {};
  a.each(function(g, y) {
    var b = o[y];
    p[y] = b[0], f = f.concat(b);
  }), n.dataDimsOnCoord = f, n.dataDimIndicesOnCoord = map$1(f, function(g) {
    return i.getDimensionInfo(g).storeDimIndex;
  }), n.encodeFirstDimNotExtra = p;
  var _ = o.label;
  _ && _.length && (u = _.slice());
  var v = o.tooltip;
  return v && v.length ? c = v.slice() : c.length || (c = u.slice()), o.defaultedLabel = u, o.defaultedTooltip = c, n.userOutput = new DimensionUserOuput(d, r), n;
}
function getOrCreateEncodeArr(i, r) {
  return i.hasOwnProperty(r) || (i[r] = []), i[r];
}
function mayLabelDimType(i) {
  return !(i === "ordinal" || i === "time");
}
var SeriesDimensionDefine = (
  /** @class */
  function() {
    function i(r) {
      this.otherDims = {}, r != null && extend(this, r);
    }
    return i;
  }()
);
const SeriesDimensionDefine$1 = SeriesDimensionDefine;
var inner$3 = makeInner(), dimTypeShort = {
  float: "f",
  int: "i",
  ordinal: "o",
  number: "n",
  time: "t"
}, SeriesDataSchema = (
  /** @class */
  function() {
    function i(r) {
      this.dimensions = r.dimensions, this._dimOmitted = r.dimensionOmitted, this.source = r.source, this._fullDimCount = r.fullDimensionCount, this._updateDimOmitted(r.dimensionOmitted);
    }
    return i.prototype.isDimensionOmitted = function() {
      return this._dimOmitted;
    }, i.prototype._updateDimOmitted = function(r) {
      this._dimOmitted = r, r && (this._dimNameMap || (this._dimNameMap = ensureSourceDimNameMap(this.source)));
    }, i.prototype.getSourceDimensionIndex = function(r) {
      return retrieve2(this._dimNameMap.get(r), -1);
    }, i.prototype.getSourceDimension = function(r) {
      var n = this.source.dimensionsDefine;
      if (n)
        return n[r];
    }, i.prototype.makeStoreSchema = function() {
      for (var r = this._fullDimCount, n = shouldRetrieveDataByName(this.source), o = !shouldOmitUnusedDimensions(r), a = "", u = [], c = 0, d = 0; c < r; c++) {
        var f = void 0, p = void 0, _ = void 0, v = this.dimensions[d];
        if (v && v.storeDimIndex === c)
          f = n ? v.name : null, p = v.type, _ = v.ordinalMeta, d++;
        else {
          var g = this.getSourceDimension(c);
          g && (f = n ? g.name : null, p = g.type);
        }
        u.push({
          property: f,
          type: p,
          ordinalMeta: _
        }), n && f != null && (!v || !v.isCalculationCoord) && (a += o ? f.replace(/\`/g, "`1").replace(/\$/g, "`2") : f), a += "$", a += dimTypeShort[p] || "f", _ && (a += _.uid), a += "$";
      }
      var y = this.source, b = [y.seriesLayoutBy, y.startIndex, a].join("$$");
      return {
        dimensions: u,
        hash: b
      };
    }, i.prototype.makeOutputDimensionNames = function() {
      for (var r = [], n = 0, o = 0; n < this._fullDimCount; n++) {
        var a = void 0, u = this.dimensions[o];
        if (u && u.storeDimIndex === n)
          u.isCalculationCoord || (a = u.name), o++;
        else {
          var c = this.getSourceDimension(n);
          c && (a = c.name);
        }
        r.push(a);
      }
      return r;
    }, i.prototype.appendCalculationDimension = function(r) {
      this.dimensions.push(r), r.isCalculationCoord = !0, this._fullDimCount++, this._updateDimOmitted(!0);
    }, i;
  }()
);
function isSeriesDataSchema(i) {
  return i instanceof SeriesDataSchema;
}
function createDimNameMap(i) {
  for (var r = createHashMap(), n = 0; n < (i || []).length; n++) {
    var o = i[n], a = isObject$3(o) ? o.name : o;
    a != null && r.get(a) == null && r.set(a, n);
  }
  return r;
}
function ensureSourceDimNameMap(i) {
  var r = inner$3(i);
  return r.dimNameMap || (r.dimNameMap = createDimNameMap(i.dimensionsDefine));
}
function shouldOmitUnusedDimensions(i) {
  return i > 30;
}
var isObject$1 = isObject$3, map = map$1, CtorInt32Array = typeof Int32Array > "u" ? Array : Int32Array, ID_PREFIX = "e\0\0", INDEX_NOT_FOUND = -1, TRANSFERABLE_PROPERTIES = ["hasItemOption", "_nameList", "_idList", "_invertedIndicesMap", "_dimSummary", "userOutput", "_rawData", "_dimValueGetter", "_nameDimIdx", "_idDimIdx", "_nameRepeatCount"], CLONE_PROPERTIES = ["_approximateExtent"], prepareInvertedIndex, getId, getIdNameFromStore, normalizeDimensions, transferProperties, cloneListForMapAndSample, makeIdFromName, SeriesData = (
  /** @class */
  function() {
    function i(r, n) {
      this.type = "list", this._dimOmitted = !1, this._nameList = [], this._idList = [], this._visual = {}, this._layout = {}, this._itemVisuals = [], this._itemLayouts = [], this._graphicEls = [], this._approximateExtent = {}, this._calculationInfo = {}, this.hasItemOption = !1, this.TRANSFERABLE_METHODS = ["cloneShallow", "downSample", "lttbDownSample", "map"], this.CHANGABLE_METHODS = ["filterSelf", "selectRange"], this.DOWNSAMPLE_METHODS = ["downSample", "lttbDownSample"];
      var o, a = !1;
      isSeriesDataSchema(r) ? (o = r.dimensions, this._dimOmitted = r.isDimensionOmitted(), this._schema = r) : (a = !0, o = r), o = o || ["x", "y"];
      for (var u = {}, c = [], d = {}, f = !1, p = {}, _ = 0; _ < o.length; _++) {
        var v = o[_], g = isString$2(v) ? new SeriesDimensionDefine$1({
          name: v
        }) : v instanceof SeriesDimensionDefine$1 ? v : new SeriesDimensionDefine$1(v), y = g.name;
        g.type = g.type || "float", g.coordDim || (g.coordDim = y, g.coordDimIndex = 0);
        var b = g.otherDims = g.otherDims || {};
        c.push(y), u[y] = g, p[y] != null && (f = !0), g.createInvertedIndices && (d[y] = []), b.itemName === 0 && (this._nameDimIdx = _), b.itemId === 0 && (this._idDimIdx = _), process.env.NODE_ENV !== "production" && assert(a || g.storeDimIndex >= 0), a && (g.storeDimIndex = _);
      }
      if (this.dimensions = c, this._dimInfos = u, this._initGetDimensionInfo(f), this.hostModel = n, this._invertedIndicesMap = d, this._dimOmitted) {
        var A = this._dimIdxToName = createHashMap();
        each$4(c, function(w) {
          A.set(u[w].storeDimIndex, w);
        });
      }
    }
    return i.prototype.getDimension = function(r) {
      var n = this._recognizeDimIndex(r);
      if (n == null)
        return r;
      if (n = r, !this._dimOmitted)
        return this.dimensions[n];
      var o = this._dimIdxToName.get(n);
      if (o != null)
        return o;
      var a = this._schema.getSourceDimension(n);
      if (a)
        return a.name;
    }, i.prototype.getDimensionIndex = function(r) {
      var n = this._recognizeDimIndex(r);
      if (n != null)
        return n;
      if (r == null)
        return -1;
      var o = this._getDimInfo(r);
      return o ? o.storeDimIndex : this._dimOmitted ? this._schema.getSourceDimensionIndex(r) : -1;
    }, i.prototype._recognizeDimIndex = function(r) {
      if (isNumber$1(r) || r != null && !isNaN(r) && !this._getDimInfo(r) && (!this._dimOmitted || this._schema.getSourceDimensionIndex(r) < 0))
        return +r;
    }, i.prototype._getStoreDimIndex = function(r) {
      var n = this.getDimensionIndex(r);
      if (process.env.NODE_ENV !== "production" && n == null)
        throw new Error("Unknown dimension " + r);
      return n;
    }, i.prototype.getDimensionInfo = function(r) {
      return this._getDimInfo(this.getDimension(r));
    }, i.prototype._initGetDimensionInfo = function(r) {
      var n = this._dimInfos;
      this._getDimInfo = r ? function(o) {
        return n.hasOwnProperty(o) ? n[o] : void 0;
      } : function(o) {
        return n[o];
      };
    }, i.prototype.getDimensionsOnCoord = function() {
      return this._dimSummary.dataDimsOnCoord.slice();
    }, i.prototype.mapDimension = function(r, n) {
      var o = this._dimSummary;
      if (n == null)
        return o.encodeFirstDimNotExtra[r];
      var a = o.encode[r];
      return a ? a[n] : null;
    }, i.prototype.mapDimensionsAll = function(r) {
      var n = this._dimSummary, o = n.encode[r];
      return (o || []).slice();
    }, i.prototype.getStore = function() {
      return this._store;
    }, i.prototype.initData = function(r, n, o) {
      var a = this, u;
      if (r instanceof DataStore && (u = r), !u) {
        var c = this.dimensions, d = isSourceInstance(r) || isArrayLike(r) ? new DefaultDataProvider(r, c.length) : r;
        u = new DataStore();
        var f = map(c, function(p) {
          return {
            type: a._dimInfos[p].type,
            property: p
          };
        });
        u.initData(d, f, o);
      }
      this._store = u, this._nameList = (n || []).slice(), this._idList = [], this._nameRepeatCount = {}, this._doInit(0, u.count()), this._dimSummary = summarizeDimensions(this, this._schema), this.userOutput = this._dimSummary.userOutput;
    }, i.prototype.appendData = function(r) {
      var n = this._store.appendData(r);
      this._doInit(n[0], n[1]);
    }, i.prototype.appendValues = function(r, n) {
      var o = this._store.appendValues(r, n.length), a = o.start, u = o.end, c = this._shouldMakeIdFromName();
      if (this._updateOrdinalMeta(), n)
        for (var d = a; d < u; d++) {
          var f = d - a;
          this._nameList[d] = n[f], c && makeIdFromName(this, d);
        }
    }, i.prototype._updateOrdinalMeta = function() {
      for (var r = this._store, n = this.dimensions, o = 0; o < n.length; o++) {
        var a = this._dimInfos[n[o]];
        a.ordinalMeta && r.collectOrdinalMeta(a.storeDimIndex, a.ordinalMeta);
      }
    }, i.prototype._shouldMakeIdFromName = function() {
      var r = this._store.getProvider();
      return this._idDimIdx == null && r.getSource().sourceFormat !== SOURCE_FORMAT_TYPED_ARRAY && !r.fillStorage;
    }, i.prototype._doInit = function(r, n) {
      if (!(r >= n)) {
        var o = this._store, a = o.getProvider();
        this._updateOrdinalMeta();
        var u = this._nameList, c = this._idList, d = a.getSource().sourceFormat, f = d === SOURCE_FORMAT_ORIGINAL;
        if (f && !a.pure)
          for (var p = [], _ = r; _ < n; _++) {
            var v = a.getItem(_, p);
            if (!this.hasItemOption && isDataItemOption(v) && (this.hasItemOption = !0), v) {
              var g = v.name;
              u[_] == null && g != null && (u[_] = convertOptionIdName(g, null));
              var y = v.id;
              c[_] == null && y != null && (c[_] = convertOptionIdName(y, null));
            }
          }
        if (this._shouldMakeIdFromName())
          for (var _ = r; _ < n; _++)
            makeIdFromName(this, _);
        prepareInvertedIndex(this);
      }
    }, i.prototype.getApproximateExtent = function(r) {
      return this._approximateExtent[r] || this._store.getDataExtent(this._getStoreDimIndex(r));
    }, i.prototype.setApproximateExtent = function(r, n) {
      n = this.getDimension(n), this._approximateExtent[n] = r.slice();
    }, i.prototype.getCalculationInfo = function(r) {
      return this._calculationInfo[r];
    }, i.prototype.setCalculationInfo = function(r, n) {
      isObject$1(r) ? extend(this._calculationInfo, r) : this._calculationInfo[r] = n;
    }, i.prototype.getName = function(r) {
      var n = this.getRawIndex(r), o = this._nameList[n];
      return o == null && this._nameDimIdx != null && (o = getIdNameFromStore(this, this._nameDimIdx, n)), o == null && (o = ""), o;
    }, i.prototype._getCategory = function(r, n) {
      var o = this._store.get(r, n), a = this._store.getOrdinalMeta(r);
      return a ? a.categories[o] : o;
    }, i.prototype.getId = function(r) {
      return getId(this, this.getRawIndex(r));
    }, i.prototype.count = function() {
      return this._store.count();
    }, i.prototype.get = function(r, n) {
      var o = this._store, a = this._dimInfos[r];
      if (a)
        return o.get(a.storeDimIndex, n);
    }, i.prototype.getByRawIndex = function(r, n) {
      var o = this._store, a = this._dimInfos[r];
      if (a)
        return o.getByRawIndex(a.storeDimIndex, n);
    }, i.prototype.getIndices = function() {
      return this._store.getIndices();
    }, i.prototype.getDataExtent = function(r) {
      return this._store.getDataExtent(this._getStoreDimIndex(r));
    }, i.prototype.getSum = function(r) {
      return this._store.getSum(this._getStoreDimIndex(r));
    }, i.prototype.getMedian = function(r) {
      return this._store.getMedian(this._getStoreDimIndex(r));
    }, i.prototype.getValues = function(r, n) {
      var o = this, a = this._store;
      return isArray$1(r) ? a.getValues(map(r, function(u) {
        return o._getStoreDimIndex(u);
      }), n) : a.getValues(r);
    }, i.prototype.hasValue = function(r) {
      for (var n = this._dimSummary.dataDimIndicesOnCoord, o = 0, a = n.length; o < a; o++)
        if (isNaN(this._store.get(n[o], r)))
          return !1;
      return !0;
    }, i.prototype.indexOfName = function(r) {
      for (var n = 0, o = this._store.count(); n < o; n++)
        if (this.getName(n) === r)
          return n;
      return -1;
    }, i.prototype.getRawIndex = function(r) {
      return this._store.getRawIndex(r);
    }, i.prototype.indexOfRawIndex = function(r) {
      return this._store.indexOfRawIndex(r);
    }, i.prototype.rawIndexOf = function(r, n) {
      var o = r && this._invertedIndicesMap[r];
      if (process.env.NODE_ENV !== "production" && !o)
        throw new Error("Do not supported yet");
      var a = o[n];
      return a == null || isNaN(a) ? INDEX_NOT_FOUND : a;
    }, i.prototype.indicesOfNearest = function(r, n, o) {
      return this._store.indicesOfNearest(this._getStoreDimIndex(r), n, o);
    }, i.prototype.each = function(r, n, o) {
      isFunction$1(r) && (o = n, n = r, r = []);
      var a = o || this, u = map(normalizeDimensions(r), this._getStoreDimIndex, this);
      this._store.each(u, a ? bind$1(n, a) : n);
    }, i.prototype.filterSelf = function(r, n, o) {
      isFunction$1(r) && (o = n, n = r, r = []);
      var a = o || this, u = map(normalizeDimensions(r), this._getStoreDimIndex, this);
      return this._store = this._store.filter(u, a ? bind$1(n, a) : n), this;
    }, i.prototype.selectRange = function(r) {
      var n = this, o = {}, a = keys(r);
      return each$4(a, function(u) {
        var c = n._getStoreDimIndex(u);
        o[c] = r[u];
      }), this._store = this._store.selectRange(o), this;
    }, i.prototype.mapArray = function(r, n, o) {
      isFunction$1(r) && (o = n, n = r, r = []), o = o || this;
      var a = [];
      return this.each(r, function() {
        a.push(n && n.apply(this, arguments));
      }, o), a;
    }, i.prototype.map = function(r, n, o, a) {
      var u = o || a || this, c = map(normalizeDimensions(r), this._getStoreDimIndex, this), d = cloneListForMapAndSample(this);
      return d._store = this._store.map(c, u ? bind$1(n, u) : n), d;
    }, i.prototype.modify = function(r, n, o, a) {
      var u = this, c = o || a || this;
      process.env.NODE_ENV !== "production" && each$4(normalizeDimensions(r), function(f) {
        var p = u.getDimensionInfo(f);
        p.isCalculationCoord || console.error("Danger: only stack dimension can be modified");
      });
      var d = map(normalizeDimensions(r), this._getStoreDimIndex, this);
      this._store.modify(d, c ? bind$1(n, c) : n);
    }, i.prototype.downSample = function(r, n, o, a) {
      var u = cloneListForMapAndSample(this);
      return u._store = this._store.downSample(this._getStoreDimIndex(r), n, o, a), u;
    }, i.prototype.lttbDownSample = function(r, n) {
      var o = cloneListForMapAndSample(this);
      return o._store = this._store.lttbDownSample(this._getStoreDimIndex(r), n), o;
    }, i.prototype.getRawDataItem = function(r) {
      return this._store.getRawDataItem(r);
    }, i.prototype.getItemModel = function(r) {
      var n = this.hostModel, o = this.getRawDataItem(r);
      return new Model$1(o, n, n && n.ecModel);
    }, i.prototype.diff = function(r) {
      var n = this;
      return new DataDiffer$1(r ? r.getStore().getIndices() : [], this.getStore().getIndices(), function(o) {
        return getId(r, o);
      }, function(o) {
        return getId(n, o);
      });
    }, i.prototype.getVisual = function(r) {
      var n = this._visual;
      return n && n[r];
    }, i.prototype.setVisual = function(r, n) {
      this._visual = this._visual || {}, isObject$1(r) ? extend(this._visual, r) : this._visual[r] = n;
    }, i.prototype.getItemVisual = function(r, n) {
      var o = this._itemVisuals[r], a = o && o[n];
      return a ?? this.getVisual(n);
    }, i.prototype.hasItemVisual = function() {
      return this._itemVisuals.length > 0;
    }, i.prototype.ensureUniqueItemVisual = function(r, n) {
      var o = this._itemVisuals, a = o[r];
      a || (a = o[r] = {});
      var u = a[n];
      return u == null && (u = this.getVisual(n), isArray$1(u) ? u = u.slice() : isObject$1(u) && (u = extend({}, u)), a[n] = u), u;
    }, i.prototype.setItemVisual = function(r, n, o) {
      var a = this._itemVisuals[r] || {};
      this._itemVisuals[r] = a, isObject$1(n) ? extend(a, n) : a[n] = o;
    }, i.prototype.clearAllVisual = function() {
      this._visual = {}, this._itemVisuals = [];
    }, i.prototype.setLayout = function(r, n) {
      isObject$1(r) ? extend(this._layout, r) : this._layout[r] = n;
    }, i.prototype.getLayout = function(r) {
      return this._layout[r];
    }, i.prototype.getItemLayout = function(r) {
      return this._itemLayouts[r];
    }, i.prototype.setItemLayout = function(r, n, o) {
      this._itemLayouts[r] = o ? extend(this._itemLayouts[r] || {}, n) : n;
    }, i.prototype.clearItemLayouts = function() {
      this._itemLayouts.length = 0;
    }, i.prototype.setItemGraphicEl = function(r, n) {
      var o = this.hostModel && this.hostModel.seriesIndex;
      setCommonECData(o, this.dataType, r, n), this._graphicEls[r] = n;
    }, i.prototype.getItemGraphicEl = function(r) {
      return this._graphicEls[r];
    }, i.prototype.eachItemGraphicEl = function(r, n) {
      each$4(this._graphicEls, function(o, a) {
        o && r && r.call(n, o, a);
      });
    }, i.prototype.cloneShallow = function(r) {
      return r || (r = new i(this._schema ? this._schema : map(this.dimensions, this._getDimInfo, this), this.hostModel)), transferProperties(r, this), r._store = this._store, r;
    }, i.prototype.wrapMethod = function(r, n) {
      var o = this[r];
      isFunction$1(o) && (this.__wrappedMethods = this.__wrappedMethods || [], this.__wrappedMethods.push(r), this[r] = function() {
        var a = o.apply(this, arguments);
        return n.apply(this, [a].concat(slice(arguments)));
      });
    }, i.internalField = function() {
      prepareInvertedIndex = function(r) {
        var n = r._invertedIndicesMap;
        each$4(n, function(o, a) {
          var u = r._dimInfos[a], c = u.ordinalMeta, d = r._store;
          if (c) {
            o = n[a] = new CtorInt32Array(c.categories.length);
            for (var f = 0; f < o.length; f++)
              o[f] = INDEX_NOT_FOUND;
            for (var f = 0; f < d.count(); f++)
              o[d.get(u.storeDimIndex, f)] = f;
          }
        });
      }, getIdNameFromStore = function(r, n, o) {
        return convertOptionIdName(r._getCategory(n, o), null);
      }, getId = function(r, n) {
        var o = r._idList[n];
        return o == null && r._idDimIdx != null && (o = getIdNameFromStore(r, r._idDimIdx, n)), o == null && (o = ID_PREFIX + n), o;
      }, normalizeDimensions = function(r) {
        return isArray$1(r) || (r = r != null ? [r] : []), r;
      }, cloneListForMapAndSample = function(r) {
        var n = new i(r._schema ? r._schema : map(r.dimensions, r._getDimInfo, r), r.hostModel);
        return transferProperties(n, r), n;
      }, transferProperties = function(r, n) {
        each$4(TRANSFERABLE_PROPERTIES.concat(n.__wrappedMethods || []), function(o) {
          n.hasOwnProperty(o) && (r[o] = n[o]);
        }), r.__wrappedMethods = n.__wrappedMethods, each$4(CLONE_PROPERTIES, function(o) {
          r[o] = clone$2(n[o]);
        }), r._calculationInfo = extend({}, n._calculationInfo);
      }, makeIdFromName = function(r, n) {
        var o = r._nameList, a = r._idList, u = r._nameDimIdx, c = r._idDimIdx, d = o[n], f = a[n];
        if (d == null && u != null && (o[n] = d = getIdNameFromStore(r, u, n)), f == null && c != null && (a[n] = f = getIdNameFromStore(r, c, n)), f == null && d != null) {
          var p = r._nameRepeatCount, _ = p[d] = (p[d] || 0) + 1;
          f = d, _ > 1 && (f += "__ec__" + _), a[n] = f;
        }
      };
    }(), i;
  }()
);
const SeriesData$1 = SeriesData;
function prepareSeriesDataSchema(i, r) {
  isSourceInstance(i) || (i = createSourceFromSeriesDataOption(i)), r = r || {};
  var n = r.coordDimensions || [], o = r.dimensionsDefine || i.dimensionsDefine || [], a = createHashMap(), u = [], c = getDimCount(i, n, o, r.dimensionsCount), d = r.canOmitUnusedDimensions && shouldOmitUnusedDimensions(c), f = o === i.dimensionsDefine, p = f ? ensureSourceDimNameMap(i) : createDimNameMap(o), _ = r.encodeDefine;
  !_ && r.encodeDefaulter && (_ = r.encodeDefaulter(i, c));
  for (var v = createHashMap(_), g = new CtorInt32Array$1(c), y = 0; y < g.length; y++)
    g[y] = -1;
  function b($) {
    var Y = g[$];
    if (Y < 0) {
      var D = o[$], re = isObject$3(D) ? D : {
        name: D
      }, F = new SeriesDimensionDefine$1(), _e = re.name;
      _e != null && p.get(_e) != null && (F.name = F.displayName = _e), re.type != null && (F.type = re.type), re.displayName != null && (F.displayName = re.displayName);
      var ue = u.length;
      return g[$] = ue, F.storeDimIndex = $, u.push(F), F;
    }
    return u[Y];
  }
  if (!d)
    for (var y = 0; y < c; y++)
      b(y);
  v.each(function($, Y) {
    var D = normalizeToArray($).slice();
    if (D.length === 1 && !isString$2(D[0]) && D[0] < 0) {
      v.set(Y, !1);
      return;
    }
    var re = v.set(Y, []);
    each$4(D, function(F, _e) {
      var ue = isString$2(F) ? p.get(F) : F;
      ue != null && ue < c && (re[_e] = ue, w(b(ue), Y, _e));
    });
  });
  var A = 0;
  each$4(n, function($) {
    var Y, D, re, F;
    if (isString$2($))
      Y = $, F = {};
    else {
      F = $, Y = F.name;
      var _e = F.ordinalMeta;
      F.ordinalMeta = null, F = extend({}, F), F.ordinalMeta = _e, D = F.dimsDef, re = F.otherDims, F.name = F.coordDim = F.coordDimIndex = F.dimsDef = F.otherDims = null;
    }
    var ue = v.get(Y);
    if (ue !== !1) {
      if (ue = normalizeToArray(ue), !ue.length)
        for (var Ie = 0; Ie < (D && D.length || 1); Ie++) {
          for (; A < c && b(A).coordDim != null; )
            A++;
          A < c && ue.push(A++);
        }
      each$4(ue, function(ze, Fe) {
        var Oe = b(ze);
        if (f && F.type != null && (Oe.type = F.type), w(defaults(Oe, F), Y, Fe), Oe.name == null && D) {
          var Lt = D[Fe];
          !isObject$3(Lt) && (Lt = {
            name: Lt
          }), Oe.name = Oe.displayName = Lt.name, Oe.defaultTooltip = Lt.defaultTooltip;
        }
        re && defaults(Oe.otherDims, re);
      });
    }
  });
  function w($, Y, D) {
    VISUAL_DIMENSIONS.get(Y) != null ? $.otherDims[Y] = D : ($.coordDim = Y, $.coordDimIndex = D, a.set(Y, !0));
  }
  var S = r.generateCoord, T = r.generateCoordCount, x = T != null;
  T = S ? T || 1 : 0;
  var L = S || "value";
  function O($) {
    $.name == null && ($.name = $.coordDim);
  }
  if (d)
    each$4(u, function($) {
      O($);
    }), u.sort(function($, Y) {
      return $.storeDimIndex - Y.storeDimIndex;
    });
  else
    for (var M = 0; M < c; M++) {
      var k = b(M), ie = k.coordDim;
      ie == null && (k.coordDim = genCoordDimName(L, a, x), k.coordDimIndex = 0, (!S || T <= 0) && (k.isExtraCoord = !0), T--), O(k), k.type == null && (guessOrdinal(i, M) === BE_ORDINAL.Must || k.isExtraCoord && (k.otherDims.itemName != null || k.otherDims.seriesName != null)) && (k.type = "ordinal");
    }
  return removeDuplication(u), new SeriesDataSchema({
    source: i,
    dimensions: u,
    fullDimensionCount: c,
    dimensionOmitted: d
  });
}
function removeDuplication(i) {
  for (var r = createHashMap(), n = 0; n < i.length; n++) {
    var o = i[n], a = o.name, u = r.get(a) || 0;
    u > 0 && (o.name = a + (u - 1)), u++, r.set(a, u);
  }
}
function getDimCount(i, r, n, o) {
  var a = Math.max(i.dimensionsDetectedCount || 1, r.length, n.length, o || 0);
  return each$4(r, function(u) {
    var c;
    isObject$3(u) && (c = u.dimsDef) && (a = Math.max(a, c.length));
  }), a;
}
function genCoordDimName(i, r, n) {
  if (n || r.hasKey(i)) {
    for (var o = 0; r.hasKey(i + o); )
      o++;
    i += o;
  }
  return r.set(i, !0), i;
}
function getAxisRawValue(i, r) {
  return i.type === "category" ? i.scale.getLabel(r) : r.value;
}
function getOptionCategoryInterval(i) {
  var r = i.get("interval");
  return r ?? "auto";
}
function shouldShowAllLabels(i) {
  return i.type === "category" && getOptionCategoryInterval(i.getLabelModel()) === 0;
}
var extensions = [], extensionRegisters = {
  registerPreprocessor,
  registerProcessor,
  registerPostInit,
  registerPostUpdate,
  registerUpdateLifecycle,
  registerAction,
  registerCoordinateSystem,
  registerLayout,
  registerVisual,
  registerTransform,
  registerLoading,
  registerMap,
  registerImpl,
  PRIORITY,
  ComponentModel: ComponentModel$1,
  ComponentView: ComponentView$1,
  SeriesModel: SeriesModel$1,
  ChartView: ChartView$1,
  // TODO Use ComponentModel and SeriesModel instead of Constructor
  registerComponentModel: function(i) {
    ComponentModel$1.registerClass(i);
  },
  registerComponentView: function(i) {
    ComponentView$1.registerClass(i);
  },
  registerSeriesModel: function(i) {
    SeriesModel$1.registerClass(i);
  },
  registerChartView: function(i) {
    ChartView$1.registerClass(i);
  },
  registerSubTypeDefaulter: function(i, r) {
    ComponentModel$1.registerSubTypeDefaulter(i, r);
  },
  registerPainter: function(i, r) {
    registerPainter(i, r);
  }
};
function use(i) {
  if (isArray$1(i)) {
    each$4(i, function(r) {
      use(r);
    });
    return;
  }
  indexOf(extensions, i) >= 0 || (extensions.push(i), isFunction$1(i) && (i = {
    install: i
  }), i.install(extensionRegisters));
}
function projectPointToLine(i, r, n, o, a, u, c, d) {
  var f = a - i, p = u - r, _ = n - i, v = o - r, g = Math.sqrt(_ * _ + v * v);
  _ /= g, v /= g;
  var y = f * _ + p * v, b = y / g;
  d && (b = Math.min(Math.max(b, 0), 1)), b *= g;
  var A = c[0] = i + b * _, w = c[1] = r + b * v;
  return Math.sqrt((A - a) * (A - a) + (w - u) * (w - u));
}
var pt0 = new Point$1(), pt1 = new Point$1(), pt2 = new Point$1(), dir = new Point$1(), dir2 = new Point$1(), tmpArr = [], tmpProjPoint = new Point$1();
function limitTurnAngle(i, r) {
  if (r <= 180 && r > 0) {
    r = r / 180 * Math.PI, pt0.fromArray(i[0]), pt1.fromArray(i[1]), pt2.fromArray(i[2]), Point$1.sub(dir, pt0, pt1), Point$1.sub(dir2, pt2, pt1);
    var n = dir.len(), o = dir2.len();
    if (!(n < 1e-3 || o < 1e-3)) {
      dir.scale(1 / n), dir2.scale(1 / o);
      var a = dir.dot(dir2), u = Math.cos(r);
      if (u < a) {
        var c = projectPointToLine(pt1.x, pt1.y, pt2.x, pt2.y, pt0.x, pt0.y, tmpArr, !1);
        tmpProjPoint.fromArray(tmpArr), tmpProjPoint.scaleAndAdd(dir2, c / Math.tan(Math.PI - r));
        var d = pt2.x !== pt1.x ? (tmpProjPoint.x - pt1.x) / (pt2.x - pt1.x) : (tmpProjPoint.y - pt1.y) / (pt2.y - pt1.y);
        if (isNaN(d))
          return;
        d < 0 ? Point$1.copy(tmpProjPoint, pt1) : d > 1 && Point$1.copy(tmpProjPoint, pt2), tmpProjPoint.toArray(i[1]);
      }
    }
  }
}
function limitSurfaceAngle(i, r, n) {
  if (n <= 180 && n > 0) {
    n = n / 180 * Math.PI, pt0.fromArray(i[0]), pt1.fromArray(i[1]), pt2.fromArray(i[2]), Point$1.sub(dir, pt1, pt0), Point$1.sub(dir2, pt2, pt1);
    var o = dir.len(), a = dir2.len();
    if (!(o < 1e-3 || a < 1e-3)) {
      dir.scale(1 / o), dir2.scale(1 / a);
      var u = dir.dot(r), c = Math.cos(n);
      if (u < c) {
        var d = projectPointToLine(pt1.x, pt1.y, pt2.x, pt2.y, pt0.x, pt0.y, tmpArr, !1);
        tmpProjPoint.fromArray(tmpArr);
        var f = Math.PI / 2, p = Math.acos(dir2.dot(r)), _ = f + p - n;
        if (_ >= f)
          Point$1.copy(tmpProjPoint, pt2);
        else {
          tmpProjPoint.scaleAndAdd(dir2, d / Math.tan(Math.PI / 2 - _));
          var v = pt2.x !== pt1.x ? (tmpProjPoint.x - pt1.x) / (pt2.x - pt1.x) : (tmpProjPoint.y - pt1.y) / (pt2.y - pt1.y);
          if (isNaN(v))
            return;
          v < 0 ? Point$1.copy(tmpProjPoint, pt1) : v > 1 && Point$1.copy(tmpProjPoint, pt2);
        }
        tmpProjPoint.toArray(i[1]);
      }
    }
  }
}
function setLabelLineState(i, r, n, o) {
  var a = n === "normal", u = a ? i : i.ensureState(n);
  u.ignore = r;
  var c = o.get("smooth");
  c && c === !0 && (c = 0.3), u.shape = u.shape || {}, c > 0 && (u.shape.smooth = c);
  var d = o.getModel("lineStyle").getLineStyle();
  a ? i.useStyle(d) : u.style = d;
}
function buildLabelLinePath(i, r) {
  var n = r.smooth, o = r.points;
  if (o)
    if (i.moveTo(o[0][0], o[0][1]), n > 0 && o.length >= 3) {
      var a = dist$1(o[0], o[1]), u = dist$1(o[1], o[2]);
      if (!a || !u) {
        i.lineTo(o[1][0], o[1][1]), i.lineTo(o[2][0], o[2][1]);
        return;
      }
      var c = Math.min(a, u) * n, d = lerp([], o[1], o[0], c / a), f = lerp([], o[1], o[2], c / u), p = lerp([], d, f, 0.5);
      i.bezierCurveTo(d[0], d[1], d[0], d[1], p[0], p[1]), i.bezierCurveTo(f[0], f[1], f[0], f[1], o[2][0], o[2][1]);
    } else
      for (var _ = 1; _ < o.length; _++)
        i.lineTo(o[_][0], o[_][1]);
}
function setLabelLineStyle(i, r, n) {
  var o = i.getTextGuideLine(), a = i.getTextContent();
  if (!a) {
    o && i.removeTextGuideLine();
    return;
  }
  for (var u = r.normal, c = u.get("show"), d = a.ignore, f = 0; f < DISPLAY_STATES.length; f++) {
    var p = DISPLAY_STATES[f], _ = r[p], v = p === "normal";
    if (_) {
      var g = _.get("show"), y = v ? d : retrieve2(a.states[p] && a.states[p].ignore, d);
      if (y || !retrieve2(g, c)) {
        var b = v ? o : o && o.states[p];
        b && (b.ignore = !0), o && setLabelLineState(o, !0, p, _);
        continue;
      }
      o || (o = new Polyline$1(), i.setTextGuideLine(o), !v && (d || !c) && setLabelLineState(o, !0, "normal", r.normal), i.stateProxy && (o.stateProxy = i.stateProxy)), setLabelLineState(o, !1, p, _);
    }
  }
  if (o) {
    defaults(o.style, n), o.style.fill = null;
    var A = u.get("showAbove"), w = i.textGuideLineConfig = i.textGuideLineConfig || {};
    w.showAbove = A || !1, o.buildPath = buildLabelLinePath;
  }
}
function getLabelLineStatesModels(i, r) {
  r = r || "labelLine";
  for (var n = {
    normal: i.getModel(r)
  }, o = 0; o < SPECIAL_STATES.length; o++) {
    var a = SPECIAL_STATES[o];
    n[a] = i.getModel([a, r]);
  }
  return n;
}
function prepareLayoutList(i) {
  for (var r = [], n = 0; n < i.length; n++) {
    var o = i[n];
    if (!o.defaultAttr.ignore) {
      var a = o.label, u = a.getComputedTransform(), c = a.getBoundingRect(), d = !u || u[1] < 1e-5 && u[2] < 1e-5, f = a.style.margin || 0, p = c.clone();
      p.applyTransform(u), p.x -= f / 2, p.y -= f / 2, p.width += f, p.height += f;
      var _ = d ? new OrientedBoundingRect$1(c, u) : null;
      r.push({
        label: a,
        labelLine: o.labelLine,
        rect: p,
        localRect: c,
        obb: _,
        priority: o.priority,
        defaultAttr: o.defaultAttr,
        layoutOption: o.computedLayoutOption,
        axisAligned: d,
        transform: u
      });
    }
  }
  return r;
}
function shiftLayout(i, r, n, o, a, u) {
  var c = i.length;
  if (c < 2)
    return;
  i.sort(function(ie, $) {
    return ie.rect[r] - $.rect[r];
  });
  for (var d = 0, f, p = !1, _ = 0, v = 0; v < c; v++) {
    var g = i[v], y = g.rect;
    f = y[r] - d, f < 0 && (y[r] -= f, g.label[r] -= f, p = !0);
    var b = Math.max(-f, 0);
    _ += b, d = y[r] + y[n];
  }
  _ > 0 && u && O(-_ / c, 0, c);
  var A = i[0], w = i[c - 1], S, T;
  x(), S < 0 && M(-S, 0.8), T < 0 && M(T, 0.8), x(), L(S, T, 1), L(T, S, -1), x(), S < 0 && k(-S), T < 0 && k(T);
  function x() {
    S = A.rect[r] - o, T = a - w.rect[r] - w.rect[n];
  }
  function L(ie, $, Y) {
    if (ie < 0) {
      var D = Math.min($, -ie);
      if (D > 0) {
        O(D * Y, 0, c);
        var re = D + ie;
        re < 0 && M(-re * Y, 1);
      } else
        M(-ie * Y, 1);
    }
  }
  function O(ie, $, Y) {
    ie !== 0 && (p = !0);
    for (var D = $; D < Y; D++) {
      var re = i[D], F = re.rect;
      F[r] += ie, re.label[r] += ie;
    }
  }
  function M(ie, $) {
    for (var Y = [], D = 0, re = 1; re < c; re++) {
      var F = i[re - 1].rect, _e = Math.max(i[re].rect[r] - F[r] - F[n], 0);
      Y.push(_e), D += _e;
    }
    if (D) {
      var ue = Math.min(Math.abs(ie) / D, $);
      if (ie > 0)
        for (var re = 0; re < c - 1; re++) {
          var Ie = Y[re] * ue;
          O(Ie, 0, re + 1);
        }
      else
        for (var re = c - 1; re > 0; re--) {
          var Ie = Y[re - 1] * ue;
          O(-Ie, re, c);
        }
    }
  }
  function k(ie) {
    var $ = ie < 0 ? -1 : 1;
    ie = Math.abs(ie);
    for (var Y = Math.ceil(ie / (c - 1)), D = 0; D < c - 1; D++)
      if ($ > 0 ? O(Y, 0, D + 1) : O(-Y, c - D - 1, c), ie -= Y, ie <= 0)
        return;
  }
  return p;
}
function shiftLayoutOnY(i, r, n, o) {
  return shiftLayout(i, "y", "height", r, n, o);
}
function hideOverlap(i) {
  var r = [];
  i.sort(function(A, w) {
    return w.priority - A.priority;
  });
  var n = new BoundingRect$1(0, 0, 0, 0);
  function o(A) {
    if (!A.ignore) {
      var w = A.ensureState("emphasis");
      w.ignore == null && (w.ignore = !1);
    }
    A.ignore = !0;
  }
  for (var a = 0; a < i.length; a++) {
    var u = i[a], c = u.axisAligned, d = u.localRect, f = u.transform, p = u.label, _ = u.labelLine;
    n.copy(u.rect), n.width -= 0.1, n.height -= 0.1, n.x += 0.05, n.y += 0.05;
    for (var v = u.obb, g = !1, y = 0; y < r.length; y++) {
      var b = r[y];
      if (n.intersect(b.rect)) {
        if (c && b.axisAligned) {
          g = !0;
          break;
        }
        if (b.obb || (b.obb = new OrientedBoundingRect$1(b.localRect, b.transform)), v || (v = new OrientedBoundingRect$1(d, f)), v.intersect(b.obb)) {
          g = !0;
          break;
        }
      }
    }
    g ? (o(p), _ && o(_)) : (p.attr("ignore", u.defaultAttr.ignore), _ && _.attr("ignore", u.defaultAttr.labelGuideIgnore), r.push(u));
  }
}
var mathSin = Math.sin, mathCos = Math.cos, PI$1 = Math.PI, PI2$1 = Math.PI * 2, degree = 180 / PI$1, SVGPathRebuilder = function() {
  function i() {
  }
  return i.prototype.reset = function(r) {
    this._start = !0, this._d = [], this._str = "", this._p = Math.pow(10, r || 4);
  }, i.prototype.moveTo = function(r, n) {
    this._add("M", r, n);
  }, i.prototype.lineTo = function(r, n) {
    this._add("L", r, n);
  }, i.prototype.bezierCurveTo = function(r, n, o, a, u, c) {
    this._add("C", r, n, o, a, u, c);
  }, i.prototype.quadraticCurveTo = function(r, n, o, a) {
    this._add("Q", r, n, o, a);
  }, i.prototype.arc = function(r, n, o, a, u, c) {
    this.ellipse(r, n, o, o, 0, a, u, c);
  }, i.prototype.ellipse = function(r, n, o, a, u, c, d, f) {
    var p = d - c, _ = !f, v = Math.abs(p), g = isAroundZero(v - PI2$1) || (_ ? p >= PI2$1 : -p >= PI2$1), y = p > 0 ? p % PI2$1 : p % PI2$1 + PI2$1, b = !1;
    g ? b = !0 : isAroundZero(v) ? b = !1 : b = y >= PI$1 == !!_;
    var A = r + o * mathCos(c), w = n + a * mathSin(c);
    this._start && this._add("M", A, w);
    var S = Math.round(u * degree);
    if (g) {
      var T = 1 / this._p, x = (_ ? 1 : -1) * (PI2$1 - T);
      this._add("A", o, a, S, 1, +_, r + o * mathCos(c + x), n + a * mathSin(c + x)), T > 0.01 && this._add("A", o, a, S, 0, +_, A, w);
    } else {
      var L = r + o * mathCos(d), O = n + a * mathSin(d);
      this._add("A", o, a, S, +b, +_, L, O);
    }
  }, i.prototype.rect = function(r, n, o, a) {
    this._add("M", r, n), this._add("l", o, 0), this._add("l", 0, a), this._add("l", -o, 0), this._add("Z");
  }, i.prototype.closePath = function() {
    this._d.length > 0 && this._add("Z");
  }, i.prototype._add = function(r, n, o, a, u, c, d, f, p) {
    for (var _ = [], v = this._p, g = 1; g < arguments.length; g++) {
      var y = arguments[g];
      if (isNaN(y)) {
        this._invalid = !0;
        return;
      }
      _.push(Math.round(y * v) / v);
    }
    this._d.push(r + _.join(" ")), this._start = r === "Z";
  }, i.prototype.generateStr = function() {
    this._str = this._invalid ? "" : this._d.join(""), this._d = [];
  }, i.prototype.getStr = function() {
    return this._str;
  }, i;
}();
const SVGPathRebuilder$1 = SVGPathRebuilder;
var NONE = "none", mathRound = Math.round;
function pathHasFill(i) {
  var r = i.fill;
  return r != null && r !== NONE;
}
function pathHasStroke(i) {
  var r = i.stroke;
  return r != null && r !== NONE;
}
var strokeProps = ["lineCap", "miterLimit", "lineJoin"], svgStrokeProps = map$1(strokeProps, function(i) {
  return "stroke-" + i.toLowerCase();
});
function mapStyleToAttrs(i, r, n, o) {
  var a = r.opacity == null ? 1 : r.opacity;
  if (n instanceof ZRImage$1) {
    i("opacity", a);
    return;
  }
  if (pathHasFill(r)) {
    var u = normalizeColor(r.fill);
    i("fill", u.color);
    var c = r.fillOpacity != null ? r.fillOpacity * u.opacity * a : u.opacity * a;
    (o || c < 1) && i("fill-opacity", c);
  } else
    i("fill", NONE);
  if (pathHasStroke(r)) {
    var d = normalizeColor(r.stroke);
    i("stroke", d.color);
    var f = r.strokeNoScale ? n.getLineScale() : 1, p = f ? (r.lineWidth || 0) / f : 0, _ = r.strokeOpacity != null ? r.strokeOpacity * d.opacity * a : d.opacity * a, v = r.strokeFirst;
    if ((o || p !== 1) && i("stroke-width", p), (o || v) && i("paint-order", v ? "stroke" : "fill"), (o || _ < 1) && i("stroke-opacity", _), r.lineDash) {
      var g = getLineDash(n), y = g[0], b = g[1];
      y && (b = mathRound(b || 0), i("stroke-dasharray", y.join(",")), (b || o) && i("stroke-dashoffset", b));
    } else
      o && i("stroke-dasharray", NONE);
    for (var A = 0; A < strokeProps.length; A++) {
      var w = strokeProps[A];
      if (o || r[w] !== DEFAULT_PATH_STYLE[w]) {
        var S = r[w] || DEFAULT_PATH_STYLE[w];
        S && i(svgStrokeProps[A], S);
      }
    }
  } else
    o && i("stroke", NONE);
}
var SVGNS = "http://www.w3.org/2000/svg", XLINKNS = "http://www.w3.org/1999/xlink", XMLNS = "http://www.w3.org/2000/xmlns/", XML_NAMESPACE = "http://www.w3.org/XML/1998/namespace", META_DATA_PREFIX = "ecmeta_";
function createElement(i) {
  return document.createElementNS(SVGNS, i);
}
function createVNode(i, r, n, o, a) {
  return {
    tag: i,
    attrs: n || {},
    children: o,
    text: a,
    key: r
  };
}
function createElementOpen(i, r) {
  var n = [];
  if (r)
    for (var o in r) {
      var a = r[o], u = o;
      a !== !1 && (a !== !0 && a != null && (u += '="' + a + '"'), n.push(u));
    }
  return "<" + i + " " + n.join(" ") + ">";
}
function createElementClose(i) {
  return "</" + i + ">";
}
function vNodeToString(i, r) {
  r = r || {};
  var n = r.newline ? `
` : "";
  function o(a) {
    var u = a.children, c = a.tag, d = a.attrs, f = a.text;
    return createElementOpen(c, d) + (c !== "style" ? encodeHTML(f) : f || "") + (u ? "" + n + map$1(u, function(p) {
      return o(p);
    }).join(n) + n : "") + createElementClose(c);
  }
  return o(i);
}
function getCssString(i, r, n) {
  n = n || {};
  var o = n.newline ? `
` : "", a = " {" + o, u = o + "}", c = map$1(keys(i), function(f) {
    return f + a + map$1(keys(i[f]), function(p) {
      return p + ":" + i[f][p] + ";";
    }).join(o) + u;
  }).join(o), d = map$1(keys(r), function(f) {
    return "@keyframes " + f + a + map$1(keys(r[f]), function(p) {
      return p + a + map$1(keys(r[f][p]), function(_) {
        var v = r[f][p][_];
        return _ === "d" && (v = 'path("' + v + '")'), _ + ":" + v + ";";
      }).join(o) + u;
    }).join(o) + u;
  }).join(o);
  return !c && !d ? "" : ["<![CDATA[", c, d, "]]>"].join(o);
}
function createBrushScope(i) {
  return {
    zrId: i,
    shadowCache: {},
    patternCache: {},
    gradientCache: {},
    clipPathCache: {},
    defs: {},
    cssNodes: {},
    cssAnims: {},
    cssStyleCache: {},
    cssAnimIdx: 0,
    shadowIdx: 0,
    gradientIdx: 0,
    patternIdx: 0,
    clipPathIdx: 0
  };
}
function createSVGVNode(i, r, n, o) {
  return createVNode("svg", "root", {
    width: i,
    height: r,
    xmlns: SVGNS,
    "xmlns:xlink": XLINKNS,
    version: "1.1",
    baseProfile: "full",
    viewBox: o ? "0 0 " + i + " " + r : !1
  }, n);
}
var cssClassIdx = 0;
function getClassId() {
  return cssClassIdx++;
}
var EASING_MAP = {
  cubicIn: "0.32,0,0.67,0",
  cubicOut: "0.33,1,0.68,1",
  cubicInOut: "0.65,0,0.35,1",
  quadraticIn: "0.11,0,0.5,0",
  quadraticOut: "0.5,1,0.89,1",
  quadraticInOut: "0.45,0,0.55,1",
  quarticIn: "0.5,0,0.75,0",
  quarticOut: "0.25,1,0.5,1",
  quarticInOut: "0.76,0,0.24,1",
  quinticIn: "0.64,0,0.78,0",
  quinticOut: "0.22,1,0.36,1",
  quinticInOut: "0.83,0,0.17,1",
  sinusoidalIn: "0.12,0,0.39,0",
  sinusoidalOut: "0.61,1,0.88,1",
  sinusoidalInOut: "0.37,0,0.63,1",
  exponentialIn: "0.7,0,0.84,0",
  exponentialOut: "0.16,1,0.3,1",
  exponentialInOut: "0.87,0,0.13,1",
  circularIn: "0.55,0,1,0.45",
  circularOut: "0,0.55,0.45,1",
  circularInOut: "0.85,0,0.15,1"
}, transformOriginKey = "transform-origin";
function buildPathString(i, r, n) {
  var o = extend({}, i.shape);
  extend(o, r), i.buildPath(n, o);
  var a = new SVGPathRebuilder$1();
  return a.reset(getPathPrecision(i)), n.rebuildPath(a, 1), a.generateStr(), a.getStr();
}
function setTransformOrigin(i, r) {
  var n = r.originX, o = r.originY;
  (n || o) && (i[transformOriginKey] = n + "px " + o + "px");
}
var ANIMATE_STYLE_MAP = {
  fill: "fill",
  opacity: "opacity",
  lineWidth: "stroke-width",
  lineDashOffset: "stroke-dashoffset"
};
function addAnimation(i, r) {
  var n = r.zrId + "-ani-" + r.cssAnimIdx++;
  return r.cssAnims[n] = i, n;
}
function createCompoundPathCSSAnimation(i, r, n) {
  var o = i.shape.paths, a = {}, u, c;
  if (each$4(o, function(f) {
    var p = createBrushScope(n.zrId);
    p.animation = !0, createCSSAnimation(f, {}, p, !0);
    var _ = p.cssAnims, v = p.cssNodes, g = keys(_), y = g.length;
    if (y) {
      c = g[y - 1];
      var b = _[c];
      for (var A in b) {
        var w = b[A];
        a[A] = a[A] || { d: "" }, a[A].d += w.d || "";
      }
      for (var S in v) {
        var T = v[S].animation;
        T.indexOf(c) >= 0 && (u = T);
      }
    }
  }), !!u) {
    r.d = !1;
    var d = addAnimation(a, n);
    return u.replace(c, d);
  }
}
function getEasingFunc(i) {
  return isString$2(i) ? EASING_MAP[i] ? "cubic-bezier(" + EASING_MAP[i] + ")" : createCubicEasingFunc(i) ? i : "" : "";
}
function createCSSAnimation(i, r, n, o) {
  var a = i.animators, u = a.length, c = [];
  if (i instanceof CompoundPath$1) {
    var d = createCompoundPathCSSAnimation(i, r, n);
    if (d)
      c.push(d);
    else if (!u)
      return;
  } else if (!u)
    return;
  for (var f = {}, p = 0; p < u; p++) {
    var _ = a[p], v = [_.getMaxTime() / 1e3 + "s"], g = getEasingFunc(_.getClip().easing), y = _.getDelay();
    g ? v.push(g) : v.push("linear"), y && v.push(y / 1e3 + "s"), _.getLoop() && v.push("infinite");
    var b = v.join(" ");
    f[b] = f[b] || [b, []], f[b][1].push(_);
  }
  function A(T) {
    var x = T[1], L = x.length, O = {}, M = {}, k = {}, ie = "animation-timing-function";
    function $(vn, kt, Ce) {
      for (var de = vn.getTracks(), Ue = vn.getMaxTime(), Ne = 0; Ne < de.length; Ne++) {
        var Ve = de[Ne];
        if (Ve.needsAnimate()) {
          var Pt = Ve.keyframes, jt = Ve.propName;
          if (Ce && (jt = Ce(jt)), jt)
            for (var _n = 0; _n < Pt.length; _n++) {
              var oe = Pt[_n], le = Math.round(oe.time / Ue * 100) + "%", j = getEasingFunc(oe.easing), V = oe.rawValue;
              (isString$2(V) || isNumber$1(V)) && (kt[le] = kt[le] || {}, kt[le][jt] = oe.rawValue, j && (kt[le][ie] = j));
            }
        }
      }
    }
    for (var Y = 0; Y < L; Y++) {
      var D = x[Y], re = D.targetName;
      re ? re === "shape" && $(D, M) : !o && $(D, O);
    }
    for (var F in O) {
      var _e = {};
      copyTransform(_e, i), extend(_e, O[F]);
      var ue = getSRTTransformString(_e), Ie = O[F][ie];
      k[F] = ue ? {
        transform: ue
      } : {}, setTransformOrigin(k[F], _e), Ie && (k[F][ie] = Ie);
    }
    var ze, Fe = !0;
    for (var F in M) {
      k[F] = k[F] || {};
      var Oe = !ze, Ie = M[F][ie];
      Oe && (ze = new PathProxy());
      var Lt = ze.len();
      ze.reset(), k[F].d = buildPathString(i, M[F], ze);
      var pe = ze.len();
      if (!Oe && Lt !== pe) {
        Fe = !1;
        break;
      }
      Ie && (k[F][ie] = Ie);
    }
    if (!Fe)
      for (var F in k)
        delete k[F].d;
    if (!o)
      for (var Y = 0; Y < L; Y++) {
        var D = x[Y], re = D.targetName;
        re === "style" && $(D, k, function(de) {
          return ANIMATE_STYLE_MAP[de];
        });
      }
    for (var Cn = keys(k), In = !0, Dt, Y = 1; Y < Cn.length; Y++) {
      var he = Cn[Y - 1], Et = Cn[Y];
      if (k[he][transformOriginKey] !== k[Et][transformOriginKey]) {
        In = !1;
        break;
      }
      Dt = k[he][transformOriginKey];
    }
    if (In && Dt) {
      for (var F in k)
        k[F][transformOriginKey] && delete k[F][transformOriginKey];
      r[transformOriginKey] = Dt;
    }
    if (filter(Cn, function(vn) {
      return keys(k[vn]).length > 0;
    }).length) {
      var hn = addAnimation(k, n);
      return hn + " " + T[0] + " both";
    }
  }
  for (var w in f) {
    var d = A(f[w]);
    d && c.push(d);
  }
  if (c.length) {
    var S = n.zrId + "-cls-" + getClassId();
    n.cssNodes["." + S] = {
      animation: c.join(",")
    }, r.class = S;
  }
}
function createCSSEmphasis(i, r, n) {
  if (!i.ignore)
    if (i.isSilent()) {
      var o = {
        "pointer-events": "none"
      };
      setClassAttribute(o, r, n, !0);
    } else {
      var a = i.states.emphasis && i.states.emphasis.style ? i.states.emphasis.style : {}, u = a.fill;
      if (!u) {
        var c = i.style && i.style.fill, d = i.states.select && i.states.select.style && i.states.select.style.fill, f = i.currentStates.indexOf("select") >= 0 && d || c;
        f && (u = liftColor(f));
      }
      var p = a.lineWidth;
      if (p) {
        var _ = !a.strokeNoScale && i.transform ? i.transform[0] : 1;
        p = p / _;
      }
      var o = {
        cursor: "pointer"
      };
      u && (o.fill = u), a.stroke && (o.stroke = a.stroke), p && (o["stroke-width"] = p), setClassAttribute(o, r, n, !0);
    }
}
function setClassAttribute(i, r, n, o) {
  var a = JSON.stringify(i), u = n.cssStyleCache[a];
  u || (u = n.zrId + "-cls-" + getClassId(), n.cssStyleCache[a] = u, n.cssNodes["." + u + (o ? ":hover" : "")] = i), r.class = r.class ? r.class + " " + u : u;
}
var round = Math.round;
function isImageLike(i) {
  return i && isString$2(i.src);
}
function isCanvasLike(i) {
  return i && isFunction$1(i.toDataURL);
}
function setStyleAttrs(i, r, n, o) {
  mapStyleToAttrs(function(a, u) {
    var c = a === "fill" || a === "stroke";
    c && isGradient(u) ? setGradient(r, i, a, o) : c && isPattern(u) ? setPattern(n, i, a, o) : c && u === "none" ? i[a] = "transparent" : i[a] = u;
  }, r, n, !1), setShadow(n, i, o);
}
function setMetaData(i, r) {
  var n = getElementSSRData(r);
  n && (n.each(function(o, a) {
    o != null && (i[(META_DATA_PREFIX + a).toLowerCase()] = o + "");
  }), r.isSilent() && (i[META_DATA_PREFIX + "silent"] = "true"));
}
function noRotateScale(i) {
  return isAroundZero(i[0] - 1) && isAroundZero(i[1]) && isAroundZero(i[2]) && isAroundZero(i[3] - 1);
}
function noTranslate(i) {
  return isAroundZero(i[4]) && isAroundZero(i[5]);
}
function setTransform(i, r, n) {
  if (r && !(noTranslate(r) && noRotateScale(r))) {
    var o = n ? 10 : 1e4;
    i.transform = noRotateScale(r) ? "translate(" + round(r[4] * o) / o + " " + round(r[5] * o) / o + ")" : getMatrixStr(r);
  }
}
function convertPolyShape(i, r, n) {
  for (var o = i.points, a = [], u = 0; u < o.length; u++)
    a.push(round(o[u][0] * n) / n), a.push(round(o[u][1] * n) / n);
  r.points = a.join(" ");
}
function validatePolyShape(i) {
  return !i.smooth;
}
function createAttrsConvert(i) {
  var r = map$1(i, function(n) {
    return typeof n == "string" ? [n, n] : n;
  });
  return function(n, o, a) {
    for (var u = 0; u < r.length; u++) {
      var c = r[u], d = n[c[0]];
      d != null && (o[c[1]] = round(d * a) / a);
    }
  };
}
var builtinShapesDef = {
  circle: [createAttrsConvert(["cx", "cy", "r"])],
  polyline: [convertPolyShape, validatePolyShape],
  polygon: [convertPolyShape, validatePolyShape]
};
function hasShapeAnimation(i) {
  for (var r = i.animators, n = 0; n < r.length; n++)
    if (r[n].targetName === "shape")
      return !0;
  return !1;
}
function brushSVGPath(i, r) {
  var n = i.style, o = i.shape, a = builtinShapesDef[i.type], u = {}, c = r.animation, d = "path", f = i.style.strokePercent, p = r.compress && getPathPrecision(i) || 4;
  if (a && !r.willUpdate && !(a[1] && !a[1](o)) && !(c && hasShapeAnimation(i)) && !(f < 1)) {
    d = i.type;
    var _ = Math.pow(10, p);
    a[0](o, u, _);
  } else {
    var v = !i.path || i.shapeChanged();
    i.path || i.createPathProxy();
    var g = i.path;
    v && (g.beginPath(), i.buildPath(g, i.shape), i.pathUpdated());
    var y = g.getVersion(), b = i, A = b.__svgPathBuilder;
    (b.__svgPathVersion !== y || !A || f !== b.__svgPathStrokePercent) && (A || (A = b.__svgPathBuilder = new SVGPathRebuilder$1()), A.reset(p), g.rebuildPath(A, f), A.generateStr(), b.__svgPathVersion = y, b.__svgPathStrokePercent = f), u.d = A.getStr();
  }
  return setTransform(u, i.transform), setStyleAttrs(u, n, i, r), setMetaData(u, i), r.animation && createCSSAnimation(i, u, r), r.emphasis && createCSSEmphasis(i, u, r), createVNode(d, i.id + "", u);
}
function brushSVGImage(i, r) {
  var n = i.style, o = n.image;
  if (o && !isString$2(o) && (isImageLike(o) ? o = o.src : isCanvasLike(o) && (o = o.toDataURL())), !!o) {
    var a = n.x || 0, u = n.y || 0, c = n.width, d = n.height, f = {
      href: o,
      width: c,
      height: d
    };
    return a && (f.x = a), u && (f.y = u), setTransform(f, i.transform), setStyleAttrs(f, n, i, r), setMetaData(f, i), r.animation && createCSSAnimation(i, f, r), createVNode("image", i.id + "", f);
  }
}
function brushSVGTSpan(i, r) {
  var n = i.style, o = n.text;
  if (o != null && (o += ""), !(!o || isNaN(n.x) || isNaN(n.y))) {
    var a = n.font || DEFAULT_FONT, u = n.x || 0, c = adjustTextY$1(n.y || 0, getLineHeight(a), n.textBaseline), d = TEXT_ALIGN_TO_ANCHOR[n.textAlign] || n.textAlign, f = {
      "dominant-baseline": "central",
      "text-anchor": d
    };
    if (hasSeparateFont(n)) {
      var p = "", _ = n.fontStyle, v = parseFontSize(n.fontSize);
      if (!parseFloat(v))
        return;
      var g = n.fontFamily || DEFAULT_FONT_FAMILY, y = n.fontWeight;
      p += "font-size:" + v + ";font-family:" + g + ";", _ && _ !== "normal" && (p += "font-style:" + _ + ";"), y && y !== "normal" && (p += "font-weight:" + y + ";"), f.style = p;
    } else
      f.style = "font: " + a;
    return o.match(/\s/) && (f["xml:space"] = "preserve"), u && (f.x = u), c && (f.y = c), setTransform(f, i.transform), setStyleAttrs(f, n, i, r), setMetaData(f, i), r.animation && createCSSAnimation(i, f, r), createVNode("text", i.id + "", f, void 0, o);
  }
}
function brush(i, r) {
  if (i instanceof Path$1)
    return brushSVGPath(i, r);
  if (i instanceof ZRImage$1)
    return brushSVGImage(i, r);
  if (i instanceof TSpan$1)
    return brushSVGTSpan(i, r);
}
function setShadow(i, r, n) {
  var o = i.style;
  if (hasShadow(o)) {
    var a = getShadowKey(i), u = n.shadowCache, c = u[a];
    if (!c) {
      var d = i.getGlobalScale(), f = d[0], p = d[1];
      if (!f || !p)
        return;
      var _ = o.shadowOffsetX || 0, v = o.shadowOffsetY || 0, g = o.shadowBlur, y = normalizeColor(o.shadowColor), b = y.opacity, A = y.color, w = g / 2 / f, S = g / 2 / p, T = w + " " + S;
      c = n.zrId + "-s" + n.shadowIdx++, n.defs[c] = createVNode("filter", c, {
        id: c,
        x: "-100%",
        y: "-100%",
        width: "300%",
        height: "300%"
      }, [
        createVNode("feDropShadow", "", {
          dx: _ / f,
          dy: v / p,
          stdDeviation: T,
          "flood-color": A,
          "flood-opacity": b
        })
      ]), u[a] = c;
    }
    r.filter = getIdURL(c);
  }
}
function setGradient(i, r, n, o) {
  var a = i[n], u, c = {
    gradientUnits: a.global ? "userSpaceOnUse" : "objectBoundingBox"
  };
  if (isLinearGradient(a))
    u = "linearGradient", c.x1 = a.x, c.y1 = a.y, c.x2 = a.x2, c.y2 = a.y2;
  else if (isRadialGradient(a))
    u = "radialGradient", c.cx = retrieve2(a.x, 0.5), c.cy = retrieve2(a.y, 0.5), c.r = retrieve2(a.r, 0.5);
  else {
    process.env.NODE_ENV !== "production" && logError("Illegal gradient type.");
    return;
  }
  for (var d = a.colorStops, f = [], p = 0, _ = d.length; p < _; ++p) {
    var v = round4(d[p].offset) * 100 + "%", g = d[p].color, y = normalizeColor(g), b = y.color, A = y.opacity, w = {
      offset: v
    };
    w["stop-color"] = b, A < 1 && (w["stop-opacity"] = A), f.push(createVNode("stop", p + "", w));
  }
  var S = createVNode(u, "", c, f), T = vNodeToString(S), x = o.gradientCache, L = x[T];
  L || (L = o.zrId + "-g" + o.gradientIdx++, x[T] = L, c.id = L, o.defs[L] = createVNode(u, L, c, f)), r[n] = getIdURL(L);
}
function setPattern(i, r, n, o) {
  var a = i.style[n], u = i.getBoundingRect(), c = {}, d = a.repeat, f = d === "no-repeat", p = d === "repeat-x", _ = d === "repeat-y", v;
  if (isImagePattern(a)) {
    var g = a.imageWidth, y = a.imageHeight, b = void 0, A = a.image;
    if (isString$2(A) ? b = A : isImageLike(A) ? b = A.src : isCanvasLike(A) && (b = A.toDataURL()), typeof Image > "u") {
      var w = "Image width/height must been given explictly in svg-ssr renderer.";
      assert(g, w), assert(y, w);
    } else if (g == null || y == null) {
      var S = function(Y, D) {
        if (Y) {
          var re = Y.elm, F = g || D.width, _e = y || D.height;
          Y.tag === "pattern" && (p ? (_e = 1, F /= u.width) : _ && (F = 1, _e /= u.height)), Y.attrs.width = F, Y.attrs.height = _e, re && (re.setAttribute("width", F), re.setAttribute("height", _e));
        }
      }, T = createOrUpdateImage(b, null, i, function(Y) {
        f || S(M, Y), S(v, Y);
      });
      T && T.width && T.height && (g = g || T.width, y = y || T.height);
    }
    v = createVNode("image", "img", {
      href: b,
      width: g,
      height: y
    }), c.width = g, c.height = y;
  } else
    a.svgElement && (v = clone$2(a.svgElement), c.width = a.svgWidth, c.height = a.svgHeight);
  if (v) {
    var x, L;
    f ? x = L = 1 : p ? (L = 1, x = c.width / u.width) : _ ? (x = 1, L = c.height / u.height) : c.patternUnits = "userSpaceOnUse", x != null && !isNaN(x) && (c.width = x), L != null && !isNaN(L) && (c.height = L);
    var O = getSRTTransformString(a);
    O && (c.patternTransform = O);
    var M = createVNode("pattern", "", c, [v]), k = vNodeToString(M), ie = o.patternCache, $ = ie[k];
    $ || ($ = o.zrId + "-p" + o.patternIdx++, ie[k] = $, c.id = $, M = o.defs[$] = createVNode("pattern", $, c, [v])), r[n] = getIdURL($);
  }
}
function setClipPath(i, r, n) {
  var o = n.clipPathCache, a = n.defs, u = o[i.id];
  if (!u) {
    u = n.zrId + "-c" + n.clipPathIdx++;
    var c = {
      id: u
    };
    o[i.id] = u, a[u] = createVNode("clipPath", u, c, [brushSVGPath(i, n)]);
  }
  r["clip-path"] = getIdURL(u);
}
function createTextNode(i) {
  return document.createTextNode(i);
}
function insertBefore(i, r, n) {
  i.insertBefore(r, n);
}
function removeChild(i, r) {
  i.removeChild(r);
}
function appendChild(i, r) {
  i.appendChild(r);
}
function parentNode(i) {
  return i.parentNode;
}
function nextSibling(i) {
  return i.nextSibling;
}
function setTextContent(i, r) {
  i.textContent = r;
}
var colonChar = 58, xChar = 120, emptyNode = createVNode("", "");
function isUndef(i) {
  return i === void 0;
}
function isDef(i) {
  return i !== void 0;
}
function createKeyToOldIdx(i, r, n) {
  for (var o = {}, a = r; a <= n; ++a) {
    var u = i[a].key;
    u !== void 0 && (process.env.NODE_ENV !== "production" && o[u] != null && console.error("Duplicate key " + u), o[u] = a);
  }
  return o;
}
function sameVnode(i, r) {
  var n = i.key === r.key, o = i.tag === r.tag;
  return o && n;
}
function createElm(i) {
  var r, n = i.children, o = i.tag;
  if (isDef(o)) {
    var a = i.elm = createElement(o);
    if (updateAttrs(emptyNode, i), isArray$1(n))
      for (r = 0; r < n.length; ++r) {
        var u = n[r];
        u != null && appendChild(a, createElm(u));
      }
    else
      isDef(i.text) && !isObject$3(i.text) && appendChild(a, createTextNode(i.text));
  } else
    i.elm = createTextNode(i.text);
  return i.elm;
}
function addVnodes(i, r, n, o, a) {
  for (; o <= a; ++o) {
    var u = n[o];
    u != null && insertBefore(i, createElm(u), r);
  }
}
function removeVnodes(i, r, n, o) {
  for (; n <= o; ++n) {
    var a = r[n];
    if (a != null)
      if (isDef(a.tag)) {
        var u = parentNode(a.elm);
        removeChild(u, a.elm);
      } else
        removeChild(i, a.elm);
  }
}
function updateAttrs(i, r) {
  var n, o = r.elm, a = i && i.attrs || {}, u = r.attrs || {};
  if (a !== u) {
    for (n in u) {
      var c = u[n], d = a[n];
      d !== c && (c === !0 ? o.setAttribute(n, "") : c === !1 ? o.removeAttribute(n) : n === "style" ? o.style.cssText = c : n.charCodeAt(0) !== xChar ? o.setAttribute(n, c) : n === "xmlns:xlink" || n === "xmlns" ? o.setAttributeNS(XMLNS, n, c) : n.charCodeAt(3) === colonChar ? o.setAttributeNS(XML_NAMESPACE, n, c) : n.charCodeAt(5) === colonChar ? o.setAttributeNS(XLINKNS, n, c) : o.setAttribute(n, c));
    }
    for (n in a)
      n in u || o.removeAttribute(n);
  }
}
function updateChildren(i, r, n) {
  for (var o = 0, a = 0, u = r.length - 1, c = r[0], d = r[u], f = n.length - 1, p = n[0], _ = n[f], v, g, y, b; o <= u && a <= f; )
    c == null ? c = r[++o] : d == null ? d = r[--u] : p == null ? p = n[++a] : _ == null ? _ = n[--f] : sameVnode(c, p) ? (patchVnode(c, p), c = r[++o], p = n[++a]) : sameVnode(d, _) ? (patchVnode(d, _), d = r[--u], _ = n[--f]) : sameVnode(c, _) ? (patchVnode(c, _), insertBefore(i, c.elm, nextSibling(d.elm)), c = r[++o], _ = n[--f]) : sameVnode(d, p) ? (patchVnode(d, p), insertBefore(i, d.elm, c.elm), d = r[--u], p = n[++a]) : (isUndef(v) && (v = createKeyToOldIdx(r, o, u)), g = v[p.key], isUndef(g) ? insertBefore(i, createElm(p), c.elm) : (y = r[g], y.tag !== p.tag ? insertBefore(i, createElm(p), c.elm) : (patchVnode(y, p), r[g] = void 0, insertBefore(i, y.elm, c.elm))), p = n[++a]);
  (o <= u || a <= f) && (o > u ? (b = n[f + 1] == null ? null : n[f + 1].elm, addVnodes(i, b, n, a, f)) : removeVnodes(i, r, o, u));
}
function patchVnode(i, r) {
  var n = r.elm = i.elm, o = i.children, a = r.children;
  i !== r && (updateAttrs(i, r), isUndef(r.text) ? isDef(o) && isDef(a) ? o !== a && updateChildren(n, o, a) : isDef(a) ? (isDef(i.text) && setTextContent(n, ""), addVnodes(n, null, a, 0, a.length - 1)) : isDef(o) ? removeVnodes(n, o, 0, o.length - 1) : isDef(i.text) && setTextContent(n, "") : i.text !== r.text && (isDef(o) && removeVnodes(n, o, 0, o.length - 1), setTextContent(n, r.text)));
}
function patch(i, r) {
  if (sameVnode(i, r))
    patchVnode(i, r);
  else {
    var n = i.elm, o = parentNode(n);
    createElm(r), o !== null && (insertBefore(o, r.elm, nextSibling(n)), removeVnodes(o, [i], 0, 0));
  }
  return r;
}
var svgId = 0, SVGPainter = function() {
  function i(r, n, o) {
    if (this.type = "svg", this.refreshHover = createMethodNotSupport("refreshHover"), this.configLayer = createMethodNotSupport("configLayer"), this.storage = n, this._opts = o = extend({}, o), this.root = r, this._id = "zr" + svgId++, this._oldVNode = createSVGVNode(o.width, o.height), r && !o.ssr) {
      var a = this._viewport = document.createElement("div");
      a.style.cssText = "position:relative;overflow:hidden";
      var u = this._svgDom = this._oldVNode.elm = createElement("svg");
      updateAttrs(null, this._oldVNode), a.appendChild(u), r.appendChild(a);
    }
    this.resize(o.width, o.height);
  }
  return i.prototype.getType = function() {
    return this.type;
  }, i.prototype.getViewportRoot = function() {
    return this._viewport;
  }, i.prototype.getViewportRootOffset = function() {
    var r = this.getViewportRoot();
    if (r)
      return {
        offsetLeft: r.offsetLeft || 0,
        offsetTop: r.offsetTop || 0
      };
  }, i.prototype.getSvgDom = function() {
    return this._svgDom;
  }, i.prototype.refresh = function() {
    if (this.root) {
      var r = this.renderToVNode({
        willUpdate: !0
      });
      r.attrs.style = "position:absolute;left:0;top:0;user-select:none", patch(this._oldVNode, r), this._oldVNode = r;
    }
  }, i.prototype.renderOneToVNode = function(r) {
    return brush(r, createBrushScope(this._id));
  }, i.prototype.renderToVNode = function(r) {
    r = r || {};
    var n = this.storage.getDisplayList(!0), o = this._width, a = this._height, u = createBrushScope(this._id);
    u.animation = r.animation, u.willUpdate = r.willUpdate, u.compress = r.compress, u.emphasis = r.emphasis;
    var c = [], d = this._bgVNode = createBackgroundVNode(o, a, this._backgroundColor, u);
    d && c.push(d);
    var f = r.compress ? null : this._mainVNode = createVNode("g", "main", {}, []);
    this._paintList(n, u, f ? f.children : c), f && c.push(f);
    var p = map$1(keys(u.defs), function(g) {
      return u.defs[g];
    });
    if (p.length && c.push(createVNode("defs", "defs", {}, p)), r.animation) {
      var _ = getCssString(u.cssNodes, u.cssAnims, { newline: !0 });
      if (_) {
        var v = createVNode("style", "stl", {}, [], _);
        c.push(v);
      }
    }
    return createSVGVNode(o, a, c, r.useViewBox);
  }, i.prototype.renderToString = function(r) {
    return r = r || {}, vNodeToString(this.renderToVNode({
      animation: retrieve2(r.cssAnimation, !0),
      emphasis: retrieve2(r.cssEmphasis, !0),
      willUpdate: !1,
      compress: !0,
      useViewBox: retrieve2(r.useViewBox, !0)
    }), { newline: !0 });
  }, i.prototype.setBackgroundColor = function(r) {
    this._backgroundColor = r;
  }, i.prototype.getSvgRoot = function() {
    return this._mainVNode && this._mainVNode.elm;
  }, i.prototype._paintList = function(r, n, o) {
    for (var a = r.length, u = [], c = 0, d, f, p = 0, _ = 0; _ < a; _++) {
      var v = r[_];
      if (!v.invisible) {
        var g = v.__clipPaths, y = g && g.length || 0, b = f && f.length || 0, A = void 0;
        for (A = Math.max(y - 1, b - 1); A >= 0 && !(g && f && g[A] === f[A]); A--)
          ;
        for (var w = b - 1; w > A; w--)
          c--, d = u[c - 1];
        for (var S = A + 1; S < y; S++) {
          var T = {};
          setClipPath(g[S], T, n);
          var x = createVNode("g", "clip-g-" + p++, T, []);
          (d ? d.children : o).push(x), u[c++] = x, d = x;
        }
        f = g;
        var L = brush(v, n);
        L && (d ? d.children : o).push(L);
      }
    }
  }, i.prototype.resize = function(r, n) {
    var o = this._opts, a = this.root, u = this._viewport;
    if (r != null && (o.width = r), n != null && (o.height = n), a && u && (u.style.display = "none", r = getSize(a, 0, o), n = getSize(a, 1, o), u.style.display = ""), this._width !== r || this._height !== n) {
      if (this._width = r, this._height = n, u) {
        var c = u.style;
        c.width = r + "px", c.height = n + "px";
      }
      if (isPattern(this._backgroundColor))
        this.refresh();
      else {
        var d = this._svgDom;
        d && (d.setAttribute("width", r), d.setAttribute("height", n));
        var f = this._bgVNode && this._bgVNode.elm;
        f && (f.setAttribute("width", r), f.setAttribute("height", n));
      }
    }
  }, i.prototype.getWidth = function() {
    return this._width;
  }, i.prototype.getHeight = function() {
    return this._height;
  }, i.prototype.dispose = function() {
    this.root && (this.root.innerHTML = ""), this._svgDom = this._viewport = this.storage = this._oldVNode = this._bgVNode = this._mainVNode = null;
  }, i.prototype.clear = function() {
    this._svgDom && (this._svgDom.innerHTML = null), this._oldVNode = null;
  }, i.prototype.toDataURL = function(r) {
    var n = this.renderToString(), o = "data:image/svg+xml;";
    return r ? (n = encodeBase64(n), n && o + "base64," + n) : o + "charset=UTF-8," + encodeURIComponent(n);
  }, i;
}();
function createMethodNotSupport(i) {
  return function() {
    process.env.NODE_ENV !== "production" && logError('In SVG mode painter not support method "' + i + '"');
  };
}
function createBackgroundVNode(i, r, n, o) {
  var a;
  if (n && n !== "none")
    if (a = createVNode("rect", "bg", {
      width: i,
      height: r,
      x: "0",
      y: "0"
    }), isGradient(n))
      setGradient({ fill: n }, a.attrs, "fill", o);
    else if (isPattern(n))
      setPattern({
        style: {
          fill: n
        },
        dirty: noop$1,
        getBoundingRect: function() {
          return { width: i, height: r };
        }
      }, a.attrs, "fill", o);
    else {
      var u = normalizeColor(n), c = u.color, d = u.opacity;
      a.attrs.fill = c, d < 1 && (a.attrs["fill-opacity"] = d);
    }
  return a;
}
const SVGPainter$1 = SVGPainter;
function install$7(i) {
  i.registerPainter("svg", SVGPainter$1);
}
function getSectorCornerRadius(i, r, n) {
  var o = i.get("borderRadius");
  if (o == null)
    return n ? {
      cornerRadius: 0
    } : null;
  isArray$1(o) || (o = [o, o, o, o]);
  var a = Math.abs(r.r || 0 - r.r0 || 0);
  return {
    cornerRadius: map$1(o, function(u) {
      return parsePercent$1(u, a);
    })
  };
}
var PI2 = Math.PI * 2, RADIAN$1 = Math.PI / 180;
function getViewRect(i, r) {
  return getLayoutRect(i.getBoxLayoutParams(), {
    width: r.getWidth(),
    height: r.getHeight()
  });
}
function getBasicPieLayout(i, r) {
  var n = getViewRect(i, r), o = i.get("center"), a = i.get("radius");
  isArray$1(a) || (a = [0, a]);
  var u = parsePercent(n.width, r.getWidth()), c = parsePercent(n.height, r.getHeight()), d = Math.min(u, c), f = parsePercent(a[0], d / 2), p = parsePercent(a[1], d / 2), _, v, g = i.coordinateSystem;
  if (g) {
    var y = g.dataToPoint(o);
    _ = y[0] || 0, v = y[1] || 0;
  } else
    isArray$1(o) || (o = [o, o]), _ = parsePercent(o[0], u) + n.x, v = parsePercent(o[1], c) + n.y;
  return {
    cx: _,
    cy: v,
    r0: f,
    r: p
  };
}
function pieLayout(i, r, n) {
  r.eachSeriesByType(i, function(o) {
    var a = o.getData(), u = a.mapDimension("value"), c = getViewRect(o, n), d = getBasicPieLayout(o, n), f = d.cx, p = d.cy, _ = d.r, v = d.r0, g = -o.get("startAngle") * RADIAN$1, y = o.get("endAngle"), b = o.get("padAngle") * RADIAN$1;
    y = y === "auto" ? g - PI2 : -y * RADIAN$1;
    var A = o.get("minAngle") * RADIAN$1, w = A + b, S = 0;
    a.each(u, function(ze) {
      !isNaN(ze) && S++;
    });
    var T = a.getSum(u), x = Math.PI / (T || S) * 2, L = o.get("clockwise"), O = o.get("roseType"), M = o.get("stillShowZeroSum"), k = a.getDataExtent(u);
    k[0] = 0;
    var ie = L ? 1 : -1, $ = [g, y], Y = ie * b / 2;
    normalizeArcAngles($, !L), g = $[0], y = $[1];
    var D = getSeriesLayoutData(o);
    D.startAngle = g, D.endAngle = y, D.clockwise = L;
    var re = Math.abs(y - g), F = re, _e = 0, ue = g;
    if (a.setLayout({
      viewRect: c,
      r: _
    }), a.each(u, function(ze, Fe) {
      var Oe;
      if (isNaN(ze)) {
        a.setItemLayout(Fe, {
          angle: NaN,
          startAngle: NaN,
          endAngle: NaN,
          clockwise: L,
          cx: f,
          cy: p,
          r0: v,
          r: O ? NaN : _
        });
        return;
      }
      O !== "area" ? Oe = T === 0 && M ? x : ze * x : Oe = re / S, Oe < w ? (Oe = w, F -= w) : _e += ze;
      var Lt = ue + ie * Oe, pe = 0, Cn = 0;
      b > Oe ? (pe = ue + ie * Oe / 2, Cn = pe) : (pe = ue + Y, Cn = Lt - Y), a.setItemLayout(Fe, {
        angle: Oe,
        startAngle: pe,
        endAngle: Cn,
        clockwise: L,
        cx: f,
        cy: p,
        r0: v,
        r: O ? linearMap(ze, k, [v, _]) : _
      }), ue = Lt;
    }), F < PI2 && S)
      if (F <= 1e-3) {
        var Ie = re / S;
        a.each(u, function(ze, Fe) {
          if (!isNaN(ze)) {
            var Oe = a.getItemLayout(Fe);
            Oe.angle = Ie;
            var Lt = 0, pe = 0;
            Ie < b ? (Lt = g + ie * (Fe + 1 / 2) * Ie, pe = Lt) : (Lt = g + ie * Fe * Ie + Y, pe = g + ie * (Fe + 1) * Ie - Y), Oe.startAngle = Lt, Oe.endAngle = pe;
          }
        });
      } else
        x = F / _e, ue = g, a.each(u, function(ze, Fe) {
          if (!isNaN(ze)) {
            var Oe = a.getItemLayout(Fe), Lt = Oe.angle === w ? w : ze * x, pe = 0, Cn = 0;
            Lt < b ? (pe = ue + ie * Lt / 2, Cn = pe) : (pe = ue + Y, Cn = ue + ie * Lt - Y), Oe.startAngle = pe, Oe.endAngle = Cn, ue += ie * Lt;
          }
        });
  });
}
var getSeriesLayoutData = makeInner();
function dataFilter(i) {
  return {
    seriesType: i,
    reset: function(r, n) {
      var o = n.findComponents({
        mainType: "legend"
      });
      if (!(!o || !o.length)) {
        var a = r.getData();
        a.filterSelf(function(u) {
          for (var c = a.getName(u), d = 0; d < o.length; d++)
            if (!o[d].isSelected(c))
              return !1;
          return !0;
        });
      }
    }
  };
}
var RADIAN = Math.PI / 180;
function adjustSingleSide(i, r, n, o, a, u, c, d, f, p) {
  if (i.length < 2)
    return;
  function _(A) {
    for (var w = A.rB, S = w * w, T = 0; T < A.list.length; T++) {
      var x = A.list[T], L = Math.abs(x.label.y - n), O = o + x.len, M = O * O, k = Math.sqrt((1 - Math.abs(L * L / S)) * M), ie = r + (k + x.len2) * a, $ = ie - x.label.x, Y = x.targetTextWidth - $ * a;
      constrainTextWidth(x, Y, !0), x.label.x = ie;
    }
  }
  function v(A) {
    for (var w = {
      list: [],
      maxY: 0
    }, S = {
      list: [],
      maxY: 0
    }, T = 0; T < A.length; T++)
      if (A[T].labelAlignTo === "none") {
        var x = A[T], L = x.label.y > n ? S : w, O = Math.abs(x.label.y - n);
        if (O >= L.maxY) {
          var M = x.label.x - r - x.len2 * a, k = o + x.len, ie = Math.abs(M) < k ? Math.sqrt(O * O / (1 - M * M / k / k)) : k;
          L.rB = ie, L.maxY = O;
        }
        L.list.push(x);
      }
    _(w), _(S);
  }
  for (var g = i.length, y = 0; y < g; y++)
    if (i[y].position === "outer" && i[y].labelAlignTo === "labelLine") {
      var b = i[y].label.x - p;
      i[y].linePoints[1][0] += b, i[y].label.x = p;
    }
  shiftLayoutOnY(i, f, f + c) && v(i);
}
function avoidOverlap(i, r, n, o, a, u, c, d) {
  for (var f = [], p = [], _ = Number.MAX_VALUE, v = -Number.MAX_VALUE, g = 0; g < i.length; g++) {
    var y = i[g].label;
    isPositionCenter(i[g]) || (y.x < r ? (_ = Math.min(_, y.x), f.push(i[g])) : (v = Math.max(v, y.x), p.push(i[g])));
  }
  for (var g = 0; g < i.length; g++) {
    var b = i[g];
    if (!isPositionCenter(b) && b.linePoints) {
      if (b.labelStyleWidth != null)
        continue;
      var y = b.label, A = b.linePoints, w = void 0;
      b.labelAlignTo === "edge" ? y.x < r ? w = A[2][0] - b.labelDistance - c - b.edgeDistance : w = c + a - b.edgeDistance - A[2][0] - b.labelDistance : b.labelAlignTo === "labelLine" ? y.x < r ? w = _ - c - b.bleedMargin : w = c + a - v - b.bleedMargin : y.x < r ? w = y.x - c - b.bleedMargin : w = c + a - y.x - b.bleedMargin, b.targetTextWidth = w, constrainTextWidth(b, w);
    }
  }
  adjustSingleSide(p, r, n, o, 1, a, u, c, d, v), adjustSingleSide(f, r, n, o, -1, a, u, c, d, _);
  for (var g = 0; g < i.length; g++) {
    var b = i[g];
    if (!isPositionCenter(b) && b.linePoints) {
      var y = b.label, A = b.linePoints, S = b.labelAlignTo === "edge", T = y.style.padding, x = T ? T[1] + T[3] : 0, L = y.style.backgroundColor ? 0 : x, O = b.rect.width + L, M = A[1][0] - A[2][0];
      S ? y.x < r ? A[2][0] = c + b.edgeDistance + O + b.labelDistance : A[2][0] = c + a - b.edgeDistance - O - b.labelDistance : (y.x < r ? A[2][0] = y.x + b.labelDistance : A[2][0] = y.x - b.labelDistance, A[1][0] = A[2][0] + M), A[1][1] = A[2][1] = y.y;
    }
  }
}
function constrainTextWidth(i, r, n) {
  if (n === void 0 && (n = !1), i.labelStyleWidth == null) {
    var o = i.label, a = o.style, u = i.rect, c = a.backgroundColor, d = a.padding, f = d ? d[1] + d[3] : 0, p = a.overflow, _ = u.width + (c ? 0 : f);
    if (r < _ || n) {
      var v = u.height;
      if (p && p.match("break")) {
        o.setStyle("backgroundColor", null), o.setStyle("width", r - f);
        var g = o.getBoundingRect();
        o.setStyle("width", Math.ceil(g.width)), o.setStyle("backgroundColor", c);
      } else {
        var y = r - f, b = r < _ ? y : (
          // Current available width is enough, but the text may have
          // already been wrapped with a smaller available width.
          n ? y > i.unconstrainedWidth ? null : y : null
        );
        o.setStyle("width", b);
      }
      var A = o.getBoundingRect();
      u.width = A.width;
      var w = (o.style.margin || 0) + 2.1;
      u.height = A.height + w, u.y -= (u.height - v) / 2;
    }
  }
}
function isPositionCenter(i) {
  return i.position === "center";
}
function pieLabelLayout(i) {
  var r = i.getData(), n = [], o, a, u = !1, c = (i.get("minShowLabelAngle") || 0) * RADIAN, d = r.getLayout("viewRect"), f = r.getLayout("r"), p = d.width, _ = d.x, v = d.y, g = d.height;
  function y(M) {
    M.ignore = !0;
  }
  function b(M) {
    if (!M.ignore)
      return !0;
    for (var k in M.states)
      if (M.states[k].ignore === !1)
        return !0;
    return !1;
  }
  r.each(function(M) {
    var k = r.getItemGraphicEl(M), ie = k.shape, $ = k.getTextContent(), Y = k.getTextGuideLine(), D = r.getItemModel(M), re = D.getModel("label"), F = re.get("position") || D.get(["emphasis", "label", "position"]), _e = re.get("distanceToLabelLine"), ue = re.get("alignTo"), Ie = parsePercent(re.get("edgeDistance"), p), ze = re.get("bleedMargin"), Fe = D.getModel("labelLine"), Oe = Fe.get("length");
    Oe = parsePercent(Oe, p);
    var Lt = Fe.get("length2");
    if (Lt = parsePercent(Lt, p), Math.abs(ie.endAngle - ie.startAngle) < c) {
      each$4($.states, y), $.ignore = !0, Y && (each$4(Y.states, y), Y.ignore = !0);
      return;
    }
    if (b($)) {
      var pe = (ie.startAngle + ie.endAngle) / 2, Cn = Math.cos(pe), In = Math.sin(pe), Dt, he, Et, hn;
      o = ie.cx, a = ie.cy;
      var vn = F === "inside" || F === "inner";
      if (F === "center")
        Dt = ie.cx, he = ie.cy, hn = "center";
      else {
        var kt = (vn ? (ie.r + ie.r0) / 2 * Cn : ie.r * Cn) + o, Ce = (vn ? (ie.r + ie.r0) / 2 * In : ie.r * In) + a;
        if (Dt = kt + Cn * 3, he = Ce + In * 3, !vn) {
          var de = kt + Cn * (Oe + f - ie.r), Ue = Ce + In * (Oe + f - ie.r), Ne = de + (Cn < 0 ? -1 : 1) * Lt, Ve = Ue;
          ue === "edge" ? Dt = Cn < 0 ? _ + Ie : _ + p - Ie : Dt = Ne + (Cn < 0 ? -_e : _e), he = Ve, Et = [[kt, Ce], [de, Ue], [Ne, Ve]];
        }
        hn = vn ? "center" : ue === "edge" ? Cn > 0 ? "right" : "left" : Cn > 0 ? "left" : "right";
      }
      var Pt = Math.PI, jt = 0, _n = re.get("rotate");
      if (isNumber$1(_n))
        jt = _n * (Pt / 180);
      else if (F === "center")
        jt = 0;
      else if (_n === "radial" || _n === !0) {
        var oe = Cn < 0 ? -pe + Pt : -pe;
        jt = oe;
      } else if (_n === "tangential" && F !== "outside" && F !== "outer") {
        var le = Math.atan2(Cn, In);
        le < 0 && (le = Pt * 2 + le);
        var j = In > 0;
        j && (le = Pt + le), jt = le - Pt;
      }
      if (u = !!jt, $.x = Dt, $.y = he, $.rotation = jt, $.setStyle({
        verticalAlign: "middle"
      }), vn) {
        $.setStyle({
          align: hn
        });
        var ae = $.states.select;
        ae && (ae.x += $.x, ae.y += $.y);
      } else {
        var V = $.getBoundingRect().clone();
        V.applyTransform($.getComputedTransform());
        var z = ($.style.margin || 0) + 2.1;
        V.y -= z / 2, V.height += z, n.push({
          label: $,
          labelLine: Y,
          position: F,
          len: Oe,
          len2: Lt,
          minTurnAngle: Fe.get("minTurnAngle"),
          maxSurfaceAngle: Fe.get("maxSurfaceAngle"),
          surfaceNormal: new Point$1(Cn, In),
          linePoints: Et,
          textAlign: hn,
          labelDistance: _e,
          labelAlignTo: ue,
          edgeDistance: Ie,
          bleedMargin: ze,
          rect: V,
          unconstrainedWidth: V.width,
          labelStyleWidth: $.style.width
        });
      }
      k.setTextConfig({
        inside: vn
      });
    }
  }), !u && i.get("avoidLabelOverlap") && avoidOverlap(n, o, a, f, p, g, _, v);
  for (var A = 0; A < n.length; A++) {
    var w = n[A], S = w.label, T = w.labelLine, x = isNaN(S.x) || isNaN(S.y);
    if (S) {
      S.setStyle({
        align: w.textAlign
      }), x && (each$4(S.states, y), S.ignore = !0);
      var L = S.states.select;
      L && (L.x += S.x, L.y += S.y);
    }
    if (T) {
      var O = w.linePoints;
      x || !O ? (each$4(T.states, y), T.ignore = !0) : (limitTurnAngle(O, w.minTurnAngle), limitSurfaceAngle(O, w.surfaceNormal, w.maxSurfaceAngle), T.setShape({
        points: O
      }), S.__hostTarget.textGuideLineConfig = {
        anchor: new Point$1(O[0][0], O[0][1])
      });
    }
  }
}
var PiePiece = (
  /** @class */
  function(i) {
    __extends(r, i);
    function r(n, o, a) {
      var u = i.call(this) || this;
      u.z2 = 2;
      var c = new ZRText$1();
      return u.setTextContent(c), u.updateData(n, o, a, !0), u;
    }
    return r.prototype.updateData = function(n, o, a, u) {
      var c = this, d = n.hostModel, f = n.getItemModel(o), p = f.getModel("emphasis"), _ = n.getItemLayout(o), v = extend(getSectorCornerRadius(f.getModel("itemStyle"), _, !0), _);
      if (isNaN(v.startAngle)) {
        c.setShape(v);
        return;
      }
      if (u) {
        c.setShape(v);
        var g = d.getShallow("animationType");
        d.ecModel.ssr ? (initProps(c, {
          scaleX: 0,
          scaleY: 0
        }, d, {
          dataIndex: o,
          isFrom: !0
        }), c.originX = v.cx, c.originY = v.cy) : g === "scale" ? (c.shape.r = _.r0, initProps(c, {
          shape: {
            r: _.r
          }
        }, d, o)) : a != null ? (c.setShape({
          startAngle: a,
          endAngle: a
        }), initProps(c, {
          shape: {
            startAngle: _.startAngle,
            endAngle: _.endAngle
          }
        }, d, o)) : (c.shape.endAngle = _.startAngle, updateProps$1(c, {
          shape: {
            endAngle: _.endAngle
          }
        }, d, o));
      } else
        saveOldStyle(c), updateProps$1(c, {
          shape: v
        }, d, o);
      c.useStyle(n.getItemVisual(o, "style")), setStatesStylesFromModel(c, f);
      var y = (_.startAngle + _.endAngle) / 2, b = d.get("selectedOffset"), A = Math.cos(y) * b, w = Math.sin(y) * b, S = f.getShallow("cursor");
      S && c.attr("cursor", S), this._updateLabel(d, n, o), c.ensureState("emphasis").shape = extend({
        r: _.r + (p.get("scale") && p.get("scaleSize") || 0)
      }, getSectorCornerRadius(p.getModel("itemStyle"), _)), extend(c.ensureState("select"), {
        x: A,
        y: w,
        shape: getSectorCornerRadius(f.getModel(["select", "itemStyle"]), _)
      }), extend(c.ensureState("blur"), {
        shape: getSectorCornerRadius(f.getModel(["blur", "itemStyle"]), _)
      });
      var T = c.getTextGuideLine(), x = c.getTextContent();
      T && extend(T.ensureState("select"), {
        x: A,
        y: w
      }), extend(x.ensureState("select"), {
        x: A,
        y: w
      }), toggleHoverEmphasis(this, p.get("focus"), p.get("blurScope"), p.get("disabled"));
    }, r.prototype._updateLabel = function(n, o, a) {
      var u = this, c = o.getItemModel(a), d = c.getModel("labelLine"), f = o.getItemVisual(a, "style"), p = f && f.fill, _ = f && f.opacity;
      setLabelStyle(u, getLabelStatesModels(c), {
        labelFetcher: o.hostModel,
        labelDataIndex: a,
        inheritColor: p,
        defaultOpacity: _,
        defaultText: n.getFormattedLabel(a, "normal") || o.getName(a)
      });
      var v = u.getTextContent();
      u.setTextConfig({
        // reset position, rotation
        position: null,
        rotation: null
      }), v.attr({
        z2: 10
      });
      var g = n.get(["label", "position"]);
      if (g !== "outside" && g !== "outer")
        u.removeTextGuideLine();
      else {
        var y = this.getTextGuideLine();
        y || (y = new Polyline$1(), this.setTextGuideLine(y)), setLabelLineStyle(this, getLabelLineStatesModels(c), {
          stroke: p,
          opacity: retrieve3(d.get(["lineStyle", "opacity"]), _, 1)
        });
      }
    }, r;
  }(Sector$1)
), PieView = (
  /** @class */
  function(i) {
    __extends(r, i);
    function r() {
      var n = i !== null && i.apply(this, arguments) || this;
      return n.ignoreLabelLineUpdate = !0, n;
    }
    return r.prototype.render = function(n, o, a, u) {
      var c = n.getData(), d = this._data, f = this.group, p;
      if (!d && c.count() > 0) {
        for (var _ = c.getItemLayout(0), v = 1; isNaN(_ && _.startAngle) && v < c.count(); ++v)
          _ = c.getItemLayout(v);
        _ && (p = _.startAngle);
      }
      if (this._emptyCircleSector && f.remove(this._emptyCircleSector), c.count() === 0 && n.get("showEmptyCircle")) {
        var g = getSeriesLayoutData(n), y = new Sector$1({
          shape: extend(getBasicPieLayout(n, a), g)
        });
        y.useStyle(n.getModel("emptyCircleStyle").getItemStyle()), this._emptyCircleSector = y, f.add(y);
      }
      c.diff(d).add(function(b) {
        var A = new PiePiece(c, b, p);
        c.setItemGraphicEl(b, A), f.add(A);
      }).update(function(b, A) {
        var w = d.getItemGraphicEl(A);
        w.updateData(c, b, p), w.off("click"), f.add(w), c.setItemGraphicEl(b, w);
      }).remove(function(b) {
        var A = d.getItemGraphicEl(b);
        removeElementWithFadeOut(A, n, b);
      }).execute(), pieLabelLayout(n), n.get("animationTypeUpdate") !== "expansion" && (this._data = c);
    }, r.prototype.dispose = function() {
    }, r.prototype.containPoint = function(n, o) {
      var a = o.getData(), u = a.getItemLayout(0);
      if (u) {
        var c = n[0] - u.cx, d = n[1] - u.cy, f = Math.sqrt(c * c + d * d);
        return f <= u.r && f >= u.r0;
      }
    }, r.type = "pie", r;
  }(ChartView$1)
);
const PieView$1 = PieView;
function createSeriesDataSimply(i, r, n) {
  r = isArray$1(r) && {
    coordDimensions: r
  } || extend({
    encodeDefine: i.getEncode()
  }, r);
  var o = i.getSource(), a = prepareSeriesDataSchema(o, r).dimensions, u = new SeriesData$1(a, i);
  return u.initData(o, n), u;
}
var LegendVisualProvider = (
  /** @class */
  function() {
    function i(r, n) {
      this._getDataWithEncodedVisual = r, this._getRawData = n;
    }
    return i.prototype.getAllNames = function() {
      var r = this._getRawData();
      return r.mapArray(r.getName);
    }, i.prototype.containName = function(r) {
      var n = this._getRawData();
      return n.indexOfName(r) >= 0;
    }, i.prototype.indexOfName = function(r) {
      var n = this._getDataWithEncodedVisual();
      return n.indexOfName(r);
    }, i.prototype.getItemVisual = function(r, n) {
      var o = this._getDataWithEncodedVisual();
      return o.getItemVisual(r, n);
    }, i;
  }()
);
const LegendVisualProvider$1 = LegendVisualProvider;
var innerData = makeInner(), PieSeriesModel = (
  /** @class */
  function(i) {
    __extends(r, i);
    function r() {
      return i !== null && i.apply(this, arguments) || this;
    }
    return r.prototype.init = function(n) {
      i.prototype.init.apply(this, arguments), this.legendVisualProvider = new LegendVisualProvider$1(bind$1(this.getData, this), bind$1(this.getRawData, this)), this._defaultLabelLine(n);
    }, r.prototype.mergeOption = function() {
      i.prototype.mergeOption.apply(this, arguments);
    }, r.prototype.getInitialData = function() {
      return createSeriesDataSimply(this, {
        coordDimensions: ["value"],
        encodeDefaulter: curry$1(makeSeriesEncodeForNameBased, this)
      });
    }, r.prototype.getDataParams = function(n) {
      var o = this.getData(), a = innerData(o), u = a.seats;
      if (!u) {
        var c = [];
        o.each(o.mapDimension("value"), function(f) {
          c.push(f);
        }), u = a.seats = getPercentSeats(c, o.hostModel.get("percentPrecision"));
      }
      var d = i.prototype.getDataParams.call(this, n);
      return d.percent = u[n] || 0, d.$vars.push("percent"), d;
    }, r.prototype._defaultLabelLine = function(n) {
      defaultEmphasis(n, "labelLine", ["show"]);
      var o = n.labelLine, a = n.emphasis.labelLine;
      o.show = o.show && n.label.show, a.show = a.show && n.emphasis.label.show;
    }, r.type = "series.pie", r.defaultOption = {
      // zlevel: 0,
      z: 2,
      legendHoverLink: !0,
      colorBy: "data",
      // 默认全局居中
      center: ["50%", "50%"],
      radius: [0, "75%"],
      // 默认顺时针
      clockwise: !0,
      startAngle: 90,
      endAngle: "auto",
      padAngle: 0,
      // 最小角度改为0
      minAngle: 0,
      // If the angle of a sector less than `minShowLabelAngle`,
      // the label will not be displayed.
      minShowLabelAngle: 0,
      // 选中时扇区偏移量
      selectedOffset: 10,
      // 选择模式，默认关闭，可选single，multiple
      // selectedMode: false,
      // 南丁格尔玫瑰图模式，'radius'（半径） | 'area'（面积）
      // roseType: null,
      percentPrecision: 2,
      // If still show when all data zero.
      stillShowZeroSum: !0,
      // cursor: null,
      left: 0,
      top: 0,
      right: 0,
      bottom: 0,
      width: null,
      height: null,
      label: {
        // color: 'inherit',
        // If rotate around circle
        rotate: 0,
        show: !0,
        overflow: "truncate",
        // 'outer', 'inside', 'center'
        position: "outer",
        // 'none', 'labelLine', 'edge'. Works only when position is 'outer'
        alignTo: "none",
        // Closest distance between label and chart edge.
        // Works only position is 'outer' and alignTo is 'edge'.
        edgeDistance: "25%",
        // Works only position is 'outer' and alignTo is not 'edge'.
        bleedMargin: 10,
        // Distance between text and label line.
        distanceToLabelLine: 5
        // formatter: 标签文本格式器，同 tooltip.formatter，不支持异步回调
        // 默认使用全局文本样式，详见 textStyle
        // distance: 当position为inner时有效，为label位置到圆心的距离与圆半径(环状图为内外半径和)的比例系数
      },
      // Enabled when label.normal.position is 'outer'
      labelLine: {
        show: !0,
        // 引导线两段中的第一段长度
        length: 15,
        // 引导线两段中的第二段长度
        length2: 15,
        smooth: !1,
        minTurnAngle: 90,
        maxSurfaceAngle: 90,
        lineStyle: {
          // color: 各异,
          width: 1,
          type: "solid"
        }
      },
      itemStyle: {
        borderWidth: 1,
        borderJoin: "round"
      },
      showEmptyCircle: !0,
      emptyCircleStyle: {
        color: "lightgray",
        opacity: 1
      },
      labelLayout: {
        // Hide the overlapped label.
        hideOverlap: !0
      },
      emphasis: {
        scale: !0,
        scaleSize: 5
      },
      // If use strategy to avoid label overlapping
      avoidLabelOverlap: !0,
      // Animation type. Valid values: expansion, scale
      animationType: "expansion",
      animationDuration: 1e3,
      // Animation type when update. Valid values: transition, expansion
      animationTypeUpdate: "transition",
      animationEasingUpdate: "cubicInOut",
      animationDurationUpdate: 500,
      animationEasing: "cubicInOut"
    }, r;
  }(SeriesModel$1)
);
const PieSeriesModel$1 = PieSeriesModel;
function negativeDataFilter(i) {
  return {
    seriesType: i,
    reset: function(r, n) {
      var o = r.getData();
      o.filterSelf(function(a) {
        var u = o.mapDimension("value"), c = o.get(u, a);
        return !(isNumber$1(c) && !isNaN(c) && c < 0);
      });
    }
  };
}
function install$6(i) {
  i.registerChartView(PieView$1), i.registerSeriesModel(PieSeriesModel$1), createLegacyDataSelectAction("pie", i.registerAction), i.registerLayout(curry$1(pieLayout, "pie")), i.registerProcessor(dataFilter("pie")), i.registerProcessor(negativeDataFilter("pie"));
}
function layout(i, r, n) {
  n = n || {};
  var o = i.coordinateSystem, a = r.axis, u = {}, c = a.getAxesOnZeroOf()[0], d = a.position, f = c ? "onZero" : d, p = a.dim, _ = o.getRect(), v = [_.x, _.x + _.width, _.y, _.y + _.height], g = {
    left: 0,
    right: 1,
    top: 0,
    bottom: 1,
    onZero: 2
  }, y = r.get("offset") || 0, b = p === "x" ? [v[2] - y, v[3] + y] : [v[0] - y, v[1] + y];
  if (c) {
    var A = c.toGlobalCoord(c.dataToCoord(0));
    b[g.onZero] = Math.max(Math.min(A, b[1]), b[0]);
  }
  u.position = [p === "y" ? b[g[f]] : v[0], p === "x" ? b[g[f]] : v[3]], u.rotation = Math.PI / 2 * (p === "x" ? 0 : 1);
  var w = {
    top: -1,
    bottom: 1,
    left: -1,
    right: 1
  };
  u.labelDirection = u.tickDirection = u.nameDirection = w[d], u.labelOffset = c ? b[g[d]] - b[g.onZero] : 0, r.get(["axisTick", "inside"]) && (u.tickDirection = -u.tickDirection), retrieve(n.labelInside, r.get(["axisLabel", "inside"])) && (u.labelDirection = -u.labelDirection);
  var S = r.get(["axisLabel", "rotate"]);
  return u.labelRotate = f === "top" ? -S : S, u.z2 = 1, u;
}
var PI = Math.PI, AxisBuilder = (
  /** @class */
  function() {
    function i(r, n) {
      this.group = new Group$3(), this.opt = n, this.axisModel = r, defaults(n, {
        labelOffset: 0,
        nameDirection: 1,
        tickDirection: 1,
        labelDirection: 1,
        silent: !0,
        handleAutoShown: function() {
          return !0;
        }
      });
      var o = new Group$3({
        x: n.position[0],
        y: n.position[1],
        rotation: n.rotation
      });
      o.updateTransform(), this._transformGroup = o;
    }
    return i.prototype.hasBuilder = function(r) {
      return !!builders[r];
    }, i.prototype.add = function(r) {
      builders[r](this.opt, this.axisModel, this.group, this._transformGroup);
    }, i.prototype.getGroup = function() {
      return this.group;
    }, i.innerTextLayout = function(r, n, o) {
      var a = remRadian(n - r), u, c;
      return isRadianAroundZero(a) ? (c = o > 0 ? "top" : "bottom", u = "center") : isRadianAroundZero(a - PI) ? (c = o > 0 ? "bottom" : "top", u = "center") : (c = "middle", a > 0 && a < PI ? u = o > 0 ? "right" : "left" : u = o > 0 ? "left" : "right"), {
        rotation: a,
        textAlign: u,
        textVerticalAlign: c
      };
    }, i.makeAxisEventDataBase = function(r) {
      var n = {
        componentType: r.mainType,
        componentIndex: r.componentIndex
      };
      return n[r.mainType + "Index"] = r.componentIndex, n;
    }, i.isLabelSilent = function(r) {
      var n = r.get("tooltip");
      return r.get("silent") || !(r.get("triggerEvent") || n && n.show);
    }, i;
  }()
), builders = {
  axisLine: function(i, r, n, o) {
    var a = r.get(["axisLine", "show"]);
    if (a === "auto" && i.handleAutoShown && (a = i.handleAutoShown("axisLine")), !!a) {
      var u = r.axis.getExtent(), c = o.transform, d = [u[0], 0], f = [u[1], 0], p = d[0] > f[0];
      c && (applyTransform$1(d, d, c), applyTransform$1(f, f, c));
      var _ = extend({
        lineCap: "round"
      }, r.getModel(["axisLine", "lineStyle"]).getLineStyle()), v = new Line$1({
        shape: {
          x1: d[0],
          y1: d[1],
          x2: f[0],
          y2: f[1]
        },
        style: _,
        strokeContainThreshold: i.strokeContainThreshold || 5,
        silent: !0,
        z2: 1
      });
      subPixelOptimizeLine(v.shape, v.style.lineWidth), v.anid = "line", n.add(v);
      var g = r.get(["axisLine", "symbol"]);
      if (g != null) {
        var y = r.get(["axisLine", "symbolSize"]);
        isString$2(g) && (g = [g, g]), (isString$2(y) || isNumber$1(y)) && (y = [y, y]);
        var b = normalizeSymbolOffset(r.get(["axisLine", "symbolOffset"]) || 0, y), A = y[0], w = y[1];
        each$4([{
          rotate: i.rotation + Math.PI / 2,
          offset: b[0],
          r: 0
        }, {
          rotate: i.rotation - Math.PI / 2,
          offset: b[1],
          r: Math.sqrt((d[0] - f[0]) * (d[0] - f[0]) + (d[1] - f[1]) * (d[1] - f[1]))
        }], function(S, T) {
          if (g[T] !== "none" && g[T] != null) {
            var x = createSymbol(g[T], -A / 2, -w / 2, A, w, _.stroke, !0), L = S.r + S.offset, O = p ? f : d;
            x.attr({
              rotation: S.rotate,
              x: O[0] + L * Math.cos(i.rotation),
              y: O[1] - L * Math.sin(i.rotation),
              silent: !0,
              z2: 11
            }), n.add(x);
          }
        });
      }
    }
  },
  axisTickLabel: function(i, r, n, o) {
    var a = buildAxisMajorTicks(n, o, r, i), u = buildAxisLabel(n, o, r, i);
    if (fixMinMaxLabelShow(r, u, a), buildAxisMinorTicks(n, o, r, i.tickDirection), r.get(["axisLabel", "hideOverlap"])) {
      var c = prepareLayoutList(map$1(u, function(d) {
        return {
          label: d,
          priority: d.z2,
          defaultAttr: {
            ignore: d.ignore
          }
        };
      }));
      hideOverlap(c);
    }
  },
  axisName: function(i, r, n, o) {
    var a = retrieve(i.axisName, r.get("name"));
    if (a) {
      var u = r.get("nameLocation"), c = i.nameDirection, d = r.getModel("nameTextStyle"), f = r.get("nameGap") || 0, p = r.axis.getExtent(), _ = p[0] > p[1] ? -1 : 1, v = [
        u === "start" ? p[0] - _ * f : u === "end" ? p[1] + _ * f : (p[0] + p[1]) / 2,
        // Reuse labelOffset.
        isNameLocationCenter(u) ? i.labelOffset + c * f : 0
      ], g, y = r.get("nameRotate");
      y != null && (y = y * PI / 180);
      var b;
      isNameLocationCenter(u) ? g = AxisBuilder.innerTextLayout(
        i.rotation,
        y ?? i.rotation,
        // Adapt to axis.
        c
      ) : (g = endTextLayout(i.rotation, u, y || 0, p), b = i.axisNameAvailableWidth, b != null && (b = Math.abs(b / Math.sin(g.rotation)), !isFinite(b) && (b = null)));
      var A = d.getFont(), w = r.get("nameTruncate", !0) || {}, S = w.ellipsis, T = retrieve(i.nameTruncateMaxWidth, w.maxWidth, b), x = new ZRText$1({
        x: v[0],
        y: v[1],
        rotation: g.rotation,
        silent: AxisBuilder.isLabelSilent(r),
        style: createTextStyle(d, {
          text: a,
          font: A,
          overflow: "truncate",
          width: T,
          ellipsis: S,
          fill: d.getTextColor() || r.get(["axisLine", "lineStyle", "color"]),
          align: d.get("align") || g.textAlign,
          verticalAlign: d.get("verticalAlign") || g.textVerticalAlign
        }),
        z2: 1
      });
      if (setTooltipConfig({
        el: x,
        componentModel: r,
        itemName: a
      }), x.__fullText = a, x.anid = "name", r.get("triggerEvent")) {
        var L = AxisBuilder.makeAxisEventDataBase(r);
        L.targetType = "axisName", L.name = a, getECData(x).eventData = L;
      }
      o.add(x), x.updateTransform(), n.add(x), x.decomposeTransform();
    }
  }
};
function endTextLayout(i, r, n, o) {
  var a = remRadian(n - i), u, c, d = o[0] > o[1], f = r === "start" && !d || r !== "start" && d;
  return isRadianAroundZero(a - PI / 2) ? (c = f ? "bottom" : "top", u = "center") : isRadianAroundZero(a - PI * 1.5) ? (c = f ? "top" : "bottom", u = "center") : (c = "middle", a < PI * 1.5 && a > PI / 2 ? u = f ? "left" : "right" : u = f ? "right" : "left"), {
    rotation: a,
    textAlign: u,
    textVerticalAlign: c
  };
}
function fixMinMaxLabelShow(i, r, n) {
  if (!shouldShowAllLabels(i.axis)) {
    var o = i.get(["axisLabel", "showMinLabel"]), a = i.get(["axisLabel", "showMaxLabel"]);
    r = r || [], n = n || [];
    var u = r[0], c = r[1], d = r[r.length - 1], f = r[r.length - 2], p = n[0], _ = n[1], v = n[n.length - 1], g = n[n.length - 2];
    o === !1 ? (ignoreEl(u), ignoreEl(p)) : isTwoLabelOverlapped(u, c) && (o ? (ignoreEl(c), ignoreEl(_)) : (ignoreEl(u), ignoreEl(p))), a === !1 ? (ignoreEl(d), ignoreEl(v)) : isTwoLabelOverlapped(f, d) && (a ? (ignoreEl(f), ignoreEl(g)) : (ignoreEl(d), ignoreEl(v)));
  }
}
function ignoreEl(i) {
  i && (i.ignore = !0);
}
function isTwoLabelOverlapped(i, r) {
  var n = i && i.getBoundingRect().clone(), o = r && r.getBoundingRect().clone();
  if (!(!n || !o)) {
    var a = identity$1([]);
    return rotate(a, a, -i.rotation), n.applyTransform(mul([], a, i.getLocalTransform())), o.applyTransform(mul([], a, r.getLocalTransform())), n.intersect(o);
  }
}
function isNameLocationCenter(i) {
  return i === "middle" || i === "center";
}
function createTicks(i, r, n, o, a) {
  for (var u = [], c = [], d = [], f = 0; f < i.length; f++) {
    var p = i[f].coord;
    c[0] = p, c[1] = 0, d[0] = p, d[1] = n, r && (applyTransform$1(c, c, r), applyTransform$1(d, d, r));
    var _ = new Line$1({
      shape: {
        x1: c[0],
        y1: c[1],
        x2: d[0],
        y2: d[1]
      },
      style: o,
      z2: 2,
      autoBatch: !0,
      silent: !0
    });
    subPixelOptimizeLine(_.shape, _.style.lineWidth), _.anid = a + "_" + i[f].tickValue, u.push(_);
  }
  return u;
}
function buildAxisMajorTicks(i, r, n, o) {
  var a = n.axis, u = n.getModel("axisTick"), c = u.get("show");
  if (c === "auto" && o.handleAutoShown && (c = o.handleAutoShown("axisTick")), !(!c || a.scale.isBlank())) {
    for (var d = u.getModel("lineStyle"), f = o.tickDirection * u.get("length"), p = a.getTicksCoords(), _ = createTicks(p, r.transform, f, defaults(d.getLineStyle(), {
      stroke: n.get(["axisLine", "lineStyle", "color"])
    }), "ticks"), v = 0; v < _.length; v++)
      i.add(_[v]);
    return _;
  }
}
function buildAxisMinorTicks(i, r, n, o) {
  var a = n.axis, u = n.getModel("minorTick");
  if (!(!u.get("show") || a.scale.isBlank())) {
    var c = a.getMinorTicksCoords();
    if (c.length)
      for (var d = u.getModel("lineStyle"), f = o * u.get("length"), p = defaults(d.getLineStyle(), defaults(n.getModel("axisTick").getLineStyle(), {
        stroke: n.get(["axisLine", "lineStyle", "color"])
      })), _ = 0; _ < c.length; _++)
        for (var v = createTicks(c[_], r.transform, f, p, "minorticks_" + _), g = 0; g < v.length; g++)
          i.add(v[g]);
  }
}
function buildAxisLabel(i, r, n, o) {
  var a = n.axis, u = retrieve(o.axisLabelShow, n.get(["axisLabel", "show"]));
  if (!(!u || a.scale.isBlank())) {
    var c = n.getModel("axisLabel"), d = c.get("margin"), f = a.getViewLabels(), p = (retrieve(o.labelRotate, c.get("rotate")) || 0) * PI / 180, _ = AxisBuilder.innerTextLayout(o.rotation, p, o.labelDirection), v = n.getCategories && n.getCategories(!0), g = [], y = AxisBuilder.isLabelSilent(n), b = n.get("triggerEvent");
    return each$4(f, function(A, w) {
      var S = a.scale.type === "ordinal" ? a.scale.getRawOrdinalNumber(A.tickValue) : A.tickValue, T = A.formattedLabel, x = A.rawLabel, L = c;
      if (v && v[S]) {
        var O = v[S];
        isObject$3(O) && O.textStyle && (L = new Model$1(O.textStyle, c, n.ecModel));
      }
      var M = L.getTextColor() || n.get(["axisLine", "lineStyle", "color"]), k = a.dataToCoord(S), ie = L.getShallow("align", !0) || _.textAlign, $ = retrieve2(L.getShallow("alignMinLabel", !0), ie), Y = retrieve2(L.getShallow("alignMaxLabel", !0), ie), D = L.getShallow("verticalAlign", !0) || L.getShallow("baseline", !0) || _.textVerticalAlign, re = retrieve2(L.getShallow("verticalAlignMinLabel", !0), D), F = retrieve2(L.getShallow("verticalAlignMaxLabel", !0), D), _e = new ZRText$1({
        x: k,
        y: o.labelOffset + o.labelDirection * d,
        rotation: _.rotation,
        silent: y,
        z2: 10 + (A.level || 0),
        style: createTextStyle(L, {
          text: T,
          align: w === 0 ? $ : w === f.length - 1 ? Y : ie,
          verticalAlign: w === 0 ? re : w === f.length - 1 ? F : D,
          fill: isFunction$1(M) ? M(
            // (1) In category axis with data zoom, tick is not the original
            // index of axis.data. So tick should not be exposed to user
            // in category axis.
            // (2) Compatible with previous version, which always use formatted label as
            // input. But in interval scale the formatted label is like '223,445', which
            // maked user replace ','. So we modify it to return original val but remain
            // it as 'string' to avoid error in replacing.
            a.type === "category" ? x : a.type === "value" ? S + "" : S,
            w
          ) : M
        })
      });
      if (_e.anid = "label_" + S, b) {
        var ue = AxisBuilder.makeAxisEventDataBase(n);
        ue.targetType = "axisLabel", ue.value = x, ue.tickIndex = w, a.type === "category" && (ue.dataIndex = S), getECData(_e).eventData = ue;
      }
      r.add(_e), _e.updateTransform(), g.push(_e), i.add(_e), _e.decomposeTransform();
    }), g;
  }
}
const AxisBuilder$1 = AxisBuilder;
function collect(i, r) {
  var n = {
    /**
     * key: makeKey(axis.model)
     * value: {
     *      axis,
     *      coordSys,
     *      axisPointerModel,
     *      triggerTooltip,
     *      triggerEmphasis,
     *      involveSeries,
     *      snap,
     *      seriesModels,
     *      seriesDataCount
     * }
     */
    axesInfo: {},
    seriesInvolved: !1,
    /**
     * key: makeKey(coordSys.model)
     * value: Object: key makeKey(axis.model), value: axisInfo
     */
    coordSysAxesInfo: {},
    coordSysMap: {}
  };
  return collectAxesInfo(n, i, r), n.seriesInvolved && collectSeriesInfo(n, i), n;
}
function collectAxesInfo(i, r, n) {
  var o = r.getComponent("tooltip"), a = r.getComponent("axisPointer"), u = a.get("link", !0) || [], c = [];
  each$4(n.getCoordinateSystems(), function(d) {
    if (!d.axisPointerEnabled)
      return;
    var f = makeKey(d.model), p = i.coordSysAxesInfo[f] = {};
    i.coordSysMap[f] = d;
    var _ = d.model, v = _.getModel("tooltip", o);
    if (each$4(d.getAxes(), curry$1(A, !1, null)), d.getTooltipAxes && o && v.get("show")) {
      var g = v.get("trigger") === "axis", y = v.get(["axisPointer", "type"]) === "cross", b = d.getTooltipAxes(v.get(["axisPointer", "axis"]));
      (g || y) && each$4(b.baseAxes, curry$1(A, y ? "cross" : !0, g)), y && each$4(b.otherAxes, curry$1(A, "cross", !1));
    }
    function A(w, S, T) {
      var x = T.model.getModel("axisPointer", a), L = x.get("show");
      if (!(!L || L === "auto" && !w && !isHandleTrigger(x))) {
        S == null && (S = x.get("triggerTooltip")), x = w ? makeAxisPointerModel(T, v, a, r, w, S) : x;
        var O = x.get("snap"), M = x.get("triggerEmphasis"), k = makeKey(T.model), ie = S || O || T.type === "category", $ = i.axesInfo[k] = {
          key: k,
          axis: T,
          coordSys: d,
          axisPointerModel: x,
          triggerTooltip: S,
          triggerEmphasis: M,
          involveSeries: ie,
          snap: O,
          useHandle: isHandleTrigger(x),
          seriesModels: [],
          linkGroup: null
        };
        p[k] = $, i.seriesInvolved = i.seriesInvolved || ie;
        var Y = getLinkGroupIndex(u, T);
        if (Y != null) {
          var D = c[Y] || (c[Y] = {
            axesInfo: {}
          });
          D.axesInfo[k] = $, D.mapper = u[Y].mapper, $.linkGroup = D;
        }
      }
    }
  });
}
function makeAxisPointerModel(i, r, n, o, a, u) {
  var c = r.getModel("axisPointer"), d = ["type", "snap", "lineStyle", "shadowStyle", "label", "animation", "animationDurationUpdate", "animationEasingUpdate", "z"], f = {};
  each$4(d, function(g) {
    f[g] = clone$2(c.get(g));
  }), f.snap = i.type !== "category" && !!u, c.get("type") === "cross" && (f.type = "line");
  var p = f.label || (f.label = {});
  if (p.show == null && (p.show = !1), a === "cross") {
    var _ = c.get(["label", "show"]);
    if (p.show = _ ?? !0, !u) {
      var v = f.lineStyle = c.get("crossStyle");
      v && defaults(p, v.textStyle);
    }
  }
  return i.model.getModel("axisPointer", new Model$1(f, n, o));
}
function collectSeriesInfo(i, r) {
  r.eachSeries(function(n) {
    var o = n.coordinateSystem, a = n.get(["tooltip", "trigger"], !0), u = n.get(["tooltip", "show"], !0);
    !o || a === "none" || a === !1 || a === "item" || u === !1 || n.get(["axisPointer", "show"], !0) === !1 || each$4(i.coordSysAxesInfo[makeKey(o.model)], function(c) {
      var d = c.axis;
      o.getAxis(d.dim) === d && (c.seriesModels.push(n), c.seriesDataCount == null && (c.seriesDataCount = 0), c.seriesDataCount += n.getData().count());
    });
  });
}
function getLinkGroupIndex(i, r) {
  for (var n = r.model, o = r.dim, a = 0; a < i.length; a++) {
    var u = i[a] || {};
    if (checkPropInLink(u[o + "AxisId"], n.id) || checkPropInLink(u[o + "AxisIndex"], n.componentIndex) || checkPropInLink(u[o + "AxisName"], n.name))
      return a;
  }
}
function checkPropInLink(i, r) {
  return i === "all" || isArray$1(i) && indexOf(i, r) >= 0 || i === r;
}
function fixValue(i) {
  var r = getAxisInfo(i);
  if (r) {
    var n = r.axisPointerModel, o = r.axis.scale, a = n.option, u = n.get("status"), c = n.get("value");
    c != null && (c = o.parse(c));
    var d = isHandleTrigger(n);
    u == null && (a.status = d ? "show" : "hide");
    var f = o.getExtent().slice();
    f[0] > f[1] && f.reverse(), // Pick a value on axis when initializing.
    (c == null || c > f[1]) && (c = f[1]), c < f[0] && (c = f[0]), a.value = c, d && (a.status = r.axis.scale.isBlank() ? "hide" : "show");
  }
}
function getAxisInfo(i) {
  var r = (i.ecModel.getComponent("axisPointer") || {}).coordSysAxesInfo;
  return r && r.axesInfo[makeKey(i)];
}
function getAxisPointerModel(i) {
  var r = getAxisInfo(i);
  return r && r.axisPointerModel;
}
function isHandleTrigger(i) {
  return !!i.get(["handle", "show"]);
}
function makeKey(i) {
  return i.type + "||" + i.id;
}
var axisPointerClazz = {}, AxisView = (
  /** @class */
  function(i) {
    __extends(r, i);
    function r() {
      var n = i !== null && i.apply(this, arguments) || this;
      return n.type = r.type, n;
    }
    return r.prototype.render = function(n, o, a, u) {
      this.axisPointerClass && fixValue(n), i.prototype.render.apply(this, arguments), this._doUpdateAxisPointerClass(n, a, !0);
    }, r.prototype.updateAxisPointer = function(n, o, a, u) {
      this._doUpdateAxisPointerClass(n, a, !1);
    }, r.prototype.remove = function(n, o) {
      var a = this._axisPointer;
      a && a.remove(o);
    }, r.prototype.dispose = function(n, o) {
      this._disposeAxisPointer(o), i.prototype.dispose.apply(this, arguments);
    }, r.prototype._doUpdateAxisPointerClass = function(n, o, a) {
      var u = r.getAxisPointerClass(this.axisPointerClass);
      if (u) {
        var c = getAxisPointerModel(n);
        c ? (this._axisPointer || (this._axisPointer = new u())).render(n, c, o, a) : this._disposeAxisPointer(o);
      }
    }, r.prototype._disposeAxisPointer = function(n) {
      this._axisPointer && this._axisPointer.dispose(n), this._axisPointer = null;
    }, r.registerAxisPointerClass = function(n, o) {
      if (process.env.NODE_ENV !== "production" && axisPointerClazz[n])
        throw new Error("axisPointer " + n + " exists");
      axisPointerClazz[n] = o;
    }, r.getAxisPointerClass = function(n) {
      return n && axisPointerClazz[n];
    }, r.type = "axis", r;
  }(ComponentView$1)
);
const AxisView$1 = AxisView;
var inner$2 = makeInner(), clone = clone$2, bind = bind$1, BaseAxisPointer = (
  /** @class */
  function() {
    function i() {
      this._dragging = !1, this.animationThreshold = 15;
    }
    return i.prototype.render = function(r, n, o, a) {
      var u = n.get("value"), c = n.get("status");
      if (this._axisModel = r, this._axisPointerModel = n, this._api = o, !(!a && this._lastValue === u && this._lastStatus === c)) {
        this._lastValue = u, this._lastStatus = c;
        var d = this._group, f = this._handle;
        if (!c || c === "hide") {
          d && d.hide(), f && f.hide();
          return;
        }
        d && d.show(), f && f.show();
        var p = {};
        this.makeElOption(p, u, r, n, o);
        var _ = p.graphicKey;
        _ !== this._lastGraphicKey && this.clear(o), this._lastGraphicKey = _;
        var v = this._moveAnimation = this.determineAnimation(r, n);
        if (!d)
          d = this._group = new Group$3(), this.createPointerEl(d, p, r, n), this.createLabelEl(d, p, r, n), o.getZr().add(d);
        else {
          var g = curry$1(updateProps, n, v);
          this.updatePointerEl(d, p, g), this.updateLabelEl(d, p, g, n);
        }
        updateMandatoryProps(d, n, !0), this._renderHandle(u);
      }
    }, i.prototype.remove = function(r) {
      this.clear(r);
    }, i.prototype.dispose = function(r) {
      this.clear(r);
    }, i.prototype.determineAnimation = function(r, n) {
      var o = n.get("animation"), a = r.axis, u = a.type === "category", c = n.get("snap");
      if (!c && !u)
        return !1;
      if (o === "auto" || o == null) {
        var d = this.animationThreshold;
        if (u && a.getBandWidth() > d)
          return !0;
        if (c) {
          var f = getAxisInfo(r).seriesDataCount, p = a.getExtent();
          return Math.abs(p[0] - p[1]) / f > d;
        }
        return !1;
      }
      return o === !0;
    }, i.prototype.makeElOption = function(r, n, o, a, u) {
    }, i.prototype.createPointerEl = function(r, n, o, a) {
      var u = n.pointer;
      if (u) {
        var c = inner$2(r).pointerEl = new graphic[u.type](clone(n.pointer));
        r.add(c);
      }
    }, i.prototype.createLabelEl = function(r, n, o, a) {
      if (n.label) {
        var u = inner$2(r).labelEl = new ZRText$1(clone(n.label));
        r.add(u), updateLabelShowHide(u, a);
      }
    }, i.prototype.updatePointerEl = function(r, n, o) {
      var a = inner$2(r).pointerEl;
      a && n.pointer && (a.setStyle(n.pointer.style), o(a, {
        shape: n.pointer.shape
      }));
    }, i.prototype.updateLabelEl = function(r, n, o, a) {
      var u = inner$2(r).labelEl;
      u && (u.setStyle(n.label.style), o(u, {
        // Consider text length change in vertical axis, animation should
        // be used on shape, otherwise the effect will be weird.
        // TODOTODO
        // shape: elOption.label.shape,
        x: n.label.x,
        y: n.label.y
      }), updateLabelShowHide(u, a));
    }, i.prototype._renderHandle = function(r) {
      if (!(this._dragging || !this.updateHandleTransform)) {
        var n = this._axisPointerModel, o = this._api.getZr(), a = this._handle, u = n.getModel("handle"), c = n.get("status");
        if (!u.get("show") || !c || c === "hide") {
          a && o.remove(a), this._handle = null;
          return;
        }
        var d;
        this._handle || (d = !0, a = this._handle = createIcon(u.get("icon"), {
          cursor: "move",
          draggable: !0,
          onmousemove: function(p) {
            stop(p.event);
          },
          onmousedown: bind(this._onHandleDragMove, this, 0, 0),
          drift: bind(this._onHandleDragMove, this),
          ondragend: bind(this._onHandleDragEnd, this)
        }), o.add(a)), updateMandatoryProps(a, n, !1), a.setStyle(u.getItemStyle(null, ["color", "borderColor", "borderWidth", "opacity", "shadowColor", "shadowBlur", "shadowOffsetX", "shadowOffsetY"]));
        var f = u.get("size");
        isArray$1(f) || (f = [f, f]), a.scaleX = f[0] / 2, a.scaleY = f[1] / 2, createOrUpdate(this, "_doDispatchAxisPointer", u.get("throttle") || 0, "fixRate"), this._moveHandleToValue(r, d);
      }
    }, i.prototype._moveHandleToValue = function(r, n) {
      updateProps(this._axisPointerModel, !n && this._moveAnimation, this._handle, getHandleTransProps(this.getHandleTransform(r, this._axisModel, this._axisPointerModel)));
    }, i.prototype._onHandleDragMove = function(r, n) {
      var o = this._handle;
      if (o) {
        this._dragging = !0;
        var a = this.updateHandleTransform(getHandleTransProps(o), [r, n], this._axisModel, this._axisPointerModel);
        this._payloadInfo = a, o.stopAnimation(), o.attr(getHandleTransProps(a)), inner$2(o).lastProp = null, this._doDispatchAxisPointer();
      }
    }, i.prototype._doDispatchAxisPointer = function() {
      var r = this._handle;
      if (r) {
        var n = this._payloadInfo, o = this._axisModel;
        this._api.dispatchAction({
          type: "updateAxisPointer",
          x: n.cursorPoint[0],
          y: n.cursorPoint[1],
          tooltipOption: n.tooltipOption,
          axesInfo: [{
            axisDim: o.axis.dim,
            axisIndex: o.componentIndex
          }]
        });
      }
    }, i.prototype._onHandleDragEnd = function() {
      this._dragging = !1;
      var r = this._handle;
      if (r) {
        var n = this._axisPointerModel.get("value");
        this._moveHandleToValue(n), this._api.dispatchAction({
          type: "hideTip"
        });
      }
    }, i.prototype.clear = function(r) {
      this._lastValue = null, this._lastStatus = null;
      var n = r.getZr(), o = this._group, a = this._handle;
      n && o && (this._lastGraphicKey = null, o && n.remove(o), a && n.remove(a), this._group = null, this._handle = null, this._payloadInfo = null), clear(this, "_doDispatchAxisPointer");
    }, i.prototype.doClear = function() {
    }, i.prototype.buildLabel = function(r, n, o) {
      return o = o || 0, {
        x: r[o],
        y: r[1 - o],
        width: n[o],
        height: n[1 - o]
      };
    }, i;
  }()
);
function updateProps(i, r, n, o) {
  propsEqual(inner$2(n).lastProp, o) || (inner$2(n).lastProp = o, r ? updateProps$1(n, o, i) : (n.stopAnimation(), n.attr(o)));
}
function propsEqual(i, r) {
  if (isObject$3(i) && isObject$3(r)) {
    var n = !0;
    return each$4(r, function(o, a) {
      n = n && propsEqual(i[a], o);
    }), !!n;
  } else
    return i === r;
}
function updateLabelShowHide(i, r) {
  i[r.get(["label", "show"]) ? "show" : "hide"]();
}
function getHandleTransProps(i) {
  return {
    x: i.x || 0,
    y: i.y || 0,
    rotation: i.rotation || 0
  };
}
function updateMandatoryProps(i, r, n) {
  var o = r.get("z"), a = r.get("zlevel");
  i && i.traverse(function(u) {
    u.type !== "group" && (o != null && (u.z = o), a != null && (u.zlevel = a), u.silent = n);
  });
}
const BaseAxisPointer$1 = BaseAxisPointer;
function buildElStyle(i) {
  var r = i.get("type"), n = i.getModel(r + "Style"), o;
  return r === "line" ? (o = n.getLineStyle(), o.fill = null) : r === "shadow" && (o = n.getAreaStyle(), o.stroke = null), o;
}
function buildLabelElOption(i, r, n, o, a) {
  var u = n.get("value"), c = getValueLabel(u, r.axis, r.ecModel, n.get("seriesDataIndices"), {
    precision: n.get(["label", "precision"]),
    formatter: n.get(["label", "formatter"])
  }), d = n.getModel("label"), f = normalizeCssArray(d.get("padding") || 0), p = d.getFont(), _ = getBoundingRect(c, p), v = a.position, g = _.width + f[1] + f[3], y = _.height + f[0] + f[2], b = a.align;
  b === "right" && (v[0] -= g), b === "center" && (v[0] -= g / 2);
  var A = a.verticalAlign;
  A === "bottom" && (v[1] -= y), A === "middle" && (v[1] -= y / 2), confineInContainer(v, g, y, o);
  var w = d.get("backgroundColor");
  (!w || w === "auto") && (w = r.get(["axisLine", "lineStyle", "color"])), i.label = {
    // shape: {x: 0, y: 0, width: width, height: height, r: labelModel.get('borderRadius')},
    x: v[0],
    y: v[1],
    style: createTextStyle(d, {
      text: c,
      font: p,
      fill: d.getTextColor(),
      padding: f,
      backgroundColor: w
    }),
    // Label should be over axisPointer.
    z2: 10
  };
}
function confineInContainer(i, r, n, o) {
  var a = o.getWidth(), u = o.getHeight();
  i[0] = Math.min(i[0] + r, a) - r, i[1] = Math.min(i[1] + n, u) - n, i[0] = Math.max(i[0], 0), i[1] = Math.max(i[1], 0);
}
function getValueLabel(i, r, n, o, a) {
  i = r.scale.parse(i);
  var u = r.scale.getLabel({
    value: i
  }, {
    // If `precision` is set, width can be fixed (like '12.00500'), which
    // helps to debounce when when moving label.
    precision: a.precision
  }), c = a.formatter;
  if (c) {
    var d = {
      value: getAxisRawValue(r, {
        value: i
      }),
      axisDimension: r.dim,
      axisIndex: r.index,
      seriesData: []
    };
    each$4(o, function(f) {
      var p = n.getSeriesByIndex(f.seriesIndex), _ = f.dataIndexInside, v = p && p.getDataParams(_);
      v && d.seriesData.push(v);
    }), isString$2(c) ? u = c.replace("{value}", u) : isFunction$1(c) && (u = c(d));
  }
  return u;
}
function getTransformedPosition(i, r, n) {
  var o = create();
  return rotate(o, o, n.rotation), translate$1(o, o, n.position), applyTransform([i.dataToCoord(r), (n.labelOffset || 0) + (n.labelDirection || 1) * (n.labelMargin || 0)], o);
}
function buildCartesianSingleLabelElOption(i, r, n, o, a, u) {
  var c = AxisBuilder$1.innerTextLayout(n.rotation, 0, n.labelDirection);
  n.labelMargin = a.get(["label", "margin"]), buildLabelElOption(r, o, a, u, {
    position: getTransformedPosition(o.axis, i, n),
    align: c.textAlign,
    verticalAlign: c.textVerticalAlign
  });
}
function makeLineShape(i, r, n) {
  return n = n || 0, {
    x1: i[n],
    y1: i[1 - n],
    x2: r[n],
    y2: r[1 - n]
  };
}
function makeRectShape(i, r, n) {
  return n = n || 0, {
    x: i[n],
    y: i[1 - n],
    width: r[n],
    height: r[1 - n]
  };
}
var CartesianAxisPointer = (
  /** @class */
  function(i) {
    __extends(r, i);
    function r() {
      return i !== null && i.apply(this, arguments) || this;
    }
    return r.prototype.makeElOption = function(n, o, a, u, c) {
      var d = a.axis, f = d.grid, p = u.get("type"), _ = getCartesian(f, d).getOtherAxis(d).getGlobalExtent(), v = d.toGlobalCoord(d.dataToCoord(o, !0));
      if (p && p !== "none") {
        var g = buildElStyle(u), y = pointerShapeBuilder[p](d, v, _);
        y.style = g, n.graphicKey = y.type, n.pointer = y;
      }
      var b = layout(f.model, a);
      buildCartesianSingleLabelElOption(
        // @ts-ignore
        o,
        n,
        b,
        a,
        u,
        c
      );
    }, r.prototype.getHandleTransform = function(n, o, a) {
      var u = layout(o.axis.grid.model, o, {
        labelInside: !1
      });
      u.labelMargin = a.get(["handle", "margin"]);
      var c = getTransformedPosition(o.axis, n, u);
      return {
        x: c[0],
        y: c[1],
        rotation: u.rotation + (u.labelDirection < 0 ? Math.PI : 0)
      };
    }, r.prototype.updateHandleTransform = function(n, o, a, u) {
      var c = a.axis, d = c.grid, f = c.getGlobalExtent(!0), p = getCartesian(d, c).getOtherAxis(c).getGlobalExtent(), _ = c.dim === "x" ? 0 : 1, v = [n.x, n.y];
      v[_] += o[_], v[_] = Math.min(f[1], v[_]), v[_] = Math.max(f[0], v[_]);
      var g = (p[1] + p[0]) / 2, y = [g, g];
      y[_] = v[_];
      var b = [{
        verticalAlign: "middle"
      }, {
        align: "center"
      }];
      return {
        x: v[0],
        y: v[1],
        rotation: n.rotation,
        cursorPoint: y,
        tooltipOption: b[_]
      };
    }, r;
  }(BaseAxisPointer$1)
);
function getCartesian(i, r) {
  var n = {};
  return n[r.dim + "AxisIndex"] = r.index, i.getCartesian(n);
}
var pointerShapeBuilder = {
  line: function(i, r, n) {
    var o = makeLineShape([r, n[0]], [r, n[1]], getAxisDimIndex(i));
    return {
      type: "Line",
      subPixelOptimize: !0,
      shape: o
    };
  },
  shadow: function(i, r, n) {
    var o = Math.max(1, i.getBandWidth()), a = n[1] - n[0];
    return {
      type: "Rect",
      shape: makeRectShape([r - o / 2, n[0]], [o, a], getAxisDimIndex(i))
    };
  }
};
function getAxisDimIndex(i) {
  return i.dim === "x" ? 0 : 1;
}
const CartesianAxisPointer$1 = CartesianAxisPointer;
var AxisPointerModel = (
  /** @class */
  function(i) {
    __extends(r, i);
    function r() {
      var n = i !== null && i.apply(this, arguments) || this;
      return n.type = r.type, n;
    }
    return r.type = "axisPointer", r.defaultOption = {
      // 'auto' means that show when triggered by tooltip or handle.
      show: "auto",
      // zlevel: 0,
      z: 50,
      type: "line",
      // axispointer triggered by tootip determine snap automatically,
      // see `modelHelper`.
      snap: !1,
      triggerTooltip: !0,
      triggerEmphasis: !0,
      value: null,
      status: null,
      link: [],
      // Do not set 'auto' here, otherwise global animation: false
      // will not effect at this axispointer.
      animation: null,
      animationDurationUpdate: 200,
      lineStyle: {
        color: "#B9BEC9",
        width: 1,
        type: "dashed"
      },
      shadowStyle: {
        color: "rgba(210,219,238,0.2)"
      },
      label: {
        show: !0,
        formatter: null,
        precision: "auto",
        margin: 3,
        color: "#fff",
        padding: [5, 7, 5, 7],
        backgroundColor: "auto",
        borderColor: null,
        borderWidth: 0,
        borderRadius: 3
      },
      handle: {
        show: !1,
        // eslint-disable-next-line
        icon: "M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",
        size: 45,
        // handle margin is from symbol center to axis, which is stable when circular move.
        margin: 50,
        // color: '#1b8bbd'
        // color: '#2f4554'
        color: "#333",
        shadowBlur: 3,
        shadowColor: "#aaa",
        shadowOffsetX: 0,
        shadowOffsetY: 2,
        // For mobile performance
        throttle: 40
      }
    }, r;
  }(ComponentModel$1)
);
const AxisPointerModel$1 = AxisPointerModel;
var inner$1 = makeInner(), each$1 = each$4;
function register(i, r, n) {
  if (!env$1.node) {
    var o = r.getZr();
    inner$1(o).records || (inner$1(o).records = {}), initGlobalListeners(o, r);
    var a = inner$1(o).records[i] || (inner$1(o).records[i] = {});
    a.handler = n;
  }
}
function initGlobalListeners(i, r) {
  if (inner$1(i).initialized)
    return;
  inner$1(i).initialized = !0, n("click", curry$1(doEnter, "click")), n("mousemove", curry$1(doEnter, "mousemove")), n("globalout", onLeave);
  function n(o, a) {
    i.on(o, function(u) {
      var c = makeDispatchAction$1(r);
      each$1(inner$1(i).records, function(d) {
        d && a(d, u, c.dispatchAction);
      }), dispatchTooltipFinally(c.pendings, r);
    });
  }
}
function dispatchTooltipFinally(i, r) {
  var n = i.showTip.length, o = i.hideTip.length, a;
  n ? a = i.showTip[n - 1] : o && (a = i.hideTip[o - 1]), a && (a.dispatchAction = null, r.dispatchAction(a));
}
function onLeave(i, r, n) {
  i.handler("leave", null, n);
}
function doEnter(i, r, n, o) {
  r.handler(i, n, o);
}
function makeDispatchAction$1(i) {
  var r = {
    showTip: [],
    hideTip: []
  }, n = function(o) {
    var a = r[o.type];
    a ? a.push(o) : (o.dispatchAction = n, i.dispatchAction(o));
  };
  return {
    dispatchAction: n,
    pendings: r
  };
}
function unregister(i, r) {
  if (!env$1.node) {
    var n = r.getZr(), o = (inner$1(n).records || {})[i];
    o && (inner$1(n).records[i] = null);
  }
}
var AxisPointerView = (
  /** @class */
  function(i) {
    __extends(r, i);
    function r() {
      var n = i !== null && i.apply(this, arguments) || this;
      return n.type = r.type, n;
    }
    return r.prototype.render = function(n, o, a) {
      var u = o.getComponent("tooltip"), c = n.get("triggerOn") || u && u.get("triggerOn") || "mousemove|click";
      register("axisPointer", a, function(d, f, p) {
        c !== "none" && (d === "leave" || c.indexOf(d) >= 0) && p({
          type: "updateAxisPointer",
          currTrigger: d,
          x: f && f.offsetX,
          y: f && f.offsetY
        });
      });
    }, r.prototype.remove = function(n, o) {
      unregister("axisPointer", o);
    }, r.prototype.dispose = function(n, o) {
      unregister("axisPointer", o);
    }, r.type = "axisPointer", r;
  }(ComponentView$1)
);
const AxisPointerView$1 = AxisPointerView;
function findPointFromSeries(i, r) {
  var n = [], o = i.seriesIndex, a;
  if (o == null || !(a = r.getSeriesByIndex(o)))
    return {
      point: []
    };
  var u = a.getData(), c = queryDataIndex(u, i);
  if (c == null || c < 0 || isArray$1(c))
    return {
      point: []
    };
  var d = u.getItemGraphicEl(c), f = a.coordinateSystem;
  if (a.getTooltipPosition)
    n = a.getTooltipPosition(c) || [];
  else if (f && f.dataToPoint)
    if (i.isStacked) {
      var p = f.getBaseAxis(), _ = f.getOtherAxis(p), v = _.dim, g = p.dim, y = v === "x" || v === "radius" ? 1 : 0, b = u.mapDimension(g), A = [];
      A[y] = u.get(b, c), A[1 - y] = u.get(u.getCalculationInfo("stackResultDimension"), c), n = f.dataToPoint(A) || [];
    } else
      n = f.dataToPoint(u.getValues(map$1(f.dimensions, function(S) {
        return u.mapDimension(S);
      }), c)) || [];
  else if (d) {
    var w = d.getBoundingRect().clone();
    w.applyTransform(d.transform), n = [w.x + w.width / 2, w.y + w.height / 2];
  }
  return {
    point: n,
    el: d
  };
}
var inner = makeInner();
function axisTrigger(i, r, n) {
  var o = i.currTrigger, a = [i.x, i.y], u = i, c = i.dispatchAction || bind$1(n.dispatchAction, n), d = r.getComponent("axisPointer").coordSysAxesInfo;
  if (d) {
    illegalPoint(a) && (a = findPointFromSeries({
      seriesIndex: u.seriesIndex,
      // Do not use dataIndexInside from other ec instance.
      // FIXME: auto detect it?
      dataIndex: u.dataIndex
    }, r).point);
    var f = illegalPoint(a), p = u.axesInfo, _ = d.axesInfo, v = o === "leave" || illegalPoint(a), g = {}, y = {}, b = {
      list: [],
      map: {}
    }, A = {
      showPointer: curry$1(showPointer, y),
      showTooltip: curry$1(showTooltip, b)
    };
    each$4(d.coordSysMap, function(S, T) {
      var x = f || S.containPoint(a);
      each$4(d.coordSysAxesInfo[T], function(L, O) {
        var M = L.axis, k = findInputAxisInfo(p, L);
        if (!v && x && (!p || k)) {
          var ie = k && k.value;
          ie == null && !f && (ie = M.pointToData(a)), ie != null && processOnAxis(L, ie, A, !1, g);
        }
      });
    });
    var w = {};
    return each$4(_, function(S, T) {
      var x = S.linkGroup;
      x && !y[T] && each$4(x.axesInfo, function(L, O) {
        var M = y[O];
        if (L !== S && M) {
          var k = M.value;
          x.mapper && (k = S.axis.scale.parse(x.mapper(k, makeMapperParam(L), makeMapperParam(S)))), w[S.key] = k;
        }
      });
    }), each$4(w, function(S, T) {
      processOnAxis(_[T], S, A, !0, g);
    }), updateModelActually(y, _, g), dispatchTooltipActually(b, a, i, c), dispatchHighDownActually(_, c, n), g;
  }
}
function processOnAxis(i, r, n, o, a) {
  var u = i.axis;
  if (!(u.scale.isBlank() || !u.containData(r))) {
    if (!i.involveSeries) {
      n.showPointer(i, r);
      return;
    }
    var c = buildPayloadsBySeries(r, i), d = c.payloadBatch, f = c.snapToValue;
    d[0] && a.seriesIndex == null && extend(a, d[0]), !o && i.snap && u.containData(f) && f != null && (r = f), n.showPointer(i, r, d), n.showTooltip(i, c, f);
  }
}
function buildPayloadsBySeries(i, r) {
  var n = r.axis, o = n.dim, a = i, u = [], c = Number.MAX_VALUE, d = -1;
  return each$4(r.seriesModels, function(f, p) {
    var _ = f.getData().mapDimensionsAll(o), v, g;
    if (f.getAxisTooltipData) {
      var y = f.getAxisTooltipData(_, i, n);
      g = y.dataIndices, v = y.nestestValue;
    } else {
      if (g = f.getData().indicesOfNearest(
        _[0],
        i,
        // Add a threshold to avoid find the wrong dataIndex
        // when data length is not same.
        // false,
        n.type === "category" ? 0.5 : null
      ), !g.length)
        return;
      v = f.getData().get(_[0], g[0]);
    }
    if (!(v == null || !isFinite(v))) {
      var b = i - v, A = Math.abs(b);
      A <= c && ((A < c || b >= 0 && d < 0) && (c = A, d = b, a = v, u.length = 0), each$4(g, function(w) {
        u.push({
          seriesIndex: f.seriesIndex,
          dataIndexInside: w,
          dataIndex: f.getData().getRawIndex(w)
        });
      }));
    }
  }), {
    payloadBatch: u,
    snapToValue: a
  };
}
function showPointer(i, r, n, o) {
  i[r.key] = {
    value: n,
    payloadBatch: o
  };
}
function showTooltip(i, r, n, o) {
  var a = n.payloadBatch, u = r.axis, c = u.model, d = r.axisPointerModel;
  if (!(!r.triggerTooltip || !a.length)) {
    var f = r.coordSys.model, p = makeKey(f), _ = i.map[p];
    _ || (_ = i.map[p] = {
      coordSysId: f.id,
      coordSysIndex: f.componentIndex,
      coordSysType: f.type,
      coordSysMainType: f.mainType,
      dataByAxis: []
    }, i.list.push(_)), _.dataByAxis.push({
      axisDim: u.dim,
      axisIndex: c.componentIndex,
      axisType: c.type,
      axisId: c.id,
      value: o,
      // Caustion: viewHelper.getValueLabel is actually on "view stage", which
      // depends that all models have been updated. So it should not be performed
      // here. Considering axisPointerModel used here is volatile, which is hard
      // to be retrieve in TooltipView, we prepare parameters here.
      valueLabelOpt: {
        precision: d.get(["label", "precision"]),
        formatter: d.get(["label", "formatter"])
      },
      seriesDataIndices: a.slice()
    });
  }
}
function updateModelActually(i, r, n) {
  var o = n.axesInfo = [];
  each$4(r, function(a, u) {
    var c = a.axisPointerModel.option, d = i[u];
    d ? (!a.useHandle && (c.status = "show"), c.value = d.value, c.seriesDataIndices = (d.payloadBatch || []).slice()) : !a.useHandle && (c.status = "hide"), c.status === "show" && o.push({
      axisDim: a.axis.dim,
      axisIndex: a.axis.model.componentIndex,
      value: c.value
    });
  });
}
function dispatchTooltipActually(i, r, n, o) {
  if (illegalPoint(r) || !i.list.length) {
    o({
      type: "hideTip"
    });
    return;
  }
  var a = ((i.list[0].dataByAxis[0] || {}).seriesDataIndices || [])[0] || {};
  o({
    type: "showTip",
    escapeConnect: !0,
    x: r[0],
    y: r[1],
    tooltipOption: n.tooltipOption,
    position: n.position,
    dataIndexInside: a.dataIndexInside,
    dataIndex: a.dataIndex,
    seriesIndex: a.seriesIndex,
    dataByCoordSys: i.list
  });
}
function dispatchHighDownActually(i, r, n) {
  var o = n.getZr(), a = "axisPointerLastHighlights", u = inner(o)[a] || {}, c = inner(o)[a] = {};
  each$4(i, function(p, _) {
    var v = p.axisPointerModel.option;
    v.status === "show" && p.triggerEmphasis && each$4(v.seriesDataIndices, function(g) {
      var y = g.seriesIndex + " | " + g.dataIndex;
      c[y] = g;
    });
  });
  var d = [], f = [];
  each$4(u, function(p, _) {
    !c[_] && f.push(p);
  }), each$4(c, function(p, _) {
    !u[_] && d.push(p);
  }), f.length && n.dispatchAction({
    type: "downplay",
    escapeConnect: !0,
    // Not blur others when highlight in axisPointer.
    notBlur: !0,
    batch: f
  }), d.length && n.dispatchAction({
    type: "highlight",
    escapeConnect: !0,
    // Not blur others when highlight in axisPointer.
    notBlur: !0,
    batch: d
  });
}
function findInputAxisInfo(i, r) {
  for (var n = 0; n < (i || []).length; n++) {
    var o = i[n];
    if (r.axis.dim === o.axisDim && r.axis.model.componentIndex === o.axisIndex)
      return o;
  }
}
function makeMapperParam(i) {
  var r = i.axis.model, n = {}, o = n.axisDim = i.axis.dim;
  return n.axisIndex = n[o + "AxisIndex"] = r.componentIndex, n.axisName = n[o + "AxisName"] = r.name, n.axisId = n[o + "AxisId"] = r.id, n;
}
function illegalPoint(i) {
  return !i || i[0] == null || isNaN(i[0]) || i[1] == null || isNaN(i[1]);
}
function install$5(i) {
  AxisView$1.registerAxisPointerClass("CartesianAxisPointer", CartesianAxisPointer$1), i.registerComponentModel(AxisPointerModel$1), i.registerComponentView(AxisPointerView$1), i.registerPreprocessor(function(r) {
    if (r) {
      (!r.axisPointer || r.axisPointer.length === 0) && (r.axisPointer = {});
      var n = r.axisPointer.link;
      n && !isArray$1(n) && (r.axisPointer.link = [n]);
    }
  }), i.registerProcessor(i.PRIORITY.PROCESSOR.STATISTIC, function(r, n) {
    r.getComponent("axisPointer").coordSysAxesInfo = collect(r, n);
  }), i.registerAction({
    type: "updateAxisPointer",
    event: "updateAxisPointer",
    update: ":updateAxisPointer"
  }, axisTrigger);
}
function makeBackground(i, r) {
  var n = normalizeCssArray(r.get("padding")), o = r.getItemStyle(["color", "opacity"]);
  return o.fill = r.get("backgroundColor"), i = new Rect$1({
    shape: {
      x: i.x - n[3],
      y: i.y - n[0],
      width: i.width + n[1] + n[3],
      height: i.height + n[0] + n[2],
      r: r.get("borderRadius")
    },
    style: o,
    silent: !0,
    z2: -1
  }), i;
}
var TooltipModel = (
  /** @class */
  function(i) {
    __extends(r, i);
    function r() {
      var n = i !== null && i.apply(this, arguments) || this;
      return n.type = r.type, n;
    }
    return r.type = "tooltip", r.dependencies = ["axisPointer"], r.defaultOption = {
      // zlevel: 0,
      z: 60,
      show: !0,
      // tooltip main content
      showContent: !0,
      // 'trigger' only works on coordinate system.
      // 'item' | 'axis' | 'none'
      trigger: "item",
      // 'click' | 'mousemove' | 'none'
      triggerOn: "mousemove|click",
      alwaysShowContent: !1,
      displayMode: "single",
      renderMode: "auto",
      // whether restraint content inside viewRect.
      // If renderMode: 'richText', default true.
      // If renderMode: 'html', defaut false (for backward compat).
      confine: null,
      showDelay: 0,
      hideDelay: 100,
      // Animation transition time, unit is second
      transitionDuration: 0.4,
      enterable: !1,
      backgroundColor: "#fff",
      // box shadow
      shadowBlur: 10,
      shadowColor: "rgba(0, 0, 0, .2)",
      shadowOffsetX: 1,
      shadowOffsetY: 2,
      // tooltip border radius, unit is px, default is 4
      borderRadius: 4,
      // tooltip border width, unit is px, default is 0 (no border)
      borderWidth: 1,
      // Tooltip inside padding, default is 5 for all direction
      // Array is allowed to set up, right, bottom, left, same with css
      // The default value: See `tooltip/tooltipMarkup.ts#getPaddingFromTooltipModel`.
      padding: null,
      // Extra css text
      extraCssText: "",
      // axis indicator, trigger by axis
      axisPointer: {
        // default is line
        // legal values: 'line' | 'shadow' | 'cross'
        type: "line",
        // Valid when type is line, appoint tooltip line locate on which line. Optional
        // legal values: 'x' | 'y' | 'angle' | 'radius' | 'auto'
        // default is 'auto', chose the axis which type is category.
        // for multiply y axis, cartesian coord chose x axis, polar chose angle axis
        axis: "auto",
        animation: "auto",
        animationDurationUpdate: 200,
        animationEasingUpdate: "exponentialOut",
        crossStyle: {
          color: "#999",
          width: 1,
          type: "dashed",
          // TODO formatter
          textStyle: {}
        }
        // lineStyle and shadowStyle should not be specified here,
        // otherwise it will always override those styles on option.axisPointer.
      },
      textStyle: {
        color: "#666",
        fontSize: 14
      }
    }, r;
  }(ComponentModel$1)
);
const TooltipModel$1 = TooltipModel;
function shouldTooltipConfine(i) {
  var r = i.get("confine");
  return r != null ? !!r : i.get("renderMode") === "richText";
}
function testStyle(i) {
  if (env$1.domSupported) {
    for (var r = document.documentElement.style, n = 0, o = i.length; n < o; n++)
      if (i[n] in r)
        return i[n];
  }
}
var TRANSFORM_VENDOR = testStyle(["transform", "webkitTransform", "OTransform", "MozTransform", "msTransform"]), TRANSITION_VENDOR = testStyle(["webkitTransition", "transition", "OTransition", "MozTransition", "msTransition"]);
function toCSSVendorPrefix(i, r) {
  if (!i)
    return r;
  r = toCamelCase(r, !0);
  var n = i.indexOf(r);
  return i = n === -1 ? r : "-" + i.slice(0, n) + "-" + r, i.toLowerCase();
}
function getComputedStyle$1(i, r) {
  var n = i.currentStyle || document.defaultView && document.defaultView.getComputedStyle(i);
  return n ? r ? n[r] : n : null;
}
var CSS_TRANSITION_VENDOR = toCSSVendorPrefix(TRANSITION_VENDOR, "transition"), CSS_TRANSFORM_VENDOR = toCSSVendorPrefix(TRANSFORM_VENDOR, "transform"), gCssText = "position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;" + (env$1.transform3dSupported ? "will-change:transform;" : "");
function mirrorPos(i) {
  return i = i === "left" ? "right" : i === "right" ? "left" : i === "top" ? "bottom" : "top", i;
}
function assembleArrow(i, r, n) {
  if (!isString$2(n) || n === "inside")
    return "";
  var o = i.get("backgroundColor"), a = i.get("borderWidth");
  r = convertToColorString(r);
  var u = mirrorPos(n), c = Math.max(Math.round(a) * 1.5, 6), d = "", f = CSS_TRANSFORM_VENDOR + ":", p;
  indexOf(["left", "right"], u) > -1 ? (d += "top:50%", f += "translateY(-50%) rotate(" + (p = u === "left" ? -225 : -45) + "deg)") : (d += "left:50%", f += "translateX(-50%) rotate(" + (p = u === "top" ? 225 : 45) + "deg)");
  var _ = p * Math.PI / 180, v = c + a, g = v * Math.abs(Math.cos(_)) + v * Math.abs(Math.sin(_)), y = Math.round(((g - Math.SQRT2 * a) / 2 + Math.SQRT2 * a - (g - v) / 2) * 100) / 100;
  d += ";" + u + ":-" + y + "px";
  var b = r + " solid " + a + "px;", A = ["position:absolute;width:" + c + "px;height:" + c + "px;z-index:-1;", d + ";" + f + ";", "border-bottom:" + b, "border-right:" + b, "background-color:" + o + ";"];
  return '<div style="' + A.join("") + '"></div>';
}
function assembleTransition(i, r) {
  var n = "cubic-bezier(0.23,1,0.32,1)", o = " " + i / 2 + "s " + n, a = "opacity" + o + ",visibility" + o;
  return r || (o = " " + i + "s " + n, a += env$1.transformSupported ? "," + CSS_TRANSFORM_VENDOR + o : ",left" + o + ",top" + o), CSS_TRANSITION_VENDOR + ":" + a;
}
function assembleTransform(i, r, n) {
  var o = i.toFixed(0) + "px", a = r.toFixed(0) + "px";
  if (!env$1.transformSupported)
    return n ? "top:" + a + ";left:" + o + ";" : [["top", a], ["left", o]];
  var u = env$1.transform3dSupported, c = "translate" + (u ? "3d" : "") + "(" + o + "," + a + (u ? ",0" : "") + ")";
  return n ? "top:0;left:0;" + CSS_TRANSFORM_VENDOR + ":" + c + ";" : [["top", 0], ["left", 0], [TRANSFORM_VENDOR, c]];
}
function assembleFont(i) {
  var r = [], n = i.get("fontSize"), o = i.getTextColor();
  o && r.push("color:" + o), r.push("font:" + i.getFont()), n && r.push("line-height:" + Math.round(n * 3 / 2) + "px");
  var a = i.get("textShadowColor"), u = i.get("textShadowBlur") || 0, c = i.get("textShadowOffsetX") || 0, d = i.get("textShadowOffsetY") || 0;
  return a && u && r.push("text-shadow:" + c + "px " + d + "px " + u + "px " + a), each$4(["decoration", "align"], function(f) {
    var p = i.get(f);
    p && r.push("text-" + f + ":" + p);
  }), r.join(";");
}
function assembleCssText(i, r, n) {
  var o = [], a = i.get("transitionDuration"), u = i.get("backgroundColor"), c = i.get("shadowBlur"), d = i.get("shadowColor"), f = i.get("shadowOffsetX"), p = i.get("shadowOffsetY"), _ = i.getModel("textStyle"), v = getPaddingFromTooltipModel(i, "html"), g = f + "px " + p + "px " + c + "px " + d;
  return o.push("box-shadow:" + g), r && a && o.push(assembleTransition(a, n)), u && o.push("background-color:" + u), each$4(["width", "color", "radius"], function(y) {
    var b = "border-" + y, A = toCamelCase(b), w = i.get(A);
    w != null && o.push(b + ":" + w + (y === "color" ? "" : "px"));
  }), o.push(assembleFont(_)), v != null && o.push("padding:" + normalizeCssArray(v).join("px ") + "px"), o.join(";") + ";";
}
function makeStyleCoord$1(i, r, n, o, a) {
  var u = r && r.painter;
  if (n) {
    var c = u && u.getViewportRoot();
    c && transformLocalCoord(i, c, n, o, a);
  } else {
    i[0] = o, i[1] = a;
    var d = u && u.getViewportRootOffset();
    d && (i[0] += d.offsetLeft, i[1] += d.offsetTop);
  }
  i[2] = i[0] / r.getWidth(), i[3] = i[1] / r.getHeight();
}
var TooltipHTMLContent = (
  /** @class */
  function() {
    function i(r, n) {
      if (this._show = !1, this._styleCoord = [0, 0, 0, 0], this._enterable = !0, this._alwaysShowContent = !1, this._firstShow = !0, this._longHide = !0, env$1.wxa)
        return null;
      var o = document.createElement("div");
      o.domBelongToZr = !0, this.el = o;
      var a = this._zr = r.getZr(), u = n.appendTo, c = u && (isString$2(u) ? document.querySelector(u) : isDom(u) ? u : isFunction$1(u) && u(r.getDom()));
      makeStyleCoord$1(this._styleCoord, a, c, r.getWidth() / 2, r.getHeight() / 2), (c || r.getDom()).appendChild(o), this._api = r, this._container = c;
      var d = this;
      o.onmouseenter = function() {
        d._enterable && (clearTimeout(d._hideTimeout), d._show = !0), d._inContent = !0;
      }, o.onmousemove = function(f) {
        if (f = f || window.event, !d._enterable) {
          var p = a.handler, _ = a.painter.getViewportRoot();
          normalizeEvent(_, f, !0), p.dispatch("mousemove", f);
        }
      }, o.onmouseleave = function() {
        d._inContent = !1, d._enterable && d._show && d.hideLater(d._hideDelay);
      };
    }
    return i.prototype.update = function(r) {
      if (!this._container) {
        var n = this._api.getDom(), o = getComputedStyle$1(n, "position"), a = n.style;
        a.position !== "absolute" && o !== "absolute" && (a.position = "relative");
      }
      var u = r.get("alwaysShowContent");
      u && this._moveIfResized(), this._alwaysShowContent = u, this.el.className = r.get("className") || "";
    }, i.prototype.show = function(r, n) {
      clearTimeout(this._hideTimeout), clearTimeout(this._longHideTimeout);
      var o = this.el, a = o.style, u = this._styleCoord;
      o.innerHTML ? a.cssText = gCssText + assembleCssText(r, !this._firstShow, this._longHide) + assembleTransform(u[0], u[1], !0) + ("border-color:" + convertToColorString(n) + ";") + (r.get("extraCssText") || "") + (";pointer-events:" + (this._enterable ? "auto" : "none")) : a.display = "none", this._show = !0, this._firstShow = !1, this._longHide = !1;
    }, i.prototype.setContent = function(r, n, o, a, u) {
      var c = this.el;
      if (r == null) {
        c.innerHTML = "";
        return;
      }
      var d = "";
      if (isString$2(u) && o.get("trigger") === "item" && !shouldTooltipConfine(o) && (d = assembleArrow(o, a, u)), isString$2(r))
        c.innerHTML = r + d;
      else if (r) {
        c.innerHTML = "", isArray$1(r) || (r = [r]);
        for (var f = 0; f < r.length; f++)
          isDom(r[f]) && r[f].parentNode !== c && c.appendChild(r[f]);
        if (d && c.childNodes.length) {
          var p = document.createElement("div");
          p.innerHTML = d, c.appendChild(p);
        }
      }
    }, i.prototype.setEnterable = function(r) {
      this._enterable = r;
    }, i.prototype.getSize = function() {
      var r = this.el;
      return [r.offsetWidth, r.offsetHeight];
    }, i.prototype.moveTo = function(r, n) {
      var o = this._styleCoord;
      if (makeStyleCoord$1(o, this._zr, this._container, r, n), o[0] != null && o[1] != null) {
        var a = this.el.style, u = assembleTransform(o[0], o[1]);
        each$4(u, function(c) {
          a[c[0]] = c[1];
        });
      }
    }, i.prototype._moveIfResized = function() {
      var r = this._styleCoord[2], n = this._styleCoord[3];
      this.moveTo(r * this._zr.getWidth(), n * this._zr.getHeight());
    }, i.prototype.hide = function() {
      var r = this, n = this.el.style;
      n.visibility = "hidden", n.opacity = "0", env$1.transform3dSupported && (n.willChange = ""), this._show = !1, this._longHideTimeout = setTimeout(function() {
        return r._longHide = !0;
      }, 500);
    }, i.prototype.hideLater = function(r) {
      this._show && !(this._inContent && this._enterable) && !this._alwaysShowContent && (r ? (this._hideDelay = r, this._show = !1, this._hideTimeout = setTimeout(bind$1(this.hide, this), r)) : this.hide());
    }, i.prototype.isShow = function() {
      return this._show;
    }, i.prototype.dispose = function() {
      clearTimeout(this._hideTimeout), clearTimeout(this._longHideTimeout);
      var r = this.el.parentNode;
      r && r.removeChild(this.el), this.el = this._container = null;
    }, i;
  }()
);
const TooltipHTMLContent$1 = TooltipHTMLContent;
var TooltipRichContent = (
  /** @class */
  function() {
    function i(r) {
      this._show = !1, this._styleCoord = [0, 0, 0, 0], this._alwaysShowContent = !1, this._enterable = !0, this._zr = r.getZr(), makeStyleCoord(this._styleCoord, this._zr, r.getWidth() / 2, r.getHeight() / 2);
    }
    return i.prototype.update = function(r) {
      var n = r.get("alwaysShowContent");
      n && this._moveIfResized(), this._alwaysShowContent = n;
    }, i.prototype.show = function() {
      this._hideTimeout && clearTimeout(this._hideTimeout), this.el.show(), this._show = !0;
    }, i.prototype.setContent = function(r, n, o, a, u) {
      var c = this;
      isObject$3(r) && throwError$1(process.env.NODE_ENV !== "production" ? "Passing DOM nodes as content is not supported in richText tooltip!" : ""), this.el && this._zr.remove(this.el);
      var d = o.getModel("textStyle");
      this.el = new ZRText$1({
        style: {
          rich: n.richTextStyles,
          text: r,
          lineHeight: 22,
          borderWidth: 1,
          borderColor: a,
          textShadowColor: d.get("textShadowColor"),
          fill: o.get(["textStyle", "color"]),
          padding: getPaddingFromTooltipModel(o, "richText"),
          verticalAlign: "top",
          align: "left"
        },
        z: o.get("z")
      }), each$4(["backgroundColor", "borderRadius", "shadowColor", "shadowBlur", "shadowOffsetX", "shadowOffsetY"], function(p) {
        c.el.style[p] = o.get(p);
      }), each$4(["textShadowBlur", "textShadowOffsetX", "textShadowOffsetY"], function(p) {
        c.el.style[p] = d.get(p) || 0;
      }), this._zr.add(this.el);
      var f = this;
      this.el.on("mouseover", function() {
        f._enterable && (clearTimeout(f._hideTimeout), f._show = !0), f._inContent = !0;
      }), this.el.on("mouseout", function() {
        f._enterable && f._show && f.hideLater(f._hideDelay), f._inContent = !1;
      });
    }, i.prototype.setEnterable = function(r) {
      this._enterable = r;
    }, i.prototype.getSize = function() {
      var r = this.el, n = this.el.getBoundingRect(), o = calcShadowOuterSize(r.style);
      return [n.width + o.left + o.right, n.height + o.top + o.bottom];
    }, i.prototype.moveTo = function(r, n) {
      var o = this.el;
      if (o) {
        var a = this._styleCoord;
        makeStyleCoord(a, this._zr, r, n), r = a[0], n = a[1];
        var u = o.style, c = mathMaxWith0(u.borderWidth || 0), d = calcShadowOuterSize(u);
        o.x = r + c + d.left, o.y = n + c + d.top, o.markRedraw();
      }
    }, i.prototype._moveIfResized = function() {
      var r = this._styleCoord[2], n = this._styleCoord[3];
      this.moveTo(r * this._zr.getWidth(), n * this._zr.getHeight());
    }, i.prototype.hide = function() {
      this.el && this.el.hide(), this._show = !1;
    }, i.prototype.hideLater = function(r) {
      this._show && !(this._inContent && this._enterable) && !this._alwaysShowContent && (r ? (this._hideDelay = r, this._show = !1, this._hideTimeout = setTimeout(bind$1(this.hide, this), r)) : this.hide());
    }, i.prototype.isShow = function() {
      return this._show;
    }, i.prototype.dispose = function() {
      this._zr.remove(this.el);
    }, i;
  }()
);
function mathMaxWith0(i) {
  return Math.max(0, i);
}
function calcShadowOuterSize(i) {
  var r = mathMaxWith0(i.shadowBlur || 0), n = mathMaxWith0(i.shadowOffsetX || 0), o = mathMaxWith0(i.shadowOffsetY || 0);
  return {
    left: mathMaxWith0(r - n),
    right: mathMaxWith0(r + n),
    top: mathMaxWith0(r - o),
    bottom: mathMaxWith0(r + o)
  };
}
function makeStyleCoord(i, r, n, o) {
  i[0] = n, i[1] = o, i[2] = i[0] / r.getWidth(), i[3] = i[1] / r.getHeight();
}
const TooltipRichContent$1 = TooltipRichContent;
var proxyRect = new Rect$1({
  shape: {
    x: -1,
    y: -1,
    width: 2,
    height: 2
  }
}), TooltipView = (
  /** @class */
  function(i) {
    __extends(r, i);
    function r() {
      var n = i !== null && i.apply(this, arguments) || this;
      return n.type = r.type, n;
    }
    return r.prototype.init = function(n, o) {
      if (!(env$1.node || !o.getDom())) {
        var a = n.getComponent("tooltip"), u = this._renderMode = getTooltipRenderMode(a.get("renderMode"));
        this._tooltipContent = u === "richText" ? new TooltipRichContent$1(o) : new TooltipHTMLContent$1(o, {
          appendTo: a.get("appendToBody", !0) ? "body" : a.get("appendTo", !0)
        });
      }
    }, r.prototype.render = function(n, o, a) {
      if (!(env$1.node || !a.getDom())) {
        this.group.removeAll(), this._tooltipModel = n, this._ecModel = o, this._api = a;
        var u = this._tooltipContent;
        u.update(n), u.setEnterable(n.get("enterable")), this._initGlobalListener(), this._keepShow(), this._renderMode !== "richText" && n.get("transitionDuration") ? createOrUpdate(this, "_updatePosition", 50, "fixRate") : clear(this, "_updatePosition");
      }
    }, r.prototype._initGlobalListener = function() {
      var n = this._tooltipModel, o = n.get("triggerOn");
      register("itemTooltip", this._api, bind$1(function(a, u, c) {
        o !== "none" && (o.indexOf(a) >= 0 ? this._tryShow(u, c) : a === "leave" && this._hide(c));
      }, this));
    }, r.prototype._keepShow = function() {
      var n = this._tooltipModel, o = this._ecModel, a = this._api, u = n.get("triggerOn");
      if (this._lastX != null && this._lastY != null && u !== "none" && u !== "click") {
        var c = this;
        clearTimeout(this._refreshUpdateTimeout), this._refreshUpdateTimeout = setTimeout(function() {
          !a.isDisposed() && c.manuallyShowTip(n, o, a, {
            x: c._lastX,
            y: c._lastY,
            dataByCoordSys: c._lastDataByCoordSys
          });
        });
      }
    }, r.prototype.manuallyShowTip = function(n, o, a, u) {
      if (!(u.from === this.uid || env$1.node || !a.getDom())) {
        var c = makeDispatchAction(u, a);
        this._ticket = "";
        var d = u.dataByCoordSys, f = findComponentReference(u, o, a);
        if (f) {
          var p = f.el.getBoundingRect().clone();
          p.applyTransform(f.el.transform), this._tryShow({
            offsetX: p.x + p.width / 2,
            offsetY: p.y + p.height / 2,
            target: f.el,
            position: u.position,
            // When manully trigger, the mouse is not on the el, so we'd better to
            // position tooltip on the bottom of the el and display arrow is possible.
            positionDefault: "bottom"
          }, c);
        } else if (u.tooltip && u.x != null && u.y != null) {
          var _ = proxyRect;
          _.x = u.x, _.y = u.y, _.update(), getECData(_).tooltipConfig = {
            name: null,
            option: u.tooltip
          }, this._tryShow({
            offsetX: u.x,
            offsetY: u.y,
            target: _
          }, c);
        } else if (d)
          this._tryShow({
            offsetX: u.x,
            offsetY: u.y,
            position: u.position,
            dataByCoordSys: d,
            tooltipOption: u.tooltipOption
          }, c);
        else if (u.seriesIndex != null) {
          if (this._manuallyAxisShowTip(n, o, a, u))
            return;
          var v = findPointFromSeries(u, o), g = v.point[0], y = v.point[1];
          g != null && y != null && this._tryShow({
            offsetX: g,
            offsetY: y,
            target: v.el,
            position: u.position,
            // When manully trigger, the mouse is not on the el, so we'd better to
            // position tooltip on the bottom of the el and display arrow is possible.
            positionDefault: "bottom"
          }, c);
        } else
          u.x != null && u.y != null && (a.dispatchAction({
            type: "updateAxisPointer",
            x: u.x,
            y: u.y
          }), this._tryShow({
            offsetX: u.x,
            offsetY: u.y,
            position: u.position,
            target: a.getZr().findHover(u.x, u.y).target
          }, c));
      }
    }, r.prototype.manuallyHideTip = function(n, o, a, u) {
      var c = this._tooltipContent;
      this._tooltipModel && c.hideLater(this._tooltipModel.get("hideDelay")), this._lastX = this._lastY = this._lastDataByCoordSys = null, u.from !== this.uid && this._hide(makeDispatchAction(u, a));
    }, r.prototype._manuallyAxisShowTip = function(n, o, a, u) {
      var c = u.seriesIndex, d = u.dataIndex, f = o.getComponent("axisPointer").coordSysAxesInfo;
      if (!(c == null || d == null || f == null)) {
        var p = o.getSeriesByIndex(c);
        if (p) {
          var _ = p.getData(), v = buildTooltipModel([_.getItemModel(d), p, (p.coordinateSystem || {}).model], this._tooltipModel);
          if (v.get("trigger") === "axis")
            return a.dispatchAction({
              type: "updateAxisPointer",
              seriesIndex: c,
              dataIndex: d,
              position: u.position
            }), !0;
        }
      }
    }, r.prototype._tryShow = function(n, o) {
      var a = n.target, u = this._tooltipModel;
      if (u) {
        this._lastX = n.offsetX, this._lastY = n.offsetY;
        var c = n.dataByCoordSys;
        if (c && c.length)
          this._showAxisTooltip(c, n);
        else if (a) {
          var d = getECData(a);
          if (d.ssrType === "legend")
            return;
          this._lastDataByCoordSys = null;
          var f, p;
          findEventDispatcher(a, function(_) {
            if (getECData(_).dataIndex != null)
              return f = _, !0;
            if (getECData(_).tooltipConfig != null)
              return p = _, !0;
          }, !0), f ? this._showSeriesItemTooltip(n, f, o) : p ? this._showComponentItemTooltip(n, p, o) : this._hide(o);
        } else
          this._lastDataByCoordSys = null, this._hide(o);
      }
    }, r.prototype._showOrMove = function(n, o) {
      var a = n.get("showDelay");
      o = bind$1(o, this), clearTimeout(this._showTimout), a > 0 ? this._showTimout = setTimeout(o, a) : o();
    }, r.prototype._showAxisTooltip = function(n, o) {
      var a = this._ecModel, u = this._tooltipModel, c = [o.offsetX, o.offsetY], d = buildTooltipModel([o.tooltipOption], u), f = this._renderMode, p = [], _ = createTooltipMarkup("section", {
        blocks: [],
        noHeader: !0
      }), v = [], g = new TooltipMarkupStyleCreator();
      each$4(n, function(T) {
        each$4(T.dataByAxis, function(x) {
          var L = a.getComponent(x.axisDim + "Axis", x.axisIndex), O = x.value;
          if (!(!L || O == null)) {
            var M = getValueLabel(O, L.axis, a, x.seriesDataIndices, x.valueLabelOpt), k = createTooltipMarkup("section", {
              header: M,
              noHeader: !trim(M),
              sortBlocks: !0,
              blocks: []
            });
            _.blocks.push(k), each$4(x.seriesDataIndices, function(ie) {
              var $ = a.getSeriesByIndex(ie.seriesIndex), Y = ie.dataIndexInside, D = $.getDataParams(Y);
              if (!(D.dataIndex < 0)) {
                D.axisDim = x.axisDim, D.axisIndex = x.axisIndex, D.axisType = x.axisType, D.axisId = x.axisId, D.axisValue = getAxisRawValue(L.axis, {
                  value: O
                }), D.axisValueLabel = M, D.marker = g.makeTooltipMarker("item", convertToColorString(D.color), f);
                var re = normalizeTooltipFormatResult($.formatTooltip(Y, !0, null)), F = re.frag;
                if (F) {
                  var _e = buildTooltipModel([$], u).get("valueFormatter");
                  k.blocks.push(_e ? extend({
                    valueFormatter: _e
                  }, F) : F);
                }
                re.text && v.push(re.text), p.push(D);
              }
            });
          }
        });
      }), _.blocks.reverse(), v.reverse();
      var y = o.position, b = d.get("order"), A = buildTooltipMarkup(_, g, f, b, a.get("useUTC"), d.get("textStyle"));
      A && v.unshift(A);
      var w = f === "richText" ? `

` : "<br/>", S = v.join(w);
      this._showOrMove(d, function() {
        this._updateContentNotChangedOnAxis(n, p) ? this._updatePosition(d, y, c[0], c[1], this._tooltipContent, p) : this._showTooltipContent(d, S, p, Math.random() + "", c[0], c[1], y, null, g);
      });
    }, r.prototype._showSeriesItemTooltip = function(n, o, a) {
      var u = this._ecModel, c = getECData(o), d = c.seriesIndex, f = u.getSeriesByIndex(d), p = c.dataModel || f, _ = c.dataIndex, v = c.dataType, g = p.getData(v), y = this._renderMode, b = n.positionDefault, A = buildTooltipModel([g.getItemModel(_), p, f && (f.coordinateSystem || {}).model], this._tooltipModel, b ? {
        position: b
      } : null), w = A.get("trigger");
      if (!(w != null && w !== "item")) {
        var S = p.getDataParams(_, v), T = new TooltipMarkupStyleCreator();
        S.marker = T.makeTooltipMarker("item", convertToColorString(S.color), y);
        var x = normalizeTooltipFormatResult(p.formatTooltip(_, !1, v)), L = A.get("order"), O = A.get("valueFormatter"), M = x.frag, k = M ? buildTooltipMarkup(O ? extend({
          valueFormatter: O
        }, M) : M, T, y, L, u.get("useUTC"), A.get("textStyle")) : x.text, ie = "item_" + p.name + "_" + _;
        this._showOrMove(A, function() {
          this._showTooltipContent(A, k, S, ie, n.offsetX, n.offsetY, n.position, n.target, T);
        }), a({
          type: "showTip",
          dataIndexInside: _,
          dataIndex: g.getRawIndex(_),
          seriesIndex: d,
          from: this.uid
        });
      }
    }, r.prototype._showComponentItemTooltip = function(n, o, a) {
      var u = this._renderMode === "html", c = getECData(o), d = c.tooltipConfig, f = d.option || {}, p = f.encodeHTMLContent;
      if (isString$2(f)) {
        var _ = f;
        f = {
          content: _,
          // Fixed formatter
          formatter: _
        }, p = !0;
      }
      p && u && f.content && (f = clone$2(f), f.content = encodeHTML(f.content));
      var v = [f], g = this._ecModel.getComponent(c.componentMainType, c.componentIndex);
      g && v.push(g), v.push({
        formatter: f.content
      });
      var y = n.positionDefault, b = buildTooltipModel(v, this._tooltipModel, y ? {
        position: y
      } : null), A = b.get("content"), w = Math.random() + "", S = new TooltipMarkupStyleCreator();
      this._showOrMove(b, function() {
        var T = clone$2(b.get("formatterParams") || {});
        this._showTooltipContent(b, A, T, w, n.offsetX, n.offsetY, n.position, o, S);
      }), a({
        type: "showTip",
        from: this.uid
      });
    }, r.prototype._showTooltipContent = function(n, o, a, u, c, d, f, p, _) {
      if (this._ticket = "", !(!n.get("showContent") || !n.get("show"))) {
        var v = this._tooltipContent;
        v.setEnterable(n.get("enterable"));
        var g = n.get("formatter");
        f = f || n.get("position");
        var y = o, b = this._getNearestPoint([c, d], a, n.get("trigger"), n.get("borderColor")), A = b.color;
        if (g)
          if (isString$2(g)) {
            var w = n.ecModel.get("useUTC"), S = isArray$1(a) ? a[0] : a, T = S && S.axisType && S.axisType.indexOf("time") >= 0;
            y = g, T && (y = format$1(S.axisValue, y, w)), y = formatTpl(y, a, !0);
          } else if (isFunction$1(g)) {
            var x = bind$1(function(L, O) {
              L === this._ticket && (v.setContent(O, _, n, A, f), this._updatePosition(n, f, c, d, v, a, p));
            }, this);
            this._ticket = u, y = g(a, u, x);
          } else
            y = g;
        v.setContent(y, _, n, A, f), v.show(n, A), this._updatePosition(n, f, c, d, v, a, p);
      }
    }, r.prototype._getNearestPoint = function(n, o, a, u) {
      if (a === "axis" || isArray$1(o))
        return {
          color: u || (this._renderMode === "html" ? "#fff" : "none")
        };
      if (!isArray$1(o))
        return {
          color: u || o.color || o.borderColor
        };
    }, r.prototype._updatePosition = function(n, o, a, u, c, d, f) {
      var p = this._api.getWidth(), _ = this._api.getHeight();
      o = o || n.get("position");
      var v = c.getSize(), g = n.get("align"), y = n.get("verticalAlign"), b = f && f.getBoundingRect().clone();
      if (f && b.applyTransform(f.transform), isFunction$1(o) && (o = o([a, u], d, c.el, b, {
        viewSize: [p, _],
        contentSize: v.slice()
      })), isArray$1(o))
        a = parsePercent(o[0], p), u = parsePercent(o[1], _);
      else if (isObject$3(o)) {
        var A = o;
        A.width = v[0], A.height = v[1];
        var w = getLayoutRect(A, {
          width: p,
          height: _
        });
        a = w.x, u = w.y, g = null, y = null;
      } else if (isString$2(o) && f) {
        var S = calcTooltipPosition(o, b, v, n.get("borderWidth"));
        a = S[0], u = S[1];
      } else {
        var S = refixTooltipPosition(a, u, c, p, _, g ? null : 20, y ? null : 20);
        a = S[0], u = S[1];
      }
      if (g && (a -= isCenterAlign(g) ? v[0] / 2 : g === "right" ? v[0] : 0), y && (u -= isCenterAlign(y) ? v[1] / 2 : y === "bottom" ? v[1] : 0), shouldTooltipConfine(n)) {
        var S = confineTooltipPosition(a, u, c, p, _);
        a = S[0], u = S[1];
      }
      c.moveTo(a, u);
    }, r.prototype._updateContentNotChangedOnAxis = function(n, o) {
      var a = this._lastDataByCoordSys, u = this._cbParamsList, c = !!a && a.length === n.length;
      return c && each$4(a, function(d, f) {
        var p = d.dataByAxis || [], _ = n[f] || {}, v = _.dataByAxis || [];
        c = c && p.length === v.length, c && each$4(p, function(g, y) {
          var b = v[y] || {}, A = g.seriesDataIndices || [], w = b.seriesDataIndices || [];
          c = c && g.value === b.value && g.axisType === b.axisType && g.axisId === b.axisId && A.length === w.length, c && each$4(A, function(S, T) {
            var x = w[T];
            c = c && S.seriesIndex === x.seriesIndex && S.dataIndex === x.dataIndex;
          }), u && each$4(g.seriesDataIndices, function(S) {
            var T = S.seriesIndex, x = o[T], L = u[T];
            x && L && L.data !== x.data && (c = !1);
          });
        });
      }), this._lastDataByCoordSys = n, this._cbParamsList = o, !!c;
    }, r.prototype._hide = function(n) {
      this._lastDataByCoordSys = null, n({
        type: "hideTip",
        from: this.uid
      });
    }, r.prototype.dispose = function(n, o) {
      env$1.node || !o.getDom() || (clear(this, "_updatePosition"), this._tooltipContent.dispose(), unregister("itemTooltip", o));
    }, r.type = "tooltip", r;
  }(ComponentView$1)
);
function buildTooltipModel(i, r, n) {
  var o = r.ecModel, a;
  n ? (a = new Model$1(n, o, o), a = new Model$1(r.option, a, o)) : a = r;
  for (var u = i.length - 1; u >= 0; u--) {
    var c = i[u];
    c && (c instanceof Model$1 && (c = c.get("tooltip", !0)), isString$2(c) && (c = {
      formatter: c
    }), c && (a = new Model$1(c, a, o)));
  }
  return a;
}
function makeDispatchAction(i, r) {
  return i.dispatchAction || bind$1(r.dispatchAction, r);
}
function refixTooltipPosition(i, r, n, o, a, u, c) {
  var d = n.getSize(), f = d[0], p = d[1];
  return u != null && (i + f + u + 2 > o ? i -= f + u : i += u), c != null && (r + p + c > a ? r -= p + c : r += c), [i, r];
}
function confineTooltipPosition(i, r, n, o, a) {
  var u = n.getSize(), c = u[0], d = u[1];
  return i = Math.min(i + c, o) - c, r = Math.min(r + d, a) - d, i = Math.max(i, 0), r = Math.max(r, 0), [i, r];
}
function calcTooltipPosition(i, r, n, o) {
  var a = n[0], u = n[1], c = Math.ceil(Math.SQRT2 * o) + 8, d = 0, f = 0, p = r.width, _ = r.height;
  switch (i) {
    case "inside":
      d = r.x + p / 2 - a / 2, f = r.y + _ / 2 - u / 2;
      break;
    case "top":
      d = r.x + p / 2 - a / 2, f = r.y - u - c;
      break;
    case "bottom":
      d = r.x + p / 2 - a / 2, f = r.y + _ + c;
      break;
    case "left":
      d = r.x - a - c, f = r.y + _ / 2 - u / 2;
      break;
    case "right":
      d = r.x + p + c, f = r.y + _ / 2 - u / 2;
  }
  return [d, f];
}
function isCenterAlign(i) {
  return i === "center" || i === "middle";
}
function findComponentReference(i, r, n) {
  var o = preParseFinder(i).queryOptionMap, a = o.keys()[0];
  if (!(!a || a === "series")) {
    var u = queryReferringComponents(r, a, o.get(a), {
      useDefault: !1,
      enableAll: !1,
      enableNone: !1
    }), c = u.models[0];
    if (c) {
      var d = n.getViewOfComponentModel(c), f;
      if (d.group.traverse(function(p) {
        var _ = getECData(p).tooltipConfig;
        if (_ && _.name === i.name)
          return f = p, !0;
      }), f)
        return {
          componentMainType: a,
          componentIndex: c.componentIndex,
          el: f
        };
    }
  }
}
const TooltipView$1 = TooltipView;
function install$4(i) {
  use(install$5), i.registerComponentModel(TooltipModel$1), i.registerComponentView(TooltipView$1), i.registerAction({
    type: "showTip",
    event: "showTip",
    update: "tooltip:manuallyShowTip"
  }, noop$1), i.registerAction({
    type: "hideTip",
    event: "hideTip",
    update: "tooltip:manuallyHideTip"
  }, noop$1);
}
var TitleModel = (
  /** @class */
  function(i) {
    __extends(r, i);
    function r() {
      var n = i !== null && i.apply(this, arguments) || this;
      return n.type = r.type, n.layoutMode = {
        type: "box",
        ignoreSize: !0
      }, n;
    }
    return r.type = "title", r.defaultOption = {
      // zlevel: 0,
      z: 6,
      show: !0,
      text: "",
      target: "blank",
      subtext: "",
      subtarget: "blank",
      left: 0,
      top: 0,
      backgroundColor: "rgba(0,0,0,0)",
      borderColor: "#ccc",
      borderWidth: 0,
      padding: 5,
      itemGap: 10,
      textStyle: {
        fontSize: 18,
        fontWeight: "bold",
        color: "#464646"
      },
      subtextStyle: {
        fontSize: 12,
        color: "#6E7079"
      }
    }, r;
  }(ComponentModel$1)
), TitleView = (
  /** @class */
  function(i) {
    __extends(r, i);
    function r() {
      var n = i !== null && i.apply(this, arguments) || this;
      return n.type = r.type, n;
    }
    return r.prototype.render = function(n, o, a) {
      if (this.group.removeAll(), !!n.get("show")) {
        var u = this.group, c = n.getModel("textStyle"), d = n.getModel("subtextStyle"), f = n.get("textAlign"), p = retrieve2(n.get("textBaseline"), n.get("textVerticalAlign")), _ = new ZRText$1({
          style: createTextStyle(c, {
            text: n.get("text"),
            fill: c.getTextColor()
          }, {
            disableBox: !0
          }),
          z2: 10
        }), v = _.getBoundingRect(), g = n.get("subtext"), y = new ZRText$1({
          style: createTextStyle(d, {
            text: g,
            fill: d.getTextColor(),
            y: v.height + n.get("itemGap"),
            verticalAlign: "top"
          }, {
            disableBox: !0
          }),
          z2: 10
        }), b = n.get("link"), A = n.get("sublink"), w = n.get("triggerEvent", !0);
        _.silent = !b && !w, y.silent = !A && !w, b && _.on("click", function() {
          windowOpen(b, "_" + n.get("target"));
        }), A && y.on("click", function() {
          windowOpen(A, "_" + n.get("subtarget"));
        }), getECData(_).eventData = getECData(y).eventData = w ? {
          componentType: "title",
          componentIndex: n.componentIndex
        } : null, u.add(_), g && u.add(y);
        var S = u.getBoundingRect(), T = n.getBoxLayoutParams();
        T.width = S.width, T.height = S.height;
        var x = getLayoutRect(T, {
          width: a.getWidth(),
          height: a.getHeight()
        }, n.get("padding"));
        f || (f = n.get("left") || n.get("right"), f === "middle" && (f = "center"), f === "right" ? x.x += x.width : f === "center" && (x.x += x.width / 2)), p || (p = n.get("top") || n.get("bottom"), p === "center" && (p = "middle"), p === "bottom" ? x.y += x.height : p === "middle" && (x.y += x.height / 2), p = p || "top"), u.x = x.x, u.y = x.y, u.markRedraw();
        var L = {
          align: f,
          verticalAlign: p
        };
        _.setStyle(L), y.setStyle(L), S = u.getBoundingRect();
        var O = x.margin, M = n.getItemStyle(["color", "opacity"]);
        M.fill = n.get("backgroundColor");
        var k = new Rect$1({
          shape: {
            x: S.x - O[3],
            y: S.y - O[0],
            width: S.width + O[1] + O[3],
            height: S.height + O[0] + O[2],
            r: n.get("borderRadius")
          },
          style: M,
          subPixelOptimize: !0,
          silent: !0
        });
        u.add(k);
      }
    }, r.type = "title", r;
  }(ComponentView$1)
);
function install$3(i) {
  i.registerComponentModel(TitleModel), i.registerComponentView(TitleView);
}
var getDefaultSelectorOptions = function(i, r) {
  if (r === "all")
    return {
      type: "all",
      title: i.getLocaleModel().get(["legend", "selector", "all"])
    };
  if (r === "inverse")
    return {
      type: "inverse",
      title: i.getLocaleModel().get(["legend", "selector", "inverse"])
    };
}, LegendModel = (
  /** @class */
  function(i) {
    __extends(r, i);
    function r() {
      var n = i !== null && i.apply(this, arguments) || this;
      return n.type = r.type, n.layoutMode = {
        type: "box",
        // legend.width/height are maxWidth/maxHeight actually,
        // whereas real width/height is calculated by its content.
        // (Setting {left: 10, right: 10} does not make sense).
        // So consider the case:
        // `setOption({legend: {left: 10});`
        // then `setOption({legend: {right: 10});`
        // The previous `left` should be cleared by setting `ignoreSize`.
        ignoreSize: !0
      }, n;
    }
    return r.prototype.init = function(n, o, a) {
      this.mergeDefaultAndTheme(n, a), n.selected = n.selected || {}, this._updateSelector(n);
    }, r.prototype.mergeOption = function(n, o) {
      i.prototype.mergeOption.call(this, n, o), this._updateSelector(n);
    }, r.prototype._updateSelector = function(n) {
      var o = n.selector, a = this.ecModel;
      o === !0 && (o = n.selector = ["all", "inverse"]), isArray$1(o) && each$4(o, function(u, c) {
        isString$2(u) && (u = {
          type: u
        }), o[c] = merge(u, getDefaultSelectorOptions(a, u.type));
      });
    }, r.prototype.optionUpdated = function() {
      this._updateData(this.ecModel);
      var n = this._data;
      if (n[0] && this.get("selectedMode") === "single") {
        for (var o = !1, a = 0; a < n.length; a++) {
          var u = n[a].get("name");
          if (this.isSelected(u)) {
            this.select(u), o = !0;
            break;
          }
        }
        !o && this.select(n[0].get("name"));
      }
    }, r.prototype._updateData = function(n) {
      var o = [], a = [];
      n.eachRawSeries(function(f) {
        var p = f.name;
        a.push(p);
        var _;
        if (f.legendVisualProvider) {
          var v = f.legendVisualProvider, g = v.getAllNames();
          n.isSeriesFiltered(f) || (a = a.concat(g)), g.length ? o = o.concat(g) : _ = !0;
        } else
          _ = !0;
        _ && isNameSpecified(f) && o.push(f.name);
      }), this._availableNames = a;
      var u = this.get("data") || o, c = createHashMap(), d = map$1(u, function(f) {
        return (isString$2(f) || isNumber$1(f)) && (f = {
          name: f
        }), c.get(f.name) ? null : (c.set(f.name, !0), new Model$1(f, this, this.ecModel));
      }, this);
      this._data = filter(d, function(f) {
        return !!f;
      });
    }, r.prototype.getData = function() {
      return this._data;
    }, r.prototype.select = function(n) {
      var o = this.option.selected, a = this.get("selectedMode");
      if (a === "single") {
        var u = this._data;
        each$4(u, function(c) {
          o[c.get("name")] = !1;
        });
      }
      o[n] = !0;
    }, r.prototype.unSelect = function(n) {
      this.get("selectedMode") !== "single" && (this.option.selected[n] = !1);
    }, r.prototype.toggleSelected = function(n) {
      var o = this.option.selected;
      o.hasOwnProperty(n) || (o[n] = !0), this[o[n] ? "unSelect" : "select"](n);
    }, r.prototype.allSelect = function() {
      var n = this._data, o = this.option.selected;
      each$4(n, function(a) {
        o[a.get("name", !0)] = !0;
      });
    }, r.prototype.inverseSelect = function() {
      var n = this._data, o = this.option.selected;
      each$4(n, function(a) {
        var u = a.get("name", !0);
        o.hasOwnProperty(u) || (o[u] = !0), o[u] = !o[u];
      });
    }, r.prototype.isSelected = function(n) {
      var o = this.option.selected;
      return !(o.hasOwnProperty(n) && !o[n]) && indexOf(this._availableNames, n) >= 0;
    }, r.prototype.getOrient = function() {
      return this.get("orient") === "vertical" ? {
        index: 1,
        name: "vertical"
      } : {
        index: 0,
        name: "horizontal"
      };
    }, r.type = "legend.plain", r.dependencies = ["series"], r.defaultOption = {
      // zlevel: 0,
      z: 4,
      show: !0,
      orient: "horizontal",
      left: "center",
      // right: 'center',
      top: 0,
      // bottom: null,
      align: "auto",
      backgroundColor: "rgba(0,0,0,0)",
      borderColor: "#ccc",
      borderRadius: 0,
      borderWidth: 0,
      padding: 5,
      itemGap: 10,
      itemWidth: 25,
      itemHeight: 14,
      symbolRotate: "inherit",
      symbolKeepAspect: !0,
      inactiveColor: "#ccc",
      inactiveBorderColor: "#ccc",
      inactiveBorderWidth: "auto",
      itemStyle: {
        color: "inherit",
        opacity: "inherit",
        borderColor: "inherit",
        borderWidth: "auto",
        borderCap: "inherit",
        borderJoin: "inherit",
        borderDashOffset: "inherit",
        borderMiterLimit: "inherit"
      },
      lineStyle: {
        width: "auto",
        color: "inherit",
        inactiveColor: "#ccc",
        inactiveWidth: 2,
        opacity: "inherit",
        type: "inherit",
        cap: "inherit",
        join: "inherit",
        dashOffset: "inherit",
        miterLimit: "inherit"
      },
      textStyle: {
        color: "#333"
      },
      selectedMode: !0,
      selector: !1,
      selectorLabel: {
        show: !0,
        borderRadius: 10,
        padding: [3, 5, 3, 5],
        fontSize: 12,
        fontFamily: "sans-serif",
        color: "#666",
        borderWidth: 1,
        borderColor: "#666"
      },
      emphasis: {
        selectorLabel: {
          show: !0,
          color: "#eee",
          backgroundColor: "#666"
        }
      },
      selectorPosition: "auto",
      selectorItemGap: 7,
      selectorButtonGap: 10,
      tooltip: {
        show: !1
      }
    }, r;
  }(ComponentModel$1)
);
const LegendModel$1 = LegendModel;
var curry = curry$1, each = each$4, Group$1 = Group$3, LegendView = (
  /** @class */
  function(i) {
    __extends(r, i);
    function r() {
      var n = i !== null && i.apply(this, arguments) || this;
      return n.type = r.type, n.newlineDisabled = !1, n;
    }
    return r.prototype.init = function() {
      this.group.add(this._contentGroup = new Group$1()), this.group.add(this._selectorGroup = new Group$1()), this._isFirstRender = !0;
    }, r.prototype.getContentGroup = function() {
      return this._contentGroup;
    }, r.prototype.getSelectorGroup = function() {
      return this._selectorGroup;
    }, r.prototype.render = function(n, o, a) {
      var u = this._isFirstRender;
      if (this._isFirstRender = !1, this.resetInner(), !!n.get("show", !0)) {
        var c = n.get("align"), d = n.get("orient");
        (!c || c === "auto") && (c = n.get("left") === "right" && d === "vertical" ? "right" : "left");
        var f = n.get("selector", !0), p = n.get("selectorPosition", !0);
        f && (!p || p === "auto") && (p = d === "horizontal" ? "end" : "start"), this.renderInner(c, n, o, a, f, d, p);
        var _ = n.getBoxLayoutParams(), v = {
          width: a.getWidth(),
          height: a.getHeight()
        }, g = n.get("padding"), y = getLayoutRect(_, v, g), b = this.layoutInner(n, c, y, u, f, p), A = getLayoutRect(defaults({
          width: b.width,
          height: b.height
        }, _), v, g);
        this.group.x = A.x - b.x, this.group.y = A.y - b.y, this.group.markRedraw(), this.group.add(this._backgroundEl = makeBackground(b, n));
      }
    }, r.prototype.resetInner = function() {
      this.getContentGroup().removeAll(), this._backgroundEl && this.group.remove(this._backgroundEl), this.getSelectorGroup().removeAll();
    }, r.prototype.renderInner = function(n, o, a, u, c, d, f) {
      var p = this.getContentGroup(), _ = createHashMap(), v = o.get("selectedMode"), g = [];
      a.eachRawSeries(function(y) {
        !y.get("legendHoverLink") && g.push(y.id);
      }), each(o.getData(), function(y, b) {
        var A = y.get("name");
        if (!this.newlineDisabled && (A === "" || A === `
`)) {
          var w = new Group$1();
          w.newline = !0, p.add(w);
          return;
        }
        var S = a.getSeriesByName(A)[0];
        if (!_.get(A)) {
          if (S) {
            var T = S.getData(), x = T.getVisual("legendLineStyle") || {}, L = T.getVisual("legendIcon"), O = T.getVisual("style"), M = this._createItem(S, A, b, y, o, n, x, O, L, v, u);
            M.on("click", curry(dispatchSelectAction, A, null, u, g)).on("mouseover", curry(dispatchHighlightAction, S.name, null, u, g)).on("mouseout", curry(dispatchDownplayAction, S.name, null, u, g)), a.ssr && M.eachChild(function(k) {
              var ie = getECData(k);
              ie.seriesIndex = S.seriesIndex, ie.dataIndex = b, ie.ssrType = "legend";
            }), _.set(A, !0);
          } else
            a.eachRawSeries(function(k) {
              if (!_.get(A) && k.legendVisualProvider) {
                var ie = k.legendVisualProvider;
                if (!ie.containName(A))
                  return;
                var $ = ie.indexOfName(A), Y = ie.getItemVisual($, "style"), D = ie.getItemVisual($, "legendIcon"), re = parse(Y.fill);
                re && re[3] === 0 && (re[3] = 0.2, Y = extend(extend({}, Y), {
                  fill: stringify(re, "rgba")
                }));
                var F = this._createItem(k, A, b, y, o, n, {}, Y, D, v, u);
                F.on("click", curry(dispatchSelectAction, null, A, u, g)).on("mouseover", curry(dispatchHighlightAction, null, A, u, g)).on("mouseout", curry(dispatchDownplayAction, null, A, u, g)), a.ssr && F.eachChild(function(_e) {
                  var ue = getECData(_e);
                  ue.seriesIndex = k.seriesIndex, ue.dataIndex = b, ue.ssrType = "legend";
                }), _.set(A, !0);
              }
            }, this);
          process.env.NODE_ENV !== "production" && (_.get(A) || console.warn(A + " series not exists. Legend data should be same with series name or data name."));
        }
      }, this), c && this._createSelector(c, o, u, d, f);
    }, r.prototype._createSelector = function(n, o, a, u, c) {
      var d = this.getSelectorGroup();
      each(n, function(p) {
        var _ = p.type, v = new ZRText$1({
          style: {
            x: 0,
            y: 0,
            align: "center",
            verticalAlign: "middle"
          },
          onclick: function() {
            a.dispatchAction({
              type: _ === "all" ? "legendAllSelect" : "legendInverseSelect"
            });
          }
        });
        d.add(v);
        var g = o.getModel("selectorLabel"), y = o.getModel(["emphasis", "selectorLabel"]);
        setLabelStyle(v, {
          normal: g,
          emphasis: y
        }, {
          defaultText: p.title
        }), enableHoverEmphasis(v);
      });
    }, r.prototype._createItem = function(n, o, a, u, c, d, f, p, _, v, g) {
      var y = n.visualDrawType, b = c.get("itemWidth"), A = c.get("itemHeight"), w = c.isSelected(o), S = u.get("symbolRotate"), T = u.get("symbolKeepAspect"), x = u.get("icon");
      _ = x || _ || "roundRect";
      var L = getLegendStyle(_, u, f, p, y, w, g), O = new Group$1(), M = u.getModel("textStyle");
      if (isFunction$1(n.getLegendIcon) && (!x || x === "inherit"))
        O.add(n.getLegendIcon({
          itemWidth: b,
          itemHeight: A,
          icon: _,
          iconRotate: S,
          itemStyle: L.itemStyle,
          lineStyle: L.lineStyle,
          symbolKeepAspect: T
        }));
      else {
        var k = x === "inherit" && n.getData().getVisual("symbol") ? S === "inherit" ? n.getData().getVisual("symbolRotate") : S : 0;
        O.add(getDefaultLegendIcon({
          itemWidth: b,
          itemHeight: A,
          icon: _,
          iconRotate: k,
          itemStyle: L.itemStyle,
          lineStyle: L.lineStyle,
          symbolKeepAspect: T
        }));
      }
      var ie = d === "left" ? b + 5 : -5, $ = d, Y = c.get("formatter"), D = o;
      isString$2(Y) && Y ? D = Y.replace("{name}", o ?? "") : isFunction$1(Y) && (D = Y(o));
      var re = w ? M.getTextColor() : u.get("inactiveColor");
      O.add(new ZRText$1({
        style: createTextStyle(M, {
          text: D,
          x: ie,
          y: A / 2,
          fill: re,
          align: $,
          verticalAlign: "middle"
        }, {
          inheritColor: re
        })
      }));
      var F = new Rect$1({
        shape: O.getBoundingRect(),
        style: {
          // Cannot use 'invisible' because SVG SSR will miss the node
          fill: "transparent"
        }
      }), _e = u.getModel("tooltip");
      return _e.get("show") && setTooltipConfig({
        el: F,
        componentModel: c,
        itemName: o,
        itemTooltipOption: _e.option
      }), O.add(F), O.eachChild(function(ue) {
        ue.silent = !0;
      }), F.silent = !v, this.getContentGroup().add(O), enableHoverEmphasis(O), O.__legendDataIndex = a, O;
    }, r.prototype.layoutInner = function(n, o, a, u, c, d) {
      var f = this.getContentGroup(), p = this.getSelectorGroup();
      box(n.get("orient"), f, n.get("itemGap"), a.width, a.height);
      var _ = f.getBoundingRect(), v = [-_.x, -_.y];
      if (p.markRedraw(), f.markRedraw(), c) {
        box(
          // Buttons in selectorGroup always layout horizontally
          "horizontal",
          p,
          n.get("selectorItemGap", !0)
        );
        var g = p.getBoundingRect(), y = [-g.x, -g.y], b = n.get("selectorButtonGap", !0), A = n.getOrient().index, w = A === 0 ? "width" : "height", S = A === 0 ? "height" : "width", T = A === 0 ? "y" : "x";
        d === "end" ? y[A] += _[w] + b : v[A] += g[w] + b, y[1 - A] += _[S] / 2 - g[S] / 2, p.x = y[0], p.y = y[1], f.x = v[0], f.y = v[1];
        var x = {
          x: 0,
          y: 0
        };
        return x[w] = _[w] + b + g[w], x[S] = Math.max(_[S], g[S]), x[T] = Math.min(0, g[T] + y[1 - A]), x;
      } else
        return f.x = v[0], f.y = v[1], this.group.getBoundingRect();
    }, r.prototype.remove = function() {
      this.getContentGroup().removeAll(), this._isFirstRender = !0;
    }, r.type = "legend.plain", r;
  }(ComponentView$1)
);
function getLegendStyle(i, r, n, o, a, u, c) {
  function d(w, S) {
    w.lineWidth === "auto" && (w.lineWidth = S.lineWidth > 0 ? 2 : 0), each(w, function(T, x) {
      w[x] === "inherit" && (w[x] = S[x]);
    });
  }
  var f = r.getModel("itemStyle"), p = f.getItemStyle(), _ = i.lastIndexOf("empty", 0) === 0 ? "fill" : "stroke", v = f.getShallow("decal");
  p.decal = !v || v === "inherit" ? o.decal : createOrUpdatePatternFromDecal(v, c), p.fill === "inherit" && (p.fill = o[a]), p.stroke === "inherit" && (p.stroke = o[_]), p.opacity === "inherit" && (p.opacity = (a === "fill" ? o : n).opacity), d(p, o);
  var g = r.getModel("lineStyle"), y = g.getLineStyle();
  if (d(y, n), p.fill === "auto" && (p.fill = o.fill), p.stroke === "auto" && (p.stroke = o.fill), y.stroke === "auto" && (y.stroke = o.fill), !u) {
    var b = r.get("inactiveBorderWidth"), A = p[_];
    p.lineWidth = b === "auto" ? o.lineWidth > 0 && A ? 2 : 0 : p.lineWidth, p.fill = r.get("inactiveColor"), p.stroke = r.get("inactiveBorderColor"), y.stroke = g.get("inactiveColor"), y.lineWidth = g.get("inactiveWidth");
  }
  return {
    itemStyle: p,
    lineStyle: y
  };
}
function getDefaultLegendIcon(i) {
  var r = i.icon || "roundRect", n = createSymbol(r, 0, 0, i.itemWidth, i.itemHeight, i.itemStyle.fill, i.symbolKeepAspect);
  return n.setStyle(i.itemStyle), n.rotation = (i.iconRotate || 0) * Math.PI / 180, n.setOrigin([i.itemWidth / 2, i.itemHeight / 2]), r.indexOf("empty") > -1 && (n.style.stroke = n.style.fill, n.style.fill = "#fff", n.style.lineWidth = 2), n;
}
function dispatchSelectAction(i, r, n, o) {
  dispatchDownplayAction(i, r, n, o), n.dispatchAction({
    type: "legendToggleSelect",
    name: i ?? r
  }), dispatchHighlightAction(i, r, n, o);
}
function isUseHoverLayer(i) {
  for (var r = i.getZr().storage.getDisplayList(), n, o = 0, a = r.length; o < a && !(n = r[o].states.emphasis); )
    o++;
  return n && n.hoverLayer;
}
function dispatchHighlightAction(i, r, n, o) {
  isUseHoverLayer(n) || n.dispatchAction({
    type: "highlight",
    seriesName: i,
    name: r,
    excludeSeriesId: o
  });
}
function dispatchDownplayAction(i, r, n, o) {
  isUseHoverLayer(n) || n.dispatchAction({
    type: "downplay",
    seriesName: i,
    name: r,
    excludeSeriesId: o
  });
}
const LegendView$1 = LegendView;
function legendFilter(i) {
  var r = i.findComponents({
    mainType: "legend"
  });
  r && r.length && i.filterSeries(function(n) {
    for (var o = 0; o < r.length; o++)
      if (!r[o].isSelected(n.name))
        return !1;
    return !0;
  });
}
function legendSelectActionHandler(i, r, n) {
  var o = {}, a = i === "toggleSelected", u;
  return n.eachComponent("legend", function(c) {
    a && u != null ? c[u ? "select" : "unSelect"](r.name) : i === "allSelect" || i === "inverseSelect" ? c[i]() : (c[i](r.name), u = c.isSelected(r.name));
    var d = c.getData();
    each$4(d, function(f) {
      var p = f.get("name");
      if (!(p === `
` || p === "")) {
        var _ = c.isSelected(p);
        o.hasOwnProperty(p) ? o[p] = o[p] && _ : o[p] = _;
      }
    });
  }), i === "allSelect" || i === "inverseSelect" ? {
    selected: o
  } : {
    name: r.name,
    selected: o
  };
}
function installLegendAction(i) {
  i.registerAction("legendToggleSelect", "legendselectchanged", curry$1(legendSelectActionHandler, "toggleSelected")), i.registerAction("legendAllSelect", "legendselectall", curry$1(legendSelectActionHandler, "allSelect")), i.registerAction("legendInverseSelect", "legendinverseselect", curry$1(legendSelectActionHandler, "inverseSelect")), i.registerAction("legendSelect", "legendselected", curry$1(legendSelectActionHandler, "select")), i.registerAction("legendUnSelect", "legendunselected", curry$1(legendSelectActionHandler, "unSelect"));
}
function install$2(i) {
  i.registerComponentModel(LegendModel$1), i.registerComponentView(LegendView$1), i.registerProcessor(i.PRIORITY.PROCESSOR.SERIES_FILTER, legendFilter), i.registerSubTypeDefaulter("legend", function() {
    return "plain";
  }), installLegendAction(i);
}
var ScrollableLegendModel = (
  /** @class */
  function(i) {
    __extends(r, i);
    function r() {
      var n = i !== null && i.apply(this, arguments) || this;
      return n.type = r.type, n;
    }
    return r.prototype.setScrollDataIndex = function(n) {
      this.option.scrollDataIndex = n;
    }, r.prototype.init = function(n, o, a) {
      var u = getLayoutParams(n);
      i.prototype.init.call(this, n, o, a), mergeAndNormalizeLayoutParams(this, n, u);
    }, r.prototype.mergeOption = function(n, o) {
      i.prototype.mergeOption.call(this, n, o), mergeAndNormalizeLayoutParams(this, this.option, n);
    }, r.type = "legend.scroll", r.defaultOption = inheritDefaultOption(LegendModel$1.defaultOption, {
      scrollDataIndex: 0,
      pageButtonItemGap: 5,
      pageButtonGap: null,
      pageButtonPosition: "end",
      pageFormatter: "{current}/{total}",
      pageIcons: {
        horizontal: ["M0,0L12,-10L12,10z", "M0,0L-12,-10L-12,10z"],
        vertical: ["M0,0L20,0L10,-20z", "M0,0L20,0L10,20z"]
      },
      pageIconColor: "#2f4554",
      pageIconInactiveColor: "#aaa",
      pageIconSize: 15,
      pageTextStyle: {
        color: "#333"
      },
      animationDurationUpdate: 800
    }), r;
  }(LegendModel$1)
);
function mergeAndNormalizeLayoutParams(i, r, n) {
  var o = i.getOrient(), a = [1, 1];
  a[o.index] = 0, mergeLayoutParam(r, n, {
    type: "box",
    ignoreSize: !!a
  });
}
const ScrollableLegendModel$1 = ScrollableLegendModel;
var Group = Group$3, WH = ["width", "height"], XY = ["x", "y"], ScrollableLegendView = (
  /** @class */
  function(i) {
    __extends(r, i);
    function r() {
      var n = i !== null && i.apply(this, arguments) || this;
      return n.type = r.type, n.newlineDisabled = !0, n._currentIndex = 0, n;
    }
    return r.prototype.init = function() {
      i.prototype.init.call(this), this.group.add(this._containerGroup = new Group()), this._containerGroup.add(this.getContentGroup()), this.group.add(this._controllerGroup = new Group());
    }, r.prototype.resetInner = function() {
      i.prototype.resetInner.call(this), this._controllerGroup.removeAll(), this._containerGroup.removeClipPath(), this._containerGroup.__rectSize = null;
    }, r.prototype.renderInner = function(n, o, a, u, c, d, f) {
      var p = this;
      i.prototype.renderInner.call(this, n, o, a, u, c, d, f);
      var _ = this._controllerGroup, v = o.get("pageIconSize", !0), g = isArray$1(v) ? v : [v, v];
      b("pagePrev", 0);
      var y = o.getModel("pageTextStyle");
      _.add(new ZRText$1({
        name: "pageText",
        style: {
          // Placeholder to calculate a proper layout.
          text: "xx/xx",
          fill: y.getTextColor(),
          font: y.getFont(),
          verticalAlign: "middle",
          align: "center"
        },
        silent: !0
      })), b("pageNext", 1);
      function b(A, w) {
        var S = A + "DataIndex", T = createIcon(o.get("pageIcons", !0)[o.getOrient().name][w], {
          // Buttons will be created in each render, so we do not need
          // to worry about avoiding using legendModel kept in scope.
          onclick: bind$1(p._pageGo, p, S, o, u)
        }, {
          x: -g[0] / 2,
          y: -g[1] / 2,
          width: g[0],
          height: g[1]
        });
        T.name = A, _.add(T);
      }
    }, r.prototype.layoutInner = function(n, o, a, u, c, d) {
      var f = this.getSelectorGroup(), p = n.getOrient().index, _ = WH[p], v = XY[p], g = WH[1 - p], y = XY[1 - p];
      c && box(
        // Buttons in selectorGroup always layout horizontally
        "horizontal",
        f,
        n.get("selectorItemGap", !0)
      );
      var b = n.get("selectorButtonGap", !0), A = f.getBoundingRect(), w = [-A.x, -A.y], S = clone$2(a);
      c && (S[_] = a[_] - A[_] - b);
      var T = this._layoutContentAndController(n, u, S, p, _, g, y, v);
      if (c) {
        if (d === "end")
          w[p] += T[_] + b;
        else {
          var x = A[_] + b;
          w[p] -= x, T[v] -= x;
        }
        T[_] += A[_] + b, w[1 - p] += T[y] + T[g] / 2 - A[g] / 2, T[g] = Math.max(T[g], A[g]), T[y] = Math.min(T[y], A[y] + w[1 - p]), f.x = w[0], f.y = w[1], f.markRedraw();
      }
      return T;
    }, r.prototype._layoutContentAndController = function(n, o, a, u, c, d, f, p) {
      var _ = this.getContentGroup(), v = this._containerGroup, g = this._controllerGroup;
      box(n.get("orient"), _, n.get("itemGap"), u ? a.width : null, u ? null : a.height), box(
        // Buttons in controller are layout always horizontally.
        "horizontal",
        g,
        n.get("pageButtonItemGap", !0)
      );
      var y = _.getBoundingRect(), b = g.getBoundingRect(), A = this._showController = y[c] > a[c], w = [-y.x, -y.y];
      o || (w[u] = _[p]);
      var S = [0, 0], T = [-b.x, -b.y], x = retrieve2(n.get("pageButtonGap", !0), n.get("itemGap", !0));
      if (A) {
        var L = n.get("pageButtonPosition", !0);
        L === "end" ? T[u] += a[c] - b[c] : S[u] += b[c] + x;
      }
      T[1 - u] += y[d] / 2 - b[d] / 2, _.setPosition(w), v.setPosition(S), g.setPosition(T);
      var O = {
        x: 0,
        y: 0
      };
      if (O[c] = A ? a[c] : y[c], O[d] = Math.max(y[d], b[d]), O[f] = Math.min(0, b[f] + T[1 - u]), v.__rectSize = a[c], A) {
        var M = {
          x: 0,
          y: 0
        };
        M[c] = Math.max(a[c] - b[c] - x, 0), M[d] = O[d], v.setClipPath(new Rect$1({
          shape: M
        })), v.__rectSize = M[c];
      } else
        g.eachChild(function(ie) {
          ie.attr({
            invisible: !0,
            silent: !0
          });
        });
      var k = this._getPageInfo(n);
      return k.pageIndex != null && updateProps$1(
        _,
        {
          x: k.contentPosition[0],
          y: k.contentPosition[1]
        },
        // When switch from "show controller" to "not show controller", view should be
        // updated immediately without animation, otherwise causes weird effect.
        A ? n : null
      ), this._updatePageInfoView(n, k), O;
    }, r.prototype._pageGo = function(n, o, a) {
      var u = this._getPageInfo(o)[n];
      u != null && a.dispatchAction({
        type: "legendScroll",
        scrollDataIndex: u,
        legendId: o.id
      });
    }, r.prototype._updatePageInfoView = function(n, o) {
      var a = this._controllerGroup;
      each$4(["pagePrev", "pageNext"], function(_) {
        var v = _ + "DataIndex", g = o[v] != null, y = a.childOfName(_);
        y && (y.setStyle("fill", g ? n.get("pageIconColor", !0) : n.get("pageIconInactiveColor", !0)), y.cursor = g ? "pointer" : "default");
      });
      var u = a.childOfName("pageText"), c = n.get("pageFormatter"), d = o.pageIndex, f = d != null ? d + 1 : 0, p = o.pageCount;
      u && c && u.setStyle("text", isString$2(c) ? c.replace("{current}", f == null ? "" : f + "").replace("{total}", p == null ? "" : p + "") : c({
        current: f,
        total: p
      }));
    }, r.prototype._getPageInfo = function(n) {
      var o = n.get("scrollDataIndex", !0), a = this.getContentGroup(), u = this._containerGroup.__rectSize, c = n.getOrient().index, d = WH[c], f = XY[c], p = this._findTargetItemIndex(o), _ = a.children(), v = _[p], g = _.length, y = g ? 1 : 0, b = {
        contentPosition: [a.x, a.y],
        pageCount: y,
        pageIndex: y - 1,
        pagePrevDataIndex: null,
        pageNextDataIndex: null
      };
      if (!v)
        return b;
      var A = L(v);
      b.contentPosition[c] = -A.s;
      for (var w = p + 1, S = A, T = A, x = null; w <= g; ++w)
        x = L(_[w]), // Half of the last item is out of the window.
        (!x && T.e > S.s + u || x && !O(x, S.s)) && (T.i > S.i ? S = T : S = x, S && (b.pageNextDataIndex == null && (b.pageNextDataIndex = S.i), ++b.pageCount)), T = x;
      for (var w = p - 1, S = A, T = A, x = null; w >= -1; --w)
        x = L(_[w]), // If the the end item does not intersect with the window started
        // from the current item, a page can be settled.
        (!x || !O(T, x.s)) && S.i < T.i && (T = S, b.pagePrevDataIndex == null && (b.pagePrevDataIndex = S.i), ++b.pageCount, ++b.pageIndex), S = x;
      return b;
      function L(M) {
        if (M) {
          var k = M.getBoundingRect(), ie = k[f] + M[f];
          return {
            s: ie,
            e: ie + k[d],
            i: M.__legendDataIndex
          };
        }
      }
      function O(M, k) {
        return M.e >= k && M.s <= k + u;
      }
    }, r.prototype._findTargetItemIndex = function(n) {
      if (!this._showController)
        return 0;
      var o, a = this.getContentGroup(), u;
      return a.eachChild(function(c, d) {
        var f = c.__legendDataIndex;
        u == null && f != null && (u = d), f === n && (o = d);
      }), o ?? u;
    }, r.type = "legend.scroll", r;
  }(LegendView$1)
);
const ScrollableLegendView$1 = ScrollableLegendView;
function installScrollableLegendAction(i) {
  i.registerAction("legendScroll", "legendscroll", function(r, n) {
    var o = r.scrollDataIndex;
    o != null && n.eachComponent({
      mainType: "legend",
      subType: "scroll",
      query: r
    }, function(a) {
      a.setScrollDataIndex(o);
    });
  });
}
function install$1(i) {
  use(install$2), i.registerComponentModel(ScrollableLegendModel$1), i.registerComponentView(ScrollableLegendView$1), installScrollableLegendAction(i);
}
function install(i) {
  use(install$2), use(install$1);
}
const _sfc_main$I = /* @__PURE__ */ defineComponent({
  __name: "pie-charts",
  props: {
    title: {
      type: String,
      default: "标题"
    },
    seriesName: {
      type: String,
      default: "详情"
    },
    seriesData: {
      type: Array,
      default: () => []
    }
  },
  setup(i) {
    use([install$7, install$6, install$3, install$4, install]), provide(THEME_KEY, "dark");
    const r = i, n = reactive({
      title: {
        text: r.title,
        left: "center"
      },
      tooltip: {
        trigger: "item",
        formatter: "{a} <br/>{b} : {c} ({d}%)"
      },
      legend: {
        orient: "vertical",
        left: "left"
      },
      series: [
        {
          name: r.seriesName,
          type: "pie",
          radius: "55%",
          center: ["50%", "60%"],
          data: r.seriesData,
          emphasis: {
            itemStyle: {
              shadowBlur: 10,
              shadowOffsetX: 0,
              shadowColor: "rgba(0, 0, 0, 0.5)"
            }
          }
        }
      ]
    });
    return watch(r, (o) => {
      n.title.text = o.title, n.series[0].name = o.seriesName, n.series[0].data = o.seriesData;
    }), (o, a) => (openBlock(), createBlock(unref(VChart), {
      class: "chart",
      option: unref(n),
      autoresize: ""
    }, null, 8, ["option"]));
  }
}), pieCharts_vue_vue_type_style_index_0_scoped_fec2cbf2_lang = "", PieCharts = /* @__PURE__ */ _export_sfc$1(_sfc_main$I, [["__scopeId", "data-v-fec2cbf2"]]), _hoisted_1$g = ["id"], _hoisted_2$e = ["id"], _hoisted_3$b = ["fill"], _hoisted_4$a = ["fill"], _hoisted_5$8 = ["fill"], _hoisted_6$7 = /* @__PURE__ */ createElementVNode("path", {
  d: "M375.466667 709.214815l-25.6 137.481481c0 2.844444 1.896296 5.688889 7.585185 10.42963l65.422222 54.992593c5.688889 4.740741 15.17037 8.533333 23.703704 10.429629l36.029629-193.422222-107.14074-19.911111z",
  fill: "#2D4375"
}, null, -1), _hoisted_7$7 = /* @__PURE__ */ createElementVNode("path", {
  d: "M482.607407 729.125926l-36.029629 193.422222c9.481481 1.896296 18.014815 1.896296 25.6-0.948148l80.592592-27.496296c6.637037-1.896296 10.42963-4.740741 11.377778-6.637037L589.748148 749.037037l-107.140741-19.911111z",
  fill: "#1E2D4F"
}, null, -1), _hoisted_8$7 = ["fill-opacity"], _hoisted_9$6 = ["fill-opacity"], _hoisted_10$5 = ["fill-opacity"], _hoisted_11$4 = /* @__PURE__ */ createElementVNode("path", {
  d: "M593.540741 807.822222c1.896296-7.585185-3.792593-15.17037-11.377778-16.118518l-107.140741-19.911111-4.740741 27.496296 107.140741 19.911111c6.637037 0.948148 14.222222-3.792593 16.118519-11.377778z",
  fill: "#CEEFF6"
}, null, -1), _hoisted_12$3 = /* @__PURE__ */ createElementVNode("path", {
  d: "M366.933333 750.933333c-7.585185-1.896296-15.17037 3.792593-16.118518 11.377778-1.896296 7.585185 3.792593 15.17037 11.377778 16.118519l107.14074 19.911111 4.740741-27.496297-107.140741-19.911111zM356.503704 808.77037c-7.585185-1.896296-15.17037 3.792593-16.118519 11.377778-1.896296 7.585185 3.792593 15.17037 11.377778 16.118519l107.140741 19.911111 4.74074-27.496297-107.14074-19.911111z",
  fill: "#FFFFFF"
}, null, -1), _hoisted_13$3 = /* @__PURE__ */ createElementVNode("path", {
  d: "M570.785185 848.592593l-107.140741-19.911112-4.74074 27.496297 107.14074 19.911111c7.585185 1.896296 15.17037-3.792593 16.118519-11.377778 1.896296-7.585185-2.844444-15.17037-11.377778-16.118518z",
  fill: "#CEEFF6"
}, null, -1), _hoisted_14$3 = ["xlink:href", "width", "height"], _sfc_main$H = /* @__PURE__ */ defineComponent({
  __name: "light-a",
  props: {
    id: { default: "" },
    isOpen: { type: Boolean, default: !1 },
    height: { default: 100 },
    width: { default: 100 }
  },
  emits: ["onChange"],
  setup(i, { emit: r }) {
    const n = i, o = r;
    return watch(
      () => n.isOpen,
      () => {
        o("onChange");
      }
    ), (a, u) => (openBlock(), createElementBlock("g", {
      id: n.id,
      style: { cursor: "pointer" }
    }, [
      createElementVNode("symbol", {
        id: `${n.id}light-121`,
        viewBox: "0 0 1024 1024"
      }, [
        createElementVNode("path", {
          d: "M565.096296 289.185185s-0.948148 0 0 0c-110.933333-20.859259-208.592593 40.77037-237.985185 148.859259-14.222222 53.096296-24.651852 101.451852 44.562963 221.866667 14.222222 25.6 11.377778 70.162963 8.533333 95.762963-1.896296 14.222222 64.474074 36.02963 89.125926 42.666667l95.762963-509.155556z",
          fill: n.isOpen ? "#FDB813" : "#cccccc"
        }, null, 8, _hoisted_3$b),
        createElementVNode("path", {
          d: "M732.918519 513.896296c11.377778-111.881481-56.888889-203.851852-166.874075-224.711111h-0.948148L469.333333 798.340741c25.6 2.844444 94.814815 6.637037 98.607408-7.585185 6.637037-25.6 20.859259-67.318519 42.666666-86.281482C719.644444 618.192593 727.22963 568.888889 732.918519 513.896296z",
          fill: n.isOpen ? "#FD9B13" : "#bbbbbb"
        }, null, 8, _hoisted_4$a),
        createElementVNode("path", {
          d: "M467.437037 806.874074c-7.585185-0.948148-12.325926-7.585185-14.222222-14.222222l-38.874074-256c-0.948148-5.688889 0.948148-11.377778 4.74074-15.170371 3.792593-3.792593 9.481481-5.688889 15.170371-4.74074l167.822222 31.288889c5.688889 0.948148 10.42963 4.740741 12.325926 9.481481 1.896296 4.740741 1.896296 11.377778-0.948148 16.118519L486.4 798.340741c-3.792593 6.637037-11.377778 10.42963-18.962963 8.533333z m-14.222222-251.259259l27.496296 182.992592L572.681481 578.37037l-119.466666-22.755555z",
          fill: n.isOpen ? "#F12A3F" : "#666666"
        }, null, 8, _hoisted_5$8),
        _hoisted_6$7,
        _hoisted_7$7,
        createElementVNode("path", {
          d: "M612.503704 217.125926c-3.792593 18.014815-20.859259 29.392593-38.874074 26.548148-18.014815-3.792593-30.340741-20.859259-26.548149-38.874074l18.962963-100.503704c3.792593-18.014815 20.859259-29.392593 38.874075-26.548148 18.014815 3.792593 30.340741 20.859259 26.548148 38.874074l-18.962963 100.503704z",
          fill: "#FDB813",
          "fill-opacity": n.isOpen ? 1 : 0
        }, null, 8, _hoisted_8$7),
        createElementVNode("path", {
          d: "M382.103704 228.503704c10.42963 15.17037 6.637037 36.02963-8.533334 46.459259-15.17037 10.42963-36.02963 6.637037-46.459259-8.533333l-57.837037-84.385186c-10.42963-15.17037-6.637037-36.02963 8.533333-46.459259 15.17037-10.42963 36.02963-6.637037 46.45926 8.533334l57.837037 84.385185zM757.57037 298.666667c-15.17037 10.42963-18.962963 31.288889-8.533333 46.459259 10.42963 15.17037 31.288889 18.962963 46.459259 8.533333l84.385185-57.837037c15.17037-10.42963 18.962963-31.288889 8.533334-46.459259-10.42963-15.17037-31.288889-18.962963-46.459259-8.533333l-84.385186 57.837037z",
          fill: "#FDB813",
          "fill-opacity": n.isOpen ? 1 : 0
        }, null, 8, _hoisted_9$6),
        createElementVNode("path", {
          d: "M252.207407 361.244444c18.014815 3.792593 30.340741 20.859259 26.548149 38.874075-3.792593 18.014815-20.859259 29.392593-38.874075 26.548148l-100.503703-18.962963c-18.014815-3.792593-30.340741-20.859259-26.548148-38.874074 3.792593-18.014815 20.859259-29.392593 38.874074-26.548149l100.503703 18.962963zM931.081481 488.296296c18.014815 3.792593 30.340741 20.859259 26.548149 38.874074-3.792593 18.014815-20.859259 29.392593-38.874074 26.548149l-100.503704-18.962963c-18.014815-3.792593-30.340741-20.859259-26.548148-38.874075 3.792593-18.014815 20.859259-29.392593 38.874074-26.548148l100.503703 18.962963z",
          fill: "#FDB813",
          "fill-opacity": n.isOpen ? 1 : 0
        }, null, 8, _hoisted_10$5),
        _hoisted_11$4,
        _hoisted_12$3,
        _hoisted_13$3
      ], 8, _hoisted_2$e),
      createElementVNode("use", {
        "xlink:href": `#${n.id}light-121`,
        width: a.width,
        height: a.height
      }, null, 8, _hoisted_14$3)
    ], 8, _hoisted_1$g));
  }
}), _hoisted_1$f = ["id"], _hoisted_2$d = ["id"], _hoisted_3$a = ["fill"], _hoisted_4$9 = ["fill"], _hoisted_5$7 = ["fill"], _hoisted_6$6 = ["from", "to"], _hoisted_7$6 = ["fill"], _hoisted_8$6 = ["from", "to"], _hoisted_9$5 = ["fill"], _hoisted_10$4 = ["fill"], _hoisted_11$3 = ["fill"], _hoisted_12$2 = ["from", "to"], _hoisted_13$2 = ["fill"], _hoisted_14$2 = ["xlink:href"], _sfc_main$G = /* @__PURE__ */ defineComponent({
  __name: "clock-a",
  props: {
    id: { default: "" },
    centerColor: { default: "#EBF257" },
    secondsColor: { default: "#E83E24" },
    circleColor: { default: "#F45AFC" },
    minutesColor: { default: "#50E68E" },
    hoursColor: { default: "#9A36E7" },
    scaleColor: { default: "#4942CF" },
    backgroundColor: { default: "#ffffff" },
    borderColor: { default: "#B3A7FF" }
  },
  setup(i) {
    const r = i, n = new Date(Number(window.sessionStorage.getItem("editorLoadTime") || "0")), o = n.getSeconds() + 1, a = n.getMinutes(), u = Math.floor((n.getHours() + (a + o / 60) / 60) * 30);
    return (c, d) => (openBlock(), createElementBlock("g", {
      id: r.id
    }, [
      createElementVNode("symbol", {
        id: `${r.id}clock-a-n`,
        viewBox: "0 0 1024 1024"
      }, [
        createElementVNode("path", {
          d: "M512.3 518.9m-469.2 0a469.2 469.2 0 1 0 938.4 0 469.2 469.2 0 1 0-938.4 0Z",
          fill: r.borderColor
        }, null, 8, _hoisted_3$a),
        createElementVNode("path", {
          d: "M512.3 518.9m-392.5 0a392.5 392.5 0 1 0 785 0 392.5 392.5 0 1 0-785 0Z",
          fill: r.backgroundColor
        }, null, 8, _hoisted_4$9),
        createElementVNode("path", {
          d: "M512.3 523.8c-4.5 0-9-1.7-12.4-5.1L318.3 337.1c-6.8-6.8-6.8-17.9 0-24.8 6.8-6.8 17.9-6.8 24.8 0L524.7 494c6.8 6.8 6.8 17.9 0 24.8-3.5 3.3-7.9 5-12.4 5z",
          fill: r.minutesColor
        }, [
          createElementVNode("animateTransform", {
            attributeName: "transform",
            attributeType: "XML",
            type: "rotate",
            from: `${45 + unref(a) * 6} 512.3 506.3`,
            to: `${405 + unref(a) * 6} 512.3 506.3`,
            dur: "3600s",
            repeatCount: "indefinite"
          }, null, 8, _hoisted_6$6)
        ], 8, _hoisted_5$7),
        createElementVNode("path", {
          d: "M512.3 523.8c-4.5 0-9-1.7-12.4-5.1-6.8-6.8-6.8-17.9 0-24.8l130.8-130.8c6.8-6.8 17.9-6.8 24.8 0 6.8 6.8 6.8 17.9 0 24.8L524.7 518.7c-3.5 3.4-7.9 5.1-12.4 5.1z",
          fill: r.hoursColor
        }, [
          createElementVNode("animateTransform", {
            attributeName: "transform",
            attributeType: "XML",
            type: "rotate",
            from: `${-45 + unref(u)} 512.3 506.3`,
            to: `${315 + unref(u)} 512.3 506.3`,
            dur: "43200s",
            repeatCount: "indefinite"
          }, null, 8, _hoisted_8$6)
        ], 8, _hoisted_7$6),
        createElementVNode("path", {
          d: "M512.3 506.3m-47.5 0a47.5 47.5 0 1 0 95 0 47.5 47.5 0 1 0-95 0Z",
          fill: r.circleColor
        }, null, 8, _hoisted_9$5),
        createElementVNode("path", {
          d: "M512.3 218.8c-9 0-16.3-7.3-16.3-16.3v-29.1c0-9 7.3-16.3 16.3-16.3s16.3 7.3 16.3 16.3v29.1c0 9-7.4 16.3-16.3 16.3zM512.3 880.8c-9 0-16.3-7.3-16.3-16.3v-29.1c0-9 7.3-16.3 16.3-16.3s16.3 7.3 16.3 16.3v29.1c0 9-7.4 16.3-16.3 16.3zM812.4 518.9c0-9 7.3-16.3 16.3-16.3h29.1c9 0 16.3 7.3 16.3 16.3s-7.3 16.3-16.3 16.3h-29.1c-8.9 0-16.3-7.3-16.3-16.3zM150.4 518.9c0-9 7.3-16.3 16.3-16.3h29.1c9 0 16.3 7.3 16.3 16.3s-7.3 16.3-16.3 16.3h-29.1c-8.9 0-16.3-7.3-16.3-16.3z",
          fill: r.scaleColor
        }, null, 8, _hoisted_10$4),
        createElementVNode("path", {
          d: "M296.9 733.5c-2.2 0-4.5-0.9-6.2-2.6-3.4-3.4-3.4-9 0-12.4L540 469.2c3.4-3.4 9-3.4 12.4 0 3.4 3.4 3.4 9 0 12.4L303.1 731c-1.7 1.7-4 2.5-6.2 2.5z",
          fill: r.secondsColor
        }, [
          createElementVNode("animateTransform", {
            attributeName: "transform",
            attributeType: "XML",
            type: "rotate",
            from: `${135.5 + o * 6} 512.3 506.3`,
            to: `${495.5 + o * 6} 512.3 506.3`,
            dur: "60s",
            repeatCount: "indefinite"
          }, null, 8, _hoisted_12$2)
        ], 8, _hoisted_11$3),
        createElementVNode("path", {
          d: "M512.3 506.3m-22.8 0a22.8 22.8 0 1 0 45.6 0 22.8 22.8 0 1 0-45.6 0Z",
          fill: r.centerColor
        }, null, 8, _hoisted_13$2)
      ], 8, _hoisted_2$d),
      createElementVNode("use", {
        "xlink:href": `#${r.id}clock-a-n`,
        width: "100",
        height: "100"
      }, null, 8, _hoisted_14$2)
    ], 8, _hoisted_1$f));
  }
}), _sfc_main$F = /* @__PURE__ */ defineComponent({
  __name: "text-box",
  props: {
    width: { default: 250 },
    height: { default: 150 },
    bgColor: { default: "#ffffff" },
    bgOpacity: { default: 50 },
    borderColor: { default: "#000000" },
    borderWidth: { default: 1 },
    borderRadius: { default: 5 },
    borderOpacity: { default: 100 }
  },
  setup(i) {
    const r = i, n = computed(() => ({
      width: (r.width > 0 ? r.width : 0) + "px",
      height: (r.height > 0 ? r.height : 0) + "px",
      borderRadius: (r.borderRadius > 0 ? r.borderRadius : 0) + "px"
    })), o = computed(() => ({
      border: `${r.borderWidth > 0 ? r.borderWidth : 0}px solid ${r.borderColor}`,
      borderRadius: (r.borderRadius > 0 ? r.borderRadius : 0) + "px",
      opacity: (r.borderOpacity > 0 ? r.borderOpacity < 100 ? r.borderOpacity : 100 : 0) / 100
    })), a = computed(() => ({
      backgroundColor: r.bgColor,
      opacity: (r.bgOpacity > 0 ? r.bgOpacity < 100 ? r.bgOpacity : 100 : 0) / 100,
      borderRadius: r.borderRadius + "px"
    }));
    return (u, c) => (openBlock(), createElementBlock("div", {
      class: "outM",
      style: normalizeStyle$1(n.value)
    }, [
      createElementVNode("div", {
        class: "wallI",
        style: normalizeStyle$1(a.value)
      }, null, 4),
      createElementVNode("div", {
        class: "borderB",
        style: normalizeStyle$1(o.value)
      }, null, 4)
    ], 4));
  }
}), textBox_vue_vue_type_style_index_0_scoped_4ab181ea_lang = "", TextBox = /* @__PURE__ */ _export_sfc$1(_sfc_main$F, [["__scopeId", "data-v-4ab181ea"]]), vueComp = {
  "svg-text": _sfc_main$L,
  "el-button": ElButton,
  "progress-a": _sfc_main$N,
  "el-tag": ElTag$1,
  "common-table": _sfc_main$K,
  "pie-charts": PieCharts,
  "switch-r": _sfc_main$M,
  "now-time": NowTime,
  "light-a": _sfc_main$H,
  "clock-a": _sfc_main$G,
  "text-box": TextBox
}, config = [...t$c, ...t$2], useGlobalStore = defineStore("global-store", {
  state: () => ({
    config_center: config,
    intention: EGlobalStoreIntention.None,
    create_svg_info: null,
    done_json: [],
    mouse_info: {
      state: EMouseInfoState.Up,
      position_x: 0,
      position_y: 0,
      now_position_x: 0,
      now_position_y: 0,
      new_position_x: 0,
      new_position_y: 0
    },
    handle_svg_info: null,
    scale_info: {
      type: EScaleInfoType.None,
      scale_times: {
        x: 1,
        y: 1
      },
      scale_item_info: {
        x: 0,
        y: 0
      },
      symmetric_point: {
        x: 0,
        y: 0
      }
    },
    rotate_info: {
      angle: 0
    },
    connection_line_node_info: {
      init_pos: {
        x: 0,
        y: 0
      },
      point_index: 0
    }
  }),
  actions: {
    setCreateInfo(i) {
      this.intention = EGlobalStoreIntention.Create, this.create_svg_info = i;
    },
    setDoneJson(i) {
      isOfType(i, "id") ? (this.done_json.push(i), nextTick(() => {
        setSvgActualInfo(i);
      })) : this.done_json = objectDeepClone(i), nextTick(() => {
        useHistoryRecord(objectDeepClone(this.done_json));
      });
    },
    setHandleSvgInfo(i, r) {
      let n = r;
      i ? (!n && n != 0 && (n = this.done_json.findIndex((o) => o.id === i.id) ?? -1), this.handle_svg_info = {
        info: i,
        index: n
      }) : this.handle_svg_info = i;
    },
    spliceDoneJson(i) {
      const r = useGlobalStore(), o = r.done_json.splice(i, 1)[0];
      unbindAnchors(o.id), useHistoryRecord(r.done_json);
    }
  }
}), useSvgEditLayoutStore = defineStore("svg-edit-layout-store", {
  state: () => ({
    left_nav: !0,
    right_nav: !0,
    center_offset: {
      x: 0,
      y: 0
    },
    canvasInfo: {
      with: 0,
      height: 0,
      top: 0,
      left: 0
    }
  })
}), stopEvent = (i) => {
  i.stopPropagation();
}, preventDefault = (i) => {
  i.preventDefault();
}, myFixed = (i, r) => Number(i.toFixed(r));
function componentsRegister(i) {
  var o, a;
  const r = getCurrentInstance(), n = i ? Object.assign(vueComp, i) : vueComp;
  for (let u in n)
    !((o = r == null ? void 0 : r.appContext) != null && o.components.hasOwnProperty(u)) && vueComp.hasOwnProperty(u) && ((a = r == null ? void 0 : r.appContext) == null || a.app.component(u, vueComp[u]));
}
function setEditorLoadTime() {
  window.sessionStorage.setItem("editorLoadTime", (/* @__PURE__ */ new Date()).getTime().toString());
}
const randomString = (i) => {
  i = i || 10;
  const r = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789", n = r.length;
  let o = "";
  for (let a = 0; a < i; a++) {
    let u = n;
    a === 0 && (u = n - 10), o += r.charAt(Math.floor(Math.random() * u));
  }
  return o;
}, isOfType = (i, r) => i[r] !== void 0, getCoordinateOffset = (i, r) => i / 2 * (r - 1), angleToRadian = (i) => i * Math.PI / 180, calculateRotatedPointCoordinate = (i, r, n) => ({
  x: myFixed(
    (i.x - r.x) * Math.cos(angleToRadian(n)) - (i.y - r.y) * Math.sin(angleToRadian(n)) + r.x,
    1
  ),
  y: myFixed(
    (i.x - r.x) * Math.sin(angleToRadian(n)) + (i.y - r.y) * Math.cos(angleToRadian(n)) + r.y,
    1
  )
}), getCenterPoint = (i, r) => ({
  x: i.x + (r.x - i.x) / 2,
  y: i.y + (r.y - i.y) / 2
}), positionArrToPath = (i) => {
  let r = "";
  for (let n = 0; n < i.length; n++)
    n === 0 ? r += `M ${i[n].x} ${i[n].y}` : r += ` L ${i[n].x} ${i[n].y}`;
  return r;
}, getSvgNowPosition = (i, r, n) => n + (r - i), objectDeepClone = (i, r = {}) => i ? JSON.parse(JSON.stringify(i)) : r, setSvgActualInfo = (i, r) => {
  var a, u;
  const n = document.querySelector(`#${i.id}`), o = document.querySelector(`#rect${i.id}`);
  if (n) {
    let c = 0, d = 0, f = 0, p = 0;
    if (i.type === EDoneJsonType.Vue) {
      f = ((a = i.props.width) == null ? void 0 : a.val) || n.offsetWidth || 100, p = ((u = i.props.height) == null ? void 0 : u.val) || n.offsetHeight || 100, c = 50 - f / 2, d = 50 - p / 2;
      const _ = document.querySelector(`#foreign-object${i.id}`);
      _ && (_.getAttribute("x") === "0" && _.getAttribute("y") === "0" && _.getAttribute("width") === "0" && _.getAttribute("height") === "0" || r) && (_.setAttribute("x", c.toString()), _.setAttribute("y", d.toString()), _.setAttribute("width", f.toString()), _.setAttribute("height", p.toString()));
    } else {
      const _ = n.getBBox();
      c = myFixed(_.x, 0), d = myFixed(_.y, 0), f = myFixed(_.width, 0), p = myFixed(_.height, 0);
    }
    o && (o.getAttribute("x") === "0" && o.getAttribute("y") === "0" && o.getAttribute("width") === "0" && o.getAttribute("height") === "0" || r) && (o.setAttribute("x", c.toString()), o.setAttribute("y", d.toString()), o.setAttribute("width", f.toString()), o.setAttribute("height", p.toString())), (i.actual_bound.x === 0 && i.actual_bound.y === 0 && i.actual_bound.width === 0 && i.actual_bound.height === 0 || r) && (i.actual_bound = {
      x: c,
      y: d,
      width: f,
      height: p
    }), i.center_position = {
      x: i.x + i.actual_bound.x + f / 2,
      y: i.y + i.actual_bound.y + p / 2
    }, i.point_coordinate.tl = {
      x: i.center_position.x - f * i.scale_x / 2,
      y: i.center_position.y - p * i.scale_y / 2
    }, i.point_coordinate.tc = {
      x: i.center_position.x,
      y: i.center_position.y - p * i.scale_y / 2
    }, i.point_coordinate.tr = {
      x: i.center_position.x + f * i.scale_x / 2,
      y: i.center_position.y - p * i.scale_y / 2
    }, i.point_coordinate.l = {
      x: i.center_position.x - f * i.scale_x / 2,
      y: i.center_position.y
    }, i.point_coordinate.r = {
      x: i.center_position.x + f * i.scale_x / 2,
      y: i.center_position.y
    }, i.point_coordinate.bl = {
      x: i.center_position.x - f * i.scale_x / 2,
      y: i.center_position.y + p * i.scale_y / 2
    }, i.point_coordinate.bc = {
      x: i.center_position.x,
      y: i.center_position.y + p * i.scale_y / 2
    }, i.point_coordinate.br = {
      x: i.center_position.x + f * i.scale_x / 2,
      y: i.center_position.y + p * i.scale_y / 2
    }, i.rotate !== 0 && setAfterRotationPointCoordinate(i), moveAnchors(i);
  }
}, resetHandlePointOld = (i) => {
  for (const r of Object.keys(i.point_coordinate))
    i.point_coordinate_old && (i.point_coordinate_old[r].x = 0, i.point_coordinate_old[r].y = 0);
}, moveHandlePoint = (i, r, n) => {
  const o = useGlobalStore(pinia), a = r ?? o.mouse_info.new_position_x - o.mouse_info.position_x, u = n ?? o.mouse_info.new_position_y - o.mouse_info.position_y;
  for (const c of Object.keys(i.point_coordinate))
    r !== void 0 && n !== void 0 ? (i.point_coordinate[c].x += a, i.point_coordinate[c].y += u) : i.point_coordinate_old && (i.point_coordinate[c].x = i.point_coordinate_old[c].x + a, i.point_coordinate[c].y = i.point_coordinate_old[c].y + u);
}, moveAnchors = (i) => {
  var n, o, a, u;
  const r = useGlobalStore(pinia);
  for (let c of r.done_json)
    if (c.type === EDoneJsonType.ConnectionLine) {
      if (((o = (n = c.bind_anchors) == null ? void 0 : n.start) == null ? void 0 : o.target_id) === i.id) {
        const d = getAnchorPosByAnchorType(c.bind_anchors.start.type, i);
        c.props.point_position.val[0] = {
          x: d.x - c.x,
          y: d.y - c.y
        };
      }
      if (((u = (a = c.bind_anchors) == null ? void 0 : a.end) == null ? void 0 : u.target_id) === i.id) {
        const d = getAnchorPosByAnchorType(c.bind_anchors.end.type, i);
        c.props.point_position.val[c.props.point_position.val.length - 1] = {
          x: d.x - c.x,
          y: d.y - c.y
        };
      }
    }
}, unbindAnchors = (i) => {
  var n, o, a, u;
  const r = useGlobalStore(pinia);
  for (let c of r.done_json)
    c.type === EDoneJsonType.ConnectionLine && (((o = (n = c.bind_anchors) == null ? void 0 : n.start) == null ? void 0 : o.target_id) === i && (c.bind_anchors.start = null), ((u = (a = c.bind_anchors) == null ? void 0 : a.end) == null ? void 0 : u.target_id) === i && (c.bind_anchors.end = null));
}, getAnchorPosByAnchorType = (i, r) => i === ELineBindAnchors.BottomCenter ? r.point_coordinate.bc : i === ELineBindAnchors.Left ? r.point_coordinate.l : i === ELineBindAnchors.Right ? r.point_coordinate.r : r.point_coordinate.tc, setAfterRotationPointCoordinate = (i) => {
  i.point_coordinate = {
    tl: calculateRotatedPointCoordinate(i.point_coordinate.tl, i.center_position, i.rotate),
    tc: calculateRotatedPointCoordinate(i.point_coordinate.tc, i.center_position, i.rotate),
    tr: calculateRotatedPointCoordinate(i.point_coordinate.tr, i.center_position, i.rotate),
    l: calculateRotatedPointCoordinate(i.point_coordinate.l, i.center_position, i.rotate),
    r: calculateRotatedPointCoordinate(i.point_coordinate.r, i.center_position, i.rotate),
    bl: calculateRotatedPointCoordinate(i.point_coordinate.bl, i.center_position, i.rotate),
    bc: calculateRotatedPointCoordinate(i.point_coordinate.bc, i.center_position, i.rotate),
    br: calculateRotatedPointCoordinate(i.point_coordinate.br, i.center_position, i.rotate)
  };
}, prosToVBind = (i, r = []) => {
  let n = {};
  if (i.state) {
    for (const o in i.state)
      if (i.state.hasOwnProperty(o) && o === i.defaultState) {
        for (let a in i.state[o])
          a !== "label" && (n[kebabCase(a)] = i.state[o][a]);
        break;
      }
  }
  for (const o in i.props)
    r.indexOf(o) < 0 && (n[kebabCase(o)] = i.props[o].val);
  return n;
}, setArrItemByID = (id, key, val, json_arr) => new Promise((res) => {
  const find_item = json_arr.find((i) => i.id === id);
  find_item || res({
    status: !1,
    msg: "要设置的id不存在"
  }), eval(`find_item.${key} = val;`), res({
    status: !0,
    msg: "操作成功"
  });
}), getCommonClass = (i) => !i.common_animations || !i.common_animations.val ? "" : `common-ani animate__animated animate__${i.common_animations.val} animate__${i.common_animations.speed} animate__${i.common_animations.repeat} animate__${i.common_animations.delay}`, numberArray = (i) => {
  let r = [];
  for (let n = 0; n < i; n++)
    r.push(n);
  return r;
}, getStringWidth = (i, r = 12) => {
  if (i.length > 0) {
    let n = document.createElement("span");
    n.style.fontSize = r + "px", n.style.fontFamily = "inherit", n.innerHTML = i, n.style.opacity = "0", n.style.position = "fixed", n.style.top = "3000px", document.body.append(n);
    const o = n.clientWidth;
    return document.body.removeChild(n), o;
  }
  return 0;
}, valFormat = (i) => /false|true/.test(i) ? i !== "false" : /^\d+(\.\d+)?$/.test(i) ? Number(i) : i, createLine = (i, r, n) => {
  i.preventDefault();
  const o = useGlobalStore(pinia), a = useConfigStore(pinia), u = useSvgEditLayoutStore(pinia), { clientX: c, clientY: d } = i;
  let f = objectDeepClone(a.connection_line), p = 0, _ = 0;
  if (r && n) {
    f.bind_anchors.start = {
      type: r,
      target_id: n.id
    };
    let g = getAnchorPosByAnchorType(r, n);
    p = g.x, _ = g.y;
  } else
    p = Math.round(
      (c - u.canvasInfo.left) / a.svg.scale - u.center_offset.x
    ), _ = Math.round(
      (d - u.canvasInfo.top) / a.svg.scale - u.center_offset.y
    );
  const v = {
    id: randomString(),
    x: p,
    y: _,
    client: {
      x: p,
      y: _
    },
    scale_x: 1,
    scale_y: 1,
    rotate: 0,
    actual_bound: {
      x: 0,
      y: 0,
      width: 0,
      height: 0
    },
    center_position: {
      x: 0,
      y: 0
    },
    point_coordinate: {
      tl: {
        x: 0,
        y: 0
      },
      tc: {
        x: 0,
        y: 0
      },
      tr: {
        x: 0,
        y: 0
      },
      l: {
        x: 0,
        y: 0
      },
      r: {
        x: 0,
        y: 0
      },
      bl: {
        x: 0,
        y: 0
      },
      bc: {
        x: 0,
        y: 0
      },
      br: {
        x: 0,
        y: 0
      }
    },
    ...f
  };
  v.props.point_position.val.push({
    x: 0,
    y: 0
  }), o.setDoneJson(v), o.setHandleSvgInfo(v, o.done_json.length - 1), o.intention = EGlobalStoreIntention.Connection, o.mouse_info = {
    state: EMouseInfoState.Down,
    position_x: p,
    position_y: _,
    now_position_x: p,
    now_position_y: _,
    new_position_x: 0,
    new_position_y: 0
  };
}, getZoomPosition = (i, r, n, o) => {
  const a = i.layerX, u = i.layerY, c = n.x, d = n.y, f = myFixed(o ? r - 0.1 : r + 0.1, 1), p = myFixed(c + a * (f - 1) / f, 1), _ = myFixed(d + u * (f - 1) / f, 1);
  n.x = myFixed(p / r - (a - p) * (r - 1) / r, 2), n.y = myFixed(_ / r - (u - _) * (r - 1) / r, 2);
};
Object.seal({
  name: "straight-line",
  title: "直线",
  type: EDoneJsonType.StraightLine,
  config: {
    can_zoom: !1,
    have_anchor: !1,
    actual_rect: !1
  },
  display: !0,
  props: {
    fill: {
      title: "填充色",
      type: EConfigItemPropsType.Color,
      val: "#ff0000"
    },
    start_x: {
      title: "起点x坐标",
      type: EConfigItemPropsType.InputNumber,
      val: 0
    },
    start_y: {
      title: "起点y坐标",
      type: EConfigItemPropsType.InputNumber,
      val: 0
    },
    end_x: {
      title: "终点x坐标",
      type: EConfigItemPropsType.InputNumber,
      val: 0
    },
    end_y: {
      title: "终点y坐标",
      type: EConfigItemPropsType.InputNumber,
      val: 0
    }
  },
  bind_anchors: {
    start: null,
    end: null
  },
  events: []
});
const connection_line_system = {
  name: "connection_line",
  title: "连接线",
  type: EDoneJsonType.ConnectionLine,
  config: {
    can_zoom: !1,
    have_anchor: !1,
    actual_rect: !1
  },
  display: !0,
  props: {
    stroke: {
      title: "线条颜色",
      type: EConfigItemPropsType.Color,
      val: "#ff0000"
    },
    "stroke-width": {
      title: "线条宽度",
      type: EConfigItemPropsType.InputNumber,
      val: 2
    },
    point_r: {
      title: "节点半径",
      type: EConfigItemPropsType.InputNumber,
      val: 4
    },
    point_position: {
      title: "点坐标",
      type: EConfigItemPropsType.JsonEdit,
      val: []
    }
  },
  animations: {
    type: {
      title: "动画类型",
      type: EConfigItemPropsType.Select,
      val: EConfigAnimationsType.None,
      options: [
        {
          label: "无",
          value: EConfigAnimationsType.None
        },
        {
          label: "电流",
          value: EConfigAnimationsType.Electricity
        },
        {
          label: "轨迹",
          value: EConfigAnimationsType.Track
        },
        {
          label: "水珠",
          value: EConfigAnimationsType.WaterDrop
        }
      ]
    },
    dur: {
      title: "持续时间",
      type: EConfigItemPropsType.InputNumber,
      val: 20
    },
    repeatCount: {
      title: "循环次数",
      type: EConfigItemPropsType.Input,
      val: "indefinite",
      disabled: !0
    },
    color: {
      title: "颜色",
      type: EConfigItemPropsType.Color,
      val: "#602a00"
    },
    reverse: {
      title: "反转动画",
      type: EConfigItemPropsType.Switch,
      val: !1
    }
  },
  bind_anchors: {
    start: null,
    end: null
  },
  events: []
}, common_animate_list = [
  {
    label: "进入",
    children: [
      {
        label: "渐显",
        value: "fadeIn"
      },
      {
        label: "向右进入",
        value: "fadeInLeft"
      },
      {
        label: "向左进入",
        value: "fadeInRight"
      },
      {
        label: "向上进入",
        value: "fadeInUp"
      },
      {
        label: "向下进入",
        value: "fadeInDown"
      },
      {
        label: "向右长距进入",
        value: "fadeInLeftBig"
      },
      {
        label: "向左长距进入",
        value: "fadeInRightBig"
      },
      {
        label: "向上长距进入",
        value: "fadeInUpBig"
      },
      {
        label: "向下长距进入",
        value: "fadeInDownBig"
      },
      {
        label: "旋转进入",
        value: "rotateIn"
      },
      {
        label: "左顺时针旋转",
        value: "rotateInDownLeft"
      },
      {
        label: "右逆时针旋转",
        value: "rotateInDownRight"
      },
      {
        label: "左逆时针旋转",
        value: "rotateInUpLeft"
      },
      {
        label: "右逆时针旋转",
        value: "rotateInUpRight"
      },
      {
        label: "弹入",
        value: "bounceIn"
      },
      {
        label: "向右弹入",
        value: "bounceInLeft"
      },
      {
        label: "向左弹入",
        value: "bounceInRight"
      },
      {
        label: "向上弹入",
        value: "bounceInUp"
      },
      {
        label: "向下弹入",
        value: "bounceInDown"
      },
      {
        label: "光速从右进入",
        value: "lightSpeedInRight"
      },
      {
        label: "光速从左进入",
        value: "lightSpeedInLeft"
      },
      {
        label: "光速从右退出",
        value: "lightSpeedOutRight"
      },
      {
        label: "光速从左退出",
        value: "lightSpeedOutLeft"
      },
      {
        label: "Y轴旋转",
        value: "flip"
      },
      {
        label: "中心X轴旋转",
        value: "flipInX"
      },
      {
        label: "中心Y轴旋转",
        value: "flipInY"
      },
      {
        label: "左长半径旋转",
        value: "rollIn"
      },
      {
        label: "由小变大进入",
        value: "zoomIn"
      },
      {
        label: "左变大进入",
        value: "zoomInLeft"
      },
      {
        label: "右变大进入",
        value: "zoomInRight"
      },
      {
        label: "向上变大进入",
        value: "zoomInUp"
      },
      {
        label: "向下变大进入",
        value: "zoomInDown"
      },
      {
        label: "向右滑动展开",
        value: "slideInLeft"
      },
      {
        label: "向左滑动展开",
        value: "slideInRight"
      },
      {
        label: "向上滑动展开",
        value: "slideInUp"
      },
      {
        label: "向下滑动展开",
        value: "slideInDown"
      }
    ]
  },
  {
    label: "强调",
    children: [
      {
        label: "弹跳",
        value: "bounce"
      },
      {
        label: "闪烁",
        value: "flash"
      },
      {
        label: "放大缩小",
        value: "pulse"
      },
      {
        label: "放大缩小弹簧",
        value: "rubberBand"
      },
      {
        label: "左右晃动",
        value: "headShake"
      },
      {
        label: "左右扇形摇摆",
        value: "swing"
      },
      {
        label: "放大晃动缩小",
        value: "tada"
      },
      {
        label: "扇形摇摆",
        value: "wobble"
      },
      {
        label: "左右上下晃动",
        value: "jello"
      },
      {
        label: "Y轴旋转",
        value: "flip"
      }
    ]
  },
  {
    label: "退出",
    children: [
      {
        label: "渐隐",
        value: "fadeOut"
      },
      {
        label: "向左退出",
        value: "fadeOutLeft"
      },
      {
        label: "向右退出",
        value: "fadeOutRight"
      },
      {
        label: "向上退出",
        value: "fadeOutUp"
      },
      {
        label: "向下退出",
        value: "fadeOutDown"
      },
      {
        label: "向左长距退出",
        value: "fadeOutLeftBig"
      },
      {
        label: "向右长距退出",
        value: "fadeOutRightBig"
      },
      {
        label: "向上长距退出",
        value: "fadeOutUpBig"
      },
      {
        label: "向下长距退出",
        value: "fadeOutDownBig"
      },
      {
        label: "旋转退出",
        value: "rotateOut"
      },
      {
        label: "左顺时针旋转",
        value: "rotateOutDownLeft"
      },
      {
        label: "右逆时针旋转",
        value: "rotateOutDownRight"
      },
      {
        label: "左逆时针旋转",
        value: "rotateOutUpLeft"
      },
      {
        label: "右逆时针旋转",
        value: "rotateOutUpRight"
      },
      {
        label: "弹出",
        value: "bounceOut"
      },
      {
        label: "向左弹出",
        value: "bounceOutLeft"
      },
      {
        label: "向右弹出",
        value: "bounceOutRight"
      },
      {
        label: "向上弹出",
        value: "bounceOutUp"
      },
      {
        label: "向下弹出",
        value: "bounceOutDown"
      },
      {
        label: "中心X轴旋转",
        value: "flipOutX"
      },
      {
        label: "中心Y轴旋转",
        value: "flipOutY"
      },
      {
        label: "左长半径旋转",
        value: "rollOut"
      },
      {
        label: "由小变大退出",
        value: "zoomOut"
      },
      {
        label: "左变大退出",
        value: "zoomOutLeft"
      },
      {
        label: "右变大退出",
        value: "zoomOutRight"
      },
      {
        label: "向上变大退出",
        value: "zoomOutUp"
      },
      {
        label: "向下变大退出",
        value: "zoomOutDown"
      },
      {
        label: "向左滑动收起",
        value: "slideOutLeft"
      },
      {
        label: "向右滑动收起",
        value: "slideOutRight"
      },
      {
        label: "向上滑动收起",
        value: "slideOutUp"
      },
      {
        label: "向下滑动收起",
        value: "slideOutDown"
      }
    ]
  }
];
let l = localStorage.getItem("svg-editor-config"), s, t$1;
if (l) {
  let i = JSON.parse(l);
  t$1 = i.connection_line, s = i.svg;
} else
  t$1 = objectDeepClone(connection_line_system), s = {
    background_color: "#fff",
    scale: 1,
    grid: !0,
    grid_color: "#ebebeb",
    ruler: !0
  };
const useConfigStore = defineStore("config-store", {
  state: () => ({
    svg: s,
    connection_line: t$1,
    net: {
      mqtt: {
        useGlobalMqtt: !1,
        url: "",
        user: "",
        pwd: "",
        topics: "",
        global: { url: "", user: "", pwd: "", topics: "" }
      }
    }
  }),
  getters: {},
  actions: {}
});
var EContextMenuInfoType = /* @__PURE__ */ ((i) => (i.Copy = "Copy", i.Delete = "Delete", i.MoveUpOneLevel = "MoveUpOneLevel", i.MoveDownOneLevel = "MoveDownOneLevel", i.MoveUpTopLevel = "MoveUpTopLevel", i.MoveDownTopLevel = "MoveDownTopLevel", i))(EContextMenuInfoType || {});
const useEditPrivateStore = defineStore("edit-private-store", {
  state: () => ({
    old_done_components: [],
    //记录预览之前的组件数据
    history_doneComponent: [],
    history_now_index: 0,
    is_record_history: !0,
    //是否需要记录当前状态，如果是操作的历史记录，则不需要记录
    max_record_times: 10
  }),
  getters: {
    getTopBtnUndoStatus(i) {
      return i.history_now_index >= 1;
    },
    getTopBtnRedoStatus(i) {
      return i.history_now_index + 1 != i.history_doneComponent.length;
    }
  },
  actions: {
    topUndoBtnClick() {
      if (console.log("撤销"), this.history_now_index < 1)
        return;
      const i = useGlobalStore();
      this.is_record_history = !1, this.history_now_index -= 1, i.setDoneJson(this.history_doneComponent[this.history_now_index]);
    },
    topRedoBtnClick() {
      if (console.log("重做"), this.history_now_index + 1 == this.history_doneComponent.length)
        return;
      const i = useGlobalStore();
      this.is_record_history = !1, this.history_now_index += 1, i.setDoneJson(this.history_doneComponent[this.history_now_index]);
    }
  }
}), useContextMenuStore = defineStore("context-menu-store", {
  state: () => ({
    display: !1,
    info: {
      [EContextMenuInfoType.Copy]: {
        title: "复制",
        hot_key: "Ctrl + c",
        enable: !0
      },
      [EContextMenuInfoType.Delete]: {
        title: "删除",
        hot_key: "Delete",
        enable: !0
      },
      [EContextMenuInfoType.MoveUpTopLevel]: {
        title: "置于顶层",
        hot_key: "Ctrl + →",
        enable: !0
      },
      [EContextMenuInfoType.MoveDownTopLevel]: {
        title: "置于底层",
        hot_key: "Ctrl + ←",
        enable: !0
      },
      [EContextMenuInfoType.MoveUpOneLevel]: {
        title: "置于上一层",
        hot_key: "Ctrl + ↑",
        enable: !0
      },
      [EContextMenuInfoType.MoveDownOneLevel]: {
        title: "置于下一层",
        hot_key: "Ctrl + ↓",
        enable: !0
      }
    }
  }),
  actions: {
    onContextMenuClick(i) {
      const r = useGlobalStore();
      if (r.handle_svg_info)
        switch (r.intention = EGlobalStoreIntention.Select, i) {
          case EContextMenuInfoType.Copy:
            const n = objectDeepClone(r.handle_svg_info.info);
            n.id = randomString(), n.title += "-copy", n.x += 10, n.y += 10, r.setDoneJson(n), this.display = !1, r.setHandleSvgInfo(n, r.done_json.length);
            break;
          case EContextMenuInfoType.Delete:
            r.spliceDoneJson(r.handle_svg_info.index), this.display = !1, r.setHandleSvgInfo(null), r.intention = EGlobalStoreIntention.None;
            break;
          case EContextMenuInfoType.MoveUpOneLevel:
            if (r.done_json.length === 1 || r.handle_svg_info.index === r.done_json.length - 1)
              return;
            const o = r.handle_svg_info.info;
            r.done_json[r.handle_svg_info.index] = r.done_json[r.handle_svg_info.index + 1], r.done_json[r.handle_svg_info.index + 1] = o, useHistoryRecord(r.done_json), this.display = !1, r.setHandleSvgInfo(o, r.handle_svg_info.index + 1);
            break;
          case EContextMenuInfoType.MoveDownOneLevel:
            if (r.done_json.length === 1 || r.handle_svg_info.index === 0)
              return;
            const a = r.handle_svg_info.info;
            r.done_json[r.handle_svg_info.index] = r.done_json[r.handle_svg_info.index - 1], r.done_json[r.handle_svg_info.index - 1] = a, useHistoryRecord(r.done_json), this.display = !1, r.setHandleSvgInfo(a, r.handle_svg_info.index - 1);
            break;
          case EContextMenuInfoType.MoveDownTopLevel:
            if (r.done_json.length === 1 || r.handle_svg_info.index === 0)
              return;
            const u = r.handle_svg_info.info;
            r.done_json.splice(r.handle_svg_info.index, 1), r.done_json.unshift(u), useHistoryRecord(r.done_json), this.display = !1, r.setHandleSvgInfo(u, 0);
            break;
          case EContextMenuInfoType.MoveUpTopLevel:
            if (r.done_json.length === 1 || r.handle_svg_info.index === r.done_json.length)
              return;
            const c = r.handle_svg_info.info;
            r.done_json.splice(r.handle_svg_info.index, 1), r.done_json.push(c), useHistoryRecord(r.done_json), this.display = !1, r.setHandleSvgInfo(c, r.done_json.length - 1);
            break;
        }
    }
  }
}), pinia = createPinia(), useHistoryRecord = (i) => {
  const r = useEditPrivateStore();
  r.is_record_history && (r.history_now_index + 1 < r.history_doneComponent.length && r.history_doneComponent.splice(r.history_now_index + 1), r.history_doneComponent.push(i), r.history_now_index = r.history_doneComponent.length - 1, r.history_doneComponent.length > r.max_record_times && (r.history_doneComponent.shift(), r.history_now_index = r.history_doneComponent.length - 1)), r.is_record_history = !0;
}, useImportDataModel = (i) => {
  try {
    const r = JSON.parse(i);
    if (!r.config || !r.layout_center || !r.done_json)
      return ElMessage.error("请导入正确的数据模型！"), !1;
    const n = useGlobalStore(pinia), o = useSvgEditLayoutStore(pinia), a = useConfigStore(pinia);
    return a.$state = r.config, o.center_offset = r.layout_center, n.setDoneJson(r.done_json), !0;
  } catch (r) {
    return ElMessage.error("请导入正确的数据模型！"), console.error(r), !1;
  }
}, _hoisted_1$e = { "aria-hidden": "true" }, _hoisted_2$c = ["xlink:href"], _sfc_main$E = /* @__PURE__ */ defineComponent({
  __name: "svg-analysis",
  props: {
    name: {},
    props: { default: () => ({}) }
  },
  setup(i) {
    const r = i, n = computed(() => `#svg-${r.name}`);
    return (o, a) => (openBlock(), createElementBlock("svg", _hoisted_1$e, [
      createElementVNode("use", mergeProps({ "xlink:href": unref(n) }, r.props), null, 16, _hoisted_2$c)
    ]));
  }
});
var EVisibleConfKey = /* @__PURE__ */ ((i) => (i.ImportJson = "ImportJson", i.ExportJson = "ExportJson", i.ImportFile = "ImportFile", i))(EVisibleConfKey || {});
const _withScopeId$2 = (i) => (pushScopeId("data-v-e813974f"), i = i(), popScopeId(), i), _hoisted_1$d = {
  class: "flex justify-between",
  style: { width: "100%" }
}, _hoisted_2$b = {
  class: "flex items-center justify-between",
  style: { width: "250px" }
}, _hoisted_3$9 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", { class: "flex items-center" }, [
  /* @__PURE__ */ createElementVNode("span", { class: "logo-title" }, "Svg Editor")
], -1)), _hoisted_4$8 = {
  class: "flex justify-between",
  style: { width: "calc(100% - 440px)" }
}, _hoisted_5$6 = { class: "flex items-center" }, _hoisted_6$5 = { class: "flex items-center mr-20px" }, _hoisted_7$5 = {
  class: "flex items-center",
  style: { width: "250px" }
}, _hoisted_8$5 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", {
  class: "font-bold mb-10px text-15px guide-title",
  style: { "padding-top": "16px" }
}, "多选", -1)), _hoisted_9$4 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", null, "在画布空白区域按住鼠标左键可以框选（图形中心点在框选区域即判定被选中），也可以按住ctrl+鼠标左键点图形进行多选 ", -1)), _hoisted_10$3 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", {
  class: "el-divider el-divider--horizontal",
  role: "separator",
  style: { "--el-border-style": "solid" }
}, null, -1)), _hoisted_11$2 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", { class: "font-bold mb-10px text-15px guide-title" }, "拖动画布", -1)), _hoisted_12$1 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", null, "在画布空白区域按住右键可拖动画布，右侧面板‘图纸’栏可微调或重置位置", -1)), _hoisted_13$1 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", {
  class: "el-divider el-divider--horizontal",
  role: "separator",
  style: { "--el-border-style": "solid" }
}, null, -1)), _hoisted_14$1 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", { class: "font-bold mb-10px text-15px guide-title" }, "画布缩放", -1)), _hoisted_15$1 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", null, "在画布中使用鼠标滚轮或者右侧面板‘图纸’栏可控制画布缩放，鼠标滚轮以鼠标位置为缩放中心，图纸栏以图纸原点（默认在左上角）为缩放中心 ", -1)), _hoisted_16$1 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", {
  class: "el-divider el-divider--horizontal",
  role: "separator",
  style: { "--el-border-style": "solid" }
}, null, -1)), _hoisted_17$1 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", { class: "font-bold mb-10px text-15px guide-title" }, "标尺辅助线", -1)), _hoisted_18$1 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", null, "在标尺区域按住鼠标左键并拖动即可创建标尺辅助线，将标尺辅助线拖动到标尺区域即可删除标尺辅助线", -1)), _hoisted_19 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", {
  class: "el-divider el-divider--horizontal",
  role: "separator",
  style: { "--el-border-style": "solid" }
}, null, -1)), _hoisted_20 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", { class: "font-bold mb-10px text-15px guide-title" }, "组件尺寸", -1)), _hoisted_21 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", null, [
  /* @__PURE__ */ createElementVNode("p", null, " 大多数组件可以通过选中组件然后拖动交互点或在右侧‘外观’栏改变外形尺寸，或通过右侧‘数据’栏直接或间接改变外形尺寸；"),
  /* @__PURE__ */ createElementVNode("p", null, "少数特殊组件仅可通过右侧'数据'栏直接或间接改变外形尺寸")
], -1)), _hoisted_22 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", {
  class: "el-divider el-divider--horizontal",
  role: "separator",
  style: { "--el-border-style": "solid" }
}, null, -1)), _hoisted_23 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", { class: "font-bold mb-10px text-15px guide-title" }, "连线样式", -1)), _hoisted_24 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", null, "在右侧‘连线’栏可以统一配置连线样式，配置后先增加的线会应用新样式，之前的线样式不变，如需改变，可选中线手动更改或删除重画 ", -1)), _hoisted_25 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", {
  class: "el-divider el-divider--horizontal",
  role: "separator",
  style: { "--el-border-style": "solid" }
}, null, -1)), _hoisted_26 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", { class: "font-bold mb-10px text-15px guide-title" }, "横线和竖线", -1)), _hoisted_27 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", { class: "guide-text" }, [
  /* @__PURE__ */ createElementVNode("p", null, " 点击编辑器顶部连线按钮会进入连线状态，该状态下在画板点击鼠标左键即可开始画线，移动并再次点击左键创建新的节点，右键结束画线并退出连线状态；"),
  /* @__PURE__ */ createElementVNode("p", null, "画线的时候按住ctrl即可画竖线，按住shift即可画横线")
], -1)), _hoisted_28 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", {
  class: "el-divider el-divider--horizontal",
  role: "separator",
  style: { "--el-border-style": "solid" }
}, null, -1)), _hoisted_29 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", { class: "font-bold mb-10px text-15px guide-title" }, "绑定锚点", -1)), _hoisted_30 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", { class: "guide-text" }, [
  /* @__PURE__ */ createElementVNode("p", null, "组件在未选中时，鼠标经过组件时会出现锚点，鼠标悬浮在锚点上时，会有交互样式，点击左键即可以锚点为起点创建连线；"),
  /* @__PURE__ */ createElementVNode("p", null, "同样，在连线时鼠标经过锚点时，会出现锚点交互样式，点击左键即可以锚点为连线终点结束连线；"),
  /* @__PURE__ */ createElementVNode("p", null, "这两种情况下的连线会绑定组件上的锚点，如需解绑，参考下面的‘锚点解绑’；"),
  /* @__PURE__ */ createElementVNode("p", null, "同样，也可先画线，再选中连线绑定想要绑定的组件锚点（连线只有首尾节点可以绑定锚点）")
], -1)), _hoisted_31 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", {
  class: "el-divider el-divider--horizontal",
  role: "separator",
  style: { "--el-border-style": "solid" }
}, null, -1)), _hoisted_32 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", { class: "font-bold mb-10px text-15px guide-title" }, "线段选中", -1)), _hoisted_33 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", null, " 若线段绑定了锚点，移动线段，绑定的锚点不会移动。若是想将线段整体移动，需要先解绑，参考下面的‘锚点解绑’ ", -1)), _hoisted_34 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", {
  class: "el-divider el-divider--horizontal",
  role: "separator",
  style: { "--el-border-style": "solid" }
}, null, -1)), _hoisted_35 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", { class: "font-bold mb-10px text-15px guide-title" }, "锚点解绑", -1)), _hoisted_36 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", { style: { "padding-bottom": "14px" } }, " 选中线段，在右侧‘数据’栏里解除绑定；或者鼠标左键拖拽连线上需要解绑的节点", -1)), _sfc_main$D = /* @__PURE__ */ defineComponent({
  __name: "top-panel",
  emits: ["changeVisible", "onReturn", "onPreview", "onSave"],
  setup(i, { emit: r }) {
    const n = useSvgEditLayoutStore(pinia), o = useGlobalStore(pinia), a = useEditPrivateStore(pinia), u = useConfigStore(pinia), c = r, d = () => {
      o.done_json.length <= 0 || o.setDoneJson([]), o.intention = EGlobalStoreIntention.None;
    }, f = (v) => {
      const g = {
        layout_center: n.center_offset,
        config: u.$state,
        done_json: o.done_json
      };
      c(v, g);
    }, p = ref(!1), _ = computed({
      get: () => o.intention === EGlobalStoreIntention.Connection,
      set(v) {
        o.intention = v ? EGlobalStoreIntention.Connection : EGlobalStoreIntention.None, v && (o.done_json.forEach((g) => {
          g != null && g.selected && (g.selected = !1);
        }), o.setHandleSvgInfo(null));
      }
    });
    return (v, g) => (openBlock(), createElementBlock(Fragment, null, [
      createElementVNode("div", _hoisted_1$d, [
        createElementVNode("div", _hoisted_2$b, [
          _hoisted_3$9,
          createVNode$1(unref(ElIcon$1), {
            size: 24,
            class: "bt-Icon",
            onClick: g[0] || (g[0] = (y) => unref(n).left_nav = !unref(n).left_nav),
            title: unref(n).left_nav ? "隐藏左侧菜单" : "显示左侧菜单"
          }, {
            default: withCtx(() => [
              unref(n).left_nav ? (openBlock(), createBlock(_sfc_main$E, {
                key: 0,
                name: "menu-unfold"
              })) : (openBlock(), createBlock(_sfc_main$E, {
                key: 1,
                name: "menu-fold"
              }))
            ]),
            _: 1
          }, 8, ["title"])
        ]),
        createElementVNode("div", _hoisted_4$8, [
          createElementVNode("div", _hoisted_5$6, [
            createVNode$1(unref(ElIcon$1), {
              title: "撤销 ctrl+z",
              size: 24,
              class: normalizeClass(`${unref(a).getTopBtnUndoStatus ? "bt-Icon" : "icon-disable"} ml-20px`),
              onClick: g[1] || (g[1] = () => unref(a).topUndoBtnClick())
            }, {
              default: withCtx(() => [
                createVNode$1(_sfc_main$E, {
                  name: unref(a).getTopBtnUndoStatus ? "undo" : "undo-gray"
                }, null, 8, ["name"])
              ]),
              _: 1
            }, 8, ["class"]),
            createVNode$1(unref(ElIcon$1), {
              title: "重做 ctrl+shift+z",
              class: normalizeClass(`${unref(a).getTopBtnRedoStatus ? "bt-Icon" : "icon-disable"} ml-5px`),
              size: 24,
              onClick: g[2] || (g[2] = () => unref(a).topRedoBtnClick())
            }, {
              default: withCtx(() => [
                createVNode$1(_sfc_main$E, {
                  name: unref(a).getTopBtnRedoStatus ? "redo" : "redo-gray"
                }, null, 8, ["name"])
              ]),
              _: 1
            }, 8, ["class"]),
            createVNode$1(unref(ElDivider), { direction: "vertical" }),
            createVNode$1(unref(ElIcon$1), {
              title: "清空 ctrl+delete",
              class: normalizeClass(unref(o).done_json.length > 0 ? "bt-Icon" : "icon-disable"),
              size: 24,
              onClick: d
            }, {
              default: withCtx(() => [
                createVNode$1(_sfc_main$E, {
                  name: unref(o).done_json.length > 0 ? "delete" : "delete-gray"
                }, null, 8, ["name"])
              ]),
              _: 1
            }, 8, ["class"]),
            createVNode$1(unref(ElDivider), { direction: "vertical" }),
            createVNode$1(unref(ElIcon$1), {
              title: "导入数据模型",
              class: "bt-Icon",
              size: 24,
              onClick: g[3] || (g[3] = (y) => c("changeVisible", unref(EVisibleConfKey).ImportJson, !0))
            }, {
              default: withCtx(() => [
                createVNode$1(_sfc_main$E, { name: "import" })
              ]),
              _: 1
            }),
            createVNode$1(unref(ElIcon$1), {
              title: "导出数据模型",
              size: 24,
              class: "bt-Icon ml-5px",
              onClick: g[4] || (g[4] = (y) => c("changeVisible", unref(EVisibleConfKey).ExportJson, !0))
            }, {
              default: withCtx(() => [
                createVNode$1(_sfc_main$E, { name: "export" })
              ]),
              _: 1
            }),
            createVNode$1(unref(ElDivider), { direction: "vertical" }),
            createVNode$1(unref(ElIcon$1), {
              title: "创建连线",
              class: normalizeClass(["bt-Icon", { active: unref(_) }]),
              size: 24,
              onClick: g[5] || (g[5] = (y) => _.value = !unref(_))
            }, {
              default: withCtx(() => [
                createVNode$1(_sfc_main$E, {
                  name: unref(_) ? "line-active" : "line"
                }, null, 8, ["name"])
              ]),
              _: 1
            }, 8, ["class"]),
            createVNode$1(unref(ElDivider), { direction: "vertical" }),
            createVNode$1(unref(ElIcon$1), {
              title: "说明",
              class: "bt-Icon",
              size: 24,
              onClick: g[6] || (g[6] = (y) => p.value = !unref(p))
            }, {
              default: withCtx(() => [
                createVNode$1(_sfc_main$E, { name: "question" })
              ]),
              _: 1
            })
          ]),
          createElementVNode("div", _hoisted_6$5, [
            createVNode$1(unref(ElIcon$1), {
              title: "返回",
              class: "bt-Icon",
              size: 24,
              onClick: g[7] || (g[7] = (y) => f("onReturn"))
            }, {
              default: withCtx(() => [
                createVNode$1(_sfc_main$E, { name: "return" })
              ]),
              _: 1
            }),
            createVNode$1(unref(ElDivider), { direction: "vertical" }),
            createVNode$1(unref(ElIcon$1), {
              title: "保存",
              class: "bt-Icon",
              size: 24,
              onClick: g[8] || (g[8] = (y) => f("onSave"))
            }, {
              default: withCtx(() => [
                createVNode$1(_sfc_main$E, { name: "save" })
              ]),
              _: 1
            }),
            createVNode$1(unref(ElDivider), { direction: "vertical" }),
            createVNode$1(unref(ElIcon$1), {
              title: "预览",
              class: "bt-Icon",
              size: 22,
              onClick: g[9] || (g[9] = (y) => f("onPreview"))
            }, {
              default: withCtx(() => [
                createVNode$1(_sfc_main$E, { name: "preview" })
              ]),
              _: 1
            })
          ])
        ]),
        createElementVNode("div", _hoisted_7$5, [
          createVNode$1(unref(ElIcon$1), {
            size: 24,
            class: "bt-Icon",
            onClick: g[10] || (g[10] = (y) => unref(n).right_nav = !unref(n).right_nav),
            title: unref(n).right_nav ? "隐藏右侧菜单" : "显示右侧菜单"
          }, {
            default: withCtx(() => [
              unref(n).right_nav ? (openBlock(), createBlock(_sfc_main$E, {
                key: 0,
                name: "menu-fold"
              })) : (openBlock(), createBlock(_sfc_main$E, {
                key: 1,
                name: "menu-unfold"
              }))
            ]),
            _: 1
          }, 8, ["title"])
        ])
      ]),
      createVNode$1(unref(ElDialog), {
        modelValue: unref(p),
        "onUpdate:modelValue": g[11] || (g[11] = (y) => isRef(p) ? p.value = y : null),
        title: "使用说明",
        width: "60%"
      }, {
        default: withCtx(() => [
          createVNode$1(unref(ElScrollbar$1), { "max-height": "60vh" }, {
            default: withCtx(() => [
              _hoisted_8$5,
              _hoisted_9$4,
              _hoisted_10$3,
              _hoisted_11$2,
              _hoisted_12$1,
              _hoisted_13$1,
              _hoisted_14$1,
              _hoisted_15$1,
              _hoisted_16$1,
              _hoisted_17$1,
              _hoisted_18$1,
              _hoisted_19,
              _hoisted_20,
              _hoisted_21,
              _hoisted_22,
              _hoisted_23,
              _hoisted_24,
              _hoisted_25,
              _hoisted_26,
              _hoisted_27,
              _hoisted_28,
              _hoisted_29,
              _hoisted_30,
              _hoisted_31,
              _hoisted_32,
              _hoisted_33,
              _hoisted_34,
              _hoisted_35,
              _hoisted_36
            ]),
            _: 1
          })
        ]),
        _: 1
      }, 8, ["modelValue"])
    ], 64));
  }
}), topPanel_vue_vue_type_style_index_0_scoped_e813974f_lang = "", TopPanel = /* @__PURE__ */ _export_sfc$1(_sfc_main$D, [["__scopeId", "data-v-e813974f"]]), _hoisted_1$c = { class: "component-group flex flex-wrap" }, _hoisted_2$a = ["onDragstart", "title"], _sfc_main$C = /* @__PURE__ */ defineComponent({
  __name: "left-panel",
  props: {
    customToolbar: {}
  },
  setup(i) {
    const r = useGlobalStore(pinia), n = i, o = ref(
      n.customToolbar && Object.keys(n.customToolbar).length > 0 ? n.customToolbar : r.config_center
    ), a = ref([
      "stateful",
      "stateless",
      "have_animation",
      "custom_svg_group",
      "element-ui",
      "custom-vue",
      "echarts"
    ]), u = (f) => {
      r.setCreateInfo(c(f));
    }, c = (f) => (f != null && f.props && !isEmpty(f.props) && Object.keys(f.props).forEach((p, _) => {
      f.props[p].sort = String(_);
    }), f), d = (f) => {
      var p;
      if (((p = f.dataTransfer) == null ? void 0 : p.dropEffect) !== "copy") {
        ElMessage.warning("请将组件拖到画布中!"), r.intention = EGlobalStoreIntention.None;
        return;
      }
    };
    return (f, p) => (openBlock(), createElementBlock("div", null, [
      createVNode$1(unref(ElCollapse), {
        modelValue: unref(a),
        "onUpdate:modelValue": p[0] || (p[0] = (_) => isRef(a) ? a.value = _ : null),
        style: { "border-top": "none" }
      }, {
        default: withCtx(() => [
          (openBlock(!0), createElementBlock(Fragment, null, renderList(unref(o), (_) => (openBlock(), createBlock(unref(ElCollapseItem), {
            name: _.groupType,
            key: _.title
          }, {
            title: withCtx(() => [
              createElementVNode("div", null, toDisplayString(_.title), 1)
            ]),
            default: withCtx(() => [
              createElementVNode("div", _hoisted_1$c, [
                (openBlock(!0), createElementBlock(Fragment, null, renderList(_.list, (v) => (openBlock(), createElementBlock("div", {
                  class: "ideal",
                  key: v.name,
                  draggable: "true",
                  onDragstart: (g) => u(v),
                  onDragend: d,
                  title: v.title
                }, [
                  createVNode$1(unref(ElIcon$1), {
                    size: 35,
                    class: "flex items-center"
                  }, {
                    default: withCtx(() => [
                      createVNode$1(_sfc_main$E, {
                        name: v.name,
                        props: unref(prosToVBind)(v, ["width", "height", "maxHeight"])
                      }, null, 8, ["name", "props"])
                    ]),
                    _: 2
                  }, 1024)
                ], 40, _hoisted_2$a))), 128))
              ])
            ]),
            _: 2
          }, 1032, ["name"]))), 128))
        ]),
        _: 1
      }, 8, ["modelValue"])
    ]));
  }
}), leftPanel_vue_vue_type_style_index_0_scoped_8aba8565_lang = "", LeftPanel = /* @__PURE__ */ _export_sfc$1(_sfc_main$C, [["__scopeId", "data-v-8aba8565"]]), calculateLeftTop = (i, r, n) => {
  const o = getCenterPoint(i, r), a = calculateRotatedPointCoordinate(i, o, -n), u = calculateRotatedPointCoordinate(r, o, -n);
  return {
    width: u.x - a.x,
    height: u.y - a.y,
    is_old_width: !1,
    is_old_height: !1
  };
}, calculateRightTop = (i, r, n) => {
  const o = getCenterPoint(i, r), a = calculateRotatedPointCoordinate(i, o, -n), u = calculateRotatedPointCoordinate(r, o, -n);
  return {
    width: a.x - u.x,
    height: u.y - a.y,
    is_old_width: !1,
    is_old_height: !1
  };
}, calculateRightBottom = (i, r, n) => {
  const o = getCenterPoint(i, r), a = calculateRotatedPointCoordinate(r, o, -n), u = calculateRotatedPointCoordinate(i, o, -n);
  return {
    width: u.x - a.x,
    height: u.y - a.y,
    is_old_width: !1,
    is_old_height: !1
  };
}, calculateLeftBottom = (i, r, n) => {
  const o = getCenterPoint(i, r), a = calculateRotatedPointCoordinate(r, o, -n), u = calculateRotatedPointCoordinate(i, o, -n);
  return {
    width: a.x - u.x,
    height: u.y - a.y,
    is_old_width: !1,
    is_old_height: !1
  };
}, calculateTop = (i, r, n, o) => {
  const a = calculateRotatedPointCoordinate(i, o, -n), u = calculateRotatedPointCoordinate(
    {
      x: o.x,
      y: a.y
    },
    o,
    n
  ), c = Math.sqrt(
    (u.x - r.x) ** 2 + (u.y - r.y) ** 2
  );
  return {
    width: 1,
    height: Math.round(c),
    is_old_width: !0,
    is_old_height: !1
  };
}, calculateRight = (i, r, n, o) => {
  const a = calculateRotatedPointCoordinate(i, o, -n), u = calculateRotatedPointCoordinate(
    {
      x: a.x,
      y: o.y
    },
    o,
    n
  ), c = Math.sqrt(
    (u.x - r.x) ** 2 + (u.y - r.y) ** 2
  );
  return {
    width: Math.round(c),
    height: 1,
    is_old_width: !1,
    is_old_height: !0
  };
}, calculateBottom = (i, r, n, o) => {
  const a = calculateRotatedPointCoordinate(i, o, -n), u = calculateRotatedPointCoordinate(
    {
      x: o.x,
      y: a.y
    },
    o,
    n
  ), c = Math.sqrt(
    (u.x - r.x) ** 2 + (u.y - r.y) ** 2
  );
  return {
    width: 1,
    height: Math.round(c),
    is_old_width: !0,
    is_old_height: !1
  };
}, calculateLeft = (i, r, n, o) => {
  const a = calculateRotatedPointCoordinate(i, o, -n), u = calculateRotatedPointCoordinate(
    {
      x: a.x,
      y: o.y
    },
    o,
    n
  ), c = Math.sqrt(
    (u.x - r.x) ** 2 + (u.y - r.y) ** 2
  );
  return {
    width: Math.round(c),
    height: 1,
    is_old_width: !1,
    is_old_height: !0
  };
}, _hoisted_1$b = { style: { "vector-effect": "non-scaling-stroke" } }, _hoisted_2$9 = ["fill", "x", "y"], _hoisted_3$8 = ["cx", "cy"], _hoisted_4$7 = ["x1", "y1", "x2", "y2"], _hoisted_5$5 = ["fill", "x", "y"], _hoisted_6$4 = ["fill", "x", "y"], _hoisted_7$4 = ["fill", "x", "y"], _hoisted_8$4 = ["fill", "x", "y"], _hoisted_9$3 = ["fill", "x", "y"], _hoisted_10$2 = ["fill", "x", "y"], _hoisted_11$1 = ["fill", "x", "y"], _sfc_main$B = /* @__PURE__ */ defineComponent({
  __name: "handle-panel",
  props: {
    itemInfo: {}
  },
  setup(i) {
    useCssVars((g) => ({
      "5c831aea": unref(c)
    }));
    const r = i, n = useGlobalStore(pinia), o = useConfigStore(pinia), a = useSvgEditLayoutStore(pinia), u = ref(4), c = ref("#ab712e"), d = [
      {
        start: 338,
        end: 23,
        cursor: "nw",
        type: EScaleInfoType.TopLeft
      },
      {
        start: 23,
        end: 68,
        cursor: "n",
        type: EScaleInfoType.TopCenter
      },
      {
        start: 68,
        end: 113,
        cursor: "ne",
        type: EScaleInfoType.TopRight
      },
      {
        start: 293,
        end: 338,
        cursor: "w",
        type: EScaleInfoType.Left
      },
      {
        start: 113,
        end: 158,
        cursor: "e",
        type: EScaleInfoType.Right
      },
      {
        start: 248,
        end: 293,
        cursor: "sw",
        type: EScaleInfoType.BottomLeft
      },
      {
        start: 203,
        end: 248,
        cursor: "s",
        type: EScaleInfoType.BottomCenter
      },
      {
        start: 158,
        end: 203,
        cursor: "se",
        type: EScaleInfoType.BottomRight
      }
    ], f = computed(() => r.itemInfo.config.can_zoom), p = (g, y) => {
      console.log("handMousedown", y);
      const { clientX: b, clientY: A } = y;
      y.stopPropagation(), n.intention = EGlobalStoreIntention.Zoom;
      const w = Math.round(
        (b - a.canvasInfo.left) / o.svg.scale - a.center_offset.x
      ), S = Math.round(
        (A - a.canvasInfo.top) / o.svg.scale - a.center_offset.y
      );
      n.mouse_info = {
        state: EMouseInfoState.Down,
        position_x: w,
        position_y: S,
        now_position_x: w,
        now_position_y: S,
        new_position_x: 0,
        new_position_y: 0
      }, n.scale_info = {
        type: g,
        scale_times: {
          x: r.itemInfo.scale_x,
          y: r.itemInfo.scale_y
        },
        scale_item_info: {
          x: r.itemInfo.x,
          y: r.itemInfo.y
        },
        symmetric_point: {
          x: w + Math.abs(w - r.itemInfo.center_position.x) * 2 * (w > r.itemInfo.center_position.x ? -1 : 1),
          y: S + Math.abs(S - r.itemInfo.center_position.y) * 2 * (S > r.itemInfo.center_position.y ? -1 : 1)
        }
      };
    }, _ = (g) => {
      const { clientX: y, clientY: b } = g, A = Math.round(
        (y - a.canvasInfo.left) / o.svg.scale - a.center_offset.x
      ), w = Math.round(
        (b - a.canvasInfo.top) / o.svg.scale - a.center_offset.y
      );
      g.stopPropagation(), n.intention = EGlobalStoreIntention.Rotate, n.rotate_info = {
        angle: r.itemInfo.rotate
      }, n.mouse_info = {
        state: EMouseInfoState.Down,
        position_x: A,
        position_y: w,
        now_position_x: A,
        now_position_y: w,
        new_position_x: 0,
        new_position_y: 0
      };
    }, v = (g) => {
      const y = (g + r.itemInfo.rotate) % 360, b = d.find((A) => A.start <= y && A.end > y);
      return b ? {
        cursor: b.cursor + "-resize",
        type: b.type
      } : {
        cursor: "nw-resize",
        type: EScaleInfoType.TopLeft
      };
    };
    return (g, y) => (openBlock(), createElementBlock("g", _hoisted_1$b, [
      withDirectives(createElementVNode("rect", {
        id: "resize_tl",
        width: "8",
        height: "8",
        fill: unref(c),
        style: normalizeStyle$1({ cursor: v(0).cursor, "vector-effect": "non-scaling-stroke" }),
        "pointer-events": "all",
        x: r.itemInfo.actual_bound.x - unref(u) - unref(getCoordinateOffset)(r.itemInfo.actual_bound.width, r.itemInfo.scale_x),
        y: r.itemInfo.actual_bound.y - unref(u) - unref(getCoordinateOffset)(r.itemInfo.actual_bound.height, r.itemInfo.scale_y),
        stroke: "rgba(0,0,0,0)",
        onMousedown: y[0] || (y[0] = (b) => p(unref(EScaleInfoType).TopLeft, b))
      }, null, 44, _hoisted_2$9), [
        [vShow, unref(f)]
      ]),
      createElementVNode("circle", {
        cx: r.itemInfo.actual_bound.x + r.itemInfo.actual_bound.width / 2,
        cy: r.itemInfo.actual_bound.y - unref(u) - unref(getCoordinateOffset)(r.itemInfo.actual_bound.height, r.itemInfo.scale_y) - 24,
        r: 4,
        class: "rotate-circle",
        onMousedown: _
      }, null, 40, _hoisted_3$8),
      createElementVNode("line", {
        x1: r.itemInfo.actual_bound.x + r.itemInfo.actual_bound.width / 2,
        y1: r.itemInfo.actual_bound.y - unref(u) - unref(getCoordinateOffset)(r.itemInfo.actual_bound.height, r.itemInfo.scale_y),
        x2: r.itemInfo.actual_bound.x + r.itemInfo.actual_bound.width / 2,
        y2: r.itemInfo.actual_bound.y - unref(u) - unref(getCoordinateOffset)(r.itemInfo.actual_bound.height, r.itemInfo.scale_y) - 20,
        style: normalizeStyle$1({ stroke: unref(c), "stroke-width": 2 })
      }, null, 12, _hoisted_4$7),
      withDirectives(createElementVNode("rect", {
        id: "resize_tc",
        width: "8",
        height: "8",
        fill: unref(c),
        style: normalizeStyle$1({ cursor: v(45).cursor, "vector-effect": "non-scaling-stroke" }),
        "pointer-events": "all",
        x: r.itemInfo.actual_bound.x + r.itemInfo.actual_bound.width / 2 - unref(u),
        y: r.itemInfo.actual_bound.y - unref(u) - unref(getCoordinateOffset)(r.itemInfo.actual_bound.height, r.itemInfo.scale_y),
        stroke: "rgba(0,0,0,0)",
        onMousedown: y[1] || (y[1] = (b) => p(unref(EScaleInfoType).TopCenter, b))
      }, null, 44, _hoisted_5$5), [
        [vShow, unref(f)]
      ]),
      withDirectives(createElementVNode("rect", {
        id: "resize_tr",
        width: "8",
        height: "8",
        fill: unref(c),
        style: normalizeStyle$1({ cursor: v(90).cursor, "vector-effect": "non-scaling-stroke" }),
        "pointer-events": "all",
        x: r.itemInfo.actual_bound.x + r.itemInfo.actual_bound.width - unref(u) + unref(getCoordinateOffset)(r.itemInfo.actual_bound.width, r.itemInfo.scale_x),
        y: r.itemInfo.actual_bound.y - unref(u) - unref(getCoordinateOffset)(r.itemInfo.actual_bound.height, r.itemInfo.scale_y),
        stroke: "rgba(0,0,0,0)",
        onMousedown: y[2] || (y[2] = (b) => p(unref(EScaleInfoType).TopRight, b))
      }, null, 44, _hoisted_6$4), [
        [vShow, unref(f)]
      ]),
      withDirectives(createElementVNode("rect", {
        id: "resize_l",
        width: "8",
        height: "8",
        fill: unref(c),
        style: normalizeStyle$1({ cursor: v(315).cursor, "vector-effect": "non-scaling-stroke" }),
        "pointer-events": "all",
        x: r.itemInfo.actual_bound.x - unref(u) - unref(getCoordinateOffset)(r.itemInfo.actual_bound.width, r.itemInfo.scale_x),
        y: r.itemInfo.actual_bound.y - unref(u) + r.itemInfo.actual_bound.height * r.itemInfo.scale_y / 2 - unref(getCoordinateOffset)(r.itemInfo.actual_bound.height, r.itemInfo.scale_y),
        stroke: "rgba(0,0,0,0)",
        onMousedown: y[3] || (y[3] = (b) => p(unref(EScaleInfoType).Left, b))
      }, null, 44, _hoisted_7$4), [
        [vShow, unref(f)]
      ]),
      withDirectives(createElementVNode("rect", {
        id: "resize_r",
        width: "8",
        height: "8",
        fill: unref(c),
        style: normalizeStyle$1({ cursor: v(135).cursor, "vector-effect": "non-scaling-stroke" }),
        "pointer-events": "all",
        x: r.itemInfo.actual_bound.x - unref(u) + r.itemInfo.actual_bound.width + unref(getCoordinateOffset)(r.itemInfo.actual_bound.width, r.itemInfo.scale_x),
        y: r.itemInfo.actual_bound.y - unref(u) + r.itemInfo.actual_bound.height * r.itemInfo.scale_y / 2 - unref(getCoordinateOffset)(r.itemInfo.actual_bound.height, r.itemInfo.scale_y),
        stroke: "rgba(0,0,0,0)",
        onMousedown: y[4] || (y[4] = (b) => p(unref(EScaleInfoType).Right, b))
      }, null, 44, _hoisted_8$4), [
        [vShow, unref(f)]
      ]),
      withDirectives(createElementVNode("rect", {
        id: "resize_bl",
        width: "8",
        height: "8",
        fill: unref(c),
        style: normalizeStyle$1({ cursor: v(270).cursor, "vector-effect": "non-scaling-stroke" }),
        "pointer-events": "all",
        x: r.itemInfo.actual_bound.x - unref(u) - unref(getCoordinateOffset)(r.itemInfo.actual_bound.width, r.itemInfo.scale_x),
        y: r.itemInfo.actual_bound.y - unref(u) + r.itemInfo.actual_bound.height * r.itemInfo.scale_y - unref(getCoordinateOffset)(r.itemInfo.actual_bound.height, r.itemInfo.scale_y),
        stroke: "rgba(0,0,0,0)",
        onMousedown: y[5] || (y[5] = (b) => p(unref(EScaleInfoType).BottomLeft, b))
      }, null, 44, _hoisted_9$3), [
        [vShow, unref(f)]
      ]),
      withDirectives(createElementVNode("rect", {
        id: "resize_bc",
        width: "8",
        height: "8",
        fill: unref(c),
        style: normalizeStyle$1({ cursor: v(225).cursor, "vector-effect": "non-scaling-stroke" }),
        "pointer-events": "all",
        x: r.itemInfo.actual_bound.x - unref(u) + r.itemInfo.actual_bound.width / 2,
        y: r.itemInfo.actual_bound.y - unref(u) + r.itemInfo.actual_bound.height + unref(getCoordinateOffset)(r.itemInfo.actual_bound.height, r.itemInfo.scale_y),
        stroke: "rgba(0,0,0,0)",
        onMousedown: y[6] || (y[6] = (b) => p(unref(EScaleInfoType).BottomCenter, b))
      }, null, 44, _hoisted_10$2), [
        [vShow, unref(f)]
      ]),
      withDirectives(createElementVNode("rect", {
        id: "resize_br",
        width: "8",
        height: "8",
        fill: unref(c),
        style: normalizeStyle$1({ cursor: v(180).cursor, "vector-effect": "non-scaling-stroke" }),
        "pointer-events": "all",
        x: r.itemInfo.actual_bound.x - unref(u) + r.itemInfo.actual_bound.width + unref(getCoordinateOffset)(r.itemInfo.actual_bound.width, r.itemInfo.scale_x),
        y: r.itemInfo.actual_bound.y - unref(u) + r.itemInfo.actual_bound.height + unref(getCoordinateOffset)(r.itemInfo.actual_bound.height, r.itemInfo.scale_y),
        stroke: "rgba(0,0,0,0)",
        onMousedown: y[7] || (y[7] = (b) => p(unref(EScaleInfoType).BottomRight, b))
      }, null, 44, _hoisted_11$1), [
        [vShow, unref(f)]
      ])
    ]));
  }
}), handlePanel_vue_vue_type_style_index_0_scoped_e6622df8_lang = "", HandlePanel = /* @__PURE__ */ _export_sfc$1(_sfc_main$B, [["__scopeId", "data-v-e6622df8"]]), _hoisted_1$a = ["fill"], _hoisted_2$8 = ["cx", "cy", "r"], _hoisted_3$7 = ["cx", "cy", "r"], _hoisted_4$6 = ["cx", "cy", "r"], _hoisted_5$4 = ["cx", "cy", "r"], _hoisted_6$3 = ["cx", "cy", "r"], _hoisted_7$3 = ["cx", "cy", "r"], _hoisted_8$3 = ["cx", "cy", "r"], _hoisted_9$2 = ["cx", "cy", "r"], _sfc_main$A = /* @__PURE__ */ defineComponent({
  __name: "connection-panel",
  props: {
    itemInfo: {}
  },
  setup(i) {
    const r = i, n = ref(4), o = ref("#ab712e"), a = ref(4), u = ref(12), c = useGlobalStore(pinia), d = useSvgEditLayoutStore(pinia), f = computed(
      () => r.itemInfo.actual_bound.x + r.itemInfo.actual_bound.width / 2 - n.value + a.value
    ), p = computed(
      () => r.itemInfo.actual_bound.y - n.value - getCoordinateOffset(r.itemInfo.actual_bound.height, r.itemInfo.scale_y) + a.value
    ), _ = computed(
      () => r.itemInfo.actual_bound.x - n.value + r.itemInfo.actual_bound.width + getCoordinateOffset(r.itemInfo.actual_bound.width, r.itemInfo.scale_x) + a.value
    ), v = computed(
      () => r.itemInfo.actual_bound.y - n.value + r.itemInfo.actual_bound.height * r.itemInfo.scale_y / 2 - getCoordinateOffset(r.itemInfo.actual_bound.height, r.itemInfo.scale_y) + a.value
    ), g = computed(
      () => r.itemInfo.actual_bound.x - n.value + r.itemInfo.actual_bound.width / 2 + a.value
    ), y = computed(
      () => r.itemInfo.actual_bound.y - n.value + r.itemInfo.actual_bound.height + getCoordinateOffset(r.itemInfo.actual_bound.height, r.itemInfo.scale_y) + a.value
    ), b = computed(
      () => r.itemInfo.actual_bound.x - n.value - getCoordinateOffset(r.itemInfo.actual_bound.width, r.itemInfo.scale_x) + a.value
    ), A = computed(
      () => r.itemInfo.actual_bound.y - n.value + r.itemInfo.actual_bound.height * r.itemInfo.scale_y / 2 - getCoordinateOffset(r.itemInfo.actual_bound.height, r.itemInfo.scale_y) + a.value
    ), w = (T, x) => {
      var L;
      c.intention === EGlobalStoreIntention.SetConnectionLineNode && (T.stopPropagation(), (L = c.handle_svg_info) != null && L.info.bind_anchors && c.connection_line_node_info && (c.connection_line_node_info.point_index === 0 ? c.handle_svg_info.info.bind_anchors.start = {
        type: x,
        target_id: r.itemInfo.id
      } : c.connection_line_node_info.point_index === c.handle_svg_info.info.props.point_position.val.length - 1 && (c.handle_svg_info.info.bind_anchors.end = {
        type: x,
        target_id: r.itemInfo.id
      }), c.intention = EGlobalStoreIntention.None, c.setHandleSvgInfo(null), nextTick(function() {
        moveAnchors(r.itemInfo);
      })));
    }, S = (T, x) => {
      var L;
      c.intention === EGlobalStoreIntention.None ? (createLine(T, x, r.itemInfo), c.handle_svg_info && (c.handle_svg_info.info.props.point_position.val.length !== 1 ? c.handle_svg_info.info.props.point_position.val.push({
        x: c.mouse_info.new_position_x - c.mouse_info.position_x - d.center_offset.x,
        y: c.mouse_info.new_position_y - c.mouse_info.position_y - d.center_offset.y
      }) : c.handle_svg_info.info.props.point_position.val.push({
        x: 0,
        y: 0
      }))) : c.intention === EGlobalStoreIntention.Connection && (T.stopPropagation(), (L = c.handle_svg_info) != null && L.info.bind_anchors && (c.handle_svg_info.info.bind_anchors.end = {
        type: x,
        target_id: r.itemInfo.id
      }, c.intention = EGlobalStoreIntention.None, c.setHandleSvgInfo(null), nextTick(function() {
        moveAnchors(r.itemInfo);
      })));
    };
    return (T, x) => (openBlock(), createElementBlock("g", {
      style: { "vector-effect": "non-scaling-stroke" },
      class: "connect-points",
      fill: unref(o),
      "stroke-width": "2",
      stroke: "rgba(0,0,0,0)"
    }, [
      createElementVNode("g", {
        onMousedown: x[0] || (x[0] = (L) => S(L, unref(ELineBindAnchors).TopCenter)),
        onMouseup: x[1] || (x[1] = (L) => w(L, unref(ELineBindAnchors).TopCenter))
      }, [
        createElementVNode("circle", {
          class: "out-circle",
          cx: unref(f),
          cy: unref(p),
          r: unref(u),
          "fill-opacity": ".3"
        }, null, 8, _hoisted_2$8),
        createElementVNode("circle", {
          id: "connection_tc",
          cx: unref(f),
          cy: unref(p),
          r: unref(a),
          "pointer-events": "all"
        }, null, 8, _hoisted_3$7)
      ], 32),
      createElementVNode("g", {
        onMousedown: x[2] || (x[2] = (L) => S(L, unref(ELineBindAnchors).Right)),
        onMouseup: x[3] || (x[3] = (L) => w(L, unref(ELineBindAnchors).Right))
      }, [
        createElementVNode("circle", {
          class: "out-circle",
          cx: unref(_),
          cy: unref(v),
          r: unref(u),
          "fill-opacity": ".3"
        }, null, 8, _hoisted_4$6),
        createElementVNode("circle", {
          id: "connection_r",
          cx: unref(_),
          cy: unref(v),
          r: unref(a),
          "pointer-events": "all"
        }, null, 8, _hoisted_5$4)
      ], 32),
      createElementVNode("g", {
        onMousedown: x[4] || (x[4] = (L) => S(L, unref(ELineBindAnchors).BottomCenter)),
        onMouseup: x[5] || (x[5] = (L) => w(L, unref(ELineBindAnchors).BottomCenter))
      }, [
        createElementVNode("circle", {
          class: "out-circle",
          cx: unref(g),
          cy: unref(y),
          r: unref(u),
          "fill-opacity": ".3"
        }, null, 8, _hoisted_6$3),
        createElementVNode("circle", {
          id: "connection_bc",
          cx: unref(g),
          cy: unref(y),
          r: unref(a),
          "pointer-events": "all"
        }, null, 8, _hoisted_7$3)
      ], 32),
      createElementVNode("g", {
        onMousedown: x[6] || (x[6] = (L) => S(L, unref(ELineBindAnchors).Left)),
        onMouseup: x[7] || (x[7] = (L) => w(L, unref(ELineBindAnchors).Left))
      }, [
        createElementVNode("circle", {
          class: "out-circle",
          cx: unref(b),
          cy: unref(A),
          r: unref(u),
          "fill-opacity": ".3"
        }, null, 8, _hoisted_8$3),
        createElementVNode("circle", {
          id: "connection_l",
          cx: unref(b),
          cy: unref(A),
          r: unref(a),
          style: { cursor: "crosshair" },
          "pointer-events": "all"
        }, null, 8, _hoisted_9$2)
      ], 32)
    ], 8, _hoisted_1$a));
  }
}), connectionPanel_vue_vue_type_style_index_0_scoped_fb729c7a_lang = "", ConnectionPanel = /* @__PURE__ */ _export_sfc$1(_sfc_main$A, [["__scopeId", "data-v-fb729c7a"]]), _hoisted_1$9 = ["d", "stroke-width"], _hoisted_2$7 = ["d", "stroke-width"], _hoisted_3$6 = ["id", "d", "stroke", "stroke-width", "stroke-dasharray"], _hoisted_4$5 = ["from", "to", "dur", "repeatCount"], _hoisted_5$3 = ["d", "stroke", "stroke-width", "stroke-dasharray"], _hoisted_6$2 = ["from", "to", "dur", "repeatCount"], _hoisted_7$2 = ["r", "fill"], _hoisted_8$2 = ["path", "dur", "repeatCount"], _hoisted_9$1 = ["cx", "cy", "r", "stroke-width"], _hoisted_10$1 = ["cx", "cy", "r", "stroke", "onMousedown"], _sfc_main$z = /* @__PURE__ */ defineComponent({
  __name: "connection-line",
  props: {
    itemInfo: {},
    pointVisible: { type: Boolean, default: !1 }
  },
  setup(i) {
    const r = i, n = useGlobalStore(pinia), o = useConfigStore(pinia), a = useSvgEditLayoutStore(pinia), u = (c, d, f, p) => {
      if (n.intention === EGlobalStoreIntention.Connection)
        return;
      n.setHandleSvgInfo(r.itemInfo);
      const { clientX: _, clientY: v } = d;
      d.stopPropagation(), n.connection_line_node_info = {
        init_pos: {
          x: f,
          y: p
        },
        point_index: c
      }, n.intention = EGlobalStoreIntention.SetConnectionLineNode, n.mouse_info = {
        state: EMouseInfoState.Down,
        position_x: Math.round((_ - a.canvasInfo.left) / o.svg.scale),
        position_y: Math.round((v - a.canvasInfo.top) / o.svg.scale),
        now_position_x: 0,
        now_position_y: 0,
        new_position_x: 0,
        new_position_y: 0
      };
    };
    return (c, d) => {
      var f, p, _, v, g, y;
      return openBlock(), createElementBlock("g", {
        style: normalizeStyle$1({ cursor: unref(n).intention === unref(EGlobalStoreIntention).Connection ? "crosshair" : "move" })
      }, [
        withDirectives(createElementVNode("path", {
          d: unref(positionArrToPath)(r.itemInfo.props.point_position.val),
          fill: "none",
          "fill-opacity": "0",
          stroke: "#DE4517",
          "stroke-width": Math.ceil(r.itemInfo.props["stroke-width"].val * 1.2) + 1,
          "stroke-linecap": "round",
          "stroke-linejoin": "round"
        }, null, 8, _hoisted_1$9), [
          [vShow, r.itemInfo.selected || r.itemInfo.id === ((f = unref(n).handle_svg_info) == null ? void 0 : f.info.id)]
        ]),
        createElementVNode("path", {
          d: unref(positionArrToPath)(r.itemInfo.props.point_position.val),
          fill: "none",
          "fill-opacity": "0",
          stroke: "#fff",
          "stroke-opacity": ".01",
          "stroke-width": r.itemInfo.props["stroke-width"].val,
          "stroke-linecap": "round",
          "stroke-linejoin": "round"
        }, null, 8, _hoisted_2$7),
        createElementVNode("path", {
          id: r.itemInfo.id,
          d: unref(positionArrToPath)(r.itemInfo.props.point_position.val),
          fill: "none",
          stroke: ((p = r.itemInfo.animations) == null ? void 0 : p.type.val) === unref(EConfigAnimationsType).Electricity ? r.itemInfo.animations.color.val : r.itemInfo.props.stroke.val,
          "stroke-width": r.itemInfo.props["stroke-width"].val,
          "stroke-dashoffset": "0",
          "stroke-dasharray": ((_ = r.itemInfo.animations) == null ? void 0 : _.type.val) === unref(EConfigAnimationsType).Electricity ? r.itemInfo.props["stroke-width"].val * 3 : 0,
          "stroke-linejoin": "round"
        }, [
          ((v = r.itemInfo.animations) == null ? void 0 : v.type.val) === unref(EConfigAnimationsType).Electricity ? (openBlock(), createElementBlock("animate", {
            key: 0,
            attributeName: "stroke-dashoffset",
            from: r.itemInfo.animations.reverse.val ? 0 : 1e3,
            to: r.itemInfo.animations.reverse.val ? 1e3 : 0,
            dur: `${r.itemInfo.animations.dur.val}s`,
            repeatCount: r.itemInfo.animations.repeatCount.val
          }, null, 8, _hoisted_4$5)) : createCommentVNode("", !0)
        ], 8, _hoisted_3$6),
        ((g = r.itemInfo.animations) == null ? void 0 : g.type.val) === unref(EConfigAnimationsType).WaterDrop ? (openBlock(), createElementBlock("path", {
          key: 0,
          d: unref(positionArrToPath)(r.itemInfo.props.point_position.val),
          fill: "none",
          "fill-opacity": "0",
          stroke: r.itemInfo.animations.color.val,
          "stroke-width": r.itemInfo.props["stroke-width"].val,
          "stroke-dasharray": r.itemInfo.props["stroke-width"].val * 3,
          "stroke-dashoffset": "0",
          "stroke-linecap": "round",
          "stroke-linejoin": "round"
        }, [
          createElementVNode("animate", {
            attributeName: "stroke-dashoffset",
            from: r.itemInfo.animations.reverse.val ? 0 : 1e3,
            to: r.itemInfo.animations.reverse.val ? 1e3 : 0,
            dur: `${r.itemInfo.animations.dur.val}s`,
            repeatCount: r.itemInfo.animations.repeatCount.val,
            fill: "freeze"
          }, null, 8, _hoisted_6$2)
        ], 8, _hoisted_5$3)) : ((y = r.itemInfo.animations) == null ? void 0 : y.type.val) === unref(EConfigAnimationsType).Track ? (openBlock(), createElementBlock("circle", {
          key: 1,
          cx: "0",
          cy: "0",
          r: Math.ceil(r.itemInfo.props["stroke-width"].val * 0.6) + 2,
          fill: r.itemInfo.animations.color.val
        }, [
          createElementVNode("animateMotion", {
            path: unref(positionArrToPath)(
              r.itemInfo.animations.reverse.val ? [...r.itemInfo.props.point_position.val].reverse() : r.itemInfo.props.point_position.val
            ),
            dur: `${r.itemInfo.animations.dur.val}s`,
            repeatCount: r.itemInfo.animations.repeatCount.val
          }, null, 8, _hoisted_8$2)
        ], 8, _hoisted_7$2)) : createCommentVNode("", !0),
        createElementVNode("g", null, [
          (openBlock(!0), createElementBlock(Fragment, null, renderList(r.itemInfo.props.point_position.val, (b, A) => {
            var w;
            return withDirectives((openBlock(), createElementBlock("circle", {
              key: A,
              cx: b.x,
              cy: b.y,
              r: r.itemInfo.props.point_r.val + 1,
              fill: "none",
              "fill-opacity": "0",
              "stroke-width": Math.ceil(r.itemInfo.props.point_r.val * 0.2) + 1,
              stroke: "#DE4517"
            }, null, 8, _hoisted_9$1)), [
              [vShow, r.itemInfo.selected || r.itemInfo.id === ((w = unref(n).handle_svg_info) == null ? void 0 : w.info.id)]
            ]);
          }), 128)),
          (openBlock(!0), createElementBlock(Fragment, null, renderList(r.itemInfo.props.point_position.val, (b, A) => (openBlock(), createElementBlock("circle", {
            key: A,
            cx: b.x,
            cy: b.y,
            r: r.itemInfo.props.point_r.val,
            "stroke-width": "1",
            stroke: r.itemInfo.props.stroke.val,
            fill: "#fff",
            style: { cursor: "pointer" },
            onMousedown: (w) => u(A, w, b.x, b.y)
          }, null, 40, _hoisted_10$1))), 128))
        ])
      ], 4);
    };
  }
}), _hoisted_1$8 = { class: "coverLayer" }, _hoisted_2$6 = {
  xmlns: "http://www.w3.org/2000/svg",
  width: "100%",
  height: "100%"
}, _hoisted_3$5 = {
  id: "pattern_grid",
  patternUnits: "userSpaceOnUse",
  x: "0",
  y: "0",
  width: "20",
  height: "20"
}, _hoisted_4$4 = ["stroke"], _hoisted_5$2 = ["stroke"], _hoisted_6$1 = ["stroke"], _hoisted_7$1 = ["stroke"], _hoisted_8$1 = {
  key: 0,
  width: "100%",
  height: "100%",
  fill: "url(#pattern_grid)"
}, _hoisted_9 = ["transform"], _hoisted_10 = ["transform"], _hoisted_11 = ["transform", "onMousedown", "onMouseup", "onMouseenter", "onMouseleave", "onContextmenu"], _hoisted_12 = ["xlink:href", "width", "height", "id", "transform"], _hoisted_13 = ["id"], _hoisted_14 = ["id", "x1", "y1", "x2", "y2"], _hoisted_15 = ["id"], _hoisted_16 = ["x", "y", "height", "width"], _hoisted_17 = ["onClick"], _hoisted_18 = { class: "shortcut" }, _sfc_main$y = /* @__PURE__ */ defineComponent({
  __name: "center-panel",
  props: {
    vueComp: {}
  },
  setup(i, { expose: r }) {
    useCssVars((Oe) => ({
      "04e68382": unref(v)
    }));
    const n = useGlobalStore(pinia), o = useConfigStore(pinia), a = useSvgEditLayoutStore(pinia), u = useEditPrivateStore(pinia), c = useContextMenuStore(pinia);
    componentsRegister(i.vueComp);
    const f = ref(), p = ref(), _ = {
      MoveCanvas: "grab",
      Rotate: "url('/src/assets/icons/rotate.svg'), auto",
      Connection: "crosshair",
      SetConnectionLineNode: "crosshair"
    }, v = computed(() => Object.keys(_).indexOf(n.intention) > -1 ? _[n.intention] : "default"), g = reactive({
      handle_panel: computed(
        () => n.intention === EGlobalStoreIntention.Select || n.intention === EGlobalStoreIntention.Zoom || n.intention === EGlobalStoreIntention.Rotate
      ),
      connection_panel: !1,
      connection_line: !1,
      select_item: {
        info: null,
        index: -1
      }
    }), y = ref({
      a: {
        x: 0,
        y: 0
      },
      b: {
        x: 0,
        y: 0
      }
    }), b = computed(() => n.intention === EGlobalStoreIntention.SelectArea && y.value.b.x && y.value.b.y ? {
      with: Math.abs(y.value.b.x - y.value.a.x),
      height: Math.abs(y.value.b.y - y.value.a.y),
      x: y.value.a.x < y.value.b.x ? y.value.a.x : y.value.b.x,
      y: y.value.a.y < y.value.b.y ? y.value.a.y : y.value.b.y
    } : {
      with: 0,
      height: 0,
      x: 0,
      y: 0
    }), A = computed(() => {
      let Oe = 0;
      for (let Lt of n.done_json)
        Lt.selected && Oe++;
      return Oe > 0;
    });
    let w = !1, S = !1;
    const T = (Oe) => {
      var Lt;
      if (n.intention != EGlobalStoreIntention.None) {
        if (n.intention == EGlobalStoreIntention.Create) {
          if (!n.create_svg_info) {
            console.error("要创建的数据获取失败");
            return;
          }
          const pe = Math.floor(Oe.offsetX / o.svg.scale - a.center_offset.x), Cn = Math.floor(Oe.offsetY / o.svg.scale - a.center_offset.y), In = {
            id: randomString(),
            x: pe,
            y: Cn,
            client: {
              x: pe,
              y: Cn
            },
            scale_x: 1,
            scale_y: 1,
            rotate: 0,
            actual_bound: {
              x: 0,
              y: 0,
              width: 0,
              height: 0
            },
            center_position: {
              x: 0,
              y: 0
            },
            point_coordinate: {
              tl: {
                x: 0,
                y: 0
              },
              tc: {
                x: 0,
                y: 0
              },
              tr: {
                x: 0,
                y: 0
              },
              l: {
                x: 0,
                y: 0
              },
              r: {
                x: 0,
                y: 0
              },
              bl: {
                x: 0,
                y: 0
              },
              bc: {
                x: 0,
                y: 0
              },
              br: {
                x: 0,
                y: 0
              }
            },
            selected: !1,
            ...objectDeepClone(n.create_svg_info)
          };
          n.setDoneJson(In), n.setHandleSvgInfo(In, n.done_json.length), n.intention = EGlobalStoreIntention.None;
        }
        (Lt = p.value) == null || Lt.focus();
      }
    }, x = (Oe) => {
      Oe.preventDefault();
    }, L = (Oe) => {
      Oe.preventDefault();
    }, O = (Oe, Lt, pe) => {
      var Cn, In, Dt;
      if ((Cn = p.value) == null || Cn.focus(), n.intention === EGlobalStoreIntention.Connection) {
        if (pe.stopPropagation(), n.handle_svg_info || createLine(pe), n.handle_svg_info)
          if (pe.button === 0) {
            const he = n.handle_svg_info.info.props.point_position.val;
            he.length !== 1 && (Oe == null ? void 0 : Oe.type) !== EDoneJsonType.ConnectionLine ? he.push({
              x: n.mouse_info.new_position_x - n.mouse_info.position_x - a.center_offset.x,
              y: n.mouse_info.new_position_y - n.mouse_info.position_y - a.center_offset.y
            }) : n.handle_svg_info.info.props.point_position.val.push({
              x: 0,
              y: 0
            });
          } else
            pe.button === 2 && (n.intention = EGlobalStoreIntention.None, setSvgActualInfo(n.done_json[n.handle_svg_info.index]), n.setHandleSvgInfo(null));
        return;
      }
      if (pe.preventDefault(), pe.stopPropagation(), pe.ctrlKey && pe.button === 0)
        ((In = n.handle_svg_info) != null && In.index || ((Dt = n.handle_svg_info) == null ? void 0 : Dt.index) === 0) && (n.done_json[n.handle_svg_info.index].selected = !0, n.setHandleSvgInfo(null), n.intention = EGlobalStoreIntention.None), Oe.selected = !Oe.selected;
      else if (A.value) {
        n.intention = EGlobalStoreIntention.GroupMove, n.mouse_info = {
          state: EMouseInfoState.Down,
          position_x: Math.round((pe.clientX - a.canvasInfo.left) / o.svg.scale),
          position_y: Math.round((pe.clientY - a.canvasInfo.top) / o.svg.scale),
          now_position_x: 0,
          now_position_y: 0,
          new_position_x: 0,
          new_position_y: 0
        };
        for (let he of n.done_json)
          he.selected && (he.old_position = {
            x: he.x,
            y: he.y
          }, he.point_coordinate_old = objectDeepClone(he.point_coordinate));
      } else
        n.intention = EGlobalStoreIntention.Select, n.setHandleSvgInfo(Oe, Lt), n.mouse_info = {
          state: EMouseInfoState.Down,
          position_x: Math.round((pe.clientX - a.canvasInfo.left) / o.svg.scale),
          position_y: Math.round((pe.clientY - a.canvasInfo.top) / o.svg.scale),
          now_position_x: Oe.x,
          now_position_y: Oe.y,
          new_position_x: 0,
          new_position_y: 0
        }, Oe.point_coordinate_old = objectDeepClone(Oe.point_coordinate);
    }, M = (Oe, Lt, pe) => {
      if (!(n.intention === EGlobalStoreIntention.Connection || n.mouse_info.state != EMouseInfoState.Down) && A.value && !w && ["SelectArea", "Move", "Select"].indexOf(n.intention) < 0) {
        for (let Cn of n.done_json)
          Cn.selected = !1, Cn.old_position = {
            x: 0,
            y: 0
          }, resetHandlePointOld(Cn);
        n.intention = EGlobalStoreIntention.Select, n.setHandleSvgInfo(Oe, Lt), n.mouse_info = {
          state: EMouseInfoState.Down,
          position_x: Math.round((pe.clientX - a.canvasInfo.left) / o.svg.scale),
          position_y: Math.round((pe.clientY - a.canvasInfo.top) / o.svg.scale),
          now_position_x: Oe.x,
          now_position_y: Oe.y,
          new_position_x: 0,
          new_position_y: 0
        };
      }
    }, k = (Oe, Lt, pe) => {
      pe.preventDefault(), pe.stopPropagation(), g.connection_panel = !0, g.connection_line = !0, !((n.intention === EGlobalStoreIntention.Connection || n.intention === EGlobalStoreIntention.SetConnectionLineNode) && Oe.type === EDoneJsonType.ConnectionLine) && (g.select_item.info = Oe, g.select_item.index = Lt);
    }, ie = (Oe, Lt, pe) => {
      pe.preventDefault(), pe.stopPropagation(), !((n.intention === EGlobalStoreIntention.Connection || n.intention === EGlobalStoreIntention.SetConnectionLineNode) && Oe.type === EDoneJsonType.ConnectionLine) && (g.connection_panel = !1, g.connection_line = !1, g.select_item.info = null, g.select_item.index = -1);
    }, $ = (Oe) => {
      var Dt, he, Et, hn, vn, kt, Ce, de, Ue, Ne, Ve, Pt, jt, _n, oe, le;
      if (n.mouse_info.state != EMouseInfoState.Down && n.intention !== EGlobalStoreIntention.Connection)
        return;
      const { clientX: Lt, clientY: pe } = Oe;
      n.mouse_info.new_position_x = Math.round(
        (Lt - a.canvasInfo.left) / o.svg.scale
      ), n.mouse_info.new_position_y = Math.round(
        (pe - a.canvasInfo.top) / o.svg.scale
      );
      const Cn = Math.round(
        n.mouse_info.new_position_x - n.mouse_info.position_x + n.mouse_info.now_position_x
      ), In = Math.round(
        n.mouse_info.new_position_y - n.mouse_info.position_y + n.mouse_info.now_position_y
      );
      if ((Dt = n.handle_svg_info) != null && Dt.info && (n.intention === EGlobalStoreIntention.Select || n.intention === EGlobalStoreIntention.Move)) {
        if (n.handle_svg_info.info.x = Cn, n.handle_svg_info.info.y = In, n.handle_svg_info.info.client = {
          x: Cn,
          y: In
        }, n.intention = EGlobalStoreIntention.Move, moveHandlePoint(n.handle_svg_info.info), moveAnchors(n.handle_svg_info.info), n.handle_svg_info.info.type === EDoneJsonType.ConnectionLine) {
          if ((he = n.handle_svg_info.info.bind_anchors) != null && he.start) {
            let j = null;
            for (let V of n.done_json)
              V.id === ((hn = (Et = n.handle_svg_info.info.bind_anchors) == null ? void 0 : Et.start) == null ? void 0 : hn.target_id) && (j = V);
            j && moveAnchors(j);
          }
          if ((vn = n.handle_svg_info.info.bind_anchors) != null && vn.end) {
            let j = null;
            for (let V of n.done_json)
              V.id === ((Ce = (kt = n.handle_svg_info.info.bind_anchors) == null ? void 0 : kt.end) == null ? void 0 : Ce.target_id) && (j = V);
            j && moveAnchors(j);
          }
        }
      } else if (n.intention === EGlobalStoreIntention.MoveCanvas)
        a.center_offset.x = Cn, a.center_offset.y = In;
      else if (n.intention === EGlobalStoreIntention.SelectArea)
        y.value.b.x = n.mouse_info.new_position_x - a.center_offset.x, y.value.b.y = n.mouse_info.new_position_y - a.center_offset.y;
      else if (n.intention === EGlobalStoreIntention.GroupMove) {
        w = !0;
        for (let j of n.done_json)
          if (j.selected && j.old_position) {
            const V = Math.round(
              n.mouse_info.new_position_x - n.mouse_info.position_x + j.old_position.x
            ), z = Math.round(
              n.mouse_info.new_position_y - n.mouse_info.position_y + j.old_position.y
            );
            if (j.x = V, j.y = z, j.client = {
              x: V,
              y: z
            }, moveHandlePoint(j), moveAnchors(j), j.type === EDoneJsonType.ConnectionLine && ((de = j.bind_anchors) != null && de.end)) {
              let ae = null;
              for (let xe of n.done_json)
                xe.id === ((Ne = (Ue = j.bind_anchors) == null ? void 0 : Ue.end) == null ? void 0 : Ne.target_id) && (ae = xe);
              ae && moveAnchors(ae);
            }
          }
      } else if (n.intention === EGlobalStoreIntention.Zoom) {
        if (!n.handle_svg_info)
          return;
        const j = {
          x: n.mouse_info.new_position_x - a.center_offset.x,
          y: n.mouse_info.new_position_y - a.center_offset.y
        };
        let V = {
          width: 0,
          height: 0,
          is_old_width: !1,
          is_old_height: !1
        };
        if (n.scale_info.type === EScaleInfoType.TopLeft ? V = calculateLeftTop(
          j,
          n.scale_info.symmetric_point,
          n.handle_svg_info.info.rotate
        ) : n.scale_info.type === EScaleInfoType.TopRight ? V = calculateRightTop(
          j,
          n.scale_info.symmetric_point,
          n.handle_svg_info.info.rotate
        ) : n.scale_info.type === EScaleInfoType.BottomRight ? V = calculateRightBottom(
          j,
          n.scale_info.symmetric_point,
          n.handle_svg_info.info.rotate
        ) : n.scale_info.type === EScaleInfoType.BottomLeft ? V = calculateLeftBottom(
          j,
          n.scale_info.symmetric_point,
          n.handle_svg_info.info.rotate
        ) : n.scale_info.type === EScaleInfoType.TopCenter ? V = calculateTop(
          j,
          n.scale_info.symmetric_point,
          n.handle_svg_info.info.rotate,
          n.handle_svg_info.info.client
        ) : n.scale_info.type === EScaleInfoType.Right ? V = calculateRight(
          j,
          n.scale_info.symmetric_point,
          n.handle_svg_info.info.rotate,
          n.handle_svg_info.info.client
        ) : n.scale_info.type === EScaleInfoType.BottomCenter ? V = calculateBottom(
          j,
          n.scale_info.symmetric_point,
          n.handle_svg_info.info.rotate,
          n.handle_svg_info.info.client
        ) : n.scale_info.type === EScaleInfoType.Left && (V = calculateLeft(
          j,
          n.scale_info.symmetric_point,
          n.handle_svg_info.info.rotate,
          n.handle_svg_info.info.client
        )), n.handle_svg_info && V.width > 0 && V.height > 0) {
          const z = V.is_old_width ? 1 : myFixed(V.width / n.handle_svg_info.info.actual_bound.width, 3), ae = V.is_old_height ? 1 : myFixed(V.height / n.handle_svg_info.info.actual_bound.height, 3), xe = getCenterPoint(j, n.scale_info.symmetric_point);
          z > 0 && n.scale_info.type !== EScaleInfoType.TopCenter && n.scale_info.type !== EScaleInfoType.BottomCenter && (n.handle_svg_info.info.scale_x = z, n.handle_svg_info.info.x = Math.round(
            getSvgNowPosition(
              n.handle_svg_info.info.center_position.x,
              xe.x,
              n.handle_svg_info.info.client.x
            )
          )), ae > 0 && n.scale_info.type !== EScaleInfoType.Left && n.scale_info.type !== EScaleInfoType.Right && (n.handle_svg_info.info.scale_y = ae, n.handle_svg_info.info.y = Math.round(
            getSvgNowPosition(
              n.handle_svg_info.info.center_position.y,
              xe.y,
              n.handle_svg_info.info.client.y
            )
          ));
        }
      } else if (n.intention === EGlobalStoreIntention.Rotate) {
        if (!n.handle_svg_info)
          return;
        const j = Math.atan2(
          n.mouse_info.position_y - n.handle_svg_info.info.y,
          n.mouse_info.position_x - n.handle_svg_info.info.x
        ) / (Math.PI / 180), V = Math.atan2(
          n.mouse_info.new_position_y - a.center_offset.y - n.handle_svg_info.info.y,
          n.mouse_info.new_position_x - a.center_offset.x - n.handle_svg_info.info.x
        ) / (Math.PI / 180);
        n.handle_svg_info.info.rotate = myFixed(
          n.rotate_info.angle + V - j,
          2
        );
      } else if (n.intention === EGlobalStoreIntention.Connection && n.handle_svg_info) {
        const j = (Ve = n.handle_svg_info) == null ? void 0 : Ve.info.props.point_position.val.length, V = n.mouse_info.new_position_x - n.mouse_info.position_x - a.center_offset.x, z = n.mouse_info.new_position_y - n.mouse_info.position_y - a.center_offset.y, ae = n.handle_svg_info.info.props.point_position.val[j - 2], xe = ((jt = (Pt = n.handle_svg_info) == null ? void 0 : Pt.info.props.point_r) == null ? void 0 : jt.val) + 2 || 4;
        let qe = ae.x < V ? -xe : ae.x > V ? xe : 0, bn = ae.y < z ? -xe : ae.y > z ? xe : 0;
        Oe.ctrlKey ? n.handle_svg_info.info.props.point_position.val[j - 1] = {
          x: ae.x,
          y: z + bn
        } : Oe.shiftKey ? n.handle_svg_info.info.props.point_position.val[j - 1] = {
          x: V + qe,
          y: ae.y
        } : n.handle_svg_info.info.props.point_position.val[j - 1] = {
          x: V + qe,
          y: z + bn
        };
      } else if (n.intention === EGlobalStoreIntention.SetConnectionLineNode && n.handle_svg_info) {
        !S && (n.connection_line_node_info.point_index === n.handle_svg_info.info.props.point_position.val.length - 1 || n.connection_line_node_info.point_index === 0) && (S = !0);
        const j = (_n = n.handle_svg_info) == null ? void 0 : _n.info.props.point_position.val.length, V = getSvgNowPosition(
          n.mouse_info.position_x,
          n.mouse_info.new_position_x,
          n.connection_line_node_info.init_pos.x
        ), z = getSvgNowPosition(
          n.mouse_info.position_y,
          n.mouse_info.new_position_y,
          n.connection_line_node_info.init_pos.y
        ), ae = n.handle_svg_info.info.props.point_position.val[j - 2], xe = ((le = (oe = n.handle_svg_info) == null ? void 0 : oe.info.props.point_r) == null ? void 0 : le.val) + 2 || 4;
        let qe = ae.x < V ? -xe : ae.x > V ? xe : 0, bn = ae.y < z ? -xe : ae.y > z ? xe : 0;
        n.handle_svg_info.info.props.point_position.val[n.connection_line_node_info.point_index] = {
          x: V + qe,
          y: z + bn
        };
      }
    }, Y = () => {
      var Oe, Lt, pe, Cn;
      if (n.mouse_info.state == EMouseInfoState.Down) {
        if ((Oe = n.handle_svg_info) != null && Oe.info && n.intention == EGlobalStoreIntention.Move)
          setSvgActualInfo(n.done_json[n.handle_svg_info.index]), n.intention = EGlobalStoreIntention.None, n.setDoneJson(n.done_json);
        else if (n.intention == EGlobalStoreIntention.GroupMove) {
          if (w) {
            for (let In of n.done_json)
              In.selected && setSvgActualInfo(In);
            w = !1, n.intention = EGlobalStoreIntention.None, n.setDoneJson(n.done_json);
          }
        } else if ((Lt = n.handle_svg_info) != null && Lt.info && n.intention == EGlobalStoreIntention.Zoom)
          n.handle_svg_info.info.client = {
            x: n.handle_svg_info.info.x,
            y: n.handle_svg_info.info.y
          }, n.intention = EGlobalStoreIntention.None, setSvgActualInfo(n.done_json[n.handle_svg_info.index]), n.setDoneJson(n.done_json);
        else if (n.intention === EGlobalStoreIntention.Rotate && ((pe = n.handle_svg_info) != null && pe.info))
          setSvgActualInfo(n.done_json[n.handle_svg_info.index]), n.setDoneJson(n.done_json), n.intention = EGlobalStoreIntention.None;
        else {
          if (n.intention === EGlobalStoreIntention.Connection)
            return;
          if (n.intention === EGlobalStoreIntention.SetConnectionLineNode)
            S && ((Cn = n.handle_svg_info) != null && Cn.info.bind_anchors) && (n.connection_line_node_info.point_index === 0 ? n.handle_svg_info.info.bind_anchors.start = null : n.handle_svg_info.info.bind_anchors.end = null), n.intention = EGlobalStoreIntention.None, S = !1;
          else if (n.intention === EGlobalStoreIntention.SelectArea) {
            n.setHandleSvgInfo(null);
            for (let In of n.done_json) {
              const Dt = b.value;
              In.selected = In.center_position.x > Dt.x && In.center_position.x < Dt.x + Dt.with && In.center_position.y > Dt.y && In.center_position.y < Dt.y + Dt.height;
            }
            n.intention = EGlobalStoreIntention.None;
          } else
            n.intention != EGlobalStoreIntention.Select && (n.intention = EGlobalStoreIntention.None);
        }
        n.mouse_info = {
          state: EMouseInfoState.Up,
          position_x: 0,
          position_y: 0,
          now_position_x: 0,
          now_position_y: 0,
          new_position_x: 0,
          new_position_y: 0
        }, c.display = !1;
      }
    }, D = (Oe) => {
      const { clientX: Lt, clientY: pe } = Oe;
      if (n.intention === EGlobalStoreIntention.Connection) {
        n.handle_svg_info || createLine(Oe), n.handle_svg_info && (Oe.button === 0 ? n.handle_svg_info.info.props.point_position.val.length !== 1 ? n.handle_svg_info.info.props.point_position.val.push({
          x: n.mouse_info.new_position_x - n.mouse_info.position_x - a.center_offset.x,
          y: n.mouse_info.new_position_y - n.mouse_info.position_y - a.center_offset.y
        }) : n.handle_svg_info.info.props.point_position.val.push({
          x: 0,
          y: 0
        }) : Oe.button === 2 && (n.intention = EGlobalStoreIntention.None, setSvgActualInfo(n.done_json[n.handle_svg_info.index]), n.setHandleSvgInfo(null)));
        return;
      }
      Oe.button === 0 ? (n.intention = EGlobalStoreIntention.SelectArea, n.mouse_info = {
        state: EMouseInfoState.Down,
        position_x: Math.round(
          (Lt - a.canvasInfo.left) / o.svg.scale - a.center_offset.x
        ),
        position_y: Math.round(
          (pe - a.canvasInfo.top) / o.svg.scale - a.center_offset.y
        ),
        now_position_x: 0,
        now_position_y: 0,
        new_position_x: 0,
        new_position_y: 0
      }, y.value = {
        a: {
          x: n.mouse_info.position_x,
          y: n.mouse_info.position_y
        },
        b: {
          x: 0,
          y: 0
        }
      }) : Oe.button === 2 && (n.intention = EGlobalStoreIntention.MoveCanvas, n.mouse_info = {
        state: EMouseInfoState.Down,
        position_x: Math.round((Lt - a.canvasInfo.left) / o.svg.scale),
        position_y: Math.round((pe - a.canvasInfo.top) / o.svg.scale),
        now_position_x: a.center_offset.x,
        now_position_y: a.center_offset.y,
        new_position_x: 0,
        new_position_y: 0
      });
    };
    function re(Oe) {
      Oe != null && Oe.wheelDelta && (Oe.wheelDelta > 0 ? (o.svg.scale = myFixed(o.svg.scale + 0.1, 1), getZoomPosition(Oe, o.svg.scale, a.center_offset, !0)) : o.svg.scale > 0.1 && (o.svg.scale = myFixed(o.svg.scale - 0.1, 1), getZoomPosition(Oe, o.svg.scale, a.center_offset, !1)));
    }
    const F = (Oe) => {
      Oe.stopPropagation(), Oe.preventDefault();
    }, _e = (Oe, Lt, pe) => {
      n.intention !== EGlobalStoreIntention.Connection && f.value && (n.intention = EGlobalStoreIntention.ContextMenu, n.setHandleSvgInfo(Oe, Lt), f.value.style.left = pe.pageX + "px", f.value.style.top = pe.pageY + "px", c.info.MoveUpOneLevel.enable = c.info.MoveUpTopLevel.enable = c.info.MoveDownOneLevel.enable = c.info.MoveDownTopLevel.enable = !0, Lt === n.done_json.length - 1 && (c.info.MoveUpOneLevel.enable = c.info.MoveUpTopLevel.enable = !1), Lt === 0 && (c.info.MoveDownOneLevel.enable = c.info.MoveDownTopLevel.enable = !1), c.display = !0);
    }, ue = (Oe, Lt, pe) => ({
      x: myFixed(Oe.x - Oe.width / 2 * Lt + Oe.width / 2, 1),
      y: myFixed(Oe.y - Oe.height / 2 * pe + Oe.height / 2, 1),
      width: myFixed(Oe.width * Lt, 1),
      height: myFixed(Oe.height * pe, 1)
    }), Ie = (Oe) => {
      Oe.preventDefault();
      let Lt = [];
      if (!Oe.ctrlKey && ["ArrowUp", "ArrowDown", "ArrowLeft", "ArrowRight"].indexOf(Oe.key) > -1 && (A.value ? Lt = n.done_json.map((pe, Cn) => ({
        selected: pe.selected,
        i: Cn
      })).filter((pe) => pe.selected).map((pe) => pe.i) : n.handle_svg_info && Lt.push(n.handle_svg_info.index)), !Oe.ctrlKey && Oe.key == "ArrowUp") {
        for (let pe of Lt)
          n.done_json[pe].y -= 1, n.done_json[pe].client.y -= 1, moveHandlePoint(n.done_json[pe], 0, -1), moveAnchors(n.done_json[pe]);
        useHistoryRecord(n.done_json);
      } else if (!Oe.ctrlKey && Oe.key == "ArrowDown") {
        for (let pe of Lt)
          n.done_json[pe].y += 1, n.done_json[pe].client.y += 1, moveHandlePoint(n.done_json[pe], 0, 1), moveAnchors(n.done_json[pe]);
        useHistoryRecord(n.done_json);
      } else if (!Oe.ctrlKey && Oe.key == "ArrowLeft") {
        for (let pe of Lt)
          n.done_json[pe].x -= 1, n.done_json[pe].client.x -= 1, moveHandlePoint(n.done_json[pe], -1, 0), moveAnchors(n.done_json[pe]);
        useHistoryRecord(n.done_json);
      } else if (!Oe.ctrlKey && Oe.key == "ArrowRight") {
        for (let pe of Lt)
          n.done_json[pe].x += 1, n.done_json[pe].client.x += 1, moveHandlePoint(n.done_json[pe], 1, 0), moveAnchors(n.done_json[pe]);
        useHistoryRecord(n.done_json);
      } else
        Oe.ctrlKey && Oe.key.toLowerCase() == "c" ? c.onContextMenuClick(EContextMenuInfoType.Copy) : !Oe.ctrlKey && Oe.key == "Delete" ? A.value ? (n.setDoneJson(n.done_json.filter((pe) => !pe.selected)), n.setHandleSvgInfo(
          n.done_json[n.done_json.length - 1],
          n.done_json.length - 1
        )) : c.onContextMenuClick(EContextMenuInfoType.Delete) : Oe.ctrlKey && Oe.key == "ArrowUp" ? c.onContextMenuClick(EContextMenuInfoType.MoveUpOneLevel) : Oe.ctrlKey && Oe.key == "ArrowDown" ? c.onContextMenuClick(EContextMenuInfoType.MoveDownOneLevel) : Oe.ctrlKey && Oe.key == "ArrowLeft" ? c.onContextMenuClick(EContextMenuInfoType.MoveDownTopLevel) : Oe.ctrlKey && Oe.key == "ArrowRight" ? c.onContextMenuClick(EContextMenuInfoType.MoveUpTopLevel) : Oe.ctrlKey && Oe.shiftKey && Oe.key.toLowerCase() == "z" ? u.topRedoBtnClick() : Oe.ctrlKey && Oe.key.toLowerCase() == "z" ? u.topUndoBtnClick() : Oe.ctrlKey && Oe.key.toLowerCase() == "delete" && (n.done_json.length <= 0 || n.setDoneJson([]));
    }, ze = (Oe) => {
      const Lt = ["ArrowUp", "ArrowDown", "ArrowLeft", "ArrowRight"];
      if (!Oe.ctrlKey && Lt.indexOf(Oe.key) > -1)
        for (let pe of n.done_json)
          pe.selected && setSvgActualInfo(pe);
    }, Fe = () => {
      setSvgActualInfo(n.done_json[n.handle_svg_info.index], !0);
    };
    return onMounted(() => {
      var Oe;
      (Oe = p.value) == null || Oe.focus(), nextTick(function() {
        var pe;
        const Lt = (pe = p.value) == null ? void 0 : pe.getBoundingClientRect();
        a.canvasInfo = {
          height: (Lt == null ? void 0 : Lt.height) || 0,
          with: (Lt == null ? void 0 : Lt.width) || 0,
          top: (Lt == null ? void 0 : Lt.top) || 0,
          left: (Lt == null ? void 0 : Lt.left) || 0
        };
      });
    }), r({ onCanvasMouseUp: Y }), (Oe, Lt) => (openBlock(), createElementBlock(Fragment, null, [
      createElementVNode("div", {
        ref_key: "canvasRef",
        ref: p,
        class: "canvas",
        style: normalizeStyle$1({ backgroundColor: unref(o).svg.background_color, position: "relative" }),
        tabindex: "0",
        onDrop: T,
        onDragenter: x,
        onDragover: L,
        onMousedown: D,
        onMousemove: $,
        onMouseup: Y,
        onContextmenu: F,
        onKeydown: Ie,
        onKeyup: ze,
        onMousewheel: re
      }, [
        renderSlot(Oe.$slots, "background", {}, void 0, !0),
        createElementVNode("div", _hoisted_1$8, [
          (openBlock(), createElementBlock("svg", _hoisted_2$6, [
            createElementVNode("defs", null, [
              createElementVNode("pattern", _hoisted_3$5, [
                createElementVNode("line", {
                  x1: "0",
                  y1: "0",
                  x2: "0",
                  y2: "20",
                  stroke: unref(o).svg.grid_color
                }, null, 8, _hoisted_4$4),
                createElementVNode("line", {
                  x1: "10",
                  y1: "0",
                  x2: "10",
                  y2: "20",
                  stroke: unref(o).svg.grid_color
                }, null, 8, _hoisted_5$2),
                createElementVNode("line", {
                  x1: "0",
                  y1: "0",
                  x2: "20",
                  y2: "0",
                  stroke: unref(o).svg.grid_color
                }, null, 8, _hoisted_6$1),
                createElementVNode("line", {
                  x1: "0",
                  y1: "10",
                  x2: "20",
                  y2: "10",
                  stroke: unref(o).svg.grid_color
                }, null, 8, _hoisted_7$1)
              ])
            ]),
            unref(o).svg.grid ? (openBlock(), createElementBlock("rect", _hoisted_8$1)) : createCommentVNode("", !0),
            createElementVNode("g", {
              transform: `translate(${unref(a).center_offset.x * unref(o).svg.scale},${unref(a).center_offset.y * unref(o).svg.scale})rotate(0)scale(${unref(o).svg.scale})`
            }, [
              (openBlock(!0), createElementBlock(Fragment, null, renderList(unref(n).done_json, (pe, Cn) => {
                var In, Dt, he, Et, hn, vn, kt, Ce, de, Ue, Ne, Ve, Pt, jt;
                return withDirectives((openBlock(), createElementBlock("g", {
                  key: pe.id,
                  transform: `translate(${pe.x},${pe.y})rotate(0)scale(1)`
                }, [
                  createElementVNode("g", {
                    class: normalizeClass(`${unref(getCommonClass)(pe)}`)
                  }, [
                    createElementVNode("g", {
                      transform: `translate(${pe.actual_bound.x + pe.actual_bound.width / 2},${pe.actual_bound.y + pe.actual_bound.height / 2})rotate(${pe.rotate}) scale(1) translate(${-(pe.actual_bound.x + pe.actual_bound.width / 2)},${-(pe.actual_bound.y + pe.actual_bound.height / 2)})`,
                      onMousedown: (_n) => O(pe, Cn, _n),
                      onMouseup: (_n) => M(pe, Cn, _n),
                      onMouseenter: (_n) => k(pe, Cn, _n),
                      onMouseleave: (_n) => ie(pe, Cn, _n),
                      onContextmenu: (_n) => _e(pe, Cn, _n)
                    }, [
                      pe.type === unref(EDoneJsonType).ConnectionLine ? (openBlock(), createBlock(_sfc_main$z, {
                        key: 0,
                        "item-info": pe,
                        "point-visible": unref(g).connection_line && ((In = unref(g).select_item.info) == null ? void 0 : In.id) == pe.id
                      }, null, 8, ["item-info", "point-visible"])) : pe.type === unref(EDoneJsonType).File ? (openBlock(), createElementBlock("use", mergeProps({
                        key: 1,
                        "xlink:href": `#svg-${pe.name}`,
                        ref_for: !0
                      }, unref(prosToVBind)(pe, ["height", "width"]), {
                        width: ((he = (Dt = pe.props) == null ? void 0 : Dt.width) == null ? void 0 : he.val) ?? 100,
                        height: ((hn = (Et = pe.props) == null ? void 0 : Et.height) == null ? void 0 : hn.val) ?? 100,
                        id: pe.id,
                        transform: `translate(${pe.actual_bound.x + pe.actual_bound.width / 2},${pe.actual_bound.y + pe.actual_bound.height / 2}) scale(${pe.scale_x},${pe.scale_y}) translate(${-(pe.actual_bound.x + pe.actual_bound.width / 2)},${-(pe.actual_bound.y + pe.actual_bound.height / 2)})`
                      }), null, 16, _hoisted_12)) : pe.type === unref(EDoneJsonType).CustomSvg ? (openBlock(), createBlock(resolveDynamicComponent(pe.tag), mergeProps({
                        key: 2,
                        ref_for: !0
                      }, unref(prosToVBind)(pe, ["height", "width"]), {
                        width: ((kt = (vn = pe.props) == null ? void 0 : vn.width) == null ? void 0 : kt.val) ?? 100,
                        height: ((de = (Ce = pe.props) == null ? void 0 : Ce.height) == null ? void 0 : de.val) ?? 100,
                        id: pe.id,
                        onResize: Fe,
                        transform: `translate(${pe.actual_bound.x + pe.actual_bound.width / 2},${pe.actual_bound.y + pe.actual_bound.height / 2}) scale(${pe.scale_x},${pe.scale_y}) translate(${-(pe.actual_bound.x + pe.actual_bound.width / 2)},${-(pe.actual_bound.y + pe.actual_bound.height / 2)})`
                      }), null, 16, ["width", "height", "id", "transform"])) : pe.type === unref(EDoneJsonType).Vue ? (openBlock(), createElementBlock("foreignObject", mergeProps({
                        key: 3,
                        ref_for: !0
                      }, ue(pe.actual_bound, pe.scale_x, pe.scale_y), {
                        id: `foreign-object${pe.id}`,
                        class: "foreignObject"
                      }), [
                        (openBlock(), createBlock(resolveDynamicComponent(pe.tag), mergeProps({ ref_for: !0 }, unref(prosToVBind)(pe), {
                          id: pe.id,
                          transform: `translate(${pe.actual_bound.x + pe.actual_bound.width / 2},${pe.actual_bound.y + pe.actual_bound.height / 2}) scale(${pe.scale_x},${pe.scale_y}) translate(${-(pe.actual_bound.x + pe.actual_bound.width / 2)},${-(pe.actual_bound.y + pe.actual_bound.height / 2)})`
                        }), {
                          default: withCtx(() => [
                            createTextVNode(toDisplayString(pe.tag_slot), 1)
                          ]),
                          _: 2
                        }, 1040, ["id", "transform"]))
                      ], 16, _hoisted_13)) : pe.type === unref(EDoneJsonType).StraightLine ? (openBlock(), createElementBlock("line", {
                        key: 4,
                        id: pe.id,
                        x1: pe.props.start_x.val,
                        y1: pe.props.start_y.val,
                        x2: pe.props.end_x.val,
                        y2: pe.props.end_y.val,
                        fill: "#FF0000",
                        stroke: "#FF0000",
                        "stroke-width": "2"
                      }, null, 8, _hoisted_14)) : createCommentVNode("", !0),
                      pe.config.actual_rect ? (openBlock(), createElementBlock("rect", mergeProps({
                        key: 5,
                        id: `rect${pe.id}`,
                        fill: "black",
                        "fill-opacity": "0",
                        ref_for: !0
                      }, ue(pe.actual_bound, pe.scale_x, pe.scale_y), {
                        style: { stroke: "none", "stroke-width": "2", "stroke-miterlimit": "10" },
                        class: {
                          "svg-item-none": !pe.selected && (unref(n).intention == unref(EGlobalStoreIntention).None || unref(n).intention == unref(EGlobalStoreIntention).Select),
                          "svg-item-move": unref(n).intention == unref(EGlobalStoreIntention).Move && ((Ue = unref(n).handle_svg_info) == null ? void 0 : Ue.info.id) == pe.id,
                          "svg-item-select": unref(n).intention == unref(EGlobalStoreIntention).Select && ((Ne = unref(n).handle_svg_info) == null ? void 0 : Ne.info.id) == pe.id,
                          "svg-item-in-group": pe.selected
                        }
                      }), null, 16, _hoisted_15)) : createCommentVNode("", !0),
                      ((Ve = unref(n).handle_svg_info) == null ? void 0 : Ve.info.id) === pe.id && unref(g).handle_panel && pe.type !== unref(EDoneJsonType).ConnectionLine ? (openBlock(), createBlock(HandlePanel, {
                        key: 6,
                        "item-info": pe
                      }, null, 8, ["item-info"])) : createCommentVNode("", !0),
                      !pe.selected && ((Pt = unref(g).select_item.info) == null ? void 0 : Pt.id) == pe.id && unref(g).connection_panel && pe.config.have_anchor && unref(n).intention !== unref(EGlobalStoreIntention).SelectArea && (unref(n).intention !== unref(EGlobalStoreIntention).Select || pe.id !== ((jt = unref(n).handle_svg_info) == null ? void 0 : jt.info.id)) ? (openBlock(), createBlock(ConnectionPanel, {
                        key: 7,
                        onContextmenu: F,
                        "item-info": pe
                      }, null, 8, ["item-info"])) : createCommentVNode("", !0)
                    ], 40, _hoisted_11)
                  ], 2)
                ], 8, _hoisted_10)), [
                  [vShow, pe.display]
                ]);
              }), 128)),
              createElementVNode("rect", {
                x: unref(b).x,
                y: unref(b).y,
                height: unref(b).height,
                width: unref(b).with,
                stroke: "#107cec",
                fill: "#107cec",
                "fill-opacity": ".2"
              }, null, 8, _hoisted_16)
            ], 8, _hoisted_9)
          ]))
        ])
      ], 36),
      withDirectives(createElementVNode("ul", {
        ref_key: "contextMenuRef",
        ref: f,
        class: "contextMenu"
      }, [
        (openBlock(!0), createElementBlock(Fragment, null, renderList(unref(c).info, (pe, Cn) => (openBlock(), createElementBlock("li", {
          key: pe.title,
          onClick: (In) => unref(c).onContextMenuClick(Cn)
        }, [
          createElementVNode("p", {
            class: normalizeClass(pe.enable ? "" : "disabled")
          }, [
            createTextVNode(toDisplayString(pe.title) + " ", 1),
            createElementVNode("span", _hoisted_18, toDisplayString(pe.hot_key), 1)
          ], 2)
        ], 8, _hoisted_17))), 128))
      ], 512), [
        [vShow, unref(c).display]
      ])
    ], 64));
  }
}), centerPanel_vue_vue_type_style_index_0_scoped_de7d7390_lang = "", CenterPanel = /* @__PURE__ */ _export_sfc$1(_sfc_main$y, [["__scopeId", "data-v-de7d7390"]]);
/*! Element Plus Icons Vue v2.3.1 */
var aim_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({
  name: "Aim",
  __name: "aim",
  setup(i) {
    return (r, n) => (openBlock(), createElementBlock("svg", {
      xmlns: "http://www.w3.org/2000/svg",
      viewBox: "0 0 1024 1024"
    }, [
      createElementVNode("path", {
        fill: "currentColor",
        d: "M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"
      }),
      createElementVNode("path", {
        fill: "currentColor",
        d: "M512 96a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V128a32 32 0 0 1 32-32m0 576a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V704a32 32 0 0 1 32-32M96 512a32 32 0 0 1 32-32h192a32 32 0 0 1 0 64H128a32 32 0 0 1-32-32m576 0a32 32 0 0 1 32-32h192a32 32 0 1 1 0 64H704a32 32 0 0 1-32-32"
      })
    ]));
  }
}), aim_default = aim_vue_vue_type_script_setup_true_lang_default, arrow_down_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({
  name: "ArrowDown",
  __name: "arrow-down",
  setup(i) {
    return (r, n) => (openBlock(), createElementBlock("svg", {
      xmlns: "http://www.w3.org/2000/svg",
      viewBox: "0 0 1024 1024"
    }, [
      createElementVNode("path", {
        fill: "currentColor",
        d: "M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"
      })
    ]));
  }
}), arrow_down_default = arrow_down_vue_vue_type_script_setup_true_lang_default, circle_check_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({
  name: "CircleCheck",
  __name: "circle-check",
  setup(i) {
    return (r, n) => (openBlock(), createElementBlock("svg", {
      xmlns: "http://www.w3.org/2000/svg",
      viewBox: "0 0 1024 1024"
    }, [
      createElementVNode("path", {
        fill: "currentColor",
        d: "M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"
      }),
      createElementVNode("path", {
        fill: "currentColor",
        d: "M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"
      })
    ]));
  }
}), circle_check_default = circle_check_vue_vue_type_script_setup_true_lang_default, circle_close_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({
  name: "CircleClose",
  __name: "circle-close",
  setup(i) {
    return (r, n) => (openBlock(), createElementBlock("svg", {
      xmlns: "http://www.w3.org/2000/svg",
      viewBox: "0 0 1024 1024"
    }, [
      createElementVNode("path", {
        fill: "currentColor",
        d: "m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248z"
      }),
      createElementVNode("path", {
        fill: "currentColor",
        d: "M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"
      })
    ]));
  }
}), circle_close_default = circle_close_vue_vue_type_script_setup_true_lang_default, close_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({
  name: "Close",
  __name: "close",
  setup(i) {
    return (r, n) => (openBlock(), createElementBlock("svg", {
      xmlns: "http://www.w3.org/2000/svg",
      viewBox: "0 0 1024 1024"
    }, [
      createElementVNode("path", {
        fill: "currentColor",
        d: "M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"
      })
    ]));
  }
}), close_default = close_vue_vue_type_script_setup_true_lang_default, hide_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({
  name: "Hide",
  __name: "hide",
  setup(i) {
    return (r, n) => (openBlock(), createElementBlock("svg", {
      xmlns: "http://www.w3.org/2000/svg",
      viewBox: "0 0 1024 1024"
    }, [
      createElementVNode("path", {
        fill: "currentColor",
        d: "M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2zM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z"
      }),
      createElementVNode("path", {
        fill: "currentColor",
        d: "M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z"
      })
    ]));
  }
}), hide_default = hide_vue_vue_type_script_setup_true_lang_default, loading_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({
  name: "Loading",
  __name: "loading",
  setup(i) {
    return (r, n) => (openBlock(), createElementBlock("svg", {
      xmlns: "http://www.w3.org/2000/svg",
      viewBox: "0 0 1024 1024"
    }, [
      createElementVNode("path", {
        fill: "currentColor",
        d: "M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32m0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32m448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32m-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32M195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0m-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"
      })
    ]));
  }
}), loading_default = loading_vue_vue_type_script_setup_true_lang_default, view_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({
  name: "View",
  __name: "view",
  setup(i) {
    return (r, n) => (openBlock(), createElementBlock("svg", {
      xmlns: "http://www.w3.org/2000/svg",
      viewBox: "0 0 1024 1024"
    }, [
      createElementVNode("path", {
        fill: "currentColor",
        d: "M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352m0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448m0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160"
      })
    ]));
  }
}), view_default = view_vue_vue_type_script_setup_true_lang_default, MapShim = function() {
  if (typeof Map < "u")
    return Map;
  function i(r, n) {
    var o = -1;
    return r.some(function(a, u) {
      return a[0] === n ? (o = u, !0) : !1;
    }), o;
  }
  return (
    /** @class */
    function() {
      function r() {
        this.__entries__ = [];
      }
      return Object.defineProperty(r.prototype, "size", {
        /**
         * @returns {boolean}
         */
        get: function() {
          return this.__entries__.length;
        },
        enumerable: !0,
        configurable: !0
      }), r.prototype.get = function(n) {
        var o = i(this.__entries__, n), a = this.__entries__[o];
        return a && a[1];
      }, r.prototype.set = function(n, o) {
        var a = i(this.__entries__, n);
        ~a ? this.__entries__[a][1] = o : this.__entries__.push([n, o]);
      }, r.prototype.delete = function(n) {
        var o = this.__entries__, a = i(o, n);
        ~a && o.splice(a, 1);
      }, r.prototype.has = function(n) {
        return !!~i(this.__entries__, n);
      }, r.prototype.clear = function() {
        this.__entries__.splice(0);
      }, r.prototype.forEach = function(n, o) {
        o === void 0 && (o = null);
        for (var a = 0, u = this.__entries__; a < u.length; a++) {
          var c = u[a];
          n.call(o, c[1], c[0]);
        }
      }, r;
    }()
  );
}(), isBrowser = typeof window < "u" && typeof document < "u" && window.document === document, global$1 = function() {
  return typeof global < "u" && global.Math === Math ? global : typeof self < "u" && self.Math === Math ? self : typeof window < "u" && window.Math === Math ? window : Function("return this")();
}(), requestAnimationFrame$1 = function() {
  return typeof requestAnimationFrame == "function" ? requestAnimationFrame.bind(global$1) : function(i) {
    return setTimeout(function() {
      return i(Date.now());
    }, 1e3 / 60);
  };
}(), trailingTimeout = 2;
function throttle(i, r) {
  var n = !1, o = !1, a = 0;
  function u() {
    n && (n = !1, i()), o && d();
  }
  function c() {
    requestAnimationFrame$1(u);
  }
  function d() {
    var f = Date.now();
    if (n) {
      if (f - a < trailingTimeout)
        return;
      o = !0;
    } else
      n = !0, o = !1, setTimeout(c, r);
    a = f;
  }
  return d;
}
var REFRESH_DELAY = 20, transitionKeys = ["top", "right", "bottom", "left", "width", "height", "size", "weight"], mutationObserverSupported = typeof MutationObserver < "u", ResizeObserverController = (
  /** @class */
  function() {
    function i() {
      this.connected_ = !1, this.mutationEventsAdded_ = !1, this.mutationsObserver_ = null, this.observers_ = [], this.onTransitionEnd_ = this.onTransitionEnd_.bind(this), this.refresh = throttle(this.refresh.bind(this), REFRESH_DELAY);
    }
    return i.prototype.addObserver = function(r) {
      ~this.observers_.indexOf(r) || this.observers_.push(r), this.connected_ || this.connect_();
    }, i.prototype.removeObserver = function(r) {
      var n = this.observers_, o = n.indexOf(r);
      ~o && n.splice(o, 1), !n.length && this.connected_ && this.disconnect_();
    }, i.prototype.refresh = function() {
      var r = this.updateObservers_();
      r && this.refresh();
    }, i.prototype.updateObservers_ = function() {
      var r = this.observers_.filter(function(n) {
        return n.gatherActive(), n.hasActive();
      });
      return r.forEach(function(n) {
        return n.broadcastActive();
      }), r.length > 0;
    }, i.prototype.connect_ = function() {
      !isBrowser || this.connected_ || (document.addEventListener("transitionend", this.onTransitionEnd_), window.addEventListener("resize", this.refresh), mutationObserverSupported ? (this.mutationsObserver_ = new MutationObserver(this.refresh), this.mutationsObserver_.observe(document, {
        attributes: !0,
        childList: !0,
        characterData: !0,
        subtree: !0
      })) : (document.addEventListener("DOMSubtreeModified", this.refresh), this.mutationEventsAdded_ = !0), this.connected_ = !0);
    }, i.prototype.disconnect_ = function() {
      !isBrowser || !this.connected_ || (document.removeEventListener("transitionend", this.onTransitionEnd_), window.removeEventListener("resize", this.refresh), this.mutationsObserver_ && this.mutationsObserver_.disconnect(), this.mutationEventsAdded_ && document.removeEventListener("DOMSubtreeModified", this.refresh), this.mutationsObserver_ = null, this.mutationEventsAdded_ = !1, this.connected_ = !1);
    }, i.prototype.onTransitionEnd_ = function(r) {
      var n = r.propertyName, o = n === void 0 ? "" : n, a = transitionKeys.some(function(u) {
        return !!~o.indexOf(u);
      });
      a && this.refresh();
    }, i.getInstance = function() {
      return this.instance_ || (this.instance_ = new i()), this.instance_;
    }, i.instance_ = null, i;
  }()
), defineConfigurable = function(i, r) {
  for (var n = 0, o = Object.keys(r); n < o.length; n++) {
    var a = o[n];
    Object.defineProperty(i, a, {
      value: r[a],
      enumerable: !1,
      writable: !1,
      configurable: !0
    });
  }
  return i;
}, getWindowOf = function(i) {
  var r = i && i.ownerDocument && i.ownerDocument.defaultView;
  return r || global$1;
}, emptyRect = createRectInit(0, 0, 0, 0);
function toFloat(i) {
  return parseFloat(i) || 0;
}
function getBordersSize(i) {
  for (var r = [], n = 1; n < arguments.length; n++)
    r[n - 1] = arguments[n];
  return r.reduce(function(o, a) {
    var u = i["border-" + a + "-width"];
    return o + toFloat(u);
  }, 0);
}
function getPaddings(i) {
  for (var r = ["top", "right", "bottom", "left"], n = {}, o = 0, a = r; o < a.length; o++) {
    var u = a[o], c = i["padding-" + u];
    n[u] = toFloat(c);
  }
  return n;
}
function getSVGContentRect(i) {
  var r = i.getBBox();
  return createRectInit(0, 0, r.width, r.height);
}
function getHTMLElementContentRect(i) {
  var r = i.clientWidth, n = i.clientHeight;
  if (!r && !n)
    return emptyRect;
  var o = getWindowOf(i).getComputedStyle(i), a = getPaddings(o), u = a.left + a.right, c = a.top + a.bottom, d = toFloat(o.width), f = toFloat(o.height);
  if (o.boxSizing === "border-box" && (Math.round(d + u) !== r && (d -= getBordersSize(o, "left", "right") + u), Math.round(f + c) !== n && (f -= getBordersSize(o, "top", "bottom") + c)), !isDocumentElement(i)) {
    var p = Math.round(d + u) - r, _ = Math.round(f + c) - n;
    Math.abs(p) !== 1 && (d -= p), Math.abs(_) !== 1 && (f -= _);
  }
  return createRectInit(a.left, a.top, d, f);
}
var isSVGGraphicsElement = function() {
  return typeof SVGGraphicsElement < "u" ? function(i) {
    return i instanceof getWindowOf(i).SVGGraphicsElement;
  } : function(i) {
    return i instanceof getWindowOf(i).SVGElement && typeof i.getBBox == "function";
  };
}();
function isDocumentElement(i) {
  return i === getWindowOf(i).document.documentElement;
}
function getContentRect(i) {
  return isBrowser ? isSVGGraphicsElement(i) ? getSVGContentRect(i) : getHTMLElementContentRect(i) : emptyRect;
}
function createReadOnlyRect(i) {
  var r = i.x, n = i.y, o = i.width, a = i.height, u = typeof DOMRectReadOnly < "u" ? DOMRectReadOnly : Object, c = Object.create(u.prototype);
  return defineConfigurable(c, {
    x: r,
    y: n,
    width: o,
    height: a,
    top: n,
    right: r + o,
    bottom: a + n,
    left: r
  }), c;
}
function createRectInit(i, r, n, o) {
  return { x: i, y: r, width: n, height: o };
}
var ResizeObservation = (
  /** @class */
  function() {
    function i(r) {
      this.broadcastWidth = 0, this.broadcastHeight = 0, this.contentRect_ = createRectInit(0, 0, 0, 0), this.target = r;
    }
    return i.prototype.isActive = function() {
      var r = getContentRect(this.target);
      return this.contentRect_ = r, r.width !== this.broadcastWidth || r.height !== this.broadcastHeight;
    }, i.prototype.broadcastRect = function() {
      var r = this.contentRect_;
      return this.broadcastWidth = r.width, this.broadcastHeight = r.height, r;
    }, i;
  }()
), ResizeObserverEntry = (
  /** @class */
  function() {
    function i(r, n) {
      var o = createReadOnlyRect(n);
      defineConfigurable(this, { target: r, contentRect: o });
    }
    return i;
  }()
), ResizeObserverSPI = (
  /** @class */
  function() {
    function i(r, n, o) {
      if (this.activeObservations_ = [], this.observations_ = new MapShim(), typeof r != "function")
        throw new TypeError("The callback provided as parameter 1 is not a function.");
      this.callback_ = r, this.controller_ = n, this.callbackCtx_ = o;
    }
    return i.prototype.observe = function(r) {
      if (!arguments.length)
        throw new TypeError("1 argument required, but only 0 present.");
      if (!(typeof Element > "u" || !(Element instanceof Object))) {
        if (!(r instanceof getWindowOf(r).Element))
          throw new TypeError('parameter 1 is not of type "Element".');
        var n = this.observations_;
        n.has(r) || (n.set(r, new ResizeObservation(r)), this.controller_.addObserver(this), this.controller_.refresh());
      }
    }, i.prototype.unobserve = function(r) {
      if (!arguments.length)
        throw new TypeError("1 argument required, but only 0 present.");
      if (!(typeof Element > "u" || !(Element instanceof Object))) {
        if (!(r instanceof getWindowOf(r).Element))
          throw new TypeError('parameter 1 is not of type "Element".');
        var n = this.observations_;
        n.has(r) && (n.delete(r), n.size || this.controller_.removeObserver(this));
      }
    }, i.prototype.disconnect = function() {
      this.clearActive(), this.observations_.clear(), this.controller_.removeObserver(this);
    }, i.prototype.gatherActive = function() {
      var r = this;
      this.clearActive(), this.observations_.forEach(function(n) {
        n.isActive() && r.activeObservations_.push(n);
      });
    }, i.prototype.broadcastActive = function() {
      if (this.hasActive()) {
        var r = this.callbackCtx_, n = this.activeObservations_.map(function(o) {
          return new ResizeObserverEntry(o.target, o.broadcastRect());
        });
        this.callback_.call(r, n, r), this.clearActive();
      }
    }, i.prototype.clearActive = function() {
      this.activeObservations_.splice(0);
    }, i.prototype.hasActive = function() {
      return this.activeObservations_.length > 0;
    }, i;
  }()
), observers = typeof WeakMap < "u" ? /* @__PURE__ */ new WeakMap() : new MapShim(), ResizeObserver$1 = (
  /** @class */
  function() {
    function i(r) {
      if (!(this instanceof i))
        throw new TypeError("Cannot call a class as a function.");
      if (!arguments.length)
        throw new TypeError("1 argument required, but only 0 present.");
      var n = ResizeObserverController.getInstance(), o = new ResizeObserverSPI(r, n, this);
      observers.set(this, o);
    }
    return i;
  }()
);
[
  "observe",
  "unobserve",
  "disconnect"
].forEach(function(i) {
  ResizeObserver$1.prototype[i] = function() {
    var r;
    return (r = observers.get(this))[i].apply(r, arguments);
  };
});
var index$1 = function() {
  return typeof global$1.ResizeObserver < "u" ? global$1.ResizeObserver : ResizeObserver$1;
}();
const Events = [
  "blur",
  "input",
  "change",
  "changeSelectionStyle",
  "changeSession",
  "copy",
  "focus",
  "paste"
], VAceEditor = defineComponent({
  name: "VAceEditor",
  props: {
    value: {
      type: String,
      required: !0
    },
    lang: {
      type: String,
      default: "text"
    },
    theme: {
      type: String,
      default: "chrome"
    },
    options: Object,
    placeholder: String,
    readonly: Boolean,
    wrap: Boolean,
    printMargin: {
      type: [Boolean, Number],
      default: !0
    },
    minLines: Number,
    maxLines: Number
  },
  emits: ["update:value", "init", ...Events],
  render() {
    return h("div");
  },
  mounted() {
    const i = this._editor = markRaw(ace.edit(this.$el, {
      placeholder: this.placeholder,
      readOnly: this.readonly,
      value: this.value,
      mode: "ace/mode/" + this.lang,
      theme: "ace/theme/" + this.theme,
      wrap: this.wrap,
      printMargin: this.printMargin,
      useWorker: !1,
      minLines: this.minLines,
      maxLines: this.maxLines,
      ...this.options
    }));
    this._contentBackup = this.value, this._isSettingContent = !1, i.on("change", () => {
      if (this._isSettingContent)
        return;
      const r = i.getValue();
      this._contentBackup = r, this.$emit("update:value", r);
    }), Events.forEach((r) => {
      const n = "on" + capitalize(r);
      typeof this.$.vnode.props[n] == "function" && i.on(r, this.$emit.bind(this, r));
    }), this._ro = new index$1(() => i.resize()), this._ro.observe(this.$el), this.$emit("init", i);
  },
  beforeUnmount() {
    var i, r;
    (i = this._ro) === null || i === void 0 || i.disconnect(), (r = this._editor) === null || r === void 0 || r.destroy();
  },
  methods: {
    focus() {
      this._editor.focus();
    },
    blur() {
      this._editor.blur();
    },
    selectAll() {
      this._editor.selectAll();
    },
    getAceInstance() {
      return this._editor;
    }
  },
  watch: {
    value(i) {
      if (this._contentBackup !== i) {
        try {
          this._isSettingContent = !0, this._editor.setValue(i, 1);
        } finally {
          this._isSettingContent = !1;
        }
        this._contentBackup = i;
      }
    },
    theme(i) {
      this._editor.setTheme("ace/theme/" + i);
    },
    options(i) {
      this._editor.setOptions(i);
    },
    readonly(i) {
      this._editor.setReadOnly(i);
    },
    placeholder(i) {
      this._editor.setOption("placeholder", i);
    },
    wrap(i) {
      this._editor.setWrapBehavioursEnabled(i);
    },
    printMargin(i) {
      this._editor.setOption("printMargin", i);
    },
    lang(i) {
      this._editor.setOption("mode", "ace/mode/" + i);
    },
    minLines(i) {
      this._editor.setOption("minLines", i);
    },
    maxLines(i) {
      this._editor.setOption("maxLines", i);
    }
  }
}), themeUrl2 = "data:application/javascript;base64,YWNlLmRlZmluZSgiYWNlL3RoZW1lL2tyX3RoZW1lLmNzcyIsWyJyZXF1aXJlIiwiZXhwb3J0cyIsIm1vZHVsZSJdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpe21vZHVsZS5leHBvcnRzID0gIi5hY2Uta3ItdGhlbWUgLmFjZV9ndXR0ZXIge1xuICBiYWNrZ3JvdW5kOiAjMWMxOTE3O1xuICBjb2xvcjogI0ZDRkZFMFxufVxuXG4uYWNlLWtyLXRoZW1lIC5hY2VfcHJpbnQtbWFyZ2luIHtcbiAgd2lkdGg6IDFweDtcbiAgYmFja2dyb3VuZDogIzFjMTkxN1xufVxuXG4uYWNlLWtyLXRoZW1lIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzBCMEEwOTtcbiAgY29sb3I6ICNGQ0ZGRTBcbn1cblxuLmFjZS1rci10aGVtZSAuYWNlX2N1cnNvciB7XG4gIGNvbG9yOiAjRkY5OTAwXG59XG5cbi5hY2Uta3ItdGhlbWUgLmFjZV9tYXJrZXItbGF5ZXIgLmFjZV9zZWxlY3Rpb24ge1xuICBiYWNrZ3JvdW5kOiByZ2JhKDE3MCwgMCwgMjU1LCAwLjQ1KVxufVxuXG4uYWNlLWtyLXRoZW1lLmFjZV9tdWx0aXNlbGVjdCAuYWNlX3NlbGVjdGlvbi5hY2Vfc3RhcnQge1xuICBib3gtc2hhZG93OiAwIDAgM3B4IDBweCAjMEIwQTA5O1xufVxuXG4uYWNlLWtyLXRoZW1lIC5hY2VfbWFya2VyLWxheWVyIC5hY2Vfc3RlcCB7XG4gIGJhY2tncm91bmQ6IHJnYigxMDIsIDgyLCAwKVxufVxuXG4uYWNlLWtyLXRoZW1lIC5hY2VfbWFya2VyLWxheWVyIC5hY2VfYnJhY2tldCB7XG4gIG1hcmdpbjogLTFweCAwIDAgLTFweDtcbiAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgyNTUsIDE3NywgMTExLCAwLjMyKVxufVxuXG4uYWNlLWtyLXRoZW1lIC5hY2VfbWFya2VyLWxheWVyIC5hY2VfYWN0aXZlLWxpbmUge1xuICBiYWNrZ3JvdW5kOiAjMzg0MDNEXG59XG5cbi5hY2Uta3ItdGhlbWUgLmFjZV9ndXR0ZXItYWN0aXZlLWxpbmUge1xuICBiYWNrZ3JvdW5kLWNvbG9yIDogIzM4NDAzRFxufVxuXG4uYWNlLWtyLXRoZW1lIC5hY2VfbWFya2VyLWxheWVyIC5hY2Vfc2VsZWN0ZWQtd29yZCB7XG4gIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMTcwLCAwLCAyNTUsIDAuNDUpXG59XG5cbi5hY2Uta3ItdGhlbWUgLmFjZV9pbnZpc2libGUge1xuICBjb2xvcjogcmdiYSgyNTUsIDE3NywgMTExLCAwLjMyKVxufVxuXG4uYWNlLWtyLXRoZW1lIC5hY2Vfa2V5d29yZCxcbi5hY2Uta3ItdGhlbWUgLmFjZV9tZXRhIHtcbiAgY29sb3I6ICM5NDlDOEJcbn1cblxuLmFjZS1rci10aGVtZSAuYWNlX2NvbnN0YW50LFxuLmFjZS1rci10aGVtZSAuYWNlX2NvbnN0YW50LmFjZV9jaGFyYWN0ZXIsXG4uYWNlLWtyLXRoZW1lIC5hY2VfY29uc3RhbnQuYWNlX2NoYXJhY3Rlci5hY2VfZXNjYXBlLFxuLmFjZS1rci10aGVtZSAuYWNlX2NvbnN0YW50LmFjZV9vdGhlciB7XG4gIGNvbG9yOiByZ2JhKDIxMCwgMTE3LCAyNCwgMC43Nilcbn1cblxuLmFjZS1rci10aGVtZSAuYWNlX2ludmFsaWQge1xuICBjb2xvcjogI0Y4RjhGODtcbiAgYmFja2dyb3VuZC1jb2xvcjogI0E0MTMwMFxufVxuXG4uYWNlLWtyLXRoZW1lIC5hY2Vfc3VwcG9ydCB7XG4gIGNvbG9yOiAjOUZDMjhBXG59XG5cbi5hY2Uta3ItdGhlbWUgLmFjZV9zdXBwb3J0LmFjZV9jb25zdGFudCB7XG4gIGNvbG9yOiAjQzI3RTY2XG59XG5cbi5hY2Uta3ItdGhlbWUgLmFjZV9mb2xkIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzk0OUM4QjtcbiAgYm9yZGVyLWNvbG9yOiAjRkNGRkUwXG59XG5cbi5hY2Uta3ItdGhlbWUgLmFjZV9zdXBwb3J0LmFjZV9mdW5jdGlvbiB7XG4gIGNvbG9yOiAjODU4NzNBXG59XG5cbi5hY2Uta3ItdGhlbWUgLmFjZV9zdG9yYWdlIHtcbiAgY29sb3I6ICNGRkVFODBcbn1cblxuLmFjZS1rci10aGVtZSAuYWNlX3N0cmluZyB7XG4gIGNvbG9yOiByZ2JhKDE2NCwgMTYxLCAxODEsIDAuOClcbn1cblxuLmFjZS1rci10aGVtZSAuYWNlX3N0cmluZy5hY2VfcmVnZXhwIHtcbiAgY29sb3I6IHJnYmEoMTI1LCAyNTUsIDE5MiwgMC42NSlcbn1cblxuLmFjZS1rci10aGVtZSAuYWNlX2NvbW1lbnQge1xuICBmb250LXN0eWxlOiBpdGFsaWM7XG4gIGNvbG9yOiAjNzA2RDVCXG59XG5cbi5hY2Uta3ItdGhlbWUgLmFjZV92YXJpYWJsZSB7XG4gIGNvbG9yOiAjRDFBNzk2XG59XG5cbi5hY2Uta3ItdGhlbWUgLmFjZV9saXN0LFxuLmFjZS1rci10aGVtZSAuYWNlX21hcmt1cC5hY2VfbGlzdCB7XG4gIGJhY2tncm91bmQtY29sb3I6ICMwRjAwNDBcbn1cblxuLmFjZS1rci10aGVtZSAuYWNlX3ZhcmlhYmxlLmFjZV9sYW5ndWFnZSB7XG4gIGNvbG9yOiAjRkY4MEUxXG59XG5cbi5hY2Uta3ItdGhlbWUgLmFjZV9tZXRhLmFjZV90YWcge1xuICBjb2xvcjogI0JBQkQ5Q1xufVxuXG4uYWNlLWtyLXRoZW1lIC5hY2VfaW5kZW50LWd1aWRlIHtcbiAgYmFja2dyb3VuZDogdXJsKGRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQUVBQUFBQ0NBWUFBQUNaZ2JZbkFBQUFFa2xFUVZRSW1XTmdZR0JnWUZCWFYvOFBBQUpvQVhYNGtUMkVBQUFBQUVsRlRrU3VRbUNDKSByaWdodCByZXBlYXQteVxufVxuXG4uYWNlLWtyLXRoZW1lIC5hY2VfaW5kZW50LWd1aWRlLWFjdGl2ZSB7XG4gIGJhY2tncm91bmQ6IHVybChcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQUVBQUFBQ0NBWUFBQUNaZ2JZbkFBQUFDWEJJV1hNQUFBc1RBQUFMRXdFQW1wd1lBQUFBSUdOSVVrMEFBSG9sQUFDQWd3QUErZjhBQUlEcEFBQjFNQUFBNm1BQUFEcVlBQUFYYjVKZnhVWUFBQUFaU1VSQlZIamFZdmovLy85L2hpdkt5djhCQUFBQS8vOERBQ0xxQmhidmsrL2VBQUFBQUVsRlRrU3VRbUNDXCIpIHJpZ2h0IHJlcGVhdC15O1xufVxuIjsKCn0pOwoKYWNlLmRlZmluZSgiYWNlL3RoZW1lL2tyX3RoZW1lIixbInJlcXVpcmUiLCJleHBvcnRzIiwibW9kdWxlIiwiYWNlL3RoZW1lL2tyX3RoZW1lLmNzcyIsImFjZS9saWIvZG9tIl0sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSl7ZXhwb3J0cy5pc0RhcmsgPSB0cnVlOwpleHBvcnRzLmNzc0NsYXNzID0gImFjZS1rci10aGVtZSI7CmV4cG9ydHMuY3NzVGV4dCA9IHJlcXVpcmUoIi4va3JfdGhlbWUuY3NzIik7CnZhciBkb20gPSByZXF1aXJlKCIuLi9saWIvZG9tIik7CmRvbS5pbXBvcnRDc3NTdHJpbmcoZXhwb3J0cy5jc3NUZXh0LCBleHBvcnRzLmNzc0NsYXNzLCBmYWxzZSk7Cgp9KTsgICAgICAgICAgICAgICAgKGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgIGFjZS5yZXF1aXJlKFsiYWNlL3RoZW1lL2tyX3RoZW1lIl0sIGZ1bmN0aW9uKG0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtb2R1bGUgPT0gIm9iamVjdCIgJiYgdHlwZW9mIGV4cG9ydHMgPT0gIm9iamVjdCIgJiYgbW9kdWxlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IG07CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pKCk7CiAgICAgICAgICAgIA==", modeJsonUrl = "data:application/javascript;base64,YWNlLmRlZmluZSgiYWNlL21vZGUvanNvbl9oaWdobGlnaHRfcnVsZXMiLFsicmVxdWlyZSIsImV4cG9ydHMiLCJtb2R1bGUiLCJhY2UvbGliL29vcCIsImFjZS9tb2RlL3RleHRfaGlnaGxpZ2h0X3J1bGVzIl0sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSl7InVzZSBzdHJpY3QiOwp2YXIgb29wID0gcmVxdWlyZSgiLi4vbGliL29vcCIpOwp2YXIgVGV4dEhpZ2hsaWdodFJ1bGVzID0gcmVxdWlyZSgiLi90ZXh0X2hpZ2hsaWdodF9ydWxlcyIpLlRleHRIaWdobGlnaHRSdWxlczsKdmFyIEpzb25IaWdobGlnaHRSdWxlcyA9IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuJHJ1bGVzID0gewogICAgICAgICJzdGFydCI6IFsKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdG9rZW46ICJ2YXJpYWJsZSIsCiAgICAgICAgICAgICAgICByZWdleDogJ1siXSg/Oig/OlxcXFwuKXwoPzpbXiJcXFxcXSkpKj9bIl1cXHMqKD89OiknCiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgIHRva2VuOiAic3RyaW5nIiwKICAgICAgICAgICAgICAgIHJlZ2V4OiAnIicsCiAgICAgICAgICAgICAgICBuZXh0OiAic3RyaW5nIgogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICB0b2tlbjogImNvbnN0YW50Lm51bWVyaWMiLAogICAgICAgICAgICAgICAgcmVnZXg6ICIwW3hYXVswLTlhLWZBLUZdK1xcYiIKICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgdG9rZW46ICJjb25zdGFudC5udW1lcmljIiwKICAgICAgICAgICAgICAgIHJlZ2V4OiAiWystXT9cXGQrKD86KD86XFwuXFxkKik/KD86W2VFXVsrLV0/XFxkKyk/KT9cXGIiCiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgIHRva2VuOiAiY29uc3RhbnQubGFuZ3VhZ2UuYm9vbGVhbiIsCiAgICAgICAgICAgICAgICByZWdleDogIig/OnRydWV8ZmFsc2UpXFxiIgogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICB0b2tlbjogInRleHQiLAogICAgICAgICAgICAgICAgcmVnZXg6ICJbJ10oPzooPzpcXFxcLil8KD86W14nXFxcXF0pKSo/WyddIgogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICB0b2tlbjogImNvbW1lbnQiLAogICAgICAgICAgICAgICAgcmVnZXg6ICJcXC9cXC8uKiQiCiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgIHRva2VuOiAiY29tbWVudC5zdGFydCIsCiAgICAgICAgICAgICAgICByZWdleDogIlxcL1xcKiIsCiAgICAgICAgICAgICAgICBuZXh0OiAiY29tbWVudCIKICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgdG9rZW46ICJwYXJlbi5scGFyZW4iLAogICAgICAgICAgICAgICAgcmVnZXg6ICJbWyh7XSIKICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgdG9rZW46ICJwYXJlbi5ycGFyZW4iLAogICAgICAgICAgICAgICAgcmVnZXg6ICJbXFxdKX1dIgogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICB0b2tlbjogInB1bmN0dWF0aW9uLm9wZXJhdG9yIiwKICAgICAgICAgICAgICAgIHJlZ2V4OiAvWyxdLwogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICB0b2tlbjogInRleHQiLAogICAgICAgICAgICAgICAgcmVnZXg6ICJcXHMrIgogICAgICAgICAgICB9CiAgICAgICAgXSwKICAgICAgICAic3RyaW5nIjogWwogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB0b2tlbjogImNvbnN0YW50Lmxhbmd1YWdlLmVzY2FwZSIsCiAgICAgICAgICAgICAgICByZWdleDogL1xcKD86eFswLTlhLWZBLUZdezJ9fHVbMC05YS1mQS1GXXs0fXxbIlxcXC9iZm5ydF0pLwogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICB0b2tlbjogInN0cmluZyIsCiAgICAgICAgICAgICAgICByZWdleDogJyJ8JCcsCiAgICAgICAgICAgICAgICBuZXh0OiAic3RhcnQiCiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgIGRlZmF1bHRUb2tlbjogInN0cmluZyIKICAgICAgICAgICAgfQogICAgICAgIF0sCiAgICAgICAgImNvbW1lbnQiOiBbCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHRva2VuOiAiY29tbWVudC5lbmQiLAogICAgICAgICAgICAgICAgcmVnZXg6ICJcXCpcXC8iLAogICAgICAgICAgICAgICAgbmV4dDogInN0YXJ0IgogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICBkZWZhdWx0VG9rZW46ICJjb21tZW50IgogICAgICAgICAgICB9CiAgICAgICAgXQogICAgfTsKfTsKb29wLmluaGVyaXRzKEpzb25IaWdobGlnaHRSdWxlcywgVGV4dEhpZ2hsaWdodFJ1bGVzKTsKZXhwb3J0cy5Kc29uSGlnaGxpZ2h0UnVsZXMgPSBKc29uSGlnaGxpZ2h0UnVsZXM7Cgp9KTsKCmFjZS5kZWZpbmUoImFjZS9tb2RlL21hdGNoaW5nX2JyYWNlX291dGRlbnQiLFsicmVxdWlyZSIsImV4cG9ydHMiLCJtb2R1bGUiLCJhY2UvcmFuZ2UiXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKXsidXNlIHN0cmljdCI7CnZhciBSYW5nZSA9IHJlcXVpcmUoIi4uL3JhbmdlIikuUmFuZ2U7CnZhciBNYXRjaGluZ0JyYWNlT3V0ZGVudCA9IGZ1bmN0aW9uICgpIHsgfTsKKGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuY2hlY2tPdXRkZW50ID0gZnVuY3Rpb24gKGxpbmUsIGlucHV0KSB7CiAgICAgICAgaWYgKCEvXlxzKyQvLnRlc3QobGluZSkpCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICByZXR1cm4gL15ccypcfS8udGVzdChpbnB1dCk7CiAgICB9OwogICAgdGhpcy5hdXRvT3V0ZGVudCA9IGZ1bmN0aW9uIChkb2MsIHJvdykgewogICAgICAgIHZhciBsaW5lID0gZG9jLmdldExpbmUocm93KTsKICAgICAgICB2YXIgbWF0Y2ggPSBsaW5lLm1hdGNoKC9eKFxzKlx9KS8pOwogICAgICAgIGlmICghbWF0Y2gpCiAgICAgICAgICAgIHJldHVybiAwOwogICAgICAgIHZhciBjb2x1bW4gPSBtYXRjaFsxXS5sZW5ndGg7CiAgICAgICAgdmFyIG9wZW5CcmFjZVBvcyA9IGRvYy5maW5kTWF0Y2hpbmdCcmFja2V0KHsgcm93OiByb3csIGNvbHVtbjogY29sdW1uIH0pOwogICAgICAgIGlmICghb3BlbkJyYWNlUG9zIHx8IG9wZW5CcmFjZVBvcy5yb3cgPT0gcm93KQogICAgICAgICAgICByZXR1cm4gMDsKICAgICAgICB2YXIgaW5kZW50ID0gdGhpcy4kZ2V0SW5kZW50KGRvYy5nZXRMaW5lKG9wZW5CcmFjZVBvcy5yb3cpKTsKICAgICAgICBkb2MucmVwbGFjZShuZXcgUmFuZ2Uocm93LCAwLCByb3csIGNvbHVtbiAtIDEpLCBpbmRlbnQpOwogICAgfTsKICAgIHRoaXMuJGdldEluZGVudCA9IGZ1bmN0aW9uIChsaW5lKSB7CiAgICAgICAgcmV0dXJuIGxpbmUubWF0Y2goL15ccyovKVswXTsKICAgIH07Cn0pLmNhbGwoTWF0Y2hpbmdCcmFjZU91dGRlbnQucHJvdG90eXBlKTsKZXhwb3J0cy5NYXRjaGluZ0JyYWNlT3V0ZGVudCA9IE1hdGNoaW5nQnJhY2VPdXRkZW50OwoKfSk7CgphY2UuZGVmaW5lKCJhY2UvbW9kZS9mb2xkaW5nL2NzdHlsZSIsWyJyZXF1aXJlIiwiZXhwb3J0cyIsIm1vZHVsZSIsImFjZS9saWIvb29wIiwiYWNlL3JhbmdlIiwiYWNlL21vZGUvZm9sZGluZy9mb2xkX21vZGUiXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKXsidXNlIHN0cmljdCI7CnZhciBvb3AgPSByZXF1aXJlKCIuLi8uLi9saWIvb29wIik7CnZhciBSYW5nZSA9IHJlcXVpcmUoIi4uLy4uL3JhbmdlIikuUmFuZ2U7CnZhciBCYXNlRm9sZE1vZGUgPSByZXF1aXJlKCIuL2ZvbGRfbW9kZSIpLkZvbGRNb2RlOwp2YXIgRm9sZE1vZGUgPSBleHBvcnRzLkZvbGRNb2RlID0gZnVuY3Rpb24gKGNvbW1lbnRSZWdleCkgewogICAgaWYgKGNvbW1lbnRSZWdleCkgewogICAgICAgIHRoaXMuZm9sZGluZ1N0YXJ0TWFya2VyID0gbmV3IFJlZ0V4cCh0aGlzLmZvbGRpbmdTdGFydE1hcmtlci5zb3VyY2UucmVwbGFjZSgvXHxbXnxdKj8kLywgInwiICsgY29tbWVudFJlZ2V4LnN0YXJ0KSk7CiAgICAgICAgdGhpcy5mb2xkaW5nU3RvcE1hcmtlciA9IG5ldyBSZWdFeHAodGhpcy5mb2xkaW5nU3RvcE1hcmtlci5zb3VyY2UucmVwbGFjZSgvXHxbXnxdKj8kLywgInwiICsgY29tbWVudFJlZ2V4LmVuZCkpOwogICAgfQp9Owpvb3AuaW5oZXJpdHMoRm9sZE1vZGUsIEJhc2VGb2xkTW9kZSk7CihmdW5jdGlvbiAoKSB7CiAgICB0aGlzLmZvbGRpbmdTdGFydE1hcmtlciA9IC8oW1x7XFtcKF0pW15cfVxdXCldKiR8XlxzKihcL1wqKS87CiAgICB0aGlzLmZvbGRpbmdTdG9wTWFya2VyID0gL15bXlxbXHtcKF0qKFtcfVxdXCldKXxeW1xzXCpdKihcKlwvKS87CiAgICB0aGlzLnNpbmdsZUxpbmVCbG9ja0NvbW1lbnRSZSA9IC9eXHMqKFwvXCopLipcKlwvXHMqJC87CiAgICB0aGlzLnRyaXBsZVN0YXJCbG9ja0NvbW1lbnRSZSA9IC9eXHMqKFwvXCpcKlwqKS4qXCpcL1xzKiQvOwogICAgdGhpcy5zdGFydFJlZ2lvblJlID0gL15ccyooXC9cKnxcL1wvKSM/cmVnaW9uXGIvOwogICAgdGhpcy5fZ2V0Rm9sZFdpZGdldEJhc2UgPSB0aGlzLmdldEZvbGRXaWRnZXQ7CiAgICB0aGlzLmdldEZvbGRXaWRnZXQgPSBmdW5jdGlvbiAoc2Vzc2lvbiwgZm9sZFN0eWxlLCByb3cpIHsKICAgICAgICB2YXIgbGluZSA9IHNlc3Npb24uZ2V0TGluZShyb3cpOwogICAgICAgIGlmICh0aGlzLnNpbmdsZUxpbmVCbG9ja0NvbW1lbnRSZS50ZXN0KGxpbmUpKSB7CiAgICAgICAgICAgIGlmICghdGhpcy5zdGFydFJlZ2lvblJlLnRlc3QobGluZSkgJiYgIXRoaXMudHJpcGxlU3RhckJsb2NrQ29tbWVudFJlLnRlc3QobGluZSkpCiAgICAgICAgICAgICAgICByZXR1cm4gIiI7CiAgICAgICAgfQogICAgICAgIHZhciBmdyA9IHRoaXMuX2dldEZvbGRXaWRnZXRCYXNlKHNlc3Npb24sIGZvbGRTdHlsZSwgcm93KTsKICAgICAgICBpZiAoIWZ3ICYmIHRoaXMuc3RhcnRSZWdpb25SZS50ZXN0KGxpbmUpKQogICAgICAgICAgICByZXR1cm4gInN0YXJ0IjsgLy8gbGluZUNvbW1lbnRSZWdpb25TdGFydAogICAgICAgIHJldHVybiBmdzsKICAgIH07CiAgICB0aGlzLmdldEZvbGRXaWRnZXRSYW5nZSA9IGZ1bmN0aW9uIChzZXNzaW9uLCBmb2xkU3R5bGUsIHJvdywgZm9yY2VNdWx0aWxpbmUpIHsKICAgICAgICB2YXIgbGluZSA9IHNlc3Npb24uZ2V0TGluZShyb3cpOwogICAgICAgIGlmICh0aGlzLnN0YXJ0UmVnaW9uUmUudGVzdChsaW5lKSkKICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q29tbWVudFJlZ2lvbkJsb2NrKHNlc3Npb24sIGxpbmUsIHJvdyk7CiAgICAgICAgdmFyIG1hdGNoID0gbGluZS5tYXRjaCh0aGlzLmZvbGRpbmdTdGFydE1hcmtlcik7CiAgICAgICAgaWYgKG1hdGNoKSB7CiAgICAgICAgICAgIHZhciBpID0gbWF0Y2guaW5kZXg7CiAgICAgICAgICAgIGlmIChtYXRjaFsxXSkKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm9wZW5pbmdCcmFja2V0QmxvY2soc2Vzc2lvbiwgbWF0Y2hbMV0sIHJvdywgaSk7CiAgICAgICAgICAgIHZhciByYW5nZSA9IHNlc3Npb24uZ2V0Q29tbWVudEZvbGRSYW5nZShyb3csIGkgKyBtYXRjaFswXS5sZW5ndGgsIDEpOwogICAgICAgICAgICBpZiAocmFuZ2UgJiYgIXJhbmdlLmlzTXVsdGlMaW5lKCkpIHsKICAgICAgICAgICAgICAgIGlmIChmb3JjZU11bHRpbGluZSkgewogICAgICAgICAgICAgICAgICAgIHJhbmdlID0gdGhpcy5nZXRTZWN0aW9uUmFuZ2Uoc2Vzc2lvbiwgcm93KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgaWYgKGZvbGRTdHlsZSAhPSAiYWxsIikKICAgICAgICAgICAgICAgICAgICByYW5nZSA9IG51bGw7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHJhbmdlOwogICAgICAgIH0KICAgICAgICBpZiAoZm9sZFN0eWxlID09PSAibWFya2JlZ2luIikKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIHZhciBtYXRjaCA9IGxpbmUubWF0Y2godGhpcy5mb2xkaW5nU3RvcE1hcmtlcik7CiAgICAgICAgaWYgKG1hdGNoKSB7CiAgICAgICAgICAgIHZhciBpID0gbWF0Y2guaW5kZXggKyBtYXRjaFswXS5sZW5ndGg7CiAgICAgICAgICAgIGlmIChtYXRjaFsxXSkKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNsb3NpbmdCcmFja2V0QmxvY2soc2Vzc2lvbiwgbWF0Y2hbMV0sIHJvdywgaSk7CiAgICAgICAgICAgIHJldHVybiBzZXNzaW9uLmdldENvbW1lbnRGb2xkUmFuZ2Uocm93LCBpLCAtMSk7CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMuZ2V0U2VjdGlvblJhbmdlID0gZnVuY3Rpb24gKHNlc3Npb24sIHJvdykgewogICAgICAgIHZhciBsaW5lID0gc2Vzc2lvbi5nZXRMaW5lKHJvdyk7CiAgICAgICAgdmFyIHN0YXJ0SW5kZW50ID0gbGluZS5zZWFyY2goL1xTLyk7CiAgICAgICAgdmFyIHN0YXJ0Um93ID0gcm93OwogICAgICAgIHZhciBzdGFydENvbHVtbiA9IGxpbmUubGVuZ3RoOwogICAgICAgIHJvdyA9IHJvdyArIDE7CiAgICAgICAgdmFyIGVuZFJvdyA9IHJvdzsKICAgICAgICB2YXIgbWF4Um93ID0gc2Vzc2lvbi5nZXRMZW5ndGgoKTsKICAgICAgICB3aGlsZSAoKytyb3cgPCBtYXhSb3cpIHsKICAgICAgICAgICAgbGluZSA9IHNlc3Npb24uZ2V0TGluZShyb3cpOwogICAgICAgICAgICB2YXIgaW5kZW50ID0gbGluZS5zZWFyY2goL1xTLyk7CiAgICAgICAgICAgIGlmIChpbmRlbnQgPT09IC0xKQogICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgIGlmIChzdGFydEluZGVudCA+IGluZGVudCkKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB2YXIgc3ViUmFuZ2UgPSB0aGlzLmdldEZvbGRXaWRnZXRSYW5nZShzZXNzaW9uLCAiYWxsIiwgcm93KTsKICAgICAgICAgICAgaWYgKHN1YlJhbmdlKSB7CiAgICAgICAgICAgICAgICBpZiAoc3ViUmFuZ2Uuc3RhcnQucm93IDw9IHN0YXJ0Um93KSB7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIGlmIChzdWJSYW5nZS5pc011bHRpTGluZSgpKSB7CiAgICAgICAgICAgICAgICAgICAgcm93ID0gc3ViUmFuZ2UuZW5kLnJvdzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgaWYgKHN0YXJ0SW5kZW50ID09IGluZGVudCkgewogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVuZFJvdyA9IHJvdzsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIG5ldyBSYW5nZShzdGFydFJvdywgc3RhcnRDb2x1bW4sIGVuZFJvdywgc2Vzc2lvbi5nZXRMaW5lKGVuZFJvdykubGVuZ3RoKTsKICAgIH07CiAgICB0aGlzLmdldENvbW1lbnRSZWdpb25CbG9jayA9IGZ1bmN0aW9uIChzZXNzaW9uLCBsaW5lLCByb3cpIHsKICAgICAgICB2YXIgc3RhcnRDb2x1bW4gPSBsaW5lLnNlYXJjaCgvXHMqJC8pOwogICAgICAgIHZhciBtYXhSb3cgPSBzZXNzaW9uLmdldExlbmd0aCgpOwogICAgICAgIHZhciBzdGFydFJvdyA9IHJvdzsKICAgICAgICB2YXIgcmUgPSAvXlxzKig/OlwvXCp8XC9cL3wtLSkjPyhlbmQpP3JlZ2lvblxiLzsKICAgICAgICB2YXIgZGVwdGggPSAxOwogICAgICAgIHdoaWxlICgrK3JvdyA8IG1heFJvdykgewogICAgICAgICAgICBsaW5lID0gc2Vzc2lvbi5nZXRMaW5lKHJvdyk7CiAgICAgICAgICAgIHZhciBtID0gcmUuZXhlYyhsaW5lKTsKICAgICAgICAgICAgaWYgKCFtKQogICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgIGlmIChtWzFdKQogICAgICAgICAgICAgICAgZGVwdGgtLTsKICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgZGVwdGgrKzsKICAgICAgICAgICAgaWYgKCFkZXB0aCkKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgICB2YXIgZW5kUm93ID0gcm93OwogICAgICAgIGlmIChlbmRSb3cgPiBzdGFydFJvdykgewogICAgICAgICAgICByZXR1cm4gbmV3IFJhbmdlKHN0YXJ0Um93LCBzdGFydENvbHVtbiwgZW5kUm93LCBsaW5lLmxlbmd0aCk7CiAgICAgICAgfQogICAgfTsKfSkuY2FsbChGb2xkTW9kZS5wcm90b3R5cGUpOwoKfSk7CgphY2UuZGVmaW5lKCJhY2UvbW9kZS9qc29uIixbInJlcXVpcmUiLCJleHBvcnRzIiwibW9kdWxlIiwiYWNlL2xpYi9vb3AiLCJhY2UvbW9kZS90ZXh0IiwiYWNlL21vZGUvanNvbl9oaWdobGlnaHRfcnVsZXMiLCJhY2UvbW9kZS9tYXRjaGluZ19icmFjZV9vdXRkZW50IiwiYWNlL21vZGUvYmVoYXZpb3VyL2NzdHlsZSIsImFjZS9tb2RlL2ZvbGRpbmcvY3N0eWxlIiwiYWNlL3dvcmtlci93b3JrZXJfY2xpZW50Il0sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSl7InVzZSBzdHJpY3QiOwp2YXIgb29wID0gcmVxdWlyZSgiLi4vbGliL29vcCIpOwp2YXIgVGV4dE1vZGUgPSByZXF1aXJlKCIuL3RleHQiKS5Nb2RlOwp2YXIgSGlnaGxpZ2h0UnVsZXMgPSByZXF1aXJlKCIuL2pzb25faGlnaGxpZ2h0X3J1bGVzIikuSnNvbkhpZ2hsaWdodFJ1bGVzOwp2YXIgTWF0Y2hpbmdCcmFjZU91dGRlbnQgPSByZXF1aXJlKCIuL21hdGNoaW5nX2JyYWNlX291dGRlbnQiKS5NYXRjaGluZ0JyYWNlT3V0ZGVudDsKdmFyIENzdHlsZUJlaGF2aW91ciA9IHJlcXVpcmUoIi4vYmVoYXZpb3VyL2NzdHlsZSIpLkNzdHlsZUJlaGF2aW91cjsKdmFyIENTdHlsZUZvbGRNb2RlID0gcmVxdWlyZSgiLi9mb2xkaW5nL2NzdHlsZSIpLkZvbGRNb2RlOwp2YXIgV29ya2VyQ2xpZW50ID0gcmVxdWlyZSgiLi4vd29ya2VyL3dvcmtlcl9jbGllbnQiKS5Xb3JrZXJDbGllbnQ7CnZhciBNb2RlID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy5IaWdobGlnaHRSdWxlcyA9IEhpZ2hsaWdodFJ1bGVzOwogICAgdGhpcy4kb3V0ZGVudCA9IG5ldyBNYXRjaGluZ0JyYWNlT3V0ZGVudCgpOwogICAgdGhpcy4kYmVoYXZpb3VyID0gbmV3IENzdHlsZUJlaGF2aW91cigpOwogICAgdGhpcy5mb2xkaW5nUnVsZXMgPSBuZXcgQ1N0eWxlRm9sZE1vZGUoKTsKfTsKb29wLmluaGVyaXRzKE1vZGUsIFRleHRNb2RlKTsKKGZ1bmN0aW9uICgpIHsKICAgIHRoaXMubGluZUNvbW1lbnRTdGFydCA9ICIvLyI7CiAgICB0aGlzLmJsb2NrQ29tbWVudCA9IHsgc3RhcnQ6ICIvKiIsIGVuZDogIiovIiB9OwogICAgdGhpcy5nZXROZXh0TGluZUluZGVudCA9IGZ1bmN0aW9uIChzdGF0ZSwgbGluZSwgdGFiKSB7CiAgICAgICAgdmFyIGluZGVudCA9IHRoaXMuJGdldEluZGVudChsaW5lKTsKICAgICAgICBpZiAoc3RhdGUgPT0gInN0YXJ0IikgewogICAgICAgICAgICB2YXIgbWF0Y2ggPSBsaW5lLm1hdGNoKC9eLipbXHtcKFxbXVxzKiQvKTsKICAgICAgICAgICAgaWYgKG1hdGNoKSB7CiAgICAgICAgICAgICAgICBpbmRlbnQgKz0gdGFiOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBpbmRlbnQ7CiAgICB9OwogICAgdGhpcy5jaGVja091dGRlbnQgPSBmdW5jdGlvbiAoc3RhdGUsIGxpbmUsIGlucHV0KSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJG91dGRlbnQuY2hlY2tPdXRkZW50KGxpbmUsIGlucHV0KTsKICAgIH07CiAgICB0aGlzLmF1dG9PdXRkZW50ID0gZnVuY3Rpb24gKHN0YXRlLCBkb2MsIHJvdykgewogICAgICAgIHRoaXMuJG91dGRlbnQuYXV0b091dGRlbnQoZG9jLCByb3cpOwogICAgfTsKICAgIHRoaXMuY3JlYXRlV29ya2VyID0gZnVuY3Rpb24gKHNlc3Npb24pIHsKICAgICAgICB2YXIgd29ya2VyID0gbmV3IFdvcmtlckNsaWVudChbImFjZSJdLCAiYWNlL21vZGUvanNvbl93b3JrZXIiLCAiSnNvbldvcmtlciIpOwogICAgICAgIHdvcmtlci5hdHRhY2hUb0RvY3VtZW50KHNlc3Npb24uZ2V0RG9jdW1lbnQoKSk7CiAgICAgICAgd29ya2VyLm9uKCJhbm5vdGF0ZSIsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIHNlc3Npb24uc2V0QW5ub3RhdGlvbnMoZS5kYXRhKTsKICAgICAgICB9KTsKICAgICAgICB3b3JrZXIub24oInRlcm1pbmF0ZSIsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgc2Vzc2lvbi5jbGVhckFubm90YXRpb25zKCk7CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIHdvcmtlcjsKICAgIH07CiAgICB0aGlzLiRpZCA9ICJhY2UvbW9kZS9qc29uIjsKfSkuY2FsbChNb2RlLnByb3RvdHlwZSk7CmV4cG9ydHMuTW9kZSA9IE1vZGU7Cgp9KTsgICAgICAgICAgICAgICAgKGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgIGFjZS5yZXF1aXJlKFsiYWNlL21vZGUvanNvbiJdLCBmdW5jdGlvbihtKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbW9kdWxlID09ICJvYmplY3QiICYmIHR5cGVvZiBleHBvcnRzID09ICJvYmplY3QiICYmIG1vZHVsZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBtOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KSgpOwogICAgICAgICAgICA=", workerJsonUrl = "data:application/javascript;base64,Im5vIHVzZSBzdHJpY3QiOwohKGZ1bmN0aW9uKHdpbmRvdykgewppZiAodHlwZW9mIHdpbmRvdy53aW5kb3cgIT0gInVuZGVmaW5lZCIgJiYgd2luZG93LmRvY3VtZW50KQogICAgcmV0dXJuOwppZiAod2luZG93LnJlcXVpcmUgJiYgd2luZG93LmRlZmluZSkKICAgIHJldHVybjsKCmlmICghd2luZG93LmNvbnNvbGUpIHsKICAgIHdpbmRvdy5jb25zb2xlID0gZnVuY3Rpb24oKSB7CiAgICAgICAgdmFyIG1zZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDApOwogICAgICAgIHBvc3RNZXNzYWdlKHt0eXBlOiAibG9nIiwgZGF0YTogbXNnc30pOwogICAgfTsKICAgIHdpbmRvdy5jb25zb2xlLmVycm9yID0KICAgIHdpbmRvdy5jb25zb2xlLndhcm4gPSAKICAgIHdpbmRvdy5jb25zb2xlLmxvZyA9CiAgICB3aW5kb3cuY29uc29sZS50cmFjZSA9IHdpbmRvdy5jb25zb2xlOwp9CndpbmRvdy53aW5kb3cgPSB3aW5kb3c7CndpbmRvdy5hY2UgPSB3aW5kb3c7Cgp3aW5kb3cub25lcnJvciA9IGZ1bmN0aW9uKG1lc3NhZ2UsIGZpbGUsIGxpbmUsIGNvbCwgZXJyKSB7CiAgICBwb3N0TWVzc2FnZSh7dHlwZTogImVycm9yIiwgZGF0YTogewogICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsCiAgICAgICAgZGF0YTogZXJyICYmIGVyci5kYXRhLAogICAgICAgIGZpbGU6IGZpbGUsCiAgICAgICAgbGluZTogbGluZSwgCiAgICAgICAgY29sOiBjb2wsCiAgICAgICAgc3RhY2s6IGVyciAmJiBlcnIuc3RhY2sKICAgIH19KTsKfTsKCndpbmRvdy5ub3JtYWxpemVNb2R1bGUgPSBmdW5jdGlvbihwYXJlbnRJZCwgbW9kdWxlTmFtZSkgewogICAgLy8gbm9ybWFsaXplIHBsdWdpbiByZXF1aXJlcwogICAgaWYgKG1vZHVsZU5hbWUuaW5kZXhPZigiISIpICE9PSAtMSkgewogICAgICAgIHZhciBjaHVua3MgPSBtb2R1bGVOYW1lLnNwbGl0KCIhIik7CiAgICAgICAgcmV0dXJuIHdpbmRvdy5ub3JtYWxpemVNb2R1bGUocGFyZW50SWQsIGNodW5rc1swXSkgKyAiISIgKyB3aW5kb3cubm9ybWFsaXplTW9kdWxlKHBhcmVudElkLCBjaHVua3NbMV0pOwogICAgfQogICAgLy8gbm9ybWFsaXplIHJlbGF0aXZlIHJlcXVpcmVzCiAgICBpZiAobW9kdWxlTmFtZS5jaGFyQXQoMCkgPT0gIi4iKSB7CiAgICAgICAgdmFyIGJhc2UgPSBwYXJlbnRJZC5zcGxpdCgiLyIpLnNsaWNlKDAsIC0xKS5qb2luKCIvIik7CiAgICAgICAgbW9kdWxlTmFtZSA9IChiYXNlID8gYmFzZSArICIvIiA6ICIiKSArIG1vZHVsZU5hbWU7CiAgICAgICAgCiAgICAgICAgd2hpbGUgKG1vZHVsZU5hbWUuaW5kZXhPZigiLiIpICE9PSAtMSAmJiBwcmV2aW91cyAhPSBtb2R1bGVOYW1lKSB7CiAgICAgICAgICAgIHZhciBwcmV2aW91cyA9IG1vZHVsZU5hbWU7CiAgICAgICAgICAgIG1vZHVsZU5hbWUgPSBtb2R1bGVOYW1lLnJlcGxhY2UoL15cLlwvLywgIiIpLnJlcGxhY2UoL1wvXC5cLy8sICIvIikucmVwbGFjZSgvW15cL10rXC9cLlwuXC8vLCAiIik7CiAgICAgICAgfQogICAgfQogICAgCiAgICByZXR1cm4gbW9kdWxlTmFtZTsKfTsKCndpbmRvdy5yZXF1aXJlID0gZnVuY3Rpb24gcmVxdWlyZShwYXJlbnRJZCwgaWQpIHsKICAgIGlmICghaWQpIHsKICAgICAgICBpZCA9IHBhcmVudElkOwogICAgICAgIHBhcmVudElkID0gbnVsbDsKICAgIH0KICAgIGlmICghaWQuY2hhckF0KQogICAgICAgIHRocm93IG5ldyBFcnJvcigid29ya2VyLmpzIHJlcXVpcmUoKSBhY2NlcHRzIG9ubHkgKHBhcmVudElkLCBpZCkgYXMgYXJndW1lbnRzIik7CgogICAgaWQgPSB3aW5kb3cubm9ybWFsaXplTW9kdWxlKHBhcmVudElkLCBpZCk7CgogICAgdmFyIG1vZHVsZSA9IHdpbmRvdy5yZXF1aXJlLm1vZHVsZXNbaWRdOwogICAgaWYgKG1vZHVsZSkgewogICAgICAgIGlmICghbW9kdWxlLmluaXRpYWxpemVkKSB7CiAgICAgICAgICAgIG1vZHVsZS5pbml0aWFsaXplZCA9IHRydWU7CiAgICAgICAgICAgIG1vZHVsZS5leHBvcnRzID0gbW9kdWxlLmZhY3RvcnkoKS5leHBvcnRzOwogICAgICAgIH0KICAgICAgICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7CiAgICB9CiAgIAogICAgaWYgKCF3aW5kb3cucmVxdWlyZS50bG5zKQogICAgICAgIHJldHVybiBjb25zb2xlLmxvZygidW5hYmxlIHRvIGxvYWQgIiArIGlkKTsKICAgIAogICAgdmFyIHBhdGggPSByZXNvbHZlTW9kdWxlSWQoaWQsIHdpbmRvdy5yZXF1aXJlLnRsbnMpOwogICAgaWYgKHBhdGguc2xpY2UoLTMpICE9ICIuanMiKSBwYXRoICs9ICIuanMiOwogICAgCiAgICB3aW5kb3cucmVxdWlyZS5pZCA9IGlkOwogICAgd2luZG93LnJlcXVpcmUubW9kdWxlc1tpZF0gPSB7fTsgLy8gcHJldmVudCBpbmZpbml0ZSBsb29wIG9uIGJyb2tlbiBtb2R1bGVzCiAgICBpbXBvcnRTY3JpcHRzKHBhdGgpOwogICAgcmV0dXJuIHdpbmRvdy5yZXF1aXJlKHBhcmVudElkLCBpZCk7Cn07CmZ1bmN0aW9uIHJlc29sdmVNb2R1bGVJZChpZCwgcGF0aHMpIHsKICAgIHZhciB0ZXN0UGF0aCA9IGlkLCB0YWlsID0gIiI7CiAgICB3aGlsZSAodGVzdFBhdGgpIHsKICAgICAgICB2YXIgYWxpYXMgPSBwYXRoc1t0ZXN0UGF0aF07CiAgICAgICAgaWYgKHR5cGVvZiBhbGlhcyA9PSAic3RyaW5nIikgewogICAgICAgICAgICByZXR1cm4gYWxpYXMgKyB0YWlsOwogICAgICAgIH0gZWxzZSBpZiAoYWxpYXMpIHsKICAgICAgICAgICAgcmV0dXJuICBhbGlhcy5sb2NhdGlvbi5yZXBsYWNlKC9cLyokLywgIi8iKSArICh0YWlsIHx8IGFsaWFzLm1haW4gfHwgYWxpYXMubmFtZSk7CiAgICAgICAgfSBlbHNlIGlmIChhbGlhcyA9PT0gZmFsc2UpIHsKICAgICAgICAgICAgcmV0dXJuICIiOwogICAgICAgIH0KICAgICAgICB2YXIgaSA9IHRlc3RQYXRoLmxhc3RJbmRleE9mKCIvIik7CiAgICAgICAgaWYgKGkgPT09IC0xKSBicmVhazsKICAgICAgICB0YWlsID0gdGVzdFBhdGguc3Vic3RyKGkpICsgdGFpbDsKICAgICAgICB0ZXN0UGF0aCA9IHRlc3RQYXRoLnNsaWNlKDAsIGkpOwogICAgfQogICAgcmV0dXJuIGlkOwp9CndpbmRvdy5yZXF1aXJlLm1vZHVsZXMgPSB7fTsKd2luZG93LnJlcXVpcmUudGxucyA9IHt9OwoKd2luZG93LmRlZmluZSA9IGZ1bmN0aW9uKGlkLCBkZXBzLCBmYWN0b3J5KSB7CiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PSAyKSB7CiAgICAgICAgZmFjdG9yeSA9IGRlcHM7CiAgICAgICAgaWYgKHR5cGVvZiBpZCAhPSAic3RyaW5nIikgewogICAgICAgICAgICBkZXBzID0gaWQ7CiAgICAgICAgICAgIGlkID0gd2luZG93LnJlcXVpcmUuaWQ7CiAgICAgICAgfQogICAgfSBlbHNlIGlmIChhcmd1bWVudHMubGVuZ3RoID09IDEpIHsKICAgICAgICBmYWN0b3J5ID0gaWQ7CiAgICAgICAgZGVwcyA9IFtdOwogICAgICAgIGlkID0gd2luZG93LnJlcXVpcmUuaWQ7CiAgICB9CiAgICAKICAgIGlmICh0eXBlb2YgZmFjdG9yeSAhPSAiZnVuY3Rpb24iKSB7CiAgICAgICAgd2luZG93LnJlcXVpcmUubW9kdWxlc1tpZF0gPSB7CiAgICAgICAgICAgIGV4cG9ydHM6IGZhY3RvcnksCiAgICAgICAgICAgIGluaXRpYWxpemVkOiB0cnVlCiAgICAgICAgfTsKICAgICAgICByZXR1cm47CiAgICB9CgogICAgaWYgKCFkZXBzLmxlbmd0aCkKICAgICAgICAvLyBJZiB0aGVyZSBpcyBubyBkZXBlbmRlbmNpZXMsIHdlIGluamVjdCAicmVxdWlyZSIsICJleHBvcnRzIiBhbmQKICAgICAgICAvLyAibW9kdWxlIiBhcyBkZXBlbmRlbmNpZXMsIHRvIHByb3ZpZGUgQ29tbW9uSlMgY29tcGF0aWJpbGl0eS4KICAgICAgICBkZXBzID0gWyJyZXF1aXJlIiwgImV4cG9ydHMiLCAibW9kdWxlIl07CgogICAgdmFyIHJlcSA9IGZ1bmN0aW9uKGNoaWxkSWQpIHsKICAgICAgICByZXR1cm4gd2luZG93LnJlcXVpcmUoaWQsIGNoaWxkSWQpOwogICAgfTsKCiAgICB3aW5kb3cucmVxdWlyZS5tb2R1bGVzW2lkXSA9IHsKICAgICAgICBleHBvcnRzOiB7fSwKICAgICAgICBmYWN0b3J5OiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgdmFyIG1vZHVsZSA9IHRoaXM7CiAgICAgICAgICAgIHZhciByZXR1cm5FeHBvcnRzID0gZmFjdG9yeS5hcHBseSh0aGlzLCBkZXBzLnNsaWNlKDAsIGZhY3RvcnkubGVuZ3RoKS5tYXAoZnVuY3Rpb24oZGVwKSB7CiAgICAgICAgICAgICAgICBzd2l0Y2ggKGRlcCkgewogICAgICAgICAgICAgICAgICAgIC8vIEJlY2F1c2UgInJlcXVpcmUiLCAiZXhwb3J0cyIgYW5kICJtb2R1bGUiIGFyZW4ndCBhY3R1YWwKICAgICAgICAgICAgICAgICAgICAvLyBkZXBlbmRlbmNpZXMsIHdlIG11c3QgaGFuZGxlIHRoZW0gc2VwZXJhdGVseS4KICAgICAgICAgICAgICAgICAgICBjYXNlICJyZXF1aXJlIjogcmV0dXJuIHJlcTsKICAgICAgICAgICAgICAgICAgICBjYXNlICJleHBvcnRzIjogcmV0dXJuIG1vZHVsZS5leHBvcnRzOwogICAgICAgICAgICAgICAgICAgIGNhc2UgIm1vZHVsZSI6ICByZXR1cm4gbW9kdWxlOwogICAgICAgICAgICAgICAgICAgIC8vIEJ1dCBmb3IgYWxsIG90aGVyIGRlcGVuZGVuY2llcywgd2UgY2FuIGp1c3QgZ28gYWhlYWQgYW5kCiAgICAgICAgICAgICAgICAgICAgLy8gcmVxdWlyZSB0aGVtLgogICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6ICAgICAgICByZXR1cm4gcmVxKGRlcCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pKTsKICAgICAgICAgICAgaWYgKHJldHVybkV4cG9ydHMpCiAgICAgICAgICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IHJldHVybkV4cG9ydHM7CiAgICAgICAgICAgIHJldHVybiBtb2R1bGU7CiAgICAgICAgfQogICAgfTsKfTsKd2luZG93LmRlZmluZS5hbWQgPSB7fTsKd2luZG93LnJlcXVpcmUudGxucyA9IHt9Owp3aW5kb3cuaW5pdEJhc2VVcmxzICA9IGZ1bmN0aW9uIGluaXRCYXNlVXJscyh0b3BMZXZlbE5hbWVzcGFjZXMpIHsKICAgIGZvciAodmFyIGkgaW4gdG9wTGV2ZWxOYW1lc3BhY2VzKQogICAgICAgIHRoaXMucmVxdWlyZS50bG5zW2ldID0gdG9wTGV2ZWxOYW1lc3BhY2VzW2ldOwp9OwoKd2luZG93LmluaXRTZW5kZXIgPSBmdW5jdGlvbiBpbml0U2VuZGVyKCkgewoKICAgIHZhciBFdmVudEVtaXR0ZXIgPSB3aW5kb3cucmVxdWlyZSgiYWNlL2xpYi9ldmVudF9lbWl0dGVyIikuRXZlbnRFbWl0dGVyOwogICAgdmFyIG9vcCA9IHdpbmRvdy5yZXF1aXJlKCJhY2UvbGliL29vcCIpOwogICAgCiAgICB2YXIgU2VuZGVyID0gZnVuY3Rpb24oKSB7fTsKICAgIAogICAgKGZ1bmN0aW9uKCkgewogICAgICAgIAogICAgICAgIG9vcC5pbXBsZW1lbnQodGhpcywgRXZlbnRFbWl0dGVyKTsKICAgICAgICAgICAgICAgIAogICAgICAgIHRoaXMuY2FsbGJhY2sgPSBmdW5jdGlvbihkYXRhLCBjYWxsYmFja0lkKSB7CiAgICAgICAgICAgIHBvc3RNZXNzYWdlKHsKICAgICAgICAgICAgICAgIHR5cGU6ICJjYWxsIiwKICAgICAgICAgICAgICAgIGlkOiBjYWxsYmFja0lkLAogICAgICAgICAgICAgICAgZGF0YTogZGF0YQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgCiAgICAgICAgdGhpcy5lbWl0ID0gZnVuY3Rpb24obmFtZSwgZGF0YSkgewogICAgICAgICAgICBwb3N0TWVzc2FnZSh7CiAgICAgICAgICAgICAgICB0eXBlOiAiZXZlbnQiLAogICAgICAgICAgICAgICAgbmFtZTogbmFtZSwKICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEKICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICAKICAgIH0pLmNhbGwoU2VuZGVyLnByb3RvdHlwZSk7CiAgICAKICAgIHJldHVybiBuZXcgU2VuZGVyKCk7Cn07Cgp2YXIgbWFpbiA9IHdpbmRvdy5tYWluID0gbnVsbDsKdmFyIHNlbmRlciA9IHdpbmRvdy5zZW5kZXIgPSBudWxsOwoKd2luZG93Lm9ubWVzc2FnZSA9IGZ1bmN0aW9uKGUpIHsKICAgIHZhciBtc2cgPSBlLmRhdGE7CiAgICBpZiAobXNnLmV2ZW50ICYmIHNlbmRlcikgewogICAgICAgIHNlbmRlci5fc2lnbmFsKG1zZy5ldmVudCwgbXNnLmRhdGEpOwogICAgfQogICAgZWxzZSBpZiAobXNnLmNvbW1hbmQpIHsKICAgICAgICBpZiAobWFpblttc2cuY29tbWFuZF0pCiAgICAgICAgICAgIG1haW5bbXNnLmNvbW1hbmRdLmFwcGx5KG1haW4sIG1zZy5hcmdzKTsKICAgICAgICBlbHNlIGlmICh3aW5kb3dbbXNnLmNvbW1hbmRdKQogICAgICAgICAgICB3aW5kb3dbbXNnLmNvbW1hbmRdLmFwcGx5KHdpbmRvdywgbXNnLmFyZ3MpOwogICAgICAgIGVsc2UKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJVbmtub3duIGNvbW1hbmQ6IiArIG1zZy5jb21tYW5kKTsKICAgIH0KICAgIGVsc2UgaWYgKG1zZy5pbml0KSB7CiAgICAgICAgd2luZG93LmluaXRCYXNlVXJscyhtc2cudGxucyk7CiAgICAgICAgc2VuZGVyID0gd2luZG93LnNlbmRlciA9IHdpbmRvdy5pbml0U2VuZGVyKCk7CiAgICAgICAgdmFyIGNsYXp6ID0gdGhpcy5yZXF1aXJlKG1zZy5tb2R1bGUpW21zZy5jbGFzc25hbWVdOwogICAgICAgIG1haW4gPSB3aW5kb3cubWFpbiA9IG5ldyBjbGF6eihzZW5kZXIpOwogICAgfQp9Owp9KSh0aGlzKTsKCmFjZS5kZWZpbmUoImFjZS9saWIvb29wIixbXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKXsidXNlIHN0cmljdCI7CmV4cG9ydHMuaW5oZXJpdHMgPSBmdW5jdGlvbiAoY3Rvciwgc3VwZXJDdG9yKSB7CiAgICBjdG9yLnN1cGVyXyA9IHN1cGVyQ3RvcjsKICAgIGN0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckN0b3IucHJvdG90eXBlLCB7CiAgICAgICAgY29uc3RydWN0b3I6IHsKICAgICAgICAgICAgdmFsdWU6IGN0b3IsCiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLAogICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSwKICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlCiAgICAgICAgfQogICAgfSk7Cn07CmV4cG9ydHMubWl4aW4gPSBmdW5jdGlvbiAob2JqLCBtaXhpbikgewogICAgZm9yICh2YXIga2V5IGluIG1peGluKSB7CiAgICAgICAgb2JqW2tleV0gPSBtaXhpbltrZXldOwogICAgfQogICAgcmV0dXJuIG9iajsKfTsKZXhwb3J0cy5pbXBsZW1lbnQgPSBmdW5jdGlvbiAocHJvdG8sIG1peGluKSB7CiAgICBleHBvcnRzLm1peGluKHByb3RvLCBtaXhpbik7Cn07Cgp9KTsKCmFjZS5kZWZpbmUoImFjZS9hcHBseV9kZWx0YSIsW10sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSl7InVzZSBzdHJpY3QiOwpmdW5jdGlvbiB0aHJvd0RlbHRhRXJyb3IoZGVsdGEsIGVycm9yVGV4dCkgewogICAgY29uc29sZS5sb2coIkludmFsaWQgRGVsdGE6IiwgZGVsdGEpOwogICAgdGhyb3cgIkludmFsaWQgRGVsdGE6ICIgKyBlcnJvclRleHQ7Cn0KZnVuY3Rpb24gcG9zaXRpb25JbkRvY3VtZW50KGRvY0xpbmVzLCBwb3NpdGlvbikgewogICAgcmV0dXJuIHBvc2l0aW9uLnJvdyA+PSAwICYmIHBvc2l0aW9uLnJvdyA8IGRvY0xpbmVzLmxlbmd0aCAmJgogICAgICAgIHBvc2l0aW9uLmNvbHVtbiA+PSAwICYmIHBvc2l0aW9uLmNvbHVtbiA8PSBkb2NMaW5lc1twb3NpdGlvbi5yb3ddLmxlbmd0aDsKfQpmdW5jdGlvbiB2YWxpZGF0ZURlbHRhKGRvY0xpbmVzLCBkZWx0YSkgewogICAgaWYgKGRlbHRhLmFjdGlvbiAhPSAiaW5zZXJ0IiAmJiBkZWx0YS5hY3Rpb24gIT0gInJlbW92ZSIpCiAgICAgICAgdGhyb3dEZWx0YUVycm9yKGRlbHRhLCAiZGVsdGEuYWN0aW9uIG11c3QgYmUgJ2luc2VydCcgb3IgJ3JlbW92ZSciKTsKICAgIGlmICghKGRlbHRhLmxpbmVzIGluc3RhbmNlb2YgQXJyYXkpKQogICAgICAgIHRocm93RGVsdGFFcnJvcihkZWx0YSwgImRlbHRhLmxpbmVzIG11c3QgYmUgYW4gQXJyYXkiKTsKICAgIGlmICghZGVsdGEuc3RhcnQgfHwgIWRlbHRhLmVuZCkKICAgICAgICB0aHJvd0RlbHRhRXJyb3IoZGVsdGEsICJkZWx0YS5zdGFydC9lbmQgbXVzdCBiZSBhbiBwcmVzZW50Iik7CiAgICB2YXIgc3RhcnQgPSBkZWx0YS5zdGFydDsKICAgIGlmICghcG9zaXRpb25JbkRvY3VtZW50KGRvY0xpbmVzLCBkZWx0YS5zdGFydCkpCiAgICAgICAgdGhyb3dEZWx0YUVycm9yKGRlbHRhLCAiZGVsdGEuc3RhcnQgbXVzdCBiZSBjb250YWluZWQgaW4gZG9jdW1lbnQiKTsKICAgIHZhciBlbmQgPSBkZWx0YS5lbmQ7CiAgICBpZiAoZGVsdGEuYWN0aW9uID09ICJyZW1vdmUiICYmICFwb3NpdGlvbkluRG9jdW1lbnQoZG9jTGluZXMsIGVuZCkpCiAgICAgICAgdGhyb3dEZWx0YUVycm9yKGRlbHRhLCAiZGVsdGEuZW5kIG11c3QgY29udGFpbmVkIGluIGRvY3VtZW50IGZvciAncmVtb3ZlJyBhY3Rpb25zIik7CiAgICB2YXIgbnVtUmFuZ2VSb3dzID0gZW5kLnJvdyAtIHN0YXJ0LnJvdzsKICAgIHZhciBudW1SYW5nZUxhc3RMaW5lQ2hhcnMgPSAoZW5kLmNvbHVtbiAtIChudW1SYW5nZVJvd3MgPT0gMCA/IHN0YXJ0LmNvbHVtbiA6IDApKTsKICAgIGlmIChudW1SYW5nZVJvd3MgIT0gZGVsdGEubGluZXMubGVuZ3RoIC0gMSB8fCBkZWx0YS5saW5lc1tudW1SYW5nZVJvd3NdLmxlbmd0aCAhPSBudW1SYW5nZUxhc3RMaW5lQ2hhcnMpCiAgICAgICAgdGhyb3dEZWx0YUVycm9yKGRlbHRhLCAiZGVsdGEucmFuZ2UgbXVzdCBtYXRjaCBkZWx0YSBsaW5lcyIpOwp9CmV4cG9ydHMuYXBwbHlEZWx0YSA9IGZ1bmN0aW9uIChkb2NMaW5lcywgZGVsdGEsIGRvTm90VmFsaWRhdGUpIHsKICAgIHZhciByb3cgPSBkZWx0YS5zdGFydC5yb3c7CiAgICB2YXIgc3RhcnRDb2x1bW4gPSBkZWx0YS5zdGFydC5jb2x1bW47CiAgICB2YXIgbGluZSA9IGRvY0xpbmVzW3Jvd10gfHwgIiI7CiAgICBzd2l0Y2ggKGRlbHRhLmFjdGlvbikgewogICAgICAgIGNhc2UgImluc2VydCI6CiAgICAgICAgICAgIHZhciBsaW5lcyA9IGRlbHRhLmxpbmVzOwogICAgICAgICAgICBpZiAobGluZXMubGVuZ3RoID09PSAxKSB7CiAgICAgICAgICAgICAgICBkb2NMaW5lc1tyb3ddID0gbGluZS5zdWJzdHJpbmcoMCwgc3RhcnRDb2x1bW4pICsgZGVsdGEubGluZXNbMF0gKyBsaW5lLnN1YnN0cmluZyhzdGFydENvbHVtbik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICB2YXIgYXJncyA9IFtyb3csIDFdLmNvbmNhdChkZWx0YS5saW5lcyk7CiAgICAgICAgICAgICAgICBkb2NMaW5lcy5zcGxpY2UuYXBwbHkoZG9jTGluZXMsIGFyZ3MpOwogICAgICAgICAgICAgICAgZG9jTGluZXNbcm93XSA9IGxpbmUuc3Vic3RyaW5nKDAsIHN0YXJ0Q29sdW1uKSArIGRvY0xpbmVzW3Jvd107CiAgICAgICAgICAgICAgICBkb2NMaW5lc1tyb3cgKyBkZWx0YS5saW5lcy5sZW5ndGggLSAxXSArPSBsaW5lLnN1YnN0cmluZyhzdGFydENvbHVtbik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAicmVtb3ZlIjoKICAgICAgICAgICAgdmFyIGVuZENvbHVtbiA9IGRlbHRhLmVuZC5jb2x1bW47CiAgICAgICAgICAgIHZhciBlbmRSb3cgPSBkZWx0YS5lbmQucm93OwogICAgICAgICAgICBpZiAocm93ID09PSBlbmRSb3cpIHsKICAgICAgICAgICAgICAgIGRvY0xpbmVzW3Jvd10gPSBsaW5lLnN1YnN0cmluZygwLCBzdGFydENvbHVtbikgKyBsaW5lLnN1YnN0cmluZyhlbmRDb2x1bW4pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgZG9jTGluZXMuc3BsaWNlKHJvdywgZW5kUm93IC0gcm93ICsgMSwgbGluZS5zdWJzdHJpbmcoMCwgc3RhcnRDb2x1bW4pICsgZG9jTGluZXNbZW5kUm93XS5zdWJzdHJpbmcoZW5kQ29sdW1uKSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgYnJlYWs7CiAgICB9Cn07Cgp9KTsKCmFjZS5kZWZpbmUoImFjZS9saWIvZXZlbnRfZW1pdHRlciIsW10sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSl7InVzZSBzdHJpY3QiOwp2YXIgRXZlbnRFbWl0dGVyID0ge307CnZhciBzdG9wUHJvcGFnYXRpb24gPSBmdW5jdGlvbiAoKSB7IHRoaXMucHJvcGFnYXRpb25TdG9wcGVkID0gdHJ1ZTsgfTsKdmFyIHByZXZlbnREZWZhdWx0ID0gZnVuY3Rpb24gKCkgeyB0aGlzLmRlZmF1bHRQcmV2ZW50ZWQgPSB0cnVlOyB9OwpFdmVudEVtaXR0ZXIuX2VtaXQgPQogICAgRXZlbnRFbWl0dGVyLl9kaXNwYXRjaEV2ZW50ID0gZnVuY3Rpb24gKGV2ZW50TmFtZSwgZSkgewogICAgICAgIHRoaXMuX2V2ZW50UmVnaXN0cnkgfHwgKHRoaXMuX2V2ZW50UmVnaXN0cnkgPSB7fSk7CiAgICAgICAgdGhpcy5fZGVmYXVsdEhhbmRsZXJzIHx8ICh0aGlzLl9kZWZhdWx0SGFuZGxlcnMgPSB7fSk7CiAgICAgICAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50UmVnaXN0cnlbZXZlbnROYW1lXSB8fCBbXTsKICAgICAgICB2YXIgZGVmYXVsdEhhbmRsZXIgPSB0aGlzLl9kZWZhdWx0SGFuZGxlcnNbZXZlbnROYW1lXTsKICAgICAgICBpZiAoIWxpc3RlbmVycy5sZW5ndGggJiYgIWRlZmF1bHRIYW5kbGVyKQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgaWYgKHR5cGVvZiBlICE9ICJvYmplY3QiIHx8ICFlKQogICAgICAgICAgICBlID0ge307CiAgICAgICAgaWYgKCFlLnR5cGUpCiAgICAgICAgICAgIGUudHlwZSA9IGV2ZW50TmFtZTsKICAgICAgICBpZiAoIWUuc3RvcFByb3BhZ2F0aW9uKQogICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbiA9IHN0b3BQcm9wYWdhdGlvbjsKICAgICAgICBpZiAoIWUucHJldmVudERlZmF1bHQpCiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQgPSBwcmV2ZW50RGVmYXVsdDsKICAgICAgICBsaXN0ZW5lcnMgPSBsaXN0ZW5lcnMuc2xpY2UoKTsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBsaXN0ZW5lcnNbaV0oZSwgdGhpcyk7CiAgICAgICAgICAgIGlmIChlLnByb3BhZ2F0aW9uU3RvcHBlZCkKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgICBpZiAoZGVmYXVsdEhhbmRsZXIgJiYgIWUuZGVmYXVsdFByZXZlbnRlZCkKICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRIYW5kbGVyKGUsIHRoaXMpOwogICAgfTsKRXZlbnRFbWl0dGVyLl9zaWduYWwgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBlKSB7CiAgICB2YXIgbGlzdGVuZXJzID0gKHRoaXMuX2V2ZW50UmVnaXN0cnkgfHwge30pW2V2ZW50TmFtZV07CiAgICBpZiAoIWxpc3RlbmVycykKICAgICAgICByZXR1cm47CiAgICBsaXN0ZW5lcnMgPSBsaXN0ZW5lcnMuc2xpY2UoKTsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdGVuZXJzLmxlbmd0aDsgaSsrKQogICAgICAgIGxpc3RlbmVyc1tpXShlLCB0aGlzKTsKfTsKRXZlbnRFbWl0dGVyLm9uY2UgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBjYWxsYmFjaykgewogICAgdmFyIF9zZWxmID0gdGhpczsKICAgIHRoaXMub24oZXZlbnROYW1lLCBmdW5jdGlvbiBuZXdDYWxsYmFjaygpIHsKICAgICAgICBfc2VsZi5vZmYoZXZlbnROYW1lLCBuZXdDYWxsYmFjayk7CiAgICAgICAgY2FsbGJhY2suYXBwbHkobnVsbCwgYXJndW1lbnRzKTsKICAgIH0pOwogICAgaWYgKCFjYWxsYmFjaykgewogICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICBjYWxsYmFjayA9IHJlc29sdmU7CiAgICAgICAgfSk7CiAgICB9Cn07CkV2ZW50RW1pdHRlci5zZXREZWZhdWx0SGFuZGxlciA9IGZ1bmN0aW9uIChldmVudE5hbWUsIGNhbGxiYWNrKSB7CiAgICB2YXIgaGFuZGxlcnMgPSB0aGlzLl9kZWZhdWx0SGFuZGxlcnM7CiAgICBpZiAoIWhhbmRsZXJzKQogICAgICAgIGhhbmRsZXJzID0gdGhpcy5fZGVmYXVsdEhhbmRsZXJzID0geyBfZGlzYWJsZWRfOiB7fSB9OwogICAgaWYgKGhhbmRsZXJzW2V2ZW50TmFtZV0pIHsKICAgICAgICB2YXIgb2xkID0gaGFuZGxlcnNbZXZlbnROYW1lXTsKICAgICAgICB2YXIgZGlzYWJsZWQgPSBoYW5kbGVycy5fZGlzYWJsZWRfW2V2ZW50TmFtZV07CiAgICAgICAgaWYgKCFkaXNhYmxlZCkKICAgICAgICAgICAgaGFuZGxlcnMuX2Rpc2FibGVkX1tldmVudE5hbWVdID0gZGlzYWJsZWQgPSBbXTsKICAgICAgICBkaXNhYmxlZC5wdXNoKG9sZCk7CiAgICAgICAgdmFyIGkgPSBkaXNhYmxlZC5pbmRleE9mKGNhbGxiYWNrKTsKICAgICAgICBpZiAoaSAhPSAtMSkKICAgICAgICAgICAgZGlzYWJsZWQuc3BsaWNlKGksIDEpOwogICAgfQogICAgaGFuZGxlcnNbZXZlbnROYW1lXSA9IGNhbGxiYWNrOwp9OwpFdmVudEVtaXR0ZXIucmVtb3ZlRGVmYXVsdEhhbmRsZXIgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBjYWxsYmFjaykgewogICAgdmFyIGhhbmRsZXJzID0gdGhpcy5fZGVmYXVsdEhhbmRsZXJzOwogICAgaWYgKCFoYW5kbGVycykKICAgICAgICByZXR1cm47CiAgICB2YXIgZGlzYWJsZWQgPSBoYW5kbGVycy5fZGlzYWJsZWRfW2V2ZW50TmFtZV07CiAgICBpZiAoaGFuZGxlcnNbZXZlbnROYW1lXSA9PSBjYWxsYmFjaykgewogICAgICAgIGlmIChkaXNhYmxlZCkKICAgICAgICAgICAgdGhpcy5zZXREZWZhdWx0SGFuZGxlcihldmVudE5hbWUsIGRpc2FibGVkLnBvcCgpKTsKICAgIH0KICAgIGVsc2UgaWYgKGRpc2FibGVkKSB7CiAgICAgICAgdmFyIGkgPSBkaXNhYmxlZC5pbmRleE9mKGNhbGxiYWNrKTsKICAgICAgICBpZiAoaSAhPSAtMSkKICAgICAgICAgICAgZGlzYWJsZWQuc3BsaWNlKGksIDEpOwogICAgfQp9OwpFdmVudEVtaXR0ZXIub24gPQogICAgRXZlbnRFbWl0dGVyLmFkZEV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBjYWxsYmFjaywgY2FwdHVyaW5nKSB7CiAgICAgICAgdGhpcy5fZXZlbnRSZWdpc3RyeSA9IHRoaXMuX2V2ZW50UmVnaXN0cnkgfHwge307CiAgICAgICAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50UmVnaXN0cnlbZXZlbnROYW1lXTsKICAgICAgICBpZiAoIWxpc3RlbmVycykKICAgICAgICAgICAgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRSZWdpc3RyeVtldmVudE5hbWVdID0gW107CiAgICAgICAgaWYgKGxpc3RlbmVycy5pbmRleE9mKGNhbGxiYWNrKSA9PSAtMSkKICAgICAgICAgICAgbGlzdGVuZXJzW2NhcHR1cmluZyA/ICJ1bnNoaWZ0IiA6ICJwdXNoIl0oY2FsbGJhY2spOwogICAgICAgIHJldHVybiBjYWxsYmFjazsKICAgIH07CkV2ZW50RW1pdHRlci5vZmYgPQogICAgRXZlbnRFbWl0dGVyLnJlbW92ZUxpc3RlbmVyID0KICAgICAgICBFdmVudEVtaXR0ZXIucmVtb3ZlRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uIChldmVudE5hbWUsIGNhbGxiYWNrKSB7CiAgICAgICAgICAgIHRoaXMuX2V2ZW50UmVnaXN0cnkgPSB0aGlzLl9ldmVudFJlZ2lzdHJ5IHx8IHt9OwogICAgICAgICAgICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRSZWdpc3RyeVtldmVudE5hbWVdOwogICAgICAgICAgICBpZiAoIWxpc3RlbmVycykKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgdmFyIGluZGV4ID0gbGlzdGVuZXJzLmluZGV4T2YoY2FsbGJhY2spOwogICAgICAgICAgICBpZiAoaW5kZXggIT09IC0xKQogICAgICAgICAgICAgICAgbGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7CiAgICAgICAgfTsKRXZlbnRFbWl0dGVyLnJlbW92ZUFsbExpc3RlbmVycyA9IGZ1bmN0aW9uIChldmVudE5hbWUpIHsKICAgIGlmICghZXZlbnROYW1lKQogICAgICAgIHRoaXMuX2V2ZW50UmVnaXN0cnkgPSB0aGlzLl9kZWZhdWx0SGFuZGxlcnMgPSB1bmRlZmluZWQ7CiAgICBpZiAodGhpcy5fZXZlbnRSZWdpc3RyeSkKICAgICAgICB0aGlzLl9ldmVudFJlZ2lzdHJ5W2V2ZW50TmFtZV0gPSB1bmRlZmluZWQ7CiAgICBpZiAodGhpcy5fZGVmYXVsdEhhbmRsZXJzKQogICAgICAgIHRoaXMuX2RlZmF1bHRIYW5kbGVyc1tldmVudE5hbWVdID0gdW5kZWZpbmVkOwp9OwpleHBvcnRzLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjsKCn0pOwoKYWNlLmRlZmluZSgiYWNlL3JhbmdlIixbXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKXsidXNlIHN0cmljdCI7CnZhciBjb21wYXJlUG9pbnRzID0gZnVuY3Rpb24gKHAxLCBwMikgewogICAgcmV0dXJuIHAxLnJvdyAtIHAyLnJvdyB8fCBwMS5jb2x1bW4gLSBwMi5jb2x1bW47Cn07CnZhciBSYW5nZSA9IGZ1bmN0aW9uIChzdGFydFJvdywgc3RhcnRDb2x1bW4sIGVuZFJvdywgZW5kQ29sdW1uKSB7CiAgICB0aGlzLnN0YXJ0ID0gewogICAgICAgIHJvdzogc3RhcnRSb3csCiAgICAgICAgY29sdW1uOiBzdGFydENvbHVtbgogICAgfTsKICAgIHRoaXMuZW5kID0gewogICAgICAgIHJvdzogZW5kUm93LAogICAgICAgIGNvbHVtbjogZW5kQ29sdW1uCiAgICB9Owp9OwooZnVuY3Rpb24gKCkgewogICAgdGhpcy5pc0VxdWFsID0gZnVuY3Rpb24gKHJhbmdlKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuc3RhcnQucm93ID09PSByYW5nZS5zdGFydC5yb3cgJiYKICAgICAgICAgICAgdGhpcy5lbmQucm93ID09PSByYW5nZS5lbmQucm93ICYmCiAgICAgICAgICAgIHRoaXMuc3RhcnQuY29sdW1uID09PSByYW5nZS5zdGFydC5jb2x1bW4gJiYKICAgICAgICAgICAgdGhpcy5lbmQuY29sdW1uID09PSByYW5nZS5lbmQuY29sdW1uOwogICAgfTsKICAgIHRoaXMudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuICgiUmFuZ2U6IFsiICsgdGhpcy5zdGFydC5yb3cgKyAiLyIgKyB0aGlzLnN0YXJ0LmNvbHVtbiArCiAgICAgICAgICAgICJdIC0+IFsiICsgdGhpcy5lbmQucm93ICsgIi8iICsgdGhpcy5lbmQuY29sdW1uICsgIl0iKTsKICAgIH07CiAgICB0aGlzLmNvbnRhaW5zID0gZnVuY3Rpb24gKHJvdywgY29sdW1uKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuY29tcGFyZShyb3csIGNvbHVtbikgPT0gMDsKICAgIH07CiAgICB0aGlzLmNvbXBhcmVSYW5nZSA9IGZ1bmN0aW9uIChyYW5nZSkgewogICAgICAgIHZhciBjbXAsIGVuZCA9IHJhbmdlLmVuZCwgc3RhcnQgPSByYW5nZS5zdGFydDsKICAgICAgICBjbXAgPSB0aGlzLmNvbXBhcmUoZW5kLnJvdywgZW5kLmNvbHVtbik7CiAgICAgICAgaWYgKGNtcCA9PSAxKSB7CiAgICAgICAgICAgIGNtcCA9IHRoaXMuY29tcGFyZShzdGFydC5yb3csIHN0YXJ0LmNvbHVtbik7CiAgICAgICAgICAgIGlmIChjbXAgPT0gMSkgewogICAgICAgICAgICAgICAgcmV0dXJuIDI7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSBpZiAoY21wID09IDApIHsKICAgICAgICAgICAgICAgIHJldHVybiAxOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZWxzZSBpZiAoY21wID09IC0xKSB7CiAgICAgICAgICAgIHJldHVybiAtMjsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIGNtcCA9IHRoaXMuY29tcGFyZShzdGFydC5yb3csIHN0YXJ0LmNvbHVtbik7CiAgICAgICAgICAgIGlmIChjbXAgPT0gLTEpIHsKICAgICAgICAgICAgICAgIHJldHVybiAtMTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIGlmIChjbXAgPT0gMSkgewogICAgICAgICAgICAgICAgcmV0dXJuIDQyOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9OwogICAgdGhpcy5jb21wYXJlUG9pbnQgPSBmdW5jdGlvbiAocCkgewogICAgICAgIHJldHVybiB0aGlzLmNvbXBhcmUocC5yb3csIHAuY29sdW1uKTsKICAgIH07CiAgICB0aGlzLmNvbnRhaW5zUmFuZ2UgPSBmdW5jdGlvbiAocmFuZ2UpIHsKICAgICAgICByZXR1cm4gdGhpcy5jb21wYXJlUG9pbnQocmFuZ2Uuc3RhcnQpID09IDAgJiYgdGhpcy5jb21wYXJlUG9pbnQocmFuZ2UuZW5kKSA9PSAwOwogICAgfTsKICAgIHRoaXMuaW50ZXJzZWN0cyA9IGZ1bmN0aW9uIChyYW5nZSkgewogICAgICAgIHZhciBjbXAgPSB0aGlzLmNvbXBhcmVSYW5nZShyYW5nZSk7CiAgICAgICAgcmV0dXJuIChjbXAgPT0gLTEgfHwgY21wID09IDAgfHwgY21wID09IDEpOwogICAgfTsKICAgIHRoaXMuaXNFbmQgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICByZXR1cm4gdGhpcy5lbmQucm93ID09IHJvdyAmJiB0aGlzLmVuZC5jb2x1bW4gPT0gY29sdW1uOwogICAgfTsKICAgIHRoaXMuaXNTdGFydCA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICAgIHJldHVybiB0aGlzLnN0YXJ0LnJvdyA9PSByb3cgJiYgdGhpcy5zdGFydC5jb2x1bW4gPT0gY29sdW1uOwogICAgfTsKICAgIHRoaXMuc2V0U3RhcnQgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICBpZiAodHlwZW9mIHJvdyA9PSAib2JqZWN0IikgewogICAgICAgICAgICB0aGlzLnN0YXJ0LmNvbHVtbiA9IHJvdy5jb2x1bW47CiAgICAgICAgICAgIHRoaXMuc3RhcnQucm93ID0gcm93LnJvdzsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIHRoaXMuc3RhcnQucm93ID0gcm93OwogICAgICAgICAgICB0aGlzLnN0YXJ0LmNvbHVtbiA9IGNvbHVtbjsKICAgICAgICB9CiAgICB9OwogICAgdGhpcy5zZXRFbmQgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICBpZiAodHlwZW9mIHJvdyA9PSAib2JqZWN0IikgewogICAgICAgICAgICB0aGlzLmVuZC5jb2x1bW4gPSByb3cuY29sdW1uOwogICAgICAgICAgICB0aGlzLmVuZC5yb3cgPSByb3cucm93OwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgdGhpcy5lbmQucm93ID0gcm93OwogICAgICAgICAgICB0aGlzLmVuZC5jb2x1bW4gPSBjb2x1bW47CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMuaW5zaWRlID0gZnVuY3Rpb24gKHJvdywgY29sdW1uKSB7CiAgICAgICAgaWYgKHRoaXMuY29tcGFyZShyb3csIGNvbHVtbikgPT0gMCkgewogICAgICAgICAgICBpZiAodGhpcy5pc0VuZChyb3csIGNvbHVtbikgfHwgdGhpcy5pc1N0YXJ0KHJvdywgY29sdW1uKSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfTsKICAgIHRoaXMuaW5zaWRlU3RhcnQgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICBpZiAodGhpcy5jb21wYXJlKHJvdywgY29sdW1uKSA9PSAwKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmlzRW5kKHJvdywgY29sdW1uKSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfTsKICAgIHRoaXMuaW5zaWRlRW5kID0gZnVuY3Rpb24gKHJvdywgY29sdW1uKSB7CiAgICAgICAgaWYgKHRoaXMuY29tcGFyZShyb3csIGNvbHVtbikgPT0gMCkgewogICAgICAgICAgICBpZiAodGhpcy5pc1N0YXJ0KHJvdywgY29sdW1uKSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfTsKICAgIHRoaXMuY29tcGFyZSA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICAgIGlmICghdGhpcy5pc011bHRpTGluZSgpKSB7CiAgICAgICAgICAgIGlmIChyb3cgPT09IHRoaXMuc3RhcnQucm93KSB7CiAgICAgICAgICAgICAgICByZXR1cm4gY29sdW1uIDwgdGhpcy5zdGFydC5jb2x1bW4gPyAtMSA6IChjb2x1bW4gPiB0aGlzLmVuZC5jb2x1bW4gPyAxIDogMCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKHJvdyA8IHRoaXMuc3RhcnQucm93KQogICAgICAgICAgICByZXR1cm4gLTE7CiAgICAgICAgaWYgKHJvdyA+IHRoaXMuZW5kLnJvdykKICAgICAgICAgICAgcmV0dXJuIDE7CiAgICAgICAgaWYgKHRoaXMuc3RhcnQucm93ID09PSByb3cpCiAgICAgICAgICAgIHJldHVybiBjb2x1bW4gPj0gdGhpcy5zdGFydC5jb2x1bW4gPyAwIDogLTE7CiAgICAgICAgaWYgKHRoaXMuZW5kLnJvdyA9PT0gcm93KQogICAgICAgICAgICByZXR1cm4gY29sdW1uIDw9IHRoaXMuZW5kLmNvbHVtbiA/IDAgOiAxOwogICAgICAgIHJldHVybiAwOwogICAgfTsKICAgIHRoaXMuY29tcGFyZVN0YXJ0ID0gZnVuY3Rpb24gKHJvdywgY29sdW1uKSB7CiAgICAgICAgaWYgKHRoaXMuc3RhcnQucm93ID09IHJvdyAmJiB0aGlzLnN0YXJ0LmNvbHVtbiA9PSBjb2x1bW4pIHsKICAgICAgICAgICAgcmV0dXJuIC0xOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29tcGFyZShyb3csIGNvbHVtbik7CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMuY29tcGFyZUVuZCA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICAgIGlmICh0aGlzLmVuZC5yb3cgPT0gcm93ICYmIHRoaXMuZW5kLmNvbHVtbiA9PSBjb2x1bW4pIHsKICAgICAgICAgICAgcmV0dXJuIDE7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICByZXR1cm4gdGhpcy5jb21wYXJlKHJvdywgY29sdW1uKTsKICAgICAgICB9CiAgICB9OwogICAgdGhpcy5jb21wYXJlSW5zaWRlID0gZnVuY3Rpb24gKHJvdywgY29sdW1uKSB7CiAgICAgICAgaWYgKHRoaXMuZW5kLnJvdyA9PSByb3cgJiYgdGhpcy5lbmQuY29sdW1uID09IGNvbHVtbikgewogICAgICAgICAgICByZXR1cm4gMTsKICAgICAgICB9CiAgICAgICAgZWxzZSBpZiAodGhpcy5zdGFydC5yb3cgPT0gcm93ICYmIHRoaXMuc3RhcnQuY29sdW1uID09IGNvbHVtbikgewogICAgICAgICAgICByZXR1cm4gLTE7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICByZXR1cm4gdGhpcy5jb21wYXJlKHJvdywgY29sdW1uKTsKICAgICAgICB9CiAgICB9OwogICAgdGhpcy5jbGlwUm93cyA9IGZ1bmN0aW9uIChmaXJzdFJvdywgbGFzdFJvdykgewogICAgICAgIGlmICh0aGlzLmVuZC5yb3cgPiBsYXN0Um93KQogICAgICAgICAgICB2YXIgZW5kID0geyByb3c6IGxhc3RSb3cgKyAxLCBjb2x1bW46IDAgfTsKICAgICAgICBlbHNlIGlmICh0aGlzLmVuZC5yb3cgPCBmaXJzdFJvdykKICAgICAgICAgICAgdmFyIGVuZCA9IHsgcm93OiBmaXJzdFJvdywgY29sdW1uOiAwIH07CiAgICAgICAgaWYgKHRoaXMuc3RhcnQucm93ID4gbGFzdFJvdykKICAgICAgICAgICAgdmFyIHN0YXJ0ID0geyByb3c6IGxhc3RSb3cgKyAxLCBjb2x1bW46IDAgfTsKICAgICAgICBlbHNlIGlmICh0aGlzLnN0YXJ0LnJvdyA8IGZpcnN0Um93KQogICAgICAgICAgICB2YXIgc3RhcnQgPSB7IHJvdzogZmlyc3RSb3csIGNvbHVtbjogMCB9OwogICAgICAgIHJldHVybiBSYW5nZS5mcm9tUG9pbnRzKHN0YXJ0IHx8IHRoaXMuc3RhcnQsIGVuZCB8fCB0aGlzLmVuZCk7CiAgICB9OwogICAgdGhpcy5leHRlbmQgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICB2YXIgY21wID0gdGhpcy5jb21wYXJlKHJvdywgY29sdW1uKTsKICAgICAgICBpZiAoY21wID09IDApCiAgICAgICAgICAgIHJldHVybiB0aGlzOwogICAgICAgIGVsc2UgaWYgKGNtcCA9PSAtMSkKICAgICAgICAgICAgdmFyIHN0YXJ0ID0geyByb3c6IHJvdywgY29sdW1uOiBjb2x1bW4gfTsKICAgICAgICBlbHNlCiAgICAgICAgICAgIHZhciBlbmQgPSB7IHJvdzogcm93LCBjb2x1bW46IGNvbHVtbiB9OwogICAgICAgIHJldHVybiBSYW5nZS5mcm9tUG9pbnRzKHN0YXJ0IHx8IHRoaXMuc3RhcnQsIGVuZCB8fCB0aGlzLmVuZCk7CiAgICB9OwogICAgdGhpcy5pc0VtcHR5ID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiAodGhpcy5zdGFydC5yb3cgPT09IHRoaXMuZW5kLnJvdyAmJiB0aGlzLnN0YXJ0LmNvbHVtbiA9PT0gdGhpcy5lbmQuY29sdW1uKTsKICAgIH07CiAgICB0aGlzLmlzTXVsdGlMaW5lID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiAodGhpcy5zdGFydC5yb3cgIT09IHRoaXMuZW5kLnJvdyk7CiAgICB9OwogICAgdGhpcy5jbG9uZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gUmFuZ2UuZnJvbVBvaW50cyh0aGlzLnN0YXJ0LCB0aGlzLmVuZCk7CiAgICB9OwogICAgdGhpcy5jb2xsYXBzZVJvd3MgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKHRoaXMuZW5kLmNvbHVtbiA9PSAwKQogICAgICAgICAgICByZXR1cm4gbmV3IFJhbmdlKHRoaXMuc3RhcnQucm93LCAwLCBNYXRoLm1heCh0aGlzLnN0YXJ0LnJvdywgdGhpcy5lbmQucm93IC0gMSksIDApOwogICAgICAgIGVsc2UKICAgICAgICAgICAgcmV0dXJuIG5ldyBSYW5nZSh0aGlzLnN0YXJ0LnJvdywgMCwgdGhpcy5lbmQucm93LCAwKTsKICAgIH07CiAgICB0aGlzLnRvU2NyZWVuUmFuZ2UgPSBmdW5jdGlvbiAoc2Vzc2lvbikgewogICAgICAgIHZhciBzY3JlZW5Qb3NTdGFydCA9IHNlc3Npb24uZG9jdW1lbnRUb1NjcmVlblBvc2l0aW9uKHRoaXMuc3RhcnQpOwogICAgICAgIHZhciBzY3JlZW5Qb3NFbmQgPSBzZXNzaW9uLmRvY3VtZW50VG9TY3JlZW5Qb3NpdGlvbih0aGlzLmVuZCk7CiAgICAgICAgcmV0dXJuIG5ldyBSYW5nZShzY3JlZW5Qb3NTdGFydC5yb3csIHNjcmVlblBvc1N0YXJ0LmNvbHVtbiwgc2NyZWVuUG9zRW5kLnJvdywgc2NyZWVuUG9zRW5kLmNvbHVtbik7CiAgICB9OwogICAgdGhpcy5tb3ZlQnkgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICB0aGlzLnN0YXJ0LnJvdyArPSByb3c7CiAgICAgICAgdGhpcy5zdGFydC5jb2x1bW4gKz0gY29sdW1uOwogICAgICAgIHRoaXMuZW5kLnJvdyArPSByb3c7CiAgICAgICAgdGhpcy5lbmQuY29sdW1uICs9IGNvbHVtbjsKICAgIH07Cn0pLmNhbGwoUmFuZ2UucHJvdG90eXBlKTsKUmFuZ2UuZnJvbVBvaW50cyA9IGZ1bmN0aW9uIChzdGFydCwgZW5kKSB7CiAgICByZXR1cm4gbmV3IFJhbmdlKHN0YXJ0LnJvdywgc3RhcnQuY29sdW1uLCBlbmQucm93LCBlbmQuY29sdW1uKTsKfTsKUmFuZ2UuY29tcGFyZVBvaW50cyA9IGNvbXBhcmVQb2ludHM7ClJhbmdlLmNvbXBhcmVQb2ludHMgPSBmdW5jdGlvbiAocDEsIHAyKSB7CiAgICByZXR1cm4gcDEucm93IC0gcDIucm93IHx8IHAxLmNvbHVtbiAtIHAyLmNvbHVtbjsKfTsKZXhwb3J0cy5SYW5nZSA9IFJhbmdlOwoKfSk7CgphY2UuZGVmaW5lKCJhY2UvYW5jaG9yIixbXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKXsidXNlIHN0cmljdCI7CnZhciBvb3AgPSByZXF1aXJlKCIuL2xpYi9vb3AiKTsKdmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoIi4vbGliL2V2ZW50X2VtaXR0ZXIiKS5FdmVudEVtaXR0ZXI7CnZhciBBbmNob3IgPSBleHBvcnRzLkFuY2hvciA9IGZ1bmN0aW9uIChkb2MsIHJvdywgY29sdW1uKSB7CiAgICB0aGlzLiRvbkNoYW5nZSA9IHRoaXMub25DaGFuZ2UuYmluZCh0aGlzKTsKICAgIHRoaXMuYXR0YWNoKGRvYyk7CiAgICBpZiAodHlwZW9mIGNvbHVtbiA9PSAidW5kZWZpbmVkIikKICAgICAgICB0aGlzLnNldFBvc2l0aW9uKHJvdy5yb3csIHJvdy5jb2x1bW4pOwogICAgZWxzZQogICAgICAgIHRoaXMuc2V0UG9zaXRpb24ocm93LCBjb2x1bW4pOwp9OwooZnVuY3Rpb24gKCkgewogICAgb29wLmltcGxlbWVudCh0aGlzLCBFdmVudEVtaXR0ZXIpOwogICAgdGhpcy5nZXRQb3NpdGlvbiA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gdGhpcy4kY2xpcFBvc2l0aW9uVG9Eb2N1bWVudCh0aGlzLnJvdywgdGhpcy5jb2x1bW4pOwogICAgfTsKICAgIHRoaXMuZ2V0RG9jdW1lbnQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZG9jdW1lbnQ7CiAgICB9OwogICAgdGhpcy4kaW5zZXJ0UmlnaHQgPSBmYWxzZTsKICAgIHRoaXMub25DaGFuZ2UgPSBmdW5jdGlvbiAoZGVsdGEpIHsKICAgICAgICBpZiAoZGVsdGEuc3RhcnQucm93ID09IGRlbHRhLmVuZC5yb3cgJiYgZGVsdGEuc3RhcnQucm93ICE9IHRoaXMucm93KQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgaWYgKGRlbHRhLnN0YXJ0LnJvdyA+IHRoaXMucm93KQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgdmFyIHBvaW50ID0gJGdldFRyYW5zZm9ybWVkUG9pbnQoZGVsdGEsIHsgcm93OiB0aGlzLnJvdywgY29sdW1uOiB0aGlzLmNvbHVtbiB9LCB0aGlzLiRpbnNlcnRSaWdodCk7CiAgICAgICAgdGhpcy5zZXRQb3NpdGlvbihwb2ludC5yb3csIHBvaW50LmNvbHVtbiwgdHJ1ZSk7CiAgICB9OwogICAgZnVuY3Rpb24gJHBvaW50c0luT3JkZXIocG9pbnQxLCBwb2ludDIsIGVxdWFsUG9pbnRzSW5PcmRlcikgewogICAgICAgIHZhciBiQ29sSXNBZnRlciA9IGVxdWFsUG9pbnRzSW5PcmRlciA/IHBvaW50MS5jb2x1bW4gPD0gcG9pbnQyLmNvbHVtbiA6IHBvaW50MS5jb2x1bW4gPCBwb2ludDIuY29sdW1uOwogICAgICAgIHJldHVybiAocG9pbnQxLnJvdyA8IHBvaW50Mi5yb3cpIHx8IChwb2ludDEucm93ID09IHBvaW50Mi5yb3cgJiYgYkNvbElzQWZ0ZXIpOwogICAgfQogICAgZnVuY3Rpb24gJGdldFRyYW5zZm9ybWVkUG9pbnQoZGVsdGEsIHBvaW50LCBtb3ZlSWZFcXVhbCkgewogICAgICAgIHZhciBkZWx0YUlzSW5zZXJ0ID0gZGVsdGEuYWN0aW9uID09ICJpbnNlcnQiOwogICAgICAgIHZhciBkZWx0YVJvd1NoaWZ0ID0gKGRlbHRhSXNJbnNlcnQgPyAxIDogLTEpICogKGRlbHRhLmVuZC5yb3cgLSBkZWx0YS5zdGFydC5yb3cpOwogICAgICAgIHZhciBkZWx0YUNvbFNoaWZ0ID0gKGRlbHRhSXNJbnNlcnQgPyAxIDogLTEpICogKGRlbHRhLmVuZC5jb2x1bW4gLSBkZWx0YS5zdGFydC5jb2x1bW4pOwogICAgICAgIHZhciBkZWx0YVN0YXJ0ID0gZGVsdGEuc3RhcnQ7CiAgICAgICAgdmFyIGRlbHRhRW5kID0gZGVsdGFJc0luc2VydCA/IGRlbHRhU3RhcnQgOiBkZWx0YS5lbmQ7IC8vIENvbGxhcHNlIGluc2VydCByYW5nZS4KICAgICAgICBpZiAoJHBvaW50c0luT3JkZXIocG9pbnQsIGRlbHRhU3RhcnQsIG1vdmVJZkVxdWFsKSkgewogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgcm93OiBwb2ludC5yb3csCiAgICAgICAgICAgICAgICBjb2x1bW46IHBvaW50LmNvbHVtbgogICAgICAgICAgICB9OwogICAgICAgIH0KICAgICAgICBpZiAoJHBvaW50c0luT3JkZXIoZGVsdGFFbmQsIHBvaW50LCAhbW92ZUlmRXF1YWwpKSB7CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICByb3c6IHBvaW50LnJvdyArIGRlbHRhUm93U2hpZnQsCiAgICAgICAgICAgICAgICBjb2x1bW46IHBvaW50LmNvbHVtbiArIChwb2ludC5yb3cgPT0gZGVsdGFFbmQucm93ID8gZGVsdGFDb2xTaGlmdCA6IDApCiAgICAgICAgICAgIH07CiAgICAgICAgfQogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHJvdzogZGVsdGFTdGFydC5yb3csCiAgICAgICAgICAgIGNvbHVtbjogZGVsdGFTdGFydC5jb2x1bW4KICAgICAgICB9OwogICAgfQogICAgdGhpcy5zZXRQb3NpdGlvbiA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbiwgbm9DbGlwKSB7CiAgICAgICAgdmFyIHBvczsKICAgICAgICBpZiAobm9DbGlwKSB7CiAgICAgICAgICAgIHBvcyA9IHsKICAgICAgICAgICAgICAgIHJvdzogcm93LAogICAgICAgICAgICAgICAgY29sdW1uOiBjb2x1bW4KICAgICAgICAgICAgfTsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIHBvcyA9IHRoaXMuJGNsaXBQb3NpdGlvblRvRG9jdW1lbnQocm93LCBjb2x1bW4pOwogICAgICAgIH0KICAgICAgICBpZiAodGhpcy5yb3cgPT0gcG9zLnJvdyAmJiB0aGlzLmNvbHVtbiA9PSBwb3MuY29sdW1uKQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgdmFyIG9sZCA9IHsKICAgICAgICAgICAgcm93OiB0aGlzLnJvdywKICAgICAgICAgICAgY29sdW1uOiB0aGlzLmNvbHVtbgogICAgICAgIH07CiAgICAgICAgdGhpcy5yb3cgPSBwb3Mucm93OwogICAgICAgIHRoaXMuY29sdW1uID0gcG9zLmNvbHVtbjsKICAgICAgICB0aGlzLl9zaWduYWwoImNoYW5nZSIsIHsKICAgICAgICAgICAgb2xkOiBvbGQsCiAgICAgICAgICAgIHZhbHVlOiBwb3MKICAgICAgICB9KTsKICAgIH07CiAgICB0aGlzLmRldGFjaCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB0aGlzLmRvY3VtZW50Lm9mZigiY2hhbmdlIiwgdGhpcy4kb25DaGFuZ2UpOwogICAgfTsKICAgIHRoaXMuYXR0YWNoID0gZnVuY3Rpb24gKGRvYykgewogICAgICAgIHRoaXMuZG9jdW1lbnQgPSBkb2MgfHwgdGhpcy5kb2N1bWVudDsKICAgICAgICB0aGlzLmRvY3VtZW50Lm9uKCJjaGFuZ2UiLCB0aGlzLiRvbkNoYW5nZSk7CiAgICB9OwogICAgdGhpcy4kY2xpcFBvc2l0aW9uVG9Eb2N1bWVudCA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICAgIHZhciBwb3MgPSB7fTsKICAgICAgICBpZiAocm93ID49IHRoaXMuZG9jdW1lbnQuZ2V0TGVuZ3RoKCkpIHsKICAgICAgICAgICAgcG9zLnJvdyA9IE1hdGgubWF4KDAsIHRoaXMuZG9jdW1lbnQuZ2V0TGVuZ3RoKCkgLSAxKTsKICAgICAgICAgICAgcG9zLmNvbHVtbiA9IHRoaXMuZG9jdW1lbnQuZ2V0TGluZShwb3Mucm93KS5sZW5ndGg7CiAgICAgICAgfQogICAgICAgIGVsc2UgaWYgKHJvdyA8IDApIHsKICAgICAgICAgICAgcG9zLnJvdyA9IDA7CiAgICAgICAgICAgIHBvcy5jb2x1bW4gPSAwOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgcG9zLnJvdyA9IHJvdzsKICAgICAgICAgICAgcG9zLmNvbHVtbiA9IE1hdGgubWluKHRoaXMuZG9jdW1lbnQuZ2V0TGluZShwb3Mucm93KS5sZW5ndGgsIE1hdGgubWF4KDAsIGNvbHVtbikpOwogICAgICAgIH0KICAgICAgICBpZiAoY29sdW1uIDwgMCkKICAgICAgICAgICAgcG9zLmNvbHVtbiA9IDA7CiAgICAgICAgcmV0dXJuIHBvczsKICAgIH07Cn0pLmNhbGwoQW5jaG9yLnByb3RvdHlwZSk7Cgp9KTsKCmFjZS5kZWZpbmUoImFjZS9kb2N1bWVudCIsW10sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSl7InVzZSBzdHJpY3QiOwp2YXIgb29wID0gcmVxdWlyZSgiLi9saWIvb29wIik7CnZhciBhcHBseURlbHRhID0gcmVxdWlyZSgiLi9hcHBseV9kZWx0YSIpLmFwcGx5RGVsdGE7CnZhciBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCIuL2xpYi9ldmVudF9lbWl0dGVyIikuRXZlbnRFbWl0dGVyOwp2YXIgUmFuZ2UgPSByZXF1aXJlKCIuL3JhbmdlIikuUmFuZ2U7CnZhciBBbmNob3IgPSByZXF1aXJlKCIuL2FuY2hvciIpLkFuY2hvcjsKdmFyIERvY3VtZW50ID0gZnVuY3Rpb24gKHRleHRPckxpbmVzKSB7CiAgICB0aGlzLiRsaW5lcyA9IFsiIl07CiAgICBpZiAodGV4dE9yTGluZXMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgdGhpcy4kbGluZXMgPSBbIiJdOwogICAgfQogICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh0ZXh0T3JMaW5lcykpIHsKICAgICAgICB0aGlzLmluc2VydE1lcmdlZExpbmVzKHsgcm93OiAwLCBjb2x1bW46IDAgfSwgdGV4dE9yTGluZXMpOwogICAgfQogICAgZWxzZSB7CiAgICAgICAgdGhpcy5pbnNlcnQoeyByb3c6IDAsIGNvbHVtbjogMCB9LCB0ZXh0T3JMaW5lcyk7CiAgICB9Cn07CihmdW5jdGlvbiAoKSB7CiAgICBvb3AuaW1wbGVtZW50KHRoaXMsIEV2ZW50RW1pdHRlcik7CiAgICB0aGlzLnNldFZhbHVlID0gZnVuY3Rpb24gKHRleHQpIHsKICAgICAgICB2YXIgbGVuID0gdGhpcy5nZXRMZW5ndGgoKSAtIDE7CiAgICAgICAgdGhpcy5yZW1vdmUobmV3IFJhbmdlKDAsIDAsIGxlbiwgdGhpcy5nZXRMaW5lKGxlbikubGVuZ3RoKSk7CiAgICAgICAgdGhpcy5pbnNlcnQoeyByb3c6IDAsIGNvbHVtbjogMCB9LCB0ZXh0IHx8ICIiKTsKICAgIH07CiAgICB0aGlzLmdldFZhbHVlID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiB0aGlzLmdldEFsbExpbmVzKCkuam9pbih0aGlzLmdldE5ld0xpbmVDaGFyYWN0ZXIoKSk7CiAgICB9OwogICAgdGhpcy5jcmVhdGVBbmNob3IgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICByZXR1cm4gbmV3IEFuY2hvcih0aGlzLCByb3csIGNvbHVtbik7CiAgICB9OwogICAgaWYgKCJhYWEiLnNwbGl0KC9hLykubGVuZ3RoID09PSAwKSB7CiAgICAgICAgdGhpcy4kc3BsaXQgPSBmdW5jdGlvbiAodGV4dCkgewogICAgICAgICAgICByZXR1cm4gdGV4dC5yZXBsYWNlKC9cclxufFxyL2csICJcbiIpLnNwbGl0KCJcbiIpOwogICAgICAgIH07CiAgICB9CiAgICBlbHNlIHsKICAgICAgICB0aGlzLiRzcGxpdCA9IGZ1bmN0aW9uICh0ZXh0KSB7CiAgICAgICAgICAgIHJldHVybiB0ZXh0LnNwbGl0KC9cclxufFxyfFxuLyk7CiAgICAgICAgfTsKICAgIH0KICAgIHRoaXMuJGRldGVjdE5ld0xpbmUgPSBmdW5jdGlvbiAodGV4dCkgewogICAgICAgIHZhciBtYXRjaCA9IHRleHQubWF0Y2goL14uKj8oXHJcbnxccnxcbikvbSk7CiAgICAgICAgdGhpcy4kYXV0b05ld0xpbmUgPSBtYXRjaCA/IG1hdGNoWzFdIDogIlxuIjsKICAgICAgICB0aGlzLl9zaWduYWwoImNoYW5nZU5ld0xpbmVNb2RlIik7CiAgICB9OwogICAgdGhpcy5nZXROZXdMaW5lQ2hhcmFjdGVyID0gZnVuY3Rpb24gKCkgewogICAgICAgIHN3aXRjaCAodGhpcy4kbmV3TGluZU1vZGUpIHsKICAgICAgICAgICAgY2FzZSAid2luZG93cyI6CiAgICAgICAgICAgICAgICByZXR1cm4gIlxyXG4iOwogICAgICAgICAgICBjYXNlICJ1bml4IjoKICAgICAgICAgICAgICAgIHJldHVybiAiXG4iOwogICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJGF1dG9OZXdMaW5lIHx8ICJcbiI7CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMuJGF1dG9OZXdMaW5lID0gIiI7CiAgICB0aGlzLiRuZXdMaW5lTW9kZSA9ICJhdXRvIjsKICAgIHRoaXMuc2V0TmV3TGluZU1vZGUgPSBmdW5jdGlvbiAobmV3TGluZU1vZGUpIHsKICAgICAgICBpZiAodGhpcy4kbmV3TGluZU1vZGUgPT09IG5ld0xpbmVNb2RlKQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgdGhpcy4kbmV3TGluZU1vZGUgPSBuZXdMaW5lTW9kZTsKICAgICAgICB0aGlzLl9zaWduYWwoImNoYW5nZU5ld0xpbmVNb2RlIik7CiAgICB9OwogICAgdGhpcy5nZXROZXdMaW5lTW9kZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gdGhpcy4kbmV3TGluZU1vZGU7CiAgICB9OwogICAgdGhpcy5pc05ld0xpbmUgPSBmdW5jdGlvbiAodGV4dCkgewogICAgICAgIHJldHVybiAodGV4dCA9PSAiXHJcbiIgfHwgdGV4dCA9PSAiXHIiIHx8IHRleHQgPT0gIlxuIik7CiAgICB9OwogICAgdGhpcy5nZXRMaW5lID0gZnVuY3Rpb24gKHJvdykgewogICAgICAgIHJldHVybiB0aGlzLiRsaW5lc1tyb3ddIHx8ICIiOwogICAgfTsKICAgIHRoaXMuZ2V0TGluZXMgPSBmdW5jdGlvbiAoZmlyc3RSb3csIGxhc3RSb3cpIHsKICAgICAgICByZXR1cm4gdGhpcy4kbGluZXMuc2xpY2UoZmlyc3RSb3csIGxhc3RSb3cgKyAxKTsKICAgIH07CiAgICB0aGlzLmdldEFsbExpbmVzID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiB0aGlzLmdldExpbmVzKDAsIHRoaXMuZ2V0TGVuZ3RoKCkpOwogICAgfTsKICAgIHRoaXMuZ2V0TGVuZ3RoID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiB0aGlzLiRsaW5lcy5sZW5ndGg7CiAgICB9OwogICAgdGhpcy5nZXRUZXh0UmFuZ2UgPSBmdW5jdGlvbiAocmFuZ2UpIHsKICAgICAgICByZXR1cm4gdGhpcy5nZXRMaW5lc0ZvclJhbmdlKHJhbmdlKS5qb2luKHRoaXMuZ2V0TmV3TGluZUNoYXJhY3RlcigpKTsKICAgIH07CiAgICB0aGlzLmdldExpbmVzRm9yUmFuZ2UgPSBmdW5jdGlvbiAocmFuZ2UpIHsKICAgICAgICB2YXIgbGluZXM7CiAgICAgICAgaWYgKHJhbmdlLnN0YXJ0LnJvdyA9PT0gcmFuZ2UuZW5kLnJvdykgewogICAgICAgICAgICBsaW5lcyA9IFt0aGlzLmdldExpbmUocmFuZ2Uuc3RhcnQucm93KS5zdWJzdHJpbmcocmFuZ2Uuc3RhcnQuY29sdW1uLCByYW5nZS5lbmQuY29sdW1uKV07CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICBsaW5lcyA9IHRoaXMuZ2V0TGluZXMocmFuZ2Uuc3RhcnQucm93LCByYW5nZS5lbmQucm93KTsKICAgICAgICAgICAgbGluZXNbMF0gPSAobGluZXNbMF0gfHwgIiIpLnN1YnN0cmluZyhyYW5nZS5zdGFydC5jb2x1bW4pOwogICAgICAgICAgICB2YXIgbCA9IGxpbmVzLmxlbmd0aCAtIDE7CiAgICAgICAgICAgIGlmIChyYW5nZS5lbmQucm93IC0gcmFuZ2Uuc3RhcnQucm93ID09IGwpCiAgICAgICAgICAgICAgICBsaW5lc1tsXSA9IGxpbmVzW2xdLnN1YnN0cmluZygwLCByYW5nZS5lbmQuY29sdW1uKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGxpbmVzOwogICAgfTsKICAgIHRoaXMuaW5zZXJ0TGluZXMgPSBmdW5jdGlvbiAocm93LCBsaW5lcykgewogICAgICAgIGNvbnNvbGUud2FybigiVXNlIG9mIGRvY3VtZW50Lmluc2VydExpbmVzIGlzIGRlcHJlY2F0ZWQuIFVzZSB0aGUgaW5zZXJ0RnVsbExpbmVzIG1ldGhvZCBpbnN0ZWFkLiIpOwogICAgICAgIHJldHVybiB0aGlzLmluc2VydEZ1bGxMaW5lcyhyb3csIGxpbmVzKTsKICAgIH07CiAgICB0aGlzLnJlbW92ZUxpbmVzID0gZnVuY3Rpb24gKGZpcnN0Um93LCBsYXN0Um93KSB7CiAgICAgICAgY29uc29sZS53YXJuKCJVc2Ugb2YgZG9jdW1lbnQucmVtb3ZlTGluZXMgaXMgZGVwcmVjYXRlZC4gVXNlIHRoZSByZW1vdmVGdWxsTGluZXMgbWV0aG9kIGluc3RlYWQuIik7CiAgICAgICAgcmV0dXJuIHRoaXMucmVtb3ZlRnVsbExpbmVzKGZpcnN0Um93LCBsYXN0Um93KTsKICAgIH07CiAgICB0aGlzLmluc2VydE5ld0xpbmUgPSBmdW5jdGlvbiAocG9zaXRpb24pIHsKICAgICAgICBjb25zb2xlLndhcm4oIlVzZSBvZiBkb2N1bWVudC5pbnNlcnROZXdMaW5lIGlzIGRlcHJlY2F0ZWQuIFVzZSBpbnNlcnRNZXJnZWRMaW5lcyhwb3NpdGlvbiwgWycnLCAnJ10pIGluc3RlYWQuIik7CiAgICAgICAgcmV0dXJuIHRoaXMuaW5zZXJ0TWVyZ2VkTGluZXMocG9zaXRpb24sIFsiIiwgIiJdKTsKICAgIH07CiAgICB0aGlzLmluc2VydCA9IGZ1bmN0aW9uIChwb3NpdGlvbiwgdGV4dCkgewogICAgICAgIGlmICh0aGlzLmdldExlbmd0aCgpIDw9IDEpCiAgICAgICAgICAgIHRoaXMuJGRldGVjdE5ld0xpbmUodGV4dCk7CiAgICAgICAgcmV0dXJuIHRoaXMuaW5zZXJ0TWVyZ2VkTGluZXMocG9zaXRpb24sIHRoaXMuJHNwbGl0KHRleHQpKTsKICAgIH07CiAgICB0aGlzLmluc2VydEluTGluZSA9IGZ1bmN0aW9uIChwb3NpdGlvbiwgdGV4dCkgewogICAgICAgIHZhciBzdGFydCA9IHRoaXMuY2xpcHBlZFBvcyhwb3NpdGlvbi5yb3csIHBvc2l0aW9uLmNvbHVtbik7CiAgICAgICAgdmFyIGVuZCA9IHRoaXMucG9zKHBvc2l0aW9uLnJvdywgcG9zaXRpb24uY29sdW1uICsgdGV4dC5sZW5ndGgpOwogICAgICAgIHRoaXMuYXBwbHlEZWx0YSh7CiAgICAgICAgICAgIHN0YXJ0OiBzdGFydCwKICAgICAgICAgICAgZW5kOiBlbmQsCiAgICAgICAgICAgIGFjdGlvbjogImluc2VydCIsCiAgICAgICAgICAgIGxpbmVzOiBbdGV4dF0KICAgICAgICB9LCB0cnVlKTsKICAgICAgICByZXR1cm4gdGhpcy5jbG9uZVBvcyhlbmQpOwogICAgfTsKICAgIHRoaXMuY2xpcHBlZFBvcyA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICAgIHZhciBsZW5ndGggPSB0aGlzLmdldExlbmd0aCgpOwogICAgICAgIGlmIChyb3cgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICByb3cgPSBsZW5ndGg7CiAgICAgICAgfQogICAgICAgIGVsc2UgaWYgKHJvdyA8IDApIHsKICAgICAgICAgICAgcm93ID0gMDsKICAgICAgICB9CiAgICAgICAgZWxzZSBpZiAocm93ID49IGxlbmd0aCkgewogICAgICAgICAgICByb3cgPSBsZW5ndGggLSAxOwogICAgICAgICAgICBjb2x1bW4gPSB1bmRlZmluZWQ7CiAgICAgICAgfQogICAgICAgIHZhciBsaW5lID0gdGhpcy5nZXRMaW5lKHJvdyk7CiAgICAgICAgaWYgKGNvbHVtbiA9PSB1bmRlZmluZWQpCiAgICAgICAgICAgIGNvbHVtbiA9IGxpbmUubGVuZ3RoOwogICAgICAgIGNvbHVtbiA9IE1hdGgubWluKE1hdGgubWF4KGNvbHVtbiwgMCksIGxpbmUubGVuZ3RoKTsKICAgICAgICByZXR1cm4geyByb3c6IHJvdywgY29sdW1uOiBjb2x1bW4gfTsKICAgIH07CiAgICB0aGlzLmNsb25lUG9zID0gZnVuY3Rpb24gKHBvcykgewogICAgICAgIHJldHVybiB7IHJvdzogcG9zLnJvdywgY29sdW1uOiBwb3MuY29sdW1uIH07CiAgICB9OwogICAgdGhpcy5wb3MgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICByZXR1cm4geyByb3c6IHJvdywgY29sdW1uOiBjb2x1bW4gfTsKICAgIH07CiAgICB0aGlzLiRjbGlwUG9zaXRpb24gPSBmdW5jdGlvbiAocG9zaXRpb24pIHsKICAgICAgICB2YXIgbGVuZ3RoID0gdGhpcy5nZXRMZW5ndGgoKTsKICAgICAgICBpZiAocG9zaXRpb24ucm93ID49IGxlbmd0aCkgewogICAgICAgICAgICBwb3NpdGlvbi5yb3cgPSBNYXRoLm1heCgwLCBsZW5ndGggLSAxKTsKICAgICAgICAgICAgcG9zaXRpb24uY29sdW1uID0gdGhpcy5nZXRMaW5lKGxlbmd0aCAtIDEpLmxlbmd0aDsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIHBvc2l0aW9uLnJvdyA9IE1hdGgubWF4KDAsIHBvc2l0aW9uLnJvdyk7CiAgICAgICAgICAgIHBvc2l0aW9uLmNvbHVtbiA9IE1hdGgubWluKE1hdGgubWF4KHBvc2l0aW9uLmNvbHVtbiwgMCksIHRoaXMuZ2V0TGluZShwb3NpdGlvbi5yb3cpLmxlbmd0aCk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBwb3NpdGlvbjsKICAgIH07CiAgICB0aGlzLmluc2VydEZ1bGxMaW5lcyA9IGZ1bmN0aW9uIChyb3csIGxpbmVzKSB7CiAgICAgICAgcm93ID0gTWF0aC5taW4oTWF0aC5tYXgocm93LCAwKSwgdGhpcy5nZXRMZW5ndGgoKSk7CiAgICAgICAgdmFyIGNvbHVtbiA9IDA7CiAgICAgICAgaWYgKHJvdyA8IHRoaXMuZ2V0TGVuZ3RoKCkpIHsKICAgICAgICAgICAgbGluZXMgPSBsaW5lcy5jb25jYXQoWyIiXSk7CiAgICAgICAgICAgIGNvbHVtbiA9IDA7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICBsaW5lcyA9IFsiIl0uY29uY2F0KGxpbmVzKTsKICAgICAgICAgICAgcm93LS07CiAgICAgICAgICAgIGNvbHVtbiA9IHRoaXMuJGxpbmVzW3Jvd10ubGVuZ3RoOwogICAgICAgIH0KICAgICAgICB0aGlzLmluc2VydE1lcmdlZExpbmVzKHsgcm93OiByb3csIGNvbHVtbjogY29sdW1uIH0sIGxpbmVzKTsKICAgIH07CiAgICB0aGlzLmluc2VydE1lcmdlZExpbmVzID0gZnVuY3Rpb24gKHBvc2l0aW9uLCBsaW5lcykgewogICAgICAgIHZhciBzdGFydCA9IHRoaXMuY2xpcHBlZFBvcyhwb3NpdGlvbi5yb3csIHBvc2l0aW9uLmNvbHVtbik7CiAgICAgICAgdmFyIGVuZCA9IHsKICAgICAgICAgICAgcm93OiBzdGFydC5yb3cgKyBsaW5lcy5sZW5ndGggLSAxLAogICAgICAgICAgICBjb2x1bW46IChsaW5lcy5sZW5ndGggPT0gMSA/IHN0YXJ0LmNvbHVtbiA6IDApICsgbGluZXNbbGluZXMubGVuZ3RoIC0gMV0ubGVuZ3RoCiAgICAgICAgfTsKICAgICAgICB0aGlzLmFwcGx5RGVsdGEoewogICAgICAgICAgICBzdGFydDogc3RhcnQsCiAgICAgICAgICAgIGVuZDogZW5kLAogICAgICAgICAgICBhY3Rpb246ICJpbnNlcnQiLAogICAgICAgICAgICBsaW5lczogbGluZXMKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gdGhpcy5jbG9uZVBvcyhlbmQpOwogICAgfTsKICAgIHRoaXMucmVtb3ZlID0gZnVuY3Rpb24gKHJhbmdlKSB7CiAgICAgICAgdmFyIHN0YXJ0ID0gdGhpcy5jbGlwcGVkUG9zKHJhbmdlLnN0YXJ0LnJvdywgcmFuZ2Uuc3RhcnQuY29sdW1uKTsKICAgICAgICB2YXIgZW5kID0gdGhpcy5jbGlwcGVkUG9zKHJhbmdlLmVuZC5yb3csIHJhbmdlLmVuZC5jb2x1bW4pOwogICAgICAgIHRoaXMuYXBwbHlEZWx0YSh7CiAgICAgICAgICAgIHN0YXJ0OiBzdGFydCwKICAgICAgICAgICAgZW5kOiBlbmQsCiAgICAgICAgICAgIGFjdGlvbjogInJlbW92ZSIsCiAgICAgICAgICAgIGxpbmVzOiB0aGlzLmdldExpbmVzRm9yUmFuZ2UoeyBzdGFydDogc3RhcnQsIGVuZDogZW5kIH0pCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIHRoaXMuY2xvbmVQb3Moc3RhcnQpOwogICAgfTsKICAgIHRoaXMucmVtb3ZlSW5MaW5lID0gZnVuY3Rpb24gKHJvdywgc3RhcnRDb2x1bW4sIGVuZENvbHVtbikgewogICAgICAgIHZhciBzdGFydCA9IHRoaXMuY2xpcHBlZFBvcyhyb3csIHN0YXJ0Q29sdW1uKTsKICAgICAgICB2YXIgZW5kID0gdGhpcy5jbGlwcGVkUG9zKHJvdywgZW5kQ29sdW1uKTsKICAgICAgICB0aGlzLmFwcGx5RGVsdGEoewogICAgICAgICAgICBzdGFydDogc3RhcnQsCiAgICAgICAgICAgIGVuZDogZW5kLAogICAgICAgICAgICBhY3Rpb246ICJyZW1vdmUiLAogICAgICAgICAgICBsaW5lczogdGhpcy5nZXRMaW5lc0ZvclJhbmdlKHsgc3RhcnQ6IHN0YXJ0LCBlbmQ6IGVuZCB9KQogICAgICAgIH0sIHRydWUpOwogICAgICAgIHJldHVybiB0aGlzLmNsb25lUG9zKHN0YXJ0KTsKICAgIH07CiAgICB0aGlzLnJlbW92ZUZ1bGxMaW5lcyA9IGZ1bmN0aW9uIChmaXJzdFJvdywgbGFzdFJvdykgewogICAgICAgIGZpcnN0Um93ID0gTWF0aC5taW4oTWF0aC5tYXgoMCwgZmlyc3RSb3cpLCB0aGlzLmdldExlbmd0aCgpIC0gMSk7CiAgICAgICAgbGFzdFJvdyA9IE1hdGgubWluKE1hdGgubWF4KDAsIGxhc3RSb3cpLCB0aGlzLmdldExlbmd0aCgpIC0gMSk7CiAgICAgICAgdmFyIGRlbGV0ZUZpcnN0TmV3TGluZSA9IGxhc3RSb3cgPT0gdGhpcy5nZXRMZW5ndGgoKSAtIDEgJiYgZmlyc3RSb3cgPiAwOwogICAgICAgIHZhciBkZWxldGVMYXN0TmV3TGluZSA9IGxhc3RSb3cgPCB0aGlzLmdldExlbmd0aCgpIC0gMTsKICAgICAgICB2YXIgc3RhcnRSb3cgPSAoZGVsZXRlRmlyc3ROZXdMaW5lID8gZmlyc3RSb3cgLSAxIDogZmlyc3RSb3cpOwogICAgICAgIHZhciBzdGFydENvbCA9IChkZWxldGVGaXJzdE5ld0xpbmUgPyB0aGlzLmdldExpbmUoc3RhcnRSb3cpLmxlbmd0aCA6IDApOwogICAgICAgIHZhciBlbmRSb3cgPSAoZGVsZXRlTGFzdE5ld0xpbmUgPyBsYXN0Um93ICsgMSA6IGxhc3RSb3cpOwogICAgICAgIHZhciBlbmRDb2wgPSAoZGVsZXRlTGFzdE5ld0xpbmUgPyAwIDogdGhpcy5nZXRMaW5lKGVuZFJvdykubGVuZ3RoKTsKICAgICAgICB2YXIgcmFuZ2UgPSBuZXcgUmFuZ2Uoc3RhcnRSb3csIHN0YXJ0Q29sLCBlbmRSb3csIGVuZENvbCk7CiAgICAgICAgdmFyIGRlbGV0ZWRMaW5lcyA9IHRoaXMuJGxpbmVzLnNsaWNlKGZpcnN0Um93LCBsYXN0Um93ICsgMSk7CiAgICAgICAgdGhpcy5hcHBseURlbHRhKHsKICAgICAgICAgICAgc3RhcnQ6IHJhbmdlLnN0YXJ0LAogICAgICAgICAgICBlbmQ6IHJhbmdlLmVuZCwKICAgICAgICAgICAgYWN0aW9uOiAicmVtb3ZlIiwKICAgICAgICAgICAgbGluZXM6IHRoaXMuZ2V0TGluZXNGb3JSYW5nZShyYW5nZSkKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gZGVsZXRlZExpbmVzOwogICAgfTsKICAgIHRoaXMucmVtb3ZlTmV3TGluZSA9IGZ1bmN0aW9uIChyb3cpIHsKICAgICAgICBpZiAocm93IDwgdGhpcy5nZXRMZW5ndGgoKSAtIDEgJiYgcm93ID49IDApIHsKICAgICAgICAgICAgdGhpcy5hcHBseURlbHRhKHsKICAgICAgICAgICAgICAgIHN0YXJ0OiB0aGlzLnBvcyhyb3csIHRoaXMuZ2V0TGluZShyb3cpLmxlbmd0aCksCiAgICAgICAgICAgICAgICBlbmQ6IHRoaXMucG9zKHJvdyArIDEsIDApLAogICAgICAgICAgICAgICAgYWN0aW9uOiAicmVtb3ZlIiwKICAgICAgICAgICAgICAgIGxpbmVzOiBbIiIsICIiXQogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICB9OwogICAgdGhpcy5yZXBsYWNlID0gZnVuY3Rpb24gKHJhbmdlLCB0ZXh0KSB7CiAgICAgICAgaWYgKCEocmFuZ2UgaW5zdGFuY2VvZiBSYW5nZSkpCiAgICAgICAgICAgIHJhbmdlID0gUmFuZ2UuZnJvbVBvaW50cyhyYW5nZS5zdGFydCwgcmFuZ2UuZW5kKTsKICAgICAgICBpZiAodGV4dC5sZW5ndGggPT09IDAgJiYgcmFuZ2UuaXNFbXB0eSgpKQogICAgICAgICAgICByZXR1cm4gcmFuZ2Uuc3RhcnQ7CiAgICAgICAgaWYgKHRleHQgPT0gdGhpcy5nZXRUZXh0UmFuZ2UocmFuZ2UpKQogICAgICAgICAgICByZXR1cm4gcmFuZ2UuZW5kOwogICAgICAgIHRoaXMucmVtb3ZlKHJhbmdlKTsKICAgICAgICB2YXIgZW5kOwogICAgICAgIGlmICh0ZXh0KSB7CiAgICAgICAgICAgIGVuZCA9IHRoaXMuaW5zZXJ0KHJhbmdlLnN0YXJ0LCB0ZXh0KTsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIGVuZCA9IHJhbmdlLnN0YXJ0OwogICAgICAgIH0KICAgICAgICByZXR1cm4gZW5kOwogICAgfTsKICAgIHRoaXMuYXBwbHlEZWx0YXMgPSBmdW5jdGlvbiAoZGVsdGFzKSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkZWx0YXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgdGhpcy5hcHBseURlbHRhKGRlbHRhc1tpXSk7CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMucmV2ZXJ0RGVsdGFzID0gZnVuY3Rpb24gKGRlbHRhcykgewogICAgICAgIGZvciAodmFyIGkgPSBkZWx0YXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHsKICAgICAgICAgICAgdGhpcy5yZXZlcnREZWx0YShkZWx0YXNbaV0pOwogICAgICAgIH0KICAgIH07CiAgICB0aGlzLmFwcGx5RGVsdGEgPSBmdW5jdGlvbiAoZGVsdGEsIGRvTm90VmFsaWRhdGUpIHsKICAgICAgICB2YXIgaXNJbnNlcnQgPSBkZWx0YS5hY3Rpb24gPT0gImluc2VydCI7CiAgICAgICAgaWYgKGlzSW5zZXJ0ID8gZGVsdGEubGluZXMubGVuZ3RoIDw9IDEgJiYgIWRlbHRhLmxpbmVzWzBdCiAgICAgICAgICAgIDogIVJhbmdlLmNvbXBhcmVQb2ludHMoZGVsdGEuc3RhcnQsIGRlbHRhLmVuZCkpIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBpZiAoaXNJbnNlcnQgJiYgZGVsdGEubGluZXMubGVuZ3RoID4gMjAwMDApIHsKICAgICAgICAgICAgdGhpcy4kc3BsaXRBbmRhcHBseUxhcmdlRGVsdGEoZGVsdGEsIDIwMDAwKTsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIGFwcGx5RGVsdGEodGhpcy4kbGluZXMsIGRlbHRhLCBkb05vdFZhbGlkYXRlKTsKICAgICAgICAgICAgdGhpcy5fc2lnbmFsKCJjaGFuZ2UiLCBkZWx0YSk7CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMuJHNhZmVBcHBseURlbHRhID0gZnVuY3Rpb24gKGRlbHRhKSB7CiAgICAgICAgdmFyIGRvY0xlbmd0aCA9IHRoaXMuJGxpbmVzLmxlbmd0aDsKICAgICAgICBpZiAoZGVsdGEuYWN0aW9uID09ICJyZW1vdmUiICYmIGRlbHRhLnN0YXJ0LnJvdyA8IGRvY0xlbmd0aCAmJiBkZWx0YS5lbmQucm93IDwgZG9jTGVuZ3RoCiAgICAgICAgICAgIHx8IGRlbHRhLmFjdGlvbiA9PSAiaW5zZXJ0IiAmJiBkZWx0YS5zdGFydC5yb3cgPD0gZG9jTGVuZ3RoKSB7CiAgICAgICAgICAgIHRoaXMuYXBwbHlEZWx0YShkZWx0YSk7CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMuJHNwbGl0QW5kYXBwbHlMYXJnZURlbHRhID0gZnVuY3Rpb24gKGRlbHRhLCBNQVgpIHsKICAgICAgICB2YXIgbGluZXMgPSBkZWx0YS5saW5lczsKICAgICAgICB2YXIgbCA9IGxpbmVzLmxlbmd0aCAtIE1BWCArIDE7CiAgICAgICAgdmFyIHJvdyA9IGRlbHRhLnN0YXJ0LnJvdzsKICAgICAgICB2YXIgY29sdW1uID0gZGVsdGEuc3RhcnQuY29sdW1uOwogICAgICAgIGZvciAodmFyIGZyb20gPSAwLCB0byA9IDA7IGZyb20gPCBsOyBmcm9tID0gdG8pIHsKICAgICAgICAgICAgdG8gKz0gTUFYIC0gMTsKICAgICAgICAgICAgdmFyIGNodW5rID0gbGluZXMuc2xpY2UoZnJvbSwgdG8pOwogICAgICAgICAgICBjaHVuay5wdXNoKCIiKTsKICAgICAgICAgICAgdGhpcy5hcHBseURlbHRhKHsKICAgICAgICAgICAgICAgIHN0YXJ0OiB0aGlzLnBvcyhyb3cgKyBmcm9tLCBjb2x1bW4pLAogICAgICAgICAgICAgICAgZW5kOiB0aGlzLnBvcyhyb3cgKyB0bywgY29sdW1uID0gMCksCiAgICAgICAgICAgICAgICBhY3Rpb246IGRlbHRhLmFjdGlvbiwKICAgICAgICAgICAgICAgIGxpbmVzOiBjaHVuawogICAgICAgICAgICB9LCB0cnVlKTsKICAgICAgICB9CiAgICAgICAgZGVsdGEubGluZXMgPSBsaW5lcy5zbGljZShmcm9tKTsKICAgICAgICBkZWx0YS5zdGFydC5yb3cgPSByb3cgKyBmcm9tOwogICAgICAgIGRlbHRhLnN0YXJ0LmNvbHVtbiA9IGNvbHVtbjsKICAgICAgICB0aGlzLmFwcGx5RGVsdGEoZGVsdGEsIHRydWUpOwogICAgfTsKICAgIHRoaXMucmV2ZXJ0RGVsdGEgPSBmdW5jdGlvbiAoZGVsdGEpIHsKICAgICAgICB0aGlzLiRzYWZlQXBwbHlEZWx0YSh7CiAgICAgICAgICAgIHN0YXJ0OiB0aGlzLmNsb25lUG9zKGRlbHRhLnN0YXJ0KSwKICAgICAgICAgICAgZW5kOiB0aGlzLmNsb25lUG9zKGRlbHRhLmVuZCksCiAgICAgICAgICAgIGFjdGlvbjogKGRlbHRhLmFjdGlvbiA9PSAiaW5zZXJ0IiA/ICJyZW1vdmUiIDogImluc2VydCIpLAogICAgICAgICAgICBsaW5lczogZGVsdGEubGluZXMuc2xpY2UoKQogICAgICAgIH0pOwogICAgfTsKICAgIHRoaXMuaW5kZXhUb1Bvc2l0aW9uID0gZnVuY3Rpb24gKGluZGV4LCBzdGFydFJvdykgewogICAgICAgIHZhciBsaW5lcyA9IHRoaXMuJGxpbmVzIHx8IHRoaXMuZ2V0QWxsTGluZXMoKTsKICAgICAgICB2YXIgbmV3bGluZUxlbmd0aCA9IHRoaXMuZ2V0TmV3TGluZUNoYXJhY3RlcigpLmxlbmd0aDsKICAgICAgICBmb3IgKHZhciBpID0gc3RhcnRSb3cgfHwgMCwgbCA9IGxpbmVzLmxlbmd0aDsgaSA8IGw7IGkrKykgewogICAgICAgICAgICBpbmRleCAtPSBsaW5lc1tpXS5sZW5ndGggKyBuZXdsaW5lTGVuZ3RoOwogICAgICAgICAgICBpZiAoaW5kZXggPCAwKQogICAgICAgICAgICAgICAgcmV0dXJuIHsgcm93OiBpLCBjb2x1bW46IGluZGV4ICsgbGluZXNbaV0ubGVuZ3RoICsgbmV3bGluZUxlbmd0aCB9OwogICAgICAgIH0KICAgICAgICByZXR1cm4geyByb3c6IGwgLSAxLCBjb2x1bW46IGluZGV4ICsgbGluZXNbbCAtIDFdLmxlbmd0aCArIG5ld2xpbmVMZW5ndGggfTsKICAgIH07CiAgICB0aGlzLnBvc2l0aW9uVG9JbmRleCA9IGZ1bmN0aW9uIChwb3MsIHN0YXJ0Um93KSB7CiAgICAgICAgdmFyIGxpbmVzID0gdGhpcy4kbGluZXMgfHwgdGhpcy5nZXRBbGxMaW5lcygpOwogICAgICAgIHZhciBuZXdsaW5lTGVuZ3RoID0gdGhpcy5nZXROZXdMaW5lQ2hhcmFjdGVyKCkubGVuZ3RoOwogICAgICAgIHZhciBpbmRleCA9IDA7CiAgICAgICAgdmFyIHJvdyA9IE1hdGgubWluKHBvcy5yb3csIGxpbmVzLmxlbmd0aCk7CiAgICAgICAgZm9yICh2YXIgaSA9IHN0YXJ0Um93IHx8IDA7IGkgPCByb3c7ICsraSkKICAgICAgICAgICAgaW5kZXggKz0gbGluZXNbaV0ubGVuZ3RoICsgbmV3bGluZUxlbmd0aDsKICAgICAgICByZXR1cm4gaW5kZXggKyBwb3MuY29sdW1uOwogICAgfTsKfSkuY2FsbChEb2N1bWVudC5wcm90b3R5cGUpOwpleHBvcnRzLkRvY3VtZW50ID0gRG9jdW1lbnQ7Cgp9KTsKCmFjZS5kZWZpbmUoImFjZS9saWIvbGFuZyIsW10sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSl7InVzZSBzdHJpY3QiOwpleHBvcnRzLmxhc3QgPSBmdW5jdGlvbiAoYSkgewogICAgcmV0dXJuIGFbYS5sZW5ndGggLSAxXTsKfTsKZXhwb3J0cy5zdHJpbmdSZXZlcnNlID0gZnVuY3Rpb24gKHN0cmluZykgewogICAgcmV0dXJuIHN0cmluZy5zcGxpdCgiIikucmV2ZXJzZSgpLmpvaW4oIiIpOwp9OwpleHBvcnRzLnN0cmluZ1JlcGVhdCA9IGZ1bmN0aW9uIChzdHJpbmcsIGNvdW50KSB7CiAgICB2YXIgcmVzdWx0ID0gJyc7CiAgICB3aGlsZSAoY291bnQgPiAwKSB7CiAgICAgICAgaWYgKGNvdW50ICYgMSkKICAgICAgICAgICAgcmVzdWx0ICs9IHN0cmluZzsKICAgICAgICBpZiAoY291bnQgPj49IDEpCiAgICAgICAgICAgIHN0cmluZyArPSBzdHJpbmc7CiAgICB9CiAgICByZXR1cm4gcmVzdWx0Owp9Owp2YXIgdHJpbUJlZ2luUmVnZXhwID0gL15cc1xzKi87CnZhciB0cmltRW5kUmVnZXhwID0gL1xzXHMqJC87CmV4cG9ydHMuc3RyaW5nVHJpbUxlZnQgPSBmdW5jdGlvbiAoc3RyaW5nKSB7CiAgICByZXR1cm4gc3RyaW5nLnJlcGxhY2UodHJpbUJlZ2luUmVnZXhwLCAnJyk7Cn07CmV4cG9ydHMuc3RyaW5nVHJpbVJpZ2h0ID0gZnVuY3Rpb24gKHN0cmluZykgewogICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKHRyaW1FbmRSZWdleHAsICcnKTsKfTsKZXhwb3J0cy5jb3B5T2JqZWN0ID0gZnVuY3Rpb24gKG9iaikgewogICAgdmFyIGNvcHkgPSB7fTsKICAgIGZvciAodmFyIGtleSBpbiBvYmopIHsKICAgICAgICBjb3B5W2tleV0gPSBvYmpba2V5XTsKICAgIH0KICAgIHJldHVybiBjb3B5Owp9OwpleHBvcnRzLmNvcHlBcnJheSA9IGZ1bmN0aW9uIChhcnJheSkgewogICAgdmFyIGNvcHkgPSBbXTsKICAgIGZvciAodmFyIGkgPSAwLCBsID0gYXJyYXkubGVuZ3RoOyBpIDwgbDsgaSsrKSB7CiAgICAgICAgaWYgKGFycmF5W2ldICYmIHR5cGVvZiBhcnJheVtpXSA9PSAib2JqZWN0IikKICAgICAgICAgICAgY29weVtpXSA9IHRoaXMuY29weU9iamVjdChhcnJheVtpXSk7CiAgICAgICAgZWxzZQogICAgICAgICAgICBjb3B5W2ldID0gYXJyYXlbaV07CiAgICB9CiAgICByZXR1cm4gY29weTsKfTsKZXhwb3J0cy5kZWVwQ29weSA9IGZ1bmN0aW9uIGRlZXBDb3B5KG9iaikgewogICAgaWYgKHR5cGVvZiBvYmogIT09ICJvYmplY3QiIHx8ICFvYmopCiAgICAgICAgcmV0dXJuIG9iajsKICAgIHZhciBjb3B5OwogICAgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkgewogICAgICAgIGNvcHkgPSBbXTsKICAgICAgICBmb3IgKHZhciBrZXkgPSAwOyBrZXkgPCBvYmoubGVuZ3RoOyBrZXkrKykgewogICAgICAgICAgICBjb3B5W2tleV0gPSBkZWVwQ29weShvYmpba2V5XSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBjb3B5OwogICAgfQogICAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopICE9PSAiW29iamVjdCBPYmplY3RdIikKICAgICAgICByZXR1cm4gb2JqOwogICAgY29weSA9IHt9OwogICAgZm9yICh2YXIga2V5IGluIG9iaikKICAgICAgICBjb3B5W2tleV0gPSBkZWVwQ29weShvYmpba2V5XSk7CiAgICByZXR1cm4gY29weTsKfTsKZXhwb3J0cy5hcnJheVRvTWFwID0gZnVuY3Rpb24gKGFycikgewogICAgdmFyIG1hcCA9IHt9OwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsKICAgICAgICBtYXBbYXJyW2ldXSA9IDE7CiAgICB9CiAgICByZXR1cm4gbWFwOwp9OwpleHBvcnRzLmNyZWF0ZU1hcCA9IGZ1bmN0aW9uIChwcm9wcykgewogICAgdmFyIG1hcCA9IE9iamVjdC5jcmVhdGUobnVsbCk7CiAgICBmb3IgKHZhciBpIGluIHByb3BzKSB7CiAgICAgICAgbWFwW2ldID0gcHJvcHNbaV07CiAgICB9CiAgICByZXR1cm4gbWFwOwp9OwpleHBvcnRzLmFycmF5UmVtb3ZlID0gZnVuY3Rpb24gKGFycmF5LCB2YWx1ZSkgewogICAgZm9yICh2YXIgaSA9IDA7IGkgPD0gYXJyYXkubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAodmFsdWUgPT09IGFycmF5W2ldKSB7CiAgICAgICAgICAgIGFycmF5LnNwbGljZShpLCAxKTsKICAgICAgICB9CiAgICB9Cn07CmV4cG9ydHMuZXNjYXBlUmVnRXhwID0gZnVuY3Rpb24gKHN0cikgewogICAgcmV0dXJuIHN0ci5yZXBsYWNlKC8oWy4qKz9eJHt9KCl8W1xdXC9cXF0pL2csICdcXCQxJyk7Cn07CmV4cG9ydHMuZXNjYXBlSFRNTCA9IGZ1bmN0aW9uIChzdHIpIHsKICAgIHJldHVybiAoIiIgKyBzdHIpLnJlcGxhY2UoLyYvZywgIiYjMzg7IikucmVwbGFjZSgvIi9nLCAiJiMzNDsiKS5yZXBsYWNlKC8nL2csICImIzM5OyIpLnJlcGxhY2UoLzwvZywgIiYjNjA7Iik7Cn07CmV4cG9ydHMuZ2V0TWF0Y2hPZmZzZXRzID0gZnVuY3Rpb24gKHN0cmluZywgcmVnRXhwKSB7CiAgICB2YXIgbWF0Y2hlcyA9IFtdOwogICAgc3RyaW5nLnJlcGxhY2UocmVnRXhwLCBmdW5jdGlvbiAoc3RyKSB7CiAgICAgICAgbWF0Y2hlcy5wdXNoKHsKICAgICAgICAgICAgb2Zmc2V0OiBhcmd1bWVudHNbYXJndW1lbnRzLmxlbmd0aCAtIDJdLAogICAgICAgICAgICBsZW5ndGg6IHN0ci5sZW5ndGgKICAgICAgICB9KTsKICAgIH0pOwogICAgcmV0dXJuIG1hdGNoZXM7Cn07CmV4cG9ydHMuZGVmZXJyZWRDYWxsID0gZnVuY3Rpb24gKGZjbikgewogICAgdmFyIHRpbWVyID0gbnVsbDsKICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB0aW1lciA9IG51bGw7CiAgICAgICAgZmNuKCk7CiAgICB9OwogICAgdmFyIGRlZmVycmVkID0gZnVuY3Rpb24gKHRpbWVvdXQpIHsKICAgICAgICBkZWZlcnJlZC5jYW5jZWwoKTsKICAgICAgICB0aW1lciA9IHNldFRpbWVvdXQoY2FsbGJhY2ssIHRpbWVvdXQgfHwgMCk7CiAgICAgICAgcmV0dXJuIGRlZmVycmVkOwogICAgfTsKICAgIGRlZmVycmVkLnNjaGVkdWxlID0gZGVmZXJyZWQ7CiAgICBkZWZlcnJlZC5jYWxsID0gZnVuY3Rpb24gKCkgewogICAgICAgIHRoaXMuY2FuY2VsKCk7CiAgICAgICAgZmNuKCk7CiAgICAgICAgcmV0dXJuIGRlZmVycmVkOwogICAgfTsKICAgIGRlZmVycmVkLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBjbGVhclRpbWVvdXQodGltZXIpOwogICAgICAgIHRpbWVyID0gbnVsbDsKICAgICAgICByZXR1cm4gZGVmZXJyZWQ7CiAgICB9OwogICAgZGVmZXJyZWQuaXNQZW5kaW5nID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiB0aW1lcjsKICAgIH07CiAgICByZXR1cm4gZGVmZXJyZWQ7Cn07CmV4cG9ydHMuZGVsYXllZENhbGwgPSBmdW5jdGlvbiAoZmNuLCBkZWZhdWx0VGltZW91dCkgewogICAgdmFyIHRpbWVyID0gbnVsbDsKICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB0aW1lciA9IG51bGw7CiAgICAgICAgZmNuKCk7CiAgICB9OwogICAgdmFyIF9zZWxmID0gZnVuY3Rpb24gKHRpbWVvdXQpIHsKICAgICAgICBpZiAodGltZXIgPT0gbnVsbCkKICAgICAgICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KGNhbGxiYWNrLCB0aW1lb3V0IHx8IGRlZmF1bHRUaW1lb3V0KTsKICAgIH07CiAgICBfc2VsZi5kZWxheSA9IGZ1bmN0aW9uICh0aW1lb3V0KSB7CiAgICAgICAgdGltZXIgJiYgY2xlYXJUaW1lb3V0KHRpbWVyKTsKICAgICAgICB0aW1lciA9IHNldFRpbWVvdXQoY2FsbGJhY2ssIHRpbWVvdXQgfHwgZGVmYXVsdFRpbWVvdXQpOwogICAgfTsKICAgIF9zZWxmLnNjaGVkdWxlID0gX3NlbGY7CiAgICBfc2VsZi5jYWxsID0gZnVuY3Rpb24gKCkgewogICAgICAgIHRoaXMuY2FuY2VsKCk7CiAgICAgICAgZmNuKCk7CiAgICB9OwogICAgX3NlbGYuY2FuY2VsID0gZnVuY3Rpb24gKCkgewogICAgICAgIHRpbWVyICYmIGNsZWFyVGltZW91dCh0aW1lcik7CiAgICAgICAgdGltZXIgPSBudWxsOwogICAgfTsKICAgIF9zZWxmLmlzUGVuZGluZyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gdGltZXI7CiAgICB9OwogICAgcmV0dXJuIF9zZWxmOwp9OwoKfSk7CgphY2UuZGVmaW5lKCJhY2Uvd29ya2VyL21pcnJvciIsW10sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkgewoidXNlIHN0cmljdCI7Cgp2YXIgRG9jdW1lbnQgPSByZXF1aXJlKCIuLi9kb2N1bWVudCIpLkRvY3VtZW50Owp2YXIgbGFuZyA9IHJlcXVpcmUoIi4uL2xpYi9sYW5nIik7CiAgICAKdmFyIE1pcnJvciA9IGV4cG9ydHMuTWlycm9yID0gZnVuY3Rpb24oc2VuZGVyKSB7CiAgICB0aGlzLnNlbmRlciA9IHNlbmRlcjsKICAgIHZhciBkb2MgPSB0aGlzLmRvYyA9IG5ldyBEb2N1bWVudCgiIik7CiAgICAKICAgIHZhciBkZWZlcnJlZFVwZGF0ZSA9IHRoaXMuZGVmZXJyZWRVcGRhdGUgPSBsYW5nLmRlbGF5ZWRDYWxsKHRoaXMub25VcGRhdGUuYmluZCh0aGlzKSk7CiAgICAKICAgIHZhciBfc2VsZiA9IHRoaXM7CiAgICBzZW5kZXIub24oImNoYW5nZSIsIGZ1bmN0aW9uKGUpIHsKICAgICAgICB2YXIgZGF0YSA9IGUuZGF0YTsKICAgICAgICBpZiAoZGF0YVswXS5zdGFydCkgewogICAgICAgICAgICBkb2MuYXBwbHlEZWx0YXMoZGF0YSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSArPSAyKSB7CiAgICAgICAgICAgICAgICB2YXIgZCwgZXJyOyAKICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGFbaSsxXSkpIHsKICAgICAgICAgICAgICAgICAgICBkID0ge2FjdGlvbjogImluc2VydCIsIHN0YXJ0OiBkYXRhW2ldLCBsaW5lczogZGF0YVtpKzFdfTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgZCA9IHthY3Rpb246ICJyZW1vdmUiLCBzdGFydDogZGF0YVtpXSwgZW5kOiBkYXRhW2krMV19OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBpZiAoKGQuYWN0aW9uID09ICJpbnNlcnQiID8gZC5zdGFydCA6IGQuZW5kKS5yb3cgPj0gZG9jLiRsaW5lcy5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgICBlcnIgPSBuZXcgRXJyb3IoIkludmFsaWQgZGVsdGEiKTsKICAgICAgICAgICAgICAgICAgICBlcnIuZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogX3NlbGYuJHBhdGgsCiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVzTGVuZ3RoOiBkb2MuJGxpbmVzLmxlbmd0aCwKICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IGQuc3RhcnQsCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZDogZC5lbmQKICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgIHRocm93IGVycjsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBkb2MuYXBwbHlEZWx0YShkLCB0cnVlKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZiAoX3NlbGYuJHRpbWVvdXQpCiAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZFVwZGF0ZS5zY2hlZHVsZShfc2VsZi4kdGltZW91dCk7CiAgICAgICAgX3NlbGYub25VcGRhdGUoKTsKICAgIH0pOwp9OwoKKGZ1bmN0aW9uKCkgewogICAgCiAgICB0aGlzLiR0aW1lb3V0ID0gNTAwOwogICAgCiAgICB0aGlzLnNldFRpbWVvdXQgPSBmdW5jdGlvbih0aW1lb3V0KSB7CiAgICAgICAgdGhpcy4kdGltZW91dCA9IHRpbWVvdXQ7CiAgICB9OwogICAgCiAgICB0aGlzLnNldFZhbHVlID0gZnVuY3Rpb24odmFsdWUpIHsKICAgICAgICB0aGlzLmRvYy5zZXRWYWx1ZSh2YWx1ZSk7CiAgICAgICAgdGhpcy5kZWZlcnJlZFVwZGF0ZS5zY2hlZHVsZSh0aGlzLiR0aW1lb3V0KTsKICAgIH07CiAgICAKICAgIHRoaXMuZ2V0VmFsdWUgPSBmdW5jdGlvbihjYWxsYmFja0lkKSB7CiAgICAgICAgdGhpcy5zZW5kZXIuY2FsbGJhY2sodGhpcy5kb2MuZ2V0VmFsdWUoKSwgY2FsbGJhY2tJZCk7CiAgICB9OwogICAgCiAgICB0aGlzLm9uVXBkYXRlID0gZnVuY3Rpb24oKSB7CiAgICB9OwogICAgCiAgICB0aGlzLmlzUGVuZGluZyA9IGZ1bmN0aW9uKCkgewogICAgICAgIHJldHVybiB0aGlzLmRlZmVycmVkVXBkYXRlLmlzUGVuZGluZygpOwogICAgfTsKICAgIAp9KS5jYWxsKE1pcnJvci5wcm90b3R5cGUpOwoKfSk7CgphY2UuZGVmaW5lKCJhY2UvbW9kZS9qc29uL2pzb25fcGFyc2UiLFtdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHsKInVzZSBzdHJpY3QiOwoKICAgIHZhciBhdCwgICAgIC8vIFRoZSBpbmRleCBvZiB0aGUgY3VycmVudCBjaGFyYWN0ZXIKICAgICAgICBjaCwgICAgIC8vIFRoZSBjdXJyZW50IGNoYXJhY3RlcgogICAgICAgIGVzY2FwZWUgPSB7CiAgICAgICAgICAgICciJzogICciJywKICAgICAgICAgICAgJ1xcJzogJ1xcJywKICAgICAgICAgICAgJy8nOiAgJy8nLAogICAgICAgICAgICBiOiAgICAnXGInLAogICAgICAgICAgICBmOiAgICAnXGYnLAogICAgICAgICAgICBuOiAgICAnXG4nLAogICAgICAgICAgICByOiAgICAnXHInLAogICAgICAgICAgICB0OiAgICAnXHQnCiAgICAgICAgfSwKICAgICAgICB0ZXh0LAoKICAgICAgICBlcnJvciA9IGZ1bmN0aW9uIChtKSB7CgogICAgICAgICAgICB0aHJvdyB7CiAgICAgICAgICAgICAgICBuYW1lOiAgICAnU3ludGF4RXJyb3InLAogICAgICAgICAgICAgICAgbWVzc2FnZTogbSwKICAgICAgICAgICAgICAgIGF0OiAgICAgIGF0LAogICAgICAgICAgICAgICAgdGV4dDogICAgdGV4dAogICAgICAgICAgICB9OwogICAgICAgIH0sCgogICAgICAgIG5leHQgPSBmdW5jdGlvbiAoYykgewoKICAgICAgICAgICAgaWYgKGMgJiYgYyAhPT0gY2gpIHsKICAgICAgICAgICAgICAgIGVycm9yKCJFeHBlY3RlZCAnIiArIGMgKyAiJyBpbnN0ZWFkIG9mICciICsgY2ggKyAiJyIpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBjaCA9IHRleHQuY2hhckF0KGF0KTsKICAgICAgICAgICAgYXQgKz0gMTsKICAgICAgICAgICAgcmV0dXJuIGNoOwogICAgICAgIH0sCgogICAgICAgIG51bWJlciA9IGZ1bmN0aW9uICgpIHsKCiAgICAgICAgICAgIHZhciBudW1iZXIsCiAgICAgICAgICAgICAgICBzdHJpbmcgPSAnJzsKCiAgICAgICAgICAgIGlmIChjaCA9PT0gJy0nKSB7CiAgICAgICAgICAgICAgICBzdHJpbmcgPSAnLSc7CiAgICAgICAgICAgICAgICBuZXh0KCctJyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgd2hpbGUgKGNoID49ICcwJyAmJiBjaCA8PSAnOScpIHsKICAgICAgICAgICAgICAgIHN0cmluZyArPSBjaDsKICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoY2ggPT09ICcuJykgewogICAgICAgICAgICAgICAgc3RyaW5nICs9ICcuJzsKICAgICAgICAgICAgICAgIHdoaWxlIChuZXh0KCkgJiYgY2ggPj0gJzAnICYmIGNoIDw9ICc5JykgewogICAgICAgICAgICAgICAgICAgIHN0cmluZyArPSBjaDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoY2ggPT09ICdlJyB8fCBjaCA9PT0gJ0UnKSB7CiAgICAgICAgICAgICAgICBzdHJpbmcgKz0gY2g7CiAgICAgICAgICAgICAgICBuZXh0KCk7CiAgICAgICAgICAgICAgICBpZiAoY2ggPT09ICctJyB8fCBjaCA9PT0gJysnKSB7CiAgICAgICAgICAgICAgICAgICAgc3RyaW5nICs9IGNoOwogICAgICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHdoaWxlIChjaCA+PSAnMCcgJiYgY2ggPD0gJzknKSB7CiAgICAgICAgICAgICAgICAgICAgc3RyaW5nICs9IGNoOwogICAgICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBudW1iZXIgPSArc3RyaW5nOwogICAgICAgICAgICBpZiAoaXNOYU4obnVtYmVyKSkgewogICAgICAgICAgICAgICAgZXJyb3IoIkJhZCBudW1iZXIiKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiBudW1iZXI7CiAgICAgICAgICAgIH0KICAgICAgICB9LAoKICAgICAgICBzdHJpbmcgPSBmdW5jdGlvbiAoKSB7CgogICAgICAgICAgICB2YXIgaGV4LAogICAgICAgICAgICAgICAgaSwKICAgICAgICAgICAgICAgIHN0cmluZyA9ICcnLAogICAgICAgICAgICAgICAgdWZmZmY7CgogICAgICAgICAgICBpZiAoY2ggPT09ICciJykgewogICAgICAgICAgICAgICAgd2hpbGUgKG5leHQoKSkgewogICAgICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gJyInKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0cmluZzsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNoID09PSAnXFwnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoID09PSAndScpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVmZmZmID0gMDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCA0OyBpICs9IDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZXggPSBwYXJzZUludChuZXh0KCksIDE2KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzRmluaXRlKGhleCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVmZmZmID0gdWZmZmYgKiAxNiArIGhleDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cmluZyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHVmZmZmKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZXNjYXBlZVtjaF0gPT09ICdzdHJpbmcnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJpbmcgKz0gZXNjYXBlZVtjaF07CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2ggPT0gIlxuIiB8fCBjaCA9PSAiXHIiKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN0cmluZyArPSBjaDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZXJyb3IoIkJhZCBzdHJpbmciKTsKICAgICAgICB9LAoKICAgICAgICB3aGl0ZSA9IGZ1bmN0aW9uICgpIHsKCiAgICAgICAgICAgIHdoaWxlIChjaCAmJiBjaCA8PSAnICcpIHsKICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgfQogICAgICAgIH0sCgogICAgICAgIHdvcmQgPSBmdW5jdGlvbiAoKSB7CgogICAgICAgICAgICBzd2l0Y2ggKGNoKSB7CiAgICAgICAgICAgIGNhc2UgJ3QnOgogICAgICAgICAgICAgICAgbmV4dCgndCcpOwogICAgICAgICAgICAgICAgbmV4dCgncicpOwogICAgICAgICAgICAgICAgbmV4dCgndScpOwogICAgICAgICAgICAgICAgbmV4dCgnZScpOwogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIGNhc2UgJ2YnOgogICAgICAgICAgICAgICAgbmV4dCgnZicpOwogICAgICAgICAgICAgICAgbmV4dCgnYScpOwogICAgICAgICAgICAgICAgbmV4dCgnbCcpOwogICAgICAgICAgICAgICAgbmV4dCgncycpOwogICAgICAgICAgICAgICAgbmV4dCgnZScpOwogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICBjYXNlICduJzoKICAgICAgICAgICAgICAgIG5leHQoJ24nKTsKICAgICAgICAgICAgICAgIG5leHQoJ3UnKTsKICAgICAgICAgICAgICAgIG5leHQoJ2wnKTsKICAgICAgICAgICAgICAgIG5leHQoJ2wnKTsKICAgICAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVycm9yKCJVbmV4cGVjdGVkICciICsgY2ggKyAiJyIpOwogICAgICAgIH0sCgogICAgICAgIHZhbHVlLCAgLy8gUGxhY2UgaG9sZGVyIGZvciB0aGUgdmFsdWUgZnVuY3Rpb24uCgogICAgICAgIGFycmF5ID0gZnVuY3Rpb24gKCkgewoKICAgICAgICAgICAgdmFyIGFycmF5ID0gW107CgogICAgICAgICAgICBpZiAoY2ggPT09ICdbJykgewogICAgICAgICAgICAgICAgbmV4dCgnWycpOwogICAgICAgICAgICAgICAgd2hpdGUoKTsKICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gJ10nKSB7CiAgICAgICAgICAgICAgICAgICAgbmV4dCgnXScpOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBhcnJheTsgICAvLyBlbXB0eSBhcnJheQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgd2hpbGUgKGNoKSB7CiAgICAgICAgICAgICAgICAgICAgYXJyYXkucHVzaCh2YWx1ZSgpKTsKICAgICAgICAgICAgICAgICAgICB3aGl0ZSgpOwogICAgICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gJ10nKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoJ10nKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFycmF5OwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBuZXh0KCcsJyk7CiAgICAgICAgICAgICAgICAgICAgd2hpdGUoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBlcnJvcigiQmFkIGFycmF5Iik7CiAgICAgICAgfSwKCiAgICAgICAgb2JqZWN0ID0gZnVuY3Rpb24gKCkgewoKICAgICAgICAgICAgdmFyIGtleSwKICAgICAgICAgICAgICAgIG9iamVjdCA9IHt9OwoKICAgICAgICAgICAgaWYgKGNoID09PSAneycpIHsKICAgICAgICAgICAgICAgIG5leHQoJ3snKTsKICAgICAgICAgICAgICAgIHdoaXRlKCk7CiAgICAgICAgICAgICAgICBpZiAoY2ggPT09ICd9JykgewogICAgICAgICAgICAgICAgICAgIG5leHQoJ30nKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0OyAgIC8vIGVtcHR5IG9iamVjdAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgd2hpbGUgKGNoKSB7CiAgICAgICAgICAgICAgICAgICAga2V5ID0gc3RyaW5nKCk7CiAgICAgICAgICAgICAgICAgICAgd2hpdGUoKTsKICAgICAgICAgICAgICAgICAgICBuZXh0KCc6Jyk7CiAgICAgICAgICAgICAgICAgICAgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSkgewogICAgICAgICAgICAgICAgICAgICAgICBlcnJvcignRHVwbGljYXRlIGtleSAiJyArIGtleSArICciJyk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIG9iamVjdFtrZXldID0gdmFsdWUoKTsKICAgICAgICAgICAgICAgICAgICB3aGl0ZSgpOwogICAgICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gJ30nKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoJ30nKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgbmV4dCgnLCcpOwogICAgICAgICAgICAgICAgICAgIHdoaXRlKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZXJyb3IoIkJhZCBvYmplY3QiKTsKICAgICAgICB9OwoKICAgIHZhbHVlID0gZnVuY3Rpb24gKCkgewoKICAgICAgICB3aGl0ZSgpOwogICAgICAgIHN3aXRjaCAoY2gpIHsKICAgICAgICBjYXNlICd7JzoKICAgICAgICAgICAgcmV0dXJuIG9iamVjdCgpOwogICAgICAgIGNhc2UgJ1snOgogICAgICAgICAgICByZXR1cm4gYXJyYXkoKTsKICAgICAgICBjYXNlICciJzoKICAgICAgICAgICAgcmV0dXJuIHN0cmluZygpOwogICAgICAgIGNhc2UgJy0nOgogICAgICAgICAgICByZXR1cm4gbnVtYmVyKCk7CiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgcmV0dXJuIGNoID49ICcwJyAmJiBjaCA8PSAnOScgPyBudW1iZXIoKSA6IHdvcmQoKTsKICAgICAgICB9CiAgICB9OwoKICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlLCByZXZpdmVyKSB7CiAgICAgICAgdmFyIHJlc3VsdDsKCiAgICAgICAgdGV4dCA9IHNvdXJjZTsKICAgICAgICBhdCA9IDA7CiAgICAgICAgY2ggPSAnICc7CiAgICAgICAgcmVzdWx0ID0gdmFsdWUoKTsKICAgICAgICB3aGl0ZSgpOwogICAgICAgIGlmIChjaCkgewogICAgICAgICAgICBlcnJvcigiU3ludGF4IGVycm9yIik7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gdHlwZW9mIHJldml2ZXIgPT09ICdmdW5jdGlvbicgPyBmdW5jdGlvbiB3YWxrKGhvbGRlciwga2V5KSB7CiAgICAgICAgICAgIHZhciBrLCB2LCB2YWx1ZSA9IGhvbGRlcltrZXldOwogICAgICAgICAgICBpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JykgewogICAgICAgICAgICAgICAgZm9yIChrIGluIHZhbHVlKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBrKSkgewogICAgICAgICAgICAgICAgICAgICAgICB2ID0gd2Fsayh2YWx1ZSwgayk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2ICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlW2tdID0gdjsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB2YWx1ZVtrXTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gcmV2aXZlci5jYWxsKGhvbGRlciwga2V5LCB2YWx1ZSk7CiAgICAgICAgfSh7Jyc6IHJlc3VsdH0sICcnKSA6IHJlc3VsdDsKICAgIH07Cn0pOwoKYWNlLmRlZmluZSgiYWNlL21vZGUvanNvbl93b3JrZXIiLFtdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHsKInVzZSBzdHJpY3QiOwoKdmFyIG9vcCA9IHJlcXVpcmUoIi4uL2xpYi9vb3AiKTsKdmFyIE1pcnJvciA9IHJlcXVpcmUoIi4uL3dvcmtlci9taXJyb3IiKS5NaXJyb3I7CnZhciBwYXJzZSA9IHJlcXVpcmUoIi4vanNvbi9qc29uX3BhcnNlIik7Cgp2YXIgSnNvbldvcmtlciA9IGV4cG9ydHMuSnNvbldvcmtlciA9IGZ1bmN0aW9uKHNlbmRlcikgewogICAgTWlycm9yLmNhbGwodGhpcywgc2VuZGVyKTsKICAgIHRoaXMuc2V0VGltZW91dCgyMDApOwp9OwoKb29wLmluaGVyaXRzKEpzb25Xb3JrZXIsIE1pcnJvcik7CgooZnVuY3Rpb24oKSB7CgogICAgdGhpcy5vblVwZGF0ZSA9IGZ1bmN0aW9uKCkgewogICAgICAgIHZhciB2YWx1ZSA9IHRoaXMuZG9jLmdldFZhbHVlKCk7CiAgICAgICAgdmFyIGVycm9ycyA9IFtdOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGlmICh2YWx1ZSkKICAgICAgICAgICAgICAgIHBhcnNlKHZhbHVlKTsKICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgIHZhciBwb3MgPSB0aGlzLmRvYy5pbmRleFRvUG9zaXRpb24oZS5hdC0xKTsKICAgICAgICAgICAgZXJyb3JzLnB1c2goewogICAgICAgICAgICAgICAgcm93OiBwb3Mucm93LAogICAgICAgICAgICAgICAgY29sdW1uOiBwb3MuY29sdW1uLAogICAgICAgICAgICAgICAgdGV4dDogZS5tZXNzYWdlLAogICAgICAgICAgICAgICAgdHlwZTogImVycm9yIgogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgdGhpcy5zZW5kZXIuZW1pdCgiYW5ub3RhdGUiLCBlcnJvcnMpOwogICAgfTsKCn0pLmNhbGwoSnNvbldvcmtlci5wcm90b3R5cGUpOwoKfSk7Cg==";
ace.config.setModuleUrl("ace/theme/kr_theme", themeUrl2);
ace.config.setModuleUrl("ace/mode/json", modeJsonUrl);
ace.config.setModuleUrl("ace/mode/json_worker", workerJsonUrl);
const _sfc_main$x = /* @__PURE__ */ defineComponent({
  __name: "code-edit-modal",
  props: {
    modelValue: { default: () => ({}) },
    lang: { default: "json" },
    title: { default: "编辑" }
  },
  emits: ["update:modelValue", "close"],
  setup(i, { emit: r }) {
    const n = i, o = ref(!1), a = r, u = computed({
      get() {
        return n.lang === "json" ? JSON.stringify(n.modelValue, null, 2) : n.modelValue;
      },
      set(c) {
        n.lang === "json" ? a("update:modelValue", JSON.parse(c)) : a("update:modelValue", c);
      }
    });
    return (c, d) => (openBlock(), createElementBlock("div", null, [
      createVNode$1(unref(ElButton), {
        onClick: d[0] || (d[0] = (f) => o.value = !0)
      }, {
        default: withCtx(() => [
          createTextVNode("···")
        ]),
        _: 1
      }),
      createVNode$1(unref(ElDialog), {
        class: "modal-full",
        modelValue: unref(o),
        "onUpdate:modelValue": d[2] || (d[2] = (f) => isRef(o) ? o.value = f : null),
        title: n.title,
        width: "60%",
        onClose: d[3] || (d[3] = (f) => a("close"))
      }, {
        default: withCtx(() => [
          createVNode$1(unref(VAceEditor), {
            value: unref(u),
            "onUpdate:value": d[1] || (d[1] = (f) => isRef(u) ? u.value = f : null),
            lang: n.lang,
            theme: "kr_theme",
            style: { height: "400px" },
            options: {
              useWorker: !0,
              enableBasicAutocompletion: !0,
              enableSnippets: !0,
              enableLiveAutocompletion: !0
            }
          }, null, 8, ["value", "lang"])
        ]),
        _: 1
      }, 8, ["modelValue", "title"])
    ]));
  }
}), _hoisted_1$7 = {
  class: "one-row-txt",
  style: { width: "78px" }
}, _hoisted_2$5 = { key: 1 }, _hoisted_3$4 = {
  class: "one-row-txt",
  style: { width: "145px" }
}, _hoisted_4$3 = { key: 1 }, _sfc_main$w = /* @__PURE__ */ defineComponent({
  __name: "dynamic-el-form-item",
  props: {
    objInfo: { default: () => ({}) },
    hide: { default: () => [] },
    code: { type: Boolean, default: !1 }
  },
  emits: ["change"],
  setup(i, { emit: r }) {
    const n = r, o = i, a = computed(() => {
      var p;
      const c = {};
      let d = 0, f = [];
      for (let _ of Object.keys(o.objInfo)) {
        const v = (p = o.objInfo[_]) == null ? void 0 : p.sort;
        if (v) {
          const g = Number(v);
          g > d && (d = g);
        }
        if (v)
          c[v] = _;
        else
          return Object.keys(o.objInfo).map((g) => ({
            ...o.objInfo[g],
            _key: g
          }));
      }
      for (let _ = 0; _ < d + 1; _++) {
        const v = String(_);
        f.push({
          ...o.objInfo[c[v]],
          _key: c[v]
        });
      }
      return f;
    });
    function u(c) {
      let d = window.setTimeout(function() {
        n("change", c), clearTimeout(d), d = null;
      }, 200);
    }
    return (c, d) => (openBlock(!0), createElementBlock(Fragment, null, renderList(unref(a), (f) => (openBlock(), createElementBlock("div", {
      key: f._key
    }, [
      o.code ? (openBlock(), createBlock(unref(ElFormItem$1), {
        key: 0,
        class: "props-row",
        size: "small"
      }, {
        label: withCtx(() => [
          unref(getStringWidth)(String(f._key)) > 78 ? (openBlock(), createBlock(unref(ElTooltip$1), {
            key: 0,
            content: String(f._key),
            placement: "left",
            "popper-class": "props-popper"
          }, {
            default: withCtx(() => [
              createElementVNode("div", _hoisted_1$7, toDisplayString(f._key), 1)
            ]),
            _: 2
          }, 1032, ["content"])) : (openBlock(), createElementBlock("span", _hoisted_2$5, toDisplayString(f._key), 1))
        ]),
        default: withCtx(() => [
          unref(getStringWidth)(String(f.val)) > 145 ? (openBlock(), createBlock(unref(ElTooltip$1), {
            key: 0,
            content: JSON.stringify(f.val),
            placement: "left",
            "popper-class": "props-popper"
          }, {
            default: withCtx(() => [
              createElementVNode("div", _hoisted_3$4, toDisplayString(f.val), 1)
            ]),
            _: 2
          }, 1032, ["content"])) : (openBlock(), createElementBlock("span", _hoisted_4$3, toDisplayString(f.val), 1))
        ]),
        _: 2
      }, 1024)) : createCommentVNode("", !0),
      o.hide.indexOf(String(f._key)) < 0 ? (openBlock(), createBlock(unref(ElFormItem$1), {
        key: 1,
        label: f.title,
        size: "small"
      }, {
        default: withCtx(() => [
          f.type === unref(EConfigItemPropsType).Select ? (openBlock(), createBlock(unref(ElSelect$1), {
            key: 0,
            modelValue: o.objInfo[f._key].val,
            "onUpdate:modelValue": (p) => o.objInfo[f._key].val = p,
            placeholder: "Select",
            size: "small",
            disabled: !!(f != null && f.disabled),
            onChange: u
          }, {
            default: withCtx(() => [
              (openBlock(!0), createElementBlock(Fragment, null, renderList(f.options, (p) => (openBlock(), createBlock(unref(ElOption$1), {
                key: p.value,
                label: p.label,
                value: p.value
              }, null, 8, ["label", "value"]))), 128))
            ]),
            _: 2
          }, 1032, ["modelValue", "onUpdate:modelValue", "disabled"])) : f.type === unref(EConfigItemPropsType).InputNumber ? (openBlock(), createBlock(unref(ElInputNumber), {
            key: 1,
            modelValue: o.objInfo[f._key].val,
            "onUpdate:modelValue": (p) => o.objInfo[f._key].val = p,
            disabled: !!(f != null && f.disabled),
            onChange: u
          }, null, 8, ["modelValue", "onUpdate:modelValue", "disabled"])) : f.type === unref(EConfigItemPropsType).Input ? (openBlock(), createBlock(unref(ElInput$1), {
            key: 2,
            modelValue: o.objInfo[f._key].val,
            "onUpdate:modelValue": (p) => o.objInfo[f._key].val = p,
            disabled: !!(f != null && f.disabled),
            onChange: u
          }, null, 8, ["modelValue", "onUpdate:modelValue", "disabled"])) : f.type === unref(EConfigItemPropsType).Textarea ? (openBlock(), createBlock(unref(ElInput$1), {
            key: 3,
            modelValue: o.objInfo[f._key].val,
            "onUpdate:modelValue": (p) => o.objInfo[f._key].val = p,
            autosize: "",
            type: "textarea",
            disabled: !!(f != null && f.disabled),
            onChange: u
          }, null, 8, ["modelValue", "onUpdate:modelValue", "disabled"])) : f.type === unref(EConfigItemPropsType).Color ? (openBlock(), createBlock(unref(ElColorPicker), {
            key: 4,
            modelValue: o.objInfo[f._key].val,
            "onUpdate:modelValue": (p) => o.objInfo[f._key].val = p,
            disabled: !!(f != null && f.disabled),
            onChange: u
          }, null, 8, ["modelValue", "onUpdate:modelValue", "disabled"])) : f.type === unref(EConfigItemPropsType).Switch ? (openBlock(), createBlock(unref(ElSwitch), {
            key: 5,
            modelValue: o.objInfo[f._key].val,
            "onUpdate:modelValue": (p) => o.objInfo[f._key].val = p,
            disabled: !!(f != null && f.disabled),
            onChange: u
          }, null, 8, ["modelValue", "onUpdate:modelValue", "disabled"])) : f.type === unref(EConfigItemPropsType).JsonEdit ? (openBlock(), createBlock(_sfc_main$x, {
            key: 6,
            modelValue: o.objInfo[f._key].val,
            "onUpdate:modelValue": (p) => o.objInfo[f._key].val = p,
            disabled: !!(f != null && f.disabled),
            onClose: u
          }, null, 8, ["modelValue", "onUpdate:modelValue", "disabled"])) : createCommentVNode("", !0)
        ]),
        _: 2
      }, 1032, ["label"])) : createCommentVNode("", !0)
    ]))), 128));
  }
}), dynamicElFormItem_vue_vue_type_style_index_0_scoped_b2819020_lang = "", dynamicElFormItem_vue_vue_type_style_index_1_lang = "", DynamicElFormItem = /* @__PURE__ */ _export_sfc$1(_sfc_main$w, [["__scopeId", "data-v-b2819020"]]), _hoisted_1$6 = { style: { height: "100%" } }, _hoisted_2$4 = { class: "flex flex-wrap" }, _hoisted_3$3 = ["onMouseenter", "onClick"], _sfc_main$v = /* @__PURE__ */ defineComponent({
  __name: "common-animate",
  props: {
    val: {}
  },
  emits: ["updateCommonAniVal"],
  setup(i, { emit: r }) {
    const n = i, o = r, a = ref(n.val), u = ref(!1), c = ref("进入"), d = ref(null), f = (p) => {
      o("updateCommonAniVal", p), u.value = !1;
    };
    return watch(
      () => n.val,
      (p) => {
        a.value = p;
      }
    ), (p, _) => (openBlock(), createElementBlock("div", _hoisted_1$6, [
      unref(a) ? (openBlock(), createBlock(unref(ElTag$1), {
        key: 0,
        closable: "",
        onClose: _[0] || (_[0] = (v) => f("")),
        onClick: _[1] || (_[1] = (v) => u.value = !0),
        style: { cursor: "pointer" }
      }, {
        default: withCtx(() => {
          var v;
          return [
            createTextVNode(toDisplayString((v = unref(common_animate_list).map((g) => g.children).reduce((g, y) => g.concat(y)).find((g) => g.value == unref(a))) == null ? void 0 : v.label) + " ", 1),
            createVNode$1(unref(ElIcon$1), { size: 10 }, {
              default: withCtx(() => [
                createVNode$1(_sfc_main$E, { name: "setting" })
              ]),
              _: 1
            })
          ];
        }),
        _: 1
      })) : (openBlock(), createBlock(unref(ElTag$1), {
        key: 1,
        type: "success",
        style: { cursor: "pointer" },
        onClick: _[2] || (_[2] = (v) => u.value = !0)
      }, {
        default: withCtx(() => [
          createTextVNode("新增")
        ]),
        _: 1
      })),
      createVNode$1(unref(ElDrawer), {
        modelValue: unref(u),
        "onUpdate:modelValue": _[5] || (_[5] = (v) => isRef(u) ? u.value = v : null),
        title: "选择动画",
        direction: "ltr"
      }, {
        default: withCtx(() => [
          createVNode$1(unref(ElTabs), {
            modelValue: unref(c),
            "onUpdate:modelValue": _[4] || (_[4] = (v) => isRef(c) ? c.value = v : null)
          }, {
            default: withCtx(() => [
              (openBlock(!0), createElementBlock(Fragment, null, renderList(unref(common_animate_list), (v) => (openBlock(), createBlock(unref(ElTabPane), {
                label: v.label,
                name: v.label,
                key: v.label
              }, {
                default: withCtx(() => [
                  createVNode$1(unref(ElScrollbar$1), { height: "500px" }, {
                    default: withCtx(() => [
                      createElementVNode("div", _hoisted_2$4, [
                        (openBlock(!0), createElementBlock(Fragment, null, renderList(v.children, (g, y) => (openBlock(), createElementBlock("div", {
                          class: "animate",
                          key: y,
                          onMouseenter: (b) => d.value = y,
                          onMouseleave: _[3] || (_[3] = (b) => d.value = null),
                          onClick: (b) => f(g.value)
                        }, [
                          createElementVNode("div", {
                            class: normalizeClass(`${unref(d) == y ? `animate__animated animate__${g.value} animate__slow animate__infinite` : ""}`)
                          }, toDisplayString(g.label), 3)
                        ], 40, _hoisted_3$3))), 128))
                      ])
                    ]),
                    _: 2
                  }, 1024)
                ]),
                _: 2
              }, 1032, ["label", "name"]))), 128))
            ]),
            _: 1
          }, 8, ["modelValue"])
        ]),
        _: 1
      }, 8, ["modelValue"])
    ]));
  }
}), commonAnimate_vue_vue_type_style_index_0_scoped_2668f60c_lang = "", CommonAnimate = /* @__PURE__ */ _export_sfc$1(_sfc_main$v, [["__scopeId", "data-v-2668f60c"]]), _sfc_main$u = /* @__PURE__ */ defineComponent({
  __name: "component-tree",
  setup(i) {
    const r = useGlobalStore(pinia), n = computed(() => {
      var u;
      return ((u = r.handle_svg_info) == null ? void 0 : u.info.id) ?? "";
    }), o = (u) => {
      for (let c of r.done_json)
        c.selected = !1, c.old_position = { x: 0, y: 0 };
      r.intention = EGlobalStoreIntention.Select, r.setHandleSvgInfo(u);
    }, a = {
      children: "children",
      label: "title"
    };
    return (u, c) => (openBlock(), createBlock(unref(ElTree), {
      class: "tree-v",
      data: unref(r).done_json,
      props: a,
      onNodeClick: o,
      "default-expand-all": !0,
      "expand-on-click-node": !1,
      "highlight-current": !!unref(n),
      "node-key": "id",
      "current-node-key": unref(n)
    }, null, 8, ["data", "highlight-current", "current-node-key"]));
  }
}), _withScopeId$1 = (i) => (pushScopeId("data-v-98320511"), i = i(), popScopeId(), i), _hoisted_1$5 = { class: "wall-l" }, _hoisted_2$3 = { class: "head-l" }, _hoisted_3$2 = /* @__PURE__ */ _withScopeId$1(() => /* @__PURE__ */ createElementVNode("span", null, "key", -1)), _hoisted_4$2 = /* @__PURE__ */ _withScopeId$1(() => /* @__PURE__ */ createElementVNode("span", null, "value", -1)), _hoisted_5$1 = { class: "row-l" }, _sfc_main$t = /* @__PURE__ */ defineComponent({
  __name: "list",
  props: {
    modelValue: { default: () => [
      {
        key: "",
        val: ""
      }
    ] }
  },
  emits: ["update:modelValue"],
  setup(i, { emit: r }) {
    const n = i, o = r, a = computed({
      get() {
        return n.modelValue;
      },
      set(d) {
        o("update:modelValue", d);
      }
    }), u = () => {
      a.value.push({
        key: "",
        val: ""
      });
    }, c = (d) => {
      a.value.splice(d, 1);
    };
    return (d, f) => (openBlock(), createElementBlock("div", _hoisted_1$5, [
      createElementVNode("div", _hoisted_2$3, [
        _hoisted_3$2,
        _hoisted_4$2,
        createVNode$1(unref(ElIcon$1), {
          size: 16,
          class: "bt-Icon",
          onClick: u
        }, {
          default: withCtx(() => [
            createVNode$1(_sfc_main$E, { name: "add" })
          ]),
          _: 1
        })
      ]),
      (openBlock(!0), createElementBlock(Fragment, null, renderList(unref(a), (p, _) => (openBlock(), createElementBlock("div", _hoisted_5$1, [
        createVNode$1(unref(ElInput$1), {
          class: "content-l",
          modelValue: p.key,
          "onUpdate:modelValue": (v) => p.key = v,
          size: "small",
          placeholder: "key"
        }, null, 8, ["modelValue", "onUpdate:modelValue"]),
        createVNode$1(unref(ElInput$1), {
          class: "content-l",
          modelValue: p.val,
          "onUpdate:modelValue": (v) => p.val = v,
          size: "small",
          placeholder: "value"
        }, null, 8, ["modelValue", "onUpdate:modelValue"]),
        createVNode$1(unref(ElIcon$1), {
          size: 16,
          class: "bt-Icon",
          onClick: (v) => c(_)
        }, {
          default: withCtx(() => [
            createVNode$1(_sfc_main$E, { name: "delete" })
          ]),
          _: 2
        }, 1032, ["onClick"])
      ]))), 256))
    ]));
  }
}), list_vue_vue_type_style_index_0_scoped_98320511_lang = "", List = /* @__PURE__ */ _export_sfc$1(_sfc_main$t, [["__scopeId", "data-v-98320511"]]), composeEventHandlers = (i, r, { checkForDefaultPrevented: n = !0 } = {}) => (a) => {
  const u = i == null ? void 0 : i(a);
  if (n === !1 || !u)
    return r == null ? void 0 : r(a);
};
var _a;
const isClient = typeof window < "u", isString$1 = (i) => typeof i == "string", noop = () => {
}, isIOS = isClient && ((_a = window == null ? void 0 : window.navigator) == null ? void 0 : _a.userAgent) && /iP(ad|hone|od)/.test(window.navigator.userAgent);
function resolveUnref(i) {
  return typeof i == "function" ? i() : unref(i);
}
function createFilterWrapper(i, r) {
  function n(...o) {
    return new Promise((a, u) => {
      Promise.resolve(i(() => r.apply(this, o), { fn: r, thisArg: this, args: o })).then(a).catch(u);
    });
  }
  return n;
}
function debounceFilter(i, r = {}) {
  let n, o, a = noop;
  const u = (d) => {
    clearTimeout(d), a(), a = noop;
  };
  return (d) => {
    const f = resolveUnref(i), p = resolveUnref(r.maxWait);
    return n && u(n), f <= 0 || p !== void 0 && p <= 0 ? (o && (u(o), o = null), Promise.resolve(d())) : new Promise((_, v) => {
      a = r.rejectOnCancel ? v : _, p && !o && (o = setTimeout(() => {
        n && u(n), o = null, _(d());
      }, p)), n = setTimeout(() => {
        o && u(o), o = null, _(d());
      }, f);
    });
  };
}
function identity(i) {
  return i;
}
function tryOnScopeDispose(i) {
  return getCurrentScope() ? (onScopeDispose(i), !0) : !1;
}
function useDebounceFn(i, r = 200, n = {}) {
  return createFilterWrapper(debounceFilter(r, n), i);
}
function refDebounced(i, r = 200, n = {}) {
  const o = ref(i.value), a = useDebounceFn(() => {
    o.value = i.value;
  }, r, n);
  return watch(i, () => a()), o;
}
function tryOnMounted(i, r = !0) {
  getCurrentInstance() ? onMounted(i) : r ? i() : nextTick(i);
}
function unrefElement(i) {
  var r;
  const n = resolveUnref(i);
  return (r = n == null ? void 0 : n.$el) != null ? r : n;
}
const defaultWindow = isClient ? window : void 0;
function useEventListener(...i) {
  let r, n, o, a;
  if (isString$1(i[0]) || Array.isArray(i[0]) ? ([n, o, a] = i, r = defaultWindow) : [r, n, o, a] = i, !r)
    return noop;
  Array.isArray(n) || (n = [n]), Array.isArray(o) || (o = [o]);
  const u = [], c = () => {
    u.forEach((_) => _()), u.length = 0;
  }, d = (_, v, g, y) => (_.addEventListener(v, g, y), () => _.removeEventListener(v, g, y)), f = watch(() => [unrefElement(r), resolveUnref(a)], ([_, v]) => {
    c(), _ && u.push(...n.flatMap((g) => o.map((y) => d(_, g, y, v))));
  }, { immediate: !0, flush: "post" }), p = () => {
    f(), c();
  };
  return tryOnScopeDispose(p), p;
}
let _iOSWorkaround = !1;
function onClickOutside(i, r, n = {}) {
  const { window: o = defaultWindow, ignore: a = [], capture: u = !0, detectIframe: c = !1 } = n;
  if (!o)
    return;
  isIOS && !_iOSWorkaround && (_iOSWorkaround = !0, Array.from(o.document.body.children).forEach((g) => g.addEventListener("click", noop)));
  let d = !0;
  const f = (g) => a.some((y) => {
    if (typeof y == "string")
      return Array.from(o.document.querySelectorAll(y)).some((b) => b === g.target || g.composedPath().includes(b));
    {
      const b = unrefElement(y);
      return b && (g.target === b || g.composedPath().includes(b));
    }
  }), _ = [
    useEventListener(o, "click", (g) => {
      const y = unrefElement(i);
      if (!(!y || y === g.target || g.composedPath().includes(y))) {
        if (g.detail === 0 && (d = !f(g)), !d) {
          d = !0;
          return;
        }
        r(g);
      }
    }, { passive: !0, capture: u }),
    useEventListener(o, "pointerdown", (g) => {
      const y = unrefElement(i);
      y && (d = !g.composedPath().includes(y) && !f(g));
    }, { passive: !0 }),
    c && useEventListener(o, "blur", (g) => {
      var y;
      const b = unrefElement(i);
      ((y = o.document.activeElement) == null ? void 0 : y.tagName) === "IFRAME" && !(b != null && b.contains(o.document.activeElement)) && r(g);
    })
  ].filter(Boolean);
  return () => _.forEach((g) => g());
}
function useSupported(i, r = !1) {
  const n = ref(), o = () => n.value = !!i();
  return o(), tryOnMounted(o, r), n;
}
const _global = typeof globalThis < "u" ? globalThis : typeof window < "u" ? window : typeof global < "u" ? global : typeof self < "u" ? self : {}, globalKey = "__vueuse_ssr_handlers__";
_global[globalKey] = _global[globalKey] || {};
var __getOwnPropSymbols$g = Object.getOwnPropertySymbols, __hasOwnProp$g = Object.prototype.hasOwnProperty, __propIsEnum$g = Object.prototype.propertyIsEnumerable, __objRest$2 = (i, r) => {
  var n = {};
  for (var o in i)
    __hasOwnProp$g.call(i, o) && r.indexOf(o) < 0 && (n[o] = i[o]);
  if (i != null && __getOwnPropSymbols$g)
    for (var o of __getOwnPropSymbols$g(i))
      r.indexOf(o) < 0 && __propIsEnum$g.call(i, o) && (n[o] = i[o]);
  return n;
};
function useResizeObserver(i, r, n = {}) {
  const o = n, { window: a = defaultWindow } = o, u = __objRest$2(o, ["window"]);
  let c;
  const d = useSupported(() => a && "ResizeObserver" in a), f = () => {
    c && (c.disconnect(), c = void 0);
  }, p = watch(() => unrefElement(i), (v) => {
    f(), d.value && a && v && (c = new ResizeObserver(r), c.observe(v, u));
  }, { immediate: !0, flush: "post" }), _ = () => {
    f(), p();
  };
  return tryOnScopeDispose(_), {
    isSupported: d,
    stop: _
  };
}
var __getOwnPropSymbols$8 = Object.getOwnPropertySymbols, __hasOwnProp$8 = Object.prototype.hasOwnProperty, __propIsEnum$8 = Object.prototype.propertyIsEnumerable, __objRest$1 = (i, r) => {
  var n = {};
  for (var o in i)
    __hasOwnProp$8.call(i, o) && r.indexOf(o) < 0 && (n[o] = i[o]);
  if (i != null && __getOwnPropSymbols$8)
    for (var o of __getOwnPropSymbols$8(i))
      r.indexOf(o) < 0 && __propIsEnum$8.call(i, o) && (n[o] = i[o]);
  return n;
};
function useMutationObserver(i, r, n = {}) {
  const o = n, { window: a = defaultWindow } = o, u = __objRest$1(o, ["window"]);
  let c;
  const d = useSupported(() => a && "MutationObserver" in a), f = () => {
    c && (c.disconnect(), c = void 0);
  }, p = watch(() => unrefElement(i), (v) => {
    f(), d.value && a && v && (c = new MutationObserver(r), c.observe(v, u));
  }, { immediate: !0 }), _ = () => {
    f(), p();
  };
  return tryOnScopeDispose(_), {
    isSupported: d,
    stop: _
  };
}
var SwipeDirection;
(function(i) {
  i.UP = "UP", i.RIGHT = "RIGHT", i.DOWN = "DOWN", i.LEFT = "LEFT", i.NONE = "NONE";
})(SwipeDirection || (SwipeDirection = {}));
var __defProp = Object.defineProperty, __getOwnPropSymbols = Object.getOwnPropertySymbols, __hasOwnProp = Object.prototype.hasOwnProperty, __propIsEnum = Object.prototype.propertyIsEnumerable, __defNormalProp = (i, r, n) => r in i ? __defProp(i, r, { enumerable: !0, configurable: !0, writable: !0, value: n }) : i[r] = n, __spreadValues = (i, r) => {
  for (var n in r || (r = {}))
    __hasOwnProp.call(r, n) && __defNormalProp(i, n, r[n]);
  if (__getOwnPropSymbols)
    for (var n of __getOwnPropSymbols(r))
      __propIsEnum.call(r, n) && __defNormalProp(i, n, r[n]);
  return i;
};
const _TransitionPresets = {
  easeInSine: [0.12, 0, 0.39, 0],
  easeOutSine: [0.61, 1, 0.88, 1],
  easeInOutSine: [0.37, 0, 0.63, 1],
  easeInQuad: [0.11, 0, 0.5, 0],
  easeOutQuad: [0.5, 1, 0.89, 1],
  easeInOutQuad: [0.45, 0, 0.55, 1],
  easeInCubic: [0.32, 0, 0.67, 0],
  easeOutCubic: [0.33, 1, 0.68, 1],
  easeInOutCubic: [0.65, 0, 0.35, 1],
  easeInQuart: [0.5, 0, 0.75, 0],
  easeOutQuart: [0.25, 1, 0.5, 1],
  easeInOutQuart: [0.76, 0, 0.24, 1],
  easeInQuint: [0.64, 0, 0.78, 0],
  easeOutQuint: [0.22, 1, 0.36, 1],
  easeInOutQuint: [0.83, 0, 0.17, 1],
  easeInExpo: [0.7, 0, 0.84, 0],
  easeOutExpo: [0.16, 1, 0.3, 1],
  easeInOutExpo: [0.87, 0, 0.13, 1],
  easeInCirc: [0.55, 0, 1, 0.45],
  easeOutCirc: [0, 0.55, 0.45, 1],
  easeInOutCirc: [0.85, 0, 0.15, 1],
  easeInBack: [0.36, 0, 0.66, -0.56],
  easeOutBack: [0.34, 1.56, 0.64, 1],
  easeInOutBack: [0.68, -0.6, 0.32, 1.6]
};
__spreadValues({
  linear: identity
}, _TransitionPresets);
const isFirefox = () => isClient && /firefox/i.test(window.navigator.userAgent);
/**
* @vue/shared v3.4.37
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/
process.env.NODE_ENV !== "production" && Object.freeze({});
process.env.NODE_ENV !== "production" && Object.freeze([]);
const NOOP = () => {
}, hasOwnProperty = Object.prototype.hasOwnProperty, hasOwn = (i, r) => hasOwnProperty.call(i, r), isArray = Array.isArray, isFunction = (i) => typeof i == "function", isString = (i) => typeof i == "string", isObject = (i) => i !== null && typeof i == "object", objectToString = Object.prototype.toString, toTypeString = (i) => objectToString.call(i), toRawType = (i) => toTypeString(i).slice(8, -1), isUndefined = (i) => i === void 0, isBoolean = (i) => typeof i == "boolean", isNumber = (i) => typeof i == "number", isElement = (i) => typeof Element > "u" ? !1 : i instanceof Element, isStringNumber = (i) => isString(i) ? !Number.isNaN(Number(i)) : !1, escapeStringRegexp = (i = "") => i.replace(/[|\\{}()[\]^$+*?.]/g, "\\$&").replace(/-/g, "\\x2d"), getProp = (i, r, n) => ({
  get value() {
    return get$1(i, r, n);
  },
  set value(o) {
    set$1(i, r, o);
  }
});
class ElementPlusError extends Error {
  constructor(r) {
    super(r), this.name = "ElementPlusError";
  }
}
function throwError(i, r) {
  throw new ElementPlusError(`[${i}] ${r}`);
}
function debugWarn(i, r) {
  if (process.env.NODE_ENV !== "production") {
    const n = isString(i) ? new ElementPlusError(`[${i}] ${r}`) : i;
    console.warn(n);
  }
}
const SCOPE$2 = "utils/dom/style";
function addUnit(i, r = "px") {
  if (!i)
    return "";
  if (isNumber(i) || isStringNumber(i))
    return `${i}${r}`;
  if (isString(i))
    return i;
  debugWarn(SCOPE$2, "binding value must be a string or number");
}
function scrollIntoView(i, r) {
  if (!isClient)
    return;
  if (!r) {
    i.scrollTop = 0;
    return;
  }
  const n = [];
  let o = r.offsetParent;
  for (; o !== null && i !== o && i.contains(o); )
    n.push(o), o = o.offsetParent;
  const a = r.offsetTop + n.reduce((f, p) => f + p.offsetTop, 0), u = a + r.offsetHeight, c = i.scrollTop, d = c + i.clientHeight;
  a < c ? i.scrollTop = a : u > d && (i.scrollTop = u - i.clientHeight);
}
const epPropKey = "__epPropKey", definePropType = (i) => i, isEpProp = (i) => isObject(i) && !!i[epPropKey], buildProp = (i, r) => {
  if (!isObject(i) || isEpProp(i))
    return i;
  const { values: n, required: o, default: a, type: u, validator: c } = i, f = {
    type: u,
    required: !!o,
    validator: n || c ? (p) => {
      let _ = !1, v = [];
      if (n && (v = Array.from(n), hasOwn(i, "default") && v.push(a), _ || (_ = v.includes(p))), c && (_ || (_ = c(p))), !_ && v.length > 0) {
        const g = [...new Set(v)].map((y) => JSON.stringify(y)).join(", ");
        warn$1(`Invalid prop: validation failed${r ? ` for prop "${r}"` : ""}. Expected one of [${g}], got value ${JSON.stringify(p)}.`);
      }
      return _;
    } : void 0,
    [epPropKey]: !0
  };
  return hasOwn(i, "default") && (f.default = a), f;
}, buildProps = (i) => fromPairs(Object.entries(i).map(([r, n]) => [
  r,
  buildProp(n, r)
])), iconPropType = definePropType([
  String,
  Object,
  Function
]), ValidateComponentsMap = {
  validating: loading_default,
  success: circle_check_default,
  error: circle_close_default
}, withInstall = (i, r) => {
  if (i.install = (n) => {
    for (const o of [i, ...Object.values(r ?? {})])
      n.component(o.name, o);
  }, r)
    for (const [n, o] of Object.entries(r))
      i[n] = o;
  return i;
}, withNoopInstall = (i) => (i.install = NOOP, i), EVENT_CODE = {
  tab: "Tab",
  enter: "Enter",
  space: "Space",
  left: "ArrowLeft",
  up: "ArrowUp",
  right: "ArrowRight",
  down: "ArrowDown",
  esc: "Escape",
  delete: "Delete",
  backspace: "Backspace",
  numpadEnter: "NumpadEnter",
  pageUp: "PageUp",
  pageDown: "PageDown",
  home: "Home",
  end: "End"
}, UPDATE_MODEL_EVENT = "update:modelValue", CHANGE_EVENT = "change", componentSizes = ["", "default", "small", "large"], isKorean = (i) => /([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(i), mutable = (i) => i, DEFAULT_EXCLUDE_KEYS = ["class", "style"], LISTENER_PREFIX = /^on[A-Z]/, useAttrs = (i = {}) => {
  const { excludeListeners: r = !1, excludeKeys: n } = i, o = computed(() => ((n == null ? void 0 : n.value) || []).concat(DEFAULT_EXCLUDE_KEYS)), a = getCurrentInstance();
  return a ? computed(() => {
    var u;
    return fromPairs(Object.entries((u = a.proxy) == null ? void 0 : u.$attrs).filter(([c]) => !o.value.includes(c) && !(r && LISTENER_PREFIX.test(c))));
  }) : (debugWarn("use-attrs", "getCurrentInstance() returned null. useAttrs() must be called at the top of a setup function"), computed(() => ({})));
};
var English = {
  name: "en",
  el: {
    breadcrumb: {
      label: "Breadcrumb"
    },
    colorpicker: {
      confirm: "OK",
      clear: "Clear",
      defaultLabel: "color picker",
      description: "current color is {color}. press enter to select a new color.",
      alphaLabel: "pick alpha value"
    },
    datepicker: {
      now: "Now",
      today: "Today",
      cancel: "Cancel",
      clear: "Clear",
      confirm: "OK",
      dateTablePrompt: "Use the arrow keys and enter to select the day of the month",
      monthTablePrompt: "Use the arrow keys and enter to select the month",
      yearTablePrompt: "Use the arrow keys and enter to select the year",
      selectedDate: "Selected date",
      selectDate: "Select date",
      selectTime: "Select time",
      startDate: "Start Date",
      startTime: "Start Time",
      endDate: "End Date",
      endTime: "End Time",
      prevYear: "Previous Year",
      nextYear: "Next Year",
      prevMonth: "Previous Month",
      nextMonth: "Next Month",
      year: "",
      month1: "January",
      month2: "February",
      month3: "March",
      month4: "April",
      month5: "May",
      month6: "June",
      month7: "July",
      month8: "August",
      month9: "September",
      month10: "October",
      month11: "November",
      month12: "December",
      week: "week",
      weeks: {
        sun: "Sun",
        mon: "Mon",
        tue: "Tue",
        wed: "Wed",
        thu: "Thu",
        fri: "Fri",
        sat: "Sat"
      },
      weeksFull: {
        sun: "Sunday",
        mon: "Monday",
        tue: "Tuesday",
        wed: "Wednesday",
        thu: "Thursday",
        fri: "Friday",
        sat: "Saturday"
      },
      months: {
        jan: "Jan",
        feb: "Feb",
        mar: "Mar",
        apr: "Apr",
        may: "May",
        jun: "Jun",
        jul: "Jul",
        aug: "Aug",
        sep: "Sep",
        oct: "Oct",
        nov: "Nov",
        dec: "Dec"
      }
    },
    inputNumber: {
      decrease: "decrease number",
      increase: "increase number"
    },
    select: {
      loading: "Loading",
      noMatch: "No matching data",
      noData: "No data",
      placeholder: "Select"
    },
    mention: {
      loading: "Loading"
    },
    dropdown: {
      toggleDropdown: "Toggle Dropdown"
    },
    cascader: {
      noMatch: "No matching data",
      loading: "Loading",
      placeholder: "Select",
      noData: "No data"
    },
    pagination: {
      goto: "Go to",
      pagesize: "/page",
      total: "Total {total}",
      pageClassifier: "",
      page: "Page",
      prev: "Go to previous page",
      next: "Go to next page",
      currentPage: "page {pager}",
      prevPages: "Previous {pager} pages",
      nextPages: "Next {pager} pages",
      deprecationWarning: "Deprecated usages detected, please refer to the el-pagination documentation for more details"
    },
    dialog: {
      close: "Close this dialog"
    },
    drawer: {
      close: "Close this dialog"
    },
    messagebox: {
      title: "Message",
      confirm: "OK",
      cancel: "Cancel",
      error: "Illegal input",
      close: "Close this dialog"
    },
    upload: {
      deleteTip: "press delete to remove",
      delete: "Delete",
      preview: "Preview",
      continue: "Continue"
    },
    slider: {
      defaultLabel: "slider between {min} and {max}",
      defaultRangeStartLabel: "pick start value",
      defaultRangeEndLabel: "pick end value"
    },
    table: {
      emptyText: "No Data",
      confirmFilter: "Confirm",
      resetFilter: "Reset",
      clearFilter: "All",
      sumText: "Sum"
    },
    tour: {
      next: "Next",
      previous: "Previous",
      finish: "Finish"
    },
    tree: {
      emptyText: "No Data"
    },
    transfer: {
      noMatch: "No matching data",
      noData: "No data",
      titles: ["List 1", "List 2"],
      filterPlaceholder: "Enter keyword",
      noCheckedFormat: "{total} items",
      hasCheckedFormat: "{checked}/{total} checked"
    },
    image: {
      error: "FAILED"
    },
    pageHeader: {
      title: "Back"
    },
    popconfirm: {
      confirmButtonText: "Yes",
      cancelButtonText: "No"
    },
    carousel: {
      leftArrow: "Carousel arrow left",
      rightArrow: "Carousel arrow right",
      indicator: "Carousel switch to index {index}"
    }
  }
};
const buildTranslator = (i) => (r, n) => translate(r, n, unref(i)), translate = (i, r, n) => get$1(n, i, i).replace(/\{(\w+)\}/g, (o, a) => {
  var u;
  return `${(u = r == null ? void 0 : r[a]) != null ? u : `{${a}}`}`;
}), buildLocaleContext = (i) => {
  const r = computed(() => unref(i).name), n = isRef(i) ? i : ref(i);
  return {
    lang: r,
    locale: n,
    t: buildTranslator(i)
  };
}, localeContextKey = Symbol("localeContextKey"), useLocale = (i) => {
  const r = i || inject(localeContextKey, ref());
  return buildLocaleContext(computed(() => r.value || English));
}, defaultNamespace = "el", statePrefix = "is-", _bem = (i, r, n, o, a) => {
  let u = `${i}-${r}`;
  return n && (u += `-${n}`), o && (u += `__${o}`), a && (u += `--${a}`), u;
}, namespaceContextKey = Symbol("namespaceContextKey"), useGetDerivedNamespace = (i) => {
  const r = i || (getCurrentInstance() ? inject(namespaceContextKey, ref(defaultNamespace)) : ref(defaultNamespace));
  return computed(() => unref(r) || defaultNamespace);
}, useNamespace = (i, r) => {
  const n = useGetDerivedNamespace(r);
  return {
    namespace: n,
    b: (A = "") => _bem(n.value, i, A, "", ""),
    e: (A) => A ? _bem(n.value, i, "", A, "") : "",
    m: (A) => A ? _bem(n.value, i, "", "", A) : "",
    be: (A, w) => A && w ? _bem(n.value, i, A, w, "") : "",
    em: (A, w) => A && w ? _bem(n.value, i, "", A, w) : "",
    bm: (A, w) => A && w ? _bem(n.value, i, A, "", w) : "",
    bem: (A, w, S) => A && w && S ? _bem(n.value, i, A, w, S) : "",
    is: (A, ...w) => {
      const S = w.length >= 1 ? w[0] : !0;
      return A && S ? `${statePrefix}${A}` : "";
    },
    cssVar: (A) => {
      const w = {};
      for (const S in A)
        A[S] && (w[`--${n.value}-${S}`] = A[S]);
      return w;
    },
    cssVarName: (A) => `--${n.value}-${A}`,
    cssVarBlock: (A) => {
      const w = {};
      for (const S in A)
        A[S] && (w[`--${n.value}-${i}-${S}`] = A[S]);
      return w;
    },
    cssVarBlockName: (A) => `--${n.value}-${i}-${A}`
  };
}, _prop = buildProp({
  type: definePropType(Boolean),
  default: null
}), _event = buildProp({
  type: definePropType(Function)
}), createModelToggleComposable = (i) => {
  const r = `update:${i}`, n = `onUpdate:${i}`, o = [r], a = {
    [i]: _prop,
    [n]: _event
  };
  return {
    useModelToggle: ({
      indicator: c,
      toggleReason: d,
      shouldHideWhenRouteChanges: f,
      shouldProceed: p,
      onShow: _,
      onHide: v
    }) => {
      const g = getCurrentInstance(), { emit: y } = g, b = g.props, A = computed(() => isFunction(b[n])), w = computed(() => b[i] === null), S = (k) => {
        c.value !== !0 && (c.value = !0, d && (d.value = k), isFunction(_) && _(k));
      }, T = (k) => {
        c.value !== !1 && (c.value = !1, d && (d.value = k), isFunction(v) && v(k));
      }, x = (k) => {
        if (b.disabled === !0 || isFunction(p) && !p())
          return;
        const ie = A.value && isClient;
        ie && y(r, !0), (w.value || !ie) && S(k);
      }, L = (k) => {
        if (b.disabled === !0 || !isClient)
          return;
        const ie = A.value && isClient;
        ie && y(r, !1), (w.value || !ie) && T(k);
      }, O = (k) => {
        isBoolean(k) && (b.disabled && k ? A.value && y(r, !1) : c.value !== k && (k ? S() : T()));
      }, M = () => {
        c.value ? L() : x();
      };
      return watch(() => b[i], O), f && g.appContext.config.globalProperties.$route !== void 0 && watch(() => ({
        ...g.proxy.$route
      }), () => {
        f.value && c.value && L();
      }), onMounted(() => {
        O(b[i]);
      }), {
        hide: L,
        show: x,
        toggle: M,
        hasUpdateHandler: A
      };
    },
    useModelToggleProps: a,
    useModelToggleEmits: o
  };
};
createModelToggleComposable("modelValue");
const useProp = (i) => {
  const r = getCurrentInstance();
  return computed(() => {
    var n, o;
    return (o = (n = r == null ? void 0 : r.proxy) == null ? void 0 : n.$props) == null ? void 0 : o[i];
  });
};
var E = "top", R = "bottom", W = "right", P = "left", me = "auto", G = [E, R, W, P], U = "start", J = "end", Xe = "clippingParents", je = "viewport", K = "popper", Ye = "reference", De = G.reduce(function(i, r) {
  return i.concat([r + "-" + U, r + "-" + J]);
}, []), Ee = [].concat(G, [me]).reduce(function(i, r) {
  return i.concat([r, r + "-" + U, r + "-" + J]);
}, []), Ge = "beforeRead", Je = "read", Ke = "afterRead", Qe = "beforeMain", Ze = "main", et = "afterMain", tt = "beforeWrite", nt = "write", rt = "afterWrite", ot = [Ge, Je, Ke, Qe, Ze, et, tt, nt, rt];
function C(i) {
  return i ? (i.nodeName || "").toLowerCase() : null;
}
function H(i) {
  if (i == null)
    return window;
  if (i.toString() !== "[object Window]") {
    var r = i.ownerDocument;
    return r && r.defaultView || window;
  }
  return i;
}
function Q(i) {
  var r = H(i).Element;
  return i instanceof r || i instanceof Element;
}
function B(i) {
  var r = H(i).HTMLElement;
  return i instanceof r || i instanceof HTMLElement;
}
function Pe(i) {
  if (typeof ShadowRoot > "u")
    return !1;
  var r = H(i).ShadowRoot;
  return i instanceof r || i instanceof ShadowRoot;
}
function Mt(i) {
  var r = i.state;
  Object.keys(r.elements).forEach(function(n) {
    var o = r.styles[n] || {}, a = r.attributes[n] || {}, u = r.elements[n];
    !B(u) || !C(u) || (Object.assign(u.style, o), Object.keys(a).forEach(function(c) {
      var d = a[c];
      d === !1 ? u.removeAttribute(c) : u.setAttribute(c, d === !0 ? "" : d);
    }));
  });
}
function Rt(i) {
  var r = i.state, n = { popper: { position: r.options.strategy, left: "0", top: "0", margin: "0" }, arrow: { position: "absolute" }, reference: {} };
  return Object.assign(r.elements.popper.style, n.popper), r.styles = n, r.elements.arrow && Object.assign(r.elements.arrow.style, n.arrow), function() {
    Object.keys(r.elements).forEach(function(o) {
      var a = r.elements[o], u = r.attributes[o] || {}, c = Object.keys(r.styles.hasOwnProperty(o) ? r.styles[o] : n[o]), d = c.reduce(function(f, p) {
        return f[p] = "", f;
      }, {});
      !B(a) || !C(a) || (Object.assign(a.style, d), Object.keys(u).forEach(function(f) {
        a.removeAttribute(f);
      }));
    });
  };
}
var Ae = { name: "applyStyles", enabled: !0, phase: "write", fn: Mt, effect: Rt, requires: ["computeStyles"] };
function q(i) {
  return i.split("-")[0];
}
var X = Math.max, ve = Math.min, Z = Math.round;
function ee(i, r) {
  r === void 0 && (r = !1);
  var n = i.getBoundingClientRect(), o = 1, a = 1;
  if (B(i) && r) {
    var u = i.offsetHeight, c = i.offsetWidth;
    c > 0 && (o = Z(n.width) / c || 1), u > 0 && (a = Z(n.height) / u || 1);
  }
  return { width: n.width / o, height: n.height / a, top: n.top / a, right: n.right / o, bottom: n.bottom / a, left: n.left / o, x: n.left / o, y: n.top / a };
}
function ke(i) {
  var r = ee(i), n = i.offsetWidth, o = i.offsetHeight;
  return Math.abs(r.width - n) <= 1 && (n = r.width), Math.abs(r.height - o) <= 1 && (o = r.height), { x: i.offsetLeft, y: i.offsetTop, width: n, height: o };
}
function it(i, r) {
  var n = r.getRootNode && r.getRootNode();
  if (i.contains(r))
    return !0;
  if (n && Pe(n)) {
    var o = r;
    do {
      if (o && i.isSameNode(o))
        return !0;
      o = o.parentNode || o.host;
    } while (o);
  }
  return !1;
}
function N(i) {
  return H(i).getComputedStyle(i);
}
function Wt(i) {
  return ["table", "td", "th"].indexOf(C(i)) >= 0;
}
function I(i) {
  return ((Q(i) ? i.ownerDocument : i.document) || window.document).documentElement;
}
function ge(i) {
  return C(i) === "html" ? i : i.assignedSlot || i.parentNode || (Pe(i) ? i.host : null) || I(i);
}
function at(i) {
  return !B(i) || N(i).position === "fixed" ? null : i.offsetParent;
}
function Bt(i) {
  var r = navigator.userAgent.toLowerCase().indexOf("firefox") !== -1, n = navigator.userAgent.indexOf("Trident") !== -1;
  if (n && B(i)) {
    var o = N(i);
    if (o.position === "fixed")
      return null;
  }
  var a = ge(i);
  for (Pe(a) && (a = a.host); B(a) && ["html", "body"].indexOf(C(a)) < 0; ) {
    var u = N(a);
    if (u.transform !== "none" || u.perspective !== "none" || u.contain === "paint" || ["transform", "perspective"].indexOf(u.willChange) !== -1 || r && u.willChange === "filter" || r && u.filter && u.filter !== "none")
      return a;
    a = a.parentNode;
  }
  return null;
}
function se(i) {
  for (var r = H(i), n = at(i); n && Wt(n) && N(n).position === "static"; )
    n = at(n);
  return n && (C(n) === "html" || C(n) === "body" && N(n).position === "static") ? r : n || Bt(i) || r;
}
function Le(i) {
  return ["top", "bottom"].indexOf(i) >= 0 ? "x" : "y";
}
function fe(i, r, n) {
  return X(i, ve(r, n));
}
function St(i, r, n) {
  var o = fe(i, r, n);
  return o > n ? n : o;
}
function st() {
  return { top: 0, right: 0, bottom: 0, left: 0 };
}
function ft(i) {
  return Object.assign({}, st(), i);
}
function ct(i, r) {
  return r.reduce(function(n, o) {
    return n[o] = i, n;
  }, {});
}
var Tt = function(i, r) {
  return i = typeof i == "function" ? i(Object.assign({}, r.rects, { placement: r.placement })) : i, ft(typeof i != "number" ? i : ct(i, G));
};
function Ht(i) {
  var r, n = i.state, o = i.name, a = i.options, u = n.elements.arrow, c = n.modifiersData.popperOffsets, d = q(n.placement), f = Le(d), p = [P, W].indexOf(d) >= 0, _ = p ? "height" : "width";
  if (!(!u || !c)) {
    var v = Tt(a.padding, n), g = ke(u), y = f === "y" ? E : P, b = f === "y" ? R : W, A = n.rects.reference[_] + n.rects.reference[f] - c[f] - n.rects.popper[_], w = c[f] - n.rects.reference[f], S = se(u), T = S ? f === "y" ? S.clientHeight || 0 : S.clientWidth || 0 : 0, x = A / 2 - w / 2, L = v[y], O = T - g[_] - v[b], M = T / 2 - g[_] / 2 + x, k = fe(L, M, O), ie = f;
    n.modifiersData[o] = (r = {}, r[ie] = k, r.centerOffset = k - M, r);
  }
}
function Ct(i) {
  var r = i.state, n = i.options, o = n.element, a = o === void 0 ? "[data-popper-arrow]" : o;
  a != null && (typeof a == "string" && (a = r.elements.popper.querySelector(a), !a) || !it(r.elements.popper, a) || (r.elements.arrow = a));
}
var pt = { name: "arrow", enabled: !0, phase: "main", fn: Ht, effect: Ct, requires: ["popperOffsets"], requiresIfExists: ["preventOverflow"] };
function te(i) {
  return i.split("-")[1];
}
var qt = { top: "auto", right: "auto", bottom: "auto", left: "auto" };
function Vt(i) {
  var r = i.x, n = i.y, o = window, a = o.devicePixelRatio || 1;
  return { x: Z(r * a) / a || 0, y: Z(n * a) / a || 0 };
}
function ut(i) {
  var r, n = i.popper, o = i.popperRect, a = i.placement, u = i.variation, c = i.offsets, d = i.position, f = i.gpuAcceleration, p = i.adaptive, _ = i.roundOffsets, v = i.isFixed, g = c.x, y = g === void 0 ? 0 : g, b = c.y, A = b === void 0 ? 0 : b, w = typeof _ == "function" ? _({ x: y, y: A }) : { x: y, y: A };
  y = w.x, A = w.y;
  var S = c.hasOwnProperty("x"), T = c.hasOwnProperty("y"), x = P, L = E, O = window;
  if (p) {
    var M = se(n), k = "clientHeight", ie = "clientWidth";
    if (M === H(n) && (M = I(n), N(M).position !== "static" && d === "absolute" && (k = "scrollHeight", ie = "scrollWidth")), M = M, a === E || (a === P || a === W) && u === J) {
      L = R;
      var $ = v && M === O && O.visualViewport ? O.visualViewport.height : M[k];
      A -= $ - o.height, A *= f ? 1 : -1;
    }
    if (a === P || (a === E || a === R) && u === J) {
      x = W;
      var Y = v && M === O && O.visualViewport ? O.visualViewport.width : M[ie];
      y -= Y - o.width, y *= f ? 1 : -1;
    }
  }
  var D = Object.assign({ position: d }, p && qt), re = _ === !0 ? Vt({ x: y, y: A }) : { x: y, y: A };
  if (y = re.x, A = re.y, f) {
    var F;
    return Object.assign({}, D, (F = {}, F[L] = T ? "0" : "", F[x] = S ? "0" : "", F.transform = (O.devicePixelRatio || 1) <= 1 ? "translate(" + y + "px, " + A + "px)" : "translate3d(" + y + "px, " + A + "px, 0)", F));
  }
  return Object.assign({}, D, (r = {}, r[L] = T ? A + "px" : "", r[x] = S ? y + "px" : "", r.transform = "", r));
}
function Nt(i) {
  var r = i.state, n = i.options, o = n.gpuAcceleration, a = o === void 0 ? !0 : o, u = n.adaptive, c = u === void 0 ? !0 : u, d = n.roundOffsets, f = d === void 0 ? !0 : d, p = { placement: q(r.placement), variation: te(r.placement), popper: r.elements.popper, popperRect: r.rects.popper, gpuAcceleration: a, isFixed: r.options.strategy === "fixed" };
  r.modifiersData.popperOffsets != null && (r.styles.popper = Object.assign({}, r.styles.popper, ut(Object.assign({}, p, { offsets: r.modifiersData.popperOffsets, position: r.options.strategy, adaptive: c, roundOffsets: f })))), r.modifiersData.arrow != null && (r.styles.arrow = Object.assign({}, r.styles.arrow, ut(Object.assign({}, p, { offsets: r.modifiersData.arrow, position: "absolute", adaptive: !1, roundOffsets: f })))), r.attributes.popper = Object.assign({}, r.attributes.popper, { "data-popper-placement": r.placement });
}
var Me = { name: "computeStyles", enabled: !0, phase: "beforeWrite", fn: Nt, data: {} }, ye = { passive: !0 };
function It(i) {
  var r = i.state, n = i.instance, o = i.options, a = o.scroll, u = a === void 0 ? !0 : a, c = o.resize, d = c === void 0 ? !0 : c, f = H(r.elements.popper), p = [].concat(r.scrollParents.reference, r.scrollParents.popper);
  return u && p.forEach(function(_) {
    _.addEventListener("scroll", n.update, ye);
  }), d && f.addEventListener("resize", n.update, ye), function() {
    u && p.forEach(function(_) {
      _.removeEventListener("scroll", n.update, ye);
    }), d && f.removeEventListener("resize", n.update, ye);
  };
}
var Re = { name: "eventListeners", enabled: !0, phase: "write", fn: function() {
}, effect: It, data: {} }, _t = { left: "right", right: "left", bottom: "top", top: "bottom" };
function be(i) {
  return i.replace(/left|right|bottom|top/g, function(r) {
    return _t[r];
  });
}
var zt = { start: "end", end: "start" };
function lt(i) {
  return i.replace(/start|end/g, function(r) {
    return zt[r];
  });
}
function We(i) {
  var r = H(i), n = r.pageXOffset, o = r.pageYOffset;
  return { scrollLeft: n, scrollTop: o };
}
function Be(i) {
  return ee(I(i)).left + We(i).scrollLeft;
}
function Ft(i) {
  var r = H(i), n = I(i), o = r.visualViewport, a = n.clientWidth, u = n.clientHeight, c = 0, d = 0;
  return o && (a = o.width, u = o.height, /^((?!chrome|android).)*safari/i.test(navigator.userAgent) || (c = o.offsetLeft, d = o.offsetTop)), { width: a, height: u, x: c + Be(i), y: d };
}
function Ut(i) {
  var r, n = I(i), o = We(i), a = (r = i.ownerDocument) == null ? void 0 : r.body, u = X(n.scrollWidth, n.clientWidth, a ? a.scrollWidth : 0, a ? a.clientWidth : 0), c = X(n.scrollHeight, n.clientHeight, a ? a.scrollHeight : 0, a ? a.clientHeight : 0), d = -o.scrollLeft + Be(i), f = -o.scrollTop;
  return N(a || n).direction === "rtl" && (d += X(n.clientWidth, a ? a.clientWidth : 0) - u), { width: u, height: c, x: d, y: f };
}
function Se(i) {
  var r = N(i), n = r.overflow, o = r.overflowX, a = r.overflowY;
  return /auto|scroll|overlay|hidden/.test(n + a + o);
}
function dt(i) {
  return ["html", "body", "#document"].indexOf(C(i)) >= 0 ? i.ownerDocument.body : B(i) && Se(i) ? i : dt(ge(i));
}
function ce(i, r) {
  var n;
  r === void 0 && (r = []);
  var o = dt(i), a = o === ((n = i.ownerDocument) == null ? void 0 : n.body), u = H(o), c = a ? [u].concat(u.visualViewport || [], Se(o) ? o : []) : o, d = r.concat(c);
  return a ? d : d.concat(ce(ge(c)));
}
function Te(i) {
  return Object.assign({}, i, { left: i.x, top: i.y, right: i.x + i.width, bottom: i.y + i.height });
}
function Xt(i) {
  var r = ee(i);
  return r.top = r.top + i.clientTop, r.left = r.left + i.clientLeft, r.bottom = r.top + i.clientHeight, r.right = r.left + i.clientWidth, r.width = i.clientWidth, r.height = i.clientHeight, r.x = r.left, r.y = r.top, r;
}
function ht(i, r) {
  return r === je ? Te(Ft(i)) : Q(r) ? Xt(r) : Te(Ut(I(i)));
}
function Yt(i) {
  var r = ce(ge(i)), n = ["absolute", "fixed"].indexOf(N(i).position) >= 0, o = n && B(i) ? se(i) : i;
  return Q(o) ? r.filter(function(a) {
    return Q(a) && it(a, o) && C(a) !== "body";
  }) : [];
}
function Gt(i, r, n) {
  var o = r === "clippingParents" ? Yt(i) : [].concat(r), a = [].concat(o, [n]), u = a[0], c = a.reduce(function(d, f) {
    var p = ht(i, f);
    return d.top = X(p.top, d.top), d.right = ve(p.right, d.right), d.bottom = ve(p.bottom, d.bottom), d.left = X(p.left, d.left), d;
  }, ht(i, u));
  return c.width = c.right - c.left, c.height = c.bottom - c.top, c.x = c.left, c.y = c.top, c;
}
function mt(i) {
  var r = i.reference, n = i.element, o = i.placement, a = o ? q(o) : null, u = o ? te(o) : null, c = r.x + r.width / 2 - n.width / 2, d = r.y + r.height / 2 - n.height / 2, f;
  switch (a) {
    case E:
      f = { x: c, y: r.y - n.height };
      break;
    case R:
      f = { x: c, y: r.y + r.height };
      break;
    case W:
      f = { x: r.x + r.width, y: d };
      break;
    case P:
      f = { x: r.x - n.width, y: d };
      break;
    default:
      f = { x: r.x, y: r.y };
  }
  var p = a ? Le(a) : null;
  if (p != null) {
    var _ = p === "y" ? "height" : "width";
    switch (u) {
      case U:
        f[p] = f[p] - (r[_] / 2 - n[_] / 2);
        break;
      case J:
        f[p] = f[p] + (r[_] / 2 - n[_] / 2);
        break;
    }
  }
  return f;
}
function ne(i, r) {
  r === void 0 && (r = {});
  var n = r, o = n.placement, a = o === void 0 ? i.placement : o, u = n.boundary, c = u === void 0 ? Xe : u, d = n.rootBoundary, f = d === void 0 ? je : d, p = n.elementContext, _ = p === void 0 ? K : p, v = n.altBoundary, g = v === void 0 ? !1 : v, y = n.padding, b = y === void 0 ? 0 : y, A = ft(typeof b != "number" ? b : ct(b, G)), w = _ === K ? Ye : K, S = i.rects.popper, T = i.elements[g ? w : _], x = Gt(Q(T) ? T : T.contextElement || I(i.elements.popper), c, f), L = ee(i.elements.reference), O = mt({ reference: L, element: S, strategy: "absolute", placement: a }), M = Te(Object.assign({}, S, O)), k = _ === K ? M : L, ie = { top: x.top - k.top + A.top, bottom: k.bottom - x.bottom + A.bottom, left: x.left - k.left + A.left, right: k.right - x.right + A.right }, $ = i.modifiersData.offset;
  if (_ === K && $) {
    var Y = $[a];
    Object.keys(ie).forEach(function(D) {
      var re = [W, R].indexOf(D) >= 0 ? 1 : -1, F = [E, R].indexOf(D) >= 0 ? "y" : "x";
      ie[D] += Y[F] * re;
    });
  }
  return ie;
}
function Jt(i, r) {
  r === void 0 && (r = {});
  var n = r, o = n.placement, a = n.boundary, u = n.rootBoundary, c = n.padding, d = n.flipVariations, f = n.allowedAutoPlacements, p = f === void 0 ? Ee : f, _ = te(o), v = _ ? d ? De : De.filter(function(b) {
    return te(b) === _;
  }) : G, g = v.filter(function(b) {
    return p.indexOf(b) >= 0;
  });
  g.length === 0 && (g = v);
  var y = g.reduce(function(b, A) {
    return b[A] = ne(i, { placement: A, boundary: a, rootBoundary: u, padding: c })[q(A)], b;
  }, {});
  return Object.keys(y).sort(function(b, A) {
    return y[b] - y[A];
  });
}
function Kt(i) {
  if (q(i) === me)
    return [];
  var r = be(i);
  return [lt(i), r, lt(r)];
}
function Qt(i) {
  var r = i.state, n = i.options, o = i.name;
  if (!r.modifiersData[o]._skip) {
    for (var a = n.mainAxis, u = a === void 0 ? !0 : a, c = n.altAxis, d = c === void 0 ? !0 : c, f = n.fallbackPlacements, p = n.padding, _ = n.boundary, v = n.rootBoundary, g = n.altBoundary, y = n.flipVariations, b = y === void 0 ? !0 : y, A = n.allowedAutoPlacements, w = r.options.placement, S = q(w), T = S === w, x = f || (T || !b ? [be(w)] : Kt(w)), L = [w].concat(x).reduce(function(Dt, he) {
      return Dt.concat(q(he) === me ? Jt(r, { placement: he, boundary: _, rootBoundary: v, padding: p, flipVariations: b, allowedAutoPlacements: A }) : he);
    }, []), O = r.rects.reference, M = r.rects.popper, k = /* @__PURE__ */ new Map(), ie = !0, $ = L[0], Y = 0; Y < L.length; Y++) {
      var D = L[Y], re = q(D), F = te(D) === U, _e = [E, R].indexOf(re) >= 0, ue = _e ? "width" : "height", Ie = ne(r, { placement: D, boundary: _, rootBoundary: v, altBoundary: g, padding: p }), ze = _e ? F ? W : P : F ? R : E;
      O[ue] > M[ue] && (ze = be(ze));
      var Fe = be(ze), Oe = [];
      if (u && Oe.push(Ie[re] <= 0), d && Oe.push(Ie[ze] <= 0, Ie[Fe] <= 0), Oe.every(function(Dt) {
        return Dt;
      })) {
        $ = D, ie = !1;
        break;
      }
      k.set(D, Oe);
    }
    if (ie)
      for (var Lt = b ? 3 : 1, pe = function(Dt) {
        var he = L.find(function(Et) {
          var hn = k.get(Et);
          if (hn)
            return hn.slice(0, Dt).every(function(vn) {
              return vn;
            });
        });
        if (he)
          return $ = he, "break";
      }, Cn = Lt; Cn > 0; Cn--) {
        var In = pe(Cn);
        if (In === "break")
          break;
      }
    r.placement !== $ && (r.modifiersData[o]._skip = !0, r.placement = $, r.reset = !0);
  }
}
var vt = { name: "flip", enabled: !0, phase: "main", fn: Qt, requiresIfExists: ["offset"], data: { _skip: !1 } };
function gt(i, r, n) {
  return n === void 0 && (n = { x: 0, y: 0 }), { top: i.top - r.height - n.y, right: i.right - r.width + n.x, bottom: i.bottom - r.height + n.y, left: i.left - r.width - n.x };
}
function yt(i) {
  return [E, W, R, P].some(function(r) {
    return i[r] >= 0;
  });
}
function Zt(i) {
  var r = i.state, n = i.name, o = r.rects.reference, a = r.rects.popper, u = r.modifiersData.preventOverflow, c = ne(r, { elementContext: "reference" }), d = ne(r, { altBoundary: !0 }), f = gt(c, o), p = gt(d, a, u), _ = yt(f), v = yt(p);
  r.modifiersData[n] = { referenceClippingOffsets: f, popperEscapeOffsets: p, isReferenceHidden: _, hasPopperEscaped: v }, r.attributes.popper = Object.assign({}, r.attributes.popper, { "data-popper-reference-hidden": _, "data-popper-escaped": v });
}
var bt = { name: "hide", enabled: !0, phase: "main", requiresIfExists: ["preventOverflow"], fn: Zt };
function en(i, r, n) {
  var o = q(i), a = [P, E].indexOf(o) >= 0 ? -1 : 1, u = typeof n == "function" ? n(Object.assign({}, r, { placement: i })) : n, c = u[0], d = u[1];
  return c = c || 0, d = (d || 0) * a, [P, W].indexOf(o) >= 0 ? { x: d, y: c } : { x: c, y: d };
}
function tn(i) {
  var r = i.state, n = i.options, o = i.name, a = n.offset, u = a === void 0 ? [0, 0] : a, c = Ee.reduce(function(_, v) {
    return _[v] = en(v, r.rects, u), _;
  }, {}), d = c[r.placement], f = d.x, p = d.y;
  r.modifiersData.popperOffsets != null && (r.modifiersData.popperOffsets.x += f, r.modifiersData.popperOffsets.y += p), r.modifiersData[o] = c;
}
var wt = { name: "offset", enabled: !0, phase: "main", requires: ["popperOffsets"], fn: tn };
function nn(i) {
  var r = i.state, n = i.name;
  r.modifiersData[n] = mt({ reference: r.rects.reference, element: r.rects.popper, strategy: "absolute", placement: r.placement });
}
var He = { name: "popperOffsets", enabled: !0, phase: "read", fn: nn, data: {} };
function rn(i) {
  return i === "x" ? "y" : "x";
}
function on(i) {
  var r = i.state, n = i.options, o = i.name, a = n.mainAxis, u = a === void 0 ? !0 : a, c = n.altAxis, d = c === void 0 ? !1 : c, f = n.boundary, p = n.rootBoundary, _ = n.altBoundary, v = n.padding, g = n.tether, y = g === void 0 ? !0 : g, b = n.tetherOffset, A = b === void 0 ? 0 : b, w = ne(r, { boundary: f, rootBoundary: p, padding: v, altBoundary: _ }), S = q(r.placement), T = te(r.placement), x = !T, L = Le(S), O = rn(L), M = r.modifiersData.popperOffsets, k = r.rects.reference, ie = r.rects.popper, $ = typeof A == "function" ? A(Object.assign({}, r.rects, { placement: r.placement })) : A, Y = typeof $ == "number" ? { mainAxis: $, altAxis: $ } : Object.assign({ mainAxis: 0, altAxis: 0 }, $), D = r.modifiersData.offset ? r.modifiersData.offset[r.placement] : null, re = { x: 0, y: 0 };
  if (M) {
    if (u) {
      var F, _e = L === "y" ? E : P, ue = L === "y" ? R : W, Ie = L === "y" ? "height" : "width", ze = M[L], Fe = ze + w[_e], Oe = ze - w[ue], Lt = y ? -ie[Ie] / 2 : 0, pe = T === U ? k[Ie] : ie[Ie], Cn = T === U ? -ie[Ie] : -k[Ie], In = r.elements.arrow, Dt = y && In ? ke(In) : { width: 0, height: 0 }, he = r.modifiersData["arrow#persistent"] ? r.modifiersData["arrow#persistent"].padding : st(), Et = he[_e], hn = he[ue], vn = fe(0, k[Ie], Dt[Ie]), kt = x ? k[Ie] / 2 - Lt - vn - Et - Y.mainAxis : pe - vn - Et - Y.mainAxis, Ce = x ? -k[Ie] / 2 + Lt + vn + hn + Y.mainAxis : Cn + vn + hn + Y.mainAxis, de = r.elements.arrow && se(r.elements.arrow), Ue = de ? L === "y" ? de.clientTop || 0 : de.clientLeft || 0 : 0, Ne = (F = D == null ? void 0 : D[L]) != null ? F : 0, Ve = ze + kt - Ne - Ue, Pt = ze + Ce - Ne, jt = fe(y ? ve(Fe, Ve) : Fe, ze, y ? X(Oe, Pt) : Oe);
      M[L] = jt, re[L] = jt - ze;
    }
    if (d) {
      var _n, oe = L === "x" ? E : P, le = L === "x" ? R : W, j = M[O], V = O === "y" ? "height" : "width", z = j + w[oe], ae = j - w[le], xe = [E, P].indexOf(S) !== -1, qe = (_n = D == null ? void 0 : D[O]) != null ? _n : 0, bn = xe ? z : j - k[V] - ie[V] - qe + Y.altAxis, Sn = xe ? j + k[V] + ie[V] - qe - Y.altAxis : ae, xn = y && xe ? St(bn, j, Sn) : fe(y ? bn : z, j, y ? Sn : ae);
      M[O] = xn, re[O] = xn - j;
    }
    r.modifiersData[o] = re;
  }
}
var xt = { name: "preventOverflow", enabled: !0, phase: "main", fn: on, requiresIfExists: ["offset"] };
function an(i) {
  return { scrollLeft: i.scrollLeft, scrollTop: i.scrollTop };
}
function sn(i) {
  return i === H(i) || !B(i) ? We(i) : an(i);
}
function fn(i) {
  var r = i.getBoundingClientRect(), n = Z(r.width) / i.offsetWidth || 1, o = Z(r.height) / i.offsetHeight || 1;
  return n !== 1 || o !== 1;
}
function cn(i, r, n) {
  n === void 0 && (n = !1);
  var o = B(r), a = B(r) && fn(r), u = I(r), c = ee(i, a), d = { scrollLeft: 0, scrollTop: 0 }, f = { x: 0, y: 0 };
  return (o || !o && !n) && ((C(r) !== "body" || Se(u)) && (d = sn(r)), B(r) ? (f = ee(r, !0), f.x += r.clientLeft, f.y += r.clientTop) : u && (f.x = Be(u))), { x: c.left + d.scrollLeft - f.x, y: c.top + d.scrollTop - f.y, width: c.width, height: c.height };
}
function pn(i) {
  var r = /* @__PURE__ */ new Map(), n = /* @__PURE__ */ new Set(), o = [];
  i.forEach(function(u) {
    r.set(u.name, u);
  });
  function a(u) {
    n.add(u.name);
    var c = [].concat(u.requires || [], u.requiresIfExists || []);
    c.forEach(function(d) {
      if (!n.has(d)) {
        var f = r.get(d);
        f && a(f);
      }
    }), o.push(u);
  }
  return i.forEach(function(u) {
    n.has(u.name) || a(u);
  }), o;
}
function un(i) {
  var r = pn(i);
  return ot.reduce(function(n, o) {
    return n.concat(r.filter(function(a) {
      return a.phase === o;
    }));
  }, []);
}
function ln(i) {
  var r;
  return function() {
    return r || (r = new Promise(function(n) {
      Promise.resolve().then(function() {
        r = void 0, n(i());
      });
    })), r;
  };
}
function dn(i) {
  var r = i.reduce(function(n, o) {
    var a = n[o.name];
    return n[o.name] = a ? Object.assign({}, a, o, { options: Object.assign({}, a.options, o.options), data: Object.assign({}, a.data, o.data) }) : o, n;
  }, {});
  return Object.keys(r).map(function(n) {
    return r[n];
  });
}
var Ot = { placement: "bottom", modifiers: [], strategy: "absolute" };
function $t() {
  for (var i = arguments.length, r = new Array(i), n = 0; n < i; n++)
    r[n] = arguments[n];
  return !r.some(function(o) {
    return !(o && typeof o.getBoundingClientRect == "function");
  });
}
function we(i) {
  i === void 0 && (i = {});
  var r = i, n = r.defaultModifiers, o = n === void 0 ? [] : n, a = r.defaultOptions, u = a === void 0 ? Ot : a;
  return function(c, d, f) {
    f === void 0 && (f = u);
    var p = { placement: "bottom", orderedModifiers: [], options: Object.assign({}, Ot, u), modifiersData: {}, elements: { reference: c, popper: d }, attributes: {}, styles: {} }, _ = [], v = !1, g = { state: p, setOptions: function(A) {
      var w = typeof A == "function" ? A(p.options) : A;
      b(), p.options = Object.assign({}, u, p.options, w), p.scrollParents = { reference: Q(c) ? ce(c) : c.contextElement ? ce(c.contextElement) : [], popper: ce(d) };
      var S = un(dn([].concat(o, p.options.modifiers)));
      return p.orderedModifiers = S.filter(function(T) {
        return T.enabled;
      }), y(), g.update();
    }, forceUpdate: function() {
      if (!v) {
        var A = p.elements, w = A.reference, S = A.popper;
        if ($t(w, S)) {
          p.rects = { reference: cn(w, se(S), p.options.strategy === "fixed"), popper: ke(S) }, p.reset = !1, p.placement = p.options.placement, p.orderedModifiers.forEach(function(ie) {
            return p.modifiersData[ie.name] = Object.assign({}, ie.data);
          });
          for (var T = 0; T < p.orderedModifiers.length; T++) {
            if (p.reset === !0) {
              p.reset = !1, T = -1;
              continue;
            }
            var x = p.orderedModifiers[T], L = x.fn, O = x.options, M = O === void 0 ? {} : O, k = x.name;
            typeof L == "function" && (p = L({ state: p, options: M, name: k, instance: g }) || p);
          }
        }
      }
    }, update: ln(function() {
      return new Promise(function(A) {
        g.forceUpdate(), A(p);
      });
    }), destroy: function() {
      b(), v = !0;
    } };
    if (!$t(c, d))
      return g;
    g.setOptions(f).then(function(A) {
      !v && f.onFirstUpdate && f.onFirstUpdate(A);
    });
    function y() {
      p.orderedModifiers.forEach(function(A) {
        var w = A.name, S = A.options, T = S === void 0 ? {} : S, x = A.effect;
        if (typeof x == "function") {
          var L = x({ state: p, name: w, instance: g, options: T }), O = function() {
          };
          _.push(L || O);
        }
      });
    }
    function b() {
      _.forEach(function(A) {
        return A();
      }), _ = [];
    }
    return g;
  };
}
we();
var mn = [Re, He, Me, Ae];
we({ defaultModifiers: mn });
var gn = [Re, He, Me, Ae, wt, vt, xt, pt, bt], yn = we({ defaultModifiers: gn });
const usePopper = (i, r, n = {}) => {
  const o = {
    name: "updateState",
    enabled: !0,
    phase: "write",
    fn: ({ state: f }) => {
      const p = deriveState(f);
      Object.assign(c.value, p);
    },
    requires: ["computeStyles"]
  }, a = computed(() => {
    const { onFirstUpdate: f, placement: p, strategy: _, modifiers: v } = unref(n);
    return {
      onFirstUpdate: f,
      placement: p || "bottom",
      strategy: _ || "absolute",
      modifiers: [
        ...v || [],
        o,
        { name: "applyStyles", enabled: !1 }
      ]
    };
  }), u = shallowRef(), c = ref({
    styles: {
      popper: {
        position: unref(a).strategy,
        left: "0",
        top: "0"
      },
      arrow: {
        position: "absolute"
      }
    },
    attributes: {}
  }), d = () => {
    u.value && (u.value.destroy(), u.value = void 0);
  };
  return watch(a, (f) => {
    const p = unref(u);
    p && p.setOptions(f);
  }, {
    deep: !0
  }), watch([i, r], ([f, p]) => {
    d(), !(!f || !p) && (u.value = yn(f, p, unref(a)));
  }), onBeforeUnmount(() => {
    d();
  }), {
    state: computed(() => {
      var f;
      return { ...((f = unref(u)) == null ? void 0 : f.state) || {} };
    }),
    styles: computed(() => unref(c).styles),
    attributes: computed(() => unref(c).attributes),
    update: () => {
      var f;
      return (f = unref(u)) == null ? void 0 : f.update();
    },
    forceUpdate: () => {
      var f;
      return (f = unref(u)) == null ? void 0 : f.forceUpdate();
    },
    instanceRef: computed(() => unref(u))
  };
};
function deriveState(i) {
  const r = Object.keys(i.elements), n = fromPairs(r.map((a) => [a, i.styles[a] || {}])), o = fromPairs(r.map((a) => [a, i.attributes[a]]));
  return {
    styles: n,
    attributes: o
  };
}
function useTimeout() {
  let i;
  const r = (o, a) => {
    n(), i = window.setTimeout(o, a);
  }, n = () => window.clearTimeout(i);
  return tryOnScopeDispose(() => n()), {
    registerTimeout: r,
    cancelTimeout: n
  };
}
const defaultIdInjection = {
  prefix: Math.floor(Math.random() * 1e4),
  current: 0
}, ID_INJECTION_KEY = Symbol("elIdInjection"), useIdInjection = () => getCurrentInstance() ? inject(ID_INJECTION_KEY, defaultIdInjection) : defaultIdInjection, useId = (i) => {
  const r = useIdInjection();
  !isClient && r === defaultIdInjection && debugWarn("IdInjection", `Looks like you are using server rendering, you must provide a id provider to ensure the hydration process to be succeed
usage: app.provide(ID_INJECTION_KEY, {
  prefix: number,
  current: number,
})`);
  const n = useGetDerivedNamespace();
  return computed(() => unref(i) || `${n.value}-id-${r.prefix}-${r.current++}`);
};
let registeredEscapeHandlers = [];
const cachedHandler = (i) => {
  const r = i;
  r.key === EVENT_CODE.esc && registeredEscapeHandlers.forEach((n) => n(r));
}, useEscapeKeydown = (i) => {
  onMounted(() => {
    registeredEscapeHandlers.length === 0 && document.addEventListener("keydown", cachedHandler), isClient && registeredEscapeHandlers.push(i);
  }), onBeforeUnmount(() => {
    registeredEscapeHandlers = registeredEscapeHandlers.filter((r) => r !== i), registeredEscapeHandlers.length === 0 && isClient && document.removeEventListener("keydown", cachedHandler);
  });
}, usePopperContainerId = () => {
  const i = useGetDerivedNamespace(), r = useIdInjection(), n = computed(() => `${i.value}-popper-container-${r.prefix}`), o = computed(() => `#${n.value}`);
  return {
    id: n,
    selector: o
  };
}, createContainer = (i) => {
  const r = document.createElement("div");
  return r.id = i, document.body.appendChild(r), r;
}, usePopperContainer = () => {
  const { id: i, selector: r } = usePopperContainerId();
  return onBeforeMount(() => {
    isClient && (process.env.NODE_ENV === "test" || !document.body.querySelector(r.value)) && createContainer(i.value);
  }), {
    id: i,
    selector: r
  };
}, useDelayedToggleProps = buildProps({
  showAfter: {
    type: Number,
    default: 0
  },
  hideAfter: {
    type: Number,
    default: 200
  },
  autoClose: {
    type: Number,
    default: 0
  }
}), useDelayedToggle = ({
  showAfter: i,
  hideAfter: r,
  autoClose: n,
  open: o,
  close: a
}) => {
  const { registerTimeout: u } = useTimeout(), {
    registerTimeout: c,
    cancelTimeout: d
  } = useTimeout();
  return {
    onOpen: (_) => {
      u(() => {
        o(_);
        const v = unref(n);
        isNumber(v) && v > 0 && c(() => {
          a(_);
        }, v);
      }, unref(i));
    },
    onClose: (_) => {
      d(), u(() => {
        a(_);
      }, unref(r));
    }
  };
}, FORWARD_REF_INJECTION_KEY = Symbol("elForwardRef"), useForwardRef = (i) => {
  provide(FORWARD_REF_INJECTION_KEY, {
    setForwardRef: (n) => {
      i.value = n;
    }
  });
}, useForwardRefDirective = (i) => ({
  mounted(r) {
    i(r);
  },
  updated(r) {
    i(r);
  },
  unmounted() {
    i(null);
  }
}), initial = {
  current: 0
}, zIndex = ref(0), defaultInitialZIndex = 2e3, ZINDEX_INJECTION_KEY = Symbol("elZIndexContextKey"), zIndexContextKey = Symbol("zIndexContextKey"), useZIndex = (i) => {
  const r = getCurrentInstance() ? inject(ZINDEX_INJECTION_KEY, initial) : initial, n = i || (getCurrentInstance() ? inject(zIndexContextKey, void 0) : void 0), o = computed(() => {
    const c = unref(n);
    return isNumber(c) ? c : defaultInitialZIndex;
  }), a = computed(() => o.value + zIndex.value), u = () => (r.current++, zIndex.value = r.current, a.value);
  return !isClient && !inject(ZINDEX_INJECTION_KEY) && debugWarn("ZIndexInjection", `Looks like you are using server rendering, you must provide a z-index provider to ensure the hydration process to be succeed
usage: app.provide(ZINDEX_INJECTION_KEY, { current: 0 })`), {
    initialZIndex: o,
    currentZIndex: a,
    nextZIndex: u
  };
};
function useCursor(i) {
  let r;
  function n() {
    if (i.value == null)
      return;
    const { selectionStart: a, selectionEnd: u, value: c } = i.value;
    if (a == null || u == null)
      return;
    const d = c.slice(0, Math.max(0, a)), f = c.slice(Math.max(0, u));
    r = {
      selectionStart: a,
      selectionEnd: u,
      value: c,
      beforeTxt: d,
      afterTxt: f
    };
  }
  function o() {
    if (i.value == null || r == null)
      return;
    const { value: a } = i.value, { beforeTxt: u, afterTxt: c, selectionStart: d } = r;
    if (u == null || c == null || d == null)
      return;
    let f = a.length;
    if (a.endsWith(c))
      f = a.length - c.length;
    else if (a.startsWith(u))
      f = u.length;
    else {
      const p = u[d - 1], _ = a.indexOf(p, d - 1);
      _ !== -1 && (f = _ + 1);
    }
    i.value.setSelectionRange(f, f);
  }
  return [n, o];
}
const useSizeProp = buildProp({
  type: String,
  values: componentSizes,
  required: !1
}), SIZE_INJECTION_KEY = Symbol("size"), useGlobalSize = () => {
  const i = inject(SIZE_INJECTION_KEY, {});
  return computed(() => unref(i.size) || "");
};
function useFocusController(i, {
  beforeFocus: r,
  afterFocus: n,
  beforeBlur: o,
  afterBlur: a
} = {}) {
  const u = getCurrentInstance(), { emit: c } = u, d = shallowRef(), f = ref(!1), p = (g) => {
    isFunction(r) && r(g) || f.value || (f.value = !0, c("focus", g), n == null || n());
  }, _ = (g) => {
    var y;
    isFunction(o) && o(g) || g.relatedTarget && ((y = d.value) != null && y.contains(g.relatedTarget)) || (f.value = !1, c("blur", g), a == null || a());
  }, v = () => {
    var g, y;
    (g = d.value) != null && g.contains(document.activeElement) && d.value !== document.activeElement || (y = i.value) == null || y.focus();
  };
  return watch(d, (g) => {
    g && g.setAttribute("tabindex", "-1");
  }), useEventListener(d, "focus", p, !0), useEventListener(d, "blur", _, !0), useEventListener(d, "click", v, !0), process.env.NODE_ENV === "test" && onMounted(() => {
    const g = isElement(i.value) ? i.value : document.querySelector("input,textarea");
    g && (useEventListener(g, "focus", p, !0), useEventListener(g, "blur", _, !0));
  }), {
    isFocused: f,
    wrapperRef: d,
    handleFocus: p,
    handleBlur: _
  };
}
function useComposition({
  afterComposition: i,
  emit: r
}) {
  const n = ref(!1), o = (d) => {
    r == null || r("compositionstart", d), n.value = !0;
  }, a = (d) => {
    var f;
    r == null || r("compositionupdate", d);
    const p = (f = d.target) == null ? void 0 : f.value, _ = p[p.length - 1] || "";
    n.value = !isKorean(_);
  }, u = (d) => {
    r == null || r("compositionend", d), n.value && (n.value = !1, nextTick(() => i(d)));
  };
  return {
    isComposing: n,
    handleComposition: (d) => {
      d.type === "compositionend" ? u(d) : a(d);
    },
    handleCompositionStart: o,
    handleCompositionUpdate: a,
    handleCompositionEnd: u
  };
}
const emptyValuesContextKey = Symbol("emptyValuesContextKey"), SCOPE$1 = "use-empty-values", DEFAULT_EMPTY_VALUES = ["", void 0, null], DEFAULT_VALUE_ON_CLEAR = void 0, useEmptyValuesProps = buildProps({
  emptyValues: Array,
  valueOnClear: {
    type: [String, Number, Boolean, Function],
    default: void 0,
    validator: (i) => isFunction(i) ? !i() : !i
  }
}), useEmptyValues = (i, r) => {
  const n = getCurrentInstance() ? inject(emptyValuesContextKey, ref({})) : ref({}), o = computed(() => i.emptyValues || n.value.emptyValues || DEFAULT_EMPTY_VALUES), a = computed(() => isFunction(i.valueOnClear) ? i.valueOnClear() : i.valueOnClear !== void 0 ? i.valueOnClear : isFunction(n.value.valueOnClear) ? n.value.valueOnClear() : n.value.valueOnClear !== void 0 ? n.value.valueOnClear : r !== void 0 ? r : DEFAULT_VALUE_ON_CLEAR), u = (c) => o.value.includes(c);
  return o.value.includes(a.value) || debugWarn(SCOPE$1, "value-on-clear should be a value of empty-values"), {
    emptyValues: o,
    valueOnClear: a,
    isEmptyValue: u
  };
}, ariaProps = buildProps({
  ariaLabel: String,
  ariaOrientation: {
    type: String,
    values: ["horizontal", "vertical", "undefined"]
  },
  ariaControls: String
}), useAriaProps = (i) => pick(ariaProps, i);
var _export_sfc = (i, r) => {
  const n = i.__vccOpts || i;
  for (const [o, a] of r)
    n[o] = a;
  return n;
};
const iconProps = buildProps({
  size: {
    type: definePropType([Number, String])
  },
  color: {
    type: String
  }
}), __default__$c = defineComponent({
  name: "ElIcon",
  inheritAttrs: !1
}), _sfc_main$s = /* @__PURE__ */ defineComponent({
  ...__default__$c,
  props: iconProps,
  setup(i) {
    const r = i, n = useNamespace("icon"), o = computed(() => {
      const { size: a, color: u } = r;
      return !a && !u ? {} : {
        fontSize: isUndefined(a) ? void 0 : addUnit(a),
        "--color": u
      };
    });
    return (a, u) => (openBlock(), createElementBlock("i", mergeProps({
      class: unref(n).b(),
      style: unref(o)
    }, a.$attrs), [
      renderSlot(a.$slots, "default")
    ], 16));
  }
});
var Icon = /* @__PURE__ */ _export_sfc(_sfc_main$s, [["__file", "icon.vue"]]);
const ElIcon = withInstall(Icon), formContextKey = Symbol("formContextKey"), formItemContextKey = Symbol("formItemContextKey"), useFormSize = (i, r = {}) => {
  const n = ref(void 0), o = r.prop ? n : useProp("size"), a = r.global ? n : useGlobalSize(), u = r.form ? { size: void 0 } : inject(formContextKey, void 0), c = r.formItem ? { size: void 0 } : inject(formItemContextKey, void 0);
  return computed(() => o.value || unref(i) || (c == null ? void 0 : c.size) || (u == null ? void 0 : u.size) || a.value || "");
}, useFormDisabled = (i) => {
  const r = useProp("disabled"), n = inject(formContextKey, void 0);
  return computed(() => r.value || unref(i) || (n == null ? void 0 : n.disabled) || !1);
}, useFormItem = () => {
  const i = inject(formContextKey, void 0), r = inject(formItemContextKey, void 0);
  return {
    form: i,
    formItem: r
  };
}, useFormItemInputId = (i, {
  formItemContext: r,
  disableIdGeneration: n,
  disableIdManagement: o
}) => {
  n || (n = ref(!1)), o || (o = ref(!1));
  const a = ref();
  let u;
  const c = computed(() => {
    var d;
    return !!(!(i.label || i.ariaLabel) && r && r.inputIds && ((d = r.inputIds) == null ? void 0 : d.length) <= 1);
  });
  return onMounted(() => {
    u = watch([toRef(i, "id"), n], ([d, f]) => {
      const p = d ?? (f ? void 0 : useId().value);
      p !== a.value && (r != null && r.removeInputId && (a.value && r.removeInputId(a.value), !(o != null && o.value) && !f && p && r.addInputId(p)), a.value = p);
    }, { immediate: !0 });
  }), onUnmounted(() => {
    u && u(), r != null && r.removeInputId && a.value && r.removeInputId(a.value);
  }), {
    isLabeledByFormItem: c,
    inputId: a
  };
}, formMetaProps = buildProps({
  size: {
    type: String,
    values: componentSizes
  },
  disabled: Boolean
}), formProps = buildProps({
  ...formMetaProps,
  model: Object,
  rules: {
    type: definePropType(Object)
  },
  labelPosition: {
    type: String,
    values: ["left", "right", "top"],
    default: "right"
  },
  requireAsteriskPosition: {
    type: String,
    values: ["left", "right"],
    default: "left"
  },
  labelWidth: {
    type: [String, Number],
    default: ""
  },
  labelSuffix: {
    type: String,
    default: ""
  },
  inline: Boolean,
  inlineMessage: Boolean,
  statusIcon: Boolean,
  showMessage: {
    type: Boolean,
    default: !0
  },
  validateOnRuleChange: {
    type: Boolean,
    default: !0
  },
  hideRequiredAsterisk: Boolean,
  scrollToError: Boolean,
  scrollIntoViewOptions: {
    type: [Object, Boolean]
  }
}), formEmits = {
  validate: (i, r, n) => (isArray(i) || isString(i)) && isBoolean(r) && isString(n)
}, SCOPE = "ElForm";
function useFormLabelWidth() {
  const i = ref([]), r = computed(() => {
    if (!i.value.length)
      return "0";
    const u = Math.max(...i.value);
    return u ? `${u}px` : "";
  });
  function n(u) {
    const c = i.value.indexOf(u);
    return c === -1 && r.value === "0" && debugWarn(SCOPE, `unexpected width ${u}`), c;
  }
  function o(u, c) {
    if (u && c) {
      const d = n(c);
      i.value.splice(d, 1, u);
    } else
      u && i.value.push(u);
  }
  function a(u) {
    const c = n(u);
    c > -1 && i.value.splice(c, 1);
  }
  return {
    autoLabelWidth: r,
    registerLabelWidth: o,
    deregisterLabelWidth: a
  };
}
const filterFields = (i, r) => {
  const n = castArray(r);
  return n.length > 0 ? i.filter((o) => o.prop && n.includes(o.prop)) : i;
}, COMPONENT_NAME$4 = "ElForm", __default__$b = defineComponent({
  name: COMPONENT_NAME$4
}), _sfc_main$r = /* @__PURE__ */ defineComponent({
  ...__default__$b,
  props: formProps,
  emits: formEmits,
  setup(i, { expose: r, emit: n }) {
    const o = i, a = [], u = useFormSize(), c = useNamespace("form"), d = computed(() => {
      const { labelPosition: x, inline: L } = o;
      return [
        c.b(),
        c.m(u.value || "default"),
        {
          [c.m(`label-${x}`)]: x,
          [c.m("inline")]: L
        }
      ];
    }), f = (x) => a.find((L) => L.prop === x), p = (x) => {
      a.push(x);
    }, _ = (x) => {
      x.prop && a.splice(a.indexOf(x), 1);
    }, v = (x = []) => {
      if (!o.model) {
        debugWarn(COMPONENT_NAME$4, "model is required for resetFields to work.");
        return;
      }
      filterFields(a, x).forEach((L) => L.resetField());
    }, g = (x = []) => {
      filterFields(a, x).forEach((L) => L.clearValidate());
    }, y = computed(() => {
      const x = !!o.model;
      return x || debugWarn(COMPONENT_NAME$4, "model is required for validate to work."), x;
    }), b = (x) => {
      if (a.length === 0)
        return [];
      const L = filterFields(a, x);
      return L.length ? L : (debugWarn(COMPONENT_NAME$4, "please pass correct props!"), []);
    }, A = async (x) => S(void 0, x), w = async (x = []) => {
      if (!y.value)
        return !1;
      const L = b(x);
      if (L.length === 0)
        return !0;
      let O = {};
      for (const M of L)
        try {
          await M.validate("");
        } catch (k) {
          O = {
            ...O,
            ...k
          };
        }
      return Object.keys(O).length === 0 ? !0 : Promise.reject(O);
    }, S = async (x = [], L) => {
      const O = !isFunction(L);
      try {
        const M = await w(x);
        return M === !0 && await (L == null ? void 0 : L(M)), M;
      } catch (M) {
        if (M instanceof Error)
          throw M;
        const k = M;
        return o.scrollToError && T(Object.keys(k)[0]), await (L == null ? void 0 : L(!1, k)), O && Promise.reject(k);
      }
    }, T = (x) => {
      var L;
      const O = filterFields(a, x)[0];
      O && ((L = O.$el) == null || L.scrollIntoView(o.scrollIntoViewOptions));
    };
    return watch(() => o.rules, () => {
      o.validateOnRuleChange && A().catch((x) => debugWarn(x));
    }, { deep: !0 }), provide(formContextKey, reactive({
      ...toRefs(o),
      emit: n,
      resetFields: v,
      clearValidate: g,
      validateField: S,
      getField: f,
      addField: p,
      removeField: _,
      ...useFormLabelWidth()
    })), r({
      validate: A,
      validateField: S,
      resetFields: v,
      clearValidate: g,
      scrollToField: T,
      fields: a
    }), (x, L) => (openBlock(), createElementBlock("form", {
      class: normalizeClass(unref(d))
    }, [
      renderSlot(x.$slots, "default")
    ], 2));
  }
});
var Form = /* @__PURE__ */ _export_sfc(_sfc_main$r, [["__file", "form.vue"]]);
function _extends() {
  return _extends = Object.assign ? Object.assign.bind() : function(i) {
    for (var r = 1; r < arguments.length; r++) {
      var n = arguments[r];
      for (var o in n)
        Object.prototype.hasOwnProperty.call(n, o) && (i[o] = n[o]);
    }
    return i;
  }, _extends.apply(this, arguments);
}
function _inheritsLoose(i, r) {
  i.prototype = Object.create(r.prototype), i.prototype.constructor = i, _setPrototypeOf(i, r);
}
function _getPrototypeOf(i) {
  return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(n) {
    return n.__proto__ || Object.getPrototypeOf(n);
  }, _getPrototypeOf(i);
}
function _setPrototypeOf(i, r) {
  return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(o, a) {
    return o.__proto__ = a, o;
  }, _setPrototypeOf(i, r);
}
function _isNativeReflectConstruct() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return !1;
  if (typeof Proxy == "function")
    return !0;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), !0;
  } catch {
    return !1;
  }
}
function _construct(i, r, n) {
  return _isNativeReflectConstruct() ? _construct = Reflect.construct.bind() : _construct = function(a, u, c) {
    var d = [null];
    d.push.apply(d, u);
    var f = Function.bind.apply(a, d), p = new f();
    return c && _setPrototypeOf(p, c.prototype), p;
  }, _construct.apply(null, arguments);
}
function _isNativeFunction(i) {
  return Function.toString.call(i).indexOf("[native code]") !== -1;
}
function _wrapNativeSuper(i) {
  var r = typeof Map == "function" ? /* @__PURE__ */ new Map() : void 0;
  return _wrapNativeSuper = function(o) {
    if (o === null || !_isNativeFunction(o))
      return o;
    if (typeof o != "function")
      throw new TypeError("Super expression must either be null or a function");
    if (typeof r < "u") {
      if (r.has(o))
        return r.get(o);
      r.set(o, a);
    }
    function a() {
      return _construct(o, arguments, _getPrototypeOf(this).constructor);
    }
    return a.prototype = Object.create(o.prototype, {
      constructor: {
        value: a,
        enumerable: !1,
        writable: !0,
        configurable: !0
      }
    }), _setPrototypeOf(a, o);
  }, _wrapNativeSuper(i);
}
var formatRegExp = /%[sdj%]/g, warning = function i() {
};
typeof process < "u" && process.env && process.env.NODE_ENV !== "production" && typeof window < "u" && typeof document < "u" && (warning = function(r, n) {
  typeof console < "u" && console.warn && typeof ASYNC_VALIDATOR_NO_WARNING > "u" && n.every(function(o) {
    return typeof o == "string";
  }) && console.warn(r, n);
});
function convertFieldsError(i) {
  if (!i || !i.length)
    return null;
  var r = {};
  return i.forEach(function(n) {
    var o = n.field;
    r[o] = r[o] || [], r[o].push(n);
  }), r;
}
function format(i) {
  for (var r = arguments.length, n = new Array(r > 1 ? r - 1 : 0), o = 1; o < r; o++)
    n[o - 1] = arguments[o];
  var a = 0, u = n.length;
  if (typeof i == "function")
    return i.apply(null, n);
  if (typeof i == "string") {
    var c = i.replace(formatRegExp, function(d) {
      if (d === "%%")
        return "%";
      if (a >= u)
        return d;
      switch (d) {
        case "%s":
          return String(n[a++]);
        case "%d":
          return Number(n[a++]);
        case "%j":
          try {
            return JSON.stringify(n[a++]);
          } catch {
            return "[Circular]";
          }
          break;
        default:
          return d;
      }
    });
    return c;
  }
  return i;
}
function isNativeStringType(i) {
  return i === "string" || i === "url" || i === "hex" || i === "email" || i === "date" || i === "pattern";
}
function isEmptyValue(i, r) {
  return !!(i == null || r === "array" && Array.isArray(i) && !i.length || isNativeStringType(r) && typeof i == "string" && !i);
}
function asyncParallelArray(i, r, n) {
  var o = [], a = 0, u = i.length;
  function c(d) {
    o.push.apply(o, d || []), a++, a === u && n(o);
  }
  i.forEach(function(d) {
    r(d, c);
  });
}
function asyncSerialArray(i, r, n) {
  var o = 0, a = i.length;
  function u(c) {
    if (c && c.length) {
      n(c);
      return;
    }
    var d = o;
    o = o + 1, d < a ? r(i[d], u) : n([]);
  }
  u([]);
}
function flattenObjArr(i) {
  var r = [];
  return Object.keys(i).forEach(function(n) {
    r.push.apply(r, i[n] || []);
  }), r;
}
var AsyncValidationError = /* @__PURE__ */ function(i) {
  _inheritsLoose(r, i);
  function r(n, o) {
    var a;
    return a = i.call(this, "Async Validation Error") || this, a.errors = n, a.fields = o, a;
  }
  return r;
}(/* @__PURE__ */ _wrapNativeSuper(Error));
function asyncMap(i, r, n, o, a) {
  if (r.first) {
    var u = new Promise(function(g, y) {
      var b = function(S) {
        return o(S), S.length ? y(new AsyncValidationError(S, convertFieldsError(S))) : g(a);
      }, A = flattenObjArr(i);
      asyncSerialArray(A, n, b);
    });
    return u.catch(function(g) {
      return g;
    }), u;
  }
  var c = r.firstFields === !0 ? Object.keys(i) : r.firstFields || [], d = Object.keys(i), f = d.length, p = 0, _ = [], v = new Promise(function(g, y) {
    var b = function(w) {
      if (_.push.apply(_, w), p++, p === f)
        return o(_), _.length ? y(new AsyncValidationError(_, convertFieldsError(_))) : g(a);
    };
    d.length || (o(_), g(a)), d.forEach(function(A) {
      var w = i[A];
      c.indexOf(A) !== -1 ? asyncSerialArray(w, n, b) : asyncParallelArray(w, n, b);
    });
  });
  return v.catch(function(g) {
    return g;
  }), v;
}
function isErrorObj(i) {
  return !!(i && i.message !== void 0);
}
function getValue(i, r) {
  for (var n = i, o = 0; o < r.length; o++) {
    if (n == null)
      return n;
    n = n[r[o]];
  }
  return n;
}
function complementError(i, r) {
  return function(n) {
    var o;
    return i.fullFields ? o = getValue(r, i.fullFields) : o = r[n.field || i.fullField], isErrorObj(n) ? (n.field = n.field || i.fullField, n.fieldValue = o, n) : {
      message: typeof n == "function" ? n() : n,
      fieldValue: o,
      field: n.field || i.fullField
    };
  };
}
function deepMerge(i, r) {
  if (r) {
    for (var n in r)
      if (r.hasOwnProperty(n)) {
        var o = r[n];
        typeof o == "object" && typeof i[n] == "object" ? i[n] = _extends({}, i[n], o) : i[n] = o;
      }
  }
  return i;
}
var required$1 = function i(r, n, o, a, u, c) {
  r.required && (!o.hasOwnProperty(r.field) || isEmptyValue(n, c || r.type)) && a.push(format(u.messages.required, r.fullField));
}, whitespace = function i(r, n, o, a, u) {
  (/^\s+$/.test(n) || n === "") && a.push(format(u.messages.whitespace, r.fullField));
}, urlReg, getUrlRegex = function() {
  if (urlReg)
    return urlReg;
  var i = "[a-fA-F\\d:]", r = function(L) {
    return L && L.includeBoundaries ? "(?:(?<=\\s|^)(?=" + i + ")|(?<=" + i + ")(?=\\s|$))" : "";
  }, n = "(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}", o = "[a-fA-F\\d]{1,4}", a = (`
(?:
(?:` + o + ":){7}(?:" + o + `|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:` + o + ":){6}(?:" + n + "|:" + o + `|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:` + o + ":){5}(?::" + n + "|(?::" + o + `){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:` + o + ":){4}(?:(?::" + o + "){0,1}:" + n + "|(?::" + o + `){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:` + o + ":){3}(?:(?::" + o + "){0,2}:" + n + "|(?::" + o + `){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:` + o + ":){2}(?:(?::" + o + "){0,3}:" + n + "|(?::" + o + `){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:` + o + ":){1}(?:(?::" + o + "){0,4}:" + n + "|(?::" + o + `){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::` + o + "){0,5}:" + n + "|(?::" + o + `){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm, "").replace(/\n/g, "").trim(), u = new RegExp("(?:^" + n + "$)|(?:^" + a + "$)"), c = new RegExp("^" + n + "$"), d = new RegExp("^" + a + "$"), f = function(L) {
    return L && L.exact ? u : new RegExp("(?:" + r(L) + n + r(L) + ")|(?:" + r(L) + a + r(L) + ")", "g");
  };
  f.v4 = function(x) {
    return x && x.exact ? c : new RegExp("" + r(x) + n + r(x), "g");
  }, f.v6 = function(x) {
    return x && x.exact ? d : new RegExp("" + r(x) + a + r(x), "g");
  };
  var p = "(?:(?:[a-z]+:)?//)", _ = "(?:\\S+(?::\\S*)?@)?", v = f.v4().source, g = f.v6().source, y = "(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)", b = "(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*", A = "(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))", w = "(?::\\d{2,5})?", S = '(?:[/?#][^\\s"]*)?', T = "(?:" + p + "|www\\.)" + _ + "(?:localhost|" + v + "|" + g + "|" + y + b + A + ")" + w + S;
  return urlReg = new RegExp("(?:^" + T + "$)", "i"), urlReg;
}, pattern$2 = {
  // http://emailregex.com/
  email: /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,
  // url: new RegExp(
  //   '^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$',
  //   'i',
  // ),
  hex: /^#?([a-f0-9]{6}|[a-f0-9]{3})$/i
}, types = {
  integer: function i(r) {
    return types.number(r) && parseInt(r, 10) === r;
  },
  float: function i(r) {
    return types.number(r) && !types.integer(r);
  },
  array: function i(r) {
    return Array.isArray(r);
  },
  regexp: function i(r) {
    if (r instanceof RegExp)
      return !0;
    try {
      return !!new RegExp(r);
    } catch {
      return !1;
    }
  },
  date: function i(r) {
    return typeof r.getTime == "function" && typeof r.getMonth == "function" && typeof r.getYear == "function" && !isNaN(r.getTime());
  },
  number: function i(r) {
    return isNaN(r) ? !1 : typeof r == "number";
  },
  object: function i(r) {
    return typeof r == "object" && !types.array(r);
  },
  method: function i(r) {
    return typeof r == "function";
  },
  email: function i(r) {
    return typeof r == "string" && r.length <= 320 && !!r.match(pattern$2.email);
  },
  url: function i(r) {
    return typeof r == "string" && r.length <= 2048 && !!r.match(getUrlRegex());
  },
  hex: function i(r) {
    return typeof r == "string" && !!r.match(pattern$2.hex);
  }
}, type$1 = function i(r, n, o, a, u) {
  if (r.required && n === void 0) {
    required$1(r, n, o, a, u);
    return;
  }
  var c = ["integer", "float", "array", "regexp", "object", "method", "email", "number", "date", "url", "hex"], d = r.type;
  c.indexOf(d) > -1 ? types[d](n) || a.push(format(u.messages.types[d], r.fullField, r.type)) : d && typeof n !== r.type && a.push(format(u.messages.types[d], r.fullField, r.type));
}, range = function i(r, n, o, a, u) {
  var c = typeof r.len == "number", d = typeof r.min == "number", f = typeof r.max == "number", p = /[\uD800-\uDBFF][\uDC00-\uDFFF]/g, _ = n, v = null, g = typeof n == "number", y = typeof n == "string", b = Array.isArray(n);
  if (g ? v = "number" : y ? v = "string" : b && (v = "array"), !v)
    return !1;
  b && (_ = n.length), y && (_ = n.replace(p, "_").length), c ? _ !== r.len && a.push(format(u.messages[v].len, r.fullField, r.len)) : d && !f && _ < r.min ? a.push(format(u.messages[v].min, r.fullField, r.min)) : f && !d && _ > r.max ? a.push(format(u.messages[v].max, r.fullField, r.max)) : d && f && (_ < r.min || _ > r.max) && a.push(format(u.messages[v].range, r.fullField, r.min, r.max));
}, ENUM$1 = "enum", enumerable$1 = function i(r, n, o, a, u) {
  r[ENUM$1] = Array.isArray(r[ENUM$1]) ? r[ENUM$1] : [], r[ENUM$1].indexOf(n) === -1 && a.push(format(u.messages[ENUM$1], r.fullField, r[ENUM$1].join(", ")));
}, pattern$1 = function i(r, n, o, a, u) {
  if (r.pattern) {
    if (r.pattern instanceof RegExp)
      r.pattern.lastIndex = 0, r.pattern.test(n) || a.push(format(u.messages.pattern.mismatch, r.fullField, n, r.pattern));
    else if (typeof r.pattern == "string") {
      var c = new RegExp(r.pattern);
      c.test(n) || a.push(format(u.messages.pattern.mismatch, r.fullField, n, r.pattern));
    }
  }
}, rules = {
  required: required$1,
  whitespace,
  type: type$1,
  range,
  enum: enumerable$1,
  pattern: pattern$1
}, string = function i(r, n, o, a, u) {
  var c = [], d = r.required || !r.required && a.hasOwnProperty(r.field);
  if (d) {
    if (isEmptyValue(n, "string") && !r.required)
      return o();
    rules.required(r, n, a, c, u, "string"), isEmptyValue(n, "string") || (rules.type(r, n, a, c, u), rules.range(r, n, a, c, u), rules.pattern(r, n, a, c, u), r.whitespace === !0 && rules.whitespace(r, n, a, c, u));
  }
  o(c);
}, method = function i(r, n, o, a, u) {
  var c = [], d = r.required || !r.required && a.hasOwnProperty(r.field);
  if (d) {
    if (isEmptyValue(n) && !r.required)
      return o();
    rules.required(r, n, a, c, u), n !== void 0 && rules.type(r, n, a, c, u);
  }
  o(c);
}, number = function i(r, n, o, a, u) {
  var c = [], d = r.required || !r.required && a.hasOwnProperty(r.field);
  if (d) {
    if (n === "" && (n = void 0), isEmptyValue(n) && !r.required)
      return o();
    rules.required(r, n, a, c, u), n !== void 0 && (rules.type(r, n, a, c, u), rules.range(r, n, a, c, u));
  }
  o(c);
}, _boolean = function i(r, n, o, a, u) {
  var c = [], d = r.required || !r.required && a.hasOwnProperty(r.field);
  if (d) {
    if (isEmptyValue(n) && !r.required)
      return o();
    rules.required(r, n, a, c, u), n !== void 0 && rules.type(r, n, a, c, u);
  }
  o(c);
}, regexp = function i(r, n, o, a, u) {
  var c = [], d = r.required || !r.required && a.hasOwnProperty(r.field);
  if (d) {
    if (isEmptyValue(n) && !r.required)
      return o();
    rules.required(r, n, a, c, u), isEmptyValue(n) || rules.type(r, n, a, c, u);
  }
  o(c);
}, integer = function i(r, n, o, a, u) {
  var c = [], d = r.required || !r.required && a.hasOwnProperty(r.field);
  if (d) {
    if (isEmptyValue(n) && !r.required)
      return o();
    rules.required(r, n, a, c, u), n !== void 0 && (rules.type(r, n, a, c, u), rules.range(r, n, a, c, u));
  }
  o(c);
}, floatFn = function i(r, n, o, a, u) {
  var c = [], d = r.required || !r.required && a.hasOwnProperty(r.field);
  if (d) {
    if (isEmptyValue(n) && !r.required)
      return o();
    rules.required(r, n, a, c, u), n !== void 0 && (rules.type(r, n, a, c, u), rules.range(r, n, a, c, u));
  }
  o(c);
}, array = function i(r, n, o, a, u) {
  var c = [], d = r.required || !r.required && a.hasOwnProperty(r.field);
  if (d) {
    if (n == null && !r.required)
      return o();
    rules.required(r, n, a, c, u, "array"), n != null && (rules.type(r, n, a, c, u), rules.range(r, n, a, c, u));
  }
  o(c);
}, object = function i(r, n, o, a, u) {
  var c = [], d = r.required || !r.required && a.hasOwnProperty(r.field);
  if (d) {
    if (isEmptyValue(n) && !r.required)
      return o();
    rules.required(r, n, a, c, u), n !== void 0 && rules.type(r, n, a, c, u);
  }
  o(c);
}, ENUM = "enum", enumerable = function i(r, n, o, a, u) {
  var c = [], d = r.required || !r.required && a.hasOwnProperty(r.field);
  if (d) {
    if (isEmptyValue(n) && !r.required)
      return o();
    rules.required(r, n, a, c, u), n !== void 0 && rules[ENUM](r, n, a, c, u);
  }
  o(c);
}, pattern = function i(r, n, o, a, u) {
  var c = [], d = r.required || !r.required && a.hasOwnProperty(r.field);
  if (d) {
    if (isEmptyValue(n, "string") && !r.required)
      return o();
    rules.required(r, n, a, c, u), isEmptyValue(n, "string") || rules.pattern(r, n, a, c, u);
  }
  o(c);
}, date = function i(r, n, o, a, u) {
  var c = [], d = r.required || !r.required && a.hasOwnProperty(r.field);
  if (d) {
    if (isEmptyValue(n, "date") && !r.required)
      return o();
    if (rules.required(r, n, a, c, u), !isEmptyValue(n, "date")) {
      var f;
      n instanceof Date ? f = n : f = new Date(n), rules.type(r, f, a, c, u), f && rules.range(r, f.getTime(), a, c, u);
    }
  }
  o(c);
}, required = function i(r, n, o, a, u) {
  var c = [], d = Array.isArray(n) ? "array" : typeof n;
  rules.required(r, n, a, c, u, d), o(c);
}, type = function i(r, n, o, a, u) {
  var c = r.type, d = [], f = r.required || !r.required && a.hasOwnProperty(r.field);
  if (f) {
    if (isEmptyValue(n, c) && !r.required)
      return o();
    rules.required(r, n, a, d, u, c), isEmptyValue(n, c) || rules.type(r, n, a, d, u);
  }
  o(d);
}, any = function i(r, n, o, a, u) {
  var c = [], d = r.required || !r.required && a.hasOwnProperty(r.field);
  if (d) {
    if (isEmptyValue(n) && !r.required)
      return o();
    rules.required(r, n, a, c, u);
  }
  o(c);
}, validators = {
  string,
  method,
  number,
  boolean: _boolean,
  regexp,
  integer,
  float: floatFn,
  array,
  object,
  enum: enumerable,
  pattern,
  date,
  url: type,
  hex: type,
  email: type,
  required,
  any
};
function newMessages() {
  return {
    default: "Validation error on field %s",
    required: "%s is required",
    enum: "%s must be one of %s",
    whitespace: "%s cannot be empty",
    date: {
      format: "%s date %s is invalid for format %s",
      parse: "%s date could not be parsed, %s is invalid ",
      invalid: "%s date %s is invalid"
    },
    types: {
      string: "%s is not a %s",
      method: "%s is not a %s (function)",
      array: "%s is not an %s",
      object: "%s is not an %s",
      number: "%s is not a %s",
      date: "%s is not a %s",
      boolean: "%s is not a %s",
      integer: "%s is not an %s",
      float: "%s is not a %s",
      regexp: "%s is not a valid %s",
      email: "%s is not a valid %s",
      url: "%s is not a valid %s",
      hex: "%s is not a valid %s"
    },
    string: {
      len: "%s must be exactly %s characters",
      min: "%s must be at least %s characters",
      max: "%s cannot be longer than %s characters",
      range: "%s must be between %s and %s characters"
    },
    number: {
      len: "%s must equal %s",
      min: "%s cannot be less than %s",
      max: "%s cannot be greater than %s",
      range: "%s must be between %s and %s"
    },
    array: {
      len: "%s must be exactly %s in length",
      min: "%s cannot be less than %s in length",
      max: "%s cannot be greater than %s in length",
      range: "%s must be between %s and %s in length"
    },
    pattern: {
      mismatch: "%s value %s does not match pattern %s"
    },
    clone: function() {
      var r = JSON.parse(JSON.stringify(this));
      return r.clone = this.clone, r;
    }
  };
}
var messages = newMessages(), Schema = /* @__PURE__ */ function() {
  function i(n) {
    this.rules = null, this._messages = messages, this.define(n);
  }
  var r = i.prototype;
  return r.define = function(o) {
    var a = this;
    if (!o)
      throw new Error("Cannot configure a schema with no rules");
    if (typeof o != "object" || Array.isArray(o))
      throw new Error("Rules must be an object");
    this.rules = {}, Object.keys(o).forEach(function(u) {
      var c = o[u];
      a.rules[u] = Array.isArray(c) ? c : [c];
    });
  }, r.messages = function(o) {
    return o && (this._messages = deepMerge(newMessages(), o)), this._messages;
  }, r.validate = function(o, a, u) {
    var c = this;
    a === void 0 && (a = {}), u === void 0 && (u = function() {
    });
    var d = o, f = a, p = u;
    if (typeof f == "function" && (p = f, f = {}), !this.rules || Object.keys(this.rules).length === 0)
      return p && p(null, d), Promise.resolve(d);
    function _(A) {
      var w = [], S = {};
      function T(L) {
        if (Array.isArray(L)) {
          var O;
          w = (O = w).concat.apply(O, L);
        } else
          w.push(L);
      }
      for (var x = 0; x < A.length; x++)
        T(A[x]);
      w.length ? (S = convertFieldsError(w), p(w, S)) : p(null, d);
    }
    if (f.messages) {
      var v = this.messages();
      v === messages && (v = newMessages()), deepMerge(v, f.messages), f.messages = v;
    } else
      f.messages = this.messages();
    var g = {}, y = f.keys || Object.keys(this.rules);
    y.forEach(function(A) {
      var w = c.rules[A], S = d[A];
      w.forEach(function(T) {
        var x = T;
        typeof x.transform == "function" && (d === o && (d = _extends({}, d)), S = d[A] = x.transform(S)), typeof x == "function" ? x = {
          validator: x
        } : x = _extends({}, x), x.validator = c.getValidationMethod(x), x.validator && (x.field = A, x.fullField = x.fullField || A, x.type = c.getType(x), g[A] = g[A] || [], g[A].push({
          rule: x,
          value: S,
          source: d,
          field: A
        }));
      });
    });
    var b = {};
    return asyncMap(g, f, function(A, w) {
      var S = A.rule, T = (S.type === "object" || S.type === "array") && (typeof S.fields == "object" || typeof S.defaultField == "object");
      T = T && (S.required || !S.required && A.value), S.field = A.field;
      function x(M, k) {
        return _extends({}, k, {
          fullField: S.fullField + "." + M,
          fullFields: S.fullFields ? [].concat(S.fullFields, [M]) : [M]
        });
      }
      function L(M) {
        M === void 0 && (M = []);
        var k = Array.isArray(M) ? M : [M];
        !f.suppressWarning && k.length && i.warning("async-validator:", k), k.length && S.message !== void 0 && (k = [].concat(S.message));
        var ie = k.map(complementError(S, d));
        if (f.first && ie.length)
          return b[S.field] = 1, w(ie);
        if (!T)
          w(ie);
        else {
          if (S.required && !A.value)
            return S.message !== void 0 ? ie = [].concat(S.message).map(complementError(S, d)) : f.error && (ie = [f.error(S, format(f.messages.required, S.field))]), w(ie);
          var $ = {};
          S.defaultField && Object.keys(A.value).map(function(re) {
            $[re] = S.defaultField;
          }), $ = _extends({}, $, A.rule.fields);
          var Y = {};
          Object.keys($).forEach(function(re) {
            var F = $[re], _e = Array.isArray(F) ? F : [F];
            Y[re] = _e.map(x.bind(null, re));
          });
          var D = new i(Y);
          D.messages(f.messages), A.rule.options && (A.rule.options.messages = f.messages, A.rule.options.error = f.error), D.validate(A.value, A.rule.options || f, function(re) {
            var F = [];
            ie && ie.length && F.push.apply(F, ie), re && re.length && F.push.apply(F, re), w(F.length ? F : null);
          });
        }
      }
      var O;
      if (S.asyncValidator)
        O = S.asyncValidator(S, A.value, L, A.source, f);
      else if (S.validator) {
        try {
          O = S.validator(S, A.value, L, A.source, f);
        } catch (M) {
          console.error == null || console.error(M), f.suppressValidatorError || setTimeout(function() {
            throw M;
          }, 0), L(M.message);
        }
        O === !0 ? L() : O === !1 ? L(typeof S.message == "function" ? S.message(S.fullField || S.field) : S.message || (S.fullField || S.field) + " fails") : O instanceof Array ? L(O) : O instanceof Error && L(O.message);
      }
      O && O.then && O.then(function() {
        return L();
      }, function(M) {
        return L(M);
      });
    }, function(A) {
      _(A);
    }, d);
  }, r.getType = function(o) {
    if (o.type === void 0 && o.pattern instanceof RegExp && (o.type = "pattern"), typeof o.validator != "function" && o.type && !validators.hasOwnProperty(o.type))
      throw new Error(format("Unknown rule type %s", o.type));
    return o.type || "string";
  }, r.getValidationMethod = function(o) {
    if (typeof o.validator == "function")
      return o.validator;
    var a = Object.keys(o), u = a.indexOf("message");
    return u !== -1 && a.splice(u, 1), a.length === 1 && a[0] === "required" ? validators.required : validators[this.getType(o)] || void 0;
  }, i;
}();
Schema.register = function i(r, n) {
  if (typeof n != "function")
    throw new Error("Cannot register a validator by type, validator is not a function");
  validators[r] = n;
};
Schema.warning = warning;
Schema.messages = messages;
Schema.validators = validators;
const formItemValidateStates = [
  "",
  "error",
  "validating",
  "success"
], formItemProps = buildProps({
  label: String,
  labelWidth: {
    type: [String, Number],
    default: ""
  },
  labelPosition: {
    type: String,
    values: ["left", "right", "top", ""],
    default: ""
  },
  prop: {
    type: definePropType([String, Array])
  },
  required: {
    type: Boolean,
    default: void 0
  },
  rules: {
    type: definePropType([Object, Array])
  },
  error: String,
  validateStatus: {
    type: String,
    values: formItemValidateStates
  },
  for: String,
  inlineMessage: {
    type: [String, Boolean],
    default: ""
  },
  showMessage: {
    type: Boolean,
    default: !0
  },
  size: {
    type: String,
    values: componentSizes
  }
}), COMPONENT_NAME$3 = "ElLabelWrap";
var FormLabelWrap = defineComponent({
  name: COMPONENT_NAME$3,
  props: {
    isAutoWidth: Boolean,
    updateAll: Boolean
  },
  setup(i, {
    slots: r
  }) {
    const n = inject(formContextKey, void 0), o = inject(formItemContextKey);
    o || throwError(COMPONENT_NAME$3, "usage: <el-form-item><label-wrap /></el-form-item>");
    const a = useNamespace("form"), u = ref(), c = ref(0), d = () => {
      var _;
      if ((_ = u.value) != null && _.firstElementChild) {
        const v = window.getComputedStyle(u.value.firstElementChild).width;
        return Math.ceil(Number.parseFloat(v));
      } else
        return 0;
    }, f = (_ = "update") => {
      nextTick(() => {
        r.default && i.isAutoWidth && (_ === "update" ? c.value = d() : _ === "remove" && (n == null || n.deregisterLabelWidth(c.value)));
      });
    }, p = () => f("update");
    return onMounted(() => {
      p();
    }), onBeforeUnmount(() => {
      f("remove");
    }), onUpdated(() => p()), watch(c, (_, v) => {
      i.updateAll && (n == null || n.registerLabelWidth(_, v));
    }), useResizeObserver(computed(() => {
      var _, v;
      return (v = (_ = u.value) == null ? void 0 : _.firstElementChild) != null ? v : null;
    }), p), () => {
      var _, v;
      if (!r)
        return null;
      const {
        isAutoWidth: g
      } = i;
      if (g) {
        const y = n == null ? void 0 : n.autoLabelWidth, b = o == null ? void 0 : o.hasLabel, A = {};
        if (b && y && y !== "auto") {
          const w = Math.max(0, Number.parseInt(y, 10) - c.value), T = (o.labelPosition || n.labelPosition) === "left" ? "marginRight" : "marginLeft";
          w && (A[T] = `${w}px`);
        }
        return createVNode$1("div", {
          ref: u,
          class: [a.be("item", "label-wrap")],
          style: A
        }, [(_ = r.default) == null ? void 0 : _.call(r)]);
      } else
        return createVNode$1(Fragment, {
          ref: u
        }, [(v = r.default) == null ? void 0 : v.call(r)]);
    };
  }
});
const __default__$a = defineComponent({
  name: "ElFormItem"
}), _sfc_main$q = /* @__PURE__ */ defineComponent({
  ...__default__$a,
  props: formItemProps,
  setup(i, { expose: r }) {
    const n = i, o = useSlots(), a = inject(formContextKey, void 0), u = inject(formItemContextKey, void 0), c = useFormSize(void 0, { formItem: !1 }), d = useNamespace("form-item"), f = useId().value, p = ref([]), _ = ref(""), v = refDebounced(_, 100), g = ref(""), y = ref();
    let b, A = !1;
    const w = computed(() => n.labelPosition || (a == null ? void 0 : a.labelPosition)), S = computed(() => {
      if (w.value === "top")
        return {};
      const vn = addUnit(n.labelWidth || (a == null ? void 0 : a.labelWidth) || "");
      return vn ? { width: vn } : {};
    }), T = computed(() => {
      if (w.value === "top" || a != null && a.inline)
        return {};
      if (!n.label && !n.labelWidth && Y)
        return {};
      const vn = addUnit(n.labelWidth || (a == null ? void 0 : a.labelWidth) || "");
      return !n.label && !o.label ? { marginLeft: vn } : {};
    }), x = computed(() => [
      d.b(),
      d.m(c.value),
      d.is("error", _.value === "error"),
      d.is("validating", _.value === "validating"),
      d.is("success", _.value === "success"),
      d.is("required", ue.value || n.required),
      d.is("no-asterisk", a == null ? void 0 : a.hideRequiredAsterisk),
      (a == null ? void 0 : a.requireAsteriskPosition) === "right" ? "asterisk-right" : "asterisk-left",
      {
        [d.m("feedback")]: a == null ? void 0 : a.statusIcon,
        [d.m(`label-${w.value}`)]: w.value
      }
    ]), L = computed(() => isBoolean(n.inlineMessage) ? n.inlineMessage : (a == null ? void 0 : a.inlineMessage) || !1), O = computed(() => [
      d.e("error"),
      { [d.em("error", "inline")]: L.value }
    ]), M = computed(() => n.prop ? isString(n.prop) ? n.prop : n.prop.join(".") : ""), k = computed(() => !!(n.label || o.label)), ie = computed(() => n.for || (p.value.length === 1 ? p.value[0] : void 0)), $ = computed(() => !ie.value && k.value), Y = !!u, D = computed(() => {
      const vn = a == null ? void 0 : a.model;
      if (!(!vn || !n.prop))
        return getProp(vn, n.prop).value;
    }), re = computed(() => {
      const { required: vn } = n, kt = [];
      n.rules && kt.push(...castArray(n.rules));
      const Ce = a == null ? void 0 : a.rules;
      if (Ce && n.prop) {
        const de = getProp(Ce, n.prop).value;
        de && kt.push(...castArray(de));
      }
      if (vn !== void 0) {
        const de = kt.map((Ue, Ne) => [Ue, Ne]).filter(([Ue]) => Object.keys(Ue).includes("required"));
        if (de.length > 0)
          for (const [Ue, Ne] of de)
            Ue.required !== vn && (kt[Ne] = { ...Ue, required: vn });
        else
          kt.push({ required: vn });
      }
      return kt;
    }), F = computed(() => re.value.length > 0), _e = (vn) => re.value.filter((Ce) => !Ce.trigger || !vn ? !0 : Array.isArray(Ce.trigger) ? Ce.trigger.includes(vn) : Ce.trigger === vn).map(({ trigger: Ce, ...de }) => de), ue = computed(() => re.value.some((vn) => vn.required)), Ie = computed(() => {
      var vn;
      return v.value === "error" && n.showMessage && ((vn = a == null ? void 0 : a.showMessage) != null ? vn : !0);
    }), ze = computed(() => `${n.label || ""}${(a == null ? void 0 : a.labelSuffix) || ""}`), Fe = (vn) => {
      _.value = vn;
    }, Oe = (vn) => {
      var kt, Ce;
      const { errors: de, fields: Ue } = vn;
      (!de || !Ue) && console.error(vn), Fe("error"), g.value = de ? (Ce = (kt = de == null ? void 0 : de[0]) == null ? void 0 : kt.message) != null ? Ce : `${n.prop} is required` : "", a == null || a.emit("validate", n.prop, !1, g.value);
    }, Lt = () => {
      Fe("success"), a == null || a.emit("validate", n.prop, !0, "");
    }, pe = async (vn) => {
      const kt = M.value;
      return new Schema({
        [kt]: vn
      }).validate({ [kt]: D.value }, { firstFields: !0 }).then(() => (Lt(), !0)).catch((de) => (Oe(de), Promise.reject(de)));
    }, Cn = async (vn, kt) => {
      if (A || !n.prop)
        return !1;
      const Ce = isFunction(kt);
      if (!F.value)
        return kt == null || kt(!1), !1;
      const de = _e(vn);
      return de.length === 0 ? (kt == null || kt(!0), !0) : (Fe("validating"), pe(de).then(() => (kt == null || kt(!0), !0)).catch((Ue) => {
        const { fields: Ne } = Ue;
        return kt == null || kt(!1, Ne), Ce ? !1 : Promise.reject(Ne);
      }));
    }, In = () => {
      Fe(""), g.value = "", A = !1;
    }, Dt = async () => {
      const vn = a == null ? void 0 : a.model;
      if (!vn || !n.prop)
        return;
      const kt = getProp(vn, n.prop);
      A = !0, kt.value = clone$3(b), await nextTick(), In(), A = !1;
    }, he = (vn) => {
      p.value.includes(vn) || p.value.push(vn);
    }, Et = (vn) => {
      p.value = p.value.filter((kt) => kt !== vn);
    };
    watch(() => n.error, (vn) => {
      g.value = vn || "", Fe(vn ? "error" : "");
    }, { immediate: !0 }), watch(() => n.validateStatus, (vn) => Fe(vn || ""));
    const hn = reactive({
      ...toRefs(n),
      $el: y,
      size: c,
      validateState: _,
      labelId: f,
      inputIds: p,
      isGroup: $,
      hasLabel: k,
      fieldValue: D,
      addInputId: he,
      removeInputId: Et,
      resetField: Dt,
      clearValidate: In,
      validate: Cn
    });
    return provide(formItemContextKey, hn), onMounted(() => {
      n.prop && (a == null || a.addField(hn), b = clone$3(D.value));
    }), onBeforeUnmount(() => {
      a == null || a.removeField(hn);
    }), r({
      size: c,
      validateMessage: g,
      validateState: _,
      validate: Cn,
      clearValidate: In,
      resetField: Dt
    }), (vn, kt) => {
      var Ce;
      return openBlock(), createElementBlock("div", {
        ref_key: "formItemRef",
        ref: y,
        class: normalizeClass(unref(x)),
        role: unref($) ? "group" : void 0,
        "aria-labelledby": unref($) ? unref(f) : void 0
      }, [
        createVNode$1(unref(FormLabelWrap), {
          "is-auto-width": unref(S).width === "auto",
          "update-all": ((Ce = unref(a)) == null ? void 0 : Ce.labelWidth) === "auto"
        }, {
          default: withCtx(() => [
            unref(k) ? (openBlock(), createBlock(resolveDynamicComponent(unref(ie) ? "label" : "div"), {
              key: 0,
              id: unref(f),
              for: unref(ie),
              class: normalizeClass(unref(d).e("label")),
              style: normalizeStyle$1(unref(S))
            }, {
              default: withCtx(() => [
                renderSlot(vn.$slots, "label", { label: unref(ze) }, () => [
                  createTextVNode(toDisplayString(unref(ze)), 1)
                ])
              ]),
              _: 3
            }, 8, ["id", "for", "class", "style"])) : createCommentVNode("v-if", !0)
          ]),
          _: 3
        }, 8, ["is-auto-width", "update-all"]),
        createElementVNode("div", {
          class: normalizeClass(unref(d).e("content")),
          style: normalizeStyle$1(unref(T))
        }, [
          renderSlot(vn.$slots, "default"),
          createVNode$1(TransitionGroup, {
            name: `${unref(d).namespace.value}-zoom-in-top`
          }, {
            default: withCtx(() => [
              unref(Ie) ? renderSlot(vn.$slots, "error", {
                key: 0,
                error: g.value
              }, () => [
                createElementVNode("div", {
                  class: normalizeClass(unref(O))
                }, toDisplayString(g.value), 3)
              ]) : createCommentVNode("v-if", !0)
            ]),
            _: 3
          }, 8, ["name"])
        ], 6)
      ], 10, ["role", "aria-labelledby"]);
    };
  }
});
var FormItem = /* @__PURE__ */ _export_sfc(_sfc_main$q, [["__file", "form-item.vue"]]);
withInstall(Form, {
  FormItem
});
const ElFormItem = withNoopInstall(FormItem);
let hiddenTextarea;
const HIDDEN_STYLE = `
  height:0 !important;
  visibility:hidden !important;
  ${isFirefox() ? "" : "overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`, CONTEXT_STYLE = [
  "letter-spacing",
  "line-height",
  "padding-top",
  "padding-bottom",
  "font-family",
  "font-weight",
  "font-size",
  "text-rendering",
  "text-transform",
  "width",
  "text-indent",
  "padding-left",
  "padding-right",
  "border-width",
  "box-sizing"
];
function calculateNodeStyling(i) {
  const r = window.getComputedStyle(i), n = r.getPropertyValue("box-sizing"), o = Number.parseFloat(r.getPropertyValue("padding-bottom")) + Number.parseFloat(r.getPropertyValue("padding-top")), a = Number.parseFloat(r.getPropertyValue("border-bottom-width")) + Number.parseFloat(r.getPropertyValue("border-top-width"));
  return { contextStyle: CONTEXT_STYLE.map((c) => `${c}:${r.getPropertyValue(c)}`).join(";"), paddingSize: o, borderSize: a, boxSizing: n };
}
function calcTextareaHeight(i, r = 1, n) {
  var o;
  hiddenTextarea || (hiddenTextarea = document.createElement("textarea"), document.body.appendChild(hiddenTextarea));
  const { paddingSize: a, borderSize: u, boxSizing: c, contextStyle: d } = calculateNodeStyling(i);
  hiddenTextarea.setAttribute("style", `${d};${HIDDEN_STYLE}`), hiddenTextarea.value = i.value || i.placeholder || "";
  let f = hiddenTextarea.scrollHeight;
  const p = {};
  c === "border-box" ? f = f + u : c === "content-box" && (f = f - a), hiddenTextarea.value = "";
  const _ = hiddenTextarea.scrollHeight - a;
  if (isNumber(r)) {
    let v = _ * r;
    c === "border-box" && (v = v + a + u), f = Math.max(v, f), p.minHeight = `${v}px`;
  }
  if (isNumber(n)) {
    let v = _ * n;
    c === "border-box" && (v = v + a + u), f = Math.min(v, f);
  }
  return p.height = `${f}px`, (o = hiddenTextarea.parentNode) == null || o.removeChild(hiddenTextarea), hiddenTextarea = void 0, p;
}
const inputProps = buildProps({
  id: {
    type: String,
    default: void 0
  },
  size: useSizeProp,
  disabled: Boolean,
  modelValue: {
    type: definePropType([
      String,
      Number,
      Object
    ]),
    default: ""
  },
  maxlength: {
    type: [String, Number]
  },
  minlength: {
    type: [String, Number]
  },
  type: {
    type: String,
    default: "text"
  },
  resize: {
    type: String,
    values: ["none", "both", "horizontal", "vertical"]
  },
  autosize: {
    type: definePropType([Boolean, Object]),
    default: !1
  },
  autocomplete: {
    type: String,
    default: "off"
  },
  formatter: {
    type: Function
  },
  parser: {
    type: Function
  },
  placeholder: {
    type: String
  },
  form: {
    type: String
  },
  readonly: Boolean,
  clearable: Boolean,
  showPassword: Boolean,
  showWordLimit: Boolean,
  suffixIcon: {
    type: iconPropType
  },
  prefixIcon: {
    type: iconPropType
  },
  containerRole: {
    type: String,
    default: void 0
  },
  tabindex: {
    type: [String, Number],
    default: 0
  },
  validateEvent: {
    type: Boolean,
    default: !0
  },
  inputStyle: {
    type: definePropType([Object, Array, String]),
    default: () => mutable({})
  },
  autofocus: Boolean,
  rows: {
    type: Number,
    default: 2
  },
  ...useAriaProps(["ariaLabel"])
}), inputEmits = {
  [UPDATE_MODEL_EVENT]: (i) => isString(i),
  input: (i) => isString(i),
  change: (i) => isString(i),
  focus: (i) => i instanceof FocusEvent,
  blur: (i) => i instanceof FocusEvent,
  clear: () => !0,
  mouseleave: (i) => i instanceof MouseEvent,
  mouseenter: (i) => i instanceof MouseEvent,
  keydown: (i) => i instanceof Event,
  compositionstart: (i) => i instanceof CompositionEvent,
  compositionupdate: (i) => i instanceof CompositionEvent,
  compositionend: (i) => i instanceof CompositionEvent
}, __default__$9 = defineComponent({
  name: "ElInput",
  inheritAttrs: !1
}), _sfc_main$p = /* @__PURE__ */ defineComponent({
  ...__default__$9,
  props: inputProps,
  emits: inputEmits,
  setup(i, { expose: r, emit: n }) {
    const o = i, a = useAttrs$1(), u = useSlots(), c = computed(() => {
      const qe = {};
      return o.containerRole === "combobox" && (qe["aria-haspopup"] = a["aria-haspopup"], qe["aria-owns"] = a["aria-owns"], qe["aria-expanded"] = a["aria-expanded"]), qe;
    }), d = computed(() => [
      o.type === "textarea" ? w.b() : A.b(),
      A.m(y.value),
      A.is("disabled", b.value),
      A.is("exceed", In.value),
      {
        [A.b("group")]: u.prepend || u.append,
        [A.m("prefix")]: u.prefix || o.prefixIcon,
        [A.m("suffix")]: u.suffix || o.suffixIcon || o.clearable || o.showPassword,
        [A.bm("suffix", "password-clear")]: Oe.value && Lt.value,
        [A.b("hidden")]: o.type === "hidden"
      },
      a.class
    ]), f = computed(() => [
      A.e("wrapper"),
      A.is("focus", $.value)
    ]), p = useAttrs({
      excludeKeys: computed(() => Object.keys(c.value))
    }), { form: _, formItem: v } = useFormItem(), { inputId: g } = useFormItemInputId(o, {
      formItemContext: v
    }), y = useFormSize(), b = useFormDisabled(), A = useNamespace("input"), w = useNamespace("textarea"), S = shallowRef(), T = shallowRef(), x = ref(!1), L = ref(!1), O = ref(), M = shallowRef(o.inputStyle), k = computed(() => S.value || T.value), { wrapperRef: ie, isFocused: $, handleFocus: Y, handleBlur: D } = useFocusController(k, {
      beforeFocus() {
        return b.value;
      },
      afterBlur() {
        var qe;
        o.validateEvent && ((qe = v == null ? void 0 : v.validate) == null || qe.call(v, "blur").catch((bn) => debugWarn(bn)));
      }
    }), re = computed(() => {
      var qe;
      return (qe = _ == null ? void 0 : _.statusIcon) != null ? qe : !1;
    }), F = computed(() => (v == null ? void 0 : v.validateState) || ""), _e = computed(() => F.value && ValidateComponentsMap[F.value]), ue = computed(() => L.value ? view_default : hide_default), Ie = computed(() => [
      a.style
    ]), ze = computed(() => [
      o.inputStyle,
      M.value,
      { resize: o.resize }
    ]), Fe = computed(() => isNil(o.modelValue) ? "" : String(o.modelValue)), Oe = computed(() => o.clearable && !b.value && !o.readonly && !!Fe.value && ($.value || x.value)), Lt = computed(() => o.showPassword && !b.value && !!Fe.value && (!!Fe.value || $.value)), pe = computed(() => o.showWordLimit && !!o.maxlength && (o.type === "text" || o.type === "textarea") && !b.value && !o.readonly && !o.showPassword), Cn = computed(() => Fe.value.length), In = computed(() => !!pe.value && Cn.value > Number(o.maxlength)), Dt = computed(() => !!u.suffix || !!o.suffixIcon || Oe.value || o.showPassword || pe.value || !!F.value && re.value), [he, Et] = useCursor(S);
    useResizeObserver(T, (qe) => {
      if (kt(), !pe.value || o.resize !== "both")
        return;
      const bn = qe[0], { width: Sn } = bn.contentRect;
      O.value = {
        right: `calc(100% - ${Sn + 15 + 6}px)`
      };
    });
    const hn = () => {
      const { type: qe, autosize: bn } = o;
      if (!(!isClient || qe !== "textarea" || !T.value))
        if (bn) {
          const Sn = isObject(bn) ? bn.minRows : void 0, xn = isObject(bn) ? bn.maxRows : void 0, Rn = calcTextareaHeight(T.value, Sn, xn);
          M.value = {
            overflowY: "hidden",
            ...Rn
          }, nextTick(() => {
            T.value.offsetHeight, M.value = Rn;
          });
        } else
          M.value = {
            minHeight: calcTextareaHeight(T.value).minHeight
          };
    }, kt = ((qe) => {
      let bn = !1;
      return () => {
        var Sn;
        if (bn || !o.autosize)
          return;
        ((Sn = T.value) == null ? void 0 : Sn.offsetParent) === null || (qe(), bn = !0);
      };
    })(hn), Ce = () => {
      const qe = k.value, bn = o.formatter ? o.formatter(Fe.value) : Fe.value;
      !qe || qe.value === bn || (qe.value = bn);
    }, de = async (qe) => {
      he();
      let { value: bn } = qe.target;
      if (o.formatter && (bn = o.parser ? o.parser(bn) : bn), !Ne.value) {
        if (bn === Fe.value) {
          Ce();
          return;
        }
        n(UPDATE_MODEL_EVENT, bn), n("input", bn), await nextTick(), Ce(), Et();
      }
    }, Ue = (qe) => {
      n("change", qe.target.value);
    }, {
      isComposing: Ne,
      handleCompositionStart: Ve,
      handleCompositionUpdate: Pt,
      handleCompositionEnd: jt
    } = useComposition({ emit: n, afterComposition: de }), _n = () => {
      L.value = !L.value, oe();
    }, oe = async () => {
      var qe;
      await nextTick(), (qe = k.value) == null || qe.focus();
    }, le = () => {
      var qe;
      return (qe = k.value) == null ? void 0 : qe.blur();
    }, j = (qe) => {
      x.value = !1, n("mouseleave", qe);
    }, V = (qe) => {
      x.value = !0, n("mouseenter", qe);
    }, z = (qe) => {
      n("keydown", qe);
    }, ae = () => {
      var qe;
      (qe = k.value) == null || qe.select();
    }, xe = () => {
      n(UPDATE_MODEL_EVENT, ""), n("change", ""), n("clear"), n("input", "");
    };
    return watch(() => o.modelValue, () => {
      var qe;
      nextTick(() => hn()), o.validateEvent && ((qe = v == null ? void 0 : v.validate) == null || qe.call(v, "change").catch((bn) => debugWarn(bn)));
    }), watch(Fe, () => Ce()), watch(() => o.type, async () => {
      await nextTick(), Ce(), hn();
    }), onMounted(() => {
      !o.formatter && o.parser && debugWarn("ElInput", "If you set the parser, you also need to set the formatter."), Ce(), nextTick(hn);
    }), r({
      input: S,
      textarea: T,
      ref: k,
      textareaStyle: ze,
      autosize: toRef(o, "autosize"),
      isComposing: Ne,
      focus: oe,
      blur: le,
      select: ae,
      clear: xe,
      resizeTextarea: hn
    }), (qe, bn) => (openBlock(), createElementBlock("div", mergeProps(unref(c), {
      class: [
        unref(d),
        {
          [unref(A).bm("group", "append")]: qe.$slots.append,
          [unref(A).bm("group", "prepend")]: qe.$slots.prepend
        }
      ],
      style: unref(Ie),
      role: qe.containerRole,
      onMouseenter: V,
      onMouseleave: j
    }), [
      createCommentVNode(" input "),
      qe.type !== "textarea" ? (openBlock(), createElementBlock(Fragment, { key: 0 }, [
        createCommentVNode(" prepend slot "),
        qe.$slots.prepend ? (openBlock(), createElementBlock("div", {
          key: 0,
          class: normalizeClass(unref(A).be("group", "prepend"))
        }, [
          renderSlot(qe.$slots, "prepend")
        ], 2)) : createCommentVNode("v-if", !0),
        createElementVNode("div", {
          ref_key: "wrapperRef",
          ref: ie,
          class: normalizeClass(unref(f))
        }, [
          createCommentVNode(" prefix slot "),
          qe.$slots.prefix || qe.prefixIcon ? (openBlock(), createElementBlock("span", {
            key: 0,
            class: normalizeClass(unref(A).e("prefix"))
          }, [
            createElementVNode("span", {
              class: normalizeClass(unref(A).e("prefix-inner"))
            }, [
              renderSlot(qe.$slots, "prefix"),
              qe.prefixIcon ? (openBlock(), createBlock(unref(ElIcon), {
                key: 0,
                class: normalizeClass(unref(A).e("icon"))
              }, {
                default: withCtx(() => [
                  (openBlock(), createBlock(resolveDynamicComponent(qe.prefixIcon)))
                ]),
                _: 1
              }, 8, ["class"])) : createCommentVNode("v-if", !0)
            ], 2)
          ], 2)) : createCommentVNode("v-if", !0),
          createElementVNode("input", mergeProps({
            id: unref(g),
            ref_key: "input",
            ref: S,
            class: unref(A).e("inner")
          }, unref(p), {
            minlength: qe.minlength,
            maxlength: qe.maxlength,
            type: qe.showPassword ? L.value ? "text" : "password" : qe.type,
            disabled: unref(b),
            readonly: qe.readonly,
            autocomplete: qe.autocomplete,
            tabindex: qe.tabindex,
            "aria-label": qe.ariaLabel,
            placeholder: qe.placeholder,
            style: qe.inputStyle,
            form: qe.form,
            autofocus: qe.autofocus,
            onCompositionstart: unref(Ve),
            onCompositionupdate: unref(Pt),
            onCompositionend: unref(jt),
            onInput: de,
            onChange: Ue,
            onKeydown: z
          }), null, 16, ["id", "minlength", "maxlength", "type", "disabled", "readonly", "autocomplete", "tabindex", "aria-label", "placeholder", "form", "autofocus", "onCompositionstart", "onCompositionupdate", "onCompositionend"]),
          createCommentVNode(" suffix slot "),
          unref(Dt) ? (openBlock(), createElementBlock("span", {
            key: 1,
            class: normalizeClass(unref(A).e("suffix"))
          }, [
            createElementVNode("span", {
              class: normalizeClass(unref(A).e("suffix-inner"))
            }, [
              !unref(Oe) || !unref(Lt) || !unref(pe) ? (openBlock(), createElementBlock(Fragment, { key: 0 }, [
                renderSlot(qe.$slots, "suffix"),
                qe.suffixIcon ? (openBlock(), createBlock(unref(ElIcon), {
                  key: 0,
                  class: normalizeClass(unref(A).e("icon"))
                }, {
                  default: withCtx(() => [
                    (openBlock(), createBlock(resolveDynamicComponent(qe.suffixIcon)))
                  ]),
                  _: 1
                }, 8, ["class"])) : createCommentVNode("v-if", !0)
              ], 64)) : createCommentVNode("v-if", !0),
              unref(Oe) ? (openBlock(), createBlock(unref(ElIcon), {
                key: 1,
                class: normalizeClass([unref(A).e("icon"), unref(A).e("clear")]),
                onMousedown: withModifiers(unref(NOOP), ["prevent"]),
                onClick: xe
              }, {
                default: withCtx(() => [
                  createVNode$1(unref(circle_close_default))
                ]),
                _: 1
              }, 8, ["class", "onMousedown"])) : createCommentVNode("v-if", !0),
              unref(Lt) ? (openBlock(), createBlock(unref(ElIcon), {
                key: 2,
                class: normalizeClass([unref(A).e("icon"), unref(A).e("password")]),
                onClick: _n
              }, {
                default: withCtx(() => [
                  (openBlock(), createBlock(resolveDynamicComponent(unref(ue))))
                ]),
                _: 1
              }, 8, ["class"])) : createCommentVNode("v-if", !0),
              unref(pe) ? (openBlock(), createElementBlock("span", {
                key: 3,
                class: normalizeClass(unref(A).e("count"))
              }, [
                createElementVNode("span", {
                  class: normalizeClass(unref(A).e("count-inner"))
                }, toDisplayString(unref(Cn)) + " / " + toDisplayString(qe.maxlength), 3)
              ], 2)) : createCommentVNode("v-if", !0),
              unref(F) && unref(_e) && unref(re) ? (openBlock(), createBlock(unref(ElIcon), {
                key: 4,
                class: normalizeClass([
                  unref(A).e("icon"),
                  unref(A).e("validateIcon"),
                  unref(A).is("loading", unref(F) === "validating")
                ])
              }, {
                default: withCtx(() => [
                  (openBlock(), createBlock(resolveDynamicComponent(unref(_e))))
                ]),
                _: 1
              }, 8, ["class"])) : createCommentVNode("v-if", !0)
            ], 2)
          ], 2)) : createCommentVNode("v-if", !0)
        ], 2),
        createCommentVNode(" append slot "),
        qe.$slots.append ? (openBlock(), createElementBlock("div", {
          key: 1,
          class: normalizeClass(unref(A).be("group", "append"))
        }, [
          renderSlot(qe.$slots, "append")
        ], 2)) : createCommentVNode("v-if", !0)
      ], 64)) : (openBlock(), createElementBlock(Fragment, { key: 1 }, [
        createCommentVNode(" textarea "),
        createElementVNode("textarea", mergeProps({
          id: unref(g),
          ref_key: "textarea",
          ref: T,
          class: [unref(w).e("inner"), unref(A).is("focus", unref($))]
        }, unref(p), {
          minlength: qe.minlength,
          maxlength: qe.maxlength,
          tabindex: qe.tabindex,
          disabled: unref(b),
          readonly: qe.readonly,
          autocomplete: qe.autocomplete,
          style: unref(ze),
          "aria-label": qe.ariaLabel,
          placeholder: qe.placeholder,
          form: qe.form,
          autofocus: qe.autofocus,
          rows: qe.rows,
          onCompositionstart: unref(Ve),
          onCompositionupdate: unref(Pt),
          onCompositionend: unref(jt),
          onInput: de,
          onFocus: unref(Y),
          onBlur: unref(D),
          onChange: Ue,
          onKeydown: z
        }), null, 16, ["id", "minlength", "maxlength", "tabindex", "disabled", "readonly", "autocomplete", "aria-label", "placeholder", "form", "autofocus", "rows", "onCompositionstart", "onCompositionupdate", "onCompositionend", "onFocus", "onBlur"]),
        unref(pe) ? (openBlock(), createElementBlock("span", {
          key: 0,
          style: normalizeStyle$1(O.value),
          class: normalizeClass(unref(A).e("count"))
        }, toDisplayString(unref(Cn)) + " / " + toDisplayString(qe.maxlength), 7)) : createCommentVNode("v-if", !0)
      ], 64))
    ], 16, ["role"]));
  }
});
var Input = /* @__PURE__ */ _export_sfc(_sfc_main$p, [["__file", "input.vue"]]);
const ElInput = withInstall(Input), GAP = 4, BAR_MAP = {
  vertical: {
    offset: "offsetHeight",
    scroll: "scrollTop",
    scrollSize: "scrollHeight",
    size: "height",
    key: "vertical",
    axis: "Y",
    client: "clientY",
    direction: "top"
  },
  horizontal: {
    offset: "offsetWidth",
    scroll: "scrollLeft",
    scrollSize: "scrollWidth",
    size: "width",
    key: "horizontal",
    axis: "X",
    client: "clientX",
    direction: "left"
  }
}, renderThumbStyle = ({
  move: i,
  size: r,
  bar: n
}) => ({
  [n.size]: r,
  transform: `translate${n.axis}(${i}%)`
}), scrollbarContextKey = Symbol("scrollbarContextKey"), thumbProps = buildProps({
  vertical: Boolean,
  size: String,
  move: Number,
  ratio: {
    type: Number,
    required: !0
  },
  always: Boolean
}), COMPONENT_NAME$2 = "Thumb", _sfc_main$o = /* @__PURE__ */ defineComponent({
  __name: "thumb",
  props: thumbProps,
  setup(i) {
    const r = i, n = inject(scrollbarContextKey), o = useNamespace("scrollbar");
    n || throwError(COMPONENT_NAME$2, "can not inject scrollbar context");
    const a = ref(), u = ref(), c = ref({}), d = ref(!1);
    let f = !1, p = !1, _ = isClient ? document.onselectstart : null;
    const v = computed(() => BAR_MAP[r.vertical ? "vertical" : "horizontal"]), g = computed(() => renderThumbStyle({
      size: r.size,
      move: r.move,
      bar: v.value
    })), y = computed(() => a.value[v.value.offset] ** 2 / n.wrapElement[v.value.scrollSize] / r.ratio / u.value[v.value.offset]), b = (M) => {
      var k;
      if (M.stopPropagation(), M.ctrlKey || [1, 2].includes(M.button))
        return;
      (k = window.getSelection()) == null || k.removeAllRanges(), w(M);
      const ie = M.currentTarget;
      ie && (c.value[v.value.axis] = ie[v.value.offset] - (M[v.value.client] - ie.getBoundingClientRect()[v.value.direction]));
    }, A = (M) => {
      if (!u.value || !a.value || !n.wrapElement)
        return;
      const k = Math.abs(M.target.getBoundingClientRect()[v.value.direction] - M[v.value.client]), ie = u.value[v.value.offset] / 2, $ = (k - ie) * 100 * y.value / a.value[v.value.offset];
      n.wrapElement[v.value.scroll] = $ * n.wrapElement[v.value.scrollSize] / 100;
    }, w = (M) => {
      M.stopImmediatePropagation(), f = !0, document.addEventListener("mousemove", S), document.addEventListener("mouseup", T), _ = document.onselectstart, document.onselectstart = () => !1;
    }, S = (M) => {
      if (!a.value || !u.value || f === !1)
        return;
      const k = c.value[v.value.axis];
      if (!k)
        return;
      const ie = (a.value.getBoundingClientRect()[v.value.direction] - M[v.value.client]) * -1, $ = u.value[v.value.offset] - k, Y = (ie - $) * 100 * y.value / a.value[v.value.offset];
      n.wrapElement[v.value.scroll] = Y * n.wrapElement[v.value.scrollSize] / 100;
    }, T = () => {
      f = !1, c.value[v.value.axis] = 0, document.removeEventListener("mousemove", S), document.removeEventListener("mouseup", T), O(), p && (d.value = !1);
    }, x = () => {
      p = !1, d.value = !!r.size;
    }, L = () => {
      p = !0, d.value = f;
    };
    onBeforeUnmount(() => {
      O(), document.removeEventListener("mouseup", T);
    });
    const O = () => {
      document.onselectstart !== _ && (document.onselectstart = _);
    };
    return useEventListener(toRef(n, "scrollbarElement"), "mousemove", x), useEventListener(toRef(n, "scrollbarElement"), "mouseleave", L), (M, k) => (openBlock(), createBlock(Transition, {
      name: unref(o).b("fade"),
      persisted: ""
    }, {
      default: withCtx(() => [
        withDirectives(createElementVNode("div", {
          ref_key: "instance",
          ref: a,
          class: normalizeClass([unref(o).e("bar"), unref(o).is(unref(v).key)]),
          onMousedown: A
        }, [
          createElementVNode("div", {
            ref_key: "thumb",
            ref: u,
            class: normalizeClass(unref(o).e("thumb")),
            style: normalizeStyle$1(unref(g)),
            onMousedown: b
          }, null, 38)
        ], 34), [
          [vShow, M.always || d.value]
        ])
      ]),
      _: 1
    }, 8, ["name"]));
  }
});
var Thumb = /* @__PURE__ */ _export_sfc(_sfc_main$o, [["__file", "thumb.vue"]]);
const barProps = buildProps({
  always: {
    type: Boolean,
    default: !0
  },
  minSize: {
    type: Number,
    required: !0
  }
}), _sfc_main$n = /* @__PURE__ */ defineComponent({
  __name: "bar",
  props: barProps,
  setup(i, { expose: r }) {
    const n = i, o = inject(scrollbarContextKey), a = ref(0), u = ref(0), c = ref(""), d = ref(""), f = ref(1), p = ref(1);
    return r({
      handleScroll: (g) => {
        if (g) {
          const y = g.offsetHeight - GAP, b = g.offsetWidth - GAP;
          u.value = g.scrollTop * 100 / y * f.value, a.value = g.scrollLeft * 100 / b * p.value;
        }
      },
      update: () => {
        const g = o == null ? void 0 : o.wrapElement;
        if (!g)
          return;
        const y = g.offsetHeight - GAP, b = g.offsetWidth - GAP, A = y ** 2 / g.scrollHeight, w = b ** 2 / g.scrollWidth, S = Math.max(A, n.minSize), T = Math.max(w, n.minSize);
        f.value = A / (y - A) / (S / (y - S)), p.value = w / (b - w) / (T / (b - T)), d.value = S + GAP < y ? `${S}px` : "", c.value = T + GAP < b ? `${T}px` : "";
      }
    }), (g, y) => (openBlock(), createElementBlock(Fragment, null, [
      createVNode$1(Thumb, {
        move: a.value,
        ratio: p.value,
        size: c.value,
        always: g.always
      }, null, 8, ["move", "ratio", "size", "always"]),
      createVNode$1(Thumb, {
        move: u.value,
        ratio: f.value,
        size: d.value,
        vertical: "",
        always: g.always
      }, null, 8, ["move", "ratio", "size", "always"])
    ], 64));
  }
});
var Bar = /* @__PURE__ */ _export_sfc(_sfc_main$n, [["__file", "bar.vue"]]);
const scrollbarProps = buildProps({
  height: {
    type: [String, Number],
    default: ""
  },
  maxHeight: {
    type: [String, Number],
    default: ""
  },
  native: {
    type: Boolean,
    default: !1
  },
  wrapStyle: {
    type: definePropType([String, Object, Array]),
    default: ""
  },
  wrapClass: {
    type: [String, Array],
    default: ""
  },
  viewClass: {
    type: [String, Array],
    default: ""
  },
  viewStyle: {
    type: [String, Array, Object],
    default: ""
  },
  noresize: Boolean,
  tag: {
    type: String,
    default: "div"
  },
  always: Boolean,
  minSize: {
    type: Number,
    default: 20
  },
  tabindex: {
    type: [String, Number],
    default: void 0
  },
  id: String,
  role: String,
  ...useAriaProps(["ariaLabel", "ariaOrientation"])
}), scrollbarEmits = {
  scroll: ({
    scrollTop: i,
    scrollLeft: r
  }) => [i, r].every(isNumber)
}, COMPONENT_NAME$1 = "ElScrollbar", __default__$8 = defineComponent({
  name: COMPONENT_NAME$1
}), _sfc_main$m = /* @__PURE__ */ defineComponent({
  ...__default__$8,
  props: scrollbarProps,
  emits: scrollbarEmits,
  setup(i, { expose: r, emit: n }) {
    const o = i, a = useNamespace("scrollbar");
    let u, c, d = 0, f = 0;
    const p = ref(), _ = ref(), v = ref(), g = ref(), y = computed(() => {
      const O = {};
      return o.height && (O.height = addUnit(o.height)), o.maxHeight && (O.maxHeight = addUnit(o.maxHeight)), [o.wrapStyle, O];
    }), b = computed(() => [
      o.wrapClass,
      a.e("wrap"),
      { [a.em("wrap", "hidden-default")]: !o.native }
    ]), A = computed(() => [a.e("view"), o.viewClass]), w = () => {
      var O;
      _.value && ((O = g.value) == null || O.handleScroll(_.value), d = _.value.scrollTop, f = _.value.scrollLeft, n("scroll", {
        scrollTop: _.value.scrollTop,
        scrollLeft: _.value.scrollLeft
      }));
    };
    function S(O, M) {
      isObject(O) ? _.value.scrollTo(O) : isNumber(O) && isNumber(M) && _.value.scrollTo(O, M);
    }
    const T = (O) => {
      if (!isNumber(O)) {
        debugWarn(COMPONENT_NAME$1, "value must be a number");
        return;
      }
      _.value.scrollTop = O;
    }, x = (O) => {
      if (!isNumber(O)) {
        debugWarn(COMPONENT_NAME$1, "value must be a number");
        return;
      }
      _.value.scrollLeft = O;
    }, L = () => {
      var O;
      (O = g.value) == null || O.update();
    };
    return watch(() => o.noresize, (O) => {
      O ? (u == null || u(), c == null || c()) : ({ stop: u } = useResizeObserver(v, L), c = useEventListener("resize", L));
    }, { immediate: !0 }), watch(() => [o.maxHeight, o.height], () => {
      o.native || nextTick(() => {
        var O;
        L(), _.value && ((O = g.value) == null || O.handleScroll(_.value));
      });
    }), provide(scrollbarContextKey, reactive({
      scrollbarElement: p,
      wrapElement: _
    })), onActivated(() => {
      _.value && (_.value.scrollTop = d, _.value.scrollLeft = f);
    }), onMounted(() => {
      o.native || nextTick(() => {
        L();
      });
    }), onUpdated(() => L()), r({
      wrapRef: _,
      update: L,
      scrollTo: S,
      setScrollTop: T,
      setScrollLeft: x,
      handleScroll: w
    }), (O, M) => (openBlock(), createElementBlock("div", {
      ref_key: "scrollbarRef",
      ref: p,
      class: normalizeClass(unref(a).b())
    }, [
      createElementVNode("div", {
        ref_key: "wrapRef",
        ref: _,
        class: normalizeClass(unref(b)),
        style: normalizeStyle$1(unref(y)),
        tabindex: O.tabindex,
        onScroll: w
      }, [
        (openBlock(), createBlock(resolveDynamicComponent(O.tag), {
          id: O.id,
          ref_key: "resizeRef",
          ref: v,
          class: normalizeClass(unref(A)),
          style: normalizeStyle$1(O.viewStyle),
          role: O.role,
          "aria-label": O.ariaLabel,
          "aria-orientation": O.ariaOrientation
        }, {
          default: withCtx(() => [
            renderSlot(O.$slots, "default")
          ]),
          _: 3
        }, 8, ["id", "class", "style", "role", "aria-label", "aria-orientation"]))
      ], 46, ["tabindex"]),
      O.native ? createCommentVNode("v-if", !0) : (openBlock(), createBlock(Bar, {
        key: 0,
        ref_key: "barRef",
        ref: g,
        always: O.always,
        "min-size": O.minSize
      }, null, 8, ["always", "min-size"]))
    ], 2));
  }
});
var Scrollbar = /* @__PURE__ */ _export_sfc(_sfc_main$m, [["__file", "scrollbar.vue"]]);
const ElScrollbar = withInstall(Scrollbar), POPPER_INJECTION_KEY = Symbol("popper"), POPPER_CONTENT_INJECTION_KEY = Symbol("popperContent"), roleTypes = [
  "dialog",
  "grid",
  "group",
  "listbox",
  "menu",
  "navigation",
  "tooltip",
  "tree"
], popperProps = buildProps({
  role: {
    type: String,
    values: roleTypes,
    default: "tooltip"
  }
}), __default__$7 = defineComponent({
  name: "ElPopper",
  inheritAttrs: !1
}), _sfc_main$l = /* @__PURE__ */ defineComponent({
  ...__default__$7,
  props: popperProps,
  setup(i, { expose: r }) {
    const n = i, o = ref(), a = ref(), u = ref(), c = ref(), d = computed(() => n.role), f = {
      triggerRef: o,
      popperInstanceRef: a,
      contentRef: u,
      referenceRef: c,
      role: d
    };
    return r(f), provide(POPPER_INJECTION_KEY, f), (p, _) => renderSlot(p.$slots, "default");
  }
});
var Popper = /* @__PURE__ */ _export_sfc(_sfc_main$l, [["__file", "popper.vue"]]);
const popperArrowProps = buildProps({
  arrowOffset: {
    type: Number,
    default: 5
  }
}), __default__$6 = defineComponent({
  name: "ElPopperArrow",
  inheritAttrs: !1
}), _sfc_main$k = /* @__PURE__ */ defineComponent({
  ...__default__$6,
  props: popperArrowProps,
  setup(i, { expose: r }) {
    const n = i, o = useNamespace("popper"), { arrowOffset: a, arrowRef: u, arrowStyle: c } = inject(POPPER_CONTENT_INJECTION_KEY, void 0);
    return watch(() => n.arrowOffset, (d) => {
      a.value = d;
    }), onBeforeUnmount(() => {
      u.value = void 0;
    }), r({
      arrowRef: u
    }), (d, f) => (openBlock(), createElementBlock("span", {
      ref_key: "arrowRef",
      ref: u,
      class: normalizeClass(unref(o).e("arrow")),
      style: normalizeStyle$1(unref(c)),
      "data-popper-arrow": ""
    }, null, 6));
  }
});
var ElPopperArrow = /* @__PURE__ */ _export_sfc(_sfc_main$k, [["__file", "arrow.vue"]]);
const NAME = "ElOnlyChild", OnlyChild = defineComponent({
  name: NAME,
  setup(i, {
    slots: r,
    attrs: n
  }) {
    var o;
    const a = inject(FORWARD_REF_INJECTION_KEY), u = useForwardRefDirective((o = a == null ? void 0 : a.setForwardRef) != null ? o : NOOP);
    return () => {
      var c;
      const d = (c = r.default) == null ? void 0 : c.call(r, n);
      if (!d)
        return null;
      if (d.length > 1)
        return debugWarn(NAME, "requires exact only one valid child."), null;
      const f = findFirstLegitChild(d);
      return f ? withDirectives(cloneVNode(f, n), [[u]]) : (debugWarn(NAME, "no valid child node found"), null);
    };
  }
});
function findFirstLegitChild(i) {
  if (!i)
    return null;
  const r = i;
  for (const n of r) {
    if (isObject(n))
      switch (n.type) {
        case Comment:
          continue;
        case Text:
        case "svg":
          return wrapTextContent(n);
        case Fragment:
          return findFirstLegitChild(n.children);
        default:
          return n;
      }
    return wrapTextContent(n);
  }
  return null;
}
function wrapTextContent(i) {
  const r = useNamespace("only-child");
  return createVNode$1("span", {
    class: r.e("content")
  }, [i]);
}
const popperTriggerProps = buildProps({
  virtualRef: {
    type: definePropType(Object)
  },
  virtualTriggering: Boolean,
  onMouseenter: {
    type: definePropType(Function)
  },
  onMouseleave: {
    type: definePropType(Function)
  },
  onClick: {
    type: definePropType(Function)
  },
  onKeydown: {
    type: definePropType(Function)
  },
  onFocus: {
    type: definePropType(Function)
  },
  onBlur: {
    type: definePropType(Function)
  },
  onContextmenu: {
    type: definePropType(Function)
  },
  id: String,
  open: Boolean
}), __default__$5 = defineComponent({
  name: "ElPopperTrigger",
  inheritAttrs: !1
}), _sfc_main$j = /* @__PURE__ */ defineComponent({
  ...__default__$5,
  props: popperTriggerProps,
  setup(i, { expose: r }) {
    const n = i, { role: o, triggerRef: a } = inject(POPPER_INJECTION_KEY, void 0);
    useForwardRef(a);
    const u = computed(() => d.value ? n.id : void 0), c = computed(() => {
      if (o && o.value === "tooltip")
        return n.open && n.id ? n.id : void 0;
    }), d = computed(() => {
      if (o && o.value !== "tooltip")
        return o.value;
    }), f = computed(() => d.value ? `${n.open}` : void 0);
    let p;
    const _ = [
      "onMouseenter",
      "onMouseleave",
      "onClick",
      "onKeydown",
      "onFocus",
      "onBlur",
      "onContextmenu"
    ];
    return onMounted(() => {
      watch(() => n.virtualRef, (v) => {
        v && (a.value = unrefElement(v));
      }, {
        immediate: !0
      }), watch(a, (v, g) => {
        p == null || p(), p = void 0, isElement(v) && (_.forEach((y) => {
          var b;
          const A = n[y];
          A && (v.addEventListener(y.slice(2).toLowerCase(), A), (b = g == null ? void 0 : g.removeEventListener) == null || b.call(g, y.slice(2).toLowerCase(), A));
        }), p = watch([u, c, d, f], (y) => {
          [
            "aria-controls",
            "aria-describedby",
            "aria-haspopup",
            "aria-expanded"
          ].forEach((b, A) => {
            isNil(y[A]) ? v.removeAttribute(b) : v.setAttribute(b, y[A]);
          });
        }, { immediate: !0 })), isElement(g) && [
          "aria-controls",
          "aria-describedby",
          "aria-haspopup",
          "aria-expanded"
        ].forEach((y) => g.removeAttribute(y));
      }, {
        immediate: !0
      });
    }), onBeforeUnmount(() => {
      if (p == null || p(), p = void 0, a.value && isElement(a.value)) {
        const v = a.value;
        _.forEach((g) => {
          const y = n[g];
          y && v.removeEventListener(g.slice(2).toLowerCase(), y);
        }), a.value = void 0;
      }
    }), r({
      triggerRef: a
    }), (v, g) => v.virtualTriggering ? createCommentVNode("v-if", !0) : (openBlock(), createBlock(unref(OnlyChild), mergeProps({ key: 0 }, v.$attrs, {
      "aria-controls": unref(u),
      "aria-describedby": unref(c),
      "aria-expanded": unref(f),
      "aria-haspopup": unref(d)
    }), {
      default: withCtx(() => [
        renderSlot(v.$slots, "default")
      ]),
      _: 3
    }, 16, ["aria-controls", "aria-describedby", "aria-expanded", "aria-haspopup"]));
  }
});
var ElPopperTrigger = /* @__PURE__ */ _export_sfc(_sfc_main$j, [["__file", "trigger.vue"]]);
const FOCUS_AFTER_TRAPPED = "focus-trap.focus-after-trapped", FOCUS_AFTER_RELEASED = "focus-trap.focus-after-released", FOCUSOUT_PREVENTED = "focus-trap.focusout-prevented", FOCUS_AFTER_TRAPPED_OPTS = {
  cancelable: !0,
  bubbles: !1
}, FOCUSOUT_PREVENTED_OPTS = {
  cancelable: !0,
  bubbles: !1
}, ON_TRAP_FOCUS_EVT = "focusAfterTrapped", ON_RELEASE_FOCUS_EVT = "focusAfterReleased", FOCUS_TRAP_INJECTION_KEY = Symbol("elFocusTrap"), focusReason = ref(), lastUserFocusTimestamp = ref(0), lastAutomatedFocusTimestamp = ref(0);
let focusReasonUserCount = 0;
const obtainAllFocusableElements = (i) => {
  const r = [], n = document.createTreeWalker(i, NodeFilter.SHOW_ELEMENT, {
    acceptNode: (o) => {
      const a = o.tagName === "INPUT" && o.type === "hidden";
      return o.disabled || o.hidden || a ? NodeFilter.FILTER_SKIP : o.tabIndex >= 0 || o === document.activeElement ? NodeFilter.FILTER_ACCEPT : NodeFilter.FILTER_SKIP;
    }
  });
  for (; n.nextNode(); )
    r.push(n.currentNode);
  return r;
}, getVisibleElement = (i, r) => {
  for (const n of i)
    if (!isHidden(n, r))
      return n;
}, isHidden = (i, r) => {
  if (process.env.NODE_ENV === "test")
    return !1;
  if (getComputedStyle(i).visibility === "hidden")
    return !0;
  for (; i; ) {
    if (r && i === r)
      return !1;
    if (getComputedStyle(i).display === "none")
      return !0;
    i = i.parentElement;
  }
  return !1;
}, getEdges = (i) => {
  const r = obtainAllFocusableElements(i), n = getVisibleElement(r, i), o = getVisibleElement(r.reverse(), i);
  return [n, o];
}, isSelectable = (i) => i instanceof HTMLInputElement && "select" in i, tryFocus = (i, r) => {
  if (i && i.focus) {
    const n = document.activeElement;
    i.focus({ preventScroll: !0 }), lastAutomatedFocusTimestamp.value = window.performance.now(), i !== n && isSelectable(i) && r && i.select();
  }
};
function removeFromStack(i, r) {
  const n = [...i], o = i.indexOf(r);
  return o !== -1 && n.splice(o, 1), n;
}
const createFocusableStack = () => {
  let i = [];
  return {
    push: (o) => {
      const a = i[0];
      a && o !== a && a.pause(), i = removeFromStack(i, o), i.unshift(o);
    },
    remove: (o) => {
      var a, u;
      i = removeFromStack(i, o), (u = (a = i[0]) == null ? void 0 : a.resume) == null || u.call(a);
    }
  };
}, focusFirstDescendant = (i, r = !1) => {
  const n = document.activeElement;
  for (const o of i)
    if (tryFocus(o, r), document.activeElement !== n)
      return;
}, focusableStack = createFocusableStack(), isFocusCausedByUserEvent = () => lastUserFocusTimestamp.value > lastAutomatedFocusTimestamp.value, notifyFocusReasonPointer = () => {
  focusReason.value = "pointer", lastUserFocusTimestamp.value = window.performance.now();
}, notifyFocusReasonKeydown = () => {
  focusReason.value = "keyboard", lastUserFocusTimestamp.value = window.performance.now();
}, useFocusReason = () => (onMounted(() => {
  focusReasonUserCount === 0 && (document.addEventListener("mousedown", notifyFocusReasonPointer), document.addEventListener("touchstart", notifyFocusReasonPointer), document.addEventListener("keydown", notifyFocusReasonKeydown)), focusReasonUserCount++;
}), onBeforeUnmount(() => {
  focusReasonUserCount--, focusReasonUserCount <= 0 && (document.removeEventListener("mousedown", notifyFocusReasonPointer), document.removeEventListener("touchstart", notifyFocusReasonPointer), document.removeEventListener("keydown", notifyFocusReasonKeydown));
}), {
  focusReason,
  lastUserFocusTimestamp,
  lastAutomatedFocusTimestamp
}), createFocusOutPreventedEvent = (i) => new CustomEvent(FOCUSOUT_PREVENTED, {
  ...FOCUSOUT_PREVENTED_OPTS,
  detail: i
}), _sfc_main$i = defineComponent({
  name: "ElFocusTrap",
  inheritAttrs: !1,
  props: {
    loop: Boolean,
    trapped: Boolean,
    focusTrapEl: Object,
    focusStartEl: {
      type: [Object, String],
      default: "first"
    }
  },
  emits: [
    ON_TRAP_FOCUS_EVT,
    ON_RELEASE_FOCUS_EVT,
    "focusin",
    "focusout",
    "focusout-prevented",
    "release-requested"
  ],
  setup(i, { emit: r }) {
    const n = ref();
    let o, a;
    const { focusReason: u } = useFocusReason();
    useEscapeKeydown((b) => {
      i.trapped && !c.paused && r("release-requested", b);
    });
    const c = {
      paused: !1,
      pause() {
        this.paused = !0;
      },
      resume() {
        this.paused = !1;
      }
    }, d = (b) => {
      if (!i.loop && !i.trapped || c.paused)
        return;
      const { key: A, altKey: w, ctrlKey: S, metaKey: T, currentTarget: x, shiftKey: L } = b, { loop: O } = i, M = A === EVENT_CODE.tab && !w && !S && !T, k = document.activeElement;
      if (M && k) {
        const ie = x, [$, Y] = getEdges(ie);
        if ($ && Y) {
          if (!L && k === Y) {
            const re = createFocusOutPreventedEvent({
              focusReason: u.value
            });
            r("focusout-prevented", re), re.defaultPrevented || (b.preventDefault(), O && tryFocus($, !0));
          } else if (L && [$, ie].includes(k)) {
            const re = createFocusOutPreventedEvent({
              focusReason: u.value
            });
            r("focusout-prevented", re), re.defaultPrevented || (b.preventDefault(), O && tryFocus(Y, !0));
          }
        } else if (k === ie) {
          const re = createFocusOutPreventedEvent({
            focusReason: u.value
          });
          r("focusout-prevented", re), re.defaultPrevented || b.preventDefault();
        }
      }
    };
    provide(FOCUS_TRAP_INJECTION_KEY, {
      focusTrapRef: n,
      onKeydown: d
    }), watch(() => i.focusTrapEl, (b) => {
      b && (n.value = b);
    }, { immediate: !0 }), watch([n], ([b], [A]) => {
      b && (b.addEventListener("keydown", d), b.addEventListener("focusin", _), b.addEventListener("focusout", v)), A && (A.removeEventListener("keydown", d), A.removeEventListener("focusin", _), A.removeEventListener("focusout", v));
    });
    const f = (b) => {
      r(ON_TRAP_FOCUS_EVT, b);
    }, p = (b) => r(ON_RELEASE_FOCUS_EVT, b), _ = (b) => {
      const A = unref(n);
      if (!A)
        return;
      const w = b.target, S = b.relatedTarget, T = w && A.contains(w);
      i.trapped || S && A.contains(S) || (o = S), T && r("focusin", b), !c.paused && i.trapped && (T ? a = w : tryFocus(a, !0));
    }, v = (b) => {
      const A = unref(n);
      if (!(c.paused || !A))
        if (i.trapped) {
          const w = b.relatedTarget;
          !isNil(w) && !A.contains(w) && setTimeout(() => {
            if (!c.paused && i.trapped) {
              const S = createFocusOutPreventedEvent({
                focusReason: u.value
              });
              r("focusout-prevented", S), S.defaultPrevented || tryFocus(a, !0);
            }
          }, 0);
        } else {
          const w = b.target;
          w && A.contains(w) || r("focusout", b);
        }
    };
    async function g() {
      await nextTick();
      const b = unref(n);
      if (b) {
        focusableStack.push(c);
        const A = b.contains(document.activeElement) ? o : document.activeElement;
        if (o = A, !b.contains(A)) {
          const S = new Event(FOCUS_AFTER_TRAPPED, FOCUS_AFTER_TRAPPED_OPTS);
          b.addEventListener(FOCUS_AFTER_TRAPPED, f), b.dispatchEvent(S), S.defaultPrevented || nextTick(() => {
            let T = i.focusStartEl;
            isString(T) || (tryFocus(T), document.activeElement !== T && (T = "first")), T === "first" && focusFirstDescendant(obtainAllFocusableElements(b), !0), (document.activeElement === A || T === "container") && tryFocus(b);
          });
        }
      }
    }
    function y() {
      const b = unref(n);
      if (b) {
        b.removeEventListener(FOCUS_AFTER_TRAPPED, f);
        const A = new CustomEvent(FOCUS_AFTER_RELEASED, {
          ...FOCUS_AFTER_TRAPPED_OPTS,
          detail: {
            focusReason: u.value
          }
        });
        b.addEventListener(FOCUS_AFTER_RELEASED, p), b.dispatchEvent(A), !A.defaultPrevented && (u.value == "keyboard" || !isFocusCausedByUserEvent() || b.contains(document.activeElement)) && tryFocus(o ?? document.body), b.removeEventListener(FOCUS_AFTER_RELEASED, p), focusableStack.remove(c);
      }
    }
    return onMounted(() => {
      i.trapped && g(), watch(() => i.trapped, (b) => {
        b ? g() : y();
      });
    }), onBeforeUnmount(() => {
      i.trapped && y(), n.value && (n.value.removeEventListener("keydown", d), n.value.removeEventListener("focusin", _), n.value.removeEventListener("focusout", v), n.value = void 0);
    }), {
      onKeydown: d
    };
  }
});
function _sfc_render$4(i, r, n, o, a, u) {
  return renderSlot(i.$slots, "default", { handleKeydown: i.onKeydown });
}
var ElFocusTrap = /* @__PURE__ */ _export_sfc(_sfc_main$i, [["render", _sfc_render$4], ["__file", "focus-trap.vue"]]);
const POSITIONING_STRATEGIES = ["fixed", "absolute"], popperCoreConfigProps = buildProps({
  boundariesPadding: {
    type: Number,
    default: 0
  },
  fallbackPlacements: {
    type: definePropType(Array),
    default: void 0
  },
  gpuAcceleration: {
    type: Boolean,
    default: !0
  },
  offset: {
    type: Number,
    default: 12
  },
  placement: {
    type: String,
    values: Ee,
    default: "bottom"
  },
  popperOptions: {
    type: definePropType(Object),
    default: () => ({})
  },
  strategy: {
    type: String,
    values: POSITIONING_STRATEGIES,
    default: "absolute"
  }
}), popperContentProps = buildProps({
  ...popperCoreConfigProps,
  id: String,
  style: {
    type: definePropType([String, Array, Object])
  },
  className: {
    type: definePropType([String, Array, Object])
  },
  effect: {
    type: definePropType(String),
    default: "dark"
  },
  visible: Boolean,
  enterable: {
    type: Boolean,
    default: !0
  },
  pure: Boolean,
  focusOnShow: {
    type: Boolean,
    default: !1
  },
  trapping: {
    type: Boolean,
    default: !1
  },
  popperClass: {
    type: definePropType([String, Array, Object])
  },
  popperStyle: {
    type: definePropType([String, Array, Object])
  },
  referenceEl: {
    type: definePropType(Object)
  },
  triggerTargetEl: {
    type: definePropType(Object)
  },
  stopPopperMouseEvent: {
    type: Boolean,
    default: !0
  },
  virtualTriggering: Boolean,
  zIndex: Number,
  ...useAriaProps(["ariaLabel"])
}), popperContentEmits = {
  mouseenter: (i) => i instanceof MouseEvent,
  mouseleave: (i) => i instanceof MouseEvent,
  focus: () => !0,
  blur: () => !0,
  close: () => !0
}, buildPopperOptions = (i, r = []) => {
  const { placement: n, strategy: o, popperOptions: a } = i, u = {
    placement: n,
    strategy: o,
    ...a,
    modifiers: [...genModifiers(i), ...r]
  };
  return deriveExtraModifiers(u, a == null ? void 0 : a.modifiers), u;
}, unwrapMeasurableEl = (i) => {
  if (isClient)
    return unrefElement(i);
};
function genModifiers(i) {
  const { offset: r, gpuAcceleration: n, fallbackPlacements: o } = i;
  return [
    {
      name: "offset",
      options: {
        offset: [0, r ?? 12]
      }
    },
    {
      name: "preventOverflow",
      options: {
        padding: {
          top: 2,
          bottom: 2,
          left: 5,
          right: 5
        }
      }
    },
    {
      name: "flip",
      options: {
        padding: 5,
        fallbackPlacements: o
      }
    },
    {
      name: "computeStyles",
      options: {
        gpuAcceleration: n
      }
    }
  ];
}
function deriveExtraModifiers(i, r) {
  r && (i.modifiers = [...i.modifiers, ...r ?? []]);
}
const DEFAULT_ARROW_OFFSET = 0, usePopperContent = (i) => {
  const { popperInstanceRef: r, contentRef: n, triggerRef: o, role: a } = inject(POPPER_INJECTION_KEY, void 0), u = ref(), c = ref(), d = computed(() => ({
    name: "eventListeners",
    enabled: !!i.visible
  })), f = computed(() => {
    var S;
    const T = unref(u), x = (S = unref(c)) != null ? S : DEFAULT_ARROW_OFFSET;
    return {
      name: "arrow",
      enabled: !isUndefined$1(T),
      options: {
        element: T,
        padding: x
      }
    };
  }), p = computed(() => ({
    onFirstUpdate: () => {
      b();
    },
    ...buildPopperOptions(i, [
      unref(f),
      unref(d)
    ])
  })), _ = computed(() => unwrapMeasurableEl(i.referenceEl) || unref(o)), { attributes: v, state: g, styles: y, update: b, forceUpdate: A, instanceRef: w } = usePopper(_, n, p);
  return watch(w, (S) => r.value = S), onMounted(() => {
    watch(() => {
      var S;
      return (S = unref(_)) == null ? void 0 : S.getBoundingClientRect();
    }, () => {
      b();
    });
  }), {
    attributes: v,
    arrowRef: u,
    contentRef: n,
    instanceRef: w,
    state: g,
    styles: y,
    role: a,
    forceUpdate: A,
    update: b
  };
}, usePopperContentDOM = (i, {
  attributes: r,
  styles: n,
  role: o
}) => {
  const { nextZIndex: a } = useZIndex(), u = useNamespace("popper"), c = computed(() => unref(r).popper), d = ref(isNumber(i.zIndex) ? i.zIndex : a()), f = computed(() => [
    u.b(),
    u.is("pure", i.pure),
    u.is(i.effect),
    i.popperClass
  ]), p = computed(() => [
    { zIndex: unref(d) },
    unref(n).popper,
    i.popperStyle || {}
  ]), _ = computed(() => o.value === "dialog" ? "false" : void 0), v = computed(() => unref(n).arrow || {});
  return {
    ariaModal: _,
    arrowStyle: v,
    contentAttrs: c,
    contentClass: f,
    contentStyle: p,
    contentZIndex: d,
    updateZIndex: () => {
      d.value = isNumber(i.zIndex) ? i.zIndex : a();
    }
  };
}, usePopperContentFocusTrap = (i, r) => {
  const n = ref(!1), o = ref();
  return {
    focusStartRef: o,
    trapped: n,
    onFocusAfterReleased: (p) => {
      var _;
      ((_ = p.detail) == null ? void 0 : _.focusReason) !== "pointer" && (o.value = "first", r("blur"));
    },
    onFocusAfterTrapped: () => {
      r("focus");
    },
    onFocusInTrap: (p) => {
      i.visible && !n.value && (p.target && (o.value = p.target), n.value = !0);
    },
    onFocusoutPrevented: (p) => {
      i.trapping || (p.detail.focusReason === "pointer" && p.preventDefault(), n.value = !1);
    },
    onReleaseRequested: () => {
      n.value = !1, r("close");
    }
  };
}, __default__$4 = defineComponent({
  name: "ElPopperContent"
}), _sfc_main$h = /* @__PURE__ */ defineComponent({
  ...__default__$4,
  props: popperContentProps,
  emits: popperContentEmits,
  setup(i, { expose: r, emit: n }) {
    const o = i, {
      focusStartRef: a,
      trapped: u,
      onFocusAfterReleased: c,
      onFocusAfterTrapped: d,
      onFocusInTrap: f,
      onFocusoutPrevented: p,
      onReleaseRequested: _
    } = usePopperContentFocusTrap(o, n), { attributes: v, arrowRef: g, contentRef: y, styles: b, instanceRef: A, role: w, update: S } = usePopperContent(o), {
      ariaModal: T,
      arrowStyle: x,
      contentAttrs: L,
      contentClass: O,
      contentStyle: M,
      updateZIndex: k
    } = usePopperContentDOM(o, {
      styles: b,
      attributes: v,
      role: w
    }), ie = inject(formItemContextKey, void 0), $ = ref();
    provide(POPPER_CONTENT_INJECTION_KEY, {
      arrowStyle: x,
      arrowRef: g,
      arrowOffset: $
    }), ie && provide(formItemContextKey, {
      ...ie,
      addInputId: NOOP,
      removeInputId: NOOP
    });
    let Y;
    const D = (F = !0) => {
      S(), F && k();
    }, re = () => {
      D(!1), o.visible && o.focusOnShow ? u.value = !0 : o.visible === !1 && (u.value = !1);
    };
    return onMounted(() => {
      watch(() => o.triggerTargetEl, (F, _e) => {
        Y == null || Y(), Y = void 0;
        const ue = unref(F || y.value), Ie = unref(_e || y.value);
        isElement(ue) && (Y = watch([w, () => o.ariaLabel, T, () => o.id], (ze) => {
          ["role", "aria-label", "aria-modal", "id"].forEach((Fe, Oe) => {
            isNil(ze[Oe]) ? ue.removeAttribute(Fe) : ue.setAttribute(Fe, ze[Oe]);
          });
        }, { immediate: !0 })), Ie !== ue && isElement(Ie) && ["role", "aria-label", "aria-modal", "id"].forEach((ze) => {
          Ie.removeAttribute(ze);
        });
      }, { immediate: !0 }), watch(() => o.visible, re, { immediate: !0 });
    }), onBeforeUnmount(() => {
      Y == null || Y(), Y = void 0;
    }), r({
      popperContentRef: y,
      popperInstanceRef: A,
      updatePopper: D,
      contentStyle: M
    }), (F, _e) => (openBlock(), createElementBlock("div", mergeProps({
      ref_key: "contentRef",
      ref: y
    }, unref(L), {
      style: unref(M),
      class: unref(O),
      tabindex: "-1",
      onMouseenter: (ue) => F.$emit("mouseenter", ue),
      onMouseleave: (ue) => F.$emit("mouseleave", ue)
    }), [
      createVNode$1(unref(ElFocusTrap), {
        trapped: unref(u),
        "trap-on-focus-in": !0,
        "focus-trap-el": unref(y),
        "focus-start-el": unref(a),
        onFocusAfterTrapped: unref(d),
        onFocusAfterReleased: unref(c),
        onFocusin: unref(f),
        onFocusoutPrevented: unref(p),
        onReleaseRequested: unref(_)
      }, {
        default: withCtx(() => [
          renderSlot(F.$slots, "default")
        ]),
        _: 3
      }, 8, ["trapped", "focus-trap-el", "focus-start-el", "onFocusAfterTrapped", "onFocusAfterReleased", "onFocusin", "onFocusoutPrevented", "onReleaseRequested"])
    ], 16, ["onMouseenter", "onMouseleave"]));
  }
});
var ElPopperContent = /* @__PURE__ */ _export_sfc(_sfc_main$h, [["__file", "content.vue"]]);
const ElPopper = withInstall(Popper), TOOLTIP_INJECTION_KEY = Symbol("elTooltip"), useTooltipContentProps = buildProps({
  ...useDelayedToggleProps,
  ...popperContentProps,
  appendTo: {
    type: definePropType([String, Object])
  },
  content: {
    type: String,
    default: ""
  },
  rawContent: Boolean,
  persistent: Boolean,
  visible: {
    type: definePropType(Boolean),
    default: null
  },
  transition: String,
  teleported: {
    type: Boolean,
    default: !0
  },
  disabled: Boolean,
  ...useAriaProps(["ariaLabel"])
}), useTooltipTriggerProps = buildProps({
  ...popperTriggerProps,
  disabled: Boolean,
  trigger: {
    type: definePropType([String, Array]),
    default: "hover"
  },
  triggerKeys: {
    type: definePropType(Array),
    default: () => [EVENT_CODE.enter, EVENT_CODE.space]
  }
}), {
  useModelToggleProps: useTooltipModelToggleProps,
  useModelToggleEmits: useTooltipModelToggleEmits,
  useModelToggle: useTooltipModelToggle
} = createModelToggleComposable("visible"), useTooltipProps = buildProps({
  ...popperProps,
  ...useTooltipModelToggleProps,
  ...useTooltipContentProps,
  ...useTooltipTriggerProps,
  ...popperArrowProps,
  showArrow: {
    type: Boolean,
    default: !0
  }
}), tooltipEmits = [
  ...useTooltipModelToggleEmits,
  "before-show",
  "before-hide",
  "show",
  "hide",
  "open",
  "close"
], isTriggerType = (i, r) => isArray(i) ? i.includes(r) : i === r, whenTrigger = (i, r, n) => (o) => {
  isTriggerType(unref(i), r) && n(o);
}, __default__$3 = defineComponent({
  name: "ElTooltipTrigger"
}), _sfc_main$g = /* @__PURE__ */ defineComponent({
  ...__default__$3,
  props: useTooltipTriggerProps,
  setup(i, { expose: r }) {
    const n = i, o = useNamespace("tooltip"), { controlled: a, id: u, open: c, onOpen: d, onClose: f, onToggle: p } = inject(TOOLTIP_INJECTION_KEY, void 0), _ = ref(null), v = () => {
      if (unref(a) || n.disabled)
        return !0;
    }, g = toRef(n, "trigger"), y = composeEventHandlers(v, whenTrigger(g, "hover", d)), b = composeEventHandlers(v, whenTrigger(g, "hover", f)), A = composeEventHandlers(v, whenTrigger(g, "click", (L) => {
      L.button === 0 && p(L);
    })), w = composeEventHandlers(v, whenTrigger(g, "focus", d)), S = composeEventHandlers(v, whenTrigger(g, "focus", f)), T = composeEventHandlers(v, whenTrigger(g, "contextmenu", (L) => {
      L.preventDefault(), p(L);
    })), x = composeEventHandlers(v, (L) => {
      const { code: O } = L;
      n.triggerKeys.includes(O) && (L.preventDefault(), p(L));
    });
    return r({
      triggerRef: _
    }), (L, O) => (openBlock(), createBlock(unref(ElPopperTrigger), {
      id: unref(u),
      "virtual-ref": L.virtualRef,
      open: unref(c),
      "virtual-triggering": L.virtualTriggering,
      class: normalizeClass(unref(o).e("trigger")),
      onBlur: unref(S),
      onClick: unref(A),
      onContextmenu: unref(T),
      onFocus: unref(w),
      onMouseenter: unref(y),
      onMouseleave: unref(b),
      onKeydown: unref(x)
    }, {
      default: withCtx(() => [
        renderSlot(L.$slots, "default")
      ]),
      _: 3
    }, 8, ["id", "virtual-ref", "open", "virtual-triggering", "class", "onBlur", "onClick", "onContextmenu", "onFocus", "onMouseenter", "onMouseleave", "onKeydown"]));
  }
});
var ElTooltipTrigger = /* @__PURE__ */ _export_sfc(_sfc_main$g, [["__file", "trigger.vue"]]);
const teleportProps = buildProps({
  to: {
    type: definePropType([String, Object]),
    required: !0
  },
  disabled: Boolean
}), _sfc_main$f = /* @__PURE__ */ defineComponent({
  __name: "teleport",
  props: teleportProps,
  setup(i) {
    return (r, n) => r.disabled ? renderSlot(r.$slots, "default", { key: 0 }) : (openBlock(), createBlock(Teleport$1, {
      key: 1,
      to: r.to
    }, [
      renderSlot(r.$slots, "default")
    ], 8, ["to"]));
  }
});
var Teleport = /* @__PURE__ */ _export_sfc(_sfc_main$f, [["__file", "teleport.vue"]]);
const ElTeleport = withInstall(Teleport), __default__$2 = defineComponent({
  name: "ElTooltipContent",
  inheritAttrs: !1
}), _sfc_main$e = /* @__PURE__ */ defineComponent({
  ...__default__$2,
  props: useTooltipContentProps,
  setup(i, { expose: r }) {
    const n = i, { selector: o } = usePopperContainerId(), a = useNamespace("tooltip"), u = ref(null);
    let c;
    const {
      controlled: d,
      id: f,
      open: p,
      trigger: _,
      onClose: v,
      onOpen: g,
      onShow: y,
      onHide: b,
      onBeforeShow: A,
      onBeforeHide: w
    } = inject(TOOLTIP_INJECTION_KEY, void 0), S = computed(() => n.transition || `${a.namespace.value}-fade-in-linear`), T = computed(() => process.env.NODE_ENV === "test" ? !0 : n.persistent);
    onBeforeUnmount(() => {
      c == null || c();
    });
    const x = computed(() => unref(T) ? !0 : unref(p)), L = computed(() => n.disabled ? !1 : unref(p)), O = computed(() => n.appendTo || o.value), M = computed(() => {
      var Ie;
      return (Ie = n.style) != null ? Ie : {};
    }), k = ref(!0), ie = () => {
      b(), k.value = !0;
    }, $ = () => {
      if (unref(d))
        return !0;
    }, Y = composeEventHandlers($, () => {
      n.enterable && unref(_) === "hover" && g();
    }), D = composeEventHandlers($, () => {
      unref(_) === "hover" && v();
    }), re = () => {
      var Ie, ze;
      (ze = (Ie = u.value) == null ? void 0 : Ie.updatePopper) == null || ze.call(Ie), A == null || A();
    }, F = () => {
      w == null || w();
    }, _e = () => {
      y(), c = onClickOutside(computed(() => {
        var Ie;
        return (Ie = u.value) == null ? void 0 : Ie.popperContentRef;
      }), () => {
        if (unref(d))
          return;
        unref(_) !== "hover" && v();
      });
    }, ue = () => {
      n.virtualTriggering || v();
    };
    return watch(() => unref(p), (Ie) => {
      Ie ? k.value = !1 : c == null || c();
    }, {
      flush: "post"
    }), watch(() => n.content, () => {
      var Ie, ze;
      (ze = (Ie = u.value) == null ? void 0 : Ie.updatePopper) == null || ze.call(Ie);
    }), r({
      contentRef: u
    }), (Ie, ze) => (openBlock(), createBlock(unref(ElTeleport), {
      disabled: !Ie.teleported,
      to: unref(O)
    }, {
      default: withCtx(() => [
        createVNode$1(Transition, {
          name: unref(S),
          onAfterLeave: ie,
          onBeforeEnter: re,
          onAfterEnter: _e,
          onBeforeLeave: F
        }, {
          default: withCtx(() => [
            unref(x) ? withDirectives((openBlock(), createBlock(unref(ElPopperContent), mergeProps({
              key: 0,
              id: unref(f),
              ref_key: "contentRef",
              ref: u
            }, Ie.$attrs, {
              "aria-label": Ie.ariaLabel,
              "aria-hidden": k.value,
              "boundaries-padding": Ie.boundariesPadding,
              "fallback-placements": Ie.fallbackPlacements,
              "gpu-acceleration": Ie.gpuAcceleration,
              offset: Ie.offset,
              placement: Ie.placement,
              "popper-options": Ie.popperOptions,
              strategy: Ie.strategy,
              effect: Ie.effect,
              enterable: Ie.enterable,
              pure: Ie.pure,
              "popper-class": Ie.popperClass,
              "popper-style": [Ie.popperStyle, unref(M)],
              "reference-el": Ie.referenceEl,
              "trigger-target-el": Ie.triggerTargetEl,
              visible: unref(L),
              "z-index": Ie.zIndex,
              onMouseenter: unref(Y),
              onMouseleave: unref(D),
              onBlur: ue,
              onClose: unref(v)
            }), {
              default: withCtx(() => [
                renderSlot(Ie.$slots, "default")
              ]),
              _: 3
            }, 16, ["id", "aria-label", "aria-hidden", "boundaries-padding", "fallback-placements", "gpu-acceleration", "offset", "placement", "popper-options", "strategy", "effect", "enterable", "pure", "popper-class", "popper-style", "reference-el", "trigger-target-el", "visible", "z-index", "onMouseenter", "onMouseleave", "onClose"])), [
              [vShow, unref(L)]
            ]) : createCommentVNode("v-if", !0)
          ]),
          _: 3
        }, 8, ["name"])
      ]),
      _: 3
    }, 8, ["disabled", "to"]));
  }
});
var ElTooltipContent = /* @__PURE__ */ _export_sfc(_sfc_main$e, [["__file", "content.vue"]]);
const __default__$1 = defineComponent({
  name: "ElTooltip"
}), _sfc_main$d = /* @__PURE__ */ defineComponent({
  ...__default__$1,
  props: useTooltipProps,
  emits: tooltipEmits,
  setup(i, { expose: r, emit: n }) {
    const o = i;
    usePopperContainer();
    const a = useId(), u = ref(), c = ref(), d = () => {
      var S;
      const T = unref(u);
      T && ((S = T.popperInstanceRef) == null || S.update());
    }, f = ref(!1), p = ref(), { show: _, hide: v, hasUpdateHandler: g } = useTooltipModelToggle({
      indicator: f,
      toggleReason: p
    }), { onOpen: y, onClose: b } = useDelayedToggle({
      showAfter: toRef(o, "showAfter"),
      hideAfter: toRef(o, "hideAfter"),
      autoClose: toRef(o, "autoClose"),
      open: _,
      close: v
    }), A = computed(() => isBoolean(o.visible) && !g.value);
    provide(TOOLTIP_INJECTION_KEY, {
      controlled: A,
      id: a,
      open: readonly(f),
      trigger: toRef(o, "trigger"),
      onOpen: (S) => {
        y(S);
      },
      onClose: (S) => {
        b(S);
      },
      onToggle: (S) => {
        unref(f) ? b(S) : y(S);
      },
      onShow: () => {
        n("show", p.value);
      },
      onHide: () => {
        n("hide", p.value);
      },
      onBeforeShow: () => {
        n("before-show", p.value);
      },
      onBeforeHide: () => {
        n("before-hide", p.value);
      },
      updatePopper: d
    }), watch(() => o.disabled, (S) => {
      S && f.value && (f.value = !1);
    });
    const w = (S) => {
      var T, x;
      const L = (x = (T = c.value) == null ? void 0 : T.contentRef) == null ? void 0 : x.popperContentRef, O = (S == null ? void 0 : S.relatedTarget) || document.activeElement;
      return L && L.contains(O);
    };
    return onDeactivated(() => f.value && v()), r({
      popperRef: u,
      contentRef: c,
      isFocusInsideContent: w,
      updatePopper: d,
      onOpen: y,
      onClose: b,
      hide: v
    }), (S, T) => (openBlock(), createBlock(unref(ElPopper), {
      ref_key: "popperRef",
      ref: u,
      role: S.role
    }, {
      default: withCtx(() => [
        createVNode$1(ElTooltipTrigger, {
          disabled: S.disabled,
          trigger: S.trigger,
          "trigger-keys": S.triggerKeys,
          "virtual-ref": S.virtualRef,
          "virtual-triggering": S.virtualTriggering
        }, {
          default: withCtx(() => [
            S.$slots.default ? renderSlot(S.$slots, "default", { key: 0 }) : createCommentVNode("v-if", !0)
          ]),
          _: 3
        }, 8, ["disabled", "trigger", "trigger-keys", "virtual-ref", "virtual-triggering"]),
        createVNode$1(ElTooltipContent, {
          ref_key: "contentRef",
          ref: c,
          "aria-label": S.ariaLabel,
          "boundaries-padding": S.boundariesPadding,
          content: S.content,
          disabled: S.disabled,
          effect: S.effect,
          enterable: S.enterable,
          "fallback-placements": S.fallbackPlacements,
          "hide-after": S.hideAfter,
          "gpu-acceleration": S.gpuAcceleration,
          offset: S.offset,
          persistent: S.persistent,
          "popper-class": S.popperClass,
          "popper-style": S.popperStyle,
          placement: S.placement,
          "popper-options": S.popperOptions,
          pure: S.pure,
          "raw-content": S.rawContent,
          "reference-el": S.referenceEl,
          "trigger-target-el": S.triggerTargetEl,
          "show-after": S.showAfter,
          strategy: S.strategy,
          teleported: S.teleported,
          transition: S.transition,
          "virtual-triggering": S.virtualTriggering,
          "z-index": S.zIndex,
          "append-to": S.appendTo
        }, {
          default: withCtx(() => [
            renderSlot(S.$slots, "content", {}, () => [
              S.rawContent ? (openBlock(), createElementBlock("span", {
                key: 0,
                innerHTML: S.content
              }, null, 8, ["innerHTML"])) : (openBlock(), createElementBlock("span", { key: 1 }, toDisplayString(S.content), 1))
            ]),
            S.showArrow ? (openBlock(), createBlock(unref(ElPopperArrow), {
              key: 0,
              "arrow-offset": S.arrowOffset
            }, null, 8, ["arrow-offset"])) : createCommentVNode("v-if", !0)
          ]),
          _: 3
        }, 8, ["aria-label", "boundaries-padding", "content", "disabled", "effect", "enterable", "fallback-placements", "hide-after", "gpu-acceleration", "offset", "persistent", "popper-class", "popper-style", "placement", "popper-options", "pure", "raw-content", "reference-el", "trigger-target-el", "show-after", "strategy", "teleported", "transition", "virtual-triggering", "z-index", "append-to"])
      ]),
      _: 3
    }, 8, ["role"]));
  }
});
var Tooltip = /* @__PURE__ */ _export_sfc(_sfc_main$d, [["__file", "tooltip.vue"]]);
const ElTooltip = withInstall(Tooltip);
var commonjsGlobal = typeof globalThis < "u" ? globalThis : typeof window < "u" ? window : typeof global < "u" ? global : typeof self < "u" ? self : {};
const nodeList = /* @__PURE__ */ new Map();
if (isClient) {
  let i;
  document.addEventListener("mousedown", (r) => i = r), document.addEventListener("mouseup", (r) => {
    if (i) {
      for (const n of nodeList.values())
        for (const { documentHandler: o } of n)
          o(r, i);
      i = void 0;
    }
  });
}
function createDocumentHandler(i, r) {
  let n = [];
  return Array.isArray(r.arg) ? n = r.arg : isElement(r.arg) && n.push(r.arg), function(o, a) {
    const u = r.instance.popperRef, c = o.target, d = a == null ? void 0 : a.target, f = !r || !r.instance, p = !c || !d, _ = i.contains(c) || i.contains(d), v = i === c, g = n.length && n.some((b) => b == null ? void 0 : b.contains(c)) || n.length && n.includes(d), y = u && (u.contains(c) || u.contains(d));
    f || p || _ || v || g || y || r.value(o, a);
  };
}
const ClickOutside = {
  beforeMount(i, r) {
    nodeList.has(i) || nodeList.set(i, []), nodeList.get(i).push({
      documentHandler: createDocumentHandler(i, r),
      bindingFn: r.value
    });
  },
  updated(i, r) {
    nodeList.has(i) || nodeList.set(i, []);
    const n = nodeList.get(i), o = n.findIndex((u) => u.bindingFn === r.oldValue), a = {
      documentHandler: createDocumentHandler(i, r),
      bindingFn: r.value
    };
    o >= 0 ? n.splice(o, 1, a) : n.push(a);
  },
  unmounted(i) {
    nodeList.delete(i);
  }
}, tagProps = buildProps({
  type: {
    type: String,
    values: ["primary", "success", "info", "warning", "danger"],
    default: "primary"
  },
  closable: Boolean,
  disableTransitions: Boolean,
  hit: Boolean,
  color: String,
  size: {
    type: String,
    values: componentSizes
  },
  effect: {
    type: String,
    values: ["dark", "light", "plain"],
    default: "light"
  },
  round: Boolean
}), tagEmits = {
  close: (i) => i instanceof MouseEvent,
  click: (i) => i instanceof MouseEvent
}, __default__ = defineComponent({
  name: "ElTag"
}), _sfc_main$c = /* @__PURE__ */ defineComponent({
  ...__default__,
  props: tagProps,
  emits: tagEmits,
  setup(i, { emit: r }) {
    const n = i, o = useFormSize(), a = useNamespace("tag"), u = computed(() => {
      const { type: p, hit: _, effect: v, closable: g, round: y } = n;
      return [
        a.b(),
        a.is("closable", g),
        a.m(p || "primary"),
        a.m(o.value),
        a.m(v),
        a.is("hit", _),
        a.is("round", y)
      ];
    }), c = (p) => {
      r("close", p);
    }, d = (p) => {
      r("click", p);
    }, f = (p) => {
      p.component.subTree.component.bum = null;
    };
    return (p, _) => p.disableTransitions ? (openBlock(), createElementBlock("span", {
      key: 0,
      class: normalizeClass(unref(u)),
      style: normalizeStyle$1({ backgroundColor: p.color }),
      onClick: d
    }, [
      createElementVNode("span", {
        class: normalizeClass(unref(a).e("content"))
      }, [
        renderSlot(p.$slots, "default")
      ], 2),
      p.closable ? (openBlock(), createBlock(unref(ElIcon), {
        key: 0,
        class: normalizeClass(unref(a).e("close")),
        onClick: withModifiers(c, ["stop"])
      }, {
        default: withCtx(() => [
          createVNode$1(unref(close_default))
        ]),
        _: 1
      }, 8, ["class", "onClick"])) : createCommentVNode("v-if", !0)
    ], 6)) : (openBlock(), createBlock(Transition, {
      key: 1,
      name: `${unref(a).namespace.value}-zoom-in-center`,
      appear: "",
      onVnodeMounted: f
    }, {
      default: withCtx(() => [
        createElementVNode("span", {
          class: normalizeClass(unref(u)),
          style: normalizeStyle$1({ backgroundColor: p.color }),
          onClick: d
        }, [
          createElementVNode("span", {
            class: normalizeClass(unref(a).e("content"))
          }, [
            renderSlot(p.$slots, "default")
          ], 2),
          p.closable ? (openBlock(), createBlock(unref(ElIcon), {
            key: 0,
            class: normalizeClass(unref(a).e("close")),
            onClick: withModifiers(c, ["stop"])
          }, {
            default: withCtx(() => [
              createVNode$1(unref(close_default))
            ]),
            _: 1
          }, 8, ["class", "onClick"])) : createCommentVNode("v-if", !0)
        ], 6)
      ]),
      _: 3
    }, 8, ["name"]));
  }
});
var Tag = /* @__PURE__ */ _export_sfc(_sfc_main$c, [["__file", "tag.vue"]]);
const ElTag = withInstall(Tag), selectGroupKey = Symbol("ElSelectGroup"), selectKey = Symbol("ElSelect");
function useOption(i, r) {
  const n = inject(selectKey), o = inject(selectGroupKey, { disabled: !1 }), a = computed(() => _(castArray(n.props.modelValue), i.value)), u = computed(() => {
    var y;
    if (n.props.multiple) {
      const b = castArray((y = n.props.modelValue) != null ? y : []);
      return !a.value && b.length >= n.props.multipleLimit && n.props.multipleLimit > 0;
    } else
      return !1;
  }), c = computed(() => i.label || (isObject(i.value) ? "" : i.value)), d = computed(() => i.value || i.label || ""), f = computed(() => i.disabled || r.groupDisabled || u.value), p = getCurrentInstance(), _ = (y = [], b) => {
    if (isObject(i.value)) {
      const A = n.props.valueKey;
      return y && y.some((w) => toRaw(get$1(w, A)) === get$1(b, A));
    } else
      return y && y.includes(b);
  }, v = () => {
    !i.disabled && !o.disabled && (n.states.hoveringIndex = n.optionsArray.indexOf(p.proxy));
  }, g = (y) => {
    const b = new RegExp(escapeStringRegexp(y), "i");
    r.visible = b.test(c.value) || i.created;
  };
  return watch(() => c.value, () => {
    !i.created && !n.props.remote && n.setSelected();
  }), watch(() => i.value, (y, b) => {
    const { remote: A, valueKey: w } = n.props;
    if (y !== b && (n.onOptionDestroy(b, p.proxy), n.onOptionCreate(p.proxy)), !i.created && !A) {
      if (w && isObject(y) && isObject(b) && y[w] === b[w])
        return;
      n.setSelected();
    }
  }), watch(() => o.disabled, () => {
    r.groupDisabled = o.disabled;
  }, { immediate: !0 }), {
    select: n,
    currentLabel: c,
    currentValue: d,
    itemSelected: a,
    isDisabled: f,
    hoverItem: v,
    updateOption: g
  };
}
const _sfc_main$b = defineComponent({
  name: "ElOption",
  componentName: "ElOption",
  props: {
    value: {
      required: !0,
      type: [String, Number, Boolean, Object]
    },
    label: [String, Number],
    created: Boolean,
    disabled: Boolean
  },
  setup(i) {
    const r = useNamespace("select"), n = useId(), o = computed(() => [
      r.be("dropdown", "item"),
      r.is("disabled", unref(d)),
      r.is("selected", unref(c)),
      r.is("hovering", unref(g))
    ]), a = reactive({
      index: -1,
      groupDisabled: !1,
      visible: !0,
      hover: !1
    }), {
      currentLabel: u,
      itemSelected: c,
      isDisabled: d,
      select: f,
      hoverItem: p,
      updateOption: _
    } = useOption(i, a), { visible: v, hover: g } = toRefs(a), y = getCurrentInstance().proxy;
    f.onOptionCreate(y), onBeforeUnmount(() => {
      const A = y.value, { selected: w } = f.states, T = (f.props.multiple ? w : [w]).some((x) => x.value === y.value);
      nextTick(() => {
        f.states.cachedOptions.get(A) === y && !T && f.states.cachedOptions.delete(A);
      }), f.onOptionDestroy(A, y);
    });
    function b() {
      d.value || f.handleOptionSelect(y);
    }
    return {
      ns: r,
      id: n,
      containerKls: o,
      currentLabel: u,
      itemSelected: c,
      isDisabled: d,
      select: f,
      hoverItem: p,
      updateOption: _,
      visible: v,
      hover: g,
      selectOptionClick: b,
      states: a
    };
  }
});
function _sfc_render$3(i, r, n, o, a, u) {
  return withDirectives((openBlock(), createElementBlock("li", {
    id: i.id,
    class: normalizeClass(i.containerKls),
    role: "option",
    "aria-disabled": i.isDisabled || void 0,
    "aria-selected": i.itemSelected,
    onMouseenter: i.hoverItem,
    onClick: withModifiers(i.selectOptionClick, ["stop"])
  }, [
    renderSlot(i.$slots, "default", {}, () => [
      createElementVNode("span", null, toDisplayString(i.currentLabel), 1)
    ])
  ], 42, ["id", "aria-disabled", "aria-selected", "onMouseenter", "onClick"])), [
    [vShow, i.visible]
  ]);
}
var Option = /* @__PURE__ */ _export_sfc(_sfc_main$b, [["render", _sfc_render$3], ["__file", "option.vue"]]);
const _sfc_main$a = defineComponent({
  name: "ElSelectDropdown",
  componentName: "ElSelectDropdown",
  setup() {
    const i = inject(selectKey), r = useNamespace("select"), n = computed(() => i.props.popperClass), o = computed(() => i.props.multiple), a = computed(() => i.props.fitInputWidth), u = ref("");
    function c() {
      var d;
      u.value = `${(d = i.selectRef) == null ? void 0 : d.offsetWidth}px`;
    }
    return onMounted(() => {
      c(), useResizeObserver(i.selectRef, c);
    }), {
      ns: r,
      minWidth: u,
      popperClass: n,
      isMultiple: o,
      isFitInputWidth: a
    };
  }
});
function _sfc_render$2(i, r, n, o, a, u) {
  return openBlock(), createElementBlock("div", {
    class: normalizeClass([i.ns.b("dropdown"), i.ns.is("multiple", i.isMultiple), i.popperClass]),
    style: normalizeStyle$1({ [i.isFitInputWidth ? "width" : "minWidth"]: i.minWidth })
  }, [
    i.$slots.header ? (openBlock(), createElementBlock("div", {
      key: 0,
      class: normalizeClass(i.ns.be("dropdown", "header"))
    }, [
      renderSlot(i.$slots, "header")
    ], 2)) : createCommentVNode("v-if", !0),
    renderSlot(i.$slots, "default"),
    i.$slots.footer ? (openBlock(), createElementBlock("div", {
      key: 1,
      class: normalizeClass(i.ns.be("dropdown", "footer"))
    }, [
      renderSlot(i.$slots, "footer")
    ], 2)) : createCommentVNode("v-if", !0)
  ], 6);
}
var ElSelectMenu = /* @__PURE__ */ _export_sfc(_sfc_main$a, [["render", _sfc_render$2], ["__file", "select-dropdown.vue"]]);
const MINIMUM_INPUT_WIDTH = 11, useSelect = (i, r) => {
  const { t: n } = useLocale(), o = useId(), a = useNamespace("select"), u = useNamespace("input"), c = reactive({
    inputValue: "",
    options: /* @__PURE__ */ new Map(),
    cachedOptions: /* @__PURE__ */ new Map(),
    disabledOptions: /* @__PURE__ */ new Map(),
    optionValues: [],
    selected: [],
    selectionWidth: 0,
    calculatorWidth: 0,
    collapseItemWidth: 0,
    selectedLabel: "",
    hoveringIndex: -1,
    previousQuery: null,
    inputHovering: !1,
    menuVisibleOnFocus: !1,
    isBeforeHide: !1
  }), d = ref(null), f = ref(null), p = ref(null), _ = ref(null), v = ref(null), g = ref(null), y = ref(null), b = ref(null), A = ref(null), w = ref(null), S = ref(null), T = ref(null), {
    isComposing: x,
    handleCompositionStart: L,
    handleCompositionUpdate: O,
    handleCompositionEnd: M
  } = useComposition({
    afterComposition: (An) => xn(An)
  }), { wrapperRef: k, isFocused: ie, handleBlur: $ } = useFocusController(v, {
    beforeFocus() {
      return ze.value;
    },
    afterFocus() {
      i.automaticDropdown && !Y.value && (Y.value = !0, c.menuVisibleOnFocus = !0);
    },
    beforeBlur(An) {
      var Tn, Bn;
      return ((Tn = p.value) == null ? void 0 : Tn.isFocusInsideContent(An)) || ((Bn = _.value) == null ? void 0 : Bn.isFocusInsideContent(An));
    },
    afterBlur() {
      Y.value = !1, c.menuVisibleOnFocus = !1;
    }
  }), Y = ref(!1), D = ref(), { form: re, formItem: F } = useFormItem(), { inputId: _e } = useFormItemInputId(i, {
    formItemContext: F
  }), { valueOnClear: ue, isEmptyValue: Ie } = useEmptyValues(i), ze = computed(() => i.disabled || (re == null ? void 0 : re.disabled)), Fe = computed(() => isArray(i.modelValue) ? i.modelValue.length > 0 : !Ie(i.modelValue)), Oe = computed(() => i.clearable && !ze.value && c.inputHovering && Fe.value), Lt = computed(() => i.remote && i.filterable && !i.remoteShowSuffix ? "" : i.suffixIcon), pe = computed(() => a.is("reverse", Lt.value && Y.value)), Cn = computed(() => (F == null ? void 0 : F.validateState) || ""), In = computed(() => ValidateComponentsMap[Cn.value]), Dt = computed(() => i.remote ? 300 : 0), he = computed(() => i.loading ? i.loadingText || n("el.select.loading") : i.remote && !c.inputValue && c.options.size === 0 ? !1 : i.filterable && c.inputValue && c.options.size > 0 && Et.value === 0 ? i.noMatchText || n("el.select.noMatch") : c.options.size === 0 ? i.noDataText || n("el.select.noData") : null), Et = computed(() => hn.value.filter((An) => An.visible).length), hn = computed(() => {
    const An = Array.from(c.options.values()), Tn = [];
    return c.optionValues.forEach((Bn) => {
      const Nn = An.findIndex((Gn) => Gn.value === Bn);
      Nn > -1 && Tn.push(An[Nn]);
    }), Tn.length >= An.length ? Tn : An;
  }), vn = computed(() => Array.from(c.cachedOptions.values())), kt = computed(() => {
    const An = hn.value.filter((Tn) => !Tn.created).some((Tn) => Tn.currentLabel === c.inputValue);
    return i.filterable && i.allowCreate && c.inputValue !== "" && !An;
  }), Ce = () => {
    i.filterable && isFunction(i.filterMethod) || i.filterable && i.remote && isFunction(i.remoteMethod) || hn.value.forEach((An) => {
      var Tn;
      (Tn = An.updateOption) == null || Tn.call(An, c.inputValue);
    });
  }, de = useFormSize(), Ue = computed(() => ["small"].includes(de.value) ? "small" : "default"), Ne = computed({
    get() {
      return Y.value && he.value !== !1;
    },
    set(An) {
      Y.value = An;
    }
  }), Ve = computed(() => {
    if (i.multiple && !isUndefined(i.modelValue))
      return castArray(i.modelValue).length === 0 && !c.inputValue;
    const An = isArray(i.modelValue) ? i.modelValue[0] : i.modelValue;
    return i.filterable || isUndefined(An) ? !c.inputValue : !0;
  }), Pt = computed(() => {
    var An;
    const Tn = (An = i.placeholder) != null ? An : n("el.select.placeholder");
    return i.multiple || !Fe.value ? Tn : c.selectedLabel;
  }), jt = computed(() => isIOS ? null : "mouseenter");
  watch(() => i.modelValue, (An, Tn) => {
    i.multiple && i.filterable && !i.reserveKeyword && (c.inputValue = "", _n("")), le(), !isEqual(An, Tn) && i.validateEvent && (F == null || F.validate("change").catch((Bn) => debugWarn(Bn)));
  }, {
    flush: "post",
    deep: !0
  }), watch(() => Y.value, (An) => {
    An ? _n(c.inputValue) : (c.inputValue = "", c.previousQuery = null, c.isBeforeHide = !0), r("visible-change", An);
  }), watch(() => c.options.entries(), () => {
    var An;
    if (!isClient)
      return;
    const Tn = ((An = d.value) == null ? void 0 : An.querySelectorAll("input")) || [];
    (!i.filterable && !i.defaultFirstOption && !isUndefined(i.modelValue) || !Array.from(Tn).includes(document.activeElement)) && le(), i.defaultFirstOption && (i.filterable || i.remote) && Et.value && oe();
  }, {
    flush: "post"
  }), watch(() => c.hoveringIndex, (An) => {
    isNumber(An) && An > -1 ? D.value = hn.value[An] || {} : D.value = {}, hn.value.forEach((Tn) => {
      Tn.hover = D.value === Tn;
    });
  }), watchEffect(() => {
    c.isBeforeHide || Ce();
  });
  const _n = (An) => {
    c.previousQuery === An || x.value || (c.previousQuery = An, i.filterable && isFunction(i.filterMethod) ? i.filterMethod(An) : i.filterable && i.remote && isFunction(i.remoteMethod) && i.remoteMethod(An), i.defaultFirstOption && (i.filterable || i.remote) && Et.value ? nextTick(oe) : nextTick(V));
  }, oe = () => {
    const An = hn.value.filter((Nn) => Nn.visible && !Nn.disabled && !Nn.states.groupDisabled), Tn = An.find((Nn) => Nn.created), Bn = An[0];
    c.hoveringIndex = Pn(hn.value, Tn || Bn);
  }, le = () => {
    if (i.multiple)
      c.selectedLabel = "";
    else {
      const Tn = isArray(i.modelValue) ? i.modelValue[0] : i.modelValue, Bn = j(Tn);
      c.selectedLabel = Bn.currentLabel, c.selected = [Bn];
      return;
    }
    const An = [];
    isUndefined(i.modelValue) || castArray(i.modelValue).forEach((Tn) => {
      An.push(j(Tn));
    }), c.selected = An;
  }, j = (An) => {
    let Tn;
    const Bn = toRawType(An).toLowerCase() === "object", Nn = toRawType(An).toLowerCase() === "null", Gn = toRawType(An).toLowerCase() === "undefined";
    for (let Zn = c.cachedOptions.size - 1; Zn >= 0; Zn--) {
      const Vn = vn.value[Zn];
      if (Bn ? get$1(Vn.value, i.valueKey) === get$1(An, i.valueKey) : Vn.value === An) {
        Tn = {
          value: An,
          currentLabel: Vn.currentLabel,
          get isDisabled() {
            return Vn.isDisabled;
          }
        };
        break;
      }
    }
    if (Tn)
      return Tn;
    const Hn = Bn ? An.label : !Nn && !Gn ? An : "";
    return {
      value: An,
      currentLabel: Hn
    };
  }, V = () => {
    c.hoveringIndex = hn.value.findIndex((An) => c.selected.some((Tn) => Qn(Tn) === Qn(An)));
  }, z = () => {
    c.selectionWidth = f.value.getBoundingClientRect().width;
  }, ae = () => {
    c.calculatorWidth = g.value.getBoundingClientRect().width;
  }, xe = () => {
    c.collapseItemWidth = S.value.getBoundingClientRect().width;
  }, qe = () => {
    var An, Tn;
    (Tn = (An = p.value) == null ? void 0 : An.updatePopper) == null || Tn.call(An);
  }, bn = () => {
    var An, Tn;
    (Tn = (An = _.value) == null ? void 0 : An.updatePopper) == null || Tn.call(An);
  }, Sn = () => {
    c.inputValue.length > 0 && !Y.value && (Y.value = !0), _n(c.inputValue);
  }, xn = (An) => {
    if (c.inputValue = An.target.value, i.remote)
      Rn();
    else
      return Sn();
  }, Rn = debounce(() => {
    Sn();
  }, Dt.value), $e = (An) => {
    isEqual(i.modelValue, An) || r(CHANGE_EVENT, An);
  }, At = (An) => findLastIndex(An, (Tn) => !c.disabledOptions.has(Tn)), En = (An) => {
    if (i.multiple && An.code !== EVENT_CODE.delete && An.target.value.length <= 0) {
      const Tn = castArray(i.modelValue).slice(), Bn = At(Tn);
      if (Bn < 0)
        return;
      const Nn = Tn[Bn];
      Tn.splice(Bn, 1), r(UPDATE_MODEL_EVENT, Tn), $e(Tn), r("remove-tag", Nn);
    }
  }, wn = (An, Tn) => {
    const Bn = c.selected.indexOf(Tn);
    if (Bn > -1 && !ze.value) {
      const Nn = castArray(i.modelValue).slice();
      Nn.splice(Bn, 1), r(UPDATE_MODEL_EVENT, Nn), $e(Nn), r("remove-tag", Tn.value);
    }
    An.stopPropagation(), Fn();
  }, Ln = (An) => {
    An.stopPropagation();
    const Tn = i.multiple ? [] : ue.value;
    if (i.multiple)
      for (const Bn of c.selected)
        Bn.isDisabled && Tn.push(Bn.value);
    r(UPDATE_MODEL_EVENT, Tn), $e(Tn), c.hoveringIndex = -1, Y.value = !1, r("clear"), Fn();
  }, Mn = (An) => {
    var Tn;
    if (i.multiple) {
      const Bn = castArray((Tn = i.modelValue) != null ? Tn : []).slice(), Nn = Pn(Bn, An.value);
      Nn > -1 ? Bn.splice(Nn, 1) : (i.multipleLimit <= 0 || Bn.length < i.multipleLimit) && Bn.push(An.value), r(UPDATE_MODEL_EVENT, Bn), $e(Bn), An.created && _n(""), i.filterable && !i.reserveKeyword && (c.inputValue = "");
    } else
      r(UPDATE_MODEL_EVENT, An.value), $e(An.value), Y.value = !1;
    Fn(), !Y.value && nextTick(() => {
      $n(An);
    });
  }, Pn = (An = [], Tn) => {
    if (!isObject(Tn))
      return An.indexOf(Tn);
    const Bn = i.valueKey;
    let Nn = -1;
    return An.some((Gn, Hn) => toRaw(get$1(Gn, Bn)) === get$1(Tn, Bn) ? (Nn = Hn, !0) : !1), Nn;
  }, $n = (An) => {
    var Tn, Bn, Nn, Gn, Hn;
    const jn = isArray(An) ? An[0] : An;
    let Zn = null;
    if (jn != null && jn.value) {
      const Vn = hn.value.filter((er) => er.value === jn.value);
      Vn.length > 0 && (Zn = Vn[0].$el);
    }
    if (p.value && Zn) {
      const Vn = (Gn = (Nn = (Bn = (Tn = p.value) == null ? void 0 : Tn.popperRef) == null ? void 0 : Bn.contentRef) == null ? void 0 : Nn.querySelector) == null ? void 0 : Gn.call(Nn, `.${a.be("dropdown", "wrap")}`);
      Vn && scrollIntoView(Vn, Zn);
    }
    (Hn = T.value) == null || Hn.handleScroll();
  }, Dn = (An) => {
    c.options.set(An.value, An), c.cachedOptions.set(An.value, An), An.disabled && c.disabledOptions.set(An.value, An);
  }, Kn = (An, Tn) => {
    c.options.get(An) === Tn && c.options.delete(An);
  }, Jn = computed(() => {
    var An, Tn;
    return (Tn = (An = p.value) == null ? void 0 : An.popperRef) == null ? void 0 : Tn.contentRef;
  }), Xn = () => {
    c.isBeforeHide = !1, nextTick(() => $n(c.selected));
  }, Fn = () => {
    var An;
    (An = v.value) == null || An.focus();
  }, zn = () => {
    var An;
    if (Y.value) {
      Y.value = !1, nextTick(() => {
        var Tn;
        return (Tn = v.value) == null ? void 0 : Tn.blur();
      });
      return;
    }
    (An = v.value) == null || An.blur();
  }, Yn = (An) => {
    Ln(An);
  }, Un = (An) => {
    if (Y.value = !1, ie.value) {
      const Tn = new FocusEvent("focus", An);
      nextTick(() => $(Tn));
    }
  }, Wn = () => {
    c.inputValue.length > 0 ? c.inputValue = "" : Y.value = !1;
  }, kn = () => {
    ze.value || (isIOS && (c.inputHovering = !0), c.menuVisibleOnFocus ? c.menuVisibleOnFocus = !1 : Y.value = !Y.value);
  }, On = () => {
    Y.value ? hn.value[c.hoveringIndex] && Mn(hn.value[c.hoveringIndex]) : kn();
  }, Qn = (An) => isObject(An.value) ? get$1(An.value, i.valueKey) : An.value, nr = computed(() => hn.value.filter((An) => An.visible).every((An) => An.disabled)), rr = computed(() => i.multiple ? i.collapseTags ? c.selected.slice(0, i.maxCollapseTags) : c.selected : []), ir = computed(() => i.multiple ? i.collapseTags ? c.selected.slice(i.maxCollapseTags) : [] : []), qn = (An) => {
    if (!Y.value) {
      Y.value = !0;
      return;
    }
    if (!(c.options.size === 0 || c.filteredOptionsCount === 0 || x.value) && !nr.value) {
      An === "next" ? (c.hoveringIndex++, c.hoveringIndex === c.options.size && (c.hoveringIndex = 0)) : An === "prev" && (c.hoveringIndex--, c.hoveringIndex < 0 && (c.hoveringIndex = c.options.size - 1));
      const Tn = hn.value[c.hoveringIndex];
      (Tn.disabled === !0 || Tn.states.groupDisabled === !0 || !Tn.visible) && qn(An), nextTick(() => $n(D.value));
    }
  }, or = () => {
    if (!f.value)
      return 0;
    const An = window.getComputedStyle(f.value);
    return Number.parseFloat(An.gap || "6px");
  }, ar = computed(() => {
    const An = or();
    return { maxWidth: `${S.value && i.maxCollapseTags === 1 ? c.selectionWidth - c.collapseItemWidth - An : c.selectionWidth}px` };
  }), sr = computed(() => ({ maxWidth: `${c.selectionWidth}px` })), lr = computed(() => ({
    width: `${Math.max(c.calculatorWidth, MINIMUM_INPUT_WIDTH)}px`
  }));
  return useResizeObserver(f, z), useResizeObserver(g, ae), useResizeObserver(A, qe), useResizeObserver(k, qe), useResizeObserver(w, bn), useResizeObserver(S, xe), onMounted(() => {
    le();
  }), {
    inputId: _e,
    contentId: o,
    nsSelect: a,
    nsInput: u,
    states: c,
    isFocused: ie,
    expanded: Y,
    optionsArray: hn,
    hoverOption: D,
    selectSize: de,
    filteredOptionsCount: Et,
    resetCalculatorWidth: ae,
    updateTooltip: qe,
    updateTagTooltip: bn,
    debouncedOnInputChange: Rn,
    onInput: xn,
    deletePrevTag: En,
    deleteTag: wn,
    deleteSelected: Ln,
    handleOptionSelect: Mn,
    scrollToOption: $n,
    hasModelValue: Fe,
    shouldShowPlaceholder: Ve,
    currentPlaceholder: Pt,
    mouseEnterEventName: jt,
    showClose: Oe,
    iconComponent: Lt,
    iconReverse: pe,
    validateState: Cn,
    validateIcon: In,
    showNewOption: kt,
    updateOptions: Ce,
    collapseTagSize: Ue,
    setSelected: le,
    selectDisabled: ze,
    emptyText: he,
    handleCompositionStart: L,
    handleCompositionUpdate: O,
    handleCompositionEnd: M,
    onOptionCreate: Dn,
    onOptionDestroy: Kn,
    handleMenuEnter: Xn,
    focus: Fn,
    blur: zn,
    handleClearClick: Yn,
    handleClickOutside: Un,
    handleEsc: Wn,
    toggleMenu: kn,
    selectOption: On,
    getValueKey: Qn,
    navigateOptions: qn,
    dropdownMenuVisible: Ne,
    showTagList: rr,
    collapseTagList: ir,
    tagStyle: ar,
    collapseTagStyle: sr,
    inputStyle: lr,
    popperRef: Jn,
    inputRef: v,
    tooltipRef: p,
    tagTooltipRef: _,
    calculatorRef: g,
    prefixRef: y,
    suffixRef: b,
    selectRef: d,
    wrapperRef: k,
    selectionRef: f,
    scrollbarRef: T,
    menuRef: A,
    tagMenuRef: w,
    collapseItemRef: S
  };
};
var ElOptions = defineComponent({
  name: "ElOptions",
  setup(i, { slots: r }) {
    const n = inject(selectKey);
    let o = [];
    return () => {
      var a, u;
      const c = (a = r.default) == null ? void 0 : a.call(r), d = [];
      function f(p) {
        isArray(p) && p.forEach((_) => {
          var v, g, y, b;
          const A = (v = (_ == null ? void 0 : _.type) || {}) == null ? void 0 : v.name;
          A === "ElOptionGroup" ? f(!isString(_.children) && !isArray(_.children) && isFunction((g = _.children) == null ? void 0 : g.default) ? (y = _.children) == null ? void 0 : y.default() : _.children) : A === "ElOption" ? d.push((b = _.props) == null ? void 0 : b.value) : isArray(_.children) && f(_.children);
        });
      }
      return c.length && f((u = c[0]) == null ? void 0 : u.children), isEqual(d, o) || (o = d, n && (n.states.optionValues = d)), c;
    };
  }
});
const SelectProps = buildProps({
  name: String,
  id: String,
  modelValue: {
    type: [Array, String, Number, Boolean, Object],
    default: void 0
  },
  autocomplete: {
    type: String,
    default: "off"
  },
  automaticDropdown: Boolean,
  size: useSizeProp,
  effect: {
    type: definePropType(String),
    default: "light"
  },
  disabled: Boolean,
  clearable: Boolean,
  filterable: Boolean,
  allowCreate: Boolean,
  loading: Boolean,
  popperClass: {
    type: String,
    default: ""
  },
  popperOptions: {
    type: definePropType(Object),
    default: () => ({})
  },
  remote: Boolean,
  loadingText: String,
  noMatchText: String,
  noDataText: String,
  remoteMethod: Function,
  filterMethod: Function,
  multiple: Boolean,
  multipleLimit: {
    type: Number,
    default: 0
  },
  placeholder: {
    type: String
  },
  defaultFirstOption: Boolean,
  reserveKeyword: {
    type: Boolean,
    default: !0
  },
  valueKey: {
    type: String,
    default: "value"
  },
  collapseTags: Boolean,
  collapseTagsTooltip: Boolean,
  maxCollapseTags: {
    type: Number,
    default: 1
  },
  teleported: useTooltipContentProps.teleported,
  persistent: {
    type: Boolean,
    default: !0
  },
  clearIcon: {
    type: iconPropType,
    default: circle_close_default
  },
  fitInputWidth: Boolean,
  suffixIcon: {
    type: iconPropType,
    default: arrow_down_default
  },
  tagType: { ...tagProps.type, default: "info" },
  tagEffect: { ...tagProps.effect, default: "light" },
  validateEvent: {
    type: Boolean,
    default: !0
  },
  remoteShowSuffix: Boolean,
  placement: {
    type: definePropType(String),
    values: Ee,
    default: "bottom-start"
  },
  fallbackPlacements: {
    type: definePropType(Array),
    default: ["bottom-start", "top-start", "right", "left"]
  },
  appendTo: String,
  ...useEmptyValuesProps,
  ...useAriaProps(["ariaLabel"])
}), COMPONENT_NAME = "ElSelect", _sfc_main$9 = defineComponent({
  name: COMPONENT_NAME,
  componentName: COMPONENT_NAME,
  components: {
    ElSelectMenu,
    ElOption: Option,
    ElOptions,
    ElTag,
    ElScrollbar,
    ElTooltip,
    ElIcon
  },
  directives: { ClickOutside },
  props: SelectProps,
  emits: [
    UPDATE_MODEL_EVENT,
    CHANGE_EVENT,
    "remove-tag",
    "clear",
    "visible-change",
    "focus",
    "blur"
  ],
  setup(i, { emit: r }) {
    const n = computed(() => {
      const { modelValue: c, multiple: d } = i, f = d ? [] : void 0;
      return isArray(c) ? d ? c : f : d ? f : c;
    }), o = reactive({
      ...toRefs(i),
      modelValue: n
    }), a = useSelect(o, r);
    provide(selectKey, reactive({
      props: o,
      states: a.states,
      optionsArray: a.optionsArray,
      handleOptionSelect: a.handleOptionSelect,
      onOptionCreate: a.onOptionCreate,
      onOptionDestroy: a.onOptionDestroy,
      selectRef: a.selectRef,
      setSelected: a.setSelected
    }));
    const u = computed(() => i.multiple ? a.states.selected.map((c) => c.currentLabel) : a.states.selectedLabel);
    return {
      ...a,
      modelValue: n,
      selectedLabel: u
    };
  }
});
function _sfc_render$1(i, r, n, o, a, u) {
  const c = resolveComponent("el-tag"), d = resolveComponent("el-tooltip"), f = resolveComponent("el-icon"), p = resolveComponent("el-option"), _ = resolveComponent("el-options"), v = resolveComponent("el-scrollbar"), g = resolveComponent("el-select-menu"), y = resolveDirective("click-outside");
  return withDirectives((openBlock(), createElementBlock("div", {
    ref: "selectRef",
    class: normalizeClass([i.nsSelect.b(), i.nsSelect.m(i.selectSize)]),
    [toHandlerKey(i.mouseEnterEventName)]: (b) => i.states.inputHovering = !0,
    onMouseleave: (b) => i.states.inputHovering = !1
  }, [
    createVNode$1(d, {
      ref: "tooltipRef",
      visible: i.dropdownMenuVisible,
      placement: i.placement,
      teleported: i.teleported,
      "popper-class": [i.nsSelect.e("popper"), i.popperClass],
      "popper-options": i.popperOptions,
      "fallback-placements": i.fallbackPlacements,
      effect: i.effect,
      pure: "",
      trigger: "click",
      transition: `${i.nsSelect.namespace.value}-zoom-in-top`,
      "stop-popper-mouse-event": !1,
      "gpu-acceleration": !1,
      persistent: i.persistent,
      "append-to": i.appendTo,
      onBeforeShow: i.handleMenuEnter,
      onHide: (b) => i.states.isBeforeHide = !1
    }, {
      default: withCtx(() => {
        var b;
        return [
          createElementVNode("div", {
            ref: "wrapperRef",
            class: normalizeClass([
              i.nsSelect.e("wrapper"),
              i.nsSelect.is("focused", i.isFocused),
              i.nsSelect.is("hovering", i.states.inputHovering),
              i.nsSelect.is("filterable", i.filterable),
              i.nsSelect.is("disabled", i.selectDisabled)
            ]),
            onClick: withModifiers(i.toggleMenu, ["prevent"])
          }, [
            i.$slots.prefix ? (openBlock(), createElementBlock("div", {
              key: 0,
              ref: "prefixRef",
              class: normalizeClass(i.nsSelect.e("prefix"))
            }, [
              renderSlot(i.$slots, "prefix")
            ], 2)) : createCommentVNode("v-if", !0),
            createElementVNode("div", {
              ref: "selectionRef",
              class: normalizeClass([
                i.nsSelect.e("selection"),
                i.nsSelect.is("near", i.multiple && !i.$slots.prefix && !!i.states.selected.length)
              ])
            }, [
              i.multiple ? renderSlot(i.$slots, "tag", { key: 0 }, () => [
                (openBlock(!0), createElementBlock(Fragment, null, renderList(i.showTagList, (A) => (openBlock(), createElementBlock("div", {
                  key: i.getValueKey(A),
                  class: normalizeClass(i.nsSelect.e("selected-item"))
                }, [
                  createVNode$1(c, {
                    closable: !i.selectDisabled && !A.isDisabled,
                    size: i.collapseTagSize,
                    type: i.tagType,
                    effect: i.tagEffect,
                    "disable-transitions": "",
                    style: normalizeStyle$1(i.tagStyle),
                    onClose: (w) => i.deleteTag(w, A)
                  }, {
                    default: withCtx(() => [
                      createElementVNode("span", {
                        class: normalizeClass(i.nsSelect.e("tags-text"))
                      }, [
                        renderSlot(i.$slots, "label", {
                          label: A.currentLabel,
                          value: A.value
                        }, () => [
                          createTextVNode(toDisplayString(A.currentLabel), 1)
                        ])
                      ], 2)
                    ]),
                    _: 2
                  }, 1032, ["closable", "size", "type", "effect", "style", "onClose"])
                ], 2))), 128)),
                i.collapseTags && i.states.selected.length > i.maxCollapseTags ? (openBlock(), createBlock(d, {
                  key: 0,
                  ref: "tagTooltipRef",
                  disabled: i.dropdownMenuVisible || !i.collapseTagsTooltip,
                  "fallback-placements": ["bottom", "top", "right", "left"],
                  effect: i.effect,
                  placement: "bottom",
                  teleported: i.teleported
                }, {
                  default: withCtx(() => [
                    createElementVNode("div", {
                      ref: "collapseItemRef",
                      class: normalizeClass(i.nsSelect.e("selected-item"))
                    }, [
                      createVNode$1(c, {
                        closable: !1,
                        size: i.collapseTagSize,
                        type: i.tagType,
                        effect: i.tagEffect,
                        "disable-transitions": "",
                        style: normalizeStyle$1(i.collapseTagStyle)
                      }, {
                        default: withCtx(() => [
                          createElementVNode("span", {
                            class: normalizeClass(i.nsSelect.e("tags-text"))
                          }, " + " + toDisplayString(i.states.selected.length - i.maxCollapseTags), 3)
                        ]),
                        _: 1
                      }, 8, ["size", "type", "effect", "style"])
                    ], 2)
                  ]),
                  content: withCtx(() => [
                    createElementVNode("div", {
                      ref: "tagMenuRef",
                      class: normalizeClass(i.nsSelect.e("selection"))
                    }, [
                      (openBlock(!0), createElementBlock(Fragment, null, renderList(i.collapseTagList, (A) => (openBlock(), createElementBlock("div", {
                        key: i.getValueKey(A),
                        class: normalizeClass(i.nsSelect.e("selected-item"))
                      }, [
                        createVNode$1(c, {
                          class: "in-tooltip",
                          closable: !i.selectDisabled && !A.isDisabled,
                          size: i.collapseTagSize,
                          type: i.tagType,
                          effect: i.tagEffect,
                          "disable-transitions": "",
                          onClose: (w) => i.deleteTag(w, A)
                        }, {
                          default: withCtx(() => [
                            createElementVNode("span", {
                              class: normalizeClass(i.nsSelect.e("tags-text"))
                            }, [
                              renderSlot(i.$slots, "label", {
                                label: A.currentLabel,
                                value: A.value
                              }, () => [
                                createTextVNode(toDisplayString(A.currentLabel), 1)
                              ])
                            ], 2)
                          ]),
                          _: 2
                        }, 1032, ["closable", "size", "type", "effect", "onClose"])
                      ], 2))), 128))
                    ], 2)
                  ]),
                  _: 3
                }, 8, ["disabled", "effect", "teleported"])) : createCommentVNode("v-if", !0)
              ]) : createCommentVNode("v-if", !0),
              i.selectDisabled ? createCommentVNode("v-if", !0) : (openBlock(), createElementBlock("div", {
                key: 1,
                class: normalizeClass([
                  i.nsSelect.e("selected-item"),
                  i.nsSelect.e("input-wrapper"),
                  i.nsSelect.is("hidden", !i.filterable)
                ])
              }, [
                withDirectives(createElementVNode("input", {
                  id: i.inputId,
                  ref: "inputRef",
                  "onUpdate:modelValue": (A) => i.states.inputValue = A,
                  type: "text",
                  name: i.name,
                  class: normalizeClass([i.nsSelect.e("input"), i.nsSelect.is(i.selectSize)]),
                  disabled: i.selectDisabled,
                  autocomplete: i.autocomplete,
                  style: normalizeStyle$1(i.inputStyle),
                  role: "combobox",
                  readonly: !i.filterable,
                  spellcheck: "false",
                  "aria-activedescendant": ((b = i.hoverOption) == null ? void 0 : b.id) || "",
                  "aria-controls": i.contentId,
                  "aria-expanded": i.dropdownMenuVisible,
                  "aria-label": i.ariaLabel,
                  "aria-autocomplete": "none",
                  "aria-haspopup": "listbox",
                  onKeydown: [
                    withKeys(withModifiers((A) => i.navigateOptions("next"), ["stop", "prevent"]), ["down"]),
                    withKeys(withModifiers((A) => i.navigateOptions("prev"), ["stop", "prevent"]), ["up"]),
                    withKeys(withModifiers(i.handleEsc, ["stop", "prevent"]), ["esc"]),
                    withKeys(withModifiers(i.selectOption, ["stop", "prevent"]), ["enter"]),
                    withKeys(withModifiers(i.deletePrevTag, ["stop"]), ["delete"])
                  ],
                  onCompositionstart: i.handleCompositionStart,
                  onCompositionupdate: i.handleCompositionUpdate,
                  onCompositionend: i.handleCompositionEnd,
                  onInput: i.onInput,
                  onClick: withModifiers(i.toggleMenu, ["stop"])
                }, null, 46, ["id", "onUpdate:modelValue", "name", "disabled", "autocomplete", "readonly", "aria-activedescendant", "aria-controls", "aria-expanded", "aria-label", "onKeydown", "onCompositionstart", "onCompositionupdate", "onCompositionend", "onInput", "onClick"]), [
                  [vModelText, i.states.inputValue]
                ]),
                i.filterable ? (openBlock(), createElementBlock("span", {
                  key: 0,
                  ref: "calculatorRef",
                  "aria-hidden": "true",
                  class: normalizeClass(i.nsSelect.e("input-calculator")),
                  textContent: toDisplayString(i.states.inputValue)
                }, null, 10, ["textContent"])) : createCommentVNode("v-if", !0)
              ], 2)),
              i.shouldShowPlaceholder ? (openBlock(), createElementBlock("div", {
                key: 2,
                class: normalizeClass([
                  i.nsSelect.e("selected-item"),
                  i.nsSelect.e("placeholder"),
                  i.nsSelect.is("transparent", !i.hasModelValue || i.expanded && !i.states.inputValue)
                ])
              }, [
                i.hasModelValue ? renderSlot(i.$slots, "label", {
                  key: 0,
                  label: i.currentPlaceholder,
                  value: i.modelValue
                }, () => [
                  createElementVNode("span", null, toDisplayString(i.currentPlaceholder), 1)
                ]) : (openBlock(), createElementBlock("span", { key: 1 }, toDisplayString(i.currentPlaceholder), 1))
              ], 2)) : createCommentVNode("v-if", !0)
            ], 2),
            createElementVNode("div", {
              ref: "suffixRef",
              class: normalizeClass(i.nsSelect.e("suffix"))
            }, [
              i.iconComponent && !i.showClose ? (openBlock(), createBlock(f, {
                key: 0,
                class: normalizeClass([i.nsSelect.e("caret"), i.nsSelect.e("icon"), i.iconReverse])
              }, {
                default: withCtx(() => [
                  (openBlock(), createBlock(resolveDynamicComponent(i.iconComponent)))
                ]),
                _: 1
              }, 8, ["class"])) : createCommentVNode("v-if", !0),
              i.showClose && i.clearIcon ? (openBlock(), createBlock(f, {
                key: 1,
                class: normalizeClass([
                  i.nsSelect.e("caret"),
                  i.nsSelect.e("icon"),
                  i.nsSelect.e("clear")
                ]),
                onClick: i.handleClearClick
              }, {
                default: withCtx(() => [
                  (openBlock(), createBlock(resolveDynamicComponent(i.clearIcon)))
                ]),
                _: 1
              }, 8, ["class", "onClick"])) : createCommentVNode("v-if", !0),
              i.validateState && i.validateIcon ? (openBlock(), createBlock(f, {
                key: 2,
                class: normalizeClass([i.nsInput.e("icon"), i.nsInput.e("validateIcon")])
              }, {
                default: withCtx(() => [
                  (openBlock(), createBlock(resolveDynamicComponent(i.validateIcon)))
                ]),
                _: 1
              }, 8, ["class"])) : createCommentVNode("v-if", !0)
            ], 2)
          ], 10, ["onClick"])
        ];
      }),
      content: withCtx(() => [
        createVNode$1(g, { ref: "menuRef" }, {
          default: withCtx(() => [
            i.$slots.header ? (openBlock(), createElementBlock("div", {
              key: 0,
              class: normalizeClass(i.nsSelect.be("dropdown", "header")),
              onClick: withModifiers(() => {
              }, ["stop"])
            }, [
              renderSlot(i.$slots, "header")
            ], 10, ["onClick"])) : createCommentVNode("v-if", !0),
            withDirectives(createVNode$1(v, {
              id: i.contentId,
              ref: "scrollbarRef",
              tag: "ul",
              "wrap-class": i.nsSelect.be("dropdown", "wrap"),
              "view-class": i.nsSelect.be("dropdown", "list"),
              class: normalizeClass([i.nsSelect.is("empty", i.filteredOptionsCount === 0)]),
              role: "listbox",
              "aria-label": i.ariaLabel,
              "aria-orientation": "vertical"
            }, {
              default: withCtx(() => [
                i.showNewOption ? (openBlock(), createBlock(p, {
                  key: 0,
                  value: i.states.inputValue,
                  created: !0
                }, null, 8, ["value"])) : createCommentVNode("v-if", !0),
                createVNode$1(_, null, {
                  default: withCtx(() => [
                    renderSlot(i.$slots, "default")
                  ]),
                  _: 3
                })
              ]),
              _: 3
            }, 8, ["id", "wrap-class", "view-class", "class", "aria-label"]), [
              [vShow, i.states.options.size > 0 && !i.loading]
            ]),
            i.$slots.loading && i.loading ? (openBlock(), createElementBlock("div", {
              key: 1,
              class: normalizeClass(i.nsSelect.be("dropdown", "loading"))
            }, [
              renderSlot(i.$slots, "loading")
            ], 2)) : i.loading || i.filteredOptionsCount === 0 ? (openBlock(), createElementBlock("div", {
              key: 2,
              class: normalizeClass(i.nsSelect.be("dropdown", "empty"))
            }, [
              renderSlot(i.$slots, "empty", {}, () => [
                createElementVNode("span", null, toDisplayString(i.emptyText), 1)
              ])
            ], 2)) : createCommentVNode("v-if", !0),
            i.$slots.footer ? (openBlock(), createElementBlock("div", {
              key: 3,
              class: normalizeClass(i.nsSelect.be("dropdown", "footer")),
              onClick: withModifiers(() => {
              }, ["stop"])
            }, [
              renderSlot(i.$slots, "footer")
            ], 10, ["onClick"])) : createCommentVNode("v-if", !0)
          ]),
          _: 3
        }, 512)
      ]),
      _: 3
    }, 8, ["visible", "placement", "teleported", "popper-class", "popper-options", "fallback-placements", "effect", "transition", "persistent", "append-to", "onBeforeShow", "onHide"])
  ], 16, ["onMouseleave"])), [
    [y, i.handleClickOutside, i.popperRef]
  ]);
}
var Select = /* @__PURE__ */ _export_sfc(_sfc_main$9, [["render", _sfc_render$1], ["__file", "select.vue"]]);
const _sfc_main$8 = defineComponent({
  name: "ElOptionGroup",
  componentName: "ElOptionGroup",
  props: {
    label: String,
    disabled: Boolean
  },
  setup(i) {
    const r = useNamespace("select"), n = ref(null), o = getCurrentInstance(), a = ref([]);
    provide(selectGroupKey, reactive({
      ...toRefs(i)
    }));
    const u = computed(() => a.value.some((p) => p.visible === !0)), c = (p) => {
      var _, v;
      return ((_ = p.type) == null ? void 0 : _.name) === "ElOption" && !!((v = p.component) != null && v.proxy);
    }, d = (p) => {
      const _ = castArray(p), v = [];
      return _.forEach((g) => {
        var y, b;
        c(g) ? v.push(g.component.proxy) : (y = g.children) != null && y.length ? v.push(...d(g.children)) : (b = g.component) != null && b.subTree && v.push(...d(g.component.subTree));
      }), v;
    }, f = () => {
      a.value = d(o.subTree);
    };
    return onMounted(() => {
      f();
    }), useMutationObserver(n, f, {
      attributes: !0,
      subtree: !0,
      childList: !0
    }), {
      groupRef: n,
      visible: u,
      ns: r
    };
  }
});
function _sfc_render(i, r, n, o, a, u) {
  return withDirectives((openBlock(), createElementBlock("ul", {
    ref: "groupRef",
    class: normalizeClass(i.ns.be("group", "wrap"))
  }, [
    createElementVNode("li", {
      class: normalizeClass(i.ns.be("group", "title"))
    }, toDisplayString(i.label), 3),
    createElementVNode("li", null, [
      createElementVNode("ul", {
        class: normalizeClass(i.ns.b("group"))
      }, [
        renderSlot(i.$slots, "default")
      ], 2)
    ])
  ], 2)), [
    [vShow, i.visible]
  ]);
}
var OptionGroup = /* @__PURE__ */ _export_sfc(_sfc_main$8, [["render", _sfc_render], ["__file", "option-group.vue"]]);
const ElSelect = withInstall(Select, {
  Option,
  OptionGroup
}), ElOption = withNoopInstall(Option);
withNoopInstall(OptionGroup);
const _hoisted_1$4 = { class: "c-wall-d" }, _sfc_main$7 = /* @__PURE__ */ defineComponent({
  __name: "condition",
  props: {
    modelValue: { default: () => ({ type: EConditionType.None }) }
  },
  emits: ["update:modelValue"],
  setup(i, { emit: r }) {
    const n = i, o = r, a = computed({
      get() {
        return n.modelValue;
      },
      set(d) {
        o("update:modelValue", d);
      }
    }), u = [
      {
        label: "大于",
        val: "greater"
      },
      {
        label: "大于等于",
        val: ">="
      },
      {
        label: "小于",
        val: "<"
      },
      {
        label: "小于等于",
        val: "<="
      },
      {
        label: "等于",
        val: "=="
      },
      {
        label: "不等于",
        val: "!="
      },
      {
        label: "介于",
        val: ">=,=<"
      },
      {
        label: "不介于",
        val: "<,>"
      }
    ], c = (d) => {
      d !== "None" && (a.value.Relation = {
        key: "",
        relation: "",
        val: "",
        val2: ""
      }), o("update:modelValue", a);
    };
    return (d, f) => {
      var p, _;
      return openBlock(), createElementBlock("div", _hoisted_1$4, [
        createVNode$1(unref(ElFormItem), {
          label: "条件",
          size: "small"
        }, {
          default: withCtx(() => [
            createVNode$1(unref(ElSelect), {
              modelValue: unref(a).type,
              "onUpdate:modelValue": f[0] || (f[0] = (v) => unref(a).type = v),
              onChange: c
            }, {
              default: withCtx(() => [
                createVNode$1(unref(ElOption), {
                  value: "None",
                  label: "无"
                }),
                createVNode$1(unref(ElOption), {
                  value: "Relation",
                  label: "关系运算"
                })
              ]),
              _: 1
            }, 8, ["modelValue"])
          ]),
          _: 1
        }),
        unref(a).type === "Relation" ? (openBlock(), createBlock(unref(ElFormItem), {
          key: 0,
          label: "属性",
          size: "small"
        }, {
          default: withCtx(() => [
            createVNode$1(unref(ElInput), {
              modelValue: unref(a).Relation.key,
              "onUpdate:modelValue": f[1] || (f[1] = (v) => unref(a).Relation.key = v)
            }, null, 8, ["modelValue"])
          ]),
          _: 1
        })) : createCommentVNode("", !0),
        unref(a).type === "Relation" ? (openBlock(), createBlock(unref(ElFormItem), {
          key: 1,
          label: "关系",
          size: "small"
        }, {
          default: withCtx(() => [
            createVNode$1(unref(ElSelect), {
              modelValue: unref(a).Relation.relation,
              "onUpdate:modelValue": f[2] || (f[2] = (v) => unref(a).Relation.relation = v)
            }, {
              default: withCtx(() => [
                (openBlock(), createElementBlock(Fragment, null, renderList(u, (v, g) => createVNode$1(unref(ElOption), {
                  value: v.val,
                  label: v.label,
                  key: "rop" + g
                }, null, 8, ["value", "label"])), 64))
              ]),
              _: 1
            }, 8, ["modelValue"])
          ]),
          _: 1
        })) : createCommentVNode("", !0),
        unref(a).type === "Relation" ? (openBlock(), createBlock(unref(ElFormItem), {
          key: 2,
          label: "值",
          size: "small"
        }, {
          default: withCtx(() => [
            createVNode$1(unref(ElInput), {
              modelValue: unref(a).Relation.val,
              "onUpdate:modelValue": f[3] || (f[3] = (v) => unref(a).Relation.val = v)
            }, null, 8, ["modelValue"])
          ]),
          _: 1
        })) : createCommentVNode("", !0),
        unref(a).type === "Relation" && (((p = unref(a).Relation) == null ? void 0 : p.relation) === ">=,=<" || ((_ = unref(a).Relation) == null ? void 0 : _.relation) === "<,>") ? (openBlock(), createBlock(unref(ElFormItem), {
          key: 3,
          label: "值2",
          size: "small"
        }, {
          default: withCtx(() => [
            createVNode$1(unref(ElInput), {
              modelValue: unref(a).Relation.val2,
              "onUpdate:modelValue": f[4] || (f[4] = (v) => unref(a).Relation.val2 = v)
            }, null, 8, ["modelValue"])
          ]),
          _: 1
        })) : createCommentVNode("", !0)
      ]);
    };
  }
}), condition_vue_vue_type_style_index_0_scoped_f43f10e6_lang = "", Condition = /* @__PURE__ */ _export_sfc$1(_sfc_main$7, [["__scopeId", "data-v-f43f10e6"]]), _sfc_main$6 = /* @__PURE__ */ defineComponent({
  __name: "bind-anchor",
  props: {
    modelValue: {},
    title: {}
  },
  emits: ["update:modelValue"],
  setup(i, { emit: r }) {
    const n = useGlobalStore(pinia), o = r, a = i, u = computed({
      get() {
        return a.modelValue !== null;
      },
      set(v) {
        let g = null;
        v && (g = {
          target_id: "",
          type: ""
        }), o("update:modelValue", g);
      }
    }), c = computed({
      get() {
        var v;
        return ((v = a.modelValue) == null ? void 0 : v.target_id) ?? void 0;
      },
      set(v) {
        let g = null;
        u.value && (g = {
          target_id: v,
          type: d.value
        }), o("update:modelValue", g);
      }
    }), d = computed({
      get() {
        var v;
        return ((v = a.modelValue) == null ? void 0 : v.type) ?? void 0;
      },
      set(v) {
        let g = null;
        u.value && (g = {
          target_id: c.value,
          type: v
        }), o("update:modelValue", g);
      }
    }), f = computed(
      () => n.done_json.filter((v) => v.type !== EDoneJsonType.ConnectionLine).map((v) => ({
        label: v.title,
        value: v.id
      }))
    ), p = [
      {
        label: "上锚点",
        value: ELineBindAnchors.TopCenter
      },
      {
        label: "右锚点",
        value: ELineBindAnchors.Right
      },
      {
        label: "下锚点",
        value: ELineBindAnchors.BottomCenter
      },
      {
        label: "左锚点",
        value: ELineBindAnchors.Left
      }
    ];
    function _() {
      nextTick(function() {
        var v, g;
        if (u.value && ((v = a.modelValue) != null && v.target_id) && ((g = a.modelValue) != null && g.type) && n.handle_svg_info) {
          let y = null;
          for (let b of n.done_json)
            b.id === a.modelValue.target_id && (y = b);
          y && (setSvgActualInfo(y), moveAnchors(y));
        }
      });
    }
    return (v, g) => (openBlock(), createElementBlock(Fragment, null, [
      createVNode$1(unref(ElFormItem$1), {
        label: a.title,
        size: "small"
      }, {
        default: withCtx(() => [
          createVNode$1(unref(ElSwitch), {
            modelValue: unref(u),
            "onUpdate:modelValue": g[0] || (g[0] = (y) => isRef(u) ? u.value = y : null),
            onChange: _
          }, null, 8, ["modelValue"])
        ]),
        _: 1
      }, 8, ["label"]),
      unref(u) ? (openBlock(), createBlock(unref(ElFormItem$1), {
        key: 0,
        label: "绑定对象",
        size: "small"
      }, {
        default: withCtx(() => [
          createVNode$1(unref(ElSelect$1), {
            modelValue: unref(c),
            "onUpdate:modelValue": g[1] || (g[1] = (y) => isRef(c) ? c.value = y : null),
            onChange: _
          }, {
            default: withCtx(() => [
              (openBlock(!0), createElementBlock(Fragment, null, renderList(unref(f), (y) => (openBlock(), createBlock(unref(ElOption$1), {
                key: y.value,
                label: y.label,
                value: y.value
              }, null, 8, ["label", "value"]))), 128))
            ]),
            _: 1
          }, 8, ["modelValue"])
        ]),
        _: 1
      })) : createCommentVNode("", !0),
      unref(u) ? (openBlock(), createBlock(unref(ElFormItem$1), {
        key: 1,
        label: "绑定位置",
        size: "small"
      }, {
        default: withCtx(() => [
          createVNode$1(unref(ElSelect$1), {
            modelValue: unref(d),
            "onUpdate:modelValue": g[2] || (g[2] = (y) => isRef(d) ? d.value = y : null),
            onChange: _
          }, {
            default: withCtx(() => [
              (openBlock(), createElementBlock(Fragment, null, renderList(p, (y) => createVNode$1(unref(ElOption$1), {
                key: y.value,
                label: y.label,
                value: y.value
              }, null, 8, ["label", "value"])), 64))
            ]),
            _: 1
          }, 8, ["modelValue"])
        ]),
        _: 1
      })) : createCommentVNode("", !0)
    ], 64));
  }
}), _withScopeId = (i) => (pushScopeId("data-v-501a0a37"), i = i(), popScopeId(), i), _hoisted_1$3 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ createElementVNode("span", { style: { "font-weight": "bold" } }, "MQTT", -1)), _hoisted_2$2 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ createElementVNode("span", { style: { color: "#999" } }, "（开启后这里无需配置）", -1)), _hoisted_3$1 = { key: 2 }, _hoisted_4$1 = { class: "events-title" }, _sfc_main$5 = /* @__PURE__ */ defineComponent({
  __name: "right-panel",
  setup(i) {
    const r = useConfigStore(pinia), n = useGlobalStore(pinia), o = useSvgEditLayoutStore(pinia), a = ref("page"), u = ref("style"), c = (b, A) => {
      b != null && b.common_animations && (b.common_animations.val = A);
    };
    r.$subscribe((b, A) => {
      b.storeId === "config-store" && localStorage.setItem("svg-editor-config", JSON.stringify(A));
    });
    const d = ref(numberArray(20)), f = ref(["MQTT"]), p = ref();
    p.value = () => {
      var A, w;
      let b = {
        type: EEventType.Null,
        action: EEventAction.Null,
        target: "",
        scripts: "",
        condition: { type: EConditionType.None }
      };
      (w = (A = n.handle_svg_info) == null ? void 0 : A.info) == null || w.events.push(b);
    };
    const _ = (b, A) => {
      b === "ChangeAttr" ? A.attrs = [
        {
          key: "",
          val: ""
        }
      ] : delete A.attrs;
    }, v = (b) => {
      var A, w;
      (w = (A = n.handle_svg_info) == null ? void 0 : A.info) == null || w.events.splice(b, 1);
    }, g = () => {
      o.center_offset = {
        x: 0,
        y: 0
      };
    }, y = (b, A, w) => {
      nextTick(function() {
        if (n.handle_svg_info) {
          const S = n.done_json[n.handle_svg_info.index];
          w ? setSvgActualInfo(S, w) : setSvgActualInfo(S), moveAnchors(S);
        }
      });
    };
    return (b, A) => unref(n).intention != unref(EGlobalStoreIntention).Select ? (openBlock(), createBlock(unref(ElTabs), {
      key: 0,
      class: "mx-2 rightTabs",
      modelValue: unref(a),
      "onUpdate:modelValue": A[14] || (A[14] = (w) => isRef(a) ? a.value = w : null)
    }, {
      default: withCtx(() => [
        createVNode$1(unref(ElTabPane), {
          label: "图纸",
          name: "page"
        }, {
          default: withCtx(() => [
            createVNode$1(unref(ElForm), {
              "label-width": "60px",
              "label-position": "left"
            }, {
              default: withCtx(() => [
                createVNode$1(unref(ElFormItem$1), {
                  label: "背景色",
                  size: "small"
                }, {
                  default: withCtx(() => [
                    createVNode$1(unref(ElColorPicker), {
                      modelValue: unref(r).svg.background_color,
                      "onUpdate:modelValue": A[0] || (A[0] = (w) => unref(r).svg.background_color = w)
                    }, null, 8, ["modelValue"])
                  ]),
                  _: 1
                }),
                createVNode$1(unref(ElFormItem$1), {
                  label: "画布",
                  size: "small"
                }, {
                  default: withCtx(() => [
                    createVNode$1(unref(ElButton), {
                      size: "small",
                      onClick: g,
                      icon: unref(aim_default)
                    }, {
                      default: withCtx(() => [
                        createTextVNode("重置位置")
                      ]),
                      _: 1
                    }, 8, ["icon"])
                  ]),
                  _: 1
                }),
                createVNode$1(unref(ElFormItem$1), {
                  label: "X轴偏移",
                  size: "small"
                }, {
                  default: withCtx(() => [
                    createVNode$1(unref(ElInputNumber), {
                      modelValue: unref(o).center_offset.x,
                      "onUpdate:modelValue": A[1] || (A[1] = (w) => unref(o).center_offset.x = w)
                    }, null, 8, ["modelValue"])
                  ]),
                  _: 1
                }),
                createVNode$1(unref(ElFormItem$1), {
                  label: "Y轴偏移",
                  size: "small"
                }, {
                  default: withCtx(() => [
                    createVNode$1(unref(ElInputNumber), {
                      modelValue: unref(o).center_offset.y,
                      "onUpdate:modelValue": A[2] || (A[2] = (w) => unref(o).center_offset.y = w)
                    }, null, 8, ["modelValue"])
                  ]),
                  _: 1
                }),
                createVNode$1(unref(ElFormItem$1), {
                  label: "缩放",
                  size: "small"
                }, {
                  default: withCtx(() => [
                    createVNode$1(unref(ElInputNumber), {
                      modelValue: unref(r).svg.scale,
                      "onUpdate:modelValue": A[3] || (A[3] = (w) => unref(r).svg.scale = w),
                      step: 0.1,
                      "step-strictly": ""
                    }, null, 8, ["modelValue"])
                  ]),
                  _: 1
                }),
                createVNode$1(unref(ElFormItem$1), {
                  label: "标尺",
                  size: "small"
                }, {
                  default: withCtx(() => [
                    createVNode$1(unref(ElSwitch), {
                      modelValue: unref(r).svg.ruler,
                      "onUpdate:modelValue": A[4] || (A[4] = (w) => unref(r).svg.ruler = w)
                    }, null, 8, ["modelValue"])
                  ]),
                  _: 1
                }),
                createVNode$1(unref(ElFormItem$1), {
                  label: "网格",
                  size: "small"
                }, {
                  default: withCtx(() => [
                    createVNode$1(unref(ElSwitch), {
                      modelValue: unref(r).svg.grid,
                      "onUpdate:modelValue": A[5] || (A[5] = (w) => unref(r).svg.grid = w)
                    }, null, 8, ["modelValue"])
                  ]),
                  _: 1
                }),
                unref(r).svg.grid ? (openBlock(), createBlock(unref(ElFormItem$1), {
                  key: 0,
                  label: "网格颜色",
                  size: "small"
                }, {
                  default: withCtx(() => [
                    createVNode$1(unref(ElColorPicker), {
                      modelValue: unref(r).svg.grid_color,
                      "onUpdate:modelValue": A[6] || (A[6] = (w) => unref(r).svg.grid_color = w)
                    }, null, 8, ["modelValue"])
                  ]),
                  _: 1
                })) : createCommentVNode("", !0)
              ]),
              _: 1
            })
          ]),
          _: 1
        }),
        createVNode$1(unref(ElTabPane), {
          label: "连线",
          name: "line"
        }, {
          default: withCtx(() => [
            unref(r).connection_line.props ? (openBlock(), createBlock(unref(ElForm), {
              key: 0,
              "label-width": "60px",
              "label-position": "left"
            }, {
              default: withCtx(() => [
                createVNode$1(DynamicElFormItem, {
                  "obj-info": unref(r).connection_line.props,
                  hide: ["point_position"]
                }, null, 8, ["obj-info"])
              ]),
              _: 1
            })) : createCommentVNode("", !0),
            unref(r).connection_line.animations ? (openBlock(), createBlock(unref(ElForm), {
              key: 1,
              "label-width": "60px",
              "label-position": "left"
            }, {
              default: withCtx(() => [
                createVNode$1(unref(ElFormItem$1), {
                  label: unref(r).connection_line.animations.type.title,
                  size: "small"
                }, {
                  default: withCtx(() => [
                    createVNode$1(unref(ElSelect$1), {
                      modelValue: unref(r).connection_line.animations.type.val,
                      "onUpdate:modelValue": A[7] || (A[7] = (w) => unref(r).connection_line.animations.type.val = w),
                      placeholder: "Select",
                      size: "small"
                    }, {
                      default: withCtx(() => [
                        (openBlock(!0), createElementBlock(Fragment, null, renderList(unref(r).connection_line.animations.type.options, (w) => (openBlock(), createBlock(unref(ElOption$1), {
                          key: w.value,
                          label: w.label,
                          value: w.value
                        }, null, 8, ["label", "value"]))), 128))
                      ]),
                      _: 1
                    }, 8, ["modelValue"])
                  ]),
                  _: 1
                }, 8, ["label"]),
                unref(r).connection_line.animations.type.val !== "None" ? (openBlock(), createBlock(DynamicElFormItem, {
                  key: 0,
                  "obj-info": unref(r).connection_line.animations,
                  hide: ["type", "repeatCount"]
                }, null, 8, ["obj-info"])) : createCommentVNode("", !0)
              ]),
              _: 1
            })) : createCommentVNode("", !0)
          ]),
          _: 1
        }),
        createVNode$1(unref(ElTabPane), {
          label: "通信",
          name: "net"
        }, {
          default: withCtx(() => [
            createVNode$1(unref(ElCollapse), {
              modelValue: unref(f),
              "onUpdate:modelValue": A[13] || (A[13] = (w) => isRef(f) ? f.value = w : null)
            }, {
              default: withCtx(() => [
                createVNode$1(unref(ElCollapseItem), { name: "MQTT" }, {
                  title: withCtx(() => [
                    _hoisted_1$3
                  ]),
                  default: withCtx(() => [
                    createVNode$1(unref(ElForm), {
                      "label-width": "60px",
                      "label-position": "left"
                    }, {
                      default: withCtx(() => [
                        createVNode$1(unref(ElFormItem$1), {
                          label: "外部配置",
                          size: "small"
                        }, {
                          default: withCtx(() => [
                            createVNode$1(unref(ElSwitch), {
                              modelValue: unref(r).net.mqtt.useGlobalMqtt,
                              "onUpdate:modelValue": A[8] || (A[8] = (w) => unref(r).net.mqtt.useGlobalMqtt = w)
                            }, null, 8, ["modelValue"]),
                            _hoisted_2$2
                          ]),
                          _: 1
                        }),
                        unref(r).net.mqtt.useGlobalMqtt ? createCommentVNode("", !0) : (openBlock(), createBlock(unref(ElFormItem$1), {
                          key: 0,
                          label: "URL",
                          size: "small"
                        }, {
                          default: withCtx(() => [
                            createVNode$1(unref(ElInput$1), {
                              modelValue: unref(r).net.mqtt.url,
                              "onUpdate:modelValue": A[9] || (A[9] = (w) => unref(r).net.mqtt.url = w),
                              placeholder: "如 ws://127.0.0.1:4500"
                            }, null, 8, ["modelValue"])
                          ]),
                          _: 1
                        })),
                        unref(r).net.mqtt.useGlobalMqtt ? createCommentVNode("", !0) : (openBlock(), createBlock(unref(ElFormItem$1), {
                          key: 1,
                          label: "用户名",
                          size: "small"
                        }, {
                          default: withCtx(() => [
                            createVNode$1(unref(ElInput$1), {
                              modelValue: unref(r).net.mqtt.user,
                              "onUpdate:modelValue": A[10] || (A[10] = (w) => unref(r).net.mqtt.user = w),
                              placeholder: "username"
                            }, null, 8, ["modelValue"])
                          ]),
                          _: 1
                        })),
                        unref(r).net.mqtt.useGlobalMqtt ? createCommentVNode("", !0) : (openBlock(), createBlock(unref(ElFormItem$1), {
                          key: 2,
                          label: "密码",
                          size: "small"
                        }, {
                          default: withCtx(() => [
                            createVNode$1(unref(ElInput$1), {
                              modelValue: unref(r).net.mqtt.pwd,
                              "onUpdate:modelValue": A[11] || (A[11] = (w) => unref(r).net.mqtt.pwd = w),
                              placeholder: "password"
                            }, null, 8, ["modelValue"])
                          ]),
                          _: 1
                        })),
                        unref(r).net.mqtt.useGlobalMqtt ? createCommentVNode("", !0) : (openBlock(), createBlock(unref(ElFormItem$1), {
                          key: 3,
                          label: "Topics",
                          size: "small"
                        }, {
                          default: withCtx(() => [
                            createVNode$1(unref(ElInput$1), {
                              modelValue: unref(r).net.mqtt.topics,
                              "onUpdate:modelValue": A[12] || (A[12] = (w) => unref(r).net.mqtt.topics = w),
                              placeholder: "topics"
                            }, null, 8, ["modelValue"])
                          ]),
                          _: 1
                        }))
                      ]),
                      _: 1
                    })
                  ]),
                  _: 1
                })
              ]),
              _: 1
            }, 8, ["modelValue"])
          ]),
          _: 1
        }),
        createVNode$1(unref(ElTabPane), {
          label: "结构",
          name: "tree"
        }, {
          default: withCtx(() => [
            createVNode$1(_sfc_main$u)
          ]),
          _: 1
        })
      ]),
      _: 1
    }, 8, ["modelValue"])) : unref(n).intention == unref(EGlobalStoreIntention).Select && unref(n).handle_svg_info ? (openBlock(), createBlock(unref(ElTabs), {
      key: 1,
      class: "mx-2 rightTabs",
      modelValue: unref(u),
      "onUpdate:modelValue": A[35] || (A[35] = (w) => isRef(u) ? u.value = w : null)
    }, {
      default: withCtx(() => [
        createVNode$1(unref(ElTabPane), {
          label: "外观",
          name: "style"
        }, {
          default: withCtx(() => [
            createVNode$1(unref(ElForm), {
              "label-width": "60px",
              "label-position": "left"
            }, {
              default: withCtx(() => {
                var w, S, T, x;
                return [
                  createVNode$1(unref(ElFormItem$1), {
                    label: "标题",
                    size: "small"
                  }, {
                    default: withCtx(() => [
                      createVNode$1(unref(ElInput$1), {
                        modelValue: unref(n).handle_svg_info.info.title,
                        "onUpdate:modelValue": A[15] || (A[15] = (L) => unref(n).handle_svg_info.info.title = L)
                      }, null, 8, ["modelValue"])
                    ]),
                    _: 1
                  }),
                  createVNode$1(unref(ElFormItem$1), {
                    label: "X坐标",
                    size: "small"
                  }, {
                    default: withCtx(() => [
                      createVNode$1(unref(ElInputNumber), {
                        modelValue: unref(n).handle_svg_info.info.x,
                        "onUpdate:modelValue": A[16] || (A[16] = (L) => unref(n).handle_svg_info.info.x = L),
                        onChange: y
                      }, null, 8, ["modelValue"])
                    ]),
                    _: 1
                  }),
                  createVNode$1(unref(ElFormItem$1), {
                    label: "Y坐标",
                    size: "small"
                  }, {
                    default: withCtx(() => [
                      createVNode$1(unref(ElInputNumber), {
                        modelValue: unref(n).handle_svg_info.info.y,
                        "onUpdate:modelValue": A[17] || (A[17] = (L) => unref(n).handle_svg_info.info.y = L),
                        onChange: y
                      }, null, 8, ["modelValue"])
                    ]),
                    _: 1
                  }),
                  withDirectives(createVNode$1(unref(ElFormItem$1), {
                    label: "X缩放",
                    size: "small"
                  }, {
                    default: withCtx(() => [
                      createVNode$1(unref(ElInputNumber), {
                        modelValue: unref(n).handle_svg_info.info.scale_x,
                        "onUpdate:modelValue": A[18] || (A[18] = (L) => unref(n).handle_svg_info.info.scale_x = L),
                        onChange: y
                      }, null, 8, ["modelValue"])
                    ]),
                    _: 1
                  }, 512), [
                    [vShow, (S = (w = unref(n).handle_svg_info) == null ? void 0 : w.info) == null ? void 0 : S.config.can_zoom]
                  ]),
                  withDirectives(createVNode$1(unref(ElFormItem$1), {
                    label: "Y缩放",
                    size: "small"
                  }, {
                    default: withCtx(() => [
                      createVNode$1(unref(ElInputNumber), {
                        modelValue: unref(n).handle_svg_info.info.scale_y,
                        "onUpdate:modelValue": A[19] || (A[19] = (L) => unref(n).handle_svg_info.info.scale_y = L),
                        onChange: y
                      }, null, 8, ["modelValue"])
                    ]),
                    _: 1
                  }, 512), [
                    [vShow, (x = (T = unref(n).handle_svg_info) == null ? void 0 : T.info) == null ? void 0 : x.config.can_zoom]
                  ]),
                  createVNode$1(unref(ElFormItem$1), {
                    label: "旋转",
                    size: "small"
                  }, {
                    default: withCtx(() => [
                      createVNode$1(unref(ElInputNumber), {
                        modelValue: unref(n).handle_svg_info.info.rotate,
                        "onUpdate:modelValue": A[20] || (A[20] = (L) => unref(n).handle_svg_info.info.rotate = L),
                        onChange: y
                      }, null, 8, ["modelValue"])
                    ]),
                    _: 1
                  }),
                  createVNode$1(unref(ElFormItem$1), {
                    label: "显示",
                    size: "small"
                  }, {
                    default: withCtx(() => [
                      createVNode$1(unref(ElSwitch), {
                        modelValue: unref(n).handle_svg_info.info.display,
                        "onUpdate:modelValue": A[21] || (A[21] = (L) => unref(n).handle_svg_info.info.display = L)
                      }, null, 8, ["modelValue"])
                    ]),
                    _: 1
                  })
                ];
              }),
              _: 1
            })
          ]),
          _: 1
        }),
        createVNode$1(unref(ElTabPane), {
          label: "数据",
          name: "data"
        }, {
          default: withCtx(() => [
            createVNode$1(unref(ElForm), {
              "label-width": "90px",
              "label-position": "left"
            }, {
              default: withCtx(() => {
                var w, S, T, x, L, O, M, k;
                return [
                  createVNode$1(unref(ElFormItem$1), {
                    label: "ID",
                    size: "small"
                  }, {
                    default: withCtx(() => [
                      createVNode$1(unref(ElInput$1), {
                        modelValue: unref(n).handle_svg_info.info.id,
                        "onUpdate:modelValue": A[22] || (A[22] = (ie) => unref(n).handle_svg_info.info.id = ie)
                      }, null, 8, ["modelValue"])
                    ]),
                    _: 1
                  }),
                  (S = (w = unref(n).handle_svg_info) == null ? void 0 : w.info) != null && S.state ? (openBlock(), createBlock(unref(ElFormItem$1), {
                    key: 0,
                    class: "props-row",
                    label: "state",
                    size: "small"
                  }, {
                    default: withCtx(() => [
                      createTextVNode(toDisplayString(unref(n).handle_svg_info.info.defaultState), 1)
                    ]),
                    _: 1
                  })) : createCommentVNode("", !0),
                  (x = (T = unref(n).handle_svg_info) == null ? void 0 : T.info) != null && x.state ? (openBlock(), createBlock(unref(ElFormItem$1), {
                    key: 1,
                    label: "状态",
                    size: "small"
                  }, {
                    default: withCtx(() => [
                      createVNode$1(unref(ElSelect$1), {
                        modelValue: unref(n).handle_svg_info.info.defaultState,
                        "onUpdate:modelValue": A[23] || (A[23] = (ie) => unref(n).handle_svg_info.info.defaultState = ie),
                        placeholder: "Select",
                        size: "small"
                      }, {
                        default: withCtx(() => [
                          (openBlock(!0), createElementBlock(Fragment, null, renderList(unref(n).handle_svg_info.info.state, (ie, $) => (openBlock(), createBlock(unref(ElOption$1), {
                            key: "state" + String($),
                            label: ie.label,
                            value: $
                          }, null, 8, ["label", "value"]))), 128))
                        ]),
                        _: 1
                      }, 8, ["modelValue"])
                    ]),
                    _: 1
                  })) : createCommentVNode("", !0),
                  (L = unref(n).handle_svg_info.info) != null && L.hasOwnProperty("tag_slot") ? (openBlock(), createElementBlock("div", _hoisted_3$1, [
                    createVNode$1(unref(ElFormItem$1), {
                      class: "props-row",
                      label: "tag_slot",
                      size: "small"
                    }, {
                      default: withCtx(() => [
                        createTextVNode(toDisplayString(unref(n).handle_svg_info.info.tag_slot), 1)
                      ]),
                      _: 1
                    }),
                    createVNode$1(unref(ElFormItem$1), {
                      label: "文字插槽",
                      size: "small"
                    }, {
                      default: withCtx(() => [
                        createVNode$1(unref(ElInput$1), {
                          modelValue: unref(n).handle_svg_info.info.tag_slot,
                          "onUpdate:modelValue": A[24] || (A[24] = (ie) => unref(n).handle_svg_info.info.tag_slot = ie),
                          onInput: A[25] || (A[25] = (ie) => y(ie, null, !0))
                        }, null, 8, ["modelValue"])
                      ]),
                      _: 1
                    })
                  ])) : createCommentVNode("", !0),
                  createVNode$1(DynamicElFormItem, {
                    "obj-info": unref(n).handle_svg_info.info.props,
                    code: "",
                    onChange: A[26] || (A[26] = (ie) => y(ie, null, !0))
                  }, null, 8, ["obj-info"]),
                  unref(n).handle_svg_info.info.animations ? (openBlock(), createBlock(unref(ElFormItem$1), {
                    key: 3,
                    label: unref(n).handle_svg_info.info.animations.type.title,
                    size: "small"
                  }, {
                    default: withCtx(() => [
                      createVNode$1(unref(ElSelect$1), {
                        modelValue: unref(n).handle_svg_info.info.animations.type.val,
                        "onUpdate:modelValue": A[27] || (A[27] = (ie) => unref(n).handle_svg_info.info.animations.type.val = ie),
                        placeholder: "Select",
                        size: "small"
                      }, {
                        default: withCtx(() => [
                          (openBlock(!0), createElementBlock(Fragment, null, renderList(unref(n).handle_svg_info.info.animations.type.options, (ie) => (openBlock(), createBlock(unref(ElOption$1), {
                            key: ie.value,
                            label: ie.label,
                            value: ie.value
                          }, null, 8, ["label", "value"]))), 128))
                        ]),
                        _: 1
                      }, 8, ["modelValue"])
                    ]),
                    _: 1
                  }, 8, ["label"])) : createCommentVNode("", !0),
                  ((O = unref(n).handle_svg_info.info.animations) == null ? void 0 : O.type.val) !== "None" ? (openBlock(), createBlock(DynamicElFormItem, {
                    key: 4,
                    "obj-info": unref(n).handle_svg_info.info.animations,
                    hide: ["type", "repeatCount"]
                  }, null, 8, ["obj-info"])) : createCommentVNode("", !0),
                  ((M = unref(n).handle_svg_info) == null ? void 0 : M.info.type) === unref(EDoneJsonType).ConnectionLine ? (openBlock(), createBlock(_sfc_main$6, {
                    key: 5,
                    modelValue: unref(n).handle_svg_info.info.bind_anchors.start,
                    "onUpdate:modelValue": A[28] || (A[28] = (ie) => unref(n).handle_svg_info.info.bind_anchors.start = ie),
                    title: "绑定起点"
                  }, null, 8, ["modelValue"])) : createCommentVNode("", !0),
                  ((k = unref(n).handle_svg_info) == null ? void 0 : k.info.type) === unref(EDoneJsonType).ConnectionLine ? (openBlock(), createBlock(_sfc_main$6, {
                    key: 6,
                    modelValue: unref(n).handle_svg_info.info.bind_anchors.end,
                    "onUpdate:modelValue": A[29] || (A[29] = (ie) => unref(n).handle_svg_info.info.bind_anchors.end = ie),
                    title: "绑定终点"
                  }, null, 8, ["modelValue"])) : createCommentVNode("", !0)
                ];
              }),
              _: 1
            })
          ]),
          _: 1
        }),
        createVNode$1(unref(ElTabPane), {
          label: "事件",
          name: "event"
        }, {
          default: withCtx(() => [
            createVNode$1(unref(ElButton), {
              type: "primary",
              style: { width: "100%" },
              onClick: unref(p)
            }, {
              default: withCtx(() => [
                createTextVNode("添加事件")
              ]),
              _: 1
            }, 8, ["onClick"]),
            createVNode$1(unref(ElCollapse), {
              modelValue: unref(d),
              "onUpdate:modelValue": A[30] || (A[30] = (w) => isRef(d) ? d.value = w : null)
            }, {
              default: withCtx(() => [
                (openBlock(!0), createElementBlock(Fragment, null, renderList(unref(n).handle_svg_info.info.events, (w, S) => (openBlock(), createBlock(unref(ElCollapseItem), {
                  name: S,
                  key: "event" + S
                }, {
                  title: withCtx(() => [
                    createElementVNode("div", _hoisted_4$1, [
                      createElementVNode("span", null, "事件" + toDisplayString(S + 1), 1),
                      createVNode$1(unref(ElIcon$1), {
                        size: 16,
                        class: "bt-Icon",
                        onClick: withModifiers((T) => v(S), ["stop"])
                      }, {
                        default: withCtx(() => [
                          createVNode$1(_sfc_main$E, { name: "delete" })
                        ]),
                        _: 2
                      }, 1032, ["onClick"])
                    ])
                  ]),
                  default: withCtx(() => [
                    createVNode$1(unref(ElForm), {
                      "label-width": "90px",
                      "label-position": "left"
                    }, {
                      default: withCtx(() => [
                        createVNode$1(unref(ElFormItem$1), {
                          label: "类型",
                          size: "small"
                        }, {
                          default: withCtx(() => [
                            createVNode$1(unref(ElSelect$1), {
                              modelValue: w.type,
                              "onUpdate:modelValue": (T) => w.type = T
                            }, {
                              default: withCtx(() => [
                                createVNode$1(unref(ElOption$1), {
                                  value: "Click",
                                  label: "点击"
                                }),
                                createVNode$1(unref(ElOption$1), {
                                  value: "Change",
                                  label: "值改变"
                                })
                              ]),
                              _: 2
                            }, 1032, ["modelValue", "onUpdate:modelValue"])
                          ]),
                          _: 2
                        }, 1024),
                        createVNode$1(unref(ElFormItem$1), {
                          label: "行为",
                          size: "small"
                        }, {
                          default: withCtx(() => [
                            createVNode$1(unref(ElSelect$1), {
                              modelValue: w.action,
                              "onUpdate:modelValue": (T) => w.action = T,
                              onChange: (T) => _(T, w)
                            }, {
                              default: withCtx(() => [
                                createVNode$1(unref(ElOption$1), {
                                  value: "ChangeAttr",
                                  label: "改变属性"
                                }),
                                createVNode$1(unref(ElOption$1), {
                                  value: "JavaScript",
                                  label: "执行 JavaScript"
                                }),
                                createVNode$1(unref(ElOption$1), {
                                  value: "Emit",
                                  label: "emit 事件"
                                })
                              ]),
                              _: 2
                            }, 1032, ["modelValue", "onUpdate:modelValue", "onChange"])
                          ]),
                          _: 2
                        }, 1024),
                        w.action === "ChangeAttr" ? (openBlock(), createBlock(unref(ElFormItem$1), {
                          key: 0,
                          label: "目标",
                          size: "small"
                        }, {
                          default: withCtx(() => [
                            createVNode$1(unref(ElInput$1), {
                              modelValue: w.target,
                              "onUpdate:modelValue": (T) => w.target = T,
                              placeholder: "默认自身"
                            }, null, 8, ["modelValue", "onUpdate:modelValue"])
                          ]),
                          _: 2
                        }, 1024)) : createCommentVNode("", !0),
                        w.action === "ChangeAttr" ? (openBlock(), createBlock(List, {
                          key: 1,
                          modelValue: w.attrs,
                          "onUpdate:modelValue": (T) => w.attrs = T
                        }, null, 8, ["modelValue", "onUpdate:modelValue"])) : createCommentVNode("", !0),
                        w.action === "JavaScript" ? (openBlock(), createBlock(unref(ElFormItem$1), {
                          key: 2,
                          label: "JavaScript",
                          size: "small"
                        }, {
                          default: withCtx(() => [
                            createVNode$1(_sfc_main$x, {
                              modelValue: w.scripts,
                              "onUpdate:modelValue": (T) => w.scripts = T,
                              lang: "javascript"
                            }, null, 8, ["modelValue", "onUpdate:modelValue"])
                          ]),
                          _: 2
                        }, 1024)) : createCommentVNode("", !0),
                        createVNode$1(Condition, {
                          modelValue: w.condition,
                          "onUpdate:modelValue": (T) => w.condition = T
                        }, null, 8, ["modelValue", "onUpdate:modelValue"])
                      ]),
                      _: 2
                    }, 1024)
                  ]),
                  _: 2
                }, 1032, ["name"]))), 128))
              ]),
              _: 1
            }, 8, ["modelValue"])
          ]),
          _: 1
        }),
        createVNode$1(unref(ElTabPane), {
          label: "动效",
          name: "animation"
        }, {
          default: withCtx(() => {
            var w;
            return [
              (w = unref(n).handle_svg_info) != null && w.info.animations ? (openBlock(), createBlock(unref(ElForm), {
                key: 0,
                "label-width": "60px",
                "label-position": "left"
              }, {
                default: withCtx(() => [
                  createVNode$1(DynamicElFormItem, {
                    "obj-info": unref(n).handle_svg_info.info.animations
                  }, null, 8, ["obj-info"])
                ]),
                _: 1
              })) : unref(n).handle_svg_info.info.common_animations ? (openBlock(), createBlock(unref(ElForm), {
                key: 1,
                "label-width": "60px",
                "label-position": "left"
              }, {
                default: withCtx(() => [
                  createVNode$1(unref(ElFormItem$1), {
                    label: "动画效果",
                    size: "small"
                  }, {
                    default: withCtx(() => [
                      createVNode$1(CommonAnimate, {
                        onUpdateCommonAniVal: A[31] || (A[31] = (S) => {
                          var T;
                          return c((T = unref(n).handle_svg_info) == null ? void 0 : T.info, S);
                        }),
                        val: unref(n).handle_svg_info.info.common_animations.val
                      }, null, 8, ["val"])
                    ]),
                    _: 1
                  }),
                  createVNode$1(unref(ElFormItem$1), {
                    label: "延迟",
                    size: "small"
                  }, {
                    default: withCtx(() => [
                      createVNode$1(unref(ElSelect$1), {
                        modelValue: unref(n).handle_svg_info.info.common_animations.delay,
                        "onUpdate:modelValue": A[32] || (A[32] = (S) => unref(n).handle_svg_info.info.common_animations.delay = S)
                      }, {
                        default: withCtx(() => [
                          createVNode$1(unref(ElOption$1), {
                            value: "delay-0s",
                            label: "无"
                          }),
                          createVNode$1(unref(ElOption$1), {
                            value: "delay-1s",
                            label: "1秒"
                          }),
                          createVNode$1(unref(ElOption$1), {
                            value: "delay-2s",
                            label: "2秒"
                          }),
                          createVNode$1(unref(ElOption$1), {
                            value: "delay-3s",
                            label: "3秒"
                          }),
                          createVNode$1(unref(ElOption$1), {
                            value: "delay-4s",
                            label: "4秒"
                          }),
                          createVNode$1(unref(ElOption$1), {
                            value: "delay-5s",
                            label: "5秒"
                          })
                        ]),
                        _: 1
                      }, 8, ["modelValue"])
                    ]),
                    _: 1
                  }),
                  createVNode$1(unref(ElFormItem$1), {
                    label: "动画速度",
                    size: "small"
                  }, {
                    default: withCtx(() => [
                      createVNode$1(unref(ElSelect$1), {
                        modelValue: unref(n).handle_svg_info.info.common_animations.speed,
                        "onUpdate:modelValue": A[33] || (A[33] = (S) => unref(n).handle_svg_info.info.common_animations.speed = S)
                      }, {
                        default: withCtx(() => [
                          createVNode$1(unref(ElOption$1), {
                            value: "slow",
                            label: "慢"
                          }),
                          createVNode$1(unref(ElOption$1), {
                            value: "slower",
                            label: "最慢"
                          }),
                          createVNode$1(unref(ElOption$1), {
                            value: "fast",
                            label: "快"
                          }),
                          createVNode$1(unref(ElOption$1), {
                            value: "faster",
                            label: "最快"
                          })
                        ]),
                        _: 1
                      }, 8, ["modelValue"])
                    ]),
                    _: 1
                  }),
                  createVNode$1(unref(ElFormItem$1), {
                    label: "循环次数",
                    size: "small"
                  }, {
                    default: withCtx(() => [
                      createVNode$1(unref(ElSelect$1), {
                        modelValue: unref(n).handle_svg_info.info.common_animations.repeat,
                        "onUpdate:modelValue": A[34] || (A[34] = (S) => unref(n).handle_svg_info.info.common_animations.repeat = S)
                      }, {
                        default: withCtx(() => [
                          createVNode$1(unref(ElOption$1), {
                            value: "repeat-1",
                            label: "一次"
                          }),
                          createVNode$1(unref(ElOption$1), {
                            value: "repeat-2",
                            label: "两次"
                          }),
                          createVNode$1(unref(ElOption$1), {
                            value: "repeat-3",
                            label: "三次"
                          }),
                          createVNode$1(unref(ElOption$1), {
                            value: "infinite",
                            label: "无限次"
                          })
                        ]),
                        _: 1
                      }, 8, ["modelValue"])
                    ]),
                    _: 1
                  })
                ]),
                _: 1
              })) : createCommentVNode("", !0)
            ];
          }),
          _: 1
        }),
        createVNode$1(unref(ElTabPane), {
          label: "结构",
          name: "tree"
        }, {
          default: withCtx(() => [
            createVNode$1(_sfc_main$u)
          ]),
          _: 1
        })
      ]),
      _: 1
    }, 8, ["modelValue"])) : createCommentVNode("", !0);
  }
}), rightPanel_vue_vue_type_style_index_0_scoped_501a0a37_lang = "", rightPanel_vue_vue_type_style_index_1_lang = "", RightPanel = /* @__PURE__ */ _export_sfc$1(_sfc_main$5, [["__scopeId", "data-v-501a0a37"]]), _sfc_main$4 = /* @__PURE__ */ defineComponent({
  __name: "export-json",
  setup(i) {
    const r = ref(""), n = useGlobalStore(pinia), o = useSvgEditLayoutStore(pinia), a = useConfigStore(pinia);
    return onMounted(() => {
      const u = {
        layout_center: o.center_offset,
        config: a.$state,
        done_json: n.done_json
      };
      r.value = JSON.stringify(u, null, 2);
    }), (u, c) => (openBlock(), createBlock(unref(VAceEditor), {
      value: unref(r),
      "onUpdate:value": c[0] || (c[0] = (d) => isRef(r) ? r.value = d : null),
      lang: "json",
      theme: "kr_theme",
      style: { height: "400px" },
      options: {
        useWorker: !0,
        enableBasicAutocompletion: !0,
        enableSnippets: !0,
        enableLiveAutocompletion: !0
      }
    }, null, 8, ["value"]));
  }
}), _sfc_main$3 = /* @__PURE__ */ defineComponent({
  __name: "import-json",
  setup(i, { expose: r }) {
    const n = ref("");
    return r({
      setVal: (u) => {
        n.value = u;
      },
      onImportJson: () => {
        useImportDataModel(n.value) && ElMessage.success("导入成功");
      }
    }), (u, c) => (openBlock(), createBlock(unref(VAceEditor), {
      value: unref(n),
      "onUpdate:value": c[0] || (c[0] = (d) => isRef(n) ? n.value = d : null),
      lang: "json",
      theme: "kr_theme",
      style: { height: "400px" },
      options: {
        useWorker: !0,
        enableBasicAutocompletion: !0,
        enableSnippets: !0,
        enableLiveAutocompletion: !0
      }
    }, null, 8, ["value"]));
  }
}), _hoisted_1$2 = ["title", "onMousedown"], _hoisted_2$1 = { class: "vue-ruler-content-mask" }, _sfc_main$2 = /* @__PURE__ */ defineComponent({
  __name: "vue3-ruler-tool",
  props: {
    visible: { type: Boolean, default: !0 },
    stepLength: { default: 100 }
  },
  emits: ["onLineMouseUp"],
  setup(i, { emit: r }) {
    const n = r, o = i, a = useSvgEditLayoutStore(pinia), u = useConfigStore(pinia), c = function() {
      return function(Ce, de, Ue) {
        Ce && de && Ue && Ce.addEventListener(de, Ue, !1);
      };
    }(), d = function() {
      return function(Ce, de, Ue) {
        Ce && de && Ce.removeEventListener(de, Ue, !1);
      };
    }();
    let f = 18, p = ref(0), _ = ref(0), v = ref([]), g = ref([]);
    const y = ref([]);
    let b = ref(!1), A = "", w = ref(-999), S = ref(-999), T = 18, x = 18, L = "";
    const O = ref(null), M = ref(null), k = ref(null), ie = ref(null), $ = computed(() => ({
      width: p.value + "px",
      height: _.value + "px"
    })), Y = computed(() => ({
      padding: f + "px 0px 0px " + f + "px"
    })), D = computed(() => {
      let Ce = 0, de = 0;
      return y.value.map((Ue) => {
        const Ne = Ue.type === "h";
        return {
          id: `${Ue.type}_${Ne ? Ce++ : de++}`,
          type: Ue.type,
          title: Ue.site.toFixed(0) + "px",
          [Ne ? "top" : "left"]: Ue.site * u.svg.scale + f + a.center_offset[Ne ? "y" : "x"] * u.svg.scale
        };
      });
    });
    a.$subscribe((Ce) => {
      var de, Ue, Ne, Ve;
      ((Ue = (de = Ce.events) == null ? void 0 : de.target) != null && Ue.hasOwnProperty("left_nav") || (Ve = (Ne = Ce.events) == null ? void 0 : Ne.target) != null && Ve.hasOwnProperty("right_nav")) && window.setTimeout(re, 420);
    }), u.$subscribe((Ce) => {
      var de, Ue;
      (Ue = (de = Ce.events) == null ? void 0 : de.target) != null && Ue.hasOwnProperty("scale") && ze();
    }), onMounted(() => {
      c(document, "mousemove", Oe), c(document, "mouseup", Cn), re(), c(window, "resize", F);
    }), onBeforeUnmount(() => {
      d(document, "mousemove", Oe), d(document, "mouseup", Cn), d(window, "resize", F);
    });
    const re = () => {
      Ie(), ze();
    }, F = () => {
      v.value = [], g.value = [], re();
    }, _e = ({ type: Ce, top: de, left: Ue }) => Ce === "h" ? { top: de + "px" } : { left: Ue + "px" }, ue = ({ type: Ce, id: de }) => Ce === "h" ? hn(de) : vn(de), Ie = () => {
      const Ce = window.getComputedStyle(M.value.parentNode, null);
      p.value = parseInt(Ce.getPropertyValue("width")), _.value = parseInt(Ce.getPropertyValue("height")), T = k.value.clientWidth, x = ie.value.clientHeight;
    }, ze = () => {
      Fe(v.value, p.value, a.center_offset.x), Fe(g.value, _.value, a.center_offset.y);
    }, Fe = (Ce, de, Ue) => {
      if (Ce.length === 0)
        for (let Ne = 0; Ne < de; Ne += o.stepLength)
          Ne % o.stepLength === 0 && Ce.push({ id: myFixed(Ne / u.svg.scale - Ue, 0) });
      else
        Ce.forEach((Ne, Ve) => {
          Ne.id = myFixed(Ve * o.stepLength / u.svg.scale - Ue, 0);
        });
    }, Oe = (Ce) => {
      ze(), Lt(Ce);
    }, Lt = (Ce) => {
      if (!(Ce.layerX === Ce.x || Ce.layerY === Ce.y))
        switch (A) {
          case "x":
            b.value && (S.value = Ce.layerY);
            break;
          case "y":
            b.value && (w.value = Ce.layerX);
            break;
          case "h":
            b.value && (S.value = Ce.layerY);
            break;
          case "v":
            b.value && (w.value = Ce.layerX);
            break;
        }
    }, pe = (Ce) => {
      b.value = !0, A = Ce;
    }, Cn = (Ce) => {
      In(Ce);
    }, In = (Ce) => {
      if (b.value) {
        switch (b.value = !1, A) {
          case "x":
            const de = Math.round(
              (Ce.layerY - f) / u.svg.scale - a.center_offset.y
            );
            if (de <= 0) {
              S.value = -999;
              return;
            }
            y.value.push({
              type: "h",
              site: de
            });
            break;
          case "y":
            const Ue = Math.round(
              (Ce.layerX - f) / u.svg.scale - a.center_offset.x
            );
            if (Ue <= 0) {
              w.value = -999;
              return;
            }
            y.value.push({
              type: "v",
              site: Ue
            });
            break;
          case "h":
            Dt(
              y.value,
              Math.round((Ce.layerY - f) / u.svg.scale - a.center_offset.y),
              Math.round(x / u.svg.scale - a.center_offset.y),
              "h"
            );
            break;
          case "v":
            Dt(
              y.value,
              Math.round((Ce.layerX - f) / u.svg.scale - a.center_offset.x),
              Math.round(T / u.svg.scale - a.center_offset.x),
              "v"
            );
            break;
        }
        S.value = w.value = -999;
      }
    }, Dt = (Ce, de, Ue, Ne) => {
      if (de < Ue) {
        let Ve;
        D.value.forEach((Pt, jt) => {
          Pt.id === L && (Ve = jt);
        }), Ce.splice(Ve, 1);
      } else {
        let Ve;
        D.value.forEach((Pt, jt) => {
          Pt.id === L && (Ve = jt);
        }), Ce.splice(Ve, 1, {
          type: Ne,
          site: de
        });
      }
    }, he = () => {
      pe("x");
    }, Et = () => {
      pe("y");
    }, hn = (Ce) => {
      b.value = !0, A = "h", L = Ce;
    }, vn = (Ce) => {
      b.value = !0, A = "v", L = Ce;
    }, kt = () => {
      n("onLineMouseUp");
    };
    return (Ce, de) => (openBlock(), createElementBlock("div", {
      style: normalizeStyle$1(unref($)),
      class: "vue-ruler-wrapper",
      onselectStart: "return false;",
      ref_key: "el",
      ref: M
    }, [
      withDirectives(createElementVNode("section", null, [
        createElementVNode("div", {
          ref_key: "horizontalRuler",
          ref: ie,
          class: "vue-ruler-h",
          onMousedown: withModifiers(he, ["stop"])
        }, [
          (openBlock(!0), createElementBlock(Fragment, null, renderList(unref(v), (Ue, Ne) => (openBlock(), createElementBlock("span", {
            style: normalizeStyle$1({ left: Ne * Ce.stepLength + "px" }),
            class: "n"
          }, toDisplayString(Ue.id), 5))), 256))
        ], 544),
        createElementVNode("div", {
          ref_key: "verticalRuler",
          ref: k,
          class: "vue-ruler-v",
          onMousedown: withModifiers(Et, ["stop"])
        }, [
          (openBlock(!0), createElementBlock(Fragment, null, renderList(unref(g), (Ue, Ne) => (openBlock(), createElementBlock("span", {
            style: normalizeStyle$1({ top: Ne * Ce.stepLength + "px" }),
            class: "n"
          }, toDisplayString(Ue.id), 5))), 256))
        ], 544),
        createElementVNode("div", {
          style: normalizeStyle$1({ top: unref(S) + "px" }),
          class: "vue-ruler-ref-dot-h"
        }, [
          createElementVNode("span", null, toDisplayString(Math.round((unref(S) - unref(x)) / unref(u).svg.scale - unref(a).center_offset.y)), 1)
        ], 4),
        createElementVNode("div", {
          style: normalizeStyle$1({ left: unref(w) + "px" }),
          class: "vue-ruler-ref-dot-v"
        }, [
          createElementVNode("span", null, toDisplayString(Math.round((unref(w) - unref(T)) / unref(u).svg.scale - unref(a).center_offset.x)), 1)
        ], 4),
        (openBlock(!0), createElementBlock(Fragment, null, renderList(unref(D), (Ue) => (openBlock(), createElementBlock("div", {
          title: Ue.title,
          style: normalizeStyle$1(_e(Ue)),
          key: Ue.id,
          class: normalizeClass(`vue-ruler-ref-line-${Ue.type}`),
          onMousedown: (Ne) => ue(Ue),
          onMouseup: kt,
          onContextmenu: de[0] || (de[0] = //@ts-ignore
          (...Ne) => unref(preventDefault) && unref(preventDefault)(...Ne))
        }, null, 46, _hoisted_1$2))), 128))
      ], 512), [
        [vShow, o.visible]
      ]),
      createElementVNode("div", {
        ref_key: "content",
        ref: O,
        class: "vue-ruler-content",
        style: normalizeStyle$1(unref(Y))
      }, [
        renderSlot(Ce.$slots, "default")
      ], 4),
      withDirectives(createElementVNode("div", _hoisted_2$1, null, 512), [
        [vShow, unref(b)]
      ])
    ], 4));
  }
}), vue3RulerTool_vue_vue_type_style_index_0_lang = "";
function fileWrite(i, r = new Date(Date.now()).toLocaleString()) {
  const n = JSON.stringify(i), o = new Blob([n]);
  let a = document.createElement("a");
  a.download = r + ".json", a.style.display = "none", a.href = URL.createObjectURL(o), document.body.appendChild(a), a.click(), document.body.removeChild(a);
}
function fileRead(i) {
  return new Promise((r, n) => {
    let o = new FileReader();
    o.readAsText(i, "UTF-8"), o.onload = function(a) {
      a && a.target ? r(a.target.result) : n("文件读取错误");
    };
  });
}
const _hoisted_1$1 = { class: "canvas-main-pc" }, _sfc_main$1 = /* @__PURE__ */ defineComponent({
  __name: "index",
  props: {
    customToolbar: {},
    vueComp: {},
    data: {},
    saveFile: { type: Boolean, default: !1 },
    mqtt: { default: () => ({
      cover: !1,
      url: "",
      user: "",
      pwd: "",
      topics: ""
    }) }
  },
  emits: ["onReturn", "onPreview", "onSave"],
  setup(i, { expose: r, emit: n }) {
    setEditorLoadTime();
    const o = n, a = i, u = useGlobalStore(pinia), c = useSvgEditLayoutStore(pinia), d = useConfigStore(pinia), f = useEditPrivateStore(pinia), p = ref(), _ = ref(), v = reactive({
      [EVisibleConfKey.ExportJson]: !1,
      [EVisibleConfKey.ImportJson]: !1,
      [EVisibleConfKey.ImportFile]: !1
    }), g = (L, O) => {
      v[L] = O;
    }, y = ref();
    y.value = () => {
      _.value.onImportJson(), g(EVisibleConfKey.ImportJson, !1);
    };
    const b = (L) => ["text/plain", "application/json"].indexOf(L.type) < 0 ? (ElMessage.error("仅支持的格式：txt、json"), !1) : (fileRead(L).then((O) => {
      _.value.setVal(O), ElMessage.success("文件读取成功！");
    }), !1), A = (L) => {
      u.setDoneJson(L);
    };
    onMounted(() => {
      f.history_doneComponent = [], f.history_now_index = 0, a.data ? useImportDataModel(a.data) : u.setDoneJson([]), u.intention = EGlobalStoreIntention.None;
    });
    const { appContext: w } = getCurrentInstance();
    function S(L) {
      o("onReturn", {
        data: L,
        isChange: f.getTopBtnUndoStatus
      });
    }
    function T(L) {
      a.saveFile ? ElMessageBox.prompt(
        "请输入文件名",
        "保存",
        {
          cancelButtonText: "取消",
          confirmButtonText: "保存"
        },
        w
      ).then((O) => {
        fileWrite(L, O.value.trim()), o("onSave", L);
      }).catch((O) => {
        console.log(O);
      }) : o("onSave", L);
    }
    function x() {
      p.value.onCanvasMouseUp();
    }
    return onMounted(() => {
      var L, O, M, k, ie;
      d.net.mqtt.useGlobalMqtt = !!((L = a.mqtt) != null && L.cover), d.net.mqtt.global || (d.net.mqtt.global = {
        url: "",
        user: "",
        pwd: "",
        topics: ""
      }), d.net.mqtt.global.url = ((O = a.mqtt) == null ? void 0 : O.url) || "", d.net.mqtt.global.user = ((M = a.mqtt) == null ? void 0 : M.user) || "", d.net.mqtt.global.pwd = ((k = a.mqtt) == null ? void 0 : k.pwd) || "", d.net.mqtt.global.topics = ((ie = a.mqtt) == null ? void 0 : ie.topics) || "";
    }), r({
      setGraphNodeJson: A
    }), (L, O) => (openBlock(), createElementBlock("div", null, [
      createVNode$1(unref(ElContainer), null, {
        default: withCtx(() => [
          createVNode$1(unref(ElHeader), { class: "top-el-header" }, {
            default: withCtx(() => [
              createVNode$1(TopPanel, {
                onChangeVisible: g,
                onOnReturn: S,
                onOnPreview: O[0] || (O[0] = (M) => o("onPreview", M)),
                onOnSave: T
              })
            ]),
            _: 1
          }),
          createVNode$1(unref(ElContainer), { class: "middle" }, {
            default: withCtx(() => [
              createVNode$1(unref(ElAside), {
                class: normalizeClass(["side-nav", unref(c).left_nav ? "show-nav" : "hide-nav"]),
                style: { "border-right": "1px solid #efefef" }
              }, {
                default: withCtx(() => [
                  createVNode$1(unref(ElScrollbar$1), { class: "el-scroll-pc" }, {
                    default: withCtx(() => [
                      createVNode$1(LeftPanel, {
                        class: "content-left",
                        "custom-toolbar": a.customToolbar
                      }, null, 8, ["custom-toolbar"])
                    ]),
                    _: 1
                  })
                ]),
                _: 1
              }, 8, ["class"]),
              createVNode$1(unref(ElMain), { class: "middle main" }, {
                default: withCtx(() => [
                  createElementVNode("div", _hoisted_1$1, [
                    createVNode$1(_sfc_main$2, {
                      class: "canvas-main-pc",
                      visible: unref(d).svg.ruler,
                      onOnLineMouseUp: x
                    }, {
                      default: withCtx(() => [
                        createVNode$1(CenterPanel, {
                          ref_key: "centerRef",
                          ref: p,
                          vueComp: a.vueComp
                        }, {
                          background: withCtx(() => [
                            renderSlot(L.$slots, "background", {}, void 0, !0)
                          ]),
                          _: 3
                        }, 8, ["vueComp"])
                      ]),
                      _: 3
                    }, 8, ["visible"])
                  ])
                ]),
                _: 3
              }),
              createVNode$1(unref(ElAside), {
                class: normalizeClass(["side-nav", unref(c).right_nav ? "show-nav" : "hide-nav"]),
                style: { "border-left": "1px solid #efefef" }
              }, {
                default: withCtx(() => [
                  createVNode$1(unref(ElScrollbar$1), { class: "el-scroll-pc" }, {
                    default: withCtx(() => [
                      createVNode$1(RightPanel)
                    ]),
                    _: 1
                  })
                ]),
                _: 1
              }, 8, ["class"])
            ]),
            _: 3
          })
        ]),
        _: 3
      }),
      createVNode$1(unref(ElDialog), {
        class: "modal-full",
        modelValue: unref(v).ImportJson,
        "onUpdate:modelValue": O[2] || (O[2] = (M) => unref(v).ImportJson = M),
        title: "导入数据",
        width: "60%",
        "destroy-on-close": ""
      }, {
        footer: withCtx(() => [
          createVNode$1(unref(ElUpload), {
            beforeUpload: b,
            style: { display: "inline-flex", "margin-right": "12px" },
            multiple: !1,
            "show-file-list": !1,
            limit: 1
          }, {
            default: withCtx(() => [
              createVNode$1(unref(ElButton), {
                onClick: O[1] || (O[1] = (M) => g(unref(EVisibleConfKey).ImportFile, !0))
              }, {
                default: withCtx(() => [
                  createTextVNode("读取文件")
                ]),
                _: 1
              })
            ]),
            _: 1
          }),
          createVNode$1(unref(ElButton), {
            type: "primary",
            onClick: unref(y)
          }, {
            default: withCtx(() => [
              createTextVNode("导入数据")
            ]),
            _: 1
          }, 8, ["onClick"])
        ]),
        default: withCtx(() => [
          createVNode$1(_sfc_main$3, {
            ref_key: "importJsonRef",
            ref: _
          }, null, 512)
        ]),
        _: 1
      }, 8, ["modelValue"]),
      createVNode$1(unref(ElDialog), {
        class: "modal-full",
        modelValue: unref(v).ExportJson,
        "onUpdate:modelValue": O[3] || (O[3] = (M) => unref(v).ExportJson = M),
        title: "导出",
        width: "60%",
        "destroy-on-close": ""
      }, {
        default: withCtx(() => [
          createVNode$1(_sfc_main$4)
        ]),
        _: 1
      }, 8, ["modelValue"])
    ]));
  }
}), index_vue_vue_type_style_index_0_scoped_1f7d33b9_lang = "", index = /* @__PURE__ */ _export_sfc$1(_sfc_main$1, [["__scopeId", "data-v-1f7d33b9"]]);
function commonjsRequire(i) {
  throw new Error('Could not dynamically require "' + i + '". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.');
}
var mqtt = { exports: {} };
(function(i, r) {
  (function(n) {
    i.exports = n();
  })(function() {
    return function() {
      function n(o, a, u) {
        function c(p, _) {
          if (!a[p]) {
            if (!o[p]) {
              var v = typeof commonjsRequire == "function" && commonjsRequire;
              if (!_ && v)
                return v(p, !0);
              if (d)
                return d(p, !0);
              var g = new Error("Cannot find module '" + p + "'");
              throw g.code = "MODULE_NOT_FOUND", g;
            }
            var y = a[p] = { exports: {} };
            o[p][0].call(y.exports, function(b) {
              var A = o[p][1][b];
              return c(A || b);
            }, y, y.exports, n, o, a, u);
          }
          return a[p].exports;
        }
        for (var d = typeof commonjsRequire == "function" && commonjsRequire, f = 0; f < u.length; f++)
          c(u[f]);
        return c;
      }
      return n;
    }()({ 1: [function(n, o, a) {
      var u = this && this.__importDefault || function(p) {
        return p && p.__esModule ? p : { default: p };
      };
      Object.defineProperty(a, "__esModule", { value: !0 }), a.TypedEventEmitter = void 0;
      const c = u(n("events")), d = n("./shared");
      class f {
      }
      a.TypedEventEmitter = f, (0, d.applyMixin)(f, c.default);
    }, { "./shared": 17, events: 49 }], 2: [function(n, o, a) {
      (function(u, c) {
        (function() {
          var d = this && this.__createBinding || (Object.create ? function(D, re, F, _e) {
            _e === void 0 && (_e = F);
            var ue = Object.getOwnPropertyDescriptor(re, F);
            (!ue || ("get" in ue ? !re.__esModule : ue.writable || ue.configurable)) && (ue = { enumerable: !0, get: function() {
              return re[F];
            } }), Object.defineProperty(D, _e, ue);
          } : function(D, re, F, _e) {
            _e === void 0 && (_e = F), D[_e] = re[F];
          }), f = this && this.__setModuleDefault || (Object.create ? function(D, re) {
            Object.defineProperty(D, "default", { enumerable: !0, value: re });
          } : function(D, re) {
            D.default = re;
          }), p = this && this.__importStar || function(D) {
            if (D && D.__esModule)
              return D;
            var re = {};
            if (D != null)
              for (var F in D)
                F !== "default" && Object.prototype.hasOwnProperty.call(D, F) && d(re, D, F);
            return f(re, D), re;
          }, _ = this && this.__importDefault || function(D) {
            return D && D.__esModule ? D : { default: D };
          };
          Object.defineProperty(a, "__esModule", { value: !0 });
          const v = _(n("./topic-alias-recv")), g = _(n("mqtt-packet")), y = _(n("./default-message-id-provider")), b = n("readable-stream"), A = _(n("reinterval")), w = _(n("rfdc/default")), S = p(n("./validations")), T = _(n("debug")), x = _(n("./store")), L = _(n("./handlers")), O = n("./TypedEmitter"), M = u ? u.nextTick : (D) => {
            setTimeout(D, 0);
          }, k = c.setImmediate || ((...D) => {
            const re = D.shift();
            M(() => {
              re(...D);
            });
          }), ie = {
            keepalive: 60,
            reschedulePings: !0,
            protocolId: "MQTT",
            protocolVersion: 4,
            reconnectPeriod: 1e3,
            connectTimeout: 30 * 1e3,
            clean: !0,
            resubscribe: !0,
            writeCache: !0
          }, $ = [
            "ECONNREFUSED",
            "EADDRINUSE",
            "ECONNRESET",
            "ENOTFOUND",
            "ETIMEDOUT"
          ];
          class Y extends O.TypedEventEmitter {
            static defaultId() {
              return `mqttjs_${Math.random().toString(16).substr(2, 8)}`;
            }
            constructor(re, F) {
              super(), this.options = F || {};
              for (const _e in ie)
                typeof this.options[_e] > "u" ? this.options[_e] = ie[_e] : this.options[_e] = F[_e];
              this.log = this.options.log || (0, T.default)("mqttjs:client"), this.noop = this._noop.bind(this), this.log("MqttClient :: options.protocol", F.protocol), this.log("MqttClient :: options.protocolVersion", F.protocolVersion), this.log("MqttClient :: options.username", F.username), this.log("MqttClient :: options.keepalive", F.keepalive), this.log("MqttClient :: options.reconnectPeriod", F.reconnectPeriod), this.log("MqttClient :: options.rejectUnauthorized", F.rejectUnauthorized), this.log("MqttClient :: options.properties.topicAliasMaximum", F.properties ? F.properties.topicAliasMaximum : void 0), this.options.clientId = typeof F.clientId == "string" ? F.clientId : Y.defaultId(), this.log("MqttClient :: clientId", this.options.clientId), this.options.customHandleAcks = F.protocolVersion === 5 && F.customHandleAcks ? F.customHandleAcks : (..._e) => {
                _e[3](null, 0);
              }, this.options.writeCache || (g.default.writeToStream.cacheNumbers = !1), this.streamBuilder = re, this.messageIdProvider = typeof this.options.messageIdProvider > "u" ? new y.default() : this.options.messageIdProvider, this.outgoingStore = F.outgoingStore || new x.default(), this.incomingStore = F.incomingStore || new x.default(), this.queueQoSZero = F.queueQoSZero === void 0 ? !0 : F.queueQoSZero, this._resubscribeTopics = {}, this.messageIdToTopic = {}, this.pingTimer = null, this.connected = !1, this.disconnecting = !1, this.reconnecting = !1, this.queue = [], this.connackTimer = null, this.reconnectTimer = null, this._storeProcessing = !1, this._packetIdsDuringStoreProcessing = {}, this._storeProcessingQueue = [], this.outgoing = {}, this._firstConnection = !0, F.properties && F.properties.topicAliasMaximum > 0 && (F.properties.topicAliasMaximum > 65535 ? this.log("MqttClient :: options.properties.topicAliasMaximum is out of range") : this.topicAliasRecv = new v.default(F.properties.topicAliasMaximum)), this.on("connect", () => {
                const { queue: _e } = this, ue = () => {
                  const Ie = _e.shift();
                  this.log("deliver :: entry %o", Ie);
                  let ze = null;
                  if (!Ie) {
                    this._resubscribe();
                    return;
                  }
                  ze = Ie.packet, this.log("deliver :: call _sendPacket for %o", ze);
                  let Fe = !0;
                  ze.messageId && ze.messageId !== 0 && (this.messageIdProvider.register(ze.messageId) || (Fe = !1)), Fe ? this._sendPacket(ze, (Oe) => {
                    Ie.cb && Ie.cb(Oe), ue();
                  }) : (this.log("messageId: %d has already used. The message is skipped and removed.", ze.messageId), ue());
                };
                this.log("connect :: sending queued packets"), ue();
              }), this.on("close", () => {
                this.log("close :: connected set to `false`"), this.connected = !1, this.log("close :: clearing connackTimer"), clearTimeout(this.connackTimer), this.log("close :: clearing ping timer"), this.pingTimer !== null && (this.pingTimer.clear(), this.pingTimer = null), this.topicAliasRecv && this.topicAliasRecv.clear(), this.log("close :: calling _setupReconnect"), this._setupReconnect();
              }), this.options.manualConnect || (this.log("MqttClient :: setting up stream"), this.connect());
            }
            handleAuth(re, F) {
              F();
            }
            handleMessage(re, F) {
              F();
            }
            _nextId() {
              return this.messageIdProvider.allocate();
            }
            getLastMessageId() {
              return this.messageIdProvider.getLastAllocated();
            }
            connect() {
              var re;
              const F = new b.Writable(), _e = g.default.parser(this.options);
              let ue = null;
              const Ie = [];
              this.log("connect :: calling method to clear reconnect"), this._clearReconnect(), this.log("connect :: using streamBuilder provided to client to create stream"), this.stream = this.streamBuilder(this), _e.on("packet", (pe) => {
                this.log("parser :: on packet push to packets array."), Ie.push(pe);
              });
              const ze = () => {
                this.log("work :: getting next packet in queue");
                const pe = Ie.shift();
                if (pe)
                  this.log("work :: packet pulled from queue"), (0, L.default)(this, pe, Fe);
                else {
                  this.log("work :: no packets in queue");
                  const Cn = ue;
                  ue = null, this.log("work :: done flag is %s", !!Cn), Cn && Cn();
                }
              }, Fe = () => {
                if (Ie.length)
                  M(ze);
                else {
                  const pe = ue;
                  ue = null, pe();
                }
              };
              F._write = (pe, Cn, In) => {
                ue = In, this.log("writable stream :: parsing buffer"), _e.parse(pe), ze();
              };
              const Oe = (pe) => {
                this.log("streamErrorHandler :: error", pe.message), $.includes(pe.code) ? (this.log("streamErrorHandler :: emitting error"), this.emit("error", pe)) : this.noop(pe);
              };
              this.log("connect :: pipe stream to writable stream"), this.stream.pipe(F), this.stream.on("error", Oe), this.stream.on("close", () => {
                this.log("(%s)stream :: on close", this.options.clientId), this._flushVolatile(), this.log("stream: emit close to MqttClient"), this.emit("close");
              }), this.log("connect: sending packet `connect`");
              const Lt = {
                cmd: "connect",
                protocolId: this.options.protocolId,
                protocolVersion: this.options.protocolVersion,
                clean: this.options.clean,
                clientId: this.options.clientId,
                keepalive: this.options.keepalive,
                username: this.options.username,
                password: this.options.password,
                properties: this.options.properties
              };
              if (this.options.will && (Lt.will = Object.assign(Object.assign({}, this.options.will), { payload: (re = this.options.will) === null || re === void 0 ? void 0 : re.payload })), this.topicAliasRecv && (Lt.properties || (Lt.properties = {}), this.topicAliasRecv && (Lt.properties.topicAliasMaximum = this.topicAliasRecv.max)), this._writePacket(Lt), _e.on("error", this.emit.bind(this, "error")), this.options.properties) {
                if (!this.options.properties.authenticationMethod && this.options.properties.authenticationData)
                  return this.end(() => this.emit("error", new Error("Packet has no Authentication Method"))), this;
                if (this.options.properties.authenticationMethod && this.options.authPacket && typeof this.options.authPacket == "object") {
                  const pe = Object.assign({ cmd: "auth", reasonCode: 0 }, this.options.authPacket);
                  this._writePacket(pe);
                }
              }
              return this.stream.setMaxListeners(1e3), clearTimeout(this.connackTimer), this.connackTimer = setTimeout(() => {
                this.log("!!connectTimeout hit!! Calling _cleanUp with force `true`"), this._cleanUp(!0);
              }, this.options.connectTimeout), this;
            }
            publish(re, F, _e, ue) {
              this.log("publish :: message `%s` to topic `%s`", F, re);
              const { options: Ie } = this;
              typeof _e == "function" && (ue = _e, _e = null), _e = _e || {}, _e = Object.assign(Object.assign({}, {
                qos: 0,
                retain: !1,
                dup: !1
              }), _e);
              const { qos: Fe, retain: Oe, dup: Lt, properties: pe, cbStorePut: Cn } = _e;
              if (this._checkDisconnecting(ue))
                return this;
              const In = () => {
                let Dt = 0;
                if ((Fe === 1 || Fe === 2) && (Dt = this._nextId(), Dt === null))
                  return this.log("No messageId left"), !1;
                const he = {
                  cmd: "publish",
                  topic: re,
                  payload: F,
                  qos: Fe,
                  retain: Oe,
                  messageId: Dt,
                  dup: Lt
                };
                switch (Ie.protocolVersion === 5 && (he.properties = pe), this.log("publish :: qos", Fe), Fe) {
                  case 1:
                  case 2:
                    this.outgoing[he.messageId] = {
                      volatile: !1,
                      cb: ue || this.noop
                    }, this.log("MqttClient:publish: packet cmd: %s", he.cmd), this._sendPacket(he, void 0, Cn);
                    break;
                  default:
                    this.log("MqttClient:publish: packet cmd: %s", he.cmd), this._sendPacket(he, ue, Cn);
                    break;
                }
                return !0;
              };
              return (this._storeProcessing || this._storeProcessingQueue.length > 0 || !In()) && this._storeProcessingQueue.push({
                invoke: In,
                cbStorePut: _e.cbStorePut,
                callback: ue
              }), this;
            }
            publishAsync(re, F, _e) {
              return new Promise((ue, Ie) => {
                this.publish(re, F, _e, (ze, Fe) => {
                  ze ? Ie(ze) : ue(Fe);
                });
              });
            }
            subscribe(re, F, _e) {
              const ue = this.options.protocolVersion;
              typeof F == "function" && (_e = F), _e = _e || this.noop;
              let Ie = !1, ze = [];
              typeof re == "string" ? (re = [re], ze = re) : Array.isArray(re) ? ze = re : typeof re == "object" && (Ie = re.resubscribe, delete re.resubscribe, ze = Object.keys(re));
              const Fe = S.validateTopics(ze);
              if (Fe !== null)
                return k(_e, new Error(`Invalid topic ${Fe}`)), this;
              if (this._checkDisconnecting(_e))
                return this.log("subscribe: discconecting true"), this;
              const Oe = {
                qos: 0
              };
              ue === 5 && (Oe.nl = !1, Oe.rap = !1, Oe.rh = 0), F = Object.assign(Object.assign({}, Oe), F);
              const Lt = F.properties, pe = [], Cn = (Dt, he) => {
                if (he = he || F, !Object.prototype.hasOwnProperty.call(this._resubscribeTopics, Dt) || this._resubscribeTopics[Dt].qos < he.qos || Ie) {
                  const Et = {
                    topic: Dt,
                    qos: he.qos
                  };
                  ue === 5 && (Et.nl = he.nl, Et.rap = he.rap, Et.rh = he.rh, Et.properties = Lt), this.log("subscribe: pushing topic `%s` and qos `%s` to subs list", Et.topic, Et.qos), pe.push(Et);
                }
              };
              if (Array.isArray(re) ? re.forEach((Dt) => {
                this.log("subscribe: array topic %s", Dt), Cn(Dt);
              }) : Object.keys(re).forEach((Dt) => {
                this.log("subscribe: object topic %s, %o", Dt, re[Dt]), Cn(Dt, re[Dt]);
              }), !pe.length)
                return _e(null, []), this;
              const In = () => {
                const Dt = this._nextId();
                if (Dt === null)
                  return this.log("No messageId left"), !1;
                const he = {
                  cmd: "subscribe",
                  subscriptions: pe,
                  messageId: Dt
                };
                if (Lt && (he.properties = Lt), this.options.resubscribe) {
                  this.log("subscribe :: resubscribe true");
                  const Et = [];
                  pe.forEach((hn) => {
                    if (this.options.reconnectPeriod > 0) {
                      const vn = { qos: hn.qos };
                      ue === 5 && (vn.nl = hn.nl || !1, vn.rap = hn.rap || !1, vn.rh = hn.rh || 0, vn.properties = hn.properties), this._resubscribeTopics[hn.topic] = vn, Et.push(hn.topic);
                    }
                  }), this.messageIdToTopic[he.messageId] = Et;
                }
                return this.outgoing[he.messageId] = {
                  volatile: !0,
                  cb(Et, hn) {
                    if (!Et) {
                      const { granted: vn } = hn;
                      for (let kt = 0; kt < vn.length; kt += 1)
                        pe[kt].qos = vn[kt];
                    }
                    _e(Et, pe);
                  }
                }, this.log("subscribe :: call _sendPacket"), this._sendPacket(he), !0;
              };
              return (this._storeProcessing || this._storeProcessingQueue.length > 0 || !In()) && this._storeProcessingQueue.push({
                invoke: In,
                callback: _e
              }), this;
            }
            subscribeAsync(re, F) {
              return new Promise((_e, ue) => {
                this.subscribe(re, F, (Ie, ze) => {
                  Ie ? ue(Ie) : _e(ze);
                });
              });
            }
            unsubscribe(re, F, _e) {
              typeof re == "string" && (re = [re]), typeof F == "function" && (_e = F), _e = _e || this.noop;
              const ue = S.validateTopics(re);
              if (ue !== null)
                return k(_e, new Error(`Invalid topic ${ue}`)), this;
              if (this._checkDisconnecting(_e))
                return this;
              const Ie = () => {
                const ze = this._nextId();
                if (ze === null)
                  return this.log("No messageId left"), !1;
                const Fe = {
                  cmd: "unsubscribe",
                  messageId: ze,
                  unsubscriptions: []
                };
                return typeof re == "string" ? Fe.unsubscriptions = [re] : Array.isArray(re) && (Fe.unsubscriptions = re), this.options.resubscribe && Fe.unsubscriptions.forEach((Oe) => {
                  delete this._resubscribeTopics[Oe];
                }), typeof F == "object" && F.properties && (Fe.properties = F.properties), this.outgoing[Fe.messageId] = {
                  volatile: !0,
                  cb: _e
                }, this.log("unsubscribe: call _sendPacket"), this._sendPacket(Fe), !0;
              };
              return (this._storeProcessing || this._storeProcessingQueue.length > 0 || !Ie()) && this._storeProcessingQueue.push({
                invoke: Ie,
                callback: _e
              }), this;
            }
            unsubscribeAsync(re, F) {
              return new Promise((_e, ue) => {
                this.unsubscribe(re, F, (Ie, ze) => {
                  Ie ? ue(Ie) : _e(ze);
                });
              });
            }
            end(re, F, _e) {
              this.log("end :: (%s)", this.options.clientId), (re == null || typeof re != "boolean") && (_e = _e || F, F = re, re = !1), typeof F != "object" && (_e = _e || F, F = null), this.log("end :: cb? %s", !!_e), (!_e || typeof _e != "function") && (_e = this.noop);
              const ue = () => {
                this.log("end :: closeStores: closing incoming and outgoing stores"), this.disconnected = !0, this.incomingStore.close((ze) => {
                  this.outgoingStore.close((Fe) => {
                    if (this.log("end :: closeStores: emitting end"), this.emit("end"), _e) {
                      const Oe = ze || Fe;
                      this.log("end :: closeStores: invoking callback with args"), _e(Oe);
                    }
                  });
                }), this._deferredReconnect && this._deferredReconnect();
              }, Ie = () => {
                this.log("end :: (%s) :: finish :: calling _cleanUp with force %s", this.options.clientId, re), this._cleanUp(re, () => {
                  this.log("end :: finish :: calling process.nextTick on closeStores"), M(ue);
                }, F);
              };
              return this.disconnecting ? (_e(), this) : (this._clearReconnect(), this.disconnecting = !0, !re && Object.keys(this.outgoing).length > 0 ? (this.log("end :: (%s) :: calling finish in 10ms once outgoing is empty", this.options.clientId), this.once("outgoingEmpty", setTimeout.bind(null, Ie, 10))) : (this.log("end :: (%s) :: immediately calling finish", this.options.clientId), Ie()), this);
            }
            endAsync(re, F) {
              return new Promise((_e, ue) => {
                this.end(re, F, (Ie) => {
                  Ie ? ue(Ie) : _e();
                });
              });
            }
            removeOutgoingMessage(re) {
              if (this.outgoing[re]) {
                const { cb: F } = this.outgoing[re];
                this._removeOutgoingAndStoreMessage(re, () => {
                  F(new Error("Message removed"));
                });
              }
              return this;
            }
            reconnect(re) {
              this.log("client reconnect");
              const F = () => {
                re ? (this.options.incomingStore = re.incomingStore, this.options.outgoingStore = re.outgoingStore) : (this.options.incomingStore = null, this.options.outgoingStore = null), this.incomingStore = this.options.incomingStore || new x.default(), this.outgoingStore = this.options.outgoingStore || new x.default(), this.disconnecting = !1, this.disconnected = !1, this._deferredReconnect = null, this._reconnect();
              };
              return this.disconnecting && !this.disconnected ? this._deferredReconnect = F : F(), this;
            }
            _flushVolatile() {
              this.outgoing && (this.log("_flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"), Object.keys(this.outgoing).forEach((re) => {
                this.outgoing[re].volatile && typeof this.outgoing[re].cb == "function" && (this.outgoing[re].cb(new Error("Connection closed")), delete this.outgoing[re]);
              }));
            }
            _flush() {
              this.outgoing && (this.log("_flush: queue exists? %b", !!this.outgoing), Object.keys(this.outgoing).forEach((re) => {
                typeof this.outgoing[re].cb == "function" && (this.outgoing[re].cb(new Error("Connection closed")), delete this.outgoing[re]);
              }));
            }
            _removeTopicAliasAndRecoverTopicName(re) {
              let F;
              re.properties && (F = re.properties.topicAlias);
              let _e = re.topic.toString();
              if (this.log("_removeTopicAliasAndRecoverTopicName :: alias %d, topic %o", F, _e), _e.length === 0) {
                if (typeof F > "u")
                  return new Error("Unregistered Topic Alias");
                if (_e = this.topicAliasSend.getTopicByAlias(F), typeof _e > "u")
                  return new Error("Unregistered Topic Alias");
                re.topic = _e;
              }
              F && delete re.properties.topicAlias;
            }
            _checkDisconnecting(re) {
              return this.disconnecting && (re && re !== this.noop ? re(new Error("client disconnecting")) : this.emit("error", new Error("client disconnecting"))), this.disconnecting;
            }
            _reconnect() {
              this.log("_reconnect: emitting reconnect to client"), this.emit("reconnect"), this.connected ? (this.end(() => {
                this.connect();
              }), this.log("client already connected. disconnecting first.")) : (this.log("_reconnect: calling connect"), this.connect());
            }
            _setupReconnect() {
              !this.disconnecting && !this.reconnectTimer && this.options.reconnectPeriod > 0 ? (this.reconnecting || (this.log("_setupReconnect :: emit `offline` state"), this.emit("offline"), this.log("_setupReconnect :: set `reconnecting` to `true`"), this.reconnecting = !0), this.log("_setupReconnect :: setting reconnectTimer for %d ms", this.options.reconnectPeriod), this.reconnectTimer = setInterval(() => {
                this.log("reconnectTimer :: reconnect triggered!"), this._reconnect();
              }, this.options.reconnectPeriod)) : this.log("_setupReconnect :: doing nothing...");
            }
            _clearReconnect() {
              this.log("_clearReconnect : clearing reconnect timer"), this.reconnectTimer && (clearInterval(this.reconnectTimer), this.reconnectTimer = null);
            }
            _cleanUp(re, F, _e = {}) {
              if (F && (this.log("_cleanUp :: done callback provided for on stream close"), this.stream.on("close", F)), this.log("_cleanUp :: forced? %s", re), re)
                this.options.reconnectPeriod === 0 && this.options.clean && this._flush(), this.log("_cleanUp :: (%s) :: destroying stream", this.options.clientId), this.stream.destroy();
              else {
                const ue = Object.assign({ cmd: "disconnect" }, _e);
                this.log("_cleanUp :: (%s) :: call _sendPacket with disconnect packet", this.options.clientId), this._sendPacket(ue, () => {
                  this.log("_cleanUp :: (%s) :: destroying stream", this.options.clientId), k(() => {
                    this.stream.end(() => {
                      this.log("_cleanUp :: (%s) :: stream destroyed", this.options.clientId);
                    });
                  });
                });
              }
              this.disconnecting || (this.log("_cleanUp :: client not disconnecting. Clearing and resetting reconnect."), this._clearReconnect(), this._setupReconnect()), this.pingTimer !== null && (this.log("_cleanUp :: clearing pingTimer"), this.pingTimer.clear(), this.pingTimer = null), F && !this.connected && (this.log("_cleanUp :: (%s) :: removing stream `done` callback `close` listener", this.options.clientId), this.stream.removeListener("close", F), F());
            }
            _storeAndSend(re, F, _e) {
              this.log("storeAndSend :: store packet with cmd %s to outgoingStore", re.cmd);
              let ue = re, Ie;
              if (ue.cmd === "publish" && (ue = (0, w.default)(re), Ie = this._removeTopicAliasAndRecoverTopicName(ue), Ie))
                return F && F(Ie);
              this.outgoingStore.put(ue, (ze) => {
                if (ze)
                  return F && F(ze);
                _e(), this._writePacket(re, F);
              });
            }
            _applyTopicAlias(re) {
              if (this.options.protocolVersion === 5 && re.cmd === "publish") {
                let F;
                re.properties && (F = re.properties.topicAlias);
                const _e = re.topic.toString();
                if (this.topicAliasSend)
                  if (F) {
                    if (_e.length !== 0 && (this.log("applyTopicAlias :: register topic: %s - alias: %d", _e, F), !this.topicAliasSend.put(_e, F)))
                      return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d", _e, F), new Error("Sending Topic Alias out of range");
                  } else
                    _e.length !== 0 && (this.options.autoAssignTopicAlias ? (F = this.topicAliasSend.getAliasByTopic(_e), F ? (re.topic = "", re.properties = Object.assign(Object.assign({}, re.properties), { topicAlias: F }), this.log("applyTopicAlias :: auto assign(use) topic: %s - alias: %d", _e, F)) : (F = this.topicAliasSend.getLruAlias(), this.topicAliasSend.put(_e, F), re.properties = Object.assign(Object.assign({}, re.properties), { topicAlias: F }), this.log("applyTopicAlias :: auto assign topic: %s - alias: %d", _e, F))) : this.options.autoUseTopicAlias && (F = this.topicAliasSend.getAliasByTopic(_e), F && (re.topic = "", re.properties = Object.assign(Object.assign({}, re.properties), { topicAlias: F }), this.log("applyTopicAlias :: auto use topic: %s - alias: %d", _e, F))));
                else if (F)
                  return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d", _e, F), new Error("Sending Topic Alias out of range");
              }
            }
            _noop(re) {
              this.log("noop ::", re);
            }
            _writePacket(re, F) {
              this.log("_writePacket :: packet: %O", re), this.log("_writePacket :: emitting `packetsend`"), this.emit("packetsend", re), this._shiftPingInterval(), this.log("_writePacket :: writing to stream");
              const _e = g.default.writeToStream(re, this.stream, this.options);
              this.log("_writePacket :: writeToStream result %s", _e), !_e && F && F !== this.noop ? (this.log("_writePacket :: handle events on `drain` once through callback."), this.stream.once("drain", F)) : F && (this.log("_writePacket :: invoking cb"), F());
            }
            _sendPacket(re, F, _e, ue) {
              this.log("_sendPacket :: (%s) ::  start", this.options.clientId), _e = _e || this.noop, F = F || this.noop;
              const Ie = this._applyTopicAlias(re);
              if (Ie) {
                F(Ie);
                return;
              }
              if (!this.connected) {
                if (re.cmd === "auth") {
                  this._writePacket(re, F);
                  return;
                }
                this.log("_sendPacket :: client not connected. Storing packet offline."), this._storePacket(re, F, _e);
                return;
              }
              if (ue) {
                this._writePacket(re, F);
                return;
              }
              switch (re.cmd) {
                case "publish":
                  break;
                case "pubrel":
                  this._storeAndSend(re, F, _e);
                  return;
                default:
                  this._writePacket(re, F);
                  return;
              }
              switch (re.qos) {
                case 2:
                case 1:
                  this._storeAndSend(re, F, _e);
                  break;
                case 0:
                default:
                  this._writePacket(re, F);
                  break;
              }
              this.log("_sendPacket :: (%s) ::  end", this.options.clientId);
            }
            _storePacket(re, F, _e) {
              this.log("_storePacket :: packet: %o", re), this.log("_storePacket :: cb? %s", !!F), _e = _e || this.noop;
              let ue = re;
              if (ue.cmd === "publish") {
                ue = (0, w.default)(re);
                const ze = this._removeTopicAliasAndRecoverTopicName(ue);
                if (ze)
                  return F && F(ze);
              }
              const Ie = ue.qos || 0;
              Ie === 0 && this.queueQoSZero || ue.cmd !== "publish" ? this.queue.push({ packet: ue, cb: F }) : Ie > 0 ? (F = this.outgoing[ue.messageId] ? this.outgoing[ue.messageId].cb : null, this.outgoingStore.put(ue, (ze) => {
                if (ze)
                  return F && F(ze);
                _e();
              })) : F && F(new Error("No connection to broker"));
            }
            _setupPingTimer() {
              this.log("_setupPingTimer :: keepalive %d (seconds)", this.options.keepalive), !this.pingTimer && this.options.keepalive && (this.pingResp = !0, this.pingTimer = (0, A.default)(() => {
                this._checkPing();
              }, this.options.keepalive * 1e3));
            }
            _shiftPingInterval() {
              this.pingTimer && this.options.keepalive && this.options.reschedulePings && this.pingTimer.reschedule(this.options.keepalive * 1e3);
            }
            _checkPing() {
              this.log("_checkPing :: checking ping..."), this.pingResp ? (this.log("_checkPing :: ping response received. Clearing flag and sending `pingreq`"), this.pingResp = !1, this._sendPacket({ cmd: "pingreq" })) : (this.log("_checkPing :: calling _cleanUp with force true"), this._cleanUp(!0));
            }
            _resubscribe() {
              this.log("_resubscribe");
              const re = Object.keys(this._resubscribeTopics);
              if (!this._firstConnection && (this.options.clean || this.options.protocolVersion >= 4 && !this.connackPacket.sessionPresent) && re.length > 0)
                if (this.options.resubscribe)
                  if (this.options.protocolVersion === 5) {
                    this.log("_resubscribe: protocolVersion 5");
                    for (let F = 0; F < re.length; F++) {
                      const _e = {};
                      _e[re[F]] = this._resubscribeTopics[re[F]], _e.resubscribe = !0, this.subscribe(_e, {
                        properties: _e[re[F]].properties
                      });
                    }
                  } else
                    this._resubscribeTopics.resubscribe = !0, this.subscribe(this._resubscribeTopics);
                else
                  this._resubscribeTopics = {};
              this._firstConnection = !1;
            }
            _onConnect(re) {
              if (this.disconnected) {
                this.emit("connect", re);
                return;
              }
              this.connackPacket = re, this.messageIdProvider.clear(), this._setupPingTimer(), this.connected = !0;
              const F = () => {
                let _e = this.outgoingStore.createStream();
                const ue = () => {
                  _e.destroy(), _e = null, this._flushStoreProcessingQueue(), Ie();
                }, Ie = () => {
                  this._storeProcessing = !1, this._packetIdsDuringStoreProcessing = {};
                };
                this.once("close", ue), _e.on("error", (Fe) => {
                  Ie(), this._flushStoreProcessingQueue(), this.removeListener("close", ue), this.emit("error", Fe);
                });
                const ze = () => {
                  if (!_e)
                    return;
                  const Fe = _e.read(1);
                  let Oe;
                  if (!Fe) {
                    _e.once("readable", ze);
                    return;
                  }
                  if (this._storeProcessing = !0, this._packetIdsDuringStoreProcessing[Fe.messageId]) {
                    ze();
                    return;
                  }
                  !this.disconnecting && !this.reconnectTimer ? (Oe = this.outgoing[Fe.messageId] ? this.outgoing[Fe.messageId].cb : null, this.outgoing[Fe.messageId] = {
                    volatile: !1,
                    cb(Lt, pe) {
                      Oe && Oe(Lt, pe), ze();
                    }
                  }, this._packetIdsDuringStoreProcessing[Fe.messageId] = !0, this.messageIdProvider.register(Fe.messageId) ? this._sendPacket(Fe, void 0, void 0, !0) : this.log("messageId: %d has already used.", Fe.messageId)) : _e.destroy && _e.destroy();
                };
                _e.on("end", () => {
                  let Fe = !0;
                  for (const Oe in this._packetIdsDuringStoreProcessing)
                    if (!this._packetIdsDuringStoreProcessing[Oe]) {
                      Fe = !1;
                      break;
                    }
                  Fe ? (Ie(), this.removeListener("close", ue), this._invokeAllStoreProcessingQueue(), this.emit("connect", re)) : F();
                }), ze();
              };
              F();
            }
            _invokeStoreProcessingQueue() {
              if (!this._storeProcessing && this._storeProcessingQueue.length > 0) {
                const re = this._storeProcessingQueue[0];
                if (re && re.invoke())
                  return this._storeProcessingQueue.shift(), !0;
              }
              return !1;
            }
            _invokeAllStoreProcessingQueue() {
              for (; this._invokeStoreProcessingQueue(); )
                ;
            }
            _flushStoreProcessingQueue() {
              for (const re of this._storeProcessingQueue)
                re.cbStorePut && re.cbStorePut(new Error("Connection closed")), re.callback && re.callback(new Error("Connection closed"));
              this._storeProcessingQueue.splice(0);
            }
            _removeOutgoingAndStoreMessage(re, F) {
              delete this.outgoing[re], this.outgoingStore.del({ messageId: re }, (_e, ue) => {
                F(_e, ue), this.messageIdProvider.deallocate(re), this._invokeStoreProcessingQueue();
              });
            }
          }
          a.default = Y;
        }).call(this);
      }).call(this, n("_process"), typeof commonjsGlobal < "u" ? commonjsGlobal : typeof self < "u" ? self : typeof window < "u" ? window : {});
    }, { "./TypedEmitter": 1, "./default-message-id-provider": 9, "./handlers": 13, "./store": 18, "./topic-alias-recv": 19, "./validations": 22, _process: 102, debug: 30, "mqtt-packet": 75, "readable-stream": 125, reinterval: 131, "rfdc/default": 132 }], 3: [function(n, o, a) {
      var u = this && this.__importDefault || function(T) {
        return T && T.__esModule ? T : { default: T };
      };
      Object.defineProperty(a, "__esModule", { value: !0 });
      const c = n("buffer"), d = n("readable-stream"), f = u(n("duplexify"));
      let p, _, v, g = !1;
      function y() {
        const T = new d.Transform();
        return T._write = (x, L, O) => {
          p.sendSocketMessage({
            data: x.buffer,
            success() {
              O();
            },
            fail() {
              O(new Error());
            }
          });
        }, T._flush = (x) => {
          p.closeSocket({
            success() {
              x();
            }
          });
        }, T;
      }
      function b(T) {
        T.hostname || (T.hostname = "localhost"), T.path || (T.path = "/"), T.wsOptions || (T.wsOptions = {});
      }
      function A(T, x) {
        const L = T.protocol === "alis" ? "wss" : "ws";
        let O = `${L}://${T.hostname}${T.path}`;
        return T.port && T.port !== 80 && T.port !== 443 && (O = `${L}://${T.hostname}:${T.port}${T.path}`), typeof T.transformWsUrl == "function" && (O = T.transformWsUrl(O, T, x)), O;
      }
      function w() {
        g || (g = !0, p.onSocketOpen(() => {
          v.setReadable(_), v.setWritable(_), v.emit("connect");
        }), p.onSocketMessage((T) => {
          if (typeof T.data == "string") {
            const x = c.Buffer.from(T.data, "base64");
            _.push(x);
          } else {
            const x = new FileReader();
            x.addEventListener("load", () => {
              let L = x.result;
              L instanceof ArrayBuffer ? L = c.Buffer.from(L) : L = c.Buffer.from(L, "utf8"), _.push(L);
            }), x.readAsArrayBuffer(T.data);
          }
        }), p.onSocketClose(() => {
          v.end(), v.destroy();
        }), p.onSocketError((T) => {
          v.destroy(T);
        }));
      }
      const S = (T, x) => {
        if (x.hostname = x.hostname || x.host, !x.hostname)
          throw new Error("Could not determine host. Specify host manually.");
        const L = x.protocolId === "MQIsdp" && x.protocolVersion === 3 ? "mqttv3.1" : "mqtt";
        b(x);
        const O = A(x, T);
        return p = x.my, p.connectSocket({
          url: O,
          protocols: L
        }), _ = y(), v = f.default.obj(), w(), v;
      };
      a.default = S;
    }, { buffer: 29, duplexify: 32, "readable-stream": 125 }], 4: [function(n, o, a) {
      var u = this && this.__importDefault || function(A) {
        return A && A.__esModule ? A : { default: A };
      };
      Object.defineProperty(a, "__esModule", { value: !0 }), a.connectAsync = void 0;
      const c = u(n("debug")), d = u(n("url")), f = u(n("../client")), p = u(n("../is-browser")), _ = (0, c.default)("mqttjs"), v = {};
      p.default ? (v.wx = n("./wx").default, v.wxs = n("./wx").default, v.ali = n("./ali").default, v.alis = n("./ali").default) : (v.mqtt = n("./tcp").default, v.tcp = n("./tcp").default, v.ssl = n("./tls").default, v.tls = v.ssl, v.mqtts = n("./tls").default), v.ws = n("./ws").default, v.wss = n("./ws").default;
      function g(A) {
        let w;
        A.auth && (w = A.auth.match(/^(.+):(.+)$/), w ? (A.username = w[1], A.password = w[2]) : A.username = A.auth);
      }
      function y(A, w) {
        if (_("connecting to an MQTT broker..."), typeof A == "object" && !w && (w = A, A = ""), w = w || {}, A && typeof A == "string") {
          const x = d.default.parse(A, !0);
          if (x.port != null && (x.port = Number(x.port)), w = Object.assign(Object.assign({}, x), w), w.protocol === null)
            throw new Error("Missing protocol");
          w.protocol = w.protocol.replace(/:$/, "");
        }
        if (g(w), w.query && typeof w.query.clientId == "string" && (w.clientId = w.query.clientId), w.cert && w.key)
          if (w.protocol) {
            if (["mqtts", "wss", "wxs", "alis"].indexOf(w.protocol) === -1)
              switch (w.protocol) {
                case "mqtt":
                  w.protocol = "mqtts";
                  break;
                case "ws":
                  w.protocol = "wss";
                  break;
                case "wx":
                  w.protocol = "wxs";
                  break;
                case "ali":
                  w.protocol = "alis";
                  break;
                default:
                  throw new Error(`Unknown protocol for secure connection: "${w.protocol}"!`);
              }
          } else
            throw new Error("Missing secure protocol key");
        if (!v[w.protocol]) {
          const x = ["mqtts", "wss"].indexOf(w.protocol) !== -1;
          w.protocol = [
            "mqtt",
            "mqtts",
            "ws",
            "wss",
            "wx",
            "wxs",
            "ali",
            "alis"
          ].filter((L, O) => x && O % 2 === 0 ? !1 : typeof v[L] == "function")[0];
        }
        if (w.clean === !1 && !w.clientId)
          throw new Error("Missing clientId for unclean clients");
        w.protocol && (w.defaultProtocol = w.protocol);
        function S(x) {
          return w.servers && ((!x._reconnectCount || x._reconnectCount === w.servers.length) && (x._reconnectCount = 0), w.host = w.servers[x._reconnectCount].host, w.port = w.servers[x._reconnectCount].port, w.protocol = w.servers[x._reconnectCount].protocol ? w.servers[x._reconnectCount].protocol : w.defaultProtocol, w.hostname = w.host, x._reconnectCount++), _("calling streambuilder for", w.protocol), v[w.protocol](x, w);
        }
        const T = new f.default(S, w);
        return T.on("error", () => {
        }), T;
      }
      function b(A, w, S = !0) {
        return new Promise((T, x) => {
          const L = y(A, w), O = {
            connect: (k) => {
              M(), T(L);
            },
            end: () => {
              M(), T(L);
            },
            error: (k) => {
              M(), L.end(), x(k);
            }
          };
          S === !1 && (O.close = () => {
            O.error(new Error("Couldn't connect to server"));
          });
          function M() {
            Object.keys(O).forEach((k) => {
              L.off(k, O[k]);
            });
          }
          Object.keys(O).forEach((k) => {
            L.on(k, O[k]);
          });
        });
      }
      a.connectAsync = b, a.default = y;
    }, { "../client": 2, "../is-browser": 16, "./ali": 3, "./tcp": 5, "./tls": 6, "./ws": 7, "./wx": 8, debug: 30, url: 137 }], 5: [function(n, o, a) {
      var u = this && this.__importDefault || function(_) {
        return _ && _.__esModule ? _ : { default: _ };
      };
      Object.defineProperty(a, "__esModule", { value: !0 });
      const c = u(n("net")), f = (0, u(n("debug")).default)("mqttjs:tcp"), p = (_, v) => {
        v.port = v.port || 1883, v.hostname = v.hostname || v.host || "localhost";
        const { port: g } = v, y = v.hostname;
        return f("port %d and host %s", g, y), c.default.createConnection(g, y);
      };
      a.default = p;
    }, { debug: 30, net: 26 }], 6: [function(n, o, a) {
      var u = this && this.__importDefault || function(v) {
        return v && v.__esModule ? v : { default: v };
      };
      Object.defineProperty(a, "__esModule", { value: !0 });
      const c = u(n("tls")), d = u(n("net")), p = (0, u(n("debug")).default)("mqttjs:tls"), _ = (v, g) => {
        g.port = g.port || 8883, g.host = g.hostname || g.host || "localhost", d.default.isIP(g.host) === 0 && (g.servername = g.host), g.rejectUnauthorized = g.rejectUnauthorized !== !1, delete g.path, p("port %d host %s rejectUnauthorized %b", g.port, g.host, g.rejectUnauthorized);
        const y = c.default.connect(g);
        y.on("secureConnect", () => {
          g.rejectUnauthorized && !y.authorized ? y.emit("error", new Error("TLS not authorized")) : y.removeListener("error", b);
        });
        function b(A) {
          g.rejectUnauthorized && v.emit("error", A), y.end();
        }
        return y.on("error", b), y;
      };
      a.default = _;
    }, { debug: 30, net: 26, tls: 26 }], 7: [function(n, o, a) {
      var u = this && this.__importDefault || function(O) {
        return O && O.__esModule ? O : { default: O };
      };
      Object.defineProperty(a, "__esModule", { value: !0 });
      const c = n("buffer"), d = u(n("ws")), f = u(n("debug")), p = u(n("duplexify")), _ = n("readable-stream"), v = u(n("../is-browser")), g = (0, f.default)("mqttjs:ws"), y = [
        "rejectUnauthorized",
        "ca",
        "cert",
        "key",
        "pfx",
        "passphrase"
      ];
      function b(O, M) {
        let k = `${O.protocol}://${O.hostname}:${O.port}${O.path}`;
        return typeof O.transformWsUrl == "function" && (k = O.transformWsUrl(k, O, M)), k;
      }
      function A(O) {
        const M = O;
        return O.hostname || (M.hostname = "localhost"), O.port || (O.protocol === "wss" ? M.port = 443 : M.port = 80), O.path || (M.path = "/"), O.wsOptions || (M.wsOptions = {}), !v.default && O.protocol === "wss" && y.forEach((k) => {
          Object.prototype.hasOwnProperty.call(O, k) && !Object.prototype.hasOwnProperty.call(O.wsOptions, k) && (M.wsOptions[k] = O[k]);
        }), M;
      }
      function w(O) {
        const M = A(O);
        if (M.hostname || (M.hostname = M.host), !M.hostname) {
          if (typeof document > "u")
            throw new Error("Could not determine host. Specify host manually.");
          const k = new URL(document.URL);
          M.hostname = k.hostname, M.port || (M.port = Number(k.port));
        }
        return M.objectMode === void 0 && (M.objectMode = !(M.binary === !0 || M.binary === void 0)), M;
      }
      function S(O, M, k) {
        g("createWebSocket"), g(`protocol: ${k.protocolId} ${k.protocolVersion}`);
        const ie = k.protocolId === "MQIsdp" && k.protocolVersion === 3 ? "mqttv3.1" : "mqtt";
        g(`creating new Websocket for url: ${M} and protocol: ${ie}`);
        let $;
        return k.createWebsocket ? $ = k.createWebsocket(M, [ie], k) : $ = new d.default(M, [ie], k.wsOptions), $;
      }
      function T(O, M) {
        const k = M.protocolId === "MQIsdp" && M.protocolVersion === 3 ? "mqttv3.1" : "mqtt", ie = b(M, O);
        let $;
        return M.createWebsocket ? $ = M.createWebsocket(ie, [k], M) : $ = new WebSocket(ie, [k]), $.binaryType = "arraybuffer", $;
      }
      const x = (O, M) => {
        g("streamBuilder");
        const k = A(M), ie = b(k, O), $ = S(O, ie, k), Y = d.default.createWebSocketStream($, k.wsOptions);
        return Y.url = ie, $.on("close", () => {
          Y.destroy();
        }), Y;
      }, L = (O, M) => {
        g("browserStreamBuilder");
        let k;
        const $ = w(M).browserBufferSize || 1024 * 512, Y = M.browserBufferTimeout || 1e3, D = !M.objectMode, re = T(O, M), F = ue(M, pe, Cn);
        M.objectMode || (F._writev = Lt), F.on("close", () => {
          re.close();
        });
        const _e = typeof re.addEventListener < "u";
        re.readyState === re.OPEN ? k = F : (k = (0, p.default)(void 0, void 0, M), M.objectMode || (k._writev = Lt), _e ? re.addEventListener("open", Ie) : re.onopen = Ie), k.socket = re, _e ? (re.addEventListener("close", ze), re.addEventListener("error", Fe), re.addEventListener("message", Oe)) : (re.onclose = ze, re.onerror = Fe, re.onmessage = Oe);
        function ue(In, Dt, he) {
          const Et = new _.Transform({
            objectMode: In.objectMode
          });
          return Et._write = Dt, Et._flush = he, Et;
        }
        function Ie() {
          k.setReadable(F), k.setWritable(F), k.emit("connect");
        }
        function ze() {
          k.end(), k.destroy();
        }
        function Fe(In) {
          k.destroy(In);
        }
        function Oe(In) {
          let { data: Dt } = In;
          Dt instanceof ArrayBuffer ? Dt = c.Buffer.from(Dt) : Dt = c.Buffer.from(Dt, "utf8"), F.push(Dt);
        }
        function Lt(In, Dt) {
          const he = new Array(In.length);
          for (let Et = 0; Et < In.length; Et++)
            typeof In[Et].chunk == "string" ? he[Et] = c.Buffer.from(In[Et], "utf8") : he[Et] = In[Et].chunk;
          this._write(c.Buffer.concat(he), "binary", Dt);
        }
        function pe(In, Dt, he) {
          re.bufferedAmount > $ && setTimeout(pe, Y, In, Dt, he), D && typeof In == "string" && (In = c.Buffer.from(In, "utf8"));
          try {
            re.send(In);
          } catch (Et) {
            return he(Et);
          }
          he();
        }
        function Cn(In) {
          re.close(), In();
        }
        return k;
      };
      a.default = v.default ? L : x;
    }, { "../is-browser": 16, buffer: 29, debug: 30, duplexify: 32, "readable-stream": 125, ws: 141 }], 8: [function(n, o, a) {
      var u = this && this.__importDefault || function(S) {
        return S && S.__esModule ? S : { default: S };
      };
      Object.defineProperty(a, "__esModule", { value: !0 });
      const c = n("buffer"), d = n("readable-stream"), f = u(n("duplexify"));
      let p, _, v;
      function g() {
        const S = new d.Transform();
        return S._write = (T, x, L) => {
          p.send({
            data: T.buffer,
            success() {
              L();
            },
            fail(O) {
              L(new Error(O));
            }
          });
        }, S._flush = (T) => {
          p.close({
            success() {
              T();
            }
          });
        }, S;
      }
      function y(S) {
        S.hostname || (S.hostname = "localhost"), S.path || (S.path = "/"), S.wsOptions || (S.wsOptions = {});
      }
      function b(S, T) {
        const x = S.protocol === "wxs" ? "wss" : "ws";
        let L = `${x}://${S.hostname}${S.path}`;
        return S.port && S.port !== 80 && S.port !== 443 && (L = `${x}://${S.hostname}:${S.port}${S.path}`), typeof S.transformWsUrl == "function" && (L = S.transformWsUrl(L, S, T)), L;
      }
      function A() {
        p.onOpen(() => {
          v.setReadable(_), v.setWritable(_), v.emit("connect");
        }), p.onMessage((S) => {
          let { data: T } = S;
          T instanceof ArrayBuffer ? T = c.Buffer.from(T) : T = c.Buffer.from(T, "utf8"), _.push(T);
        }), p.onClose(() => {
          v.emit("close"), v.end(), v.destroy();
        }), p.onError((S) => {
          v.destroy(new Error(S.errMsg));
        });
      }
      const w = (S, T) => {
        if (T.hostname = T.hostname || T.host, !T.hostname)
          throw new Error("Could not determine host. Specify host manually.");
        const x = T.protocolId === "MQIsdp" && T.protocolVersion === 3 ? "mqttv3.1" : "mqtt";
        y(T);
        const L = b(T, S);
        p = wx.connectSocket({
          url: L,
          protocols: [x]
        }), _ = g(), v = f.default.obj(), v._destroy = (M, k) => {
          p.close({
            success() {
              k && k(M);
            }
          });
        };
        const O = v.destroy;
        return v.destroy = () => {
          v.destroy = O, setTimeout(() => {
            p.close({
              fail() {
                v._destroy(new Error());
              }
            });
          }, 0);
        }, A(), v;
      };
      a.default = w;
    }, { buffer: 29, duplexify: 32, "readable-stream": 125 }], 9: [function(n, o, a) {
      Object.defineProperty(a, "__esModule", { value: !0 });
      class u {
        constructor() {
          this.nextId = Math.max(1, Math.floor(Math.random() * 65535));
        }
        allocate() {
          const d = this.nextId++;
          return this.nextId === 65536 && (this.nextId = 1), d;
        }
        getLastAllocated() {
          return this.nextId === 1 ? 65535 : this.nextId - 1;
        }
        register(d) {
          return !0;
        }
        deallocate(d) {
        }
        clear() {
        }
      }
      a.default = u;
    }, {}], 10: [function(n, o, a) {
      Object.defineProperty(a, "__esModule", { value: !0 }), a.ReasonCodes = void 0, a.ReasonCodes = {
        0: "",
        1: "Unacceptable protocol version",
        2: "Identifier rejected",
        3: "Server unavailable",
        4: "Bad username or password",
        5: "Not authorized",
        16: "No matching subscribers",
        17: "No subscription existed",
        128: "Unspecified error",
        129: "Malformed Packet",
        130: "Protocol Error",
        131: "Implementation specific error",
        132: "Unsupported Protocol Version",
        133: "Client Identifier not valid",
        134: "Bad User Name or Password",
        135: "Not authorized",
        136: "Server unavailable",
        137: "Server busy",
        138: "Banned",
        139: "Server shutting down",
        140: "Bad authentication method",
        141: "Keep Alive timeout",
        142: "Session taken over",
        143: "Topic Filter invalid",
        144: "Topic Name invalid",
        145: "Packet identifier in use",
        146: "Packet Identifier not found",
        147: "Receive Maximum exceeded",
        148: "Topic Alias invalid",
        149: "Packet too large",
        150: "Message rate too high",
        151: "Quota exceeded",
        152: "Administrative action",
        153: "Payload format invalid",
        154: "Retain not supported",
        155: "QoS not supported",
        156: "Use another server",
        157: "Server moved",
        158: "Shared Subscriptions not supported",
        159: "Connection rate exceeded",
        160: "Maximum connect time",
        161: "Subscription Identifiers not supported",
        162: "Wildcard Subscriptions not supported"
      };
      const u = (c, d) => {
        const { messageId: f } = d, p = d.cmd;
        let _ = null;
        const v = c.outgoing[f] ? c.outgoing[f].cb : null;
        let g;
        if (!v) {
          c.log("_handleAck :: Server sent an ack in error. Ignoring.");
          return;
        }
        switch (c.log("_handleAck :: packet type", p), p) {
          case "pubcomp":
          case "puback": {
            const y = d.reasonCode;
            y && y > 0 && y !== 16 ? (g = new Error(`Publish error: ${a.ReasonCodes[y]}`), g.code = y, c._removeOutgoingAndStoreMessage(f, () => {
              v(g, d);
            })) : c._removeOutgoingAndStoreMessage(f, v);
            break;
          }
          case "pubrec": {
            _ = {
              cmd: "pubrel",
              qos: 2,
              messageId: f
            };
            const y = d.reasonCode;
            y && y > 0 && y !== 16 ? (g = new Error(`Publish error: ${a.ReasonCodes[y]}`), g.code = y, c._removeOutgoingAndStoreMessage(f, () => {
              v(g, d);
            })) : c._sendPacket(_);
            break;
          }
          case "suback": {
            delete c.outgoing[f], c.messageIdProvider.deallocate(f);
            const y = d.granted;
            for (let b = 0; b < y.length; b++)
              if (y[b] & 128) {
                const A = c.messageIdToTopic[f];
                A && A.forEach((w) => {
                  delete c._resubscribeTopics[w];
                });
              }
            delete c.messageIdToTopic[f], c._invokeStoreProcessingQueue(), v(null, d);
            break;
          }
          case "unsuback": {
            delete c.outgoing[f], c.messageIdProvider.deallocate(f), c._invokeStoreProcessingQueue(), v(null);
            break;
          }
          default:
            c.emit("error", new Error("unrecognized packet type"));
        }
        c.disconnecting && Object.keys(c.outgoing).length === 0 && c.emit("outgoingEmpty");
      };
      a.default = u;
    }, {}], 11: [function(n, o, a) {
      Object.defineProperty(a, "__esModule", { value: !0 });
      const u = n("../shared"), c = n("./ack"), d = (f, p) => {
        const { options: _ } = f, v = _.protocolVersion, g = v === 5 ? p.reasonCode : p.returnCode;
        if (v !== 5) {
          const y = new u.ErrorWithReasonCode(`Protocol error: Auth packets are only supported in MQTT 5. Your version:${v}`, g);
          f.emit("error", y);
          return;
        }
        f.handleAuth(p, (y, b) => {
          if (y) {
            f.emit("error", y);
            return;
          }
          if (g === 24)
            f.reconnecting = !1, f._sendPacket(b);
          else {
            const A = new u.ErrorWithReasonCode(`Connection refused: ${c.ReasonCodes[g]}`, g);
            f.emit("error", A);
          }
        });
      };
      a.default = d;
    }, { "../shared": 17, "./ack": 10 }], 12: [function(n, o, a) {
      var u = this && this.__importDefault || function(_) {
        return _ && _.__esModule ? _ : { default: _ };
      };
      Object.defineProperty(a, "__esModule", { value: !0 });
      const c = n("./ack"), d = u(n("../topic-alias-send")), f = n("../shared"), p = (_, v) => {
        _.log("_handleConnack");
        const { options: g } = _, b = g.protocolVersion === 5 ? v.reasonCode : v.returnCode;
        if (clearTimeout(_.connackTimer), delete _.topicAliasSend, v.properties) {
          if (v.properties.topicAliasMaximum) {
            if (v.properties.topicAliasMaximum > 65535) {
              _.emit("error", new Error("topicAliasMaximum from broker is out of range"));
              return;
            }
            v.properties.topicAliasMaximum > 0 && (_.topicAliasSend = new d.default(v.properties.topicAliasMaximum));
          }
          v.properties.serverKeepAlive && g.keepalive && (g.keepalive = v.properties.serverKeepAlive, _._shiftPingInterval()), v.properties.maximumPacketSize && (g.properties || (g.properties = {}), g.properties.maximumPacketSize = v.properties.maximumPacketSize);
        }
        if (b === 0)
          _.reconnecting = !1, _._onConnect(v);
        else if (b > 0) {
          const A = new f.ErrorWithReasonCode(`Connection refused: ${c.ReasonCodes[b]}`, b);
          _.emit("error", A);
        }
      };
      a.default = p;
    }, { "../shared": 17, "../topic-alias-send": 20, "./ack": 10 }], 13: [function(n, o, a) {
      var u = this && this.__importDefault || function(g) {
        return g && g.__esModule ? g : { default: g };
      };
      Object.defineProperty(a, "__esModule", { value: !0 });
      const c = u(n("./publish")), d = u(n("./auth")), f = u(n("./connack")), p = u(n("./ack")), _ = u(n("./pubrel")), v = (g, y, b) => {
        const { options: A } = g;
        if (A.protocolVersion === 5 && A.properties && A.properties.maximumPacketSize && A.properties.maximumPacketSize < y.length)
          return g.emit("error", new Error(`exceeding packets size ${y.cmd}`)), g.end({
            reasonCode: 149,
            properties: { reasonString: "Maximum packet size was exceeded" }
          }), g;
        switch (g.log("_handlePacket :: emitting packetreceive"), g.emit("packetreceive", y), y.cmd) {
          case "publish":
            (0, c.default)(g, y, b);
            break;
          case "puback":
          case "pubrec":
          case "pubcomp":
          case "suback":
          case "unsuback":
            (0, p.default)(g, y), b();
            break;
          case "pubrel":
            (0, _.default)(g, y, b);
            break;
          case "connack":
            (0, f.default)(g, y), b();
            break;
          case "auth":
            (0, d.default)(g, y), b();
            break;
          case "pingresp":
            g.pingResp = !0, b();
            break;
          case "disconnect":
            g.emit("disconnect", y), b();
            break;
          default:
            g.log("_handlePacket :: unknown command"), b();
            break;
        }
      };
      a.default = v;
    }, { "./ack": 10, "./auth": 11, "./connack": 12, "./publish": 14, "./pubrel": 15 }], 14: [function(n, o, a) {
      Object.defineProperty(a, "__esModule", { value: !0 });
      const u = [0, 16, 128, 131, 135, 144, 145, 151, 153], c = (d, f, p) => {
        d.log("handlePublish: packet %o", f), p = typeof p < "u" ? p : d.noop;
        let _ = f.topic.toString();
        const v = f.payload, { qos: g } = f, { messageId: y } = f, { options: b } = d;
        if (d.options.protocolVersion === 5) {
          let A;
          if (f.properties && (A = f.properties.topicAlias), typeof A < "u")
            if (_.length === 0)
              if (A > 0 && A <= 65535) {
                const w = d.topicAliasRecv.getTopicByAlias(A);
                if (w)
                  _ = w, d.log("handlePublish :: topic complemented by alias. topic: %s - alias: %d", _, A);
                else {
                  d.log("handlePublish :: unregistered topic alias. alias: %d", A), d.emit("error", new Error("Received unregistered Topic Alias"));
                  return;
                }
              } else {
                d.log("handlePublish :: topic alias out of range. alias: %d", A), d.emit("error", new Error("Received Topic Alias is out of range"));
                return;
              }
            else if (d.topicAliasRecv.put(_, A))
              d.log("handlePublish :: registered topic: %s - alias: %d", _, A);
            else {
              d.log("handlePublish :: topic alias out of range. alias: %d", A), d.emit("error", new Error("Received Topic Alias is out of range"));
              return;
            }
        }
        switch (d.log("handlePublish: qos %d", g), g) {
          case 2: {
            b.customHandleAcks(_, v, f, (A, w) => {
              if (typeof A == "number" && (w = A, A = null), A)
                return d.emit("error", A);
              if (u.indexOf(w) === -1)
                return d.emit("error", new Error("Wrong reason code for pubrec"));
              w ? d._sendPacket({ cmd: "pubrec", messageId: y, reasonCode: w }, p) : d.incomingStore.put(f, () => {
                d._sendPacket({ cmd: "pubrec", messageId: y }, p);
              });
            });
            break;
          }
          case 1: {
            b.customHandleAcks(_, v, f, (A, w) => {
              if (typeof A == "number" && (w = A, A = null), A)
                return d.emit("error", A);
              if (u.indexOf(w) === -1)
                return d.emit("error", new Error("Wrong reason code for puback"));
              w || d.emit("message", _, v, f), d.handleMessage(f, (S) => {
                if (S)
                  return p && p(S);
                d._sendPacket({ cmd: "puback", messageId: y, reasonCode: w }, p);
              });
            });
            break;
          }
          case 0:
            d.emit("message", _, v, f), d.handleMessage(f, p);
            break;
          default:
            d.log("handlePublish: unknown QoS. Doing nothing.");
            break;
        }
      };
      a.default = c;
    }, {}], 15: [function(n, o, a) {
      Object.defineProperty(a, "__esModule", { value: !0 });
      const u = (c, d, f) => {
        c.log("handling pubrel packet");
        const p = typeof f < "u" ? f : c.noop, { messageId: _ } = d, v = { cmd: "pubcomp", messageId: _ };
        c.incomingStore.get(d, (g, y) => {
          g ? c._sendPacket(v, p) : (c.emit("message", y.topic, y.payload, y), c.handleMessage(y, (b) => {
            if (b)
              return p(b);
            c.incomingStore.del(y, c.noop), c._sendPacket(v, p);
          }));
        });
      };
      a.default = u;
    }, {}], 16: [function(n, o, a) {
      Object.defineProperty(a, "__esModule", { value: !0 });
      const u = typeof window < "u" && typeof window.document < "u" || typeof self < "u" && typeof self.postMessage == "function";
      a.default = u;
    }, {}], 17: [function(n, o, a) {
      Object.defineProperty(a, "__esModule", { value: !0 }), a.applyMixin = a.ErrorWithReasonCode = void 0;
      class u extends Error {
        constructor(f, p) {
          super(f), this.code = p, Object.setPrototypeOf(this, u.prototype), Object.getPrototypeOf(this).name = "ErrorWithReasonCode";
        }
      }
      a.ErrorWithReasonCode = u;
      function c(d, f, p = !1) {
        var _;
        const v = [f];
        for (; ; ) {
          const g = v[0], y = Object.getPrototypeOf(g);
          if (y != null && y.prototype)
            v.unshift(y);
          else
            break;
        }
        for (const g of v)
          for (const y of Object.getOwnPropertyNames(g.prototype))
            (p || y !== "constructor") && Object.defineProperty(d.prototype, y, (_ = Object.getOwnPropertyDescriptor(g.prototype, y)) !== null && _ !== void 0 ? _ : /* @__PURE__ */ Object.create(null));
      }
      a.applyMixin = c;
    }, {}], 18: [function(n, o, a) {
      Object.defineProperty(a, "__esModule", { value: !0 });
      const u = n("readable-stream"), c = { objectMode: !0 }, d = {
        clean: !0
      };
      class f {
        constructor(_) {
          this.options = _ || {}, this.options = Object.assign(Object.assign({}, d), _), this._inflights = /* @__PURE__ */ new Map();
        }
        put(_, v) {
          return this._inflights.set(_.messageId, _), v && v(), this;
        }
        createStream() {
          const _ = new u.Readable(c), v = [];
          let g = !1, y = 0;
          return this._inflights.forEach((b, A) => {
            v.push(b);
          }), _._read = () => {
            !g && y < v.length ? _.push(v[y++]) : _.push(null);
          }, _.destroy = (b) => {
            if (!g)
              return g = !0, setTimeout(() => {
                _.emit("close");
              }, 0), _;
          }, _;
        }
        del(_, v) {
          const g = this._inflights.get(_.messageId);
          return g ? (this._inflights.delete(_.messageId), v(null, g)) : v && v(new Error("missing packet")), this;
        }
        get(_, v) {
          const g = this._inflights.get(_.messageId);
          return g ? v(null, g) : v && v(new Error("missing packet")), this;
        }
        close(_) {
          this.options.clean && (this._inflights = null), _ && _();
        }
      }
      a.default = f;
    }, { "readable-stream": 125 }], 19: [function(n, o, a) {
      Object.defineProperty(a, "__esModule", { value: !0 });
      class u {
        constructor(d) {
          this.aliasToTopic = {}, this.max = d;
        }
        put(d, f) {
          return f === 0 || f > this.max ? !1 : (this.aliasToTopic[f] = d, this.length = Object.keys(this.aliasToTopic).length, !0);
        }
        getTopicByAlias(d) {
          return this.aliasToTopic[d];
        }
        clear() {
          this.aliasToTopic = {};
        }
      }
      a.default = u;
    }, {}], 20: [function(n, o, a) {
      var u = this && this.__importDefault || function(p) {
        return p && p.__esModule ? p : { default: p };
      };
      Object.defineProperty(a, "__esModule", { value: !0 });
      const c = u(n("lru-cache")), d = n("number-allocator");
      class f {
        constructor(_) {
          _ > 0 && (this.aliasToTopic = new c.default({ max: _ }), this.topicToAlias = {}, this.numberAllocator = new d.NumberAllocator(1, _), this.max = _, this.length = 0);
        }
        put(_, v) {
          if (v === 0 || v > this.max)
            return !1;
          const g = this.aliasToTopic.get(v);
          return g && delete this.topicToAlias[g], this.aliasToTopic.set(v, _), this.topicToAlias[_] = v, this.numberAllocator.use(v), this.length = this.aliasToTopic.size, !0;
        }
        getTopicByAlias(_) {
          return this.aliasToTopic.get(_);
        }
        getAliasByTopic(_) {
          const v = this.topicToAlias[_];
          return typeof v < "u" && this.aliasToTopic.get(v), v;
        }
        clear() {
          this.aliasToTopic.clear(), this.topicToAlias = {}, this.numberAllocator.clear(), this.length = 0;
        }
        getLruAlias() {
          const _ = this.numberAllocator.firstVacant();
          return _ || [...this.aliasToTopic.keys()][this.aliasToTopic.size - 1];
        }
      }
      a.default = f;
    }, { "lru-cache": 72, "number-allocator": 98 }], 21: [function(n, o, a) {
      Object.defineProperty(a, "__esModule", { value: !0 });
      const u = n("number-allocator");
      class c {
        constructor() {
          this.numberAllocator = new u.NumberAllocator(1, 65535);
        }
        allocate() {
          return this.lastId = this.numberAllocator.alloc(), this.lastId;
        }
        getLastAllocated() {
          return this.lastId;
        }
        register(f) {
          return this.numberAllocator.use(f);
        }
        deallocate(f) {
          this.numberAllocator.free(f);
        }
        clear() {
          this.numberAllocator.clear();
        }
      }
      a.default = c;
    }, { "number-allocator": 98 }], 22: [function(n, o, a) {
      Object.defineProperty(a, "__esModule", { value: !0 }), a.validateTopics = a.validateTopic = void 0;
      function u(d) {
        const f = d.split("/");
        for (let p = 0; p < f.length; p++)
          if (f[p] !== "+") {
            if (f[p] === "#")
              return p === f.length - 1;
            if (f[p].indexOf("+") !== -1 || f[p].indexOf("#") !== -1)
              return !1;
          }
        return !0;
      }
      a.validateTopic = u;
      function c(d) {
        if (d.length === 0)
          return "empty_topic_list";
        for (let f = 0; f < d.length; f++)
          if (!u(d[f]))
            return d[f];
        return null;
      }
      a.validateTopics = c;
    }, {}], 23: [function(n, o, a) {
      var u = this && this.__createBinding || (Object.create ? function(w, S, T, x) {
        x === void 0 && (x = T);
        var L = Object.getOwnPropertyDescriptor(S, T);
        (!L || ("get" in L ? !S.__esModule : L.writable || L.configurable)) && (L = { enumerable: !0, get: function() {
          return S[T];
        } }), Object.defineProperty(w, x, L);
      } : function(w, S, T, x) {
        x === void 0 && (x = T), w[x] = S[T];
      }), c = this && this.__setModuleDefault || (Object.create ? function(w, S) {
        Object.defineProperty(w, "default", { enumerable: !0, value: S });
      } : function(w, S) {
        w.default = S;
      }), d = this && this.__importStar || function(w) {
        if (w && w.__esModule)
          return w;
        var S = {};
        if (w != null)
          for (var T in w)
            T !== "default" && Object.prototype.hasOwnProperty.call(w, T) && u(S, w, T);
        return c(S, w), S;
      }, f = this && this.__exportStar || function(w, S) {
        for (var T in w)
          T !== "default" && !Object.prototype.hasOwnProperty.call(S, T) && u(S, w, T);
      }, p = this && this.__importDefault || function(w) {
        return w && w.__esModule ? w : { default: w };
      };
      Object.defineProperty(a, "__esModule", { value: !0 }), a.ReasonCodes = a.UniqueMessageIdProvider = a.DefaultMessageIdProvider = a.Store = a.MqttClient = a.connectAsync = a.connect = a.Client = void 0;
      const _ = p(n("./lib/client"));
      a.MqttClient = _.default;
      const v = p(n("./lib/default-message-id-provider"));
      a.DefaultMessageIdProvider = v.default;
      const g = p(n("./lib/unique-message-id-provider"));
      a.UniqueMessageIdProvider = g.default;
      const y = p(n("./lib/store"));
      a.Store = y.default;
      const b = d(n("./lib/connect"));
      a.connect = b.default, Object.defineProperty(a, "connectAsync", { enumerable: !0, get: function() {
        return b.connectAsync;
      } }), a.Client = _.default, f(n("./lib/client"), a), f(n("./lib/shared"), a);
      var A = n("./lib/handlers/ack");
      Object.defineProperty(a, "ReasonCodes", { enumerable: !0, get: function() {
        return A.ReasonCodes;
      } });
    }, { "./lib/client": 2, "./lib/connect": 4, "./lib/default-message-id-provider": 9, "./lib/handlers/ack": 10, "./lib/shared": 17, "./lib/store": 18, "./lib/unique-message-id-provider": 21 }], 24: [function(n, o, a) {
      const { AbortController: u, AbortSignal: c } = typeof self < "u" ? self : typeof window < "u" ? window : (
        /* otherwise */
        void 0
      );
      o.exports = u, o.exports.AbortSignal = c, o.exports.default = u;
    }, {}], 25: [function(n, o, a) {
      a.byteLength = g, a.toByteArray = b, a.fromByteArray = S;
      for (var u = [], c = [], d = typeof Uint8Array < "u" ? Uint8Array : Array, f = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", p = 0, _ = f.length; p < _; ++p)
        u[p] = f[p], c[f.charCodeAt(p)] = p;
      c["-".charCodeAt(0)] = 62, c["_".charCodeAt(0)] = 63;
      function v(T) {
        var x = T.length;
        if (x % 4 > 0)
          throw new Error("Invalid string. Length must be a multiple of 4");
        var L = T.indexOf("=");
        L === -1 && (L = x);
        var O = L === x ? 0 : 4 - L % 4;
        return [L, O];
      }
      function g(T) {
        var x = v(T), L = x[0], O = x[1];
        return (L + O) * 3 / 4 - O;
      }
      function y(T, x, L) {
        return (x + L) * 3 / 4 - L;
      }
      function b(T) {
        var x, L = v(T), O = L[0], M = L[1], k = new d(y(T, O, M)), ie = 0, $ = M > 0 ? O - 4 : O, Y;
        for (Y = 0; Y < $; Y += 4)
          x = c[T.charCodeAt(Y)] << 18 | c[T.charCodeAt(Y + 1)] << 12 | c[T.charCodeAt(Y + 2)] << 6 | c[T.charCodeAt(Y + 3)], k[ie++] = x >> 16 & 255, k[ie++] = x >> 8 & 255, k[ie++] = x & 255;
        return M === 2 && (x = c[T.charCodeAt(Y)] << 2 | c[T.charCodeAt(Y + 1)] >> 4, k[ie++] = x & 255), M === 1 && (x = c[T.charCodeAt(Y)] << 10 | c[T.charCodeAt(Y + 1)] << 4 | c[T.charCodeAt(Y + 2)] >> 2, k[ie++] = x >> 8 & 255, k[ie++] = x & 255), k;
      }
      function A(T) {
        return u[T >> 18 & 63] + u[T >> 12 & 63] + u[T >> 6 & 63] + u[T & 63];
      }
      function w(T, x, L) {
        for (var O, M = [], k = x; k < L; k += 3)
          O = (T[k] << 16 & 16711680) + (T[k + 1] << 8 & 65280) + (T[k + 2] & 255), M.push(A(O));
        return M.join("");
      }
      function S(T) {
        for (var x, L = T.length, O = L % 3, M = [], k = 16383, ie = 0, $ = L - O; ie < $; ie += k)
          M.push(w(T, ie, ie + k > $ ? $ : ie + k));
        return O === 1 ? (x = T[L - 1], M.push(
          u[x >> 2] + u[x << 4 & 63] + "=="
        )) : O === 2 && (x = (T[L - 2] << 8) + T[L - 1], M.push(
          u[x >> 10] + u[x >> 4 & 63] + u[x << 2 & 63] + "="
        )), M.join("");
      }
    }, {}], 26: [function(n, o, a) {
    }, {}], 27: [function(n, o, a) {
      var u = n("buffer"), c = u.Buffer;
      function d(p, _) {
        for (var v in p)
          _[v] = p[v];
      }
      c.from && c.alloc && c.allocUnsafe && c.allocUnsafeSlow ? o.exports = u : (d(u, a), a.Buffer = f);
      function f(p, _, v) {
        return c(p, _, v);
      }
      d(c, f), f.from = function(p, _, v) {
        if (typeof p == "number")
          throw new TypeError("Argument must not be a number");
        return c(p, _, v);
      }, f.alloc = function(p, _, v) {
        if (typeof p != "number")
          throw new TypeError("Argument must be a number");
        var g = c(p);
        return _ !== void 0 ? typeof v == "string" ? g.fill(_, v) : g.fill(_) : g.fill(0), g;
      }, f.allocUnsafe = function(p) {
        if (typeof p != "number")
          throw new TypeError("Argument must be a number");
        return c(p);
      }, f.allocUnsafeSlow = function(p) {
        if (typeof p != "number")
          throw new TypeError("Argument must be a number");
        return u.SlowBuffer(p);
      };
    }, { buffer: 29 }], 28: [function(n, o, a) {
      var u = n("safe-buffer").Buffer, c = u.isEncoding || function(M) {
        switch (M = "" + M, M && M.toLowerCase()) {
          case "hex":
          case "utf8":
          case "utf-8":
          case "ascii":
          case "binary":
          case "base64":
          case "ucs2":
          case "ucs-2":
          case "utf16le":
          case "utf-16le":
          case "raw":
            return !0;
          default:
            return !1;
        }
      };
      function d(M) {
        if (!M)
          return "utf8";
        for (var k; ; )
          switch (M) {
            case "utf8":
            case "utf-8":
              return "utf8";
            case "ucs2":
            case "ucs-2":
            case "utf16le":
            case "utf-16le":
              return "utf16le";
            case "latin1":
            case "binary":
              return "latin1";
            case "base64":
            case "ascii":
            case "hex":
              return M;
            default:
              if (k)
                return;
              M = ("" + M).toLowerCase(), k = !0;
          }
      }
      function f(M) {
        var k = d(M);
        if (typeof k != "string" && (u.isEncoding === c || !c(M)))
          throw new Error("Unknown encoding: " + M);
        return k || M;
      }
      a.StringDecoder = p;
      function p(M) {
        this.encoding = f(M);
        var k;
        switch (this.encoding) {
          case "utf16le":
            this.text = w, this.end = S, k = 4;
            break;
          case "utf8":
            this.fillLast = y, k = 4;
            break;
          case "base64":
            this.text = T, this.end = x, k = 3;
            break;
          default:
            this.write = L, this.end = O;
            return;
        }
        this.lastNeed = 0, this.lastTotal = 0, this.lastChar = u.allocUnsafe(k);
      }
      p.prototype.write = function(M) {
        if (M.length === 0)
          return "";
        var k, ie;
        if (this.lastNeed) {
          if (k = this.fillLast(M), k === void 0)
            return "";
          ie = this.lastNeed, this.lastNeed = 0;
        } else
          ie = 0;
        return ie < M.length ? k ? k + this.text(M, ie) : this.text(M, ie) : k || "";
      }, p.prototype.end = A, p.prototype.text = b, p.prototype.fillLast = function(M) {
        if (this.lastNeed <= M.length)
          return M.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, this.lastNeed), this.lastChar.toString(this.encoding, 0, this.lastTotal);
        M.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, M.length), this.lastNeed -= M.length;
      };
      function _(M) {
        return M <= 127 ? 0 : M >> 5 === 6 ? 2 : M >> 4 === 14 ? 3 : M >> 3 === 30 ? 4 : M >> 6 === 2 ? -1 : -2;
      }
      function v(M, k, ie) {
        var $ = k.length - 1;
        if ($ < ie)
          return 0;
        var Y = _(k[$]);
        return Y >= 0 ? (Y > 0 && (M.lastNeed = Y - 1), Y) : --$ < ie || Y === -2 ? 0 : (Y = _(k[$]), Y >= 0 ? (Y > 0 && (M.lastNeed = Y - 2), Y) : --$ < ie || Y === -2 ? 0 : (Y = _(k[$]), Y >= 0 ? (Y > 0 && (Y === 2 ? Y = 0 : M.lastNeed = Y - 3), Y) : 0));
      }
      function g(M, k, ie) {
        if ((k[0] & 192) !== 128)
          return M.lastNeed = 0, "�";
        if (M.lastNeed > 1 && k.length > 1) {
          if ((k[1] & 192) !== 128)
            return M.lastNeed = 1, "�";
          if (M.lastNeed > 2 && k.length > 2 && (k[2] & 192) !== 128)
            return M.lastNeed = 2, "�";
        }
      }
      function y(M) {
        var k = this.lastTotal - this.lastNeed, ie = g(this, M);
        if (ie !== void 0)
          return ie;
        if (this.lastNeed <= M.length)
          return M.copy(this.lastChar, k, 0, this.lastNeed), this.lastChar.toString(this.encoding, 0, this.lastTotal);
        M.copy(this.lastChar, k, 0, M.length), this.lastNeed -= M.length;
      }
      function b(M, k) {
        var ie = v(this, M, k);
        if (!this.lastNeed)
          return M.toString("utf8", k);
        this.lastTotal = ie;
        var $ = M.length - (ie - this.lastNeed);
        return M.copy(this.lastChar, 0, $), M.toString("utf8", k, $);
      }
      function A(M) {
        var k = M && M.length ? this.write(M) : "";
        return this.lastNeed ? k + "�" : k;
      }
      function w(M, k) {
        if ((M.length - k) % 2 === 0) {
          var ie = M.toString("utf16le", k);
          if (ie) {
            var $ = ie.charCodeAt(ie.length - 1);
            if ($ >= 55296 && $ <= 56319)
              return this.lastNeed = 2, this.lastTotal = 4, this.lastChar[0] = M[M.length - 2], this.lastChar[1] = M[M.length - 1], ie.slice(0, -1);
          }
          return ie;
        }
        return this.lastNeed = 1, this.lastTotal = 2, this.lastChar[0] = M[M.length - 1], M.toString("utf16le", k, M.length - 1);
      }
      function S(M) {
        var k = M && M.length ? this.write(M) : "";
        if (this.lastNeed) {
          var ie = this.lastTotal - this.lastNeed;
          return k + this.lastChar.toString("utf16le", 0, ie);
        }
        return k;
      }
      function T(M, k) {
        var ie = (M.length - k) % 3;
        return ie === 0 ? M.toString("base64", k) : (this.lastNeed = 3 - ie, this.lastTotal = 3, ie === 1 ? this.lastChar[0] = M[M.length - 1] : (this.lastChar[0] = M[M.length - 2], this.lastChar[1] = M[M.length - 1]), M.toString("base64", k, M.length - ie));
      }
      function x(M) {
        var k = M && M.length ? this.write(M) : "";
        return this.lastNeed ? k + this.lastChar.toString("base64", 0, 3 - this.lastNeed) : k;
      }
      function L(M) {
        return M.toString(this.encoding);
      }
      function O(M) {
        return M && M.length ? this.write(M) : "";
      }
    }, { "safe-buffer": 27 }], 29: [function(n, o, a) {
      (function(u) {
        (function() {
          var c = n("base64-js"), d = n("ieee754");
          a.Buffer = v, a.SlowBuffer = O, a.INSPECT_MAX_BYTES = 50;
          var f = 2147483647;
          a.kMaxLength = f, v.TYPED_ARRAY_SUPPORT = p(), !v.TYPED_ARRAY_SUPPORT && typeof console < "u" && typeof console.error == "function" && console.error(
            "This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."
          );
          function p() {
            try {
              var j = new Uint8Array(1);
              return j.__proto__ = { __proto__: Uint8Array.prototype, foo: function() {
                return 42;
              } }, j.foo() === 42;
            } catch {
              return !1;
            }
          }
          Object.defineProperty(v.prototype, "parent", {
            enumerable: !0,
            get: function() {
              if (v.isBuffer(this))
                return this.buffer;
            }
          }), Object.defineProperty(v.prototype, "offset", {
            enumerable: !0,
            get: function() {
              if (v.isBuffer(this))
                return this.byteOffset;
            }
          });
          function _(j) {
            if (j > f)
              throw new RangeError('The value "' + j + '" is invalid for option "size"');
            var V = new Uint8Array(j);
            return V.__proto__ = v.prototype, V;
          }
          function v(j, V, z) {
            if (typeof j == "number") {
              if (typeof V == "string")
                throw new TypeError(
                  'The "string" argument must be of type string. Received type number'
                );
              return A(j);
            }
            return g(j, V, z);
          }
          typeof Symbol < "u" && Symbol.species != null && v[Symbol.species] === v && Object.defineProperty(v, Symbol.species, {
            value: null,
            configurable: !0,
            enumerable: !1,
            writable: !1
          }), v.poolSize = 8192;
          function g(j, V, z) {
            if (typeof j == "string")
              return w(j, V);
            if (ArrayBuffer.isView(j))
              return S(j);
            if (j == null)
              throw TypeError(
                "The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type " + typeof j
              );
            if (oe(j, ArrayBuffer) || j && oe(j.buffer, ArrayBuffer))
              return T(j, V, z);
            if (typeof j == "number")
              throw new TypeError(
                'The "value" argument must not be of type number. Received type number'
              );
            var ae = j.valueOf && j.valueOf();
            if (ae != null && ae !== j)
              return v.from(ae, V, z);
            var xe = x(j);
            if (xe)
              return xe;
            if (typeof Symbol < "u" && Symbol.toPrimitive != null && typeof j[Symbol.toPrimitive] == "function")
              return v.from(
                j[Symbol.toPrimitive]("string"),
                V,
                z
              );
            throw new TypeError(
              "The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type " + typeof j
            );
          }
          v.from = function(j, V, z) {
            return g(j, V, z);
          }, v.prototype.__proto__ = Uint8Array.prototype, v.__proto__ = Uint8Array;
          function y(j) {
            if (typeof j != "number")
              throw new TypeError('"size" argument must be of type number');
            if (j < 0)
              throw new RangeError('The value "' + j + '" is invalid for option "size"');
          }
          function b(j, V, z) {
            return y(j), j <= 0 ? _(j) : V !== void 0 ? typeof z == "string" ? _(j).fill(V, z) : _(j).fill(V) : _(j);
          }
          v.alloc = function(j, V, z) {
            return b(j, V, z);
          };
          function A(j) {
            return y(j), _(j < 0 ? 0 : L(j) | 0);
          }
          v.allocUnsafe = function(j) {
            return A(j);
          }, v.allocUnsafeSlow = function(j) {
            return A(j);
          };
          function w(j, V) {
            if ((typeof V != "string" || V === "") && (V = "utf8"), !v.isEncoding(V))
              throw new TypeError("Unknown encoding: " + V);
            var z = M(j, V) | 0, ae = _(z), xe = ae.write(j, V);
            return xe !== z && (ae = ae.slice(0, xe)), ae;
          }
          function S(j) {
            for (var V = j.length < 0 ? 0 : L(j.length) | 0, z = _(V), ae = 0; ae < V; ae += 1)
              z[ae] = j[ae] & 255;
            return z;
          }
          function T(j, V, z) {
            if (V < 0 || j.byteLength < V)
              throw new RangeError('"offset" is outside of buffer bounds');
            if (j.byteLength < V + (z || 0))
              throw new RangeError('"length" is outside of buffer bounds');
            var ae;
            return V === void 0 && z === void 0 ? ae = new Uint8Array(j) : z === void 0 ? ae = new Uint8Array(j, V) : ae = new Uint8Array(j, V, z), ae.__proto__ = v.prototype, ae;
          }
          function x(j) {
            if (v.isBuffer(j)) {
              var V = L(j.length) | 0, z = _(V);
              return z.length === 0 || j.copy(z, 0, 0, V), z;
            }
            if (j.length !== void 0)
              return typeof j.length != "number" || le(j.length) ? _(0) : S(j);
            if (j.type === "Buffer" && Array.isArray(j.data))
              return S(j.data);
          }
          function L(j) {
            if (j >= f)
              throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x" + f.toString(16) + " bytes");
            return j | 0;
          }
          function O(j) {
            return +j != j && (j = 0), v.alloc(+j);
          }
          v.isBuffer = function(V) {
            return V != null && V._isBuffer === !0 && V !== v.prototype;
          }, v.compare = function(V, z) {
            if (oe(V, Uint8Array) && (V = v.from(V, V.offset, V.byteLength)), oe(z, Uint8Array) && (z = v.from(z, z.offset, z.byteLength)), !v.isBuffer(V) || !v.isBuffer(z))
              throw new TypeError(
                'The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array'
              );
            if (V === z)
              return 0;
            for (var ae = V.length, xe = z.length, qe = 0, bn = Math.min(ae, xe); qe < bn; ++qe)
              if (V[qe] !== z[qe]) {
                ae = V[qe], xe = z[qe];
                break;
              }
            return ae < xe ? -1 : xe < ae ? 1 : 0;
          }, v.isEncoding = function(V) {
            switch (String(V).toLowerCase()) {
              case "hex":
              case "utf8":
              case "utf-8":
              case "ascii":
              case "latin1":
              case "binary":
              case "base64":
              case "ucs2":
              case "ucs-2":
              case "utf16le":
              case "utf-16le":
                return !0;
              default:
                return !1;
            }
          }, v.concat = function(V, z) {
            if (!Array.isArray(V))
              throw new TypeError('"list" argument must be an Array of Buffers');
            if (V.length === 0)
              return v.alloc(0);
            var ae;
            if (z === void 0)
              for (z = 0, ae = 0; ae < V.length; ++ae)
                z += V[ae].length;
            var xe = v.allocUnsafe(z), qe = 0;
            for (ae = 0; ae < V.length; ++ae) {
              var bn = V[ae];
              if (oe(bn, Uint8Array) && (bn = v.from(bn)), !v.isBuffer(bn))
                throw new TypeError('"list" argument must be an Array of Buffers');
              bn.copy(xe, qe), qe += bn.length;
            }
            return xe;
          };
          function M(j, V) {
            if (v.isBuffer(j))
              return j.length;
            if (ArrayBuffer.isView(j) || oe(j, ArrayBuffer))
              return j.byteLength;
            if (typeof j != "string")
              throw new TypeError(
                'The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type ' + typeof j
              );
            var z = j.length, ae = arguments.length > 2 && arguments[2] === !0;
            if (!ae && z === 0)
              return 0;
            for (var xe = !1; ; )
              switch (V) {
                case "ascii":
                case "latin1":
                case "binary":
                  return z;
                case "utf8":
                case "utf-8":
                  return Ne(j).length;
                case "ucs2":
                case "ucs-2":
                case "utf16le":
                case "utf-16le":
                  return z * 2;
                case "hex":
                  return z >>> 1;
                case "base64":
                  return jt(j).length;
                default:
                  if (xe)
                    return ae ? -1 : Ne(j).length;
                  V = ("" + V).toLowerCase(), xe = !0;
              }
          }
          v.byteLength = M;
          function k(j, V, z) {
            var ae = !1;
            if ((V === void 0 || V < 0) && (V = 0), V > this.length || ((z === void 0 || z > this.length) && (z = this.length), z <= 0) || (z >>>= 0, V >>>= 0, z <= V))
              return "";
            for (j || (j = "utf8"); ; )
              switch (j) {
                case "hex":
                  return In(this, V, z);
                case "utf8":
                case "utf-8":
                  return Fe(this, V, z);
                case "ascii":
                  return pe(this, V, z);
                case "latin1":
                case "binary":
                  return Cn(this, V, z);
                case "base64":
                  return ze(this, V, z);
                case "ucs2":
                case "ucs-2":
                case "utf16le":
                case "utf-16le":
                  return Dt(this, V, z);
                default:
                  if (ae)
                    throw new TypeError("Unknown encoding: " + j);
                  j = (j + "").toLowerCase(), ae = !0;
              }
          }
          v.prototype._isBuffer = !0;
          function ie(j, V, z) {
            var ae = j[V];
            j[V] = j[z], j[z] = ae;
          }
          v.prototype.swap16 = function() {
            var V = this.length;
            if (V % 2 !== 0)
              throw new RangeError("Buffer size must be a multiple of 16-bits");
            for (var z = 0; z < V; z += 2)
              ie(this, z, z + 1);
            return this;
          }, v.prototype.swap32 = function() {
            var V = this.length;
            if (V % 4 !== 0)
              throw new RangeError("Buffer size must be a multiple of 32-bits");
            for (var z = 0; z < V; z += 4)
              ie(this, z, z + 3), ie(this, z + 1, z + 2);
            return this;
          }, v.prototype.swap64 = function() {
            var V = this.length;
            if (V % 8 !== 0)
              throw new RangeError("Buffer size must be a multiple of 64-bits");
            for (var z = 0; z < V; z += 8)
              ie(this, z, z + 7), ie(this, z + 1, z + 6), ie(this, z + 2, z + 5), ie(this, z + 3, z + 4);
            return this;
          }, v.prototype.toString = function() {
            var V = this.length;
            return V === 0 ? "" : arguments.length === 0 ? Fe(this, 0, V) : k.apply(this, arguments);
          }, v.prototype.toLocaleString = v.prototype.toString, v.prototype.equals = function(V) {
            if (!v.isBuffer(V))
              throw new TypeError("Argument must be a Buffer");
            return this === V ? !0 : v.compare(this, V) === 0;
          }, v.prototype.inspect = function() {
            var V = "", z = a.INSPECT_MAX_BYTES;
            return V = this.toString("hex", 0, z).replace(/(.{2})/g, "$1 ").trim(), this.length > z && (V += " ... "), "<Buffer " + V + ">";
          }, v.prototype.compare = function(V, z, ae, xe, qe) {
            if (oe(V, Uint8Array) && (V = v.from(V, V.offset, V.byteLength)), !v.isBuffer(V))
              throw new TypeError(
                'The "target" argument must be one of type Buffer or Uint8Array. Received type ' + typeof V
              );
            if (z === void 0 && (z = 0), ae === void 0 && (ae = V ? V.length : 0), xe === void 0 && (xe = 0), qe === void 0 && (qe = this.length), z < 0 || ae > V.length || xe < 0 || qe > this.length)
              throw new RangeError("out of range index");
            if (xe >= qe && z >= ae)
              return 0;
            if (xe >= qe)
              return -1;
            if (z >= ae)
              return 1;
            if (z >>>= 0, ae >>>= 0, xe >>>= 0, qe >>>= 0, this === V)
              return 0;
            for (var bn = qe - xe, Sn = ae - z, xn = Math.min(bn, Sn), Rn = this.slice(xe, qe), $e = V.slice(z, ae), At = 0; At < xn; ++At)
              if (Rn[At] !== $e[At]) {
                bn = Rn[At], Sn = $e[At];
                break;
              }
            return bn < Sn ? -1 : Sn < bn ? 1 : 0;
          };
          function $(j, V, z, ae, xe) {
            if (j.length === 0)
              return -1;
            if (typeof z == "string" ? (ae = z, z = 0) : z > 2147483647 ? z = 2147483647 : z < -2147483648 && (z = -2147483648), z = +z, le(z) && (z = xe ? 0 : j.length - 1), z < 0 && (z = j.length + z), z >= j.length) {
              if (xe)
                return -1;
              z = j.length - 1;
            } else if (z < 0)
              if (xe)
                z = 0;
              else
                return -1;
            if (typeof V == "string" && (V = v.from(V, ae)), v.isBuffer(V))
              return V.length === 0 ? -1 : Y(j, V, z, ae, xe);
            if (typeof V == "number")
              return V = V & 255, typeof Uint8Array.prototype.indexOf == "function" ? xe ? Uint8Array.prototype.indexOf.call(j, V, z) : Uint8Array.prototype.lastIndexOf.call(j, V, z) : Y(j, [V], z, ae, xe);
            throw new TypeError("val must be string, number or Buffer");
          }
          function Y(j, V, z, ae, xe) {
            var qe = 1, bn = j.length, Sn = V.length;
            if (ae !== void 0 && (ae = String(ae).toLowerCase(), ae === "ucs2" || ae === "ucs-2" || ae === "utf16le" || ae === "utf-16le")) {
              if (j.length < 2 || V.length < 2)
                return -1;
              qe = 2, bn /= 2, Sn /= 2, z /= 2;
            }
            function xn(wn, Ln) {
              return qe === 1 ? wn[Ln] : wn.readUInt16BE(Ln * qe);
            }
            var Rn;
            if (xe) {
              var $e = -1;
              for (Rn = z; Rn < bn; Rn++)
                if (xn(j, Rn) === xn(V, $e === -1 ? 0 : Rn - $e)) {
                  if ($e === -1 && ($e = Rn), Rn - $e + 1 === Sn)
                    return $e * qe;
                } else
                  $e !== -1 && (Rn -= Rn - $e), $e = -1;
            } else
              for (z + Sn > bn && (z = bn - Sn), Rn = z; Rn >= 0; Rn--) {
                for (var At = !0, En = 0; En < Sn; En++)
                  if (xn(j, Rn + En) !== xn(V, En)) {
                    At = !1;
                    break;
                  }
                if (At)
                  return Rn;
              }
            return -1;
          }
          v.prototype.includes = function(V, z, ae) {
            return this.indexOf(V, z, ae) !== -1;
          }, v.prototype.indexOf = function(V, z, ae) {
            return $(this, V, z, ae, !0);
          }, v.prototype.lastIndexOf = function(V, z, ae) {
            return $(this, V, z, ae, !1);
          };
          function D(j, V, z, ae) {
            z = Number(z) || 0;
            var xe = j.length - z;
            ae ? (ae = Number(ae), ae > xe && (ae = xe)) : ae = xe;
            var qe = V.length;
            ae > qe / 2 && (ae = qe / 2);
            for (var bn = 0; bn < ae; ++bn) {
              var Sn = parseInt(V.substr(bn * 2, 2), 16);
              if (le(Sn))
                return bn;
              j[z + bn] = Sn;
            }
            return bn;
          }
          function re(j, V, z, ae) {
            return _n(Ne(V, j.length - z), j, z, ae);
          }
          function F(j, V, z, ae) {
            return _n(Ve(V), j, z, ae);
          }
          function _e(j, V, z, ae) {
            return F(j, V, z, ae);
          }
          function ue(j, V, z, ae) {
            return _n(jt(V), j, z, ae);
          }
          function Ie(j, V, z, ae) {
            return _n(Pt(V, j.length - z), j, z, ae);
          }
          v.prototype.write = function(V, z, ae, xe) {
            if (z === void 0)
              xe = "utf8", ae = this.length, z = 0;
            else if (ae === void 0 && typeof z == "string")
              xe = z, ae = this.length, z = 0;
            else if (isFinite(z))
              z = z >>> 0, isFinite(ae) ? (ae = ae >>> 0, xe === void 0 && (xe = "utf8")) : (xe = ae, ae = void 0);
            else
              throw new Error(
                "Buffer.write(string, encoding, offset[, length]) is no longer supported"
              );
            var qe = this.length - z;
            if ((ae === void 0 || ae > qe) && (ae = qe), V.length > 0 && (ae < 0 || z < 0) || z > this.length)
              throw new RangeError("Attempt to write outside buffer bounds");
            xe || (xe = "utf8");
            for (var bn = !1; ; )
              switch (xe) {
                case "hex":
                  return D(this, V, z, ae);
                case "utf8":
                case "utf-8":
                  return re(this, V, z, ae);
                case "ascii":
                  return F(this, V, z, ae);
                case "latin1":
                case "binary":
                  return _e(this, V, z, ae);
                case "base64":
                  return ue(this, V, z, ae);
                case "ucs2":
                case "ucs-2":
                case "utf16le":
                case "utf-16le":
                  return Ie(this, V, z, ae);
                default:
                  if (bn)
                    throw new TypeError("Unknown encoding: " + xe);
                  xe = ("" + xe).toLowerCase(), bn = !0;
              }
          }, v.prototype.toJSON = function() {
            return {
              type: "Buffer",
              data: Array.prototype.slice.call(this._arr || this, 0)
            };
          };
          function ze(j, V, z) {
            return V === 0 && z === j.length ? c.fromByteArray(j) : c.fromByteArray(j.slice(V, z));
          }
          function Fe(j, V, z) {
            z = Math.min(j.length, z);
            for (var ae = [], xe = V; xe < z; ) {
              var qe = j[xe], bn = null, Sn = qe > 239 ? 4 : qe > 223 ? 3 : qe > 191 ? 2 : 1;
              if (xe + Sn <= z) {
                var xn, Rn, $e, At;
                switch (Sn) {
                  case 1:
                    qe < 128 && (bn = qe);
                    break;
                  case 2:
                    xn = j[xe + 1], (xn & 192) === 128 && (At = (qe & 31) << 6 | xn & 63, At > 127 && (bn = At));
                    break;
                  case 3:
                    xn = j[xe + 1], Rn = j[xe + 2], (xn & 192) === 128 && (Rn & 192) === 128 && (At = (qe & 15) << 12 | (xn & 63) << 6 | Rn & 63, At > 2047 && (At < 55296 || At > 57343) && (bn = At));
                    break;
                  case 4:
                    xn = j[xe + 1], Rn = j[xe + 2], $e = j[xe + 3], (xn & 192) === 128 && (Rn & 192) === 128 && ($e & 192) === 128 && (At = (qe & 15) << 18 | (xn & 63) << 12 | (Rn & 63) << 6 | $e & 63, At > 65535 && At < 1114112 && (bn = At));
                }
              }
              bn === null ? (bn = 65533, Sn = 1) : bn > 65535 && (bn -= 65536, ae.push(bn >>> 10 & 1023 | 55296), bn = 56320 | bn & 1023), ae.push(bn), xe += Sn;
            }
            return Lt(ae);
          }
          var Oe = 4096;
          function Lt(j) {
            var V = j.length;
            if (V <= Oe)
              return String.fromCharCode.apply(String, j);
            for (var z = "", ae = 0; ae < V; )
              z += String.fromCharCode.apply(
                String,
                j.slice(ae, ae += Oe)
              );
            return z;
          }
          function pe(j, V, z) {
            var ae = "";
            z = Math.min(j.length, z);
            for (var xe = V; xe < z; ++xe)
              ae += String.fromCharCode(j[xe] & 127);
            return ae;
          }
          function Cn(j, V, z) {
            var ae = "";
            z = Math.min(j.length, z);
            for (var xe = V; xe < z; ++xe)
              ae += String.fromCharCode(j[xe]);
            return ae;
          }
          function In(j, V, z) {
            var ae = j.length;
            (!V || V < 0) && (V = 0), (!z || z < 0 || z > ae) && (z = ae);
            for (var xe = "", qe = V; qe < z; ++qe)
              xe += Ue(j[qe]);
            return xe;
          }
          function Dt(j, V, z) {
            for (var ae = j.slice(V, z), xe = "", qe = 0; qe < ae.length; qe += 2)
              xe += String.fromCharCode(ae[qe] + ae[qe + 1] * 256);
            return xe;
          }
          v.prototype.slice = function(V, z) {
            var ae = this.length;
            V = ~~V, z = z === void 0 ? ae : ~~z, V < 0 ? (V += ae, V < 0 && (V = 0)) : V > ae && (V = ae), z < 0 ? (z += ae, z < 0 && (z = 0)) : z > ae && (z = ae), z < V && (z = V);
            var xe = this.subarray(V, z);
            return xe.__proto__ = v.prototype, xe;
          };
          function he(j, V, z) {
            if (j % 1 !== 0 || j < 0)
              throw new RangeError("offset is not uint");
            if (j + V > z)
              throw new RangeError("Trying to access beyond buffer length");
          }
          v.prototype.readUIntLE = function(V, z, ae) {
            V = V >>> 0, z = z >>> 0, ae || he(V, z, this.length);
            for (var xe = this[V], qe = 1, bn = 0; ++bn < z && (qe *= 256); )
              xe += this[V + bn] * qe;
            return xe;
          }, v.prototype.readUIntBE = function(V, z, ae) {
            V = V >>> 0, z = z >>> 0, ae || he(V, z, this.length);
            for (var xe = this[V + --z], qe = 1; z > 0 && (qe *= 256); )
              xe += this[V + --z] * qe;
            return xe;
          }, v.prototype.readUInt8 = function(V, z) {
            return V = V >>> 0, z || he(V, 1, this.length), this[V];
          }, v.prototype.readUInt16LE = function(V, z) {
            return V = V >>> 0, z || he(V, 2, this.length), this[V] | this[V + 1] << 8;
          }, v.prototype.readUInt16BE = function(V, z) {
            return V = V >>> 0, z || he(V, 2, this.length), this[V] << 8 | this[V + 1];
          }, v.prototype.readUInt32LE = function(V, z) {
            return V = V >>> 0, z || he(V, 4, this.length), (this[V] | this[V + 1] << 8 | this[V + 2] << 16) + this[V + 3] * 16777216;
          }, v.prototype.readUInt32BE = function(V, z) {
            return V = V >>> 0, z || he(V, 4, this.length), this[V] * 16777216 + (this[V + 1] << 16 | this[V + 2] << 8 | this[V + 3]);
          }, v.prototype.readIntLE = function(V, z, ae) {
            V = V >>> 0, z = z >>> 0, ae || he(V, z, this.length);
            for (var xe = this[V], qe = 1, bn = 0; ++bn < z && (qe *= 256); )
              xe += this[V + bn] * qe;
            return qe *= 128, xe >= qe && (xe -= Math.pow(2, 8 * z)), xe;
          }, v.prototype.readIntBE = function(V, z, ae) {
            V = V >>> 0, z = z >>> 0, ae || he(V, z, this.length);
            for (var xe = z, qe = 1, bn = this[V + --xe]; xe > 0 && (qe *= 256); )
              bn += this[V + --xe] * qe;
            return qe *= 128, bn >= qe && (bn -= Math.pow(2, 8 * z)), bn;
          }, v.prototype.readInt8 = function(V, z) {
            return V = V >>> 0, z || he(V, 1, this.length), this[V] & 128 ? (255 - this[V] + 1) * -1 : this[V];
          }, v.prototype.readInt16LE = function(V, z) {
            V = V >>> 0, z || he(V, 2, this.length);
            var ae = this[V] | this[V + 1] << 8;
            return ae & 32768 ? ae | 4294901760 : ae;
          }, v.prototype.readInt16BE = function(V, z) {
            V = V >>> 0, z || he(V, 2, this.length);
            var ae = this[V + 1] | this[V] << 8;
            return ae & 32768 ? ae | 4294901760 : ae;
          }, v.prototype.readInt32LE = function(V, z) {
            return V = V >>> 0, z || he(V, 4, this.length), this[V] | this[V + 1] << 8 | this[V + 2] << 16 | this[V + 3] << 24;
          }, v.prototype.readInt32BE = function(V, z) {
            return V = V >>> 0, z || he(V, 4, this.length), this[V] << 24 | this[V + 1] << 16 | this[V + 2] << 8 | this[V + 3];
          }, v.prototype.readFloatLE = function(V, z) {
            return V = V >>> 0, z || he(V, 4, this.length), d.read(this, V, !0, 23, 4);
          }, v.prototype.readFloatBE = function(V, z) {
            return V = V >>> 0, z || he(V, 4, this.length), d.read(this, V, !1, 23, 4);
          }, v.prototype.readDoubleLE = function(V, z) {
            return V = V >>> 0, z || he(V, 8, this.length), d.read(this, V, !0, 52, 8);
          }, v.prototype.readDoubleBE = function(V, z) {
            return V = V >>> 0, z || he(V, 8, this.length), d.read(this, V, !1, 52, 8);
          };
          function Et(j, V, z, ae, xe, qe) {
            if (!v.isBuffer(j))
              throw new TypeError('"buffer" argument must be a Buffer instance');
            if (V > xe || V < qe)
              throw new RangeError('"value" argument is out of bounds');
            if (z + ae > j.length)
              throw new RangeError("Index out of range");
          }
          v.prototype.writeUIntLE = function(V, z, ae, xe) {
            if (V = +V, z = z >>> 0, ae = ae >>> 0, !xe) {
              var qe = Math.pow(2, 8 * ae) - 1;
              Et(this, V, z, ae, qe, 0);
            }
            var bn = 1, Sn = 0;
            for (this[z] = V & 255; ++Sn < ae && (bn *= 256); )
              this[z + Sn] = V / bn & 255;
            return z + ae;
          }, v.prototype.writeUIntBE = function(V, z, ae, xe) {
            if (V = +V, z = z >>> 0, ae = ae >>> 0, !xe) {
              var qe = Math.pow(2, 8 * ae) - 1;
              Et(this, V, z, ae, qe, 0);
            }
            var bn = ae - 1, Sn = 1;
            for (this[z + bn] = V & 255; --bn >= 0 && (Sn *= 256); )
              this[z + bn] = V / Sn & 255;
            return z + ae;
          }, v.prototype.writeUInt8 = function(V, z, ae) {
            return V = +V, z = z >>> 0, ae || Et(this, V, z, 1, 255, 0), this[z] = V & 255, z + 1;
          }, v.prototype.writeUInt16LE = function(V, z, ae) {
            return V = +V, z = z >>> 0, ae || Et(this, V, z, 2, 65535, 0), this[z] = V & 255, this[z + 1] = V >>> 8, z + 2;
          }, v.prototype.writeUInt16BE = function(V, z, ae) {
            return V = +V, z = z >>> 0, ae || Et(this, V, z, 2, 65535, 0), this[z] = V >>> 8, this[z + 1] = V & 255, z + 2;
          }, v.prototype.writeUInt32LE = function(V, z, ae) {
            return V = +V, z = z >>> 0, ae || Et(this, V, z, 4, 4294967295, 0), this[z + 3] = V >>> 24, this[z + 2] = V >>> 16, this[z + 1] = V >>> 8, this[z] = V & 255, z + 4;
          }, v.prototype.writeUInt32BE = function(V, z, ae) {
            return V = +V, z = z >>> 0, ae || Et(this, V, z, 4, 4294967295, 0), this[z] = V >>> 24, this[z + 1] = V >>> 16, this[z + 2] = V >>> 8, this[z + 3] = V & 255, z + 4;
          }, v.prototype.writeIntLE = function(V, z, ae, xe) {
            if (V = +V, z = z >>> 0, !xe) {
              var qe = Math.pow(2, 8 * ae - 1);
              Et(this, V, z, ae, qe - 1, -qe);
            }
            var bn = 0, Sn = 1, xn = 0;
            for (this[z] = V & 255; ++bn < ae && (Sn *= 256); )
              V < 0 && xn === 0 && this[z + bn - 1] !== 0 && (xn = 1), this[z + bn] = (V / Sn >> 0) - xn & 255;
            return z + ae;
          }, v.prototype.writeIntBE = function(V, z, ae, xe) {
            if (V = +V, z = z >>> 0, !xe) {
              var qe = Math.pow(2, 8 * ae - 1);
              Et(this, V, z, ae, qe - 1, -qe);
            }
            var bn = ae - 1, Sn = 1, xn = 0;
            for (this[z + bn] = V & 255; --bn >= 0 && (Sn *= 256); )
              V < 0 && xn === 0 && this[z + bn + 1] !== 0 && (xn = 1), this[z + bn] = (V / Sn >> 0) - xn & 255;
            return z + ae;
          }, v.prototype.writeInt8 = function(V, z, ae) {
            return V = +V, z = z >>> 0, ae || Et(this, V, z, 1, 127, -128), V < 0 && (V = 255 + V + 1), this[z] = V & 255, z + 1;
          }, v.prototype.writeInt16LE = function(V, z, ae) {
            return V = +V, z = z >>> 0, ae || Et(this, V, z, 2, 32767, -32768), this[z] = V & 255, this[z + 1] = V >>> 8, z + 2;
          }, v.prototype.writeInt16BE = function(V, z, ae) {
            return V = +V, z = z >>> 0, ae || Et(this, V, z, 2, 32767, -32768), this[z] = V >>> 8, this[z + 1] = V & 255, z + 2;
          }, v.prototype.writeInt32LE = function(V, z, ae) {
            return V = +V, z = z >>> 0, ae || Et(this, V, z, 4, 2147483647, -2147483648), this[z] = V & 255, this[z + 1] = V >>> 8, this[z + 2] = V >>> 16, this[z + 3] = V >>> 24, z + 4;
          }, v.prototype.writeInt32BE = function(V, z, ae) {
            return V = +V, z = z >>> 0, ae || Et(this, V, z, 4, 2147483647, -2147483648), V < 0 && (V = 4294967295 + V + 1), this[z] = V >>> 24, this[z + 1] = V >>> 16, this[z + 2] = V >>> 8, this[z + 3] = V & 255, z + 4;
          };
          function hn(j, V, z, ae, xe, qe) {
            if (z + ae > j.length)
              throw new RangeError("Index out of range");
            if (z < 0)
              throw new RangeError("Index out of range");
          }
          function vn(j, V, z, ae, xe) {
            return V = +V, z = z >>> 0, xe || hn(j, V, z, 4), d.write(j, V, z, ae, 23, 4), z + 4;
          }
          v.prototype.writeFloatLE = function(V, z, ae) {
            return vn(this, V, z, !0, ae);
          }, v.prototype.writeFloatBE = function(V, z, ae) {
            return vn(this, V, z, !1, ae);
          };
          function kt(j, V, z, ae, xe) {
            return V = +V, z = z >>> 0, xe || hn(j, V, z, 8), d.write(j, V, z, ae, 52, 8), z + 8;
          }
          v.prototype.writeDoubleLE = function(V, z, ae) {
            return kt(this, V, z, !0, ae);
          }, v.prototype.writeDoubleBE = function(V, z, ae) {
            return kt(this, V, z, !1, ae);
          }, v.prototype.copy = function(V, z, ae, xe) {
            if (!v.isBuffer(V))
              throw new TypeError("argument should be a Buffer");
            if (ae || (ae = 0), !xe && xe !== 0 && (xe = this.length), z >= V.length && (z = V.length), z || (z = 0), xe > 0 && xe < ae && (xe = ae), xe === ae || V.length === 0 || this.length === 0)
              return 0;
            if (z < 0)
              throw new RangeError("targetStart out of bounds");
            if (ae < 0 || ae >= this.length)
              throw new RangeError("Index out of range");
            if (xe < 0)
              throw new RangeError("sourceEnd out of bounds");
            xe > this.length && (xe = this.length), V.length - z < xe - ae && (xe = V.length - z + ae);
            var qe = xe - ae;
            if (this === V && typeof Uint8Array.prototype.copyWithin == "function")
              this.copyWithin(z, ae, xe);
            else if (this === V && ae < z && z < xe)
              for (var bn = qe - 1; bn >= 0; --bn)
                V[bn + z] = this[bn + ae];
            else
              Uint8Array.prototype.set.call(
                V,
                this.subarray(ae, xe),
                z
              );
            return qe;
          }, v.prototype.fill = function(V, z, ae, xe) {
            if (typeof V == "string") {
              if (typeof z == "string" ? (xe = z, z = 0, ae = this.length) : typeof ae == "string" && (xe = ae, ae = this.length), xe !== void 0 && typeof xe != "string")
                throw new TypeError("encoding must be a string");
              if (typeof xe == "string" && !v.isEncoding(xe))
                throw new TypeError("Unknown encoding: " + xe);
              if (V.length === 1) {
                var qe = V.charCodeAt(0);
                (xe === "utf8" && qe < 128 || xe === "latin1") && (V = qe);
              }
            } else
              typeof V == "number" && (V = V & 255);
            if (z < 0 || this.length < z || this.length < ae)
              throw new RangeError("Out of range index");
            if (ae <= z)
              return this;
            z = z >>> 0, ae = ae === void 0 ? this.length : ae >>> 0, V || (V = 0);
            var bn;
            if (typeof V == "number")
              for (bn = z; bn < ae; ++bn)
                this[bn] = V;
            else {
              var Sn = v.isBuffer(V) ? V : v.from(V, xe), xn = Sn.length;
              if (xn === 0)
                throw new TypeError('The value "' + V + '" is invalid for argument "value"');
              for (bn = 0; bn < ae - z; ++bn)
                this[bn + z] = Sn[bn % xn];
            }
            return this;
          };
          var Ce = /[^+/0-9A-Za-z-_]/g;
          function de(j) {
            if (j = j.split("=")[0], j = j.trim().replace(Ce, ""), j.length < 2)
              return "";
            for (; j.length % 4 !== 0; )
              j = j + "=";
            return j;
          }
          function Ue(j) {
            return j < 16 ? "0" + j.toString(16) : j.toString(16);
          }
          function Ne(j, V) {
            V = V || 1 / 0;
            for (var z, ae = j.length, xe = null, qe = [], bn = 0; bn < ae; ++bn) {
              if (z = j.charCodeAt(bn), z > 55295 && z < 57344) {
                if (!xe) {
                  if (z > 56319) {
                    (V -= 3) > -1 && qe.push(239, 191, 189);
                    continue;
                  } else if (bn + 1 === ae) {
                    (V -= 3) > -1 && qe.push(239, 191, 189);
                    continue;
                  }
                  xe = z;
                  continue;
                }
                if (z < 56320) {
                  (V -= 3) > -1 && qe.push(239, 191, 189), xe = z;
                  continue;
                }
                z = (xe - 55296 << 10 | z - 56320) + 65536;
              } else
                xe && (V -= 3) > -1 && qe.push(239, 191, 189);
              if (xe = null, z < 128) {
                if ((V -= 1) < 0)
                  break;
                qe.push(z);
              } else if (z < 2048) {
                if ((V -= 2) < 0)
                  break;
                qe.push(
                  z >> 6 | 192,
                  z & 63 | 128
                );
              } else if (z < 65536) {
                if ((V -= 3) < 0)
                  break;
                qe.push(
                  z >> 12 | 224,
                  z >> 6 & 63 | 128,
                  z & 63 | 128
                );
              } else if (z < 1114112) {
                if ((V -= 4) < 0)
                  break;
                qe.push(
                  z >> 18 | 240,
                  z >> 12 & 63 | 128,
                  z >> 6 & 63 | 128,
                  z & 63 | 128
                );
              } else
                throw new Error("Invalid code point");
            }
            return qe;
          }
          function Ve(j) {
            for (var V = [], z = 0; z < j.length; ++z)
              V.push(j.charCodeAt(z) & 255);
            return V;
          }
          function Pt(j, V) {
            for (var z, ae, xe, qe = [], bn = 0; bn < j.length && !((V -= 2) < 0); ++bn)
              z = j.charCodeAt(bn), ae = z >> 8, xe = z % 256, qe.push(xe), qe.push(ae);
            return qe;
          }
          function jt(j) {
            return c.toByteArray(de(j));
          }
          function _n(j, V, z, ae) {
            for (var xe = 0; xe < ae && !(xe + z >= V.length || xe >= j.length); ++xe)
              V[xe + z] = j[xe];
            return xe;
          }
          function oe(j, V) {
            return j instanceof V || j != null && j.constructor != null && j.constructor.name != null && j.constructor.name === V.name;
          }
          function le(j) {
            return j !== j;
          }
        }).call(this);
      }).call(this, n("buffer").Buffer);
    }, { "base64-js": 25, buffer: 29, ieee754: 50 }], 30: [function(n, o, a) {
      (function(u) {
        (function() {
          a.formatArgs = d, a.save = f, a.load = p, a.useColors = c, a.storage = _(), a.destroy = (() => {
            let g = !1;
            return () => {
              g || (g = !0, console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."));
            };
          })(), a.colors = [
            "#0000CC",
            "#0000FF",
            "#0033CC",
            "#0033FF",
            "#0066CC",
            "#0066FF",
            "#0099CC",
            "#0099FF",
            "#00CC00",
            "#00CC33",
            "#00CC66",
            "#00CC99",
            "#00CCCC",
            "#00CCFF",
            "#3300CC",
            "#3300FF",
            "#3333CC",
            "#3333FF",
            "#3366CC",
            "#3366FF",
            "#3399CC",
            "#3399FF",
            "#33CC00",
            "#33CC33",
            "#33CC66",
            "#33CC99",
            "#33CCCC",
            "#33CCFF",
            "#6600CC",
            "#6600FF",
            "#6633CC",
            "#6633FF",
            "#66CC00",
            "#66CC33",
            "#9900CC",
            "#9900FF",
            "#9933CC",
            "#9933FF",
            "#99CC00",
            "#99CC33",
            "#CC0000",
            "#CC0033",
            "#CC0066",
            "#CC0099",
            "#CC00CC",
            "#CC00FF",
            "#CC3300",
            "#CC3333",
            "#CC3366",
            "#CC3399",
            "#CC33CC",
            "#CC33FF",
            "#CC6600",
            "#CC6633",
            "#CC9900",
            "#CC9933",
            "#CCCC00",
            "#CCCC33",
            "#FF0000",
            "#FF0033",
            "#FF0066",
            "#FF0099",
            "#FF00CC",
            "#FF00FF",
            "#FF3300",
            "#FF3333",
            "#FF3366",
            "#FF3399",
            "#FF33CC",
            "#FF33FF",
            "#FF6600",
            "#FF6633",
            "#FF9900",
            "#FF9933",
            "#FFCC00",
            "#FFCC33"
          ];
          function c() {
            return typeof window < "u" && window.process && (window.process.type === "renderer" || window.process.__nwjs) ? !0 : typeof navigator < "u" && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/) ? !1 : typeof document < "u" && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance || // Is firebug? http://stackoverflow.com/a/398120/376773
            typeof window < "u" && window.console && (window.console.firebug || window.console.exception && window.console.table) || // Is firefox >= v31?
            // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages
            typeof navigator < "u" && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/) && parseInt(RegExp.$1, 10) >= 31 || // Double check webkit in userAgent just in case we are in a worker
            typeof navigator < "u" && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/);
          }
          function d(g) {
            if (g[0] = (this.useColors ? "%c" : "") + this.namespace + (this.useColors ? " %c" : " ") + g[0] + (this.useColors ? "%c " : " ") + "+" + o.exports.humanize(this.diff), !this.useColors)
              return;
            const y = "color: " + this.color;
            g.splice(1, 0, y, "color: inherit");
            let b = 0, A = 0;
            g[0].replace(/%[a-zA-Z%]/g, (w) => {
              w !== "%%" && (b++, w === "%c" && (A = b));
            }), g.splice(A, 0, y);
          }
          a.log = console.debug || console.log || (() => {
          });
          function f(g) {
            try {
              g ? a.storage.setItem("debug", g) : a.storage.removeItem("debug");
            } catch {
            }
          }
          function p() {
            let g;
            try {
              g = a.storage.getItem("debug");
            } catch {
            }
            return !g && typeof u < "u" && "env" in u && (g = u.env.DEBUG), g;
          }
          function _() {
            try {
              return localStorage;
            } catch {
            }
          }
          o.exports = n("./common")(a);
          const { formatters: v } = o.exports;
          v.j = function(g) {
            try {
              return JSON.stringify(g);
            } catch (y) {
              return "[UnexpectedJSONParseError]: " + y.message;
            }
          };
        }).call(this);
      }).call(this, n("_process"));
    }, { "./common": 31, _process: 102 }], 31: [function(n, o, a) {
      function u(c) {
        f.debug = f, f.default = f, f.coerce = b, f.disable = v, f.enable = _, f.enabled = g, f.humanize = n("ms"), f.destroy = A, Object.keys(c).forEach((w) => {
          f[w] = c[w];
        }), f.names = [], f.skips = [], f.formatters = {};
        function d(w) {
          let S = 0;
          for (let T = 0; T < w.length; T++)
            S = (S << 5) - S + w.charCodeAt(T), S |= 0;
          return f.colors[Math.abs(S) % f.colors.length];
        }
        f.selectColor = d;
        function f(w) {
          let S, T = null, x, L;
          function O(...M) {
            if (!O.enabled)
              return;
            const k = O, ie = Number(/* @__PURE__ */ new Date()), $ = ie - (S || ie);
            k.diff = $, k.prev = S, k.curr = ie, S = ie, M[0] = f.coerce(M[0]), typeof M[0] != "string" && M.unshift("%O");
            let Y = 0;
            M[0] = M[0].replace(/%([a-zA-Z%])/g, (re, F) => {
              if (re === "%%")
                return "%";
              Y++;
              const _e = f.formatters[F];
              if (typeof _e == "function") {
                const ue = M[Y];
                re = _e.call(k, ue), M.splice(Y, 1), Y--;
              }
              return re;
            }), f.formatArgs.call(k, M), (k.log || f.log).apply(k, M);
          }
          return O.namespace = w, O.useColors = f.useColors(), O.color = f.selectColor(w), O.extend = p, O.destroy = f.destroy, Object.defineProperty(O, "enabled", {
            enumerable: !0,
            configurable: !1,
            get: () => T !== null ? T : (x !== f.namespaces && (x = f.namespaces, L = f.enabled(w)), L),
            set: (M) => {
              T = M;
            }
          }), typeof f.init == "function" && f.init(O), O;
        }
        function p(w, S) {
          const T = f(this.namespace + (typeof S > "u" ? ":" : S) + w);
          return T.log = this.log, T;
        }
        function _(w) {
          f.save(w), f.namespaces = w, f.names = [], f.skips = [];
          let S;
          const T = (typeof w == "string" ? w : "").split(/[\s,]+/), x = T.length;
          for (S = 0; S < x; S++)
            T[S] && (w = T[S].replace(/\*/g, ".*?"), w[0] === "-" ? f.skips.push(new RegExp("^" + w.slice(1) + "$")) : f.names.push(new RegExp("^" + w + "$")));
        }
        function v() {
          const w = [
            ...f.names.map(y),
            ...f.skips.map(y).map((S) => "-" + S)
          ].join(",");
          return f.enable(""), w;
        }
        function g(w) {
          if (w[w.length - 1] === "*")
            return !0;
          let S, T;
          for (S = 0, T = f.skips.length; S < T; S++)
            if (f.skips[S].test(w))
              return !1;
          for (S = 0, T = f.names.length; S < T; S++)
            if (f.names[S].test(w))
              return !0;
          return !1;
        }
        function y(w) {
          return w.toString().substring(2, w.toString().length - 2).replace(/\.\*\?$/, "*");
        }
        function b(w) {
          return w instanceof Error ? w.stack || w.message : w;
        }
        function A() {
          console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");
        }
        return f.enable(f.load()), f;
      }
      o.exports = u;
    }, { ms: 97 }], 32: [function(n, o, a) {
      (function(u, c) {
        (function() {
          var d = n("readable-stream"), f = n("end-of-stream"), p = n("inherits"), _ = n("stream-shift"), v = c.from && c.from !== Uint8Array.from ? c.from([0]) : new c([0]), g = function(x, L) {
            x._corked ? x.once("uncork", L) : L();
          }, y = function(x, L) {
            x._autoDestroy && x.destroy(L);
          }, b = function(x, L) {
            return function(O) {
              O ? y(x, O.message === "premature close" ? null : O) : L && !x._ended && x.end();
            };
          }, A = function(x, L) {
            if (!x || x._writableState && x._writableState.finished)
              return L();
            if (x._writableState)
              return x.end(L);
            x.end(), L();
          }, w = function() {
          }, S = function(x) {
            return new d.Readable({ objectMode: !0, highWaterMark: 16 }).wrap(x);
          }, T = function(x, L, O) {
            if (!(this instanceof T))
              return new T(x, L, O);
            d.Duplex.call(this, O), this._writable = null, this._readable = null, this._readable2 = null, this._autoDestroy = !O || O.autoDestroy !== !1, this._forwardDestroy = !O || O.destroy !== !1, this._forwardEnd = !O || O.end !== !1, this._corked = 1, this._ondrain = null, this._drained = !1, this._forwarding = !1, this._unwrite = null, this._unread = null, this._ended = !1, this.destroyed = !1, x && this.setWritable(x), L && this.setReadable(L);
          };
          p(T, d.Duplex), T.obj = function(x, L, O) {
            return O || (O = {}), O.objectMode = !0, O.highWaterMark = 16, new T(x, L, O);
          }, T.prototype.cork = function() {
            ++this._corked === 1 && this.emit("cork");
          }, T.prototype.uncork = function() {
            this._corked && --this._corked === 0 && this.emit("uncork");
          }, T.prototype.setWritable = function(x) {
            if (this._unwrite && this._unwrite(), this.destroyed) {
              x && x.destroy && x.destroy();
              return;
            }
            if (x === null || x === !1) {
              this.end();
              return;
            }
            var L = this, O = f(x, { writable: !0, readable: !1 }, b(this, this._forwardEnd)), M = function() {
              var ie = L._ondrain;
              L._ondrain = null, ie && ie();
            }, k = function() {
              L._writable.removeListener("drain", M), O();
            };
            this._unwrite && u.nextTick(M), this._writable = x, this._writable.on("drain", M), this._unwrite = k, this.uncork();
          }, T.prototype.setReadable = function(x) {
            if (this._unread && this._unread(), this.destroyed) {
              x && x.destroy && x.destroy();
              return;
            }
            if (x === null || x === !1) {
              this.push(null), this.resume();
              return;
            }
            var L = this, O = f(x, { writable: !1, readable: !0 }, b(this)), M = function() {
              L._forward();
            }, k = function() {
              L.push(null);
            }, ie = function() {
              L._readable2.removeListener("readable", M), L._readable2.removeListener("end", k), O();
            };
            this._drained = !0, this._readable = x, this._readable2 = x._readableState ? x : S(x), this._readable2.on("readable", M), this._readable2.on("end", k), this._unread = ie, this._forward();
          }, T.prototype._read = function() {
            this._drained = !0, this._forward();
          }, T.prototype._forward = function() {
            if (!(this._forwarding || !this._readable2 || !this._drained)) {
              this._forwarding = !0;
              for (var x; this._drained && (x = _(this._readable2)) !== null; )
                this.destroyed || (this._drained = this.push(x));
              this._forwarding = !1;
            }
          }, T.prototype.destroy = function(x, L) {
            if (L || (L = w), this.destroyed)
              return L(null);
            this.destroyed = !0;
            var O = this;
            u.nextTick(function() {
              O._destroy(x), L(null);
            });
          }, T.prototype._destroy = function(x) {
            if (x) {
              var L = this._ondrain;
              this._ondrain = null, L ? L(x) : this.emit("error", x);
            }
            this._forwardDestroy && (this._readable && this._readable.destroy && this._readable.destroy(), this._writable && this._writable.destroy && this._writable.destroy()), this.emit("close");
          }, T.prototype._write = function(x, L, O) {
            if (!this.destroyed) {
              if (this._corked)
                return g(this, this._write.bind(this, x, L, O));
              if (x === v)
                return this._finish(O);
              if (!this._writable)
                return O();
              this._writable.write(x) === !1 ? this._ondrain = O : this.destroyed || O();
            }
          }, T.prototype._finish = function(x) {
            var L = this;
            this.emit("preend"), g(this, function() {
              A(L._forwardEnd && L._writable, function() {
                L._writableState.prefinished === !1 && (L._writableState.prefinished = !0), L.emit("prefinish"), g(L, x);
              });
            });
          }, T.prototype.end = function(x, L, O) {
            return typeof x == "function" ? this.end(null, null, x) : typeof L == "function" ? this.end(x, null, L) : (this._ended = !0, x && this.write(x), !this._writableState.ending && !this._writableState.destroyed && this.write(v), d.Writable.prototype.end.call(this, O));
          }, o.exports = T;
        }).call(this);
      }).call(this, n("_process"), n("buffer").Buffer);
    }, { _process: 102, buffer: 29, "end-of-stream": 48, inherits: 51, "readable-stream": 47, "stream-shift": 135 }], 33: [function(n, o, a) {
      function u(g, y) {
        g.prototype = Object.create(y.prototype), g.prototype.constructor = g, g.__proto__ = y;
      }
      var c = {};
      function d(g, y, b) {
        b || (b = Error);
        function A(S, T, x) {
          return typeof y == "string" ? y : y(S, T, x);
        }
        var w = /* @__PURE__ */ function(S) {
          u(T, S);
          function T(x, L, O) {
            return S.call(this, A(x, L, O)) || this;
          }
          return T;
        }(b);
        w.prototype.name = b.name, w.prototype.code = g, c[g] = w;
      }
      function f(g, y) {
        if (Array.isArray(g)) {
          var b = g.length;
          return g = g.map(function(A) {
            return String(A);
          }), b > 2 ? "one of ".concat(y, " ").concat(g.slice(0, b - 1).join(", "), ", or ") + g[b - 1] : b === 2 ? "one of ".concat(y, " ").concat(g[0], " or ").concat(g[1]) : "of ".concat(y, " ").concat(g[0]);
        } else
          return "of ".concat(y, " ").concat(String(g));
      }
      function p(g, y, b) {
        return g.substr(!b || b < 0 ? 0 : +b, y.length) === y;
      }
      function _(g, y, b) {
        return (b === void 0 || b > g.length) && (b = g.length), g.substring(b - y.length, b) === y;
      }
      function v(g, y, b) {
        return typeof b != "number" && (b = 0), b + y.length > g.length ? !1 : g.indexOf(y, b) !== -1;
      }
      d("ERR_INVALID_OPT_VALUE", function(g, y) {
        return 'The value "' + y + '" is invalid for option "' + g + '"';
      }, TypeError), d("ERR_INVALID_ARG_TYPE", function(g, y, b) {
        var A;
        typeof y == "string" && p(y, "not ") ? (A = "must not be", y = y.replace(/^not /, "")) : A = "must be";
        var w;
        if (_(g, " argument"))
          w = "The ".concat(g, " ").concat(A, " ").concat(f(y, "type"));
        else {
          var S = v(g, ".") ? "property" : "argument";
          w = 'The "'.concat(g, '" ').concat(S, " ").concat(A, " ").concat(f(y, "type"));
        }
        return w += ". Received type ".concat(typeof b), w;
      }, TypeError), d("ERR_STREAM_PUSH_AFTER_EOF", "stream.push() after EOF"), d("ERR_METHOD_NOT_IMPLEMENTED", function(g) {
        return "The " + g + " method is not implemented";
      }), d("ERR_STREAM_PREMATURE_CLOSE", "Premature close"), d("ERR_STREAM_DESTROYED", function(g) {
        return "Cannot call " + g + " after a stream was destroyed";
      }), d("ERR_MULTIPLE_CALLBACK", "Callback called multiple times"), d("ERR_STREAM_CANNOT_PIPE", "Cannot pipe, not readable"), d("ERR_STREAM_WRITE_AFTER_END", "write after end"), d("ERR_STREAM_NULL_VALUES", "May not write null values to stream", TypeError), d("ERR_UNKNOWN_ENCODING", function(g) {
        return "Unknown encoding: " + g;
      }, TypeError), d("ERR_STREAM_UNSHIFT_AFTER_END_EVENT", "stream.unshift() after end event"), o.exports.codes = c;
    }, {}], 34: [function(n, o, a) {
      (function(u) {
        (function() {
          var c = Object.keys || function(A) {
            var w = [];
            for (var S in A)
              w.push(S);
            return w;
          };
          o.exports = g;
          var d = n("./_stream_readable"), f = n("./_stream_writable");
          n("inherits")(g, d);
          for (var p = c(f.prototype), _ = 0; _ < p.length; _++) {
            var v = p[_];
            g.prototype[v] || (g.prototype[v] = f.prototype[v]);
          }
          function g(A) {
            if (!(this instanceof g))
              return new g(A);
            d.call(this, A), f.call(this, A), this.allowHalfOpen = !0, A && (A.readable === !1 && (this.readable = !1), A.writable === !1 && (this.writable = !1), A.allowHalfOpen === !1 && (this.allowHalfOpen = !1, this.once("end", y)));
          }
          Object.defineProperty(g.prototype, "writableHighWaterMark", {
            // making it explicit this property is not enumerable
            // because otherwise some prototype manipulation in
            // userland will fail
            enumerable: !1,
            get: function() {
              return this._writableState.highWaterMark;
            }
          }), Object.defineProperty(g.prototype, "writableBuffer", {
            // making it explicit this property is not enumerable
            // because otherwise some prototype manipulation in
            // userland will fail
            enumerable: !1,
            get: function() {
              return this._writableState && this._writableState.getBuffer();
            }
          }), Object.defineProperty(g.prototype, "writableLength", {
            // making it explicit this property is not enumerable
            // because otherwise some prototype manipulation in
            // userland will fail
            enumerable: !1,
            get: function() {
              return this._writableState.length;
            }
          });
          function y() {
            this._writableState.ended || u.nextTick(b, this);
          }
          function b(A) {
            A.end();
          }
          Object.defineProperty(g.prototype, "destroyed", {
            // making it explicit this property is not enumerable
            // because otherwise some prototype manipulation in
            // userland will fail
            enumerable: !1,
            get: function() {
              return this._readableState === void 0 || this._writableState === void 0 ? !1 : this._readableState.destroyed && this._writableState.destroyed;
            },
            set: function(w) {
              this._readableState === void 0 || this._writableState === void 0 || (this._readableState.destroyed = w, this._writableState.destroyed = w);
            }
          });
        }).call(this);
      }).call(this, n("_process"));
    }, { "./_stream_readable": 36, "./_stream_writable": 38, _process: 102, inherits: 51 }], 35: [function(n, o, a) {
      o.exports = c;
      var u = n("./_stream_transform");
      n("inherits")(c, u);
      function c(d) {
        if (!(this instanceof c))
          return new c(d);
        u.call(this, d);
      }
      c.prototype._transform = function(d, f, p) {
        p(null, d);
      };
    }, { "./_stream_transform": 37, inherits: 51 }], 36: [function(n, o, a) {
      (function(u, c) {
        (function() {
          o.exports = Ie;
          var d;
          Ie.ReadableState = ue, n("events").EventEmitter;
          var f = function(le, j) {
            return le.listeners(j).length;
          }, p = n("./internal/streams/stream"), _ = n("buffer").Buffer, v = c.Uint8Array || function() {
          };
          function g(oe) {
            return _.from(oe);
          }
          function y(oe) {
            return _.isBuffer(oe) || oe instanceof v;
          }
          var b = n("util"), A;
          b && b.debuglog ? A = b.debuglog("stream") : A = function() {
          };
          var w = n("./internal/streams/buffer_list"), S = n("./internal/streams/destroy"), T = n("./internal/streams/state"), x = T.getHighWaterMark, L = n("../errors").codes, O = L.ERR_INVALID_ARG_TYPE, M = L.ERR_STREAM_PUSH_AFTER_EOF, k = L.ERR_METHOD_NOT_IMPLEMENTED, ie = L.ERR_STREAM_UNSHIFT_AFTER_END_EVENT, $, Y, D;
          n("inherits")(Ie, p);
          var re = S.errorOrDestroy, F = ["error", "close", "destroy", "pause", "resume"];
          function _e(oe, le, j) {
            if (typeof oe.prependListener == "function")
              return oe.prependListener(le, j);
            !oe._events || !oe._events[le] ? oe.on(le, j) : Array.isArray(oe._events[le]) ? oe._events[le].unshift(j) : oe._events[le] = [j, oe._events[le]];
          }
          function ue(oe, le, j) {
            d = d || n("./_stream_duplex"), oe = oe || {}, typeof j != "boolean" && (j = le instanceof d), this.objectMode = !!oe.objectMode, j && (this.objectMode = this.objectMode || !!oe.readableObjectMode), this.highWaterMark = x(this, oe, "readableHighWaterMark", j), this.buffer = new w(), this.length = 0, this.pipes = null, this.pipesCount = 0, this.flowing = null, this.ended = !1, this.endEmitted = !1, this.reading = !1, this.sync = !0, this.needReadable = !1, this.emittedReadable = !1, this.readableListening = !1, this.resumeScheduled = !1, this.paused = !0, this.emitClose = oe.emitClose !== !1, this.autoDestroy = !!oe.autoDestroy, this.destroyed = !1, this.defaultEncoding = oe.defaultEncoding || "utf8", this.awaitDrain = 0, this.readingMore = !1, this.decoder = null, this.encoding = null, oe.encoding && ($ || ($ = n("string_decoder/").StringDecoder), this.decoder = new $(oe.encoding), this.encoding = oe.encoding);
          }
          function Ie(oe) {
            if (d = d || n("./_stream_duplex"), !(this instanceof Ie))
              return new Ie(oe);
            var le = this instanceof d;
            this._readableState = new ue(oe, this, le), this.readable = !0, oe && (typeof oe.read == "function" && (this._read = oe.read), typeof oe.destroy == "function" && (this._destroy = oe.destroy)), p.call(this);
          }
          Object.defineProperty(Ie.prototype, "destroyed", {
            // making it explicit this property is not enumerable
            // because otherwise some prototype manipulation in
            // userland will fail
            enumerable: !1,
            get: function() {
              return this._readableState === void 0 ? !1 : this._readableState.destroyed;
            },
            set: function(le) {
              this._readableState && (this._readableState.destroyed = le);
            }
          }), Ie.prototype.destroy = S.destroy, Ie.prototype._undestroy = S.undestroy, Ie.prototype._destroy = function(oe, le) {
            le(oe);
          }, Ie.prototype.push = function(oe, le) {
            var j = this._readableState, V;
            return j.objectMode ? V = !0 : typeof oe == "string" && (le = le || j.defaultEncoding, le !== j.encoding && (oe = _.from(oe, le), le = ""), V = !0), ze(this, oe, le, !1, V);
          }, Ie.prototype.unshift = function(oe) {
            return ze(this, oe, null, !0, !1);
          };
          function ze(oe, le, j, V, z) {
            A("readableAddChunk", le);
            var ae = oe._readableState;
            if (le === null)
              ae.reading = !1, In(oe, ae);
            else {
              var xe;
              if (z || (xe = Oe(ae, le)), xe)
                re(oe, xe);
              else if (ae.objectMode || le && le.length > 0)
                if (typeof le != "string" && !ae.objectMode && Object.getPrototypeOf(le) !== _.prototype && (le = g(le)), V)
                  ae.endEmitted ? re(oe, new ie()) : Fe(oe, ae, le, !0);
                else if (ae.ended)
                  re(oe, new M());
                else {
                  if (ae.destroyed)
                    return !1;
                  ae.reading = !1, ae.decoder && !j ? (le = ae.decoder.write(le), ae.objectMode || le.length !== 0 ? Fe(oe, ae, le, !1) : Et(oe, ae)) : Fe(oe, ae, le, !1);
                }
              else
                V || (ae.reading = !1, Et(oe, ae));
            }
            return !ae.ended && (ae.length < ae.highWaterMark || ae.length === 0);
          }
          function Fe(oe, le, j, V) {
            le.flowing && le.length === 0 && !le.sync ? (le.awaitDrain = 0, oe.emit("data", j)) : (le.length += le.objectMode ? 1 : j.length, V ? le.buffer.unshift(j) : le.buffer.push(j), le.needReadable && Dt(oe)), Et(oe, le);
          }
          function Oe(oe, le) {
            var j;
            return !y(le) && typeof le != "string" && le !== void 0 && !oe.objectMode && (j = new O("chunk", ["string", "Buffer", "Uint8Array"], le)), j;
          }
          Ie.prototype.isPaused = function() {
            return this._readableState.flowing === !1;
          }, Ie.prototype.setEncoding = function(oe) {
            $ || ($ = n("string_decoder/").StringDecoder);
            var le = new $(oe);
            this._readableState.decoder = le, this._readableState.encoding = this._readableState.decoder.encoding;
            for (var j = this._readableState.buffer.head, V = ""; j !== null; )
              V += le.write(j.data), j = j.next;
            return this._readableState.buffer.clear(), V !== "" && this._readableState.buffer.push(V), this._readableState.length = V.length, this;
          };
          var Lt = 1073741824;
          function pe(oe) {
            return oe >= Lt ? oe = Lt : (oe--, oe |= oe >>> 1, oe |= oe >>> 2, oe |= oe >>> 4, oe |= oe >>> 8, oe |= oe >>> 16, oe++), oe;
          }
          function Cn(oe, le) {
            return oe <= 0 || le.length === 0 && le.ended ? 0 : le.objectMode ? 1 : oe !== oe ? le.flowing && le.length ? le.buffer.head.data.length : le.length : (oe > le.highWaterMark && (le.highWaterMark = pe(oe)), oe <= le.length ? oe : le.ended ? le.length : (le.needReadable = !0, 0));
          }
          Ie.prototype.read = function(oe) {
            A("read", oe), oe = parseInt(oe, 10);
            var le = this._readableState, j = oe;
            if (oe !== 0 && (le.emittedReadable = !1), oe === 0 && le.needReadable && ((le.highWaterMark !== 0 ? le.length >= le.highWaterMark : le.length > 0) || le.ended))
              return A("read: emitReadable", le.length, le.ended), le.length === 0 && le.ended ? Pt(this) : Dt(this), null;
            if (oe = Cn(oe, le), oe === 0 && le.ended)
              return le.length === 0 && Pt(this), null;
            var V = le.needReadable;
            A("need readable", V), (le.length === 0 || le.length - oe < le.highWaterMark) && (V = !0, A("length less than watermark", V)), le.ended || le.reading ? (V = !1, A("reading or ended", V)) : V && (A("do read"), le.reading = !0, le.sync = !0, le.length === 0 && (le.needReadable = !0), this._read(le.highWaterMark), le.sync = !1, le.reading || (oe = Cn(j, le)));
            var z;
            return oe > 0 ? z = Ve(oe, le) : z = null, z === null ? (le.needReadable = le.length <= le.highWaterMark, oe = 0) : (le.length -= oe, le.awaitDrain = 0), le.length === 0 && (le.ended || (le.needReadable = !0), j !== oe && le.ended && Pt(this)), z !== null && this.emit("data", z), z;
          };
          function In(oe, le) {
            if (A("onEofChunk"), !le.ended) {
              if (le.decoder) {
                var j = le.decoder.end();
                j && j.length && (le.buffer.push(j), le.length += le.objectMode ? 1 : j.length);
              }
              le.ended = !0, le.sync ? Dt(oe) : (le.needReadable = !1, le.emittedReadable || (le.emittedReadable = !0, he(oe)));
            }
          }
          function Dt(oe) {
            var le = oe._readableState;
            A("emitReadable", le.needReadable, le.emittedReadable), le.needReadable = !1, le.emittedReadable || (A("emitReadable", le.flowing), le.emittedReadable = !0, u.nextTick(he, oe));
          }
          function he(oe) {
            var le = oe._readableState;
            A("emitReadable_", le.destroyed, le.length, le.ended), !le.destroyed && (le.length || le.ended) && (oe.emit("readable"), le.emittedReadable = !1), le.needReadable = !le.flowing && !le.ended && le.length <= le.highWaterMark, Ne(oe);
          }
          function Et(oe, le) {
            le.readingMore || (le.readingMore = !0, u.nextTick(hn, oe, le));
          }
          function hn(oe, le) {
            for (; !le.reading && !le.ended && (le.length < le.highWaterMark || le.flowing && le.length === 0); ) {
              var j = le.length;
              if (A("maybeReadMore read 0"), oe.read(0), j === le.length)
                break;
            }
            le.readingMore = !1;
          }
          Ie.prototype._read = function(oe) {
            re(this, new k("_read()"));
          }, Ie.prototype.pipe = function(oe, le) {
            var j = this, V = this._readableState;
            switch (V.pipesCount) {
              case 0:
                V.pipes = oe;
                break;
              case 1:
                V.pipes = [V.pipes, oe];
                break;
              default:
                V.pipes.push(oe);
                break;
            }
            V.pipesCount += 1, A("pipe count=%d opts=%j", V.pipesCount, le);
            var z = (!le || le.end !== !1) && oe !== u.stdout && oe !== u.stderr, ae = z ? qe : wn;
            V.endEmitted ? u.nextTick(ae) : j.once("end", ae), oe.on("unpipe", xe);
            function xe(Ln, Mn) {
              A("onunpipe"), Ln === j && Mn && Mn.hasUnpiped === !1 && (Mn.hasUnpiped = !0, xn());
            }
            function qe() {
              A("onend"), oe.end();
            }
            var bn = vn(j);
            oe.on("drain", bn);
            var Sn = !1;
            function xn() {
              A("cleanup"), oe.removeListener("close", At), oe.removeListener("finish", En), oe.removeListener("drain", bn), oe.removeListener("error", $e), oe.removeListener("unpipe", xe), j.removeListener("end", qe), j.removeListener("end", wn), j.removeListener("data", Rn), Sn = !0, V.awaitDrain && (!oe._writableState || oe._writableState.needDrain) && bn();
            }
            j.on("data", Rn);
            function Rn(Ln) {
              A("ondata");
              var Mn = oe.write(Ln);
              A("dest.write", Mn), Mn === !1 && ((V.pipesCount === 1 && V.pipes === oe || V.pipesCount > 1 && _n(V.pipes, oe) !== -1) && !Sn && (A("false write response, pause", V.awaitDrain), V.awaitDrain++), j.pause());
            }
            function $e(Ln) {
              A("onerror", Ln), wn(), oe.removeListener("error", $e), f(oe, "error") === 0 && re(oe, Ln);
            }
            _e(oe, "error", $e);
            function At() {
              oe.removeListener("finish", En), wn();
            }
            oe.once("close", At);
            function En() {
              A("onfinish"), oe.removeListener("close", At), wn();
            }
            oe.once("finish", En);
            function wn() {
              A("unpipe"), j.unpipe(oe);
            }
            return oe.emit("pipe", j), V.flowing || (A("pipe resume"), j.resume()), oe;
          };
          function vn(oe) {
            return function() {
              var j = oe._readableState;
              A("pipeOnDrain", j.awaitDrain), j.awaitDrain && j.awaitDrain--, j.awaitDrain === 0 && f(oe, "data") && (j.flowing = !0, Ne(oe));
            };
          }
          Ie.prototype.unpipe = function(oe) {
            var le = this._readableState, j = {
              hasUnpiped: !1
            };
            if (le.pipesCount === 0)
              return this;
            if (le.pipesCount === 1)
              return oe && oe !== le.pipes ? this : (oe || (oe = le.pipes), le.pipes = null, le.pipesCount = 0, le.flowing = !1, oe && oe.emit("unpipe", this, j), this);
            if (!oe) {
              var V = le.pipes, z = le.pipesCount;
              le.pipes = null, le.pipesCount = 0, le.flowing = !1;
              for (var ae = 0; ae < z; ae++)
                V[ae].emit("unpipe", this, {
                  hasUnpiped: !1
                });
              return this;
            }
            var xe = _n(le.pipes, oe);
            return xe === -1 ? this : (le.pipes.splice(xe, 1), le.pipesCount -= 1, le.pipesCount === 1 && (le.pipes = le.pipes[0]), oe.emit("unpipe", this, j), this);
          }, Ie.prototype.on = function(oe, le) {
            var j = p.prototype.on.call(this, oe, le), V = this._readableState;
            return oe === "data" ? (V.readableListening = this.listenerCount("readable") > 0, V.flowing !== !1 && this.resume()) : oe === "readable" && !V.endEmitted && !V.readableListening && (V.readableListening = V.needReadable = !0, V.flowing = !1, V.emittedReadable = !1, A("on readable", V.length, V.reading), V.length ? Dt(this) : V.reading || u.nextTick(Ce, this)), j;
          }, Ie.prototype.addListener = Ie.prototype.on, Ie.prototype.removeListener = function(oe, le) {
            var j = p.prototype.removeListener.call(this, oe, le);
            return oe === "readable" && u.nextTick(kt, this), j;
          }, Ie.prototype.removeAllListeners = function(oe) {
            var le = p.prototype.removeAllListeners.apply(this, arguments);
            return (oe === "readable" || oe === void 0) && u.nextTick(kt, this), le;
          };
          function kt(oe) {
            var le = oe._readableState;
            le.readableListening = oe.listenerCount("readable") > 0, le.resumeScheduled && !le.paused ? le.flowing = !0 : oe.listenerCount("data") > 0 && oe.resume();
          }
          function Ce(oe) {
            A("readable nexttick read 0"), oe.read(0);
          }
          Ie.prototype.resume = function() {
            var oe = this._readableState;
            return oe.flowing || (A("resume"), oe.flowing = !oe.readableListening, de(this, oe)), oe.paused = !1, this;
          };
          function de(oe, le) {
            le.resumeScheduled || (le.resumeScheduled = !0, u.nextTick(Ue, oe, le));
          }
          function Ue(oe, le) {
            A("resume", le.reading), le.reading || oe.read(0), le.resumeScheduled = !1, oe.emit("resume"), Ne(oe), le.flowing && !le.reading && oe.read(0);
          }
          Ie.prototype.pause = function() {
            return A("call pause flowing=%j", this._readableState.flowing), this._readableState.flowing !== !1 && (A("pause"), this._readableState.flowing = !1, this.emit("pause")), this._readableState.paused = !0, this;
          };
          function Ne(oe) {
            var le = oe._readableState;
            for (A("flow", le.flowing); le.flowing && oe.read() !== null; )
              ;
          }
          Ie.prototype.wrap = function(oe) {
            var le = this, j = this._readableState, V = !1;
            oe.on("end", function() {
              if (A("wrapped end"), j.decoder && !j.ended) {
                var xe = j.decoder.end();
                xe && xe.length && le.push(xe);
              }
              le.push(null);
            }), oe.on("data", function(xe) {
              if (A("wrapped data"), j.decoder && (xe = j.decoder.write(xe)), !(j.objectMode && xe == null) && !(!j.objectMode && (!xe || !xe.length))) {
                var qe = le.push(xe);
                qe || (V = !0, oe.pause());
              }
            });
            for (var z in oe)
              this[z] === void 0 && typeof oe[z] == "function" && (this[z] = function(qe) {
                return function() {
                  return oe[qe].apply(oe, arguments);
                };
              }(z));
            for (var ae = 0; ae < F.length; ae++)
              oe.on(F[ae], this.emit.bind(this, F[ae]));
            return this._read = function(xe) {
              A("wrapped _read", xe), V && (V = !1, oe.resume());
            }, this;
          }, typeof Symbol == "function" && (Ie.prototype[Symbol.asyncIterator] = function() {
            return Y === void 0 && (Y = n("./internal/streams/async_iterator")), Y(this);
          }), Object.defineProperty(Ie.prototype, "readableHighWaterMark", {
            // making it explicit this property is not enumerable
            // because otherwise some prototype manipulation in
            // userland will fail
            enumerable: !1,
            get: function() {
              return this._readableState.highWaterMark;
            }
          }), Object.defineProperty(Ie.prototype, "readableBuffer", {
            // making it explicit this property is not enumerable
            // because otherwise some prototype manipulation in
            // userland will fail
            enumerable: !1,
            get: function() {
              return this._readableState && this._readableState.buffer;
            }
          }), Object.defineProperty(Ie.prototype, "readableFlowing", {
            // making it explicit this property is not enumerable
            // because otherwise some prototype manipulation in
            // userland will fail
            enumerable: !1,
            get: function() {
              return this._readableState.flowing;
            },
            set: function(le) {
              this._readableState && (this._readableState.flowing = le);
            }
          }), Ie._fromList = Ve, Object.defineProperty(Ie.prototype, "readableLength", {
            // making it explicit this property is not enumerable
            // because otherwise some prototype manipulation in
            // userland will fail
            enumerable: !1,
            get: function() {
              return this._readableState.length;
            }
          });
          function Ve(oe, le) {
            if (le.length === 0)
              return null;
            var j;
            return le.objectMode ? j = le.buffer.shift() : !oe || oe >= le.length ? (le.decoder ? j = le.buffer.join("") : le.buffer.length === 1 ? j = le.buffer.first() : j = le.buffer.concat(le.length), le.buffer.clear()) : j = le.buffer.consume(oe, le.decoder), j;
          }
          function Pt(oe) {
            var le = oe._readableState;
            A("endReadable", le.endEmitted), le.endEmitted || (le.ended = !0, u.nextTick(jt, le, oe));
          }
          function jt(oe, le) {
            if (A("endReadableNT", oe.endEmitted, oe.length), !oe.endEmitted && oe.length === 0 && (oe.endEmitted = !0, le.readable = !1, le.emit("end"), oe.autoDestroy)) {
              var j = le._writableState;
              (!j || j.autoDestroy && j.finished) && le.destroy();
            }
          }
          typeof Symbol == "function" && (Ie.from = function(oe, le) {
            return D === void 0 && (D = n("./internal/streams/from")), D(Ie, oe, le);
          });
          function _n(oe, le) {
            for (var j = 0, V = oe.length; j < V; j++)
              if (oe[j] === le)
                return j;
            return -1;
          }
        }).call(this);
      }).call(this, n("_process"), typeof commonjsGlobal < "u" ? commonjsGlobal : typeof self < "u" ? self : typeof window < "u" ? window : {});
    }, { "../errors": 33, "./_stream_duplex": 34, "./internal/streams/async_iterator": 39, "./internal/streams/buffer_list": 40, "./internal/streams/destroy": 41, "./internal/streams/from": 43, "./internal/streams/state": 45, "./internal/streams/stream": 46, _process: 102, buffer: 29, events: 49, inherits: 51, "string_decoder/": 136, util: 26 }], 37: [function(n, o, a) {
      o.exports = g;
      var u = n("../errors").codes, c = u.ERR_METHOD_NOT_IMPLEMENTED, d = u.ERR_MULTIPLE_CALLBACK, f = u.ERR_TRANSFORM_ALREADY_TRANSFORMING, p = u.ERR_TRANSFORM_WITH_LENGTH_0, _ = n("./_stream_duplex");
      n("inherits")(g, _);
      function v(A, w) {
        var S = this._transformState;
        S.transforming = !1;
        var T = S.writecb;
        if (T === null)
          return this.emit("error", new d());
        S.writechunk = null, S.writecb = null, w != null && this.push(w), T(A);
        var x = this._readableState;
        x.reading = !1, (x.needReadable || x.length < x.highWaterMark) && this._read(x.highWaterMark);
      }
      function g(A) {
        if (!(this instanceof g))
          return new g(A);
        _.call(this, A), this._transformState = {
          afterTransform: v.bind(this),
          needTransform: !1,
          transforming: !1,
          writecb: null,
          writechunk: null,
          writeencoding: null
        }, this._readableState.needReadable = !0, this._readableState.sync = !1, A && (typeof A.transform == "function" && (this._transform = A.transform), typeof A.flush == "function" && (this._flush = A.flush)), this.on("prefinish", y);
      }
      function y() {
        var A = this;
        typeof this._flush == "function" && !this._readableState.destroyed ? this._flush(function(w, S) {
          b(A, w, S);
        }) : b(this, null, null);
      }
      g.prototype.push = function(A, w) {
        return this._transformState.needTransform = !1, _.prototype.push.call(this, A, w);
      }, g.prototype._transform = function(A, w, S) {
        S(new c("_transform()"));
      }, g.prototype._write = function(A, w, S) {
        var T = this._transformState;
        if (T.writecb = S, T.writechunk = A, T.writeencoding = w, !T.transforming) {
          var x = this._readableState;
          (T.needTransform || x.needReadable || x.length < x.highWaterMark) && this._read(x.highWaterMark);
        }
      }, g.prototype._read = function(A) {
        var w = this._transformState;
        w.writechunk !== null && !w.transforming ? (w.transforming = !0, this._transform(w.writechunk, w.writeencoding, w.afterTransform)) : w.needTransform = !0;
      }, g.prototype._destroy = function(A, w) {
        _.prototype._destroy.call(this, A, function(S) {
          w(S);
        });
      };
      function b(A, w, S) {
        if (w)
          return A.emit("error", w);
        if (S != null && A.push(S), A._writableState.length)
          throw new p();
        if (A._transformState.transforming)
          throw new f();
        return A.push(null);
      }
    }, { "../errors": 33, "./_stream_duplex": 34, inherits: 51 }], 38: [function(n, o, a) {
      (function(u, c) {
        (function() {
          o.exports = ue;
          function d(Ne) {
            var Ve = this;
            this.next = null, this.entry = null, this.finish = function() {
              Ue(Ve, Ne);
            };
          }
          var f;
          ue.WritableState = F;
          var p = {
            deprecate: n("util-deprecate")
          }, _ = n("./internal/streams/stream"), v = n("buffer").Buffer, g = c.Uint8Array || function() {
          };
          function y(Ne) {
            return v.from(Ne);
          }
          function b(Ne) {
            return v.isBuffer(Ne) || Ne instanceof g;
          }
          var A = n("./internal/streams/destroy"), w = n("./internal/streams/state"), S = w.getHighWaterMark, T = n("../errors").codes, x = T.ERR_INVALID_ARG_TYPE, L = T.ERR_METHOD_NOT_IMPLEMENTED, O = T.ERR_MULTIPLE_CALLBACK, M = T.ERR_STREAM_CANNOT_PIPE, k = T.ERR_STREAM_DESTROYED, ie = T.ERR_STREAM_NULL_VALUES, $ = T.ERR_STREAM_WRITE_AFTER_END, Y = T.ERR_UNKNOWN_ENCODING, D = A.errorOrDestroy;
          n("inherits")(ue, _);
          function re() {
          }
          function F(Ne, Ve, Pt) {
            f = f || n("./_stream_duplex"), Ne = Ne || {}, typeof Pt != "boolean" && (Pt = Ve instanceof f), this.objectMode = !!Ne.objectMode, Pt && (this.objectMode = this.objectMode || !!Ne.writableObjectMode), this.highWaterMark = S(this, Ne, "writableHighWaterMark", Pt), this.finalCalled = !1, this.needDrain = !1, this.ending = !1, this.ended = !1, this.finished = !1, this.destroyed = !1;
            var jt = Ne.decodeStrings === !1;
            this.decodeStrings = !jt, this.defaultEncoding = Ne.defaultEncoding || "utf8", this.length = 0, this.writing = !1, this.corked = 0, this.sync = !0, this.bufferProcessing = !1, this.onwrite = function(_n) {
              In(Ve, _n);
            }, this.writecb = null, this.writelen = 0, this.bufferedRequest = null, this.lastBufferedRequest = null, this.pendingcb = 0, this.prefinished = !1, this.errorEmitted = !1, this.emitClose = Ne.emitClose !== !1, this.autoDestroy = !!Ne.autoDestroy, this.bufferedRequestCount = 0, this.corkedRequestsFree = new d(this);
          }
          F.prototype.getBuffer = function() {
            for (var Ve = this.bufferedRequest, Pt = []; Ve; )
              Pt.push(Ve), Ve = Ve.next;
            return Pt;
          }, function() {
            try {
              Object.defineProperty(F.prototype, "buffer", {
                get: p.deprecate(function() {
                  return this.getBuffer();
                }, "_writableState.buffer is deprecated. Use _writableState.getBuffer instead.", "DEP0003")
              });
            } catch {
            }
          }();
          var _e;
          typeof Symbol == "function" && Symbol.hasInstance && typeof Function.prototype[Symbol.hasInstance] == "function" ? (_e = Function.prototype[Symbol.hasInstance], Object.defineProperty(ue, Symbol.hasInstance, {
            value: function(Ve) {
              return _e.call(this, Ve) ? !0 : this !== ue ? !1 : Ve && Ve._writableState instanceof F;
            }
          })) : _e = function(Ve) {
            return Ve instanceof this;
          };
          function ue(Ne) {
            f = f || n("./_stream_duplex");
            var Ve = this instanceof f;
            if (!Ve && !_e.call(ue, this))
              return new ue(Ne);
            this._writableState = new F(Ne, this, Ve), this.writable = !0, Ne && (typeof Ne.write == "function" && (this._write = Ne.write), typeof Ne.writev == "function" && (this._writev = Ne.writev), typeof Ne.destroy == "function" && (this._destroy = Ne.destroy), typeof Ne.final == "function" && (this._final = Ne.final)), _.call(this);
          }
          ue.prototype.pipe = function() {
            D(this, new M());
          };
          function Ie(Ne, Ve) {
            var Pt = new $();
            D(Ne, Pt), u.nextTick(Ve, Pt);
          }
          function ze(Ne, Ve, Pt, jt) {
            var _n;
            return Pt === null ? _n = new ie() : typeof Pt != "string" && !Ve.objectMode && (_n = new x("chunk", ["string", "Buffer"], Pt)), _n ? (D(Ne, _n), u.nextTick(jt, _n), !1) : !0;
          }
          ue.prototype.write = function(Ne, Ve, Pt) {
            var jt = this._writableState, _n = !1, oe = !jt.objectMode && b(Ne);
            return oe && !v.isBuffer(Ne) && (Ne = y(Ne)), typeof Ve == "function" && (Pt = Ve, Ve = null), oe ? Ve = "buffer" : Ve || (Ve = jt.defaultEncoding), typeof Pt != "function" && (Pt = re), jt.ending ? Ie(this, Pt) : (oe || ze(this, jt, Ne, Pt)) && (jt.pendingcb++, _n = Oe(this, jt, oe, Ne, Ve, Pt)), _n;
          }, ue.prototype.cork = function() {
            this._writableState.corked++;
          }, ue.prototype.uncork = function() {
            var Ne = this._writableState;
            Ne.corked && (Ne.corked--, !Ne.writing && !Ne.corked && !Ne.bufferProcessing && Ne.bufferedRequest && Et(this, Ne));
          }, ue.prototype.setDefaultEncoding = function(Ve) {
            if (typeof Ve == "string" && (Ve = Ve.toLowerCase()), !(["hex", "utf8", "utf-8", "ascii", "binary", "base64", "ucs2", "ucs-2", "utf16le", "utf-16le", "raw"].indexOf((Ve + "").toLowerCase()) > -1))
              throw new Y(Ve);
            return this._writableState.defaultEncoding = Ve, this;
          }, Object.defineProperty(ue.prototype, "writableBuffer", {
            // making it explicit this property is not enumerable
            // because otherwise some prototype manipulation in
            // userland will fail
            enumerable: !1,
            get: function() {
              return this._writableState && this._writableState.getBuffer();
            }
          });
          function Fe(Ne, Ve, Pt) {
            return !Ne.objectMode && Ne.decodeStrings !== !1 && typeof Ve == "string" && (Ve = v.from(Ve, Pt)), Ve;
          }
          Object.defineProperty(ue.prototype, "writableHighWaterMark", {
            // making it explicit this property is not enumerable
            // because otherwise some prototype manipulation in
            // userland will fail
            enumerable: !1,
            get: function() {
              return this._writableState.highWaterMark;
            }
          });
          function Oe(Ne, Ve, Pt, jt, _n, oe) {
            if (!Pt) {
              var le = Fe(Ve, jt, _n);
              jt !== le && (Pt = !0, _n = "buffer", jt = le);
            }
            var j = Ve.objectMode ? 1 : jt.length;
            Ve.length += j;
            var V = Ve.length < Ve.highWaterMark;
            if (V || (Ve.needDrain = !0), Ve.writing || Ve.corked) {
              var z = Ve.lastBufferedRequest;
              Ve.lastBufferedRequest = {
                chunk: jt,
                encoding: _n,
                isBuf: Pt,
                callback: oe,
                next: null
              }, z ? z.next = Ve.lastBufferedRequest : Ve.bufferedRequest = Ve.lastBufferedRequest, Ve.bufferedRequestCount += 1;
            } else
              Lt(Ne, Ve, !1, j, jt, _n, oe);
            return V;
          }
          function Lt(Ne, Ve, Pt, jt, _n, oe, le) {
            Ve.writelen = jt, Ve.writecb = le, Ve.writing = !0, Ve.sync = !0, Ve.destroyed ? Ve.onwrite(new k("write")) : Pt ? Ne._writev(_n, Ve.onwrite) : Ne._write(_n, oe, Ve.onwrite), Ve.sync = !1;
          }
          function pe(Ne, Ve, Pt, jt, _n) {
            --Ve.pendingcb, Pt ? (u.nextTick(_n, jt), u.nextTick(Ce, Ne, Ve), Ne._writableState.errorEmitted = !0, D(Ne, jt)) : (_n(jt), Ne._writableState.errorEmitted = !0, D(Ne, jt), Ce(Ne, Ve));
          }
          function Cn(Ne) {
            Ne.writing = !1, Ne.writecb = null, Ne.length -= Ne.writelen, Ne.writelen = 0;
          }
          function In(Ne, Ve) {
            var Pt = Ne._writableState, jt = Pt.sync, _n = Pt.writecb;
            if (typeof _n != "function")
              throw new O();
            if (Cn(Pt), Ve)
              pe(Ne, Pt, jt, Ve, _n);
            else {
              var oe = hn(Pt) || Ne.destroyed;
              !oe && !Pt.corked && !Pt.bufferProcessing && Pt.bufferedRequest && Et(Ne, Pt), jt ? u.nextTick(Dt, Ne, Pt, oe, _n) : Dt(Ne, Pt, oe, _n);
            }
          }
          function Dt(Ne, Ve, Pt, jt) {
            Pt || he(Ne, Ve), Ve.pendingcb--, jt(), Ce(Ne, Ve);
          }
          function he(Ne, Ve) {
            Ve.length === 0 && Ve.needDrain && (Ve.needDrain = !1, Ne.emit("drain"));
          }
          function Et(Ne, Ve) {
            Ve.bufferProcessing = !0;
            var Pt = Ve.bufferedRequest;
            if (Ne._writev && Pt && Pt.next) {
              var jt = Ve.bufferedRequestCount, _n = new Array(jt), oe = Ve.corkedRequestsFree;
              oe.entry = Pt;
              for (var le = 0, j = !0; Pt; )
                _n[le] = Pt, Pt.isBuf || (j = !1), Pt = Pt.next, le += 1;
              _n.allBuffers = j, Lt(Ne, Ve, !0, Ve.length, _n, "", oe.finish), Ve.pendingcb++, Ve.lastBufferedRequest = null, oe.next ? (Ve.corkedRequestsFree = oe.next, oe.next = null) : Ve.corkedRequestsFree = new d(Ve), Ve.bufferedRequestCount = 0;
            } else {
              for (; Pt; ) {
                var V = Pt.chunk, z = Pt.encoding, ae = Pt.callback, xe = Ve.objectMode ? 1 : V.length;
                if (Lt(Ne, Ve, !1, xe, V, z, ae), Pt = Pt.next, Ve.bufferedRequestCount--, Ve.writing)
                  break;
              }
              Pt === null && (Ve.lastBufferedRequest = null);
            }
            Ve.bufferedRequest = Pt, Ve.bufferProcessing = !1;
          }
          ue.prototype._write = function(Ne, Ve, Pt) {
            Pt(new L("_write()"));
          }, ue.prototype._writev = null, ue.prototype.end = function(Ne, Ve, Pt) {
            var jt = this._writableState;
            return typeof Ne == "function" ? (Pt = Ne, Ne = null, Ve = null) : typeof Ve == "function" && (Pt = Ve, Ve = null), Ne != null && this.write(Ne, Ve), jt.corked && (jt.corked = 1, this.uncork()), jt.ending || de(this, jt, Pt), this;
          }, Object.defineProperty(ue.prototype, "writableLength", {
            // making it explicit this property is not enumerable
            // because otherwise some prototype manipulation in
            // userland will fail
            enumerable: !1,
            get: function() {
              return this._writableState.length;
            }
          });
          function hn(Ne) {
            return Ne.ending && Ne.length === 0 && Ne.bufferedRequest === null && !Ne.finished && !Ne.writing;
          }
          function vn(Ne, Ve) {
            Ne._final(function(Pt) {
              Ve.pendingcb--, Pt && D(Ne, Pt), Ve.prefinished = !0, Ne.emit("prefinish"), Ce(Ne, Ve);
            });
          }
          function kt(Ne, Ve) {
            !Ve.prefinished && !Ve.finalCalled && (typeof Ne._final == "function" && !Ve.destroyed ? (Ve.pendingcb++, Ve.finalCalled = !0, u.nextTick(vn, Ne, Ve)) : (Ve.prefinished = !0, Ne.emit("prefinish")));
          }
          function Ce(Ne, Ve) {
            var Pt = hn(Ve);
            if (Pt && (kt(Ne, Ve), Ve.pendingcb === 0 && (Ve.finished = !0, Ne.emit("finish"), Ve.autoDestroy))) {
              var jt = Ne._readableState;
              (!jt || jt.autoDestroy && jt.endEmitted) && Ne.destroy();
            }
            return Pt;
          }
          function de(Ne, Ve, Pt) {
            Ve.ending = !0, Ce(Ne, Ve), Pt && (Ve.finished ? u.nextTick(Pt) : Ne.once("finish", Pt)), Ve.ended = !0, Ne.writable = !1;
          }
          function Ue(Ne, Ve, Pt) {
            var jt = Ne.entry;
            for (Ne.entry = null; jt; ) {
              var _n = jt.callback;
              Ve.pendingcb--, _n(Pt), jt = jt.next;
            }
            Ve.corkedRequestsFree.next = Ne;
          }
          Object.defineProperty(ue.prototype, "destroyed", {
            // making it explicit this property is not enumerable
            // because otherwise some prototype manipulation in
            // userland will fail
            enumerable: !1,
            get: function() {
              return this._writableState === void 0 ? !1 : this._writableState.destroyed;
            },
            set: function(Ve) {
              this._writableState && (this._writableState.destroyed = Ve);
            }
          }), ue.prototype.destroy = A.destroy, ue.prototype._undestroy = A.undestroy, ue.prototype._destroy = function(Ne, Ve) {
            Ve(Ne);
          };
        }).call(this);
      }).call(this, n("_process"), typeof commonjsGlobal < "u" ? commonjsGlobal : typeof self < "u" ? self : typeof window < "u" ? window : {});
    }, { "../errors": 33, "./_stream_duplex": 34, "./internal/streams/destroy": 41, "./internal/streams/state": 45, "./internal/streams/stream": 46, _process: 102, buffer: 29, inherits: 51, "util-deprecate": 139 }], 39: [function(n, o, a) {
      (function(u) {
        (function() {
          var c;
          function d(k, ie, $) {
            return ie in k ? Object.defineProperty(k, ie, { value: $, enumerable: !0, configurable: !0, writable: !0 }) : k[ie] = $, k;
          }
          var f = n("./end-of-stream"), p = Symbol("lastResolve"), _ = Symbol("lastReject"), v = Symbol("error"), g = Symbol("ended"), y = Symbol("lastPromise"), b = Symbol("handlePromise"), A = Symbol("stream");
          function w(k, ie) {
            return {
              value: k,
              done: ie
            };
          }
          function S(k) {
            var ie = k[p];
            if (ie !== null) {
              var $ = k[A].read();
              $ !== null && (k[y] = null, k[p] = null, k[_] = null, ie(w($, !1)));
            }
          }
          function T(k) {
            u.nextTick(S, k);
          }
          function x(k, ie) {
            return function($, Y) {
              k.then(function() {
                if (ie[g]) {
                  $(w(void 0, !0));
                  return;
                }
                ie[b]($, Y);
              }, Y);
            };
          }
          var L = Object.getPrototypeOf(function() {
          }), O = Object.setPrototypeOf((c = {
            get stream() {
              return this[A];
            },
            next: function() {
              var ie = this, $ = this[v];
              if ($ !== null)
                return Promise.reject($);
              if (this[g])
                return Promise.resolve(w(void 0, !0));
              if (this[A].destroyed)
                return new Promise(function(F, _e) {
                  u.nextTick(function() {
                    ie[v] ? _e(ie[v]) : F(w(void 0, !0));
                  });
                });
              var Y = this[y], D;
              if (Y)
                D = new Promise(x(Y, this));
              else {
                var re = this[A].read();
                if (re !== null)
                  return Promise.resolve(w(re, !1));
                D = new Promise(this[b]);
              }
              return this[y] = D, D;
            }
          }, d(c, Symbol.asyncIterator, function() {
            return this;
          }), d(c, "return", function() {
            var ie = this;
            return new Promise(function($, Y) {
              ie[A].destroy(null, function(D) {
                if (D) {
                  Y(D);
                  return;
                }
                $(w(void 0, !0));
              });
            });
          }), c), L), M = function(ie) {
            var $, Y = Object.create(O, ($ = {}, d($, A, {
              value: ie,
              writable: !0
            }), d($, p, {
              value: null,
              writable: !0
            }), d($, _, {
              value: null,
              writable: !0
            }), d($, v, {
              value: null,
              writable: !0
            }), d($, g, {
              value: ie._readableState.endEmitted,
              writable: !0
            }), d($, b, {
              value: function(re, F) {
                var _e = Y[A].read();
                _e ? (Y[y] = null, Y[p] = null, Y[_] = null, re(w(_e, !1))) : (Y[p] = re, Y[_] = F);
              },
              writable: !0
            }), $));
            return Y[y] = null, f(ie, function(D) {
              if (D && D.code !== "ERR_STREAM_PREMATURE_CLOSE") {
                var re = Y[_];
                re !== null && (Y[y] = null, Y[p] = null, Y[_] = null, re(D)), Y[v] = D;
                return;
              }
              var F = Y[p];
              F !== null && (Y[y] = null, Y[p] = null, Y[_] = null, F(w(void 0, !0))), Y[g] = !0;
            }), ie.on("readable", T.bind(null, Y)), Y;
          };
          o.exports = M;
        }).call(this);
      }).call(this, n("_process"));
    }, { "./end-of-stream": 42, _process: 102 }], 40: [function(n, o, a) {
      function u(S, T) {
        var x = Object.keys(S);
        if (Object.getOwnPropertySymbols) {
          var L = Object.getOwnPropertySymbols(S);
          T && (L = L.filter(function(O) {
            return Object.getOwnPropertyDescriptor(S, O).enumerable;
          })), x.push.apply(x, L);
        }
        return x;
      }
      function c(S) {
        for (var T = 1; T < arguments.length; T++) {
          var x = arguments[T] != null ? arguments[T] : {};
          T % 2 ? u(Object(x), !0).forEach(function(L) {
            d(S, L, x[L]);
          }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(S, Object.getOwnPropertyDescriptors(x)) : u(Object(x)).forEach(function(L) {
            Object.defineProperty(S, L, Object.getOwnPropertyDescriptor(x, L));
          });
        }
        return S;
      }
      function d(S, T, x) {
        return T in S ? Object.defineProperty(S, T, { value: x, enumerable: !0, configurable: !0, writable: !0 }) : S[T] = x, S;
      }
      function f(S, T) {
        if (!(S instanceof T))
          throw new TypeError("Cannot call a class as a function");
      }
      function p(S, T) {
        for (var x = 0; x < T.length; x++) {
          var L = T[x];
          L.enumerable = L.enumerable || !1, L.configurable = !0, "value" in L && (L.writable = !0), Object.defineProperty(S, L.key, L);
        }
      }
      function _(S, T, x) {
        return T && p(S.prototype, T), x && p(S, x), S;
      }
      var v = n("buffer"), g = v.Buffer, y = n("util"), b = y.inspect, A = b && b.custom || "inspect";
      function w(S, T, x) {
        g.prototype.copy.call(S, T, x);
      }
      o.exports = /* @__PURE__ */ function() {
        function S() {
          f(this, S), this.head = null, this.tail = null, this.length = 0;
        }
        return _(S, [{
          key: "push",
          value: function(x) {
            var L = {
              data: x,
              next: null
            };
            this.length > 0 ? this.tail.next = L : this.head = L, this.tail = L, ++this.length;
          }
        }, {
          key: "unshift",
          value: function(x) {
            var L = {
              data: x,
              next: this.head
            };
            this.length === 0 && (this.tail = L), this.head = L, ++this.length;
          }
        }, {
          key: "shift",
          value: function() {
            if (this.length !== 0) {
              var x = this.head.data;
              return this.length === 1 ? this.head = this.tail = null : this.head = this.head.next, --this.length, x;
            }
          }
        }, {
          key: "clear",
          value: function() {
            this.head = this.tail = null, this.length = 0;
          }
        }, {
          key: "join",
          value: function(x) {
            if (this.length === 0)
              return "";
            for (var L = this.head, O = "" + L.data; L = L.next; )
              O += x + L.data;
            return O;
          }
        }, {
          key: "concat",
          value: function(x) {
            if (this.length === 0)
              return g.alloc(0);
            for (var L = g.allocUnsafe(x >>> 0), O = this.head, M = 0; O; )
              w(O.data, L, M), M += O.data.length, O = O.next;
            return L;
          }
          // Consumes a specified amount of bytes or characters from the buffered data.
        }, {
          key: "consume",
          value: function(x, L) {
            var O;
            return x < this.head.data.length ? (O = this.head.data.slice(0, x), this.head.data = this.head.data.slice(x)) : x === this.head.data.length ? O = this.shift() : O = L ? this._getString(x) : this._getBuffer(x), O;
          }
        }, {
          key: "first",
          value: function() {
            return this.head.data;
          }
          // Consumes a specified amount of characters from the buffered data.
        }, {
          key: "_getString",
          value: function(x) {
            var L = this.head, O = 1, M = L.data;
            for (x -= M.length; L = L.next; ) {
              var k = L.data, ie = x > k.length ? k.length : x;
              if (ie === k.length ? M += k : M += k.slice(0, x), x -= ie, x === 0) {
                ie === k.length ? (++O, L.next ? this.head = L.next : this.head = this.tail = null) : (this.head = L, L.data = k.slice(ie));
                break;
              }
              ++O;
            }
            return this.length -= O, M;
          }
          // Consumes a specified amount of bytes from the buffered data.
        }, {
          key: "_getBuffer",
          value: function(x) {
            var L = g.allocUnsafe(x), O = this.head, M = 1;
            for (O.data.copy(L), x -= O.data.length; O = O.next; ) {
              var k = O.data, ie = x > k.length ? k.length : x;
              if (k.copy(L, L.length - x, 0, ie), x -= ie, x === 0) {
                ie === k.length ? (++M, O.next ? this.head = O.next : this.head = this.tail = null) : (this.head = O, O.data = k.slice(ie));
                break;
              }
              ++M;
            }
            return this.length -= M, L;
          }
          // Make sure the linked list only shows the minimal necessary information.
        }, {
          key: A,
          value: function(x, L) {
            return b(this, c({}, L, {
              // Only inspect one level.
              depth: 0,
              // It should not recurse.
              customInspect: !1
            }));
          }
        }]), S;
      }();
    }, { buffer: 29, util: 26 }], 41: [function(n, o, a) {
      (function(u) {
        (function() {
          function c(g, y) {
            var b = this, A = this._readableState && this._readableState.destroyed, w = this._writableState && this._writableState.destroyed;
            return A || w ? (y ? y(g) : g && (this._writableState ? this._writableState.errorEmitted || (this._writableState.errorEmitted = !0, u.nextTick(_, this, g)) : u.nextTick(_, this, g)), this) : (this._readableState && (this._readableState.destroyed = !0), this._writableState && (this._writableState.destroyed = !0), this._destroy(g || null, function(S) {
              !y && S ? b._writableState ? b._writableState.errorEmitted ? u.nextTick(f, b) : (b._writableState.errorEmitted = !0, u.nextTick(d, b, S)) : u.nextTick(d, b, S) : y ? (u.nextTick(f, b), y(S)) : u.nextTick(f, b);
            }), this);
          }
          function d(g, y) {
            _(g, y), f(g);
          }
          function f(g) {
            g._writableState && !g._writableState.emitClose || g._readableState && !g._readableState.emitClose || g.emit("close");
          }
          function p() {
            this._readableState && (this._readableState.destroyed = !1, this._readableState.reading = !1, this._readableState.ended = !1, this._readableState.endEmitted = !1), this._writableState && (this._writableState.destroyed = !1, this._writableState.ended = !1, this._writableState.ending = !1, this._writableState.finalCalled = !1, this._writableState.prefinished = !1, this._writableState.finished = !1, this._writableState.errorEmitted = !1);
          }
          function _(g, y) {
            g.emit("error", y);
          }
          function v(g, y) {
            var b = g._readableState, A = g._writableState;
            b && b.autoDestroy || A && A.autoDestroy ? g.destroy(y) : g.emit("error", y);
          }
          o.exports = {
            destroy: c,
            undestroy: p,
            errorOrDestroy: v
          };
        }).call(this);
      }).call(this, n("_process"));
    }, { _process: 102 }], 42: [function(n, o, a) {
      var u = n("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;
      function c(_) {
        var v = !1;
        return function() {
          if (!v) {
            v = !0;
            for (var g = arguments.length, y = new Array(g), b = 0; b < g; b++)
              y[b] = arguments[b];
            _.apply(this, y);
          }
        };
      }
      function d() {
      }
      function f(_) {
        return _.setHeader && typeof _.abort == "function";
      }
      function p(_, v, g) {
        if (typeof v == "function")
          return p(_, null, v);
        v || (v = {}), g = c(g || d);
        var y = v.readable || v.readable !== !1 && _.readable, b = v.writable || v.writable !== !1 && _.writable, A = function() {
          _.writable || S();
        }, w = _._writableState && _._writableState.finished, S = function() {
          b = !1, w = !0, y || g.call(_);
        }, T = _._readableState && _._readableState.endEmitted, x = function() {
          y = !1, T = !0, b || g.call(_);
        }, L = function(ie) {
          g.call(_, ie);
        }, O = function() {
          var ie;
          if (y && !T)
            return (!_._readableState || !_._readableState.ended) && (ie = new u()), g.call(_, ie);
          if (b && !w)
            return (!_._writableState || !_._writableState.ended) && (ie = new u()), g.call(_, ie);
        }, M = function() {
          _.req.on("finish", S);
        };
        return f(_) ? (_.on("complete", S), _.on("abort", O), _.req ? M() : _.on("request", M)) : b && !_._writableState && (_.on("end", A), _.on("close", A)), _.on("end", x), _.on("finish", S), v.error !== !1 && _.on("error", L), _.on("close", O), function() {
          _.removeListener("complete", S), _.removeListener("abort", O), _.removeListener("request", M), _.req && _.req.removeListener("finish", S), _.removeListener("end", A), _.removeListener("close", A), _.removeListener("finish", S), _.removeListener("end", x), _.removeListener("error", L), _.removeListener("close", O);
        };
      }
      o.exports = p;
    }, { "../../../errors": 33 }], 43: [function(n, o, a) {
      o.exports = function() {
        throw new Error("Readable.from is not available in the browser");
      };
    }, {}], 44: [function(n, o, a) {
      var u;
      function c(S) {
        var T = !1;
        return function() {
          T || (T = !0, S.apply(void 0, arguments));
        };
      }
      var d = n("../../../errors").codes, f = d.ERR_MISSING_ARGS, p = d.ERR_STREAM_DESTROYED;
      function _(S) {
        if (S)
          throw S;
      }
      function v(S) {
        return S.setHeader && typeof S.abort == "function";
      }
      function g(S, T, x, L) {
        L = c(L);
        var O = !1;
        S.on("close", function() {
          O = !0;
        }), u === void 0 && (u = n("./end-of-stream")), u(S, {
          readable: T,
          writable: x
        }, function(k) {
          if (k)
            return L(k);
          O = !0, L();
        });
        var M = !1;
        return function(k) {
          if (!O && !M) {
            if (M = !0, v(S))
              return S.abort();
            if (typeof S.destroy == "function")
              return S.destroy();
            L(k || new p("pipe"));
          }
        };
      }
      function y(S) {
        S();
      }
      function b(S, T) {
        return S.pipe(T);
      }
      function A(S) {
        return !S.length || typeof S[S.length - 1] != "function" ? _ : S.pop();
      }
      function w() {
        for (var S = arguments.length, T = new Array(S), x = 0; x < S; x++)
          T[x] = arguments[x];
        var L = A(T);
        if (Array.isArray(T[0]) && (T = T[0]), T.length < 2)
          throw new f("streams");
        var O, M = T.map(function(k, ie) {
          var $ = ie < T.length - 1, Y = ie > 0;
          return g(k, $, Y, function(D) {
            O || (O = D), D && M.forEach(y), !$ && (M.forEach(y), L(O));
          });
        });
        return T.reduce(b);
      }
      o.exports = w;
    }, { "../../../errors": 33, "./end-of-stream": 42 }], 45: [function(n, o, a) {
      var u = n("../../../errors").codes.ERR_INVALID_OPT_VALUE;
      function c(f, p, _) {
        return f.highWaterMark != null ? f.highWaterMark : p ? f[_] : null;
      }
      function d(f, p, _, v) {
        var g = c(p, v, _);
        if (g != null) {
          if (!(isFinite(g) && Math.floor(g) === g) || g < 0) {
            var y = v ? _ : "highWaterMark";
            throw new u(y, g);
          }
          return Math.floor(g);
        }
        return f.objectMode ? 16 : 16 * 1024;
      }
      o.exports = {
        getHighWaterMark: d
      };
    }, { "../../../errors": 33 }], 46: [function(n, o, a) {
      o.exports = n("events").EventEmitter;
    }, { events: 49 }], 47: [function(n, o, a) {
      a = o.exports = n("./lib/_stream_readable.js"), a.Stream = a, a.Readable = a, a.Writable = n("./lib/_stream_writable.js"), a.Duplex = n("./lib/_stream_duplex.js"), a.Transform = n("./lib/_stream_transform.js"), a.PassThrough = n("./lib/_stream_passthrough.js"), a.finished = n("./lib/internal/streams/end-of-stream.js"), a.pipeline = n("./lib/internal/streams/pipeline.js");
    }, { "./lib/_stream_duplex.js": 34, "./lib/_stream_passthrough.js": 35, "./lib/_stream_readable.js": 36, "./lib/_stream_transform.js": 37, "./lib/_stream_writable.js": 38, "./lib/internal/streams/end-of-stream.js": 42, "./lib/internal/streams/pipeline.js": 44 }], 48: [function(n, o, a) {
      (function(u) {
        (function() {
          var c = n("once"), d = function() {
          }, f = function(v) {
            return v.setHeader && typeof v.abort == "function";
          }, p = function(v) {
            return v.stdio && Array.isArray(v.stdio) && v.stdio.length === 3;
          }, _ = function(v, g, y) {
            if (typeof g == "function")
              return _(v, null, g);
            g || (g = {}), y = c(y || d);
            var b = v._writableState, A = v._readableState, w = g.readable || g.readable !== !1 && v.readable, S = g.writable || g.writable !== !1 && v.writable, T = !1, x = function() {
              v.writable || L();
            }, L = function() {
              S = !1, w || y.call(v);
            }, O = function() {
              w = !1, S || y.call(v);
            }, M = function(D) {
              y.call(v, D ? new Error("exited with error code: " + D) : null);
            }, k = function(D) {
              y.call(v, D);
            }, ie = function() {
              u.nextTick($);
            }, $ = function() {
              if (!T) {
                if (w && !(A && A.ended && !A.destroyed))
                  return y.call(v, new Error("premature close"));
                if (S && !(b && b.ended && !b.destroyed))
                  return y.call(v, new Error("premature close"));
              }
            }, Y = function() {
              v.req.on("finish", L);
            };
            return f(v) ? (v.on("complete", L), v.on("abort", ie), v.req ? Y() : v.on("request", Y)) : S && !b && (v.on("end", x), v.on("close", x)), p(v) && v.on("exit", M), v.on("end", O), v.on("finish", L), g.error !== !1 && v.on("error", k), v.on("close", ie), function() {
              T = !0, v.removeListener("complete", L), v.removeListener("abort", ie), v.removeListener("request", Y), v.req && v.req.removeListener("finish", L), v.removeListener("end", x), v.removeListener("close", x), v.removeListener("finish", L), v.removeListener("exit", M), v.removeListener("end", O), v.removeListener("error", k), v.removeListener("close", ie);
            };
          };
          o.exports = _;
        }).call(this);
      }).call(this, n("_process"));
    }, { _process: 102, once: 100 }], 49: [function(n, o, a) {
      var u = typeof Reflect == "object" ? Reflect : null, c = u && typeof u.apply == "function" ? u.apply : function(Y, D, re) {
        return Function.prototype.apply.call(Y, D, re);
      }, d;
      u && typeof u.ownKeys == "function" ? d = u.ownKeys : Object.getOwnPropertySymbols ? d = function(Y) {
        return Object.getOwnPropertyNames(Y).concat(Object.getOwnPropertySymbols(Y));
      } : d = function(Y) {
        return Object.getOwnPropertyNames(Y);
      };
      function f($) {
        console && console.warn && console.warn($);
      }
      var p = Number.isNaN || function(Y) {
        return Y !== Y;
      };
      function _() {
        _.init.call(this);
      }
      o.exports = _, o.exports.once = M, _.EventEmitter = _, _.prototype._events = void 0, _.prototype._eventsCount = 0, _.prototype._maxListeners = void 0;
      var v = 10;
      function g($) {
        if (typeof $ != "function")
          throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof $);
      }
      Object.defineProperty(_, "defaultMaxListeners", {
        enumerable: !0,
        get: function() {
          return v;
        },
        set: function($) {
          if (typeof $ != "number" || $ < 0 || p($))
            throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received ' + $ + ".");
          v = $;
        }
      }), _.init = function() {
        (this._events === void 0 || this._events === Object.getPrototypeOf(this)._events) && (this._events = /* @__PURE__ */ Object.create(null), this._eventsCount = 0), this._maxListeners = this._maxListeners || void 0;
      }, _.prototype.setMaxListeners = function(Y) {
        if (typeof Y != "number" || Y < 0 || p(Y))
          throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received ' + Y + ".");
        return this._maxListeners = Y, this;
      };
      function y($) {
        return $._maxListeners === void 0 ? _.defaultMaxListeners : $._maxListeners;
      }
      _.prototype.getMaxListeners = function() {
        return y(this);
      }, _.prototype.emit = function(Y) {
        for (var D = [], re = 1; re < arguments.length; re++)
          D.push(arguments[re]);
        var F = Y === "error", _e = this._events;
        if (_e !== void 0)
          F = F && _e.error === void 0;
        else if (!F)
          return !1;
        if (F) {
          var ue;
          if (D.length > 0 && (ue = D[0]), ue instanceof Error)
            throw ue;
          var Ie = new Error("Unhandled error." + (ue ? " (" + ue.message + ")" : ""));
          throw Ie.context = ue, Ie;
        }
        var ze = _e[Y];
        if (ze === void 0)
          return !1;
        if (typeof ze == "function")
          c(ze, this, D);
        else
          for (var Fe = ze.length, Oe = x(ze, Fe), re = 0; re < Fe; ++re)
            c(Oe[re], this, D);
        return !0;
      };
      function b($, Y, D, re) {
        var F, _e, ue;
        if (g(D), _e = $._events, _e === void 0 ? (_e = $._events = /* @__PURE__ */ Object.create(null), $._eventsCount = 0) : (_e.newListener !== void 0 && ($.emit(
          "newListener",
          Y,
          D.listener ? D.listener : D
        ), _e = $._events), ue = _e[Y]), ue === void 0)
          ue = _e[Y] = D, ++$._eventsCount;
        else if (typeof ue == "function" ? ue = _e[Y] = re ? [D, ue] : [ue, D] : re ? ue.unshift(D) : ue.push(D), F = y($), F > 0 && ue.length > F && !ue.warned) {
          ue.warned = !0;
          var Ie = new Error("Possible EventEmitter memory leak detected. " + ue.length + " " + String(Y) + " listeners added. Use emitter.setMaxListeners() to increase limit");
          Ie.name = "MaxListenersExceededWarning", Ie.emitter = $, Ie.type = Y, Ie.count = ue.length, f(Ie);
        }
        return $;
      }
      _.prototype.addListener = function(Y, D) {
        return b(this, Y, D, !1);
      }, _.prototype.on = _.prototype.addListener, _.prototype.prependListener = function(Y, D) {
        return b(this, Y, D, !0);
      };
      function A() {
        if (!this.fired)
          return this.target.removeListener(this.type, this.wrapFn), this.fired = !0, arguments.length === 0 ? this.listener.call(this.target) : this.listener.apply(this.target, arguments);
      }
      function w($, Y, D) {
        var re = { fired: !1, wrapFn: void 0, target: $, type: Y, listener: D }, F = A.bind(re);
        return F.listener = D, re.wrapFn = F, F;
      }
      _.prototype.once = function(Y, D) {
        return g(D), this.on(Y, w(this, Y, D)), this;
      }, _.prototype.prependOnceListener = function(Y, D) {
        return g(D), this.prependListener(Y, w(this, Y, D)), this;
      }, _.prototype.removeListener = function(Y, D) {
        var re, F, _e, ue, Ie;
        if (g(D), F = this._events, F === void 0)
          return this;
        if (re = F[Y], re === void 0)
          return this;
        if (re === D || re.listener === D)
          --this._eventsCount === 0 ? this._events = /* @__PURE__ */ Object.create(null) : (delete F[Y], F.removeListener && this.emit("removeListener", Y, re.listener || D));
        else if (typeof re != "function") {
          for (_e = -1, ue = re.length - 1; ue >= 0; ue--)
            if (re[ue] === D || re[ue].listener === D) {
              Ie = re[ue].listener, _e = ue;
              break;
            }
          if (_e < 0)
            return this;
          _e === 0 ? re.shift() : L(re, _e), re.length === 1 && (F[Y] = re[0]), F.removeListener !== void 0 && this.emit("removeListener", Y, Ie || D);
        }
        return this;
      }, _.prototype.off = _.prototype.removeListener, _.prototype.removeAllListeners = function(Y) {
        var D, re, F;
        if (re = this._events, re === void 0)
          return this;
        if (re.removeListener === void 0)
          return arguments.length === 0 ? (this._events = /* @__PURE__ */ Object.create(null), this._eventsCount = 0) : re[Y] !== void 0 && (--this._eventsCount === 0 ? this._events = /* @__PURE__ */ Object.create(null) : delete re[Y]), this;
        if (arguments.length === 0) {
          var _e = Object.keys(re), ue;
          for (F = 0; F < _e.length; ++F)
            ue = _e[F], ue !== "removeListener" && this.removeAllListeners(ue);
          return this.removeAllListeners("removeListener"), this._events = /* @__PURE__ */ Object.create(null), this._eventsCount = 0, this;
        }
        if (D = re[Y], typeof D == "function")
          this.removeListener(Y, D);
        else if (D !== void 0)
          for (F = D.length - 1; F >= 0; F--)
            this.removeListener(Y, D[F]);
        return this;
      };
      function S($, Y, D) {
        var re = $._events;
        if (re === void 0)
          return [];
        var F = re[Y];
        return F === void 0 ? [] : typeof F == "function" ? D ? [F.listener || F] : [F] : D ? O(F) : x(F, F.length);
      }
      _.prototype.listeners = function(Y) {
        return S(this, Y, !0);
      }, _.prototype.rawListeners = function(Y) {
        return S(this, Y, !1);
      }, _.listenerCount = function($, Y) {
        return typeof $.listenerCount == "function" ? $.listenerCount(Y) : T.call($, Y);
      }, _.prototype.listenerCount = T;
      function T($) {
        var Y = this._events;
        if (Y !== void 0) {
          var D = Y[$];
          if (typeof D == "function")
            return 1;
          if (D !== void 0)
            return D.length;
        }
        return 0;
      }
      _.prototype.eventNames = function() {
        return this._eventsCount > 0 ? d(this._events) : [];
      };
      function x($, Y) {
        for (var D = new Array(Y), re = 0; re < Y; ++re)
          D[re] = $[re];
        return D;
      }
      function L($, Y) {
        for (; Y + 1 < $.length; Y++)
          $[Y] = $[Y + 1];
        $.pop();
      }
      function O($) {
        for (var Y = new Array($.length), D = 0; D < Y.length; ++D)
          Y[D] = $[D].listener || $[D];
        return Y;
      }
      function M($, Y) {
        return new Promise(function(D, re) {
          function F(ue) {
            $.removeListener(Y, _e), re(ue);
          }
          function _e() {
            typeof $.removeListener == "function" && $.removeListener("error", F), D([].slice.call(arguments));
          }
          ie($, Y, _e, { once: !0 }), Y !== "error" && k($, F, { once: !0 });
        });
      }
      function k($, Y, D) {
        typeof $.on == "function" && ie($, "error", Y, D);
      }
      function ie($, Y, D, re) {
        if (typeof $.on == "function")
          re.once ? $.once(Y, D) : $.on(Y, D);
        else if (typeof $.addEventListener == "function")
          $.addEventListener(Y, function F(_e) {
            re.once && $.removeEventListener(Y, F), D(_e);
          });
        else
          throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type ' + typeof $);
      }
    }, {}], 50: [function(n, o, a) {
      /*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
      a.read = function(u, c, d, f, p) {
        var _, v, g = p * 8 - f - 1, y = (1 << g) - 1, b = y >> 1, A = -7, w = d ? p - 1 : 0, S = d ? -1 : 1, T = u[c + w];
        for (w += S, _ = T & (1 << -A) - 1, T >>= -A, A += g; A > 0; _ = _ * 256 + u[c + w], w += S, A -= 8)
          ;
        for (v = _ & (1 << -A) - 1, _ >>= -A, A += f; A > 0; v = v * 256 + u[c + w], w += S, A -= 8)
          ;
        if (_ === 0)
          _ = 1 - b;
        else {
          if (_ === y)
            return v ? NaN : (T ? -1 : 1) * (1 / 0);
          v = v + Math.pow(2, f), _ = _ - b;
        }
        return (T ? -1 : 1) * v * Math.pow(2, _ - f);
      }, a.write = function(u, c, d, f, p, _) {
        var v, g, y, b = _ * 8 - p - 1, A = (1 << b) - 1, w = A >> 1, S = p === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0, T = f ? 0 : _ - 1, x = f ? 1 : -1, L = c < 0 || c === 0 && 1 / c < 0 ? 1 : 0;
        for (c = Math.abs(c), isNaN(c) || c === 1 / 0 ? (g = isNaN(c) ? 1 : 0, v = A) : (v = Math.floor(Math.log(c) / Math.LN2), c * (y = Math.pow(2, -v)) < 1 && (v--, y *= 2), v + w >= 1 ? c += S / y : c += S * Math.pow(2, 1 - w), c * y >= 2 && (v++, y /= 2), v + w >= A ? (g = 0, v = A) : v + w >= 1 ? (g = (c * y - 1) * Math.pow(2, p), v = v + w) : (g = c * Math.pow(2, w - 1) * Math.pow(2, p), v = 0)); p >= 8; u[d + T] = g & 255, T += x, g /= 256, p -= 8)
          ;
        for (v = v << p | g, b += p; b > 0; u[d + T] = v & 255, T += x, v /= 256, b -= 8)
          ;
        u[d + T - x] |= L * 128;
      };
    }, {}], 51: [function(n, o, a) {
      typeof Object.create == "function" ? o.exports = function(c, d) {
        d && (c.super_ = d, c.prototype = Object.create(d.prototype, {
          constructor: {
            value: c,
            enumerable: !1,
            writable: !0,
            configurable: !0
          }
        }));
      } : o.exports = function(c, d) {
        if (d) {
          c.super_ = d;
          var f = function() {
          };
          f.prototype = d.prototype, c.prototype = new f(), c.prototype.constructor = c;
        }
      };
    }, {}], 52: [function(n, o, a) {
      Object.defineProperty(a, "t", {
        value: !0
      }), a.ContainerIterator = a.Container = a.Base = void 0;
      class u {
        constructor(p = 0) {
          this.iteratorType = p;
        }
        equals(p) {
          return this.o === p.o;
        }
      }
      a.ContainerIterator = u;
      class c {
        constructor() {
          this.i = 0;
        }
        get length() {
          return this.i;
        }
        size() {
          return this.i;
        }
        empty() {
          return this.i === 0;
        }
      }
      a.Base = c;
      class d extends c {
      }
      a.Container = d;
    }, {}], 53: [function(n, o, a) {
      Object.defineProperty(a, "t", {
        value: !0
      }), a.HashContainerIterator = a.HashContainer = void 0;
      var u = n("../../ContainerBase"), c = f(n("../../../utils/checkObject")), d = n("../../../utils/throwError");
      function f(v) {
        return v && v.t ? v : {
          default: v
        };
      }
      class p extends u.ContainerIterator {
        constructor(g, y, b) {
          super(b), this.o = g, this.h = y, this.iteratorType === 0 ? (this.pre = function() {
            return this.o.L === this.h && (0, d.throwIteratorAccessError)(), this.o = this.o.L, this;
          }, this.next = function() {
            return this.o === this.h && (0, d.throwIteratorAccessError)(), this.o = this.o.B, this;
          }) : (this.pre = function() {
            return this.o.B === this.h && (0, d.throwIteratorAccessError)(), this.o = this.o.B, this;
          }, this.next = function() {
            return this.o === this.h && (0, d.throwIteratorAccessError)(), this.o = this.o.L, this;
          });
        }
      }
      a.HashContainerIterator = p;
      class _ extends u.Container {
        constructor() {
          super(), this.H = [], this.g = {}, this.HASH_TAG = Symbol("@@HASH_TAG"), Object.setPrototypeOf(this.g, null), this.h = {}, this.h.L = this.h.B = this.p = this._ = this.h;
        }
        V(g) {
          const { L: y, B: b } = g;
          y.B = b, b.L = y, g === this.p && (this.p = b), g === this._ && (this._ = y), this.i -= 1;
        }
        M(g, y, b) {
          b === void 0 && (b = (0, c.default)(g));
          let A;
          if (b) {
            const w = g[this.HASH_TAG];
            if (w !== void 0)
              return this.H[w].l = y, this.i;
            Object.defineProperty(g, this.HASH_TAG, {
              value: this.H.length,
              configurable: !0
            }), A = {
              u: g,
              l: y,
              L: this._,
              B: this.h
            }, this.H.push(A);
          } else {
            const w = this.g[g];
            if (w)
              return w.l = y, this.i;
            A = {
              u: g,
              l: y,
              L: this._,
              B: this.h
            }, this.g[g] = A;
          }
          return this.i === 0 ? (this.p = A, this.h.B = A) : this._.B = A, this._ = A, this.h.L = A, ++this.i;
        }
        I(g, y) {
          if (y === void 0 && (y = (0, c.default)(g)), y) {
            const b = g[this.HASH_TAG];
            return b === void 0 ? this.h : this.H[b];
          } else
            return this.g[g] || this.h;
        }
        clear() {
          const g = this.HASH_TAG;
          this.H.forEach(function(y) {
            delete y.u[g];
          }), this.H = [], this.g = {}, Object.setPrototypeOf(this.g, null), this.i = 0, this.p = this._ = this.h.L = this.h.B = this.h;
        }
        eraseElementByKey(g, y) {
          let b;
          if (y === void 0 && (y = (0, c.default)(g)), y) {
            const A = g[this.HASH_TAG];
            if (A === void 0)
              return !1;
            delete g[this.HASH_TAG], b = this.H[A], delete this.H[A];
          } else {
            if (b = this.g[g], b === void 0)
              return !1;
            delete this.g[g];
          }
          return this.V(b), !0;
        }
        eraseElementByIterator(g) {
          const y = g.o;
          return y === this.h && (0, d.throwIteratorAccessError)(), this.V(y), g.next();
        }
        eraseElementByPos(g) {
          if (g < 0 || g > this.i - 1)
            throw new RangeError();
          let y = this.p;
          for (; g--; )
            y = y.B;
          return this.V(y), this.i;
        }
      }
      a.HashContainer = _;
    }, { "../../../utils/checkObject": 70, "../../../utils/throwError": 71, "../../ContainerBase": 52 }], 54: [function(n, o, a) {
      Object.defineProperty(a, "t", {
        value: !0
      }), a.default = void 0;
      var u = n("./Base"), c = f(n("../../utils/checkObject")), d = n("../../utils/throwError");
      function f(g) {
        return g && g.t ? g : {
          default: g
        };
      }
      class p extends u.HashContainerIterator {
        constructor(y, b, A, w) {
          super(y, b, w), this.container = A;
        }
        get pointer() {
          this.o === this.h && (0, d.throwIteratorAccessError)();
          const y = this;
          return new Proxy([], {
            get(b, A) {
              if (A === "0")
                return y.o.u;
              if (A === "1")
                return y.o.l;
            },
            set(b, A, w) {
              if (A !== "1")
                throw new TypeError("props must be 1");
              return y.o.l = w, !0;
            }
          });
        }
        copy() {
          return new p(this.o, this.h, this.container, this.iteratorType);
        }
      }
      class _ extends u.HashContainer {
        constructor(y = []) {
          super();
          const b = this;
          y.forEach(function(A) {
            b.setElement(A[0], A[1]);
          });
        }
        begin() {
          return new p(this.p, this.h, this);
        }
        end() {
          return new p(this.h, this.h, this);
        }
        rBegin() {
          return new p(this._, this.h, this, 1);
        }
        rEnd() {
          return new p(this.h, this.h, this, 1);
        }
        front() {
          if (this.i !== 0)
            return [this.p.u, this.p.l];
        }
        back() {
          if (this.i !== 0)
            return [this._.u, this._.l];
        }
        setElement(y, b, A) {
          return this.M(y, b, A);
        }
        getElementByKey(y, b) {
          if (b === void 0 && (b = (0, c.default)(y)), b) {
            const w = y[this.HASH_TAG];
            return w !== void 0 ? this.H[w].l : void 0;
          }
          const A = this.g[y];
          return A ? A.l : void 0;
        }
        getElementByPos(y) {
          if (y < 0 || y > this.i - 1)
            throw new RangeError();
          let b = this.p;
          for (; y--; )
            b = b.B;
          return [b.u, b.l];
        }
        find(y, b) {
          const A = this.I(y, b);
          return new p(A, this.h, this);
        }
        forEach(y) {
          let b = 0, A = this.p;
          for (; A !== this.h; )
            y([A.u, A.l], b++, this), A = A.B;
        }
        [Symbol.iterator]() {
          return (function* () {
            let y = this.p;
            for (; y !== this.h; )
              yield [y.u, y.l], y = y.B;
          }).bind(this)();
        }
      }
      var v = _;
      a.default = v;
    }, { "../../utils/checkObject": 70, "../../utils/throwError": 71, "./Base": 53 }], 55: [function(n, o, a) {
      Object.defineProperty(a, "t", {
        value: !0
      }), a.default = void 0;
      var u = n("./Base"), c = n("../../utils/throwError");
      class d extends u.HashContainerIterator {
        constructor(v, g, y, b) {
          super(v, g, b), this.container = y;
        }
        get pointer() {
          return this.o === this.h && (0, c.throwIteratorAccessError)(), this.o.u;
        }
        copy() {
          return new d(this.o, this.h, this.container, this.iteratorType);
        }
      }
      class f extends u.HashContainer {
        constructor(v = []) {
          super();
          const g = this;
          v.forEach(function(y) {
            g.insert(y);
          });
        }
        begin() {
          return new d(this.p, this.h, this);
        }
        end() {
          return new d(this.h, this.h, this);
        }
        rBegin() {
          return new d(this._, this.h, this, 1);
        }
        rEnd() {
          return new d(this.h, this.h, this, 1);
        }
        front() {
          return this.p.u;
        }
        back() {
          return this._.u;
        }
        insert(v, g) {
          return this.M(v, void 0, g);
        }
        getElementByPos(v) {
          if (v < 0 || v > this.i - 1)
            throw new RangeError();
          let g = this.p;
          for (; v--; )
            g = g.B;
          return g.u;
        }
        find(v, g) {
          const y = this.I(v, g);
          return new d(y, this.h, this);
        }
        forEach(v) {
          let g = 0, y = this.p;
          for (; y !== this.h; )
            v(y.u, g++, this), y = y.B;
        }
        [Symbol.iterator]() {
          return (function* () {
            let v = this.p;
            for (; v !== this.h; )
              yield v.u, v = v.B;
          }).bind(this)();
        }
      }
      var p = f;
      a.default = p;
    }, { "../../utils/throwError": 71, "./Base": 53 }], 56: [function(n, o, a) {
      Object.defineProperty(a, "t", {
        value: !0
      }), a.default = void 0;
      var u = n("../ContainerBase");
      class c extends u.Base {
        constructor(p = [], _ = function(g, y) {
          return g > y ? -1 : g < y ? 1 : 0;
        }, v = !0) {
          if (super(), this.v = _, Array.isArray(p))
            this.C = v ? [...p] : p;
          else {
            this.C = [];
            const y = this;
            p.forEach(function(b) {
              y.C.push(b);
            });
          }
          this.i = this.C.length;
          const g = this.i >> 1;
          for (let y = this.i - 1 >> 1; y >= 0; --y)
            this.k(y, g);
        }
        m(p) {
          const _ = this.C[p];
          for (; p > 0; ) {
            const v = p - 1 >> 1, g = this.C[v];
            if (this.v(g, _) <= 0)
              break;
            this.C[p] = g, p = v;
          }
          this.C[p] = _;
        }
        k(p, _) {
          const v = this.C[p];
          for (; p < _; ) {
            let g = p << 1 | 1;
            const y = g + 1;
            let b = this.C[g];
            if (y < this.i && this.v(b, this.C[y]) > 0 && (g = y, b = this.C[y]), this.v(b, v) >= 0)
              break;
            this.C[p] = b, p = g;
          }
          this.C[p] = v;
        }
        clear() {
          this.i = 0, this.C.length = 0;
        }
        push(p) {
          this.C.push(p), this.m(this.i), this.i += 1;
        }
        pop() {
          if (this.i === 0)
            return;
          const p = this.C[0], _ = this.C.pop();
          return this.i -= 1, this.i && (this.C[0] = _, this.k(0, this.i >> 1)), p;
        }
        top() {
          return this.C[0];
        }
        find(p) {
          return this.C.indexOf(p) >= 0;
        }
        remove(p) {
          const _ = this.C.indexOf(p);
          return _ < 0 ? !1 : (_ === 0 ? this.pop() : _ === this.i - 1 ? (this.C.pop(), this.i -= 1) : (this.C.splice(_, 1, this.C.pop()), this.i -= 1, this.m(_), this.k(_, this.i >> 1)), !0);
        }
        updateItem(p) {
          const _ = this.C.indexOf(p);
          return _ < 0 ? !1 : (this.m(_), this.k(_, this.i >> 1), !0);
        }
        toArray() {
          return [...this.C];
        }
      }
      var d = c;
      a.default = d;
    }, { "../ContainerBase": 52 }], 57: [function(n, o, a) {
      Object.defineProperty(a, "t", {
        value: !0
      }), a.default = void 0;
      var u = n("../ContainerBase");
      class c extends u.Base {
        constructor(p = []) {
          super(), this.j = 0, this.q = [];
          const _ = this;
          p.forEach(function(v) {
            _.push(v);
          });
        }
        clear() {
          this.q = [], this.i = this.j = 0;
        }
        push(p) {
          const _ = this.q.length;
          if (this.j / _ > 0.5 && this.j + this.i >= _ && _ > 4096) {
            const v = this.i;
            for (let g = 0; g < v; ++g)
              this.q[g] = this.q[this.j + g];
            this.j = 0, this.q[this.i] = p;
          } else
            this.q[this.j + this.i] = p;
          return ++this.i;
        }
        pop() {
          if (this.i === 0)
            return;
          const p = this.q[this.j++];
          return this.i -= 1, p;
        }
        front() {
          if (this.i !== 0)
            return this.q[this.j];
        }
      }
      var d = c;
      a.default = d;
    }, { "../ContainerBase": 52 }], 58: [function(n, o, a) {
      Object.defineProperty(a, "t", {
        value: !0
      }), a.default = void 0;
      var u = n("../ContainerBase");
      class c extends u.Base {
        constructor(p = []) {
          super(), this.S = [];
          const _ = this;
          p.forEach(function(v) {
            _.push(v);
          });
        }
        clear() {
          this.i = 0, this.S = [];
        }
        push(p) {
          return this.S.push(p), this.i += 1, this.i;
        }
        pop() {
          if (this.i !== 0)
            return this.i -= 1, this.S.pop();
        }
        top() {
          return this.S[this.i - 1];
        }
      }
      var d = c;
      a.default = d;
    }, { "../ContainerBase": 52 }], 59: [function(n, o, a) {
      Object.defineProperty(a, "t", {
        value: !0
      }), a.RandomIterator = void 0;
      var u = n("../../ContainerBase"), c = n("../../../utils/throwError");
      class d extends u.ContainerIterator {
        constructor(p, _) {
          super(_), this.o = p, this.iteratorType === 0 ? (this.pre = function() {
            return this.o === 0 && (0, c.throwIteratorAccessError)(), this.o -= 1, this;
          }, this.next = function() {
            return this.o === this.container.size() && (0, c.throwIteratorAccessError)(), this.o += 1, this;
          }) : (this.pre = function() {
            return this.o === this.container.size() - 1 && (0, c.throwIteratorAccessError)(), this.o += 1, this;
          }, this.next = function() {
            return this.o === -1 && (0, c.throwIteratorAccessError)(), this.o -= 1, this;
          });
        }
        get pointer() {
          return this.container.getElementByPos(this.o);
        }
        set pointer(p) {
          this.container.setElementByPos(this.o, p);
        }
      }
      a.RandomIterator = d;
    }, { "../../../utils/throwError": 71, "../../ContainerBase": 52 }], 60: [function(n, o, a) {
      Object.defineProperty(a, "t", {
        value: !0
      }), a.default = void 0;
      var u = n("../../ContainerBase");
      class c extends u.Container {
      }
      var d = c;
      a.default = d;
    }, { "../../ContainerBase": 52 }], 61: [function(n, o, a) {
      Object.defineProperty(a, "t", {
        value: !0
      }), a.default = void 0;
      var u = d(n("./Base")), c = n("./Base/RandomIterator");
      function d(v) {
        return v && v.t ? v : {
          default: v
        };
      }
      class f extends c.RandomIterator {
        constructor(g, y, b) {
          super(g, b), this.container = y;
        }
        copy() {
          return new f(this.o, this.container, this.iteratorType);
        }
      }
      class p extends u.default {
        constructor(g = [], y = 4096) {
          super(), this.j = 0, this.D = 0, this.R = 0, this.N = 0, this.P = 0, this.A = [];
          const b = (() => {
            if (typeof g.length == "number")
              return g.length;
            if (typeof g.size == "number")
              return g.size;
            if (typeof g.size == "function")
              return g.size();
            throw new TypeError("Cannot get the length or size of the container");
          })();
          this.F = y, this.P = Math.max(Math.ceil(b / this.F), 1);
          for (let S = 0; S < this.P; ++S)
            this.A.push(new Array(this.F));
          const A = Math.ceil(b / this.F);
          this.j = this.R = (this.P >> 1) - (A >> 1), this.D = this.N = this.F - b % this.F >> 1;
          const w = this;
          g.forEach(function(S) {
            w.pushBack(S);
          });
        }
        T() {
          const g = [], y = Math.max(this.P >> 1, 1);
          for (let b = 0; b < y; ++b)
            g[b] = new Array(this.F);
          for (let b = this.j; b < this.P; ++b)
            g[g.length] = this.A[b];
          for (let b = 0; b < this.R; ++b)
            g[g.length] = this.A[b];
          g[g.length] = [...this.A[this.R]], this.j = y, this.R = g.length - 1;
          for (let b = 0; b < y; ++b)
            g[g.length] = new Array(this.F);
          this.A = g, this.P = g.length;
        }
        O(g) {
          const y = this.D + g + 1, b = y % this.F;
          let A = b - 1, w = this.j + (y - b) / this.F;
          return b === 0 && (w -= 1), w %= this.P, A < 0 && (A += this.F), {
            curNodeBucketIndex: w,
            curNodePointerIndex: A
          };
        }
        clear() {
          this.A = [new Array(this.F)], this.P = 1, this.j = this.R = this.i = 0, this.D = this.N = this.F >> 1;
        }
        begin() {
          return new f(0, this);
        }
        end() {
          return new f(this.i, this);
        }
        rBegin() {
          return new f(this.i - 1, this, 1);
        }
        rEnd() {
          return new f(-1, this, 1);
        }
        front() {
          if (this.i !== 0)
            return this.A[this.j][this.D];
        }
        back() {
          if (this.i !== 0)
            return this.A[this.R][this.N];
        }
        pushBack(g) {
          return this.i && (this.N < this.F - 1 ? this.N += 1 : this.R < this.P - 1 ? (this.R += 1, this.N = 0) : (this.R = 0, this.N = 0), this.R === this.j && this.N === this.D && this.T()), this.i += 1, this.A[this.R][this.N] = g, this.i;
        }
        popBack() {
          if (this.i === 0)
            return;
          const g = this.A[this.R][this.N];
          return this.i !== 1 && (this.N > 0 ? this.N -= 1 : this.R > 0 ? (this.R -= 1, this.N = this.F - 1) : (this.R = this.P - 1, this.N = this.F - 1)), this.i -= 1, g;
        }
        pushFront(g) {
          return this.i && (this.D > 0 ? this.D -= 1 : this.j > 0 ? (this.j -= 1, this.D = this.F - 1) : (this.j = this.P - 1, this.D = this.F - 1), this.j === this.R && this.D === this.N && this.T()), this.i += 1, this.A[this.j][this.D] = g, this.i;
        }
        popFront() {
          if (this.i === 0)
            return;
          const g = this.A[this.j][this.D];
          return this.i !== 1 && (this.D < this.F - 1 ? this.D += 1 : this.j < this.P - 1 ? (this.j += 1, this.D = 0) : (this.j = 0, this.D = 0)), this.i -= 1, g;
        }
        getElementByPos(g) {
          if (g < 0 || g > this.i - 1)
            throw new RangeError();
          const { curNodeBucketIndex: y, curNodePointerIndex: b } = this.O(g);
          return this.A[y][b];
        }
        setElementByPos(g, y) {
          if (g < 0 || g > this.i - 1)
            throw new RangeError();
          const { curNodeBucketIndex: b, curNodePointerIndex: A } = this.O(g);
          this.A[b][A] = y;
        }
        insert(g, y, b = 1) {
          if (g < 0 || g > this.i)
            throw new RangeError();
          if (g === 0)
            for (; b--; )
              this.pushFront(y);
          else if (g === this.i)
            for (; b--; )
              this.pushBack(y);
          else {
            const A = [];
            for (let w = g; w < this.i; ++w)
              A.push(this.getElementByPos(w));
            this.cut(g - 1);
            for (let w = 0; w < b; ++w)
              this.pushBack(y);
            for (let w = 0; w < A.length; ++w)
              this.pushBack(A[w]);
          }
          return this.i;
        }
        cut(g) {
          if (g < 0)
            return this.clear(), 0;
          const { curNodeBucketIndex: y, curNodePointerIndex: b } = this.O(g);
          return this.R = y, this.N = b, this.i = g + 1, this.i;
        }
        eraseElementByPos(g) {
          if (g < 0 || g > this.i - 1)
            throw new RangeError();
          if (g === 0)
            this.popFront();
          else if (g === this.i - 1)
            this.popBack();
          else {
            const y = [];
            for (let A = g + 1; A < this.i; ++A)
              y.push(this.getElementByPos(A));
            this.cut(g), this.popBack();
            const b = this;
            y.forEach(function(A) {
              b.pushBack(A);
            });
          }
          return this.i;
        }
        eraseElementByValue(g) {
          if (this.i === 0)
            return 0;
          const y = [];
          for (let A = 0; A < this.i; ++A) {
            const w = this.getElementByPos(A);
            w !== g && y.push(w);
          }
          const b = y.length;
          for (let A = 0; A < b; ++A)
            this.setElementByPos(A, y[A]);
          return this.cut(b - 1);
        }
        eraseElementByIterator(g) {
          const y = g.o;
          return this.eraseElementByPos(y), g = g.next(), g;
        }
        find(g) {
          for (let y = 0; y < this.i; ++y)
            if (this.getElementByPos(y) === g)
              return new f(y, this);
          return this.end();
        }
        reverse() {
          let g = 0, y = this.i - 1;
          for (; g < y; ) {
            const b = this.getElementByPos(g);
            this.setElementByPos(g, this.getElementByPos(y)), this.setElementByPos(y, b), g += 1, y -= 1;
          }
        }
        unique() {
          if (this.i <= 1)
            return this.i;
          let g = 1, y = this.getElementByPos(0);
          for (let b = 1; b < this.i; ++b) {
            const A = this.getElementByPos(b);
            A !== y && (y = A, this.setElementByPos(g++, A));
          }
          for (; this.i > g; )
            this.popBack();
          return this.i;
        }
        sort(g) {
          const y = [];
          for (let b = 0; b < this.i; ++b)
            y.push(this.getElementByPos(b));
          y.sort(g);
          for (let b = 0; b < this.i; ++b)
            this.setElementByPos(b, y[b]);
        }
        shrinkToFit() {
          if (this.i === 0)
            return;
          const g = [];
          this.forEach(function(y) {
            g.push(y);
          }), this.P = Math.max(Math.ceil(this.i / this.F), 1), this.i = this.j = this.R = this.D = this.N = 0, this.A = [];
          for (let y = 0; y < this.P; ++y)
            this.A.push(new Array(this.F));
          for (let y = 0; y < g.length; ++y)
            this.pushBack(g[y]);
        }
        forEach(g) {
          for (let y = 0; y < this.i; ++y)
            g(this.getElementByPos(y), y, this);
        }
        [Symbol.iterator]() {
          return (function* () {
            for (let g = 0; g < this.i; ++g)
              yield this.getElementByPos(g);
          }).bind(this)();
        }
      }
      var _ = p;
      a.default = _;
    }, { "./Base": 60, "./Base/RandomIterator": 59 }], 62: [function(n, o, a) {
      Object.defineProperty(a, "t", {
        value: !0
      }), a.default = void 0;
      var u = f(n("./Base")), c = n("../ContainerBase"), d = n("../../utils/throwError");
      function f(g) {
        return g && g.t ? g : {
          default: g
        };
      }
      class p extends c.ContainerIterator {
        constructor(y, b, A, w) {
          super(w), this.o = y, this.h = b, this.container = A, this.iteratorType === 0 ? (this.pre = function() {
            return this.o.L === this.h && (0, d.throwIteratorAccessError)(), this.o = this.o.L, this;
          }, this.next = function() {
            return this.o === this.h && (0, d.throwIteratorAccessError)(), this.o = this.o.B, this;
          }) : (this.pre = function() {
            return this.o.B === this.h && (0, d.throwIteratorAccessError)(), this.o = this.o.B, this;
          }, this.next = function() {
            return this.o === this.h && (0, d.throwIteratorAccessError)(), this.o = this.o.L, this;
          });
        }
        get pointer() {
          return this.o === this.h && (0, d.throwIteratorAccessError)(), this.o.l;
        }
        set pointer(y) {
          this.o === this.h && (0, d.throwIteratorAccessError)(), this.o.l = y;
        }
        copy() {
          return new p(this.o, this.h, this.container, this.iteratorType);
        }
      }
      class _ extends u.default {
        constructor(y = []) {
          super(), this.h = {}, this.p = this._ = this.h.L = this.h.B = this.h;
          const b = this;
          y.forEach(function(A) {
            b.pushBack(A);
          });
        }
        V(y) {
          const { L: b, B: A } = y;
          b.B = A, A.L = b, y === this.p && (this.p = A), y === this._ && (this._ = b), this.i -= 1;
        }
        G(y, b) {
          const A = b.B, w = {
            l: y,
            L: b,
            B: A
          };
          b.B = w, A.L = w, b === this.h && (this.p = w), A === this.h && (this._ = w), this.i += 1;
        }
        clear() {
          this.i = 0, this.p = this._ = this.h.L = this.h.B = this.h;
        }
        begin() {
          return new p(this.p, this.h, this);
        }
        end() {
          return new p(this.h, this.h, this);
        }
        rBegin() {
          return new p(this._, this.h, this, 1);
        }
        rEnd() {
          return new p(this.h, this.h, this, 1);
        }
        front() {
          return this.p.l;
        }
        back() {
          return this._.l;
        }
        getElementByPos(y) {
          if (y < 0 || y > this.i - 1)
            throw new RangeError();
          let b = this.p;
          for (; y--; )
            b = b.B;
          return b.l;
        }
        eraseElementByPos(y) {
          if (y < 0 || y > this.i - 1)
            throw new RangeError();
          let b = this.p;
          for (; y--; )
            b = b.B;
          return this.V(b), this.i;
        }
        eraseElementByValue(y) {
          let b = this.p;
          for (; b !== this.h; )
            b.l === y && this.V(b), b = b.B;
          return this.i;
        }
        eraseElementByIterator(y) {
          const b = y.o;
          return b === this.h && (0, d.throwIteratorAccessError)(), y = y.next(), this.V(b), y;
        }
        pushBack(y) {
          return this.G(y, this._), this.i;
        }
        popBack() {
          if (this.i === 0)
            return;
          const y = this._.l;
          return this.V(this._), y;
        }
        pushFront(y) {
          return this.G(y, this.h), this.i;
        }
        popFront() {
          if (this.i === 0)
            return;
          const y = this.p.l;
          return this.V(this.p), y;
        }
        setElementByPos(y, b) {
          if (y < 0 || y > this.i - 1)
            throw new RangeError();
          let A = this.p;
          for (; y--; )
            A = A.B;
          A.l = b;
        }
        insert(y, b, A = 1) {
          if (y < 0 || y > this.i)
            throw new RangeError();
          if (A <= 0)
            return this.i;
          if (y === 0)
            for (; A--; )
              this.pushFront(b);
          else if (y === this.i)
            for (; A--; )
              this.pushBack(b);
          else {
            let w = this.p;
            for (let T = 1; T < y; ++T)
              w = w.B;
            const S = w.B;
            for (this.i += A; A--; )
              w.B = {
                l: b,
                L: w
              }, w.B.L = w, w = w.B;
            w.B = S, S.L = w;
          }
          return this.i;
        }
        find(y) {
          let b = this.p;
          for (; b !== this.h; ) {
            if (b.l === y)
              return new p(b, this.h, this);
            b = b.B;
          }
          return this.end();
        }
        reverse() {
          if (this.i <= 1)
            return;
          let y = this.p, b = this._, A = 0;
          for (; A << 1 < this.i; ) {
            const w = y.l;
            y.l = b.l, b.l = w, y = y.B, b = b.L, A += 1;
          }
        }
        unique() {
          if (this.i <= 1)
            return this.i;
          let y = this.p;
          for (; y !== this.h; ) {
            let b = y;
            for (; b.B !== this.h && b.l === b.B.l; )
              b = b.B, this.i -= 1;
            y.B = b.B, y.B.L = y, y = y.B;
          }
          return this.i;
        }
        sort(y) {
          if (this.i <= 1)
            return;
          const b = [];
          this.forEach(function(w) {
            b.push(w);
          }), b.sort(y);
          let A = this.p;
          b.forEach(function(w) {
            A.l = w, A = A.B;
          });
        }
        merge(y) {
          const b = this;
          if (this.i === 0)
            y.forEach(function(A) {
              b.pushBack(A);
            });
          else {
            let A = this.p;
            y.forEach(function(w) {
              for (; A !== b.h && A.l <= w; )
                A = A.B;
              b.G(w, A.L);
            });
          }
          return this.i;
        }
        forEach(y) {
          let b = this.p, A = 0;
          for (; b !== this.h; )
            y(b.l, A++, this), b = b.B;
        }
        [Symbol.iterator]() {
          return (function* () {
            if (this.i === 0)
              return;
            let y = this.p;
            for (; y !== this.h; )
              yield y.l, y = y.B;
          }).bind(this)();
        }
      }
      var v = _;
      a.default = v;
    }, { "../../utils/throwError": 71, "../ContainerBase": 52, "./Base": 60 }], 63: [function(n, o, a) {
      Object.defineProperty(a, "t", {
        value: !0
      }), a.default = void 0;
      var u = d(n("./Base")), c = n("./Base/RandomIterator");
      function d(v) {
        return v && v.t ? v : {
          default: v
        };
      }
      class f extends c.RandomIterator {
        constructor(g, y, b) {
          super(g, b), this.container = y;
        }
        copy() {
          return new f(this.o, this.container, this.iteratorType);
        }
      }
      class p extends u.default {
        constructor(g = [], y = !0) {
          if (super(), Array.isArray(g))
            this.J = y ? [...g] : g, this.i = g.length;
          else {
            this.J = [];
            const b = this;
            g.forEach(function(A) {
              b.pushBack(A);
            });
          }
        }
        clear() {
          this.i = 0, this.J.length = 0;
        }
        begin() {
          return new f(0, this);
        }
        end() {
          return new f(this.i, this);
        }
        rBegin() {
          return new f(this.i - 1, this, 1);
        }
        rEnd() {
          return new f(-1, this, 1);
        }
        front() {
          return this.J[0];
        }
        back() {
          return this.J[this.i - 1];
        }
        getElementByPos(g) {
          if (g < 0 || g > this.i - 1)
            throw new RangeError();
          return this.J[g];
        }
        eraseElementByPos(g) {
          if (g < 0 || g > this.i - 1)
            throw new RangeError();
          return this.J.splice(g, 1), this.i -= 1, this.i;
        }
        eraseElementByValue(g) {
          let y = 0;
          for (let b = 0; b < this.i; ++b)
            this.J[b] !== g && (this.J[y++] = this.J[b]);
          return this.i = this.J.length = y, this.i;
        }
        eraseElementByIterator(g) {
          const y = g.o;
          return g = g.next(), this.eraseElementByPos(y), g;
        }
        pushBack(g) {
          return this.J.push(g), this.i += 1, this.i;
        }
        popBack() {
          if (this.i !== 0)
            return this.i -= 1, this.J.pop();
        }
        setElementByPos(g, y) {
          if (g < 0 || g > this.i - 1)
            throw new RangeError();
          this.J[g] = y;
        }
        insert(g, y, b = 1) {
          if (g < 0 || g > this.i)
            throw new RangeError();
          return this.J.splice(g, 0, ...new Array(b).fill(y)), this.i += b, this.i;
        }
        find(g) {
          for (let y = 0; y < this.i; ++y)
            if (this.J[y] === g)
              return new f(y, this);
          return this.end();
        }
        reverse() {
          this.J.reverse();
        }
        unique() {
          let g = 1;
          for (let y = 1; y < this.i; ++y)
            this.J[y] !== this.J[y - 1] && (this.J[g++] = this.J[y]);
          return this.i = this.J.length = g, this.i;
        }
        sort(g) {
          this.J.sort(g);
        }
        forEach(g) {
          for (let y = 0; y < this.i; ++y)
            g(this.J[y], y, this);
        }
        [Symbol.iterator]() {
          return (function* () {
            yield* this.J;
          }).bind(this)();
        }
      }
      var _ = p;
      a.default = _;
    }, { "./Base": 60, "./Base/RandomIterator": 59 }], 64: [function(n, o, a) {
      Object.defineProperty(a, "t", {
        value: !0
      }), a.default = void 0;
      var u = n("../../ContainerBase"), c = n("../../../utils/throwError");
      class d extends u.ContainerIterator {
        constructor(_, v, g) {
          super(g), this.o = _, this.h = v, this.iteratorType === 0 ? (this.pre = function() {
            return this.o === this.h.U && (0, c.throwIteratorAccessError)(), this.o = this.o.L(), this;
          }, this.next = function() {
            return this.o === this.h && (0, c.throwIteratorAccessError)(), this.o = this.o.B(), this;
          }) : (this.pre = function() {
            return this.o === this.h.W && (0, c.throwIteratorAccessError)(), this.o = this.o.B(), this;
          }, this.next = function() {
            return this.o === this.h && (0, c.throwIteratorAccessError)(), this.o = this.o.L(), this;
          });
        }
        get index() {
          let _ = this.o;
          const v = this.h.tt;
          if (_ === this.h)
            return v ? v.rt - 1 : 0;
          let g = 0;
          for (_.U && (g += _.U.rt); _ !== v; ) {
            const y = _.tt;
            _ === y.W && (g += 1, y.U && (g += y.U.rt)), _ = y;
          }
          return g;
        }
      }
      var f = d;
      a.default = f;
    }, { "../../../utils/throwError": 71, "../../ContainerBase": 52 }], 65: [function(n, o, a) {
      Object.defineProperty(a, "t", {
        value: !0
      }), a.TreeNodeEnableIndex = a.TreeNode = void 0;
      class u {
        constructor(f, p) {
          this.ee = 1, this.u = void 0, this.l = void 0, this.U = void 0, this.W = void 0, this.tt = void 0, this.u = f, this.l = p;
        }
        L() {
          let f = this;
          if (f.ee === 1 && f.tt.tt === f)
            f = f.W;
          else if (f.U)
            for (f = f.U; f.W; )
              f = f.W;
          else {
            let p = f.tt;
            for (; p.U === f; )
              f = p, p = f.tt;
            f = p;
          }
          return f;
        }
        B() {
          let f = this;
          if (f.W) {
            for (f = f.W; f.U; )
              f = f.U;
            return f;
          } else {
            let p = f.tt;
            for (; p.W === f; )
              f = p, p = f.tt;
            return f.W !== p ? p : f;
          }
        }
        te() {
          const f = this.tt, p = this.W, _ = p.U;
          return f.tt === this ? f.tt = p : f.U === this ? f.U = p : f.W = p, p.tt = f, p.U = this, this.tt = p, this.W = _, _ && (_.tt = this), p;
        }
        se() {
          const f = this.tt, p = this.U, _ = p.W;
          return f.tt === this ? f.tt = p : f.U === this ? f.U = p : f.W = p, p.tt = f, p.W = this, this.tt = p, this.U = _, _ && (_.tt = this), p;
        }
      }
      a.TreeNode = u;
      class c extends u {
        constructor() {
          super(...arguments), this.rt = 1;
        }
        te() {
          const f = super.te();
          return this.ie(), f.ie(), f;
        }
        se() {
          const f = super.se();
          return this.ie(), f.ie(), f;
        }
        ie() {
          this.rt = 1, this.U && (this.rt += this.U.rt), this.W && (this.rt += this.W.rt);
        }
      }
      a.TreeNodeEnableIndex = c;
    }, {}], 66: [function(n, o, a) {
      Object.defineProperty(a, "t", {
        value: !0
      }), a.default = void 0;
      var u = n("./TreeNode"), c = n("../../ContainerBase"), d = n("../../../utils/throwError");
      class f extends c.Container {
        constructor(v = function(y, b) {
          return y < b ? -1 : y > b ? 1 : 0;
        }, g = !1) {
          super(), this.Y = void 0, this.v = v, g ? (this.re = u.TreeNodeEnableIndex, this.M = function(y, b, A) {
            const w = this.ne(y, b, A);
            if (w) {
              let S = w.tt;
              for (; S !== this.h; )
                S.rt += 1, S = S.tt;
              const T = this.he(w);
              if (T) {
                const { parentNode: x, grandParent: L, curNode: O } = T;
                x.ie(), L.ie(), O.ie();
              }
            }
            return this.i;
          }, this.V = function(y) {
            let b = this.fe(y);
            for (; b !== this.h; )
              b.rt -= 1, b = b.tt;
          }) : (this.re = u.TreeNode, this.M = function(y, b, A) {
            const w = this.ne(y, b, A);
            return w && this.he(w), this.i;
          }, this.V = this.fe), this.h = new this.re();
        }
        X(v, g) {
          let y = this.h;
          for (; v; ) {
            const b = this.v(v.u, g);
            if (b < 0)
              v = v.W;
            else if (b > 0)
              y = v, v = v.U;
            else
              return v;
          }
          return y;
        }
        Z(v, g) {
          let y = this.h;
          for (; v; )
            this.v(v.u, g) <= 0 ? v = v.W : (y = v, v = v.U);
          return y;
        }
        $(v, g) {
          let y = this.h;
          for (; v; ) {
            const b = this.v(v.u, g);
            if (b < 0)
              y = v, v = v.W;
            else if (b > 0)
              v = v.U;
            else
              return v;
          }
          return y;
        }
        rr(v, g) {
          let y = this.h;
          for (; v; )
            this.v(v.u, g) < 0 ? (y = v, v = v.W) : v = v.U;
          return y;
        }
        ue(v) {
          for (; ; ) {
            const g = v.tt;
            if (g === this.h)
              return;
            if (v.ee === 1) {
              v.ee = 0;
              return;
            }
            if (v === g.U) {
              const y = g.W;
              if (y.ee === 1)
                y.ee = 0, g.ee = 1, g === this.Y ? this.Y = g.te() : g.te();
              else if (y.W && y.W.ee === 1) {
                y.ee = g.ee, g.ee = 0, y.W.ee = 0, g === this.Y ? this.Y = g.te() : g.te();
                return;
              } else
                y.U && y.U.ee === 1 ? (y.ee = 1, y.U.ee = 0, y.se()) : (y.ee = 1, v = g);
            } else {
              const y = g.U;
              if (y.ee === 1)
                y.ee = 0, g.ee = 1, g === this.Y ? this.Y = g.se() : g.se();
              else if (y.U && y.U.ee === 1) {
                y.ee = g.ee, g.ee = 0, y.U.ee = 0, g === this.Y ? this.Y = g.se() : g.se();
                return;
              } else
                y.W && y.W.ee === 1 ? (y.ee = 1, y.W.ee = 0, y.te()) : (y.ee = 1, v = g);
            }
          }
        }
        fe(v) {
          if (this.i === 1)
            return this.clear(), this.h;
          let g = v;
          for (; g.U || g.W; ) {
            if (g.W)
              for (g = g.W; g.U; )
                g = g.U;
            else
              g = g.U;
            [v.u, g.u] = [g.u, v.u], [v.l, g.l] = [g.l, v.l], v = g;
          }
          this.h.U === g ? this.h.U = g.tt : this.h.W === g && (this.h.W = g.tt), this.ue(g);
          const y = g.tt;
          return g === y.U ? y.U = void 0 : y.W = void 0, this.i -= 1, this.Y.ee = 0, y;
        }
        oe(v, g) {
          return v === void 0 ? !1 : this.oe(v.U, g) || g(v) ? !0 : this.oe(v.W, g);
        }
        he(v) {
          for (; ; ) {
            const g = v.tt;
            if (g.ee === 0)
              return;
            const y = g.tt;
            if (g === y.U) {
              const b = y.W;
              if (b && b.ee === 1) {
                if (b.ee = g.ee = 0, y === this.Y)
                  return;
                y.ee = 1, v = y;
                continue;
              } else if (v === g.W) {
                if (v.ee = 0, v.U && (v.U.tt = g), v.W && (v.W.tt = y), g.W = v.U, y.U = v.W, v.U = g, v.W = y, y === this.Y)
                  this.Y = v, this.h.tt = v;
                else {
                  const A = y.tt;
                  A.U === y ? A.U = v : A.W = v;
                }
                return v.tt = y.tt, g.tt = v, y.tt = v, y.ee = 1, {
                  parentNode: g,
                  grandParent: y,
                  curNode: v
                };
              } else
                g.ee = 0, y === this.Y ? this.Y = y.se() : y.se(), y.ee = 1;
            } else {
              const b = y.U;
              if (b && b.ee === 1) {
                if (b.ee = g.ee = 0, y === this.Y)
                  return;
                y.ee = 1, v = y;
                continue;
              } else if (v === g.U) {
                if (v.ee = 0, v.U && (v.U.tt = y), v.W && (v.W.tt = g), y.W = v.U, g.U = v.W, v.U = y, v.W = g, y === this.Y)
                  this.Y = v, this.h.tt = v;
                else {
                  const A = y.tt;
                  A.U === y ? A.U = v : A.W = v;
                }
                return v.tt = y.tt, g.tt = v, y.tt = v, y.ee = 1, {
                  parentNode: g,
                  grandParent: y,
                  curNode: v
                };
              } else
                g.ee = 0, y === this.Y ? this.Y = y.te() : y.te(), y.ee = 1;
            }
            return;
          }
        }
        ne(v, g, y) {
          if (this.Y === void 0) {
            this.i += 1, this.Y = new this.re(v, g), this.Y.ee = 0, this.Y.tt = this.h, this.h.tt = this.Y, this.h.U = this.Y, this.h.W = this.Y;
            return;
          }
          let b;
          const A = this.h.U, w = this.v(A.u, v);
          if (w === 0) {
            A.l = g;
            return;
          } else if (w > 0)
            A.U = new this.re(v, g), A.U.tt = A, b = A.U, this.h.U = b;
          else {
            const S = this.h.W, T = this.v(S.u, v);
            if (T === 0) {
              S.l = g;
              return;
            } else if (T < 0)
              S.W = new this.re(v, g), S.W.tt = S, b = S.W, this.h.W = b;
            else {
              if (y !== void 0) {
                const x = y.o;
                if (x !== this.h) {
                  const L = this.v(x.u, v);
                  if (L === 0) {
                    x.l = g;
                    return;
                  } else if (L > 0) {
                    const O = x.L(), M = this.v(O.u, v);
                    if (M === 0) {
                      O.l = g;
                      return;
                    } else
                      M < 0 && (b = new this.re(v, g), O.W === void 0 ? (O.W = b, b.tt = O) : (x.U = b, b.tt = x));
                  }
                }
              }
              if (b === void 0)
                for (b = this.Y; ; ) {
                  const x = this.v(b.u, v);
                  if (x > 0) {
                    if (b.U === void 0) {
                      b.U = new this.re(v, g), b.U.tt = b, b = b.U;
                      break;
                    }
                    b = b.U;
                  } else if (x < 0) {
                    if (b.W === void 0) {
                      b.W = new this.re(v, g), b.W.tt = b, b = b.W;
                      break;
                    }
                    b = b.W;
                  } else {
                    b.l = g;
                    return;
                  }
                }
            }
          }
          return this.i += 1, b;
        }
        I(v, g) {
          for (; v; ) {
            const y = this.v(v.u, g);
            if (y < 0)
              v = v.W;
            else if (y > 0)
              v = v.U;
            else
              return v;
          }
          return v || this.h;
        }
        clear() {
          this.i = 0, this.Y = void 0, this.h.tt = void 0, this.h.U = this.h.W = void 0;
        }
        updateKeyByIterator(v, g) {
          const y = v.o;
          if (y === this.h && (0, d.throwIteratorAccessError)(), this.i === 1)
            return y.u = g, !0;
          if (y === this.h.U)
            return this.v(y.B().u, g) > 0 ? (y.u = g, !0) : !1;
          if (y === this.h.W)
            return this.v(y.L().u, g) < 0 ? (y.u = g, !0) : !1;
          const b = y.L().u;
          if (this.v(b, g) >= 0)
            return !1;
          const A = y.B().u;
          return this.v(A, g) <= 0 ? !1 : (y.u = g, !0);
        }
        eraseElementByPos(v) {
          if (v < 0 || v > this.i - 1)
            throw new RangeError();
          let g = 0;
          const y = this;
          return this.oe(this.Y, function(b) {
            return v === g ? (y.V(b), !0) : (g += 1, !1);
          }), this.i;
        }
        eraseElementByKey(v) {
          if (this.i === 0)
            return !1;
          const g = this.I(this.Y, v);
          return g === this.h ? !1 : (this.V(g), !0);
        }
        eraseElementByIterator(v) {
          const g = v.o;
          g === this.h && (0, d.throwIteratorAccessError)();
          const y = g.W === void 0;
          return v.iteratorType === 0 ? y && v.next() : (!y || g.U === void 0) && v.next(), this.V(g), v;
        }
        forEach(v) {
          let g = 0;
          for (const y of this)
            v(y, g++, this);
        }
        getElementByPos(v) {
          if (v < 0 || v > this.i - 1)
            throw new RangeError();
          let g, y = 0;
          for (const b of this) {
            if (y === v) {
              g = b;
              break;
            }
            y += 1;
          }
          return g;
        }
        getHeight() {
          if (this.i === 0)
            return 0;
          const v = function(g) {
            return g ? Math.max(v(g.U), v(g.W)) + 1 : 0;
          };
          return v(this.Y);
        }
      }
      var p = f;
      a.default = p;
    }, { "../../../utils/throwError": 71, "../../ContainerBase": 52, "./TreeNode": 65 }], 67: [function(n, o, a) {
      Object.defineProperty(a, "t", {
        value: !0
      }), a.default = void 0;
      var u = f(n("./Base")), c = f(n("./Base/TreeIterator")), d = n("../../utils/throwError");
      function f(g) {
        return g && g.t ? g : {
          default: g
        };
      }
      class p extends c.default {
        constructor(y, b, A, w) {
          super(y, b, w), this.container = A;
        }
        get pointer() {
          this.o === this.h && (0, d.throwIteratorAccessError)();
          const y = this;
          return new Proxy([], {
            get(b, A) {
              if (A === "0")
                return y.o.u;
              if (A === "1")
                return y.o.l;
            },
            set(b, A, w) {
              if (A !== "1")
                throw new TypeError("props must be 1");
              return y.o.l = w, !0;
            }
          });
        }
        copy() {
          return new p(this.o, this.h, this.container, this.iteratorType);
        }
      }
      class _ extends u.default {
        constructor(y = [], b, A) {
          super(b, A);
          const w = this;
          y.forEach(function(S) {
            w.setElement(S[0], S[1]);
          });
        }
        *K(y) {
          y !== void 0 && (yield* this.K(y.U), yield [y.u, y.l], yield* this.K(y.W));
        }
        begin() {
          return new p(this.h.U || this.h, this.h, this);
        }
        end() {
          return new p(this.h, this.h, this);
        }
        rBegin() {
          return new p(this.h.W || this.h, this.h, this, 1);
        }
        rEnd() {
          return new p(this.h, this.h, this, 1);
        }
        front() {
          if (this.i === 0)
            return;
          const y = this.h.U;
          return [y.u, y.l];
        }
        back() {
          if (this.i === 0)
            return;
          const y = this.h.W;
          return [y.u, y.l];
        }
        lowerBound(y) {
          const b = this.X(this.Y, y);
          return new p(b, this.h, this);
        }
        upperBound(y) {
          const b = this.Z(this.Y, y);
          return new p(b, this.h, this);
        }
        reverseLowerBound(y) {
          const b = this.$(this.Y, y);
          return new p(b, this.h, this);
        }
        reverseUpperBound(y) {
          const b = this.rr(this.Y, y);
          return new p(b, this.h, this);
        }
        setElement(y, b, A) {
          return this.M(y, b, A);
        }
        find(y) {
          const b = this.I(this.Y, y);
          return new p(b, this.h, this);
        }
        getElementByKey(y) {
          return this.I(this.Y, y).l;
        }
        union(y) {
          const b = this;
          return y.forEach(function(A) {
            b.setElement(A[0], A[1]);
          }), this.i;
        }
        [Symbol.iterator]() {
          return this.K(this.Y);
        }
      }
      var v = _;
      a.default = v;
    }, { "../../utils/throwError": 71, "./Base": 66, "./Base/TreeIterator": 64 }], 68: [function(n, o, a) {
      Object.defineProperty(a, "t", {
        value: !0
      }), a.default = void 0;
      var u = f(n("./Base")), c = f(n("./Base/TreeIterator")), d = n("../../utils/throwError");
      function f(g) {
        return g && g.t ? g : {
          default: g
        };
      }
      class p extends c.default {
        constructor(y, b, A, w) {
          super(y, b, w), this.container = A;
        }
        get pointer() {
          return this.o === this.h && (0, d.throwIteratorAccessError)(), this.o.u;
        }
        copy() {
          return new p(this.o, this.h, this.container, this.iteratorType);
        }
      }
      class _ extends u.default {
        constructor(y = [], b, A) {
          super(b, A);
          const w = this;
          y.forEach(function(S) {
            w.insert(S);
          });
        }
        *K(y) {
          y !== void 0 && (yield* this.K(y.U), yield y.u, yield* this.K(y.W));
        }
        begin() {
          return new p(this.h.U || this.h, this.h, this);
        }
        end() {
          return new p(this.h, this.h, this);
        }
        rBegin() {
          return new p(this.h.W || this.h, this.h, this, 1);
        }
        rEnd() {
          return new p(this.h, this.h, this, 1);
        }
        front() {
          return this.h.U ? this.h.U.u : void 0;
        }
        back() {
          return this.h.W ? this.h.W.u : void 0;
        }
        insert(y, b) {
          return this.M(y, void 0, b);
        }
        find(y) {
          const b = this.I(this.Y, y);
          return new p(b, this.h, this);
        }
        lowerBound(y) {
          const b = this.X(this.Y, y);
          return new p(b, this.h, this);
        }
        upperBound(y) {
          const b = this.Z(this.Y, y);
          return new p(b, this.h, this);
        }
        reverseLowerBound(y) {
          const b = this.$(this.Y, y);
          return new p(b, this.h, this);
        }
        reverseUpperBound(y) {
          const b = this.rr(this.Y, y);
          return new p(b, this.h, this);
        }
        union(y) {
          const b = this;
          return y.forEach(function(A) {
            b.insert(A);
          }), this.i;
        }
        [Symbol.iterator]() {
          return this.K(this.Y);
        }
      }
      var v = _;
      a.default = v;
    }, { "../../utils/throwError": 71, "./Base": 66, "./Base/TreeIterator": 64 }], 69: [function(n, o, a) {
      Object.defineProperty(a, "t", {
        value: !0
      }), Object.defineProperty(a, "Deque", {
        enumerable: !0,
        get: function() {
          return _.default;
        }
      }), Object.defineProperty(a, "HashMap", {
        enumerable: !0,
        get: function() {
          return b.default;
        }
      }), Object.defineProperty(a, "HashSet", {
        enumerable: !0,
        get: function() {
          return y.default;
        }
      }), Object.defineProperty(a, "LinkList", {
        enumerable: !0,
        get: function() {
          return p.default;
        }
      }), Object.defineProperty(a, "OrderedMap", {
        enumerable: !0,
        get: function() {
          return g.default;
        }
      }), Object.defineProperty(a, "OrderedSet", {
        enumerable: !0,
        get: function() {
          return v.default;
        }
      }), Object.defineProperty(a, "PriorityQueue", {
        enumerable: !0,
        get: function() {
          return d.default;
        }
      }), Object.defineProperty(a, "Queue", {
        enumerable: !0,
        get: function() {
          return c.default;
        }
      }), Object.defineProperty(a, "Stack", {
        enumerable: !0,
        get: function() {
          return u.default;
        }
      }), Object.defineProperty(a, "Vector", {
        enumerable: !0,
        get: function() {
          return f.default;
        }
      });
      var u = A(n("./container/OtherContainer/Stack")), c = A(n("./container/OtherContainer/Queue")), d = A(n("./container/OtherContainer/PriorityQueue")), f = A(n("./container/SequentialContainer/Vector")), p = A(n("./container/SequentialContainer/LinkList")), _ = A(n("./container/SequentialContainer/Deque")), v = A(n("./container/TreeContainer/OrderedSet")), g = A(n("./container/TreeContainer/OrderedMap")), y = A(n("./container/HashContainer/HashSet")), b = A(n("./container/HashContainer/HashMap"));
      function A(w) {
        return w && w.t ? w : {
          default: w
        };
      }
    }, { "./container/HashContainer/HashMap": 54, "./container/HashContainer/HashSet": 55, "./container/OtherContainer/PriorityQueue": 56, "./container/OtherContainer/Queue": 57, "./container/OtherContainer/Stack": 58, "./container/SequentialContainer/Deque": 61, "./container/SequentialContainer/LinkList": 62, "./container/SequentialContainer/Vector": 63, "./container/TreeContainer/OrderedMap": 67, "./container/TreeContainer/OrderedSet": 68 }], 70: [function(n, o, a) {
      Object.defineProperty(a, "t", {
        value: !0
      }), a.default = u;
      function u(c) {
        const d = typeof c;
        return d === "object" && c !== null || d === "function";
      }
    }, {}], 71: [function(n, o, a) {
      Object.defineProperty(a, "t", {
        value: !0
      }), a.throwIteratorAccessError = u;
      function u() {
        throw new RangeError("Iterator access denied!");
      }
    }, {}], 72: [function(n, o, a) {
      (function(u) {
        (function() {
          const c = typeof performance == "object" && performance && typeof performance.now == "function" ? performance : Date, f = typeof AbortController == "function" ? AbortController : class {
            constructor() {
              this.signal = new v();
            }
            abort($ = new Error("This operation was aborted")) {
              this.signal.reason = this.signal.reason || $, this.signal.aborted = !0, this.signal.dispatchEvent({
                type: "abort",
                target: this.signal
              });
            }
          }, p = typeof AbortSignal == "function", _ = typeof f.AbortSignal == "function", v = p ? AbortSignal : _ ? f.AbortController : class {
            constructor() {
              this.reason = void 0, this.aborted = !1, this._listeners = [];
            }
            dispatchEvent($) {
              $.type === "abort" && (this.aborted = !0, this.onabort($), this._listeners.forEach((Y) => Y($), this));
            }
            onabort() {
            }
            addEventListener($, Y) {
              $ === "abort" && this._listeners.push(Y);
            }
            removeEventListener($, Y) {
              $ === "abort" && (this._listeners = this._listeners.filter((D) => D !== Y));
            }
          }, g = /* @__PURE__ */ new Set(), y = (ie, $) => {
            const Y = `LRU_CACHE_OPTION_${ie}`;
            S(Y) && T(Y, `${ie} option`, `options.${$}`, k);
          }, b = (ie, $) => {
            const Y = `LRU_CACHE_METHOD_${ie}`;
            if (S(Y)) {
              const { prototype: D } = k, { get: re } = Object.getOwnPropertyDescriptor(D, ie);
              T(Y, `${ie} method`, `cache.${$}()`, re);
            }
          }, A = (ie, $) => {
            const Y = `LRU_CACHE_PROPERTY_${ie}`;
            if (S(Y)) {
              const { prototype: D } = k, { get: re } = Object.getOwnPropertyDescriptor(D, ie);
              T(Y, `${ie} property`, `cache.${$}`, re);
            }
          }, w = (...ie) => {
            typeof u == "object" && u && typeof u.emitWarning == "function" ? u.emitWarning(...ie) : console.error(...ie);
          }, S = (ie) => !g.has(ie), T = (ie, $, Y, D) => {
            g.add(ie);
            const re = `The ${$} is deprecated. Please use ${Y} instead.`;
            w(re, "DeprecationWarning", ie, D);
          }, x = (ie) => ie && ie === Math.floor(ie) && ie > 0 && isFinite(ie), L = (ie) => x(ie) ? ie <= Math.pow(2, 8) ? Uint8Array : ie <= Math.pow(2, 16) ? Uint16Array : ie <= Math.pow(2, 32) ? Uint32Array : ie <= Number.MAX_SAFE_INTEGER ? O : null : null;
          class O extends Array {
            constructor($) {
              super($), this.fill(0);
            }
          }
          class M {
            constructor($) {
              if ($ === 0)
                return [];
              const Y = L($);
              this.heap = new Y($), this.length = 0;
            }
            push($) {
              this.heap[this.length++] = $;
            }
            pop() {
              return this.heap[--this.length];
            }
          }
          class k {
            constructor($ = {}) {
              const {
                max: Y = 0,
                ttl: D,
                ttlResolution: re = 1,
                ttlAutopurge: F,
                updateAgeOnGet: _e,
                updateAgeOnHas: ue,
                allowStale: Ie,
                dispose: ze,
                disposeAfter: Fe,
                noDisposeOnSet: Oe,
                noUpdateTTL: Lt,
                maxSize: pe = 0,
                maxEntrySize: Cn = 0,
                sizeCalculation: In,
                fetchMethod: Dt,
                fetchContext: he,
                noDeleteOnFetchRejection: Et,
                noDeleteOnStaleGet: hn,
                allowStaleOnFetchRejection: vn,
                allowStaleOnFetchAbort: kt,
                ignoreFetchAbort: Ce
              } = $, { length: de, maxAge: Ue, stale: Ne } = $ instanceof k ? {} : $;
              if (Y !== 0 && !x(Y))
                throw new TypeError("max option must be a nonnegative integer");
              const Ve = Y ? L(Y) : Array;
              if (!Ve)
                throw new Error("invalid max value: " + Y);
              if (this.max = Y, this.maxSize = pe, this.maxEntrySize = Cn || this.maxSize, this.sizeCalculation = In || de, this.sizeCalculation) {
                if (!this.maxSize && !this.maxEntrySize)
                  throw new TypeError(
                    "cannot set sizeCalculation without setting maxSize or maxEntrySize"
                  );
                if (typeof this.sizeCalculation != "function")
                  throw new TypeError("sizeCalculation set to non-function");
              }
              if (this.fetchMethod = Dt || null, this.fetchMethod && typeof this.fetchMethod != "function")
                throw new TypeError(
                  "fetchMethod must be a function if specified"
                );
              if (this.fetchContext = he, !this.fetchMethod && he !== void 0)
                throw new TypeError(
                  "cannot set fetchContext without fetchMethod"
                );
              if (this.keyMap = /* @__PURE__ */ new Map(), this.keyList = new Array(Y).fill(null), this.valList = new Array(Y).fill(null), this.next = new Ve(Y), this.prev = new Ve(Y), this.head = 0, this.tail = 0, this.free = new M(Y), this.initialFill = 1, this.size = 0, typeof ze == "function" && (this.dispose = ze), typeof Fe == "function" ? (this.disposeAfter = Fe, this.disposed = []) : (this.disposeAfter = null, this.disposed = null), this.noDisposeOnSet = !!Oe, this.noUpdateTTL = !!Lt, this.noDeleteOnFetchRejection = !!Et, this.allowStaleOnFetchRejection = !!vn, this.allowStaleOnFetchAbort = !!kt, this.ignoreFetchAbort = !!Ce, this.maxEntrySize !== 0) {
                if (this.maxSize !== 0 && !x(this.maxSize))
                  throw new TypeError(
                    "maxSize must be a positive integer if specified"
                  );
                if (!x(this.maxEntrySize))
                  throw new TypeError(
                    "maxEntrySize must be a positive integer if specified"
                  );
                this.initializeSizeTracking();
              }
              if (this.allowStale = !!Ie || !!Ne, this.noDeleteOnStaleGet = !!hn, this.updateAgeOnGet = !!_e, this.updateAgeOnHas = !!ue, this.ttlResolution = x(re) || re === 0 ? re : 1, this.ttlAutopurge = !!F, this.ttl = D || Ue || 0, this.ttl) {
                if (!x(this.ttl))
                  throw new TypeError(
                    "ttl must be a positive integer if specified"
                  );
                this.initializeTTLTracking();
              }
              if (this.max === 0 && this.ttl === 0 && this.maxSize === 0)
                throw new TypeError(
                  "At least one of max, maxSize, or ttl is required"
                );
              if (!this.ttlAutopurge && !this.max && !this.maxSize) {
                const Pt = "LRU_CACHE_UNBOUNDED";
                S(Pt) && (g.add(Pt), w("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.", "UnboundedCacheWarning", Pt, k));
              }
              Ne && y("stale", "allowStale"), Ue && y("maxAge", "ttl"), de && y("length", "sizeCalculation");
            }
            getRemainingTTL($) {
              return this.has($, { updateAgeOnHas: !1 }) ? 1 / 0 : 0;
            }
            initializeTTLTracking() {
              this.ttls = new O(this.max), this.starts = new O(this.max), this.setItemTTL = (D, re, F = c.now()) => {
                if (this.starts[D] = re !== 0 ? F : 0, this.ttls[D] = re, re !== 0 && this.ttlAutopurge) {
                  const _e = setTimeout(() => {
                    this.isStale(D) && this.delete(this.keyList[D]);
                  }, re + 1);
                  _e.unref && _e.unref();
                }
              }, this.updateItemAge = (D) => {
                this.starts[D] = this.ttls[D] !== 0 ? c.now() : 0;
              }, this.statusTTL = (D, re) => {
                D && (D.ttl = this.ttls[re], D.start = this.starts[re], D.now = $ || Y(), D.remainingTTL = D.now + D.ttl - D.start);
              };
              let $ = 0;
              const Y = () => {
                const D = c.now();
                if (this.ttlResolution > 0) {
                  $ = D;
                  const re = setTimeout(
                    () => $ = 0,
                    this.ttlResolution
                  );
                  re.unref && re.unref();
                }
                return D;
              };
              this.getRemainingTTL = (D) => {
                const re = this.keyMap.get(D);
                return re === void 0 ? 0 : this.ttls[re] === 0 || this.starts[re] === 0 ? 1 / 0 : this.starts[re] + this.ttls[re] - ($ || Y());
              }, this.isStale = (D) => this.ttls[D] !== 0 && this.starts[D] !== 0 && ($ || Y()) - this.starts[D] > this.ttls[D];
            }
            updateItemAge($) {
            }
            statusTTL($, Y) {
            }
            setItemTTL($, Y, D) {
            }
            isStale($) {
              return !1;
            }
            initializeSizeTracking() {
              this.calculatedSize = 0, this.sizes = new O(this.max), this.removeItemSize = ($) => {
                this.calculatedSize -= this.sizes[$], this.sizes[$] = 0;
              }, this.requireSize = ($, Y, D, re) => {
                if (this.isBackgroundFetch(Y))
                  return 0;
                if (!x(D))
                  if (re) {
                    if (typeof re != "function")
                      throw new TypeError("sizeCalculation must be a function");
                    if (D = re(Y, $), !x(D))
                      throw new TypeError(
                        "sizeCalculation return invalid (expect positive integer)"
                      );
                  } else
                    throw new TypeError(
                      "invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set."
                    );
                return D;
              }, this.addItemSize = ($, Y, D) => {
                if (this.sizes[$] = Y, this.maxSize) {
                  const re = this.maxSize - this.sizes[$];
                  for (; this.calculatedSize > re; )
                    this.evict(!0);
                }
                this.calculatedSize += this.sizes[$], D && (D.entrySize = Y, D.totalCalculatedSize = this.calculatedSize);
              };
            }
            removeItemSize($) {
            }
            addItemSize($, Y) {
            }
            requireSize($, Y, D, re) {
              if (D || re)
                throw new TypeError(
                  "cannot set size without setting maxSize or maxEntrySize on cache"
                );
            }
            *indexes({ allowStale: $ = this.allowStale } = {}) {
              if (this.size)
                for (let Y = this.tail; !(!this.isValidIndex(Y) || (($ || !this.isStale(Y)) && (yield Y), Y === this.head)); )
                  Y = this.prev[Y];
            }
            *rindexes({ allowStale: $ = this.allowStale } = {}) {
              if (this.size)
                for (let Y = this.head; !(!this.isValidIndex(Y) || (($ || !this.isStale(Y)) && (yield Y), Y === this.tail)); )
                  Y = this.next[Y];
            }
            isValidIndex($) {
              return $ !== void 0 && this.keyMap.get(this.keyList[$]) === $;
            }
            *entries() {
              for (const $ of this.indexes())
                this.valList[$] !== void 0 && this.keyList[$] !== void 0 && !this.isBackgroundFetch(this.valList[$]) && (yield [this.keyList[$], this.valList[$]]);
            }
            *rentries() {
              for (const $ of this.rindexes())
                this.valList[$] !== void 0 && this.keyList[$] !== void 0 && !this.isBackgroundFetch(this.valList[$]) && (yield [this.keyList[$], this.valList[$]]);
            }
            *keys() {
              for (const $ of this.indexes())
                this.keyList[$] !== void 0 && !this.isBackgroundFetch(this.valList[$]) && (yield this.keyList[$]);
            }
            *rkeys() {
              for (const $ of this.rindexes())
                this.keyList[$] !== void 0 && !this.isBackgroundFetch(this.valList[$]) && (yield this.keyList[$]);
            }
            *values() {
              for (const $ of this.indexes())
                this.valList[$] !== void 0 && !this.isBackgroundFetch(this.valList[$]) && (yield this.valList[$]);
            }
            *rvalues() {
              for (const $ of this.rindexes())
                this.valList[$] !== void 0 && !this.isBackgroundFetch(this.valList[$]) && (yield this.valList[$]);
            }
            [Symbol.iterator]() {
              return this.entries();
            }
            find($, Y) {
              for (const D of this.indexes()) {
                const re = this.valList[D], F = this.isBackgroundFetch(re) ? re.__staleWhileFetching : re;
                if (F !== void 0 && $(F, this.keyList[D], this))
                  return this.get(this.keyList[D], Y);
              }
            }
            forEach($, Y = this) {
              for (const D of this.indexes()) {
                const re = this.valList[D], F = this.isBackgroundFetch(re) ? re.__staleWhileFetching : re;
                F !== void 0 && $.call(Y, F, this.keyList[D], this);
              }
            }
            rforEach($, Y = this) {
              for (const D of this.rindexes()) {
                const re = this.valList[D], F = this.isBackgroundFetch(re) ? re.__staleWhileFetching : re;
                F !== void 0 && $.call(Y, F, this.keyList[D], this);
              }
            }
            get prune() {
              return b("prune", "purgeStale"), this.purgeStale;
            }
            purgeStale() {
              let $ = !1;
              for (const Y of this.rindexes({ allowStale: !0 }))
                this.isStale(Y) && (this.delete(this.keyList[Y]), $ = !0);
              return $;
            }
            dump() {
              const $ = [];
              for (const Y of this.indexes({ allowStale: !0 })) {
                const D = this.keyList[Y], re = this.valList[Y], F = this.isBackgroundFetch(re) ? re.__staleWhileFetching : re;
                if (F === void 0)
                  continue;
                const _e = { value: F };
                if (this.ttls) {
                  _e.ttl = this.ttls[Y];
                  const ue = c.now() - this.starts[Y];
                  _e.start = Math.floor(Date.now() - ue);
                }
                this.sizes && (_e.size = this.sizes[Y]), $.unshift([D, _e]);
              }
              return $;
            }
            load($) {
              this.clear();
              for (const [Y, D] of $) {
                if (D.start) {
                  const re = Date.now() - D.start;
                  D.start = c.now() - re;
                }
                this.set(Y, D.value, D);
              }
            }
            dispose($, Y, D) {
            }
            set($, Y, {
              ttl: D = this.ttl,
              start: re,
              noDisposeOnSet: F = this.noDisposeOnSet,
              size: _e = 0,
              sizeCalculation: ue = this.sizeCalculation,
              noUpdateTTL: Ie = this.noUpdateTTL,
              status: ze
            } = {}) {
              if (_e = this.requireSize($, Y, _e, ue), this.maxEntrySize && _e > this.maxEntrySize)
                return ze && (ze.set = "miss", ze.maxEntrySizeExceeded = !0), this.delete($), this;
              let Fe = this.size === 0 ? void 0 : this.keyMap.get($);
              if (Fe === void 0)
                Fe = this.newIndex(), this.keyList[Fe] = $, this.valList[Fe] = Y, this.keyMap.set($, Fe), this.next[this.tail] = Fe, this.prev[Fe] = this.tail, this.tail = Fe, this.size++, this.addItemSize(Fe, _e, ze), ze && (ze.set = "add"), Ie = !1;
              else {
                this.moveToTail(Fe);
                const Oe = this.valList[Fe];
                if (Y !== Oe) {
                  if (this.isBackgroundFetch(Oe) ? Oe.__abortController.abort(new Error("replaced")) : F || (this.dispose(Oe, $, "set"), this.disposeAfter && this.disposed.push([Oe, $, "set"])), this.removeItemSize(Fe), this.valList[Fe] = Y, this.addItemSize(Fe, _e, ze), ze) {
                    ze.set = "replace";
                    const Lt = Oe && this.isBackgroundFetch(Oe) ? Oe.__staleWhileFetching : Oe;
                    Lt !== void 0 && (ze.oldValue = Lt);
                  }
                } else
                  ze && (ze.set = "update");
              }
              if (D !== 0 && this.ttl === 0 && !this.ttls && this.initializeTTLTracking(), Ie || this.setItemTTL(Fe, D, re), this.statusTTL(ze, Fe), this.disposeAfter)
                for (; this.disposed.length; )
                  this.disposeAfter(...this.disposed.shift());
              return this;
            }
            newIndex() {
              return this.size === 0 ? this.tail : this.size === this.max && this.max !== 0 ? this.evict(!1) : this.free.length !== 0 ? this.free.pop() : this.initialFill++;
            }
            pop() {
              if (this.size) {
                const $ = this.valList[this.head];
                return this.evict(!0), $;
              }
            }
            evict($) {
              const Y = this.head, D = this.keyList[Y], re = this.valList[Y];
              return this.isBackgroundFetch(re) ? re.__abortController.abort(new Error("evicted")) : (this.dispose(re, D, "evict"), this.disposeAfter && this.disposed.push([re, D, "evict"])), this.removeItemSize(Y), $ && (this.keyList[Y] = null, this.valList[Y] = null, this.free.push(Y)), this.head = this.next[Y], this.keyMap.delete(D), this.size--, Y;
            }
            has($, { updateAgeOnHas: Y = this.updateAgeOnHas, status: D } = {}) {
              const re = this.keyMap.get($);
              if (re !== void 0)
                if (this.isStale(re))
                  D && (D.has = "stale", this.statusTTL(D, re));
                else
                  return Y && this.updateItemAge(re), D && (D.has = "hit"), this.statusTTL(D, re), !0;
              else
                D && (D.has = "miss");
              return !1;
            }
            // like get(), but without any LRU updating or TTL expiration
            peek($, { allowStale: Y = this.allowStale } = {}) {
              const D = this.keyMap.get($);
              if (D !== void 0 && (Y || !this.isStale(D))) {
                const re = this.valList[D];
                return this.isBackgroundFetch(re) ? re.__staleWhileFetching : re;
              }
            }
            backgroundFetch($, Y, D, re) {
              const F = Y === void 0 ? void 0 : this.valList[Y];
              if (this.isBackgroundFetch(F))
                return F;
              const _e = new f();
              D.signal && D.signal.addEventListener(
                "abort",
                () => _e.abort(D.signal.reason)
              );
              const ue = {
                signal: _e.signal,
                options: D,
                context: re
              }, Ie = (pe, Cn = !1) => {
                const { aborted: In } = _e.signal, Dt = D.ignoreFetchAbort && pe !== void 0;
                return D.status && (In && !Cn ? (D.status.fetchAborted = !0, D.status.fetchError = _e.signal.reason, Dt && (D.status.fetchAbortIgnored = !0)) : D.status.fetchResolved = !0), In && !Dt && !Cn ? Fe(_e.signal.reason) : (this.valList[Y] === Lt && (pe === void 0 ? Lt.__staleWhileFetching ? this.valList[Y] = Lt.__staleWhileFetching : this.delete($) : (D.status && (D.status.fetchUpdated = !0), this.set($, pe, ue.options))), pe);
              }, ze = (pe) => (D.status && (D.status.fetchRejected = !0, D.status.fetchError = pe), Fe(pe)), Fe = (pe) => {
                const { aborted: Cn } = _e.signal, In = Cn && D.allowStaleOnFetchAbort, Dt = In || D.allowStaleOnFetchRejection, he = Dt || D.noDeleteOnFetchRejection;
                if (this.valList[Y] === Lt && (!he || Lt.__staleWhileFetching === void 0 ? this.delete($) : In || (this.valList[Y] = Lt.__staleWhileFetching)), Dt)
                  return D.status && Lt.__staleWhileFetching !== void 0 && (D.status.returnedStale = !0), Lt.__staleWhileFetching;
                if (Lt.__returned === Lt)
                  throw pe;
              }, Oe = (pe, Cn) => {
                this.fetchMethod($, F, ue).then((In) => pe(In), Cn), _e.signal.addEventListener("abort", () => {
                  (!D.ignoreFetchAbort || D.allowStaleOnFetchAbort) && (pe(), D.allowStaleOnFetchAbort && (pe = (In) => Ie(In, !0)));
                });
              };
              D.status && (D.status.fetchDispatched = !0);
              const Lt = new Promise(Oe).then(Ie, ze);
              return Lt.__abortController = _e, Lt.__staleWhileFetching = F, Lt.__returned = null, Y === void 0 ? (this.set($, Lt, { ...ue.options, status: void 0 }), Y = this.keyMap.get($)) : this.valList[Y] = Lt, Lt;
            }
            isBackgroundFetch($) {
              return $ && typeof $ == "object" && typeof $.then == "function" && Object.prototype.hasOwnProperty.call(
                $,
                "__staleWhileFetching"
              ) && Object.prototype.hasOwnProperty.call($, "__returned") && ($.__returned === $ || $.__returned === null);
            }
            // this takes the union of get() and set() opts, because it does both
            async fetch($, {
              // get options
              allowStale: Y = this.allowStale,
              updateAgeOnGet: D = this.updateAgeOnGet,
              noDeleteOnStaleGet: re = this.noDeleteOnStaleGet,
              // set options
              ttl: F = this.ttl,
              noDisposeOnSet: _e = this.noDisposeOnSet,
              size: ue = 0,
              sizeCalculation: Ie = this.sizeCalculation,
              noUpdateTTL: ze = this.noUpdateTTL,
              // fetch exclusive options
              noDeleteOnFetchRejection: Fe = this.noDeleteOnFetchRejection,
              allowStaleOnFetchRejection: Oe = this.allowStaleOnFetchRejection,
              ignoreFetchAbort: Lt = this.ignoreFetchAbort,
              allowStaleOnFetchAbort: pe = this.allowStaleOnFetchAbort,
              fetchContext: Cn = this.fetchContext,
              forceRefresh: In = !1,
              status: Dt,
              signal: he
            } = {}) {
              if (!this.fetchMethod)
                return Dt && (Dt.fetch = "get"), this.get($, {
                  allowStale: Y,
                  updateAgeOnGet: D,
                  noDeleteOnStaleGet: re,
                  status: Dt
                });
              const Et = {
                allowStale: Y,
                updateAgeOnGet: D,
                noDeleteOnStaleGet: re,
                ttl: F,
                noDisposeOnSet: _e,
                size: ue,
                sizeCalculation: Ie,
                noUpdateTTL: ze,
                noDeleteOnFetchRejection: Fe,
                allowStaleOnFetchRejection: Oe,
                allowStaleOnFetchAbort: pe,
                ignoreFetchAbort: Lt,
                status: Dt,
                signal: he
              };
              let hn = this.keyMap.get($);
              if (hn === void 0) {
                Dt && (Dt.fetch = "miss");
                const vn = this.backgroundFetch($, hn, Et, Cn);
                return vn.__returned = vn;
              } else {
                const vn = this.valList[hn];
                if (this.isBackgroundFetch(vn)) {
                  const Ne = Y && vn.__staleWhileFetching !== void 0;
                  return Dt && (Dt.fetch = "inflight", Ne && (Dt.returnedStale = !0)), Ne ? vn.__staleWhileFetching : vn.__returned = vn;
                }
                const kt = this.isStale(hn);
                if (!In && !kt)
                  return Dt && (Dt.fetch = "hit"), this.moveToTail(hn), D && this.updateItemAge(hn), this.statusTTL(Dt, hn), vn;
                const Ce = this.backgroundFetch($, hn, Et, Cn), de = Ce.__staleWhileFetching !== void 0, Ue = de && Y;
                return Dt && (Dt.fetch = de && kt ? "stale" : "refresh", Ue && kt && (Dt.returnedStale = !0)), Ue ? Ce.__staleWhileFetching : Ce.__returned = Ce;
              }
            }
            get($, {
              allowStale: Y = this.allowStale,
              updateAgeOnGet: D = this.updateAgeOnGet,
              noDeleteOnStaleGet: re = this.noDeleteOnStaleGet,
              status: F
            } = {}) {
              const _e = this.keyMap.get($);
              if (_e !== void 0) {
                const ue = this.valList[_e], Ie = this.isBackgroundFetch(ue);
                return this.statusTTL(F, _e), this.isStale(_e) ? (F && (F.get = "stale"), Ie ? (F && (F.returnedStale = Y && ue.__staleWhileFetching !== void 0), Y ? ue.__staleWhileFetching : void 0) : (re || this.delete($), F && (F.returnedStale = Y), Y ? ue : void 0)) : (F && (F.get = "hit"), Ie ? ue.__staleWhileFetching : (this.moveToTail(_e), D && this.updateItemAge(_e), ue));
              } else
                F && (F.get = "miss");
            }
            connect($, Y) {
              this.prev[Y] = $, this.next[$] = Y;
            }
            moveToTail($) {
              $ !== this.tail && ($ === this.head ? this.head = this.next[$] : this.connect(this.prev[$], this.next[$]), this.connect(this.tail, $), this.tail = $);
            }
            get del() {
              return b("del", "delete"), this.delete;
            }
            delete($) {
              let Y = !1;
              if (this.size !== 0) {
                const D = this.keyMap.get($);
                if (D !== void 0)
                  if (Y = !0, this.size === 1)
                    this.clear();
                  else {
                    this.removeItemSize(D);
                    const re = this.valList[D];
                    this.isBackgroundFetch(re) ? re.__abortController.abort(new Error("deleted")) : (this.dispose(re, $, "delete"), this.disposeAfter && this.disposed.push([re, $, "delete"])), this.keyMap.delete($), this.keyList[D] = null, this.valList[D] = null, D === this.tail ? this.tail = this.prev[D] : D === this.head ? this.head = this.next[D] : (this.next[this.prev[D]] = this.next[D], this.prev[this.next[D]] = this.prev[D]), this.size--, this.free.push(D);
                  }
              }
              if (this.disposed)
                for (; this.disposed.length; )
                  this.disposeAfter(...this.disposed.shift());
              return Y;
            }
            clear() {
              for (const $ of this.rindexes({ allowStale: !0 })) {
                const Y = this.valList[$];
                if (this.isBackgroundFetch(Y))
                  Y.__abortController.abort(new Error("deleted"));
                else {
                  const D = this.keyList[$];
                  this.dispose(Y, D, "delete"), this.disposeAfter && this.disposed.push([Y, D, "delete"]);
                }
              }
              if (this.keyMap.clear(), this.valList.fill(null), this.keyList.fill(null), this.ttls && (this.ttls.fill(0), this.starts.fill(0)), this.sizes && this.sizes.fill(0), this.head = 0, this.tail = 0, this.initialFill = 1, this.free.length = 0, this.calculatedSize = 0, this.size = 0, this.disposed)
                for (; this.disposed.length; )
                  this.disposeAfter(...this.disposed.shift());
            }
            get reset() {
              return b("reset", "clear"), this.clear;
            }
            get length() {
              return A("length", "size"), this.size;
            }
            static get AbortController() {
              return f;
            }
            static get AbortSignal() {
              return v;
            }
          }
          o.exports = k;
        }).call(this);
      }).call(this, n("_process"));
    }, { _process: 102 }], 73: [function(n, o, a) {
      const u = o.exports, { Buffer: c } = n("buffer");
      u.types = {
        0: "reserved",
        1: "connect",
        2: "connack",
        3: "publish",
        4: "puback",
        5: "pubrec",
        6: "pubrel",
        7: "pubcomp",
        8: "subscribe",
        9: "suback",
        10: "unsubscribe",
        11: "unsuback",
        12: "pingreq",
        13: "pingresp",
        14: "disconnect",
        15: "auth"
      }, u.requiredHeaderFlags = {
        1: 0,
        // 'connect'
        2: 0,
        // 'connack'
        4: 0,
        // 'puback'
        5: 0,
        // 'pubrec'
        6: 2,
        // 'pubrel'
        7: 0,
        // 'pubcomp'
        8: 2,
        // 'subscribe'
        9: 0,
        // 'suback'
        10: 2,
        // 'unsubscribe'
        11: 0,
        // 'unsuback'
        12: 0,
        // 'pingreq'
        13: 0,
        // 'pingresp'
        14: 0,
        // 'disconnect'
        15: 0
        // 'auth'
      }, u.requiredHeaderFlagsErrors = {};
      for (const f in u.requiredHeaderFlags) {
        const p = u.requiredHeaderFlags[f];
        u.requiredHeaderFlagsErrors[f] = "Invalid header flag bits, must be 0x" + p.toString(16) + " for " + u.types[f] + " packet";
      }
      u.codes = {};
      for (const f in u.types) {
        const p = u.types[f];
        u.codes[p] = f;
      }
      u.CMD_SHIFT = 4, u.CMD_MASK = 240, u.DUP_MASK = 8, u.QOS_MASK = 3, u.QOS_SHIFT = 1, u.RETAIN_MASK = 1, u.VARBYTEINT_MASK = 127, u.VARBYTEINT_FIN_MASK = 128, u.VARBYTEINT_MAX = 268435455, u.SESSIONPRESENT_MASK = 1, u.SESSIONPRESENT_HEADER = c.from([u.SESSIONPRESENT_MASK]), u.CONNACK_HEADER = c.from([u.codes.connack << u.CMD_SHIFT]), u.USERNAME_MASK = 128, u.PASSWORD_MASK = 64, u.WILL_RETAIN_MASK = 32, u.WILL_QOS_MASK = 24, u.WILL_QOS_SHIFT = 3, u.WILL_FLAG_MASK = 4, u.CLEAN_SESSION_MASK = 2, u.CONNECT_HEADER = c.from([u.codes.connect << u.CMD_SHIFT]), u.properties = {
        sessionExpiryInterval: 17,
        willDelayInterval: 24,
        receiveMaximum: 33,
        maximumPacketSize: 39,
        topicAliasMaximum: 34,
        requestResponseInformation: 25,
        requestProblemInformation: 23,
        userProperties: 38,
        authenticationMethod: 21,
        authenticationData: 22,
        payloadFormatIndicator: 1,
        messageExpiryInterval: 2,
        contentType: 3,
        responseTopic: 8,
        correlationData: 9,
        maximumQoS: 36,
        retainAvailable: 37,
        assignedClientIdentifier: 18,
        reasonString: 31,
        wildcardSubscriptionAvailable: 40,
        subscriptionIdentifiersAvailable: 41,
        sharedSubscriptionAvailable: 42,
        serverKeepAlive: 19,
        responseInformation: 26,
        serverReference: 28,
        topicAlias: 35,
        subscriptionIdentifier: 11
      }, u.propertiesCodes = {};
      for (const f in u.properties) {
        const p = u.properties[f];
        u.propertiesCodes[p] = f;
      }
      u.propertiesTypes = {
        sessionExpiryInterval: "int32",
        willDelayInterval: "int32",
        receiveMaximum: "int16",
        maximumPacketSize: "int32",
        topicAliasMaximum: "int16",
        requestResponseInformation: "byte",
        requestProblemInformation: "byte",
        userProperties: "pair",
        authenticationMethod: "string",
        authenticationData: "binary",
        payloadFormatIndicator: "byte",
        messageExpiryInterval: "int32",
        contentType: "string",
        responseTopic: "string",
        correlationData: "binary",
        maximumQoS: "int8",
        retainAvailable: "byte",
        assignedClientIdentifier: "string",
        reasonString: "string",
        wildcardSubscriptionAvailable: "byte",
        subscriptionIdentifiersAvailable: "byte",
        sharedSubscriptionAvailable: "byte",
        serverKeepAlive: "int16",
        responseInformation: "string",
        serverReference: "string",
        topicAlias: "int16",
        subscriptionIdentifier: "var"
      };
      function d(f) {
        return [0, 1, 2].map((p) => [0, 1].map((_) => [0, 1].map((v) => {
          const g = c.alloc(1);
          return g.writeUInt8(
            u.codes[f] << u.CMD_SHIFT | (_ ? u.DUP_MASK : 0) | p << u.QOS_SHIFT | v,
            0,
            !0
          ), g;
        })));
      }
      u.PUBLISH_HEADER = d("publish"), u.SUBSCRIBE_HEADER = d("subscribe"), u.SUBSCRIBE_OPTIONS_QOS_MASK = 3, u.SUBSCRIBE_OPTIONS_NL_MASK = 1, u.SUBSCRIBE_OPTIONS_NL_SHIFT = 2, u.SUBSCRIBE_OPTIONS_RAP_MASK = 1, u.SUBSCRIBE_OPTIONS_RAP_SHIFT = 3, u.SUBSCRIBE_OPTIONS_RH_MASK = 3, u.SUBSCRIBE_OPTIONS_RH_SHIFT = 4, u.SUBSCRIBE_OPTIONS_RH = [0, 16, 32], u.SUBSCRIBE_OPTIONS_NL = 4, u.SUBSCRIBE_OPTIONS_RAP = 8, u.SUBSCRIBE_OPTIONS_QOS = [0, 1, 2], u.UNSUBSCRIBE_HEADER = d("unsubscribe"), u.ACKS = {
        unsuback: d("unsuback"),
        puback: d("puback"),
        pubcomp: d("pubcomp"),
        pubrel: d("pubrel"),
        pubrec: d("pubrec")
      }, u.SUBACK_HEADER = c.from([u.codes.suback << u.CMD_SHIFT]), u.VERSION3 = c.from([3]), u.VERSION4 = c.from([4]), u.VERSION5 = c.from([5]), u.VERSION131 = c.from([131]), u.VERSION132 = c.from([132]), u.QOS = [0, 1, 2].map((f) => c.from([f])), u.EMPTY = {
        pingreq: c.from([u.codes.pingreq << 4, 0]),
        pingresp: c.from([u.codes.pingresp << 4, 0]),
        disconnect: c.from([u.codes.disconnect << 4, 0])
      }, u.MQTT5_PUBACK_PUBREC_CODES = {
        0: "Success",
        16: "No matching subscribers",
        128: "Unspecified error",
        131: "Implementation specific error",
        135: "Not authorized",
        144: "Topic Name invalid",
        145: "Packet identifier in use",
        151: "Quota exceeded",
        153: "Payload format invalid"
      }, u.MQTT5_PUBREL_PUBCOMP_CODES = {
        0: "Success",
        146: "Packet Identifier not found"
      }, u.MQTT5_SUBACK_CODES = {
        0: "Granted QoS 0",
        1: "Granted QoS 1",
        2: "Granted QoS 2",
        128: "Unspecified error",
        131: "Implementation specific error",
        135: "Not authorized",
        143: "Topic Filter invalid",
        145: "Packet Identifier in use",
        151: "Quota exceeded",
        158: "Shared Subscriptions not supported",
        161: "Subscription Identifiers not supported",
        162: "Wildcard Subscriptions not supported"
      }, u.MQTT5_UNSUBACK_CODES = {
        0: "Success",
        17: "No subscription existed",
        128: "Unspecified error",
        131: "Implementation specific error",
        135: "Not authorized",
        143: "Topic Filter invalid",
        145: "Packet Identifier in use"
      }, u.MQTT5_DISCONNECT_CODES = {
        0: "Normal disconnection",
        4: "Disconnect with Will Message",
        128: "Unspecified error",
        129: "Malformed Packet",
        130: "Protocol Error",
        131: "Implementation specific error",
        135: "Not authorized",
        137: "Server busy",
        139: "Server shutting down",
        141: "Keep Alive timeout",
        142: "Session taken over",
        143: "Topic Filter invalid",
        144: "Topic Name invalid",
        147: "Receive Maximum exceeded",
        148: "Topic Alias invalid",
        149: "Packet too large",
        150: "Message rate too high",
        151: "Quota exceeded",
        152: "Administrative action",
        153: "Payload format invalid",
        154: "Retain not supported",
        155: "QoS not supported",
        156: "Use another server",
        157: "Server moved",
        158: "Shared Subscriptions not supported",
        159: "Connection rate exceeded",
        160: "Maximum connect time",
        161: "Subscription Identifiers not supported",
        162: "Wildcard Subscriptions not supported"
      }, u.MQTT5_AUTH_CODES = {
        0: "Success",
        24: "Continue authentication",
        25: "Re-authenticate"
      };
    }, { buffer: 29 }], 74: [function(n, o, a) {
      const u = n("./writeToStream"), c = n("events"), { Buffer: d } = n("buffer");
      function f(_, v) {
        const g = new p();
        return u(_, g, v), g.concat();
      }
      class p extends c {
        constructor() {
          super(), this._array = new Array(20), this._i = 0;
        }
        write(v) {
          return this._array[this._i++] = v, !0;
        }
        concat() {
          let v = 0;
          const g = new Array(this._array.length), y = this._array;
          let b = 0, A;
          for (A = 0; A < y.length && y[A] !== void 0; A++)
            typeof y[A] != "string" ? g[A] = y[A].length : g[A] = d.byteLength(y[A]), v += g[A];
          const w = d.allocUnsafe(v);
          for (A = 0; A < y.length && y[A] !== void 0; A++)
            typeof y[A] != "string" ? (y[A].copy(w, b), b += g[A]) : (w.write(y[A], b), b += g[A]);
          return w;
        }
        destroy(v) {
          v && this.emit("error", v);
        }
      }
      o.exports = f;
    }, { "./writeToStream": 96, buffer: 29, events: 49 }], 75: [function(n, o, a) {
      a.parser = n("./parser").parser, a.generate = n("./generate"), a.writeToStream = n("./writeToStream");
    }, { "./generate": 74, "./parser": 95, "./writeToStream": 96 }], 76: [function(n, o, a) {
      const { Buffer: u } = n("buffer"), c = Symbol.for("BufferList");
      function d(f) {
        if (!(this instanceof d))
          return new d(f);
        d._init.call(this, f);
      }
      d._init = function(p) {
        Object.defineProperty(this, c, { value: !0 }), this._bufs = [], this.length = 0, p && this.append(p);
      }, d.prototype._new = function(p) {
        return new d(p);
      }, d.prototype._offset = function(p) {
        if (p === 0)
          return [0, 0];
        let _ = 0;
        for (let v = 0; v < this._bufs.length; v++) {
          const g = _ + this._bufs[v].length;
          if (p < g || v === this._bufs.length - 1)
            return [v, p - _];
          _ = g;
        }
      }, d.prototype._reverseOffset = function(f) {
        const p = f[0];
        let _ = f[1];
        for (let v = 0; v < p; v++)
          _ += this._bufs[v].length;
        return _;
      }, d.prototype.get = function(p) {
        if (p > this.length || p < 0)
          return;
        const _ = this._offset(p);
        return this._bufs[_[0]][_[1]];
      }, d.prototype.slice = function(p, _) {
        return typeof p == "number" && p < 0 && (p += this.length), typeof _ == "number" && _ < 0 && (_ += this.length), this.copy(null, 0, p, _);
      }, d.prototype.copy = function(p, _, v, g) {
        if ((typeof v != "number" || v < 0) && (v = 0), (typeof g != "number" || g > this.length) && (g = this.length), v >= this.length || g <= 0)
          return p || u.alloc(0);
        const y = !!p, b = this._offset(v), A = g - v;
        let w = A, S = y && _ || 0, T = b[1];
        if (v === 0 && g === this.length) {
          if (!y)
            return this._bufs.length === 1 ? this._bufs[0] : u.concat(this._bufs, this.length);
          for (let x = 0; x < this._bufs.length; x++)
            this._bufs[x].copy(p, S), S += this._bufs[x].length;
          return p;
        }
        if (w <= this._bufs[b[0]].length - T)
          return y ? this._bufs[b[0]].copy(p, _, T, T + w) : this._bufs[b[0]].slice(T, T + w);
        y || (p = u.allocUnsafe(A));
        for (let x = b[0]; x < this._bufs.length; x++) {
          const L = this._bufs[x].length - T;
          if (w > L)
            this._bufs[x].copy(p, S, T), S += L;
          else {
            this._bufs[x].copy(p, S, T, T + w), S += L;
            break;
          }
          w -= L, T && (T = 0);
        }
        return p.length > S ? p.slice(0, S) : p;
      }, d.prototype.shallowSlice = function(p, _) {
        if (p = p || 0, _ = typeof _ != "number" ? this.length : _, p < 0 && (p += this.length), _ < 0 && (_ += this.length), p === _)
          return this._new();
        const v = this._offset(p), g = this._offset(_), y = this._bufs.slice(v[0], g[0] + 1);
        return g[1] === 0 ? y.pop() : y[y.length - 1] = y[y.length - 1].slice(0, g[1]), v[1] !== 0 && (y[0] = y[0].slice(v[1])), this._new(y);
      }, d.prototype.toString = function(p, _, v) {
        return this.slice(_, v).toString(p);
      }, d.prototype.consume = function(p) {
        if (p = Math.trunc(p), Number.isNaN(p) || p <= 0)
          return this;
        for (; this._bufs.length; )
          if (p >= this._bufs[0].length)
            p -= this._bufs[0].length, this.length -= this._bufs[0].length, this._bufs.shift();
          else {
            this._bufs[0] = this._bufs[0].slice(p), this.length -= p;
            break;
          }
        return this;
      }, d.prototype.duplicate = function() {
        const p = this._new();
        for (let _ = 0; _ < this._bufs.length; _++)
          p.append(this._bufs[_]);
        return p;
      }, d.prototype.append = function(p) {
        if (p == null)
          return this;
        if (p.buffer)
          this._appendBuffer(u.from(p.buffer, p.byteOffset, p.byteLength));
        else if (Array.isArray(p))
          for (let _ = 0; _ < p.length; _++)
            this.append(p[_]);
        else if (this._isBufferList(p))
          for (let _ = 0; _ < p._bufs.length; _++)
            this.append(p._bufs[_]);
        else
          typeof p == "number" && (p = p.toString()), this._appendBuffer(u.from(p));
        return this;
      }, d.prototype._appendBuffer = function(p) {
        this._bufs.push(p), this.length += p.length;
      }, d.prototype.indexOf = function(f, p, _) {
        if (_ === void 0 && typeof p == "string" && (_ = p, p = void 0), typeof f == "function" || Array.isArray(f))
          throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');
        if (typeof f == "number" ? f = u.from([f]) : typeof f == "string" ? f = u.from(f, _) : this._isBufferList(f) ? f = f.slice() : Array.isArray(f.buffer) ? f = u.from(f.buffer, f.byteOffset, f.byteLength) : u.isBuffer(f) || (f = u.from(f)), p = Number(p || 0), isNaN(p) && (p = 0), p < 0 && (p = this.length + p), p < 0 && (p = 0), f.length === 0)
          return p > this.length ? this.length : p;
        const v = this._offset(p);
        let g = v[0], y = v[1];
        for (; g < this._bufs.length; g++) {
          const b = this._bufs[g];
          for (; y < b.length; )
            if (b.length - y >= f.length) {
              const w = b.indexOf(f, y);
              if (w !== -1)
                return this._reverseOffset([g, w]);
              y = b.length - f.length + 1;
            } else {
              const w = this._reverseOffset([g, y]);
              if (this._match(w, f))
                return w;
              y++;
            }
          y = 0;
        }
        return -1;
      }, d.prototype._match = function(f, p) {
        if (this.length - f < p.length)
          return !1;
        for (let _ = 0; _ < p.length; _++)
          if (this.get(f + _) !== p[_])
            return !1;
        return !0;
      }, function() {
        const f = {
          readDoubleBE: 8,
          readDoubleLE: 8,
          readFloatBE: 4,
          readFloatLE: 4,
          readInt32BE: 4,
          readInt32LE: 4,
          readUInt32BE: 4,
          readUInt32LE: 4,
          readInt16BE: 2,
          readInt16LE: 2,
          readUInt16BE: 2,
          readUInt16LE: 2,
          readInt8: 1,
          readUInt8: 1,
          readIntBE: null,
          readIntLE: null,
          readUIntBE: null,
          readUIntLE: null
        };
        for (const p in f)
          (function(_) {
            f[_] === null ? d.prototype[_] = function(v, g) {
              return this.slice(v, v + g)[_](0, g);
            } : d.prototype[_] = function(v = 0) {
              return this.slice(v, v + f[_])[_](0);
            };
          })(p);
      }(), d.prototype._isBufferList = function(p) {
        return p instanceof d || d.isBufferList(p);
      }, d.isBufferList = function(p) {
        return p != null && p[c];
      }, o.exports = d;
    }, { buffer: 29 }], 77: [function(n, o, a) {
      const u = n("readable-stream").Duplex, c = n("inherits"), d = n("./BufferList");
      function f(p) {
        if (!(this instanceof f))
          return new f(p);
        if (typeof p == "function") {
          this._callback = p;
          const _ = (function(g) {
            this._callback && (this._callback(g), this._callback = null);
          }).bind(this);
          this.on("pipe", function(g) {
            g.on("error", _);
          }), this.on("unpipe", function(g) {
            g.removeListener("error", _);
          }), p = null;
        }
        d._init.call(this, p), u.call(this);
      }
      c(f, u), Object.assign(f.prototype, d.prototype), f.prototype._new = function(_) {
        return new f(_);
      }, f.prototype._write = function(_, v, g) {
        this._appendBuffer(_), typeof g == "function" && g();
      }, f.prototype._read = function(_) {
        if (!this.length)
          return this.push(null);
        _ = Math.min(_, this.length), this.push(this.slice(0, _)), this.consume(_);
      }, f.prototype.end = function(_) {
        u.prototype.end.call(this, _), this._callback && (this._callback(null, this.slice()), this._callback = null);
      }, f.prototype._destroy = function(_, v) {
        this._bufs.length = 0, this.length = 0, v(_);
      }, f.prototype._isBufferList = function(_) {
        return _ instanceof f || _ instanceof d || f.isBufferList(_);
      }, f.isBufferList = d.isBufferList, o.exports = f, o.exports.BufferListStream = f, o.exports.BufferList = d;
    }, { "./BufferList": 76, inherits: 51, "readable-stream": 92 }], 78: [function(n, o, a) {
      arguments[4][33][0].apply(a, arguments);
    }, { dup: 33 }], 79: [function(n, o, a) {
      arguments[4][34][0].apply(a, arguments);
    }, { "./_stream_readable": 81, "./_stream_writable": 83, _process: 102, dup: 34, inherits: 51 }], 80: [function(n, o, a) {
      arguments[4][35][0].apply(a, arguments);
    }, { "./_stream_transform": 82, dup: 35, inherits: 51 }], 81: [function(n, o, a) {
      arguments[4][36][0].apply(a, arguments);
    }, { "../errors": 78, "./_stream_duplex": 79, "./internal/streams/async_iterator": 84, "./internal/streams/buffer_list": 85, "./internal/streams/destroy": 86, "./internal/streams/from": 88, "./internal/streams/state": 90, "./internal/streams/stream": 91, _process: 102, buffer: 29, dup: 36, events: 49, inherits: 51, "string_decoder/": 136, util: 26 }], 82: [function(n, o, a) {
      arguments[4][37][0].apply(a, arguments);
    }, { "../errors": 78, "./_stream_duplex": 79, dup: 37, inherits: 51 }], 83: [function(n, o, a) {
      arguments[4][38][0].apply(a, arguments);
    }, { "../errors": 78, "./_stream_duplex": 79, "./internal/streams/destroy": 86, "./internal/streams/state": 90, "./internal/streams/stream": 91, _process: 102, buffer: 29, dup: 38, inherits: 51, "util-deprecate": 139 }], 84: [function(n, o, a) {
      arguments[4][39][0].apply(a, arguments);
    }, { "./end-of-stream": 87, _process: 102, dup: 39 }], 85: [function(n, o, a) {
      arguments[4][40][0].apply(a, arguments);
    }, { buffer: 29, dup: 40, util: 26 }], 86: [function(n, o, a) {
      arguments[4][41][0].apply(a, arguments);
    }, { _process: 102, dup: 41 }], 87: [function(n, o, a) {
      arguments[4][42][0].apply(a, arguments);
    }, { "../../../errors": 78, dup: 42 }], 88: [function(n, o, a) {
      arguments[4][43][0].apply(a, arguments);
    }, { dup: 43 }], 89: [function(n, o, a) {
      arguments[4][44][0].apply(a, arguments);
    }, { "../../../errors": 78, "./end-of-stream": 87, dup: 44 }], 90: [function(n, o, a) {
      arguments[4][45][0].apply(a, arguments);
    }, { "../../../errors": 78, dup: 45 }], 91: [function(n, o, a) {
      arguments[4][46][0].apply(a, arguments);
    }, { dup: 46, events: 49 }], 92: [function(n, o, a) {
      arguments[4][47][0].apply(a, arguments);
    }, { "./lib/_stream_duplex.js": 79, "./lib/_stream_passthrough.js": 80, "./lib/_stream_readable.js": 81, "./lib/_stream_transform.js": 82, "./lib/_stream_writable.js": 83, "./lib/internal/streams/end-of-stream.js": 87, "./lib/internal/streams/pipeline.js": 89, dup: 47 }], 93: [function(n, o, a) {
      const { Buffer: u } = n("buffer"), c = 65536, d = {}, f = u.isBuffer(u.from([1, 2]).subarray(0, 1));
      function p(y) {
        const b = u.allocUnsafe(2);
        return b.writeUInt8(y >> 8, 0), b.writeUInt8(y & 255, 0 + 1), b;
      }
      function _() {
        for (let y = 0; y < c; y++)
          d[y] = p(y);
      }
      function v(y) {
        let A = 0, w = 0;
        const S = u.allocUnsafe(4);
        do
          A = y % 128 | 0, y = y / 128 | 0, y > 0 && (A = A | 128), S.writeUInt8(A, w++);
        while (y > 0 && w < 4);
        return y > 0 && (w = 0), f ? S.subarray(0, w) : S.slice(0, w);
      }
      function g(y) {
        const b = u.allocUnsafe(4);
        return b.writeUInt32BE(y, 0), b;
      }
      o.exports = {
        cache: d,
        generateCache: _,
        generateNumber: p,
        genBufVariableByteInt: v,
        generate4ByteBuffer: g
      };
    }, { buffer: 29 }], 94: [function(n, o, a) {
      class u {
        constructor() {
          this.cmd = null, this.retain = !1, this.qos = 0, this.dup = !1, this.length = -1, this.topic = null, this.payload = null;
        }
      }
      o.exports = u;
    }, {}], 95: [function(n, o, a) {
      const u = n("bl"), c = n("events"), d = n("./packet"), f = n("./constants"), p = n("debug")("mqtt-packet:parser");
      class _ extends c {
        constructor() {
          super(), this.parser = this.constructor.parser;
        }
        static parser(g) {
          return this instanceof _ ? (this.settings = g || {}, this._states = [
            "_parseHeader",
            "_parseLength",
            "_parsePayload",
            "_newPacket"
          ], this._resetState(), this) : new _().parser(g);
        }
        _resetState() {
          p("_resetState: resetting packet, error, _list, and _stateCounter"), this.packet = new d(), this.error = null, this._list = u(), this._stateCounter = 0;
        }
        parse(g) {
          for (this.error && this._resetState(), this._list.append(g), p("parse: current state: %s", this._states[this._stateCounter]); (this.packet.length !== -1 || this._list.length > 0) && this[this._states[this._stateCounter]]() && !this.error; )
            this._stateCounter++, p("parse: state complete. _stateCounter is now: %d", this._stateCounter), p("parse: packet.length: %d, buffer list length: %d", this.packet.length, this._list.length), this._stateCounter >= this._states.length && (this._stateCounter = 0);
          return p("parse: exited while loop. packet: %d, buffer list length: %d", this.packet.length, this._list.length), this._list.length;
        }
        _parseHeader() {
          const g = this._list.readUInt8(0), y = g >> f.CMD_SHIFT;
          this.packet.cmd = f.types[y];
          const b = g & 15, A = f.requiredHeaderFlags[y];
          return A != null && b !== A ? this._emitError(new Error(f.requiredHeaderFlagsErrors[y])) : (this.packet.retain = (g & f.RETAIN_MASK) !== 0, this.packet.qos = g >> f.QOS_SHIFT & f.QOS_MASK, this.packet.qos > 2 ? this._emitError(new Error("Packet must not have both QoS bits set to 1")) : (this.packet.dup = (g & f.DUP_MASK) !== 0, p("_parseHeader: packet: %o", this.packet), this._list.consume(1), !0));
        }
        _parseLength() {
          const g = this._parseVarByteNum(!0);
          return g && (this.packet.length = g.value, this._list.consume(g.bytes)), p("_parseLength %d", g.value), !!g;
        }
        _parsePayload() {
          p("_parsePayload: payload %O", this._list);
          let g = !1;
          if (this.packet.length === 0 || this._list.length >= this.packet.length) {
            switch (this._pos = 0, this.packet.cmd) {
              case "connect":
                this._parseConnect();
                break;
              case "connack":
                this._parseConnack();
                break;
              case "publish":
                this._parsePublish();
                break;
              case "puback":
              case "pubrec":
              case "pubrel":
              case "pubcomp":
                this._parseConfirmation();
                break;
              case "subscribe":
                this._parseSubscribe();
                break;
              case "suback":
                this._parseSuback();
                break;
              case "unsubscribe":
                this._parseUnsubscribe();
                break;
              case "unsuback":
                this._parseUnsuback();
                break;
              case "pingreq":
              case "pingresp":
                break;
              case "disconnect":
                this._parseDisconnect();
                break;
              case "auth":
                this._parseAuth();
                break;
              default:
                this._emitError(new Error("Not supported"));
            }
            g = !0;
          }
          return p("_parsePayload complete result: %s", g), g;
        }
        _parseConnect() {
          p("_parseConnect");
          let g, y, b, A;
          const w = {}, S = this.packet, T = this._parseString();
          if (T === null)
            return this._emitError(new Error("Cannot parse protocolId"));
          if (T !== "MQTT" && T !== "MQIsdp")
            return this._emitError(new Error("Invalid protocolId"));
          if (S.protocolId = T, this._pos >= this._list.length)
            return this._emitError(new Error("Packet too short"));
          if (S.protocolVersion = this._list.readUInt8(this._pos), S.protocolVersion >= 128 && (S.bridgeMode = !0, S.protocolVersion = S.protocolVersion - 128), S.protocolVersion !== 3 && S.protocolVersion !== 4 && S.protocolVersion !== 5)
            return this._emitError(new Error("Invalid protocol version"));
          if (this._pos++, this._pos >= this._list.length)
            return this._emitError(new Error("Packet too short"));
          if (this._list.readUInt8(this._pos) & 1)
            return this._emitError(new Error("Connect flag bit 0 must be 0, but got 1"));
          w.username = this._list.readUInt8(this._pos) & f.USERNAME_MASK, w.password = this._list.readUInt8(this._pos) & f.PASSWORD_MASK, w.will = this._list.readUInt8(this._pos) & f.WILL_FLAG_MASK;
          const x = !!(this._list.readUInt8(this._pos) & f.WILL_RETAIN_MASK), L = (this._list.readUInt8(this._pos) & f.WILL_QOS_MASK) >> f.WILL_QOS_SHIFT;
          if (w.will)
            S.will = {}, S.will.retain = x, S.will.qos = L;
          else {
            if (x)
              return this._emitError(new Error("Will Retain Flag must be set to zero when Will Flag is set to 0"));
            if (L)
              return this._emitError(new Error("Will QoS must be set to zero when Will Flag is set to 0"));
          }
          if (S.clean = (this._list.readUInt8(this._pos) & f.CLEAN_SESSION_MASK) !== 0, this._pos++, S.keepalive = this._parseNum(), S.keepalive === -1)
            return this._emitError(new Error("Packet too short"));
          if (S.protocolVersion === 5) {
            const M = this._parseProperties();
            Object.getOwnPropertyNames(M).length && (S.properties = M);
          }
          const O = this._parseString();
          if (O === null)
            return this._emitError(new Error("Packet too short"));
          if (S.clientId = O, p("_parseConnect: packet.clientId: %s", S.clientId), w.will) {
            if (S.protocolVersion === 5) {
              const M = this._parseProperties();
              Object.getOwnPropertyNames(M).length && (S.will.properties = M);
            }
            if (g = this._parseString(), g === null)
              return this._emitError(new Error("Cannot parse will topic"));
            if (S.will.topic = g, p("_parseConnect: packet.will.topic: %s", S.will.topic), y = this._parseBuffer(), y === null)
              return this._emitError(new Error("Cannot parse will payload"));
            S.will.payload = y, p("_parseConnect: packet.will.paylaod: %s", S.will.payload);
          }
          if (w.username) {
            if (A = this._parseString(), A === null)
              return this._emitError(new Error("Cannot parse username"));
            S.username = A, p("_parseConnect: packet.username: %s", S.username);
          }
          if (w.password) {
            if (b = this._parseBuffer(), b === null)
              return this._emitError(new Error("Cannot parse password"));
            S.password = b;
          }
          return this.settings = S, p("_parseConnect: complete"), S;
        }
        _parseConnack() {
          p("_parseConnack");
          const g = this.packet;
          if (this._list.length < 1)
            return null;
          const y = this._list.readUInt8(this._pos++);
          if (y > 1)
            return this._emitError(new Error("Invalid connack flags, bits 7-1 must be set to 0"));
          if (g.sessionPresent = !!(y & f.SESSIONPRESENT_MASK), this.settings.protocolVersion === 5)
            this._list.length >= 2 ? g.reasonCode = this._list.readUInt8(this._pos++) : g.reasonCode = 0;
          else {
            if (this._list.length < 2)
              return null;
            g.returnCode = this._list.readUInt8(this._pos++);
          }
          if (g.returnCode === -1 || g.reasonCode === -1)
            return this._emitError(new Error("Cannot parse return code"));
          if (this.settings.protocolVersion === 5) {
            const b = this._parseProperties();
            Object.getOwnPropertyNames(b).length && (g.properties = b);
          }
          p("_parseConnack: complete");
        }
        _parsePublish() {
          p("_parsePublish");
          const g = this.packet;
          if (g.topic = this._parseString(), g.topic === null)
            return this._emitError(new Error("Cannot parse topic"));
          if (!(g.qos > 0 && !this._parseMessageId())) {
            if (this.settings.protocolVersion === 5) {
              const y = this._parseProperties();
              Object.getOwnPropertyNames(y).length && (g.properties = y);
            }
            g.payload = this._list.slice(this._pos, g.length), p("_parsePublish: payload from buffer list: %o", g.payload);
          }
        }
        _parseSubscribe() {
          p("_parseSubscribe");
          const g = this.packet;
          let y, b, A, w, S, T, x;
          if (g.subscriptions = [], !!this._parseMessageId()) {
            if (this.settings.protocolVersion === 5) {
              const L = this._parseProperties();
              Object.getOwnPropertyNames(L).length && (g.properties = L);
            }
            if (g.length <= 0)
              return this._emitError(new Error("Malformed subscribe, no payload specified"));
            for (; this._pos < g.length; ) {
              if (y = this._parseString(), y === null)
                return this._emitError(new Error("Cannot parse topic"));
              if (this._pos >= g.length)
                return this._emitError(new Error("Malformed Subscribe Payload"));
              if (b = this._parseByte(), this.settings.protocolVersion === 5) {
                if (b & 192)
                  return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-6 must be 0"));
              } else if (b & 252)
                return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-2 must be 0"));
              if (A = b & f.SUBSCRIBE_OPTIONS_QOS_MASK, A > 2)
                return this._emitError(new Error("Invalid subscribe QoS, must be <= 2"));
              if (T = (b >> f.SUBSCRIBE_OPTIONS_NL_SHIFT & f.SUBSCRIBE_OPTIONS_NL_MASK) !== 0, S = (b >> f.SUBSCRIBE_OPTIONS_RAP_SHIFT & f.SUBSCRIBE_OPTIONS_RAP_MASK) !== 0, w = b >> f.SUBSCRIBE_OPTIONS_RH_SHIFT & f.SUBSCRIBE_OPTIONS_RH_MASK, w > 2)
                return this._emitError(new Error("Invalid retain handling, must be <= 2"));
              x = { topic: y, qos: A }, this.settings.protocolVersion === 5 ? (x.nl = T, x.rap = S, x.rh = w) : this.settings.bridgeMode && (x.rh = 0, x.rap = !0, x.nl = !0), p("_parseSubscribe: push subscription `%s` to subscription", x), g.subscriptions.push(x);
            }
          }
        }
        _parseSuback() {
          p("_parseSuback");
          const g = this.packet;
          if (this.packet.granted = [], !!this._parseMessageId()) {
            if (this.settings.protocolVersion === 5) {
              const y = this._parseProperties();
              Object.getOwnPropertyNames(y).length && (g.properties = y);
            }
            if (g.length <= 0)
              return this._emitError(new Error("Malformed suback, no payload specified"));
            for (; this._pos < this.packet.length; ) {
              const y = this._list.readUInt8(this._pos++);
              if (this.settings.protocolVersion === 5) {
                if (!f.MQTT5_SUBACK_CODES[y])
                  return this._emitError(new Error("Invalid suback code"));
              } else if (y > 2 && y !== 128)
                return this._emitError(new Error("Invalid suback QoS, must be 0, 1, 2 or 128"));
              this.packet.granted.push(y);
            }
          }
        }
        _parseUnsubscribe() {
          p("_parseUnsubscribe");
          const g = this.packet;
          if (g.unsubscriptions = [], !!this._parseMessageId()) {
            if (this.settings.protocolVersion === 5) {
              const y = this._parseProperties();
              Object.getOwnPropertyNames(y).length && (g.properties = y);
            }
            if (g.length <= 0)
              return this._emitError(new Error("Malformed unsubscribe, no payload specified"));
            for (; this._pos < g.length; ) {
              const y = this._parseString();
              if (y === null)
                return this._emitError(new Error("Cannot parse topic"));
              p("_parseUnsubscribe: push topic `%s` to unsubscriptions", y), g.unsubscriptions.push(y);
            }
          }
        }
        _parseUnsuback() {
          p("_parseUnsuback");
          const g = this.packet;
          if (!this._parseMessageId())
            return this._emitError(new Error("Cannot parse messageId"));
          if ((this.settings.protocolVersion === 3 || this.settings.protocolVersion === 4) && g.length !== 2)
            return this._emitError(new Error("Malformed unsuback, payload length must be 2"));
          if (g.length <= 0)
            return this._emitError(new Error("Malformed unsuback, no payload specified"));
          if (this.settings.protocolVersion === 5) {
            const y = this._parseProperties();
            for (Object.getOwnPropertyNames(y).length && (g.properties = y), g.granted = []; this._pos < this.packet.length; ) {
              const b = this._list.readUInt8(this._pos++);
              if (!f.MQTT5_UNSUBACK_CODES[b])
                return this._emitError(new Error("Invalid unsuback code"));
              this.packet.granted.push(b);
            }
          }
        }
        // parse packets like puback, pubrec, pubrel, pubcomp
        _parseConfirmation() {
          p("_parseConfirmation: packet.cmd: `%s`", this.packet.cmd);
          const g = this.packet;
          if (this._parseMessageId(), this.settings.protocolVersion === 5) {
            if (g.length > 2) {
              switch (g.reasonCode = this._parseByte(), this.packet.cmd) {
                case "puback":
                case "pubrec":
                  if (!f.MQTT5_PUBACK_PUBREC_CODES[g.reasonCode])
                    return this._emitError(new Error("Invalid " + this.packet.cmd + " reason code"));
                  break;
                case "pubrel":
                case "pubcomp":
                  if (!f.MQTT5_PUBREL_PUBCOMP_CODES[g.reasonCode])
                    return this._emitError(new Error("Invalid " + this.packet.cmd + " reason code"));
                  break;
              }
              p("_parseConfirmation: packet.reasonCode `%d`", g.reasonCode);
            } else
              g.reasonCode = 0;
            if (g.length > 3) {
              const y = this._parseProperties();
              Object.getOwnPropertyNames(y).length && (g.properties = y);
            }
          }
          return !0;
        }
        // parse disconnect packet
        _parseDisconnect() {
          const g = this.packet;
          if (p("_parseDisconnect"), this.settings.protocolVersion === 5) {
            this._list.length > 0 ? (g.reasonCode = this._parseByte(), f.MQTT5_DISCONNECT_CODES[g.reasonCode] || this._emitError(new Error("Invalid disconnect reason code"))) : g.reasonCode = 0;
            const y = this._parseProperties();
            Object.getOwnPropertyNames(y).length && (g.properties = y);
          }
          return p("_parseDisconnect result: true"), !0;
        }
        // parse auth packet
        _parseAuth() {
          p("_parseAuth");
          const g = this.packet;
          if (this.settings.protocolVersion !== 5)
            return this._emitError(new Error("Not supported auth packet for this version MQTT"));
          if (g.reasonCode = this._parseByte(), !f.MQTT5_AUTH_CODES[g.reasonCode])
            return this._emitError(new Error("Invalid auth reason code"));
          const y = this._parseProperties();
          return Object.getOwnPropertyNames(y).length && (g.properties = y), p("_parseAuth: result: true"), !0;
        }
        _parseMessageId() {
          const g = this.packet;
          return g.messageId = this._parseNum(), g.messageId === null ? (this._emitError(new Error("Cannot parse messageId")), !1) : (p("_parseMessageId: packet.messageId %d", g.messageId), !0);
        }
        _parseString(g) {
          const y = this._parseNum(), b = y + this._pos;
          if (y === -1 || b > this._list.length || b > this.packet.length)
            return null;
          const A = this._list.toString("utf8", this._pos, b);
          return this._pos += y, p("_parseString: result: %s", A), A;
        }
        _parseStringPair() {
          return p("_parseStringPair"), {
            name: this._parseString(),
            value: this._parseString()
          };
        }
        _parseBuffer() {
          const g = this._parseNum(), y = g + this._pos;
          if (g === -1 || y > this._list.length || y > this.packet.length)
            return null;
          const b = this._list.slice(this._pos, y);
          return this._pos += g, p("_parseBuffer: result: %o", b), b;
        }
        _parseNum() {
          if (this._list.length - this._pos < 2)
            return -1;
          const g = this._list.readUInt16BE(this._pos);
          return this._pos += 2, p("_parseNum: result: %s", g), g;
        }
        _parse4ByteNum() {
          if (this._list.length - this._pos < 4)
            return -1;
          const g = this._list.readUInt32BE(this._pos);
          return this._pos += 4, p("_parse4ByteNum: result: %s", g), g;
        }
        _parseVarByteNum(g) {
          p("_parseVarByteNum");
          const y = 4;
          let b = 0, A = 1, w = 0, S = !1, T;
          const x = this._pos ? this._pos : 0;
          for (; b < y && x + b < this._list.length; ) {
            if (T = this._list.readUInt8(x + b++), w += A * (T & f.VARBYTEINT_MASK), A *= 128, !(T & f.VARBYTEINT_FIN_MASK)) {
              S = !0;
              break;
            }
            if (this._list.length <= b)
              break;
          }
          return !S && b === y && this._list.length >= b && this._emitError(new Error("Invalid variable byte integer")), x && (this._pos += b), S ? g ? S = { bytes: b, value: w } : S = w : S = !1, p("_parseVarByteNum: result: %o", S), S;
        }
        _parseByte() {
          let g;
          return this._pos < this._list.length && (g = this._list.readUInt8(this._pos), this._pos++), p("_parseByte: result: %o", g), g;
        }
        _parseByType(g) {
          switch (p("_parseByType: type: %s", g), g) {
            case "byte":
              return this._parseByte() !== 0;
            case "int8":
              return this._parseByte();
            case "int16":
              return this._parseNum();
            case "int32":
              return this._parse4ByteNum();
            case "var":
              return this._parseVarByteNum();
            case "string":
              return this._parseString();
            case "pair":
              return this._parseStringPair();
            case "binary":
              return this._parseBuffer();
          }
        }
        _parseProperties() {
          p("_parseProperties");
          const g = this._parseVarByteNum(), b = this._pos + g, A = {};
          for (; this._pos < b; ) {
            const w = this._parseByte();
            if (!w)
              return this._emitError(new Error("Cannot parse property code type")), !1;
            const S = f.propertiesCodes[w];
            if (!S)
              return this._emitError(new Error("Unknown property")), !1;
            if (S === "userProperties") {
              A[S] || (A[S] = /* @__PURE__ */ Object.create(null));
              const T = this._parseByType(f.propertiesTypes[S]);
              if (A[S][T.name])
                if (Array.isArray(A[S][T.name]))
                  A[S][T.name].push(T.value);
                else {
                  const x = A[S][T.name];
                  A[S][T.name] = [x], A[S][T.name].push(T.value);
                }
              else
                A[S][T.name] = T.value;
              continue;
            }
            A[S] ? Array.isArray(A[S]) ? A[S].push(this._parseByType(f.propertiesTypes[S])) : (A[S] = [A[S]], A[S].push(this._parseByType(f.propertiesTypes[S]))) : A[S] = this._parseByType(f.propertiesTypes[S]);
          }
          return A;
        }
        _newPacket() {
          return p("_newPacket"), this.packet && (this._list.consume(this.packet.length), p("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d", this.packet.cmd, this.packet.payload, this.packet.length), this.emit("packet", this.packet)), p("_newPacket: new packet"), this.packet = new d(), this._pos = 0, !0;
        }
        _emitError(g) {
          p("_emitError", g), this.error = g, this.emit("error", g);
        }
      }
      o.exports = _;
    }, { "./constants": 73, "./packet": 94, bl: 77, debug: 30, events: 49 }], 96: [function(n, o, a) {
      const u = n("./constants"), { Buffer: c } = n("buffer"), d = c.allocUnsafe(0), f = c.from([0]), p = n("./numbers"), _ = n("process-nextick-args").nextTick, v = n("debug")("mqtt-packet:writeToStream"), g = p.cache, y = p.generateNumber, b = p.generateCache, A = p.genBufVariableByteInt, w = p.generate4ByteBuffer;
      let S = Lt, T = !0;
      function x(Ce, de, Ue) {
        switch (v("generate called"), de.cork && (de.cork(), _(L, de)), T && (T = !1, b()), v("generate: packet.cmd: %s", Ce.cmd), Ce.cmd) {
          case "connect":
            return O(Ce, de);
          case "connack":
            return M(Ce, de, Ue);
          case "publish":
            return k(Ce, de, Ue);
          case "puback":
          case "pubrec":
          case "pubrel":
          case "pubcomp":
            return ie(Ce, de, Ue);
          case "subscribe":
            return $(Ce, de, Ue);
          case "suback":
            return Y(Ce, de, Ue);
          case "unsubscribe":
            return D(Ce, de, Ue);
          case "unsuback":
            return re(Ce, de, Ue);
          case "pingreq":
          case "pingresp":
            return F(Ce, de);
          case "disconnect":
            return _e(Ce, de, Ue);
          case "auth":
            return ue(Ce, de, Ue);
          default:
            return de.destroy(new Error("Unknown command")), !1;
        }
      }
      Object.defineProperty(x, "cacheNumbers", {
        get() {
          return S === Lt;
        },
        set(Ce) {
          Ce ? ((!g || Object.keys(g).length === 0) && (T = !0), S = Lt) : (T = !1, S = pe);
        }
      });
      function L(Ce) {
        Ce.uncork();
      }
      function O(Ce, de, Ue) {
        const Ne = Ce || {}, Ve = Ne.protocolId || "MQTT";
        let Pt = Ne.protocolVersion || 4;
        const jt = Ne.will;
        let _n = Ne.clean;
        const oe = Ne.keepalive || 0, le = Ne.clientId || "", j = Ne.username, V = Ne.password, z = Ne.properties;
        _n === void 0 && (_n = !0);
        let ae = 0;
        if (!Ve || typeof Ve != "string" && !c.isBuffer(Ve))
          return de.destroy(new Error("Invalid protocolId")), !1;
        if (ae += Ve.length + 2, Pt !== 3 && Pt !== 4 && Pt !== 5)
          return de.destroy(new Error("Invalid protocol version")), !1;
        if (ae += 1, (typeof le == "string" || c.isBuffer(le)) && (le || Pt >= 4) && (le || _n))
          ae += c.byteLength(le) + 2;
        else {
          if (Pt < 4)
            return de.destroy(new Error("clientId must be supplied before 3.1.1")), !1;
          if (_n * 1 === 0)
            return de.destroy(new Error("clientId must be given if cleanSession set to 0")), !1;
        }
        if (typeof oe != "number" || oe < 0 || oe > 65535 || oe % 1 !== 0)
          return de.destroy(new Error("Invalid keepalive")), !1;
        ae += 2, ae += 1;
        let xe, qe;
        if (Pt === 5) {
          if (xe = Dt(de, z), !xe)
            return !1;
          ae += xe.length;
        }
        if (jt) {
          if (typeof jt != "object")
            return de.destroy(new Error("Invalid will")), !1;
          if (!jt.topic || typeof jt.topic != "string")
            return de.destroy(new Error("Invalid will topic")), !1;
          if (ae += c.byteLength(jt.topic) + 2, ae += 2, jt.payload)
            if (jt.payload.length >= 0)
              typeof jt.payload == "string" ? ae += c.byteLength(jt.payload) : ae += jt.payload.length;
            else
              return de.destroy(new Error("Invalid will payload")), !1;
          if (qe = {}, Pt === 5) {
            if (qe = Dt(de, jt.properties), !qe)
              return !1;
            ae += qe.length;
          }
        }
        let bn = !1;
        if (j != null)
          if (kt(j))
            bn = !0, ae += c.byteLength(j) + 2;
          else
            return de.destroy(new Error("Invalid username")), !1;
        if (V != null) {
          if (!bn)
            return de.destroy(new Error("Username is required to use password")), !1;
          if (kt(V))
            ae += vn(V) + 2;
          else
            return de.destroy(new Error("Invalid password")), !1;
        }
        de.write(u.CONNECT_HEADER), ze(de, ae), In(de, Ve), Ne.bridgeMode && (Pt += 128), de.write(
          Pt === 131 ? u.VERSION131 : Pt === 132 ? u.VERSION132 : Pt === 4 ? u.VERSION4 : Pt === 5 ? u.VERSION5 : u.VERSION3
        );
        let Sn = 0;
        return Sn |= j != null ? u.USERNAME_MASK : 0, Sn |= V != null ? u.PASSWORD_MASK : 0, Sn |= jt && jt.retain ? u.WILL_RETAIN_MASK : 0, Sn |= jt && jt.qos ? jt.qos << u.WILL_QOS_SHIFT : 0, Sn |= jt ? u.WILL_FLAG_MASK : 0, Sn |= _n ? u.CLEAN_SESSION_MASK : 0, de.write(c.from([Sn])), S(de, oe), Pt === 5 && xe.write(), In(de, le), jt && (Pt === 5 && qe.write(), Fe(de, jt.topic), In(de, jt.payload)), j != null && In(de, j), V != null && In(de, V), !0;
      }
      function M(Ce, de, Ue) {
        const Ne = Ue ? Ue.protocolVersion : 4, Ve = Ce || {}, Pt = Ne === 5 ? Ve.reasonCode : Ve.returnCode, jt = Ve.properties;
        let _n = 2;
        if (typeof Pt != "number")
          return de.destroy(new Error("Invalid return code")), !1;
        let oe = null;
        if (Ne === 5) {
          if (oe = Dt(de, jt), !oe)
            return !1;
          _n += oe.length;
        }
        return de.write(u.CONNACK_HEADER), ze(de, _n), de.write(Ve.sessionPresent ? u.SESSIONPRESENT_HEADER : f), de.write(c.from([Pt])), oe != null && oe.write(), !0;
      }
      function k(Ce, de, Ue) {
        v("publish: packet: %o", Ce);
        const Ne = Ue ? Ue.protocolVersion : 4, Ve = Ce || {}, Pt = Ve.qos || 0, jt = Ve.retain ? u.RETAIN_MASK : 0, _n = Ve.topic, oe = Ve.payload || d, le = Ve.messageId, j = Ve.properties;
        let V = 0;
        if (typeof _n == "string")
          V += c.byteLength(_n) + 2;
        else if (c.isBuffer(_n))
          V += _n.length + 2;
        else
          return de.destroy(new Error("Invalid topic")), !1;
        if (c.isBuffer(oe) ? V += oe.length : V += c.byteLength(oe), Pt && typeof le != "number")
          return de.destroy(new Error("Invalid messageId")), !1;
        Pt && (V += 2);
        let z = null;
        if (Ne === 5) {
          if (z = Dt(de, j), !z)
            return !1;
          V += z.length;
        }
        return de.write(u.PUBLISH_HEADER[Pt][Ve.dup ? 1 : 0][jt ? 1 : 0]), ze(de, V), S(de, vn(_n)), de.write(_n), Pt > 0 && S(de, le), z != null && z.write(), v("publish: payload: %o", oe), de.write(oe);
      }
      function ie(Ce, de, Ue) {
        const Ne = Ue ? Ue.protocolVersion : 4, Ve = Ce || {}, Pt = Ve.cmd || "puback", jt = Ve.messageId, _n = Ve.dup && Pt === "pubrel" ? u.DUP_MASK : 0;
        let oe = 0;
        const le = Ve.reasonCode, j = Ve.properties;
        let V = Ne === 5 ? 3 : 2;
        if (Pt === "pubrel" && (oe = 1), typeof jt != "number")
          return de.destroy(new Error("Invalid messageId")), !1;
        let z = null;
        if (Ne === 5 && typeof j == "object") {
          if (z = he(de, j, Ue, V), !z)
            return !1;
          V += z.length;
        }
        return de.write(u.ACKS[Pt][oe][_n][0]), V === 3 && (V += le !== 0 ? 1 : -1), ze(de, V), S(de, jt), Ne === 5 && V !== 2 && de.write(c.from([le])), z !== null ? z.write() : V === 4 && de.write(c.from([0])), !0;
      }
      function $(Ce, de, Ue) {
        v("subscribe: packet: ");
        const Ne = Ue ? Ue.protocolVersion : 4, Ve = Ce || {}, Pt = Ve.dup ? u.DUP_MASK : 0, jt = Ve.messageId, _n = Ve.subscriptions, oe = Ve.properties;
        let le = 0;
        if (typeof jt != "number")
          return de.destroy(new Error("Invalid messageId")), !1;
        le += 2;
        let j = null;
        if (Ne === 5) {
          if (j = Dt(de, oe), !j)
            return !1;
          le += j.length;
        }
        if (typeof _n == "object" && _n.length)
          for (let z = 0; z < _n.length; z += 1) {
            const ae = _n[z].topic, xe = _n[z].qos;
            if (typeof ae != "string")
              return de.destroy(new Error("Invalid subscriptions - invalid topic")), !1;
            if (typeof xe != "number")
              return de.destroy(new Error("Invalid subscriptions - invalid qos")), !1;
            if (Ne === 5) {
              if (typeof (_n[z].nl || !1) != "boolean")
                return de.destroy(new Error("Invalid subscriptions - invalid No Local")), !1;
              if (typeof (_n[z].rap || !1) != "boolean")
                return de.destroy(new Error("Invalid subscriptions - invalid Retain as Published")), !1;
              const Sn = _n[z].rh || 0;
              if (typeof Sn != "number" || Sn > 2)
                return de.destroy(new Error("Invalid subscriptions - invalid Retain Handling")), !1;
            }
            le += c.byteLength(ae) + 2 + 1;
          }
        else
          return de.destroy(new Error("Invalid subscriptions")), !1;
        v("subscribe: writing to stream: %o", u.SUBSCRIBE_HEADER), de.write(u.SUBSCRIBE_HEADER[1][Pt ? 1 : 0][0]), ze(de, le), S(de, jt), j !== null && j.write();
        let V = !0;
        for (const z of _n) {
          const ae = z.topic, xe = z.qos, qe = +z.nl, bn = +z.rap, Sn = z.rh;
          let xn;
          Fe(de, ae), xn = u.SUBSCRIBE_OPTIONS_QOS[xe], Ne === 5 && (xn |= qe ? u.SUBSCRIBE_OPTIONS_NL : 0, xn |= bn ? u.SUBSCRIBE_OPTIONS_RAP : 0, xn |= Sn ? u.SUBSCRIBE_OPTIONS_RH[Sn] : 0), V = de.write(c.from([xn]));
        }
        return V;
      }
      function Y(Ce, de, Ue) {
        const Ne = Ue ? Ue.protocolVersion : 4, Ve = Ce || {}, Pt = Ve.messageId, jt = Ve.granted, _n = Ve.properties;
        let oe = 0;
        if (typeof Pt != "number")
          return de.destroy(new Error("Invalid messageId")), !1;
        if (oe += 2, typeof jt == "object" && jt.length)
          for (let j = 0; j < jt.length; j += 1) {
            if (typeof jt[j] != "number")
              return de.destroy(new Error("Invalid qos vector")), !1;
            oe += 1;
          }
        else
          return de.destroy(new Error("Invalid qos vector")), !1;
        let le = null;
        if (Ne === 5) {
          if (le = he(de, _n, Ue, oe), !le)
            return !1;
          oe += le.length;
        }
        return de.write(u.SUBACK_HEADER), ze(de, oe), S(de, Pt), le !== null && le.write(), de.write(c.from(jt));
      }
      function D(Ce, de, Ue) {
        const Ne = Ue ? Ue.protocolVersion : 4, Ve = Ce || {}, Pt = Ve.messageId, jt = Ve.dup ? u.DUP_MASK : 0, _n = Ve.unsubscriptions, oe = Ve.properties;
        let le = 0;
        if (typeof Pt != "number")
          return de.destroy(new Error("Invalid messageId")), !1;
        if (le += 2, typeof _n == "object" && _n.length)
          for (let z = 0; z < _n.length; z += 1) {
            if (typeof _n[z] != "string")
              return de.destroy(new Error("Invalid unsubscriptions")), !1;
            le += c.byteLength(_n[z]) + 2;
          }
        else
          return de.destroy(new Error("Invalid unsubscriptions")), !1;
        let j = null;
        if (Ne === 5) {
          if (j = Dt(de, oe), !j)
            return !1;
          le += j.length;
        }
        de.write(u.UNSUBSCRIBE_HEADER[1][jt ? 1 : 0][0]), ze(de, le), S(de, Pt), j !== null && j.write();
        let V = !0;
        for (let z = 0; z < _n.length; z++)
          V = Fe(de, _n[z]);
        return V;
      }
      function re(Ce, de, Ue) {
        const Ne = Ue ? Ue.protocolVersion : 4, Ve = Ce || {}, Pt = Ve.messageId, jt = Ve.dup ? u.DUP_MASK : 0, _n = Ve.granted, oe = Ve.properties, le = Ve.cmd, j = 0;
        let V = 2;
        if (typeof Pt != "number")
          return de.destroy(new Error("Invalid messageId")), !1;
        if (Ne === 5)
          if (typeof _n == "object" && _n.length)
            for (let ae = 0; ae < _n.length; ae += 1) {
              if (typeof _n[ae] != "number")
                return de.destroy(new Error("Invalid qos vector")), !1;
              V += 1;
            }
          else
            return de.destroy(new Error("Invalid qos vector")), !1;
        let z = null;
        if (Ne === 5) {
          if (z = he(de, oe, Ue, V), !z)
            return !1;
          V += z.length;
        }
        return de.write(u.ACKS[le][j][jt][0]), ze(de, V), S(de, Pt), z !== null && z.write(), Ne === 5 && de.write(c.from(_n)), !0;
      }
      function F(Ce, de, Ue) {
        return de.write(u.EMPTY[Ce.cmd]);
      }
      function _e(Ce, de, Ue) {
        const Ne = Ue ? Ue.protocolVersion : 4, Ve = Ce || {}, Pt = Ve.reasonCode, jt = Ve.properties;
        let _n = Ne === 5 ? 1 : 0, oe = null;
        if (Ne === 5) {
          if (oe = he(de, jt, Ue, _n), !oe)
            return !1;
          _n += oe.length;
        }
        return de.write(c.from([u.codes.disconnect << 4])), ze(de, _n), Ne === 5 && de.write(c.from([Pt])), oe !== null && oe.write(), !0;
      }
      function ue(Ce, de, Ue) {
        const Ne = Ue ? Ue.protocolVersion : 4, Ve = Ce || {}, Pt = Ve.reasonCode, jt = Ve.properties;
        let _n = Ne === 5 ? 1 : 0;
        Ne !== 5 && de.destroy(new Error("Invalid mqtt version for auth packet"));
        const oe = he(de, jt, Ue, _n);
        return oe ? (_n += oe.length, de.write(c.from([u.codes.auth << 4])), ze(de, _n), de.write(c.from([Pt])), oe !== null && oe.write(), !0) : !1;
      }
      const Ie = {};
      function ze(Ce, de) {
        if (de > u.VARBYTEINT_MAX)
          return Ce.destroy(new Error(`Invalid variable byte integer: ${de}`)), !1;
        let Ue = Ie[de];
        return Ue || (Ue = A(de), de < 16384 && (Ie[de] = Ue)), v("writeVarByteInt: writing to stream: %o", Ue), Ce.write(Ue);
      }
      function Fe(Ce, de) {
        const Ue = c.byteLength(de);
        return S(Ce, Ue), v("writeString: %s", de), Ce.write(de, "utf8");
      }
      function Oe(Ce, de, Ue) {
        Fe(Ce, de), Fe(Ce, Ue);
      }
      function Lt(Ce, de) {
        return v("writeNumberCached: number: %d", de), v("writeNumberCached: %o", g[de]), Ce.write(g[de]);
      }
      function pe(Ce, de) {
        const Ue = y(de);
        return v("writeNumberGenerated: %o", Ue), Ce.write(Ue);
      }
      function Cn(Ce, de) {
        const Ue = w(de);
        return v("write4ByteNumber: %o", Ue), Ce.write(Ue);
      }
      function In(Ce, de) {
        typeof de == "string" ? Fe(Ce, de) : de ? (S(Ce, de.length), Ce.write(de)) : S(Ce, 0);
      }
      function Dt(Ce, de) {
        if (typeof de != "object" || de.length != null)
          return {
            length: 1,
            write() {
              hn(Ce, {}, 0);
            }
          };
        let Ue = 0;
        function Ne(Pt, jt) {
          const _n = u.propertiesTypes[Pt];
          let oe = 0;
          switch (_n) {
            case "byte": {
              if (typeof jt != "boolean")
                return Ce.destroy(new Error(`Invalid ${Pt}: ${jt}`)), !1;
              oe += 1 + 1;
              break;
            }
            case "int8": {
              if (typeof jt != "number" || jt < 0 || jt > 255)
                return Ce.destroy(new Error(`Invalid ${Pt}: ${jt}`)), !1;
              oe += 1 + 1;
              break;
            }
            case "binary": {
              if (jt && jt === null)
                return Ce.destroy(new Error(`Invalid ${Pt}: ${jt}`)), !1;
              oe += 1 + c.byteLength(jt) + 2;
              break;
            }
            case "int16": {
              if (typeof jt != "number" || jt < 0 || jt > 65535)
                return Ce.destroy(new Error(`Invalid ${Pt}: ${jt}`)), !1;
              oe += 1 + 2;
              break;
            }
            case "int32": {
              if (typeof jt != "number" || jt < 0 || jt > 4294967295)
                return Ce.destroy(new Error(`Invalid ${Pt}: ${jt}`)), !1;
              oe += 1 + 4;
              break;
            }
            case "var": {
              if (typeof jt != "number" || jt < 0 || jt > 268435455)
                return Ce.destroy(new Error(`Invalid ${Pt}: ${jt}`)), !1;
              oe += 1 + c.byteLength(A(jt));
              break;
            }
            case "string": {
              if (typeof jt != "string")
                return Ce.destroy(new Error(`Invalid ${Pt}: ${jt}`)), !1;
              oe += 1 + 2 + c.byteLength(jt.toString());
              break;
            }
            case "pair": {
              if (typeof jt != "object")
                return Ce.destroy(new Error(`Invalid ${Pt}: ${jt}`)), !1;
              oe += Object.getOwnPropertyNames(jt).reduce((le, j) => {
                const V = jt[j];
                return Array.isArray(V) ? le += V.reduce((z, ae) => (z += 1 + 2 + c.byteLength(j.toString()) + 2 + c.byteLength(ae.toString()), z), 0) : le += 1 + 2 + c.byteLength(j.toString()) + 2 + c.byteLength(jt[j].toString()), le;
              }, 0);
              break;
            }
            default:
              return Ce.destroy(new Error(`Invalid property ${Pt}: ${jt}`)), !1;
          }
          return oe;
        }
        if (de)
          for (const Pt in de) {
            let jt = 0, _n = 0;
            const oe = de[Pt];
            if (Array.isArray(oe))
              for (let le = 0; le < oe.length; le++) {
                if (_n = Ne(Pt, oe[le]), !_n)
                  return !1;
                jt += _n;
              }
            else {
              if (_n = Ne(Pt, oe), !_n)
                return !1;
              jt = _n;
            }
            if (!jt)
              return !1;
            Ue += jt;
          }
        return {
          length: c.byteLength(A(Ue)) + Ue,
          write() {
            hn(Ce, de, Ue);
          }
        };
      }
      function he(Ce, de, Ue, Ne) {
        const Ve = ["reasonString", "userProperties"], Pt = Ue && Ue.properties && Ue.properties.maximumPacketSize ? Ue.properties.maximumPacketSize : 0;
        let jt = Dt(Ce, de);
        if (Pt)
          for (; Ne + jt.length > Pt; ) {
            const _n = Ve.shift();
            if (_n && de[_n])
              delete de[_n], jt = Dt(Ce, de);
            else
              return !1;
          }
        return jt;
      }
      function Et(Ce, de, Ue) {
        switch (u.propertiesTypes[de]) {
          case "byte": {
            Ce.write(c.from([u.properties[de]])), Ce.write(c.from([+Ue]));
            break;
          }
          case "int8": {
            Ce.write(c.from([u.properties[de]])), Ce.write(c.from([Ue]));
            break;
          }
          case "binary": {
            Ce.write(c.from([u.properties[de]])), In(Ce, Ue);
            break;
          }
          case "int16": {
            Ce.write(c.from([u.properties[de]])), S(Ce, Ue);
            break;
          }
          case "int32": {
            Ce.write(c.from([u.properties[de]])), Cn(Ce, Ue);
            break;
          }
          case "var": {
            Ce.write(c.from([u.properties[de]])), ze(Ce, Ue);
            break;
          }
          case "string": {
            Ce.write(c.from([u.properties[de]])), Fe(Ce, Ue);
            break;
          }
          case "pair": {
            Object.getOwnPropertyNames(Ue).forEach((Ve) => {
              const Pt = Ue[Ve];
              Array.isArray(Pt) ? Pt.forEach((jt) => {
                Ce.write(c.from([u.properties[de]])), Oe(Ce, Ve.toString(), jt.toString());
              }) : (Ce.write(c.from([u.properties[de]])), Oe(Ce, Ve.toString(), Pt.toString()));
            });
            break;
          }
          default:
            return Ce.destroy(new Error(`Invalid property ${de} value: ${Ue}`)), !1;
        }
      }
      function hn(Ce, de, Ue) {
        ze(Ce, Ue);
        for (const Ne in de)
          if (Object.prototype.hasOwnProperty.call(de, Ne) && de[Ne] !== null) {
            const Ve = de[Ne];
            if (Array.isArray(Ve))
              for (let Pt = 0; Pt < Ve.length; Pt++)
                Et(Ce, Ne, Ve[Pt]);
            else
              Et(Ce, Ne, Ve);
          }
      }
      function vn(Ce) {
        return Ce ? Ce instanceof c ? Ce.length : c.byteLength(Ce) : 0;
      }
      function kt(Ce) {
        return typeof Ce == "string" || Ce instanceof c;
      }
      o.exports = x;
    }, { "./constants": 73, "./numbers": 93, buffer: 29, debug: 30, "process-nextick-args": 101 }], 97: [function(n, o, a) {
      var u = 1e3, c = u * 60, d = c * 60, f = d * 24, p = f * 7, _ = f * 365.25;
      o.exports = function(A, w) {
        w = w || {};
        var S = typeof A;
        if (S === "string" && A.length > 0)
          return v(A);
        if (S === "number" && isFinite(A))
          return w.long ? y(A) : g(A);
        throw new Error(
          "val is not a non-empty string or a valid number. val=" + JSON.stringify(A)
        );
      };
      function v(A) {
        if (A = String(A), !(A.length > 100)) {
          var w = /^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(
            A
          );
          if (w) {
            var S = parseFloat(w[1]), T = (w[2] || "ms").toLowerCase();
            switch (T) {
              case "years":
              case "year":
              case "yrs":
              case "yr":
              case "y":
                return S * _;
              case "weeks":
              case "week":
              case "w":
                return S * p;
              case "days":
              case "day":
              case "d":
                return S * f;
              case "hours":
              case "hour":
              case "hrs":
              case "hr":
              case "h":
                return S * d;
              case "minutes":
              case "minute":
              case "mins":
              case "min":
              case "m":
                return S * c;
              case "seconds":
              case "second":
              case "secs":
              case "sec":
              case "s":
                return S * u;
              case "milliseconds":
              case "millisecond":
              case "msecs":
              case "msec":
              case "ms":
                return S;
              default:
                return;
            }
          }
        }
      }
      function g(A) {
        var w = Math.abs(A);
        return w >= f ? Math.round(A / f) + "d" : w >= d ? Math.round(A / d) + "h" : w >= c ? Math.round(A / c) + "m" : w >= u ? Math.round(A / u) + "s" : A + "ms";
      }
      function y(A) {
        var w = Math.abs(A);
        return w >= f ? b(A, w, f, "day") : w >= d ? b(A, w, d, "hour") : w >= c ? b(A, w, c, "minute") : w >= u ? b(A, w, u, "second") : A + " ms";
      }
      function b(A, w, S, T) {
        var x = w >= S * 1.5;
        return Math.round(A / S) + " " + T + (x ? "s" : "");
      }
    }, {}], 98: [function(n, o, a) {
      const u = n("./lib/number-allocator.js");
      o.exports.NumberAllocator = u;
    }, { "./lib/number-allocator.js": 99 }], 99: [function(n, o, a) {
      const u = n("js-sdsl").OrderedSet, c = n("debug")("number-allocator:trace"), d = n("debug")("number-allocator:error");
      function f(_, v) {
        this.low = _, this.high = v;
      }
      f.prototype.equals = function(_) {
        return this.low === _.low && this.high === _.high;
      }, f.prototype.compare = function(_) {
        return this.low < _.low && this.high < _.low ? -1 : _.low < this.low && _.high < this.low ? 1 : 0;
      };
      function p(_, v) {
        if (!(this instanceof p))
          return new p(_, v);
        this.min = _, this.max = v, this.ss = new u(
          [],
          (g, y) => g.compare(y)
        ), c("Create"), this.clear();
      }
      p.prototype.firstVacant = function() {
        return this.ss.size() === 0 ? null : this.ss.front().low;
      }, p.prototype.alloc = function() {
        if (this.ss.size() === 0)
          return c("alloc():empty"), null;
        const _ = this.ss.begin(), v = _.pointer.low, g = _.pointer.high, y = v;
        return y + 1 <= g ? this.ss.updateKeyByIterator(_, new f(v + 1, g)) : this.ss.eraseElementByPos(0), c("alloc():" + y), y;
      }, p.prototype.use = function(_) {
        const v = new f(_, _), g = this.ss.lowerBound(v);
        if (!g.equals(this.ss.end())) {
          const y = g.pointer.low, b = g.pointer.high;
          return g.pointer.equals(v) ? (this.ss.eraseElementByIterator(g), c("use():" + _), !0) : y > _ ? !1 : y === _ ? (this.ss.updateKeyByIterator(g, new f(y + 1, b)), c("use():" + _), !0) : b === _ ? (this.ss.updateKeyByIterator(g, new f(y, b - 1)), c("use():" + _), !0) : (this.ss.updateKeyByIterator(g, new f(_ + 1, b)), this.ss.insert(new f(y, _ - 1)), c("use():" + _), !0);
        }
        return c("use():failed"), !1;
      }, p.prototype.free = function(_) {
        if (_ < this.min || _ > this.max) {
          d("free():" + _ + " is out of range");
          return;
        }
        const v = new f(_, _), g = this.ss.upperBound(v);
        if (g.equals(this.ss.end())) {
          if (g.equals(this.ss.begin())) {
            this.ss.insert(v);
            return;
          }
          g.pre();
          const y = g.pointer.high;
          g.pointer.high + 1 === _ ? this.ss.updateKeyByIterator(g, new f(y, _)) : this.ss.insert(v);
        } else if (g.equals(this.ss.begin()))
          if (_ + 1 === g.pointer.low) {
            const y = g.pointer.high;
            this.ss.updateKeyByIterator(g, new f(_, y));
          } else
            this.ss.insert(v);
        else {
          const y = g.pointer.low, b = g.pointer.high;
          g.pre();
          const A = g.pointer.low;
          g.pointer.high + 1 === _ ? _ + 1 === y ? (this.ss.eraseElementByIterator(g), this.ss.updateKeyByIterator(g, new f(A, b))) : this.ss.updateKeyByIterator(g, new f(A, _)) : _ + 1 === y ? (this.ss.eraseElementByIterator(g.next()), this.ss.insert(new f(_, b))) : this.ss.insert(v);
        }
        c("free():" + _);
      }, p.prototype.clear = function() {
        c("clear()"), this.ss.clear(), this.ss.insert(new f(this.min, this.max));
      }, p.prototype.intervalCount = function() {
        return this.ss.size();
      }, p.prototype.dump = function() {
        console.log("length:" + this.ss.size());
        for (const _ of this.ss)
          console.log(_);
      }, o.exports = p;
    }, { debug: 30, "js-sdsl": 69 }], 100: [function(n, o, a) {
      var u = n("wrappy");
      o.exports = u(c), o.exports.strict = u(d), c.proto = c(function() {
        Object.defineProperty(Function.prototype, "once", {
          value: function() {
            return c(this);
          },
          configurable: !0
        }), Object.defineProperty(Function.prototype, "onceStrict", {
          value: function() {
            return d(this);
          },
          configurable: !0
        });
      });
      function c(f) {
        var p = function() {
          return p.called ? p.value : (p.called = !0, p.value = f.apply(this, arguments));
        };
        return p.called = !1, p;
      }
      function d(f) {
        var p = function() {
          if (p.called)
            throw new Error(p.onceError);
          return p.called = !0, p.value = f.apply(this, arguments);
        }, _ = f.name || "Function wrapped with `once`";
        return p.onceError = _ + " shouldn't be called more than once", p.called = !1, p;
      }
    }, { wrappy: 140 }], 101: [function(n, o, a) {
      (function(u) {
        (function() {
          typeof u > "u" || !u.version || u.version.indexOf("v0.") === 0 || u.version.indexOf("v1.") === 0 && u.version.indexOf("v1.8.") !== 0 ? o.exports = { nextTick: c } : o.exports = u;
          function c(d, f, p, _) {
            if (typeof d != "function")
              throw new TypeError('"callback" argument must be a function');
            var v = arguments.length, g, y;
            switch (v) {
              case 0:
              case 1:
                return u.nextTick(d);
              case 2:
                return u.nextTick(function() {
                  d.call(null, f);
                });
              case 3:
                return u.nextTick(function() {
                  d.call(null, f, p);
                });
              case 4:
                return u.nextTick(function() {
                  d.call(null, f, p, _);
                });
              default:
                for (g = new Array(v - 1), y = 0; y < g.length; )
                  g[y++] = arguments[y];
                return u.nextTick(function() {
                  d.apply(null, g);
                });
            }
          }
        }).call(this);
      }).call(this, n("_process"));
    }, { _process: 102 }], 102: [function(n, o, a) {
      var u = o.exports = {}, c, d;
      function f() {
        throw new Error("setTimeout has not been defined");
      }
      function p() {
        throw new Error("clearTimeout has not been defined");
      }
      (function() {
        try {
          typeof setTimeout == "function" ? c = setTimeout : c = f;
        } catch {
          c = f;
        }
        try {
          typeof clearTimeout == "function" ? d = clearTimeout : d = p;
        } catch {
          d = p;
        }
      })();
      function _(L) {
        if (c === setTimeout)
          return setTimeout(L, 0);
        if ((c === f || !c) && setTimeout)
          return c = setTimeout, setTimeout(L, 0);
        try {
          return c(L, 0);
        } catch {
          try {
            return c.call(null, L, 0);
          } catch {
            return c.call(this, L, 0);
          }
        }
      }
      function v(L) {
        if (d === clearTimeout)
          return clearTimeout(L);
        if ((d === p || !d) && clearTimeout)
          return d = clearTimeout, clearTimeout(L);
        try {
          return d(L);
        } catch {
          try {
            return d.call(null, L);
          } catch {
            return d.call(this, L);
          }
        }
      }
      var g = [], y = !1, b, A = -1;
      function w() {
        !y || !b || (y = !1, b.length ? g = b.concat(g) : A = -1, g.length && S());
      }
      function S() {
        if (!y) {
          var L = _(w);
          y = !0;
          for (var O = g.length; O; ) {
            for (b = g, g = []; ++A < O; )
              b && b[A].run();
            A = -1, O = g.length;
          }
          b = null, y = !1, v(L);
        }
      }
      u.nextTick = function(L) {
        var O = new Array(arguments.length - 1);
        if (arguments.length > 1)
          for (var M = 1; M < arguments.length; M++)
            O[M - 1] = arguments[M];
        g.push(new T(L, O)), g.length === 1 && !y && _(S);
      };
      function T(L, O) {
        this.fun = L, this.array = O;
      }
      T.prototype.run = function() {
        this.fun.apply(null, this.array);
      }, u.title = "browser", u.browser = !0, u.env = {}, u.argv = [], u.version = "", u.versions = {};
      function x() {
      }
      u.on = x, u.addListener = x, u.once = x, u.off = x, u.removeListener = x, u.removeAllListeners = x, u.emit = x, u.prependListener = x, u.prependOnceListener = x, u.listeners = function(L) {
        return [];
      }, u.binding = function(L) {
        throw new Error("process.binding is not supported");
      }, u.cwd = function() {
        return "/";
      }, u.chdir = function(L) {
        throw new Error("process.chdir is not supported");
      }, u.umask = function() {
        return 0;
      };
    }, {}], 103: [function(n, o, a) {
      (function(u) {
        (function() {
          (function(c) {
            var d = typeof a == "object" && a && !a.nodeType && a, f = typeof o == "object" && o && !o.nodeType && o, p = typeof u == "object" && u;
            (p.global === p || p.window === p || p.self === p) && (c = p);
            var _, v = 2147483647, g = 36, y = 1, b = 26, A = 38, w = 700, S = 72, T = 128, x = "-", L = /^xn--/, O = /[^\x20-\x7E]/, M = /[\x2E\u3002\uFF0E\uFF61]/g, k = {
              overflow: "Overflow: input needs wider integers to process",
              "not-basic": "Illegal input >= 0x80 (not a basic code point)",
              "invalid-input": "Invalid input"
            }, ie = g - y, $ = Math.floor, Y = String.fromCharCode, D;
            function re(Dt) {
              throw new RangeError(k[Dt]);
            }
            function F(Dt, he) {
              for (var Et = Dt.length, hn = []; Et--; )
                hn[Et] = he(Dt[Et]);
              return hn;
            }
            function _e(Dt, he) {
              var Et = Dt.split("@"), hn = "";
              Et.length > 1 && (hn = Et[0] + "@", Dt = Et[1]), Dt = Dt.replace(M, ".");
              var vn = Dt.split("."), kt = F(vn, he).join(".");
              return hn + kt;
            }
            function ue(Dt) {
              for (var he = [], Et = 0, hn = Dt.length, vn, kt; Et < hn; )
                vn = Dt.charCodeAt(Et++), vn >= 55296 && vn <= 56319 && Et < hn ? (kt = Dt.charCodeAt(Et++), (kt & 64512) == 56320 ? he.push(((vn & 1023) << 10) + (kt & 1023) + 65536) : (he.push(vn), Et--)) : he.push(vn);
              return he;
            }
            function Ie(Dt) {
              return F(Dt, function(he) {
                var Et = "";
                return he > 65535 && (he -= 65536, Et += Y(he >>> 10 & 1023 | 55296), he = 56320 | he & 1023), Et += Y(he), Et;
              }).join("");
            }
            function ze(Dt) {
              return Dt - 48 < 10 ? Dt - 22 : Dt - 65 < 26 ? Dt - 65 : Dt - 97 < 26 ? Dt - 97 : g;
            }
            function Fe(Dt, he) {
              return Dt + 22 + 75 * (Dt < 26) - ((he != 0) << 5);
            }
            function Oe(Dt, he, Et) {
              var hn = 0;
              for (Dt = Et ? $(Dt / w) : Dt >> 1, Dt += $(Dt / he); Dt > ie * b >> 1; hn += g)
                Dt = $(Dt / ie);
              return $(hn + (ie + 1) * Dt / (Dt + A));
            }
            function Lt(Dt) {
              var he = [], Et = Dt.length, hn, vn = 0, kt = T, Ce = S, de, Ue, Ne, Ve, Pt, jt, _n, oe, le;
              for (de = Dt.lastIndexOf(x), de < 0 && (de = 0), Ue = 0; Ue < de; ++Ue)
                Dt.charCodeAt(Ue) >= 128 && re("not-basic"), he.push(Dt.charCodeAt(Ue));
              for (Ne = de > 0 ? de + 1 : 0; Ne < Et; ) {
                for (Ve = vn, Pt = 1, jt = g; Ne >= Et && re("invalid-input"), _n = ze(Dt.charCodeAt(Ne++)), (_n >= g || _n > $((v - vn) / Pt)) && re("overflow"), vn += _n * Pt, oe = jt <= Ce ? y : jt >= Ce + b ? b : jt - Ce, !(_n < oe); jt += g)
                  le = g - oe, Pt > $(v / le) && re("overflow"), Pt *= le;
                hn = he.length + 1, Ce = Oe(vn - Ve, hn, Ve == 0), $(vn / hn) > v - kt && re("overflow"), kt += $(vn / hn), vn %= hn, he.splice(vn++, 0, kt);
              }
              return Ie(he);
            }
            function pe(Dt) {
              var he, Et, hn, vn, kt, Ce, de, Ue, Ne, Ve, Pt, jt = [], _n, oe, le, j;
              for (Dt = ue(Dt), _n = Dt.length, he = T, Et = 0, kt = S, Ce = 0; Ce < _n; ++Ce)
                Pt = Dt[Ce], Pt < 128 && jt.push(Y(Pt));
              for (hn = vn = jt.length, vn && jt.push(x); hn < _n; ) {
                for (de = v, Ce = 0; Ce < _n; ++Ce)
                  Pt = Dt[Ce], Pt >= he && Pt < de && (de = Pt);
                for (oe = hn + 1, de - he > $((v - Et) / oe) && re("overflow"), Et += (de - he) * oe, he = de, Ce = 0; Ce < _n; ++Ce)
                  if (Pt = Dt[Ce], Pt < he && ++Et > v && re("overflow"), Pt == he) {
                    for (Ue = Et, Ne = g; Ve = Ne <= kt ? y : Ne >= kt + b ? b : Ne - kt, !(Ue < Ve); Ne += g)
                      j = Ue - Ve, le = g - Ve, jt.push(
                        Y(Fe(Ve + j % le, 0))
                      ), Ue = $(j / le);
                    jt.push(Y(Fe(Ue, 0))), kt = Oe(Et, oe, hn == vn), Et = 0, ++hn;
                  }
                ++Et, ++he;
              }
              return jt.join("");
            }
            function Cn(Dt) {
              return _e(Dt, function(he) {
                return L.test(he) ? Lt(he.slice(4).toLowerCase()) : he;
              });
            }
            function In(Dt) {
              return _e(Dt, function(he) {
                return O.test(he) ? "xn--" + pe(he) : he;
              });
            }
            if (_ = {
              /**
               * A string representing the current Punycode.js version number.
               * @memberOf punycode
               * @type String
               */
              version: "1.4.1",
              /**
               * An object of methods to convert from JavaScript's internal character
               * representation (UCS-2) to Unicode code points, and back.
               * @see <https://mathiasbynens.be/notes/javascript-encoding>
               * @memberOf punycode
               * @type Object
               */
              ucs2: {
                decode: ue,
                encode: Ie
              },
              decode: Lt,
              encode: pe,
              toASCII: In,
              toUnicode: Cn
            }, d && f)
              if (o.exports == d)
                f.exports = _;
              else
                for (D in _)
                  _.hasOwnProperty(D) && (d[D] = _[D]);
            else
              c.punycode = _;
          })(this);
        }).call(this);
      }).call(this, typeof commonjsGlobal < "u" ? commonjsGlobal : typeof self < "u" ? self : typeof window < "u" ? window : {});
    }, {}], 104: [function(n, o, a) {
      function u(d, f) {
        return Object.prototype.hasOwnProperty.call(d, f);
      }
      o.exports = function(d, f, p, _) {
        f = f || "&", p = p || "=";
        var v = {};
        if (typeof d != "string" || d.length === 0)
          return v;
        var g = /\+/g;
        d = d.split(f);
        var y = 1e3;
        _ && typeof _.maxKeys == "number" && (y = _.maxKeys);
        var b = d.length;
        y > 0 && b > y && (b = y);
        for (var A = 0; A < b; ++A) {
          var w = d[A].replace(g, "%20"), S = w.indexOf(p), T, x, L, O;
          S >= 0 ? (T = w.substr(0, S), x = w.substr(S + 1)) : (T = w, x = ""), L = decodeURIComponent(T), O = decodeURIComponent(x), u(v, L) ? c(v[L]) ? v[L].push(O) : v[L] = [v[L], O] : v[L] = O;
        }
        return v;
      };
      var c = Array.isArray || function(d) {
        return Object.prototype.toString.call(d) === "[object Array]";
      };
    }, {}], 105: [function(n, o, a) {
      var u = function(p) {
        switch (typeof p) {
          case "string":
            return p;
          case "boolean":
            return p ? "true" : "false";
          case "number":
            return isFinite(p) ? p : "";
          default:
            return "";
        }
      };
      o.exports = function(p, _, v, g) {
        return _ = _ || "&", v = v || "=", p === null && (p = void 0), typeof p == "object" ? d(f(p), function(y) {
          var b = encodeURIComponent(u(y)) + v;
          return c(p[y]) ? d(p[y], function(A) {
            return b + encodeURIComponent(u(A));
          }).join(_) : b + encodeURIComponent(u(p[y]));
        }).join(_) : g ? encodeURIComponent(u(g)) + v + encodeURIComponent(u(p)) : "";
      };
      var c = Array.isArray || function(p) {
        return Object.prototype.toString.call(p) === "[object Array]";
      };
      function d(p, _) {
        if (p.map)
          return p.map(_);
        for (var v = [], g = 0; g < p.length; g++)
          v.push(_(p[g], g));
        return v;
      }
      var f = Object.keys || function(p) {
        var _ = [];
        for (var v in p)
          Object.prototype.hasOwnProperty.call(p, v) && _.push(v);
        return _;
      };
    }, {}], 106: [function(n, o, a) {
      a.decode = a.parse = n("./decode"), a.encode = a.stringify = n("./encode");
    }, { "./decode": 104, "./encode": 105 }], 107: [function(n, o, a) {
      const { AbortError: u, codes: c } = n("../../ours/errors"), { isNodeStream: d, isWebStream: f, kControllerErrorFunction: p } = n("./utils"), _ = n("./end-of-stream"), { ERR_INVALID_ARG_TYPE: v } = c, g = (y, b) => {
        if (typeof y != "object" || !("aborted" in y))
          throw new v(b, "AbortSignal", y);
      };
      o.exports.addAbortSignal = function(b, A) {
        if (g(b, "signal"), !d(A) && !f(A))
          throw new v("stream", ["ReadableStream", "WritableStream", "Stream"], A);
        return o.exports.addAbortSignalNoValidate(b, A);
      }, o.exports.addAbortSignalNoValidate = function(y, b) {
        if (typeof y != "object" || !("aborted" in y))
          return b;
        const A = d(b) ? () => {
          b.destroy(
            new u(void 0, {
              cause: y.reason
            })
          );
        } : () => {
          b[p](
            new u(void 0, {
              cause: y.reason
            })
          );
        };
        return y.aborted ? A() : (y.addEventListener("abort", A), _(b, () => y.removeEventListener("abort", A))), b;
      };
    }, { "../../ours/errors": 126, "./end-of-stream": 113, "./utils": 122 }], 108: [function(n, o, a) {
      const { StringPrototypeSlice: u, SymbolIterator: c, TypedArrayPrototypeSet: d, Uint8Array: f } = n("../../ours/primordials"), { Buffer: p } = n("buffer"), { inspect: _ } = n("../../ours/util");
      o.exports = class {
        constructor() {
          this.head = null, this.tail = null, this.length = 0;
        }
        push(g) {
          const y = {
            data: g,
            next: null
          };
          this.length > 0 ? this.tail.next = y : this.head = y, this.tail = y, ++this.length;
        }
        unshift(g) {
          const y = {
            data: g,
            next: this.head
          };
          this.length === 0 && (this.tail = y), this.head = y, ++this.length;
        }
        shift() {
          if (this.length === 0)
            return;
          const g = this.head.data;
          return this.length === 1 ? this.head = this.tail = null : this.head = this.head.next, --this.length, g;
        }
        clear() {
          this.head = this.tail = null, this.length = 0;
        }
        join(g) {
          if (this.length === 0)
            return "";
          let y = this.head, b = "" + y.data;
          for (; (y = y.next) !== null; )
            b += g + y.data;
          return b;
        }
        concat(g) {
          if (this.length === 0)
            return p.alloc(0);
          const y = p.allocUnsafe(g >>> 0);
          let b = this.head, A = 0;
          for (; b; )
            d(y, b.data, A), A += b.data.length, b = b.next;
          return y;
        }
        // Consumes a specified amount of bytes or characters from the buffered data.
        consume(g, y) {
          const b = this.head.data;
          if (g < b.length) {
            const A = b.slice(0, g);
            return this.head.data = b.slice(g), A;
          }
          return g === b.length ? this.shift() : y ? this._getString(g) : this._getBuffer(g);
        }
        first() {
          return this.head.data;
        }
        *[c]() {
          for (let g = this.head; g; g = g.next)
            yield g.data;
        }
        // Consumes a specified amount of characters from the buffered data.
        _getString(g) {
          let y = "", b = this.head, A = 0;
          do {
            const w = b.data;
            if (g > w.length)
              y += w, g -= w.length;
            else {
              g === w.length ? (y += w, ++A, b.next ? this.head = b.next : this.head = this.tail = null) : (y += u(w, 0, g), this.head = b, b.data = u(w, g));
              break;
            }
            ++A;
          } while ((b = b.next) !== null);
          return this.length -= A, y;
        }
        // Consumes a specified amount of bytes from the buffered data.
        _getBuffer(g) {
          const y = p.allocUnsafe(g), b = g;
          let A = this.head, w = 0;
          do {
            const S = A.data;
            if (g > S.length)
              d(y, S, b - g), g -= S.length;
            else {
              g === S.length ? (d(y, S, b - g), ++w, A.next ? this.head = A.next : this.head = this.tail = null) : (d(y, new f(S.buffer, S.byteOffset, g), b - g), this.head = A, A.data = S.slice(g));
              break;
            }
            ++w;
          } while ((A = A.next) !== null);
          return this.length -= w, y;
        }
        // Make sure the linked list only shows the minimal necessary information.
        [Symbol.for("nodejs.util.inspect.custom")](g, y) {
          return _(this, {
            ...y,
            // Only inspect one level.
            depth: 0,
            // It should not recurse.
            customInspect: !1
          });
        }
      };
    }, { "../../ours/primordials": 127, "../../ours/util": 128, buffer: 29 }], 109: [function(n, o, a) {
      const { pipeline: u } = n("./pipeline"), c = n("./duplex"), { destroyer: d } = n("./destroy"), {
        isNodeStream: f,
        isReadable: p,
        isWritable: _,
        isWebStream: v,
        isTransformStream: g,
        isWritableStream: y,
        isReadableStream: b
      } = n("./utils"), {
        AbortError: A,
        codes: { ERR_INVALID_ARG_VALUE: w, ERR_MISSING_ARGS: S }
      } = n("../../ours/errors"), T = n("./end-of-stream");
      o.exports = function(...L) {
        if (L.length === 0)
          throw new S("streams");
        if (L.length === 1)
          return c.from(L[0]);
        const O = [...L];
        if (typeof L[0] == "function" && (L[0] = c.from(L[0])), typeof L[L.length - 1] == "function") {
          const Ie = L.length - 1;
          L[Ie] = c.from(L[Ie]);
        }
        for (let Ie = 0; Ie < L.length; ++Ie)
          if (!(!f(L[Ie]) && !v(L[Ie]))) {
            if (Ie < L.length - 1 && !(p(L[Ie]) || b(L[Ie]) || g(L[Ie])))
              throw new w(`streams[${Ie}]`, O[Ie], "must be readable");
            if (Ie > 0 && !(_(L[Ie]) || y(L[Ie]) || g(L[Ie])))
              throw new w(`streams[${Ie}]`, O[Ie], "must be writable");
          }
        let M, k, ie, $, Y;
        function D(Ie) {
          const ze = $;
          $ = null, ze ? ze(Ie) : Ie ? Y.destroy(Ie) : !ue && !_e && Y.destroy();
        }
        const re = L[0], F = u(L, D), _e = !!(_(re) || y(re) || g(re)), ue = !!(p(F) || b(F) || g(F));
        if (Y = new c({
          // TODO (ronag): highWaterMark?
          writableObjectMode: !!(re != null && re.writableObjectMode),
          readableObjectMode: !!(F != null && F.writableObjectMode),
          writable: _e,
          readable: ue
        }), _e) {
          if (f(re))
            Y._write = function(ze, Fe, Oe) {
              re.write(ze, Fe) ? Oe() : M = Oe;
            }, Y._final = function(ze) {
              re.end(), k = ze;
            }, re.on("drain", function() {
              if (M) {
                const ze = M;
                M = null, ze();
              }
            });
          else if (v(re)) {
            const Fe = (g(re) ? re.writable : re).getWriter();
            Y._write = async function(Oe, Lt, pe) {
              try {
                await Fe.ready, Fe.write(Oe).catch(() => {
                }), pe();
              } catch (Cn) {
                pe(Cn);
              }
            }, Y._final = async function(Oe) {
              try {
                await Fe.ready, Fe.close().catch(() => {
                }), k = Oe;
              } catch (Lt) {
                Oe(Lt);
              }
            };
          }
          const Ie = g(F) ? F.readable : F;
          T(Ie, () => {
            if (k) {
              const ze = k;
              k = null, ze();
            }
          });
        }
        if (ue) {
          if (f(F))
            F.on("readable", function() {
              if (ie) {
                const Ie = ie;
                ie = null, Ie();
              }
            }), F.on("end", function() {
              Y.push(null);
            }), Y._read = function() {
              for (; ; ) {
                const Ie = F.read();
                if (Ie === null) {
                  ie = Y._read;
                  return;
                }
                if (!Y.push(Ie))
                  return;
              }
            };
          else if (v(F)) {
            const ze = (g(F) ? F.readable : F).getReader();
            Y._read = async function() {
              for (; ; )
                try {
                  const { value: Fe, done: Oe } = await ze.read();
                  if (!Y.push(Fe))
                    return;
                  if (Oe) {
                    Y.push(null);
                    return;
                  }
                } catch {
                  return;
                }
            };
          }
        }
        return Y._destroy = function(Ie, ze) {
          !Ie && $ !== null && (Ie = new A()), ie = null, M = null, k = null, $ === null ? ze(Ie) : ($ = ze, f(F) && d(F, Ie));
        }, Y;
      };
    }, { "../../ours/errors": 126, "./destroy": 110, "./duplex": 111, "./end-of-stream": 113, "./pipeline": 118, "./utils": 122 }], 110: [function(n, o, a) {
      const u = n("process/"), {
        aggregateTwoErrors: c,
        codes: { ERR_MULTIPLE_CALLBACK: d },
        AbortError: f
      } = n("../../ours/errors"), { Symbol: p } = n("../../ours/primordials"), { kDestroyed: _, isDestroyed: v, isFinished: g, isServerRequest: y } = n("./utils"), b = p("kDestroy"), A = p("kConstruct");
      function w(ue, Ie, ze) {
        ue && (ue.stack, Ie && !Ie.errored && (Ie.errored = ue), ze && !ze.errored && (ze.errored = ue));
      }
      function S(ue, Ie) {
        const ze = this._readableState, Fe = this._writableState, Oe = Fe || ze;
        return Fe != null && Fe.destroyed || ze != null && ze.destroyed ? (typeof Ie == "function" && Ie(), this) : (w(ue, Fe, ze), Fe && (Fe.destroyed = !0), ze && (ze.destroyed = !0), Oe.constructed ? T(this, ue, Ie) : this.once(b, function(Lt) {
          T(this, c(Lt, ue), Ie);
        }), this);
      }
      function T(ue, Ie, ze) {
        let Fe = !1;
        function Oe(Lt) {
          if (Fe)
            return;
          Fe = !0;
          const pe = ue._readableState, Cn = ue._writableState;
          w(Lt, Cn, pe), Cn && (Cn.closed = !0), pe && (pe.closed = !0), typeof ze == "function" && ze(Lt), Lt ? u.nextTick(x, ue, Lt) : u.nextTick(L, ue);
        }
        try {
          ue._destroy(Ie || null, Oe);
        } catch (Lt) {
          Oe(Lt);
        }
      }
      function x(ue, Ie) {
        O(ue, Ie), L(ue);
      }
      function L(ue) {
        const Ie = ue._readableState, ze = ue._writableState;
        ze && (ze.closeEmitted = !0), Ie && (Ie.closeEmitted = !0), (ze != null && ze.emitClose || Ie != null && Ie.emitClose) && ue.emit("close");
      }
      function O(ue, Ie) {
        const ze = ue._readableState, Fe = ue._writableState;
        Fe != null && Fe.errorEmitted || ze != null && ze.errorEmitted || (Fe && (Fe.errorEmitted = !0), ze && (ze.errorEmitted = !0), ue.emit("error", Ie));
      }
      function M() {
        const ue = this._readableState, Ie = this._writableState;
        ue && (ue.constructed = !0, ue.closed = !1, ue.closeEmitted = !1, ue.destroyed = !1, ue.errored = null, ue.errorEmitted = !1, ue.reading = !1, ue.ended = ue.readable === !1, ue.endEmitted = ue.readable === !1), Ie && (Ie.constructed = !0, Ie.destroyed = !1, Ie.closed = !1, Ie.closeEmitted = !1, Ie.errored = null, Ie.errorEmitted = !1, Ie.finalCalled = !1, Ie.prefinished = !1, Ie.ended = Ie.writable === !1, Ie.ending = Ie.writable === !1, Ie.finished = Ie.writable === !1);
      }
      function k(ue, Ie, ze) {
        const Fe = ue._readableState, Oe = ue._writableState;
        if (Oe != null && Oe.destroyed || Fe != null && Fe.destroyed)
          return this;
        Fe != null && Fe.autoDestroy || Oe != null && Oe.autoDestroy ? ue.destroy(Ie) : Ie && (Ie.stack, Oe && !Oe.errored && (Oe.errored = Ie), Fe && !Fe.errored && (Fe.errored = Ie), ze ? u.nextTick(O, ue, Ie) : O(ue, Ie));
      }
      function ie(ue, Ie) {
        if (typeof ue._construct != "function")
          return;
        const ze = ue._readableState, Fe = ue._writableState;
        ze && (ze.constructed = !1), Fe && (Fe.constructed = !1), ue.once(A, Ie), !(ue.listenerCount(A) > 1) && u.nextTick($, ue);
      }
      function $(ue) {
        let Ie = !1;
        function ze(Fe) {
          if (Ie) {
            k(ue, Fe ?? new d());
            return;
          }
          Ie = !0;
          const Oe = ue._readableState, Lt = ue._writableState, pe = Lt || Oe;
          Oe && (Oe.constructed = !0), Lt && (Lt.constructed = !0), pe.destroyed ? ue.emit(b, Fe) : Fe ? k(ue, Fe, !0) : u.nextTick(Y, ue);
        }
        try {
          ue._construct((Fe) => {
            u.nextTick(ze, Fe);
          });
        } catch (Fe) {
          u.nextTick(ze, Fe);
        }
      }
      function Y(ue) {
        ue.emit(A);
      }
      function D(ue) {
        return (ue == null ? void 0 : ue.setHeader) && typeof ue.abort == "function";
      }
      function re(ue) {
        ue.emit("close");
      }
      function F(ue, Ie) {
        ue.emit("error", Ie), u.nextTick(re, ue);
      }
      function _e(ue, Ie) {
        !ue || v(ue) || (!Ie && !g(ue) && (Ie = new f()), y(ue) ? (ue.socket = null, ue.destroy(Ie)) : D(ue) ? ue.abort() : D(ue.req) ? ue.req.abort() : typeof ue.destroy == "function" ? ue.destroy(Ie) : typeof ue.close == "function" ? ue.close() : Ie ? u.nextTick(F, ue, Ie) : u.nextTick(re, ue), ue.destroyed || (ue[_] = !0));
      }
      o.exports = {
        construct: ie,
        destroyer: _e,
        destroy: S,
        undestroy: M,
        errorOrDestroy: k
      };
    }, { "../../ours/errors": 126, "../../ours/primordials": 127, "./utils": 122, "process/": 102 }], 111: [function(n, o, a) {
      const {
        ObjectDefineProperties: u,
        ObjectGetOwnPropertyDescriptor: c,
        ObjectKeys: d,
        ObjectSetPrototypeOf: f
      } = n("../../ours/primordials");
      o.exports = v;
      const p = n("./readable"), _ = n("./writable");
      f(v.prototype, p.prototype), f(v, p);
      {
        const A = d(_.prototype);
        for (let w = 0; w < A.length; w++) {
          const S = A[w];
          v.prototype[S] || (v.prototype[S] = _.prototype[S]);
        }
      }
      function v(A) {
        if (!(this instanceof v))
          return new v(A);
        p.call(this, A), _.call(this, A), A ? (this.allowHalfOpen = A.allowHalfOpen !== !1, A.readable === !1 && (this._readableState.readable = !1, this._readableState.ended = !0, this._readableState.endEmitted = !0), A.writable === !1 && (this._writableState.writable = !1, this._writableState.ending = !0, this._writableState.ended = !0, this._writableState.finished = !0)) : this.allowHalfOpen = !0;
      }
      u(v.prototype, {
        writable: {
          __proto__: null,
          ...c(_.prototype, "writable")
        },
        writableHighWaterMark: {
          __proto__: null,
          ...c(_.prototype, "writableHighWaterMark")
        },
        writableObjectMode: {
          __proto__: null,
          ...c(_.prototype, "writableObjectMode")
        },
        writableBuffer: {
          __proto__: null,
          ...c(_.prototype, "writableBuffer")
        },
        writableLength: {
          __proto__: null,
          ...c(_.prototype, "writableLength")
        },
        writableFinished: {
          __proto__: null,
          ...c(_.prototype, "writableFinished")
        },
        writableCorked: {
          __proto__: null,
          ...c(_.prototype, "writableCorked")
        },
        writableEnded: {
          __proto__: null,
          ...c(_.prototype, "writableEnded")
        },
        writableNeedDrain: {
          __proto__: null,
          ...c(_.prototype, "writableNeedDrain")
        },
        destroyed: {
          __proto__: null,
          get() {
            return this._readableState === void 0 || this._writableState === void 0 ? !1 : this._readableState.destroyed && this._writableState.destroyed;
          },
          set(A) {
            this._readableState && this._writableState && (this._readableState.destroyed = A, this._writableState.destroyed = A);
          }
        }
      });
      let g;
      function y() {
        return g === void 0 && (g = {}), g;
      }
      v.fromWeb = function(A, w) {
        return y().newStreamDuplexFromReadableWritablePair(A, w);
      }, v.toWeb = function(A) {
        return y().newReadableWritablePairFromDuplex(A);
      };
      let b;
      v.from = function(A) {
        return b || (b = n("./duplexify")), b(A, "body");
      };
    }, { "../../ours/primordials": 127, "./duplexify": 112, "./readable": 119, "./writable": 123 }], 112: [function(n, o, a) {
      const u = n("process/"), c = n("buffer"), {
        isReadable: d,
        isWritable: f,
        isIterable: p,
        isNodeStream: _,
        isReadableNodeStream: v,
        isWritableNodeStream: g,
        isDuplexNodeStream: y
      } = n("./utils"), b = n("./end-of-stream"), {
        AbortError: A,
        codes: { ERR_INVALID_ARG_TYPE: w, ERR_INVALID_RETURN_VALUE: S }
      } = n("../../ours/errors"), { destroyer: T } = n("./destroy"), x = n("./duplex"), L = n("./readable"), { createDeferredPromise: O } = n("../../ours/util"), M = n("./from"), k = globalThis.Blob || c.Blob, ie = typeof k < "u" ? function(ue) {
        return ue instanceof k;
      } : function(ue) {
        return !1;
      }, $ = globalThis.AbortController || n("abort-controller").AbortController, { FunctionPrototypeCall: Y } = n("../../ours/primordials");
      class D extends x {
        constructor(ue) {
          super(ue), (ue == null ? void 0 : ue.readable) === !1 && (this._readableState.readable = !1, this._readableState.ended = !0, this._readableState.endEmitted = !0), (ue == null ? void 0 : ue.writable) === !1 && (this._writableState.writable = !1, this._writableState.ending = !0, this._writableState.ended = !0, this._writableState.finished = !0);
        }
      }
      o.exports = function _e(ue, Ie) {
        if (y(ue))
          return ue;
        if (v(ue))
          return F({
            readable: ue
          });
        if (g(ue))
          return F({
            writable: ue
          });
        if (_(ue))
          return F({
            writable: !1,
            readable: !1
          });
        if (typeof ue == "function") {
          const { value: Fe, write: Oe, final: Lt, destroy: pe } = re(ue);
          if (p(Fe))
            return M(D, Fe, {
              // TODO (ronag): highWaterMark?
              objectMode: !0,
              write: Oe,
              final: Lt,
              destroy: pe
            });
          const Cn = Fe == null ? void 0 : Fe.then;
          if (typeof Cn == "function") {
            let In;
            const Dt = Y(
              Cn,
              Fe,
              (he) => {
                if (he != null)
                  throw new S("nully", "body", he);
              },
              (he) => {
                T(In, he);
              }
            );
            return In = new D({
              // TODO (ronag): highWaterMark?
              objectMode: !0,
              readable: !1,
              write: Oe,
              final(he) {
                Lt(async () => {
                  try {
                    await Dt, u.nextTick(he, null);
                  } catch (Et) {
                    u.nextTick(he, Et);
                  }
                });
              },
              destroy: pe
            });
          }
          throw new S("Iterable, AsyncIterable or AsyncFunction", Ie, Fe);
        }
        if (ie(ue))
          return _e(ue.arrayBuffer());
        if (p(ue))
          return M(D, ue, {
            // TODO (ronag): highWaterMark?
            objectMode: !0,
            writable: !1
          });
        if (typeof (ue == null ? void 0 : ue.writable) == "object" || typeof (ue == null ? void 0 : ue.readable) == "object") {
          const Fe = ue != null && ue.readable ? v(ue == null ? void 0 : ue.readable) ? ue == null ? void 0 : ue.readable : _e(ue.readable) : void 0, Oe = ue != null && ue.writable ? g(ue == null ? void 0 : ue.writable) ? ue == null ? void 0 : ue.writable : _e(ue.writable) : void 0;
          return F({
            readable: Fe,
            writable: Oe
          });
        }
        const ze = ue == null ? void 0 : ue.then;
        if (typeof ze == "function") {
          let Fe;
          return Y(
            ze,
            ue,
            (Oe) => {
              Oe != null && Fe.push(Oe), Fe.push(null);
            },
            (Oe) => {
              T(Fe, Oe);
            }
          ), Fe = new D({
            objectMode: !0,
            writable: !1,
            read() {
            }
          });
        }
        throw new w(
          Ie,
          [
            "Blob",
            "ReadableStream",
            "WritableStream",
            "Stream",
            "Iterable",
            "AsyncIterable",
            "Function",
            "{ readable, writable } pair",
            "Promise"
          ],
          ue
        );
      };
      function re(_e) {
        let { promise: ue, resolve: Ie } = O();
        const ze = new $(), Fe = ze.signal;
        return {
          value: _e(
            async function* () {
              for (; ; ) {
                const Lt = ue;
                ue = null;
                const { chunk: pe, done: Cn, cb: In } = await Lt;
                if (u.nextTick(In), Cn)
                  return;
                if (Fe.aborted)
                  throw new A(void 0, {
                    cause: Fe.reason
                  });
                ({ promise: ue, resolve: Ie } = O()), yield pe;
              }
            }(),
            {
              signal: Fe
            }
          ),
          write(Lt, pe, Cn) {
            const In = Ie;
            Ie = null, In({
              chunk: Lt,
              done: !1,
              cb: Cn
            });
          },
          final(Lt) {
            const pe = Ie;
            Ie = null, pe({
              done: !0,
              cb: Lt
            });
          },
          destroy(Lt, pe) {
            ze.abort(), pe(Lt);
          }
        };
      }
      function F(_e) {
        const ue = _e.readable && typeof _e.readable.read != "function" ? L.wrap(_e.readable) : _e.readable, Ie = _e.writable;
        let ze = !!d(ue), Fe = !!f(Ie), Oe, Lt, pe, Cn, In;
        function Dt(he) {
          const Et = Cn;
          Cn = null, Et ? Et(he) : he && In.destroy(he);
        }
        return In = new D({
          // TODO (ronag): highWaterMark?
          readableObjectMode: !!(ue != null && ue.readableObjectMode),
          writableObjectMode: !!(Ie != null && Ie.writableObjectMode),
          readable: ze,
          writable: Fe
        }), Fe && (b(Ie, (he) => {
          Fe = !1, he && T(ue, he), Dt(he);
        }), In._write = function(he, Et, hn) {
          Ie.write(he, Et) ? hn() : Oe = hn;
        }, In._final = function(he) {
          Ie.end(), Lt = he;
        }, Ie.on("drain", function() {
          if (Oe) {
            const he = Oe;
            Oe = null, he();
          }
        }), Ie.on("finish", function() {
          if (Lt) {
            const he = Lt;
            Lt = null, he();
          }
        })), ze && (b(ue, (he) => {
          ze = !1, he && T(ue, he), Dt(he);
        }), ue.on("readable", function() {
          if (pe) {
            const he = pe;
            pe = null, he();
          }
        }), ue.on("end", function() {
          In.push(null);
        }), In._read = function() {
          for (; ; ) {
            const he = ue.read();
            if (he === null) {
              pe = In._read;
              return;
            }
            if (!In.push(he))
              return;
          }
        }), In._destroy = function(he, Et) {
          !he && Cn !== null && (he = new A()), pe = null, Oe = null, Lt = null, Cn === null ? Et(he) : (Cn = Et, T(Ie, he), T(ue, he));
        }, In;
      }
    }, { "../../ours/errors": 126, "../../ours/primordials": 127, "../../ours/util": 128, "./destroy": 110, "./duplex": 111, "./end-of-stream": 113, "./from": 114, "./readable": 119, "./utils": 122, "abort-controller": 24, buffer: 29, "process/": 102 }], 113: [function(n, o, a) {
      const u = n("process/"), { AbortError: c, codes: d } = n("../../ours/errors"), { ERR_INVALID_ARG_TYPE: f, ERR_STREAM_PREMATURE_CLOSE: p } = d, { kEmptyObject: _, once: v } = n("../../ours/util"), { validateAbortSignal: g, validateFunction: y, validateObject: b, validateBoolean: A } = n("../validators"), { Promise: w, PromisePrototypeThen: S } = n("../../ours/primordials"), {
        isClosed: T,
        isReadable: x,
        isReadableNodeStream: L,
        isReadableStream: O,
        isReadableFinished: M,
        isReadableErrored: k,
        isWritable: ie,
        isWritableNodeStream: $,
        isWritableStream: Y,
        isWritableFinished: D,
        isWritableErrored: re,
        isNodeStream: F,
        willEmitClose: _e,
        kIsClosedPromise: ue
      } = n("./utils");
      function Ie(pe) {
        return pe.setHeader && typeof pe.abort == "function";
      }
      const ze = () => {
      };
      function Fe(pe, Cn, In) {
        var Dt, he;
        if (arguments.length === 2 ? (In = Cn, Cn = _) : Cn == null ? Cn = _ : b(Cn, "options"), y(In, "callback"), g(Cn.signal, "options.signal"), In = v(In), O(pe) || Y(pe))
          return Oe(pe, Cn, In);
        if (!F(pe))
          throw new f("stream", ["ReadableStream", "WritableStream", "Stream"], pe);
        const Et = (Dt = Cn.readable) !== null && Dt !== void 0 ? Dt : L(pe), hn = (he = Cn.writable) !== null && he !== void 0 ? he : $(pe), vn = pe._writableState, kt = pe._readableState, Ce = () => {
          pe.writable || Ne();
        };
        let de = _e(pe) && L(pe) === Et && $(pe) === hn, Ue = D(pe, !1);
        const Ne = () => {
          Ue = !0, pe.destroyed && (de = !1), !(de && (!pe.readable || Et)) && (!Et || Ve) && In.call(pe);
        };
        let Ve = M(pe, !1);
        const Pt = () => {
          Ve = !0, pe.destroyed && (de = !1), !(de && (!pe.writable || hn)) && (!hn || Ue) && In.call(pe);
        }, jt = (z) => {
          In.call(pe, z);
        };
        let _n = T(pe);
        const oe = () => {
          _n = !0;
          const z = re(pe) || k(pe);
          if (z && typeof z != "boolean")
            return In.call(pe, z);
          if (Et && !Ve && L(pe, !0) && !M(pe, !1))
            return In.call(pe, new p());
          if (hn && !Ue && !D(pe, !1))
            return In.call(pe, new p());
          In.call(pe);
        }, le = () => {
          _n = !0;
          const z = re(pe) || k(pe);
          if (z && typeof z != "boolean")
            return In.call(pe, z);
          In.call(pe);
        }, j = () => {
          pe.req.on("finish", Ne);
        };
        Ie(pe) ? (pe.on("complete", Ne), de || pe.on("abort", oe), pe.req ? j() : pe.on("request", j)) : hn && !vn && (pe.on("end", Ce), pe.on("close", Ce)), !de && typeof pe.aborted == "boolean" && pe.on("aborted", oe), pe.on("end", Pt), pe.on("finish", Ne), Cn.error !== !1 && pe.on("error", jt), pe.on("close", oe), _n ? u.nextTick(oe) : vn != null && vn.errorEmitted || kt != null && kt.errorEmitted ? de || u.nextTick(le) : (!Et && (!de || x(pe)) && (Ue || ie(pe) === !1) || !hn && (!de || ie(pe)) && (Ve || x(pe) === !1) || kt && pe.req && pe.aborted) && u.nextTick(le);
        const V = () => {
          In = ze, pe.removeListener("aborted", oe), pe.removeListener("complete", Ne), pe.removeListener("abort", oe), pe.removeListener("request", j), pe.req && pe.req.removeListener("finish", Ne), pe.removeListener("end", Ce), pe.removeListener("close", Ce), pe.removeListener("finish", Ne), pe.removeListener("end", Pt), pe.removeListener("error", jt), pe.removeListener("close", oe);
        };
        if (Cn.signal && !_n) {
          const z = () => {
            const ae = In;
            V(), ae.call(
              pe,
              new c(void 0, {
                cause: Cn.signal.reason
              })
            );
          };
          if (Cn.signal.aborted)
            u.nextTick(z);
          else {
            const ae = In;
            In = v((...xe) => {
              Cn.signal.removeEventListener("abort", z), ae.apply(pe, xe);
            }), Cn.signal.addEventListener("abort", z);
          }
        }
        return V;
      }
      function Oe(pe, Cn, In) {
        let Dt = !1, he = ze;
        if (Cn.signal)
          if (he = () => {
            Dt = !0, In.call(
              pe,
              new c(void 0, {
                cause: Cn.signal.reason
              })
            );
          }, Cn.signal.aborted)
            u.nextTick(he);
          else {
            const hn = In;
            In = v((...vn) => {
              Cn.signal.removeEventListener("abort", he), hn.apply(pe, vn);
            }), Cn.signal.addEventListener("abort", he);
          }
        const Et = (...hn) => {
          Dt || u.nextTick(() => In.apply(pe, hn));
        };
        return S(pe[ue].promise, Et, Et), ze;
      }
      function Lt(pe, Cn) {
        var In;
        let Dt = !1;
        return Cn === null && (Cn = _), (In = Cn) !== null && In !== void 0 && In.cleanup && (A(Cn.cleanup, "cleanup"), Dt = Cn.cleanup), new w((he, Et) => {
          const hn = Fe(pe, Cn, (vn) => {
            Dt && hn(), vn ? Et(vn) : he();
          });
        });
      }
      o.exports = Fe, o.exports.finished = Lt;
    }, { "../../ours/errors": 126, "../../ours/primordials": 127, "../../ours/util": 128, "../validators": 124, "./utils": 122, "process/": 102 }], 114: [function(n, o, a) {
      const u = n("process/"), { PromisePrototypeThen: c, SymbolAsyncIterator: d, SymbolIterator: f } = n("../../ours/primordials"), { Buffer: p } = n("buffer"), { ERR_INVALID_ARG_TYPE: _, ERR_STREAM_NULL_VALUES: v } = n("../../ours/errors").codes;
      function g(y, b, A) {
        let w;
        if (typeof b == "string" || b instanceof p)
          return new y({
            objectMode: !0,
            ...A,
            read() {
              this.push(b), this.push(null);
            }
          });
        let S;
        if (b && b[d])
          S = !0, w = b[d]();
        else if (b && b[f])
          S = !1, w = b[f]();
        else
          throw new _("iterable", ["Iterable"], b);
        const T = new y({
          objectMode: !0,
          highWaterMark: 1,
          // TODO(ronag): What options should be allowed?
          ...A
        });
        let x = !1;
        T._read = function() {
          x || (x = !0, O());
        }, T._destroy = function(M, k) {
          c(
            L(M),
            () => u.nextTick(k, M),
            // nextTick is here in case cb throws
            (ie) => u.nextTick(k, ie || M)
          );
        };
        async function L(M) {
          const k = M != null, ie = typeof w.throw == "function";
          if (k && ie) {
            const { value: $, done: Y } = await w.throw(M);
            if (await $, Y)
              return;
          }
          if (typeof w.return == "function") {
            const { value: $ } = await w.return();
            await $;
          }
        }
        async function O() {
          for (; ; ) {
            try {
              const { value: M, done: k } = S ? await w.next() : w.next();
              if (k)
                T.push(null);
              else {
                const ie = M && typeof M.then == "function" ? await M : M;
                if (ie === null)
                  throw x = !1, new v();
                if (T.push(ie))
                  continue;
                x = !1;
              }
            } catch (M) {
              T.destroy(M);
            }
            break;
          }
        }
        return T;
      }
      o.exports = g;
    }, { "../../ours/errors": 126, "../../ours/primordials": 127, buffer: 29, "process/": 102 }], 115: [function(n, o, a) {
      const { ArrayIsArray: u, ObjectSetPrototypeOf: c } = n("../../ours/primordials"), { EventEmitter: d } = n("events");
      function f(_) {
        d.call(this, _);
      }
      c(f.prototype, d.prototype), c(f, d), f.prototype.pipe = function(_, v) {
        const g = this;
        function y(L) {
          _.writable && _.write(L) === !1 && g.pause && g.pause();
        }
        g.on("data", y);
        function b() {
          g.readable && g.resume && g.resume();
        }
        _.on("drain", b), !_._isStdio && (!v || v.end !== !1) && (g.on("end", w), g.on("close", S));
        let A = !1;
        function w() {
          A || (A = !0, _.end());
        }
        function S() {
          A || (A = !0, typeof _.destroy == "function" && _.destroy());
        }
        function T(L) {
          x(), d.listenerCount(this, "error") === 0 && this.emit("error", L);
        }
        p(g, "error", T), p(_, "error", T);
        function x() {
          g.removeListener("data", y), _.removeListener("drain", b), g.removeListener("end", w), g.removeListener("close", S), g.removeListener("error", T), _.removeListener("error", T), g.removeListener("end", x), g.removeListener("close", x), _.removeListener("close", x);
        }
        return g.on("end", x), g.on("close", x), _.on("close", x), _.emit("pipe", g), _;
      };
      function p(_, v, g) {
        if (typeof _.prependListener == "function")
          return _.prependListener(v, g);
        !_._events || !_._events[v] ? _.on(v, g) : u(_._events[v]) ? _._events[v].unshift(g) : _._events[v] = [g, _._events[v]];
      }
      o.exports = {
        Stream: f,
        prependListener: p
      };
    }, { "../../ours/primordials": 127, events: 49 }], 116: [function(n, o, a) {
      const u = globalThis.AbortController || n("abort-controller").AbortController, {
        codes: { ERR_INVALID_ARG_VALUE: c, ERR_INVALID_ARG_TYPE: d, ERR_MISSING_ARGS: f, ERR_OUT_OF_RANGE: p },
        AbortError: _
      } = n("../../ours/errors"), { validateAbortSignal: v, validateInteger: g, validateObject: y } = n("../validators"), b = n("../../ours/primordials").Symbol("kWeak"), { finished: A } = n("./end-of-stream"), w = n("./compose"), { addAbortSignalNoValidate: S } = n("./add-abort-signal"), { isWritable: T, isNodeStream: x } = n("./utils"), {
        ArrayPrototypePush: L,
        MathFloor: O,
        Number: M,
        NumberIsNaN: k,
        Promise: ie,
        PromiseReject: $,
        PromisePrototypeThen: Y,
        Symbol: D
      } = n("../../ours/primordials"), re = D("kEmpty"), F = D("kEof");
      function _e(kt, Ce) {
        if (Ce != null && y(Ce, "options"), (Ce == null ? void 0 : Ce.signal) != null && v(Ce.signal, "options.signal"), x(kt) && !T(kt))
          throw new c("stream", kt, "must be writable");
        const de = w(this, kt);
        return Ce != null && Ce.signal && S(Ce.signal, de), de;
      }
      function ue(kt, Ce) {
        if (typeof kt != "function")
          throw new d("fn", ["Function", "AsyncFunction"], kt);
        Ce != null && y(Ce, "options"), (Ce == null ? void 0 : Ce.signal) != null && v(Ce.signal, "options.signal");
        let de = 1;
        return (Ce == null ? void 0 : Ce.concurrency) != null && (de = O(Ce.concurrency)), g(de, "concurrency", 1), (async function* () {
          var Ne, Ve;
          const Pt = new u(), jt = this, _n = [], oe = Pt.signal, le = {
            signal: oe
          }, j = () => Pt.abort();
          Ce != null && (Ne = Ce.signal) !== null && Ne !== void 0 && Ne.aborted && j(), Ce == null || (Ve = Ce.signal) === null || Ve === void 0 || Ve.addEventListener("abort", j);
          let V, z, ae = !1;
          function xe() {
            ae = !0;
          }
          async function qe() {
            try {
              for await (let xn of jt) {
                var bn;
                if (ae)
                  return;
                if (oe.aborted)
                  throw new _();
                try {
                  xn = kt(xn, le);
                } catch (Rn) {
                  xn = $(Rn);
                }
                xn !== re && (typeof ((bn = xn) === null || bn === void 0 ? void 0 : bn.catch) == "function" && xn.catch(xe), _n.push(xn), V && (V(), V = null), !ae && _n.length && _n.length >= de && await new ie((Rn) => {
                  z = Rn;
                }));
              }
              _n.push(F);
            } catch (xn) {
              const Rn = $(xn);
              Y(Rn, void 0, xe), _n.push(Rn);
            } finally {
              var Sn;
              ae = !0, V && (V(), V = null), Ce == null || (Sn = Ce.signal) === null || Sn === void 0 || Sn.removeEventListener("abort", j);
            }
          }
          qe();
          try {
            for (; ; ) {
              for (; _n.length > 0; ) {
                const bn = await _n[0];
                if (bn === F)
                  return;
                if (oe.aborted)
                  throw new _();
                bn !== re && (yield bn), _n.shift(), z && (z(), z = null);
              }
              await new ie((bn) => {
                V = bn;
              });
            }
          } finally {
            Pt.abort(), ae = !0, z && (z(), z = null);
          }
        }).call(this);
      }
      function Ie(kt = void 0) {
        return kt != null && y(kt, "options"), (kt == null ? void 0 : kt.signal) != null && v(kt.signal, "options.signal"), (async function* () {
          let de = 0;
          for await (const Ne of this) {
            var Ue;
            if (kt != null && (Ue = kt.signal) !== null && Ue !== void 0 && Ue.aborted)
              throw new _({
                cause: kt.signal.reason
              });
            yield [de++, Ne];
          }
        }).call(this);
      }
      async function ze(kt, Ce = void 0) {
        for await (const de of pe.call(this, kt, Ce))
          return !0;
        return !1;
      }
      async function Fe(kt, Ce = void 0) {
        if (typeof kt != "function")
          throw new d("fn", ["Function", "AsyncFunction"], kt);
        return !await ze.call(
          this,
          async (...de) => !await kt(...de),
          Ce
        );
      }
      async function Oe(kt, Ce) {
        for await (const de of pe.call(this, kt, Ce))
          return de;
      }
      async function Lt(kt, Ce) {
        if (typeof kt != "function")
          throw new d("fn", ["Function", "AsyncFunction"], kt);
        async function de(Ue, Ne) {
          return await kt(Ue, Ne), re;
        }
        for await (const Ue of ue.call(this, de, Ce))
          ;
      }
      function pe(kt, Ce) {
        if (typeof kt != "function")
          throw new d("fn", ["Function", "AsyncFunction"], kt);
        async function de(Ue, Ne) {
          return await kt(Ue, Ne) ? Ue : re;
        }
        return ue.call(this, de, Ce);
      }
      class Cn extends f {
        constructor() {
          super("reduce"), this.message = "Reduce of an empty stream requires an initial value";
        }
      }
      async function In(kt, Ce, de) {
        var Ue;
        if (typeof kt != "function")
          throw new d("reducer", ["Function", "AsyncFunction"], kt);
        de != null && y(de, "options"), (de == null ? void 0 : de.signal) != null && v(de.signal, "options.signal");
        let Ne = arguments.length > 1;
        if (de != null && (Ue = de.signal) !== null && Ue !== void 0 && Ue.aborted) {
          const oe = new _(void 0, {
            cause: de.signal.reason
          });
          throw this.once("error", () => {
          }), await A(this.destroy(oe)), oe;
        }
        const Ve = new u(), Pt = Ve.signal;
        if (de != null && de.signal) {
          const oe = {
            once: !0,
            [b]: this
          };
          de.signal.addEventListener("abort", () => Ve.abort(), oe);
        }
        let jt = !1;
        try {
          for await (const oe of this) {
            var _n;
            if (jt = !0, de != null && (_n = de.signal) !== null && _n !== void 0 && _n.aborted)
              throw new _();
            Ne ? Ce = await kt(Ce, oe, {
              signal: Pt
            }) : (Ce = oe, Ne = !0);
          }
          if (!jt && !Ne)
            throw new Cn();
        } finally {
          Ve.abort();
        }
        return Ce;
      }
      async function Dt(kt) {
        kt != null && y(kt, "options"), (kt == null ? void 0 : kt.signal) != null && v(kt.signal, "options.signal");
        const Ce = [];
        for await (const Ue of this) {
          var de;
          if (kt != null && (de = kt.signal) !== null && de !== void 0 && de.aborted)
            throw new _(void 0, {
              cause: kt.signal.reason
            });
          L(Ce, Ue);
        }
        return Ce;
      }
      function he(kt, Ce) {
        const de = ue.call(this, kt, Ce);
        return (async function* () {
          for await (const Ne of de)
            yield* Ne;
        }).call(this);
      }
      function Et(kt) {
        if (kt = M(kt), k(kt))
          return 0;
        if (kt < 0)
          throw new p("number", ">= 0", kt);
        return kt;
      }
      function hn(kt, Ce = void 0) {
        return Ce != null && y(Ce, "options"), (Ce == null ? void 0 : Ce.signal) != null && v(Ce.signal, "options.signal"), kt = Et(kt), (async function* () {
          var Ue;
          if (Ce != null && (Ue = Ce.signal) !== null && Ue !== void 0 && Ue.aborted)
            throw new _();
          for await (const Ve of this) {
            var Ne;
            if (Ce != null && (Ne = Ce.signal) !== null && Ne !== void 0 && Ne.aborted)
              throw new _();
            kt-- <= 0 && (yield Ve);
          }
        }).call(this);
      }
      function vn(kt, Ce = void 0) {
        return Ce != null && y(Ce, "options"), (Ce == null ? void 0 : Ce.signal) != null && v(Ce.signal, "options.signal"), kt = Et(kt), (async function* () {
          var Ue;
          if (Ce != null && (Ue = Ce.signal) !== null && Ue !== void 0 && Ue.aborted)
            throw new _();
          for await (const Ve of this) {
            var Ne;
            if (Ce != null && (Ne = Ce.signal) !== null && Ne !== void 0 && Ne.aborted)
              throw new _();
            if (kt-- > 0)
              yield Ve;
            else
              return;
          }
        }).call(this);
      }
      o.exports.streamReturningOperators = {
        asIndexedPairs: Ie,
        drop: hn,
        filter: pe,
        flatMap: he,
        map: ue,
        take: vn,
        compose: _e
      }, o.exports.promiseReturningOperators = {
        every: Fe,
        forEach: Lt,
        reduce: In,
        toArray: Dt,
        some: ze,
        find: Oe
      };
    }, { "../../ours/errors": 126, "../../ours/primordials": 127, "../validators": 124, "./add-abort-signal": 107, "./compose": 109, "./end-of-stream": 113, "./utils": 122, "abort-controller": 24 }], 117: [function(n, o, a) {
      const { ObjectSetPrototypeOf: u } = n("../../ours/primordials");
      o.exports = d;
      const c = n("./transform");
      u(d.prototype, c.prototype), u(d, c);
      function d(f) {
        if (!(this instanceof d))
          return new d(f);
        c.call(this, f);
      }
      d.prototype._transform = function(f, p, _) {
        _(null, f);
      };
    }, { "../../ours/primordials": 127, "./transform": 121 }], 118: [function(n, o, a) {
      const u = n("process/"), { ArrayIsArray: c, Promise: d, SymbolAsyncIterator: f } = n("../../ours/primordials"), p = n("./end-of-stream"), { once: _ } = n("../../ours/util"), v = n("./destroy"), g = n("./duplex"), {
        aggregateTwoErrors: y,
        codes: {
          ERR_INVALID_ARG_TYPE: b,
          ERR_INVALID_RETURN_VALUE: A,
          ERR_MISSING_ARGS: w,
          ERR_STREAM_DESTROYED: S,
          ERR_STREAM_PREMATURE_CLOSE: T
        },
        AbortError: x
      } = n("../../ours/errors"), { validateFunction: L, validateAbortSignal: O } = n("../validators"), {
        isIterable: M,
        isReadable: k,
        isReadableNodeStream: ie,
        isNodeStream: $,
        isTransformStream: Y,
        isWebStream: D,
        isReadableStream: re,
        isReadableEnded: F
      } = n("./utils"), _e = globalThis.AbortController || n("abort-controller").AbortController;
      let ue, Ie;
      function ze(Et, hn, vn) {
        let kt = !1;
        Et.on("close", () => {
          kt = !0;
        });
        const Ce = p(
          Et,
          {
            readable: hn,
            writable: vn
          },
          (de) => {
            kt = !de;
          }
        );
        return {
          destroy: (de) => {
            kt || (kt = !0, v.destroyer(Et, de || new S("pipe")));
          },
          cleanup: Ce
        };
      }
      function Fe(Et) {
        return L(Et[Et.length - 1], "streams[stream.length - 1]"), Et.pop();
      }
      function Oe(Et) {
        if (M(Et))
          return Et;
        if (ie(Et))
          return Lt(Et);
        throw new b("val", ["Readable", "Iterable", "AsyncIterable"], Et);
      }
      async function* Lt(Et) {
        Ie || (Ie = n("./readable")), yield* Ie.prototype[f].call(Et);
      }
      async function pe(Et, hn, vn, { end: kt }) {
        let Ce, de = null;
        const Ue = (Pt) => {
          if (Pt && (Ce = Pt), de) {
            const jt = de;
            de = null, jt();
          }
        }, Ne = () => new d((Pt, jt) => {
          Ce ? jt(Ce) : de = () => {
            Ce ? jt(Ce) : Pt();
          };
        });
        hn.on("drain", Ue);
        const Ve = p(
          hn,
          {
            readable: !1
          },
          Ue
        );
        try {
          hn.writableNeedDrain && await Ne();
          for await (const Pt of Et)
            hn.write(Pt) || await Ne();
          kt && hn.end(), await Ne(), vn();
        } catch (Pt) {
          vn(Ce !== Pt ? y(Ce, Pt) : Pt);
        } finally {
          Ve(), hn.off("drain", Ue);
        }
      }
      async function Cn(Et, hn, vn, { end: kt }) {
        Y(hn) && (hn = hn.writable);
        const Ce = hn.getWriter();
        try {
          for await (const de of Et)
            await Ce.ready, Ce.write(de).catch(() => {
            });
          await Ce.ready, kt && await Ce.close(), vn();
        } catch (de) {
          try {
            await Ce.abort(de), vn(de);
          } catch (Ue) {
            vn(Ue);
          }
        }
      }
      function In(...Et) {
        return Dt(Et, _(Fe(Et)));
      }
      function Dt(Et, hn, vn) {
        if (Et.length === 1 && c(Et[0]) && (Et = Et[0]), Et.length < 2)
          throw new w("streams");
        const kt = new _e(), Ce = kt.signal, de = vn == null ? void 0 : vn.signal, Ue = [];
        O(de, "options.signal");
        function Ne() {
          le(new x());
        }
        de == null || de.addEventListener("abort", Ne);
        let Ve, Pt;
        const jt = [];
        let _n = 0;
        function oe(ae) {
          le(ae, --_n === 0);
        }
        function le(ae, xe) {
          if (ae && (!Ve || Ve.code === "ERR_STREAM_PREMATURE_CLOSE") && (Ve = ae), !(!Ve && !xe)) {
            for (; jt.length; )
              jt.shift()(Ve);
            de == null || de.removeEventListener("abort", Ne), kt.abort(), xe && (Ve || Ue.forEach((qe) => qe()), u.nextTick(hn, Ve, Pt));
          }
        }
        let j;
        for (let ae = 0; ae < Et.length; ae++) {
          const xe = Et[ae], qe = ae < Et.length - 1, bn = ae > 0, Sn = qe || (vn == null ? void 0 : vn.end) !== !1, xn = ae === Et.length - 1;
          if ($(xe)) {
            let Rn = function($e) {
              $e && $e.name !== "AbortError" && $e.code !== "ERR_STREAM_PREMATURE_CLOSE" && oe($e);
            };
            if (Sn) {
              const { destroy: $e, cleanup: At } = ze(xe, qe, bn);
              jt.push($e), k(xe) && xn && Ue.push(At);
            }
            xe.on("error", Rn), k(xe) && xn && Ue.push(() => {
              xe.removeListener("error", Rn);
            });
          }
          if (ae === 0)
            if (typeof xe == "function") {
              if (j = xe({
                signal: Ce
              }), !M(j))
                throw new A("Iterable, AsyncIterable or Stream", "source", j);
            } else
              M(xe) || ie(xe) || Y(xe) ? j = xe : j = g.from(xe);
          else if (typeof xe == "function") {
            if (Y(j)) {
              var V;
              j = Oe((V = j) === null || V === void 0 ? void 0 : V.readable);
            } else
              j = Oe(j);
            if (j = xe(j, {
              signal: Ce
            }), qe) {
              if (!M(j, !0))
                throw new A("AsyncIterable", `transform[${ae - 1}]`, j);
            } else {
              var z;
              ue || (ue = n("./passthrough"));
              const Rn = new ue({
                objectMode: !0
              }), $e = (z = j) === null || z === void 0 ? void 0 : z.then;
              if (typeof $e == "function")
                _n++, $e.call(
                  j,
                  (wn) => {
                    Pt = wn, wn != null && Rn.write(wn), Sn && Rn.end(), u.nextTick(oe);
                  },
                  (wn) => {
                    Rn.destroy(wn), u.nextTick(oe, wn);
                  }
                );
              else if (M(j, !0))
                _n++, pe(j, Rn, oe, {
                  end: Sn
                });
              else if (re(j) || Y(j)) {
                const wn = j.readable || j;
                _n++, pe(wn, Rn, oe, {
                  end: Sn
                });
              } else
                throw new A("AsyncIterable or Promise", "destination", j);
              j = Rn;
              const { destroy: At, cleanup: En } = ze(j, !1, !0);
              jt.push(At), xn && Ue.push(En);
            }
          } else if ($(xe)) {
            if (ie(j)) {
              _n += 2;
              const Rn = he(j, xe, oe, {
                end: Sn
              });
              k(xe) && xn && Ue.push(Rn);
            } else if (Y(j) || re(j)) {
              const Rn = j.readable || j;
              _n++, pe(Rn, xe, oe, {
                end: Sn
              });
            } else if (M(j))
              _n++, pe(j, xe, oe, {
                end: Sn
              });
            else
              throw new b(
                "val",
                ["Readable", "Iterable", "AsyncIterable", "ReadableStream", "TransformStream"],
                j
              );
            j = xe;
          } else if (D(xe)) {
            if (ie(j))
              _n++, Cn(Oe(j), xe, oe, {
                end: Sn
              });
            else if (re(j) || M(j))
              _n++, Cn(j, xe, oe, {
                end: Sn
              });
            else if (Y(j))
              _n++, Cn(j.readable, xe, oe, {
                end: Sn
              });
            else
              throw new b(
                "val",
                ["Readable", "Iterable", "AsyncIterable", "ReadableStream", "TransformStream"],
                j
              );
            j = xe;
          } else
            j = g.from(xe);
        }
        return (Ce != null && Ce.aborted || de != null && de.aborted) && u.nextTick(Ne), j;
      }
      function he(Et, hn, vn, { end: kt }) {
        let Ce = !1;
        if (hn.on("close", () => {
          Ce || vn(new T());
        }), Et.pipe(hn, {
          end: !1
        }), kt) {
          let de = function() {
            Ce = !0, hn.end();
          };
          F(Et) ? u.nextTick(de) : Et.once("end", de);
        } else
          vn();
        return p(
          Et,
          {
            readable: !0,
            writable: !1
          },
          (de) => {
            const Ue = Et._readableState;
            de && de.code === "ERR_STREAM_PREMATURE_CLOSE" && Ue && Ue.ended && !Ue.errored && !Ue.errorEmitted ? Et.once("end", vn).once("error", vn) : vn(de);
          }
        ), p(
          hn,
          {
            readable: !1,
            writable: !0
          },
          vn
        );
      }
      o.exports = {
        pipelineImpl: Dt,
        pipeline: In
      };
    }, { "../../ours/errors": 126, "../../ours/primordials": 127, "../../ours/util": 128, "../validators": 124, "./destroy": 110, "./duplex": 111, "./end-of-stream": 113, "./passthrough": 117, "./readable": 119, "./utils": 122, "abort-controller": 24, "process/": 102 }], 119: [function(n, o, a) {
      const u = n("process/"), {
        ArrayPrototypeIndexOf: c,
        NumberIsInteger: d,
        NumberIsNaN: f,
        NumberParseInt: p,
        ObjectDefineProperties: _,
        ObjectKeys: v,
        ObjectSetPrototypeOf: g,
        Promise: y,
        SafeSet: b,
        SymbolAsyncIterator: A,
        Symbol: w
      } = n("../../ours/primordials");
      o.exports = he, he.ReadableState = Dt;
      const { EventEmitter: S } = n("events"), { Stream: T, prependListener: x } = n("./legacy"), { Buffer: L } = n("buffer"), { addAbortSignal: O } = n("./add-abort-signal"), M = n("./end-of-stream");
      let k = n("../../ours/util").debuglog("stream", ($e) => {
        k = $e;
      });
      const ie = n("./buffer_list"), $ = n("./destroy"), { getHighWaterMark: Y, getDefaultHighWaterMark: D } = n("./state"), {
        aggregateTwoErrors: re,
        codes: {
          ERR_INVALID_ARG_TYPE: F,
          ERR_METHOD_NOT_IMPLEMENTED: _e,
          ERR_OUT_OF_RANGE: ue,
          ERR_STREAM_PUSH_AFTER_EOF: Ie,
          ERR_STREAM_UNSHIFT_AFTER_END_EVENT: ze
        }
      } = n("../../ours/errors"), { validateObject: Fe } = n("../validators"), Oe = w("kPaused"), { StringDecoder: Lt } = n("string_decoder"), pe = n("./from");
      g(he.prototype, T.prototype), g(he, T);
      const Cn = () => {
      }, { errorOrDestroy: In } = $;
      function Dt($e, At, En) {
        typeof En != "boolean" && (En = At instanceof n("./duplex")), this.objectMode = !!($e && $e.objectMode), En && (this.objectMode = this.objectMode || !!($e && $e.readableObjectMode)), this.highWaterMark = $e ? Y(this, $e, "readableHighWaterMark", En) : D(!1), this.buffer = new ie(), this.length = 0, this.pipes = [], this.flowing = null, this.ended = !1, this.endEmitted = !1, this.reading = !1, this.constructed = !0, this.sync = !0, this.needReadable = !1, this.emittedReadable = !1, this.readableListening = !1, this.resumeScheduled = !1, this[Oe] = null, this.errorEmitted = !1, this.emitClose = !$e || $e.emitClose !== !1, this.autoDestroy = !$e || $e.autoDestroy !== !1, this.destroyed = !1, this.errored = null, this.closed = !1, this.closeEmitted = !1, this.defaultEncoding = $e && $e.defaultEncoding || "utf8", this.awaitDrainWriters = null, this.multiAwaitDrain = !1, this.readingMore = !1, this.dataEmitted = !1, this.decoder = null, this.encoding = null, $e && $e.encoding && (this.decoder = new Lt($e.encoding), this.encoding = $e.encoding);
      }
      function he($e) {
        if (!(this instanceof he))
          return new he($e);
        const At = this instanceof n("./duplex");
        this._readableState = new Dt($e, this, At), $e && (typeof $e.read == "function" && (this._read = $e.read), typeof $e.destroy == "function" && (this._destroy = $e.destroy), typeof $e.construct == "function" && (this._construct = $e.construct), $e.signal && !At && O($e.signal, this)), T.call(this, $e), $.construct(this, () => {
          this._readableState.needReadable && Ve(this, this._readableState);
        });
      }
      he.prototype.destroy = $.destroy, he.prototype._undestroy = $.undestroy, he.prototype._destroy = function($e, At) {
        At($e);
      }, he.prototype[S.captureRejectionSymbol] = function($e) {
        this.destroy($e);
      }, he.prototype.push = function($e, At) {
        return Et(this, $e, At, !1);
      }, he.prototype.unshift = function($e, At) {
        return Et(this, $e, At, !0);
      };
      function Et($e, At, En, wn) {
        k("readableAddChunk", At);
        const Ln = $e._readableState;
        let Mn;
        if (Ln.objectMode || (typeof At == "string" ? (En = En || Ln.defaultEncoding, Ln.encoding !== En && (wn && Ln.encoding ? At = L.from(At, En).toString(Ln.encoding) : (At = L.from(At, En), En = ""))) : At instanceof L ? En = "" : T._isUint8Array(At) ? (At = T._uint8ArrayToBuffer(At), En = "") : At != null && (Mn = new F("chunk", ["string", "Buffer", "Uint8Array"], At))), Mn)
          In($e, Mn);
        else if (At === null)
          Ln.reading = !1, de($e, Ln);
        else if (Ln.objectMode || At && At.length > 0)
          if (wn)
            if (Ln.endEmitted)
              In($e, new ze());
            else {
              if (Ln.destroyed || Ln.errored)
                return !1;
              hn($e, Ln, At, !0);
            }
          else if (Ln.ended)
            In($e, new Ie());
          else {
            if (Ln.destroyed || Ln.errored)
              return !1;
            Ln.reading = !1, Ln.decoder && !En ? (At = Ln.decoder.write(At), Ln.objectMode || At.length !== 0 ? hn($e, Ln, At, !1) : Ve($e, Ln)) : hn($e, Ln, At, !1);
          }
        else
          wn || (Ln.reading = !1, Ve($e, Ln));
        return !Ln.ended && (Ln.length < Ln.highWaterMark || Ln.length === 0);
      }
      function hn($e, At, En, wn) {
        At.flowing && At.length === 0 && !At.sync && $e.listenerCount("data") > 0 ? (At.multiAwaitDrain ? At.awaitDrainWriters.clear() : At.awaitDrainWriters = null, At.dataEmitted = !0, $e.emit("data", En)) : (At.length += At.objectMode ? 1 : En.length, wn ? At.buffer.unshift(En) : At.buffer.push(En), At.needReadable && Ue($e)), Ve($e, At);
      }
      he.prototype.isPaused = function() {
        const $e = this._readableState;
        return $e[Oe] === !0 || $e.flowing === !1;
      }, he.prototype.setEncoding = function($e) {
        const At = new Lt($e);
        this._readableState.decoder = At, this._readableState.encoding = this._readableState.decoder.encoding;
        const En = this._readableState.buffer;
        let wn = "";
        for (const Ln of En)
          wn += At.write(Ln);
        return En.clear(), wn !== "" && En.push(wn), this._readableState.length = wn.length, this;
      };
      const vn = 1073741824;
      function kt($e) {
        if ($e > vn)
          throw new ue("size", "<= 1GiB", $e);
        return $e--, $e |= $e >>> 1, $e |= $e >>> 2, $e |= $e >>> 4, $e |= $e >>> 8, $e |= $e >>> 16, $e++, $e;
      }
      function Ce($e, At) {
        return $e <= 0 || At.length === 0 && At.ended ? 0 : At.objectMode ? 1 : f($e) ? At.flowing && At.length ? At.buffer.first().length : At.length : $e <= At.length ? $e : At.ended ? At.length : 0;
      }
      he.prototype.read = function($e) {
        k("read", $e), $e === void 0 ? $e = NaN : d($e) || ($e = p($e, 10));
        const At = this._readableState, En = $e;
        if ($e > At.highWaterMark && (At.highWaterMark = kt($e)), $e !== 0 && (At.emittedReadable = !1), $e === 0 && At.needReadable && ((At.highWaterMark !== 0 ? At.length >= At.highWaterMark : At.length > 0) || At.ended))
          return k("read: emitReadable", At.length, At.ended), At.length === 0 && At.ended ? qe(this) : Ue(this), null;
        if ($e = Ce($e, At), $e === 0 && At.ended)
          return At.length === 0 && qe(this), null;
        let wn = At.needReadable;
        if (k("need readable", wn), (At.length === 0 || At.length - $e < At.highWaterMark) && (wn = !0, k("length less than watermark", wn)), At.ended || At.reading || At.destroyed || At.errored || !At.constructed)
          wn = !1, k("reading, ended or constructing", wn);
        else if (wn) {
          k("do read"), At.reading = !0, At.sync = !0, At.length === 0 && (At.needReadable = !0);
          try {
            this._read(At.highWaterMark);
          } catch (Mn) {
            In(this, Mn);
          }
          At.sync = !1, At.reading || ($e = Ce(En, At));
        }
        let Ln;
        return $e > 0 ? Ln = xe($e, At) : Ln = null, Ln === null ? (At.needReadable = At.length <= At.highWaterMark, $e = 0) : (At.length -= $e, At.multiAwaitDrain ? At.awaitDrainWriters.clear() : At.awaitDrainWriters = null), At.length === 0 && (At.ended || (At.needReadable = !0), En !== $e && At.ended && qe(this)), Ln !== null && !At.errorEmitted && !At.closeEmitted && (At.dataEmitted = !0, this.emit("data", Ln)), Ln;
      };
      function de($e, At) {
        if (k("onEofChunk"), !At.ended) {
          if (At.decoder) {
            const En = At.decoder.end();
            En && En.length && (At.buffer.push(En), At.length += At.objectMode ? 1 : En.length);
          }
          At.ended = !0, At.sync ? Ue($e) : (At.needReadable = !1, At.emittedReadable = !0, Ne($e));
        }
      }
      function Ue($e) {
        const At = $e._readableState;
        k("emitReadable", At.needReadable, At.emittedReadable), At.needReadable = !1, At.emittedReadable || (k("emitReadable", At.flowing), At.emittedReadable = !0, u.nextTick(Ne, $e));
      }
      function Ne($e) {
        const At = $e._readableState;
        k("emitReadable_", At.destroyed, At.length, At.ended), !At.destroyed && !At.errored && (At.length || At.ended) && ($e.emit("readable"), At.emittedReadable = !1), At.needReadable = !At.flowing && !At.ended && At.length <= At.highWaterMark, V($e);
      }
      function Ve($e, At) {
        !At.readingMore && At.constructed && (At.readingMore = !0, u.nextTick(Pt, $e, At));
      }
      function Pt($e, At) {
        for (; !At.reading && !At.ended && (At.length < At.highWaterMark || At.flowing && At.length === 0); ) {
          const En = At.length;
          if (k("maybeReadMore read 0"), $e.read(0), En === At.length)
            break;
        }
        At.readingMore = !1;
      }
      he.prototype._read = function($e) {
        throw new _e("_read()");
      }, he.prototype.pipe = function($e, At) {
        const En = this, wn = this._readableState;
        wn.pipes.length === 1 && (wn.multiAwaitDrain || (wn.multiAwaitDrain = !0, wn.awaitDrainWriters = new b(wn.awaitDrainWriters ? [wn.awaitDrainWriters] : []))), wn.pipes.push($e), k("pipe count=%d opts=%j", wn.pipes.length, At);
        const Mn = (!At || At.end !== !1) && $e !== u.stdout && $e !== u.stderr ? $n : Wn;
        wn.endEmitted ? u.nextTick(Mn) : En.once("end", Mn), $e.on("unpipe", Pn);
        function Pn(kn, On) {
          k("onunpipe"), kn === En && On && On.hasUnpiped === !1 && (On.hasUnpiped = !0, Jn());
        }
        function $n() {
          k("onend"), $e.end();
        }
        let Dn, Kn = !1;
        function Jn() {
          k("cleanup"), $e.removeListener("close", Yn), $e.removeListener("finish", Un), Dn && $e.removeListener("drain", Dn), $e.removeListener("error", zn), $e.removeListener("unpipe", Pn), En.removeListener("end", $n), En.removeListener("end", Wn), En.removeListener("data", Fn), Kn = !0, Dn && wn.awaitDrainWriters && (!$e._writableState || $e._writableState.needDrain) && Dn();
        }
        function Xn() {
          Kn || (wn.pipes.length === 1 && wn.pipes[0] === $e ? (k("false write response, pause", 0), wn.awaitDrainWriters = $e, wn.multiAwaitDrain = !1) : wn.pipes.length > 1 && wn.pipes.includes($e) && (k("false write response, pause", wn.awaitDrainWriters.size), wn.awaitDrainWriters.add($e)), En.pause()), Dn || (Dn = jt(En, $e), $e.on("drain", Dn));
        }
        En.on("data", Fn);
        function Fn(kn) {
          k("ondata");
          const On = $e.write(kn);
          k("dest.write", On), On === !1 && Xn();
        }
        function zn(kn) {
          if (k("onerror", kn), Wn(), $e.removeListener("error", zn), $e.listenerCount("error") === 0) {
            const On = $e._writableState || $e._readableState;
            On && !On.errorEmitted ? In($e, kn) : $e.emit("error", kn);
          }
        }
        x($e, "error", zn);
        function Yn() {
          $e.removeListener("finish", Un), Wn();
        }
        $e.once("close", Yn);
        function Un() {
          k("onfinish"), $e.removeListener("close", Yn), Wn();
        }
        $e.once("finish", Un);
        function Wn() {
          k("unpipe"), En.unpipe($e);
        }
        return $e.emit("pipe", En), $e.writableNeedDrain === !0 ? wn.flowing && Xn() : wn.flowing || (k("pipe resume"), En.resume()), $e;
      };
      function jt($e, At) {
        return function() {
          const wn = $e._readableState;
          wn.awaitDrainWriters === At ? (k("pipeOnDrain", 1), wn.awaitDrainWriters = null) : wn.multiAwaitDrain && (k("pipeOnDrain", wn.awaitDrainWriters.size), wn.awaitDrainWriters.delete(At)), (!wn.awaitDrainWriters || wn.awaitDrainWriters.size === 0) && $e.listenerCount("data") && $e.resume();
        };
      }
      he.prototype.unpipe = function($e) {
        const At = this._readableState, En = {
          hasUnpiped: !1
        };
        if (At.pipes.length === 0)
          return this;
        if (!$e) {
          const Ln = At.pipes;
          At.pipes = [], this.pause();
          for (let Mn = 0; Mn < Ln.length; Mn++)
            Ln[Mn].emit("unpipe", this, {
              hasUnpiped: !1
            });
          return this;
        }
        const wn = c(At.pipes, $e);
        return wn === -1 ? this : (At.pipes.splice(wn, 1), At.pipes.length === 0 && this.pause(), $e.emit("unpipe", this, En), this);
      }, he.prototype.on = function($e, At) {
        const En = T.prototype.on.call(this, $e, At), wn = this._readableState;
        return $e === "data" ? (wn.readableListening = this.listenerCount("readable") > 0, wn.flowing !== !1 && this.resume()) : $e === "readable" && !wn.endEmitted && !wn.readableListening && (wn.readableListening = wn.needReadable = !0, wn.flowing = !1, wn.emittedReadable = !1, k("on readable", wn.length, wn.reading), wn.length ? Ue(this) : wn.reading || u.nextTick(oe, this)), En;
      }, he.prototype.addListener = he.prototype.on, he.prototype.removeListener = function($e, At) {
        const En = T.prototype.removeListener.call(this, $e, At);
        return $e === "readable" && u.nextTick(_n, this), En;
      }, he.prototype.off = he.prototype.removeListener, he.prototype.removeAllListeners = function($e) {
        const At = T.prototype.removeAllListeners.apply(this, arguments);
        return ($e === "readable" || $e === void 0) && u.nextTick(_n, this), At;
      };
      function _n($e) {
        const At = $e._readableState;
        At.readableListening = $e.listenerCount("readable") > 0, At.resumeScheduled && At[Oe] === !1 ? At.flowing = !0 : $e.listenerCount("data") > 0 ? $e.resume() : At.readableListening || (At.flowing = null);
      }
      function oe($e) {
        k("readable nexttick read 0"), $e.read(0);
      }
      he.prototype.resume = function() {
        const $e = this._readableState;
        return $e.flowing || (k("resume"), $e.flowing = !$e.readableListening, le(this, $e)), $e[Oe] = !1, this;
      };
      function le($e, At) {
        At.resumeScheduled || (At.resumeScheduled = !0, u.nextTick(j, $e, At));
      }
      function j($e, At) {
        k("resume", At.reading), At.reading || $e.read(0), At.resumeScheduled = !1, $e.emit("resume"), V($e), At.flowing && !At.reading && $e.read(0);
      }
      he.prototype.pause = function() {
        return k("call pause flowing=%j", this._readableState.flowing), this._readableState.flowing !== !1 && (k("pause"), this._readableState.flowing = !1, this.emit("pause")), this._readableState[Oe] = !0, this;
      };
      function V($e) {
        const At = $e._readableState;
        for (k("flow", At.flowing); At.flowing && $e.read() !== null; )
          ;
      }
      he.prototype.wrap = function($e) {
        let At = !1;
        $e.on("data", (wn) => {
          !this.push(wn) && $e.pause && (At = !0, $e.pause());
        }), $e.on("end", () => {
          this.push(null);
        }), $e.on("error", (wn) => {
          In(this, wn);
        }), $e.on("close", () => {
          this.destroy();
        }), $e.on("destroy", () => {
          this.destroy();
        }), this._read = () => {
          At && $e.resume && (At = !1, $e.resume());
        };
        const En = v($e);
        for (let wn = 1; wn < En.length; wn++) {
          const Ln = En[wn];
          this[Ln] === void 0 && typeof $e[Ln] == "function" && (this[Ln] = $e[Ln].bind($e));
        }
        return this;
      }, he.prototype[A] = function() {
        return z(this);
      }, he.prototype.iterator = function($e) {
        return $e !== void 0 && Fe($e, "options"), z(this, $e);
      };
      function z($e, At) {
        typeof $e.read != "function" && ($e = he.wrap($e, {
          objectMode: !0
        }));
        const En = ae($e, At);
        return En.stream = $e, En;
      }
      async function* ae($e, At) {
        let En = Cn;
        function wn(Pn) {
          this === $e ? (En(), En = Cn) : En = Pn;
        }
        $e.on("readable", wn);
        let Ln;
        const Mn = M(
          $e,
          {
            writable: !1
          },
          (Pn) => {
            Ln = Pn ? re(Ln, Pn) : null, En(), En = Cn;
          }
        );
        try {
          for (; ; ) {
            const Pn = $e.destroyed ? null : $e.read();
            if (Pn !== null)
              yield Pn;
            else {
              if (Ln)
                throw Ln;
              if (Ln === null)
                return;
              await new y(wn);
            }
          }
        } catch (Pn) {
          throw Ln = re(Ln, Pn), Ln;
        } finally {
          (Ln || (At == null ? void 0 : At.destroyOnReturn) !== !1) && (Ln === void 0 || $e._readableState.autoDestroy) ? $.destroyer($e, null) : ($e.off("readable", wn), Mn());
        }
      }
      _(he.prototype, {
        readable: {
          __proto__: null,
          get() {
            const $e = this._readableState;
            return !!$e && $e.readable !== !1 && !$e.destroyed && !$e.errorEmitted && !$e.endEmitted;
          },
          set($e) {
            this._readableState && (this._readableState.readable = !!$e);
          }
        },
        readableDidRead: {
          __proto__: null,
          enumerable: !1,
          get: function() {
            return this._readableState.dataEmitted;
          }
        },
        readableAborted: {
          __proto__: null,
          enumerable: !1,
          get: function() {
            return !!(this._readableState.readable !== !1 && (this._readableState.destroyed || this._readableState.errored) && !this._readableState.endEmitted);
          }
        },
        readableHighWaterMark: {
          __proto__: null,
          enumerable: !1,
          get: function() {
            return this._readableState.highWaterMark;
          }
        },
        readableBuffer: {
          __proto__: null,
          enumerable: !1,
          get: function() {
            return this._readableState && this._readableState.buffer;
          }
        },
        readableFlowing: {
          __proto__: null,
          enumerable: !1,
          get: function() {
            return this._readableState.flowing;
          },
          set: function($e) {
            this._readableState && (this._readableState.flowing = $e);
          }
        },
        readableLength: {
          __proto__: null,
          enumerable: !1,
          get() {
            return this._readableState.length;
          }
        },
        readableObjectMode: {
          __proto__: null,
          enumerable: !1,
          get() {
            return this._readableState ? this._readableState.objectMode : !1;
          }
        },
        readableEncoding: {
          __proto__: null,
          enumerable: !1,
          get() {
            return this._readableState ? this._readableState.encoding : null;
          }
        },
        errored: {
          __proto__: null,
          enumerable: !1,
          get() {
            return this._readableState ? this._readableState.errored : null;
          }
        },
        closed: {
          __proto__: null,
          get() {
            return this._readableState ? this._readableState.closed : !1;
          }
        },
        destroyed: {
          __proto__: null,
          enumerable: !1,
          get() {
            return this._readableState ? this._readableState.destroyed : !1;
          },
          set($e) {
            this._readableState && (this._readableState.destroyed = $e);
          }
        },
        readableEnded: {
          __proto__: null,
          enumerable: !1,
          get() {
            return this._readableState ? this._readableState.endEmitted : !1;
          }
        }
      }), _(Dt.prototype, {
        // Legacy getter for `pipesCount`.
        pipesCount: {
          __proto__: null,
          get() {
            return this.pipes.length;
          }
        },
        // Legacy property for `paused`.
        paused: {
          __proto__: null,
          get() {
            return this[Oe] !== !1;
          },
          set($e) {
            this[Oe] = !!$e;
          }
        }
      }), he._fromList = xe;
      function xe($e, At) {
        if (At.length === 0)
          return null;
        let En;
        return At.objectMode ? En = At.buffer.shift() : !$e || $e >= At.length ? (At.decoder ? En = At.buffer.join("") : At.buffer.length === 1 ? En = At.buffer.first() : En = At.buffer.concat(At.length), At.buffer.clear()) : En = At.buffer.consume($e, At.decoder), En;
      }
      function qe($e) {
        const At = $e._readableState;
        k("endReadable", At.endEmitted), At.endEmitted || (At.ended = !0, u.nextTick(bn, At, $e));
      }
      function bn($e, At) {
        if (k("endReadableNT", $e.endEmitted, $e.length), !$e.errored && !$e.closeEmitted && !$e.endEmitted && $e.length === 0) {
          if ($e.endEmitted = !0, At.emit("end"), At.writable && At.allowHalfOpen === !1)
            u.nextTick(Sn, At);
          else if ($e.autoDestroy) {
            const En = At._writableState;
            (!En || En.autoDestroy && // We don't expect the writable to ever 'finish'
            // if writable is explicitly set to false.
            (En.finished || En.writable === !1)) && At.destroy();
          }
        }
      }
      function Sn($e) {
        $e.writable && !$e.writableEnded && !$e.destroyed && $e.end();
      }
      he.from = function($e, At) {
        return pe(he, $e, At);
      };
      let xn;
      function Rn() {
        return xn === void 0 && (xn = {}), xn;
      }
      he.fromWeb = function($e, At) {
        return Rn().newStreamReadableFromReadableStream($e, At);
      }, he.toWeb = function($e, At) {
        return Rn().newReadableStreamFromStreamReadable($e, At);
      }, he.wrap = function($e, At) {
        var En, wn;
        return new he({
          objectMode: (En = (wn = $e.readableObjectMode) !== null && wn !== void 0 ? wn : $e.objectMode) !== null && En !== void 0 ? En : !0,
          ...At,
          destroy(Ln, Mn) {
            $.destroyer($e, Ln), Mn(Ln);
          }
        }).wrap($e);
      };
    }, { "../../ours/errors": 126, "../../ours/primordials": 127, "../../ours/util": 128, "../validators": 124, "./add-abort-signal": 107, "./buffer_list": 108, "./destroy": 110, "./duplex": 111, "./end-of-stream": 113, "./from": 114, "./legacy": 115, "./state": 120, buffer: 29, events: 49, "process/": 102, string_decoder: 28 }], 120: [function(n, o, a) {
      const { MathFloor: u, NumberIsInteger: c } = n("../../ours/primordials"), { ERR_INVALID_ARG_VALUE: d } = n("../../ours/errors").codes;
      function f(v, g, y) {
        return v.highWaterMark != null ? v.highWaterMark : g ? v[y] : null;
      }
      function p(v) {
        return v ? 16 : 16 * 1024;
      }
      function _(v, g, y, b) {
        const A = f(g, b, y);
        if (A != null) {
          if (!c(A) || A < 0) {
            const w = b ? `options.${y}` : "options.highWaterMark";
            throw new d(w, A);
          }
          return u(A);
        }
        return p(v.objectMode);
      }
      o.exports = {
        getHighWaterMark: _,
        getDefaultHighWaterMark: p
      };
    }, { "../../ours/errors": 126, "../../ours/primordials": 127 }], 121: [function(n, o, a) {
      const { ObjectSetPrototypeOf: u, Symbol: c } = n("../../ours/primordials");
      o.exports = v;
      const { ERR_METHOD_NOT_IMPLEMENTED: d } = n("../../ours/errors").codes, f = n("./duplex"), { getHighWaterMark: p } = n("./state");
      u(v.prototype, f.prototype), u(v, f);
      const _ = c("kCallback");
      function v(b) {
        if (!(this instanceof v))
          return new v(b);
        const A = b ? p(this, b, "readableHighWaterMark", !0) : null;
        A === 0 && (b = {
          ...b,
          highWaterMark: null,
          readableHighWaterMark: A,
          // TODO (ronag): 0 is not optimal since we have
          // a "bug" where we check needDrain before calling _write and not after.
          // Refs: https://github.com/nodejs/node/pull/32887
          // Refs: https://github.com/nodejs/node/pull/35941
          writableHighWaterMark: b.writableHighWaterMark || 0
        }), f.call(this, b), this._readableState.sync = !1, this[_] = null, b && (typeof b.transform == "function" && (this._transform = b.transform), typeof b.flush == "function" && (this._flush = b.flush)), this.on("prefinish", y);
      }
      function g(b) {
        typeof this._flush == "function" && !this.destroyed ? this._flush((A, w) => {
          if (A) {
            b ? b(A) : this.destroy(A);
            return;
          }
          w != null && this.push(w), this.push(null), b && b();
        }) : (this.push(null), b && b());
      }
      function y() {
        this._final !== g && g.call(this);
      }
      v.prototype._final = g, v.prototype._transform = function(b, A, w) {
        throw new d("_transform()");
      }, v.prototype._write = function(b, A, w) {
        const S = this._readableState, T = this._writableState, x = S.length;
        this._transform(b, A, (L, O) => {
          if (L) {
            w(L);
            return;
          }
          O != null && this.push(O), T.ended || // Backwards compat.
          x === S.length || // Backwards compat.
          S.length < S.highWaterMark ? w() : this[_] = w;
        });
      }, v.prototype._read = function() {
        if (this[_]) {
          const b = this[_];
          this[_] = null, b();
        }
      };
    }, { "../../ours/errors": 126, "../../ours/primordials": 127, "./duplex": 111, "./state": 120 }], 122: [function(n, o, a) {
      const { Symbol: u, SymbolAsyncIterator: c, SymbolIterator: d, SymbolFor: f } = n("../../ours/primordials"), p = u("kDestroyed"), _ = u("kIsErrored"), v = u("kIsReadable"), g = u("kIsDisturbed"), y = f("nodejs.webstream.isClosedPromise"), b = f("nodejs.webstream.controllerErrorFunction");
      function A(he, Et = !1) {
        var hn;
        return !!(he && typeof he.pipe == "function" && typeof he.on == "function" && (!Et || typeof he.pause == "function" && typeof he.resume == "function") && (!he._writableState || ((hn = he._readableState) === null || hn === void 0 ? void 0 : hn.readable) !== !1) && // Duplex
        (!he._writableState || he._readableState));
      }
      function w(he) {
        var Et;
        return !!(he && typeof he.write == "function" && typeof he.on == "function" && (!he._readableState || ((Et = he._writableState) === null || Et === void 0 ? void 0 : Et.writable) !== !1));
      }
      function S(he) {
        return !!(he && typeof he.pipe == "function" && he._readableState && typeof he.on == "function" && typeof he.write == "function");
      }
      function T(he) {
        return he && (he._readableState || he._writableState || typeof he.write == "function" && typeof he.on == "function" || typeof he.pipe == "function" && typeof he.on == "function");
      }
      function x(he) {
        return !!(he && !T(he) && typeof he.pipeThrough == "function" && typeof he.getReader == "function" && typeof he.cancel == "function");
      }
      function L(he) {
        return !!(he && !T(he) && typeof he.getWriter == "function" && typeof he.abort == "function");
      }
      function O(he) {
        return !!(he && !T(he) && typeof he.readable == "object" && typeof he.writable == "object");
      }
      function M(he) {
        return x(he) || L(he) || O(he);
      }
      function k(he, Et) {
        return he == null ? !1 : Et === !0 ? typeof he[c] == "function" : Et === !1 ? typeof he[d] == "function" : typeof he[c] == "function" || typeof he[d] == "function";
      }
      function ie(he) {
        if (!T(he))
          return null;
        const Et = he._writableState, hn = he._readableState, vn = Et || hn;
        return !!(he.destroyed || he[p] || vn != null && vn.destroyed);
      }
      function $(he) {
        if (!w(he))
          return null;
        if (he.writableEnded === !0)
          return !0;
        const Et = he._writableState;
        return Et != null && Et.errored ? !1 : typeof (Et == null ? void 0 : Et.ended) != "boolean" ? null : Et.ended;
      }
      function Y(he, Et) {
        if (!w(he))
          return null;
        if (he.writableFinished === !0)
          return !0;
        const hn = he._writableState;
        return hn != null && hn.errored ? !1 : typeof (hn == null ? void 0 : hn.finished) != "boolean" ? null : !!(hn.finished || Et === !1 && hn.ended === !0 && hn.length === 0);
      }
      function D(he) {
        if (!A(he))
          return null;
        if (he.readableEnded === !0)
          return !0;
        const Et = he._readableState;
        return !Et || Et.errored ? !1 : typeof (Et == null ? void 0 : Et.ended) != "boolean" ? null : Et.ended;
      }
      function re(he, Et) {
        if (!A(he))
          return null;
        const hn = he._readableState;
        return hn != null && hn.errored ? !1 : typeof (hn == null ? void 0 : hn.endEmitted) != "boolean" ? null : !!(hn.endEmitted || Et === !1 && hn.ended === !0 && hn.length === 0);
      }
      function F(he) {
        return he && he[v] != null ? he[v] : typeof (he == null ? void 0 : he.readable) != "boolean" ? null : ie(he) ? !1 : A(he) && he.readable && !re(he);
      }
      function _e(he) {
        return typeof (he == null ? void 0 : he.writable) != "boolean" ? null : ie(he) ? !1 : w(he) && he.writable && !$(he);
      }
      function ue(he, Et) {
        return T(he) ? ie(he) ? !0 : !((Et == null ? void 0 : Et.readable) !== !1 && F(he) || (Et == null ? void 0 : Et.writable) !== !1 && _e(he)) : null;
      }
      function Ie(he) {
        var Et, hn;
        return T(he) ? he.writableErrored ? he.writableErrored : (Et = (hn = he._writableState) === null || hn === void 0 ? void 0 : hn.errored) !== null && Et !== void 0 ? Et : null : null;
      }
      function ze(he) {
        var Et, hn;
        return T(he) ? he.readableErrored ? he.readableErrored : (Et = (hn = he._readableState) === null || hn === void 0 ? void 0 : hn.errored) !== null && Et !== void 0 ? Et : null : null;
      }
      function Fe(he) {
        if (!T(he))
          return null;
        if (typeof he.closed == "boolean")
          return he.closed;
        const Et = he._writableState, hn = he._readableState;
        return typeof (Et == null ? void 0 : Et.closed) == "boolean" || typeof (hn == null ? void 0 : hn.closed) == "boolean" ? (Et == null ? void 0 : Et.closed) || (hn == null ? void 0 : hn.closed) : typeof he._closed == "boolean" && Oe(he) ? he._closed : null;
      }
      function Oe(he) {
        return typeof he._closed == "boolean" && typeof he._defaultKeepAlive == "boolean" && typeof he._removedConnection == "boolean" && typeof he._removedContLen == "boolean";
      }
      function Lt(he) {
        return typeof he._sent100 == "boolean" && Oe(he);
      }
      function pe(he) {
        var Et;
        return typeof he._consuming == "boolean" && typeof he._dumped == "boolean" && ((Et = he.req) === null || Et === void 0 ? void 0 : Et.upgradeOrConnect) === void 0;
      }
      function Cn(he) {
        if (!T(he))
          return null;
        const Et = he._writableState, hn = he._readableState, vn = Et || hn;
        return !vn && Lt(he) || !!(vn && vn.autoDestroy && vn.emitClose && vn.closed === !1);
      }
      function In(he) {
        var Et;
        return !!(he && ((Et = he[g]) !== null && Et !== void 0 ? Et : he.readableDidRead || he.readableAborted));
      }
      function Dt(he) {
        var Et, hn, vn, kt, Ce, de, Ue, Ne, Ve, Pt;
        return !!(he && ((Et = (hn = (vn = (kt = (Ce = (de = he[_]) !== null && de !== void 0 ? de : he.readableErrored) !== null && Ce !== void 0 ? Ce : he.writableErrored) !== null && kt !== void 0 ? kt : (Ue = he._readableState) === null || Ue === void 0 ? void 0 : Ue.errorEmitted) !== null && vn !== void 0 ? vn : (Ne = he._writableState) === null || Ne === void 0 ? void 0 : Ne.errorEmitted) !== null && hn !== void 0 ? hn : (Ve = he._readableState) === null || Ve === void 0 ? void 0 : Ve.errored) !== null && Et !== void 0 ? Et : !((Pt = he._writableState) === null || Pt === void 0) && Pt.errored));
      }
      o.exports = {
        kDestroyed: p,
        isDisturbed: In,
        kIsDisturbed: g,
        isErrored: Dt,
        kIsErrored: _,
        isReadable: F,
        kIsReadable: v,
        kIsClosedPromise: y,
        kControllerErrorFunction: b,
        isClosed: Fe,
        isDestroyed: ie,
        isDuplexNodeStream: S,
        isFinished: ue,
        isIterable: k,
        isReadableNodeStream: A,
        isReadableStream: x,
        isReadableEnded: D,
        isReadableFinished: re,
        isReadableErrored: ze,
        isNodeStream: T,
        isWebStream: M,
        isWritable: _e,
        isWritableNodeStream: w,
        isWritableStream: L,
        isWritableEnded: $,
        isWritableFinished: Y,
        isWritableErrored: Ie,
        isServerRequest: pe,
        isServerResponse: Lt,
        willEmitClose: Cn,
        isTransformStream: O
      };
    }, { "../../ours/primordials": 127 }], 123: [function(n, o, a) {
      const u = n("process/"), {
        ArrayPrototypeSlice: c,
        Error: d,
        FunctionPrototypeSymbolHasInstance: f,
        ObjectDefineProperty: p,
        ObjectDefineProperties: _,
        ObjectSetPrototypeOf: v,
        StringPrototypeToLowerCase: g,
        Symbol: y,
        SymbolHasInstance: b
      } = n("../../ours/primordials");
      o.exports = Lt, Lt.WritableState = Fe;
      const { EventEmitter: A } = n("events"), w = n("./legacy").Stream, { Buffer: S } = n("buffer"), T = n("./destroy"), { addAbortSignal: x } = n("./add-abort-signal"), { getHighWaterMark: L, getDefaultHighWaterMark: O } = n("./state"), {
        ERR_INVALID_ARG_TYPE: M,
        ERR_METHOD_NOT_IMPLEMENTED: k,
        ERR_MULTIPLE_CALLBACK: ie,
        ERR_STREAM_CANNOT_PIPE: $,
        ERR_STREAM_DESTROYED: Y,
        ERR_STREAM_ALREADY_FINISHED: D,
        ERR_STREAM_NULL_VALUES: re,
        ERR_STREAM_WRITE_AFTER_END: F,
        ERR_UNKNOWN_ENCODING: _e
      } = n("../../ours/errors").codes, { errorOrDestroy: ue } = T;
      v(Lt.prototype, w.prototype), v(Lt, w);
      function Ie() {
      }
      const ze = y("kOnFinished");
      function Fe(oe, le, j) {
        typeof j != "boolean" && (j = le instanceof n("./duplex")), this.objectMode = !!(oe && oe.objectMode), j && (this.objectMode = this.objectMode || !!(oe && oe.writableObjectMode)), this.highWaterMark = oe ? L(this, oe, "writableHighWaterMark", j) : O(!1), this.finalCalled = !1, this.needDrain = !1, this.ending = !1, this.ended = !1, this.finished = !1, this.destroyed = !1;
        const V = !!(oe && oe.decodeStrings === !1);
        this.decodeStrings = !V, this.defaultEncoding = oe && oe.defaultEncoding || "utf8", this.length = 0, this.writing = !1, this.corked = 0, this.sync = !0, this.bufferProcessing = !1, this.onwrite = he.bind(void 0, le), this.writecb = null, this.writelen = 0, this.afterWriteTickInfo = null, Oe(this), this.pendingcb = 0, this.constructed = !0, this.prefinished = !1, this.errorEmitted = !1, this.emitClose = !oe || oe.emitClose !== !1, this.autoDestroy = !oe || oe.autoDestroy !== !1, this.errored = null, this.closed = !1, this.closeEmitted = !1, this[ze] = [];
      }
      function Oe(oe) {
        oe.buffered = [], oe.bufferedIndex = 0, oe.allBuffers = !0, oe.allNoop = !0;
      }
      Fe.prototype.getBuffer = function() {
        return c(this.buffered, this.bufferedIndex);
      }, p(Fe.prototype, "bufferedRequestCount", {
        __proto__: null,
        get() {
          return this.buffered.length - this.bufferedIndex;
        }
      });
      function Lt(oe) {
        const le = this instanceof n("./duplex");
        if (!le && !f(Lt, this))
          return new Lt(oe);
        this._writableState = new Fe(oe, this, le), oe && (typeof oe.write == "function" && (this._write = oe.write), typeof oe.writev == "function" && (this._writev = oe.writev), typeof oe.destroy == "function" && (this._destroy = oe.destroy), typeof oe.final == "function" && (this._final = oe.final), typeof oe.construct == "function" && (this._construct = oe.construct), oe.signal && x(oe.signal, this)), w.call(this, oe), T.construct(this, () => {
          const j = this._writableState;
          j.writing || kt(this, j), Ne(this, j);
        });
      }
      p(Lt, b, {
        __proto__: null,
        value: function(oe) {
          return f(this, oe) ? !0 : this !== Lt ? !1 : oe && oe._writableState instanceof Fe;
        }
      }), Lt.prototype.pipe = function() {
        ue(this, new $());
      };
      function pe(oe, le, j, V) {
        const z = oe._writableState;
        if (typeof j == "function")
          V = j, j = z.defaultEncoding;
        else {
          if (!j)
            j = z.defaultEncoding;
          else if (j !== "buffer" && !S.isEncoding(j))
            throw new _e(j);
          typeof V != "function" && (V = Ie);
        }
        if (le === null)
          throw new re();
        if (!z.objectMode)
          if (typeof le == "string")
            z.decodeStrings !== !1 && (le = S.from(le, j), j = "buffer");
          else if (le instanceof S)
            j = "buffer";
          else if (w._isUint8Array(le))
            le = w._uint8ArrayToBuffer(le), j = "buffer";
          else
            throw new M("chunk", ["string", "Buffer", "Uint8Array"], le);
        let ae;
        return z.ending ? ae = new F() : z.destroyed && (ae = new Y("write")), ae ? (u.nextTick(V, ae), ue(oe, ae, !0), ae) : (z.pendingcb++, Cn(oe, z, le, j, V));
      }
      Lt.prototype.write = function(oe, le, j) {
        return pe(this, oe, le, j) === !0;
      }, Lt.prototype.cork = function() {
        this._writableState.corked++;
      }, Lt.prototype.uncork = function() {
        const oe = this._writableState;
        oe.corked && (oe.corked--, oe.writing || kt(this, oe));
      }, Lt.prototype.setDefaultEncoding = function(le) {
        if (typeof le == "string" && (le = g(le)), !S.isEncoding(le))
          throw new _e(le);
        return this._writableState.defaultEncoding = le, this;
      };
      function Cn(oe, le, j, V, z) {
        const ae = le.objectMode ? 1 : j.length;
        le.length += ae;
        const xe = le.length < le.highWaterMark;
        return xe || (le.needDrain = !0), le.writing || le.corked || le.errored || !le.constructed ? (le.buffered.push({
          chunk: j,
          encoding: V,
          callback: z
        }), le.allBuffers && V !== "buffer" && (le.allBuffers = !1), le.allNoop && z !== Ie && (le.allNoop = !1)) : (le.writelen = ae, le.writecb = z, le.writing = !0, le.sync = !0, oe._write(j, V, le.onwrite), le.sync = !1), xe && !le.errored && !le.destroyed;
      }
      function In(oe, le, j, V, z, ae, xe) {
        le.writelen = V, le.writecb = xe, le.writing = !0, le.sync = !0, le.destroyed ? le.onwrite(new Y("write")) : j ? oe._writev(z, le.onwrite) : oe._write(z, ae, le.onwrite), le.sync = !1;
      }
      function Dt(oe, le, j, V) {
        --le.pendingcb, V(j), vn(le), ue(oe, j);
      }
      function he(oe, le) {
        const j = oe._writableState, V = j.sync, z = j.writecb;
        if (typeof z != "function") {
          ue(oe, new ie());
          return;
        }
        j.writing = !1, j.writecb = null, j.length -= j.writelen, j.writelen = 0, le ? (le.stack, j.errored || (j.errored = le), oe._readableState && !oe._readableState.errored && (oe._readableState.errored = le), V ? u.nextTick(Dt, oe, j, le, z) : Dt(oe, j, le, z)) : (j.buffered.length > j.bufferedIndex && kt(oe, j), V ? j.afterWriteTickInfo !== null && j.afterWriteTickInfo.cb === z ? j.afterWriteTickInfo.count++ : (j.afterWriteTickInfo = {
          count: 1,
          cb: z,
          stream: oe,
          state: j
        }, u.nextTick(Et, j.afterWriteTickInfo)) : hn(oe, j, 1, z));
      }
      function Et({ stream: oe, state: le, count: j, cb: V }) {
        return le.afterWriteTickInfo = null, hn(oe, le, j, V);
      }
      function hn(oe, le, j, V) {
        for (!le.ending && !oe.destroyed && le.length === 0 && le.needDrain && (le.needDrain = !1, oe.emit("drain")); j-- > 0; )
          le.pendingcb--, V();
        le.destroyed && vn(le), Ne(oe, le);
      }
      function vn(oe) {
        if (oe.writing)
          return;
        for (let z = oe.bufferedIndex; z < oe.buffered.length; ++z) {
          var le;
          const { chunk: ae, callback: xe } = oe.buffered[z], qe = oe.objectMode ? 1 : ae.length;
          oe.length -= qe, xe(
            (le = oe.errored) !== null && le !== void 0 ? le : new Y("write")
          );
        }
        const j = oe[ze].splice(0);
        for (let z = 0; z < j.length; z++) {
          var V;
          j[z](
            (V = oe.errored) !== null && V !== void 0 ? V : new Y("end")
          );
        }
        Oe(oe);
      }
      function kt(oe, le) {
        if (le.corked || le.bufferProcessing || le.destroyed || !le.constructed)
          return;
        const { buffered: j, bufferedIndex: V, objectMode: z } = le, ae = j.length - V;
        if (!ae)
          return;
        let xe = V;
        if (le.bufferProcessing = !0, ae > 1 && oe._writev) {
          le.pendingcb -= ae - 1;
          const qe = le.allNoop ? Ie : (Sn) => {
            for (let xn = xe; xn < j.length; ++xn)
              j[xn].callback(Sn);
          }, bn = le.allNoop && xe === 0 ? j : c(j, xe);
          bn.allBuffers = le.allBuffers, In(oe, le, !0, le.length, bn, "", qe), Oe(le);
        } else {
          do {
            const { chunk: qe, encoding: bn, callback: Sn } = j[xe];
            j[xe++] = null;
            const xn = z ? 1 : qe.length;
            In(oe, le, !1, xn, qe, bn, Sn);
          } while (xe < j.length && !le.writing);
          xe === j.length ? Oe(le) : xe > 256 ? (j.splice(0, xe), le.bufferedIndex = 0) : le.bufferedIndex = xe;
        }
        le.bufferProcessing = !1;
      }
      Lt.prototype._write = function(oe, le, j) {
        if (this._writev)
          this._writev(
            [
              {
                chunk: oe,
                encoding: le
              }
            ],
            j
          );
        else
          throw new k("_write()");
      }, Lt.prototype._writev = null, Lt.prototype.end = function(oe, le, j) {
        const V = this._writableState;
        typeof oe == "function" ? (j = oe, oe = null, le = null) : typeof le == "function" && (j = le, le = null);
        let z;
        if (oe != null) {
          const ae = pe(this, oe, le);
          ae instanceof d && (z = ae);
        }
        return V.corked && (V.corked = 1, this.uncork()), z || (!V.errored && !V.ending ? (V.ending = !0, Ne(this, V, !0), V.ended = !0) : V.finished ? z = new D("end") : V.destroyed && (z = new Y("end"))), typeof j == "function" && (z || V.finished ? u.nextTick(j, z) : V[ze].push(j)), this;
      };
      function Ce(oe) {
        return oe.ending && !oe.destroyed && oe.constructed && oe.length === 0 && !oe.errored && oe.buffered.length === 0 && !oe.finished && !oe.writing && !oe.errorEmitted && !oe.closeEmitted;
      }
      function de(oe, le) {
        let j = !1;
        function V(z) {
          if (j) {
            ue(oe, z ?? ie());
            return;
          }
          if (j = !0, le.pendingcb--, z) {
            const ae = le[ze].splice(0);
            for (let xe = 0; xe < ae.length; xe++)
              ae[xe](z);
            ue(oe, z, le.sync);
          } else
            Ce(le) && (le.prefinished = !0, oe.emit("prefinish"), le.pendingcb++, u.nextTick(Ve, oe, le));
        }
        le.sync = !0, le.pendingcb++;
        try {
          oe._final(V);
        } catch (z) {
          V(z);
        }
        le.sync = !1;
      }
      function Ue(oe, le) {
        !le.prefinished && !le.finalCalled && (typeof oe._final == "function" && !le.destroyed ? (le.finalCalled = !0, de(oe, le)) : (le.prefinished = !0, oe.emit("prefinish")));
      }
      function Ne(oe, le, j) {
        Ce(le) && (Ue(oe, le), le.pendingcb === 0 && (j ? (le.pendingcb++, u.nextTick(
          (V, z) => {
            Ce(z) ? Ve(V, z) : z.pendingcb--;
          },
          oe,
          le
        )) : Ce(le) && (le.pendingcb++, Ve(oe, le))));
      }
      function Ve(oe, le) {
        le.pendingcb--, le.finished = !0;
        const j = le[ze].splice(0);
        for (let V = 0; V < j.length; V++)
          j[V]();
        if (oe.emit("finish"), le.autoDestroy) {
          const V = oe._readableState;
          (!V || V.autoDestroy && // We don't expect the readable to ever 'end'
          // if readable is explicitly set to false.
          (V.endEmitted || V.readable === !1)) && oe.destroy();
        }
      }
      _(Lt.prototype, {
        closed: {
          __proto__: null,
          get() {
            return this._writableState ? this._writableState.closed : !1;
          }
        },
        destroyed: {
          __proto__: null,
          get() {
            return this._writableState ? this._writableState.destroyed : !1;
          },
          set(oe) {
            this._writableState && (this._writableState.destroyed = oe);
          }
        },
        writable: {
          __proto__: null,
          get() {
            const oe = this._writableState;
            return !!oe && oe.writable !== !1 && !oe.destroyed && !oe.errored && !oe.ending && !oe.ended;
          },
          set(oe) {
            this._writableState && (this._writableState.writable = !!oe);
          }
        },
        writableFinished: {
          __proto__: null,
          get() {
            return this._writableState ? this._writableState.finished : !1;
          }
        },
        writableObjectMode: {
          __proto__: null,
          get() {
            return this._writableState ? this._writableState.objectMode : !1;
          }
        },
        writableBuffer: {
          __proto__: null,
          get() {
            return this._writableState && this._writableState.getBuffer();
          }
        },
        writableEnded: {
          __proto__: null,
          get() {
            return this._writableState ? this._writableState.ending : !1;
          }
        },
        writableNeedDrain: {
          __proto__: null,
          get() {
            const oe = this._writableState;
            return oe ? !oe.destroyed && !oe.ending && oe.needDrain : !1;
          }
        },
        writableHighWaterMark: {
          __proto__: null,
          get() {
            return this._writableState && this._writableState.highWaterMark;
          }
        },
        writableCorked: {
          __proto__: null,
          get() {
            return this._writableState ? this._writableState.corked : 0;
          }
        },
        writableLength: {
          __proto__: null,
          get() {
            return this._writableState && this._writableState.length;
          }
        },
        errored: {
          __proto__: null,
          enumerable: !1,
          get() {
            return this._writableState ? this._writableState.errored : null;
          }
        },
        writableAborted: {
          __proto__: null,
          enumerable: !1,
          get: function() {
            return !!(this._writableState.writable !== !1 && (this._writableState.destroyed || this._writableState.errored) && !this._writableState.finished);
          }
        }
      });
      const Pt = T.destroy;
      Lt.prototype.destroy = function(oe, le) {
        const j = this._writableState;
        return !j.destroyed && (j.bufferedIndex < j.buffered.length || j[ze].length) && u.nextTick(vn, j), Pt.call(this, oe, le), this;
      }, Lt.prototype._undestroy = T.undestroy, Lt.prototype._destroy = function(oe, le) {
        le(oe);
      }, Lt.prototype[A.captureRejectionSymbol] = function(oe) {
        this.destroy(oe);
      };
      let jt;
      function _n() {
        return jt === void 0 && (jt = {}), jt;
      }
      Lt.fromWeb = function(oe, le) {
        return _n().newStreamWritableFromWritableStream(oe, le);
      }, Lt.toWeb = function(oe) {
        return _n().newWritableStreamFromStreamWritable(oe);
      };
    }, { "../../ours/errors": 126, "../../ours/primordials": 127, "./add-abort-signal": 107, "./destroy": 110, "./duplex": 111, "./legacy": 115, "./state": 120, buffer: 29, events: 49, "process/": 102 }], 124: [function(n, o, a) {
      const {
        ArrayIsArray: u,
        ArrayPrototypeIncludes: c,
        ArrayPrototypeJoin: d,
        ArrayPrototypeMap: f,
        NumberIsInteger: p,
        NumberIsNaN: _,
        NumberMAX_SAFE_INTEGER: v,
        NumberMIN_SAFE_INTEGER: g,
        NumberParseInt: y,
        ObjectPrototypeHasOwnProperty: b,
        RegExpPrototypeExec: A,
        String: w,
        StringPrototypeToUpperCase: S,
        StringPrototypeTrim: T
      } = n("../ours/primordials"), {
        hideStackFrames: x,
        codes: { ERR_SOCKET_BAD_PORT: L, ERR_INVALID_ARG_TYPE: O, ERR_INVALID_ARG_VALUE: M, ERR_OUT_OF_RANGE: k, ERR_UNKNOWN_SIGNAL: ie }
      } = n("../ours/errors"), { normalizeEncoding: $ } = n("../ours/util"), { isAsyncFunction: Y, isArrayBufferView: D } = n("../ours/util").types, re = {};
      function F(ae) {
        return ae === (ae | 0);
      }
      function _e(ae) {
        return ae === ae >>> 0;
      }
      const ue = /^[0-7]+$/, Ie = "must be a 32-bit unsigned integer or an octal string";
      function ze(ae, xe, qe) {
        if (typeof ae > "u" && (ae = qe), typeof ae == "string") {
          if (A(ue, ae) === null)
            throw new M(xe, ae, Ie);
          ae = y(ae, 8);
        }
        return Lt(ae, xe), ae;
      }
      const Fe = x((ae, xe, qe = g, bn = v) => {
        if (typeof ae != "number")
          throw new O(xe, "number", ae);
        if (!p(ae))
          throw new k(xe, "an integer", ae);
        if (ae < qe || ae > bn)
          throw new k(xe, `>= ${qe} && <= ${bn}`, ae);
      }), Oe = x((ae, xe, qe = -2147483648, bn = 2147483647) => {
        if (typeof ae != "number")
          throw new O(xe, "number", ae);
        if (!p(ae))
          throw new k(xe, "an integer", ae);
        if (ae < qe || ae > bn)
          throw new k(xe, `>= ${qe} && <= ${bn}`, ae);
      }), Lt = x((ae, xe, qe = !1) => {
        if (typeof ae != "number")
          throw new O(xe, "number", ae);
        if (!p(ae))
          throw new k(xe, "an integer", ae);
        const bn = qe ? 1 : 0, Sn = 4294967295;
        if (ae < bn || ae > Sn)
          throw new k(xe, `>= ${bn} && <= ${Sn}`, ae);
      });
      function pe(ae, xe) {
        if (typeof ae != "string")
          throw new O(xe, "string", ae);
      }
      function Cn(ae, xe, qe = void 0, bn) {
        if (typeof ae != "number")
          throw new O(xe, "number", ae);
        if (qe != null && ae < qe || bn != null && ae > bn || (qe != null || bn != null) && _(ae))
          throw new k(
            xe,
            `${qe != null ? `>= ${qe}` : ""}${qe != null && bn != null ? " && " : ""}${bn != null ? `<= ${bn}` : ""}`,
            ae
          );
      }
      const In = x((ae, xe, qe) => {
        if (!c(qe, ae)) {
          const Sn = "must be one of: " + d(
            f(qe, (xn) => typeof xn == "string" ? `'${xn}'` : w(xn)),
            ", "
          );
          throw new M(xe, ae, Sn);
        }
      });
      function Dt(ae, xe) {
        if (typeof ae != "boolean")
          throw new O(xe, "boolean", ae);
      }
      function he(ae, xe, qe) {
        return ae == null || !b(ae, xe) ? qe : ae[xe];
      }
      const Et = x((ae, xe, qe = null) => {
        const bn = he(qe, "allowArray", !1), Sn = he(qe, "allowFunction", !1);
        if (!he(qe, "nullable", !1) && ae === null || !bn && u(ae) || typeof ae != "object" && (!Sn || typeof ae != "function"))
          throw new O(xe, "Object", ae);
      }), hn = x((ae, xe) => {
        if (ae != null && typeof ae != "object" && typeof ae != "function")
          throw new O(xe, "a dictionary", ae);
      }), vn = x((ae, xe, qe = 0) => {
        if (!u(ae))
          throw new O(xe, "Array", ae);
        if (ae.length < qe) {
          const bn = `must be longer than ${qe}`;
          throw new M(xe, ae, bn);
        }
      });
      function kt(ae, xe) {
        vn(ae, xe);
        for (let qe = 0; qe < ae.length; qe++)
          pe(ae[qe], `${xe}[${qe}]`);
      }
      function Ce(ae, xe) {
        vn(ae, xe);
        for (let qe = 0; qe < ae.length; qe++)
          Dt(ae[qe], `${xe}[${qe}]`);
      }
      function de(ae, xe = "signal") {
        if (pe(ae, xe), re[ae] === void 0)
          throw re[S(ae)] !== void 0 ? new ie(ae + " (signals must use all capital letters)") : new ie(ae);
      }
      const Ue = x((ae, xe = "buffer") => {
        if (!D(ae))
          throw new O(xe, ["Buffer", "TypedArray", "DataView"], ae);
      });
      function Ne(ae, xe) {
        const qe = $(xe), bn = ae.length;
        if (qe === "hex" && bn % 2 !== 0)
          throw new M("encoding", xe, `is invalid for data of length ${bn}`);
      }
      function Ve(ae, xe = "Port", qe = !0) {
        if (typeof ae != "number" && typeof ae != "string" || typeof ae == "string" && T(ae).length === 0 || +ae !== +ae >>> 0 || ae > 65535 || ae === 0 && !qe)
          throw new L(xe, ae, qe);
        return ae | 0;
      }
      const Pt = x((ae, xe) => {
        if (ae !== void 0 && (ae === null || typeof ae != "object" || !("aborted" in ae)))
          throw new O(xe, "AbortSignal", ae);
      }), jt = x((ae, xe) => {
        if (typeof ae != "function")
          throw new O(xe, "Function", ae);
      }), _n = x((ae, xe) => {
        if (typeof ae != "function" || Y(ae))
          throw new O(xe, "Function", ae);
      }), oe = x((ae, xe) => {
        if (ae !== void 0)
          throw new O(xe, "undefined", ae);
      });
      function le(ae, xe, qe) {
        if (!c(qe, ae))
          throw new O(xe, `('${d(qe, "|")}')`, ae);
      }
      const j = /^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;
      function V(ae, xe) {
        if (typeof ae > "u" || !A(j, ae))
          throw new M(
            xe,
            ae,
            'must be an array or string of format "</styles.css>; rel=preload; as=style"'
          );
      }
      function z(ae) {
        if (typeof ae == "string")
          return V(ae, "hints"), ae;
        if (u(ae)) {
          const xe = ae.length;
          let qe = "";
          if (xe === 0)
            return qe;
          for (let bn = 0; bn < xe; bn++) {
            const Sn = ae[bn];
            V(Sn, "hints"), qe += Sn, bn !== xe - 1 && (qe += ", ");
          }
          return qe;
        }
        throw new M(
          "hints",
          ae,
          'must be an array or string of format "</styles.css>; rel=preload; as=style"'
        );
      }
      o.exports = {
        isInt32: F,
        isUint32: _e,
        parseFileMode: ze,
        validateArray: vn,
        validateStringArray: kt,
        validateBooleanArray: Ce,
        validateBoolean: Dt,
        validateBuffer: Ue,
        validateDictionary: hn,
        validateEncoding: Ne,
        validateFunction: jt,
        validateInt32: Oe,
        validateInteger: Fe,
        validateNumber: Cn,
        validateObject: Et,
        validateOneOf: In,
        validatePlainFunction: _n,
        validatePort: Ve,
        validateSignalName: de,
        validateString: pe,
        validateUint32: Lt,
        validateUndefined: oe,
        validateUnion: le,
        validateAbortSignal: Pt,
        validateLinkHeaderValue: z
      };
    }, { "../ours/errors": 126, "../ours/primordials": 127, "../ours/util": 128 }], 125: [function(n, o, a) {
      const u = n("../stream"), c = n("../stream/promises"), d = u.Readable.destroy;
      o.exports = u.Readable, o.exports._uint8ArrayToBuffer = u._uint8ArrayToBuffer, o.exports._isUint8Array = u._isUint8Array, o.exports.isDisturbed = u.isDisturbed, o.exports.isErrored = u.isErrored, o.exports.isReadable = u.isReadable, o.exports.Readable = u.Readable, o.exports.Writable = u.Writable, o.exports.Duplex = u.Duplex, o.exports.Transform = u.Transform, o.exports.PassThrough = u.PassThrough, o.exports.addAbortSignal = u.addAbortSignal, o.exports.finished = u.finished, o.exports.destroy = u.destroy, o.exports.destroy = d, o.exports.pipeline = u.pipeline, o.exports.compose = u.compose, Object.defineProperty(u, "promises", {
        configurable: !0,
        enumerable: !0,
        get() {
          return c;
        }
      }), o.exports.Stream = u.Stream, o.exports.default = o.exports;
    }, { "../stream": 129, "../stream/promises": 130 }], 126: [function(n, o, a) {
      const { format: u, inspect: c, AggregateError: d } = n("./util"), f = globalThis.AggregateError || d, p = Symbol("kIsNodeError"), _ = [
        "string",
        "function",
        "number",
        "object",
        // Accept 'Function' and 'Object' as alternative to the lower cased version.
        "Function",
        "Object",
        "boolean",
        "bigint",
        "symbol"
      ], v = /^([A-Z][a-z0-9]*)+$/, g = "__node_internal_", y = {};
      function b(O, M) {
        if (!O)
          throw new y.ERR_INTERNAL_ASSERTION(M);
      }
      function A(O) {
        let M = "", k = O.length;
        const ie = O[0] === "-" ? 1 : 0;
        for (; k >= ie + 4; k -= 3)
          M = `_${O.slice(k - 3, k)}${M}`;
        return `${O.slice(0, k)}${M}`;
      }
      function w(O, M, k) {
        if (typeof M == "function")
          return b(
            M.length <= k.length,
            // Default options do not count.
            `Code: ${O}; The provided arguments length (${k.length}) does not match the required ones (${M.length}).`
          ), M(...k);
        const ie = (M.match(/%[dfijoOs]/g) || []).length;
        return b(
          ie === k.length,
          `Code: ${O}; The provided arguments length (${k.length}) does not match the required ones (${ie}).`
        ), k.length === 0 ? M : u(M, ...k);
      }
      function S(O, M, k) {
        k || (k = Error);
        class ie extends k {
          constructor(...Y) {
            super(w(O, M, Y));
          }
          toString() {
            return `${this.name} [${O}]: ${this.message}`;
          }
        }
        Object.defineProperties(ie.prototype, {
          name: {
            value: k.name,
            writable: !0,
            enumerable: !1,
            configurable: !0
          },
          toString: {
            value() {
              return `${this.name} [${O}]: ${this.message}`;
            },
            writable: !0,
            enumerable: !1,
            configurable: !0
          }
        }), ie.prototype.code = O, ie.prototype[p] = !0, y[O] = ie;
      }
      function T(O) {
        const M = g + O.name;
        return Object.defineProperty(O, "name", {
          value: M
        }), O;
      }
      function x(O, M) {
        if (O && M && O !== M) {
          if (Array.isArray(M.errors))
            return M.errors.push(O), M;
          const k = new f([M, O], M.message);
          return k.code = M.code, k;
        }
        return O || M;
      }
      class L extends Error {
        constructor(M = "The operation was aborted", k = void 0) {
          if (k !== void 0 && typeof k != "object")
            throw new y.ERR_INVALID_ARG_TYPE("options", "Object", k);
          super(M, k), this.code = "ABORT_ERR", this.name = "AbortError";
        }
      }
      S("ERR_ASSERTION", "%s", Error), S(
        "ERR_INVALID_ARG_TYPE",
        (O, M, k) => {
          b(typeof O == "string", "'name' must be a string"), Array.isArray(M) || (M = [M]);
          let ie = "The ";
          O.endsWith(" argument") ? ie += `${O} ` : ie += `"${O}" ${O.includes(".") ? "property" : "argument"} `, ie += "must be ";
          const $ = [], Y = [], D = [];
          for (const F of M)
            b(typeof F == "string", "All expected entries have to be of type string"), _.includes(F) ? $.push(F.toLowerCase()) : v.test(F) ? Y.push(F) : (b(F !== "object", 'The value "object" should be written as "Object"'), D.push(F));
          if (Y.length > 0) {
            const F = $.indexOf("object");
            F !== -1 && ($.splice($, F, 1), Y.push("Object"));
          }
          if ($.length > 0) {
            switch ($.length) {
              case 1:
                ie += `of type ${$[0]}`;
                break;
              case 2:
                ie += `one of type ${$[0]} or ${$[1]}`;
                break;
              default: {
                const F = $.pop();
                ie += `one of type ${$.join(", ")}, or ${F}`;
              }
            }
            (Y.length > 0 || D.length > 0) && (ie += " or ");
          }
          if (Y.length > 0) {
            switch (Y.length) {
              case 1:
                ie += `an instance of ${Y[0]}`;
                break;
              case 2:
                ie += `an instance of ${Y[0]} or ${Y[1]}`;
                break;
              default: {
                const F = Y.pop();
                ie += `an instance of ${Y.join(", ")}, or ${F}`;
              }
            }
            D.length > 0 && (ie += " or ");
          }
          switch (D.length) {
            case 0:
              break;
            case 1:
              D[0].toLowerCase() !== D[0] && (ie += "an "), ie += `${D[0]}`;
              break;
            case 2:
              ie += `one of ${D[0]} or ${D[1]}`;
              break;
            default: {
              const F = D.pop();
              ie += `one of ${D.join(", ")}, or ${F}`;
            }
          }
          if (k == null)
            ie += `. Received ${k}`;
          else if (typeof k == "function" && k.name)
            ie += `. Received function ${k.name}`;
          else if (typeof k == "object") {
            var re;
            if ((re = k.constructor) !== null && re !== void 0 && re.name)
              ie += `. Received an instance of ${k.constructor.name}`;
            else {
              const F = c(k, {
                depth: -1
              });
              ie += `. Received ${F}`;
            }
          } else {
            let F = c(k, {
              colors: !1
            });
            F.length > 25 && (F = `${F.slice(0, 25)}...`), ie += `. Received type ${typeof k} (${F})`;
          }
          return ie;
        },
        TypeError
      ), S(
        "ERR_INVALID_ARG_VALUE",
        (O, M, k = "is invalid") => {
          let ie = c(M);
          return ie.length > 128 && (ie = ie.slice(0, 128) + "..."), `The ${O.includes(".") ? "property" : "argument"} '${O}' ${k}. Received ${ie}`;
        },
        TypeError
      ), S(
        "ERR_INVALID_RETURN_VALUE",
        (O, M, k) => {
          var ie;
          const $ = k != null && (ie = k.constructor) !== null && ie !== void 0 && ie.name ? `instance of ${k.constructor.name}` : `type ${typeof k}`;
          return `Expected ${O} to be returned from the "${M}" function but got ${$}.`;
        },
        TypeError
      ), S(
        "ERR_MISSING_ARGS",
        (...O) => {
          b(O.length > 0, "At least one arg needs to be specified");
          let M;
          const k = O.length;
          switch (O = (Array.isArray(O) ? O : [O]).map((ie) => `"${ie}"`).join(" or "), k) {
            case 1:
              M += `The ${O[0]} argument`;
              break;
            case 2:
              M += `The ${O[0]} and ${O[1]} arguments`;
              break;
            default:
              {
                const ie = O.pop();
                M += `The ${O.join(", ")}, and ${ie} arguments`;
              }
              break;
          }
          return `${M} must be specified`;
        },
        TypeError
      ), S(
        "ERR_OUT_OF_RANGE",
        (O, M, k) => {
          b(M, 'Missing "range" argument');
          let ie;
          return Number.isInteger(k) && Math.abs(k) > 2 ** 32 ? ie = A(String(k)) : typeof k == "bigint" ? (ie = String(k), (k > 2n ** 32n || k < -(2n ** 32n)) && (ie = A(ie)), ie += "n") : ie = c(k), `The value of "${O}" is out of range. It must be ${M}. Received ${ie}`;
        },
        RangeError
      ), S("ERR_MULTIPLE_CALLBACK", "Callback called multiple times", Error), S("ERR_METHOD_NOT_IMPLEMENTED", "The %s method is not implemented", Error), S("ERR_STREAM_ALREADY_FINISHED", "Cannot call %s after a stream was finished", Error), S("ERR_STREAM_CANNOT_PIPE", "Cannot pipe, not readable", Error), S("ERR_STREAM_DESTROYED", "Cannot call %s after a stream was destroyed", Error), S("ERR_STREAM_NULL_VALUES", "May not write null values to stream", TypeError), S("ERR_STREAM_PREMATURE_CLOSE", "Premature close", Error), S("ERR_STREAM_PUSH_AFTER_EOF", "stream.push() after EOF", Error), S("ERR_STREAM_UNSHIFT_AFTER_END_EVENT", "stream.unshift() after end event", Error), S("ERR_STREAM_WRITE_AFTER_END", "write after end", Error), S("ERR_UNKNOWN_ENCODING", "Unknown encoding: %s", TypeError), o.exports = {
        AbortError: L,
        aggregateTwoErrors: T(x),
        hideStackFrames: T,
        codes: y
      };
    }, { "./util": 128 }], 127: [function(n, o, a) {
      o.exports = {
        ArrayIsArray(u) {
          return Array.isArray(u);
        },
        ArrayPrototypeIncludes(u, c) {
          return u.includes(c);
        },
        ArrayPrototypeIndexOf(u, c) {
          return u.indexOf(c);
        },
        ArrayPrototypeJoin(u, c) {
          return u.join(c);
        },
        ArrayPrototypeMap(u, c) {
          return u.map(c);
        },
        ArrayPrototypePop(u, c) {
          return u.pop(c);
        },
        ArrayPrototypePush(u, c) {
          return u.push(c);
        },
        ArrayPrototypeSlice(u, c, d) {
          return u.slice(c, d);
        },
        Error,
        FunctionPrototypeCall(u, c, ...d) {
          return u.call(c, ...d);
        },
        FunctionPrototypeSymbolHasInstance(u, c) {
          return Function.prototype[Symbol.hasInstance].call(u, c);
        },
        MathFloor: Math.floor,
        Number,
        NumberIsInteger: Number.isInteger,
        NumberIsNaN: Number.isNaN,
        NumberMAX_SAFE_INTEGER: Number.MAX_SAFE_INTEGER,
        NumberMIN_SAFE_INTEGER: Number.MIN_SAFE_INTEGER,
        NumberParseInt: Number.parseInt,
        ObjectDefineProperties(u, c) {
          return Object.defineProperties(u, c);
        },
        ObjectDefineProperty(u, c, d) {
          return Object.defineProperty(u, c, d);
        },
        ObjectGetOwnPropertyDescriptor(u, c) {
          return Object.getOwnPropertyDescriptor(u, c);
        },
        ObjectKeys(u) {
          return Object.keys(u);
        },
        ObjectSetPrototypeOf(u, c) {
          return Object.setPrototypeOf(u, c);
        },
        Promise,
        PromisePrototypeCatch(u, c) {
          return u.catch(c);
        },
        PromisePrototypeThen(u, c, d) {
          return u.then(c, d);
        },
        PromiseReject(u) {
          return Promise.reject(u);
        },
        ReflectApply: Reflect.apply,
        RegExpPrototypeTest(u, c) {
          return u.test(c);
        },
        SafeSet: Set,
        String,
        StringPrototypeSlice(u, c, d) {
          return u.slice(c, d);
        },
        StringPrototypeToLowerCase(u) {
          return u.toLowerCase();
        },
        StringPrototypeToUpperCase(u) {
          return u.toUpperCase();
        },
        StringPrototypeTrim(u) {
          return u.trim();
        },
        Symbol,
        SymbolFor: Symbol.for,
        SymbolAsyncIterator: Symbol.asyncIterator,
        SymbolHasInstance: Symbol.hasInstance,
        SymbolIterator: Symbol.iterator,
        TypedArrayPrototypeSet(u, c, d) {
          return u.set(c, d);
        },
        Uint8Array
      };
    }, {}], 128: [function(n, o, a) {
      const u = n("buffer"), c = Object.getPrototypeOf(async function() {
      }).constructor, d = globalThis.Blob || u.Blob, f = typeof d < "u" ? function(v) {
        return v instanceof d;
      } : function(v) {
        return !1;
      };
      class p extends Error {
        constructor(v) {
          if (!Array.isArray(v))
            throw new TypeError(`Expected input to be an Array, got ${typeof v}`);
          let g = "";
          for (let y = 0; y < v.length; y++)
            g += `    ${v[y].stack}
`;
          super(g), this.name = "AggregateError", this.errors = v;
        }
      }
      o.exports = {
        AggregateError: p,
        kEmptyObject: Object.freeze({}),
        once(_) {
          let v = !1;
          return function(...g) {
            v || (v = !0, _.apply(this, g));
          };
        },
        createDeferredPromise: function() {
          let _, v;
          return {
            promise: new Promise((y, b) => {
              _ = y, v = b;
            }),
            resolve: _,
            reject: v
          };
        },
        promisify(_) {
          return new Promise((v, g) => {
            _((y, ...b) => y ? g(y) : v(...b));
          });
        },
        debuglog() {
          return function() {
          };
        },
        format(_, ...v) {
          return _.replace(/%([sdifj])/g, function(...[g, y]) {
            const b = v.shift();
            return y === "f" ? b.toFixed(6) : y === "j" ? JSON.stringify(b) : y === "s" && typeof b == "object" ? `${b.constructor !== Object ? b.constructor.name : ""} {}`.trim() : b.toString();
          });
        },
        inspect(_) {
          switch (typeof _) {
            case "string":
              if (_.includes("'"))
                if (_.includes('"')) {
                  if (!_.includes("`") && !_.includes("${"))
                    return `\`${_}\``;
                } else
                  return `"${_}"`;
              return `'${_}'`;
            case "number":
              return isNaN(_) ? "NaN" : Object.is(_, -0) ? String(_) : _;
            case "bigint":
              return `${String(_)}n`;
            case "boolean":
            case "undefined":
              return String(_);
            case "object":
              return "{}";
          }
        },
        types: {
          isAsyncFunction(_) {
            return _ instanceof c;
          },
          isArrayBufferView(_) {
            return ArrayBuffer.isView(_);
          }
        },
        isBlob: f
      }, o.exports.promisify.custom = Symbol.for("nodejs.util.promisify.custom");
    }, { buffer: 29 }], 129: [function(n, o, a) {
      const { Buffer: u } = n("buffer"), { ObjectDefineProperty: c, ObjectKeys: d, ReflectApply: f } = n("./ours/primordials"), {
        promisify: { custom: p }
      } = n("./ours/util"), { streamReturningOperators: _, promiseReturningOperators: v } = n("./internal/streams/operators"), {
        codes: { ERR_ILLEGAL_CONSTRUCTOR: g }
      } = n("./ours/errors"), y = n("./internal/streams/compose"), { pipeline: b } = n("./internal/streams/pipeline"), { destroyer: A } = n("./internal/streams/destroy"), w = n("./internal/streams/end-of-stream"), S = n("./stream/promises"), T = n("./internal/streams/utils"), x = o.exports = n("./internal/streams/legacy").Stream;
      x.isDisturbed = T.isDisturbed, x.isErrored = T.isErrored, x.isReadable = T.isReadable, x.Readable = n("./internal/streams/readable");
      for (const O of d(_)) {
        let k = function(...ie) {
          if (new.target)
            throw g();
          return x.Readable.from(f(M, this, ie));
        };
        const M = _[O];
        c(k, "name", {
          __proto__: null,
          value: M.name
        }), c(k, "length", {
          __proto__: null,
          value: M.length
        }), c(x.Readable.prototype, O, {
          __proto__: null,
          value: k,
          enumerable: !1,
          configurable: !0,
          writable: !0
        });
      }
      for (const O of d(v)) {
        let k = function(...ie) {
          if (new.target)
            throw g();
          return f(M, this, ie);
        };
        const M = v[O];
        c(k, "name", {
          __proto__: null,
          value: M.name
        }), c(k, "length", {
          __proto__: null,
          value: M.length
        }), c(x.Readable.prototype, O, {
          __proto__: null,
          value: k,
          enumerable: !1,
          configurable: !0,
          writable: !0
        });
      }
      x.Writable = n("./internal/streams/writable"), x.Duplex = n("./internal/streams/duplex"), x.Transform = n("./internal/streams/transform"), x.PassThrough = n("./internal/streams/passthrough"), x.pipeline = b;
      const { addAbortSignal: L } = n("./internal/streams/add-abort-signal");
      x.addAbortSignal = L, x.finished = w, x.destroy = A, x.compose = y, c(x, "promises", {
        __proto__: null,
        configurable: !0,
        enumerable: !0,
        get() {
          return S;
        }
      }), c(b, p, {
        __proto__: null,
        enumerable: !0,
        get() {
          return S.pipeline;
        }
      }), c(w, p, {
        __proto__: null,
        enumerable: !0,
        get() {
          return S.finished;
        }
      }), x.Stream = x, x._isUint8Array = function(M) {
        return M instanceof Uint8Array;
      }, x._uint8ArrayToBuffer = function(M) {
        return u.from(M.buffer, M.byteOffset, M.byteLength);
      };
    }, { "./internal/streams/add-abort-signal": 107, "./internal/streams/compose": 109, "./internal/streams/destroy": 110, "./internal/streams/duplex": 111, "./internal/streams/end-of-stream": 113, "./internal/streams/legacy": 115, "./internal/streams/operators": 116, "./internal/streams/passthrough": 117, "./internal/streams/pipeline": 118, "./internal/streams/readable": 119, "./internal/streams/transform": 121, "./internal/streams/utils": 122, "./internal/streams/writable": 123, "./ours/errors": 126, "./ours/primordials": 127, "./ours/util": 128, "./stream/promises": 130, buffer: 29 }], 130: [function(n, o, a) {
      const { ArrayPrototypePop: u, Promise: c } = n("../ours/primordials"), { isIterable: d, isNodeStream: f, isWebStream: p } = n("../internal/streams/utils"), { pipelineImpl: _ } = n("../internal/streams/pipeline"), { finished: v } = n("../internal/streams/end-of-stream");
      n("../../lib/stream.js");
      function g(...y) {
        return new c((b, A) => {
          let w, S;
          const T = y[y.length - 1];
          if (T && typeof T == "object" && !f(T) && !d(T) && !p(T)) {
            const x = u(y);
            w = x.signal, S = x.end;
          }
          _(
            y,
            (x, L) => {
              x ? A(x) : b(L);
            },
            {
              signal: w,
              end: S
            }
          );
        });
      }
      o.exports = {
        finished: v,
        pipeline: g
      };
    }, { "../../lib/stream.js": 129, "../internal/streams/end-of-stream": 113, "../internal/streams/pipeline": 118, "../internal/streams/utils": 122, "../ours/primordials": 127 }], 131: [function(n, o, a) {
      function u(d, f, p) {
        var _ = this;
        this._callback = d, this._args = p, this._interval = setInterval(d, f, this._args), this.reschedule = function(v) {
          v || (v = _._interval), _._interval && clearInterval(_._interval), _._interval = setInterval(_._callback, v, _._args);
        }, this.clear = function() {
          _._interval && (clearInterval(_._interval), _._interval = void 0);
        }, this.destroy = function() {
          _._interval && clearInterval(_._interval), _._callback = void 0, _._interval = void 0, _._args = void 0;
        };
      }
      function c() {
        if (typeof arguments[0] != "function")
          throw new Error("callback needed");
        if (typeof arguments[1] != "number")
          throw new Error("interval needed");
        var d;
        if (arguments.length > 0) {
          d = new Array(arguments.length - 2);
          for (var f = 0; f < d.length; f++)
            d[f] = arguments[f + 2];
        }
        return new u(arguments[0], arguments[1], d);
      }
      o.exports = c;
    }, {}], 132: [function(n, o, a) {
      o.exports = n("./index.js")();
    }, { "./index.js": 133 }], 133: [function(n, o, a) {
      (function(u) {
        (function() {
          o.exports = d;
          function c(p) {
            return p instanceof u ? u.from(p) : new p.constructor(p.buffer.slice(), p.byteOffset, p.length);
          }
          function d(p) {
            if (p = p || {}, p.circles)
              return f(p);
            return p.proto ? g : v;
            function _(y, b) {
              for (var A = Object.keys(y), w = new Array(A.length), S = 0; S < A.length; S++) {
                var T = A[S], x = y[T];
                typeof x != "object" || x === null ? w[T] = x : x instanceof Date ? w[T] = new Date(x) : ArrayBuffer.isView(x) ? w[T] = c(x) : w[T] = b(x);
              }
              return w;
            }
            function v(y) {
              if (typeof y != "object" || y === null)
                return y;
              if (y instanceof Date)
                return new Date(y);
              if (Array.isArray(y))
                return _(y, v);
              if (y instanceof Map)
                return new Map(_(Array.from(y), v));
              if (y instanceof Set)
                return new Set(_(Array.from(y), v));
              var b = {};
              for (var A in y)
                if (Object.hasOwnProperty.call(y, A) !== !1) {
                  var w = y[A];
                  typeof w != "object" || w === null ? b[A] = w : w instanceof Date ? b[A] = new Date(w) : w instanceof Map ? b[A] = new Map(_(Array.from(w), v)) : w instanceof Set ? b[A] = new Set(_(Array.from(w), v)) : ArrayBuffer.isView(w) ? b[A] = c(w) : b[A] = v(w);
                }
              return b;
            }
            function g(y) {
              if (typeof y != "object" || y === null)
                return y;
              if (y instanceof Date)
                return new Date(y);
              if (Array.isArray(y))
                return _(y, g);
              if (y instanceof Map)
                return new Map(_(Array.from(y), g));
              if (y instanceof Set)
                return new Set(_(Array.from(y), g));
              var b = {};
              for (var A in y) {
                var w = y[A];
                typeof w != "object" || w === null ? b[A] = w : w instanceof Date ? b[A] = new Date(w) : w instanceof Map ? b[A] = new Map(_(Array.from(w), g)) : w instanceof Set ? b[A] = new Set(_(Array.from(w), g)) : ArrayBuffer.isView(w) ? b[A] = c(w) : b[A] = g(w);
              }
              return b;
            }
          }
          function f(p) {
            var _ = [], v = [];
            return p.proto ? b : y;
            function g(A, w) {
              for (var S = Object.keys(A), T = new Array(S.length), x = 0; x < S.length; x++) {
                var L = S[x], O = A[L];
                if (typeof O != "object" || O === null)
                  T[L] = O;
                else if (O instanceof Date)
                  T[L] = new Date(O);
                else if (ArrayBuffer.isView(O))
                  T[L] = c(O);
                else {
                  var M = _.indexOf(O);
                  M !== -1 ? T[L] = v[M] : T[L] = w(O);
                }
              }
              return T;
            }
            function y(A) {
              if (typeof A != "object" || A === null)
                return A;
              if (A instanceof Date)
                return new Date(A);
              if (Array.isArray(A))
                return g(A, y);
              if (A instanceof Map)
                return new Map(g(Array.from(A), y));
              if (A instanceof Set)
                return new Set(g(Array.from(A), y));
              var w = {};
              _.push(A), v.push(w);
              for (var S in A)
                if (Object.hasOwnProperty.call(A, S) !== !1) {
                  var T = A[S];
                  if (typeof T != "object" || T === null)
                    w[S] = T;
                  else if (T instanceof Date)
                    w[S] = new Date(T);
                  else if (T instanceof Map)
                    w[S] = new Map(g(Array.from(T), y));
                  else if (T instanceof Set)
                    w[S] = new Set(g(Array.from(T), y));
                  else if (ArrayBuffer.isView(T))
                    w[S] = c(T);
                  else {
                    var x = _.indexOf(T);
                    x !== -1 ? w[S] = v[x] : w[S] = y(T);
                  }
                }
              return _.pop(), v.pop(), w;
            }
            function b(A) {
              if (typeof A != "object" || A === null)
                return A;
              if (A instanceof Date)
                return new Date(A);
              if (Array.isArray(A))
                return g(A, b);
              if (A instanceof Map)
                return new Map(g(Array.from(A), b));
              if (A instanceof Set)
                return new Set(g(Array.from(A), b));
              var w = {};
              _.push(A), v.push(w);
              for (var S in A) {
                var T = A[S];
                if (typeof T != "object" || T === null)
                  w[S] = T;
                else if (T instanceof Date)
                  w[S] = new Date(T);
                else if (T instanceof Map)
                  w[S] = new Map(g(Array.from(T), b));
                else if (T instanceof Set)
                  w[S] = new Set(g(Array.from(T), b));
                else if (ArrayBuffer.isView(T))
                  w[S] = c(T);
                else {
                  var x = _.indexOf(T);
                  x !== -1 ? w[S] = v[x] : w[S] = b(T);
                }
              }
              return _.pop(), v.pop(), w;
            }
          }
        }).call(this);
      }).call(this, n("buffer").Buffer);
    }, { buffer: 29 }], 134: [function(n, o, a) {
      /*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
      var u = n("buffer"), c = u.Buffer;
      function d(p, _) {
        for (var v in p)
          _[v] = p[v];
      }
      c.from && c.alloc && c.allocUnsafe && c.allocUnsafeSlow ? o.exports = u : (d(u, a), a.Buffer = f);
      function f(p, _, v) {
        return c(p, _, v);
      }
      f.prototype = Object.create(c.prototype), d(c, f), f.from = function(p, _, v) {
        if (typeof p == "number")
          throw new TypeError("Argument must not be a number");
        return c(p, _, v);
      }, f.alloc = function(p, _, v) {
        if (typeof p != "number")
          throw new TypeError("Argument must be a number");
        var g = c(p);
        return _ !== void 0 ? typeof v == "string" ? g.fill(_, v) : g.fill(_) : g.fill(0), g;
      }, f.allocUnsafe = function(p) {
        if (typeof p != "number")
          throw new TypeError("Argument must be a number");
        return c(p);
      }, f.allocUnsafeSlow = function(p) {
        if (typeof p != "number")
          throw new TypeError("Argument must be a number");
        return u.SlowBuffer(p);
      };
    }, { buffer: 29 }], 135: [function(n, o, a) {
      o.exports = u;
      function u(d) {
        var f = d._readableState;
        return f ? f.objectMode || typeof d._duplexState == "number" ? d.read() : d.read(c(f)) : null;
      }
      function c(d) {
        return d.buffer.length ? d.buffer.head ? d.buffer.head.data.length : d.buffer[0].length : d.length;
      }
    }, {}], 136: [function(n, o, a) {
      arguments[4][28][0].apply(a, arguments);
    }, { dup: 28, "safe-buffer": 134 }], 137: [function(n, o, a) {
      var u = n("punycode"), c = n("./util");
      a.parse = k, a.resolve = $, a.resolveObject = Y, a.format = ie, a.Url = d;
      function d() {
        this.protocol = null, this.slashes = null, this.auth = null, this.host = null, this.port = null, this.hostname = null, this.hash = null, this.search = null, this.query = null, this.pathname = null, this.path = null, this.href = null;
      }
      var f = /^([a-z0-9.+-]+:)/i, p = /:[0-9]*$/, _ = /^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/, v = ["<", ">", '"', "`", " ", "\r", `
`, "	"], g = ["{", "}", "|", "\\", "^", "`"].concat(v), y = ["'"].concat(g), b = ["%", "/", "?", ";", "#"].concat(y), A = ["/", "?", "#"], w = 255, S = /^[+a-z0-9A-Z_-]{0,63}$/, T = /^([+a-z0-9A-Z_-]{0,63})(.*)$/, x = {
        javascript: !0,
        "javascript:": !0
      }, L = {
        javascript: !0,
        "javascript:": !0
      }, O = {
        http: !0,
        https: !0,
        ftp: !0,
        gopher: !0,
        file: !0,
        "http:": !0,
        "https:": !0,
        "ftp:": !0,
        "gopher:": !0,
        "file:": !0
      }, M = n("querystring");
      function k(D, re, F) {
        if (D && c.isObject(D) && D instanceof d)
          return D;
        var _e = new d();
        return _e.parse(D, re, F), _e;
      }
      d.prototype.parse = function(D, re, F) {
        if (!c.isString(D))
          throw new TypeError("Parameter 'url' must be a string, not " + typeof D);
        var _e = D.indexOf("?"), ue = _e !== -1 && _e < D.indexOf("#") ? "?" : "#", Ie = D.split(ue), ze = /\\/g;
        Ie[0] = Ie[0].replace(ze, "/"), D = Ie.join(ue);
        var Fe = D;
        if (Fe = Fe.trim(), !F && D.split("#").length === 1) {
          var Oe = _.exec(Fe);
          if (Oe)
            return this.path = Fe, this.href = Fe, this.pathname = Oe[1], Oe[2] ? (this.search = Oe[2], re ? this.query = M.parse(this.search.substr(1)) : this.query = this.search.substr(1)) : re && (this.search = "", this.query = {}), this;
        }
        var Lt = f.exec(Fe);
        if (Lt) {
          Lt = Lt[0];
          var pe = Lt.toLowerCase();
          this.protocol = pe, Fe = Fe.substr(Lt.length);
        }
        if (F || Lt || Fe.match(/^\/\/[^@\/]+@[^@\/]+/)) {
          var Cn = Fe.substr(0, 2) === "//";
          Cn && !(Lt && L[Lt]) && (Fe = Fe.substr(2), this.slashes = !0);
        }
        if (!L[Lt] && (Cn || Lt && !O[Lt])) {
          for (var In = -1, Dt = 0; Dt < A.length; Dt++) {
            var he = Fe.indexOf(A[Dt]);
            he !== -1 && (In === -1 || he < In) && (In = he);
          }
          var Et, hn;
          In === -1 ? hn = Fe.lastIndexOf("@") : hn = Fe.lastIndexOf("@", In), hn !== -1 && (Et = Fe.slice(0, hn), Fe = Fe.slice(hn + 1), this.auth = decodeURIComponent(Et)), In = -1;
          for (var Dt = 0; Dt < b.length; Dt++) {
            var he = Fe.indexOf(b[Dt]);
            he !== -1 && (In === -1 || he < In) && (In = he);
          }
          In === -1 && (In = Fe.length), this.host = Fe.slice(0, In), Fe = Fe.slice(In), this.parseHost(), this.hostname = this.hostname || "";
          var vn = this.hostname[0] === "[" && this.hostname[this.hostname.length - 1] === "]";
          if (!vn)
            for (var kt = this.hostname.split(/\./), Dt = 0, Ce = kt.length; Dt < Ce; Dt++) {
              var de = kt[Dt];
              if (de && !de.match(S)) {
                for (var Ue = "", Ne = 0, Ve = de.length; Ne < Ve; Ne++)
                  de.charCodeAt(Ne) > 127 ? Ue += "x" : Ue += de[Ne];
                if (!Ue.match(S)) {
                  var Pt = kt.slice(0, Dt), jt = kt.slice(Dt + 1), _n = de.match(T);
                  _n && (Pt.push(_n[1]), jt.unshift(_n[2])), jt.length && (Fe = "/" + jt.join(".") + Fe), this.hostname = Pt.join(".");
                  break;
                }
              }
            }
          this.hostname.length > w ? this.hostname = "" : this.hostname = this.hostname.toLowerCase(), vn || (this.hostname = u.toASCII(this.hostname));
          var oe = this.port ? ":" + this.port : "", le = this.hostname || "";
          this.host = le + oe, this.href += this.host, vn && (this.hostname = this.hostname.substr(1, this.hostname.length - 2), Fe[0] !== "/" && (Fe = "/" + Fe));
        }
        if (!x[pe])
          for (var Dt = 0, Ce = y.length; Dt < Ce; Dt++) {
            var j = y[Dt];
            if (Fe.indexOf(j) !== -1) {
              var V = encodeURIComponent(j);
              V === j && (V = escape(j)), Fe = Fe.split(j).join(V);
            }
          }
        var z = Fe.indexOf("#");
        z !== -1 && (this.hash = Fe.substr(z), Fe = Fe.slice(0, z));
        var ae = Fe.indexOf("?");
        if (ae !== -1 ? (this.search = Fe.substr(ae), this.query = Fe.substr(ae + 1), re && (this.query = M.parse(this.query)), Fe = Fe.slice(0, ae)) : re && (this.search = "", this.query = {}), Fe && (this.pathname = Fe), O[pe] && this.hostname && !this.pathname && (this.pathname = "/"), this.pathname || this.search) {
          var oe = this.pathname || "", xe = this.search || "";
          this.path = oe + xe;
        }
        return this.href = this.format(), this;
      };
      function ie(D) {
        return c.isString(D) && (D = k(D)), D instanceof d ? D.format() : d.prototype.format.call(D);
      }
      d.prototype.format = function() {
        var D = this.auth || "";
        D && (D = encodeURIComponent(D), D = D.replace(/%3A/i, ":"), D += "@");
        var re = this.protocol || "", F = this.pathname || "", _e = this.hash || "", ue = !1, Ie = "";
        this.host ? ue = D + this.host : this.hostname && (ue = D + (this.hostname.indexOf(":") === -1 ? this.hostname : "[" + this.hostname + "]"), this.port && (ue += ":" + this.port)), this.query && c.isObject(this.query) && Object.keys(this.query).length && (Ie = M.stringify(this.query));
        var ze = this.search || Ie && "?" + Ie || "";
        return re && re.substr(-1) !== ":" && (re += ":"), this.slashes || (!re || O[re]) && ue !== !1 ? (ue = "//" + (ue || ""), F && F.charAt(0) !== "/" && (F = "/" + F)) : ue || (ue = ""), _e && _e.charAt(0) !== "#" && (_e = "#" + _e), ze && ze.charAt(0) !== "?" && (ze = "?" + ze), F = F.replace(/[?#]/g, function(Fe) {
          return encodeURIComponent(Fe);
        }), ze = ze.replace("#", "%23"), re + ue + F + ze + _e;
      };
      function $(D, re) {
        return k(D, !1, !0).resolve(re);
      }
      d.prototype.resolve = function(D) {
        return this.resolveObject(k(D, !1, !0)).format();
      };
      function Y(D, re) {
        return D ? k(D, !1, !0).resolveObject(re) : re;
      }
      d.prototype.resolveObject = function(D) {
        if (c.isString(D)) {
          var re = new d();
          re.parse(D, !1, !0), D = re;
        }
        for (var F = new d(), _e = Object.keys(this), ue = 0; ue < _e.length; ue++) {
          var Ie = _e[ue];
          F[Ie] = this[Ie];
        }
        if (F.hash = D.hash, D.href === "")
          return F.href = F.format(), F;
        if (D.slashes && !D.protocol) {
          for (var ze = Object.keys(D), Fe = 0; Fe < ze.length; Fe++) {
            var Oe = ze[Fe];
            Oe !== "protocol" && (F[Oe] = D[Oe]);
          }
          return O[F.protocol] && F.hostname && !F.pathname && (F.path = F.pathname = "/"), F.href = F.format(), F;
        }
        if (D.protocol && D.protocol !== F.protocol) {
          if (!O[D.protocol]) {
            for (var Lt = Object.keys(D), pe = 0; pe < Lt.length; pe++) {
              var Cn = Lt[pe];
              F[Cn] = D[Cn];
            }
            return F.href = F.format(), F;
          }
          if (F.protocol = D.protocol, !D.host && !L[D.protocol]) {
            for (var Ce = (D.pathname || "").split("/"); Ce.length && !(D.host = Ce.shift()); )
              ;
            D.host || (D.host = ""), D.hostname || (D.hostname = ""), Ce[0] !== "" && Ce.unshift(""), Ce.length < 2 && Ce.unshift(""), F.pathname = Ce.join("/");
          } else
            F.pathname = D.pathname;
          if (F.search = D.search, F.query = D.query, F.host = D.host || "", F.auth = D.auth, F.hostname = D.hostname || D.host, F.port = D.port, F.pathname || F.search) {
            var In = F.pathname || "", Dt = F.search || "";
            F.path = In + Dt;
          }
          return F.slashes = F.slashes || D.slashes, F.href = F.format(), F;
        }
        var he = F.pathname && F.pathname.charAt(0) === "/", Et = D.host || D.pathname && D.pathname.charAt(0) === "/", hn = Et || he || F.host && D.pathname, vn = hn, kt = F.pathname && F.pathname.split("/") || [], Ce = D.pathname && D.pathname.split("/") || [], de = F.protocol && !O[F.protocol];
        if (de && (F.hostname = "", F.port = null, F.host && (kt[0] === "" ? kt[0] = F.host : kt.unshift(F.host)), F.host = "", D.protocol && (D.hostname = null, D.port = null, D.host && (Ce[0] === "" ? Ce[0] = D.host : Ce.unshift(D.host)), D.host = null), hn = hn && (Ce[0] === "" || kt[0] === "")), Et)
          F.host = D.host || D.host === "" ? D.host : F.host, F.hostname = D.hostname || D.hostname === "" ? D.hostname : F.hostname, F.search = D.search, F.query = D.query, kt = Ce;
        else if (Ce.length)
          kt || (kt = []), kt.pop(), kt = kt.concat(Ce), F.search = D.search, F.query = D.query;
        else if (!c.isNullOrUndefined(D.search)) {
          if (de) {
            F.hostname = F.host = kt.shift();
            var Ue = F.host && F.host.indexOf("@") > 0 ? F.host.split("@") : !1;
            Ue && (F.auth = Ue.shift(), F.host = F.hostname = Ue.shift());
          }
          return F.search = D.search, F.query = D.query, (!c.isNull(F.pathname) || !c.isNull(F.search)) && (F.path = (F.pathname ? F.pathname : "") + (F.search ? F.search : "")), F.href = F.format(), F;
        }
        if (!kt.length)
          return F.pathname = null, F.search ? F.path = "/" + F.search : F.path = null, F.href = F.format(), F;
        for (var Ne = kt.slice(-1)[0], Ve = (F.host || D.host || kt.length > 1) && (Ne === "." || Ne === "..") || Ne === "", Pt = 0, jt = kt.length; jt >= 0; jt--)
          Ne = kt[jt], Ne === "." ? kt.splice(jt, 1) : Ne === ".." ? (kt.splice(jt, 1), Pt++) : Pt && (kt.splice(jt, 1), Pt--);
        if (!hn && !vn)
          for (; Pt--; Pt)
            kt.unshift("..");
        hn && kt[0] !== "" && (!kt[0] || kt[0].charAt(0) !== "/") && kt.unshift(""), Ve && kt.join("/").substr(-1) !== "/" && kt.push("");
        var _n = kt[0] === "" || kt[0] && kt[0].charAt(0) === "/";
        if (de) {
          F.hostname = F.host = _n ? "" : kt.length ? kt.shift() : "";
          var Ue = F.host && F.host.indexOf("@") > 0 ? F.host.split("@") : !1;
          Ue && (F.auth = Ue.shift(), F.host = F.hostname = Ue.shift());
        }
        return hn = hn || F.host && kt.length, hn && !_n && kt.unshift(""), kt.length ? F.pathname = kt.join("/") : (F.pathname = null, F.path = null), (!c.isNull(F.pathname) || !c.isNull(F.search)) && (F.path = (F.pathname ? F.pathname : "") + (F.search ? F.search : "")), F.auth = D.auth || F.auth, F.slashes = F.slashes || D.slashes, F.href = F.format(), F;
      }, d.prototype.parseHost = function() {
        var D = this.host, re = p.exec(D);
        re && (re = re[0], re !== ":" && (this.port = re.substr(1)), D = D.substr(0, D.length - re.length)), D && (this.hostname = D);
      };
    }, { "./util": 138, punycode: 103, querystring: 106 }], 138: [function(n, o, a) {
      o.exports = {
        isString: function(u) {
          return typeof u == "string";
        },
        isObject: function(u) {
          return typeof u == "object" && u !== null;
        },
        isNull: function(u) {
          return u === null;
        },
        isNullOrUndefined: function(u) {
          return u == null;
        }
      };
    }, {}], 139: [function(n, o, a) {
      (function(u) {
        (function() {
          o.exports = c;
          function c(f, p) {
            if (d("noDeprecation"))
              return f;
            var _ = !1;
            function v() {
              if (!_) {
                if (d("throwDeprecation"))
                  throw new Error(p);
                d("traceDeprecation") ? console.trace(p) : console.warn(p), _ = !0;
              }
              return f.apply(this, arguments);
            }
            return v;
          }
          function d(f) {
            try {
              if (!u.localStorage)
                return !1;
            } catch {
              return !1;
            }
            var p = u.localStorage[f];
            return p == null ? !1 : String(p).toLowerCase() === "true";
          }
        }).call(this);
      }).call(this, typeof commonjsGlobal < "u" ? commonjsGlobal : typeof self < "u" ? self : typeof window < "u" ? window : {});
    }, {}], 140: [function(n, o, a) {
      o.exports = u;
      function u(c, d) {
        if (c && d)
          return u(c)(d);
        if (typeof c != "function")
          throw new TypeError("need wrapper function");
        return Object.keys(c).forEach(function(p) {
          f[p] = c[p];
        }), f;
        function f() {
          for (var p = new Array(arguments.length), _ = 0; _ < p.length; _++)
            p[_] = arguments[_];
          var v = c.apply(this, p), g = p[p.length - 1];
          return typeof v == "function" && v !== g && Object.keys(g).forEach(function(y) {
            v[y] = g[y];
          }), v;
        }
      }
    }, {}], 141: [function(n, o, a) {
      o.exports = function() {
        throw new Error(
          "ws does not work in the browser. Browser clients must use the native WebSocket object"
        );
      };
    }, {}] }, {}, [23])(23);
  });
})(mqtt);
var mqttExports = mqtt.exports;
class Link {
  constructor() {
    tr(this, "client");
    this.client = null;
  }
  sub(r, n, o, a, u) {
    var d, f;
    const c = r.trim();
    if (!/^wss?:\/\/.*$/.test(c))
      return console.error('编辑器MQTT通信只支持ws协议 (url必须以"ws://"开头)'), !1;
    this.client = mqttExports.connect(c, {
      username: n.trim(),
      password: o.trim(),
      reconnectPeriod: 12e4
      /*如果连不上，2分钟后重试*/
    }), (d = this.client) == null || d.on("connect", () => {
      var p, _;
      console.log("MQTT服务器连接成功"), console.log((p = this.client) == null ? void 0 : p.options.clientId), (_ = this.client) == null || _.subscribe(a, { qos: 1 });
    }), (f = this.client) == null || f.on("message", u);
  }
  pub(r, n, o, a, u, c) {
    var f;
    const d = r.trim();
    if (!/^wss?:\/\/.*$/.test(d))
      return console.error('编辑器MQTT通信只支持ws协议 (url必须以"ws://"开头)'), !1;
    this.client = mqttExports.connect(d, {
      username: n.trim(),
      password: o.trim()
    }), (f = this.client) == null || f.on("connect", () => {
      var p, _;
      console.log("MQTT服务器连接成功"), console.log((p = this.client) == null ? void 0 : p.options.clientId), (_ = this.client) == null || _.publish(
        a,
        JSON.stringify(u),
        {
          qos: 0,
          retain: !0
        },
        c
      );
    });
  }
  close(r) {
    var n, o;
    (o = (n = this.client) == null ? void 0 : n.end) == null || o.call(n, !0, {}, () => {
      console.log("MQTT服务连接关闭"), r == null || r();
    });
  }
  destroy() {
    this.client = null;
  }
}
const t = function() {
  return new Link();
}, _hoisted_1 = { class: "coverLayer" }, _hoisted_2 = {
  xmlns: "http://www.w3.org/2000/svg",
  width: "100%",
  height: "100%"
}, _hoisted_3 = ["transform"], _hoisted_4 = ["transform", "onClick"], _hoisted_5 = ["transform"], _hoisted_6 = ["xlink:href", "width", "height", "id", "transform"], _hoisted_7 = ["id"], _hoisted_8 = { class: "can-not-select canvasInfoTxt" }, _sfc_main = /* @__PURE__ */ defineComponent({
  __name: "svg-viewer",
  props: {
    vueComp: {},
    data: {},
    canvasDrag: { type: Boolean, default: !0 },
    showCanvasInfo: { type: Boolean, default: !0 }
  },
  emits: ["onMessage", "onEvent"],
  setup(i, { expose: r, emit: n }) {
    useCssVars((L) => ({
      "7b00adf4": unref(f)
    })), setEditorLoadTime();
    const o = n, a = i;
    let u = t();
    const c = useGlobalStore(pinia);
    componentsRegister(a.vueComp);
    const d = reactive(
      a.data ?? {
        layout_center: {
          x: 0,
          y: 0
        },
        config: {
          svg: {
            background_color: "#fff",
            scale: 1,
            grid_color: "#ebebeb"
          },
          net: {
            mqtt: {
              useGlobalMqtt: !1,
              url: "",
              user: "",
              pwd: "",
              topics: "",
              global: {
                url: "",
                user: "",
                pwd: "",
                topics: ""
              }
            }
          }
        },
        done_json: []
      }
    ), f = computed(() => c.intention == EGlobalStoreIntention.MoveCanvas ? "grab" : "default"), p = (L) => {
      if (c.mouse_info.state != EMouseInfoState.Down && c.intention !== EGlobalStoreIntention.Connection || !a.canvasDrag)
        return;
      const { clientX: O, clientY: M } = L;
      c.mouse_info.new_position_x = Math.round(O / d.config.svg.scale), c.mouse_info.new_position_y = Math.round(M / d.config.svg.scale);
      const k = Math.round(
        c.mouse_info.new_position_x - c.mouse_info.position_x + c.mouse_info.now_position_x
      ), ie = Math.round(
        c.mouse_info.new_position_y - c.mouse_info.position_y + c.mouse_info.now_position_y
      );
      c.intention == EGlobalStoreIntention.MoveCanvas && (d.layout_center.x = k, d.layout_center.y = ie);
    }, _ = () => {
      c.mouse_info.state == EMouseInfoState.Down && (c.intention != EGlobalStoreIntention.Select && (c.intention = EGlobalStoreIntention.None), c.mouse_info = {
        state: EMouseInfoState.Up,
        position_x: 0,
        position_y: 0,
        now_position_x: 0,
        now_position_y: 0,
        new_position_x: 0,
        new_position_y: 0
      });
    }, v = (L) => {
      const { clientX: O, clientY: M } = L;
      c.intention = EGlobalStoreIntention.MoveCanvas, c.mouse_info = {
        state: EMouseInfoState.Down,
        position_x: Math.round(O / d.config.svg.scale),
        position_y: Math.round(M / d.config.svg.scale),
        now_position_x: d.layout_center.x,
        now_position_y: d.layout_center.y,
        new_position_x: 0,
        new_position_y: 0
      };
    };
    function g(L) {
      L != null && L.wheelDelta && (L.wheelDelta > 0 ? (d.config.svg.scale = myFixed(d.config.svg.scale + 0.1, 1), getZoomPosition(L, d.config.svg.scale, d.layout_center, !0)) : d.config.svg.scale > 0.1 && (d.config.svg.scale = myFixed(d.config.svg.scale - 0.1, 1), getZoomPosition(L, d.config.svg.scale, d.layout_center, !1)));
    }
    const y = (L, O, M) => ({
      x: L.x - L.width / 2 * O + L.width / 2,
      y: L.y - L.height / 2 * M + L.height / 2,
      width: L.width * O,
      height: L.height * M
    }), b = (L) => {
      var M;
      let O = !1;
      if (((M = L.events) == null ? void 0 : M.length) > 0) {
        for (let k of L.events)
          if (k.type === EEventType.Click) {
            O = !0;
            break;
          }
      }
      return { cursor: O ? "pointer" : "default" };
    }, A = (L, O) => {
      var M;
      if (((M = L.events) == null ? void 0 : M.length) > 0) {
        for (let k of L.events)
          if (k.type === O) {
            if (k.condition && k.condition.type !== "None" && k.condition.type === "Relation" && k.condition.Relation && k.condition.Relation.relation) {
              const ie = k.condition.Relation.key, $ = k.condition.Relation.relation, Y = valFormat(k.condition.Relation.val), D = valFormat(k.condition.Relation.val2);
              if (L.props.hasOwnProperty(ie)) {
                const re = L.props[ie].val;
                if (!w(re, $, Y, D))
                  continue;
              }
            }
            if (k.action === EEventAction.ChangeAttr) {
              if (k.attrs && k.attrs.length > 0) {
                let ie;
                if (k.target) {
                  for (let $ of d.done_json)
                    if ($.id === k.target) {
                      ie = $;
                      break;
                    }
                } else
                  ie = L;
                if (!ie)
                  continue;
                for (let $ of k.attrs)
                  $.key === "state" ? ie.defaultState = valFormat($.val) : $.key === "display" ? ie.display = valFormat($.val) : ie.props.hasOwnProperty($.key) && (ie.props[$.key].val = valFormat($.val));
              }
            } else if (k.action === EEventAction.JavaScript)
              new Function(k.scripts)();
            else if (k.action === EEventAction.Emit) {
              const ie = [
                "id",
                "name",
                "common_animations",
                "display",
                "props",
                "title",
                "type",
                "x",
                "y"
              ], $ = {};
              ie.forEach((Y) => {
                var D;
                (D = L == null ? void 0 : L.hasOwnProperty) != null && D.call(L, Y) && ($[Y] = L[Y]);
              }), o("onEvent", {
                event: k,
                target: $
              });
            }
          }
      }
    }, w = (L, O, M, k) => {
      switch (O) {
        case ">":
          return L > M;
        case ">=":
          return L >= M;
        case "<":
          return L < M;
        case "<=":
          return L <= M;
        case "==":
          return L == M;
        case "!=":
          return L != M;
        case ">=,=<":
          return L >= M && L <= k;
        case "<,>":
          return L < M || L > k;
      }
    }, S = () => {
      d.layout_center = {
        x: 0,
        y: 0
      };
    }, T = () => {
      let L;
      d.config.net.mqtt.useGlobalMqtt ? L = d.config.net.mqtt.global : L = d.config.net.mqtt, L && L.url && L.user && L.pwd && L.topics && u.sub(L.url, L.user, L.pwd, L.topics, (O, M) => {
        console.log(O), console.log(M.toString()), o("onMessage", {
          topics: O,
          message: M
        });
      });
    }, x = (L, O, M) => setArrItemByID(L, O, M, d.done_json);
    return onMounted(() => {
      T();
    }), onBeforeUnmount(() => {
      u.close(() => {
        u.destroy(), u = null;
      });
    }), r({
      setNodeAttrByID: x
    }), (L, O) => (openBlock(), createElementBlock("div", {
      class: "canvas",
      style: normalizeStyle$1({ backgroundColor: unref(d).config.svg.background_color, position: "relative" }),
      onMousedown: v,
      onMousemove: p,
      onMouseup: _,
      onMousewheel: g,
      onContextmenu: O[3] || (O[3] = //@ts-ignore
      (...M) => unref(preventDefault) && unref(preventDefault)(...M))
    }, [
      renderSlot(L.$slots, "background", {}, void 0, !0),
      createElementVNode("div", _hoisted_1, [
        (openBlock(), createElementBlock("svg", _hoisted_2, [
          createElementVNode("g", {
            transform: `translate(${unref(d).layout_center.x * unref(d).config.svg.scale},${unref(d).layout_center.y * unref(d).config.svg.scale})rotate(0)scale(${unref(d).config.svg.scale})`
          }, [
            (openBlock(!0), createElementBlock(Fragment, null, renderList(unref(d).done_json, (M) => {
              var k, ie, $, Y, D, re, F, _e;
              return withDirectives((openBlock(), createElementBlock("g", {
                key: M.id,
                transform: `translate(${M.x},${M.y})rotate(0)scale(1)`,
                style: normalizeStyle$1(b(M)),
                onClick: (ue) => A(M, unref(EEventType).Click),
                onMousedown: O[0] || (O[0] = //@ts-ignore
                (...ue) => unref(stopEvent) && unref(stopEvent)(...ue)),
                onMousemove: O[1] || (O[1] = //@ts-ignore
                (...ue) => unref(stopEvent) && unref(stopEvent)(...ue)),
                onMouseup: O[2] || (O[2] = //@ts-ignore
                (...ue) => unref(stopEvent) && unref(stopEvent)(...ue))
              }, [
                createElementVNode("g", {
                  class: normalizeClass(`${unref(getCommonClass)(M)}`)
                }, [
                  createElementVNode("g", {
                    transform: `translate(${M.actual_bound.x + M.actual_bound.width / 2},${M.actual_bound.y + M.actual_bound.height / 2})rotate(${M.rotate}) scale(1) translate(${-(M.actual_bound.x + M.actual_bound.width / 2)},${-(M.actual_bound.y + M.actual_bound.height / 2)})`
                  }, [
                    M.type === unref(EDoneJsonType).ConnectionLine ? (openBlock(), createBlock(_sfc_main$z, {
                      key: 0,
                      "item-info": M
                    }, null, 8, ["item-info"])) : M.type === unref(EDoneJsonType).File ? (openBlock(), createElementBlock("use", mergeProps({
                      key: 1,
                      "xlink:href": `#svg-${M.name}`,
                      ref_for: !0
                    }, unref(prosToVBind)(M, ["height", "width"]), {
                      width: ((ie = (k = M.props) == null ? void 0 : k.width) == null ? void 0 : ie.val) ?? 100,
                      height: ((Y = ($ = M.props) == null ? void 0 : $.height) == null ? void 0 : Y.val) ?? 100,
                      id: M.id,
                      transform: `translate(${M.actual_bound.x + M.actual_bound.width / 2},${M.actual_bound.y + M.actual_bound.height / 2}) scale(${M.scale_x},${M.scale_y}) translate(${-(M.actual_bound.x + M.actual_bound.width / 2)},${-(M.actual_bound.y + M.actual_bound.height / 2)})`
                    }), null, 16, _hoisted_6)) : M.type === unref(EDoneJsonType).CustomSvg ? (openBlock(), createBlock(resolveDynamicComponent(M.tag), mergeProps({
                      key: 2,
                      ref_for: !0
                    }, unref(prosToVBind)(M, ["height", "width"]), {
                      width: ((re = (D = M.props) == null ? void 0 : D.width) == null ? void 0 : re.val) ?? 100,
                      height: ((_e = (F = M.props) == null ? void 0 : F.height) == null ? void 0 : _e.val) ?? 100,
                      id: M.id,
                      onOnChange: (ue) => A(M, unref(EEventType).Change),
                      transform: `translate(${M.actual_bound.x + M.actual_bound.width / 2},${M.actual_bound.y + M.actual_bound.height / 2}) scale(${M.scale_x},${M.scale_y}) translate(${-(M.actual_bound.x + M.actual_bound.width / 2)},${-(M.actual_bound.y + M.actual_bound.height / 2)})`
                    }), null, 16, ["width", "height", "id", "onOnChange", "transform"])) : M.type === unref(EDoneJsonType).Vue ? (openBlock(), createElementBlock("foreignObject", mergeProps({
                      key: 3,
                      ref_for: !0
                    }, y(M.actual_bound, M.scale_x, M.scale_y), {
                      id: `foreign-object${M.id}`,
                      class: "foreignObject"
                    }), [
                      (openBlock(), createBlock(resolveDynamicComponent(M.tag), mergeProps({ ref_for: !0 }, unref(prosToVBind)(M), {
                        id: M.id,
                        onOnChange: (ue) => A(M, unref(EEventType).Change),
                        transform: `translate(${M.actual_bound.x + M.actual_bound.width / 2},${M.actual_bound.y + M.actual_bound.height / 2}) scale(${M.scale_x},${M.scale_y}) translate(${-(M.actual_bound.x + M.actual_bound.width / 2)},${-(M.actual_bound.y + M.actual_bound.height / 2)})`
                      }), {
                        default: withCtx(() => [
                          createTextVNode(toDisplayString(M.tag_slot), 1)
                        ]),
                        _: 2
                      }, 1040, ["id", "onOnChange", "transform"]))
                    ], 16, _hoisted_7)) : createCommentVNode("", !0)
                  ], 8, _hoisted_5)
                ], 2)
              ], 44, _hoisted_4)), [
                [vShow, M.display]
              ]);
            }), 128))
          ], 8, _hoisted_3)
        ]))
      ]),
      withDirectives(createElementVNode("div", _hoisted_8, [
        createTextVNode("缩放倍数：" + toDisplayString(unref(d).config.svg.scale) + "倍，画布位置：" + toDisplayString(unref(myFixed)(unref(d).layout_center.x, 2)) + "，" + toDisplayString(unref(myFixed)(unref(d).layout_center.y, 2)) + " ", 1),
        createVNode$1(unref(ElIcon$1), {
          class: "icoP",
          size: 14,
          onClick: S,
          title: "重置位置"
        }, {
          default: withCtx(() => [
            createVNode$1(unref(aim_default))
          ]),
          _: 1
        })
      ], 512), [
        [vShow, L.showCanvasInfo]
      ])
    ], 36));
  }
}), svgViewer_vue_vue_type_style_index_0_scoped_6a4368ea_lang = "", svgViewer = /* @__PURE__ */ _export_sfc$1(_sfc_main, [["__scopeId", "data-v-6a4368ea"]]);
export {
  index as SvgEditor,
  svgViewer as SvgViewer
};
