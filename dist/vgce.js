import { defineComponent, watch, openBlock, createBlock, unref, createElementBlock, createElementVNode, nextTick, normalizeStyle as normalizeStyle$1, toDisplayString, ref, watchEffect, normalizeProps, guardReactiveProps, withCtx, Fragment, renderList, mergeProps, computed, onMounted, onUnmounted, provide, reactive, getCurrentInstance, createVNode as createVNode$1, normalizeClass, isRef, pushScopeId, popScopeId, useCssVars, withDirectives, vShow, createCommentVNode, resolveDynamicComponent, createTextVNode, h, markRaw, capitalize, getCurrentScope, onScopeDispose, warn as warn$1, inject, shallowRef, onBeforeUnmount, onBeforeMount, renderSlot, toRef, toRefs, onUpdated, useSlots, TransitionGroup, useAttrs as useAttrs$1, withModifiers, Transition, cloneVNode, Text, Comment, Teleport, readonly, onDeactivated, toRaw, triggerRef, resolveComponent, resolveDirective, withKeys, vModelText, createSlots } from "vue";
import { ElProgress, ElTable, ElTableColumn, ElButton, ElTag as ElTag$1, ElMessage, ElIcon as ElIcon$1, ElDivider, ElDialog, ElScrollbar as ElScrollbar$1, ElCollapse, ElCollapseItem, ElFormItem as ElFormItem$1, ElTooltip as ElTooltip$1, ElSelect as ElSelect$1, ElOption as ElOption$1, ElInputNumber, ElInput as ElInput$1, ElColorPicker, ElSwitch, ElDrawer, ElTabs, ElTabPane, ElTree, ElForm, ElContainer, ElHeader, ElAside, ElMain, ElUpload, ElMessageBox } from "element-plus";
import "animate.css";
import VChart, { THEME_KEY } from "vue-echarts";
import { defineStore, createPinia } from "pinia";
import { kebabCase, get as get$1, set as set$1, fromPairs, castArray, clone as clone$3, isNil, isUndefined as isUndefined$1, isEqual, debounce } from "lodash-es";
import ace from "ace-builds";
const windi = "";
if (typeof window < "u") {
  let i = function() {
    var n = document.body, r = document.getElementById("__svg__icons__dom__");
    r || (r = document.createElementNS("http://www.w3.org/2000/svg", "svg"), r.style.position = "absolute", r.style.width = "0", r.style.height = "0", r.id = "__svg__icons__dom__", r.setAttribute("xmlns", "http://www.w3.org/2000/svg"), r.setAttribute("xmlns:link", "http://www.w3.org/1999/xlink")), r.innerHTML = `<symbol class="icon" viewBox="0 0 1024 1024"   id="svg-alert-light">\r
    <path d="M779.7248 452.1984c0-123.904-103.8848-224.3584-232.0384-224.3584S315.648 328.2944 315.648 452.1984c0 89.3952 54.1184 166.5536 132.4032 202.6496 0.3072 0.1536 0.6144 0.3072 0.9728 0.4096v63.488h197.376v-63.5392c78.7456-35.7888 133.3248-113.2032 133.3248-203.008z" p-id="1733" />\r
    <path d="M535.5008 234.7008s147.3536 98.7648 144.7424 233.984c0 72.9088-84.2752 145.4592-108.4416 157.184 0 52.9408 0.512 90.2144 0.512 90.2144l27.4432 2.7136 5.6832-63.5392 79.616-55.9616 53.7088-113.5616-11.776-104.1408-36.9152-73.3184-79.7696-56.832-74.8032-16.7424z" fill="#888" fill-opacity=".2" p-id="1734" />\r
    <path d="M605.3888 729.0368H408.0128c-5.632 0-10.24-4.608-10.24-10.24v-57.0368c-76.9024-37.5296-127.6416-111.7696-132.864-195.0208-0.3584-5.632 3.9424-10.496 9.5744-10.8544 5.6832-0.3072 10.496 3.9424 10.8544 9.5744 4.9152 77.5168 53.1968 146.5344 126.0032 180.0704l0.9216 0.4096c3.6352 1.6896 5.9392 5.3248 5.9392 9.3184v53.2992h176.896v-53.2992c0-3.9936 2.3552-7.68 5.9904-9.3184 77.3632-35.2256 127.3344-111.2576 127.3344-193.7408 0-118.0672-99.4816-214.1184-221.7984-214.1184-64.6656 0-125.952 27.1872-168.192 74.5472-3.7888 4.1984-10.24 4.608-14.4384 0.8192-4.1984-3.7888-4.608-10.24-0.8192-14.4384 46.08-51.712 112.9984-81.408 183.5008-81.408 133.5808 0 242.2784 105.216 242.2784 234.5984 0 88.32-52.1216 169.8816-133.3248 209.5616v57.0368c0 5.6832-4.5568 10.24-10.24 10.24z" fill="#010101" fill-opacity="1" p-id="1735" />\r
    <path d="M277.4528 427.8784c-0.5632 0-1.0752-0.0512-1.6384-0.1536a10.25024 10.25024 0 0 1-8.4992-11.7248c3.4816-21.8624 10.1888-43.0592 19.8144-63.0784 2.4576-5.12 8.6016-7.2192 13.6704-4.7616 5.0688 2.4576 7.2192 8.6016 4.7616 13.6704-8.8064 18.176-14.848 37.5296-18.0224 57.3952-0.8192 5.0688-5.1712 8.6528-10.0864 8.6528z" fill="#010101" fill-opacity="1" p-id="1736" />\r
    <path d="M606.4128 954.5728H478.3104c-39.5264 0-71.5776-32.0512-71.5776-71.5776v-164.1984h271.2576v164.1984c0 39.5776-32.0512 71.5776-71.5776 71.5776z" fill="#58DDDA" fill-opacity="1" p-id="1737" />\r
    <path d="M573.7472 724.9408v178.432s3.9424 38.7072-31.3856 51.2512c51.968 0 99.328-3.1744 99.328-86.528v-143.1552h-67.9424z" fill="#3BCCC8" fill-opacity="1" p-id="1738" />\r
    <path d="M570.1632 964.8128H442.0608c-45.1072 0-81.8176-36.7104-81.8176-81.8176v-164.1984c0-5.632 4.608-10.24 10.24-10.24h271.2576c5.632 0 10.24 4.608 10.24 10.24v164.1984c0 45.1584-36.7104 81.8176-81.8176 81.8176z m-189.44-235.776v153.9584c0 33.792 27.4944 61.3376 61.3376 61.3376h128.1024c33.792 0 61.3376-27.4944 61.3376-61.3376v-153.9584H380.7232z" fill="#010101" fill-opacity="1" p-id="1739" />\r
    <path d="M525.2608 175.0528c-16.9472 0-30.72-13.7728-30.72-30.72V92.5696c0-16.9472 13.7728-30.72 30.72-30.72s30.72 13.7728 30.72 30.72v51.7632c0 16.9472-13.7216 30.72-30.72 30.72zM361.4208 215.5008c-10.752 0-21.1968-5.632-26.8288-15.6672l-25.344-45.1072c-8.2944-14.7968-3.072-33.536 11.7248-41.8304s33.4848-3.072 41.8304 11.7248l25.344 45.1072c8.2944 14.7968 3.072 33.536-11.7248 41.8304-4.7104 2.6624-9.8816 3.9424-15.0016 3.9424zM246.3744 337.2032c-5.3248 0-10.7008-1.3824-15.5648-4.2496l-44.544-26.3168c-14.592-8.6016-19.456-27.4432-10.8544-42.0864 8.6016-14.592 27.4944-19.456 42.0864-10.8544l44.544 26.3168c14.592 8.6016 19.456 27.4432 10.8544 42.0864a30.91968 30.91968 0 0 1-26.5216 15.104zM199.2704 499.5584h-0.2048l-51.7632-0.3072a30.71488 30.71488 0 0 1-30.5152-30.9248c0.1024-16.896 13.824-30.5152 30.72-30.5152h0.2048l51.7632 0.3072c16.9472 0.1024 30.6176 13.9264 30.5152 30.9248-0.1024 16.896-13.824 30.5152-30.72 30.5152zM198.3488 687.2064a30.69952 30.69952 0 0 1-15.7184-57.088l44.4928-26.4704c14.592-8.704 33.4336-3.8912 42.0864 10.7008 8.6528 14.592 3.8912 33.4336-10.7008 42.0864l-44.4928 26.4704c-4.9152 2.9184-10.3424 4.3008-15.6672 4.3008zM688.0256 215.5008c-5.12 0-10.24-1.28-15.0016-3.9424a30.67904 30.67904 0 0 1-11.7248-41.8304l25.344-45.1072c8.2944-14.7968 27.0336-20.0192 41.8304-11.7248a30.67904 30.67904 0 0 1 11.7248 41.8304l-25.344 45.1072a30.7712 30.7712 0 0 1-26.8288 15.6672zM803.072 337.2032c-10.496 0-20.736-5.376-26.4704-15.104-8.6528-14.592-3.7888-33.4336 10.8032-42.0864l44.544-26.3168a30.76096 30.76096 0 0 1 42.0864 10.8032c8.6528 14.592 3.7888 33.4336-10.8032 42.0864l-44.544 26.3168c-4.9152 2.9184-10.2912 4.3008-15.616 4.3008zM850.176 499.5584c-16.896 0-30.6176-13.6192-30.72-30.5152-0.1024-16.9472 13.568-30.8224 30.5152-30.9248l51.7632-0.3072h0.2048c16.896 0 30.6176 13.6192 30.72 30.5152 0.1024 16.9472-13.568 30.8224-30.5152 30.9248l-51.7632 0.3072h-0.2048zM851.0976 687.2064c-5.3248 0-10.752-1.3824-15.6672-4.3008l-44.4928-26.4704c-14.592-8.6528-19.3536-27.5456-10.7008-42.0864a30.65344 30.65344 0 0 1 42.0864-10.7008l44.4928 26.4704a30.69952 30.69952 0 1 1-15.7184 57.088z" p-id="1740" />\r
    <path d="M504.7808 185.2928c-22.5792 0-40.96-18.3808-40.96-40.96V92.5696c0-22.5792 18.3808-40.96 40.96-40.96s40.96 18.3808 40.96 40.96v51.7632c0 22.5792-18.3808 40.96-40.96 40.96z m0-113.2032c-11.3152 0-20.48 9.1648-20.48 20.48v51.7632c0 11.3152 9.1648 20.48 20.48 20.48s20.48-9.1648 20.48-20.48V92.5696c0-11.264-9.1648-20.48-20.48-20.48zM340.9408 225.7408c-14.7968 0-28.5184-7.9872-35.7376-20.8896l-25.344-45.1072a40.77568 40.77568 0 0 1-3.7376-31.1296 40.4992 40.4992 0 0 1 19.4048-24.6272c19.712-11.0592 44.6976-4.0448 55.7568 15.6672l25.344 45.1072c5.376 9.5232 6.656 20.5824 3.7376 31.1296a40.4992 40.4992 0 0 1-19.4048 24.6272 41.3952 41.3952 0 0 1-20.0192 5.2224z m-25.3952-106.5472c-3.3792 0-6.8096 0.8192-9.984 2.6112-4.7616 2.6624-8.192 7.0656-9.6768 12.3392a20.3776 20.3776 0 0 0 1.8432 15.5648l25.344 45.1072a20.55168 20.55168 0 0 0 17.8688 10.4448c3.4816 0 6.9632-0.9216 9.984-2.6112 4.7616-2.6624 8.192-7.0656 9.6768-12.3392a20.3776 20.3776 0 0 0-1.8432-15.5648l-25.344-45.1072a20.39296 20.39296 0 0 0-17.8688-10.4448zM225.8944 347.4432a40.8064 40.8064 0 0 1-20.7872-5.6832l-44.544-26.3168a40.64256 40.64256 0 0 1-18.8416-25.0368c-2.7136-10.5984-1.1776-21.6064 4.4032-31.0272a40.64256 40.64256 0 0 1 25.0368-18.8416c10.5984-2.7136 21.6064-1.1776 31.0272 4.4032l44.544 26.3168a40.64256 40.64256 0 0 1 18.8416 25.0368c2.7136 10.5984 1.1776 21.6064-4.4032 31.0272a41.15456 41.15456 0 0 1-35.2768 20.1216z m-44.4928-87.7568c-1.6896 0-3.4304 0.2048-5.12 0.6656-5.3248 1.3824-9.728 4.7104-12.544 9.4208-2.7648 4.7104-3.584 10.24-2.2016 15.5136 1.3824 5.2736 4.7104 9.728 9.4208 12.544l44.544 26.3168c3.1744 1.8432 6.7584 2.8672 10.3936 2.8672 7.2192 0 13.9776-3.84 17.664-10.0864 2.7648-4.7104 3.584-10.24 2.2016-15.5136-1.3824-5.2736-4.7104-9.728-9.4208-12.544l-44.544-26.3168c-3.2256-1.9456-6.7584-2.8672-10.3936-2.8672zM178.7904 509.7984h-0.2048l-51.8144-0.3072c-22.5792-0.1536-40.8576-18.6368-40.704-41.216 0.1536-22.4256 18.5344-40.704 40.96-40.704l52.0192 0.3072c22.5792 0.1536 40.8576 18.6368 40.704 41.216-0.1024 22.4768-18.4832 40.704-40.96 40.704zM127.1808 448.0512a20.47488 20.47488 0 1 0-0.2048 40.96l51.7632 0.3072 0.1536 10.24v-10.24a20.47488 20.47488 0 1 0 0.1024-40.96l-51.8144-0.3072zM177.8688 697.4464c-14.3872 0-27.904-7.68-35.2256-20.0192a41.01632 41.01632 0 0 1 14.2336-56.1664l44.4928-26.4704a40.9088 40.9088 0 0 1 31.0272-4.5056c10.5984 2.7136 19.5072 9.3696 25.088 18.7392a41.01632 41.01632 0 0 1-14.2336 56.1664l-44.4928 26.4704a40.77568 40.77568 0 0 1-20.8896 5.7856z m44.3904-87.9104c-3.6352 0-7.2192 0.9728-10.4448 2.8672l-44.4928 26.4704c-4.7104 2.816-8.0384 7.2704-9.3696 12.544a20.3264 20.3264 0 0 0 2.2528 15.5136 20.4288 20.4288 0 0 0 17.6128 10.0352c3.6352 0 7.2704-0.9728 10.4448-2.8672l44.4928-26.4704c4.7104-2.816 8.0384-7.2704 9.3696-12.544 1.3312-5.3248 0.5632-10.8032-2.2528-15.5136s-7.2704-8.0384-12.544-9.3696a19.1488 19.1488 0 0 0-5.0688-0.6656z" fill="#010101" p-id="1741" />\r
    <path d="M667.5456 225.7408c-6.9632 0-13.9264-1.792-20.0192-5.2736a40.96 40.96 0 0 1-19.4048-24.6272 40.5504 40.5504 0 0 1 3.7376-31.1296l25.344-45.1072c11.0592-19.712 36.096-26.7264 55.7568-15.6672a40.96 40.96 0 0 1 19.4048 24.6272 40.5504 40.5504 0 0 1-3.7376 31.1296L703.2832 204.8a41.088 41.088 0 0 1-35.7376 20.9408z m25.3952-106.5472c-7.168 0-14.1312 3.7888-17.92 10.4448l-25.344 45.1072a20.3776 20.3776 0 0 0-1.8432 15.5648c1.4848 5.2736 4.9152 9.6256 9.6768 12.3392 3.072 1.7408 6.5024 2.6112 9.984 2.6112 7.424 0 14.2848-3.9936 17.8688-10.4448l25.344-45.1072c2.6624-4.7616 3.328-10.2912 1.8432-15.5648a20.49024 20.49024 0 0 0-9.6768-12.3392c-3.1232-1.792-6.5536-2.6112-9.9328-2.6112z" fill="#010101" p-id="1742" />\r
    <path d="M782.592 347.4432c-14.4384 0-27.9552-7.7312-35.2768-20.1216a41.0368 41.0368 0 0 1 14.4384-56.1152l44.544-26.3168c19.456-11.4688 44.6464-5.0176 56.1152 14.4384s5.0176 44.5952-14.4384 56.1152l-44.544 26.3168a41.64608 41.64608 0 0 1-20.8384 5.6832z m44.4928-87.7568c-3.5328 0-7.1168 0.9216-10.3936 2.8672l-44.544 26.3168a20.51584 20.51584 0 0 0-7.2192 28.0576 20.67456 20.67456 0 0 0 17.664 10.0864c3.6352 0 7.2192-0.9728 10.3936-2.8672l44.544-26.3168a20.51584 20.51584 0 0 0 7.2192-28.0576 20.44928 20.44928 0 0 0-17.664-10.0864z" fill="#010101" p-id="1743" />\r
    <path d="M829.696 509.7984c-22.4256 0-40.8064-18.2784-40.96-40.704-0.1536-22.5792 18.1248-41.0624 40.704-41.216l51.7632-0.3072c22.6816 0 41.0624 18.2784 41.216 40.704 0.1536 22.5792-18.1248 41.0624-40.704 41.216l-51.7632 0.3072h-0.256z m51.712-61.7472l-51.8656 0.3072a20.5056 20.5056 0 0 0-20.3776 20.5824 20.55168 20.55168 0 0 0 20.48 20.3776h0.2048l51.6608-0.3072a20.5056 20.5056 0 0 0 20.3776-20.5824 20.52096 20.52096 0 0 0-20.48-20.3776z" fill="#010101" p-id="1744" />\r
    <path d="M830.6176 697.4464c-7.3216 0-14.592-1.9968-20.8896-5.7856l-44.4928-26.4704a40.37632 40.37632 0 0 1-18.7392-25.1392c-2.7136-10.5984-1.0752-21.6064 4.5056-31.0272a40.66816 40.66816 0 0 1 25.088-18.7904 40.9088 40.9088 0 0 1 31.0272 4.5056l44.4416 26.4704c19.4048 11.5712 25.8048 36.7104 14.2848 56.1152a41.02144 41.02144 0 0 1-35.2256 20.1216z m-44.3904-87.9104c-1.6896 0-3.3792 0.2048-5.0688 0.6144a20.0704 20.0704 0 0 0-12.544 9.3696c-2.816 4.7104-3.584 10.24-2.2528 15.5136a20.0704 20.0704 0 0 0 9.3696 12.544l44.4928 26.4704c3.1744 1.8944 6.8096 2.8672 10.4448 2.8672 7.3216 0 13.8752-3.7376 17.6128-10.0352 2.816-4.7104 3.584-10.1888 2.2528-15.5136a20.0704 20.0704 0 0 0-9.3696-12.544l-44.4928-26.4704c-3.2256-1.8432-6.8096-2.816-10.4448-2.816z" fill="#010101" p-id="1745" />\r
    <path d="M547.584 729.0368c-5.632 0-10.24-4.608-10.24-10.24V511.8976H470.9376v206.9504c0 5.632-4.608 10.24-10.24 10.24s-10.24-4.608-10.24-10.24V511.8976h-33.024c-15.0016 0-28.0064-9.1136-33.1264-23.2448s-0.9216-29.44 10.5984-39.0656l18.2784-15.2064a35.00032 35.00032 0 0 1 37.4784-4.8128c12.4928 5.888 20.2752 18.0736 20.2752 31.8976v29.952h66.4576v-29.7472c0-13.824 7.7824-26.0608 20.3264-31.8976 12.544-5.8368 26.88-3.9936 37.5296 4.9152l17.9712 15.0016c11.52 9.6256 15.616 24.9344 10.496 39.0656-5.12 14.08-18.1248 23.1936-33.1264 23.1936h-32.7168v206.9504c-0.0512 5.5808-4.608 10.1376-10.2912 10.1376z m10.24-237.6192h32.7168c9.5744 0 13.056-7.424 13.8752-9.728 0.8192-2.304 2.9696-10.1888-4.4032-16.3328l-17.9712-15.0016c-4.5056-3.7888-10.3936-4.5568-15.7184-2.048s-8.4992 7.4752-8.4992 13.3632v29.7472z m-122.2144-44.8a14.336 14.336 0 0 0-9.3184 3.4816l-18.2784 15.2064c-7.3728 6.144-5.2736 14.08-4.4544 16.3328 0.8192 2.304 4.2496 9.728 13.8752 9.728h33.024v-29.952c0-5.888-3.1744-10.8544-8.4992-13.3632a15.872 15.872 0 0 0-6.3488-1.4336z" fill="#010101" fill-opacity="1" p-id="1746" />\r
    <path d="M339.2 449.4336c-0.6144 0-1.2288-0.0512-1.8944-0.1536-5.5808-1.024-9.216-6.3488-8.192-11.9296a256.8704 256.8704 0 0 1 9.9328-37.6832 10.30144 10.30144 0 0 1 13.056-6.2976c5.3248 1.8944 8.1408 7.7312 6.2976 13.056a236.6976 236.6976 0 0 0-9.1136 34.6624c-0.9216 4.9152-5.2224 8.3456-10.0864 8.3456z" fill="#FFFFFF" fill-opacity="1" p-id="1747" />\r
    <path d="M364.4928 378.6752c-1.7408 0-3.4816-0.4608-5.12-1.3824a10.22464 10.22464 0 0 1-3.7376-13.9776C407.552 273.5104 503.1424 266.496 507.1872 266.24c5.6832-0.3584 10.496 3.9424 10.8544 9.5744s-3.9424 10.496-9.5744 10.8544c-0.9728 0.0512-88.8832 6.8608-135.168 86.8864-1.8432 3.2768-5.2736 5.12-8.8064 5.12z" fill="#FFFFFF" fill-opacity="1" p-id="1748" />\r
    <path d="M437.4528 900.1984c-5.632 0-10.24-4.608-10.24-10.24v-108.8c0-5.632 4.608-10.24 10.24-10.24s10.24 4.608 10.24 10.24v108.8c0 5.6832-4.5568 10.24-10.24 10.24z" fill="#FFFFFF" fill-opacity="1" p-id="1749" />\r
</symbol><symbol viewBox="0 0 1029 1261"   id="svg-bot-2"><defs node-id="91"><linearGradient gradientUnits="objectBoundingBox" id="svg-bot-2_linearGradient-1" node-id="5" spreadMethod="pad" x1="0" x2="1" y1="0.5" y2="0.5"><stop offset="0" stop-color="#252424" /><stop offset="1" stop-color="#181818" /></linearGradient><linearGradient gradientUnits="objectBoundingBox" id="svg-bot-2_linearGradient-2" node-id="8" spreadMethod="pad" x1="0.0161995" x2="1" y1="0.5" y2="0.5"><stop offset="0" stop-color="#a5a5a5" /><stop offset="1" stop-color="#7b7a7a" /></linearGradient><linearGradient gradientUnits="objectBoundingBox" id="svg-bot-2_linearGradient-3" node-id="11" spreadMethod="pad" x1="0" x2="1" y1="0.5" y2="0.5"><stop offset="0" stop-color="#252424" /><stop offset="1" stop-color="#181818" /></linearGradient></defs><g node-id="110"><g node-id="111"><g node-id="112"><g node-id="121"><g node-id="129"><path d="M 371.40 1196.35 L 455.97 1198.74 L 455.97 1241.75 L 456.24 1243.70 L 455.97 1245.65 L 455.97 1250.28 L 453.11 1250.19 L 450.84 1252.11 L 447.87 1253.96 L 444.09 1255.75 L 440.17 1257.19 L 435.68 1258.44 L 430.57 1259.51 L 425.42 1260.25 L 419.89 1260.71 L 413.96 1260.89 L 407.32 1260.67 L 401.21 1260.09 L 395.57 1259.18 L 390.00 1257.86 L 385.26 1256.32 L 381.26 1254.59 L 378.32 1252.96 L 376.02 1251.30 L 374.26 1249.62 L 372.96 1247.92 L 371.40 1247.88 L 371.40 1196.35 Z" fill="url(#svg-bot-2_linearGradient-1)" fill-rule="evenodd" group-id="1,2,3,12,20" id="svg-bot-2_形状结合" node-id="20" stroke="currentColor" target-height="64.54004" target-width="84.84" target-x="371.4" target-y="1196.35" /><path d="M 456.24 1201.15 L 456.02 1202.85 L 455.43 1204.51 L 454.42 1206.16 L 452.92 1207.84 L 450.61 1209.72 L 447.63 1211.54 L 443.85 1213.30 L 439.94 1214.71 L 435.48 1215.94 L 430.41 1216.99 L 425.30 1217.71 L 419.83 1218.17 L 413.96 1218.34 L 408.08 1218.17 L 402.61 1217.71 L 397.50 1216.99 L 392.43 1215.94 L 387.97 1214.71 L 384.06 1213.30 L 380.28 1211.54 L 377.30 1209.72 L 375.00 1207.84 L 373.49 1206.16 L 372.48 1204.51 L 371.89 1202.85 L 371.67 1201.15 L 371.89 1199.44 L 372.48 1197.78 L 373.49 1196.13 L 375.00 1194.45 L 377.30 1192.57 L 380.28 1190.75 L 384.06 1188.99 L 387.97 1187.58 L 392.43 1186.35 L 397.50 1185.31 L 402.61 1184.58 L 408.08 1184.12 L 413.96 1183.96 L 419.83 1184.12 L 425.30 1184.58 L 430.41 1185.31 L 435.48 1186.35 L 439.94 1187.58 L 443.85 1188.99 L 447.63 1190.75 L 450.61 1192.57 L 452.92 1194.45 L 454.42 1196.13 L 455.43 1197.78 L 456.02 1199.44 L 456.24 1201.15 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,3,12,20" id="svg-bot-2_形状结合" node-id="21" stroke="none" target-height="34.380005" target-width="84.56998" target-x="371.67" target-y="1183.96" /></g><g node-id="130"><path d="M 401.18 1166.27 L 429.37 1168.00 L 429.37 1205.18 L 428.61 1205.13 L 427.51 1206.04 L 425.87 1206.90 L 423.55 1207.70 L 419.83 1208.43 L 415.27 1208.71 L 411.44 1208.51 L 408.16 1207.99 L 405.18 1207.11 L 403.10 1206.09 L 401.98 1205.18 L 401.38 1204.30 L 401.18 1203.41 L 401.18 1203.45 L 401.18 1166.27 Z" fill="url(#svg-bot-2_linearGradient-2)" fill-rule="evenodd" group-id="1,2,3,12,21" id="svg-bot-2_形状结合备份" node-id="23" stroke="none" target-height="42.43994" target-width="28.190002" target-x="401.18" target-y="1166.27" /><path d="M 429.37 1164.59 L 429.16 1165.50 L 428.56 1166.40 L 427.44 1167.31 L 425.36 1168.36 L 422.39 1169.25 L 419.11 1169.78 L 415.27 1169.98 L 411.44 1169.78 L 408.16 1169.25 L 405.18 1168.36 L 403.10 1167.31 L 401.99 1166.40 L 401.39 1165.50 L 401.18 1164.59 L 401.39 1163.68 L 401.99 1162.78 L 403.10 1161.87 L 405.18 1160.83 L 408.16 1159.94 L 411.44 1159.40 L 415.27 1159.20 L 419.11 1159.40 L 422.39 1159.94 L 425.36 1160.83 L 427.44 1161.87 L 428.56 1162.78 L 429.16 1163.68 L 429.37 1164.59 Z" fill="#585858" fill-rule="evenodd" group-id="1,2,3,12,21" id="svg-bot-2_形状结合备份-2" node-id="24" stroke="none" target-height="10.780029" target-width="28.190002" target-x="401.18" target-y="1159.2" /></g></g><g node-id="122"><g node-id="131"><path d="M 26.26 1034.56 L 110.83 1036.96 L 110.83 1079.96 L 111.10 1081.91 L 110.83 1083.86 L 110.83 1088.49 L 107.97 1088.41 L 105.70 1090.32 L 102.73 1092.18 L 98.95 1093.97 L 95.03 1095.40 L 90.54 1096.66 L 85.43 1097.72 L 80.28 1098.46 L 74.75 1098.93 L 68.81 1099.10 L 62.18 1098.89 L 56.07 1098.31 L 50.43 1097.40 L 44.86 1096.08 L 40.12 1094.54 L 36.11 1092.81 L 33.18 1091.17 L 30.88 1089.51 L 29.12 1087.84 L 27.82 1086.14 L 26.26 1086.09 L 26.26 1034.56 Z" fill="url(#svg-bot-2_linearGradient-1)" fill-rule="evenodd" group-id="1,2,3,13,22" id="svg-bot-2_形状结合" node-id="27" stroke="none" target-height="64.53992" target-width="84.84" target-x="26.26" target-y="1034.56" /><path d="M 111.10 1039.36 L 110.88 1041.06 L 110.29 1042.72 L 109.28 1044.38 L 107.77 1046.05 L 105.47 1047.93 L 102.49 1049.76 L 98.71 1051.52 L 94.80 1052.92 L 90.34 1054.16 L 85.27 1055.20 L 80.16 1055.93 L 74.69 1056.38 L 68.81 1056.55 L 62.94 1056.38 L 57.47 1055.93 L 52.36 1055.20 L 47.29 1054.16 L 42.83 1052.92 L 38.92 1051.52 L 35.14 1049.76 L 32.16 1047.93 L 29.85 1046.05 L 28.35 1044.38 L 27.34 1042.72 L 26.75 1041.06 L 26.53 1039.36 L 26.75 1037.66 L 27.34 1036.00 L 28.35 1034.34 L 29.85 1032.67 L 32.16 1030.79 L 35.14 1028.96 L 38.92 1027.21 L 42.83 1025.80 L 47.29 1024.56 L 52.36 1023.52 L 57.47 1022.79 L 62.94 1022.34 L 68.81 1022.17 L 74.69 1022.34 L 80.16 1022.79 L 85.27 1023.52 L 90.34 1024.56 L 94.80 1025.80 L 98.71 1027.21 L 102.49 1028.96 L 105.47 1030.79 L 107.77 1032.67 L 109.28 1034.34 L 110.29 1036.00 L 110.88 1037.66 L 111.10 1039.36 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,3,13,22" id="svg-bot-2_形状结合" node-id="28" stroke="none" target-height="34.380066" target-width="84.57" target-x="26.53" target-y="1022.17" /></g><g node-id="132"><path d="M 56.04 1004.49 L 84.23 1006.22 L 84.23 1043.39 L 83.47 1043.34 L 82.37 1044.25 L 80.73 1045.12 L 78.41 1045.92 L 74.69 1046.64 L 70.13 1046.93 L 66.30 1046.73 L 63.02 1046.20 L 60.04 1045.33 L 57.96 1044.30 L 56.84 1043.40 L 56.24 1042.52 L 56.04 1041.62 L 56.04 1041.66 L 56.04 1004.49 Z" fill="url(#svg-bot-2_linearGradient-2)" fill-rule="evenodd" group-id="1,2,3,13,23" id="svg-bot-2_形状结合备份" node-id="30" stroke="none" target-height="42.440063" target-width="28.190002" target-x="56.04" target-y="1004.49" /><path d="M 84.23 1002.81 L 84.02 1003.72 L 83.42 1004.61 L 82.30 1005.53 L 80.22 1006.57 L 77.25 1007.46 L 73.97 1008.00 L 70.13 1008.20 L 66.30 1008.00 L 63.02 1007.46 L 60.04 1006.57 L 57.96 1005.53 L 56.84 1004.61 L 56.24 1003.72 L 56.04 1002.81 L 56.24 1001.90 L 56.84 1001.00 L 57.96 1000.09 L 60.04 999.04 L 63.02 998.15 L 66.30 997.62 L 70.13 997.41 L 73.97 997.62 L 77.25 998.15 L 80.22 999.04 L 82.30 1000.09 L 83.42 1001.00 L 84.02 1001.90 L 84.23 1002.81 Z" fill="#585858" fill-rule="evenodd" group-id="1,2,3,13,23" id="svg-bot-2_形状结合备份-2" node-id="31" stroke="none" target-height="10.790039" target-width="28.190002" target-x="56.04" target-y="997.41" /></g></g><g node-id="123"><path d="M 790.71 921.36 L 875.28 926.08 L 875.28 1018.93 L 875.55 1020.88 L 875.28 1022.83 L 875.28 1027.46 L 872.50 1027.31 L 870.23 1029.23 L 867.27 1031.10 L 863.49 1032.90 L 859.56 1034.35 L 855.07 1035.61 L 849.94 1036.69 L 844.77 1037.43 L 839.22 1037.90 L 833.26 1038.07 L 827.79 1037.93 L 822.66 1037.53 L 817.83 1036.89 L 813.05 1035.98 L 808.77 1034.90 L 804.95 1033.65 L 801.24 1032.11 L 798.19 1030.48 L 795.72 1028.80 L 793.54 1026.79 L 792.08 1024.79 L 791.23 1022.78 L 790.71 1022.75 L 790.71 921.36 Z" fill="url(#svg-bot-2_linearGradient-3)" fill-rule="evenodd" group-id="1,2,3,14" id="svg-bot-2_形状结合" node-id="33" stroke="none" target-height="116.70996" target-width="84.839966" target-x="790.71" target-y="921.36" /><path d="M 875.55 924.41 L 875.33 926.11 L 874.74 927.77 L 873.72 929.42 L 872.22 931.10 L 869.92 932.98 L 866.94 934.80 L 863.16 936.56 L 859.25 937.97 L 854.79 939.20 L 849.72 940.25 L 844.61 940.97 L 839.13 941.43 L 833.26 941.60 L 827.39 941.43 L 821.92 940.97 L 816.81 940.25 L 811.74 939.20 L 807.27 937.97 L 803.36 936.56 L 799.59 934.80 L 796.61 932.98 L 794.30 931.10 L 792.80 929.42 L 791.79 927.77 L 791.19 926.11 L 790.98 924.41 L 791.19 922.71 L 791.79 921.04 L 792.80 919.39 L 794.30 917.72 L 796.61 915.83 L 799.59 914.01 L 803.36 912.25 L 807.27 910.84 L 811.74 909.61 L 816.81 908.57 L 821.92 907.84 L 827.39 907.38 L 833.26 907.22 L 839.13 907.38 L 844.61 907.84 L 849.72 908.57 L 854.79 909.61 L 859.25 910.84 L 863.16 912.25 L 866.94 914.01 L 869.92 915.83 L 872.22 917.72 L 873.72 919.39 L 874.74 921.04 L 875.33 922.71 L 875.55 924.41 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,3,14" id="svg-bot-2_形状结合" node-id="34" stroke="none" target-height="34.380005" target-width="84.57001" target-x="790.98" target-y="907.22" /></g><g node-id="124"><g node-id="133"><path d="M 470.06 779.90 L 554.63 784.61 L 554.63 877.47 L 554.90 879.42 L 554.63 881.37 L 554.63 886.00 L 551.85 885.84 L 549.58 887.76 L 546.63 889.63 L 542.84 891.44 L 538.92 892.88 L 534.42 894.15 L 529.29 895.22 L 524.12 895.96 L 518.57 896.43 L 512.62 896.61 L 507.15 896.46 L 502.01 896.06 L 497.19 895.43 L 492.40 894.52 L 488.12 893.43 L 484.30 892.18 L 480.59 890.64 L 477.54 889.02 L 475.07 887.33 L 472.89 885.32 L 471.44 883.32 L 470.59 881.31 L 470.06 881.28 L 470.06 779.90 Z" fill="url(#svg-bot-2_linearGradient-3)" fill-rule="evenodd" group-id="1,2,3,15,24" id="svg-bot-2_形状结合" node-id="37" stroke="none" target-height="116.70996" target-width="84.84003" target-x="470.06" target-y="779.9" /><path d="M 554.90 782.94 L 554.69 784.64 L 554.09 786.30 L 553.08 787.96 L 551.58 789.63 L 549.27 791.51 L 546.29 793.34 L 542.51 795.09 L 538.60 796.50 L 534.14 797.74 L 529.07 798.78 L 523.96 799.51 L 518.49 799.96 L 512.62 800.13 L 506.75 799.96 L 501.27 799.51 L 496.16 798.78 L 491.09 797.74 L 486.63 796.50 L 482.72 795.09 L 478.94 793.34 L 475.96 791.51 L 473.66 789.63 L 472.16 787.96 L 471.14 786.30 L 470.55 784.64 L 470.33 782.94 L 470.55 781.24 L 471.14 779.58 L 472.16 777.92 L 473.66 776.25 L 475.96 774.37 L 478.94 772.54 L 482.72 770.78 L 486.63 769.38 L 491.09 768.14 L 496.16 767.10 L 501.27 766.37 L 506.75 765.92 L 512.62 765.75 L 518.49 765.92 L 523.96 766.37 L 529.07 767.10 L 534.14 768.14 L 538.60 769.38 L 542.51 770.78 L 546.29 772.54 L 549.27 774.37 L 551.58 776.25 L 553.08 777.92 L 554.09 779.58 L 554.69 781.24 L 554.90 782.94 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,3,15,24" id="svg-bot-2_形状结合" node-id="38" stroke="none" target-height="34.380005" target-width="84.57004" target-x="470.33" target-y="765.75" /></g><g node-id="134"><path d="M 499.84 748.07 L 528.03 749.79 L 528.03 786.97 L 527.27 786.92 L 526.17 787.83 L 524.54 788.70 L 522.21 789.50 L 518.49 790.22 L 513.93 790.51 L 510.10 790.31 L 506.82 789.78 L 503.84 788.90 L 501.76 787.88 L 500.64 786.98 L 500.05 786.10 L 499.84 785.20 L 499.84 785.24 L 499.84 748.07 Z" fill="url(#svg-bot-2_linearGradient-2)" fill-rule="evenodd" group-id="1,2,3,15,25" id="svg-bot-2_形状结合备份" node-id="40" stroke="none" target-height="42.440002" target-width="28.190033" target-x="499.84" target-y="748.07" /><path d="M 528.03 746.38 L 527.82 747.30 L 527.22 748.19 L 526.10 749.11 L 524.02 750.15 L 521.05 751.04 L 517.77 751.58 L 513.93 751.78 L 510.10 751.58 L 506.82 751.04 L 503.84 750.15 L 501.76 749.11 L 500.65 748.19 L 500.05 747.30 L 499.84 746.38 L 500.05 745.47 L 500.65 744.58 L 501.76 743.66 L 503.84 742.62 L 506.82 741.73 L 510.10 741.19 L 513.93 740.99 L 517.77 741.19 L 521.05 741.73 L 524.02 742.62 L 526.10 743.66 L 527.22 744.58 L 527.82 745.47 L 528.03 746.38 Z" fill="#585858" fill-rule="evenodd" group-id="1,2,3,15,25" id="svg-bot-2_形状结合备份-2" node-id="41" stroke="none" target-height="10.790039" target-width="28.190033" target-x="499.84" target-y="740.99" /></g></g><g node-id="125"><path d="M 457.95 764.75 L 889.37 966.63 L 438.35 1214.19 L 0.50 1013.50 Z" fill="#c0c0c0" fill-rule="evenodd" group-id="1,2,3,16" id="svg-bot-2_矩形备份-52" node-id="43" stroke="none" target-height="449.43994" target-width="888.87" target-x="0.5" target-y="764.75" /><path d="M 889.37 554.43 L 889.37 966.63 L 438.35 1214.19 L 436.37 807.89 L 889.37 554.43 Z M 843.51 614.67 L 482.24 816.81 L 483.81 1089.24 L 843.51 891.80 L 843.51 614.67 Z" fill="#d8d8d8" fill-rule="evenodd" group-id="1,2,3,16" id="svg-bot-2_形状结合" node-id="44" stroke="none" target-height="659.75995" target-width="453" target-x="436.37" target-y="554.43" /><path d="M 2.65 603.14 L 441.77 807.89 L 440.11 1215.96 L 1.00 1013.00 L 2.65 603.14 Z M 77.41 738.72 L 44.34 760.22 L 43.24 989.00 L 68.96 1027.86 L 375.06 1170.15 L 407.65 1149.79 L 408.72 929.24 L 377.59 879.51 L 77.41 738.72 Z" fill="#e8e6e6" fill-rule="evenodd" group-id="1,2,3,16" id="svg-bot-2_形状结合" node-id="45" stroke="none" target-height="612.81995" target-width="440.77" target-x="1" target-y="603.14" /><path d="M 4.56 607.46 L 445.29 349.30 L 888.50 555.50 L 437.96 814.33 Z" fill="#f7f7f7" fill-rule="evenodd" group-id="1,2,3,16" id="svg-bot-2_路径-16备份-2" node-id="46" stroke="none" target-height="465.03003" target-width="883.94" target-x="4.56" target-y="349.3" /><path d="M 3.56 595.67 L 68.66 553.43 L 510.87 763.75 L 436.96 802.55 Z" fill="#2a7b5a" fill-rule="evenodd" group-id="1,2,3,16" id="svg-bot-2_路径-16备份-2" node-id="47" stroke="none" target-height="249.12" target-width="507.31" target-x="3.56" target-y="553.43" /><path d="M 3.56 595.67 L 3.95 607.35 L 435.37 812.28 L 436.96 802.55 Z" fill="#286f52" fill-rule="evenodd" group-id="1,2,3,16" id="svg-bot-2_路径-16备份-2" node-id="48" stroke="none" target-height="216.61005" target-width="433.4" target-x="3.56" target-y="595.67" /><path d="M 435.37 812.28 L 510.87 774.53 L 510.87 763.75 L 435.37 801.50 Z" fill="#1d5940" fill-rule="evenodd" group-id="1,2,3,16" id="svg-bot-2_路径-16备份-2" node-id="49" stroke="none" target-height="48.53003" target-width="75.5" target-x="435.37" target-y="763.75" /></g></g><g node-id="113"><g node-id="126"><g node-id="135"><path d="M 866.81 262.39 L 854.29 268.65 L 854.29 563.61 L 866.81 557.36 Z" fill="#dbdbdb" fill-rule="evenodd" group-id="1,2,4,17,26" id="svg-bot-2_矩形" node-id="52" stroke="none" target-height="301.21997" target-width="12.52002" target-x="854.29" target-y="262.39" /></g><path d="M 854.29 268.65 L 840.99 261.61 L 840.99 556.57 L 854.29 563.61 Z" fill="#bab9b9" fill-rule="evenodd" group-id="1,2,4,17,27" id="svg-bot-2_矩形备份-17" node-id="53" stroke="none" target-height="302" target-width="13.299988" target-x="840.99" target-y="261.61" /></g><g node-id="127"><g node-id="137"><path d="M 456.96 79.04 L 444.44 85.29 L 444.44 380.25 L 456.96 374.00 Z" fill="#dbdbdb" fill-rule="evenodd" group-id="1,2,4,18,28" id="svg-bot-2_矩形" node-id="55" stroke="none" target-height="301.21" target-width="12.519989" target-x="444.44" target-y="79.04" /></g><path d="M 444.44 85.29 L 431.13 78.25 L 431.13 373.22 L 444.44 380.25 Z" fill="#bab9b9" fill-rule="evenodd" group-id="1,2,4,18,29" id="svg-bot-2_矩形备份-17" node-id="56" stroke="none" target-height="302" target-width="13.309998" target-x="431.13" target-y="78.25" /></g><g node-id="128"><path d="M 242.23 158.40 L 803.09 422.65 L 803.09 435.78 L 242.23 171.53 Z" fill="#ccc6c6" fill-rule="evenodd" group-id="1,2,4,19" id="svg-bot-2_矩形备份-22" node-id="58" stroke="none" target-height="277.38" target-width="560.86005" target-x="242.23" target-y="158.4" /><g node-id="139"><path d="M 441.77 47.50 L 1002.62 311.75 L 802.76 422.54 L 238.90 159.11 Z" fill="#ffffff" fill-rule="evenodd" group-id="1,2,4,19,30" id="svg-bot-2_矩形" node-id="59" stroke="none" target-height="375.04" target-width="763.72" target-x="238.9" target-y="47.5" /></g><path d="M 1002.29 309.30 L 1002.62 322.53 L 803.09 435.78 L 803.09 419.60 Z" fill="#d8d8d8" fill-rule="evenodd" group-id="1,2,4,19,31" id="svg-bot-2_矩形备份-51" node-id="60" stroke="none" target-height="126.48001" target-width="199.52997" target-x="803.09" target-y="309.3" /></g></g><g node-id="114"><path d="M 69.66 683.85 L 69.46 686.78 L 68.93 689.30 L 68.05 691.55 L 66.99 693.17 L 66.11 694.00 L 65.21 694.47 L 64.27 694.64 L 63.33 694.47 L 62.43 694.00 L 61.55 693.17 L 60.49 691.55 L 59.61 689.30 L 59.08 686.78 L 58.88 683.85 L 59.08 680.93 L 59.61 678.41 L 60.49 676.15 L 61.55 674.54 L 62.43 673.71 L 63.33 673.24 L 64.27 673.07 L 65.21 673.24 L 66.11 673.71 L 66.99 674.54 L 68.05 676.15 L 68.93 678.41 L 69.46 680.93 L 69.66 683.85 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,5" id="svg-bot-2_椭圆形" node-id="62" stroke="none" target-height="21.570007" target-width="10.780003" target-x="58.88" target-y="673.07" /><path d="M 75.06 689.25 L 76.00 689.08 L 76.89 688.61 L 77.78 687.77 L 78.83 686.16 L 79.71 683.90 L 80.25 681.39 L 80.45 678.46 L 80.25 675.53 L 79.71 673.02 L 78.83 670.76 L 77.78 669.15 L 76.89 668.31 L 76.00 667.84 L 75.06 667.67 L 74.11 667.84 L 73.22 668.31 L 72.33 669.15 L 71.28 670.76 L 70.40 673.02 L 69.86 675.53 L 69.66 678.46 L 69.86 681.39 L 70.40 683.90 L 71.28 686.16 L 72.33 687.77 L 73.22 688.61 L 74.11 689.08 L 75.06 689.25 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,5" id="svg-bot-2_椭圆形备份-7" node-id="63" stroke="none" target-height="21.580017" target-width="10.789993" target-x="69.66" target-y="667.67" /><path d="M 64.27 673.07 L 75.06 667.67 L 75.06 689.25 L 64.27 694.64 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,5" id="svg-bot-2_矩形" node-id="64" stroke="none" target-height="26.970032" target-width="10.790001" target-x="64.27" target-y="667.67" /></g><g node-id="115"><path d="M 91.23 694.64 L 91.03 697.57 L 90.50 700.08 L 89.62 702.34 L 88.56 703.95 L 87.68 704.78 L 86.78 705.26 L 85.84 705.42 L 84.90 705.26 L 84.00 704.78 L 83.12 703.95 L 82.07 702.34 L 81.18 700.08 L 80.65 697.57 L 80.45 694.64 L 80.65 691.71 L 81.18 689.19 L 82.07 686.94 L 83.12 685.33 L 84.00 684.49 L 84.90 684.02 L 85.84 683.85 L 86.78 684.02 L 87.68 684.49 L 88.56 685.33 L 89.62 686.94 L 90.50 689.19 L 91.03 691.71 L 91.23 694.64 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,6" id="svg-bot-2_椭圆形" node-id="66" stroke="none" target-height="21.570007" target-width="10.780006" target-x="80.45" target-y="683.85" /><path d="M 96.63 700.03 L 97.57 699.86 L 98.47 699.39 L 99.35 698.56 L 100.40 696.95 L 101.28 694.69 L 101.82 692.17 L 102.02 689.25 L 101.82 686.32 L 101.28 683.80 L 100.40 681.54 L 99.35 679.93 L 98.47 679.10 L 97.57 678.63 L 96.63 678.46 L 95.69 678.63 L 94.79 679.10 L 93.90 679.93 L 92.85 681.54 L 91.97 683.80 L 91.43 686.32 L 91.23 689.25 L 91.43 692.17 L 91.97 694.69 L 92.85 696.95 L 93.90 698.56 L 94.79 699.39 L 95.69 699.86 L 96.63 700.03 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,6" id="svg-bot-2_椭圆形备份-7" node-id="67" stroke="none" target-height="21.570007" target-width="10.789993" target-x="91.23" target-y="678.46" /><path d="M 85.84 683.85 L 96.63 678.46 L 96.63 700.03 L 85.84 705.42 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,6" id="svg-bot-2_矩形" node-id="68" stroke="none" target-height="26.95996" target-width="10.790001" target-x="85.84" target-y="678.46" /></g><g node-id="116"><path d="M 134.38 716.21 L 134.18 719.14 L 133.64 721.65 L 132.76 723.91 L 131.71 725.52 L 130.82 726.36 L 129.92 726.83 L 128.98 727.00 L 128.04 726.83 L 127.15 726.36 L 126.26 725.52 L 125.21 723.91 L 124.33 721.65 L 123.79 719.14 L 123.59 716.21 L 123.79 713.28 L 124.33 710.77 L 125.21 708.51 L 126.26 706.90 L 127.15 706.06 L 128.04 705.59 L 128.98 705.42 L 129.92 705.59 L 130.82 706.06 L 131.71 706.90 L 132.76 708.51 L 133.64 710.77 L 134.18 713.28 L 134.38 716.21 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,7" id="svg-bot-2_椭圆形" node-id="70" stroke="none" target-height="21.580017" target-width="10.790009" target-x="123.59" target-y="705.42" /><path d="M 139.77 721.60 L 140.71 721.43 L 141.61 720.96 L 142.49 720.13 L 143.54 718.52 L 144.43 716.26 L 144.96 713.74 L 145.16 710.82 L 144.96 707.89 L 144.43 705.37 L 143.54 703.12 L 142.49 701.50 L 141.61 700.67 L 140.71 700.20 L 139.77 700.03 L 138.83 700.20 L 137.93 700.67 L 137.05 701.50 L 135.99 703.12 L 135.11 705.37 L 134.58 707.89 L 134.38 710.82 L 134.58 713.74 L 135.11 716.26 L 135.99 718.52 L 137.05 720.13 L 137.93 720.96 L 138.83 721.43 L 139.77 721.60 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,7" id="svg-bot-2_椭圆形备份-7" node-id="71" stroke="none" target-height="21.569946" target-width="10.779999" target-x="134.38" target-y="700.03" /><path d="M 128.98 705.42 L 139.77 700.03 L 139.77 721.60 L 128.98 727.00 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,7" id="svg-bot-2_矩形" node-id="72" stroke="none" target-height="26.96997" target-width="10.790009" target-x="128.98" target-y="700.03" /></g><g node-id="117"><path d="M 112.81 705.42 L 112.60 708.35 L 112.07 710.87 L 111.19 713.13 L 110.13 714.74 L 109.25 715.57 L 108.35 716.04 L 107.41 716.21 L 106.47 716.04 L 105.57 715.57 L 104.69 714.74 L 103.64 713.13 L 102.76 710.87 L 102.22 708.35 L 102.02 705.42 L 102.22 702.50 L 102.76 699.98 L 103.64 697.72 L 104.69 696.11 L 105.57 695.28 L 106.47 694.81 L 107.41 694.64 L 108.35 694.81 L 109.25 695.28 L 110.13 696.11 L 111.19 697.72 L 112.07 699.98 L 112.60 702.50 L 112.81 705.42 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,8" id="svg-bot-2_椭圆形" node-id="74" stroke="none" target-height="21.570007" target-width="10.790001" target-x="102.02" target-y="694.64" /><path d="M 118.20 710.82 L 119.14 710.65 L 120.04 710.18 L 120.92 709.34 L 121.97 707.73 L 122.85 705.48 L 123.39 702.96 L 123.59 700.03 L 123.39 697.10 L 122.85 694.59 L 121.97 692.33 L 120.92 690.72 L 120.04 689.89 L 119.14 689.41 L 118.20 689.25 L 117.26 689.41 L 116.36 689.89 L 115.48 690.72 L 114.42 692.33 L 113.54 694.59 L 113.01 697.10 L 112.81 700.03 L 113.01 702.96 L 113.54 705.48 L 114.42 707.73 L 115.48 709.34 L 116.36 710.18 L 117.26 710.65 L 118.20 710.82 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,8" id="svg-bot-2_椭圆形备份-7" node-id="75" stroke="none" target-height="21.570007" target-width="10.779999" target-x="112.81" target-y="689.25" /><path d="M 107.41 694.64 L 118.20 689.25 L 118.20 710.82 L 107.41 716.21 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,8" id="svg-bot-2_矩形" node-id="76" stroke="none" target-height="26.960022" target-width="10.789993" target-x="107.41" target-y="689.25" /></g><g node-id="118"><path d="M 155.95 727.00 L 155.75 729.92 L 155.21 732.44 L 154.33 734.70 L 153.28 736.31 L 152.39 737.14 L 151.50 737.61 L 150.55 737.78 L 149.61 737.61 L 148.72 737.14 L 147.83 736.31 L 146.78 734.70 L 145.90 732.44 L 145.36 729.92 L 145.16 727.00 L 145.36 724.07 L 145.90 721.55 L 146.78 719.29 L 147.83 717.68 L 148.72 716.85 L 149.61 716.38 L 150.55 716.21 L 151.50 716.38 L 152.39 716.85 L 153.28 717.68 L 154.33 719.29 L 155.21 721.55 L 155.75 724.07 L 155.95 727.00 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,9" id="svg-bot-2_椭圆形" node-id="78" stroke="none" target-height="21.570007" target-width="10.789993" target-x="145.16" target-y="716.21" /><path d="M 161.34 732.39 L 162.28 732.22 L 163.18 731.75 L 164.06 730.92 L 165.12 729.30 L 166.00 727.05 L 166.53 724.53 L 166.73 721.60 L 166.53 718.68 L 166.00 716.16 L 165.12 713.90 L 164.06 712.29 L 163.18 711.46 L 162.28 710.99 L 161.34 710.82 L 160.40 710.99 L 159.50 711.46 L 158.62 712.29 L 157.56 713.90 L 156.68 716.16 L 156.15 718.68 L 155.95 721.60 L 156.15 724.53 L 156.68 727.05 L 157.56 729.30 L 158.62 730.92 L 159.50 731.75 L 160.40 732.22 L 161.34 732.39 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,9" id="svg-bot-2_椭圆形备份-7" node-id="79" stroke="none" target-height="21.570007" target-width="10.779999" target-x="155.95" target-y="710.82" /><path d="M 150.55 716.21 L 161.34 710.82 L 161.34 732.39 L 150.55 737.78 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,9" id="svg-bot-2_矩形" node-id="80" stroke="none" target-height="26.960022" target-width="10.789993" target-x="150.55" target-y="710.82" /></g><g node-id="119"><path d="M 355.48 825.41 L 355.18 830.92 L 354.38 835.62 L 353.52 838.62 L 352.54 841.01 L 351.48 842.88 L 350.11 844.47 L 348.77 845.34 L 347.39 845.64 L 346.02 845.34 L 344.67 844.47 L 343.31 842.88 L 342.24 841.01 L 341.27 838.62 L 340.41 835.62 L 339.61 830.92 L 339.30 825.41 L 339.61 819.91 L 340.41 815.21 L 341.27 812.20 L 342.24 809.82 L 343.31 807.95 L 344.67 806.36 L 346.02 805.49 L 347.39 805.19 L 348.77 805.49 L 350.11 806.36 L 351.48 807.95 L 352.54 809.82 L 353.52 812.20 L 354.38 815.21 L 355.18 819.91 L 355.48 825.41 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,10" id="svg-bot-2_椭圆形" node-id="82" stroke="none" target-height="40.450012" target-width="16.180023" target-x="339.3" target-y="805.19" /><path d="M 363.57 837.55 L 364.95 837.25 L 366.29 836.38 L 367.65 834.79 L 368.72 832.92 L 369.70 830.54 L 370.56 827.53 L 371.36 822.83 L 371.66 817.33 L 371.36 811.83 L 370.56 807.12 L 369.70 804.12 L 368.72 801.73 L 367.65 799.86 L 366.29 798.27 L 364.95 797.40 L 363.57 797.10 L 362.20 797.40 L 360.85 798.27 L 359.49 799.86 L 358.42 801.73 L 357.45 804.12 L 356.59 807.12 L 355.78 811.83 L 355.48 817.33 L 355.78 822.83 L 356.59 827.53 L 357.45 830.54 L 358.42 832.92 L 359.49 834.79 L 360.85 836.38 L 362.20 837.25 L 363.57 837.55 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,10" id="svg-bot-2_椭圆形备份-7" node-id="83" stroke="none" target-height="40.450012" target-width="16.179993" target-x="355.48" target-y="797.1" /><path d="M 347.39 806.81 L 363.57 797.10 L 363.57 835.93 L 347.39 845.64 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,10" id="svg-bot-2_矩形" node-id="84" stroke="none" target-height="48.54004" target-width="16.179993" target-x="347.39" target-y="797.1" /></g><g node-id="120"><path d="M 199.09 508.13 L 497.17 657.33 L 497.17 694.63 L 199.09 545.43 Z" fill="#444644" fill-rule="evenodd" group-id="1,2,11" id="svg-bot-2_矩形备份-41" node-id="86" stroke="none" target-height="186.5" target-width="298.08002" target-x="199.09" target-y="508.13" /><path d="M 207.61 498.81 L 505.68 648.01 L 497.17 657.33 L 199.09 508.13 Z" fill="#696969" fill-rule="evenodd" group-id="1,2,11" id="svg-bot-2_矩形备份-42" node-id="87" stroke="none" target-height="158.52002" target-width="306.59" target-x="199.09" target-y="498.81" /><path d="M 497.17 657.33 L 506.48 648.01 L 506.48 685.31 L 497.17 694.63 Z" fill="#2b2a2a" fill-rule="evenodd" group-id="1,2,11" id="svg-bot-2_矩形" node-id="88" stroke="none" target-height="46.619995" target-width="9.309998" target-x="497.17" target-y="648.01" /><path d="M 217.72 247.03 L 497.17 384.33 L 497.17 645.43 L 217.72 508.13 Z" fill="#494a49" fill-rule="evenodd" group-id="1,2,11" id="svg-bot-2_矩形" node-id="89" stroke="none" target-height="398.4" target-width="279.45" target-x="217.72" target-y="247.03" /></g></g></g></symbol><symbol   viewBox="0 0 1051 1644" id="svg-bot-9">\r
    <title>PBA9</title>\r
    <defs>\r
        <linearGradient id="svg-bot-9_linearGradient-1" y2="50%" x2="100%" y1="50%" x1="0%">\r
            <stop offset="0%" stop-color="#252424" />\r
            <stop offset="100%" stop-color="#181818" />\r
        </linearGradient>\r
        <linearGradient id="svg-bot-9_linearGradient-2" y2="50%" x2="100%" y1="50%" x1="1.61994987%">\r
            <stop offset="0%" stop-color="#A5A5A5" />\r
            <stop offset="100%" stop-color="#7B7A7A" />\r
        </linearGradient>\r
        <linearGradient id="svg-bot-9_linearGradient-3" y2="53.5152679%" x2="33.5324159%" y1="52.2959596%" x1="10.5628407%">\r
            <stop offset="0%" stop-color="#EEECE6" />\r
            <stop offset="100%" stop-color="#BDB4A1" />\r
        </linearGradient>\r
    </defs>\r
    <g fill-rule="evenodd" fill="none" stroke-width="1" stroke="currentColor" id="svg-bot-9_页面-1">\r
        <g transform="translate(0.500000, 0.633693)" id="svg-bot-9_PBA9">\r
            <g fill-rule="nonzero" transform="translate(508.453453, 1479.969208)" id="svg-bot-9_编组-24">\r
                <g transform="translate(0.000000, 25.883740)" id="svg-bot-9_编组-23">\r
                    <path fill="url(#svg-bot-9_linearGradient-1)" id="svg-bot-9_形状结合" d="M0,14.7907085 L88.4157635,19.7209447 L88.4158196,116.802354 C88.6017545,117.471663 88.6972644,118.152109 88.6972644,118.841623 C88.6972644,119.531156 88.6017493,120.21162 88.4158045,120.880946 L88.4157635,125.721022 L85.5071674,125.557778 C78.9634845,132.156741 63.0642649,136.814054 44.4893827,136.814054 C21.7199146,136.814054 2.9709922,129.815811 0.546683008,120.821467 L0,120.790786 L0,14.7907085 Z" />\r
                    <ellipse ry="17.9724306" rx="44.2078817" cy="17.9724306" cx="44.4893827" fill="#000000" id="svg-bot-9_形状结合" />\r
                </g>\r
                <g transform="translate(31.130825, 0.000000)" id="svg-bot-9_编组-22">\r
                    <path fill="url(#svg-bot-9_linearGradient-2)" id="svg-bot-9_形状结合备份" d="M0,7.39535424 L29.4719212,9.2031075 L29.4719212,48.0698025 L28.6776991,48.0219458 C26.6911001,50.2011603 21.1995028,51.7674796 14.7359606,51.7674796 C6.59751428,51.7674796 0,49.28422 0,46.220964 L0.00102965085,46.2615849 L0,7.39535424 Z" />\r
                    <ellipse ry="5.63830199" rx="14.7359606" cy="5.63830199" cx="14.7359606" fill="#585858" id="svg-bot-9_形状结合备份-2" />\r
                </g>\r
            </g>\r
            <g fill-rule="nonzero" transform="translate(955.085487, 1259.371360)" id="svg-bot-9_编组-24备份-2">\r
                <g transform="translate(0.000000, 25.883740)" id="svg-bot-9_编组-23">\r
                    <path fill="url(#svg-bot-9_linearGradient-1)" id="svg-bot-9_形状结合" d="M0,14.7907085 L88.4157635,19.7209447 L88.4158196,116.802354 C88.6017545,117.471663 88.6972644,118.152109 88.6972644,118.841623 C88.6972644,119.531156 88.6017493,120.21162 88.4158045,120.880946 L88.4157635,125.721022 L85.5071674,125.557778 C78.9634845,132.156741 63.0642649,136.814054 44.4893827,136.814054 C21.7199146,136.814054 2.9709922,129.815811 0.546683008,120.821467 L0,120.790786 L0,14.7907085 Z" />\r
                    <ellipse ry="17.9724306" rx="44.2078817" cy="17.9724306" cx="44.4893827" fill="#000000" id="svg-bot-9_形状结合" />\r
                </g>\r
                <g transform="translate(31.130825, 0.000000)" id="svg-bot-9_编组-22">\r
                    <path fill="url(#svg-bot-9_linearGradient-2)" id="svg-bot-9_形状结合备份" d="M0,7.39535424 L29.4719212,9.2031075 L29.4719212,48.0698025 L28.6776991,48.0219458 C26.6911001,50.2011603 21.1995028,51.7674796 14.7359606,51.7674796 C6.59751428,51.7674796 0,49.28422 0,46.220964 L0.00102965085,46.2615849 L0,7.39535424 Z" />\r
                    <ellipse ry="5.63830199" rx="14.7359606" cy="5.63830199" cx="14.7359606" fill="#585858" id="svg-bot-9_形状结合备份-2" />\r
                </g>\r
            </g>\r
            <g fill-rule="nonzero" transform="translate(186.251819, 1329.340315)" id="svg-bot-9_编组-24备份">\r
                <g transform="translate(0.000000, 25.883740)" id="svg-bot-9_编组-23">\r
                    <path fill="url(#svg-bot-9_linearGradient-1)" id="svg-bot-9_形状结合" d="M0,14.7907085 L88.4157635,19.7209447 L88.4158196,116.802354 C88.6017545,117.471663 88.6972644,118.152109 88.6972644,118.841623 C88.6972644,119.531156 88.6017493,120.21162 88.4158045,120.880946 L88.4157635,125.721022 L85.5071674,125.557778 C78.9634845,132.156741 63.0642649,136.814054 44.4893827,136.814054 C21.7199146,136.814054 2.9709922,129.815811 0.546683008,120.821467 L0,120.790786 L0,14.7907085 Z" />\r
                    <ellipse ry="17.9724306" rx="44.2078817" cy="17.9724306" cx="44.4893827" fill="#000000" id="svg-bot-9_形状结合" />\r
                </g>\r
                <g transform="translate(31.130825, 0.000000)" id="svg-bot-9_编组-22">\r
                    <path fill="url(#svg-bot-9_linearGradient-2)" id="svg-bot-9_形状结合备份" d="M0,7.39535424 L29.4719212,9.2031075 L29.4719212,48.0698025 L28.6776991,48.0219458 C26.6911001,50.2011603 21.1995028,51.7674796 14.7359606,51.7674796 C6.59751428,51.7674796 0,49.28422 0,46.220964 L0.00102965085,46.2615849 L0,7.39535424 Z" />\r
                    <ellipse ry="5.63830199" rx="14.7359606" cy="5.63830199" cx="14.7359606" fill="#585858" id="svg-bot-9_形状结合备份-2" />\r
                </g>\r
            </g>\r
            <g fill-rule="nonzero" transform="translate(611.605177, 1126.909038)" id="svg-bot-9_编组-24备份-3">\r
                <g transform="translate(0.000000, 25.883740)" id="svg-bot-9_编组-23">\r
                    <path fill="url(#svg-bot-9_linearGradient-1)" id="svg-bot-9_形状结合" d="M0,14.7907085 L88.4157635,19.7209447 L88.4158196,116.802354 C88.6017545,117.471663 88.6972644,118.152109 88.6972644,118.841623 C88.6972644,119.531156 88.6017493,120.21162 88.4158045,120.880946 L88.4157635,125.721022 L85.5071674,125.557778 C78.9634845,132.156741 63.0642649,136.814054 44.4893827,136.814054 C21.7199146,136.814054 2.9709922,129.815811 0.546683008,120.821467 L0,120.790786 L0,14.7907085 Z" />\r
                    <ellipse ry="17.9724306" rx="44.2078817" cy="17.9724306" cx="44.4893827" fill="#000000" id="svg-bot-9_形状结合" />\r
                </g>\r
                <g transform="translate(31.130825, 0.000000)" id="svg-bot-9_编组-22">\r
                    <path fill="url(#svg-bot-9_linearGradient-2)" id="svg-bot-9_形状结合备份" d="M0,7.39535424 L29.4719212,9.2031075 L29.4719212,48.0698025 L28.6776991,48.0219458 C26.6911001,50.2011603 21.1995028,51.7674796 14.7359606,51.7674796 C6.59751428,51.7674796 0,49.28422 0,46.220964 L0.00102965085,46.2615849 L0,7.39535424 Z" />\r
                    <ellipse ry="5.63830199" rx="14.7359606" cy="5.63830199" cx="14.7359606" fill="#585858" id="svg-bot-9_形状结合备份-2" />\r
                </g>\r
            </g>\r
            <polygon points="598.74197 518.806372 1050 196.615434 1050 1291.03474 578.663779 1546.91275 578.449265 561.964291" fill-rule="nonzero" fill="#DED9D1" id="svg-bot-9_矩形" />\r
            <polygon points="0.51482543 454.453194 345.212256 215.78566 683.510375 401.849626 296.02462 611.989774" fill-rule="nonzero" fill="url(#svg-bot-9_linearGradient-3)" id="svg-bot-9_路径-10" />\r
            <polygon points="995.452395 305.834589 993.616985 672.488122 672.233771 886.743597 672.002552 537.332778" fill-rule="nonzero" fill="#0C0C0C" id="svg-bot-9_矩形" />\r
            <polygon points="181.701498 1354.72266 179.97182 366.564345 580.291261 560.137718 582.020939 1546.42493" fill-rule="nonzero" fill="#E9E5DD" id="svg-bot-9_路径-16" />\r
            <polygon points="209.56659 678.829835 208.078753 449.047459 552.426168 615.555711 553.914005 843.728598" fill-rule="nonzero" fill="#E9E5DD" stroke-width="0.5" stroke="#6E6E6E" id="svg-bot-9_路径-16" />\r
            <g transform="translate(242.662278, 488.515572)" id="svg-bot-9_路径-16">\r
                <g fill="#E9E5DD" transform="translate(0.000000, 0.000000)" id="svg-bot-9_path-4-link">\r
                    <polygon points="1.19026918 183.825902 -2.92644373e-14 1.17057749e-13 275.477932 133.206602 276.668201 315.744912" id="svg-bot-9_path-4" />\r
                </g>\r
                <g fill-rule="nonzero" fill="#000000" transform="translate(0.000000, 0.000000)" id="svg-bot-9_path-4-link">\r
                    <polygon points="1.19026918 183.825902 -2.92644373e-14 1.17057749e-13 275.477932 133.206602 276.668201 315.744912" id="svg-bot-9_path-4" />\r
                </g>\r
            </g>\r
            <polygon points="313.905079 672.495173 313.224926 567.4518 470.640887 643.569859 471.321041 747.877464" fill-rule="nonzero" fill="#8EC1E9" stroke-width="1.5" stroke="#000000" id="svg-bot-9_路径-16" />\r
            <polygon points="209.56659 1287.76645 208.078753 753.515766 552.426168 920.024018 553.914005 1452.66522" fill-rule="nonzero" fill="#E9E5DD" stroke-width="0.5" stroke="#6E6E6E" id="svg-bot-9_路径-16备份-3" />\r
            <polygon points="204.254706 317.275096 653.768893 2.92644373e-14 1050 196.615434 598.935845 520.253968" fill-rule="nonzero" fill="#FFFCF3" id="svg-bot-9_路径-16备份-2" />\r
            <polygon points="204.254706 317.275096 600.598133 515.717102 576.382637 565.360384 180.039209 366.918378" fill-rule="nonzero" fill="#F8F6EF" id="svg-bot-9_矩形" />\r
            <path fill-rule="nonzero" fill="#DED9D1" id="svg-bot-9_路径-12" d="M186.225252,937.488316 C157.347841,877.191105 128.752241,828.050658 100.438452,790.066975 C72.1246632,752.083292 38.860394,718.237117 0.645644105,688.528449 L0.645644105,579.368301 L23.8290419,525.89227 L1.27583391,514.615665 L0.645644105,453.227684 L188.940931,554.844152 L186.225252,937.488316 Z" />\r
            <polygon points="238.084518 1002.90492 260.592799 1013.28989 260.637725 1078.44586 238.129444 1068.0609" fill-rule="nonzero" fill="#000000" id="svg-bot-9_矩形备份-4" />\r
            <polygon points="514.361315 971.318127 565.061106 990.736683 565.106033 1033.33945 514.406241 1013.92089" fill-rule="nonzero" fill="#000000" id="svg-bot-9_矩形备份-60" />\r
            <polygon points="525.637919 644.296611 576.337711 663.715167 576.382637 706.317934 525.682846 686.899378" fill-rule="nonzero" fill="#000000" id="svg-bot-9_矩形备份-63" />\r
            <polygon points="525.637919 757.062651 576.337711 776.481207 576.382637 819.083973 525.682846 799.665418" fill-rule="nonzero" fill="#000000" id="svg-bot-9_矩形备份-64" />\r
            <polygon points="514.361315 1140.46719 565.061106 1159.88575 565.106033 1202.48851 514.406241 1183.06995" fill-rule="nonzero" fill="#000000" id="svg-bot-9_矩形备份-61" />\r
            <polygon points="514.361315 1309.61624 565.061106 1329.0348 565.106033 1371.63757 514.406241 1352.21902" fill-rule="nonzero" fill="#000000" id="svg-bot-9_矩形备份-62" />\r
            <line stroke-dasharray="3" stroke-width="0.5" stroke="#979797" id="svg-bot-9_路径-9" y2="616.105101" x2="187.339799" y1="527.043579" x1="23.6819696" />\r
            <line stroke="#979797" id="svg-bot-9_路径-9备份" y2="683.764725" x2="187.339799" y1="579.555773" x1="-1.46322187e-14" />\r
            <g fill-rule="nonzero" transform="translate(305.744142, 103.019621)" id="svg-bot-9_编组-11">\r
                <rect rx="2" height="47.5065763" width="94.9101238" y="198.426867" x="0" opacity="0.410433815" fill="#5B5B5A" id="svg-bot-9_矩形备份-33" />\r
                <rect height="180.425664" width="47.455062" y="41.7544909" x="23.7275309" fill="#C4E4E3" id="svg-bot-9_矩形" />\r
                <path fill="#FC2727" id="svg-bot-9_矩形备份-30" d="M47.455062,0 C60.5594154,0 71.1825929,10.6231775 71.1825929,23.7275309 L71.1825929,71.2598645 L71.1825929,71.2598645 L23.7275309,71.2598645 L23.7275309,23.7275309 C23.7275309,10.6231775 34.3507084,0 47.455062,0 Z" />\r
                <rect height="47.5065763" width="47.455062" y="47.5065763" x="23.7275309" fill="#FFFD54" id="svg-bot-9_矩形备份-31" />\r
                <rect height="47.5065763" width="47.455062" y="95.0131526" x="23.7275309" fill="#73FF54" id="svg-bot-9_矩形备份-32" />\r
            </g>\r
        </g>\r
    </g>\r
</symbol><symbol viewBox="0 0 1024 1024"  id="svg-clock-a">\r
    <path d="M512.3 518.9m-469.2 0a469.2 469.2 0 1 0 938.4 0 469.2 469.2 0 1 0-938.4 0Z" fill="#B3A7FF"></path>\r
    <path d="M512.3 518.9m-392.5 0a392.5 392.5 0 1 0 785 0 392.5 392.5 0 1 0-785 0Z" fill="#FFFFFF"></path>\r
    <path d="M512.3 523.8c-4.5 0-9-1.7-12.4-5.1L318.3 337.1c-6.8-6.8-6.8-17.9 0-24.8 6.8-6.8 17.9-6.8 24.8 0L524.7 494c6.8 6.8 6.8 17.9 0 24.8-3.5 3.3-7.9 5-12.4 5z" fill="#50E68E">\r
        <animateTransform attributeName="transform" attributeType="XML" type="rotate" from="45 512 512" to="405 512 512" dur="3600s" repeatCount="indefinite" />\r
    </path>\r
    <path d="M512.3 523.8c-4.5 0-9-1.7-12.4-5.1-6.8-6.8-6.8-17.9 0-24.8l130.8-130.8c6.8-6.8 17.9-6.8 24.8 0 6.8 6.8 6.8 17.9 0 24.8L524.7 518.7c-3.5 3.4-7.9 5.1-12.4 5.1z" fill="#9A36E7">\r
        <animateTransform attributeName="transform" attributeType="XML" type="rotate" from="-45 512 512" to="315 512 512" dur="43200s" repeatCount="indefinite" />\r
    </path>\r
    <path d="M512.3 506.3m-47.5 0a47.5 47.5 0 1 0 95 0 47.5 47.5 0 1 0-95 0Z" fill="#F45AFC"></path>\r
    <path d="M512.3 218.8c-9 0-16.3-7.3-16.3-16.3v-29.1c0-9 7.3-16.3 16.3-16.3s16.3 7.3 16.3 16.3v29.1c0 9-7.4 16.3-16.3 16.3zM512.3 880.8c-9 0-16.3-7.3-16.3-16.3v-29.1c0-9 7.3-16.3 16.3-16.3s16.3 7.3 16.3 16.3v29.1c0 9-7.4 16.3-16.3 16.3zM812.4 518.9c0-9 7.3-16.3 16.3-16.3h29.1c9 0 16.3 7.3 16.3 16.3s-7.3 16.3-16.3 16.3h-29.1c-8.9 0-16.3-7.3-16.3-16.3zM150.4 518.9c0-9 7.3-16.3 16.3-16.3h29.1c9 0 16.3 7.3 16.3 16.3s-7.3 16.3-16.3 16.3h-29.1c-8.9 0-16.3-7.3-16.3-16.3z" fill="#4942CF"></path>\r
    <path d="M296.9 733.5c-2.2 0-4.5-0.9-6.2-2.6-3.4-3.4-3.4-9 0-12.4L540 469.2c3.4-3.4 9-3.4 12.4 0 3.4 3.4 3.4 9 0 12.4L303.1 731c-1.7 1.7-4 2.5-6.2 2.5z" fill="#E83E24">\r
        <animateTransform attributeName="transform" attributeType="XML" type="rotate" from="135 512 512" to="495 512 512" dur="60s" repeatCount="indefinite" />\r
    </path>\r
    <path d="M512.3 506.3m-22.8 0a22.8 22.8 0 1 0 45.6 0 22.8 22.8 0 1 0-45.6 0Z" fill="#EBF257"></path>\r
</symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-common-table"><path d="M885.3 957.3H140.7c-42.2 0-76.5-34.3-76.5-76.5V136.3c0-42.2 34.3-76.5 76.5-76.5h744.6c42.2 0 76.5 34.3 76.5 76.5v744.6c-0.1 42.1-34.3 76.4-76.5 76.4z m-744.6-851c-16.5 0-29.9 13.4-29.9 29.9v744.6c0 16.5 13.4 29.9 29.9 29.9h744.6c16.5 0 29.9-13.4 29.9-29.9V136.3c0-16.5-13.4-29.9-29.9-29.9H140.7z" fill="#2F2302" p-id="1992" data-spm-anchor-id="a313x.manage_type_myprojects.0.i22.1adc3a81gVIGv0" class="" /><path d="M938.5 315.8h-851V91.1c0-4.4 3.6-8 8-8h835c4.4 0 8 3.6 8 8v224.7z" fill="#F1D563" p-id="1993" data-spm-anchor-id="a313x.manage_type_myprojects.0.i20.1adc3a81gVIGv0" class="" /><path d="M961.7 339H64.3V136.3c0-42.2 34.3-76.5 76.5-76.5h744.6c42.2 0 76.5 34.3 76.5 76.5V339z m-850.9-46.5h804.4V136.3c0-16.5-13.4-29.9-29.9-29.9H140.7c-16.5 0-29.9 13.4-29.9 29.9v156.2zM938.5 644.8h-851c-12.9 0-23.3-10.4-23.3-23.3 0-12.8 10.4-23.3 23.3-23.3h851c12.9 0 23.3 10.4 23.3 23.3-0.1 12.9-10.5 23.3-23.3 23.3z" fill="#2F2302" p-id="1994" data-spm-anchor-id="a313x.manage_type_myprojects.0.i23.1adc3a81gVIGv0" class="" /><path d="M363.4 957.3c-12.9 0-23.3-10.4-23.3-23.3V315.8c0-12.8 10.4-23.3 23.3-23.3s23.3 10.4 23.3 23.3V934c0 12.9-10.4 23.3-23.3 23.3zM662.6 957.3c-12.9 0-23.3-10.4-23.3-23.3V315.8c0-12.8 10.4-23.3 23.3-23.3s23.3 10.4 23.3 23.3V934c0 12.9-10.5 23.3-23.3 23.3z" fill="#2F2302" p-id="1995" data-spm-anchor-id="a313x.manage_type_myprojects.0.i21.1adc3a81gVIGv0" class="" /></symbol><symbol class="icon" viewBox="0 0 1094 1024"   id="svg-el-button"><path d="M984.860838 227.319149H153.357353c-15.616064 0-28.275239 12.657976-28.27524 28.272839v441.069494c0 15.614864 12.659176 28.274039 28.27524 28.27404h831.503485c15.614864 0 28.272839-12.657976 28.272839-28.27404V255.591988c0-15.613664-12.656776-28.272839-28.272839-28.272839z m-12.372367 432.768847c0 13.025187-10.559113 23.5855-23.5843 23.585501H189.31402c-13.026387 0-23.5855-10.559113-23.5855-23.585501V292.166674c0-13.025187 10.559113-23.5855 23.5855-23.5855H948.904171c13.025187 0 23.5843 10.559113 23.5843 23.5855v367.921322z" fill="#409eff" p-id="1625" data-spm-anchor-id="a313x.manage_type_myprojects.0.i3.1adc3a81px4RsK" class="" /><path d="M395.144131 473.024043c19.678184-10.226704 29.925288-27.174807 30.718512-50.803508-3.156094-40.171193-30.718512-61.438224-82.704055-63.801094h-105.154322v244.57086h111.062097c58.28093 0 87.430996-23.224289 87.430996-69.708869-0.794424-28.356842-14.584033-48.441838-41.353228-60.257389z m-118.149508-79.16035h61.438224c29.130865 0.794424 44.491321 11.040328 46.077768 30.719712-0.794424 22.061455-16.541291 33.488194-47.259803 34.263417h-60.256189V393.863693z m68.526835 174.861991h-68.526835v-74.43461h64.983129c33.856605 0.794424 51.579931 12.997586 53.167579 36.627488-0.0012 25.216349-16.541291 37.807122-49.623873 37.807122zM461.309295 393.863693h82.705255v209.126608h40.169993V393.863693h81.52322v-35.444252H461.309295zM863.017621 509.65033c0 13.403198 0.776423 27.96923 2.36407 43.716098v1.182035c-7.08861-16.541291-14.971644-31.106123-23.629901-43.716098-21.267031-33.081382-55.142837-83.88609-101.608217-152.412924h-41.352028v244.57086H737.781903v-147.688384c0-18.109738-1.180835-34.263417-3.546105-48.440638h1.180835c6.295387 13.401998 13.772809 27.580419 22.449066 42.534062 22.042254 33.082582 56.712484 84.292902 103.972287 153.59496h40.171192V358.419441H863.017621v151.230889z" fill="#C54E6A" p-id="1626" data-spm-anchor-id="a313x.manage_type_myprojects.0.i6.1adc3a81px4RsK" class="selected" /></symbol><symbol viewBox="0 0 1024 1024"   id="svg-el-tag">
    <path d="M767.1 292.6c-0.2-19-15.6-34.4-34.6-34.6l-202.2-2.5c-9.5-0.1-18.6 3.6-25.2 10.3l-35.4 35.4c48.4 138.5 72.4 282.3 42.1 433.8-1.7 10.4-3.9 21.1-6.4 31.9 6-1.5 11.7-4.4 16.3-9.1l237.6-237.6c6.7-6.7 10.4-15.8 10.3-25.2l-2.5-202.4zM664.3 429c-17.1 17.1-44.9 17.1-62 0s-17.1-44.9 0-62 44.9-17.1 62 0 17.2 44.8 0 62z" fill="#FFDE55" />
    <path d="M779.6 292.5c-0.2-12.5-5.1-24.2-13.9-33.1-8.8-8.8-20.6-13.8-33.1-13.9L530.4 243c-12.7-0.1-25.2 4.9-34.2 13.9L258.6 494.6c-9 9-13.9 20.9-13.9 33.6 0 12.7 4.9 24.7 13.9 33.6l204.7 204.7c9 9 20.9 13.9 33.6 13.9 12.7 0 24.7-4.9 33.6-13.9l237.6-237.6c9-9 14.1-21.5 13.9-34.2l-2.4-202.2z m-29.1 218.7L512.9 748.8c-4.3 4.3-9.9 6.6-16 6.6-6 0-11.7-2.3-16-6.6L276.3 544.2c-4.3-4.3-6.6-9.9-6.6-16s2.3-11.7 6.6-16l237.6-237.6c4.2-4.2 10-6.6 16-6.6h0.3l202.2 2.5c12.4 0.2 22.2 9.9 22.3 22.3l2.5 202.2c0 6-2.4 11.9-6.7 16.2z" fill="" />
    <path d="M593.5 358.1c-22 22-22 57.7 0 79.7 10.6 10.6 24.8 16.5 39.8 16.5s29.2-5.9 39.8-16.5c22-22 22-57.7 0-79.7-21.9-22-57.6-22-79.6 0z m62 62c-5.9 5.9-13.8 9.2-22.2 9.2s-16.2-3.3-22.2-9.2c-12.2-12.2-12.2-32.1 0-44.3 6.1-6.1 14.1-9.2 22.2-9.2 8 0 16.1 3.1 22.2 9.2 12.2 12.2 12.2 32.1 0 44.3z" fill="" />
</symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-hamburger"><path d="M691.3024 176.5376c47.3088 36.864 77.824 94.4128 77.824 159.0272 0 20.2752-16.384 36.6592-36.6592 36.6592h-584.704c0 1.6384-0.1024 3.3792-0.1024 5.12 0 20.2752 16.384 36.6592 36.6592 36.6592h655.36c20.2752 0 36.6592-16.384 36.6592-36.6592 0-105.8816-81.5104-192.512-185.0368-200.8064z" fill="#FFA43E" p-id="1687" /><path d="M769.1264 335.4624c0-64.6144-30.5152-122.1632-77.824-159.0272-5.4272-0.4096-10.8544-0.6144-16.2816-0.6144H349.0816c-109.568 0-198.656 87.4496-201.3184 196.3008h584.704c20.1728 0 36.5568-16.384 36.6592-36.6592z" fill="#FFD14F" p-id="1688" /><path d="M814.6944 512.4096h-48.9472c2.1504 6.2464 3.2768 12.9024 3.2768 19.8656V606.208c0 33.9968-27.648 61.6448-61.6448 61.6448H150.9376c8.2944 24.2688 31.232 41.6768 58.368 41.6768h605.3888c33.9968 0 61.6448-27.648 61.6448-61.6448v-73.9328c0-33.8944-27.5456-61.5424-61.6448-61.5424z" fill="#E01E22" p-id="1689" /><path d="M769.1264 606.3104v-73.9328c0-6.9632-1.2288-13.6192-3.2768-19.8656H209.3056c-33.9968 0-61.6448 27.648-61.6448 61.6448v73.9328c0 6.9632 1.1264 13.6192 3.2768 19.8656h556.544c33.9968-0.1024 61.5424-27.648 61.6448-61.6448z" fill="#F06661" p-id="1690" /><path d="M835.1744 413.7984H769.024v15.6672c0 22.7328-18.432 41.1648-41.1648 41.1648H147.6608v0.512c0 22.7328 18.432 41.1648 41.1648 41.1648h646.3488c22.7328 0 41.1648-18.432 41.1648-41.1648v-16.2816c0-22.6304-18.432-41.0624-41.1648-41.0624z" fill="#3EBA4A" p-id="1691" /><path d="M769.1264 429.568v-15.6672H188.8256c-22.7328 0-41.1648 18.432-41.1648 41.1648v15.6672h580.3008c22.6304 0 41.0624-18.432 41.1648-41.1648z" fill="#68E077" p-id="1692" /><path d="M848.384 709.632H769.024v14.336c0 45.568-36.864 82.432-82.432 82.432H158.4128c14.2336 24.8832 40.96 41.6768 71.68 41.6768h563.8144c45.568 0 82.432-36.864 82.432-82.432v-28.16c0-15.36-12.4928-27.8528-27.9552-27.8528z" fill="#FFA43E" p-id="1693" /><path d="M769.1264 723.968v-14.336H175.616c-15.4624 0-27.9552 12.4928-27.9552 27.9552v28.16c0 14.848 3.8912 28.672 10.752 40.7552h528.1792c45.568-0.1024 82.5344-36.9664 82.5344-82.5344z" fill="#FFD14F" p-id="1694" /><path d="M420.7616 540.5696l-68.9152 68.9152 26.112 26.112 95.1296-95.1296c18.0224-18.0224 42.496-28.16 67.9936-28.16h-52.3264c-25.6 0.1024-49.9712 10.24-67.9936 28.2624z" fill="#FFA43E" p-id="1695" /><path d="M488.6528 512.4096H214.9376c25.4976 0 49.9712 10.1376 67.9936 28.16l68.9152 68.9152 68.9152-68.9152c18.0224-18.0224 42.496-28.16 67.8912-28.16z" fill="#FFD14F" p-id="1696" /><path d="M499.2 264.0896a26.3168 15.4624 90 1 0 30.9248 0 26.3168 15.4624 90 1 0-30.9248 0Z" fill="#FDF7E5" p-id="1697" /><path d="M377.060391 277.944478a15.4624 26.3168 30 1 0 26.3168-45.582035 15.4624 26.3168 30 1 0-26.3168 45.582035Z" fill="#FDF7E5" p-id="1698" /><path d="M625.699208 262.908333a26.3168 15.4624 60 1 0 26.781662-15.4624 26.3168 15.4624 60 1 0-26.781662 15.4624Z" fill="#FDF7E5" p-id="1699" /><path d="M867.4304 415.0272c11.5712-8.4992 19.1488-22.3232 19.1488-37.7856 0-116.736-94.9248-211.6608-211.6608-211.6608H349.0816c-116.736 0-211.6608 94.9248-211.6608 211.6608 0 15.4624 7.5776 29.184 19.1488 37.7856-11.6736 9.4208-19.1488 23.8592-19.1488 40.0384v16.2816c0 19.968 11.4688 37.2736 28.16 45.7728-17.1008 13.1072-28.16 33.792-28.16 56.9344v73.9328c0 21.504 9.5232 40.7552 24.4736 53.9648-14.336 5.5296-24.4736 19.3536-24.4736 35.6352v28.16c0 51.0976 41.5744 92.672 92.672 92.672h563.8144c51.0976 0 92.672-41.5744 92.672-92.672v-28.16c0-16.1792-10.1376-30.1056-24.4736-35.6352 14.9504-13.2096 24.4736-32.4608 24.4736-53.9648v-73.9328c0-23.1424-11.0592-43.8272-28.16-56.9344 16.6912-8.4992 28.16-25.8048 28.16-45.7728v-16.2816c0-16.1792-7.4752-30.6176-19.1488-40.0384zM184.32 403.5584c-14.5408 0-26.4192-11.776-26.4192-26.4192 0-105.3696 85.8112-191.1808 191.1808-191.1808h325.9392c105.3696 0 191.1808 85.8112 191.1808 191.1808 0 14.5408-11.776 26.4192-26.4192 26.4192H184.32z m293.888 119.0912c-4.4032 3.1744-8.4992 6.7584-12.3904 10.6496l-87.8592 87.8592-87.8592-87.8592c-3.8912-3.8912-8.0896-7.4752-12.3904-10.6496H478.208z m387.8912 243.0976c0 39.8336-32.3584 72.192-72.192 72.192H230.0928c-39.8336 0-72.192-32.3584-72.192-72.192v-28.16c0-9.728 7.9872-17.7152 17.7152-17.7152h672.8704c9.728 0 17.7152 7.9872 17.7152 17.7152v28.16z m0-191.6928v73.9328c0 28.3648-23.04 51.4048-51.4048 51.4048H209.3056c-28.3648 0-51.4048-23.04-51.4048-51.4048v-73.9328c0-28.3648 23.04-51.4048 51.4048-51.4048h5.632c22.9376 0 44.544 8.9088 60.7232 25.1904l95.1296 95.1296c1.9456 1.9456 4.5056 2.9696 7.2704 2.9696 2.6624 0 5.3248-1.024 7.2704-2.9696L480.256 547.84c16.1792-16.1792 37.7856-25.1904 60.7232-25.1904h273.7152c28.3648 0 51.4048 23.1424 51.4048 51.4048z m0-102.8096c0 17.1008-13.824 30.9248-30.9248 30.9248H188.8256c-16.9984 0-30.9248-13.824-30.9248-30.9248v-16.2816c0-17.1008 13.9264-30.9248 30.9248-30.9248h646.3488c17.1008 0 30.9248 13.9264 30.9248 30.9248v16.2816z m-72.192 387.1744zM377.9584 645.9392z m136.704-351.4368c10.9568 0 19.5584-13.4144 19.5584-30.4128 0-17.1008-8.6016-30.4128-19.5584-30.4128s-19.5584 13.4144-19.5584 30.4128c0 17.1008 8.6016 30.4128 19.5584 30.4128z m0-52.6336c5.3248 0 11.3664 9.1136 11.3664 22.2208 0 13.1072-5.9392 22.2208-11.3664 22.2208s-11.3664-9.1136-11.3664-22.2208c0-13.1072 6.0416-22.2208 11.3664-22.2208z m-139.5712 39.6288c2.1504 1.2288 4.5056 1.8432 7.0656 1.8432 3.2768 0 6.7584-1.024 10.3424-3.072 5.632-3.1744 10.8544-8.704 14.7456-15.36 8.4992-14.7456 7.7824-30.6176-1.7408-36.1472-4.9152-2.8672-11.0592-2.3552-17.408 1.2288-5.632 3.1744-10.8544 8.704-14.7456 15.36-8.4992 14.7456-7.7824 30.6176 1.7408 36.1472z m5.3248-32.0512c3.072-5.4272 7.3728-9.9328 11.6736-12.3904 2.2528-1.3312 4.4032-1.9456 6.2464-1.9456 1.1264 0 2.1504 0.2048 2.9696 0.7168 4.608 2.6624 5.2224 13.6192-1.3312 24.9856-3.072 5.4272-7.3728 9.9328-11.6736 12.3904-3.6864 2.048-7.0656 2.56-9.216 1.2288-4.608-2.7648-5.2224-13.6192 1.3312-24.9856zM636.928 280.2688c3.584 2.048 7.0656 3.072 10.3424 3.072 2.56 0 4.9152-0.6144 7.0656-1.8432 9.5232-5.5296 10.24-21.4016 1.7408-36.1472-3.8912-6.7584-9.1136-12.1856-14.7456-15.36-6.3488-3.584-12.4928-3.9936-17.408-1.2288-9.5232 5.5296-10.24 21.4016-1.7408 36.1472 3.8912 6.656 9.1136 12.1856 14.7456 15.36z m-9.0112-44.4416c2.2528-1.3312 5.632-0.8192 9.216 1.2288 4.3008 2.4576 8.6016 6.9632 11.6736 12.3904 6.5536 11.3664 5.9392 22.3232 1.3312 24.9856-2.2528 1.3312-5.632 0.8192-9.216-1.2288-4.3008-2.4576-8.6016-6.9632-11.6736-12.3904-6.5536-11.3664-5.9392-22.2208-1.3312-24.9856z" p-id="1700" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-hotpot"><path d="M962.4576 438.4768h-64.3072c-11.6736-61.6448-37.6832-118.1696-74.5472-165.9904 17.6128 48.0256 27.136 99.84 27.136 153.9072 0 246.9888-200.192 447.1808-447.1808 447.1808-17.92 0-35.5328-1.024-52.8384-3.072 49.152 22.1184 103.7312 34.5088 161.1776 34.5088 192 0 351.744-137.6256 386.1504-319.5904h64.3072c10.752 0 19.456-8.704 19.456-19.456V457.9328c0.1024-10.752-8.6016-19.456-19.3536-19.456z" fill="#FFA43E" p-id="1853" /><path d="M850.8416 426.496c0-54.0672-9.6256-105.8816-27.136-153.9072-71.8848-93.3888-184.7296-153.6-311.7056-153.6-192 0-351.744 137.6256-386.1504 319.5904H61.5424c-10.752 0-19.456 8.704-19.456 19.456v108.1344c0 10.752 8.704 19.456 19.456 19.456h64.3072c24.1664 127.488 109.7728 233.2672 224.9728 285.0816 17.3056 2.048 34.9184 3.072 52.8384 3.072 246.9888-0.1024 447.1808-200.3968 447.1808-447.2832z" fill="#FFD14F" p-id="1854" /><path d="M680.6528 681.6768c0-93.184-75.5712-168.6528-168.6528-168.6528s-168.6528-75.5712-168.6528-168.6528S418.816 175.616 512 175.616v-1.9456c-186.88 0-338.3296 151.4496-338.3296 338.3296S325.12 850.3296 512 850.3296c93.184 0 168.6528-75.4688 168.6528-168.6528z" fill="#FDF7E5" p-id="1855" /><path d="M512 173.6704v1.9456c-93.184 0-168.6528 75.5712-168.6528 168.6528S418.816 512.9216 512 512.9216s168.6528 75.5712 168.6528 168.6528S605.184 850.3296 512 850.3296c186.88 0 338.3296-151.4496 338.3296-338.3296S698.88 173.6704 512 173.6704z" fill="#E01E22" p-id="1856" /><path d="M557.568 394.1376l19.5584-19.5584c27.648-27.648-27.4432-82.6368-54.9888-54.9888L391.5776 450.048s6.2464 29.3888 62.464 52.6336 92.16 11.5712 92.16 11.5712l59.8016-59.8016c27.5456-27.5456-20.8896-87.8592-48.4352-60.3136z" fill="#F06661" p-id="1857" /><path d="M592.4864 444.7232c14.336-14.336-17.5104-46.08-31.744-31.744-14.336 14.336 17.408 46.08 31.744 31.744z" fill="#E01E22" p-id="1858" /><path d="M349.4912 488.7552c0-14.9504-10.9568-27.7504-26.4192-32.768 3.3792 5.12 5.4272 11.0592 5.4272 17.408 0 12.1856-7.2704 22.9376-18.2272 29.184 1.536 3.9936 2.3552 8.192 2.3552 12.5952 0 21.9136-20.6848 39.7312-46.2848 39.7312-6.4512 0-12.5952-1.1264-18.2272-3.1744 8.192 11.1616 22.6304 18.6368 39.2192 18.6368 25.6 0 46.2848-17.8176 46.2848-39.7312 0-4.4032-0.8192-8.6016-2.3552-12.5952 10.9568-6.3488 18.2272-17.1008 18.2272-29.2864z" fill="#3EBA4A" p-id="1859" /><path d="M312.6272 515.1744c0-4.4032-0.8192-8.6016-2.3552-12.5952 10.9568-6.2464 18.2272-16.9984 18.2272-29.184 0-6.3488-1.9456-12.288-5.4272-17.408-4.5056-1.4336-9.4208-2.2528-14.5408-2.2528-14.6432 0-27.5456 6.656-34.7136 16.5888-5.9392-3.9936-13.312-6.3488-21.4016-6.3488-19.2512 0-34.9184 13.4144-34.9184 30.0032 0 13.4144 10.24 24.7808 24.4736 28.5696-0.6144 2.56-0.9216 5.3248-0.9216 8.0896 0 7.7824 2.6624 15.0528 7.0656 21.1968 5.632 2.048 11.776 3.1744 18.2272 3.1744 25.6-0.1024 46.2848-17.92 46.2848-39.8336z" fill="#68E077" p-id="1860" /><path d="M558.6944 620.4416c14.848 17.8176 21.1968 41.1648 15.1552 64.512-10.8544 42.2912-58.0608 68.8128-105.472 59.0848-4.8128-1.024-9.4208-2.2528-13.824-3.8912 12.0832 14.4384 29.696 25.3952 50.9952 29.696 47.4112 9.728 94.6176-16.7936 105.472-59.0848 9.728-38.0928-13.2096-75.9808-52.3264-90.3168zM432.5376 586.8544c13.4144 16.0768 19.1488 37.1712 13.7216 58.2656-9.8304 38.2976-52.5312 62.1568-95.3344 53.4528-4.3008-0.9216-8.4992-2.048-12.4928-3.584 10.8544 13.1072 26.9312 22.9376 46.08 26.8288 42.9056 8.704 85.6064-15.1552 95.3344-53.4528 8.8064-34.304-11.9808-68.608-47.3088-81.5104z" fill="#7C4115" p-id="1861" /><path d="M446.2592 645.12c5.4272-21.0944-0.3072-42.1888-13.7216-58.2656-3.9936-1.4336-8.192-2.6624-12.4928-3.584-42.9056-8.704-85.6064 15.1552-95.3344 53.4528-5.4272 21.0944 0.3072 42.1888 13.7216 58.2656 3.9936 1.4336 8.192 2.6624 12.4928 3.584 42.8032 8.704 85.504-15.1552 95.3344-53.4528zM573.8496 684.9536c5.9392-23.3472-0.3072-46.592-15.1552-64.512-4.4032-1.6384-9.0112-2.9696-13.824-3.8912-47.4112-9.728-94.6176 16.7936-105.472 59.0848-5.9392 23.3472 0.4096 46.592 15.2576 64.512 4.4032 1.6384 9.0112 2.9696 13.824 3.8912 47.3088 9.6256 94.5152-16.7936 105.3696-59.0848z" fill="#8B5526" p-id="1862" /><path d="M542.3104 676.1472l33.28 13.824-37.6832 1.1264c-2.7648 0.1024-5.2224 1.3312-6.5536 3.1744l-17.6128 26.0096-1.4336-29.3888c-0.1024-2.1504-1.6384-4.096-4.096-5.12l-33.28-13.824 37.6832-1.1264c2.7648-0.1024 5.2224-1.3312 6.5536-3.1744l17.6128-26.0096 1.4336 29.3888c0 2.2528 1.6384 4.1984 4.096 5.12zM419.5328 636.928l30.72 12.6976-34.7136 1.024c-2.56 0.1024-4.8128 1.2288-6.0416 2.9696L393.216 677.5808l-1.3312-27.0336c-0.1024-1.9456-1.536-3.7888-3.7888-4.7104l-30.72-12.6976 34.7136-1.024c2.56-0.1024 4.8128-1.2288 6.0416-2.9696l16.2816-23.9616 1.3312 27.0336c0.1024 1.9456 1.536 3.7888 3.7888 4.7104z" fill="#C8A981" p-id="1863" /><path d="M767.8976 503.6032c3.584 7.0656 5.632 15.0528 5.632 23.552 0 28.8768-23.3472 52.224-52.224 52.224-8.4992 0-16.4864-2.048-23.552-5.632 8.6016 16.9984 26.3168 28.7744 46.6944 28.7744 28.8768 0 52.224-23.3472 52.224-52.224 0-20.3776-11.776-38.0928-28.7744-46.6944z" fill="#E01E22" p-id="1864" /><path d="M773.5296 527.1552c0-8.4992-2.048-16.4864-5.632-23.552-7.0656-3.584-15.0528-5.632-23.552-5.632-28.8768 0-52.224 23.4496-52.224 52.224 0 8.4992 2.048 16.4864 5.632 23.552 7.0656 3.584 15.0528 5.632 23.552 5.632 28.7744 0 52.224-23.3472 52.224-52.224z" fill="#F06661" p-id="1865" /><path d="M563.5072 364.9536c14.336-14.336-17.5104-46.08-31.744-31.744-14.336 14.2336 17.5104 45.9776 31.744 31.744z" fill="#E01E22" p-id="1866" /><path d="M752.3328 369.5616c3.1744 5.7344 5.0176 12.288 5.0176 19.3536 0 22.016-17.8176 39.8336-39.8336 39.8336-7.0656 0-13.6192-1.8432-19.3536-5.0176 6.7584 12.1856 19.8656 20.48 34.816 20.48 22.016 0 39.8336-17.8176 39.8336-39.8336 0-15.0528-8.2944-28.0576-20.48-34.816z" fill="#FFA43E" p-id="1867" /><path d="M717.7216 310.6816c4.096 7.4752 6.5536 15.9744 6.5536 25.088 0 28.5696-23.1424 51.712-51.712 51.712-9.1136 0-17.7152-2.3552-25.088-6.5536 8.8064 15.872 25.8048 26.624 45.2608 26.624 28.5696 0 51.712-23.1424 51.712-51.712-0.1024-19.3536-10.8544-36.2496-26.7264-45.1584z" fill="#E2E2E2" p-id="1868" /><path d="M757.3504 388.9152c0-7.0656-1.8432-13.6192-5.0176-19.3536-5.7344-3.1744-12.288-5.0176-19.3536-5.0176-22.016 0-39.8336 17.8176-39.8336 39.8336 0 7.0656 1.8432 13.6192 5.0176 19.3536 5.7344 3.1744 12.288 5.0176 19.3536 5.0176 21.9136 0 39.8336-17.92 39.8336-39.8336z" fill="#FFD14F" p-id="1869" /><path d="M724.2752 335.872c0-9.1136-2.3552-17.7152-6.5536-25.088-7.4752-4.096-15.9744-6.5536-25.088-6.5536-28.5696 0-51.712 23.1424-51.712 51.712 0 9.1136 2.3552 17.7152 6.5536 25.088 7.4752 4.096 15.9744 6.5536 25.088 6.5536 28.5696 0 51.712-23.1424 51.712-51.712z" fill="#FFFFFF" p-id="1870" /><path d="M512 163.4304c-93.0816 0-180.6336 36.2496-246.4768 102.0928S163.4304 418.9184 163.4304 512s36.2496 180.6336 102.0928 246.4768 153.3952 102.0928 246.4768 102.0928 180.6336-36.2496 246.4768-102.0928 102.0928-153.3952 102.0928-246.4768-36.2496-180.6336-102.0928-246.4768-153.3952-102.0928-246.4768-102.0928zM183.9104 512c0-142.6432 91.5456-264.3968 218.9312-309.4528-42.3936 32.768-69.8368 84.0704-69.8368 141.7216 0 98.6112 80.2816 178.8928 178.8928 178.8928 87.3472 0 158.4128 71.0656 158.4128 158.4128S599.3472 840.0896 512 840.0896c-180.9408 0-328.0896-147.1488-328.0896-328.0896z m414.8224-64.8192l-6.9632 6.9632c-5.12-1.7408-11.3664-5.8368-17.2032-11.6736-10.5472-10.5472-15.36-22.2208-10.9568-26.624 2.2528-2.2528 5.3248-2.9696 9.1136-2.048 3.8912 0.9216 8.0896 3.584 11.6736 7.168s6.2464 7.8848 7.168 11.6736c0.9216 3.7888 0.3072 6.8608-2.048 9.1136-1.6384 1.6384-1.6384 4.1984 0 5.8368 1.6384 1.6384 4.1984 1.6384 5.8368 0 4.3008-4.3008 5.8368-10.3424 4.096-16.896-1.3312-5.3248-4.608-10.8544-9.3184-15.4624-9.0112-9.0112-23.04-14.5408-32.3584-5.12-9.4208 9.4208-1.2288 25.9072 10.9568 38.1952 5.12 5.12 10.9568 9.5232 16.6912 12.1856L550.4 495.616c-10.6496-15.36-15.872-38.2976-16.0768-55.5008-0.1024-3.7888 0.1024-7.0656 0.512-9.9328l23.4496-23.4496c10.6496-10.6496 26.7264-0.2048 33.6896 6.7584 6.9632 7.0656 17.408 23.04 6.7584 33.6896z m-123.904 42.9056c0 2.7648 0.1024 5.5296 0.3072 8.2944-2.2528-0.512-4.5056-1.1264-6.7584-1.7408l6.4512-6.5536z m8.6016 10.0352c-0.7168-7.168-0.6144-13.5168 0-18.6368l22.7328-22.7328c0.4096 12.9024 3.584 28.672 10.5472 44.032-1.536 0-3.072-0.1024-4.7104-0.1024-9.728 0-19.2512-0.8192-28.5696-2.56z m42.5984 3.1744c-10.0352-19.8656-12.4928-40.1408-11.5712-52.736l11.6736-11.6736v1.3312c0.3072 19.5584 6.144 44.4416 18.432 61.2352l-3.584 3.584c-5.0176-0.8192-9.9328-1.3312-14.9504-1.7408z m43.8272-135.8848l-6.9632 6.9632c-5.12-1.7408-11.3664-5.8368-17.2032-11.6736-10.5472-10.5472-15.36-22.2208-10.9568-26.624 5.12-5.12 14.336-1.2288 20.7872 5.12 3.584 3.584 6.2464 7.8848 7.168 11.6736 0.9216 3.7888 0.3072 6.8608-2.048 9.1136-1.6384 1.6384-1.6384 4.1984 0 5.8368 1.6384 1.6384 4.1984 1.6384 5.8368 0 9.3184-9.3184 3.8912-23.3472-5.12-32.3584s-23.04-14.5408-32.3584-5.12c-9.4208 9.4208-1.2288 25.9072 10.9568 38.1952 5.12 5.12 10.9568 9.5232 16.7936 12.1856l-6.3488 6.3488-0.2048 0.2048c-2.2528 1.4336-4.4032 3.072-6.3488 5.12l-22.8352 22.8352c-10.3424-15.36-15.36-37.888-15.5648-54.784-0.1024-3.7888 0.1024-7.0656 0.4096-9.8304l23.4496-23.4496c4.3008-4.3008 9.728-5.5296 16.4864-3.7888 12.0832 3.1744 24.576 15.6672 27.7504 27.7504 1.8432 6.5536 0.6144 11.8784-3.6864 16.2816z m-72.704-8.3968v1.3312c0.3072 19.2512 5.9392 43.7248 17.92 60.6208l-12.3904 12.3904c-14.5408-22.2208-18.3296-47.7184-17.2032-62.5664l11.6736-11.776zM477.184 378.9824c0.1024 4.096 0.6144 8.3968 1.2288 12.9024 1.6384 10.4448 6.144 29.2864 18.3296 47.3088l-27.136 27.136c-10.3424-15.36-15.36-37.888-15.5648-54.784-0.1024-3.7888 0.1024-7.0656 0.4096-9.8304l22.7328-22.7328z m-31.3344 31.3344v1.3312c0.3072 19.2512 5.9392 43.7248 17.92 60.6208l-12.3904 12.3904c-14.5408-22.2208-18.3296-47.7184-17.2032-62.5664l11.6736-11.776z m-20.0704 20.0704c0.1024 4.096 0.6144 8.3968 1.2288 12.9024 1.536 9.728 5.5296 26.8288 15.9744 43.7248-16.0768-7.7824-30.6176-18.2272-43.1104-30.72l25.9072-25.9072z m199.7824 389.4272c39.936-32.8704 65.4336-82.6368 65.4336-138.24 0-80.4864-53.3504-148.6848-126.5664-171.1104l48.8448-48.8448c18.3296-18.3296 10.4448-45.4656-6.8608-62.6688-6.8608-6.8608-15.36-12.288-24.1664-15.1552l2.048-2.048c9.5232-9.5232 12.8-22.4256 9.0112-36.2496-5.12-19.3536-22.9376-37.0688-42.2912-42.2912-13.824-3.6864-26.7264-0.512-36.2496 9.0112L386.4576 440.7296c-20.5824-26.7264-32.8704-60.2112-32.8704-96.4608 0-87.3472 71.0656-158.4128 158.4128-158.4128 2.1504 0 4.1984-0.7168 5.8368-1.8432 178.176 3.1744 322.2528 149.0944 322.2528 327.9872 0 141.0048-89.3952 261.5296-214.528 307.8144z m272.5888-262.144c-2.2528 0-4.096-1.8432-4.096-4.096v-83.1488c0-2.2528 1.8432-4.096 4.096-4.096s4.096 1.8432 4.096 4.096v83.1488c0 2.2528-1.7408 4.096-4.096 4.096z m-772.3008-91.3408c2.2528 0 4.096 1.8432 4.096 4.096v83.1488c0 2.2528-1.8432 4.096-4.096 4.096s-4.096-1.8432-4.096-4.096v-83.1488c0-2.2528 1.8432-4.096 4.096-4.096z m218.0096 64.2048c0-2.7648-0.3072-5.632-0.8192-8.2944 10.5472-8.4992 16.5888-20.5824 16.5888-33.4848 0-24.9856-22.9376-45.3632-51.0976-45.3632-14.2336 0-27.4432 5.12-37.0688 14.0288-5.9392-2.4576-12.3904-3.7888-19.1488-3.7888-24.8832 0-45.1584 18.0224-45.1584 40.2432 0 15.0528 9.1136 28.3648 23.4496 35.328v1.3312c0 27.5456 25.3952 49.9712 56.5248 49.9712s56.7296-22.3232 56.7296-49.9712z m-22.1184-8.9088c1.1264 2.8672 1.7408 5.9392 1.7408 8.9088 0 16.2816-16.1792 29.4912-36.0448 29.4912-19.8656 0-36.0448-13.2096-36.0448-29.4912 0-1.9456 0.2048-3.7888 0.7168-5.7344 1.3312-5.4272-1.9456-10.8544-7.2704-12.288-10.0352-2.7648-16.896-10.24-16.896-18.7392 0-10.8544 11.0592-19.7632 24.6784-19.7632 5.8368 0 11.264 1.6384 15.7696 4.608 4.608 3.072 10.752 1.9456 14.0288-2.56 5.5296-7.5776 15.6672-12.3904 26.4192-12.3904 16.896 0 30.6176 11.1616 30.6176 24.8832 0 8.0896-4.9152 15.6672-13.1072 20.3776-4.608 2.6624-6.4512 7.9872-4.608 12.6976z m203.3664 260.4032c44.7488 0 85.2992-27.8528 95.8464-68.8128 5.632-21.7088 1.9456-44.4416-10.24-63.7952-13.6192-21.7088-36.864-37.376-63.8976-42.9056-22.016-4.5056-44.032-1.8432-63.0784 6.144-12.4928-20.5824-34.2016-35.5328-59.904-40.7552-48.8448-10.0352-97.792 17.8176-109.1584 61.952-5.2224 20.2752-1.8432 41.3696 9.5232 59.392 12.6976 20.2752 34.304 34.816 59.392 39.936 6.656 1.3312 13.4144 2.048 20.1728 2.048 10.9568 0 21.8112-1.7408 32.0512-5.2224 1.2288 2.3552 2.4576 4.608 3.8912 6.8608 13.6192 21.7088 36.864 37.376 63.8976 42.9056 7.168 1.536 14.4384 2.2528 21.504 2.2528z m-137.3184-68.9152c-19.6608-3.9936-36.4544-15.1552-46.08-30.72-8.2944-13.312-10.752-28.672-6.9632-43.52 8.6016-33.6896 46.8992-54.784 85.1968-47.0016 19.6608 3.9936 36.352 15.1552 45.9776 30.5152-8.192 5.632-15.5648 12.4928-21.504 20.2752l-23.2448-9.6256c-0.8192-0.3072-1.2288-0.8192-1.2288-1.1264l-1.3312-27.0336c-0.1024-1.7408-1.2288-3.2768-2.9696-3.7888s-3.4816 0.2048-4.5056 1.6384L394.8544 626.688c-0.3072 0.512-1.3312 1.1264-2.7648 1.1264l-34.7136 1.024c-1.9456 0.1024-3.584 1.4336-3.8912 3.3792-0.3072 1.9456 0.7168 3.7888 2.4576 4.5056l30.72 12.6976c0.8192 0.3072 1.2288 0.8192 1.2288 1.1264l1.3312 27.0336c0.1024 1.7408 1.2288 3.2768 2.9696 3.7888 0.4096 0.1024 0.7168 0.2048 1.1264 0.2048 1.3312 0 2.56-0.6144 3.3792-1.8432l16.2816-23.9616c0.4096-0.512 1.3312-1.1264 2.7648-1.1264l21.4016-0.6144c-3.1744 5.9392-5.7344 12.288-7.4752 18.944-3.1744 12.4928-3.3792 25.2928-0.6144 37.6832-13.2096 4.4032-27.5456 5.3248-41.2672 2.4576z m43.2128-66.9696l-15.5648 0.512c-3.8912 0.1024-7.3728 1.8432-9.3184 4.7104l-9.4208 13.824-0.7168-14.848c-0.2048-3.584-2.56-6.7584-6.3488-8.2944l-13.0048-5.4272 15.5648-0.512c3.8912-0.1024 7.3728-1.8432 9.3184-4.7104l9.4208-13.824 0.7168 14.848c0.2048 3.584 2.56 6.7584 6.3488 8.2944l13.0048 5.4272z m26.0096 79.872c-9.1136-14.6432-11.8784-31.6416-7.68-47.9232 4.7104-18.3296 17.3056-33.1776 33.9968-42.5984 0 0 0.1024 0 0.1024-0.1024 0.6144-0.3072 1.2288-0.6144 1.7408-1.024 11.8784-6.2464 25.6-9.728 39.936-9.728 5.8368 0 11.776 0.6144 17.7152 1.8432 21.504 4.4032 39.936 16.6912 50.5856 33.6896 9.1136 14.6432 11.8784 31.6416 7.68 47.9232-8.192 31.8464-40.2432 53.3504-75.776 53.3504-5.8368 0-11.776-0.6144-17.7152-1.8432-21.504-4.3008-39.936-16.5888-50.5856-33.5872z m80.9984-30.8224l37.6832-1.1264c1.9456-0.1024 3.584-1.4336 3.8912-3.3792s-0.7168-3.7888-2.4576-4.5056l-33.28-13.824c-1.024-0.4096-1.536-1.1264-1.536-1.536l-1.4336-29.3888c-0.1024-1.7408-1.2288-3.2768-2.9696-3.7888s-3.4816 0.2048-4.5056 1.6384l-17.6128 26.0096c-0.4096 0.7168-1.6384 1.3312-3.2768 1.4336l-37.6832 1.1264c-1.9456 0.1024-3.584 1.4336-3.8912 3.3792-0.3072 1.9456 0.7168 3.7888 2.4576 4.5056l33.28 13.824c1.024 0.4096 1.536 1.1264 1.536 1.536l1.4336 29.3888c0.1024 1.7408 1.2288 3.2768 2.9696 3.7888 0.4096 0.1024 0.7168 0.2048 1.1264 0.2048 1.3312 0 2.56-0.6144 3.3792-1.8432l17.6128-26.0096c0.512-0.7168 1.6384-1.4336 3.2768-1.4336z m-10.0352-3.1744l-10.752 15.872-0.8192-17.2032c-0.2048-3.6864-2.7648-7.0656-6.656-8.704l-15.6672-6.4512 18.5344-0.512c4.096-0.1024 7.7824-1.9456 9.8304-5.0176l10.752-15.872 0.8192 17.2032c0.2048 3.6864 2.7648 7.0656 6.656 8.704l15.6672 6.4512-18.5344 0.512c-4.096 0.1024-7.7824 1.9456-9.8304 5.0176z m-14.2336 32.3584z m168.1408-174.08c0 34.5088 28.0576 62.464 62.464 62.464 34.5088 0 62.464-28.0576 62.464-62.464s-28.0576-62.464-62.464-62.464-62.464 27.9552-62.464 62.464z m104.5504 0c0 23.1424-18.8416 41.984-41.984 41.984s-41.984-18.8416-41.984-41.984 18.8416-41.984 41.984-41.984c23.04 0 41.984 18.8416 41.984 41.984z m-94.3104-256.3072c-34.4064 0-62.3616 27.9552-62.3616 62.3616 0 31.9488 24.1664 58.368 55.1936 61.952 6.0416 20.7872 25.2928 36.1472 48.128 36.1472 27.648 0 50.0736-22.4256 50.0736-50.0736 0-19.968-11.6736-37.1712-28.5696-45.2608 0-0.9216 0.1024-1.8432 0.1024-2.7648-0.2048-34.4064-28.16-62.3616-62.5664-62.3616zM650.24 356.352c0-23.1424 18.8416-41.8816 41.8816-41.8816 22.4256 0 40.7552 17.7152 41.8816 39.8336h-1.024c-25.1904 0-46.1824 18.7392-49.5616 43.1104-18.944-4.096-33.1776-20.8896-33.1776-41.0624z m82.7392 77.6192c-16.2816 0-29.5936-13.312-29.5936-29.5936s13.312-29.5936 29.5936-29.5936c16.2816 0 29.5936 13.312 29.5936 29.5936s-13.312 29.5936-29.5936 29.5936z m259.1744 23.9616v108.1344c0 16.384-13.312 29.696-29.696 29.696h-55.808c-39.2192 185.6512-203.776 319.5904-394.5472 319.5904S156.672 781.5168 117.5552 595.7632H61.5424c-16.384 0-29.696-13.312-29.696-29.696V457.9328c0-16.384 13.312-29.696 29.696-29.696h55.9104c39.1168-185.6512 203.776-319.5904 394.5472-319.5904 45.9776 0 91.0336 7.68 133.9392 22.7328 41.472 14.6432 80.1792 35.84 114.8928 63.1808 4.4032 3.4816 5.2224 9.9328 1.7408 14.336-3.4816 4.4032-9.9328 5.2224-14.336 1.7408-67.8912-53.3504-149.6064-81.5104-236.2368-81.5104-183.808 0-342.016 130.8672-376.1152 311.1936-0.9216 5.12-5.5296 8.6016-10.6496 8.2944H61.5424c-5.12 0-9.216 4.096-9.216 9.216v108.1344c0 5.12 4.096 9.216 9.216 9.216h63.7952c5.0176-0.2048 9.5232 3.2768 10.4448 8.2944C169.984 763.904 328.192 894.7712 512 894.7712S854.016 763.904 888.1152 583.5776c0.9216-5.12 5.5296-8.6016 10.6496-8.2944h63.6928c5.12 0 9.216-4.096 9.216-9.216V457.9328c0-5.12-4.096-9.216-9.216-9.216h-63.7952c-5.0176 0.2048-9.5232-3.2768-10.4448-8.2944-13.7216-72.704-48.2304-139.4688-99.6352-193.2288-3.8912-4.096-3.7888-10.5472 0.3072-14.4384s10.5472-3.7888 14.4384 0.3072c52.224 54.4768 87.8592 121.856 103.3216 195.2768h55.808c16.384-0.1024 29.696 13.2096 29.696 29.5936z" p-id="1871" /></symbol><symbol viewBox="0 0 1024 1024"  id="svg-light">\r
    <path d="M565.096296 289.185185s-0.948148 0 0 0c-110.933333-20.859259-208.592593 40.77037-237.985185 148.859259-14.222222 53.096296-24.651852 101.451852 44.562963 221.866667 14.222222 25.6 11.377778 70.162963 8.533333 95.762963-1.896296 14.222222 64.474074 36.02963 89.125926 42.666667l95.762963-509.155556z" fill="#FDB813" />\r
    <path d="M732.918519 513.896296c11.377778-111.881481-56.888889-203.851852-166.874075-224.711111h-0.948148L469.333333 798.340741c25.6 2.844444 94.814815 6.637037 98.607408-7.585185 6.637037-25.6 20.859259-67.318519 42.666666-86.281482C719.644444 618.192593 727.22963 568.888889 732.918519 513.896296z" fill="#FD9B13" />\r
    <path d="M467.437037 806.874074c-7.585185-0.948148-12.325926-7.585185-14.222222-14.222222l-38.874074-256c-0.948148-5.688889 0.948148-11.377778 4.74074-15.170371 3.792593-3.792593 9.481481-5.688889 15.170371-4.74074l167.822222 31.288889c5.688889 0.948148 10.42963 4.740741 12.325926 9.481481 1.896296 4.740741 1.896296 11.377778-0.948148 16.118519L486.4 798.340741c-3.792593 6.637037-11.377778 10.42963-18.962963 8.533333z m-14.222222-251.259259l27.496296 182.992592L572.681481 578.37037l-119.466666-22.755555z" fill="#F12A3F" />\r
    <path d="M375.466667 709.214815l-25.6 137.481481c0 2.844444 1.896296 5.688889 7.585185 10.42963l65.422222 54.992593c5.688889 4.740741 15.17037 8.533333 23.703704 10.429629l36.029629-193.422222-107.14074-19.911111z" fill="#2D4375" />\r
    <path d="M482.607407 729.125926l-36.029629 193.422222c9.481481 1.896296 18.014815 1.896296 25.6-0.948148l80.592592-27.496296c6.637037-1.896296 10.42963-4.740741 11.377778-6.637037L589.748148 749.037037l-107.140741-19.911111z" fill="#1E2D4F" />\r
    <path d="M612.503704 217.125926c-3.792593 18.014815-20.859259 29.392593-38.874074 26.548148-18.014815-3.792593-30.340741-20.859259-26.548149-38.874074l18.962963-100.503704c3.792593-18.014815 20.859259-29.392593 38.874075-26.548148 18.014815 3.792593 30.340741 20.859259 26.548148 38.874074l-18.962963 100.503704z" fill="#FDB813" />\r
    <path d="M382.103704 228.503704c10.42963 15.17037 6.637037 36.02963-8.533334 46.459259-15.17037 10.42963-36.02963 6.637037-46.459259-8.533333l-57.837037-84.385186c-10.42963-15.17037-6.637037-36.02963 8.533333-46.459259 15.17037-10.42963 36.02963-6.637037 46.45926 8.533334l57.837037 84.385185zM757.57037 298.666667c-15.17037 10.42963-18.962963 31.288889-8.533333 46.459259 10.42963 15.17037 31.288889 18.962963 46.459259 8.533333l84.385185-57.837037c15.17037-10.42963 18.962963-31.288889 8.533334-46.459259-10.42963-15.17037-31.288889-18.962963-46.459259-8.533333l-84.385186 57.837037z" fill="#FDB813" />\r
    <path d="M252.207407 361.244444c18.014815 3.792593 30.340741 20.859259 26.548149 38.874075-3.792593 18.014815-20.859259 29.392593-38.874075 26.548148l-100.503703-18.962963c-18.014815-3.792593-30.340741-20.859259-26.548148-38.874074 3.792593-18.014815 20.859259-29.392593 38.874074-26.548149l100.503703 18.962963zM931.081481 488.296296c18.014815 3.792593 30.340741 20.859259 26.548149 38.874074-3.792593 18.014815-20.859259 29.392593-38.874074 26.548149l-100.503704-18.962963c-18.014815-3.792593-30.340741-20.859259-26.548148-38.874075 3.792593-18.014815 20.859259-29.392593 38.874074-26.548148l100.503703 18.962963z" fill="#FDB813" />\r
    <path d="M593.540741 807.822222c1.896296-7.585185-3.792593-15.17037-11.377778-16.118518l-107.140741-19.911111-4.740741 27.496296 107.140741 19.911111c6.637037 0.948148 14.222222-3.792593 16.118519-11.377778z" fill="#CEEFF6" />\r
    <path d="M366.933333 750.933333c-7.585185-1.896296-15.17037 3.792593-16.118518 11.377778-1.896296 7.585185 3.792593 15.17037 11.377778 16.118519l107.14074 19.911111 4.740741-27.496297-107.140741-19.911111zM356.503704 808.77037c-7.585185-1.896296-15.17037 3.792593-16.118519 11.377778-1.896296 7.585185 3.792593 15.17037 11.377778 16.118519l107.140741 19.911111 4.74074-27.496297-107.14074-19.911111z" fill="#FFFFFF" />\r
    <path d="M570.785185 848.592593l-107.140741-19.911112-4.74074 27.496297 107.14074 19.911111c7.585185 1.896296 15.17037-3.792593 16.118519-11.377778 1.896296-7.585185-2.844444-15.17037-11.377778-16.118518z" fill="#CEEFF6" />\r
</symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-now-time"><path d="M583.68 157.696v-28.672c0-12.288 8.192-20.48 20.48-20.48s20.48 8.192 20.48 20.48v28.672h163.84c57.344 0 102.4 45.056 102.4 102.4v73.728c0 12.288-8.192 20.48-20.48 20.48s-20.48-8.192-20.48-20.48v-73.728c0-34.816-26.624-61.44-61.44-61.44h-163.84v36.864c0 12.288-8.192 20.48-20.48 20.48s-20.48-8.192-20.48-20.48v-36.864h-266.24v36.864c0 12.288-8.192 20.48-20.48 20.48s-20.48-8.192-20.48-20.48v-36.864h-143.36c-34.816 0-61.44 26.624-61.44 61.44v118.784h399.36c12.288 0 20.48 8.192 20.48 20.48s-8.192 20.48-20.48 20.48H71.68v393.216c0 34.816 26.624 61.44 61.44 61.44h337.92c12.288 0 20.48 8.192 20.48 20.48s-8.192 20.48-20.48 20.48H133.12c-57.344 0-102.4-45.056-102.4-102.4v-552.96c0-57.344 45.056-102.4 102.4-102.4h143.36v-28.672c0-12.288 8.192-20.48 20.48-20.48s20.48 8.192 20.48 20.48v28.672h266.24z m374.784 626.688c-6.144 10.24-18.432 14.336-28.672 8.192-10.24-6.144-14.336-18.432-8.192-28.672 63.488-114.688 22.528-258.048-92.16-319.488-114.688-63.488-258.048-22.528-319.488 92.16s-22.528 258.048 92.16 319.488c81.92 45.056 182.272 36.864 256-18.432 8.192-6.144 22.528-4.096 28.672 4.096 6.144 8.192 4.096 22.528-4.096 28.672-86.016 65.536-204.8 73.728-301.056 20.48-133.12-73.728-182.272-241.664-108.544-376.832s241.664-182.272 376.832-108.544c135.168 77.824 182.272 245.76 108.544 378.88z m-231.424-319.488v184.32l167.936 36.864c10.24 2.048 18.432 14.336 16.384 24.576s-14.336 18.432-24.576 16.384l-200.704-45.056v-217.088c0-12.288 8.192-20.48 20.48-20.48s20.48 8.192 20.48 20.48z m-518.144 94.208c34.816-8.192 61.44-24.576 79.872-49.152h24.576V768h-43.008v-196.608c-14.336 10.24-34.816 18.432-61.44 22.528v-34.816z" fill="#32373B" p-id="1596" data-spm-anchor-id="a313x.manage_type_myprojects.0.i0.1adc3a81DQz5PY" class="selected" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-pie-charts"><path d="M512 819.2a307.2 307.2 0 0 1 0-614.4h20.48v298.5984l211.3536 211.3536-14.7456 14.336a304.3328 304.3328 0 0 1-217.088 90.112zM491.52 245.76a266.24 266.24 0 1 0 193.7408 467.7632L491.52 520.6016z" fill="#1296db" p-id="10301" data-spm-anchor-id="a313x.search_index.0.i4.235d3a811lrcUt" class="" /><path d="M778.24 682.3936l-204.8-202.752V163.84l23.3472 3.2768a307.2 307.2 0 0 1 194.1504 498.0736z m-163.84-219.9552l158.5152 158.5152A265.8304 265.8304 0 0 0 614.4 212.1728z" fill="#5ad562" p-id="10302" data-spm-anchor-id="a313x.search_index.0.i7.235d3a811lrcUt" class="" /><path d="M292.49536 702.2592l204.8-204.8 28.91776 28.99968-204.75904 204.8z" fill="#1296db" p-id="10303" data-spm-anchor-id="a313x.search_index.0.i5.235d3a811lrcUt" class="" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-progress-a"><path d="M324.266667 599.466667c-6.4-4.266667-12.8-8.533333-14.933334-17.066667s-6.4-17.066667-6.4-27.733333h32c0 6.4 2.133333 10.666667 4.266667 14.933333s6.4 4.266667 10.666667 4.266667 8.533333-2.133333 10.666666-4.266667 4.266667-6.4 4.266667-12.8v-27.733333c0-4.266667-2.133333-8.533333-4.266667-10.666667s-4.266667-6.4-8.533333-6.4-6.4 0-8.533333 2.133333-4.266667 4.266667-4.266667 8.533334h-32v-102.4h87.466667v32h-55.466667v34.133333c2.133333-2.133333 6.4-4.266667 8.533333-6.4s8.533333-2.133333 10.666667-2.133333c8.533333 0 14.933333 2.133333 19.2 6.4s10.666667 8.533333 12.8 17.066666c2.133333 6.4 4.266667 14.933333 4.266667 25.6V554.666667c0 10.666667-2.133333 19.2-6.4 25.6-4.266667 6.4-8.533333 12.8-17.066667 17.066666s-14.933333 6.4-25.6 6.4c-6.4 2.133333-14.933333 0-21.333333-4.266666zM437.333333 593.066667c-8.533333-8.533333-12.8-19.2-12.8-34.133334V469.333333c0-14.933333 4.266667-27.733333 12.8-34.133333s19.2-12.8 36.266667-12.8 27.733333 4.266667 36.266667 12.8 12.8 19.2 12.8 34.133333v89.6c0 14.933333-4.266667 27.733333-12.8 36.266667s-19.2 12.8-36.266667 12.8c-17.066667-2.133333-27.733333-6.4-36.266667-14.933333z m46.933334-25.6c2.133333-4.266667 4.266667-8.533333 4.266666-14.933334v-81.066666c0-6.4-2.133333-10.666667-4.266666-14.933334s-6.4-4.266667-10.666667-4.266666-8.533333 2.133333-12.8 4.266666-4.266667 8.533333-4.266667 14.933334v81.066666c0 6.4 2.133333 10.666667 4.266667 14.933334s6.4 4.266667 10.666667 4.266666 10.666667 0 12.8-4.266666zM554.666667 490.666667c-4.266667-6.4-8.533333-12.8-8.533334-23.466667v-14.933333c0-10.666667 2.133333-17.066667 8.533334-23.466667s12.8-8.533333 21.333333-8.533333 17.066667 2.133333 21.333333 8.533333 8.533333 12.8 8.533334 23.466667v14.933333c0 10.666667-2.133333 17.066667-8.533334 23.466667s-12.8 8.533333-21.333333 8.533333-17.066667-2.133333-21.333333-8.533333z m32-10.666667c2.133333-2.133333 4.266667-6.4 4.266666-12.8V448c0-4.266667-2.133333-8.533333-4.266666-10.666667s-6.4-4.266667-10.666667-4.266666-8.533333 2.133333-10.666667 4.266666-4.266667 6.4-4.266666 10.666667v21.333333c0 4.266667 2.133333 8.533333 4.266666 12.8s6.4 4.266667 10.666667 4.266667 8.533333-4.266667 10.666667-6.4z m74.666666-59.733333h17.066667l-98.133333 181.333333h-17.066667l98.133333-181.333333z m-17.066666 177.066666c-4.266667-6.4-8.533333-12.8-8.533334-23.466666v-14.933334c0-10.666667 2.133333-17.066667 8.533334-23.466666s12.8-8.533333 21.333333-8.533334 17.066667 2.133333 21.333333 8.533334 8.533333 12.8 8.533334 23.466666v14.933334c0 10.666667-2.133333 17.066667-8.533334 23.466666s-12.8 8.533333-21.333333 8.533334-14.933333-4.266667-21.333333-8.533334z m34.133333-10.666666c2.133333-2.133333 4.266667-6.4 4.266667-12.8V554.666667c0-4.266667-2.133333-8.533333-4.266667-10.666667s-6.4-4.266667-10.666667-4.266667-8.533333 2.133333-10.666666 4.266667-4.266667 6.4-4.266667 10.666667v19.2c0 4.266667 2.133333 8.533333 4.266667 12.8s6.4 4.266667 10.666666 4.266666 8.533333-2.133333 10.666667-4.266666z" fill="#B0B0B0" p-id="1705" /><path d="M512 85.333333C277.333333 85.333333 85.333333 277.333333 85.333333 512s192 426.666667 426.666667 426.666667 426.666667-192 426.666667-426.666667S746.666667 85.333333 512 85.333333z m0 768c-187.733333 0-341.333333-153.6-341.333333-341.333333S324.266667 170.666667 512 170.666667s341.333333 153.6 341.333333 341.333333-153.6 341.333333-341.333333 341.333333z" fill="#5CB87A" opacity=".6" p-id="1706" /><path d="M853.333333 512c0 187.733333-153.6 341.333333-341.333333 341.333333v85.333334c234.666667 0 426.666667-192 426.666667-426.666667S746.666667 85.333333 512 85.333333v85.333334c187.733333 0 341.333333 153.6 341.333333 341.333333z" fill="#F5F7FA" p-id="1707" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-svg-text"><path d="M662.186667 853.333333H362.666667a21.333333 21.333333 0 0 1 0-42.666666c35.285333 0 64-28.714667 64-64V341.333333H277.333333C242.048 341.333333 213.333333 370.048 213.333333 405.333333a21.333333 21.333333 0 0 1-42.666666 0v-213.333333a21.333333 21.333333 0 0 1 21.333333-21.333333h640a21.333333 21.333333 0 0 1 21.333333 21.333333v213.333333a21.333333 21.333333 0 0 1-42.666666 0c0-35.285333-28.714667-64-64-64H597.333333v405.333334c0 35.285333 28.714667 64 64 64h0.853334a21.333333 21.333333 0 0 1 0 42.666666z m-214.229334-42.666666h128.085334A106.197333 106.197333 0 0 1 554.666667 746.666667v-426.666667a21.333333 21.333333 0 0 1 21.333333-21.333333h170.666667c24.021333 0 46.165333 7.978667 64 21.376V213.333333H213.333333v106.709334A106.282667 106.282667 0 0 1 277.333333 298.666667h170.666667a21.333333 21.333333 0 0 1 21.333333 21.333333v426.666667c0 24.021333-7.978667 46.165333-21.376 64zM320 85.333333h-85.333333a21.333333 21.333333 0 0 1 0-42.666666h85.333333a21.333333 21.333333 0 0 1 0 42.666666zM554.666667 85.333333h-85.333334a21.333333 21.333333 0 0 1 0-42.666666h85.333334a21.333333 21.333333 0 0 1 0 42.666666zM789.333333 85.333333h-85.333333a21.333333 21.333333 0 0 1 0-42.666666h85.333333a21.333333 21.333333 0 0 1 0 42.666666zM320 981.333333h-85.333333a21.333333 21.333333 0 0 1 0-42.666666h85.333333a21.333333 21.333333 0 0 1 0 42.666666zM554.666667 981.333333h-85.333334a21.333333 21.333333 0 0 1 0-42.666666h85.333334a21.333333 21.333333 0 0 1 0 42.666666zM789.333333 981.333333h-85.333333a21.333333 21.333333 0 0 1 0-42.666666h85.333333a21.333333 21.333333 0 0 1 0 42.666666zM64 810.666667a21.333333 21.333333 0 0 1-21.333333-21.333334v-85.333333a21.333333 21.333333 0 0 1 42.666666 0v85.333333a21.333333 21.333333 0 0 1-21.333333 21.333334zM64 576A21.333333 21.333333 0 0 1 42.666667 554.666667v-85.333334a21.333333 21.333333 0 0 1 42.666666 0v85.333334a21.333333 21.333333 0 0 1-21.333333 21.333333zM64 341.333333a21.333333 21.333333 0 0 1-21.333333-21.333333v-85.333333a21.333333 21.333333 0 0 1 42.666666 0v85.333333a21.333333 21.333333 0 0 1-21.333333 21.333333zM960 810.666667a21.333333 21.333333 0 0 1-21.333333-21.333334v-85.333333a21.333333 21.333333 0 0 1 42.666666 0v85.333333a21.333333 21.333333 0 0 1-21.333333 21.333334zM960 576a21.333333 21.333333 0 0 1-21.333333-21.333333v-85.333334a21.333333 21.333333 0 0 1 42.666666 0v85.333334a21.333333 21.333333 0 0 1-21.333333 21.333333zM960 341.333333a21.333333 21.333333 0 0 1-21.333333-21.333333v-85.333333a21.333333 21.333333 0 0 1 42.666666 0v85.333333a21.333333 21.333333 0 0 1-21.333333 21.333333zM1002.666667 128h-85.333334a21.333333 21.333333 0 0 1-21.333333-21.333333v-85.333334a21.333333 21.333333 0 0 1 21.333333-21.333333h85.333334a21.333333 21.333333 0 0 1 21.333333 21.333333v85.333334a21.333333 21.333333 0 0 1-21.333333 21.333333zM938.666667 85.333333h42.666666V42.666667h-42.666666v42.666666zM106.666667 128h-85.333334a21.333333 21.333333 0 0 1-21.333333-21.333333v-85.333334A21.333333 21.333333 0 0 1 21.333333 0h85.333334a21.333333 21.333333 0 0 1 21.333333 21.333333v85.333334a21.333333 21.333333 0 0 1-21.333333 21.333333zM42.666667 85.333333h42.666666V42.666667H42.666667v42.666666zM1002.666667 1024h-85.333334a21.333333 21.333333 0 0 1-21.333333-21.333333v-85.333334a21.333333 21.333333 0 0 1 21.333333-21.333333h85.333334a21.333333 21.333333 0 0 1 21.333333 21.333333v85.333334a21.333333 21.333333 0 0 1-21.333333 21.333333zM938.666667 981.333333h42.666666v-42.666666h-42.666666v42.666666zM106.666667 1024h-85.333334a21.333333 21.333333 0 0 1-21.333333-21.333333v-85.333334a21.333333 21.333333 0 0 1 21.333333-21.333333h85.333334a21.333333 21.333333 0 0 1 21.333333 21.333333v85.333334a21.333333 21.333333 0 0 1-21.333333 21.333333zM42.666667 981.333333h42.666666v-42.666666H42.666667v42.666666z" p-id="2035" data-spm-anchor-id="a313x.manage_type_myprojects.0.i1.1adc3a817YTpYl" class="selected" fill="#aaa" /></symbol><symbol class="icon" viewBox="0 0 1027 1024"   id="svg-switch-on">\r
    <path d="M747.52 238.933333    H276.48    C122.88 238.933333 0 361.813333 0 512    s122.88 273.066667 276.48 273.066667    H750.933333    c150.186667 0 276.48-122.88 276.48-273.066667    s-126.293333-273.066667-279.893333-273.066667z" fill="white" fill-opacity=".01" p-id="1537" data-spm-anchor-id="a313x.manage_type_myprojects.0.i0.1adc3a81uCnBP5" />\r
    <path d="M747.52 238.933333    H276.48    C122.88 238.933333 0 361.813333 0 512    s122.88 273.066667 276.48 273.066667    H750.933333    c150.186667 0 276.48-122.88 276.48-273.066667    s-126.293333-273.066667-279.893333-273.066667z    m0 512    H276.48    C143.36 750.933333 34.133333 645.12 34.133333 512s109.226667-238.933333 242.346667-238.933333    H750.933333c133.12 0 242.346667 105.813333 242.346667 238.933333s-112.64 238.933333-245.76 238.933333z" fill="#2c2c2c" p-id="1531" data-spm-anchor-id="a313x.manage_type_myprojects.0.i0.1adc3a81uCnBP5" />\r
    <path d="M238.933333 409.6c-37.546667 0-68.266667 27.306667-68.266666 61.44v85.333333c0 34.133333 30.72 61.44 68.266666 61.44s68.266667-27.306667 68.266667-61.44v-85.333333c0-34.133333-30.72-61.44-68.266667-61.44z m34.133334 146.773333c0 13.653333-17.066667 23.893333-34.133334 23.893334s-34.133333-10.24-34.133333-27.306667v-85.333333c0-13.653333 17.066667-23.893333 34.133333-23.893334s34.133333 10.24 34.133334 27.306667v85.333333zM460.8 409.6c-10.24 0-17.066667 6.826667-17.066667 17.066667v109.226666l-71.68-119.466666c-3.413333-6.826667-10.24-10.24-20.48-6.826667-6.826667 3.413333-13.653333 10.24-13.653333 17.066667v170.666666c0 10.24 6.826667 17.066667 17.066667 17.066667s17.066667-6.826667 17.066666-17.066667v-109.226666l71.68 119.466666c3.413333 6.826667 10.24 6.826667 13.653334 6.826667h3.413333c6.826667-3.413333 13.653333-10.24 13.653333-17.066667v-170.666666c3.413333-10.24-3.413333-17.066667-13.653333-17.066667zM750.933333 341.333333c-95.573333 0-170.666667 75.093333-170.666666 170.666667s75.093333 170.666667 170.666666 170.666667 170.666667-75.093333 170.666667-170.666667-75.093333-170.666667-170.666667-170.666667z" fill="#5ad562" p-id="1530" data-spm-anchor-id="a313x.manage_type_myprojects.0.i1.1adc3a81uCnBP5" />\r
</symbol><symbol class="icon" viewBox="0 0 1027 1024"   id="svg-switch-r">\r
    <path d="M747.52 238.933333    H276.48    C122.88 238.933333 0 361.813333 0 512    s122.88 273.066667 276.48 273.066667    H750.933333    c150.186667 0 276.48-122.88 276.48-273.066667    s-126.293333-273.066667-279.893333-273.066667z" fill="white" fill-opacity=".01" p-id="1537" data-spm-anchor-id="a313x.manage_type_myprojects.0.i0.1adc3a81uCnBP5" />\r
    <path d="M747.52 238.933333    H276.48    C122.88 238.933333 0 361.813333 0 512    s122.88 273.066667 276.48 273.066667    H750.933333    c150.186667 0 276.48-122.88 276.48-273.066667    s-126.293333-273.066667-279.893333-273.066667z    m0 512    H276.48    C143.36 750.933333 34.133333 645.12 34.133333 512s109.226667-238.933333 242.346667-238.933333    H750.933333c133.12 0 242.346667 105.813333 242.346667 238.933333s-112.64 238.933333-245.76 238.933333z" fill="#2c2c2c" p-id="1531" data-spm-anchor-id="a313x.manage_type_myprojects.0.i0.1adc3a81uCnBP5" />\r
    <path d="M273.066667 341.333333c-95.573333 0-170.666667 75.093333-170.666667 170.666667s75.093333 170.666667 170.666667 170.666667 170.666667-75.093333 170.666666-170.666667-75.093333-170.666667-170.666666-170.666667z" fill="#bfbfbf" p-id="1530" data-spm-anchor-id="a313x.manage_type_myprojects.0.i0.1adc3a81KYNNkt" />\r
    <path d="M580.266667 409.6c-37.546667 0-68.266667 27.306667-68.266667 61.44v85.333333c0 34.133333 30.72 61.44 68.266667 61.44s68.266667-27.306667 68.266666-61.44v-85.333333c0-34.133333-30.72-61.44-68.266666-61.44z m34.133333 146.773333c0 13.653333-17.066667 27.306667-34.133333 27.306667s-34.133333-10.24-34.133334-27.306667v-85.333333c0-13.653333 17.066667-27.306667 34.133334-27.306667s34.133333 10.24 34.133333 27.306667v85.333333zM904.533333 409.6h-68.266666c-10.24 0-17.066667 6.826667-17.066667 17.066667v170.666666c0 10.24 6.826667 17.066667 17.066667 17.066667s17.066667-6.826667 17.066666-17.066667V512h17.066667c10.24 0 17.066667-6.826667 17.066667-17.066667s-6.826667-17.066667-17.066667-17.066666H853.333333v-34.133334h51.2c10.24 0 17.066667-6.826667 17.066667-17.066666s-6.826667-17.066667-17.066667-17.066667zM768 409.6h-68.266667c-10.24 0-17.066667 6.826667-17.066666 17.066667v170.666666c0 10.24 6.826667 17.066667 17.066666 17.066667s17.066667-6.826667 17.066667-17.066667V512h17.066667c10.24 0 17.066667-6.826667 17.066666-17.066667s-6.826667-17.066667-17.066666-17.066666H716.8v-34.133334h51.2c10.24 0 17.066667-6.826667 17.066667-17.066666s-6.826667-17.066667-17.066667-17.066667z" fill="#707070" p-id="1532" data-spm-anchor-id="a313x.manage_type_myprojects.0.i2.1adc3a81KYNNkt" />\r
</symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-thermometer">\r
    <path d="M616.96 672V176.64a85.76 85.76 0 0 0-171.52 0v495.36c-29.44 24.32-48.64 61.44-48.64 103.68 0 74.24 60.16 134.4 134.4 134.4S665.6 849.92 665.6 775.68c0-42.24-19.2-79.36-48.64-103.68z" fill="#F7E6A3" p-id="1566"></path>\r
    <path d="M531.2 922.88c-80.64 0-147.2-66.56-147.2-147.2 0-42.24 17.92-81.92 48.64-110.08V176.64c0-53.76 43.52-98.56 98.56-98.56s98.56 43.52 98.56 98.56V665.6c30.72 28.16 48.64 67.84 48.64 110.08 0 80.64-66.56 147.2-147.2 147.2z m0-819.2c-39.68 0-72.96 33.28-72.96 72.96v495.36c0 3.84-1.28 7.68-5.12 10.24-28.16 23.04-44.8 57.6-44.8 93.44 0 66.56 55.04 121.6 121.6 121.6s121.6-55.04 121.6-121.6c0-35.84-16.64-70.4-44.8-93.44-2.56-2.56-5.12-6.4-5.12-10.24V176.64c2.56-39.68-30.72-72.96-70.4-72.96z" fill="#231C1C" p-id="1567"></path>\r
    <path d="M494 711.68 c-21.76 12.8-37.12 35.84-37.12 64 0 40.96 33.28 72.96 72.96 72.96 40.96 0 72.96-33.28 72.96-72.96 1.28-26.88-12.8-51.2-34.56-64" fill="#E24F32" p-id="1568"></path>\r
    <path d="M568.32 830 V530 c0-20.48-16.64-37.12-37.12-37.12-20.48 0-37.12 16.64-37.12 37.12 v300" fill="#E24F32" p-id="1599">\r
        <animateTransform attributeName="transform" attributeType="XML" type="translate" from="0 0" to="0 -300" dur="5" repeatCount="indefinite" />\r
    </path>\r
    <path d="M568.32 830 V530 c0-20.48-16.64-37.12-37.12-37.12-20.48 0-37.12 16.64-37.12 37.12 v300" fill="#E24F32" p-id="1588"></path>\r
    <path d="M531.2 188.16h85.76v25h-85.76z" fill="#231C1C" p-id="1595"></path>\r
    <path d="M531.2 359.68h85.76v25h-85.76zM555.52 273.92h61.44v25h-61.44z" fill="#231C1C" p-id="1570"></path>\r
    <path d="M555.52 445.44h61.44v25h-61.44z" fill="#231C1C" p-id="1571"></path>\r
    <path d="M531.2 529.92h85.76v25h-85.76z" fill="#231C1C" p-id="1572"></path>\r
</symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-thermometer2">\r
    <path d="M616.96 672V176.64a85.76 85.76 0 0 0-171.52 0v495.36c-29.44 24.32-48.64 61.44-48.64 103.68 0 74.24 60.16 134.4 134.4 134.4S665.6 849.92 665.6 775.68c0-42.24-19.2-79.36-48.64-103.68z" fill="#F7E6A3" p-id="1566" />\r
    <path d="M531.2 922.88c-80.64 0-147.2-66.56-147.2-147.2 0-42.24 17.92-81.92 48.64-110.08V176.64c0-53.76 43.52-98.56 98.56-98.56s98.56 43.52 98.56 98.56V665.6c30.72 28.16 48.64 67.84 48.64 110.08 0 80.64-66.56 147.2-147.2 147.2z m0-819.2c-39.68 0-72.96 33.28-72.96 72.96v495.36c0 3.84-1.28 7.68-5.12 10.24-28.16 23.04-44.8 57.6-44.8 93.44 0 66.56 55.04 121.6 121.6 121.6s121.6-55.04 121.6-121.6c0-35.84-16.64-70.4-44.8-93.44-2.56-2.56-5.12-6.4-5.12-10.24V176.64c2.56-39.68-30.72-72.96-70.4-72.96z" fill="#231C1C" p-id="1567" />\r
    <path d="M568.32 711.68V408.32c0-20.48-16.64-37.12-37.12-37.12-20.48 0-37.12 16.64-37.12 37.12v303.36c-21.76 12.8-37.12 35.84-37.12 64 0 40.96 33.28 72.96 72.96 72.96 40.96 0 72.96-33.28 72.96-72.96 1.28-26.88-12.8-51.2-34.56-64z" fill="#E24F32" p-id="1568" />\r
    <path d="M531.2 861.44c-47.36 0-85.76-38.4-85.76-85.76 0-28.16 14.08-55.04 37.12-70.4V408.32c0-26.88 21.76-49.92 49.92-49.92 26.88 0 49.92 21.76 49.92 49.92v296.96c23.04 16.64 37.12 42.24 37.12 70.4-2.56 47.36-40.96 85.76-88.32 85.76z m0-476.16c-12.8 0-24.32 10.24-24.32 24.32v303.36c0 5.12-2.56 8.96-6.4 11.52-19.2 10.24-30.72 30.72-30.72 52.48 0 33.28 26.88 60.16 60.16 60.16s60.16-26.88 60.16-60.16c0-21.76-11.52-40.96-30.72-52.48-3.84-2.56-6.4-6.4-6.4-11.52V408.32c2.56-12.8-8.96-23.04-21.76-23.04zM531.2 188.16h85.76v25.6h-85.76z" fill="#231C1C" p-id="1569" />\r
    <path d="M531.2 359.68h85.76v25.6h-85.76zM555.52 273.92h61.44v25.6h-61.44z" fill="#231C1C" p-id="1570" />\r
    <path d="M555.52 445.44h61.44v25.6h-61.44z" fill="#231C1C" p-id="1571" />\r
    <path d="M531.2 529.92h85.76v25.6h-85.76z" fill="#231C1C" p-id="1572" />\r
</symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-add"><path class="icon-out" d="M512 128c211.2 0 384 172.8 384 384s-172.8 384-384 384-384-172.8-384-384 172.8-384 384-384m0-64C262.4 64 64 262.4 64 512s198.4 448 448 448 448-198.4 448-448-198.4-448-448-448z" p-id="12133" /><path class="icon-in" d="M320 512m-32 0a32 32 0 1 0 64 0 32 32 0 1 0-64 0Z" p-id="12134" /><path class="icon-in" d="M704 512m-32 0a32 32 0 1 0 64 0 32 32 0 1 0-64 0Z" p-id="12135" /><path class="icon-in" d="M512 320m-32 0a32 32 0 1 0 64 0 32 32 0 1 0-64 0Z" p-id="12136" /><path class="icon-in" d="M512 704m-32 0a32 32 0 1 0 64 0 32 32 0 1 0-64 0Z" p-id="12137" /><path class="icon-in" d="M320 480h384v64H320z" p-id="12138" /><path class="icon-in" d="M480 320h64v384h-64z" p-id="12139" /></symbol><symbol class="icon gray" viewBox="0 0 1024 1024"   id="svg-delete-gray"><path d="M512.8 927.65c-82.97 0-165.93-5.84-248.32-17.53l-0.2-0.03c-23.32-3.49-46.81-15.1-66.15-32.69-19.79-18.01-32.92-40.21-36.97-62.52l-0.04-0.24c-14.73-85.45-21.15-172.11-19.09-257.59 2.06-85.46 12.66-172.1 31.5-257.51l53.71 11.85c-36.14 163.83-40.16 329.97-11.95 493.77 4.1 22.19 31.75 46.69 57.02 50.52a1712.285 1712.285 0 0 0 480.98 0c25.27-3.83 52.92-28.34 57.01-50.53 28.21-163.8 24.19-329.93-11.95-493.77l53.71-11.85c18.84 85.42 29.44 172.06 31.5 257.51 2.06 85.47-4.36 172.14-19.09 257.59l-0.04 0.24c-4.05 22.3-17.18 44.51-36.97 62.52-19.34 17.6-42.83 29.21-66.15 32.69l-0.2 0.03a1765.711 1765.711 0 0 1-248.31 17.54z" class="icon-out" p-id="3027" /><path d="M921.38 332.96H102.66c-14.16 0-25.64-11.48-25.64-25.64v-3.73c0-14.16 11.48-25.64 25.64-25.64h818.73c14.16 0 25.64 11.48 25.64 25.64v3.73c-0.01 14.16-11.49 25.64-25.65 25.64z" class="icon-out" p-id="3028" /><path d="M367.21 805.77h-2.56c-14.48 0-26.22-11.74-26.22-26.22V431.99c0-14.48 11.74-26.22 26.22-26.22h2.56c14.48 0 26.22 11.74 26.22 26.22v347.56c0 14.49-11.74 26.22-26.22 26.22zM661.4 805.77h-2.56c-14.48 0-26.22-11.74-26.22-26.22V431.99c0-14.48 11.74-26.22 26.22-26.22h2.56c14.48 0 26.22 11.74 26.22 26.22v347.56c0 14.49-11.74 26.22-26.22 26.22z" class="icon-in" p-id="3029" /><path d="M786.11 322.05l-48.07-26.73c24.95-44.87 28.29-88.34 10.14-132.77-5.56-3.25-21.61-9.19-42.32-10.42-129.2-7.27-260.31-7.27-389.6 0-20.65 1.22-36.68 7.16-42.24 10.42-18.15 44.43-14.82 87.9 10.14 132.77l-48.07 26.73c-34.04-61.21-37.74-123.49-10.97-185.09l0.21-0.48c15.56-34.01 80.41-38.81 87.75-39.25 131.42-7.39 264.61-7.39 395.94 0 7.42 0.44 72.26 5.24 87.83 39.25l0.22 0.48c26.77 61.6 23.09 123.88-10.96 185.09z m-36.39-158.46z m-477.24 0z" class="icon-out" p-id="3030" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-delete"><path d="M512.8 927.65c-82.97 0-165.93-5.84-248.32-17.53l-0.2-0.03c-23.32-3.49-46.81-15.1-66.15-32.69-19.79-18.01-32.92-40.21-36.97-62.52l-0.04-0.24c-14.73-85.45-21.15-172.11-19.09-257.59 2.06-85.46 12.66-172.1 31.5-257.51l53.71 11.85c-36.14 163.83-40.16 329.97-11.95 493.77 4.1 22.19 31.75 46.69 57.02 50.52a1712.285 1712.285 0 0 0 480.98 0c25.27-3.83 52.92-28.34 57.01-50.53 28.21-163.8 24.19-329.93-11.95-493.77l53.71-11.85c18.84 85.42 29.44 172.06 31.5 257.51 2.06 85.47-4.36 172.14-19.09 257.59l-0.04 0.24c-4.05 22.3-17.18 44.51-36.97 62.52-19.34 17.6-42.83 29.21-66.15 32.69l-0.2 0.03a1765.711 1765.711 0 0 1-248.31 17.54z" class="icon-out" p-id="3027" /><path d="M921.38 332.96H102.66c-14.16 0-25.64-11.48-25.64-25.64v-3.73c0-14.16 11.48-25.64 25.64-25.64h818.73c14.16 0 25.64 11.48 25.64 25.64v3.73c-0.01 14.16-11.49 25.64-25.65 25.64z" class="icon-out" p-id="3028" /><path d="M367.21 805.77h-2.56c-14.48 0-26.22-11.74-26.22-26.22V431.99c0-14.48 11.74-26.22 26.22-26.22h2.56c14.48 0 26.22 11.74 26.22 26.22v347.56c0 14.49-11.74 26.22-26.22 26.22zM661.4 805.77h-2.56c-14.48 0-26.22-11.74-26.22-26.22V431.99c0-14.48 11.74-26.22 26.22-26.22h2.56c14.48 0 26.22 11.74 26.22 26.22v347.56c0 14.49-11.74 26.22-26.22 26.22z" class="icon-in" p-id="3029" /><path d="M786.11 322.05l-48.07-26.73c24.95-44.87 28.29-88.34 10.14-132.77-5.56-3.25-21.61-9.19-42.32-10.42-129.2-7.27-260.31-7.27-389.6 0-20.65 1.22-36.68 7.16-42.24 10.42-18.15 44.43-14.82 87.9 10.14 132.77l-48.07 26.73c-34.04-61.21-37.74-123.49-10.97-185.09l0.21-0.48c15.56-34.01 80.41-38.81 87.75-39.25 131.42-7.39 264.61-7.39 395.94 0 7.42 0.44 72.26 5.24 87.83 39.25l0.22 0.48c26.77 61.6 23.09 123.88-10.96 185.09z m-36.39-158.46z m-477.24 0z" class="icon-out" p-id="3030" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-export"><path d="M94.85 502.74c0-88.25 6.43-176.5 19.28-264.14l0.04-0.26c4.81-30.68 21.45-61.57 46.85-86.98 25.41-25.41 56.3-42.05 86.98-46.85l0.26-0.04a1818.793 1818.793 0 0 1 528.28 0l0.26 0.04c30.68 4.81 61.57 21.44 86.98 46.85 25.41 25.41 42.05 56.3 46.85 86.98l0.04 0.26a1818.793 1818.793 0 0 1 0 528.28l-0.04 0.26c-4.81 30.68-21.44 61.57-46.85 86.98s-56.3 42.05-86.98 46.85l-0.26 0.04a1818.793 1818.793 0 0 1-528.28 0l-0.26-0.04c-30.68-4.81-61.57-21.44-86.98-46.85-25.41-25.41-42.05-56.3-46.85-86.98l-0.04-0.26a1820.45 1820.45 0 0 1-19.28-264.14z m73.69-256.03c-24.91 169.89-24.91 342.15 0 512.05 6.3 39.74 48.12 81.56 87.86 87.86 169.87 24.9 342.16 24.9 512.03 0 39.75-6.3 81.57-48.12 87.86-87.86 24.9-169.87 24.9-342.16 0-512.03-6.3-39.74-48.12-81.57-87.86-87.86a1764.188 1764.188 0 0 0-512.03 0c-39.74 6.28-81.56 48.1-87.86 87.84z" class="icon-out" p-id="3184" /><path d="M677.82 616.65L467.99 406.81c-10.19-10.19-10.19-26.72 0-36.92l12.58-12.58c10.19-10.19 26.72-10.19 36.92 0l209.84 209.84c10.19 10.19 10.19 26.72 0 36.92l-12.58 12.58c-10.2 10.19-26.73 10.19-36.93 0z" class="icon-in" p-id="3185" /><path d="M283.94 617.33l-12.58-12.58c-10.19-10.19-10.19-26.72 0-36.92L481.2 358c10.19-10.19 26.72-10.19 36.92 0l12.58 12.58c10.19 10.19 10.19 26.72 0 36.92L320.86 617.33c-10.2 10.2-26.72 10.2-36.92 0z" class="icon-in" p-id="3186" /></symbol><symbol viewBox="0 0 48 48" fill="none"  id="svg-group">\r
    <path d="M12 4H4V12H12V4Z" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M44 36H36V44H44V36Z" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M12 36H4V44H12V36Z" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M44 4H36V12H44V4Z" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M8 36V12" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
    <path d="M40 36V12" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
    <path d="M12 8H36" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
    <path d="M12 40H36" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
    <path fill-rule="evenodd" clip-rule="evenodd" d="M16 16H25.6V22.4H32V32H22.4V25.6H16V16Z" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
</symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-import"><path d="M93.33 502.74c0 88.25 6.43 176.5 19.28 264.14l0.04 0.26c4.81 30.68 21.45 61.57 46.85 86.98 25.41 25.41 56.3 42.05 86.98 46.85l0.26 0.04a1818.793 1818.793 0 0 0 528.28 0l0.26-0.04c30.68-4.81 61.57-21.44 86.98-46.85 25.41-25.41 42.05-56.3 46.85-86.98l0.04-0.26a1818.793 1818.793 0 0 0 0-528.28l-0.04-0.26c-4.81-30.68-21.44-61.57-46.85-86.98s-56.3-42.05-86.98-46.85l-0.26-0.04a1818.793 1818.793 0 0 0-528.28 0l-0.26 0.04c-30.68 4.81-61.57 21.44-86.98 46.85-25.41 25.41-42.05 56.3-46.85 86.98l-0.04 0.26a1820.244 1820.244 0 0 0-19.28 264.14z m73.68 256.02c-24.91-169.89-24.91-342.15 0-512.05 6.3-39.74 48.12-81.56 87.86-87.86 169.87-24.9 342.16-24.9 512.03 0 39.75 6.3 81.57 48.12 87.86 87.86 24.9 169.87 24.9 342.16 0 512.03-6.3 39.74-48.12 81.57-87.86 87.86a1764.188 1764.188 0 0 1-512.03 0c-39.74-6.28-81.56-48.1-87.86-87.84z" class="icon-out" p-id="3340" /><path d="M676.3 388.83L466.46 598.66c-10.19 10.19-10.19 26.72 0 36.92l12.58 12.58c10.19 10.19 26.72 10.19 36.92 0L725.8 438.32c10.19-10.19 10.19-26.72 0-36.92l-12.58-12.58c-10.2-10.19-26.73-10.19-36.92 0.01z" class="icon-in" p-id="3341" /><path d="M282.42 388.14l-12.58 12.58c-10.19 10.19-10.19 26.72 0 36.92l209.84 209.84c10.19 10.19 26.72 10.19 36.92 0l12.58-12.58c10.19-10.19 10.19-26.72 0-36.92L319.33 388.14c-10.19-10.19-26.72-10.19-36.91 0z" class="icon-in" p-id="3342" /></symbol><symbol class="icon active" viewBox="0 0 1024 1024"   id="svg-line-active"><path d="M795.969 641.938c-44.844 0-85.094 20.015-112.219 51.515L454.39 561.11c4.157-15.53 6.344-31.937 6.344-48.78 0-16.845-2.187-33.25-6.343-48.782l230.234-132.89c27.125 30.952 66.938 50.53 111.453 50.53 81.813 0 148.094-66.28 148.094-148.093C944.172 151.28 877.782 85 795.969 85s-148.094 66.281-148.094 148.094c0 14.11 1.969 27.781 5.688 40.687L427.155 404.484c-34.344-49.875-91.765-82.578-156.844-82.578C165.204 321.906 80 407.11 80 512.328S165.203 702.75 270.313 702.75c65.078 0 122.609-32.703 156.953-82.578l225.968 130.484c-3.5 12.578-5.359 25.703-5.359 39.375 0 81.813 66.281 148.094 148.094 148.094 81.812 0 148.093-66.281 148.093-148.094 0-81.812-66.28-148.093-148.093-148.093z m0-492.079c45.937 0 83.234 37.297 83.234 83.235 0 45.937-37.297 83.234-83.234 83.234-45.938 0-83.235-37.297-83.235-83.234 0-45.938 37.297-83.235 83.235-83.235zM270.312 637.781c-69.234 0-125.453-56.11-125.453-125.453 0-69.344 56.22-125.453 125.453-125.453 69.235 0 125.454 56.11 125.454 125.453 0 69.344-56.11 125.453-125.454 125.453z m525.657 234.39c-45.39 0-82.14-36.75-82.14-82.14s36.75-82.14 82.14-82.14 82.14 36.75 82.14 82.14c0.11 45.39-36.75 82.14-82.14 82.14z" p-id="1837" data-spm-anchor-id="a313x.manage_type_myprojects.0.i0.1adc3a813mH6xq" class="icon-out" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-line"><path d="M795.969 641.938c-44.844 0-85.094 20.015-112.219 51.515L454.39 561.11c4.157-15.53 6.344-31.937 6.344-48.78 0-16.845-2.187-33.25-6.343-48.782l230.234-132.89c27.125 30.952 66.938 50.53 111.453 50.53 81.813 0 148.094-66.28 148.094-148.093C944.172 151.28 877.782 85 795.969 85s-148.094 66.281-148.094 148.094c0 14.11 1.969 27.781 5.688 40.687L427.155 404.484c-34.344-49.875-91.765-82.578-156.844-82.578C165.204 321.906 80 407.11 80 512.328S165.203 702.75 270.313 702.75c65.078 0 122.609-32.703 156.953-82.578l225.968 130.484c-3.5 12.578-5.359 25.703-5.359 39.375 0 81.813 66.281 148.094 148.094 148.094 81.812 0 148.093-66.281 148.093-148.094 0-81.812-66.28-148.093-148.093-148.093z m0-492.079c45.937 0 83.234 37.297 83.234 83.235 0 45.937-37.297 83.234-83.234 83.234-45.938 0-83.235-37.297-83.235-83.234 0-45.938 37.297-83.235 83.235-83.235zM270.312 637.781c-69.234 0-125.453-56.11-125.453-125.453 0-69.344 56.22-125.453 125.453-125.453 69.235 0 125.454 56.11 125.454 125.453 0 69.344-56.11 125.453-125.454 125.453z m525.657 234.39c-45.39 0-82.14-36.75-82.14-82.14s36.75-82.14 82.14-82.14 82.14 36.75 82.14 82.14c0.11 45.39-36.75 82.14-82.14 82.14z" p-id="1837" data-spm-anchor-id="a313x.manage_type_myprojects.0.i0.1adc3a813mH6xq" class="icon-out" /></symbol><symbol viewBox="0 0 48 48" fill="none"  id="svg-lock">\r
    <rect x="6" y="22" width="36" height="22" rx="2" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M14 22V14C14 8.47715 18.4772 4 24 4C29.5228 4 34 8.47715 34 14V22" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
    <path d="M24 30V36" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
</symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-menu-fold"><path d="M510.89 921.7c-88.25 0-176.5-6.43-264.14-19.28l-0.26-0.04c-30.68-4.81-61.57-21.44-86.98-46.85-25.41-25.41-42.05-56.3-46.85-86.98l-0.04-0.26a1818.793 1818.793 0 0 1 0-528.28l0.04-0.26c4.81-30.68 21.44-61.57 46.85-86.98s56.3-42.05 86.98-46.85l0.26-0.04a1818.793 1818.793 0 0 1 528.28 0l0.26 0.04c30.68 4.81 61.57 21.45 86.98 46.85 25.41 25.41 42.05 56.3 46.85 86.98l0.04 0.26a1818.793 1818.793 0 0 1 0 528.28l-0.04 0.26c-4.81 30.68-21.45 61.58-46.85 86.98-25.41 25.41-56.3 42.05-86.98 46.85l-0.26 0.04a1819.042 1819.042 0 0 1-264.14 19.28z m-256.02-73.68a1763.556 1763.556 0 0 0 512.04 0c39.74-6.3 81.56-48.12 87.86-87.86 24.9-169.87 24.9-342.16 0-512.03-6.3-39.74-48.11-81.56-87.86-87.86a1763.556 1763.556 0 0 0-512.04 0c-39.75 6.3-81.57 48.12-87.86 87.86a1763.488 1763.488 0 0 0 0 512.03c6.3 39.75 48.12 81.57 87.86 87.86z" class="icon-out" p-id="2559" /><path d="M399.85 335.23l209.84 209.84c10.19 10.19 26.72 10.19 36.92 0l12.58-12.58c10.19-10.19 10.19-26.72 0-36.92L449.35 285.73c-10.19-10.19-26.72-10.19-36.92 0l-12.58 12.58c-10.2 10.2-10.2 26.73 0 36.92z" class="icon-in" p-id="2560" /><path d="M399.16 729.11l12.58 12.58c10.19 10.19 26.72 10.19 36.92 0L658.5 531.85c10.19-10.19 10.19-26.72 0-36.92l-12.58-12.58c-10.19-10.19-26.72-10.19-36.92 0L399.16 692.2c-10.19 10.19-10.19 26.72 0 36.91z" class="icon-in" p-id="2561" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-menu-unfold"><path d="M512.42 920.16c-88.25 0-176.5-6.43-264.14-19.28l-0.26-0.04c-30.68-4.81-61.57-21.45-86.98-46.85-25.41-25.41-42.05-56.3-46.85-86.98l-0.04-0.26a1818.793 1818.793 0 0 1 0-528.28l0.04-0.26c4.81-30.68 21.44-61.57 46.85-86.98 25.41-25.41 56.3-42.05 86.98-46.85l0.26-0.04a1818.793 1818.793 0 0 1 528.28 0l0.26 0.04c30.68 4.81 61.57 21.44 86.98 46.85s42.05 56.3 46.85 86.98l0.04 0.26a1818.793 1818.793 0 0 1 0 528.28l-0.04 0.26c-4.81 30.68-21.44 61.57-46.85 86.98-25.41 25.41-56.3 42.05-86.98 46.85l-0.26 0.04a1820.45 1820.45 0 0 1-264.14 19.28z m-256.03-73.69c169.89 24.91 342.15 24.91 512.05 0 39.74-6.3 81.56-48.12 87.86-87.86 24.9-169.87 24.9-342.16 0-512.03-6.3-39.75-48.12-81.57-87.86-87.86a1764.188 1764.188 0 0 0-512.03 0c-39.74 6.3-81.57 48.12-87.86 87.86a1764.188 1764.188 0 0 0 0 512.03c6.28 39.74 48.1 81.56 87.84 87.86z" class="icon-out" p-id="2403" /><path d="M626.33 337.19L416.49 547.03c-10.19 10.19-26.72 10.19-36.92 0l-12.58-12.58c-10.19-10.19-10.19-26.72 0-36.92l209.84-209.84c10.19-10.19 26.72-10.19 36.92 0l12.58 12.58c10.19 10.19 10.19 26.72 0 36.92z" class="icon-in" p-id="2404" /><path d="M627.01 731.07l-12.58 12.58c-10.19 10.19-26.72 10.19-36.92 0L367.67 533.81c-10.19-10.19-10.19-26.72 0-36.92l12.58-12.58c10.19-10.19 26.72-10.19 36.92 0l209.84 209.84c10.19 10.2 10.19 26.72 0 36.92z" class="icon-in" p-id="2405" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-preview"><path d="M127.94 530.03c-6.67 0-13.32-2.65-18.24-7.89-9.43-10.06-8.95-25.85 1.1-35.3 3.67-3.45 91.45-84.93 234.32-126.4 84.14-24.42 169.95-29.79 255.04-15.96 105.79 17.19 210.4 64.23 310.94 139.81 11.04 8.3 13.26 23.97 4.96 35.01-8.29 11.03-23.97 13.26-35 4.96-169.55-127.45-344.5-166.61-519.99-116.38-131.94 37.76-215.21 114.63-216.04 115.41a25.01 25.01 0 0 1-17.09 6.74z" class="icon-in" p-id="1779" /><path d="M509 688.98c-54.54 0-109.01-7.83-162.8-23.44-142.87-41.46-230.65-122.95-234.32-126.4-10.06-9.46-10.54-25.28-1.08-35.34 9.45-10.05 25.25-10.54 35.31-1.11 0.83 0.77 84.1 77.65 216.04 115.41 175.5 50.22 350.44 11.07 519.99-116.38 11.04-8.3 26.71-6.07 35 4.96 8.3 11.04 6.08 26.71-4.96 35.01C811.64 617.26 707.03 664.3 601.24 681.5c-30.69 4.98-61.47 7.48-92.24 7.48z" class="icon-in" p-id="1780" /><path d="M506.82 741.13c-141.09 0-275.99-70.27-401.17-209.03l-17.53-19.43 16.87-20c1.64-1.95 41.06-48.3 108.65-95.76 39.76-27.92 81.2-50.54 123.19-67.25 52.97-21.08 106.94-32.74 160.4-34.67 146.39-5.28 287.79 60.95 420.32 196.86l18.69 19.16-16.92 20.74c-1.7 2.09-42.53 51.76-111.93 102.32-40.88 29.79-83.37 53.81-126.29 71.39-54.25 22.23-109.31 34.19-163.66 35.54-3.53 0.08-7.09 0.13-10.62 0.13z m-337.8-229c110.37 114.93 226.81 171.73 346.5 168.89 106.58-2.53 197.54-52.73 255.07-94.39 37.87-27.42 66.74-54.92 84-72.79-114.02-109.7-233.21-163.13-354.69-158.92-105.44 3.67-194.27 50.96-250.22 89.99-36.31 25.32-63.96 50.6-80.66 67.22z" class="icon-out" p-id="1781" /><path d="M505.25 671.33c-87.55 0-158.78-71.23-158.78-158.78s71.23-158.78 158.78-158.78S664.02 425 664.02 512.55 592.8 671.33 505.25 671.33z m0-257.56c-54.47 0-98.78 44.31-98.78 98.78s44.31 98.78 98.78 98.78 98.78-44.31 98.78-98.78-44.32-98.78-98.78-98.78z" class="icon-in" p-id="1782" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-question"><path d="M512 172.8c187.04 0 339.2 152.16 339.2 339.2S699.04 851.2 512 851.2 172.8 699.03 172.8 512 324.97 172.8 512 172.8m0-76.8C282.25 96 96 282.25 96 512s186.25 416 416 416 416-186.25 416-416S741.75 96 512 96z" class="icon-out" p-id="5865" data-spm-anchor-id="a313x.search_index.0.i0.4bca3a81TehghO" /><path d="M531.31 278.99c-92.43-2.84-151.21 46.22-175.93 126.24-0.03 0.1 0.23 0.23 0.22 0.33-1.34 3.71-2.37 7.59-2.37 11.75 0 19.25 15.61 34.86 34.86 34.86 15.13 0 27.69-9.76 32.52-23.23 0.03 0.01 0.33 0.08 0.33 0.08 14.05-63.91 45.58-82.75 100.14-81.23 46.75 3.15 72.47 26.54 77.14 70.14 3.08 29.62-17.94 60.02-63.13 91.16-42.07 29.62-62.35 66.28-60.76 109.88 0 0.09 0.16 0.12 0.16 0.21-0.01 0.31-0.18 0.57-0.18 0.88 0 16.82 13.63 30.46 30.46 30.46 15.53 0 27.85-11.8 29.72-26.82 0.09-0.01 0.59-0.05 0.59-0.05s-0.3 0.03-0.59 0.05c0.26-0.02 0.24-0.02 0.59-0.05-1.55-32.73 16.39-60.76 53.75-84.15 59.2-37.41 87.26-80.26 84.15-128.56-7.77-77.94-56-127.28-141.67-131.95zM504.7 745.14h-2.34c-20.66 0-37.4-16.75-37.4-37.4 0-20.66 16.75-37.4 37.4-37.4h2.34c20.66 0 37.4 16.75 37.4 37.4s-16.75 37.4-37.4 37.4z" class="icon-in" p-id="5866" data-spm-anchor-id="a313x.search_index.0.i3.4bca3a81TehghO" /></symbol><symbol class="icon gray" viewBox="0 0 1024 1024"   id="svg-redo-gray"><path d="M550.912 890.88c-4.096 0-7.9872-0.8192-11.8784-2.4576-11.4688-4.7104-18.8416-15.9744-18.8416-28.2624v-156.672c-96.256-68.1984-309.0432 65.536-385.4336 125.1328-10.4448 7.9872-24.576 8.6016-35.6352 1.6384-11.0592-7.168-16.1792-20.48-13.1072-33.1776 99.1232-401.408 347.3408-475.9552 433.9712-489.6768V163.84c0-12.288 7.3728-23.552 18.8416-28.2624 11.4688-4.9152 24.576-2.2528 33.3824 6.3488l357.1712 348.16c5.9392 5.7344 9.216 13.7216 9.216 21.9136s-3.2768 16.1792-9.216 21.9136l-357.1712 348.16c-5.7344 5.7344-13.5168 8.8064-21.2992 8.8064z m-96.8704-267.0592c44.032 0 84.992 12.0832 117.76 43.008 6.144 5.7344 9.6256 13.9264 9.6256 22.3232v98.304L864.0512 512 581.632 236.7488v98.304c0 16.7936-13.312 30.3104-30.1056 30.72-11.264 0.4096-261.5296 12.0832-381.7472 364.1344 72.2944-45.8752 185.9584-106.0864 284.2624-106.0864z" class="icon-out" p-id="42083" data-spm-anchor-id="a313x.search_index.0.i8.a5e03a81nkrsAk" /><path d="M343.2448 579.7888c-5.9392 0-11.8784-2.048-16.7936-5.9392a26.8288 26.8288 0 0 1-3.6864-37.4784c44.4416-54.272 95.0272-93.3888 150.3232-116.5312 13.7216-5.7344 29.0816 0.8192 34.816 14.336 5.7344 13.5168-0.6144 29.0816-14.336 34.816-47.104 19.6608-90.7264 53.8624-129.6384 101.1712-5.3248 6.3488-12.9024 9.6256-20.6848 9.6256z" class="icon-in" p-id="42084" data-spm-anchor-id="a313x.search_index.0.i11.a5e03a81nkrsAk" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-redo"><path d="M550.912 890.88c-4.096 0-7.9872-0.8192-11.8784-2.4576-11.4688-4.7104-18.8416-15.9744-18.8416-28.2624v-156.672c-96.256-68.1984-309.0432 65.536-385.4336 125.1328-10.4448 7.9872-24.576 8.6016-35.6352 1.6384-11.0592-7.168-16.1792-20.48-13.1072-33.1776 99.1232-401.408 347.3408-475.9552 433.9712-489.6768V163.84c0-12.288 7.3728-23.552 18.8416-28.2624 11.4688-4.9152 24.576-2.2528 33.3824 6.3488l357.1712 348.16c5.9392 5.7344 9.216 13.7216 9.216 21.9136s-3.2768 16.1792-9.216 21.9136l-357.1712 348.16c-5.7344 5.7344-13.5168 8.8064-21.2992 8.8064z m-96.8704-267.0592c44.032 0 84.992 12.0832 117.76 43.008 6.144 5.7344 9.6256 13.9264 9.6256 22.3232v98.304L864.0512 512 581.632 236.7488v98.304c0 16.7936-13.312 30.3104-30.1056 30.72-11.264 0.4096-261.5296 12.0832-381.7472 364.1344 72.2944-45.8752 185.9584-106.0864 284.2624-106.0864z" class="icon-out" p-id="42083" data-spm-anchor-id="a313x.search_index.0.i8.a5e03a81nkrsAk" /><path d="M343.2448 579.7888c-5.9392 0-11.8784-2.048-16.7936-5.9392a26.8288 26.8288 0 0 1-3.6864-37.4784c44.4416-54.272 95.0272-93.3888 150.3232-116.5312 13.7216-5.7344 29.0816 0.8192 34.816 14.336 5.7344 13.5168-0.6144 29.0816-14.336 34.816-47.104 19.6608-90.7264 53.8624-129.6384 101.1712-5.3248 6.3488-12.9024 9.6256-20.6848 9.6256z" class="icon-in" p-id="42084" data-spm-anchor-id="a313x.search_index.0.i11.a5e03a81nkrsAk" /></symbol><symbol class="icon" viewBox="0 0 1165 1024"   id="svg-return"><path d="M364.967083 734.583428c-10.46084 0-20.92168-3.486947-29.057889-11.623156L11.623156 398.674234c-16.272418-16.272418-16.272418-41.84336 0-58.115778L335.909194 16.272418c16.272418-16.272418 41.84336-16.272418 58.115778 0s16.272418 41.84336 0 58.115777L98.796822 369.616345l295.22815 295.22815c16.272418 16.272418 16.272418 41.84336 0 58.115777-8.136209 8.136209-18.597049 11.623156-29.057889 11.623156z" p-id="3653" data-spm-anchor-id="a313x.manage_type_myprojects.0.i25.1adc3a81koFwd9" class="icon-out" /><path d="M645.085131 727.609535c-15.110102 15.110102-38.356413 15.110102-53.466516 0L260.358683 396.349603c-15.110102-15.110102-15.110102-38.356413 0-53.466516L591.618615 11.623156c15.110102-15.110102 38.356413-15.110102 53.466516 0" p-id="3654" data-spm-anchor-id="a313x.manage_type_myprojects.0.i21.1adc3a81koFwd9" class="icon-in" /><path d="M645.085131 532.340522S1104.199773 496.30874 1024 1024c0 0 216.190692-249.897843 113.906924-516.068104-51.141884-96.472191-112.744608-295.22815-492.821793-297.552781v321.961407z" p-id="3655" data-spm-anchor-id="a313x.manage_type_myprojects.0.i22.1adc3a81koFwd9" class="icon-in" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-rotate"><path d="M934.101333 416.426667h-220.373333c-26.752 0-47.232-20.48-47.232-47.232s20.48-47.232 47.232-47.232h173.141333V148.821333c0-26.752 20.48-47.232 47.232-47.232S981.333333 122.069333 981.333333 148.821333v220.373344c0 25.173333-20.48 47.232-47.232 47.232z" fill="#344" p-id="4939" data-spm-anchor-id="a313x.search_index.0.i10.30723a81IiaItd" class="selected" /><path d="M509.098667 978.389333C249.344 978.389333 38.4 767.530667 38.4 507.733333 38.4 247.978667 249.344 37.034667 509.098667 37.034667A472.32 472.32 0 0 1 943.530667 325.12c9.472 23.637333-1.536 51.968-25.173344 61.44-23.594667 9.386667-51.925333-1.621333-61.397333-25.216a377.898667 377.898667 0 0 0-347.861333-229.845333A376.234667 376.234667 0 0 0 132.864 507.733333a376.234667 376.234667 0 0 0 376.234667 376.234667c190.464 0 351.018667-141.653333 373.077333-329.002667 3.114667-25.173333 26.752-44.074667 51.925333-40.96 25.173333 3.157333 44.074667 26.794667 40.96 51.968-28.373333 234.538667-228.266667 412.416-465.962666 412.416z" fill="#344" p-id="4940" data-spm-anchor-id="a313x.search_index.0.i9.30723a81IiaItd" class="selected" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-save"><path d="M828.038 898.796H195.962c-39.409 0-71.471-32.062-71.471-71.471V195.249c0-39.409 32.062-71.471 71.471-71.471h89.621c10.382 0 18.798 8.416 18.798 18.798s-8.416 18.798-18.798 18.798h-89.621c-18.679 0-33.875 15.196-33.875 33.875v632.076c0 18.679 15.196 33.875 33.875 33.875h632.076c18.679 0 33.875-15.196 33.875-33.875V340.256L674.088 161.374h-96.215c-10.382 0-18.798-8.416-18.798-18.798s8.416-18.798 18.798-18.798h111.253l210.383 200.365v503.182c0 39.409-32.062 71.471-71.471 71.471z" class="icon-out" p-id="1919" data-spm-anchor-id="a313x.manage_type_myprojects.0.i6.1adc3a8106MMa8" /><path d="M756.239 863.629h-37.597V643.456c0-7.062-5.744-12.807-12.806-12.807H317.11c-7.061 0-12.806 5.745-12.806 12.807v220.173h-37.596V643.456c0-27.792 22.61-50.402 50.402-50.402h388.727c27.792 0 50.402 22.61 50.402 50.402v220.173z" class="icon-out" p-id="1920" data-spm-anchor-id="a313x.manage_type_myprojects.0.i7.1adc3a8106MMa8" /><path d="M547.818 325.374H317.11c-27.792 0-50.402-22.61-50.402-50.402V151.895c0-27.792 22.61-50.402 50.402-50.402h230.708c27.791 0 50.4 22.61 50.4 50.402v123.077c0.001 27.791-22.609 50.402-50.4 50.402zM317.11 139.089c-7.061 0-12.806 5.745-12.806 12.806v123.077c0 7.061 5.745 12.806 12.806 12.806h230.708c7.061 0 12.805-5.745 12.805-12.806V151.895c0-7.061-5.744-12.806-12.805-12.806H317.11z" class="icon-middle" p-id="1921" /><path d="M621.717 155.654c0-17.454-14.149-31.604-31.604-31.604H359.405c-17.455 0-31.604 14.15-31.604 31.604v9.871h-0.157V316.17c0 17.454 14.149 31.604 31.604 31.604h230.708c17.454 0 31.604-14.15 31.604-31.604V166.069h0.156v-10.415z" class="icon-middle" opacity=".4" p-id="1922" /></symbol><symbol viewBox="0 0 1024 1024"  id="svg-setting">
    <path d="M919.6 405.6l-57.2-8c-12.7-1.8-23-10.4-28-22.1-11.3-26.7-25.7-51.7-42.9-74.5-7.7-10.2-10-23.5-5.2-35.3l21.7-53.5c6.7-16.4 0.2-35.3-15.2-44.1L669.1 96.6c-15.4-8.9-34.9-5.1-45.8 8.9l-35.4 45.3c-7.9 10.2-20.7 14.9-33.5 13.3-14-1.8-28.3-2.8-42.8-2.8-14.5 0-28.8 1-42.8 2.8-12.8 1.6-25.6-3.1-33.5-13.3l-35.4-45.3c-10.9-14-30.4-17.8-45.8-8.9L230.4 168c-15.4 8.9-21.8 27.7-15.2 44.1l21.7 53.5c4.8 11.9 2.5 25.1-5.2 35.3-17.2 22.8-31.7 47.8-42.9 74.5-5 11.8-15.3 20.4-28 22.1l-57.2 8C86 408 72.9 423 72.9 440.8v142.9c0 17.7 13.1 32.7 30.6 35.2l57.2 8c12.7 1.8 23 10.4 28 22.1 11.3 26.7 25.7 51.7 42.9 74.5 7.7 10.2 10 23.5 5.2 35.3l-21.7 53.5c-6.7 16.4-0.2 35.3 15.2 44.1L354 927.8c15.4 8.9 34.9 5.1 45.8-8.9l35.4-45.3c7.9-10.2 20.7-14.9 33.5-13.3 14 1.8 28.3 2.8 42.8 2.8 14.5 0 28.8-1 42.8-2.8 12.8-1.6 25.6 3.1 33.5 13.3l35.4 45.3c10.9 14 30.4 17.8 45.8 8.9l123.7-71.4c15.4-8.9 21.8-27.7 15.2-44.1l-21.7-53.5c-4.8-11.8-2.5-25.1 5.2-35.3 17.2-22.8 31.7-47.8 42.9-74.5 5-11.8 15.3-20.4 28-22.1l57.2-8c17.6-2.5 30.6-17.5 30.6-35.2V440.8c0.2-17.8-12.9-32.8-30.5-35.2z m-408 245.5c-76.7 0-138.9-62.2-138.9-138.9s62.2-138.9 138.9-138.9 138.9 62.2 138.9 138.9-62.2 138.9-138.9 138.9z" />
</symbol><symbol class="icon gray" viewBox="0 0 1024 1024"   id="svg-undo-gray"><g transform="scale(-1, 1) translate(-1024, 0)"><path d="M550.912 890.88c-4.096 0-7.9872-0.8192-11.8784-2.4576-11.4688-4.7104-18.8416-15.9744-18.8416-28.2624v-156.672c-96.256-68.1984-309.0432 65.536-385.4336 125.1328-10.4448 7.9872-24.576 8.6016-35.6352 1.6384-11.0592-7.168-16.1792-20.48-13.1072-33.1776 99.1232-401.408 347.3408-475.9552 433.9712-489.6768V163.84c0-12.288 7.3728-23.552 18.8416-28.2624 11.4688-4.9152 24.576-2.2528 33.3824 6.3488l357.1712 348.16c5.9392 5.7344 9.216 13.7216 9.216 21.9136s-3.2768 16.1792-9.216 21.9136l-357.1712 348.16c-5.7344 5.7344-13.5168 8.8064-21.2992 8.8064z m-96.8704-267.0592c44.032 0 84.992 12.0832 117.76 43.008 6.144 5.7344 9.6256 13.9264 9.6256 22.3232v98.304L864.0512 512 581.632 236.7488v98.304c0 16.7936-13.312 30.3104-30.1056 30.72-11.264 0.4096-261.5296 12.0832-381.7472 364.1344 72.2944-45.8752 185.9584-106.0864 284.2624-106.0864z" class="icon-out" p-id="42083" data-spm-anchor-id="a313x.search_index.0.i8.a5e03a81nkrsAk" /><path d="M343.2448 579.7888c-5.9392 0-11.8784-2.048-16.7936-5.9392a26.8288 26.8288 0 0 1-3.6864-37.4784c44.4416-54.272 95.0272-93.3888 150.3232-116.5312 13.7216-5.7344 29.0816 0.8192 34.816 14.336 5.7344 13.5168-0.6144 29.0816-14.336 34.816-47.104 19.6608-90.7264 53.8624-129.6384 101.1712-5.3248 6.3488-12.9024 9.6256-20.6848 9.6256z" class="icon-in" p-id="42084" data-spm-anchor-id="a313x.search_index.0.i11.a5e03a81nkrsAk" /></g></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-undo"><g transform="scale(-1, 1) translate(-1024, 0)"><path d="M550.912 890.88c-4.096 0-7.9872-0.8192-11.8784-2.4576-11.4688-4.7104-18.8416-15.9744-18.8416-28.2624v-156.672c-96.256-68.1984-309.0432 65.536-385.4336 125.1328-10.4448 7.9872-24.576 8.6016-35.6352 1.6384-11.0592-7.168-16.1792-20.48-13.1072-33.1776 99.1232-401.408 347.3408-475.9552 433.9712-489.6768V163.84c0-12.288 7.3728-23.552 18.8416-28.2624 11.4688-4.9152 24.576-2.2528 33.3824 6.3488l357.1712 348.16c5.9392 5.7344 9.216 13.7216 9.216 21.9136s-3.2768 16.1792-9.216 21.9136l-357.1712 348.16c-5.7344 5.7344-13.5168 8.8064-21.2992 8.8064z m-96.8704-267.0592c44.032 0 84.992 12.0832 117.76 43.008 6.144 5.7344 9.6256 13.9264 9.6256 22.3232v98.304L864.0512 512 581.632 236.7488v98.304c0 16.7936-13.312 30.3104-30.1056 30.72-11.264 0.4096-261.5296 12.0832-381.7472 364.1344 72.2944-45.8752 185.9584-106.0864 284.2624-106.0864z" class="icon-out" p-id="42083" data-spm-anchor-id="a313x.search_index.0.i8.a5e03a81nkrsAk" /><path d="M343.2448 579.7888c-5.9392 0-11.8784-2.048-16.7936-5.9392a26.8288 26.8288 0 0 1-3.6864-37.4784c44.4416-54.272 95.0272-93.3888 150.3232-116.5312 13.7216-5.7344 29.0816 0.8192 34.816 14.336 5.7344 13.5168-0.6144 29.0816-14.336 34.816-47.104 19.6608-90.7264 53.8624-129.6384 101.1712-5.3248 6.3488-12.9024 9.6256-20.6848 9.6256z" class="icon-in" p-id="42084" data-spm-anchor-id="a313x.search_index.0.i11.a5e03a81nkrsAk" /></g></symbol><symbol viewBox="0 0 48 48" fill="none"  id="svg-ungroup">\r
    <path d="M11.2727 4H4V11.2727H11.2727V4Z" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M43.9998 36.7271H36.7271V43.9998H43.9998V36.7271Z" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M11.2727 24H4V31.2727H11.2727V24Z" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M23.9998 36.7271H16.7271V43.9998H23.9998V36.7271Z" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M31.2727 4H24V11.2727H31.2727V4Z" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M43.9998 16.7271H36.7271V23.9998H43.9998V16.7271Z" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M11.2729 7.63623H24.0002" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
    <path d="M24 40.3638H36.7273" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
    <path d="M11.2729 27.6366H27.6366V11.2729" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
    <path d="M28.8275 20.3633H36.7269M20.3633 36.7269V27.6282V36.7269Z" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
    <path d="M7.63672 11.2725V23.9997" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
    <path d="M40.3633 24V36.7273" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
</symbol><symbol viewBox="0 0 48 48" fill="none"  id="svg-unlock">\r
    <rect x="7" y="22.0476" width="34" height="22" rx="2" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M14 22V14.0047C13.9948 8.87022 17.9227 4.56718 23.0859 4.05117C28.249 3.53516 32.9673 6.97408 34 12.0059" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
    <path d="M24 30V36" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
</symbol>`, n.insertBefore(r, n.lastChild);
  };
  document.readyState === "loading" ? document.addEventListener("DOMContentLoaded", i) : i();
}
const main = "", index$2 = "";
var ELineBindAnchors = /* @__PURE__ */ ((i) => (i.TopCenter = "TopCenter", i.Left = "Left", i.Right = "Right", i.BottomCenter = "BottomCenter", i))(ELineBindAnchors || {}), EConfigAnimationsType = /* @__PURE__ */ ((i) => (i.None = "None", i.Electricity = "Electricity", i.WaterDrop = "WaterDrop", i.Track = "Track", i))(EConfigAnimationsType || {}), EConfigItemPropsType = /* @__PURE__ */ ((i) => (i.Input = "Input", i.Textarea = "Textarea", i.Color = "Color", i.InputNumber = "InputNumber", i.Switch = "Switch", i.JsonEdit = "JsonEdit", i.Select = "Select", i))(EConfigItemPropsType || {}), EDoneJsonType = /* @__PURE__ */ ((i) => (i.File = "File", i.StraightLine = "StraightLine", i.ConnectionLine = "ConnectionLine", i.CustomSvg = "CustomSvg", i.Vue = "Vue", i))(EDoneJsonType || {}), EEventType = /* @__PURE__ */ ((i) => (i.Click = "Click", i.Change = "Change", i.Null = "", i))(EEventType || {}), EEventAction = /* @__PURE__ */ ((i) => (i.ChangeAttr = "ChangeAttr", i.JavaScript = "JavaScript", i.Null = "", i))(EEventAction || {}), EConditionType = /* @__PURE__ */ ((i) => (i.None = "None", i.Relation = "Relation", i))(EConditionType || {}), EGlobalStoreIntention = /* @__PURE__ */ ((i) => (i.None = "None", i.Create = "Create", i.Move = "Move", i.GroupMove = "GroupMove", i.MoveCanvas = "MoveCanvas", i.Select = "Select", i.Zoom = "Zoom", i.Rotate = "Rotate", i.Connection = "Connection", i.SetConnectionLineNode = "SetConnectionLineNode", i.ContextMenu = "ContextMenu", i.SelectArea = "SelectArea", i))(EGlobalStoreIntention || {}), EMouseInfoState = /* @__PURE__ */ ((i) => (i.Down = "Down", i.Up = "Up", i))(EMouseInfoState || {}), EScaleInfoType = /* @__PURE__ */ ((i) => (i.None = "", i.TopLeft = "TopLeft", i.TopCenter = "TopCenter", i.TopRight = "TopRight", i.Left = "Left", i.Right = "Right", i.BottomLeft = "BottomLeft", i.BottomCenter = "BottomCenter", i.BottomRight = "BottomRight", i))(EScaleInfoType || {});
const svg_alert_light = {
  name: "alert-light",
  title: "警示灯",
  type: EDoneJsonType.File,
  config: {
    can_zoom: !0,
    have_anchor: !0,
    actual_rect: !0
  },
  display: !0,
  props: {},
  defaultState: "yellow",
  state: {
    green: {
      label: "正常",
      fill: "#00ff00",
      fillOpacity: "1"
    },
    yellow: { label: "请注意", fill: "#ffff00", fillOpacity: "1" },
    red: { label: "报警", fill: "#ff0000", fillOpacity: "1" },
    white: { label: "关闭", fill: "#ffffff", fillOpacity: "0" }
  },
  common_animations: {
    val: "",
    delay: "delay-0s",
    speed: "slow",
    repeat: "infinite"
  },
  events: []
}, stateful_group = {
  groupType: "stateful",
  title: "状态SVG",
  list: [svg_alert_light]
}, svg_bot_2 = {
  name: "bot-2",
  title: "2号机",
  type: EDoneJsonType.File,
  display: !0,
  config: {
    can_zoom: !0,
    have_anchor: !0,
    actual_rect: !0
  },
  props: {},
  common_animations: {
    val: "",
    delay: "delay-0s",
    speed: "slow",
    repeat: "infinite"
  },
  events: []
}, svg_bot_9 = {
  name: "bot-9",
  title: "9号机",
  type: EDoneJsonType.File,
  display: !0,
  config: {
    can_zoom: !0,
    have_anchor: !0,
    actual_rect: !0
  },
  props: {},
  common_animations: {
    val: "",
    delay: "delay-0s",
    speed: "slow",
    repeat: "infinite"
  },
  events: []
}, svg_hotpot = {
  name: "hotpot",
  title: "火锅",
  type: EDoneJsonType.File,
  display: !0,
  config: {
    can_zoom: !0,
    have_anchor: !0,
    actual_rect: !0
  },
  props: {},
  common_animations: {
    val: "",
    delay: "delay-0s",
    speed: "slow",
    repeat: "infinite"
  },
  events: []
}, svg_hamburger = {
  name: "hamburger",
  title: "汉堡",
  type: EDoneJsonType.File,
  display: !0,
  config: {
    can_zoom: !0,
    have_anchor: !0,
    actual_rect: !0
  },
  props: {},
  common_animations: {
    val: "",
    delay: "delay-0s",
    speed: "slow",
    repeat: "infinite"
  },
  events: []
}, stateless_group = {
  groupType: "stateless",
  title: "静态SVG",
  list: [svg_hamburger, svg_hotpot, svg_bot_2, svg_bot_9]
}, thermometer = {
  name: "thermometer",
  title: "温度计",
  type: EDoneJsonType.File,
  config: {
    can_zoom: !0,
    have_anchor: !0,
    actual_rect: !0
  },
  display: !0,
  props: {},
  common_animations: {
    val: "",
    delay: "delay-0s",
    speed: "slow",
    repeat: "infinite"
  },
  events: []
}, animation_group = {
  groupType: "have_animation",
  title: "动画SVG",
  list: [thermometer]
}, svg_text = {
  name: "svg-text",
  title: "文字",
  tag: "svg-text",
  type: EDoneJsonType.CustomSvg,
  display: !0,
  config: {
    can_zoom: !0,
    have_anchor: !0,
    actual_rect: !0
  },
  props: {
    /*deviceCode:{
    	title:'设备编码',
    	type:EConfigItemPropsType.Input,
    	val:''
    },*/
    text: {
      title: "文字内容",
      type: EConfigItemPropsType.Textarea,
      val: "文字内容"
    },
    fontFamily: {
      title: "字体",
      type: EConfigItemPropsType.Select,
      val: "Microsoft YaHei",
      options: [
        {
          value: "Microsoft YaHei",
          label: "微软雅黑"
        },
        {
          value: "NSimSun",
          label: "新宋体"
        },
        {
          value: "KaiTi",
          label: "楷体"
        }
      ]
    },
    fontSize: {
      title: "文字大小",
      type: EConfigItemPropsType.InputNumber,
      val: 18
    },
    fill: {
      title: "文字颜色",
      type: EConfigItemPropsType.Color,
      val: "#000"
    },
    bold: {
      title: "文字加粗",
      type: EConfigItemPropsType.Switch,
      val: !1
    },
    writingMode: {
      title: "文字朝向",
      type: EConfigItemPropsType.Select,
      val: "horizontal-tb",
      options: [
        {
          value: "horizontal-tb",
          label: "水平"
        },
        {
          value: "vertical-rl",
          label: "垂直"
        }
      ]
    }
  },
  common_animations: {
    val: "",
    delay: "delay-0s",
    speed: "slow",
    repeat: "infinite"
  },
  events: []
}, switch_r = {
  name: "switch-r",
  title: "开关",
  tag: "switch-r",
  type: EDoneJsonType.CustomSvg,
  display: !0,
  config: {
    can_zoom: !0,
    have_anchor: !0,
    actual_rect: !0
  },
  props: {
    isOpen: {
      title: "开关",
      type: EConfigItemPropsType.Switch,
      val: !1
    }
  },
  common_animations: {
    val: "",
    delay: "delay-0s",
    speed: "slow",
    repeat: "infinite"
  },
  events: []
}, light_a = {
  name: "light",
  tag: "light-a",
  title: "灯",
  type: EDoneJsonType.CustomSvg,
  config: {
    can_zoom: !0,
    have_anchor: !0,
    actual_rect: !0
  },
  display: !0,
  props: {
    isOpen: {
      title: "开关",
      type: EConfigItemPropsType.Switch,
      val: !1
    }
  },
  common_animations: {
    val: "",
    delay: "delay-0s",
    speed: "slow",
    repeat: "infinite"
  },
  events: []
}, clock_a = {
  name: "clock-a",
  title: "时钟",
  tag: "clock-a",
  type: EDoneJsonType.CustomSvg,
  config: {
    can_zoom: !0,
    have_anchor: !0,
    actual_rect: !0
  },
  display: !0,
  props: {
    centerColor: {
      title: "针顶颜色",
      type: EConfigItemPropsType.Color,
      val: "#EBF257"
    },
    secondsColor: {
      title: "秒针颜色",
      type: EConfigItemPropsType.Color,
      val: "#E83E24"
    },
    circleColor: {
      title: "针圈颜色",
      type: EConfigItemPropsType.Color,
      val: "#F45AFC"
    },
    minutesColor: {
      title: "分针颜色",
      type: EConfigItemPropsType.Color,
      val: "#50E68E"
    },
    hoursColor: {
      title: "时针颜色",
      type: EConfigItemPropsType.Color,
      val: "#9A36E7"
    },
    scaleColor: {
      title: "刻度颜色",
      type: EConfigItemPropsType.Color,
      val: "#4942CF"
    },
    backgroundColor: {
      title: "表盘颜色",
      type: EConfigItemPropsType.Color,
      val: "#ffffff"
    },
    borderColor: {
      title: "裱框颜色",
      type: EConfigItemPropsType.Color,
      val: "#B3A7FF"
    }
  },
  common_animations: {
    val: "",
    delay: "delay-0s",
    speed: "slow",
    repeat: "infinite"
  },
  events: []
}, custom_svg_group = {
  groupType: "custom_svg_group",
  title: "SVG组件",
  list: [svg_text, switch_r, light_a, clock_a]
}, svg_config = Object.seal([
  stateless_group,
  stateful_group,
  animation_group,
  custom_svg_group
]), el_button = {
  name: "el-button",
  tag: "el-button",
  title: "按钮",
  type: EDoneJsonType.Vue,
  config: {
    can_zoom: !1,
    have_anchor: !0,
    actual_rect: !0
  },
  display: !0,
  props: {
    size: {
      title: "尺寸",
      type: EConfigItemPropsType.Select,
      val: "default",
      options: [
        { label: "大", value: "large" },
        { label: "默认", value: "default" },
        { label: "小", value: "small" }
      ]
    },
    type: {
      title: "类型",
      type: EConfigItemPropsType.Select,
      val: "primary",
      options: [
        { label: "主要按钮", value: "primary" },
        { label: "成功按钮", value: "success" },
        { label: "警告按钮", value: "warning" },
        { label: "危险按钮", value: "danger" },
        { label: "信息按钮", value: "info" }
      ]
    },
    plain: {
      title: "朴素按钮",
      type: EConfigItemPropsType.Switch,
      val: !1
    },
    text: {
      title: "文字按钮",
      type: EConfigItemPropsType.Switch,
      val: !1
    }
  },
  tag_slot: "按钮",
  common_animations: {
    val: "",
    delay: "delay-0s",
    speed: "slow",
    repeat: "infinite"
  },
  events: []
}, common_table = {
  name: "common-table",
  title: "通用表格",
  tag: "common-table",
  type: EDoneJsonType.Vue,
  config: {
    can_zoom: !1,
    have_anchor: !0,
    actual_rect: !0
  },
  display: !0,
  props: {
    "col-config": {
      title: "列配置",
      type: EConfigItemPropsType.JsonEdit,
      val: [
        {
          prop: "date",
          label: "第一列",
          width: "120px",
          fixed: !1,
          sortable: !1,
          "show-overflow-tooltip": !1
        },
        {
          prop: "name",
          label: "第二列",
          width: "120px",
          fixed: !1,
          sortable: !1,
          "show-overflow-tooltip": !1
        },
        {
          prop: "address",
          label: "第三列测试",
          width: "280px",
          fixed: !1,
          sortable: !1,
          "show-overflow-tooltip": !1
        }
      ]
    },
    data: {
      title: "表格数据",
      type: EConfigItemPropsType.JsonEdit,
      val: [
        {
          date: "2016-05-03",
          name: "Tom",
          address: "No. 189, Grove St, Los Angeles"
        },
        {
          date: "2016-05-02",
          name: "Tom",
          address: "No. 189, Grove St, Los Angeles"
        },
        {
          date: "2016-05-04",
          name: "Tom",
          address: "No. 189, Grove St, Los Angeles"
        },
        {
          date: "2016-05-01",
          name: "Tom",
          address: "No. 189, Grove St, Los Angeles"
        }
      ]
    },
    width: {
      title: "宽度",
      type: EConfigItemPropsType.InputNumber,
      val: 500
    },
    height: {
      title: "高度",
      type: EConfigItemPropsType.InputNumber,
      val: 200
    },
    maxHeight: {
      title: "最大高度",
      type: EConfigItemPropsType.InputNumber,
      val: 200
    },
    stripe: {
      title: "斑马纹",
      type: EConfigItemPropsType.Switch,
      val: !1
    },
    border: {
      title: "纵向边框",
      type: EConfigItemPropsType.Switch,
      val: !1
    },
    size: {
      title: "尺寸",
      type: EConfigItemPropsType.Select,
      val: "default",
      options: [
        {
          label: "大",
          value: "large"
        },
        {
          label: "默认",
          value: "default"
        },
        {
          label: "小",
          value: "small"
        }
      ]
    },
    fit: {
      title: "列宽自撑开",
      type: EConfigItemPropsType.Switch,
      val: !1
    }
  },
  common_animations: {
    val: "",
    delay: "delay-0s",
    speed: "slow",
    repeat: "infinite"
  },
  events: []
}, now_time = {
  name: "now-time",
  title: "当前时间",
  tag: "now-time",
  type: EDoneJsonType.Vue,
  config: {
    can_zoom: !1,
    have_anchor: !1,
    actual_rect: !0
  },
  display: !0,
  props: {
    width: {
      title: "宽度",
      type: EConfigItemPropsType.InputNumber,
      val: 150
    },
    fontFamily: {
      title: "字体",
      type: EConfigItemPropsType.Select,
      val: "Microsoft YaHei",
      options: [
        {
          value: "Microsoft YaHei",
          label: "微软雅黑"
        },
        {
          value: "NSimSun",
          label: "新宋体"
        },
        {
          value: "KaiTi",
          label: "楷体"
        }
      ]
    },
    fontSize: {
      title: "文字大小",
      type: EConfigItemPropsType.InputNumber,
      val: 18
    },
    color: {
      title: "文字颜色",
      type: EConfigItemPropsType.Color,
      val: "#000000"
    },
    bold: {
      title: "文字加粗",
      type: EConfigItemPropsType.Switch,
      val: !1
    }
  },
  common_animations: {
    val: "",
    delay: "delay-0s",
    speed: "slow",
    repeat: "infinite"
  },
  events: []
}, el_tag = {
  name: "el-tag",
  tag: "el-tag",
  title: "标签",
  type: EDoneJsonType.Vue,
  config: {
    can_zoom: !0,
    have_anchor: !0,
    actual_rect: !0
  },
  display: !0,
  props: {
    type: {
      title: "类型",
      type: EConfigItemPropsType.Select,
      val: "success",
      options: [
        { label: "成功", value: "success" },
        { label: "警告", value: "warning" },
        { label: "危险", value: "danger" },
        { label: "信息", value: "info" }
      ]
    },
    closable: {
      title: "可关闭",
      type: EConfigItemPropsType.Switch,
      val: !0
    },
    "disable-transitions": {
      title: "渐变",
      type: EConfigItemPropsType.Switch,
      val: !1
    }
  },
  tag_slot: "标签",
  common_animations: {
    val: "",
    delay: "delay-0s",
    speed: "slow",
    repeat: "infinite"
  },
  events: []
}, progress_a = {
  name: "progress-a",
  tag: "progress-a",
  title: "进度条",
  type: EDoneJsonType.Vue,
  config: {
    can_zoom: !1,
    have_anchor: !0,
    actual_rect: !0
  },
  display: !0,
  props: {
    percentage: {
      title: "进度",
      type: EConfigItemPropsType.InputNumber,
      val: 50
    }
  },
  common_animations: {
    val: "",
    delay: "delay-0s",
    speed: "slow",
    repeat: "infinite"
  },
  events: []
}, components = {
  groupType: "custom-vue",
  title: "VUE组件",
  list: [el_button, progress_a, common_table, now_time, el_tag]
}, pie_charts = {
  name: "pie-charts",
  tag: "pie-charts",
  title: "饼图",
  type: EDoneJsonType.Vue,
  config: {
    can_zoom: !0,
    have_anchor: !0,
    actual_rect: !0
  },
  display: !0,
  props: {
    title: {
      title: "标题",
      type: EConfigItemPropsType.Input,
      val: "默认标题"
    },
    seriesName: {
      title: "详情",
      type: EConfigItemPropsType.Input,
      val: "详情标题"
    },
    seriesData: {
      title: "legendData",
      type: EConfigItemPropsType.JsonEdit,
      val: [
        {
          value: 1048,
          name: "办公楼A"
        },
        {
          value: 735,
          name: "办公楼B"
        },
        {
          value: 580,
          name: "保安室"
        },
        {
          value: 484,
          name: "地下车库"
        },
        {
          value: 300,
          name: "食堂"
        }
      ]
    }
  },
  common_animations: {
    val: "",
    delay: "delay-0s",
    speed: "slow",
    repeat: "infinite"
  },
  events: []
}, echarts_group = {
  groupType: "echarts",
  title: "图表",
  list: [pie_charts]
}, vue_config = Object.seal([components, echarts_group]), _sfc_main$L = /* @__PURE__ */ defineComponent({
  __name: "progress",
  props: {
    percentage: { default: 10 }
  },
  emits: ["onChange"],
  setup(i, { emit: n }) {
    const r = i, o = [
      {
        color: "#f56c6c",
        percentage: 20
      },
      {
        color: "#e6a23c",
        percentage: 40
      },
      {
        color: "#5cb87a",
        percentage: 60
      },
      {
        color: "#1989fa",
        percentage: 80
      },
      {
        color: "#6f7ad3",
        percentage: 100
      }
    ];
    return watch(
      () => r.percentage,
      () => {
        n("onChange");
      }
    ), (a, u) => (openBlock(), createBlock(unref(ElProgress), {
      type: "dashboard",
      percentage: Number(r.percentage),
      color: o
    }, null, 8, ["percentage"]));
  }
}), _hoisted_1$m = ["id"], _hoisted_2$i = ["id"], _hoisted_3$f = /* @__PURE__ */ createElementVNode("path", {
  d: "M747.52 238.933333    H276.48    C122.88 238.933333 0 361.813333 0 512    s122.88 273.066667 276.48 273.066667    H750.933333    c150.186667 0 276.48-122.88 276.48-273.066667    s-126.293333-273.066667-279.893333-273.066667z",
  fill: "white",
  "fill-opacity": ".01",
  "p-id": "1537",
  "data-spm-anchor-id": "a313x.manage_type_myprojects.0.i0.1adc3a81uCnBP5"
}, null, -1), _hoisted_4$b = /* @__PURE__ */ createElementVNode("path", {
  d: "M747.52 238.933333    H276.48    C122.88 238.933333 0 361.813333 0 512    s122.88 273.066667 276.48 273.066667    H750.933333    c150.186667 0 276.48-122.88 276.48-273.066667    s-126.293333-273.066667-279.893333-273.066667z     m0 512    H276.48    C143.36 750.933333 34.133333 645.12 34.133333 512s109.226667-238.933333 242.346667-238.933333    H750.933333c133.12 0 242.346667 105.813333 242.346667 238.933333s-112.64 238.933333-245.76 238.933333z",
  fill: "#2c2c2c",
  "p-id": "1531",
  "data-spm-anchor-id": "a313x.manage_type_myprojects.0.i0.1adc3a81uCnBP5"
}, null, -1), _hoisted_5$9 = /* @__PURE__ */ createElementVNode("path", {
  d: "M238.933333 409.6c-37.546667 0-68.266667 27.306667-68.266666 61.44v85.333333c0 34.133333 30.72 61.44 68.266666 61.44s68.266667-27.306667 68.266667-61.44v-85.333333c0-34.133333-30.72-61.44-68.266667-61.44z m34.133334 146.773333c0 13.653333-17.066667 23.893333-34.133334 23.893334s-34.133333-10.24-34.133333-27.306667v-85.333333c0-13.653333 17.066667-23.893333 34.133333-23.893334s34.133333 10.24 34.133334 27.306667v85.333333zM460.8 409.6c-10.24 0-17.066667 6.826667-17.066667 17.066667v109.226666l-71.68-119.466666c-3.413333-6.826667-10.24-10.24-20.48-6.826667-6.826667 3.413333-13.653333 10.24-13.653333 17.066667v170.666666c0 10.24 6.826667 17.066667 17.066667 17.066667s17.066667-6.826667 17.066666-17.066667v-109.226666l71.68 119.466666c3.413333 6.826667 10.24 6.826667 13.653334 6.826667h3.413333c6.826667-3.413333 13.653333-10.24 13.653333-17.066667v-170.666666c3.413333-10.24-3.413333-17.066667-13.653333-17.066667zM750.933333 341.333333c-95.573333 0-170.666667 75.093333-170.666666 170.666667s75.093333 170.666667 170.666666 170.666667 170.666667-75.093333 170.666667-170.666667-75.093333-170.666667-170.666667-170.666667z",
  fill: "#5ad562",
  "p-id": "1530",
  "data-spm-anchor-id": "a313x.manage_type_myprojects.0.i1.1adc3a81uCnBP5"
}, null, -1), _hoisted_6$7 = [
  _hoisted_3$f,
  _hoisted_4$b,
  _hoisted_5$9
], _hoisted_7$7 = ["id"], _hoisted_8$7 = /* @__PURE__ */ createElementVNode("path", {
  d: "M747.52 238.933333    H276.48    C122.88 238.933333 0 361.813333 0 512    s122.88 273.066667 276.48 273.066667    H750.933333    c150.186667 0 276.48-122.88 276.48-273.066667    s-126.293333-273.066667-279.893333-273.066667z",
  fill: "white",
  "fill-opacity": ".01",
  "p-id": "1536",
  "data-spm-anchor-id": "a313x.manage_type_myprojects.0.i0.1adc3a81uCnBP5"
}, null, -1), _hoisted_9$7 = /* @__PURE__ */ createElementVNode("path", {
  d: "M747.52 238.933333    H276.48    C122.88 238.933333 0 361.813333 0 512    s122.88 273.066667 276.48 273.066667    H750.933333    c150.186667 0 276.48-122.88 276.48-273.066667    s-126.293333-273.066667-279.893333-273.066667z    m0 512    H276.48    C143.36 750.933333 34.133333 645.12 34.133333 512s109.226667-238.933333 242.346667-238.933333    H750.933333c133.12 0 242.346667 105.813333 242.346667 238.933333s-112.64 238.933333-245.76 238.933333z",
  fill: "#2c2c2c",
  "p-id": "1535",
  "data-spm-anchor-id": "a313x.manage_type_myprojects.0.i0.1adc3a81uCnBP5"
}, null, -1), _hoisted_10$6 = /* @__PURE__ */ createElementVNode("path", {
  d: "M273.066667 341.333333c-95.573333 0-170.666667 75.093333-170.666667 170.666667s75.093333 170.666667 170.666667 170.666667 170.666667-75.093333 170.666666-170.666667-75.093333-170.666667-170.666666-170.666667z",
  fill: "#bfbfbf",
  "p-id": "1534",
  "data-spm-anchor-id": "a313x.manage_type_myprojects.0.i0.1adc3a81KYNNkt"
}, null, -1), _hoisted_11$5 = /* @__PURE__ */ createElementVNode("path", {
  d: "M580.266667 409.6c-37.546667 0-68.266667 27.306667-68.266667 61.44v85.333333c0 34.133333 30.72 61.44 68.266667 61.44s68.266667-27.306667 68.266666-61.44v-85.333333c0-34.133333-30.72-61.44-68.266666-61.44z m34.133333 146.773333c0 13.653333-17.066667 27.306667-34.133333 27.306667s-34.133333-10.24-34.133334-27.306667v-85.333333c0-13.653333 17.066667-27.306667 34.133334-27.306667s34.133333 10.24 34.133333 27.306667v85.333333zM904.533333 409.6h-68.266666c-10.24 0-17.066667 6.826667-17.066667 17.066667v170.666666c0 10.24 6.826667 17.066667 17.066667 17.066667s17.066667-6.826667 17.066666-17.066667V512h17.066667c10.24 0 17.066667-6.826667 17.066667-17.066667s-6.826667-17.066667-17.066667-17.066666H853.333333v-34.133334h51.2c10.24 0 17.066667-6.826667 17.066667-17.066666s-6.826667-17.066667-17.066667-17.066667zM768 409.6h-68.266667c-10.24 0-17.066667 6.826667-17.066666 17.066667v170.666666c0 10.24 6.826667 17.066667 17.066666 17.066667s17.066667-6.826667 17.066667-17.066667V512h17.066667c10.24 0 17.066667-6.826667 17.066666-17.066667s-6.826667-17.066667-17.066666-17.066666H716.8v-34.133334h51.2c10.24 0 17.066667-6.826667 17.066667-17.066666s-6.826667-17.066667-17.066667-17.066667z",
  fill: "#707070",
  "p-id": "1533",
  "data-spm-anchor-id": "a313x.manage_type_myprojects.0.i2.1adc3a81KYNNkt"
}, null, -1), _hoisted_12$5 = [
  _hoisted_8$7,
  _hoisted_9$7,
  _hoisted_10$6,
  _hoisted_11$5
], _hoisted_13$4 = ["xlink:href"], _sfc_main$K = /* @__PURE__ */ defineComponent({
  __name: "switch-r",
  props: {
    id: {
      type: String,
      default: ""
    },
    isOpen: {
      type: Boolean,
      default: !0
    }
  },
  emits: ["onChange"],
  setup(i, { emit: n }) {
    const r = i;
    return watch(
      () => r.isOpen,
      () => {
        n("onChange");
      }
    ), (o, a) => (openBlock(), createElementBlock("g", {
      id: r.id
    }, [
      createElementVNode("symbol", {
        viewBox: "0 0 1027 1024",
        id: `${r.id}switch-demo-open`
      }, _hoisted_6$7, 8, _hoisted_2$i),
      createElementVNode("symbol", {
        viewBox: "0 0 1027 1024",
        id: `${r.id}switch-demo-close`
      }, _hoisted_12$5, 8, _hoisted_7$7),
      createElementVNode("use", {
        "xlink:href": `#${r.id}switch-demo-${r.isOpen ? "open" : "close"}`,
        width: "100",
        height: "100"
      }, null, 8, _hoisted_13$4)
    ], 8, _hoisted_1$m));
  }
}), _sfc_main$J = /* @__PURE__ */ defineComponent({
  __name: "svg-text",
  props: {
    text: {},
    bold: { type: Boolean }
  },
  emits: ["resize"],
  setup(i, { emit: n }) {
    const r = i;
    return watch(
      () => r.text,
      () => {
        nextTick(function() {
          n("resize");
        });
      }
    ), (o, a) => (openBlock(), createElementBlock("text", {
      x: "50",
      y: "55",
      style: normalizeStyle$1({ "font-weight": r.bold ? "bold" : "normal" })
    }, toDisplayString(r.text), 5));
  }
}), _sfc_main$I = /* @__PURE__ */ defineComponent({
  __name: "common-table",
  props: {
    colConfig: { default: () => [] },
    data: { default: () => [] },
    height: { default: 200 },
    maxHeight: {},
    stripe: { type: Boolean, default: !1 },
    border: { type: Boolean, default: !1 },
    size: {},
    fit: { type: Boolean, default: !1 },
    operateDisplay: { type: Boolean, default: !1 },
    selectionData: { default: () => [] }
  },
  setup(i) {
    const n = i, r = ref({});
    return watchEffect(() => {
      const { colConfig: o, ...a } = n;
      r.value = a;
    }), (o, a) => (openBlock(), createBlock(unref(ElTable), normalizeProps(guardReactiveProps(unref(r))), {
      default: withCtx(() => [
        (openBlock(!0), createElementBlock(Fragment, null, renderList(n.colConfig, (u) => (openBlock(), createBlock(unref(ElTableColumn), mergeProps({
          key: u.prop
        }, u), null, 16))), 128))
      ]),
      _: 1
    }, 16));
  }
}), _hoisted_1$l = { class: "flex mt-5px" }, _sfc_main$H = /* @__PURE__ */ defineComponent({
  __name: "now-time",
  props: {
    width: {},
    fontFamily: {},
    color: {},
    fontSize: {},
    bold: { type: Boolean }
  },
  setup(i) {
    const n = i, r = computed(() => ({
      fontFamily: n.fontFamily,
      color: n.color,
      fontSize: n.fontSize + "px",
      fontWeight: n.bold ? "bold" : "normal"
    })), o = ref(/* @__PURE__ */ new Date()), a = ref(), u = computed(() => {
      const d = o.value.getFullYear(), p = o.value.getMonth() + 1, y = o.value.getDate();
      return d.toString() + "年" + p.toString() + "月" + y.toString() + "日";
    }), c = computed(() => {
      const d = o.value.getDay();
      return ["星期日", "星期一", "星期二", "星期三", "星期四", "星期五", "星期六"][d];
    }), f = computed(() => {
      const d = o.value.getHours(), p = o.value.getMinutes(), y = o.value.getSeconds();
      return (d < 10 ? "0" + d.toString() : d.toString()) + ":" + (p < 10 ? "0" + p.toString() : p.toString()) + ":" + (y < 10 ? "0" + y.toString() : y.toString());
    });
    return onMounted(() => {
      a.value = setInterval(() => {
        o.value = /* @__PURE__ */ new Date();
      }, 500);
    }), onUnmounted(() => {
      clearInterval(a.value);
    }), (d, p) => (openBlock(), createElementBlock("div", {
      class: "now-time",
      style: normalizeStyle$1({ width: n.width + "px" })
    }, [
      createElementVNode("div", {
        style: normalizeStyle$1(unref(r))
      }, toDisplayString(unref(u)), 5),
      createElementVNode("div", _hoisted_1$l, [
        createElementVNode("div", {
          style: normalizeStyle$1(unref(r))
        }, toDisplayString(unref(c)), 5),
        createElementVNode("div", {
          style: normalizeStyle$1(unref(r))
        }, toDisplayString(unref(f)), 5)
      ])
    ], 4));
  }
}), nowTime_vue_vue_type_style_index_0_scoped_82ca3b84_lang = "", _export_sfc$1 = (i, n) => {
  const r = i.__vccOpts || i;
  for (const [o, a] of n)
    r[o] = a;
  return r;
}, NowTime = /* @__PURE__ */ _export_sfc$1(_sfc_main$H, [["__scopeId", "data-v-82ca3b84"]]);
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var extendStatics = function(i, n) {
  return extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, o) {
    r.__proto__ = o;
  } || function(r, o) {
    for (var a in o)
      Object.prototype.hasOwnProperty.call(o, a) && (r[a] = o[a]);
  }, extendStatics(i, n);
};
function __extends(i, n) {
  if (typeof n != "function" && n !== null)
    throw new TypeError("Class extends value " + String(n) + " is not a constructor or null");
  extendStatics(i, n);
  function r() {
    this.constructor = i;
  }
  i.prototype = n === null ? Object.create(n) : (r.prototype = n.prototype, new r());
}
var Browser = function() {
  function i() {
    this.firefox = !1, this.ie = !1, this.edge = !1, this.newEdge = !1, this.weChat = !1;
  }
  return i;
}(), Env = function() {
  function i() {
    this.browser = new Browser(), this.node = !1, this.wxa = !1, this.worker = !1, this.svgSupported = !1, this.touchEventsSupported = !1, this.pointerEventsSupported = !1, this.domSupported = !1, this.transformSupported = !1, this.transform3dSupported = !1, this.hasGlobalWindow = typeof window < "u";
  }
  return i;
}(), env = new Env();
typeof wx == "object" && typeof wx.getSystemInfoSync == "function" ? (env.wxa = !0, env.touchEventsSupported = !0) : typeof document > "u" && typeof self < "u" ? env.worker = !0 : typeof navigator > "u" ? (env.node = !0, env.svgSupported = !0) : detect(navigator.userAgent, env);
function detect(i, n) {
  var r = n.browser, o = i.match(/Firefox\/([\d.]+)/), a = i.match(/MSIE\s([\d.]+)/) || i.match(/Trident\/.+?rv:(([\d.]+))/), u = i.match(/Edge?\/([\d.]+)/), c = /micromessenger/i.test(i);
  o && (r.firefox = !0, r.version = o[1]), a && (r.ie = !0, r.version = a[1]), u && (r.edge = !0, r.version = u[1], r.newEdge = +u[1].split(".")[0] > 18), c && (r.weChat = !0), n.svgSupported = typeof SVGRect < "u", n.touchEventsSupported = "ontouchstart" in window && !r.ie && !r.edge, n.pointerEventsSupported = "onpointerdown" in window && (r.edge || r.ie && +r.version >= 11), n.domSupported = typeof document < "u";
  var f = document.documentElement.style;
  n.transform3dSupported = (r.ie && "transition" in f || r.edge || "WebKitCSSMatrix" in window && "m11" in new WebKitCSSMatrix() || "MozPerspective" in f) && !("OTransition" in f), n.transformSupported = n.transform3dSupported || r.ie && +r.version >= 9;
}
const env$1 = env;
var DEFAULT_FONT_SIZE = 12, DEFAULT_FONT_FAMILY = "sans-serif", DEFAULT_FONT = DEFAULT_FONT_SIZE + "px " + DEFAULT_FONT_FAMILY, OFFSET = 20, SCALE = 100, defaultWidthMapStr = "007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";
function getTextWidthMap(i) {
  var n = {};
  if (typeof JSON > "u")
    return n;
  for (var r = 0; r < i.length; r++) {
    var o = String.fromCharCode(r + 32), a = (i.charCodeAt(r) - OFFSET) / SCALE;
    n[o] = a;
  }
  return n;
}
var DEFAULT_TEXT_WIDTH_MAP = getTextWidthMap(defaultWidthMapStr), platformApi = {
  createCanvas: function() {
    return typeof document < "u" && document.createElement("canvas");
  },
  measureText: function() {
    var i, n;
    return function(r, o) {
      if (!i) {
        var a = platformApi.createCanvas();
        i = a && a.getContext("2d");
      }
      if (i)
        return n !== o && (n = i.font = o || DEFAULT_FONT), i.measureText(r);
      r = r || "", o = o || DEFAULT_FONT;
      var u = /(\d+)px/.exec(o), c = u && +u[1] || DEFAULT_FONT_SIZE, f = 0;
      if (o.indexOf("mono") >= 0)
        f = c * r.length;
      else
        for (var d = 0; d < r.length; d++) {
          var p = DEFAULT_TEXT_WIDTH_MAP[r[d]];
          f += p == null ? c : p * c;
        }
      return { width: f };
    };
  }(),
  loadImage: function(i, n, r) {
    var o = new Image();
    return o.onload = n, o.onerror = r, o.src = i, o;
  }
}, BUILTIN_OBJECT = reduce([
  "Function",
  "RegExp",
  "Date",
  "Error",
  "CanvasGradient",
  "CanvasPattern",
  "Image",
  "Canvas"
], function(i, n) {
  return i["[object " + n + "]"] = !0, i;
}, {}), TYPED_ARRAY = reduce([
  "Int8",
  "Uint8",
  "Uint8Clamped",
  "Int16",
  "Uint16",
  "Int32",
  "Uint32",
  "Float32",
  "Float64"
], function(i, n) {
  return i["[object " + n + "Array]"] = !0, i;
}, {}), objToString = Object.prototype.toString, arrayProto = Array.prototype, nativeForEach = arrayProto.forEach, nativeFilter = arrayProto.filter, nativeSlice = arrayProto.slice, nativeMap = arrayProto.map, ctorFunction = function() {
}.constructor, protoFunction = ctorFunction ? ctorFunction.prototype : null, protoKey = "__proto__", idStart = 2311;
function guid() {
  return idStart++;
}
function logError() {
  for (var i = [], n = 0; n < arguments.length; n++)
    i[n] = arguments[n];
  typeof console < "u" && console.error.apply(console, i);
}
function clone$2(i) {
  if (i == null || typeof i != "object")
    return i;
  var n = i, r = objToString.call(i);
  if (r === "[object Array]") {
    if (!isPrimitive(i)) {
      n = [];
      for (var o = 0, a = i.length; o < a; o++)
        n[o] = clone$2(i[o]);
    }
  } else if (TYPED_ARRAY[r]) {
    if (!isPrimitive(i)) {
      var u = i.constructor;
      if (u.from)
        n = u.from(i);
      else {
        n = new u(i.length);
        for (var o = 0, a = i.length; o < a; o++)
          n[o] = i[o];
      }
    }
  } else if (!BUILTIN_OBJECT[r] && !isPrimitive(i) && !isDom(i)) {
    n = {};
    for (var c in i)
      i.hasOwnProperty(c) && c !== protoKey && (n[c] = clone$2(i[c]));
  }
  return n;
}
function merge(i, n, r) {
  if (!isObject$3(n) || !isObject$3(i))
    return r ? clone$2(n) : i;
  for (var o in n)
    if (n.hasOwnProperty(o) && o !== protoKey) {
      var a = i[o], u = n[o];
      isObject$3(u) && isObject$3(a) && !isArray$1(u) && !isArray$1(a) && !isDom(u) && !isDom(a) && !isBuiltInObject(u) && !isBuiltInObject(a) && !isPrimitive(u) && !isPrimitive(a) ? merge(a, u, r) : (r || !(o in i)) && (i[o] = clone$2(n[o]));
    }
  return i;
}
function extend(i, n) {
  if (Object.assign)
    Object.assign(i, n);
  else
    for (var r in n)
      n.hasOwnProperty(r) && r !== protoKey && (i[r] = n[r]);
  return i;
}
function defaults(i, n, r) {
  for (var o = keys(n), a = 0; a < o.length; a++) {
    var u = o[a];
    (r ? n[u] != null : i[u] == null) && (i[u] = n[u]);
  }
  return i;
}
function indexOf(i, n) {
  if (i) {
    if (i.indexOf)
      return i.indexOf(n);
    for (var r = 0, o = i.length; r < o; r++)
      if (i[r] === n)
        return r;
  }
  return -1;
}
function inherits(i, n) {
  var r = i.prototype;
  function o() {
  }
  o.prototype = n.prototype, i.prototype = new o();
  for (var a in r)
    r.hasOwnProperty(a) && (i.prototype[a] = r[a]);
  i.prototype.constructor = i, i.superClass = n;
}
function mixin(i, n, r) {
  if (i = "prototype" in i ? i.prototype : i, n = "prototype" in n ? n.prototype : n, Object.getOwnPropertyNames)
    for (var o = Object.getOwnPropertyNames(n), a = 0; a < o.length; a++) {
      var u = o[a];
      u !== "constructor" && (r ? n[u] != null : i[u] == null) && (i[u] = n[u]);
    }
  else
    defaults(i, n, r);
}
function isArrayLike(i) {
  return !i || typeof i == "string" ? !1 : typeof i.length == "number";
}
function each$4(i, n, r) {
  if (i && n)
    if (i.forEach && i.forEach === nativeForEach)
      i.forEach(n, r);
    else if (i.length === +i.length)
      for (var o = 0, a = i.length; o < a; o++)
        n.call(r, i[o], o, i);
    else
      for (var u in i)
        i.hasOwnProperty(u) && n.call(r, i[u], u, i);
}
function map$1(i, n, r) {
  if (!i)
    return [];
  if (!n)
    return slice(i);
  if (i.map && i.map === nativeMap)
    return i.map(n, r);
  for (var o = [], a = 0, u = i.length; a < u; a++)
    o.push(n.call(r, i[a], a, i));
  return o;
}
function reduce(i, n, r, o) {
  if (i && n) {
    for (var a = 0, u = i.length; a < u; a++)
      r = n.call(o, r, i[a], a, i);
    return r;
  }
}
function filter(i, n, r) {
  if (!i)
    return [];
  if (!n)
    return slice(i);
  if (i.filter && i.filter === nativeFilter)
    return i.filter(n, r);
  for (var o = [], a = 0, u = i.length; a < u; a++)
    n.call(r, i[a], a, i) && o.push(i[a]);
  return o;
}
function keys(i) {
  if (!i)
    return [];
  if (Object.keys)
    return Object.keys(i);
  var n = [];
  for (var r in i)
    i.hasOwnProperty(r) && n.push(r);
  return n;
}
function bindPolyfill(i, n) {
  for (var r = [], o = 2; o < arguments.length; o++)
    r[o - 2] = arguments[o];
  return function() {
    return i.apply(n, r.concat(nativeSlice.call(arguments)));
  };
}
var bind$1 = protoFunction && isFunction$1(protoFunction.bind) ? protoFunction.call.bind(protoFunction.bind) : bindPolyfill;
function curry$1(i) {
  for (var n = [], r = 1; r < arguments.length; r++)
    n[r - 1] = arguments[r];
  return function() {
    return i.apply(this, n.concat(nativeSlice.call(arguments)));
  };
}
function isArray$1(i) {
  return Array.isArray ? Array.isArray(i) : objToString.call(i) === "[object Array]";
}
function isFunction$1(i) {
  return typeof i == "function";
}
function isString$2(i) {
  return typeof i == "string";
}
function isStringSafe(i) {
  return objToString.call(i) === "[object String]";
}
function isNumber$1(i) {
  return typeof i == "number";
}
function isObject$3(i) {
  var n = typeof i;
  return n === "function" || !!i && n === "object";
}
function isBuiltInObject(i) {
  return !!BUILTIN_OBJECT[objToString.call(i)];
}
function isTypedArray(i) {
  return !!TYPED_ARRAY[objToString.call(i)];
}
function isDom(i) {
  return typeof i == "object" && typeof i.nodeType == "number" && typeof i.ownerDocument == "object";
}
function isGradientObject(i) {
  return i.colorStops != null;
}
function isRegExp(i) {
  return objToString.call(i) === "[object RegExp]";
}
function eqNaN(i) {
  return i !== i;
}
function retrieve() {
  for (var i = [], n = 0; n < arguments.length; n++)
    i[n] = arguments[n];
  for (var r = 0, o = i.length; r < o; r++)
    if (i[r] != null)
      return i[r];
}
function retrieve2(i, n) {
  return i ?? n;
}
function retrieve3(i, n, r) {
  return i ?? n ?? r;
}
function slice(i) {
  for (var n = [], r = 1; r < arguments.length; r++)
    n[r - 1] = arguments[r];
  return nativeSlice.apply(i, n);
}
function normalizeCssArray$1(i) {
  if (typeof i == "number")
    return [i, i, i, i];
  var n = i.length;
  return n === 2 ? [i[0], i[1], i[0], i[1]] : n === 3 ? [i[0], i[1], i[2], i[1]] : i;
}
function assert(i, n) {
  if (!i)
    throw new Error(n);
}
function trim(i) {
  return i == null ? null : typeof i.trim == "function" ? i.trim() : i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, "");
}
var primitiveKey = "__ec_primitive__";
function setAsPrimitive(i) {
  i[primitiveKey] = !0;
}
function isPrimitive(i) {
  return i[primitiveKey];
}
var MapPolyfill = function() {
  function i() {
    this.data = {};
  }
  return i.prototype.delete = function(n) {
    var r = this.has(n);
    return r && delete this.data[n], r;
  }, i.prototype.has = function(n) {
    return this.data.hasOwnProperty(n);
  }, i.prototype.get = function(n) {
    return this.data[n];
  }, i.prototype.set = function(n, r) {
    return this.data[n] = r, this;
  }, i.prototype.keys = function() {
    return keys(this.data);
  }, i.prototype.forEach = function(n) {
    var r = this.data;
    for (var o in r)
      r.hasOwnProperty(o) && n(r[o], o);
  }, i;
}(), isNativeMapSupported = typeof Map == "function";
function maybeNativeMap() {
  return isNativeMapSupported ? /* @__PURE__ */ new Map() : new MapPolyfill();
}
var HashMap = function() {
  function i(n) {
    var r = isArray$1(n);
    this.data = maybeNativeMap();
    var o = this;
    n instanceof i ? n.each(a) : n && each$4(n, a);
    function a(u, c) {
      r ? o.set(u, c) : o.set(c, u);
    }
  }
  return i.prototype.hasKey = function(n) {
    return this.data.has(n);
  }, i.prototype.get = function(n) {
    return this.data.get(n);
  }, i.prototype.set = function(n, r) {
    return this.data.set(n, r), r;
  }, i.prototype.each = function(n, r) {
    this.data.forEach(function(o, a) {
      n.call(r, o, a);
    });
  }, i.prototype.keys = function() {
    var n = this.data.keys();
    return isNativeMapSupported ? Array.from(n) : n;
  }, i.prototype.removeKey = function(n) {
    this.data.delete(n);
  }, i;
}();
function createHashMap(i) {
  return new HashMap(i);
}
function concatArray(i, n) {
  for (var r = new i.constructor(i.length + n.length), o = 0; o < i.length; o++)
    r[o] = i[o];
  for (var a = i.length, o = 0; o < n.length; o++)
    r[o + a] = n[o];
  return r;
}
function createObject(i, n) {
  var r;
  if (Object.create)
    r = Object.create(i);
  else {
    var o = function() {
    };
    o.prototype = i, r = new o();
  }
  return n && extend(r, n), r;
}
function hasOwn$1(i, n) {
  return i.hasOwnProperty(n);
}
function noop$1() {
}
var RADIAN_TO_DEGREE = 180 / Math.PI;
function create$1(i, n) {
  return i == null && (i = 0), n == null && (n = 0), [i, n];
}
function clone$1(i) {
  return [i[0], i[1]];
}
function add(i, n, r) {
  return i[0] = n[0] + r[0], i[1] = n[1] + r[1], i;
}
function sub$1(i, n, r) {
  return i[0] = n[0] - r[0], i[1] = n[1] - r[1], i;
}
function len(i) {
  return Math.sqrt(lenSquare(i));
}
function lenSquare(i) {
  return i[0] * i[0] + i[1] * i[1];
}
function scale$1(i, n, r) {
  return i[0] = n[0] * r, i[1] = n[1] * r, i;
}
function normalize(i, n) {
  var r = len(n);
  return r === 0 ? (i[0] = 0, i[1] = 0) : (i[0] = n[0] / r, i[1] = n[1] / r), i;
}
function distance(i, n) {
  return Math.sqrt((i[0] - n[0]) * (i[0] - n[0]) + (i[1] - n[1]) * (i[1] - n[1]));
}
var dist$1 = distance;
function distanceSquare(i, n) {
  return (i[0] - n[0]) * (i[0] - n[0]) + (i[1] - n[1]) * (i[1] - n[1]);
}
var distSquare = distanceSquare;
function lerp(i, n, r, o) {
  return i[0] = n[0] + o * (r[0] - n[0]), i[1] = n[1] + o * (r[1] - n[1]), i;
}
function applyTransform$1(i, n, r) {
  var o = n[0], a = n[1];
  return i[0] = r[0] * o + r[2] * a + r[4], i[1] = r[1] * o + r[3] * a + r[5], i;
}
function min$1(i, n, r) {
  return i[0] = Math.min(n[0], r[0]), i[1] = Math.min(n[1], r[1]), i;
}
function max$1(i, n, r) {
  return i[0] = Math.max(n[0], r[0]), i[1] = Math.max(n[1], r[1]), i;
}
var Param = function() {
  function i(n, r) {
    this.target = n, this.topTarget = r && r.topTarget;
  }
  return i;
}(), Draggable = function() {
  function i(n) {
    this.handler = n, n.on("mousedown", this._dragStart, this), n.on("mousemove", this._drag, this), n.on("mouseup", this._dragEnd, this);
  }
  return i.prototype._dragStart = function(n) {
    for (var r = n.target; r && !r.draggable; )
      r = r.parent || r.__hostTarget;
    r && (this._draggingTarget = r, r.dragging = !0, this._x = n.offsetX, this._y = n.offsetY, this.handler.dispatchToElement(new Param(r, n), "dragstart", n.event));
  }, i.prototype._drag = function(n) {
    var r = this._draggingTarget;
    if (r) {
      var o = n.offsetX, a = n.offsetY, u = o - this._x, c = a - this._y;
      this._x = o, this._y = a, r.drift(u, c, n), this.handler.dispatchToElement(new Param(r, n), "drag", n.event);
      var f = this.handler.findHover(o, a, r).target, d = this._dropTarget;
      this._dropTarget = f, r !== f && (d && f !== d && this.handler.dispatchToElement(new Param(d, n), "dragleave", n.event), f && f !== d && this.handler.dispatchToElement(new Param(f, n), "dragenter", n.event));
    }
  }, i.prototype._dragEnd = function(n) {
    var r = this._draggingTarget;
    r && (r.dragging = !1), this.handler.dispatchToElement(new Param(r, n), "dragend", n.event), this._dropTarget && this.handler.dispatchToElement(new Param(this._dropTarget, n), "drop", n.event), this._draggingTarget = null, this._dropTarget = null;
  }, i;
}();
const Draggable$1 = Draggable;
var Eventful = function() {
  function i(n) {
    n && (this._$eventProcessor = n);
  }
  return i.prototype.on = function(n, r, o, a) {
    this._$handlers || (this._$handlers = {});
    var u = this._$handlers;
    if (typeof r == "function" && (a = o, o = r, r = null), !o || !n)
      return this;
    var c = this._$eventProcessor;
    r != null && c && c.normalizeQuery && (r = c.normalizeQuery(r)), u[n] || (u[n] = []);
    for (var f = 0; f < u[n].length; f++)
      if (u[n][f].h === o)
        return this;
    var d = {
      h: o,
      query: r,
      ctx: a || this,
      callAtLast: o.zrEventfulCallAtLast
    }, p = u[n].length - 1, y = u[n][p];
    return y && y.callAtLast ? u[n].splice(p, 0, d) : u[n].push(d), this;
  }, i.prototype.isSilent = function(n) {
    var r = this._$handlers;
    return !r || !r[n] || !r[n].length;
  }, i.prototype.off = function(n, r) {
    var o = this._$handlers;
    if (!o)
      return this;
    if (!n)
      return this._$handlers = {}, this;
    if (r) {
      if (o[n]) {
        for (var a = [], u = 0, c = o[n].length; u < c; u++)
          o[n][u].h !== r && a.push(o[n][u]);
        o[n] = a;
      }
      o[n] && o[n].length === 0 && delete o[n];
    } else
      delete o[n];
    return this;
  }, i.prototype.trigger = function(n) {
    for (var r = [], o = 1; o < arguments.length; o++)
      r[o - 1] = arguments[o];
    if (!this._$handlers)
      return this;
    var a = this._$handlers[n], u = this._$eventProcessor;
    if (a)
      for (var c = r.length, f = a.length, d = 0; d < f; d++) {
        var p = a[d];
        if (!(u && u.filter && p.query != null && !u.filter(n, p.query)))
          switch (c) {
            case 0:
              p.h.call(p.ctx);
              break;
            case 1:
              p.h.call(p.ctx, r[0]);
              break;
            case 2:
              p.h.call(p.ctx, r[0], r[1]);
              break;
            default:
              p.h.apply(p.ctx, r);
              break;
          }
      }
    return u && u.afterTrigger && u.afterTrigger(n), this;
  }, i.prototype.triggerWithContext = function(n) {
    for (var r = [], o = 1; o < arguments.length; o++)
      r[o - 1] = arguments[o];
    if (!this._$handlers)
      return this;
    var a = this._$handlers[n], u = this._$eventProcessor;
    if (a)
      for (var c = r.length, f = r[c - 1], d = a.length, p = 0; p < d; p++) {
        var y = a[p];
        if (!(u && u.filter && y.query != null && !u.filter(n, y.query)))
          switch (c) {
            case 0:
              y.h.call(f);
              break;
            case 1:
              y.h.call(f, r[0]);
              break;
            case 2:
              y.h.call(f, r[0], r[1]);
              break;
            default:
              y.h.apply(f, r.slice(1, c - 1));
              break;
          }
      }
    return u && u.afterTrigger && u.afterTrigger(n), this;
  }, i;
}();
const Eventful$1 = Eventful;
var LN2 = Math.log(2);
function determinant(i, n, r, o, a, u) {
  var c = o + "-" + a, f = i.length;
  if (u.hasOwnProperty(c))
    return u[c];
  if (n === 1) {
    var d = Math.round(Math.log((1 << f) - 1 & ~a) / LN2);
    return i[r][d];
  }
  for (var p = o | 1 << r, y = r + 1; o & 1 << y; )
    y++;
  for (var v = 0, g = 0, _ = 0; g < f; g++) {
    var b = 1 << g;
    b & a || (v += (_ % 2 ? -1 : 1) * i[r][g] * determinant(i, n - 1, y, p, a | b, u), _++);
  }
  return u[c] = v, v;
}
function buildTransformer(i, n) {
  var r = [
    [i[0], i[1], 1, 0, 0, 0, -n[0] * i[0], -n[0] * i[1]],
    [0, 0, 0, i[0], i[1], 1, -n[1] * i[0], -n[1] * i[1]],
    [i[2], i[3], 1, 0, 0, 0, -n[2] * i[2], -n[2] * i[3]],
    [0, 0, 0, i[2], i[3], 1, -n[3] * i[2], -n[3] * i[3]],
    [i[4], i[5], 1, 0, 0, 0, -n[4] * i[4], -n[4] * i[5]],
    [0, 0, 0, i[4], i[5], 1, -n[5] * i[4], -n[5] * i[5]],
    [i[6], i[7], 1, 0, 0, 0, -n[6] * i[6], -n[6] * i[7]],
    [0, 0, 0, i[6], i[7], 1, -n[7] * i[6], -n[7] * i[7]]
  ], o = {}, a = determinant(r, 8, 0, 0, 0, o);
  if (a !== 0) {
    for (var u = [], c = 0; c < 8; c++)
      for (var f = 0; f < 8; f++)
        u[f] == null && (u[f] = 0), u[f] += ((c + f) % 2 ? -1 : 1) * determinant(r, 7, c === 0 ? 1 : 0, 1 << c, 1 << f, o) / a * n[c];
    return function(d, p, y) {
      var v = p * u[6] + y * u[7] + 1;
      d[0] = (p * u[0] + y * u[1] + u[2]) / v, d[1] = (p * u[3] + y * u[4] + u[5]) / v;
    };
  }
}
var EVENT_SAVED_PROP = "___zrEVENTSAVED", _calcOut$1 = [];
function transformLocalCoord(i, n, r, o, a) {
  return transformCoordWithViewport(_calcOut$1, n, o, a, !0) && transformCoordWithViewport(i, r, _calcOut$1[0], _calcOut$1[1]);
}
function transformCoordWithViewport(i, n, r, o, a) {
  if (n.getBoundingClientRect && env$1.domSupported && !isCanvasEl(n)) {
    var u = n[EVENT_SAVED_PROP] || (n[EVENT_SAVED_PROP] = {}), c = prepareCoordMarkers(n, u), f = preparePointerTransformer(c, u, a);
    if (f)
      return f(i, r, o), !0;
  }
  return !1;
}
function prepareCoordMarkers(i, n) {
  var r = n.markers;
  if (r)
    return r;
  r = n.markers = [];
  for (var o = ["left", "right"], a = ["top", "bottom"], u = 0; u < 4; u++) {
    var c = document.createElement("div"), f = c.style, d = u % 2, p = (u >> 1) % 2;
    f.cssText = [
      "position: absolute",
      "visibility: hidden",
      "padding: 0",
      "margin: 0",
      "border-width: 0",
      "user-select: none",
      "width:0",
      "height:0",
      o[d] + ":0",
      a[p] + ":0",
      o[1 - d] + ":auto",
      a[1 - p] + ":auto",
      ""
    ].join("!important;"), i.appendChild(c), r.push(c);
  }
  return r;
}
function preparePointerTransformer(i, n, r) {
  for (var o = r ? "invTrans" : "trans", a = n[o], u = n.srcCoords, c = [], f = [], d = !0, p = 0; p < 4; p++) {
    var y = i[p].getBoundingClientRect(), v = 2 * p, g = y.left, _ = y.top;
    c.push(g, _), d = d && u && g === u[v] && _ === u[v + 1], f.push(i[p].offsetLeft, i[p].offsetTop);
  }
  return d && a ? a : (n.srcCoords = c, n[o] = r ? buildTransformer(f, c) : buildTransformer(c, f));
}
function isCanvasEl(i) {
  return i.nodeName.toUpperCase() === "CANVAS";
}
var replaceReg = /([&<>"'])/g, replaceMap = {
  "&": "&amp;",
  "<": "&lt;",
  ">": "&gt;",
  '"': "&quot;",
  "'": "&#39;"
};
function encodeHTML(i) {
  return i == null ? "" : (i + "").replace(replaceReg, function(n, r) {
    return replaceMap[r];
  });
}
var MOUSE_EVENT_REG = /^(?:mouse|pointer|contextmenu|drag|drop)|click/, _calcOut = [], firefoxNotSupportOffsetXY = env$1.browser.firefox && +env$1.browser.version.split(".")[0] < 39;
function clientToLocal(i, n, r, o) {
  return r = r || {}, o ? calculateZrXY(i, n, r) : firefoxNotSupportOffsetXY && n.layerX != null && n.layerX !== n.offsetX ? (r.zrX = n.layerX, r.zrY = n.layerY) : n.offsetX != null ? (r.zrX = n.offsetX, r.zrY = n.offsetY) : calculateZrXY(i, n, r), r;
}
function calculateZrXY(i, n, r) {
  if (env$1.domSupported && i.getBoundingClientRect) {
    var o = n.clientX, a = n.clientY;
    if (isCanvasEl(i)) {
      var u = i.getBoundingClientRect();
      r.zrX = o - u.left, r.zrY = a - u.top;
      return;
    } else if (transformCoordWithViewport(_calcOut, i, o, a)) {
      r.zrX = _calcOut[0], r.zrY = _calcOut[1];
      return;
    }
  }
  r.zrX = r.zrY = 0;
}
function getNativeEvent(i) {
  return i || window.event;
}
function normalizeEvent(i, n, r) {
  if (n = getNativeEvent(n), n.zrX != null)
    return n;
  var o = n.type, a = o && o.indexOf("touch") >= 0;
  if (a) {
    var c = o !== "touchend" ? n.targetTouches[0] : n.changedTouches[0];
    c && clientToLocal(i, c, n, r);
  } else {
    clientToLocal(i, n, n, r);
    var u = getWheelDeltaMayPolyfill(n);
    n.zrDelta = u ? u / 120 : -(n.detail || 0) / 3;
  }
  var f = n.button;
  return n.which == null && f !== void 0 && MOUSE_EVENT_REG.test(n.type) && (n.which = f & 1 ? 1 : f & 2 ? 3 : f & 4 ? 2 : 0), n;
}
function getWheelDeltaMayPolyfill(i) {
  var n = i.wheelDelta;
  if (n)
    return n;
  var r = i.deltaX, o = i.deltaY;
  if (r == null || o == null)
    return n;
  var a = Math.abs(o !== 0 ? o : r), u = o > 0 ? -1 : o < 0 ? 1 : r > 0 ? -1 : 1;
  return 3 * a * u;
}
function addEventListener(i, n, r, o) {
  i.addEventListener(n, r, o);
}
function removeEventListener(i, n, r, o) {
  i.removeEventListener(n, r, o);
}
var stop = function(i) {
  i.preventDefault(), i.stopPropagation(), i.cancelBubble = !0;
}, GestureMgr = function() {
  function i() {
    this._track = [];
  }
  return i.prototype.recognize = function(n, r, o) {
    return this._doTrack(n, r, o), this._recognize(n);
  }, i.prototype.clear = function() {
    return this._track.length = 0, this;
  }, i.prototype._doTrack = function(n, r, o) {
    var a = n.touches;
    if (a) {
      for (var u = {
        points: [],
        touches: [],
        target: r,
        event: n
      }, c = 0, f = a.length; c < f; c++) {
        var d = a[c], p = clientToLocal(o, d, {});
        u.points.push([p.zrX, p.zrY]), u.touches.push(d);
      }
      this._track.push(u);
    }
  }, i.prototype._recognize = function(n) {
    for (var r in recognizers)
      if (recognizers.hasOwnProperty(r)) {
        var o = recognizers[r](this._track, n);
        if (o)
          return o;
      }
  }, i;
}();
function dist(i) {
  var n = i[1][0] - i[0][0], r = i[1][1] - i[0][1];
  return Math.sqrt(n * n + r * r);
}
function center(i) {
  return [
    (i[0][0] + i[1][0]) / 2,
    (i[0][1] + i[1][1]) / 2
  ];
}
var recognizers = {
  pinch: function(i, n) {
    var r = i.length;
    if (r) {
      var o = (i[r - 1] || {}).points, a = (i[r - 2] || {}).points || o;
      if (a && a.length > 1 && o && o.length > 1) {
        var u = dist(o) / dist(a);
        !isFinite(u) && (u = 1), n.pinchScale = u;
        var c = center(o);
        return n.pinchX = c[0], n.pinchY = c[1], {
          type: "pinch",
          target: i[0].target,
          event: n
        };
      }
    }
  }
};
function create() {
  return [1, 0, 0, 1, 0, 0];
}
function identity$1(i) {
  return i[0] = 1, i[1] = 0, i[2] = 0, i[3] = 1, i[4] = 0, i[5] = 0, i;
}
function copy(i, n) {
  return i[0] = n[0], i[1] = n[1], i[2] = n[2], i[3] = n[3], i[4] = n[4], i[5] = n[5], i;
}
function mul(i, n, r) {
  var o = n[0] * r[0] + n[2] * r[1], a = n[1] * r[0] + n[3] * r[1], u = n[0] * r[2] + n[2] * r[3], c = n[1] * r[2] + n[3] * r[3], f = n[0] * r[4] + n[2] * r[5] + n[4], d = n[1] * r[4] + n[3] * r[5] + n[5];
  return i[0] = o, i[1] = a, i[2] = u, i[3] = c, i[4] = f, i[5] = d, i;
}
function translate$1(i, n, r) {
  return i[0] = n[0], i[1] = n[1], i[2] = n[2], i[3] = n[3], i[4] = n[4] + r[0], i[5] = n[5] + r[1], i;
}
function rotate(i, n, r) {
  var o = n[0], a = n[2], u = n[4], c = n[1], f = n[3], d = n[5], p = Math.sin(r), y = Math.cos(r);
  return i[0] = o * y + c * p, i[1] = -o * p + c * y, i[2] = a * y + f * p, i[3] = -a * p + y * f, i[4] = y * u + p * d, i[5] = y * d - p * u, i;
}
function scale(i, n, r) {
  var o = r[0], a = r[1];
  return i[0] = n[0] * o, i[1] = n[1] * a, i[2] = n[2] * o, i[3] = n[3] * a, i[4] = n[4] * o, i[5] = n[5] * a, i;
}
function invert(i, n) {
  var r = n[0], o = n[2], a = n[4], u = n[1], c = n[3], f = n[5], d = r * c - u * o;
  return d ? (d = 1 / d, i[0] = c * d, i[1] = -u * d, i[2] = -o * d, i[3] = r * d, i[4] = (o * f - c * a) * d, i[5] = (u * a - r * f) * d, i) : null;
}
var Point = function() {
  function i(n, r) {
    this.x = n || 0, this.y = r || 0;
  }
  return i.prototype.copy = function(n) {
    return this.x = n.x, this.y = n.y, this;
  }, i.prototype.clone = function() {
    return new i(this.x, this.y);
  }, i.prototype.set = function(n, r) {
    return this.x = n, this.y = r, this;
  }, i.prototype.equal = function(n) {
    return n.x === this.x && n.y === this.y;
  }, i.prototype.add = function(n) {
    return this.x += n.x, this.y += n.y, this;
  }, i.prototype.scale = function(n) {
    this.x *= n, this.y *= n;
  }, i.prototype.scaleAndAdd = function(n, r) {
    this.x += n.x * r, this.y += n.y * r;
  }, i.prototype.sub = function(n) {
    return this.x -= n.x, this.y -= n.y, this;
  }, i.prototype.dot = function(n) {
    return this.x * n.x + this.y * n.y;
  }, i.prototype.len = function() {
    return Math.sqrt(this.x * this.x + this.y * this.y);
  }, i.prototype.lenSquare = function() {
    return this.x * this.x + this.y * this.y;
  }, i.prototype.normalize = function() {
    var n = this.len();
    return this.x /= n, this.y /= n, this;
  }, i.prototype.distance = function(n) {
    var r = this.x - n.x, o = this.y - n.y;
    return Math.sqrt(r * r + o * o);
  }, i.prototype.distanceSquare = function(n) {
    var r = this.x - n.x, o = this.y - n.y;
    return r * r + o * o;
  }, i.prototype.negate = function() {
    return this.x = -this.x, this.y = -this.y, this;
  }, i.prototype.transform = function(n) {
    if (n) {
      var r = this.x, o = this.y;
      return this.x = n[0] * r + n[2] * o + n[4], this.y = n[1] * r + n[3] * o + n[5], this;
    }
  }, i.prototype.toArray = function(n) {
    return n[0] = this.x, n[1] = this.y, n;
  }, i.prototype.fromArray = function(n) {
    this.x = n[0], this.y = n[1];
  }, i.set = function(n, r, o) {
    n.x = r, n.y = o;
  }, i.copy = function(n, r) {
    n.x = r.x, n.y = r.y;
  }, i.len = function(n) {
    return Math.sqrt(n.x * n.x + n.y * n.y);
  }, i.lenSquare = function(n) {
    return n.x * n.x + n.y * n.y;
  }, i.dot = function(n, r) {
    return n.x * r.x + n.y * r.y;
  }, i.add = function(n, r, o) {
    n.x = r.x + o.x, n.y = r.y + o.y;
  }, i.sub = function(n, r, o) {
    n.x = r.x - o.x, n.y = r.y - o.y;
  }, i.scale = function(n, r, o) {
    n.x = r.x * o, n.y = r.y * o;
  }, i.scaleAndAdd = function(n, r, o, a) {
    n.x = r.x + o.x * a, n.y = r.y + o.y * a;
  }, i.lerp = function(n, r, o, a) {
    var u = 1 - a;
    n.x = u * r.x + a * o.x, n.y = u * r.y + a * o.y;
  }, i;
}();
const Point$1 = Point;
var mathMin$4 = Math.min, mathMax$4 = Math.max, lt$1 = new Point$1(), rb = new Point$1(), lb = new Point$1(), rt$1 = new Point$1(), minTv$1 = new Point$1(), maxTv$1 = new Point$1(), BoundingRect = function() {
  function i(n, r, o, a) {
    o < 0 && (n = n + o, o = -o), a < 0 && (r = r + a, a = -a), this.x = n, this.y = r, this.width = o, this.height = a;
  }
  return i.prototype.union = function(n) {
    var r = mathMin$4(n.x, this.x), o = mathMin$4(n.y, this.y);
    isFinite(this.x) && isFinite(this.width) ? this.width = mathMax$4(n.x + n.width, this.x + this.width) - r : this.width = n.width, isFinite(this.y) && isFinite(this.height) ? this.height = mathMax$4(n.y + n.height, this.y + this.height) - o : this.height = n.height, this.x = r, this.y = o;
  }, i.prototype.applyTransform = function(n) {
    i.applyTransform(this, this, n);
  }, i.prototype.calculateTransform = function(n) {
    var r = this, o = n.width / r.width, a = n.height / r.height, u = create();
    return translate$1(u, u, [-r.x, -r.y]), scale(u, u, [o, a]), translate$1(u, u, [n.x, n.y]), u;
  }, i.prototype.intersect = function(n, r) {
    if (!n)
      return !1;
    n instanceof i || (n = i.create(n));
    var o = this, a = o.x, u = o.x + o.width, c = o.y, f = o.y + o.height, d = n.x, p = n.x + n.width, y = n.y, v = n.y + n.height, g = !(u < d || p < a || f < y || v < c);
    if (r) {
      var _ = 1 / 0, b = 0, A = Math.abs(u - d), w = Math.abs(p - a), S = Math.abs(f - y), T = Math.abs(v - c), x = Math.min(A, w), L = Math.min(S, T);
      u < d || p < a ? x > b && (b = x, A < w ? Point$1.set(maxTv$1, -A, 0) : Point$1.set(maxTv$1, w, 0)) : x < _ && (_ = x, A < w ? Point$1.set(minTv$1, A, 0) : Point$1.set(minTv$1, -w, 0)), f < y || v < c ? L > b && (b = L, S < T ? Point$1.set(maxTv$1, 0, -S) : Point$1.set(maxTv$1, 0, T)) : x < _ && (_ = x, S < T ? Point$1.set(minTv$1, 0, S) : Point$1.set(minTv$1, 0, -T));
    }
    return r && Point$1.copy(r, g ? minTv$1 : maxTv$1), g;
  }, i.prototype.contain = function(n, r) {
    var o = this;
    return n >= o.x && n <= o.x + o.width && r >= o.y && r <= o.y + o.height;
  }, i.prototype.clone = function() {
    return new i(this.x, this.y, this.width, this.height);
  }, i.prototype.copy = function(n) {
    i.copy(this, n);
  }, i.prototype.plain = function() {
    return {
      x: this.x,
      y: this.y,
      width: this.width,
      height: this.height
    };
  }, i.prototype.isFinite = function() {
    return isFinite(this.x) && isFinite(this.y) && isFinite(this.width) && isFinite(this.height);
  }, i.prototype.isZero = function() {
    return this.width === 0 || this.height === 0;
  }, i.create = function(n) {
    return new i(n.x, n.y, n.width, n.height);
  }, i.copy = function(n, r) {
    n.x = r.x, n.y = r.y, n.width = r.width, n.height = r.height;
  }, i.applyTransform = function(n, r, o) {
    if (!o) {
      n !== r && i.copy(n, r);
      return;
    }
    if (o[1] < 1e-5 && o[1] > -1e-5 && o[2] < 1e-5 && o[2] > -1e-5) {
      var a = o[0], u = o[3], c = o[4], f = o[5];
      n.x = r.x * a + c, n.y = r.y * u + f, n.width = r.width * a, n.height = r.height * u, n.width < 0 && (n.x += n.width, n.width = -n.width), n.height < 0 && (n.y += n.height, n.height = -n.height);
      return;
    }
    lt$1.x = lb.x = r.x, lt$1.y = rt$1.y = r.y, rb.x = rt$1.x = r.x + r.width, rb.y = lb.y = r.y + r.height, lt$1.transform(o), rt$1.transform(o), rb.transform(o), lb.transform(o), n.x = mathMin$4(lt$1.x, rb.x, lb.x, rt$1.x), n.y = mathMin$4(lt$1.y, rb.y, lb.y, rt$1.y);
    var d = mathMax$4(lt$1.x, rb.x, lb.x, rt$1.x), p = mathMax$4(lt$1.y, rb.y, lb.y, rt$1.y);
    n.width = d - n.x, n.height = p - n.y;
  }, i;
}();
const BoundingRect$1 = BoundingRect;
var SILENT = "silent";
function makeEventPacket(i, n, r) {
  return {
    type: i,
    event: r,
    target: n.target,
    topTarget: n.topTarget,
    cancelBubble: !1,
    offsetX: r.zrX,
    offsetY: r.zrY,
    gestureEvent: r.gestureEvent,
    pinchX: r.pinchX,
    pinchY: r.pinchY,
    pinchScale: r.pinchScale,
    wheelDelta: r.zrDelta,
    zrByTouch: r.zrByTouch,
    which: r.which,
    stop: stopEvent$1
  };
}
function stopEvent$1() {
  stop(this.event);
}
var EmptyProxy = function(i) {
  __extends(n, i);
  function n() {
    var r = i !== null && i.apply(this, arguments) || this;
    return r.handler = null, r;
  }
  return n.prototype.dispose = function() {
  }, n.prototype.setCursor = function() {
  }, n;
}(Eventful$1), HoveredResult = function() {
  function i(n, r) {
    this.x = n, this.y = r;
  }
  return i;
}(), handlerNames = [
  "click",
  "dblclick",
  "mousewheel",
  "mouseout",
  "mouseup",
  "mousedown",
  "mousemove",
  "contextmenu"
], tmpRect$1 = new BoundingRect$1(0, 0, 0, 0), Handler = function(i) {
  __extends(n, i);
  function n(r, o, a, u, c) {
    var f = i.call(this) || this;
    return f._hovered = new HoveredResult(0, 0), f.storage = r, f.painter = o, f.painterRoot = u, f._pointerSize = c, a = a || new EmptyProxy(), f.proxy = null, f.setHandlerProxy(a), f._draggingMgr = new Draggable$1(f), f;
  }
  return n.prototype.setHandlerProxy = function(r) {
    this.proxy && this.proxy.dispose(), r && (each$4(handlerNames, function(o) {
      r.on && r.on(o, this[o], this);
    }, this), r.handler = this), this.proxy = r;
  }, n.prototype.mousemove = function(r) {
    var o = r.zrX, a = r.zrY, u = isOutsideBoundary(this, o, a), c = this._hovered, f = c.target;
    f && !f.__zr && (c = this.findHover(c.x, c.y), f = c.target);
    var d = this._hovered = u ? new HoveredResult(o, a) : this.findHover(o, a), p = d.target, y = this.proxy;
    y.setCursor && y.setCursor(p ? p.cursor : "default"), f && p !== f && this.dispatchToElement(c, "mouseout", r), this.dispatchToElement(d, "mousemove", r), p && p !== f && this.dispatchToElement(d, "mouseover", r);
  }, n.prototype.mouseout = function(r) {
    var o = r.zrEventControl;
    o !== "only_globalout" && this.dispatchToElement(this._hovered, "mouseout", r), o !== "no_globalout" && this.trigger("globalout", { type: "globalout", event: r });
  }, n.prototype.resize = function() {
    this._hovered = new HoveredResult(0, 0);
  }, n.prototype.dispatch = function(r, o) {
    var a = this[r];
    a && a.call(this, o);
  }, n.prototype.dispose = function() {
    this.proxy.dispose(), this.storage = null, this.proxy = null, this.painter = null;
  }, n.prototype.setCursorStyle = function(r) {
    var o = this.proxy;
    o.setCursor && o.setCursor(r);
  }, n.prototype.dispatchToElement = function(r, o, a) {
    r = r || {};
    var u = r.target;
    if (!(u && u.silent)) {
      for (var c = "on" + o, f = makeEventPacket(o, r, a); u && (u[c] && (f.cancelBubble = !!u[c].call(u, f)), u.trigger(o, f), u = u.__hostTarget ? u.__hostTarget : u.parent, !f.cancelBubble); )
        ;
      f.cancelBubble || (this.trigger(o, f), this.painter && this.painter.eachOtherLayer && this.painter.eachOtherLayer(function(d) {
        typeof d[c] == "function" && d[c].call(d, f), d.trigger && d.trigger(o, f);
      }));
    }
  }, n.prototype.findHover = function(r, o, a) {
    var u = this.storage.getDisplayList(), c = new HoveredResult(r, o);
    if (setHoverTarget(u, c, r, o, a), this._pointerSize && !c.target) {
      for (var f = [], d = this._pointerSize, p = d / 2, y = new BoundingRect$1(r - p, o - p, d, d), v = u.length - 1; v >= 0; v--) {
        var g = u[v];
        g !== a && !g.ignore && !g.ignoreCoarsePointer && (!g.parent || !g.parent.ignoreCoarsePointer) && (tmpRect$1.copy(g.getBoundingRect()), g.transform && tmpRect$1.applyTransform(g.transform), tmpRect$1.intersect(y) && f.push(g));
      }
      if (f.length)
        for (var _ = 4, b = Math.PI / 12, A = Math.PI * 2, w = 0; w < p; w += _)
          for (var S = 0; S < A; S += b) {
            var T = r + w * Math.cos(S), x = o + w * Math.sin(S);
            if (setHoverTarget(f, c, T, x, a), c.target)
              return c;
          }
    }
    return c;
  }, n.prototype.processGesture = function(r, o) {
    this._gestureMgr || (this._gestureMgr = new GestureMgr());
    var a = this._gestureMgr;
    o === "start" && a.clear();
    var u = a.recognize(r, this.findHover(r.zrX, r.zrY, null).target, this.proxy.dom);
    if (o === "end" && a.clear(), u) {
      var c = u.type;
      r.gestureEvent = c;
      var f = new HoveredResult();
      f.target = u.target, this.dispatchToElement(f, c, u.event);
    }
  }, n;
}(Eventful$1);
each$4(["click", "mousedown", "mouseup", "mousewheel", "dblclick", "contextmenu"], function(i) {
  Handler.prototype[i] = function(n) {
    var r = n.zrX, o = n.zrY, a = isOutsideBoundary(this, r, o), u, c;
    if ((i !== "mouseup" || !a) && (u = this.findHover(r, o), c = u.target), i === "mousedown")
      this._downEl = c, this._downPoint = [n.zrX, n.zrY], this._upEl = c;
    else if (i === "mouseup")
      this._upEl = c;
    else if (i === "click") {
      if (this._downEl !== this._upEl || !this._downPoint || dist$1(this._downPoint, [n.zrX, n.zrY]) > 4)
        return;
      this._downPoint = null;
    }
    this.dispatchToElement(u, i, n);
  };
});
function isHover(i, n, r) {
  if (i[i.rectHover ? "rectContain" : "contain"](n, r)) {
    for (var o = i, a = void 0, u = !1; o; ) {
      if (o.ignoreClip && (u = !0), !u) {
        var c = o.getClipPath();
        if (c && !c.contain(n, r))
          return !1;
        o.silent && (a = !0);
      }
      var f = o.__hostTarget;
      o = f || o.parent;
    }
    return a ? SILENT : !0;
  }
  return !1;
}
function setHoverTarget(i, n, r, o, a) {
  for (var u = i.length - 1; u >= 0; u--) {
    var c = i[u], f = void 0;
    if (c !== a && !c.ignore && (f = isHover(c, r, o)) && (!n.topTarget && (n.topTarget = c), f !== SILENT)) {
      n.target = c;
      break;
    }
  }
}
function isOutsideBoundary(i, n, r) {
  var o = i.painter;
  return n < 0 || n > o.getWidth() || r < 0 || r > o.getHeight();
}
const Handler$1 = Handler;
var DEFAULT_MIN_MERGE = 32, DEFAULT_MIN_GALLOPING = 7;
function minRunLength(i) {
  for (var n = 0; i >= DEFAULT_MIN_MERGE; )
    n |= i & 1, i >>= 1;
  return i + n;
}
function makeAscendingRun(i, n, r, o) {
  var a = n + 1;
  if (a === r)
    return 1;
  if (o(i[a++], i[n]) < 0) {
    for (; a < r && o(i[a], i[a - 1]) < 0; )
      a++;
    reverseRun(i, n, a);
  } else
    for (; a < r && o(i[a], i[a - 1]) >= 0; )
      a++;
  return a - n;
}
function reverseRun(i, n, r) {
  for (r--; n < r; ) {
    var o = i[n];
    i[n++] = i[r], i[r--] = o;
  }
}
function binaryInsertionSort(i, n, r, o, a) {
  for (o === n && o++; o < r; o++) {
    for (var u = i[o], c = n, f = o, d; c < f; )
      d = c + f >>> 1, a(u, i[d]) < 0 ? f = d : c = d + 1;
    var p = o - c;
    switch (p) {
      case 3:
        i[c + 3] = i[c + 2];
      case 2:
        i[c + 2] = i[c + 1];
      case 1:
        i[c + 1] = i[c];
        break;
      default:
        for (; p > 0; )
          i[c + p] = i[c + p - 1], p--;
    }
    i[c] = u;
  }
}
function gallopLeft(i, n, r, o, a, u) {
  var c = 0, f = 0, d = 1;
  if (u(i, n[r + a]) > 0) {
    for (f = o - a; d < f && u(i, n[r + a + d]) > 0; )
      c = d, d = (d << 1) + 1, d <= 0 && (d = f);
    d > f && (d = f), c += a, d += a;
  } else {
    for (f = a + 1; d < f && u(i, n[r + a - d]) <= 0; )
      c = d, d = (d << 1) + 1, d <= 0 && (d = f);
    d > f && (d = f);
    var p = c;
    c = a - d, d = a - p;
  }
  for (c++; c < d; ) {
    var y = c + (d - c >>> 1);
    u(i, n[r + y]) > 0 ? c = y + 1 : d = y;
  }
  return d;
}
function gallopRight(i, n, r, o, a, u) {
  var c = 0, f = 0, d = 1;
  if (u(i, n[r + a]) < 0) {
    for (f = a + 1; d < f && u(i, n[r + a - d]) < 0; )
      c = d, d = (d << 1) + 1, d <= 0 && (d = f);
    d > f && (d = f);
    var p = c;
    c = a - d, d = a - p;
  } else {
    for (f = o - a; d < f && u(i, n[r + a + d]) >= 0; )
      c = d, d = (d << 1) + 1, d <= 0 && (d = f);
    d > f && (d = f), c += a, d += a;
  }
  for (c++; c < d; ) {
    var y = c + (d - c >>> 1);
    u(i, n[r + y]) < 0 ? d = y : c = y + 1;
  }
  return d;
}
function TimSort(i, n) {
  var r = DEFAULT_MIN_GALLOPING, o, a, u = 0;
  i.length;
  var c = [];
  o = [], a = [];
  function f(_, b) {
    o[u] = _, a[u] = b, u += 1;
  }
  function d() {
    for (; u > 1; ) {
      var _ = u - 2;
      if (_ >= 1 && a[_ - 1] <= a[_] + a[_ + 1] || _ >= 2 && a[_ - 2] <= a[_] + a[_ - 1])
        a[_ - 1] < a[_ + 1] && _--;
      else if (a[_] > a[_ + 1])
        break;
      y(_);
    }
  }
  function p() {
    for (; u > 1; ) {
      var _ = u - 2;
      _ > 0 && a[_ - 1] < a[_ + 1] && _--, y(_);
    }
  }
  function y(_) {
    var b = o[_], A = a[_], w = o[_ + 1], S = a[_ + 1];
    a[_] = A + S, _ === u - 3 && (o[_ + 1] = o[_ + 2], a[_ + 1] = a[_ + 2]), u--;
    var T = gallopRight(i[w], i, b, A, 0, n);
    b += T, A -= T, A !== 0 && (S = gallopLeft(i[b + A - 1], i, w, S, S - 1, n), S !== 0 && (A <= S ? v(b, A, w, S) : g(b, A, w, S)));
  }
  function v(_, b, A, w) {
    var S = 0;
    for (S = 0; S < b; S++)
      c[S] = i[_ + S];
    var T = 0, x = A, L = _;
    if (i[L++] = i[x++], --w === 0) {
      for (S = 0; S < b; S++)
        i[L + S] = c[T + S];
      return;
    }
    if (b === 1) {
      for (S = 0; S < w; S++)
        i[L + S] = i[x + S];
      i[L + w] = c[T];
      return;
    }
    for (var k = r, M, O, ie; ; ) {
      M = 0, O = 0, ie = !1;
      do
        if (n(i[x], c[T]) < 0) {
          if (i[L++] = i[x++], O++, M = 0, --w === 0) {
            ie = !0;
            break;
          }
        } else if (i[L++] = c[T++], M++, O = 0, --b === 1) {
          ie = !0;
          break;
        }
      while ((M | O) < k);
      if (ie)
        break;
      do {
        if (M = gallopRight(i[x], c, T, b, 0, n), M !== 0) {
          for (S = 0; S < M; S++)
            i[L + S] = c[T + S];
          if (L += M, T += M, b -= M, b <= 1) {
            ie = !0;
            break;
          }
        }
        if (i[L++] = i[x++], --w === 0) {
          ie = !0;
          break;
        }
        if (O = gallopLeft(c[T], i, x, w, 0, n), O !== 0) {
          for (S = 0; S < O; S++)
            i[L + S] = i[x + S];
          if (L += O, x += O, w -= O, w === 0) {
            ie = !0;
            break;
          }
        }
        if (i[L++] = c[T++], --b === 1) {
          ie = !0;
          break;
        }
        k--;
      } while (M >= DEFAULT_MIN_GALLOPING || O >= DEFAULT_MIN_GALLOPING);
      if (ie)
        break;
      k < 0 && (k = 0), k += 2;
    }
    if (r = k, r < 1 && (r = 1), b === 1) {
      for (S = 0; S < w; S++)
        i[L + S] = i[x + S];
      i[L + w] = c[T];
    } else {
      if (b === 0)
        throw new Error();
      for (S = 0; S < b; S++)
        i[L + S] = c[T + S];
    }
  }
  function g(_, b, A, w) {
    var S = 0;
    for (S = 0; S < w; S++)
      c[S] = i[A + S];
    var T = _ + b - 1, x = w - 1, L = A + w - 1, k = 0, M = 0;
    if (i[L--] = i[T--], --b === 0) {
      for (k = L - (w - 1), S = 0; S < w; S++)
        i[k + S] = c[S];
      return;
    }
    if (w === 1) {
      for (L -= b, T -= b, M = L + 1, k = T + 1, S = b - 1; S >= 0; S--)
        i[M + S] = i[k + S];
      i[L] = c[x];
      return;
    }
    for (var O = r; ; ) {
      var ie = 0, F = 0, j = !1;
      do
        if (n(c[x], i[T]) < 0) {
          if (i[L--] = i[T--], ie++, F = 0, --b === 0) {
            j = !0;
            break;
          }
        } else if (i[L--] = c[x--], F++, ie = 0, --w === 1) {
          j = !0;
          break;
        }
      while ((ie | F) < O);
      if (j)
        break;
      do {
        if (ie = b - gallopRight(c[x], i, _, b, b - 1, n), ie !== 0) {
          for (L -= ie, T -= ie, b -= ie, M = L + 1, k = T + 1, S = ie - 1; S >= 0; S--)
            i[M + S] = i[k + S];
          if (b === 0) {
            j = !0;
            break;
          }
        }
        if (i[L--] = c[x--], --w === 1) {
          j = !0;
          break;
        }
        if (F = w - gallopLeft(i[T], c, 0, w, w - 1, n), F !== 0) {
          for (L -= F, x -= F, w -= F, M = L + 1, k = x + 1, S = 0; S < F; S++)
            i[M + S] = c[k + S];
          if (w <= 1) {
            j = !0;
            break;
          }
        }
        if (i[L--] = i[T--], --b === 0) {
          j = !0;
          break;
        }
        O--;
      } while (ie >= DEFAULT_MIN_GALLOPING || F >= DEFAULT_MIN_GALLOPING);
      if (j)
        break;
      O < 0 && (O = 0), O += 2;
    }
    if (r = O, r < 1 && (r = 1), w === 1) {
      for (L -= b, T -= b, M = L + 1, k = T + 1, S = b - 1; S >= 0; S--)
        i[M + S] = i[k + S];
      i[L] = c[x];
    } else {
      if (w === 0)
        throw new Error();
      for (k = L - (w - 1), S = 0; S < w; S++)
        i[k + S] = c[S];
    }
  }
  return {
    mergeRuns: d,
    forceMergeRuns: p,
    pushRun: f
  };
}
function sort(i, n, r, o) {
  r || (r = 0), o || (o = i.length);
  var a = o - r;
  if (!(a < 2)) {
    var u = 0;
    if (a < DEFAULT_MIN_MERGE) {
      u = makeAscendingRun(i, r, o, n), binaryInsertionSort(i, r, o, r + u, n);
      return;
    }
    var c = TimSort(i, n), f = minRunLength(a);
    do {
      if (u = makeAscendingRun(i, r, o, n), u < f) {
        var d = a;
        d > f && (d = f), binaryInsertionSort(i, r, r + d, r + u, n), u = d;
      }
      c.pushRun(r, u), c.mergeRuns(), a -= u, r += u;
    } while (a !== 0);
    c.forceMergeRuns();
  }
}
var REDRAW_BIT = 1, STYLE_CHANGED_BIT = 2, SHAPE_CHANGED_BIT = 4, invalidZErrorLogged = !1;
function logInvalidZError() {
  invalidZErrorLogged || (invalidZErrorLogged = !0, console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"));
}
function shapeCompareFunc(i, n) {
  return i.zlevel === n.zlevel ? i.z === n.z ? i.z2 - n.z2 : i.z - n.z : i.zlevel - n.zlevel;
}
var Storage = function() {
  function i() {
    this._roots = [], this._displayList = [], this._displayListLen = 0, this.displayableSortFunc = shapeCompareFunc;
  }
  return i.prototype.traverse = function(n, r) {
    for (var o = 0; o < this._roots.length; o++)
      this._roots[o].traverse(n, r);
  }, i.prototype.getDisplayList = function(n, r) {
    r = r || !1;
    var o = this._displayList;
    return (n || !o.length) && this.updateDisplayList(r), o;
  }, i.prototype.updateDisplayList = function(n) {
    this._displayListLen = 0;
    for (var r = this._roots, o = this._displayList, a = 0, u = r.length; a < u; a++)
      this._updateAndAddDisplayable(r[a], null, n);
    o.length = this._displayListLen, sort(o, shapeCompareFunc);
  }, i.prototype._updateAndAddDisplayable = function(n, r, o) {
    if (!(n.ignore && !o)) {
      n.beforeUpdate(), n.update(), n.afterUpdate();
      var a = n.getClipPath();
      if (n.ignoreClip)
        r = null;
      else if (a) {
        r ? r = r.slice() : r = [];
        for (var u = a, c = n; u; )
          u.parent = c, u.updateTransform(), r.push(u), c = u, u = u.getClipPath();
      }
      if (n.childrenRef) {
        for (var f = n.childrenRef(), d = 0; d < f.length; d++) {
          var p = f[d];
          n.__dirty && (p.__dirty |= REDRAW_BIT), this._updateAndAddDisplayable(p, r, o);
        }
        n.__dirty = 0;
      } else {
        var y = n;
        r && r.length ? y.__clipPaths = r : y.__clipPaths && y.__clipPaths.length > 0 && (y.__clipPaths = []), isNaN(y.z) && (logInvalidZError(), y.z = 0), isNaN(y.z2) && (logInvalidZError(), y.z2 = 0), isNaN(y.zlevel) && (logInvalidZError(), y.zlevel = 0), this._displayList[this._displayListLen++] = y;
      }
      var v = n.getDecalElement && n.getDecalElement();
      v && this._updateAndAddDisplayable(v, r, o);
      var g = n.getTextGuideLine();
      g && this._updateAndAddDisplayable(g, r, o);
      var _ = n.getTextContent();
      _ && this._updateAndAddDisplayable(_, r, o);
    }
  }, i.prototype.addRoot = function(n) {
    n.__zr && n.__zr.storage === this || this._roots.push(n);
  }, i.prototype.delRoot = function(n) {
    if (n instanceof Array) {
      for (var r = 0, o = n.length; r < o; r++)
        this.delRoot(n[r]);
      return;
    }
    var a = indexOf(this._roots, n);
    a >= 0 && this._roots.splice(a, 1);
  }, i.prototype.delAllRoots = function() {
    this._roots = [], this._displayList = [], this._displayListLen = 0;
  }, i.prototype.getRoots = function() {
    return this._roots;
  }, i.prototype.dispose = function() {
    this._displayList = null, this._roots = null;
  }, i;
}();
const Storage$1 = Storage;
var requestAnimationFrame$2;
requestAnimationFrame$2 = env$1.hasGlobalWindow && (window.requestAnimationFrame && window.requestAnimationFrame.bind(window) || window.msRequestAnimationFrame && window.msRequestAnimationFrame.bind(window) || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame) || function(i) {
  return setTimeout(i, 16);
};
const requestAnimationFrame$3 = requestAnimationFrame$2;
var easingFuncs = {
  linear: function(i) {
    return i;
  },
  quadraticIn: function(i) {
    return i * i;
  },
  quadraticOut: function(i) {
    return i * (2 - i);
  },
  quadraticInOut: function(i) {
    return (i *= 2) < 1 ? 0.5 * i * i : -0.5 * (--i * (i - 2) - 1);
  },
  cubicIn: function(i) {
    return i * i * i;
  },
  cubicOut: function(i) {
    return --i * i * i + 1;
  },
  cubicInOut: function(i) {
    return (i *= 2) < 1 ? 0.5 * i * i * i : 0.5 * ((i -= 2) * i * i + 2);
  },
  quarticIn: function(i) {
    return i * i * i * i;
  },
  quarticOut: function(i) {
    return 1 - --i * i * i * i;
  },
  quarticInOut: function(i) {
    return (i *= 2) < 1 ? 0.5 * i * i * i * i : -0.5 * ((i -= 2) * i * i * i - 2);
  },
  quinticIn: function(i) {
    return i * i * i * i * i;
  },
  quinticOut: function(i) {
    return --i * i * i * i * i + 1;
  },
  quinticInOut: function(i) {
    return (i *= 2) < 1 ? 0.5 * i * i * i * i * i : 0.5 * ((i -= 2) * i * i * i * i + 2);
  },
  sinusoidalIn: function(i) {
    return 1 - Math.cos(i * Math.PI / 2);
  },
  sinusoidalOut: function(i) {
    return Math.sin(i * Math.PI / 2);
  },
  sinusoidalInOut: function(i) {
    return 0.5 * (1 - Math.cos(Math.PI * i));
  },
  exponentialIn: function(i) {
    return i === 0 ? 0 : Math.pow(1024, i - 1);
  },
  exponentialOut: function(i) {
    return i === 1 ? 1 : 1 - Math.pow(2, -10 * i);
  },
  exponentialInOut: function(i) {
    return i === 0 ? 0 : i === 1 ? 1 : (i *= 2) < 1 ? 0.5 * Math.pow(1024, i - 1) : 0.5 * (-Math.pow(2, -10 * (i - 1)) + 2);
  },
  circularIn: function(i) {
    return 1 - Math.sqrt(1 - i * i);
  },
  circularOut: function(i) {
    return Math.sqrt(1 - --i * i);
  },
  circularInOut: function(i) {
    return (i *= 2) < 1 ? -0.5 * (Math.sqrt(1 - i * i) - 1) : 0.5 * (Math.sqrt(1 - (i -= 2) * i) + 1);
  },
  elasticIn: function(i) {
    var n, r = 0.1, o = 0.4;
    return i === 0 ? 0 : i === 1 ? 1 : (!r || r < 1 ? (r = 1, n = o / 4) : n = o * Math.asin(1 / r) / (2 * Math.PI), -(r * Math.pow(2, 10 * (i -= 1)) * Math.sin((i - n) * (2 * Math.PI) / o)));
  },
  elasticOut: function(i) {
    var n, r = 0.1, o = 0.4;
    return i === 0 ? 0 : i === 1 ? 1 : (!r || r < 1 ? (r = 1, n = o / 4) : n = o * Math.asin(1 / r) / (2 * Math.PI), r * Math.pow(2, -10 * i) * Math.sin((i - n) * (2 * Math.PI) / o) + 1);
  },
  elasticInOut: function(i) {
    var n, r = 0.1, o = 0.4;
    return i === 0 ? 0 : i === 1 ? 1 : (!r || r < 1 ? (r = 1, n = o / 4) : n = o * Math.asin(1 / r) / (2 * Math.PI), (i *= 2) < 1 ? -0.5 * (r * Math.pow(2, 10 * (i -= 1)) * Math.sin((i - n) * (2 * Math.PI) / o)) : r * Math.pow(2, -10 * (i -= 1)) * Math.sin((i - n) * (2 * Math.PI) / o) * 0.5 + 1);
  },
  backIn: function(i) {
    var n = 1.70158;
    return i * i * ((n + 1) * i - n);
  },
  backOut: function(i) {
    var n = 1.70158;
    return --i * i * ((n + 1) * i + n) + 1;
  },
  backInOut: function(i) {
    var n = 2.5949095;
    return (i *= 2) < 1 ? 0.5 * (i * i * ((n + 1) * i - n)) : 0.5 * ((i -= 2) * i * ((n + 1) * i + n) + 2);
  },
  bounceIn: function(i) {
    return 1 - easingFuncs.bounceOut(1 - i);
  },
  bounceOut: function(i) {
    return i < 1 / 2.75 ? 7.5625 * i * i : i < 2 / 2.75 ? 7.5625 * (i -= 1.5 / 2.75) * i + 0.75 : i < 2.5 / 2.75 ? 7.5625 * (i -= 2.25 / 2.75) * i + 0.9375 : 7.5625 * (i -= 2.625 / 2.75) * i + 0.984375;
  },
  bounceInOut: function(i) {
    return i < 0.5 ? easingFuncs.bounceIn(i * 2) * 0.5 : easingFuncs.bounceOut(i * 2 - 1) * 0.5 + 0.5;
  }
};
const easingFuncs$1 = easingFuncs;
var mathPow = Math.pow, mathSqrt$3 = Math.sqrt, EPSILON$3 = 1e-8, EPSILON_NUMERIC = 1e-4, THREE_SQRT = mathSqrt$3(3), ONE_THIRD = 1 / 3, _v0 = create$1(), _v1 = create$1(), _v2 = create$1();
function isAroundZero$1(i) {
  return i > -EPSILON$3 && i < EPSILON$3;
}
function isNotAroundZero$1(i) {
  return i > EPSILON$3 || i < -EPSILON$3;
}
function cubicAt(i, n, r, o, a) {
  var u = 1 - a;
  return u * u * (u * i + 3 * a * n) + a * a * (a * o + 3 * u * r);
}
function cubicDerivativeAt(i, n, r, o, a) {
  var u = 1 - a;
  return 3 * (((n - i) * u + 2 * (r - n) * a) * u + (o - r) * a * a);
}
function cubicRootAt(i, n, r, o, a, u) {
  var c = o + 3 * (n - r) - i, f = 3 * (r - n * 2 + i), d = 3 * (n - i), p = i - a, y = f * f - 3 * c * d, v = f * d - 9 * c * p, g = d * d - 3 * f * p, _ = 0;
  if (isAroundZero$1(y) && isAroundZero$1(v))
    if (isAroundZero$1(f))
      u[0] = 0;
    else {
      var b = -d / f;
      b >= 0 && b <= 1 && (u[_++] = b);
    }
  else {
    var A = v * v - 4 * y * g;
    if (isAroundZero$1(A)) {
      var w = v / y, b = -f / c + w, S = -w / 2;
      b >= 0 && b <= 1 && (u[_++] = b), S >= 0 && S <= 1 && (u[_++] = S);
    } else if (A > 0) {
      var T = mathSqrt$3(A), x = y * f + 1.5 * c * (-v + T), L = y * f + 1.5 * c * (-v - T);
      x < 0 ? x = -mathPow(-x, ONE_THIRD) : x = mathPow(x, ONE_THIRD), L < 0 ? L = -mathPow(-L, ONE_THIRD) : L = mathPow(L, ONE_THIRD);
      var b = (-f - (x + L)) / (3 * c);
      b >= 0 && b <= 1 && (u[_++] = b);
    } else {
      var k = (2 * y * f - 3 * c * v) / (2 * mathSqrt$3(y * y * y)), M = Math.acos(k) / 3, O = mathSqrt$3(y), ie = Math.cos(M), b = (-f - 2 * O * ie) / (3 * c), S = (-f + O * (ie + THREE_SQRT * Math.sin(M))) / (3 * c), F = (-f + O * (ie - THREE_SQRT * Math.sin(M))) / (3 * c);
      b >= 0 && b <= 1 && (u[_++] = b), S >= 0 && S <= 1 && (u[_++] = S), F >= 0 && F <= 1 && (u[_++] = F);
    }
  }
  return _;
}
function cubicExtrema(i, n, r, o, a) {
  var u = 6 * r - 12 * n + 6 * i, c = 9 * n + 3 * o - 3 * i - 9 * r, f = 3 * n - 3 * i, d = 0;
  if (isAroundZero$1(c)) {
    if (isNotAroundZero$1(u)) {
      var p = -f / u;
      p >= 0 && p <= 1 && (a[d++] = p);
    }
  } else {
    var y = u * u - 4 * c * f;
    if (isAroundZero$1(y))
      a[0] = -u / (2 * c);
    else if (y > 0) {
      var v = mathSqrt$3(y), p = (-u + v) / (2 * c), g = (-u - v) / (2 * c);
      p >= 0 && p <= 1 && (a[d++] = p), g >= 0 && g <= 1 && (a[d++] = g);
    }
  }
  return d;
}
function cubicSubdivide(i, n, r, o, a, u) {
  var c = (n - i) * a + i, f = (r - n) * a + n, d = (o - r) * a + r, p = (f - c) * a + c, y = (d - f) * a + f, v = (y - p) * a + p;
  u[0] = i, u[1] = c, u[2] = p, u[3] = v, u[4] = v, u[5] = y, u[6] = d, u[7] = o;
}
function cubicProjectPoint(i, n, r, o, a, u, c, f, d, p, y) {
  var v, g = 5e-3, _ = 1 / 0, b, A, w, S;
  _v0[0] = d, _v0[1] = p;
  for (var T = 0; T < 1; T += 0.05)
    _v1[0] = cubicAt(i, r, a, c, T), _v1[1] = cubicAt(n, o, u, f, T), w = distSquare(_v0, _v1), w < _ && (v = T, _ = w);
  _ = 1 / 0;
  for (var x = 0; x < 32 && !(g < EPSILON_NUMERIC); x++)
    b = v - g, A = v + g, _v1[0] = cubicAt(i, r, a, c, b), _v1[1] = cubicAt(n, o, u, f, b), w = distSquare(_v1, _v0), b >= 0 && w < _ ? (v = b, _ = w) : (_v2[0] = cubicAt(i, r, a, c, A), _v2[1] = cubicAt(n, o, u, f, A), S = distSquare(_v2, _v0), A <= 1 && S < _ ? (v = A, _ = S) : g *= 0.5);
  return y && (y[0] = cubicAt(i, r, a, c, v), y[1] = cubicAt(n, o, u, f, v)), mathSqrt$3(_);
}
function cubicLength(i, n, r, o, a, u, c, f, d) {
  for (var p = i, y = n, v = 0, g = 1 / d, _ = 1; _ <= d; _++) {
    var b = _ * g, A = cubicAt(i, r, a, c, b), w = cubicAt(n, o, u, f, b), S = A - p, T = w - y;
    v += Math.sqrt(S * S + T * T), p = A, y = w;
  }
  return v;
}
function quadraticAt(i, n, r, o) {
  var a = 1 - o;
  return a * (a * i + 2 * o * n) + o * o * r;
}
function quadraticDerivativeAt(i, n, r, o) {
  return 2 * ((1 - o) * (n - i) + o * (r - n));
}
function quadraticRootAt(i, n, r, o, a) {
  var u = i - 2 * n + r, c = 2 * (n - i), f = i - o, d = 0;
  if (isAroundZero$1(u)) {
    if (isNotAroundZero$1(c)) {
      var p = -f / c;
      p >= 0 && p <= 1 && (a[d++] = p);
    }
  } else {
    var y = c * c - 4 * u * f;
    if (isAroundZero$1(y)) {
      var p = -c / (2 * u);
      p >= 0 && p <= 1 && (a[d++] = p);
    } else if (y > 0) {
      var v = mathSqrt$3(y), p = (-c + v) / (2 * u), g = (-c - v) / (2 * u);
      p >= 0 && p <= 1 && (a[d++] = p), g >= 0 && g <= 1 && (a[d++] = g);
    }
  }
  return d;
}
function quadraticExtremum(i, n, r) {
  var o = i + r - 2 * n;
  return o === 0 ? 0.5 : (i - n) / o;
}
function quadraticSubdivide(i, n, r, o, a) {
  var u = (n - i) * o + i, c = (r - n) * o + n, f = (c - u) * o + u;
  a[0] = i, a[1] = u, a[2] = f, a[3] = f, a[4] = c, a[5] = r;
}
function quadraticProjectPoint(i, n, r, o, a, u, c, f, d) {
  var p, y = 5e-3, v = 1 / 0;
  _v0[0] = c, _v0[1] = f;
  for (var g = 0; g < 1; g += 0.05) {
    _v1[0] = quadraticAt(i, r, a, g), _v1[1] = quadraticAt(n, o, u, g);
    var _ = distSquare(_v0, _v1);
    _ < v && (p = g, v = _);
  }
  v = 1 / 0;
  for (var b = 0; b < 32 && !(y < EPSILON_NUMERIC); b++) {
    var A = p - y, w = p + y;
    _v1[0] = quadraticAt(i, r, a, A), _v1[1] = quadraticAt(n, o, u, A);
    var _ = distSquare(_v1, _v0);
    if (A >= 0 && _ < v)
      p = A, v = _;
    else {
      _v2[0] = quadraticAt(i, r, a, w), _v2[1] = quadraticAt(n, o, u, w);
      var S = distSquare(_v2, _v0);
      w <= 1 && S < v ? (p = w, v = S) : y *= 0.5;
    }
  }
  return d && (d[0] = quadraticAt(i, r, a, p), d[1] = quadraticAt(n, o, u, p)), mathSqrt$3(v);
}
function quadraticLength(i, n, r, o, a, u, c) {
  for (var f = i, d = n, p = 0, y = 1 / c, v = 1; v <= c; v++) {
    var g = v * y, _ = quadraticAt(i, r, a, g), b = quadraticAt(n, o, u, g), A = _ - f, w = b - d;
    p += Math.sqrt(A * A + w * w), f = _, d = b;
  }
  return p;
}
var regexp$1 = /cubic-bezier\(([0-9,\.e ]+)\)/;
function createCubicEasingFunc(i) {
  var n = i && regexp$1.exec(i);
  if (n) {
    var r = n[1].split(","), o = +trim(r[0]), a = +trim(r[1]), u = +trim(r[2]), c = +trim(r[3]);
    if (isNaN(o + a + u + c))
      return;
    var f = [];
    return function(d) {
      return d <= 0 ? 0 : d >= 1 ? 1 : cubicRootAt(0, o, u, 1, d, f) && cubicAt(0, a, c, 1, f[0]);
    };
  }
}
var Clip = function() {
  function i(n) {
    this._inited = !1, this._startTime = 0, this._pausedTime = 0, this._paused = !1, this._life = n.life || 1e3, this._delay = n.delay || 0, this.loop = n.loop || !1, this.onframe = n.onframe || noop$1, this.ondestroy = n.ondestroy || noop$1, this.onrestart = n.onrestart || noop$1, n.easing && this.setEasing(n.easing);
  }
  return i.prototype.step = function(n, r) {
    if (this._inited || (this._startTime = n + this._delay, this._inited = !0), this._paused) {
      this._pausedTime += r;
      return;
    }
    var o = this._life, a = n - this._startTime - this._pausedTime, u = a / o;
    u < 0 && (u = 0), u = Math.min(u, 1);
    var c = this.easingFunc, f = c ? c(u) : u;
    if (this.onframe(f), u === 1)
      if (this.loop) {
        var d = a % o;
        this._startTime = n - d, this._pausedTime = 0, this.onrestart();
      } else
        return !0;
    return !1;
  }, i.prototype.pause = function() {
    this._paused = !0;
  }, i.prototype.resume = function() {
    this._paused = !1;
  }, i.prototype.setEasing = function(n) {
    this.easing = n, this.easingFunc = isFunction$1(n) ? n : easingFuncs$1[n] || createCubicEasingFunc(n);
  }, i;
}();
const Clip$1 = Clip;
var Entry = function() {
  function i(n) {
    this.value = n;
  }
  return i;
}(), LinkedList = function() {
  function i() {
    this._len = 0;
  }
  return i.prototype.insert = function(n) {
    var r = new Entry(n);
    return this.insertEntry(r), r;
  }, i.prototype.insertEntry = function(n) {
    this.head ? (this.tail.next = n, n.prev = this.tail, n.next = null, this.tail = n) : this.head = this.tail = n, this._len++;
  }, i.prototype.remove = function(n) {
    var r = n.prev, o = n.next;
    r ? r.next = o : this.head = o, o ? o.prev = r : this.tail = r, n.next = n.prev = null, this._len--;
  }, i.prototype.len = function() {
    return this._len;
  }, i.prototype.clear = function() {
    this.head = this.tail = null, this._len = 0;
  }, i;
}(), LRU = function() {
  function i(n) {
    this._list = new LinkedList(), this._maxSize = 10, this._map = {}, this._maxSize = n;
  }
  return i.prototype.put = function(n, r) {
    var o = this._list, a = this._map, u = null;
    if (a[n] == null) {
      var c = o.len(), f = this._lastRemovedEntry;
      if (c >= this._maxSize && c > 0) {
        var d = o.head;
        o.remove(d), delete a[d.key], u = d.value, this._lastRemovedEntry = d;
      }
      f ? f.value = r : f = new Entry(r), f.key = n, o.insertEntry(f), a[n] = f;
    }
    return u;
  }, i.prototype.get = function(n) {
    var r = this._map[n], o = this._list;
    if (r != null)
      return r !== o.tail && (o.remove(r), o.insertEntry(r)), r.value;
  }, i.prototype.clear = function() {
    this._list.clear(), this._map = {};
  }, i.prototype.len = function() {
    return this._list.len();
  }, i;
}();
const LRU$1 = LRU;
var kCSSColorTable = {
  transparent: [0, 0, 0, 0],
  aliceblue: [240, 248, 255, 1],
  antiquewhite: [250, 235, 215, 1],
  aqua: [0, 255, 255, 1],
  aquamarine: [127, 255, 212, 1],
  azure: [240, 255, 255, 1],
  beige: [245, 245, 220, 1],
  bisque: [255, 228, 196, 1],
  black: [0, 0, 0, 1],
  blanchedalmond: [255, 235, 205, 1],
  blue: [0, 0, 255, 1],
  blueviolet: [138, 43, 226, 1],
  brown: [165, 42, 42, 1],
  burlywood: [222, 184, 135, 1],
  cadetblue: [95, 158, 160, 1],
  chartreuse: [127, 255, 0, 1],
  chocolate: [210, 105, 30, 1],
  coral: [255, 127, 80, 1],
  cornflowerblue: [100, 149, 237, 1],
  cornsilk: [255, 248, 220, 1],
  crimson: [220, 20, 60, 1],
  cyan: [0, 255, 255, 1],
  darkblue: [0, 0, 139, 1],
  darkcyan: [0, 139, 139, 1],
  darkgoldenrod: [184, 134, 11, 1],
  darkgray: [169, 169, 169, 1],
  darkgreen: [0, 100, 0, 1],
  darkgrey: [169, 169, 169, 1],
  darkkhaki: [189, 183, 107, 1],
  darkmagenta: [139, 0, 139, 1],
  darkolivegreen: [85, 107, 47, 1],
  darkorange: [255, 140, 0, 1],
  darkorchid: [153, 50, 204, 1],
  darkred: [139, 0, 0, 1],
  darksalmon: [233, 150, 122, 1],
  darkseagreen: [143, 188, 143, 1],
  darkslateblue: [72, 61, 139, 1],
  darkslategray: [47, 79, 79, 1],
  darkslategrey: [47, 79, 79, 1],
  darkturquoise: [0, 206, 209, 1],
  darkviolet: [148, 0, 211, 1],
  deeppink: [255, 20, 147, 1],
  deepskyblue: [0, 191, 255, 1],
  dimgray: [105, 105, 105, 1],
  dimgrey: [105, 105, 105, 1],
  dodgerblue: [30, 144, 255, 1],
  firebrick: [178, 34, 34, 1],
  floralwhite: [255, 250, 240, 1],
  forestgreen: [34, 139, 34, 1],
  fuchsia: [255, 0, 255, 1],
  gainsboro: [220, 220, 220, 1],
  ghostwhite: [248, 248, 255, 1],
  gold: [255, 215, 0, 1],
  goldenrod: [218, 165, 32, 1],
  gray: [128, 128, 128, 1],
  green: [0, 128, 0, 1],
  greenyellow: [173, 255, 47, 1],
  grey: [128, 128, 128, 1],
  honeydew: [240, 255, 240, 1],
  hotpink: [255, 105, 180, 1],
  indianred: [205, 92, 92, 1],
  indigo: [75, 0, 130, 1],
  ivory: [255, 255, 240, 1],
  khaki: [240, 230, 140, 1],
  lavender: [230, 230, 250, 1],
  lavenderblush: [255, 240, 245, 1],
  lawngreen: [124, 252, 0, 1],
  lemonchiffon: [255, 250, 205, 1],
  lightblue: [173, 216, 230, 1],
  lightcoral: [240, 128, 128, 1],
  lightcyan: [224, 255, 255, 1],
  lightgoldenrodyellow: [250, 250, 210, 1],
  lightgray: [211, 211, 211, 1],
  lightgreen: [144, 238, 144, 1],
  lightgrey: [211, 211, 211, 1],
  lightpink: [255, 182, 193, 1],
  lightsalmon: [255, 160, 122, 1],
  lightseagreen: [32, 178, 170, 1],
  lightskyblue: [135, 206, 250, 1],
  lightslategray: [119, 136, 153, 1],
  lightslategrey: [119, 136, 153, 1],
  lightsteelblue: [176, 196, 222, 1],
  lightyellow: [255, 255, 224, 1],
  lime: [0, 255, 0, 1],
  limegreen: [50, 205, 50, 1],
  linen: [250, 240, 230, 1],
  magenta: [255, 0, 255, 1],
  maroon: [128, 0, 0, 1],
  mediumaquamarine: [102, 205, 170, 1],
  mediumblue: [0, 0, 205, 1],
  mediumorchid: [186, 85, 211, 1],
  mediumpurple: [147, 112, 219, 1],
  mediumseagreen: [60, 179, 113, 1],
  mediumslateblue: [123, 104, 238, 1],
  mediumspringgreen: [0, 250, 154, 1],
  mediumturquoise: [72, 209, 204, 1],
  mediumvioletred: [199, 21, 133, 1],
  midnightblue: [25, 25, 112, 1],
  mintcream: [245, 255, 250, 1],
  mistyrose: [255, 228, 225, 1],
  moccasin: [255, 228, 181, 1],
  navajowhite: [255, 222, 173, 1],
  navy: [0, 0, 128, 1],
  oldlace: [253, 245, 230, 1],
  olive: [128, 128, 0, 1],
  olivedrab: [107, 142, 35, 1],
  orange: [255, 165, 0, 1],
  orangered: [255, 69, 0, 1],
  orchid: [218, 112, 214, 1],
  palegoldenrod: [238, 232, 170, 1],
  palegreen: [152, 251, 152, 1],
  paleturquoise: [175, 238, 238, 1],
  palevioletred: [219, 112, 147, 1],
  papayawhip: [255, 239, 213, 1],
  peachpuff: [255, 218, 185, 1],
  peru: [205, 133, 63, 1],
  pink: [255, 192, 203, 1],
  plum: [221, 160, 221, 1],
  powderblue: [176, 224, 230, 1],
  purple: [128, 0, 128, 1],
  red: [255, 0, 0, 1],
  rosybrown: [188, 143, 143, 1],
  royalblue: [65, 105, 225, 1],
  saddlebrown: [139, 69, 19, 1],
  salmon: [250, 128, 114, 1],
  sandybrown: [244, 164, 96, 1],
  seagreen: [46, 139, 87, 1],
  seashell: [255, 245, 238, 1],
  sienna: [160, 82, 45, 1],
  silver: [192, 192, 192, 1],
  skyblue: [135, 206, 235, 1],
  slateblue: [106, 90, 205, 1],
  slategray: [112, 128, 144, 1],
  slategrey: [112, 128, 144, 1],
  snow: [255, 250, 250, 1],
  springgreen: [0, 255, 127, 1],
  steelblue: [70, 130, 180, 1],
  tan: [210, 180, 140, 1],
  teal: [0, 128, 128, 1],
  thistle: [216, 191, 216, 1],
  tomato: [255, 99, 71, 1],
  turquoise: [64, 224, 208, 1],
  violet: [238, 130, 238, 1],
  wheat: [245, 222, 179, 1],
  white: [255, 255, 255, 1],
  whitesmoke: [245, 245, 245, 1],
  yellow: [255, 255, 0, 1],
  yellowgreen: [154, 205, 50, 1]
};
function clampCssByte(i) {
  return i = Math.round(i), i < 0 ? 0 : i > 255 ? 255 : i;
}
function clampCssFloat(i) {
  return i < 0 ? 0 : i > 1 ? 1 : i;
}
function parseCssInt(i) {
  var n = i;
  return n.length && n.charAt(n.length - 1) === "%" ? clampCssByte(parseFloat(n) / 100 * 255) : clampCssByte(parseInt(n, 10));
}
function parseCssFloat(i) {
  var n = i;
  return n.length && n.charAt(n.length - 1) === "%" ? clampCssFloat(parseFloat(n) / 100) : clampCssFloat(parseFloat(n));
}
function cssHueToRgb(i, n, r) {
  return r < 0 ? r += 1 : r > 1 && (r -= 1), r * 6 < 1 ? i + (n - i) * r * 6 : r * 2 < 1 ? n : r * 3 < 2 ? i + (n - i) * (2 / 3 - r) * 6 : i;
}
function setRgba(i, n, r, o, a) {
  return i[0] = n, i[1] = r, i[2] = o, i[3] = a, i;
}
function copyRgba(i, n) {
  return i[0] = n[0], i[1] = n[1], i[2] = n[2], i[3] = n[3], i;
}
var colorCache = new LRU$1(20), lastRemovedArr = null;
function putToCache(i, n) {
  lastRemovedArr && copyRgba(lastRemovedArr, n), lastRemovedArr = colorCache.put(i, lastRemovedArr || n.slice());
}
function parse(i, n) {
  if (i) {
    n = n || [];
    var r = colorCache.get(i);
    if (r)
      return copyRgba(n, r);
    i = i + "";
    var o = i.replace(/ /g, "").toLowerCase();
    if (o in kCSSColorTable)
      return copyRgba(n, kCSSColorTable[o]), putToCache(i, n), n;
    var a = o.length;
    if (o.charAt(0) === "#") {
      if (a === 4 || a === 5) {
        var u = parseInt(o.slice(1, 4), 16);
        if (!(u >= 0 && u <= 4095)) {
          setRgba(n, 0, 0, 0, 1);
          return;
        }
        return setRgba(n, (u & 3840) >> 4 | (u & 3840) >> 8, u & 240 | (u & 240) >> 4, u & 15 | (u & 15) << 4, a === 5 ? parseInt(o.slice(4), 16) / 15 : 1), putToCache(i, n), n;
      } else if (a === 7 || a === 9) {
        var u = parseInt(o.slice(1, 7), 16);
        if (!(u >= 0 && u <= 16777215)) {
          setRgba(n, 0, 0, 0, 1);
          return;
        }
        return setRgba(n, (u & 16711680) >> 16, (u & 65280) >> 8, u & 255, a === 9 ? parseInt(o.slice(7), 16) / 255 : 1), putToCache(i, n), n;
      }
      return;
    }
    var c = o.indexOf("("), f = o.indexOf(")");
    if (c !== -1 && f + 1 === a) {
      var d = o.substr(0, c), p = o.substr(c + 1, f - (c + 1)).split(","), y = 1;
      switch (d) {
        case "rgba":
          if (p.length !== 4)
            return p.length === 3 ? setRgba(n, +p[0], +p[1], +p[2], 1) : setRgba(n, 0, 0, 0, 1);
          y = parseCssFloat(p.pop());
        case "rgb":
          if (p.length >= 3)
            return setRgba(n, parseCssInt(p[0]), parseCssInt(p[1]), parseCssInt(p[2]), p.length === 3 ? y : parseCssFloat(p[3])), putToCache(i, n), n;
          setRgba(n, 0, 0, 0, 1);
          return;
        case "hsla":
          if (p.length !== 4) {
            setRgba(n, 0, 0, 0, 1);
            return;
          }
          return p[3] = parseCssFloat(p[3]), hsla2rgba(p, n), putToCache(i, n), n;
        case "hsl":
          if (p.length !== 3) {
            setRgba(n, 0, 0, 0, 1);
            return;
          }
          return hsla2rgba(p, n), putToCache(i, n), n;
        default:
          return;
      }
    }
    setRgba(n, 0, 0, 0, 1);
  }
}
function hsla2rgba(i, n) {
  var r = (parseFloat(i[0]) % 360 + 360) % 360 / 360, o = parseCssFloat(i[1]), a = parseCssFloat(i[2]), u = a <= 0.5 ? a * (o + 1) : a + o - a * o, c = a * 2 - u;
  return n = n || [], setRgba(n, clampCssByte(cssHueToRgb(c, u, r + 1 / 3) * 255), clampCssByte(cssHueToRgb(c, u, r) * 255), clampCssByte(cssHueToRgb(c, u, r - 1 / 3) * 255), 1), i.length === 4 && (n[3] = i[3]), n;
}
function lift(i, n) {
  var r = parse(i);
  if (r) {
    for (var o = 0; o < 3; o++)
      n < 0 ? r[o] = r[o] * (1 - n) | 0 : r[o] = (255 - r[o]) * n + r[o] | 0, r[o] > 255 ? r[o] = 255 : r[o] < 0 && (r[o] = 0);
    return stringify(r, r.length === 4 ? "rgba" : "rgb");
  }
}
function stringify(i, n) {
  if (!(!i || !i.length)) {
    var r = i[0] + "," + i[1] + "," + i[2];
    return (n === "rgba" || n === "hsva" || n === "hsla") && (r += "," + i[3]), n + "(" + r + ")";
  }
}
function lum(i, n) {
  var r = parse(i);
  return r ? (0.299 * r[0] + 0.587 * r[1] + 0.114 * r[2]) * r[3] / 255 + (1 - r[3]) * n : 0;
}
var mathRound$1 = Math.round;
function normalizeColor(i) {
  var n;
  if (!i || i === "transparent")
    i = "none";
  else if (typeof i == "string" && i.indexOf("rgba") > -1) {
    var r = parse(i);
    r && (i = "rgb(" + r[0] + "," + r[1] + "," + r[2] + ")", n = r[3]);
  }
  return {
    color: i,
    opacity: n ?? 1
  };
}
var EPSILON$2 = 1e-4;
function isAroundZero(i) {
  return i < EPSILON$2 && i > -EPSILON$2;
}
function round3(i) {
  return mathRound$1(i * 1e3) / 1e3;
}
function round4(i) {
  return mathRound$1(i * 1e4) / 1e4;
}
function getMatrixStr(i) {
  return "matrix(" + round3(i[0]) + "," + round3(i[1]) + "," + round3(i[2]) + "," + round3(i[3]) + "," + round4(i[4]) + "," + round4(i[5]) + ")";
}
var TEXT_ALIGN_TO_ANCHOR = {
  left: "start",
  right: "end",
  center: "middle",
  middle: "middle"
};
function adjustTextY$1(i, n, r) {
  return r === "top" ? i += n / 2 : r === "bottom" && (i -= n / 2), i;
}
function hasShadow(i) {
  return i && (i.shadowBlur || i.shadowOffsetX || i.shadowOffsetY);
}
function getShadowKey(i) {
  var n = i.style, r = i.getGlobalScale();
  return [
    n.shadowColor,
    (n.shadowBlur || 0).toFixed(2),
    (n.shadowOffsetX || 0).toFixed(2),
    (n.shadowOffsetY || 0).toFixed(2),
    r[0],
    r[1]
  ].join(",");
}
function isImagePattern(i) {
  return i && !!i.image;
}
function isSVGPattern(i) {
  return i && !!i.svgElement;
}
function isPattern(i) {
  return isImagePattern(i) || isSVGPattern(i);
}
function isLinearGradient(i) {
  return i.type === "linear";
}
function isRadialGradient(i) {
  return i.type === "radial";
}
function isGradient(i) {
  return i && (i.type === "linear" || i.type === "radial");
}
function getIdURL(i) {
  return "url(#" + i + ")";
}
function getPathPrecision(i) {
  var n = i.getGlobalScale(), r = Math.max(n[0], n[1]);
  return Math.max(Math.ceil(Math.log(r) / Math.log(10)), 1);
}
function getSRTTransformString(i) {
  var n = i.x || 0, r = i.y || 0, o = (i.rotation || 0) * RADIAN_TO_DEGREE, a = retrieve2(i.scaleX, 1), u = retrieve2(i.scaleY, 1), c = i.skewX || 0, f = i.skewY || 0, d = [];
  return (n || r) && d.push("translate(" + n + "px," + r + "px)"), o && d.push("rotate(" + o + ")"), (a !== 1 || u !== 1) && d.push("scale(" + a + "," + u + ")"), (c || f) && d.push("skew(" + mathRound$1(c * RADIAN_TO_DEGREE) + "deg, " + mathRound$1(f * RADIAN_TO_DEGREE) + "deg)"), d.join(" ");
}
var encodeBase64 = function() {
  return env$1.hasGlobalWindow && isFunction$1(window.btoa) ? function(i) {
    return window.btoa(unescape(encodeURIComponent(i)));
  } : typeof Buffer < "u" ? function(i) {
    return Buffer.from(i).toString("base64");
  } : function(i) {
    return process.env.NODE_ENV !== "production" && logError("Base64 isn't natively supported in the current environment."), null;
  };
}(), arraySlice = Array.prototype.slice;
function interpolateNumber(i, n, r) {
  return (n - i) * r + i;
}
function interpolate1DArray(i, n, r, o) {
  for (var a = n.length, u = 0; u < a; u++)
    i[u] = interpolateNumber(n[u], r[u], o);
  return i;
}
function interpolate2DArray(i, n, r, o) {
  for (var a = n.length, u = a && n[0].length, c = 0; c < a; c++) {
    i[c] || (i[c] = []);
    for (var f = 0; f < u; f++)
      i[c][f] = interpolateNumber(n[c][f], r[c][f], o);
  }
  return i;
}
function add1DArray(i, n, r, o) {
  for (var a = n.length, u = 0; u < a; u++)
    i[u] = n[u] + r[u] * o;
  return i;
}
function add2DArray(i, n, r, o) {
  for (var a = n.length, u = a && n[0].length, c = 0; c < a; c++) {
    i[c] || (i[c] = []);
    for (var f = 0; f < u; f++)
      i[c][f] = n[c][f] + r[c][f] * o;
  }
  return i;
}
function fillColorStops(i, n) {
  for (var r = i.length, o = n.length, a = r > o ? n : i, u = Math.min(r, o), c = a[u - 1] || { color: [0, 0, 0, 0], offset: 0 }, f = u; f < Math.max(r, o); f++)
    a.push({
      offset: c.offset,
      color: c.color.slice()
    });
}
function fillArray(i, n, r) {
  var o = i, a = n;
  if (!(!o.push || !a.push)) {
    var u = o.length, c = a.length;
    if (u !== c) {
      var f = u > c;
      if (f)
        o.length = c;
      else
        for (var d = u; d < c; d++)
          o.push(r === 1 ? a[d] : arraySlice.call(a[d]));
    }
    for (var p = o[0] && o[0].length, d = 0; d < o.length; d++)
      if (r === 1)
        isNaN(o[d]) && (o[d] = a[d]);
      else
        for (var y = 0; y < p; y++)
          isNaN(o[d][y]) && (o[d][y] = a[d][y]);
  }
}
function cloneValue(i) {
  if (isArrayLike(i)) {
    var n = i.length;
    if (isArrayLike(i[0])) {
      for (var r = [], o = 0; o < n; o++)
        r.push(arraySlice.call(i[o]));
      return r;
    }
    return arraySlice.call(i);
  }
  return i;
}
function rgba2String(i) {
  return i[0] = Math.floor(i[0]) || 0, i[1] = Math.floor(i[1]) || 0, i[2] = Math.floor(i[2]) || 0, i[3] = i[3] == null ? 1 : i[3], "rgba(" + i.join(",") + ")";
}
function guessArrayDim(i) {
  return isArrayLike(i && i[0]) ? 2 : 1;
}
var VALUE_TYPE_NUMBER = 0, VALUE_TYPE_1D_ARRAY = 1, VALUE_TYPE_2D_ARRAY = 2, VALUE_TYPE_COLOR = 3, VALUE_TYPE_LINEAR_GRADIENT = 4, VALUE_TYPE_RADIAL_GRADIENT = 5, VALUE_TYPE_UNKOWN = 6;
function isGradientValueType(i) {
  return i === VALUE_TYPE_LINEAR_GRADIENT || i === VALUE_TYPE_RADIAL_GRADIENT;
}
function isArrayValueType(i) {
  return i === VALUE_TYPE_1D_ARRAY || i === VALUE_TYPE_2D_ARRAY;
}
var tmpRgba = [0, 0, 0, 0], Track = function() {
  function i(n) {
    this.keyframes = [], this.discrete = !1, this._invalid = !1, this._needsSort = !1, this._lastFr = 0, this._lastFrP = 0, this.propName = n;
  }
  return i.prototype.isFinished = function() {
    return this._finished;
  }, i.prototype.setFinished = function() {
    this._finished = !0, this._additiveTrack && this._additiveTrack.setFinished();
  }, i.prototype.needsAnimate = function() {
    return this.keyframes.length >= 1;
  }, i.prototype.getAdditiveTrack = function() {
    return this._additiveTrack;
  }, i.prototype.addKeyframe = function(n, r, o) {
    this._needsSort = !0;
    var a = this.keyframes, u = a.length, c = !1, f = VALUE_TYPE_UNKOWN, d = r;
    if (isArrayLike(r)) {
      var p = guessArrayDim(r);
      f = p, (p === 1 && !isNumber$1(r[0]) || p === 2 && !isNumber$1(r[0][0])) && (c = !0);
    } else if (isNumber$1(r) && !eqNaN(r))
      f = VALUE_TYPE_NUMBER;
    else if (isString$2(r))
      if (!isNaN(+r))
        f = VALUE_TYPE_NUMBER;
      else {
        var y = parse(r);
        y && (d = y, f = VALUE_TYPE_COLOR);
      }
    else if (isGradientObject(r)) {
      var v = extend({}, d);
      v.colorStops = map$1(r.colorStops, function(_) {
        return {
          offset: _.offset,
          color: parse(_.color)
        };
      }), isLinearGradient(r) ? f = VALUE_TYPE_LINEAR_GRADIENT : isRadialGradient(r) && (f = VALUE_TYPE_RADIAL_GRADIENT), d = v;
    }
    u === 0 ? this.valType = f : (f !== this.valType || f === VALUE_TYPE_UNKOWN) && (c = !0), this.discrete = this.discrete || c;
    var g = {
      time: n,
      value: d,
      rawValue: r,
      percent: 0
    };
    return o && (g.easing = o, g.easingFunc = isFunction$1(o) ? o : easingFuncs$1[o] || createCubicEasingFunc(o)), a.push(g), g;
  }, i.prototype.prepare = function(n, r) {
    var o = this.keyframes;
    this._needsSort && o.sort(function(A, w) {
      return A.time - w.time;
    });
    for (var a = this.valType, u = o.length, c = o[u - 1], f = this.discrete, d = isArrayValueType(a), p = isGradientValueType(a), y = 0; y < u; y++) {
      var v = o[y], g = v.value, _ = c.value;
      v.percent = v.time / n, f || (d && y !== u - 1 ? fillArray(g, _, a) : p && fillColorStops(g.colorStops, _.colorStops));
    }
    if (!f && a !== VALUE_TYPE_RADIAL_GRADIENT && r && this.needsAnimate() && r.needsAnimate() && a === r.valType && !r._finished) {
      this._additiveTrack = r;
      for (var b = o[0].value, y = 0; y < u; y++)
        a === VALUE_TYPE_NUMBER ? o[y].additiveValue = o[y].value - b : a === VALUE_TYPE_COLOR ? o[y].additiveValue = add1DArray([], o[y].value, b, -1) : isArrayValueType(a) && (o[y].additiveValue = a === VALUE_TYPE_1D_ARRAY ? add1DArray([], o[y].value, b, -1) : add2DArray([], o[y].value, b, -1));
    }
  }, i.prototype.step = function(n, r) {
    if (!this._finished) {
      this._additiveTrack && this._additiveTrack._finished && (this._additiveTrack = null);
      var o = this._additiveTrack != null, a = o ? "additiveValue" : "value", u = this.valType, c = this.keyframes, f = c.length, d = this.propName, p = u === VALUE_TYPE_COLOR, y, v = this._lastFr, g = Math.min, _, b;
      if (f === 1)
        _ = b = c[0];
      else {
        if (r < 0)
          y = 0;
        else if (r < this._lastFrP) {
          var A = g(v + 1, f - 1);
          for (y = A; y >= 0 && !(c[y].percent <= r); y--)
            ;
          y = g(y, f - 2);
        } else {
          for (y = v; y < f && !(c[y].percent > r); y++)
            ;
          y = g(y - 1, f - 2);
        }
        b = c[y + 1], _ = c[y];
      }
      if (_ && b) {
        this._lastFr = y, this._lastFrP = r;
        var w = b.percent - _.percent, S = w === 0 ? 1 : g((r - _.percent) / w, 1);
        b.easingFunc && (S = b.easingFunc(S));
        var T = o ? this._additiveValue : p ? tmpRgba : n[d];
        if ((isArrayValueType(u) || p) && !T && (T = this._additiveValue = []), this.discrete)
          n[d] = S < 1 ? _.rawValue : b.rawValue;
        else if (isArrayValueType(u))
          u === VALUE_TYPE_1D_ARRAY ? interpolate1DArray(T, _[a], b[a], S) : interpolate2DArray(T, _[a], b[a], S);
        else if (isGradientValueType(u)) {
          var x = _[a], L = b[a], k = u === VALUE_TYPE_LINEAR_GRADIENT;
          n[d] = {
            type: k ? "linear" : "radial",
            x: interpolateNumber(x.x, L.x, S),
            y: interpolateNumber(x.y, L.y, S),
            colorStops: map$1(x.colorStops, function(O, ie) {
              var F = L.colorStops[ie];
              return {
                offset: interpolateNumber(O.offset, F.offset, S),
                color: rgba2String(interpolate1DArray([], O.color, F.color, S))
              };
            }),
            global: L.global
          }, k ? (n[d].x2 = interpolateNumber(x.x2, L.x2, S), n[d].y2 = interpolateNumber(x.y2, L.y2, S)) : n[d].r = interpolateNumber(x.r, L.r, S);
        } else if (p)
          interpolate1DArray(T, _[a], b[a], S), o || (n[d] = rgba2String(T));
        else {
          var M = interpolateNumber(_[a], b[a], S);
          o ? this._additiveValue = M : n[d] = M;
        }
        o && this._addToTarget(n);
      }
    }
  }, i.prototype._addToTarget = function(n) {
    var r = this.valType, o = this.propName, a = this._additiveValue;
    r === VALUE_TYPE_NUMBER ? n[o] = n[o] + a : r === VALUE_TYPE_COLOR ? (parse(n[o], tmpRgba), add1DArray(tmpRgba, tmpRgba, a, 1), n[o] = rgba2String(tmpRgba)) : r === VALUE_TYPE_1D_ARRAY ? add1DArray(n[o], n[o], a, 1) : r === VALUE_TYPE_2D_ARRAY && add2DArray(n[o], n[o], a, 1);
  }, i;
}(), Animator = function() {
  function i(n, r, o, a) {
    if (this._tracks = {}, this._trackKeys = [], this._maxTime = 0, this._started = 0, this._clip = null, this._target = n, this._loop = r, r && a) {
      logError("Can' use additive animation on looped animation.");
      return;
    }
    this._additiveAnimators = a, this._allowDiscrete = o;
  }
  return i.prototype.getMaxTime = function() {
    return this._maxTime;
  }, i.prototype.getDelay = function() {
    return this._delay;
  }, i.prototype.getLoop = function() {
    return this._loop;
  }, i.prototype.getTarget = function() {
    return this._target;
  }, i.prototype.changeTarget = function(n) {
    this._target = n;
  }, i.prototype.when = function(n, r, o) {
    return this.whenWithKeys(n, r, keys(r), o);
  }, i.prototype.whenWithKeys = function(n, r, o, a) {
    for (var u = this._tracks, c = 0; c < o.length; c++) {
      var f = o[c], d = u[f];
      if (!d) {
        d = u[f] = new Track(f);
        var p = void 0, y = this._getAdditiveTrack(f);
        if (y) {
          var v = y.keyframes, g = v[v.length - 1];
          p = g && g.value, y.valType === VALUE_TYPE_COLOR && p && (p = rgba2String(p));
        } else
          p = this._target[f];
        if (p == null)
          continue;
        n > 0 && d.addKeyframe(0, cloneValue(p), a), this._trackKeys.push(f);
      }
      d.addKeyframe(n, cloneValue(r[f]), a);
    }
    return this._maxTime = Math.max(this._maxTime, n), this;
  }, i.prototype.pause = function() {
    this._clip.pause(), this._paused = !0;
  }, i.prototype.resume = function() {
    this._clip.resume(), this._paused = !1;
  }, i.prototype.isPaused = function() {
    return !!this._paused;
  }, i.prototype.duration = function(n) {
    return this._maxTime = n, this._force = !0, this;
  }, i.prototype._doneCallback = function() {
    this._setTracksFinished(), this._clip = null;
    var n = this._doneCbs;
    if (n)
      for (var r = n.length, o = 0; o < r; o++)
        n[o].call(this);
  }, i.prototype._abortedCallback = function() {
    this._setTracksFinished();
    var n = this.animation, r = this._abortedCbs;
    if (n && n.removeClip(this._clip), this._clip = null, r)
      for (var o = 0; o < r.length; o++)
        r[o].call(this);
  }, i.prototype._setTracksFinished = function() {
    for (var n = this._tracks, r = this._trackKeys, o = 0; o < r.length; o++)
      n[r[o]].setFinished();
  }, i.prototype._getAdditiveTrack = function(n) {
    var r, o = this._additiveAnimators;
    if (o)
      for (var a = 0; a < o.length; a++) {
        var u = o[a].getTrack(n);
        u && (r = u);
      }
    return r;
  }, i.prototype.start = function(n) {
    if (!(this._started > 0)) {
      this._started = 1;
      for (var r = this, o = [], a = this._maxTime || 0, u = 0; u < this._trackKeys.length; u++) {
        var c = this._trackKeys[u], f = this._tracks[c], d = this._getAdditiveTrack(c), p = f.keyframes, y = p.length;
        if (f.prepare(a, d), f.needsAnimate())
          if (!this._allowDiscrete && f.discrete) {
            var v = p[y - 1];
            v && (r._target[f.propName] = v.rawValue), f.setFinished();
          } else
            o.push(f);
      }
      if (o.length || this._force) {
        var g = new Clip$1({
          life: a,
          loop: this._loop,
          delay: this._delay || 0,
          onframe: function(_) {
            r._started = 2;
            var b = r._additiveAnimators;
            if (b) {
              for (var A = !1, w = 0; w < b.length; w++)
                if (b[w]._clip) {
                  A = !0;
                  break;
                }
              A || (r._additiveAnimators = null);
            }
            for (var w = 0; w < o.length; w++)
              o[w].step(r._target, _);
            var S = r._onframeCbs;
            if (S)
              for (var w = 0; w < S.length; w++)
                S[w](r._target, _);
          },
          ondestroy: function() {
            r._doneCallback();
          }
        });
        this._clip = g, this.animation && this.animation.addClip(g), n && g.setEasing(n);
      } else
        this._doneCallback();
      return this;
    }
  }, i.prototype.stop = function(n) {
    if (this._clip) {
      var r = this._clip;
      n && r.onframe(1), this._abortedCallback();
    }
  }, i.prototype.delay = function(n) {
    return this._delay = n, this;
  }, i.prototype.during = function(n) {
    return n && (this._onframeCbs || (this._onframeCbs = []), this._onframeCbs.push(n)), this;
  }, i.prototype.done = function(n) {
    return n && (this._doneCbs || (this._doneCbs = []), this._doneCbs.push(n)), this;
  }, i.prototype.aborted = function(n) {
    return n && (this._abortedCbs || (this._abortedCbs = []), this._abortedCbs.push(n)), this;
  }, i.prototype.getClip = function() {
    return this._clip;
  }, i.prototype.getTrack = function(n) {
    return this._tracks[n];
  }, i.prototype.getTracks = function() {
    var n = this;
    return map$1(this._trackKeys, function(r) {
      return n._tracks[r];
    });
  }, i.prototype.stopTracks = function(n, r) {
    if (!n.length || !this._clip)
      return !0;
    for (var o = this._tracks, a = this._trackKeys, u = 0; u < n.length; u++) {
      var c = o[n[u]];
      c && !c.isFinished() && (r ? c.step(this._target, 1) : this._started === 1 && c.step(this._target, 0), c.setFinished());
    }
    for (var f = !0, u = 0; u < a.length; u++)
      if (!o[a[u]].isFinished()) {
        f = !1;
        break;
      }
    return f && this._abortedCallback(), f;
  }, i.prototype.saveTo = function(n, r, o) {
    if (n) {
      r = r || this._trackKeys;
      for (var a = 0; a < r.length; a++) {
        var u = r[a], c = this._tracks[u];
        if (!(!c || c.isFinished())) {
          var f = c.keyframes, d = f[o ? 0 : f.length - 1];
          d && (n[u] = cloneValue(d.rawValue));
        }
      }
    }
  }, i.prototype.__changeFinalValue = function(n, r) {
    r = r || keys(n);
    for (var o = 0; o < r.length; o++) {
      var a = r[o], u = this._tracks[a];
      if (u) {
        var c = u.keyframes;
        if (c.length > 1) {
          var f = c.pop();
          u.addKeyframe(f.time, n[a]), u.prepare(this._maxTime, u.getAdditiveTrack());
        }
      }
    }
  }, i;
}();
const Animator$1 = Animator;
function getTime() {
  return (/* @__PURE__ */ new Date()).getTime();
}
var Animation = function(i) {
  __extends(n, i);
  function n(r) {
    var o = i.call(this) || this;
    return o._running = !1, o._time = 0, o._pausedTime = 0, o._pauseStart = 0, o._paused = !1, r = r || {}, o.stage = r.stage || {}, o;
  }
  return n.prototype.addClip = function(r) {
    r.animation && this.removeClip(r), this._head ? (this._tail.next = r, r.prev = this._tail, r.next = null, this._tail = r) : this._head = this._tail = r, r.animation = this;
  }, n.prototype.addAnimator = function(r) {
    r.animation = this;
    var o = r.getClip();
    o && this.addClip(o);
  }, n.prototype.removeClip = function(r) {
    if (r.animation) {
      var o = r.prev, a = r.next;
      o ? o.next = a : this._head = a, a ? a.prev = o : this._tail = o, r.next = r.prev = r.animation = null;
    }
  }, n.prototype.removeAnimator = function(r) {
    var o = r.getClip();
    o && this.removeClip(o), r.animation = null;
  }, n.prototype.update = function(r) {
    for (var o = getTime() - this._pausedTime, a = o - this._time, u = this._head; u; ) {
      var c = u.next, f = u.step(o, a);
      f && (u.ondestroy(), this.removeClip(u)), u = c;
    }
    this._time = o, r || (this.trigger("frame", a), this.stage.update && this.stage.update());
  }, n.prototype._startLoop = function() {
    var r = this;
    this._running = !0;
    function o() {
      r._running && (requestAnimationFrame$3(o), !r._paused && r.update());
    }
    requestAnimationFrame$3(o);
  }, n.prototype.start = function() {
    this._running || (this._time = getTime(), this._pausedTime = 0, this._startLoop());
  }, n.prototype.stop = function() {
    this._running = !1;
  }, n.prototype.pause = function() {
    this._paused || (this._pauseStart = getTime(), this._paused = !0);
  }, n.prototype.resume = function() {
    this._paused && (this._pausedTime += getTime() - this._pauseStart, this._paused = !1);
  }, n.prototype.clear = function() {
    for (var r = this._head; r; ) {
      var o = r.next;
      r.prev = r.next = r.animation = null, r = o;
    }
    this._head = this._tail = null;
  }, n.prototype.isFinished = function() {
    return this._head == null;
  }, n.prototype.animate = function(r, o) {
    o = o || {}, this.start();
    var a = new Animator$1(r, o.loop);
    return this.addAnimator(a), a;
  }, n;
}(Eventful$1);
const Animation$1 = Animation;
var TOUCH_CLICK_DELAY = 300, globalEventSupported = env$1.domSupported, localNativeListenerNames = function() {
  var i = [
    "click",
    "dblclick",
    "mousewheel",
    "wheel",
    "mouseout",
    "mouseup",
    "mousedown",
    "mousemove",
    "contextmenu"
  ], n = [
    "touchstart",
    "touchend",
    "touchmove"
  ], r = {
    pointerdown: 1,
    pointerup: 1,
    pointermove: 1,
    pointerout: 1
  }, o = map$1(i, function(a) {
    var u = a.replace("mouse", "pointer");
    return r.hasOwnProperty(u) ? u : a;
  });
  return {
    mouse: i,
    touch: n,
    pointer: o
  };
}(), globalNativeListenerNames = {
  mouse: ["mousemove", "mouseup"],
  pointer: ["pointermove", "pointerup"]
}, wheelEventSupported = !1;
function isPointerFromTouch(i) {
  var n = i.pointerType;
  return n === "pen" || n === "touch";
}
function setTouchTimer(i) {
  i.touching = !0, i.touchTimer != null && (clearTimeout(i.touchTimer), i.touchTimer = null), i.touchTimer = setTimeout(function() {
    i.touching = !1, i.touchTimer = null;
  }, 700);
}
function markTouch(i) {
  i && (i.zrByTouch = !0);
}
function normalizeGlobalEvent(i, n) {
  return normalizeEvent(i.dom, new FakeGlobalEvent(i, n), !0);
}
function isLocalEl(i, n) {
  for (var r = n, o = !1; r && r.nodeType !== 9 && !(o = r.domBelongToZr || r !== n && r === i.painterRoot); )
    r = r.parentNode;
  return o;
}
var FakeGlobalEvent = function() {
  function i(n, r) {
    this.stopPropagation = noop$1, this.stopImmediatePropagation = noop$1, this.preventDefault = noop$1, this.type = r.type, this.target = this.currentTarget = n.dom, this.pointerType = r.pointerType, this.clientX = r.clientX, this.clientY = r.clientY;
  }
  return i;
}(), localDOMHandlers = {
  mousedown: function(i) {
    i = normalizeEvent(this.dom, i), this.__mayPointerCapture = [i.zrX, i.zrY], this.trigger("mousedown", i);
  },
  mousemove: function(i) {
    i = normalizeEvent(this.dom, i);
    var n = this.__mayPointerCapture;
    n && (i.zrX !== n[0] || i.zrY !== n[1]) && this.__togglePointerCapture(!0), this.trigger("mousemove", i);
  },
  mouseup: function(i) {
    i = normalizeEvent(this.dom, i), this.__togglePointerCapture(!1), this.trigger("mouseup", i);
  },
  mouseout: function(i) {
    i = normalizeEvent(this.dom, i);
    var n = i.toElement || i.relatedTarget;
    isLocalEl(this, n) || (this.__pointerCapturing && (i.zrEventControl = "no_globalout"), this.trigger("mouseout", i));
  },
  wheel: function(i) {
    wheelEventSupported = !0, i = normalizeEvent(this.dom, i), this.trigger("mousewheel", i);
  },
  mousewheel: function(i) {
    wheelEventSupported || (i = normalizeEvent(this.dom, i), this.trigger("mousewheel", i));
  },
  touchstart: function(i) {
    i = normalizeEvent(this.dom, i), markTouch(i), this.__lastTouchMoment = /* @__PURE__ */ new Date(), this.handler.processGesture(i, "start"), localDOMHandlers.mousemove.call(this, i), localDOMHandlers.mousedown.call(this, i);
  },
  touchmove: function(i) {
    i = normalizeEvent(this.dom, i), markTouch(i), this.handler.processGesture(i, "change"), localDOMHandlers.mousemove.call(this, i);
  },
  touchend: function(i) {
    i = normalizeEvent(this.dom, i), markTouch(i), this.handler.processGesture(i, "end"), localDOMHandlers.mouseup.call(this, i), +/* @__PURE__ */ new Date() - +this.__lastTouchMoment < TOUCH_CLICK_DELAY && localDOMHandlers.click.call(this, i);
  },
  pointerdown: function(i) {
    localDOMHandlers.mousedown.call(this, i);
  },
  pointermove: function(i) {
    isPointerFromTouch(i) || localDOMHandlers.mousemove.call(this, i);
  },
  pointerup: function(i) {
    localDOMHandlers.mouseup.call(this, i);
  },
  pointerout: function(i) {
    isPointerFromTouch(i) || localDOMHandlers.mouseout.call(this, i);
  }
};
each$4(["click", "dblclick", "contextmenu"], function(i) {
  localDOMHandlers[i] = function(n) {
    n = normalizeEvent(this.dom, n), this.trigger(i, n);
  };
});
var globalDOMHandlers = {
  pointermove: function(i) {
    isPointerFromTouch(i) || globalDOMHandlers.mousemove.call(this, i);
  },
  pointerup: function(i) {
    globalDOMHandlers.mouseup.call(this, i);
  },
  mousemove: function(i) {
    this.trigger("mousemove", i);
  },
  mouseup: function(i) {
    var n = this.__pointerCapturing;
    this.__togglePointerCapture(!1), this.trigger("mouseup", i), n && (i.zrEventControl = "only_globalout", this.trigger("mouseout", i));
  }
};
function mountLocalDOMEventListeners(i, n) {
  var r = n.domHandlers;
  env$1.pointerEventsSupported ? each$4(localNativeListenerNames.pointer, function(o) {
    mountSingleDOMEventListener(n, o, function(a) {
      r[o].call(i, a);
    });
  }) : (env$1.touchEventsSupported && each$4(localNativeListenerNames.touch, function(o) {
    mountSingleDOMEventListener(n, o, function(a) {
      r[o].call(i, a), setTouchTimer(n);
    });
  }), each$4(localNativeListenerNames.mouse, function(o) {
    mountSingleDOMEventListener(n, o, function(a) {
      a = getNativeEvent(a), n.touching || r[o].call(i, a);
    });
  }));
}
function mountGlobalDOMEventListeners(i, n) {
  env$1.pointerEventsSupported ? each$4(globalNativeListenerNames.pointer, r) : env$1.touchEventsSupported || each$4(globalNativeListenerNames.mouse, r);
  function r(o) {
    function a(u) {
      u = getNativeEvent(u), isLocalEl(i, u.target) || (u = normalizeGlobalEvent(i, u), n.domHandlers[o].call(i, u));
    }
    mountSingleDOMEventListener(n, o, a, { capture: !0 });
  }
}
function mountSingleDOMEventListener(i, n, r, o) {
  i.mounted[n] = r, i.listenerOpts[n] = o, addEventListener(i.domTarget, n, r, o);
}
function unmountDOMEventListeners(i) {
  var n = i.mounted;
  for (var r in n)
    n.hasOwnProperty(r) && removeEventListener(i.domTarget, r, n[r], i.listenerOpts[r]);
  i.mounted = {};
}
var DOMHandlerScope = function() {
  function i(n, r) {
    this.mounted = {}, this.listenerOpts = {}, this.touching = !1, this.domTarget = n, this.domHandlers = r;
  }
  return i;
}(), HandlerDomProxy = function(i) {
  __extends(n, i);
  function n(r, o) {
    var a = i.call(this) || this;
    return a.__pointerCapturing = !1, a.dom = r, a.painterRoot = o, a._localHandlerScope = new DOMHandlerScope(r, localDOMHandlers), globalEventSupported && (a._globalHandlerScope = new DOMHandlerScope(document, globalDOMHandlers)), mountLocalDOMEventListeners(a, a._localHandlerScope), a;
  }
  return n.prototype.dispose = function() {
    unmountDOMEventListeners(this._localHandlerScope), globalEventSupported && unmountDOMEventListeners(this._globalHandlerScope);
  }, n.prototype.setCursor = function(r) {
    this.dom.style && (this.dom.style.cursor = r || "default");
  }, n.prototype.__togglePointerCapture = function(r) {
    if (this.__mayPointerCapture = null, globalEventSupported && +this.__pointerCapturing ^ +r) {
      this.__pointerCapturing = r;
      var o = this._globalHandlerScope;
      r ? mountGlobalDOMEventListeners(this, o) : unmountDOMEventListeners(o);
    }
  }, n;
}(Eventful$1);
const HandlerProxy = HandlerDomProxy;
var dpr = 1;
env$1.hasGlobalWindow && (dpr = Math.max(window.devicePixelRatio || window.screen && window.screen.deviceXDPI / window.screen.logicalXDPI || 1, 1));
var devicePixelRatio = dpr, DARK_MODE_THRESHOLD = 0.4, DARK_LABEL_COLOR = "#333", LIGHT_LABEL_COLOR = "#ccc", LIGHTER_LABEL_COLOR = "#eee", mIdentity = identity$1, EPSILON$1 = 5e-5;
function isNotAroundZero(i) {
  return i > EPSILON$1 || i < -EPSILON$1;
}
var scaleTmp = [], tmpTransform = [], originTransform = create(), abs = Math.abs, Transformable = function() {
  function i() {
  }
  return i.prototype.getLocalTransform = function(n) {
    return i.getLocalTransform(this, n);
  }, i.prototype.setPosition = function(n) {
    this.x = n[0], this.y = n[1];
  }, i.prototype.setScale = function(n) {
    this.scaleX = n[0], this.scaleY = n[1];
  }, i.prototype.setSkew = function(n) {
    this.skewX = n[0], this.skewY = n[1];
  }, i.prototype.setOrigin = function(n) {
    this.originX = n[0], this.originY = n[1];
  }, i.prototype.needLocalTransform = function() {
    return isNotAroundZero(this.rotation) || isNotAroundZero(this.x) || isNotAroundZero(this.y) || isNotAroundZero(this.scaleX - 1) || isNotAroundZero(this.scaleY - 1) || isNotAroundZero(this.skewX) || isNotAroundZero(this.skewY);
  }, i.prototype.updateTransform = function() {
    var n = this.parent && this.parent.transform, r = this.needLocalTransform(), o = this.transform;
    if (!(r || n)) {
      o && mIdentity(o);
      return;
    }
    o = o || create(), r ? this.getLocalTransform(o) : mIdentity(o), n && (r ? mul(o, n, o) : copy(o, n)), this.transform = o, this._resolveGlobalScaleRatio(o);
  }, i.prototype._resolveGlobalScaleRatio = function(n) {
    var r = this.globalScaleRatio;
    if (r != null && r !== 1) {
      this.getGlobalScale(scaleTmp);
      var o = scaleTmp[0] < 0 ? -1 : 1, a = scaleTmp[1] < 0 ? -1 : 1, u = ((scaleTmp[0] - o) * r + o) / scaleTmp[0] || 0, c = ((scaleTmp[1] - a) * r + a) / scaleTmp[1] || 0;
      n[0] *= u, n[1] *= u, n[2] *= c, n[3] *= c;
    }
    this.invTransform = this.invTransform || create(), invert(this.invTransform, n);
  }, i.prototype.getComputedTransform = function() {
    for (var n = this, r = []; n; )
      r.push(n), n = n.parent;
    for (; n = r.pop(); )
      n.updateTransform();
    return this.transform;
  }, i.prototype.setLocalTransform = function(n) {
    if (n) {
      var r = n[0] * n[0] + n[1] * n[1], o = n[2] * n[2] + n[3] * n[3], a = Math.atan2(n[1], n[0]), u = Math.PI / 2 + a - Math.atan2(n[3], n[2]);
      o = Math.sqrt(o) * Math.cos(u), r = Math.sqrt(r), this.skewX = u, this.skewY = 0, this.rotation = -a, this.x = +n[4], this.y = +n[5], this.scaleX = r, this.scaleY = o, this.originX = 0, this.originY = 0;
    }
  }, i.prototype.decomposeTransform = function() {
    if (this.transform) {
      var n = this.parent, r = this.transform;
      n && n.transform && (mul(tmpTransform, n.invTransform, r), r = tmpTransform);
      var o = this.originX, a = this.originY;
      (o || a) && (originTransform[4] = o, originTransform[5] = a, mul(tmpTransform, r, originTransform), tmpTransform[4] -= o, tmpTransform[5] -= a, r = tmpTransform), this.setLocalTransform(r);
    }
  }, i.prototype.getGlobalScale = function(n) {
    var r = this.transform;
    return n = n || [], r ? (n[0] = Math.sqrt(r[0] * r[0] + r[1] * r[1]), n[1] = Math.sqrt(r[2] * r[2] + r[3] * r[3]), r[0] < 0 && (n[0] = -n[0]), r[3] < 0 && (n[1] = -n[1]), n) : (n[0] = 1, n[1] = 1, n);
  }, i.prototype.transformCoordToLocal = function(n, r) {
    var o = [n, r], a = this.invTransform;
    return a && applyTransform$1(o, o, a), o;
  }, i.prototype.transformCoordToGlobal = function(n, r) {
    var o = [n, r], a = this.transform;
    return a && applyTransform$1(o, o, a), o;
  }, i.prototype.getLineScale = function() {
    var n = this.transform;
    return n && abs(n[0] - 1) > 1e-10 && abs(n[3] - 1) > 1e-10 ? Math.sqrt(abs(n[0] * n[3] - n[2] * n[1])) : 1;
  }, i.prototype.copyTransform = function(n) {
    copyTransform(this, n);
  }, i.getLocalTransform = function(n, r) {
    r = r || [];
    var o = n.originX || 0, a = n.originY || 0, u = n.scaleX, c = n.scaleY, f = n.anchorX, d = n.anchorY, p = n.rotation || 0, y = n.x, v = n.y, g = n.skewX ? Math.tan(n.skewX) : 0, _ = n.skewY ? Math.tan(-n.skewY) : 0;
    if (o || a || f || d) {
      var b = o + f, A = a + d;
      r[4] = -b * u - g * A * c, r[5] = -A * c - _ * b * u;
    } else
      r[4] = r[5] = 0;
    return r[0] = u, r[3] = c, r[1] = _ * u, r[2] = g * c, p && rotate(r, r, p), r[4] += o + y, r[5] += a + v, r;
  }, i.initDefaultProps = function() {
    var n = i.prototype;
    n.scaleX = n.scaleY = n.globalScaleRatio = 1, n.x = n.y = n.originX = n.originY = n.skewX = n.skewY = n.rotation = n.anchorX = n.anchorY = 0;
  }(), i;
}(), TRANSFORMABLE_PROPS = [
  "x",
  "y",
  "originX",
  "originY",
  "anchorX",
  "anchorY",
  "rotation",
  "scaleX",
  "scaleY",
  "skewX",
  "skewY"
];
function copyTransform(i, n) {
  for (var r = 0; r < TRANSFORMABLE_PROPS.length; r++) {
    var o = TRANSFORMABLE_PROPS[r];
    i[o] = n[o];
  }
}
const Transformable$1 = Transformable;
var textWidthCache = {};
function getWidth(i, n) {
  n = n || DEFAULT_FONT;
  var r = textWidthCache[n];
  r || (r = textWidthCache[n] = new LRU$1(500));
  var o = r.get(i);
  return o == null && (o = platformApi.measureText(i, n).width, r.put(i, o)), o;
}
function innerGetBoundingRect(i, n, r, o) {
  var a = getWidth(i, n), u = getLineHeight(n), c = adjustTextX(0, a, r), f = adjustTextY(0, u, o), d = new BoundingRect$1(c, f, a, u);
  return d;
}
function getBoundingRect(i, n, r, o) {
  var a = ((i || "") + "").split(`
`), u = a.length;
  if (u === 1)
    return innerGetBoundingRect(a[0], n, r, o);
  for (var c = new BoundingRect$1(0, 0, 0, 0), f = 0; f < a.length; f++) {
    var d = innerGetBoundingRect(a[f], n, r, o);
    f === 0 ? c.copy(d) : c.union(d);
  }
  return c;
}
function adjustTextX(i, n, r) {
  return r === "right" ? i -= n : r === "center" && (i -= n / 2), i;
}
function adjustTextY(i, n, r) {
  return r === "middle" ? i -= n / 2 : r === "bottom" && (i -= n), i;
}
function getLineHeight(i) {
  return getWidth("国", i);
}
function parsePercent$1(i, n) {
  return typeof i == "string" ? i.lastIndexOf("%") >= 0 ? parseFloat(i) / 100 * n : parseFloat(i) : i;
}
function calculateTextPosition(i, n, r) {
  var o = n.position || "inside", a = n.distance != null ? n.distance : 5, u = r.height, c = r.width, f = u / 2, d = r.x, p = r.y, y = "left", v = "top";
  if (o instanceof Array)
    d += parsePercent$1(o[0], r.width), p += parsePercent$1(o[1], r.height), y = null, v = null;
  else
    switch (o) {
      case "left":
        d -= a, p += f, y = "right", v = "middle";
        break;
      case "right":
        d += a + c, p += f, v = "middle";
        break;
      case "top":
        d += c / 2, p -= a, y = "center", v = "bottom";
        break;
      case "bottom":
        d += c / 2, p += u + a, y = "center";
        break;
      case "inside":
        d += c / 2, p += f, y = "center", v = "middle";
        break;
      case "insideLeft":
        d += a, p += f, v = "middle";
        break;
      case "insideRight":
        d += c - a, p += f, y = "right", v = "middle";
        break;
      case "insideTop":
        d += c / 2, p += a, y = "center";
        break;
      case "insideBottom":
        d += c / 2, p += u - a, y = "center", v = "bottom";
        break;
      case "insideTopLeft":
        d += a, p += a;
        break;
      case "insideTopRight":
        d += c - a, p += a, y = "right";
        break;
      case "insideBottomLeft":
        d += a, p += u - a, v = "bottom";
        break;
      case "insideBottomRight":
        d += c - a, p += u - a, y = "right", v = "bottom";
        break;
    }
  return i = i || {}, i.x = d, i.y = p, i.align = y, i.verticalAlign = v, i;
}
var PRESERVED_NORMAL_STATE = "__zr_normal__", PRIMARY_STATES_KEYS$1 = TRANSFORMABLE_PROPS.concat(["ignore"]), DEFAULT_ANIMATABLE_MAP = reduce(TRANSFORMABLE_PROPS, function(i, n) {
  return i[n] = !0, i;
}, { ignore: !1 }), tmpTextPosCalcRes = {}, tmpBoundingRect = new BoundingRect$1(0, 0, 0, 0), Element$1 = function() {
  function i(n) {
    this.id = guid(), this.animators = [], this.currentStates = [], this.states = {}, this._init(n);
  }
  return i.prototype._init = function(n) {
    this.attr(n);
  }, i.prototype.drift = function(n, r, o) {
    switch (this.draggable) {
      case "horizontal":
        r = 0;
        break;
      case "vertical":
        n = 0;
        break;
    }
    var a = this.transform;
    a || (a = this.transform = [1, 0, 0, 1, 0, 0]), a[4] += n, a[5] += r, this.decomposeTransform(), this.markRedraw();
  }, i.prototype.beforeUpdate = function() {
  }, i.prototype.afterUpdate = function() {
  }, i.prototype.update = function() {
    this.updateTransform(), this.__dirty && this.updateInnerText();
  }, i.prototype.updateInnerText = function(n) {
    var r = this._textContent;
    if (r && (!r.ignore || n)) {
      this.textConfig || (this.textConfig = {});
      var o = this.textConfig, a = o.local, u = r.innerTransformable, c = void 0, f = void 0, d = !1;
      u.parent = a ? this : null;
      var p = !1;
      if (u.copyTransform(r), o.position != null) {
        var y = tmpBoundingRect;
        o.layoutRect ? y.copy(o.layoutRect) : y.copy(this.getBoundingRect()), a || y.applyTransform(this.transform), this.calculateTextPosition ? this.calculateTextPosition(tmpTextPosCalcRes, o, y) : calculateTextPosition(tmpTextPosCalcRes, o, y), u.x = tmpTextPosCalcRes.x, u.y = tmpTextPosCalcRes.y, c = tmpTextPosCalcRes.align, f = tmpTextPosCalcRes.verticalAlign;
        var v = o.origin;
        if (v && o.rotation != null) {
          var g = void 0, _ = void 0;
          v === "center" ? (g = y.width * 0.5, _ = y.height * 0.5) : (g = parsePercent$1(v[0], y.width), _ = parsePercent$1(v[1], y.height)), p = !0, u.originX = -u.x + g + (a ? 0 : y.x), u.originY = -u.y + _ + (a ? 0 : y.y);
        }
      }
      o.rotation != null && (u.rotation = o.rotation);
      var b = o.offset;
      b && (u.x += b[0], u.y += b[1], p || (u.originX = -b[0], u.originY = -b[1]));
      var A = o.inside == null ? typeof o.position == "string" && o.position.indexOf("inside") >= 0 : o.inside, w = this._innerTextDefaultStyle || (this._innerTextDefaultStyle = {}), S = void 0, T = void 0, x = void 0;
      A && this.canBeInsideText() ? (S = o.insideFill, T = o.insideStroke, (S == null || S === "auto") && (S = this.getInsideTextFill()), (T == null || T === "auto") && (T = this.getInsideTextStroke(S), x = !0)) : (S = o.outsideFill, T = o.outsideStroke, (S == null || S === "auto") && (S = this.getOutsideFill()), (T == null || T === "auto") && (T = this.getOutsideStroke(S), x = !0)), S = S || "#000", (S !== w.fill || T !== w.stroke || x !== w.autoStroke || c !== w.align || f !== w.verticalAlign) && (d = !0, w.fill = S, w.stroke = T, w.autoStroke = x, w.align = c, w.verticalAlign = f, r.setDefaultTextStyle(w)), r.__dirty |= REDRAW_BIT, d && r.dirtyStyle(!0);
    }
  }, i.prototype.canBeInsideText = function() {
    return !0;
  }, i.prototype.getInsideTextFill = function() {
    return "#fff";
  }, i.prototype.getInsideTextStroke = function(n) {
    return "#000";
  }, i.prototype.getOutsideFill = function() {
    return this.__zr && this.__zr.isDarkMode() ? LIGHT_LABEL_COLOR : DARK_LABEL_COLOR;
  }, i.prototype.getOutsideStroke = function(n) {
    var r = this.__zr && this.__zr.getBackgroundColor(), o = typeof r == "string" && parse(r);
    o || (o = [255, 255, 255, 1]);
    for (var a = o[3], u = this.__zr.isDarkMode(), c = 0; c < 3; c++)
      o[c] = o[c] * a + (u ? 0 : 255) * (1 - a);
    return o[3] = 1, stringify(o, "rgba");
  }, i.prototype.traverse = function(n, r) {
  }, i.prototype.attrKV = function(n, r) {
    n === "textConfig" ? this.setTextConfig(r) : n === "textContent" ? this.setTextContent(r) : n === "clipPath" ? this.setClipPath(r) : n === "extra" ? (this.extra = this.extra || {}, extend(this.extra, r)) : this[n] = r;
  }, i.prototype.hide = function() {
    this.ignore = !0, this.markRedraw();
  }, i.prototype.show = function() {
    this.ignore = !1, this.markRedraw();
  }, i.prototype.attr = function(n, r) {
    if (typeof n == "string")
      this.attrKV(n, r);
    else if (isObject$3(n))
      for (var o = n, a = keys(o), u = 0; u < a.length; u++) {
        var c = a[u];
        this.attrKV(c, n[c]);
      }
    return this.markRedraw(), this;
  }, i.prototype.saveCurrentToNormalState = function(n) {
    this._innerSaveToNormal(n);
    for (var r = this._normalState, o = 0; o < this.animators.length; o++) {
      var a = this.animators[o], u = a.__fromStateTransition;
      if (!(a.getLoop() || u && u !== PRESERVED_NORMAL_STATE)) {
        var c = a.targetName, f = c ? r[c] : r;
        a.saveTo(f);
      }
    }
  }, i.prototype._innerSaveToNormal = function(n) {
    var r = this._normalState;
    r || (r = this._normalState = {}), n.textConfig && !r.textConfig && (r.textConfig = this.textConfig), this._savePrimaryToNormal(n, r, PRIMARY_STATES_KEYS$1);
  }, i.prototype._savePrimaryToNormal = function(n, r, o) {
    for (var a = 0; a < o.length; a++) {
      var u = o[a];
      n[u] != null && !(u in r) && (r[u] = this[u]);
    }
  }, i.prototype.hasState = function() {
    return this.currentStates.length > 0;
  }, i.prototype.getState = function(n) {
    return this.states[n];
  }, i.prototype.ensureState = function(n) {
    var r = this.states;
    return r[n] || (r[n] = {}), r[n];
  }, i.prototype.clearStates = function(n) {
    this.useState(PRESERVED_NORMAL_STATE, !1, n);
  }, i.prototype.useState = function(n, r, o, a) {
    var u = n === PRESERVED_NORMAL_STATE, c = this.hasState();
    if (!(!c && u)) {
      var f = this.currentStates, d = this.stateTransition;
      if (!(indexOf(f, n) >= 0 && (r || f.length === 1))) {
        var p;
        if (this.stateProxy && !u && (p = this.stateProxy(n)), p || (p = this.states && this.states[n]), !p && !u) {
          logError("State " + n + " not exists.");
          return;
        }
        u || this.saveCurrentToNormalState(p);
        var y = !!(p && p.hoverLayer || a);
        y && this._toggleHoverLayerFlag(!0), this._applyStateObj(n, p, this._normalState, r, !o && !this.__inHover && d && d.duration > 0, d);
        var v = this._textContent, g = this._textGuide;
        return v && v.useState(n, r, o, y), g && g.useState(n, r, o, y), u ? (this.currentStates = [], this._normalState = {}) : r ? this.currentStates.push(n) : this.currentStates = [n], this._updateAnimationTargets(), this.markRedraw(), !y && this.__inHover && (this._toggleHoverLayerFlag(!1), this.__dirty &= ~REDRAW_BIT), p;
      }
    }
  }, i.prototype.useStates = function(n, r, o) {
    if (!n.length)
      this.clearStates();
    else {
      var a = [], u = this.currentStates, c = n.length, f = c === u.length;
      if (f) {
        for (var d = 0; d < c; d++)
          if (n[d] !== u[d]) {
            f = !1;
            break;
          }
      }
      if (f)
        return;
      for (var d = 0; d < c; d++) {
        var p = n[d], y = void 0;
        this.stateProxy && (y = this.stateProxy(p, n)), y || (y = this.states[p]), y && a.push(y);
      }
      var v = a[c - 1], g = !!(v && v.hoverLayer || o);
      g && this._toggleHoverLayerFlag(!0);
      var _ = this._mergeStates(a), b = this.stateTransition;
      this.saveCurrentToNormalState(_), this._applyStateObj(n.join(","), _, this._normalState, !1, !r && !this.__inHover && b && b.duration > 0, b);
      var A = this._textContent, w = this._textGuide;
      A && A.useStates(n, r, g), w && w.useStates(n, r, g), this._updateAnimationTargets(), this.currentStates = n.slice(), this.markRedraw(), !g && this.__inHover && (this._toggleHoverLayerFlag(!1), this.__dirty &= ~REDRAW_BIT);
    }
  }, i.prototype._updateAnimationTargets = function() {
    for (var n = 0; n < this.animators.length; n++) {
      var r = this.animators[n];
      r.targetName && r.changeTarget(this[r.targetName]);
    }
  }, i.prototype.removeState = function(n) {
    var r = indexOf(this.currentStates, n);
    if (r >= 0) {
      var o = this.currentStates.slice();
      o.splice(r, 1), this.useStates(o);
    }
  }, i.prototype.replaceState = function(n, r, o) {
    var a = this.currentStates.slice(), u = indexOf(a, n), c = indexOf(a, r) >= 0;
    u >= 0 ? c ? a.splice(u, 1) : a[u] = r : o && !c && a.push(r), this.useStates(a);
  }, i.prototype.toggleState = function(n, r) {
    r ? this.useState(n, !0) : this.removeState(n);
  }, i.prototype._mergeStates = function(n) {
    for (var r = {}, o, a = 0; a < n.length; a++) {
      var u = n[a];
      extend(r, u), u.textConfig && (o = o || {}, extend(o, u.textConfig));
    }
    return o && (r.textConfig = o), r;
  }, i.prototype._applyStateObj = function(n, r, o, a, u, c) {
    var f = !(r && a);
    r && r.textConfig ? (this.textConfig = extend({}, a ? this.textConfig : o.textConfig), extend(this.textConfig, r.textConfig)) : f && o.textConfig && (this.textConfig = o.textConfig);
    for (var d = {}, p = !1, y = 0; y < PRIMARY_STATES_KEYS$1.length; y++) {
      var v = PRIMARY_STATES_KEYS$1[y], g = u && DEFAULT_ANIMATABLE_MAP[v];
      r && r[v] != null ? g ? (p = !0, d[v] = r[v]) : this[v] = r[v] : f && o[v] != null && (g ? (p = !0, d[v] = o[v]) : this[v] = o[v]);
    }
    if (!u)
      for (var y = 0; y < this.animators.length; y++) {
        var _ = this.animators[y], b = _.targetName;
        _.getLoop() || _.__changeFinalValue(b ? (r || o)[b] : r || o);
      }
    p && this._transitionState(n, d, c);
  }, i.prototype._attachComponent = function(n) {
    if (n.__zr && !n.__hostTarget) {
      if (process.env.NODE_ENV !== "production")
        throw new Error("Text element has been added to zrender.");
      return;
    }
    if (n === this) {
      if (process.env.NODE_ENV !== "production")
        throw new Error("Recursive component attachment.");
      return;
    }
    var r = this.__zr;
    r && n.addSelfToZr(r), n.__zr = r, n.__hostTarget = this;
  }, i.prototype._detachComponent = function(n) {
    n.__zr && n.removeSelfFromZr(n.__zr), n.__zr = null, n.__hostTarget = null;
  }, i.prototype.getClipPath = function() {
    return this._clipPath;
  }, i.prototype.setClipPath = function(n) {
    this._clipPath && this._clipPath !== n && this.removeClipPath(), this._attachComponent(n), this._clipPath = n, this.markRedraw();
  }, i.prototype.removeClipPath = function() {
    var n = this._clipPath;
    n && (this._detachComponent(n), this._clipPath = null, this.markRedraw());
  }, i.prototype.getTextContent = function() {
    return this._textContent;
  }, i.prototype.setTextContent = function(n) {
    var r = this._textContent;
    if (r !== n) {
      if (r && r !== n && this.removeTextContent(), process.env.NODE_ENV !== "production" && n.__zr && !n.__hostTarget)
        throw new Error("Text element has been added to zrender.");
      n.innerTransformable = new Transformable$1(), this._attachComponent(n), this._textContent = n, this.markRedraw();
    }
  }, i.prototype.setTextConfig = function(n) {
    this.textConfig || (this.textConfig = {}), extend(this.textConfig, n), this.markRedraw();
  }, i.prototype.removeTextConfig = function() {
    this.textConfig = null, this.markRedraw();
  }, i.prototype.removeTextContent = function() {
    var n = this._textContent;
    n && (n.innerTransformable = null, this._detachComponent(n), this._textContent = null, this._innerTextDefaultStyle = null, this.markRedraw());
  }, i.prototype.getTextGuideLine = function() {
    return this._textGuide;
  }, i.prototype.setTextGuideLine = function(n) {
    this._textGuide && this._textGuide !== n && this.removeTextGuideLine(), this._attachComponent(n), this._textGuide = n, this.markRedraw();
  }, i.prototype.removeTextGuideLine = function() {
    var n = this._textGuide;
    n && (this._detachComponent(n), this._textGuide = null, this.markRedraw());
  }, i.prototype.markRedraw = function() {
    this.__dirty |= REDRAW_BIT;
    var n = this.__zr;
    n && (this.__inHover ? n.refreshHover() : n.refresh()), this.__hostTarget && this.__hostTarget.markRedraw();
  }, i.prototype.dirty = function() {
    this.markRedraw();
  }, i.prototype._toggleHoverLayerFlag = function(n) {
    this.__inHover = n;
    var r = this._textContent, o = this._textGuide;
    r && (r.__inHover = n), o && (o.__inHover = n);
  }, i.prototype.addSelfToZr = function(n) {
    if (this.__zr !== n) {
      this.__zr = n;
      var r = this.animators;
      if (r)
        for (var o = 0; o < r.length; o++)
          n.animation.addAnimator(r[o]);
      this._clipPath && this._clipPath.addSelfToZr(n), this._textContent && this._textContent.addSelfToZr(n), this._textGuide && this._textGuide.addSelfToZr(n);
    }
  }, i.prototype.removeSelfFromZr = function(n) {
    if (this.__zr) {
      this.__zr = null;
      var r = this.animators;
      if (r)
        for (var o = 0; o < r.length; o++)
          n.animation.removeAnimator(r[o]);
      this._clipPath && this._clipPath.removeSelfFromZr(n), this._textContent && this._textContent.removeSelfFromZr(n), this._textGuide && this._textGuide.removeSelfFromZr(n);
    }
  }, i.prototype.animate = function(n, r, o) {
    var a = n ? this[n] : this;
    if (process.env.NODE_ENV !== "production" && !a) {
      logError('Property "' + n + '" is not existed in element ' + this.id);
      return;
    }
    var u = new Animator$1(a, r, o);
    return n && (u.targetName = n), this.addAnimator(u, n), u;
  }, i.prototype.addAnimator = function(n, r) {
    var o = this.__zr, a = this;
    n.during(function() {
      a.updateDuringAnimation(r);
    }).done(function() {
      var u = a.animators, c = indexOf(u, n);
      c >= 0 && u.splice(c, 1);
    }), this.animators.push(n), o && o.animation.addAnimator(n), o && o.wakeUp();
  }, i.prototype.updateDuringAnimation = function(n) {
    this.markRedraw();
  }, i.prototype.stopAnimation = function(n, r) {
    for (var o = this.animators, a = o.length, u = [], c = 0; c < a; c++) {
      var f = o[c];
      !n || n === f.scope ? f.stop(r) : u.push(f);
    }
    return this.animators = u, this;
  }, i.prototype.animateTo = function(n, r, o) {
    animateTo(this, n, r, o);
  }, i.prototype.animateFrom = function(n, r, o) {
    animateTo(this, n, r, o, !0);
  }, i.prototype._transitionState = function(n, r, o, a) {
    for (var u = animateTo(this, r, o, a), c = 0; c < u.length; c++)
      u[c].__fromStateTransition = n;
  }, i.prototype.getBoundingRect = function() {
    return null;
  }, i.prototype.getPaintRect = function() {
    return null;
  }, i.initDefaultProps = function() {
    var n = i.prototype;
    n.type = "element", n.name = "", n.ignore = n.silent = n.isGroup = n.draggable = n.dragging = n.ignoreClip = n.__inHover = !1, n.__dirty = REDRAW_BIT;
    var r = {};
    function o(u, c, f) {
      r[u + c + f] || (console.warn("DEPRECATED: '" + u + "' has been deprecated. use '" + c + "', '" + f + "' instead"), r[u + c + f] = !0);
    }
    function a(u, c, f, d) {
      Object.defineProperty(n, u, {
        get: function() {
          if (process.env.NODE_ENV !== "production" && o(u, f, d), !this[c]) {
            var y = this[c] = [];
            p(this, y);
          }
          return this[c];
        },
        set: function(y) {
          process.env.NODE_ENV !== "production" && o(u, f, d), this[f] = y[0], this[d] = y[1], this[c] = y, p(this, y);
        }
      });
      function p(y, v) {
        Object.defineProperty(v, 0, {
          get: function() {
            return y[f];
          },
          set: function(g) {
            y[f] = g;
          }
        }), Object.defineProperty(v, 1, {
          get: function() {
            return y[d];
          },
          set: function(g) {
            y[d] = g;
          }
        });
      }
    }
    Object.defineProperty && (a("position", "_legacyPos", "x", "y"), a("scale", "_legacyScale", "scaleX", "scaleY"), a("origin", "_legacyOrigin", "originX", "originY"));
  }(), i;
}();
mixin(Element$1, Eventful$1);
mixin(Element$1, Transformable$1);
function animateTo(i, n, r, o, a) {
  r = r || {};
  var u = [];
  animateToShallow(i, "", i, n, r, o, u, a);
  var c = u.length, f = !1, d = r.done, p = r.aborted, y = function() {
    f = !0, c--, c <= 0 && (f ? d && d() : p && p());
  }, v = function() {
    c--, c <= 0 && (f ? d && d() : p && p());
  };
  c || d && d(), u.length > 0 && r.during && u[0].during(function(b, A) {
    r.during(A);
  });
  for (var g = 0; g < u.length; g++) {
    var _ = u[g];
    y && _.done(y), v && _.aborted(v), r.force && _.duration(r.duration), _.start(r.easing);
  }
  return u;
}
function copyArrShallow(i, n, r) {
  for (var o = 0; o < r; o++)
    i[o] = n[o];
}
function is2DArray(i) {
  return isArrayLike(i[0]);
}
function copyValue(i, n, r) {
  if (isArrayLike(n[r]))
    if (isArrayLike(i[r]) || (i[r] = []), isTypedArray(n[r])) {
      var o = n[r].length;
      i[r].length !== o && (i[r] = new n[r].constructor(o), copyArrShallow(i[r], n[r], o));
    } else {
      var a = n[r], u = i[r], c = a.length;
      if (is2DArray(a))
        for (var f = a[0].length, d = 0; d < c; d++)
          u[d] ? copyArrShallow(u[d], a[d], f) : u[d] = Array.prototype.slice.call(a[d]);
      else
        copyArrShallow(u, a, c);
      u.length = a.length;
    }
  else
    i[r] = n[r];
}
function isValueSame(i, n) {
  return i === n || isArrayLike(i) && isArrayLike(n) && is1DArraySame(i, n);
}
function is1DArraySame(i, n) {
  var r = i.length;
  if (r !== n.length)
    return !1;
  for (var o = 0; o < r; o++)
    if (i[o] !== n[o])
      return !1;
  return !0;
}
function animateToShallow(i, n, r, o, a, u, c, f) {
  for (var d = keys(o), p = a.duration, y = a.delay, v = a.additive, g = a.setToFinal, _ = !isObject$3(u), b = i.animators, A = [], w = 0; w < d.length; w++) {
    var S = d[w], T = o[S];
    if (T != null && r[S] != null && (_ || u[S]))
      if (isObject$3(T) && !isArrayLike(T) && !isGradientObject(T)) {
        if (n) {
          f || (r[S] = T, i.updateDuringAnimation(n));
          continue;
        }
        animateToShallow(i, S, r[S], T, a, u && u[S], c, f);
      } else
        A.push(S);
    else
      f || (r[S] = T, i.updateDuringAnimation(n), A.push(S));
  }
  var x = A.length;
  if (!v && x)
    for (var L = 0; L < b.length; L++) {
      var k = b[L];
      if (k.targetName === n) {
        var M = k.stopTracks(A);
        if (M) {
          var O = indexOf(b, k);
          b.splice(O, 1);
        }
      }
    }
  if (a.force || (A = filter(A, function(D) {
    return !isValueSame(o[D], r[D]);
  }), x = A.length), x > 0 || a.force && !c.length) {
    var ie = void 0, F = void 0, j = void 0;
    if (f) {
      F = {}, g && (ie = {});
      for (var L = 0; L < x; L++) {
        var S = A[L];
        F[S] = r[S], g ? ie[S] = o[S] : r[S] = o[S];
      }
    } else if (g) {
      j = {};
      for (var L = 0; L < x; L++) {
        var S = A[L];
        j[S] = cloneValue(r[S]), copyValue(r, o, S);
      }
    }
    var k = new Animator$1(r, !1, !1, v ? filter(b, function(Y) {
      return Y.targetName === n;
    }) : null);
    k.targetName = n, a.scope && (k.scope = a.scope), g && ie && k.whenWithKeys(0, ie, A), j && k.whenWithKeys(0, j, A), k.whenWithKeys(p ?? 500, f ? F : o, A).delay(y || 0), i.addAnimator(k, n), c.push(k);
  }
}
const Element$2 = Element$1;
var Group$2 = function(i) {
  __extends(n, i);
  function n(r) {
    var o = i.call(this) || this;
    return o.isGroup = !0, o._children = [], o.attr(r), o;
  }
  return n.prototype.childrenRef = function() {
    return this._children;
  }, n.prototype.children = function() {
    return this._children.slice();
  }, n.prototype.childAt = function(r) {
    return this._children[r];
  }, n.prototype.childOfName = function(r) {
    for (var o = this._children, a = 0; a < o.length; a++)
      if (o[a].name === r)
        return o[a];
  }, n.prototype.childCount = function() {
    return this._children.length;
  }, n.prototype.add = function(r) {
    if (r && (r !== this && r.parent !== this && (this._children.push(r), this._doAdd(r)), process.env.NODE_ENV !== "production" && r.__hostTarget))
      throw "This elemenet has been used as an attachment";
    return this;
  }, n.prototype.addBefore = function(r, o) {
    if (r && r !== this && r.parent !== this && o && o.parent === this) {
      var a = this._children, u = a.indexOf(o);
      u >= 0 && (a.splice(u, 0, r), this._doAdd(r));
    }
    return this;
  }, n.prototype.replace = function(r, o) {
    var a = indexOf(this._children, r);
    return a >= 0 && this.replaceAt(o, a), this;
  }, n.prototype.replaceAt = function(r, o) {
    var a = this._children, u = a[o];
    if (r && r !== this && r.parent !== this && r !== u) {
      a[o] = r, u.parent = null;
      var c = this.__zr;
      c && u.removeSelfFromZr(c), this._doAdd(r);
    }
    return this;
  }, n.prototype._doAdd = function(r) {
    r.parent && r.parent.remove(r), r.parent = this;
    var o = this.__zr;
    o && o !== r.__zr && r.addSelfToZr(o), o && o.refresh();
  }, n.prototype.remove = function(r) {
    var o = this.__zr, a = this._children, u = indexOf(a, r);
    return u < 0 ? this : (a.splice(u, 1), r.parent = null, o && r.removeSelfFromZr(o), o && o.refresh(), this);
  }, n.prototype.removeAll = function() {
    for (var r = this._children, o = this.__zr, a = 0; a < r.length; a++) {
      var u = r[a];
      o && u.removeSelfFromZr(o), u.parent = null;
    }
    return r.length = 0, this;
  }, n.prototype.eachChild = function(r, o) {
    for (var a = this._children, u = 0; u < a.length; u++) {
      var c = a[u];
      r.call(o, c, u);
    }
    return this;
  }, n.prototype.traverse = function(r, o) {
    for (var a = 0; a < this._children.length; a++) {
      var u = this._children[a], c = r.call(o, u);
      u.isGroup && !c && u.traverse(r, o);
    }
    return this;
  }, n.prototype.addSelfToZr = function(r) {
    i.prototype.addSelfToZr.call(this, r);
    for (var o = 0; o < this._children.length; o++) {
      var a = this._children[o];
      a.addSelfToZr(r);
    }
  }, n.prototype.removeSelfFromZr = function(r) {
    i.prototype.removeSelfFromZr.call(this, r);
    for (var o = 0; o < this._children.length; o++) {
      var a = this._children[o];
      a.removeSelfFromZr(r);
    }
  }, n.prototype.getBoundingRect = function(r) {
    for (var o = new BoundingRect$1(0, 0, 0, 0), a = r || this._children, u = [], c = null, f = 0; f < a.length; f++) {
      var d = a[f];
      if (!(d.ignore || d.invisible)) {
        var p = d.getBoundingRect(), y = d.getLocalTransform(u);
        y ? (BoundingRect$1.applyTransform(o, p, y), c = c || o.clone(), c.union(o)) : (c = c || p.clone(), c.union(p));
      }
    }
    return c || o;
  }, n;
}(Element$2);
Group$2.prototype.type = "group";
const Group$3 = Group$2;
/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/
var painterCtors = {}, instances$1 = {};
function delInstance(i) {
  delete instances$1[i];
}
function isDarkMode(i) {
  if (!i)
    return !1;
  if (typeof i == "string")
    return lum(i, 1) < DARK_MODE_THRESHOLD;
  if (i.colorStops) {
    for (var n = i.colorStops, r = 0, o = n.length, a = 0; a < o; a++)
      r += lum(n[a].color, 1);
    return r /= o, r < DARK_MODE_THRESHOLD;
  }
  return !1;
}
var ZRender = function() {
  function i(n, r, o) {
    var a = this;
    this._sleepAfterStill = 10, this._stillFrameAccum = 0, this._needsRefresh = !0, this._needsRefreshHover = !0, this._darkMode = !1, o = o || {}, this.dom = r, this.id = n;
    var u = new Storage$1(), c = o.renderer || "canvas";
    if (painterCtors[c] || (c = keys(painterCtors)[0]), process.env.NODE_ENV !== "production" && !painterCtors[c])
      throw new Error("Renderer '" + c + "' is not imported. Please import it first.");
    o.useDirtyRect = o.useDirtyRect == null ? !1 : o.useDirtyRect;
    var f = new painterCtors[c](r, u, o, n), d = o.ssr || f.ssrOnly;
    this.storage = u, this.painter = f;
    var p = !env$1.node && !env$1.worker && !d ? new HandlerProxy(f.getViewportRoot(), f.root) : null, y = o.useCoarsePointer, v = y == null || y === "auto" ? env$1.touchEventsSupported : !!y, g = 44, _;
    v && (_ = retrieve2(o.pointerSize, g)), this.handler = new Handler$1(u, f, p, f.root, _), this.animation = new Animation$1({
      stage: {
        update: d ? null : function() {
          return a._flush(!0);
        }
      }
    }), d || this.animation.start();
  }
  return i.prototype.add = function(n) {
    n && (this.storage.addRoot(n), n.addSelfToZr(this), this.refresh());
  }, i.prototype.remove = function(n) {
    n && (this.storage.delRoot(n), n.removeSelfFromZr(this), this.refresh());
  }, i.prototype.configLayer = function(n, r) {
    this.painter.configLayer && this.painter.configLayer(n, r), this.refresh();
  }, i.prototype.setBackgroundColor = function(n) {
    this.painter.setBackgroundColor && this.painter.setBackgroundColor(n), this.refresh(), this._backgroundColor = n, this._darkMode = isDarkMode(n);
  }, i.prototype.getBackgroundColor = function() {
    return this._backgroundColor;
  }, i.prototype.setDarkMode = function(n) {
    this._darkMode = n;
  }, i.prototype.isDarkMode = function() {
    return this._darkMode;
  }, i.prototype.refreshImmediately = function(n) {
    n || this.animation.update(!0), this._needsRefresh = !1, this.painter.refresh(), this._needsRefresh = !1;
  }, i.prototype.refresh = function() {
    this._needsRefresh = !0, this.animation.start();
  }, i.prototype.flush = function() {
    this._flush(!1);
  }, i.prototype._flush = function(n) {
    var r, o = getTime();
    this._needsRefresh && (r = !0, this.refreshImmediately(n)), this._needsRefreshHover && (r = !0, this.refreshHoverImmediately());
    var a = getTime();
    r ? (this._stillFrameAccum = 0, this.trigger("rendered", {
      elapsedTime: a - o
    })) : this._sleepAfterStill > 0 && (this._stillFrameAccum++, this._stillFrameAccum > this._sleepAfterStill && this.animation.stop());
  }, i.prototype.setSleepAfterStill = function(n) {
    this._sleepAfterStill = n;
  }, i.prototype.wakeUp = function() {
    this.animation.start(), this._stillFrameAccum = 0;
  }, i.prototype.refreshHover = function() {
    this._needsRefreshHover = !0;
  }, i.prototype.refreshHoverImmediately = function() {
    this._needsRefreshHover = !1, this.painter.refreshHover && this.painter.getType() === "canvas" && this.painter.refreshHover();
  }, i.prototype.resize = function(n) {
    n = n || {}, this.painter.resize(n.width, n.height), this.handler.resize();
  }, i.prototype.clearAnimation = function() {
    this.animation.clear();
  }, i.prototype.getWidth = function() {
    return this.painter.getWidth();
  }, i.prototype.getHeight = function() {
    return this.painter.getHeight();
  }, i.prototype.setCursorStyle = function(n) {
    this.handler.setCursorStyle(n);
  }, i.prototype.findHover = function(n, r) {
    return this.handler.findHover(n, r);
  }, i.prototype.on = function(n, r, o) {
    return this.handler.on(n, r, o), this;
  }, i.prototype.off = function(n, r) {
    this.handler.off(n, r);
  }, i.prototype.trigger = function(n, r) {
    this.handler.trigger(n, r);
  }, i.prototype.clear = function() {
    for (var n = this.storage.getRoots(), r = 0; r < n.length; r++)
      n[r] instanceof Group$3 && n[r].removeSelfFromZr(this);
    this.storage.delAllRoots(), this.painter.clear();
  }, i.prototype.dispose = function() {
    this.animation.stop(), this.clear(), this.storage.dispose(), this.painter.dispose(), this.handler.dispose(), this.animation = this.storage = this.painter = this.handler = null, delInstance(this.id);
  }, i;
}();
function init(i, n) {
  var r = new ZRender(guid(), i, n);
  return instances$1[r.id] = r, r;
}
function registerPainter(i, n) {
  painterCtors[i] = n;
}
var RADIAN_EPSILON = 1e-4, ROUND_SUPPORTED_PRECISION_MAX = 20;
function _trim(i) {
  return i.replace(/^\s+|\s+$/g, "");
}
function linearMap(i, n, r, o) {
  var a = n[0], u = n[1], c = r[0], f = r[1], d = u - a, p = f - c;
  if (d === 0)
    return p === 0 ? c : (c + f) / 2;
  if (o)
    if (d > 0) {
      if (i <= a)
        return c;
      if (i >= u)
        return f;
    } else {
      if (i >= a)
        return c;
      if (i <= u)
        return f;
    }
  else {
    if (i === a)
      return c;
    if (i === u)
      return f;
  }
  return (i - a) / d * p + c;
}
function parsePercent(i, n) {
  switch (i) {
    case "center":
    case "middle":
      i = "50%";
      break;
    case "left":
    case "top":
      i = "0%";
      break;
    case "right":
    case "bottom":
      i = "100%";
      break;
  }
  return isString$2(i) ? _trim(i).match(/%$/) ? parseFloat(i) / 100 * n : parseFloat(i) : i == null ? NaN : +i;
}
function round$2(i, n, r) {
  return n == null && (n = 10), n = Math.min(Math.max(0, n), ROUND_SUPPORTED_PRECISION_MAX), i = (+i).toFixed(n), r ? i : +i;
}
function getPrecision(i) {
  if (i = +i, isNaN(i))
    return 0;
  if (i > 1e-14) {
    for (var n = 1, r = 0; r < 15; r++, n *= 10)
      if (Math.round(i * n) / n === i)
        return r;
  }
  return getPrecisionSafe(i);
}
function getPrecisionSafe(i) {
  var n = i.toString().toLowerCase(), r = n.indexOf("e"), o = r > 0 ? +n.slice(r + 1) : 0, a = r > 0 ? r : n.length, u = n.indexOf("."), c = u < 0 ? 0 : a - 1 - u;
  return Math.max(0, c - o);
}
function getPercentSeats(i, n) {
  var r = reduce(i, function(_, b) {
    return _ + (isNaN(b) ? 0 : b);
  }, 0);
  if (r === 0)
    return [];
  for (var o = Math.pow(10, n), a = map$1(i, function(_) {
    return (isNaN(_) ? 0 : _) / r * o * 100;
  }), u = o * 100, c = map$1(a, function(_) {
    return Math.floor(_);
  }), f = reduce(c, function(_, b) {
    return _ + b;
  }, 0), d = map$1(a, function(_, b) {
    return _ - c[b];
  }); f < u; ) {
    for (var p = Number.NEGATIVE_INFINITY, y = null, v = 0, g = d.length; v < g; ++v)
      d[v] > p && (p = d[v], y = v);
    ++c[y], d[y] = 0, ++f;
  }
  return map$1(c, function(_) {
    return _ / o;
  });
}
function addSafe(i, n) {
  var r = Math.max(getPrecision(i), getPrecision(n)), o = i + n;
  return r > ROUND_SUPPORTED_PRECISION_MAX ? o : round$2(o, r);
}
function remRadian(i) {
  var n = Math.PI * 2;
  return (i % n + n) % n;
}
function isRadianAroundZero(i) {
  return i > -RADIAN_EPSILON && i < RADIAN_EPSILON;
}
var TIME_REG = /^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;
function parseDate(i) {
  if (i instanceof Date)
    return i;
  if (isString$2(i)) {
    var n = TIME_REG.exec(i);
    if (!n)
      return /* @__PURE__ */ new Date(NaN);
    if (n[8]) {
      var r = +n[4] || 0;
      return n[8].toUpperCase() !== "Z" && (r -= +n[8].slice(0, 3)), new Date(Date.UTC(+n[1], +(n[2] || 1) - 1, +n[3] || 1, r, +(n[5] || 0), +n[6] || 0, n[7] ? +n[7].substring(0, 3) : 0));
    } else
      return new Date(+n[1], +(n[2] || 1) - 1, +n[3] || 1, +n[4] || 0, +(n[5] || 0), +n[6] || 0, n[7] ? +n[7].substring(0, 3) : 0);
  } else if (i == null)
    return /* @__PURE__ */ new Date(NaN);
  return new Date(Math.round(i));
}
function numericToNumber(i) {
  var n = parseFloat(i);
  return n == i && (n !== 0 || !isString$2(i) || i.indexOf("x") <= 0) ? n : NaN;
}
function isNumeric(i) {
  return !isNaN(numericToNumber(i));
}
function getRandomIdBase() {
  return Math.round(Math.random() * 9);
}
function getGreatestCommonDividor(i, n) {
  return n === 0 ? i : getGreatestCommonDividor(n, i % n);
}
function getLeastCommonMultiple(i, n) {
  return i == null ? n : n == null ? i : i * n / getGreatestCommonDividor(i, n);
}
var ECHARTS_PREFIX = "[ECharts] ", storedLogs = {}, hasConsole = typeof console < "u" && console.warn && console.log;
function outputLog(i, n, r) {
  if (hasConsole) {
    if (r) {
      if (storedLogs[n])
        return;
      storedLogs[n] = !0;
    }
    console[i](ECHARTS_PREFIX + n);
  }
}
function log(i, n) {
  outputLog("log", i, n);
}
function warn(i, n) {
  outputLog("warn", i, n);
}
function error(i, n) {
  outputLog("error", i, n);
}
function deprecateLog(i) {
  process.env.NODE_ENV !== "production" && outputLog("warn", "DEPRECATED: " + i, !0);
}
function deprecateReplaceLog(i, n, r) {
  process.env.NODE_ENV !== "production" && deprecateLog((r ? "[" + r + "]" : "") + (i + " is deprecated, use " + n + " instead."));
}
function makePrintable() {
  for (var i = [], n = 0; n < arguments.length; n++)
    i[n] = arguments[n];
  var r = "";
  if (process.env.NODE_ENV !== "production") {
    var o = function(a) {
      return a === void 0 ? "undefined" : a === 1 / 0 ? "Infinity" : a === -1 / 0 ? "-Infinity" : eqNaN(a) ? "NaN" : a instanceof Date ? "Date(" + a.toISOString() + ")" : isFunction$1(a) ? "function () { ... }" : isRegExp(a) ? a + "" : null;
    };
    r = map$1(i, function(a) {
      if (isString$2(a))
        return a;
      var u = o(a);
      if (u != null)
        return u;
      if (typeof JSON < "u" && JSON.stringify)
        try {
          return JSON.stringify(a, function(c, f) {
            var d = o(f);
            return d ?? f;
          });
        } catch {
          return "?";
        }
      else
        return "?";
    }).join(" ");
  }
  return r;
}
function throwError$1(i) {
  throw new Error(i);
}
var DUMMY_COMPONENT_NAME_PREFIX = "series\0", INTERNAL_COMPONENT_ID_PREFIX = "\0_ec_\0";
function normalizeToArray(i) {
  return i instanceof Array ? i : i == null ? [] : [i];
}
function defaultEmphasis(i, n, r) {
  if (i) {
    i[n] = i[n] || {}, i.emphasis = i.emphasis || {}, i.emphasis[n] = i.emphasis[n] || {};
    for (var o = 0, a = r.length; o < a; o++) {
      var u = r[o];
      !i.emphasis[n].hasOwnProperty(u) && i[n].hasOwnProperty(u) && (i.emphasis[n][u] = i[n][u]);
    }
  }
}
var TEXT_STYLE_OPTIONS = ["fontStyle", "fontWeight", "fontSize", "fontFamily", "rich", "tag", "color", "textBorderColor", "textBorderWidth", "width", "height", "lineHeight", "align", "verticalAlign", "baseline", "shadowColor", "shadowBlur", "shadowOffsetX", "shadowOffsetY", "textShadowColor", "textShadowBlur", "textShadowOffsetX", "textShadowOffsetY", "backgroundColor", "borderColor", "borderWidth", "borderRadius", "padding"];
function getDataItemValue(i) {
  return isObject$3(i) && !isArray$1(i) && !(i instanceof Date) ? i.value : i;
}
function isDataItemOption(i) {
  return isObject$3(i) && !(i instanceof Array);
}
function mappingToExists(i, n, r) {
  var o = r === "normalMerge", a = r === "replaceMerge", u = r === "replaceAll";
  i = i || [], n = (n || []).slice();
  var c = createHashMap();
  each$4(n, function(d, p) {
    if (!isObject$3(d)) {
      n[p] = null;
      return;
    }
    process.env.NODE_ENV !== "production" && (d.id != null && !isValidIdOrName(d.id) && warnInvalidateIdOrName(d.id), d.name != null && !isValidIdOrName(d.name) && warnInvalidateIdOrName(d.name));
  });
  var f = prepareResult(i, c, r);
  return (o || a) && mappingById(f, i, c, n), o && mappingByName(f, n), o || a ? mappingByIndex(f, n, a) : u && mappingInReplaceAllMode(f, n), makeIdAndName(f), f;
}
function prepareResult(i, n, r) {
  var o = [];
  if (r === "replaceAll")
    return o;
  for (var a = 0; a < i.length; a++) {
    var u = i[a];
    u && u.id != null && n.set(u.id, a), o.push({
      existing: r === "replaceMerge" || isComponentIdInternal(u) ? null : u,
      newOption: null,
      keyInfo: null,
      brandNew: null
    });
  }
  return o;
}
function mappingById(i, n, r, o) {
  each$4(o, function(a, u) {
    if (!(!a || a.id == null)) {
      var c = makeComparableKey(a.id), f = r.get(c);
      if (f != null) {
        var d = i[f];
        assert(!d.newOption, 'Duplicated option on id "' + c + '".'), d.newOption = a, d.existing = n[f], o[u] = null;
      }
    }
  });
}
function mappingByName(i, n) {
  each$4(n, function(r, o) {
    if (!(!r || r.name == null))
      for (var a = 0; a < i.length; a++) {
        var u = i[a].existing;
        if (!i[a].newOption && u && (u.id == null || r.id == null) && !isComponentIdInternal(r) && !isComponentIdInternal(u) && keyExistAndEqual("name", u, r)) {
          i[a].newOption = r, n[o] = null;
          return;
        }
      }
  });
}
function mappingByIndex(i, n, r) {
  each$4(n, function(o) {
    if (o) {
      for (
        var a, u = 0;
        // Be `!resultItem` only when `nextIdx >= result.length`.
        (a = i[u]) && // (1) Existing models that already have id should be able to mapped to. Because
        // after mapping performed, model will always be assigned with an id if user not given.
        // After that all models have id.
        // (2) If new option has id, it can only set to a hole or append to the last. It should
        // not be merged to the existings with different id. Because id should not be overwritten.
        // (3) Name can be overwritten, because axis use name as 'show label text'.
        (a.newOption || isComponentIdInternal(a.existing) || // In mode "replaceMerge", here no not-mapped-non-internal-existing.
        a.existing && o.id != null && !keyExistAndEqual("id", o, a.existing));
      )
        u++;
      a ? (a.newOption = o, a.brandNew = r) : i.push({
        newOption: o,
        brandNew: r,
        existing: null,
        keyInfo: null
      }), u++;
    }
  });
}
function mappingInReplaceAllMode(i, n) {
  each$4(n, function(r) {
    i.push({
      newOption: r,
      brandNew: !0,
      existing: null,
      keyInfo: null
    });
  });
}
function makeIdAndName(i) {
  var n = createHashMap();
  each$4(i, function(r) {
    var o = r.existing;
    o && n.set(o.id, r);
  }), each$4(i, function(r) {
    var o = r.newOption;
    assert(!o || o.id == null || !n.get(o.id) || n.get(o.id) === r, "id duplicates: " + (o && o.id)), o && o.id != null && n.set(o.id, r), !r.keyInfo && (r.keyInfo = {});
  }), each$4(i, function(r, o) {
    var a = r.existing, u = r.newOption, c = r.keyInfo;
    if (isObject$3(u)) {
      if (c.name = u.name != null ? makeComparableKey(u.name) : a ? a.name : DUMMY_COMPONENT_NAME_PREFIX + o, a)
        c.id = makeComparableKey(a.id);
      else if (u.id != null)
        c.id = makeComparableKey(u.id);
      else {
        var f = 0;
        do
          c.id = "\0" + c.name + "\0" + f++;
        while (n.get(c.id));
      }
      n.set(c.id, r);
    }
  });
}
function keyExistAndEqual(i, n, r) {
  var o = convertOptionIdName(n[i], null), a = convertOptionIdName(r[i], null);
  return o != null && a != null && o === a;
}
function makeComparableKey(i) {
  if (process.env.NODE_ENV !== "production" && i == null)
    throw new Error();
  return convertOptionIdName(i, "");
}
function convertOptionIdName(i, n) {
  return i == null ? n : isString$2(i) ? i : isNumber$1(i) || isStringSafe(i) ? i + "" : n;
}
function warnInvalidateIdOrName(i) {
  process.env.NODE_ENV !== "production" && warn("`" + i + "` is invalid id or name. Must be a string or number.");
}
function isValidIdOrName(i) {
  return isStringSafe(i) || isNumeric(i);
}
function isNameSpecified(i) {
  var n = i.name;
  return !!(n && n.indexOf(DUMMY_COMPONENT_NAME_PREFIX));
}
function isComponentIdInternal(i) {
  return i && i.id != null && makeComparableKey(i.id).indexOf(INTERNAL_COMPONENT_ID_PREFIX) === 0;
}
function setComponentTypeToKeyInfo(i, n, r) {
  each$4(i, function(o) {
    var a = o.newOption;
    isObject$3(a) && (o.keyInfo.mainType = n, o.keyInfo.subType = determineSubType(n, a, o.existing, r));
  });
}
function determineSubType(i, n, r, o) {
  var a = n.type ? n.type : r ? r.subType : o.determineSubType(i, n);
  return a;
}
function queryDataIndex(i, n) {
  if (n.dataIndexInside != null)
    return n.dataIndexInside;
  if (n.dataIndex != null)
    return isArray$1(n.dataIndex) ? map$1(n.dataIndex, function(r) {
      return i.indexOfRawIndex(r);
    }) : i.indexOfRawIndex(n.dataIndex);
  if (n.name != null)
    return isArray$1(n.name) ? map$1(n.name, function(r) {
      return i.indexOfName(r);
    }) : i.indexOfName(n.name);
}
function makeInner() {
  var i = "__ec_inner_" + innerUniqueIndex++;
  return function(n) {
    return n[i] || (n[i] = {});
  };
}
var innerUniqueIndex = getRandomIdBase();
function parseFinder(i, n, r) {
  var o = preParseFinder(n, r), a = o.mainTypeSpecified, u = o.queryOptionMap, c = o.others, f = c, d = r ? r.defaultMainType : null;
  return !a && d && u.set(d, {}), u.each(function(p, y) {
    var v = queryReferringComponents(i, y, p, {
      useDefault: d === y,
      enableAll: r && r.enableAll != null ? r.enableAll : !0,
      enableNone: r && r.enableNone != null ? r.enableNone : !0
    });
    f[y + "Models"] = v.models, f[y + "Model"] = v.models[0];
  }), f;
}
function preParseFinder(i, n) {
  var r;
  if (isString$2(i)) {
    var o = {};
    o[i + "Index"] = 0, r = o;
  } else
    r = i;
  var a = createHashMap(), u = {}, c = !1;
  return each$4(r, function(f, d) {
    if (d === "dataIndex" || d === "dataIndexInside") {
      u[d] = f;
      return;
    }
    var p = d.match(/^(\w+)(Index|Id|Name)$/) || [], y = p[1], v = (p[2] || "").toLowerCase();
    if (!(!y || !v || n && n.includeMainTypes && indexOf(n.includeMainTypes, y) < 0)) {
      c = c || !!y;
      var g = a.get(y) || a.set(y, {});
      g[v] = f;
    }
  }), {
    mainTypeSpecified: c,
    queryOptionMap: a,
    others: u
  };
}
var SINGLE_REFERRING = {
  useDefault: !0,
  enableAll: !1,
  enableNone: !1
};
function queryReferringComponents(i, n, r, o) {
  o = o || SINGLE_REFERRING;
  var a = r.index, u = r.id, c = r.name, f = {
    models: null,
    specified: a != null || u != null || c != null
  };
  if (!f.specified) {
    var d = void 0;
    return f.models = o.useDefault && (d = i.getComponent(n)) ? [d] : [], f;
  }
  return a === "none" || a === !1 ? (assert(o.enableNone, '`"none"` or `false` is not a valid value on index option.'), f.models = [], f) : (a === "all" && (assert(o.enableAll, '`"all"` is not a valid value on index option.'), a = u = c = null), f.models = i.queryComponents({
    mainType: n,
    index: a,
    id: u,
    name: c
  }), f);
}
function setAttribute(i, n, r) {
  i.setAttribute ? i.setAttribute(n, r) : i[n] = r;
}
function getTooltipRenderMode(i) {
  return i === "auto" ? env$1.domSupported ? "html" : "richText" : i || "html";
}
var TYPE_DELIMITER = ".", IS_CONTAINER = "___EC__COMPONENT__CONTAINER___", IS_EXTENDED_CLASS = "___EC__EXTENDED_CLASS___";
function parseClassType(i) {
  var n = {
    main: "",
    sub: ""
  };
  if (i) {
    var r = i.split(TYPE_DELIMITER);
    n.main = r[0] || "", n.sub = r[1] || "";
  }
  return n;
}
function checkClassType(i) {
  assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(i), 'componentType "' + i + '" illegal');
}
function isExtendedClass(i) {
  return !!(i && i[IS_EXTENDED_CLASS]);
}
function enableClassExtend(i, n) {
  i.$constructor = i, i.extend = function(r) {
    process.env.NODE_ENV !== "production" && each$4(n, function(u) {
      r[u] || console.warn("Method `" + u + "` should be implemented" + (r.type ? " in " + r.type : "") + ".");
    });
    var o = this, a;
    return isESClass(o) ? a = /** @class */
    function(u) {
      __extends(c, u);
      function c() {
        return u.apply(this, arguments) || this;
      }
      return c;
    }(o) : (a = function() {
      (r.$constructor || o).apply(this, arguments);
    }, inherits(a, this)), extend(a.prototype, r), a[IS_EXTENDED_CLASS] = !0, a.extend = this.extend, a.superCall = superCall, a.superApply = superApply, a.superClass = o, a;
  };
}
function isESClass(i) {
  return isFunction$1(i) && /^class\s/.test(Function.prototype.toString.call(i));
}
function mountExtend(i, n) {
  i.extend = n.extend;
}
var classBase = Math.round(Math.random() * 10);
function enableClassCheck(i) {
  var n = ["__\0is_clz", classBase++].join("_");
  i.prototype[n] = !0, process.env.NODE_ENV !== "production" && assert(!i.isInstance, 'The method "is" can not be defined.'), i.isInstance = function(r) {
    return !!(r && r[n]);
  };
}
function superCall(i, n) {
  for (var r = [], o = 2; o < arguments.length; o++)
    r[o - 2] = arguments[o];
  return this.superClass.prototype[n].apply(i, r);
}
function superApply(i, n, r) {
  return this.superClass.prototype[n].apply(i, r);
}
function enableClassManagement(i) {
  var n = {};
  i.registerClass = function(o) {
    var a = o.type || o.prototype.type;
    if (a) {
      checkClassType(a), o.prototype.type = a;
      var u = parseClassType(a);
      if (!u.sub)
        process.env.NODE_ENV !== "production" && n[u.main] && console.warn(u.main + " exists."), n[u.main] = o;
      else if (u.sub !== IS_CONTAINER) {
        var c = r(u);
        c[u.sub] = o;
      }
    }
    return o;
  }, i.getClass = function(o, a, u) {
    var c = n[o];
    if (c && c[IS_CONTAINER] && (c = a ? c[a] : null), u && !c)
      throw new Error(a ? "Component " + o + "." + (a || "") + " is used but not imported." : o + ".type should be specified.");
    return c;
  }, i.getClassesByMainType = function(o) {
    var a = parseClassType(o), u = [], c = n[a.main];
    return c && c[IS_CONTAINER] ? each$4(c, function(f, d) {
      d !== IS_CONTAINER && u.push(f);
    }) : u.push(c), u;
  }, i.hasClass = function(o) {
    var a = parseClassType(o);
    return !!n[a.main];
  }, i.getAllClassMainTypes = function() {
    var o = [];
    return each$4(n, function(a, u) {
      o.push(u);
    }), o;
  }, i.hasSubTypes = function(o) {
    var a = parseClassType(o), u = n[a.main];
    return u && u[IS_CONTAINER];
  };
  function r(o) {
    var a = n[o.main];
    return (!a || !a[IS_CONTAINER]) && (a = n[o.main] = {}, a[IS_CONTAINER] = !0), a;
  }
}
function makeStyleMapper(i, n) {
  for (var r = 0; r < i.length; r++)
    i[r][1] || (i[r][1] = i[r][0]);
  return n = n || !1, function(o, a, u) {
    for (var c = {}, f = 0; f < i.length; f++) {
      var d = i[f][1];
      if (!(a && indexOf(a, d) >= 0 || u && indexOf(u, d) < 0)) {
        var p = o.getShallow(d, n);
        p != null && (c[i[f][0]] = p);
      }
    }
    return c;
  };
}
var AREA_STYLE_KEY_MAP = [
  ["fill", "color"],
  ["shadowBlur"],
  ["shadowOffsetX"],
  ["shadowOffsetY"],
  ["opacity"],
  ["shadowColor"]
  // Option decal is in `DecalObject` but style.decal is in `PatternObject`.
  // So do not transfer decal directly.
], getAreaStyle = makeStyleMapper(AREA_STYLE_KEY_MAP), AreaStyleMixin = (
  /** @class */
  function() {
    function i() {
    }
    return i.prototype.getAreaStyle = function(n, r) {
      return getAreaStyle(this, n, r);
    }, i;
  }()
), globalImageCache = new LRU$1(50);
function findExistImage(i) {
  if (typeof i == "string") {
    var n = globalImageCache.get(i);
    return n && n.image;
  } else
    return i;
}
function createOrUpdateImage(i, n, r, o, a) {
  if (i)
    if (typeof i == "string") {
      if (n && n.__zrImageSrc === i || !r)
        return n;
      var u = globalImageCache.get(i), c = { hostEl: r, cb: o, cbPayload: a };
      return u ? (n = u.image, !isImageReady(n) && u.pending.push(c)) : (n = platformApi.loadImage(i, imageOnLoad, imageOnLoad), n.__zrImageSrc = i, globalImageCache.put(i, n.__cachedImgObj = {
        image: n,
        pending: [c]
      })), n;
    } else
      return i;
  else
    return n;
}
function imageOnLoad() {
  var i = this.__cachedImgObj;
  this.onload = this.onerror = this.__cachedImgObj = null;
  for (var n = 0; n < i.pending.length; n++) {
    var r = i.pending[n], o = r.cb;
    o && o(this, r.cbPayload), r.hostEl.dirty();
  }
  i.pending.length = 0;
}
function isImageReady(i) {
  return i && i.width && i.height;
}
var STYLE_REG = /\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;
function truncateText(i, n, r, o, a) {
  if (!n)
    return "";
  var u = (i + "").split(`
`);
  a = prepareTruncateOptions(n, r, o, a);
  for (var c = 0, f = u.length; c < f; c++)
    u[c] = truncateSingleLine(u[c], a);
  return u.join(`
`);
}
function prepareTruncateOptions(i, n, r, o) {
  o = o || {};
  var a = extend({}, o);
  a.font = n, r = retrieve2(r, "..."), a.maxIterations = retrieve2(o.maxIterations, 2);
  var u = a.minChar = retrieve2(o.minChar, 0);
  a.cnCharWidth = getWidth("国", n);
  var c = a.ascCharWidth = getWidth("a", n);
  a.placeholder = retrieve2(o.placeholder, "");
  for (var f = i = Math.max(0, i - 1), d = 0; d < u && f >= c; d++)
    f -= c;
  var p = getWidth(r, n);
  return p > f && (r = "", p = 0), f = i - p, a.ellipsis = r, a.ellipsisWidth = p, a.contentWidth = f, a.containerWidth = i, a;
}
function truncateSingleLine(i, n) {
  var r = n.containerWidth, o = n.font, a = n.contentWidth;
  if (!r)
    return "";
  var u = getWidth(i, o);
  if (u <= r)
    return i;
  for (var c = 0; ; c++) {
    if (u <= a || c >= n.maxIterations) {
      i += n.ellipsis;
      break;
    }
    var f = c === 0 ? estimateLength(i, a, n.ascCharWidth, n.cnCharWidth) : u > 0 ? Math.floor(i.length * a / u) : 0;
    i = i.substr(0, f), u = getWidth(i, o);
  }
  return i === "" && (i = n.placeholder), i;
}
function estimateLength(i, n, r, o) {
  for (var a = 0, u = 0, c = i.length; u < c && a < n; u++) {
    var f = i.charCodeAt(u);
    a += 0 <= f && f <= 127 ? r : o;
  }
  return u;
}
function parsePlainText(i, n) {
  i != null && (i += "");
  var r = n.overflow, o = n.padding, a = n.font, u = r === "truncate", c = getLineHeight(a), f = retrieve2(n.lineHeight, c), d = !!n.backgroundColor, p = n.lineOverflow === "truncate", y = n.width, v;
  y != null && (r === "break" || r === "breakAll") ? v = i ? wrapText(i, n.font, y, r === "breakAll", 0).lines : [] : v = i ? i.split(`
`) : [];
  var g = v.length * f, _ = retrieve2(n.height, g);
  if (g > _ && p) {
    var b = Math.floor(_ / f);
    v = v.slice(0, b);
  }
  if (i && u && y != null)
    for (var A = prepareTruncateOptions(y, a, n.ellipsis, {
      minChar: n.truncateMinChar,
      placeholder: n.placeholder
    }), w = 0; w < v.length; w++)
      v[w] = truncateSingleLine(v[w], A);
  for (var S = _, T = 0, w = 0; w < v.length; w++)
    T = Math.max(getWidth(v[w], a), T);
  y == null && (y = T);
  var x = T;
  return o && (S += o[0] + o[2], x += o[1] + o[3], y += o[1] + o[3]), d && (x = y), {
    lines: v,
    height: _,
    outerWidth: x,
    outerHeight: S,
    lineHeight: f,
    calculatedLineHeight: c,
    contentWidth: T,
    contentHeight: g,
    width: y
  };
}
var RichTextToken = function() {
  function i() {
  }
  return i;
}(), RichTextLine = function() {
  function i(n) {
    this.tokens = [], n && (this.tokens = n);
  }
  return i;
}(), RichTextContentBlock = function() {
  function i() {
    this.width = 0, this.height = 0, this.contentWidth = 0, this.contentHeight = 0, this.outerWidth = 0, this.outerHeight = 0, this.lines = [];
  }
  return i;
}();
function parseRichText(i, n) {
  var r = new RichTextContentBlock();
  if (i != null && (i += ""), !i)
    return r;
  for (var o = n.width, a = n.height, u = n.overflow, c = (u === "break" || u === "breakAll") && o != null ? { width: o, accumWidth: 0, breakAll: u === "breakAll" } : null, f = STYLE_REG.lastIndex = 0, d; (d = STYLE_REG.exec(i)) != null; ) {
    var p = d.index;
    p > f && pushTokens(r, i.substring(f, p), n, c), pushTokens(r, d[2], n, c, d[1]), f = STYLE_REG.lastIndex;
  }
  f < i.length && pushTokens(r, i.substring(f, i.length), n, c);
  var y = [], v = 0, g = 0, _ = n.padding, b = u === "truncate", A = n.lineOverflow === "truncate";
  function w(Ne, xe, hn) {
    Ne.width = xe, Ne.lineHeight = hn, v += hn, g = Math.max(g, xe);
  }
  e:
    for (var S = 0; S < r.lines.length; S++) {
      for (var T = r.lines[S], x = 0, L = 0, k = 0; k < T.tokens.length; k++) {
        var M = T.tokens[k], O = M.styleName && n.rich[M.styleName] || {}, ie = M.textPadding = O.padding, F = ie ? ie[1] + ie[3] : 0, j = M.font = O.font || n.font;
        M.contentHeight = getLineHeight(j);
        var D = retrieve2(O.height, M.contentHeight);
        if (M.innerHeight = D, ie && (D += ie[0] + ie[2]), M.height = D, M.lineHeight = retrieve3(O.lineHeight, n.lineHeight, D), M.align = O && O.align || n.align, M.verticalAlign = O && O.verticalAlign || "middle", A && a != null && v + M.lineHeight > a) {
          k > 0 ? (T.tokens = T.tokens.slice(0, k), w(T, L, x), r.lines = r.lines.slice(0, S + 1)) : r.lines = r.lines.slice(0, S);
          break e;
        }
        var Y = O.width, z = Y == null || Y === "auto";
        if (typeof Y == "string" && Y.charAt(Y.length - 1) === "%")
          M.percentWidth = Y, y.push(M), M.contentWidth = getWidth(M.text, j);
        else {
          if (z) {
            var Ie = O.backgroundColor, ue = Ie && Ie.image;
            ue && (ue = findExistImage(ue), isImageReady(ue) && (M.width = Math.max(M.width, ue.width * D / ue.height)));
          }
          var Ce = b && o != null ? o - L : null;
          Ce != null && Ce < M.width ? !z || Ce < F ? (M.text = "", M.width = M.contentWidth = 0) : (M.text = truncateText(M.text, Ce - F, j, n.ellipsis, { minChar: n.truncateMinChar }), M.width = M.contentWidth = getWidth(M.text, j)) : M.contentWidth = getWidth(M.text, j);
        }
        M.width += F, L += M.width, O && (x = Math.max(x, M.lineHeight));
      }
      w(T, L, x);
    }
  r.outerWidth = r.width = retrieve2(o, g), r.outerHeight = r.height = retrieve2(a, v), r.contentHeight = v, r.contentWidth = g, _ && (r.outerWidth += _[1] + _[3], r.outerHeight += _[0] + _[2]);
  for (var S = 0; S < y.length; S++) {
    var M = y[S], pe = M.percentWidth;
    M.width = parseInt(pe, 10) / 100 * r.width;
  }
  return r;
}
function pushTokens(i, n, r, o, a) {
  var u = n === "", c = a && r.rich[a] || {}, f = i.lines, d = c.font || r.font, p = !1, y, v;
  if (o) {
    var g = c.padding, _ = g ? g[1] + g[3] : 0;
    if (c.width != null && c.width !== "auto") {
      var b = parsePercent$1(c.width, o.width) + _;
      f.length > 0 && b + o.accumWidth > o.width && (y = n.split(`
`), p = !0), o.accumWidth = b;
    } else {
      var A = wrapText(n, d, o.width, o.breakAll, o.accumWidth);
      o.accumWidth = A.accumWidth + _, v = A.linesWidths, y = A.lines;
    }
  } else
    y = n.split(`
`);
  for (var w = 0; w < y.length; w++) {
    var S = y[w], T = new RichTextToken();
    if (T.styleName = a, T.text = S, T.isLineHolder = !S && !u, typeof c.width == "number" ? T.width = c.width : T.width = v ? v[w] : getWidth(S, d), !w && !p) {
      var x = (f[f.length - 1] || (f[0] = new RichTextLine())).tokens, L = x.length;
      L === 1 && x[0].isLineHolder ? x[0] = T : (S || !L || u) && x.push(T);
    } else
      f.push(new RichTextLine([T]));
  }
}
function isLatin(i) {
  var n = i.charCodeAt(0);
  return n >= 33 && n <= 383;
}
var breakCharMap = reduce(",&?/;] ".split(""), function(i, n) {
  return i[n] = !0, i;
}, {});
function isWordBreakChar(i) {
  return isLatin(i) ? !!breakCharMap[i] : !0;
}
function wrapText(i, n, r, o, a) {
  for (var u = [], c = [], f = "", d = "", p = 0, y = 0, v = 0; v < i.length; v++) {
    var g = i.charAt(v);
    if (g === `
`) {
      d && (f += d, y += p), u.push(f), c.push(y), f = "", d = "", p = 0, y = 0;
      continue;
    }
    var _ = getWidth(g, n), b = o ? !1 : !isWordBreakChar(g);
    if (u.length ? y + _ > r : a + y + _ > r) {
      y ? (f || d) && (b ? (f || (f = d, d = "", p = 0, y = p), u.push(f), c.push(y - p), d += g, p += _, f = "", y = p) : (d && (f += d, d = "", p = 0), u.push(f), c.push(y), f = g, y = _)) : b ? (u.push(d), c.push(p), d = g, p = _) : (u.push(g), c.push(_));
      continue;
    }
    y += _, b ? (d += g, p += _) : (d && (f += d, d = "", p = 0), f += g);
  }
  return !u.length && !f && (f = i, d = "", p = 0), d && (f += d), f && (u.push(f), c.push(y)), u.length === 1 && (y += a), {
    accumWidth: y,
    lines: u,
    linesWidths: c
  };
}
var STYLE_MAGIC_KEY = "__zr_style_" + Math.round(Math.random() * 10), DEFAULT_COMMON_STYLE = {
  shadowBlur: 0,
  shadowOffsetX: 0,
  shadowOffsetY: 0,
  shadowColor: "#000",
  opacity: 1,
  blend: "source-over"
}, DEFAULT_COMMON_ANIMATION_PROPS = {
  style: {
    shadowBlur: !0,
    shadowOffsetX: !0,
    shadowOffsetY: !0,
    shadowColor: !0,
    opacity: !0
  }
};
DEFAULT_COMMON_STYLE[STYLE_MAGIC_KEY] = !0;
var PRIMARY_STATES_KEYS = ["z", "z2", "invisible"], PRIMARY_STATES_KEYS_IN_HOVER_LAYER = ["invisible"], Displayable = function(i) {
  __extends(n, i);
  function n(r) {
    return i.call(this, r) || this;
  }
  return n.prototype._init = function(r) {
    for (var o = keys(r), a = 0; a < o.length; a++) {
      var u = o[a];
      u === "style" ? this.useStyle(r[u]) : i.prototype.attrKV.call(this, u, r[u]);
    }
    this.style || this.useStyle({});
  }, n.prototype.beforeBrush = function() {
  }, n.prototype.afterBrush = function() {
  }, n.prototype.innerBeforeBrush = function() {
  }, n.prototype.innerAfterBrush = function() {
  }, n.prototype.shouldBePainted = function(r, o, a, u) {
    var c = this.transform;
    if (this.ignore || this.invisible || this.style.opacity === 0 || this.culling && isDisplayableCulled(this, r, o) || c && !c[0] && !c[3])
      return !1;
    if (a && this.__clipPaths) {
      for (var f = 0; f < this.__clipPaths.length; ++f)
        if (this.__clipPaths[f].isZeroArea())
          return !1;
    }
    if (u && this.parent)
      for (var d = this.parent; d; ) {
        if (d.ignore)
          return !1;
        d = d.parent;
      }
    return !0;
  }, n.prototype.contain = function(r, o) {
    return this.rectContain(r, o);
  }, n.prototype.traverse = function(r, o) {
    r.call(o, this);
  }, n.prototype.rectContain = function(r, o) {
    var a = this.transformCoordToLocal(r, o), u = this.getBoundingRect();
    return u.contain(a[0], a[1]);
  }, n.prototype.getPaintRect = function() {
    var r = this._paintRect;
    if (!this._paintRect || this.__dirty) {
      var o = this.transform, a = this.getBoundingRect(), u = this.style, c = u.shadowBlur || 0, f = u.shadowOffsetX || 0, d = u.shadowOffsetY || 0;
      r = this._paintRect || (this._paintRect = new BoundingRect$1(0, 0, 0, 0)), o ? BoundingRect$1.applyTransform(r, a, o) : r.copy(a), (c || f || d) && (r.width += c * 2 + Math.abs(f), r.height += c * 2 + Math.abs(d), r.x = Math.min(r.x, r.x + f - c), r.y = Math.min(r.y, r.y + d - c));
      var p = this.dirtyRectTolerance;
      r.isZero() || (r.x = Math.floor(r.x - p), r.y = Math.floor(r.y - p), r.width = Math.ceil(r.width + 1 + p * 2), r.height = Math.ceil(r.height + 1 + p * 2));
    }
    return r;
  }, n.prototype.setPrevPaintRect = function(r) {
    r ? (this._prevPaintRect = this._prevPaintRect || new BoundingRect$1(0, 0, 0, 0), this._prevPaintRect.copy(r)) : this._prevPaintRect = null;
  }, n.prototype.getPrevPaintRect = function() {
    return this._prevPaintRect;
  }, n.prototype.animateStyle = function(r) {
    return this.animate("style", r);
  }, n.prototype.updateDuringAnimation = function(r) {
    r === "style" ? this.dirtyStyle() : this.markRedraw();
  }, n.prototype.attrKV = function(r, o) {
    r !== "style" ? i.prototype.attrKV.call(this, r, o) : this.style ? this.setStyle(o) : this.useStyle(o);
  }, n.prototype.setStyle = function(r, o) {
    return typeof r == "string" ? this.style[r] = o : extend(this.style, r), this.dirtyStyle(), this;
  }, n.prototype.dirtyStyle = function(r) {
    r || this.markRedraw(), this.__dirty |= STYLE_CHANGED_BIT, this._rect && (this._rect = null);
  }, n.prototype.dirty = function() {
    this.dirtyStyle();
  }, n.prototype.styleChanged = function() {
    return !!(this.__dirty & STYLE_CHANGED_BIT);
  }, n.prototype.styleUpdated = function() {
    this.__dirty &= ~STYLE_CHANGED_BIT;
  }, n.prototype.createStyle = function(r) {
    return createObject(DEFAULT_COMMON_STYLE, r);
  }, n.prototype.useStyle = function(r) {
    r[STYLE_MAGIC_KEY] || (r = this.createStyle(r)), this.__inHover ? this.__hoverStyle = r : this.style = r, this.dirtyStyle();
  }, n.prototype.isStyleObject = function(r) {
    return r[STYLE_MAGIC_KEY];
  }, n.prototype._innerSaveToNormal = function(r) {
    i.prototype._innerSaveToNormal.call(this, r);
    var o = this._normalState;
    r.style && !o.style && (o.style = this._mergeStyle(this.createStyle(), this.style)), this._savePrimaryToNormal(r, o, PRIMARY_STATES_KEYS);
  }, n.prototype._applyStateObj = function(r, o, a, u, c, f) {
    i.prototype._applyStateObj.call(this, r, o, a, u, c, f);
    var d = !(o && u), p;
    if (o && o.style ? c ? u ? p = o.style : (p = this._mergeStyle(this.createStyle(), a.style), this._mergeStyle(p, o.style)) : (p = this._mergeStyle(this.createStyle(), u ? this.style : a.style), this._mergeStyle(p, o.style)) : d && (p = a.style), p)
      if (c) {
        var y = this.style;
        if (this.style = this.createStyle(d ? {} : y), d)
          for (var v = keys(y), g = 0; g < v.length; g++) {
            var _ = v[g];
            _ in p && (p[_] = p[_], this.style[_] = y[_]);
          }
        for (var b = keys(p), g = 0; g < b.length; g++) {
          var _ = b[g];
          this.style[_] = this.style[_];
        }
        this._transitionState(r, {
          style: p
        }, f, this.getAnimationStyleProps());
      } else
        this.useStyle(p);
    for (var A = this.__inHover ? PRIMARY_STATES_KEYS_IN_HOVER_LAYER : PRIMARY_STATES_KEYS, g = 0; g < A.length; g++) {
      var _ = A[g];
      o && o[_] != null ? this[_] = o[_] : d && a[_] != null && (this[_] = a[_]);
    }
  }, n.prototype._mergeStates = function(r) {
    for (var o = i.prototype._mergeStates.call(this, r), a, u = 0; u < r.length; u++) {
      var c = r[u];
      c.style && (a = a || {}, this._mergeStyle(a, c.style));
    }
    return a && (o.style = a), o;
  }, n.prototype._mergeStyle = function(r, o) {
    return extend(r, o), r;
  }, n.prototype.getAnimationStyleProps = function() {
    return DEFAULT_COMMON_ANIMATION_PROPS;
  }, n.initDefaultProps = function() {
    var r = n.prototype;
    r.type = "displayable", r.invisible = !1, r.z = 0, r.z2 = 0, r.zlevel = 0, r.culling = !1, r.cursor = "pointer", r.rectHover = !1, r.incremental = !1, r._rect = null, r.dirtyRectTolerance = 0, r.__dirty = REDRAW_BIT | STYLE_CHANGED_BIT;
  }(), n;
}(Element$2), tmpRect = new BoundingRect$1(0, 0, 0, 0), viewRect = new BoundingRect$1(0, 0, 0, 0);
function isDisplayableCulled(i, n, r) {
  return tmpRect.copy(i.getBoundingRect()), i.transform && tmpRect.applyTransform(i.transform), viewRect.width = n, viewRect.height = r, !tmpRect.intersect(viewRect);
}
const Displayable$1 = Displayable;
var mathMin$3 = Math.min, mathMax$3 = Math.max, mathSin$4 = Math.sin, mathCos$4 = Math.cos, PI2$7 = Math.PI * 2, start = create$1(), end = create$1(), extremity = create$1();
function fromLine(i, n, r, o, a, u) {
  a[0] = mathMin$3(i, r), a[1] = mathMin$3(n, o), u[0] = mathMax$3(i, r), u[1] = mathMax$3(n, o);
}
var xDim = [], yDim = [];
function fromCubic(i, n, r, o, a, u, c, f, d, p) {
  var y = cubicExtrema, v = cubicAt, g = y(i, r, a, c, xDim);
  d[0] = 1 / 0, d[1] = 1 / 0, p[0] = -1 / 0, p[1] = -1 / 0;
  for (var _ = 0; _ < g; _++) {
    var b = v(i, r, a, c, xDim[_]);
    d[0] = mathMin$3(b, d[0]), p[0] = mathMax$3(b, p[0]);
  }
  g = y(n, o, u, f, yDim);
  for (var _ = 0; _ < g; _++) {
    var A = v(n, o, u, f, yDim[_]);
    d[1] = mathMin$3(A, d[1]), p[1] = mathMax$3(A, p[1]);
  }
  d[0] = mathMin$3(i, d[0]), p[0] = mathMax$3(i, p[0]), d[0] = mathMin$3(c, d[0]), p[0] = mathMax$3(c, p[0]), d[1] = mathMin$3(n, d[1]), p[1] = mathMax$3(n, p[1]), d[1] = mathMin$3(f, d[1]), p[1] = mathMax$3(f, p[1]);
}
function fromQuadratic(i, n, r, o, a, u, c, f) {
  var d = quadraticExtremum, p = quadraticAt, y = mathMax$3(mathMin$3(d(i, r, a), 1), 0), v = mathMax$3(mathMin$3(d(n, o, u), 1), 0), g = p(i, r, a, y), _ = p(n, o, u, v);
  c[0] = mathMin$3(i, a, g), c[1] = mathMin$3(n, u, _), f[0] = mathMax$3(i, a, g), f[1] = mathMax$3(n, u, _);
}
function fromArc(i, n, r, o, a, u, c, f, d) {
  var p = min$1, y = max$1, v = Math.abs(a - u);
  if (v % PI2$7 < 1e-4 && v > 1e-4) {
    f[0] = i - r, f[1] = n - o, d[0] = i + r, d[1] = n + o;
    return;
  }
  if (start[0] = mathCos$4(a) * r + i, start[1] = mathSin$4(a) * o + n, end[0] = mathCos$4(u) * r + i, end[1] = mathSin$4(u) * o + n, p(f, start, end), y(d, start, end), a = a % PI2$7, a < 0 && (a = a + PI2$7), u = u % PI2$7, u < 0 && (u = u + PI2$7), a > u && !c ? u += PI2$7 : a < u && c && (a += PI2$7), c) {
    var g = u;
    u = a, a = g;
  }
  for (var _ = 0; _ < u; _ += Math.PI / 2)
    _ > a && (extremity[0] = mathCos$4(_) * r + i, extremity[1] = mathSin$4(_) * o + n, p(f, extremity, f), y(d, extremity, d));
}
var CMD$2 = {
  M: 1,
  L: 2,
  C: 3,
  Q: 4,
  A: 5,
  Z: 6,
  R: 7
}, tmpOutX = [], tmpOutY = [], min = [], max = [], min2 = [], max2 = [], mathMin$2 = Math.min, mathMax$2 = Math.max, mathCos$3 = Math.cos, mathSin$3 = Math.sin, mathAbs$1 = Math.abs, PI$5 = Math.PI, PI2$6 = PI$5 * 2, hasTypedArray = typeof Float32Array < "u", tmpAngles = [];
function modPI2(i) {
  var n = Math.round(i / PI$5 * 1e8) / 1e8;
  return n % 2 * PI$5;
}
function normalizeArcAngles(i, n) {
  var r = modPI2(i[0]);
  r < 0 && (r += PI2$6);
  var o = r - i[0], a = i[1];
  a += o, !n && a - r >= PI2$6 ? a = r + PI2$6 : n && r - a >= PI2$6 ? a = r - PI2$6 : !n && r > a ? a = r + (PI2$6 - modPI2(r - a)) : n && r < a && (a = r - (PI2$6 - modPI2(a - r))), i[0] = r, i[1] = a;
}
var PathProxy = function() {
  function i(n) {
    this.dpr = 1, this._xi = 0, this._yi = 0, this._x0 = 0, this._y0 = 0, this._len = 0, n && (this._saveData = !1), this._saveData && (this.data = []);
  }
  return i.prototype.increaseVersion = function() {
    this._version++;
  }, i.prototype.getVersion = function() {
    return this._version;
  }, i.prototype.setScale = function(n, r, o) {
    o = o || 0, o > 0 && (this._ux = mathAbs$1(o / devicePixelRatio / n) || 0, this._uy = mathAbs$1(o / devicePixelRatio / r) || 0);
  }, i.prototype.setDPR = function(n) {
    this.dpr = n;
  }, i.prototype.setContext = function(n) {
    this._ctx = n;
  }, i.prototype.getContext = function() {
    return this._ctx;
  }, i.prototype.beginPath = function() {
    return this._ctx && this._ctx.beginPath(), this.reset(), this;
  }, i.prototype.reset = function() {
    this._saveData && (this._len = 0), this._pathSegLen && (this._pathSegLen = null, this._pathLen = 0), this._version++;
  }, i.prototype.moveTo = function(n, r) {
    return this._drawPendingPt(), this.addData(CMD$2.M, n, r), this._ctx && this._ctx.moveTo(n, r), this._x0 = n, this._y0 = r, this._xi = n, this._yi = r, this;
  }, i.prototype.lineTo = function(n, r) {
    var o = mathAbs$1(n - this._xi), a = mathAbs$1(r - this._yi), u = o > this._ux || a > this._uy;
    if (this.addData(CMD$2.L, n, r), this._ctx && u && this._ctx.lineTo(n, r), u)
      this._xi = n, this._yi = r, this._pendingPtDist = 0;
    else {
      var c = o * o + a * a;
      c > this._pendingPtDist && (this._pendingPtX = n, this._pendingPtY = r, this._pendingPtDist = c);
    }
    return this;
  }, i.prototype.bezierCurveTo = function(n, r, o, a, u, c) {
    return this._drawPendingPt(), this.addData(CMD$2.C, n, r, o, a, u, c), this._ctx && this._ctx.bezierCurveTo(n, r, o, a, u, c), this._xi = u, this._yi = c, this;
  }, i.prototype.quadraticCurveTo = function(n, r, o, a) {
    return this._drawPendingPt(), this.addData(CMD$2.Q, n, r, o, a), this._ctx && this._ctx.quadraticCurveTo(n, r, o, a), this._xi = o, this._yi = a, this;
  }, i.prototype.arc = function(n, r, o, a, u, c) {
    this._drawPendingPt(), tmpAngles[0] = a, tmpAngles[1] = u, normalizeArcAngles(tmpAngles, c), a = tmpAngles[0], u = tmpAngles[1];
    var f = u - a;
    return this.addData(CMD$2.A, n, r, o, o, a, f, 0, c ? 0 : 1), this._ctx && this._ctx.arc(n, r, o, a, u, c), this._xi = mathCos$3(u) * o + n, this._yi = mathSin$3(u) * o + r, this;
  }, i.prototype.arcTo = function(n, r, o, a, u) {
    return this._drawPendingPt(), this._ctx && this._ctx.arcTo(n, r, o, a, u), this;
  }, i.prototype.rect = function(n, r, o, a) {
    return this._drawPendingPt(), this._ctx && this._ctx.rect(n, r, o, a), this.addData(CMD$2.R, n, r, o, a), this;
  }, i.prototype.closePath = function() {
    this._drawPendingPt(), this.addData(CMD$2.Z);
    var n = this._ctx, r = this._x0, o = this._y0;
    return n && n.closePath(), this._xi = r, this._yi = o, this;
  }, i.prototype.fill = function(n) {
    n && n.fill(), this.toStatic();
  }, i.prototype.stroke = function(n) {
    n && n.stroke(), this.toStatic();
  }, i.prototype.len = function() {
    return this._len;
  }, i.prototype.setData = function(n) {
    var r = n.length;
    !(this.data && this.data.length === r) && hasTypedArray && (this.data = new Float32Array(r));
    for (var o = 0; o < r; o++)
      this.data[o] = n[o];
    this._len = r;
  }, i.prototype.appendPath = function(n) {
    n instanceof Array || (n = [n]);
    for (var r = n.length, o = 0, a = this._len, u = 0; u < r; u++)
      o += n[u].len();
    hasTypedArray && this.data instanceof Float32Array && (this.data = new Float32Array(a + o));
    for (var u = 0; u < r; u++)
      for (var c = n[u].data, f = 0; f < c.length; f++)
        this.data[a++] = c[f];
    this._len = a;
  }, i.prototype.addData = function(n, r, o, a, u, c, f, d, p) {
    if (this._saveData) {
      var y = this.data;
      this._len + arguments.length > y.length && (this._expandData(), y = this.data);
      for (var v = 0; v < arguments.length; v++)
        y[this._len++] = arguments[v];
    }
  }, i.prototype._drawPendingPt = function() {
    this._pendingPtDist > 0 && (this._ctx && this._ctx.lineTo(this._pendingPtX, this._pendingPtY), this._pendingPtDist = 0);
  }, i.prototype._expandData = function() {
    if (!(this.data instanceof Array)) {
      for (var n = [], r = 0; r < this._len; r++)
        n[r] = this.data[r];
      this.data = n;
    }
  }, i.prototype.toStatic = function() {
    if (this._saveData) {
      this._drawPendingPt();
      var n = this.data;
      n instanceof Array && (n.length = this._len, hasTypedArray && this._len > 11 && (this.data = new Float32Array(n)));
    }
  }, i.prototype.getBoundingRect = function() {
    min[0] = min[1] = min2[0] = min2[1] = Number.MAX_VALUE, max[0] = max[1] = max2[0] = max2[1] = -Number.MAX_VALUE;
    var n = this.data, r = 0, o = 0, a = 0, u = 0, c;
    for (c = 0; c < this._len; ) {
      var f = n[c++], d = c === 1;
      switch (d && (r = n[c], o = n[c + 1], a = r, u = o), f) {
        case CMD$2.M:
          r = a = n[c++], o = u = n[c++], min2[0] = a, min2[1] = u, max2[0] = a, max2[1] = u;
          break;
        case CMD$2.L:
          fromLine(r, o, n[c], n[c + 1], min2, max2), r = n[c++], o = n[c++];
          break;
        case CMD$2.C:
          fromCubic(r, o, n[c++], n[c++], n[c++], n[c++], n[c], n[c + 1], min2, max2), r = n[c++], o = n[c++];
          break;
        case CMD$2.Q:
          fromQuadratic(r, o, n[c++], n[c++], n[c], n[c + 1], min2, max2), r = n[c++], o = n[c++];
          break;
        case CMD$2.A:
          var p = n[c++], y = n[c++], v = n[c++], g = n[c++], _ = n[c++], b = n[c++] + _;
          c += 1;
          var A = !n[c++];
          d && (a = mathCos$3(_) * v + p, u = mathSin$3(_) * g + y), fromArc(p, y, v, g, _, b, A, min2, max2), r = mathCos$3(b) * v + p, o = mathSin$3(b) * g + y;
          break;
        case CMD$2.R:
          a = r = n[c++], u = o = n[c++];
          var w = n[c++], S = n[c++];
          fromLine(a, u, a + w, u + S, min2, max2);
          break;
        case CMD$2.Z:
          r = a, o = u;
          break;
      }
      min$1(min, min, min2), max$1(max, max, max2);
    }
    return c === 0 && (min[0] = min[1] = max[0] = max[1] = 0), new BoundingRect$1(min[0], min[1], max[0] - min[0], max[1] - min[1]);
  }, i.prototype._calculateLength = function() {
    var n = this.data, r = this._len, o = this._ux, a = this._uy, u = 0, c = 0, f = 0, d = 0;
    this._pathSegLen || (this._pathSegLen = []);
    for (var p = this._pathSegLen, y = 0, v = 0, g = 0; g < r; ) {
      var _ = n[g++], b = g === 1;
      b && (u = n[g], c = n[g + 1], f = u, d = c);
      var A = -1;
      switch (_) {
        case CMD$2.M:
          u = f = n[g++], c = d = n[g++];
          break;
        case CMD$2.L: {
          var w = n[g++], S = n[g++], T = w - u, x = S - c;
          (mathAbs$1(T) > o || mathAbs$1(x) > a || g === r - 1) && (A = Math.sqrt(T * T + x * x), u = w, c = S);
          break;
        }
        case CMD$2.C: {
          var L = n[g++], k = n[g++], w = n[g++], S = n[g++], M = n[g++], O = n[g++];
          A = cubicLength(u, c, L, k, w, S, M, O, 10), u = M, c = O;
          break;
        }
        case CMD$2.Q: {
          var L = n[g++], k = n[g++], w = n[g++], S = n[g++];
          A = quadraticLength(u, c, L, k, w, S, 10), u = w, c = S;
          break;
        }
        case CMD$2.A:
          var ie = n[g++], F = n[g++], j = n[g++], D = n[g++], Y = n[g++], z = n[g++], Ie = z + Y;
          g += 1, n[g++], b && (f = mathCos$3(Y) * j + ie, d = mathSin$3(Y) * D + F), A = mathMax$2(j, D) * mathMin$2(PI2$6, Math.abs(z)), u = mathCos$3(Ie) * j + ie, c = mathSin$3(Ie) * D + F;
          break;
        case CMD$2.R: {
          f = u = n[g++], d = c = n[g++];
          var ue = n[g++], Ce = n[g++];
          A = ue * 2 + Ce * 2;
          break;
        }
        case CMD$2.Z: {
          var T = f - u, x = d - c;
          A = Math.sqrt(T * T + x * x), u = f, c = d;
          break;
        }
      }
      A >= 0 && (p[v++] = A, y += A);
    }
    return this._pathLen = y, y;
  }, i.prototype.rebuildPath = function(n, r) {
    var o = this.data, a = this._ux, u = this._uy, c = this._len, f, d, p, y, v, g, _ = r < 1, b, A, w = 0, S = 0, T, x = 0, L, k;
    if (!(_ && (this._pathSegLen || this._calculateLength(), b = this._pathSegLen, A = this._pathLen, T = r * A, !T)))
      e:
        for (var M = 0; M < c; ) {
          var O = o[M++], ie = M === 1;
          switch (ie && (p = o[M], y = o[M + 1], f = p, d = y), O !== CMD$2.L && x > 0 && (n.lineTo(L, k), x = 0), O) {
            case CMD$2.M:
              f = p = o[M++], d = y = o[M++], n.moveTo(p, y);
              break;
            case CMD$2.L: {
              v = o[M++], g = o[M++];
              var F = mathAbs$1(v - p), j = mathAbs$1(g - y);
              if (F > a || j > u) {
                if (_) {
                  var D = b[S++];
                  if (w + D > T) {
                    var Y = (T - w) / D;
                    n.lineTo(p * (1 - Y) + v * Y, y * (1 - Y) + g * Y);
                    break e;
                  }
                  w += D;
                }
                n.lineTo(v, g), p = v, y = g, x = 0;
              } else {
                var z = F * F + j * j;
                z > x && (L = v, k = g, x = z);
              }
              break;
            }
            case CMD$2.C: {
              var Ie = o[M++], ue = o[M++], Ce = o[M++], pe = o[M++], Ne = o[M++], xe = o[M++];
              if (_) {
                var D = b[S++];
                if (w + D > T) {
                  var Y = (T - w) / D;
                  cubicSubdivide(p, Ie, Ce, Ne, Y, tmpOutX), cubicSubdivide(y, ue, pe, xe, Y, tmpOutY), n.bezierCurveTo(tmpOutX[1], tmpOutY[1], tmpOutX[2], tmpOutY[2], tmpOutX[3], tmpOutY[3]);
                  break e;
                }
                w += D;
              }
              n.bezierCurveTo(Ie, ue, Ce, pe, Ne, xe), p = Ne, y = xe;
              break;
            }
            case CMD$2.Q: {
              var Ie = o[M++], ue = o[M++], Ce = o[M++], pe = o[M++];
              if (_) {
                var D = b[S++];
                if (w + D > T) {
                  var Y = (T - w) / D;
                  quadraticSubdivide(p, Ie, Ce, Y, tmpOutX), quadraticSubdivide(y, ue, pe, Y, tmpOutY), n.quadraticCurveTo(tmpOutX[1], tmpOutY[1], tmpOutX[2], tmpOutY[2]);
                  break e;
                }
                w += D;
              }
              n.quadraticCurveTo(Ie, ue, Ce, pe), p = Ce, y = pe;
              break;
            }
            case CMD$2.A:
              var hn = o[M++], Pt = o[M++], _n = o[M++], In = o[M++], Dt = o[M++], he = o[M++], At = o[M++], Lt = !o[M++], Cn = _n > In ? _n : In, ze = mathAbs$1(_n - In) > 1e-3, _e = Dt + he, de = !1;
              if (_) {
                var D = b[S++];
                w + D > T && (_e = Dt + he * (T - w) / D, de = !0), w += D;
              }
              if (ze && n.ellipse ? n.ellipse(hn, Pt, _n, In, At, Dt, _e, Lt) : n.arc(hn, Pt, Cn, Dt, _e, Lt), de)
                break e;
              ie && (f = mathCos$3(Dt) * _n + hn, d = mathSin$3(Dt) * In + Pt), p = mathCos$3(_e) * _n + hn, y = mathSin$3(_e) * In + Pt;
              break;
            case CMD$2.R:
              f = p = o[M], d = y = o[M + 1], v = o[M++], g = o[M++];
              var Et = o[M++], Ve = o[M++];
              if (_) {
                var D = b[S++];
                if (w + D > T) {
                  var $e = T - w;
                  n.moveTo(v, g), n.lineTo(v + mathMin$2($e, Et), g), $e -= Et, $e > 0 && n.lineTo(v + Et, g + mathMin$2($e, Ve)), $e -= Ve, $e > 0 && n.lineTo(v + mathMax$2(Et - $e, 0), g + Ve), $e -= Et, $e > 0 && n.lineTo(v, g + mathMax$2(Ve - $e, 0));
                  break e;
                }
                w += D;
              }
              n.rect(v, g, Et, Ve);
              break;
            case CMD$2.Z:
              if (_) {
                var D = b[S++];
                if (w + D > T) {
                  var Y = (T - w) / D;
                  n.lineTo(p * (1 - Y) + f * Y, y * (1 - Y) + d * Y);
                  break e;
                }
                w += D;
              }
              n.closePath(), p = f, y = d;
          }
        }
  }, i.prototype.clone = function() {
    var n = new i(), r = this.data;
    return n.data = r.slice ? r.slice() : Array.prototype.slice.call(r), n._len = this._len, n;
  }, i.CMD = CMD$2, i.initDefaultProps = function() {
    var n = i.prototype;
    n._saveData = !0, n._ux = 0, n._uy = 0, n._pendingPtDist = 0, n._version = 0;
  }(), i;
}();
const PathProxy$1 = PathProxy;
function containStroke$4(i, n, r, o, a, u, c) {
  if (a === 0)
    return !1;
  var f = a, d = 0, p = i;
  if (c > n + f && c > o + f || c < n - f && c < o - f || u > i + f && u > r + f || u < i - f && u < r - f)
    return !1;
  if (i !== r)
    d = (n - o) / (i - r), p = (i * o - r * n) / (i - r);
  else
    return Math.abs(u - i) <= f / 2;
  var y = d * u - c + p, v = y * y / (d * d + 1);
  return v <= f / 2 * f / 2;
}
function containStroke$3(i, n, r, o, a, u, c, f, d, p, y) {
  if (d === 0)
    return !1;
  var v = d;
  if (y > n + v && y > o + v && y > u + v && y > f + v || y < n - v && y < o - v && y < u - v && y < f - v || p > i + v && p > r + v && p > a + v && p > c + v || p < i - v && p < r - v && p < a - v && p < c - v)
    return !1;
  var g = cubicProjectPoint(i, n, r, o, a, u, c, f, p, y, null);
  return g <= v / 2;
}
function containStroke$2(i, n, r, o, a, u, c, f, d) {
  if (c === 0)
    return !1;
  var p = c;
  if (d > n + p && d > o + p && d > u + p || d < n - p && d < o - p && d < u - p || f > i + p && f > r + p && f > a + p || f < i - p && f < r - p && f < a - p)
    return !1;
  var y = quadraticProjectPoint(i, n, r, o, a, u, f, d, null);
  return y <= p / 2;
}
var PI2$5 = Math.PI * 2;
function normalizeRadian(i) {
  return i %= PI2$5, i < 0 && (i += PI2$5), i;
}
var PI2$4 = Math.PI * 2;
function containStroke$1(i, n, r, o, a, u, c, f, d) {
  if (c === 0)
    return !1;
  var p = c;
  f -= i, d -= n;
  var y = Math.sqrt(f * f + d * d);
  if (y - p > r || y + p < r)
    return !1;
  if (Math.abs(o - a) % PI2$4 < 1e-4)
    return !0;
  if (u) {
    var v = o;
    o = normalizeRadian(a), a = normalizeRadian(v);
  } else
    o = normalizeRadian(o), a = normalizeRadian(a);
  o > a && (a += PI2$4);
  var g = Math.atan2(d, f);
  return g < 0 && (g += PI2$4), g >= o && g <= a || g + PI2$4 >= o && g + PI2$4 <= a;
}
function windingLine(i, n, r, o, a, u) {
  if (u > n && u > o || u < n && u < o || o === n)
    return 0;
  var c = (u - n) / (o - n), f = o < n ? 1 : -1;
  (c === 1 || c === 0) && (f = o < n ? 0.5 : -0.5);
  var d = c * (r - i) + i;
  return d === a ? 1 / 0 : d > a ? f : 0;
}
var CMD$1 = PathProxy$1.CMD, PI2$3 = Math.PI * 2, EPSILON = 1e-4;
function isAroundEqual(i, n) {
  return Math.abs(i - n) < EPSILON;
}
var roots = [-1, -1, -1], extrema = [-1, -1];
function swapExtrema() {
  var i = extrema[0];
  extrema[0] = extrema[1], extrema[1] = i;
}
function windingCubic(i, n, r, o, a, u, c, f, d, p) {
  if (p > n && p > o && p > u && p > f || p < n && p < o && p < u && p < f)
    return 0;
  var y = cubicRootAt(n, o, u, f, p, roots);
  if (y === 0)
    return 0;
  for (var v = 0, g = -1, _ = void 0, b = void 0, A = 0; A < y; A++) {
    var w = roots[A], S = w === 0 || w === 1 ? 0.5 : 1, T = cubicAt(i, r, a, c, w);
    T < d || (g < 0 && (g = cubicExtrema(n, o, u, f, extrema), extrema[1] < extrema[0] && g > 1 && swapExtrema(), _ = cubicAt(n, o, u, f, extrema[0]), g > 1 && (b = cubicAt(n, o, u, f, extrema[1]))), g === 2 ? w < extrema[0] ? v += _ < n ? S : -S : w < extrema[1] ? v += b < _ ? S : -S : v += f < b ? S : -S : w < extrema[0] ? v += _ < n ? S : -S : v += f < _ ? S : -S);
  }
  return v;
}
function windingQuadratic(i, n, r, o, a, u, c, f) {
  if (f > n && f > o && f > u || f < n && f < o && f < u)
    return 0;
  var d = quadraticRootAt(n, o, u, f, roots);
  if (d === 0)
    return 0;
  var p = quadraticExtremum(n, o, u);
  if (p >= 0 && p <= 1) {
    for (var y = 0, v = quadraticAt(n, o, u, p), g = 0; g < d; g++) {
      var _ = roots[g] === 0 || roots[g] === 1 ? 0.5 : 1, b = quadraticAt(i, r, a, roots[g]);
      b < c || (roots[g] < p ? y += v < n ? _ : -_ : y += u < v ? _ : -_);
    }
    return y;
  } else {
    var _ = roots[0] === 0 || roots[0] === 1 ? 0.5 : 1, b = quadraticAt(i, r, a, roots[0]);
    return b < c ? 0 : u < n ? _ : -_;
  }
}
function windingArc(i, n, r, o, a, u, c, f) {
  if (f -= n, f > r || f < -r)
    return 0;
  var d = Math.sqrt(r * r - f * f);
  roots[0] = -d, roots[1] = d;
  var p = Math.abs(o - a);
  if (p < 1e-4)
    return 0;
  if (p >= PI2$3 - 1e-4) {
    o = 0, a = PI2$3;
    var y = u ? 1 : -1;
    return c >= roots[0] + i && c <= roots[1] + i ? y : 0;
  }
  if (o > a) {
    var v = o;
    o = a, a = v;
  }
  o < 0 && (o += PI2$3, a += PI2$3);
  for (var g = 0, _ = 0; _ < 2; _++) {
    var b = roots[_];
    if (b + i > c) {
      var A = Math.atan2(f, b), y = u ? 1 : -1;
      A < 0 && (A = PI2$3 + A), (A >= o && A <= a || A + PI2$3 >= o && A + PI2$3 <= a) && (A > Math.PI / 2 && A < Math.PI * 1.5 && (y = -y), g += y);
    }
  }
  return g;
}
function containPath(i, n, r, o, a) {
  for (var u = i.data, c = i.len(), f = 0, d = 0, p = 0, y = 0, v = 0, g, _, b = 0; b < c; ) {
    var A = u[b++], w = b === 1;
    switch (A === CMD$1.M && b > 1 && (r || (f += windingLine(d, p, y, v, o, a))), w && (d = u[b], p = u[b + 1], y = d, v = p), A) {
      case CMD$1.M:
        y = u[b++], v = u[b++], d = y, p = v;
        break;
      case CMD$1.L:
        if (r) {
          if (containStroke$4(d, p, u[b], u[b + 1], n, o, a))
            return !0;
        } else
          f += windingLine(d, p, u[b], u[b + 1], o, a) || 0;
        d = u[b++], p = u[b++];
        break;
      case CMD$1.C:
        if (r) {
          if (containStroke$3(d, p, u[b++], u[b++], u[b++], u[b++], u[b], u[b + 1], n, o, a))
            return !0;
        } else
          f += windingCubic(d, p, u[b++], u[b++], u[b++], u[b++], u[b], u[b + 1], o, a) || 0;
        d = u[b++], p = u[b++];
        break;
      case CMD$1.Q:
        if (r) {
          if (containStroke$2(d, p, u[b++], u[b++], u[b], u[b + 1], n, o, a))
            return !0;
        } else
          f += windingQuadratic(d, p, u[b++], u[b++], u[b], u[b + 1], o, a) || 0;
        d = u[b++], p = u[b++];
        break;
      case CMD$1.A:
        var S = u[b++], T = u[b++], x = u[b++], L = u[b++], k = u[b++], M = u[b++];
        b += 1;
        var O = !!(1 - u[b++]);
        g = Math.cos(k) * x + S, _ = Math.sin(k) * L + T, w ? (y = g, v = _) : f += windingLine(d, p, g, _, o, a);
        var ie = (o - S) * L / x + S;
        if (r) {
          if (containStroke$1(S, T, L, k, k + M, O, n, ie, a))
            return !0;
        } else
          f += windingArc(S, T, L, k, k + M, O, ie, a);
        d = Math.cos(k + M) * x + S, p = Math.sin(k + M) * L + T;
        break;
      case CMD$1.R:
        y = d = u[b++], v = p = u[b++];
        var F = u[b++], j = u[b++];
        if (g = y + F, _ = v + j, r) {
          if (containStroke$4(y, v, g, v, n, o, a) || containStroke$4(g, v, g, _, n, o, a) || containStroke$4(g, _, y, _, n, o, a) || containStroke$4(y, _, y, v, n, o, a))
            return !0;
        } else
          f += windingLine(g, v, g, _, o, a), f += windingLine(y, _, y, v, o, a);
        break;
      case CMD$1.Z:
        if (r) {
          if (containStroke$4(d, p, y, v, n, o, a))
            return !0;
        } else
          f += windingLine(d, p, y, v, o, a);
        d = y, p = v;
        break;
    }
  }
  return !r && !isAroundEqual(p, v) && (f += windingLine(d, p, y, v, o, a) || 0), f !== 0;
}
function contain(i, n, r) {
  return containPath(i, 0, !1, n, r);
}
function containStroke(i, n, r, o) {
  return containPath(i, n, !0, r, o);
}
var DEFAULT_PATH_STYLE = defaults({
  fill: "#000",
  stroke: null,
  strokePercent: 1,
  fillOpacity: 1,
  strokeOpacity: 1,
  lineDashOffset: 0,
  lineWidth: 1,
  lineCap: "butt",
  miterLimit: 10,
  strokeNoScale: !1,
  strokeFirst: !1
}, DEFAULT_COMMON_STYLE), DEFAULT_PATH_ANIMATION_PROPS = {
  style: defaults({
    fill: !0,
    stroke: !0,
    strokePercent: !0,
    fillOpacity: !0,
    strokeOpacity: !0,
    lineDashOffset: !0,
    lineWidth: !0,
    miterLimit: !0
  }, DEFAULT_COMMON_ANIMATION_PROPS.style)
}, pathCopyParams = TRANSFORMABLE_PROPS.concat([
  "invisible",
  "culling",
  "z",
  "z2",
  "zlevel",
  "parent"
]), Path = function(i) {
  __extends(n, i);
  function n(r) {
    return i.call(this, r) || this;
  }
  return n.prototype.update = function() {
    var r = this;
    i.prototype.update.call(this);
    var o = this.style;
    if (o.decal) {
      var a = this._decalEl = this._decalEl || new n();
      a.buildPath === n.prototype.buildPath && (a.buildPath = function(d) {
        r.buildPath(d, r.shape);
      }), a.silent = !0;
      var u = a.style;
      for (var c in o)
        u[c] !== o[c] && (u[c] = o[c]);
      u.fill = o.fill ? o.decal : null, u.decal = null, u.shadowColor = null, o.strokeFirst && (u.stroke = null);
      for (var f = 0; f < pathCopyParams.length; ++f)
        a[pathCopyParams[f]] = this[pathCopyParams[f]];
      a.__dirty |= REDRAW_BIT;
    } else
      this._decalEl && (this._decalEl = null);
  }, n.prototype.getDecalElement = function() {
    return this._decalEl;
  }, n.prototype._init = function(r) {
    var o = keys(r);
    this.shape = this.getDefaultShape();
    var a = this.getDefaultStyle();
    a && this.useStyle(a);
    for (var u = 0; u < o.length; u++) {
      var c = o[u], f = r[c];
      c === "style" ? this.style ? extend(this.style, f) : this.useStyle(f) : c === "shape" ? extend(this.shape, f) : i.prototype.attrKV.call(this, c, f);
    }
    this.style || this.useStyle({});
  }, n.prototype.getDefaultStyle = function() {
    return null;
  }, n.prototype.getDefaultShape = function() {
    return {};
  }, n.prototype.canBeInsideText = function() {
    return this.hasFill();
  }, n.prototype.getInsideTextFill = function() {
    var r = this.style.fill;
    if (r !== "none") {
      if (isString$2(r)) {
        var o = lum(r, 0);
        return o > 0.5 ? DARK_LABEL_COLOR : o > 0.2 ? LIGHTER_LABEL_COLOR : LIGHT_LABEL_COLOR;
      } else if (r)
        return LIGHT_LABEL_COLOR;
    }
    return DARK_LABEL_COLOR;
  }, n.prototype.getInsideTextStroke = function(r) {
    var o = this.style.fill;
    if (isString$2(o)) {
      var a = this.__zr, u = !!(a && a.isDarkMode()), c = lum(r, 0) < DARK_MODE_THRESHOLD;
      if (u === c)
        return o;
    }
  }, n.prototype.buildPath = function(r, o, a) {
  }, n.prototype.pathUpdated = function() {
    this.__dirty &= ~SHAPE_CHANGED_BIT;
  }, n.prototype.getUpdatedPathProxy = function(r) {
    return !this.path && this.createPathProxy(), this.path.beginPath(), this.buildPath(this.path, this.shape, r), this.path;
  }, n.prototype.createPathProxy = function() {
    this.path = new PathProxy$1(!1);
  }, n.prototype.hasStroke = function() {
    var r = this.style, o = r.stroke;
    return !(o == null || o === "none" || !(r.lineWidth > 0));
  }, n.prototype.hasFill = function() {
    var r = this.style, o = r.fill;
    return o != null && o !== "none";
  }, n.prototype.getBoundingRect = function() {
    var r = this._rect, o = this.style, a = !r;
    if (a) {
      var u = !1;
      this.path || (u = !0, this.createPathProxy());
      var c = this.path;
      (u || this.__dirty & SHAPE_CHANGED_BIT) && (c.beginPath(), this.buildPath(c, this.shape, !1), this.pathUpdated()), r = c.getBoundingRect();
    }
    if (this._rect = r, this.hasStroke() && this.path && this.path.len() > 0) {
      var f = this._rectStroke || (this._rectStroke = r.clone());
      if (this.__dirty || a) {
        f.copy(r);
        var d = o.strokeNoScale ? this.getLineScale() : 1, p = o.lineWidth;
        if (!this.hasFill()) {
          var y = this.strokeContainThreshold;
          p = Math.max(p, y ?? 4);
        }
        d > 1e-10 && (f.width += p / d, f.height += p / d, f.x -= p / d / 2, f.y -= p / d / 2);
      }
      return f;
    }
    return r;
  }, n.prototype.contain = function(r, o) {
    var a = this.transformCoordToLocal(r, o), u = this.getBoundingRect(), c = this.style;
    if (r = a[0], o = a[1], u.contain(r, o)) {
      var f = this.path;
      if (this.hasStroke()) {
        var d = c.lineWidth, p = c.strokeNoScale ? this.getLineScale() : 1;
        if (p > 1e-10 && (this.hasFill() || (d = Math.max(d, this.strokeContainThreshold)), containStroke(f, d / p, r, o)))
          return !0;
      }
      if (this.hasFill())
        return contain(f, r, o);
    }
    return !1;
  }, n.prototype.dirtyShape = function() {
    this.__dirty |= SHAPE_CHANGED_BIT, this._rect && (this._rect = null), this._decalEl && this._decalEl.dirtyShape(), this.markRedraw();
  }, n.prototype.dirty = function() {
    this.dirtyStyle(), this.dirtyShape();
  }, n.prototype.animateShape = function(r) {
    return this.animate("shape", r);
  }, n.prototype.updateDuringAnimation = function(r) {
    r === "style" ? this.dirtyStyle() : r === "shape" ? this.dirtyShape() : this.markRedraw();
  }, n.prototype.attrKV = function(r, o) {
    r === "shape" ? this.setShape(o) : i.prototype.attrKV.call(this, r, o);
  }, n.prototype.setShape = function(r, o) {
    var a = this.shape;
    return a || (a = this.shape = {}), typeof r == "string" ? a[r] = o : extend(a, r), this.dirtyShape(), this;
  }, n.prototype.shapeChanged = function() {
    return !!(this.__dirty & SHAPE_CHANGED_BIT);
  }, n.prototype.createStyle = function(r) {
    return createObject(DEFAULT_PATH_STYLE, r);
  }, n.prototype._innerSaveToNormal = function(r) {
    i.prototype._innerSaveToNormal.call(this, r);
    var o = this._normalState;
    r.shape && !o.shape && (o.shape = extend({}, this.shape));
  }, n.prototype._applyStateObj = function(r, o, a, u, c, f) {
    i.prototype._applyStateObj.call(this, r, o, a, u, c, f);
    var d = !(o && u), p;
    if (o && o.shape ? c ? u ? p = o.shape : (p = extend({}, a.shape), extend(p, o.shape)) : (p = extend({}, u ? this.shape : a.shape), extend(p, o.shape)) : d && (p = a.shape), p)
      if (c) {
        this.shape = extend({}, this.shape);
        for (var y = {}, v = keys(p), g = 0; g < v.length; g++) {
          var _ = v[g];
          typeof p[_] == "object" ? this.shape[_] = p[_] : y[_] = p[_];
        }
        this._transitionState(r, {
          shape: y
        }, f);
      } else
        this.shape = p, this.dirtyShape();
  }, n.prototype._mergeStates = function(r) {
    for (var o = i.prototype._mergeStates.call(this, r), a, u = 0; u < r.length; u++) {
      var c = r[u];
      c.shape && (a = a || {}, this._mergeStyle(a, c.shape));
    }
    return a && (o.shape = a), o;
  }, n.prototype.getAnimationStyleProps = function() {
    return DEFAULT_PATH_ANIMATION_PROPS;
  }, n.prototype.isZeroArea = function() {
    return !1;
  }, n.extend = function(r) {
    var o = function(u) {
      __extends(c, u);
      function c(f) {
        var d = u.call(this, f) || this;
        return r.init && r.init.call(d, f), d;
      }
      return c.prototype.getDefaultStyle = function() {
        return clone$2(r.style);
      }, c.prototype.getDefaultShape = function() {
        return clone$2(r.shape);
      }, c;
    }(n);
    for (var a in r)
      typeof r[a] == "function" && (o.prototype[a] = r[a]);
    return o;
  }, n.initDefaultProps = function() {
    var r = n.prototype;
    r.type = "path", r.strokeContainThreshold = 5, r.segmentIgnoreThreshold = 0, r.subPixelOptimize = !1, r.autoBatch = !1, r.__dirty = REDRAW_BIT | STYLE_CHANGED_BIT | SHAPE_CHANGED_BIT;
  }(), n;
}(Displayable$1);
const Path$1 = Path;
var DEFAULT_TSPAN_STYLE = defaults({
  strokeFirst: !0,
  font: DEFAULT_FONT,
  x: 0,
  y: 0,
  textAlign: "left",
  textBaseline: "top",
  miterLimit: 2
}, DEFAULT_PATH_STYLE), TSpan = function(i) {
  __extends(n, i);
  function n() {
    return i !== null && i.apply(this, arguments) || this;
  }
  return n.prototype.hasStroke = function() {
    var r = this.style, o = r.stroke;
    return o != null && o !== "none" && r.lineWidth > 0;
  }, n.prototype.hasFill = function() {
    var r = this.style, o = r.fill;
    return o != null && o !== "none";
  }, n.prototype.createStyle = function(r) {
    return createObject(DEFAULT_TSPAN_STYLE, r);
  }, n.prototype.setBoundingRect = function(r) {
    this._rect = r;
  }, n.prototype.getBoundingRect = function() {
    var r = this.style;
    if (!this._rect) {
      var o = r.text;
      o != null ? o += "" : o = "";
      var a = getBoundingRect(o, r.font, r.textAlign, r.textBaseline);
      if (a.x += r.x || 0, a.y += r.y || 0, this.hasStroke()) {
        var u = r.lineWidth;
        a.x -= u / 2, a.y -= u / 2, a.width += u, a.height += u;
      }
      this._rect = a;
    }
    return this._rect;
  }, n.initDefaultProps = function() {
    var r = n.prototype;
    r.dirtyRectTolerance = 10;
  }(), n;
}(Displayable$1);
TSpan.prototype.type = "tspan";
const TSpan$1 = TSpan;
var DEFAULT_IMAGE_STYLE = defaults({
  x: 0,
  y: 0
}, DEFAULT_COMMON_STYLE), DEFAULT_IMAGE_ANIMATION_PROPS = {
  style: defaults({
    x: !0,
    y: !0,
    width: !0,
    height: !0,
    sx: !0,
    sy: !0,
    sWidth: !0,
    sHeight: !0
  }, DEFAULT_COMMON_ANIMATION_PROPS.style)
};
function isImageLike$1(i) {
  return !!(i && typeof i != "string" && i.width && i.height);
}
var ZRImage = function(i) {
  __extends(n, i);
  function n() {
    return i !== null && i.apply(this, arguments) || this;
  }
  return n.prototype.createStyle = function(r) {
    return createObject(DEFAULT_IMAGE_STYLE, r);
  }, n.prototype._getSize = function(r) {
    var o = this.style, a = o[r];
    if (a != null)
      return a;
    var u = isImageLike$1(o.image) ? o.image : this.__image;
    if (!u)
      return 0;
    var c = r === "width" ? "height" : "width", f = o[c];
    return f == null ? u[r] : u[r] / u[c] * f;
  }, n.prototype.getWidth = function() {
    return this._getSize("width");
  }, n.prototype.getHeight = function() {
    return this._getSize("height");
  }, n.prototype.getAnimationStyleProps = function() {
    return DEFAULT_IMAGE_ANIMATION_PROPS;
  }, n.prototype.getBoundingRect = function() {
    var r = this.style;
    return this._rect || (this._rect = new BoundingRect$1(r.x || 0, r.y || 0, this.getWidth(), this.getHeight())), this._rect;
  }, n;
}(Displayable$1);
ZRImage.prototype.type = "image";
const ZRImage$1 = ZRImage;
function buildPath$2(i, n) {
  var r = n.x, o = n.y, a = n.width, u = n.height, c = n.r, f, d, p, y;
  a < 0 && (r = r + a, a = -a), u < 0 && (o = o + u, u = -u), typeof c == "number" ? f = d = p = y = c : c instanceof Array ? c.length === 1 ? f = d = p = y = c[0] : c.length === 2 ? (f = p = c[0], d = y = c[1]) : c.length === 3 ? (f = c[0], d = y = c[1], p = c[2]) : (f = c[0], d = c[1], p = c[2], y = c[3]) : f = d = p = y = 0;
  var v;
  f + d > a && (v = f + d, f *= a / v, d *= a / v), p + y > a && (v = p + y, p *= a / v, y *= a / v), d + p > u && (v = d + p, d *= u / v, p *= u / v), f + y > u && (v = f + y, f *= u / v, y *= u / v), i.moveTo(r + f, o), i.lineTo(r + a - d, o), d !== 0 && i.arc(r + a - d, o + d, d, -Math.PI / 2, 0), i.lineTo(r + a, o + u - p), p !== 0 && i.arc(r + a - p, o + u - p, p, 0, Math.PI / 2), i.lineTo(r + y, o + u), y !== 0 && i.arc(r + y, o + u - y, y, Math.PI / 2, Math.PI), i.lineTo(r, o + f), f !== 0 && i.arc(r + f, o + f, f, Math.PI, Math.PI * 1.5);
}
var round$1 = Math.round;
function subPixelOptimizeLine$1(i, n, r) {
  if (n) {
    var o = n.x1, a = n.x2, u = n.y1, c = n.y2;
    i.x1 = o, i.x2 = a, i.y1 = u, i.y2 = c;
    var f = r && r.lineWidth;
    return f && (round$1(o * 2) === round$1(a * 2) && (i.x1 = i.x2 = subPixelOptimize$1(o, f, !0)), round$1(u * 2) === round$1(c * 2) && (i.y1 = i.y2 = subPixelOptimize$1(u, f, !0))), i;
  }
}
function subPixelOptimizeRect$1(i, n, r) {
  if (n) {
    var o = n.x, a = n.y, u = n.width, c = n.height;
    i.x = o, i.y = a, i.width = u, i.height = c;
    var f = r && r.lineWidth;
    return f && (i.x = subPixelOptimize$1(o, f, !0), i.y = subPixelOptimize$1(a, f, !0), i.width = Math.max(subPixelOptimize$1(o + u, f, !1) - i.x, u === 0 ? 0 : 1), i.height = Math.max(subPixelOptimize$1(a + c, f, !1) - i.y, c === 0 ? 0 : 1)), i;
  }
}
function subPixelOptimize$1(i, n, r) {
  if (!n)
    return i;
  var o = round$1(i * 2);
  return (o + round$1(n)) % 2 === 0 ? o / 2 : (o + (r ? 1 : -1)) / 2;
}
var RectShape = function() {
  function i() {
    this.x = 0, this.y = 0, this.width = 0, this.height = 0;
  }
  return i;
}(), subPixelOptimizeOutputShape$1 = {}, Rect = function(i) {
  __extends(n, i);
  function n(r) {
    return i.call(this, r) || this;
  }
  return n.prototype.getDefaultShape = function() {
    return new RectShape();
  }, n.prototype.buildPath = function(r, o) {
    var a, u, c, f;
    if (this.subPixelOptimize) {
      var d = subPixelOptimizeRect$1(subPixelOptimizeOutputShape$1, o, this.style);
      a = d.x, u = d.y, c = d.width, f = d.height, d.r = o.r, o = d;
    } else
      a = o.x, u = o.y, c = o.width, f = o.height;
    o.r ? buildPath$2(r, o) : r.rect(a, u, c, f);
  }, n.prototype.isZeroArea = function() {
    return !this.shape.width || !this.shape.height;
  }, n;
}(Path$1);
Rect.prototype.type = "rect";
const Rect$1 = Rect;
var DEFAULT_RICH_TEXT_COLOR = {
  fill: "#000"
}, DEFAULT_STROKE_LINE_WIDTH = 2, DEFAULT_TEXT_ANIMATION_PROPS = {
  style: defaults({
    fill: !0,
    stroke: !0,
    fillOpacity: !0,
    strokeOpacity: !0,
    lineWidth: !0,
    fontSize: !0,
    lineHeight: !0,
    width: !0,
    height: !0,
    textShadowColor: !0,
    textShadowBlur: !0,
    textShadowOffsetX: !0,
    textShadowOffsetY: !0,
    backgroundColor: !0,
    padding: !0,
    borderColor: !0,
    borderWidth: !0,
    borderRadius: !0
  }, DEFAULT_COMMON_ANIMATION_PROPS.style)
}, ZRText = function(i) {
  __extends(n, i);
  function n(r) {
    var o = i.call(this) || this;
    return o.type = "text", o._children = [], o._defaultStyle = DEFAULT_RICH_TEXT_COLOR, o.attr(r), o;
  }
  return n.prototype.childrenRef = function() {
    return this._children;
  }, n.prototype.update = function() {
    i.prototype.update.call(this), this.styleChanged() && this._updateSubTexts();
    for (var r = 0; r < this._children.length; r++) {
      var o = this._children[r];
      o.zlevel = this.zlevel, o.z = this.z, o.z2 = this.z2, o.culling = this.culling, o.cursor = this.cursor, o.invisible = this.invisible;
    }
  }, n.prototype.updateTransform = function() {
    var r = this.innerTransformable;
    r ? (r.updateTransform(), r.transform && (this.transform = r.transform)) : i.prototype.updateTransform.call(this);
  }, n.prototype.getLocalTransform = function(r) {
    var o = this.innerTransformable;
    return o ? o.getLocalTransform(r) : i.prototype.getLocalTransform.call(this, r);
  }, n.prototype.getComputedTransform = function() {
    return this.__hostTarget && (this.__hostTarget.getComputedTransform(), this.__hostTarget.updateInnerText(!0)), i.prototype.getComputedTransform.call(this);
  }, n.prototype._updateSubTexts = function() {
    this._childCursor = 0, normalizeTextStyle(this.style), this.style.rich ? this._updateRichTexts() : this._updatePlainTexts(), this._children.length = this._childCursor, this.styleUpdated();
  }, n.prototype.addSelfToZr = function(r) {
    i.prototype.addSelfToZr.call(this, r);
    for (var o = 0; o < this._children.length; o++)
      this._children[o].__zr = r;
  }, n.prototype.removeSelfFromZr = function(r) {
    i.prototype.removeSelfFromZr.call(this, r);
    for (var o = 0; o < this._children.length; o++)
      this._children[o].__zr = null;
  }, n.prototype.getBoundingRect = function() {
    if (this.styleChanged() && this._updateSubTexts(), !this._rect) {
      for (var r = new BoundingRect$1(0, 0, 0, 0), o = this._children, a = [], u = null, c = 0; c < o.length; c++) {
        var f = o[c], d = f.getBoundingRect(), p = f.getLocalTransform(a);
        p ? (r.copy(d), r.applyTransform(p), u = u || r.clone(), u.union(r)) : (u = u || d.clone(), u.union(d));
      }
      this._rect = u || r;
    }
    return this._rect;
  }, n.prototype.setDefaultTextStyle = function(r) {
    this._defaultStyle = r || DEFAULT_RICH_TEXT_COLOR;
  }, n.prototype.setTextContent = function(r) {
    if (process.env.NODE_ENV !== "production")
      throw new Error("Can't attach text on another text");
  }, n.prototype._mergeStyle = function(r, o) {
    if (!o)
      return r;
    var a = o.rich, u = r.rich || a && {};
    return extend(r, o), a && u ? (this._mergeRich(u, a), r.rich = u) : u && (r.rich = u), r;
  }, n.prototype._mergeRich = function(r, o) {
    for (var a = keys(o), u = 0; u < a.length; u++) {
      var c = a[u];
      r[c] = r[c] || {}, extend(r[c], o[c]);
    }
  }, n.prototype.getAnimationStyleProps = function() {
    return DEFAULT_TEXT_ANIMATION_PROPS;
  }, n.prototype._getOrCreateChild = function(r) {
    var o = this._children[this._childCursor];
    return (!o || !(o instanceof r)) && (o = new r()), this._children[this._childCursor++] = o, o.__zr = this.__zr, o.parent = this, o;
  }, n.prototype._updatePlainTexts = function() {
    var r = this.style, o = r.font || DEFAULT_FONT, a = r.padding, u = getStyleText(r), c = parsePlainText(u, r), f = needDrawBackground(r), d = !!r.backgroundColor, p = c.outerHeight, y = c.outerWidth, v = c.contentWidth, g = c.lines, _ = c.lineHeight, b = this._defaultStyle, A = r.x || 0, w = r.y || 0, S = r.align || b.align || "left", T = r.verticalAlign || b.verticalAlign || "top", x = A, L = adjustTextY(w, c.contentHeight, T);
    if (f || a) {
      var k = adjustTextX(A, y, S), M = adjustTextY(w, p, T);
      f && this._renderBackground(r, r, k, M, y, p);
    }
    L += _ / 2, a && (x = getTextXForPadding(A, S, a), T === "top" ? L += a[0] : T === "bottom" && (L -= a[2]));
    for (var O = 0, ie = !1, F = getFill("fill" in r ? r.fill : (ie = !0, b.fill)), j = getStroke("stroke" in r ? r.stroke : !d && (!b.autoStroke || ie) ? (O = DEFAULT_STROKE_LINE_WIDTH, b.stroke) : null), D = r.textShadowBlur > 0, Y = r.width != null && (r.overflow === "truncate" || r.overflow === "break" || r.overflow === "breakAll"), z = c.calculatedLineHeight, Ie = 0; Ie < g.length; Ie++) {
      var ue = this._getOrCreateChild(TSpan$1), Ce = ue.createStyle();
      ue.useStyle(Ce), Ce.text = g[Ie], Ce.x = x, Ce.y = L, S && (Ce.textAlign = S), Ce.textBaseline = "middle", Ce.opacity = r.opacity, Ce.strokeFirst = !0, D && (Ce.shadowBlur = r.textShadowBlur || 0, Ce.shadowColor = r.textShadowColor || "transparent", Ce.shadowOffsetX = r.textShadowOffsetX || 0, Ce.shadowOffsetY = r.textShadowOffsetY || 0), Ce.stroke = j, Ce.fill = F, j && (Ce.lineWidth = r.lineWidth || O, Ce.lineDash = r.lineDash, Ce.lineDashOffset = r.lineDashOffset || 0), Ce.font = o, setSeparateFont(Ce, r), L += _, Y && ue.setBoundingRect(new BoundingRect$1(adjustTextX(Ce.x, r.width, Ce.textAlign), adjustTextY(Ce.y, z, Ce.textBaseline), v, z));
    }
  }, n.prototype._updateRichTexts = function() {
    var r = this.style, o = getStyleText(r), a = parseRichText(o, r), u = a.width, c = a.outerWidth, f = a.outerHeight, d = r.padding, p = r.x || 0, y = r.y || 0, v = this._defaultStyle, g = r.align || v.align, _ = r.verticalAlign || v.verticalAlign, b = adjustTextX(p, c, g), A = adjustTextY(y, f, _), w = b, S = A;
    d && (w += d[3], S += d[0]);
    var T = w + u;
    needDrawBackground(r) && this._renderBackground(r, r, b, A, c, f);
    for (var x = !!r.backgroundColor, L = 0; L < a.lines.length; L++) {
      for (var k = a.lines[L], M = k.tokens, O = M.length, ie = k.lineHeight, F = k.width, j = 0, D = w, Y = T, z = O - 1, Ie = void 0; j < O && (Ie = M[j], !Ie.align || Ie.align === "left"); )
        this._placeToken(Ie, r, ie, S, D, "left", x), F -= Ie.width, D += Ie.width, j++;
      for (; z >= 0 && (Ie = M[z], Ie.align === "right"); )
        this._placeToken(Ie, r, ie, S, Y, "right", x), F -= Ie.width, Y -= Ie.width, z--;
      for (D += (u - (D - w) - (T - Y) - F) / 2; j <= z; )
        Ie = M[j], this._placeToken(Ie, r, ie, S, D + Ie.width / 2, "center", x), D += Ie.width, j++;
      S += ie;
    }
  }, n.prototype._placeToken = function(r, o, a, u, c, f, d) {
    var p = o.rich[r.styleName] || {};
    p.text = r.text;
    var y = r.verticalAlign, v = u + a / 2;
    y === "top" ? v = u + r.height / 2 : y === "bottom" && (v = u + a - r.height / 2);
    var g = !r.isLineHolder && needDrawBackground(p);
    g && this._renderBackground(p, o, f === "right" ? c - r.width : f === "center" ? c - r.width / 2 : c, v - r.height / 2, r.width, r.height);
    var _ = !!p.backgroundColor, b = r.textPadding;
    b && (c = getTextXForPadding(c, f, b), v -= r.height / 2 - b[0] - r.innerHeight / 2);
    var A = this._getOrCreateChild(TSpan$1), w = A.createStyle();
    A.useStyle(w);
    var S = this._defaultStyle, T = !1, x = 0, L = getFill("fill" in p ? p.fill : "fill" in o ? o.fill : (T = !0, S.fill)), k = getStroke("stroke" in p ? p.stroke : "stroke" in o ? o.stroke : !_ && !d && (!S.autoStroke || T) ? (x = DEFAULT_STROKE_LINE_WIDTH, S.stroke) : null), M = p.textShadowBlur > 0 || o.textShadowBlur > 0;
    w.text = r.text, w.x = c, w.y = v, M && (w.shadowBlur = p.textShadowBlur || o.textShadowBlur || 0, w.shadowColor = p.textShadowColor || o.textShadowColor || "transparent", w.shadowOffsetX = p.textShadowOffsetX || o.textShadowOffsetX || 0, w.shadowOffsetY = p.textShadowOffsetY || o.textShadowOffsetY || 0), w.textAlign = f, w.textBaseline = "middle", w.font = r.font || DEFAULT_FONT, w.opacity = retrieve3(p.opacity, o.opacity, 1), setSeparateFont(w, p), k && (w.lineWidth = retrieve3(p.lineWidth, o.lineWidth, x), w.lineDash = retrieve2(p.lineDash, o.lineDash), w.lineDashOffset = o.lineDashOffset || 0, w.stroke = k), L && (w.fill = L);
    var O = r.contentWidth, ie = r.contentHeight;
    A.setBoundingRect(new BoundingRect$1(adjustTextX(w.x, O, w.textAlign), adjustTextY(w.y, ie, w.textBaseline), O, ie));
  }, n.prototype._renderBackground = function(r, o, a, u, c, f) {
    var d = r.backgroundColor, p = r.borderWidth, y = r.borderColor, v = d && d.image, g = d && !v, _ = r.borderRadius, b = this, A, w;
    if (g || r.lineHeight || p && y) {
      A = this._getOrCreateChild(Rect$1), A.useStyle(A.createStyle()), A.style.fill = null;
      var S = A.shape;
      S.x = a, S.y = u, S.width = c, S.height = f, S.r = _, A.dirtyShape();
    }
    if (g) {
      var T = A.style;
      T.fill = d || null, T.fillOpacity = retrieve2(r.fillOpacity, 1);
    } else if (v) {
      w = this._getOrCreateChild(ZRImage$1), w.onload = function() {
        b.dirtyStyle();
      };
      var x = w.style;
      x.image = d.image, x.x = a, x.y = u, x.width = c, x.height = f;
    }
    if (p && y) {
      var T = A.style;
      T.lineWidth = p, T.stroke = y, T.strokeOpacity = retrieve2(r.strokeOpacity, 1), T.lineDash = r.borderDash, T.lineDashOffset = r.borderDashOffset || 0, A.strokeContainThreshold = 0, A.hasFill() && A.hasStroke() && (T.strokeFirst = !0, T.lineWidth *= 2);
    }
    var L = (A || w).style;
    L.shadowBlur = r.shadowBlur || 0, L.shadowColor = r.shadowColor || "transparent", L.shadowOffsetX = r.shadowOffsetX || 0, L.shadowOffsetY = r.shadowOffsetY || 0, L.opacity = retrieve3(r.opacity, o.opacity, 1);
  }, n.makeFont = function(r) {
    var o = "";
    return hasSeparateFont(r) && (o = [
      r.fontStyle,
      r.fontWeight,
      parseFontSize(r.fontSize),
      r.fontFamily || "sans-serif"
    ].join(" ")), o && trim(o) || r.textFont || r.font;
  }, n;
}(Displayable$1), VALID_TEXT_ALIGN = { left: !0, right: 1, center: 1 }, VALID_TEXT_VERTICAL_ALIGN = { top: 1, bottom: 1, middle: 1 }, FONT_PARTS = ["fontStyle", "fontWeight", "fontSize", "fontFamily"];
function parseFontSize(i) {
  return typeof i == "string" && (i.indexOf("px") !== -1 || i.indexOf("rem") !== -1 || i.indexOf("em") !== -1) ? i : isNaN(+i) ? DEFAULT_FONT_SIZE + "px" : i + "px";
}
function setSeparateFont(i, n) {
  for (var r = 0; r < FONT_PARTS.length; r++) {
    var o = FONT_PARTS[r], a = n[o];
    a != null && (i[o] = a);
  }
}
function hasSeparateFont(i) {
  return i.fontSize != null || i.fontFamily || i.fontWeight;
}
function normalizeTextStyle(i) {
  return normalizeStyle(i), each$4(i.rich, normalizeStyle), i;
}
function normalizeStyle(i) {
  if (i) {
    i.font = ZRText.makeFont(i);
    var n = i.align;
    n === "middle" && (n = "center"), i.align = n == null || VALID_TEXT_ALIGN[n] ? n : "left";
    var r = i.verticalAlign;
    r === "center" && (r = "middle"), i.verticalAlign = r == null || VALID_TEXT_VERTICAL_ALIGN[r] ? r : "top";
    var o = i.padding;
    o && (i.padding = normalizeCssArray$1(i.padding));
  }
}
function getStroke(i, n) {
  return i == null || n <= 0 || i === "transparent" || i === "none" ? null : i.image || i.colorStops ? "#000" : i;
}
function getFill(i) {
  return i == null || i === "none" ? null : i.image || i.colorStops ? "#000" : i;
}
function getTextXForPadding(i, n, r) {
  return n === "right" ? i - r[1] : n === "center" ? i + r[3] / 2 - r[1] / 2 : i + r[3];
}
function getStyleText(i) {
  var n = i.text;
  return n != null && (n += ""), n;
}
function needDrawBackground(i) {
  return !!(i.backgroundColor || i.lineHeight || i.borderWidth && i.borderColor);
}
const ZRText$1 = ZRText;
var getECData = makeInner(), setCommonECData = function(i, n, r, o) {
  if (o) {
    var a = getECData(o);
    a.dataIndex = r, a.dataType = n, a.seriesIndex = i, o.type === "group" && o.traverse(function(u) {
      var c = getECData(u);
      c.seriesIndex = i, c.dataIndex = r, c.dataType = n;
    });
  }
}, _highlightNextDigit = 1, _highlightKeyMap = {}, getSavedStates = makeInner(), getComponentStates = makeInner(), HOVER_STATE_NORMAL = 0, HOVER_STATE_BLUR = 1, HOVER_STATE_EMPHASIS = 2, SPECIAL_STATES = ["emphasis", "blur", "select"], DISPLAY_STATES = ["normal", "emphasis", "blur", "select"], Z2_EMPHASIS_LIFT = 10, Z2_SELECT_LIFT = 9, HIGHLIGHT_ACTION_TYPE = "highlight", DOWNPLAY_ACTION_TYPE = "downplay", SELECT_ACTION_TYPE = "select", UNSELECT_ACTION_TYPE = "unselect", TOGGLE_SELECT_ACTION_TYPE = "toggleSelect";
function hasFillOrStroke(i) {
  return i != null && i !== "none";
}
var liftedColorCache = new LRU$1(100);
function liftColor(i) {
  if (isString$2(i)) {
    var n = liftedColorCache.get(i);
    return n || (n = lift(i, -0.1), liftedColorCache.put(i, n)), n;
  } else if (isGradientObject(i)) {
    var r = extend({}, i);
    return r.colorStops = map$1(i.colorStops, function(o) {
      return {
        offset: o.offset,
        color: lift(o.color, -0.1)
      };
    }), r;
  }
  return i;
}
function doChangeHoverState(i, n, r) {
  i.onHoverStateChange && (i.hoverState || 0) !== r && i.onHoverStateChange(n), i.hoverState = r;
}
function singleEnterEmphasis(i) {
  doChangeHoverState(i, "emphasis", HOVER_STATE_EMPHASIS);
}
function singleLeaveEmphasis(i) {
  i.hoverState === HOVER_STATE_EMPHASIS && doChangeHoverState(i, "normal", HOVER_STATE_NORMAL);
}
function singleEnterBlur(i) {
  doChangeHoverState(i, "blur", HOVER_STATE_BLUR);
}
function singleLeaveBlur(i) {
  i.hoverState === HOVER_STATE_BLUR && doChangeHoverState(i, "normal", HOVER_STATE_NORMAL);
}
function singleEnterSelect(i) {
  i.selected = !0;
}
function singleLeaveSelect(i) {
  i.selected = !1;
}
function updateElementState(i, n, r) {
  n(i, r);
}
function traverseUpdateState(i, n, r) {
  updateElementState(i, n, r), i.isGroup && i.traverse(function(o) {
    updateElementState(o, n, r);
  });
}
function getFromStateStyle(i, n, r, o) {
  for (var a = i.style, u = {}, c = 0; c < n.length; c++) {
    var f = n[c], d = a[f];
    u[f] = d ?? (o && o[f]);
  }
  for (var c = 0; c < i.animators.length; c++) {
    var p = i.animators[c];
    p.__fromStateTransition && p.__fromStateTransition.indexOf(r) < 0 && p.targetName === "style" && p.saveTo(u, n);
  }
  return u;
}
function createEmphasisDefaultState(i, n, r, o) {
  var a = r && indexOf(r, "select") >= 0, u = !1;
  if (i instanceof Path$1) {
    var c = getSavedStates(i), f = a && c.selectFill || c.normalFill, d = a && c.selectStroke || c.normalStroke;
    if (hasFillOrStroke(f) || hasFillOrStroke(d)) {
      o = o || {};
      var p = o.style || {};
      p.fill === "inherit" ? (u = !0, o = extend({}, o), p = extend({}, p), p.fill = f) : !hasFillOrStroke(p.fill) && hasFillOrStroke(f) ? (u = !0, o = extend({}, o), p = extend({}, p), p.fill = liftColor(f)) : !hasFillOrStroke(p.stroke) && hasFillOrStroke(d) && (u || (o = extend({}, o), p = extend({}, p)), p.stroke = liftColor(d)), o.style = p;
    }
  }
  if (o && o.z2 == null) {
    u || (o = extend({}, o));
    var y = i.z2EmphasisLift;
    o.z2 = i.z2 + (y ?? Z2_EMPHASIS_LIFT);
  }
  return o;
}
function createSelectDefaultState(i, n, r) {
  if (r && r.z2 == null) {
    r = extend({}, r);
    var o = i.z2SelectLift;
    r.z2 = i.z2 + (o ?? Z2_SELECT_LIFT);
  }
  return r;
}
function createBlurDefaultState(i, n, r) {
  var o = indexOf(i.currentStates, n) >= 0, a = i.style.opacity, u = o ? null : getFromStateStyle(i, ["opacity"], n, {
    opacity: 1
  });
  r = r || {};
  var c = r.style || {};
  return c.opacity == null && (r = extend({}, r), c = extend({
    // Already being applied 'emphasis'. DON'T mul opacity multiple times.
    opacity: o ? a : u.opacity * 0.1
  }, c), r.style = c), r;
}
function elementStateProxy(i, n) {
  var r = this.states[i];
  if (this.style) {
    if (i === "emphasis")
      return createEmphasisDefaultState(this, i, n, r);
    if (i === "blur")
      return createBlurDefaultState(this, i, r);
    if (i === "select")
      return createSelectDefaultState(this, i, r);
  }
  return r;
}
function setDefaultStateProxy(i) {
  i.stateProxy = elementStateProxy;
  var n = i.getTextContent(), r = i.getTextGuideLine();
  n && (n.stateProxy = elementStateProxy), r && (r.stateProxy = elementStateProxy);
}
function enterEmphasisWhenMouseOver(i, n) {
  !shouldSilent(i, n) && !i.__highByOuter && traverseUpdateState(i, singleEnterEmphasis);
}
function leaveEmphasisWhenMouseOut(i, n) {
  !shouldSilent(i, n) && !i.__highByOuter && traverseUpdateState(i, singleLeaveEmphasis);
}
function enterEmphasis(i, n) {
  i.__highByOuter |= 1 << (n || 0), traverseUpdateState(i, singleEnterEmphasis);
}
function leaveEmphasis(i, n) {
  !(i.__highByOuter &= ~(1 << (n || 0))) && traverseUpdateState(i, singleLeaveEmphasis);
}
function enterBlur(i) {
  traverseUpdateState(i, singleEnterBlur);
}
function leaveBlur(i) {
  traverseUpdateState(i, singleLeaveBlur);
}
function enterSelect(i) {
  traverseUpdateState(i, singleEnterSelect);
}
function leaveSelect(i) {
  traverseUpdateState(i, singleLeaveSelect);
}
function shouldSilent(i, n) {
  return i.__highDownSilentOnTouch && n.zrByTouch;
}
function allLeaveBlur(i) {
  var n = i.getModel(), r = [], o = [];
  n.eachComponent(function(a, u) {
    var c = getComponentStates(u), f = a === "series", d = f ? i.getViewOfSeriesModel(u) : i.getViewOfComponentModel(u);
    !f && o.push(d), c.isBlured && (d.group.traverse(function(p) {
      singleLeaveBlur(p);
    }), f && r.push(u)), c.isBlured = !1;
  }), each$4(o, function(a) {
    a && a.toggleBlurSeries && a.toggleBlurSeries(r, !1, n);
  });
}
function blurSeries(i, n, r, o) {
  var a = o.getModel();
  r = r || "coordinateSystem";
  function u(p, y) {
    for (var v = 0; v < y.length; v++) {
      var g = p.getItemGraphicEl(y[v]);
      g && leaveBlur(g);
    }
  }
  if (i != null && !(!n || n === "none")) {
    var c = a.getSeriesByIndex(i), f = c.coordinateSystem;
    f && f.master && (f = f.master);
    var d = [];
    a.eachSeries(function(p) {
      var y = c === p, v = p.coordinateSystem;
      v && v.master && (v = v.master);
      var g = v && f ? v === f : y;
      if (!// Not blur other series if blurScope series
      (r === "series" && !y || r === "coordinateSystem" && !g || n === "series" && y)) {
        var _ = o.getViewOfSeriesModel(p);
        if (_.group.traverse(function(w) {
          singleEnterBlur(w);
        }), isArrayLike(n))
          u(p.getData(), n);
        else if (isObject$3(n))
          for (var b = keys(n), A = 0; A < b.length; A++)
            u(p.getData(b[A]), n[b[A]]);
        d.push(p), getComponentStates(p).isBlured = !0;
      }
    }), a.eachComponent(function(p, y) {
      if (p !== "series") {
        var v = o.getViewOfComponentModel(y);
        v && v.toggleBlurSeries && v.toggleBlurSeries(d, !0, a);
      }
    });
  }
}
function blurComponent(i, n, r) {
  if (!(i == null || n == null)) {
    var o = r.getModel().getComponent(i, n);
    if (o) {
      getComponentStates(o).isBlured = !0;
      var a = r.getViewOfComponentModel(o);
      !a || !a.focusBlurEnabled || a.group.traverse(function(u) {
        singleEnterBlur(u);
      });
    }
  }
}
function blurSeriesFromHighlightPayload(i, n, r) {
  var o = i.seriesIndex, a = i.getData(n.dataType);
  if (!a) {
    process.env.NODE_ENV !== "production" && error("Unknown dataType " + n.dataType);
    return;
  }
  var u = queryDataIndex(a, n);
  u = (isArray$1(u) ? u[0] : u) || 0;
  var c = a.getItemGraphicEl(u);
  if (!c)
    for (var f = a.count(), d = 0; !c && d < f; )
      c = a.getItemGraphicEl(d++);
  if (c) {
    var p = getECData(c);
    blurSeries(o, p.focus, p.blurScope, r);
  } else {
    var y = i.get(["emphasis", "focus"]), v = i.get(["emphasis", "blurScope"]);
    y != null && blurSeries(o, y, v, r);
  }
}
function findComponentHighDownDispatchers(i, n, r, o) {
  var a = {
    focusSelf: !1,
    dispatchers: null
  };
  if (i == null || i === "series" || n == null || r == null)
    return a;
  var u = o.getModel().getComponent(i, n);
  if (!u)
    return a;
  var c = o.getViewOfComponentModel(u);
  if (!c || !c.findHighDownDispatchers)
    return a;
  for (var f = c.findHighDownDispatchers(r), d, p = 0; p < f.length; p++)
    if (process.env.NODE_ENV !== "production" && !isHighDownDispatcher(f[p]) && error("param should be highDownDispatcher"), getECData(f[p]).focus === "self") {
      d = !0;
      break;
    }
  return {
    focusSelf: d,
    dispatchers: f
  };
}
function handleGlobalMouseOverForHighDown(i, n, r) {
  process.env.NODE_ENV !== "production" && !isHighDownDispatcher(i) && error("param should be highDownDispatcher");
  var o = getECData(i), a = findComponentHighDownDispatchers(o.componentMainType, o.componentIndex, o.componentHighDownName, r), u = a.dispatchers, c = a.focusSelf;
  u ? (c && blurComponent(o.componentMainType, o.componentIndex, r), each$4(u, function(f) {
    return enterEmphasisWhenMouseOver(f, n);
  })) : (blurSeries(o.seriesIndex, o.focus, o.blurScope, r), o.focus === "self" && blurComponent(o.componentMainType, o.componentIndex, r), enterEmphasisWhenMouseOver(i, n));
}
function handleGlobalMouseOutForHighDown(i, n, r) {
  process.env.NODE_ENV !== "production" && !isHighDownDispatcher(i) && error("param should be highDownDispatcher"), allLeaveBlur(r);
  var o = getECData(i), a = findComponentHighDownDispatchers(o.componentMainType, o.componentIndex, o.componentHighDownName, r).dispatchers;
  a ? each$4(a, function(u) {
    return leaveEmphasisWhenMouseOut(u, n);
  }) : leaveEmphasisWhenMouseOut(i, n);
}
function toggleSelectionFromPayload(i, n, r) {
  if (isSelectChangePayload(n)) {
    var o = n.dataType, a = i.getData(o), u = queryDataIndex(a, n);
    isArray$1(u) || (u = [u]), i[n.type === TOGGLE_SELECT_ACTION_TYPE ? "toggleSelect" : n.type === SELECT_ACTION_TYPE ? "select" : "unselect"](u, o);
  }
}
function updateSeriesElementSelection(i) {
  var n = i.getAllData();
  each$4(n, function(r) {
    var o = r.data, a = r.type;
    o.eachItemGraphicEl(function(u, c) {
      i.isSelected(c, a) ? enterSelect(u) : leaveSelect(u);
    });
  });
}
function getAllSelectedIndices(i) {
  var n = [];
  return i.eachSeries(function(r) {
    var o = r.getAllData();
    each$4(o, function(a) {
      a.data;
      var u = a.type, c = r.getSelectedDataIndices();
      if (c.length > 0) {
        var f = {
          dataIndex: c,
          seriesIndex: r.seriesIndex
        };
        u != null && (f.dataType = u), n.push(f);
      }
    });
  }), n;
}
function enableHoverEmphasis(i, n, r) {
  setAsHighDownDispatcher(i, !0), traverseUpdateState(i, setDefaultStateProxy), enableHoverFocus(i, n, r);
}
function disableHoverEmphasis(i) {
  setAsHighDownDispatcher(i, !1);
}
function toggleHoverEmphasis(i, n, r, o) {
  o ? disableHoverEmphasis(i) : enableHoverEmphasis(i, n, r);
}
function enableHoverFocus(i, n, r) {
  var o = getECData(i);
  n != null ? (o.focus = n, o.blurScope = r) : o.focus && (o.focus = null);
}
var OTHER_STATES = ["emphasis", "blur", "select"], defaultStyleGetterMap = {
  itemStyle: "getItemStyle",
  lineStyle: "getLineStyle",
  areaStyle: "getAreaStyle"
};
function setStatesStylesFromModel(i, n, r, o) {
  r = r || "itemStyle";
  for (var a = 0; a < OTHER_STATES.length; a++) {
    var u = OTHER_STATES[a], c = n.getModel([u, r]), f = i.ensureState(u);
    f.style = o ? o(c) : c[defaultStyleGetterMap[r]]();
  }
}
function setAsHighDownDispatcher(i, n) {
  var r = n === !1, o = i;
  i.highDownSilentOnTouch && (o.__highDownSilentOnTouch = i.highDownSilentOnTouch), (!r || o.__highDownDispatcher) && (o.__highByOuter = o.__highByOuter || 0, o.__highDownDispatcher = !r);
}
function isHighDownDispatcher(i) {
  return !!(i && i.__highDownDispatcher);
}
function getHighlightDigit(i) {
  var n = _highlightKeyMap[i];
  return n == null && _highlightNextDigit <= 32 && (n = _highlightKeyMap[i] = _highlightNextDigit++), n;
}
function isSelectChangePayload(i) {
  var n = i.type;
  return n === SELECT_ACTION_TYPE || n === UNSELECT_ACTION_TYPE || n === TOGGLE_SELECT_ACTION_TYPE;
}
function isHighDownPayload(i) {
  var n = i.type;
  return n === HIGHLIGHT_ACTION_TYPE || n === DOWNPLAY_ACTION_TYPE;
}
function savePathStates(i) {
  var n = getSavedStates(i);
  n.normalFill = i.style.fill, n.normalStroke = i.style.stroke;
  var r = i.states.select || {};
  n.selectFill = r.style && r.style.fill || null, n.selectStroke = r.style && r.style.stroke || null;
}
var CMD = PathProxy$1.CMD, points = [[], [], []], mathSqrt$2 = Math.sqrt, mathAtan2 = Math.atan2;
function transformPath(i, n) {
  if (n) {
    var r = i.data, o = i.len(), a, u, c, f, d, p, y = CMD.M, v = CMD.C, g = CMD.L, _ = CMD.R, b = CMD.A, A = CMD.Q;
    for (c = 0, f = 0; c < o; ) {
      switch (a = r[c++], f = c, u = 0, a) {
        case y:
          u = 1;
          break;
        case g:
          u = 1;
          break;
        case v:
          u = 3;
          break;
        case A:
          u = 2;
          break;
        case b:
          var w = n[4], S = n[5], T = mathSqrt$2(n[0] * n[0] + n[1] * n[1]), x = mathSqrt$2(n[2] * n[2] + n[3] * n[3]), L = mathAtan2(-n[1] / x, n[0] / T);
          r[c] *= T, r[c++] += w, r[c] *= x, r[c++] += S, r[c++] *= T, r[c++] *= x, r[c++] += L, r[c++] += L, c += 2, f = c;
          break;
        case _:
          p[0] = r[c++], p[1] = r[c++], applyTransform$1(p, p, n), r[f++] = p[0], r[f++] = p[1], p[0] += r[c++], p[1] += r[c++], applyTransform$1(p, p, n), r[f++] = p[0], r[f++] = p[1];
      }
      for (d = 0; d < u; d++) {
        var k = points[d];
        k[0] = r[c++], k[1] = r[c++], applyTransform$1(k, k, n), r[f++] = k[0], r[f++] = k[1];
      }
    }
    i.increaseVersion();
  }
}
var mathSqrt$1 = Math.sqrt, mathSin$2 = Math.sin, mathCos$2 = Math.cos, PI$4 = Math.PI;
function vMag(i) {
  return Math.sqrt(i[0] * i[0] + i[1] * i[1]);
}
function vRatio(i, n) {
  return (i[0] * n[0] + i[1] * n[1]) / (vMag(i) * vMag(n));
}
function vAngle(i, n) {
  return (i[0] * n[1] < i[1] * n[0] ? -1 : 1) * Math.acos(vRatio(i, n));
}
function processArc(i, n, r, o, a, u, c, f, d, p, y) {
  var v = d * (PI$4 / 180), g = mathCos$2(v) * (i - r) / 2 + mathSin$2(v) * (n - o) / 2, _ = -1 * mathSin$2(v) * (i - r) / 2 + mathCos$2(v) * (n - o) / 2, b = g * g / (c * c) + _ * _ / (f * f);
  b > 1 && (c *= mathSqrt$1(b), f *= mathSqrt$1(b));
  var A = (a === u ? -1 : 1) * mathSqrt$1((c * c * (f * f) - c * c * (_ * _) - f * f * (g * g)) / (c * c * (_ * _) + f * f * (g * g))) || 0, w = A * c * _ / f, S = A * -f * g / c, T = (i + r) / 2 + mathCos$2(v) * w - mathSin$2(v) * S, x = (n + o) / 2 + mathSin$2(v) * w + mathCos$2(v) * S, L = vAngle([1, 0], [(g - w) / c, (_ - S) / f]), k = [(g - w) / c, (_ - S) / f], M = [(-1 * g - w) / c, (-1 * _ - S) / f], O = vAngle(k, M);
  if (vRatio(k, M) <= -1 && (O = PI$4), vRatio(k, M) >= 1 && (O = 0), O < 0) {
    var ie = Math.round(O / PI$4 * 1e6) / 1e6;
    O = PI$4 * 2 + ie % 2 * PI$4;
  }
  y.addData(p, T, x, c, f, L, O, v, u);
}
var commandReg = /([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig, numberReg = /-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;
function createPathProxyFromString(i) {
  var n = new PathProxy$1();
  if (!i)
    return n;
  var r = 0, o = 0, a = r, u = o, c, f = PathProxy$1.CMD, d = i.match(commandReg);
  if (!d)
    return n;
  for (var p = 0; p < d.length; p++) {
    for (var y = d[p], v = y.charAt(0), g = void 0, _ = y.match(numberReg) || [], b = _.length, A = 0; A < b; A++)
      _[A] = parseFloat(_[A]);
    for (var w = 0; w < b; ) {
      var S = void 0, T = void 0, x = void 0, L = void 0, k = void 0, M = void 0, O = void 0, ie = r, F = o, j = void 0, D = void 0;
      switch (v) {
        case "l":
          r += _[w++], o += _[w++], g = f.L, n.addData(g, r, o);
          break;
        case "L":
          r = _[w++], o = _[w++], g = f.L, n.addData(g, r, o);
          break;
        case "m":
          r += _[w++], o += _[w++], g = f.M, n.addData(g, r, o), a = r, u = o, v = "l";
          break;
        case "M":
          r = _[w++], o = _[w++], g = f.M, n.addData(g, r, o), a = r, u = o, v = "L";
          break;
        case "h":
          r += _[w++], g = f.L, n.addData(g, r, o);
          break;
        case "H":
          r = _[w++], g = f.L, n.addData(g, r, o);
          break;
        case "v":
          o += _[w++], g = f.L, n.addData(g, r, o);
          break;
        case "V":
          o = _[w++], g = f.L, n.addData(g, r, o);
          break;
        case "C":
          g = f.C, n.addData(g, _[w++], _[w++], _[w++], _[w++], _[w++], _[w++]), r = _[w - 2], o = _[w - 1];
          break;
        case "c":
          g = f.C, n.addData(g, _[w++] + r, _[w++] + o, _[w++] + r, _[w++] + o, _[w++] + r, _[w++] + o), r += _[w - 2], o += _[w - 1];
          break;
        case "S":
          S = r, T = o, j = n.len(), D = n.data, c === f.C && (S += r - D[j - 4], T += o - D[j - 3]), g = f.C, ie = _[w++], F = _[w++], r = _[w++], o = _[w++], n.addData(g, S, T, ie, F, r, o);
          break;
        case "s":
          S = r, T = o, j = n.len(), D = n.data, c === f.C && (S += r - D[j - 4], T += o - D[j - 3]), g = f.C, ie = r + _[w++], F = o + _[w++], r += _[w++], o += _[w++], n.addData(g, S, T, ie, F, r, o);
          break;
        case "Q":
          ie = _[w++], F = _[w++], r = _[w++], o = _[w++], g = f.Q, n.addData(g, ie, F, r, o);
          break;
        case "q":
          ie = _[w++] + r, F = _[w++] + o, r += _[w++], o += _[w++], g = f.Q, n.addData(g, ie, F, r, o);
          break;
        case "T":
          S = r, T = o, j = n.len(), D = n.data, c === f.Q && (S += r - D[j - 4], T += o - D[j - 3]), r = _[w++], o = _[w++], g = f.Q, n.addData(g, S, T, r, o);
          break;
        case "t":
          S = r, T = o, j = n.len(), D = n.data, c === f.Q && (S += r - D[j - 4], T += o - D[j - 3]), r += _[w++], o += _[w++], g = f.Q, n.addData(g, S, T, r, o);
          break;
        case "A":
          x = _[w++], L = _[w++], k = _[w++], M = _[w++], O = _[w++], ie = r, F = o, r = _[w++], o = _[w++], g = f.A, processArc(ie, F, r, o, M, O, x, L, k, g, n);
          break;
        case "a":
          x = _[w++], L = _[w++], k = _[w++], M = _[w++], O = _[w++], ie = r, F = o, r += _[w++], o += _[w++], g = f.A, processArc(ie, F, r, o, M, O, x, L, k, g, n);
          break;
      }
    }
    (v === "z" || v === "Z") && (g = f.Z, n.addData(g), r = a, o = u), c = g;
  }
  return n.toStatic(), n;
}
var SVGPath = function(i) {
  __extends(n, i);
  function n() {
    return i !== null && i.apply(this, arguments) || this;
  }
  return n.prototype.applyTransform = function(r) {
  }, n;
}(Path$1);
function isPathProxy(i) {
  return i.setData != null;
}
function createPathOptions(i, n) {
  var r = createPathProxyFromString(i), o = extend({}, n);
  return o.buildPath = function(a) {
    if (isPathProxy(a)) {
      a.setData(r.data);
      var u = a.getContext();
      u && a.rebuildPath(u, 1);
    } else {
      var u = a;
      r.rebuildPath(u, 1);
    }
  }, o.applyTransform = function(a) {
    transformPath(r, a), this.dirtyShape();
  }, o;
}
function createFromString(i, n) {
  return new SVGPath(createPathOptions(i, n));
}
function extendFromString(i, n) {
  var r = createPathOptions(i, n), o = function(a) {
    __extends(u, a);
    function u(c) {
      var f = a.call(this, c) || this;
      return f.applyTransform = r.applyTransform, f.buildPath = r.buildPath, f;
    }
    return u;
  }(SVGPath);
  return o;
}
function mergePath$1(i, n) {
  for (var r = [], o = i.length, a = 0; a < o; a++) {
    var u = i[a];
    r.push(u.getUpdatedPathProxy(!0));
  }
  var c = new Path$1(n);
  return c.createPathProxy(), c.buildPath = function(f) {
    if (isPathProxy(f)) {
      f.appendPath(r);
      var d = f.getContext();
      d && f.rebuildPath(d, 1);
    }
  }, c;
}
var CircleShape = function() {
  function i() {
    this.cx = 0, this.cy = 0, this.r = 0;
  }
  return i;
}(), Circle = function(i) {
  __extends(n, i);
  function n(r) {
    return i.call(this, r) || this;
  }
  return n.prototype.getDefaultShape = function() {
    return new CircleShape();
  }, n.prototype.buildPath = function(r, o) {
    r.moveTo(o.cx + o.r, o.cy), r.arc(o.cx, o.cy, o.r, 0, Math.PI * 2);
  }, n;
}(Path$1);
Circle.prototype.type = "circle";
const Circle$1 = Circle;
var EllipseShape = function() {
  function i() {
    this.cx = 0, this.cy = 0, this.rx = 0, this.ry = 0;
  }
  return i;
}(), Ellipse = function(i) {
  __extends(n, i);
  function n(r) {
    return i.call(this, r) || this;
  }
  return n.prototype.getDefaultShape = function() {
    return new EllipseShape();
  }, n.prototype.buildPath = function(r, o) {
    var a = 0.5522848, u = o.cx, c = o.cy, f = o.rx, d = o.ry, p = f * a, y = d * a;
    r.moveTo(u - f, c), r.bezierCurveTo(u - f, c - y, u - p, c - d, u, c - d), r.bezierCurveTo(u + p, c - d, u + f, c - y, u + f, c), r.bezierCurveTo(u + f, c + y, u + p, c + d, u, c + d), r.bezierCurveTo(u - p, c + d, u - f, c + y, u - f, c), r.closePath();
  }, n;
}(Path$1);
Ellipse.prototype.type = "ellipse";
const Ellipse$1 = Ellipse;
var PI$3 = Math.PI, PI2$2 = PI$3 * 2, mathSin$1 = Math.sin, mathCos$1 = Math.cos, mathACos = Math.acos, mathATan2 = Math.atan2, mathAbs = Math.abs, mathSqrt = Math.sqrt, mathMax$1 = Math.max, mathMin$1 = Math.min, e = 1e-4;
function intersect(i, n, r, o, a, u, c, f) {
  var d = r - i, p = o - n, y = c - a, v = f - u, g = v * d - y * p;
  if (!(g * g < e))
    return g = (y * (n - u) - v * (i - a)) / g, [i + g * d, n + g * p];
}
function computeCornerTangents(i, n, r, o, a, u, c) {
  var f = i - r, d = n - o, p = (c ? u : -u) / mathSqrt(f * f + d * d), y = p * d, v = -p * f, g = i + y, _ = n + v, b = r + y, A = o + v, w = (g + b) / 2, S = (_ + A) / 2, T = b - g, x = A - _, L = T * T + x * x, k = a - u, M = g * A - b * _, O = (x < 0 ? -1 : 1) * mathSqrt(mathMax$1(0, k * k * L - M * M)), ie = (M * x - T * O) / L, F = (-M * T - x * O) / L, j = (M * x + T * O) / L, D = (-M * T + x * O) / L, Y = ie - w, z = F - S, Ie = j - w, ue = D - S;
  return Y * Y + z * z > Ie * Ie + ue * ue && (ie = j, F = D), {
    cx: ie,
    cy: F,
    x0: -y,
    y0: -v,
    x1: ie * (a / k - 1),
    y1: F * (a / k - 1)
  };
}
function normalizeCornerRadius(i) {
  var n;
  if (isArray$1(i)) {
    var r = i.length;
    if (!r)
      return i;
    r === 1 ? n = [i[0], i[0], 0, 0] : r === 2 ? n = [i[0], i[0], i[1], i[1]] : r === 3 ? n = i.concat(i[2]) : n = i;
  } else
    n = [i, i, i, i];
  return n;
}
function buildPath$1(i, n) {
  var r, o = mathMax$1(n.r, 0), a = mathMax$1(n.r0 || 0, 0), u = o > 0, c = a > 0;
  if (!(!u && !c)) {
    if (u || (o = a, a = 0), a > o) {
      var f = o;
      o = a, a = f;
    }
    var d = n.startAngle, p = n.endAngle;
    if (!(isNaN(d) || isNaN(p))) {
      var y = n.cx, v = n.cy, g = !!n.clockwise, _ = mathAbs(p - d), b = _ > PI2$2 && _ % PI2$2;
      if (b > e && (_ = b), !(o > e))
        i.moveTo(y, v);
      else if (_ > PI2$2 - e)
        i.moveTo(y + o * mathCos$1(d), v + o * mathSin$1(d)), i.arc(y, v, o, d, p, !g), a > e && (i.moveTo(y + a * mathCos$1(p), v + a * mathSin$1(p)), i.arc(y, v, a, p, d, g));
      else {
        var A = void 0, w = void 0, S = void 0, T = void 0, x = void 0, L = void 0, k = void 0, M = void 0, O = void 0, ie = void 0, F = void 0, j = void 0, D = void 0, Y = void 0, z = void 0, Ie = void 0, ue = o * mathCos$1(d), Ce = o * mathSin$1(d), pe = a * mathCos$1(p), Ne = a * mathSin$1(p), xe = _ > e;
        if (xe) {
          var hn = n.cornerRadius;
          hn && (r = normalizeCornerRadius(hn), A = r[0], w = r[1], S = r[2], T = r[3]);
          var Pt = mathAbs(o - a) / 2;
          if (x = mathMin$1(Pt, S), L = mathMin$1(Pt, T), k = mathMin$1(Pt, A), M = mathMin$1(Pt, w), F = O = mathMax$1(x, L), j = ie = mathMax$1(k, M), (O > e || ie > e) && (D = o * mathCos$1(p), Y = o * mathSin$1(p), z = a * mathCos$1(d), Ie = a * mathSin$1(d), _ < PI$3)) {
            var _n = intersect(ue, Ce, z, Ie, D, Y, pe, Ne);
            if (_n) {
              var In = ue - _n[0], Dt = Ce - _n[1], he = D - _n[0], At = Y - _n[1], Lt = 1 / mathSin$1(mathACos((In * he + Dt * At) / (mathSqrt(In * In + Dt * Dt) * mathSqrt(he * he + At * At))) / 2), Cn = mathSqrt(_n[0] * _n[0] + _n[1] * _n[1]);
              F = mathMin$1(O, (o - Cn) / (Lt + 1)), j = mathMin$1(ie, (a - Cn) / (Lt - 1));
            }
          }
        }
        if (!xe)
          i.moveTo(y + ue, v + Ce);
        else if (F > e) {
          var ze = mathMin$1(S, F), _e = mathMin$1(T, F), de = computeCornerTangents(z, Ie, ue, Ce, o, ze, g), Et = computeCornerTangents(D, Y, pe, Ne, o, _e, g);
          i.moveTo(y + de.cx + de.x0, v + de.cy + de.y0), F < O && ze === _e ? i.arc(y + de.cx, v + de.cy, F, mathATan2(de.y0, de.x0), mathATan2(Et.y0, Et.x0), !g) : (ze > 0 && i.arc(y + de.cx, v + de.cy, ze, mathATan2(de.y0, de.x0), mathATan2(de.y1, de.x1), !g), i.arc(y, v, o, mathATan2(de.cy + de.y1, de.cx + de.x1), mathATan2(Et.cy + Et.y1, Et.cx + Et.x1), !g), _e > 0 && i.arc(y + Et.cx, v + Et.cy, _e, mathATan2(Et.y1, Et.x1), mathATan2(Et.y0, Et.x0), !g));
        } else
          i.moveTo(y + ue, v + Ce), i.arc(y, v, o, d, p, !g);
        if (!(a > e) || !xe)
          i.lineTo(y + pe, v + Ne);
        else if (j > e) {
          var ze = mathMin$1(A, j), _e = mathMin$1(w, j), de = computeCornerTangents(pe, Ne, D, Y, a, -_e, g), Et = computeCornerTangents(ue, Ce, z, Ie, a, -ze, g);
          i.lineTo(y + de.cx + de.x0, v + de.cy + de.y0), j < ie && ze === _e ? i.arc(y + de.cx, v + de.cy, j, mathATan2(de.y0, de.x0), mathATan2(Et.y0, Et.x0), !g) : (_e > 0 && i.arc(y + de.cx, v + de.cy, _e, mathATan2(de.y0, de.x0), mathATan2(de.y1, de.x1), !g), i.arc(y, v, a, mathATan2(de.cy + de.y1, de.cx + de.x1), mathATan2(Et.cy + Et.y1, Et.cx + Et.x1), g), ze > 0 && i.arc(y + Et.cx, v + Et.cy, ze, mathATan2(Et.y1, Et.x1), mathATan2(Et.y0, Et.x0), !g));
        } else
          i.lineTo(y + pe, v + Ne), i.arc(y, v, a, p, d, g);
      }
      i.closePath();
    }
  }
}
var SectorShape = function() {
  function i() {
    this.cx = 0, this.cy = 0, this.r0 = 0, this.r = 0, this.startAngle = 0, this.endAngle = Math.PI * 2, this.clockwise = !0, this.cornerRadius = 0;
  }
  return i;
}(), Sector = function(i) {
  __extends(n, i);
  function n(r) {
    return i.call(this, r) || this;
  }
  return n.prototype.getDefaultShape = function() {
    return new SectorShape();
  }, n.prototype.buildPath = function(r, o) {
    buildPath$1(r, o);
  }, n.prototype.isZeroArea = function() {
    return this.shape.startAngle === this.shape.endAngle || this.shape.r === this.shape.r0;
  }, n;
}(Path$1);
Sector.prototype.type = "sector";
const Sector$1 = Sector;
var RingShape = function() {
  function i() {
    this.cx = 0, this.cy = 0, this.r = 0, this.r0 = 0;
  }
  return i;
}(), Ring = function(i) {
  __extends(n, i);
  function n(r) {
    return i.call(this, r) || this;
  }
  return n.prototype.getDefaultShape = function() {
    return new RingShape();
  }, n.prototype.buildPath = function(r, o) {
    var a = o.cx, u = o.cy, c = Math.PI * 2;
    r.moveTo(a + o.r, u), r.arc(a, u, o.r, 0, c, !1), r.moveTo(a + o.r0, u), r.arc(a, u, o.r0, 0, c, !0);
  }, n;
}(Path$1);
Ring.prototype.type = "ring";
const Ring$1 = Ring;
function smoothBezier(i, n, r, o) {
  var a = [], u = [], c = [], f = [], d, p, y, v;
  if (o) {
    y = [1 / 0, 1 / 0], v = [-1 / 0, -1 / 0];
    for (var g = 0, _ = i.length; g < _; g++)
      min$1(y, y, i[g]), max$1(v, v, i[g]);
    min$1(y, y, o[0]), max$1(v, v, o[1]);
  }
  for (var g = 0, _ = i.length; g < _; g++) {
    var b = i[g];
    if (r)
      d = i[g ? g - 1 : _ - 1], p = i[(g + 1) % _];
    else if (g === 0 || g === _ - 1) {
      a.push(clone$1(i[g]));
      continue;
    } else
      d = i[g - 1], p = i[g + 1];
    sub$1(u, p, d), scale$1(u, u, n);
    var A = distance(b, d), w = distance(b, p), S = A + w;
    S !== 0 && (A /= S, w /= S), scale$1(c, u, -A), scale$1(f, u, w);
    var T = add([], b, c), x = add([], b, f);
    o && (max$1(T, T, y), min$1(T, T, v), max$1(x, x, y), min$1(x, x, v)), a.push(T), a.push(x);
  }
  return r && a.push(a.shift()), a;
}
function buildPath(i, n, r) {
  var o = n.smooth, a = n.points;
  if (a && a.length >= 2) {
    if (o) {
      var u = smoothBezier(a, o, r, n.smoothConstraint);
      i.moveTo(a[0][0], a[0][1]);
      for (var c = a.length, f = 0; f < (r ? c : c - 1); f++) {
        var d = u[f * 2], p = u[f * 2 + 1], y = a[(f + 1) % c];
        i.bezierCurveTo(d[0], d[1], p[0], p[1], y[0], y[1]);
      }
    } else {
      i.moveTo(a[0][0], a[0][1]);
      for (var f = 1, v = a.length; f < v; f++)
        i.lineTo(a[f][0], a[f][1]);
    }
    r && i.closePath();
  }
}
var PolygonShape = function() {
  function i() {
    this.points = null, this.smooth = 0, this.smoothConstraint = null;
  }
  return i;
}(), Polygon = function(i) {
  __extends(n, i);
  function n(r) {
    return i.call(this, r) || this;
  }
  return n.prototype.getDefaultShape = function() {
    return new PolygonShape();
  }, n.prototype.buildPath = function(r, o) {
    buildPath(r, o, !0);
  }, n;
}(Path$1);
Polygon.prototype.type = "polygon";
const Polygon$1 = Polygon;
var PolylineShape = function() {
  function i() {
    this.points = null, this.percent = 1, this.smooth = 0, this.smoothConstraint = null;
  }
  return i;
}(), Polyline = function(i) {
  __extends(n, i);
  function n(r) {
    return i.call(this, r) || this;
  }
  return n.prototype.getDefaultStyle = function() {
    return {
      stroke: "#000",
      fill: null
    };
  }, n.prototype.getDefaultShape = function() {
    return new PolylineShape();
  }, n.prototype.buildPath = function(r, o) {
    buildPath(r, o, !1);
  }, n;
}(Path$1);
Polyline.prototype.type = "polyline";
const Polyline$1 = Polyline;
var subPixelOptimizeOutputShape = {}, LineShape = function() {
  function i() {
    this.x1 = 0, this.y1 = 0, this.x2 = 0, this.y2 = 0, this.percent = 1;
  }
  return i;
}(), Line = function(i) {
  __extends(n, i);
  function n(r) {
    return i.call(this, r) || this;
  }
  return n.prototype.getDefaultStyle = function() {
    return {
      stroke: "#000",
      fill: null
    };
  }, n.prototype.getDefaultShape = function() {
    return new LineShape();
  }, n.prototype.buildPath = function(r, o) {
    var a, u, c, f;
    if (this.subPixelOptimize) {
      var d = subPixelOptimizeLine$1(subPixelOptimizeOutputShape, o, this.style);
      a = d.x1, u = d.y1, c = d.x2, f = d.y2;
    } else
      a = o.x1, u = o.y1, c = o.x2, f = o.y2;
    var p = o.percent;
    p !== 0 && (r.moveTo(a, u), p < 1 && (c = a * (1 - p) + c * p, f = u * (1 - p) + f * p), r.lineTo(c, f));
  }, n.prototype.pointAt = function(r) {
    var o = this.shape;
    return [
      o.x1 * (1 - r) + o.x2 * r,
      o.y1 * (1 - r) + o.y2 * r
    ];
  }, n;
}(Path$1);
Line.prototype.type = "line";
const Line$1 = Line;
var out = [], BezierCurveShape = function() {
  function i() {
    this.x1 = 0, this.y1 = 0, this.x2 = 0, this.y2 = 0, this.cpx1 = 0, this.cpy1 = 0, this.percent = 1;
  }
  return i;
}();
function someVectorAt(i, n, r) {
  var o = i.cpx2, a = i.cpy2;
  return o != null || a != null ? [
    (r ? cubicDerivativeAt : cubicAt)(i.x1, i.cpx1, i.cpx2, i.x2, n),
    (r ? cubicDerivativeAt : cubicAt)(i.y1, i.cpy1, i.cpy2, i.y2, n)
  ] : [
    (r ? quadraticDerivativeAt : quadraticAt)(i.x1, i.cpx1, i.x2, n),
    (r ? quadraticDerivativeAt : quadraticAt)(i.y1, i.cpy1, i.y2, n)
  ];
}
var BezierCurve = function(i) {
  __extends(n, i);
  function n(r) {
    return i.call(this, r) || this;
  }
  return n.prototype.getDefaultStyle = function() {
    return {
      stroke: "#000",
      fill: null
    };
  }, n.prototype.getDefaultShape = function() {
    return new BezierCurveShape();
  }, n.prototype.buildPath = function(r, o) {
    var a = o.x1, u = o.y1, c = o.x2, f = o.y2, d = o.cpx1, p = o.cpy1, y = o.cpx2, v = o.cpy2, g = o.percent;
    g !== 0 && (r.moveTo(a, u), y == null || v == null ? (g < 1 && (quadraticSubdivide(a, d, c, g, out), d = out[1], c = out[2], quadraticSubdivide(u, p, f, g, out), p = out[1], f = out[2]), r.quadraticCurveTo(d, p, c, f)) : (g < 1 && (cubicSubdivide(a, d, y, c, g, out), d = out[1], y = out[2], c = out[3], cubicSubdivide(u, p, v, f, g, out), p = out[1], v = out[2], f = out[3]), r.bezierCurveTo(d, p, y, v, c, f)));
  }, n.prototype.pointAt = function(r) {
    return someVectorAt(this.shape, r, !1);
  }, n.prototype.tangentAt = function(r) {
    var o = someVectorAt(this.shape, r, !0);
    return normalize(o, o);
  }, n;
}(Path$1);
BezierCurve.prototype.type = "bezier-curve";
const BezierCurve$1 = BezierCurve;
var ArcShape = function() {
  function i() {
    this.cx = 0, this.cy = 0, this.r = 0, this.startAngle = 0, this.endAngle = Math.PI * 2, this.clockwise = !0;
  }
  return i;
}(), Arc = function(i) {
  __extends(n, i);
  function n(r) {
    return i.call(this, r) || this;
  }
  return n.prototype.getDefaultStyle = function() {
    return {
      stroke: "#000",
      fill: null
    };
  }, n.prototype.getDefaultShape = function() {
    return new ArcShape();
  }, n.prototype.buildPath = function(r, o) {
    var a = o.cx, u = o.cy, c = Math.max(o.r, 0), f = o.startAngle, d = o.endAngle, p = o.clockwise, y = Math.cos(f), v = Math.sin(f);
    r.moveTo(y * c + a, v * c + u), r.arc(a, u, c, f, d, !p);
  }, n;
}(Path$1);
Arc.prototype.type = "arc";
const Arc$1 = Arc;
var CompoundPath = function(i) {
  __extends(n, i);
  function n() {
    var r = i !== null && i.apply(this, arguments) || this;
    return r.type = "compound", r;
  }
  return n.prototype._updatePathDirty = function() {
    for (var r = this.shape.paths, o = this.shapeChanged(), a = 0; a < r.length; a++)
      o = o || r[a].shapeChanged();
    o && this.dirtyShape();
  }, n.prototype.beforeBrush = function() {
    this._updatePathDirty();
    for (var r = this.shape.paths || [], o = this.getGlobalScale(), a = 0; a < r.length; a++)
      r[a].path || r[a].createPathProxy(), r[a].path.setScale(o[0], o[1], r[a].segmentIgnoreThreshold);
  }, n.prototype.buildPath = function(r, o) {
    for (var a = o.paths || [], u = 0; u < a.length; u++)
      a[u].buildPath(r, a[u].shape, !0);
  }, n.prototype.afterBrush = function() {
    for (var r = this.shape.paths || [], o = 0; o < r.length; o++)
      r[o].pathUpdated();
  }, n.prototype.getBoundingRect = function() {
    return this._updatePathDirty.call(this), Path$1.prototype.getBoundingRect.call(this);
  }, n;
}(Path$1);
const CompoundPath$1 = CompoundPath;
var Gradient = function() {
  function i(n) {
    this.colorStops = n || [];
  }
  return i.prototype.addColorStop = function(n, r) {
    this.colorStops.push({
      offset: n,
      color: r
    });
  }, i;
}();
const Gradient$1 = Gradient;
var LinearGradient = function(i) {
  __extends(n, i);
  function n(r, o, a, u, c, f) {
    var d = i.call(this, c) || this;
    return d.x = r ?? 0, d.y = o ?? 0, d.x2 = a ?? 1, d.y2 = u ?? 0, d.type = "linear", d.global = f || !1, d;
  }
  return n;
}(Gradient$1);
const LinearGradient$1 = LinearGradient;
var RadialGradient = function(i) {
  __extends(n, i);
  function n(r, o, a, u, c) {
    var f = i.call(this, u) || this;
    return f.x = r ?? 0.5, f.y = o ?? 0.5, f.r = a ?? 0.5, f.type = "radial", f.global = c || !1, f;
  }
  return n;
}(Gradient$1);
const RadialGradient$1 = RadialGradient;
var extent = [0, 0], extent2 = [0, 0], minTv = new Point$1(), maxTv = new Point$1(), OrientedBoundingRect = function() {
  function i(n, r) {
    this._corners = [], this._axes = [], this._origin = [0, 0];
    for (var o = 0; o < 4; o++)
      this._corners[o] = new Point$1();
    for (var o = 0; o < 2; o++)
      this._axes[o] = new Point$1();
    n && this.fromBoundingRect(n, r);
  }
  return i.prototype.fromBoundingRect = function(n, r) {
    var o = this._corners, a = this._axes, u = n.x, c = n.y, f = u + n.width, d = c + n.height;
    if (o[0].set(u, c), o[1].set(f, c), o[2].set(f, d), o[3].set(u, d), r)
      for (var p = 0; p < 4; p++)
        o[p].transform(r);
    Point$1.sub(a[0], o[1], o[0]), Point$1.sub(a[1], o[3], o[0]), a[0].normalize(), a[1].normalize();
    for (var p = 0; p < 2; p++)
      this._origin[p] = a[p].dot(o[0]);
  }, i.prototype.intersect = function(n, r) {
    var o = !0, a = !r;
    return minTv.set(1 / 0, 1 / 0), maxTv.set(0, 0), !this._intersectCheckOneSide(this, n, minTv, maxTv, a, 1) && (o = !1, a) || !this._intersectCheckOneSide(n, this, minTv, maxTv, a, -1) && (o = !1, a) || a || Point$1.copy(r, o ? minTv : maxTv), o;
  }, i.prototype._intersectCheckOneSide = function(n, r, o, a, u, c) {
    for (var f = !0, d = 0; d < 2; d++) {
      var p = this._axes[d];
      if (this._getProjMinMaxOnAxis(d, n._corners, extent), this._getProjMinMaxOnAxis(d, r._corners, extent2), extent[1] < extent2[0] || extent[0] > extent2[1]) {
        if (f = !1, u)
          return f;
        var y = Math.abs(extent2[0] - extent[1]), v = Math.abs(extent[0] - extent2[1]);
        Math.min(y, v) > a.len() && (y < v ? Point$1.scale(a, p, -y * c) : Point$1.scale(a, p, v * c));
      } else if (o) {
        var y = Math.abs(extent2[0] - extent[1]), v = Math.abs(extent[0] - extent2[1]);
        Math.min(y, v) < o.len() && (y < v ? Point$1.scale(o, p, y * c) : Point$1.scale(o, p, -v * c));
      }
    }
    return f;
  }, i.prototype._getProjMinMaxOnAxis = function(n, r, o) {
    for (var a = this._axes[n], u = this._origin, c = r[0].dot(a) + u[n], f = c, d = c, p = 1; p < r.length; p++) {
      var y = r[p].dot(a) + u[n];
      f = Math.min(y, f), d = Math.max(y, d);
    }
    o[0] = f, o[1] = d;
  }, i;
}();
const OrientedBoundingRect$1 = OrientedBoundingRect;
var m = [], IncrementalDisplayable = function(i) {
  __extends(n, i);
  function n() {
    var r = i !== null && i.apply(this, arguments) || this;
    return r.notClear = !0, r.incremental = !0, r._displayables = [], r._temporaryDisplayables = [], r._cursor = 0, r;
  }
  return n.prototype.traverse = function(r, o) {
    r.call(o, this);
  }, n.prototype.useStyle = function() {
    this.style = {};
  }, n.prototype.getCursor = function() {
    return this._cursor;
  }, n.prototype.innerAfterBrush = function() {
    this._cursor = this._displayables.length;
  }, n.prototype.clearDisplaybles = function() {
    this._displayables = [], this._temporaryDisplayables = [], this._cursor = 0, this.markRedraw(), this.notClear = !1;
  }, n.prototype.clearTemporalDisplayables = function() {
    this._temporaryDisplayables = [];
  }, n.prototype.addDisplayable = function(r, o) {
    o ? this._temporaryDisplayables.push(r) : this._displayables.push(r), this.markRedraw();
  }, n.prototype.addDisplayables = function(r, o) {
    o = o || !1;
    for (var a = 0; a < r.length; a++)
      this.addDisplayable(r[a], o);
  }, n.prototype.getDisplayables = function() {
    return this._displayables;
  }, n.prototype.getTemporalDisplayables = function() {
    return this._temporaryDisplayables;
  }, n.prototype.eachPendingDisplayable = function(r) {
    for (var o = this._cursor; o < this._displayables.length; o++)
      r && r(this._displayables[o]);
    for (var o = 0; o < this._temporaryDisplayables.length; o++)
      r && r(this._temporaryDisplayables[o]);
  }, n.prototype.update = function() {
    this.updateTransform();
    for (var r = this._cursor; r < this._displayables.length; r++) {
      var o = this._displayables[r];
      o.parent = this, o.update(), o.parent = null;
    }
    for (var r = 0; r < this._temporaryDisplayables.length; r++) {
      var o = this._temporaryDisplayables[r];
      o.parent = this, o.update(), o.parent = null;
    }
  }, n.prototype.getBoundingRect = function() {
    if (!this._rect) {
      for (var r = new BoundingRect$1(1 / 0, 1 / 0, -1 / 0, -1 / 0), o = 0; o < this._displayables.length; o++) {
        var a = this._displayables[o], u = a.getBoundingRect().clone();
        a.needLocalTransform() && u.applyTransform(a.getLocalTransform(m)), r.union(u);
      }
      this._rect = r;
    }
    return this._rect;
  }, n.prototype.contain = function(r, o) {
    var a = this.transformCoordToLocal(r, o), u = this.getBoundingRect();
    if (u.contain(a[0], a[1]))
      for (var c = 0; c < this._displayables.length; c++) {
        var f = this._displayables[c];
        if (f.contain(r, o))
          return !0;
      }
    return !1;
  }, n;
}(Displayable$1);
const IncrementalDisplayable$1 = IncrementalDisplayable;
var transitionStore = makeInner();
function getAnimationConfig(i, n, r, o, a) {
  var u;
  if (n && n.ecModel) {
    var c = n.ecModel.getUpdatePayload();
    u = c && c.animation;
  }
  var f = n && n.isAnimationEnabled(), d = i === "update";
  if (f) {
    var p = void 0, y = void 0, v = void 0;
    o ? (p = retrieve2(o.duration, 200), y = retrieve2(o.easing, "cubicOut"), v = 0) : (p = n.getShallow(d ? "animationDurationUpdate" : "animationDuration"), y = n.getShallow(d ? "animationEasingUpdate" : "animationEasing"), v = n.getShallow(d ? "animationDelayUpdate" : "animationDelay")), u && (u.duration != null && (p = u.duration), u.easing != null && (y = u.easing), u.delay != null && (v = u.delay)), isFunction$1(v) && (v = v(r, a)), isFunction$1(p) && (p = p(r));
    var g = {
      duration: p || 0,
      delay: v,
      easing: y
    };
    return g;
  } else
    return null;
}
function animateOrSetProps(i, n, r, o, a, u, c) {
  var f = !1, d;
  isFunction$1(a) ? (c = u, u = a, a = null) : isObject$3(a) && (u = a.cb, c = a.during, f = a.isFrom, d = a.removeOpt, a = a.dataIndex);
  var p = i === "leave";
  p || n.stopAnimation("leave");
  var y = getAnimationConfig(i, o, a, p ? d || {} : null, o && o.getAnimationDelayParams ? o.getAnimationDelayParams(n, a) : null);
  if (y && y.duration > 0) {
    var v = y.duration, g = y.delay, _ = y.easing, b = {
      duration: v,
      delay: g || 0,
      easing: _,
      done: u,
      force: !!u || !!c,
      // Set to final state in update/init animation.
      // So the post processing based on the path shape can be done correctly.
      setToFinal: !p,
      scope: i,
      during: c
    };
    f ? n.animateFrom(r, b) : n.animateTo(r, b);
  } else
    n.stopAnimation(), !f && n.attr(r), c && c(1), u && u();
}
function updateProps$1(i, n, r, o, a, u) {
  animateOrSetProps("update", i, n, r, o, a, u);
}
function initProps(i, n, r, o, a, u) {
  animateOrSetProps("enter", i, n, r, o, a, u);
}
function isElementRemoved(i) {
  if (!i.__zr)
    return !0;
  for (var n = 0; n < i.animators.length; n++) {
    var r = i.animators[n];
    if (r.scope === "leave")
      return !0;
  }
  return !1;
}
function removeElement(i, n, r, o, a, u) {
  isElementRemoved(i) || animateOrSetProps("leave", i, n, r, o, a, u);
}
function fadeOutDisplayable(i, n, r, o) {
  i.removeTextContent(), i.removeTextGuideLine(), removeElement(i, {
    style: {
      opacity: 0
    }
  }, n, r, o);
}
function removeElementWithFadeOut(i, n, r) {
  function o() {
    i.parent && i.parent.remove(i);
  }
  i.isGroup ? i.traverse(function(a) {
    a.isGroup || fadeOutDisplayable(a, n, r, o);
  }) : fadeOutDisplayable(i, n, r, o);
}
function saveOldStyle(i) {
  transitionStore(i).oldStyle = i.style;
}
var mathMax = Math.max, mathMin = Math.min, _customShapeMap = {};
function extendShape(i) {
  return Path$1.extend(i);
}
var extendPathFromString = extendFromString;
function extendPath(i, n) {
  return extendPathFromString(i, n);
}
function registerShape(i, n) {
  _customShapeMap[i] = n;
}
function getShapeClass(i) {
  if (_customShapeMap.hasOwnProperty(i))
    return _customShapeMap[i];
}
function makePath(i, n, r, o) {
  var a = createFromString(i, n);
  return r && (o === "center" && (r = centerGraphic(r, a.getBoundingRect())), resizePath(a, r)), a;
}
function makeImage(i, n, r) {
  var o = new ZRImage$1({
    style: {
      image: i,
      x: n.x,
      y: n.y,
      width: n.width,
      height: n.height
    },
    onload: function(a) {
      if (r === "center") {
        var u = {
          width: a.width,
          height: a.height
        };
        o.setStyle(centerGraphic(n, u));
      }
    }
  });
  return o;
}
function centerGraphic(i, n) {
  var r = n.width / n.height, o = i.height * r, a;
  o <= i.width ? a = i.height : (o = i.width, a = o / r);
  var u = i.x + i.width / 2, c = i.y + i.height / 2;
  return {
    x: u - o / 2,
    y: c - a / 2,
    width: o,
    height: a
  };
}
var mergePath = mergePath$1;
function resizePath(i, n) {
  if (i.applyTransform) {
    var r = i.getBoundingRect(), o = r.calculateTransform(n);
    i.applyTransform(o);
  }
}
function subPixelOptimizeLine(i, n) {
  return subPixelOptimizeLine$1(i, i, {
    lineWidth: n
  }), i;
}
function subPixelOptimizeRect(i) {
  return subPixelOptimizeRect$1(i.shape, i.shape, i.style), i;
}
var subPixelOptimize = subPixelOptimize$1;
function getTransform(i, n) {
  for (var r = identity$1([]); i && i !== n; )
    mul(r, i.getLocalTransform(), r), i = i.parent;
  return r;
}
function applyTransform(i, n, r) {
  return n && !isArrayLike(n) && (n = Transformable$1.getLocalTransform(n)), r && (n = invert([], n)), applyTransform$1([], i, n);
}
function transformDirection(i, n, r) {
  var o = n[4] === 0 || n[5] === 0 || n[0] === 0 ? 1 : Math.abs(2 * n[4] / n[0]), a = n[4] === 0 || n[5] === 0 || n[2] === 0 ? 1 : Math.abs(2 * n[4] / n[2]), u = [i === "left" ? -o : i === "right" ? o : 0, i === "top" ? -a : i === "bottom" ? a : 0];
  return u = applyTransform(u, n, r), Math.abs(u[0]) > Math.abs(u[1]) ? u[0] > 0 ? "right" : "left" : u[1] > 0 ? "bottom" : "top";
}
function isNotGroup(i) {
  return !i.isGroup;
}
function isPath(i) {
  return i.shape != null;
}
function groupTransition(i, n, r) {
  if (!i || !n)
    return;
  function o(c) {
    var f = {};
    return c.traverse(function(d) {
      isNotGroup(d) && d.anid && (f[d.anid] = d);
    }), f;
  }
  function a(c) {
    var f = {
      x: c.x,
      y: c.y,
      rotation: c.rotation
    };
    return isPath(c) && (f.shape = extend({}, c.shape)), f;
  }
  var u = o(i);
  n.traverse(function(c) {
    if (isNotGroup(c) && c.anid) {
      var f = u[c.anid];
      if (f) {
        var d = a(c);
        c.attr(a(f)), updateProps$1(c, d, r, getECData(c).dataIndex);
      }
    }
  });
}
function clipPointsByRect(i, n) {
  return map$1(i, function(r) {
    var o = r[0];
    o = mathMax(o, n.x), o = mathMin(o, n.x + n.width);
    var a = r[1];
    return a = mathMax(a, n.y), a = mathMin(a, n.y + n.height), [o, a];
  });
}
function clipRectByRect(i, n) {
  var r = mathMax(i.x, n.x), o = mathMin(i.x + i.width, n.x + n.width), a = mathMax(i.y, n.y), u = mathMin(i.y + i.height, n.y + n.height);
  if (o >= r && u >= a)
    return {
      x: r,
      y: a,
      width: o - r,
      height: u - a
    };
}
function createIcon(i, n, r) {
  var o = extend({
    rectHover: !0
  }, n), a = o.style = {
    strokeNoScale: !0
  };
  if (r = r || {
    x: -1,
    y: -1,
    width: 2,
    height: 2
  }, i)
    return i.indexOf("image://") === 0 ? (a.image = i.slice(8), defaults(a, r), new ZRImage$1(o)) : makePath(i.replace("path://", ""), o, r, "center");
}
function linePolygonIntersect(i, n, r, o, a) {
  for (var u = 0, c = a[a.length - 1]; u < a.length; u++) {
    var f = a[u];
    if (lineLineIntersect(i, n, r, o, f[0], f[1], c[0], c[1]))
      return !0;
    c = f;
  }
}
function lineLineIntersect(i, n, r, o, a, u, c, f) {
  var d = r - i, p = o - n, y = c - a, v = f - u, g = crossProduct2d(y, v, d, p);
  if (nearZero(g))
    return !1;
  var _ = i - a, b = n - u, A = crossProduct2d(_, b, d, p) / g;
  if (A < 0 || A > 1)
    return !1;
  var w = crossProduct2d(_, b, y, v) / g;
  return !(w < 0 || w > 1);
}
function crossProduct2d(i, n, r, o) {
  return i * o - r * n;
}
function nearZero(i) {
  return i <= 1e-6 && i >= -1e-6;
}
function setTooltipConfig(i) {
  var n = i.itemTooltipOption, r = i.componentModel, o = i.itemName, a = isString$2(n) ? {
    formatter: n
  } : n, u = r.mainType, c = r.componentIndex, f = {
    componentType: u,
    name: o,
    $vars: ["name"]
  };
  f[u + "Index"] = c;
  var d = i.formatterParamsExtra;
  d && each$4(keys(d), function(y) {
    hasOwn$1(f, y) || (f[y] = d[y], f.$vars.push(y));
  });
  var p = getECData(i.el);
  p.componentMainType = u, p.componentIndex = c, p.tooltipConfig = {
    name: o,
    option: defaults({
      content: o,
      formatterParams: f
    }, a)
  };
}
function traverseElement(i, n) {
  var r;
  i.isGroup && (r = n(i)), r || i.traverse(n);
}
function traverseElements(i, n) {
  if (i)
    if (isArray$1(i))
      for (var r = 0; r < i.length; r++)
        traverseElement(i[r], n);
    else
      traverseElement(i, n);
}
registerShape("circle", Circle$1);
registerShape("ellipse", Ellipse$1);
registerShape("sector", Sector$1);
registerShape("ring", Ring$1);
registerShape("polygon", Polygon$1);
registerShape("polyline", Polyline$1);
registerShape("rect", Rect$1);
registerShape("line", Line$1);
registerShape("bezierCurve", BezierCurve$1);
registerShape("arc", Arc$1);
const graphic = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  Arc: Arc$1,
  BezierCurve: BezierCurve$1,
  BoundingRect: BoundingRect$1,
  Circle: Circle$1,
  CompoundPath: CompoundPath$1,
  Ellipse: Ellipse$1,
  Group: Group$3,
  Image: ZRImage$1,
  IncrementalDisplayable: IncrementalDisplayable$1,
  Line: Line$1,
  LinearGradient: LinearGradient$1,
  OrientedBoundingRect: OrientedBoundingRect$1,
  Path: Path$1,
  Point: Point$1,
  Polygon: Polygon$1,
  Polyline: Polyline$1,
  RadialGradient: RadialGradient$1,
  Rect: Rect$1,
  Ring: Ring$1,
  Sector: Sector$1,
  Text: ZRText$1,
  applyTransform,
  clipPointsByRect,
  clipRectByRect,
  createIcon,
  extendPath,
  extendShape,
  getShapeClass,
  getTransform,
  groupTransition,
  initProps,
  isElementRemoved,
  lineLineIntersect,
  linePolygonIntersect,
  makeImage,
  makePath,
  mergePath,
  registerShape,
  removeElement,
  removeElementWithFadeOut,
  resizePath,
  setTooltipConfig,
  subPixelOptimize,
  subPixelOptimizeLine,
  subPixelOptimizeRect,
  transformDirection,
  traverseElements,
  updateProps: updateProps$1
}, Symbol.toStringTag, { value: "Module" }));
var EMPTY_OBJ = {};
function setLabelText(i, n) {
  for (var r = 0; r < SPECIAL_STATES.length; r++) {
    var o = SPECIAL_STATES[r], a = n[o], u = i.ensureState(o);
    u.style = u.style || {}, u.style.text = a;
  }
  var c = i.currentStates.slice();
  i.clearStates(!0), i.setStyle({
    text: n.normal
  }), i.useStates(c, !0);
}
function getLabelText(i, n, r) {
  var o = i.labelFetcher, a = i.labelDataIndex, u = i.labelDimIndex, c = n.normal, f;
  o && (f = o.getFormattedLabel(a, "normal", null, u, c && c.get("formatter"), r != null ? {
    interpolatedValue: r
  } : null)), f == null && (f = isFunction$1(i.defaultText) ? i.defaultText(a, i, r) : i.defaultText);
  for (var d = {
    normal: f
  }, p = 0; p < SPECIAL_STATES.length; p++) {
    var y = SPECIAL_STATES[p], v = n[y];
    d[y] = retrieve2(o ? o.getFormattedLabel(a, y, null, u, v && v.get("formatter")) : null, f);
  }
  return d;
}
function setLabelStyle(i, n, r, o) {
  r = r || EMPTY_OBJ;
  for (var a = i instanceof ZRText$1, u = !1, c = 0; c < DISPLAY_STATES.length; c++) {
    var f = n[DISPLAY_STATES[c]];
    if (f && f.getShallow("show")) {
      u = !0;
      break;
    }
  }
  var d = a ? i : i.getTextContent();
  if (u) {
    a || (d || (d = new ZRText$1(), i.setTextContent(d)), i.stateProxy && (d.stateProxy = i.stateProxy));
    var p = getLabelText(r, n), y = n.normal, v = !!y.getShallow("show"), g = createTextStyle(y, o && o.normal, r, !1, !a);
    g.text = p.normal, a || i.setTextConfig(createTextConfig(y, r, !1));
    for (var c = 0; c < SPECIAL_STATES.length; c++) {
      var _ = SPECIAL_STATES[c], f = n[_];
      if (f) {
        var b = d.ensureState(_), A = !!retrieve2(f.getShallow("show"), v);
        if (A !== v && (b.ignore = !A), b.style = createTextStyle(f, o && o[_], r, !0, !a), b.style.text = p[_], !a) {
          var w = i.ensureState(_);
          w.textConfig = createTextConfig(f, r, !0);
        }
      }
    }
    d.silent = !!y.getShallow("silent"), d.style.x != null && (g.x = d.style.x), d.style.y != null && (g.y = d.style.y), d.ignore = !v, d.useStyle(g), d.dirty(), r.enableTextSetter && (labelInner(d).setLabelText = function(S) {
      var T = getLabelText(r, n, S);
      setLabelText(d, T);
    });
  } else
    d && (d.ignore = !0);
  i.dirty();
}
function getLabelStatesModels(i, n) {
  n = n || "label";
  for (var r = {
    normal: i.getModel(n)
  }, o = 0; o < SPECIAL_STATES.length; o++) {
    var a = SPECIAL_STATES[o];
    r[a] = i.getModel([a, n]);
  }
  return r;
}
function createTextStyle(i, n, r, o, a) {
  var u = {};
  return setTextStyleCommon(u, i, r, o, a), n && extend(u, n), u;
}
function createTextConfig(i, n, r) {
  n = n || {};
  var o = {}, a, u = i.getShallow("rotate"), c = retrieve2(i.getShallow("distance"), r ? null : 5), f = i.getShallow("offset");
  return a = i.getShallow("position") || (r ? null : "inside"), a === "outside" && (a = n.defaultOutsidePosition || "top"), a != null && (o.position = a), f != null && (o.offset = f), u != null && (u *= Math.PI / 180, o.rotation = u), c != null && (o.distance = c), o.outsideFill = i.get("color") === "inherit" ? n.inheritColor || null : "auto", o;
}
function setTextStyleCommon(i, n, r, o, a) {
  r = r || EMPTY_OBJ;
  var u = n.ecModel, c = u && u.option.textStyle, f = getRichItemNames(n), d;
  if (f) {
    d = {};
    for (var p in f)
      if (f.hasOwnProperty(p)) {
        var y = n.getModel(["rich", p]);
        setTokenTextStyle(d[p] = {}, y, c, r, o, a, !1, !0);
      }
  }
  d && (i.rich = d);
  var v = n.get("overflow");
  v && (i.overflow = v);
  var g = n.get("minMargin");
  g != null && (i.margin = g), setTokenTextStyle(i, n, c, r, o, a, !0, !1);
}
function getRichItemNames(i) {
  for (var n; i && i !== i.ecModel; ) {
    var r = (i.option || EMPTY_OBJ).rich;
    if (r) {
      n = n || {};
      for (var o = keys(r), a = 0; a < o.length; a++) {
        var u = o[a];
        n[u] = 1;
      }
    }
    i = i.parentModel;
  }
  return n;
}
var TEXT_PROPS_WITH_GLOBAL = ["fontStyle", "fontWeight", "fontSize", "fontFamily", "textShadowColor", "textShadowBlur", "textShadowOffsetX", "textShadowOffsetY"], TEXT_PROPS_SELF = ["align", "lineHeight", "width", "height", "tag", "verticalAlign"], TEXT_PROPS_BOX = ["padding", "borderWidth", "borderRadius", "borderDashOffset", "backgroundColor", "borderColor", "shadowColor", "shadowBlur", "shadowOffsetX", "shadowOffsetY"];
function setTokenTextStyle(i, n, r, o, a, u, c, f) {
  r = !a && r || EMPTY_OBJ;
  var d = o && o.inheritColor, p = n.getShallow("color"), y = n.getShallow("textBorderColor"), v = retrieve2(n.getShallow("opacity"), r.opacity);
  (p === "inherit" || p === "auto") && (process.env.NODE_ENV !== "production" && p === "auto" && deprecateReplaceLog("color: 'auto'", "color: 'inherit'"), d ? p = d : p = null), (y === "inherit" || y === "auto") && (process.env.NODE_ENV !== "production" && y === "auto" && deprecateReplaceLog("color: 'auto'", "color: 'inherit'"), d ? y = d : y = null), u || (p = p || r.color, y = y || r.textBorderColor), p != null && (i.fill = p), y != null && (i.stroke = y);
  var g = retrieve2(n.getShallow("textBorderWidth"), r.textBorderWidth);
  g != null && (i.lineWidth = g);
  var _ = retrieve2(n.getShallow("textBorderType"), r.textBorderType);
  _ != null && (i.lineDash = _);
  var b = retrieve2(n.getShallow("textBorderDashOffset"), r.textBorderDashOffset);
  b != null && (i.lineDashOffset = b), !a && v == null && !f && (v = o && o.defaultOpacity), v != null && (i.opacity = v), !a && !u && i.fill == null && o.inheritColor && (i.fill = o.inheritColor);
  for (var A = 0; A < TEXT_PROPS_WITH_GLOBAL.length; A++) {
    var w = TEXT_PROPS_WITH_GLOBAL[A], S = retrieve2(n.getShallow(w), r[w]);
    S != null && (i[w] = S);
  }
  for (var A = 0; A < TEXT_PROPS_SELF.length; A++) {
    var w = TEXT_PROPS_SELF[A], S = n.getShallow(w);
    S != null && (i[w] = S);
  }
  if (i.verticalAlign == null) {
    var T = n.getShallow("baseline");
    T != null && (i.verticalAlign = T);
  }
  if (!c || !o.disableBox) {
    for (var A = 0; A < TEXT_PROPS_BOX.length; A++) {
      var w = TEXT_PROPS_BOX[A], S = n.getShallow(w);
      S != null && (i[w] = S);
    }
    var x = n.getShallow("borderType");
    x != null && (i.borderDash = x), (i.backgroundColor === "auto" || i.backgroundColor === "inherit") && d && (process.env.NODE_ENV !== "production" && i.backgroundColor === "auto" && deprecateReplaceLog("backgroundColor: 'auto'", "backgroundColor: 'inherit'"), i.backgroundColor = d), (i.borderColor === "auto" || i.borderColor === "inherit") && d && (process.env.NODE_ENV !== "production" && i.borderColor === "auto" && deprecateReplaceLog("borderColor: 'auto'", "borderColor: 'inherit'"), i.borderColor = d);
  }
}
function getFont(i, n) {
  var r = n && n.getModel("textStyle");
  return trim([
    // FIXME in node-canvas fontWeight is before fontStyle
    i.fontStyle || r && r.getShallow("fontStyle") || "",
    i.fontWeight || r && r.getShallow("fontWeight") || "",
    (i.fontSize || r && r.getShallow("fontSize") || 12) + "px",
    i.fontFamily || r && r.getShallow("fontFamily") || "sans-serif"
  ].join(" "));
}
var labelInner = makeInner(), PATH_COLOR = ["textStyle", "color"], textStyleParams = ["fontStyle", "fontWeight", "fontSize", "fontFamily", "padding", "lineHeight", "rich", "width", "height", "overflow"], tmpText = new ZRText$1(), TextStyleMixin = (
  /** @class */
  function() {
    function i() {
    }
    return i.prototype.getTextColor = function(n) {
      var r = this.ecModel;
      return this.getShallow("color") || (!n && r ? r.get(PATH_COLOR) : null);
    }, i.prototype.getFont = function() {
      return getFont({
        fontStyle: this.getShallow("fontStyle"),
        fontWeight: this.getShallow("fontWeight"),
        fontSize: this.getShallow("fontSize"),
        fontFamily: this.getShallow("fontFamily")
      }, this.ecModel);
    }, i.prototype.getTextRect = function(n) {
      for (var r = {
        text: n,
        verticalAlign: this.getShallow("verticalAlign") || this.getShallow("baseline")
      }, o = 0; o < textStyleParams.length; o++)
        r[textStyleParams[o]] = this.getShallow(textStyleParams[o]);
      return tmpText.useStyle(r), tmpText.update(), tmpText.getBoundingRect();
    }, i;
  }()
);
const TextStyleMixin$1 = TextStyleMixin;
var LINE_STYLE_KEY_MAP = [
  ["lineWidth", "width"],
  ["stroke", "color"],
  ["opacity"],
  ["shadowBlur"],
  ["shadowOffsetX"],
  ["shadowOffsetY"],
  ["shadowColor"],
  ["lineDash", "type"],
  ["lineDashOffset", "dashOffset"],
  ["lineCap", "cap"],
  ["lineJoin", "join"],
  ["miterLimit"]
  // Option decal is in `DecalObject` but style.decal is in `PatternObject`.
  // So do not transfer decal directly.
], getLineStyle = makeStyleMapper(LINE_STYLE_KEY_MAP), LineStyleMixin = (
  /** @class */
  function() {
    function i() {
    }
    return i.prototype.getLineStyle = function(n) {
      return getLineStyle(this, n);
    }, i;
  }()
), ITEM_STYLE_KEY_MAP = [
  ["fill", "color"],
  ["stroke", "borderColor"],
  ["lineWidth", "borderWidth"],
  ["opacity"],
  ["shadowBlur"],
  ["shadowOffsetX"],
  ["shadowOffsetY"],
  ["shadowColor"],
  ["lineDash", "borderType"],
  ["lineDashOffset", "borderDashOffset"],
  ["lineCap", "borderCap"],
  ["lineJoin", "borderJoin"],
  ["miterLimit", "borderMiterLimit"]
  // Option decal is in `DecalObject` but style.decal is in `PatternObject`.
  // So do not transfer decal directly.
], getItemStyle = makeStyleMapper(ITEM_STYLE_KEY_MAP), ItemStyleMixin = (
  /** @class */
  function() {
    function i() {
    }
    return i.prototype.getItemStyle = function(n, r) {
      return getItemStyle(this, n, r);
    }, i;
  }()
), Model = (
  /** @class */
  function() {
    function i(n, r, o) {
      this.parentModel = r, this.ecModel = o, this.option = n;
    }
    return i.prototype.init = function(n, r, o) {
    }, i.prototype.mergeOption = function(n, r) {
      merge(this.option, n, !0);
    }, i.prototype.get = function(n, r) {
      return n == null ? this.option : this._doGet(this.parsePath(n), !r && this.parentModel);
    }, i.prototype.getShallow = function(n, r) {
      var o = this.option, a = o == null ? o : o[n];
      if (a == null && !r) {
        var u = this.parentModel;
        u && (a = u.getShallow(n));
      }
      return a;
    }, i.prototype.getModel = function(n, r) {
      var o = n != null, a = o ? this.parsePath(n) : null, u = o ? this._doGet(a) : this.option;
      return r = r || this.parentModel && this.parentModel.getModel(this.resolveParentPath(a)), new i(u, r, this.ecModel);
    }, i.prototype.isEmpty = function() {
      return this.option == null;
    }, i.prototype.restoreData = function() {
    }, i.prototype.clone = function() {
      var n = this.constructor;
      return new n(clone$2(this.option));
    }, i.prototype.parsePath = function(n) {
      return typeof n == "string" ? n.split(".") : n;
    }, i.prototype.resolveParentPath = function(n) {
      return n;
    }, i.prototype.isAnimationEnabled = function() {
      if (!env$1.node && this.option) {
        if (this.option.animation != null)
          return !!this.option.animation;
        if (this.parentModel)
          return this.parentModel.isAnimationEnabled();
      }
    }, i.prototype._doGet = function(n, r) {
      var o = this.option;
      if (!n)
        return o;
      for (var a = 0; a < n.length && !(n[a] && (o = o && typeof o == "object" ? o[n[a]] : null, o == null)); a++)
        ;
      return o == null && r && (o = r._doGet(this.resolveParentPath(n), r.parentModel)), o;
    }, i;
  }()
);
enableClassExtend(Model);
enableClassCheck(Model);
mixin(Model, LineStyleMixin);
mixin(Model, ItemStyleMixin);
mixin(Model, AreaStyleMixin);
mixin(Model, TextStyleMixin$1);
const Model$1 = Model;
var base = Math.round(Math.random() * 10);
function getUID(i) {
  return [i || "", base++].join("_");
}
function enableSubTypeDefaulter(i) {
  var n = {};
  i.registerSubTypeDefaulter = function(r, o) {
    var a = parseClassType(r);
    n[a.main] = o;
  }, i.determineSubType = function(r, o) {
    var a = o.type;
    if (!a) {
      var u = parseClassType(r).main;
      i.hasSubTypes(r) && n[u] && (a = n[u](o));
    }
    return a;
  };
}
function enableTopologicalTravel(i, n) {
  i.topologicalTravel = function(u, c, f, d) {
    if (!u.length)
      return;
    var p = r(c), y = p.graph, v = p.noEntryList, g = {};
    for (each$4(u, function(T) {
      g[T] = !0;
    }); v.length; ) {
      var _ = v.pop(), b = y[_], A = !!g[_];
      A && (f.call(d, _, b.originalDeps.slice()), delete g[_]), each$4(b.successor, A ? S : w);
    }
    each$4(g, function() {
      var T = "";
      throw process.env.NODE_ENV !== "production" && (T = makePrintable("Circular dependency may exists: ", g, u, c)), new Error(T);
    });
    function w(T) {
      y[T].entryCount--, y[T].entryCount === 0 && v.push(T);
    }
    function S(T) {
      g[T] = !0, w(T);
    }
  };
  function r(u) {
    var c = {}, f = [];
    return each$4(u, function(d) {
      var p = o(c, d), y = p.originalDeps = n(d), v = a(y, u);
      p.entryCount = v.length, p.entryCount === 0 && f.push(d), each$4(v, function(g) {
        indexOf(p.predecessor, g) < 0 && p.predecessor.push(g);
        var _ = o(c, g);
        indexOf(_.successor, g) < 0 && _.successor.push(d);
      });
    }), {
      graph: c,
      noEntryList: f
    };
  }
  function o(u, c) {
    return u[c] || (u[c] = {
      predecessor: [],
      successor: []
    }), u[c];
  }
  function a(u, c) {
    var f = [];
    return each$4(u, function(d) {
      indexOf(c, d) >= 0 && f.push(d);
    }), f;
  }
}
function inheritDefaultOption(i, n) {
  return merge(merge({}, i, !0), n, !0);
}
const langEN = {
  time: {
    month: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
    monthAbbr: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
    dayOfWeek: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
    dayOfWeekAbbr: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"]
  },
  legend: {
    selector: {
      all: "All",
      inverse: "Inv"
    }
  },
  toolbox: {
    brush: {
      title: {
        rect: "Box Select",
        polygon: "Lasso Select",
        lineX: "Horizontally Select",
        lineY: "Vertically Select",
        keep: "Keep Selections",
        clear: "Clear Selections"
      }
    },
    dataView: {
      title: "Data View",
      lang: ["Data View", "Close", "Refresh"]
    },
    dataZoom: {
      title: {
        zoom: "Zoom",
        back: "Zoom Reset"
      }
    },
    magicType: {
      title: {
        line: "Switch to Line Chart",
        bar: "Switch to Bar Chart",
        stack: "Stack",
        tiled: "Tile"
      }
    },
    restore: {
      title: "Restore"
    },
    saveAsImage: {
      title: "Save as Image",
      lang: ["Right Click to Save Image"]
    }
  },
  series: {
    typeNames: {
      pie: "Pie chart",
      bar: "Bar chart",
      line: "Line chart",
      scatter: "Scatter plot",
      effectScatter: "Ripple scatter plot",
      radar: "Radar chart",
      tree: "Tree",
      treemap: "Treemap",
      boxplot: "Boxplot",
      candlestick: "Candlestick",
      k: "K line chart",
      heatmap: "Heat map",
      map: "Map",
      parallel: "Parallel coordinate map",
      lines: "Line graph",
      graph: "Relationship graph",
      sankey: "Sankey diagram",
      funnel: "Funnel chart",
      gauge: "Gauge",
      pictorialBar: "Pictorial bar",
      themeRiver: "Theme River Map",
      sunburst: "Sunburst"
    }
  },
  aria: {
    general: {
      withTitle: 'This is a chart about "{title}"',
      withoutTitle: "This is a chart"
    },
    series: {
      single: {
        prefix: "",
        withName: " with type {seriesType} named {seriesName}.",
        withoutName: " with type {seriesType}."
      },
      multiple: {
        prefix: ". It consists of {seriesCount} series count.",
        withName: " The {seriesId} series is a {seriesType} representing {seriesName}.",
        withoutName: " The {seriesId} series is a {seriesType}.",
        separator: {
          middle: "",
          end: ""
        }
      }
    },
    data: {
      allData: "The data is as follows: ",
      partialData: "The first {displayCnt} items are: ",
      withName: "the data for {name} is {value}",
      withoutName: "{value}",
      separator: {
        middle: ", ",
        end: ". "
      }
    }
  }
}, langZH = {
  time: {
    month: ["一月", "二月", "三月", "四月", "五月", "六月", "七月", "八月", "九月", "十月", "十一月", "十二月"],
    monthAbbr: ["1月", "2月", "3月", "4月", "5月", "6月", "7月", "8月", "9月", "10月", "11月", "12月"],
    dayOfWeek: ["星期日", "星期一", "星期二", "星期三", "星期四", "星期五", "星期六"],
    dayOfWeekAbbr: ["日", "一", "二", "三", "四", "五", "六"]
  },
  legend: {
    selector: {
      all: "全选",
      inverse: "反选"
    }
  },
  toolbox: {
    brush: {
      title: {
        rect: "矩形选择",
        polygon: "圈选",
        lineX: "横向选择",
        lineY: "纵向选择",
        keep: "保持选择",
        clear: "清除选择"
      }
    },
    dataView: {
      title: "数据视图",
      lang: ["数据视图", "关闭", "刷新"]
    },
    dataZoom: {
      title: {
        zoom: "区域缩放",
        back: "区域缩放还原"
      }
    },
    magicType: {
      title: {
        line: "切换为折线图",
        bar: "切换为柱状图",
        stack: "切换为堆叠",
        tiled: "切换为平铺"
      }
    },
    restore: {
      title: "还原"
    },
    saveAsImage: {
      title: "保存为图片",
      lang: ["右键另存为图片"]
    }
  },
  series: {
    typeNames: {
      pie: "饼图",
      bar: "柱状图",
      line: "折线图",
      scatter: "散点图",
      effectScatter: "涟漪散点图",
      radar: "雷达图",
      tree: "树图",
      treemap: "矩形树图",
      boxplot: "箱型图",
      candlestick: "K线图",
      k: "K线图",
      heatmap: "热力图",
      map: "地图",
      parallel: "平行坐标图",
      lines: "线图",
      graph: "关系图",
      sankey: "桑基图",
      funnel: "漏斗图",
      gauge: "仪表盘图",
      pictorialBar: "象形柱图",
      themeRiver: "主题河流图",
      sunburst: "旭日图"
    }
  },
  aria: {
    general: {
      withTitle: "这是一个关于“{title}”的图表。",
      withoutTitle: "这是一个图表，"
    },
    series: {
      single: {
        prefix: "",
        withName: "图表类型是{seriesType}，表示{seriesName}。",
        withoutName: "图表类型是{seriesType}。"
      },
      multiple: {
        prefix: "它由{seriesCount}个图表系列组成。",
        withName: "第{seriesId}个系列是一个表示{seriesName}的{seriesType}，",
        withoutName: "第{seriesId}个系列是一个{seriesType}，",
        separator: {
          middle: "；",
          end: "。"
        }
      }
    },
    data: {
      allData: "其数据是——",
      partialData: "其中，前{displayCnt}项是——",
      withName: "{name}的数据是{value}",
      withoutName: "{value}",
      separator: {
        middle: "，",
        end: ""
      }
    }
  }
};
var LOCALE_ZH = "ZH", LOCALE_EN = "EN", DEFAULT_LOCALE = LOCALE_EN, localeStorage = {}, localeModels = {}, SYSTEM_LANG = env$1.domSupported ? function() {
  var i = (
    /* eslint-disable-next-line */
    (document.documentElement.lang || navigator.language || navigator.browserLanguage).toUpperCase()
  );
  return i.indexOf(LOCALE_ZH) > -1 ? LOCALE_ZH : DEFAULT_LOCALE;
}() : DEFAULT_LOCALE;
function registerLocale(i, n) {
  i = i.toUpperCase(), localeModels[i] = new Model$1(n), localeStorage[i] = n;
}
function createLocaleObject(i) {
  if (isString$2(i)) {
    var n = localeStorage[i.toUpperCase()] || {};
    return i === LOCALE_ZH || i === LOCALE_EN ? clone$2(n) : merge(clone$2(n), clone$2(localeStorage[DEFAULT_LOCALE]), !1);
  } else
    return merge(clone$2(i), clone$2(localeStorage[DEFAULT_LOCALE]), !1);
}
function getLocaleModel(i) {
  return localeModels[i];
}
function getDefaultLocaleModel() {
  return localeModels[DEFAULT_LOCALE];
}
registerLocale(LOCALE_EN, langEN);
registerLocale(LOCALE_ZH, langZH);
function pad(i, n) {
  return i += "", "0000".substr(0, n - i.length) + i;
}
function format$1(i, n, r, o) {
  var a = parseDate(i), u = a[fullYearGetterName(r)](), c = a[monthGetterName(r)]() + 1, f = Math.floor((c - 1) / 3) + 1, d = a[dateGetterName(r)](), p = a["get" + (r ? "UTC" : "") + "Day"](), y = a[hoursGetterName(r)](), v = (y - 1) % 12 + 1, g = a[minutesGetterName(r)](), _ = a[secondsGetterName(r)](), b = a[millisecondsGetterName(r)](), A = o instanceof Model$1 ? o : getLocaleModel(o || SYSTEM_LANG) || getDefaultLocaleModel(), w = A.getModel("time"), S = w.get("month"), T = w.get("monthAbbr"), x = w.get("dayOfWeek"), L = w.get("dayOfWeekAbbr");
  return (n || "").replace(/{yyyy}/g, u + "").replace(/{yy}/g, u % 100 + "").replace(/{Q}/g, f + "").replace(/{MMMM}/g, S[c - 1]).replace(/{MMM}/g, T[c - 1]).replace(/{MM}/g, pad(c, 2)).replace(/{M}/g, c + "").replace(/{dd}/g, pad(d, 2)).replace(/{d}/g, d + "").replace(/{eeee}/g, x[p]).replace(/{ee}/g, L[p]).replace(/{e}/g, p + "").replace(/{HH}/g, pad(y, 2)).replace(/{H}/g, y + "").replace(/{hh}/g, pad(v + "", 2)).replace(/{h}/g, v + "").replace(/{mm}/g, pad(g, 2)).replace(/{m}/g, g + "").replace(/{ss}/g, pad(_, 2)).replace(/{s}/g, _ + "").replace(/{SSS}/g, pad(b, 3)).replace(/{S}/g, b + "");
}
function fullYearGetterName(i) {
  return i ? "getUTCFullYear" : "getFullYear";
}
function monthGetterName(i) {
  return i ? "getUTCMonth" : "getMonth";
}
function dateGetterName(i) {
  return i ? "getUTCDate" : "getDate";
}
function hoursGetterName(i) {
  return i ? "getUTCHours" : "getHours";
}
function minutesGetterName(i) {
  return i ? "getUTCMinutes" : "getMinutes";
}
function secondsGetterName(i) {
  return i ? "getUTCSeconds" : "getSeconds";
}
function millisecondsGetterName(i) {
  return i ? "getUTCMilliseconds" : "getMilliseconds";
}
function addCommas(i) {
  if (!isNumeric(i))
    return isString$2(i) ? i : "-";
  var n = (i + "").split(".");
  return n[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g, "$1,") + (n.length > 1 ? "." + n[1] : "");
}
function toCamelCase(i, n) {
  return i = (i || "").toLowerCase().replace(/-(.)/g, function(r, o) {
    return o.toUpperCase();
  }), n && i && (i = i.charAt(0).toUpperCase() + i.slice(1)), i;
}
var normalizeCssArray = normalizeCssArray$1;
function makeValueReadable(i, n, r) {
  var o = "{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";
  function a(y) {
    return y && trim(y) ? y : "-";
  }
  function u(y) {
    return !!(y != null && !isNaN(y) && isFinite(y));
  }
  var c = n === "time", f = i instanceof Date;
  if (c || f) {
    var d = c ? parseDate(i) : i;
    if (isNaN(+d)) {
      if (f)
        return "-";
    } else
      return format$1(d, o, r);
  }
  if (n === "ordinal")
    return isStringSafe(i) ? a(i) : isNumber$1(i) && u(i) ? i + "" : "-";
  var p = numericToNumber(i);
  return u(p) ? addCommas(p) : isStringSafe(i) ? a(i) : typeof i == "boolean" ? i + "" : "-";
}
var TPL_VAR_ALIAS = ["a", "b", "c", "d", "e", "f", "g"], wrapVar = function(i, n) {
  return "{" + i + (n ?? "") + "}";
};
function formatTpl(i, n, r) {
  isArray$1(n) || (n = [n]);
  var o = n.length;
  if (!o)
    return "";
  for (var a = n[0].$vars || [], u = 0; u < a.length; u++) {
    var c = TPL_VAR_ALIAS[u];
    i = i.replace(wrapVar(c), wrapVar(c, 0));
  }
  for (var f = 0; f < o; f++)
    for (var d = 0; d < a.length; d++) {
      var p = n[f][a[d]];
      i = i.replace(wrapVar(TPL_VAR_ALIAS[d], f), r ? encodeHTML(p) : p);
    }
  return i;
}
function getTooltipMarker(i, n) {
  var r = isString$2(i) ? {
    color: i,
    extraCssText: n
  } : i || {}, o = r.color, a = r.type;
  n = r.extraCssText;
  var u = r.renderMode || "html";
  if (!o)
    return "";
  if (u === "html")
    return a === "subItem" ? '<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:' + encodeHTML(o) + ";" + (n || "") + '"></span>' : '<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:' + encodeHTML(o) + ";" + (n || "") + '"></span>';
  var c = r.markerId || "markerX";
  return {
    renderMode: u,
    content: "{" + c + "|}  ",
    style: a === "subItem" ? {
      width: 4,
      height: 4,
      borderRadius: 2,
      backgroundColor: o
    } : {
      width: 10,
      height: 10,
      borderRadius: 5,
      backgroundColor: o
    }
  };
}
function convertToColorString(i, n) {
  return n = n || "transparent", isString$2(i) ? i : isObject$3(i) && i.colorStops && (i.colorStops[0] || {}).color || n;
}
function windowOpen(i, n) {
  if (n === "_blank" || n === "blank") {
    var r = window.open();
    r.opener = null, r.location.href = i;
  } else
    window.open(i, n);
}
var each$3 = each$4, LOCATION_PARAMS = ["left", "right", "top", "bottom", "width", "height"], HV_NAMES = [["width", "left", "right"], ["height", "top", "bottom"]];
function boxLayout(i, n, r, o, a) {
  var u = 0, c = 0;
  o == null && (o = 1 / 0), a == null && (a = 1 / 0);
  var f = 0;
  n.eachChild(function(d, p) {
    var y = d.getBoundingRect(), v = n.childAt(p + 1), g = v && v.getBoundingRect(), _, b;
    if (i === "horizontal") {
      var A = y.width + (g ? -g.x + y.x : 0);
      _ = u + A, _ > o || d.newline ? (u = 0, _ = A, c += f + r, f = y.height) : f = Math.max(f, y.height);
    } else {
      var w = y.height + (g ? -g.y + y.y : 0);
      b = c + w, b > a || d.newline ? (u += f + r, c = 0, b = w, f = y.width) : f = Math.max(f, y.width);
    }
    d.newline || (d.x = u, d.y = c, d.markRedraw(), i === "horizontal" ? u = _ + r : c = b + r);
  });
}
var box = boxLayout;
curry$1(boxLayout, "vertical");
curry$1(boxLayout, "horizontal");
function getLayoutRect(i, n, r) {
  r = normalizeCssArray(r || 0);
  var o = n.width, a = n.height, u = parsePercent(i.left, o), c = parsePercent(i.top, a), f = parsePercent(i.right, o), d = parsePercent(i.bottom, a), p = parsePercent(i.width, o), y = parsePercent(i.height, a), v = r[2] + r[0], g = r[1] + r[3], _ = i.aspect;
  switch (isNaN(p) && (p = o - f - g - u), isNaN(y) && (y = a - d - v - c), _ != null && (isNaN(p) && isNaN(y) && (_ > o / a ? p = o * 0.8 : y = a * 0.8), isNaN(p) && (p = _ * y), isNaN(y) && (y = p / _)), isNaN(u) && (u = o - f - p - g), isNaN(c) && (c = a - d - y - v), i.left || i.right) {
    case "center":
      u = o / 2 - p / 2 - r[3];
      break;
    case "right":
      u = o - p - g;
      break;
  }
  switch (i.top || i.bottom) {
    case "middle":
    case "center":
      c = a / 2 - y / 2 - r[0];
      break;
    case "bottom":
      c = a - y - v;
      break;
  }
  u = u || 0, c = c || 0, isNaN(p) && (p = o - g - u - (f || 0)), isNaN(y) && (y = a - v - c - (d || 0));
  var b = new BoundingRect$1(u + r[3], c + r[0], p, y);
  return b.margin = r, b;
}
function fetchLayoutMode(i) {
  var n = i.layoutMode || i.constructor.layoutMode;
  return isObject$3(n) ? n : n ? {
    type: n
  } : null;
}
function mergeLayoutParam(i, n, r) {
  var o = r && r.ignoreSize;
  !isArray$1(o) && (o = [o, o]);
  var a = c(HV_NAMES[0], 0), u = c(HV_NAMES[1], 1);
  p(HV_NAMES[0], i, a), p(HV_NAMES[1], i, u);
  function c(y, v) {
    var g = {}, _ = 0, b = {}, A = 0, w = 2;
    if (each$3(y, function(x) {
      b[x] = i[x];
    }), each$3(y, function(x) {
      f(n, x) && (g[x] = b[x] = n[x]), d(g, x) && _++, d(b, x) && A++;
    }), o[v])
      return d(n, y[1]) ? b[y[2]] = null : d(n, y[2]) && (b[y[1]] = null), b;
    if (A === w || !_)
      return b;
    if (_ >= w)
      return g;
    for (var S = 0; S < y.length; S++) {
      var T = y[S];
      if (!f(g, T) && f(i, T)) {
        g[T] = i[T];
        break;
      }
    }
    return g;
  }
  function f(y, v) {
    return y.hasOwnProperty(v);
  }
  function d(y, v) {
    return y[v] != null && y[v] !== "auto";
  }
  function p(y, v, g) {
    each$3(y, function(_) {
      v[_] = g[_];
    });
  }
}
function getLayoutParams(i) {
  return copyLayoutParams({}, i);
}
function copyLayoutParams(i, n) {
  return n && i && each$3(LOCATION_PARAMS, function(r) {
    n.hasOwnProperty(r) && (i[r] = n[r]);
  }), i;
}
var inner$7 = makeInner(), ComponentModel = (
  /** @class */
  function(i) {
    __extends(n, i);
    function n(r, o, a) {
      var u = i.call(this, r, o, a) || this;
      return u.uid = getUID("ec_cpt_model"), u;
    }
    return n.prototype.init = function(r, o, a) {
      this.mergeDefaultAndTheme(r, a);
    }, n.prototype.mergeDefaultAndTheme = function(r, o) {
      var a = fetchLayoutMode(this), u = a ? getLayoutParams(r) : {}, c = o.getTheme();
      merge(r, c.get(this.mainType)), merge(r, this.getDefaultOption()), a && mergeLayoutParam(r, u, a);
    }, n.prototype.mergeOption = function(r, o) {
      merge(this.option, r, !0);
      var a = fetchLayoutMode(this);
      a && mergeLayoutParam(this.option, r, a);
    }, n.prototype.optionUpdated = function(r, o) {
    }, n.prototype.getDefaultOption = function() {
      var r = this.constructor;
      if (!isExtendedClass(r))
        return r.defaultOption;
      var o = inner$7(this);
      if (!o.defaultOption) {
        for (var a = [], u = r; u; ) {
          var c = u.prototype.defaultOption;
          c && a.push(c), u = u.superClass;
        }
        for (var f = {}, d = a.length - 1; d >= 0; d--)
          f = merge(f, a[d], !0);
        o.defaultOption = f;
      }
      return o.defaultOption;
    }, n.prototype.getReferringComponents = function(r, o) {
      var a = r + "Index", u = r + "Id";
      return queryReferringComponents(this.ecModel, r, {
        index: this.get(a, !0),
        id: this.get(u, !0)
      }, o);
    }, n.prototype.getBoxLayoutParams = function() {
      var r = this;
      return {
        left: r.get("left"),
        top: r.get("top"),
        right: r.get("right"),
        bottom: r.get("bottom"),
        width: r.get("width"),
        height: r.get("height")
      };
    }, n.prototype.getZLevelKey = function() {
      return "";
    }, n.prototype.setZLevel = function(r) {
      this.option.zlevel = r;
    }, n.protoInitialize = function() {
      var r = n.prototype;
      r.type = "component", r.id = "", r.name = "", r.mainType = "", r.subType = "", r.componentIndex = 0;
    }(), n;
  }(Model$1)
);
mountExtend(ComponentModel, Model$1);
enableClassManagement(ComponentModel);
enableSubTypeDefaulter(ComponentModel);
enableTopologicalTravel(ComponentModel, getDependencies);
function getDependencies(i) {
  var n = [];
  return each$4(ComponentModel.getClassesByMainType(i), function(r) {
    n = n.concat(r.dependencies || r.prototype.dependencies || []);
  }), n = map$1(n, function(r) {
    return parseClassType(r).main;
  }), i !== "dataset" && indexOf(n, "dataset") <= 0 && n.unshift("dataset"), n;
}
const ComponentModel$1 = ComponentModel;
var platform = "";
typeof navigator < "u" && (platform = navigator.platform || "");
var decalColor = "rgba(0, 0, 0, 0.2)";
const globalDefault = {
  darkMode: "auto",
  // backgroundColor: 'rgba(0,0,0,0)',
  colorBy: "series",
  color: ["#5470c6", "#91cc75", "#fac858", "#ee6666", "#73c0de", "#3ba272", "#fc8452", "#9a60b4", "#ea7ccc"],
  gradientColor: ["#f6efa6", "#d88273", "#bf444c"],
  aria: {
    decal: {
      decals: [{
        color: decalColor,
        dashArrayX: [1, 0],
        dashArrayY: [2, 5],
        symbolSize: 1,
        rotation: Math.PI / 6
      }, {
        color: decalColor,
        symbol: "circle",
        dashArrayX: [[8, 8], [0, 8, 8, 0]],
        dashArrayY: [6, 0],
        symbolSize: 0.8
      }, {
        color: decalColor,
        dashArrayX: [1, 0],
        dashArrayY: [4, 3],
        rotation: -Math.PI / 4
      }, {
        color: decalColor,
        dashArrayX: [[6, 6], [0, 6, 6, 0]],
        dashArrayY: [6, 0]
      }, {
        color: decalColor,
        dashArrayX: [[1, 0], [1, 6]],
        dashArrayY: [1, 0, 6, 0],
        rotation: Math.PI / 4
      }, {
        color: decalColor,
        symbol: "triangle",
        dashArrayX: [[9, 9], [0, 9, 9, 0]],
        dashArrayY: [7, 2],
        symbolSize: 0.75
      }]
    }
  },
  // If xAxis and yAxis declared, grid is created by default.
  // grid: {},
  textStyle: {
    // color: '#000',
    // decoration: 'none',
    // PENDING
    fontFamily: platform.match(/^Win/) ? "Microsoft YaHei" : "sans-serif",
    // fontFamily: 'Arial, Verdana, sans-serif',
    fontSize: 12,
    fontStyle: "normal",
    fontWeight: "normal"
  },
  // http://blogs.adobe.com/webplatform/2014/02/24/using-blend-modes-in-html-canvas/
  // https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/globalCompositeOperation
  // Default is source-over
  blendMode: null,
  stateAnimation: {
    duration: 300,
    easing: "cubicOut"
  },
  animation: "auto",
  animationDuration: 1e3,
  animationDurationUpdate: 500,
  animationEasing: "cubicInOut",
  animationEasingUpdate: "cubicInOut",
  animationThreshold: 2e3,
  // Configuration for progressive/incremental rendering
  progressiveThreshold: 3e3,
  progressive: 400,
  // Threshold of if use single hover layer to optimize.
  // It is recommended that `hoverLayerThreshold` is equivalent to or less than
  // `progressiveThreshold`, otherwise hover will cause restart of progressive,
  // which is unexpected.
  // see example <echarts/test/heatmap-large.html>.
  hoverLayerThreshold: 3e3,
  // See: module:echarts/scale/Time
  useUTC: !1
};
var VISUAL_DIMENSIONS = createHashMap(["tooltip", "label", "itemName", "itemId", "itemGroupId", "seriesName"]), SOURCE_FORMAT_ORIGINAL = "original", SOURCE_FORMAT_ARRAY_ROWS = "arrayRows", SOURCE_FORMAT_OBJECT_ROWS = "objectRows", SOURCE_FORMAT_KEYED_COLUMNS = "keyedColumns", SOURCE_FORMAT_TYPED_ARRAY = "typedArray", SOURCE_FORMAT_UNKNOWN = "unknown", SERIES_LAYOUT_BY_COLUMN = "column", SERIES_LAYOUT_BY_ROW = "row", BE_ORDINAL = {
  Must: 1,
  Might: 2,
  Not: 3
  // Other cases
}, innerGlobalModel = makeInner();
function resetSourceDefaulter(i) {
  innerGlobalModel(i).datasetMap = createHashMap();
}
function makeSeriesEncodeForNameBased(i, n, r) {
  var o = {}, a = querySeriesUpstreamDatasetModel(i);
  if (!a)
    return o;
  var u = n.sourceFormat, c = n.dimensionsDefine, f;
  (u === SOURCE_FORMAT_OBJECT_ROWS || u === SOURCE_FORMAT_KEYED_COLUMNS) && each$4(c, function(y, v) {
    (isObject$3(y) ? y.name : y) === "name" && (f = v);
  });
  var d = function() {
    for (var y = {}, v = {}, g = [], _ = 0, b = Math.min(5, r); _ < b; _++) {
      var A = doGuessOrdinal(n.data, u, n.seriesLayoutBy, c, n.startIndex, _);
      g.push(A);
      var w = A === BE_ORDINAL.Not;
      if (w && y.v == null && _ !== f && (y.v = _), (y.n == null || y.n === y.v || !w && g[y.n] === BE_ORDINAL.Not) && (y.n = _), S(y) && g[y.n] !== BE_ORDINAL.Not)
        return y;
      w || (A === BE_ORDINAL.Might && v.v == null && _ !== f && (v.v = _), (v.n == null || v.n === v.v) && (v.n = _));
    }
    function S(T) {
      return T.v != null && T.n != null;
    }
    return S(y) ? y : S(v) ? v : null;
  }();
  if (d) {
    o.value = [d.v];
    var p = f ?? d.n;
    o.itemName = [p], o.seriesName = [p];
  }
  return o;
}
function querySeriesUpstreamDatasetModel(i) {
  var n = i.get("data", !0);
  if (!n)
    return queryReferringComponents(i.ecModel, "dataset", {
      index: i.get("datasetIndex", !0),
      id: i.get("datasetId", !0)
    }, SINGLE_REFERRING).models[0];
}
function queryDatasetUpstreamDatasetModels(i) {
  return !i.get("transform", !0) && !i.get("fromTransformResult", !0) ? [] : queryReferringComponents(i.ecModel, "dataset", {
    index: i.get("fromDatasetIndex", !0),
    id: i.get("fromDatasetId", !0)
  }, SINGLE_REFERRING).models;
}
function guessOrdinal(i, n) {
  return doGuessOrdinal(i.data, i.sourceFormat, i.seriesLayoutBy, i.dimensionsDefine, i.startIndex, n);
}
function doGuessOrdinal(i, n, r, o, a, u) {
  var c, f = 5;
  if (isTypedArray(i))
    return BE_ORDINAL.Not;
  var d, p;
  if (o) {
    var y = o[u];
    isObject$3(y) ? (d = y.name, p = y.type) : isString$2(y) && (d = y);
  }
  if (p != null)
    return p === "ordinal" ? BE_ORDINAL.Must : BE_ORDINAL.Not;
  if (n === SOURCE_FORMAT_ARRAY_ROWS) {
    var v = i;
    if (r === SERIES_LAYOUT_BY_ROW) {
      for (var g = v[u], _ = 0; _ < (g || []).length && _ < f; _++)
        if ((c = L(g[a + _])) != null)
          return c;
    } else
      for (var _ = 0; _ < v.length && _ < f; _++) {
        var b = v[a + _];
        if (b && (c = L(b[u])) != null)
          return c;
      }
  } else if (n === SOURCE_FORMAT_OBJECT_ROWS) {
    var A = i;
    if (!d)
      return BE_ORDINAL.Not;
    for (var _ = 0; _ < A.length && _ < f; _++) {
      var w = A[_];
      if (w && (c = L(w[d])) != null)
        return c;
    }
  } else if (n === SOURCE_FORMAT_KEYED_COLUMNS) {
    var S = i;
    if (!d)
      return BE_ORDINAL.Not;
    var g = S[d];
    if (!g || isTypedArray(g))
      return BE_ORDINAL.Not;
    for (var _ = 0; _ < g.length && _ < f; _++)
      if ((c = L(g[_])) != null)
        return c;
  } else if (n === SOURCE_FORMAT_ORIGINAL)
    for (var T = i, _ = 0; _ < T.length && _ < f; _++) {
      var w = T[_], x = getDataItemValue(w);
      if (!isArray$1(x))
        return BE_ORDINAL.Not;
      if ((c = L(x[u])) != null)
        return c;
    }
  function L(k) {
    var M = isString$2(k);
    if (k != null && isFinite(k) && k !== "")
      return M ? BE_ORDINAL.Might : BE_ORDINAL.Not;
    if (M && k !== "-")
      return BE_ORDINAL.Must;
  }
  return BE_ORDINAL.Not;
}
var internalOptionCreatorMap = createHashMap();
function concatInternalOptions(i, n, r) {
  var o = internalOptionCreatorMap.get(n);
  if (!o)
    return r;
  var a = o(i);
  if (!a)
    return r;
  if (process.env.NODE_ENV !== "production")
    for (var u = 0; u < a.length; u++)
      assert(isComponentIdInternal(a[u]));
  return r.concat(a);
}
var innerColor = makeInner();
makeInner();
var PaletteMixin = (
  /** @class */
  function() {
    function i() {
    }
    return i.prototype.getColorFromPalette = function(n, r, o) {
      var a = normalizeToArray(this.get("color", !0)), u = this.get("colorLayer", !0);
      return getFromPalette(this, innerColor, a, u, n, r, o);
    }, i.prototype.clearColorPalette = function() {
      clearPalette(this, innerColor);
    }, i;
  }()
);
function getNearestPalette(i, n) {
  for (var r = i.length, o = 0; o < r; o++)
    if (i[o].length > n)
      return i[o];
  return i[r - 1];
}
function getFromPalette(i, n, r, o, a, u, c) {
  u = u || i;
  var f = n(u), d = f.paletteIdx || 0, p = f.paletteNameMap = f.paletteNameMap || {};
  if (p.hasOwnProperty(a))
    return p[a];
  var y = c == null || !o ? r : getNearestPalette(o, c);
  if (y = y || r, !(!y || !y.length)) {
    var v = y[d];
    return a && (p[a] = v), f.paletteIdx = (d + 1) % y.length, v;
  }
}
function clearPalette(i, n) {
  n(i).paletteIdx = 0, n(i).paletteNameMap = {};
}
var reCreateSeriesIndices, assertSeriesInitialized, initBase, OPTION_INNER_KEY = "\0_ec_inner", OPTION_INNER_VALUE = 1, BUITIN_COMPONENTS_MAP = {
  grid: "GridComponent",
  polar: "PolarComponent",
  geo: "GeoComponent",
  singleAxis: "SingleAxisComponent",
  parallel: "ParallelComponent",
  calendar: "CalendarComponent",
  graphic: "GraphicComponent",
  toolbox: "ToolboxComponent",
  tooltip: "TooltipComponent",
  axisPointer: "AxisPointerComponent",
  brush: "BrushComponent",
  title: "TitleComponent",
  timeline: "TimelineComponent",
  markPoint: "MarkPointComponent",
  markLine: "MarkLineComponent",
  markArea: "MarkAreaComponent",
  legend: "LegendComponent",
  dataZoom: "DataZoomComponent",
  visualMap: "VisualMapComponent",
  // aria: 'AriaComponent',
  // dataset: 'DatasetComponent',
  // Dependencies
  xAxis: "GridComponent",
  yAxis: "GridComponent",
  angleAxis: "PolarComponent",
  radiusAxis: "PolarComponent"
}, BUILTIN_CHARTS_MAP = {
  line: "LineChart",
  bar: "BarChart",
  pie: "PieChart",
  scatter: "ScatterChart",
  radar: "RadarChart",
  map: "MapChart",
  tree: "TreeChart",
  treemap: "TreemapChart",
  graph: "GraphChart",
  gauge: "GaugeChart",
  funnel: "FunnelChart",
  parallel: "ParallelChart",
  sankey: "SankeyChart",
  boxplot: "BoxplotChart",
  candlestick: "CandlestickChart",
  effectScatter: "EffectScatterChart",
  lines: "LinesChart",
  heatmap: "HeatmapChart",
  pictorialBar: "PictorialBarChart",
  themeRiver: "ThemeRiverChart",
  sunburst: "SunburstChart",
  custom: "CustomChart"
}, componetsMissingLogPrinted = {};
function checkMissingComponents(i) {
  each$4(i, function(n, r) {
    if (!ComponentModel$1.hasClass(r)) {
      var o = BUITIN_COMPONENTS_MAP[r];
      o && !componetsMissingLogPrinted[o] && (error("Component " + r + ` is used but not imported.
import { ` + o + ` } from 'echarts/components';
echarts.use([` + o + "]);"), componetsMissingLogPrinted[o] = !0);
    }
  });
}
var GlobalModel = (
  /** @class */
  function(i) {
    __extends(n, i);
    function n() {
      return i !== null && i.apply(this, arguments) || this;
    }
    return n.prototype.init = function(r, o, a, u, c, f) {
      u = u || {}, this.option = null, this._theme = new Model$1(u), this._locale = new Model$1(c), this._optionManager = f;
    }, n.prototype.setOption = function(r, o, a) {
      process.env.NODE_ENV !== "production" && (assert(r != null, "option is null/undefined"), assert(r[OPTION_INNER_KEY] !== OPTION_INNER_VALUE, "please use chart.getOption()"));
      var u = normalizeSetOptionInput(o);
      this._optionManager.setOption(r, a, u), this._resetOption(null, u);
    }, n.prototype.resetOption = function(r, o) {
      return this._resetOption(r, normalizeSetOptionInput(o));
    }, n.prototype._resetOption = function(r, o) {
      var a = !1, u = this._optionManager;
      if (!r || r === "recreate") {
        var c = u.mountOption(r === "recreate");
        process.env.NODE_ENV !== "production" && checkMissingComponents(c), !this.option || r === "recreate" ? initBase(this, c) : (this.restoreData(), this._mergeOption(c, o)), a = !0;
      }
      if ((r === "timeline" || r === "media") && this.restoreData(), !r || r === "recreate" || r === "timeline") {
        var f = u.getTimelineOption(this);
        f && (a = !0, this._mergeOption(f, o));
      }
      if (!r || r === "recreate" || r === "media") {
        var d = u.getMediaOption(this);
        d.length && each$4(d, function(p) {
          a = !0, this._mergeOption(p, o);
        }, this);
      }
      return a;
    }, n.prototype.mergeOption = function(r) {
      this._mergeOption(r, null);
    }, n.prototype._mergeOption = function(r, o) {
      var a = this.option, u = this._componentsMap, c = this._componentsCount, f = [], d = createHashMap(), p = o && o.replaceMergeMainTypeMap;
      resetSourceDefaulter(this), each$4(r, function(v, g) {
        v != null && (ComponentModel$1.hasClass(g) ? g && (f.push(g), d.set(g, !0)) : a[g] = a[g] == null ? clone$2(v) : merge(a[g], v, !0));
      }), p && p.each(function(v, g) {
        ComponentModel$1.hasClass(g) && !d.get(g) && (f.push(g), d.set(g, !0));
      }), ComponentModel$1.topologicalTravel(f, ComponentModel$1.getAllClassMainTypes(), y, this);
      function y(v) {
        var g = concatInternalOptions(this, v, normalizeToArray(r[v])), _ = u.get(v), b = (
          // `!oldCmptList` means init. See the comment in `mappingToExists`
          _ ? p && p.get(v) ? "replaceMerge" : "normalMerge" : "replaceAll"
        ), A = mappingToExists(_, g, b);
        setComponentTypeToKeyInfo(A, v, ComponentModel$1), a[v] = null, u.set(v, null), c.set(v, 0);
        var w = [], S = [], T = 0, x, L;
        each$4(A, function(k, M) {
          var O = k.existing, ie = k.newOption;
          if (!ie)
            O && (O.mergeOption({}, this), O.optionUpdated({}, !1));
          else {
            var F = v === "series", j = ComponentModel$1.getClass(
              v,
              k.keyInfo.subType,
              !F
              // Give a more detailed warn later if series don't exists
            );
            if (!j) {
              if (process.env.NODE_ENV !== "production") {
                var D = k.keyInfo.subType, Y = BUILTIN_CHARTS_MAP[D];
                componetsMissingLogPrinted[D] || (componetsMissingLogPrinted[D] = !0, error(Y ? "Series " + D + ` is used but not imported.
import { ` + Y + ` } from 'echarts/charts';
echarts.use([` + Y + "]);" : "Unknown series " + D));
              }
              return;
            }
            if (v === "tooltip") {
              if (x) {
                process.env.NODE_ENV !== "production" && (L || (warn("Currently only one tooltip component is allowed."), L = !0));
                return;
              }
              x = !0;
            }
            if (O && O.constructor === j)
              O.name = k.keyInfo.name, O.mergeOption(ie, this), O.optionUpdated(ie, !1);
            else {
              var z = extend({
                componentIndex: M
              }, k.keyInfo);
              O = new j(ie, this, this, z), extend(O, z), k.brandNew && (O.__requireNewView = !0), O.init(ie, this, this), O.optionUpdated(null, !0);
            }
          }
          O ? (w.push(O.option), S.push(O), T++) : (w.push(void 0), S.push(void 0));
        }, this), a[v] = w, u.set(v, S), c.set(v, T), v === "series" && reCreateSeriesIndices(this);
      }
      this._seriesIndices || reCreateSeriesIndices(this);
    }, n.prototype.getOption = function() {
      var r = clone$2(this.option);
      return each$4(r, function(o, a) {
        if (ComponentModel$1.hasClass(a)) {
          for (var u = normalizeToArray(o), c = u.length, f = !1, d = c - 1; d >= 0; d--)
            u[d] && !isComponentIdInternal(u[d]) ? f = !0 : (u[d] = null, !f && c--);
          u.length = c, r[a] = u;
        }
      }), delete r[OPTION_INNER_KEY], r;
    }, n.prototype.getTheme = function() {
      return this._theme;
    }, n.prototype.getLocaleModel = function() {
      return this._locale;
    }, n.prototype.setUpdatePayload = function(r) {
      this._payload = r;
    }, n.prototype.getUpdatePayload = function() {
      return this._payload;
    }, n.prototype.getComponent = function(r, o) {
      var a = this._componentsMap.get(r);
      if (a) {
        var u = a[o || 0];
        if (u)
          return u;
        if (o == null) {
          for (var c = 0; c < a.length; c++)
            if (a[c])
              return a[c];
        }
      }
    }, n.prototype.queryComponents = function(r) {
      var o = r.mainType;
      if (!o)
        return [];
      var a = r.index, u = r.id, c = r.name, f = this._componentsMap.get(o);
      if (!f || !f.length)
        return [];
      var d;
      return a != null ? (d = [], each$4(normalizeToArray(a), function(p) {
        f[p] && d.push(f[p]);
      })) : u != null ? d = queryByIdOrName("id", u, f) : c != null ? d = queryByIdOrName("name", c, f) : d = filter(f, function(p) {
        return !!p;
      }), filterBySubType(d, r);
    }, n.prototype.findComponents = function(r) {
      var o = r.query, a = r.mainType, u = f(o), c = u ? this.queryComponents(u) : filter(this._componentsMap.get(a), function(p) {
        return !!p;
      });
      return d(filterBySubType(c, r));
      function f(p) {
        var y = a + "Index", v = a + "Id", g = a + "Name";
        return p && (p[y] != null || p[v] != null || p[g] != null) ? {
          mainType: a,
          // subType will be filtered finally.
          index: p[y],
          id: p[v],
          name: p[g]
        } : null;
      }
      function d(p) {
        return r.filter ? filter(p, r.filter) : p;
      }
    }, n.prototype.eachComponent = function(r, o, a) {
      var u = this._componentsMap;
      if (isFunction$1(r)) {
        var c = o, f = r;
        u.each(function(v, g) {
          for (var _ = 0; v && _ < v.length; _++) {
            var b = v[_];
            b && f.call(c, g, b, b.componentIndex);
          }
        });
      } else
        for (var d = isString$2(r) ? u.get(r) : isObject$3(r) ? this.findComponents(r) : null, p = 0; d && p < d.length; p++) {
          var y = d[p];
          y && o.call(a, y, y.componentIndex);
        }
    }, n.prototype.getSeriesByName = function(r) {
      var o = convertOptionIdName(r, null);
      return filter(this._componentsMap.get("series"), function(a) {
        return !!a && o != null && a.name === o;
      });
    }, n.prototype.getSeriesByIndex = function(r) {
      return this._componentsMap.get("series")[r];
    }, n.prototype.getSeriesByType = function(r) {
      return filter(this._componentsMap.get("series"), function(o) {
        return !!o && o.subType === r;
      });
    }, n.prototype.getSeries = function() {
      return filter(this._componentsMap.get("series"), function(r) {
        return !!r;
      });
    }, n.prototype.getSeriesCount = function() {
      return this._componentsCount.get("series");
    }, n.prototype.eachSeries = function(r, o) {
      assertSeriesInitialized(this), each$4(this._seriesIndices, function(a) {
        var u = this._componentsMap.get("series")[a];
        r.call(o, u, a);
      }, this);
    }, n.prototype.eachRawSeries = function(r, o) {
      each$4(this._componentsMap.get("series"), function(a) {
        a && r.call(o, a, a.componentIndex);
      });
    }, n.prototype.eachSeriesByType = function(r, o, a) {
      assertSeriesInitialized(this), each$4(this._seriesIndices, function(u) {
        var c = this._componentsMap.get("series")[u];
        c.subType === r && o.call(a, c, u);
      }, this);
    }, n.prototype.eachRawSeriesByType = function(r, o, a) {
      return each$4(this.getSeriesByType(r), o, a);
    }, n.prototype.isSeriesFiltered = function(r) {
      return assertSeriesInitialized(this), this._seriesIndicesMap.get(r.componentIndex) == null;
    }, n.prototype.getCurrentSeriesIndices = function() {
      return (this._seriesIndices || []).slice();
    }, n.prototype.filterSeries = function(r, o) {
      assertSeriesInitialized(this);
      var a = [];
      each$4(this._seriesIndices, function(u) {
        var c = this._componentsMap.get("series")[u];
        r.call(o, c, u) && a.push(u);
      }, this), this._seriesIndices = a, this._seriesIndicesMap = createHashMap(a);
    }, n.prototype.restoreData = function(r) {
      reCreateSeriesIndices(this);
      var o = this._componentsMap, a = [];
      o.each(function(u, c) {
        ComponentModel$1.hasClass(c) && a.push(c);
      }), ComponentModel$1.topologicalTravel(a, ComponentModel$1.getAllClassMainTypes(), function(u) {
        each$4(o.get(u), function(c) {
          c && (u !== "series" || !isNotTargetSeries(c, r)) && c.restoreData();
        });
      });
    }, n.internalField = function() {
      reCreateSeriesIndices = function(r) {
        var o = r._seriesIndices = [];
        each$4(r._componentsMap.get("series"), function(a) {
          a && o.push(a.componentIndex);
        }), r._seriesIndicesMap = createHashMap(o);
      }, assertSeriesInitialized = function(r) {
        if (process.env.NODE_ENV !== "production" && !r._seriesIndices)
          throw new Error("Option should contains series.");
      }, initBase = function(r, o) {
        r.option = {}, r.option[OPTION_INNER_KEY] = OPTION_INNER_VALUE, r._componentsMap = createHashMap({
          series: []
        }), r._componentsCount = createHashMap();
        var a = o.aria;
        isObject$3(a) && a.enabled == null && (a.enabled = !0), mergeTheme(o, r._theme.option), merge(o, globalDefault, !1), r._mergeOption(o, null);
      };
    }(), n;
  }(Model$1)
);
function isNotTargetSeries(i, n) {
  if (n) {
    var r = n.seriesIndex, o = n.seriesId, a = n.seriesName;
    return r != null && i.componentIndex !== r || o != null && i.id !== o || a != null && i.name !== a;
  }
}
function mergeTheme(i, n) {
  var r = i.color && !i.colorLayer;
  each$4(n, function(o, a) {
    a === "colorLayer" && r || ComponentModel$1.hasClass(a) || (typeof o == "object" ? i[a] = i[a] ? merge(i[a], o, !1) : clone$2(o) : i[a] == null && (i[a] = o));
  });
}
function queryByIdOrName(i, n, r) {
  if (isArray$1(n)) {
    var o = createHashMap();
    return each$4(n, function(u) {
      if (u != null) {
        var c = convertOptionIdName(u, null);
        c != null && o.set(u, !0);
      }
    }), filter(r, function(u) {
      return u && o.get(u[i]);
    });
  } else {
    var a = convertOptionIdName(n, null);
    return filter(r, function(u) {
      return u && a != null && u[i] === a;
    });
  }
}
function filterBySubType(i, n) {
  return n.hasOwnProperty("subType") ? filter(i, function(r) {
    return r && r.subType === n.subType;
  }) : i;
}
function normalizeSetOptionInput(i) {
  var n = createHashMap();
  return i && each$4(normalizeToArray(i.replaceMerge), function(r) {
    process.env.NODE_ENV !== "production" && assert(ComponentModel$1.hasClass(r), '"' + r + '" is not valid component main type in "replaceMerge"'), n.set(r, !0);
  }), {
    replaceMergeMainTypeMap: n
  };
}
mixin(GlobalModel, PaletteMixin);
const GlobalModel$1 = GlobalModel;
var availableMethods = [
  "getDom",
  "getZr",
  "getWidth",
  "getHeight",
  "getDevicePixelRatio",
  "dispatchAction",
  "isSSR",
  "isDisposed",
  "on",
  "off",
  "getDataURL",
  "getConnectedDataURL",
  // 'getModel',
  "getOption",
  // 'getViewOfComponentModel',
  // 'getViewOfSeriesModel',
  "getId",
  "updateLabelLayout"
], ExtensionAPI = (
  /** @class */
  function() {
    function i(n) {
      each$4(availableMethods, function(r) {
        this[r] = bind$1(n[r], n);
      }, this);
    }
    return i;
  }()
);
const ExtensionAPI$1 = ExtensionAPI;
var coordinateSystemCreators = {}, CoordinateSystemManager = (
  /** @class */
  function() {
    function i() {
      this._coordinateSystems = [];
    }
    return i.prototype.create = function(n, r) {
      var o = [];
      each$4(coordinateSystemCreators, function(a, u) {
        var c = a.create(n, r);
        o = o.concat(c || []);
      }), this._coordinateSystems = o;
    }, i.prototype.update = function(n, r) {
      each$4(this._coordinateSystems, function(o) {
        o.update && o.update(n, r);
      });
    }, i.prototype.getCoordinateSystems = function() {
      return this._coordinateSystems.slice();
    }, i.register = function(n, r) {
      coordinateSystemCreators[n] = r;
    }, i.get = function(n) {
      return coordinateSystemCreators[n];
    }, i;
  }()
);
const CoordinateSystem = CoordinateSystemManager;
var QUERY_REG = /^(min|max)?(.+)$/, OptionManager = (
  /** @class */
  function() {
    function i(n) {
      this._timelineOptions = [], this._mediaList = [], this._currentMediaIndices = [], this._api = n;
    }
    return i.prototype.setOption = function(n, r, o) {
      n && (each$4(normalizeToArray(n.series), function(c) {
        c && c.data && isTypedArray(c.data) && setAsPrimitive(c.data);
      }), each$4(normalizeToArray(n.dataset), function(c) {
        c && c.source && isTypedArray(c.source) && setAsPrimitive(c.source);
      })), n = clone$2(n);
      var a = this._optionBackup, u = parseRawOption(n, r, !a);
      this._newBaseOption = u.baseOption, a ? (u.timelineOptions.length && (a.timelineOptions = u.timelineOptions), u.mediaList.length && (a.mediaList = u.mediaList), u.mediaDefault && (a.mediaDefault = u.mediaDefault)) : this._optionBackup = u;
    }, i.prototype.mountOption = function(n) {
      var r = this._optionBackup;
      return this._timelineOptions = r.timelineOptions, this._mediaList = r.mediaList, this._mediaDefault = r.mediaDefault, this._currentMediaIndices = [], clone$2(n ? r.baseOption : this._newBaseOption);
    }, i.prototype.getTimelineOption = function(n) {
      var r, o = this._timelineOptions;
      if (o.length) {
        var a = n.getComponent("timeline");
        a && (r = clone$2(
          // FIXME:TS as TimelineModel or quivlant interface
          o[a.getCurrentIndex()]
        ));
      }
      return r;
    }, i.prototype.getMediaOption = function(n) {
      var r = this._api.getWidth(), o = this._api.getHeight(), a = this._mediaList, u = this._mediaDefault, c = [], f = [];
      if (!a.length && !u)
        return f;
      for (var d = 0, p = a.length; d < p; d++)
        applyMediaQuery(a[d].query, r, o) && c.push(d);
      return !c.length && u && (c = [-1]), c.length && !indicesEquals(c, this._currentMediaIndices) && (f = map$1(c, function(y) {
        return clone$2(y === -1 ? u.option : a[y].option);
      })), this._currentMediaIndices = c, f;
    }, i;
  }()
);
function parseRawOption(i, n, r) {
  var o = [], a, u, c = i.baseOption, f = i.timeline, d = i.options, p = i.media, y = !!i.media, v = !!(d || f || c && c.timeline);
  c ? (u = c, u.timeline || (u.timeline = f)) : ((v || y) && (i.options = i.media = null), u = i), y && (isArray$1(p) ? each$4(p, function(_) {
    process.env.NODE_ENV !== "production" && _ && !_.option && isObject$3(_.query) && isObject$3(_.query.option) && error("Illegal media option. Must be like { media: [ { query: {}, option: {} } ] }"), _ && _.option && (_.query ? o.push(_) : a || (a = _));
  }) : process.env.NODE_ENV !== "production" && error("Illegal media option. Must be an array. Like { media: [ {...}, {...} ] }")), g(u), each$4(d, function(_) {
    return g(_);
  }), each$4(o, function(_) {
    return g(_.option);
  });
  function g(_) {
    each$4(n, function(b) {
      b(_, r);
    });
  }
  return {
    baseOption: u,
    timelineOptions: d || [],
    mediaDefault: a,
    mediaList: o
  };
}
function applyMediaQuery(i, n, r) {
  var o = {
    width: n,
    height: r,
    aspectratio: n / r
    // lower case for convenience.
  }, a = !0;
  return each$4(i, function(u, c) {
    var f = c.match(QUERY_REG);
    if (!(!f || !f[1] || !f[2])) {
      var d = f[1], p = f[2].toLowerCase();
      compare(o[p], u, d) || (a = !1);
    }
  }), a;
}
function compare(i, n, r) {
  return r === "min" ? i >= n : r === "max" ? i <= n : i === n;
}
function indicesEquals(i, n) {
  return i.join(",") === n.join(",");
}
const OptionManager$1 = OptionManager;
var each$2 = each$4, isObject$2 = isObject$3, POSSIBLE_STYLES = ["areaStyle", "lineStyle", "nodeStyle", "linkStyle", "chordStyle", "label", "labelLine"];
function compatEC2ItemStyle(i) {
  var n = i && i.itemStyle;
  if (n)
    for (var r = 0, o = POSSIBLE_STYLES.length; r < o; r++) {
      var a = POSSIBLE_STYLES[r], u = n.normal, c = n.emphasis;
      u && u[a] && (process.env.NODE_ENV !== "production" && deprecateReplaceLog("itemStyle.normal." + a, a), i[a] = i[a] || {}, i[a].normal ? merge(i[a].normal, u[a]) : i[a].normal = u[a], u[a] = null), c && c[a] && (process.env.NODE_ENV !== "production" && deprecateReplaceLog("itemStyle.emphasis." + a, "emphasis." + a), i[a] = i[a] || {}, i[a].emphasis ? merge(i[a].emphasis, c[a]) : i[a].emphasis = c[a], c[a] = null);
    }
}
function convertNormalEmphasis(i, n, r) {
  if (i && i[n] && (i[n].normal || i[n].emphasis)) {
    var o = i[n].normal, a = i[n].emphasis;
    o && (process.env.NODE_ENV !== "production" && deprecateLog("'normal' hierarchy in " + n + " has been removed since 4.0. All style properties are configured in " + n + " directly now."), r ? (i[n].normal = i[n].emphasis = null, defaults(i[n], o)) : i[n] = o), a && (process.env.NODE_ENV !== "production" && deprecateLog(n + ".emphasis has been changed to emphasis." + n + " since 4.0"), i.emphasis = i.emphasis || {}, i.emphasis[n] = a, a.focus && (i.emphasis.focus = a.focus), a.blurScope && (i.emphasis.blurScope = a.blurScope));
  }
}
function removeEC3NormalStatus(i) {
  convertNormalEmphasis(i, "itemStyle"), convertNormalEmphasis(i, "lineStyle"), convertNormalEmphasis(i, "areaStyle"), convertNormalEmphasis(i, "label"), convertNormalEmphasis(i, "labelLine"), convertNormalEmphasis(i, "upperLabel"), convertNormalEmphasis(i, "edgeLabel");
}
function compatTextStyle(i, n) {
  var r = isObject$2(i) && i[n], o = isObject$2(r) && r.textStyle;
  if (o) {
    process.env.NODE_ENV !== "production" && deprecateLog("textStyle hierarchy in " + n + " has been removed since 4.0. All textStyle properties are configured in " + n + " directly now.");
    for (var a = 0, u = TEXT_STYLE_OPTIONS.length; a < u; a++) {
      var c = TEXT_STYLE_OPTIONS[a];
      o.hasOwnProperty(c) && (r[c] = o[c]);
    }
  }
}
function compatEC3CommonStyles(i) {
  i && (removeEC3NormalStatus(i), compatTextStyle(i, "label"), i.emphasis && compatTextStyle(i.emphasis, "label"));
}
function processSeries(i) {
  if (isObject$2(i)) {
    compatEC2ItemStyle(i), removeEC3NormalStatus(i), compatTextStyle(i, "label"), compatTextStyle(i, "upperLabel"), compatTextStyle(i, "edgeLabel"), i.emphasis && (compatTextStyle(i.emphasis, "label"), compatTextStyle(i.emphasis, "upperLabel"), compatTextStyle(i.emphasis, "edgeLabel"));
    var n = i.markPoint;
    n && (compatEC2ItemStyle(n), compatEC3CommonStyles(n));
    var r = i.markLine;
    r && (compatEC2ItemStyle(r), compatEC3CommonStyles(r));
    var o = i.markArea;
    o && compatEC3CommonStyles(o);
    var a = i.data;
    if (i.type === "graph") {
      a = a || i.nodes;
      var u = i.links || i.edges;
      if (u && !isTypedArray(u))
        for (var c = 0; c < u.length; c++)
          compatEC3CommonStyles(u[c]);
      each$4(i.categories, function(p) {
        removeEC3NormalStatus(p);
      });
    }
    if (a && !isTypedArray(a))
      for (var c = 0; c < a.length; c++)
        compatEC3CommonStyles(a[c]);
    if (n = i.markPoint, n && n.data)
      for (var f = n.data, c = 0; c < f.length; c++)
        compatEC3CommonStyles(f[c]);
    if (r = i.markLine, r && r.data)
      for (var d = r.data, c = 0; c < d.length; c++)
        isArray$1(d[c]) ? (compatEC3CommonStyles(d[c][0]), compatEC3CommonStyles(d[c][1])) : compatEC3CommonStyles(d[c]);
    i.type === "gauge" ? (compatTextStyle(i, "axisLabel"), compatTextStyle(i, "title"), compatTextStyle(i, "detail")) : i.type === "treemap" ? (convertNormalEmphasis(i.breadcrumb, "itemStyle"), each$4(i.levels, function(p) {
      removeEC3NormalStatus(p);
    })) : i.type === "tree" && removeEC3NormalStatus(i.leaves);
  }
}
function toArr(i) {
  return isArray$1(i) ? i : i ? [i] : [];
}
function toObj(i) {
  return (isArray$1(i) ? i[0] : i) || {};
}
function globalCompatStyle(i, n) {
  each$2(toArr(i.series), function(o) {
    isObject$2(o) && processSeries(o);
  });
  var r = ["xAxis", "yAxis", "radiusAxis", "angleAxis", "singleAxis", "parallelAxis", "radar"];
  n && r.push("valueAxis", "categoryAxis", "logAxis", "timeAxis"), each$2(r, function(o) {
    each$2(toArr(i[o]), function(a) {
      a && (compatTextStyle(a, "axisLabel"), compatTextStyle(a.axisPointer, "label"));
    });
  }), each$2(toArr(i.parallel), function(o) {
    var a = o && o.parallelAxisDefault;
    compatTextStyle(a, "axisLabel"), compatTextStyle(a && a.axisPointer, "label");
  }), each$2(toArr(i.calendar), function(o) {
    convertNormalEmphasis(o, "itemStyle"), compatTextStyle(o, "dayLabel"), compatTextStyle(o, "monthLabel"), compatTextStyle(o, "yearLabel");
  }), each$2(toArr(i.radar), function(o) {
    compatTextStyle(o, "name"), o.name && o.axisName == null && (o.axisName = o.name, delete o.name, process.env.NODE_ENV !== "production" && deprecateLog("name property in radar component has been changed to axisName")), o.nameGap != null && o.axisNameGap == null && (o.axisNameGap = o.nameGap, delete o.nameGap, process.env.NODE_ENV !== "production" && deprecateLog("nameGap property in radar component has been changed to axisNameGap")), process.env.NODE_ENV !== "production" && each$2(o.indicator, function(a) {
      a.text && deprecateReplaceLog("text", "name", "radar.indicator");
    });
  }), each$2(toArr(i.geo), function(o) {
    isObject$2(o) && (compatEC3CommonStyles(o), each$2(toArr(o.regions), function(a) {
      compatEC3CommonStyles(a);
    }));
  }), each$2(toArr(i.timeline), function(o) {
    compatEC3CommonStyles(o), convertNormalEmphasis(o, "label"), convertNormalEmphasis(o, "itemStyle"), convertNormalEmphasis(o, "controlStyle", !0);
    var a = o.data;
    isArray$1(a) && each$4(a, function(u) {
      isObject$3(u) && (convertNormalEmphasis(u, "label"), convertNormalEmphasis(u, "itemStyle"));
    });
  }), each$2(toArr(i.toolbox), function(o) {
    convertNormalEmphasis(o, "iconStyle"), each$2(o.feature, function(a) {
      convertNormalEmphasis(a, "iconStyle");
    });
  }), compatTextStyle(toObj(i.axisPointer), "label"), compatTextStyle(toObj(i.tooltip).axisPointer, "label");
}
function get(i, n) {
  for (var r = n.split(","), o = i, a = 0; a < r.length && (o = o && o[r[a]], o != null); a++)
    ;
  return o;
}
function set(i, n, r, o) {
  for (var a = n.split(","), u = i, c, f = 0; f < a.length - 1; f++)
    c = a[f], u[c] == null && (u[c] = {}), u = u[c];
  (o || u[a[f]] == null) && (u[a[f]] = r);
}
function compatLayoutProperties(i) {
  i && each$4(LAYOUT_PROPERTIES, function(n) {
    n[0] in i && !(n[1] in i) && (i[n[1]] = i[n[0]]);
  });
}
var LAYOUT_PROPERTIES = [["x", "left"], ["y", "top"], ["x2", "right"], ["y2", "bottom"]], COMPATITABLE_COMPONENTS = ["grid", "geo", "parallel", "legend", "toolbox", "title", "visualMap", "dataZoom", "timeline"], BAR_ITEM_STYLE_MAP = [["borderRadius", "barBorderRadius"], ["borderColor", "barBorderColor"], ["borderWidth", "barBorderWidth"]];
function compatBarItemStyle(i) {
  var n = i && i.itemStyle;
  if (n)
    for (var r = 0; r < BAR_ITEM_STYLE_MAP.length; r++) {
      var o = BAR_ITEM_STYLE_MAP[r][1], a = BAR_ITEM_STYLE_MAP[r][0];
      n[o] != null && (n[a] = n[o], process.env.NODE_ENV !== "production" && deprecateReplaceLog(o, a));
    }
}
function compatPieLabel(i) {
  i && i.alignTo === "edge" && i.margin != null && i.edgeDistance == null && (process.env.NODE_ENV !== "production" && deprecateReplaceLog("label.margin", "label.edgeDistance", "pie"), i.edgeDistance = i.margin);
}
function compatSunburstState(i) {
  i && i.downplay && !i.blur && (i.blur = i.downplay, process.env.NODE_ENV !== "production" && deprecateReplaceLog("downplay", "blur", "sunburst"));
}
function compatGraphFocus(i) {
  i && i.focusNodeAdjacency != null && (i.emphasis = i.emphasis || {}, i.emphasis.focus == null && (process.env.NODE_ENV !== "production" && deprecateReplaceLog("focusNodeAdjacency", "emphasis: { focus: 'adjacency'}", "graph/sankey"), i.emphasis.focus = "adjacency"));
}
function traverseTree(i, n) {
  if (i)
    for (var r = 0; r < i.length; r++)
      n(i[r]), i[r] && traverseTree(i[r].children, n);
}
function globalBackwardCompat(i, n) {
  globalCompatStyle(i, n), i.series = normalizeToArray(i.series), each$4(i.series, function(r) {
    if (isObject$3(r)) {
      var o = r.type;
      if (o === "line")
        r.clipOverflow != null && (r.clip = r.clipOverflow, process.env.NODE_ENV !== "production" && deprecateReplaceLog("clipOverflow", "clip", "line"));
      else if (o === "pie" || o === "gauge") {
        r.clockWise != null && (r.clockwise = r.clockWise, process.env.NODE_ENV !== "production" && deprecateReplaceLog("clockWise", "clockwise")), compatPieLabel(r.label);
        var a = r.data;
        if (a && !isTypedArray(a))
          for (var u = 0; u < a.length; u++)
            compatPieLabel(a[u]);
        r.hoverOffset != null && (r.emphasis = r.emphasis || {}, (r.emphasis.scaleSize = null) && (process.env.NODE_ENV !== "production" && deprecateReplaceLog("hoverOffset", "emphasis.scaleSize"), r.emphasis.scaleSize = r.hoverOffset));
      } else if (o === "gauge") {
        var c = get(r, "pointer.color");
        c != null && set(r, "itemStyle.color", c);
      } else if (o === "bar") {
        compatBarItemStyle(r), compatBarItemStyle(r.backgroundStyle), compatBarItemStyle(r.emphasis);
        var a = r.data;
        if (a && !isTypedArray(a))
          for (var u = 0; u < a.length; u++)
            typeof a[u] == "object" && (compatBarItemStyle(a[u]), compatBarItemStyle(a[u] && a[u].emphasis));
      } else if (o === "sunburst") {
        var f = r.highlightPolicy;
        f && (r.emphasis = r.emphasis || {}, r.emphasis.focus || (r.emphasis.focus = f, process.env.NODE_ENV !== "production" && deprecateReplaceLog("highlightPolicy", "emphasis.focus", "sunburst"))), compatSunburstState(r), traverseTree(r.data, compatSunburstState);
      } else
        o === "graph" || o === "sankey" ? compatGraphFocus(r) : o === "map" && (r.mapType && !r.map && (process.env.NODE_ENV !== "production" && deprecateReplaceLog("mapType", "map", "map"), r.map = r.mapType), r.mapLocation && (process.env.NODE_ENV !== "production" && deprecateLog("`mapLocation` is not used anymore."), defaults(r, r.mapLocation)));
      r.hoverAnimation != null && (r.emphasis = r.emphasis || {}, r.emphasis && r.emphasis.scale == null && (process.env.NODE_ENV !== "production" && deprecateReplaceLog("hoverAnimation", "emphasis.scale"), r.emphasis.scale = r.hoverAnimation)), compatLayoutProperties(r);
    }
  }), i.dataRange && (i.visualMap = i.dataRange), each$4(COMPATITABLE_COMPONENTS, function(r) {
    var o = i[r];
    o && (isArray$1(o) || (o = [o]), each$4(o, function(a) {
      compatLayoutProperties(a);
    }));
  });
}
function dataStack(i) {
  var n = createHashMap();
  i.eachSeries(function(r) {
    var o = r.get("stack");
    if (o) {
      var a = n.get(o) || n.set(o, []), u = r.getData(), c = {
        // Used for calculate axis extent automatically.
        // TODO: Type getCalculationInfo return more specific type?
        stackResultDimension: u.getCalculationInfo("stackResultDimension"),
        stackedOverDimension: u.getCalculationInfo("stackedOverDimension"),
        stackedDimension: u.getCalculationInfo("stackedDimension"),
        stackedByDimension: u.getCalculationInfo("stackedByDimension"),
        isStackedByIndex: u.getCalculationInfo("isStackedByIndex"),
        data: u,
        seriesModel: r
      };
      if (!c.stackedDimension || !(c.isStackedByIndex || c.stackedByDimension))
        return;
      a.length && u.setCalculationInfo("stackedOnSeries", a[a.length - 1].seriesModel), a.push(c);
    }
  }), n.each(calculateStack);
}
function calculateStack(i) {
  each$4(i, function(n, r) {
    var o = [], a = [NaN, NaN], u = [n.stackResultDimension, n.stackedOverDimension], c = n.data, f = n.isStackedByIndex, d = n.seriesModel.get("stackStrategy") || "samesign";
    c.modify(u, function(p, y, v) {
      var g = c.get(n.stackedDimension, v);
      if (isNaN(g))
        return a;
      var _, b;
      f ? b = c.getRawIndex(v) : _ = c.get(n.stackedByDimension, v);
      for (var A = NaN, w = r - 1; w >= 0; w--) {
        var S = i[w];
        if (f || (b = S.data.rawIndexOf(S.stackedByDimension, _)), b >= 0) {
          var T = S.data.getByRawIndex(S.stackResultDimension, b);
          if (d === "all" || d === "positive" && T > 0 || d === "negative" && T < 0 || d === "samesign" && g >= 0 && T > 0 || d === "samesign" && g <= 0 && T < 0) {
            g = addSafe(g, T), A = T;
            break;
          }
        }
      }
      return o[0] = g, o[1] = A, o;
    });
  });
}
var SourceImpl = (
  /** @class */
  function() {
    function i(n) {
      this.data = n.data || (n.sourceFormat === SOURCE_FORMAT_KEYED_COLUMNS ? {} : []), this.sourceFormat = n.sourceFormat || SOURCE_FORMAT_UNKNOWN, this.seriesLayoutBy = n.seriesLayoutBy || SERIES_LAYOUT_BY_COLUMN, this.startIndex = n.startIndex || 0, this.dimensionsDetectedCount = n.dimensionsDetectedCount, this.metaRawOption = n.metaRawOption;
      var r = this.dimensionsDefine = n.dimensionsDefine;
      if (r)
        for (var o = 0; o < r.length; o++) {
          var a = r[o];
          a.type == null && guessOrdinal(this, o) === BE_ORDINAL.Must && (a.type = "ordinal");
        }
    }
    return i;
  }()
);
function isSourceInstance(i) {
  return i instanceof SourceImpl;
}
function createSource(i, n, r) {
  r = r || detectSourceFormat(i);
  var o = n.seriesLayoutBy, a = determineSourceDimensions(i, r, o, n.sourceHeader, n.dimensions), u = new SourceImpl({
    data: i,
    sourceFormat: r,
    seriesLayoutBy: o,
    dimensionsDefine: a.dimensionsDefine,
    startIndex: a.startIndex,
    dimensionsDetectedCount: a.dimensionsDetectedCount,
    metaRawOption: clone$2(n)
  });
  return u;
}
function createSourceFromSeriesDataOption(i) {
  return new SourceImpl({
    data: i,
    sourceFormat: isTypedArray(i) ? SOURCE_FORMAT_TYPED_ARRAY : SOURCE_FORMAT_ORIGINAL
  });
}
function cloneSourceShallow(i) {
  return new SourceImpl({
    data: i.data,
    sourceFormat: i.sourceFormat,
    seriesLayoutBy: i.seriesLayoutBy,
    dimensionsDefine: clone$2(i.dimensionsDefine),
    startIndex: i.startIndex,
    dimensionsDetectedCount: i.dimensionsDetectedCount
  });
}
function detectSourceFormat(i) {
  var n = SOURCE_FORMAT_UNKNOWN;
  if (isTypedArray(i))
    n = SOURCE_FORMAT_TYPED_ARRAY;
  else if (isArray$1(i)) {
    i.length === 0 && (n = SOURCE_FORMAT_ARRAY_ROWS);
    for (var r = 0, o = i.length; r < o; r++) {
      var a = i[r];
      if (a != null) {
        if (isArray$1(a)) {
          n = SOURCE_FORMAT_ARRAY_ROWS;
          break;
        } else if (isObject$3(a)) {
          n = SOURCE_FORMAT_OBJECT_ROWS;
          break;
        }
      }
    }
  } else if (isObject$3(i)) {
    for (var u in i)
      if (hasOwn$1(i, u) && isArrayLike(i[u])) {
        n = SOURCE_FORMAT_KEYED_COLUMNS;
        break;
      }
  }
  return n;
}
function determineSourceDimensions(i, n, r, o, a) {
  var u, c;
  if (!i)
    return {
      dimensionsDefine: normalizeDimensionsOption(a),
      startIndex: c,
      dimensionsDetectedCount: u
    };
  if (n === SOURCE_FORMAT_ARRAY_ROWS) {
    var f = i;
    o === "auto" || o == null ? arrayRowsTravelFirst(function(p) {
      p != null && p !== "-" && (isString$2(p) ? c == null && (c = 1) : c = 0);
    }, r, f, 10) : c = isNumber$1(o) ? o : o ? 1 : 0, !a && c === 1 && (a = [], arrayRowsTravelFirst(function(p, y) {
      a[y] = p != null ? p + "" : "";
    }, r, f, 1 / 0)), u = a ? a.length : r === SERIES_LAYOUT_BY_ROW ? f.length : f[0] ? f[0].length : null;
  } else if (n === SOURCE_FORMAT_OBJECT_ROWS)
    a || (a = objectRowsCollectDimensions(i));
  else if (n === SOURCE_FORMAT_KEYED_COLUMNS)
    a || (a = [], each$4(i, function(p, y) {
      a.push(y);
    }));
  else if (n === SOURCE_FORMAT_ORIGINAL) {
    var d = getDataItemValue(i[0]);
    u = isArray$1(d) && d.length || 1;
  } else
    n === SOURCE_FORMAT_TYPED_ARRAY && process.env.NODE_ENV !== "production" && assert(!!a, "dimensions must be given if data is TypedArray.");
  return {
    startIndex: c,
    dimensionsDefine: normalizeDimensionsOption(a),
    dimensionsDetectedCount: u
  };
}
function objectRowsCollectDimensions(i) {
  for (var n = 0, r; n < i.length && !(r = i[n++]); )
    ;
  if (r) {
    var o = [];
    return each$4(r, function(a, u) {
      o.push(u);
    }), o;
  }
}
function normalizeDimensionsOption(i) {
  if (i) {
    var n = createHashMap();
    return map$1(i, function(r, o) {
      r = isObject$3(r) ? r : {
        name: r
      };
      var a = {
        name: r.name,
        displayName: r.displayName,
        type: r.type
      };
      if (a.name == null)
        return a;
      a.name += "", a.displayName == null && (a.displayName = a.name);
      var u = n.get(a.name);
      return u ? a.name += "-" + u.count++ : n.set(a.name, {
        count: 1
      }), a;
    });
  }
}
function arrayRowsTravelFirst(i, n, r, o) {
  if (n === SERIES_LAYOUT_BY_ROW)
    for (var a = 0; a < r.length && a < o; a++)
      i(r[a] ? r[a][0] : null, a);
  else
    for (var u = r[0] || [], a = 0; a < u.length && a < o; a++)
      i(u[a], a);
}
function shouldRetrieveDataByName(i) {
  var n = i.sourceFormat;
  return n === SOURCE_FORMAT_OBJECT_ROWS || n === SOURCE_FORMAT_KEYED_COLUMNS;
}
var _a$1, _b, _c, providerMethods, mountMethods, DefaultDataProvider = (
  /** @class */
  function() {
    function i(n, r) {
      var o = isSourceInstance(n) ? n : createSourceFromSeriesDataOption(n);
      this._source = o;
      var a = this._data = o.data;
      if (o.sourceFormat === SOURCE_FORMAT_TYPED_ARRAY) {
        if (process.env.NODE_ENV !== "production" && r == null)
          throw new Error("Typed array data must specify dimension size");
        this._offset = 0, this._dimSize = r, this._data = a;
      }
      mountMethods(this, a, o);
    }
    return i.prototype.getSource = function() {
      return this._source;
    }, i.prototype.count = function() {
      return 0;
    }, i.prototype.getItem = function(n, r) {
    }, i.prototype.appendData = function(n) {
    }, i.prototype.clean = function() {
    }, i.protoInitialize = function() {
      var n = i.prototype;
      n.pure = !1, n.persistent = !0;
    }(), i.internalField = function() {
      var n;
      mountMethods = function(c, f, d) {
        var p = d.sourceFormat, y = d.seriesLayoutBy, v = d.startIndex, g = d.dimensionsDefine, _ = providerMethods[getMethodMapKey(p, y)];
        if (process.env.NODE_ENV !== "production" && assert(_, "Invalide sourceFormat: " + p), extend(c, _), p === SOURCE_FORMAT_TYPED_ARRAY)
          c.getItem = r, c.count = a, c.fillStorage = o;
        else {
          var b = getRawSourceItemGetter(p, y);
          c.getItem = bind$1(b, null, f, v, g);
          var A = getRawSourceDataCounter(p, y);
          c.count = bind$1(A, null, f, v, g);
        }
      };
      var r = function(c, f) {
        c = c - this._offset, f = f || [];
        for (var d = this._data, p = this._dimSize, y = p * c, v = 0; v < p; v++)
          f[v] = d[y + v];
        return f;
      }, o = function(c, f, d, p) {
        for (var y = this._data, v = this._dimSize, g = 0; g < v; g++) {
          for (var _ = p[g], b = _[0] == null ? 1 / 0 : _[0], A = _[1] == null ? -1 / 0 : _[1], w = f - c, S = d[g], T = 0; T < w; T++) {
            var x = y[T * v + g];
            S[c + T] = x, x < b && (b = x), x > A && (A = x);
          }
          _[0] = b, _[1] = A;
        }
      }, a = function() {
        return this._data ? this._data.length / this._dimSize : 0;
      };
      providerMethods = (n = {}, n[SOURCE_FORMAT_ARRAY_ROWS + "_" + SERIES_LAYOUT_BY_COLUMN] = {
        pure: !0,
        appendData: u
      }, n[SOURCE_FORMAT_ARRAY_ROWS + "_" + SERIES_LAYOUT_BY_ROW] = {
        pure: !0,
        appendData: function() {
          throw new Error('Do not support appendData when set seriesLayoutBy: "row".');
        }
      }, n[SOURCE_FORMAT_OBJECT_ROWS] = {
        pure: !0,
        appendData: u
      }, n[SOURCE_FORMAT_KEYED_COLUMNS] = {
        pure: !0,
        appendData: function(c) {
          var f = this._data;
          each$4(c, function(d, p) {
            for (var y = f[p] || (f[p] = []), v = 0; v < (d || []).length; v++)
              y.push(d[v]);
          });
        }
      }, n[SOURCE_FORMAT_ORIGINAL] = {
        appendData: u
      }, n[SOURCE_FORMAT_TYPED_ARRAY] = {
        persistent: !1,
        pure: !0,
        appendData: function(c) {
          process.env.NODE_ENV !== "production" && assert(isTypedArray(c), "Added data must be TypedArray if data in initialization is TypedArray"), this._data = c;
        },
        // Clean self if data is already used.
        clean: function() {
          this._offset += this.count(), this._data = null;
        }
      }, n);
      function u(c) {
        for (var f = 0; f < c.length; f++)
          this._data.push(c[f]);
      }
    }(), i;
  }()
), getItemSimply = function(i, n, r, o) {
  return i[o];
}, rawSourceItemGetterMap = (_a$1 = {}, _a$1[SOURCE_FORMAT_ARRAY_ROWS + "_" + SERIES_LAYOUT_BY_COLUMN] = function(i, n, r, o) {
  return i[o + n];
}, _a$1[SOURCE_FORMAT_ARRAY_ROWS + "_" + SERIES_LAYOUT_BY_ROW] = function(i, n, r, o, a) {
  o += n;
  for (var u = a || [], c = i, f = 0; f < c.length; f++) {
    var d = c[f];
    u[f] = d ? d[o] : null;
  }
  return u;
}, _a$1[SOURCE_FORMAT_OBJECT_ROWS] = getItemSimply, _a$1[SOURCE_FORMAT_KEYED_COLUMNS] = function(i, n, r, o, a) {
  for (var u = a || [], c = 0; c < r.length; c++) {
    var f = r[c].name;
    if (process.env.NODE_ENV !== "production" && f == null)
      throw new Error();
    var d = i[f];
    u[c] = d ? d[o] : null;
  }
  return u;
}, _a$1[SOURCE_FORMAT_ORIGINAL] = getItemSimply, _a$1);
function getRawSourceItemGetter(i, n) {
  var r = rawSourceItemGetterMap[getMethodMapKey(i, n)];
  return process.env.NODE_ENV !== "production" && assert(r, 'Do not support get item on "' + i + '", "' + n + '".'), r;
}
var countSimply = function(i, n, r) {
  return i.length;
}, rawSourceDataCounterMap = (_b = {}, _b[SOURCE_FORMAT_ARRAY_ROWS + "_" + SERIES_LAYOUT_BY_COLUMN] = function(i, n, r) {
  return Math.max(0, i.length - n);
}, _b[SOURCE_FORMAT_ARRAY_ROWS + "_" + SERIES_LAYOUT_BY_ROW] = function(i, n, r) {
  var o = i[0];
  return o ? Math.max(0, o.length - n) : 0;
}, _b[SOURCE_FORMAT_OBJECT_ROWS] = countSimply, _b[SOURCE_FORMAT_KEYED_COLUMNS] = function(i, n, r) {
  var o = r[0].name;
  if (process.env.NODE_ENV !== "production" && o == null)
    throw new Error();
  var a = i[o];
  return a ? a.length : 0;
}, _b[SOURCE_FORMAT_ORIGINAL] = countSimply, _b);
function getRawSourceDataCounter(i, n) {
  var r = rawSourceDataCounterMap[getMethodMapKey(i, n)];
  return process.env.NODE_ENV !== "production" && assert(r, 'Do not support count on "' + i + '", "' + n + '".'), r;
}
var getRawValueSimply = function(i, n, r) {
  return i[n];
}, rawSourceValueGetterMap = (_c = {}, _c[SOURCE_FORMAT_ARRAY_ROWS] = getRawValueSimply, _c[SOURCE_FORMAT_OBJECT_ROWS] = function(i, n, r) {
  return i[r];
}, _c[SOURCE_FORMAT_KEYED_COLUMNS] = getRawValueSimply, _c[SOURCE_FORMAT_ORIGINAL] = function(i, n, r) {
  var o = getDataItemValue(i);
  return o instanceof Array ? o[n] : o;
}, _c[SOURCE_FORMAT_TYPED_ARRAY] = getRawValueSimply, _c);
function getRawSourceValueGetter(i) {
  var n = rawSourceValueGetterMap[i];
  return process.env.NODE_ENV !== "production" && assert(n, 'Do not support get value on "' + i + '".'), n;
}
function getMethodMapKey(i, n) {
  return i === SOURCE_FORMAT_ARRAY_ROWS ? i + "_" + n : i;
}
function retrieveRawValue(i, n, r) {
  if (i) {
    var o = i.getRawDataItem(n);
    if (o != null) {
      var a = i.getStore(), u = a.getSource().sourceFormat;
      if (r != null) {
        var c = i.getDimensionIndex(r), f = a.getDimensionProperty(c);
        return getRawSourceValueGetter(u)(o, c, f);
      } else {
        var d = o;
        return u === SOURCE_FORMAT_ORIGINAL && (d = getDataItemValue(o)), d;
      }
    }
  }
}
var DIMENSION_LABEL_REG = /\{@(.+?)\}/g, DataFormatMixin = (
  /** @class */
  function() {
    function i() {
    }
    return i.prototype.getDataParams = function(n, r) {
      var o = this.getData(r), a = this.getRawValue(n, r), u = o.getRawIndex(n), c = o.getName(n), f = o.getRawDataItem(n), d = o.getItemVisual(n, "style"), p = d && d[o.getItemVisual(n, "drawType") || "fill"], y = d && d.stroke, v = this.mainType, g = v === "series", _ = o.userOutput && o.userOutput.get();
      return {
        componentType: v,
        componentSubType: this.subType,
        componentIndex: this.componentIndex,
        seriesType: g ? this.subType : null,
        seriesIndex: this.seriesIndex,
        seriesId: g ? this.id : null,
        seriesName: g ? this.name : null,
        name: c,
        dataIndex: u,
        data: f,
        dataType: r,
        value: a,
        color: p,
        borderColor: y,
        dimensionNames: _ ? _.fullDimensions : null,
        encode: _ ? _.encode : null,
        // Param name list for mapping `a`, `b`, `c`, `d`, `e`
        $vars: ["seriesName", "name", "value"]
      };
    }, i.prototype.getFormattedLabel = function(n, r, o, a, u, c) {
      r = r || "normal";
      var f = this.getData(o), d = this.getDataParams(n, o);
      if (c && (d.value = c.interpolatedValue), a != null && isArray$1(d.value) && (d.value = d.value[a]), !u) {
        var p = f.getItemModel(n);
        u = p.get(r === "normal" ? ["label", "formatter"] : [r, "label", "formatter"]);
      }
      if (isFunction$1(u))
        return d.status = r, d.dimensionIndex = a, u(d);
      if (isString$2(u)) {
        var y = formatTpl(u, d);
        return y.replace(DIMENSION_LABEL_REG, function(v, g) {
          var _ = g.length, b = g;
          b.charAt(0) === "[" && b.charAt(_ - 1) === "]" && (b = +b.slice(1, _ - 1), process.env.NODE_ENV !== "production" && isNaN(b) && error("Invalide label formatter: @" + g + ", only support @[0], @[1], @[2], ..."));
          var A = retrieveRawValue(f, n, b);
          if (c && isArray$1(c.interpolatedValue)) {
            var w = f.getDimensionIndex(b);
            w >= 0 && (A = c.interpolatedValue[w]);
          }
          return A != null ? A + "" : "";
        });
      }
    }, i.prototype.getRawValue = function(n, r) {
      return retrieveRawValue(this.getData(r), n);
    }, i.prototype.formatTooltip = function(n, r, o) {
    }, i;
  }()
);
function normalizeTooltipFormatResult(i) {
  var n, r;
  return isObject$3(i) ? i.type ? r = i : process.env.NODE_ENV !== "production" && console.warn("The return type of `formatTooltip` is not supported: " + makePrintable(i)) : n = i, {
    text: n,
    // markers: markers || markersExisting,
    frag: r
  };
}
function createTask(i) {
  return new Task(i);
}
var Task = (
  /** @class */
  function() {
    function i(n) {
      n = n || {}, this._reset = n.reset, this._plan = n.plan, this._count = n.count, this._onDirty = n.onDirty, this._dirty = !0;
    }
    return i.prototype.perform = function(n) {
      var r = this._upstream, o = n && n.skip;
      if (this._dirty && r) {
        var a = this.context;
        a.data = a.outputData = r.context.outputData;
      }
      this.__pipeline && (this.__pipeline.currentTask = this);
      var u;
      this._plan && !o && (u = this._plan(this.context));
      var c = y(this._modBy), f = this._modDataCount || 0, d = y(n && n.modBy), p = n && n.modDataCount || 0;
      (c !== d || f !== p) && (u = "reset");
      function y(T) {
        return !(T >= 1) && (T = 1), T;
      }
      var v;
      (this._dirty || u === "reset") && (this._dirty = !1, v = this._doReset(o)), this._modBy = d, this._modDataCount = p;
      var g = n && n.step;
      if (r ? (process.env.NODE_ENV !== "production" && assert(r._outputDueEnd != null), this._dueEnd = r._outputDueEnd) : (process.env.NODE_ENV !== "production" && assert(!this._progress || this._count), this._dueEnd = this._count ? this._count(this.context) : 1 / 0), this._progress) {
        var _ = this._dueIndex, b = Math.min(g != null ? this._dueIndex + g : 1 / 0, this._dueEnd);
        if (!o && (v || _ < b)) {
          var A = this._progress;
          if (isArray$1(A))
            for (var w = 0; w < A.length; w++)
              this._doProgress(A[w], _, b, d, p);
          else
            this._doProgress(A, _, b, d, p);
        }
        this._dueIndex = b;
        var S = this._settedOutputEnd != null ? this._settedOutputEnd : b;
        process.env.NODE_ENV !== "production" && assert(S >= this._outputDueEnd), this._outputDueEnd = S;
      } else
        this._dueIndex = this._outputDueEnd = this._settedOutputEnd != null ? this._settedOutputEnd : this._dueEnd;
      return this.unfinished();
    }, i.prototype.dirty = function() {
      this._dirty = !0, this._onDirty && this._onDirty(this.context);
    }, i.prototype._doProgress = function(n, r, o, a, u) {
      iterator.reset(r, o, a, u), this._callingProgress = n, this._callingProgress({
        start: r,
        end: o,
        count: o - r,
        next: iterator.next
      }, this.context);
    }, i.prototype._doReset = function(n) {
      this._dueIndex = this._outputDueEnd = this._dueEnd = 0, this._settedOutputEnd = null;
      var r, o;
      !n && this._reset && (r = this._reset(this.context), r && r.progress && (o = r.forceFirstProgress, r = r.progress), isArray$1(r) && !r.length && (r = null)), this._progress = r, this._modBy = this._modDataCount = null;
      var a = this._downstream;
      return a && a.dirty(), o;
    }, i.prototype.unfinished = function() {
      return this._progress && this._dueIndex < this._dueEnd;
    }, i.prototype.pipe = function(n) {
      process.env.NODE_ENV !== "production" && assert(n && !n._disposed && n !== this), (this._downstream !== n || this._dirty) && (this._downstream = n, n._upstream = this, n.dirty());
    }, i.prototype.dispose = function() {
      this._disposed || (this._upstream && (this._upstream._downstream = null), this._downstream && (this._downstream._upstream = null), this._dirty = !1, this._disposed = !0);
    }, i.prototype.getUpstream = function() {
      return this._upstream;
    }, i.prototype.getDownstream = function() {
      return this._downstream;
    }, i.prototype.setOutputEnd = function(n) {
      this._outputDueEnd = this._settedOutputEnd = n;
    }, i;
  }()
), iterator = function() {
  var i, n, r, o, a, u = {
    reset: function(d, p, y, v) {
      n = d, i = p, r = y, o = v, a = Math.ceil(o / r), u.next = r > 1 && o > 0 ? f : c;
    }
  };
  return u;
  function c() {
    return n < i ? n++ : null;
  }
  function f() {
    var d = n % a * r + Math.ceil(n / a), p = n >= i ? null : d < o ? d : n;
    return n++, p;
  }
}();
function parseDataValue(i, n) {
  var r = n && n.type;
  return r === "ordinal" ? i : (r === "time" && !isNumber$1(i) && i != null && i !== "-" && (i = +parseDate(i)), i == null || i === "" ? NaN : +i);
}
createHashMap({
  number: function(i) {
    return parseFloat(i);
  },
  time: function(i) {
    return +parseDate(i);
  },
  trim: function(i) {
    return isString$2(i) ? trim(i) : i;
  }
});
var SortOrderComparator = (
  /** @class */
  function() {
    function i(n, r) {
      var o = n === "desc";
      this._resultLT = o ? 1 : -1, r == null && (r = o ? "min" : "max"), this._incomparable = r === "min" ? -1 / 0 : 1 / 0;
    }
    return i.prototype.evaluate = function(n, r) {
      var o = isNumber$1(n) ? n : numericToNumber(n), a = isNumber$1(r) ? r : numericToNumber(r), u = isNaN(o), c = isNaN(a);
      if (u && (o = this._incomparable), c && (a = this._incomparable), u && c) {
        var f = isString$2(n), d = isString$2(r);
        f && (o = d ? n : 0), d && (a = f ? r : 0);
      }
      return o < a ? this._resultLT : o > a ? -this._resultLT : 0;
    }, i;
  }()
), ExternalSource = (
  /** @class */
  function() {
    function i() {
    }
    return i.prototype.getRawData = function() {
      throw new Error("not supported");
    }, i.prototype.getRawDataItem = function(n) {
      throw new Error("not supported");
    }, i.prototype.cloneRawData = function() {
    }, i.prototype.getDimensionInfo = function(n) {
    }, i.prototype.cloneAllDimensionInfo = function() {
    }, i.prototype.count = function() {
    }, i.prototype.retrieveValue = function(n, r) {
    }, i.prototype.retrieveValueFromItem = function(n, r) {
    }, i.prototype.convertValue = function(n, r) {
      return parseDataValue(n, r);
    }, i;
  }()
);
function createExternalSource(i, n) {
  var r = new ExternalSource(), o = i.data, a = r.sourceFormat = i.sourceFormat, u = i.startIndex, c = "";
  i.seriesLayoutBy !== SERIES_LAYOUT_BY_COLUMN && (process.env.NODE_ENV !== "production" && (c = '`seriesLayoutBy` of upstream dataset can only be "column" in data transform.'), throwError$1(c));
  var f = [], d = {}, p = i.dimensionsDefine;
  if (p)
    each$4(p, function(A, w) {
      var S = A.name, T = {
        index: w,
        name: S,
        displayName: A.displayName
      };
      if (f.push(T), S != null) {
        var x = "";
        hasOwn$1(d, S) && (process.env.NODE_ENV !== "production" && (x = 'dimension name "' + S + '" duplicated.'), throwError$1(x)), d[S] = T;
      }
    });
  else
    for (var y = 0; y < i.dimensionsDetectedCount; y++)
      f.push({
        index: y
      });
  var v = getRawSourceItemGetter(a, SERIES_LAYOUT_BY_COLUMN);
  n.__isBuiltIn && (r.getRawDataItem = function(A) {
    return v(o, u, f, A);
  }, r.getRawData = bind$1(getRawData, null, i)), r.cloneRawData = bind$1(cloneRawData, null, i);
  var g = getRawSourceDataCounter(a, SERIES_LAYOUT_BY_COLUMN);
  r.count = bind$1(g, null, o, u, f);
  var _ = getRawSourceValueGetter(a);
  r.retrieveValue = function(A, w) {
    var S = v(o, u, f, A);
    return b(S, w);
  };
  var b = r.retrieveValueFromItem = function(A, w) {
    if (A != null) {
      var S = f[w];
      if (S)
        return _(A, w, S.name);
    }
  };
  return r.getDimensionInfo = bind$1(getDimensionInfo, null, f, d), r.cloneAllDimensionInfo = bind$1(cloneAllDimensionInfo, null, f), r;
}
function getRawData(i) {
  var n = i.sourceFormat;
  if (!isSupportedSourceFormat(n)) {
    var r = "";
    process.env.NODE_ENV !== "production" && (r = "`getRawData` is not supported in source format " + n), throwError$1(r);
  }
  return i.data;
}
function cloneRawData(i) {
  var n = i.sourceFormat, r = i.data;
  if (!isSupportedSourceFormat(n)) {
    var o = "";
    process.env.NODE_ENV !== "production" && (o = "`cloneRawData` is not supported in source format " + n), throwError$1(o);
  }
  if (n === SOURCE_FORMAT_ARRAY_ROWS) {
    for (var a = [], u = 0, c = r.length; u < c; u++)
      a.push(r[u].slice());
    return a;
  } else if (n === SOURCE_FORMAT_OBJECT_ROWS) {
    for (var a = [], u = 0, c = r.length; u < c; u++)
      a.push(extend({}, r[u]));
    return a;
  }
}
function getDimensionInfo(i, n, r) {
  if (r != null) {
    if (isNumber$1(r) || !isNaN(r) && !hasOwn$1(n, r))
      return i[r];
    if (hasOwn$1(n, r))
      return n[r];
  }
}
function cloneAllDimensionInfo(i) {
  return clone$2(i);
}
var externalTransformMap = createHashMap();
function registerExternalTransform(i) {
  i = clone$2(i);
  var n = i.type, r = "";
  n || (process.env.NODE_ENV !== "production" && (r = "Must have a `type` when `registerTransform`."), throwError$1(r));
  var o = n.split(":");
  o.length !== 2 && (process.env.NODE_ENV !== "production" && (r = 'Name must include namespace like "ns:regression".'), throwError$1(r));
  var a = !1;
  o[0] === "echarts" && (n = o[1], a = !0), i.__isBuiltIn = a, externalTransformMap.set(n, i);
}
function applyDataTransform(i, n, r) {
  var o = normalizeToArray(i), a = o.length, u = "";
  a || (process.env.NODE_ENV !== "production" && (u = "If `transform` declared, it should at least contain one transform."), throwError$1(u));
  for (var c = 0, f = a; c < f; c++) {
    var d = o[c];
    n = applySingleDataTransform(d, n, r, a === 1 ? null : c), c !== f - 1 && (n.length = Math.max(n.length, 1));
  }
  return n;
}
function applySingleDataTransform(i, n, r, o) {
  var a = "";
  n.length || (process.env.NODE_ENV !== "production" && (a = "Must have at least one upstream dataset."), throwError$1(a)), isObject$3(i) || (process.env.NODE_ENV !== "production" && (a = "transform declaration must be an object rather than " + typeof i + "."), throwError$1(a));
  var u = i.type, c = externalTransformMap.get(u);
  c || (process.env.NODE_ENV !== "production" && (a = 'Can not find transform on type "' + u + '".'), throwError$1(a));
  var f = map$1(n, function(y) {
    return createExternalSource(y, c);
  }), d = normalizeToArray(c.transform({
    upstream: f[0],
    upstreamList: f,
    config: clone$2(i.config)
  }));
  if (process.env.NODE_ENV !== "production" && i.print) {
    var p = map$1(d, function(y) {
      var v = o != null ? " === pipe index: " + o : "";
      return ["=== dataset index: " + r.datasetIndex + v + " ===", "- transform result data:", makePrintable(y.data), "- transform result dimensions:", makePrintable(y.dimensions)].join(`
`);
    }).join(`
`);
    log(p);
  }
  return map$1(d, function(y, v) {
    var g = "";
    isObject$3(y) || (process.env.NODE_ENV !== "production" && (g = "A transform should not return some empty results."), throwError$1(g)), y.data || (process.env.NODE_ENV !== "production" && (g = "Transform result data should be not be null or undefined"), throwError$1(g));
    var _ = detectSourceFormat(y.data);
    isSupportedSourceFormat(_) || (process.env.NODE_ENV !== "production" && (g = "Transform result data should be array rows or object rows."), throwError$1(g));
    var b, A = n[0];
    if (A && v === 0 && !y.dimensions) {
      var w = A.startIndex;
      w && (y.data = A.data.slice(0, w).concat(y.data)), b = {
        seriesLayoutBy: SERIES_LAYOUT_BY_COLUMN,
        sourceHeader: w,
        dimensions: A.metaRawOption.dimensions
      };
    } else
      b = {
        seriesLayoutBy: SERIES_LAYOUT_BY_COLUMN,
        sourceHeader: 0,
        dimensions: y.dimensions
      };
    return createSource(y.data, b, null);
  });
}
function isSupportedSourceFormat(i) {
  return i === SOURCE_FORMAT_ARRAY_ROWS || i === SOURCE_FORMAT_OBJECT_ROWS;
}
var UNDEFINED = "undefined", CtorUint32Array = typeof Uint32Array === UNDEFINED ? Array : Uint32Array, CtorUint16Array = typeof Uint16Array === UNDEFINED ? Array : Uint16Array, CtorInt32Array$1 = typeof Int32Array === UNDEFINED ? Array : Int32Array, CtorFloat64Array = typeof Float64Array === UNDEFINED ? Array : Float64Array, dataCtors = {
  float: CtorFloat64Array,
  int: CtorInt32Array$1,
  // Ordinal data type can be string or int
  ordinal: Array,
  number: Array,
  time: CtorFloat64Array
}, defaultDimValueGetters;
function getIndicesCtor(i) {
  return i > 65535 ? CtorUint32Array : CtorUint16Array;
}
function getInitialExtent() {
  return [1 / 0, -1 / 0];
}
function cloneChunk(i) {
  var n = i.constructor;
  return n === Array ? i.slice() : new n(i);
}
function prepareStore(i, n, r, o, a) {
  var u = dataCtors[r || "float"];
  if (a) {
    var c = i[n], f = c && c.length;
    if (f !== o) {
      for (var d = new u(o), p = 0; p < f; p++)
        d[p] = c[p];
      i[n] = d;
    }
  } else
    i[n] = new u(o);
}
var DataStore = (
  /** @class */
  function() {
    function i() {
      this._chunks = [], this._rawExtent = [], this._extent = [], this._count = 0, this._rawCount = 0, this._calcDimNameToIdx = createHashMap();
    }
    return i.prototype.initData = function(n, r, o) {
      process.env.NODE_ENV !== "production" && assert(isFunction$1(n.getItem) && isFunction$1(n.count), "Invalid data provider."), this._provider = n, this._chunks = [], this._indices = null, this.getRawIndex = this._getRawIdxIdentity;
      var a = n.getSource(), u = this.defaultDimValueGetter = defaultDimValueGetters[a.sourceFormat];
      this._dimValueGetter = o || u, this._rawExtent = [];
      var c = shouldRetrieveDataByName(a);
      this._dimensions = map$1(r, function(f) {
        return process.env.NODE_ENV !== "production" && c && assert(f.property != null), {
          // Only pick these two props. Not leak other properties like orderMeta.
          type: f.type,
          property: f.property
        };
      }), this._initDataFromProvider(0, n.count());
    }, i.prototype.getProvider = function() {
      return this._provider;
    }, i.prototype.getSource = function() {
      return this._provider.getSource();
    }, i.prototype.ensureCalculationDimension = function(n, r) {
      var o = this._calcDimNameToIdx, a = this._dimensions, u = o.get(n);
      if (u != null) {
        if (a[u].type === r)
          return u;
      } else
        u = a.length;
      return a[u] = {
        type: r
      }, o.set(n, u), this._chunks[u] = new dataCtors[r || "float"](this._rawCount), this._rawExtent[u] = getInitialExtent(), u;
    }, i.prototype.collectOrdinalMeta = function(n, r) {
      var o = this._chunks[n], a = this._dimensions[n], u = this._rawExtent, c = a.ordinalOffset || 0, f = o.length;
      c === 0 && (u[n] = getInitialExtent());
      for (var d = u[n], p = c; p < f; p++) {
        var y = o[p] = r.parseAndCollect(o[p]);
        isNaN(y) || (d[0] = Math.min(y, d[0]), d[1] = Math.max(y, d[1]));
      }
      a.ordinalMeta = r, a.ordinalOffset = f, a.type = "ordinal";
    }, i.prototype.getOrdinalMeta = function(n) {
      var r = this._dimensions[n], o = r.ordinalMeta;
      return o;
    }, i.prototype.getDimensionProperty = function(n) {
      var r = this._dimensions[n];
      return r && r.property;
    }, i.prototype.appendData = function(n) {
      process.env.NODE_ENV !== "production" && assert(!this._indices, "appendData can only be called on raw data.");
      var r = this._provider, o = this.count();
      r.appendData(n);
      var a = r.count();
      return r.persistent || (a += o), o < a && this._initDataFromProvider(o, a, !0), [o, a];
    }, i.prototype.appendValues = function(n, r) {
      for (var o = this._chunks, a = this._dimensions, u = a.length, c = this._rawExtent, f = this.count(), d = f + Math.max(n.length, r || 0), p = 0; p < u; p++) {
        var y = a[p];
        prepareStore(o, p, y.type, d, !0);
      }
      for (var v = [], g = f; g < d; g++)
        for (var _ = g - f, b = 0; b < u; b++) {
          var y = a[b], A = defaultDimValueGetters.arrayRows.call(this, n[_] || v, y.property, _, b);
          o[b][g] = A;
          var w = c[b];
          A < w[0] && (w[0] = A), A > w[1] && (w[1] = A);
        }
      return this._rawCount = this._count = d, {
        start: f,
        end: d
      };
    }, i.prototype._initDataFromProvider = function(n, r, o) {
      for (var a = this._provider, u = this._chunks, c = this._dimensions, f = c.length, d = this._rawExtent, p = map$1(c, function(T) {
        return T.property;
      }), y = 0; y < f; y++) {
        var v = c[y];
        d[y] || (d[y] = getInitialExtent()), prepareStore(u, y, v.type, r, o);
      }
      if (a.fillStorage)
        a.fillStorage(n, r, u, d);
      else
        for (var g = [], _ = n; _ < r; _++) {
          g = a.getItem(_, g);
          for (var b = 0; b < f; b++) {
            var A = u[b], w = this._dimValueGetter(g, p[b], _, b);
            A[_] = w;
            var S = d[b];
            w < S[0] && (S[0] = w), w > S[1] && (S[1] = w);
          }
        }
      !a.persistent && a.clean && a.clean(), this._rawCount = this._count = r, this._extent = [];
    }, i.prototype.count = function() {
      return this._count;
    }, i.prototype.get = function(n, r) {
      if (!(r >= 0 && r < this._count))
        return NaN;
      var o = this._chunks[n];
      return o ? o[this.getRawIndex(r)] : NaN;
    }, i.prototype.getValues = function(n, r) {
      var o = [], a = [];
      if (r == null) {
        r = n, n = [];
        for (var u = 0; u < this._dimensions.length; u++)
          a.push(u);
      } else
        a = n;
      for (var u = 0, c = a.length; u < c; u++)
        o.push(this.get(a[u], r));
      return o;
    }, i.prototype.getByRawIndex = function(n, r) {
      if (!(r >= 0 && r < this._rawCount))
        return NaN;
      var o = this._chunks[n];
      return o ? o[r] : NaN;
    }, i.prototype.getSum = function(n) {
      var r = this._chunks[n], o = 0;
      if (r)
        for (var a = 0, u = this.count(); a < u; a++) {
          var c = this.get(n, a);
          isNaN(c) || (o += c);
        }
      return o;
    }, i.prototype.getMedian = function(n) {
      var r = [];
      this.each([n], function(u) {
        isNaN(u) || r.push(u);
      });
      var o = r.sort(function(u, c) {
        return u - c;
      }), a = this.count();
      return a === 0 ? 0 : a % 2 === 1 ? o[(a - 1) / 2] : (o[a / 2] + o[a / 2 - 1]) / 2;
    }, i.prototype.indexOfRawIndex = function(n) {
      if (n >= this._rawCount || n < 0)
        return -1;
      if (!this._indices)
        return n;
      var r = this._indices, o = r[n];
      if (o != null && o < this._count && o === n)
        return n;
      for (var a = 0, u = this._count - 1; a <= u; ) {
        var c = (a + u) / 2 | 0;
        if (r[c] < n)
          a = c + 1;
        else if (r[c] > n)
          u = c - 1;
        else
          return c;
      }
      return -1;
    }, i.prototype.indicesOfNearest = function(n, r, o) {
      var a = this._chunks, u = a[n], c = [];
      if (!u)
        return c;
      o == null && (o = 1 / 0);
      for (var f = 1 / 0, d = -1, p = 0, y = 0, v = this.count(); y < v; y++) {
        var g = this.getRawIndex(y), _ = r - u[g], b = Math.abs(_);
        b <= o && ((b < f || b === f && _ >= 0 && d < 0) && (f = b, d = _, p = 0), _ === d && (c[p++] = y));
      }
      return c.length = p, c;
    }, i.prototype.getIndices = function() {
      var n, r = this._indices;
      if (r) {
        var o = r.constructor, a = this._count;
        if (o === Array) {
          n = new o(a);
          for (var u = 0; u < a; u++)
            n[u] = r[u];
        } else
          n = new o(r.buffer, 0, a);
      } else {
        var o = getIndicesCtor(this._rawCount);
        n = new o(this.count());
        for (var u = 0; u < n.length; u++)
          n[u] = u;
      }
      return n;
    }, i.prototype.filter = function(n, r) {
      if (!this._count)
        return this;
      for (var o = this.clone(), a = o.count(), u = getIndicesCtor(o._rawCount), c = new u(a), f = [], d = n.length, p = 0, y = n[0], v = o._chunks, g = 0; g < a; g++) {
        var _ = void 0, b = o.getRawIndex(g);
        if (d === 0)
          _ = r(g);
        else if (d === 1) {
          var A = v[y][b];
          _ = r(A, g);
        } else {
          for (var w = 0; w < d; w++)
            f[w] = v[n[w]][b];
          f[w] = g, _ = r.apply(null, f);
        }
        _ && (c[p++] = b);
      }
      return p < a && (o._indices = c), o._count = p, o._extent = [], o._updateGetRawIdx(), o;
    }, i.prototype.selectRange = function(n) {
      var r = this.clone(), o = r._count;
      if (!o)
        return this;
      var a = keys(n), u = a.length;
      if (!u)
        return this;
      var c = r.count(), f = getIndicesCtor(r._rawCount), d = new f(c), p = 0, y = a[0], v = n[y][0], g = n[y][1], _ = r._chunks, b = !1;
      if (!r._indices) {
        var A = 0;
        if (u === 1) {
          for (var w = _[a[0]], S = 0; S < o; S++) {
            var T = w[S];
            (T >= v && T <= g || isNaN(T)) && (d[p++] = A), A++;
          }
          b = !0;
        } else if (u === 2) {
          for (var w = _[a[0]], x = _[a[1]], L = n[a[1]][0], k = n[a[1]][1], S = 0; S < o; S++) {
            var T = w[S], M = x[S];
            (T >= v && T <= g || isNaN(T)) && (M >= L && M <= k || isNaN(M)) && (d[p++] = A), A++;
          }
          b = !0;
        }
      }
      if (!b)
        if (u === 1)
          for (var S = 0; S < c; S++) {
            var O = r.getRawIndex(S), T = _[a[0]][O];
            (T >= v && T <= g || isNaN(T)) && (d[p++] = O);
          }
        else
          for (var S = 0; S < c; S++) {
            for (var ie = !0, O = r.getRawIndex(S), F = 0; F < u; F++) {
              var j = a[F], T = _[j][O];
              (T < n[j][0] || T > n[j][1]) && (ie = !1);
            }
            ie && (d[p++] = r.getRawIndex(S));
          }
      return p < c && (r._indices = d), r._count = p, r._extent = [], r._updateGetRawIdx(), r;
    }, i.prototype.map = function(n, r) {
      var o = this.clone(n);
      return this._updateDims(o, n, r), o;
    }, i.prototype.modify = function(n, r) {
      this._updateDims(this, n, r);
    }, i.prototype._updateDims = function(n, r, o) {
      for (var a = n._chunks, u = [], c = r.length, f = n.count(), d = [], p = n._rawExtent, y = 0; y < r.length; y++)
        p[r[y]] = getInitialExtent();
      for (var v = 0; v < f; v++) {
        for (var g = n.getRawIndex(v), _ = 0; _ < c; _++)
          d[_] = a[r[_]][g];
        d[c] = v;
        var b = o && o.apply(null, d);
        if (b != null) {
          typeof b != "object" && (u[0] = b, b = u);
          for (var y = 0; y < b.length; y++) {
            var A = r[y], w = b[y], S = p[A], T = a[A];
            T && (T[g] = w), w < S[0] && (S[0] = w), w > S[1] && (S[1] = w);
          }
        }
      }
    }, i.prototype.lttbDownSample = function(n, r) {
      var o = this.clone([n], !0), a = o._chunks, u = a[n], c = this.count(), f = 0, d = Math.floor(1 / r), p = this.getRawIndex(0), y, v, g, _ = new (getIndicesCtor(this._rawCount))(Math.min((Math.ceil(c / d) + 2) * 2, c));
      _[f++] = p;
      for (var b = 1; b < c - 1; b += d) {
        for (var A = Math.min(b + d, c - 1), w = Math.min(b + d * 2, c), S = (w + A) / 2, T = 0, x = A; x < w; x++) {
          var L = this.getRawIndex(x), k = u[L];
          isNaN(k) || (T += k);
        }
        T /= w - A;
        var M = b, O = Math.min(b + d, c), ie = b - 1, F = u[p];
        y = -1, g = M;
        for (var j = -1, D = 0, x = M; x < O; x++) {
          var L = this.getRawIndex(x), k = u[L];
          if (isNaN(k)) {
            D++, j < 0 && (j = L);
            continue;
          }
          v = Math.abs((ie - S) * (k - F) - (ie - x) * (T - F)), v > y && (y = v, g = L);
        }
        D > 0 && D < O - M && (_[f++] = Math.min(j, g), g = Math.max(j, g)), _[f++] = g, p = g;
      }
      return _[f++] = this.getRawIndex(c - 1), o._count = f, o._indices = _, o.getRawIndex = this._getRawIdx, o;
    }, i.prototype.downSample = function(n, r, o, a) {
      for (var u = this.clone([n], !0), c = u._chunks, f = [], d = Math.floor(1 / r), p = c[n], y = this.count(), v = u._rawExtent[n] = getInitialExtent(), g = new (getIndicesCtor(this._rawCount))(Math.ceil(y / d)), _ = 0, b = 0; b < y; b += d) {
        d > y - b && (d = y - b, f.length = d);
        for (var A = 0; A < d; A++) {
          var w = this.getRawIndex(b + A);
          f[A] = p[w];
        }
        var S = o(f), T = this.getRawIndex(Math.min(b + a(f, S) || 0, y - 1));
        p[T] = S, S < v[0] && (v[0] = S), S > v[1] && (v[1] = S), g[_++] = T;
      }
      return u._count = _, u._indices = g, u._updateGetRawIdx(), u;
    }, i.prototype.each = function(n, r) {
      if (this._count)
        for (var o = n.length, a = this._chunks, u = 0, c = this.count(); u < c; u++) {
          var f = this.getRawIndex(u);
          switch (o) {
            case 0:
              r(u);
              break;
            case 1:
              r(a[n[0]][f], u);
              break;
            case 2:
              r(a[n[0]][f], a[n[1]][f], u);
              break;
            default:
              for (var d = 0, p = []; d < o; d++)
                p[d] = a[n[d]][f];
              p[d] = u, r.apply(null, p);
          }
        }
    }, i.prototype.getDataExtent = function(n) {
      var r = this._chunks[n], o = getInitialExtent();
      if (!r)
        return o;
      var a = this.count(), u = !this._indices, c;
      if (u)
        return this._rawExtent[n].slice();
      if (c = this._extent[n], c)
        return c.slice();
      c = o;
      for (var f = c[0], d = c[1], p = 0; p < a; p++) {
        var y = this.getRawIndex(p), v = r[y];
        v < f && (f = v), v > d && (d = v);
      }
      return c = [f, d], this._extent[n] = c, c;
    }, i.prototype.getRawDataItem = function(n) {
      var r = this.getRawIndex(n);
      if (this._provider.persistent)
        return this._provider.getItem(r);
      for (var o = [], a = this._chunks, u = 0; u < a.length; u++)
        o.push(a[u][r]);
      return o;
    }, i.prototype.clone = function(n, r) {
      var o = new i(), a = this._chunks, u = n && reduce(n, function(f, d) {
        return f[d] = !0, f;
      }, {});
      if (u)
        for (var c = 0; c < a.length; c++)
          o._chunks[c] = u[c] ? cloneChunk(a[c]) : a[c];
      else
        o._chunks = a;
      return this._copyCommonProps(o), r || (o._indices = this._cloneIndices()), o._updateGetRawIdx(), o;
    }, i.prototype._copyCommonProps = function(n) {
      n._count = this._count, n._rawCount = this._rawCount, n._provider = this._provider, n._dimensions = this._dimensions, n._extent = clone$2(this._extent), n._rawExtent = clone$2(this._rawExtent);
    }, i.prototype._cloneIndices = function() {
      if (this._indices) {
        var n = this._indices.constructor, r = void 0;
        if (n === Array) {
          var o = this._indices.length;
          r = new n(o);
          for (var a = 0; a < o; a++)
            r[a] = this._indices[a];
        } else
          r = new n(this._indices);
        return r;
      }
      return null;
    }, i.prototype._getRawIdxIdentity = function(n) {
      return n;
    }, i.prototype._getRawIdx = function(n) {
      return n < this._count && n >= 0 ? this._indices[n] : -1;
    }, i.prototype._updateGetRawIdx = function() {
      this.getRawIndex = this._indices ? this._getRawIdx : this._getRawIdxIdentity;
    }, i.internalField = function() {
      function n(r, o, a, u) {
        return parseDataValue(r[u], this._dimensions[u]);
      }
      defaultDimValueGetters = {
        arrayRows: n,
        objectRows: function(r, o, a, u) {
          return parseDataValue(r[o], this._dimensions[u]);
        },
        keyedColumns: n,
        original: function(r, o, a, u) {
          var c = r && (r.value == null ? r : r.value);
          return parseDataValue(c instanceof Array ? c[u] : c, this._dimensions[u]);
        },
        typedArray: function(r, o, a, u) {
          return r[u];
        }
      };
    }(), i;
  }()
), SourceManager = (
  /** @class */
  function() {
    function i(n) {
      this._sourceList = [], this._storeList = [], this._upstreamSignList = [], this._versionSignBase = 0, this._dirty = !0, this._sourceHost = n;
    }
    return i.prototype.dirty = function() {
      this._setLocalSource([], []), this._storeList = [], this._dirty = !0;
    }, i.prototype._setLocalSource = function(n, r) {
      this._sourceList = n, this._upstreamSignList = r, this._versionSignBase++, this._versionSignBase > 9e10 && (this._versionSignBase = 0);
    }, i.prototype._getVersionSign = function() {
      return this._sourceHost.uid + "_" + this._versionSignBase;
    }, i.prototype.prepareSource = function() {
      this._isDirty() && (this._createSource(), this._dirty = !1);
    }, i.prototype._createSource = function() {
      this._setLocalSource([], []);
      var n = this._sourceHost, r = this._getUpstreamSourceManagers(), o = !!r.length, a, u;
      if (isSeries(n)) {
        var c = n, f = void 0, d = void 0, p = void 0;
        if (o) {
          var y = r[0];
          y.prepareSource(), p = y.getSource(), f = p.data, d = p.sourceFormat, u = [y._getVersionSign()];
        } else
          f = c.get("data", !0), d = isTypedArray(f) ? SOURCE_FORMAT_TYPED_ARRAY : SOURCE_FORMAT_ORIGINAL, u = [];
        var v = this._getSourceMetaRawOption() || {}, g = p && p.metaRawOption || {}, _ = retrieve2(v.seriesLayoutBy, g.seriesLayoutBy) || null, b = retrieve2(v.sourceHeader, g.sourceHeader), A = retrieve2(v.dimensions, g.dimensions), w = _ !== g.seriesLayoutBy || !!b != !!g.sourceHeader || A;
        a = w ? [createSource(f, {
          seriesLayoutBy: _,
          sourceHeader: b,
          dimensions: A
        }, d)] : [];
      } else {
        var S = n;
        if (o) {
          var T = this._applyTransform(r);
          a = T.sourceList, u = T.upstreamSignList;
        } else {
          var x = S.get("source", !0);
          a = [createSource(x, this._getSourceMetaRawOption(), null)], u = [];
        }
      }
      process.env.NODE_ENV !== "production" && assert(a && u), this._setLocalSource(a, u);
    }, i.prototype._applyTransform = function(n) {
      var r = this._sourceHost, o = r.get("transform", !0), a = r.get("fromTransformResult", !0);
      if (process.env.NODE_ENV !== "production" && assert(a != null || o != null), a != null) {
        var u = "";
        n.length !== 1 && (process.env.NODE_ENV !== "production" && (u = "When using `fromTransformResult`, there should be only one upstream dataset"), doThrow(u));
      }
      var c, f = [], d = [];
      return each$4(n, function(p) {
        p.prepareSource();
        var y = p.getSource(a || 0), v = "";
        a != null && !y && (process.env.NODE_ENV !== "production" && (v = "Can not retrieve result by `fromTransformResult`: " + a), doThrow(v)), f.push(y), d.push(p._getVersionSign());
      }), o ? c = applyDataTransform(o, f, {
        datasetIndex: r.componentIndex
      }) : a != null && (c = [cloneSourceShallow(f[0])]), {
        sourceList: c,
        upstreamSignList: d
      };
    }, i.prototype._isDirty = function() {
      if (this._dirty)
        return !0;
      for (var n = this._getUpstreamSourceManagers(), r = 0; r < n.length; r++) {
        var o = n[r];
        if (
          // Consider the case that there is ancestor diry, call it recursively.
          // The performance is probably not an issue because usually the chain is not long.
          o._isDirty() || this._upstreamSignList[r] !== o._getVersionSign()
        )
          return !0;
      }
    }, i.prototype.getSource = function(n) {
      n = n || 0;
      var r = this._sourceList[n];
      if (!r) {
        var o = this._getUpstreamSourceManagers();
        return o[0] && o[0].getSource(n);
      }
      return r;
    }, i.prototype.getSharedDataStore = function(n) {
      process.env.NODE_ENV !== "production" && assert(isSeries(this._sourceHost), "Can only call getDataStore on series source manager.");
      var r = n.makeStoreSchema();
      return this._innerGetDataStore(r.dimensions, n.source, r.hash);
    }, i.prototype._innerGetDataStore = function(n, r, o) {
      var a = 0, u = this._storeList, c = u[a];
      c || (c = u[a] = {});
      var f = c[o];
      if (!f) {
        var d = this._getUpstreamSourceManagers()[0];
        isSeries(this._sourceHost) && d ? f = d._innerGetDataStore(n, r, o) : (f = new DataStore(), f.initData(new DefaultDataProvider(r, n.length), n)), c[o] = f;
      }
      return f;
    }, i.prototype._getUpstreamSourceManagers = function() {
      var n = this._sourceHost;
      if (isSeries(n)) {
        var r = querySeriesUpstreamDatasetModel(n);
        return r ? [r.getSourceManager()] : [];
      } else
        return map$1(queryDatasetUpstreamDatasetModels(n), function(o) {
          return o.getSourceManager();
        });
    }, i.prototype._getSourceMetaRawOption = function() {
      var n = this._sourceHost, r, o, a;
      if (isSeries(n))
        r = n.get("seriesLayoutBy", !0), o = n.get("sourceHeader", !0), a = n.get("dimensions", !0);
      else if (!this._getUpstreamSourceManagers().length) {
        var u = n;
        r = u.get("seriesLayoutBy", !0), o = u.get("sourceHeader", !0), a = u.get("dimensions", !0);
      }
      return {
        seriesLayoutBy: r,
        sourceHeader: o,
        dimensions: a
      };
    }, i;
  }()
);
function isSeries(i) {
  return i.mainType === "series";
}
function doThrow(i) {
  throw new Error(i);
}
var TOOLTIP_LINE_HEIGHT_CSS = "line-height:1";
function getTooltipTextStyle(i, n) {
  var r = i.color || "#6e7079", o = i.fontSize || 12, a = i.fontWeight || "400", u = i.color || "#464646", c = i.fontSize || 14, f = i.fontWeight || "900";
  return n === "html" ? {
    // eslint-disable-next-line max-len
    nameStyle: "font-size:" + encodeHTML(o + "") + "px;color:" + encodeHTML(r) + ";font-weight:" + encodeHTML(a + ""),
    // eslint-disable-next-line max-len
    valueStyle: "font-size:" + encodeHTML(c + "") + "px;color:" + encodeHTML(u) + ";font-weight:" + encodeHTML(f + "")
  } : {
    nameStyle: {
      fontSize: o,
      fill: r,
      fontWeight: a
    },
    valueStyle: {
      fontSize: c,
      fill: u,
      fontWeight: f
    }
  };
}
var HTML_GAPS = [0, 10, 20, 30], RICH_TEXT_GAPS = ["", `
`, `

`, `


`];
function createTooltipMarkup(i, n) {
  return n.type = i, n;
}
function isSectionFragment(i) {
  return i.type === "section";
}
function getBuilder(i) {
  return isSectionFragment(i) ? buildSection : buildNameValue;
}
function getBlockGapLevel(i) {
  if (isSectionFragment(i)) {
    var n = 0, r = i.blocks.length, o = r > 1 || r > 0 && !i.noHeader;
    return each$4(i.blocks, function(a) {
      var u = getBlockGapLevel(a);
      u >= n && (n = u + +(o && // 0 always can not be readable gap level.
      (!u || isSectionFragment(a) && !a.noHeader)));
    }), n;
  }
  return 0;
}
function buildSection(i, n, r, o) {
  var a = n.noHeader, u = getGap(getBlockGapLevel(n)), c = [], f = n.blocks || [];
  assert(!f || isArray$1(f)), f = f || [];
  var d = i.orderMode;
  if (n.sortBlocks && d) {
    f = f.slice();
    var p = {
      valueAsc: "asc",
      valueDesc: "desc"
    };
    if (hasOwn$1(p, d)) {
      var y = new SortOrderComparator(p[d], null);
      f.sort(function(b, A) {
        return y.evaluate(b.sortParam, A.sortParam);
      });
    } else
      d === "seriesDesc" && f.reverse();
  }
  each$4(f, function(b, A) {
    var w = n.valueFormatter, S = getBuilder(b)(
      // Inherit valueFormatter
      w ? extend(extend({}, i), {
        valueFormatter: w
      }) : i,
      b,
      A > 0 ? u.html : 0,
      o
    );
    S != null && c.push(S);
  });
  var v = i.renderMode === "richText" ? c.join(u.richText) : wrapBlockHTML(c.join(""), a ? r : u.html);
  if (a)
    return v;
  var g = makeValueReadable(n.header, "ordinal", i.useUTC), _ = getTooltipTextStyle(o, i.renderMode).nameStyle;
  return i.renderMode === "richText" ? wrapInlineNameRichText(i, g, _) + u.richText + v : wrapBlockHTML('<div style="' + _ + ";" + TOOLTIP_LINE_HEIGHT_CSS + ';">' + encodeHTML(g) + "</div>" + v, r);
}
function buildNameValue(i, n, r, o) {
  var a = i.renderMode, u = n.noName, c = n.noValue, f = !n.markerType, d = n.name, p = i.useUTC, y = n.valueFormatter || i.valueFormatter || function(L) {
    return L = isArray$1(L) ? L : [L], map$1(L, function(k, M) {
      return makeValueReadable(k, isArray$1(_) ? _[M] : _, p);
    });
  };
  if (!(u && c)) {
    var v = f ? "" : i.markupStyleCreator.makeTooltipMarker(n.markerType, n.markerColor || "#333", a), g = u ? "" : makeValueReadable(d, "ordinal", p), _ = n.valueType, b = c ? [] : y(n.value), A = !f || !u, w = !f && u, S = getTooltipTextStyle(o, a), T = S.nameStyle, x = S.valueStyle;
    return a === "richText" ? (f ? "" : v) + (u ? "" : wrapInlineNameRichText(i, g, T)) + (c ? "" : wrapInlineValueRichText(i, b, A, w, x)) : wrapBlockHTML((f ? "" : v) + (u ? "" : wrapInlineNameHTML(g, !f, T)) + (c ? "" : wrapInlineValueHTML(b, A, w, x)), r);
  }
}
function buildTooltipMarkup(i, n, r, o, a, u) {
  if (i) {
    var c = getBuilder(i), f = {
      useUTC: a,
      renderMode: r,
      orderMode: o,
      markupStyleCreator: n,
      valueFormatter: i.valueFormatter
    };
    return c(f, i, 0, u);
  }
}
function getGap(i) {
  return {
    html: HTML_GAPS[i],
    richText: RICH_TEXT_GAPS[i]
  };
}
function wrapBlockHTML(i, n) {
  var r = '<div style="clear:both"></div>', o = "margin: " + n + "px 0 0";
  return '<div style="' + o + ";" + TOOLTIP_LINE_HEIGHT_CSS + ';">' + i + r + "</div>";
}
function wrapInlineNameHTML(i, n, r) {
  var o = n ? "margin-left:2px" : "";
  return '<span style="' + r + ";" + o + '">' + encodeHTML(i) + "</span>";
}
function wrapInlineValueHTML(i, n, r, o) {
  var a = r ? "10px" : "20px", u = n ? "float:right;margin-left:" + a : "";
  return i = isArray$1(i) ? i : [i], '<span style="' + u + ";" + o + '">' + map$1(i, function(c) {
    return encodeHTML(c);
  }).join("&nbsp;&nbsp;") + "</span>";
}
function wrapInlineNameRichText(i, n, r) {
  return i.markupStyleCreator.wrapRichTextStyle(n, r);
}
function wrapInlineValueRichText(i, n, r, o, a) {
  var u = [a], c = o ? 10 : 20;
  return r && u.push({
    padding: [0, 0, 0, c],
    align: "right"
  }), i.markupStyleCreator.wrapRichTextStyle(isArray$1(n) ? n.join("  ") : n, u);
}
function retrieveVisualColorForTooltipMarker(i, n) {
  var r = i.getData().getItemVisual(n, "style"), o = r[i.visualDrawType];
  return convertToColorString(o);
}
function getPaddingFromTooltipModel(i, n) {
  var r = i.get("padding");
  return r ?? (n === "richText" ? [8, 10] : 10);
}
var TooltipMarkupStyleCreator = (
  /** @class */
  function() {
    function i() {
      this.richTextStyles = {}, this._nextStyleNameId = getRandomIdBase();
    }
    return i.prototype._generateStyleName = function() {
      return "__EC_aUTo_" + this._nextStyleNameId++;
    }, i.prototype.makeTooltipMarker = function(n, r, o) {
      var a = o === "richText" ? this._generateStyleName() : null, u = getTooltipMarker({
        color: r,
        type: n,
        renderMode: o,
        markerId: a
      });
      return isString$2(u) ? u : (process.env.NODE_ENV !== "production" && assert(a), this.richTextStyles[a] = u.style, u.content);
    }, i.prototype.wrapRichTextStyle = function(n, r) {
      var o = {};
      isArray$1(r) ? each$4(r, function(u) {
        return extend(o, u);
      }) : extend(o, r);
      var a = this._generateStyleName();
      return this.richTextStyles[a] = o, "{" + a + "|" + n + "}";
    }, i;
  }()
);
function defaultSeriesFormatTooltip(i) {
  var n = i.series, r = i.dataIndex, o = i.multipleSeries, a = n.getData(), u = a.mapDimensionsAll("defaultedTooltip"), c = u.length, f = n.getRawValue(r), d = isArray$1(f), p = retrieveVisualColorForTooltipMarker(n, r), y, v, g, _;
  if (c > 1 || d && !c) {
    var b = formatTooltipArrayValue(f, n, r, u, p);
    y = b.inlineValues, v = b.inlineValueTypes, g = b.blocks, _ = b.inlineValues[0];
  } else if (c) {
    var A = a.getDimensionInfo(u[0]);
    _ = y = retrieveRawValue(a, r, u[0]), v = A.type;
  } else
    _ = y = d ? f[0] : f;
  var w = isNameSpecified(n), S = w && n.name || "", T = a.getName(r), x = o ? S : T;
  return createTooltipMarkup("section", {
    header: S,
    // When series name not specified, do not show a header line with only '-'.
    // This case alway happen in tooltip.trigger: 'item'.
    noHeader: o || !w,
    sortParam: _,
    blocks: [createTooltipMarkup("nameValue", {
      markerType: "item",
      markerColor: p,
      // Do not mix display seriesName and itemName in one tooltip,
      // which might confuses users.
      name: x,
      // name dimension might be auto assigned, where the name might
      // be not readable. So we check trim here.
      noName: !trim(x),
      value: y,
      valueType: v
    })].concat(g || [])
  });
}
function formatTooltipArrayValue(i, n, r, o, a) {
  var u = n.getData(), c = reduce(i, function(v, g, _) {
    var b = u.getDimensionInfo(_);
    return v = v || b && b.tooltip !== !1 && b.displayName != null;
  }, !1), f = [], d = [], p = [];
  o.length ? each$4(o, function(v) {
    y(retrieveRawValue(u, r, v), v);
  }) : each$4(i, y);
  function y(v, g) {
    var _ = u.getDimensionInfo(g);
    !_ || _.otherDims.tooltip === !1 || (c ? p.push(createTooltipMarkup("nameValue", {
      markerType: "subItem",
      markerColor: a,
      name: _.displayName,
      value: v,
      valueType: _.type
    })) : (f.push(v), d.push(_.type)));
  }
  return {
    inlineValues: f,
    inlineValueTypes: d,
    blocks: p
  };
}
var inner$6 = makeInner();
function getSelectionKey(i, n) {
  return i.getName(n) || i.getId(n);
}
var SERIES_UNIVERSAL_TRANSITION_PROP = "__universalTransitionEnabled", SeriesModel = (
  /** @class */
  function(i) {
    __extends(n, i);
    function n() {
      var r = i !== null && i.apply(this, arguments) || this;
      return r._selectedDataIndicesMap = {}, r;
    }
    return n.prototype.init = function(r, o, a) {
      this.seriesIndex = this.componentIndex, this.dataTask = createTask({
        count: dataTaskCount,
        reset: dataTaskReset
      }), this.dataTask.context = {
        model: this
      }, this.mergeDefaultAndTheme(r, a);
      var u = inner$6(this).sourceManager = new SourceManager(this);
      u.prepareSource();
      var c = this.getInitialData(r, a);
      wrapData(c, this), this.dataTask.context.data = c, process.env.NODE_ENV !== "production" && assert(c, "getInitialData returned invalid data."), inner$6(this).dataBeforeProcessed = c, autoSeriesName(this), this._initSelectedMapFromData(c);
    }, n.prototype.mergeDefaultAndTheme = function(r, o) {
      var a = fetchLayoutMode(this), u = a ? getLayoutParams(r) : {}, c = this.subType;
      ComponentModel$1.hasClass(c) && (c += "Series"), merge(r, o.getTheme().get(this.subType)), merge(r, this.getDefaultOption()), defaultEmphasis(r, "label", ["show"]), this.fillDataTextStyle(r.data), a && mergeLayoutParam(r, u, a);
    }, n.prototype.mergeOption = function(r, o) {
      r = merge(this.option, r, !0), this.fillDataTextStyle(r.data);
      var a = fetchLayoutMode(this);
      a && mergeLayoutParam(this.option, r, a);
      var u = inner$6(this).sourceManager;
      u.dirty(), u.prepareSource();
      var c = this.getInitialData(r, o);
      wrapData(c, this), this.dataTask.dirty(), this.dataTask.context.data = c, inner$6(this).dataBeforeProcessed = c, autoSeriesName(this), this._initSelectedMapFromData(c);
    }, n.prototype.fillDataTextStyle = function(r) {
      if (r && !isTypedArray(r))
        for (var o = ["show"], a = 0; a < r.length; a++)
          r[a] && r[a].label && defaultEmphasis(r[a], "label", o);
    }, n.prototype.getInitialData = function(r, o) {
    }, n.prototype.appendData = function(r) {
      var o = this.getRawData();
      o.appendData(r.data);
    }, n.prototype.getData = function(r) {
      var o = getCurrentTask(this);
      if (o) {
        var a = o.context.data;
        return r == null ? a : a.getLinkedData(r);
      } else
        return inner$6(this).data;
    }, n.prototype.getAllData = function() {
      var r = this.getData();
      return r && r.getLinkedDataAll ? r.getLinkedDataAll() : [{
        data: r
      }];
    }, n.prototype.setData = function(r) {
      var o = getCurrentTask(this);
      if (o) {
        var a = o.context;
        a.outputData = r, o !== this.dataTask && (a.data = r);
      }
      inner$6(this).data = r;
    }, n.prototype.getEncode = function() {
      var r = this.get("encode", !0);
      if (r)
        return createHashMap(r);
    }, n.prototype.getSourceManager = function() {
      return inner$6(this).sourceManager;
    }, n.prototype.getSource = function() {
      return this.getSourceManager().getSource();
    }, n.prototype.getRawData = function() {
      return inner$6(this).dataBeforeProcessed;
    }, n.prototype.getColorBy = function() {
      var r = this.get("colorBy");
      return r || "series";
    }, n.prototype.isColorBySeries = function() {
      return this.getColorBy() === "series";
    }, n.prototype.getBaseAxis = function() {
      var r = this.coordinateSystem;
      return r && r.getBaseAxis && r.getBaseAxis();
    }, n.prototype.formatTooltip = function(r, o, a) {
      return defaultSeriesFormatTooltip({
        series: this,
        dataIndex: r,
        multipleSeries: o
      });
    }, n.prototype.isAnimationEnabled = function() {
      var r = this.ecModel;
      if (env$1.node && !(r && r.ssr))
        return !1;
      var o = this.getShallow("animation");
      return o && this.getData().count() > this.getShallow("animationThreshold") && (o = !1), !!o;
    }, n.prototype.restoreData = function() {
      this.dataTask.dirty();
    }, n.prototype.getColorFromPalette = function(r, o, a) {
      var u = this.ecModel, c = PaletteMixin.prototype.getColorFromPalette.call(this, r, o, a);
      return c || (c = u.getColorFromPalette(r, o, a)), c;
    }, n.prototype.coordDimToDataDim = function(r) {
      return this.getRawData().mapDimensionsAll(r);
    }, n.prototype.getProgressive = function() {
      return this.get("progressive");
    }, n.prototype.getProgressiveThreshold = function() {
      return this.get("progressiveThreshold");
    }, n.prototype.select = function(r, o) {
      this._innerSelect(this.getData(o), r);
    }, n.prototype.unselect = function(r, o) {
      var a = this.option.selectedMap;
      if (a) {
        var u = this.option.selectedMode, c = this.getData(o);
        if (u === "series" || a === "all") {
          this.option.selectedMap = {}, this._selectedDataIndicesMap = {};
          return;
        }
        for (var f = 0; f < r.length; f++) {
          var d = r[f], p = getSelectionKey(c, d);
          a[p] = !1, this._selectedDataIndicesMap[p] = -1;
        }
      }
    }, n.prototype.toggleSelect = function(r, o) {
      for (var a = [], u = 0; u < r.length; u++)
        a[0] = r[u], this.isSelected(r[u], o) ? this.unselect(a, o) : this.select(a, o);
    }, n.prototype.getSelectedDataIndices = function() {
      if (this.option.selectedMap === "all")
        return [].slice.call(this.getData().getIndices());
      for (var r = this._selectedDataIndicesMap, o = keys(r), a = [], u = 0; u < o.length; u++) {
        var c = r[o[u]];
        c >= 0 && a.push(c);
      }
      return a;
    }, n.prototype.isSelected = function(r, o) {
      var a = this.option.selectedMap;
      if (!a)
        return !1;
      var u = this.getData(o);
      return (a === "all" || a[getSelectionKey(u, r)]) && !u.getItemModel(r).get(["select", "disabled"]);
    }, n.prototype.isUniversalTransitionEnabled = function() {
      if (this[SERIES_UNIVERSAL_TRANSITION_PROP])
        return !0;
      var r = this.option.universalTransition;
      return r ? r === !0 ? !0 : r && r.enabled : !1;
    }, n.prototype._innerSelect = function(r, o) {
      var a, u, c = this.option, f = c.selectedMode, d = o.length;
      if (!(!f || !d)) {
        if (f === "series")
          c.selectedMap = "all";
        else if (f === "multiple") {
          isObject$3(c.selectedMap) || (c.selectedMap = {});
          for (var p = c.selectedMap, y = 0; y < d; y++) {
            var v = o[y], g = getSelectionKey(r, v);
            p[g] = !0, this._selectedDataIndicesMap[g] = r.getRawIndex(v);
          }
        } else if (f === "single" || f === !0) {
          var _ = o[d - 1], g = getSelectionKey(r, _);
          c.selectedMap = (a = {}, a[g] = !0, a), this._selectedDataIndicesMap = (u = {}, u[g] = r.getRawIndex(_), u);
        }
      }
    }, n.prototype._initSelectedMapFromData = function(r) {
      if (!this.option.selectedMap) {
        var o = [];
        r.hasItemOption && r.each(function(a) {
          var u = r.getRawDataItem(a);
          u && u.selected && o.push(a);
        }), o.length > 0 && this._innerSelect(r, o);
      }
    }, n.registerClass = function(r) {
      return ComponentModel$1.registerClass(r);
    }, n.protoInitialize = function() {
      var r = n.prototype;
      r.type = "series.__base__", r.seriesIndex = 0, r.ignoreStyleOnData = !1, r.hasSymbolVisual = !1, r.defaultSymbol = "circle", r.visualStyleAccessPath = "itemStyle", r.visualDrawType = "fill";
    }(), n;
  }(ComponentModel$1)
);
mixin(SeriesModel, DataFormatMixin);
mixin(SeriesModel, PaletteMixin);
mountExtend(SeriesModel, ComponentModel$1);
function autoSeriesName(i) {
  var n = i.name;
  isNameSpecified(i) || (i.name = getSeriesAutoName(i) || n);
}
function getSeriesAutoName(i) {
  var n = i.getRawData(), r = n.mapDimensionsAll("seriesName"), o = [];
  return each$4(r, function(a) {
    var u = n.getDimensionInfo(a);
    u.displayName && o.push(u.displayName);
  }), o.join(" ");
}
function dataTaskCount(i) {
  return i.model.getRawData().count();
}
function dataTaskReset(i) {
  var n = i.model;
  return n.setData(n.getRawData().cloneShallow()), dataTaskProgress;
}
function dataTaskProgress(i, n) {
  n.outputData && i.end > n.outputData.count() && n.model.getRawData().cloneShallow(n.outputData);
}
function wrapData(i, n) {
  each$4(concatArray(i.CHANGABLE_METHODS, i.DOWNSAMPLE_METHODS), function(r) {
    i.wrapMethod(r, curry$1(onDataChange, n));
  });
}
function onDataChange(i, n) {
  var r = getCurrentTask(i);
  return r && r.setOutputEnd((n || this).count()), n;
}
function getCurrentTask(i) {
  var n = (i.ecModel || {}).scheduler, r = n && n.getPipeline(i.uid);
  if (r) {
    var o = r.currentTask;
    if (o) {
      var a = o.agentStubMap;
      a && (o = a.get(i.uid));
    }
    return o;
  }
}
const SeriesModel$1 = SeriesModel;
var ComponentView = (
  /** @class */
  function() {
    function i() {
      this.group = new Group$3(), this.uid = getUID("viewComponent");
    }
    return i.prototype.init = function(n, r) {
    }, i.prototype.render = function(n, r, o, a) {
    }, i.prototype.dispose = function(n, r) {
    }, i.prototype.updateView = function(n, r, o, a) {
    }, i.prototype.updateLayout = function(n, r, o, a) {
    }, i.prototype.updateVisual = function(n, r, o, a) {
    }, i.prototype.toggleBlurSeries = function(n, r, o) {
    }, i.prototype.eachRendered = function(n) {
      var r = this.group;
      r && r.traverse(n);
    }, i;
  }()
);
enableClassExtend(ComponentView);
enableClassManagement(ComponentView);
const ComponentView$1 = ComponentView;
function createRenderPlanner() {
  var i = makeInner();
  return function(n) {
    var r = i(n), o = n.pipelineContext, a = !!r.large, u = !!r.progressiveRender, c = r.large = !!(o && o.large), f = r.progressiveRender = !!(o && o.progressiveRender);
    return (a !== c || u !== f) && "reset";
  };
}
var inner$5 = makeInner(), renderPlanner = createRenderPlanner(), ChartView = (
  /** @class */
  function() {
    function i() {
      this.group = new Group$3(), this.uid = getUID("viewChart"), this.renderTask = createTask({
        plan: renderTaskPlan,
        reset: renderTaskReset
      }), this.renderTask.context = {
        view: this
      };
    }
    return i.prototype.init = function(n, r) {
    }, i.prototype.render = function(n, r, o, a) {
      if (process.env.NODE_ENV !== "production")
        throw new Error("render method must been implemented");
    }, i.prototype.highlight = function(n, r, o, a) {
      var u = n.getData(a && a.dataType);
      if (!u) {
        process.env.NODE_ENV !== "production" && error("Unknown dataType " + a.dataType);
        return;
      }
      toggleHighlight(u, a, "emphasis");
    }, i.prototype.downplay = function(n, r, o, a) {
      var u = n.getData(a && a.dataType);
      if (!u) {
        process.env.NODE_ENV !== "production" && error("Unknown dataType " + a.dataType);
        return;
      }
      toggleHighlight(u, a, "normal");
    }, i.prototype.remove = function(n, r) {
      this.group.removeAll();
    }, i.prototype.dispose = function(n, r) {
    }, i.prototype.updateView = function(n, r, o, a) {
      this.render(n, r, o, a);
    }, i.prototype.updateLayout = function(n, r, o, a) {
      this.render(n, r, o, a);
    }, i.prototype.updateVisual = function(n, r, o, a) {
      this.render(n, r, o, a);
    }, i.prototype.eachRendered = function(n) {
      traverseElements(this.group, n);
    }, i.markUpdateMethod = function(n, r) {
      inner$5(n).updateMethod = r;
    }, i.protoInitialize = function() {
      var n = i.prototype;
      n.type = "chart";
    }(), i;
  }()
);
function elSetState(i, n, r) {
  i && isHighDownDispatcher(i) && (n === "emphasis" ? enterEmphasis : leaveEmphasis)(i, r);
}
function toggleHighlight(i, n, r) {
  var o = queryDataIndex(i, n), a = n && n.highlightKey != null ? getHighlightDigit(n.highlightKey) : null;
  o != null ? each$4(normalizeToArray(o), function(u) {
    elSetState(i.getItemGraphicEl(u), r, a);
  }) : i.eachItemGraphicEl(function(u) {
    elSetState(u, r, a);
  });
}
enableClassExtend(ChartView, ["dispose"]);
enableClassManagement(ChartView);
function renderTaskPlan(i) {
  return renderPlanner(i.model);
}
function renderTaskReset(i) {
  var n = i.model, r = i.ecModel, o = i.api, a = i.payload, u = n.pipelineContext.progressiveRender, c = i.view, f = a && inner$5(a).updateMethod, d = u ? "incrementalPrepareRender" : f && c[f] ? f : "render";
  return d !== "render" && c[d](n, r, o, a), progressMethodMap[d];
}
var progressMethodMap = {
  incrementalPrepareRender: {
    progress: function(i, n) {
      n.view.incrementalRender(i, n.model, n.ecModel, n.api, n.payload);
    }
  },
  render: {
    // Put view.render in `progress` to support appendData. But in this case
    // view.render should not be called in reset, otherwise it will be called
    // twise. Use `forceFirstProgress` to make sure that view.render is called
    // in any cases.
    forceFirstProgress: !0,
    progress: function(i, n) {
      n.view.render(n.model, n.ecModel, n.api, n.payload);
    }
  }
};
const ChartView$1 = ChartView;
var ORIGIN_METHOD = "\0__throttleOriginMethod", RATE = "\0__throttleRate", THROTTLE_TYPE = "\0__throttleType";
function throttle$1(i, n, r) {
  var o, a = 0, u = 0, c = null, f, d, p, y;
  n = n || 0;
  function v() {
    u = (/* @__PURE__ */ new Date()).getTime(), c = null, i.apply(d, p || []);
  }
  var g = function() {
    for (var _ = [], b = 0; b < arguments.length; b++)
      _[b] = arguments[b];
    o = (/* @__PURE__ */ new Date()).getTime(), d = this, p = _;
    var A = y || n, w = y || r;
    y = null, f = o - (w ? a : u) - A, clearTimeout(c), w ? c = setTimeout(v, A) : f >= 0 ? v() : c = setTimeout(v, -f), a = o;
  };
  return g.clear = function() {
    c && (clearTimeout(c), c = null);
  }, g.debounceNextCall = function(_) {
    y = _;
  }, g;
}
function createOrUpdate(i, n, r, o) {
  var a = i[n];
  if (a) {
    var u = a[ORIGIN_METHOD] || a, c = a[THROTTLE_TYPE], f = a[RATE];
    if (f !== r || c !== o) {
      if (r == null || !o)
        return i[n] = u;
      a = i[n] = throttle$1(u, r, o === "debounce"), a[ORIGIN_METHOD] = u, a[THROTTLE_TYPE] = o, a[RATE] = r;
    }
    return a;
  }
}
function clear(i, n) {
  var r = i[n];
  r && r[ORIGIN_METHOD] && (r.clear && r.clear(), i[n] = r[ORIGIN_METHOD]);
}
var inner$4 = makeInner(), defaultStyleMappers = {
  itemStyle: makeStyleMapper(ITEM_STYLE_KEY_MAP, !0),
  lineStyle: makeStyleMapper(LINE_STYLE_KEY_MAP, !0)
}, defaultColorKey = {
  lineStyle: "stroke",
  itemStyle: "fill"
};
function getStyleMapper(i, n) {
  var r = i.visualStyleMapper || defaultStyleMappers[n];
  return r || (console.warn("Unknown style type '" + n + "'."), defaultStyleMappers.itemStyle);
}
function getDefaultColorKey(i, n) {
  var r = i.visualDrawType || defaultColorKey[n];
  return r || (console.warn("Unknown style type '" + n + "'."), "fill");
}
var seriesStyleTask = {
  createOnAllSeries: !0,
  performRawSeries: !0,
  reset: function(i, n) {
    var r = i.getData(), o = i.visualStyleAccessPath || "itemStyle", a = i.getModel(o), u = getStyleMapper(i, o), c = u(a), f = a.getShallow("decal");
    f && (r.setVisual("decal", f), f.dirty = !0);
    var d = getDefaultColorKey(i, o), p = c[d], y = isFunction$1(p) ? p : null, v = c.fill === "auto" || c.stroke === "auto";
    if (!c[d] || y || v) {
      var g = i.getColorFromPalette(
        // TODO series count changed.
        i.name,
        null,
        n.getSeriesCount()
      );
      c[d] || (c[d] = g, r.setVisual("colorFromPalette", !0)), c.fill = c.fill === "auto" || isFunction$1(c.fill) ? g : c.fill, c.stroke = c.stroke === "auto" || isFunction$1(c.stroke) ? g : c.stroke;
    }
    if (r.setVisual("style", c), r.setVisual("drawType", d), !n.isSeriesFiltered(i) && y)
      return r.setVisual("colorFromPalette", !1), {
        dataEach: function(_, b) {
          var A = i.getDataParams(b), w = extend({}, c);
          w[d] = y(A), _.setItemVisual(b, "style", w);
        }
      };
  }
}, sharedModel = new Model$1(), dataStyleTask = {
  createOnAllSeries: !0,
  performRawSeries: !0,
  reset: function(i, n) {
    if (!(i.ignoreStyleOnData || n.isSeriesFiltered(i))) {
      var r = i.getData(), o = i.visualStyleAccessPath || "itemStyle", a = getStyleMapper(i, o), u = r.getVisual("drawType");
      return {
        dataEach: r.hasItemOption ? function(c, f) {
          var d = c.getRawDataItem(f);
          if (d && d[o]) {
            sharedModel.option = d[o];
            var p = a(sharedModel), y = c.ensureUniqueItemVisual(f, "style");
            extend(y, p), sharedModel.option.decal && (c.setItemVisual(f, "decal", sharedModel.option.decal), sharedModel.option.decal.dirty = !0), u in p && c.setItemVisual(f, "colorFromPalette", !1);
          }
        } : null
      };
    }
  }
}, dataColorPaletteTask = {
  performRawSeries: !0,
  overallReset: function(i) {
    var n = createHashMap();
    i.eachSeries(function(r) {
      var o = r.getColorBy();
      if (!r.isColorBySeries()) {
        var a = r.type + "-" + o, u = n.get(a);
        u || (u = {}, n.set(a, u)), inner$4(r).scope = u;
      }
    }), i.eachSeries(function(r) {
      if (!(r.isColorBySeries() || i.isSeriesFiltered(r))) {
        var o = r.getRawData(), a = {}, u = r.getData(), c = inner$4(r).scope, f = r.visualStyleAccessPath || "itemStyle", d = getDefaultColorKey(r, f);
        u.each(function(p) {
          var y = u.getRawIndex(p);
          a[y] = p;
        }), o.each(function(p) {
          var y = a[p], v = u.getItemVisual(y, "colorFromPalette");
          if (v) {
            var g = u.ensureUniqueItemVisual(y, "style"), _ = o.getName(p) || p + "", b = o.count();
            g[d] = r.getColorFromPalette(_, c, b);
          }
        });
      }
    });
  }
}, PI$2 = Math.PI;
function defaultLoading(i, n) {
  n = n || {}, defaults(n, {
    text: "loading",
    textColor: "#000",
    fontSize: 12,
    fontWeight: "normal",
    fontStyle: "normal",
    fontFamily: "sans-serif",
    maskColor: "rgba(255, 255, 255, 0.8)",
    showSpinner: !0,
    color: "#5470c6",
    spinnerRadius: 10,
    lineWidth: 5,
    zlevel: 0
  });
  var r = new Group$3(), o = new Rect$1({
    style: {
      fill: n.maskColor
    },
    zlevel: n.zlevel,
    z: 1e4
  });
  r.add(o);
  var a = new ZRText$1({
    style: {
      text: n.text,
      fill: n.textColor,
      fontSize: n.fontSize,
      fontWeight: n.fontWeight,
      fontStyle: n.fontStyle,
      fontFamily: n.fontFamily
    },
    zlevel: n.zlevel,
    z: 10001
  }), u = new Rect$1({
    style: {
      fill: "none"
    },
    textContent: a,
    textConfig: {
      position: "right",
      distance: 10
    },
    zlevel: n.zlevel,
    z: 10001
  });
  r.add(u);
  var c;
  return n.showSpinner && (c = new Arc$1({
    shape: {
      startAngle: -PI$2 / 2,
      endAngle: -PI$2 / 2 + 0.1,
      r: n.spinnerRadius
    },
    style: {
      stroke: n.color,
      lineCap: "round",
      lineWidth: n.lineWidth
    },
    zlevel: n.zlevel,
    z: 10001
  }), c.animateShape(!0).when(1e3, {
    endAngle: PI$2 * 3 / 2
  }).start("circularInOut"), c.animateShape(!0).when(1e3, {
    startAngle: PI$2 * 3 / 2
  }).delay(300).start("circularInOut"), r.add(c)), r.resize = function() {
    var f = a.getBoundingRect().width, d = n.showSpinner ? n.spinnerRadius : 0, p = (i.getWidth() - d * 2 - (n.showSpinner && f ? 10 : 0) - f) / 2 - (n.showSpinner && f ? 0 : 5 + f / 2) + (n.showSpinner ? 0 : f / 2) + (f ? 0 : d), y = i.getHeight() / 2;
    n.showSpinner && c.setShape({
      cx: p,
      cy: y
    }), u.setShape({
      x: p - d,
      y: y - d,
      width: d * 2,
      height: d * 2
    }), o.setShape({
      x: 0,
      y: 0,
      width: i.getWidth(),
      height: i.getHeight()
    });
  }, r.resize(), r;
}
var Scheduler = (
  /** @class */
  function() {
    function i(n, r, o, a) {
      this._stageTaskMap = createHashMap(), this.ecInstance = n, this.api = r, o = this._dataProcessorHandlers = o.slice(), a = this._visualHandlers = a.slice(), this._allHandlers = o.concat(a);
    }
    return i.prototype.restoreData = function(n, r) {
      n.restoreData(r), this._stageTaskMap.each(function(o) {
        var a = o.overallTask;
        a && a.dirty();
      });
    }, i.prototype.getPerformArgs = function(n, r) {
      if (n.__pipeline) {
        var o = this._pipelineMap.get(n.__pipeline.id), a = o.context, u = !r && o.progressiveEnabled && (!a || a.progressiveRender) && n.__idxInPipeline > o.blockIndex, c = u ? o.step : null, f = a && a.modDataCount, d = f != null ? Math.ceil(f / c) : null;
        return {
          step: c,
          modBy: d,
          modDataCount: f
        };
      }
    }, i.prototype.getPipeline = function(n) {
      return this._pipelineMap.get(n);
    }, i.prototype.updateStreamModes = function(n, r) {
      var o = this._pipelineMap.get(n.uid), a = n.getData(), u = a.count(), c = o.progressiveEnabled && r.incrementalPrepareRender && u >= o.threshold, f = n.get("large") && u >= n.get("largeThreshold"), d = n.get("progressiveChunkMode") === "mod" ? u : null;
      n.pipelineContext = o.context = {
        progressiveRender: c,
        modDataCount: d,
        large: f
      };
    }, i.prototype.restorePipelines = function(n) {
      var r = this, o = r._pipelineMap = createHashMap();
      n.eachSeries(function(a) {
        var u = a.getProgressive(), c = a.uid;
        o.set(c, {
          id: c,
          head: null,
          tail: null,
          threshold: a.getProgressiveThreshold(),
          progressiveEnabled: u && !(a.preventIncremental && a.preventIncremental()),
          blockIndex: -1,
          step: Math.round(u || 700),
          count: 0
        }), r._pipe(a, a.dataTask);
      });
    }, i.prototype.prepareStageTasks = function() {
      var n = this._stageTaskMap, r = this.api.getModel(), o = this.api;
      each$4(this._allHandlers, function(a) {
        var u = n.get(a.uid) || n.set(a.uid, {}), c = "";
        process.env.NODE_ENV !== "production" && (c = '"reset" and "overallReset" must not be both specified.'), assert(!(a.reset && a.overallReset), c), a.reset && this._createSeriesStageTask(a, u, r, o), a.overallReset && this._createOverallStageTask(a, u, r, o);
      }, this);
    }, i.prototype.prepareView = function(n, r, o, a) {
      var u = n.renderTask, c = u.context;
      c.model = r, c.ecModel = o, c.api = a, u.__block = !n.incrementalPrepareRender, this._pipe(r, u);
    }, i.prototype.performDataProcessorTasks = function(n, r) {
      this._performStageTasks(this._dataProcessorHandlers, n, r, {
        block: !0
      });
    }, i.prototype.performVisualTasks = function(n, r, o) {
      this._performStageTasks(this._visualHandlers, n, r, o);
    }, i.prototype._performStageTasks = function(n, r, o, a) {
      a = a || {};
      var u = !1, c = this;
      each$4(n, function(d, p) {
        if (!(a.visualType && a.visualType !== d.visualType)) {
          var y = c._stageTaskMap.get(d.uid), v = y.seriesTaskMap, g = y.overallTask;
          if (g) {
            var _, b = g.agentStubMap;
            b.each(function(w) {
              f(a, w) && (w.dirty(), _ = !0);
            }), _ && g.dirty(), c.updatePayload(g, o);
            var A = c.getPerformArgs(g, a.block);
            b.each(function(w) {
              w.perform(A);
            }), g.perform(A) && (u = !0);
          } else
            v && v.each(function(w, S) {
              f(a, w) && w.dirty();
              var T = c.getPerformArgs(w, a.block);
              T.skip = !d.performRawSeries && r.isSeriesFiltered(w.context.model), c.updatePayload(w, o), w.perform(T) && (u = !0);
            });
        }
      });
      function f(d, p) {
        return d.setDirty && (!d.dirtyMap || d.dirtyMap.get(p.__pipeline.id));
      }
      this.unfinished = u || this.unfinished;
    }, i.prototype.performSeriesTasks = function(n) {
      var r;
      n.eachSeries(function(o) {
        r = o.dataTask.perform() || r;
      }), this.unfinished = r || this.unfinished;
    }, i.prototype.plan = function() {
      this._pipelineMap.each(function(n) {
        var r = n.tail;
        do {
          if (r.__block) {
            n.blockIndex = r.__idxInPipeline;
            break;
          }
          r = r.getUpstream();
        } while (r);
      });
    }, i.prototype.updatePayload = function(n, r) {
      r !== "remain" && (n.context.payload = r);
    }, i.prototype._createSeriesStageTask = function(n, r, o, a) {
      var u = this, c = r.seriesTaskMap, f = r.seriesTaskMap = createHashMap(), d = n.seriesType, p = n.getTargetSeries;
      n.createOnAllSeries ? o.eachRawSeries(y) : d ? o.eachRawSeriesByType(d, y) : p && p(o, a).each(y);
      function y(v) {
        var g = v.uid, _ = f.set(g, c && c.get(g) || createTask({
          plan: seriesTaskPlan,
          reset: seriesTaskReset,
          count: seriesTaskCount
        }));
        _.context = {
          model: v,
          ecModel: o,
          api: a,
          // PENDING: `useClearVisual` not used?
          useClearVisual: n.isVisual && !n.isLayout,
          plan: n.plan,
          reset: n.reset,
          scheduler: u
        }, u._pipe(v, _);
      }
    }, i.prototype._createOverallStageTask = function(n, r, o, a) {
      var u = this, c = r.overallTask = r.overallTask || createTask({
        reset: overallTaskReset
      });
      c.context = {
        ecModel: o,
        api: a,
        overallReset: n.overallReset,
        scheduler: u
      };
      var f = c.agentStubMap, d = c.agentStubMap = createHashMap(), p = n.seriesType, y = n.getTargetSeries, v = !0, g = !1, _ = "";
      process.env.NODE_ENV !== "production" && (_ = '"createOnAllSeries" is not supported for "overallReset", because it will block all streams.'), assert(!n.createOnAllSeries, _), p ? o.eachRawSeriesByType(p, b) : y ? y(o, a).each(b) : (v = !1, each$4(o.getSeries(), b));
      function b(A) {
        var w = A.uid, S = d.set(w, f && f.get(w) || // When the result of `getTargetSeries` changed, the overallTask
        // should be set as dirty and re-performed.
        (g = !0, createTask({
          reset: stubReset,
          onDirty: stubOnDirty
        })));
        S.context = {
          model: A,
          overallProgress: v
          // FIXME:TS never used, so comment it
          // modifyOutputEnd: modifyOutputEnd
        }, S.agent = c, S.__block = v, u._pipe(A, S);
      }
      g && c.dirty();
    }, i.prototype._pipe = function(n, r) {
      var o = n.uid, a = this._pipelineMap.get(o);
      !a.head && (a.head = r), a.tail && a.tail.pipe(r), a.tail = r, r.__idxInPipeline = a.count++, r.__pipeline = a;
    }, i.wrapStageHandler = function(n, r) {
      return isFunction$1(n) && (n = {
        overallReset: n,
        seriesType: detectSeriseType(n)
      }), n.uid = getUID("stageHandler"), r && (n.visualType = r), n;
    }, i;
  }()
);
function overallTaskReset(i) {
  i.overallReset(i.ecModel, i.api, i.payload);
}
function stubReset(i) {
  return i.overallProgress && stubProgress;
}
function stubProgress() {
  this.agent.dirty(), this.getDownstream().dirty();
}
function stubOnDirty() {
  this.agent && this.agent.dirty();
}
function seriesTaskPlan(i) {
  return i.plan ? i.plan(i.model, i.ecModel, i.api, i.payload) : null;
}
function seriesTaskReset(i) {
  i.useClearVisual && i.data.clearAllVisual();
  var n = i.resetDefines = normalizeToArray(i.reset(i.model, i.ecModel, i.api, i.payload));
  return n.length > 1 ? map$1(n, function(r, o) {
    return makeSeriesTaskProgress(o);
  }) : singleSeriesTaskProgress;
}
var singleSeriesTaskProgress = makeSeriesTaskProgress(0);
function makeSeriesTaskProgress(i) {
  return function(n, r) {
    var o = r.data, a = r.resetDefines[i];
    if (a && a.dataEach)
      for (var u = n.start; u < n.end; u++)
        a.dataEach(o, u);
    else
      a && a.progress && a.progress(n, o);
  };
}
function seriesTaskCount(i) {
  return i.data.count();
}
function detectSeriseType(i) {
  seriesType = null;
  try {
    i(ecModelMock, apiMock);
  } catch {
  }
  return seriesType;
}
var ecModelMock = {}, apiMock = {}, seriesType;
mockMethods(ecModelMock, GlobalModel$1);
mockMethods(apiMock, ExtensionAPI$1);
ecModelMock.eachSeriesByType = ecModelMock.eachRawSeriesByType = function(i) {
  seriesType = i;
};
ecModelMock.eachComponent = function(i) {
  i.mainType === "series" && i.subType && (seriesType = i.subType);
};
function mockMethods(i, n) {
  for (var r in n.prototype)
    i[r] = noop$1;
}
const Scheduler$1 = Scheduler;
var colorAll = ["#37A2DA", "#32C5E9", "#67E0E3", "#9FE6B8", "#FFDB5C", "#ff9f7f", "#fb7293", "#E062AE", "#E690D1", "#e7bcf3", "#9d96f5", "#8378EA", "#96BFFF"];
const lightTheme = {
  color: colorAll,
  colorLayer: [["#37A2DA", "#ffd85c", "#fd7b5f"], ["#37A2DA", "#67E0E3", "#FFDB5C", "#ff9f7f", "#E062AE", "#9d96f5"], ["#37A2DA", "#32C5E9", "#9FE6B8", "#FFDB5C", "#ff9f7f", "#fb7293", "#e7bcf3", "#8378EA", "#96BFFF"], colorAll]
};
var contrastColor = "#B9B8CE", backgroundColor = "#100C2A", axisCommon = function() {
  return {
    axisLine: {
      lineStyle: {
        color: contrastColor
      }
    },
    splitLine: {
      lineStyle: {
        color: "#484753"
      }
    },
    splitArea: {
      areaStyle: {
        color: ["rgba(255,255,255,0.02)", "rgba(255,255,255,0.05)"]
      }
    },
    minorSplitLine: {
      lineStyle: {
        color: "#20203B"
      }
    }
  };
}, colorPalette = ["#4992ff", "#7cffb2", "#fddd60", "#ff6e76", "#58d9f9", "#05c091", "#ff8a45", "#8d48e3", "#dd79ff"], theme = {
  darkMode: !0,
  color: colorPalette,
  backgroundColor,
  axisPointer: {
    lineStyle: {
      color: "#817f91"
    },
    crossStyle: {
      color: "#817f91"
    },
    label: {
      // TODO Contrast of label backgorundColor
      color: "#fff"
    }
  },
  legend: {
    textStyle: {
      color: contrastColor
    }
  },
  textStyle: {
    color: contrastColor
  },
  title: {
    textStyle: {
      color: "#EEF1FA"
    },
    subtextStyle: {
      color: "#B9B8CE"
    }
  },
  toolbox: {
    iconStyle: {
      borderColor: contrastColor
    }
  },
  dataZoom: {
    borderColor: "#71708A",
    textStyle: {
      color: contrastColor
    },
    brushStyle: {
      color: "rgba(135,163,206,0.3)"
    },
    handleStyle: {
      color: "#353450",
      borderColor: "#C5CBE3"
    },
    moveHandleStyle: {
      color: "#B0B6C3",
      opacity: 0.3
    },
    fillerColor: "rgba(135,163,206,0.2)",
    emphasis: {
      handleStyle: {
        borderColor: "#91B7F2",
        color: "#4D587D"
      },
      moveHandleStyle: {
        color: "#636D9A",
        opacity: 0.7
      }
    },
    dataBackground: {
      lineStyle: {
        color: "#71708A",
        width: 1
      },
      areaStyle: {
        color: "#71708A"
      }
    },
    selectedDataBackground: {
      lineStyle: {
        color: "#87A3CE"
      },
      areaStyle: {
        color: "#87A3CE"
      }
    }
  },
  visualMap: {
    textStyle: {
      color: contrastColor
    }
  },
  timeline: {
    lineStyle: {
      color: contrastColor
    },
    label: {
      color: contrastColor
    },
    controlStyle: {
      color: contrastColor,
      borderColor: contrastColor
    }
  },
  calendar: {
    itemStyle: {
      color: backgroundColor
    },
    dayLabel: {
      color: contrastColor
    },
    monthLabel: {
      color: contrastColor
    },
    yearLabel: {
      color: contrastColor
    }
  },
  timeAxis: axisCommon(),
  logAxis: axisCommon(),
  valueAxis: axisCommon(),
  categoryAxis: axisCommon(),
  line: {
    symbol: "circle"
  },
  graph: {
    color: colorPalette
  },
  gauge: {
    title: {
      color: contrastColor
    },
    axisLine: {
      lineStyle: {
        color: [[1, "rgba(207,212,219,0.2)"]]
      }
    },
    axisLabel: {
      color: contrastColor
    },
    detail: {
      color: "#EEF1FA"
    }
  },
  candlestick: {
    itemStyle: {
      color: "#f64e56",
      color0: "#54ea92",
      borderColor: "#f64e56",
      borderColor0: "#54ea92"
      // borderColor: '#ca2824',
      // borderColor0: '#09a443'
    }
  }
};
theme.categoryAxis.splitLine.show = !1;
const darkTheme = theme;
var ECEventProcessor = (
  /** @class */
  function() {
    function i() {
    }
    return i.prototype.normalizeQuery = function(n) {
      var r = {}, o = {}, a = {};
      if (isString$2(n)) {
        var u = parseClassType(n);
        r.mainType = u.main || null, r.subType = u.sub || null;
      } else {
        var c = ["Index", "Name", "Id"], f = {
          name: 1,
          dataIndex: 1,
          dataType: 1
        };
        each$4(n, function(d, p) {
          for (var y = !1, v = 0; v < c.length; v++) {
            var g = c[v], _ = p.lastIndexOf(g);
            if (_ > 0 && _ === p.length - g.length) {
              var b = p.slice(0, _);
              b !== "data" && (r.mainType = b, r[g.toLowerCase()] = d, y = !0);
            }
          }
          f.hasOwnProperty(p) && (o[p] = d, y = !0), y || (a[p] = d);
        });
      }
      return {
        cptQuery: r,
        dataQuery: o,
        otherQuery: a
      };
    }, i.prototype.filter = function(n, r) {
      var o = this.eventInfo;
      if (!o)
        return !0;
      var a = o.targetEl, u = o.packedEvent, c = o.model, f = o.view;
      if (!c || !f)
        return !0;
      var d = r.cptQuery, p = r.dataQuery;
      return y(d, c, "mainType") && y(d, c, "subType") && y(d, c, "index", "componentIndex") && y(d, c, "name") && y(d, c, "id") && y(p, u, "name") && y(p, u, "dataIndex") && y(p, u, "dataType") && (!f.filterForExposedEvent || f.filterForExposedEvent(n, r.otherQuery, a, u));
      function y(v, g, _, b) {
        return v[_] == null || g[b || _] === v[_];
      }
    }, i.prototype.afterTrigger = function() {
      this.eventInfo = null;
    }, i;
  }()
), SYMBOL_PROPS_WITH_CB = ["symbol", "symbolSize", "symbolRotate", "symbolOffset"], SYMBOL_PROPS = SYMBOL_PROPS_WITH_CB.concat(["symbolKeepAspect"]), seriesSymbolTask = {
  createOnAllSeries: !0,
  // For legend.
  performRawSeries: !0,
  reset: function(i, n) {
    var r = i.getData();
    if (i.legendIcon && r.setVisual("legendIcon", i.legendIcon), !i.hasSymbolVisual)
      return;
    for (var o = {}, a = {}, u = !1, c = 0; c < SYMBOL_PROPS_WITH_CB.length; c++) {
      var f = SYMBOL_PROPS_WITH_CB[c], d = i.get(f);
      isFunction$1(d) ? (u = !0, a[f] = d) : o[f] = d;
    }
    if (o.symbol = o.symbol || i.defaultSymbol, r.setVisual(extend({
      legendIcon: i.legendIcon || o.symbol,
      symbolKeepAspect: i.get("symbolKeepAspect")
    }, o)), n.isSeriesFiltered(i))
      return;
    var p = keys(a);
    function y(v, g) {
      for (var _ = i.getRawValue(g), b = i.getDataParams(g), A = 0; A < p.length; A++) {
        var w = p[A];
        v.setItemVisual(g, w, a[w](_, b));
      }
    }
    return {
      dataEach: u ? y : null
    };
  }
}, dataSymbolTask = {
  createOnAllSeries: !0,
  // For legend.
  performRawSeries: !0,
  reset: function(i, n) {
    if (!i.hasSymbolVisual || n.isSeriesFiltered(i))
      return;
    var r = i.getData();
    function o(a, u) {
      for (var c = a.getItemModel(u), f = 0; f < SYMBOL_PROPS.length; f++) {
        var d = SYMBOL_PROPS[f], p = c.getShallow(d, !0);
        p != null && a.setItemVisual(u, d, p);
      }
    }
    return {
      dataEach: r.hasItemOption ? o : null
    };
  }
};
function getItemVisualFromData(i, n, r) {
  switch (r) {
    case "color":
      var o = i.getItemVisual(n, "style");
      return o[i.getVisual("drawType")];
    case "opacity":
      return i.getItemVisual(n, "style").opacity;
    case "symbol":
    case "symbolSize":
    case "liftZ":
      return i.getItemVisual(n, r);
    default:
      process.env.NODE_ENV !== "production" && console.warn("Unknown visual type " + r);
  }
}
function getVisualFromData(i, n) {
  switch (n) {
    case "color":
      var r = i.getVisual("style");
      return r[i.getVisual("drawType")];
    case "opacity":
      return i.getVisual("style").opacity;
    case "symbol":
    case "symbolSize":
    case "liftZ":
      return i.getVisual(n);
    default:
      process.env.NODE_ENV !== "production" && console.warn("Unknown visual type " + n);
  }
}
function createLegacyDataSelectAction(i, n) {
  function r(o, a) {
    var u = [];
    return o.eachComponent({
      mainType: "series",
      subType: i,
      query: a
    }, function(c) {
      u.push(c.seriesIndex);
    }), u;
  }
  each$4([[i + "ToggleSelect", "toggleSelect"], [i + "Select", "select"], [i + "UnSelect", "unselect"]], function(o) {
    n(o[0], function(a, u, c) {
      a = extend({}, a), process.env.NODE_ENV !== "production" && deprecateReplaceLog(a.type, o[1]), c.dispatchAction(extend(a, {
        type: o[1],
        seriesIndex: r(u, a)
      }));
    });
  });
}
function handleSeriesLegacySelectEvents(i, n, r, o, a) {
  var u = i + n;
  r.isSilent(u) || (process.env.NODE_ENV !== "production" && deprecateLog("event " + u + " is deprecated."), o.eachComponent({
    mainType: "series",
    subType: "pie"
  }, function(c) {
    for (var f = c.seriesIndex, d = c.option.selectedMap, p = a.selected, y = 0; y < p.length; y++)
      if (p[y].seriesIndex === f) {
        var v = c.getData(), g = queryDataIndex(v, a.fromActionPayload);
        r.trigger(u, {
          type: u,
          seriesId: c.id,
          name: isArray$1(g) ? v.getName(g[0]) : v.getName(g),
          selected: isString$2(d) ? d : extend({}, d)
        });
      }
  }));
}
function handleLegacySelectEvents(i, n, r) {
  i.on("selectchanged", function(o) {
    var a = r.getModel();
    o.isFromClick ? (handleSeriesLegacySelectEvents("map", "selectchanged", n, a, o), handleSeriesLegacySelectEvents("pie", "selectchanged", n, a, o)) : o.fromAction === "select" ? (handleSeriesLegacySelectEvents("map", "selected", n, a, o), handleSeriesLegacySelectEvents("pie", "selected", n, a, o)) : o.fromAction === "unselect" && (handleSeriesLegacySelectEvents("map", "unselected", n, a, o), handleSeriesLegacySelectEvents("pie", "unselected", n, a, o));
  });
}
function findEventDispatcher(i, n, r) {
  for (var o; i && !(n(i) && (o = i, r)); )
    i = i.__hostTarget || i.parent;
  return o;
}
var wmUniqueIndex = Math.round(Math.random() * 9), supportDefineProperty = typeof Object.defineProperty == "function", WeakMap$1 = function() {
  function i() {
    this._id = "__ec_inner_" + wmUniqueIndex++;
  }
  return i.prototype.get = function(n) {
    return this._guard(n)[this._id];
  }, i.prototype.set = function(n, r) {
    var o = this._guard(n);
    return supportDefineProperty ? Object.defineProperty(o, this._id, {
      value: r,
      enumerable: !1,
      configurable: !0
    }) : o[this._id] = r, this;
  }, i.prototype.delete = function(n) {
    return this.has(n) ? (delete this._guard(n)[this._id], !0) : !1;
  }, i.prototype.has = function(n) {
    return !!this._guard(n)[this._id];
  }, i.prototype._guard = function(n) {
    if (n !== Object(n))
      throw TypeError("Value of WeakMap is not a non-null object.");
    return n;
  }, i;
}();
const WeakMap$2 = WeakMap$1;
var Triangle = Path$1.extend({
  type: "triangle",
  shape: {
    cx: 0,
    cy: 0,
    width: 0,
    height: 0
  },
  buildPath: function(i, n) {
    var r = n.cx, o = n.cy, a = n.width / 2, u = n.height / 2;
    i.moveTo(r, o - u), i.lineTo(r + a, o + u), i.lineTo(r - a, o + u), i.closePath();
  }
}), Diamond = Path$1.extend({
  type: "diamond",
  shape: {
    cx: 0,
    cy: 0,
    width: 0,
    height: 0
  },
  buildPath: function(i, n) {
    var r = n.cx, o = n.cy, a = n.width / 2, u = n.height / 2;
    i.moveTo(r, o - u), i.lineTo(r + a, o), i.lineTo(r, o + u), i.lineTo(r - a, o), i.closePath();
  }
}), Pin = Path$1.extend({
  type: "pin",
  shape: {
    // x, y on the cusp
    x: 0,
    y: 0,
    width: 0,
    height: 0
  },
  buildPath: function(i, n) {
    var r = n.x, o = n.y, a = n.width / 5 * 3, u = Math.max(a, n.height), c = a / 2, f = c * c / (u - c), d = o - u + c + f, p = Math.asin(f / c), y = Math.cos(p) * c, v = Math.sin(p), g = Math.cos(p), _ = c * 0.6, b = c * 0.7;
    i.moveTo(r - y, d + f), i.arc(r, d, c, Math.PI - p, Math.PI * 2 + p), i.bezierCurveTo(r + y - v * _, d + f + g * _, r, o - b, r, o), i.bezierCurveTo(r, o - b, r - y + v * _, d + f + g * _, r - y, d + f), i.closePath();
  }
}), Arrow = Path$1.extend({
  type: "arrow",
  shape: {
    x: 0,
    y: 0,
    width: 0,
    height: 0
  },
  buildPath: function(i, n) {
    var r = n.height, o = n.width, a = n.x, u = n.y, c = o / 3 * 2;
    i.moveTo(a, u), i.lineTo(a + c, u + r), i.lineTo(a, u + r / 4 * 3), i.lineTo(a - c, u + r), i.lineTo(a, u), i.closePath();
  }
}), symbolCtors = {
  line: Line$1,
  rect: Rect$1,
  roundRect: Rect$1,
  square: Rect$1,
  circle: Circle$1,
  diamond: Diamond,
  pin: Pin,
  arrow: Arrow,
  triangle: Triangle
}, symbolShapeMakers = {
  line: function(i, n, r, o, a) {
    a.x1 = i, a.y1 = n + o / 2, a.x2 = i + r, a.y2 = n + o / 2;
  },
  rect: function(i, n, r, o, a) {
    a.x = i, a.y = n, a.width = r, a.height = o;
  },
  roundRect: function(i, n, r, o, a) {
    a.x = i, a.y = n, a.width = r, a.height = o, a.r = Math.min(r, o) / 4;
  },
  square: function(i, n, r, o, a) {
    var u = Math.min(r, o);
    a.x = i, a.y = n, a.width = u, a.height = u;
  },
  circle: function(i, n, r, o, a) {
    a.cx = i + r / 2, a.cy = n + o / 2, a.r = Math.min(r, o) / 2;
  },
  diamond: function(i, n, r, o, a) {
    a.cx = i + r / 2, a.cy = n + o / 2, a.width = r, a.height = o;
  },
  pin: function(i, n, r, o, a) {
    a.x = i + r / 2, a.y = n + o / 2, a.width = r, a.height = o;
  },
  arrow: function(i, n, r, o, a) {
    a.x = i + r / 2, a.y = n + o / 2, a.width = r, a.height = o;
  },
  triangle: function(i, n, r, o, a) {
    a.cx = i + r / 2, a.cy = n + o / 2, a.width = r, a.height = o;
  }
}, symbolBuildProxies = {};
each$4(symbolCtors, function(i, n) {
  symbolBuildProxies[n] = new i();
});
var SymbolClz = Path$1.extend({
  type: "symbol",
  shape: {
    symbolType: "",
    x: 0,
    y: 0,
    width: 0,
    height: 0
  },
  calculateTextPosition: function(i, n, r) {
    var o = calculateTextPosition(i, n, r), a = this.shape;
    return a && a.symbolType === "pin" && n.position === "inside" && (o.y = r.y + r.height * 0.4), o;
  },
  buildPath: function(i, n, r) {
    var o = n.symbolType;
    if (o !== "none") {
      var a = symbolBuildProxies[o];
      a || (o = "rect", a = symbolBuildProxies[o]), symbolShapeMakers[o](n.x, n.y, n.width, n.height, a.shape), a.buildPath(i, a.shape, r);
    }
  }
});
function symbolPathSetColor(i, n) {
  if (this.type !== "image") {
    var r = this.style;
    this.__isEmptyBrush ? (r.stroke = i, r.fill = n || "#fff", r.lineWidth = 2) : this.shape.symbolType === "line" ? r.stroke = i : r.fill = i, this.markRedraw();
  }
}
function createSymbol(i, n, r, o, a, u, c) {
  var f = i.indexOf("empty") === 0;
  f && (i = i.substr(5, 1).toLowerCase() + i.substr(6));
  var d;
  return i.indexOf("image://") === 0 ? d = makeImage(i.slice(8), new BoundingRect$1(n, r, o, a), c ? "center" : "cover") : i.indexOf("path://") === 0 ? d = makePath(i.slice(7), {}, new BoundingRect$1(n, r, o, a), c ? "center" : "cover") : d = new SymbolClz({
    shape: {
      symbolType: i,
      x: n,
      y: r,
      width: o,
      height: a
    }
  }), d.__isEmptyBrush = f, d.setColor = symbolPathSetColor, u && d.setColor(u), d;
}
function normalizeSymbolOffset(i, n) {
  if (i != null)
    return isArray$1(i) || (i = [i, i]), [parsePercent(i[0], n[0]) || 0, parsePercent(retrieve2(i[1], i[0]), n[1]) || 0];
}
function isSafeNum(i) {
  return isFinite(i);
}
function createLinearGradient(i, n, r) {
  var o = n.x == null ? 0 : n.x, a = n.x2 == null ? 1 : n.x2, u = n.y == null ? 0 : n.y, c = n.y2 == null ? 0 : n.y2;
  n.global || (o = o * r.width + r.x, a = a * r.width + r.x, u = u * r.height + r.y, c = c * r.height + r.y), o = isSafeNum(o) ? o : 0, a = isSafeNum(a) ? a : 1, u = isSafeNum(u) ? u : 0, c = isSafeNum(c) ? c : 0;
  var f = i.createLinearGradient(o, u, a, c);
  return f;
}
function createRadialGradient(i, n, r) {
  var o = r.width, a = r.height, u = Math.min(o, a), c = n.x == null ? 0.5 : n.x, f = n.y == null ? 0.5 : n.y, d = n.r == null ? 0.5 : n.r;
  n.global || (c = c * o + r.x, f = f * a + r.y, d = d * u), c = isSafeNum(c) ? c : 0.5, f = isSafeNum(f) ? f : 0.5, d = d >= 0 && isSafeNum(d) ? d : 0.5;
  var p = i.createRadialGradient(c, f, 0, c, f, d);
  return p;
}
function getCanvasGradient(i, n, r) {
  for (var o = n.type === "radial" ? createRadialGradient(i, n, r) : createLinearGradient(i, n, r), a = n.colorStops, u = 0; u < a.length; u++)
    o.addColorStop(a[u].offset, a[u].color);
  return o;
}
function isClipPathChanged(i, n) {
  if (i === n || !i && !n)
    return !1;
  if (!i || !n || i.length !== n.length)
    return !0;
  for (var r = 0; r < i.length; r++)
    if (i[r] !== n[r])
      return !0;
  return !1;
}
function parseInt10(i) {
  return parseInt(i, 10);
}
function getSize(i, n, r) {
  var o = ["width", "height"][n], a = ["clientWidth", "clientHeight"][n], u = ["paddingLeft", "paddingTop"][n], c = ["paddingRight", "paddingBottom"][n];
  if (r[o] != null && r[o] !== "auto")
    return parseFloat(r[o]);
  var f = document.defaultView.getComputedStyle(i);
  return (i[a] || parseInt10(f[o]) || parseInt10(i.style[o])) - (parseInt10(f[u]) || 0) - (parseInt10(f[c]) || 0) | 0;
}
function normalizeLineDash(i, n) {
  return !i || i === "solid" || !(n > 0) ? null : i === "dashed" ? [4 * n, 2 * n] : i === "dotted" ? [n] : isNumber$1(i) ? [i] : isArray$1(i) ? i : null;
}
function getLineDash(i) {
  var n = i.style, r = n.lineDash && n.lineWidth > 0 && normalizeLineDash(n.lineDash, n.lineWidth), o = n.lineDashOffset;
  if (r) {
    var a = n.strokeNoScale && i.getLineScale ? i.getLineScale() : 1;
    a && a !== 1 && (r = map$1(r, function(u) {
      return u / a;
    }), o /= a);
  }
  return [r, o];
}
var pathProxyForDraw = new PathProxy$1(!0);
function styleHasStroke(i) {
  var n = i.stroke;
  return !(n == null || n === "none" || !(i.lineWidth > 0));
}
function isValidStrokeFillStyle(i) {
  return typeof i == "string" && i !== "none";
}
function styleHasFill(i) {
  var n = i.fill;
  return n != null && n !== "none";
}
function doFillPath(i, n) {
  if (n.fillOpacity != null && n.fillOpacity !== 1) {
    var r = i.globalAlpha;
    i.globalAlpha = n.fillOpacity * n.opacity, i.fill(), i.globalAlpha = r;
  } else
    i.fill();
}
function doStrokePath(i, n) {
  if (n.strokeOpacity != null && n.strokeOpacity !== 1) {
    var r = i.globalAlpha;
    i.globalAlpha = n.strokeOpacity * n.opacity, i.stroke(), i.globalAlpha = r;
  } else
    i.stroke();
}
function createCanvasPattern(i, n, r) {
  var o = createOrUpdateImage(n.image, n.__image, r);
  if (isImageReady(o)) {
    var a = i.createPattern(o, n.repeat || "repeat");
    if (typeof DOMMatrix == "function" && a && a.setTransform) {
      var u = new DOMMatrix();
      u.translateSelf(n.x || 0, n.y || 0), u.rotateSelf(0, 0, (n.rotation || 0) * RADIAN_TO_DEGREE), u.scaleSelf(n.scaleX || 1, n.scaleY || 1), a.setTransform(u);
    }
    return a;
  }
}
function brushPath(i, n, r, o) {
  var a, u = styleHasStroke(r), c = styleHasFill(r), f = r.strokePercent, d = f < 1, p = !n.path;
  (!n.silent || d) && p && n.createPathProxy();
  var y = n.path || pathProxyForDraw, v = n.__dirty;
  if (!o) {
    var g = r.fill, _ = r.stroke, b = c && !!g.colorStops, A = u && !!_.colorStops, w = c && !!g.image, S = u && !!_.image, T = void 0, x = void 0, L = void 0, k = void 0, M = void 0;
    (b || A) && (M = n.getBoundingRect()), b && (T = v ? getCanvasGradient(i, g, M) : n.__canvasFillGradient, n.__canvasFillGradient = T), A && (x = v ? getCanvasGradient(i, _, M) : n.__canvasStrokeGradient, n.__canvasStrokeGradient = x), w && (L = v || !n.__canvasFillPattern ? createCanvasPattern(i, g, n) : n.__canvasFillPattern, n.__canvasFillPattern = L), S && (k = v || !n.__canvasStrokePattern ? createCanvasPattern(i, _, n) : n.__canvasStrokePattern, n.__canvasStrokePattern = L), b ? i.fillStyle = T : w && (L ? i.fillStyle = L : c = !1), A ? i.strokeStyle = x : S && (k ? i.strokeStyle = k : u = !1);
  }
  var O = n.getGlobalScale();
  y.setScale(O[0], O[1], n.segmentIgnoreThreshold);
  var ie, F;
  i.setLineDash && r.lineDash && (a = getLineDash(n), ie = a[0], F = a[1]);
  var j = !0;
  (p || v & SHAPE_CHANGED_BIT) && (y.setDPR(i.dpr), d ? y.setContext(null) : (y.setContext(i), j = !1), y.reset(), n.buildPath(y, n.shape, o), y.toStatic(), n.pathUpdated()), j && y.rebuildPath(i, d ? f : 1), ie && (i.setLineDash(ie), i.lineDashOffset = F), o || (r.strokeFirst ? (u && doStrokePath(i, r), c && doFillPath(i, r)) : (c && doFillPath(i, r), u && doStrokePath(i, r))), ie && i.setLineDash([]);
}
function brushImage(i, n, r) {
  var o = n.__image = createOrUpdateImage(r.image, n.__image, n, n.onload);
  if (!(!o || !isImageReady(o))) {
    var a = r.x || 0, u = r.y || 0, c = n.getWidth(), f = n.getHeight(), d = o.width / o.height;
    if (c == null && f != null ? c = f * d : f == null && c != null ? f = c / d : c == null && f == null && (c = o.width, f = o.height), r.sWidth && r.sHeight) {
      var p = r.sx || 0, y = r.sy || 0;
      i.drawImage(o, p, y, r.sWidth, r.sHeight, a, u, c, f);
    } else if (r.sx && r.sy) {
      var p = r.sx, y = r.sy, v = c - p, g = f - y;
      i.drawImage(o, p, y, v, g, a, u, c, f);
    } else
      i.drawImage(o, a, u, c, f);
  }
}
function brushText(i, n, r) {
  var o, a = r.text;
  if (a != null && (a += ""), a) {
    i.font = r.font || DEFAULT_FONT, i.textAlign = r.textAlign, i.textBaseline = r.textBaseline;
    var u = void 0, c = void 0;
    i.setLineDash && r.lineDash && (o = getLineDash(n), u = o[0], c = o[1]), u && (i.setLineDash(u), i.lineDashOffset = c), r.strokeFirst ? (styleHasStroke(r) && i.strokeText(a, r.x, r.y), styleHasFill(r) && i.fillText(a, r.x, r.y)) : (styleHasFill(r) && i.fillText(a, r.x, r.y), styleHasStroke(r) && i.strokeText(a, r.x, r.y)), u && i.setLineDash([]);
  }
}
var SHADOW_NUMBER_PROPS = ["shadowBlur", "shadowOffsetX", "shadowOffsetY"], STROKE_PROPS = [
  ["lineCap", "butt"],
  ["lineJoin", "miter"],
  ["miterLimit", 10]
];
function bindCommonProps(i, n, r, o, a) {
  var u = !1;
  if (!o && (r = r || {}, n === r))
    return !1;
  if (o || n.opacity !== r.opacity) {
    flushPathDrawn(i, a), u = !0;
    var c = Math.max(Math.min(n.opacity, 1), 0);
    i.globalAlpha = isNaN(c) ? DEFAULT_COMMON_STYLE.opacity : c;
  }
  (o || n.blend !== r.blend) && (u || (flushPathDrawn(i, a), u = !0), i.globalCompositeOperation = n.blend || DEFAULT_COMMON_STYLE.blend);
  for (var f = 0; f < SHADOW_NUMBER_PROPS.length; f++) {
    var d = SHADOW_NUMBER_PROPS[f];
    (o || n[d] !== r[d]) && (u || (flushPathDrawn(i, a), u = !0), i[d] = i.dpr * (n[d] || 0));
  }
  return (o || n.shadowColor !== r.shadowColor) && (u || (flushPathDrawn(i, a), u = !0), i.shadowColor = n.shadowColor || DEFAULT_COMMON_STYLE.shadowColor), u;
}
function bindPathAndTextCommonStyle(i, n, r, o, a) {
  var u = getStyle(n, a.inHover), c = o ? null : r && getStyle(r, a.inHover) || {};
  if (u === c)
    return !1;
  var f = bindCommonProps(i, u, c, o, a);
  if ((o || u.fill !== c.fill) && (f || (flushPathDrawn(i, a), f = !0), isValidStrokeFillStyle(u.fill) && (i.fillStyle = u.fill)), (o || u.stroke !== c.stroke) && (f || (flushPathDrawn(i, a), f = !0), isValidStrokeFillStyle(u.stroke) && (i.strokeStyle = u.stroke)), (o || u.opacity !== c.opacity) && (f || (flushPathDrawn(i, a), f = !0), i.globalAlpha = u.opacity == null ? 1 : u.opacity), n.hasStroke()) {
    var d = u.lineWidth, p = d / (u.strokeNoScale && n.getLineScale ? n.getLineScale() : 1);
    i.lineWidth !== p && (f || (flushPathDrawn(i, a), f = !0), i.lineWidth = p);
  }
  for (var y = 0; y < STROKE_PROPS.length; y++) {
    var v = STROKE_PROPS[y], g = v[0];
    (o || u[g] !== c[g]) && (f || (flushPathDrawn(i, a), f = !0), i[g] = u[g] || v[1]);
  }
  return f;
}
function bindImageStyle(i, n, r, o, a) {
  return bindCommonProps(i, getStyle(n, a.inHover), r && getStyle(r, a.inHover), o, a);
}
function setContextTransform(i, n) {
  var r = n.transform, o = i.dpr || 1;
  r ? i.setTransform(o * r[0], o * r[1], o * r[2], o * r[3], o * r[4], o * r[5]) : i.setTransform(o, 0, 0, o, 0, 0);
}
function updateClipStatus(i, n, r) {
  for (var o = !1, a = 0; a < i.length; a++) {
    var u = i[a];
    o = o || u.isZeroArea(), setContextTransform(n, u), n.beginPath(), u.buildPath(n, u.shape), n.clip();
  }
  r.allClipped = o;
}
function isTransformChanged(i, n) {
  return i && n ? i[0] !== n[0] || i[1] !== n[1] || i[2] !== n[2] || i[3] !== n[3] || i[4] !== n[4] || i[5] !== n[5] : !(!i && !n);
}
var DRAW_TYPE_PATH = 1, DRAW_TYPE_IMAGE = 2, DRAW_TYPE_TEXT = 3, DRAW_TYPE_INCREMENTAL = 4;
function canPathBatch(i) {
  var n = styleHasFill(i), r = styleHasStroke(i);
  return !(i.lineDash || !(+n ^ +r) || n && typeof i.fill != "string" || r && typeof i.stroke != "string" || i.strokePercent < 1 || i.strokeOpacity < 1 || i.fillOpacity < 1);
}
function flushPathDrawn(i, n) {
  n.batchFill && i.fill(), n.batchStroke && i.stroke(), n.batchFill = "", n.batchStroke = "";
}
function getStyle(i, n) {
  return n && i.__hoverStyle || i.style;
}
function brushSingle(i, n) {
  brush$1(i, n, { inHover: !1, viewWidth: 0, viewHeight: 0 }, !0);
}
function brush$1(i, n, r, o) {
  var a = n.transform;
  if (!n.shouldBePainted(r.viewWidth, r.viewHeight, !1, !1)) {
    n.__dirty &= ~REDRAW_BIT, n.__isRendered = !1;
    return;
  }
  var u = n.__clipPaths, c = r.prevElClipPaths, f = !1, d = !1;
  if ((!c || isClipPathChanged(u, c)) && (c && c.length && (flushPathDrawn(i, r), i.restore(), d = f = !0, r.prevElClipPaths = null, r.allClipped = !1, r.prevEl = null), u && u.length && (flushPathDrawn(i, r), i.save(), updateClipStatus(u, i, r), f = !0), r.prevElClipPaths = u), r.allClipped) {
    n.__isRendered = !1;
    return;
  }
  n.beforeBrush && n.beforeBrush(), n.innerBeforeBrush();
  var p = r.prevEl;
  p || (d = f = !0);
  var y = n instanceof Path$1 && n.autoBatch && canPathBatch(n.style);
  f || isTransformChanged(a, p.transform) ? (flushPathDrawn(i, r), setContextTransform(i, n)) : y || flushPathDrawn(i, r);
  var v = getStyle(n, r.inHover);
  n instanceof Path$1 ? (r.lastDrawType !== DRAW_TYPE_PATH && (d = !0, r.lastDrawType = DRAW_TYPE_PATH), bindPathAndTextCommonStyle(i, n, p, d, r), (!y || !r.batchFill && !r.batchStroke) && i.beginPath(), brushPath(i, n, v, y), y && (r.batchFill = v.fill || "", r.batchStroke = v.stroke || "")) : n instanceof TSpan$1 ? (r.lastDrawType !== DRAW_TYPE_TEXT && (d = !0, r.lastDrawType = DRAW_TYPE_TEXT), bindPathAndTextCommonStyle(i, n, p, d, r), brushText(i, n, v)) : n instanceof ZRImage$1 ? (r.lastDrawType !== DRAW_TYPE_IMAGE && (d = !0, r.lastDrawType = DRAW_TYPE_IMAGE), bindImageStyle(i, n, p, d, r), brushImage(i, n, v)) : n.getTemporalDisplayables && (r.lastDrawType !== DRAW_TYPE_INCREMENTAL && (d = !0, r.lastDrawType = DRAW_TYPE_INCREMENTAL), brushIncremental(i, n, r)), y && o && flushPathDrawn(i, r), n.innerAfterBrush(), n.afterBrush && n.afterBrush(), r.prevEl = n, n.__dirty = 0, n.__isRendered = !0;
}
function brushIncremental(i, n, r) {
  var o = n.getDisplayables(), a = n.getTemporalDisplayables();
  i.save();
  var u = {
    prevElClipPaths: null,
    prevEl: null,
    allClipped: !1,
    viewWidth: r.viewWidth,
    viewHeight: r.viewHeight,
    inHover: r.inHover
  }, c, f;
  for (c = n.getCursor(), f = o.length; c < f; c++) {
    var d = o[c];
    d.beforeBrush && d.beforeBrush(), d.innerBeforeBrush(), brush$1(i, d, u, c === f - 1), d.innerAfterBrush(), d.afterBrush && d.afterBrush(), u.prevEl = d;
  }
  for (var p = 0, y = a.length; p < y; p++) {
    var d = a[p];
    d.beforeBrush && d.beforeBrush(), d.innerBeforeBrush(), brush$1(i, d, u, p === y - 1), d.innerAfterBrush(), d.afterBrush && d.afterBrush(), u.prevEl = d;
  }
  n.clearTemporalDisplayables(), n.notClear = !0, i.restore();
}
var decalMap = new WeakMap$2(), decalCache = new LRU$1(100), decalKeys = ["symbol", "symbolSize", "symbolKeepAspect", "color", "backgroundColor", "dashArrayX", "dashArrayY", "maxTileWidth", "maxTileHeight"];
function createOrUpdatePatternFromDecal(i, n) {
  if (i === "none")
    return null;
  var r = n.getDevicePixelRatio(), o = n.getZr(), a = o.painter.type === "svg";
  i.dirty && decalMap.delete(i);
  var u = decalMap.get(i);
  if (u)
    return u;
  var c = defaults(i, {
    symbol: "rect",
    symbolSize: 1,
    symbolKeepAspect: !0,
    color: "rgba(0, 0, 0, 0.2)",
    backgroundColor: null,
    dashArrayX: 5,
    dashArrayY: 5,
    rotation: 0,
    maxTileWidth: 512,
    maxTileHeight: 512
  });
  c.backgroundColor === "none" && (c.backgroundColor = null);
  var f = {
    repeat: "repeat"
  };
  return d(f), f.rotation = c.rotation, f.scaleX = f.scaleY = a ? 1 : 1 / r, decalMap.set(i, f), i.dirty = !1, f;
  function d(p) {
    for (var y = [r], v = !0, g = 0; g < decalKeys.length; ++g) {
      var _ = c[decalKeys[g]];
      if (_ != null && !isArray$1(_) && !isString$2(_) && !isNumber$1(_) && typeof _ != "boolean") {
        v = !1;
        break;
      }
      y.push(_);
    }
    var b;
    if (v) {
      b = y.join(",") + (a ? "-svg" : "");
      var A = decalCache.get(b);
      A && (a ? p.svgElement = A : p.image = A);
    }
    var w = normalizeDashArrayX(c.dashArrayX), S = normalizeDashArrayY(c.dashArrayY), T = normalizeSymbolArray(c.symbol), x = getLineBlockLengthX(w), L = getLineBlockLengthY(S), k = !a && platformApi.createCanvas(), M = a && {
      tag: "g",
      attrs: {},
      key: "dcl",
      children: []
    }, O = F(), ie;
    k && (k.width = O.width * r, k.height = O.height * r, ie = k.getContext("2d")), j(), v && decalCache.put(b, k || M), p.image = k, p.svgElement = M, p.svgWidth = O.width, p.svgHeight = O.height;
    function F() {
      for (var D = 1, Y = 0, z = x.length; Y < z; ++Y)
        D = getLeastCommonMultiple(D, x[Y]);
      for (var Ie = 1, Y = 0, z = T.length; Y < z; ++Y)
        Ie = getLeastCommonMultiple(Ie, T[Y].length);
      D *= Ie;
      var ue = L * x.length * T.length;
      if (process.env.NODE_ENV !== "production") {
        var Ce = function(pe) {
          console.warn("Calculated decal size is greater than " + pe + " due to decal option settings so " + pe + " is used for the decal size. Please consider changing the decal option to make a smaller decal or set " + pe + " to be larger to avoid incontinuity.");
        };
        D > c.maxTileWidth && Ce("maxTileWidth"), ue > c.maxTileHeight && Ce("maxTileHeight");
      }
      return {
        width: Math.max(1, Math.min(D, c.maxTileWidth)),
        height: Math.max(1, Math.min(ue, c.maxTileHeight))
      };
    }
    function j() {
      ie && (ie.clearRect(0, 0, k.width, k.height), c.backgroundColor && (ie.fillStyle = c.backgroundColor, ie.fillRect(0, 0, k.width, k.height)));
      for (var D = 0, Y = 0; Y < S.length; ++Y)
        D += S[Y];
      if (D <= 0)
        return;
      for (var z = -L, Ie = 0, ue = 0, Ce = 0; z < O.height; ) {
        if (Ie % 2 === 0) {
          for (var pe = ue / 2 % T.length, Ne = 0, xe = 0, hn = 0; Ne < O.width * 2; ) {
            for (var Pt = 0, Y = 0; Y < w[Ce].length; ++Y)
              Pt += w[Ce][Y];
            if (Pt <= 0)
              break;
            if (xe % 2 === 0) {
              var _n = (1 - c.symbolSize) * 0.5, In = Ne + w[Ce][xe] * _n, Dt = z + S[Ie] * _n, he = w[Ce][xe] * c.symbolSize, At = S[Ie] * c.symbolSize, Lt = hn / 2 % T[pe].length;
              Cn(In, Dt, he, At, T[pe][Lt]);
            }
            Ne += w[Ce][xe], ++hn, ++xe, xe === w[Ce].length && (xe = 0);
          }
          ++Ce, Ce === w.length && (Ce = 0);
        }
        z += S[Ie], ++ue, ++Ie, Ie === S.length && (Ie = 0);
      }
      function Cn(ze, _e, de, Et, Ve) {
        var $e = a ? 1 : r, kt = createSymbol(Ve, ze * $e, _e * $e, de * $e, Et * $e, c.color, c.symbolKeepAspect);
        if (a) {
          var jt = o.painter.renderOneToVNode(kt);
          jt && M.children.push(jt);
        } else
          brushSingle(ie, kt);
      }
    }
  }
}
function normalizeSymbolArray(i) {
  if (!i || i.length === 0)
    return [["rect"]];
  if (isString$2(i))
    return [[i]];
  for (var n = !0, r = 0; r < i.length; ++r)
    if (!isString$2(i[r])) {
      n = !1;
      break;
    }
  if (n)
    return normalizeSymbolArray([i]);
  for (var o = [], r = 0; r < i.length; ++r)
    isString$2(i[r]) ? o.push([i[r]]) : o.push(i[r]);
  return o;
}
function normalizeDashArrayX(i) {
  if (!i || i.length === 0)
    return [[0, 0]];
  if (isNumber$1(i)) {
    var n = Math.ceil(i);
    return [[n, n]];
  }
  for (var r = !0, o = 0; o < i.length; ++o)
    if (!isNumber$1(i[o])) {
      r = !1;
      break;
    }
  if (r)
    return normalizeDashArrayX([i]);
  for (var a = [], o = 0; o < i.length; ++o)
    if (isNumber$1(i[o])) {
      var n = Math.ceil(i[o]);
      a.push([n, n]);
    } else {
      var n = map$1(i[o], function(f) {
        return Math.ceil(f);
      });
      n.length % 2 === 1 ? a.push(n.concat(n)) : a.push(n);
    }
  return a;
}
function normalizeDashArrayY(i) {
  if (!i || typeof i == "object" && i.length === 0)
    return [0, 0];
  if (isNumber$1(i)) {
    var n = Math.ceil(i);
    return [n, n];
  }
  var r = map$1(i, function(o) {
    return Math.ceil(o);
  });
  return i.length % 2 ? r.concat(r) : r;
}
function getLineBlockLengthX(i) {
  return map$1(i, function(n) {
    return getLineBlockLengthY(n);
  });
}
function getLineBlockLengthY(i) {
  for (var n = 0, r = 0; r < i.length; ++r)
    n += i[r];
  return i.length % 2 === 1 ? n * 2 : n;
}
function decalVisual(i, n) {
  i.eachRawSeries(function(r) {
    if (!i.isSeriesFiltered(r)) {
      var o = r.getData();
      o.hasItemVisual() && o.each(function(c) {
        var f = o.getItemVisual(c, "decal");
        if (f) {
          var d = o.ensureUniqueItemVisual(c, "style");
          d.decal = createOrUpdatePatternFromDecal(f, n);
        }
      });
      var a = o.getVisual("decal");
      if (a) {
        var u = o.getVisual("style");
        u.decal = createOrUpdatePatternFromDecal(a, n);
      }
    }
  });
}
var lifecycle = new Eventful$1();
const lifecycle$1 = lifecycle;
var implsStore = {};
function registerImpl(i, n) {
  process.env.NODE_ENV !== "production" && implsStore[i] && error("Already has an implementation of " + i + "."), implsStore[i] = n;
}
function getImpl(i) {
  return process.env.NODE_ENV !== "production" && (implsStore[i] || error("Implementation of " + i + " doesn't exists.")), implsStore[i];
}
var TEST_FRAME_REMAIN_TIME = 1, PRIORITY_PROCESSOR_SERIES_FILTER = 800, PRIORITY_PROCESSOR_DATASTACK = 900, PRIORITY_PROCESSOR_FILTER = 1e3, PRIORITY_PROCESSOR_DEFAULT = 2e3, PRIORITY_PROCESSOR_STATISTIC = 5e3, PRIORITY_VISUAL_LAYOUT = 1e3, PRIORITY_VISUAL_PROGRESSIVE_LAYOUT = 1100, PRIORITY_VISUAL_GLOBAL = 2e3, PRIORITY_VISUAL_CHART = 3e3, PRIORITY_VISUAL_COMPONENT = 4e3, PRIORITY_VISUAL_CHART_DATA_CUSTOM = 4500, PRIORITY_VISUAL_POST_CHART_LAYOUT = 4600, PRIORITY_VISUAL_BRUSH = 5e3, PRIORITY_VISUAL_ARIA = 6e3, PRIORITY_VISUAL_DECAL = 7e3, PRIORITY = {
  PROCESSOR: {
    FILTER: PRIORITY_PROCESSOR_FILTER,
    SERIES_FILTER: PRIORITY_PROCESSOR_SERIES_FILTER,
    STATISTIC: PRIORITY_PROCESSOR_STATISTIC
  },
  VISUAL: {
    LAYOUT: PRIORITY_VISUAL_LAYOUT,
    PROGRESSIVE_LAYOUT: PRIORITY_VISUAL_PROGRESSIVE_LAYOUT,
    GLOBAL: PRIORITY_VISUAL_GLOBAL,
    CHART: PRIORITY_VISUAL_CHART,
    POST_CHART_LAYOUT: PRIORITY_VISUAL_POST_CHART_LAYOUT,
    COMPONENT: PRIORITY_VISUAL_COMPONENT,
    BRUSH: PRIORITY_VISUAL_BRUSH,
    CHART_ITEM: PRIORITY_VISUAL_CHART_DATA_CUSTOM,
    ARIA: PRIORITY_VISUAL_ARIA,
    DECAL: PRIORITY_VISUAL_DECAL
  }
}, IN_MAIN_PROCESS_KEY = "__flagInMainProcess", PENDING_UPDATE = "__pendingUpdate", STATUS_NEEDS_UPDATE_KEY = "__needsUpdateStatus", ACTION_REG = /^[a-zA-Z0-9_]+$/;
function createRegisterEventWithLowercaseECharts(i) {
  return function() {
    for (var n = [], r = 0; r < arguments.length; r++)
      n[r] = arguments[r];
    if (this.isDisposed()) {
      disposedWarning(this.id);
      return;
    }
    return toLowercaseNameAndCallEventful(this, i, n);
  };
}
function createRegisterEventWithLowercaseMessageCenter(i) {
  return function() {
    for (var n = [], r = 0; r < arguments.length; r++)
      n[r] = arguments[r];
    return toLowercaseNameAndCallEventful(this, i, n);
  };
}
function toLowercaseNameAndCallEventful(i, n, r) {
  return r[0] = r[0] && r[0].toLowerCase(), Eventful$1.prototype[n].apply(i, r);
}
var MessageCenter = (
  /** @class */
  function(i) {
    __extends(n, i);
    function n() {
      return i !== null && i.apply(this, arguments) || this;
    }
    return n;
  }(Eventful$1)
), messageCenterProto = MessageCenter.prototype;
messageCenterProto.on = createRegisterEventWithLowercaseMessageCenter("on");
messageCenterProto.off = createRegisterEventWithLowercaseMessageCenter("off");
var prepare, prepareView, updateDirectly, updateMethods, doConvertPixel, updateStreamModes, doDispatchAction, flushPendingActions, triggerUpdatedEvent, bindRenderedEvent, bindMouseEvent, render, renderComponents, renderSeries, createExtensionAPI, markStatusToUpdate, applyChangedStates, ECharts = (
  /** @class */
  function(i) {
    __extends(n, i);
    function n(r, o, a) {
      var u = i.call(this, new ECEventProcessor()) || this;
      u._chartsViews = [], u._chartsMap = {}, u._componentsViews = [], u._componentsMap = {}, u._pendingActions = [], a = a || {}, isString$2(o) && (o = themeStorage[o]), u._dom = r;
      var c = "canvas", f = "auto", d = !1;
      if (process.env.NODE_ENV !== "production") {
        var p = (
          /* eslint-disable-next-line */
          env$1.hasGlobalWindow ? window : global
        );
        c = p.__ECHARTS__DEFAULT__RENDERER__ || c, f = retrieve2(p.__ECHARTS__DEFAULT__COARSE_POINTER, f);
        var y = p.__ECHARTS__DEFAULT__USE_DIRTY_RECT__;
        d = y ?? d;
      }
      var v = u._zr = init(r, {
        renderer: a.renderer || c,
        devicePixelRatio: a.devicePixelRatio,
        width: a.width,
        height: a.height,
        ssr: a.ssr,
        useDirtyRect: retrieve2(a.useDirtyRect, d),
        useCoarsePointer: retrieve2(a.useCoarsePointer, f),
        pointerSize: a.pointerSize
      });
      u._ssr = a.ssr, u._throttledZrFlush = throttle$1(bind$1(v.flush, v), 17), o = clone$2(o), o && globalBackwardCompat(o, !0), u._theme = o, u._locale = createLocaleObject(a.locale || SYSTEM_LANG), u._coordSysMgr = new CoordinateSystem();
      var g = u._api = createExtensionAPI(u);
      function _(b, A) {
        return b.__prio - A.__prio;
      }
      return sort(visualFuncs, _), sort(dataProcessorFuncs, _), u._scheduler = new Scheduler$1(u, g, dataProcessorFuncs, visualFuncs), u._messageCenter = new MessageCenter(), u._initEvents(), u.resize = bind$1(u.resize, u), v.animation.on("frame", u._onframe, u), bindRenderedEvent(v, u), bindMouseEvent(v, u), setAsPrimitive(u), u;
    }
    return n.prototype._onframe = function() {
      if (!this._disposed) {
        applyChangedStates(this);
        var r = this._scheduler;
        if (this[PENDING_UPDATE]) {
          var o = this[PENDING_UPDATE].silent;
          this[IN_MAIN_PROCESS_KEY] = !0;
          try {
            prepare(this), updateMethods.update.call(this, null, this[PENDING_UPDATE].updateParams);
          } catch (d) {
            throw this[IN_MAIN_PROCESS_KEY] = !1, this[PENDING_UPDATE] = null, d;
          }
          this._zr.flush(), this[IN_MAIN_PROCESS_KEY] = !1, this[PENDING_UPDATE] = null, flushPendingActions.call(this, o), triggerUpdatedEvent.call(this, o);
        } else if (r.unfinished) {
          var a = TEST_FRAME_REMAIN_TIME, u = this._model, c = this._api;
          r.unfinished = !1;
          do {
            var f = +/* @__PURE__ */ new Date();
            r.performSeriesTasks(u), r.performDataProcessorTasks(u), updateStreamModes(this, u), r.performVisualTasks(u), renderSeries(this, this._model, c, "remain", {}), a -= +/* @__PURE__ */ new Date() - f;
          } while (a > 0 && r.unfinished);
          r.unfinished || this._zr.flush();
        }
      }
    }, n.prototype.getDom = function() {
      return this._dom;
    }, n.prototype.getId = function() {
      return this.id;
    }, n.prototype.getZr = function() {
      return this._zr;
    }, n.prototype.isSSR = function() {
      return this._ssr;
    }, n.prototype.setOption = function(r, o, a) {
      if (this[IN_MAIN_PROCESS_KEY]) {
        process.env.NODE_ENV !== "production" && error("`setOption` should not be called during main process.");
        return;
      }
      if (this._disposed) {
        disposedWarning(this.id);
        return;
      }
      var u, c, f;
      if (isObject$3(o) && (a = o.lazyUpdate, u = o.silent, c = o.replaceMerge, f = o.transition, o = o.notMerge), this[IN_MAIN_PROCESS_KEY] = !0, !this._model || o) {
        var d = new OptionManager$1(this._api), p = this._theme, y = this._model = new GlobalModel$1();
        y.scheduler = this._scheduler, y.ssr = this._ssr, y.init(null, null, null, p, this._locale, d);
      }
      this._model.setOption(r, {
        replaceMerge: c
      }, optionPreprocessorFuncs);
      var v = {
        seriesTransition: f,
        optionChanged: !0
      };
      if (a)
        this[PENDING_UPDATE] = {
          silent: u,
          updateParams: v
        }, this[IN_MAIN_PROCESS_KEY] = !1, this.getZr().wakeUp();
      else {
        try {
          prepare(this), updateMethods.update.call(this, null, v);
        } catch (g) {
          throw this[PENDING_UPDATE] = null, this[IN_MAIN_PROCESS_KEY] = !1, g;
        }
        this._ssr || this._zr.flush(), this[PENDING_UPDATE] = null, this[IN_MAIN_PROCESS_KEY] = !1, flushPendingActions.call(this, u), triggerUpdatedEvent.call(this, u);
      }
    }, n.prototype.setTheme = function() {
      deprecateLog("ECharts#setTheme() is DEPRECATED in ECharts 3.0");
    }, n.prototype.getModel = function() {
      return this._model;
    }, n.prototype.getOption = function() {
      return this._model && this._model.getOption();
    }, n.prototype.getWidth = function() {
      return this._zr.getWidth();
    }, n.prototype.getHeight = function() {
      return this._zr.getHeight();
    }, n.prototype.getDevicePixelRatio = function() {
      return this._zr.painter.dpr || env$1.hasGlobalWindow && window.devicePixelRatio || 1;
    }, n.prototype.getRenderedCanvas = function(r) {
      return process.env.NODE_ENV !== "production" && deprecateReplaceLog("getRenderedCanvas", "renderToCanvas"), this.renderToCanvas(r);
    }, n.prototype.renderToCanvas = function(r) {
      r = r || {};
      var o = this._zr.painter;
      if (process.env.NODE_ENV !== "production" && o.type !== "canvas")
        throw new Error("renderToCanvas can only be used in the canvas renderer.");
      return o.getRenderedCanvas({
        backgroundColor: r.backgroundColor || this._model.get("backgroundColor"),
        pixelRatio: r.pixelRatio || this.getDevicePixelRatio()
      });
    }, n.prototype.renderToSVGString = function(r) {
      r = r || {};
      var o = this._zr.painter;
      if (process.env.NODE_ENV !== "production" && o.type !== "svg")
        throw new Error("renderToSVGString can only be used in the svg renderer.");
      return o.renderToString({
        useViewBox: r.useViewBox
      });
    }, n.prototype.getSvgDataURL = function() {
      if (env$1.svgSupported) {
        var r = this._zr, o = r.storage.getDisplayList();
        return each$4(o, function(a) {
          a.stopAnimation(null, !0);
        }), r.painter.toDataURL();
      }
    }, n.prototype.getDataURL = function(r) {
      if (this._disposed) {
        disposedWarning(this.id);
        return;
      }
      r = r || {};
      var o = r.excludeComponents, a = this._model, u = [], c = this;
      each$4(o, function(d) {
        a.eachComponent({
          mainType: d
        }, function(p) {
          var y = c._componentsMap[p.__viewId];
          y.group.ignore || (u.push(y), y.group.ignore = !0);
        });
      });
      var f = this._zr.painter.getType() === "svg" ? this.getSvgDataURL() : this.renderToCanvas(r).toDataURL("image/" + (r && r.type || "png"));
      return each$4(u, function(d) {
        d.group.ignore = !1;
      }), f;
    }, n.prototype.getConnectedDataURL = function(r) {
      if (this._disposed) {
        disposedWarning(this.id);
        return;
      }
      var o = r.type === "svg", a = this.group, u = Math.min, c = Math.max, f = 1 / 0;
      if (connectedGroups[a]) {
        var d = f, p = f, y = -f, v = -f, g = [], _ = r && r.pixelRatio || this.getDevicePixelRatio();
        each$4(instances, function(x, L) {
          if (x.group === a) {
            var k = o ? x.getZr().painter.getSvgDom().innerHTML : x.renderToCanvas(clone$2(r)), M = x.getDom().getBoundingClientRect();
            d = u(M.left, d), p = u(M.top, p), y = c(M.right, y), v = c(M.bottom, v), g.push({
              dom: k,
              left: M.left,
              top: M.top
            });
          }
        }), d *= _, p *= _, y *= _, v *= _;
        var b = y - d, A = v - p, w = platformApi.createCanvas(), S = init(w, {
          renderer: o ? "svg" : "canvas"
        });
        if (S.resize({
          width: b,
          height: A
        }), o) {
          var T = "";
          return each$4(g, function(x) {
            var L = x.left - d, k = x.top - p;
            T += '<g transform="translate(' + L + "," + k + ')">' + x.dom + "</g>";
          }), S.painter.getSvgRoot().innerHTML = T, r.connectedBackgroundColor && S.painter.setBackgroundColor(r.connectedBackgroundColor), S.refreshImmediately(), S.painter.toDataURL();
        } else
          return r.connectedBackgroundColor && S.add(new Rect$1({
            shape: {
              x: 0,
              y: 0,
              width: b,
              height: A
            },
            style: {
              fill: r.connectedBackgroundColor
            }
          })), each$4(g, function(x) {
            var L = new ZRImage$1({
              style: {
                x: x.left * _ - d,
                y: x.top * _ - p,
                image: x.dom
              }
            });
            S.add(L);
          }), S.refreshImmediately(), w.toDataURL("image/" + (r && r.type || "png"));
      } else
        return this.getDataURL(r);
    }, n.prototype.convertToPixel = function(r, o) {
      return doConvertPixel(this, "convertToPixel", r, o);
    }, n.prototype.convertFromPixel = function(r, o) {
      return doConvertPixel(this, "convertFromPixel", r, o);
    }, n.prototype.containPixel = function(r, o) {
      if (this._disposed) {
        disposedWarning(this.id);
        return;
      }
      var a = this._model, u, c = parseFinder(a, r);
      return each$4(c, function(f, d) {
        d.indexOf("Models") >= 0 && each$4(f, function(p) {
          var y = p.coordinateSystem;
          if (y && y.containPoint)
            u = u || !!y.containPoint(o);
          else if (d === "seriesModels") {
            var v = this._chartsMap[p.__viewId];
            v && v.containPoint ? u = u || v.containPoint(o, p) : process.env.NODE_ENV !== "production" && warn(d + ": " + (v ? "The found component do not support containPoint." : "No view mapping to the found component."));
          } else
            process.env.NODE_ENV !== "production" && warn(d + ": containPoint is not supported");
        }, this);
      }, this), !!u;
    }, n.prototype.getVisual = function(r, o) {
      var a = this._model, u = parseFinder(a, r, {
        defaultMainType: "series"
      }), c = u.seriesModel;
      process.env.NODE_ENV !== "production" && (c || warn("There is no specified series model"));
      var f = c.getData(), d = u.hasOwnProperty("dataIndexInside") ? u.dataIndexInside : u.hasOwnProperty("dataIndex") ? f.indexOfRawIndex(u.dataIndex) : null;
      return d != null ? getItemVisualFromData(f, d, o) : getVisualFromData(f, o);
    }, n.prototype.getViewOfComponentModel = function(r) {
      return this._componentsMap[r.__viewId];
    }, n.prototype.getViewOfSeriesModel = function(r) {
      return this._chartsMap[r.__viewId];
    }, n.prototype._initEvents = function() {
      var r = this;
      each$4(MOUSE_EVENT_NAMES, function(o) {
        var a = function(u) {
          var c = r.getModel(), f = u.target, d, p = o === "globalout";
          if (p ? d = {} : f && findEventDispatcher(f, function(b) {
            var A = getECData(b);
            if (A && A.dataIndex != null) {
              var w = A.dataModel || c.getSeriesByIndex(A.seriesIndex);
              return d = w && w.getDataParams(A.dataIndex, A.dataType) || {}, !0;
            } else if (A.eventData)
              return d = extend({}, A.eventData), !0;
          }, !0), d) {
            var y = d.componentType, v = d.componentIndex;
            (y === "markLine" || y === "markPoint" || y === "markArea") && (y = "series", v = d.seriesIndex);
            var g = y && v != null && c.getComponent(y, v), _ = g && r[g.mainType === "series" ? "_chartsMap" : "_componentsMap"][g.__viewId];
            process.env.NODE_ENV !== "production" && !p && !(g && _) && warn("model or view can not be found by params"), d.event = u, d.type = o, r._$eventProcessor.eventInfo = {
              targetEl: f,
              packedEvent: d,
              model: g,
              view: _
            }, r.trigger(o, d);
          }
        };
        a.zrEventfulCallAtLast = !0, r._zr.on(o, a, r);
      }), each$4(eventActionMap, function(o, a) {
        r._messageCenter.on(a, function(u) {
          this.trigger(a, u);
        }, r);
      }), each$4(["selectchanged"], function(o) {
        r._messageCenter.on(o, function(a) {
          this.trigger(o, a);
        }, r);
      }), handleLegacySelectEvents(this._messageCenter, this, this._api);
    }, n.prototype.isDisposed = function() {
      return this._disposed;
    }, n.prototype.clear = function() {
      if (this._disposed) {
        disposedWarning(this.id);
        return;
      }
      this.setOption({
        series: []
      }, !0);
    }, n.prototype.dispose = function() {
      if (this._disposed) {
        disposedWarning(this.id);
        return;
      }
      this._disposed = !0;
      var r = this.getDom();
      r && setAttribute(this.getDom(), DOM_ATTRIBUTE_KEY, "");
      var o = this, a = o._api, u = o._model;
      each$4(o._componentsViews, function(c) {
        c.dispose(u, a);
      }), each$4(o._chartsViews, function(c) {
        c.dispose(u, a);
      }), o._zr.dispose(), o._dom = o._model = o._chartsMap = o._componentsMap = o._chartsViews = o._componentsViews = o._scheduler = o._api = o._zr = o._throttledZrFlush = o._theme = o._coordSysMgr = o._messageCenter = null, delete instances[o.id];
    }, n.prototype.resize = function(r) {
      if (this[IN_MAIN_PROCESS_KEY]) {
        process.env.NODE_ENV !== "production" && error("`resize` should not be called during main process.");
        return;
      }
      if (this._disposed) {
        disposedWarning(this.id);
        return;
      }
      this._zr.resize(r);
      var o = this._model;
      if (this._loadingFX && this._loadingFX.resize(), !!o) {
        var a = o.resetOption("media"), u = r && r.silent;
        this[PENDING_UPDATE] && (u == null && (u = this[PENDING_UPDATE].silent), a = !0, this[PENDING_UPDATE] = null), this[IN_MAIN_PROCESS_KEY] = !0;
        try {
          a && prepare(this), updateMethods.update.call(this, {
            type: "resize",
            animation: extend({
              // Disable animation
              duration: 0
            }, r && r.animation)
          });
        } catch (c) {
          throw this[IN_MAIN_PROCESS_KEY] = !1, c;
        }
        this[IN_MAIN_PROCESS_KEY] = !1, flushPendingActions.call(this, u), triggerUpdatedEvent.call(this, u);
      }
    }, n.prototype.showLoading = function(r, o) {
      if (this._disposed) {
        disposedWarning(this.id);
        return;
      }
      if (isObject$3(r) && (o = r, r = ""), r = r || "default", this.hideLoading(), !loadingEffects[r]) {
        process.env.NODE_ENV !== "production" && warn("Loading effects " + r + " not exists.");
        return;
      }
      var a = loadingEffects[r](this._api, o), u = this._zr;
      this._loadingFX = a, u.add(a);
    }, n.prototype.hideLoading = function() {
      if (this._disposed) {
        disposedWarning(this.id);
        return;
      }
      this._loadingFX && this._zr.remove(this._loadingFX), this._loadingFX = null;
    }, n.prototype.makeActionFromEvent = function(r) {
      var o = extend({}, r);
      return o.type = eventActionMap[r.type], o;
    }, n.prototype.dispatchAction = function(r, o) {
      if (this._disposed) {
        disposedWarning(this.id);
        return;
      }
      if (isObject$3(o) || (o = {
        silent: !!o
      }), !!actions[r.type] && this._model) {
        if (this[IN_MAIN_PROCESS_KEY]) {
          this._pendingActions.push(r);
          return;
        }
        var a = o.silent;
        doDispatchAction.call(this, r, a);
        var u = o.flush;
        u ? this._zr.flush() : u !== !1 && env$1.browser.weChat && this._throttledZrFlush(), flushPendingActions.call(this, a), triggerUpdatedEvent.call(this, a);
      }
    }, n.prototype.updateLabelLayout = function() {
      lifecycle$1.trigger("series:layoutlabels", this._model, this._api, {
        // Not adding series labels.
        // TODO
        updatedSeries: []
      });
    }, n.prototype.appendData = function(r) {
      if (this._disposed) {
        disposedWarning(this.id);
        return;
      }
      var o = r.seriesIndex, a = this.getModel(), u = a.getSeriesByIndex(o);
      process.env.NODE_ENV !== "production" && assert(r.data && u), u.appendData(r), this._scheduler.unfinished = !0, this.getZr().wakeUp();
    }, n.internalField = function() {
      prepare = function(v) {
        var g = v._scheduler;
        g.restorePipelines(v._model), g.prepareStageTasks(), prepareView(v, !0), prepareView(v, !1), g.plan();
      }, prepareView = function(v, g) {
        for (var _ = v._model, b = v._scheduler, A = g ? v._componentsViews : v._chartsViews, w = g ? v._componentsMap : v._chartsMap, S = v._zr, T = v._api, x = 0; x < A.length; x++)
          A[x].__alive = !1;
        g ? _.eachComponent(function(M, O) {
          M !== "series" && L(O);
        }) : _.eachSeries(L);
        function L(M) {
          var O = M.__requireNewView;
          M.__requireNewView = !1;
          var ie = "_ec_" + M.id + "_" + M.type, F = !O && w[ie];
          if (!F) {
            var j = parseClassType(M.type), D = g ? ComponentView$1.getClass(j.main, j.sub) : (
              // FIXME:TS
              // (ChartView as ChartViewConstructor).getClass('series', classType.sub)
              // For backward compat, still support a chart type declared as only subType
              // like "liquidfill", but recommend "series.liquidfill"
              // But need a base class to make a type series.
              ChartView$1.getClass(j.sub)
            );
            process.env.NODE_ENV !== "production" && assert(D, j.sub + " does not exist."), F = new D(), F.init(_, T), w[ie] = F, A.push(F), S.add(F.group);
          }
          M.__viewId = F.__id = ie, F.__alive = !0, F.__model = M, F.group.__ecComponentInfo = {
            mainType: M.mainType,
            index: M.componentIndex
          }, !g && b.prepareView(F, M, _, T);
        }
        for (var x = 0; x < A.length; ) {
          var k = A[x];
          k.__alive ? x++ : (!g && k.renderTask.dispose(), S.remove(k.group), k.dispose(_, T), A.splice(x, 1), w[k.__id] === k && delete w[k.__id], k.__id = k.group.__ecComponentInfo = null);
        }
      }, updateDirectly = function(v, g, _, b, A) {
        var w = v._model;
        if (w.setUpdatePayload(_), !b) {
          each$4([].concat(v._componentsViews).concat(v._chartsViews), k);
          return;
        }
        var S = {};
        S[b + "Id"] = _[b + "Id"], S[b + "Index"] = _[b + "Index"], S[b + "Name"] = _[b + "Name"];
        var T = {
          mainType: b,
          query: S
        };
        A && (T.subType = A);
        var x = _.excludeSeriesId, L;
        x != null && (L = createHashMap(), each$4(normalizeToArray(x), function(M) {
          var O = convertOptionIdName(M, null);
          O != null && L.set(O, !0);
        })), w && w.eachComponent(T, function(M) {
          var O = L && L.get(M.id) != null;
          if (!O)
            if (isHighDownPayload(_))
              if (M instanceof SeriesModel$1)
                _.type === HIGHLIGHT_ACTION_TYPE && !_.notBlur && !M.get(["emphasis", "disabled"]) && blurSeriesFromHighlightPayload(M, _, v._api);
              else {
                var ie = findComponentHighDownDispatchers(M.mainType, M.componentIndex, _.name, v._api), F = ie.focusSelf, j = ie.dispatchers;
                _.type === HIGHLIGHT_ACTION_TYPE && F && !_.notBlur && blurComponent(M.mainType, M.componentIndex, v._api), j && each$4(j, function(D) {
                  _.type === HIGHLIGHT_ACTION_TYPE ? enterEmphasis(D) : leaveEmphasis(D);
                });
              }
            else
              isSelectChangePayload(_) && M instanceof SeriesModel$1 && (toggleSelectionFromPayload(M, _, v._api), updateSeriesElementSelection(M), markStatusToUpdate(v));
        }, v), w && w.eachComponent(T, function(M) {
          var O = L && L.get(M.id) != null;
          O || k(v[b === "series" ? "_chartsMap" : "_componentsMap"][M.__viewId]);
        }, v);
        function k(M) {
          M && M.__alive && M[g] && M[g](M.__model, w, v._api, _);
        }
      }, updateMethods = {
        prepareAndUpdate: function(v) {
          prepare(this), updateMethods.update.call(this, v, {
            // Needs to mark option changed if newOption is given.
            // It's from MagicType.
            // TODO If use a separate flag optionChanged in payload?
            optionChanged: v.newOption != null
          });
        },
        update: function(v, g) {
          var _ = this._model, b = this._api, A = this._zr, w = this._coordSysMgr, S = this._scheduler;
          if (_) {
            _.setUpdatePayload(v), S.restoreData(_, v), S.performSeriesTasks(_), w.create(_, b), S.performDataProcessorTasks(_, v), updateStreamModes(this, _), w.update(_, b), r(_), S.performVisualTasks(_, v), render(this, _, b, v, g);
            var T = _.get("backgroundColor") || "transparent", x = _.get("darkMode");
            A.setBackgroundColor(T), x != null && x !== "auto" && A.setDarkMode(x), lifecycle$1.trigger("afterupdate", _, b);
          }
        },
        updateTransform: function(v) {
          var g = this, _ = this._model, b = this._api;
          if (_) {
            _.setUpdatePayload(v);
            var A = [];
            _.eachComponent(function(S, T) {
              if (S !== "series") {
                var x = g.getViewOfComponentModel(T);
                if (x && x.__alive)
                  if (x.updateTransform) {
                    var L = x.updateTransform(T, _, b, v);
                    L && L.update && A.push(x);
                  } else
                    A.push(x);
              }
            });
            var w = createHashMap();
            _.eachSeries(function(S) {
              var T = g._chartsMap[S.__viewId];
              if (T.updateTransform) {
                var x = T.updateTransform(S, _, b, v);
                x && x.update && w.set(S.uid, 1);
              } else
                w.set(S.uid, 1);
            }), r(_), this._scheduler.performVisualTasks(_, v, {
              setDirty: !0,
              dirtyMap: w
            }), renderSeries(this, _, b, v, {}, w), lifecycle$1.trigger("afterupdate", _, b);
          }
        },
        updateView: function(v) {
          var g = this._model;
          g && (g.setUpdatePayload(v), ChartView$1.markUpdateMethod(v, "updateView"), r(g), this._scheduler.performVisualTasks(g, v, {
            setDirty: !0
          }), render(this, g, this._api, v, {}), lifecycle$1.trigger("afterupdate", g, this._api));
        },
        updateVisual: function(v) {
          var g = this, _ = this._model;
          _ && (_.setUpdatePayload(v), _.eachSeries(function(b) {
            b.getData().clearAllVisual();
          }), ChartView$1.markUpdateMethod(v, "updateVisual"), r(_), this._scheduler.performVisualTasks(_, v, {
            visualType: "visual",
            setDirty: !0
          }), _.eachComponent(function(b, A) {
            if (b !== "series") {
              var w = g.getViewOfComponentModel(A);
              w && w.__alive && w.updateVisual(A, _, g._api, v);
            }
          }), _.eachSeries(function(b) {
            var A = g._chartsMap[b.__viewId];
            A.updateVisual(b, _, g._api, v);
          }), lifecycle$1.trigger("afterupdate", _, this._api));
        },
        updateLayout: function(v) {
          updateMethods.update.call(this, v);
        }
      }, doConvertPixel = function(v, g, _, b) {
        if (v._disposed) {
          disposedWarning(v.id);
          return;
        }
        for (var A = v._model, w = v._coordSysMgr.getCoordinateSystems(), S, T = parseFinder(A, _), x = 0; x < w.length; x++) {
          var L = w[x];
          if (L[g] && (S = L[g](A, T, b)) != null)
            return S;
        }
        process.env.NODE_ENV !== "production" && warn("No coordinate system that supports " + g + " found by the given finder.");
      }, updateStreamModes = function(v, g) {
        var _ = v._chartsMap, b = v._scheduler;
        g.eachSeries(function(A) {
          b.updateStreamModes(A, _[A.__viewId]);
        });
      }, doDispatchAction = function(v, g) {
        var _ = this, b = this.getModel(), A = v.type, w = v.escapeConnect, S = actions[A], T = S.actionInfo, x = (T.update || "update").split(":"), L = x.pop(), k = x[0] != null && parseClassType(x[0]);
        this[IN_MAIN_PROCESS_KEY] = !0;
        var M = [v], O = !1;
        v.batch && (O = !0, M = map$1(v.batch, function(Ie) {
          return Ie = defaults(extend({}, Ie), v), Ie.batch = null, Ie;
        }));
        var ie = [], F, j = isSelectChangePayload(v), D = isHighDownPayload(v);
        if (D && allLeaveBlur(this._api), each$4(M, function(Ie) {
          if (F = S.action(Ie, _._model, _._api), F = F || extend({}, Ie), F.type = T.event || F.type, ie.push(F), D) {
            var ue = preParseFinder(v), Ce = ue.queryOptionMap, pe = ue.mainTypeSpecified, Ne = pe ? Ce.keys()[0] : "series";
            updateDirectly(_, L, Ie, Ne), markStatusToUpdate(_);
          } else
            j ? (updateDirectly(_, L, Ie, "series"), markStatusToUpdate(_)) : k && updateDirectly(_, L, Ie, k.main, k.sub);
        }), L !== "none" && !D && !j && !k)
          try {
            this[PENDING_UPDATE] ? (prepare(this), updateMethods.update.call(this, v), this[PENDING_UPDATE] = null) : updateMethods[L].call(this, v);
          } catch (Ie) {
            throw this[IN_MAIN_PROCESS_KEY] = !1, Ie;
          }
        if (O ? F = {
          type: T.event || A,
          escapeConnect: w,
          batch: ie
        } : F = ie[0], this[IN_MAIN_PROCESS_KEY] = !1, !g) {
          var Y = this._messageCenter;
          if (Y.trigger(F.type, F), j) {
            var z = {
              type: "selectchanged",
              escapeConnect: w,
              selected: getAllSelectedIndices(b),
              isFromClick: v.isFromClick || !1,
              fromAction: v.type,
              fromActionPayload: v
            };
            Y.trigger(z.type, z);
          }
        }
      }, flushPendingActions = function(v) {
        for (var g = this._pendingActions; g.length; ) {
          var _ = g.shift();
          doDispatchAction.call(this, _, v);
        }
      }, triggerUpdatedEvent = function(v) {
        !v && this.trigger("updated");
      }, bindRenderedEvent = function(v, g) {
        v.on("rendered", function(_) {
          g.trigger("rendered", _), // Although zr is dirty if initial animation is not finished
          // and this checking is called on frame, we also check
          // animation finished for robustness.
          v.animation.isFinished() && !g[PENDING_UPDATE] && !g._scheduler.unfinished && !g._pendingActions.length && g.trigger("finished");
        });
      }, bindMouseEvent = function(v, g) {
        v.on("mouseover", function(_) {
          var b = _.target, A = findEventDispatcher(b, isHighDownDispatcher);
          A && (handleGlobalMouseOverForHighDown(A, _, g._api), markStatusToUpdate(g));
        }).on("mouseout", function(_) {
          var b = _.target, A = findEventDispatcher(b, isHighDownDispatcher);
          A && (handleGlobalMouseOutForHighDown(A, _, g._api), markStatusToUpdate(g));
        }).on("click", function(_) {
          var b = _.target, A = findEventDispatcher(b, function(T) {
            return getECData(T).dataIndex != null;
          }, !0);
          if (A) {
            var w = A.selected ? "unselect" : "select", S = getECData(A);
            g._api.dispatchAction({
              type: w,
              dataType: S.dataType,
              dataIndexInside: S.dataIndex,
              seriesIndex: S.seriesIndex,
              isFromClick: !0
            });
          }
        });
      };
      function r(v) {
        v.clearColorPalette(), v.eachSeries(function(g) {
          g.clearColorPalette();
        });
      }
      function o(v) {
        var g = [], _ = [], b = !1;
        if (v.eachComponent(function(T, x) {
          var L = x.get("zlevel") || 0, k = x.get("z") || 0, M = x.getZLevelKey();
          b = b || !!M, (T === "series" ? _ : g).push({
            zlevel: L,
            z: k,
            idx: x.componentIndex,
            type: T,
            key: M
          });
        }), b) {
          var A = g.concat(_), w, S;
          sort(A, function(T, x) {
            return T.zlevel === x.zlevel ? T.z - x.z : T.zlevel - x.zlevel;
          }), each$4(A, function(T) {
            var x = v.getComponent(T.type, T.idx), L = T.zlevel, k = T.key;
            w != null && (L = Math.max(w, L)), k ? (L === w && k !== S && L++, S = k) : S && (L === w && L++, S = ""), w = L, x.setZLevel(L);
          });
        }
      }
      render = function(v, g, _, b, A) {
        o(g), renderComponents(v, g, _, b, A), each$4(v._chartsViews, function(w) {
          w.__alive = !1;
        }), renderSeries(v, g, _, b, A), each$4(v._chartsViews, function(w) {
          w.__alive || w.remove(g, _);
        });
      }, renderComponents = function(v, g, _, b, A, w) {
        each$4(w || v._componentsViews, function(S) {
          var T = S.__model;
          p(T, S), S.render(T, g, _, b), f(T, S), y(T, S);
        });
      }, renderSeries = function(v, g, _, b, A, w) {
        var S = v._scheduler;
        A = extend(A || {}, {
          updatedSeries: g.getSeries()
        }), lifecycle$1.trigger("series:beforeupdate", g, _, A);
        var T = !1;
        g.eachSeries(function(x) {
          var L = v._chartsMap[x.__viewId];
          L.__alive = !0;
          var k = L.renderTask;
          S.updatePayload(k, b), p(x, L), w && w.get(x.uid) && k.dirty(), k.perform(S.getPerformArgs(k)) && (T = !0), L.group.silent = !!x.get("silent"), c(x, L), updateSeriesElementSelection(x);
        }), S.unfinished = T || S.unfinished, lifecycle$1.trigger("series:layoutlabels", g, _, A), lifecycle$1.trigger("series:transition", g, _, A), g.eachSeries(function(x) {
          var L = v._chartsMap[x.__viewId];
          f(x, L), y(x, L);
        }), u(v, g), lifecycle$1.trigger("series:afterupdate", g, _, A);
      }, markStatusToUpdate = function(v) {
        v[STATUS_NEEDS_UPDATE_KEY] = !0, v.getZr().wakeUp();
      }, applyChangedStates = function(v) {
        v[STATUS_NEEDS_UPDATE_KEY] && (v.getZr().storage.traverse(function(g) {
          isElementRemoved(g) || a(g);
        }), v[STATUS_NEEDS_UPDATE_KEY] = !1);
      };
      function a(v) {
        for (var g = [], _ = v.currentStates, b = 0; b < _.length; b++) {
          var A = _[b];
          A === "emphasis" || A === "blur" || A === "select" || g.push(A);
        }
        v.selected && v.states.select && g.push("select"), v.hoverState === HOVER_STATE_EMPHASIS && v.states.emphasis ? g.push("emphasis") : v.hoverState === HOVER_STATE_BLUR && v.states.blur && g.push("blur"), v.useStates(g);
      }
      function u(v, g) {
        var _ = v._zr, b = _.storage, A = 0;
        b.traverse(function(w) {
          w.isGroup || A++;
        }), A > g.get("hoverLayerThreshold") && !env$1.node && !env$1.worker && g.eachSeries(function(w) {
          if (!w.preventUsingHoverLayer) {
            var S = v._chartsMap[w.__viewId];
            S.__alive && S.eachRendered(function(T) {
              T.states.emphasis && (T.states.emphasis.hoverLayer = !0);
            });
          }
        });
      }
      function c(v, g) {
        var _ = v.get("blendMode") || null;
        g.eachRendered(function(b) {
          b.isGroup || (b.style.blend = _);
        });
      }
      function f(v, g) {
        if (!v.preventAutoZ) {
          var _ = v.get("z") || 0, b = v.get("zlevel") || 0;
          g.eachRendered(function(A) {
            return d(A, _, b, -1 / 0), !0;
          });
        }
      }
      function d(v, g, _, b) {
        var A = v.getTextContent(), w = v.getTextGuideLine(), S = v.isGroup;
        if (S)
          for (var T = v.childrenRef(), x = 0; x < T.length; x++)
            b = Math.max(d(T[x], g, _, b), b);
        else
          v.z = g, v.zlevel = _, b = Math.max(v.z2, b);
        if (A && (A.z = g, A.zlevel = _, isFinite(b) && (A.z2 = b + 2)), w) {
          var L = v.textGuideLineConfig;
          w.z = g, w.zlevel = _, isFinite(b) && (w.z2 = b + (L && L.showAbove ? 1 : -1));
        }
        return b;
      }
      function p(v, g) {
        g.eachRendered(function(_) {
          if (!isElementRemoved(_)) {
            var b = _.getTextContent(), A = _.getTextGuideLine();
            _.stateTransition && (_.stateTransition = null), b && b.stateTransition && (b.stateTransition = null), A && A.stateTransition && (A.stateTransition = null), _.hasState() ? (_.prevStates = _.currentStates, _.clearStates()) : _.prevStates && (_.prevStates = null);
          }
        });
      }
      function y(v, g) {
        var _ = v.getModel("stateAnimation"), b = v.isAnimationEnabled(), A = _.get("duration"), w = A > 0 ? {
          duration: A,
          delay: _.get("delay"),
          easing: _.get("easing")
          // additive: stateAnimationModel.get('additive')
        } : null;
        g.eachRendered(function(S) {
          if (S.states && S.states.emphasis) {
            if (isElementRemoved(S))
              return;
            if (S instanceof Path$1 && savePathStates(S), S.__dirty) {
              var T = S.prevStates;
              T && S.useStates(T);
            }
            if (b) {
              S.stateTransition = w;
              var x = S.getTextContent(), L = S.getTextGuideLine();
              x && (x.stateTransition = w), L && (L.stateTransition = w);
            }
            S.__dirty && a(S);
          }
        });
      }
      createExtensionAPI = function(v) {
        return new /** @class */
        (function(g) {
          __extends(_, g);
          function _() {
            return g !== null && g.apply(this, arguments) || this;
          }
          return _.prototype.getCoordinateSystems = function() {
            return v._coordSysMgr.getCoordinateSystems();
          }, _.prototype.getComponentByElement = function(b) {
            for (; b; ) {
              var A = b.__ecComponentInfo;
              if (A != null)
                return v._model.getComponent(A.mainType, A.index);
              b = b.parent;
            }
          }, _.prototype.enterEmphasis = function(b, A) {
            enterEmphasis(b, A), markStatusToUpdate(v);
          }, _.prototype.leaveEmphasis = function(b, A) {
            leaveEmphasis(b, A), markStatusToUpdate(v);
          }, _.prototype.enterBlur = function(b) {
            enterBlur(b), markStatusToUpdate(v);
          }, _.prototype.leaveBlur = function(b) {
            leaveBlur(b), markStatusToUpdate(v);
          }, _.prototype.enterSelect = function(b) {
            enterSelect(b), markStatusToUpdate(v);
          }, _.prototype.leaveSelect = function(b) {
            leaveSelect(b), markStatusToUpdate(v);
          }, _.prototype.getModel = function() {
            return v.getModel();
          }, _.prototype.getViewOfComponentModel = function(b) {
            return v.getViewOfComponentModel(b);
          }, _.prototype.getViewOfSeriesModel = function(b) {
            return v.getViewOfSeriesModel(b);
          }, _;
        }(ExtensionAPI$1))(v);
      };
    }(), n;
  }(Eventful$1)
), echartsProto = ECharts.prototype;
echartsProto.on = createRegisterEventWithLowercaseECharts("on");
echartsProto.off = createRegisterEventWithLowercaseECharts("off");
echartsProto.one = function(i, n, r) {
  var o = this;
  deprecateLog("ECharts#one is deprecated.");
  function a() {
    for (var u = [], c = 0; c < arguments.length; c++)
      u[c] = arguments[c];
    n && n.apply && n.apply(this, u), o.off(i, a);
  }
  this.on.call(this, i, a, r);
};
var MOUSE_EVENT_NAMES = ["click", "dblclick", "mouseover", "mouseout", "mousemove", "mousedown", "mouseup", "globalout", "contextmenu"];
function disposedWarning(i) {
  process.env.NODE_ENV !== "production" && warn("Instance " + i + " has been disposed");
}
var actions = {}, eventActionMap = {}, dataProcessorFuncs = [], optionPreprocessorFuncs = [], visualFuncs = [], themeStorage = {}, loadingEffects = {}, instances = {}, connectedGroups = {}, DOM_ATTRIBUTE_KEY = "_echarts_instance_";
function registerTheme(i, n) {
  themeStorage[i] = n;
}
function registerPreprocessor(i) {
  indexOf(optionPreprocessorFuncs, i) < 0 && optionPreprocessorFuncs.push(i);
}
function registerProcessor(i, n) {
  normalizeRegister(dataProcessorFuncs, i, n, PRIORITY_PROCESSOR_DEFAULT);
}
function registerPostInit(i) {
  registerUpdateLifecycle("afterinit", i);
}
function registerPostUpdate(i) {
  registerUpdateLifecycle("afterupdate", i);
}
function registerUpdateLifecycle(i, n) {
  lifecycle$1.on(i, n);
}
function registerAction(i, n, r) {
  isFunction$1(n) && (r = n, n = "");
  var o = isObject$3(i) ? i.type : [i, i = {
    event: n
  }][0];
  i.event = (i.event || o).toLowerCase(), n = i.event, !eventActionMap[n] && (assert(ACTION_REG.test(o) && ACTION_REG.test(n)), actions[o] || (actions[o] = {
    action: r,
    actionInfo: i
  }), eventActionMap[n] = o);
}
function registerCoordinateSystem(i, n) {
  CoordinateSystem.register(i, n);
}
function registerLayout(i, n) {
  normalizeRegister(visualFuncs, i, n, PRIORITY_VISUAL_LAYOUT, "layout");
}
function registerVisual(i, n) {
  normalizeRegister(visualFuncs, i, n, PRIORITY_VISUAL_CHART, "visual");
}
var registeredTasks = [];
function normalizeRegister(i, n, r, o, a) {
  if ((isFunction$1(n) || isObject$3(n)) && (r = n, n = o), process.env.NODE_ENV !== "production") {
    if (isNaN(n) || n == null)
      throw new Error("Illegal priority");
    each$4(i, function(c) {
      assert(c.__raw !== r);
    });
  }
  if (!(indexOf(registeredTasks, r) >= 0)) {
    registeredTasks.push(r);
    var u = Scheduler$1.wrapStageHandler(r, a);
    u.__prio = n, u.__raw = r, i.push(u);
  }
}
function registerLoading(i, n) {
  loadingEffects[i] = n;
}
function registerMap(i, n, r) {
  var o = getImpl("registerMap");
  o && o(i, n, r);
}
var registerTransform = registerExternalTransform;
registerVisual(PRIORITY_VISUAL_GLOBAL, seriesStyleTask);
registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM, dataStyleTask);
registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM, dataColorPaletteTask);
registerVisual(PRIORITY_VISUAL_GLOBAL, seriesSymbolTask);
registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM, dataSymbolTask);
registerVisual(PRIORITY_VISUAL_DECAL, decalVisual);
registerPreprocessor(globalBackwardCompat);
registerProcessor(PRIORITY_PROCESSOR_DATASTACK, dataStack);
registerLoading("default", defaultLoading);
registerAction({
  type: HIGHLIGHT_ACTION_TYPE,
  event: HIGHLIGHT_ACTION_TYPE,
  update: HIGHLIGHT_ACTION_TYPE
}, noop$1);
registerAction({
  type: DOWNPLAY_ACTION_TYPE,
  event: DOWNPLAY_ACTION_TYPE,
  update: DOWNPLAY_ACTION_TYPE
}, noop$1);
registerAction({
  type: SELECT_ACTION_TYPE,
  event: SELECT_ACTION_TYPE,
  update: SELECT_ACTION_TYPE
}, noop$1);
registerAction({
  type: UNSELECT_ACTION_TYPE,
  event: UNSELECT_ACTION_TYPE,
  update: UNSELECT_ACTION_TYPE
}, noop$1);
registerAction({
  type: TOGGLE_SELECT_ACTION_TYPE,
  event: TOGGLE_SELECT_ACTION_TYPE,
  update: TOGGLE_SELECT_ACTION_TYPE
}, noop$1);
registerTheme("light", lightTheme);
registerTheme("dark", darkTheme);
function dataIndexMapValueLength(i) {
  return i == null ? 0 : i.length || 1;
}
function defaultKeyGetter(i) {
  return i;
}
var DataDiffer = (
  /** @class */
  function() {
    function i(n, r, o, a, u, c) {
      this._old = n, this._new = r, this._oldKeyGetter = o || defaultKeyGetter, this._newKeyGetter = a || defaultKeyGetter, this.context = u, this._diffModeMultiple = c === "multiple";
    }
    return i.prototype.add = function(n) {
      return this._add = n, this;
    }, i.prototype.update = function(n) {
      return this._update = n, this;
    }, i.prototype.updateManyToOne = function(n) {
      return this._updateManyToOne = n, this;
    }, i.prototype.updateOneToMany = function(n) {
      return this._updateOneToMany = n, this;
    }, i.prototype.updateManyToMany = function(n) {
      return this._updateManyToMany = n, this;
    }, i.prototype.remove = function(n) {
      return this._remove = n, this;
    }, i.prototype.execute = function() {
      this[this._diffModeMultiple ? "_executeMultiple" : "_executeOneToOne"]();
    }, i.prototype._executeOneToOne = function() {
      var n = this._old, r = this._new, o = {}, a = new Array(n.length), u = new Array(r.length);
      this._initIndexMap(n, null, a, "_oldKeyGetter"), this._initIndexMap(r, o, u, "_newKeyGetter");
      for (var c = 0; c < n.length; c++) {
        var f = a[c], d = o[f], p = dataIndexMapValueLength(d);
        if (p > 1) {
          var y = d.shift();
          d.length === 1 && (o[f] = d[0]), this._update && this._update(y, c);
        } else
          p === 1 ? (o[f] = null, this._update && this._update(d, c)) : this._remove && this._remove(c);
      }
      this._performRestAdd(u, o);
    }, i.prototype._executeMultiple = function() {
      var n = this._old, r = this._new, o = {}, a = {}, u = [], c = [];
      this._initIndexMap(n, o, u, "_oldKeyGetter"), this._initIndexMap(r, a, c, "_newKeyGetter");
      for (var f = 0; f < u.length; f++) {
        var d = u[f], p = o[d], y = a[d], v = dataIndexMapValueLength(p), g = dataIndexMapValueLength(y);
        if (v > 1 && g === 1)
          this._updateManyToOne && this._updateManyToOne(y, p), a[d] = null;
        else if (v === 1 && g > 1)
          this._updateOneToMany && this._updateOneToMany(y, p), a[d] = null;
        else if (v === 1 && g === 1)
          this._update && this._update(y, p), a[d] = null;
        else if (v > 1 && g > 1)
          this._updateManyToMany && this._updateManyToMany(y, p), a[d] = null;
        else if (v > 1)
          for (var _ = 0; _ < v; _++)
            this._remove && this._remove(p[_]);
        else
          this._remove && this._remove(p);
      }
      this._performRestAdd(c, a);
    }, i.prototype._performRestAdd = function(n, r) {
      for (var o = 0; o < n.length; o++) {
        var a = n[o], u = r[a], c = dataIndexMapValueLength(u);
        if (c > 1)
          for (var f = 0; f < c; f++)
            this._add && this._add(u[f]);
        else
          c === 1 && this._add && this._add(u);
        r[a] = null;
      }
    }, i.prototype._initIndexMap = function(n, r, o, a) {
      for (var u = this._diffModeMultiple, c = 0; c < n.length; c++) {
        var f = "_ec_" + this[a](n[c], c);
        if (u || (o[c] = f), !!r) {
          var d = r[f], p = dataIndexMapValueLength(d);
          p === 0 ? (r[f] = c, u && o.push(f)) : p === 1 ? r[f] = [d, c] : d.push(c);
        }
      }
    }, i;
  }()
);
const DataDiffer$1 = DataDiffer;
var DimensionUserOuput = (
  /** @class */
  function() {
    function i(n, r) {
      this._encode = n, this._schema = r;
    }
    return i.prototype.get = function() {
      return {
        // Do not generate full dimension name until fist used.
        fullDimensions: this._getFullDimensionNames(),
        encode: this._encode
      };
    }, i.prototype._getFullDimensionNames = function() {
      return this._cachedDimNames || (this._cachedDimNames = this._schema ? this._schema.makeOutputDimensionNames() : []), this._cachedDimNames;
    }, i;
  }()
);
function summarizeDimensions(i, n) {
  var r = {}, o = r.encode = {}, a = createHashMap(), u = [], c = [], f = {};
  each$4(i.dimensions, function(g) {
    var _ = i.getDimensionInfo(g), b = _.coordDim;
    if (b) {
      process.env.NODE_ENV !== "production" && assert(VISUAL_DIMENSIONS.get(b) == null);
      var A = _.coordDimIndex;
      getOrCreateEncodeArr(o, b)[A] = g, _.isExtraCoord || (a.set(b, 1), mayLabelDimType(_.type) && (u[0] = g), getOrCreateEncodeArr(f, b)[A] = i.getDimensionIndex(_.name)), _.defaultTooltip && c.push(g);
    }
    VISUAL_DIMENSIONS.each(function(w, S) {
      var T = getOrCreateEncodeArr(o, S), x = _.otherDims[S];
      x != null && x !== !1 && (T[x] = _.name);
    });
  });
  var d = [], p = {};
  a.each(function(g, _) {
    var b = o[_];
    p[_] = b[0], d = d.concat(b);
  }), r.dataDimsOnCoord = d, r.dataDimIndicesOnCoord = map$1(d, function(g) {
    return i.getDimensionInfo(g).storeDimIndex;
  }), r.encodeFirstDimNotExtra = p;
  var y = o.label;
  y && y.length && (u = y.slice());
  var v = o.tooltip;
  return v && v.length ? c = v.slice() : c.length || (c = u.slice()), o.defaultedLabel = u, o.defaultedTooltip = c, r.userOutput = new DimensionUserOuput(f, n), r;
}
function getOrCreateEncodeArr(i, n) {
  return i.hasOwnProperty(n) || (i[n] = []), i[n];
}
function mayLabelDimType(i) {
  return !(i === "ordinal" || i === "time");
}
var SeriesDimensionDefine = (
  /** @class */
  function() {
    function i(n) {
      this.otherDims = {}, n != null && extend(this, n);
    }
    return i;
  }()
);
const SeriesDimensionDefine$1 = SeriesDimensionDefine;
var inner$3 = makeInner(), dimTypeShort = {
  float: "f",
  int: "i",
  ordinal: "o",
  number: "n",
  time: "t"
}, SeriesDataSchema = (
  /** @class */
  function() {
    function i(n) {
      this.dimensions = n.dimensions, this._dimOmitted = n.dimensionOmitted, this.source = n.source, this._fullDimCount = n.fullDimensionCount, this._updateDimOmitted(n.dimensionOmitted);
    }
    return i.prototype.isDimensionOmitted = function() {
      return this._dimOmitted;
    }, i.prototype._updateDimOmitted = function(n) {
      this._dimOmitted = n, n && (this._dimNameMap || (this._dimNameMap = ensureSourceDimNameMap(this.source)));
    }, i.prototype.getSourceDimensionIndex = function(n) {
      return retrieve2(this._dimNameMap.get(n), -1);
    }, i.prototype.getSourceDimension = function(n) {
      var r = this.source.dimensionsDefine;
      if (r)
        return r[n];
    }, i.prototype.makeStoreSchema = function() {
      for (var n = this._fullDimCount, r = shouldRetrieveDataByName(this.source), o = !shouldOmitUnusedDimensions(n), a = "", u = [], c = 0, f = 0; c < n; c++) {
        var d = void 0, p = void 0, y = void 0, v = this.dimensions[f];
        if (v && v.storeDimIndex === c)
          d = r ? v.name : null, p = v.type, y = v.ordinalMeta, f++;
        else {
          var g = this.getSourceDimension(c);
          g && (d = r ? g.name : null, p = g.type);
        }
        u.push({
          property: d,
          type: p,
          ordinalMeta: y
        }), r && d != null && (!v || !v.isCalculationCoord) && (a += o ? d.replace(/\`/g, "`1").replace(/\$/g, "`2") : d), a += "$", a += dimTypeShort[p] || "f", y && (a += y.uid), a += "$";
      }
      var _ = this.source, b = [_.seriesLayoutBy, _.startIndex, a].join("$$");
      return {
        dimensions: u,
        hash: b
      };
    }, i.prototype.makeOutputDimensionNames = function() {
      for (var n = [], r = 0, o = 0; r < this._fullDimCount; r++) {
        var a = void 0, u = this.dimensions[o];
        if (u && u.storeDimIndex === r)
          u.isCalculationCoord || (a = u.name), o++;
        else {
          var c = this.getSourceDimension(r);
          c && (a = c.name);
        }
        n.push(a);
      }
      return n;
    }, i.prototype.appendCalculationDimension = function(n) {
      this.dimensions.push(n), n.isCalculationCoord = !0, this._fullDimCount++, this._updateDimOmitted(!0);
    }, i;
  }()
);
function isSeriesDataSchema(i) {
  return i instanceof SeriesDataSchema;
}
function createDimNameMap(i) {
  for (var n = createHashMap(), r = 0; r < (i || []).length; r++) {
    var o = i[r], a = isObject$3(o) ? o.name : o;
    a != null && n.get(a) == null && n.set(a, r);
  }
  return n;
}
function ensureSourceDimNameMap(i) {
  var n = inner$3(i);
  return n.dimNameMap || (n.dimNameMap = createDimNameMap(i.dimensionsDefine));
}
function shouldOmitUnusedDimensions(i) {
  return i > 30;
}
var isObject$1 = isObject$3, map = map$1, CtorInt32Array = typeof Int32Array > "u" ? Array : Int32Array, ID_PREFIX = "e\0\0", INDEX_NOT_FOUND = -1, TRANSFERABLE_PROPERTIES = ["hasItemOption", "_nameList", "_idList", "_invertedIndicesMap", "_dimSummary", "userOutput", "_rawData", "_dimValueGetter", "_nameDimIdx", "_idDimIdx", "_nameRepeatCount"], CLONE_PROPERTIES = ["_approximateExtent"], prepareInvertedIndex, getId, getIdNameFromStore, normalizeDimensions, transferProperties, cloneListForMapAndSample, makeIdFromName, SeriesData = (
  /** @class */
  function() {
    function i(n, r) {
      this.type = "list", this._dimOmitted = !1, this._nameList = [], this._idList = [], this._visual = {}, this._layout = {}, this._itemVisuals = [], this._itemLayouts = [], this._graphicEls = [], this._approximateExtent = {}, this._calculationInfo = {}, this.hasItemOption = !1, this.TRANSFERABLE_METHODS = ["cloneShallow", "downSample", "lttbDownSample", "map"], this.CHANGABLE_METHODS = ["filterSelf", "selectRange"], this.DOWNSAMPLE_METHODS = ["downSample", "lttbDownSample"];
      var o, a = !1;
      isSeriesDataSchema(n) ? (o = n.dimensions, this._dimOmitted = n.isDimensionOmitted(), this._schema = n) : (a = !0, o = n), o = o || ["x", "y"];
      for (var u = {}, c = [], f = {}, d = !1, p = {}, y = 0; y < o.length; y++) {
        var v = o[y], g = isString$2(v) ? new SeriesDimensionDefine$1({
          name: v
        }) : v instanceof SeriesDimensionDefine$1 ? v : new SeriesDimensionDefine$1(v), _ = g.name;
        g.type = g.type || "float", g.coordDim || (g.coordDim = _, g.coordDimIndex = 0);
        var b = g.otherDims = g.otherDims || {};
        c.push(_), u[_] = g, p[_] != null && (d = !0), g.createInvertedIndices && (f[_] = []), b.itemName === 0 && (this._nameDimIdx = y), b.itemId === 0 && (this._idDimIdx = y), process.env.NODE_ENV !== "production" && assert(a || g.storeDimIndex >= 0), a && (g.storeDimIndex = y);
      }
      if (this.dimensions = c, this._dimInfos = u, this._initGetDimensionInfo(d), this.hostModel = r, this._invertedIndicesMap = f, this._dimOmitted) {
        var A = this._dimIdxToName = createHashMap();
        each$4(c, function(w) {
          A.set(u[w].storeDimIndex, w);
        });
      }
    }
    return i.prototype.getDimension = function(n) {
      var r = this._recognizeDimIndex(n);
      if (r == null)
        return n;
      if (r = n, !this._dimOmitted)
        return this.dimensions[r];
      var o = this._dimIdxToName.get(r);
      if (o != null)
        return o;
      var a = this._schema.getSourceDimension(r);
      if (a)
        return a.name;
    }, i.prototype.getDimensionIndex = function(n) {
      var r = this._recognizeDimIndex(n);
      if (r != null)
        return r;
      if (n == null)
        return -1;
      var o = this._getDimInfo(n);
      return o ? o.storeDimIndex : this._dimOmitted ? this._schema.getSourceDimensionIndex(n) : -1;
    }, i.prototype._recognizeDimIndex = function(n) {
      if (isNumber$1(n) || n != null && !isNaN(n) && !this._getDimInfo(n) && (!this._dimOmitted || this._schema.getSourceDimensionIndex(n) < 0))
        return +n;
    }, i.prototype._getStoreDimIndex = function(n) {
      var r = this.getDimensionIndex(n);
      if (process.env.NODE_ENV !== "production" && r == null)
        throw new Error("Unknown dimension " + n);
      return r;
    }, i.prototype.getDimensionInfo = function(n) {
      return this._getDimInfo(this.getDimension(n));
    }, i.prototype._initGetDimensionInfo = function(n) {
      var r = this._dimInfos;
      this._getDimInfo = n ? function(o) {
        return r.hasOwnProperty(o) ? r[o] : void 0;
      } : function(o) {
        return r[o];
      };
    }, i.prototype.getDimensionsOnCoord = function() {
      return this._dimSummary.dataDimsOnCoord.slice();
    }, i.prototype.mapDimension = function(n, r) {
      var o = this._dimSummary;
      if (r == null)
        return o.encodeFirstDimNotExtra[n];
      var a = o.encode[n];
      return a ? a[r] : null;
    }, i.prototype.mapDimensionsAll = function(n) {
      var r = this._dimSummary, o = r.encode[n];
      return (o || []).slice();
    }, i.prototype.getStore = function() {
      return this._store;
    }, i.prototype.initData = function(n, r, o) {
      var a = this, u;
      if (n instanceof DataStore && (u = n), !u) {
        var c = this.dimensions, f = isSourceInstance(n) || isArrayLike(n) ? new DefaultDataProvider(n, c.length) : n;
        u = new DataStore();
        var d = map(c, function(p) {
          return {
            type: a._dimInfos[p].type,
            property: p
          };
        });
        u.initData(f, d, o);
      }
      this._store = u, this._nameList = (r || []).slice(), this._idList = [], this._nameRepeatCount = {}, this._doInit(0, u.count()), this._dimSummary = summarizeDimensions(this, this._schema), this.userOutput = this._dimSummary.userOutput;
    }, i.prototype.appendData = function(n) {
      var r = this._store.appendData(n);
      this._doInit(r[0], r[1]);
    }, i.prototype.appendValues = function(n, r) {
      var o = this._store.appendValues(n, r.length), a = o.start, u = o.end, c = this._shouldMakeIdFromName();
      if (this._updateOrdinalMeta(), r)
        for (var f = a; f < u; f++) {
          var d = f - a;
          this._nameList[f] = r[d], c && makeIdFromName(this, f);
        }
    }, i.prototype._updateOrdinalMeta = function() {
      for (var n = this._store, r = this.dimensions, o = 0; o < r.length; o++) {
        var a = this._dimInfos[r[o]];
        a.ordinalMeta && n.collectOrdinalMeta(a.storeDimIndex, a.ordinalMeta);
      }
    }, i.prototype._shouldMakeIdFromName = function() {
      var n = this._store.getProvider();
      return this._idDimIdx == null && n.getSource().sourceFormat !== SOURCE_FORMAT_TYPED_ARRAY && !n.fillStorage;
    }, i.prototype._doInit = function(n, r) {
      if (!(n >= r)) {
        var o = this._store, a = o.getProvider();
        this._updateOrdinalMeta();
        var u = this._nameList, c = this._idList, f = a.getSource().sourceFormat, d = f === SOURCE_FORMAT_ORIGINAL;
        if (d && !a.pure)
          for (var p = [], y = n; y < r; y++) {
            var v = a.getItem(y, p);
            if (!this.hasItemOption && isDataItemOption(v) && (this.hasItemOption = !0), v) {
              var g = v.name;
              u[y] == null && g != null && (u[y] = convertOptionIdName(g, null));
              var _ = v.id;
              c[y] == null && _ != null && (c[y] = convertOptionIdName(_, null));
            }
          }
        if (this._shouldMakeIdFromName())
          for (var y = n; y < r; y++)
            makeIdFromName(this, y);
        prepareInvertedIndex(this);
      }
    }, i.prototype.getApproximateExtent = function(n) {
      return this._approximateExtent[n] || this._store.getDataExtent(this._getStoreDimIndex(n));
    }, i.prototype.setApproximateExtent = function(n, r) {
      r = this.getDimension(r), this._approximateExtent[r] = n.slice();
    }, i.prototype.getCalculationInfo = function(n) {
      return this._calculationInfo[n];
    }, i.prototype.setCalculationInfo = function(n, r) {
      isObject$1(n) ? extend(this._calculationInfo, n) : this._calculationInfo[n] = r;
    }, i.prototype.getName = function(n) {
      var r = this.getRawIndex(n), o = this._nameList[r];
      return o == null && this._nameDimIdx != null && (o = getIdNameFromStore(this, this._nameDimIdx, r)), o == null && (o = ""), o;
    }, i.prototype._getCategory = function(n, r) {
      var o = this._store.get(n, r), a = this._store.getOrdinalMeta(n);
      return a ? a.categories[o] : o;
    }, i.prototype.getId = function(n) {
      return getId(this, this.getRawIndex(n));
    }, i.prototype.count = function() {
      return this._store.count();
    }, i.prototype.get = function(n, r) {
      var o = this._store, a = this._dimInfos[n];
      if (a)
        return o.get(a.storeDimIndex, r);
    }, i.prototype.getByRawIndex = function(n, r) {
      var o = this._store, a = this._dimInfos[n];
      if (a)
        return o.getByRawIndex(a.storeDimIndex, r);
    }, i.prototype.getIndices = function() {
      return this._store.getIndices();
    }, i.prototype.getDataExtent = function(n) {
      return this._store.getDataExtent(this._getStoreDimIndex(n));
    }, i.prototype.getSum = function(n) {
      return this._store.getSum(this._getStoreDimIndex(n));
    }, i.prototype.getMedian = function(n) {
      return this._store.getMedian(this._getStoreDimIndex(n));
    }, i.prototype.getValues = function(n, r) {
      var o = this, a = this._store;
      return isArray$1(n) ? a.getValues(map(n, function(u) {
        return o._getStoreDimIndex(u);
      }), r) : a.getValues(n);
    }, i.prototype.hasValue = function(n) {
      for (var r = this._dimSummary.dataDimIndicesOnCoord, o = 0, a = r.length; o < a; o++)
        if (isNaN(this._store.get(r[o], n)))
          return !1;
      return !0;
    }, i.prototype.indexOfName = function(n) {
      for (var r = 0, o = this._store.count(); r < o; r++)
        if (this.getName(r) === n)
          return r;
      return -1;
    }, i.prototype.getRawIndex = function(n) {
      return this._store.getRawIndex(n);
    }, i.prototype.indexOfRawIndex = function(n) {
      return this._store.indexOfRawIndex(n);
    }, i.prototype.rawIndexOf = function(n, r) {
      var o = n && this._invertedIndicesMap[n];
      if (process.env.NODE_ENV !== "production" && !o)
        throw new Error("Do not supported yet");
      var a = o[r];
      return a == null || isNaN(a) ? INDEX_NOT_FOUND : a;
    }, i.prototype.indicesOfNearest = function(n, r, o) {
      return this._store.indicesOfNearest(this._getStoreDimIndex(n), r, o);
    }, i.prototype.each = function(n, r, o) {
      isFunction$1(n) && (o = r, r = n, n = []);
      var a = o || this, u = map(normalizeDimensions(n), this._getStoreDimIndex, this);
      this._store.each(u, a ? bind$1(r, a) : r);
    }, i.prototype.filterSelf = function(n, r, o) {
      isFunction$1(n) && (o = r, r = n, n = []);
      var a = o || this, u = map(normalizeDimensions(n), this._getStoreDimIndex, this);
      return this._store = this._store.filter(u, a ? bind$1(r, a) : r), this;
    }, i.prototype.selectRange = function(n) {
      var r = this, o = {}, a = keys(n);
      return each$4(a, function(u) {
        var c = r._getStoreDimIndex(u);
        o[c] = n[u];
      }), this._store = this._store.selectRange(o), this;
    }, i.prototype.mapArray = function(n, r, o) {
      isFunction$1(n) && (o = r, r = n, n = []), o = o || this;
      var a = [];
      return this.each(n, function() {
        a.push(r && r.apply(this, arguments));
      }, o), a;
    }, i.prototype.map = function(n, r, o, a) {
      var u = o || a || this, c = map(normalizeDimensions(n), this._getStoreDimIndex, this), f = cloneListForMapAndSample(this);
      return f._store = this._store.map(c, u ? bind$1(r, u) : r), f;
    }, i.prototype.modify = function(n, r, o, a) {
      var u = this, c = o || a || this;
      process.env.NODE_ENV !== "production" && each$4(normalizeDimensions(n), function(d) {
        var p = u.getDimensionInfo(d);
        p.isCalculationCoord || console.error("Danger: only stack dimension can be modified");
      });
      var f = map(normalizeDimensions(n), this._getStoreDimIndex, this);
      this._store.modify(f, c ? bind$1(r, c) : r);
    }, i.prototype.downSample = function(n, r, o, a) {
      var u = cloneListForMapAndSample(this);
      return u._store = this._store.downSample(this._getStoreDimIndex(n), r, o, a), u;
    }, i.prototype.lttbDownSample = function(n, r) {
      var o = cloneListForMapAndSample(this);
      return o._store = this._store.lttbDownSample(this._getStoreDimIndex(n), r), o;
    }, i.prototype.getRawDataItem = function(n) {
      return this._store.getRawDataItem(n);
    }, i.prototype.getItemModel = function(n) {
      var r = this.hostModel, o = this.getRawDataItem(n);
      return new Model$1(o, r, r && r.ecModel);
    }, i.prototype.diff = function(n) {
      var r = this;
      return new DataDiffer$1(n ? n.getStore().getIndices() : [], this.getStore().getIndices(), function(o) {
        return getId(n, o);
      }, function(o) {
        return getId(r, o);
      });
    }, i.prototype.getVisual = function(n) {
      var r = this._visual;
      return r && r[n];
    }, i.prototype.setVisual = function(n, r) {
      this._visual = this._visual || {}, isObject$1(n) ? extend(this._visual, n) : this._visual[n] = r;
    }, i.prototype.getItemVisual = function(n, r) {
      var o = this._itemVisuals[n], a = o && o[r];
      return a ?? this.getVisual(r);
    }, i.prototype.hasItemVisual = function() {
      return this._itemVisuals.length > 0;
    }, i.prototype.ensureUniqueItemVisual = function(n, r) {
      var o = this._itemVisuals, a = o[n];
      a || (a = o[n] = {});
      var u = a[r];
      return u == null && (u = this.getVisual(r), isArray$1(u) ? u = u.slice() : isObject$1(u) && (u = extend({}, u)), a[r] = u), u;
    }, i.prototype.setItemVisual = function(n, r, o) {
      var a = this._itemVisuals[n] || {};
      this._itemVisuals[n] = a, isObject$1(r) ? extend(a, r) : a[r] = o;
    }, i.prototype.clearAllVisual = function() {
      this._visual = {}, this._itemVisuals = [];
    }, i.prototype.setLayout = function(n, r) {
      isObject$1(n) ? extend(this._layout, n) : this._layout[n] = r;
    }, i.prototype.getLayout = function(n) {
      return this._layout[n];
    }, i.prototype.getItemLayout = function(n) {
      return this._itemLayouts[n];
    }, i.prototype.setItemLayout = function(n, r, o) {
      this._itemLayouts[n] = o ? extend(this._itemLayouts[n] || {}, r) : r;
    }, i.prototype.clearItemLayouts = function() {
      this._itemLayouts.length = 0;
    }, i.prototype.setItemGraphicEl = function(n, r) {
      var o = this.hostModel && this.hostModel.seriesIndex;
      setCommonECData(o, this.dataType, n, r), this._graphicEls[n] = r;
    }, i.prototype.getItemGraphicEl = function(n) {
      return this._graphicEls[n];
    }, i.prototype.eachItemGraphicEl = function(n, r) {
      each$4(this._graphicEls, function(o, a) {
        o && n && n.call(r, o, a);
      });
    }, i.prototype.cloneShallow = function(n) {
      return n || (n = new i(this._schema ? this._schema : map(this.dimensions, this._getDimInfo, this), this.hostModel)), transferProperties(n, this), n._store = this._store, n;
    }, i.prototype.wrapMethod = function(n, r) {
      var o = this[n];
      isFunction$1(o) && (this.__wrappedMethods = this.__wrappedMethods || [], this.__wrappedMethods.push(n), this[n] = function() {
        var a = o.apply(this, arguments);
        return r.apply(this, [a].concat(slice(arguments)));
      });
    }, i.internalField = function() {
      prepareInvertedIndex = function(n) {
        var r = n._invertedIndicesMap;
        each$4(r, function(o, a) {
          var u = n._dimInfos[a], c = u.ordinalMeta, f = n._store;
          if (c) {
            o = r[a] = new CtorInt32Array(c.categories.length);
            for (var d = 0; d < o.length; d++)
              o[d] = INDEX_NOT_FOUND;
            for (var d = 0; d < f.count(); d++)
              o[f.get(u.storeDimIndex, d)] = d;
          }
        });
      }, getIdNameFromStore = function(n, r, o) {
        return convertOptionIdName(n._getCategory(r, o), null);
      }, getId = function(n, r) {
        var o = n._idList[r];
        return o == null && n._idDimIdx != null && (o = getIdNameFromStore(n, n._idDimIdx, r)), o == null && (o = ID_PREFIX + r), o;
      }, normalizeDimensions = function(n) {
        return isArray$1(n) || (n = n != null ? [n] : []), n;
      }, cloneListForMapAndSample = function(n) {
        var r = new i(n._schema ? n._schema : map(n.dimensions, n._getDimInfo, n), n.hostModel);
        return transferProperties(r, n), r;
      }, transferProperties = function(n, r) {
        each$4(TRANSFERABLE_PROPERTIES.concat(r.__wrappedMethods || []), function(o) {
          r.hasOwnProperty(o) && (n[o] = r[o]);
        }), n.__wrappedMethods = r.__wrappedMethods, each$4(CLONE_PROPERTIES, function(o) {
          n[o] = clone$2(r[o]);
        }), n._calculationInfo = extend({}, r._calculationInfo);
      }, makeIdFromName = function(n, r) {
        var o = n._nameList, a = n._idList, u = n._nameDimIdx, c = n._idDimIdx, f = o[r], d = a[r];
        if (f == null && u != null && (o[r] = f = getIdNameFromStore(n, u, r)), d == null && c != null && (a[r] = d = getIdNameFromStore(n, c, r)), d == null && f != null) {
          var p = n._nameRepeatCount, y = p[f] = (p[f] || 0) + 1;
          d = f, y > 1 && (d += "__ec__" + y), a[r] = d;
        }
      };
    }(), i;
  }()
);
const SeriesData$1 = SeriesData;
function prepareSeriesDataSchema(i, n) {
  isSourceInstance(i) || (i = createSourceFromSeriesDataOption(i)), n = n || {};
  var r = n.coordDimensions || [], o = n.dimensionsDefine || i.dimensionsDefine || [], a = createHashMap(), u = [], c = getDimCount(i, r, o, n.dimensionsCount), f = n.canOmitUnusedDimensions && shouldOmitUnusedDimensions(c), d = o === i.dimensionsDefine, p = d ? ensureSourceDimNameMap(i) : createDimNameMap(o), y = n.encodeDefine;
  !y && n.encodeDefaulter && (y = n.encodeDefaulter(i, c));
  for (var v = createHashMap(y), g = new CtorInt32Array$1(c), _ = 0; _ < g.length; _++)
    g[_] = -1;
  function b(F) {
    var j = g[F];
    if (j < 0) {
      var D = o[F], Y = isObject$3(D) ? D : {
        name: D
      }, z = new SeriesDimensionDefine$1(), Ie = Y.name;
      Ie != null && p.get(Ie) != null && (z.name = z.displayName = Ie), Y.type != null && (z.type = Y.type), Y.displayName != null && (z.displayName = Y.displayName);
      var ue = u.length;
      return g[F] = ue, z.storeDimIndex = F, u.push(z), z;
    }
    return u[j];
  }
  if (!f)
    for (var _ = 0; _ < c; _++)
      b(_);
  v.each(function(F, j) {
    var D = normalizeToArray(F).slice();
    if (D.length === 1 && !isString$2(D[0]) && D[0] < 0) {
      v.set(j, !1);
      return;
    }
    var Y = v.set(j, []);
    each$4(D, function(z, Ie) {
      var ue = isString$2(z) ? p.get(z) : z;
      ue != null && ue < c && (Y[Ie] = ue, w(b(ue), j, Ie));
    });
  });
  var A = 0;
  each$4(r, function(F) {
    var j, D, Y, z;
    if (isString$2(F))
      j = F, z = {};
    else {
      z = F, j = z.name;
      var Ie = z.ordinalMeta;
      z.ordinalMeta = null, z = extend({}, z), z.ordinalMeta = Ie, D = z.dimsDef, Y = z.otherDims, z.name = z.coordDim = z.coordDimIndex = z.dimsDef = z.otherDims = null;
    }
    var ue = v.get(j);
    if (ue !== !1) {
      if (ue = normalizeToArray(ue), !ue.length)
        for (var Ce = 0; Ce < (D && D.length || 1); Ce++) {
          for (; A < c && b(A).coordDim != null; )
            A++;
          A < c && ue.push(A++);
        }
      each$4(ue, function(pe, Ne) {
        var xe = b(pe);
        if (d && z.type != null && (xe.type = z.type), w(defaults(xe, z), j, Ne), xe.name == null && D) {
          var hn = D[Ne];
          !isObject$3(hn) && (hn = {
            name: hn
          }), xe.name = xe.displayName = hn.name, xe.defaultTooltip = hn.defaultTooltip;
        }
        Y && defaults(xe.otherDims, Y);
      });
    }
  });
  function w(F, j, D) {
    VISUAL_DIMENSIONS.get(j) != null ? F.otherDims[j] = D : (F.coordDim = j, F.coordDimIndex = D, a.set(j, !0));
  }
  var S = n.generateCoord, T = n.generateCoordCount, x = T != null;
  T = S ? T || 1 : 0;
  var L = S || "value";
  function k(F) {
    F.name == null && (F.name = F.coordDim);
  }
  if (f)
    each$4(u, function(F) {
      k(F);
    }), u.sort(function(F, j) {
      return F.storeDimIndex - j.storeDimIndex;
    });
  else
    for (var M = 0; M < c; M++) {
      var O = b(M), ie = O.coordDim;
      ie == null && (O.coordDim = genCoordDimName(L, a, x), O.coordDimIndex = 0, (!S || T <= 0) && (O.isExtraCoord = !0), T--), k(O), O.type == null && (guessOrdinal(i, M) === BE_ORDINAL.Must || O.isExtraCoord && (O.otherDims.itemName != null || O.otherDims.seriesName != null)) && (O.type = "ordinal");
    }
  return removeDuplication(u), new SeriesDataSchema({
    source: i,
    dimensions: u,
    fullDimensionCount: c,
    dimensionOmitted: f
  });
}
function removeDuplication(i) {
  for (var n = createHashMap(), r = 0; r < i.length; r++) {
    var o = i[r], a = o.name, u = n.get(a) || 0;
    u > 0 && (o.name = a + (u - 1)), u++, n.set(a, u);
  }
}
function getDimCount(i, n, r, o) {
  var a = Math.max(i.dimensionsDetectedCount || 1, n.length, r.length, o || 0);
  return each$4(n, function(u) {
    var c;
    isObject$3(u) && (c = u.dimsDef) && (a = Math.max(a, c.length));
  }), a;
}
function genCoordDimName(i, n, r) {
  if (r || n.hasKey(i)) {
    for (var o = 0; n.hasKey(i + o); )
      o++;
    i += o;
  }
  return n.set(i, !0), i;
}
function getAxisRawValue(i, n) {
  return i.type === "category" ? i.scale.getLabel(n) : n.value;
}
function getOptionCategoryInterval(i) {
  var n = i.get("interval");
  return n ?? "auto";
}
function shouldShowAllLabels(i) {
  return i.type === "category" && getOptionCategoryInterval(i.getLabelModel()) === 0;
}
var extensions = [], extensionRegisters = {
  registerPreprocessor,
  registerProcessor,
  registerPostInit,
  registerPostUpdate,
  registerUpdateLifecycle,
  registerAction,
  registerCoordinateSystem,
  registerLayout,
  registerVisual,
  registerTransform,
  registerLoading,
  registerMap,
  registerImpl,
  PRIORITY,
  ComponentModel: ComponentModel$1,
  ComponentView: ComponentView$1,
  SeriesModel: SeriesModel$1,
  ChartView: ChartView$1,
  // TODO Use ComponentModel and SeriesModel instead of Constructor
  registerComponentModel: function(i) {
    ComponentModel$1.registerClass(i);
  },
  registerComponentView: function(i) {
    ComponentView$1.registerClass(i);
  },
  registerSeriesModel: function(i) {
    SeriesModel$1.registerClass(i);
  },
  registerChartView: function(i) {
    ChartView$1.registerClass(i);
  },
  registerSubTypeDefaulter: function(i, n) {
    ComponentModel$1.registerSubTypeDefaulter(i, n);
  },
  registerPainter: function(i, n) {
    registerPainter(i, n);
  }
};
function use(i) {
  if (isArray$1(i)) {
    each$4(i, function(n) {
      use(n);
    });
    return;
  }
  indexOf(extensions, i) >= 0 || (extensions.push(i), isFunction$1(i) && (i = {
    install: i
  }), i.install(extensionRegisters));
}
PathProxy$1.CMD;
function projectPointToLine(i, n, r, o, a, u, c, f) {
  var d = a - i, p = u - n, y = r - i, v = o - n, g = Math.sqrt(y * y + v * v);
  y /= g, v /= g;
  var _ = d * y + p * v, b = _ / g;
  f && (b = Math.min(Math.max(b, 0), 1)), b *= g;
  var A = c[0] = i + b * y, w = c[1] = n + b * v;
  return Math.sqrt((A - a) * (A - a) + (w - u) * (w - u));
}
var pt0 = new Point$1(), pt1 = new Point$1(), pt2 = new Point$1(), dir = new Point$1(), dir2 = new Point$1(), tmpArr = [], tmpProjPoint = new Point$1();
function limitTurnAngle(i, n) {
  if (n <= 180 && n > 0) {
    n = n / 180 * Math.PI, pt0.fromArray(i[0]), pt1.fromArray(i[1]), pt2.fromArray(i[2]), Point$1.sub(dir, pt0, pt1), Point$1.sub(dir2, pt2, pt1);
    var r = dir.len(), o = dir2.len();
    if (!(r < 1e-3 || o < 1e-3)) {
      dir.scale(1 / r), dir2.scale(1 / o);
      var a = dir.dot(dir2), u = Math.cos(n);
      if (u < a) {
        var c = projectPointToLine(pt1.x, pt1.y, pt2.x, pt2.y, pt0.x, pt0.y, tmpArr, !1);
        tmpProjPoint.fromArray(tmpArr), tmpProjPoint.scaleAndAdd(dir2, c / Math.tan(Math.PI - n));
        var f = pt2.x !== pt1.x ? (tmpProjPoint.x - pt1.x) / (pt2.x - pt1.x) : (tmpProjPoint.y - pt1.y) / (pt2.y - pt1.y);
        if (isNaN(f))
          return;
        f < 0 ? Point$1.copy(tmpProjPoint, pt1) : f > 1 && Point$1.copy(tmpProjPoint, pt2), tmpProjPoint.toArray(i[1]);
      }
    }
  }
}
function limitSurfaceAngle(i, n, r) {
  if (r <= 180 && r > 0) {
    r = r / 180 * Math.PI, pt0.fromArray(i[0]), pt1.fromArray(i[1]), pt2.fromArray(i[2]), Point$1.sub(dir, pt1, pt0), Point$1.sub(dir2, pt2, pt1);
    var o = dir.len(), a = dir2.len();
    if (!(o < 1e-3 || a < 1e-3)) {
      dir.scale(1 / o), dir2.scale(1 / a);
      var u = dir.dot(n), c = Math.cos(r);
      if (u < c) {
        var f = projectPointToLine(pt1.x, pt1.y, pt2.x, pt2.y, pt0.x, pt0.y, tmpArr, !1);
        tmpProjPoint.fromArray(tmpArr);
        var d = Math.PI / 2, p = Math.acos(dir2.dot(n)), y = d + p - r;
        if (y >= d)
          Point$1.copy(tmpProjPoint, pt2);
        else {
          tmpProjPoint.scaleAndAdd(dir2, f / Math.tan(Math.PI / 2 - y));
          var v = pt2.x !== pt1.x ? (tmpProjPoint.x - pt1.x) / (pt2.x - pt1.x) : (tmpProjPoint.y - pt1.y) / (pt2.y - pt1.y);
          if (isNaN(v))
            return;
          v < 0 ? Point$1.copy(tmpProjPoint, pt1) : v > 1 && Point$1.copy(tmpProjPoint, pt2);
        }
        tmpProjPoint.toArray(i[1]);
      }
    }
  }
}
function setLabelLineState(i, n, r, o) {
  var a = r === "normal", u = a ? i : i.ensureState(r);
  u.ignore = n;
  var c = o.get("smooth");
  c && c === !0 && (c = 0.3), u.shape = u.shape || {}, c > 0 && (u.shape.smooth = c);
  var f = o.getModel("lineStyle").getLineStyle();
  a ? i.useStyle(f) : u.style = f;
}
function buildLabelLinePath(i, n) {
  var r = n.smooth, o = n.points;
  if (o)
    if (i.moveTo(o[0][0], o[0][1]), r > 0 && o.length >= 3) {
      var a = dist$1(o[0], o[1]), u = dist$1(o[1], o[2]);
      if (!a || !u) {
        i.lineTo(o[1][0], o[1][1]), i.lineTo(o[2][0], o[2][1]);
        return;
      }
      var c = Math.min(a, u) * r, f = lerp([], o[1], o[0], c / a), d = lerp([], o[1], o[2], c / u), p = lerp([], f, d, 0.5);
      i.bezierCurveTo(f[0], f[1], f[0], f[1], p[0], p[1]), i.bezierCurveTo(d[0], d[1], d[0], d[1], o[2][0], o[2][1]);
    } else
      for (var y = 1; y < o.length; y++)
        i.lineTo(o[y][0], o[y][1]);
}
function setLabelLineStyle(i, n, r) {
  var o = i.getTextGuideLine(), a = i.getTextContent();
  if (!a) {
    o && i.removeTextGuideLine();
    return;
  }
  for (var u = n.normal, c = u.get("show"), f = a.ignore, d = 0; d < DISPLAY_STATES.length; d++) {
    var p = DISPLAY_STATES[d], y = n[p], v = p === "normal";
    if (y) {
      var g = y.get("show"), _ = v ? f : retrieve2(a.states[p] && a.states[p].ignore, f);
      if (_ || !retrieve2(g, c)) {
        var b = v ? o : o && o.states[p];
        b && (b.ignore = !0);
        continue;
      }
      o || (o = new Polyline$1(), i.setTextGuideLine(o), !v && (f || !c) && setLabelLineState(o, !0, "normal", n.normal), i.stateProxy && (o.stateProxy = i.stateProxy)), setLabelLineState(o, !1, p, y);
    }
  }
  if (o) {
    defaults(o.style, r), o.style.fill = null;
    var A = u.get("showAbove"), w = i.textGuideLineConfig = i.textGuideLineConfig || {};
    w.showAbove = A || !1, o.buildPath = buildLabelLinePath;
  }
}
function getLabelLineStatesModels(i, n) {
  n = n || "labelLine";
  for (var r = {
    normal: i.getModel(n)
  }, o = 0; o < SPECIAL_STATES.length; o++) {
    var a = SPECIAL_STATES[o];
    r[a] = i.getModel([a, n]);
  }
  return r;
}
function prepareLayoutList(i) {
  for (var n = [], r = 0; r < i.length; r++) {
    var o = i[r];
    if (!o.defaultAttr.ignore) {
      var a = o.label, u = a.getComputedTransform(), c = a.getBoundingRect(), f = !u || u[1] < 1e-5 && u[2] < 1e-5, d = a.style.margin || 0, p = c.clone();
      p.applyTransform(u), p.x -= d / 2, p.y -= d / 2, p.width += d, p.height += d;
      var y = f ? new OrientedBoundingRect$1(c, u) : null;
      n.push({
        label: a,
        labelLine: o.labelLine,
        rect: p,
        localRect: c,
        obb: y,
        priority: o.priority,
        defaultAttr: o.defaultAttr,
        layoutOption: o.computedLayoutOption,
        axisAligned: f,
        transform: u
      });
    }
  }
  return n;
}
function shiftLayout(i, n, r, o, a, u) {
  var c = i.length;
  if (c < 2)
    return;
  i.sort(function(ie, F) {
    return ie.rect[n] - F.rect[n];
  });
  for (var f = 0, d, p = !1, y = 0, v = 0; v < c; v++) {
    var g = i[v], _ = g.rect;
    d = _[n] - f, d < 0 && (_[n] -= d, g.label[n] -= d, p = !0);
    var b = Math.max(-d, 0);
    y += b, f = _[n] + _[r];
  }
  y > 0 && u && k(-y / c, 0, c);
  var A = i[0], w = i[c - 1], S, T;
  x(), S < 0 && M(-S, 0.8), T < 0 && M(T, 0.8), x(), L(S, T, 1), L(T, S, -1), x(), S < 0 && O(-S), T < 0 && O(T);
  function x() {
    S = A.rect[n] - o, T = a - w.rect[n] - w.rect[r];
  }
  function L(ie, F, j) {
    if (ie < 0) {
      var D = Math.min(F, -ie);
      if (D > 0) {
        k(D * j, 0, c);
        var Y = D + ie;
        Y < 0 && M(-Y * j, 1);
      } else
        M(-ie * j, 1);
    }
  }
  function k(ie, F, j) {
    ie !== 0 && (p = !0);
    for (var D = F; D < j; D++) {
      var Y = i[D], z = Y.rect;
      z[n] += ie, Y.label[n] += ie;
    }
  }
  function M(ie, F) {
    for (var j = [], D = 0, Y = 1; Y < c; Y++) {
      var z = i[Y - 1].rect, Ie = Math.max(i[Y].rect[n] - z[n] - z[r], 0);
      j.push(Ie), D += Ie;
    }
    if (D) {
      var ue = Math.min(Math.abs(ie) / D, F);
      if (ie > 0)
        for (var Y = 0; Y < c - 1; Y++) {
          var Ce = j[Y] * ue;
          k(Ce, 0, Y + 1);
        }
      else
        for (var Y = c - 1; Y > 0; Y--) {
          var Ce = j[Y - 1] * ue;
          k(-Ce, Y, c);
        }
    }
  }
  function O(ie) {
    var F = ie < 0 ? -1 : 1;
    ie = Math.abs(ie);
    for (var j = Math.ceil(ie / (c - 1)), D = 0; D < c - 1; D++)
      if (F > 0 ? k(j, 0, D + 1) : k(-j, c - D - 1, c), ie -= j, ie <= 0)
        return;
  }
  return p;
}
function shiftLayoutOnY(i, n, r, o) {
  return shiftLayout(i, "y", "height", n, r, o);
}
function hideOverlap(i) {
  var n = [];
  i.sort(function(A, w) {
    return w.priority - A.priority;
  });
  var r = new BoundingRect$1(0, 0, 0, 0);
  function o(A) {
    if (!A.ignore) {
      var w = A.ensureState("emphasis");
      w.ignore == null && (w.ignore = !1);
    }
    A.ignore = !0;
  }
  for (var a = 0; a < i.length; a++) {
    var u = i[a], c = u.axisAligned, f = u.localRect, d = u.transform, p = u.label, y = u.labelLine;
    r.copy(u.rect), r.width -= 0.1, r.height -= 0.1, r.x += 0.05, r.y += 0.05;
    for (var v = u.obb, g = !1, _ = 0; _ < n.length; _++) {
      var b = n[_];
      if (r.intersect(b.rect)) {
        if (c && b.axisAligned) {
          g = !0;
          break;
        }
        if (b.obb || (b.obb = new OrientedBoundingRect$1(b.localRect, b.transform)), v || (v = new OrientedBoundingRect$1(f, d)), v.intersect(b.obb)) {
          g = !0;
          break;
        }
      }
    }
    g ? (o(p), y && o(y)) : (p.attr("ignore", u.defaultAttr.ignore), y && y.attr("ignore", u.defaultAttr.labelGuideIgnore), n.push(u));
  }
}
var mathSin = Math.sin, mathCos = Math.cos, PI$1 = Math.PI, PI2$1 = Math.PI * 2, degree = 180 / PI$1, SVGPathRebuilder = function() {
  function i() {
  }
  return i.prototype.reset = function(n) {
    this._start = !0, this._d = [], this._str = "", this._p = Math.pow(10, n || 4);
  }, i.prototype.moveTo = function(n, r) {
    this._add("M", n, r);
  }, i.prototype.lineTo = function(n, r) {
    this._add("L", n, r);
  }, i.prototype.bezierCurveTo = function(n, r, o, a, u, c) {
    this._add("C", n, r, o, a, u, c);
  }, i.prototype.quadraticCurveTo = function(n, r, o, a) {
    this._add("Q", n, r, o, a);
  }, i.prototype.arc = function(n, r, o, a, u, c) {
    this.ellipse(n, r, o, o, 0, a, u, c);
  }, i.prototype.ellipse = function(n, r, o, a, u, c, f, d) {
    var p = f - c, y = !d, v = Math.abs(p), g = isAroundZero(v - PI2$1) || (y ? p >= PI2$1 : -p >= PI2$1), _ = p > 0 ? p % PI2$1 : p % PI2$1 + PI2$1, b = !1;
    g ? b = !0 : isAroundZero(v) ? b = !1 : b = _ >= PI$1 == !!y;
    var A = n + o * mathCos(c), w = r + a * mathSin(c);
    this._start && this._add("M", A, w);
    var S = Math.round(u * degree);
    if (g) {
      var T = 1 / this._p, x = (y ? 1 : -1) * (PI2$1 - T);
      this._add("A", o, a, S, 1, +y, n + o * mathCos(c + x), r + a * mathSin(c + x)), T > 0.01 && this._add("A", o, a, S, 0, +y, A, w);
    } else {
      var L = n + o * mathCos(f), k = r + a * mathSin(f);
      this._add("A", o, a, S, +b, +y, L, k);
    }
  }, i.prototype.rect = function(n, r, o, a) {
    this._add("M", n, r), this._add("l", o, 0), this._add("l", 0, a), this._add("l", -o, 0), this._add("Z");
  }, i.prototype.closePath = function() {
    this._d.length > 0 && this._add("Z");
  }, i.prototype._add = function(n, r, o, a, u, c, f, d, p) {
    for (var y = [], v = this._p, g = 1; g < arguments.length; g++) {
      var _ = arguments[g];
      if (isNaN(_)) {
        this._invalid = !0;
        return;
      }
      y.push(Math.round(_ * v) / v);
    }
    this._d.push(n + y.join(" ")), this._start = n === "Z";
  }, i.prototype.generateStr = function() {
    this._str = this._invalid ? "" : this._d.join(""), this._d = [];
  }, i.prototype.getStr = function() {
    return this._str;
  }, i;
}();
const SVGPathRebuilder$1 = SVGPathRebuilder;
var NONE = "none", mathRound = Math.round;
function pathHasFill(i) {
  var n = i.fill;
  return n != null && n !== NONE;
}
function pathHasStroke(i) {
  var n = i.stroke;
  return n != null && n !== NONE;
}
var strokeProps = ["lineCap", "miterLimit", "lineJoin"], svgStrokeProps = map$1(strokeProps, function(i) {
  return "stroke-" + i.toLowerCase();
});
function mapStyleToAttrs(i, n, r, o) {
  var a = n.opacity == null ? 1 : n.opacity;
  if (r instanceof ZRImage$1) {
    i("opacity", a);
    return;
  }
  if (pathHasFill(n)) {
    var u = normalizeColor(n.fill);
    i("fill", u.color);
    var c = n.fillOpacity != null ? n.fillOpacity * u.opacity * a : u.opacity * a;
    (o || c < 1) && i("fill-opacity", c);
  } else
    i("fill", NONE);
  if (pathHasStroke(n)) {
    var f = normalizeColor(n.stroke);
    i("stroke", f.color);
    var d = n.strokeNoScale ? r.getLineScale() : 1, p = d ? (n.lineWidth || 0) / d : 0, y = n.strokeOpacity != null ? n.strokeOpacity * f.opacity * a : f.opacity * a, v = n.strokeFirst;
    if ((o || p !== 1) && i("stroke-width", p), (o || v) && i("paint-order", v ? "stroke" : "fill"), (o || y < 1) && i("stroke-opacity", y), n.lineDash) {
      var g = getLineDash(r), _ = g[0], b = g[1];
      _ && (b = mathRound(b || 0), i("stroke-dasharray", _.join(",")), (b || o) && i("stroke-dashoffset", b));
    } else
      o && i("stroke-dasharray", NONE);
    for (var A = 0; A < strokeProps.length; A++) {
      var w = strokeProps[A];
      if (o || n[w] !== DEFAULT_PATH_STYLE[w]) {
        var S = n[w] || DEFAULT_PATH_STYLE[w];
        S && i(svgStrokeProps[A], S);
      }
    }
  } else
    o && i("stroke", NONE);
}
var SVGNS = "http://www.w3.org/2000/svg", XLINKNS = "http://www.w3.org/1999/xlink", XMLNS = "http://www.w3.org/2000/xmlns/", XML_NAMESPACE = "http://www.w3.org/XML/1998/namespace";
function createElement(i) {
  return document.createElementNS(SVGNS, i);
}
function createVNode(i, n, r, o, a) {
  return {
    tag: i,
    attrs: r || {},
    children: o,
    text: a,
    key: n
  };
}
function createElementOpen(i, n) {
  var r = [];
  if (n)
    for (var o in n) {
      var a = n[o], u = o;
      a !== !1 && (a !== !0 && a != null && (u += '="' + a + '"'), r.push(u));
    }
  return "<" + i + " " + r.join(" ") + ">";
}
function createElementClose(i) {
  return "</" + i + ">";
}
function vNodeToString(i, n) {
  n = n || {};
  var r = n.newline ? `
` : "";
  function o(a) {
    var u = a.children, c = a.tag, f = a.attrs;
    return createElementOpen(c, f) + encodeHTML(a.text) + (u ? "" + r + map$1(u, function(d) {
      return o(d);
    }).join(r) + r : "") + createElementClose(c);
  }
  return o(i);
}
function getCssString(i, n, r) {
  r = r || {};
  var o = r.newline ? `
` : "", a = " {" + o, u = o + "}", c = map$1(keys(i), function(d) {
    return d + a + map$1(keys(i[d]), function(p) {
      return p + ":" + i[d][p] + ";";
    }).join(o) + u;
  }).join(o), f = map$1(keys(n), function(d) {
    return "@keyframes " + d + a + map$1(keys(n[d]), function(p) {
      return p + a + map$1(keys(n[d][p]), function(y) {
        var v = n[d][p][y];
        return y === "d" && (v = 'path("' + v + '")'), y + ":" + v + ";";
      }).join(o) + u;
    }).join(o) + u;
  }).join(o);
  return !c && !f ? "" : ["<![CDATA[", c, f, "]]>"].join(o);
}
function createBrushScope(i) {
  return {
    zrId: i,
    shadowCache: {},
    patternCache: {},
    gradientCache: {},
    clipPathCache: {},
    defs: {},
    cssNodes: {},
    cssAnims: {},
    cssClassIdx: 0,
    cssAnimIdx: 0,
    shadowIdx: 0,
    gradientIdx: 0,
    patternIdx: 0,
    clipPathIdx: 0
  };
}
function createSVGVNode(i, n, r, o) {
  return createVNode("svg", "root", {
    width: i,
    height: n,
    xmlns: SVGNS,
    "xmlns:xlink": XLINKNS,
    version: "1.1",
    baseProfile: "full",
    viewBox: o ? "0 0 " + i + " " + n : !1
  }, r);
}
var EASING_MAP = {
  cubicIn: "0.32,0,0.67,0",
  cubicOut: "0.33,1,0.68,1",
  cubicInOut: "0.65,0,0.35,1",
  quadraticIn: "0.11,0,0.5,0",
  quadraticOut: "0.5,1,0.89,1",
  quadraticInOut: "0.45,0,0.55,1",
  quarticIn: "0.5,0,0.75,0",
  quarticOut: "0.25,1,0.5,1",
  quarticInOut: "0.76,0,0.24,1",
  quinticIn: "0.64,0,0.78,0",
  quinticOut: "0.22,1,0.36,1",
  quinticInOut: "0.83,0,0.17,1",
  sinusoidalIn: "0.12,0,0.39,0",
  sinusoidalOut: "0.61,1,0.88,1",
  sinusoidalInOut: "0.37,0,0.63,1",
  exponentialIn: "0.7,0,0.84,0",
  exponentialOut: "0.16,1,0.3,1",
  exponentialInOut: "0.87,0,0.13,1",
  circularIn: "0.55,0,1,0.45",
  circularOut: "0,0.55,0.45,1",
  circularInOut: "0.85,0,0.15,1"
}, transformOriginKey = "transform-origin";
function buildPathString(i, n, r) {
  var o = extend({}, i.shape);
  extend(o, n), i.buildPath(r, o);
  var a = new SVGPathRebuilder$1();
  return a.reset(getPathPrecision(i)), r.rebuildPath(a, 1), a.generateStr(), a.getStr();
}
function setTransformOrigin(i, n) {
  var r = n.originX, o = n.originY;
  (r || o) && (i[transformOriginKey] = r + "px " + o + "px");
}
var ANIMATE_STYLE_MAP = {
  fill: "fill",
  opacity: "opacity",
  lineWidth: "stroke-width",
  lineDashOffset: "stroke-dashoffset"
};
function addAnimation(i, n) {
  var r = n.zrId + "-ani-" + n.cssAnimIdx++;
  return n.cssAnims[r] = i, r;
}
function createCompoundPathCSSAnimation(i, n, r) {
  var o = i.shape.paths, a = {}, u, c;
  if (each$4(o, function(d) {
    var p = createBrushScope(r.zrId);
    p.animation = !0, createCSSAnimation(d, {}, p, !0);
    var y = p.cssAnims, v = p.cssNodes, g = keys(y), _ = g.length;
    if (_) {
      c = g[_ - 1];
      var b = y[c];
      for (var A in b) {
        var w = b[A];
        a[A] = a[A] || { d: "" }, a[A].d += w.d || "";
      }
      for (var S in v) {
        var T = v[S].animation;
        T.indexOf(c) >= 0 && (u = T);
      }
    }
  }), !!u) {
    n.d = !1;
    var f = addAnimation(a, r);
    return u.replace(c, f);
  }
}
function getEasingFunc(i) {
  return isString$2(i) ? EASING_MAP[i] ? "cubic-bezier(" + EASING_MAP[i] + ")" : createCubicEasingFunc(i) ? i : "" : "";
}
function createCSSAnimation(i, n, r, o) {
  var a = i.animators, u = a.length, c = [];
  if (i instanceof CompoundPath$1) {
    var f = createCompoundPathCSSAnimation(i, n, r);
    if (f)
      c.push(f);
    else if (!u)
      return;
  } else if (!u)
    return;
  for (var d = {}, p = 0; p < u; p++) {
    var y = a[p], v = [y.getMaxTime() / 1e3 + "s"], g = getEasingFunc(y.getClip().easing), _ = y.getDelay();
    g ? v.push(g) : v.push("linear"), _ && v.push(_ / 1e3 + "s"), y.getLoop() && v.push("infinite");
    var b = v.join(" ");
    d[b] = d[b] || [b, []], d[b][1].push(y);
  }
  function A(T) {
    var x = T[1], L = x.length, k = {}, M = {}, O = {}, ie = "animation-timing-function";
    function F(Cn, ze, _e) {
      for (var de = Cn.getTracks(), Et = Cn.getMaxTime(), Ve = 0; Ve < de.length; Ve++) {
        var $e = de[Ve];
        if ($e.needsAnimate()) {
          var kt = $e.keyframes, jt = $e.propName;
          if (_e && (jt = _e(jt)), jt)
            for (var bn = 0; bn < kt.length; bn++) {
              var oe = kt[bn], ae = Math.round(oe.time / Et * 100) + "%", re = getEasingFunc(oe.easing), V = oe.rawValue;
              (isString$2(V) || isNumber$1(V)) && (ze[ae] = ze[ae] || {}, ze[ae][jt] = oe.rawValue, re && (ze[ae][ie] = re));
            }
        }
      }
    }
    for (var j = 0; j < L; j++) {
      var D = x[j], Y = D.targetName;
      Y ? Y === "shape" && F(D, M) : !o && F(D, k);
    }
    for (var z in k) {
      var Ie = {};
      copyTransform(Ie, i), extend(Ie, k[z]);
      var ue = getSRTTransformString(Ie), Ce = k[z][ie];
      O[z] = ue ? {
        transform: ue
      } : {}, setTransformOrigin(O[z], Ie), Ce && (O[z][ie] = Ce);
    }
    var pe, Ne = !0;
    for (var z in M) {
      O[z] = O[z] || {};
      var xe = !pe, Ce = M[z][ie];
      xe && (pe = new PathProxy$1());
      var hn = pe.len();
      pe.reset(), O[z].d = buildPathString(i, M[z], pe);
      var Pt = pe.len();
      if (!xe && hn !== Pt) {
        Ne = !1;
        break;
      }
      Ce && (O[z][ie] = Ce);
    }
    if (!Ne)
      for (var z in O)
        delete O[z].d;
    if (!o)
      for (var j = 0; j < L; j++) {
        var D = x[j], Y = D.targetName;
        Y === "style" && F(D, O, function(de) {
          return ANIMATE_STYLE_MAP[de];
        });
      }
    for (var _n = keys(O), In = !0, Dt, j = 1; j < _n.length; j++) {
      var he = _n[j - 1], At = _n[j];
      if (O[he][transformOriginKey] !== O[At][transformOriginKey]) {
        In = !1;
        break;
      }
      Dt = O[he][transformOriginKey];
    }
    if (In && Dt) {
      for (var z in O)
        O[z][transformOriginKey] && delete O[z][transformOriginKey];
      n[transformOriginKey] = Dt;
    }
    if (filter(_n, function(Cn) {
      return keys(O[Cn]).length > 0;
    }).length) {
      var Lt = addAnimation(O, r);
      return Lt + " " + T[0] + " both";
    }
  }
  for (var w in d) {
    var f = A(d[w]);
    f && c.push(f);
  }
  if (c.length) {
    var S = r.zrId + "-cls-" + r.cssClassIdx++;
    r.cssNodes["." + S] = {
      animation: c.join(",")
    }, n.class = S;
  }
}
var round = Math.round;
function isImageLike(i) {
  return i && isString$2(i.src);
}
function isCanvasLike(i) {
  return i && isFunction$1(i.toDataURL);
}
function setStyleAttrs(i, n, r, o) {
  mapStyleToAttrs(function(a, u) {
    var c = a === "fill" || a === "stroke";
    c && isGradient(u) ? setGradient(n, i, a, o) : c && isPattern(u) ? setPattern(r, i, a, o) : i[a] = u;
  }, n, r, !1), setShadow(r, i, o);
}
function noRotateScale(i) {
  return isAroundZero(i[0] - 1) && isAroundZero(i[1]) && isAroundZero(i[2]) && isAroundZero(i[3] - 1);
}
function noTranslate(i) {
  return isAroundZero(i[4]) && isAroundZero(i[5]);
}
function setTransform(i, n, r) {
  if (n && !(noTranslate(n) && noRotateScale(n))) {
    var o = r ? 10 : 1e4;
    i.transform = noRotateScale(n) ? "translate(" + round(n[4] * o) / o + " " + round(n[5] * o) / o + ")" : getMatrixStr(n);
  }
}
function convertPolyShape(i, n, r) {
  for (var o = i.points, a = [], u = 0; u < o.length; u++)
    a.push(round(o[u][0] * r) / r), a.push(round(o[u][1] * r) / r);
  n.points = a.join(" ");
}
function validatePolyShape(i) {
  return !i.smooth;
}
function createAttrsConvert(i) {
  var n = map$1(i, function(r) {
    return typeof r == "string" ? [r, r] : r;
  });
  return function(r, o, a) {
    for (var u = 0; u < n.length; u++) {
      var c = n[u], f = r[c[0]];
      f != null && (o[c[1]] = round(f * a) / a);
    }
  };
}
var builtinShapesDef = {
  circle: [createAttrsConvert(["cx", "cy", "r"])],
  polyline: [convertPolyShape, validatePolyShape],
  polygon: [convertPolyShape, validatePolyShape]
};
function hasShapeAnimation(i) {
  for (var n = i.animators, r = 0; r < n.length; r++)
    if (n[r].targetName === "shape")
      return !0;
  return !1;
}
function brushSVGPath(i, n) {
  var r = i.style, o = i.shape, a = builtinShapesDef[i.type], u = {}, c = n.animation, f = "path", d = i.style.strokePercent, p = n.compress && getPathPrecision(i) || 4;
  if (a && !n.willUpdate && !(a[1] && !a[1](o)) && !(c && hasShapeAnimation(i)) && !(d < 1)) {
    f = i.type;
    var y = Math.pow(10, p);
    a[0](o, u, y);
  } else {
    var v = !i.path || i.shapeChanged();
    i.path || i.createPathProxy();
    var g = i.path;
    v && (g.beginPath(), i.buildPath(g, i.shape), i.pathUpdated());
    var _ = g.getVersion(), b = i, A = b.__svgPathBuilder;
    (b.__svgPathVersion !== _ || !A || d !== b.__svgPathStrokePercent) && (A || (A = b.__svgPathBuilder = new SVGPathRebuilder$1()), A.reset(p), g.rebuildPath(A, d), A.generateStr(), b.__svgPathVersion = _, b.__svgPathStrokePercent = d), u.d = A.getStr();
  }
  return setTransform(u, i.transform), setStyleAttrs(u, r, i, n), n.animation && createCSSAnimation(i, u, n), createVNode(f, i.id + "", u);
}
function brushSVGImage(i, n) {
  var r = i.style, o = r.image;
  if (o && !isString$2(o) && (isImageLike(o) ? o = o.src : isCanvasLike(o) && (o = o.toDataURL())), !!o) {
    var a = r.x || 0, u = r.y || 0, c = r.width, f = r.height, d = {
      href: o,
      width: c,
      height: f
    };
    return a && (d.x = a), u && (d.y = u), setTransform(d, i.transform), setStyleAttrs(d, r, i, n), n.animation && createCSSAnimation(i, d, n), createVNode("image", i.id + "", d);
  }
}
function brushSVGTSpan(i, n) {
  var r = i.style, o = r.text;
  if (o != null && (o += ""), !(!o || isNaN(r.x) || isNaN(r.y))) {
    var a = r.font || DEFAULT_FONT, u = r.x || 0, c = adjustTextY$1(r.y || 0, getLineHeight(a), r.textBaseline), f = TEXT_ALIGN_TO_ANCHOR[r.textAlign] || r.textAlign, d = {
      "dominant-baseline": "central",
      "text-anchor": f
    };
    if (hasSeparateFont(r)) {
      var p = "", y = r.fontStyle, v = parseFontSize(r.fontSize);
      if (!parseFloat(v))
        return;
      var g = r.fontFamily || DEFAULT_FONT_FAMILY, _ = r.fontWeight;
      p += "font-size:" + v + ";font-family:" + g + ";", y && y !== "normal" && (p += "font-style:" + y + ";"), _ && _ !== "normal" && (p += "font-weight:" + _ + ";"), d.style = p;
    } else
      d.style = "font: " + a;
    return o.match(/\s/) && (d["xml:space"] = "preserve"), u && (d.x = u), c && (d.y = c), setTransform(d, i.transform), setStyleAttrs(d, r, i, n), n.animation && createCSSAnimation(i, d, n), createVNode("text", i.id + "", d, void 0, o);
  }
}
function brush(i, n) {
  if (i instanceof Path$1)
    return brushSVGPath(i, n);
  if (i instanceof ZRImage$1)
    return brushSVGImage(i, n);
  if (i instanceof TSpan$1)
    return brushSVGTSpan(i, n);
}
function setShadow(i, n, r) {
  var o = i.style;
  if (hasShadow(o)) {
    var a = getShadowKey(i), u = r.shadowCache, c = u[a];
    if (!c) {
      var f = i.getGlobalScale(), d = f[0], p = f[1];
      if (!d || !p)
        return;
      var y = o.shadowOffsetX || 0, v = o.shadowOffsetY || 0, g = o.shadowBlur, _ = normalizeColor(o.shadowColor), b = _.opacity, A = _.color, w = g / 2 / d, S = g / 2 / p, T = w + " " + S;
      c = r.zrId + "-s" + r.shadowIdx++, r.defs[c] = createVNode("filter", c, {
        id: c,
        x: "-100%",
        y: "-100%",
        width: "300%",
        height: "300%"
      }, [
        createVNode("feDropShadow", "", {
          dx: y / d,
          dy: v / p,
          stdDeviation: T,
          "flood-color": A,
          "flood-opacity": b
        })
      ]), u[a] = c;
    }
    n.filter = getIdURL(c);
  }
}
function setGradient(i, n, r, o) {
  var a = i[r], u, c = {
    gradientUnits: a.global ? "userSpaceOnUse" : "objectBoundingBox"
  };
  if (isLinearGradient(a))
    u = "linearGradient", c.x1 = a.x, c.y1 = a.y, c.x2 = a.x2, c.y2 = a.y2;
  else if (isRadialGradient(a))
    u = "radialGradient", c.cx = retrieve2(a.x, 0.5), c.cy = retrieve2(a.y, 0.5), c.r = retrieve2(a.r, 0.5);
  else {
    process.env.NODE_ENV !== "production" && logError("Illegal gradient type.");
    return;
  }
  for (var f = a.colorStops, d = [], p = 0, y = f.length; p < y; ++p) {
    var v = round4(f[p].offset) * 100 + "%", g = f[p].color, _ = normalizeColor(g), b = _.color, A = _.opacity, w = {
      offset: v
    };
    w["stop-color"] = b, A < 1 && (w["stop-opacity"] = A), d.push(createVNode("stop", p + "", w));
  }
  var S = createVNode(u, "", c, d), T = vNodeToString(S), x = o.gradientCache, L = x[T];
  L || (L = o.zrId + "-g" + o.gradientIdx++, x[T] = L, c.id = L, o.defs[L] = createVNode(u, L, c, d)), n[r] = getIdURL(L);
}
function setPattern(i, n, r, o) {
  var a = i.style[r], u = i.getBoundingRect(), c = {}, f = a.repeat, d = f === "no-repeat", p = f === "repeat-x", y = f === "repeat-y", v;
  if (isImagePattern(a)) {
    var g = a.imageWidth, _ = a.imageHeight, b = void 0, A = a.image;
    if (isString$2(A) ? b = A : isImageLike(A) ? b = A.src : isCanvasLike(A) && (b = A.toDataURL()), typeof Image > "u") {
      var w = "Image width/height must been given explictly in svg-ssr renderer.";
      assert(g, w), assert(_, w);
    } else if (g == null || _ == null) {
      var S = function(j, D) {
        if (j) {
          var Y = j.elm, z = g || D.width, Ie = _ || D.height;
          j.tag === "pattern" && (p ? (Ie = 1, z /= u.width) : y && (z = 1, Ie /= u.height)), j.attrs.width = z, j.attrs.height = Ie, Y && (Y.setAttribute("width", z), Y.setAttribute("height", Ie));
        }
      }, T = createOrUpdateImage(b, null, i, function(j) {
        d || S(M, j), S(v, j);
      });
      T && T.width && T.height && (g = g || T.width, _ = _ || T.height);
    }
    v = createVNode("image", "img", {
      href: b,
      width: g,
      height: _
    }), c.width = g, c.height = _;
  } else
    a.svgElement && (v = clone$2(a.svgElement), c.width = a.svgWidth, c.height = a.svgHeight);
  if (v) {
    var x, L;
    d ? x = L = 1 : p ? (L = 1, x = c.width / u.width) : y ? (x = 1, L = c.height / u.height) : c.patternUnits = "userSpaceOnUse", x != null && !isNaN(x) && (c.width = x), L != null && !isNaN(L) && (c.height = L);
    var k = getSRTTransformString(a);
    k && (c.patternTransform = k);
    var M = createVNode("pattern", "", c, [v]), O = vNodeToString(M), ie = o.patternCache, F = ie[O];
    F || (F = o.zrId + "-p" + o.patternIdx++, ie[O] = F, c.id = F, M = o.defs[F] = createVNode("pattern", F, c, [v])), n[r] = getIdURL(F);
  }
}
function setClipPath(i, n, r) {
  var o = r.clipPathCache, a = r.defs, u = o[i.id];
  if (!u) {
    u = r.zrId + "-c" + r.clipPathIdx++;
    var c = {
      id: u
    };
    o[i.id] = u, a[u] = createVNode("clipPath", u, c, [brushSVGPath(i, r)]);
  }
  n["clip-path"] = getIdURL(u);
}
function createTextNode(i) {
  return document.createTextNode(i);
}
function insertBefore(i, n, r) {
  i.insertBefore(n, r);
}
function removeChild(i, n) {
  i.removeChild(n);
}
function appendChild(i, n) {
  i.appendChild(n);
}
function parentNode(i) {
  return i.parentNode;
}
function nextSibling(i) {
  return i.nextSibling;
}
function setTextContent(i, n) {
  i.textContent = n;
}
var colonChar = 58, xChar = 120, emptyNode = createVNode("", "");
function isUndef(i) {
  return i === void 0;
}
function isDef(i) {
  return i !== void 0;
}
function createKeyToOldIdx(i, n, r) {
  for (var o = {}, a = n; a <= r; ++a) {
    var u = i[a].key;
    u !== void 0 && (process.env.NODE_ENV !== "production" && o[u] != null && console.error("Duplicate key " + u), o[u] = a);
  }
  return o;
}
function sameVnode(i, n) {
  var r = i.key === n.key, o = i.tag === n.tag;
  return o && r;
}
function createElm(i) {
  var n, r = i.children, o = i.tag;
  if (isDef(o)) {
    var a = i.elm = createElement(o);
    if (updateAttrs(emptyNode, i), isArray$1(r))
      for (n = 0; n < r.length; ++n) {
        var u = r[n];
        u != null && appendChild(a, createElm(u));
      }
    else
      isDef(i.text) && !isObject$3(i.text) && appendChild(a, createTextNode(i.text));
  } else
    i.elm = createTextNode(i.text);
  return i.elm;
}
function addVnodes(i, n, r, o, a) {
  for (; o <= a; ++o) {
    var u = r[o];
    u != null && insertBefore(i, createElm(u), n);
  }
}
function removeVnodes(i, n, r, o) {
  for (; r <= o; ++r) {
    var a = n[r];
    if (a != null)
      if (isDef(a.tag)) {
        var u = parentNode(a.elm);
        removeChild(u, a.elm);
      } else
        removeChild(i, a.elm);
  }
}
function updateAttrs(i, n) {
  var r, o = n.elm, a = i && i.attrs || {}, u = n.attrs || {};
  if (a !== u) {
    for (r in u) {
      var c = u[r], f = a[r];
      f !== c && (c === !0 ? o.setAttribute(r, "") : c === !1 ? o.removeAttribute(r) : r.charCodeAt(0) !== xChar ? o.setAttribute(r, c) : r === "xmlns:xlink" || r === "xmlns" ? o.setAttributeNS(XMLNS, r, c) : r.charCodeAt(3) === colonChar ? o.setAttributeNS(XML_NAMESPACE, r, c) : r.charCodeAt(5) === colonChar ? o.setAttributeNS(XLINKNS, r, c) : o.setAttribute(r, c));
    }
    for (r in a)
      r in u || o.removeAttribute(r);
  }
}
function updateChildren(i, n, r) {
  for (var o = 0, a = 0, u = n.length - 1, c = n[0], f = n[u], d = r.length - 1, p = r[0], y = r[d], v, g, _, b; o <= u && a <= d; )
    c == null ? c = n[++o] : f == null ? f = n[--u] : p == null ? p = r[++a] : y == null ? y = r[--d] : sameVnode(c, p) ? (patchVnode(c, p), c = n[++o], p = r[++a]) : sameVnode(f, y) ? (patchVnode(f, y), f = n[--u], y = r[--d]) : sameVnode(c, y) ? (patchVnode(c, y), insertBefore(i, c.elm, nextSibling(f.elm)), c = n[++o], y = r[--d]) : sameVnode(f, p) ? (patchVnode(f, p), insertBefore(i, f.elm, c.elm), f = n[--u], p = r[++a]) : (isUndef(v) && (v = createKeyToOldIdx(n, o, u)), g = v[p.key], isUndef(g) ? insertBefore(i, createElm(p), c.elm) : (_ = n[g], _.tag !== p.tag ? insertBefore(i, createElm(p), c.elm) : (patchVnode(_, p), n[g] = void 0, insertBefore(i, _.elm, c.elm))), p = r[++a]);
  (o <= u || a <= d) && (o > u ? (b = r[d + 1] == null ? null : r[d + 1].elm, addVnodes(i, b, r, a, d)) : removeVnodes(i, n, o, u));
}
function patchVnode(i, n) {
  var r = n.elm = i.elm, o = i.children, a = n.children;
  i !== n && (updateAttrs(i, n), isUndef(n.text) ? isDef(o) && isDef(a) ? o !== a && updateChildren(r, o, a) : isDef(a) ? (isDef(i.text) && setTextContent(r, ""), addVnodes(r, null, a, 0, a.length - 1)) : isDef(o) ? removeVnodes(r, o, 0, o.length - 1) : isDef(i.text) && setTextContent(r, "") : i.text !== n.text && (isDef(o) && removeVnodes(r, o, 0, o.length - 1), setTextContent(r, n.text)));
}
function patch(i, n) {
  if (sameVnode(i, n))
    patchVnode(i, n);
  else {
    var r = i.elm, o = parentNode(r);
    createElm(n), o !== null && (insertBefore(o, n.elm, nextSibling(r)), removeVnodes(o, [i], 0, 0));
  }
  return n;
}
var svgId = 0, SVGPainter = function() {
  function i(n, r, o) {
    if (this.type = "svg", this.refreshHover = createMethodNotSupport("refreshHover"), this.configLayer = createMethodNotSupport("configLayer"), this.storage = r, this._opts = o = extend({}, o), this.root = n, this._id = "zr" + svgId++, this._oldVNode = createSVGVNode(o.width, o.height), n && !o.ssr) {
      var a = this._viewport = document.createElement("div");
      a.style.cssText = "position:relative;overflow:hidden";
      var u = this._svgDom = this._oldVNode.elm = createElement("svg");
      updateAttrs(null, this._oldVNode), a.appendChild(u), n.appendChild(a);
    }
    this.resize(o.width, o.height);
  }
  return i.prototype.getType = function() {
    return this.type;
  }, i.prototype.getViewportRoot = function() {
    return this._viewport;
  }, i.prototype.getViewportRootOffset = function() {
    var n = this.getViewportRoot();
    if (n)
      return {
        offsetLeft: n.offsetLeft || 0,
        offsetTop: n.offsetTop || 0
      };
  }, i.prototype.getSvgDom = function() {
    return this._svgDom;
  }, i.prototype.refresh = function() {
    if (this.root) {
      var n = this.renderToVNode({
        willUpdate: !0
      });
      n.attrs.style = "position:absolute;left:0;top:0;user-select:none", patch(this._oldVNode, n), this._oldVNode = n;
    }
  }, i.prototype.renderOneToVNode = function(n) {
    return brush(n, createBrushScope(this._id));
  }, i.prototype.renderToVNode = function(n) {
    n = n || {};
    var r = this.storage.getDisplayList(!0), o = this._width, a = this._height, u = createBrushScope(this._id);
    u.animation = n.animation, u.willUpdate = n.willUpdate, u.compress = n.compress;
    var c = [], f = this._bgVNode = createBackgroundVNode(o, a, this._backgroundColor, u);
    f && c.push(f);
    var d = n.compress ? null : this._mainVNode = createVNode("g", "main", {}, []);
    this._paintList(r, u, d ? d.children : c), d && c.push(d);
    var p = map$1(keys(u.defs), function(g) {
      return u.defs[g];
    });
    if (p.length && c.push(createVNode("defs", "defs", {}, p)), n.animation) {
      var y = getCssString(u.cssNodes, u.cssAnims, { newline: !0 });
      if (y) {
        var v = createVNode("style", "stl", {}, [], y);
        c.push(v);
      }
    }
    return createSVGVNode(o, a, c, n.useViewBox);
  }, i.prototype.renderToString = function(n) {
    return n = n || {}, vNodeToString(this.renderToVNode({
      animation: retrieve2(n.cssAnimation, !0),
      willUpdate: !1,
      compress: !0,
      useViewBox: retrieve2(n.useViewBox, !0)
    }), { newline: !0 });
  }, i.prototype.setBackgroundColor = function(n) {
    this._backgroundColor = n;
  }, i.prototype.getSvgRoot = function() {
    return this._mainVNode && this._mainVNode.elm;
  }, i.prototype._paintList = function(n, r, o) {
    for (var a = n.length, u = [], c = 0, f, d, p = 0, y = 0; y < a; y++) {
      var v = n[y];
      if (!v.invisible) {
        var g = v.__clipPaths, _ = g && g.length || 0, b = d && d.length || 0, A = void 0;
        for (A = Math.max(_ - 1, b - 1); A >= 0 && !(g && d && g[A] === d[A]); A--)
          ;
        for (var w = b - 1; w > A; w--)
          c--, f = u[c - 1];
        for (var S = A + 1; S < _; S++) {
          var T = {};
          setClipPath(g[S], T, r);
          var x = createVNode("g", "clip-g-" + p++, T, []);
          (f ? f.children : o).push(x), u[c++] = x, f = x;
        }
        d = g;
        var L = brush(v, r);
        L && (f ? f.children : o).push(L);
      }
    }
  }, i.prototype.resize = function(n, r) {
    var o = this._opts, a = this.root, u = this._viewport;
    if (n != null && (o.width = n), r != null && (o.height = r), a && u && (u.style.display = "none", n = getSize(a, 0, o), r = getSize(a, 1, o), u.style.display = ""), this._width !== n || this._height !== r) {
      if (this._width = n, this._height = r, u) {
        var c = u.style;
        c.width = n + "px", c.height = r + "px";
      }
      if (isPattern(this._backgroundColor))
        this.refresh();
      else {
        var f = this._svgDom;
        f && (f.setAttribute("width", n), f.setAttribute("height", r));
        var d = this._bgVNode && this._bgVNode.elm;
        d && (d.setAttribute("width", n), d.setAttribute("height", r));
      }
    }
  }, i.prototype.getWidth = function() {
    return this._width;
  }, i.prototype.getHeight = function() {
    return this._height;
  }, i.prototype.dispose = function() {
    this.root && (this.root.innerHTML = ""), this._svgDom = this._viewport = this.storage = this._oldVNode = this._bgVNode = this._mainVNode = null;
  }, i.prototype.clear = function() {
    this._svgDom && (this._svgDom.innerHTML = null), this._oldVNode = null;
  }, i.prototype.toDataURL = function(n) {
    var r = this.renderToString(), o = "data:image/svg+xml;";
    return n ? (r = encodeBase64(r), r && o + "base64," + r) : o + "charset=UTF-8," + encodeURIComponent(r);
  }, i;
}();
function createMethodNotSupport(i) {
  return function() {
    process.env.NODE_ENV !== "production" && logError('In SVG mode painter not support method "' + i + '"');
  };
}
function createBackgroundVNode(i, n, r, o) {
  var a;
  if (r && r !== "none")
    if (a = createVNode("rect", "bg", {
      width: i,
      height: n,
      x: "0",
      y: "0",
      id: "0"
    }), isGradient(r))
      setGradient({ fill: r }, a.attrs, "fill", o);
    else if (isPattern(r))
      setPattern({
        style: {
          fill: r
        },
        dirty: noop$1,
        getBoundingRect: function() {
          return { width: i, height: n };
        }
      }, a.attrs, "fill", o);
    else {
      var u = normalizeColor(r), c = u.color, f = u.opacity;
      a.attrs.fill = c, f < 1 && (a.attrs["fill-opacity"] = f);
    }
  return a;
}
const SVGPainter$1 = SVGPainter;
function install$7(i) {
  i.registerPainter("svg", SVGPainter$1);
}
var PI2 = Math.PI * 2, RADIAN$1 = Math.PI / 180;
function getViewRect(i, n) {
  return getLayoutRect(i.getBoxLayoutParams(), {
    width: n.getWidth(),
    height: n.getHeight()
  });
}
function getBasicPieLayout(i, n) {
  var r = getViewRect(i, n), o = i.get("center"), a = i.get("radius");
  isArray$1(a) || (a = [0, a]);
  var u = parsePercent(r.width, n.getWidth()), c = parsePercent(r.height, n.getHeight()), f = Math.min(u, c), d = parsePercent(a[0], f / 2), p = parsePercent(a[1], f / 2), y, v, g = i.coordinateSystem;
  if (g) {
    var _ = g.dataToPoint(o);
    y = _[0] || 0, v = _[1] || 0;
  } else
    isArray$1(o) || (o = [o, o]), y = parsePercent(o[0], u) + r.x, v = parsePercent(o[1], c) + r.y;
  return {
    cx: y,
    cy: v,
    r0: d,
    r: p
  };
}
function pieLayout(i, n, r) {
  n.eachSeriesByType(i, function(o) {
    var a = o.getData(), u = a.mapDimension("value"), c = getViewRect(o, r), f = getBasicPieLayout(o, r), d = f.cx, p = f.cy, y = f.r, v = f.r0, g = -o.get("startAngle") * RADIAN$1, _ = o.get("minAngle") * RADIAN$1, b = 0;
    a.each(u, function(j) {
      !isNaN(j) && b++;
    });
    var A = a.getSum(u), w = Math.PI / (A || b) * 2, S = o.get("clockwise"), T = o.get("roseType"), x = o.get("stillShowZeroSum"), L = a.getDataExtent(u);
    L[0] = 0;
    var k = PI2, M = 0, O = g, ie = S ? 1 : -1;
    if (a.setLayout({
      viewRect: c,
      r: y
    }), a.each(u, function(j, D) {
      var Y;
      if (isNaN(j)) {
        a.setItemLayout(D, {
          angle: NaN,
          startAngle: NaN,
          endAngle: NaN,
          clockwise: S,
          cx: d,
          cy: p,
          r0: v,
          r: T ? NaN : y
        });
        return;
      }
      T !== "area" ? Y = A === 0 && x ? w : j * w : Y = PI2 / b, Y < _ ? (Y = _, k -= _) : M += j;
      var z = O + ie * Y;
      a.setItemLayout(D, {
        angle: Y,
        startAngle: O,
        endAngle: z,
        clockwise: S,
        cx: d,
        cy: p,
        r0: v,
        r: T ? linearMap(j, L, [v, y]) : y
      }), O = z;
    }), k < PI2 && b)
      if (k <= 1e-3) {
        var F = PI2 / b;
        a.each(u, function(j, D) {
          if (!isNaN(j)) {
            var Y = a.getItemLayout(D);
            Y.angle = F, Y.startAngle = g + ie * D * F, Y.endAngle = g + ie * (D + 1) * F;
          }
        });
      } else
        w = k / M, O = g, a.each(u, function(j, D) {
          if (!isNaN(j)) {
            var Y = a.getItemLayout(D), z = Y.angle === _ ? _ : j * w;
            Y.startAngle = O, Y.endAngle = O + ie * z, O += ie * z;
          }
        });
  });
}
function dataFilter(i) {
  return {
    seriesType: i,
    reset: function(n, r) {
      var o = r.findComponents({
        mainType: "legend"
      });
      if (!(!o || !o.length)) {
        var a = n.getData();
        a.filterSelf(function(u) {
          for (var c = a.getName(u), f = 0; f < o.length; f++)
            if (!o[f].isSelected(c))
              return !1;
          return !0;
        });
      }
    }
  };
}
var RADIAN = Math.PI / 180;
function adjustSingleSide(i, n, r, o, a, u, c, f, d, p) {
  if (i.length < 2)
    return;
  function y(A) {
    for (var w = A.rB, S = w * w, T = 0; T < A.list.length; T++) {
      var x = A.list[T], L = Math.abs(x.label.y - r), k = o + x.len, M = k * k, O = Math.sqrt((1 - Math.abs(L * L / S)) * M), ie = n + (O + x.len2) * a, F = ie - x.label.x, j = x.targetTextWidth - F * a;
      constrainTextWidth(x, j, !0), x.label.x = ie;
    }
  }
  function v(A) {
    for (var w = {
      list: [],
      maxY: 0
    }, S = {
      list: [],
      maxY: 0
    }, T = 0; T < A.length; T++)
      if (A[T].labelAlignTo === "none") {
        var x = A[T], L = x.label.y > r ? S : w, k = Math.abs(x.label.y - r);
        if (k >= L.maxY) {
          var M = x.label.x - n - x.len2 * a, O = o + x.len, ie = Math.abs(M) < O ? Math.sqrt(k * k / (1 - M * M / O / O)) : O;
          L.rB = ie, L.maxY = k;
        }
        L.list.push(x);
      }
    y(w), y(S);
  }
  for (var g = i.length, _ = 0; _ < g; _++)
    if (i[_].position === "outer" && i[_].labelAlignTo === "labelLine") {
      var b = i[_].label.x - p;
      i[_].linePoints[1][0] += b, i[_].label.x = p;
    }
  shiftLayoutOnY(i, d, d + c) && v(i);
}
function avoidOverlap(i, n, r, o, a, u, c, f) {
  for (var d = [], p = [], y = Number.MAX_VALUE, v = -Number.MAX_VALUE, g = 0; g < i.length; g++) {
    var _ = i[g].label;
    isPositionCenter(i[g]) || (_.x < n ? (y = Math.min(y, _.x), d.push(i[g])) : (v = Math.max(v, _.x), p.push(i[g])));
  }
  for (var g = 0; g < i.length; g++) {
    var b = i[g];
    if (!isPositionCenter(b) && b.linePoints) {
      if (b.labelStyleWidth != null)
        continue;
      var _ = b.label, A = b.linePoints, w = void 0;
      b.labelAlignTo === "edge" ? _.x < n ? w = A[2][0] - b.labelDistance - c - b.edgeDistance : w = c + a - b.edgeDistance - A[2][0] - b.labelDistance : b.labelAlignTo === "labelLine" ? _.x < n ? w = y - c - b.bleedMargin : w = c + a - v - b.bleedMargin : _.x < n ? w = _.x - c - b.bleedMargin : w = c + a - _.x - b.bleedMargin, b.targetTextWidth = w, constrainTextWidth(b, w);
    }
  }
  adjustSingleSide(p, n, r, o, 1, a, u, c, f, v), adjustSingleSide(d, n, r, o, -1, a, u, c, f, y);
  for (var g = 0; g < i.length; g++) {
    var b = i[g];
    if (!isPositionCenter(b) && b.linePoints) {
      var _ = b.label, A = b.linePoints, S = b.labelAlignTo === "edge", T = _.style.padding, x = T ? T[1] + T[3] : 0, L = _.style.backgroundColor ? 0 : x, k = b.rect.width + L, M = A[1][0] - A[2][0];
      S ? _.x < n ? A[2][0] = c + b.edgeDistance + k + b.labelDistance : A[2][0] = c + a - b.edgeDistance - k - b.labelDistance : (_.x < n ? A[2][0] = _.x + b.labelDistance : A[2][0] = _.x - b.labelDistance, A[1][0] = A[2][0] + M), A[1][1] = A[2][1] = _.y;
    }
  }
}
function constrainTextWidth(i, n, r) {
  if (r === void 0 && (r = !1), i.labelStyleWidth == null) {
    var o = i.label, a = o.style, u = i.rect, c = a.backgroundColor, f = a.padding, d = f ? f[1] + f[3] : 0, p = a.overflow, y = u.width + (c ? 0 : d);
    if (n < y || r) {
      var v = u.height;
      if (p && p.match("break")) {
        o.setStyle("backgroundColor", null), o.setStyle("width", n - d);
        var g = o.getBoundingRect();
        o.setStyle("width", Math.ceil(g.width)), o.setStyle("backgroundColor", c);
      } else {
        var _ = n - d, b = n < y ? _ : (
          // Current available width is enough, but the text may have
          // already been wrapped with a smaller available width.
          r ? _ > i.unconstrainedWidth ? null : _ : (
            // Current available width is enough, so no need to
            // constrain.
            null
          )
        );
        o.setStyle("width", b);
      }
      var A = o.getBoundingRect();
      u.width = A.width;
      var w = (o.style.margin || 0) + 2.1;
      u.height = A.height + w, u.y -= (u.height - v) / 2;
    }
  }
}
function isPositionCenter(i) {
  return i.position === "center";
}
function pieLabelLayout(i) {
  var n = i.getData(), r = [], o, a, u = !1, c = (i.get("minShowLabelAngle") || 0) * RADIAN, f = n.getLayout("viewRect"), d = n.getLayout("r"), p = f.width, y = f.x, v = f.y, g = f.height;
  function _(M) {
    M.ignore = !0;
  }
  function b(M) {
    if (!M.ignore)
      return !0;
    for (var O in M.states)
      if (M.states[O].ignore === !1)
        return !0;
    return !1;
  }
  n.each(function(M) {
    var O = n.getItemGraphicEl(M), ie = O.shape, F = O.getTextContent(), j = O.getTextGuideLine(), D = n.getItemModel(M), Y = D.getModel("label"), z = Y.get("position") || D.get(["emphasis", "label", "position"]), Ie = Y.get("distanceToLabelLine"), ue = Y.get("alignTo"), Ce = parsePercent(Y.get("edgeDistance"), p), pe = Y.get("bleedMargin"), Ne = D.getModel("labelLine"), xe = Ne.get("length");
    xe = parsePercent(xe, p);
    var hn = Ne.get("length2");
    if (hn = parsePercent(hn, p), Math.abs(ie.endAngle - ie.startAngle) < c) {
      each$4(F.states, _), F.ignore = !0, j && (each$4(j.states, _), j.ignore = !0);
      return;
    }
    if (b(F)) {
      var Pt = (ie.startAngle + ie.endAngle) / 2, _n = Math.cos(Pt), In = Math.sin(Pt), Dt, he, At, Lt;
      o = ie.cx, a = ie.cy;
      var Cn = z === "inside" || z === "inner";
      if (z === "center")
        Dt = ie.cx, he = ie.cy, Lt = "center";
      else {
        var ze = (Cn ? (ie.r + ie.r0) / 2 * _n : ie.r * _n) + o, _e = (Cn ? (ie.r + ie.r0) / 2 * In : ie.r * In) + a;
        if (Dt = ze + _n * 3, he = _e + In * 3, !Cn) {
          var de = ze + _n * (xe + d - ie.r), Et = _e + In * (xe + d - ie.r), Ve = de + (_n < 0 ? -1 : 1) * hn, $e = Et;
          ue === "edge" ? Dt = _n < 0 ? y + Ce : y + p - Ce : Dt = Ve + (_n < 0 ? -Ie : Ie), he = $e, At = [[ze, _e], [de, Et], [Ve, $e]];
        }
        Lt = Cn ? "center" : ue === "edge" ? _n > 0 ? "right" : "left" : _n > 0 ? "left" : "right";
      }
      var kt = Math.PI, jt = 0, bn = Y.get("rotate");
      if (isNumber$1(bn))
        jt = bn * (kt / 180);
      else if (z === "center")
        jt = 0;
      else if (bn === "radial" || bn === !0) {
        var oe = _n < 0 ? -Pt + kt : -Pt;
        jt = oe;
      } else if (bn === "tangential" && z !== "outside" && z !== "outer") {
        var ae = Math.atan2(_n, In);
        ae < 0 && (ae = kt * 2 + ae);
        var re = In > 0;
        re && (ae = kt + ae), jt = ae - kt;
      }
      if (u = !!jt, F.x = Dt, F.y = he, F.rotation = jt, F.setStyle({
        verticalAlign: "middle"
      }), Cn) {
        F.setStyle({
          align: Lt
        });
        var le = F.states.select;
        le && (le.x += F.x, le.y += F.y);
      } else {
        var V = F.getBoundingRect().clone();
        V.applyTransform(F.getComputedTransform());
        var $ = (F.style.margin || 0) + 2.1;
        V.y -= $ / 2, V.height += $, r.push({
          label: F,
          labelLine: j,
          position: z,
          len: xe,
          len2: hn,
          minTurnAngle: Ne.get("minTurnAngle"),
          maxSurfaceAngle: Ne.get("maxSurfaceAngle"),
          surfaceNormal: new Point$1(_n, In),
          linePoints: At,
          textAlign: Lt,
          labelDistance: Ie,
          labelAlignTo: ue,
          edgeDistance: Ce,
          bleedMargin: pe,
          rect: V,
          unconstrainedWidth: V.width,
          labelStyleWidth: F.style.width
        });
      }
      O.setTextConfig({
        inside: Cn
      });
    }
  }), !u && i.get("avoidLabelOverlap") && avoidOverlap(r, o, a, d, p, g, y, v);
  for (var A = 0; A < r.length; A++) {
    var w = r[A], S = w.label, T = w.labelLine, x = isNaN(S.x) || isNaN(S.y);
    if (S) {
      S.setStyle({
        align: w.textAlign
      }), x && (each$4(S.states, _), S.ignore = !0);
      var L = S.states.select;
      L && (L.x += S.x, L.y += S.y);
    }
    if (T) {
      var k = w.linePoints;
      x || !k ? (each$4(T.states, _), T.ignore = !0) : (limitTurnAngle(k, w.minTurnAngle), limitSurfaceAngle(k, w.surfaceNormal, w.maxSurfaceAngle), T.setShape({
        points: k
      }), S.__hostTarget.textGuideLineConfig = {
        anchor: new Point$1(k[0][0], k[0][1])
      });
    }
  }
}
function getSectorCornerRadius(i, n, r) {
  var o = i.get("borderRadius");
  if (o == null)
    return r ? {
      cornerRadius: 0
    } : null;
  isArray$1(o) || (o = [o, o, o, o]);
  var a = Math.abs(n.r || 0 - n.r0 || 0);
  return {
    cornerRadius: map$1(o, function(u) {
      return parsePercent$1(u, a);
    })
  };
}
var PiePiece = (
  /** @class */
  function(i) {
    __extends(n, i);
    function n(r, o, a) {
      var u = i.call(this) || this;
      u.z2 = 2;
      var c = new ZRText$1();
      return u.setTextContent(c), u.updateData(r, o, a, !0), u;
    }
    return n.prototype.updateData = function(r, o, a, u) {
      var c = this, f = r.hostModel, d = r.getItemModel(o), p = d.getModel("emphasis"), y = r.getItemLayout(o), v = extend(getSectorCornerRadius(d.getModel("itemStyle"), y, !0), y);
      if (isNaN(v.startAngle)) {
        c.setShape(v);
        return;
      }
      if (u) {
        c.setShape(v);
        var g = f.getShallow("animationType");
        f.ecModel.ssr ? (initProps(c, {
          scaleX: 0,
          scaleY: 0
        }, f, {
          dataIndex: o,
          isFrom: !0
        }), c.originX = v.cx, c.originY = v.cy) : g === "scale" ? (c.shape.r = y.r0, initProps(c, {
          shape: {
            r: y.r
          }
        }, f, o)) : a != null ? (c.setShape({
          startAngle: a,
          endAngle: a
        }), initProps(c, {
          shape: {
            startAngle: y.startAngle,
            endAngle: y.endAngle
          }
        }, f, o)) : (c.shape.endAngle = y.startAngle, updateProps$1(c, {
          shape: {
            endAngle: y.endAngle
          }
        }, f, o));
      } else
        saveOldStyle(c), updateProps$1(c, {
          shape: v
        }, f, o);
      c.useStyle(r.getItemVisual(o, "style")), setStatesStylesFromModel(c, d);
      var _ = (y.startAngle + y.endAngle) / 2, b = f.get("selectedOffset"), A = Math.cos(_) * b, w = Math.sin(_) * b, S = d.getShallow("cursor");
      S && c.attr("cursor", S), this._updateLabel(f, r, o), c.ensureState("emphasis").shape = extend({
        r: y.r + (p.get("scale") && p.get("scaleSize") || 0)
      }, getSectorCornerRadius(p.getModel("itemStyle"), y)), extend(c.ensureState("select"), {
        x: A,
        y: w,
        shape: getSectorCornerRadius(d.getModel(["select", "itemStyle"]), y)
      }), extend(c.ensureState("blur"), {
        shape: getSectorCornerRadius(d.getModel(["blur", "itemStyle"]), y)
      });
      var T = c.getTextGuideLine(), x = c.getTextContent();
      T && extend(T.ensureState("select"), {
        x: A,
        y: w
      }), extend(x.ensureState("select"), {
        x: A,
        y: w
      }), toggleHoverEmphasis(this, p.get("focus"), p.get("blurScope"), p.get("disabled"));
    }, n.prototype._updateLabel = function(r, o, a) {
      var u = this, c = o.getItemModel(a), f = c.getModel("labelLine"), d = o.getItemVisual(a, "style"), p = d && d.fill, y = d && d.opacity;
      setLabelStyle(u, getLabelStatesModels(c), {
        labelFetcher: o.hostModel,
        labelDataIndex: a,
        inheritColor: p,
        defaultOpacity: y,
        defaultText: r.getFormattedLabel(a, "normal") || o.getName(a)
      });
      var v = u.getTextContent();
      u.setTextConfig({
        // reset position, rotation
        position: null,
        rotation: null
      }), v.attr({
        z2: 10
      });
      var g = r.get(["label", "position"]);
      if (g !== "outside" && g !== "outer")
        u.removeTextGuideLine();
      else {
        var _ = this.getTextGuideLine();
        _ || (_ = new Polyline$1(), this.setTextGuideLine(_)), setLabelLineStyle(this, getLabelLineStatesModels(c), {
          stroke: p,
          opacity: retrieve3(f.get(["lineStyle", "opacity"]), y, 1)
        });
      }
    }, n;
  }(Sector$1)
), PieView = (
  /** @class */
  function(i) {
    __extends(n, i);
    function n() {
      var r = i !== null && i.apply(this, arguments) || this;
      return r.ignoreLabelLineUpdate = !0, r;
    }
    return n.prototype.render = function(r, o, a, u) {
      var c = r.getData(), f = this._data, d = this.group, p;
      if (!f && c.count() > 0) {
        for (var y = c.getItemLayout(0), v = 1; isNaN(y && y.startAngle) && v < c.count(); ++v)
          y = c.getItemLayout(v);
        y && (p = y.startAngle);
      }
      if (this._emptyCircleSector && d.remove(this._emptyCircleSector), c.count() === 0 && r.get("showEmptyCircle")) {
        var g = new Sector$1({
          shape: getBasicPieLayout(r, a)
        });
        g.useStyle(r.getModel("emptyCircleStyle").getItemStyle()), this._emptyCircleSector = g, d.add(g);
      }
      c.diff(f).add(function(_) {
        var b = new PiePiece(c, _, p);
        c.setItemGraphicEl(_, b), d.add(b);
      }).update(function(_, b) {
        var A = f.getItemGraphicEl(b);
        A.updateData(c, _, p), A.off("click"), d.add(A), c.setItemGraphicEl(_, A);
      }).remove(function(_) {
        var b = f.getItemGraphicEl(_);
        removeElementWithFadeOut(b, r, _);
      }).execute(), pieLabelLayout(r), r.get("animationTypeUpdate") !== "expansion" && (this._data = c);
    }, n.prototype.dispose = function() {
    }, n.prototype.containPoint = function(r, o) {
      var a = o.getData(), u = a.getItemLayout(0);
      if (u) {
        var c = r[0] - u.cx, f = r[1] - u.cy, d = Math.sqrt(c * c + f * f);
        return d <= u.r && d >= u.r0;
      }
    }, n.type = "pie", n;
  }(ChartView$1)
);
const PieView$1 = PieView;
function createSeriesDataSimply(i, n, r) {
  n = isArray$1(n) && {
    coordDimensions: n
  } || extend({
    encodeDefine: i.getEncode()
  }, n);
  var o = i.getSource(), a = prepareSeriesDataSchema(o, n).dimensions, u = new SeriesData$1(a, i);
  return u.initData(o, r), u;
}
var LegendVisualProvider = (
  /** @class */
  function() {
    function i(n, r) {
      this._getDataWithEncodedVisual = n, this._getRawData = r;
    }
    return i.prototype.getAllNames = function() {
      var n = this._getRawData();
      return n.mapArray(n.getName);
    }, i.prototype.containName = function(n) {
      var r = this._getRawData();
      return r.indexOfName(n) >= 0;
    }, i.prototype.indexOfName = function(n) {
      var r = this._getDataWithEncodedVisual();
      return r.indexOfName(n);
    }, i.prototype.getItemVisual = function(n, r) {
      var o = this._getDataWithEncodedVisual();
      return o.getItemVisual(n, r);
    }, i;
  }()
);
const LegendVisualProvider$1 = LegendVisualProvider;
var innerData = makeInner(), PieSeriesModel = (
  /** @class */
  function(i) {
    __extends(n, i);
    function n() {
      return i !== null && i.apply(this, arguments) || this;
    }
    return n.prototype.init = function(r) {
      i.prototype.init.apply(this, arguments), this.legendVisualProvider = new LegendVisualProvider$1(bind$1(this.getData, this), bind$1(this.getRawData, this)), this._defaultLabelLine(r);
    }, n.prototype.mergeOption = function() {
      i.prototype.mergeOption.apply(this, arguments);
    }, n.prototype.getInitialData = function() {
      return createSeriesDataSimply(this, {
        coordDimensions: ["value"],
        encodeDefaulter: curry$1(makeSeriesEncodeForNameBased, this)
      });
    }, n.prototype.getDataParams = function(r) {
      var o = this.getData(), a = innerData(o), u = a.seats;
      if (!u) {
        var c = [];
        o.each(o.mapDimension("value"), function(d) {
          c.push(d);
        }), u = a.seats = getPercentSeats(c, o.hostModel.get("percentPrecision"));
      }
      var f = i.prototype.getDataParams.call(this, r);
      return f.percent = u[r] || 0, f.$vars.push("percent"), f;
    }, n.prototype._defaultLabelLine = function(r) {
      defaultEmphasis(r, "labelLine", ["show"]);
      var o = r.labelLine, a = r.emphasis.labelLine;
      o.show = o.show && r.label.show, a.show = a.show && r.emphasis.label.show;
    }, n.type = "series.pie", n.defaultOption = {
      // zlevel: 0,
      z: 2,
      legendHoverLink: !0,
      colorBy: "data",
      // 默认全局居中
      center: ["50%", "50%"],
      radius: [0, "75%"],
      // 默认顺时针
      clockwise: !0,
      startAngle: 90,
      // 最小角度改为0
      minAngle: 0,
      // If the angle of a sector less than `minShowLabelAngle`,
      // the label will not be displayed.
      minShowLabelAngle: 0,
      // 选中时扇区偏移量
      selectedOffset: 10,
      // 选择模式，默认关闭，可选single，multiple
      // selectedMode: false,
      // 南丁格尔玫瑰图模式，'radius'（半径） | 'area'（面积）
      // roseType: null,
      percentPrecision: 2,
      // If still show when all data zero.
      stillShowZeroSum: !0,
      // cursor: null,
      left: 0,
      top: 0,
      right: 0,
      bottom: 0,
      width: null,
      height: null,
      label: {
        // color: 'inherit',
        // If rotate around circle
        rotate: 0,
        show: !0,
        overflow: "truncate",
        // 'outer', 'inside', 'center'
        position: "outer",
        // 'none', 'labelLine', 'edge'. Works only when position is 'outer'
        alignTo: "none",
        // Closest distance between label and chart edge.
        // Works only position is 'outer' and alignTo is 'edge'.
        edgeDistance: "25%",
        // Works only position is 'outer' and alignTo is not 'edge'.
        bleedMargin: 10,
        // Distance between text and label line.
        distanceToLabelLine: 5
        // formatter: 标签文本格式器，同 tooltip.formatter，不支持异步回调
        // 默认使用全局文本样式，详见 textStyle
        // distance: 当position为inner时有效，为label位置到圆心的距离与圆半径(环状图为内外半径和)的比例系数
      },
      // Enabled when label.normal.position is 'outer'
      labelLine: {
        show: !0,
        // 引导线两段中的第一段长度
        length: 15,
        // 引导线两段中的第二段长度
        length2: 15,
        smooth: !1,
        minTurnAngle: 90,
        maxSurfaceAngle: 90,
        lineStyle: {
          // color: 各异,
          width: 1,
          type: "solid"
        }
      },
      itemStyle: {
        borderWidth: 1,
        borderJoin: "round"
      },
      showEmptyCircle: !0,
      emptyCircleStyle: {
        color: "lightgray",
        opacity: 1
      },
      labelLayout: {
        // Hide the overlapped label.
        hideOverlap: !0
      },
      emphasis: {
        scale: !0,
        scaleSize: 5
      },
      // If use strategy to avoid label overlapping
      avoidLabelOverlap: !0,
      // Animation type. Valid values: expansion, scale
      animationType: "expansion",
      animationDuration: 1e3,
      // Animation type when update. Valid values: transition, expansion
      animationTypeUpdate: "transition",
      animationEasingUpdate: "cubicInOut",
      animationDurationUpdate: 500,
      animationEasing: "cubicInOut"
    }, n;
  }(SeriesModel$1)
);
const PieSeriesModel$1 = PieSeriesModel;
function negativeDataFilter(i) {
  return {
    seriesType: i,
    reset: function(n, r) {
      var o = n.getData();
      o.filterSelf(function(a) {
        var u = o.mapDimension("value"), c = o.get(u, a);
        return !(isNumber$1(c) && !isNaN(c) && c < 0);
      });
    }
  };
}
function install$6(i) {
  i.registerChartView(PieView$1), i.registerSeriesModel(PieSeriesModel$1), createLegacyDataSelectAction("pie", i.registerAction), i.registerLayout(curry$1(pieLayout, "pie")), i.registerProcessor(dataFilter("pie")), i.registerProcessor(negativeDataFilter("pie"));
}
function layout(i, n, r) {
  r = r || {};
  var o = i.coordinateSystem, a = n.axis, u = {}, c = a.getAxesOnZeroOf()[0], f = a.position, d = c ? "onZero" : f, p = a.dim, y = o.getRect(), v = [y.x, y.x + y.width, y.y, y.y + y.height], g = {
    left: 0,
    right: 1,
    top: 0,
    bottom: 1,
    onZero: 2
  }, _ = n.get("offset") || 0, b = p === "x" ? [v[2] - _, v[3] + _] : [v[0] - _, v[1] + _];
  if (c) {
    var A = c.toGlobalCoord(c.dataToCoord(0));
    b[g.onZero] = Math.max(Math.min(A, b[1]), b[0]);
  }
  u.position = [p === "y" ? b[g[d]] : v[0], p === "x" ? b[g[d]] : v[3]], u.rotation = Math.PI / 2 * (p === "x" ? 0 : 1);
  var w = {
    top: -1,
    bottom: 1,
    left: -1,
    right: 1
  };
  u.labelDirection = u.tickDirection = u.nameDirection = w[f], u.labelOffset = c ? b[g[f]] - b[g.onZero] : 0, n.get(["axisTick", "inside"]) && (u.tickDirection = -u.tickDirection), retrieve(r.labelInside, n.get(["axisLabel", "inside"])) && (u.labelDirection = -u.labelDirection);
  var S = n.get(["axisLabel", "rotate"]);
  return u.labelRotate = d === "top" ? -S : S, u.z2 = 1, u;
}
var PI = Math.PI, AxisBuilder = (
  /** @class */
  function() {
    function i(n, r) {
      this.group = new Group$3(), this.opt = r, this.axisModel = n, defaults(r, {
        labelOffset: 0,
        nameDirection: 1,
        tickDirection: 1,
        labelDirection: 1,
        silent: !0,
        handleAutoShown: function() {
          return !0;
        }
      });
      var o = new Group$3({
        x: r.position[0],
        y: r.position[1],
        rotation: r.rotation
      });
      o.updateTransform(), this._transformGroup = o;
    }
    return i.prototype.hasBuilder = function(n) {
      return !!builders[n];
    }, i.prototype.add = function(n) {
      builders[n](this.opt, this.axisModel, this.group, this._transformGroup);
    }, i.prototype.getGroup = function() {
      return this.group;
    }, i.innerTextLayout = function(n, r, o) {
      var a = remRadian(r - n), u, c;
      return isRadianAroundZero(a) ? (c = o > 0 ? "top" : "bottom", u = "center") : isRadianAroundZero(a - PI) ? (c = o > 0 ? "bottom" : "top", u = "center") : (c = "middle", a > 0 && a < PI ? u = o > 0 ? "right" : "left" : u = o > 0 ? "left" : "right"), {
        rotation: a,
        textAlign: u,
        textVerticalAlign: c
      };
    }, i.makeAxisEventDataBase = function(n) {
      var r = {
        componentType: n.mainType,
        componentIndex: n.componentIndex
      };
      return r[n.mainType + "Index"] = n.componentIndex, r;
    }, i.isLabelSilent = function(n) {
      var r = n.get("tooltip");
      return n.get("silent") || !(n.get("triggerEvent") || r && r.show);
    }, i;
  }()
), builders = {
  axisLine: function(i, n, r, o) {
    var a = n.get(["axisLine", "show"]);
    if (a === "auto" && i.handleAutoShown && (a = i.handleAutoShown("axisLine")), !!a) {
      var u = n.axis.getExtent(), c = o.transform, f = [u[0], 0], d = [u[1], 0], p = f[0] > d[0];
      c && (applyTransform$1(f, f, c), applyTransform$1(d, d, c));
      var y = extend({
        lineCap: "round"
      }, n.getModel(["axisLine", "lineStyle"]).getLineStyle()), v = new Line$1({
        shape: {
          x1: f[0],
          y1: f[1],
          x2: d[0],
          y2: d[1]
        },
        style: y,
        strokeContainThreshold: i.strokeContainThreshold || 5,
        silent: !0,
        z2: 1
      });
      subPixelOptimizeLine(v.shape, v.style.lineWidth), v.anid = "line", r.add(v);
      var g = n.get(["axisLine", "symbol"]);
      if (g != null) {
        var _ = n.get(["axisLine", "symbolSize"]);
        isString$2(g) && (g = [g, g]), (isString$2(_) || isNumber$1(_)) && (_ = [_, _]);
        var b = normalizeSymbolOffset(n.get(["axisLine", "symbolOffset"]) || 0, _), A = _[0], w = _[1];
        each$4([{
          rotate: i.rotation + Math.PI / 2,
          offset: b[0],
          r: 0
        }, {
          rotate: i.rotation - Math.PI / 2,
          offset: b[1],
          r: Math.sqrt((f[0] - d[0]) * (f[0] - d[0]) + (f[1] - d[1]) * (f[1] - d[1]))
        }], function(S, T) {
          if (g[T] !== "none" && g[T] != null) {
            var x = createSymbol(g[T], -A / 2, -w / 2, A, w, y.stroke, !0), L = S.r + S.offset, k = p ? d : f;
            x.attr({
              rotation: S.rotate,
              x: k[0] + L * Math.cos(i.rotation),
              y: k[1] - L * Math.sin(i.rotation),
              silent: !0,
              z2: 11
            }), r.add(x);
          }
        });
      }
    }
  },
  axisTickLabel: function(i, n, r, o) {
    var a = buildAxisMajorTicks(r, o, n, i), u = buildAxisLabel(r, o, n, i);
    if (fixMinMaxLabelShow(n, u, a), buildAxisMinorTicks(r, o, n, i.tickDirection), n.get(["axisLabel", "hideOverlap"])) {
      var c = prepareLayoutList(map$1(u, function(f) {
        return {
          label: f,
          priority: f.z2,
          defaultAttr: {
            ignore: f.ignore
          }
        };
      }));
      hideOverlap(c);
    }
  },
  axisName: function(i, n, r, o) {
    var a = retrieve(i.axisName, n.get("name"));
    if (a) {
      var u = n.get("nameLocation"), c = i.nameDirection, f = n.getModel("nameTextStyle"), d = n.get("nameGap") || 0, p = n.axis.getExtent(), y = p[0] > p[1] ? -1 : 1, v = [
        u === "start" ? p[0] - y * d : u === "end" ? p[1] + y * d : (p[0] + p[1]) / 2,
        // Reuse labelOffset.
        isNameLocationCenter(u) ? i.labelOffset + c * d : 0
      ], g, _ = n.get("nameRotate");
      _ != null && (_ = _ * PI / 180);
      var b;
      isNameLocationCenter(u) ? g = AxisBuilder.innerTextLayout(
        i.rotation,
        _ ?? i.rotation,
        // Adapt to axis.
        c
      ) : (g = endTextLayout(i.rotation, u, _ || 0, p), b = i.axisNameAvailableWidth, b != null && (b = Math.abs(b / Math.sin(g.rotation)), !isFinite(b) && (b = null)));
      var A = f.getFont(), w = n.get("nameTruncate", !0) || {}, S = w.ellipsis, T = retrieve(i.nameTruncateMaxWidth, w.maxWidth, b), x = new ZRText$1({
        x: v[0],
        y: v[1],
        rotation: g.rotation,
        silent: AxisBuilder.isLabelSilent(n),
        style: createTextStyle(f, {
          text: a,
          font: A,
          overflow: "truncate",
          width: T,
          ellipsis: S,
          fill: f.getTextColor() || n.get(["axisLine", "lineStyle", "color"]),
          align: f.get("align") || g.textAlign,
          verticalAlign: f.get("verticalAlign") || g.textVerticalAlign
        }),
        z2: 1
      });
      if (setTooltipConfig({
        el: x,
        componentModel: n,
        itemName: a
      }), x.__fullText = a, x.anid = "name", n.get("triggerEvent")) {
        var L = AxisBuilder.makeAxisEventDataBase(n);
        L.targetType = "axisName", L.name = a, getECData(x).eventData = L;
      }
      o.add(x), x.updateTransform(), r.add(x), x.decomposeTransform();
    }
  }
};
function endTextLayout(i, n, r, o) {
  var a = remRadian(r - i), u, c, f = o[0] > o[1], d = n === "start" && !f || n !== "start" && f;
  return isRadianAroundZero(a - PI / 2) ? (c = d ? "bottom" : "top", u = "center") : isRadianAroundZero(a - PI * 1.5) ? (c = d ? "top" : "bottom", u = "center") : (c = "middle", a < PI * 1.5 && a > PI / 2 ? u = d ? "left" : "right" : u = d ? "right" : "left"), {
    rotation: a,
    textAlign: u,
    textVerticalAlign: c
  };
}
function fixMinMaxLabelShow(i, n, r) {
  if (!shouldShowAllLabels(i.axis)) {
    var o = i.get(["axisLabel", "showMinLabel"]), a = i.get(["axisLabel", "showMaxLabel"]);
    n = n || [], r = r || [];
    var u = n[0], c = n[1], f = n[n.length - 1], d = n[n.length - 2], p = r[0], y = r[1], v = r[r.length - 1], g = r[r.length - 2];
    o === !1 ? (ignoreEl(u), ignoreEl(p)) : isTwoLabelOverlapped(u, c) && (o ? (ignoreEl(c), ignoreEl(y)) : (ignoreEl(u), ignoreEl(p))), a === !1 ? (ignoreEl(f), ignoreEl(v)) : isTwoLabelOverlapped(d, f) && (a ? (ignoreEl(d), ignoreEl(g)) : (ignoreEl(f), ignoreEl(v)));
  }
}
function ignoreEl(i) {
  i && (i.ignore = !0);
}
function isTwoLabelOverlapped(i, n) {
  var r = i && i.getBoundingRect().clone(), o = n && n.getBoundingRect().clone();
  if (!(!r || !o)) {
    var a = identity$1([]);
    return rotate(a, a, -i.rotation), r.applyTransform(mul([], a, i.getLocalTransform())), o.applyTransform(mul([], a, n.getLocalTransform())), r.intersect(o);
  }
}
function isNameLocationCenter(i) {
  return i === "middle" || i === "center";
}
function createTicks(i, n, r, o, a) {
  for (var u = [], c = [], f = [], d = 0; d < i.length; d++) {
    var p = i[d].coord;
    c[0] = p, c[1] = 0, f[0] = p, f[1] = r, n && (applyTransform$1(c, c, n), applyTransform$1(f, f, n));
    var y = new Line$1({
      shape: {
        x1: c[0],
        y1: c[1],
        x2: f[0],
        y2: f[1]
      },
      style: o,
      z2: 2,
      autoBatch: !0,
      silent: !0
    });
    subPixelOptimizeLine(y.shape, y.style.lineWidth), y.anid = a + "_" + i[d].tickValue, u.push(y);
  }
  return u;
}
function buildAxisMajorTicks(i, n, r, o) {
  var a = r.axis, u = r.getModel("axisTick"), c = u.get("show");
  if (c === "auto" && o.handleAutoShown && (c = o.handleAutoShown("axisTick")), !(!c || a.scale.isBlank())) {
    for (var f = u.getModel("lineStyle"), d = o.tickDirection * u.get("length"), p = a.getTicksCoords(), y = createTicks(p, n.transform, d, defaults(f.getLineStyle(), {
      stroke: r.get(["axisLine", "lineStyle", "color"])
    }), "ticks"), v = 0; v < y.length; v++)
      i.add(y[v]);
    return y;
  }
}
function buildAxisMinorTicks(i, n, r, o) {
  var a = r.axis, u = r.getModel("minorTick");
  if (!(!u.get("show") || a.scale.isBlank())) {
    var c = a.getMinorTicksCoords();
    if (c.length)
      for (var f = u.getModel("lineStyle"), d = o * u.get("length"), p = defaults(f.getLineStyle(), defaults(r.getModel("axisTick").getLineStyle(), {
        stroke: r.get(["axisLine", "lineStyle", "color"])
      })), y = 0; y < c.length; y++)
        for (var v = createTicks(c[y], n.transform, d, p, "minorticks_" + y), g = 0; g < v.length; g++)
          i.add(v[g]);
  }
}
function buildAxisLabel(i, n, r, o) {
  var a = r.axis, u = retrieve(o.axisLabelShow, r.get(["axisLabel", "show"]));
  if (!(!u || a.scale.isBlank())) {
    var c = r.getModel("axisLabel"), f = c.get("margin"), d = a.getViewLabels(), p = (retrieve(o.labelRotate, c.get("rotate")) || 0) * PI / 180, y = AxisBuilder.innerTextLayout(o.rotation, p, o.labelDirection), v = r.getCategories && r.getCategories(!0), g = [], _ = AxisBuilder.isLabelSilent(r), b = r.get("triggerEvent");
    return each$4(d, function(A, w) {
      var S = a.scale.type === "ordinal" ? a.scale.getRawOrdinalNumber(A.tickValue) : A.tickValue, T = A.formattedLabel, x = A.rawLabel, L = c;
      if (v && v[S]) {
        var k = v[S];
        isObject$3(k) && k.textStyle && (L = new Model$1(k.textStyle, c, r.ecModel));
      }
      var M = L.getTextColor() || r.get(["axisLine", "lineStyle", "color"]), O = a.dataToCoord(S), ie = new ZRText$1({
        x: O,
        y: o.labelOffset + o.labelDirection * f,
        rotation: y.rotation,
        silent: _,
        z2: 10 + (A.level || 0),
        style: createTextStyle(L, {
          text: T,
          align: L.getShallow("align", !0) || y.textAlign,
          verticalAlign: L.getShallow("verticalAlign", !0) || L.getShallow("baseline", !0) || y.textVerticalAlign,
          fill: isFunction$1(M) ? M(
            // (1) In category axis with data zoom, tick is not the original
            // index of axis.data. So tick should not be exposed to user
            // in category axis.
            // (2) Compatible with previous version, which always use formatted label as
            // input. But in interval scale the formatted label is like '223,445', which
            // maked user repalce ','. So we modify it to return original val but remain
            // it as 'string' to avoid error in replacing.
            a.type === "category" ? x : a.type === "value" ? S + "" : S,
            w
          ) : M
        })
      });
      if (ie.anid = "label_" + S, b) {
        var F = AxisBuilder.makeAxisEventDataBase(r);
        F.targetType = "axisLabel", F.value = x, F.tickIndex = w, a.type === "category" && (F.dataIndex = S), getECData(ie).eventData = F;
      }
      n.add(ie), ie.updateTransform(), g.push(ie), i.add(ie), ie.decomposeTransform();
    }), g;
  }
}
const AxisBuilder$1 = AxisBuilder;
function collect(i, n) {
  var r = {
    /**
     * key: makeKey(axis.model)
     * value: {
     *      axis,
     *      coordSys,
     *      axisPointerModel,
     *      triggerTooltip,
     *      involveSeries,
     *      snap,
     *      seriesModels,
     *      seriesDataCount
     * }
     */
    axesInfo: {},
    seriesInvolved: !1,
    /**
     * key: makeKey(coordSys.model)
     * value: Object: key makeKey(axis.model), value: axisInfo
     */
    coordSysAxesInfo: {},
    coordSysMap: {}
  };
  return collectAxesInfo(r, i, n), r.seriesInvolved && collectSeriesInfo(r, i), r;
}
function collectAxesInfo(i, n, r) {
  var o = n.getComponent("tooltip"), a = n.getComponent("axisPointer"), u = a.get("link", !0) || [], c = [];
  each$4(r.getCoordinateSystems(), function(f) {
    if (!f.axisPointerEnabled)
      return;
    var d = makeKey(f.model), p = i.coordSysAxesInfo[d] = {};
    i.coordSysMap[d] = f;
    var y = f.model, v = y.getModel("tooltip", o);
    if (each$4(f.getAxes(), curry$1(A, !1, null)), f.getTooltipAxes && o && v.get("show")) {
      var g = v.get("trigger") === "axis", _ = v.get(["axisPointer", "type"]) === "cross", b = f.getTooltipAxes(v.get(["axisPointer", "axis"]));
      (g || _) && each$4(b.baseAxes, curry$1(A, _ ? "cross" : !0, g)), _ && each$4(b.otherAxes, curry$1(A, "cross", !1));
    }
    function A(w, S, T) {
      var x = T.model.getModel("axisPointer", a), L = x.get("show");
      if (!(!L || L === "auto" && !w && !isHandleTrigger(x))) {
        S == null && (S = x.get("triggerTooltip")), x = w ? makeAxisPointerModel(T, v, a, n, w, S) : x;
        var k = x.get("snap"), M = makeKey(T.model), O = S || k || T.type === "category", ie = i.axesInfo[M] = {
          key: M,
          axis: T,
          coordSys: f,
          axisPointerModel: x,
          triggerTooltip: S,
          involveSeries: O,
          snap: k,
          useHandle: isHandleTrigger(x),
          seriesModels: [],
          linkGroup: null
        };
        p[M] = ie, i.seriesInvolved = i.seriesInvolved || O;
        var F = getLinkGroupIndex(u, T);
        if (F != null) {
          var j = c[F] || (c[F] = {
            axesInfo: {}
          });
          j.axesInfo[M] = ie, j.mapper = u[F].mapper, ie.linkGroup = j;
        }
      }
    }
  });
}
function makeAxisPointerModel(i, n, r, o, a, u) {
  var c = n.getModel("axisPointer"), f = ["type", "snap", "lineStyle", "shadowStyle", "label", "animation", "animationDurationUpdate", "animationEasingUpdate", "z"], d = {};
  each$4(f, function(g) {
    d[g] = clone$2(c.get(g));
  }), d.snap = i.type !== "category" && !!u, c.get("type") === "cross" && (d.type = "line");
  var p = d.label || (d.label = {});
  if (p.show == null && (p.show = !1), a === "cross") {
    var y = c.get(["label", "show"]);
    if (p.show = y ?? !0, !u) {
      var v = d.lineStyle = c.get("crossStyle");
      v && defaults(p, v.textStyle);
    }
  }
  return i.model.getModel("axisPointer", new Model$1(d, r, o));
}
function collectSeriesInfo(i, n) {
  n.eachSeries(function(r) {
    var o = r.coordinateSystem, a = r.get(["tooltip", "trigger"], !0), u = r.get(["tooltip", "show"], !0);
    !o || a === "none" || a === !1 || a === "item" || u === !1 || r.get(["axisPointer", "show"], !0) === !1 || each$4(i.coordSysAxesInfo[makeKey(o.model)], function(c) {
      var f = c.axis;
      o.getAxis(f.dim) === f && (c.seriesModels.push(r), c.seriesDataCount == null && (c.seriesDataCount = 0), c.seriesDataCount += r.getData().count());
    });
  });
}
function getLinkGroupIndex(i, n) {
  for (var r = n.model, o = n.dim, a = 0; a < i.length; a++) {
    var u = i[a] || {};
    if (checkPropInLink(u[o + "AxisId"], r.id) || checkPropInLink(u[o + "AxisIndex"], r.componentIndex) || checkPropInLink(u[o + "AxisName"], r.name))
      return a;
  }
}
function checkPropInLink(i, n) {
  return i === "all" || isArray$1(i) && indexOf(i, n) >= 0 || i === n;
}
function fixValue(i) {
  var n = getAxisInfo(i);
  if (n) {
    var r = n.axisPointerModel, o = n.axis.scale, a = r.option, u = r.get("status"), c = r.get("value");
    c != null && (c = o.parse(c));
    var f = isHandleTrigger(r);
    u == null && (a.status = f ? "show" : "hide");
    var d = o.getExtent().slice();
    d[0] > d[1] && d.reverse(), // Pick a value on axis when initializing.
    (c == null || c > d[1]) && (c = d[1]), c < d[0] && (c = d[0]), a.value = c, f && (a.status = n.axis.scale.isBlank() ? "hide" : "show");
  }
}
function getAxisInfo(i) {
  var n = (i.ecModel.getComponent("axisPointer") || {}).coordSysAxesInfo;
  return n && n.axesInfo[makeKey(i)];
}
function getAxisPointerModel(i) {
  var n = getAxisInfo(i);
  return n && n.axisPointerModel;
}
function isHandleTrigger(i) {
  return !!i.get(["handle", "show"]);
}
function makeKey(i) {
  return i.type + "||" + i.id;
}
var axisPointerClazz = {}, AxisView = (
  /** @class */
  function(i) {
    __extends(n, i);
    function n() {
      var r = i !== null && i.apply(this, arguments) || this;
      return r.type = n.type, r;
    }
    return n.prototype.render = function(r, o, a, u) {
      this.axisPointerClass && fixValue(r), i.prototype.render.apply(this, arguments), this._doUpdateAxisPointerClass(r, a, !0);
    }, n.prototype.updateAxisPointer = function(r, o, a, u) {
      this._doUpdateAxisPointerClass(r, a, !1);
    }, n.prototype.remove = function(r, o) {
      var a = this._axisPointer;
      a && a.remove(o);
    }, n.prototype.dispose = function(r, o) {
      this._disposeAxisPointer(o), i.prototype.dispose.apply(this, arguments);
    }, n.prototype._doUpdateAxisPointerClass = function(r, o, a) {
      var u = n.getAxisPointerClass(this.axisPointerClass);
      if (u) {
        var c = getAxisPointerModel(r);
        c ? (this._axisPointer || (this._axisPointer = new u())).render(r, c, o, a) : this._disposeAxisPointer(o);
      }
    }, n.prototype._disposeAxisPointer = function(r) {
      this._axisPointer && this._axisPointer.dispose(r), this._axisPointer = null;
    }, n.registerAxisPointerClass = function(r, o) {
      if (process.env.NODE_ENV !== "production" && axisPointerClazz[r])
        throw new Error("axisPointer " + r + " exists");
      axisPointerClazz[r] = o;
    }, n.getAxisPointerClass = function(r) {
      return r && axisPointerClazz[r];
    }, n.type = "axis", n;
  }(ComponentView$1)
);
const AxisView$1 = AxisView;
var inner$2 = makeInner(), clone = clone$2, bind = bind$1, BaseAxisPointer = (
  /** @class */
  function() {
    function i() {
      this._dragging = !1, this.animationThreshold = 15;
    }
    return i.prototype.render = function(n, r, o, a) {
      var u = r.get("value"), c = r.get("status");
      if (this._axisModel = n, this._axisPointerModel = r, this._api = o, !(!a && this._lastValue === u && this._lastStatus === c)) {
        this._lastValue = u, this._lastStatus = c;
        var f = this._group, d = this._handle;
        if (!c || c === "hide") {
          f && f.hide(), d && d.hide();
          return;
        }
        f && f.show(), d && d.show();
        var p = {};
        this.makeElOption(p, u, n, r, o);
        var y = p.graphicKey;
        y !== this._lastGraphicKey && this.clear(o), this._lastGraphicKey = y;
        var v = this._moveAnimation = this.determineAnimation(n, r);
        if (!f)
          f = this._group = new Group$3(), this.createPointerEl(f, p, n, r), this.createLabelEl(f, p, n, r), o.getZr().add(f);
        else {
          var g = curry$1(updateProps, r, v);
          this.updatePointerEl(f, p, g), this.updateLabelEl(f, p, g, r);
        }
        updateMandatoryProps(f, r, !0), this._renderHandle(u);
      }
    }, i.prototype.remove = function(n) {
      this.clear(n);
    }, i.prototype.dispose = function(n) {
      this.clear(n);
    }, i.prototype.determineAnimation = function(n, r) {
      var o = r.get("animation"), a = n.axis, u = a.type === "category", c = r.get("snap");
      if (!c && !u)
        return !1;
      if (o === "auto" || o == null) {
        var f = this.animationThreshold;
        if (u && a.getBandWidth() > f)
          return !0;
        if (c) {
          var d = getAxisInfo(n).seriesDataCount, p = a.getExtent();
          return Math.abs(p[0] - p[1]) / d > f;
        }
        return !1;
      }
      return o === !0;
    }, i.prototype.makeElOption = function(n, r, o, a, u) {
    }, i.prototype.createPointerEl = function(n, r, o, a) {
      var u = r.pointer;
      if (u) {
        var c = inner$2(n).pointerEl = new graphic[u.type](clone(r.pointer));
        n.add(c);
      }
    }, i.prototype.createLabelEl = function(n, r, o, a) {
      if (r.label) {
        var u = inner$2(n).labelEl = new ZRText$1(clone(r.label));
        n.add(u), updateLabelShowHide(u, a);
      }
    }, i.prototype.updatePointerEl = function(n, r, o) {
      var a = inner$2(n).pointerEl;
      a && r.pointer && (a.setStyle(r.pointer.style), o(a, {
        shape: r.pointer.shape
      }));
    }, i.prototype.updateLabelEl = function(n, r, o, a) {
      var u = inner$2(n).labelEl;
      u && (u.setStyle(r.label.style), o(u, {
        // Consider text length change in vertical axis, animation should
        // be used on shape, otherwise the effect will be weird.
        // TODOTODO
        // shape: elOption.label.shape,
        x: r.label.x,
        y: r.label.y
      }), updateLabelShowHide(u, a));
    }, i.prototype._renderHandle = function(n) {
      if (!(this._dragging || !this.updateHandleTransform)) {
        var r = this._axisPointerModel, o = this._api.getZr(), a = this._handle, u = r.getModel("handle"), c = r.get("status");
        if (!u.get("show") || !c || c === "hide") {
          a && o.remove(a), this._handle = null;
          return;
        }
        var f;
        this._handle || (f = !0, a = this._handle = createIcon(u.get("icon"), {
          cursor: "move",
          draggable: !0,
          onmousemove: function(p) {
            stop(p.event);
          },
          onmousedown: bind(this._onHandleDragMove, this, 0, 0),
          drift: bind(this._onHandleDragMove, this),
          ondragend: bind(this._onHandleDragEnd, this)
        }), o.add(a)), updateMandatoryProps(a, r, !1), a.setStyle(u.getItemStyle(null, ["color", "borderColor", "borderWidth", "opacity", "shadowColor", "shadowBlur", "shadowOffsetX", "shadowOffsetY"]));
        var d = u.get("size");
        isArray$1(d) || (d = [d, d]), a.scaleX = d[0] / 2, a.scaleY = d[1] / 2, createOrUpdate(this, "_doDispatchAxisPointer", u.get("throttle") || 0, "fixRate"), this._moveHandleToValue(n, f);
      }
    }, i.prototype._moveHandleToValue = function(n, r) {
      updateProps(this._axisPointerModel, !r && this._moveAnimation, this._handle, getHandleTransProps(this.getHandleTransform(n, this._axisModel, this._axisPointerModel)));
    }, i.prototype._onHandleDragMove = function(n, r) {
      var o = this._handle;
      if (o) {
        this._dragging = !0;
        var a = this.updateHandleTransform(getHandleTransProps(o), [n, r], this._axisModel, this._axisPointerModel);
        this._payloadInfo = a, o.stopAnimation(), o.attr(getHandleTransProps(a)), inner$2(o).lastProp = null, this._doDispatchAxisPointer();
      }
    }, i.prototype._doDispatchAxisPointer = function() {
      var n = this._handle;
      if (n) {
        var r = this._payloadInfo, o = this._axisModel;
        this._api.dispatchAction({
          type: "updateAxisPointer",
          x: r.cursorPoint[0],
          y: r.cursorPoint[1],
          tooltipOption: r.tooltipOption,
          axesInfo: [{
            axisDim: o.axis.dim,
            axisIndex: o.componentIndex
          }]
        });
      }
    }, i.prototype._onHandleDragEnd = function() {
      this._dragging = !1;
      var n = this._handle;
      if (n) {
        var r = this._axisPointerModel.get("value");
        this._moveHandleToValue(r), this._api.dispatchAction({
          type: "hideTip"
        });
      }
    }, i.prototype.clear = function(n) {
      this._lastValue = null, this._lastStatus = null;
      var r = n.getZr(), o = this._group, a = this._handle;
      r && o && (this._lastGraphicKey = null, o && r.remove(o), a && r.remove(a), this._group = null, this._handle = null, this._payloadInfo = null), clear(this, "_doDispatchAxisPointer");
    }, i.prototype.doClear = function() {
    }, i.prototype.buildLabel = function(n, r, o) {
      return o = o || 0, {
        x: n[o],
        y: n[1 - o],
        width: r[o],
        height: r[1 - o]
      };
    }, i;
  }()
);
function updateProps(i, n, r, o) {
  propsEqual(inner$2(r).lastProp, o) || (inner$2(r).lastProp = o, n ? updateProps$1(r, o, i) : (r.stopAnimation(), r.attr(o)));
}
function propsEqual(i, n) {
  if (isObject$3(i) && isObject$3(n)) {
    var r = !0;
    return each$4(n, function(o, a) {
      r = r && propsEqual(i[a], o);
    }), !!r;
  } else
    return i === n;
}
function updateLabelShowHide(i, n) {
  i[n.get(["label", "show"]) ? "show" : "hide"]();
}
function getHandleTransProps(i) {
  return {
    x: i.x || 0,
    y: i.y || 0,
    rotation: i.rotation || 0
  };
}
function updateMandatoryProps(i, n, r) {
  var o = n.get("z"), a = n.get("zlevel");
  i && i.traverse(function(u) {
    u.type !== "group" && (o != null && (u.z = o), a != null && (u.zlevel = a), u.silent = r);
  });
}
const BaseAxisPointer$1 = BaseAxisPointer;
function buildElStyle(i) {
  var n = i.get("type"), r = i.getModel(n + "Style"), o;
  return n === "line" ? (o = r.getLineStyle(), o.fill = null) : n === "shadow" && (o = r.getAreaStyle(), o.stroke = null), o;
}
function buildLabelElOption(i, n, r, o, a) {
  var u = r.get("value"), c = getValueLabel(u, n.axis, n.ecModel, r.get("seriesDataIndices"), {
    precision: r.get(["label", "precision"]),
    formatter: r.get(["label", "formatter"])
  }), f = r.getModel("label"), d = normalizeCssArray(f.get("padding") || 0), p = f.getFont(), y = getBoundingRect(c, p), v = a.position, g = y.width + d[1] + d[3], _ = y.height + d[0] + d[2], b = a.align;
  b === "right" && (v[0] -= g), b === "center" && (v[0] -= g / 2);
  var A = a.verticalAlign;
  A === "bottom" && (v[1] -= _), A === "middle" && (v[1] -= _ / 2), confineInContainer(v, g, _, o);
  var w = f.get("backgroundColor");
  (!w || w === "auto") && (w = n.get(["axisLine", "lineStyle", "color"])), i.label = {
    // shape: {x: 0, y: 0, width: width, height: height, r: labelModel.get('borderRadius')},
    x: v[0],
    y: v[1],
    style: createTextStyle(f, {
      text: c,
      font: p,
      fill: f.getTextColor(),
      padding: d,
      backgroundColor: w
    }),
    // Lable should be over axisPointer.
    z2: 10
  };
}
function confineInContainer(i, n, r, o) {
  var a = o.getWidth(), u = o.getHeight();
  i[0] = Math.min(i[0] + n, a) - n, i[1] = Math.min(i[1] + r, u) - r, i[0] = Math.max(i[0], 0), i[1] = Math.max(i[1], 0);
}
function getValueLabel(i, n, r, o, a) {
  i = n.scale.parse(i);
  var u = n.scale.getLabel({
    value: i
  }, {
    // If `precision` is set, width can be fixed (like '12.00500'), which
    // helps to debounce when when moving label.
    precision: a.precision
  }), c = a.formatter;
  if (c) {
    var f = {
      value: getAxisRawValue(n, {
        value: i
      }),
      axisDimension: n.dim,
      axisIndex: n.index,
      seriesData: []
    };
    each$4(o, function(d) {
      var p = r.getSeriesByIndex(d.seriesIndex), y = d.dataIndexInside, v = p && p.getDataParams(y);
      v && f.seriesData.push(v);
    }), isString$2(c) ? u = c.replace("{value}", u) : isFunction$1(c) && (u = c(f));
  }
  return u;
}
function getTransformedPosition(i, n, r) {
  var o = create();
  return rotate(o, o, r.rotation), translate$1(o, o, r.position), applyTransform([i.dataToCoord(n), (r.labelOffset || 0) + (r.labelDirection || 1) * (r.labelMargin || 0)], o);
}
function buildCartesianSingleLabelElOption(i, n, r, o, a, u) {
  var c = AxisBuilder$1.innerTextLayout(r.rotation, 0, r.labelDirection);
  r.labelMargin = a.get(["label", "margin"]), buildLabelElOption(n, o, a, u, {
    position: getTransformedPosition(o.axis, i, r),
    align: c.textAlign,
    verticalAlign: c.textVerticalAlign
  });
}
function makeLineShape(i, n, r) {
  return r = r || 0, {
    x1: i[r],
    y1: i[1 - r],
    x2: n[r],
    y2: n[1 - r]
  };
}
function makeRectShape(i, n, r) {
  return r = r || 0, {
    x: i[r],
    y: i[1 - r],
    width: n[r],
    height: n[1 - r]
  };
}
var CartesianAxisPointer = (
  /** @class */
  function(i) {
    __extends(n, i);
    function n() {
      return i !== null && i.apply(this, arguments) || this;
    }
    return n.prototype.makeElOption = function(r, o, a, u, c) {
      var f = a.axis, d = f.grid, p = u.get("type"), y = getCartesian(d, f).getOtherAxis(f).getGlobalExtent(), v = f.toGlobalCoord(f.dataToCoord(o, !0));
      if (p && p !== "none") {
        var g = buildElStyle(u), _ = pointerShapeBuilder[p](f, v, y);
        _.style = g, r.graphicKey = _.type, r.pointer = _;
      }
      var b = layout(d.model, a);
      buildCartesianSingleLabelElOption(
        // @ts-ignore
        o,
        r,
        b,
        a,
        u,
        c
      );
    }, n.prototype.getHandleTransform = function(r, o, a) {
      var u = layout(o.axis.grid.model, o, {
        labelInside: !1
      });
      u.labelMargin = a.get(["handle", "margin"]);
      var c = getTransformedPosition(o.axis, r, u);
      return {
        x: c[0],
        y: c[1],
        rotation: u.rotation + (u.labelDirection < 0 ? Math.PI : 0)
      };
    }, n.prototype.updateHandleTransform = function(r, o, a, u) {
      var c = a.axis, f = c.grid, d = c.getGlobalExtent(!0), p = getCartesian(f, c).getOtherAxis(c).getGlobalExtent(), y = c.dim === "x" ? 0 : 1, v = [r.x, r.y];
      v[y] += o[y], v[y] = Math.min(d[1], v[y]), v[y] = Math.max(d[0], v[y]);
      var g = (p[1] + p[0]) / 2, _ = [g, g];
      _[y] = v[y];
      var b = [{
        verticalAlign: "middle"
      }, {
        align: "center"
      }];
      return {
        x: v[0],
        y: v[1],
        rotation: r.rotation,
        cursorPoint: _,
        tooltipOption: b[y]
      };
    }, n;
  }(BaseAxisPointer$1)
);
function getCartesian(i, n) {
  var r = {};
  return r[n.dim + "AxisIndex"] = n.index, i.getCartesian(r);
}
var pointerShapeBuilder = {
  line: function(i, n, r) {
    var o = makeLineShape([n, r[0]], [n, r[1]], getAxisDimIndex(i));
    return {
      type: "Line",
      subPixelOptimize: !0,
      shape: o
    };
  },
  shadow: function(i, n, r) {
    var o = Math.max(1, i.getBandWidth()), a = r[1] - r[0];
    return {
      type: "Rect",
      shape: makeRectShape([n - o / 2, r[0]], [o, a], getAxisDimIndex(i))
    };
  }
};
function getAxisDimIndex(i) {
  return i.dim === "x" ? 0 : 1;
}
const CartesianAxisPointer$1 = CartesianAxisPointer;
var AxisPointerModel = (
  /** @class */
  function(i) {
    __extends(n, i);
    function n() {
      var r = i !== null && i.apply(this, arguments) || this;
      return r.type = n.type, r;
    }
    return n.type = "axisPointer", n.defaultOption = {
      // 'auto' means that show when triggered by tooltip or handle.
      show: "auto",
      // zlevel: 0,
      z: 50,
      type: "line",
      // axispointer triggered by tootip determine snap automatically,
      // see `modelHelper`.
      snap: !1,
      triggerTooltip: !0,
      value: null,
      status: null,
      link: [],
      // Do not set 'auto' here, otherwise global animation: false
      // will not effect at this axispointer.
      animation: null,
      animationDurationUpdate: 200,
      lineStyle: {
        color: "#B9BEC9",
        width: 1,
        type: "dashed"
      },
      shadowStyle: {
        color: "rgba(210,219,238,0.2)"
      },
      label: {
        show: !0,
        formatter: null,
        precision: "auto",
        margin: 3,
        color: "#fff",
        padding: [5, 7, 5, 7],
        backgroundColor: "auto",
        borderColor: null,
        borderWidth: 0,
        borderRadius: 3
      },
      handle: {
        show: !1,
        // eslint-disable-next-line
        icon: "M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",
        size: 45,
        // handle margin is from symbol center to axis, which is stable when circular move.
        margin: 50,
        // color: '#1b8bbd'
        // color: '#2f4554'
        color: "#333",
        shadowBlur: 3,
        shadowColor: "#aaa",
        shadowOffsetX: 0,
        shadowOffsetY: 2,
        // For mobile performance
        throttle: 40
      }
    }, n;
  }(ComponentModel$1)
);
const AxisPointerModel$1 = AxisPointerModel;
var inner$1 = makeInner(), each$1 = each$4;
function register(i, n, r) {
  if (!env$1.node) {
    var o = n.getZr();
    inner$1(o).records || (inner$1(o).records = {}), initGlobalListeners(o, n);
    var a = inner$1(o).records[i] || (inner$1(o).records[i] = {});
    a.handler = r;
  }
}
function initGlobalListeners(i, n) {
  if (inner$1(i).initialized)
    return;
  inner$1(i).initialized = !0, r("click", curry$1(doEnter, "click")), r("mousemove", curry$1(doEnter, "mousemove")), r("globalout", onLeave);
  function r(o, a) {
    i.on(o, function(u) {
      var c = makeDispatchAction$1(n);
      each$1(inner$1(i).records, function(f) {
        f && a(f, u, c.dispatchAction);
      }), dispatchTooltipFinally(c.pendings, n);
    });
  }
}
function dispatchTooltipFinally(i, n) {
  var r = i.showTip.length, o = i.hideTip.length, a;
  r ? a = i.showTip[r - 1] : o && (a = i.hideTip[o - 1]), a && (a.dispatchAction = null, n.dispatchAction(a));
}
function onLeave(i, n, r) {
  i.handler("leave", null, r);
}
function doEnter(i, n, r, o) {
  n.handler(i, r, o);
}
function makeDispatchAction$1(i) {
  var n = {
    showTip: [],
    hideTip: []
  }, r = function(o) {
    var a = n[o.type];
    a ? a.push(o) : (o.dispatchAction = r, i.dispatchAction(o));
  };
  return {
    dispatchAction: r,
    pendings: n
  };
}
function unregister(i, n) {
  if (!env$1.node) {
    var r = n.getZr(), o = (inner$1(r).records || {})[i];
    o && (inner$1(r).records[i] = null);
  }
}
var AxisPointerView = (
  /** @class */
  function(i) {
    __extends(n, i);
    function n() {
      var r = i !== null && i.apply(this, arguments) || this;
      return r.type = n.type, r;
    }
    return n.prototype.render = function(r, o, a) {
      var u = o.getComponent("tooltip"), c = r.get("triggerOn") || u && u.get("triggerOn") || "mousemove|click";
      register("axisPointer", a, function(f, d, p) {
        c !== "none" && (f === "leave" || c.indexOf(f) >= 0) && p({
          type: "updateAxisPointer",
          currTrigger: f,
          x: d && d.offsetX,
          y: d && d.offsetY
        });
      });
    }, n.prototype.remove = function(r, o) {
      unregister("axisPointer", o);
    }, n.prototype.dispose = function(r, o) {
      unregister("axisPointer", o);
    }, n.type = "axisPointer", n;
  }(ComponentView$1)
);
const AxisPointerView$1 = AxisPointerView;
function findPointFromSeries(i, n) {
  var r = [], o = i.seriesIndex, a;
  if (o == null || !(a = n.getSeriesByIndex(o)))
    return {
      point: []
    };
  var u = a.getData(), c = queryDataIndex(u, i);
  if (c == null || c < 0 || isArray$1(c))
    return {
      point: []
    };
  var f = u.getItemGraphicEl(c), d = a.coordinateSystem;
  if (a.getTooltipPosition)
    r = a.getTooltipPosition(c) || [];
  else if (d && d.dataToPoint)
    if (i.isStacked) {
      var p = d.getBaseAxis(), y = d.getOtherAxis(p), v = y.dim, g = p.dim, _ = v === "x" || v === "radius" ? 1 : 0, b = u.mapDimension(g), A = [];
      A[_] = u.get(b, c), A[1 - _] = u.get(u.getCalculationInfo("stackResultDimension"), c), r = d.dataToPoint(A) || [];
    } else
      r = d.dataToPoint(u.getValues(map$1(d.dimensions, function(S) {
        return u.mapDimension(S);
      }), c)) || [];
  else if (f) {
    var w = f.getBoundingRect().clone();
    w.applyTransform(f.transform), r = [w.x + w.width / 2, w.y + w.height / 2];
  }
  return {
    point: r,
    el: f
  };
}
var inner = makeInner();
function axisTrigger(i, n, r) {
  var o = i.currTrigger, a = [i.x, i.y], u = i, c = i.dispatchAction || bind$1(r.dispatchAction, r), f = n.getComponent("axisPointer").coordSysAxesInfo;
  if (f) {
    illegalPoint(a) && (a = findPointFromSeries({
      seriesIndex: u.seriesIndex,
      // Do not use dataIndexInside from other ec instance.
      // FIXME: auto detect it?
      dataIndex: u.dataIndex
    }, n).point);
    var d = illegalPoint(a), p = u.axesInfo, y = f.axesInfo, v = o === "leave" || illegalPoint(a), g = {}, _ = {}, b = {
      list: [],
      map: {}
    }, A = {
      showPointer: curry$1(showPointer, _),
      showTooltip: curry$1(showTooltip, b)
    };
    each$4(f.coordSysMap, function(S, T) {
      var x = d || S.containPoint(a);
      each$4(f.coordSysAxesInfo[T], function(L, k) {
        var M = L.axis, O = findInputAxisInfo(p, L);
        if (!v && x && (!p || O)) {
          var ie = O && O.value;
          ie == null && !d && (ie = M.pointToData(a)), ie != null && processOnAxis(L, ie, A, !1, g);
        }
      });
    });
    var w = {};
    return each$4(y, function(S, T) {
      var x = S.linkGroup;
      x && !_[T] && each$4(x.axesInfo, function(L, k) {
        var M = _[k];
        if (L !== S && M) {
          var O = M.value;
          x.mapper && (O = S.axis.scale.parse(x.mapper(O, makeMapperParam(L), makeMapperParam(S)))), w[S.key] = O;
        }
      });
    }), each$4(w, function(S, T) {
      processOnAxis(y[T], S, A, !0, g);
    }), updateModelActually(_, y, g), dispatchTooltipActually(b, a, i, c), dispatchHighDownActually(y, c, r), g;
  }
}
function processOnAxis(i, n, r, o, a) {
  var u = i.axis;
  if (!(u.scale.isBlank() || !u.containData(n))) {
    if (!i.involveSeries) {
      r.showPointer(i, n);
      return;
    }
    var c = buildPayloadsBySeries(n, i), f = c.payloadBatch, d = c.snapToValue;
    f[0] && a.seriesIndex == null && extend(a, f[0]), !o && i.snap && u.containData(d) && d != null && (n = d), r.showPointer(i, n, f), r.showTooltip(i, c, d);
  }
}
function buildPayloadsBySeries(i, n) {
  var r = n.axis, o = r.dim, a = i, u = [], c = Number.MAX_VALUE, f = -1;
  return each$4(n.seriesModels, function(d, p) {
    var y = d.getData().mapDimensionsAll(o), v, g;
    if (d.getAxisTooltipData) {
      var _ = d.getAxisTooltipData(y, i, r);
      g = _.dataIndices, v = _.nestestValue;
    } else {
      if (g = d.getData().indicesOfNearest(
        y[0],
        i,
        // Add a threshold to avoid find the wrong dataIndex
        // when data length is not same.
        // false,
        r.type === "category" ? 0.5 : null
      ), !g.length)
        return;
      v = d.getData().get(y[0], g[0]);
    }
    if (!(v == null || !isFinite(v))) {
      var b = i - v, A = Math.abs(b);
      A <= c && ((A < c || b >= 0 && f < 0) && (c = A, f = b, a = v, u.length = 0), each$4(g, function(w) {
        u.push({
          seriesIndex: d.seriesIndex,
          dataIndexInside: w,
          dataIndex: d.getData().getRawIndex(w)
        });
      }));
    }
  }), {
    payloadBatch: u,
    snapToValue: a
  };
}
function showPointer(i, n, r, o) {
  i[n.key] = {
    value: r,
    payloadBatch: o
  };
}
function showTooltip(i, n, r, o) {
  var a = r.payloadBatch, u = n.axis, c = u.model, f = n.axisPointerModel;
  if (!(!n.triggerTooltip || !a.length)) {
    var d = n.coordSys.model, p = makeKey(d), y = i.map[p];
    y || (y = i.map[p] = {
      coordSysId: d.id,
      coordSysIndex: d.componentIndex,
      coordSysType: d.type,
      coordSysMainType: d.mainType,
      dataByAxis: []
    }, i.list.push(y)), y.dataByAxis.push({
      axisDim: u.dim,
      axisIndex: c.componentIndex,
      axisType: c.type,
      axisId: c.id,
      value: o,
      // Caustion: viewHelper.getValueLabel is actually on "view stage", which
      // depends that all models have been updated. So it should not be performed
      // here. Considering axisPointerModel used here is volatile, which is hard
      // to be retrieve in TooltipView, we prepare parameters here.
      valueLabelOpt: {
        precision: f.get(["label", "precision"]),
        formatter: f.get(["label", "formatter"])
      },
      seriesDataIndices: a.slice()
    });
  }
}
function updateModelActually(i, n, r) {
  var o = r.axesInfo = [];
  each$4(n, function(a, u) {
    var c = a.axisPointerModel.option, f = i[u];
    f ? (!a.useHandle && (c.status = "show"), c.value = f.value, c.seriesDataIndices = (f.payloadBatch || []).slice()) : !a.useHandle && (c.status = "hide"), c.status === "show" && o.push({
      axisDim: a.axis.dim,
      axisIndex: a.axis.model.componentIndex,
      value: c.value
    });
  });
}
function dispatchTooltipActually(i, n, r, o) {
  if (illegalPoint(n) || !i.list.length) {
    o({
      type: "hideTip"
    });
    return;
  }
  var a = ((i.list[0].dataByAxis[0] || {}).seriesDataIndices || [])[0] || {};
  o({
    type: "showTip",
    escapeConnect: !0,
    x: n[0],
    y: n[1],
    tooltipOption: r.tooltipOption,
    position: r.position,
    dataIndexInside: a.dataIndexInside,
    dataIndex: a.dataIndex,
    seriesIndex: a.seriesIndex,
    dataByCoordSys: i.list
  });
}
function dispatchHighDownActually(i, n, r) {
  var o = r.getZr(), a = "axisPointerLastHighlights", u = inner(o)[a] || {}, c = inner(o)[a] = {};
  each$4(i, function(p, y) {
    var v = p.axisPointerModel.option;
    v.status === "show" && each$4(v.seriesDataIndices, function(g) {
      var _ = g.seriesIndex + " | " + g.dataIndex;
      c[_] = g;
    });
  });
  var f = [], d = [];
  each$4(u, function(p, y) {
    !c[y] && d.push(p);
  }), each$4(c, function(p, y) {
    !u[y] && f.push(p);
  }), d.length && r.dispatchAction({
    type: "downplay",
    escapeConnect: !0,
    // Not blur others when highlight in axisPointer.
    notBlur: !0,
    batch: d
  }), f.length && r.dispatchAction({
    type: "highlight",
    escapeConnect: !0,
    // Not blur others when highlight in axisPointer.
    notBlur: !0,
    batch: f
  });
}
function findInputAxisInfo(i, n) {
  for (var r = 0; r < (i || []).length; r++) {
    var o = i[r];
    if (n.axis.dim === o.axisDim && n.axis.model.componentIndex === o.axisIndex)
      return o;
  }
}
function makeMapperParam(i) {
  var n = i.axis.model, r = {}, o = r.axisDim = i.axis.dim;
  return r.axisIndex = r[o + "AxisIndex"] = n.componentIndex, r.axisName = r[o + "AxisName"] = n.name, r.axisId = r[o + "AxisId"] = n.id, r;
}
function illegalPoint(i) {
  return !i || i[0] == null || isNaN(i[0]) || i[1] == null || isNaN(i[1]);
}
function install$5(i) {
  AxisView$1.registerAxisPointerClass("CartesianAxisPointer", CartesianAxisPointer$1), i.registerComponentModel(AxisPointerModel$1), i.registerComponentView(AxisPointerView$1), i.registerPreprocessor(function(n) {
    if (n) {
      (!n.axisPointer || n.axisPointer.length === 0) && (n.axisPointer = {});
      var r = n.axisPointer.link;
      r && !isArray$1(r) && (n.axisPointer.link = [r]);
    }
  }), i.registerProcessor(i.PRIORITY.PROCESSOR.STATISTIC, function(n, r) {
    n.getComponent("axisPointer").coordSysAxesInfo = collect(n, r);
  }), i.registerAction({
    type: "updateAxisPointer",
    event: "updateAxisPointer",
    update: ":updateAxisPointer"
  }, axisTrigger);
}
function makeBackground(i, n) {
  var r = normalizeCssArray(n.get("padding")), o = n.getItemStyle(["color", "opacity"]);
  return o.fill = n.get("backgroundColor"), i = new Rect$1({
    shape: {
      x: i.x - r[3],
      y: i.y - r[0],
      width: i.width + r[1] + r[3],
      height: i.height + r[0] + r[2],
      r: n.get("borderRadius")
    },
    style: o,
    silent: !0,
    z2: -1
  }), i;
}
var TooltipModel = (
  /** @class */
  function(i) {
    __extends(n, i);
    function n() {
      var r = i !== null && i.apply(this, arguments) || this;
      return r.type = n.type, r;
    }
    return n.type = "tooltip", n.dependencies = ["axisPointer"], n.defaultOption = {
      // zlevel: 0,
      z: 60,
      show: !0,
      // tooltip main content
      showContent: !0,
      // 'trigger' only works on coordinate system.
      // 'item' | 'axis' | 'none'
      trigger: "item",
      // 'click' | 'mousemove' | 'none'
      triggerOn: "mousemove|click",
      alwaysShowContent: !1,
      displayMode: "single",
      renderMode: "auto",
      // whether restraint content inside viewRect.
      // If renderMode: 'richText', default true.
      // If renderMode: 'html', defaut false (for backward compat).
      confine: null,
      showDelay: 0,
      hideDelay: 100,
      // Animation transition time, unit is second
      transitionDuration: 0.4,
      enterable: !1,
      backgroundColor: "#fff",
      // box shadow
      shadowBlur: 10,
      shadowColor: "rgba(0, 0, 0, .2)",
      shadowOffsetX: 1,
      shadowOffsetY: 2,
      // tooltip border radius, unit is px, default is 4
      borderRadius: 4,
      // tooltip border width, unit is px, default is 0 (no border)
      borderWidth: 1,
      // Tooltip inside padding, default is 5 for all direction
      // Array is allowed to set up, right, bottom, left, same with css
      // The default value: See `tooltip/tooltipMarkup.ts#getPaddingFromTooltipModel`.
      padding: null,
      // Extra css text
      extraCssText: "",
      // axis indicator, trigger by axis
      axisPointer: {
        // default is line
        // legal values: 'line' | 'shadow' | 'cross'
        type: "line",
        // Valid when type is line, appoint tooltip line locate on which line. Optional
        // legal values: 'x' | 'y' | 'angle' | 'radius' | 'auto'
        // default is 'auto', chose the axis which type is category.
        // for multiply y axis, cartesian coord chose x axis, polar chose angle axis
        axis: "auto",
        animation: "auto",
        animationDurationUpdate: 200,
        animationEasingUpdate: "exponentialOut",
        crossStyle: {
          color: "#999",
          width: 1,
          type: "dashed",
          // TODO formatter
          textStyle: {}
        }
        // lineStyle and shadowStyle should not be specified here,
        // otherwise it will always override those styles on option.axisPointer.
      },
      textStyle: {
        color: "#666",
        fontSize: 14
      }
    }, n;
  }(ComponentModel$1)
);
const TooltipModel$1 = TooltipModel;
function shouldTooltipConfine(i) {
  var n = i.get("confine");
  return n != null ? !!n : i.get("renderMode") === "richText";
}
function testStyle(i) {
  if (env$1.domSupported) {
    for (var n = document.documentElement.style, r = 0, o = i.length; r < o; r++)
      if (i[r] in n)
        return i[r];
  }
}
var TRANSFORM_VENDOR = testStyle(["transform", "webkitTransform", "OTransform", "MozTransform", "msTransform"]), TRANSITION_VENDOR = testStyle(["webkitTransition", "transition", "OTransition", "MozTransition", "msTransition"]);
function toCSSVendorPrefix(i, n) {
  if (!i)
    return n;
  n = toCamelCase(n, !0);
  var r = i.indexOf(n);
  return i = r === -1 ? n : "-" + i.slice(0, r) + "-" + n, i.toLowerCase();
}
function getComputedStyle$1(i, n) {
  var r = i.currentStyle || document.defaultView && document.defaultView.getComputedStyle(i);
  return r ? n ? r[n] : r : null;
}
var CSS_TRANSITION_VENDOR = toCSSVendorPrefix(TRANSITION_VENDOR, "transition"), CSS_TRANSFORM_VENDOR = toCSSVendorPrefix(TRANSFORM_VENDOR, "transform"), gCssText = "position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;" + (env$1.transform3dSupported ? "will-change:transform;" : "");
function mirrorPos(i) {
  return i = i === "left" ? "right" : i === "right" ? "left" : i === "top" ? "bottom" : "top", i;
}
function assembleArrow(i, n, r) {
  if (!isString$2(r) || r === "inside")
    return "";
  var o = i.get("backgroundColor"), a = i.get("borderWidth");
  n = convertToColorString(n);
  var u = mirrorPos(r), c = Math.max(Math.round(a) * 1.5, 6), f = "", d = CSS_TRANSFORM_VENDOR + ":", p;
  indexOf(["left", "right"], u) > -1 ? (f += "top:50%", d += "translateY(-50%) rotate(" + (p = u === "left" ? -225 : -45) + "deg)") : (f += "left:50%", d += "translateX(-50%) rotate(" + (p = u === "top" ? 225 : 45) + "deg)");
  var y = p * Math.PI / 180, v = c + a, g = v * Math.abs(Math.cos(y)) + v * Math.abs(Math.sin(y)), _ = Math.round(((g - Math.SQRT2 * a) / 2 + Math.SQRT2 * a - (g - v) / 2) * 100) / 100;
  f += ";" + u + ":-" + _ + "px";
  var b = n + " solid " + a + "px;", A = ["position:absolute;width:" + c + "px;height:" + c + "px;z-index:-1;", f + ";" + d + ";", "border-bottom:" + b, "border-right:" + b, "background-color:" + o + ";"];
  return '<div style="' + A.join("") + '"></div>';
}
function assembleTransition(i, n) {
  var r = "cubic-bezier(0.23,1,0.32,1)", o = " " + i / 2 + "s " + r, a = "opacity" + o + ",visibility" + o;
  return n || (o = " " + i + "s " + r, a += env$1.transformSupported ? "," + CSS_TRANSFORM_VENDOR + o : ",left" + o + ",top" + o), CSS_TRANSITION_VENDOR + ":" + a;
}
function assembleTransform(i, n, r) {
  var o = i.toFixed(0) + "px", a = n.toFixed(0) + "px";
  if (!env$1.transformSupported)
    return r ? "top:" + a + ";left:" + o + ";" : [["top", a], ["left", o]];
  var u = env$1.transform3dSupported, c = "translate" + (u ? "3d" : "") + "(" + o + "," + a + (u ? ",0" : "") + ")";
  return r ? "top:0;left:0;" + CSS_TRANSFORM_VENDOR + ":" + c + ";" : [["top", 0], ["left", 0], [TRANSFORM_VENDOR, c]];
}
function assembleFont(i) {
  var n = [], r = i.get("fontSize"), o = i.getTextColor();
  o && n.push("color:" + o), n.push("font:" + i.getFont()), r && n.push("line-height:" + Math.round(r * 3 / 2) + "px");
  var a = i.get("textShadowColor"), u = i.get("textShadowBlur") || 0, c = i.get("textShadowOffsetX") || 0, f = i.get("textShadowOffsetY") || 0;
  return a && u && n.push("text-shadow:" + c + "px " + f + "px " + u + "px " + a), each$4(["decoration", "align"], function(d) {
    var p = i.get(d);
    p && n.push("text-" + d + ":" + p);
  }), n.join(";");
}
function assembleCssText(i, n, r) {
  var o = [], a = i.get("transitionDuration"), u = i.get("backgroundColor"), c = i.get("shadowBlur"), f = i.get("shadowColor"), d = i.get("shadowOffsetX"), p = i.get("shadowOffsetY"), y = i.getModel("textStyle"), v = getPaddingFromTooltipModel(i, "html"), g = d + "px " + p + "px " + c + "px " + f;
  return o.push("box-shadow:" + g), n && a && o.push(assembleTransition(a, r)), u && o.push("background-color:" + u), each$4(["width", "color", "radius"], function(_) {
    var b = "border-" + _, A = toCamelCase(b), w = i.get(A);
    w != null && o.push(b + ":" + w + (_ === "color" ? "" : "px"));
  }), o.push(assembleFont(y)), v != null && o.push("padding:" + normalizeCssArray(v).join("px ") + "px"), o.join(";") + ";";
}
function makeStyleCoord$1(i, n, r, o, a) {
  var u = n && n.painter;
  if (r) {
    var c = u && u.getViewportRoot();
    c && transformLocalCoord(i, c, document.body, o, a);
  } else {
    i[0] = o, i[1] = a;
    var f = u && u.getViewportRootOffset();
    f && (i[0] += f.offsetLeft, i[1] += f.offsetTop);
  }
  i[2] = i[0] / n.getWidth(), i[3] = i[1] / n.getHeight();
}
var TooltipHTMLContent = (
  /** @class */
  function() {
    function i(n, r, o) {
      if (this._show = !1, this._styleCoord = [0, 0, 0, 0], this._enterable = !0, this._firstShow = !0, this._longHide = !0, env$1.wxa)
        return null;
      var a = document.createElement("div");
      a.domBelongToZr = !0, this.el = a;
      var u = this._zr = r.getZr(), c = this._appendToBody = o && o.appendToBody;
      makeStyleCoord$1(this._styleCoord, u, c, r.getWidth() / 2, r.getHeight() / 2), c ? document.body.appendChild(a) : n.appendChild(a), this._container = n;
      var f = this;
      a.onmouseenter = function() {
        f._enterable && (clearTimeout(f._hideTimeout), f._show = !0), f._inContent = !0;
      }, a.onmousemove = function(d) {
        if (d = d || window.event, !f._enterable) {
          var p = u.handler, y = u.painter.getViewportRoot();
          normalizeEvent(y, d, !0), p.dispatch("mousemove", d);
        }
      }, a.onmouseleave = function() {
        f._inContent = !1, f._enterable && f._show && f.hideLater(f._hideDelay);
      };
    }
    return i.prototype.update = function(n) {
      var r = this._container, o = getComputedStyle$1(r, "position"), a = r.style;
      a.position !== "absolute" && o !== "absolute" && (a.position = "relative");
      var u = n.get("alwaysShowContent");
      u && this._moveIfResized(), this.el.className = n.get("className") || "";
    }, i.prototype.show = function(n, r) {
      clearTimeout(this._hideTimeout), clearTimeout(this._longHideTimeout);
      var o = this.el, a = o.style, u = this._styleCoord;
      o.innerHTML ? a.cssText = gCssText + assembleCssText(n, !this._firstShow, this._longHide) + assembleTransform(u[0], u[1], !0) + ("border-color:" + convertToColorString(r) + ";") + (n.get("extraCssText") || "") + (";pointer-events:" + (this._enterable ? "auto" : "none")) : a.display = "none", this._show = !0, this._firstShow = !1, this._longHide = !1;
    }, i.prototype.setContent = function(n, r, o, a, u) {
      var c = this.el;
      if (n == null) {
        c.innerHTML = "";
        return;
      }
      var f = "";
      if (isString$2(u) && o.get("trigger") === "item" && !shouldTooltipConfine(o) && (f = assembleArrow(o, a, u)), isString$2(n))
        c.innerHTML = n + f;
      else if (n) {
        c.innerHTML = "", isArray$1(n) || (n = [n]);
        for (var d = 0; d < n.length; d++)
          isDom(n[d]) && n[d].parentNode !== c && c.appendChild(n[d]);
        if (f && c.childNodes.length) {
          var p = document.createElement("div");
          p.innerHTML = f, c.appendChild(p);
        }
      }
    }, i.prototype.setEnterable = function(n) {
      this._enterable = n;
    }, i.prototype.getSize = function() {
      var n = this.el;
      return [n.offsetWidth, n.offsetHeight];
    }, i.prototype.moveTo = function(n, r) {
      var o = this._styleCoord;
      if (makeStyleCoord$1(o, this._zr, this._appendToBody, n, r), o[0] != null && o[1] != null) {
        var a = this.el.style, u = assembleTransform(o[0], o[1]);
        each$4(u, function(c) {
          a[c[0]] = c[1];
        });
      }
    }, i.prototype._moveIfResized = function() {
      var n = this._styleCoord[2], r = this._styleCoord[3];
      this.moveTo(n * this._zr.getWidth(), r * this._zr.getHeight());
    }, i.prototype.hide = function() {
      var n = this, r = this.el.style;
      r.visibility = "hidden", r.opacity = "0", env$1.transform3dSupported && (r.willChange = ""), this._show = !1, this._longHideTimeout = setTimeout(function() {
        return n._longHide = !0;
      }, 500);
    }, i.prototype.hideLater = function(n) {
      this._show && !(this._inContent && this._enterable) && (n ? (this._hideDelay = n, this._show = !1, this._hideTimeout = setTimeout(bind$1(this.hide, this), n)) : this.hide());
    }, i.prototype.isShow = function() {
      return this._show;
    }, i.prototype.dispose = function() {
      this.el.parentNode.removeChild(this.el);
    }, i;
  }()
);
const TooltipHTMLContent$1 = TooltipHTMLContent;
var TooltipRichContent = (
  /** @class */
  function() {
    function i(n) {
      this._show = !1, this._styleCoord = [0, 0, 0, 0], this._enterable = !0, this._zr = n.getZr(), makeStyleCoord(this._styleCoord, this._zr, n.getWidth() / 2, n.getHeight() / 2);
    }
    return i.prototype.update = function(n) {
      var r = n.get("alwaysShowContent");
      r && this._moveIfResized();
    }, i.prototype.show = function() {
      this._hideTimeout && clearTimeout(this._hideTimeout), this.el.show(), this._show = !0;
    }, i.prototype.setContent = function(n, r, o, a, u) {
      var c = this;
      isObject$3(n) && throwError$1(process.env.NODE_ENV !== "production" ? "Passing DOM nodes as content is not supported in richText tooltip!" : ""), this.el && this._zr.remove(this.el);
      var f = o.getModel("textStyle");
      this.el = new ZRText$1({
        style: {
          rich: r.richTextStyles,
          text: n,
          lineHeight: 22,
          borderWidth: 1,
          borderColor: a,
          textShadowColor: f.get("textShadowColor"),
          fill: o.get(["textStyle", "color"]),
          padding: getPaddingFromTooltipModel(o, "richText"),
          verticalAlign: "top",
          align: "left"
        },
        z: o.get("z")
      }), each$4(["backgroundColor", "borderRadius", "shadowColor", "shadowBlur", "shadowOffsetX", "shadowOffsetY"], function(p) {
        c.el.style[p] = o.get(p);
      }), each$4(["textShadowBlur", "textShadowOffsetX", "textShadowOffsetY"], function(p) {
        c.el.style[p] = f.get(p) || 0;
      }), this._zr.add(this.el);
      var d = this;
      this.el.on("mouseover", function() {
        d._enterable && (clearTimeout(d._hideTimeout), d._show = !0), d._inContent = !0;
      }), this.el.on("mouseout", function() {
        d._enterable && d._show && d.hideLater(d._hideDelay), d._inContent = !1;
      });
    }, i.prototype.setEnterable = function(n) {
      this._enterable = n;
    }, i.prototype.getSize = function() {
      var n = this.el, r = this.el.getBoundingRect(), o = calcShadowOuterSize(n.style);
      return [r.width + o.left + o.right, r.height + o.top + o.bottom];
    }, i.prototype.moveTo = function(n, r) {
      var o = this.el;
      if (o) {
        var a = this._styleCoord;
        makeStyleCoord(a, this._zr, n, r), n = a[0], r = a[1];
        var u = o.style, c = mathMaxWith0(u.borderWidth || 0), f = calcShadowOuterSize(u);
        o.x = n + c + f.left, o.y = r + c + f.top, o.markRedraw();
      }
    }, i.prototype._moveIfResized = function() {
      var n = this._styleCoord[2], r = this._styleCoord[3];
      this.moveTo(n * this._zr.getWidth(), r * this._zr.getHeight());
    }, i.prototype.hide = function() {
      this.el && this.el.hide(), this._show = !1;
    }, i.prototype.hideLater = function(n) {
      this._show && !(this._inContent && this._enterable) && (n ? (this._hideDelay = n, this._show = !1, this._hideTimeout = setTimeout(bind$1(this.hide, this), n)) : this.hide());
    }, i.prototype.isShow = function() {
      return this._show;
    }, i.prototype.dispose = function() {
      this._zr.remove(this.el);
    }, i;
  }()
);
function mathMaxWith0(i) {
  return Math.max(0, i);
}
function calcShadowOuterSize(i) {
  var n = mathMaxWith0(i.shadowBlur || 0), r = mathMaxWith0(i.shadowOffsetX || 0), o = mathMaxWith0(i.shadowOffsetY || 0);
  return {
    left: mathMaxWith0(n - r),
    right: mathMaxWith0(n + r),
    top: mathMaxWith0(n - o),
    bottom: mathMaxWith0(n + o)
  };
}
function makeStyleCoord(i, n, r, o) {
  i[0] = r, i[1] = o, i[2] = i[0] / n.getWidth(), i[3] = i[1] / n.getHeight();
}
const TooltipRichContent$1 = TooltipRichContent;
var proxyRect = new Rect$1({
  shape: {
    x: -1,
    y: -1,
    width: 2,
    height: 2
  }
}), TooltipView = (
  /** @class */
  function(i) {
    __extends(n, i);
    function n() {
      var r = i !== null && i.apply(this, arguments) || this;
      return r.type = n.type, r;
    }
    return n.prototype.init = function(r, o) {
      if (!(env$1.node || !o.getDom())) {
        var a = r.getComponent("tooltip"), u = this._renderMode = getTooltipRenderMode(a.get("renderMode"));
        this._tooltipContent = u === "richText" ? new TooltipRichContent$1(o) : new TooltipHTMLContent$1(o.getDom(), o, {
          appendToBody: a.get("appendToBody", !0)
        });
      }
    }, n.prototype.render = function(r, o, a) {
      if (!(env$1.node || !a.getDom())) {
        this.group.removeAll(), this._tooltipModel = r, this._ecModel = o, this._api = a, this._alwaysShowContent = r.get("alwaysShowContent");
        var u = this._tooltipContent;
        u.update(r), u.setEnterable(r.get("enterable")), this._initGlobalListener(), this._keepShow(), this._renderMode !== "richText" && r.get("transitionDuration") ? createOrUpdate(this, "_updatePosition", 50, "fixRate") : clear(this, "_updatePosition");
      }
    }, n.prototype._initGlobalListener = function() {
      var r = this._tooltipModel, o = r.get("triggerOn");
      register("itemTooltip", this._api, bind$1(function(a, u, c) {
        o !== "none" && (o.indexOf(a) >= 0 ? this._tryShow(u, c) : a === "leave" && this._hide(c));
      }, this));
    }, n.prototype._keepShow = function() {
      var r = this._tooltipModel, o = this._ecModel, a = this._api, u = r.get("triggerOn");
      if (this._lastX != null && this._lastY != null && u !== "none" && u !== "click") {
        var c = this;
        clearTimeout(this._refreshUpdateTimeout), this._refreshUpdateTimeout = setTimeout(function() {
          !a.isDisposed() && c.manuallyShowTip(r, o, a, {
            x: c._lastX,
            y: c._lastY,
            dataByCoordSys: c._lastDataByCoordSys
          });
        });
      }
    }, n.prototype.manuallyShowTip = function(r, o, a, u) {
      if (!(u.from === this.uid || env$1.node || !a.getDom())) {
        var c = makeDispatchAction(u, a);
        this._ticket = "";
        var f = u.dataByCoordSys, d = findComponentReference(u, o, a);
        if (d) {
          var p = d.el.getBoundingRect().clone();
          p.applyTransform(d.el.transform), this._tryShow({
            offsetX: p.x + p.width / 2,
            offsetY: p.y + p.height / 2,
            target: d.el,
            position: u.position,
            // When manully trigger, the mouse is not on the el, so we'd better to
            // position tooltip on the bottom of the el and display arrow is possible.
            positionDefault: "bottom"
          }, c);
        } else if (u.tooltip && u.x != null && u.y != null) {
          var y = proxyRect;
          y.x = u.x, y.y = u.y, y.update(), getECData(y).tooltipConfig = {
            name: null,
            option: u.tooltip
          }, this._tryShow({
            offsetX: u.x,
            offsetY: u.y,
            target: y
          }, c);
        } else if (f)
          this._tryShow({
            offsetX: u.x,
            offsetY: u.y,
            position: u.position,
            dataByCoordSys: f,
            tooltipOption: u.tooltipOption
          }, c);
        else if (u.seriesIndex != null) {
          if (this._manuallyAxisShowTip(r, o, a, u))
            return;
          var v = findPointFromSeries(u, o), g = v.point[0], _ = v.point[1];
          g != null && _ != null && this._tryShow({
            offsetX: g,
            offsetY: _,
            target: v.el,
            position: u.position,
            // When manully trigger, the mouse is not on the el, so we'd better to
            // position tooltip on the bottom of the el and display arrow is possible.
            positionDefault: "bottom"
          }, c);
        } else
          u.x != null && u.y != null && (a.dispatchAction({
            type: "updateAxisPointer",
            x: u.x,
            y: u.y
          }), this._tryShow({
            offsetX: u.x,
            offsetY: u.y,
            position: u.position,
            target: a.getZr().findHover(u.x, u.y).target
          }, c));
      }
    }, n.prototype.manuallyHideTip = function(r, o, a, u) {
      var c = this._tooltipContent;
      !this._alwaysShowContent && this._tooltipModel && c.hideLater(this._tooltipModel.get("hideDelay")), this._lastX = this._lastY = this._lastDataByCoordSys = null, u.from !== this.uid && this._hide(makeDispatchAction(u, a));
    }, n.prototype._manuallyAxisShowTip = function(r, o, a, u) {
      var c = u.seriesIndex, f = u.dataIndex, d = o.getComponent("axisPointer").coordSysAxesInfo;
      if (!(c == null || f == null || d == null)) {
        var p = o.getSeriesByIndex(c);
        if (p) {
          var y = p.getData(), v = buildTooltipModel([y.getItemModel(f), p, (p.coordinateSystem || {}).model], this._tooltipModel);
          if (v.get("trigger") === "axis")
            return a.dispatchAction({
              type: "updateAxisPointer",
              seriesIndex: c,
              dataIndex: f,
              position: u.position
            }), !0;
        }
      }
    }, n.prototype._tryShow = function(r, o) {
      var a = r.target, u = this._tooltipModel;
      if (u) {
        this._lastX = r.offsetX, this._lastY = r.offsetY;
        var c = r.dataByCoordSys;
        if (c && c.length)
          this._showAxisTooltip(c, r);
        else if (a) {
          this._lastDataByCoordSys = null;
          var f, d;
          findEventDispatcher(a, function(p) {
            if (getECData(p).dataIndex != null)
              return f = p, !0;
            if (getECData(p).tooltipConfig != null)
              return d = p, !0;
          }, !0), f ? this._showSeriesItemTooltip(r, f, o) : d ? this._showComponentItemTooltip(r, d, o) : this._hide(o);
        } else
          this._lastDataByCoordSys = null, this._hide(o);
      }
    }, n.prototype._showOrMove = function(r, o) {
      var a = r.get("showDelay");
      o = bind$1(o, this), clearTimeout(this._showTimout), a > 0 ? this._showTimout = setTimeout(o, a) : o();
    }, n.prototype._showAxisTooltip = function(r, o) {
      var a = this._ecModel, u = this._tooltipModel, c = [o.offsetX, o.offsetY], f = buildTooltipModel([o.tooltipOption], u), d = this._renderMode, p = [], y = createTooltipMarkup("section", {
        blocks: [],
        noHeader: !0
      }), v = [], g = new TooltipMarkupStyleCreator();
      each$4(r, function(T) {
        each$4(T.dataByAxis, function(x) {
          var L = a.getComponent(x.axisDim + "Axis", x.axisIndex), k = x.value;
          if (!(!L || k == null)) {
            var M = getValueLabel(k, L.axis, a, x.seriesDataIndices, x.valueLabelOpt), O = createTooltipMarkup("section", {
              header: M,
              noHeader: !trim(M),
              sortBlocks: !0,
              blocks: []
            });
            y.blocks.push(O), each$4(x.seriesDataIndices, function(ie) {
              var F = a.getSeriesByIndex(ie.seriesIndex), j = ie.dataIndexInside, D = F.getDataParams(j);
              if (!(D.dataIndex < 0)) {
                D.axisDim = x.axisDim, D.axisIndex = x.axisIndex, D.axisType = x.axisType, D.axisId = x.axisId, D.axisValue = getAxisRawValue(L.axis, {
                  value: k
                }), D.axisValueLabel = M, D.marker = g.makeTooltipMarker("item", convertToColorString(D.color), d);
                var Y = normalizeTooltipFormatResult(F.formatTooltip(j, !0, null)), z = Y.frag;
                if (z) {
                  var Ie = buildTooltipModel([F], u).get("valueFormatter");
                  O.blocks.push(Ie ? extend({
                    valueFormatter: Ie
                  }, z) : z);
                }
                Y.text && v.push(Y.text), p.push(D);
              }
            });
          }
        });
      }), y.blocks.reverse(), v.reverse();
      var _ = o.position, b = f.get("order"), A = buildTooltipMarkup(y, g, d, b, a.get("useUTC"), f.get("textStyle"));
      A && v.unshift(A);
      var w = d === "richText" ? `

` : "<br/>", S = v.join(w);
      this._showOrMove(f, function() {
        this._updateContentNotChangedOnAxis(r, p) ? this._updatePosition(f, _, c[0], c[1], this._tooltipContent, p) : this._showTooltipContent(f, S, p, Math.random() + "", c[0], c[1], _, null, g);
      });
    }, n.prototype._showSeriesItemTooltip = function(r, o, a) {
      var u = this._ecModel, c = getECData(o), f = c.seriesIndex, d = u.getSeriesByIndex(f), p = c.dataModel || d, y = c.dataIndex, v = c.dataType, g = p.getData(v), _ = this._renderMode, b = r.positionDefault, A = buildTooltipModel([g.getItemModel(y), p, d && (d.coordinateSystem || {}).model], this._tooltipModel, b ? {
        position: b
      } : null), w = A.get("trigger");
      if (!(w != null && w !== "item")) {
        var S = p.getDataParams(y, v), T = new TooltipMarkupStyleCreator();
        S.marker = T.makeTooltipMarker("item", convertToColorString(S.color), _);
        var x = normalizeTooltipFormatResult(p.formatTooltip(y, !1, v)), L = A.get("order"), k = A.get("valueFormatter"), M = x.frag, O = M ? buildTooltipMarkup(k ? extend({
          valueFormatter: k
        }, M) : M, T, _, L, u.get("useUTC"), A.get("textStyle")) : x.text, ie = "item_" + p.name + "_" + y;
        this._showOrMove(A, function() {
          this._showTooltipContent(A, O, S, ie, r.offsetX, r.offsetY, r.position, r.target, T);
        }), a({
          type: "showTip",
          dataIndexInside: y,
          dataIndex: g.getRawIndex(y),
          seriesIndex: f,
          from: this.uid
        });
      }
    }, n.prototype._showComponentItemTooltip = function(r, o, a) {
      var u = getECData(o), c = u.tooltipConfig, f = c.option || {};
      if (isString$2(f)) {
        var d = f;
        f = {
          content: d,
          // Fixed formatter
          formatter: d
        };
      }
      var p = [f], y = this._ecModel.getComponent(u.componentMainType, u.componentIndex);
      y && p.push(y), p.push({
        formatter: f.content
      });
      var v = r.positionDefault, g = buildTooltipModel(p, this._tooltipModel, v ? {
        position: v
      } : null), _ = g.get("content"), b = Math.random() + "", A = new TooltipMarkupStyleCreator();
      this._showOrMove(g, function() {
        var w = clone$2(g.get("formatterParams") || {});
        this._showTooltipContent(g, _, w, b, r.offsetX, r.offsetY, r.position, o, A);
      }), a({
        type: "showTip",
        from: this.uid
      });
    }, n.prototype._showTooltipContent = function(r, o, a, u, c, f, d, p, y) {
      if (this._ticket = "", !(!r.get("showContent") || !r.get("show"))) {
        var v = this._tooltipContent;
        v.setEnterable(r.get("enterable"));
        var g = r.get("formatter");
        d = d || r.get("position");
        var _ = o, b = this._getNearestPoint([c, f], a, r.get("trigger"), r.get("borderColor")), A = b.color;
        if (g)
          if (isString$2(g)) {
            var w = r.ecModel.get("useUTC"), S = isArray$1(a) ? a[0] : a, T = S && S.axisType && S.axisType.indexOf("time") >= 0;
            _ = g, T && (_ = format$1(S.axisValue, _, w)), _ = formatTpl(_, a, !0);
          } else if (isFunction$1(g)) {
            var x = bind$1(function(L, k) {
              L === this._ticket && (v.setContent(k, y, r, A, d), this._updatePosition(r, d, c, f, v, a, p));
            }, this);
            this._ticket = u, _ = g(a, u, x);
          } else
            _ = g;
        v.setContent(_, y, r, A, d), v.show(r, A), this._updatePosition(r, d, c, f, v, a, p);
      }
    }, n.prototype._getNearestPoint = function(r, o, a, u) {
      if (a === "axis" || isArray$1(o))
        return {
          color: u || (this._renderMode === "html" ? "#fff" : "none")
        };
      if (!isArray$1(o))
        return {
          color: u || o.color || o.borderColor
        };
    }, n.prototype._updatePosition = function(r, o, a, u, c, f, d) {
      var p = this._api.getWidth(), y = this._api.getHeight();
      o = o || r.get("position");
      var v = c.getSize(), g = r.get("align"), _ = r.get("verticalAlign"), b = d && d.getBoundingRect().clone();
      if (d && b.applyTransform(d.transform), isFunction$1(o) && (o = o([a, u], f, c.el, b, {
        viewSize: [p, y],
        contentSize: v.slice()
      })), isArray$1(o))
        a = parsePercent(o[0], p), u = parsePercent(o[1], y);
      else if (isObject$3(o)) {
        var A = o;
        A.width = v[0], A.height = v[1];
        var w = getLayoutRect(A, {
          width: p,
          height: y
        });
        a = w.x, u = w.y, g = null, _ = null;
      } else if (isString$2(o) && d) {
        var S = calcTooltipPosition(o, b, v, r.get("borderWidth"));
        a = S[0], u = S[1];
      } else {
        var S = refixTooltipPosition(a, u, c, p, y, g ? null : 20, _ ? null : 20);
        a = S[0], u = S[1];
      }
      if (g && (a -= isCenterAlign(g) ? v[0] / 2 : g === "right" ? v[0] : 0), _ && (u -= isCenterAlign(_) ? v[1] / 2 : _ === "bottom" ? v[1] : 0), shouldTooltipConfine(r)) {
        var S = confineTooltipPosition(a, u, c, p, y);
        a = S[0], u = S[1];
      }
      c.moveTo(a, u);
    }, n.prototype._updateContentNotChangedOnAxis = function(r, o) {
      var a = this._lastDataByCoordSys, u = this._cbParamsList, c = !!a && a.length === r.length;
      return c && each$4(a, function(f, d) {
        var p = f.dataByAxis || [], y = r[d] || {}, v = y.dataByAxis || [];
        c = c && p.length === v.length, c && each$4(p, function(g, _) {
          var b = v[_] || {}, A = g.seriesDataIndices || [], w = b.seriesDataIndices || [];
          c = c && g.value === b.value && g.axisType === b.axisType && g.axisId === b.axisId && A.length === w.length, c && each$4(A, function(S, T) {
            var x = w[T];
            c = c && S.seriesIndex === x.seriesIndex && S.dataIndex === x.dataIndex;
          }), u && each$4(g.seriesDataIndices, function(S) {
            var T = S.seriesIndex, x = o[T], L = u[T];
            x && L && L.data !== x.data && (c = !1);
          });
        });
      }), this._lastDataByCoordSys = r, this._cbParamsList = o, !!c;
    }, n.prototype._hide = function(r) {
      this._lastDataByCoordSys = null, r({
        type: "hideTip",
        from: this.uid
      });
    }, n.prototype.dispose = function(r, o) {
      env$1.node || !o.getDom() || (clear(this, "_updatePosition"), this._tooltipContent.dispose(), unregister("itemTooltip", o));
    }, n.type = "tooltip", n;
  }(ComponentView$1)
);
function buildTooltipModel(i, n, r) {
  var o = n.ecModel, a;
  r ? (a = new Model$1(r, o, o), a = new Model$1(n.option, a, o)) : a = n;
  for (var u = i.length - 1; u >= 0; u--) {
    var c = i[u];
    c && (c instanceof Model$1 && (c = c.get("tooltip", !0)), isString$2(c) && (c = {
      formatter: c
    }), c && (a = new Model$1(c, a, o)));
  }
  return a;
}
function makeDispatchAction(i, n) {
  return i.dispatchAction || bind$1(n.dispatchAction, n);
}
function refixTooltipPosition(i, n, r, o, a, u, c) {
  var f = r.getSize(), d = f[0], p = f[1];
  return u != null && (i + d + u + 2 > o ? i -= d + u : i += u), c != null && (n + p + c > a ? n -= p + c : n += c), [i, n];
}
function confineTooltipPosition(i, n, r, o, a) {
  var u = r.getSize(), c = u[0], f = u[1];
  return i = Math.min(i + c, o) - c, n = Math.min(n + f, a) - f, i = Math.max(i, 0), n = Math.max(n, 0), [i, n];
}
function calcTooltipPosition(i, n, r, o) {
  var a = r[0], u = r[1], c = Math.ceil(Math.SQRT2 * o) + 8, f = 0, d = 0, p = n.width, y = n.height;
  switch (i) {
    case "inside":
      f = n.x + p / 2 - a / 2, d = n.y + y / 2 - u / 2;
      break;
    case "top":
      f = n.x + p / 2 - a / 2, d = n.y - u - c;
      break;
    case "bottom":
      f = n.x + p / 2 - a / 2, d = n.y + y + c;
      break;
    case "left":
      f = n.x - a - c, d = n.y + y / 2 - u / 2;
      break;
    case "right":
      f = n.x + p + c, d = n.y + y / 2 - u / 2;
  }
  return [f, d];
}
function isCenterAlign(i) {
  return i === "center" || i === "middle";
}
function findComponentReference(i, n, r) {
  var o = preParseFinder(i).queryOptionMap, a = o.keys()[0];
  if (!(!a || a === "series")) {
    var u = queryReferringComponents(n, a, o.get(a), {
      useDefault: !1,
      enableAll: !1,
      enableNone: !1
    }), c = u.models[0];
    if (c) {
      var f = r.getViewOfComponentModel(c), d;
      if (f.group.traverse(function(p) {
        var y = getECData(p).tooltipConfig;
        if (y && y.name === i.name)
          return d = p, !0;
      }), d)
        return {
          componentMainType: a,
          componentIndex: c.componentIndex,
          el: d
        };
    }
  }
}
const TooltipView$1 = TooltipView;
function install$4(i) {
  use(install$5), i.registerComponentModel(TooltipModel$1), i.registerComponentView(TooltipView$1), i.registerAction({
    type: "showTip",
    event: "showTip",
    update: "tooltip:manuallyShowTip"
  }, noop$1), i.registerAction({
    type: "hideTip",
    event: "hideTip",
    update: "tooltip:manuallyHideTip"
  }, noop$1);
}
var TitleModel = (
  /** @class */
  function(i) {
    __extends(n, i);
    function n() {
      var r = i !== null && i.apply(this, arguments) || this;
      return r.type = n.type, r.layoutMode = {
        type: "box",
        ignoreSize: !0
      }, r;
    }
    return n.type = "title", n.defaultOption = {
      // zlevel: 0,
      z: 6,
      show: !0,
      text: "",
      target: "blank",
      subtext: "",
      subtarget: "blank",
      left: 0,
      top: 0,
      backgroundColor: "rgba(0,0,0,0)",
      borderColor: "#ccc",
      borderWidth: 0,
      padding: 5,
      itemGap: 10,
      textStyle: {
        fontSize: 18,
        fontWeight: "bold",
        color: "#464646"
      },
      subtextStyle: {
        fontSize: 12,
        color: "#6E7079"
      }
    }, n;
  }(ComponentModel$1)
), TitleView = (
  /** @class */
  function(i) {
    __extends(n, i);
    function n() {
      var r = i !== null && i.apply(this, arguments) || this;
      return r.type = n.type, r;
    }
    return n.prototype.render = function(r, o, a) {
      if (this.group.removeAll(), !!r.get("show")) {
        var u = this.group, c = r.getModel("textStyle"), f = r.getModel("subtextStyle"), d = r.get("textAlign"), p = retrieve2(r.get("textBaseline"), r.get("textVerticalAlign")), y = new ZRText$1({
          style: createTextStyle(c, {
            text: r.get("text"),
            fill: c.getTextColor()
          }, {
            disableBox: !0
          }),
          z2: 10
        }), v = y.getBoundingRect(), g = r.get("subtext"), _ = new ZRText$1({
          style: createTextStyle(f, {
            text: g,
            fill: f.getTextColor(),
            y: v.height + r.get("itemGap"),
            verticalAlign: "top"
          }, {
            disableBox: !0
          }),
          z2: 10
        }), b = r.get("link"), A = r.get("sublink"), w = r.get("triggerEvent", !0);
        y.silent = !b && !w, _.silent = !A && !w, b && y.on("click", function() {
          windowOpen(b, "_" + r.get("target"));
        }), A && _.on("click", function() {
          windowOpen(A, "_" + r.get("subtarget"));
        }), getECData(y).eventData = getECData(_).eventData = w ? {
          componentType: "title",
          componentIndex: r.componentIndex
        } : null, u.add(y), g && u.add(_);
        var S = u.getBoundingRect(), T = r.getBoxLayoutParams();
        T.width = S.width, T.height = S.height;
        var x = getLayoutRect(T, {
          width: a.getWidth(),
          height: a.getHeight()
        }, r.get("padding"));
        d || (d = r.get("left") || r.get("right"), d === "middle" && (d = "center"), d === "right" ? x.x += x.width : d === "center" && (x.x += x.width / 2)), p || (p = r.get("top") || r.get("bottom"), p === "center" && (p = "middle"), p === "bottom" ? x.y += x.height : p === "middle" && (x.y += x.height / 2), p = p || "top"), u.x = x.x, u.y = x.y, u.markRedraw();
        var L = {
          align: d,
          verticalAlign: p
        };
        y.setStyle(L), _.setStyle(L), S = u.getBoundingRect();
        var k = x.margin, M = r.getItemStyle(["color", "opacity"]);
        M.fill = r.get("backgroundColor");
        var O = new Rect$1({
          shape: {
            x: S.x - k[3],
            y: S.y - k[0],
            width: S.width + k[1] + k[3],
            height: S.height + k[0] + k[2],
            r: r.get("borderRadius")
          },
          style: M,
          subPixelOptimize: !0,
          silent: !0
        });
        u.add(O);
      }
    }, n.type = "title", n;
  }(ComponentView$1)
);
function install$3(i) {
  i.registerComponentModel(TitleModel), i.registerComponentView(TitleView);
}
var getDefaultSelectorOptions = function(i, n) {
  if (n === "all")
    return {
      type: "all",
      title: i.getLocaleModel().get(["legend", "selector", "all"])
    };
  if (n === "inverse")
    return {
      type: "inverse",
      title: i.getLocaleModel().get(["legend", "selector", "inverse"])
    };
}, LegendModel = (
  /** @class */
  function(i) {
    __extends(n, i);
    function n() {
      var r = i !== null && i.apply(this, arguments) || this;
      return r.type = n.type, r.layoutMode = {
        type: "box",
        // legend.width/height are maxWidth/maxHeight actually,
        // whereas real width/height is calculated by its content.
        // (Setting {left: 10, right: 10} does not make sense).
        // So consider the case:
        // `setOption({legend: {left: 10});`
        // then `setOption({legend: {right: 10});`
        // The previous `left` should be cleared by setting `ignoreSize`.
        ignoreSize: !0
      }, r;
    }
    return n.prototype.init = function(r, o, a) {
      this.mergeDefaultAndTheme(r, a), r.selected = r.selected || {}, this._updateSelector(r);
    }, n.prototype.mergeOption = function(r, o) {
      i.prototype.mergeOption.call(this, r, o), this._updateSelector(r);
    }, n.prototype._updateSelector = function(r) {
      var o = r.selector, a = this.ecModel;
      o === !0 && (o = r.selector = ["all", "inverse"]), isArray$1(o) && each$4(o, function(u, c) {
        isString$2(u) && (u = {
          type: u
        }), o[c] = merge(u, getDefaultSelectorOptions(a, u.type));
      });
    }, n.prototype.optionUpdated = function() {
      this._updateData(this.ecModel);
      var r = this._data;
      if (r[0] && this.get("selectedMode") === "single") {
        for (var o = !1, a = 0; a < r.length; a++) {
          var u = r[a].get("name");
          if (this.isSelected(u)) {
            this.select(u), o = !0;
            break;
          }
        }
        !o && this.select(r[0].get("name"));
      }
    }, n.prototype._updateData = function(r) {
      var o = [], a = [];
      r.eachRawSeries(function(d) {
        var p = d.name;
        a.push(p);
        var y;
        if (d.legendVisualProvider) {
          var v = d.legendVisualProvider, g = v.getAllNames();
          r.isSeriesFiltered(d) || (a = a.concat(g)), g.length ? o = o.concat(g) : y = !0;
        } else
          y = !0;
        y && isNameSpecified(d) && o.push(d.name);
      }), this._availableNames = a;
      var u = this.get("data") || o, c = createHashMap(), f = map$1(u, function(d) {
        return (isString$2(d) || isNumber$1(d)) && (d = {
          name: d
        }), c.get(d.name) ? null : (c.set(d.name, !0), new Model$1(d, this, this.ecModel));
      }, this);
      this._data = filter(f, function(d) {
        return !!d;
      });
    }, n.prototype.getData = function() {
      return this._data;
    }, n.prototype.select = function(r) {
      var o = this.option.selected, a = this.get("selectedMode");
      if (a === "single") {
        var u = this._data;
        each$4(u, function(c) {
          o[c.get("name")] = !1;
        });
      }
      o[r] = !0;
    }, n.prototype.unSelect = function(r) {
      this.get("selectedMode") !== "single" && (this.option.selected[r] = !1);
    }, n.prototype.toggleSelected = function(r) {
      var o = this.option.selected;
      o.hasOwnProperty(r) || (o[r] = !0), this[o[r] ? "unSelect" : "select"](r);
    }, n.prototype.allSelect = function() {
      var r = this._data, o = this.option.selected;
      each$4(r, function(a) {
        o[a.get("name", !0)] = !0;
      });
    }, n.prototype.inverseSelect = function() {
      var r = this._data, o = this.option.selected;
      each$4(r, function(a) {
        var u = a.get("name", !0);
        o.hasOwnProperty(u) || (o[u] = !0), o[u] = !o[u];
      });
    }, n.prototype.isSelected = function(r) {
      var o = this.option.selected;
      return !(o.hasOwnProperty(r) && !o[r]) && indexOf(this._availableNames, r) >= 0;
    }, n.prototype.getOrient = function() {
      return this.get("orient") === "vertical" ? {
        index: 1,
        name: "vertical"
      } : {
        index: 0,
        name: "horizontal"
      };
    }, n.type = "legend.plain", n.dependencies = ["series"], n.defaultOption = {
      // zlevel: 0,
      z: 4,
      show: !0,
      orient: "horizontal",
      left: "center",
      // right: 'center',
      top: 0,
      // bottom: null,
      align: "auto",
      backgroundColor: "rgba(0,0,0,0)",
      borderColor: "#ccc",
      borderRadius: 0,
      borderWidth: 0,
      padding: 5,
      itemGap: 10,
      itemWidth: 25,
      itemHeight: 14,
      symbolRotate: "inherit",
      symbolKeepAspect: !0,
      inactiveColor: "#ccc",
      inactiveBorderColor: "#ccc",
      inactiveBorderWidth: "auto",
      itemStyle: {
        color: "inherit",
        opacity: "inherit",
        borderColor: "inherit",
        borderWidth: "auto",
        borderCap: "inherit",
        borderJoin: "inherit",
        borderDashOffset: "inherit",
        borderMiterLimit: "inherit"
      },
      lineStyle: {
        width: "auto",
        color: "inherit",
        inactiveColor: "#ccc",
        inactiveWidth: 2,
        opacity: "inherit",
        type: "inherit",
        cap: "inherit",
        join: "inherit",
        dashOffset: "inherit",
        miterLimit: "inherit"
      },
      textStyle: {
        color: "#333"
      },
      selectedMode: !0,
      selector: !1,
      selectorLabel: {
        show: !0,
        borderRadius: 10,
        padding: [3, 5, 3, 5],
        fontSize: 12,
        fontFamily: "sans-serif",
        color: "#666",
        borderWidth: 1,
        borderColor: "#666"
      },
      emphasis: {
        selectorLabel: {
          show: !0,
          color: "#eee",
          backgroundColor: "#666"
        }
      },
      selectorPosition: "auto",
      selectorItemGap: 7,
      selectorButtonGap: 10,
      tooltip: {
        show: !1
      }
    }, n;
  }(ComponentModel$1)
);
const LegendModel$1 = LegendModel;
var curry = curry$1, each = each$4, Group$1 = Group$3, LegendView = (
  /** @class */
  function(i) {
    __extends(n, i);
    function n() {
      var r = i !== null && i.apply(this, arguments) || this;
      return r.type = n.type, r.newlineDisabled = !1, r;
    }
    return n.prototype.init = function() {
      this.group.add(this._contentGroup = new Group$1()), this.group.add(this._selectorGroup = new Group$1()), this._isFirstRender = !0;
    }, n.prototype.getContentGroup = function() {
      return this._contentGroup;
    }, n.prototype.getSelectorGroup = function() {
      return this._selectorGroup;
    }, n.prototype.render = function(r, o, a) {
      var u = this._isFirstRender;
      if (this._isFirstRender = !1, this.resetInner(), !!r.get("show", !0)) {
        var c = r.get("align"), f = r.get("orient");
        (!c || c === "auto") && (c = r.get("left") === "right" && f === "vertical" ? "right" : "left");
        var d = r.get("selector", !0), p = r.get("selectorPosition", !0);
        d && (!p || p === "auto") && (p = f === "horizontal" ? "end" : "start"), this.renderInner(c, r, o, a, d, f, p);
        var y = r.getBoxLayoutParams(), v = {
          width: a.getWidth(),
          height: a.getHeight()
        }, g = r.get("padding"), _ = getLayoutRect(y, v, g), b = this.layoutInner(r, c, _, u, d, p), A = getLayoutRect(defaults({
          width: b.width,
          height: b.height
        }, y), v, g);
        this.group.x = A.x - b.x, this.group.y = A.y - b.y, this.group.markRedraw(), this.group.add(this._backgroundEl = makeBackground(b, r));
      }
    }, n.prototype.resetInner = function() {
      this.getContentGroup().removeAll(), this._backgroundEl && this.group.remove(this._backgroundEl), this.getSelectorGroup().removeAll();
    }, n.prototype.renderInner = function(r, o, a, u, c, f, d) {
      var p = this.getContentGroup(), y = createHashMap(), v = o.get("selectedMode"), g = [];
      a.eachRawSeries(function(_) {
        !_.get("legendHoverLink") && g.push(_.id);
      }), each(o.getData(), function(_, b) {
        var A = _.get("name");
        if (!this.newlineDisabled && (A === "" || A === `
`)) {
          var w = new Group$1();
          w.newline = !0, p.add(w);
          return;
        }
        var S = a.getSeriesByName(A)[0];
        if (!y.get(A)) {
          if (S) {
            var T = S.getData(), x = T.getVisual("legendLineStyle") || {}, L = T.getVisual("legendIcon"), k = T.getVisual("style"), M = this._createItem(S, A, b, _, o, r, x, k, L, v, u);
            M.on("click", curry(dispatchSelectAction, A, null, u, g)).on("mouseover", curry(dispatchHighlightAction, S.name, null, u, g)).on("mouseout", curry(dispatchDownplayAction, S.name, null, u, g)), y.set(A, !0);
          } else
            a.eachRawSeries(function(O) {
              if (!y.get(A) && O.legendVisualProvider) {
                var ie = O.legendVisualProvider;
                if (!ie.containName(A))
                  return;
                var F = ie.indexOfName(A), j = ie.getItemVisual(F, "style"), D = ie.getItemVisual(F, "legendIcon"), Y = parse(j.fill);
                Y && Y[3] === 0 && (Y[3] = 0.2, j = extend(extend({}, j), {
                  fill: stringify(Y, "rgba")
                }));
                var z = this._createItem(O, A, b, _, o, r, {}, j, D, v, u);
                z.on("click", curry(dispatchSelectAction, null, A, u, g)).on("mouseover", curry(dispatchHighlightAction, null, A, u, g)).on("mouseout", curry(dispatchDownplayAction, null, A, u, g)), y.set(A, !0);
              }
            }, this);
          process.env.NODE_ENV !== "production" && (y.get(A) || console.warn(A + " series not exists. Legend data should be same with series name or data name."));
        }
      }, this), c && this._createSelector(c, o, u, f, d);
    }, n.prototype._createSelector = function(r, o, a, u, c) {
      var f = this.getSelectorGroup();
      each(r, function(p) {
        var y = p.type, v = new ZRText$1({
          style: {
            x: 0,
            y: 0,
            align: "center",
            verticalAlign: "middle"
          },
          onclick: function() {
            a.dispatchAction({
              type: y === "all" ? "legendAllSelect" : "legendInverseSelect"
            });
          }
        });
        f.add(v);
        var g = o.getModel("selectorLabel"), _ = o.getModel(["emphasis", "selectorLabel"]);
        setLabelStyle(v, {
          normal: g,
          emphasis: _
        }, {
          defaultText: p.title
        }), enableHoverEmphasis(v);
      });
    }, n.prototype._createItem = function(r, o, a, u, c, f, d, p, y, v, g) {
      var _ = r.visualDrawType, b = c.get("itemWidth"), A = c.get("itemHeight"), w = c.isSelected(o), S = u.get("symbolRotate"), T = u.get("symbolKeepAspect"), x = u.get("icon");
      y = x || y || "roundRect";
      var L = getLegendStyle(y, u, d, p, _, w, g), k = new Group$1(), M = u.getModel("textStyle");
      if (isFunction$1(r.getLegendIcon) && (!x || x === "inherit"))
        k.add(r.getLegendIcon({
          itemWidth: b,
          itemHeight: A,
          icon: y,
          iconRotate: S,
          itemStyle: L.itemStyle,
          lineStyle: L.lineStyle,
          symbolKeepAspect: T
        }));
      else {
        var O = x === "inherit" && r.getData().getVisual("symbol") ? S === "inherit" ? r.getData().getVisual("symbolRotate") : S : 0;
        k.add(getDefaultLegendIcon({
          itemWidth: b,
          itemHeight: A,
          icon: y,
          iconRotate: O,
          itemStyle: L.itemStyle,
          lineStyle: L.lineStyle,
          symbolKeepAspect: T
        }));
      }
      var ie = f === "left" ? b + 5 : -5, F = f, j = c.get("formatter"), D = o;
      isString$2(j) && j ? D = j.replace("{name}", o ?? "") : isFunction$1(j) && (D = j(o));
      var Y = u.get("inactiveColor");
      k.add(new ZRText$1({
        style: createTextStyle(M, {
          text: D,
          x: ie,
          y: A / 2,
          fill: w ? M.getTextColor() : Y,
          align: F,
          verticalAlign: "middle"
        })
      }));
      var z = new Rect$1({
        shape: k.getBoundingRect(),
        invisible: !0
      }), Ie = u.getModel("tooltip");
      return Ie.get("show") && setTooltipConfig({
        el: z,
        componentModel: c,
        itemName: o,
        itemTooltipOption: Ie.option
      }), k.add(z), k.eachChild(function(ue) {
        ue.silent = !0;
      }), z.silent = !v, this.getContentGroup().add(k), enableHoverEmphasis(k), k.__legendDataIndex = a, k;
    }, n.prototype.layoutInner = function(r, o, a, u, c, f) {
      var d = this.getContentGroup(), p = this.getSelectorGroup();
      box(r.get("orient"), d, r.get("itemGap"), a.width, a.height);
      var y = d.getBoundingRect(), v = [-y.x, -y.y];
      if (p.markRedraw(), d.markRedraw(), c) {
        box(
          // Buttons in selectorGroup always layout horizontally
          "horizontal",
          p,
          r.get("selectorItemGap", !0)
        );
        var g = p.getBoundingRect(), _ = [-g.x, -g.y], b = r.get("selectorButtonGap", !0), A = r.getOrient().index, w = A === 0 ? "width" : "height", S = A === 0 ? "height" : "width", T = A === 0 ? "y" : "x";
        f === "end" ? _[A] += y[w] + b : v[A] += g[w] + b, _[1 - A] += y[S] / 2 - g[S] / 2, p.x = _[0], p.y = _[1], d.x = v[0], d.y = v[1];
        var x = {
          x: 0,
          y: 0
        };
        return x[w] = y[w] + b + g[w], x[S] = Math.max(y[S], g[S]), x[T] = Math.min(0, g[T] + _[1 - A]), x;
      } else
        return d.x = v[0], d.y = v[1], this.group.getBoundingRect();
    }, n.prototype.remove = function() {
      this.getContentGroup().removeAll(), this._isFirstRender = !0;
    }, n.type = "legend.plain", n;
  }(ComponentView$1)
);
function getLegendStyle(i, n, r, o, a, u, c) {
  function f(w, S) {
    w.lineWidth === "auto" && (w.lineWidth = S.lineWidth > 0 ? 2 : 0), each(w, function(T, x) {
      w[x] === "inherit" && (w[x] = S[x]);
    });
  }
  var d = n.getModel("itemStyle"), p = d.getItemStyle(), y = i.lastIndexOf("empty", 0) === 0 ? "fill" : "stroke", v = d.getShallow("decal");
  p.decal = !v || v === "inherit" ? o.decal : createOrUpdatePatternFromDecal(v, c), p.fill === "inherit" && (p.fill = o[a]), p.stroke === "inherit" && (p.stroke = o[y]), p.opacity === "inherit" && (p.opacity = (a === "fill" ? o : r).opacity), f(p, o);
  var g = n.getModel("lineStyle"), _ = g.getLineStyle();
  if (f(_, r), p.fill === "auto" && (p.fill = o.fill), p.stroke === "auto" && (p.stroke = o.fill), _.stroke === "auto" && (_.stroke = o.fill), !u) {
    var b = n.get("inactiveBorderWidth"), A = p[y];
    p.lineWidth = b === "auto" ? o.lineWidth > 0 && A ? 2 : 0 : p.lineWidth, p.fill = n.get("inactiveColor"), p.stroke = n.get("inactiveBorderColor"), _.stroke = g.get("inactiveColor"), _.lineWidth = g.get("inactiveWidth");
  }
  return {
    itemStyle: p,
    lineStyle: _
  };
}
function getDefaultLegendIcon(i) {
  var n = i.icon || "roundRect", r = createSymbol(n, 0, 0, i.itemWidth, i.itemHeight, i.itemStyle.fill, i.symbolKeepAspect);
  return r.setStyle(i.itemStyle), r.rotation = (i.iconRotate || 0) * Math.PI / 180, r.setOrigin([i.itemWidth / 2, i.itemHeight / 2]), n.indexOf("empty") > -1 && (r.style.stroke = r.style.fill, r.style.fill = "#fff", r.style.lineWidth = 2), r;
}
function dispatchSelectAction(i, n, r, o) {
  dispatchDownplayAction(i, n, r, o), r.dispatchAction({
    type: "legendToggleSelect",
    name: i ?? n
  }), dispatchHighlightAction(i, n, r, o);
}
function isUseHoverLayer(i) {
  for (var n = i.getZr().storage.getDisplayList(), r, o = 0, a = n.length; o < a && !(r = n[o].states.emphasis); )
    o++;
  return r && r.hoverLayer;
}
function dispatchHighlightAction(i, n, r, o) {
  isUseHoverLayer(r) || r.dispatchAction({
    type: "highlight",
    seriesName: i,
    name: n,
    excludeSeriesId: o
  });
}
function dispatchDownplayAction(i, n, r, o) {
  isUseHoverLayer(r) || r.dispatchAction({
    type: "downplay",
    seriesName: i,
    name: n,
    excludeSeriesId: o
  });
}
const LegendView$1 = LegendView;
function legendFilter(i) {
  var n = i.findComponents({
    mainType: "legend"
  });
  n && n.length && i.filterSeries(function(r) {
    for (var o = 0; o < n.length; o++)
      if (!n[o].isSelected(r.name))
        return !1;
    return !0;
  });
}
function legendSelectActionHandler(i, n, r) {
  var o = {}, a = i === "toggleSelected", u;
  return r.eachComponent("legend", function(c) {
    a && u != null ? c[u ? "select" : "unSelect"](n.name) : i === "allSelect" || i === "inverseSelect" ? c[i]() : (c[i](n.name), u = c.isSelected(n.name));
    var f = c.getData();
    each$4(f, function(d) {
      var p = d.get("name");
      if (!(p === `
` || p === "")) {
        var y = c.isSelected(p);
        o.hasOwnProperty(p) ? o[p] = o[p] && y : o[p] = y;
      }
    });
  }), i === "allSelect" || i === "inverseSelect" ? {
    selected: o
  } : {
    name: n.name,
    selected: o
  };
}
function installLegendAction(i) {
  i.registerAction("legendToggleSelect", "legendselectchanged", curry$1(legendSelectActionHandler, "toggleSelected")), i.registerAction("legendAllSelect", "legendselectall", curry$1(legendSelectActionHandler, "allSelect")), i.registerAction("legendInverseSelect", "legendinverseselect", curry$1(legendSelectActionHandler, "inverseSelect")), i.registerAction("legendSelect", "legendselected", curry$1(legendSelectActionHandler, "select")), i.registerAction("legendUnSelect", "legendunselected", curry$1(legendSelectActionHandler, "unSelect"));
}
function install$2(i) {
  i.registerComponentModel(LegendModel$1), i.registerComponentView(LegendView$1), i.registerProcessor(i.PRIORITY.PROCESSOR.SERIES_FILTER, legendFilter), i.registerSubTypeDefaulter("legend", function() {
    return "plain";
  }), installLegendAction(i);
}
var ScrollableLegendModel = (
  /** @class */
  function(i) {
    __extends(n, i);
    function n() {
      var r = i !== null && i.apply(this, arguments) || this;
      return r.type = n.type, r;
    }
    return n.prototype.setScrollDataIndex = function(r) {
      this.option.scrollDataIndex = r;
    }, n.prototype.init = function(r, o, a) {
      var u = getLayoutParams(r);
      i.prototype.init.call(this, r, o, a), mergeAndNormalizeLayoutParams(this, r, u);
    }, n.prototype.mergeOption = function(r, o) {
      i.prototype.mergeOption.call(this, r, o), mergeAndNormalizeLayoutParams(this, this.option, r);
    }, n.type = "legend.scroll", n.defaultOption = inheritDefaultOption(LegendModel$1.defaultOption, {
      scrollDataIndex: 0,
      pageButtonItemGap: 5,
      pageButtonGap: null,
      pageButtonPosition: "end",
      pageFormatter: "{current}/{total}",
      pageIcons: {
        horizontal: ["M0,0L12,-10L12,10z", "M0,0L-12,-10L-12,10z"],
        vertical: ["M0,0L20,0L10,-20z", "M0,0L20,0L10,20z"]
      },
      pageIconColor: "#2f4554",
      pageIconInactiveColor: "#aaa",
      pageIconSize: 15,
      pageTextStyle: {
        color: "#333"
      },
      animationDurationUpdate: 800
    }), n;
  }(LegendModel$1)
);
function mergeAndNormalizeLayoutParams(i, n, r) {
  var o = i.getOrient(), a = [1, 1];
  a[o.index] = 0, mergeLayoutParam(n, r, {
    type: "box",
    ignoreSize: !!a
  });
}
const ScrollableLegendModel$1 = ScrollableLegendModel;
var Group = Group$3, WH = ["width", "height"], XY = ["x", "y"], ScrollableLegendView = (
  /** @class */
  function(i) {
    __extends(n, i);
    function n() {
      var r = i !== null && i.apply(this, arguments) || this;
      return r.type = n.type, r.newlineDisabled = !0, r._currentIndex = 0, r;
    }
    return n.prototype.init = function() {
      i.prototype.init.call(this), this.group.add(this._containerGroup = new Group()), this._containerGroup.add(this.getContentGroup()), this.group.add(this._controllerGroup = new Group());
    }, n.prototype.resetInner = function() {
      i.prototype.resetInner.call(this), this._controllerGroup.removeAll(), this._containerGroup.removeClipPath(), this._containerGroup.__rectSize = null;
    }, n.prototype.renderInner = function(r, o, a, u, c, f, d) {
      var p = this;
      i.prototype.renderInner.call(this, r, o, a, u, c, f, d);
      var y = this._controllerGroup, v = o.get("pageIconSize", !0), g = isArray$1(v) ? v : [v, v];
      b("pagePrev", 0);
      var _ = o.getModel("pageTextStyle");
      y.add(new ZRText$1({
        name: "pageText",
        style: {
          // Placeholder to calculate a proper layout.
          text: "xx/xx",
          fill: _.getTextColor(),
          font: _.getFont(),
          verticalAlign: "middle",
          align: "center"
        },
        silent: !0
      })), b("pageNext", 1);
      function b(A, w) {
        var S = A + "DataIndex", T = createIcon(o.get("pageIcons", !0)[o.getOrient().name][w], {
          // Buttons will be created in each render, so we do not need
          // to worry about avoiding using legendModel kept in scope.
          onclick: bind$1(p._pageGo, p, S, o, u)
        }, {
          x: -g[0] / 2,
          y: -g[1] / 2,
          width: g[0],
          height: g[1]
        });
        T.name = A, y.add(T);
      }
    }, n.prototype.layoutInner = function(r, o, a, u, c, f) {
      var d = this.getSelectorGroup(), p = r.getOrient().index, y = WH[p], v = XY[p], g = WH[1 - p], _ = XY[1 - p];
      c && box(
        // Buttons in selectorGroup always layout horizontally
        "horizontal",
        d,
        r.get("selectorItemGap", !0)
      );
      var b = r.get("selectorButtonGap", !0), A = d.getBoundingRect(), w = [-A.x, -A.y], S = clone$2(a);
      c && (S[y] = a[y] - A[y] - b);
      var T = this._layoutContentAndController(r, u, S, p, y, g, _, v);
      if (c) {
        if (f === "end")
          w[p] += T[y] + b;
        else {
          var x = A[y] + b;
          w[p] -= x, T[v] -= x;
        }
        T[y] += A[y] + b, w[1 - p] += T[_] + T[g] / 2 - A[g] / 2, T[g] = Math.max(T[g], A[g]), T[_] = Math.min(T[_], A[_] + w[1 - p]), d.x = w[0], d.y = w[1], d.markRedraw();
      }
      return T;
    }, n.prototype._layoutContentAndController = function(r, o, a, u, c, f, d, p) {
      var y = this.getContentGroup(), v = this._containerGroup, g = this._controllerGroup;
      box(r.get("orient"), y, r.get("itemGap"), u ? a.width : null, u ? null : a.height), box(
        // Buttons in controller are layout always horizontally.
        "horizontal",
        g,
        r.get("pageButtonItemGap", !0)
      );
      var _ = y.getBoundingRect(), b = g.getBoundingRect(), A = this._showController = _[c] > a[c], w = [-_.x, -_.y];
      o || (w[u] = y[p]);
      var S = [0, 0], T = [-b.x, -b.y], x = retrieve2(r.get("pageButtonGap", !0), r.get("itemGap", !0));
      if (A) {
        var L = r.get("pageButtonPosition", !0);
        L === "end" ? T[u] += a[c] - b[c] : S[u] += b[c] + x;
      }
      T[1 - u] += _[f] / 2 - b[f] / 2, y.setPosition(w), v.setPosition(S), g.setPosition(T);
      var k = {
        x: 0,
        y: 0
      };
      if (k[c] = A ? a[c] : _[c], k[f] = Math.max(_[f], b[f]), k[d] = Math.min(0, b[d] + T[1 - u]), v.__rectSize = a[c], A) {
        var M = {
          x: 0,
          y: 0
        };
        M[c] = Math.max(a[c] - b[c] - x, 0), M[f] = k[f], v.setClipPath(new Rect$1({
          shape: M
        })), v.__rectSize = M[c];
      } else
        g.eachChild(function(ie) {
          ie.attr({
            invisible: !0,
            silent: !0
          });
        });
      var O = this._getPageInfo(r);
      return O.pageIndex != null && updateProps$1(
        y,
        {
          x: O.contentPosition[0],
          y: O.contentPosition[1]
        },
        // When switch from "show controller" to "not show controller", view should be
        // updated immediately without animation, otherwise causes weird effect.
        A ? r : null
      ), this._updatePageInfoView(r, O), k;
    }, n.prototype._pageGo = function(r, o, a) {
      var u = this._getPageInfo(o)[r];
      u != null && a.dispatchAction({
        type: "legendScroll",
        scrollDataIndex: u,
        legendId: o.id
      });
    }, n.prototype._updatePageInfoView = function(r, o) {
      var a = this._controllerGroup;
      each$4(["pagePrev", "pageNext"], function(y) {
        var v = y + "DataIndex", g = o[v] != null, _ = a.childOfName(y);
        _ && (_.setStyle("fill", g ? r.get("pageIconColor", !0) : r.get("pageIconInactiveColor", !0)), _.cursor = g ? "pointer" : "default");
      });
      var u = a.childOfName("pageText"), c = r.get("pageFormatter"), f = o.pageIndex, d = f != null ? f + 1 : 0, p = o.pageCount;
      u && c && u.setStyle("text", isString$2(c) ? c.replace("{current}", d == null ? "" : d + "").replace("{total}", p == null ? "" : p + "") : c({
        current: d,
        total: p
      }));
    }, n.prototype._getPageInfo = function(r) {
      var o = r.get("scrollDataIndex", !0), a = this.getContentGroup(), u = this._containerGroup.__rectSize, c = r.getOrient().index, f = WH[c], d = XY[c], p = this._findTargetItemIndex(o), y = a.children(), v = y[p], g = y.length, _ = g ? 1 : 0, b = {
        contentPosition: [a.x, a.y],
        pageCount: _,
        pageIndex: _ - 1,
        pagePrevDataIndex: null,
        pageNextDataIndex: null
      };
      if (!v)
        return b;
      var A = L(v);
      b.contentPosition[c] = -A.s;
      for (var w = p + 1, S = A, T = A, x = null; w <= g; ++w)
        x = L(y[w]), // Half of the last item is out of the window.
        (!x && T.e > S.s + u || // If the current item does not intersect with the window, the new page
        // can be started at the current item or the last item.
        x && !k(x, S.s)) && (T.i > S.i ? S = T : S = x, S && (b.pageNextDataIndex == null && (b.pageNextDataIndex = S.i), ++b.pageCount)), T = x;
      for (var w = p - 1, S = A, T = A, x = null; w >= -1; --w)
        x = L(y[w]), // If the the end item does not intersect with the window started
        // from the current item, a page can be settled.
        (!x || !k(T, x.s)) && // e.g., when page size is smaller than item size.
        S.i < T.i && (T = S, b.pagePrevDataIndex == null && (b.pagePrevDataIndex = S.i), ++b.pageCount, ++b.pageIndex), S = x;
      return b;
      function L(M) {
        if (M) {
          var O = M.getBoundingRect(), ie = O[d] + M[d];
          return {
            s: ie,
            e: ie + O[f],
            i: M.__legendDataIndex
          };
        }
      }
      function k(M, O) {
        return M.e >= O && M.s <= O + u;
      }
    }, n.prototype._findTargetItemIndex = function(r) {
      if (!this._showController)
        return 0;
      var o, a = this.getContentGroup(), u;
      return a.eachChild(function(c, f) {
        var d = c.__legendDataIndex;
        u == null && d != null && (u = f), d === r && (o = f);
      }), o ?? u;
    }, n.type = "legend.scroll", n;
  }(LegendView$1)
);
const ScrollableLegendView$1 = ScrollableLegendView;
function installScrollableLegendAction(i) {
  i.registerAction("legendScroll", "legendscroll", function(n, r) {
    var o = n.scrollDataIndex;
    o != null && r.eachComponent({
      mainType: "legend",
      subType: "scroll",
      query: n
    }, function(a) {
      a.setScrollDataIndex(o);
    });
  });
}
function install$1(i) {
  use(install$2), i.registerComponentModel(ScrollableLegendModel$1), i.registerComponentView(ScrollableLegendView$1), installScrollableLegendAction(i);
}
function install(i) {
  use(install$2), use(install$1);
}
const _sfc_main$G = /* @__PURE__ */ defineComponent({
  __name: "pie-charts",
  props: {
    title: {
      type: String,
      default: "标题"
    },
    seriesName: {
      type: String,
      default: "详情"
    },
    seriesData: {
      type: Array,
      default: () => []
    }
  },
  setup(i) {
    const n = i;
    use([install$7, install$6, install$3, install$4, install]), provide(THEME_KEY, "dark");
    const r = reactive({
      title: {
        text: n.title,
        left: "center"
      },
      tooltip: {
        trigger: "item",
        formatter: "{a} <br/>{b} : {c} ({d}%)"
      },
      legend: {
        orient: "vertical",
        left: "left"
      },
      series: [
        {
          name: n.seriesName,
          type: "pie",
          radius: "55%",
          center: ["50%", "60%"],
          data: n.seriesData,
          emphasis: {
            itemStyle: {
              shadowBlur: 10,
              shadowOffsetX: 0,
              shadowColor: "rgba(0, 0, 0, 0.5)"
            }
          }
        }
      ]
    });
    return watch(n, (o) => {
      r.title.text = o.title, r.series[0].name = o.seriesName, r.series[0].data = o.seriesData;
    }), (o, a) => (openBlock(), createBlock(unref(VChart), {
      class: "chart",
      option: unref(r),
      autoresize: ""
    }, null, 8, ["option"]));
  }
}), pieCharts_vue_vue_type_style_index_0_scoped_fec2cbf2_lang = "", PieCharts = /* @__PURE__ */ _export_sfc$1(_sfc_main$G, [["__scopeId", "data-v-fec2cbf2"]]), _hoisted_1$k = ["id"], _hoisted_2$h = ["id"], _hoisted_3$e = ["fill"], _hoisted_4$a = ["fill"], _hoisted_5$8 = ["fill"], _hoisted_6$6 = /* @__PURE__ */ createElementVNode("path", {
  d: "M375.466667 709.214815l-25.6 137.481481c0 2.844444 1.896296 5.688889 7.585185 10.42963l65.422222 54.992593c5.688889 4.740741 15.17037 8.533333 23.703704 10.429629l36.029629-193.422222-107.14074-19.911111z",
  fill: "#2D4375"
}, null, -1), _hoisted_7$6 = /* @__PURE__ */ createElementVNode("path", {
  d: "M482.607407 729.125926l-36.029629 193.422222c9.481481 1.896296 18.014815 1.896296 25.6-0.948148l80.592592-27.496296c6.637037-1.896296 10.42963-4.740741 11.377778-6.637037L589.748148 749.037037l-107.140741-19.911111z",
  fill: "#1E2D4F"
}, null, -1), _hoisted_8$6 = ["fill-opacity"], _hoisted_9$6 = ["fill-opacity"], _hoisted_10$5 = ["fill-opacity"], _hoisted_11$4 = /* @__PURE__ */ createElementVNode("path", {
  d: "M593.540741 807.822222c1.896296-7.585185-3.792593-15.17037-11.377778-16.118518l-107.140741-19.911111-4.740741 27.496296 107.140741 19.911111c6.637037 0.948148 14.222222-3.792593 16.118519-11.377778z",
  fill: "#CEEFF6"
}, null, -1), _hoisted_12$4 = /* @__PURE__ */ createElementVNode("path", {
  d: "M366.933333 750.933333c-7.585185-1.896296-15.17037 3.792593-16.118518 11.377778-1.896296 7.585185 3.792593 15.17037 11.377778 16.118519l107.14074 19.911111 4.740741-27.496297-107.140741-19.911111zM356.503704 808.77037c-7.585185-1.896296-15.17037 3.792593-16.118519 11.377778-1.896296 7.585185 3.792593 15.17037 11.377778 16.118519l107.140741 19.911111 4.74074-27.496297-107.14074-19.911111z",
  fill: "#FFFFFF"
}, null, -1), _hoisted_13$3 = /* @__PURE__ */ createElementVNode("path", {
  d: "M570.785185 848.592593l-107.140741-19.911112-4.74074 27.496297 107.14074 19.911111c7.585185 1.896296 15.17037-3.792593 16.118519-11.377778 1.896296-7.585185-2.844444-15.17037-11.377778-16.118518z",
  fill: "#CEEFF6"
}, null, -1), _hoisted_14$3 = ["xlink:href"], _sfc_main$F = /* @__PURE__ */ defineComponent({
  __name: "light-a",
  props: {
    id: { default: "" },
    isOpen: { type: Boolean, default: !1 }
  },
  emits: ["onChange"],
  setup(i, { emit: n }) {
    const r = i;
    return watch(
      () => r.isOpen,
      () => {
        n("onChange");
      }
    ), (o, a) => (openBlock(), createElementBlock("g", {
      id: r.id,
      style: { cursor: "pointer" }
    }, [
      createElementVNode("symbol", {
        id: `${r.id}light-121`,
        viewBox: "0 0 1024 1024"
      }, [
        createElementVNode("path", {
          d: "M565.096296 289.185185s-0.948148 0 0 0c-110.933333-20.859259-208.592593 40.77037-237.985185 148.859259-14.222222 53.096296-24.651852 101.451852 44.562963 221.866667 14.222222 25.6 11.377778 70.162963 8.533333 95.762963-1.896296 14.222222 64.474074 36.02963 89.125926 42.666667l95.762963-509.155556z",
          fill: r.isOpen ? "#FDB813" : "#cccccc"
        }, null, 8, _hoisted_3$e),
        createElementVNode("path", {
          d: "M732.918519 513.896296c11.377778-111.881481-56.888889-203.851852-166.874075-224.711111h-0.948148L469.333333 798.340741c25.6 2.844444 94.814815 6.637037 98.607408-7.585185 6.637037-25.6 20.859259-67.318519 42.666666-86.281482C719.644444 618.192593 727.22963 568.888889 732.918519 513.896296z",
          fill: r.isOpen ? "#FD9B13" : "#bbbbbb"
        }, null, 8, _hoisted_4$a),
        createElementVNode("path", {
          d: "M467.437037 806.874074c-7.585185-0.948148-12.325926-7.585185-14.222222-14.222222l-38.874074-256c-0.948148-5.688889 0.948148-11.377778 4.74074-15.170371 3.792593-3.792593 9.481481-5.688889 15.170371-4.74074l167.822222 31.288889c5.688889 0.948148 10.42963 4.740741 12.325926 9.481481 1.896296 4.740741 1.896296 11.377778-0.948148 16.118519L486.4 798.340741c-3.792593 6.637037-11.377778 10.42963-18.962963 8.533333z m-14.222222-251.259259l27.496296 182.992592L572.681481 578.37037l-119.466666-22.755555z",
          fill: r.isOpen ? "#F12A3F" : "#666666"
        }, null, 8, _hoisted_5$8),
        _hoisted_6$6,
        _hoisted_7$6,
        createElementVNode("path", {
          d: "M612.503704 217.125926c-3.792593 18.014815-20.859259 29.392593-38.874074 26.548148-18.014815-3.792593-30.340741-20.859259-26.548149-38.874074l18.962963-100.503704c3.792593-18.014815 20.859259-29.392593 38.874075-26.548148 18.014815 3.792593 30.340741 20.859259 26.548148 38.874074l-18.962963 100.503704z",
          fill: "#FDB813",
          "fill-opacity": r.isOpen ? 1 : 0
        }, null, 8, _hoisted_8$6),
        createElementVNode("path", {
          d: "M382.103704 228.503704c10.42963 15.17037 6.637037 36.02963-8.533334 46.459259-15.17037 10.42963-36.02963 6.637037-46.459259-8.533333l-57.837037-84.385186c-10.42963-15.17037-6.637037-36.02963 8.533333-46.459259 15.17037-10.42963 36.02963-6.637037 46.45926 8.533334l57.837037 84.385185zM757.57037 298.666667c-15.17037 10.42963-18.962963 31.288889-8.533333 46.459259 10.42963 15.17037 31.288889 18.962963 46.459259 8.533333l84.385185-57.837037c15.17037-10.42963 18.962963-31.288889 8.533334-46.459259-10.42963-15.17037-31.288889-18.962963-46.459259-8.533333l-84.385186 57.837037z",
          fill: "#FDB813",
          "fill-opacity": r.isOpen ? 1 : 0
        }, null, 8, _hoisted_9$6),
        createElementVNode("path", {
          d: "M252.207407 361.244444c18.014815 3.792593 30.340741 20.859259 26.548149 38.874075-3.792593 18.014815-20.859259 29.392593-38.874075 26.548148l-100.503703-18.962963c-18.014815-3.792593-30.340741-20.859259-26.548148-38.874074 3.792593-18.014815 20.859259-29.392593 38.874074-26.548149l100.503703 18.962963zM931.081481 488.296296c18.014815 3.792593 30.340741 20.859259 26.548149 38.874074-3.792593 18.014815-20.859259 29.392593-38.874074 26.548149l-100.503704-18.962963c-18.014815-3.792593-30.340741-20.859259-26.548148-38.874075 3.792593-18.014815 20.859259-29.392593 38.874074-26.548148l100.503703 18.962963z",
          fill: "#FDB813",
          "fill-opacity": r.isOpen ? 1 : 0
        }, null, 8, _hoisted_10$5),
        _hoisted_11$4,
        _hoisted_12$4,
        _hoisted_13$3
      ], 8, _hoisted_2$h),
      createElementVNode("use", {
        "xlink:href": `#${r.id}light-121`,
        width: "100",
        height: "100"
      }, null, 8, _hoisted_14$3)
    ], 8, _hoisted_1$k));
  }
}), _hoisted_1$j = ["id"], _hoisted_2$g = ["id"], _hoisted_3$d = ["fill"], _hoisted_4$9 = ["fill"], _hoisted_5$7 = ["fill"], _hoisted_6$5 = ["from", "to"], _hoisted_7$5 = ["fill"], _hoisted_8$5 = ["from", "to"], _hoisted_9$5 = ["fill"], _hoisted_10$4 = ["fill"], _hoisted_11$3 = ["fill"], _hoisted_12$3 = ["from", "to"], _hoisted_13$2 = ["fill"], _hoisted_14$2 = ["xlink:href"], _sfc_main$E = /* @__PURE__ */ defineComponent({
  __name: "clock-a",
  props: {
    id: { default: "" },
    centerColor: { default: "#EBF257" },
    secondsColor: { default: "#E83E24" },
    circleColor: { default: "#F45AFC" },
    minutesColor: { default: "#50E68E" },
    hoursColor: { default: "#9A36E7" },
    scaleColor: { default: "#4942CF" },
    backgroundColor: { default: "#ffffff" },
    borderColor: { default: "#B3A7FF" }
  },
  setup(i) {
    const n = i, r = new Date(Number(window.sessionStorage.getItem("editorLoadTime") || "0")), o = r.getSeconds() + 1, a = r.getMinutes(), u = Math.floor((r.getHours() + (a + o / 60) / 60) * 30);
    return (c, f) => (openBlock(), createElementBlock("g", {
      id: n.id
    }, [
      createElementVNode("symbol", {
        id: `${n.id}clock-a-n`,
        viewBox: "0 0 1024 1024"
      }, [
        createElementVNode("path", {
          d: "M512.3 518.9m-469.2 0a469.2 469.2 0 1 0 938.4 0 469.2 469.2 0 1 0-938.4 0Z",
          fill: n.borderColor
        }, null, 8, _hoisted_3$d),
        createElementVNode("path", {
          d: "M512.3 518.9m-392.5 0a392.5 392.5 0 1 0 785 0 392.5 392.5 0 1 0-785 0Z",
          fill: n.backgroundColor
        }, null, 8, _hoisted_4$9),
        createElementVNode("path", {
          d: "M512.3 523.8c-4.5 0-9-1.7-12.4-5.1L318.3 337.1c-6.8-6.8-6.8-17.9 0-24.8 6.8-6.8 17.9-6.8 24.8 0L524.7 494c6.8 6.8 6.8 17.9 0 24.8-3.5 3.3-7.9 5-12.4 5z",
          fill: n.minutesColor
        }, [
          createElementVNode("animateTransform", {
            attributeName: "transform",
            attributeType: "XML",
            type: "rotate",
            from: `${45 + unref(a) * 6} 512.3 506.3`,
            to: `${405 + unref(a) * 6} 512.3 506.3`,
            dur: "3600s",
            repeatCount: "indefinite"
          }, null, 8, _hoisted_6$5)
        ], 8, _hoisted_5$7),
        createElementVNode("path", {
          d: "M512.3 523.8c-4.5 0-9-1.7-12.4-5.1-6.8-6.8-6.8-17.9 0-24.8l130.8-130.8c6.8-6.8 17.9-6.8 24.8 0 6.8 6.8 6.8 17.9 0 24.8L524.7 518.7c-3.5 3.4-7.9 5.1-12.4 5.1z",
          fill: n.hoursColor
        }, [
          createElementVNode("animateTransform", {
            attributeName: "transform",
            attributeType: "XML",
            type: "rotate",
            from: `${-45 + unref(u)} 512.3 506.3`,
            to: `${315 + unref(u)} 512.3 506.3`,
            dur: "43200s",
            repeatCount: "indefinite"
          }, null, 8, _hoisted_8$5)
        ], 8, _hoisted_7$5),
        createElementVNode("path", {
          d: "M512.3 506.3m-47.5 0a47.5 47.5 0 1 0 95 0 47.5 47.5 0 1 0-95 0Z",
          fill: n.circleColor
        }, null, 8, _hoisted_9$5),
        createElementVNode("path", {
          d: "M512.3 218.8c-9 0-16.3-7.3-16.3-16.3v-29.1c0-9 7.3-16.3 16.3-16.3s16.3 7.3 16.3 16.3v29.1c0 9-7.4 16.3-16.3 16.3zM512.3 880.8c-9 0-16.3-7.3-16.3-16.3v-29.1c0-9 7.3-16.3 16.3-16.3s16.3 7.3 16.3 16.3v29.1c0 9-7.4 16.3-16.3 16.3zM812.4 518.9c0-9 7.3-16.3 16.3-16.3h29.1c9 0 16.3 7.3 16.3 16.3s-7.3 16.3-16.3 16.3h-29.1c-8.9 0-16.3-7.3-16.3-16.3zM150.4 518.9c0-9 7.3-16.3 16.3-16.3h29.1c9 0 16.3 7.3 16.3 16.3s-7.3 16.3-16.3 16.3h-29.1c-8.9 0-16.3-7.3-16.3-16.3z",
          fill: n.scaleColor
        }, null, 8, _hoisted_10$4),
        createElementVNode("path", {
          d: "M296.9 733.5c-2.2 0-4.5-0.9-6.2-2.6-3.4-3.4-3.4-9 0-12.4L540 469.2c3.4-3.4 9-3.4 12.4 0 3.4 3.4 3.4 9 0 12.4L303.1 731c-1.7 1.7-4 2.5-6.2 2.5z",
          fill: n.secondsColor
        }, [
          createElementVNode("animateTransform", {
            attributeName: "transform",
            attributeType: "XML",
            type: "rotate",
            from: `${135.5 + o * 6} 512.3 506.3`,
            to: `${495.5 + o * 6} 512.3 506.3`,
            dur: "60s",
            repeatCount: "indefinite"
          }, null, 8, _hoisted_12$3)
        ], 8, _hoisted_11$3),
        createElementVNode("path", {
          d: "M512.3 506.3m-22.8 0a22.8 22.8 0 1 0 45.6 0 22.8 22.8 0 1 0-45.6 0Z",
          fill: n.centerColor
        }, null, 8, _hoisted_13$2)
      ], 8, _hoisted_2$g),
      createElementVNode("use", {
        "xlink:href": `#${n.id}clock-a-n`,
        width: "100",
        height: "100"
      }, null, 8, _hoisted_14$2)
    ], 8, _hoisted_1$j));
  }
}), vueComp = {
  "svg-text": _sfc_main$J,
  "el-button": ElButton,
  "progress-a": _sfc_main$L,
  "el-tag": ElTag$1,
  "common-table": _sfc_main$I,
  "pie-charts": PieCharts,
  "switch-r": _sfc_main$K,
  "now-time": NowTime,
  "light-a": _sfc_main$F,
  "clock-a": _sfc_main$E
}, config = [...svg_config, ...vue_config], useGlobalStore = defineStore("global-store", {
  state: () => ({
    config_center: config,
    intention: EGlobalStoreIntention.None,
    create_svg_info: null,
    done_json: [],
    mouse_info: {
      state: EMouseInfoState.Up,
      position_x: 0,
      position_y: 0,
      now_position_x: 0,
      now_position_y: 0,
      new_position_x: 0,
      new_position_y: 0
    },
    handle_svg_info: null,
    scale_info: {
      type: EScaleInfoType.None,
      scale_times: {
        x: 1,
        y: 1
      },
      scale_item_info: {
        x: 0,
        y: 0
      },
      symmetric_point: {
        x: 0,
        y: 0
      }
    },
    rotate_info: {
      angle: 0
    },
    connection_line_node_info: {
      init_pos: {
        x: 0,
        y: 0
      },
      point_index: 0
    }
  }),
  actions: {
    setCreateInfo(i) {
      this.intention = EGlobalStoreIntention.Create, this.create_svg_info = i;
    },
    setDoneJson(i) {
      isOfType(i, "id") ? (this.done_json.push(i), nextTick(() => {
        setSvgActualInfo(i);
      })) : this.done_json = objectDeepClone(i), nextTick(() => {
        useHistoryRecord(objectDeepClone(this.done_json));
      });
    },
    setHandleSvgInfo(i, n) {
      let r = n;
      i ? (!r && r != 0 && (r = this.done_json.findIndex((o) => o.id === i.id) ?? -1), this.handle_svg_info = {
        info: i,
        index: r
      }) : this.handle_svg_info = i;
    },
    spliceDoneJson(i) {
      const n = useGlobalStore(), o = n.done_json.splice(i, 1)[0];
      unbindAnchors(o.id), useHistoryRecord(n.done_json);
    }
  }
}), useSvgEditLayoutStore = defineStore("svg-edit-layout-store", {
  state: () => ({
    left_nav: !0,
    right_nav: !0,
    center_offset: {
      x: 0,
      y: 0
    },
    canvasInfo: {
      with: 0,
      height: 0,
      top: 0,
      left: 0
    }
  })
}), stopEvent = (i) => {
  i.stopPropagation();
}, preventDefault = (i) => {
  i.preventDefault();
};
function componentsRegister() {
  var n, r;
  const i = getCurrentInstance();
  for (let o in vueComp)
    !((n = i == null ? void 0 : i.appContext) != null && n.components.hasOwnProperty(o)) && vueComp.hasOwnProperty(o) && ((r = i == null ? void 0 : i.appContext) == null || r.app.component(o, vueComp[o]));
}
function setEditorLoadTime() {
  window.sessionStorage.setItem("editorLoadTime", (/* @__PURE__ */ new Date()).getTime().toString());
}
const randomString = (i) => {
  i = i || 10;
  const n = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789", r = n.length;
  let o = "";
  for (let a = 0; a < i; a++) {
    let u = r;
    a === 0 && (u = r - 10), o += n.charAt(Math.floor(Math.random() * u));
  }
  return o;
}, isOfType = (i, n) => i[n] !== void 0, getCoordinateOffset = (i, n) => i / 2 * (n - 1), angleToRadian = (i) => i * Math.PI / 180, calculateRotatedPointCoordinate = (i, n, r) => ({
  x: parseFloat(
    ((i.x - n.x) * Math.cos(angleToRadian(r)) - (i.y - n.y) * Math.sin(angleToRadian(r)) + n.x).toFixed(1)
  ),
  y: parseFloat(
    ((i.x - n.x) * Math.sin(angleToRadian(r)) + (i.y - n.y) * Math.cos(angleToRadian(r)) + n.y).toFixed(1)
  )
}), getCenterPoint = (i, n) => ({
  x: i.x + (n.x - i.x) / 2,
  y: i.y + (n.y - i.y) / 2
}), positionArrToPath = (i) => {
  let n = "";
  for (let r = 0; r < i.length; r++)
    r === 0 ? n += `M ${i[r].x} ${i[r].y}` : n += ` L ${i[r].x} ${i[r].y}`;
  return n;
}, getSvgNowPosition = (i, n, r) => r + (n - i), objectDeepClone = (i, n = {}) => i ? JSON.parse(JSON.stringify(i)) : n, setSvgActualInfo = (i, n) => {
  var a, u;
  const r = document.querySelector(`#${i.id}`), o = document.querySelector(`#rect${i.id}`);
  if (r) {
    let c = 0, f = 0, d = 0, p = 0;
    if (i.type === EDoneJsonType.Vue) {
      d = ((a = i.props.width) == null ? void 0 : a.val) || r.offsetWidth || 100, p = ((u = i.props.height) == null ? void 0 : u.val) || r.offsetHeight || 100, c = 50 - d / 2, f = 50 - p / 2;
      const y = document.querySelector(`#foreign-object${i.id}`);
      y && (y.getAttribute("x") === "0" && y.getAttribute("y") === "0" && y.getAttribute("width") === "0" && y.getAttribute("height") === "0" || n) && (y.setAttribute("x", c.toString()), y.setAttribute("y", f.toString()), y.setAttribute("width", d.toString()), y.setAttribute("height", p.toString()));
    } else {
      const y = r.getBBox();
      c = parseFloat(y.x.toFixed(0)), f = parseFloat(y.y.toFixed(0)), d = parseFloat(y.width.toFixed(0)), p = parseFloat(y.height.toFixed(0));
    }
    o && (o.getAttribute("x") === "0" && o.getAttribute("y") === "0" && o.getAttribute("width") === "0" && o.getAttribute("height") === "0" || n) && (o.setAttribute("x", c.toString()), o.setAttribute("y", f.toString()), o.setAttribute("width", d.toString()), o.setAttribute("height", p.toString())), (i.actual_bound.x === 0 && i.actual_bound.y === 0 && i.actual_bound.width === 0 && i.actual_bound.height === 0 || n) && (i.actual_bound = {
      x: c,
      y: f,
      width: d,
      height: p
    }), i.center_position = {
      x: i.x + i.actual_bound.x + d / 2,
      y: i.y + i.actual_bound.y + p / 2
    }, i.point_coordinate.tl = {
      x: i.center_position.x - d * i.scale_x / 2,
      y: i.center_position.y - p * i.scale_y / 2
    }, i.point_coordinate.tc = {
      x: i.center_position.x,
      y: i.center_position.y - p * i.scale_y / 2
    }, i.point_coordinate.tr = {
      x: i.center_position.x + d * i.scale_x / 2,
      y: i.center_position.y - p * i.scale_y / 2
    }, i.point_coordinate.l = {
      x: i.center_position.x - d * i.scale_x / 2,
      y: i.center_position.y
    }, i.point_coordinate.r = {
      x: i.center_position.x + d * i.scale_x / 2,
      y: i.center_position.y
    }, i.point_coordinate.bl = {
      x: i.center_position.x - d * i.scale_x / 2,
      y: i.center_position.y + p * i.scale_y / 2
    }, i.point_coordinate.bc = {
      x: i.center_position.x,
      y: i.center_position.y + p * i.scale_y / 2
    }, i.point_coordinate.br = {
      x: i.center_position.x + d * i.scale_x / 2,
      y: i.center_position.y + p * i.scale_y / 2
    }, i.rotate !== 0 && setAfterRotationPointCoordinate(i), moveAnchors(i);
  }
}, resetHandlePointOld = (i) => {
  for (const n of Object.keys(i.point_coordinate))
    i.point_coordinate_old && (i.point_coordinate_old[n].x = 0, i.point_coordinate_old[n].y = 0);
}, moveHandlePoint = (i, n, r) => {
  const o = useGlobalStore(pinia), a = n ?? o.mouse_info.new_position_x - o.mouse_info.position_x, u = r ?? o.mouse_info.new_position_y - o.mouse_info.position_y;
  for (const c of Object.keys(i.point_coordinate))
    n !== void 0 && r !== void 0 ? (i.point_coordinate[c].x += a, i.point_coordinate[c].y += u) : i.point_coordinate_old && (i.point_coordinate[c].x = i.point_coordinate_old[c].x + a, i.point_coordinate[c].y = i.point_coordinate_old[c].y + u);
}, moveAnchors = (i) => {
  var r, o, a, u;
  const n = useGlobalStore(pinia);
  for (let c of n.done_json)
    if (c.type === EDoneJsonType.ConnectionLine) {
      if (((o = (r = c.bind_anchors) == null ? void 0 : r.start) == null ? void 0 : o.target_id) === i.id) {
        const f = getAnchorPosByAnchorType(c.bind_anchors.start.type, i);
        c.props.point_position.val[0] = {
          x: f.x - c.x,
          y: f.y - c.y
        };
      }
      if (((u = (a = c.bind_anchors) == null ? void 0 : a.end) == null ? void 0 : u.target_id) === i.id) {
        const f = getAnchorPosByAnchorType(c.bind_anchors.end.type, i);
        c.props.point_position.val[c.props.point_position.val.length - 1] = {
          x: f.x - c.x,
          y: f.y - c.y
        };
      }
    }
}, unbindAnchors = (i) => {
  var r, o, a, u;
  const n = useGlobalStore(pinia);
  for (let c of n.done_json)
    c.type === EDoneJsonType.ConnectionLine && (((o = (r = c.bind_anchors) == null ? void 0 : r.start) == null ? void 0 : o.target_id) === i && (c.bind_anchors.start = null), ((u = (a = c.bind_anchors) == null ? void 0 : a.end) == null ? void 0 : u.target_id) === i && (c.bind_anchors.end = null));
}, getAnchorPosByAnchorType = (i, n) => i === ELineBindAnchors.BottomCenter ? n.point_coordinate.bc : i === ELineBindAnchors.Left ? n.point_coordinate.l : i === ELineBindAnchors.Right ? n.point_coordinate.r : n.point_coordinate.tc, setAfterRotationPointCoordinate = (i) => {
  i.point_coordinate = {
    tl: calculateRotatedPointCoordinate(i.point_coordinate.tl, i.center_position, i.rotate),
    tc: calculateRotatedPointCoordinate(i.point_coordinate.tc, i.center_position, i.rotate),
    tr: calculateRotatedPointCoordinate(i.point_coordinate.tr, i.center_position, i.rotate),
    l: calculateRotatedPointCoordinate(i.point_coordinate.l, i.center_position, i.rotate),
    r: calculateRotatedPointCoordinate(i.point_coordinate.r, i.center_position, i.rotate),
    bl: calculateRotatedPointCoordinate(i.point_coordinate.bl, i.center_position, i.rotate),
    bc: calculateRotatedPointCoordinate(i.point_coordinate.bc, i.center_position, i.rotate),
    br: calculateRotatedPointCoordinate(i.point_coordinate.br, i.center_position, i.rotate)
  };
}, prosToVBind = (i, n = []) => {
  let r = {};
  if (i.state) {
    for (const o in i.state)
      if (i.state.hasOwnProperty(o) && o === i.defaultState) {
        for (let a in i.state[o])
          a !== "label" && (r[kebabCase(a)] = i.state[o][a]);
        break;
      }
  }
  for (const o in i.props)
    n.indexOf(o) < 0 && (r[kebabCase(o)] = i.props[o].val);
  return r;
}, setArrItemByID = (id, key, val, json_arr) => new Promise((res) => {
  const find_item = json_arr.find((i) => i.id === id);
  find_item || res({
    status: !1,
    msg: "要设置的id不存在"
  }), eval(`find_item.${key} = val;`), res({
    status: !0,
    msg: "操作成功"
  });
}), getCommonClass = (i) => !i.common_animations || !i.common_animations.val ? "" : `common-ani animate__animated animate__${i.common_animations.val} animate__${i.common_animations.speed} animate__${i.common_animations.repeat} animate__${i.common_animations.delay}`, numberArray = (i) => {
  let n = [];
  for (let r = 0; r < i; r++)
    n.push(r);
  return n;
}, getStringWidth = (i, n = 12) => {
  if (i.length > 0) {
    let r = document.createElement("span");
    r.style.fontSize = n + "px", r.style.fontFamily = "inherit", r.innerHTML = i, r.style.opacity = "0", r.style.position = "fixed", r.style.top = "3000px", document.body.append(r);
    const o = r.clientWidth;
    return document.body.removeChild(r), o;
  }
  return 0;
}, valFormat = (i) => /false|true/.test(i) ? i !== "false" : /^\d+(\.\d+)?$/.test(i) ? Number(i) : i, createLine = (i, n, r) => {
  i.preventDefault();
  const o = useGlobalStore(pinia), a = useConfigStore(pinia), u = useSvgEditLayoutStore(pinia), { clientX: c, clientY: f } = i;
  let d = objectDeepClone(a.connection_line), p = 0, y = 0;
  if (n && r) {
    d.bind_anchors.start = {
      type: n,
      target_id: r.id
    };
    let g = getAnchorPosByAnchorType(n, r);
    p = g.x, y = g.y;
  } else
    p = Math.round(
      (c - u.canvasInfo.left) / a.svg.scale - u.center_offset.x
    ), y = Math.round(
      (f - u.canvasInfo.top) / a.svg.scale - u.center_offset.y
    );
  const v = {
    id: randomString(),
    x: p,
    y,
    client: {
      x: p,
      y
    },
    scale_x: 1,
    scale_y: 1,
    rotate: 0,
    actual_bound: {
      x: 0,
      y: 0,
      width: 0,
      height: 0
    },
    center_position: {
      x: 0,
      y: 0
    },
    point_coordinate: {
      tl: {
        x: 0,
        y: 0
      },
      tc: {
        x: 0,
        y: 0
      },
      tr: {
        x: 0,
        y: 0
      },
      l: {
        x: 0,
        y: 0
      },
      r: {
        x: 0,
        y: 0
      },
      bl: {
        x: 0,
        y: 0
      },
      bc: {
        x: 0,
        y: 0
      },
      br: {
        x: 0,
        y: 0
      }
    },
    ...d
  };
  v.props.point_position.val.push({
    x: 0,
    y: 0
  }), o.setDoneJson(v), o.setHandleSvgInfo(v, o.done_json.length - 1), o.intention = EGlobalStoreIntention.Connection, o.mouse_info = {
    state: EMouseInfoState.Down,
    position_x: p,
    position_y: y,
    now_position_x: p,
    now_position_y: y,
    new_position_x: 0,
    new_position_y: 0
  };
};
Object.seal({
  name: "straight-line",
  title: "直线",
  type: EDoneJsonType.StraightLine,
  config: {
    can_zoom: !1,
    have_anchor: !1,
    actual_rect: !1
  },
  display: !0,
  props: {
    fill: {
      title: "填充色",
      type: EConfigItemPropsType.Color,
      val: "#ff0000"
    },
    start_x: {
      title: "起点x坐标",
      type: EConfigItemPropsType.InputNumber,
      val: 0
    },
    start_y: {
      title: "起点y坐标",
      type: EConfigItemPropsType.InputNumber,
      val: 0
    },
    end_x: {
      title: "终点x坐标",
      type: EConfigItemPropsType.InputNumber,
      val: 0
    },
    end_y: {
      title: "终点y坐标",
      type: EConfigItemPropsType.InputNumber,
      val: 0
    }
  },
  bind_anchors: {
    start: null,
    end: null
  },
  events: []
});
const connection_line_system = {
  name: "connection_line",
  title: "连接线",
  type: EDoneJsonType.ConnectionLine,
  config: {
    can_zoom: !1,
    have_anchor: !1,
    actual_rect: !1
  },
  display: !0,
  props: {
    stroke: {
      title: "线条颜色",
      type: EConfigItemPropsType.Color,
      val: "#ff0000"
    },
    "stroke-width": {
      title: "线条宽度",
      type: EConfigItemPropsType.InputNumber,
      val: 2
    },
    point_r: {
      title: "节点半径",
      type: EConfigItemPropsType.InputNumber,
      val: 4
    },
    point_position: {
      title: "点坐标",
      type: EConfigItemPropsType.JsonEdit,
      val: []
    }
  },
  animations: {
    type: {
      title: "动画类型",
      type: EConfigItemPropsType.Select,
      val: EConfigAnimationsType.None,
      options: [
        {
          label: "无",
          value: EConfigAnimationsType.None
        },
        {
          label: "电流",
          value: EConfigAnimationsType.Electricity
        },
        {
          label: "轨迹",
          value: EConfigAnimationsType.Track
        },
        {
          label: "水珠",
          value: EConfigAnimationsType.WaterDrop
        }
      ]
    },
    dur: {
      title: "持续时间",
      type: EConfigItemPropsType.InputNumber,
      val: 20
    },
    repeatCount: {
      title: "循环次数",
      type: EConfigItemPropsType.Input,
      val: "indefinite",
      disabled: !0
    },
    color: {
      title: "颜色",
      type: EConfigItemPropsType.Color,
      val: "#602a00"
    },
    reverse: {
      title: "反转动画",
      type: EConfigItemPropsType.Switch,
      val: !1
    }
  },
  bind_anchors: {
    start: null,
    end: null
  },
  events: []
}, common_animate_list = [
  {
    label: "进入",
    children: [
      {
        label: "渐显",
        value: "fadeIn"
      },
      {
        label: "向右进入",
        value: "fadeInLeft"
      },
      {
        label: "向左进入",
        value: "fadeInRight"
      },
      {
        label: "向上进入",
        value: "fadeInUp"
      },
      {
        label: "向下进入",
        value: "fadeInDown"
      },
      {
        label: "向右长距进入",
        value: "fadeInLeftBig"
      },
      {
        label: "向左长距进入",
        value: "fadeInRightBig"
      },
      {
        label: "向上长距进入",
        value: "fadeInUpBig"
      },
      {
        label: "向下长距进入",
        value: "fadeInDownBig"
      },
      {
        label: "旋转进入",
        value: "rotateIn"
      },
      {
        label: "左顺时针旋转",
        value: "rotateInDownLeft"
      },
      {
        label: "右逆时针旋转",
        value: "rotateInDownRight"
      },
      {
        label: "左逆时针旋转",
        value: "rotateInUpLeft"
      },
      {
        label: "右逆时针旋转",
        value: "rotateInUpRight"
      },
      {
        label: "弹入",
        value: "bounceIn"
      },
      {
        label: "向右弹入",
        value: "bounceInLeft"
      },
      {
        label: "向左弹入",
        value: "bounceInRight"
      },
      {
        label: "向上弹入",
        value: "bounceInUp"
      },
      {
        label: "向下弹入",
        value: "bounceInDown"
      },
      {
        label: "光速从右进入",
        value: "lightSpeedInRight"
      },
      {
        label: "光速从左进入",
        value: "lightSpeedInLeft"
      },
      {
        label: "光速从右退出",
        value: "lightSpeedOutRight"
      },
      {
        label: "光速从左退出",
        value: "lightSpeedOutLeft"
      },
      {
        label: "Y轴旋转",
        value: "flip"
      },
      {
        label: "中心X轴旋转",
        value: "flipInX"
      },
      {
        label: "中心Y轴旋转",
        value: "flipInY"
      },
      {
        label: "左长半径旋转",
        value: "rollIn"
      },
      {
        label: "由小变大进入",
        value: "zoomIn"
      },
      {
        label: "左变大进入",
        value: "zoomInLeft"
      },
      {
        label: "右变大进入",
        value: "zoomInRight"
      },
      {
        label: "向上变大进入",
        value: "zoomInUp"
      },
      {
        label: "向下变大进入",
        value: "zoomInDown"
      },
      {
        label: "向右滑动展开",
        value: "slideInLeft"
      },
      {
        label: "向左滑动展开",
        value: "slideInRight"
      },
      {
        label: "向上滑动展开",
        value: "slideInUp"
      },
      {
        label: "向下滑动展开",
        value: "slideInDown"
      }
    ]
  },
  {
    label: "强调",
    children: [
      {
        label: "弹跳",
        value: "bounce"
      },
      {
        label: "闪烁",
        value: "flash"
      },
      {
        label: "放大缩小",
        value: "pulse"
      },
      {
        label: "放大缩小弹簧",
        value: "rubberBand"
      },
      {
        label: "左右晃动",
        value: "headShake"
      },
      {
        label: "左右扇形摇摆",
        value: "swing"
      },
      {
        label: "放大晃动缩小",
        value: "tada"
      },
      {
        label: "扇形摇摆",
        value: "wobble"
      },
      {
        label: "左右上下晃动",
        value: "jello"
      },
      {
        label: "Y轴旋转",
        value: "flip"
      }
    ]
  },
  {
    label: "退出",
    children: [
      {
        label: "渐隐",
        value: "fadeOut"
      },
      {
        label: "向左退出",
        value: "fadeOutLeft"
      },
      {
        label: "向右退出",
        value: "fadeOutRight"
      },
      {
        label: "向上退出",
        value: "fadeOutUp"
      },
      {
        label: "向下退出",
        value: "fadeOutDown"
      },
      {
        label: "向左长距退出",
        value: "fadeOutLeftBig"
      },
      {
        label: "向右长距退出",
        value: "fadeOutRightBig"
      },
      {
        label: "向上长距退出",
        value: "fadeOutUpBig"
      },
      {
        label: "向下长距退出",
        value: "fadeOutDownBig"
      },
      {
        label: "旋转退出",
        value: "rotateOut"
      },
      {
        label: "左顺时针旋转",
        value: "rotateOutDownLeft"
      },
      {
        label: "右逆时针旋转",
        value: "rotateOutDownRight"
      },
      {
        label: "左逆时针旋转",
        value: "rotateOutUpLeft"
      },
      {
        label: "右逆时针旋转",
        value: "rotateOutUpRight"
      },
      {
        label: "弹出",
        value: "bounceOut"
      },
      {
        label: "向左弹出",
        value: "bounceOutLeft"
      },
      {
        label: "向右弹出",
        value: "bounceOutRight"
      },
      {
        label: "向上弹出",
        value: "bounceOutUp"
      },
      {
        label: "向下弹出",
        value: "bounceOutDown"
      },
      {
        label: "中心X轴旋转",
        value: "flipOutX"
      },
      {
        label: "中心Y轴旋转",
        value: "flipOutY"
      },
      {
        label: "左长半径旋转",
        value: "rollOut"
      },
      {
        label: "由小变大退出",
        value: "zoomOut"
      },
      {
        label: "左变大退出",
        value: "zoomOutLeft"
      },
      {
        label: "右变大退出",
        value: "zoomOutRight"
      },
      {
        label: "向上变大退出",
        value: "zoomOutUp"
      },
      {
        label: "向下变大退出",
        value: "zoomOutDown"
      },
      {
        label: "向左滑动收起",
        value: "slideOutLeft"
      },
      {
        label: "向右滑动收起",
        value: "slideOutRight"
      },
      {
        label: "向上滑动收起",
        value: "slideOutUp"
      },
      {
        label: "向下滑动收起",
        value: "slideOutDown"
      }
    ]
  }
];
let l = localStorage.getItem("svg-editor-config"), s, t;
if (l) {
  let i = JSON.parse(l);
  t = i.connection_line, s = i.svg;
} else
  t = objectDeepClone(connection_line_system), s = {
    background_color: "#fff",
    scale: 1,
    grid: !0,
    grid_color: "#ebebeb",
    ruler: !0
  };
const useConfigStore = defineStore("config-store", {
  state: () => ({
    svg: s,
    connection_line: t,
    net: { mqtt: { url: "", user: "", pwd: "", topics: "" } }
  }),
  getters: {},
  actions: {}
});
var EContextMenuInfoType = /* @__PURE__ */ ((i) => (i.Copy = "Copy", i.Delete = "Delete", i.MoveUpOneLevel = "MoveUpOneLevel", i.MoveDownOneLevel = "MoveDownOneLevel", i.MoveUpTopLevel = "MoveUpTopLevel", i.MoveDownTopLevel = "MoveDownTopLevel", i))(EContextMenuInfoType || {});
const useEditPrivateStore = defineStore("edit-private-store", {
  state: () => ({
    old_done_components: [],
    //记录预览之前的组件数据
    history_doneComponent: [],
    history_now_index: 0,
    is_record_history: !0,
    //是否需要记录当前状态，如果是操作的历史记录，则不需要记录
    max_record_times: 10
  }),
  getters: {
    getTopBtnUndoStatus(i) {
      return i.history_now_index >= 1;
    },
    getTopBtnRedoStatus(i) {
      return i.history_now_index + 1 != i.history_doneComponent.length;
    }
  },
  actions: {
    topUndoBtnClick() {
      if (console.log("撤销"), this.history_now_index < 1)
        return;
      const i = useGlobalStore();
      this.is_record_history = !1, this.history_now_index -= 1, i.setDoneJson(this.history_doneComponent[this.history_now_index]);
    },
    topRedoBtnClick() {
      if (console.log("重做"), this.history_now_index + 1 == this.history_doneComponent.length)
        return;
      const i = useGlobalStore();
      this.is_record_history = !1, this.history_now_index += 1, i.setDoneJson(this.history_doneComponent[this.history_now_index]);
    }
  }
}), useContextMenuStore = defineStore("context-menu-store", {
  state: () => ({
    display: !1,
    info: {
      [EContextMenuInfoType.Copy]: {
        title: "复制",
        hot_key: "Ctrl + c",
        enable: !0
      },
      [EContextMenuInfoType.Delete]: {
        title: "删除",
        hot_key: "Delete",
        enable: !0
      },
      [EContextMenuInfoType.MoveUpTopLevel]: {
        title: "置于顶层",
        hot_key: "Ctrl + →",
        enable: !0
      },
      [EContextMenuInfoType.MoveDownTopLevel]: {
        title: "置于底层",
        hot_key: "Ctrl + ←",
        enable: !0
      },
      [EContextMenuInfoType.MoveUpOneLevel]: {
        title: "置于上一层",
        hot_key: "Ctrl + ↑",
        enable: !0
      },
      [EContextMenuInfoType.MoveDownOneLevel]: {
        title: "置于下一层",
        hot_key: "Ctrl + ↓",
        enable: !0
      }
    }
  }),
  actions: {
    onContextMenuClick(i) {
      const n = useGlobalStore();
      if (n.handle_svg_info)
        switch (n.intention = EGlobalStoreIntention.Select, i) {
          case EContextMenuInfoType.Copy:
            const r = objectDeepClone(n.handle_svg_info.info);
            r.id = randomString(), r.title += "-copy", r.x += 10, r.y += 10, n.setDoneJson(r), this.display = !1, n.setHandleSvgInfo(r, n.done_json.length);
            break;
          case EContextMenuInfoType.Delete:
            n.spliceDoneJson(n.handle_svg_info.index), this.display = !1, n.setHandleSvgInfo(null), n.intention = EGlobalStoreIntention.None;
            break;
          case EContextMenuInfoType.MoveUpOneLevel:
            if (n.done_json.length === 1 || n.handle_svg_info.index === n.done_json.length - 1)
              return;
            const o = n.handle_svg_info.info;
            n.done_json[n.handle_svg_info.index] = n.done_json[n.handle_svg_info.index + 1], n.done_json[n.handle_svg_info.index + 1] = o, useHistoryRecord(n.done_json), this.display = !1, n.setHandleSvgInfo(o, n.handle_svg_info.index + 1);
            break;
          case EContextMenuInfoType.MoveDownOneLevel:
            if (n.done_json.length === 1 || n.handle_svg_info.index === 0)
              return;
            const a = n.handle_svg_info.info;
            n.done_json[n.handle_svg_info.index] = n.done_json[n.handle_svg_info.index - 1], n.done_json[n.handle_svg_info.index - 1] = a, useHistoryRecord(n.done_json), this.display = !1, n.setHandleSvgInfo(a, n.handle_svg_info.index - 1);
            break;
          case EContextMenuInfoType.MoveDownTopLevel:
            if (n.done_json.length === 1 || n.handle_svg_info.index === 0)
              return;
            const u = n.handle_svg_info.info;
            n.done_json.splice(n.handle_svg_info.index, 1), n.done_json.unshift(u), useHistoryRecord(n.done_json), this.display = !1, n.setHandleSvgInfo(u, 0);
            break;
          case EContextMenuInfoType.MoveUpTopLevel:
            if (n.done_json.length === 1 || n.handle_svg_info.index === n.done_json.length)
              return;
            const c = n.handle_svg_info.info;
            n.done_json.splice(n.handle_svg_info.index, 1), n.done_json.push(c), useHistoryRecord(n.done_json), this.display = !1, n.setHandleSvgInfo(c, n.done_json.length - 1);
            break;
        }
    }
  }
}), pinia = createPinia(), useHistoryRecord = (i) => {
  const n = useEditPrivateStore();
  n.is_record_history && (n.history_now_index + 1 < n.history_doneComponent.length && n.history_doneComponent.splice(n.history_now_index + 1), n.history_doneComponent.push(i), n.history_now_index = n.history_doneComponent.length - 1, n.history_doneComponent.length > n.max_record_times && (n.history_doneComponent.shift(), n.history_now_index = n.history_doneComponent.length - 1)), n.is_record_history = !0;
}, useImportDataModel = (i) => {
  try {
    const n = JSON.parse(i);
    if (!n.config || !n.layout_center || !n.done_json)
      return ElMessage.error("请导入正确的数据模型！"), !1;
    const r = useGlobalStore(pinia), o = useSvgEditLayoutStore(pinia), a = useConfigStore(pinia);
    return a.$state = n.config, o.center_offset = n.layout_center, r.setDoneJson(n.done_json), !0;
  } catch (n) {
    return ElMessage.error("请导入正确的数据模型！"), console.error(n), !1;
  }
}, _hoisted_1$i = { "aria-hidden": "true" }, _hoisted_2$f = ["xlink:href"], _sfc_main$D = /* @__PURE__ */ defineComponent({
  __name: "svg-analysis",
  props: {
    name: {},
    props: { default: () => ({}) }
  },
  setup(i) {
    const n = i, r = computed(() => `#svg-${n.name}`);
    return (o, a) => (openBlock(), createElementBlock("svg", _hoisted_1$i, [
      createElementVNode("use", mergeProps({ "xlink:href": unref(r) }, n.props), null, 16, _hoisted_2$f)
    ]));
  }
});
var EVisibleConfKey = /* @__PURE__ */ ((i) => (i.ImportJson = "ImportJson", i.ExportJson = "ExportJson", i.ImportFile = "ImportFile", i))(EVisibleConfKey || {});
const _withScopeId$2 = (i) => (pushScopeId("data-v-62907637"), i = i(), popScopeId(), i), _hoisted_1$h = {
  class: "flex justify-between",
  style: { width: "100%" }
}, _hoisted_2$e = {
  class: "flex items-center justify-between",
  style: { width: "250px" }
}, _hoisted_3$c = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", { class: "flex items-center" }, [
  /* @__PURE__ */ createElementVNode("span", { class: "logo-title" }, "Svg Editor")
], -1)), _hoisted_4$8 = {
  class: "flex justify-between",
  style: { width: "calc(100% - 440px)" }
}, _hoisted_5$6 = { class: "flex items-center" }, _hoisted_6$4 = { class: "flex items-center mr-20px" }, _hoisted_7$4 = {
  class: "flex items-center",
  style: { width: "250px" }
}, _hoisted_8$4 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", {
  class: "font-bold mb-10px text-15px guide-title",
  style: { "padding-top": "16px" }
}, "多选", -1)), _hoisted_9$4 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", null, "在画布空白区域按住鼠标左键可以框选（图形坐标在框选区域即判定被选中），也可以按住ctrl+鼠标左键点图形进行多选", -1)), _hoisted_10$3 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", {
  class: "el-divider el-divider--horizontal",
  role: "separator",
  style: { "--el-border-style": "solid" }
}, null, -1)), _hoisted_11$2 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", { class: "font-bold mb-10px text-15px guide-title" }, "拖动画布", -1)), _hoisted_12$2 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", null, "在画布空白区域按住右键可拖动画布，右侧面板‘图纸’栏可微调或重置位置", -1)), _hoisted_13$1 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", {
  class: "el-divider el-divider--horizontal",
  role: "separator",
  style: { "--el-border-style": "solid" }
}, null, -1)), _hoisted_14$1 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", { class: "font-bold mb-10px text-15px guide-title" }, "画布缩放", -1)), _hoisted_15$1 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", null, "在画布空白区使用鼠标滚轮或者右侧面板‘图纸’栏可控制画布缩放", -1)), _hoisted_16$2 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", {
  class: "el-divider el-divider--horizontal",
  role: "separator",
  style: { "--el-border-style": "solid" }
}, null, -1)), _hoisted_17 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", { class: "font-bold mb-10px text-15px guide-title" }, "标尺辅助线", -1)), _hoisted_18 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", null, "在标尺区域按住鼠标左键并拖动即可创建标尺辅助线，将标尺辅助线拖动到标尺区域即可删除标尺辅助线", -1)), _hoisted_19 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", {
  class: "el-divider el-divider--horizontal",
  role: "separator",
  style: { "--el-border-style": "solid" }
}, null, -1)), _hoisted_20 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", { class: "font-bold mb-10px text-15px guide-title" }, "组件尺寸", -1)), _hoisted_21 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", null, [
  /* @__PURE__ */ createElementVNode("p", null, " 大多数组件可以通过选中组件然后拖动交互点或在右侧‘外观’栏改变外形尺寸，或通过右侧‘数据’栏直接或间接改变外形尺寸；"),
  /* @__PURE__ */ createElementVNode("p", null, "少数特殊组件仅可通过右侧'数据'栏直接或间接改变外形尺寸")
], -1)), _hoisted_22$1 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", {
  class: "el-divider el-divider--horizontal",
  role: "separator",
  style: { "--el-border-style": "solid" }
}, null, -1)), _hoisted_23 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", { class: "font-bold mb-10px text-15px guide-title" }, "连线样式", -1)), _hoisted_24 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", null, "在右侧‘连线’栏可以统一配置连线样式，配置后先增加的线会应用新样式，之前的线样式不变，如需改变，可选中线手动更改或删除重画 ", -1)), _hoisted_25 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", {
  class: "el-divider el-divider--horizontal",
  role: "separator",
  style: { "--el-border-style": "solid" }
}, null, -1)), _hoisted_26$1 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", { class: "font-bold mb-10px text-15px guide-title" }, "横线和竖线", -1)), _hoisted_27 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", { class: "guide-text" }, [
  /* @__PURE__ */ createElementVNode("p", null, " 点击编辑器顶部连线按钮会进入连线状态，该状态下在画板点击鼠标左键即可开始画线，移动并再次点击左键创建新的节点，右键结束画线并退出连线状态；"),
  /* @__PURE__ */ createElementVNode("p", null, "画线的时候按住ctrl即可画竖线，按住shift即可画横线")
], -1)), _hoisted_28 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", {
  class: "el-divider el-divider--horizontal",
  role: "separator",
  style: { "--el-border-style": "solid" }
}, null, -1)), _hoisted_29 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", { class: "font-bold mb-10px text-15px guide-title" }, "绑定锚点", -1)), _hoisted_30 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", { class: "guide-text" }, [
  /* @__PURE__ */ createElementVNode("p", null, "组件在未选中时，鼠标经过组件时会出现锚点，鼠标悬浮在锚点上时，会有交互样式，点击左键即可以锚点为起点创建连线；"),
  /* @__PURE__ */ createElementVNode("p", null, "同样，在连线时鼠标经过锚点时，会出现锚点交互样式，点击左键即可以锚点为连线终点结束连线；"),
  /* @__PURE__ */ createElementVNode("p", null, "这两种情况下的连线会绑定组件上的锚点，如需解绑，参考下面的‘锚点解绑’；"),
  /* @__PURE__ */ createElementVNode("p", null, "同样，也可先画线，再选中连线绑定想要绑定的组件锚点（连线只有首尾节点可以绑定锚点）")
], -1)), _hoisted_31 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", {
  class: "el-divider el-divider--horizontal",
  role: "separator",
  style: { "--el-border-style": "solid" }
}, null, -1)), _hoisted_32$1 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", { class: "font-bold mb-10px text-15px guide-title" }, "线段选中", -1)), _hoisted_33 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", null, " 若线段绑定了锚点，移动线段，绑定的锚点不会移动。若是想将线段整体移动，需要先解绑，参考下面的‘锚点解绑’ ", -1)), _hoisted_34 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", {
  class: "el-divider el-divider--horizontal",
  role: "separator",
  style: { "--el-border-style": "solid" }
}, null, -1)), _hoisted_35 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", { class: "font-bold mb-10px text-15px guide-title" }, "锚点解绑", -1)), _hoisted_36$1 = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("div", { style: { "padding-bottom": "14px" } }, " 选中线段，在右侧‘数据’栏里解除绑定；或者鼠标左键拖拽连线上需要解绑的节点", -1)), _sfc_main$C = /* @__PURE__ */ defineComponent({
  __name: "top-panel",
  emits: ["changeVisible", "onReturn", "onPreview", "onSave"],
  setup(i, { emit: n }) {
    const r = useSvgEditLayoutStore(pinia), o = useGlobalStore(pinia), a = useEditPrivateStore(pinia), u = useConfigStore(pinia), c = () => {
      o.done_json.length <= 0 || o.setDoneJson([]), o.intention = EGlobalStoreIntention.None;
    }, f = (y) => {
      const v = {
        layout_center: r.center_offset,
        config: u.$state,
        done_json: o.done_json
      };
      n(y, v);
    }, d = ref(!1), p = computed({
      get: () => o.intention === EGlobalStoreIntention.Connection,
      set(y) {
        o.intention = y ? EGlobalStoreIntention.Connection : EGlobalStoreIntention.None, y && o.setHandleSvgInfo(null);
      }
    });
    return (y, v) => (openBlock(), createElementBlock(Fragment, null, [
      createElementVNode("div", _hoisted_1$h, [
        createElementVNode("div", _hoisted_2$e, [
          _hoisted_3$c,
          createVNode$1(unref(ElIcon$1), {
            size: 24,
            class: "bt-Icon",
            onClick: v[0] || (v[0] = (g) => unref(r).left_nav = !unref(r).left_nav),
            title: unref(r).left_nav ? "隐藏左侧菜单" : "显示左侧菜单"
          }, {
            default: withCtx(() => [
              unref(r).left_nav ? (openBlock(), createBlock(_sfc_main$D, {
                key: 0,
                name: "menu-unfold"
              })) : (openBlock(), createBlock(_sfc_main$D, {
                key: 1,
                name: "menu-fold"
              }))
            ]),
            _: 1
          }, 8, ["title"])
        ]),
        createElementVNode("div", _hoisted_4$8, [
          createElementVNode("div", _hoisted_5$6, [
            createVNode$1(unref(ElIcon$1), {
              title: "撤销 ctrl+z",
              size: 24,
              class: normalizeClass(`${unref(a).getTopBtnUndoStatus ? "bt-Icon" : "icon-disable"} ml-20px`),
              onClick: v[1] || (v[1] = () => unref(a).topUndoBtnClick())
            }, {
              default: withCtx(() => [
                createVNode$1(_sfc_main$D, {
                  name: unref(a).getTopBtnUndoStatus ? "undo" : "undo-gray"
                }, null, 8, ["name"])
              ]),
              _: 1
            }, 8, ["class"]),
            createVNode$1(unref(ElIcon$1), {
              title: "重做 ctrl+shift+z",
              class: normalizeClass(`${unref(a).getTopBtnRedoStatus ? "bt-Icon" : "icon-disable"} ml-5px`),
              size: 24,
              onClick: v[2] || (v[2] = () => unref(a).topRedoBtnClick())
            }, {
              default: withCtx(() => [
                createVNode$1(_sfc_main$D, {
                  name: unref(a).getTopBtnRedoStatus ? "redo" : "redo-gray"
                }, null, 8, ["name"])
              ]),
              _: 1
            }, 8, ["class"]),
            createVNode$1(unref(ElDivider), { direction: "vertical" }),
            createVNode$1(unref(ElIcon$1), {
              title: "清空 ctrl+delete",
              class: normalizeClass(unref(o).done_json.length > 0 ? "bt-Icon" : "icon-disable"),
              size: 24,
              onClick: c
            }, {
              default: withCtx(() => [
                createVNode$1(_sfc_main$D, {
                  name: unref(o).done_json.length > 0 ? "delete" : "delete-gray"
                }, null, 8, ["name"])
              ]),
              _: 1
            }, 8, ["class"]),
            createVNode$1(unref(ElDivider), { direction: "vertical" }),
            createVNode$1(unref(ElIcon$1), {
              title: "导入数据模型",
              class: "bt-Icon",
              size: 24,
              onClick: v[3] || (v[3] = (g) => n("changeVisible", unref(EVisibleConfKey).ImportJson, !0))
            }, {
              default: withCtx(() => [
                createVNode$1(_sfc_main$D, { name: "import" })
              ]),
              _: 1
            }),
            createVNode$1(unref(ElIcon$1), {
              title: "导出数据模型",
              size: 24,
              class: "bt-Icon ml-5px",
              onClick: v[4] || (v[4] = (g) => n("changeVisible", unref(EVisibleConfKey).ExportJson, !0))
            }, {
              default: withCtx(() => [
                createVNode$1(_sfc_main$D, { name: "export" })
              ]),
              _: 1
            }),
            createVNode$1(unref(ElDivider), { direction: "vertical" }),
            createVNode$1(unref(ElIcon$1), {
              title: "创建连线",
              class: normalizeClass(["bt-Icon", { active: unref(p) }]),
              size: 24,
              onClick: v[5] || (v[5] = (g) => p.value = !unref(p))
            }, {
              default: withCtx(() => [
                createVNode$1(_sfc_main$D, {
                  name: unref(p) ? "line-active" : "line"
                }, null, 8, ["name"])
              ]),
              _: 1
            }, 8, ["class"]),
            createVNode$1(unref(ElDivider), { direction: "vertical" }),
            createVNode$1(unref(ElIcon$1), {
              title: "说明",
              class: "bt-Icon",
              size: 24,
              onClick: v[6] || (v[6] = (g) => d.value = !unref(d))
            }, {
              default: withCtx(() => [
                createVNode$1(_sfc_main$D, { name: "question" })
              ]),
              _: 1
            })
          ]),
          createElementVNode("div", _hoisted_6$4, [
            createVNode$1(unref(ElIcon$1), {
              title: "返回",
              class: "bt-Icon",
              size: 24,
              onClick: v[7] || (v[7] = (g) => f("onReturn"))
            }, {
              default: withCtx(() => [
                createVNode$1(_sfc_main$D, { name: "return" })
              ]),
              _: 1
            }),
            createVNode$1(unref(ElDivider), { direction: "vertical" }),
            createVNode$1(unref(ElIcon$1), {
              title: "保存",
              class: "bt-Icon",
              size: 24,
              onClick: v[8] || (v[8] = (g) => f("onSave"))
            }, {
              default: withCtx(() => [
                createVNode$1(_sfc_main$D, { name: "save" })
              ]),
              _: 1
            }),
            createVNode$1(unref(ElDivider), { direction: "vertical" }),
            createVNode$1(unref(ElIcon$1), {
              title: "预览",
              class: "bt-Icon",
              size: 22,
              onClick: v[9] || (v[9] = (g) => f("onPreview"))
            }, {
              default: withCtx(() => [
                createVNode$1(_sfc_main$D, { name: "preview" })
              ]),
              _: 1
            })
          ])
        ]),
        createElementVNode("div", _hoisted_7$4, [
          createVNode$1(unref(ElIcon$1), {
            size: 24,
            class: "bt-Icon",
            onClick: v[10] || (v[10] = (g) => unref(r).right_nav = !unref(r).right_nav),
            title: unref(r).right_nav ? "隐藏右侧菜单" : "显示右侧菜单"
          }, {
            default: withCtx(() => [
              unref(r).right_nav ? (openBlock(), createBlock(_sfc_main$D, {
                key: 0,
                name: "menu-fold"
              })) : (openBlock(), createBlock(_sfc_main$D, {
                key: 1,
                name: "menu-unfold"
              }))
            ]),
            _: 1
          }, 8, ["title"])
        ])
      ]),
      createVNode$1(unref(ElDialog), {
        modelValue: unref(d),
        "onUpdate:modelValue": v[11] || (v[11] = (g) => isRef(d) ? d.value = g : null),
        title: "使用说明",
        width: "60%",
        class: "guide-dialog"
      }, {
        default: withCtx(() => [
          createVNode$1(unref(ElScrollbar$1), { "max-height": "60vh" }, {
            default: withCtx(() => [
              _hoisted_8$4,
              _hoisted_9$4,
              _hoisted_10$3,
              _hoisted_11$2,
              _hoisted_12$2,
              _hoisted_13$1,
              _hoisted_14$1,
              _hoisted_15$1,
              _hoisted_16$2,
              _hoisted_17,
              _hoisted_18,
              _hoisted_19,
              _hoisted_20,
              _hoisted_21,
              _hoisted_22$1,
              _hoisted_23,
              _hoisted_24,
              _hoisted_25,
              _hoisted_26$1,
              _hoisted_27,
              _hoisted_28,
              _hoisted_29,
              _hoisted_30,
              _hoisted_31,
              _hoisted_32$1,
              _hoisted_33,
              _hoisted_34,
              _hoisted_35,
              _hoisted_36$1
            ]),
            _: 1
          })
        ]),
        _: 1
      }, 8, ["modelValue"])
    ], 64));
  }
}), topPanel_vue_vue_type_style_index_0_scoped_62907637_lang = "", topPanel_vue_vue_type_style_index_1_lang = "", TopPanel = /* @__PURE__ */ _export_sfc$1(_sfc_main$C, [["__scopeId", "data-v-62907637"]]), _hoisted_1$g = { class: "component-group flex flex-wrap" }, _hoisted_2$d = ["onDragstart", "title"], _sfc_main$B = /* @__PURE__ */ defineComponent({
  __name: "left-panel",
  props: {
    customToolbar: {}
  },
  setup(i) {
    const n = i, r = useGlobalStore(pinia), o = ref(
      n.customToolbar && Object.keys(n.customToolbar).length > 0 ? n.customToolbar : r.config_center
    ), a = ref([
      "stateful",
      "stateless",
      "have_animation",
      "custom_svg_group",
      "element-ui",
      "custom-vue",
      "echarts"
    ]), u = (f) => {
      r.setCreateInfo(f);
    }, c = (f) => {
      var d;
      if (((d = f.dataTransfer) == null ? void 0 : d.dropEffect) !== "copy") {
        ElMessage.warning("请将组件拖到画布中!"), r.intention = EGlobalStoreIntention.None;
        return;
      }
    };
    return (f, d) => (openBlock(), createElementBlock("div", null, [
      createVNode$1(unref(ElCollapse), {
        modelValue: unref(a),
        "onUpdate:modelValue": d[0] || (d[0] = (p) => isRef(a) ? a.value = p : null),
        style: { "border-top": "none" }
      }, {
        default: withCtx(() => [
          (openBlock(!0), createElementBlock(Fragment, null, renderList(unref(o), (p) => (openBlock(), createBlock(unref(ElCollapseItem), {
            name: p.groupType,
            key: p.title
          }, {
            title: withCtx(() => [
              createElementVNode("div", null, toDisplayString(p.title), 1)
            ]),
            default: withCtx(() => [
              createElementVNode("div", _hoisted_1$g, [
                (openBlock(!0), createElementBlock(Fragment, null, renderList(p.list, (y) => (openBlock(), createElementBlock("div", {
                  class: "ideal",
                  key: y.name,
                  draggable: "true",
                  onDragstart: (v) => u(y),
                  onDragend: c,
                  title: y.title
                }, [
                  createVNode$1(unref(ElIcon$1), {
                    size: 35,
                    class: "flex items-center"
                  }, {
                    default: withCtx(() => [
                      createVNode$1(_sfc_main$D, {
                        name: y.name,
                        props: unref(prosToVBind)(y, ["width", "height", "maxHeight"])
                      }, null, 8, ["name", "props"])
                    ]),
                    _: 2
                  }, 1024)
                ], 40, _hoisted_2$d))), 128))
              ])
            ]),
            _: 2
          }, 1032, ["name"]))), 128))
        ]),
        _: 1
      }, 8, ["modelValue"])
    ]));
  }
}), leftPanel_vue_vue_type_style_index_0_scoped_d7403cfd_lang = "", LeftPanel = /* @__PURE__ */ _export_sfc$1(_sfc_main$B, [["__scopeId", "data-v-d7403cfd"]]), calculateLeftTop = (i, n, r) => {
  const o = getCenterPoint(i, n), a = calculateRotatedPointCoordinate(i, o, -r), u = calculateRotatedPointCoordinate(n, o, -r);
  return {
    width: u.x - a.x,
    height: u.y - a.y,
    is_old_width: !1,
    is_old_height: !1
  };
}, calculateRightTop = (i, n, r) => {
  const o = getCenterPoint(i, n), a = calculateRotatedPointCoordinate(i, o, -r), u = calculateRotatedPointCoordinate(n, o, -r);
  return {
    width: a.x - u.x,
    height: u.y - a.y,
    is_old_width: !1,
    is_old_height: !1
  };
}, calculateRightBottom = (i, n, r) => {
  const o = getCenterPoint(i, n), a = calculateRotatedPointCoordinate(n, o, -r), u = calculateRotatedPointCoordinate(i, o, -r);
  return {
    width: u.x - a.x,
    height: u.y - a.y,
    is_old_width: !1,
    is_old_height: !1
  };
}, calculateLeftBottom = (i, n, r) => {
  const o = getCenterPoint(i, n), a = calculateRotatedPointCoordinate(n, o, -r), u = calculateRotatedPointCoordinate(i, o, -r);
  return {
    width: a.x - u.x,
    height: u.y - a.y,
    is_old_width: !1,
    is_old_height: !1
  };
}, calculateTop = (i, n, r, o) => {
  const a = calculateRotatedPointCoordinate(i, o, -r), u = calculateRotatedPointCoordinate(
    {
      x: o.x,
      y: a.y
    },
    o,
    r
  ), c = Math.sqrt(
    (u.x - n.x) ** 2 + (u.y - n.y) ** 2
  );
  return {
    width: 1,
    height: Math.round(c),
    is_old_width: !0,
    is_old_height: !1
  };
}, calculateRight = (i, n, r, o) => {
  const a = calculateRotatedPointCoordinate(i, o, -r), u = calculateRotatedPointCoordinate(
    {
      x: a.x,
      y: o.y
    },
    o,
    r
  ), c = Math.sqrt(
    (u.x - n.x) ** 2 + (u.y - n.y) ** 2
  );
  return {
    width: Math.round(c),
    height: 1,
    is_old_width: !1,
    is_old_height: !0
  };
}, calculateBottom = (i, n, r, o) => {
  const a = calculateRotatedPointCoordinate(i, o, -r), u = calculateRotatedPointCoordinate(
    {
      x: o.x,
      y: a.y
    },
    o,
    r
  ), c = Math.sqrt(
    (u.x - n.x) ** 2 + (u.y - n.y) ** 2
  );
  return {
    width: 1,
    height: Math.round(c),
    is_old_width: !0,
    is_old_height: !1
  };
}, calculateLeft = (i, n, r, o) => {
  const a = calculateRotatedPointCoordinate(i, o, -r), u = calculateRotatedPointCoordinate(
    {
      x: a.x,
      y: o.y
    },
    o,
    r
  ), c = Math.sqrt(
    (u.x - n.x) ** 2 + (u.y - n.y) ** 2
  );
  return {
    width: Math.round(c),
    height: 1,
    is_old_width: !1,
    is_old_height: !0
  };
}, _hoisted_1$f = { style: { "vector-effect": "non-scaling-stroke" } }, _hoisted_2$c = ["fill", "x", "y"], _hoisted_3$b = ["cx", "cy"], _hoisted_4$7 = ["x1", "y1", "x2", "y2"], _hoisted_5$5 = ["fill", "x", "y"], _hoisted_6$3 = ["fill", "x", "y"], _hoisted_7$3 = ["fill", "x", "y"], _hoisted_8$3 = ["fill", "x", "y"], _hoisted_9$3 = ["fill", "x", "y"], _hoisted_10$2 = ["fill", "x", "y"], _hoisted_11$1 = ["fill", "x", "y"], _sfc_main$A = /* @__PURE__ */ defineComponent({
  __name: "handle-panel",
  props: {
    itemInfo: {}
  },
  setup(i) {
    const n = i;
    useCssVars((g) => ({
      "5c831aea": unref(c)
    }));
    const r = useGlobalStore(pinia), o = useConfigStore(pinia), a = useSvgEditLayoutStore(pinia), u = ref(4), c = ref("#ab712e"), f = [
      {
        start: 338,
        end: 23,
        cursor: "nw",
        type: EScaleInfoType.TopLeft
      },
      {
        start: 23,
        end: 68,
        cursor: "n",
        type: EScaleInfoType.TopCenter
      },
      {
        start: 68,
        end: 113,
        cursor: "ne",
        type: EScaleInfoType.TopRight
      },
      {
        start: 293,
        end: 338,
        cursor: "w",
        type: EScaleInfoType.Left
      },
      {
        start: 113,
        end: 158,
        cursor: "e",
        type: EScaleInfoType.Right
      },
      {
        start: 248,
        end: 293,
        cursor: "sw",
        type: EScaleInfoType.BottomLeft
      },
      {
        start: 203,
        end: 248,
        cursor: "s",
        type: EScaleInfoType.BottomCenter
      },
      {
        start: 158,
        end: 203,
        cursor: "se",
        type: EScaleInfoType.BottomRight
      }
    ], d = computed(() => n.itemInfo.config.can_zoom), p = (g, _) => {
      console.log("handMousedown", _);
      const { clientX: b, clientY: A } = _;
      _.stopPropagation(), r.intention = EGlobalStoreIntention.Zoom;
      const w = Math.round(
        (b - a.canvasInfo.left) / o.svg.scale - a.center_offset.x
      ), S = Math.round(
        (A - a.canvasInfo.top) / o.svg.scale - a.center_offset.y
      );
      r.mouse_info = {
        state: EMouseInfoState.Down,
        position_x: w,
        position_y: S,
        now_position_x: w,
        now_position_y: S,
        new_position_x: 0,
        new_position_y: 0
      }, r.scale_info = {
        type: g,
        scale_times: {
          x: n.itemInfo.scale_x,
          y: n.itemInfo.scale_y
        },
        scale_item_info: {
          x: n.itemInfo.x,
          y: n.itemInfo.y
        },
        symmetric_point: {
          x: w + Math.abs(w - n.itemInfo.center_position.x) * 2 * (w > n.itemInfo.center_position.x ? -1 : 1),
          y: S + Math.abs(S - n.itemInfo.center_position.y) * 2 * (S > n.itemInfo.center_position.y ? -1 : 1)
        }
      };
    }, y = (g) => {
      const { clientX: _, clientY: b } = g, A = Math.round(
        (_ - a.canvasInfo.left) / o.svg.scale - a.center_offset.x
      ), w = Math.round(
        (b - a.canvasInfo.top) / o.svg.scale - a.center_offset.y
      );
      g.stopPropagation(), r.intention = EGlobalStoreIntention.Rotate, r.rotate_info = {
        angle: n.itemInfo.rotate
      }, r.mouse_info = {
        state: EMouseInfoState.Down,
        position_x: A,
        position_y: w,
        now_position_x: A,
        now_position_y: w,
        new_position_x: 0,
        new_position_y: 0
      };
    }, v = (g) => {
      const _ = (g + n.itemInfo.rotate) % 360, b = f.find((A) => A.start <= _ && A.end > _);
      return b ? {
        cursor: b.cursor + "-resize",
        type: b.type
      } : {
        cursor: "nw-resize",
        type: EScaleInfoType.TopLeft
      };
    };
    return (g, _) => (openBlock(), createElementBlock("g", _hoisted_1$f, [
      withDirectives(createElementVNode("rect", {
        id: "resize_tl",
        width: "8",
        height: "8",
        fill: unref(c),
        style: normalizeStyle$1({ cursor: v(0).cursor, "vector-effect": "non-scaling-stroke" }),
        "pointer-events": "all",
        x: n.itemInfo.actual_bound.x - unref(u) - unref(getCoordinateOffset)(n.itemInfo.actual_bound.width, n.itemInfo.scale_x),
        y: n.itemInfo.actual_bound.y - unref(u) - unref(getCoordinateOffset)(n.itemInfo.actual_bound.height, n.itemInfo.scale_y),
        stroke: "rgba(0,0,0,0)",
        onMousedown: _[0] || (_[0] = (b) => p(unref(EScaleInfoType).TopLeft, b))
      }, null, 44, _hoisted_2$c), [
        [vShow, unref(d)]
      ]),
      createElementVNode("circle", {
        cx: n.itemInfo.actual_bound.x + n.itemInfo.actual_bound.width / 2,
        cy: n.itemInfo.actual_bound.y - unref(u) - unref(getCoordinateOffset)(n.itemInfo.actual_bound.height, n.itemInfo.scale_y) - 24,
        r: 4,
        class: "rotate-circle",
        onMousedown: y
      }, null, 40, _hoisted_3$b),
      createElementVNode("line", {
        x1: n.itemInfo.actual_bound.x + n.itemInfo.actual_bound.width / 2,
        y1: n.itemInfo.actual_bound.y - unref(u) - unref(getCoordinateOffset)(n.itemInfo.actual_bound.height, n.itemInfo.scale_y),
        x2: n.itemInfo.actual_bound.x + n.itemInfo.actual_bound.width / 2,
        y2: n.itemInfo.actual_bound.y - unref(u) - unref(getCoordinateOffset)(n.itemInfo.actual_bound.height, n.itemInfo.scale_y) - 20,
        style: normalizeStyle$1({ stroke: unref(c), "stroke-width": 2 })
      }, null, 12, _hoisted_4$7),
      withDirectives(createElementVNode("rect", {
        id: "resize_tc",
        width: "8",
        height: "8",
        fill: unref(c),
        style: normalizeStyle$1({ cursor: v(45).cursor, "vector-effect": "non-scaling-stroke" }),
        "pointer-events": "all",
        x: n.itemInfo.actual_bound.x + n.itemInfo.actual_bound.width / 2 - unref(u),
        y: n.itemInfo.actual_bound.y - unref(u) - unref(getCoordinateOffset)(n.itemInfo.actual_bound.height, n.itemInfo.scale_y),
        stroke: "rgba(0,0,0,0)",
        onMousedown: _[1] || (_[1] = (b) => p(unref(EScaleInfoType).TopCenter, b))
      }, null, 44, _hoisted_5$5), [
        [vShow, unref(d)]
      ]),
      withDirectives(createElementVNode("rect", {
        id: "resize_tr",
        width: "8",
        height: "8",
        fill: unref(c),
        style: normalizeStyle$1({ cursor: v(90).cursor, "vector-effect": "non-scaling-stroke" }),
        "pointer-events": "all",
        x: n.itemInfo.actual_bound.x + n.itemInfo.actual_bound.width - unref(u) + unref(getCoordinateOffset)(n.itemInfo.actual_bound.width, n.itemInfo.scale_x),
        y: n.itemInfo.actual_bound.y - unref(u) - unref(getCoordinateOffset)(n.itemInfo.actual_bound.height, n.itemInfo.scale_y),
        stroke: "rgba(0,0,0,0)",
        onMousedown: _[2] || (_[2] = (b) => p(unref(EScaleInfoType).TopRight, b))
      }, null, 44, _hoisted_6$3), [
        [vShow, unref(d)]
      ]),
      withDirectives(createElementVNode("rect", {
        id: "resize_l",
        width: "8",
        height: "8",
        fill: unref(c),
        style: normalizeStyle$1({ cursor: v(315).cursor, "vector-effect": "non-scaling-stroke" }),
        "pointer-events": "all",
        x: n.itemInfo.actual_bound.x - unref(u) - unref(getCoordinateOffset)(n.itemInfo.actual_bound.width, n.itemInfo.scale_x),
        y: n.itemInfo.actual_bound.y - unref(u) + n.itemInfo.actual_bound.height * n.itemInfo.scale_y / 2 - unref(getCoordinateOffset)(n.itemInfo.actual_bound.height, n.itemInfo.scale_y),
        stroke: "rgba(0,0,0,0)",
        onMousedown: _[3] || (_[3] = (b) => p(unref(EScaleInfoType).Left, b))
      }, null, 44, _hoisted_7$3), [
        [vShow, unref(d)]
      ]),
      withDirectives(createElementVNode("rect", {
        id: "resize_r",
        width: "8",
        height: "8",
        fill: unref(c),
        style: normalizeStyle$1({ cursor: v(135).cursor, "vector-effect": "non-scaling-stroke" }),
        "pointer-events": "all",
        x: n.itemInfo.actual_bound.x - unref(u) + n.itemInfo.actual_bound.width + unref(getCoordinateOffset)(n.itemInfo.actual_bound.width, n.itemInfo.scale_x),
        y: n.itemInfo.actual_bound.y - unref(u) + n.itemInfo.actual_bound.height * n.itemInfo.scale_y / 2 - unref(getCoordinateOffset)(n.itemInfo.actual_bound.height, n.itemInfo.scale_y),
        stroke: "rgba(0,0,0,0)",
        onMousedown: _[4] || (_[4] = (b) => p(unref(EScaleInfoType).Right, b))
      }, null, 44, _hoisted_8$3), [
        [vShow, unref(d)]
      ]),
      withDirectives(createElementVNode("rect", {
        id: "resize_bl",
        width: "8",
        height: "8",
        fill: unref(c),
        style: normalizeStyle$1({ cursor: v(270).cursor, "vector-effect": "non-scaling-stroke" }),
        "pointer-events": "all",
        x: n.itemInfo.actual_bound.x - unref(u) - unref(getCoordinateOffset)(n.itemInfo.actual_bound.width, n.itemInfo.scale_x),
        y: n.itemInfo.actual_bound.y - unref(u) + n.itemInfo.actual_bound.height * n.itemInfo.scale_y - unref(getCoordinateOffset)(n.itemInfo.actual_bound.height, n.itemInfo.scale_y),
        stroke: "rgba(0,0,0,0)",
        onMousedown: _[5] || (_[5] = (b) => p(unref(EScaleInfoType).BottomLeft, b))
      }, null, 44, _hoisted_9$3), [
        [vShow, unref(d)]
      ]),
      withDirectives(createElementVNode("rect", {
        id: "resize_bc",
        width: "8",
        height: "8",
        fill: unref(c),
        style: normalizeStyle$1({ cursor: v(225).cursor, "vector-effect": "non-scaling-stroke" }),
        "pointer-events": "all",
        x: n.itemInfo.actual_bound.x - unref(u) + n.itemInfo.actual_bound.width / 2,
        y: n.itemInfo.actual_bound.y - unref(u) + n.itemInfo.actual_bound.height + unref(getCoordinateOffset)(n.itemInfo.actual_bound.height, n.itemInfo.scale_y),
        stroke: "rgba(0,0,0,0)",
        onMousedown: _[6] || (_[6] = (b) => p(unref(EScaleInfoType).BottomCenter, b))
      }, null, 44, _hoisted_10$2), [
        [vShow, unref(d)]
      ]),
      withDirectives(createElementVNode("rect", {
        id: "resize_br",
        width: "8",
        height: "8",
        fill: unref(c),
        style: normalizeStyle$1({ cursor: v(180).cursor, "vector-effect": "non-scaling-stroke" }),
        "pointer-events": "all",
        x: n.itemInfo.actual_bound.x - unref(u) + n.itemInfo.actual_bound.width + unref(getCoordinateOffset)(n.itemInfo.actual_bound.width, n.itemInfo.scale_x),
        y: n.itemInfo.actual_bound.y - unref(u) + n.itemInfo.actual_bound.height + unref(getCoordinateOffset)(n.itemInfo.actual_bound.height, n.itemInfo.scale_y),
        stroke: "rgba(0,0,0,0)",
        onMousedown: _[7] || (_[7] = (b) => p(unref(EScaleInfoType).BottomRight, b))
      }, null, 44, _hoisted_11$1), [
        [vShow, unref(d)]
      ])
    ]));
  }
}), handlePanel_vue_vue_type_style_index_0_scoped_e6622df8_lang = "", HandlePanel = /* @__PURE__ */ _export_sfc$1(_sfc_main$A, [["__scopeId", "data-v-e6622df8"]]), _hoisted_1$e = ["fill"], _hoisted_2$b = ["cx", "cy", "r"], _hoisted_3$a = ["cx", "cy", "r"], _hoisted_4$6 = ["cx", "cy", "r"], _hoisted_5$4 = ["cx", "cy", "r"], _hoisted_6$2 = ["cx", "cy", "r"], _hoisted_7$2 = ["cx", "cy", "r"], _hoisted_8$2 = ["cx", "cy", "r"], _hoisted_9$2 = ["cx", "cy", "r"], _sfc_main$z = /* @__PURE__ */ defineComponent({
  __name: "connection-panel",
  props: {
    itemInfo: {}
  },
  setup(i) {
    const n = i, r = ref(4), o = ref("#ab712e"), a = ref(4), u = ref(12), c = useGlobalStore(pinia), f = useSvgEditLayoutStore(pinia), d = computed(
      () => n.itemInfo.actual_bound.x + n.itemInfo.actual_bound.width / 2 - r.value + a.value
    ), p = computed(
      () => n.itemInfo.actual_bound.y - r.value - getCoordinateOffset(n.itemInfo.actual_bound.height, n.itemInfo.scale_y) + a.value
    ), y = computed(
      () => n.itemInfo.actual_bound.x - r.value + n.itemInfo.actual_bound.width + getCoordinateOffset(n.itemInfo.actual_bound.width, n.itemInfo.scale_x) + a.value
    ), v = computed(
      () => n.itemInfo.actual_bound.y - r.value + n.itemInfo.actual_bound.height * n.itemInfo.scale_y / 2 - getCoordinateOffset(n.itemInfo.actual_bound.height, n.itemInfo.scale_y) + a.value
    ), g = computed(
      () => n.itemInfo.actual_bound.x - r.value + n.itemInfo.actual_bound.width / 2 + a.value
    ), _ = computed(
      () => n.itemInfo.actual_bound.y - r.value + n.itemInfo.actual_bound.height + getCoordinateOffset(n.itemInfo.actual_bound.height, n.itemInfo.scale_y) + a.value
    ), b = computed(
      () => n.itemInfo.actual_bound.x - r.value - getCoordinateOffset(n.itemInfo.actual_bound.width, n.itemInfo.scale_x) + a.value
    ), A = computed(
      () => n.itemInfo.actual_bound.y - r.value + n.itemInfo.actual_bound.height * n.itemInfo.scale_y / 2 - getCoordinateOffset(n.itemInfo.actual_bound.height, n.itemInfo.scale_y) + a.value
    ), w = (T, x) => {
      var L;
      c.intention === EGlobalStoreIntention.SetConnectionLineNode && (T.stopPropagation(), (L = c.handle_svg_info) != null && L.info.bind_anchors && c.connection_line_node_info && (c.connection_line_node_info.point_index === 0 ? c.handle_svg_info.info.bind_anchors.start = {
        type: x,
        target_id: n.itemInfo.id
      } : c.connection_line_node_info.point_index === c.handle_svg_info.info.props.point_position.val.length - 1 && (c.handle_svg_info.info.bind_anchors.end = {
        type: x,
        target_id: n.itemInfo.id
      }), c.intention = EGlobalStoreIntention.None, c.setHandleSvgInfo(null), nextTick(function() {
        moveAnchors(n.itemInfo);
      })));
    }, S = (T, x) => {
      var L;
      c.intention === EGlobalStoreIntention.None ? (createLine(T, x, n.itemInfo), c.handle_svg_info && (c.handle_svg_info.info.props.point_position.val.length !== 1 ? c.handle_svg_info.info.props.point_position.val.push({
        x: c.mouse_info.new_position_x - c.mouse_info.position_x - f.center_offset.x,
        y: c.mouse_info.new_position_y - c.mouse_info.position_y - f.center_offset.y
      }) : c.handle_svg_info.info.props.point_position.val.push({
        x: 0,
        y: 0
      }))) : c.intention === EGlobalStoreIntention.Connection && (T.stopPropagation(), (L = c.handle_svg_info) != null && L.info.bind_anchors && (c.handle_svg_info.info.bind_anchors.end = {
        type: x,
        target_id: n.itemInfo.id
      }, c.intention = EGlobalStoreIntention.None, c.setHandleSvgInfo(null), nextTick(function() {
        moveAnchors(n.itemInfo);
      })));
    };
    return (T, x) => (openBlock(), createElementBlock("g", {
      style: { "vector-effect": "non-scaling-stroke" },
      class: "connect-points",
      fill: unref(o),
      "stroke-width": "2",
      stroke: "rgba(0,0,0,0)"
    }, [
      createElementVNode("g", {
        onMousedown: x[0] || (x[0] = (L) => S(L, unref(ELineBindAnchors).TopCenter)),
        onMouseup: x[1] || (x[1] = (L) => w(L, unref(ELineBindAnchors).TopCenter))
      }, [
        createElementVNode("circle", {
          class: "out-circle",
          cx: unref(d),
          cy: unref(p),
          r: unref(u),
          "fill-opacity": ".3"
        }, null, 8, _hoisted_2$b),
        createElementVNode("circle", {
          id: "connection_tc",
          cx: unref(d),
          cy: unref(p),
          r: unref(a),
          "pointer-events": "all"
        }, null, 8, _hoisted_3$a)
      ], 32),
      createElementVNode("g", {
        onMousedown: x[2] || (x[2] = (L) => S(L, unref(ELineBindAnchors).Right)),
        onMouseup: x[3] || (x[3] = (L) => w(L, unref(ELineBindAnchors).Right))
      }, [
        createElementVNode("circle", {
          class: "out-circle",
          cx: unref(y),
          cy: unref(v),
          r: unref(u),
          "fill-opacity": ".3"
        }, null, 8, _hoisted_4$6),
        createElementVNode("circle", {
          id: "connection_r",
          cx: unref(y),
          cy: unref(v),
          r: unref(a),
          "pointer-events": "all"
        }, null, 8, _hoisted_5$4)
      ], 32),
      createElementVNode("g", {
        onMousedown: x[4] || (x[4] = (L) => S(L, unref(ELineBindAnchors).BottomCenter)),
        onMouseup: x[5] || (x[5] = (L) => w(L, unref(ELineBindAnchors).BottomCenter))
      }, [
        createElementVNode("circle", {
          class: "out-circle",
          cx: unref(g),
          cy: unref(_),
          r: unref(u),
          "fill-opacity": ".3"
        }, null, 8, _hoisted_6$2),
        createElementVNode("circle", {
          id: "connection_bc",
          cx: unref(g),
          cy: unref(_),
          r: unref(a),
          "pointer-events": "all"
        }, null, 8, _hoisted_7$2)
      ], 32),
      createElementVNode("g", {
        onMousedown: x[6] || (x[6] = (L) => S(L, unref(ELineBindAnchors).Left)),
        onMouseup: x[7] || (x[7] = (L) => w(L, unref(ELineBindAnchors).Left))
      }, [
        createElementVNode("circle", {
          class: "out-circle",
          cx: unref(b),
          cy: unref(A),
          r: unref(u),
          "fill-opacity": ".3"
        }, null, 8, _hoisted_8$2),
        createElementVNode("circle", {
          id: "connection_l",
          cx: unref(b),
          cy: unref(A),
          r: unref(a),
          style: { cursor: "crosshair" },
          "pointer-events": "all"
        }, null, 8, _hoisted_9$2)
      ], 32)
    ], 8, _hoisted_1$e));
  }
}), connectionPanel_vue_vue_type_style_index_0_scoped_fb729c7a_lang = "", ConnectionPanel = /* @__PURE__ */ _export_sfc$1(_sfc_main$z, [["__scopeId", "data-v-fb729c7a"]]), _hoisted_1$d = ["d", "stroke-width"], _hoisted_2$a = ["d", "stroke-width"], _hoisted_3$9 = ["id", "d", "stroke", "stroke-width", "stroke-dasharray"], _hoisted_4$5 = ["from", "to", "dur", "repeatCount"], _hoisted_5$3 = ["d", "stroke", "stroke-width", "stroke-dasharray"], _hoisted_6$1 = ["from", "to", "dur", "repeatCount"], _hoisted_7$1 = ["r", "fill"], _hoisted_8$1 = ["path", "dur", "repeatCount"], _hoisted_9$1 = ["cx", "cy", "r", "stroke-width"], _hoisted_10$1 = ["cx", "cy", "r", "stroke", "onMousedown"], _sfc_main$y = /* @__PURE__ */ defineComponent({
  __name: "connection-line",
  props: {
    itemInfo: {},
    pointVisible: { type: Boolean, default: !1 }
  },
  setup(i) {
    const n = i, r = useGlobalStore(pinia), o = useConfigStore(pinia), a = useSvgEditLayoutStore(pinia), u = (c, f, d, p) => {
      if (r.intention === EGlobalStoreIntention.Connection)
        return;
      r.setHandleSvgInfo(n.itemInfo);
      const { clientX: y, clientY: v } = f;
      f.stopPropagation(), r.connection_line_node_info = {
        init_pos: {
          x: d,
          y: p
        },
        point_index: c
      }, r.intention = EGlobalStoreIntention.SetConnectionLineNode, r.mouse_info = {
        state: EMouseInfoState.Down,
        position_x: Math.round((y - a.canvasInfo.left) / o.svg.scale),
        position_y: Math.round((v - a.canvasInfo.top) / o.svg.scale),
        now_position_x: 0,
        now_position_y: 0,
        new_position_x: 0,
        new_position_y: 0
      };
    };
    return (c, f) => {
      var d, p, y, v, g, _;
      return openBlock(), createElementBlock("g", {
        style: normalizeStyle$1({ cursor: unref(r).intention === unref(EGlobalStoreIntention).Connection ? "crosshair" : "move" })
      }, [
        withDirectives(createElementVNode("path", {
          d: unref(positionArrToPath)(n.itemInfo.props.point_position.val),
          fill: "none",
          "fill-opacity": "0",
          stroke: "#DE4517",
          "stroke-width": Math.ceil(n.itemInfo.props["stroke-width"].val * 1.2) + 1,
          "stroke-linecap": "round",
          "stroke-linejoin": "round"
        }, null, 8, _hoisted_1$d), [
          [vShow, n.itemInfo.selected || n.itemInfo.id === ((d = unref(r).handle_svg_info) == null ? void 0 : d.info.id)]
        ]),
        createElementVNode("path", {
          d: unref(positionArrToPath)(n.itemInfo.props.point_position.val),
          fill: "none",
          "fill-opacity": "0",
          stroke: "#fff",
          "stroke-opacity": ".01",
          "stroke-width": n.itemInfo.props["stroke-width"].val,
          "stroke-linecap": "round",
          "stroke-linejoin": "round"
        }, null, 8, _hoisted_2$a),
        createElementVNode("path", {
          id: n.itemInfo.id,
          d: unref(positionArrToPath)(n.itemInfo.props.point_position.val),
          fill: "none",
          stroke: ((p = n.itemInfo.animations) == null ? void 0 : p.type.val) === unref(EConfigAnimationsType).Electricity ? n.itemInfo.animations.color.val : n.itemInfo.props.stroke.val,
          "stroke-width": n.itemInfo.props["stroke-width"].val,
          "stroke-dashoffset": "0",
          "stroke-dasharray": ((y = n.itemInfo.animations) == null ? void 0 : y.type.val) === unref(EConfigAnimationsType).Electricity ? n.itemInfo.props["stroke-width"].val * 3 : 0,
          "stroke-linejoin": "round"
        }, [
          ((v = n.itemInfo.animations) == null ? void 0 : v.type.val) === unref(EConfigAnimationsType).Electricity ? (openBlock(), createElementBlock("animate", {
            key: 0,
            attributeName: "stroke-dashoffset",
            from: n.itemInfo.animations.reverse.val ? 0 : 1e3,
            to: n.itemInfo.animations.reverse.val ? 1e3 : 0,
            dur: `${n.itemInfo.animations.dur.val}s`,
            repeatCount: n.itemInfo.animations.repeatCount.val
          }, null, 8, _hoisted_4$5)) : createCommentVNode("", !0)
        ], 8, _hoisted_3$9),
        ((g = n.itemInfo.animations) == null ? void 0 : g.type.val) === unref(EConfigAnimationsType).WaterDrop ? (openBlock(), createElementBlock("path", {
          key: 0,
          d: unref(positionArrToPath)(n.itemInfo.props.point_position.val),
          fill: "none",
          "fill-opacity": "0",
          stroke: n.itemInfo.animations.color.val,
          "stroke-width": n.itemInfo.props["stroke-width"].val,
          "stroke-dasharray": n.itemInfo.props["stroke-width"].val * 3,
          "stroke-dashoffset": "0",
          "stroke-linecap": "round",
          "stroke-linejoin": "round"
        }, [
          createElementVNode("animate", {
            attributeName: "stroke-dashoffset",
            from: n.itemInfo.animations.reverse.val ? 0 : 1e3,
            to: n.itemInfo.animations.reverse.val ? 1e3 : 0,
            dur: `${n.itemInfo.animations.dur.val}s`,
            repeatCount: n.itemInfo.animations.repeatCount.val,
            fill: "freeze"
          }, null, 8, _hoisted_6$1)
        ], 8, _hoisted_5$3)) : ((_ = n.itemInfo.animations) == null ? void 0 : _.type.val) === unref(EConfigAnimationsType).Track ? (openBlock(), createElementBlock("circle", {
          key: 1,
          cx: "0",
          cy: "0",
          r: Math.ceil(n.itemInfo.props["stroke-width"].val * 0.6) + 2,
          fill: n.itemInfo.animations.color.val
        }, [
          createElementVNode("animateMotion", {
            path: unref(positionArrToPath)(
              n.itemInfo.animations.reverse.val ? [...n.itemInfo.props.point_position.val].reverse() : n.itemInfo.props.point_position.val
            ),
            dur: `${n.itemInfo.animations.dur.val}s`,
            repeatCount: n.itemInfo.animations.repeatCount.val
          }, null, 8, _hoisted_8$1)
        ], 8, _hoisted_7$1)) : createCommentVNode("", !0),
        createElementVNode("g", null, [
          (openBlock(!0), createElementBlock(Fragment, null, renderList(n.itemInfo.props.point_position.val, (b, A) => {
            var w;
            return withDirectives((openBlock(), createElementBlock("circle", {
              key: A,
              cx: b.x,
              cy: b.y,
              r: n.itemInfo.props.point_r.val + 1,
              fill: "none",
              "fill-opacity": "0",
              "stroke-width": Math.ceil(n.itemInfo.props.point_r.val * 0.2) + 1,
              stroke: "#DE4517"
            }, null, 8, _hoisted_9$1)), [
              [vShow, n.itemInfo.selected || n.itemInfo.id === ((w = unref(r).handle_svg_info) == null ? void 0 : w.info.id)]
            ]);
          }), 128)),
          (openBlock(!0), createElementBlock(Fragment, null, renderList(n.itemInfo.props.point_position.val, (b, A) => (openBlock(), createElementBlock("circle", {
            key: A,
            cx: b.x,
            cy: b.y,
            r: n.itemInfo.props.point_r.val,
            "stroke-width": "1",
            stroke: n.itemInfo.props.stroke.val,
            fill: "#fff",
            style: { cursor: "pointer" },
            onMousedown: (w) => u(A, w, b.x, b.y)
          }, null, 40, _hoisted_10$1))), 128))
        ])
      ], 4);
    };
  }
}), _hoisted_1$c = {
  id: "pattern_grid",
  patternUnits: "userSpaceOnUse",
  x: "0",
  y: "0",
  width: "20",
  height: "20"
}, _hoisted_2$9 = ["stroke"], _hoisted_3$8 = ["stroke"], _hoisted_4$4 = ["stroke"], _hoisted_5$2 = ["stroke"], _hoisted_6 = {
  key: 0,
  width: "100%",
  height: "100%",
  fill: "url(#pattern_grid)"
}, _hoisted_7 = ["transform"], _hoisted_8 = ["transform"], _hoisted_9 = ["transform", "onMousedown", "onMouseup", "onMouseenter", "onMouseleave", "onContextmenu"], _hoisted_10 = ["xlink:href", "id", "transform"], _hoisted_11 = ["id"], _hoisted_12$1 = ["id", "x1", "y1", "x2", "y2"], _hoisted_13 = ["id"], _hoisted_14 = ["x", "y", "height", "width"], _hoisted_15 = ["onClick"], _hoisted_16$1 = { class: "shortcut" }, _sfc_main$x = /* @__PURE__ */ defineComponent({
  __name: "center-panel",
  setup(i, { expose: n }) {
    useCssVars((pe) => ({
      "49c79b5f": unref(y)
    }));
    const r = useGlobalStore(pinia), o = useConfigStore(pinia), a = useSvgEditLayoutStore(pinia), u = useEditPrivateStore(pinia), c = useContextMenuStore(pinia);
    componentsRegister();
    const f = ref(), d = ref(), p = {
      MoveCanvas: "grab",
      Rotate: "url('/src/assets/icons/rotate.svg'), auto",
      Connection: "crosshair",
      SetConnectionLineNode: "crosshair"
    }, y = computed(() => Object.keys(p).indexOf(r.intention) > -1 ? p[r.intention] : "default"), v = reactive({
      handle_panel: computed(
        () => r.intention === EGlobalStoreIntention.Select || r.intention === EGlobalStoreIntention.Zoom || r.intention === EGlobalStoreIntention.Rotate
      ),
      connection_panel: !1,
      connection_line: !1,
      select_item: {
        info: null,
        index: -1
      }
    }), g = ref({
      a: {
        x: 0,
        y: 0
      },
      b: {
        x: 0,
        y: 0
      }
    }), _ = computed(() => r.intention === EGlobalStoreIntention.SelectArea && g.value.b.x && g.value.b.y ? {
      with: Math.abs(g.value.b.x - g.value.a.x),
      height: Math.abs(g.value.b.y - g.value.a.y),
      x: g.value.a.x < g.value.b.x ? g.value.a.x : g.value.b.x,
      y: g.value.a.y < g.value.b.y ? g.value.a.y : g.value.b.y
    } : {
      with: 0,
      height: 0,
      x: 0,
      y: 0
    }), b = computed(() => {
      let pe = 0;
      for (let Ne of r.done_json)
        Ne.selected && pe++;
      return pe > 0;
    });
    let A = !1, w = !1;
    const S = (pe) => {
      var Ne;
      if (r.intention != EGlobalStoreIntention.None) {
        if (r.intention == EGlobalStoreIntention.Create) {
          if (!r.create_svg_info) {
            console.error("要创建的数据获取失败");
            return;
          }
          const xe = Math.floor(pe.offsetX / o.svg.scale - a.center_offset.x), hn = Math.floor(pe.offsetY / o.svg.scale - a.center_offset.y), Pt = {
            id: randomString(),
            x: xe,
            y: hn,
            client: {
              x: xe,
              y: hn
            },
            scale_x: 1,
            scale_y: 1,
            rotate: 0,
            actual_bound: {
              x: 0,
              y: 0,
              width: 0,
              height: 0
            },
            center_position: {
              x: 0,
              y: 0
            },
            point_coordinate: {
              tl: {
                x: 0,
                y: 0
              },
              tc: {
                x: 0,
                y: 0
              },
              tr: {
                x: 0,
                y: 0
              },
              l: {
                x: 0,
                y: 0
              },
              r: {
                x: 0,
                y: 0
              },
              bl: {
                x: 0,
                y: 0
              },
              bc: {
                x: 0,
                y: 0
              },
              br: {
                x: 0,
                y: 0
              }
            },
            selected: !1,
            ...objectDeepClone(r.create_svg_info)
          };
          r.setDoneJson(Pt), r.setHandleSvgInfo(Pt, r.done_json.length), r.intention = EGlobalStoreIntention.None;
        }
        (Ne = d.value) == null || Ne.focus();
      }
    }, T = (pe) => {
      pe.preventDefault();
    }, x = (pe) => {
      pe.preventDefault();
    }, L = (pe, Ne, xe) => {
      var hn, Pt, _n;
      if ((hn = d.value) == null || hn.focus(), r.intention === EGlobalStoreIntention.Connection) {
        xe.stopPropagation();
        return;
      }
      if (xe.preventDefault(), xe.stopPropagation(), xe.ctrlKey && xe.button === 0)
        ((Pt = r.handle_svg_info) != null && Pt.index || ((_n = r.handle_svg_info) == null ? void 0 : _n.index) === 0) && (r.done_json[r.handle_svg_info.index].selected = !0, r.setHandleSvgInfo(null), r.intention = EGlobalStoreIntention.None), pe.selected = !pe.selected;
      else if (b.value) {
        r.intention = EGlobalStoreIntention.GroupMove, r.mouse_info = {
          state: EMouseInfoState.Down,
          position_x: Math.round((xe.clientX - a.canvasInfo.left) / o.svg.scale),
          position_y: Math.round((xe.clientY - a.canvasInfo.top) / o.svg.scale),
          now_position_x: 0,
          now_position_y: 0,
          new_position_x: 0,
          new_position_y: 0
        };
        for (let In of r.done_json)
          In.selected && (In.old_position = {
            x: In.x,
            y: In.y
          }, In.point_coordinate_old = objectDeepClone(In.point_coordinate));
      } else
        r.intention = EGlobalStoreIntention.Select, r.setHandleSvgInfo(pe, Ne), r.mouse_info = {
          state: EMouseInfoState.Down,
          position_x: Math.round((xe.clientX - a.canvasInfo.left) / o.svg.scale),
          position_y: Math.round((xe.clientY - a.canvasInfo.top) / o.svg.scale),
          now_position_x: pe.x,
          now_position_y: pe.y,
          new_position_x: 0,
          new_position_y: 0
        }, pe.point_coordinate_old = objectDeepClone(pe.point_coordinate);
    }, k = (pe, Ne, xe) => {
      if (!(r.intention === EGlobalStoreIntention.Connection || r.mouse_info.state != EMouseInfoState.Down) && b.value && !A && ["SelectArea", "Move", "Select"].indexOf(r.intention) < 0) {
        for (let hn of r.done_json)
          hn.selected = !1, hn.old_position = {
            x: 0,
            y: 0
          }, resetHandlePointOld(hn);
        r.intention = EGlobalStoreIntention.Select, r.setHandleSvgInfo(pe, Ne), r.mouse_info = {
          state: EMouseInfoState.Down,
          position_x: Math.round((xe.clientX - a.canvasInfo.left) / o.svg.scale),
          position_y: Math.round((xe.clientY - a.canvasInfo.top) / o.svg.scale),
          now_position_x: pe.x,
          now_position_y: pe.y,
          new_position_x: 0,
          new_position_y: 0
        };
      }
    }, M = (pe, Ne, xe) => {
      xe.preventDefault(), xe.stopPropagation(), v.connection_panel = !0, v.connection_line = !0, !((r.intention === EGlobalStoreIntention.Connection || r.intention === EGlobalStoreIntention.SetConnectionLineNode) && pe.type === EDoneJsonType.ConnectionLine) && (v.select_item.info = pe, v.select_item.index = Ne);
    }, O = (pe, Ne, xe) => {
      xe.preventDefault(), xe.stopPropagation(), !((r.intention === EGlobalStoreIntention.Connection || r.intention === EGlobalStoreIntention.SetConnectionLineNode) && pe.type === EDoneJsonType.ConnectionLine) && (v.connection_panel = !1, v.connection_line = !1, v.select_item.info = null, v.select_item.index = -1);
    }, ie = (pe) => {
      var _n, In, Dt, he, At, Lt, Cn, ze, _e, de, Et, Ve, $e, kt, jt, bn;
      if (r.mouse_info.state != EMouseInfoState.Down && r.intention !== EGlobalStoreIntention.Connection)
        return;
      const { clientX: Ne, clientY: xe } = pe;
      r.mouse_info.new_position_x = Math.round(
        (Ne - a.canvasInfo.left) / o.svg.scale
      ), r.mouse_info.new_position_y = Math.round(
        (xe - a.canvasInfo.top) / o.svg.scale
      );
      const hn = Math.round(
        r.mouse_info.new_position_x - r.mouse_info.position_x + r.mouse_info.now_position_x
      ), Pt = Math.round(
        r.mouse_info.new_position_y - r.mouse_info.position_y + r.mouse_info.now_position_y
      );
      if ((_n = r.handle_svg_info) != null && _n.info && (r.intention === EGlobalStoreIntention.Select || r.intention === EGlobalStoreIntention.Move)) {
        if (r.handle_svg_info.info.x = hn, r.handle_svg_info.info.y = Pt, r.handle_svg_info.info.client = {
          x: hn,
          y: Pt
        }, r.intention = EGlobalStoreIntention.Move, moveHandlePoint(r.handle_svg_info.info), moveAnchors(r.handle_svg_info.info), r.handle_svg_info.info.type === EDoneJsonType.ConnectionLine) {
          if ((In = r.handle_svg_info.info.bind_anchors) != null && In.start) {
            let oe = null;
            for (let ae of r.done_json)
              ae.id === ((he = (Dt = r.handle_svg_info.info.bind_anchors) == null ? void 0 : Dt.start) == null ? void 0 : he.target_id) && (oe = ae);
            oe && moveAnchors(oe);
          }
          if ((At = r.handle_svg_info.info.bind_anchors) != null && At.end) {
            let oe = null;
            for (let ae of r.done_json)
              ae.id === ((Cn = (Lt = r.handle_svg_info.info.bind_anchors) == null ? void 0 : Lt.end) == null ? void 0 : Cn.target_id) && (oe = ae);
            oe && moveAnchors(oe);
          }
        }
      } else if (r.intention === EGlobalStoreIntention.MoveCanvas)
        a.center_offset.x = hn, a.center_offset.y = Pt;
      else if (r.intention === EGlobalStoreIntention.SelectArea)
        g.value.b.x = r.mouse_info.new_position_x - a.center_offset.x, g.value.b.y = r.mouse_info.new_position_y - a.center_offset.y;
      else if (r.intention === EGlobalStoreIntention.GroupMove) {
        A = !0;
        for (let oe of r.done_json)
          if (oe.selected && oe.old_position) {
            const ae = Math.round(
              r.mouse_info.new_position_x - r.mouse_info.position_x + oe.old_position.x
            ), re = Math.round(
              r.mouse_info.new_position_y - r.mouse_info.position_y + oe.old_position.y
            );
            if (oe.x = ae, oe.y = re, oe.client = {
              x: ae,
              y: re
            }, moveHandlePoint(oe), moveAnchors(oe), oe.type === EDoneJsonType.ConnectionLine && ((ze = oe.bind_anchors) != null && ze.end)) {
              let V = null;
              for (let $ of r.done_json)
                $.id === ((de = (_e = oe.bind_anchors) == null ? void 0 : _e.end) == null ? void 0 : de.target_id) && (V = $);
              V && moveAnchors(V);
            }
          }
      } else if (r.intention === EGlobalStoreIntention.Zoom) {
        if (!r.handle_svg_info)
          return;
        const oe = {
          x: r.mouse_info.new_position_x - a.center_offset.x,
          y: r.mouse_info.new_position_y - a.center_offset.y
        };
        let ae = {
          width: 0,
          height: 0,
          is_old_width: !1,
          is_old_height: !1
        };
        if (r.scale_info.type === EScaleInfoType.TopLeft ? ae = calculateLeftTop(
          oe,
          r.scale_info.symmetric_point,
          r.handle_svg_info.info.rotate
        ) : r.scale_info.type === EScaleInfoType.TopRight ? ae = calculateRightTop(
          oe,
          r.scale_info.symmetric_point,
          r.handle_svg_info.info.rotate
        ) : r.scale_info.type === EScaleInfoType.BottomRight ? ae = calculateRightBottom(
          oe,
          r.scale_info.symmetric_point,
          r.handle_svg_info.info.rotate
        ) : r.scale_info.type === EScaleInfoType.BottomLeft ? ae = calculateLeftBottom(
          oe,
          r.scale_info.symmetric_point,
          r.handle_svg_info.info.rotate
        ) : r.scale_info.type === EScaleInfoType.TopCenter ? ae = calculateTop(
          oe,
          r.scale_info.symmetric_point,
          r.handle_svg_info.info.rotate,
          r.handle_svg_info.info.client
        ) : r.scale_info.type === EScaleInfoType.Right ? ae = calculateRight(
          oe,
          r.scale_info.symmetric_point,
          r.handle_svg_info.info.rotate,
          r.handle_svg_info.info.client
        ) : r.scale_info.type === EScaleInfoType.BottomCenter ? ae = calculateBottom(
          oe,
          r.scale_info.symmetric_point,
          r.handle_svg_info.info.rotate,
          r.handle_svg_info.info.client
        ) : r.scale_info.type === EScaleInfoType.Left && (ae = calculateLeft(
          oe,
          r.scale_info.symmetric_point,
          r.handle_svg_info.info.rotate,
          r.handle_svg_info.info.client
        )), r.handle_svg_info && ae.width > 0 && ae.height > 0) {
          const re = ae.is_old_width ? 1 : parseFloat((ae.width / r.handle_svg_info.info.actual_bound.width).toFixed(3)), V = ae.is_old_height ? 1 : parseFloat((ae.height / r.handle_svg_info.info.actual_bound.height).toFixed(3)), $ = getCenterPoint(oe, r.scale_info.symmetric_point);
          re > 0 && r.scale_info.type !== EScaleInfoType.TopCenter && r.scale_info.type !== EScaleInfoType.BottomCenter && (r.handle_svg_info.info.scale_x = re, r.handle_svg_info.info.x = Math.round(
            getSvgNowPosition(
              r.handle_svg_info.info.center_position.x,
              $.x,
              r.handle_svg_info.info.client.x
            )
          )), V > 0 && r.scale_info.type !== EScaleInfoType.Left && r.scale_info.type !== EScaleInfoType.Right && (r.handle_svg_info.info.scale_y = V, r.handle_svg_info.info.y = Math.round(
            getSvgNowPosition(
              r.handle_svg_info.info.center_position.y,
              $.y,
              r.handle_svg_info.info.client.y
            )
          ));
        }
      } else if (r.intention === EGlobalStoreIntention.Rotate) {
        if (!r.handle_svg_info)
          return;
        const oe = Math.atan2(
          r.mouse_info.position_y - r.handle_svg_info.info.y,
          r.mouse_info.position_x - r.handle_svg_info.info.x
        ) / (Math.PI / 180), ae = Math.atan2(
          r.mouse_info.new_position_y - a.center_offset.y - r.handle_svg_info.info.y,
          r.mouse_info.new_position_x - a.center_offset.x - r.handle_svg_info.info.x
        ) / (Math.PI / 180);
        r.handle_svg_info.info.rotate = parseFloat(
          (r.rotate_info.angle + ae - oe).toFixed(2)
        );
      } else if (r.intention === EGlobalStoreIntention.Connection && r.handle_svg_info) {
        const oe = (Et = r.handle_svg_info) == null ? void 0 : Et.info.props.point_position.val.length, ae = r.mouse_info.new_position_x - r.mouse_info.position_x - a.center_offset.x, re = r.mouse_info.new_position_y - r.mouse_info.position_y - a.center_offset.y, V = r.handle_svg_info.info.props.point_position.val[oe - 2], $ = (($e = (Ve = r.handle_svg_info) == null ? void 0 : Ve.info.props.point_r) == null ? void 0 : $e.val) + 2 || 4;
        let le = V.x < ae ? -$ : V.x > ae ? $ : 0, Oe = V.y < re ? -$ : V.y > re ? $ : 0;
        pe.ctrlKey ? r.handle_svg_info.info.props.point_position.val[oe - 1] = {
          x: V.x,
          y: re + Oe
        } : pe.shiftKey ? r.handle_svg_info.info.props.point_position.val[oe - 1] = {
          x: ae + le,
          y: V.y
        } : r.handle_svg_info.info.props.point_position.val[oe - 1] = {
          x: ae + le,
          y: re + Oe
        };
      } else if (r.intention === EGlobalStoreIntention.SetConnectionLineNode && r.handle_svg_info) {
        !w && (r.connection_line_node_info.point_index === r.handle_svg_info.info.props.point_position.val.length - 1 || r.connection_line_node_info.point_index === 0) && (w = !0);
        const oe = (kt = r.handle_svg_info) == null ? void 0 : kt.info.props.point_position.val.length, ae = getSvgNowPosition(
          r.mouse_info.position_x,
          r.mouse_info.new_position_x,
          r.connection_line_node_info.init_pos.x
        ), re = getSvgNowPosition(
          r.mouse_info.position_y,
          r.mouse_info.new_position_y,
          r.connection_line_node_info.init_pos.y
        ), V = r.handle_svg_info.info.props.point_position.val[oe - 2], $ = ((bn = (jt = r.handle_svg_info) == null ? void 0 : jt.info.props.point_r) == null ? void 0 : bn.val) + 2 || 4;
        let le = V.x < ae ? -$ : V.x > ae ? $ : 0, Oe = V.y < re ? -$ : V.y > re ? $ : 0;
        r.handle_svg_info.info.props.point_position.val[r.connection_line_node_info.point_index] = {
          x: ae + le,
          y: re + Oe
        };
      }
    }, F = () => {
      var pe, Ne, xe, hn;
      if (r.mouse_info.state == EMouseInfoState.Down) {
        if ((pe = r.handle_svg_info) != null && pe.info && r.intention == EGlobalStoreIntention.Move)
          setSvgActualInfo(r.done_json[r.handle_svg_info.index]), r.intention = EGlobalStoreIntention.None, r.setDoneJson(r.done_json);
        else if (r.intention == EGlobalStoreIntention.GroupMove)
          A && (A = !1, r.intention = EGlobalStoreIntention.None);
        else if ((Ne = r.handle_svg_info) != null && Ne.info && r.intention == EGlobalStoreIntention.Zoom)
          r.handle_svg_info.info.client = {
            x: r.handle_svg_info.info.x,
            y: r.handle_svg_info.info.y
          }, r.intention = EGlobalStoreIntention.None, setSvgActualInfo(r.done_json[r.handle_svg_info.index]), r.setDoneJson(r.done_json);
        else if (r.intention === EGlobalStoreIntention.Rotate && ((xe = r.handle_svg_info) != null && xe.info))
          setSvgActualInfo(r.done_json[r.handle_svg_info.index]), r.setDoneJson(r.done_json), r.intention = EGlobalStoreIntention.None;
        else {
          if (r.intention === EGlobalStoreIntention.Connection)
            return;
          if (r.intention === EGlobalStoreIntention.SetConnectionLineNode)
            w && ((hn = r.handle_svg_info) != null && hn.info.bind_anchors) && (r.connection_line_node_info.point_index === 0 ? r.handle_svg_info.info.bind_anchors.start = null : r.handle_svg_info.info.bind_anchors.end = null), r.intention = EGlobalStoreIntention.None, w = !1;
          else if (r.intention === EGlobalStoreIntention.SelectArea) {
            r.setHandleSvgInfo(null);
            for (let Pt of r.done_json) {
              const _n = _.value;
              Pt.selected = Pt.x > _n.x && Pt.x < _n.x + _n.with && Pt.y > _n.y && Pt.y < _n.y + _n.height;
            }
            r.intention = EGlobalStoreIntention.None;
          } else
            r.intention != EGlobalStoreIntention.Select && (r.intention = EGlobalStoreIntention.None);
        }
        r.mouse_info = {
          state: EMouseInfoState.Up,
          position_x: 0,
          position_y: 0,
          now_position_x: 0,
          now_position_y: 0,
          new_position_x: 0,
          new_position_y: 0
        }, c.display = !1;
      }
    }, j = (pe) => {
      const { clientX: Ne, clientY: xe } = pe;
      if (r.intention === EGlobalStoreIntention.Connection) {
        r.handle_svg_info || createLine(pe), r.handle_svg_info && (pe.button === 0 ? r.handle_svg_info.info.props.point_position.val.length !== 1 ? r.handle_svg_info.info.props.point_position.val.push({
          x: r.mouse_info.new_position_x - r.mouse_info.position_x - a.center_offset.x,
          y: r.mouse_info.new_position_y - r.mouse_info.position_y - a.center_offset.y
        }) : r.handle_svg_info.info.props.point_position.val.push({
          x: 0,
          y: 0
        }) : pe.button === 2 && (r.intention = EGlobalStoreIntention.None, setSvgActualInfo(r.done_json[r.handle_svg_info.index]), r.setHandleSvgInfo(null)));
        return;
      }
      pe.button === 0 ? (r.intention = EGlobalStoreIntention.SelectArea, r.mouse_info = {
        state: EMouseInfoState.Down,
        position_x: Math.round(
          (Ne - a.canvasInfo.left) / o.svg.scale - a.center_offset.x
        ),
        position_y: Math.round(
          (xe - a.canvasInfo.top) / o.svg.scale - a.center_offset.y
        ),
        now_position_x: 0,
        now_position_y: 0,
        new_position_x: 0,
        new_position_y: 0
      }, g.value = {
        a: {
          x: r.mouse_info.position_x,
          y: r.mouse_info.position_y
        },
        b: {
          x: 0,
          y: 0
        }
      }) : pe.button === 2 && (r.intention = EGlobalStoreIntention.MoveCanvas, r.mouse_info = {
        state: EMouseInfoState.Down,
        position_x: Math.round((Ne - a.canvasInfo.left) / o.svg.scale),
        position_y: Math.round((xe - a.canvasInfo.top) / o.svg.scale),
        now_position_x: a.center_offset.x,
        now_position_y: a.center_offset.y,
        new_position_x: 0,
        new_position_y: 0
      });
    };
    function D(pe) {
      pe != null && pe.wheelDelta && (pe.wheelDelta > 0 ? o.svg.scale = parseFloat((o.svg.scale + 0.1).toFixed(1)) : o.svg.scale = parseFloat((o.svg.scale - 0.1).toFixed(1)));
    }
    const Y = (pe) => {
      pe.stopPropagation(), pe.preventDefault();
    }, z = (pe, Ne, xe) => {
      r.intention !== EGlobalStoreIntention.Connection && f.value && (r.intention = EGlobalStoreIntention.ContextMenu, r.setHandleSvgInfo(pe, Ne), f.value.style.left = xe.pageX + "px", f.value.style.top = xe.pageY + "px", c.info.MoveUpOneLevel.enable = c.info.MoveUpTopLevel.enable = c.info.MoveDownOneLevel.enable = c.info.MoveDownTopLevel.enable = !0, Ne === r.done_json.length - 1 && (c.info.MoveUpOneLevel.enable = c.info.MoveUpTopLevel.enable = !1), Ne === 0 && (c.info.MoveDownOneLevel.enable = c.info.MoveDownTopLevel.enable = !1), c.display = !0);
    }, Ie = (pe, Ne, xe) => ({
      x: parseFloat((pe.x - pe.width / 2 * Ne + pe.width / 2).toFixed(1)),
      y: parseFloat((pe.y - pe.height / 2 * xe + pe.height / 2).toFixed(1)),
      width: parseFloat((pe.width * Ne).toFixed(1)),
      height: parseFloat((pe.height * xe).toFixed(1))
    }), ue = (pe) => {
      pe.preventDefault();
      let Ne = [];
      if (!pe.ctrlKey && ["ArrowUp", "ArrowDown", "ArrowLeft", "ArrowRight"].indexOf(pe.key) > -1 && (b.value ? Ne = r.done_json.map((xe, hn) => ({
        selected: xe.selected,
        i: hn
      })).filter((xe) => xe.selected).map((xe) => xe.i) : r.handle_svg_info && Ne.push(r.handle_svg_info.index)), !pe.ctrlKey && pe.key == "ArrowUp") {
        for (let xe of Ne)
          r.done_json[xe].y -= 1, r.done_json[xe].client.y -= 1, moveHandlePoint(r.done_json[xe], 0, -1), moveAnchors(r.done_json[xe]);
        useHistoryRecord(r.done_json);
      } else if (!pe.ctrlKey && pe.key == "ArrowDown") {
        for (let xe of Ne)
          r.done_json[xe].y += 1, r.done_json[xe].client.y += 1, moveHandlePoint(r.done_json[xe], 0, 1), moveAnchors(r.done_json[xe]);
        useHistoryRecord(r.done_json);
      } else if (!pe.ctrlKey && pe.key == "ArrowLeft") {
        for (let xe of Ne)
          r.done_json[xe].x -= 1, r.done_json[xe].client.x -= 1, moveHandlePoint(r.done_json[xe], -1, 0), moveAnchors(r.done_json[xe]);
        useHistoryRecord(r.done_json);
      } else if (!pe.ctrlKey && pe.key == "ArrowRight") {
        for (let xe of Ne)
          r.done_json[xe].x += 1, r.done_json[xe].client.x += 1, moveHandlePoint(r.done_json[xe], 1, 0), moveAnchors(r.done_json[xe]);
        useHistoryRecord(r.done_json);
      } else
        pe.ctrlKey && pe.key.toLowerCase() == "c" ? c.onContextMenuClick(EContextMenuInfoType.Copy) : !pe.ctrlKey && pe.key == "Delete" ? b.value ? (r.setDoneJson(r.done_json.filter((xe) => !xe.selected)), r.setHandleSvgInfo(
          r.done_json[r.done_json.length - 1],
          r.done_json.length - 1
        )) : c.onContextMenuClick(EContextMenuInfoType.Delete) : pe.ctrlKey && pe.key == "ArrowUp" ? c.onContextMenuClick(EContextMenuInfoType.MoveUpOneLevel) : pe.ctrlKey && pe.key == "ArrowDown" ? c.onContextMenuClick(EContextMenuInfoType.MoveDownOneLevel) : pe.ctrlKey && pe.key == "ArrowLeft" ? c.onContextMenuClick(EContextMenuInfoType.MoveDownTopLevel) : pe.ctrlKey && pe.key == "ArrowRight" ? c.onContextMenuClick(EContextMenuInfoType.MoveUpTopLevel) : pe.ctrlKey && pe.shiftKey && pe.key.toLowerCase() == "z" ? u.topRedoBtnClick() : pe.ctrlKey && pe.key.toLowerCase() == "z" ? u.topUndoBtnClick() : pe.ctrlKey && pe.key.toLowerCase() == "delete" && (r.done_json.length <= 0 || r.setDoneJson([]));
    }, Ce = () => {
      setSvgActualInfo(r.done_json[r.handle_svg_info.index], !0);
    };
    return onMounted(() => {
      var pe;
      (pe = d.value) == null || pe.focus(), nextTick(function() {
        var xe;
        const Ne = (xe = d.value) == null ? void 0 : xe.getBoundingClientRect();
        a.canvasInfo = {
          height: (Ne == null ? void 0 : Ne.height) || 0,
          with: (Ne == null ? void 0 : Ne.width) || 0,
          top: (Ne == null ? void 0 : Ne.top) || 0,
          left: (Ne == null ? void 0 : Ne.left) || 0
        };
      });
    }), n({ onCanvasMouseUp: F }), (pe, Ne) => (openBlock(), createElementBlock(Fragment, null, [
      createElementVNode("div", {
        class: "canvas",
        tabindex: "0",
        ref_key: "canvasRef",
        ref: d,
        onDrop: S,
        onDragenter: T,
        onDragover: x,
        onMousedown: j,
        onMousemove: ie,
        onMouseup: F,
        onContextmenu: Y,
        onKeydown: ue,
        onMousewheel: D
      }, [
        (openBlock(), createElementBlock("svg", {
          xmlns: "http://www.w3.org/2000/svg",
          style: normalizeStyle$1({ backgroundColor: unref(o).svg.background_color }),
          width: "100%",
          height: "100%"
        }, [
          createElementVNode("defs", null, [
            createElementVNode("pattern", _hoisted_1$c, [
              createElementVNode("line", {
                x1: "0",
                y1: "0",
                x2: "0",
                y2: "20",
                stroke: unref(o).svg.grid_color
              }, null, 8, _hoisted_2$9),
              createElementVNode("line", {
                x1: "10",
                y1: "0",
                x2: "10",
                y2: "20",
                stroke: unref(o).svg.grid_color
              }, null, 8, _hoisted_3$8),
              createElementVNode("line", {
                x1: "0",
                y1: "0",
                x2: "20",
                y2: "0",
                stroke: unref(o).svg.grid_color
              }, null, 8, _hoisted_4$4),
              createElementVNode("line", {
                x1: "0",
                y1: "10",
                x2: "20",
                y2: "10",
                stroke: unref(o).svg.grid_color
              }, null, 8, _hoisted_5$2)
            ])
          ]),
          unref(o).svg.grid ? (openBlock(), createElementBlock("rect", _hoisted_6)) : createCommentVNode("", !0),
          createElementVNode("g", {
            transform: `translate(${unref(a).center_offset.x * unref(o).svg.scale},${unref(a).center_offset.y * unref(o).svg.scale})rotate(0)scale(${unref(o).svg.scale})`
          }, [
            (openBlock(!0), createElementBlock(Fragment, null, renderList(unref(r).done_json, (xe, hn) => {
              var Pt, _n, In, Dt, he, At;
              return withDirectives((openBlock(), createElementBlock("g", {
                key: xe.id,
                transform: `translate(${xe.x},${xe.y})rotate(0)scale(1)`,
                onMousewheel: Ne[0] || (Ne[0] = //@ts-ignore
                (...Lt) => unref(stopEvent) && unref(stopEvent)(...Lt))
              }, [
                createElementVNode("g", {
                  class: normalizeClass(`${unref(getCommonClass)(xe)}`)
                }, [
                  createElementVNode("g", {
                    transform: `translate(${xe.actual_bound.x + xe.actual_bound.width / 2},${xe.actual_bound.y + xe.actual_bound.height / 2})rotate(${xe.rotate}) scale(1) translate(${-(xe.actual_bound.x + xe.actual_bound.width / 2)},${-(xe.actual_bound.y + xe.actual_bound.height / 2)})`,
                    onMousedown: (Lt) => L(xe, hn, Lt),
                    onMouseup: (Lt) => k(xe, hn, Lt),
                    onMouseenter: (Lt) => M(xe, hn, Lt),
                    onMouseleave: (Lt) => O(xe, hn, Lt),
                    onContextmenu: (Lt) => z(xe, hn, Lt)
                  }, [
                    xe.type === unref(EDoneJsonType).ConnectionLine ? (openBlock(), createBlock(_sfc_main$y, {
                      key: 0,
                      "item-info": xe,
                      "point-visible": unref(v).connection_line && ((Pt = unref(v).select_item.info) == null ? void 0 : Pt.id) == xe.id
                    }, null, 8, ["item-info", "point-visible"])) : xe.type === unref(EDoneJsonType).File ? (openBlock(), createElementBlock("use", mergeProps({
                      key: 1,
                      "xlink:href": `#svg-${xe.name}`
                    }, unref(prosToVBind)(xe), {
                      width: "100",
                      height: "100",
                      id: xe.id,
                      transform: `translate(${xe.actual_bound.x + xe.actual_bound.width / 2},${xe.actual_bound.y + xe.actual_bound.height / 2}) scale(${xe.scale_x},${xe.scale_y}) translate(${-(xe.actual_bound.x + xe.actual_bound.width / 2)},${-(xe.actual_bound.y + xe.actual_bound.height / 2)})`
                    }), null, 16, _hoisted_10)) : xe.type === unref(EDoneJsonType).CustomSvg ? (openBlock(), createBlock(resolveDynamicComponent(xe.tag), mergeProps({ key: 2 }, unref(prosToVBind)(xe), {
                      width: "100",
                      height: "100",
                      id: xe.id,
                      onResize: Ce,
                      transform: `translate(${xe.actual_bound.x + xe.actual_bound.width / 2},${xe.actual_bound.y + xe.actual_bound.height / 2}) scale(${xe.scale_x},${xe.scale_y}) translate(${-(xe.actual_bound.x + xe.actual_bound.width / 2)},${-(xe.actual_bound.y + xe.actual_bound.height / 2)})`
                    }), null, 16, ["id", "transform"])) : xe.type === unref(EDoneJsonType).Vue ? (openBlock(), createElementBlock("foreignObject", mergeProps({ key: 3 }, Ie(xe.actual_bound, xe.scale_x, xe.scale_y), {
                      id: `foreign-object${xe.id}`,
                      class: "foreignObject"
                    }), [
                      (openBlock(), createBlock(resolveDynamicComponent(xe.tag), mergeProps(unref(prosToVBind)(xe), {
                        id: xe.id,
                        transform: `translate(${xe.actual_bound.x + xe.actual_bound.width / 2},${xe.actual_bound.y + xe.actual_bound.height / 2}) scale(${xe.scale_x},${xe.scale_y}) translate(${-(xe.actual_bound.x + xe.actual_bound.width / 2)},${-(xe.actual_bound.y + xe.actual_bound.height / 2)})`
                      }), {
                        default: withCtx(() => [
                          createTextVNode(toDisplayString(xe.tag_slot), 1)
                        ]),
                        _: 2
                      }, 1040, ["id", "transform"]))
                    ], 16, _hoisted_11)) : xe.type === unref(EDoneJsonType).StraightLine ? (openBlock(), createElementBlock("line", {
                      key: 4,
                      id: xe.id,
                      x1: xe.props.start_x.val,
                      y1: xe.props.start_y.val,
                      x2: xe.props.end_x.val,
                      y2: xe.props.end_y.val,
                      fill: "#FF0000",
                      stroke: "#FF0000",
                      "stroke-width": "2"
                    }, null, 8, _hoisted_12$1)) : createCommentVNode("", !0),
                    xe.config.actual_rect ? (openBlock(), createElementBlock("rect", mergeProps({
                      key: 5,
                      id: `rect${xe.id}`,
                      fill: "black",
                      "fill-opacity": "0"
                    }, Ie(xe.actual_bound, xe.scale_x, xe.scale_y), {
                      style: { stroke: "none", "stroke-width": "2", "stroke-miterlimit": "10" },
                      class: {
                        "svg-item-none": !xe.selected && (unref(r).intention == unref(EGlobalStoreIntention).None || unref(r).intention == unref(EGlobalStoreIntention).Select),
                        "svg-item-move": unref(r).intention == unref(EGlobalStoreIntention).Move && ((_n = unref(r).handle_svg_info) == null ? void 0 : _n.info.id) == xe.id,
                        "svg-item-select": unref(r).intention == unref(EGlobalStoreIntention).Select && ((In = unref(r).handle_svg_info) == null ? void 0 : In.info.id) == xe.id,
                        "svg-item-in-group": xe.selected
                      }
                    }), null, 16, _hoisted_13)) : createCommentVNode("", !0),
                    ((Dt = unref(r).handle_svg_info) == null ? void 0 : Dt.info.id) === xe.id && unref(v).handle_panel && xe.type !== unref(EDoneJsonType).ConnectionLine ? (openBlock(), createBlock(HandlePanel, {
                      key: 6,
                      "item-info": xe
                    }, null, 8, ["item-info"])) : createCommentVNode("", !0),
                    !xe.selected && ((he = unref(v).select_item.info) == null ? void 0 : he.id) == xe.id && unref(v).connection_panel && xe.config.have_anchor && unref(r).intention !== unref(EGlobalStoreIntention).SelectArea && (unref(r).intention !== unref(EGlobalStoreIntention).Select || xe.id !== ((At = unref(r).handle_svg_info) == null ? void 0 : At.info.id)) ? (openBlock(), createBlock(ConnectionPanel, {
                      key: 7,
                      onContextmenu: Y,
                      "item-info": xe
                    }, null, 8, ["item-info"])) : createCommentVNode("", !0)
                  ], 40, _hoisted_9)
                ], 2)
              ], 40, _hoisted_8)), [
                [vShow, xe.display]
              ]);
            }), 128)),
            createElementVNode("rect", {
              x: unref(_).x,
              y: unref(_).y,
              height: unref(_).height,
              width: unref(_).with,
              stroke: "#107cec",
              fill: "#107cec",
              "fill-opacity": ".2"
            }, null, 8, _hoisted_14)
          ], 8, _hoisted_7)
        ], 4))
      ], 544),
      withDirectives(createElementVNode("ul", {
        ref_key: "contextMenuRef",
        ref: f,
        class: "contextMenu"
      }, [
        (openBlock(!0), createElementBlock(Fragment, null, renderList(unref(c).info, (xe, hn) => (openBlock(), createElementBlock("li", {
          key: xe.title,
          onClick: (Pt) => unref(c).onContextMenuClick(hn)
        }, [
          createElementVNode("p", {
            class: normalizeClass(xe.enable ? "" : "disabled")
          }, [
            createTextVNode(toDisplayString(xe.title) + " ", 1),
            createElementVNode("span", _hoisted_16$1, toDisplayString(xe.hot_key), 1)
          ], 2)
        ], 8, _hoisted_15))), 128))
      ], 512), [
        [vShow, unref(c).display]
      ])
    ], 64));
  }
}), centerPanel_vue_vue_type_style_index_0_scoped_97a3211c_lang = "", CenterPanel = /* @__PURE__ */ _export_sfc$1(_sfc_main$x, [["__scopeId", "data-v-97a3211c"]]);
/*! Element Plus Icons Vue v2.1.0 */
var export_helper_default = (i, n) => {
  let r = i.__vccOpts || i;
  for (let [o, a] of n)
    r[o] = a;
  return r;
}, aim_vue_vue_type_script_lang_default = {
  name: "Aim"
}, _hoisted_12 = {
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 1024 1024"
}, _hoisted_22 = /* @__PURE__ */ createElementVNode(
  "path",
  {
    fill: "currentColor",
    d: "M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"
  },
  null,
  -1
  /* HOISTED */
), _hoisted_32 = /* @__PURE__ */ createElementVNode(
  "path",
  {
    fill: "currentColor",
    d: "M512 96a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V128a32 32 0 0 1 32-32zm0 576a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V704a32 32 0 0 1 32-32zM96 512a32 32 0 0 1 32-32h192a32 32 0 0 1 0 64H128a32 32 0 0 1-32-32zm576 0a32 32 0 0 1 32-32h192a32 32 0 1 1 0 64H704a32 32 0 0 1-32-32z"
  },
  null,
  -1
  /* HOISTED */
), _hoisted_42 = [
  _hoisted_22,
  _hoisted_32
];
function _sfc_render2(i, n, r, o, a, u) {
  return openBlock(), createElementBlock("svg", _hoisted_12, _hoisted_42);
}
var aim_default = /* @__PURE__ */ export_helper_default(aim_vue_vue_type_script_lang_default, [["render", _sfc_render2], ["__file", "aim.vue"]]), arrow_down_vue_vue_type_script_lang_default = {
  name: "ArrowDown"
}, _hoisted_16 = {
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 1024 1024"
}, _hoisted_26 = /* @__PURE__ */ createElementVNode(
  "path",
  {
    fill: "currentColor",
    d: "M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"
  },
  null,
  -1
  /* HOISTED */
), _hoisted_36 = [
  _hoisted_26
];
function _sfc_render6(i, n, r, o, a, u) {
  return openBlock(), createElementBlock("svg", _hoisted_16, _hoisted_36);
}
var arrow_down_default = /* @__PURE__ */ export_helper_default(arrow_down_vue_vue_type_script_lang_default, [["render", _sfc_render6], ["__file", "arrow-down.vue"]]), circle_check_vue_vue_type_script_lang_default = {
  name: "CircleCheck"
}, _hoisted_149 = {
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 1024 1024"
}, _hoisted_249 = /* @__PURE__ */ createElementVNode(
  "path",
  {
    fill: "currentColor",
    d: "M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"
  },
  null,
  -1
  /* HOISTED */
), _hoisted_348 = /* @__PURE__ */ createElementVNode(
  "path",
  {
    fill: "currentColor",
    d: "M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"
  },
  null,
  -1
  /* HOISTED */
), _hoisted_415 = [
  _hoisted_249,
  _hoisted_348
];
function _sfc_render49(i, n, r, o, a, u) {
  return openBlock(), createElementBlock("svg", _hoisted_149, _hoisted_415);
}
var circle_check_default = /* @__PURE__ */ export_helper_default(circle_check_vue_vue_type_script_lang_default, [["render", _sfc_render49], ["__file", "circle-check.vue"]]), circle_close_vue_vue_type_script_lang_default = {
  name: "CircleClose"
}, _hoisted_151 = {
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 1024 1024"
}, _hoisted_251 = /* @__PURE__ */ createElementVNode(
  "path",
  {
    fill: "currentColor",
    d: "m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248L466.752 512z"
  },
  null,
  -1
  /* HOISTED */
), _hoisted_350 = /* @__PURE__ */ createElementVNode(
  "path",
  {
    fill: "currentColor",
    d: "M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"
  },
  null,
  -1
  /* HOISTED */
), _hoisted_416 = [
  _hoisted_251,
  _hoisted_350
];
function _sfc_render51(i, n, r, o, a, u) {
  return openBlock(), createElementBlock("svg", _hoisted_151, _hoisted_416);
}
var circle_close_default = /* @__PURE__ */ export_helper_default(circle_close_vue_vue_type_script_lang_default, [["render", _sfc_render51], ["__file", "circle-close.vue"]]), close_vue_vue_type_script_lang_default = {
  name: "Close"
}, _hoisted_156 = {
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 1024 1024"
}, _hoisted_256 = /* @__PURE__ */ createElementVNode(
  "path",
  {
    fill: "currentColor",
    d: "M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"
  },
  null,
  -1
  /* HOISTED */
), _hoisted_355 = [
  _hoisted_256
];
function _sfc_render56(i, n, r, o, a, u) {
  return openBlock(), createElementBlock("svg", _hoisted_156, _hoisted_355);
}
var close_default = /* @__PURE__ */ export_helper_default(close_vue_vue_type_script_lang_default, [["render", _sfc_render56], ["__file", "close.vue"]]), hide_vue_vue_type_script_lang_default = {
  name: "Hide"
}, _hoisted_1133 = {
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 1024 1024"
}, _hoisted_2133 = /* @__PURE__ */ createElementVNode(
  "path",
  {
    fill: "currentColor",
    d: "M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2L371.2 588.8ZM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z"
  },
  null,
  -1
  /* HOISTED */
), _hoisted_3132 = /* @__PURE__ */ createElementVNode(
  "path",
  {
    fill: "currentColor",
    d: "M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z"
  },
  null,
  -1
  /* HOISTED */
), _hoisted_438 = [
  _hoisted_2133,
  _hoisted_3132
];
function _sfc_render133(i, n, r, o, a, u) {
  return openBlock(), createElementBlock("svg", _hoisted_1133, _hoisted_438);
}
var hide_default = /* @__PURE__ */ export_helper_default(hide_vue_vue_type_script_lang_default, [["render", _sfc_render133], ["__file", "hide.vue"]]), loading_vue_vue_type_script_lang_default = {
  name: "Loading"
}, _hoisted_1150 = {
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 1024 1024"
}, _hoisted_2150 = /* @__PURE__ */ createElementVNode(
  "path",
  {
    fill: "currentColor",
    d: "M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32zm0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32zm448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32zm-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32zM195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0zm-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"
  },
  null,
  -1
  /* HOISTED */
), _hoisted_3149 = [
  _hoisted_2150
];
function _sfc_render150(i, n, r, o, a, u) {
  return openBlock(), createElementBlock("svg", _hoisted_1150, _hoisted_3149);
}
var loading_default = /* @__PURE__ */ export_helper_default(loading_vue_vue_type_script_lang_default, [["render", _sfc_render150], ["__file", "loading.vue"]]), view_vue_vue_type_script_lang_default = {
  name: "View"
}, _hoisted_1283 = {
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 1024 1024"
}, _hoisted_2283 = /* @__PURE__ */ createElementVNode(
  "path",
  {
    fill: "currentColor",
    d: "M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352zm0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448zm0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160z"
  },
  null,
  -1
  /* HOISTED */
), _hoisted_3282 = [
  _hoisted_2283
];
function _sfc_render283(i, n, r, o, a, u) {
  return openBlock(), createElementBlock("svg", _hoisted_1283, _hoisted_3282);
}
var view_default = /* @__PURE__ */ export_helper_default(view_vue_vue_type_script_lang_default, [["render", _sfc_render283], ["__file", "view.vue"]]), MapShim = function() {
  if (typeof Map < "u")
    return Map;
  function i(n, r) {
    var o = -1;
    return n.some(function(a, u) {
      return a[0] === r ? (o = u, !0) : !1;
    }), o;
  }
  return (
    /** @class */
    function() {
      function n() {
        this.__entries__ = [];
      }
      return Object.defineProperty(n.prototype, "size", {
        /**
         * @returns {boolean}
         */
        get: function() {
          return this.__entries__.length;
        },
        enumerable: !0,
        configurable: !0
      }), n.prototype.get = function(r) {
        var o = i(this.__entries__, r), a = this.__entries__[o];
        return a && a[1];
      }, n.prototype.set = function(r, o) {
        var a = i(this.__entries__, r);
        ~a ? this.__entries__[a][1] = o : this.__entries__.push([r, o]);
      }, n.prototype.delete = function(r) {
        var o = this.__entries__, a = i(o, r);
        ~a && o.splice(a, 1);
      }, n.prototype.has = function(r) {
        return !!~i(this.__entries__, r);
      }, n.prototype.clear = function() {
        this.__entries__.splice(0);
      }, n.prototype.forEach = function(r, o) {
        o === void 0 && (o = null);
        for (var a = 0, u = this.__entries__; a < u.length; a++) {
          var c = u[a];
          r.call(o, c[1], c[0]);
        }
      }, n;
    }()
  );
}(), isBrowser = typeof window < "u" && typeof document < "u" && window.document === document, global$1 = function() {
  return typeof global < "u" && global.Math === Math ? global : typeof self < "u" && self.Math === Math ? self : typeof window < "u" && window.Math === Math ? window : Function("return this")();
}(), requestAnimationFrame$1 = function() {
  return typeof requestAnimationFrame == "function" ? requestAnimationFrame.bind(global$1) : function(i) {
    return setTimeout(function() {
      return i(Date.now());
    }, 1e3 / 60);
  };
}(), trailingTimeout = 2;
function throttle(i, n) {
  var r = !1, o = !1, a = 0;
  function u() {
    r && (r = !1, i()), o && f();
  }
  function c() {
    requestAnimationFrame$1(u);
  }
  function f() {
    var d = Date.now();
    if (r) {
      if (d - a < trailingTimeout)
        return;
      o = !0;
    } else
      r = !0, o = !1, setTimeout(c, n);
    a = d;
  }
  return f;
}
var REFRESH_DELAY = 20, transitionKeys = ["top", "right", "bottom", "left", "width", "height", "size", "weight"], mutationObserverSupported = typeof MutationObserver < "u", ResizeObserverController = (
  /** @class */
  function() {
    function i() {
      this.connected_ = !1, this.mutationEventsAdded_ = !1, this.mutationsObserver_ = null, this.observers_ = [], this.onTransitionEnd_ = this.onTransitionEnd_.bind(this), this.refresh = throttle(this.refresh.bind(this), REFRESH_DELAY);
    }
    return i.prototype.addObserver = function(n) {
      ~this.observers_.indexOf(n) || this.observers_.push(n), this.connected_ || this.connect_();
    }, i.prototype.removeObserver = function(n) {
      var r = this.observers_, o = r.indexOf(n);
      ~o && r.splice(o, 1), !r.length && this.connected_ && this.disconnect_();
    }, i.prototype.refresh = function() {
      var n = this.updateObservers_();
      n && this.refresh();
    }, i.prototype.updateObservers_ = function() {
      var n = this.observers_.filter(function(r) {
        return r.gatherActive(), r.hasActive();
      });
      return n.forEach(function(r) {
        return r.broadcastActive();
      }), n.length > 0;
    }, i.prototype.connect_ = function() {
      !isBrowser || this.connected_ || (document.addEventListener("transitionend", this.onTransitionEnd_), window.addEventListener("resize", this.refresh), mutationObserverSupported ? (this.mutationsObserver_ = new MutationObserver(this.refresh), this.mutationsObserver_.observe(document, {
        attributes: !0,
        childList: !0,
        characterData: !0,
        subtree: !0
      })) : (document.addEventListener("DOMSubtreeModified", this.refresh), this.mutationEventsAdded_ = !0), this.connected_ = !0);
    }, i.prototype.disconnect_ = function() {
      !isBrowser || !this.connected_ || (document.removeEventListener("transitionend", this.onTransitionEnd_), window.removeEventListener("resize", this.refresh), this.mutationsObserver_ && this.mutationsObserver_.disconnect(), this.mutationEventsAdded_ && document.removeEventListener("DOMSubtreeModified", this.refresh), this.mutationsObserver_ = null, this.mutationEventsAdded_ = !1, this.connected_ = !1);
    }, i.prototype.onTransitionEnd_ = function(n) {
      var r = n.propertyName, o = r === void 0 ? "" : r, a = transitionKeys.some(function(u) {
        return !!~o.indexOf(u);
      });
      a && this.refresh();
    }, i.getInstance = function() {
      return this.instance_ || (this.instance_ = new i()), this.instance_;
    }, i.instance_ = null, i;
  }()
), defineConfigurable = function(i, n) {
  for (var r = 0, o = Object.keys(n); r < o.length; r++) {
    var a = o[r];
    Object.defineProperty(i, a, {
      value: n[a],
      enumerable: !1,
      writable: !1,
      configurable: !0
    });
  }
  return i;
}, getWindowOf = function(i) {
  var n = i && i.ownerDocument && i.ownerDocument.defaultView;
  return n || global$1;
}, emptyRect = createRectInit(0, 0, 0, 0);
function toFloat(i) {
  return parseFloat(i) || 0;
}
function getBordersSize(i) {
  for (var n = [], r = 1; r < arguments.length; r++)
    n[r - 1] = arguments[r];
  return n.reduce(function(o, a) {
    var u = i["border-" + a + "-width"];
    return o + toFloat(u);
  }, 0);
}
function getPaddings(i) {
  for (var n = ["top", "right", "bottom", "left"], r = {}, o = 0, a = n; o < a.length; o++) {
    var u = a[o], c = i["padding-" + u];
    r[u] = toFloat(c);
  }
  return r;
}
function getSVGContentRect(i) {
  var n = i.getBBox();
  return createRectInit(0, 0, n.width, n.height);
}
function getHTMLElementContentRect(i) {
  var n = i.clientWidth, r = i.clientHeight;
  if (!n && !r)
    return emptyRect;
  var o = getWindowOf(i).getComputedStyle(i), a = getPaddings(o), u = a.left + a.right, c = a.top + a.bottom, f = toFloat(o.width), d = toFloat(o.height);
  if (o.boxSizing === "border-box" && (Math.round(f + u) !== n && (f -= getBordersSize(o, "left", "right") + u), Math.round(d + c) !== r && (d -= getBordersSize(o, "top", "bottom") + c)), !isDocumentElement(i)) {
    var p = Math.round(f + u) - n, y = Math.round(d + c) - r;
    Math.abs(p) !== 1 && (f -= p), Math.abs(y) !== 1 && (d -= y);
  }
  return createRectInit(a.left, a.top, f, d);
}
var isSVGGraphicsElement = function() {
  return typeof SVGGraphicsElement < "u" ? function(i) {
    return i instanceof getWindowOf(i).SVGGraphicsElement;
  } : function(i) {
    return i instanceof getWindowOf(i).SVGElement && typeof i.getBBox == "function";
  };
}();
function isDocumentElement(i) {
  return i === getWindowOf(i).document.documentElement;
}
function getContentRect(i) {
  return isBrowser ? isSVGGraphicsElement(i) ? getSVGContentRect(i) : getHTMLElementContentRect(i) : emptyRect;
}
function createReadOnlyRect(i) {
  var n = i.x, r = i.y, o = i.width, a = i.height, u = typeof DOMRectReadOnly < "u" ? DOMRectReadOnly : Object, c = Object.create(u.prototype);
  return defineConfigurable(c, {
    x: n,
    y: r,
    width: o,
    height: a,
    top: r,
    right: n + o,
    bottom: a + r,
    left: n
  }), c;
}
function createRectInit(i, n, r, o) {
  return { x: i, y: n, width: r, height: o };
}
var ResizeObservation = (
  /** @class */
  function() {
    function i(n) {
      this.broadcastWidth = 0, this.broadcastHeight = 0, this.contentRect_ = createRectInit(0, 0, 0, 0), this.target = n;
    }
    return i.prototype.isActive = function() {
      var n = getContentRect(this.target);
      return this.contentRect_ = n, n.width !== this.broadcastWidth || n.height !== this.broadcastHeight;
    }, i.prototype.broadcastRect = function() {
      var n = this.contentRect_;
      return this.broadcastWidth = n.width, this.broadcastHeight = n.height, n;
    }, i;
  }()
), ResizeObserverEntry = (
  /** @class */
  function() {
    function i(n, r) {
      var o = createReadOnlyRect(r);
      defineConfigurable(this, { target: n, contentRect: o });
    }
    return i;
  }()
), ResizeObserverSPI = (
  /** @class */
  function() {
    function i(n, r, o) {
      if (this.activeObservations_ = [], this.observations_ = new MapShim(), typeof n != "function")
        throw new TypeError("The callback provided as parameter 1 is not a function.");
      this.callback_ = n, this.controller_ = r, this.callbackCtx_ = o;
    }
    return i.prototype.observe = function(n) {
      if (!arguments.length)
        throw new TypeError("1 argument required, but only 0 present.");
      if (!(typeof Element > "u" || !(Element instanceof Object))) {
        if (!(n instanceof getWindowOf(n).Element))
          throw new TypeError('parameter 1 is not of type "Element".');
        var r = this.observations_;
        r.has(n) || (r.set(n, new ResizeObservation(n)), this.controller_.addObserver(this), this.controller_.refresh());
      }
    }, i.prototype.unobserve = function(n) {
      if (!arguments.length)
        throw new TypeError("1 argument required, but only 0 present.");
      if (!(typeof Element > "u" || !(Element instanceof Object))) {
        if (!(n instanceof getWindowOf(n).Element))
          throw new TypeError('parameter 1 is not of type "Element".');
        var r = this.observations_;
        r.has(n) && (r.delete(n), r.size || this.controller_.removeObserver(this));
      }
    }, i.prototype.disconnect = function() {
      this.clearActive(), this.observations_.clear(), this.controller_.removeObserver(this);
    }, i.prototype.gatherActive = function() {
      var n = this;
      this.clearActive(), this.observations_.forEach(function(r) {
        r.isActive() && n.activeObservations_.push(r);
      });
    }, i.prototype.broadcastActive = function() {
      if (this.hasActive()) {
        var n = this.callbackCtx_, r = this.activeObservations_.map(function(o) {
          return new ResizeObserverEntry(o.target, o.broadcastRect());
        });
        this.callback_.call(n, r, n), this.clearActive();
      }
    }, i.prototype.clearActive = function() {
      this.activeObservations_.splice(0);
    }, i.prototype.hasActive = function() {
      return this.activeObservations_.length > 0;
    }, i;
  }()
), observers = typeof WeakMap < "u" ? /* @__PURE__ */ new WeakMap() : new MapShim(), ResizeObserver$1 = (
  /** @class */
  function() {
    function i(n) {
      if (!(this instanceof i))
        throw new TypeError("Cannot call a class as a function.");
      if (!arguments.length)
        throw new TypeError("1 argument required, but only 0 present.");
      var r = ResizeObserverController.getInstance(), o = new ResizeObserverSPI(n, r, this);
      observers.set(this, o);
    }
    return i;
  }()
);
[
  "observe",
  "unobserve",
  "disconnect"
].forEach(function(i) {
  ResizeObserver$1.prototype[i] = function() {
    var n;
    return (n = observers.get(this))[i].apply(n, arguments);
  };
});
var index$1 = function() {
  return typeof global$1.ResizeObserver < "u" ? global$1.ResizeObserver : ResizeObserver$1;
}();
const Events = [
  "blur",
  "input",
  "change",
  "changeSelectionStyle",
  "changeSession",
  "copy",
  "focus",
  "paste"
], VAceEditor = defineComponent({
  props: {
    value: {
      type: String,
      required: !0
    },
    lang: {
      type: String,
      default: "text"
    },
    theme: {
      type: String,
      default: "chrome"
    },
    options: Object,
    placeholder: String,
    readonly: Boolean,
    wrap: Boolean,
    printMargin: {
      type: [Boolean, Number],
      default: !0
    },
    minLines: Number,
    maxLines: Number
  },
  emits: ["update:value", "init", ...Events],
  render() {
    return h("div");
  },
  mounted() {
    const i = this._editor = markRaw(ace.edit(this.$el, {
      placeholder: this.placeholder,
      readOnly: this.readonly,
      value: this.value,
      mode: "ace/mode/" + this.lang,
      theme: "ace/theme/" + this.theme,
      wrap: this.wrap,
      printMargin: this.printMargin,
      useWorker: !1,
      minLines: this.minLines,
      maxLines: this.maxLines,
      ...this.options
    }));
    this._contentBackup = this.value, this._isSettingContent = !1, i.on("change", () => {
      if (this._isSettingContent)
        return;
      const n = i.getValue();
      this._contentBackup = n, this.$emit("update:value", n);
    }), Events.forEach((n) => {
      const r = "on" + capitalize(n);
      typeof this.$.vnode.props[r] == "function" && i.on(n, this.$emit.bind(this, n));
    }), this._ro = new index$1(() => i.resize()), this._ro.observe(this.$el), this.$emit("init", i);
  },
  beforeUnmount() {
    var i, n;
    (i = this._ro) === null || i === void 0 || i.disconnect(), (n = this._editor) === null || n === void 0 || n.destroy();
  },
  methods: {
    focus() {
      this._editor.focus();
    },
    blur() {
      this._editor.blur();
    },
    selectAll() {
      this._editor.selectAll();
    }
  },
  watch: {
    value(i) {
      if (this._contentBackup !== i) {
        try {
          this._isSettingContent = !0, this._editor.setValue(i, 1);
        } finally {
          this._isSettingContent = !1;
        }
        this._contentBackup = i;
      }
    },
    theme(i) {
      this._editor.setTheme("ace/theme/" + i);
    },
    options(i) {
      this._editor.setOptions(i);
    },
    readonly(i) {
      this._editor.setReadOnly(i);
    },
    placeholder(i) {
      this._editor.setOption("placeholder", i);
    },
    wrap(i) {
      this._editor.setWrapBehavioursEnabled(i);
    },
    printMargin(i) {
      this._editor.setOption("printMargin", i);
    },
    lang(i) {
      this._editor.setOption("mode", "ace/mode/" + i);
    },
    minLines(i) {
      this._editor.setOption("minLines", i);
    },
    maxLines(i) {
      this._editor.setOption("maxLines", i);
    }
  }
}), themeUrl2 = "data:application/javascript;base64,YWNlLmRlZmluZSgiYWNlL3RoZW1lL2tyX3RoZW1lLmNzcyIsWyJyZXF1aXJlIiwiZXhwb3J0cyIsIm1vZHVsZSJdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpe21vZHVsZS5leHBvcnRzID0gIi5hY2Uta3ItdGhlbWUgLmFjZV9ndXR0ZXIge1xuICBiYWNrZ3JvdW5kOiAjMWMxOTE3O1xuICBjb2xvcjogI0ZDRkZFMFxufVxuXG4uYWNlLWtyLXRoZW1lIC5hY2VfcHJpbnQtbWFyZ2luIHtcbiAgd2lkdGg6IDFweDtcbiAgYmFja2dyb3VuZDogIzFjMTkxN1xufVxuXG4uYWNlLWtyLXRoZW1lIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzBCMEEwOTtcbiAgY29sb3I6ICNGQ0ZGRTBcbn1cblxuLmFjZS1rci10aGVtZSAuYWNlX2N1cnNvciB7XG4gIGNvbG9yOiAjRkY5OTAwXG59XG5cbi5hY2Uta3ItdGhlbWUgLmFjZV9tYXJrZXItbGF5ZXIgLmFjZV9zZWxlY3Rpb24ge1xuICBiYWNrZ3JvdW5kOiByZ2JhKDE3MCwgMCwgMjU1LCAwLjQ1KVxufVxuXG4uYWNlLWtyLXRoZW1lLmFjZV9tdWx0aXNlbGVjdCAuYWNlX3NlbGVjdGlvbi5hY2Vfc3RhcnQge1xuICBib3gtc2hhZG93OiAwIDAgM3B4IDBweCAjMEIwQTA5O1xufVxuXG4uYWNlLWtyLXRoZW1lIC5hY2VfbWFya2VyLWxheWVyIC5hY2Vfc3RlcCB7XG4gIGJhY2tncm91bmQ6IHJnYigxMDIsIDgyLCAwKVxufVxuXG4uYWNlLWtyLXRoZW1lIC5hY2VfbWFya2VyLWxheWVyIC5hY2VfYnJhY2tldCB7XG4gIG1hcmdpbjogLTFweCAwIDAgLTFweDtcbiAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgyNTUsIDE3NywgMTExLCAwLjMyKVxufVxuXG4uYWNlLWtyLXRoZW1lIC5hY2VfbWFya2VyLWxheWVyIC5hY2VfYWN0aXZlLWxpbmUge1xuICBiYWNrZ3JvdW5kOiAjMzg0MDNEXG59XG5cbi5hY2Uta3ItdGhlbWUgLmFjZV9ndXR0ZXItYWN0aXZlLWxpbmUge1xuICBiYWNrZ3JvdW5kLWNvbG9yIDogIzM4NDAzRFxufVxuXG4uYWNlLWtyLXRoZW1lIC5hY2VfbWFya2VyLWxheWVyIC5hY2Vfc2VsZWN0ZWQtd29yZCB7XG4gIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMTcwLCAwLCAyNTUsIDAuNDUpXG59XG5cbi5hY2Uta3ItdGhlbWUgLmFjZV9pbnZpc2libGUge1xuICBjb2xvcjogcmdiYSgyNTUsIDE3NywgMTExLCAwLjMyKVxufVxuXG4uYWNlLWtyLXRoZW1lIC5hY2Vfa2V5d29yZCxcbi5hY2Uta3ItdGhlbWUgLmFjZV9tZXRhIHtcbiAgY29sb3I6ICM5NDlDOEJcbn1cblxuLmFjZS1rci10aGVtZSAuYWNlX2NvbnN0YW50LFxuLmFjZS1rci10aGVtZSAuYWNlX2NvbnN0YW50LmFjZV9jaGFyYWN0ZXIsXG4uYWNlLWtyLXRoZW1lIC5hY2VfY29uc3RhbnQuYWNlX2NoYXJhY3Rlci5hY2VfZXNjYXBlLFxuLmFjZS1rci10aGVtZSAuYWNlX2NvbnN0YW50LmFjZV9vdGhlciB7XG4gIGNvbG9yOiByZ2JhKDIxMCwgMTE3LCAyNCwgMC43Nilcbn1cblxuLmFjZS1rci10aGVtZSAuYWNlX2ludmFsaWQge1xuICBjb2xvcjogI0Y4RjhGODtcbiAgYmFja2dyb3VuZC1jb2xvcjogI0E0MTMwMFxufVxuXG4uYWNlLWtyLXRoZW1lIC5hY2Vfc3VwcG9ydCB7XG4gIGNvbG9yOiAjOUZDMjhBXG59XG5cbi5hY2Uta3ItdGhlbWUgLmFjZV9zdXBwb3J0LmFjZV9jb25zdGFudCB7XG4gIGNvbG9yOiAjQzI3RTY2XG59XG5cbi5hY2Uta3ItdGhlbWUgLmFjZV9mb2xkIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzk0OUM4QjtcbiAgYm9yZGVyLWNvbG9yOiAjRkNGRkUwXG59XG5cbi5hY2Uta3ItdGhlbWUgLmFjZV9zdXBwb3J0LmFjZV9mdW5jdGlvbiB7XG4gIGNvbG9yOiAjODU4NzNBXG59XG5cbi5hY2Uta3ItdGhlbWUgLmFjZV9zdG9yYWdlIHtcbiAgY29sb3I6ICNGRkVFODBcbn1cblxuLmFjZS1rci10aGVtZSAuYWNlX3N0cmluZyB7XG4gIGNvbG9yOiByZ2JhKDE2NCwgMTYxLCAxODEsIDAuOClcbn1cblxuLmFjZS1rci10aGVtZSAuYWNlX3N0cmluZy5hY2VfcmVnZXhwIHtcbiAgY29sb3I6IHJnYmEoMTI1LCAyNTUsIDE5MiwgMC42NSlcbn1cblxuLmFjZS1rci10aGVtZSAuYWNlX2NvbW1lbnQge1xuICBmb250LXN0eWxlOiBpdGFsaWM7XG4gIGNvbG9yOiAjNzA2RDVCXG59XG5cbi5hY2Uta3ItdGhlbWUgLmFjZV92YXJpYWJsZSB7XG4gIGNvbG9yOiAjRDFBNzk2XG59XG5cbi5hY2Uta3ItdGhlbWUgLmFjZV9saXN0LFxuLmFjZS1rci10aGVtZSAuYWNlX21hcmt1cC5hY2VfbGlzdCB7XG4gIGJhY2tncm91bmQtY29sb3I6ICMwRjAwNDBcbn1cblxuLmFjZS1rci10aGVtZSAuYWNlX3ZhcmlhYmxlLmFjZV9sYW5ndWFnZSB7XG4gIGNvbG9yOiAjRkY4MEUxXG59XG5cbi5hY2Uta3ItdGhlbWUgLmFjZV9tZXRhLmFjZV90YWcge1xuICBjb2xvcjogI0JBQkQ5Q1xufVxuXG4uYWNlLWtyLXRoZW1lIC5hY2VfaW5kZW50LWd1aWRlIHtcbiAgYmFja2dyb3VuZDogdXJsKGRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQUVBQUFBQ0NBWUFBQUNaZ2JZbkFBQUFFa2xFUVZRSW1XTmdZR0JnWUZCWFYvOFBBQUpvQVhYNGtUMkVBQUFBQUVsRlRrU3VRbUNDKSByaWdodCByZXBlYXQteVxufVxuXG4uYWNlLWtyLXRoZW1lIC5hY2VfaW5kZW50LWd1aWRlLWFjdGl2ZSB7XG4gIGJhY2tncm91bmQ6IHVybChcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQUVBQUFBQ0NBWUFBQUNaZ2JZbkFBQUFDWEJJV1hNQUFBc1RBQUFMRXdFQW1wd1lBQUFBSUdOSVVrMEFBSG9sQUFDQWd3QUErZjhBQUlEcEFBQjFNQUFBNm1BQUFEcVlBQUFYYjVKZnhVWUFBQUFaU1VSQlZIamFZdmovLy85L2hpdkt5djhCQUFBQS8vOERBQ0xxQmhidmsrL2VBQUFBQUVsRlRrU3VRbUNDXCIpIHJpZ2h0IHJlcGVhdC15O1xufVxuIjsKCn0pOwoKYWNlLmRlZmluZSgiYWNlL3RoZW1lL2tyX3RoZW1lIixbInJlcXVpcmUiLCJleHBvcnRzIiwibW9kdWxlIiwiYWNlL3RoZW1lL2tyX3RoZW1lLmNzcyIsImFjZS9saWIvZG9tIl0sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSl7ZXhwb3J0cy5pc0RhcmsgPSB0cnVlOwpleHBvcnRzLmNzc0NsYXNzID0gImFjZS1rci10aGVtZSI7CmV4cG9ydHMuY3NzVGV4dCA9IHJlcXVpcmUoIi4va3JfdGhlbWUuY3NzIik7CnZhciBkb20gPSByZXF1aXJlKCIuLi9saWIvZG9tIik7CmRvbS5pbXBvcnRDc3NTdHJpbmcoZXhwb3J0cy5jc3NUZXh0LCBleHBvcnRzLmNzc0NsYXNzLCBmYWxzZSk7Cgp9KTsgICAgICAgICAgICAgICAgKGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgIGFjZS5yZXF1aXJlKFsiYWNlL3RoZW1lL2tyX3RoZW1lIl0sIGZ1bmN0aW9uKG0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtb2R1bGUgPT0gIm9iamVjdCIgJiYgdHlwZW9mIGV4cG9ydHMgPT0gIm9iamVjdCIgJiYgbW9kdWxlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IG07CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pKCk7CiAgICAgICAgICAgIA==", modeJsonUrl = "data:application/javascript;base64,YWNlLmRlZmluZSgiYWNlL21vZGUvanNvbl9oaWdobGlnaHRfcnVsZXMiLFsicmVxdWlyZSIsImV4cG9ydHMiLCJtb2R1bGUiLCJhY2UvbGliL29vcCIsImFjZS9tb2RlL3RleHRfaGlnaGxpZ2h0X3J1bGVzIl0sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSl7InVzZSBzdHJpY3QiOwp2YXIgb29wID0gcmVxdWlyZSgiLi4vbGliL29vcCIpOwp2YXIgVGV4dEhpZ2hsaWdodFJ1bGVzID0gcmVxdWlyZSgiLi90ZXh0X2hpZ2hsaWdodF9ydWxlcyIpLlRleHRIaWdobGlnaHRSdWxlczsKdmFyIEpzb25IaWdobGlnaHRSdWxlcyA9IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuJHJ1bGVzID0gewogICAgICAgICJzdGFydCI6IFsKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdG9rZW46ICJ2YXJpYWJsZSIsCiAgICAgICAgICAgICAgICByZWdleDogJ1siXSg/Oig/OlxcXFwuKXwoPzpbXiJcXFxcXSkpKj9bIl1cXHMqKD89OiknCiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgIHRva2VuOiAic3RyaW5nIiwKICAgICAgICAgICAgICAgIHJlZ2V4OiAnIicsCiAgICAgICAgICAgICAgICBuZXh0OiAic3RyaW5nIgogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICB0b2tlbjogImNvbnN0YW50Lm51bWVyaWMiLAogICAgICAgICAgICAgICAgcmVnZXg6ICIwW3hYXVswLTlhLWZBLUZdK1xcYiIKICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgdG9rZW46ICJjb25zdGFudC5udW1lcmljIiwKICAgICAgICAgICAgICAgIHJlZ2V4OiAiWystXT9cXGQrKD86KD86XFwuXFxkKik/KD86W2VFXVsrLV0/XFxkKyk/KT9cXGIiCiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgIHRva2VuOiAiY29uc3RhbnQubGFuZ3VhZ2UuYm9vbGVhbiIsCiAgICAgICAgICAgICAgICByZWdleDogIig/OnRydWV8ZmFsc2UpXFxiIgogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICB0b2tlbjogInRleHQiLAogICAgICAgICAgICAgICAgcmVnZXg6ICJbJ10oPzooPzpcXFxcLil8KD86W14nXFxcXF0pKSo/WyddIgogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICB0b2tlbjogImNvbW1lbnQiLAogICAgICAgICAgICAgICAgcmVnZXg6ICJcXC9cXC8uKiQiCiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgIHRva2VuOiAiY29tbWVudC5zdGFydCIsCiAgICAgICAgICAgICAgICByZWdleDogIlxcL1xcKiIsCiAgICAgICAgICAgICAgICBuZXh0OiAiY29tbWVudCIKICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgdG9rZW46ICJwYXJlbi5scGFyZW4iLAogICAgICAgICAgICAgICAgcmVnZXg6ICJbWyh7XSIKICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgdG9rZW46ICJwYXJlbi5ycGFyZW4iLAogICAgICAgICAgICAgICAgcmVnZXg6ICJbXFxdKX1dIgogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICB0b2tlbjogInB1bmN0dWF0aW9uLm9wZXJhdG9yIiwKICAgICAgICAgICAgICAgIHJlZ2V4OiAvWyxdLwogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICB0b2tlbjogInRleHQiLAogICAgICAgICAgICAgICAgcmVnZXg6ICJcXHMrIgogICAgICAgICAgICB9CiAgICAgICAgXSwKICAgICAgICAic3RyaW5nIjogWwogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB0b2tlbjogImNvbnN0YW50Lmxhbmd1YWdlLmVzY2FwZSIsCiAgICAgICAgICAgICAgICByZWdleDogL1xcKD86eFswLTlhLWZBLUZdezJ9fHVbMC05YS1mQS1GXXs0fXxbIlxcXC9iZm5ydF0pLwogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICB0b2tlbjogInN0cmluZyIsCiAgICAgICAgICAgICAgICByZWdleDogJyJ8JCcsCiAgICAgICAgICAgICAgICBuZXh0OiAic3RhcnQiCiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgIGRlZmF1bHRUb2tlbjogInN0cmluZyIKICAgICAgICAgICAgfQogICAgICAgIF0sCiAgICAgICAgImNvbW1lbnQiOiBbCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHRva2VuOiAiY29tbWVudC5lbmQiLAogICAgICAgICAgICAgICAgcmVnZXg6ICJcXCpcXC8iLAogICAgICAgICAgICAgICAgbmV4dDogInN0YXJ0IgogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICBkZWZhdWx0VG9rZW46ICJjb21tZW50IgogICAgICAgICAgICB9CiAgICAgICAgXQogICAgfTsKfTsKb29wLmluaGVyaXRzKEpzb25IaWdobGlnaHRSdWxlcywgVGV4dEhpZ2hsaWdodFJ1bGVzKTsKZXhwb3J0cy5Kc29uSGlnaGxpZ2h0UnVsZXMgPSBKc29uSGlnaGxpZ2h0UnVsZXM7Cgp9KTsKCmFjZS5kZWZpbmUoImFjZS9tb2RlL21hdGNoaW5nX2JyYWNlX291dGRlbnQiLFsicmVxdWlyZSIsImV4cG9ydHMiLCJtb2R1bGUiLCJhY2UvcmFuZ2UiXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKXsidXNlIHN0cmljdCI7CnZhciBSYW5nZSA9IHJlcXVpcmUoIi4uL3JhbmdlIikuUmFuZ2U7CnZhciBNYXRjaGluZ0JyYWNlT3V0ZGVudCA9IGZ1bmN0aW9uICgpIHsgfTsKKGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuY2hlY2tPdXRkZW50ID0gZnVuY3Rpb24gKGxpbmUsIGlucHV0KSB7CiAgICAgICAgaWYgKCEvXlxzKyQvLnRlc3QobGluZSkpCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICByZXR1cm4gL15ccypcfS8udGVzdChpbnB1dCk7CiAgICB9OwogICAgdGhpcy5hdXRvT3V0ZGVudCA9IGZ1bmN0aW9uIChkb2MsIHJvdykgewogICAgICAgIHZhciBsaW5lID0gZG9jLmdldExpbmUocm93KTsKICAgICAgICB2YXIgbWF0Y2ggPSBsaW5lLm1hdGNoKC9eKFxzKlx9KS8pOwogICAgICAgIGlmICghbWF0Y2gpCiAgICAgICAgICAgIHJldHVybiAwOwogICAgICAgIHZhciBjb2x1bW4gPSBtYXRjaFsxXS5sZW5ndGg7CiAgICAgICAgdmFyIG9wZW5CcmFjZVBvcyA9IGRvYy5maW5kTWF0Y2hpbmdCcmFja2V0KHsgcm93OiByb3csIGNvbHVtbjogY29sdW1uIH0pOwogICAgICAgIGlmICghb3BlbkJyYWNlUG9zIHx8IG9wZW5CcmFjZVBvcy5yb3cgPT0gcm93KQogICAgICAgICAgICByZXR1cm4gMDsKICAgICAgICB2YXIgaW5kZW50ID0gdGhpcy4kZ2V0SW5kZW50KGRvYy5nZXRMaW5lKG9wZW5CcmFjZVBvcy5yb3cpKTsKICAgICAgICBkb2MucmVwbGFjZShuZXcgUmFuZ2Uocm93LCAwLCByb3csIGNvbHVtbiAtIDEpLCBpbmRlbnQpOwogICAgfTsKICAgIHRoaXMuJGdldEluZGVudCA9IGZ1bmN0aW9uIChsaW5lKSB7CiAgICAgICAgcmV0dXJuIGxpbmUubWF0Y2goL15ccyovKVswXTsKICAgIH07Cn0pLmNhbGwoTWF0Y2hpbmdCcmFjZU91dGRlbnQucHJvdG90eXBlKTsKZXhwb3J0cy5NYXRjaGluZ0JyYWNlT3V0ZGVudCA9IE1hdGNoaW5nQnJhY2VPdXRkZW50OwoKfSk7CgphY2UuZGVmaW5lKCJhY2UvbW9kZS9mb2xkaW5nL2NzdHlsZSIsWyJyZXF1aXJlIiwiZXhwb3J0cyIsIm1vZHVsZSIsImFjZS9saWIvb29wIiwiYWNlL3JhbmdlIiwiYWNlL21vZGUvZm9sZGluZy9mb2xkX21vZGUiXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKXsidXNlIHN0cmljdCI7CnZhciBvb3AgPSByZXF1aXJlKCIuLi8uLi9saWIvb29wIik7CnZhciBSYW5nZSA9IHJlcXVpcmUoIi4uLy4uL3JhbmdlIikuUmFuZ2U7CnZhciBCYXNlRm9sZE1vZGUgPSByZXF1aXJlKCIuL2ZvbGRfbW9kZSIpLkZvbGRNb2RlOwp2YXIgRm9sZE1vZGUgPSBleHBvcnRzLkZvbGRNb2RlID0gZnVuY3Rpb24gKGNvbW1lbnRSZWdleCkgewogICAgaWYgKGNvbW1lbnRSZWdleCkgewogICAgICAgIHRoaXMuZm9sZGluZ1N0YXJ0TWFya2VyID0gbmV3IFJlZ0V4cCh0aGlzLmZvbGRpbmdTdGFydE1hcmtlci5zb3VyY2UucmVwbGFjZSgvXHxbXnxdKj8kLywgInwiICsgY29tbWVudFJlZ2V4LnN0YXJ0KSk7CiAgICAgICAgdGhpcy5mb2xkaW5nU3RvcE1hcmtlciA9IG5ldyBSZWdFeHAodGhpcy5mb2xkaW5nU3RvcE1hcmtlci5zb3VyY2UucmVwbGFjZSgvXHxbXnxdKj8kLywgInwiICsgY29tbWVudFJlZ2V4LmVuZCkpOwogICAgfQp9Owpvb3AuaW5oZXJpdHMoRm9sZE1vZGUsIEJhc2VGb2xkTW9kZSk7CihmdW5jdGlvbiAoKSB7CiAgICB0aGlzLmZvbGRpbmdTdGFydE1hcmtlciA9IC8oW1x7XFtcKF0pW15cfVxdXCldKiR8XlxzKihcL1wqKS87CiAgICB0aGlzLmZvbGRpbmdTdG9wTWFya2VyID0gL15bXlxbXHtcKF0qKFtcfVxdXCldKXxeW1xzXCpdKihcKlwvKS87CiAgICB0aGlzLnNpbmdsZUxpbmVCbG9ja0NvbW1lbnRSZSA9IC9eXHMqKFwvXCopLipcKlwvXHMqJC87CiAgICB0aGlzLnRyaXBsZVN0YXJCbG9ja0NvbW1lbnRSZSA9IC9eXHMqKFwvXCpcKlwqKS4qXCpcL1xzKiQvOwogICAgdGhpcy5zdGFydFJlZ2lvblJlID0gL15ccyooXC9cKnxcL1wvKSM/cmVnaW9uXGIvOwogICAgdGhpcy5fZ2V0Rm9sZFdpZGdldEJhc2UgPSB0aGlzLmdldEZvbGRXaWRnZXQ7CiAgICB0aGlzLmdldEZvbGRXaWRnZXQgPSBmdW5jdGlvbiAoc2Vzc2lvbiwgZm9sZFN0eWxlLCByb3cpIHsKICAgICAgICB2YXIgbGluZSA9IHNlc3Npb24uZ2V0TGluZShyb3cpOwogICAgICAgIGlmICh0aGlzLnNpbmdsZUxpbmVCbG9ja0NvbW1lbnRSZS50ZXN0KGxpbmUpKSB7CiAgICAgICAgICAgIGlmICghdGhpcy5zdGFydFJlZ2lvblJlLnRlc3QobGluZSkgJiYgIXRoaXMudHJpcGxlU3RhckJsb2NrQ29tbWVudFJlLnRlc3QobGluZSkpCiAgICAgICAgICAgICAgICByZXR1cm4gIiI7CiAgICAgICAgfQogICAgICAgIHZhciBmdyA9IHRoaXMuX2dldEZvbGRXaWRnZXRCYXNlKHNlc3Npb24sIGZvbGRTdHlsZSwgcm93KTsKICAgICAgICBpZiAoIWZ3ICYmIHRoaXMuc3RhcnRSZWdpb25SZS50ZXN0KGxpbmUpKQogICAgICAgICAgICByZXR1cm4gInN0YXJ0IjsgLy8gbGluZUNvbW1lbnRSZWdpb25TdGFydAogICAgICAgIHJldHVybiBmdzsKICAgIH07CiAgICB0aGlzLmdldEZvbGRXaWRnZXRSYW5nZSA9IGZ1bmN0aW9uIChzZXNzaW9uLCBmb2xkU3R5bGUsIHJvdywgZm9yY2VNdWx0aWxpbmUpIHsKICAgICAgICB2YXIgbGluZSA9IHNlc3Npb24uZ2V0TGluZShyb3cpOwogICAgICAgIGlmICh0aGlzLnN0YXJ0UmVnaW9uUmUudGVzdChsaW5lKSkKICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q29tbWVudFJlZ2lvbkJsb2NrKHNlc3Npb24sIGxpbmUsIHJvdyk7CiAgICAgICAgdmFyIG1hdGNoID0gbGluZS5tYXRjaCh0aGlzLmZvbGRpbmdTdGFydE1hcmtlcik7CiAgICAgICAgaWYgKG1hdGNoKSB7CiAgICAgICAgICAgIHZhciBpID0gbWF0Y2guaW5kZXg7CiAgICAgICAgICAgIGlmIChtYXRjaFsxXSkKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm9wZW5pbmdCcmFja2V0QmxvY2soc2Vzc2lvbiwgbWF0Y2hbMV0sIHJvdywgaSk7CiAgICAgICAgICAgIHZhciByYW5nZSA9IHNlc3Npb24uZ2V0Q29tbWVudEZvbGRSYW5nZShyb3csIGkgKyBtYXRjaFswXS5sZW5ndGgsIDEpOwogICAgICAgICAgICBpZiAocmFuZ2UgJiYgIXJhbmdlLmlzTXVsdGlMaW5lKCkpIHsKICAgICAgICAgICAgICAgIGlmIChmb3JjZU11bHRpbGluZSkgewogICAgICAgICAgICAgICAgICAgIHJhbmdlID0gdGhpcy5nZXRTZWN0aW9uUmFuZ2Uoc2Vzc2lvbiwgcm93KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgaWYgKGZvbGRTdHlsZSAhPSAiYWxsIikKICAgICAgICAgICAgICAgICAgICByYW5nZSA9IG51bGw7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHJhbmdlOwogICAgICAgIH0KICAgICAgICBpZiAoZm9sZFN0eWxlID09PSAibWFya2JlZ2luIikKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIHZhciBtYXRjaCA9IGxpbmUubWF0Y2godGhpcy5mb2xkaW5nU3RvcE1hcmtlcik7CiAgICAgICAgaWYgKG1hdGNoKSB7CiAgICAgICAgICAgIHZhciBpID0gbWF0Y2guaW5kZXggKyBtYXRjaFswXS5sZW5ndGg7CiAgICAgICAgICAgIGlmIChtYXRjaFsxXSkKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNsb3NpbmdCcmFja2V0QmxvY2soc2Vzc2lvbiwgbWF0Y2hbMV0sIHJvdywgaSk7CiAgICAgICAgICAgIHJldHVybiBzZXNzaW9uLmdldENvbW1lbnRGb2xkUmFuZ2Uocm93LCBpLCAtMSk7CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMuZ2V0U2VjdGlvblJhbmdlID0gZnVuY3Rpb24gKHNlc3Npb24sIHJvdykgewogICAgICAgIHZhciBsaW5lID0gc2Vzc2lvbi5nZXRMaW5lKHJvdyk7CiAgICAgICAgdmFyIHN0YXJ0SW5kZW50ID0gbGluZS5zZWFyY2goL1xTLyk7CiAgICAgICAgdmFyIHN0YXJ0Um93ID0gcm93OwogICAgICAgIHZhciBzdGFydENvbHVtbiA9IGxpbmUubGVuZ3RoOwogICAgICAgIHJvdyA9IHJvdyArIDE7CiAgICAgICAgdmFyIGVuZFJvdyA9IHJvdzsKICAgICAgICB2YXIgbWF4Um93ID0gc2Vzc2lvbi5nZXRMZW5ndGgoKTsKICAgICAgICB3aGlsZSAoKytyb3cgPCBtYXhSb3cpIHsKICAgICAgICAgICAgbGluZSA9IHNlc3Npb24uZ2V0TGluZShyb3cpOwogICAgICAgICAgICB2YXIgaW5kZW50ID0gbGluZS5zZWFyY2goL1xTLyk7CiAgICAgICAgICAgIGlmIChpbmRlbnQgPT09IC0xKQogICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgIGlmIChzdGFydEluZGVudCA+IGluZGVudCkKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB2YXIgc3ViUmFuZ2UgPSB0aGlzLmdldEZvbGRXaWRnZXRSYW5nZShzZXNzaW9uLCAiYWxsIiwgcm93KTsKICAgICAgICAgICAgaWYgKHN1YlJhbmdlKSB7CiAgICAgICAgICAgICAgICBpZiAoc3ViUmFuZ2Uuc3RhcnQucm93IDw9IHN0YXJ0Um93KSB7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIGlmIChzdWJSYW5nZS5pc011bHRpTGluZSgpKSB7CiAgICAgICAgICAgICAgICAgICAgcm93ID0gc3ViUmFuZ2UuZW5kLnJvdzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgaWYgKHN0YXJ0SW5kZW50ID09IGluZGVudCkgewogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVuZFJvdyA9IHJvdzsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIG5ldyBSYW5nZShzdGFydFJvdywgc3RhcnRDb2x1bW4sIGVuZFJvdywgc2Vzc2lvbi5nZXRMaW5lKGVuZFJvdykubGVuZ3RoKTsKICAgIH07CiAgICB0aGlzLmdldENvbW1lbnRSZWdpb25CbG9jayA9IGZ1bmN0aW9uIChzZXNzaW9uLCBsaW5lLCByb3cpIHsKICAgICAgICB2YXIgc3RhcnRDb2x1bW4gPSBsaW5lLnNlYXJjaCgvXHMqJC8pOwogICAgICAgIHZhciBtYXhSb3cgPSBzZXNzaW9uLmdldExlbmd0aCgpOwogICAgICAgIHZhciBzdGFydFJvdyA9IHJvdzsKICAgICAgICB2YXIgcmUgPSAvXlxzKig/OlwvXCp8XC9cL3wtLSkjPyhlbmQpP3JlZ2lvblxiLzsKICAgICAgICB2YXIgZGVwdGggPSAxOwogICAgICAgIHdoaWxlICgrK3JvdyA8IG1heFJvdykgewogICAgICAgICAgICBsaW5lID0gc2Vzc2lvbi5nZXRMaW5lKHJvdyk7CiAgICAgICAgICAgIHZhciBtID0gcmUuZXhlYyhsaW5lKTsKICAgICAgICAgICAgaWYgKCFtKQogICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgIGlmIChtWzFdKQogICAgICAgICAgICAgICAgZGVwdGgtLTsKICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgZGVwdGgrKzsKICAgICAgICAgICAgaWYgKCFkZXB0aCkKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgICB2YXIgZW5kUm93ID0gcm93OwogICAgICAgIGlmIChlbmRSb3cgPiBzdGFydFJvdykgewogICAgICAgICAgICByZXR1cm4gbmV3IFJhbmdlKHN0YXJ0Um93LCBzdGFydENvbHVtbiwgZW5kUm93LCBsaW5lLmxlbmd0aCk7CiAgICAgICAgfQogICAgfTsKfSkuY2FsbChGb2xkTW9kZS5wcm90b3R5cGUpOwoKfSk7CgphY2UuZGVmaW5lKCJhY2UvbW9kZS9qc29uIixbInJlcXVpcmUiLCJleHBvcnRzIiwibW9kdWxlIiwiYWNlL2xpYi9vb3AiLCJhY2UvbW9kZS90ZXh0IiwiYWNlL21vZGUvanNvbl9oaWdobGlnaHRfcnVsZXMiLCJhY2UvbW9kZS9tYXRjaGluZ19icmFjZV9vdXRkZW50IiwiYWNlL21vZGUvYmVoYXZpb3VyL2NzdHlsZSIsImFjZS9tb2RlL2ZvbGRpbmcvY3N0eWxlIiwiYWNlL3dvcmtlci93b3JrZXJfY2xpZW50Il0sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSl7InVzZSBzdHJpY3QiOwp2YXIgb29wID0gcmVxdWlyZSgiLi4vbGliL29vcCIpOwp2YXIgVGV4dE1vZGUgPSByZXF1aXJlKCIuL3RleHQiKS5Nb2RlOwp2YXIgSGlnaGxpZ2h0UnVsZXMgPSByZXF1aXJlKCIuL2pzb25faGlnaGxpZ2h0X3J1bGVzIikuSnNvbkhpZ2hsaWdodFJ1bGVzOwp2YXIgTWF0Y2hpbmdCcmFjZU91dGRlbnQgPSByZXF1aXJlKCIuL21hdGNoaW5nX2JyYWNlX291dGRlbnQiKS5NYXRjaGluZ0JyYWNlT3V0ZGVudDsKdmFyIENzdHlsZUJlaGF2aW91ciA9IHJlcXVpcmUoIi4vYmVoYXZpb3VyL2NzdHlsZSIpLkNzdHlsZUJlaGF2aW91cjsKdmFyIENTdHlsZUZvbGRNb2RlID0gcmVxdWlyZSgiLi9mb2xkaW5nL2NzdHlsZSIpLkZvbGRNb2RlOwp2YXIgV29ya2VyQ2xpZW50ID0gcmVxdWlyZSgiLi4vd29ya2VyL3dvcmtlcl9jbGllbnQiKS5Xb3JrZXJDbGllbnQ7CnZhciBNb2RlID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy5IaWdobGlnaHRSdWxlcyA9IEhpZ2hsaWdodFJ1bGVzOwogICAgdGhpcy4kb3V0ZGVudCA9IG5ldyBNYXRjaGluZ0JyYWNlT3V0ZGVudCgpOwogICAgdGhpcy4kYmVoYXZpb3VyID0gbmV3IENzdHlsZUJlaGF2aW91cigpOwogICAgdGhpcy5mb2xkaW5nUnVsZXMgPSBuZXcgQ1N0eWxlRm9sZE1vZGUoKTsKfTsKb29wLmluaGVyaXRzKE1vZGUsIFRleHRNb2RlKTsKKGZ1bmN0aW9uICgpIHsKICAgIHRoaXMubGluZUNvbW1lbnRTdGFydCA9ICIvLyI7CiAgICB0aGlzLmJsb2NrQ29tbWVudCA9IHsgc3RhcnQ6ICIvKiIsIGVuZDogIiovIiB9OwogICAgdGhpcy5nZXROZXh0TGluZUluZGVudCA9IGZ1bmN0aW9uIChzdGF0ZSwgbGluZSwgdGFiKSB7CiAgICAgICAgdmFyIGluZGVudCA9IHRoaXMuJGdldEluZGVudChsaW5lKTsKICAgICAgICBpZiAoc3RhdGUgPT0gInN0YXJ0IikgewogICAgICAgICAgICB2YXIgbWF0Y2ggPSBsaW5lLm1hdGNoKC9eLipbXHtcKFxbXVxzKiQvKTsKICAgICAgICAgICAgaWYgKG1hdGNoKSB7CiAgICAgICAgICAgICAgICBpbmRlbnQgKz0gdGFiOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBpbmRlbnQ7CiAgICB9OwogICAgdGhpcy5jaGVja091dGRlbnQgPSBmdW5jdGlvbiAoc3RhdGUsIGxpbmUsIGlucHV0KSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJG91dGRlbnQuY2hlY2tPdXRkZW50KGxpbmUsIGlucHV0KTsKICAgIH07CiAgICB0aGlzLmF1dG9PdXRkZW50ID0gZnVuY3Rpb24gKHN0YXRlLCBkb2MsIHJvdykgewogICAgICAgIHRoaXMuJG91dGRlbnQuYXV0b091dGRlbnQoZG9jLCByb3cpOwogICAgfTsKICAgIHRoaXMuY3JlYXRlV29ya2VyID0gZnVuY3Rpb24gKHNlc3Npb24pIHsKICAgICAgICB2YXIgd29ya2VyID0gbmV3IFdvcmtlckNsaWVudChbImFjZSJdLCAiYWNlL21vZGUvanNvbl93b3JrZXIiLCAiSnNvbldvcmtlciIpOwogICAgICAgIHdvcmtlci5hdHRhY2hUb0RvY3VtZW50KHNlc3Npb24uZ2V0RG9jdW1lbnQoKSk7CiAgICAgICAgd29ya2VyLm9uKCJhbm5vdGF0ZSIsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIHNlc3Npb24uc2V0QW5ub3RhdGlvbnMoZS5kYXRhKTsKICAgICAgICB9KTsKICAgICAgICB3b3JrZXIub24oInRlcm1pbmF0ZSIsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgc2Vzc2lvbi5jbGVhckFubm90YXRpb25zKCk7CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIHdvcmtlcjsKICAgIH07CiAgICB0aGlzLiRpZCA9ICJhY2UvbW9kZS9qc29uIjsKfSkuY2FsbChNb2RlLnByb3RvdHlwZSk7CmV4cG9ydHMuTW9kZSA9IE1vZGU7Cgp9KTsgICAgICAgICAgICAgICAgKGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgIGFjZS5yZXF1aXJlKFsiYWNlL21vZGUvanNvbiJdLCBmdW5jdGlvbihtKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbW9kdWxlID09ICJvYmplY3QiICYmIHR5cGVvZiBleHBvcnRzID09ICJvYmplY3QiICYmIG1vZHVsZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBtOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KSgpOwogICAgICAgICAgICA=", workerJsonUrl = "data:application/javascript;base64,Im5vIHVzZSBzdHJpY3QiOwohKGZ1bmN0aW9uKHdpbmRvdykgewppZiAodHlwZW9mIHdpbmRvdy53aW5kb3cgIT0gInVuZGVmaW5lZCIgJiYgd2luZG93LmRvY3VtZW50KQogICAgcmV0dXJuOwppZiAod2luZG93LnJlcXVpcmUgJiYgd2luZG93LmRlZmluZSkKICAgIHJldHVybjsKCmlmICghd2luZG93LmNvbnNvbGUpIHsKICAgIHdpbmRvdy5jb25zb2xlID0gZnVuY3Rpb24oKSB7CiAgICAgICAgdmFyIG1zZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDApOwogICAgICAgIHBvc3RNZXNzYWdlKHt0eXBlOiAibG9nIiwgZGF0YTogbXNnc30pOwogICAgfTsKICAgIHdpbmRvdy5jb25zb2xlLmVycm9yID0KICAgIHdpbmRvdy5jb25zb2xlLndhcm4gPSAKICAgIHdpbmRvdy5jb25zb2xlLmxvZyA9CiAgICB3aW5kb3cuY29uc29sZS50cmFjZSA9IHdpbmRvdy5jb25zb2xlOwp9CndpbmRvdy53aW5kb3cgPSB3aW5kb3c7CndpbmRvdy5hY2UgPSB3aW5kb3c7Cgp3aW5kb3cub25lcnJvciA9IGZ1bmN0aW9uKG1lc3NhZ2UsIGZpbGUsIGxpbmUsIGNvbCwgZXJyKSB7CiAgICBwb3N0TWVzc2FnZSh7dHlwZTogImVycm9yIiwgZGF0YTogewogICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsCiAgICAgICAgZGF0YTogZXJyICYmIGVyci5kYXRhLAogICAgICAgIGZpbGU6IGZpbGUsCiAgICAgICAgbGluZTogbGluZSwgCiAgICAgICAgY29sOiBjb2wsCiAgICAgICAgc3RhY2s6IGVyciAmJiBlcnIuc3RhY2sKICAgIH19KTsKfTsKCndpbmRvdy5ub3JtYWxpemVNb2R1bGUgPSBmdW5jdGlvbihwYXJlbnRJZCwgbW9kdWxlTmFtZSkgewogICAgLy8gbm9ybWFsaXplIHBsdWdpbiByZXF1aXJlcwogICAgaWYgKG1vZHVsZU5hbWUuaW5kZXhPZigiISIpICE9PSAtMSkgewogICAgICAgIHZhciBjaHVua3MgPSBtb2R1bGVOYW1lLnNwbGl0KCIhIik7CiAgICAgICAgcmV0dXJuIHdpbmRvdy5ub3JtYWxpemVNb2R1bGUocGFyZW50SWQsIGNodW5rc1swXSkgKyAiISIgKyB3aW5kb3cubm9ybWFsaXplTW9kdWxlKHBhcmVudElkLCBjaHVua3NbMV0pOwogICAgfQogICAgLy8gbm9ybWFsaXplIHJlbGF0aXZlIHJlcXVpcmVzCiAgICBpZiAobW9kdWxlTmFtZS5jaGFyQXQoMCkgPT0gIi4iKSB7CiAgICAgICAgdmFyIGJhc2UgPSBwYXJlbnRJZC5zcGxpdCgiLyIpLnNsaWNlKDAsIC0xKS5qb2luKCIvIik7CiAgICAgICAgbW9kdWxlTmFtZSA9IChiYXNlID8gYmFzZSArICIvIiA6ICIiKSArIG1vZHVsZU5hbWU7CiAgICAgICAgCiAgICAgICAgd2hpbGUgKG1vZHVsZU5hbWUuaW5kZXhPZigiLiIpICE9PSAtMSAmJiBwcmV2aW91cyAhPSBtb2R1bGVOYW1lKSB7CiAgICAgICAgICAgIHZhciBwcmV2aW91cyA9IG1vZHVsZU5hbWU7CiAgICAgICAgICAgIG1vZHVsZU5hbWUgPSBtb2R1bGVOYW1lLnJlcGxhY2UoL15cLlwvLywgIiIpLnJlcGxhY2UoL1wvXC5cLy8sICIvIikucmVwbGFjZSgvW15cL10rXC9cLlwuXC8vLCAiIik7CiAgICAgICAgfQogICAgfQogICAgCiAgICByZXR1cm4gbW9kdWxlTmFtZTsKfTsKCndpbmRvdy5yZXF1aXJlID0gZnVuY3Rpb24gcmVxdWlyZShwYXJlbnRJZCwgaWQpIHsKICAgIGlmICghaWQpIHsKICAgICAgICBpZCA9IHBhcmVudElkOwogICAgICAgIHBhcmVudElkID0gbnVsbDsKICAgIH0KICAgIGlmICghaWQuY2hhckF0KQogICAgICAgIHRocm93IG5ldyBFcnJvcigid29ya2VyLmpzIHJlcXVpcmUoKSBhY2NlcHRzIG9ubHkgKHBhcmVudElkLCBpZCkgYXMgYXJndW1lbnRzIik7CgogICAgaWQgPSB3aW5kb3cubm9ybWFsaXplTW9kdWxlKHBhcmVudElkLCBpZCk7CgogICAgdmFyIG1vZHVsZSA9IHdpbmRvdy5yZXF1aXJlLm1vZHVsZXNbaWRdOwogICAgaWYgKG1vZHVsZSkgewogICAgICAgIGlmICghbW9kdWxlLmluaXRpYWxpemVkKSB7CiAgICAgICAgICAgIG1vZHVsZS5pbml0aWFsaXplZCA9IHRydWU7CiAgICAgICAgICAgIG1vZHVsZS5leHBvcnRzID0gbW9kdWxlLmZhY3RvcnkoKS5leHBvcnRzOwogICAgICAgIH0KICAgICAgICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7CiAgICB9CiAgIAogICAgaWYgKCF3aW5kb3cucmVxdWlyZS50bG5zKQogICAgICAgIHJldHVybiBjb25zb2xlLmxvZygidW5hYmxlIHRvIGxvYWQgIiArIGlkKTsKICAgIAogICAgdmFyIHBhdGggPSByZXNvbHZlTW9kdWxlSWQoaWQsIHdpbmRvdy5yZXF1aXJlLnRsbnMpOwogICAgaWYgKHBhdGguc2xpY2UoLTMpICE9ICIuanMiKSBwYXRoICs9ICIuanMiOwogICAgCiAgICB3aW5kb3cucmVxdWlyZS5pZCA9IGlkOwogICAgd2luZG93LnJlcXVpcmUubW9kdWxlc1tpZF0gPSB7fTsgLy8gcHJldmVudCBpbmZpbml0ZSBsb29wIG9uIGJyb2tlbiBtb2R1bGVzCiAgICBpbXBvcnRTY3JpcHRzKHBhdGgpOwogICAgcmV0dXJuIHdpbmRvdy5yZXF1aXJlKHBhcmVudElkLCBpZCk7Cn07CmZ1bmN0aW9uIHJlc29sdmVNb2R1bGVJZChpZCwgcGF0aHMpIHsKICAgIHZhciB0ZXN0UGF0aCA9IGlkLCB0YWlsID0gIiI7CiAgICB3aGlsZSAodGVzdFBhdGgpIHsKICAgICAgICB2YXIgYWxpYXMgPSBwYXRoc1t0ZXN0UGF0aF07CiAgICAgICAgaWYgKHR5cGVvZiBhbGlhcyA9PSAic3RyaW5nIikgewogICAgICAgICAgICByZXR1cm4gYWxpYXMgKyB0YWlsOwogICAgICAgIH0gZWxzZSBpZiAoYWxpYXMpIHsKICAgICAgICAgICAgcmV0dXJuICBhbGlhcy5sb2NhdGlvbi5yZXBsYWNlKC9cLyokLywgIi8iKSArICh0YWlsIHx8IGFsaWFzLm1haW4gfHwgYWxpYXMubmFtZSk7CiAgICAgICAgfSBlbHNlIGlmIChhbGlhcyA9PT0gZmFsc2UpIHsKICAgICAgICAgICAgcmV0dXJuICIiOwogICAgICAgIH0KICAgICAgICB2YXIgaSA9IHRlc3RQYXRoLmxhc3RJbmRleE9mKCIvIik7CiAgICAgICAgaWYgKGkgPT09IC0xKSBicmVhazsKICAgICAgICB0YWlsID0gdGVzdFBhdGguc3Vic3RyKGkpICsgdGFpbDsKICAgICAgICB0ZXN0UGF0aCA9IHRlc3RQYXRoLnNsaWNlKDAsIGkpOwogICAgfQogICAgcmV0dXJuIGlkOwp9CndpbmRvdy5yZXF1aXJlLm1vZHVsZXMgPSB7fTsKd2luZG93LnJlcXVpcmUudGxucyA9IHt9OwoKd2luZG93LmRlZmluZSA9IGZ1bmN0aW9uKGlkLCBkZXBzLCBmYWN0b3J5KSB7CiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PSAyKSB7CiAgICAgICAgZmFjdG9yeSA9IGRlcHM7CiAgICAgICAgaWYgKHR5cGVvZiBpZCAhPSAic3RyaW5nIikgewogICAgICAgICAgICBkZXBzID0gaWQ7CiAgICAgICAgICAgIGlkID0gd2luZG93LnJlcXVpcmUuaWQ7CiAgICAgICAgfQogICAgfSBlbHNlIGlmIChhcmd1bWVudHMubGVuZ3RoID09IDEpIHsKICAgICAgICBmYWN0b3J5ID0gaWQ7CiAgICAgICAgZGVwcyA9IFtdOwogICAgICAgIGlkID0gd2luZG93LnJlcXVpcmUuaWQ7CiAgICB9CiAgICAKICAgIGlmICh0eXBlb2YgZmFjdG9yeSAhPSAiZnVuY3Rpb24iKSB7CiAgICAgICAgd2luZG93LnJlcXVpcmUubW9kdWxlc1tpZF0gPSB7CiAgICAgICAgICAgIGV4cG9ydHM6IGZhY3RvcnksCiAgICAgICAgICAgIGluaXRpYWxpemVkOiB0cnVlCiAgICAgICAgfTsKICAgICAgICByZXR1cm47CiAgICB9CgogICAgaWYgKCFkZXBzLmxlbmd0aCkKICAgICAgICAvLyBJZiB0aGVyZSBpcyBubyBkZXBlbmRlbmNpZXMsIHdlIGluamVjdCAicmVxdWlyZSIsICJleHBvcnRzIiBhbmQKICAgICAgICAvLyAibW9kdWxlIiBhcyBkZXBlbmRlbmNpZXMsIHRvIHByb3ZpZGUgQ29tbW9uSlMgY29tcGF0aWJpbGl0eS4KICAgICAgICBkZXBzID0gWyJyZXF1aXJlIiwgImV4cG9ydHMiLCAibW9kdWxlIl07CgogICAgdmFyIHJlcSA9IGZ1bmN0aW9uKGNoaWxkSWQpIHsKICAgICAgICByZXR1cm4gd2luZG93LnJlcXVpcmUoaWQsIGNoaWxkSWQpOwogICAgfTsKCiAgICB3aW5kb3cucmVxdWlyZS5tb2R1bGVzW2lkXSA9IHsKICAgICAgICBleHBvcnRzOiB7fSwKICAgICAgICBmYWN0b3J5OiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgdmFyIG1vZHVsZSA9IHRoaXM7CiAgICAgICAgICAgIHZhciByZXR1cm5FeHBvcnRzID0gZmFjdG9yeS5hcHBseSh0aGlzLCBkZXBzLnNsaWNlKDAsIGZhY3RvcnkubGVuZ3RoKS5tYXAoZnVuY3Rpb24oZGVwKSB7CiAgICAgICAgICAgICAgICBzd2l0Y2ggKGRlcCkgewogICAgICAgICAgICAgICAgICAgIC8vIEJlY2F1c2UgInJlcXVpcmUiLCAiZXhwb3J0cyIgYW5kICJtb2R1bGUiIGFyZW4ndCBhY3R1YWwKICAgICAgICAgICAgICAgICAgICAvLyBkZXBlbmRlbmNpZXMsIHdlIG11c3QgaGFuZGxlIHRoZW0gc2VwZXJhdGVseS4KICAgICAgICAgICAgICAgICAgICBjYXNlICJyZXF1aXJlIjogcmV0dXJuIHJlcTsKICAgICAgICAgICAgICAgICAgICBjYXNlICJleHBvcnRzIjogcmV0dXJuIG1vZHVsZS5leHBvcnRzOwogICAgICAgICAgICAgICAgICAgIGNhc2UgIm1vZHVsZSI6ICByZXR1cm4gbW9kdWxlOwogICAgICAgICAgICAgICAgICAgIC8vIEJ1dCBmb3IgYWxsIG90aGVyIGRlcGVuZGVuY2llcywgd2UgY2FuIGp1c3QgZ28gYWhlYWQgYW5kCiAgICAgICAgICAgICAgICAgICAgLy8gcmVxdWlyZSB0aGVtLgogICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6ICAgICAgICByZXR1cm4gcmVxKGRlcCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pKTsKICAgICAgICAgICAgaWYgKHJldHVybkV4cG9ydHMpCiAgICAgICAgICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IHJldHVybkV4cG9ydHM7CiAgICAgICAgICAgIHJldHVybiBtb2R1bGU7CiAgICAgICAgfQogICAgfTsKfTsKd2luZG93LmRlZmluZS5hbWQgPSB7fTsKd2luZG93LnJlcXVpcmUudGxucyA9IHt9Owp3aW5kb3cuaW5pdEJhc2VVcmxzICA9IGZ1bmN0aW9uIGluaXRCYXNlVXJscyh0b3BMZXZlbE5hbWVzcGFjZXMpIHsKICAgIGZvciAodmFyIGkgaW4gdG9wTGV2ZWxOYW1lc3BhY2VzKQogICAgICAgIHRoaXMucmVxdWlyZS50bG5zW2ldID0gdG9wTGV2ZWxOYW1lc3BhY2VzW2ldOwp9OwoKd2luZG93LmluaXRTZW5kZXIgPSBmdW5jdGlvbiBpbml0U2VuZGVyKCkgewoKICAgIHZhciBFdmVudEVtaXR0ZXIgPSB3aW5kb3cucmVxdWlyZSgiYWNlL2xpYi9ldmVudF9lbWl0dGVyIikuRXZlbnRFbWl0dGVyOwogICAgdmFyIG9vcCA9IHdpbmRvdy5yZXF1aXJlKCJhY2UvbGliL29vcCIpOwogICAgCiAgICB2YXIgU2VuZGVyID0gZnVuY3Rpb24oKSB7fTsKICAgIAogICAgKGZ1bmN0aW9uKCkgewogICAgICAgIAogICAgICAgIG9vcC5pbXBsZW1lbnQodGhpcywgRXZlbnRFbWl0dGVyKTsKICAgICAgICAgICAgICAgIAogICAgICAgIHRoaXMuY2FsbGJhY2sgPSBmdW5jdGlvbihkYXRhLCBjYWxsYmFja0lkKSB7CiAgICAgICAgICAgIHBvc3RNZXNzYWdlKHsKICAgICAgICAgICAgICAgIHR5cGU6ICJjYWxsIiwKICAgICAgICAgICAgICAgIGlkOiBjYWxsYmFja0lkLAogICAgICAgICAgICAgICAgZGF0YTogZGF0YQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgCiAgICAgICAgdGhpcy5lbWl0ID0gZnVuY3Rpb24obmFtZSwgZGF0YSkgewogICAgICAgICAgICBwb3N0TWVzc2FnZSh7CiAgICAgICAgICAgICAgICB0eXBlOiAiZXZlbnQiLAogICAgICAgICAgICAgICAgbmFtZTogbmFtZSwKICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEKICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICAKICAgIH0pLmNhbGwoU2VuZGVyLnByb3RvdHlwZSk7CiAgICAKICAgIHJldHVybiBuZXcgU2VuZGVyKCk7Cn07Cgp2YXIgbWFpbiA9IHdpbmRvdy5tYWluID0gbnVsbDsKdmFyIHNlbmRlciA9IHdpbmRvdy5zZW5kZXIgPSBudWxsOwoKd2luZG93Lm9ubWVzc2FnZSA9IGZ1bmN0aW9uKGUpIHsKICAgIHZhciBtc2cgPSBlLmRhdGE7CiAgICBpZiAobXNnLmV2ZW50ICYmIHNlbmRlcikgewogICAgICAgIHNlbmRlci5fc2lnbmFsKG1zZy5ldmVudCwgbXNnLmRhdGEpOwogICAgfQogICAgZWxzZSBpZiAobXNnLmNvbW1hbmQpIHsKICAgICAgICBpZiAobWFpblttc2cuY29tbWFuZF0pCiAgICAgICAgICAgIG1haW5bbXNnLmNvbW1hbmRdLmFwcGx5KG1haW4sIG1zZy5hcmdzKTsKICAgICAgICBlbHNlIGlmICh3aW5kb3dbbXNnLmNvbW1hbmRdKQogICAgICAgICAgICB3aW5kb3dbbXNnLmNvbW1hbmRdLmFwcGx5KHdpbmRvdywgbXNnLmFyZ3MpOwogICAgICAgIGVsc2UKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJVbmtub3duIGNvbW1hbmQ6IiArIG1zZy5jb21tYW5kKTsKICAgIH0KICAgIGVsc2UgaWYgKG1zZy5pbml0KSB7CiAgICAgICAgd2luZG93LmluaXRCYXNlVXJscyhtc2cudGxucyk7CiAgICAgICAgc2VuZGVyID0gd2luZG93LnNlbmRlciA9IHdpbmRvdy5pbml0U2VuZGVyKCk7CiAgICAgICAgdmFyIGNsYXp6ID0gdGhpcy5yZXF1aXJlKG1zZy5tb2R1bGUpW21zZy5jbGFzc25hbWVdOwogICAgICAgIG1haW4gPSB3aW5kb3cubWFpbiA9IG5ldyBjbGF6eihzZW5kZXIpOwogICAgfQp9Owp9KSh0aGlzKTsKCmFjZS5kZWZpbmUoImFjZS9saWIvb29wIixbXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKXsidXNlIHN0cmljdCI7CmV4cG9ydHMuaW5oZXJpdHMgPSBmdW5jdGlvbiAoY3Rvciwgc3VwZXJDdG9yKSB7CiAgICBjdG9yLnN1cGVyXyA9IHN1cGVyQ3RvcjsKICAgIGN0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckN0b3IucHJvdG90eXBlLCB7CiAgICAgICAgY29uc3RydWN0b3I6IHsKICAgICAgICAgICAgdmFsdWU6IGN0b3IsCiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLAogICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSwKICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlCiAgICAgICAgfQogICAgfSk7Cn07CmV4cG9ydHMubWl4aW4gPSBmdW5jdGlvbiAob2JqLCBtaXhpbikgewogICAgZm9yICh2YXIga2V5IGluIG1peGluKSB7CiAgICAgICAgb2JqW2tleV0gPSBtaXhpbltrZXldOwogICAgfQogICAgcmV0dXJuIG9iajsKfTsKZXhwb3J0cy5pbXBsZW1lbnQgPSBmdW5jdGlvbiAocHJvdG8sIG1peGluKSB7CiAgICBleHBvcnRzLm1peGluKHByb3RvLCBtaXhpbik7Cn07Cgp9KTsKCmFjZS5kZWZpbmUoImFjZS9hcHBseV9kZWx0YSIsW10sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSl7InVzZSBzdHJpY3QiOwpmdW5jdGlvbiB0aHJvd0RlbHRhRXJyb3IoZGVsdGEsIGVycm9yVGV4dCkgewogICAgY29uc29sZS5sb2coIkludmFsaWQgRGVsdGE6IiwgZGVsdGEpOwogICAgdGhyb3cgIkludmFsaWQgRGVsdGE6ICIgKyBlcnJvclRleHQ7Cn0KZnVuY3Rpb24gcG9zaXRpb25JbkRvY3VtZW50KGRvY0xpbmVzLCBwb3NpdGlvbikgewogICAgcmV0dXJuIHBvc2l0aW9uLnJvdyA+PSAwICYmIHBvc2l0aW9uLnJvdyA8IGRvY0xpbmVzLmxlbmd0aCAmJgogICAgICAgIHBvc2l0aW9uLmNvbHVtbiA+PSAwICYmIHBvc2l0aW9uLmNvbHVtbiA8PSBkb2NMaW5lc1twb3NpdGlvbi5yb3ddLmxlbmd0aDsKfQpmdW5jdGlvbiB2YWxpZGF0ZURlbHRhKGRvY0xpbmVzLCBkZWx0YSkgewogICAgaWYgKGRlbHRhLmFjdGlvbiAhPSAiaW5zZXJ0IiAmJiBkZWx0YS5hY3Rpb24gIT0gInJlbW92ZSIpCiAgICAgICAgdGhyb3dEZWx0YUVycm9yKGRlbHRhLCAiZGVsdGEuYWN0aW9uIG11c3QgYmUgJ2luc2VydCcgb3IgJ3JlbW92ZSciKTsKICAgIGlmICghKGRlbHRhLmxpbmVzIGluc3RhbmNlb2YgQXJyYXkpKQogICAgICAgIHRocm93RGVsdGFFcnJvcihkZWx0YSwgImRlbHRhLmxpbmVzIG11c3QgYmUgYW4gQXJyYXkiKTsKICAgIGlmICghZGVsdGEuc3RhcnQgfHwgIWRlbHRhLmVuZCkKICAgICAgICB0aHJvd0RlbHRhRXJyb3IoZGVsdGEsICJkZWx0YS5zdGFydC9lbmQgbXVzdCBiZSBhbiBwcmVzZW50Iik7CiAgICB2YXIgc3RhcnQgPSBkZWx0YS5zdGFydDsKICAgIGlmICghcG9zaXRpb25JbkRvY3VtZW50KGRvY0xpbmVzLCBkZWx0YS5zdGFydCkpCiAgICAgICAgdGhyb3dEZWx0YUVycm9yKGRlbHRhLCAiZGVsdGEuc3RhcnQgbXVzdCBiZSBjb250YWluZWQgaW4gZG9jdW1lbnQiKTsKICAgIHZhciBlbmQgPSBkZWx0YS5lbmQ7CiAgICBpZiAoZGVsdGEuYWN0aW9uID09ICJyZW1vdmUiICYmICFwb3NpdGlvbkluRG9jdW1lbnQoZG9jTGluZXMsIGVuZCkpCiAgICAgICAgdGhyb3dEZWx0YUVycm9yKGRlbHRhLCAiZGVsdGEuZW5kIG11c3QgY29udGFpbmVkIGluIGRvY3VtZW50IGZvciAncmVtb3ZlJyBhY3Rpb25zIik7CiAgICB2YXIgbnVtUmFuZ2VSb3dzID0gZW5kLnJvdyAtIHN0YXJ0LnJvdzsKICAgIHZhciBudW1SYW5nZUxhc3RMaW5lQ2hhcnMgPSAoZW5kLmNvbHVtbiAtIChudW1SYW5nZVJvd3MgPT0gMCA/IHN0YXJ0LmNvbHVtbiA6IDApKTsKICAgIGlmIChudW1SYW5nZVJvd3MgIT0gZGVsdGEubGluZXMubGVuZ3RoIC0gMSB8fCBkZWx0YS5saW5lc1tudW1SYW5nZVJvd3NdLmxlbmd0aCAhPSBudW1SYW5nZUxhc3RMaW5lQ2hhcnMpCiAgICAgICAgdGhyb3dEZWx0YUVycm9yKGRlbHRhLCAiZGVsdGEucmFuZ2UgbXVzdCBtYXRjaCBkZWx0YSBsaW5lcyIpOwp9CmV4cG9ydHMuYXBwbHlEZWx0YSA9IGZ1bmN0aW9uIChkb2NMaW5lcywgZGVsdGEsIGRvTm90VmFsaWRhdGUpIHsKICAgIHZhciByb3cgPSBkZWx0YS5zdGFydC5yb3c7CiAgICB2YXIgc3RhcnRDb2x1bW4gPSBkZWx0YS5zdGFydC5jb2x1bW47CiAgICB2YXIgbGluZSA9IGRvY0xpbmVzW3Jvd10gfHwgIiI7CiAgICBzd2l0Y2ggKGRlbHRhLmFjdGlvbikgewogICAgICAgIGNhc2UgImluc2VydCI6CiAgICAgICAgICAgIHZhciBsaW5lcyA9IGRlbHRhLmxpbmVzOwogICAgICAgICAgICBpZiAobGluZXMubGVuZ3RoID09PSAxKSB7CiAgICAgICAgICAgICAgICBkb2NMaW5lc1tyb3ddID0gbGluZS5zdWJzdHJpbmcoMCwgc3RhcnRDb2x1bW4pICsgZGVsdGEubGluZXNbMF0gKyBsaW5lLnN1YnN0cmluZyhzdGFydENvbHVtbik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICB2YXIgYXJncyA9IFtyb3csIDFdLmNvbmNhdChkZWx0YS5saW5lcyk7CiAgICAgICAgICAgICAgICBkb2NMaW5lcy5zcGxpY2UuYXBwbHkoZG9jTGluZXMsIGFyZ3MpOwogICAgICAgICAgICAgICAgZG9jTGluZXNbcm93XSA9IGxpbmUuc3Vic3RyaW5nKDAsIHN0YXJ0Q29sdW1uKSArIGRvY0xpbmVzW3Jvd107CiAgICAgICAgICAgICAgICBkb2NMaW5lc1tyb3cgKyBkZWx0YS5saW5lcy5sZW5ndGggLSAxXSArPSBsaW5lLnN1YnN0cmluZyhzdGFydENvbHVtbik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAicmVtb3ZlIjoKICAgICAgICAgICAgdmFyIGVuZENvbHVtbiA9IGRlbHRhLmVuZC5jb2x1bW47CiAgICAgICAgICAgIHZhciBlbmRSb3cgPSBkZWx0YS5lbmQucm93OwogICAgICAgICAgICBpZiAocm93ID09PSBlbmRSb3cpIHsKICAgICAgICAgICAgICAgIGRvY0xpbmVzW3Jvd10gPSBsaW5lLnN1YnN0cmluZygwLCBzdGFydENvbHVtbikgKyBsaW5lLnN1YnN0cmluZyhlbmRDb2x1bW4pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgZG9jTGluZXMuc3BsaWNlKHJvdywgZW5kUm93IC0gcm93ICsgMSwgbGluZS5zdWJzdHJpbmcoMCwgc3RhcnRDb2x1bW4pICsgZG9jTGluZXNbZW5kUm93XS5zdWJzdHJpbmcoZW5kQ29sdW1uKSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgYnJlYWs7CiAgICB9Cn07Cgp9KTsKCmFjZS5kZWZpbmUoImFjZS9saWIvZXZlbnRfZW1pdHRlciIsW10sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSl7InVzZSBzdHJpY3QiOwp2YXIgRXZlbnRFbWl0dGVyID0ge307CnZhciBzdG9wUHJvcGFnYXRpb24gPSBmdW5jdGlvbiAoKSB7IHRoaXMucHJvcGFnYXRpb25TdG9wcGVkID0gdHJ1ZTsgfTsKdmFyIHByZXZlbnREZWZhdWx0ID0gZnVuY3Rpb24gKCkgeyB0aGlzLmRlZmF1bHRQcmV2ZW50ZWQgPSB0cnVlOyB9OwpFdmVudEVtaXR0ZXIuX2VtaXQgPQogICAgRXZlbnRFbWl0dGVyLl9kaXNwYXRjaEV2ZW50ID0gZnVuY3Rpb24gKGV2ZW50TmFtZSwgZSkgewogICAgICAgIHRoaXMuX2V2ZW50UmVnaXN0cnkgfHwgKHRoaXMuX2V2ZW50UmVnaXN0cnkgPSB7fSk7CiAgICAgICAgdGhpcy5fZGVmYXVsdEhhbmRsZXJzIHx8ICh0aGlzLl9kZWZhdWx0SGFuZGxlcnMgPSB7fSk7CiAgICAgICAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50UmVnaXN0cnlbZXZlbnROYW1lXSB8fCBbXTsKICAgICAgICB2YXIgZGVmYXVsdEhhbmRsZXIgPSB0aGlzLl9kZWZhdWx0SGFuZGxlcnNbZXZlbnROYW1lXTsKICAgICAgICBpZiAoIWxpc3RlbmVycy5sZW5ndGggJiYgIWRlZmF1bHRIYW5kbGVyKQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgaWYgKHR5cGVvZiBlICE9ICJvYmplY3QiIHx8ICFlKQogICAgICAgICAgICBlID0ge307CiAgICAgICAgaWYgKCFlLnR5cGUpCiAgICAgICAgICAgIGUudHlwZSA9IGV2ZW50TmFtZTsKICAgICAgICBpZiAoIWUuc3RvcFByb3BhZ2F0aW9uKQogICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbiA9IHN0b3BQcm9wYWdhdGlvbjsKICAgICAgICBpZiAoIWUucHJldmVudERlZmF1bHQpCiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQgPSBwcmV2ZW50RGVmYXVsdDsKICAgICAgICBsaXN0ZW5lcnMgPSBsaXN0ZW5lcnMuc2xpY2UoKTsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBsaXN0ZW5lcnNbaV0oZSwgdGhpcyk7CiAgICAgICAgICAgIGlmIChlLnByb3BhZ2F0aW9uU3RvcHBlZCkKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgICBpZiAoZGVmYXVsdEhhbmRsZXIgJiYgIWUuZGVmYXVsdFByZXZlbnRlZCkKICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRIYW5kbGVyKGUsIHRoaXMpOwogICAgfTsKRXZlbnRFbWl0dGVyLl9zaWduYWwgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBlKSB7CiAgICB2YXIgbGlzdGVuZXJzID0gKHRoaXMuX2V2ZW50UmVnaXN0cnkgfHwge30pW2V2ZW50TmFtZV07CiAgICBpZiAoIWxpc3RlbmVycykKICAgICAgICByZXR1cm47CiAgICBsaXN0ZW5lcnMgPSBsaXN0ZW5lcnMuc2xpY2UoKTsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdGVuZXJzLmxlbmd0aDsgaSsrKQogICAgICAgIGxpc3RlbmVyc1tpXShlLCB0aGlzKTsKfTsKRXZlbnRFbWl0dGVyLm9uY2UgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBjYWxsYmFjaykgewogICAgdmFyIF9zZWxmID0gdGhpczsKICAgIHRoaXMub24oZXZlbnROYW1lLCBmdW5jdGlvbiBuZXdDYWxsYmFjaygpIHsKICAgICAgICBfc2VsZi5vZmYoZXZlbnROYW1lLCBuZXdDYWxsYmFjayk7CiAgICAgICAgY2FsbGJhY2suYXBwbHkobnVsbCwgYXJndW1lbnRzKTsKICAgIH0pOwogICAgaWYgKCFjYWxsYmFjaykgewogICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICBjYWxsYmFjayA9IHJlc29sdmU7CiAgICAgICAgfSk7CiAgICB9Cn07CkV2ZW50RW1pdHRlci5zZXREZWZhdWx0SGFuZGxlciA9IGZ1bmN0aW9uIChldmVudE5hbWUsIGNhbGxiYWNrKSB7CiAgICB2YXIgaGFuZGxlcnMgPSB0aGlzLl9kZWZhdWx0SGFuZGxlcnM7CiAgICBpZiAoIWhhbmRsZXJzKQogICAgICAgIGhhbmRsZXJzID0gdGhpcy5fZGVmYXVsdEhhbmRsZXJzID0geyBfZGlzYWJsZWRfOiB7fSB9OwogICAgaWYgKGhhbmRsZXJzW2V2ZW50TmFtZV0pIHsKICAgICAgICB2YXIgb2xkID0gaGFuZGxlcnNbZXZlbnROYW1lXTsKICAgICAgICB2YXIgZGlzYWJsZWQgPSBoYW5kbGVycy5fZGlzYWJsZWRfW2V2ZW50TmFtZV07CiAgICAgICAgaWYgKCFkaXNhYmxlZCkKICAgICAgICAgICAgaGFuZGxlcnMuX2Rpc2FibGVkX1tldmVudE5hbWVdID0gZGlzYWJsZWQgPSBbXTsKICAgICAgICBkaXNhYmxlZC5wdXNoKG9sZCk7CiAgICAgICAgdmFyIGkgPSBkaXNhYmxlZC5pbmRleE9mKGNhbGxiYWNrKTsKICAgICAgICBpZiAoaSAhPSAtMSkKICAgICAgICAgICAgZGlzYWJsZWQuc3BsaWNlKGksIDEpOwogICAgfQogICAgaGFuZGxlcnNbZXZlbnROYW1lXSA9IGNhbGxiYWNrOwp9OwpFdmVudEVtaXR0ZXIucmVtb3ZlRGVmYXVsdEhhbmRsZXIgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBjYWxsYmFjaykgewogICAgdmFyIGhhbmRsZXJzID0gdGhpcy5fZGVmYXVsdEhhbmRsZXJzOwogICAgaWYgKCFoYW5kbGVycykKICAgICAgICByZXR1cm47CiAgICB2YXIgZGlzYWJsZWQgPSBoYW5kbGVycy5fZGlzYWJsZWRfW2V2ZW50TmFtZV07CiAgICBpZiAoaGFuZGxlcnNbZXZlbnROYW1lXSA9PSBjYWxsYmFjaykgewogICAgICAgIGlmIChkaXNhYmxlZCkKICAgICAgICAgICAgdGhpcy5zZXREZWZhdWx0SGFuZGxlcihldmVudE5hbWUsIGRpc2FibGVkLnBvcCgpKTsKICAgIH0KICAgIGVsc2UgaWYgKGRpc2FibGVkKSB7CiAgICAgICAgdmFyIGkgPSBkaXNhYmxlZC5pbmRleE9mKGNhbGxiYWNrKTsKICAgICAgICBpZiAoaSAhPSAtMSkKICAgICAgICAgICAgZGlzYWJsZWQuc3BsaWNlKGksIDEpOwogICAgfQp9OwpFdmVudEVtaXR0ZXIub24gPQogICAgRXZlbnRFbWl0dGVyLmFkZEV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBjYWxsYmFjaywgY2FwdHVyaW5nKSB7CiAgICAgICAgdGhpcy5fZXZlbnRSZWdpc3RyeSA9IHRoaXMuX2V2ZW50UmVnaXN0cnkgfHwge307CiAgICAgICAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50UmVnaXN0cnlbZXZlbnROYW1lXTsKICAgICAgICBpZiAoIWxpc3RlbmVycykKICAgICAgICAgICAgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRSZWdpc3RyeVtldmVudE5hbWVdID0gW107CiAgICAgICAgaWYgKGxpc3RlbmVycy5pbmRleE9mKGNhbGxiYWNrKSA9PSAtMSkKICAgICAgICAgICAgbGlzdGVuZXJzW2NhcHR1cmluZyA/ICJ1bnNoaWZ0IiA6ICJwdXNoIl0oY2FsbGJhY2spOwogICAgICAgIHJldHVybiBjYWxsYmFjazsKICAgIH07CkV2ZW50RW1pdHRlci5vZmYgPQogICAgRXZlbnRFbWl0dGVyLnJlbW92ZUxpc3RlbmVyID0KICAgICAgICBFdmVudEVtaXR0ZXIucmVtb3ZlRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uIChldmVudE5hbWUsIGNhbGxiYWNrKSB7CiAgICAgICAgICAgIHRoaXMuX2V2ZW50UmVnaXN0cnkgPSB0aGlzLl9ldmVudFJlZ2lzdHJ5IHx8IHt9OwogICAgICAgICAgICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRSZWdpc3RyeVtldmVudE5hbWVdOwogICAgICAgICAgICBpZiAoIWxpc3RlbmVycykKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgdmFyIGluZGV4ID0gbGlzdGVuZXJzLmluZGV4T2YoY2FsbGJhY2spOwogICAgICAgICAgICBpZiAoaW5kZXggIT09IC0xKQogICAgICAgICAgICAgICAgbGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7CiAgICAgICAgfTsKRXZlbnRFbWl0dGVyLnJlbW92ZUFsbExpc3RlbmVycyA9IGZ1bmN0aW9uIChldmVudE5hbWUpIHsKICAgIGlmICghZXZlbnROYW1lKQogICAgICAgIHRoaXMuX2V2ZW50UmVnaXN0cnkgPSB0aGlzLl9kZWZhdWx0SGFuZGxlcnMgPSB1bmRlZmluZWQ7CiAgICBpZiAodGhpcy5fZXZlbnRSZWdpc3RyeSkKICAgICAgICB0aGlzLl9ldmVudFJlZ2lzdHJ5W2V2ZW50TmFtZV0gPSB1bmRlZmluZWQ7CiAgICBpZiAodGhpcy5fZGVmYXVsdEhhbmRsZXJzKQogICAgICAgIHRoaXMuX2RlZmF1bHRIYW5kbGVyc1tldmVudE5hbWVdID0gdW5kZWZpbmVkOwp9OwpleHBvcnRzLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjsKCn0pOwoKYWNlLmRlZmluZSgiYWNlL3JhbmdlIixbXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKXsidXNlIHN0cmljdCI7CnZhciBjb21wYXJlUG9pbnRzID0gZnVuY3Rpb24gKHAxLCBwMikgewogICAgcmV0dXJuIHAxLnJvdyAtIHAyLnJvdyB8fCBwMS5jb2x1bW4gLSBwMi5jb2x1bW47Cn07CnZhciBSYW5nZSA9IGZ1bmN0aW9uIChzdGFydFJvdywgc3RhcnRDb2x1bW4sIGVuZFJvdywgZW5kQ29sdW1uKSB7CiAgICB0aGlzLnN0YXJ0ID0gewogICAgICAgIHJvdzogc3RhcnRSb3csCiAgICAgICAgY29sdW1uOiBzdGFydENvbHVtbgogICAgfTsKICAgIHRoaXMuZW5kID0gewogICAgICAgIHJvdzogZW5kUm93LAogICAgICAgIGNvbHVtbjogZW5kQ29sdW1uCiAgICB9Owp9OwooZnVuY3Rpb24gKCkgewogICAgdGhpcy5pc0VxdWFsID0gZnVuY3Rpb24gKHJhbmdlKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuc3RhcnQucm93ID09PSByYW5nZS5zdGFydC5yb3cgJiYKICAgICAgICAgICAgdGhpcy5lbmQucm93ID09PSByYW5nZS5lbmQucm93ICYmCiAgICAgICAgICAgIHRoaXMuc3RhcnQuY29sdW1uID09PSByYW5nZS5zdGFydC5jb2x1bW4gJiYKICAgICAgICAgICAgdGhpcy5lbmQuY29sdW1uID09PSByYW5nZS5lbmQuY29sdW1uOwogICAgfTsKICAgIHRoaXMudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuICgiUmFuZ2U6IFsiICsgdGhpcy5zdGFydC5yb3cgKyAiLyIgKyB0aGlzLnN0YXJ0LmNvbHVtbiArCiAgICAgICAgICAgICJdIC0+IFsiICsgdGhpcy5lbmQucm93ICsgIi8iICsgdGhpcy5lbmQuY29sdW1uICsgIl0iKTsKICAgIH07CiAgICB0aGlzLmNvbnRhaW5zID0gZnVuY3Rpb24gKHJvdywgY29sdW1uKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuY29tcGFyZShyb3csIGNvbHVtbikgPT0gMDsKICAgIH07CiAgICB0aGlzLmNvbXBhcmVSYW5nZSA9IGZ1bmN0aW9uIChyYW5nZSkgewogICAgICAgIHZhciBjbXAsIGVuZCA9IHJhbmdlLmVuZCwgc3RhcnQgPSByYW5nZS5zdGFydDsKICAgICAgICBjbXAgPSB0aGlzLmNvbXBhcmUoZW5kLnJvdywgZW5kLmNvbHVtbik7CiAgICAgICAgaWYgKGNtcCA9PSAxKSB7CiAgICAgICAgICAgIGNtcCA9IHRoaXMuY29tcGFyZShzdGFydC5yb3csIHN0YXJ0LmNvbHVtbik7CiAgICAgICAgICAgIGlmIChjbXAgPT0gMSkgewogICAgICAgICAgICAgICAgcmV0dXJuIDI7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSBpZiAoY21wID09IDApIHsKICAgICAgICAgICAgICAgIHJldHVybiAxOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZWxzZSBpZiAoY21wID09IC0xKSB7CiAgICAgICAgICAgIHJldHVybiAtMjsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIGNtcCA9IHRoaXMuY29tcGFyZShzdGFydC5yb3csIHN0YXJ0LmNvbHVtbik7CiAgICAgICAgICAgIGlmIChjbXAgPT0gLTEpIHsKICAgICAgICAgICAgICAgIHJldHVybiAtMTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIGlmIChjbXAgPT0gMSkgewogICAgICAgICAgICAgICAgcmV0dXJuIDQyOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9OwogICAgdGhpcy5jb21wYXJlUG9pbnQgPSBmdW5jdGlvbiAocCkgewogICAgICAgIHJldHVybiB0aGlzLmNvbXBhcmUocC5yb3csIHAuY29sdW1uKTsKICAgIH07CiAgICB0aGlzLmNvbnRhaW5zUmFuZ2UgPSBmdW5jdGlvbiAocmFuZ2UpIHsKICAgICAgICByZXR1cm4gdGhpcy5jb21wYXJlUG9pbnQocmFuZ2Uuc3RhcnQpID09IDAgJiYgdGhpcy5jb21wYXJlUG9pbnQocmFuZ2UuZW5kKSA9PSAwOwogICAgfTsKICAgIHRoaXMuaW50ZXJzZWN0cyA9IGZ1bmN0aW9uIChyYW5nZSkgewogICAgICAgIHZhciBjbXAgPSB0aGlzLmNvbXBhcmVSYW5nZShyYW5nZSk7CiAgICAgICAgcmV0dXJuIChjbXAgPT0gLTEgfHwgY21wID09IDAgfHwgY21wID09IDEpOwogICAgfTsKICAgIHRoaXMuaXNFbmQgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICByZXR1cm4gdGhpcy5lbmQucm93ID09IHJvdyAmJiB0aGlzLmVuZC5jb2x1bW4gPT0gY29sdW1uOwogICAgfTsKICAgIHRoaXMuaXNTdGFydCA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICAgIHJldHVybiB0aGlzLnN0YXJ0LnJvdyA9PSByb3cgJiYgdGhpcy5zdGFydC5jb2x1bW4gPT0gY29sdW1uOwogICAgfTsKICAgIHRoaXMuc2V0U3RhcnQgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICBpZiAodHlwZW9mIHJvdyA9PSAib2JqZWN0IikgewogICAgICAgICAgICB0aGlzLnN0YXJ0LmNvbHVtbiA9IHJvdy5jb2x1bW47CiAgICAgICAgICAgIHRoaXMuc3RhcnQucm93ID0gcm93LnJvdzsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIHRoaXMuc3RhcnQucm93ID0gcm93OwogICAgICAgICAgICB0aGlzLnN0YXJ0LmNvbHVtbiA9IGNvbHVtbjsKICAgICAgICB9CiAgICB9OwogICAgdGhpcy5zZXRFbmQgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICBpZiAodHlwZW9mIHJvdyA9PSAib2JqZWN0IikgewogICAgICAgICAgICB0aGlzLmVuZC5jb2x1bW4gPSByb3cuY29sdW1uOwogICAgICAgICAgICB0aGlzLmVuZC5yb3cgPSByb3cucm93OwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgdGhpcy5lbmQucm93ID0gcm93OwogICAgICAgICAgICB0aGlzLmVuZC5jb2x1bW4gPSBjb2x1bW47CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMuaW5zaWRlID0gZnVuY3Rpb24gKHJvdywgY29sdW1uKSB7CiAgICAgICAgaWYgKHRoaXMuY29tcGFyZShyb3csIGNvbHVtbikgPT0gMCkgewogICAgICAgICAgICBpZiAodGhpcy5pc0VuZChyb3csIGNvbHVtbikgfHwgdGhpcy5pc1N0YXJ0KHJvdywgY29sdW1uKSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfTsKICAgIHRoaXMuaW5zaWRlU3RhcnQgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICBpZiAodGhpcy5jb21wYXJlKHJvdywgY29sdW1uKSA9PSAwKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmlzRW5kKHJvdywgY29sdW1uKSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfTsKICAgIHRoaXMuaW5zaWRlRW5kID0gZnVuY3Rpb24gKHJvdywgY29sdW1uKSB7CiAgICAgICAgaWYgKHRoaXMuY29tcGFyZShyb3csIGNvbHVtbikgPT0gMCkgewogICAgICAgICAgICBpZiAodGhpcy5pc1N0YXJ0KHJvdywgY29sdW1uKSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfTsKICAgIHRoaXMuY29tcGFyZSA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICAgIGlmICghdGhpcy5pc011bHRpTGluZSgpKSB7CiAgICAgICAgICAgIGlmIChyb3cgPT09IHRoaXMuc3RhcnQucm93KSB7CiAgICAgICAgICAgICAgICByZXR1cm4gY29sdW1uIDwgdGhpcy5zdGFydC5jb2x1bW4gPyAtMSA6IChjb2x1bW4gPiB0aGlzLmVuZC5jb2x1bW4gPyAxIDogMCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKHJvdyA8IHRoaXMuc3RhcnQucm93KQogICAgICAgICAgICByZXR1cm4gLTE7CiAgICAgICAgaWYgKHJvdyA+IHRoaXMuZW5kLnJvdykKICAgICAgICAgICAgcmV0dXJuIDE7CiAgICAgICAgaWYgKHRoaXMuc3RhcnQucm93ID09PSByb3cpCiAgICAgICAgICAgIHJldHVybiBjb2x1bW4gPj0gdGhpcy5zdGFydC5jb2x1bW4gPyAwIDogLTE7CiAgICAgICAgaWYgKHRoaXMuZW5kLnJvdyA9PT0gcm93KQogICAgICAgICAgICByZXR1cm4gY29sdW1uIDw9IHRoaXMuZW5kLmNvbHVtbiA/IDAgOiAxOwogICAgICAgIHJldHVybiAwOwogICAgfTsKICAgIHRoaXMuY29tcGFyZVN0YXJ0ID0gZnVuY3Rpb24gKHJvdywgY29sdW1uKSB7CiAgICAgICAgaWYgKHRoaXMuc3RhcnQucm93ID09IHJvdyAmJiB0aGlzLnN0YXJ0LmNvbHVtbiA9PSBjb2x1bW4pIHsKICAgICAgICAgICAgcmV0dXJuIC0xOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29tcGFyZShyb3csIGNvbHVtbik7CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMuY29tcGFyZUVuZCA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICAgIGlmICh0aGlzLmVuZC5yb3cgPT0gcm93ICYmIHRoaXMuZW5kLmNvbHVtbiA9PSBjb2x1bW4pIHsKICAgICAgICAgICAgcmV0dXJuIDE7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICByZXR1cm4gdGhpcy5jb21wYXJlKHJvdywgY29sdW1uKTsKICAgICAgICB9CiAgICB9OwogICAgdGhpcy5jb21wYXJlSW5zaWRlID0gZnVuY3Rpb24gKHJvdywgY29sdW1uKSB7CiAgICAgICAgaWYgKHRoaXMuZW5kLnJvdyA9PSByb3cgJiYgdGhpcy5lbmQuY29sdW1uID09IGNvbHVtbikgewogICAgICAgICAgICByZXR1cm4gMTsKICAgICAgICB9CiAgICAgICAgZWxzZSBpZiAodGhpcy5zdGFydC5yb3cgPT0gcm93ICYmIHRoaXMuc3RhcnQuY29sdW1uID09IGNvbHVtbikgewogICAgICAgICAgICByZXR1cm4gLTE7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICByZXR1cm4gdGhpcy5jb21wYXJlKHJvdywgY29sdW1uKTsKICAgICAgICB9CiAgICB9OwogICAgdGhpcy5jbGlwUm93cyA9IGZ1bmN0aW9uIChmaXJzdFJvdywgbGFzdFJvdykgewogICAgICAgIGlmICh0aGlzLmVuZC5yb3cgPiBsYXN0Um93KQogICAgICAgICAgICB2YXIgZW5kID0geyByb3c6IGxhc3RSb3cgKyAxLCBjb2x1bW46IDAgfTsKICAgICAgICBlbHNlIGlmICh0aGlzLmVuZC5yb3cgPCBmaXJzdFJvdykKICAgICAgICAgICAgdmFyIGVuZCA9IHsgcm93OiBmaXJzdFJvdywgY29sdW1uOiAwIH07CiAgICAgICAgaWYgKHRoaXMuc3RhcnQucm93ID4gbGFzdFJvdykKICAgICAgICAgICAgdmFyIHN0YXJ0ID0geyByb3c6IGxhc3RSb3cgKyAxLCBjb2x1bW46IDAgfTsKICAgICAgICBlbHNlIGlmICh0aGlzLnN0YXJ0LnJvdyA8IGZpcnN0Um93KQogICAgICAgICAgICB2YXIgc3RhcnQgPSB7IHJvdzogZmlyc3RSb3csIGNvbHVtbjogMCB9OwogICAgICAgIHJldHVybiBSYW5nZS5mcm9tUG9pbnRzKHN0YXJ0IHx8IHRoaXMuc3RhcnQsIGVuZCB8fCB0aGlzLmVuZCk7CiAgICB9OwogICAgdGhpcy5leHRlbmQgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICB2YXIgY21wID0gdGhpcy5jb21wYXJlKHJvdywgY29sdW1uKTsKICAgICAgICBpZiAoY21wID09IDApCiAgICAgICAgICAgIHJldHVybiB0aGlzOwogICAgICAgIGVsc2UgaWYgKGNtcCA9PSAtMSkKICAgICAgICAgICAgdmFyIHN0YXJ0ID0geyByb3c6IHJvdywgY29sdW1uOiBjb2x1bW4gfTsKICAgICAgICBlbHNlCiAgICAgICAgICAgIHZhciBlbmQgPSB7IHJvdzogcm93LCBjb2x1bW46IGNvbHVtbiB9OwogICAgICAgIHJldHVybiBSYW5nZS5mcm9tUG9pbnRzKHN0YXJ0IHx8IHRoaXMuc3RhcnQsIGVuZCB8fCB0aGlzLmVuZCk7CiAgICB9OwogICAgdGhpcy5pc0VtcHR5ID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiAodGhpcy5zdGFydC5yb3cgPT09IHRoaXMuZW5kLnJvdyAmJiB0aGlzLnN0YXJ0LmNvbHVtbiA9PT0gdGhpcy5lbmQuY29sdW1uKTsKICAgIH07CiAgICB0aGlzLmlzTXVsdGlMaW5lID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiAodGhpcy5zdGFydC5yb3cgIT09IHRoaXMuZW5kLnJvdyk7CiAgICB9OwogICAgdGhpcy5jbG9uZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gUmFuZ2UuZnJvbVBvaW50cyh0aGlzLnN0YXJ0LCB0aGlzLmVuZCk7CiAgICB9OwogICAgdGhpcy5jb2xsYXBzZVJvd3MgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKHRoaXMuZW5kLmNvbHVtbiA9PSAwKQogICAgICAgICAgICByZXR1cm4gbmV3IFJhbmdlKHRoaXMuc3RhcnQucm93LCAwLCBNYXRoLm1heCh0aGlzLnN0YXJ0LnJvdywgdGhpcy5lbmQucm93IC0gMSksIDApOwogICAgICAgIGVsc2UKICAgICAgICAgICAgcmV0dXJuIG5ldyBSYW5nZSh0aGlzLnN0YXJ0LnJvdywgMCwgdGhpcy5lbmQucm93LCAwKTsKICAgIH07CiAgICB0aGlzLnRvU2NyZWVuUmFuZ2UgPSBmdW5jdGlvbiAoc2Vzc2lvbikgewogICAgICAgIHZhciBzY3JlZW5Qb3NTdGFydCA9IHNlc3Npb24uZG9jdW1lbnRUb1NjcmVlblBvc2l0aW9uKHRoaXMuc3RhcnQpOwogICAgICAgIHZhciBzY3JlZW5Qb3NFbmQgPSBzZXNzaW9uLmRvY3VtZW50VG9TY3JlZW5Qb3NpdGlvbih0aGlzLmVuZCk7CiAgICAgICAgcmV0dXJuIG5ldyBSYW5nZShzY3JlZW5Qb3NTdGFydC5yb3csIHNjcmVlblBvc1N0YXJ0LmNvbHVtbiwgc2NyZWVuUG9zRW5kLnJvdywgc2NyZWVuUG9zRW5kLmNvbHVtbik7CiAgICB9OwogICAgdGhpcy5tb3ZlQnkgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICB0aGlzLnN0YXJ0LnJvdyArPSByb3c7CiAgICAgICAgdGhpcy5zdGFydC5jb2x1bW4gKz0gY29sdW1uOwogICAgICAgIHRoaXMuZW5kLnJvdyArPSByb3c7CiAgICAgICAgdGhpcy5lbmQuY29sdW1uICs9IGNvbHVtbjsKICAgIH07Cn0pLmNhbGwoUmFuZ2UucHJvdG90eXBlKTsKUmFuZ2UuZnJvbVBvaW50cyA9IGZ1bmN0aW9uIChzdGFydCwgZW5kKSB7CiAgICByZXR1cm4gbmV3IFJhbmdlKHN0YXJ0LnJvdywgc3RhcnQuY29sdW1uLCBlbmQucm93LCBlbmQuY29sdW1uKTsKfTsKUmFuZ2UuY29tcGFyZVBvaW50cyA9IGNvbXBhcmVQb2ludHM7ClJhbmdlLmNvbXBhcmVQb2ludHMgPSBmdW5jdGlvbiAocDEsIHAyKSB7CiAgICByZXR1cm4gcDEucm93IC0gcDIucm93IHx8IHAxLmNvbHVtbiAtIHAyLmNvbHVtbjsKfTsKZXhwb3J0cy5SYW5nZSA9IFJhbmdlOwoKfSk7CgphY2UuZGVmaW5lKCJhY2UvYW5jaG9yIixbXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKXsidXNlIHN0cmljdCI7CnZhciBvb3AgPSByZXF1aXJlKCIuL2xpYi9vb3AiKTsKdmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoIi4vbGliL2V2ZW50X2VtaXR0ZXIiKS5FdmVudEVtaXR0ZXI7CnZhciBBbmNob3IgPSBleHBvcnRzLkFuY2hvciA9IGZ1bmN0aW9uIChkb2MsIHJvdywgY29sdW1uKSB7CiAgICB0aGlzLiRvbkNoYW5nZSA9IHRoaXMub25DaGFuZ2UuYmluZCh0aGlzKTsKICAgIHRoaXMuYXR0YWNoKGRvYyk7CiAgICBpZiAodHlwZW9mIGNvbHVtbiA9PSAidW5kZWZpbmVkIikKICAgICAgICB0aGlzLnNldFBvc2l0aW9uKHJvdy5yb3csIHJvdy5jb2x1bW4pOwogICAgZWxzZQogICAgICAgIHRoaXMuc2V0UG9zaXRpb24ocm93LCBjb2x1bW4pOwp9OwooZnVuY3Rpb24gKCkgewogICAgb29wLmltcGxlbWVudCh0aGlzLCBFdmVudEVtaXR0ZXIpOwogICAgdGhpcy5nZXRQb3NpdGlvbiA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gdGhpcy4kY2xpcFBvc2l0aW9uVG9Eb2N1bWVudCh0aGlzLnJvdywgdGhpcy5jb2x1bW4pOwogICAgfTsKICAgIHRoaXMuZ2V0RG9jdW1lbnQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZG9jdW1lbnQ7CiAgICB9OwogICAgdGhpcy4kaW5zZXJ0UmlnaHQgPSBmYWxzZTsKICAgIHRoaXMub25DaGFuZ2UgPSBmdW5jdGlvbiAoZGVsdGEpIHsKICAgICAgICBpZiAoZGVsdGEuc3RhcnQucm93ID09IGRlbHRhLmVuZC5yb3cgJiYgZGVsdGEuc3RhcnQucm93ICE9IHRoaXMucm93KQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgaWYgKGRlbHRhLnN0YXJ0LnJvdyA+IHRoaXMucm93KQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgdmFyIHBvaW50ID0gJGdldFRyYW5zZm9ybWVkUG9pbnQoZGVsdGEsIHsgcm93OiB0aGlzLnJvdywgY29sdW1uOiB0aGlzLmNvbHVtbiB9LCB0aGlzLiRpbnNlcnRSaWdodCk7CiAgICAgICAgdGhpcy5zZXRQb3NpdGlvbihwb2ludC5yb3csIHBvaW50LmNvbHVtbiwgdHJ1ZSk7CiAgICB9OwogICAgZnVuY3Rpb24gJHBvaW50c0luT3JkZXIocG9pbnQxLCBwb2ludDIsIGVxdWFsUG9pbnRzSW5PcmRlcikgewogICAgICAgIHZhciBiQ29sSXNBZnRlciA9IGVxdWFsUG9pbnRzSW5PcmRlciA/IHBvaW50MS5jb2x1bW4gPD0gcG9pbnQyLmNvbHVtbiA6IHBvaW50MS5jb2x1bW4gPCBwb2ludDIuY29sdW1uOwogICAgICAgIHJldHVybiAocG9pbnQxLnJvdyA8IHBvaW50Mi5yb3cpIHx8IChwb2ludDEucm93ID09IHBvaW50Mi5yb3cgJiYgYkNvbElzQWZ0ZXIpOwogICAgfQogICAgZnVuY3Rpb24gJGdldFRyYW5zZm9ybWVkUG9pbnQoZGVsdGEsIHBvaW50LCBtb3ZlSWZFcXVhbCkgewogICAgICAgIHZhciBkZWx0YUlzSW5zZXJ0ID0gZGVsdGEuYWN0aW9uID09ICJpbnNlcnQiOwogICAgICAgIHZhciBkZWx0YVJvd1NoaWZ0ID0gKGRlbHRhSXNJbnNlcnQgPyAxIDogLTEpICogKGRlbHRhLmVuZC5yb3cgLSBkZWx0YS5zdGFydC5yb3cpOwogICAgICAgIHZhciBkZWx0YUNvbFNoaWZ0ID0gKGRlbHRhSXNJbnNlcnQgPyAxIDogLTEpICogKGRlbHRhLmVuZC5jb2x1bW4gLSBkZWx0YS5zdGFydC5jb2x1bW4pOwogICAgICAgIHZhciBkZWx0YVN0YXJ0ID0gZGVsdGEuc3RhcnQ7CiAgICAgICAgdmFyIGRlbHRhRW5kID0gZGVsdGFJc0luc2VydCA/IGRlbHRhU3RhcnQgOiBkZWx0YS5lbmQ7IC8vIENvbGxhcHNlIGluc2VydCByYW5nZS4KICAgICAgICBpZiAoJHBvaW50c0luT3JkZXIocG9pbnQsIGRlbHRhU3RhcnQsIG1vdmVJZkVxdWFsKSkgewogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgcm93OiBwb2ludC5yb3csCiAgICAgICAgICAgICAgICBjb2x1bW46IHBvaW50LmNvbHVtbgogICAgICAgICAgICB9OwogICAgICAgIH0KICAgICAgICBpZiAoJHBvaW50c0luT3JkZXIoZGVsdGFFbmQsIHBvaW50LCAhbW92ZUlmRXF1YWwpKSB7CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICByb3c6IHBvaW50LnJvdyArIGRlbHRhUm93U2hpZnQsCiAgICAgICAgICAgICAgICBjb2x1bW46IHBvaW50LmNvbHVtbiArIChwb2ludC5yb3cgPT0gZGVsdGFFbmQucm93ID8gZGVsdGFDb2xTaGlmdCA6IDApCiAgICAgICAgICAgIH07CiAgICAgICAgfQogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHJvdzogZGVsdGFTdGFydC5yb3csCiAgICAgICAgICAgIGNvbHVtbjogZGVsdGFTdGFydC5jb2x1bW4KICAgICAgICB9OwogICAgfQogICAgdGhpcy5zZXRQb3NpdGlvbiA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbiwgbm9DbGlwKSB7CiAgICAgICAgdmFyIHBvczsKICAgICAgICBpZiAobm9DbGlwKSB7CiAgICAgICAgICAgIHBvcyA9IHsKICAgICAgICAgICAgICAgIHJvdzogcm93LAogICAgICAgICAgICAgICAgY29sdW1uOiBjb2x1bW4KICAgICAgICAgICAgfTsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIHBvcyA9IHRoaXMuJGNsaXBQb3NpdGlvblRvRG9jdW1lbnQocm93LCBjb2x1bW4pOwogICAgICAgIH0KICAgICAgICBpZiAodGhpcy5yb3cgPT0gcG9zLnJvdyAmJiB0aGlzLmNvbHVtbiA9PSBwb3MuY29sdW1uKQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgdmFyIG9sZCA9IHsKICAgICAgICAgICAgcm93OiB0aGlzLnJvdywKICAgICAgICAgICAgY29sdW1uOiB0aGlzLmNvbHVtbgogICAgICAgIH07CiAgICAgICAgdGhpcy5yb3cgPSBwb3Mucm93OwogICAgICAgIHRoaXMuY29sdW1uID0gcG9zLmNvbHVtbjsKICAgICAgICB0aGlzLl9zaWduYWwoImNoYW5nZSIsIHsKICAgICAgICAgICAgb2xkOiBvbGQsCiAgICAgICAgICAgIHZhbHVlOiBwb3MKICAgICAgICB9KTsKICAgIH07CiAgICB0aGlzLmRldGFjaCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB0aGlzLmRvY3VtZW50Lm9mZigiY2hhbmdlIiwgdGhpcy4kb25DaGFuZ2UpOwogICAgfTsKICAgIHRoaXMuYXR0YWNoID0gZnVuY3Rpb24gKGRvYykgewogICAgICAgIHRoaXMuZG9jdW1lbnQgPSBkb2MgfHwgdGhpcy5kb2N1bWVudDsKICAgICAgICB0aGlzLmRvY3VtZW50Lm9uKCJjaGFuZ2UiLCB0aGlzLiRvbkNoYW5nZSk7CiAgICB9OwogICAgdGhpcy4kY2xpcFBvc2l0aW9uVG9Eb2N1bWVudCA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICAgIHZhciBwb3MgPSB7fTsKICAgICAgICBpZiAocm93ID49IHRoaXMuZG9jdW1lbnQuZ2V0TGVuZ3RoKCkpIHsKICAgICAgICAgICAgcG9zLnJvdyA9IE1hdGgubWF4KDAsIHRoaXMuZG9jdW1lbnQuZ2V0TGVuZ3RoKCkgLSAxKTsKICAgICAgICAgICAgcG9zLmNvbHVtbiA9IHRoaXMuZG9jdW1lbnQuZ2V0TGluZShwb3Mucm93KS5sZW5ndGg7CiAgICAgICAgfQogICAgICAgIGVsc2UgaWYgKHJvdyA8IDApIHsKICAgICAgICAgICAgcG9zLnJvdyA9IDA7CiAgICAgICAgICAgIHBvcy5jb2x1bW4gPSAwOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgcG9zLnJvdyA9IHJvdzsKICAgICAgICAgICAgcG9zLmNvbHVtbiA9IE1hdGgubWluKHRoaXMuZG9jdW1lbnQuZ2V0TGluZShwb3Mucm93KS5sZW5ndGgsIE1hdGgubWF4KDAsIGNvbHVtbikpOwogICAgICAgIH0KICAgICAgICBpZiAoY29sdW1uIDwgMCkKICAgICAgICAgICAgcG9zLmNvbHVtbiA9IDA7CiAgICAgICAgcmV0dXJuIHBvczsKICAgIH07Cn0pLmNhbGwoQW5jaG9yLnByb3RvdHlwZSk7Cgp9KTsKCmFjZS5kZWZpbmUoImFjZS9kb2N1bWVudCIsW10sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSl7InVzZSBzdHJpY3QiOwp2YXIgb29wID0gcmVxdWlyZSgiLi9saWIvb29wIik7CnZhciBhcHBseURlbHRhID0gcmVxdWlyZSgiLi9hcHBseV9kZWx0YSIpLmFwcGx5RGVsdGE7CnZhciBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCIuL2xpYi9ldmVudF9lbWl0dGVyIikuRXZlbnRFbWl0dGVyOwp2YXIgUmFuZ2UgPSByZXF1aXJlKCIuL3JhbmdlIikuUmFuZ2U7CnZhciBBbmNob3IgPSByZXF1aXJlKCIuL2FuY2hvciIpLkFuY2hvcjsKdmFyIERvY3VtZW50ID0gZnVuY3Rpb24gKHRleHRPckxpbmVzKSB7CiAgICB0aGlzLiRsaW5lcyA9IFsiIl07CiAgICBpZiAodGV4dE9yTGluZXMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgdGhpcy4kbGluZXMgPSBbIiJdOwogICAgfQogICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh0ZXh0T3JMaW5lcykpIHsKICAgICAgICB0aGlzLmluc2VydE1lcmdlZExpbmVzKHsgcm93OiAwLCBjb2x1bW46IDAgfSwgdGV4dE9yTGluZXMpOwogICAgfQogICAgZWxzZSB7CiAgICAgICAgdGhpcy5pbnNlcnQoeyByb3c6IDAsIGNvbHVtbjogMCB9LCB0ZXh0T3JMaW5lcyk7CiAgICB9Cn07CihmdW5jdGlvbiAoKSB7CiAgICBvb3AuaW1wbGVtZW50KHRoaXMsIEV2ZW50RW1pdHRlcik7CiAgICB0aGlzLnNldFZhbHVlID0gZnVuY3Rpb24gKHRleHQpIHsKICAgICAgICB2YXIgbGVuID0gdGhpcy5nZXRMZW5ndGgoKSAtIDE7CiAgICAgICAgdGhpcy5yZW1vdmUobmV3IFJhbmdlKDAsIDAsIGxlbiwgdGhpcy5nZXRMaW5lKGxlbikubGVuZ3RoKSk7CiAgICAgICAgdGhpcy5pbnNlcnQoeyByb3c6IDAsIGNvbHVtbjogMCB9LCB0ZXh0IHx8ICIiKTsKICAgIH07CiAgICB0aGlzLmdldFZhbHVlID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiB0aGlzLmdldEFsbExpbmVzKCkuam9pbih0aGlzLmdldE5ld0xpbmVDaGFyYWN0ZXIoKSk7CiAgICB9OwogICAgdGhpcy5jcmVhdGVBbmNob3IgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICByZXR1cm4gbmV3IEFuY2hvcih0aGlzLCByb3csIGNvbHVtbik7CiAgICB9OwogICAgaWYgKCJhYWEiLnNwbGl0KC9hLykubGVuZ3RoID09PSAwKSB7CiAgICAgICAgdGhpcy4kc3BsaXQgPSBmdW5jdGlvbiAodGV4dCkgewogICAgICAgICAgICByZXR1cm4gdGV4dC5yZXBsYWNlKC9cclxufFxyL2csICJcbiIpLnNwbGl0KCJcbiIpOwogICAgICAgIH07CiAgICB9CiAgICBlbHNlIHsKICAgICAgICB0aGlzLiRzcGxpdCA9IGZ1bmN0aW9uICh0ZXh0KSB7CiAgICAgICAgICAgIHJldHVybiB0ZXh0LnNwbGl0KC9cclxufFxyfFxuLyk7CiAgICAgICAgfTsKICAgIH0KICAgIHRoaXMuJGRldGVjdE5ld0xpbmUgPSBmdW5jdGlvbiAodGV4dCkgewogICAgICAgIHZhciBtYXRjaCA9IHRleHQubWF0Y2goL14uKj8oXHJcbnxccnxcbikvbSk7CiAgICAgICAgdGhpcy4kYXV0b05ld0xpbmUgPSBtYXRjaCA/IG1hdGNoWzFdIDogIlxuIjsKICAgICAgICB0aGlzLl9zaWduYWwoImNoYW5nZU5ld0xpbmVNb2RlIik7CiAgICB9OwogICAgdGhpcy5nZXROZXdMaW5lQ2hhcmFjdGVyID0gZnVuY3Rpb24gKCkgewogICAgICAgIHN3aXRjaCAodGhpcy4kbmV3TGluZU1vZGUpIHsKICAgICAgICAgICAgY2FzZSAid2luZG93cyI6CiAgICAgICAgICAgICAgICByZXR1cm4gIlxyXG4iOwogICAgICAgICAgICBjYXNlICJ1bml4IjoKICAgICAgICAgICAgICAgIHJldHVybiAiXG4iOwogICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJGF1dG9OZXdMaW5lIHx8ICJcbiI7CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMuJGF1dG9OZXdMaW5lID0gIiI7CiAgICB0aGlzLiRuZXdMaW5lTW9kZSA9ICJhdXRvIjsKICAgIHRoaXMuc2V0TmV3TGluZU1vZGUgPSBmdW5jdGlvbiAobmV3TGluZU1vZGUpIHsKICAgICAgICBpZiAodGhpcy4kbmV3TGluZU1vZGUgPT09IG5ld0xpbmVNb2RlKQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgdGhpcy4kbmV3TGluZU1vZGUgPSBuZXdMaW5lTW9kZTsKICAgICAgICB0aGlzLl9zaWduYWwoImNoYW5nZU5ld0xpbmVNb2RlIik7CiAgICB9OwogICAgdGhpcy5nZXROZXdMaW5lTW9kZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gdGhpcy4kbmV3TGluZU1vZGU7CiAgICB9OwogICAgdGhpcy5pc05ld0xpbmUgPSBmdW5jdGlvbiAodGV4dCkgewogICAgICAgIHJldHVybiAodGV4dCA9PSAiXHJcbiIgfHwgdGV4dCA9PSAiXHIiIHx8IHRleHQgPT0gIlxuIik7CiAgICB9OwogICAgdGhpcy5nZXRMaW5lID0gZnVuY3Rpb24gKHJvdykgewogICAgICAgIHJldHVybiB0aGlzLiRsaW5lc1tyb3ddIHx8ICIiOwogICAgfTsKICAgIHRoaXMuZ2V0TGluZXMgPSBmdW5jdGlvbiAoZmlyc3RSb3csIGxhc3RSb3cpIHsKICAgICAgICByZXR1cm4gdGhpcy4kbGluZXMuc2xpY2UoZmlyc3RSb3csIGxhc3RSb3cgKyAxKTsKICAgIH07CiAgICB0aGlzLmdldEFsbExpbmVzID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiB0aGlzLmdldExpbmVzKDAsIHRoaXMuZ2V0TGVuZ3RoKCkpOwogICAgfTsKICAgIHRoaXMuZ2V0TGVuZ3RoID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiB0aGlzLiRsaW5lcy5sZW5ndGg7CiAgICB9OwogICAgdGhpcy5nZXRUZXh0UmFuZ2UgPSBmdW5jdGlvbiAocmFuZ2UpIHsKICAgICAgICByZXR1cm4gdGhpcy5nZXRMaW5lc0ZvclJhbmdlKHJhbmdlKS5qb2luKHRoaXMuZ2V0TmV3TGluZUNoYXJhY3RlcigpKTsKICAgIH07CiAgICB0aGlzLmdldExpbmVzRm9yUmFuZ2UgPSBmdW5jdGlvbiAocmFuZ2UpIHsKICAgICAgICB2YXIgbGluZXM7CiAgICAgICAgaWYgKHJhbmdlLnN0YXJ0LnJvdyA9PT0gcmFuZ2UuZW5kLnJvdykgewogICAgICAgICAgICBsaW5lcyA9IFt0aGlzLmdldExpbmUocmFuZ2Uuc3RhcnQucm93KS5zdWJzdHJpbmcocmFuZ2Uuc3RhcnQuY29sdW1uLCByYW5nZS5lbmQuY29sdW1uKV07CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICBsaW5lcyA9IHRoaXMuZ2V0TGluZXMocmFuZ2Uuc3RhcnQucm93LCByYW5nZS5lbmQucm93KTsKICAgICAgICAgICAgbGluZXNbMF0gPSAobGluZXNbMF0gfHwgIiIpLnN1YnN0cmluZyhyYW5nZS5zdGFydC5jb2x1bW4pOwogICAgICAgICAgICB2YXIgbCA9IGxpbmVzLmxlbmd0aCAtIDE7CiAgICAgICAgICAgIGlmIChyYW5nZS5lbmQucm93IC0gcmFuZ2Uuc3RhcnQucm93ID09IGwpCiAgICAgICAgICAgICAgICBsaW5lc1tsXSA9IGxpbmVzW2xdLnN1YnN0cmluZygwLCByYW5nZS5lbmQuY29sdW1uKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGxpbmVzOwogICAgfTsKICAgIHRoaXMuaW5zZXJ0TGluZXMgPSBmdW5jdGlvbiAocm93LCBsaW5lcykgewogICAgICAgIGNvbnNvbGUud2FybigiVXNlIG9mIGRvY3VtZW50Lmluc2VydExpbmVzIGlzIGRlcHJlY2F0ZWQuIFVzZSB0aGUgaW5zZXJ0RnVsbExpbmVzIG1ldGhvZCBpbnN0ZWFkLiIpOwogICAgICAgIHJldHVybiB0aGlzLmluc2VydEZ1bGxMaW5lcyhyb3csIGxpbmVzKTsKICAgIH07CiAgICB0aGlzLnJlbW92ZUxpbmVzID0gZnVuY3Rpb24gKGZpcnN0Um93LCBsYXN0Um93KSB7CiAgICAgICAgY29uc29sZS53YXJuKCJVc2Ugb2YgZG9jdW1lbnQucmVtb3ZlTGluZXMgaXMgZGVwcmVjYXRlZC4gVXNlIHRoZSByZW1vdmVGdWxsTGluZXMgbWV0aG9kIGluc3RlYWQuIik7CiAgICAgICAgcmV0dXJuIHRoaXMucmVtb3ZlRnVsbExpbmVzKGZpcnN0Um93LCBsYXN0Um93KTsKICAgIH07CiAgICB0aGlzLmluc2VydE5ld0xpbmUgPSBmdW5jdGlvbiAocG9zaXRpb24pIHsKICAgICAgICBjb25zb2xlLndhcm4oIlVzZSBvZiBkb2N1bWVudC5pbnNlcnROZXdMaW5lIGlzIGRlcHJlY2F0ZWQuIFVzZSBpbnNlcnRNZXJnZWRMaW5lcyhwb3NpdGlvbiwgWycnLCAnJ10pIGluc3RlYWQuIik7CiAgICAgICAgcmV0dXJuIHRoaXMuaW5zZXJ0TWVyZ2VkTGluZXMocG9zaXRpb24sIFsiIiwgIiJdKTsKICAgIH07CiAgICB0aGlzLmluc2VydCA9IGZ1bmN0aW9uIChwb3NpdGlvbiwgdGV4dCkgewogICAgICAgIGlmICh0aGlzLmdldExlbmd0aCgpIDw9IDEpCiAgICAgICAgICAgIHRoaXMuJGRldGVjdE5ld0xpbmUodGV4dCk7CiAgICAgICAgcmV0dXJuIHRoaXMuaW5zZXJ0TWVyZ2VkTGluZXMocG9zaXRpb24sIHRoaXMuJHNwbGl0KHRleHQpKTsKICAgIH07CiAgICB0aGlzLmluc2VydEluTGluZSA9IGZ1bmN0aW9uIChwb3NpdGlvbiwgdGV4dCkgewogICAgICAgIHZhciBzdGFydCA9IHRoaXMuY2xpcHBlZFBvcyhwb3NpdGlvbi5yb3csIHBvc2l0aW9uLmNvbHVtbik7CiAgICAgICAgdmFyIGVuZCA9IHRoaXMucG9zKHBvc2l0aW9uLnJvdywgcG9zaXRpb24uY29sdW1uICsgdGV4dC5sZW5ndGgpOwogICAgICAgIHRoaXMuYXBwbHlEZWx0YSh7CiAgICAgICAgICAgIHN0YXJ0OiBzdGFydCwKICAgICAgICAgICAgZW5kOiBlbmQsCiAgICAgICAgICAgIGFjdGlvbjogImluc2VydCIsCiAgICAgICAgICAgIGxpbmVzOiBbdGV4dF0KICAgICAgICB9LCB0cnVlKTsKICAgICAgICByZXR1cm4gdGhpcy5jbG9uZVBvcyhlbmQpOwogICAgfTsKICAgIHRoaXMuY2xpcHBlZFBvcyA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICAgIHZhciBsZW5ndGggPSB0aGlzLmdldExlbmd0aCgpOwogICAgICAgIGlmIChyb3cgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICByb3cgPSBsZW5ndGg7CiAgICAgICAgfQogICAgICAgIGVsc2UgaWYgKHJvdyA8IDApIHsKICAgICAgICAgICAgcm93ID0gMDsKICAgICAgICB9CiAgICAgICAgZWxzZSBpZiAocm93ID49IGxlbmd0aCkgewogICAgICAgICAgICByb3cgPSBsZW5ndGggLSAxOwogICAgICAgICAgICBjb2x1bW4gPSB1bmRlZmluZWQ7CiAgICAgICAgfQogICAgICAgIHZhciBsaW5lID0gdGhpcy5nZXRMaW5lKHJvdyk7CiAgICAgICAgaWYgKGNvbHVtbiA9PSB1bmRlZmluZWQpCiAgICAgICAgICAgIGNvbHVtbiA9IGxpbmUubGVuZ3RoOwogICAgICAgIGNvbHVtbiA9IE1hdGgubWluKE1hdGgubWF4KGNvbHVtbiwgMCksIGxpbmUubGVuZ3RoKTsKICAgICAgICByZXR1cm4geyByb3c6IHJvdywgY29sdW1uOiBjb2x1bW4gfTsKICAgIH07CiAgICB0aGlzLmNsb25lUG9zID0gZnVuY3Rpb24gKHBvcykgewogICAgICAgIHJldHVybiB7IHJvdzogcG9zLnJvdywgY29sdW1uOiBwb3MuY29sdW1uIH07CiAgICB9OwogICAgdGhpcy5wb3MgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICByZXR1cm4geyByb3c6IHJvdywgY29sdW1uOiBjb2x1bW4gfTsKICAgIH07CiAgICB0aGlzLiRjbGlwUG9zaXRpb24gPSBmdW5jdGlvbiAocG9zaXRpb24pIHsKICAgICAgICB2YXIgbGVuZ3RoID0gdGhpcy5nZXRMZW5ndGgoKTsKICAgICAgICBpZiAocG9zaXRpb24ucm93ID49IGxlbmd0aCkgewogICAgICAgICAgICBwb3NpdGlvbi5yb3cgPSBNYXRoLm1heCgwLCBsZW5ndGggLSAxKTsKICAgICAgICAgICAgcG9zaXRpb24uY29sdW1uID0gdGhpcy5nZXRMaW5lKGxlbmd0aCAtIDEpLmxlbmd0aDsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIHBvc2l0aW9uLnJvdyA9IE1hdGgubWF4KDAsIHBvc2l0aW9uLnJvdyk7CiAgICAgICAgICAgIHBvc2l0aW9uLmNvbHVtbiA9IE1hdGgubWluKE1hdGgubWF4KHBvc2l0aW9uLmNvbHVtbiwgMCksIHRoaXMuZ2V0TGluZShwb3NpdGlvbi5yb3cpLmxlbmd0aCk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBwb3NpdGlvbjsKICAgIH07CiAgICB0aGlzLmluc2VydEZ1bGxMaW5lcyA9IGZ1bmN0aW9uIChyb3csIGxpbmVzKSB7CiAgICAgICAgcm93ID0gTWF0aC5taW4oTWF0aC5tYXgocm93LCAwKSwgdGhpcy5nZXRMZW5ndGgoKSk7CiAgICAgICAgdmFyIGNvbHVtbiA9IDA7CiAgICAgICAgaWYgKHJvdyA8IHRoaXMuZ2V0TGVuZ3RoKCkpIHsKICAgICAgICAgICAgbGluZXMgPSBsaW5lcy5jb25jYXQoWyIiXSk7CiAgICAgICAgICAgIGNvbHVtbiA9IDA7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICBsaW5lcyA9IFsiIl0uY29uY2F0KGxpbmVzKTsKICAgICAgICAgICAgcm93LS07CiAgICAgICAgICAgIGNvbHVtbiA9IHRoaXMuJGxpbmVzW3Jvd10ubGVuZ3RoOwogICAgICAgIH0KICAgICAgICB0aGlzLmluc2VydE1lcmdlZExpbmVzKHsgcm93OiByb3csIGNvbHVtbjogY29sdW1uIH0sIGxpbmVzKTsKICAgIH07CiAgICB0aGlzLmluc2VydE1lcmdlZExpbmVzID0gZnVuY3Rpb24gKHBvc2l0aW9uLCBsaW5lcykgewogICAgICAgIHZhciBzdGFydCA9IHRoaXMuY2xpcHBlZFBvcyhwb3NpdGlvbi5yb3csIHBvc2l0aW9uLmNvbHVtbik7CiAgICAgICAgdmFyIGVuZCA9IHsKICAgICAgICAgICAgcm93OiBzdGFydC5yb3cgKyBsaW5lcy5sZW5ndGggLSAxLAogICAgICAgICAgICBjb2x1bW46IChsaW5lcy5sZW5ndGggPT0gMSA/IHN0YXJ0LmNvbHVtbiA6IDApICsgbGluZXNbbGluZXMubGVuZ3RoIC0gMV0ubGVuZ3RoCiAgICAgICAgfTsKICAgICAgICB0aGlzLmFwcGx5RGVsdGEoewogICAgICAgICAgICBzdGFydDogc3RhcnQsCiAgICAgICAgICAgIGVuZDogZW5kLAogICAgICAgICAgICBhY3Rpb246ICJpbnNlcnQiLAogICAgICAgICAgICBsaW5lczogbGluZXMKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gdGhpcy5jbG9uZVBvcyhlbmQpOwogICAgfTsKICAgIHRoaXMucmVtb3ZlID0gZnVuY3Rpb24gKHJhbmdlKSB7CiAgICAgICAgdmFyIHN0YXJ0ID0gdGhpcy5jbGlwcGVkUG9zKHJhbmdlLnN0YXJ0LnJvdywgcmFuZ2Uuc3RhcnQuY29sdW1uKTsKICAgICAgICB2YXIgZW5kID0gdGhpcy5jbGlwcGVkUG9zKHJhbmdlLmVuZC5yb3csIHJhbmdlLmVuZC5jb2x1bW4pOwogICAgICAgIHRoaXMuYXBwbHlEZWx0YSh7CiAgICAgICAgICAgIHN0YXJ0OiBzdGFydCwKICAgICAgICAgICAgZW5kOiBlbmQsCiAgICAgICAgICAgIGFjdGlvbjogInJlbW92ZSIsCiAgICAgICAgICAgIGxpbmVzOiB0aGlzLmdldExpbmVzRm9yUmFuZ2UoeyBzdGFydDogc3RhcnQsIGVuZDogZW5kIH0pCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIHRoaXMuY2xvbmVQb3Moc3RhcnQpOwogICAgfTsKICAgIHRoaXMucmVtb3ZlSW5MaW5lID0gZnVuY3Rpb24gKHJvdywgc3RhcnRDb2x1bW4sIGVuZENvbHVtbikgewogICAgICAgIHZhciBzdGFydCA9IHRoaXMuY2xpcHBlZFBvcyhyb3csIHN0YXJ0Q29sdW1uKTsKICAgICAgICB2YXIgZW5kID0gdGhpcy5jbGlwcGVkUG9zKHJvdywgZW5kQ29sdW1uKTsKICAgICAgICB0aGlzLmFwcGx5RGVsdGEoewogICAgICAgICAgICBzdGFydDogc3RhcnQsCiAgICAgICAgICAgIGVuZDogZW5kLAogICAgICAgICAgICBhY3Rpb246ICJyZW1vdmUiLAogICAgICAgICAgICBsaW5lczogdGhpcy5nZXRMaW5lc0ZvclJhbmdlKHsgc3RhcnQ6IHN0YXJ0LCBlbmQ6IGVuZCB9KQogICAgICAgIH0sIHRydWUpOwogICAgICAgIHJldHVybiB0aGlzLmNsb25lUG9zKHN0YXJ0KTsKICAgIH07CiAgICB0aGlzLnJlbW92ZUZ1bGxMaW5lcyA9IGZ1bmN0aW9uIChmaXJzdFJvdywgbGFzdFJvdykgewogICAgICAgIGZpcnN0Um93ID0gTWF0aC5taW4oTWF0aC5tYXgoMCwgZmlyc3RSb3cpLCB0aGlzLmdldExlbmd0aCgpIC0gMSk7CiAgICAgICAgbGFzdFJvdyA9IE1hdGgubWluKE1hdGgubWF4KDAsIGxhc3RSb3cpLCB0aGlzLmdldExlbmd0aCgpIC0gMSk7CiAgICAgICAgdmFyIGRlbGV0ZUZpcnN0TmV3TGluZSA9IGxhc3RSb3cgPT0gdGhpcy5nZXRMZW5ndGgoKSAtIDEgJiYgZmlyc3RSb3cgPiAwOwogICAgICAgIHZhciBkZWxldGVMYXN0TmV3TGluZSA9IGxhc3RSb3cgPCB0aGlzLmdldExlbmd0aCgpIC0gMTsKICAgICAgICB2YXIgc3RhcnRSb3cgPSAoZGVsZXRlRmlyc3ROZXdMaW5lID8gZmlyc3RSb3cgLSAxIDogZmlyc3RSb3cpOwogICAgICAgIHZhciBzdGFydENvbCA9IChkZWxldGVGaXJzdE5ld0xpbmUgPyB0aGlzLmdldExpbmUoc3RhcnRSb3cpLmxlbmd0aCA6IDApOwogICAgICAgIHZhciBlbmRSb3cgPSAoZGVsZXRlTGFzdE5ld0xpbmUgPyBsYXN0Um93ICsgMSA6IGxhc3RSb3cpOwogICAgICAgIHZhciBlbmRDb2wgPSAoZGVsZXRlTGFzdE5ld0xpbmUgPyAwIDogdGhpcy5nZXRMaW5lKGVuZFJvdykubGVuZ3RoKTsKICAgICAgICB2YXIgcmFuZ2UgPSBuZXcgUmFuZ2Uoc3RhcnRSb3csIHN0YXJ0Q29sLCBlbmRSb3csIGVuZENvbCk7CiAgICAgICAgdmFyIGRlbGV0ZWRMaW5lcyA9IHRoaXMuJGxpbmVzLnNsaWNlKGZpcnN0Um93LCBsYXN0Um93ICsgMSk7CiAgICAgICAgdGhpcy5hcHBseURlbHRhKHsKICAgICAgICAgICAgc3RhcnQ6IHJhbmdlLnN0YXJ0LAogICAgICAgICAgICBlbmQ6IHJhbmdlLmVuZCwKICAgICAgICAgICAgYWN0aW9uOiAicmVtb3ZlIiwKICAgICAgICAgICAgbGluZXM6IHRoaXMuZ2V0TGluZXNGb3JSYW5nZShyYW5nZSkKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gZGVsZXRlZExpbmVzOwogICAgfTsKICAgIHRoaXMucmVtb3ZlTmV3TGluZSA9IGZ1bmN0aW9uIChyb3cpIHsKICAgICAgICBpZiAocm93IDwgdGhpcy5nZXRMZW5ndGgoKSAtIDEgJiYgcm93ID49IDApIHsKICAgICAgICAgICAgdGhpcy5hcHBseURlbHRhKHsKICAgICAgICAgICAgICAgIHN0YXJ0OiB0aGlzLnBvcyhyb3csIHRoaXMuZ2V0TGluZShyb3cpLmxlbmd0aCksCiAgICAgICAgICAgICAgICBlbmQ6IHRoaXMucG9zKHJvdyArIDEsIDApLAogICAgICAgICAgICAgICAgYWN0aW9uOiAicmVtb3ZlIiwKICAgICAgICAgICAgICAgIGxpbmVzOiBbIiIsICIiXQogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICB9OwogICAgdGhpcy5yZXBsYWNlID0gZnVuY3Rpb24gKHJhbmdlLCB0ZXh0KSB7CiAgICAgICAgaWYgKCEocmFuZ2UgaW5zdGFuY2VvZiBSYW5nZSkpCiAgICAgICAgICAgIHJhbmdlID0gUmFuZ2UuZnJvbVBvaW50cyhyYW5nZS5zdGFydCwgcmFuZ2UuZW5kKTsKICAgICAgICBpZiAodGV4dC5sZW5ndGggPT09IDAgJiYgcmFuZ2UuaXNFbXB0eSgpKQogICAgICAgICAgICByZXR1cm4gcmFuZ2Uuc3RhcnQ7CiAgICAgICAgaWYgKHRleHQgPT0gdGhpcy5nZXRUZXh0UmFuZ2UocmFuZ2UpKQogICAgICAgICAgICByZXR1cm4gcmFuZ2UuZW5kOwogICAgICAgIHRoaXMucmVtb3ZlKHJhbmdlKTsKICAgICAgICB2YXIgZW5kOwogICAgICAgIGlmICh0ZXh0KSB7CiAgICAgICAgICAgIGVuZCA9IHRoaXMuaW5zZXJ0KHJhbmdlLnN0YXJ0LCB0ZXh0KTsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIGVuZCA9IHJhbmdlLnN0YXJ0OwogICAgICAgIH0KICAgICAgICByZXR1cm4gZW5kOwogICAgfTsKICAgIHRoaXMuYXBwbHlEZWx0YXMgPSBmdW5jdGlvbiAoZGVsdGFzKSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkZWx0YXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgdGhpcy5hcHBseURlbHRhKGRlbHRhc1tpXSk7CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMucmV2ZXJ0RGVsdGFzID0gZnVuY3Rpb24gKGRlbHRhcykgewogICAgICAgIGZvciAodmFyIGkgPSBkZWx0YXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHsKICAgICAgICAgICAgdGhpcy5yZXZlcnREZWx0YShkZWx0YXNbaV0pOwogICAgICAgIH0KICAgIH07CiAgICB0aGlzLmFwcGx5RGVsdGEgPSBmdW5jdGlvbiAoZGVsdGEsIGRvTm90VmFsaWRhdGUpIHsKICAgICAgICB2YXIgaXNJbnNlcnQgPSBkZWx0YS5hY3Rpb24gPT0gImluc2VydCI7CiAgICAgICAgaWYgKGlzSW5zZXJ0ID8gZGVsdGEubGluZXMubGVuZ3RoIDw9IDEgJiYgIWRlbHRhLmxpbmVzWzBdCiAgICAgICAgICAgIDogIVJhbmdlLmNvbXBhcmVQb2ludHMoZGVsdGEuc3RhcnQsIGRlbHRhLmVuZCkpIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBpZiAoaXNJbnNlcnQgJiYgZGVsdGEubGluZXMubGVuZ3RoID4gMjAwMDApIHsKICAgICAgICAgICAgdGhpcy4kc3BsaXRBbmRhcHBseUxhcmdlRGVsdGEoZGVsdGEsIDIwMDAwKTsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIGFwcGx5RGVsdGEodGhpcy4kbGluZXMsIGRlbHRhLCBkb05vdFZhbGlkYXRlKTsKICAgICAgICAgICAgdGhpcy5fc2lnbmFsKCJjaGFuZ2UiLCBkZWx0YSk7CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMuJHNhZmVBcHBseURlbHRhID0gZnVuY3Rpb24gKGRlbHRhKSB7CiAgICAgICAgdmFyIGRvY0xlbmd0aCA9IHRoaXMuJGxpbmVzLmxlbmd0aDsKICAgICAgICBpZiAoZGVsdGEuYWN0aW9uID09ICJyZW1vdmUiICYmIGRlbHRhLnN0YXJ0LnJvdyA8IGRvY0xlbmd0aCAmJiBkZWx0YS5lbmQucm93IDwgZG9jTGVuZ3RoCiAgICAgICAgICAgIHx8IGRlbHRhLmFjdGlvbiA9PSAiaW5zZXJ0IiAmJiBkZWx0YS5zdGFydC5yb3cgPD0gZG9jTGVuZ3RoKSB7CiAgICAgICAgICAgIHRoaXMuYXBwbHlEZWx0YShkZWx0YSk7CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMuJHNwbGl0QW5kYXBwbHlMYXJnZURlbHRhID0gZnVuY3Rpb24gKGRlbHRhLCBNQVgpIHsKICAgICAgICB2YXIgbGluZXMgPSBkZWx0YS5saW5lczsKICAgICAgICB2YXIgbCA9IGxpbmVzLmxlbmd0aCAtIE1BWCArIDE7CiAgICAgICAgdmFyIHJvdyA9IGRlbHRhLnN0YXJ0LnJvdzsKICAgICAgICB2YXIgY29sdW1uID0gZGVsdGEuc3RhcnQuY29sdW1uOwogICAgICAgIGZvciAodmFyIGZyb20gPSAwLCB0byA9IDA7IGZyb20gPCBsOyBmcm9tID0gdG8pIHsKICAgICAgICAgICAgdG8gKz0gTUFYIC0gMTsKICAgICAgICAgICAgdmFyIGNodW5rID0gbGluZXMuc2xpY2UoZnJvbSwgdG8pOwogICAgICAgICAgICBjaHVuay5wdXNoKCIiKTsKICAgICAgICAgICAgdGhpcy5hcHBseURlbHRhKHsKICAgICAgICAgICAgICAgIHN0YXJ0OiB0aGlzLnBvcyhyb3cgKyBmcm9tLCBjb2x1bW4pLAogICAgICAgICAgICAgICAgZW5kOiB0aGlzLnBvcyhyb3cgKyB0bywgY29sdW1uID0gMCksCiAgICAgICAgICAgICAgICBhY3Rpb246IGRlbHRhLmFjdGlvbiwKICAgICAgICAgICAgICAgIGxpbmVzOiBjaHVuawogICAgICAgICAgICB9LCB0cnVlKTsKICAgICAgICB9CiAgICAgICAgZGVsdGEubGluZXMgPSBsaW5lcy5zbGljZShmcm9tKTsKICAgICAgICBkZWx0YS5zdGFydC5yb3cgPSByb3cgKyBmcm9tOwogICAgICAgIGRlbHRhLnN0YXJ0LmNvbHVtbiA9IGNvbHVtbjsKICAgICAgICB0aGlzLmFwcGx5RGVsdGEoZGVsdGEsIHRydWUpOwogICAgfTsKICAgIHRoaXMucmV2ZXJ0RGVsdGEgPSBmdW5jdGlvbiAoZGVsdGEpIHsKICAgICAgICB0aGlzLiRzYWZlQXBwbHlEZWx0YSh7CiAgICAgICAgICAgIHN0YXJ0OiB0aGlzLmNsb25lUG9zKGRlbHRhLnN0YXJ0KSwKICAgICAgICAgICAgZW5kOiB0aGlzLmNsb25lUG9zKGRlbHRhLmVuZCksCiAgICAgICAgICAgIGFjdGlvbjogKGRlbHRhLmFjdGlvbiA9PSAiaW5zZXJ0IiA/ICJyZW1vdmUiIDogImluc2VydCIpLAogICAgICAgICAgICBsaW5lczogZGVsdGEubGluZXMuc2xpY2UoKQogICAgICAgIH0pOwogICAgfTsKICAgIHRoaXMuaW5kZXhUb1Bvc2l0aW9uID0gZnVuY3Rpb24gKGluZGV4LCBzdGFydFJvdykgewogICAgICAgIHZhciBsaW5lcyA9IHRoaXMuJGxpbmVzIHx8IHRoaXMuZ2V0QWxsTGluZXMoKTsKICAgICAgICB2YXIgbmV3bGluZUxlbmd0aCA9IHRoaXMuZ2V0TmV3TGluZUNoYXJhY3RlcigpLmxlbmd0aDsKICAgICAgICBmb3IgKHZhciBpID0gc3RhcnRSb3cgfHwgMCwgbCA9IGxpbmVzLmxlbmd0aDsgaSA8IGw7IGkrKykgewogICAgICAgICAgICBpbmRleCAtPSBsaW5lc1tpXS5sZW5ndGggKyBuZXdsaW5lTGVuZ3RoOwogICAgICAgICAgICBpZiAoaW5kZXggPCAwKQogICAgICAgICAgICAgICAgcmV0dXJuIHsgcm93OiBpLCBjb2x1bW46IGluZGV4ICsgbGluZXNbaV0ubGVuZ3RoICsgbmV3bGluZUxlbmd0aCB9OwogICAgICAgIH0KICAgICAgICByZXR1cm4geyByb3c6IGwgLSAxLCBjb2x1bW46IGluZGV4ICsgbGluZXNbbCAtIDFdLmxlbmd0aCArIG5ld2xpbmVMZW5ndGggfTsKICAgIH07CiAgICB0aGlzLnBvc2l0aW9uVG9JbmRleCA9IGZ1bmN0aW9uIChwb3MsIHN0YXJ0Um93KSB7CiAgICAgICAgdmFyIGxpbmVzID0gdGhpcy4kbGluZXMgfHwgdGhpcy5nZXRBbGxMaW5lcygpOwogICAgICAgIHZhciBuZXdsaW5lTGVuZ3RoID0gdGhpcy5nZXROZXdMaW5lQ2hhcmFjdGVyKCkubGVuZ3RoOwogICAgICAgIHZhciBpbmRleCA9IDA7CiAgICAgICAgdmFyIHJvdyA9IE1hdGgubWluKHBvcy5yb3csIGxpbmVzLmxlbmd0aCk7CiAgICAgICAgZm9yICh2YXIgaSA9IHN0YXJ0Um93IHx8IDA7IGkgPCByb3c7ICsraSkKICAgICAgICAgICAgaW5kZXggKz0gbGluZXNbaV0ubGVuZ3RoICsgbmV3bGluZUxlbmd0aDsKICAgICAgICByZXR1cm4gaW5kZXggKyBwb3MuY29sdW1uOwogICAgfTsKfSkuY2FsbChEb2N1bWVudC5wcm90b3R5cGUpOwpleHBvcnRzLkRvY3VtZW50ID0gRG9jdW1lbnQ7Cgp9KTsKCmFjZS5kZWZpbmUoImFjZS9saWIvbGFuZyIsW10sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSl7InVzZSBzdHJpY3QiOwpleHBvcnRzLmxhc3QgPSBmdW5jdGlvbiAoYSkgewogICAgcmV0dXJuIGFbYS5sZW5ndGggLSAxXTsKfTsKZXhwb3J0cy5zdHJpbmdSZXZlcnNlID0gZnVuY3Rpb24gKHN0cmluZykgewogICAgcmV0dXJuIHN0cmluZy5zcGxpdCgiIikucmV2ZXJzZSgpLmpvaW4oIiIpOwp9OwpleHBvcnRzLnN0cmluZ1JlcGVhdCA9IGZ1bmN0aW9uIChzdHJpbmcsIGNvdW50KSB7CiAgICB2YXIgcmVzdWx0ID0gJyc7CiAgICB3aGlsZSAoY291bnQgPiAwKSB7CiAgICAgICAgaWYgKGNvdW50ICYgMSkKICAgICAgICAgICAgcmVzdWx0ICs9IHN0cmluZzsKICAgICAgICBpZiAoY291bnQgPj49IDEpCiAgICAgICAgICAgIHN0cmluZyArPSBzdHJpbmc7CiAgICB9CiAgICByZXR1cm4gcmVzdWx0Owp9Owp2YXIgdHJpbUJlZ2luUmVnZXhwID0gL15cc1xzKi87CnZhciB0cmltRW5kUmVnZXhwID0gL1xzXHMqJC87CmV4cG9ydHMuc3RyaW5nVHJpbUxlZnQgPSBmdW5jdGlvbiAoc3RyaW5nKSB7CiAgICByZXR1cm4gc3RyaW5nLnJlcGxhY2UodHJpbUJlZ2luUmVnZXhwLCAnJyk7Cn07CmV4cG9ydHMuc3RyaW5nVHJpbVJpZ2h0ID0gZnVuY3Rpb24gKHN0cmluZykgewogICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKHRyaW1FbmRSZWdleHAsICcnKTsKfTsKZXhwb3J0cy5jb3B5T2JqZWN0ID0gZnVuY3Rpb24gKG9iaikgewogICAgdmFyIGNvcHkgPSB7fTsKICAgIGZvciAodmFyIGtleSBpbiBvYmopIHsKICAgICAgICBjb3B5W2tleV0gPSBvYmpba2V5XTsKICAgIH0KICAgIHJldHVybiBjb3B5Owp9OwpleHBvcnRzLmNvcHlBcnJheSA9IGZ1bmN0aW9uIChhcnJheSkgewogICAgdmFyIGNvcHkgPSBbXTsKICAgIGZvciAodmFyIGkgPSAwLCBsID0gYXJyYXkubGVuZ3RoOyBpIDwgbDsgaSsrKSB7CiAgICAgICAgaWYgKGFycmF5W2ldICYmIHR5cGVvZiBhcnJheVtpXSA9PSAib2JqZWN0IikKICAgICAgICAgICAgY29weVtpXSA9IHRoaXMuY29weU9iamVjdChhcnJheVtpXSk7CiAgICAgICAgZWxzZQogICAgICAgICAgICBjb3B5W2ldID0gYXJyYXlbaV07CiAgICB9CiAgICByZXR1cm4gY29weTsKfTsKZXhwb3J0cy5kZWVwQ29weSA9IGZ1bmN0aW9uIGRlZXBDb3B5KG9iaikgewogICAgaWYgKHR5cGVvZiBvYmogIT09ICJvYmplY3QiIHx8ICFvYmopCiAgICAgICAgcmV0dXJuIG9iajsKICAgIHZhciBjb3B5OwogICAgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkgewogICAgICAgIGNvcHkgPSBbXTsKICAgICAgICBmb3IgKHZhciBrZXkgPSAwOyBrZXkgPCBvYmoubGVuZ3RoOyBrZXkrKykgewogICAgICAgICAgICBjb3B5W2tleV0gPSBkZWVwQ29weShvYmpba2V5XSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBjb3B5OwogICAgfQogICAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopICE9PSAiW29iamVjdCBPYmplY3RdIikKICAgICAgICByZXR1cm4gb2JqOwogICAgY29weSA9IHt9OwogICAgZm9yICh2YXIga2V5IGluIG9iaikKICAgICAgICBjb3B5W2tleV0gPSBkZWVwQ29weShvYmpba2V5XSk7CiAgICByZXR1cm4gY29weTsKfTsKZXhwb3J0cy5hcnJheVRvTWFwID0gZnVuY3Rpb24gKGFycikgewogICAgdmFyIG1hcCA9IHt9OwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsKICAgICAgICBtYXBbYXJyW2ldXSA9IDE7CiAgICB9CiAgICByZXR1cm4gbWFwOwp9OwpleHBvcnRzLmNyZWF0ZU1hcCA9IGZ1bmN0aW9uIChwcm9wcykgewogICAgdmFyIG1hcCA9IE9iamVjdC5jcmVhdGUobnVsbCk7CiAgICBmb3IgKHZhciBpIGluIHByb3BzKSB7CiAgICAgICAgbWFwW2ldID0gcHJvcHNbaV07CiAgICB9CiAgICByZXR1cm4gbWFwOwp9OwpleHBvcnRzLmFycmF5UmVtb3ZlID0gZnVuY3Rpb24gKGFycmF5LCB2YWx1ZSkgewogICAgZm9yICh2YXIgaSA9IDA7IGkgPD0gYXJyYXkubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAodmFsdWUgPT09IGFycmF5W2ldKSB7CiAgICAgICAgICAgIGFycmF5LnNwbGljZShpLCAxKTsKICAgICAgICB9CiAgICB9Cn07CmV4cG9ydHMuZXNjYXBlUmVnRXhwID0gZnVuY3Rpb24gKHN0cikgewogICAgcmV0dXJuIHN0ci5yZXBsYWNlKC8oWy4qKz9eJHt9KCl8W1xdXC9cXF0pL2csICdcXCQxJyk7Cn07CmV4cG9ydHMuZXNjYXBlSFRNTCA9IGZ1bmN0aW9uIChzdHIpIHsKICAgIHJldHVybiAoIiIgKyBzdHIpLnJlcGxhY2UoLyYvZywgIiYjMzg7IikucmVwbGFjZSgvIi9nLCAiJiMzNDsiKS5yZXBsYWNlKC8nL2csICImIzM5OyIpLnJlcGxhY2UoLzwvZywgIiYjNjA7Iik7Cn07CmV4cG9ydHMuZ2V0TWF0Y2hPZmZzZXRzID0gZnVuY3Rpb24gKHN0cmluZywgcmVnRXhwKSB7CiAgICB2YXIgbWF0Y2hlcyA9IFtdOwogICAgc3RyaW5nLnJlcGxhY2UocmVnRXhwLCBmdW5jdGlvbiAoc3RyKSB7CiAgICAgICAgbWF0Y2hlcy5wdXNoKHsKICAgICAgICAgICAgb2Zmc2V0OiBhcmd1bWVudHNbYXJndW1lbnRzLmxlbmd0aCAtIDJdLAogICAgICAgICAgICBsZW5ndGg6IHN0ci5sZW5ndGgKICAgICAgICB9KTsKICAgIH0pOwogICAgcmV0dXJuIG1hdGNoZXM7Cn07CmV4cG9ydHMuZGVmZXJyZWRDYWxsID0gZnVuY3Rpb24gKGZjbikgewogICAgdmFyIHRpbWVyID0gbnVsbDsKICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB0aW1lciA9IG51bGw7CiAgICAgICAgZmNuKCk7CiAgICB9OwogICAgdmFyIGRlZmVycmVkID0gZnVuY3Rpb24gKHRpbWVvdXQpIHsKICAgICAgICBkZWZlcnJlZC5jYW5jZWwoKTsKICAgICAgICB0aW1lciA9IHNldFRpbWVvdXQoY2FsbGJhY2ssIHRpbWVvdXQgfHwgMCk7CiAgICAgICAgcmV0dXJuIGRlZmVycmVkOwogICAgfTsKICAgIGRlZmVycmVkLnNjaGVkdWxlID0gZGVmZXJyZWQ7CiAgICBkZWZlcnJlZC5jYWxsID0gZnVuY3Rpb24gKCkgewogICAgICAgIHRoaXMuY2FuY2VsKCk7CiAgICAgICAgZmNuKCk7CiAgICAgICAgcmV0dXJuIGRlZmVycmVkOwogICAgfTsKICAgIGRlZmVycmVkLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBjbGVhclRpbWVvdXQodGltZXIpOwogICAgICAgIHRpbWVyID0gbnVsbDsKICAgICAgICByZXR1cm4gZGVmZXJyZWQ7CiAgICB9OwogICAgZGVmZXJyZWQuaXNQZW5kaW5nID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiB0aW1lcjsKICAgIH07CiAgICByZXR1cm4gZGVmZXJyZWQ7Cn07CmV4cG9ydHMuZGVsYXllZENhbGwgPSBmdW5jdGlvbiAoZmNuLCBkZWZhdWx0VGltZW91dCkgewogICAgdmFyIHRpbWVyID0gbnVsbDsKICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB0aW1lciA9IG51bGw7CiAgICAgICAgZmNuKCk7CiAgICB9OwogICAgdmFyIF9zZWxmID0gZnVuY3Rpb24gKHRpbWVvdXQpIHsKICAgICAgICBpZiAodGltZXIgPT0gbnVsbCkKICAgICAgICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KGNhbGxiYWNrLCB0aW1lb3V0IHx8IGRlZmF1bHRUaW1lb3V0KTsKICAgIH07CiAgICBfc2VsZi5kZWxheSA9IGZ1bmN0aW9uICh0aW1lb3V0KSB7CiAgICAgICAgdGltZXIgJiYgY2xlYXJUaW1lb3V0KHRpbWVyKTsKICAgICAgICB0aW1lciA9IHNldFRpbWVvdXQoY2FsbGJhY2ssIHRpbWVvdXQgfHwgZGVmYXVsdFRpbWVvdXQpOwogICAgfTsKICAgIF9zZWxmLnNjaGVkdWxlID0gX3NlbGY7CiAgICBfc2VsZi5jYWxsID0gZnVuY3Rpb24gKCkgewogICAgICAgIHRoaXMuY2FuY2VsKCk7CiAgICAgICAgZmNuKCk7CiAgICB9OwogICAgX3NlbGYuY2FuY2VsID0gZnVuY3Rpb24gKCkgewogICAgICAgIHRpbWVyICYmIGNsZWFyVGltZW91dCh0aW1lcik7CiAgICAgICAgdGltZXIgPSBudWxsOwogICAgfTsKICAgIF9zZWxmLmlzUGVuZGluZyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gdGltZXI7CiAgICB9OwogICAgcmV0dXJuIF9zZWxmOwp9OwoKfSk7CgphY2UuZGVmaW5lKCJhY2Uvd29ya2VyL21pcnJvciIsW10sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkgewoidXNlIHN0cmljdCI7Cgp2YXIgRG9jdW1lbnQgPSByZXF1aXJlKCIuLi9kb2N1bWVudCIpLkRvY3VtZW50Owp2YXIgbGFuZyA9IHJlcXVpcmUoIi4uL2xpYi9sYW5nIik7CiAgICAKdmFyIE1pcnJvciA9IGV4cG9ydHMuTWlycm9yID0gZnVuY3Rpb24oc2VuZGVyKSB7CiAgICB0aGlzLnNlbmRlciA9IHNlbmRlcjsKICAgIHZhciBkb2MgPSB0aGlzLmRvYyA9IG5ldyBEb2N1bWVudCgiIik7CiAgICAKICAgIHZhciBkZWZlcnJlZFVwZGF0ZSA9IHRoaXMuZGVmZXJyZWRVcGRhdGUgPSBsYW5nLmRlbGF5ZWRDYWxsKHRoaXMub25VcGRhdGUuYmluZCh0aGlzKSk7CiAgICAKICAgIHZhciBfc2VsZiA9IHRoaXM7CiAgICBzZW5kZXIub24oImNoYW5nZSIsIGZ1bmN0aW9uKGUpIHsKICAgICAgICB2YXIgZGF0YSA9IGUuZGF0YTsKICAgICAgICBpZiAoZGF0YVswXS5zdGFydCkgewogICAgICAgICAgICBkb2MuYXBwbHlEZWx0YXMoZGF0YSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSArPSAyKSB7CiAgICAgICAgICAgICAgICB2YXIgZCwgZXJyOyAKICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGFbaSsxXSkpIHsKICAgICAgICAgICAgICAgICAgICBkID0ge2FjdGlvbjogImluc2VydCIsIHN0YXJ0OiBkYXRhW2ldLCBsaW5lczogZGF0YVtpKzFdfTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgZCA9IHthY3Rpb246ICJyZW1vdmUiLCBzdGFydDogZGF0YVtpXSwgZW5kOiBkYXRhW2krMV19OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBpZiAoKGQuYWN0aW9uID09ICJpbnNlcnQiID8gZC5zdGFydCA6IGQuZW5kKS5yb3cgPj0gZG9jLiRsaW5lcy5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgICBlcnIgPSBuZXcgRXJyb3IoIkludmFsaWQgZGVsdGEiKTsKICAgICAgICAgICAgICAgICAgICBlcnIuZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogX3NlbGYuJHBhdGgsCiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVzTGVuZ3RoOiBkb2MuJGxpbmVzLmxlbmd0aCwKICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IGQuc3RhcnQsCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZDogZC5lbmQKICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgIHRocm93IGVycjsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBkb2MuYXBwbHlEZWx0YShkLCB0cnVlKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZiAoX3NlbGYuJHRpbWVvdXQpCiAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZFVwZGF0ZS5zY2hlZHVsZShfc2VsZi4kdGltZW91dCk7CiAgICAgICAgX3NlbGYub25VcGRhdGUoKTsKICAgIH0pOwp9OwoKKGZ1bmN0aW9uKCkgewogICAgCiAgICB0aGlzLiR0aW1lb3V0ID0gNTAwOwogICAgCiAgICB0aGlzLnNldFRpbWVvdXQgPSBmdW5jdGlvbih0aW1lb3V0KSB7CiAgICAgICAgdGhpcy4kdGltZW91dCA9IHRpbWVvdXQ7CiAgICB9OwogICAgCiAgICB0aGlzLnNldFZhbHVlID0gZnVuY3Rpb24odmFsdWUpIHsKICAgICAgICB0aGlzLmRvYy5zZXRWYWx1ZSh2YWx1ZSk7CiAgICAgICAgdGhpcy5kZWZlcnJlZFVwZGF0ZS5zY2hlZHVsZSh0aGlzLiR0aW1lb3V0KTsKICAgIH07CiAgICAKICAgIHRoaXMuZ2V0VmFsdWUgPSBmdW5jdGlvbihjYWxsYmFja0lkKSB7CiAgICAgICAgdGhpcy5zZW5kZXIuY2FsbGJhY2sodGhpcy5kb2MuZ2V0VmFsdWUoKSwgY2FsbGJhY2tJZCk7CiAgICB9OwogICAgCiAgICB0aGlzLm9uVXBkYXRlID0gZnVuY3Rpb24oKSB7CiAgICB9OwogICAgCiAgICB0aGlzLmlzUGVuZGluZyA9IGZ1bmN0aW9uKCkgewogICAgICAgIHJldHVybiB0aGlzLmRlZmVycmVkVXBkYXRlLmlzUGVuZGluZygpOwogICAgfTsKICAgIAp9KS5jYWxsKE1pcnJvci5wcm90b3R5cGUpOwoKfSk7CgphY2UuZGVmaW5lKCJhY2UvbW9kZS9qc29uL2pzb25fcGFyc2UiLFtdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHsKInVzZSBzdHJpY3QiOwoKICAgIHZhciBhdCwgICAgIC8vIFRoZSBpbmRleCBvZiB0aGUgY3VycmVudCBjaGFyYWN0ZXIKICAgICAgICBjaCwgICAgIC8vIFRoZSBjdXJyZW50IGNoYXJhY3RlcgogICAgICAgIGVzY2FwZWUgPSB7CiAgICAgICAgICAgICciJzogICciJywKICAgICAgICAgICAgJ1xcJzogJ1xcJywKICAgICAgICAgICAgJy8nOiAgJy8nLAogICAgICAgICAgICBiOiAgICAnXGInLAogICAgICAgICAgICBmOiAgICAnXGYnLAogICAgICAgICAgICBuOiAgICAnXG4nLAogICAgICAgICAgICByOiAgICAnXHInLAogICAgICAgICAgICB0OiAgICAnXHQnCiAgICAgICAgfSwKICAgICAgICB0ZXh0LAoKICAgICAgICBlcnJvciA9IGZ1bmN0aW9uIChtKSB7CgogICAgICAgICAgICB0aHJvdyB7CiAgICAgICAgICAgICAgICBuYW1lOiAgICAnU3ludGF4RXJyb3InLAogICAgICAgICAgICAgICAgbWVzc2FnZTogbSwKICAgICAgICAgICAgICAgIGF0OiAgICAgIGF0LAogICAgICAgICAgICAgICAgdGV4dDogICAgdGV4dAogICAgICAgICAgICB9OwogICAgICAgIH0sCgogICAgICAgIG5leHQgPSBmdW5jdGlvbiAoYykgewoKICAgICAgICAgICAgaWYgKGMgJiYgYyAhPT0gY2gpIHsKICAgICAgICAgICAgICAgIGVycm9yKCJFeHBlY3RlZCAnIiArIGMgKyAiJyBpbnN0ZWFkIG9mICciICsgY2ggKyAiJyIpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBjaCA9IHRleHQuY2hhckF0KGF0KTsKICAgICAgICAgICAgYXQgKz0gMTsKICAgICAgICAgICAgcmV0dXJuIGNoOwogICAgICAgIH0sCgogICAgICAgIG51bWJlciA9IGZ1bmN0aW9uICgpIHsKCiAgICAgICAgICAgIHZhciBudW1iZXIsCiAgICAgICAgICAgICAgICBzdHJpbmcgPSAnJzsKCiAgICAgICAgICAgIGlmIChjaCA9PT0gJy0nKSB7CiAgICAgICAgICAgICAgICBzdHJpbmcgPSAnLSc7CiAgICAgICAgICAgICAgICBuZXh0KCctJyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgd2hpbGUgKGNoID49ICcwJyAmJiBjaCA8PSAnOScpIHsKICAgICAgICAgICAgICAgIHN0cmluZyArPSBjaDsKICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoY2ggPT09ICcuJykgewogICAgICAgICAgICAgICAgc3RyaW5nICs9ICcuJzsKICAgICAgICAgICAgICAgIHdoaWxlIChuZXh0KCkgJiYgY2ggPj0gJzAnICYmIGNoIDw9ICc5JykgewogICAgICAgICAgICAgICAgICAgIHN0cmluZyArPSBjaDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoY2ggPT09ICdlJyB8fCBjaCA9PT0gJ0UnKSB7CiAgICAgICAgICAgICAgICBzdHJpbmcgKz0gY2g7CiAgICAgICAgICAgICAgICBuZXh0KCk7CiAgICAgICAgICAgICAgICBpZiAoY2ggPT09ICctJyB8fCBjaCA9PT0gJysnKSB7CiAgICAgICAgICAgICAgICAgICAgc3RyaW5nICs9IGNoOwogICAgICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHdoaWxlIChjaCA+PSAnMCcgJiYgY2ggPD0gJzknKSB7CiAgICAgICAgICAgICAgICAgICAgc3RyaW5nICs9IGNoOwogICAgICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBudW1iZXIgPSArc3RyaW5nOwogICAgICAgICAgICBpZiAoaXNOYU4obnVtYmVyKSkgewogICAgICAgICAgICAgICAgZXJyb3IoIkJhZCBudW1iZXIiKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiBudW1iZXI7CiAgICAgICAgICAgIH0KICAgICAgICB9LAoKICAgICAgICBzdHJpbmcgPSBmdW5jdGlvbiAoKSB7CgogICAgICAgICAgICB2YXIgaGV4LAogICAgICAgICAgICAgICAgaSwKICAgICAgICAgICAgICAgIHN0cmluZyA9ICcnLAogICAgICAgICAgICAgICAgdWZmZmY7CgogICAgICAgICAgICBpZiAoY2ggPT09ICciJykgewogICAgICAgICAgICAgICAgd2hpbGUgKG5leHQoKSkgewogICAgICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gJyInKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0cmluZzsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNoID09PSAnXFwnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoID09PSAndScpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVmZmZmID0gMDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCA0OyBpICs9IDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZXggPSBwYXJzZUludChuZXh0KCksIDE2KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzRmluaXRlKGhleCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVmZmZmID0gdWZmZmYgKiAxNiArIGhleDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cmluZyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHVmZmZmKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZXNjYXBlZVtjaF0gPT09ICdzdHJpbmcnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJpbmcgKz0gZXNjYXBlZVtjaF07CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2ggPT0gIlxuIiB8fCBjaCA9PSAiXHIiKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN0cmluZyArPSBjaDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZXJyb3IoIkJhZCBzdHJpbmciKTsKICAgICAgICB9LAoKICAgICAgICB3aGl0ZSA9IGZ1bmN0aW9uICgpIHsKCiAgICAgICAgICAgIHdoaWxlIChjaCAmJiBjaCA8PSAnICcpIHsKICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgfQogICAgICAgIH0sCgogICAgICAgIHdvcmQgPSBmdW5jdGlvbiAoKSB7CgogICAgICAgICAgICBzd2l0Y2ggKGNoKSB7CiAgICAgICAgICAgIGNhc2UgJ3QnOgogICAgICAgICAgICAgICAgbmV4dCgndCcpOwogICAgICAgICAgICAgICAgbmV4dCgncicpOwogICAgICAgICAgICAgICAgbmV4dCgndScpOwogICAgICAgICAgICAgICAgbmV4dCgnZScpOwogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIGNhc2UgJ2YnOgogICAgICAgICAgICAgICAgbmV4dCgnZicpOwogICAgICAgICAgICAgICAgbmV4dCgnYScpOwogICAgICAgICAgICAgICAgbmV4dCgnbCcpOwogICAgICAgICAgICAgICAgbmV4dCgncycpOwogICAgICAgICAgICAgICAgbmV4dCgnZScpOwogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICBjYXNlICduJzoKICAgICAgICAgICAgICAgIG5leHQoJ24nKTsKICAgICAgICAgICAgICAgIG5leHQoJ3UnKTsKICAgICAgICAgICAgICAgIG5leHQoJ2wnKTsKICAgICAgICAgICAgICAgIG5leHQoJ2wnKTsKICAgICAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVycm9yKCJVbmV4cGVjdGVkICciICsgY2ggKyAiJyIpOwogICAgICAgIH0sCgogICAgICAgIHZhbHVlLCAgLy8gUGxhY2UgaG9sZGVyIGZvciB0aGUgdmFsdWUgZnVuY3Rpb24uCgogICAgICAgIGFycmF5ID0gZnVuY3Rpb24gKCkgewoKICAgICAgICAgICAgdmFyIGFycmF5ID0gW107CgogICAgICAgICAgICBpZiAoY2ggPT09ICdbJykgewogICAgICAgICAgICAgICAgbmV4dCgnWycpOwogICAgICAgICAgICAgICAgd2hpdGUoKTsKICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gJ10nKSB7CiAgICAgICAgICAgICAgICAgICAgbmV4dCgnXScpOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBhcnJheTsgICAvLyBlbXB0eSBhcnJheQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgd2hpbGUgKGNoKSB7CiAgICAgICAgICAgICAgICAgICAgYXJyYXkucHVzaCh2YWx1ZSgpKTsKICAgICAgICAgICAgICAgICAgICB3aGl0ZSgpOwogICAgICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gJ10nKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoJ10nKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFycmF5OwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBuZXh0KCcsJyk7CiAgICAgICAgICAgICAgICAgICAgd2hpdGUoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBlcnJvcigiQmFkIGFycmF5Iik7CiAgICAgICAgfSwKCiAgICAgICAgb2JqZWN0ID0gZnVuY3Rpb24gKCkgewoKICAgICAgICAgICAgdmFyIGtleSwKICAgICAgICAgICAgICAgIG9iamVjdCA9IHt9OwoKICAgICAgICAgICAgaWYgKGNoID09PSAneycpIHsKICAgICAgICAgICAgICAgIG5leHQoJ3snKTsKICAgICAgICAgICAgICAgIHdoaXRlKCk7CiAgICAgICAgICAgICAgICBpZiAoY2ggPT09ICd9JykgewogICAgICAgICAgICAgICAgICAgIG5leHQoJ30nKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0OyAgIC8vIGVtcHR5IG9iamVjdAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgd2hpbGUgKGNoKSB7CiAgICAgICAgICAgICAgICAgICAga2V5ID0gc3RyaW5nKCk7CiAgICAgICAgICAgICAgICAgICAgd2hpdGUoKTsKICAgICAgICAgICAgICAgICAgICBuZXh0KCc6Jyk7CiAgICAgICAgICAgICAgICAgICAgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSkgewogICAgICAgICAgICAgICAgICAgICAgICBlcnJvcignRHVwbGljYXRlIGtleSAiJyArIGtleSArICciJyk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIG9iamVjdFtrZXldID0gdmFsdWUoKTsKICAgICAgICAgICAgICAgICAgICB3aGl0ZSgpOwogICAgICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gJ30nKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoJ30nKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgbmV4dCgnLCcpOwogICAgICAgICAgICAgICAgICAgIHdoaXRlKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZXJyb3IoIkJhZCBvYmplY3QiKTsKICAgICAgICB9OwoKICAgIHZhbHVlID0gZnVuY3Rpb24gKCkgewoKICAgICAgICB3aGl0ZSgpOwogICAgICAgIHN3aXRjaCAoY2gpIHsKICAgICAgICBjYXNlICd7JzoKICAgICAgICAgICAgcmV0dXJuIG9iamVjdCgpOwogICAgICAgIGNhc2UgJ1snOgogICAgICAgICAgICByZXR1cm4gYXJyYXkoKTsKICAgICAgICBjYXNlICciJzoKICAgICAgICAgICAgcmV0dXJuIHN0cmluZygpOwogICAgICAgIGNhc2UgJy0nOgogICAgICAgICAgICByZXR1cm4gbnVtYmVyKCk7CiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgcmV0dXJuIGNoID49ICcwJyAmJiBjaCA8PSAnOScgPyBudW1iZXIoKSA6IHdvcmQoKTsKICAgICAgICB9CiAgICB9OwoKICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlLCByZXZpdmVyKSB7CiAgICAgICAgdmFyIHJlc3VsdDsKCiAgICAgICAgdGV4dCA9IHNvdXJjZTsKICAgICAgICBhdCA9IDA7CiAgICAgICAgY2ggPSAnICc7CiAgICAgICAgcmVzdWx0ID0gdmFsdWUoKTsKICAgICAgICB3aGl0ZSgpOwogICAgICAgIGlmIChjaCkgewogICAgICAgICAgICBlcnJvcigiU3ludGF4IGVycm9yIik7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gdHlwZW9mIHJldml2ZXIgPT09ICdmdW5jdGlvbicgPyBmdW5jdGlvbiB3YWxrKGhvbGRlciwga2V5KSB7CiAgICAgICAgICAgIHZhciBrLCB2LCB2YWx1ZSA9IGhvbGRlcltrZXldOwogICAgICAgICAgICBpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JykgewogICAgICAgICAgICAgICAgZm9yIChrIGluIHZhbHVlKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBrKSkgewogICAgICAgICAgICAgICAgICAgICAgICB2ID0gd2Fsayh2YWx1ZSwgayk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2ICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlW2tdID0gdjsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB2YWx1ZVtrXTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gcmV2aXZlci5jYWxsKGhvbGRlciwga2V5LCB2YWx1ZSk7CiAgICAgICAgfSh7Jyc6IHJlc3VsdH0sICcnKSA6IHJlc3VsdDsKICAgIH07Cn0pOwoKYWNlLmRlZmluZSgiYWNlL21vZGUvanNvbl93b3JrZXIiLFtdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHsKInVzZSBzdHJpY3QiOwoKdmFyIG9vcCA9IHJlcXVpcmUoIi4uL2xpYi9vb3AiKTsKdmFyIE1pcnJvciA9IHJlcXVpcmUoIi4uL3dvcmtlci9taXJyb3IiKS5NaXJyb3I7CnZhciBwYXJzZSA9IHJlcXVpcmUoIi4vanNvbi9qc29uX3BhcnNlIik7Cgp2YXIgSnNvbldvcmtlciA9IGV4cG9ydHMuSnNvbldvcmtlciA9IGZ1bmN0aW9uKHNlbmRlcikgewogICAgTWlycm9yLmNhbGwodGhpcywgc2VuZGVyKTsKICAgIHRoaXMuc2V0VGltZW91dCgyMDApOwp9OwoKb29wLmluaGVyaXRzKEpzb25Xb3JrZXIsIE1pcnJvcik7CgooZnVuY3Rpb24oKSB7CgogICAgdGhpcy5vblVwZGF0ZSA9IGZ1bmN0aW9uKCkgewogICAgICAgIHZhciB2YWx1ZSA9IHRoaXMuZG9jLmdldFZhbHVlKCk7CiAgICAgICAgdmFyIGVycm9ycyA9IFtdOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGlmICh2YWx1ZSkKICAgICAgICAgICAgICAgIHBhcnNlKHZhbHVlKTsKICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgIHZhciBwb3MgPSB0aGlzLmRvYy5pbmRleFRvUG9zaXRpb24oZS5hdC0xKTsKICAgICAgICAgICAgZXJyb3JzLnB1c2goewogICAgICAgICAgICAgICAgcm93OiBwb3Mucm93LAogICAgICAgICAgICAgICAgY29sdW1uOiBwb3MuY29sdW1uLAogICAgICAgICAgICAgICAgdGV4dDogZS5tZXNzYWdlLAogICAgICAgICAgICAgICAgdHlwZTogImVycm9yIgogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgdGhpcy5zZW5kZXIuZW1pdCgiYW5ub3RhdGUiLCBlcnJvcnMpOwogICAgfTsKCn0pLmNhbGwoSnNvbldvcmtlci5wcm90b3R5cGUpOwoKfSk7Cg==";
ace.config.setModuleUrl("ace/theme/kr_theme", themeUrl2);
ace.config.setModuleUrl("ace/mode/json", modeJsonUrl);
ace.config.setModuleUrl("ace/mode/json_worker", workerJsonUrl);
const _sfc_main$w = /* @__PURE__ */ defineComponent({
  __name: "code-edit-modal",
  props: {
    modelValue: { default: () => ({}) },
    lang: { default: "json" },
    title: { default: "编辑" }
  },
  emits: ["update:modelValue", "close"],
  setup(i, { emit: n }) {
    const r = i, o = ref(!1), a = computed({
      get() {
        return r.lang === "json" ? JSON.stringify(r.modelValue, null, 2) : r.modelValue;
      },
      set(u) {
        r.lang === "json" ? n("update:modelValue", JSON.parse(u)) : n("update:modelValue", u);
      }
    });
    return (u, c) => (openBlock(), createElementBlock("div", null, [
      createVNode$1(unref(ElButton), {
        onClick: c[0] || (c[0] = (f) => o.value = !0)
      }, {
        default: withCtx(() => [
          createTextVNode("···")
        ]),
        _: 1
      }),
      createVNode$1(unref(ElDialog), {
        class: "modal-full",
        modelValue: unref(o),
        "onUpdate:modelValue": c[2] || (c[2] = (f) => isRef(o) ? o.value = f : null),
        title: r.title,
        width: "60%",
        onClose: c[3] || (c[3] = (f) => n("close"))
      }, {
        default: withCtx(() => [
          createVNode$1(unref(VAceEditor), {
            value: unref(a),
            "onUpdate:value": c[1] || (c[1] = (f) => isRef(a) ? a.value = f : null),
            lang: r.lang,
            theme: "kr_theme",
            style: { height: "400px" },
            options: {
              useWorker: !0,
              enableBasicAutocompletion: !0,
              enableSnippets: !0,
              enableLiveAutocompletion: !0
            }
          }, null, 8, ["value", "lang"])
        ]),
        _: 1
      }, 8, ["modelValue", "title"])
    ]));
  }
}), _hoisted_1$b = {
  class: "one-row-txt",
  style: { width: "78px" }
}, _hoisted_2$8 = { key: 1 }, _hoisted_3$7 = {
  class: "one-row-txt",
  style: { width: "145px" }
}, _hoisted_4$3 = { key: 1 }, _sfc_main$v = /* @__PURE__ */ defineComponent({
  __name: "dynamic-el-form-item",
  props: {
    objInfo: { default: () => ({}) },
    hide: { default: () => [] },
    code: { type: Boolean, default: !1 }
  },
  emits: ["change"],
  setup(i, { emit: n }) {
    const r = i;
    function o(a) {
      let u = window.setTimeout(function() {
        n("change", a), clearTimeout(u), u = null;
      }, 200);
    }
    return (a, u) => (openBlock(!0), createElementBlock(Fragment, null, renderList(r.objInfo, (c, f) => (openBlock(), createElementBlock("div", { key: f }, [
      r.code ? (openBlock(), createBlock(unref(ElFormItem$1), {
        key: 0,
        class: "props-row",
        size: "small"
      }, {
        label: withCtx(() => [
          unref(getStringWidth)(String(f)) > 78 ? (openBlock(), createBlock(unref(ElTooltip$1), {
            key: 0,
            content: String(f),
            placement: "left",
            "popper-class": "props-popper"
          }, {
            default: withCtx(() => [
              createElementVNode("div", _hoisted_1$b, toDisplayString(f), 1)
            ]),
            _: 2
          }, 1032, ["content"])) : (openBlock(), createElementBlock("span", _hoisted_2$8, toDisplayString(f), 1))
        ]),
        default: withCtx(() => [
          unref(getStringWidth)(String(c.val)) > 145 ? (openBlock(), createBlock(unref(ElTooltip$1), {
            key: 0,
            content: JSON.stringify(c.val),
            placement: "left",
            "popper-class": "props-popper"
          }, {
            default: withCtx(() => [
              createElementVNode("div", _hoisted_3$7, toDisplayString(c.val), 1)
            ]),
            _: 2
          }, 1032, ["content"])) : (openBlock(), createElementBlock("span", _hoisted_4$3, toDisplayString(c.val), 1))
        ]),
        _: 2
      }, 1024)) : createCommentVNode("", !0),
      r.hide.indexOf(String(f)) < 0 ? (openBlock(), createBlock(unref(ElFormItem$1), {
        key: 1,
        label: c.title,
        size: "small"
      }, {
        default: withCtx(() => [
          c.type === unref(EConfigItemPropsType).Select ? (openBlock(), createBlock(unref(ElSelect$1), {
            key: 0,
            modelValue: c.val,
            "onUpdate:modelValue": (d) => c.val = d,
            placeholder: "Select",
            size: "small",
            disabled: !!(c != null && c.disabled),
            onChange: o
          }, {
            default: withCtx(() => [
              (openBlock(!0), createElementBlock(Fragment, null, renderList(c.options, (d) => (openBlock(), createBlock(unref(ElOption$1), {
                key: d.value,
                label: d.label,
                value: d.value
              }, null, 8, ["label", "value"]))), 128))
            ]),
            _: 2
          }, 1032, ["modelValue", "onUpdate:modelValue", "disabled"])) : c.type === unref(EConfigItemPropsType).InputNumber ? (openBlock(), createBlock(unref(ElInputNumber), {
            key: 1,
            modelValue: c.val,
            "onUpdate:modelValue": (d) => c.val = d,
            disabled: !!(c != null && c.disabled),
            onChange: o
          }, null, 8, ["modelValue", "onUpdate:modelValue", "disabled"])) : c.type === unref(EConfigItemPropsType).Input ? (openBlock(), createBlock(unref(ElInput$1), {
            key: 2,
            modelValue: c.val,
            "onUpdate:modelValue": (d) => c.val = d,
            disabled: !!(c != null && c.disabled),
            onChange: o
          }, null, 8, ["modelValue", "onUpdate:modelValue", "disabled"])) : c.type === unref(EConfigItemPropsType).Textarea ? (openBlock(), createBlock(unref(ElInput$1), {
            key: 3,
            modelValue: c.val,
            "onUpdate:modelValue": (d) => c.val = d,
            autosize: "",
            type: "textarea",
            disabled: !!(c != null && c.disabled),
            onChange: o
          }, null, 8, ["modelValue", "onUpdate:modelValue", "disabled"])) : c.type === unref(EConfigItemPropsType).Color ? (openBlock(), createBlock(unref(ElColorPicker), {
            key: 4,
            modelValue: c.val,
            "onUpdate:modelValue": (d) => c.val = d,
            disabled: !!(c != null && c.disabled),
            onChange: o
          }, null, 8, ["modelValue", "onUpdate:modelValue", "disabled"])) : c.type === unref(EConfigItemPropsType).Switch ? (openBlock(), createBlock(unref(ElSwitch), {
            key: 5,
            modelValue: c.val,
            "onUpdate:modelValue": (d) => c.val = d,
            disabled: !!(c != null && c.disabled),
            onChange: o
          }, null, 8, ["modelValue", "onUpdate:modelValue", "disabled"])) : c.type === unref(EConfigItemPropsType).JsonEdit ? (openBlock(), createBlock(_sfc_main$w, {
            key: 6,
            modelValue: c.val,
            "onUpdate:modelValue": (d) => c.val = d,
            disabled: !!(c != null && c.disabled),
            onClose: o
          }, null, 8, ["modelValue", "onUpdate:modelValue", "disabled"])) : createCommentVNode("", !0)
        ]),
        _: 2
      }, 1032, ["label"])) : createCommentVNode("", !0)
    ]))), 128));
  }
}), dynamicElFormItem_vue_vue_type_style_index_0_scoped_df8be28f_lang = "", dynamicElFormItem_vue_vue_type_style_index_1_lang = "", DynamicElFormItem = /* @__PURE__ */ _export_sfc$1(_sfc_main$v, [["__scopeId", "data-v-df8be28f"]]), _hoisted_1$a = { style: { height: "100%" } }, _hoisted_2$7 = { class: "flex flex-wrap" }, _hoisted_3$6 = ["onMouseenter", "onClick"], _sfc_main$u = /* @__PURE__ */ defineComponent({
  __name: "common-animate",
  props: {
    val: {}
  },
  emits: ["updateCommonAniVal"],
  setup(i, { emit: n }) {
    const r = i, o = ref(r.val), a = ref(!1), u = ref("进入"), c = ref(null), f = (d) => {
      n("updateCommonAniVal", d), a.value = !1;
    };
    return watch(
      () => r.val,
      (d) => {
        o.value = d;
      }
    ), (d, p) => (openBlock(), createElementBlock("div", _hoisted_1$a, [
      unref(o) ? (openBlock(), createBlock(unref(ElTag$1), {
        key: 0,
        closable: "",
        onClose: p[0] || (p[0] = (y) => f("")),
        onClick: p[1] || (p[1] = (y) => a.value = !0),
        style: { cursor: "pointer" }
      }, {
        default: withCtx(() => {
          var y;
          return [
            createTextVNode(toDisplayString((y = unref(common_animate_list).map((v) => v.children).reduce((v, g) => v.concat(g)).find((v) => v.value == unref(o))) == null ? void 0 : y.label) + " ", 1),
            createVNode$1(unref(ElIcon$1), { size: 10 }, {
              default: withCtx(() => [
                createVNode$1(_sfc_main$D, { name: "setting" })
              ]),
              _: 1
            })
          ];
        }),
        _: 1
      })) : (openBlock(), createBlock(unref(ElTag$1), {
        key: 1,
        type: "success",
        style: { cursor: "pointer" },
        onClick: p[2] || (p[2] = (y) => a.value = !0)
      }, {
        default: withCtx(() => [
          createTextVNode("新增")
        ]),
        _: 1
      })),
      createVNode$1(unref(ElDrawer), {
        modelValue: unref(a),
        "onUpdate:modelValue": p[5] || (p[5] = (y) => isRef(a) ? a.value = y : null),
        title: "选择动画",
        direction: "ltr"
      }, {
        default: withCtx(() => [
          createVNode$1(unref(ElTabs), {
            modelValue: unref(u),
            "onUpdate:modelValue": p[4] || (p[4] = (y) => isRef(u) ? u.value = y : null)
          }, {
            default: withCtx(() => [
              (openBlock(!0), createElementBlock(Fragment, null, renderList(unref(common_animate_list), (y) => (openBlock(), createBlock(unref(ElTabPane), {
                label: y.label,
                name: y.label,
                key: y.label
              }, {
                default: withCtx(() => [
                  createVNode$1(unref(ElScrollbar$1), { height: "500px" }, {
                    default: withCtx(() => [
                      createElementVNode("div", _hoisted_2$7, [
                        (openBlock(!0), createElementBlock(Fragment, null, renderList(y.children, (v, g) => (openBlock(), createElementBlock("div", {
                          class: "animate",
                          key: g,
                          onMouseenter: (_) => c.value = g,
                          onMouseleave: p[3] || (p[3] = (_) => c.value = null),
                          onClick: (_) => f(v.value)
                        }, [
                          createElementVNode("div", {
                            class: normalizeClass(`${unref(c) == g ? `animate__animated animate__${v.value} animate__slow animate__infinite` : ""}`)
                          }, toDisplayString(v.label), 3)
                        ], 40, _hoisted_3$6))), 128))
                      ])
                    ]),
                    _: 2
                  }, 1024)
                ]),
                _: 2
              }, 1032, ["label", "name"]))), 128))
            ]),
            _: 1
          }, 8, ["modelValue"])
        ]),
        _: 1
      }, 8, ["modelValue"])
    ]));
  }
}), commonAnimate_vue_vue_type_style_index_0_scoped_2668f60c_lang = "", CommonAnimate = /* @__PURE__ */ _export_sfc$1(_sfc_main$u, [["__scopeId", "data-v-2668f60c"]]), _sfc_main$t = /* @__PURE__ */ defineComponent({
  __name: "component-tree",
  setup(i) {
    const n = useGlobalStore(pinia), r = computed(() => {
      var u;
      return ((u = n.handle_svg_info) == null ? void 0 : u.info.id) ?? "";
    }), o = (u) => {
      for (let c of n.done_json)
        c.selected = !1, c.old_position = { x: 0, y: 0 };
      n.intention = EGlobalStoreIntention.Select, n.setHandleSvgInfo(u);
    }, a = {
      children: "children",
      label: "title"
    };
    return (u, c) => (openBlock(), createBlock(unref(ElTree), {
      class: "tree-v",
      data: unref(n).done_json,
      props: a,
      onNodeClick: o,
      "default-expand-all": !0,
      "expand-on-click-node": !1,
      "highlight-current": !!unref(r),
      "node-key": "id",
      "current-node-key": unref(r)
    }, null, 8, ["data", "highlight-current", "current-node-key"]));
  }
}), _withScopeId$1 = (i) => (pushScopeId("data-v-98320511"), i = i(), popScopeId(), i), _hoisted_1$9 = { class: "wall-l" }, _hoisted_2$6 = { class: "head-l" }, _hoisted_3$5 = /* @__PURE__ */ _withScopeId$1(() => /* @__PURE__ */ createElementVNode("span", null, "key", -1)), _hoisted_4$2 = /* @__PURE__ */ _withScopeId$1(() => /* @__PURE__ */ createElementVNode("span", null, "value", -1)), _hoisted_5$1 = { class: "row-l" }, _sfc_main$s = /* @__PURE__ */ defineComponent({
  __name: "list",
  props: {
    modelValue: { default: () => [
      {
        key: "",
        val: ""
      }
    ] }
  },
  emits: ["update:modelValue"],
  setup(i, { emit: n }) {
    const r = i, o = computed({
      get() {
        return r.modelValue;
      },
      set(c) {
        n("update:modelValue", c);
      }
    }), a = () => {
      o.value.push({
        key: "",
        val: ""
      });
    }, u = (c) => {
      o.value.splice(c, 1);
    };
    return (c, f) => (openBlock(), createElementBlock("div", _hoisted_1$9, [
      createElementVNode("div", _hoisted_2$6, [
        _hoisted_3$5,
        _hoisted_4$2,
        createVNode$1(unref(ElIcon$1), {
          size: 16,
          class: "bt-Icon",
          onClick: a
        }, {
          default: withCtx(() => [
            createVNode$1(_sfc_main$D, { name: "add" })
          ]),
          _: 1
        })
      ]),
      (openBlock(!0), createElementBlock(Fragment, null, renderList(unref(o), (d, p) => (openBlock(), createElementBlock("div", _hoisted_5$1, [
        createVNode$1(unref(ElInput$1), {
          class: "content-l",
          modelValue: d.key,
          "onUpdate:modelValue": (y) => d.key = y,
          size: "small",
          placeholder: "key"
        }, null, 8, ["modelValue", "onUpdate:modelValue"]),
        createVNode$1(unref(ElInput$1), {
          class: "content-l",
          modelValue: d.val,
          "onUpdate:modelValue": (y) => d.val = y,
          size: "small",
          placeholder: "value"
        }, null, 8, ["modelValue", "onUpdate:modelValue"]),
        createVNode$1(unref(ElIcon$1), {
          size: 16,
          class: "bt-Icon",
          onClick: (y) => u(p)
        }, {
          default: withCtx(() => [
            createVNode$1(_sfc_main$D, { name: "delete" })
          ]),
          _: 2
        }, 1032, ["onClick"])
      ]))), 256))
    ]));
  }
}), list_vue_vue_type_style_index_0_scoped_98320511_lang = "", List = /* @__PURE__ */ _export_sfc$1(_sfc_main$s, [["__scopeId", "data-v-98320511"]]), composeEventHandlers = (i, n, { checkForDefaultPrevented: r = !0 } = {}) => (a) => {
  const u = i == null ? void 0 : i(a);
  if (r === !1 || !u)
    return n == null ? void 0 : n(a);
};
var _a;
const isClient = typeof window < "u", isString$1 = (i) => typeof i == "string", noop = () => {
}, isIOS = isClient && ((_a = window == null ? void 0 : window.navigator) == null ? void 0 : _a.userAgent) && /iP(ad|hone|od)/.test(window.navigator.userAgent);
function resolveUnref(i) {
  return typeof i == "function" ? i() : unref(i);
}
function createFilterWrapper(i, n) {
  function r(...o) {
    return new Promise((a, u) => {
      Promise.resolve(i(() => n.apply(this, o), { fn: n, thisArg: this, args: o })).then(a).catch(u);
    });
  }
  return r;
}
function debounceFilter(i, n = {}) {
  let r, o, a = noop;
  const u = (f) => {
    clearTimeout(f), a(), a = noop;
  };
  return (f) => {
    const d = resolveUnref(i), p = resolveUnref(n.maxWait);
    return r && u(r), d <= 0 || p !== void 0 && p <= 0 ? (o && (u(o), o = null), Promise.resolve(f())) : new Promise((y, v) => {
      a = n.rejectOnCancel ? v : y, p && !o && (o = setTimeout(() => {
        r && u(r), o = null, y(f());
      }, p)), r = setTimeout(() => {
        o && u(o), o = null, y(f());
      }, d);
    });
  };
}
function identity(i) {
  return i;
}
function tryOnScopeDispose(i) {
  return getCurrentScope() ? (onScopeDispose(i), !0) : !1;
}
function useDebounceFn(i, n = 200, r = {}) {
  return createFilterWrapper(debounceFilter(n, r), i);
}
function refDebounced(i, n = 200, r = {}) {
  const o = ref(i.value), a = useDebounceFn(() => {
    o.value = i.value;
  }, n, r);
  return watch(i, () => a()), o;
}
function tryOnMounted(i, n = !0) {
  getCurrentInstance() ? onMounted(i) : n ? i() : nextTick(i);
}
function unrefElement(i) {
  var n;
  const r = resolveUnref(i);
  return (n = r == null ? void 0 : r.$el) != null ? n : r;
}
const defaultWindow = isClient ? window : void 0;
function useEventListener(...i) {
  let n, r, o, a;
  if (isString$1(i[0]) || Array.isArray(i[0]) ? ([r, o, a] = i, n = defaultWindow) : [n, r, o, a] = i, !n)
    return noop;
  Array.isArray(r) || (r = [r]), Array.isArray(o) || (o = [o]);
  const u = [], c = () => {
    u.forEach((y) => y()), u.length = 0;
  }, f = (y, v, g, _) => (y.addEventListener(v, g, _), () => y.removeEventListener(v, g, _)), d = watch(() => [unrefElement(n), resolveUnref(a)], ([y, v]) => {
    c(), y && u.push(...r.flatMap((g) => o.map((_) => f(y, g, _, v))));
  }, { immediate: !0, flush: "post" }), p = () => {
    d(), c();
  };
  return tryOnScopeDispose(p), p;
}
let _iOSWorkaround = !1;
function onClickOutside(i, n, r = {}) {
  const { window: o = defaultWindow, ignore: a = [], capture: u = !0, detectIframe: c = !1 } = r;
  if (!o)
    return;
  isIOS && !_iOSWorkaround && (_iOSWorkaround = !0, Array.from(o.document.body.children).forEach((g) => g.addEventListener("click", noop)));
  let f = !0;
  const d = (g) => a.some((_) => {
    if (typeof _ == "string")
      return Array.from(o.document.querySelectorAll(_)).some((b) => b === g.target || g.composedPath().includes(b));
    {
      const b = unrefElement(_);
      return b && (g.target === b || g.composedPath().includes(b));
    }
  }), y = [
    useEventListener(o, "click", (g) => {
      const _ = unrefElement(i);
      if (!(!_ || _ === g.target || g.composedPath().includes(_))) {
        if (g.detail === 0 && (f = !d(g)), !f) {
          f = !0;
          return;
        }
        n(g);
      }
    }, { passive: !0, capture: u }),
    useEventListener(o, "pointerdown", (g) => {
      const _ = unrefElement(i);
      _ && (f = !g.composedPath().includes(_) && !d(g));
    }, { passive: !0 }),
    c && useEventListener(o, "blur", (g) => {
      var _;
      const b = unrefElement(i);
      ((_ = o.document.activeElement) == null ? void 0 : _.tagName) === "IFRAME" && !(b != null && b.contains(o.document.activeElement)) && n(g);
    })
  ].filter(Boolean);
  return () => y.forEach((g) => g());
}
function useSupported(i, n = !1) {
  const r = ref(), o = () => r.value = !!i();
  return o(), tryOnMounted(o, n), r;
}
const _global = typeof globalThis < "u" ? globalThis : typeof window < "u" ? window : typeof global < "u" ? global : typeof self < "u" ? self : {}, globalKey = "__vueuse_ssr_handlers__";
_global[globalKey] = _global[globalKey] || {};
var __getOwnPropSymbols$g = Object.getOwnPropertySymbols, __hasOwnProp$g = Object.prototype.hasOwnProperty, __propIsEnum$g = Object.prototype.propertyIsEnumerable, __objRest$2 = (i, n) => {
  var r = {};
  for (var o in i)
    __hasOwnProp$g.call(i, o) && n.indexOf(o) < 0 && (r[o] = i[o]);
  if (i != null && __getOwnPropSymbols$g)
    for (var o of __getOwnPropSymbols$g(i))
      n.indexOf(o) < 0 && __propIsEnum$g.call(i, o) && (r[o] = i[o]);
  return r;
};
function useResizeObserver(i, n, r = {}) {
  const o = r, { window: a = defaultWindow } = o, u = __objRest$2(o, ["window"]);
  let c;
  const f = useSupported(() => a && "ResizeObserver" in a), d = () => {
    c && (c.disconnect(), c = void 0);
  }, p = watch(() => unrefElement(i), (v) => {
    d(), f.value && a && v && (c = new ResizeObserver(n), c.observe(v, u));
  }, { immediate: !0, flush: "post" }), y = () => {
    d(), p();
  };
  return tryOnScopeDispose(y), {
    isSupported: f,
    stop: y
  };
}
var SwipeDirection;
(function(i) {
  i.UP = "UP", i.RIGHT = "RIGHT", i.DOWN = "DOWN", i.LEFT = "LEFT", i.NONE = "NONE";
})(SwipeDirection || (SwipeDirection = {}));
var __defProp = Object.defineProperty, __getOwnPropSymbols = Object.getOwnPropertySymbols, __hasOwnProp = Object.prototype.hasOwnProperty, __propIsEnum = Object.prototype.propertyIsEnumerable, __defNormalProp = (i, n, r) => n in i ? __defProp(i, n, { enumerable: !0, configurable: !0, writable: !0, value: r }) : i[n] = r, __spreadValues = (i, n) => {
  for (var r in n || (n = {}))
    __hasOwnProp.call(n, r) && __defNormalProp(i, r, n[r]);
  if (__getOwnPropSymbols)
    for (var r of __getOwnPropSymbols(n))
      __propIsEnum.call(n, r) && __defNormalProp(i, r, n[r]);
  return i;
};
const _TransitionPresets = {
  easeInSine: [0.12, 0, 0.39, 0],
  easeOutSine: [0.61, 1, 0.88, 1],
  easeInOutSine: [0.37, 0, 0.63, 1],
  easeInQuad: [0.11, 0, 0.5, 0],
  easeOutQuad: [0.5, 1, 0.89, 1],
  easeInOutQuad: [0.45, 0, 0.55, 1],
  easeInCubic: [0.32, 0, 0.67, 0],
  easeOutCubic: [0.33, 1, 0.68, 1],
  easeInOutCubic: [0.65, 0, 0.35, 1],
  easeInQuart: [0.5, 0, 0.75, 0],
  easeOutQuart: [0.25, 1, 0.5, 1],
  easeInOutQuart: [0.76, 0, 0.24, 1],
  easeInQuint: [0.64, 0, 0.78, 0],
  easeOutQuint: [0.22, 1, 0.36, 1],
  easeInOutQuint: [0.83, 0, 0.17, 1],
  easeInExpo: [0.7, 0, 0.84, 0],
  easeOutExpo: [0.16, 1, 0.3, 1],
  easeInOutExpo: [0.87, 0, 0.13, 1],
  easeInCirc: [0.55, 0, 1, 0.45],
  easeOutCirc: [0, 0.55, 0.45, 1],
  easeInOutCirc: [0.85, 0, 0.15, 1],
  easeInBack: [0.36, 0, 0.66, -0.56],
  easeOutBack: [0.34, 1.56, 0.64, 1],
  easeInOutBack: [0.68, -0.6, 0.32, 1.6]
};
__spreadValues({
  linear: identity
}, _TransitionPresets);
const isFirefox = () => isClient && /firefox/i.test(window.navigator.userAgent);
process.env.NODE_ENV !== "production" && Object.freeze({});
process.env.NODE_ENV !== "production" && Object.freeze([]);
const NOOP = () => {
}, hasOwnProperty = Object.prototype.hasOwnProperty, hasOwn = (i, n) => hasOwnProperty.call(i, n), isArray = Array.isArray, isFunction = (i) => typeof i == "function", isString = (i) => typeof i == "string", isObject = (i) => i !== null && typeof i == "object", objectToString = Object.prototype.toString, toTypeString = (i) => objectToString.call(i), toRawType = (i) => toTypeString(i).slice(8, -1), isUndefined = (i) => i === void 0, isBoolean = (i) => typeof i == "boolean", isNumber = (i) => typeof i == "number", isElement = (i) => typeof Element > "u" ? !1 : i instanceof Element, isStringNumber = (i) => isString(i) ? !Number.isNaN(Number(i)) : !1, escapeStringRegexp = (i = "") => i.replace(/[|\\{}()[\]^$+*?.]/g, "\\$&").replace(/-/g, "\\x2d"), getProp = (i, n, r) => ({
  get value() {
    return get$1(i, n, r);
  },
  set value(o) {
    set$1(i, n, o);
  }
});
class ElementPlusError extends Error {
  constructor(n) {
    super(n), this.name = "ElementPlusError";
  }
}
function throwError(i, n) {
  throw new ElementPlusError(`[${i}] ${n}`);
}
function debugWarn(i, n) {
  if (process.env.NODE_ENV !== "production") {
    const r = isString(i) ? new ElementPlusError(`[${i}] ${n}`) : i;
    console.warn(r);
  }
}
const SCOPE$1 = "utils/dom/style";
function addUnit(i, n = "px") {
  if (!i)
    return "";
  if (isNumber(i) || isStringNumber(i))
    return `${i}${n}`;
  if (isString(i))
    return i;
  debugWarn(SCOPE$1, "binding value must be a string or number");
}
function scrollIntoView(i, n) {
  if (!isClient)
    return;
  if (!n) {
    i.scrollTop = 0;
    return;
  }
  const r = [];
  let o = n.offsetParent;
  for (; o !== null && i !== o && i.contains(o); )
    r.push(o), o = o.offsetParent;
  const a = n.offsetTop + r.reduce((d, p) => d + p.offsetTop, 0), u = a + n.offsetHeight, c = i.scrollTop, f = c + i.clientHeight;
  a < c ? i.scrollTop = a : u > f && (i.scrollTop = u - i.clientHeight);
}
const epPropKey = "__epPropKey", definePropType = (i) => i, isEpProp = (i) => isObject(i) && !!i[epPropKey], buildProp = (i, n) => {
  if (!isObject(i) || isEpProp(i))
    return i;
  const { values: r, required: o, default: a, type: u, validator: c } = i, d = {
    type: u,
    required: !!o,
    validator: r || c ? (p) => {
      let y = !1, v = [];
      if (r && (v = Array.from(r), hasOwn(i, "default") && v.push(a), y || (y = v.includes(p))), c && (y || (y = c(p))), !y && v.length > 0) {
        const g = [...new Set(v)].map((_) => JSON.stringify(_)).join(", ");
        warn$1(`Invalid prop: validation failed${n ? ` for prop "${n}"` : ""}. Expected one of [${g}], got value ${JSON.stringify(p)}.`);
      }
      return y;
    } : void 0,
    [epPropKey]: !0
  };
  return hasOwn(i, "default") && (d.default = a), d;
}, buildProps = (i) => fromPairs(Object.entries(i).map(([n, r]) => [
  n,
  buildProp(r, n)
])), iconPropType = definePropType([
  String,
  Object,
  Function
]), ValidateComponentsMap = {
  validating: loading_default,
  success: circle_check_default,
  error: circle_close_default
}, withInstall = (i, n) => {
  if (i.install = (r) => {
    for (const o of [i, ...Object.values(n ?? {})])
      r.component(o.name, o);
  }, n)
    for (const [r, o] of Object.entries(n))
      i[r] = o;
  return i;
}, withNoopInstall = (i) => (i.install = NOOP, i), EVENT_CODE = {
  tab: "Tab",
  enter: "Enter",
  space: "Space",
  left: "ArrowLeft",
  up: "ArrowUp",
  right: "ArrowRight",
  down: "ArrowDown",
  esc: "Escape",
  delete: "Delete",
  backspace: "Backspace",
  numpadEnter: "NumpadEnter",
  pageUp: "PageUp",
  pageDown: "PageDown",
  home: "Home",
  end: "End"
}, UPDATE_MODEL_EVENT = "update:modelValue", CHANGE_EVENT = "change", componentSizes = ["", "default", "small", "large"], componentSizeMap = {
  large: 40,
  default: 32,
  small: 24
}, getComponentSize = (i) => componentSizeMap[i || "default"], isValidComponentSize = (i) => ["", ...componentSizes].includes(i), isKorean = (i) => /([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(i), mutable = (i) => i, DEFAULT_EXCLUDE_KEYS = ["class", "style"], LISTENER_PREFIX = /^on[A-Z]/, useAttrs = (i = {}) => {
  const { excludeListeners: n = !1, excludeKeys: r } = i, o = computed(() => ((r == null ? void 0 : r.value) || []).concat(DEFAULT_EXCLUDE_KEYS)), a = getCurrentInstance();
  return a ? computed(() => {
    var u;
    return fromPairs(Object.entries((u = a.proxy) == null ? void 0 : u.$attrs).filter(([c]) => !o.value.includes(c) && !(n && LISTENER_PREFIX.test(c))));
  }) : (debugWarn("use-attrs", "getCurrentInstance() returned null. useAttrs() must be called at the top of a setup function"), computed(() => ({})));
}, useDeprecated = ({ from: i, replacement: n, scope: r, version: o, ref: a, type: u = "API" }, c) => {
  watch(() => unref(c), (f) => {
    f && debugWarn(r, `[${u}] ${i} is about to be deprecated in version ${o}, please use ${n} instead.
For more detail, please visit: ${a}
`);
  }, {
    immediate: !0
  });
}, useFocus = (i) => ({
  focus: () => {
    var n, r;
    (r = (n = i.value) == null ? void 0 : n.focus) == null || r.call(n);
  }
});
var English = {
  name: "en",
  el: {
    colorpicker: {
      confirm: "OK",
      clear: "Clear",
      defaultLabel: "color picker",
      description: "current color is {color}. press enter to select a new color."
    },
    datepicker: {
      now: "Now",
      today: "Today",
      cancel: "Cancel",
      clear: "Clear",
      confirm: "OK",
      dateTablePrompt: "Use the arrow keys and enter to select the day of the month",
      monthTablePrompt: "Use the arrow keys and enter to select the month",
      yearTablePrompt: "Use the arrow keys and enter to select the year",
      selectedDate: "Selected date",
      selectDate: "Select date",
      selectTime: "Select time",
      startDate: "Start Date",
      startTime: "Start Time",
      endDate: "End Date",
      endTime: "End Time",
      prevYear: "Previous Year",
      nextYear: "Next Year",
      prevMonth: "Previous Month",
      nextMonth: "Next Month",
      year: "",
      month1: "January",
      month2: "February",
      month3: "March",
      month4: "April",
      month5: "May",
      month6: "June",
      month7: "July",
      month8: "August",
      month9: "September",
      month10: "October",
      month11: "November",
      month12: "December",
      week: "week",
      weeks: {
        sun: "Sun",
        mon: "Mon",
        tue: "Tue",
        wed: "Wed",
        thu: "Thu",
        fri: "Fri",
        sat: "Sat"
      },
      weeksFull: {
        sun: "Sunday",
        mon: "Monday",
        tue: "Tuesday",
        wed: "Wednesday",
        thu: "Thursday",
        fri: "Friday",
        sat: "Saturday"
      },
      months: {
        jan: "Jan",
        feb: "Feb",
        mar: "Mar",
        apr: "Apr",
        may: "May",
        jun: "Jun",
        jul: "Jul",
        aug: "Aug",
        sep: "Sep",
        oct: "Oct",
        nov: "Nov",
        dec: "Dec"
      }
    },
    inputNumber: {
      decrease: "decrease number",
      increase: "increase number"
    },
    select: {
      loading: "Loading",
      noMatch: "No matching data",
      noData: "No data",
      placeholder: "Select"
    },
    dropdown: {
      toggleDropdown: "Toggle Dropdown"
    },
    cascader: {
      noMatch: "No matching data",
      loading: "Loading",
      placeholder: "Select",
      noData: "No data"
    },
    pagination: {
      goto: "Go to",
      pagesize: "/page",
      total: "Total {total}",
      pageClassifier: "",
      page: "Page",
      prev: "Go to previous page",
      next: "Go to next page",
      currentPage: "page {pager}",
      prevPages: "Previous {pager} pages",
      nextPages: "Next {pager} pages",
      deprecationWarning: "Deprecated usages detected, please refer to the el-pagination documentation for more details"
    },
    dialog: {
      close: "Close this dialog"
    },
    drawer: {
      close: "Close this dialog"
    },
    messagebox: {
      title: "Message",
      confirm: "OK",
      cancel: "Cancel",
      error: "Illegal input",
      close: "Close this dialog"
    },
    upload: {
      deleteTip: "press delete to remove",
      delete: "Delete",
      preview: "Preview",
      continue: "Continue"
    },
    slider: {
      defaultLabel: "slider between {min} and {max}",
      defaultRangeStartLabel: "pick start value",
      defaultRangeEndLabel: "pick end value"
    },
    table: {
      emptyText: "No Data",
      confirmFilter: "Confirm",
      resetFilter: "Reset",
      clearFilter: "All",
      sumText: "Sum"
    },
    tree: {
      emptyText: "No Data"
    },
    transfer: {
      noMatch: "No matching data",
      noData: "No data",
      titles: ["List 1", "List 2"],
      filterPlaceholder: "Enter keyword",
      noCheckedFormat: "{total} items",
      hasCheckedFormat: "{checked}/{total} checked"
    },
    image: {
      error: "FAILED"
    },
    pageHeader: {
      title: "Back"
    },
    popconfirm: {
      confirmButtonText: "Yes",
      cancelButtonText: "No"
    }
  }
};
const buildTranslator = (i) => (n, r) => translate(n, r, unref(i)), translate = (i, n, r) => get$1(r, i, i).replace(/\{(\w+)\}/g, (o, a) => {
  var u;
  return `${(u = n == null ? void 0 : n[a]) != null ? u : `{${a}}`}`;
}), buildLocaleContext = (i) => {
  const n = computed(() => unref(i).name), r = isRef(i) ? i : ref(i);
  return {
    lang: n,
    locale: r,
    t: buildTranslator(i)
  };
}, localeContextKey = Symbol("localeContextKey"), useLocale = (i) => {
  const n = i || inject(localeContextKey, ref());
  return buildLocaleContext(computed(() => n.value || English));
}, defaultNamespace = "el", statePrefix = "is-", _bem = (i, n, r, o, a) => {
  let u = `${i}-${n}`;
  return r && (u += `-${r}`), o && (u += `__${o}`), a && (u += `--${a}`), u;
}, namespaceContextKey = Symbol("namespaceContextKey"), useGetDerivedNamespace = (i) => {
  const n = i || inject(namespaceContextKey, ref(defaultNamespace));
  return computed(() => unref(n) || defaultNamespace);
}, useNamespace = (i, n) => {
  const r = useGetDerivedNamespace(n);
  return {
    namespace: r,
    b: (A = "") => _bem(r.value, i, A, "", ""),
    e: (A) => A ? _bem(r.value, i, "", A, "") : "",
    m: (A) => A ? _bem(r.value, i, "", "", A) : "",
    be: (A, w) => A && w ? _bem(r.value, i, A, w, "") : "",
    em: (A, w) => A && w ? _bem(r.value, i, "", A, w) : "",
    bm: (A, w) => A && w ? _bem(r.value, i, A, "", w) : "",
    bem: (A, w, S) => A && w && S ? _bem(r.value, i, A, w, S) : "",
    is: (A, ...w) => {
      const S = w.length >= 1 ? w[0] : !0;
      return A && S ? `${statePrefix}${A}` : "";
    },
    cssVar: (A) => {
      const w = {};
      for (const S in A)
        A[S] && (w[`--${r.value}-${S}`] = A[S]);
      return w;
    },
    cssVarName: (A) => `--${r.value}-${A}`,
    cssVarBlock: (A) => {
      const w = {};
      for (const S in A)
        A[S] && (w[`--${r.value}-${i}-${S}`] = A[S]);
      return w;
    },
    cssVarBlockName: (A) => `--${r.value}-${i}-${A}`
  };
}, _prop = buildProp({
  type: definePropType(Boolean),
  default: null
}), _event = buildProp({
  type: definePropType(Function)
}), createModelToggleComposable = (i) => {
  const n = `update:${i}`, r = `onUpdate:${i}`, o = [n], a = {
    [i]: _prop,
    [r]: _event
  };
  return {
    useModelToggle: ({
      indicator: c,
      toggleReason: f,
      shouldHideWhenRouteChanges: d,
      shouldProceed: p,
      onShow: y,
      onHide: v
    }) => {
      const g = getCurrentInstance(), { emit: _ } = g, b = g.props, A = computed(() => isFunction(b[r])), w = computed(() => b[i] === null), S = (O) => {
        c.value !== !0 && (c.value = !0, f && (f.value = O), isFunction(y) && y(O));
      }, T = (O) => {
        c.value !== !1 && (c.value = !1, f && (f.value = O), isFunction(v) && v(O));
      }, x = (O) => {
        if (b.disabled === !0 || isFunction(p) && !p())
          return;
        const ie = A.value && isClient;
        ie && _(n, !0), (w.value || !ie) && S(O);
      }, L = (O) => {
        if (b.disabled === !0 || !isClient)
          return;
        const ie = A.value && isClient;
        ie && _(n, !1), (w.value || !ie) && T(O);
      }, k = (O) => {
        isBoolean(O) && (b.disabled && O ? A.value && _(n, !1) : c.value !== O && (O ? S() : T()));
      }, M = () => {
        c.value ? L() : x();
      };
      return watch(() => b[i], k), d && g.appContext.config.globalProperties.$route !== void 0 && watch(() => ({
        ...g.proxy.$route
      }), () => {
        d.value && c.value && L();
      }), onMounted(() => {
        k(b[i]);
      }), {
        hide: L,
        show: x,
        toggle: M,
        hasUpdateHandler: A
      };
    },
    useModelToggleProps: a,
    useModelToggleEmits: o
  };
};
createModelToggleComposable("modelValue");
const useProp = (i) => {
  const n = getCurrentInstance();
  return computed(() => {
    var r, o;
    return (o = (r = n == null ? void 0 : n.proxy) == null ? void 0 : r.$props) == null ? void 0 : o[i];
  });
};
var E = "top", R = "bottom", W = "right", P = "left", me = "auto", G = [E, R, W, P], U = "start", J = "end", Xe = "clippingParents", je = "viewport", K = "popper", Ye = "reference", De = G.reduce(function(i, n) {
  return i.concat([n + "-" + U, n + "-" + J]);
}, []), Ee = [].concat(G, [me]).reduce(function(i, n) {
  return i.concat([n, n + "-" + U, n + "-" + J]);
}, []), Ge = "beforeRead", Je = "read", Ke = "afterRead", Qe = "beforeMain", Ze = "main", et = "afterMain", tt = "beforeWrite", nt = "write", rt = "afterWrite", ot = [Ge, Je, Ke, Qe, Ze, et, tt, nt, rt];
function C(i) {
  return i ? (i.nodeName || "").toLowerCase() : null;
}
function H(i) {
  if (i == null)
    return window;
  if (i.toString() !== "[object Window]") {
    var n = i.ownerDocument;
    return n && n.defaultView || window;
  }
  return i;
}
function Q(i) {
  var n = H(i).Element;
  return i instanceof n || i instanceof Element;
}
function B(i) {
  var n = H(i).HTMLElement;
  return i instanceof n || i instanceof HTMLElement;
}
function Pe(i) {
  if (typeof ShadowRoot > "u")
    return !1;
  var n = H(i).ShadowRoot;
  return i instanceof n || i instanceof ShadowRoot;
}
function Mt(i) {
  var n = i.state;
  Object.keys(n.elements).forEach(function(r) {
    var o = n.styles[r] || {}, a = n.attributes[r] || {}, u = n.elements[r];
    !B(u) || !C(u) || (Object.assign(u.style, o), Object.keys(a).forEach(function(c) {
      var f = a[c];
      f === !1 ? u.removeAttribute(c) : u.setAttribute(c, f === !0 ? "" : f);
    }));
  });
}
function Rt(i) {
  var n = i.state, r = { popper: { position: n.options.strategy, left: "0", top: "0", margin: "0" }, arrow: { position: "absolute" }, reference: {} };
  return Object.assign(n.elements.popper.style, r.popper), n.styles = r, n.elements.arrow && Object.assign(n.elements.arrow.style, r.arrow), function() {
    Object.keys(n.elements).forEach(function(o) {
      var a = n.elements[o], u = n.attributes[o] || {}, c = Object.keys(n.styles.hasOwnProperty(o) ? n.styles[o] : r[o]), f = c.reduce(function(d, p) {
        return d[p] = "", d;
      }, {});
      !B(a) || !C(a) || (Object.assign(a.style, f), Object.keys(u).forEach(function(d) {
        a.removeAttribute(d);
      }));
    });
  };
}
var Ae = { name: "applyStyles", enabled: !0, phase: "write", fn: Mt, effect: Rt, requires: ["computeStyles"] };
function q(i) {
  return i.split("-")[0];
}
var X = Math.max, ve = Math.min, Z = Math.round;
function ee(i, n) {
  n === void 0 && (n = !1);
  var r = i.getBoundingClientRect(), o = 1, a = 1;
  if (B(i) && n) {
    var u = i.offsetHeight, c = i.offsetWidth;
    c > 0 && (o = Z(r.width) / c || 1), u > 0 && (a = Z(r.height) / u || 1);
  }
  return { width: r.width / o, height: r.height / a, top: r.top / a, right: r.right / o, bottom: r.bottom / a, left: r.left / o, x: r.left / o, y: r.top / a };
}
function ke(i) {
  var n = ee(i), r = i.offsetWidth, o = i.offsetHeight;
  return Math.abs(n.width - r) <= 1 && (r = n.width), Math.abs(n.height - o) <= 1 && (o = n.height), { x: i.offsetLeft, y: i.offsetTop, width: r, height: o };
}
function it(i, n) {
  var r = n.getRootNode && n.getRootNode();
  if (i.contains(n))
    return !0;
  if (r && Pe(r)) {
    var o = n;
    do {
      if (o && i.isSameNode(o))
        return !0;
      o = o.parentNode || o.host;
    } while (o);
  }
  return !1;
}
function N(i) {
  return H(i).getComputedStyle(i);
}
function Wt(i) {
  return ["table", "td", "th"].indexOf(C(i)) >= 0;
}
function I(i) {
  return ((Q(i) ? i.ownerDocument : i.document) || window.document).documentElement;
}
function ge(i) {
  return C(i) === "html" ? i : i.assignedSlot || i.parentNode || (Pe(i) ? i.host : null) || I(i);
}
function at(i) {
  return !B(i) || N(i).position === "fixed" ? null : i.offsetParent;
}
function Bt(i) {
  var n = navigator.userAgent.toLowerCase().indexOf("firefox") !== -1, r = navigator.userAgent.indexOf("Trident") !== -1;
  if (r && B(i)) {
    var o = N(i);
    if (o.position === "fixed")
      return null;
  }
  var a = ge(i);
  for (Pe(a) && (a = a.host); B(a) && ["html", "body"].indexOf(C(a)) < 0; ) {
    var u = N(a);
    if (u.transform !== "none" || u.perspective !== "none" || u.contain === "paint" || ["transform", "perspective"].indexOf(u.willChange) !== -1 || n && u.willChange === "filter" || n && u.filter && u.filter !== "none")
      return a;
    a = a.parentNode;
  }
  return null;
}
function se(i) {
  for (var n = H(i), r = at(i); r && Wt(r) && N(r).position === "static"; )
    r = at(r);
  return r && (C(r) === "html" || C(r) === "body" && N(r).position === "static") ? n : r || Bt(i) || n;
}
function Le(i) {
  return ["top", "bottom"].indexOf(i) >= 0 ? "x" : "y";
}
function fe(i, n, r) {
  return X(i, ve(n, r));
}
function St(i, n, r) {
  var o = fe(i, n, r);
  return o > r ? r : o;
}
function st() {
  return { top: 0, right: 0, bottom: 0, left: 0 };
}
function ft(i) {
  return Object.assign({}, st(), i);
}
function ct(i, n) {
  return n.reduce(function(r, o) {
    return r[o] = i, r;
  }, {});
}
var Tt = function(i, n) {
  return i = typeof i == "function" ? i(Object.assign({}, n.rects, { placement: n.placement })) : i, ft(typeof i != "number" ? i : ct(i, G));
};
function Ht(i) {
  var n, r = i.state, o = i.name, a = i.options, u = r.elements.arrow, c = r.modifiersData.popperOffsets, f = q(r.placement), d = Le(f), p = [P, W].indexOf(f) >= 0, y = p ? "height" : "width";
  if (!(!u || !c)) {
    var v = Tt(a.padding, r), g = ke(u), _ = d === "y" ? E : P, b = d === "y" ? R : W, A = r.rects.reference[y] + r.rects.reference[d] - c[d] - r.rects.popper[y], w = c[d] - r.rects.reference[d], S = se(u), T = S ? d === "y" ? S.clientHeight || 0 : S.clientWidth || 0 : 0, x = A / 2 - w / 2, L = v[_], k = T - g[y] - v[b], M = T / 2 - g[y] / 2 + x, O = fe(L, M, k), ie = d;
    r.modifiersData[o] = (n = {}, n[ie] = O, n.centerOffset = O - M, n);
  }
}
function Ct(i) {
  var n = i.state, r = i.options, o = r.element, a = o === void 0 ? "[data-popper-arrow]" : o;
  a != null && (typeof a == "string" && (a = n.elements.popper.querySelector(a), !a) || !it(n.elements.popper, a) || (n.elements.arrow = a));
}
var pt = { name: "arrow", enabled: !0, phase: "main", fn: Ht, effect: Ct, requires: ["popperOffsets"], requiresIfExists: ["preventOverflow"] };
function te(i) {
  return i.split("-")[1];
}
var qt = { top: "auto", right: "auto", bottom: "auto", left: "auto" };
function Vt(i) {
  var n = i.x, r = i.y, o = window, a = o.devicePixelRatio || 1;
  return { x: Z(n * a) / a || 0, y: Z(r * a) / a || 0 };
}
function ut(i) {
  var n, r = i.popper, o = i.popperRect, a = i.placement, u = i.variation, c = i.offsets, f = i.position, d = i.gpuAcceleration, p = i.adaptive, y = i.roundOffsets, v = i.isFixed, g = c.x, _ = g === void 0 ? 0 : g, b = c.y, A = b === void 0 ? 0 : b, w = typeof y == "function" ? y({ x: _, y: A }) : { x: _, y: A };
  _ = w.x, A = w.y;
  var S = c.hasOwnProperty("x"), T = c.hasOwnProperty("y"), x = P, L = E, k = window;
  if (p) {
    var M = se(r), O = "clientHeight", ie = "clientWidth";
    if (M === H(r) && (M = I(r), N(M).position !== "static" && f === "absolute" && (O = "scrollHeight", ie = "scrollWidth")), M = M, a === E || (a === P || a === W) && u === J) {
      L = R;
      var F = v && M === k && k.visualViewport ? k.visualViewport.height : M[O];
      A -= F - o.height, A *= d ? 1 : -1;
    }
    if (a === P || (a === E || a === R) && u === J) {
      x = W;
      var j = v && M === k && k.visualViewport ? k.visualViewport.width : M[ie];
      _ -= j - o.width, _ *= d ? 1 : -1;
    }
  }
  var D = Object.assign({ position: f }, p && qt), Y = y === !0 ? Vt({ x: _, y: A }) : { x: _, y: A };
  if (_ = Y.x, A = Y.y, d) {
    var z;
    return Object.assign({}, D, (z = {}, z[L] = T ? "0" : "", z[x] = S ? "0" : "", z.transform = (k.devicePixelRatio || 1) <= 1 ? "translate(" + _ + "px, " + A + "px)" : "translate3d(" + _ + "px, " + A + "px, 0)", z));
  }
  return Object.assign({}, D, (n = {}, n[L] = T ? A + "px" : "", n[x] = S ? _ + "px" : "", n.transform = "", n));
}
function Nt(i) {
  var n = i.state, r = i.options, o = r.gpuAcceleration, a = o === void 0 ? !0 : o, u = r.adaptive, c = u === void 0 ? !0 : u, f = r.roundOffsets, d = f === void 0 ? !0 : f, p = { placement: q(n.placement), variation: te(n.placement), popper: n.elements.popper, popperRect: n.rects.popper, gpuAcceleration: a, isFixed: n.options.strategy === "fixed" };
  n.modifiersData.popperOffsets != null && (n.styles.popper = Object.assign({}, n.styles.popper, ut(Object.assign({}, p, { offsets: n.modifiersData.popperOffsets, position: n.options.strategy, adaptive: c, roundOffsets: d })))), n.modifiersData.arrow != null && (n.styles.arrow = Object.assign({}, n.styles.arrow, ut(Object.assign({}, p, { offsets: n.modifiersData.arrow, position: "absolute", adaptive: !1, roundOffsets: d })))), n.attributes.popper = Object.assign({}, n.attributes.popper, { "data-popper-placement": n.placement });
}
var Me = { name: "computeStyles", enabled: !0, phase: "beforeWrite", fn: Nt, data: {} }, ye = { passive: !0 };
function It(i) {
  var n = i.state, r = i.instance, o = i.options, a = o.scroll, u = a === void 0 ? !0 : a, c = o.resize, f = c === void 0 ? !0 : c, d = H(n.elements.popper), p = [].concat(n.scrollParents.reference, n.scrollParents.popper);
  return u && p.forEach(function(y) {
    y.addEventListener("scroll", r.update, ye);
  }), f && d.addEventListener("resize", r.update, ye), function() {
    u && p.forEach(function(y) {
      y.removeEventListener("scroll", r.update, ye);
    }), f && d.removeEventListener("resize", r.update, ye);
  };
}
var Re = { name: "eventListeners", enabled: !0, phase: "write", fn: function() {
}, effect: It, data: {} }, _t = { left: "right", right: "left", bottom: "top", top: "bottom" };
function be(i) {
  return i.replace(/left|right|bottom|top/g, function(n) {
    return _t[n];
  });
}
var zt = { start: "end", end: "start" };
function lt(i) {
  return i.replace(/start|end/g, function(n) {
    return zt[n];
  });
}
function We(i) {
  var n = H(i), r = n.pageXOffset, o = n.pageYOffset;
  return { scrollLeft: r, scrollTop: o };
}
function Be(i) {
  return ee(I(i)).left + We(i).scrollLeft;
}
function Ft(i) {
  var n = H(i), r = I(i), o = n.visualViewport, a = r.clientWidth, u = r.clientHeight, c = 0, f = 0;
  return o && (a = o.width, u = o.height, /^((?!chrome|android).)*safari/i.test(navigator.userAgent) || (c = o.offsetLeft, f = o.offsetTop)), { width: a, height: u, x: c + Be(i), y: f };
}
function Ut(i) {
  var n, r = I(i), o = We(i), a = (n = i.ownerDocument) == null ? void 0 : n.body, u = X(r.scrollWidth, r.clientWidth, a ? a.scrollWidth : 0, a ? a.clientWidth : 0), c = X(r.scrollHeight, r.clientHeight, a ? a.scrollHeight : 0, a ? a.clientHeight : 0), f = -o.scrollLeft + Be(i), d = -o.scrollTop;
  return N(a || r).direction === "rtl" && (f += X(r.clientWidth, a ? a.clientWidth : 0) - u), { width: u, height: c, x: f, y: d };
}
function Se(i) {
  var n = N(i), r = n.overflow, o = n.overflowX, a = n.overflowY;
  return /auto|scroll|overlay|hidden/.test(r + a + o);
}
function dt(i) {
  return ["html", "body", "#document"].indexOf(C(i)) >= 0 ? i.ownerDocument.body : B(i) && Se(i) ? i : dt(ge(i));
}
function ce(i, n) {
  var r;
  n === void 0 && (n = []);
  var o = dt(i), a = o === ((r = i.ownerDocument) == null ? void 0 : r.body), u = H(o), c = a ? [u].concat(u.visualViewport || [], Se(o) ? o : []) : o, f = n.concat(c);
  return a ? f : f.concat(ce(ge(c)));
}
function Te(i) {
  return Object.assign({}, i, { left: i.x, top: i.y, right: i.x + i.width, bottom: i.y + i.height });
}
function Xt(i) {
  var n = ee(i);
  return n.top = n.top + i.clientTop, n.left = n.left + i.clientLeft, n.bottom = n.top + i.clientHeight, n.right = n.left + i.clientWidth, n.width = i.clientWidth, n.height = i.clientHeight, n.x = n.left, n.y = n.top, n;
}
function ht(i, n) {
  return n === je ? Te(Ft(i)) : Q(n) ? Xt(n) : Te(Ut(I(i)));
}
function Yt(i) {
  var n = ce(ge(i)), r = ["absolute", "fixed"].indexOf(N(i).position) >= 0, o = r && B(i) ? se(i) : i;
  return Q(o) ? n.filter(function(a) {
    return Q(a) && it(a, o) && C(a) !== "body";
  }) : [];
}
function Gt(i, n, r) {
  var o = n === "clippingParents" ? Yt(i) : [].concat(n), a = [].concat(o, [r]), u = a[0], c = a.reduce(function(f, d) {
    var p = ht(i, d);
    return f.top = X(p.top, f.top), f.right = ve(p.right, f.right), f.bottom = ve(p.bottom, f.bottom), f.left = X(p.left, f.left), f;
  }, ht(i, u));
  return c.width = c.right - c.left, c.height = c.bottom - c.top, c.x = c.left, c.y = c.top, c;
}
function mt(i) {
  var n = i.reference, r = i.element, o = i.placement, a = o ? q(o) : null, u = o ? te(o) : null, c = n.x + n.width / 2 - r.width / 2, f = n.y + n.height / 2 - r.height / 2, d;
  switch (a) {
    case E:
      d = { x: c, y: n.y - r.height };
      break;
    case R:
      d = { x: c, y: n.y + n.height };
      break;
    case W:
      d = { x: n.x + n.width, y: f };
      break;
    case P:
      d = { x: n.x - r.width, y: f };
      break;
    default:
      d = { x: n.x, y: n.y };
  }
  var p = a ? Le(a) : null;
  if (p != null) {
    var y = p === "y" ? "height" : "width";
    switch (u) {
      case U:
        d[p] = d[p] - (n[y] / 2 - r[y] / 2);
        break;
      case J:
        d[p] = d[p] + (n[y] / 2 - r[y] / 2);
        break;
    }
  }
  return d;
}
function ne(i, n) {
  n === void 0 && (n = {});
  var r = n, o = r.placement, a = o === void 0 ? i.placement : o, u = r.boundary, c = u === void 0 ? Xe : u, f = r.rootBoundary, d = f === void 0 ? je : f, p = r.elementContext, y = p === void 0 ? K : p, v = r.altBoundary, g = v === void 0 ? !1 : v, _ = r.padding, b = _ === void 0 ? 0 : _, A = ft(typeof b != "number" ? b : ct(b, G)), w = y === K ? Ye : K, S = i.rects.popper, T = i.elements[g ? w : y], x = Gt(Q(T) ? T : T.contextElement || I(i.elements.popper), c, d), L = ee(i.elements.reference), k = mt({ reference: L, element: S, strategy: "absolute", placement: a }), M = Te(Object.assign({}, S, k)), O = y === K ? M : L, ie = { top: x.top - O.top + A.top, bottom: O.bottom - x.bottom + A.bottom, left: x.left - O.left + A.left, right: O.right - x.right + A.right }, F = i.modifiersData.offset;
  if (y === K && F) {
    var j = F[a];
    Object.keys(ie).forEach(function(D) {
      var Y = [W, R].indexOf(D) >= 0 ? 1 : -1, z = [E, R].indexOf(D) >= 0 ? "y" : "x";
      ie[D] += j[z] * Y;
    });
  }
  return ie;
}
function Jt(i, n) {
  n === void 0 && (n = {});
  var r = n, o = r.placement, a = r.boundary, u = r.rootBoundary, c = r.padding, f = r.flipVariations, d = r.allowedAutoPlacements, p = d === void 0 ? Ee : d, y = te(o), v = y ? f ? De : De.filter(function(b) {
    return te(b) === y;
  }) : G, g = v.filter(function(b) {
    return p.indexOf(b) >= 0;
  });
  g.length === 0 && (g = v);
  var _ = g.reduce(function(b, A) {
    return b[A] = ne(i, { placement: A, boundary: a, rootBoundary: u, padding: c })[q(A)], b;
  }, {});
  return Object.keys(_).sort(function(b, A) {
    return _[b] - _[A];
  });
}
function Kt(i) {
  if (q(i) === me)
    return [];
  var n = be(i);
  return [lt(i), n, lt(n)];
}
function Qt(i) {
  var n = i.state, r = i.options, o = i.name;
  if (!n.modifiersData[o]._skip) {
    for (var a = r.mainAxis, u = a === void 0 ? !0 : a, c = r.altAxis, f = c === void 0 ? !0 : c, d = r.fallbackPlacements, p = r.padding, y = r.boundary, v = r.rootBoundary, g = r.altBoundary, _ = r.flipVariations, b = _ === void 0 ? !0 : _, A = r.allowedAutoPlacements, w = n.options.placement, S = q(w), T = S === w, x = d || (T || !b ? [be(w)] : Kt(w)), L = [w].concat(x).reduce(function(Dt, he) {
      return Dt.concat(q(he) === me ? Jt(n, { placement: he, boundary: y, rootBoundary: v, padding: p, flipVariations: b, allowedAutoPlacements: A }) : he);
    }, []), k = n.rects.reference, M = n.rects.popper, O = /* @__PURE__ */ new Map(), ie = !0, F = L[0], j = 0; j < L.length; j++) {
      var D = L[j], Y = q(D), z = te(D) === U, Ie = [E, R].indexOf(Y) >= 0, ue = Ie ? "width" : "height", Ce = ne(n, { placement: D, boundary: y, rootBoundary: v, altBoundary: g, padding: p }), pe = Ie ? z ? W : P : z ? R : E;
      k[ue] > M[ue] && (pe = be(pe));
      var Ne = be(pe), xe = [];
      if (u && xe.push(Ce[Y] <= 0), f && xe.push(Ce[pe] <= 0, Ce[Ne] <= 0), xe.every(function(Dt) {
        return Dt;
      })) {
        F = D, ie = !1;
        break;
      }
      O.set(D, xe);
    }
    if (ie)
      for (var hn = b ? 3 : 1, Pt = function(Dt) {
        var he = L.find(function(At) {
          var Lt = O.get(At);
          if (Lt)
            return Lt.slice(0, Dt).every(function(Cn) {
              return Cn;
            });
        });
        if (he)
          return F = he, "break";
      }, _n = hn; _n > 0; _n--) {
        var In = Pt(_n);
        if (In === "break")
          break;
      }
    n.placement !== F && (n.modifiersData[o]._skip = !0, n.placement = F, n.reset = !0);
  }
}
var vt = { name: "flip", enabled: !0, phase: "main", fn: Qt, requiresIfExists: ["offset"], data: { _skip: !1 } };
function gt(i, n, r) {
  return r === void 0 && (r = { x: 0, y: 0 }), { top: i.top - n.height - r.y, right: i.right - n.width + r.x, bottom: i.bottom - n.height + r.y, left: i.left - n.width - r.x };
}
function yt(i) {
  return [E, W, R, P].some(function(n) {
    return i[n] >= 0;
  });
}
function Zt(i) {
  var n = i.state, r = i.name, o = n.rects.reference, a = n.rects.popper, u = n.modifiersData.preventOverflow, c = ne(n, { elementContext: "reference" }), f = ne(n, { altBoundary: !0 }), d = gt(c, o), p = gt(f, a, u), y = yt(d), v = yt(p);
  n.modifiersData[r] = { referenceClippingOffsets: d, popperEscapeOffsets: p, isReferenceHidden: y, hasPopperEscaped: v }, n.attributes.popper = Object.assign({}, n.attributes.popper, { "data-popper-reference-hidden": y, "data-popper-escaped": v });
}
var bt = { name: "hide", enabled: !0, phase: "main", requiresIfExists: ["preventOverflow"], fn: Zt };
function en(i, n, r) {
  var o = q(i), a = [P, E].indexOf(o) >= 0 ? -1 : 1, u = typeof r == "function" ? r(Object.assign({}, n, { placement: i })) : r, c = u[0], f = u[1];
  return c = c || 0, f = (f || 0) * a, [P, W].indexOf(o) >= 0 ? { x: f, y: c } : { x: c, y: f };
}
function tn(i) {
  var n = i.state, r = i.options, o = i.name, a = r.offset, u = a === void 0 ? [0, 0] : a, c = Ee.reduce(function(y, v) {
    return y[v] = en(v, n.rects, u), y;
  }, {}), f = c[n.placement], d = f.x, p = f.y;
  n.modifiersData.popperOffsets != null && (n.modifiersData.popperOffsets.x += d, n.modifiersData.popperOffsets.y += p), n.modifiersData[o] = c;
}
var wt = { name: "offset", enabled: !0, phase: "main", requires: ["popperOffsets"], fn: tn };
function nn(i) {
  var n = i.state, r = i.name;
  n.modifiersData[r] = mt({ reference: n.rects.reference, element: n.rects.popper, strategy: "absolute", placement: n.placement });
}
var He = { name: "popperOffsets", enabled: !0, phase: "read", fn: nn, data: {} };
function rn(i) {
  return i === "x" ? "y" : "x";
}
function on(i) {
  var n = i.state, r = i.options, o = i.name, a = r.mainAxis, u = a === void 0 ? !0 : a, c = r.altAxis, f = c === void 0 ? !1 : c, d = r.boundary, p = r.rootBoundary, y = r.altBoundary, v = r.padding, g = r.tether, _ = g === void 0 ? !0 : g, b = r.tetherOffset, A = b === void 0 ? 0 : b, w = ne(n, { boundary: d, rootBoundary: p, padding: v, altBoundary: y }), S = q(n.placement), T = te(n.placement), x = !T, L = Le(S), k = rn(L), M = n.modifiersData.popperOffsets, O = n.rects.reference, ie = n.rects.popper, F = typeof A == "function" ? A(Object.assign({}, n.rects, { placement: n.placement })) : A, j = typeof F == "number" ? { mainAxis: F, altAxis: F } : Object.assign({ mainAxis: 0, altAxis: 0 }, F), D = n.modifiersData.offset ? n.modifiersData.offset[n.placement] : null, Y = { x: 0, y: 0 };
  if (M) {
    if (u) {
      var z, Ie = L === "y" ? E : P, ue = L === "y" ? R : W, Ce = L === "y" ? "height" : "width", pe = M[L], Ne = pe + w[Ie], xe = pe - w[ue], hn = _ ? -ie[Ce] / 2 : 0, Pt = T === U ? O[Ce] : ie[Ce], _n = T === U ? -ie[Ce] : -O[Ce], In = n.elements.arrow, Dt = _ && In ? ke(In) : { width: 0, height: 0 }, he = n.modifiersData["arrow#persistent"] ? n.modifiersData["arrow#persistent"].padding : st(), At = he[Ie], Lt = he[ue], Cn = fe(0, O[Ce], Dt[Ce]), ze = x ? O[Ce] / 2 - hn - Cn - At - j.mainAxis : Pt - Cn - At - j.mainAxis, _e = x ? -O[Ce] / 2 + hn + Cn + Lt + j.mainAxis : _n + Cn + Lt + j.mainAxis, de = n.elements.arrow && se(n.elements.arrow), Et = de ? L === "y" ? de.clientTop || 0 : de.clientLeft || 0 : 0, Ve = (z = D == null ? void 0 : D[L]) != null ? z : 0, $e = pe + ze - Ve - Et, kt = pe + _e - Ve, jt = fe(_ ? ve(Ne, $e) : Ne, pe, _ ? X(xe, kt) : xe);
      M[L] = jt, Y[L] = jt - pe;
    }
    if (f) {
      var bn, oe = L === "x" ? E : P, ae = L === "x" ? R : W, re = M[k], V = k === "y" ? "height" : "width", $ = re + w[oe], le = re - w[ae], Oe = [E, P].indexOf(S) !== -1, Ue = (bn = D == null ? void 0 : D[k]) != null ? bn : 0, vn = Oe ? $ : re - O[V] - ie[V] - Ue + j.altAxis, wn = Oe ? re + O[V] + ie[V] - Ue - j.altAxis : le, xn = _ && Oe ? St(vn, re, wn) : fe(_ ? vn : $, re, _ ? wn : le);
      M[k] = xn, Y[k] = xn - re;
    }
    n.modifiersData[o] = Y;
  }
}
var xt = { name: "preventOverflow", enabled: !0, phase: "main", fn: on, requiresIfExists: ["offset"] };
function an(i) {
  return { scrollLeft: i.scrollLeft, scrollTop: i.scrollTop };
}
function sn(i) {
  return i === H(i) || !B(i) ? We(i) : an(i);
}
function fn(i) {
  var n = i.getBoundingClientRect(), r = Z(n.width) / i.offsetWidth || 1, o = Z(n.height) / i.offsetHeight || 1;
  return r !== 1 || o !== 1;
}
function cn(i, n, r) {
  r === void 0 && (r = !1);
  var o = B(n), a = B(n) && fn(n), u = I(n), c = ee(i, a), f = { scrollLeft: 0, scrollTop: 0 }, d = { x: 0, y: 0 };
  return (o || !o && !r) && ((C(n) !== "body" || Se(u)) && (f = sn(n)), B(n) ? (d = ee(n, !0), d.x += n.clientLeft, d.y += n.clientTop) : u && (d.x = Be(u))), { x: c.left + f.scrollLeft - d.x, y: c.top + f.scrollTop - d.y, width: c.width, height: c.height };
}
function pn(i) {
  var n = /* @__PURE__ */ new Map(), r = /* @__PURE__ */ new Set(), o = [];
  i.forEach(function(u) {
    n.set(u.name, u);
  });
  function a(u) {
    r.add(u.name);
    var c = [].concat(u.requires || [], u.requiresIfExists || []);
    c.forEach(function(f) {
      if (!r.has(f)) {
        var d = n.get(f);
        d && a(d);
      }
    }), o.push(u);
  }
  return i.forEach(function(u) {
    r.has(u.name) || a(u);
  }), o;
}
function un(i) {
  var n = pn(i);
  return ot.reduce(function(r, o) {
    return r.concat(n.filter(function(a) {
      return a.phase === o;
    }));
  }, []);
}
function ln(i) {
  var n;
  return function() {
    return n || (n = new Promise(function(r) {
      Promise.resolve().then(function() {
        n = void 0, r(i());
      });
    })), n;
  };
}
function dn(i) {
  var n = i.reduce(function(r, o) {
    var a = r[o.name];
    return r[o.name] = a ? Object.assign({}, a, o, { options: Object.assign({}, a.options, o.options), data: Object.assign({}, a.data, o.data) }) : o, r;
  }, {});
  return Object.keys(n).map(function(r) {
    return n[r];
  });
}
var Ot = { placement: "bottom", modifiers: [], strategy: "absolute" };
function $t() {
  for (var i = arguments.length, n = new Array(i), r = 0; r < i; r++)
    n[r] = arguments[r];
  return !n.some(function(o) {
    return !(o && typeof o.getBoundingClientRect == "function");
  });
}
function we(i) {
  i === void 0 && (i = {});
  var n = i, r = n.defaultModifiers, o = r === void 0 ? [] : r, a = n.defaultOptions, u = a === void 0 ? Ot : a;
  return function(c, f, d) {
    d === void 0 && (d = u);
    var p = { placement: "bottom", orderedModifiers: [], options: Object.assign({}, Ot, u), modifiersData: {}, elements: { reference: c, popper: f }, attributes: {}, styles: {} }, y = [], v = !1, g = { state: p, setOptions: function(A) {
      var w = typeof A == "function" ? A(p.options) : A;
      b(), p.options = Object.assign({}, u, p.options, w), p.scrollParents = { reference: Q(c) ? ce(c) : c.contextElement ? ce(c.contextElement) : [], popper: ce(f) };
      var S = un(dn([].concat(o, p.options.modifiers)));
      return p.orderedModifiers = S.filter(function(T) {
        return T.enabled;
      }), _(), g.update();
    }, forceUpdate: function() {
      if (!v) {
        var A = p.elements, w = A.reference, S = A.popper;
        if ($t(w, S)) {
          p.rects = { reference: cn(w, se(S), p.options.strategy === "fixed"), popper: ke(S) }, p.reset = !1, p.placement = p.options.placement, p.orderedModifiers.forEach(function(ie) {
            return p.modifiersData[ie.name] = Object.assign({}, ie.data);
          });
          for (var T = 0; T < p.orderedModifiers.length; T++) {
            if (p.reset === !0) {
              p.reset = !1, T = -1;
              continue;
            }
            var x = p.orderedModifiers[T], L = x.fn, k = x.options, M = k === void 0 ? {} : k, O = x.name;
            typeof L == "function" && (p = L({ state: p, options: M, name: O, instance: g }) || p);
          }
        }
      }
    }, update: ln(function() {
      return new Promise(function(A) {
        g.forceUpdate(), A(p);
      });
    }), destroy: function() {
      b(), v = !0;
    } };
    if (!$t(c, f))
      return g;
    g.setOptions(d).then(function(A) {
      !v && d.onFirstUpdate && d.onFirstUpdate(A);
    });
    function _() {
      p.orderedModifiers.forEach(function(A) {
        var w = A.name, S = A.options, T = S === void 0 ? {} : S, x = A.effect;
        if (typeof x == "function") {
          var L = x({ state: p, name: w, instance: g, options: T }), k = function() {
          };
          y.push(L || k);
        }
      });
    }
    function b() {
      y.forEach(function(A) {
        return A();
      }), y = [];
    }
    return g;
  };
}
we();
var mn = [Re, He, Me, Ae];
we({ defaultModifiers: mn });
var gn = [Re, He, Me, Ae, wt, vt, xt, pt, bt], yn = we({ defaultModifiers: gn });
const usePopper = (i, n, r = {}) => {
  const o = {
    name: "updateState",
    enabled: !0,
    phase: "write",
    fn: ({ state: d }) => {
      const p = deriveState(d);
      Object.assign(c.value, p);
    },
    requires: ["computeStyles"]
  }, a = computed(() => {
    const { onFirstUpdate: d, placement: p, strategy: y, modifiers: v } = unref(r);
    return {
      onFirstUpdate: d,
      placement: p || "bottom",
      strategy: y || "absolute",
      modifiers: [
        ...v || [],
        o,
        { name: "applyStyles", enabled: !1 }
      ]
    };
  }), u = shallowRef(), c = ref({
    styles: {
      popper: {
        position: unref(a).strategy,
        left: "0",
        top: "0"
      },
      arrow: {
        position: "absolute"
      }
    },
    attributes: {}
  }), f = () => {
    u.value && (u.value.destroy(), u.value = void 0);
  };
  return watch(a, (d) => {
    const p = unref(u);
    p && p.setOptions(d);
  }, {
    deep: !0
  }), watch([i, n], ([d, p]) => {
    f(), !(!d || !p) && (u.value = yn(d, p, unref(a)));
  }), onBeforeUnmount(() => {
    f();
  }), {
    state: computed(() => {
      var d;
      return { ...((d = unref(u)) == null ? void 0 : d.state) || {} };
    }),
    styles: computed(() => unref(c).styles),
    attributes: computed(() => unref(c).attributes),
    update: () => {
      var d;
      return (d = unref(u)) == null ? void 0 : d.update();
    },
    forceUpdate: () => {
      var d;
      return (d = unref(u)) == null ? void 0 : d.forceUpdate();
    },
    instanceRef: computed(() => unref(u))
  };
};
function deriveState(i) {
  const n = Object.keys(i.elements), r = fromPairs(n.map((a) => [a, i.styles[a] || {}])), o = fromPairs(n.map((a) => [a, i.attributes[a]]));
  return {
    styles: r,
    attributes: o
  };
}
function useTimeout() {
  let i;
  const n = (o, a) => {
    r(), i = window.setTimeout(o, a);
  }, r = () => window.clearTimeout(i);
  return tryOnScopeDispose(() => r()), {
    registerTimeout: n,
    cancelTimeout: r
  };
}
const defaultIdInjection = {
  prefix: Math.floor(Math.random() * 1e4),
  current: 0
}, ID_INJECTION_KEY = Symbol("elIdInjection"), useIdInjection = () => getCurrentInstance() ? inject(ID_INJECTION_KEY, defaultIdInjection) : defaultIdInjection, useId = (i) => {
  const n = useIdInjection();
  !isClient && n === defaultIdInjection && debugWarn("IdInjection", `Looks like you are using server rendering, you must provide a id provider to ensure the hydration process to be succeed
usage: app.provide(ID_INJECTION_KEY, {
  prefix: number,
  current: number,
})`);
  const r = useGetDerivedNamespace();
  return computed(() => unref(i) || `${r.value}-id-${n.prefix}-${n.current++}`);
};
let registeredEscapeHandlers = [];
const cachedHandler = (i) => {
  const n = i;
  n.key === EVENT_CODE.esc && registeredEscapeHandlers.forEach((r) => r(n));
}, useEscapeKeydown = (i) => {
  onMounted(() => {
    registeredEscapeHandlers.length === 0 && document.addEventListener("keydown", cachedHandler), isClient && registeredEscapeHandlers.push(i);
  }), onBeforeUnmount(() => {
    registeredEscapeHandlers = registeredEscapeHandlers.filter((n) => n !== i), registeredEscapeHandlers.length === 0 && isClient && document.removeEventListener("keydown", cachedHandler);
  });
};
let cachedContainer;
const usePopperContainerId = () => {
  const i = useGetDerivedNamespace(), n = useIdInjection(), r = computed(() => `${i.value}-popper-container-${n.prefix}`), o = computed(() => `#${r.value}`);
  return {
    id: r,
    selector: o
  };
}, createContainer = (i) => {
  const n = document.createElement("div");
  return n.id = i, document.body.appendChild(n), n;
}, usePopperContainer = () => {
  const { id: i, selector: n } = usePopperContainerId();
  return onBeforeMount(() => {
    isClient && (process.env.NODE_ENV === "test" || !cachedContainer && !document.body.querySelector(n.value)) && (cachedContainer = createContainer(i.value));
  }), {
    id: i,
    selector: n
  };
}, useDelayedToggleProps = buildProps({
  showAfter: {
    type: Number,
    default: 0
  },
  hideAfter: {
    type: Number,
    default: 200
  },
  autoClose: {
    type: Number,
    default: 0
  }
}), useDelayedToggle = ({
  showAfter: i,
  hideAfter: n,
  autoClose: r,
  open: o,
  close: a
}) => {
  const { registerTimeout: u } = useTimeout(), {
    registerTimeout: c,
    cancelTimeout: f
  } = useTimeout();
  return {
    onOpen: (y) => {
      u(() => {
        o(y);
        const v = unref(r);
        isNumber(v) && v > 0 && c(() => {
          a(y);
        }, v);
      }, unref(i));
    },
    onClose: (y) => {
      f(), u(() => {
        a(y);
      }, unref(n));
    }
  };
}, FORWARD_REF_INJECTION_KEY = Symbol("elForwardRef"), useForwardRef = (i) => {
  provide(FORWARD_REF_INJECTION_KEY, {
    setForwardRef: (r) => {
      i.value = r;
    }
  });
}, useForwardRefDirective = (i) => ({
  mounted(n) {
    i(n);
  },
  updated(n) {
    i(n);
  },
  unmounted() {
    i(null);
  }
}), zIndex = ref(0), defaultInitialZIndex = 2e3, zIndexContextKey = Symbol("zIndexContextKey"), useZIndex = (i) => {
  const n = i || inject(zIndexContextKey, void 0), r = computed(() => {
    const u = unref(n);
    return isNumber(u) ? u : defaultInitialZIndex;
  }), o = computed(() => r.value + zIndex.value);
  return {
    initialZIndex: r,
    currentZIndex: o,
    nextZIndex: () => (zIndex.value++, o.value)
  };
};
function useCursor(i) {
  const n = ref();
  function r() {
    if (i.value == null)
      return;
    const { selectionStart: a, selectionEnd: u, value: c } = i.value;
    if (a == null || u == null)
      return;
    const f = c.slice(0, Math.max(0, a)), d = c.slice(Math.max(0, u));
    n.value = {
      selectionStart: a,
      selectionEnd: u,
      value: c,
      beforeTxt: f,
      afterTxt: d
    };
  }
  function o() {
    if (i.value == null || n.value == null)
      return;
    const { value: a } = i.value, { beforeTxt: u, afterTxt: c, selectionStart: f } = n.value;
    if (u == null || c == null || f == null)
      return;
    let d = a.length;
    if (a.endsWith(c))
      d = a.length - c.length;
    else if (a.startsWith(u))
      d = u.length;
    else {
      const p = u[f - 1], y = a.indexOf(p, f - 1);
      y !== -1 && (d = y + 1);
    }
    i.value.setSelectionRange(d, d);
  }
  return [r, o];
}
const useSizeProp = buildProp({
  type: String,
  values: componentSizes,
  required: !1
}), SIZE_INJECTION_KEY = Symbol("size"), useGlobalSize = () => {
  const i = inject(SIZE_INJECTION_KEY, {});
  return computed(() => unref(i.size) || "");
};
function useFocusController(i, { afterFocus: n, afterBlur: r } = {}) {
  const o = getCurrentInstance(), { emit: a } = o, u = shallowRef(), c = ref(!1), f = (y) => {
    c.value || (c.value = !0, a("focus", y), n == null || n());
  }, d = (y) => {
    var v;
    y.relatedTarget && ((v = u.value) != null && v.contains(y.relatedTarget)) || (c.value = !1, a("blur", y), r == null || r());
  }, p = () => {
    var y;
    (y = i.value) == null || y.focus();
  };
  return watch(u, (y) => {
    y && (y.setAttribute("role", "button"), y.setAttribute("tabindex", "-1"));
  }), useEventListener(u, "click", p), {
    wrapperRef: u,
    isFocused: c,
    handleFocus: f,
    handleBlur: d
  };
}
var _export_sfc = (i, n) => {
  const r = i.__vccOpts || i;
  for (const [o, a] of n)
    r[o] = a;
  return r;
};
const iconProps = buildProps({
  size: {
    type: definePropType([Number, String])
  },
  color: {
    type: String
  }
}), __default__$c = defineComponent({
  name: "ElIcon",
  inheritAttrs: !1
}), _sfc_main$r = /* @__PURE__ */ defineComponent({
  ...__default__$c,
  props: iconProps,
  setup(i) {
    const n = i, r = useNamespace("icon"), o = computed(() => {
      const { size: a, color: u } = n;
      return !a && !u ? {} : {
        fontSize: isUndefined(a) ? void 0 : addUnit(a),
        "--color": u
      };
    });
    return (a, u) => (openBlock(), createElementBlock("i", mergeProps({
      class: unref(r).b(),
      style: unref(o)
    }, a.$attrs), [
      renderSlot(a.$slots, "default")
    ], 16));
  }
});
var Icon = /* @__PURE__ */ _export_sfc(_sfc_main$r, [["__file", "/home/runner/work/element-plus/element-plus/packages/components/icon/src/icon.vue"]]);
const ElIcon = withInstall(Icon), formContextKey = Symbol("formContextKey"), formItemContextKey = Symbol("formItemContextKey"), useFormSize = (i, n = {}) => {
  const r = ref(void 0), o = n.prop ? r : useProp("size"), a = n.global ? r : useGlobalSize(), u = n.form ? { size: void 0 } : inject(formContextKey, void 0), c = n.formItem ? { size: void 0 } : inject(formItemContextKey, void 0);
  return computed(() => o.value || unref(i) || (c == null ? void 0 : c.size) || (u == null ? void 0 : u.size) || a.value || "");
}, useFormDisabled = (i) => {
  const n = useProp("disabled"), r = inject(formContextKey, void 0);
  return computed(() => n.value || unref(i) || (r == null ? void 0 : r.disabled) || !1);
}, useFormItem = () => {
  const i = inject(formContextKey, void 0), n = inject(formItemContextKey, void 0);
  return {
    form: i,
    formItem: n
  };
}, useFormItemInputId = (i, {
  formItemContext: n,
  disableIdGeneration: r,
  disableIdManagement: o
}) => {
  r || (r = ref(!1)), o || (o = ref(!1));
  const a = ref();
  let u;
  const c = computed(() => {
    var f;
    return !!(!i.label && n && n.inputIds && ((f = n.inputIds) == null ? void 0 : f.length) <= 1);
  });
  return onMounted(() => {
    u = watch([toRef(i, "id"), r], ([f, d]) => {
      const p = f ?? (d ? void 0 : useId().value);
      p !== a.value && (n != null && n.removeInputId && (a.value && n.removeInputId(a.value), !(o != null && o.value) && !d && p && n.addInputId(p)), a.value = p);
    }, { immediate: !0 });
  }), onUnmounted(() => {
    u && u(), n != null && n.removeInputId && a.value && n.removeInputId(a.value);
  }), {
    isLabeledByFormItem: c,
    inputId: a
  };
}, formMetaProps = buildProps({
  size: {
    type: String,
    values: componentSizes
  },
  disabled: Boolean
}), formProps = buildProps({
  ...formMetaProps,
  model: Object,
  rules: {
    type: definePropType(Object)
  },
  labelPosition: {
    type: String,
    values: ["left", "right", "top"],
    default: "right"
  },
  requireAsteriskPosition: {
    type: String,
    values: ["left", "right"],
    default: "left"
  },
  labelWidth: {
    type: [String, Number],
    default: ""
  },
  labelSuffix: {
    type: String,
    default: ""
  },
  inline: Boolean,
  inlineMessage: Boolean,
  statusIcon: Boolean,
  showMessage: {
    type: Boolean,
    default: !0
  },
  validateOnRuleChange: {
    type: Boolean,
    default: !0
  },
  hideRequiredAsterisk: Boolean,
  scrollToError: Boolean,
  scrollIntoViewOptions: {
    type: [Object, Boolean]
  }
}), formEmits = {
  validate: (i, n, r) => (isArray(i) || isString(i)) && isBoolean(n) && isString(r)
}, SCOPE = "ElForm";
function useFormLabelWidth() {
  const i = ref([]), n = computed(() => {
    if (!i.value.length)
      return "0";
    const u = Math.max(...i.value);
    return u ? `${u}px` : "";
  });
  function r(u) {
    const c = i.value.indexOf(u);
    return c === -1 && n.value === "0" && debugWarn(SCOPE, `unexpected width ${u}`), c;
  }
  function o(u, c) {
    if (u && c) {
      const f = r(c);
      i.value.splice(f, 1, u);
    } else
      u && i.value.push(u);
  }
  function a(u) {
    const c = r(u);
    c > -1 && i.value.splice(c, 1);
  }
  return {
    autoLabelWidth: n,
    registerLabelWidth: o,
    deregisterLabelWidth: a
  };
}
const filterFields = (i, n) => {
  const r = castArray(n);
  return r.length > 0 ? i.filter((o) => o.prop && r.includes(o.prop)) : i;
}, COMPONENT_NAME$4 = "ElForm", __default__$b = defineComponent({
  name: COMPONENT_NAME$4
}), _sfc_main$q = /* @__PURE__ */ defineComponent({
  ...__default__$b,
  props: formProps,
  emits: formEmits,
  setup(i, { expose: n, emit: r }) {
    const o = i, a = [], u = useFormSize(), c = useNamespace("form"), f = computed(() => {
      const { labelPosition: T, inline: x } = o;
      return [
        c.b(),
        c.m(u.value || "default"),
        {
          [c.m(`label-${T}`)]: T,
          [c.m("inline")]: x
        }
      ];
    }), d = (T) => {
      a.push(T);
    }, p = (T) => {
      T.prop && a.splice(a.indexOf(T), 1);
    }, y = (T = []) => {
      if (!o.model) {
        debugWarn(COMPONENT_NAME$4, "model is required for resetFields to work.");
        return;
      }
      filterFields(a, T).forEach((x) => x.resetField());
    }, v = (T = []) => {
      filterFields(a, T).forEach((x) => x.clearValidate());
    }, g = computed(() => {
      const T = !!o.model;
      return T || debugWarn(COMPONENT_NAME$4, "model is required for validate to work."), T;
    }), _ = (T) => {
      if (a.length === 0)
        return [];
      const x = filterFields(a, T);
      return x.length ? x : (debugWarn(COMPONENT_NAME$4, "please pass correct props!"), []);
    }, b = async (T) => w(void 0, T), A = async (T = []) => {
      if (!g.value)
        return !1;
      const x = _(T);
      if (x.length === 0)
        return !0;
      let L = {};
      for (const k of x)
        try {
          await k.validate("");
        } catch (M) {
          L = {
            ...L,
            ...M
          };
        }
      return Object.keys(L).length === 0 ? !0 : Promise.reject(L);
    }, w = async (T = [], x) => {
      const L = !isFunction(x);
      try {
        const k = await A(T);
        return k === !0 && (x == null || x(k)), k;
      } catch (k) {
        if (k instanceof Error)
          throw k;
        const M = k;
        return o.scrollToError && S(Object.keys(M)[0]), x == null || x(!1, M), L && Promise.reject(M);
      }
    }, S = (T) => {
      var x;
      const L = filterFields(a, T)[0];
      L && ((x = L.$el) == null || x.scrollIntoView(o.scrollIntoViewOptions));
    };
    return watch(() => o.rules, () => {
      o.validateOnRuleChange && b().catch((T) => debugWarn(T));
    }, { deep: !0 }), provide(formContextKey, reactive({
      ...toRefs(o),
      emit: r,
      resetFields: y,
      clearValidate: v,
      validateField: w,
      addField: d,
      removeField: p,
      ...useFormLabelWidth()
    })), n({
      validate: b,
      validateField: w,
      resetFields: y,
      clearValidate: v,
      scrollToField: S
    }), (T, x) => (openBlock(), createElementBlock("form", {
      class: normalizeClass(unref(f))
    }, [
      renderSlot(T.$slots, "default")
    ], 2));
  }
});
var Form = /* @__PURE__ */ _export_sfc(_sfc_main$q, [["__file", "/home/runner/work/element-plus/element-plus/packages/components/form/src/form.vue"]]);
function _extends() {
  return _extends = Object.assign ? Object.assign.bind() : function(i) {
    for (var n = 1; n < arguments.length; n++) {
      var r = arguments[n];
      for (var o in r)
        Object.prototype.hasOwnProperty.call(r, o) && (i[o] = r[o]);
    }
    return i;
  }, _extends.apply(this, arguments);
}
function _inheritsLoose(i, n) {
  i.prototype = Object.create(n.prototype), i.prototype.constructor = i, _setPrototypeOf(i, n);
}
function _getPrototypeOf(i) {
  return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, _getPrototypeOf(i);
}
function _setPrototypeOf(i, n) {
  return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(o, a) {
    return o.__proto__ = a, o;
  }, _setPrototypeOf(i, n);
}
function _isNativeReflectConstruct() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return !1;
  if (typeof Proxy == "function")
    return !0;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), !0;
  } catch {
    return !1;
  }
}
function _construct(i, n, r) {
  return _isNativeReflectConstruct() ? _construct = Reflect.construct.bind() : _construct = function(a, u, c) {
    var f = [null];
    f.push.apply(f, u);
    var d = Function.bind.apply(a, f), p = new d();
    return c && _setPrototypeOf(p, c.prototype), p;
  }, _construct.apply(null, arguments);
}
function _isNativeFunction(i) {
  return Function.toString.call(i).indexOf("[native code]") !== -1;
}
function _wrapNativeSuper(i) {
  var n = typeof Map == "function" ? /* @__PURE__ */ new Map() : void 0;
  return _wrapNativeSuper = function(o) {
    if (o === null || !_isNativeFunction(o))
      return o;
    if (typeof o != "function")
      throw new TypeError("Super expression must either be null or a function");
    if (typeof n < "u") {
      if (n.has(o))
        return n.get(o);
      n.set(o, a);
    }
    function a() {
      return _construct(o, arguments, _getPrototypeOf(this).constructor);
    }
    return a.prototype = Object.create(o.prototype, {
      constructor: {
        value: a,
        enumerable: !1,
        writable: !0,
        configurable: !0
      }
    }), _setPrototypeOf(a, o);
  }, _wrapNativeSuper(i);
}
var formatRegExp = /%[sdj%]/g, warning = function i() {
};
typeof process < "u" && process.env && process.env.NODE_ENV !== "production" && typeof window < "u" && typeof document < "u" && (warning = function(n, r) {
  typeof console < "u" && console.warn && typeof ASYNC_VALIDATOR_NO_WARNING > "u" && r.every(function(o) {
    return typeof o == "string";
  }) && console.warn(n, r);
});
function convertFieldsError(i) {
  if (!i || !i.length)
    return null;
  var n = {};
  return i.forEach(function(r) {
    var o = r.field;
    n[o] = n[o] || [], n[o].push(r);
  }), n;
}
function format(i) {
  for (var n = arguments.length, r = new Array(n > 1 ? n - 1 : 0), o = 1; o < n; o++)
    r[o - 1] = arguments[o];
  var a = 0, u = r.length;
  if (typeof i == "function")
    return i.apply(null, r);
  if (typeof i == "string") {
    var c = i.replace(formatRegExp, function(f) {
      if (f === "%%")
        return "%";
      if (a >= u)
        return f;
      switch (f) {
        case "%s":
          return String(r[a++]);
        case "%d":
          return Number(r[a++]);
        case "%j":
          try {
            return JSON.stringify(r[a++]);
          } catch {
            return "[Circular]";
          }
          break;
        default:
          return f;
      }
    });
    return c;
  }
  return i;
}
function isNativeStringType(i) {
  return i === "string" || i === "url" || i === "hex" || i === "email" || i === "date" || i === "pattern";
}
function isEmptyValue(i, n) {
  return !!(i == null || n === "array" && Array.isArray(i) && !i.length || isNativeStringType(n) && typeof i == "string" && !i);
}
function asyncParallelArray(i, n, r) {
  var o = [], a = 0, u = i.length;
  function c(f) {
    o.push.apply(o, f || []), a++, a === u && r(o);
  }
  i.forEach(function(f) {
    n(f, c);
  });
}
function asyncSerialArray(i, n, r) {
  var o = 0, a = i.length;
  function u(c) {
    if (c && c.length) {
      r(c);
      return;
    }
    var f = o;
    o = o + 1, f < a ? n(i[f], u) : r([]);
  }
  u([]);
}
function flattenObjArr(i) {
  var n = [];
  return Object.keys(i).forEach(function(r) {
    n.push.apply(n, i[r] || []);
  }), n;
}
var AsyncValidationError = /* @__PURE__ */ function(i) {
  _inheritsLoose(n, i);
  function n(r, o) {
    var a;
    return a = i.call(this, "Async Validation Error") || this, a.errors = r, a.fields = o, a;
  }
  return n;
}(/* @__PURE__ */ _wrapNativeSuper(Error));
function asyncMap(i, n, r, o, a) {
  if (n.first) {
    var u = new Promise(function(g, _) {
      var b = function(S) {
        return o(S), S.length ? _(new AsyncValidationError(S, convertFieldsError(S))) : g(a);
      }, A = flattenObjArr(i);
      asyncSerialArray(A, r, b);
    });
    return u.catch(function(g) {
      return g;
    }), u;
  }
  var c = n.firstFields === !0 ? Object.keys(i) : n.firstFields || [], f = Object.keys(i), d = f.length, p = 0, y = [], v = new Promise(function(g, _) {
    var b = function(w) {
      if (y.push.apply(y, w), p++, p === d)
        return o(y), y.length ? _(new AsyncValidationError(y, convertFieldsError(y))) : g(a);
    };
    f.length || (o(y), g(a)), f.forEach(function(A) {
      var w = i[A];
      c.indexOf(A) !== -1 ? asyncSerialArray(w, r, b) : asyncParallelArray(w, r, b);
    });
  });
  return v.catch(function(g) {
    return g;
  }), v;
}
function isErrorObj(i) {
  return !!(i && i.message !== void 0);
}
function getValue(i, n) {
  for (var r = i, o = 0; o < n.length; o++) {
    if (r == null)
      return r;
    r = r[n[o]];
  }
  return r;
}
function complementError(i, n) {
  return function(r) {
    var o;
    return i.fullFields ? o = getValue(n, i.fullFields) : o = n[r.field || i.fullField], isErrorObj(r) ? (r.field = r.field || i.fullField, r.fieldValue = o, r) : {
      message: typeof r == "function" ? r() : r,
      fieldValue: o,
      field: r.field || i.fullField
    };
  };
}
function deepMerge(i, n) {
  if (n) {
    for (var r in n)
      if (n.hasOwnProperty(r)) {
        var o = n[r];
        typeof o == "object" && typeof i[r] == "object" ? i[r] = _extends({}, i[r], o) : i[r] = o;
      }
  }
  return i;
}
var required$1 = function i(n, r, o, a, u, c) {
  n.required && (!o.hasOwnProperty(n.field) || isEmptyValue(r, c || n.type)) && a.push(format(u.messages.required, n.fullField));
}, whitespace = function i(n, r, o, a, u) {
  (/^\s+$/.test(r) || r === "") && a.push(format(u.messages.whitespace, n.fullField));
}, urlReg, getUrlRegex = function() {
  if (urlReg)
    return urlReg;
  var i = "[a-fA-F\\d:]", n = function(L) {
    return L && L.includeBoundaries ? "(?:(?<=\\s|^)(?=" + i + ")|(?<=" + i + ")(?=\\s|$))" : "";
  }, r = "(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}", o = "[a-fA-F\\d]{1,4}", a = (`
(?:
(?:` + o + ":){7}(?:" + o + `|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:` + o + ":){6}(?:" + r + "|:" + o + `|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:` + o + ":){5}(?::" + r + "|(?::" + o + `){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:` + o + ":){4}(?:(?::" + o + "){0,1}:" + r + "|(?::" + o + `){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:` + o + ":){3}(?:(?::" + o + "){0,2}:" + r + "|(?::" + o + `){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:` + o + ":){2}(?:(?::" + o + "){0,3}:" + r + "|(?::" + o + `){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:` + o + ":){1}(?:(?::" + o + "){0,4}:" + r + "|(?::" + o + `){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::` + o + "){0,5}:" + r + "|(?::" + o + `){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm, "").replace(/\n/g, "").trim(), u = new RegExp("(?:^" + r + "$)|(?:^" + a + "$)"), c = new RegExp("^" + r + "$"), f = new RegExp("^" + a + "$"), d = function(L) {
    return L && L.exact ? u : new RegExp("(?:" + n(L) + r + n(L) + ")|(?:" + n(L) + a + n(L) + ")", "g");
  };
  d.v4 = function(x) {
    return x && x.exact ? c : new RegExp("" + n(x) + r + n(x), "g");
  }, d.v6 = function(x) {
    return x && x.exact ? f : new RegExp("" + n(x) + a + n(x), "g");
  };
  var p = "(?:(?:[a-z]+:)?//)", y = "(?:\\S+(?::\\S*)?@)?", v = d.v4().source, g = d.v6().source, _ = "(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)", b = "(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*", A = "(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))", w = "(?::\\d{2,5})?", S = '(?:[/?#][^\\s"]*)?', T = "(?:" + p + "|www\\.)" + y + "(?:localhost|" + v + "|" + g + "|" + _ + b + A + ")" + w + S;
  return urlReg = new RegExp("(?:^" + T + "$)", "i"), urlReg;
}, pattern$2 = {
  // http://emailregex.com/
  email: /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,
  // url: new RegExp(
  //   '^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$',
  //   'i',
  // ),
  hex: /^#?([a-f0-9]{6}|[a-f0-9]{3})$/i
}, types = {
  integer: function i(n) {
    return types.number(n) && parseInt(n, 10) === n;
  },
  float: function i(n) {
    return types.number(n) && !types.integer(n);
  },
  array: function i(n) {
    return Array.isArray(n);
  },
  regexp: function i(n) {
    if (n instanceof RegExp)
      return !0;
    try {
      return !!new RegExp(n);
    } catch {
      return !1;
    }
  },
  date: function i(n) {
    return typeof n.getTime == "function" && typeof n.getMonth == "function" && typeof n.getYear == "function" && !isNaN(n.getTime());
  },
  number: function i(n) {
    return isNaN(n) ? !1 : typeof n == "number";
  },
  object: function i(n) {
    return typeof n == "object" && !types.array(n);
  },
  method: function i(n) {
    return typeof n == "function";
  },
  email: function i(n) {
    return typeof n == "string" && n.length <= 320 && !!n.match(pattern$2.email);
  },
  url: function i(n) {
    return typeof n == "string" && n.length <= 2048 && !!n.match(getUrlRegex());
  },
  hex: function i(n) {
    return typeof n == "string" && !!n.match(pattern$2.hex);
  }
}, type$1 = function i(n, r, o, a, u) {
  if (n.required && r === void 0) {
    required$1(n, r, o, a, u);
    return;
  }
  var c = ["integer", "float", "array", "regexp", "object", "method", "email", "number", "date", "url", "hex"], f = n.type;
  c.indexOf(f) > -1 ? types[f](r) || a.push(format(u.messages.types[f], n.fullField, n.type)) : f && typeof r !== n.type && a.push(format(u.messages.types[f], n.fullField, n.type));
}, range = function i(n, r, o, a, u) {
  var c = typeof n.len == "number", f = typeof n.min == "number", d = typeof n.max == "number", p = /[\uD800-\uDBFF][\uDC00-\uDFFF]/g, y = r, v = null, g = typeof r == "number", _ = typeof r == "string", b = Array.isArray(r);
  if (g ? v = "number" : _ ? v = "string" : b && (v = "array"), !v)
    return !1;
  b && (y = r.length), _ && (y = r.replace(p, "_").length), c ? y !== n.len && a.push(format(u.messages[v].len, n.fullField, n.len)) : f && !d && y < n.min ? a.push(format(u.messages[v].min, n.fullField, n.min)) : d && !f && y > n.max ? a.push(format(u.messages[v].max, n.fullField, n.max)) : f && d && (y < n.min || y > n.max) && a.push(format(u.messages[v].range, n.fullField, n.min, n.max));
}, ENUM$1 = "enum", enumerable$1 = function i(n, r, o, a, u) {
  n[ENUM$1] = Array.isArray(n[ENUM$1]) ? n[ENUM$1] : [], n[ENUM$1].indexOf(r) === -1 && a.push(format(u.messages[ENUM$1], n.fullField, n[ENUM$1].join(", ")));
}, pattern$1 = function i(n, r, o, a, u) {
  if (n.pattern) {
    if (n.pattern instanceof RegExp)
      n.pattern.lastIndex = 0, n.pattern.test(r) || a.push(format(u.messages.pattern.mismatch, n.fullField, r, n.pattern));
    else if (typeof n.pattern == "string") {
      var c = new RegExp(n.pattern);
      c.test(r) || a.push(format(u.messages.pattern.mismatch, n.fullField, r, n.pattern));
    }
  }
}, rules = {
  required: required$1,
  whitespace,
  type: type$1,
  range,
  enum: enumerable$1,
  pattern: pattern$1
}, string = function i(n, r, o, a, u) {
  var c = [], f = n.required || !n.required && a.hasOwnProperty(n.field);
  if (f) {
    if (isEmptyValue(r, "string") && !n.required)
      return o();
    rules.required(n, r, a, c, u, "string"), isEmptyValue(r, "string") || (rules.type(n, r, a, c, u), rules.range(n, r, a, c, u), rules.pattern(n, r, a, c, u), n.whitespace === !0 && rules.whitespace(n, r, a, c, u));
  }
  o(c);
}, method = function i(n, r, o, a, u) {
  var c = [], f = n.required || !n.required && a.hasOwnProperty(n.field);
  if (f) {
    if (isEmptyValue(r) && !n.required)
      return o();
    rules.required(n, r, a, c, u), r !== void 0 && rules.type(n, r, a, c, u);
  }
  o(c);
}, number = function i(n, r, o, a, u) {
  var c = [], f = n.required || !n.required && a.hasOwnProperty(n.field);
  if (f) {
    if (r === "" && (r = void 0), isEmptyValue(r) && !n.required)
      return o();
    rules.required(n, r, a, c, u), r !== void 0 && (rules.type(n, r, a, c, u), rules.range(n, r, a, c, u));
  }
  o(c);
}, _boolean = function i(n, r, o, a, u) {
  var c = [], f = n.required || !n.required && a.hasOwnProperty(n.field);
  if (f) {
    if (isEmptyValue(r) && !n.required)
      return o();
    rules.required(n, r, a, c, u), r !== void 0 && rules.type(n, r, a, c, u);
  }
  o(c);
}, regexp = function i(n, r, o, a, u) {
  var c = [], f = n.required || !n.required && a.hasOwnProperty(n.field);
  if (f) {
    if (isEmptyValue(r) && !n.required)
      return o();
    rules.required(n, r, a, c, u), isEmptyValue(r) || rules.type(n, r, a, c, u);
  }
  o(c);
}, integer = function i(n, r, o, a, u) {
  var c = [], f = n.required || !n.required && a.hasOwnProperty(n.field);
  if (f) {
    if (isEmptyValue(r) && !n.required)
      return o();
    rules.required(n, r, a, c, u), r !== void 0 && (rules.type(n, r, a, c, u), rules.range(n, r, a, c, u));
  }
  o(c);
}, floatFn = function i(n, r, o, a, u) {
  var c = [], f = n.required || !n.required && a.hasOwnProperty(n.field);
  if (f) {
    if (isEmptyValue(r) && !n.required)
      return o();
    rules.required(n, r, a, c, u), r !== void 0 && (rules.type(n, r, a, c, u), rules.range(n, r, a, c, u));
  }
  o(c);
}, array = function i(n, r, o, a, u) {
  var c = [], f = n.required || !n.required && a.hasOwnProperty(n.field);
  if (f) {
    if (r == null && !n.required)
      return o();
    rules.required(n, r, a, c, u, "array"), r != null && (rules.type(n, r, a, c, u), rules.range(n, r, a, c, u));
  }
  o(c);
}, object = function i(n, r, o, a, u) {
  var c = [], f = n.required || !n.required && a.hasOwnProperty(n.field);
  if (f) {
    if (isEmptyValue(r) && !n.required)
      return o();
    rules.required(n, r, a, c, u), r !== void 0 && rules.type(n, r, a, c, u);
  }
  o(c);
}, ENUM = "enum", enumerable = function i(n, r, o, a, u) {
  var c = [], f = n.required || !n.required && a.hasOwnProperty(n.field);
  if (f) {
    if (isEmptyValue(r) && !n.required)
      return o();
    rules.required(n, r, a, c, u), r !== void 0 && rules[ENUM](n, r, a, c, u);
  }
  o(c);
}, pattern = function i(n, r, o, a, u) {
  var c = [], f = n.required || !n.required && a.hasOwnProperty(n.field);
  if (f) {
    if (isEmptyValue(r, "string") && !n.required)
      return o();
    rules.required(n, r, a, c, u), isEmptyValue(r, "string") || rules.pattern(n, r, a, c, u);
  }
  o(c);
}, date = function i(n, r, o, a, u) {
  var c = [], f = n.required || !n.required && a.hasOwnProperty(n.field);
  if (f) {
    if (isEmptyValue(r, "date") && !n.required)
      return o();
    if (rules.required(n, r, a, c, u), !isEmptyValue(r, "date")) {
      var d;
      r instanceof Date ? d = r : d = new Date(r), rules.type(n, d, a, c, u), d && rules.range(n, d.getTime(), a, c, u);
    }
  }
  o(c);
}, required = function i(n, r, o, a, u) {
  var c = [], f = Array.isArray(r) ? "array" : typeof r;
  rules.required(n, r, a, c, u, f), o(c);
}, type = function i(n, r, o, a, u) {
  var c = n.type, f = [], d = n.required || !n.required && a.hasOwnProperty(n.field);
  if (d) {
    if (isEmptyValue(r, c) && !n.required)
      return o();
    rules.required(n, r, a, f, u, c), isEmptyValue(r, c) || rules.type(n, r, a, f, u);
  }
  o(f);
}, any = function i(n, r, o, a, u) {
  var c = [], f = n.required || !n.required && a.hasOwnProperty(n.field);
  if (f) {
    if (isEmptyValue(r) && !n.required)
      return o();
    rules.required(n, r, a, c, u);
  }
  o(c);
}, validators = {
  string,
  method,
  number,
  boolean: _boolean,
  regexp,
  integer,
  float: floatFn,
  array,
  object,
  enum: enumerable,
  pattern,
  date,
  url: type,
  hex: type,
  email: type,
  required,
  any
};
function newMessages() {
  return {
    default: "Validation error on field %s",
    required: "%s is required",
    enum: "%s must be one of %s",
    whitespace: "%s cannot be empty",
    date: {
      format: "%s date %s is invalid for format %s",
      parse: "%s date could not be parsed, %s is invalid ",
      invalid: "%s date %s is invalid"
    },
    types: {
      string: "%s is not a %s",
      method: "%s is not a %s (function)",
      array: "%s is not an %s",
      object: "%s is not an %s",
      number: "%s is not a %s",
      date: "%s is not a %s",
      boolean: "%s is not a %s",
      integer: "%s is not an %s",
      float: "%s is not a %s",
      regexp: "%s is not a valid %s",
      email: "%s is not a valid %s",
      url: "%s is not a valid %s",
      hex: "%s is not a valid %s"
    },
    string: {
      len: "%s must be exactly %s characters",
      min: "%s must be at least %s characters",
      max: "%s cannot be longer than %s characters",
      range: "%s must be between %s and %s characters"
    },
    number: {
      len: "%s must equal %s",
      min: "%s cannot be less than %s",
      max: "%s cannot be greater than %s",
      range: "%s must be between %s and %s"
    },
    array: {
      len: "%s must be exactly %s in length",
      min: "%s cannot be less than %s in length",
      max: "%s cannot be greater than %s in length",
      range: "%s must be between %s and %s in length"
    },
    pattern: {
      mismatch: "%s value %s does not match pattern %s"
    },
    clone: function() {
      var n = JSON.parse(JSON.stringify(this));
      return n.clone = this.clone, n;
    }
  };
}
var messages = newMessages(), Schema = /* @__PURE__ */ function() {
  function i(r) {
    this.rules = null, this._messages = messages, this.define(r);
  }
  var n = i.prototype;
  return n.define = function(o) {
    var a = this;
    if (!o)
      throw new Error("Cannot configure a schema with no rules");
    if (typeof o != "object" || Array.isArray(o))
      throw new Error("Rules must be an object");
    this.rules = {}, Object.keys(o).forEach(function(u) {
      var c = o[u];
      a.rules[u] = Array.isArray(c) ? c : [c];
    });
  }, n.messages = function(o) {
    return o && (this._messages = deepMerge(newMessages(), o)), this._messages;
  }, n.validate = function(o, a, u) {
    var c = this;
    a === void 0 && (a = {}), u === void 0 && (u = function() {
    });
    var f = o, d = a, p = u;
    if (typeof d == "function" && (p = d, d = {}), !this.rules || Object.keys(this.rules).length === 0)
      return p && p(null, f), Promise.resolve(f);
    function y(A) {
      var w = [], S = {};
      function T(L) {
        if (Array.isArray(L)) {
          var k;
          w = (k = w).concat.apply(k, L);
        } else
          w.push(L);
      }
      for (var x = 0; x < A.length; x++)
        T(A[x]);
      w.length ? (S = convertFieldsError(w), p(w, S)) : p(null, f);
    }
    if (d.messages) {
      var v = this.messages();
      v === messages && (v = newMessages()), deepMerge(v, d.messages), d.messages = v;
    } else
      d.messages = this.messages();
    var g = {}, _ = d.keys || Object.keys(this.rules);
    _.forEach(function(A) {
      var w = c.rules[A], S = f[A];
      w.forEach(function(T) {
        var x = T;
        typeof x.transform == "function" && (f === o && (f = _extends({}, f)), S = f[A] = x.transform(S)), typeof x == "function" ? x = {
          validator: x
        } : x = _extends({}, x), x.validator = c.getValidationMethod(x), x.validator && (x.field = A, x.fullField = x.fullField || A, x.type = c.getType(x), g[A] = g[A] || [], g[A].push({
          rule: x,
          value: S,
          source: f,
          field: A
        }));
      });
    });
    var b = {};
    return asyncMap(g, d, function(A, w) {
      var S = A.rule, T = (S.type === "object" || S.type === "array") && (typeof S.fields == "object" || typeof S.defaultField == "object");
      T = T && (S.required || !S.required && A.value), S.field = A.field;
      function x(M, O) {
        return _extends({}, O, {
          fullField: S.fullField + "." + M,
          fullFields: S.fullFields ? [].concat(S.fullFields, [M]) : [M]
        });
      }
      function L(M) {
        M === void 0 && (M = []);
        var O = Array.isArray(M) ? M : [M];
        !d.suppressWarning && O.length && i.warning("async-validator:", O), O.length && S.message !== void 0 && (O = [].concat(S.message));
        var ie = O.map(complementError(S, f));
        if (d.first && ie.length)
          return b[S.field] = 1, w(ie);
        if (!T)
          w(ie);
        else {
          if (S.required && !A.value)
            return S.message !== void 0 ? ie = [].concat(S.message).map(complementError(S, f)) : d.error && (ie = [d.error(S, format(d.messages.required, S.field))]), w(ie);
          var F = {};
          S.defaultField && Object.keys(A.value).map(function(Y) {
            F[Y] = S.defaultField;
          }), F = _extends({}, F, A.rule.fields);
          var j = {};
          Object.keys(F).forEach(function(Y) {
            var z = F[Y], Ie = Array.isArray(z) ? z : [z];
            j[Y] = Ie.map(x.bind(null, Y));
          });
          var D = new i(j);
          D.messages(d.messages), A.rule.options && (A.rule.options.messages = d.messages, A.rule.options.error = d.error), D.validate(A.value, A.rule.options || d, function(Y) {
            var z = [];
            ie && ie.length && z.push.apply(z, ie), Y && Y.length && z.push.apply(z, Y), w(z.length ? z : null);
          });
        }
      }
      var k;
      if (S.asyncValidator)
        k = S.asyncValidator(S, A.value, L, A.source, d);
      else if (S.validator) {
        try {
          k = S.validator(S, A.value, L, A.source, d);
        } catch (M) {
          console.error == null || console.error(M), d.suppressValidatorError || setTimeout(function() {
            throw M;
          }, 0), L(M.message);
        }
        k === !0 ? L() : k === !1 ? L(typeof S.message == "function" ? S.message(S.fullField || S.field) : S.message || (S.fullField || S.field) + " fails") : k instanceof Array ? L(k) : k instanceof Error && L(k.message);
      }
      k && k.then && k.then(function() {
        return L();
      }, function(M) {
        return L(M);
      });
    }, function(A) {
      y(A);
    }, f);
  }, n.getType = function(o) {
    if (o.type === void 0 && o.pattern instanceof RegExp && (o.type = "pattern"), typeof o.validator != "function" && o.type && !validators.hasOwnProperty(o.type))
      throw new Error(format("Unknown rule type %s", o.type));
    return o.type || "string";
  }, n.getValidationMethod = function(o) {
    if (typeof o.validator == "function")
      return o.validator;
    var a = Object.keys(o), u = a.indexOf("message");
    return u !== -1 && a.splice(u, 1), a.length === 1 && a[0] === "required" ? validators.required : validators[this.getType(o)] || void 0;
  }, i;
}();
Schema.register = function i(n, r) {
  if (typeof r != "function")
    throw new Error("Cannot register a validator by type, validator is not a function");
  validators[n] = r;
};
Schema.warning = warning;
Schema.messages = messages;
Schema.validators = validators;
const formItemValidateStates = [
  "",
  "error",
  "validating",
  "success"
], formItemProps = buildProps({
  label: String,
  labelWidth: {
    type: [String, Number],
    default: ""
  },
  prop: {
    type: definePropType([String, Array])
  },
  required: {
    type: Boolean,
    default: void 0
  },
  rules: {
    type: definePropType([Object, Array])
  },
  error: String,
  validateStatus: {
    type: String,
    values: formItemValidateStates
  },
  for: String,
  inlineMessage: {
    type: [String, Boolean],
    default: ""
  },
  showMessage: {
    type: Boolean,
    default: !0
  },
  size: {
    type: String,
    values: componentSizes
  }
}), COMPONENT_NAME$3 = "ElLabelWrap";
var FormLabelWrap = defineComponent({
  name: COMPONENT_NAME$3,
  props: {
    isAutoWidth: Boolean,
    updateAll: Boolean
  },
  setup(i, {
    slots: n
  }) {
    const r = inject(formContextKey, void 0), o = inject(formItemContextKey);
    o || throwError(COMPONENT_NAME$3, "usage: <el-form-item><label-wrap /></el-form-item>");
    const a = useNamespace("form"), u = ref(), c = ref(0), f = () => {
      var y;
      if ((y = u.value) != null && y.firstElementChild) {
        const v = window.getComputedStyle(u.value.firstElementChild).width;
        return Math.ceil(Number.parseFloat(v));
      } else
        return 0;
    }, d = (y = "update") => {
      nextTick(() => {
        n.default && i.isAutoWidth && (y === "update" ? c.value = f() : y === "remove" && (r == null || r.deregisterLabelWidth(c.value)));
      });
    }, p = () => d("update");
    return onMounted(() => {
      p();
    }), onBeforeUnmount(() => {
      d("remove");
    }), onUpdated(() => p()), watch(c, (y, v) => {
      i.updateAll && (r == null || r.registerLabelWidth(y, v));
    }), useResizeObserver(computed(() => {
      var y, v;
      return (v = (y = u.value) == null ? void 0 : y.firstElementChild) != null ? v : null;
    }), p), () => {
      var y, v;
      if (!n)
        return null;
      const {
        isAutoWidth: g
      } = i;
      if (g) {
        const _ = r == null ? void 0 : r.autoLabelWidth, b = o == null ? void 0 : o.hasLabel, A = {};
        if (b && _ && _ !== "auto") {
          const w = Math.max(0, Number.parseInt(_, 10) - c.value), S = r.labelPosition === "left" ? "marginRight" : "marginLeft";
          w && (A[S] = `${w}px`);
        }
        return createVNode$1("div", {
          ref: u,
          class: [a.be("item", "label-wrap")],
          style: A
        }, [(y = n.default) == null ? void 0 : y.call(n)]);
      } else
        return createVNode$1(Fragment, {
          ref: u
        }, [(v = n.default) == null ? void 0 : v.call(n)]);
    };
  }
});
const _hoisted_1$8 = ["role", "aria-labelledby"], __default__$a = defineComponent({
  name: "ElFormItem"
}), _sfc_main$p = /* @__PURE__ */ defineComponent({
  ...__default__$a,
  props: formItemProps,
  setup(i, { expose: n }) {
    const r = i, o = useSlots(), a = inject(formContextKey, void 0), u = inject(formItemContextKey, void 0), c = useFormSize(void 0, { formItem: !1 }), f = useNamespace("form-item"), d = useId().value, p = ref([]), y = ref(""), v = refDebounced(y, 100), g = ref(""), _ = ref();
    let b, A = !1;
    const w = computed(() => {
      if ((a == null ? void 0 : a.labelPosition) === "top")
        return {};
      const Lt = addUnit(r.labelWidth || (a == null ? void 0 : a.labelWidth) || "");
      return Lt ? { width: Lt } : {};
    }), S = computed(() => {
      if ((a == null ? void 0 : a.labelPosition) === "top" || a != null && a.inline)
        return {};
      if (!r.label && !r.labelWidth && F)
        return {};
      const Lt = addUnit(r.labelWidth || (a == null ? void 0 : a.labelWidth) || "");
      return !r.label && !o.label ? { marginLeft: Lt } : {};
    }), T = computed(() => [
      f.b(),
      f.m(c.value),
      f.is("error", y.value === "error"),
      f.is("validating", y.value === "validating"),
      f.is("success", y.value === "success"),
      f.is("required", Ie.value || r.required),
      f.is("no-asterisk", a == null ? void 0 : a.hideRequiredAsterisk),
      (a == null ? void 0 : a.requireAsteriskPosition) === "right" ? "asterisk-right" : "asterisk-left",
      { [f.m("feedback")]: a == null ? void 0 : a.statusIcon }
    ]), x = computed(() => isBoolean(r.inlineMessage) ? r.inlineMessage : (a == null ? void 0 : a.inlineMessage) || !1), L = computed(() => [
      f.e("error"),
      { [f.em("error", "inline")]: x.value }
    ]), k = computed(() => r.prop ? isString(r.prop) ? r.prop : r.prop.join(".") : ""), M = computed(() => !!(r.label || o.label)), O = computed(() => r.for || p.value.length === 1 ? p.value[0] : void 0), ie = computed(() => !O.value && M.value), F = !!u, j = computed(() => {
      const Lt = a == null ? void 0 : a.model;
      if (!(!Lt || !r.prop))
        return getProp(Lt, r.prop).value;
    }), D = computed(() => {
      const { required: Lt } = r, Cn = [];
      r.rules && Cn.push(...castArray(r.rules));
      const ze = a == null ? void 0 : a.rules;
      if (ze && r.prop) {
        const _e = getProp(ze, r.prop).value;
        _e && Cn.push(...castArray(_e));
      }
      if (Lt !== void 0) {
        const _e = Cn.map((de, Et) => [de, Et]).filter(([de]) => Object.keys(de).includes("required"));
        if (_e.length > 0)
          for (const [de, Et] of _e)
            de.required !== Lt && (Cn[Et] = { ...de, required: Lt });
        else
          Cn.push({ required: Lt });
      }
      return Cn;
    }), Y = computed(() => D.value.length > 0), z = (Lt) => D.value.filter((ze) => !ze.trigger || !Lt ? !0 : Array.isArray(ze.trigger) ? ze.trigger.includes(Lt) : ze.trigger === Lt).map(({ trigger: ze, ..._e }) => _e), Ie = computed(() => D.value.some((Lt) => Lt.required)), ue = computed(() => {
      var Lt;
      return v.value === "error" && r.showMessage && ((Lt = a == null ? void 0 : a.showMessage) != null ? Lt : !0);
    }), Ce = computed(() => `${r.label || ""}${(a == null ? void 0 : a.labelSuffix) || ""}`), pe = (Lt) => {
      y.value = Lt;
    }, Ne = (Lt) => {
      var Cn, ze;
      const { errors: _e, fields: de } = Lt;
      (!_e || !de) && console.error(Lt), pe("error"), g.value = _e ? (ze = (Cn = _e == null ? void 0 : _e[0]) == null ? void 0 : Cn.message) != null ? ze : `${r.prop} is required` : "", a == null || a.emit("validate", r.prop, !1, g.value);
    }, xe = () => {
      pe("success"), a == null || a.emit("validate", r.prop, !0, "");
    }, hn = async (Lt) => {
      const Cn = k.value;
      return new Schema({
        [Cn]: Lt
      }).validate({ [Cn]: j.value }, { firstFields: !0 }).then(() => (xe(), !0)).catch((_e) => (Ne(_e), Promise.reject(_e)));
    }, Pt = async (Lt, Cn) => {
      if (A || !r.prop)
        return !1;
      const ze = isFunction(Cn);
      if (!Y.value)
        return Cn == null || Cn(!1), !1;
      const _e = z(Lt);
      return _e.length === 0 ? (Cn == null || Cn(!0), !0) : (pe("validating"), hn(_e).then(() => (Cn == null || Cn(!0), !0)).catch((de) => {
        const { fields: Et } = de;
        return Cn == null || Cn(!1, Et), ze ? !1 : Promise.reject(Et);
      }));
    }, _n = () => {
      pe(""), g.value = "", A = !1;
    }, In = async () => {
      const Lt = a == null ? void 0 : a.model;
      if (!Lt || !r.prop)
        return;
      const Cn = getProp(Lt, r.prop);
      A = !0, Cn.value = clone$3(b), await nextTick(), _n(), A = !1;
    }, Dt = (Lt) => {
      p.value.includes(Lt) || p.value.push(Lt);
    }, he = (Lt) => {
      p.value = p.value.filter((Cn) => Cn !== Lt);
    };
    watch(() => r.error, (Lt) => {
      g.value = Lt || "", pe(Lt ? "error" : "");
    }, { immediate: !0 }), watch(() => r.validateStatus, (Lt) => pe(Lt || ""));
    const At = reactive({
      ...toRefs(r),
      $el: _,
      size: c,
      validateState: y,
      labelId: d,
      inputIds: p,
      isGroup: ie,
      hasLabel: M,
      addInputId: Dt,
      removeInputId: he,
      resetField: In,
      clearValidate: _n,
      validate: Pt
    });
    return provide(formItemContextKey, At), onMounted(() => {
      r.prop && (a == null || a.addField(At), b = clone$3(j.value));
    }), onBeforeUnmount(() => {
      a == null || a.removeField(At);
    }), n({
      size: c,
      validateMessage: g,
      validateState: y,
      validate: Pt,
      clearValidate: _n,
      resetField: In
    }), (Lt, Cn) => {
      var ze;
      return openBlock(), createElementBlock("div", {
        ref_key: "formItemRef",
        ref: _,
        class: normalizeClass(unref(T)),
        role: unref(ie) ? "group" : void 0,
        "aria-labelledby": unref(ie) ? unref(d) : void 0
      }, [
        createVNode$1(unref(FormLabelWrap), {
          "is-auto-width": unref(w).width === "auto",
          "update-all": ((ze = unref(a)) == null ? void 0 : ze.labelWidth) === "auto"
        }, {
          default: withCtx(() => [
            unref(M) ? (openBlock(), createBlock(resolveDynamicComponent(unref(O) ? "label" : "div"), {
              key: 0,
              id: unref(d),
              for: unref(O),
              class: normalizeClass(unref(f).e("label")),
              style: normalizeStyle$1(unref(w))
            }, {
              default: withCtx(() => [
                renderSlot(Lt.$slots, "label", { label: unref(Ce) }, () => [
                  createTextVNode(toDisplayString(unref(Ce)), 1)
                ])
              ]),
              _: 3
            }, 8, ["id", "for", "class", "style"])) : createCommentVNode("v-if", !0)
          ]),
          _: 3
        }, 8, ["is-auto-width", "update-all"]),
        createElementVNode("div", {
          class: normalizeClass(unref(f).e("content")),
          style: normalizeStyle$1(unref(S))
        }, [
          renderSlot(Lt.$slots, "default"),
          createVNode$1(TransitionGroup, {
            name: `${unref(f).namespace.value}-zoom-in-top`
          }, {
            default: withCtx(() => [
              unref(ue) ? renderSlot(Lt.$slots, "error", {
                key: 0,
                error: g.value
              }, () => [
                createElementVNode("div", {
                  class: normalizeClass(unref(L))
                }, toDisplayString(g.value), 3)
              ]) : createCommentVNode("v-if", !0)
            ]),
            _: 3
          }, 8, ["name"])
        ], 6)
      ], 10, _hoisted_1$8);
    };
  }
});
var FormItem = /* @__PURE__ */ _export_sfc(_sfc_main$p, [["__file", "/home/runner/work/element-plus/element-plus/packages/components/form/src/form-item.vue"]]);
withInstall(Form, {
  FormItem
});
const ElFormItem = withNoopInstall(FormItem);
let hiddenTextarea;
const HIDDEN_STYLE = `
  height:0 !important;
  visibility:hidden !important;
  ${isFirefox() ? "" : "overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`, CONTEXT_STYLE = [
  "letter-spacing",
  "line-height",
  "padding-top",
  "padding-bottom",
  "font-family",
  "font-weight",
  "font-size",
  "text-rendering",
  "text-transform",
  "width",
  "text-indent",
  "padding-left",
  "padding-right",
  "border-width",
  "box-sizing"
];
function calculateNodeStyling(i) {
  const n = window.getComputedStyle(i), r = n.getPropertyValue("box-sizing"), o = Number.parseFloat(n.getPropertyValue("padding-bottom")) + Number.parseFloat(n.getPropertyValue("padding-top")), a = Number.parseFloat(n.getPropertyValue("border-bottom-width")) + Number.parseFloat(n.getPropertyValue("border-top-width"));
  return { contextStyle: CONTEXT_STYLE.map((c) => `${c}:${n.getPropertyValue(c)}`).join(";"), paddingSize: o, borderSize: a, boxSizing: r };
}
function calcTextareaHeight(i, n = 1, r) {
  var o;
  hiddenTextarea || (hiddenTextarea = document.createElement("textarea"), document.body.appendChild(hiddenTextarea));
  const { paddingSize: a, borderSize: u, boxSizing: c, contextStyle: f } = calculateNodeStyling(i);
  hiddenTextarea.setAttribute("style", `${f};${HIDDEN_STYLE}`), hiddenTextarea.value = i.value || i.placeholder || "";
  let d = hiddenTextarea.scrollHeight;
  const p = {};
  c === "border-box" ? d = d + u : c === "content-box" && (d = d - a), hiddenTextarea.value = "";
  const y = hiddenTextarea.scrollHeight - a;
  if (isNumber(n)) {
    let v = y * n;
    c === "border-box" && (v = v + a + u), d = Math.max(v, d), p.minHeight = `${v}px`;
  }
  if (isNumber(r)) {
    let v = y * r;
    c === "border-box" && (v = v + a + u), d = Math.min(v, d);
  }
  return p.height = `${d}px`, (o = hiddenTextarea.parentNode) == null || o.removeChild(hiddenTextarea), hiddenTextarea = void 0, p;
}
const inputProps = buildProps({
  id: {
    type: String,
    default: void 0
  },
  size: useSizeProp,
  disabled: Boolean,
  modelValue: {
    type: definePropType([
      String,
      Number,
      Object
    ]),
    default: ""
  },
  type: {
    type: String,
    default: "text"
  },
  resize: {
    type: String,
    values: ["none", "both", "horizontal", "vertical"]
  },
  autosize: {
    type: definePropType([Boolean, Object]),
    default: !1
  },
  autocomplete: {
    type: String,
    default: "off"
  },
  formatter: {
    type: Function
  },
  parser: {
    type: Function
  },
  placeholder: {
    type: String
  },
  form: {
    type: String
  },
  readonly: {
    type: Boolean,
    default: !1
  },
  clearable: {
    type: Boolean,
    default: !1
  },
  showPassword: {
    type: Boolean,
    default: !1
  },
  showWordLimit: {
    type: Boolean,
    default: !1
  },
  suffixIcon: {
    type: iconPropType
  },
  prefixIcon: {
    type: iconPropType
  },
  containerRole: {
    type: String,
    default: void 0
  },
  label: {
    type: String,
    default: void 0
  },
  tabindex: {
    type: [String, Number],
    default: 0
  },
  validateEvent: {
    type: Boolean,
    default: !0
  },
  inputStyle: {
    type: definePropType([Object, Array, String]),
    default: () => mutable({})
  }
}), inputEmits = {
  [UPDATE_MODEL_EVENT]: (i) => isString(i),
  input: (i) => isString(i),
  change: (i) => isString(i),
  focus: (i) => i instanceof FocusEvent,
  blur: (i) => i instanceof FocusEvent,
  clear: () => !0,
  mouseleave: (i) => i instanceof MouseEvent,
  mouseenter: (i) => i instanceof MouseEvent,
  keydown: (i) => i instanceof Event,
  compositionstart: (i) => i instanceof CompositionEvent,
  compositionupdate: (i) => i instanceof CompositionEvent,
  compositionend: (i) => i instanceof CompositionEvent
}, _hoisted_1$7 = ["role"], _hoisted_2$5 = ["id", "type", "disabled", "formatter", "parser", "readonly", "autocomplete", "tabindex", "aria-label", "placeholder", "form"], _hoisted_3$4 = ["id", "tabindex", "disabled", "readonly", "autocomplete", "aria-label", "placeholder", "form"], __default__$9 = defineComponent({
  name: "ElInput",
  inheritAttrs: !1
}), _sfc_main$o = /* @__PURE__ */ defineComponent({
  ...__default__$9,
  props: inputProps,
  emits: inputEmits,
  setup(i, { expose: n, emit: r }) {
    const o = i, a = useAttrs$1(), u = useSlots(), c = computed(() => {
      const Ue = {};
      return o.containerRole === "combobox" && (Ue["aria-haspopup"] = a["aria-haspopup"], Ue["aria-owns"] = a["aria-owns"], Ue["aria-expanded"] = a["aria-expanded"]), Ue;
    }), f = computed(() => [
      o.type === "textarea" ? w.b() : A.b(),
      A.m(_.value),
      A.is("disabled", b.value),
      A.is("exceed", Dt.value),
      {
        [A.b("group")]: u.prepend || u.append,
        [A.bm("group", "append")]: u.append,
        [A.bm("group", "prepend")]: u.prepend,
        [A.m("prefix")]: u.prefix || o.prefixIcon,
        [A.m("suffix")]: u.suffix || o.suffixIcon || o.clearable || o.showPassword,
        [A.bm("suffix", "password-clear")]: hn.value && Pt.value
      },
      a.class
    ]), d = computed(() => [
      A.e("wrapper"),
      A.is("focus", j.value)
    ]), p = useAttrs({
      excludeKeys: computed(() => Object.keys(c.value))
    }), { form: y, formItem: v } = useFormItem(), { inputId: g } = useFormItemInputId(o, {
      formItemContext: v
    }), _ = useFormSize(), b = useFormDisabled(), A = useNamespace("input"), w = useNamespace("textarea"), S = shallowRef(), T = shallowRef(), x = ref(!1), L = ref(!1), k = ref(!1), M = ref(), O = shallowRef(o.inputStyle), ie = computed(() => S.value || T.value), { wrapperRef: F, isFocused: j, handleFocus: D, handleBlur: Y } = useFocusController(ie, {
      afterBlur() {
        var Ue;
        o.validateEvent && ((Ue = v == null ? void 0 : v.validate) == null || Ue.call(v, "blur").catch((vn) => debugWarn(vn)));
      }
    }), z = computed(() => {
      var Ue;
      return (Ue = y == null ? void 0 : y.statusIcon) != null ? Ue : !1;
    }), Ie = computed(() => (v == null ? void 0 : v.validateState) || ""), ue = computed(() => Ie.value && ValidateComponentsMap[Ie.value]), Ce = computed(() => k.value ? view_default : hide_default), pe = computed(() => [
      a.style,
      o.inputStyle
    ]), Ne = computed(() => [
      o.inputStyle,
      O.value,
      { resize: o.resize }
    ]), xe = computed(() => isNil(o.modelValue) ? "" : String(o.modelValue)), hn = computed(() => o.clearable && !b.value && !o.readonly && !!xe.value && (j.value || x.value)), Pt = computed(() => o.showPassword && !b.value && !o.readonly && !!xe.value && (!!xe.value || j.value)), _n = computed(() => o.showWordLimit && !!p.value.maxlength && (o.type === "text" || o.type === "textarea") && !b.value && !o.readonly && !o.showPassword), In = computed(() => xe.value.length), Dt = computed(() => !!_n.value && In.value > Number(p.value.maxlength)), he = computed(() => !!u.suffix || !!o.suffixIcon || hn.value || o.showPassword || _n.value || !!Ie.value && z.value), [At, Lt] = useCursor(S);
    useResizeObserver(T, (Ue) => {
      if (_e(), !_n.value || o.resize !== "both")
        return;
      const vn = Ue[0], { width: wn } = vn.contentRect;
      M.value = {
        right: `calc(100% - ${wn + 15 + 6}px)`
      };
    });
    const Cn = () => {
      const { type: Ue, autosize: vn } = o;
      if (!(!isClient || Ue !== "textarea" || !T.value))
        if (vn) {
          const wn = isObject(vn) ? vn.minRows : void 0, xn = isObject(vn) ? vn.maxRows : void 0, Bn = calcTextareaHeight(T.value, wn, xn);
          O.value = {
            overflowY: "hidden",
            ...Bn
          }, nextTick(() => {
            T.value.offsetHeight, O.value = Bn;
          });
        } else
          O.value = {
            minHeight: calcTextareaHeight(T.value).minHeight
          };
    }, _e = ((Ue) => {
      let vn = !1;
      return () => {
        var wn;
        if (vn || !o.autosize)
          return;
        ((wn = T.value) == null ? void 0 : wn.offsetParent) === null || (Ue(), vn = !0);
      };
    })(Cn), de = () => {
      const Ue = ie.value, vn = o.formatter ? o.formatter(xe.value) : xe.value;
      !Ue || Ue.value === vn || (Ue.value = vn);
    }, Et = async (Ue) => {
      At();
      let { value: vn } = Ue.target;
      if (o.formatter && (vn = o.parser ? o.parser(vn) : vn), !L.value) {
        if (vn === xe.value) {
          de();
          return;
        }
        r(UPDATE_MODEL_EVENT, vn), r("input", vn), await nextTick(), de(), Lt();
      }
    }, Ve = (Ue) => {
      r("change", Ue.target.value);
    }, $e = (Ue) => {
      r("compositionstart", Ue), L.value = !0;
    }, kt = (Ue) => {
      var vn;
      r("compositionupdate", Ue);
      const wn = (vn = Ue.target) == null ? void 0 : vn.value, xn = wn[wn.length - 1] || "";
      L.value = !isKorean(xn);
    }, jt = (Ue) => {
      r("compositionend", Ue), L.value && (L.value = !1, Et(Ue));
    }, bn = () => {
      k.value = !k.value, oe();
    }, oe = async () => {
      var Ue;
      await nextTick(), (Ue = ie.value) == null || Ue.focus();
    }, ae = () => {
      var Ue;
      return (Ue = ie.value) == null ? void 0 : Ue.blur();
    }, re = (Ue) => {
      x.value = !1, r("mouseleave", Ue);
    }, V = (Ue) => {
      x.value = !0, r("mouseenter", Ue);
    }, $ = (Ue) => {
      r("keydown", Ue);
    }, le = () => {
      var Ue;
      (Ue = ie.value) == null || Ue.select();
    }, Oe = () => {
      r(UPDATE_MODEL_EVENT, ""), r("change", ""), r("clear"), r("input", "");
    };
    return watch(() => o.modelValue, () => {
      var Ue;
      nextTick(() => Cn()), o.validateEvent && ((Ue = v == null ? void 0 : v.validate) == null || Ue.call(v, "change").catch((vn) => debugWarn(vn)));
    }), watch(xe, () => de()), watch(() => o.type, async () => {
      await nextTick(), de(), Cn();
    }), onMounted(() => {
      !o.formatter && o.parser && debugWarn("ElInput", "If you set the parser, you also need to set the formatter."), de(), nextTick(Cn);
    }), n({
      input: S,
      textarea: T,
      ref: ie,
      textareaStyle: Ne,
      autosize: toRef(o, "autosize"),
      focus: oe,
      blur: ae,
      select: le,
      clear: Oe,
      resizeTextarea: Cn
    }), (Ue, vn) => withDirectives((openBlock(), createElementBlock("div", mergeProps(unref(c), {
      class: unref(f),
      style: unref(pe),
      role: Ue.containerRole,
      onMouseenter: V,
      onMouseleave: re
    }), [
      createCommentVNode(" input "),
      Ue.type !== "textarea" ? (openBlock(), createElementBlock(Fragment, { key: 0 }, [
        createCommentVNode(" prepend slot "),
        Ue.$slots.prepend ? (openBlock(), createElementBlock("div", {
          key: 0,
          class: normalizeClass(unref(A).be("group", "prepend"))
        }, [
          renderSlot(Ue.$slots, "prepend")
        ], 2)) : createCommentVNode("v-if", !0),
        createElementVNode("div", {
          ref_key: "wrapperRef",
          ref: F,
          class: normalizeClass(unref(d))
        }, [
          createCommentVNode(" prefix slot "),
          Ue.$slots.prefix || Ue.prefixIcon ? (openBlock(), createElementBlock("span", {
            key: 0,
            class: normalizeClass(unref(A).e("prefix"))
          }, [
            createElementVNode("span", {
              class: normalizeClass(unref(A).e("prefix-inner"))
            }, [
              renderSlot(Ue.$slots, "prefix"),
              Ue.prefixIcon ? (openBlock(), createBlock(unref(ElIcon), {
                key: 0,
                class: normalizeClass(unref(A).e("icon"))
              }, {
                default: withCtx(() => [
                  (openBlock(), createBlock(resolveDynamicComponent(Ue.prefixIcon)))
                ]),
                _: 1
              }, 8, ["class"])) : createCommentVNode("v-if", !0)
            ], 2)
          ], 2)) : createCommentVNode("v-if", !0),
          createElementVNode("input", mergeProps({
            id: unref(g),
            ref_key: "input",
            ref: S,
            class: unref(A).e("inner")
          }, unref(p), {
            type: Ue.showPassword ? k.value ? "text" : "password" : Ue.type,
            disabled: unref(b),
            formatter: Ue.formatter,
            parser: Ue.parser,
            readonly: Ue.readonly,
            autocomplete: Ue.autocomplete,
            tabindex: Ue.tabindex,
            "aria-label": Ue.label,
            placeholder: Ue.placeholder,
            style: Ue.inputStyle,
            form: o.form,
            onCompositionstart: $e,
            onCompositionupdate: kt,
            onCompositionend: jt,
            onInput: Et,
            onFocus: vn[0] || (vn[0] = (...wn) => unref(D) && unref(D)(...wn)),
            onBlur: vn[1] || (vn[1] = (...wn) => unref(Y) && unref(Y)(...wn)),
            onChange: Ve,
            onKeydown: $
          }), null, 16, _hoisted_2$5),
          createCommentVNode(" suffix slot "),
          unref(he) ? (openBlock(), createElementBlock("span", {
            key: 1,
            class: normalizeClass(unref(A).e("suffix"))
          }, [
            createElementVNode("span", {
              class: normalizeClass(unref(A).e("suffix-inner"))
            }, [
              !unref(hn) || !unref(Pt) || !unref(_n) ? (openBlock(), createElementBlock(Fragment, { key: 0 }, [
                renderSlot(Ue.$slots, "suffix"),
                Ue.suffixIcon ? (openBlock(), createBlock(unref(ElIcon), {
                  key: 0,
                  class: normalizeClass(unref(A).e("icon"))
                }, {
                  default: withCtx(() => [
                    (openBlock(), createBlock(resolveDynamicComponent(Ue.suffixIcon)))
                  ]),
                  _: 1
                }, 8, ["class"])) : createCommentVNode("v-if", !0)
              ], 64)) : createCommentVNode("v-if", !0),
              unref(hn) ? (openBlock(), createBlock(unref(ElIcon), {
                key: 1,
                class: normalizeClass([unref(A).e("icon"), unref(A).e("clear")]),
                onMousedown: withModifiers(unref(NOOP), ["prevent"]),
                onClick: Oe
              }, {
                default: withCtx(() => [
                  createVNode$1(unref(circle_close_default))
                ]),
                _: 1
              }, 8, ["class", "onMousedown"])) : createCommentVNode("v-if", !0),
              unref(Pt) ? (openBlock(), createBlock(unref(ElIcon), {
                key: 2,
                class: normalizeClass([unref(A).e("icon"), unref(A).e("password")]),
                onClick: bn
              }, {
                default: withCtx(() => [
                  (openBlock(), createBlock(resolveDynamicComponent(unref(Ce))))
                ]),
                _: 1
              }, 8, ["class"])) : createCommentVNode("v-if", !0),
              unref(_n) ? (openBlock(), createElementBlock("span", {
                key: 3,
                class: normalizeClass(unref(A).e("count"))
              }, [
                createElementVNode("span", {
                  class: normalizeClass(unref(A).e("count-inner"))
                }, toDisplayString(unref(In)) + " / " + toDisplayString(unref(p).maxlength), 3)
              ], 2)) : createCommentVNode("v-if", !0),
              unref(Ie) && unref(ue) && unref(z) ? (openBlock(), createBlock(unref(ElIcon), {
                key: 4,
                class: normalizeClass([
                  unref(A).e("icon"),
                  unref(A).e("validateIcon"),
                  unref(A).is("loading", unref(Ie) === "validating")
                ])
              }, {
                default: withCtx(() => [
                  (openBlock(), createBlock(resolveDynamicComponent(unref(ue))))
                ]),
                _: 1
              }, 8, ["class"])) : createCommentVNode("v-if", !0)
            ], 2)
          ], 2)) : createCommentVNode("v-if", !0)
        ], 2),
        createCommentVNode(" append slot "),
        Ue.$slots.append ? (openBlock(), createElementBlock("div", {
          key: 1,
          class: normalizeClass(unref(A).be("group", "append"))
        }, [
          renderSlot(Ue.$slots, "append")
        ], 2)) : createCommentVNode("v-if", !0)
      ], 64)) : (openBlock(), createElementBlock(Fragment, { key: 1 }, [
        createCommentVNode(" textarea "),
        createElementVNode("textarea", mergeProps({
          id: unref(g),
          ref_key: "textarea",
          ref: T,
          class: unref(w).e("inner")
        }, unref(p), {
          tabindex: Ue.tabindex,
          disabled: unref(b),
          readonly: Ue.readonly,
          autocomplete: Ue.autocomplete,
          style: unref(Ne),
          "aria-label": Ue.label,
          placeholder: Ue.placeholder,
          form: o.form,
          onCompositionstart: $e,
          onCompositionupdate: kt,
          onCompositionend: jt,
          onInput: Et,
          onFocus: vn[2] || (vn[2] = (...wn) => unref(D) && unref(D)(...wn)),
          onBlur: vn[3] || (vn[3] = (...wn) => unref(Y) && unref(Y)(...wn)),
          onChange: Ve,
          onKeydown: $
        }), null, 16, _hoisted_3$4),
        unref(_n) ? (openBlock(), createElementBlock("span", {
          key: 0,
          style: normalizeStyle$1(M.value),
          class: normalizeClass(unref(A).e("count"))
        }, toDisplayString(unref(In)) + " / " + toDisplayString(unref(p).maxlength), 7)) : createCommentVNode("v-if", !0)
      ], 64))
    ], 16, _hoisted_1$7)), [
      [vShow, Ue.type !== "hidden"]
    ]);
  }
});
var Input = /* @__PURE__ */ _export_sfc(_sfc_main$o, [["__file", "/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue"]]);
const ElInput = withInstall(Input), GAP = 4, BAR_MAP = {
  vertical: {
    offset: "offsetHeight",
    scroll: "scrollTop",
    scrollSize: "scrollHeight",
    size: "height",
    key: "vertical",
    axis: "Y",
    client: "clientY",
    direction: "top"
  },
  horizontal: {
    offset: "offsetWidth",
    scroll: "scrollLeft",
    scrollSize: "scrollWidth",
    size: "width",
    key: "horizontal",
    axis: "X",
    client: "clientX",
    direction: "left"
  }
}, renderThumbStyle = ({
  move: i,
  size: n,
  bar: r
}) => ({
  [r.size]: n,
  transform: `translate${r.axis}(${i}%)`
}), scrollbarContextKey = Symbol("scrollbarContextKey"), thumbProps = buildProps({
  vertical: Boolean,
  size: String,
  move: Number,
  ratio: {
    type: Number,
    required: !0
  },
  always: Boolean
}), COMPONENT_NAME$2 = "Thumb", _sfc_main$n = /* @__PURE__ */ defineComponent({
  __name: "thumb",
  props: thumbProps,
  setup(i) {
    const n = i, r = inject(scrollbarContextKey), o = useNamespace("scrollbar");
    r || throwError(COMPONENT_NAME$2, "can not inject scrollbar context");
    const a = ref(), u = ref(), c = ref({}), f = ref(!1);
    let d = !1, p = !1, y = isClient ? document.onselectstart : null;
    const v = computed(() => BAR_MAP[n.vertical ? "vertical" : "horizontal"]), g = computed(() => renderThumbStyle({
      size: n.size,
      move: n.move,
      bar: v.value
    })), _ = computed(() => a.value[v.value.offset] ** 2 / r.wrapElement[v.value.scrollSize] / n.ratio / u.value[v.value.offset]), b = (M) => {
      var O;
      if (M.stopPropagation(), M.ctrlKey || [1, 2].includes(M.button))
        return;
      (O = window.getSelection()) == null || O.removeAllRanges(), w(M);
      const ie = M.currentTarget;
      ie && (c.value[v.value.axis] = ie[v.value.offset] - (M[v.value.client] - ie.getBoundingClientRect()[v.value.direction]));
    }, A = (M) => {
      if (!u.value || !a.value || !r.wrapElement)
        return;
      const O = Math.abs(M.target.getBoundingClientRect()[v.value.direction] - M[v.value.client]), ie = u.value[v.value.offset] / 2, F = (O - ie) * 100 * _.value / a.value[v.value.offset];
      r.wrapElement[v.value.scroll] = F * r.wrapElement[v.value.scrollSize] / 100;
    }, w = (M) => {
      M.stopImmediatePropagation(), d = !0, document.addEventListener("mousemove", S), document.addEventListener("mouseup", T), y = document.onselectstart, document.onselectstart = () => !1;
    }, S = (M) => {
      if (!a.value || !u.value || d === !1)
        return;
      const O = c.value[v.value.axis];
      if (!O)
        return;
      const ie = (a.value.getBoundingClientRect()[v.value.direction] - M[v.value.client]) * -1, F = u.value[v.value.offset] - O, j = (ie - F) * 100 * _.value / a.value[v.value.offset];
      r.wrapElement[v.value.scroll] = j * r.wrapElement[v.value.scrollSize] / 100;
    }, T = () => {
      d = !1, c.value[v.value.axis] = 0, document.removeEventListener("mousemove", S), document.removeEventListener("mouseup", T), k(), p && (f.value = !1);
    }, x = () => {
      p = !1, f.value = !!n.size;
    }, L = () => {
      p = !0, f.value = d;
    };
    onBeforeUnmount(() => {
      k(), document.removeEventListener("mouseup", T);
    });
    const k = () => {
      document.onselectstart !== y && (document.onselectstart = y);
    };
    return useEventListener(toRef(r, "scrollbarElement"), "mousemove", x), useEventListener(toRef(r, "scrollbarElement"), "mouseleave", L), (M, O) => (openBlock(), createBlock(Transition, {
      name: unref(o).b("fade"),
      persisted: ""
    }, {
      default: withCtx(() => [
        withDirectives(createElementVNode("div", {
          ref_key: "instance",
          ref: a,
          class: normalizeClass([unref(o).e("bar"), unref(o).is(unref(v).key)]),
          onMousedown: A
        }, [
          createElementVNode("div", {
            ref_key: "thumb",
            ref: u,
            class: normalizeClass(unref(o).e("thumb")),
            style: normalizeStyle$1(unref(g)),
            onMousedown: b
          }, null, 38)
        ], 34), [
          [vShow, M.always || f.value]
        ])
      ]),
      _: 1
    }, 8, ["name"]));
  }
});
var Thumb = /* @__PURE__ */ _export_sfc(_sfc_main$n, [["__file", "/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/thumb.vue"]]);
const barProps = buildProps({
  always: {
    type: Boolean,
    default: !0
  },
  width: String,
  height: String,
  ratioX: {
    type: Number,
    default: 1
  },
  ratioY: {
    type: Number,
    default: 1
  }
}), _sfc_main$m = /* @__PURE__ */ defineComponent({
  __name: "bar",
  props: barProps,
  setup(i, { expose: n }) {
    const r = i, o = ref(0), a = ref(0);
    return n({
      handleScroll: (c) => {
        if (c) {
          const f = c.offsetHeight - GAP, d = c.offsetWidth - GAP;
          a.value = c.scrollTop * 100 / f * r.ratioY, o.value = c.scrollLeft * 100 / d * r.ratioX;
        }
      }
    }), (c, f) => (openBlock(), createElementBlock(Fragment, null, [
      createVNode$1(Thumb, {
        move: o.value,
        ratio: c.ratioX,
        size: c.width,
        always: c.always
      }, null, 8, ["move", "ratio", "size", "always"]),
      createVNode$1(Thumb, {
        move: a.value,
        ratio: c.ratioY,
        size: c.height,
        vertical: "",
        always: c.always
      }, null, 8, ["move", "ratio", "size", "always"])
    ], 64));
  }
});
var Bar = /* @__PURE__ */ _export_sfc(_sfc_main$m, [["__file", "/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/bar.vue"]]);
const scrollbarProps = buildProps({
  height: {
    type: [String, Number],
    default: ""
  },
  maxHeight: {
    type: [String, Number],
    default: ""
  },
  native: {
    type: Boolean,
    default: !1
  },
  wrapStyle: {
    type: definePropType([String, Object, Array]),
    default: ""
  },
  wrapClass: {
    type: [String, Array],
    default: ""
  },
  viewClass: {
    type: [String, Array],
    default: ""
  },
  viewStyle: {
    type: [String, Array, Object],
    default: ""
  },
  noresize: Boolean,
  tag: {
    type: String,
    default: "div"
  },
  always: Boolean,
  minSize: {
    type: Number,
    default: 20
  }
}), scrollbarEmits = {
  scroll: ({
    scrollTop: i,
    scrollLeft: n
  }) => [i, n].every(isNumber)
}, COMPONENT_NAME$1 = "ElScrollbar", __default__$8 = defineComponent({
  name: COMPONENT_NAME$1
}), _sfc_main$l = /* @__PURE__ */ defineComponent({
  ...__default__$8,
  props: scrollbarProps,
  emits: scrollbarEmits,
  setup(i, { expose: n, emit: r }) {
    const o = i, a = useNamespace("scrollbar");
    let u, c;
    const f = ref(), d = ref(), p = ref(), y = ref("0"), v = ref("0"), g = ref(), _ = ref(1), b = ref(1), A = computed(() => {
      const O = {};
      return o.height && (O.height = addUnit(o.height)), o.maxHeight && (O.maxHeight = addUnit(o.maxHeight)), [o.wrapStyle, O];
    }), w = computed(() => [
      o.wrapClass,
      a.e("wrap"),
      { [a.em("wrap", "hidden-default")]: !o.native }
    ]), S = computed(() => [a.e("view"), o.viewClass]), T = () => {
      var O;
      d.value && ((O = g.value) == null || O.handleScroll(d.value), r("scroll", {
        scrollTop: d.value.scrollTop,
        scrollLeft: d.value.scrollLeft
      }));
    };
    function x(O, ie) {
      isObject(O) ? d.value.scrollTo(O) : isNumber(O) && isNumber(ie) && d.value.scrollTo(O, ie);
    }
    const L = (O) => {
      if (!isNumber(O)) {
        debugWarn(COMPONENT_NAME$1, "value must be a number");
        return;
      }
      d.value.scrollTop = O;
    }, k = (O) => {
      if (!isNumber(O)) {
        debugWarn(COMPONENT_NAME$1, "value must be a number");
        return;
      }
      d.value.scrollLeft = O;
    }, M = () => {
      if (!d.value)
        return;
      const O = d.value.offsetHeight - GAP, ie = d.value.offsetWidth - GAP, F = O ** 2 / d.value.scrollHeight, j = ie ** 2 / d.value.scrollWidth, D = Math.max(F, o.minSize), Y = Math.max(j, o.minSize);
      _.value = F / (O - F) / (D / (O - D)), b.value = j / (ie - j) / (Y / (ie - Y)), v.value = D + GAP < O ? `${D}px` : "", y.value = Y + GAP < ie ? `${Y}px` : "";
    };
    return watch(() => o.noresize, (O) => {
      O ? (u == null || u(), c == null || c()) : ({ stop: u } = useResizeObserver(p, M), c = useEventListener("resize", M));
    }, { immediate: !0 }), watch(() => [o.maxHeight, o.height], () => {
      o.native || nextTick(() => {
        var O;
        M(), d.value && ((O = g.value) == null || O.handleScroll(d.value));
      });
    }), provide(scrollbarContextKey, reactive({
      scrollbarElement: f,
      wrapElement: d
    })), onMounted(() => {
      o.native || nextTick(() => {
        M();
      });
    }), onUpdated(() => M()), n({
      wrapRef: d,
      update: M,
      scrollTo: x,
      setScrollTop: L,
      setScrollLeft: k,
      handleScroll: T
    }), (O, ie) => (openBlock(), createElementBlock("div", {
      ref_key: "scrollbarRef",
      ref: f,
      class: normalizeClass(unref(a).b())
    }, [
      createElementVNode("div", {
        ref_key: "wrapRef",
        ref: d,
        class: normalizeClass(unref(w)),
        style: normalizeStyle$1(unref(A)),
        onScroll: T
      }, [
        (openBlock(), createBlock(resolveDynamicComponent(O.tag), {
          ref_key: "resizeRef",
          ref: p,
          class: normalizeClass(unref(S)),
          style: normalizeStyle$1(O.viewStyle)
        }, {
          default: withCtx(() => [
            renderSlot(O.$slots, "default")
          ]),
          _: 3
        }, 8, ["class", "style"]))
      ], 38),
      O.native ? createCommentVNode("v-if", !0) : (openBlock(), createBlock(Bar, {
        key: 0,
        ref_key: "barRef",
        ref: g,
        height: v.value,
        width: y.value,
        always: O.always,
        "ratio-x": b.value,
        "ratio-y": _.value
      }, null, 8, ["height", "width", "always", "ratio-x", "ratio-y"]))
    ], 2));
  }
});
var Scrollbar = /* @__PURE__ */ _export_sfc(_sfc_main$l, [["__file", "/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/scrollbar.vue"]]);
const ElScrollbar = withInstall(Scrollbar), POPPER_INJECTION_KEY = Symbol("popper"), POPPER_CONTENT_INJECTION_KEY = Symbol("popperContent"), roleTypes = [
  "dialog",
  "grid",
  "group",
  "listbox",
  "menu",
  "navigation",
  "tooltip",
  "tree"
], popperProps = buildProps({
  role: {
    type: String,
    values: roleTypes,
    default: "tooltip"
  }
}), __default__$7 = defineComponent({
  name: "ElPopper",
  inheritAttrs: !1
}), _sfc_main$k = /* @__PURE__ */ defineComponent({
  ...__default__$7,
  props: popperProps,
  setup(i, { expose: n }) {
    const r = i, o = ref(), a = ref(), u = ref(), c = ref(), f = computed(() => r.role), d = {
      triggerRef: o,
      popperInstanceRef: a,
      contentRef: u,
      referenceRef: c,
      role: f
    };
    return n(d), provide(POPPER_INJECTION_KEY, d), (p, y) => renderSlot(p.$slots, "default");
  }
});
var Popper = /* @__PURE__ */ _export_sfc(_sfc_main$k, [["__file", "/home/runner/work/element-plus/element-plus/packages/components/popper/src/popper.vue"]]);
const popperArrowProps = buildProps({
  arrowOffset: {
    type: Number,
    default: 5
  }
}), __default__$6 = defineComponent({
  name: "ElPopperArrow",
  inheritAttrs: !1
}), _sfc_main$j = /* @__PURE__ */ defineComponent({
  ...__default__$6,
  props: popperArrowProps,
  setup(i, { expose: n }) {
    const r = i, o = useNamespace("popper"), { arrowOffset: a, arrowRef: u, arrowStyle: c } = inject(POPPER_CONTENT_INJECTION_KEY, void 0);
    return watch(() => r.arrowOffset, (f) => {
      a.value = f;
    }), onBeforeUnmount(() => {
      u.value = void 0;
    }), n({
      arrowRef: u
    }), (f, d) => (openBlock(), createElementBlock("span", {
      ref_key: "arrowRef",
      ref: u,
      class: normalizeClass(unref(o).e("arrow")),
      style: normalizeStyle$1(unref(c)),
      "data-popper-arrow": ""
    }, null, 6));
  }
});
var ElPopperArrow = /* @__PURE__ */ _export_sfc(_sfc_main$j, [["__file", "/home/runner/work/element-plus/element-plus/packages/components/popper/src/arrow.vue"]]);
const NAME = "ElOnlyChild", OnlyChild = defineComponent({
  name: NAME,
  setup(i, {
    slots: n,
    attrs: r
  }) {
    var o;
    const a = inject(FORWARD_REF_INJECTION_KEY), u = useForwardRefDirective((o = a == null ? void 0 : a.setForwardRef) != null ? o : NOOP);
    return () => {
      var c;
      const f = (c = n.default) == null ? void 0 : c.call(n, r);
      if (!f)
        return null;
      if (f.length > 1)
        return debugWarn(NAME, "requires exact only one valid child."), null;
      const d = findFirstLegitChild(f);
      return d ? withDirectives(cloneVNode(d, r), [[u]]) : (debugWarn(NAME, "no valid child node found"), null);
    };
  }
});
function findFirstLegitChild(i) {
  if (!i)
    return null;
  const n = i;
  for (const r of n) {
    if (isObject(r))
      switch (r.type) {
        case Comment:
          continue;
        case Text:
        case "svg":
          return wrapTextContent(r);
        case Fragment:
          return findFirstLegitChild(r.children);
        default:
          return r;
      }
    return wrapTextContent(r);
  }
  return null;
}
function wrapTextContent(i) {
  const n = useNamespace("only-child");
  return createVNode$1("span", {
    class: n.e("content")
  }, [i]);
}
const popperTriggerProps = buildProps({
  virtualRef: {
    type: definePropType(Object)
  },
  virtualTriggering: Boolean,
  onMouseenter: {
    type: definePropType(Function)
  },
  onMouseleave: {
    type: definePropType(Function)
  },
  onClick: {
    type: definePropType(Function)
  },
  onKeydown: {
    type: definePropType(Function)
  },
  onFocus: {
    type: definePropType(Function)
  },
  onBlur: {
    type: definePropType(Function)
  },
  onContextmenu: {
    type: definePropType(Function)
  },
  id: String,
  open: Boolean
}), __default__$5 = defineComponent({
  name: "ElPopperTrigger",
  inheritAttrs: !1
}), _sfc_main$i = /* @__PURE__ */ defineComponent({
  ...__default__$5,
  props: popperTriggerProps,
  setup(i, { expose: n }) {
    const r = i, { role: o, triggerRef: a } = inject(POPPER_INJECTION_KEY, void 0);
    useForwardRef(a);
    const u = computed(() => f.value ? r.id : void 0), c = computed(() => {
      if (o && o.value === "tooltip")
        return r.open && r.id ? r.id : void 0;
    }), f = computed(() => {
      if (o && o.value !== "tooltip")
        return o.value;
    }), d = computed(() => f.value ? `${r.open}` : void 0);
    let p;
    return onMounted(() => {
      watch(() => r.virtualRef, (y) => {
        y && (a.value = unrefElement(y));
      }, {
        immediate: !0
      }), watch(a, (y, v) => {
        p == null || p(), p = void 0, isElement(y) && ([
          "onMouseenter",
          "onMouseleave",
          "onClick",
          "onKeydown",
          "onFocus",
          "onBlur",
          "onContextmenu"
        ].forEach((g) => {
          var _;
          const b = r[g];
          b && (y.addEventListener(g.slice(2).toLowerCase(), b), (_ = v == null ? void 0 : v.removeEventListener) == null || _.call(v, g.slice(2).toLowerCase(), b));
        }), p = watch([u, c, f, d], (g) => {
          [
            "aria-controls",
            "aria-describedby",
            "aria-haspopup",
            "aria-expanded"
          ].forEach((_, b) => {
            isNil(g[b]) ? y.removeAttribute(_) : y.setAttribute(_, g[b]);
          });
        }, { immediate: !0 })), isElement(v) && [
          "aria-controls",
          "aria-describedby",
          "aria-haspopup",
          "aria-expanded"
        ].forEach((g) => v.removeAttribute(g));
      }, {
        immediate: !0
      });
    }), onBeforeUnmount(() => {
      p == null || p(), p = void 0;
    }), n({
      triggerRef: a
    }), (y, v) => y.virtualTriggering ? createCommentVNode("v-if", !0) : (openBlock(), createBlock(unref(OnlyChild), mergeProps({ key: 0 }, y.$attrs, {
      "aria-controls": unref(u),
      "aria-describedby": unref(c),
      "aria-expanded": unref(d),
      "aria-haspopup": unref(f)
    }), {
      default: withCtx(() => [
        renderSlot(y.$slots, "default")
      ]),
      _: 3
    }, 16, ["aria-controls", "aria-describedby", "aria-expanded", "aria-haspopup"]));
  }
});
var ElPopperTrigger = /* @__PURE__ */ _export_sfc(_sfc_main$i, [["__file", "/home/runner/work/element-plus/element-plus/packages/components/popper/src/trigger.vue"]]);
const FOCUS_AFTER_TRAPPED = "focus-trap.focus-after-trapped", FOCUS_AFTER_RELEASED = "focus-trap.focus-after-released", FOCUSOUT_PREVENTED = "focus-trap.focusout-prevented", FOCUS_AFTER_TRAPPED_OPTS = {
  cancelable: !0,
  bubbles: !1
}, FOCUSOUT_PREVENTED_OPTS = {
  cancelable: !0,
  bubbles: !1
}, ON_TRAP_FOCUS_EVT = "focusAfterTrapped", ON_RELEASE_FOCUS_EVT = "focusAfterReleased", FOCUS_TRAP_INJECTION_KEY = Symbol("elFocusTrap"), focusReason = ref(), lastUserFocusTimestamp = ref(0), lastAutomatedFocusTimestamp = ref(0);
let focusReasonUserCount = 0;
const obtainAllFocusableElements = (i) => {
  const n = [], r = document.createTreeWalker(i, NodeFilter.SHOW_ELEMENT, {
    acceptNode: (o) => {
      const a = o.tagName === "INPUT" && o.type === "hidden";
      return o.disabled || o.hidden || a ? NodeFilter.FILTER_SKIP : o.tabIndex >= 0 || o === document.activeElement ? NodeFilter.FILTER_ACCEPT : NodeFilter.FILTER_SKIP;
    }
  });
  for (; r.nextNode(); )
    n.push(r.currentNode);
  return n;
}, getVisibleElement = (i, n) => {
  for (const r of i)
    if (!isHidden(r, n))
      return r;
}, isHidden = (i, n) => {
  if (process.env.NODE_ENV === "test")
    return !1;
  if (getComputedStyle(i).visibility === "hidden")
    return !0;
  for (; i; ) {
    if (n && i === n)
      return !1;
    if (getComputedStyle(i).display === "none")
      return !0;
    i = i.parentElement;
  }
  return !1;
}, getEdges = (i) => {
  const n = obtainAllFocusableElements(i), r = getVisibleElement(n, i), o = getVisibleElement(n.reverse(), i);
  return [r, o];
}, isSelectable = (i) => i instanceof HTMLInputElement && "select" in i, tryFocus = (i, n) => {
  if (i && i.focus) {
    const r = document.activeElement;
    i.focus({ preventScroll: !0 }), lastAutomatedFocusTimestamp.value = window.performance.now(), i !== r && isSelectable(i) && n && i.select();
  }
};
function removeFromStack(i, n) {
  const r = [...i], o = i.indexOf(n);
  return o !== -1 && r.splice(o, 1), r;
}
const createFocusableStack = () => {
  let i = [];
  return {
    push: (o) => {
      const a = i[0];
      a && o !== a && a.pause(), i = removeFromStack(i, o), i.unshift(o);
    },
    remove: (o) => {
      var a, u;
      i = removeFromStack(i, o), (u = (a = i[0]) == null ? void 0 : a.resume) == null || u.call(a);
    }
  };
}, focusFirstDescendant = (i, n = !1) => {
  const r = document.activeElement;
  for (const o of i)
    if (tryFocus(o, n), document.activeElement !== r)
      return;
}, focusableStack = createFocusableStack(), isFocusCausedByUserEvent = () => lastUserFocusTimestamp.value > lastAutomatedFocusTimestamp.value, notifyFocusReasonPointer = () => {
  focusReason.value = "pointer", lastUserFocusTimestamp.value = window.performance.now();
}, notifyFocusReasonKeydown = () => {
  focusReason.value = "keyboard", lastUserFocusTimestamp.value = window.performance.now();
}, useFocusReason = () => (onMounted(() => {
  focusReasonUserCount === 0 && (document.addEventListener("mousedown", notifyFocusReasonPointer), document.addEventListener("touchstart", notifyFocusReasonPointer), document.addEventListener("keydown", notifyFocusReasonKeydown)), focusReasonUserCount++;
}), onBeforeUnmount(() => {
  focusReasonUserCount--, focusReasonUserCount <= 0 && (document.removeEventListener("mousedown", notifyFocusReasonPointer), document.removeEventListener("touchstart", notifyFocusReasonPointer), document.removeEventListener("keydown", notifyFocusReasonKeydown));
}), {
  focusReason,
  lastUserFocusTimestamp,
  lastAutomatedFocusTimestamp
}), createFocusOutPreventedEvent = (i) => new CustomEvent(FOCUSOUT_PREVENTED, {
  ...FOCUSOUT_PREVENTED_OPTS,
  detail: i
}), _sfc_main$h = defineComponent({
  name: "ElFocusTrap",
  inheritAttrs: !1,
  props: {
    loop: Boolean,
    trapped: Boolean,
    focusTrapEl: Object,
    focusStartEl: {
      type: [Object, String],
      default: "first"
    }
  },
  emits: [
    ON_TRAP_FOCUS_EVT,
    ON_RELEASE_FOCUS_EVT,
    "focusin",
    "focusout",
    "focusout-prevented",
    "release-requested"
  ],
  setup(i, { emit: n }) {
    const r = ref();
    let o, a;
    const { focusReason: u } = useFocusReason();
    useEscapeKeydown((b) => {
      i.trapped && !c.paused && n("release-requested", b);
    });
    const c = {
      paused: !1,
      pause() {
        this.paused = !0;
      },
      resume() {
        this.paused = !1;
      }
    }, f = (b) => {
      if (!i.loop && !i.trapped || c.paused)
        return;
      const { key: A, altKey: w, ctrlKey: S, metaKey: T, currentTarget: x, shiftKey: L } = b, { loop: k } = i, M = A === EVENT_CODE.tab && !w && !S && !T, O = document.activeElement;
      if (M && O) {
        const ie = x, [F, j] = getEdges(ie);
        if (F && j) {
          if (!L && O === j) {
            const Y = createFocusOutPreventedEvent({
              focusReason: u.value
            });
            n("focusout-prevented", Y), Y.defaultPrevented || (b.preventDefault(), k && tryFocus(F, !0));
          } else if (L && [F, ie].includes(O)) {
            const Y = createFocusOutPreventedEvent({
              focusReason: u.value
            });
            n("focusout-prevented", Y), Y.defaultPrevented || (b.preventDefault(), k && tryFocus(j, !0));
          }
        } else if (O === ie) {
          const Y = createFocusOutPreventedEvent({
            focusReason: u.value
          });
          n("focusout-prevented", Y), Y.defaultPrevented || b.preventDefault();
        }
      }
    };
    provide(FOCUS_TRAP_INJECTION_KEY, {
      focusTrapRef: r,
      onKeydown: f
    }), watch(() => i.focusTrapEl, (b) => {
      b && (r.value = b);
    }, { immediate: !0 }), watch([r], ([b], [A]) => {
      b && (b.addEventListener("keydown", f), b.addEventListener("focusin", y), b.addEventListener("focusout", v)), A && (A.removeEventListener("keydown", f), A.removeEventListener("focusin", y), A.removeEventListener("focusout", v));
    });
    const d = (b) => {
      n(ON_TRAP_FOCUS_EVT, b);
    }, p = (b) => n(ON_RELEASE_FOCUS_EVT, b), y = (b) => {
      const A = unref(r);
      if (!A)
        return;
      const w = b.target, S = b.relatedTarget, T = w && A.contains(w);
      i.trapped || S && A.contains(S) || (o = S), T && n("focusin", b), !c.paused && i.trapped && (T ? a = w : tryFocus(a, !0));
    }, v = (b) => {
      const A = unref(r);
      if (!(c.paused || !A))
        if (i.trapped) {
          const w = b.relatedTarget;
          !isNil(w) && !A.contains(w) && setTimeout(() => {
            if (!c.paused && i.trapped) {
              const S = createFocusOutPreventedEvent({
                focusReason: u.value
              });
              n("focusout-prevented", S), S.defaultPrevented || tryFocus(a, !0);
            }
          }, 0);
        } else {
          const w = b.target;
          w && A.contains(w) || n("focusout", b);
        }
    };
    async function g() {
      await nextTick();
      const b = unref(r);
      if (b) {
        focusableStack.push(c);
        const A = b.contains(document.activeElement) ? o : document.activeElement;
        if (o = A, !b.contains(A)) {
          const S = new Event(FOCUS_AFTER_TRAPPED, FOCUS_AFTER_TRAPPED_OPTS);
          b.addEventListener(FOCUS_AFTER_TRAPPED, d), b.dispatchEvent(S), S.defaultPrevented || nextTick(() => {
            let T = i.focusStartEl;
            isString(T) || (tryFocus(T), document.activeElement !== T && (T = "first")), T === "first" && focusFirstDescendant(obtainAllFocusableElements(b), !0), (document.activeElement === A || T === "container") && tryFocus(b);
          });
        }
      }
    }
    function _() {
      const b = unref(r);
      if (b) {
        b.removeEventListener(FOCUS_AFTER_TRAPPED, d);
        const A = new CustomEvent(FOCUS_AFTER_RELEASED, {
          ...FOCUS_AFTER_TRAPPED_OPTS,
          detail: {
            focusReason: u.value
          }
        });
        b.addEventListener(FOCUS_AFTER_RELEASED, p), b.dispatchEvent(A), !A.defaultPrevented && (u.value == "keyboard" || !isFocusCausedByUserEvent() || b.contains(document.activeElement)) && tryFocus(o ?? document.body), b.removeEventListener(FOCUS_AFTER_RELEASED, d), focusableStack.remove(c);
      }
    }
    return onMounted(() => {
      i.trapped && g(), watch(() => i.trapped, (b) => {
        b ? g() : _();
      });
    }), onBeforeUnmount(() => {
      i.trapped && _();
    }), {
      onKeydown: f
    };
  }
});
function _sfc_render$4(i, n, r, o, a, u) {
  return renderSlot(i.$slots, "default", { handleKeydown: i.onKeydown });
}
var ElFocusTrap = /* @__PURE__ */ _export_sfc(_sfc_main$h, [["render", _sfc_render$4], ["__file", "/home/runner/work/element-plus/element-plus/packages/components/focus-trap/src/focus-trap.vue"]]);
const POSITIONING_STRATEGIES = ["fixed", "absolute"], popperCoreConfigProps = buildProps({
  boundariesPadding: {
    type: Number,
    default: 0
  },
  fallbackPlacements: {
    type: definePropType(Array),
    default: void 0
  },
  gpuAcceleration: {
    type: Boolean,
    default: !0
  },
  offset: {
    type: Number,
    default: 12
  },
  placement: {
    type: String,
    values: Ee,
    default: "bottom"
  },
  popperOptions: {
    type: definePropType(Object),
    default: () => ({})
  },
  strategy: {
    type: String,
    values: POSITIONING_STRATEGIES,
    default: "absolute"
  }
}), popperContentProps = buildProps({
  ...popperCoreConfigProps,
  id: String,
  style: {
    type: definePropType([String, Array, Object])
  },
  className: {
    type: definePropType([String, Array, Object])
  },
  effect: {
    type: String,
    default: "dark"
  },
  visible: Boolean,
  enterable: {
    type: Boolean,
    default: !0
  },
  pure: Boolean,
  focusOnShow: {
    type: Boolean,
    default: !1
  },
  trapping: {
    type: Boolean,
    default: !1
  },
  popperClass: {
    type: definePropType([String, Array, Object])
  },
  popperStyle: {
    type: definePropType([String, Array, Object])
  },
  referenceEl: {
    type: definePropType(Object)
  },
  triggerTargetEl: {
    type: definePropType(Object)
  },
  stopPopperMouseEvent: {
    type: Boolean,
    default: !0
  },
  ariaLabel: {
    type: String,
    default: void 0
  },
  virtualTriggering: Boolean,
  zIndex: Number
}), popperContentEmits = {
  mouseenter: (i) => i instanceof MouseEvent,
  mouseleave: (i) => i instanceof MouseEvent,
  focus: () => !0,
  blur: () => !0,
  close: () => !0
}, buildPopperOptions = (i, n = []) => {
  const { placement: r, strategy: o, popperOptions: a } = i, u = {
    placement: r,
    strategy: o,
    ...a,
    modifiers: [...genModifiers(i), ...n]
  };
  return deriveExtraModifiers(u, a == null ? void 0 : a.modifiers), u;
}, unwrapMeasurableEl = (i) => {
  if (isClient)
    return unrefElement(i);
};
function genModifiers(i) {
  const { offset: n, gpuAcceleration: r, fallbackPlacements: o } = i;
  return [
    {
      name: "offset",
      options: {
        offset: [0, n ?? 12]
      }
    },
    {
      name: "preventOverflow",
      options: {
        padding: {
          top: 2,
          bottom: 2,
          left: 5,
          right: 5
        }
      }
    },
    {
      name: "flip",
      options: {
        padding: 5,
        fallbackPlacements: o
      }
    },
    {
      name: "computeStyles",
      options: {
        gpuAcceleration: r
      }
    }
  ];
}
function deriveExtraModifiers(i, n) {
  n && (i.modifiers = [...i.modifiers, ...n ?? []]);
}
const DEFAULT_ARROW_OFFSET = 0, usePopperContent = (i) => {
  const { popperInstanceRef: n, contentRef: r, triggerRef: o, role: a } = inject(POPPER_INJECTION_KEY, void 0), u = ref(), c = ref(), f = computed(() => ({
    name: "eventListeners",
    enabled: !!i.visible
  })), d = computed(() => {
    var S;
    const T = unref(u), x = (S = unref(c)) != null ? S : DEFAULT_ARROW_OFFSET;
    return {
      name: "arrow",
      enabled: !isUndefined$1(T),
      options: {
        element: T,
        padding: x
      }
    };
  }), p = computed(() => ({
    onFirstUpdate: () => {
      b();
    },
    ...buildPopperOptions(i, [
      unref(d),
      unref(f)
    ])
  })), y = computed(() => unwrapMeasurableEl(i.referenceEl) || unref(o)), { attributes: v, state: g, styles: _, update: b, forceUpdate: A, instanceRef: w } = usePopper(y, r, p);
  return watch(w, (S) => n.value = S), onMounted(() => {
    watch(() => {
      var S;
      return (S = unref(y)) == null ? void 0 : S.getBoundingClientRect();
    }, () => {
      b();
    });
  }), {
    attributes: v,
    arrowRef: u,
    contentRef: r,
    instanceRef: w,
    state: g,
    styles: _,
    role: a,
    forceUpdate: A,
    update: b
  };
}, usePopperContentDOM = (i, {
  attributes: n,
  styles: r,
  role: o
}) => {
  const { nextZIndex: a } = useZIndex(), u = useNamespace("popper"), c = computed(() => unref(n).popper), f = ref(i.zIndex || a()), d = computed(() => [
    u.b(),
    u.is("pure", i.pure),
    u.is(i.effect),
    i.popperClass
  ]), p = computed(() => [
    { zIndex: unref(f) },
    unref(r).popper,
    i.popperStyle || {}
  ]), y = computed(() => o.value === "dialog" ? "false" : void 0), v = computed(() => unref(r).arrow || {});
  return {
    ariaModal: y,
    arrowStyle: v,
    contentAttrs: c,
    contentClass: d,
    contentStyle: p,
    contentZIndex: f,
    updateZIndex: () => {
      f.value = i.zIndex || a();
    }
  };
}, usePopperContentFocusTrap = (i, n) => {
  const r = ref(!1), o = ref();
  return {
    focusStartRef: o,
    trapped: r,
    onFocusAfterReleased: (p) => {
      var y;
      ((y = p.detail) == null ? void 0 : y.focusReason) !== "pointer" && (o.value = "first", n("blur"));
    },
    onFocusAfterTrapped: () => {
      n("focus");
    },
    onFocusInTrap: (p) => {
      i.visible && !r.value && (p.target && (o.value = p.target), r.value = !0);
    },
    onFocusoutPrevented: (p) => {
      i.trapping || (p.detail.focusReason === "pointer" && p.preventDefault(), r.value = !1);
    },
    onReleaseRequested: () => {
      r.value = !1, n("close");
    }
  };
}, __default__$4 = defineComponent({
  name: "ElPopperContent"
}), _sfc_main$g = /* @__PURE__ */ defineComponent({
  ...__default__$4,
  props: popperContentProps,
  emits: popperContentEmits,
  setup(i, { expose: n, emit: r }) {
    const o = i, {
      focusStartRef: a,
      trapped: u,
      onFocusAfterReleased: c,
      onFocusAfterTrapped: f,
      onFocusInTrap: d,
      onFocusoutPrevented: p,
      onReleaseRequested: y
    } = usePopperContentFocusTrap(o, r), { attributes: v, arrowRef: g, contentRef: _, styles: b, instanceRef: A, role: w, update: S } = usePopperContent(o), {
      ariaModal: T,
      arrowStyle: x,
      contentAttrs: L,
      contentClass: k,
      contentStyle: M,
      updateZIndex: O
    } = usePopperContentDOM(o, {
      styles: b,
      attributes: v,
      role: w
    }), ie = inject(formItemContextKey, void 0), F = ref();
    provide(POPPER_CONTENT_INJECTION_KEY, {
      arrowStyle: x,
      arrowRef: g,
      arrowOffset: F
    }), ie && (ie.addInputId || ie.removeInputId) && provide(formItemContextKey, {
      ...ie,
      addInputId: NOOP,
      removeInputId: NOOP
    });
    let j;
    const D = (z = !0) => {
      S(), z && O();
    }, Y = () => {
      D(!1), o.visible && o.focusOnShow ? u.value = !0 : o.visible === !1 && (u.value = !1);
    };
    return onMounted(() => {
      watch(() => o.triggerTargetEl, (z, Ie) => {
        j == null || j(), j = void 0;
        const ue = unref(z || _.value), Ce = unref(Ie || _.value);
        isElement(ue) && (j = watch([w, () => o.ariaLabel, T, () => o.id], (pe) => {
          ["role", "aria-label", "aria-modal", "id"].forEach((Ne, xe) => {
            isNil(pe[xe]) ? ue.removeAttribute(Ne) : ue.setAttribute(Ne, pe[xe]);
          });
        }, { immediate: !0 })), Ce !== ue && isElement(Ce) && ["role", "aria-label", "aria-modal", "id"].forEach((pe) => {
          Ce.removeAttribute(pe);
        });
      }, { immediate: !0 }), watch(() => o.visible, Y, { immediate: !0 });
    }), onBeforeUnmount(() => {
      j == null || j(), j = void 0;
    }), n({
      popperContentRef: _,
      popperInstanceRef: A,
      updatePopper: D,
      contentStyle: M
    }), (z, Ie) => (openBlock(), createElementBlock("div", mergeProps({
      ref_key: "contentRef",
      ref: _
    }, unref(L), {
      style: unref(M),
      class: unref(k),
      tabindex: "-1",
      onMouseenter: Ie[0] || (Ie[0] = (ue) => z.$emit("mouseenter", ue)),
      onMouseleave: Ie[1] || (Ie[1] = (ue) => z.$emit("mouseleave", ue))
    }), [
      createVNode$1(unref(ElFocusTrap), {
        trapped: unref(u),
        "trap-on-focus-in": !0,
        "focus-trap-el": unref(_),
        "focus-start-el": unref(a),
        onFocusAfterTrapped: unref(f),
        onFocusAfterReleased: unref(c),
        onFocusin: unref(d),
        onFocusoutPrevented: unref(p),
        onReleaseRequested: unref(y)
      }, {
        default: withCtx(() => [
          renderSlot(z.$slots, "default")
        ]),
        _: 3
      }, 8, ["trapped", "focus-trap-el", "focus-start-el", "onFocusAfterTrapped", "onFocusAfterReleased", "onFocusin", "onFocusoutPrevented", "onReleaseRequested"])
    ], 16));
  }
});
var ElPopperContent = /* @__PURE__ */ _export_sfc(_sfc_main$g, [["__file", "/home/runner/work/element-plus/element-plus/packages/components/popper/src/content.vue"]]);
const ElPopper = withInstall(Popper), TOOLTIP_INJECTION_KEY = Symbol("elTooltip"), useTooltipContentProps = buildProps({
  ...useDelayedToggleProps,
  ...popperContentProps,
  appendTo: {
    type: definePropType([String, Object])
  },
  content: {
    type: String,
    default: ""
  },
  rawContent: {
    type: Boolean,
    default: !1
  },
  persistent: Boolean,
  ariaLabel: String,
  visible: {
    type: definePropType(Boolean),
    default: null
  },
  transition: String,
  teleported: {
    type: Boolean,
    default: !0
  },
  disabled: Boolean
}), useTooltipTriggerProps = buildProps({
  ...popperTriggerProps,
  disabled: Boolean,
  trigger: {
    type: definePropType([String, Array]),
    default: "hover"
  },
  triggerKeys: {
    type: definePropType(Array),
    default: () => [EVENT_CODE.enter, EVENT_CODE.space]
  }
}), {
  useModelToggleProps: useTooltipModelToggleProps,
  useModelToggleEmits: useTooltipModelToggleEmits,
  useModelToggle: useTooltipModelToggle
} = createModelToggleComposable("visible"), useTooltipProps = buildProps({
  ...popperProps,
  ...useTooltipModelToggleProps,
  ...useTooltipContentProps,
  ...useTooltipTriggerProps,
  ...popperArrowProps,
  showArrow: {
    type: Boolean,
    default: !0
  }
}), tooltipEmits = [
  ...useTooltipModelToggleEmits,
  "before-show",
  "before-hide",
  "show",
  "hide",
  "open",
  "close"
], isTriggerType = (i, n) => isArray(i) ? i.includes(n) : i === n, whenTrigger = (i, n, r) => (o) => {
  isTriggerType(unref(i), n) && r(o);
}, __default__$3 = defineComponent({
  name: "ElTooltipTrigger"
}), _sfc_main$f = /* @__PURE__ */ defineComponent({
  ...__default__$3,
  props: useTooltipTriggerProps,
  setup(i, { expose: n }) {
    const r = i, o = useNamespace("tooltip"), { controlled: a, id: u, open: c, onOpen: f, onClose: d, onToggle: p } = inject(TOOLTIP_INJECTION_KEY, void 0), y = ref(null), v = () => {
      if (unref(a) || r.disabled)
        return !0;
    }, g = toRef(r, "trigger"), _ = composeEventHandlers(v, whenTrigger(g, "hover", f)), b = composeEventHandlers(v, whenTrigger(g, "hover", d)), A = composeEventHandlers(v, whenTrigger(g, "click", (L) => {
      L.button === 0 && p(L);
    })), w = composeEventHandlers(v, whenTrigger(g, "focus", f)), S = composeEventHandlers(v, whenTrigger(g, "focus", d)), T = composeEventHandlers(v, whenTrigger(g, "contextmenu", (L) => {
      L.preventDefault(), p(L);
    })), x = composeEventHandlers(v, (L) => {
      const { code: k } = L;
      r.triggerKeys.includes(k) && (L.preventDefault(), p(L));
    });
    return n({
      triggerRef: y
    }), (L, k) => (openBlock(), createBlock(unref(ElPopperTrigger), {
      id: unref(u),
      "virtual-ref": L.virtualRef,
      open: unref(c),
      "virtual-triggering": L.virtualTriggering,
      class: normalizeClass(unref(o).e("trigger")),
      onBlur: unref(S),
      onClick: unref(A),
      onContextmenu: unref(T),
      onFocus: unref(w),
      onMouseenter: unref(_),
      onMouseleave: unref(b),
      onKeydown: unref(x)
    }, {
      default: withCtx(() => [
        renderSlot(L.$slots, "default")
      ]),
      _: 3
    }, 8, ["id", "virtual-ref", "open", "virtual-triggering", "class", "onBlur", "onClick", "onContextmenu", "onFocus", "onMouseenter", "onMouseleave", "onKeydown"]));
  }
});
var ElTooltipTrigger = /* @__PURE__ */ _export_sfc(_sfc_main$f, [["__file", "/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/trigger.vue"]]);
const __default__$2 = defineComponent({
  name: "ElTooltipContent",
  inheritAttrs: !1
}), _sfc_main$e = /* @__PURE__ */ defineComponent({
  ...__default__$2,
  props: useTooltipContentProps,
  setup(i, { expose: n }) {
    const r = i, { selector: o } = usePopperContainerId(), a = useNamespace("tooltip"), u = ref(null), c = ref(!1), {
      controlled: f,
      id: d,
      open: p,
      trigger: y,
      onClose: v,
      onOpen: g,
      onShow: _,
      onHide: b,
      onBeforeShow: A,
      onBeforeHide: w
    } = inject(TOOLTIP_INJECTION_KEY, void 0), S = computed(() => r.transition || `${a.namespace.value}-fade-in-linear`), T = computed(() => process.env.NODE_ENV === "test" ? !0 : r.persistent);
    onBeforeUnmount(() => {
      c.value = !0;
    });
    const x = computed(() => unref(T) ? !0 : unref(p)), L = computed(() => r.disabled ? !1 : unref(p)), k = computed(() => r.appendTo || o.value), M = computed(() => {
      var pe;
      return (pe = r.style) != null ? pe : {};
    }), O = computed(() => !unref(p)), ie = () => {
      b();
    }, F = () => {
      if (unref(f))
        return !0;
    }, j = composeEventHandlers(F, () => {
      r.enterable && unref(y) === "hover" && g();
    }), D = composeEventHandlers(F, () => {
      unref(y) === "hover" && v();
    }), Y = () => {
      var pe, Ne;
      (Ne = (pe = u.value) == null ? void 0 : pe.updatePopper) == null || Ne.call(pe), A == null || A();
    }, z = () => {
      w == null || w();
    }, Ie = () => {
      _(), Ce = onClickOutside(computed(() => {
        var pe;
        return (pe = u.value) == null ? void 0 : pe.popperContentRef;
      }), () => {
        if (unref(f))
          return;
        unref(y) !== "hover" && v();
      });
    }, ue = () => {
      r.virtualTriggering || v();
    };
    let Ce;
    return watch(() => unref(p), (pe) => {
      pe || Ce == null || Ce();
    }, {
      flush: "post"
    }), watch(() => r.content, () => {
      var pe, Ne;
      (Ne = (pe = u.value) == null ? void 0 : pe.updatePopper) == null || Ne.call(pe);
    }), n({
      contentRef: u
    }), (pe, Ne) => (openBlock(), createBlock(Teleport, {
      disabled: !pe.teleported,
      to: unref(k)
    }, [
      createVNode$1(Transition, {
        name: unref(S),
        onAfterLeave: ie,
        onBeforeEnter: Y,
        onAfterEnter: Ie,
        onBeforeLeave: z
      }, {
        default: withCtx(() => [
          unref(x) ? withDirectives((openBlock(), createBlock(unref(ElPopperContent), mergeProps({
            key: 0,
            id: unref(d),
            ref_key: "contentRef",
            ref: u
          }, pe.$attrs, {
            "aria-label": pe.ariaLabel,
            "aria-hidden": unref(O),
            "boundaries-padding": pe.boundariesPadding,
            "fallback-placements": pe.fallbackPlacements,
            "gpu-acceleration": pe.gpuAcceleration,
            offset: pe.offset,
            placement: pe.placement,
            "popper-options": pe.popperOptions,
            strategy: pe.strategy,
            effect: pe.effect,
            enterable: pe.enterable,
            pure: pe.pure,
            "popper-class": pe.popperClass,
            "popper-style": [pe.popperStyle, unref(M)],
            "reference-el": pe.referenceEl,
            "trigger-target-el": pe.triggerTargetEl,
            visible: unref(L),
            "z-index": pe.zIndex,
            onMouseenter: unref(j),
            onMouseleave: unref(D),
            onBlur: ue,
            onClose: unref(v)
          }), {
            default: withCtx(() => [
              c.value ? createCommentVNode("v-if", !0) : renderSlot(pe.$slots, "default", { key: 0 })
            ]),
            _: 3
          }, 16, ["id", "aria-label", "aria-hidden", "boundaries-padding", "fallback-placements", "gpu-acceleration", "offset", "placement", "popper-options", "strategy", "effect", "enterable", "pure", "popper-class", "popper-style", "reference-el", "trigger-target-el", "visible", "z-index", "onMouseenter", "onMouseleave", "onClose"])), [
            [vShow, unref(L)]
          ]) : createCommentVNode("v-if", !0)
        ]),
        _: 3
      }, 8, ["name"])
    ], 8, ["disabled", "to"]));
  }
});
var ElTooltipContent = /* @__PURE__ */ _export_sfc(_sfc_main$e, [["__file", "/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/content.vue"]]);
const _hoisted_1$6 = ["innerHTML"], _hoisted_2$4 = { key: 1 }, __default__$1 = defineComponent({
  name: "ElTooltip"
}), _sfc_main$d = /* @__PURE__ */ defineComponent({
  ...__default__$1,
  props: useTooltipProps,
  emits: tooltipEmits,
  setup(i, { expose: n, emit: r }) {
    const o = i;
    usePopperContainer();
    const a = useId(), u = ref(), c = ref(), f = () => {
      var S;
      const T = unref(u);
      T && ((S = T.popperInstanceRef) == null || S.update());
    }, d = ref(!1), p = ref(), { show: y, hide: v, hasUpdateHandler: g } = useTooltipModelToggle({
      indicator: d,
      toggleReason: p
    }), { onOpen: _, onClose: b } = useDelayedToggle({
      showAfter: toRef(o, "showAfter"),
      hideAfter: toRef(o, "hideAfter"),
      autoClose: toRef(o, "autoClose"),
      open: y,
      close: v
    }), A = computed(() => isBoolean(o.visible) && !g.value);
    provide(TOOLTIP_INJECTION_KEY, {
      controlled: A,
      id: a,
      open: readonly(d),
      trigger: toRef(o, "trigger"),
      onOpen: (S) => {
        _(S);
      },
      onClose: (S) => {
        b(S);
      },
      onToggle: (S) => {
        unref(d) ? b(S) : _(S);
      },
      onShow: () => {
        r("show", p.value);
      },
      onHide: () => {
        r("hide", p.value);
      },
      onBeforeShow: () => {
        r("before-show", p.value);
      },
      onBeforeHide: () => {
        r("before-hide", p.value);
      },
      updatePopper: f
    }), watch(() => o.disabled, (S) => {
      S && d.value && (d.value = !1);
    });
    const w = () => {
      var S, T;
      const x = (T = (S = c.value) == null ? void 0 : S.contentRef) == null ? void 0 : T.popperContentRef;
      return x && x.contains(document.activeElement);
    };
    return onDeactivated(() => d.value && v()), n({
      popperRef: u,
      contentRef: c,
      isFocusInsideContent: w,
      updatePopper: f,
      onOpen: _,
      onClose: b,
      hide: v
    }), (S, T) => (openBlock(), createBlock(unref(ElPopper), {
      ref_key: "popperRef",
      ref: u,
      role: S.role
    }, {
      default: withCtx(() => [
        createVNode$1(ElTooltipTrigger, {
          disabled: S.disabled,
          trigger: S.trigger,
          "trigger-keys": S.triggerKeys,
          "virtual-ref": S.virtualRef,
          "virtual-triggering": S.virtualTriggering
        }, {
          default: withCtx(() => [
            S.$slots.default ? renderSlot(S.$slots, "default", { key: 0 }) : createCommentVNode("v-if", !0)
          ]),
          _: 3
        }, 8, ["disabled", "trigger", "trigger-keys", "virtual-ref", "virtual-triggering"]),
        createVNode$1(ElTooltipContent, {
          ref_key: "contentRef",
          ref: c,
          "aria-label": S.ariaLabel,
          "boundaries-padding": S.boundariesPadding,
          content: S.content,
          disabled: S.disabled,
          effect: S.effect,
          enterable: S.enterable,
          "fallback-placements": S.fallbackPlacements,
          "hide-after": S.hideAfter,
          "gpu-acceleration": S.gpuAcceleration,
          offset: S.offset,
          persistent: S.persistent,
          "popper-class": S.popperClass,
          "popper-style": S.popperStyle,
          placement: S.placement,
          "popper-options": S.popperOptions,
          pure: S.pure,
          "raw-content": S.rawContent,
          "reference-el": S.referenceEl,
          "trigger-target-el": S.triggerTargetEl,
          "show-after": S.showAfter,
          strategy: S.strategy,
          teleported: S.teleported,
          transition: S.transition,
          "virtual-triggering": S.virtualTriggering,
          "z-index": S.zIndex,
          "append-to": S.appendTo
        }, {
          default: withCtx(() => [
            renderSlot(S.$slots, "content", {}, () => [
              S.rawContent ? (openBlock(), createElementBlock("span", {
                key: 0,
                innerHTML: S.content
              }, null, 8, _hoisted_1$6)) : (openBlock(), createElementBlock("span", _hoisted_2$4, toDisplayString(S.content), 1))
            ]),
            S.showArrow ? (openBlock(), createBlock(unref(ElPopperArrow), {
              key: 0,
              "arrow-offset": S.arrowOffset
            }, null, 8, ["arrow-offset"])) : createCommentVNode("v-if", !0)
          ]),
          _: 3
        }, 8, ["aria-label", "boundaries-padding", "content", "disabled", "effect", "enterable", "fallback-placements", "hide-after", "gpu-acceleration", "offset", "persistent", "popper-class", "popper-style", "placement", "popper-options", "pure", "raw-content", "reference-el", "trigger-target-el", "show-after", "strategy", "teleported", "transition", "virtual-triggering", "z-index", "append-to"])
      ]),
      _: 3
    }, 8, ["role"]));
  }
});
var Tooltip = /* @__PURE__ */ _export_sfc(_sfc_main$d, [["__file", "/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/tooltip.vue"]]);
const ElTooltip = withInstall(Tooltip);
var commonjsGlobal = typeof globalThis < "u" ? globalThis : typeof window < "u" ? window : typeof global < "u" ? global : typeof self < "u" ? self : {};
const nodeList = /* @__PURE__ */ new Map();
let startClick;
isClient && (document.addEventListener("mousedown", (i) => startClick = i), document.addEventListener("mouseup", (i) => {
  for (const n of nodeList.values())
    for (const { documentHandler: r } of n)
      r(i, startClick);
}));
function createDocumentHandler(i, n) {
  let r = [];
  return Array.isArray(n.arg) ? r = n.arg : isElement(n.arg) && r.push(n.arg), function(o, a) {
    const u = n.instance.popperRef, c = o.target, f = a == null ? void 0 : a.target, d = !n || !n.instance, p = !c || !f, y = i.contains(c) || i.contains(f), v = i === c, g = r.length && r.some((b) => b == null ? void 0 : b.contains(c)) || r.length && r.includes(f), _ = u && (u.contains(c) || u.contains(f));
    d || p || y || v || g || _ || n.value(o, a);
  };
}
const ClickOutside = {
  beforeMount(i, n) {
    nodeList.has(i) || nodeList.set(i, []), nodeList.get(i).push({
      documentHandler: createDocumentHandler(i, n),
      bindingFn: n.value
    });
  },
  updated(i, n) {
    nodeList.has(i) || nodeList.set(i, []);
    const r = nodeList.get(i), o = r.findIndex((u) => u.bindingFn === n.oldValue), a = {
      documentHandler: createDocumentHandler(i, n),
      bindingFn: n.value
    };
    o >= 0 ? r.splice(o, 1, a) : r.push(a);
  },
  unmounted(i) {
    nodeList.delete(i);
  }
}, tagProps = buildProps({
  type: {
    type: String,
    values: ["success", "info", "warning", "danger", ""],
    default: ""
  },
  closable: Boolean,
  disableTransitions: Boolean,
  hit: Boolean,
  color: {
    type: String,
    default: ""
  },
  size: {
    type: String,
    values: componentSizes,
    default: ""
  },
  effect: {
    type: String,
    values: ["dark", "light", "plain"],
    default: "light"
  },
  round: Boolean
}), tagEmits = {
  close: (i) => i instanceof MouseEvent,
  click: (i) => i instanceof MouseEvent
}, __default__ = defineComponent({
  name: "ElTag"
}), _sfc_main$c = /* @__PURE__ */ defineComponent({
  ...__default__,
  props: tagProps,
  emits: tagEmits,
  setup(i, { emit: n }) {
    const r = i, o = useFormSize(), a = useNamespace("tag"), u = computed(() => {
      const { type: d, hit: p, effect: y, closable: v, round: g } = r;
      return [
        a.b(),
        a.is("closable", v),
        a.m(d),
        a.m(o.value),
        a.m(y),
        a.is("hit", p),
        a.is("round", g)
      ];
    }), c = (d) => {
      n("close", d);
    }, f = (d) => {
      n("click", d);
    };
    return (d, p) => d.disableTransitions ? (openBlock(), createElementBlock("span", {
      key: 0,
      class: normalizeClass(unref(u)),
      style: normalizeStyle$1({ backgroundColor: d.color }),
      onClick: f
    }, [
      createElementVNode("span", {
        class: normalizeClass(unref(a).e("content"))
      }, [
        renderSlot(d.$slots, "default")
      ], 2),
      d.closable ? (openBlock(), createBlock(unref(ElIcon), {
        key: 0,
        class: normalizeClass(unref(a).e("close")),
        onClick: withModifiers(c, ["stop"])
      }, {
        default: withCtx(() => [
          createVNode$1(unref(close_default))
        ]),
        _: 1
      }, 8, ["class", "onClick"])) : createCommentVNode("v-if", !0)
    ], 6)) : (openBlock(), createBlock(Transition, {
      key: 1,
      name: `${unref(a).namespace.value}-zoom-in-center`,
      appear: ""
    }, {
      default: withCtx(() => [
        createElementVNode("span", {
          class: normalizeClass(unref(u)),
          style: normalizeStyle$1({ backgroundColor: d.color }),
          onClick: f
        }, [
          createElementVNode("span", {
            class: normalizeClass(unref(a).e("content"))
          }, [
            renderSlot(d.$slots, "default")
          ], 2),
          d.closable ? (openBlock(), createBlock(unref(ElIcon), {
            key: 0,
            class: normalizeClass(unref(a).e("close")),
            onClick: withModifiers(c, ["stop"])
          }, {
            default: withCtx(() => [
              createVNode$1(unref(close_default))
            ]),
            _: 1
          }, 8, ["class", "onClick"])) : createCommentVNode("v-if", !0)
        ], 6)
      ]),
      _: 3
    }, 8, ["name"]));
  }
});
var Tag = /* @__PURE__ */ _export_sfc(_sfc_main$c, [["__file", "/home/runner/work/element-plus/element-plus/packages/components/tag/src/tag.vue"]]);
const ElTag = withInstall(Tag), selectGroupKey = Symbol("ElSelectGroup"), selectKey = Symbol("ElSelect");
function useOption(i, n) {
  const r = inject(selectKey), o = inject(selectGroupKey, { disabled: !1 }), a = computed(() => Object.prototype.toString.call(i.value).toLowerCase() === "[object object]"), u = computed(() => r.props.multiple ? v(r.props.modelValue, i.value) : g(i.value, r.props.modelValue)), c = computed(() => {
    if (r.props.multiple) {
      const A = r.props.modelValue || [];
      return !u.value && A.length >= r.props.multipleLimit && r.props.multipleLimit > 0;
    } else
      return !1;
  }), f = computed(() => i.label || (a.value ? "" : i.value)), d = computed(() => i.value || i.label || ""), p = computed(() => i.disabled || n.groupDisabled || c.value), y = getCurrentInstance(), v = (A = [], w) => {
    if (a.value) {
      const S = r.props.valueKey;
      return A && A.some((T) => toRaw(get$1(T, S)) === get$1(w, S));
    } else
      return A && A.includes(w);
  }, g = (A, w) => {
    if (a.value) {
      const { valueKey: S } = r.props;
      return get$1(A, S) === get$1(w, S);
    } else
      return A === w;
  }, _ = () => {
    !i.disabled && !o.disabled && (r.hoverIndex = r.optionsArray.indexOf(y.proxy));
  };
  watch(() => f.value, () => {
    !i.created && !r.props.remote && r.setSelected();
  }), watch(() => i.value, (A, w) => {
    const { remote: S, valueKey: T } = r.props;
    if (Object.is(A, w) || (r.onOptionDestroy(w, y.proxy), r.onOptionCreate(y.proxy)), !i.created && !S) {
      if (T && typeof A == "object" && typeof w == "object" && A[T] === w[T])
        return;
      r.setSelected();
    }
  }), watch(() => o.disabled, () => {
    n.groupDisabled = o.disabled;
  }, { immediate: !0 });
  const { queryChange: b } = toRaw(r);
  return watch(b, (A) => {
    const { query: w } = unref(A), S = new RegExp(escapeStringRegexp(w), "i");
    n.visible = S.test(f.value) || i.created, n.visible || r.filteredOptionsCount--;
  }, { immediate: !0 }), {
    select: r,
    currentLabel: f,
    currentValue: d,
    itemSelected: u,
    isDisabled: p,
    hoverItem: _
  };
}
const _sfc_main$b = defineComponent({
  name: "ElOption",
  componentName: "ElOption",
  props: {
    value: {
      required: !0,
      type: [String, Number, Boolean, Object]
    },
    label: [String, Number],
    created: Boolean,
    disabled: {
      type: Boolean,
      default: !1
    }
  },
  setup(i) {
    const n = useNamespace("select"), r = computed(() => [
      n.be("dropdown", "item"),
      n.is("disabled", unref(c)),
      {
        selected: unref(u),
        hover: unref(y)
      }
    ]), o = reactive({
      index: -1,
      groupDisabled: !1,
      visible: !0,
      hitState: !1,
      hover: !1
    }), { currentLabel: a, itemSelected: u, isDisabled: c, select: f, hoverItem: d } = useOption(i, o), { visible: p, hover: y } = toRefs(o), v = getCurrentInstance().proxy;
    f.onOptionCreate(v), onBeforeUnmount(() => {
      const _ = v.value, { selected: b } = f, w = (f.props.multiple ? b : [b]).some((S) => S.value === v.value);
      nextTick(() => {
        f.cachedOptions.get(_) === v && !w && f.cachedOptions.delete(_);
      }), f.onOptionDestroy(_, v);
    });
    function g() {
      i.disabled !== !0 && o.groupDisabled !== !0 && f.handleOptionSelect(v);
    }
    return {
      ns: n,
      containerKls: r,
      currentLabel: a,
      itemSelected: u,
      isDisabled: c,
      select: f,
      hoverItem: d,
      visible: p,
      hover: y,
      selectOptionClick: g,
      states: o
    };
  }
});
function _sfc_render$3(i, n, r, o, a, u) {
  return withDirectives((openBlock(), createElementBlock("li", {
    class: normalizeClass(i.containerKls),
    onMouseenter: n[0] || (n[0] = (...c) => i.hoverItem && i.hoverItem(...c)),
    onClick: n[1] || (n[1] = withModifiers((...c) => i.selectOptionClick && i.selectOptionClick(...c), ["stop"]))
  }, [
    renderSlot(i.$slots, "default", {}, () => [
      createElementVNode("span", null, toDisplayString(i.currentLabel), 1)
    ])
  ], 34)), [
    [vShow, i.visible]
  ]);
}
var Option = /* @__PURE__ */ _export_sfc(_sfc_main$b, [["render", _sfc_render$3], ["__file", "/home/runner/work/element-plus/element-plus/packages/components/select/src/option.vue"]]);
const _sfc_main$a = defineComponent({
  name: "ElSelectDropdown",
  componentName: "ElSelectDropdown",
  setup() {
    const i = inject(selectKey), n = useNamespace("select"), r = computed(() => i.props.popperClass), o = computed(() => i.props.multiple), a = computed(() => i.props.fitInputWidth), u = ref("");
    function c() {
      var f;
      u.value = `${(f = i.selectWrapper) == null ? void 0 : f.offsetWidth}px`;
    }
    return onMounted(() => {
      c(), useResizeObserver(i.selectWrapper, c);
    }), {
      ns: n,
      minWidth: u,
      popperClass: r,
      isMultiple: o,
      isFitInputWidth: a
    };
  }
});
function _sfc_render$2(i, n, r, o, a, u) {
  return openBlock(), createElementBlock("div", {
    class: normalizeClass([i.ns.b("dropdown"), i.ns.is("multiple", i.isMultiple), i.popperClass]),
    style: normalizeStyle$1({ [i.isFitInputWidth ? "width" : "minWidth"]: i.minWidth })
  }, [
    renderSlot(i.$slots, "default")
  ], 6);
}
var ElSelectMenu = /* @__PURE__ */ _export_sfc(_sfc_main$a, [["render", _sfc_render$2], ["__file", "/home/runner/work/element-plus/element-plus/packages/components/select/src/select-dropdown.vue"]]);
function useSelectStates(i) {
  const { t: n } = useLocale();
  return reactive({
    options: /* @__PURE__ */ new Map(),
    cachedOptions: /* @__PURE__ */ new Map(),
    createdLabel: null,
    createdSelected: !1,
    selected: i.multiple ? [] : {},
    inputLength: 20,
    inputWidth: 0,
    optionsCount: 0,
    filteredOptionsCount: 0,
    visible: !1,
    selectedLabel: "",
    hoverIndex: -1,
    query: "",
    previousQuery: null,
    inputHovering: !1,
    cachedPlaceHolder: "",
    currentPlaceholder: n("el.select.placeholder"),
    menuVisibleOnFocus: !1,
    isOnComposition: !1,
    prefixWidth: 11,
    mouseEnter: !1
  });
}
let ignoreFocusEvent = !1;
const useSelect = (i, n, r) => {
  const { t: o } = useLocale(), a = useNamespace("select");
  useDeprecated({
    from: "suffixTransition",
    replacement: "override style scheme",
    version: "2.3.0",
    scope: "props",
    ref: "https://element-plus.org/en-US/component/select.html#select-attributes"
  }, computed(() => i.suffixTransition === !1));
  const u = ref(null), c = ref(null), f = ref(null), d = ref(null), p = ref(null), y = ref(null), v = ref(null), g = ref(null), _ = ref(-1), b = shallowRef({ query: "" }), A = shallowRef(""), w = ref([]);
  let S = 0;
  const { form: T, formItem: x } = useFormItem(), L = computed(() => !i.filterable || i.multiple || !n.visible), k = computed(() => i.disabled || (T == null ? void 0 : T.disabled)), M = computed(() => {
    const An = i.multiple ? Array.isArray(i.modelValue) && i.modelValue.length > 0 : i.modelValue !== void 0 && i.modelValue !== null && i.modelValue !== "";
    return i.clearable && !k.value && n.inputHovering && An;
  }), O = computed(() => i.remote && i.filterable && !i.remoteShowSuffix ? "" : i.suffixIcon), ie = computed(() => a.is("reverse", O.value && n.visible && i.suffixTransition)), F = computed(() => i.remote ? 300 : 0), j = computed(() => i.loading ? i.loadingText || o("el.select.loading") : i.remote && n.query === "" && n.options.size === 0 ? !1 : i.filterable && n.query && n.options.size > 0 && n.filteredOptionsCount === 0 ? i.noMatchText || o("el.select.noMatch") : n.options.size === 0 ? i.noDataText || o("el.select.noData") : null), D = computed(() => {
    const An = Array.from(n.options.values()), Sn = [];
    return w.value.forEach((Rn) => {
      const Mn = An.findIndex((Pn) => Pn.currentLabel === Rn);
      Mn > -1 && Sn.push(An[Mn]);
    }), Sn.length ? Sn : An;
  }), Y = computed(() => Array.from(n.cachedOptions.values())), z = computed(() => {
    const An = D.value.filter((Sn) => !Sn.created).some((Sn) => Sn.currentLabel === n.query);
    return i.filterable && i.allowCreate && n.query !== "" && !An;
  }), Ie = useFormSize(), ue = computed(() => ["small"].includes(Ie.value) ? "small" : "default"), Ce = computed({
    get() {
      return n.visible && j.value !== !1;
    },
    set(An) {
      n.visible = An;
    }
  });
  watch([() => k.value, () => Ie.value, () => T == null ? void 0 : T.size], () => {
    nextTick(() => {
      pe();
    });
  }), watch(() => i.placeholder, (An) => {
    n.cachedPlaceHolder = n.currentPlaceholder = An, i.multiple && Array.isArray(i.modelValue) && i.modelValue.length > 0 && (n.currentPlaceholder = "");
  }), watch(() => i.modelValue, (An, Sn) => {
    i.multiple && (pe(), An && An.length > 0 || c.value && n.query !== "" ? n.currentPlaceholder = "" : n.currentPlaceholder = n.cachedPlaceHolder, i.filterable && !i.reserveKeyword && (n.query = "", Ne(n.query))), Pt(), i.filterable && !i.multiple && (n.inputLength = 20), !isEqual(An, Sn) && i.validateEvent && (x == null || x.validate("change").catch((Rn) => debugWarn(Rn)));
  }, {
    flush: "post",
    deep: !0
  }), watch(() => n.visible, (An) => {
    var Sn, Rn, Mn, Pn, kn;
    An ? ((Rn = (Sn = d.value) == null ? void 0 : Sn.updatePopper) == null || Rn.call(Sn), i.filterable && (n.filteredOptionsCount = n.optionsCount, n.query = i.remote ? "" : n.selectedLabel, (Pn = (Mn = f.value) == null ? void 0 : Mn.focus) == null || Pn.call(Mn), i.multiple ? (kn = c.value) == null || kn.focus() : n.selectedLabel && (n.currentPlaceholder = `${n.selectedLabel}`, n.selectedLabel = ""), Ne(n.query), !i.multiple && !i.remote && (b.value.query = "", triggerRef(b), triggerRef(A)))) : (i.filterable && (isFunction(i.filterMethod) && i.filterMethod(""), isFunction(i.remoteMethod) && i.remoteMethod("")), c.value && c.value.blur(), n.query = "", n.previousQuery = null, n.selectedLabel = "", n.inputLength = 20, n.menuVisibleOnFocus = !1, In(), nextTick(() => {
      c.value && c.value.value === "" && n.selected.length === 0 && (n.currentPlaceholder = n.cachedPlaceHolder);
    }), i.multiple || (n.selected && (i.filterable && i.allowCreate && n.createdSelected && n.createdLabel ? n.selectedLabel = n.createdLabel : n.selectedLabel = n.selected.currentLabel, i.filterable && (n.query = n.selectedLabel)), i.filterable && (n.currentPlaceholder = n.cachedPlaceHolder))), r.emit("visible-change", An);
  }), watch(() => n.options.entries(), () => {
    var An, Sn, Rn;
    if (!isClient)
      return;
    (Sn = (An = d.value) == null ? void 0 : An.updatePopper) == null || Sn.call(An), i.multiple && pe();
    const Mn = ((Rn = v.value) == null ? void 0 : Rn.querySelectorAll("input")) || [];
    Array.from(Mn).includes(document.activeElement) || Pt(), i.defaultFirstOption && (i.filterable || i.remote) && n.filteredOptionsCount && hn();
  }, {
    flush: "post"
  }), watch(() => n.hoverIndex, (An) => {
    isNumber(An) && An > -1 ? _.value = D.value[An] || {} : _.value = {}, D.value.forEach((Sn) => {
      Sn.hover = _.value === Sn;
    });
  });
  const pe = () => {
    nextTick(() => {
      var An, Sn;
      if (!u.value)
        return;
      const Rn = u.value.$el.querySelector("input");
      S = S || (Rn.clientHeight > 0 ? Rn.clientHeight + 2 : 0);
      const Mn = y.value, Pn = getComponentSize(Ie.value || (T == null ? void 0 : T.size)), kn = Ie.value || Pn === S || S <= 0 ? Pn : S;
      !(Rn.offsetParent === null) && (Rn.style.height = `${(n.selected.length === 0 ? kn : Math.max(Mn ? Mn.clientHeight + (Mn.clientHeight > kn ? 6 : 0) : 0, kn)) - 2}px`), n.visible && j.value !== !1 && ((Sn = (An = d.value) == null ? void 0 : An.updatePopper) == null || Sn.call(An));
    });
  }, Ne = async (An) => {
    if (!(n.previousQuery === An || n.isOnComposition)) {
      if (n.previousQuery === null && (isFunction(i.filterMethod) || isFunction(i.remoteMethod))) {
        n.previousQuery = An;
        return;
      }
      n.previousQuery = An, nextTick(() => {
        var Sn, Rn;
        n.visible && ((Rn = (Sn = d.value) == null ? void 0 : Sn.updatePopper) == null || Rn.call(Sn));
      }), n.hoverIndex = -1, i.multiple && i.filterable && nextTick(() => {
        const Sn = c.value.value.length * 15 + 20;
        n.inputLength = i.collapseTags ? Math.min(50, Sn) : Sn, xe(), pe();
      }), i.remote && isFunction(i.remoteMethod) ? (n.hoverIndex = -1, i.remoteMethod(An)) : isFunction(i.filterMethod) ? (i.filterMethod(An), triggerRef(A)) : (n.filteredOptionsCount = n.optionsCount, b.value.query = An, triggerRef(b), triggerRef(A)), i.defaultFirstOption && (i.filterable || i.remote) && n.filteredOptionsCount && (await nextTick(), hn());
    }
  }, xe = () => {
    n.currentPlaceholder !== "" && (n.currentPlaceholder = c.value.value ? "" : n.cachedPlaceHolder);
  }, hn = () => {
    const An = D.value.filter((Mn) => Mn.visible && !Mn.disabled && !Mn.states.groupDisabled), Sn = An.find((Mn) => Mn.created), Rn = An[0];
    n.hoverIndex = $e(D.value, Sn || Rn);
  }, Pt = () => {
    var An;
    if (i.multiple)
      n.selectedLabel = "";
    else {
      const Rn = _n(i.modelValue);
      (An = Rn.props) != null && An.created ? (n.createdLabel = Rn.props.value, n.createdSelected = !0) : n.createdSelected = !1, n.selectedLabel = Rn.currentLabel, n.selected = Rn, i.filterable && (n.query = n.selectedLabel);
      return;
    }
    const Sn = [];
    Array.isArray(i.modelValue) && i.modelValue.forEach((Rn) => {
      Sn.push(_n(Rn));
    }), n.selected = Sn, nextTick(() => {
      pe();
    });
  }, _n = (An) => {
    let Sn;
    const Rn = toRawType(An).toLowerCase() === "object", Mn = toRawType(An).toLowerCase() === "null", Pn = toRawType(An).toLowerCase() === "undefined";
    for (let Dn = n.cachedOptions.size - 1; Dn >= 0; Dn--) {
      const On = Y.value[Dn];
      if (Rn ? get$1(On.value, i.valueKey) === get$1(An, i.valueKey) : On.value === An) {
        Sn = {
          value: An,
          currentLabel: On.currentLabel,
          isDisabled: On.isDisabled
        };
        break;
      }
    }
    if (Sn)
      return Sn;
    const kn = Rn ? An.label : !Mn && !Pn ? An : "", $n = {
      value: An,
      currentLabel: kn
    };
    return i.multiple && ($n.hitState = !1), $n;
  }, In = () => {
    setTimeout(() => {
      const An = i.valueKey;
      i.multiple ? n.selected.length > 0 ? n.hoverIndex = Math.min.apply(null, n.selected.map((Sn) => D.value.findIndex((Rn) => get$1(Rn, An) === get$1(Sn, An)))) : n.hoverIndex = -1 : n.hoverIndex = D.value.findIndex((Sn) => qe(Sn) === qe(n.selected));
    }, 300);
  }, Dt = () => {
    var An, Sn;
    he(), (Sn = (An = d.value) == null ? void 0 : An.updatePopper) == null || Sn.call(An), i.multiple && pe();
  }, he = () => {
    var An;
    n.inputWidth = (An = u.value) == null ? void 0 : An.$el.offsetWidth;
  }, At = () => {
    i.filterable && n.query !== n.selectedLabel && (n.query = n.selectedLabel, Ne(n.query));
  }, Lt = debounce(() => {
    At();
  }, F.value), Cn = debounce((An) => {
    Ne(An.target.value);
  }, F.value), ze = (An) => {
    isEqual(i.modelValue, An) || r.emit(CHANGE_EVENT, An);
  }, _e = (An) => {
    if (An.code !== EVENT_CODE.delete) {
      if (An.target.value.length <= 0 && !re()) {
        const Sn = i.modelValue.slice();
        Sn.pop(), r.emit(UPDATE_MODEL_EVENT, Sn), ze(Sn);
      }
      An.target.value.length === 1 && i.modelValue.length === 0 && (n.currentPlaceholder = n.cachedPlaceHolder);
    }
  }, de = (An, Sn) => {
    const Rn = n.selected.indexOf(Sn);
    if (Rn > -1 && !k.value) {
      const Mn = i.modelValue.slice();
      Mn.splice(Rn, 1), r.emit(UPDATE_MODEL_EVENT, Mn), ze(Mn), r.emit("remove-tag", Sn.value);
    }
    An.stopPropagation();
  }, Et = (An) => {
    An.stopPropagation();
    const Sn = i.multiple ? [] : "";
    if (!isString(Sn))
      for (const Rn of n.selected)
        Rn.isDisabled && Sn.push(Rn.value);
    r.emit(UPDATE_MODEL_EVENT, Sn), ze(Sn), n.hoverIndex = -1, n.visible = !1, r.emit("clear");
  }, Ve = (An) => {
    var Sn;
    if (i.multiple) {
      const Rn = (i.modelValue || []).slice(), Mn = $e(Rn, An.value);
      Mn > -1 ? Rn.splice(Mn, 1) : (i.multipleLimit <= 0 || Rn.length < i.multipleLimit) && Rn.push(An.value), r.emit(UPDATE_MODEL_EVENT, Rn), ze(Rn), An.created && (n.query = "", Ne(""), n.inputLength = 20), i.filterable && ((Sn = c.value) == null || Sn.focus());
    } else
      r.emit(UPDATE_MODEL_EVENT, An.value), ze(An.value), n.visible = !1;
    kt(), !n.visible && nextTick(() => {
      jt(An);
    });
  }, $e = (An = [], Sn) => {
    if (!isObject(Sn))
      return An.indexOf(Sn);
    const Rn = i.valueKey;
    let Mn = -1;
    return An.some((Pn, kn) => toRaw(get$1(Pn, Rn)) === get$1(Sn, Rn) ? (Mn = kn, !0) : !1), Mn;
  }, kt = () => {
    const An = c.value || u.value;
    An && (An == null || An.focus());
  }, jt = (An) => {
    var Sn, Rn, Mn, Pn, kn;
    const $n = Array.isArray(An) ? An[0] : An;
    let Dn = null;
    if ($n != null && $n.value) {
      const On = D.value.filter((Gn) => Gn.value === $n.value);
      On.length > 0 && (Dn = On[0].$el);
    }
    if (d.value && Dn) {
      const On = (Pn = (Mn = (Rn = (Sn = d.value) == null ? void 0 : Sn.popperRef) == null ? void 0 : Rn.contentRef) == null ? void 0 : Mn.querySelector) == null ? void 0 : Pn.call(Mn, `.${a.be("dropdown", "wrap")}`);
      On && scrollIntoView(On, Dn);
    }
    (kn = g.value) == null || kn.handleScroll();
  }, bn = (An) => {
    n.optionsCount++, n.filteredOptionsCount++, n.options.set(An.value, An), n.cachedOptions.set(An.value, An);
  }, oe = (An, Sn) => {
    n.options.get(An) === Sn && (n.optionsCount--, n.filteredOptionsCount--, n.options.delete(An));
  }, ae = (An) => {
    An.code !== EVENT_CODE.backspace && re(!1), n.inputLength = c.value.value.length * 15 + 20, pe();
  }, re = (An) => {
    if (!Array.isArray(n.selected))
      return;
    const Sn = n.selected[n.selected.length - 1];
    if (Sn)
      return An === !0 || An === !1 ? (Sn.hitState = An, An) : (Sn.hitState = !Sn.hitState, Sn.hitState);
  }, V = (An) => {
    const Sn = An.target.value;
    if (An.type === "compositionend")
      n.isOnComposition = !1, nextTick(() => Ne(Sn));
    else {
      const Rn = Sn[Sn.length - 1] || "";
      n.isOnComposition = !isKorean(Rn);
    }
  }, $ = () => {
    nextTick(() => jt(n.selected));
  }, le = (An) => {
    ignoreFocusEvent ? ignoreFocusEvent = !1 : ((i.automaticDropdown || i.filterable) && (i.filterable && !n.visible && (n.menuVisibleOnFocus = !0), n.visible = !0), r.emit("focus", An));
  }, Oe = () => {
    var An, Sn, Rn;
    n.visible = !1, (An = u.value) == null || An.blur(), (Rn = (Sn = f.value) == null ? void 0 : Sn.blur) == null || Rn.call(Sn);
  }, Ue = (An) => {
    setTimeout(() => {
      var Sn;
      if ((Sn = d.value) != null && Sn.isFocusInsideContent()) {
        ignoreFocusEvent = !0;
        return;
      }
      n.visible && wn(), r.emit("blur", An);
    });
  }, vn = (An) => {
    Et(An);
  }, wn = () => {
    n.visible = !1;
  }, xn = (An) => {
    n.visible && (An.preventDefault(), An.stopPropagation(), n.visible = !1);
  }, Bn = (An) => {
    var Sn;
    An && !n.mouseEnter || k.value || (n.menuVisibleOnFocus ? n.menuVisibleOnFocus = !1 : (!d.value || !d.value.isFocusInsideContent()) && (n.visible = !n.visible), n.visible && ((Sn = c.value || u.value) == null || Sn.focus()));
  }, Fe = () => {
    n.visible ? D.value[n.hoverIndex] && Ve(D.value[n.hoverIndex]) : Bn();
  }, qe = (An) => isObject(An.value) ? get$1(An.value, i.valueKey) : An.value, Tn = computed(() => D.value.filter((An) => An.visible).every((An) => An.disabled)), En = computed(() => n.selected.slice(0, i.maxCollapseTags)), Ln = computed(() => n.selected.slice(i.maxCollapseTags)), Nn = (An) => {
    if (!n.visible) {
      n.visible = !0;
      return;
    }
    if (!(n.options.size === 0 || n.filteredOptionsCount === 0) && !n.isOnComposition && !Tn.value) {
      An === "next" ? (n.hoverIndex++, n.hoverIndex === n.options.size && (n.hoverIndex = 0)) : An === "prev" && (n.hoverIndex--, n.hoverIndex < 0 && (n.hoverIndex = n.options.size - 1));
      const Sn = D.value[n.hoverIndex];
      (Sn.disabled === !0 || Sn.states.groupDisabled === !0 || !Sn.visible) && Nn(An), nextTick(() => jt(_.value));
    }
  };
  return {
    optionList: w,
    optionsArray: D,
    selectSize: Ie,
    handleResize: Dt,
    debouncedOnInputChange: Lt,
    debouncedQueryChange: Cn,
    deletePrevTag: _e,
    deleteTag: de,
    deleteSelected: Et,
    handleOptionSelect: Ve,
    scrollToOption: jt,
    readonly: L,
    resetInputHeight: pe,
    showClose: M,
    iconComponent: O,
    iconReverse: ie,
    showNewOption: z,
    collapseTagSize: ue,
    setSelected: Pt,
    managePlaceholder: xe,
    selectDisabled: k,
    emptyText: j,
    toggleLastOptionHitState: re,
    resetInputState: ae,
    handleComposition: V,
    onOptionCreate: bn,
    onOptionDestroy: oe,
    handleMenuEnter: $,
    handleFocus: le,
    blur: Oe,
    handleBlur: Ue,
    handleClearClick: vn,
    handleClose: wn,
    handleKeydownEscape: xn,
    toggleMenu: Bn,
    selectOption: Fe,
    getValueKey: qe,
    navigateOptions: Nn,
    handleDeleteTooltipTag: (An, Sn) => {
      var Rn, Mn;
      de(An, Sn), (Mn = (Rn = p.value) == null ? void 0 : Rn.updatePopper) == null || Mn.call(Rn);
    },
    dropMenuVisible: Ce,
    queryChange: b,
    groupQueryChange: A,
    showTagList: En,
    collapseTagList: Ln,
    reference: u,
    input: c,
    iOSInput: f,
    tooltipRef: d,
    tagTooltipRef: p,
    tags: y,
    selectWrapper: v,
    scrollbar: g,
    handleMouseEnter: () => {
      n.mouseEnter = !0;
    },
    handleMouseLeave: () => {
      n.mouseEnter = !1;
    }
  };
};
var ElOptions = defineComponent({
  name: "ElOptions",
  emits: ["update-options"],
  setup(i, { slots: n, emit: r }) {
    let o = [];
    function a(u, c) {
      if (u.length !== c.length)
        return !1;
      for (const [f] of u.entries())
        if (u[f] != c[f])
          return !1;
      return !0;
    }
    return () => {
      var u, c;
      const f = (u = n.default) == null ? void 0 : u.call(n), d = [];
      function p(y) {
        Array.isArray(y) && y.forEach((v) => {
          var g, _, b, A;
          const w = (g = (v == null ? void 0 : v.type) || {}) == null ? void 0 : g.name;
          w === "ElOptionGroup" ? p(!isString(v.children) && !Array.isArray(v.children) && isFunction((_ = v.children) == null ? void 0 : _.default) ? (b = v.children) == null ? void 0 : b.default() : v.children) : w === "ElOption" ? d.push((A = v.props) == null ? void 0 : A.label) : Array.isArray(v.children) && p(v.children);
        });
      }
      return f.length && p((c = f[0]) == null ? void 0 : c.children), a(d, o) || (o = d, r("update-options", d)), f;
    };
  }
});
const COMPONENT_NAME = "ElSelect", _sfc_main$9 = defineComponent({
  name: COMPONENT_NAME,
  componentName: COMPONENT_NAME,
  components: {
    ElInput,
    ElSelectMenu,
    ElOption: Option,
    ElOptions,
    ElTag,
    ElScrollbar,
    ElTooltip,
    ElIcon
  },
  directives: { ClickOutside },
  props: {
    name: String,
    id: String,
    modelValue: {
      type: [Array, String, Number, Boolean, Object],
      default: void 0
    },
    autocomplete: {
      type: String,
      default: "off"
    },
    automaticDropdown: Boolean,
    size: {
      type: String,
      validator: isValidComponentSize
    },
    effect: {
      type: String,
      default: "light"
    },
    disabled: Boolean,
    clearable: Boolean,
    filterable: Boolean,
    allowCreate: Boolean,
    loading: Boolean,
    popperClass: {
      type: String,
      default: ""
    },
    popperOptions: {
      type: Object,
      default: () => ({})
    },
    remote: Boolean,
    loadingText: String,
    noMatchText: String,
    noDataText: String,
    remoteMethod: Function,
    filterMethod: Function,
    multiple: Boolean,
    multipleLimit: {
      type: Number,
      default: 0
    },
    placeholder: {
      type: String
    },
    defaultFirstOption: Boolean,
    reserveKeyword: {
      type: Boolean,
      default: !0
    },
    valueKey: {
      type: String,
      default: "value"
    },
    collapseTags: Boolean,
    collapseTagsTooltip: {
      type: Boolean,
      default: !1
    },
    maxCollapseTags: {
      type: Number,
      default: 1
    },
    teleported: useTooltipContentProps.teleported,
    persistent: {
      type: Boolean,
      default: !0
    },
    clearIcon: {
      type: iconPropType,
      default: circle_close_default
    },
    fitInputWidth: {
      type: Boolean,
      default: !1
    },
    suffixIcon: {
      type: iconPropType,
      default: arrow_down_default
    },
    tagType: { ...tagProps.type, default: "info" },
    validateEvent: {
      type: Boolean,
      default: !0
    },
    remoteShowSuffix: {
      type: Boolean,
      default: !1
    },
    suffixTransition: {
      type: Boolean,
      default: !0
    },
    placement: {
      type: String,
      values: Ee,
      default: "bottom-start"
    }
  },
  emits: [
    UPDATE_MODEL_EVENT,
    CHANGE_EVENT,
    "remove-tag",
    "clear",
    "visible-change",
    "focus",
    "blur"
  ],
  setup(i, n) {
    const r = useNamespace("select"), o = useNamespace("input"), { t: a } = useLocale(), u = useSelectStates(i), {
      optionList: c,
      optionsArray: f,
      selectSize: d,
      readonly: p,
      handleResize: y,
      collapseTagSize: v,
      debouncedOnInputChange: g,
      debouncedQueryChange: _,
      deletePrevTag: b,
      deleteTag: A,
      deleteSelected: w,
      handleOptionSelect: S,
      scrollToOption: T,
      setSelected: x,
      resetInputHeight: L,
      managePlaceholder: k,
      showClose: M,
      selectDisabled: O,
      iconComponent: ie,
      iconReverse: F,
      showNewOption: j,
      emptyText: D,
      toggleLastOptionHitState: Y,
      resetInputState: z,
      handleComposition: Ie,
      onOptionCreate: ue,
      onOptionDestroy: Ce,
      handleMenuEnter: pe,
      handleFocus: Ne,
      blur: xe,
      handleBlur: hn,
      handleClearClick: Pt,
      handleClose: _n,
      handleKeydownEscape: In,
      toggleMenu: Dt,
      selectOption: he,
      getValueKey: At,
      navigateOptions: Lt,
      handleDeleteTooltipTag: Cn,
      dropMenuVisible: ze,
      reference: _e,
      input: de,
      iOSInput: Et,
      tooltipRef: Ve,
      tagTooltipRef: $e,
      tags: kt,
      selectWrapper: jt,
      scrollbar: bn,
      queryChange: oe,
      groupQueryChange: ae,
      handleMouseEnter: re,
      handleMouseLeave: V,
      showTagList: $,
      collapseTagList: le
    } = useSelect(i, u, n), { focus: Oe } = useFocus(_e), {
      inputWidth: Ue,
      selected: vn,
      inputLength: wn,
      filteredOptionsCount: xn,
      visible: Bn,
      selectedLabel: Fe,
      hoverIndex: qe,
      query: Tn,
      inputHovering: En,
      currentPlaceholder: Ln,
      menuVisibleOnFocus: Nn,
      isOnComposition: Vn,
      options: Hn,
      cachedOptions: Wn,
      optionsCount: An,
      prefixWidth: Sn
    } = toRefs(u), Rn = computed(() => {
      const Fn = [r.b()], Zn = unref(d);
      return Zn && Fn.push(r.m(Zn)), i.disabled && Fn.push(r.m("disabled")), Fn;
    }), Mn = computed(() => [
      r.e("tags"),
      r.is("disabled", unref(O))
    ]), Pn = computed(() => [
      r.b("tags-wrapper"),
      { "has-prefix": unref(Sn) && unref(vn).length }
    ]), kn = computed(() => [
      r.e("input"),
      r.is(unref(d)),
      r.is("disabled", unref(O))
    ]), $n = computed(() => [
      r.e("input"),
      r.is(unref(d)),
      r.em("input", "iOS")
    ]), Dn = computed(() => [
      r.is("empty", !i.allowCreate && !!unref(Tn) && unref(xn) === 0)
    ]), On = computed(() => ({
      maxWidth: `${unref(Ue) - 32}px`,
      width: "100%"
    })), Gn = computed(() => ({ maxWidth: `${unref(Ue) > 123 ? unref(Ue) - 123 : unref(Ue) - 75}px` })), zn = computed(() => ({
      marginLeft: `${unref(Sn)}px`,
      flexGrow: 1,
      width: `${unref(wn) / (unref(Ue) - 32)}%`,
      maxWidth: `${unref(Ue) - 42}px`
    }));
    provide(selectKey, reactive({
      props: i,
      options: Hn,
      optionsArray: f,
      cachedOptions: Wn,
      optionsCount: An,
      filteredOptionsCount: xn,
      hoverIndex: qe,
      handleOptionSelect: S,
      onOptionCreate: ue,
      onOptionDestroy: Ce,
      selectWrapper: jt,
      selected: vn,
      setSelected: x,
      queryChange: oe,
      groupQueryChange: ae
    })), onMounted(() => {
      u.cachedPlaceHolder = Ln.value = i.placeholder || (() => a("el.select.placeholder")), i.multiple && Array.isArray(i.modelValue) && i.modelValue.length > 0 && (Ln.value = ""), useResizeObserver(jt, y), i.remote && i.multiple && L(), nextTick(() => {
        const Fn = _e.value && _e.value.$el;
        if (Fn && (Ue.value = Fn.getBoundingClientRect().width, n.slots.prefix)) {
          const Zn = Fn.querySelector(`.${o.e("prefix")}`);
          Sn.value = Math.max(Zn.getBoundingClientRect().width + 11, 30);
        }
      }), x();
    }), i.multiple && !Array.isArray(i.modelValue) && n.emit(UPDATE_MODEL_EVENT, []), !i.multiple && Array.isArray(i.modelValue) && n.emit(UPDATE_MODEL_EVENT, "");
    const Yn = computed(() => {
      var Fn, Zn;
      return (Zn = (Fn = Ve.value) == null ? void 0 : Fn.popperRef) == null ? void 0 : Zn.contentRef;
    });
    return {
      isIOS,
      onOptionsRendered: (Fn) => {
        c.value = Fn;
      },
      prefixWidth: Sn,
      selectSize: d,
      readonly: p,
      handleResize: y,
      collapseTagSize: v,
      debouncedOnInputChange: g,
      debouncedQueryChange: _,
      deletePrevTag: b,
      deleteTag: A,
      handleDeleteTooltipTag: Cn,
      deleteSelected: w,
      handleOptionSelect: S,
      scrollToOption: T,
      inputWidth: Ue,
      selected: vn,
      inputLength: wn,
      filteredOptionsCount: xn,
      visible: Bn,
      selectedLabel: Fe,
      hoverIndex: qe,
      query: Tn,
      inputHovering: En,
      currentPlaceholder: Ln,
      menuVisibleOnFocus: Nn,
      isOnComposition: Vn,
      options: Hn,
      resetInputHeight: L,
      managePlaceholder: k,
      showClose: M,
      selectDisabled: O,
      iconComponent: ie,
      iconReverse: F,
      showNewOption: j,
      emptyText: D,
      toggleLastOptionHitState: Y,
      resetInputState: z,
      handleComposition: Ie,
      handleMenuEnter: pe,
      handleFocus: Ne,
      blur: xe,
      handleBlur: hn,
      handleClearClick: Pt,
      handleClose: _n,
      handleKeydownEscape: In,
      toggleMenu: Dt,
      selectOption: he,
      getValueKey: At,
      navigateOptions: Lt,
      dropMenuVisible: ze,
      focus: Oe,
      reference: _e,
      input: de,
      iOSInput: Et,
      tooltipRef: Ve,
      popperPaneRef: Yn,
      tags: kt,
      selectWrapper: jt,
      scrollbar: bn,
      wrapperKls: Rn,
      tagsKls: Mn,
      tagWrapperKls: Pn,
      inputKls: kn,
      iOSInputKls: $n,
      scrollbarKls: Dn,
      selectTagsStyle: On,
      nsSelect: r,
      tagTextStyle: Gn,
      inputStyle: zn,
      handleMouseEnter: re,
      handleMouseLeave: V,
      showTagList: $,
      collapseTagList: le,
      tagTooltipRef: $e
    };
  }
}), _hoisted_1$5 = ["disabled", "autocomplete"], _hoisted_2$3 = ["disabled"], _hoisted_3$3 = { style: { height: "100%", display: "flex", "justify-content": "center", "align-items": "center" } };
function _sfc_render$1(i, n, r, o, a, u) {
  const c = resolveComponent("el-tag"), f = resolveComponent("el-tooltip"), d = resolveComponent("el-icon"), p = resolveComponent("el-input"), y = resolveComponent("el-option"), v = resolveComponent("el-options"), g = resolveComponent("el-scrollbar"), _ = resolveComponent("el-select-menu"), b = resolveDirective("click-outside");
  return withDirectives((openBlock(), createElementBlock("div", {
    ref: "selectWrapper",
    class: normalizeClass(i.wrapperKls),
    onMouseenter: n[21] || (n[21] = (...A) => i.handleMouseEnter && i.handleMouseEnter(...A)),
    onMouseleave: n[22] || (n[22] = (...A) => i.handleMouseLeave && i.handleMouseLeave(...A)),
    onClick: n[23] || (n[23] = withModifiers((...A) => i.toggleMenu && i.toggleMenu(...A), ["stop"]))
  }, [
    createVNode$1(f, {
      ref: "tooltipRef",
      visible: i.dropMenuVisible,
      placement: i.placement,
      teleported: i.teleported,
      "popper-class": [i.nsSelect.e("popper"), i.popperClass],
      "popper-options": i.popperOptions,
      "fallback-placements": ["bottom-start", "top-start", "right", "left"],
      effect: i.effect,
      pure: "",
      trigger: "click",
      transition: `${i.nsSelect.namespace.value}-zoom-in-top`,
      "stop-popper-mouse-event": !1,
      "gpu-acceleration": !1,
      persistent: i.persistent,
      onShow: i.handleMenuEnter
    }, {
      default: withCtx(() => [
        createElementVNode("div", {
          class: "select-trigger",
          onMouseenter: n[19] || (n[19] = (A) => i.inputHovering = !0),
          onMouseleave: n[20] || (n[20] = (A) => i.inputHovering = !1)
        }, [
          i.multiple ? (openBlock(), createElementBlock("div", {
            key: 0,
            ref: "tags",
            class: normalizeClass(i.tagsKls),
            style: normalizeStyle$1(i.selectTagsStyle)
          }, [
            i.collapseTags && i.selected.length ? (openBlock(), createBlock(Transition, {
              key: 0,
              onAfterLeave: i.resetInputHeight
            }, {
              default: withCtx(() => [
                createElementVNode("span", {
                  class: normalizeClass(i.tagWrapperKls)
                }, [
                  (openBlock(!0), createElementBlock(Fragment, null, renderList(i.showTagList, (A) => (openBlock(), createBlock(c, {
                    key: i.getValueKey(A),
                    closable: !i.selectDisabled && !A.isDisabled,
                    size: i.collapseTagSize,
                    hit: A.hitState,
                    type: i.tagType,
                    "disable-transitions": "",
                    onClose: (w) => i.deleteTag(w, A)
                  }, {
                    default: withCtx(() => [
                      createElementVNode("span", {
                        class: normalizeClass(i.nsSelect.e("tags-text")),
                        style: normalizeStyle$1(i.tagTextStyle)
                      }, toDisplayString(A.currentLabel), 7)
                    ]),
                    _: 2
                  }, 1032, ["closable", "size", "hit", "type", "onClose"]))), 128)),
                  i.selected.length > i.maxCollapseTags ? (openBlock(), createBlock(c, {
                    key: 0,
                    closable: !1,
                    size: i.collapseTagSize,
                    type: i.tagType,
                    "disable-transitions": ""
                  }, {
                    default: withCtx(() => [
                      i.collapseTagsTooltip ? (openBlock(), createBlock(f, {
                        key: 0,
                        ref: "tagTooltipRef",
                        disabled: i.dropMenuVisible,
                        "fallback-placements": ["bottom", "top", "right", "left"],
                        effect: i.effect,
                        placement: "bottom",
                        teleported: i.teleported
                      }, {
                        default: withCtx(() => [
                          createElementVNode("span", {
                            class: normalizeClass(i.nsSelect.e("tags-text"))
                          }, "+ " + toDisplayString(i.selected.length - i.maxCollapseTags), 3)
                        ]),
                        content: withCtx(() => [
                          createElementVNode("div", {
                            class: normalizeClass(i.nsSelect.e("collapse-tags"))
                          }, [
                            (openBlock(!0), createElementBlock(Fragment, null, renderList(i.collapseTagList, (A) => (openBlock(), createElementBlock("div", {
                              key: i.getValueKey(A),
                              class: normalizeClass(i.nsSelect.e("collapse-tag"))
                            }, [
                              createVNode$1(c, {
                                class: "in-tooltip",
                                closable: !i.selectDisabled && !A.isDisabled,
                                size: i.collapseTagSize,
                                hit: A.hitState,
                                type: i.tagType,
                                "disable-transitions": "",
                                style: { margin: "2px" },
                                onClose: (w) => i.handleDeleteTooltipTag(w, A)
                              }, {
                                default: withCtx(() => [
                                  createElementVNode("span", {
                                    class: normalizeClass(i.nsSelect.e("tags-text")),
                                    style: normalizeStyle$1({
                                      maxWidth: i.inputWidth - 75 + "px"
                                    })
                                  }, toDisplayString(A.currentLabel), 7)
                                ]),
                                _: 2
                              }, 1032, ["closable", "size", "hit", "type", "onClose"])
                            ], 2))), 128))
                          ], 2)
                        ]),
                        _: 1
                      }, 8, ["disabled", "effect", "teleported"])) : (openBlock(), createElementBlock("span", {
                        key: 1,
                        class: normalizeClass(i.nsSelect.e("tags-text"))
                      }, "+ " + toDisplayString(i.selected.length - i.maxCollapseTags), 3))
                    ]),
                    _: 1
                  }, 8, ["size", "type"])) : createCommentVNode("v-if", !0)
                ], 2)
              ]),
              _: 1
            }, 8, ["onAfterLeave"])) : createCommentVNode("v-if", !0),
            i.collapseTags ? createCommentVNode("v-if", !0) : (openBlock(), createBlock(Transition, {
              key: 1,
              onAfterLeave: i.resetInputHeight
            }, {
              default: withCtx(() => [
                createElementVNode("span", {
                  class: normalizeClass(i.tagWrapperKls),
                  style: normalizeStyle$1(i.prefixWidth && i.selected.length ? { marginLeft: `${i.prefixWidth}px` } : "")
                }, [
                  (openBlock(!0), createElementBlock(Fragment, null, renderList(i.selected, (A) => (openBlock(), createBlock(c, {
                    key: i.getValueKey(A),
                    closable: !i.selectDisabled && !A.isDisabled,
                    size: i.collapseTagSize,
                    hit: A.hitState,
                    type: i.tagType,
                    "disable-transitions": "",
                    onClose: (w) => i.deleteTag(w, A)
                  }, {
                    default: withCtx(() => [
                      createElementVNode("span", {
                        class: normalizeClass(i.nsSelect.e("tags-text")),
                        style: normalizeStyle$1({ maxWidth: i.inputWidth - 75 + "px" })
                      }, toDisplayString(A.currentLabel), 7)
                    ]),
                    _: 2
                  }, 1032, ["closable", "size", "hit", "type", "onClose"]))), 128))
                ], 6)
              ]),
              _: 1
            }, 8, ["onAfterLeave"])),
            i.filterable && !i.selectDisabled ? withDirectives((openBlock(), createElementBlock("input", {
              key: 2,
              ref: "input",
              "onUpdate:modelValue": n[0] || (n[0] = (A) => i.query = A),
              type: "text",
              class: normalizeClass(i.inputKls),
              disabled: i.selectDisabled,
              autocomplete: i.autocomplete,
              style: normalizeStyle$1(i.inputStyle),
              onFocus: n[1] || (n[1] = (...A) => i.handleFocus && i.handleFocus(...A)),
              onBlur: n[2] || (n[2] = (...A) => i.handleBlur && i.handleBlur(...A)),
              onKeyup: n[3] || (n[3] = (...A) => i.managePlaceholder && i.managePlaceholder(...A)),
              onKeydown: [
                n[4] || (n[4] = (...A) => i.resetInputState && i.resetInputState(...A)),
                n[5] || (n[5] = withKeys(withModifiers((A) => i.navigateOptions("next"), ["prevent"]), ["down"])),
                n[6] || (n[6] = withKeys(withModifiers((A) => i.navigateOptions("prev"), ["prevent"]), ["up"])),
                n[7] || (n[7] = withKeys((...A) => i.handleKeydownEscape && i.handleKeydownEscape(...A), ["esc"])),
                n[8] || (n[8] = withKeys(withModifiers((...A) => i.selectOption && i.selectOption(...A), ["stop", "prevent"]), ["enter"])),
                n[9] || (n[9] = withKeys((...A) => i.deletePrevTag && i.deletePrevTag(...A), ["delete"])),
                n[10] || (n[10] = withKeys((A) => i.visible = !1, ["tab"]))
              ],
              onCompositionstart: n[11] || (n[11] = (...A) => i.handleComposition && i.handleComposition(...A)),
              onCompositionupdate: n[12] || (n[12] = (...A) => i.handleComposition && i.handleComposition(...A)),
              onCompositionend: n[13] || (n[13] = (...A) => i.handleComposition && i.handleComposition(...A)),
              onInput: n[14] || (n[14] = (...A) => i.debouncedQueryChange && i.debouncedQueryChange(...A))
            }, null, 46, _hoisted_1$5)), [
              [vModelText, i.query]
            ]) : createCommentVNode("v-if", !0)
          ], 6)) : createCommentVNode("v-if", !0),
          createCommentVNode(" fix: https://github.com/element-plus/element-plus/issues/11415 "),
          i.isIOS && !i.multiple && i.filterable && i.readonly ? (openBlock(), createElementBlock("input", {
            key: 1,
            ref: "iOSInput",
            class: normalizeClass(i.iOSInputKls),
            disabled: i.selectDisabled,
            type: "text"
          }, null, 10, _hoisted_2$3)) : createCommentVNode("v-if", !0),
          createVNode$1(p, {
            id: i.id,
            ref: "reference",
            modelValue: i.selectedLabel,
            "onUpdate:modelValue": n[15] || (n[15] = (A) => i.selectedLabel = A),
            type: "text",
            placeholder: typeof i.currentPlaceholder == "function" ? i.currentPlaceholder() : i.currentPlaceholder,
            name: i.name,
            autocomplete: i.autocomplete,
            size: i.selectSize,
            disabled: i.selectDisabled,
            readonly: i.readonly,
            "validate-event": !1,
            class: normalizeClass([i.nsSelect.is("focus", i.visible)]),
            tabindex: i.multiple && i.filterable ? -1 : void 0,
            onFocus: i.handleFocus,
            onBlur: i.handleBlur,
            onInput: i.debouncedOnInputChange,
            onPaste: i.debouncedOnInputChange,
            onCompositionstart: i.handleComposition,
            onCompositionupdate: i.handleComposition,
            onCompositionend: i.handleComposition,
            onKeydown: [
              n[16] || (n[16] = withKeys(withModifiers((A) => i.navigateOptions("next"), ["stop", "prevent"]), ["down"])),
              n[17] || (n[17] = withKeys(withModifiers((A) => i.navigateOptions("prev"), ["stop", "prevent"]), ["up"])),
              withKeys(withModifiers(i.selectOption, ["stop", "prevent"]), ["enter"]),
              withKeys(i.handleKeydownEscape, ["esc"]),
              n[18] || (n[18] = withKeys((A) => i.visible = !1, ["tab"]))
            ]
          }, createSlots({
            suffix: withCtx(() => [
              i.iconComponent && !i.showClose ? (openBlock(), createBlock(d, {
                key: 0,
                class: normalizeClass([i.nsSelect.e("caret"), i.nsSelect.e("icon"), i.iconReverse])
              }, {
                default: withCtx(() => [
                  (openBlock(), createBlock(resolveDynamicComponent(i.iconComponent)))
                ]),
                _: 1
              }, 8, ["class"])) : createCommentVNode("v-if", !0),
              i.showClose && i.clearIcon ? (openBlock(), createBlock(d, {
                key: 1,
                class: normalizeClass([i.nsSelect.e("caret"), i.nsSelect.e("icon")]),
                onClick: i.handleClearClick
              }, {
                default: withCtx(() => [
                  (openBlock(), createBlock(resolveDynamicComponent(i.clearIcon)))
                ]),
                _: 1
              }, 8, ["class", "onClick"])) : createCommentVNode("v-if", !0)
            ]),
            _: 2
          }, [
            i.$slots.prefix ? {
              name: "prefix",
              fn: withCtx(() => [
                createElementVNode("div", _hoisted_3$3, [
                  renderSlot(i.$slots, "prefix")
                ])
              ])
            } : void 0
          ]), 1032, ["id", "modelValue", "placeholder", "name", "autocomplete", "size", "disabled", "readonly", "class", "tabindex", "onFocus", "onBlur", "onInput", "onPaste", "onCompositionstart", "onCompositionupdate", "onCompositionend", "onKeydown"])
        ], 32)
      ]),
      content: withCtx(() => [
        createVNode$1(_, null, {
          default: withCtx(() => [
            withDirectives(createVNode$1(g, {
              ref: "scrollbar",
              tag: "ul",
              "wrap-class": i.nsSelect.be("dropdown", "wrap"),
              "view-class": i.nsSelect.be("dropdown", "list"),
              class: normalizeClass(i.scrollbarKls)
            }, {
              default: withCtx(() => [
                i.showNewOption ? (openBlock(), createBlock(y, {
                  key: 0,
                  value: i.query,
                  created: !0
                }, null, 8, ["value"])) : createCommentVNode("v-if", !0),
                createVNode$1(v, { onUpdateOptions: i.onOptionsRendered }, {
                  default: withCtx(() => [
                    renderSlot(i.$slots, "default")
                  ]),
                  _: 3
                }, 8, ["onUpdateOptions"])
              ]),
              _: 3
            }, 8, ["wrap-class", "view-class", "class"]), [
              [vShow, i.options.size > 0 && !i.loading]
            ]),
            i.emptyText && (!i.allowCreate || i.loading || i.allowCreate && i.options.size === 0) ? (openBlock(), createElementBlock(Fragment, { key: 0 }, [
              i.$slots.empty ? renderSlot(i.$slots, "empty", { key: 0 }) : (openBlock(), createElementBlock("p", {
                key: 1,
                class: normalizeClass(i.nsSelect.be("dropdown", "empty"))
              }, toDisplayString(i.emptyText), 3))
            ], 64)) : createCommentVNode("v-if", !0)
          ]),
          _: 3
        })
      ]),
      _: 3
    }, 8, ["visible", "placement", "teleported", "popper-class", "popper-options", "effect", "transition", "persistent", "onShow"])
  ], 34)), [
    [b, i.handleClose, i.popperPaneRef]
  ]);
}
var Select = /* @__PURE__ */ _export_sfc(_sfc_main$9, [["render", _sfc_render$1], ["__file", "/home/runner/work/element-plus/element-plus/packages/components/select/src/select.vue"]]);
const _sfc_main$8 = defineComponent({
  name: "ElOptionGroup",
  componentName: "ElOptionGroup",
  props: {
    label: String,
    disabled: {
      type: Boolean,
      default: !1
    }
  },
  setup(i) {
    const n = useNamespace("select"), r = ref(!0), o = getCurrentInstance(), a = ref([]);
    provide(selectGroupKey, reactive({
      ...toRefs(i)
    }));
    const u = inject(selectKey);
    onMounted(() => {
      a.value = c(o.subTree);
    });
    const c = (d) => {
      const p = [];
      return Array.isArray(d.children) && d.children.forEach((y) => {
        var v;
        y.type && y.type.name === "ElOption" && y.component && y.component.proxy ? p.push(y.component.proxy) : (v = y.children) != null && v.length && p.push(...c(y));
      }), p;
    }, { groupQueryChange: f } = toRaw(u);
    return watch(f, () => {
      r.value = a.value.some((d) => d.visible === !0);
    }, { flush: "post" }), {
      visible: r,
      ns: n
    };
  }
});
function _sfc_render(i, n, r, o, a, u) {
  return withDirectives((openBlock(), createElementBlock("ul", {
    class: normalizeClass(i.ns.be("group", "wrap"))
  }, [
    createElementVNode("li", {
      class: normalizeClass(i.ns.be("group", "title"))
    }, toDisplayString(i.label), 3),
    createElementVNode("li", null, [
      createElementVNode("ul", {
        class: normalizeClass(i.ns.b("group"))
      }, [
        renderSlot(i.$slots, "default")
      ], 2)
    ])
  ], 2)), [
    [vShow, i.visible]
  ]);
}
var OptionGroup = /* @__PURE__ */ _export_sfc(_sfc_main$8, [["render", _sfc_render], ["__file", "/home/runner/work/element-plus/element-plus/packages/components/select/src/option-group.vue"]]);
const ElSelect = withInstall(Select, {
  Option,
  OptionGroup
}), ElOption = withNoopInstall(Option);
withNoopInstall(OptionGroup);
const _hoisted_1$4 = { class: "c-wall-d" }, _sfc_main$7 = /* @__PURE__ */ defineComponent({
  __name: "condition",
  props: {
    modelValue: { default: () => ({ type: EConditionType.None }) }
  },
  emits: ["update:modelValue"],
  setup(i, { emit: n }) {
    const r = i, o = computed({
      get() {
        return r.modelValue;
      },
      set(c) {
        n("update:modelValue", c);
      }
    }), a = [
      {
        label: "大于",
        val: "greater"
      },
      {
        label: "大于等于",
        val: ">="
      },
      {
        label: "小于",
        val: "<"
      },
      {
        label: "小于等于",
        val: "<="
      },
      {
        label: "等于",
        val: "=="
      },
      {
        label: "不等于",
        val: "!="
      },
      {
        label: "介于",
        val: ">=,=<"
      },
      {
        label: "不介于",
        val: "<,>"
      }
    ], u = (c) => {
      c !== "None" && (o.value.Relation = {
        key: "",
        relation: "",
        val: "",
        val2: ""
      }), n("update:modelValue", o);
    };
    return (c, f) => {
      var d, p;
      return openBlock(), createElementBlock("div", _hoisted_1$4, [
        createVNode$1(unref(ElFormItem), {
          label: "条件",
          size: "small"
        }, {
          default: withCtx(() => [
            createVNode$1(unref(ElSelect), {
              modelValue: unref(o).type,
              "onUpdate:modelValue": f[0] || (f[0] = (y) => unref(o).type = y),
              onChange: u
            }, {
              default: withCtx(() => [
                createVNode$1(unref(ElOption), {
                  value: "None",
                  label: "无"
                }),
                createVNode$1(unref(ElOption), {
                  value: "Relation",
                  label: "关系运算"
                })
              ]),
              _: 1
            }, 8, ["modelValue"])
          ]),
          _: 1
        }),
        unref(o).type === "Relation" ? (openBlock(), createBlock(unref(ElFormItem), {
          key: 0,
          label: "属性",
          size: "small"
        }, {
          default: withCtx(() => [
            createVNode$1(unref(ElInput), {
              modelValue: unref(o).Relation.key,
              "onUpdate:modelValue": f[1] || (f[1] = (y) => unref(o).Relation.key = y)
            }, null, 8, ["modelValue"])
          ]),
          _: 1
        })) : createCommentVNode("", !0),
        unref(o).type === "Relation" ? (openBlock(), createBlock(unref(ElFormItem), {
          key: 1,
          label: "关系",
          size: "small"
        }, {
          default: withCtx(() => [
            createVNode$1(unref(ElSelect), {
              modelValue: unref(o).Relation.relation,
              "onUpdate:modelValue": f[2] || (f[2] = (y) => unref(o).Relation.relation = y)
            }, {
              default: withCtx(() => [
                (openBlock(), createElementBlock(Fragment, null, renderList(a, (y, v) => createVNode$1(unref(ElOption), {
                  value: y.val,
                  label: y.label,
                  key: "rop" + v
                }, null, 8, ["value", "label"])), 64))
              ]),
              _: 1
            }, 8, ["modelValue"])
          ]),
          _: 1
        })) : createCommentVNode("", !0),
        unref(o).type === "Relation" ? (openBlock(), createBlock(unref(ElFormItem), {
          key: 2,
          label: "值",
          size: "small"
        }, {
          default: withCtx(() => [
            createVNode$1(unref(ElInput), {
              modelValue: unref(o).Relation.val,
              "onUpdate:modelValue": f[3] || (f[3] = (y) => unref(o).Relation.val = y)
            }, null, 8, ["modelValue"])
          ]),
          _: 1
        })) : createCommentVNode("", !0),
        unref(o).type === "Relation" && (((d = unref(o).Relation) == null ? void 0 : d.relation) === ">=,=<" || ((p = unref(o).Relation) == null ? void 0 : p.relation) === "<,>") ? (openBlock(), createBlock(unref(ElFormItem), {
          key: 3,
          label: "值2",
          size: "small"
        }, {
          default: withCtx(() => [
            createVNode$1(unref(ElInput), {
              modelValue: unref(o).Relation.val2,
              "onUpdate:modelValue": f[4] || (f[4] = (y) => unref(o).Relation.val2 = y)
            }, null, 8, ["modelValue"])
          ]),
          _: 1
        })) : createCommentVNode("", !0)
      ]);
    };
  }
}), condition_vue_vue_type_style_index_0_scoped_f43f10e6_lang = "", Condition = /* @__PURE__ */ _export_sfc$1(_sfc_main$7, [["__scopeId", "data-v-f43f10e6"]]), _sfc_main$6 = /* @__PURE__ */ defineComponent({
  __name: "bind-anchor",
  props: {
    modelValue: {},
    title: {}
  },
  emits: ["update:modelValue"],
  setup(i, { emit: n }) {
    const r = i, o = useGlobalStore(pinia), a = computed({
      get() {
        return r.modelValue !== null;
      },
      set(y) {
        let v = null;
        y && (v = {
          target_id: "",
          type: ""
        }), n("update:modelValue", v);
      }
    }), u = computed({
      get() {
        var y;
        return ((y = r.modelValue) == null ? void 0 : y.target_id) ?? void 0;
      },
      set(y) {
        let v = null;
        a.value && (v = {
          target_id: y,
          type: c.value
        }), n("update:modelValue", v);
      }
    }), c = computed({
      get() {
        var y;
        return ((y = r.modelValue) == null ? void 0 : y.type) ?? void 0;
      },
      set(y) {
        let v = null;
        a.value && (v = {
          target_id: u.value,
          type: y
        }), n("update:modelValue", v);
      }
    }), f = computed(
      () => o.done_json.filter((y) => y.type !== EDoneJsonType.ConnectionLine).map((y) => ({
        label: y.title,
        value: y.id
      }))
    ), d = [
      {
        label: "上锚点",
        value: ELineBindAnchors.TopCenter
      },
      {
        label: "右锚点",
        value: ELineBindAnchors.Right
      },
      {
        label: "下锚点",
        value: ELineBindAnchors.BottomCenter
      },
      {
        label: "左锚点",
        value: ELineBindAnchors.Left
      }
    ];
    function p() {
      nextTick(function() {
        var y, v;
        if (a.value && ((y = r.modelValue) != null && y.target_id) && ((v = r.modelValue) != null && v.type) && o.handle_svg_info) {
          let g = null;
          for (let _ of o.done_json)
            _.id === r.modelValue.target_id && (g = _);
          g && (setSvgActualInfo(g), moveAnchors(g));
        }
      });
    }
    return (y, v) => (openBlock(), createElementBlock(Fragment, null, [
      createVNode$1(unref(ElFormItem$1), {
        label: r.title,
        size: "small"
      }, {
        default: withCtx(() => [
          createVNode$1(unref(ElSwitch), {
            modelValue: unref(a),
            "onUpdate:modelValue": v[0] || (v[0] = (g) => isRef(a) ? a.value = g : null),
            onChange: p
          }, null, 8, ["modelValue"])
        ]),
        _: 1
      }, 8, ["label"]),
      unref(a) ? (openBlock(), createBlock(unref(ElFormItem$1), {
        key: 0,
        label: "绑定对象",
        size: "small"
      }, {
        default: withCtx(() => [
          createVNode$1(unref(ElSelect$1), {
            modelValue: unref(u),
            "onUpdate:modelValue": v[1] || (v[1] = (g) => isRef(u) ? u.value = g : null),
            onChange: p
          }, {
            default: withCtx(() => [
              (openBlock(!0), createElementBlock(Fragment, null, renderList(unref(f), (g) => (openBlock(), createBlock(unref(ElOption$1), {
                key: g.value,
                label: g.label,
                value: g.value
              }, null, 8, ["label", "value"]))), 128))
            ]),
            _: 1
          }, 8, ["modelValue"])
        ]),
        _: 1
      })) : createCommentVNode("", !0),
      unref(a) ? (openBlock(), createBlock(unref(ElFormItem$1), {
        key: 1,
        label: "绑定位置",
        size: "small"
      }, {
        default: withCtx(() => [
          createVNode$1(unref(ElSelect$1), {
            modelValue: unref(c),
            "onUpdate:modelValue": v[2] || (v[2] = (g) => isRef(c) ? c.value = g : null),
            onChange: p
          }, {
            default: withCtx(() => [
              (openBlock(), createElementBlock(Fragment, null, renderList(d, (g) => createVNode$1(unref(ElOption$1), {
                key: g.value,
                label: g.label,
                value: g.value
              }, null, 8, ["label", "value"])), 64))
            ]),
            _: 1
          }, 8, ["modelValue"])
        ]),
        _: 1
      })) : createCommentVNode("", !0)
    ], 64));
  }
}), _withScopeId = (i) => (pushScopeId("data-v-9b4c5da1"), i = i(), popScopeId(), i), _hoisted_1$3 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ createElementVNode("span", { style: { "font-weight": "bold" } }, "MQTT", -1)), _hoisted_2$2 = { key: 2 }, _hoisted_3$2 = { class: "events-title" }, _sfc_main$5 = /* @__PURE__ */ defineComponent({
  __name: "right-panel",
  setup(i) {
    const n = useConfigStore(pinia), r = useGlobalStore(pinia), o = useSvgEditLayoutStore(pinia), a = ref("page"), u = ref("style"), c = (b, A) => {
      b != null && b.common_animations && (b.common_animations.val = A);
    };
    n.$subscribe((b, A) => {
      b.storeId === "config-store" && localStorage.setItem("svg-editor-config", JSON.stringify(A));
    });
    const f = ref(numberArray(20)), d = ref(["MQTT"]), p = ref();
    p.value = () => {
      var A, w;
      let b = {
        type: EEventType.Null,
        action: EEventAction.Null,
        target: "",
        scripts: "",
        condition: { type: EConditionType.None }
      };
      (w = (A = r.handle_svg_info) == null ? void 0 : A.info) == null || w.events.push(b);
    };
    const y = (b, A) => {
      b === "ChangeAttr" ? A.attrs = [
        {
          key: "",
          val: ""
        }
      ] : delete A.attrs;
    }, v = (b) => {
      var A, w;
      (w = (A = r.handle_svg_info) == null ? void 0 : A.info) == null || w.events.splice(b, 1);
    }, g = () => {
      o.center_offset = {
        x: 0,
        y: 0
      };
    }, _ = (b, A, w) => {
      nextTick(function() {
        if (r.handle_svg_info) {
          const S = r.done_json[r.handle_svg_info.index];
          w ? setSvgActualInfo(S, w) : setSvgActualInfo(S), moveAnchors(S);
        }
      });
    };
    return (b, A) => unref(r).intention != unref(EGlobalStoreIntention).Select ? (openBlock(), createBlock(unref(ElTabs), {
      key: 0,
      class: "mx-2 rightTabs",
      modelValue: unref(a),
      "onUpdate:modelValue": A[13] || (A[13] = (w) => isRef(a) ? a.value = w : null)
    }, {
      default: withCtx(() => [
        createVNode$1(unref(ElTabPane), {
          label: "图纸",
          name: "page"
        }, {
          default: withCtx(() => [
            createVNode$1(unref(ElForm), {
              "label-width": "60px",
              "label-position": "left"
            }, {
              default: withCtx(() => [
                createVNode$1(unref(ElFormItem$1), {
                  label: "背景色",
                  size: "small"
                }, {
                  default: withCtx(() => [
                    createVNode$1(unref(ElColorPicker), {
                      modelValue: unref(n).svg.background_color,
                      "onUpdate:modelValue": A[0] || (A[0] = (w) => unref(n).svg.background_color = w)
                    }, null, 8, ["modelValue"])
                  ]),
                  _: 1
                }),
                createVNode$1(unref(ElFormItem$1), {
                  label: "画布",
                  size: "small"
                }, {
                  default: withCtx(() => [
                    createVNode$1(unref(ElButton), {
                      size: "small",
                      onClick: g,
                      icon: unref(aim_default)
                    }, {
                      default: withCtx(() => [
                        createTextVNode("重置位置")
                      ]),
                      _: 1
                    }, 8, ["icon"])
                  ]),
                  _: 1
                }),
                createVNode$1(unref(ElFormItem$1), {
                  label: "X轴偏移",
                  size: "small"
                }, {
                  default: withCtx(() => [
                    createVNode$1(unref(ElInputNumber), {
                      modelValue: unref(o).center_offset.x,
                      "onUpdate:modelValue": A[1] || (A[1] = (w) => unref(o).center_offset.x = w)
                    }, null, 8, ["modelValue"])
                  ]),
                  _: 1
                }),
                createVNode$1(unref(ElFormItem$1), {
                  label: "Y轴偏移",
                  size: "small"
                }, {
                  default: withCtx(() => [
                    createVNode$1(unref(ElInputNumber), {
                      modelValue: unref(o).center_offset.y,
                      "onUpdate:modelValue": A[2] || (A[2] = (w) => unref(o).center_offset.y = w)
                    }, null, 8, ["modelValue"])
                  ]),
                  _: 1
                }),
                createVNode$1(unref(ElFormItem$1), {
                  label: "缩放",
                  size: "small"
                }, {
                  default: withCtx(() => [
                    createVNode$1(unref(ElInputNumber), {
                      modelValue: unref(n).svg.scale,
                      "onUpdate:modelValue": A[3] || (A[3] = (w) => unref(n).svg.scale = w),
                      step: 0.1,
                      "step-strictly": ""
                    }, null, 8, ["modelValue"])
                  ]),
                  _: 1
                }),
                createVNode$1(unref(ElFormItem$1), {
                  label: "标尺",
                  size: "small"
                }, {
                  default: withCtx(() => [
                    createVNode$1(unref(ElSwitch), {
                      modelValue: unref(n).svg.ruler,
                      "onUpdate:modelValue": A[4] || (A[4] = (w) => unref(n).svg.ruler = w)
                    }, null, 8, ["modelValue"])
                  ]),
                  _: 1
                }),
                createVNode$1(unref(ElFormItem$1), {
                  label: "网格",
                  size: "small"
                }, {
                  default: withCtx(() => [
                    createVNode$1(unref(ElSwitch), {
                      modelValue: unref(n).svg.grid,
                      "onUpdate:modelValue": A[5] || (A[5] = (w) => unref(n).svg.grid = w)
                    }, null, 8, ["modelValue"])
                  ]),
                  _: 1
                }),
                unref(n).svg.grid ? (openBlock(), createBlock(unref(ElFormItem$1), {
                  key: 0,
                  label: "网格颜色",
                  size: "small"
                }, {
                  default: withCtx(() => [
                    createVNode$1(unref(ElColorPicker), {
                      modelValue: unref(n).svg.grid_color,
                      "onUpdate:modelValue": A[6] || (A[6] = (w) => unref(n).svg.grid_color = w)
                    }, null, 8, ["modelValue"])
                  ]),
                  _: 1
                })) : createCommentVNode("", !0)
              ]),
              _: 1
            })
          ]),
          _: 1
        }),
        createVNode$1(unref(ElTabPane), {
          label: "连线",
          name: "line"
        }, {
          default: withCtx(() => [
            unref(n).connection_line.props ? (openBlock(), createBlock(unref(ElForm), {
              key: 0,
              "label-width": "60px",
              "label-position": "left"
            }, {
              default: withCtx(() => [
                createVNode$1(DynamicElFormItem, {
                  "obj-info": unref(n).connection_line.props,
                  hide: ["point_position"]
                }, null, 8, ["obj-info"])
              ]),
              _: 1
            })) : createCommentVNode("", !0),
            unref(n).connection_line.animations ? (openBlock(), createBlock(unref(ElForm), {
              key: 1,
              "label-width": "60px",
              "label-position": "left"
            }, {
              default: withCtx(() => [
                createVNode$1(unref(ElFormItem$1), {
                  label: unref(n).connection_line.animations.type.title,
                  size: "small"
                }, {
                  default: withCtx(() => [
                    createVNode$1(unref(ElSelect$1), {
                      modelValue: unref(n).connection_line.animations.type.val,
                      "onUpdate:modelValue": A[7] || (A[7] = (w) => unref(n).connection_line.animations.type.val = w),
                      placeholder: "Select",
                      size: "small"
                    }, {
                      default: withCtx(() => [
                        (openBlock(!0), createElementBlock(Fragment, null, renderList(unref(n).connection_line.animations.type.options, (w) => (openBlock(), createBlock(unref(ElOption$1), {
                          key: w.value,
                          label: w.label,
                          value: w.value
                        }, null, 8, ["label", "value"]))), 128))
                      ]),
                      _: 1
                    }, 8, ["modelValue"])
                  ]),
                  _: 1
                }, 8, ["label"]),
                unref(n).connection_line.animations.type.val !== "None" ? (openBlock(), createBlock(DynamicElFormItem, {
                  key: 0,
                  "obj-info": unref(n).connection_line.animations,
                  hide: ["type", "repeatCount"]
                }, null, 8, ["obj-info"])) : createCommentVNode("", !0)
              ]),
              _: 1
            })) : createCommentVNode("", !0)
          ]),
          _: 1
        }),
        createVNode$1(unref(ElTabPane), {
          label: "通信",
          name: "net"
        }, {
          default: withCtx(() => [
            createVNode$1(unref(ElCollapse), {
              modelValue: unref(d),
              "onUpdate:modelValue": A[12] || (A[12] = (w) => isRef(d) ? d.value = w : null)
            }, {
              default: withCtx(() => [
                createVNode$1(unref(ElCollapseItem), { name: "MQTT" }, {
                  title: withCtx(() => [
                    _hoisted_1$3
                  ]),
                  default: withCtx(() => [
                    createVNode$1(unref(ElForm), {
                      "label-width": "60px",
                      "label-position": "left"
                    }, {
                      default: withCtx(() => [
                        createVNode$1(unref(ElFormItem$1), {
                          label: "URL",
                          size: "small"
                        }, {
                          default: withCtx(() => [
                            createVNode$1(unref(ElInput$1), {
                              modelValue: unref(n).net.mqtt.url,
                              "onUpdate:modelValue": A[8] || (A[8] = (w) => unref(n).net.mqtt.url = w),
                              placeholder: "如 ws://127.0.0.1:4500"
                            }, null, 8, ["modelValue"])
                          ]),
                          _: 1
                        }),
                        createVNode$1(unref(ElFormItem$1), {
                          label: "用户名",
                          size: "small"
                        }, {
                          default: withCtx(() => [
                            createVNode$1(unref(ElInput$1), {
                              modelValue: unref(n).net.mqtt.user,
                              "onUpdate:modelValue": A[9] || (A[9] = (w) => unref(n).net.mqtt.user = w),
                              placeholder: "username"
                            }, null, 8, ["modelValue"])
                          ]),
                          _: 1
                        }),
                        createVNode$1(unref(ElFormItem$1), {
                          label: "密码",
                          size: "small"
                        }, {
                          default: withCtx(() => [
                            createVNode$1(unref(ElInput$1), {
                              modelValue: unref(n).net.mqtt.pwd,
                              "onUpdate:modelValue": A[10] || (A[10] = (w) => unref(n).net.mqtt.pwd = w),
                              placeholder: "password"
                            }, null, 8, ["modelValue"])
                          ]),
                          _: 1
                        }),
                        createVNode$1(unref(ElFormItem$1), {
                          label: "Topics",
                          size: "small"
                        }, {
                          default: withCtx(() => [
                            createVNode$1(unref(ElInput$1), {
                              modelValue: unref(n).net.mqtt.topics,
                              "onUpdate:modelValue": A[11] || (A[11] = (w) => unref(n).net.mqtt.topics = w),
                              placeholder: "topics"
                            }, null, 8, ["modelValue"])
                          ]),
                          _: 1
                        })
                      ]),
                      _: 1
                    })
                  ]),
                  _: 1
                })
              ]),
              _: 1
            }, 8, ["modelValue"])
          ]),
          _: 1
        }),
        createVNode$1(unref(ElTabPane), {
          label: "结构",
          name: "tree"
        }, {
          default: withCtx(() => [
            createVNode$1(_sfc_main$t)
          ]),
          _: 1
        })
      ]),
      _: 1
    }, 8, ["modelValue"])) : unref(r).intention == unref(EGlobalStoreIntention).Select && unref(r).handle_svg_info ? (openBlock(), createBlock(unref(ElTabs), {
      key: 1,
      class: "mx-2 rightTabs",
      modelValue: unref(u),
      "onUpdate:modelValue": A[34] || (A[34] = (w) => isRef(u) ? u.value = w : null)
    }, {
      default: withCtx(() => [
        createVNode$1(unref(ElTabPane), {
          label: "外观",
          name: "style"
        }, {
          default: withCtx(() => [
            createVNode$1(unref(ElForm), {
              "label-width": "60px",
              "label-position": "left"
            }, {
              default: withCtx(() => {
                var w, S, T, x;
                return [
                  createVNode$1(unref(ElFormItem$1), {
                    label: "标题",
                    size: "small"
                  }, {
                    default: withCtx(() => [
                      createVNode$1(unref(ElInput$1), {
                        modelValue: unref(r).handle_svg_info.info.title,
                        "onUpdate:modelValue": A[14] || (A[14] = (L) => unref(r).handle_svg_info.info.title = L)
                      }, null, 8, ["modelValue"])
                    ]),
                    _: 1
                  }),
                  createVNode$1(unref(ElFormItem$1), {
                    label: "X坐标",
                    size: "small"
                  }, {
                    default: withCtx(() => [
                      createVNode$1(unref(ElInputNumber), {
                        modelValue: unref(r).handle_svg_info.info.x,
                        "onUpdate:modelValue": A[15] || (A[15] = (L) => unref(r).handle_svg_info.info.x = L),
                        onChange: _
                      }, null, 8, ["modelValue"])
                    ]),
                    _: 1
                  }),
                  createVNode$1(unref(ElFormItem$1), {
                    label: "Y坐标",
                    size: "small"
                  }, {
                    default: withCtx(() => [
                      createVNode$1(unref(ElInputNumber), {
                        modelValue: unref(r).handle_svg_info.info.y,
                        "onUpdate:modelValue": A[16] || (A[16] = (L) => unref(r).handle_svg_info.info.y = L),
                        onChange: _
                      }, null, 8, ["modelValue"])
                    ]),
                    _: 1
                  }),
                  withDirectives(createVNode$1(unref(ElFormItem$1), {
                    label: "X缩放",
                    size: "small"
                  }, {
                    default: withCtx(() => [
                      createVNode$1(unref(ElInputNumber), {
                        modelValue: unref(r).handle_svg_info.info.scale_x,
                        "onUpdate:modelValue": A[17] || (A[17] = (L) => unref(r).handle_svg_info.info.scale_x = L),
                        onChange: _
                      }, null, 8, ["modelValue"])
                    ]),
                    _: 1
                  }, 512), [
                    [vShow, (S = (w = unref(r).handle_svg_info) == null ? void 0 : w.info) == null ? void 0 : S.config.can_zoom]
                  ]),
                  withDirectives(createVNode$1(unref(ElFormItem$1), {
                    label: "Y缩放",
                    size: "small"
                  }, {
                    default: withCtx(() => [
                      createVNode$1(unref(ElInputNumber), {
                        modelValue: unref(r).handle_svg_info.info.scale_y,
                        "onUpdate:modelValue": A[18] || (A[18] = (L) => unref(r).handle_svg_info.info.scale_y = L),
                        onChange: _
                      }, null, 8, ["modelValue"])
                    ]),
                    _: 1
                  }, 512), [
                    [vShow, (x = (T = unref(r).handle_svg_info) == null ? void 0 : T.info) == null ? void 0 : x.config.can_zoom]
                  ]),
                  createVNode$1(unref(ElFormItem$1), {
                    label: "旋转",
                    size: "small"
                  }, {
                    default: withCtx(() => [
                      createVNode$1(unref(ElInputNumber), {
                        modelValue: unref(r).handle_svg_info.info.rotate,
                        "onUpdate:modelValue": A[19] || (A[19] = (L) => unref(r).handle_svg_info.info.rotate = L),
                        onChange: _
                      }, null, 8, ["modelValue"])
                    ]),
                    _: 1
                  }),
                  createVNode$1(unref(ElFormItem$1), {
                    label: "显示",
                    size: "small"
                  }, {
                    default: withCtx(() => [
                      createVNode$1(unref(ElSwitch), {
                        modelValue: unref(r).handle_svg_info.info.display,
                        "onUpdate:modelValue": A[20] || (A[20] = (L) => unref(r).handle_svg_info.info.display = L)
                      }, null, 8, ["modelValue"])
                    ]),
                    _: 1
                  })
                ];
              }),
              _: 1
            })
          ]),
          _: 1
        }),
        createVNode$1(unref(ElTabPane), {
          label: "数据",
          name: "data"
        }, {
          default: withCtx(() => [
            createVNode$1(unref(ElForm), {
              "label-width": "90px",
              "label-position": "left"
            }, {
              default: withCtx(() => {
                var w, S, T, x, L, k, M, O;
                return [
                  createVNode$1(unref(ElFormItem$1), {
                    label: "ID",
                    size: "small"
                  }, {
                    default: withCtx(() => [
                      createVNode$1(unref(ElInput$1), {
                        modelValue: unref(r).handle_svg_info.info.id,
                        "onUpdate:modelValue": A[21] || (A[21] = (ie) => unref(r).handle_svg_info.info.id = ie)
                      }, null, 8, ["modelValue"])
                    ]),
                    _: 1
                  }),
                  (S = (w = unref(r).handle_svg_info) == null ? void 0 : w.info) != null && S.state ? (openBlock(), createBlock(unref(ElFormItem$1), {
                    key: 0,
                    class: "props-row",
                    label: "state",
                    size: "small"
                  }, {
                    default: withCtx(() => [
                      createTextVNode(toDisplayString(unref(r).handle_svg_info.info.defaultState), 1)
                    ]),
                    _: 1
                  })) : createCommentVNode("", !0),
                  (x = (T = unref(r).handle_svg_info) == null ? void 0 : T.info) != null && x.state ? (openBlock(), createBlock(unref(ElFormItem$1), {
                    key: 1,
                    label: "状态",
                    size: "small"
                  }, {
                    default: withCtx(() => [
                      createVNode$1(unref(ElSelect$1), {
                        modelValue: unref(r).handle_svg_info.info.defaultState,
                        "onUpdate:modelValue": A[22] || (A[22] = (ie) => unref(r).handle_svg_info.info.defaultState = ie),
                        placeholder: "Select",
                        size: "small"
                      }, {
                        default: withCtx(() => [
                          (openBlock(!0), createElementBlock(Fragment, null, renderList(unref(r).handle_svg_info.info.state, (ie, F) => (openBlock(), createBlock(unref(ElOption$1), {
                            key: "state" + String(F),
                            label: ie.label,
                            value: F
                          }, null, 8, ["label", "value"]))), 128))
                        ]),
                        _: 1
                      }, 8, ["modelValue"])
                    ]),
                    _: 1
                  })) : createCommentVNode("", !0),
                  (L = unref(r).handle_svg_info.info) != null && L.hasOwnProperty("tag_slot") ? (openBlock(), createElementBlock("div", _hoisted_2$2, [
                    createVNode$1(unref(ElFormItem$1), {
                      class: "props-row",
                      label: "tag_slot",
                      size: "small"
                    }, {
                      default: withCtx(() => [
                        createTextVNode(toDisplayString(unref(r).handle_svg_info.info.tag_slot), 1)
                      ]),
                      _: 1
                    }),
                    createVNode$1(unref(ElFormItem$1), {
                      label: "文字插槽",
                      size: "small"
                    }, {
                      default: withCtx(() => [
                        createVNode$1(unref(ElInput$1), {
                          modelValue: unref(r).handle_svg_info.info.tag_slot,
                          "onUpdate:modelValue": A[23] || (A[23] = (ie) => unref(r).handle_svg_info.info.tag_slot = ie),
                          onInput: A[24] || (A[24] = (ie) => _(ie, null, !0))
                        }, null, 8, ["modelValue"])
                      ]),
                      _: 1
                    })
                  ])) : createCommentVNode("", !0),
                  createVNode$1(DynamicElFormItem, {
                    "obj-info": unref(r).handle_svg_info.info.props,
                    code: "",
                    onChange: A[25] || (A[25] = (ie) => _(ie, null, !0))
                  }, null, 8, ["obj-info"]),
                  unref(r).handle_svg_info.info.animations ? (openBlock(), createBlock(unref(ElFormItem$1), {
                    key: 3,
                    label: unref(r).handle_svg_info.info.animations.type.title,
                    size: "small"
                  }, {
                    default: withCtx(() => [
                      createVNode$1(unref(ElSelect$1), {
                        modelValue: unref(r).handle_svg_info.info.animations.type.val,
                        "onUpdate:modelValue": A[26] || (A[26] = (ie) => unref(r).handle_svg_info.info.animations.type.val = ie),
                        placeholder: "Select",
                        size: "small"
                      }, {
                        default: withCtx(() => [
                          (openBlock(!0), createElementBlock(Fragment, null, renderList(unref(r).handle_svg_info.info.animations.type.options, (ie) => (openBlock(), createBlock(unref(ElOption$1), {
                            key: ie.value,
                            label: ie.label,
                            value: ie.value
                          }, null, 8, ["label", "value"]))), 128))
                        ]),
                        _: 1
                      }, 8, ["modelValue"])
                    ]),
                    _: 1
                  }, 8, ["label"])) : createCommentVNode("", !0),
                  ((k = unref(r).handle_svg_info.info.animations) == null ? void 0 : k.type.val) !== "None" ? (openBlock(), createBlock(DynamicElFormItem, {
                    key: 4,
                    "obj-info": unref(r).handle_svg_info.info.animations,
                    hide: ["type", "repeatCount"]
                  }, null, 8, ["obj-info"])) : createCommentVNode("", !0),
                  ((M = unref(r).handle_svg_info) == null ? void 0 : M.info.type) === unref(EDoneJsonType).ConnectionLine ? (openBlock(), createBlock(_sfc_main$6, {
                    key: 5,
                    modelValue: unref(r).handle_svg_info.info.bind_anchors.start,
                    "onUpdate:modelValue": A[27] || (A[27] = (ie) => unref(r).handle_svg_info.info.bind_anchors.start = ie),
                    title: "绑定起点"
                  }, null, 8, ["modelValue"])) : createCommentVNode("", !0),
                  ((O = unref(r).handle_svg_info) == null ? void 0 : O.info.type) === unref(EDoneJsonType).ConnectionLine ? (openBlock(), createBlock(_sfc_main$6, {
                    key: 6,
                    modelValue: unref(r).handle_svg_info.info.bind_anchors.end,
                    "onUpdate:modelValue": A[28] || (A[28] = (ie) => unref(r).handle_svg_info.info.bind_anchors.end = ie),
                    title: "绑定终点"
                  }, null, 8, ["modelValue"])) : createCommentVNode("", !0)
                ];
              }),
              _: 1
            })
          ]),
          _: 1
        }),
        createVNode$1(unref(ElTabPane), {
          label: "事件",
          name: "event"
        }, {
          default: withCtx(() => [
            createVNode$1(unref(ElButton), {
              type: "primary",
              style: { width: "100%" },
              onClick: unref(p)
            }, {
              default: withCtx(() => [
                createTextVNode("添加事件")
              ]),
              _: 1
            }, 8, ["onClick"]),
            createVNode$1(unref(ElCollapse), {
              modelValue: unref(f),
              "onUpdate:modelValue": A[29] || (A[29] = (w) => isRef(f) ? f.value = w : null)
            }, {
              default: withCtx(() => [
                (openBlock(!0), createElementBlock(Fragment, null, renderList(unref(r).handle_svg_info.info.events, (w, S) => (openBlock(), createBlock(unref(ElCollapseItem), {
                  name: S,
                  key: "event" + S
                }, {
                  title: withCtx(() => [
                    createElementVNode("div", _hoisted_3$2, [
                      createElementVNode("span", null, "事件" + toDisplayString(S + 1), 1),
                      createVNode$1(unref(ElIcon$1), {
                        size: 16,
                        class: "bt-Icon",
                        onClick: withModifiers((T) => v(S), ["stop"])
                      }, {
                        default: withCtx(() => [
                          createVNode$1(_sfc_main$D, { name: "delete" })
                        ]),
                        _: 2
                      }, 1032, ["onClick"])
                    ])
                  ]),
                  default: withCtx(() => [
                    createVNode$1(unref(ElForm), {
                      "label-width": "90px",
                      "label-position": "left"
                    }, {
                      default: withCtx(() => [
                        createVNode$1(unref(ElFormItem$1), {
                          label: "类型",
                          size: "small"
                        }, {
                          default: withCtx(() => [
                            createVNode$1(unref(ElSelect$1), {
                              modelValue: w.type,
                              "onUpdate:modelValue": (T) => w.type = T
                            }, {
                              default: withCtx(() => [
                                createVNode$1(unref(ElOption$1), {
                                  value: "Click",
                                  label: "点击"
                                }),
                                createVNode$1(unref(ElOption$1), {
                                  value: "Change",
                                  label: "值改变"
                                })
                              ]),
                              _: 2
                            }, 1032, ["modelValue", "onUpdate:modelValue"])
                          ]),
                          _: 2
                        }, 1024),
                        createVNode$1(unref(ElFormItem$1), {
                          label: "行为",
                          size: "small"
                        }, {
                          default: withCtx(() => [
                            createVNode$1(unref(ElSelect$1), {
                              modelValue: w.action,
                              "onUpdate:modelValue": (T) => w.action = T,
                              onChange: (T) => y(T, w)
                            }, {
                              default: withCtx(() => [
                                createVNode$1(unref(ElOption$1), {
                                  value: "ChangeAttr",
                                  label: "改变属性"
                                }),
                                createVNode$1(unref(ElOption$1), {
                                  value: "JavaScript",
                                  label: "执行JavaScript"
                                })
                              ]),
                              _: 2
                            }, 1032, ["modelValue", "onUpdate:modelValue", "onChange"])
                          ]),
                          _: 2
                        }, 1024),
                        w.action === "ChangeAttr" ? (openBlock(), createBlock(unref(ElFormItem$1), {
                          key: 0,
                          label: "目标",
                          size: "small"
                        }, {
                          default: withCtx(() => [
                            createVNode$1(unref(ElInput$1), {
                              modelValue: w.target,
                              "onUpdate:modelValue": (T) => w.target = T,
                              placeholder: "默认自身"
                            }, null, 8, ["modelValue", "onUpdate:modelValue"])
                          ]),
                          _: 2
                        }, 1024)) : createCommentVNode("", !0),
                        w.action === "ChangeAttr" ? (openBlock(), createBlock(List, {
                          key: 1,
                          modelValue: w.attrs,
                          "onUpdate:modelValue": (T) => w.attrs = T
                        }, null, 8, ["modelValue", "onUpdate:modelValue"])) : createCommentVNode("", !0),
                        w.action === "JavaScript" ? (openBlock(), createBlock(unref(ElFormItem$1), {
                          key: 2,
                          label: "JavaScript",
                          size: "small"
                        }, {
                          default: withCtx(() => [
                            createVNode$1(_sfc_main$w, {
                              modelValue: w.scripts,
                              "onUpdate:modelValue": (T) => w.scripts = T,
                              lang: "javascript"
                            }, null, 8, ["modelValue", "onUpdate:modelValue"])
                          ]),
                          _: 2
                        }, 1024)) : createCommentVNode("", !0),
                        createVNode$1(Condition, {
                          modelValue: w.condition,
                          "onUpdate:modelValue": (T) => w.condition = T
                        }, null, 8, ["modelValue", "onUpdate:modelValue"])
                      ]),
                      _: 2
                    }, 1024)
                  ]),
                  _: 2
                }, 1032, ["name"]))), 128))
              ]),
              _: 1
            }, 8, ["modelValue"])
          ]),
          _: 1
        }),
        createVNode$1(unref(ElTabPane), {
          label: "动效",
          name: "animation"
        }, {
          default: withCtx(() => {
            var w;
            return [
              (w = unref(r).handle_svg_info) != null && w.info.animations ? (openBlock(), createBlock(unref(ElForm), {
                key: 0,
                "label-width": "60px",
                "label-position": "left"
              }, {
                default: withCtx(() => [
                  createVNode$1(DynamicElFormItem, {
                    "obj-info": unref(r).handle_svg_info.info.animations
                  }, null, 8, ["obj-info"])
                ]),
                _: 1
              })) : unref(r).handle_svg_info.info.common_animations ? (openBlock(), createBlock(unref(ElForm), {
                key: 1,
                "label-width": "60px",
                "label-position": "left"
              }, {
                default: withCtx(() => [
                  createVNode$1(unref(ElFormItem$1), {
                    label: "动画效果",
                    size: "small"
                  }, {
                    default: withCtx(() => [
                      createVNode$1(CommonAnimate, {
                        onUpdateCommonAniVal: A[30] || (A[30] = (S) => {
                          var T;
                          return c((T = unref(r).handle_svg_info) == null ? void 0 : T.info, S);
                        }),
                        val: unref(r).handle_svg_info.info.common_animations.val
                      }, null, 8, ["val"])
                    ]),
                    _: 1
                  }),
                  createVNode$1(unref(ElFormItem$1), {
                    label: "延迟",
                    size: "small"
                  }, {
                    default: withCtx(() => [
                      createVNode$1(unref(ElSelect$1), {
                        modelValue: unref(r).handle_svg_info.info.common_animations.delay,
                        "onUpdate:modelValue": A[31] || (A[31] = (S) => unref(r).handle_svg_info.info.common_animations.delay = S)
                      }, {
                        default: withCtx(() => [
                          createVNode$1(unref(ElOption$1), {
                            value: "delay-0s",
                            label: "无"
                          }),
                          createVNode$1(unref(ElOption$1), {
                            value: "delay-1s",
                            label: "1秒"
                          }),
                          createVNode$1(unref(ElOption$1), {
                            value: "delay-2s",
                            label: "2秒"
                          }),
                          createVNode$1(unref(ElOption$1), {
                            value: "delay-3s",
                            label: "3秒"
                          }),
                          createVNode$1(unref(ElOption$1), {
                            value: "delay-4s",
                            label: "4秒"
                          }),
                          createVNode$1(unref(ElOption$1), {
                            value: "delay-5s",
                            label: "5秒"
                          })
                        ]),
                        _: 1
                      }, 8, ["modelValue"])
                    ]),
                    _: 1
                  }),
                  createVNode$1(unref(ElFormItem$1), {
                    label: "动画速度",
                    size: "small"
                  }, {
                    default: withCtx(() => [
                      createVNode$1(unref(ElSelect$1), {
                        modelValue: unref(r).handle_svg_info.info.common_animations.speed,
                        "onUpdate:modelValue": A[32] || (A[32] = (S) => unref(r).handle_svg_info.info.common_animations.speed = S)
                      }, {
                        default: withCtx(() => [
                          createVNode$1(unref(ElOption$1), {
                            value: "slow",
                            label: "慢"
                          }),
                          createVNode$1(unref(ElOption$1), {
                            value: "slower",
                            label: "最慢"
                          }),
                          createVNode$1(unref(ElOption$1), {
                            value: "fast",
                            label: "快"
                          }),
                          createVNode$1(unref(ElOption$1), {
                            value: "faster",
                            label: "最快"
                          })
                        ]),
                        _: 1
                      }, 8, ["modelValue"])
                    ]),
                    _: 1
                  }),
                  createVNode$1(unref(ElFormItem$1), {
                    label: "循环次数",
                    size: "small"
                  }, {
                    default: withCtx(() => [
                      createVNode$1(unref(ElSelect$1), {
                        modelValue: unref(r).handle_svg_info.info.common_animations.repeat,
                        "onUpdate:modelValue": A[33] || (A[33] = (S) => unref(r).handle_svg_info.info.common_animations.repeat = S)
                      }, {
                        default: withCtx(() => [
                          createVNode$1(unref(ElOption$1), {
                            value: "repeat-1",
                            label: "一次"
                          }),
                          createVNode$1(unref(ElOption$1), {
                            value: "repeat-2",
                            label: "两次"
                          }),
                          createVNode$1(unref(ElOption$1), {
                            value: "repeat-3",
                            label: "三次"
                          }),
                          createVNode$1(unref(ElOption$1), {
                            value: "infinite",
                            label: "无限次"
                          })
                        ]),
                        _: 1
                      }, 8, ["modelValue"])
                    ]),
                    _: 1
                  })
                ]),
                _: 1
              })) : createCommentVNode("", !0)
            ];
          }),
          _: 1
        }),
        createVNode$1(unref(ElTabPane), {
          label: "结构",
          name: "tree"
        }, {
          default: withCtx(() => [
            createVNode$1(_sfc_main$t)
          ]),
          _: 1
        })
      ]),
      _: 1
    }, 8, ["modelValue"])) : createCommentVNode("", !0);
  }
}), rightPanel_vue_vue_type_style_index_0_scoped_9b4c5da1_lang = "", rightPanel_vue_vue_type_style_index_1_lang = "", RightPanel = /* @__PURE__ */ _export_sfc$1(_sfc_main$5, [["__scopeId", "data-v-9b4c5da1"]]), _sfc_main$4 = /* @__PURE__ */ defineComponent({
  __name: "export-json",
  setup(i) {
    const n = ref(""), r = useGlobalStore(pinia), o = useSvgEditLayoutStore(pinia), a = useConfigStore(pinia);
    return onMounted(() => {
      const u = {
        layout_center: o.center_offset,
        config: a.$state,
        done_json: r.done_json
      };
      n.value = JSON.stringify(u, null, 2);
    }), (u, c) => (openBlock(), createBlock(unref(VAceEditor), {
      value: unref(n),
      "onUpdate:value": c[0] || (c[0] = (f) => isRef(n) ? n.value = f : null),
      lang: "json",
      theme: "kr_theme",
      style: { height: "400px" },
      options: {
        useWorker: !0,
        enableBasicAutocompletion: !0,
        enableSnippets: !0,
        enableLiveAutocompletion: !0
      }
    }, null, 8, ["value"]));
  }
}), _sfc_main$3 = /* @__PURE__ */ defineComponent({
  __name: "import-json",
  setup(i, { expose: n }) {
    const r = ref("");
    return n({
      setVal: (u) => {
        r.value = u;
      },
      onImportJson: () => {
        useImportDataModel(r.value) && ElMessage.success("导入成功");
      }
    }), (u, c) => (openBlock(), createBlock(unref(VAceEditor), {
      value: unref(r),
      "onUpdate:value": c[0] || (c[0] = (f) => isRef(r) ? r.value = f : null),
      lang: "json",
      theme: "kr_theme",
      style: { height: "400px" },
      options: {
        useWorker: !0,
        enableBasicAutocompletion: !0,
        enableSnippets: !0,
        enableLiveAutocompletion: !0
      }
    }, null, 8, ["value"]));
  }
}), _hoisted_1$2 = ["onMousedown"], _hoisted_2$1 = ["onMousedown"], _hoisted_3$1 = ["title", "onMousedown"], _hoisted_4$1 = { class: "vue-ruler-content-mask" }, _sfc_main$2 = /* @__PURE__ */ defineComponent({
  __name: "vue3-ruler-tool",
  props: {
    visible: { type: Boolean, default: !0 },
    stepLength: { default: 100 }
  },
  emits: ["onLineMouseUp"],
  setup(i, { emit: n }) {
    const r = i, o = useSvgEditLayoutStore(pinia), a = useConfigStore(pinia), u = function() {
      return function(ze, _e, de) {
        ze && _e && de && ze.addEventListener(_e, de, !1);
      };
    }(), c = function() {
      return function(ze, _e, de) {
        ze && _e && ze.removeEventListener(_e, de, !1);
      };
    }();
    let f = 18, d = ref(0), p = ref(0), y = ref([]), v = ref([]);
    const g = ref([]);
    let _ = ref(!1), b = "", A = ref(-999), w = ref(-999), S = 18, T = 18, x = "";
    const L = ref(null), k = ref(null), M = ref(null), O = ref(null), ie = computed(() => ({
      width: d.value + "px",
      height: p.value + "px"
    })), F = computed(() => ({
      padding: f + "px 0px 0px " + f + "px"
    })), j = computed(() => {
      let ze = 0, _e = 0;
      return g.value.map((de) => {
        const Et = de.type === "h";
        return {
          id: `${de.type}_${Et ? ze++ : _e++}`,
          type: de.type,
          title: de.site.toFixed(0) + "px",
          [Et ? "top" : "left"]: de.site * a.svg.scale + f + o.center_offset[Et ? "y" : "x"] * a.svg.scale
        };
      });
    });
    o.$subscribe((ze) => {
      var _e, de, Et, Ve;
      ((de = (_e = ze.events) == null ? void 0 : _e.target) != null && de.hasOwnProperty("left_nav") || (Ve = (Et = ze.events) == null ? void 0 : Et.target) != null && Ve.hasOwnProperty("right_nav")) && window.setTimeout(D, 420);
    }), a.$subscribe((ze) => {
      var _e, de;
      (de = (_e = ze.events) == null ? void 0 : _e.target) != null && de.hasOwnProperty("scale") && Ce();
    }), onMounted(() => {
      u(document, "mousemove", Ne), u(document, "mouseup", Pt), D(), u(window, "resize", Y);
    }), onBeforeUnmount(() => {
      c(document, "mousemove", Ne), c(document, "mouseup", Pt), c(window, "resize", Y);
    });
    const D = () => {
      ue(), Ce();
    }, Y = () => {
      y.value = [], v.value = [], D();
    }, z = ({ type: ze, top: _e, left: de }) => ze === "h" ? { top: _e + "px" } : { left: de + "px" }, Ie = ({ type: ze, id: _e }) => ze === "h" ? At(_e) : Lt(_e), ue = () => {
      const ze = window.getComputedStyle(k.value.parentNode, null);
      d.value = parseInt(ze.getPropertyValue("width")), p.value = parseInt(ze.getPropertyValue("height")), S = M.value.clientWidth, T = O.value.clientHeight;
    }, Ce = () => {
      pe(y.value, d.value, o.center_offset.x), pe(v.value, p.value, o.center_offset.y);
    }, pe = (ze, _e, de) => {
      if (ze.length === 0)
        for (let Et = 0; Et < _e; Et += r.stepLength)
          Et % r.stepLength === 0 && ze.push({ id: Number((Et / a.svg.scale - de).toFixed(0)) });
      else
        ze.forEach((Et, Ve) => {
          Et.id = Number((Ve * r.stepLength / a.svg.scale - de).toFixed(0));
        });
    }, Ne = (ze) => {
      Ce(), xe(ze);
    }, xe = (ze) => {
      if (!(ze.layerX === ze.x || ze.layerY === ze.y))
        switch (b) {
          case "x":
            _.value && (w.value = ze.layerY);
            break;
          case "y":
            _.value && (A.value = ze.layerX);
            break;
          case "h":
            _.value && (w.value = ze.layerY);
            break;
          case "v":
            _.value && (A.value = ze.layerX);
            break;
        }
    }, hn = (ze) => {
      _.value = !0, b = ze;
    }, Pt = (ze) => {
      _n(ze);
    }, _n = (ze) => {
      if (_.value) {
        switch (_.value = !1, b) {
          case "x":
            const _e = Math.round(
              (ze.layerY - f) / a.svg.scale - o.center_offset.y
            );
            if (_e <= 0) {
              w.value = -999;
              return;
            }
            g.value.push({
              type: "h",
              site: _e
            });
            break;
          case "y":
            const de = Math.round(
              (ze.layerX - f) / a.svg.scale - o.center_offset.x
            );
            if (de <= 0) {
              A.value = -999;
              return;
            }
            g.value.push({
              type: "v",
              site: de
            });
            break;
          case "h":
            In(
              g.value,
              Math.round((ze.layerY - f) / a.svg.scale - o.center_offset.y),
              Math.round(T / a.svg.scale - o.center_offset.y),
              "h"
            );
            break;
          case "v":
            In(
              g.value,
              Math.round((ze.layerX - f) / a.svg.scale - o.center_offset.x),
              Math.round(S / a.svg.scale - o.center_offset.x),
              "v"
            );
            break;
        }
        w.value = A.value = -999;
      }
    }, In = (ze, _e, de, Et) => {
      if (_e < de) {
        let Ve;
        j.value.forEach(($e, kt) => {
          $e.id === x && (Ve = kt);
        }), ze.splice(Ve, 1);
      } else {
        let Ve;
        j.value.forEach(($e, kt) => {
          $e.id === x && (Ve = kt);
        }), ze.splice(Ve, 1, {
          type: Et,
          site: _e
        });
      }
    }, Dt = () => {
      hn("x");
    }, he = () => {
      hn("y");
    }, At = (ze) => {
      _.value = !0, b = "h", x = ze;
    }, Lt = (ze) => {
      _.value = !0, b = "v", x = ze;
    }, Cn = () => {
      n("onLineMouseUp");
    };
    return (ze, _e) => (openBlock(), createElementBlock("div", {
      style: normalizeStyle$1(unref(ie)),
      class: "vue-ruler-wrapper",
      onselectStart: "return false;",
      ref_key: "el",
      ref: k
    }, [
      withDirectives(createElementVNode("section", null, [
        createElementVNode("div", {
          ref_key: "horizontalRuler",
          ref: O,
          class: "vue-ruler-h",
          onMousedown: withModifiers(Dt, ["stop"])
        }, [
          (openBlock(!0), createElementBlock(Fragment, null, renderList(unref(y), (de, Et) => (openBlock(), createElementBlock("span", {
            style: normalizeStyle$1({ left: Et * ze.stepLength + "px" }),
            class: "n"
          }, toDisplayString(de.id), 5))), 256))
        ], 40, _hoisted_1$2),
        createElementVNode("div", {
          ref_key: "verticalRuler",
          ref: M,
          class: "vue-ruler-v",
          onMousedown: withModifiers(he, ["stop"])
        }, [
          (openBlock(!0), createElementBlock(Fragment, null, renderList(unref(v), (de, Et) => (openBlock(), createElementBlock("span", {
            style: normalizeStyle$1({ top: Et * ze.stepLength + "px" }),
            class: "n"
          }, toDisplayString(de.id), 5))), 256))
        ], 40, _hoisted_2$1),
        createElementVNode("div", {
          style: normalizeStyle$1({ top: unref(w) + "px" }),
          class: "vue-ruler-ref-dot-h"
        }, [
          createElementVNode("span", null, toDisplayString(Math.round((unref(w) - unref(T)) / unref(a).svg.scale)), 1)
        ], 4),
        createElementVNode("div", {
          style: normalizeStyle$1({ left: unref(A) + "px" }),
          class: "vue-ruler-ref-dot-v"
        }, [
          createElementVNode("span", null, toDisplayString(Math.round((unref(A) - unref(S)) / unref(a).svg.scale)), 1)
        ], 4),
        (openBlock(!0), createElementBlock(Fragment, null, renderList(unref(j), (de) => (openBlock(), createElementBlock("div", {
          title: de.title,
          style: normalizeStyle$1(z(de)),
          key: de.id,
          class: normalizeClass(`vue-ruler-ref-line-${de.type}`),
          onMousedown: (Et) => Ie(de),
          onMouseup: Cn,
          onContextmenu: _e[0] || (_e[0] = //@ts-ignore
          (...Et) => unref(preventDefault) && unref(preventDefault)(...Et))
        }, null, 46, _hoisted_3$1))), 128))
      ], 512), [
        [vShow, r.visible]
      ]),
      createElementVNode("div", {
        ref_key: "content",
        ref: L,
        class: "vue-ruler-content",
        style: normalizeStyle$1(unref(F))
      }, [
        renderSlot(ze.$slots, "default")
      ], 4),
      withDirectives(createElementVNode("div", _hoisted_4$1, null, 512), [
        [vShow, unref(_)]
      ])
    ], 4));
  }
}), vue3RulerTool_vue_vue_type_style_index_0_lang = "";
function fileWrite(i, n = new Date(Date.now()).toLocaleString()) {
  const r = JSON.stringify(i), o = new Blob([r]);
  let a = document.createElement("a");
  a.download = n + ".json", a.style.display = "none", a.href = URL.createObjectURL(o), document.body.appendChild(a), a.click(), document.body.removeChild(a);
}
function fileRead(i) {
  return new Promise((n, r) => {
    let o = new FileReader();
    o.readAsText(i, "UTF-8"), o.onload = function(a) {
      a && a.target ? n(a.target.result) : r("文件读取错误");
    };
  });
}
const _hoisted_1$1 = { class: "canvas-main-pc" }, _sfc_main$1 = /* @__PURE__ */ defineComponent({
  __name: "index",
  props: {
    customToolbar: {},
    data: {},
    saveFile: { type: Boolean, default: !1 }
  },
  emits: ["onReturn", "onPreview", "onSave"],
  setup(i, { expose: n, emit: r }) {
    const o = i;
    setEditorLoadTime();
    const a = useGlobalStore(pinia), u = useSvgEditLayoutStore(pinia), c = useConfigStore(pinia), f = useEditPrivateStore(pinia), d = ref(), p = ref(), y = reactive({
      [EVisibleConfKey.ExportJson]: !1,
      [EVisibleConfKey.ImportJson]: !1,
      [EVisibleConfKey.ImportFile]: !1
    }), v = (x, L) => {
      y[x] = L;
    }, g = ref();
    g.value = () => {
      p.value.onImportJson(), v(EVisibleConfKey.ImportJson, !1);
    };
    const _ = (x) => ["text/plain", "application/json"].indexOf(x.type) < 0 ? (ElMessage.error("仅支持的格式：txt、json"), !1) : (fileRead(x).then((L) => {
      p.value.setVal(L), ElMessage.success("文件读取成功！");
    }), !1), b = (x) => {
      a.setDoneJson(x);
    };
    onMounted(() => {
      f.history_doneComponent = [], f.history_now_index = 0, o.data ? useImportDataModel(o.data) : a.setDoneJson([]), a.intention = EGlobalStoreIntention.None;
    });
    const { appContext: A } = getCurrentInstance();
    function w(x) {
      r("onReturn", {
        data: x,
        isChange: f.getTopBtnUndoStatus
      });
    }
    function S(x) {
      o.saveFile ? ElMessageBox.prompt(
        "请输入文件名",
        "保存",
        {
          cancelButtonText: "取消",
          confirmButtonText: "保存"
        },
        A
      ).then((L) => {
        fileWrite(x, L.value.trim()), r("onSave", x);
      }).catch((L) => {
        console.log(L);
      }) : r("onSave", x);
    }
    function T() {
      d.value.onCanvasMouseUp();
    }
    return n({
      setGraphNodeJson: b
    }), (x, L) => (openBlock(), createElementBlock("div", null, [
      createVNode$1(unref(ElContainer), null, {
        default: withCtx(() => [
          createVNode$1(unref(ElHeader), { class: "top-el-header" }, {
            default: withCtx(() => [
              createVNode$1(TopPanel, {
                onChangeVisible: v,
                onOnReturn: w,
                onOnPreview: L[0] || (L[0] = (k) => r("onPreview", k)),
                onOnSave: S
              })
            ]),
            _: 1
          }),
          createVNode$1(unref(ElContainer), { class: "middle" }, {
            default: withCtx(() => [
              createVNode$1(unref(ElAside), {
                class: normalizeClass(["side-nav", unref(u).left_nav ? "show-nav" : "hide-nav"]),
                style: { "border-right": "1px solid #efefef" }
              }, {
                default: withCtx(() => [
                  createVNode$1(unref(ElScrollbar$1), { class: "el-scroll-pc" }, {
                    default: withCtx(() => [
                      createVNode$1(LeftPanel, {
                        class: "content-left",
                        "custom-toolbar": o.customToolbar
                      }, null, 8, ["custom-toolbar"])
                    ]),
                    _: 1
                  })
                ]),
                _: 1
              }, 8, ["class"]),
              createVNode$1(unref(ElMain), { class: "middle main" }, {
                default: withCtx(() => [
                  createElementVNode("div", _hoisted_1$1, [
                    createVNode$1(_sfc_main$2, {
                      class: "canvas-main-pc",
                      visible: unref(c).svg.ruler,
                      onOnLineMouseUp: T
                    }, {
                      default: withCtx(() => [
                        createVNode$1(CenterPanel, {
                          ref_key: "centerRef",
                          ref: d
                        }, null, 512)
                      ]),
                      _: 1
                    }, 8, ["visible"])
                  ])
                ]),
                _: 1
              }),
              createVNode$1(unref(ElAside), {
                class: normalizeClass(["side-nav", unref(u).right_nav ? "show-nav" : "hide-nav"]),
                style: { "border-left": "1px solid #efefef" }
              }, {
                default: withCtx(() => [
                  createVNode$1(unref(ElScrollbar$1), { class: "el-scroll-pc" }, {
                    default: withCtx(() => [
                      createVNode$1(RightPanel)
                    ]),
                    _: 1
                  })
                ]),
                _: 1
              }, 8, ["class"])
            ]),
            _: 1
          })
        ]),
        _: 1
      }),
      createVNode$1(unref(ElDialog), {
        class: "modal-full",
        modelValue: unref(y).ImportJson,
        "onUpdate:modelValue": L[2] || (L[2] = (k) => unref(y).ImportJson = k),
        title: "导入数据",
        width: "60%",
        "destroy-on-close": ""
      }, {
        footer: withCtx(() => [
          createVNode$1(unref(ElUpload), {
            beforeUpload: _,
            style: { display: "inline-flex", "margin-right": "12px" },
            multiple: !1,
            "show-file-list": !1,
            limit: 1
          }, {
            default: withCtx(() => [
              createVNode$1(unref(ElButton), {
                onClick: L[1] || (L[1] = (k) => v(unref(EVisibleConfKey).ImportFile, !0))
              }, {
                default: withCtx(() => [
                  createTextVNode("读取文件")
                ]),
                _: 1
              })
            ]),
            _: 1
          }),
          createVNode$1(unref(ElButton), {
            type: "primary",
            onClick: unref(g)
          }, {
            default: withCtx(() => [
              createTextVNode("导入数据")
            ]),
            _: 1
          }, 8, ["onClick"])
        ]),
        default: withCtx(() => [
          createVNode$1(_sfc_main$3, {
            ref_key: "importJsonRef",
            ref: p
          }, null, 512)
        ]),
        _: 1
      }, 8, ["modelValue"]),
      createVNode$1(unref(ElDialog), {
        class: "modal-full",
        modelValue: unref(y).ExportJson,
        "onUpdate:modelValue": L[3] || (L[3] = (k) => unref(y).ExportJson = k),
        title: "导出",
        width: "60%",
        "destroy-on-close": ""
      }, {
        default: withCtx(() => [
          createVNode$1(_sfc_main$4)
        ]),
        _: 1
      }, 8, ["modelValue"])
    ]));
  }
}), index_vue_vue_type_style_index_0_scoped_01ceb0c4_lang = "", index = /* @__PURE__ */ _export_sfc$1(_sfc_main$1, [["__scopeId", "data-v-01ceb0c4"]]);
function commonjsRequire(i) {
  throw new Error('Could not dynamically require "' + i + '". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.');
}
var mqtt = { exports: {} };
(function(i, n) {
  (function(r) {
    i.exports = r();
  })(function() {
    return function() {
      function r(o, a, u) {
        function c(p, y) {
          if (!a[p]) {
            if (!o[p]) {
              var v = typeof commonjsRequire == "function" && commonjsRequire;
              if (!y && v)
                return v(p, !0);
              if (f)
                return f(p, !0);
              var g = new Error("Cannot find module '" + p + "'");
              throw g.code = "MODULE_NOT_FOUND", g;
            }
            var _ = a[p] = { exports: {} };
            o[p][0].call(_.exports, function(b) {
              var A = o[p][1][b];
              return c(A || b);
            }, _, _.exports, r, o, a, u);
          }
          return a[p].exports;
        }
        for (var f = typeof commonjsRequire == "function" && commonjsRequire, d = 0; d < u.length; d++)
          c(u[d]);
        return c;
      }
      return r;
    }()({ 1: [function(r, o, a) {
      var u = this && this.__importDefault || function(p) {
        return p && p.__esModule ? p : { default: p };
      };
      Object.defineProperty(a, "__esModule", { value: !0 }), a.TypedEventEmitter = void 0;
      const c = u(r("events")), f = r("./shared");
      class d {
      }
      a.TypedEventEmitter = d, (0, f.applyMixin)(d, c.default);
    }, { "./shared": 17, events: 49 }], 2: [function(r, o, a) {
      (function(u, c) {
        (function() {
          var f = this && this.__createBinding || (Object.create ? function(D, Y, z, Ie) {
            Ie === void 0 && (Ie = z);
            var ue = Object.getOwnPropertyDescriptor(Y, z);
            (!ue || ("get" in ue ? !Y.__esModule : ue.writable || ue.configurable)) && (ue = { enumerable: !0, get: function() {
              return Y[z];
            } }), Object.defineProperty(D, Ie, ue);
          } : function(D, Y, z, Ie) {
            Ie === void 0 && (Ie = z), D[Ie] = Y[z];
          }), d = this && this.__setModuleDefault || (Object.create ? function(D, Y) {
            Object.defineProperty(D, "default", { enumerable: !0, value: Y });
          } : function(D, Y) {
            D.default = Y;
          }), p = this && this.__importStar || function(D) {
            if (D && D.__esModule)
              return D;
            var Y = {};
            if (D != null)
              for (var z in D)
                z !== "default" && Object.prototype.hasOwnProperty.call(D, z) && f(Y, D, z);
            return d(Y, D), Y;
          }, y = this && this.__importDefault || function(D) {
            return D && D.__esModule ? D : { default: D };
          };
          Object.defineProperty(a, "__esModule", { value: !0 });
          const v = y(r("./topic-alias-recv")), g = y(r("mqtt-packet")), _ = y(r("./default-message-id-provider")), b = r("readable-stream"), A = y(r("reinterval")), w = y(r("rfdc/default")), S = p(r("./validations")), T = y(r("debug")), x = y(r("./store")), L = y(r("./handlers")), k = r("./TypedEmitter"), M = u ? u.nextTick : (D) => {
            setTimeout(D, 0);
          }, O = c.setImmediate || ((...D) => {
            const Y = D.shift();
            M(() => {
              Y(...D);
            });
          }), ie = {
            keepalive: 60,
            reschedulePings: !0,
            protocolId: "MQTT",
            protocolVersion: 4,
            reconnectPeriod: 1e3,
            connectTimeout: 30 * 1e3,
            clean: !0,
            resubscribe: !0,
            writeCache: !0
          }, F = [
            "ECONNREFUSED",
            "EADDRINUSE",
            "ECONNRESET",
            "ENOTFOUND",
            "ETIMEDOUT"
          ];
          class j extends k.TypedEventEmitter {
            static defaultId() {
              return `mqttjs_${Math.random().toString(16).substr(2, 8)}`;
            }
            constructor(Y, z) {
              super(), this.options = z || {};
              for (const Ie in ie)
                typeof this.options[Ie] > "u" ? this.options[Ie] = ie[Ie] : this.options[Ie] = z[Ie];
              this.log = this.options.log || (0, T.default)("mqttjs:client"), this.noop = this._noop.bind(this), this.log("MqttClient :: options.protocol", z.protocol), this.log("MqttClient :: options.protocolVersion", z.protocolVersion), this.log("MqttClient :: options.username", z.username), this.log("MqttClient :: options.keepalive", z.keepalive), this.log("MqttClient :: options.reconnectPeriod", z.reconnectPeriod), this.log("MqttClient :: options.rejectUnauthorized", z.rejectUnauthorized), this.log("MqttClient :: options.properties.topicAliasMaximum", z.properties ? z.properties.topicAliasMaximum : void 0), this.options.clientId = typeof z.clientId == "string" ? z.clientId : j.defaultId(), this.log("MqttClient :: clientId", this.options.clientId), this.options.customHandleAcks = z.protocolVersion === 5 && z.customHandleAcks ? z.customHandleAcks : (...Ie) => {
                Ie[3](null, 0);
              }, this.options.writeCache || (g.default.writeToStream.cacheNumbers = !1), this.streamBuilder = Y, this.messageIdProvider = typeof this.options.messageIdProvider > "u" ? new _.default() : this.options.messageIdProvider, this.outgoingStore = z.outgoingStore || new x.default(), this.incomingStore = z.incomingStore || new x.default(), this.queueQoSZero = z.queueQoSZero === void 0 ? !0 : z.queueQoSZero, this._resubscribeTopics = {}, this.messageIdToTopic = {}, this.pingTimer = null, this.connected = !1, this.disconnecting = !1, this.reconnecting = !1, this.queue = [], this.connackTimer = null, this.reconnectTimer = null, this._storeProcessing = !1, this._packetIdsDuringStoreProcessing = {}, this._storeProcessingQueue = [], this.outgoing = {}, this._firstConnection = !0, z.properties && z.properties.topicAliasMaximum > 0 && (z.properties.topicAliasMaximum > 65535 ? this.log("MqttClient :: options.properties.topicAliasMaximum is out of range") : this.topicAliasRecv = new v.default(z.properties.topicAliasMaximum)), this.on("connect", () => {
                const { queue: Ie } = this, ue = () => {
                  const Ce = Ie.shift();
                  this.log("deliver :: entry %o", Ce);
                  let pe = null;
                  if (!Ce) {
                    this._resubscribe();
                    return;
                  }
                  pe = Ce.packet, this.log("deliver :: call _sendPacket for %o", pe);
                  let Ne = !0;
                  pe.messageId && pe.messageId !== 0 && (this.messageIdProvider.register(pe.messageId) || (Ne = !1)), Ne ? this._sendPacket(pe, (xe) => {
                    Ce.cb && Ce.cb(xe), ue();
                  }) : (this.log("messageId: %d has already used. The message is skipped and removed.", pe.messageId), ue());
                };
                this.log("connect :: sending queued packets"), ue();
              }), this.on("close", () => {
                this.log("close :: connected set to `false`"), this.connected = !1, this.log("close :: clearing connackTimer"), clearTimeout(this.connackTimer), this.log("close :: clearing ping timer"), this.pingTimer !== null && (this.pingTimer.clear(), this.pingTimer = null), this.topicAliasRecv && this.topicAliasRecv.clear(), this.log("close :: calling _setupReconnect"), this._setupReconnect();
              }), this.options.manualConnect || (this.log("MqttClient :: setting up stream"), this.connect());
            }
            handleAuth(Y, z) {
              z();
            }
            handleMessage(Y, z) {
              z();
            }
            _nextId() {
              return this.messageIdProvider.allocate();
            }
            getLastMessageId() {
              return this.messageIdProvider.getLastAllocated();
            }
            connect() {
              var Y;
              const z = new b.Writable(), Ie = g.default.parser(this.options);
              let ue = null;
              const Ce = [];
              this.log("connect :: calling method to clear reconnect"), this._clearReconnect(), this.log("connect :: using streamBuilder provided to client to create stream"), this.stream = this.streamBuilder(this), Ie.on("packet", (Pt) => {
                this.log("parser :: on packet push to packets array."), Ce.push(Pt);
              });
              const pe = () => {
                this.log("work :: getting next packet in queue");
                const Pt = Ce.shift();
                if (Pt)
                  this.log("work :: packet pulled from queue"), (0, L.default)(this, Pt, Ne);
                else {
                  this.log("work :: no packets in queue");
                  const _n = ue;
                  ue = null, this.log("work :: done flag is %s", !!_n), _n && _n();
                }
              }, Ne = () => {
                if (Ce.length)
                  M(pe);
                else {
                  const Pt = ue;
                  ue = null, Pt();
                }
              };
              z._write = (Pt, _n, In) => {
                ue = In, this.log("writable stream :: parsing buffer"), Ie.parse(Pt), pe();
              };
              const xe = (Pt) => {
                this.log("streamErrorHandler :: error", Pt.message), F.includes(Pt.code) ? (this.log("streamErrorHandler :: emitting error"), this.emit("error", Pt)) : this.noop(Pt);
              };
              this.log("connect :: pipe stream to writable stream"), this.stream.pipe(z), this.stream.on("error", xe), this.stream.on("close", () => {
                this.log("(%s)stream :: on close", this.options.clientId), this._flushVolatile(), this.log("stream: emit close to MqttClient"), this.emit("close");
              }), this.log("connect: sending packet `connect`");
              const hn = {
                cmd: "connect",
                protocolId: this.options.protocolId,
                protocolVersion: this.options.protocolVersion,
                clean: this.options.clean,
                clientId: this.options.clientId,
                keepalive: this.options.keepalive,
                username: this.options.username,
                password: this.options.password,
                properties: this.options.properties
              };
              if (this.options.will && (hn.will = Object.assign(Object.assign({}, this.options.will), { payload: (Y = this.options.will) === null || Y === void 0 ? void 0 : Y.payload })), this.topicAliasRecv && (hn.properties || (hn.properties = {}), this.topicAliasRecv && (hn.properties.topicAliasMaximum = this.topicAliasRecv.max)), this._writePacket(hn), Ie.on("error", this.emit.bind(this, "error")), this.options.properties) {
                if (!this.options.properties.authenticationMethod && this.options.properties.authenticationData)
                  return this.end(() => this.emit("error", new Error("Packet has no Authentication Method"))), this;
                if (this.options.properties.authenticationMethod && this.options.authPacket && typeof this.options.authPacket == "object") {
                  const Pt = Object.assign({ cmd: "auth", reasonCode: 0 }, this.options.authPacket);
                  this._writePacket(Pt);
                }
              }
              return this.stream.setMaxListeners(1e3), clearTimeout(this.connackTimer), this.connackTimer = setTimeout(() => {
                this.log("!!connectTimeout hit!! Calling _cleanUp with force `true`"), this._cleanUp(!0);
              }, this.options.connectTimeout), this;
            }
            publish(Y, z, Ie, ue) {
              this.log("publish :: message `%s` to topic `%s`", z, Y);
              const { options: Ce } = this;
              typeof Ie == "function" && (ue = Ie, Ie = null), Ie = Ie || {}, Ie = Object.assign(Object.assign({}, {
                qos: 0,
                retain: !1,
                dup: !1
              }), Ie);
              const { qos: Ne, retain: xe, dup: hn, properties: Pt, cbStorePut: _n } = Ie;
              if (this._checkDisconnecting(ue))
                return this;
              const In = () => {
                let Dt = 0;
                if ((Ne === 1 || Ne === 2) && (Dt = this._nextId(), Dt === null))
                  return this.log("No messageId left"), !1;
                const he = {
                  cmd: "publish",
                  topic: Y,
                  payload: z,
                  qos: Ne,
                  retain: xe,
                  messageId: Dt,
                  dup: hn
                };
                switch (Ce.protocolVersion === 5 && (he.properties = Pt), this.log("publish :: qos", Ne), Ne) {
                  case 1:
                  case 2:
                    this.outgoing[he.messageId] = {
                      volatile: !1,
                      cb: ue || this.noop
                    }, this.log("MqttClient:publish: packet cmd: %s", he.cmd), this._sendPacket(he, void 0, _n);
                    break;
                  default:
                    this.log("MqttClient:publish: packet cmd: %s", he.cmd), this._sendPacket(he, ue, _n);
                    break;
                }
                return !0;
              };
              return (this._storeProcessing || this._storeProcessingQueue.length > 0 || !In()) && this._storeProcessingQueue.push({
                invoke: In,
                cbStorePut: Ie.cbStorePut,
                callback: ue
              }), this;
            }
            publishAsync(Y, z, Ie) {
              return new Promise((ue, Ce) => {
                this.publish(Y, z, Ie, (pe, Ne) => {
                  pe ? Ce(pe) : ue(Ne);
                });
              });
            }
            subscribe(Y, z, Ie) {
              const ue = this.options.protocolVersion;
              typeof z == "function" && (Ie = z), Ie = Ie || this.noop;
              let Ce = !1, pe = [];
              typeof Y == "string" ? (Y = [Y], pe = Y) : Array.isArray(Y) ? pe = Y : typeof Y == "object" && (Ce = Y.resubscribe, delete Y.resubscribe, pe = Object.keys(Y));
              const Ne = S.validateTopics(pe);
              if (Ne !== null)
                return O(Ie, new Error(`Invalid topic ${Ne}`)), this;
              if (this._checkDisconnecting(Ie))
                return this.log("subscribe: discconecting true"), this;
              const xe = {
                qos: 0
              };
              ue === 5 && (xe.nl = !1, xe.rap = !1, xe.rh = 0), z = Object.assign(Object.assign({}, xe), z);
              const hn = z.properties, Pt = [], _n = (Dt, he) => {
                if (he = he || z, !Object.prototype.hasOwnProperty.call(this._resubscribeTopics, Dt) || this._resubscribeTopics[Dt].qos < he.qos || Ce) {
                  const At = {
                    topic: Dt,
                    qos: he.qos
                  };
                  ue === 5 && (At.nl = he.nl, At.rap = he.rap, At.rh = he.rh, At.properties = hn), this.log("subscribe: pushing topic `%s` and qos `%s` to subs list", At.topic, At.qos), Pt.push(At);
                }
              };
              if (Array.isArray(Y) ? Y.forEach((Dt) => {
                this.log("subscribe: array topic %s", Dt), _n(Dt);
              }) : Object.keys(Y).forEach((Dt) => {
                this.log("subscribe: object topic %s, %o", Dt, Y[Dt]), _n(Dt, Y[Dt]);
              }), !Pt.length)
                return Ie(null, []), this;
              const In = () => {
                const Dt = this._nextId();
                if (Dt === null)
                  return this.log("No messageId left"), !1;
                const he = {
                  cmd: "subscribe",
                  subscriptions: Pt,
                  messageId: Dt
                };
                if (hn && (he.properties = hn), this.options.resubscribe) {
                  this.log("subscribe :: resubscribe true");
                  const At = [];
                  Pt.forEach((Lt) => {
                    if (this.options.reconnectPeriod > 0) {
                      const Cn = { qos: Lt.qos };
                      ue === 5 && (Cn.nl = Lt.nl || !1, Cn.rap = Lt.rap || !1, Cn.rh = Lt.rh || 0, Cn.properties = Lt.properties), this._resubscribeTopics[Lt.topic] = Cn, At.push(Lt.topic);
                    }
                  }), this.messageIdToTopic[he.messageId] = At;
                }
                return this.outgoing[he.messageId] = {
                  volatile: !0,
                  cb(At, Lt) {
                    if (!At) {
                      const { granted: Cn } = Lt;
                      for (let ze = 0; ze < Cn.length; ze += 1)
                        Pt[ze].qos = Cn[ze];
                    }
                    Ie(At, Pt);
                  }
                }, this.log("subscribe :: call _sendPacket"), this._sendPacket(he), !0;
              };
              return (this._storeProcessing || this._storeProcessingQueue.length > 0 || !In()) && this._storeProcessingQueue.push({
                invoke: In,
                callback: Ie
              }), this;
            }
            subscribeAsync(Y, z) {
              return new Promise((Ie, ue) => {
                this.subscribe(Y, z, (Ce, pe) => {
                  Ce ? ue(Ce) : Ie(pe);
                });
              });
            }
            unsubscribe(Y, z, Ie) {
              typeof Y == "string" && (Y = [Y]), typeof z == "function" && (Ie = z), Ie = Ie || this.noop;
              const ue = S.validateTopics(Y);
              if (ue !== null)
                return O(Ie, new Error(`Invalid topic ${ue}`)), this;
              if (this._checkDisconnecting(Ie))
                return this;
              const Ce = () => {
                const pe = this._nextId();
                if (pe === null)
                  return this.log("No messageId left"), !1;
                const Ne = {
                  cmd: "unsubscribe",
                  messageId: pe,
                  unsubscriptions: []
                };
                return typeof Y == "string" ? Ne.unsubscriptions = [Y] : Array.isArray(Y) && (Ne.unsubscriptions = Y), this.options.resubscribe && Ne.unsubscriptions.forEach((xe) => {
                  delete this._resubscribeTopics[xe];
                }), typeof z == "object" && z.properties && (Ne.properties = z.properties), this.outgoing[Ne.messageId] = {
                  volatile: !0,
                  cb: Ie
                }, this.log("unsubscribe: call _sendPacket"), this._sendPacket(Ne), !0;
              };
              return (this._storeProcessing || this._storeProcessingQueue.length > 0 || !Ce()) && this._storeProcessingQueue.push({
                invoke: Ce,
                callback: Ie
              }), this;
            }
            unsubscribeAsync(Y, z) {
              return new Promise((Ie, ue) => {
                this.unsubscribe(Y, z, (Ce, pe) => {
                  Ce ? ue(Ce) : Ie(pe);
                });
              });
            }
            end(Y, z, Ie) {
              this.log("end :: (%s)", this.options.clientId), (Y == null || typeof Y != "boolean") && (Ie = Ie || z, z = Y, Y = !1), typeof z != "object" && (Ie = Ie || z, z = null), this.log("end :: cb? %s", !!Ie), (!Ie || typeof Ie != "function") && (Ie = this.noop);
              const ue = () => {
                this.log("end :: closeStores: closing incoming and outgoing stores"), this.disconnected = !0, this.incomingStore.close((pe) => {
                  this.outgoingStore.close((Ne) => {
                    if (this.log("end :: closeStores: emitting end"), this.emit("end"), Ie) {
                      const xe = pe || Ne;
                      this.log("end :: closeStores: invoking callback with args"), Ie(xe);
                    }
                  });
                }), this._deferredReconnect && this._deferredReconnect();
              }, Ce = () => {
                this.log("end :: (%s) :: finish :: calling _cleanUp with force %s", this.options.clientId, Y), this._cleanUp(Y, () => {
                  this.log("end :: finish :: calling process.nextTick on closeStores"), M(ue);
                }, z);
              };
              return this.disconnecting ? (Ie(), this) : (this._clearReconnect(), this.disconnecting = !0, !Y && Object.keys(this.outgoing).length > 0 ? (this.log("end :: (%s) :: calling finish in 10ms once outgoing is empty", this.options.clientId), this.once("outgoingEmpty", setTimeout.bind(null, Ce, 10))) : (this.log("end :: (%s) :: immediately calling finish", this.options.clientId), Ce()), this);
            }
            endAsync(Y, z) {
              return new Promise((Ie, ue) => {
                this.end(Y, z, (Ce) => {
                  Ce ? ue(Ce) : Ie();
                });
              });
            }
            removeOutgoingMessage(Y) {
              if (this.outgoing[Y]) {
                const { cb: z } = this.outgoing[Y];
                this._removeOutgoingAndStoreMessage(Y, () => {
                  z(new Error("Message removed"));
                });
              }
              return this;
            }
            reconnect(Y) {
              this.log("client reconnect");
              const z = () => {
                Y ? (this.options.incomingStore = Y.incomingStore, this.options.outgoingStore = Y.outgoingStore) : (this.options.incomingStore = null, this.options.outgoingStore = null), this.incomingStore = this.options.incomingStore || new x.default(), this.outgoingStore = this.options.outgoingStore || new x.default(), this.disconnecting = !1, this.disconnected = !1, this._deferredReconnect = null, this._reconnect();
              };
              return this.disconnecting && !this.disconnected ? this._deferredReconnect = z : z(), this;
            }
            _flushVolatile() {
              this.outgoing && (this.log("_flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"), Object.keys(this.outgoing).forEach((Y) => {
                this.outgoing[Y].volatile && typeof this.outgoing[Y].cb == "function" && (this.outgoing[Y].cb(new Error("Connection closed")), delete this.outgoing[Y]);
              }));
            }
            _flush() {
              this.outgoing && (this.log("_flush: queue exists? %b", !!this.outgoing), Object.keys(this.outgoing).forEach((Y) => {
                typeof this.outgoing[Y].cb == "function" && (this.outgoing[Y].cb(new Error("Connection closed")), delete this.outgoing[Y]);
              }));
            }
            _removeTopicAliasAndRecoverTopicName(Y) {
              let z;
              Y.properties && (z = Y.properties.topicAlias);
              let Ie = Y.topic.toString();
              if (this.log("_removeTopicAliasAndRecoverTopicName :: alias %d, topic %o", z, Ie), Ie.length === 0) {
                if (typeof z > "u")
                  return new Error("Unregistered Topic Alias");
                if (Ie = this.topicAliasSend.getTopicByAlias(z), typeof Ie > "u")
                  return new Error("Unregistered Topic Alias");
                Y.topic = Ie;
              }
              z && delete Y.properties.topicAlias;
            }
            _checkDisconnecting(Y) {
              return this.disconnecting && (Y && Y !== this.noop ? Y(new Error("client disconnecting")) : this.emit("error", new Error("client disconnecting"))), this.disconnecting;
            }
            _reconnect() {
              this.log("_reconnect: emitting reconnect to client"), this.emit("reconnect"), this.connected ? (this.end(() => {
                this.connect();
              }), this.log("client already connected. disconnecting first.")) : (this.log("_reconnect: calling connect"), this.connect());
            }
            _setupReconnect() {
              !this.disconnecting && !this.reconnectTimer && this.options.reconnectPeriod > 0 ? (this.reconnecting || (this.log("_setupReconnect :: emit `offline` state"), this.emit("offline"), this.log("_setupReconnect :: set `reconnecting` to `true`"), this.reconnecting = !0), this.log("_setupReconnect :: setting reconnectTimer for %d ms", this.options.reconnectPeriod), this.reconnectTimer = setInterval(() => {
                this.log("reconnectTimer :: reconnect triggered!"), this._reconnect();
              }, this.options.reconnectPeriod)) : this.log("_setupReconnect :: doing nothing...");
            }
            _clearReconnect() {
              this.log("_clearReconnect : clearing reconnect timer"), this.reconnectTimer && (clearInterval(this.reconnectTimer), this.reconnectTimer = null);
            }
            _cleanUp(Y, z, Ie = {}) {
              if (z && (this.log("_cleanUp :: done callback provided for on stream close"), this.stream.on("close", z)), this.log("_cleanUp :: forced? %s", Y), Y)
                this.options.reconnectPeriod === 0 && this.options.clean && this._flush(), this.log("_cleanUp :: (%s) :: destroying stream", this.options.clientId), this.stream.destroy();
              else {
                const ue = Object.assign({ cmd: "disconnect" }, Ie);
                this.log("_cleanUp :: (%s) :: call _sendPacket with disconnect packet", this.options.clientId), this._sendPacket(ue, () => {
                  this.log("_cleanUp :: (%s) :: destroying stream", this.options.clientId), O(() => {
                    this.stream.end(() => {
                      this.log("_cleanUp :: (%s) :: stream destroyed", this.options.clientId);
                    });
                  });
                });
              }
              this.disconnecting || (this.log("_cleanUp :: client not disconnecting. Clearing and resetting reconnect."), this._clearReconnect(), this._setupReconnect()), this.pingTimer !== null && (this.log("_cleanUp :: clearing pingTimer"), this.pingTimer.clear(), this.pingTimer = null), z && !this.connected && (this.log("_cleanUp :: (%s) :: removing stream `done` callback `close` listener", this.options.clientId), this.stream.removeListener("close", z), z());
            }
            _storeAndSend(Y, z, Ie) {
              this.log("storeAndSend :: store packet with cmd %s to outgoingStore", Y.cmd);
              let ue = Y, Ce;
              if (ue.cmd === "publish" && (ue = (0, w.default)(Y), Ce = this._removeTopicAliasAndRecoverTopicName(ue), Ce))
                return z && z(Ce);
              this.outgoingStore.put(ue, (pe) => {
                if (pe)
                  return z && z(pe);
                Ie(), this._writePacket(Y, z);
              });
            }
            _applyTopicAlias(Y) {
              if (this.options.protocolVersion === 5 && Y.cmd === "publish") {
                let z;
                Y.properties && (z = Y.properties.topicAlias);
                const Ie = Y.topic.toString();
                if (this.topicAliasSend)
                  if (z) {
                    if (Ie.length !== 0 && (this.log("applyTopicAlias :: register topic: %s - alias: %d", Ie, z), !this.topicAliasSend.put(Ie, z)))
                      return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d", Ie, z), new Error("Sending Topic Alias out of range");
                  } else
                    Ie.length !== 0 && (this.options.autoAssignTopicAlias ? (z = this.topicAliasSend.getAliasByTopic(Ie), z ? (Y.topic = "", Y.properties = Object.assign(Object.assign({}, Y.properties), { topicAlias: z }), this.log("applyTopicAlias :: auto assign(use) topic: %s - alias: %d", Ie, z)) : (z = this.topicAliasSend.getLruAlias(), this.topicAliasSend.put(Ie, z), Y.properties = Object.assign(Object.assign({}, Y.properties), { topicAlias: z }), this.log("applyTopicAlias :: auto assign topic: %s - alias: %d", Ie, z))) : this.options.autoUseTopicAlias && (z = this.topicAliasSend.getAliasByTopic(Ie), z && (Y.topic = "", Y.properties = Object.assign(Object.assign({}, Y.properties), { topicAlias: z }), this.log("applyTopicAlias :: auto use topic: %s - alias: %d", Ie, z))));
                else if (z)
                  return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d", Ie, z), new Error("Sending Topic Alias out of range");
              }
            }
            _noop(Y) {
              this.log("noop ::", Y);
            }
            _writePacket(Y, z) {
              this.log("_writePacket :: packet: %O", Y), this.log("_writePacket :: emitting `packetsend`"), this.emit("packetsend", Y), this._shiftPingInterval(), this.log("_writePacket :: writing to stream");
              const Ie = g.default.writeToStream(Y, this.stream, this.options);
              this.log("_writePacket :: writeToStream result %s", Ie), !Ie && z && z !== this.noop ? (this.log("_writePacket :: handle events on `drain` once through callback."), this.stream.once("drain", z)) : z && (this.log("_writePacket :: invoking cb"), z());
            }
            _sendPacket(Y, z, Ie, ue) {
              this.log("_sendPacket :: (%s) ::  start", this.options.clientId), Ie = Ie || this.noop, z = z || this.noop;
              const Ce = this._applyTopicAlias(Y);
              if (Ce) {
                z(Ce);
                return;
              }
              if (!this.connected) {
                if (Y.cmd === "auth") {
                  this._writePacket(Y, z);
                  return;
                }
                this.log("_sendPacket :: client not connected. Storing packet offline."), this._storePacket(Y, z, Ie);
                return;
              }
              if (ue) {
                this._writePacket(Y, z);
                return;
              }
              switch (Y.cmd) {
                case "publish":
                  break;
                case "pubrel":
                  this._storeAndSend(Y, z, Ie);
                  return;
                default:
                  this._writePacket(Y, z);
                  return;
              }
              switch (Y.qos) {
                case 2:
                case 1:
                  this._storeAndSend(Y, z, Ie);
                  break;
                case 0:
                default:
                  this._writePacket(Y, z);
                  break;
              }
              this.log("_sendPacket :: (%s) ::  end", this.options.clientId);
            }
            _storePacket(Y, z, Ie) {
              this.log("_storePacket :: packet: %o", Y), this.log("_storePacket :: cb? %s", !!z), Ie = Ie || this.noop;
              let ue = Y;
              if (ue.cmd === "publish") {
                ue = (0, w.default)(Y);
                const pe = this._removeTopicAliasAndRecoverTopicName(ue);
                if (pe)
                  return z && z(pe);
              }
              const Ce = ue.qos || 0;
              Ce === 0 && this.queueQoSZero || ue.cmd !== "publish" ? this.queue.push({ packet: ue, cb: z }) : Ce > 0 ? (z = this.outgoing[ue.messageId] ? this.outgoing[ue.messageId].cb : null, this.outgoingStore.put(ue, (pe) => {
                if (pe)
                  return z && z(pe);
                Ie();
              })) : z && z(new Error("No connection to broker"));
            }
            _setupPingTimer() {
              this.log("_setupPingTimer :: keepalive %d (seconds)", this.options.keepalive), !this.pingTimer && this.options.keepalive && (this.pingResp = !0, this.pingTimer = (0, A.default)(() => {
                this._checkPing();
              }, this.options.keepalive * 1e3));
            }
            _shiftPingInterval() {
              this.pingTimer && this.options.keepalive && this.options.reschedulePings && this.pingTimer.reschedule(this.options.keepalive * 1e3);
            }
            _checkPing() {
              this.log("_checkPing :: checking ping..."), this.pingResp ? (this.log("_checkPing :: ping response received. Clearing flag and sending `pingreq`"), this.pingResp = !1, this._sendPacket({ cmd: "pingreq" })) : (this.log("_checkPing :: calling _cleanUp with force true"), this._cleanUp(!0));
            }
            _resubscribe() {
              this.log("_resubscribe");
              const Y = Object.keys(this._resubscribeTopics);
              if (!this._firstConnection && (this.options.clean || this.options.protocolVersion >= 4 && !this.connackPacket.sessionPresent) && Y.length > 0)
                if (this.options.resubscribe)
                  if (this.options.protocolVersion === 5) {
                    this.log("_resubscribe: protocolVersion 5");
                    for (let z = 0; z < Y.length; z++) {
                      const Ie = {};
                      Ie[Y[z]] = this._resubscribeTopics[Y[z]], Ie.resubscribe = !0, this.subscribe(Ie, {
                        properties: Ie[Y[z]].properties
                      });
                    }
                  } else
                    this._resubscribeTopics.resubscribe = !0, this.subscribe(this._resubscribeTopics);
                else
                  this._resubscribeTopics = {};
              this._firstConnection = !1;
            }
            _onConnect(Y) {
              if (this.disconnected) {
                this.emit("connect", Y);
                return;
              }
              this.connackPacket = Y, this.messageIdProvider.clear(), this._setupPingTimer(), this.connected = !0;
              const z = () => {
                let Ie = this.outgoingStore.createStream();
                const ue = () => {
                  Ie.destroy(), Ie = null, this._flushStoreProcessingQueue(), Ce();
                }, Ce = () => {
                  this._storeProcessing = !1, this._packetIdsDuringStoreProcessing = {};
                };
                this.once("close", ue), Ie.on("error", (Ne) => {
                  Ce(), this._flushStoreProcessingQueue(), this.removeListener("close", ue), this.emit("error", Ne);
                });
                const pe = () => {
                  if (!Ie)
                    return;
                  const Ne = Ie.read(1);
                  let xe;
                  if (!Ne) {
                    Ie.once("readable", pe);
                    return;
                  }
                  if (this._storeProcessing = !0, this._packetIdsDuringStoreProcessing[Ne.messageId]) {
                    pe();
                    return;
                  }
                  !this.disconnecting && !this.reconnectTimer ? (xe = this.outgoing[Ne.messageId] ? this.outgoing[Ne.messageId].cb : null, this.outgoing[Ne.messageId] = {
                    volatile: !1,
                    cb(hn, Pt) {
                      xe && xe(hn, Pt), pe();
                    }
                  }, this._packetIdsDuringStoreProcessing[Ne.messageId] = !0, this.messageIdProvider.register(Ne.messageId) ? this._sendPacket(Ne, void 0, void 0, !0) : this.log("messageId: %d has already used.", Ne.messageId)) : Ie.destroy && Ie.destroy();
                };
                Ie.on("end", () => {
                  let Ne = !0;
                  for (const xe in this._packetIdsDuringStoreProcessing)
                    if (!this._packetIdsDuringStoreProcessing[xe]) {
                      Ne = !1;
                      break;
                    }
                  Ne ? (Ce(), this.removeListener("close", ue), this._invokeAllStoreProcessingQueue(), this.emit("connect", Y)) : z();
                }), pe();
              };
              z();
            }
            _invokeStoreProcessingQueue() {
              if (!this._storeProcessing && this._storeProcessingQueue.length > 0) {
                const Y = this._storeProcessingQueue[0];
                if (Y && Y.invoke())
                  return this._storeProcessingQueue.shift(), !0;
              }
              return !1;
            }
            _invokeAllStoreProcessingQueue() {
              for (; this._invokeStoreProcessingQueue(); )
                ;
            }
            _flushStoreProcessingQueue() {
              for (const Y of this._storeProcessingQueue)
                Y.cbStorePut && Y.cbStorePut(new Error("Connection closed")), Y.callback && Y.callback(new Error("Connection closed"));
              this._storeProcessingQueue.splice(0);
            }
            _removeOutgoingAndStoreMessage(Y, z) {
              delete this.outgoing[Y], this.outgoingStore.del({ messageId: Y }, (Ie, ue) => {
                z(Ie, ue), this.messageIdProvider.deallocate(Y), this._invokeStoreProcessingQueue();
              });
            }
          }
          a.default = j;
        }).call(this);
      }).call(this, r("_process"), typeof commonjsGlobal < "u" ? commonjsGlobal : typeof self < "u" ? self : typeof window < "u" ? window : {});
    }, { "./TypedEmitter": 1, "./default-message-id-provider": 9, "./handlers": 13, "./store": 18, "./topic-alias-recv": 19, "./validations": 22, _process: 102, debug: 30, "mqtt-packet": 75, "readable-stream": 125, reinterval: 131, "rfdc/default": 132 }], 3: [function(r, o, a) {
      var u = this && this.__importDefault || function(T) {
        return T && T.__esModule ? T : { default: T };
      };
      Object.defineProperty(a, "__esModule", { value: !0 });
      const c = r("buffer"), f = r("readable-stream"), d = u(r("duplexify"));
      let p, y, v, g = !1;
      function _() {
        const T = new f.Transform();
        return T._write = (x, L, k) => {
          p.sendSocketMessage({
            data: x.buffer,
            success() {
              k();
            },
            fail() {
              k(new Error());
            }
          });
        }, T._flush = (x) => {
          p.closeSocket({
            success() {
              x();
            }
          });
        }, T;
      }
      function b(T) {
        T.hostname || (T.hostname = "localhost"), T.path || (T.path = "/"), T.wsOptions || (T.wsOptions = {});
      }
      function A(T, x) {
        const L = T.protocol === "alis" ? "wss" : "ws";
        let k = `${L}://${T.hostname}${T.path}`;
        return T.port && T.port !== 80 && T.port !== 443 && (k = `${L}://${T.hostname}:${T.port}${T.path}`), typeof T.transformWsUrl == "function" && (k = T.transformWsUrl(k, T, x)), k;
      }
      function w() {
        g || (g = !0, p.onSocketOpen(() => {
          v.setReadable(y), v.setWritable(y), v.emit("connect");
        }), p.onSocketMessage((T) => {
          if (typeof T.data == "string") {
            const x = c.Buffer.from(T.data, "base64");
            y.push(x);
          } else {
            const x = new FileReader();
            x.addEventListener("load", () => {
              let L = x.result;
              L instanceof ArrayBuffer ? L = c.Buffer.from(L) : L = c.Buffer.from(L, "utf8"), y.push(L);
            }), x.readAsArrayBuffer(T.data);
          }
        }), p.onSocketClose(() => {
          v.end(), v.destroy();
        }), p.onSocketError((T) => {
          v.destroy(T);
        }));
      }
      const S = (T, x) => {
        if (x.hostname = x.hostname || x.host, !x.hostname)
          throw new Error("Could not determine host. Specify host manually.");
        const L = x.protocolId === "MQIsdp" && x.protocolVersion === 3 ? "mqttv3.1" : "mqtt";
        b(x);
        const k = A(x, T);
        return p = x.my, p.connectSocket({
          url: k,
          protocols: L
        }), y = _(), v = d.default.obj(), w(), v;
      };
      a.default = S;
    }, { buffer: 29, duplexify: 32, "readable-stream": 125 }], 4: [function(r, o, a) {
      var u = this && this.__importDefault || function(A) {
        return A && A.__esModule ? A : { default: A };
      };
      Object.defineProperty(a, "__esModule", { value: !0 }), a.connectAsync = void 0;
      const c = u(r("debug")), f = u(r("url")), d = u(r("../client")), p = u(r("../is-browser")), y = (0, c.default)("mqttjs"), v = {};
      p.default ? (v.wx = r("./wx").default, v.wxs = r("./wx").default, v.ali = r("./ali").default, v.alis = r("./ali").default) : (v.mqtt = r("./tcp").default, v.tcp = r("./tcp").default, v.ssl = r("./tls").default, v.tls = v.ssl, v.mqtts = r("./tls").default), v.ws = r("./ws").default, v.wss = r("./ws").default;
      function g(A) {
        let w;
        A.auth && (w = A.auth.match(/^(.+):(.+)$/), w ? (A.username = w[1], A.password = w[2]) : A.username = A.auth);
      }
      function _(A, w) {
        if (y("connecting to an MQTT broker..."), typeof A == "object" && !w && (w = A, A = ""), w = w || {}, A && typeof A == "string") {
          const x = f.default.parse(A, !0);
          if (x.port != null && (x.port = Number(x.port)), w = Object.assign(Object.assign({}, x), w), w.protocol === null)
            throw new Error("Missing protocol");
          w.protocol = w.protocol.replace(/:$/, "");
        }
        if (g(w), w.query && typeof w.query.clientId == "string" && (w.clientId = w.query.clientId), w.cert && w.key)
          if (w.protocol) {
            if (["mqtts", "wss", "wxs", "alis"].indexOf(w.protocol) === -1)
              switch (w.protocol) {
                case "mqtt":
                  w.protocol = "mqtts";
                  break;
                case "ws":
                  w.protocol = "wss";
                  break;
                case "wx":
                  w.protocol = "wxs";
                  break;
                case "ali":
                  w.protocol = "alis";
                  break;
                default:
                  throw new Error(`Unknown protocol for secure connection: "${w.protocol}"!`);
              }
          } else
            throw new Error("Missing secure protocol key");
        if (!v[w.protocol]) {
          const x = ["mqtts", "wss"].indexOf(w.protocol) !== -1;
          w.protocol = [
            "mqtt",
            "mqtts",
            "ws",
            "wss",
            "wx",
            "wxs",
            "ali",
            "alis"
          ].filter((L, k) => x && k % 2 === 0 ? !1 : typeof v[L] == "function")[0];
        }
        if (w.clean === !1 && !w.clientId)
          throw new Error("Missing clientId for unclean clients");
        w.protocol && (w.defaultProtocol = w.protocol);
        function S(x) {
          return w.servers && ((!x._reconnectCount || x._reconnectCount === w.servers.length) && (x._reconnectCount = 0), w.host = w.servers[x._reconnectCount].host, w.port = w.servers[x._reconnectCount].port, w.protocol = w.servers[x._reconnectCount].protocol ? w.servers[x._reconnectCount].protocol : w.defaultProtocol, w.hostname = w.host, x._reconnectCount++), y("calling streambuilder for", w.protocol), v[w.protocol](x, w);
        }
        const T = new d.default(S, w);
        return T.on("error", () => {
        }), T;
      }
      function b(A, w, S = !0) {
        return new Promise((T, x) => {
          const L = _(A, w), k = {
            connect: (O) => {
              M(), T(L);
            },
            end: () => {
              M(), T(L);
            },
            error: (O) => {
              M(), L.end(), x(O);
            }
          };
          S === !1 && (k.close = () => {
            k.error(new Error("Couldn't connect to server"));
          });
          function M() {
            Object.keys(k).forEach((O) => {
              L.off(O, k[O]);
            });
          }
          Object.keys(k).forEach((O) => {
            L.on(O, k[O]);
          });
        });
      }
      a.connectAsync = b, a.default = _;
    }, { "../client": 2, "../is-browser": 16, "./ali": 3, "./tcp": 5, "./tls": 6, "./ws": 7, "./wx": 8, debug: 30, url: 137 }], 5: [function(r, o, a) {
      var u = this && this.__importDefault || function(y) {
        return y && y.__esModule ? y : { default: y };
      };
      Object.defineProperty(a, "__esModule", { value: !0 });
      const c = u(r("net")), d = (0, u(r("debug")).default)("mqttjs:tcp"), p = (y, v) => {
        v.port = v.port || 1883, v.hostname = v.hostname || v.host || "localhost";
        const { port: g } = v, _ = v.hostname;
        return d("port %d and host %s", g, _), c.default.createConnection(g, _);
      };
      a.default = p;
    }, { debug: 30, net: 26 }], 6: [function(r, o, a) {
      var u = this && this.__importDefault || function(v) {
        return v && v.__esModule ? v : { default: v };
      };
      Object.defineProperty(a, "__esModule", { value: !0 });
      const c = u(r("tls")), f = u(r("net")), p = (0, u(r("debug")).default)("mqttjs:tls"), y = (v, g) => {
        g.port = g.port || 8883, g.host = g.hostname || g.host || "localhost", f.default.isIP(g.host) === 0 && (g.servername = g.host), g.rejectUnauthorized = g.rejectUnauthorized !== !1, delete g.path, p("port %d host %s rejectUnauthorized %b", g.port, g.host, g.rejectUnauthorized);
        const _ = c.default.connect(g);
        _.on("secureConnect", () => {
          g.rejectUnauthorized && !_.authorized ? _.emit("error", new Error("TLS not authorized")) : _.removeListener("error", b);
        });
        function b(A) {
          g.rejectUnauthorized && v.emit("error", A), _.end();
        }
        return _.on("error", b), _;
      };
      a.default = y;
    }, { debug: 30, net: 26, tls: 26 }], 7: [function(r, o, a) {
      var u = this && this.__importDefault || function(k) {
        return k && k.__esModule ? k : { default: k };
      };
      Object.defineProperty(a, "__esModule", { value: !0 });
      const c = r("buffer"), f = u(r("ws")), d = u(r("debug")), p = u(r("duplexify")), y = r("readable-stream"), v = u(r("../is-browser")), g = (0, d.default)("mqttjs:ws"), _ = [
        "rejectUnauthorized",
        "ca",
        "cert",
        "key",
        "pfx",
        "passphrase"
      ];
      function b(k, M) {
        let O = `${k.protocol}://${k.hostname}:${k.port}${k.path}`;
        return typeof k.transformWsUrl == "function" && (O = k.transformWsUrl(O, k, M)), O;
      }
      function A(k) {
        const M = k;
        return k.hostname || (M.hostname = "localhost"), k.port || (k.protocol === "wss" ? M.port = 443 : M.port = 80), k.path || (M.path = "/"), k.wsOptions || (M.wsOptions = {}), !v.default && k.protocol === "wss" && _.forEach((O) => {
          Object.prototype.hasOwnProperty.call(k, O) && !Object.prototype.hasOwnProperty.call(k.wsOptions, O) && (M.wsOptions[O] = k[O]);
        }), M;
      }
      function w(k) {
        const M = A(k);
        if (M.hostname || (M.hostname = M.host), !M.hostname) {
          if (typeof document > "u")
            throw new Error("Could not determine host. Specify host manually.");
          const O = new URL(document.URL);
          M.hostname = O.hostname, M.port || (M.port = Number(O.port));
        }
        return M.objectMode === void 0 && (M.objectMode = !(M.binary === !0 || M.binary === void 0)), M;
      }
      function S(k, M, O) {
        g("createWebSocket"), g(`protocol: ${O.protocolId} ${O.protocolVersion}`);
        const ie = O.protocolId === "MQIsdp" && O.protocolVersion === 3 ? "mqttv3.1" : "mqtt";
        g(`creating new Websocket for url: ${M} and protocol: ${ie}`);
        let F;
        return O.createWebsocket ? F = O.createWebsocket(M, [ie], O) : F = new f.default(M, [ie], O.wsOptions), F;
      }
      function T(k, M) {
        const O = M.protocolId === "MQIsdp" && M.protocolVersion === 3 ? "mqttv3.1" : "mqtt", ie = b(M, k);
        let F;
        return M.createWebsocket ? F = M.createWebsocket(ie, [O], M) : F = new WebSocket(ie, [O]), F.binaryType = "arraybuffer", F;
      }
      const x = (k, M) => {
        g("streamBuilder");
        const O = A(M), ie = b(O, k), F = S(k, ie, O), j = f.default.createWebSocketStream(F, O.wsOptions);
        return j.url = ie, F.on("close", () => {
          j.destroy();
        }), j;
      }, L = (k, M) => {
        g("browserStreamBuilder");
        let O;
        const F = w(M).browserBufferSize || 1024 * 512, j = M.browserBufferTimeout || 1e3, D = !M.objectMode, Y = T(k, M), z = ue(M, Pt, _n);
        M.objectMode || (z._writev = hn), z.on("close", () => {
          Y.close();
        });
        const Ie = typeof Y.addEventListener < "u";
        Y.readyState === Y.OPEN ? O = z : (O = (0, p.default)(void 0, void 0, M), M.objectMode || (O._writev = hn), Ie ? Y.addEventListener("open", Ce) : Y.onopen = Ce), O.socket = Y, Ie ? (Y.addEventListener("close", pe), Y.addEventListener("error", Ne), Y.addEventListener("message", xe)) : (Y.onclose = pe, Y.onerror = Ne, Y.onmessage = xe);
        function ue(In, Dt, he) {
          const At = new y.Transform({
            objectMode: In.objectMode
          });
          return At._write = Dt, At._flush = he, At;
        }
        function Ce() {
          O.setReadable(z), O.setWritable(z), O.emit("connect");
        }
        function pe() {
          O.end(), O.destroy();
        }
        function Ne(In) {
          O.destroy(In);
        }
        function xe(In) {
          let { data: Dt } = In;
          Dt instanceof ArrayBuffer ? Dt = c.Buffer.from(Dt) : Dt = c.Buffer.from(Dt, "utf8"), z.push(Dt);
        }
        function hn(In, Dt) {
          const he = new Array(In.length);
          for (let At = 0; At < In.length; At++)
            typeof In[At].chunk == "string" ? he[At] = c.Buffer.from(In[At], "utf8") : he[At] = In[At].chunk;
          this._write(c.Buffer.concat(he), "binary", Dt);
        }
        function Pt(In, Dt, he) {
          Y.bufferedAmount > F && setTimeout(Pt, j, In, Dt, he), D && typeof In == "string" && (In = c.Buffer.from(In, "utf8"));
          try {
            Y.send(In);
          } catch (At) {
            return he(At);
          }
          he();
        }
        function _n(In) {
          Y.close(), In();
        }
        return O;
      };
      a.default = v.default ? L : x;
    }, { "../is-browser": 16, buffer: 29, debug: 30, duplexify: 32, "readable-stream": 125, ws: 141 }], 8: [function(r, o, a) {
      var u = this && this.__importDefault || function(S) {
        return S && S.__esModule ? S : { default: S };
      };
      Object.defineProperty(a, "__esModule", { value: !0 });
      const c = r("buffer"), f = r("readable-stream"), d = u(r("duplexify"));
      let p, y, v;
      function g() {
        const S = new f.Transform();
        return S._write = (T, x, L) => {
          p.send({
            data: T.buffer,
            success() {
              L();
            },
            fail(k) {
              L(new Error(k));
            }
          });
        }, S._flush = (T) => {
          p.close({
            success() {
              T();
            }
          });
        }, S;
      }
      function _(S) {
        S.hostname || (S.hostname = "localhost"), S.path || (S.path = "/"), S.wsOptions || (S.wsOptions = {});
      }
      function b(S, T) {
        const x = S.protocol === "wxs" ? "wss" : "ws";
        let L = `${x}://${S.hostname}${S.path}`;
        return S.port && S.port !== 80 && S.port !== 443 && (L = `${x}://${S.hostname}:${S.port}${S.path}`), typeof S.transformWsUrl == "function" && (L = S.transformWsUrl(L, S, T)), L;
      }
      function A() {
        p.onOpen(() => {
          v.setReadable(y), v.setWritable(y), v.emit("connect");
        }), p.onMessage((S) => {
          let { data: T } = S;
          T instanceof ArrayBuffer ? T = c.Buffer.from(T) : T = c.Buffer.from(T, "utf8"), y.push(T);
        }), p.onClose(() => {
          v.emit("close"), v.end(), v.destroy();
        }), p.onError((S) => {
          v.destroy(new Error(S.errMsg));
        });
      }
      const w = (S, T) => {
        if (T.hostname = T.hostname || T.host, !T.hostname)
          throw new Error("Could not determine host. Specify host manually.");
        const x = T.protocolId === "MQIsdp" && T.protocolVersion === 3 ? "mqttv3.1" : "mqtt";
        _(T);
        const L = b(T, S);
        p = wx.connectSocket({
          url: L,
          protocols: [x]
        }), y = g(), v = d.default.obj(), v._destroy = (M, O) => {
          p.close({
            success() {
              O && O(M);
            }
          });
        };
        const k = v.destroy;
        return v.destroy = () => {
          v.destroy = k, setTimeout(() => {
            p.close({
              fail() {
                v._destroy(new Error());
              }
            });
          }, 0);
        }, A(), v;
      };
      a.default = w;
    }, { buffer: 29, duplexify: 32, "readable-stream": 125 }], 9: [function(r, o, a) {
      Object.defineProperty(a, "__esModule", { value: !0 });
      class u {
        constructor() {
          this.nextId = Math.max(1, Math.floor(Math.random() * 65535));
        }
        allocate() {
          const f = this.nextId++;
          return this.nextId === 65536 && (this.nextId = 1), f;
        }
        getLastAllocated() {
          return this.nextId === 1 ? 65535 : this.nextId - 1;
        }
        register(f) {
          return !0;
        }
        deallocate(f) {
        }
        clear() {
        }
      }
      a.default = u;
    }, {}], 10: [function(r, o, a) {
      Object.defineProperty(a, "__esModule", { value: !0 }), a.ReasonCodes = void 0, a.ReasonCodes = {
        0: "",
        1: "Unacceptable protocol version",
        2: "Identifier rejected",
        3: "Server unavailable",
        4: "Bad username or password",
        5: "Not authorized",
        16: "No matching subscribers",
        17: "No subscription existed",
        128: "Unspecified error",
        129: "Malformed Packet",
        130: "Protocol Error",
        131: "Implementation specific error",
        132: "Unsupported Protocol Version",
        133: "Client Identifier not valid",
        134: "Bad User Name or Password",
        135: "Not authorized",
        136: "Server unavailable",
        137: "Server busy",
        138: "Banned",
        139: "Server shutting down",
        140: "Bad authentication method",
        141: "Keep Alive timeout",
        142: "Session taken over",
        143: "Topic Filter invalid",
        144: "Topic Name invalid",
        145: "Packet identifier in use",
        146: "Packet Identifier not found",
        147: "Receive Maximum exceeded",
        148: "Topic Alias invalid",
        149: "Packet too large",
        150: "Message rate too high",
        151: "Quota exceeded",
        152: "Administrative action",
        153: "Payload format invalid",
        154: "Retain not supported",
        155: "QoS not supported",
        156: "Use another server",
        157: "Server moved",
        158: "Shared Subscriptions not supported",
        159: "Connection rate exceeded",
        160: "Maximum connect time",
        161: "Subscription Identifiers not supported",
        162: "Wildcard Subscriptions not supported"
      };
      const u = (c, f) => {
        const { messageId: d } = f, p = f.cmd;
        let y = null;
        const v = c.outgoing[d] ? c.outgoing[d].cb : null;
        let g;
        if (!v) {
          c.log("_handleAck :: Server sent an ack in error. Ignoring.");
          return;
        }
        switch (c.log("_handleAck :: packet type", p), p) {
          case "pubcomp":
          case "puback": {
            const _ = f.reasonCode;
            _ && _ > 0 && _ !== 16 ? (g = new Error(`Publish error: ${a.ReasonCodes[_]}`), g.code = _, c._removeOutgoingAndStoreMessage(d, () => {
              v(g, f);
            })) : c._removeOutgoingAndStoreMessage(d, v);
            break;
          }
          case "pubrec": {
            y = {
              cmd: "pubrel",
              qos: 2,
              messageId: d
            };
            const _ = f.reasonCode;
            _ && _ > 0 && _ !== 16 ? (g = new Error(`Publish error: ${a.ReasonCodes[_]}`), g.code = _, c._removeOutgoingAndStoreMessage(d, () => {
              v(g, f);
            })) : c._sendPacket(y);
            break;
          }
          case "suback": {
            delete c.outgoing[d], c.messageIdProvider.deallocate(d);
            const _ = f.granted;
            for (let b = 0; b < _.length; b++)
              if (_[b] & 128) {
                const A = c.messageIdToTopic[d];
                A && A.forEach((w) => {
                  delete c._resubscribeTopics[w];
                });
              }
            delete c.messageIdToTopic[d], c._invokeStoreProcessingQueue(), v(null, f);
            break;
          }
          case "unsuback": {
            delete c.outgoing[d], c.messageIdProvider.deallocate(d), c._invokeStoreProcessingQueue(), v(null);
            break;
          }
          default:
            c.emit("error", new Error("unrecognized packet type"));
        }
        c.disconnecting && Object.keys(c.outgoing).length === 0 && c.emit("outgoingEmpty");
      };
      a.default = u;
    }, {}], 11: [function(r, o, a) {
      Object.defineProperty(a, "__esModule", { value: !0 });
      const u = r("../shared"), c = r("./ack"), f = (d, p) => {
        const { options: y } = d, v = y.protocolVersion, g = v === 5 ? p.reasonCode : p.returnCode;
        if (v !== 5) {
          const _ = new u.ErrorWithReasonCode(`Protocol error: Auth packets are only supported in MQTT 5. Your version:${v}`, g);
          d.emit("error", _);
          return;
        }
        d.handleAuth(p, (_, b) => {
          if (_) {
            d.emit("error", _);
            return;
          }
          if (g === 24)
            d.reconnecting = !1, d._sendPacket(b);
          else {
            const A = new u.ErrorWithReasonCode(`Connection refused: ${c.ReasonCodes[g]}`, g);
            d.emit("error", A);
          }
        });
      };
      a.default = f;
    }, { "../shared": 17, "./ack": 10 }], 12: [function(r, o, a) {
      var u = this && this.__importDefault || function(y) {
        return y && y.__esModule ? y : { default: y };
      };
      Object.defineProperty(a, "__esModule", { value: !0 });
      const c = r("./ack"), f = u(r("../topic-alias-send")), d = r("../shared"), p = (y, v) => {
        y.log("_handleConnack");
        const { options: g } = y, b = g.protocolVersion === 5 ? v.reasonCode : v.returnCode;
        if (clearTimeout(y.connackTimer), delete y.topicAliasSend, v.properties) {
          if (v.properties.topicAliasMaximum) {
            if (v.properties.topicAliasMaximum > 65535) {
              y.emit("error", new Error("topicAliasMaximum from broker is out of range"));
              return;
            }
            v.properties.topicAliasMaximum > 0 && (y.topicAliasSend = new f.default(v.properties.topicAliasMaximum));
          }
          v.properties.serverKeepAlive && g.keepalive && (g.keepalive = v.properties.serverKeepAlive, y._shiftPingInterval()), v.properties.maximumPacketSize && (g.properties || (g.properties = {}), g.properties.maximumPacketSize = v.properties.maximumPacketSize);
        }
        if (b === 0)
          y.reconnecting = !1, y._onConnect(v);
        else if (b > 0) {
          const A = new d.ErrorWithReasonCode(`Connection refused: ${c.ReasonCodes[b]}`, b);
          y.emit("error", A);
        }
      };
      a.default = p;
    }, { "../shared": 17, "../topic-alias-send": 20, "./ack": 10 }], 13: [function(r, o, a) {
      var u = this && this.__importDefault || function(g) {
        return g && g.__esModule ? g : { default: g };
      };
      Object.defineProperty(a, "__esModule", { value: !0 });
      const c = u(r("./publish")), f = u(r("./auth")), d = u(r("./connack")), p = u(r("./ack")), y = u(r("./pubrel")), v = (g, _, b) => {
        const { options: A } = g;
        if (A.protocolVersion === 5 && A.properties && A.properties.maximumPacketSize && A.properties.maximumPacketSize < _.length)
          return g.emit("error", new Error(`exceeding packets size ${_.cmd}`)), g.end({
            reasonCode: 149,
            properties: { reasonString: "Maximum packet size was exceeded" }
          }), g;
        switch (g.log("_handlePacket :: emitting packetreceive"), g.emit("packetreceive", _), _.cmd) {
          case "publish":
            (0, c.default)(g, _, b);
            break;
          case "puback":
          case "pubrec":
          case "pubcomp":
          case "suback":
          case "unsuback":
            (0, p.default)(g, _), b();
            break;
          case "pubrel":
            (0, y.default)(g, _, b);
            break;
          case "connack":
            (0, d.default)(g, _), b();
            break;
          case "auth":
            (0, f.default)(g, _), b();
            break;
          case "pingresp":
            g.pingResp = !0, b();
            break;
          case "disconnect":
            g.emit("disconnect", _), b();
            break;
          default:
            g.log("_handlePacket :: unknown command"), b();
            break;
        }
      };
      a.default = v;
    }, { "./ack": 10, "./auth": 11, "./connack": 12, "./publish": 14, "./pubrel": 15 }], 14: [function(r, o, a) {
      Object.defineProperty(a, "__esModule", { value: !0 });
      const u = [0, 16, 128, 131, 135, 144, 145, 151, 153], c = (f, d, p) => {
        f.log("handlePublish: packet %o", d), p = typeof p < "u" ? p : f.noop;
        let y = d.topic.toString();
        const v = d.payload, { qos: g } = d, { messageId: _ } = d, { options: b } = f;
        if (f.options.protocolVersion === 5) {
          let A;
          if (d.properties && (A = d.properties.topicAlias), typeof A < "u")
            if (y.length === 0)
              if (A > 0 && A <= 65535) {
                const w = f.topicAliasRecv.getTopicByAlias(A);
                if (w)
                  y = w, f.log("handlePublish :: topic complemented by alias. topic: %s - alias: %d", y, A);
                else {
                  f.log("handlePublish :: unregistered topic alias. alias: %d", A), f.emit("error", new Error("Received unregistered Topic Alias"));
                  return;
                }
              } else {
                f.log("handlePublish :: topic alias out of range. alias: %d", A), f.emit("error", new Error("Received Topic Alias is out of range"));
                return;
              }
            else if (f.topicAliasRecv.put(y, A))
              f.log("handlePublish :: registered topic: %s - alias: %d", y, A);
            else {
              f.log("handlePublish :: topic alias out of range. alias: %d", A), f.emit("error", new Error("Received Topic Alias is out of range"));
              return;
            }
        }
        switch (f.log("handlePublish: qos %d", g), g) {
          case 2: {
            b.customHandleAcks(y, v, d, (A, w) => {
              if (typeof A == "number" && (w = A, A = null), A)
                return f.emit("error", A);
              if (u.indexOf(w) === -1)
                return f.emit("error", new Error("Wrong reason code for pubrec"));
              w ? f._sendPacket({ cmd: "pubrec", messageId: _, reasonCode: w }, p) : f.incomingStore.put(d, () => {
                f._sendPacket({ cmd: "pubrec", messageId: _ }, p);
              });
            });
            break;
          }
          case 1: {
            b.customHandleAcks(y, v, d, (A, w) => {
              if (typeof A == "number" && (w = A, A = null), A)
                return f.emit("error", A);
              if (u.indexOf(w) === -1)
                return f.emit("error", new Error("Wrong reason code for puback"));
              w || f.emit("message", y, v, d), f.handleMessage(d, (S) => {
                if (S)
                  return p && p(S);
                f._sendPacket({ cmd: "puback", messageId: _, reasonCode: w }, p);
              });
            });
            break;
          }
          case 0:
            f.emit("message", y, v, d), f.handleMessage(d, p);
            break;
          default:
            f.log("handlePublish: unknown QoS. Doing nothing.");
            break;
        }
      };
      a.default = c;
    }, {}], 15: [function(r, o, a) {
      Object.defineProperty(a, "__esModule", { value: !0 });
      const u = (c, f, d) => {
        c.log("handling pubrel packet");
        const p = typeof d < "u" ? d : c.noop, { messageId: y } = f, v = { cmd: "pubcomp", messageId: y };
        c.incomingStore.get(f, (g, _) => {
          g ? c._sendPacket(v, p) : (c.emit("message", _.topic, _.payload, _), c.handleMessage(_, (b) => {
            if (b)
              return p(b);
            c.incomingStore.del(_, c.noop), c._sendPacket(v, p);
          }));
        });
      };
      a.default = u;
    }, {}], 16: [function(r, o, a) {
      Object.defineProperty(a, "__esModule", { value: !0 });
      const u = typeof window < "u" && typeof window.document < "u" || typeof self < "u" && typeof self.postMessage == "function";
      a.default = u;
    }, {}], 17: [function(r, o, a) {
      Object.defineProperty(a, "__esModule", { value: !0 }), a.applyMixin = a.ErrorWithReasonCode = void 0;
      class u extends Error {
        constructor(d, p) {
          super(d), this.code = p, Object.setPrototypeOf(this, u.prototype), Object.getPrototypeOf(this).name = "ErrorWithReasonCode";
        }
      }
      a.ErrorWithReasonCode = u;
      function c(f, d, p = !1) {
        var y;
        const v = [d];
        for (; ; ) {
          const g = v[0], _ = Object.getPrototypeOf(g);
          if (_ != null && _.prototype)
            v.unshift(_);
          else
            break;
        }
        for (const g of v)
          for (const _ of Object.getOwnPropertyNames(g.prototype))
            (p || _ !== "constructor") && Object.defineProperty(f.prototype, _, (y = Object.getOwnPropertyDescriptor(g.prototype, _)) !== null && y !== void 0 ? y : /* @__PURE__ */ Object.create(null));
      }
      a.applyMixin = c;
    }, {}], 18: [function(r, o, a) {
      Object.defineProperty(a, "__esModule", { value: !0 });
      const u = r("readable-stream"), c = { objectMode: !0 }, f = {
        clean: !0
      };
      class d {
        constructor(y) {
          this.options = y || {}, this.options = Object.assign(Object.assign({}, f), y), this._inflights = /* @__PURE__ */ new Map();
        }
        put(y, v) {
          return this._inflights.set(y.messageId, y), v && v(), this;
        }
        createStream() {
          const y = new u.Readable(c), v = [];
          let g = !1, _ = 0;
          return this._inflights.forEach((b, A) => {
            v.push(b);
          }), y._read = () => {
            !g && _ < v.length ? y.push(v[_++]) : y.push(null);
          }, y.destroy = (b) => {
            if (!g)
              return g = !0, setTimeout(() => {
                y.emit("close");
              }, 0), y;
          }, y;
        }
        del(y, v) {
          const g = this._inflights.get(y.messageId);
          return g ? (this._inflights.delete(y.messageId), v(null, g)) : v && v(new Error("missing packet")), this;
        }
        get(y, v) {
          const g = this._inflights.get(y.messageId);
          return g ? v(null, g) : v && v(new Error("missing packet")), this;
        }
        close(y) {
          this.options.clean && (this._inflights = null), y && y();
        }
      }
      a.default = d;
    }, { "readable-stream": 125 }], 19: [function(r, o, a) {
      Object.defineProperty(a, "__esModule", { value: !0 });
      class u {
        constructor(f) {
          this.aliasToTopic = {}, this.max = f;
        }
        put(f, d) {
          return d === 0 || d > this.max ? !1 : (this.aliasToTopic[d] = f, this.length = Object.keys(this.aliasToTopic).length, !0);
        }
        getTopicByAlias(f) {
          return this.aliasToTopic[f];
        }
        clear() {
          this.aliasToTopic = {};
        }
      }
      a.default = u;
    }, {}], 20: [function(r, o, a) {
      var u = this && this.__importDefault || function(p) {
        return p && p.__esModule ? p : { default: p };
      };
      Object.defineProperty(a, "__esModule", { value: !0 });
      const c = u(r("lru-cache")), f = r("number-allocator");
      class d {
        constructor(y) {
          y > 0 && (this.aliasToTopic = new c.default({ max: y }), this.topicToAlias = {}, this.numberAllocator = new f.NumberAllocator(1, y), this.max = y, this.length = 0);
        }
        put(y, v) {
          if (v === 0 || v > this.max)
            return !1;
          const g = this.aliasToTopic.get(v);
          return g && delete this.topicToAlias[g], this.aliasToTopic.set(v, y), this.topicToAlias[y] = v, this.numberAllocator.use(v), this.length = this.aliasToTopic.size, !0;
        }
        getTopicByAlias(y) {
          return this.aliasToTopic.get(y);
        }
        getAliasByTopic(y) {
          const v = this.topicToAlias[y];
          return typeof v < "u" && this.aliasToTopic.get(v), v;
        }
        clear() {
          this.aliasToTopic.clear(), this.topicToAlias = {}, this.numberAllocator.clear(), this.length = 0;
        }
        getLruAlias() {
          const y = this.numberAllocator.firstVacant();
          return y || [...this.aliasToTopic.keys()][this.aliasToTopic.size - 1];
        }
      }
      a.default = d;
    }, { "lru-cache": 72, "number-allocator": 98 }], 21: [function(r, o, a) {
      Object.defineProperty(a, "__esModule", { value: !0 });
      const u = r("number-allocator");
      class c {
        constructor() {
          this.numberAllocator = new u.NumberAllocator(1, 65535);
        }
        allocate() {
          return this.lastId = this.numberAllocator.alloc(), this.lastId;
        }
        getLastAllocated() {
          return this.lastId;
        }
        register(d) {
          return this.numberAllocator.use(d);
        }
        deallocate(d) {
          this.numberAllocator.free(d);
        }
        clear() {
          this.numberAllocator.clear();
        }
      }
      a.default = c;
    }, { "number-allocator": 98 }], 22: [function(r, o, a) {
      Object.defineProperty(a, "__esModule", { value: !0 }), a.validateTopics = a.validateTopic = void 0;
      function u(f) {
        const d = f.split("/");
        for (let p = 0; p < d.length; p++)
          if (d[p] !== "+") {
            if (d[p] === "#")
              return p === d.length - 1;
            if (d[p].indexOf("+") !== -1 || d[p].indexOf("#") !== -1)
              return !1;
          }
        return !0;
      }
      a.validateTopic = u;
      function c(f) {
        if (f.length === 0)
          return "empty_topic_list";
        for (let d = 0; d < f.length; d++)
          if (!u(f[d]))
            return f[d];
        return null;
      }
      a.validateTopics = c;
    }, {}], 23: [function(r, o, a) {
      var u = this && this.__createBinding || (Object.create ? function(w, S, T, x) {
        x === void 0 && (x = T);
        var L = Object.getOwnPropertyDescriptor(S, T);
        (!L || ("get" in L ? !S.__esModule : L.writable || L.configurable)) && (L = { enumerable: !0, get: function() {
          return S[T];
        } }), Object.defineProperty(w, x, L);
      } : function(w, S, T, x) {
        x === void 0 && (x = T), w[x] = S[T];
      }), c = this && this.__setModuleDefault || (Object.create ? function(w, S) {
        Object.defineProperty(w, "default", { enumerable: !0, value: S });
      } : function(w, S) {
        w.default = S;
      }), f = this && this.__importStar || function(w) {
        if (w && w.__esModule)
          return w;
        var S = {};
        if (w != null)
          for (var T in w)
            T !== "default" && Object.prototype.hasOwnProperty.call(w, T) && u(S, w, T);
        return c(S, w), S;
      }, d = this && this.__exportStar || function(w, S) {
        for (var T in w)
          T !== "default" && !Object.prototype.hasOwnProperty.call(S, T) && u(S, w, T);
      }, p = this && this.__importDefault || function(w) {
        return w && w.__esModule ? w : { default: w };
      };
      Object.defineProperty(a, "__esModule", { value: !0 }), a.ReasonCodes = a.UniqueMessageIdProvider = a.DefaultMessageIdProvider = a.Store = a.MqttClient = a.connectAsync = a.connect = a.Client = void 0;
      const y = p(r("./lib/client"));
      a.MqttClient = y.default;
      const v = p(r("./lib/default-message-id-provider"));
      a.DefaultMessageIdProvider = v.default;
      const g = p(r("./lib/unique-message-id-provider"));
      a.UniqueMessageIdProvider = g.default;
      const _ = p(r("./lib/store"));
      a.Store = _.default;
      const b = f(r("./lib/connect"));
      a.connect = b.default, Object.defineProperty(a, "connectAsync", { enumerable: !0, get: function() {
        return b.connectAsync;
      } }), a.Client = y.default, d(r("./lib/client"), a), d(r("./lib/shared"), a);
      var A = r("./lib/handlers/ack");
      Object.defineProperty(a, "ReasonCodes", { enumerable: !0, get: function() {
        return A.ReasonCodes;
      } });
    }, { "./lib/client": 2, "./lib/connect": 4, "./lib/default-message-id-provider": 9, "./lib/handlers/ack": 10, "./lib/shared": 17, "./lib/store": 18, "./lib/unique-message-id-provider": 21 }], 24: [function(r, o, a) {
      const { AbortController: u, AbortSignal: c } = typeof self < "u" ? self : typeof window < "u" ? window : (
        /* otherwise */
        void 0
      );
      o.exports = u, o.exports.AbortSignal = c, o.exports.default = u;
    }, {}], 25: [function(r, o, a) {
      a.byteLength = g, a.toByteArray = b, a.fromByteArray = S;
      for (var u = [], c = [], f = typeof Uint8Array < "u" ? Uint8Array : Array, d = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", p = 0, y = d.length; p < y; ++p)
        u[p] = d[p], c[d.charCodeAt(p)] = p;
      c["-".charCodeAt(0)] = 62, c["_".charCodeAt(0)] = 63;
      function v(T) {
        var x = T.length;
        if (x % 4 > 0)
          throw new Error("Invalid string. Length must be a multiple of 4");
        var L = T.indexOf("=");
        L === -1 && (L = x);
        var k = L === x ? 0 : 4 - L % 4;
        return [L, k];
      }
      function g(T) {
        var x = v(T), L = x[0], k = x[1];
        return (L + k) * 3 / 4 - k;
      }
      function _(T, x, L) {
        return (x + L) * 3 / 4 - L;
      }
      function b(T) {
        var x, L = v(T), k = L[0], M = L[1], O = new f(_(T, k, M)), ie = 0, F = M > 0 ? k - 4 : k, j;
        for (j = 0; j < F; j += 4)
          x = c[T.charCodeAt(j)] << 18 | c[T.charCodeAt(j + 1)] << 12 | c[T.charCodeAt(j + 2)] << 6 | c[T.charCodeAt(j + 3)], O[ie++] = x >> 16 & 255, O[ie++] = x >> 8 & 255, O[ie++] = x & 255;
        return M === 2 && (x = c[T.charCodeAt(j)] << 2 | c[T.charCodeAt(j + 1)] >> 4, O[ie++] = x & 255), M === 1 && (x = c[T.charCodeAt(j)] << 10 | c[T.charCodeAt(j + 1)] << 4 | c[T.charCodeAt(j + 2)] >> 2, O[ie++] = x >> 8 & 255, O[ie++] = x & 255), O;
      }
      function A(T) {
        return u[T >> 18 & 63] + u[T >> 12 & 63] + u[T >> 6 & 63] + u[T & 63];
      }
      function w(T, x, L) {
        for (var k, M = [], O = x; O < L; O += 3)
          k = (T[O] << 16 & 16711680) + (T[O + 1] << 8 & 65280) + (T[O + 2] & 255), M.push(A(k));
        return M.join("");
      }
      function S(T) {
        for (var x, L = T.length, k = L % 3, M = [], O = 16383, ie = 0, F = L - k; ie < F; ie += O)
          M.push(w(T, ie, ie + O > F ? F : ie + O));
        return k === 1 ? (x = T[L - 1], M.push(
          u[x >> 2] + u[x << 4 & 63] + "=="
        )) : k === 2 && (x = (T[L - 2] << 8) + T[L - 1], M.push(
          u[x >> 10] + u[x >> 4 & 63] + u[x << 2 & 63] + "="
        )), M.join("");
      }
    }, {}], 26: [function(r, o, a) {
    }, {}], 27: [function(r, o, a) {
      var u = r("buffer"), c = u.Buffer;
      function f(p, y) {
        for (var v in p)
          y[v] = p[v];
      }
      c.from && c.alloc && c.allocUnsafe && c.allocUnsafeSlow ? o.exports = u : (f(u, a), a.Buffer = d);
      function d(p, y, v) {
        return c(p, y, v);
      }
      f(c, d), d.from = function(p, y, v) {
        if (typeof p == "number")
          throw new TypeError("Argument must not be a number");
        return c(p, y, v);
      }, d.alloc = function(p, y, v) {
        if (typeof p != "number")
          throw new TypeError("Argument must be a number");
        var g = c(p);
        return y !== void 0 ? typeof v == "string" ? g.fill(y, v) : g.fill(y) : g.fill(0), g;
      }, d.allocUnsafe = function(p) {
        if (typeof p != "number")
          throw new TypeError("Argument must be a number");
        return c(p);
      }, d.allocUnsafeSlow = function(p) {
        if (typeof p != "number")
          throw new TypeError("Argument must be a number");
        return u.SlowBuffer(p);
      };
    }, { buffer: 29 }], 28: [function(r, o, a) {
      var u = r("safe-buffer").Buffer, c = u.isEncoding || function(M) {
        switch (M = "" + M, M && M.toLowerCase()) {
          case "hex":
          case "utf8":
          case "utf-8":
          case "ascii":
          case "binary":
          case "base64":
          case "ucs2":
          case "ucs-2":
          case "utf16le":
          case "utf-16le":
          case "raw":
            return !0;
          default:
            return !1;
        }
      };
      function f(M) {
        if (!M)
          return "utf8";
        for (var O; ; )
          switch (M) {
            case "utf8":
            case "utf-8":
              return "utf8";
            case "ucs2":
            case "ucs-2":
            case "utf16le":
            case "utf-16le":
              return "utf16le";
            case "latin1":
            case "binary":
              return "latin1";
            case "base64":
            case "ascii":
            case "hex":
              return M;
            default:
              if (O)
                return;
              M = ("" + M).toLowerCase(), O = !0;
          }
      }
      function d(M) {
        var O = f(M);
        if (typeof O != "string" && (u.isEncoding === c || !c(M)))
          throw new Error("Unknown encoding: " + M);
        return O || M;
      }
      a.StringDecoder = p;
      function p(M) {
        this.encoding = d(M);
        var O;
        switch (this.encoding) {
          case "utf16le":
            this.text = w, this.end = S, O = 4;
            break;
          case "utf8":
            this.fillLast = _, O = 4;
            break;
          case "base64":
            this.text = T, this.end = x, O = 3;
            break;
          default:
            this.write = L, this.end = k;
            return;
        }
        this.lastNeed = 0, this.lastTotal = 0, this.lastChar = u.allocUnsafe(O);
      }
      p.prototype.write = function(M) {
        if (M.length === 0)
          return "";
        var O, ie;
        if (this.lastNeed) {
          if (O = this.fillLast(M), O === void 0)
            return "";
          ie = this.lastNeed, this.lastNeed = 0;
        } else
          ie = 0;
        return ie < M.length ? O ? O + this.text(M, ie) : this.text(M, ie) : O || "";
      }, p.prototype.end = A, p.prototype.text = b, p.prototype.fillLast = function(M) {
        if (this.lastNeed <= M.length)
          return M.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, this.lastNeed), this.lastChar.toString(this.encoding, 0, this.lastTotal);
        M.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, M.length), this.lastNeed -= M.length;
      };
      function y(M) {
        return M <= 127 ? 0 : M >> 5 === 6 ? 2 : M >> 4 === 14 ? 3 : M >> 3 === 30 ? 4 : M >> 6 === 2 ? -1 : -2;
      }
      function v(M, O, ie) {
        var F = O.length - 1;
        if (F < ie)
          return 0;
        var j = y(O[F]);
        return j >= 0 ? (j > 0 && (M.lastNeed = j - 1), j) : --F < ie || j === -2 ? 0 : (j = y(O[F]), j >= 0 ? (j > 0 && (M.lastNeed = j - 2), j) : --F < ie || j === -2 ? 0 : (j = y(O[F]), j >= 0 ? (j > 0 && (j === 2 ? j = 0 : M.lastNeed = j - 3), j) : 0));
      }
      function g(M, O, ie) {
        if ((O[0] & 192) !== 128)
          return M.lastNeed = 0, "�";
        if (M.lastNeed > 1 && O.length > 1) {
          if ((O[1] & 192) !== 128)
            return M.lastNeed = 1, "�";
          if (M.lastNeed > 2 && O.length > 2 && (O[2] & 192) !== 128)
            return M.lastNeed = 2, "�";
        }
      }
      function _(M) {
        var O = this.lastTotal - this.lastNeed, ie = g(this, M);
        if (ie !== void 0)
          return ie;
        if (this.lastNeed <= M.length)
          return M.copy(this.lastChar, O, 0, this.lastNeed), this.lastChar.toString(this.encoding, 0, this.lastTotal);
        M.copy(this.lastChar, O, 0, M.length), this.lastNeed -= M.length;
      }
      function b(M, O) {
        var ie = v(this, M, O);
        if (!this.lastNeed)
          return M.toString("utf8", O);
        this.lastTotal = ie;
        var F = M.length - (ie - this.lastNeed);
        return M.copy(this.lastChar, 0, F), M.toString("utf8", O, F);
      }
      function A(M) {
        var O = M && M.length ? this.write(M) : "";
        return this.lastNeed ? O + "�" : O;
      }
      function w(M, O) {
        if ((M.length - O) % 2 === 0) {
          var ie = M.toString("utf16le", O);
          if (ie) {
            var F = ie.charCodeAt(ie.length - 1);
            if (F >= 55296 && F <= 56319)
              return this.lastNeed = 2, this.lastTotal = 4, this.lastChar[0] = M[M.length - 2], this.lastChar[1] = M[M.length - 1], ie.slice(0, -1);
          }
          return ie;
        }
        return this.lastNeed = 1, this.lastTotal = 2, this.lastChar[0] = M[M.length - 1], M.toString("utf16le", O, M.length - 1);
      }
      function S(M) {
        var O = M && M.length ? this.write(M) : "";
        if (this.lastNeed) {
          var ie = this.lastTotal - this.lastNeed;
          return O + this.lastChar.toString("utf16le", 0, ie);
        }
        return O;
      }
      function T(M, O) {
        var ie = (M.length - O) % 3;
        return ie === 0 ? M.toString("base64", O) : (this.lastNeed = 3 - ie, this.lastTotal = 3, ie === 1 ? this.lastChar[0] = M[M.length - 1] : (this.lastChar[0] = M[M.length - 2], this.lastChar[1] = M[M.length - 1]), M.toString("base64", O, M.length - ie));
      }
      function x(M) {
        var O = M && M.length ? this.write(M) : "";
        return this.lastNeed ? O + this.lastChar.toString("base64", 0, 3 - this.lastNeed) : O;
      }
      function L(M) {
        return M.toString(this.encoding);
      }
      function k(M) {
        return M && M.length ? this.write(M) : "";
      }
    }, { "safe-buffer": 27 }], 29: [function(r, o, a) {
      (function(u) {
        (function() {
          var c = r("base64-js"), f = r("ieee754");
          a.Buffer = v, a.SlowBuffer = k, a.INSPECT_MAX_BYTES = 50;
          var d = 2147483647;
          a.kMaxLength = d, v.TYPED_ARRAY_SUPPORT = p(), !v.TYPED_ARRAY_SUPPORT && typeof console < "u" && typeof console.error == "function" && console.error(
            "This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."
          );
          function p() {
            try {
              var re = new Uint8Array(1);
              return re.__proto__ = { __proto__: Uint8Array.prototype, foo: function() {
                return 42;
              } }, re.foo() === 42;
            } catch {
              return !1;
            }
          }
          Object.defineProperty(v.prototype, "parent", {
            enumerable: !0,
            get: function() {
              if (v.isBuffer(this))
                return this.buffer;
            }
          }), Object.defineProperty(v.prototype, "offset", {
            enumerable: !0,
            get: function() {
              if (v.isBuffer(this))
                return this.byteOffset;
            }
          });
          function y(re) {
            if (re > d)
              throw new RangeError('The value "' + re + '" is invalid for option "size"');
            var V = new Uint8Array(re);
            return V.__proto__ = v.prototype, V;
          }
          function v(re, V, $) {
            if (typeof re == "number") {
              if (typeof V == "string")
                throw new TypeError(
                  'The "string" argument must be of type string. Received type number'
                );
              return A(re);
            }
            return g(re, V, $);
          }
          typeof Symbol < "u" && Symbol.species != null && v[Symbol.species] === v && Object.defineProperty(v, Symbol.species, {
            value: null,
            configurable: !0,
            enumerable: !1,
            writable: !1
          }), v.poolSize = 8192;
          function g(re, V, $) {
            if (typeof re == "string")
              return w(re, V);
            if (ArrayBuffer.isView(re))
              return S(re);
            if (re == null)
              throw TypeError(
                "The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type " + typeof re
              );
            if (oe(re, ArrayBuffer) || re && oe(re.buffer, ArrayBuffer))
              return T(re, V, $);
            if (typeof re == "number")
              throw new TypeError(
                'The "value" argument must not be of type number. Received type number'
              );
            var le = re.valueOf && re.valueOf();
            if (le != null && le !== re)
              return v.from(le, V, $);
            var Oe = x(re);
            if (Oe)
              return Oe;
            if (typeof Symbol < "u" && Symbol.toPrimitive != null && typeof re[Symbol.toPrimitive] == "function")
              return v.from(
                re[Symbol.toPrimitive]("string"),
                V,
                $
              );
            throw new TypeError(
              "The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type " + typeof re
            );
          }
          v.from = function(re, V, $) {
            return g(re, V, $);
          }, v.prototype.__proto__ = Uint8Array.prototype, v.__proto__ = Uint8Array;
          function _(re) {
            if (typeof re != "number")
              throw new TypeError('"size" argument must be of type number');
            if (re < 0)
              throw new RangeError('The value "' + re + '" is invalid for option "size"');
          }
          function b(re, V, $) {
            return _(re), re <= 0 ? y(re) : V !== void 0 ? typeof $ == "string" ? y(re).fill(V, $) : y(re).fill(V) : y(re);
          }
          v.alloc = function(re, V, $) {
            return b(re, V, $);
          };
          function A(re) {
            return _(re), y(re < 0 ? 0 : L(re) | 0);
          }
          v.allocUnsafe = function(re) {
            return A(re);
          }, v.allocUnsafeSlow = function(re) {
            return A(re);
          };
          function w(re, V) {
            if ((typeof V != "string" || V === "") && (V = "utf8"), !v.isEncoding(V))
              throw new TypeError("Unknown encoding: " + V);
            var $ = M(re, V) | 0, le = y($), Oe = le.write(re, V);
            return Oe !== $ && (le = le.slice(0, Oe)), le;
          }
          function S(re) {
            for (var V = re.length < 0 ? 0 : L(re.length) | 0, $ = y(V), le = 0; le < V; le += 1)
              $[le] = re[le] & 255;
            return $;
          }
          function T(re, V, $) {
            if (V < 0 || re.byteLength < V)
              throw new RangeError('"offset" is outside of buffer bounds');
            if (re.byteLength < V + ($ || 0))
              throw new RangeError('"length" is outside of buffer bounds');
            var le;
            return V === void 0 && $ === void 0 ? le = new Uint8Array(re) : $ === void 0 ? le = new Uint8Array(re, V) : le = new Uint8Array(re, V, $), le.__proto__ = v.prototype, le;
          }
          function x(re) {
            if (v.isBuffer(re)) {
              var V = L(re.length) | 0, $ = y(V);
              return $.length === 0 || re.copy($, 0, 0, V), $;
            }
            if (re.length !== void 0)
              return typeof re.length != "number" || ae(re.length) ? y(0) : S(re);
            if (re.type === "Buffer" && Array.isArray(re.data))
              return S(re.data);
          }
          function L(re) {
            if (re >= d)
              throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x" + d.toString(16) + " bytes");
            return re | 0;
          }
          function k(re) {
            return +re != re && (re = 0), v.alloc(+re);
          }
          v.isBuffer = function(V) {
            return V != null && V._isBuffer === !0 && V !== v.prototype;
          }, v.compare = function(V, $) {
            if (oe(V, Uint8Array) && (V = v.from(V, V.offset, V.byteLength)), oe($, Uint8Array) && ($ = v.from($, $.offset, $.byteLength)), !v.isBuffer(V) || !v.isBuffer($))
              throw new TypeError(
                'The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array'
              );
            if (V === $)
              return 0;
            for (var le = V.length, Oe = $.length, Ue = 0, vn = Math.min(le, Oe); Ue < vn; ++Ue)
              if (V[Ue] !== $[Ue]) {
                le = V[Ue], Oe = $[Ue];
                break;
              }
            return le < Oe ? -1 : Oe < le ? 1 : 0;
          }, v.isEncoding = function(V) {
            switch (String(V).toLowerCase()) {
              case "hex":
              case "utf8":
              case "utf-8":
              case "ascii":
              case "latin1":
              case "binary":
              case "base64":
              case "ucs2":
              case "ucs-2":
              case "utf16le":
              case "utf-16le":
                return !0;
              default:
                return !1;
            }
          }, v.concat = function(V, $) {
            if (!Array.isArray(V))
              throw new TypeError('"list" argument must be an Array of Buffers');
            if (V.length === 0)
              return v.alloc(0);
            var le;
            if ($ === void 0)
              for ($ = 0, le = 0; le < V.length; ++le)
                $ += V[le].length;
            var Oe = v.allocUnsafe($), Ue = 0;
            for (le = 0; le < V.length; ++le) {
              var vn = V[le];
              if (oe(vn, Uint8Array) && (vn = v.from(vn)), !v.isBuffer(vn))
                throw new TypeError('"list" argument must be an Array of Buffers');
              vn.copy(Oe, Ue), Ue += vn.length;
            }
            return Oe;
          };
          function M(re, V) {
            if (v.isBuffer(re))
              return re.length;
            if (ArrayBuffer.isView(re) || oe(re, ArrayBuffer))
              return re.byteLength;
            if (typeof re != "string")
              throw new TypeError(
                'The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type ' + typeof re
              );
            var $ = re.length, le = arguments.length > 2 && arguments[2] === !0;
            if (!le && $ === 0)
              return 0;
            for (var Oe = !1; ; )
              switch (V) {
                case "ascii":
                case "latin1":
                case "binary":
                  return $;
                case "utf8":
                case "utf-8":
                  return Ve(re).length;
                case "ucs2":
                case "ucs-2":
                case "utf16le":
                case "utf-16le":
                  return $ * 2;
                case "hex":
                  return $ >>> 1;
                case "base64":
                  return jt(re).length;
                default:
                  if (Oe)
                    return le ? -1 : Ve(re).length;
                  V = ("" + V).toLowerCase(), Oe = !0;
              }
          }
          v.byteLength = M;
          function O(re, V, $) {
            var le = !1;
            if ((V === void 0 || V < 0) && (V = 0), V > this.length || (($ === void 0 || $ > this.length) && ($ = this.length), $ <= 0) || ($ >>>= 0, V >>>= 0, $ <= V))
              return "";
            for (re || (re = "utf8"); ; )
              switch (re) {
                case "hex":
                  return In(this, V, $);
                case "utf8":
                case "utf-8":
                  return Ne(this, V, $);
                case "ascii":
                  return Pt(this, V, $);
                case "latin1":
                case "binary":
                  return _n(this, V, $);
                case "base64":
                  return pe(this, V, $);
                case "ucs2":
                case "ucs-2":
                case "utf16le":
                case "utf-16le":
                  return Dt(this, V, $);
                default:
                  if (le)
                    throw new TypeError("Unknown encoding: " + re);
                  re = (re + "").toLowerCase(), le = !0;
              }
          }
          v.prototype._isBuffer = !0;
          function ie(re, V, $) {
            var le = re[V];
            re[V] = re[$], re[$] = le;
          }
          v.prototype.swap16 = function() {
            var V = this.length;
            if (V % 2 !== 0)
              throw new RangeError("Buffer size must be a multiple of 16-bits");
            for (var $ = 0; $ < V; $ += 2)
              ie(this, $, $ + 1);
            return this;
          }, v.prototype.swap32 = function() {
            var V = this.length;
            if (V % 4 !== 0)
              throw new RangeError("Buffer size must be a multiple of 32-bits");
            for (var $ = 0; $ < V; $ += 4)
              ie(this, $, $ + 3), ie(this, $ + 1, $ + 2);
            return this;
          }, v.prototype.swap64 = function() {
            var V = this.length;
            if (V % 8 !== 0)
              throw new RangeError("Buffer size must be a multiple of 64-bits");
            for (var $ = 0; $ < V; $ += 8)
              ie(this, $, $ + 7), ie(this, $ + 1, $ + 6), ie(this, $ + 2, $ + 5), ie(this, $ + 3, $ + 4);
            return this;
          }, v.prototype.toString = function() {
            var V = this.length;
            return V === 0 ? "" : arguments.length === 0 ? Ne(this, 0, V) : O.apply(this, arguments);
          }, v.prototype.toLocaleString = v.prototype.toString, v.prototype.equals = function(V) {
            if (!v.isBuffer(V))
              throw new TypeError("Argument must be a Buffer");
            return this === V ? !0 : v.compare(this, V) === 0;
          }, v.prototype.inspect = function() {
            var V = "", $ = a.INSPECT_MAX_BYTES;
            return V = this.toString("hex", 0, $).replace(/(.{2})/g, "$1 ").trim(), this.length > $ && (V += " ... "), "<Buffer " + V + ">";
          }, v.prototype.compare = function(V, $, le, Oe, Ue) {
            if (oe(V, Uint8Array) && (V = v.from(V, V.offset, V.byteLength)), !v.isBuffer(V))
              throw new TypeError(
                'The "target" argument must be one of type Buffer or Uint8Array. Received type ' + typeof V
              );
            if ($ === void 0 && ($ = 0), le === void 0 && (le = V ? V.length : 0), Oe === void 0 && (Oe = 0), Ue === void 0 && (Ue = this.length), $ < 0 || le > V.length || Oe < 0 || Ue > this.length)
              throw new RangeError("out of range index");
            if (Oe >= Ue && $ >= le)
              return 0;
            if (Oe >= Ue)
              return -1;
            if ($ >= le)
              return 1;
            if ($ >>>= 0, le >>>= 0, Oe >>>= 0, Ue >>>= 0, this === V)
              return 0;
            for (var vn = Ue - Oe, wn = le - $, xn = Math.min(vn, wn), Bn = this.slice(Oe, Ue), Fe = V.slice($, le), qe = 0; qe < xn; ++qe)
              if (Bn[qe] !== Fe[qe]) {
                vn = Bn[qe], wn = Fe[qe];
                break;
              }
            return vn < wn ? -1 : wn < vn ? 1 : 0;
          };
          function F(re, V, $, le, Oe) {
            if (re.length === 0)
              return -1;
            if (typeof $ == "string" ? (le = $, $ = 0) : $ > 2147483647 ? $ = 2147483647 : $ < -2147483648 && ($ = -2147483648), $ = +$, ae($) && ($ = Oe ? 0 : re.length - 1), $ < 0 && ($ = re.length + $), $ >= re.length) {
              if (Oe)
                return -1;
              $ = re.length - 1;
            } else if ($ < 0)
              if (Oe)
                $ = 0;
              else
                return -1;
            if (typeof V == "string" && (V = v.from(V, le)), v.isBuffer(V))
              return V.length === 0 ? -1 : j(re, V, $, le, Oe);
            if (typeof V == "number")
              return V = V & 255, typeof Uint8Array.prototype.indexOf == "function" ? Oe ? Uint8Array.prototype.indexOf.call(re, V, $) : Uint8Array.prototype.lastIndexOf.call(re, V, $) : j(re, [V], $, le, Oe);
            throw new TypeError("val must be string, number or Buffer");
          }
          function j(re, V, $, le, Oe) {
            var Ue = 1, vn = re.length, wn = V.length;
            if (le !== void 0 && (le = String(le).toLowerCase(), le === "ucs2" || le === "ucs-2" || le === "utf16le" || le === "utf-16le")) {
              if (re.length < 2 || V.length < 2)
                return -1;
              Ue = 2, vn /= 2, wn /= 2, $ /= 2;
            }
            function xn(En, Ln) {
              return Ue === 1 ? En[Ln] : En.readUInt16BE(Ln * Ue);
            }
            var Bn;
            if (Oe) {
              var Fe = -1;
              for (Bn = $; Bn < vn; Bn++)
                if (xn(re, Bn) === xn(V, Fe === -1 ? 0 : Bn - Fe)) {
                  if (Fe === -1 && (Fe = Bn), Bn - Fe + 1 === wn)
                    return Fe * Ue;
                } else
                  Fe !== -1 && (Bn -= Bn - Fe), Fe = -1;
            } else
              for ($ + wn > vn && ($ = vn - wn), Bn = $; Bn >= 0; Bn--) {
                for (var qe = !0, Tn = 0; Tn < wn; Tn++)
                  if (xn(re, Bn + Tn) !== xn(V, Tn)) {
                    qe = !1;
                    break;
                  }
                if (qe)
                  return Bn;
              }
            return -1;
          }
          v.prototype.includes = function(V, $, le) {
            return this.indexOf(V, $, le) !== -1;
          }, v.prototype.indexOf = function(V, $, le) {
            return F(this, V, $, le, !0);
          }, v.prototype.lastIndexOf = function(V, $, le) {
            return F(this, V, $, le, !1);
          };
          function D(re, V, $, le) {
            $ = Number($) || 0;
            var Oe = re.length - $;
            le ? (le = Number(le), le > Oe && (le = Oe)) : le = Oe;
            var Ue = V.length;
            le > Ue / 2 && (le = Ue / 2);
            for (var vn = 0; vn < le; ++vn) {
              var wn = parseInt(V.substr(vn * 2, 2), 16);
              if (ae(wn))
                return vn;
              re[$ + vn] = wn;
            }
            return vn;
          }
          function Y(re, V, $, le) {
            return bn(Ve(V, re.length - $), re, $, le);
          }
          function z(re, V, $, le) {
            return bn($e(V), re, $, le);
          }
          function Ie(re, V, $, le) {
            return z(re, V, $, le);
          }
          function ue(re, V, $, le) {
            return bn(jt(V), re, $, le);
          }
          function Ce(re, V, $, le) {
            return bn(kt(V, re.length - $), re, $, le);
          }
          v.prototype.write = function(V, $, le, Oe) {
            if ($ === void 0)
              Oe = "utf8", le = this.length, $ = 0;
            else if (le === void 0 && typeof $ == "string")
              Oe = $, le = this.length, $ = 0;
            else if (isFinite($))
              $ = $ >>> 0, isFinite(le) ? (le = le >>> 0, Oe === void 0 && (Oe = "utf8")) : (Oe = le, le = void 0);
            else
              throw new Error(
                "Buffer.write(string, encoding, offset[, length]) is no longer supported"
              );
            var Ue = this.length - $;
            if ((le === void 0 || le > Ue) && (le = Ue), V.length > 0 && (le < 0 || $ < 0) || $ > this.length)
              throw new RangeError("Attempt to write outside buffer bounds");
            Oe || (Oe = "utf8");
            for (var vn = !1; ; )
              switch (Oe) {
                case "hex":
                  return D(this, V, $, le);
                case "utf8":
                case "utf-8":
                  return Y(this, V, $, le);
                case "ascii":
                  return z(this, V, $, le);
                case "latin1":
                case "binary":
                  return Ie(this, V, $, le);
                case "base64":
                  return ue(this, V, $, le);
                case "ucs2":
                case "ucs-2":
                case "utf16le":
                case "utf-16le":
                  return Ce(this, V, $, le);
                default:
                  if (vn)
                    throw new TypeError("Unknown encoding: " + Oe);
                  Oe = ("" + Oe).toLowerCase(), vn = !0;
              }
          }, v.prototype.toJSON = function() {
            return {
              type: "Buffer",
              data: Array.prototype.slice.call(this._arr || this, 0)
            };
          };
          function pe(re, V, $) {
            return V === 0 && $ === re.length ? c.fromByteArray(re) : c.fromByteArray(re.slice(V, $));
          }
          function Ne(re, V, $) {
            $ = Math.min(re.length, $);
            for (var le = [], Oe = V; Oe < $; ) {
              var Ue = re[Oe], vn = null, wn = Ue > 239 ? 4 : Ue > 223 ? 3 : Ue > 191 ? 2 : 1;
              if (Oe + wn <= $) {
                var xn, Bn, Fe, qe;
                switch (wn) {
                  case 1:
                    Ue < 128 && (vn = Ue);
                    break;
                  case 2:
                    xn = re[Oe + 1], (xn & 192) === 128 && (qe = (Ue & 31) << 6 | xn & 63, qe > 127 && (vn = qe));
                    break;
                  case 3:
                    xn = re[Oe + 1], Bn = re[Oe + 2], (xn & 192) === 128 && (Bn & 192) === 128 && (qe = (Ue & 15) << 12 | (xn & 63) << 6 | Bn & 63, qe > 2047 && (qe < 55296 || qe > 57343) && (vn = qe));
                    break;
                  case 4:
                    xn = re[Oe + 1], Bn = re[Oe + 2], Fe = re[Oe + 3], (xn & 192) === 128 && (Bn & 192) === 128 && (Fe & 192) === 128 && (qe = (Ue & 15) << 18 | (xn & 63) << 12 | (Bn & 63) << 6 | Fe & 63, qe > 65535 && qe < 1114112 && (vn = qe));
                }
              }
              vn === null ? (vn = 65533, wn = 1) : vn > 65535 && (vn -= 65536, le.push(vn >>> 10 & 1023 | 55296), vn = 56320 | vn & 1023), le.push(vn), Oe += wn;
            }
            return hn(le);
          }
          var xe = 4096;
          function hn(re) {
            var V = re.length;
            if (V <= xe)
              return String.fromCharCode.apply(String, re);
            for (var $ = "", le = 0; le < V; )
              $ += String.fromCharCode.apply(
                String,
                re.slice(le, le += xe)
              );
            return $;
          }
          function Pt(re, V, $) {
            var le = "";
            $ = Math.min(re.length, $);
            for (var Oe = V; Oe < $; ++Oe)
              le += String.fromCharCode(re[Oe] & 127);
            return le;
          }
          function _n(re, V, $) {
            var le = "";
            $ = Math.min(re.length, $);
            for (var Oe = V; Oe < $; ++Oe)
              le += String.fromCharCode(re[Oe]);
            return le;
          }
          function In(re, V, $) {
            var le = re.length;
            (!V || V < 0) && (V = 0), (!$ || $ < 0 || $ > le) && ($ = le);
            for (var Oe = "", Ue = V; Ue < $; ++Ue)
              Oe += Et(re[Ue]);
            return Oe;
          }
          function Dt(re, V, $) {
            for (var le = re.slice(V, $), Oe = "", Ue = 0; Ue < le.length; Ue += 2)
              Oe += String.fromCharCode(le[Ue] + le[Ue + 1] * 256);
            return Oe;
          }
          v.prototype.slice = function(V, $) {
            var le = this.length;
            V = ~~V, $ = $ === void 0 ? le : ~~$, V < 0 ? (V += le, V < 0 && (V = 0)) : V > le && (V = le), $ < 0 ? ($ += le, $ < 0 && ($ = 0)) : $ > le && ($ = le), $ < V && ($ = V);
            var Oe = this.subarray(V, $);
            return Oe.__proto__ = v.prototype, Oe;
          };
          function he(re, V, $) {
            if (re % 1 !== 0 || re < 0)
              throw new RangeError("offset is not uint");
            if (re + V > $)
              throw new RangeError("Trying to access beyond buffer length");
          }
          v.prototype.readUIntLE = function(V, $, le) {
            V = V >>> 0, $ = $ >>> 0, le || he(V, $, this.length);
            for (var Oe = this[V], Ue = 1, vn = 0; ++vn < $ && (Ue *= 256); )
              Oe += this[V + vn] * Ue;
            return Oe;
          }, v.prototype.readUIntBE = function(V, $, le) {
            V = V >>> 0, $ = $ >>> 0, le || he(V, $, this.length);
            for (var Oe = this[V + --$], Ue = 1; $ > 0 && (Ue *= 256); )
              Oe += this[V + --$] * Ue;
            return Oe;
          }, v.prototype.readUInt8 = function(V, $) {
            return V = V >>> 0, $ || he(V, 1, this.length), this[V];
          }, v.prototype.readUInt16LE = function(V, $) {
            return V = V >>> 0, $ || he(V, 2, this.length), this[V] | this[V + 1] << 8;
          }, v.prototype.readUInt16BE = function(V, $) {
            return V = V >>> 0, $ || he(V, 2, this.length), this[V] << 8 | this[V + 1];
          }, v.prototype.readUInt32LE = function(V, $) {
            return V = V >>> 0, $ || he(V, 4, this.length), (this[V] | this[V + 1] << 8 | this[V + 2] << 16) + this[V + 3] * 16777216;
          }, v.prototype.readUInt32BE = function(V, $) {
            return V = V >>> 0, $ || he(V, 4, this.length), this[V] * 16777216 + (this[V + 1] << 16 | this[V + 2] << 8 | this[V + 3]);
          }, v.prototype.readIntLE = function(V, $, le) {
            V = V >>> 0, $ = $ >>> 0, le || he(V, $, this.length);
            for (var Oe = this[V], Ue = 1, vn = 0; ++vn < $ && (Ue *= 256); )
              Oe += this[V + vn] * Ue;
            return Ue *= 128, Oe >= Ue && (Oe -= Math.pow(2, 8 * $)), Oe;
          }, v.prototype.readIntBE = function(V, $, le) {
            V = V >>> 0, $ = $ >>> 0, le || he(V, $, this.length);
            for (var Oe = $, Ue = 1, vn = this[V + --Oe]; Oe > 0 && (Ue *= 256); )
              vn += this[V + --Oe] * Ue;
            return Ue *= 128, vn >= Ue && (vn -= Math.pow(2, 8 * $)), vn;
          }, v.prototype.readInt8 = function(V, $) {
            return V = V >>> 0, $ || he(V, 1, this.length), this[V] & 128 ? (255 - this[V] + 1) * -1 : this[V];
          }, v.prototype.readInt16LE = function(V, $) {
            V = V >>> 0, $ || he(V, 2, this.length);
            var le = this[V] | this[V + 1] << 8;
            return le & 32768 ? le | 4294901760 : le;
          }, v.prototype.readInt16BE = function(V, $) {
            V = V >>> 0, $ || he(V, 2, this.length);
            var le = this[V + 1] | this[V] << 8;
            return le & 32768 ? le | 4294901760 : le;
          }, v.prototype.readInt32LE = function(V, $) {
            return V = V >>> 0, $ || he(V, 4, this.length), this[V] | this[V + 1] << 8 | this[V + 2] << 16 | this[V + 3] << 24;
          }, v.prototype.readInt32BE = function(V, $) {
            return V = V >>> 0, $ || he(V, 4, this.length), this[V] << 24 | this[V + 1] << 16 | this[V + 2] << 8 | this[V + 3];
          }, v.prototype.readFloatLE = function(V, $) {
            return V = V >>> 0, $ || he(V, 4, this.length), f.read(this, V, !0, 23, 4);
          }, v.prototype.readFloatBE = function(V, $) {
            return V = V >>> 0, $ || he(V, 4, this.length), f.read(this, V, !1, 23, 4);
          }, v.prototype.readDoubleLE = function(V, $) {
            return V = V >>> 0, $ || he(V, 8, this.length), f.read(this, V, !0, 52, 8);
          }, v.prototype.readDoubleBE = function(V, $) {
            return V = V >>> 0, $ || he(V, 8, this.length), f.read(this, V, !1, 52, 8);
          };
          function At(re, V, $, le, Oe, Ue) {
            if (!v.isBuffer(re))
              throw new TypeError('"buffer" argument must be a Buffer instance');
            if (V > Oe || V < Ue)
              throw new RangeError('"value" argument is out of bounds');
            if ($ + le > re.length)
              throw new RangeError("Index out of range");
          }
          v.prototype.writeUIntLE = function(V, $, le, Oe) {
            if (V = +V, $ = $ >>> 0, le = le >>> 0, !Oe) {
              var Ue = Math.pow(2, 8 * le) - 1;
              At(this, V, $, le, Ue, 0);
            }
            var vn = 1, wn = 0;
            for (this[$] = V & 255; ++wn < le && (vn *= 256); )
              this[$ + wn] = V / vn & 255;
            return $ + le;
          }, v.prototype.writeUIntBE = function(V, $, le, Oe) {
            if (V = +V, $ = $ >>> 0, le = le >>> 0, !Oe) {
              var Ue = Math.pow(2, 8 * le) - 1;
              At(this, V, $, le, Ue, 0);
            }
            var vn = le - 1, wn = 1;
            for (this[$ + vn] = V & 255; --vn >= 0 && (wn *= 256); )
              this[$ + vn] = V / wn & 255;
            return $ + le;
          }, v.prototype.writeUInt8 = function(V, $, le) {
            return V = +V, $ = $ >>> 0, le || At(this, V, $, 1, 255, 0), this[$] = V & 255, $ + 1;
          }, v.prototype.writeUInt16LE = function(V, $, le) {
            return V = +V, $ = $ >>> 0, le || At(this, V, $, 2, 65535, 0), this[$] = V & 255, this[$ + 1] = V >>> 8, $ + 2;
          }, v.prototype.writeUInt16BE = function(V, $, le) {
            return V = +V, $ = $ >>> 0, le || At(this, V, $, 2, 65535, 0), this[$] = V >>> 8, this[$ + 1] = V & 255, $ + 2;
          }, v.prototype.writeUInt32LE = function(V, $, le) {
            return V = +V, $ = $ >>> 0, le || At(this, V, $, 4, 4294967295, 0), this[$ + 3] = V >>> 24, this[$ + 2] = V >>> 16, this[$ + 1] = V >>> 8, this[$] = V & 255, $ + 4;
          }, v.prototype.writeUInt32BE = function(V, $, le) {
            return V = +V, $ = $ >>> 0, le || At(this, V, $, 4, 4294967295, 0), this[$] = V >>> 24, this[$ + 1] = V >>> 16, this[$ + 2] = V >>> 8, this[$ + 3] = V & 255, $ + 4;
          }, v.prototype.writeIntLE = function(V, $, le, Oe) {
            if (V = +V, $ = $ >>> 0, !Oe) {
              var Ue = Math.pow(2, 8 * le - 1);
              At(this, V, $, le, Ue - 1, -Ue);
            }
            var vn = 0, wn = 1, xn = 0;
            for (this[$] = V & 255; ++vn < le && (wn *= 256); )
              V < 0 && xn === 0 && this[$ + vn - 1] !== 0 && (xn = 1), this[$ + vn] = (V / wn >> 0) - xn & 255;
            return $ + le;
          }, v.prototype.writeIntBE = function(V, $, le, Oe) {
            if (V = +V, $ = $ >>> 0, !Oe) {
              var Ue = Math.pow(2, 8 * le - 1);
              At(this, V, $, le, Ue - 1, -Ue);
            }
            var vn = le - 1, wn = 1, xn = 0;
            for (this[$ + vn] = V & 255; --vn >= 0 && (wn *= 256); )
              V < 0 && xn === 0 && this[$ + vn + 1] !== 0 && (xn = 1), this[$ + vn] = (V / wn >> 0) - xn & 255;
            return $ + le;
          }, v.prototype.writeInt8 = function(V, $, le) {
            return V = +V, $ = $ >>> 0, le || At(this, V, $, 1, 127, -128), V < 0 && (V = 255 + V + 1), this[$] = V & 255, $ + 1;
          }, v.prototype.writeInt16LE = function(V, $, le) {
            return V = +V, $ = $ >>> 0, le || At(this, V, $, 2, 32767, -32768), this[$] = V & 255, this[$ + 1] = V >>> 8, $ + 2;
          }, v.prototype.writeInt16BE = function(V, $, le) {
            return V = +V, $ = $ >>> 0, le || At(this, V, $, 2, 32767, -32768), this[$] = V >>> 8, this[$ + 1] = V & 255, $ + 2;
          }, v.prototype.writeInt32LE = function(V, $, le) {
            return V = +V, $ = $ >>> 0, le || At(this, V, $, 4, 2147483647, -2147483648), this[$] = V & 255, this[$ + 1] = V >>> 8, this[$ + 2] = V >>> 16, this[$ + 3] = V >>> 24, $ + 4;
          }, v.prototype.writeInt32BE = function(V, $, le) {
            return V = +V, $ = $ >>> 0, le || At(this, V, $, 4, 2147483647, -2147483648), V < 0 && (V = 4294967295 + V + 1), this[$] = V >>> 24, this[$ + 1] = V >>> 16, this[$ + 2] = V >>> 8, this[$ + 3] = V & 255, $ + 4;
          };
          function Lt(re, V, $, le, Oe, Ue) {
            if ($ + le > re.length)
              throw new RangeError("Index out of range");
            if ($ < 0)
              throw new RangeError("Index out of range");
          }
          function Cn(re, V, $, le, Oe) {
            return V = +V, $ = $ >>> 0, Oe || Lt(re, V, $, 4), f.write(re, V, $, le, 23, 4), $ + 4;
          }
          v.prototype.writeFloatLE = function(V, $, le) {
            return Cn(this, V, $, !0, le);
          }, v.prototype.writeFloatBE = function(V, $, le) {
            return Cn(this, V, $, !1, le);
          };
          function ze(re, V, $, le, Oe) {
            return V = +V, $ = $ >>> 0, Oe || Lt(re, V, $, 8), f.write(re, V, $, le, 52, 8), $ + 8;
          }
          v.prototype.writeDoubleLE = function(V, $, le) {
            return ze(this, V, $, !0, le);
          }, v.prototype.writeDoubleBE = function(V, $, le) {
            return ze(this, V, $, !1, le);
          }, v.prototype.copy = function(V, $, le, Oe) {
            if (!v.isBuffer(V))
              throw new TypeError("argument should be a Buffer");
            if (le || (le = 0), !Oe && Oe !== 0 && (Oe = this.length), $ >= V.length && ($ = V.length), $ || ($ = 0), Oe > 0 && Oe < le && (Oe = le), Oe === le || V.length === 0 || this.length === 0)
              return 0;
            if ($ < 0)
              throw new RangeError("targetStart out of bounds");
            if (le < 0 || le >= this.length)
              throw new RangeError("Index out of range");
            if (Oe < 0)
              throw new RangeError("sourceEnd out of bounds");
            Oe > this.length && (Oe = this.length), V.length - $ < Oe - le && (Oe = V.length - $ + le);
            var Ue = Oe - le;
            if (this === V && typeof Uint8Array.prototype.copyWithin == "function")
              this.copyWithin($, le, Oe);
            else if (this === V && le < $ && $ < Oe)
              for (var vn = Ue - 1; vn >= 0; --vn)
                V[vn + $] = this[vn + le];
            else
              Uint8Array.prototype.set.call(
                V,
                this.subarray(le, Oe),
                $
              );
            return Ue;
          }, v.prototype.fill = function(V, $, le, Oe) {
            if (typeof V == "string") {
              if (typeof $ == "string" ? (Oe = $, $ = 0, le = this.length) : typeof le == "string" && (Oe = le, le = this.length), Oe !== void 0 && typeof Oe != "string")
                throw new TypeError("encoding must be a string");
              if (typeof Oe == "string" && !v.isEncoding(Oe))
                throw new TypeError("Unknown encoding: " + Oe);
              if (V.length === 1) {
                var Ue = V.charCodeAt(0);
                (Oe === "utf8" && Ue < 128 || Oe === "latin1") && (V = Ue);
              }
            } else
              typeof V == "number" && (V = V & 255);
            if ($ < 0 || this.length < $ || this.length < le)
              throw new RangeError("Out of range index");
            if (le <= $)
              return this;
            $ = $ >>> 0, le = le === void 0 ? this.length : le >>> 0, V || (V = 0);
            var vn;
            if (typeof V == "number")
              for (vn = $; vn < le; ++vn)
                this[vn] = V;
            else {
              var wn = v.isBuffer(V) ? V : v.from(V, Oe), xn = wn.length;
              if (xn === 0)
                throw new TypeError('The value "' + V + '" is invalid for argument "value"');
              for (vn = 0; vn < le - $; ++vn)
                this[vn + $] = wn[vn % xn];
            }
            return this;
          };
          var _e = /[^+/0-9A-Za-z-_]/g;
          function de(re) {
            if (re = re.split("=")[0], re = re.trim().replace(_e, ""), re.length < 2)
              return "";
            for (; re.length % 4 !== 0; )
              re = re + "=";
            return re;
          }
          function Et(re) {
            return re < 16 ? "0" + re.toString(16) : re.toString(16);
          }
          function Ve(re, V) {
            V = V || 1 / 0;
            for (var $, le = re.length, Oe = null, Ue = [], vn = 0; vn < le; ++vn) {
              if ($ = re.charCodeAt(vn), $ > 55295 && $ < 57344) {
                if (!Oe) {
                  if ($ > 56319) {
                    (V -= 3) > -1 && Ue.push(239, 191, 189);
                    continue;
                  } else if (vn + 1 === le) {
                    (V -= 3) > -1 && Ue.push(239, 191, 189);
                    continue;
                  }
                  Oe = $;
                  continue;
                }
                if ($ < 56320) {
                  (V -= 3) > -1 && Ue.push(239, 191, 189), Oe = $;
                  continue;
                }
                $ = (Oe - 55296 << 10 | $ - 56320) + 65536;
              } else
                Oe && (V -= 3) > -1 && Ue.push(239, 191, 189);
              if (Oe = null, $ < 128) {
                if ((V -= 1) < 0)
                  break;
                Ue.push($);
              } else if ($ < 2048) {
                if ((V -= 2) < 0)
                  break;
                Ue.push(
                  $ >> 6 | 192,
                  $ & 63 | 128
                );
              } else if ($ < 65536) {
                if ((V -= 3) < 0)
                  break;
                Ue.push(
                  $ >> 12 | 224,
                  $ >> 6 & 63 | 128,
                  $ & 63 | 128
                );
              } else if ($ < 1114112) {
                if ((V -= 4) < 0)
                  break;
                Ue.push(
                  $ >> 18 | 240,
                  $ >> 12 & 63 | 128,
                  $ >> 6 & 63 | 128,
                  $ & 63 | 128
                );
              } else
                throw new Error("Invalid code point");
            }
            return Ue;
          }
          function $e(re) {
            for (var V = [], $ = 0; $ < re.length; ++$)
              V.push(re.charCodeAt($) & 255);
            return V;
          }
          function kt(re, V) {
            for (var $, le, Oe, Ue = [], vn = 0; vn < re.length && !((V -= 2) < 0); ++vn)
              $ = re.charCodeAt(vn), le = $ >> 8, Oe = $ % 256, Ue.push(Oe), Ue.push(le);
            return Ue;
          }
          function jt(re) {
            return c.toByteArray(de(re));
          }
          function bn(re, V, $, le) {
            for (var Oe = 0; Oe < le && !(Oe + $ >= V.length || Oe >= re.length); ++Oe)
              V[Oe + $] = re[Oe];
            return Oe;
          }
          function oe(re, V) {
            return re instanceof V || re != null && re.constructor != null && re.constructor.name != null && re.constructor.name === V.name;
          }
          function ae(re) {
            return re !== re;
          }
        }).call(this);
      }).call(this, r("buffer").Buffer);
    }, { "base64-js": 25, buffer: 29, ieee754: 50 }], 30: [function(r, o, a) {
      (function(u) {
        (function() {
          a.formatArgs = f, a.save = d, a.load = p, a.useColors = c, a.storage = y(), a.destroy = (() => {
            let g = !1;
            return () => {
              g || (g = !0, console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."));
            };
          })(), a.colors = [
            "#0000CC",
            "#0000FF",
            "#0033CC",
            "#0033FF",
            "#0066CC",
            "#0066FF",
            "#0099CC",
            "#0099FF",
            "#00CC00",
            "#00CC33",
            "#00CC66",
            "#00CC99",
            "#00CCCC",
            "#00CCFF",
            "#3300CC",
            "#3300FF",
            "#3333CC",
            "#3333FF",
            "#3366CC",
            "#3366FF",
            "#3399CC",
            "#3399FF",
            "#33CC00",
            "#33CC33",
            "#33CC66",
            "#33CC99",
            "#33CCCC",
            "#33CCFF",
            "#6600CC",
            "#6600FF",
            "#6633CC",
            "#6633FF",
            "#66CC00",
            "#66CC33",
            "#9900CC",
            "#9900FF",
            "#9933CC",
            "#9933FF",
            "#99CC00",
            "#99CC33",
            "#CC0000",
            "#CC0033",
            "#CC0066",
            "#CC0099",
            "#CC00CC",
            "#CC00FF",
            "#CC3300",
            "#CC3333",
            "#CC3366",
            "#CC3399",
            "#CC33CC",
            "#CC33FF",
            "#CC6600",
            "#CC6633",
            "#CC9900",
            "#CC9933",
            "#CCCC00",
            "#CCCC33",
            "#FF0000",
            "#FF0033",
            "#FF0066",
            "#FF0099",
            "#FF00CC",
            "#FF00FF",
            "#FF3300",
            "#FF3333",
            "#FF3366",
            "#FF3399",
            "#FF33CC",
            "#FF33FF",
            "#FF6600",
            "#FF6633",
            "#FF9900",
            "#FF9933",
            "#FFCC00",
            "#FFCC33"
          ];
          function c() {
            return typeof window < "u" && window.process && (window.process.type === "renderer" || window.process.__nwjs) ? !0 : typeof navigator < "u" && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/) ? !1 : typeof document < "u" && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance || // Is firebug? http://stackoverflow.com/a/398120/376773
            typeof window < "u" && window.console && (window.console.firebug || window.console.exception && window.console.table) || // Is firefox >= v31?
            // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages
            typeof navigator < "u" && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/) && parseInt(RegExp.$1, 10) >= 31 || // Double check webkit in userAgent just in case we are in a worker
            typeof navigator < "u" && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/);
          }
          function f(g) {
            if (g[0] = (this.useColors ? "%c" : "") + this.namespace + (this.useColors ? " %c" : " ") + g[0] + (this.useColors ? "%c " : " ") + "+" + o.exports.humanize(this.diff), !this.useColors)
              return;
            const _ = "color: " + this.color;
            g.splice(1, 0, _, "color: inherit");
            let b = 0, A = 0;
            g[0].replace(/%[a-zA-Z%]/g, (w) => {
              w !== "%%" && (b++, w === "%c" && (A = b));
            }), g.splice(A, 0, _);
          }
          a.log = console.debug || console.log || (() => {
          });
          function d(g) {
            try {
              g ? a.storage.setItem("debug", g) : a.storage.removeItem("debug");
            } catch {
            }
          }
          function p() {
            let g;
            try {
              g = a.storage.getItem("debug");
            } catch {
            }
            return !g && typeof u < "u" && "env" in u && (g = u.env.DEBUG), g;
          }
          function y() {
            try {
              return localStorage;
            } catch {
            }
          }
          o.exports = r("./common")(a);
          const { formatters: v } = o.exports;
          v.j = function(g) {
            try {
              return JSON.stringify(g);
            } catch (_) {
              return "[UnexpectedJSONParseError]: " + _.message;
            }
          };
        }).call(this);
      }).call(this, r("_process"));
    }, { "./common": 31, _process: 102 }], 31: [function(r, o, a) {
      function u(c) {
        d.debug = d, d.default = d, d.coerce = b, d.disable = v, d.enable = y, d.enabled = g, d.humanize = r("ms"), d.destroy = A, Object.keys(c).forEach((w) => {
          d[w] = c[w];
        }), d.names = [], d.skips = [], d.formatters = {};
        function f(w) {
          let S = 0;
          for (let T = 0; T < w.length; T++)
            S = (S << 5) - S + w.charCodeAt(T), S |= 0;
          return d.colors[Math.abs(S) % d.colors.length];
        }
        d.selectColor = f;
        function d(w) {
          let S, T = null, x, L;
          function k(...M) {
            if (!k.enabled)
              return;
            const O = k, ie = Number(/* @__PURE__ */ new Date()), F = ie - (S || ie);
            O.diff = F, O.prev = S, O.curr = ie, S = ie, M[0] = d.coerce(M[0]), typeof M[0] != "string" && M.unshift("%O");
            let j = 0;
            M[0] = M[0].replace(/%([a-zA-Z%])/g, (Y, z) => {
              if (Y === "%%")
                return "%";
              j++;
              const Ie = d.formatters[z];
              if (typeof Ie == "function") {
                const ue = M[j];
                Y = Ie.call(O, ue), M.splice(j, 1), j--;
              }
              return Y;
            }), d.formatArgs.call(O, M), (O.log || d.log).apply(O, M);
          }
          return k.namespace = w, k.useColors = d.useColors(), k.color = d.selectColor(w), k.extend = p, k.destroy = d.destroy, Object.defineProperty(k, "enabled", {
            enumerable: !0,
            configurable: !1,
            get: () => T !== null ? T : (x !== d.namespaces && (x = d.namespaces, L = d.enabled(w)), L),
            set: (M) => {
              T = M;
            }
          }), typeof d.init == "function" && d.init(k), k;
        }
        function p(w, S) {
          const T = d(this.namespace + (typeof S > "u" ? ":" : S) + w);
          return T.log = this.log, T;
        }
        function y(w) {
          d.save(w), d.namespaces = w, d.names = [], d.skips = [];
          let S;
          const T = (typeof w == "string" ? w : "").split(/[\s,]+/), x = T.length;
          for (S = 0; S < x; S++)
            T[S] && (w = T[S].replace(/\*/g, ".*?"), w[0] === "-" ? d.skips.push(new RegExp("^" + w.slice(1) + "$")) : d.names.push(new RegExp("^" + w + "$")));
        }
        function v() {
          const w = [
            ...d.names.map(_),
            ...d.skips.map(_).map((S) => "-" + S)
          ].join(",");
          return d.enable(""), w;
        }
        function g(w) {
          if (w[w.length - 1] === "*")
            return !0;
          let S, T;
          for (S = 0, T = d.skips.length; S < T; S++)
            if (d.skips[S].test(w))
              return !1;
          for (S = 0, T = d.names.length; S < T; S++)
            if (d.names[S].test(w))
              return !0;
          return !1;
        }
        function _(w) {
          return w.toString().substring(2, w.toString().length - 2).replace(/\.\*\?$/, "*");
        }
        function b(w) {
          return w instanceof Error ? w.stack || w.message : w;
        }
        function A() {
          console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");
        }
        return d.enable(d.load()), d;
      }
      o.exports = u;
    }, { ms: 97 }], 32: [function(r, o, a) {
      (function(u, c) {
        (function() {
          var f = r("readable-stream"), d = r("end-of-stream"), p = r("inherits"), y = r("stream-shift"), v = c.from && c.from !== Uint8Array.from ? c.from([0]) : new c([0]), g = function(x, L) {
            x._corked ? x.once("uncork", L) : L();
          }, _ = function(x, L) {
            x._autoDestroy && x.destroy(L);
          }, b = function(x, L) {
            return function(k) {
              k ? _(x, k.message === "premature close" ? null : k) : L && !x._ended && x.end();
            };
          }, A = function(x, L) {
            if (!x || x._writableState && x._writableState.finished)
              return L();
            if (x._writableState)
              return x.end(L);
            x.end(), L();
          }, w = function() {
          }, S = function(x) {
            return new f.Readable({ objectMode: !0, highWaterMark: 16 }).wrap(x);
          }, T = function(x, L, k) {
            if (!(this instanceof T))
              return new T(x, L, k);
            f.Duplex.call(this, k), this._writable = null, this._readable = null, this._readable2 = null, this._autoDestroy = !k || k.autoDestroy !== !1, this._forwardDestroy = !k || k.destroy !== !1, this._forwardEnd = !k || k.end !== !1, this._corked = 1, this._ondrain = null, this._drained = !1, this._forwarding = !1, this._unwrite = null, this._unread = null, this._ended = !1, this.destroyed = !1, x && this.setWritable(x), L && this.setReadable(L);
          };
          p(T, f.Duplex), T.obj = function(x, L, k) {
            return k || (k = {}), k.objectMode = !0, k.highWaterMark = 16, new T(x, L, k);
          }, T.prototype.cork = function() {
            ++this._corked === 1 && this.emit("cork");
          }, T.prototype.uncork = function() {
            this._corked && --this._corked === 0 && this.emit("uncork");
          }, T.prototype.setWritable = function(x) {
            if (this._unwrite && this._unwrite(), this.destroyed) {
              x && x.destroy && x.destroy();
              return;
            }
            if (x === null || x === !1) {
              this.end();
              return;
            }
            var L = this, k = d(x, { writable: !0, readable: !1 }, b(this, this._forwardEnd)), M = function() {
              var ie = L._ondrain;
              L._ondrain = null, ie && ie();
            }, O = function() {
              L._writable.removeListener("drain", M), k();
            };
            this._unwrite && u.nextTick(M), this._writable = x, this._writable.on("drain", M), this._unwrite = O, this.uncork();
          }, T.prototype.setReadable = function(x) {
            if (this._unread && this._unread(), this.destroyed) {
              x && x.destroy && x.destroy();
              return;
            }
            if (x === null || x === !1) {
              this.push(null), this.resume();
              return;
            }
            var L = this, k = d(x, { writable: !1, readable: !0 }, b(this)), M = function() {
              L._forward();
            }, O = function() {
              L.push(null);
            }, ie = function() {
              L._readable2.removeListener("readable", M), L._readable2.removeListener("end", O), k();
            };
            this._drained = !0, this._readable = x, this._readable2 = x._readableState ? x : S(x), this._readable2.on("readable", M), this._readable2.on("end", O), this._unread = ie, this._forward();
          }, T.prototype._read = function() {
            this._drained = !0, this._forward();
          }, T.prototype._forward = function() {
            if (!(this._forwarding || !this._readable2 || !this._drained)) {
              this._forwarding = !0;
              for (var x; this._drained && (x = y(this._readable2)) !== null; )
                this.destroyed || (this._drained = this.push(x));
              this._forwarding = !1;
            }
          }, T.prototype.destroy = function(x, L) {
            if (L || (L = w), this.destroyed)
              return L(null);
            this.destroyed = !0;
            var k = this;
            u.nextTick(function() {
              k._destroy(x), L(null);
            });
          }, T.prototype._destroy = function(x) {
            if (x) {
              var L = this._ondrain;
              this._ondrain = null, L ? L(x) : this.emit("error", x);
            }
            this._forwardDestroy && (this._readable && this._readable.destroy && this._readable.destroy(), this._writable && this._writable.destroy && this._writable.destroy()), this.emit("close");
          }, T.prototype._write = function(x, L, k) {
            if (!this.destroyed) {
              if (this._corked)
                return g(this, this._write.bind(this, x, L, k));
              if (x === v)
                return this._finish(k);
              if (!this._writable)
                return k();
              this._writable.write(x) === !1 ? this._ondrain = k : this.destroyed || k();
            }
          }, T.prototype._finish = function(x) {
            var L = this;
            this.emit("preend"), g(this, function() {
              A(L._forwardEnd && L._writable, function() {
                L._writableState.prefinished === !1 && (L._writableState.prefinished = !0), L.emit("prefinish"), g(L, x);
              });
            });
          }, T.prototype.end = function(x, L, k) {
            return typeof x == "function" ? this.end(null, null, x) : typeof L == "function" ? this.end(x, null, L) : (this._ended = !0, x && this.write(x), !this._writableState.ending && !this._writableState.destroyed && this.write(v), f.Writable.prototype.end.call(this, k));
          }, o.exports = T;
        }).call(this);
      }).call(this, r("_process"), r("buffer").Buffer);
    }, { _process: 102, buffer: 29, "end-of-stream": 48, inherits: 51, "readable-stream": 47, "stream-shift": 135 }], 33: [function(r, o, a) {
      function u(g, _) {
        g.prototype = Object.create(_.prototype), g.prototype.constructor = g, g.__proto__ = _;
      }
      var c = {};
      function f(g, _, b) {
        b || (b = Error);
        function A(S, T, x) {
          return typeof _ == "string" ? _ : _(S, T, x);
        }
        var w = /* @__PURE__ */ function(S) {
          u(T, S);
          function T(x, L, k) {
            return S.call(this, A(x, L, k)) || this;
          }
          return T;
        }(b);
        w.prototype.name = b.name, w.prototype.code = g, c[g] = w;
      }
      function d(g, _) {
        if (Array.isArray(g)) {
          var b = g.length;
          return g = g.map(function(A) {
            return String(A);
          }), b > 2 ? "one of ".concat(_, " ").concat(g.slice(0, b - 1).join(", "), ", or ") + g[b - 1] : b === 2 ? "one of ".concat(_, " ").concat(g[0], " or ").concat(g[1]) : "of ".concat(_, " ").concat(g[0]);
        } else
          return "of ".concat(_, " ").concat(String(g));
      }
      function p(g, _, b) {
        return g.substr(!b || b < 0 ? 0 : +b, _.length) === _;
      }
      function y(g, _, b) {
        return (b === void 0 || b > g.length) && (b = g.length), g.substring(b - _.length, b) === _;
      }
      function v(g, _, b) {
        return typeof b != "number" && (b = 0), b + _.length > g.length ? !1 : g.indexOf(_, b) !== -1;
      }
      f("ERR_INVALID_OPT_VALUE", function(g, _) {
        return 'The value "' + _ + '" is invalid for option "' + g + '"';
      }, TypeError), f("ERR_INVALID_ARG_TYPE", function(g, _, b) {
        var A;
        typeof _ == "string" && p(_, "not ") ? (A = "must not be", _ = _.replace(/^not /, "")) : A = "must be";
        var w;
        if (y(g, " argument"))
          w = "The ".concat(g, " ").concat(A, " ").concat(d(_, "type"));
        else {
          var S = v(g, ".") ? "property" : "argument";
          w = 'The "'.concat(g, '" ').concat(S, " ").concat(A, " ").concat(d(_, "type"));
        }
        return w += ". Received type ".concat(typeof b), w;
      }, TypeError), f("ERR_STREAM_PUSH_AFTER_EOF", "stream.push() after EOF"), f("ERR_METHOD_NOT_IMPLEMENTED", function(g) {
        return "The " + g + " method is not implemented";
      }), f("ERR_STREAM_PREMATURE_CLOSE", "Premature close"), f("ERR_STREAM_DESTROYED", function(g) {
        return "Cannot call " + g + " after a stream was destroyed";
      }), f("ERR_MULTIPLE_CALLBACK", "Callback called multiple times"), f("ERR_STREAM_CANNOT_PIPE", "Cannot pipe, not readable"), f("ERR_STREAM_WRITE_AFTER_END", "write after end"), f("ERR_STREAM_NULL_VALUES", "May not write null values to stream", TypeError), f("ERR_UNKNOWN_ENCODING", function(g) {
        return "Unknown encoding: " + g;
      }, TypeError), f("ERR_STREAM_UNSHIFT_AFTER_END_EVENT", "stream.unshift() after end event"), o.exports.codes = c;
    }, {}], 34: [function(r, o, a) {
      (function(u) {
        (function() {
          var c = Object.keys || function(A) {
            var w = [];
            for (var S in A)
              w.push(S);
            return w;
          };
          o.exports = g;
          var f = r("./_stream_readable"), d = r("./_stream_writable");
          r("inherits")(g, f);
          for (var p = c(d.prototype), y = 0; y < p.length; y++) {
            var v = p[y];
            g.prototype[v] || (g.prototype[v] = d.prototype[v]);
          }
          function g(A) {
            if (!(this instanceof g))
              return new g(A);
            f.call(this, A), d.call(this, A), this.allowHalfOpen = !0, A && (A.readable === !1 && (this.readable = !1), A.writable === !1 && (this.writable = !1), A.allowHalfOpen === !1 && (this.allowHalfOpen = !1, this.once("end", _)));
          }
          Object.defineProperty(g.prototype, "writableHighWaterMark", {
            // making it explicit this property is not enumerable
            // because otherwise some prototype manipulation in
            // userland will fail
            enumerable: !1,
            get: function() {
              return this._writableState.highWaterMark;
            }
          }), Object.defineProperty(g.prototype, "writableBuffer", {
            // making it explicit this property is not enumerable
            // because otherwise some prototype manipulation in
            // userland will fail
            enumerable: !1,
            get: function() {
              return this._writableState && this._writableState.getBuffer();
            }
          }), Object.defineProperty(g.prototype, "writableLength", {
            // making it explicit this property is not enumerable
            // because otherwise some prototype manipulation in
            // userland will fail
            enumerable: !1,
            get: function() {
              return this._writableState.length;
            }
          });
          function _() {
            this._writableState.ended || u.nextTick(b, this);
          }
          function b(A) {
            A.end();
          }
          Object.defineProperty(g.prototype, "destroyed", {
            // making it explicit this property is not enumerable
            // because otherwise some prototype manipulation in
            // userland will fail
            enumerable: !1,
            get: function() {
              return this._readableState === void 0 || this._writableState === void 0 ? !1 : this._readableState.destroyed && this._writableState.destroyed;
            },
            set: function(w) {
              this._readableState === void 0 || this._writableState === void 0 || (this._readableState.destroyed = w, this._writableState.destroyed = w);
            }
          });
        }).call(this);
      }).call(this, r("_process"));
    }, { "./_stream_readable": 36, "./_stream_writable": 38, _process: 102, inherits: 51 }], 35: [function(r, o, a) {
      o.exports = c;
      var u = r("./_stream_transform");
      r("inherits")(c, u);
      function c(f) {
        if (!(this instanceof c))
          return new c(f);
        u.call(this, f);
      }
      c.prototype._transform = function(f, d, p) {
        p(null, f);
      };
    }, { "./_stream_transform": 37, inherits: 51 }], 36: [function(r, o, a) {
      (function(u, c) {
        (function() {
          o.exports = Ce;
          var f;
          Ce.ReadableState = ue, r("events").EventEmitter;
          var d = function(ae, re) {
            return ae.listeners(re).length;
          }, p = r("./internal/streams/stream"), y = r("buffer").Buffer, v = c.Uint8Array || function() {
          };
          function g(oe) {
            return y.from(oe);
          }
          function _(oe) {
            return y.isBuffer(oe) || oe instanceof v;
          }
          var b = r("util"), A;
          b && b.debuglog ? A = b.debuglog("stream") : A = function() {
          };
          var w = r("./internal/streams/buffer_list"), S = r("./internal/streams/destroy"), T = r("./internal/streams/state"), x = T.getHighWaterMark, L = r("../errors").codes, k = L.ERR_INVALID_ARG_TYPE, M = L.ERR_STREAM_PUSH_AFTER_EOF, O = L.ERR_METHOD_NOT_IMPLEMENTED, ie = L.ERR_STREAM_UNSHIFT_AFTER_END_EVENT, F, j, D;
          r("inherits")(Ce, p);
          var Y = S.errorOrDestroy, z = ["error", "close", "destroy", "pause", "resume"];
          function Ie(oe, ae, re) {
            if (typeof oe.prependListener == "function")
              return oe.prependListener(ae, re);
            !oe._events || !oe._events[ae] ? oe.on(ae, re) : Array.isArray(oe._events[ae]) ? oe._events[ae].unshift(re) : oe._events[ae] = [re, oe._events[ae]];
          }
          function ue(oe, ae, re) {
            f = f || r("./_stream_duplex"), oe = oe || {}, typeof re != "boolean" && (re = ae instanceof f), this.objectMode = !!oe.objectMode, re && (this.objectMode = this.objectMode || !!oe.readableObjectMode), this.highWaterMark = x(this, oe, "readableHighWaterMark", re), this.buffer = new w(), this.length = 0, this.pipes = null, this.pipesCount = 0, this.flowing = null, this.ended = !1, this.endEmitted = !1, this.reading = !1, this.sync = !0, this.needReadable = !1, this.emittedReadable = !1, this.readableListening = !1, this.resumeScheduled = !1, this.paused = !0, this.emitClose = oe.emitClose !== !1, this.autoDestroy = !!oe.autoDestroy, this.destroyed = !1, this.defaultEncoding = oe.defaultEncoding || "utf8", this.awaitDrain = 0, this.readingMore = !1, this.decoder = null, this.encoding = null, oe.encoding && (F || (F = r("string_decoder/").StringDecoder), this.decoder = new F(oe.encoding), this.encoding = oe.encoding);
          }
          function Ce(oe) {
            if (f = f || r("./_stream_duplex"), !(this instanceof Ce))
              return new Ce(oe);
            var ae = this instanceof f;
            this._readableState = new ue(oe, this, ae), this.readable = !0, oe && (typeof oe.read == "function" && (this._read = oe.read), typeof oe.destroy == "function" && (this._destroy = oe.destroy)), p.call(this);
          }
          Object.defineProperty(Ce.prototype, "destroyed", {
            // making it explicit this property is not enumerable
            // because otherwise some prototype manipulation in
            // userland will fail
            enumerable: !1,
            get: function() {
              return this._readableState === void 0 ? !1 : this._readableState.destroyed;
            },
            set: function(ae) {
              this._readableState && (this._readableState.destroyed = ae);
            }
          }), Ce.prototype.destroy = S.destroy, Ce.prototype._undestroy = S.undestroy, Ce.prototype._destroy = function(oe, ae) {
            ae(oe);
          }, Ce.prototype.push = function(oe, ae) {
            var re = this._readableState, V;
            return re.objectMode ? V = !0 : typeof oe == "string" && (ae = ae || re.defaultEncoding, ae !== re.encoding && (oe = y.from(oe, ae), ae = ""), V = !0), pe(this, oe, ae, !1, V);
          }, Ce.prototype.unshift = function(oe) {
            return pe(this, oe, null, !0, !1);
          };
          function pe(oe, ae, re, V, $) {
            A("readableAddChunk", ae);
            var le = oe._readableState;
            if (ae === null)
              le.reading = !1, In(oe, le);
            else {
              var Oe;
              if ($ || (Oe = xe(le, ae)), Oe)
                Y(oe, Oe);
              else if (le.objectMode || ae && ae.length > 0)
                if (typeof ae != "string" && !le.objectMode && Object.getPrototypeOf(ae) !== y.prototype && (ae = g(ae)), V)
                  le.endEmitted ? Y(oe, new ie()) : Ne(oe, le, ae, !0);
                else if (le.ended)
                  Y(oe, new M());
                else {
                  if (le.destroyed)
                    return !1;
                  le.reading = !1, le.decoder && !re ? (ae = le.decoder.write(ae), le.objectMode || ae.length !== 0 ? Ne(oe, le, ae, !1) : At(oe, le)) : Ne(oe, le, ae, !1);
                }
              else
                V || (le.reading = !1, At(oe, le));
            }
            return !le.ended && (le.length < le.highWaterMark || le.length === 0);
          }
          function Ne(oe, ae, re, V) {
            ae.flowing && ae.length === 0 && !ae.sync ? (ae.awaitDrain = 0, oe.emit("data", re)) : (ae.length += ae.objectMode ? 1 : re.length, V ? ae.buffer.unshift(re) : ae.buffer.push(re), ae.needReadable && Dt(oe)), At(oe, ae);
          }
          function xe(oe, ae) {
            var re;
            return !_(ae) && typeof ae != "string" && ae !== void 0 && !oe.objectMode && (re = new k("chunk", ["string", "Buffer", "Uint8Array"], ae)), re;
          }
          Ce.prototype.isPaused = function() {
            return this._readableState.flowing === !1;
          }, Ce.prototype.setEncoding = function(oe) {
            F || (F = r("string_decoder/").StringDecoder);
            var ae = new F(oe);
            this._readableState.decoder = ae, this._readableState.encoding = this._readableState.decoder.encoding;
            for (var re = this._readableState.buffer.head, V = ""; re !== null; )
              V += ae.write(re.data), re = re.next;
            return this._readableState.buffer.clear(), V !== "" && this._readableState.buffer.push(V), this._readableState.length = V.length, this;
          };
          var hn = 1073741824;
          function Pt(oe) {
            return oe >= hn ? oe = hn : (oe--, oe |= oe >>> 1, oe |= oe >>> 2, oe |= oe >>> 4, oe |= oe >>> 8, oe |= oe >>> 16, oe++), oe;
          }
          function _n(oe, ae) {
            return oe <= 0 || ae.length === 0 && ae.ended ? 0 : ae.objectMode ? 1 : oe !== oe ? ae.flowing && ae.length ? ae.buffer.head.data.length : ae.length : (oe > ae.highWaterMark && (ae.highWaterMark = Pt(oe)), oe <= ae.length ? oe : ae.ended ? ae.length : (ae.needReadable = !0, 0));
          }
          Ce.prototype.read = function(oe) {
            A("read", oe), oe = parseInt(oe, 10);
            var ae = this._readableState, re = oe;
            if (oe !== 0 && (ae.emittedReadable = !1), oe === 0 && ae.needReadable && ((ae.highWaterMark !== 0 ? ae.length >= ae.highWaterMark : ae.length > 0) || ae.ended))
              return A("read: emitReadable", ae.length, ae.ended), ae.length === 0 && ae.ended ? kt(this) : Dt(this), null;
            if (oe = _n(oe, ae), oe === 0 && ae.ended)
              return ae.length === 0 && kt(this), null;
            var V = ae.needReadable;
            A("need readable", V), (ae.length === 0 || ae.length - oe < ae.highWaterMark) && (V = !0, A("length less than watermark", V)), ae.ended || ae.reading ? (V = !1, A("reading or ended", V)) : V && (A("do read"), ae.reading = !0, ae.sync = !0, ae.length === 0 && (ae.needReadable = !0), this._read(ae.highWaterMark), ae.sync = !1, ae.reading || (oe = _n(re, ae)));
            var $;
            return oe > 0 ? $ = $e(oe, ae) : $ = null, $ === null ? (ae.needReadable = ae.length <= ae.highWaterMark, oe = 0) : (ae.length -= oe, ae.awaitDrain = 0), ae.length === 0 && (ae.ended || (ae.needReadable = !0), re !== oe && ae.ended && kt(this)), $ !== null && this.emit("data", $), $;
          };
          function In(oe, ae) {
            if (A("onEofChunk"), !ae.ended) {
              if (ae.decoder) {
                var re = ae.decoder.end();
                re && re.length && (ae.buffer.push(re), ae.length += ae.objectMode ? 1 : re.length);
              }
              ae.ended = !0, ae.sync ? Dt(oe) : (ae.needReadable = !1, ae.emittedReadable || (ae.emittedReadable = !0, he(oe)));
            }
          }
          function Dt(oe) {
            var ae = oe._readableState;
            A("emitReadable", ae.needReadable, ae.emittedReadable), ae.needReadable = !1, ae.emittedReadable || (A("emitReadable", ae.flowing), ae.emittedReadable = !0, u.nextTick(he, oe));
          }
          function he(oe) {
            var ae = oe._readableState;
            A("emitReadable_", ae.destroyed, ae.length, ae.ended), !ae.destroyed && (ae.length || ae.ended) && (oe.emit("readable"), ae.emittedReadable = !1), ae.needReadable = !ae.flowing && !ae.ended && ae.length <= ae.highWaterMark, Ve(oe);
          }
          function At(oe, ae) {
            ae.readingMore || (ae.readingMore = !0, u.nextTick(Lt, oe, ae));
          }
          function Lt(oe, ae) {
            for (; !ae.reading && !ae.ended && (ae.length < ae.highWaterMark || ae.flowing && ae.length === 0); ) {
              var re = ae.length;
              if (A("maybeReadMore read 0"), oe.read(0), re === ae.length)
                break;
            }
            ae.readingMore = !1;
          }
          Ce.prototype._read = function(oe) {
            Y(this, new O("_read()"));
          }, Ce.prototype.pipe = function(oe, ae) {
            var re = this, V = this._readableState;
            switch (V.pipesCount) {
              case 0:
                V.pipes = oe;
                break;
              case 1:
                V.pipes = [V.pipes, oe];
                break;
              default:
                V.pipes.push(oe);
                break;
            }
            V.pipesCount += 1, A("pipe count=%d opts=%j", V.pipesCount, ae);
            var $ = (!ae || ae.end !== !1) && oe !== u.stdout && oe !== u.stderr, le = $ ? Ue : En;
            V.endEmitted ? u.nextTick(le) : re.once("end", le), oe.on("unpipe", Oe);
            function Oe(Ln, Nn) {
              A("onunpipe"), Ln === re && Nn && Nn.hasUnpiped === !1 && (Nn.hasUnpiped = !0, xn());
            }
            function Ue() {
              A("onend"), oe.end();
            }
            var vn = Cn(re);
            oe.on("drain", vn);
            var wn = !1;
            function xn() {
              A("cleanup"), oe.removeListener("close", qe), oe.removeListener("finish", Tn), oe.removeListener("drain", vn), oe.removeListener("error", Fe), oe.removeListener("unpipe", Oe), re.removeListener("end", Ue), re.removeListener("end", En), re.removeListener("data", Bn), wn = !0, V.awaitDrain && (!oe._writableState || oe._writableState.needDrain) && vn();
            }
            re.on("data", Bn);
            function Bn(Ln) {
              A("ondata");
              var Nn = oe.write(Ln);
              A("dest.write", Nn), Nn === !1 && ((V.pipesCount === 1 && V.pipes === oe || V.pipesCount > 1 && bn(V.pipes, oe) !== -1) && !wn && (A("false write response, pause", V.awaitDrain), V.awaitDrain++), re.pause());
            }
            function Fe(Ln) {
              A("onerror", Ln), En(), oe.removeListener("error", Fe), d(oe, "error") === 0 && Y(oe, Ln);
            }
            Ie(oe, "error", Fe);
            function qe() {
              oe.removeListener("finish", Tn), En();
            }
            oe.once("close", qe);
            function Tn() {
              A("onfinish"), oe.removeListener("close", qe), En();
            }
            oe.once("finish", Tn);
            function En() {
              A("unpipe"), re.unpipe(oe);
            }
            return oe.emit("pipe", re), V.flowing || (A("pipe resume"), re.resume()), oe;
          };
          function Cn(oe) {
            return function() {
              var re = oe._readableState;
              A("pipeOnDrain", re.awaitDrain), re.awaitDrain && re.awaitDrain--, re.awaitDrain === 0 && d(oe, "data") && (re.flowing = !0, Ve(oe));
            };
          }
          Ce.prototype.unpipe = function(oe) {
            var ae = this._readableState, re = {
              hasUnpiped: !1
            };
            if (ae.pipesCount === 0)
              return this;
            if (ae.pipesCount === 1)
              return oe && oe !== ae.pipes ? this : (oe || (oe = ae.pipes), ae.pipes = null, ae.pipesCount = 0, ae.flowing = !1, oe && oe.emit("unpipe", this, re), this);
            if (!oe) {
              var V = ae.pipes, $ = ae.pipesCount;
              ae.pipes = null, ae.pipesCount = 0, ae.flowing = !1;
              for (var le = 0; le < $; le++)
                V[le].emit("unpipe", this, {
                  hasUnpiped: !1
                });
              return this;
            }
            var Oe = bn(ae.pipes, oe);
            return Oe === -1 ? this : (ae.pipes.splice(Oe, 1), ae.pipesCount -= 1, ae.pipesCount === 1 && (ae.pipes = ae.pipes[0]), oe.emit("unpipe", this, re), this);
          }, Ce.prototype.on = function(oe, ae) {
            var re = p.prototype.on.call(this, oe, ae), V = this._readableState;
            return oe === "data" ? (V.readableListening = this.listenerCount("readable") > 0, V.flowing !== !1 && this.resume()) : oe === "readable" && !V.endEmitted && !V.readableListening && (V.readableListening = V.needReadable = !0, V.flowing = !1, V.emittedReadable = !1, A("on readable", V.length, V.reading), V.length ? Dt(this) : V.reading || u.nextTick(_e, this)), re;
          }, Ce.prototype.addListener = Ce.prototype.on, Ce.prototype.removeListener = function(oe, ae) {
            var re = p.prototype.removeListener.call(this, oe, ae);
            return oe === "readable" && u.nextTick(ze, this), re;
          }, Ce.prototype.removeAllListeners = function(oe) {
            var ae = p.prototype.removeAllListeners.apply(this, arguments);
            return (oe === "readable" || oe === void 0) && u.nextTick(ze, this), ae;
          };
          function ze(oe) {
            var ae = oe._readableState;
            ae.readableListening = oe.listenerCount("readable") > 0, ae.resumeScheduled && !ae.paused ? ae.flowing = !0 : oe.listenerCount("data") > 0 && oe.resume();
          }
          function _e(oe) {
            A("readable nexttick read 0"), oe.read(0);
          }
          Ce.prototype.resume = function() {
            var oe = this._readableState;
            return oe.flowing || (A("resume"), oe.flowing = !oe.readableListening, de(this, oe)), oe.paused = !1, this;
          };
          function de(oe, ae) {
            ae.resumeScheduled || (ae.resumeScheduled = !0, u.nextTick(Et, oe, ae));
          }
          function Et(oe, ae) {
            A("resume", ae.reading), ae.reading || oe.read(0), ae.resumeScheduled = !1, oe.emit("resume"), Ve(oe), ae.flowing && !ae.reading && oe.read(0);
          }
          Ce.prototype.pause = function() {
            return A("call pause flowing=%j", this._readableState.flowing), this._readableState.flowing !== !1 && (A("pause"), this._readableState.flowing = !1, this.emit("pause")), this._readableState.paused = !0, this;
          };
          function Ve(oe) {
            var ae = oe._readableState;
            for (A("flow", ae.flowing); ae.flowing && oe.read() !== null; )
              ;
          }
          Ce.prototype.wrap = function(oe) {
            var ae = this, re = this._readableState, V = !1;
            oe.on("end", function() {
              if (A("wrapped end"), re.decoder && !re.ended) {
                var Oe = re.decoder.end();
                Oe && Oe.length && ae.push(Oe);
              }
              ae.push(null);
            }), oe.on("data", function(Oe) {
              if (A("wrapped data"), re.decoder && (Oe = re.decoder.write(Oe)), !(re.objectMode && Oe == null) && !(!re.objectMode && (!Oe || !Oe.length))) {
                var Ue = ae.push(Oe);
                Ue || (V = !0, oe.pause());
              }
            });
            for (var $ in oe)
              this[$] === void 0 && typeof oe[$] == "function" && (this[$] = function(Ue) {
                return function() {
                  return oe[Ue].apply(oe, arguments);
                };
              }($));
            for (var le = 0; le < z.length; le++)
              oe.on(z[le], this.emit.bind(this, z[le]));
            return this._read = function(Oe) {
              A("wrapped _read", Oe), V && (V = !1, oe.resume());
            }, this;
          }, typeof Symbol == "function" && (Ce.prototype[Symbol.asyncIterator] = function() {
            return j === void 0 && (j = r("./internal/streams/async_iterator")), j(this);
          }), Object.defineProperty(Ce.prototype, "readableHighWaterMark", {
            // making it explicit this property is not enumerable
            // because otherwise some prototype manipulation in
            // userland will fail
            enumerable: !1,
            get: function() {
              return this._readableState.highWaterMark;
            }
          }), Object.defineProperty(Ce.prototype, "readableBuffer", {
            // making it explicit this property is not enumerable
            // because otherwise some prototype manipulation in
            // userland will fail
            enumerable: !1,
            get: function() {
              return this._readableState && this._readableState.buffer;
            }
          }), Object.defineProperty(Ce.prototype, "readableFlowing", {
            // making it explicit this property is not enumerable
            // because otherwise some prototype manipulation in
            // userland will fail
            enumerable: !1,
            get: function() {
              return this._readableState.flowing;
            },
            set: function(ae) {
              this._readableState && (this._readableState.flowing = ae);
            }
          }), Ce._fromList = $e, Object.defineProperty(Ce.prototype, "readableLength", {
            // making it explicit this property is not enumerable
            // because otherwise some prototype manipulation in
            // userland will fail
            enumerable: !1,
            get: function() {
              return this._readableState.length;
            }
          });
          function $e(oe, ae) {
            if (ae.length === 0)
              return null;
            var re;
            return ae.objectMode ? re = ae.buffer.shift() : !oe || oe >= ae.length ? (ae.decoder ? re = ae.buffer.join("") : ae.buffer.length === 1 ? re = ae.buffer.first() : re = ae.buffer.concat(ae.length), ae.buffer.clear()) : re = ae.buffer.consume(oe, ae.decoder), re;
          }
          function kt(oe) {
            var ae = oe._readableState;
            A("endReadable", ae.endEmitted), ae.endEmitted || (ae.ended = !0, u.nextTick(jt, ae, oe));
          }
          function jt(oe, ae) {
            if (A("endReadableNT", oe.endEmitted, oe.length), !oe.endEmitted && oe.length === 0 && (oe.endEmitted = !0, ae.readable = !1, ae.emit("end"), oe.autoDestroy)) {
              var re = ae._writableState;
              (!re || re.autoDestroy && re.finished) && ae.destroy();
            }
          }
          typeof Symbol == "function" && (Ce.from = function(oe, ae) {
            return D === void 0 && (D = r("./internal/streams/from")), D(Ce, oe, ae);
          });
          function bn(oe, ae) {
            for (var re = 0, V = oe.length; re < V; re++)
              if (oe[re] === ae)
                return re;
            return -1;
          }
        }).call(this);
      }).call(this, r("_process"), typeof commonjsGlobal < "u" ? commonjsGlobal : typeof self < "u" ? self : typeof window < "u" ? window : {});
    }, { "../errors": 33, "./_stream_duplex": 34, "./internal/streams/async_iterator": 39, "./internal/streams/buffer_list": 40, "./internal/streams/destroy": 41, "./internal/streams/from": 43, "./internal/streams/state": 45, "./internal/streams/stream": 46, _process: 102, buffer: 29, events: 49, inherits: 51, "string_decoder/": 136, util: 26 }], 37: [function(r, o, a) {
      o.exports = g;
      var u = r("../errors").codes, c = u.ERR_METHOD_NOT_IMPLEMENTED, f = u.ERR_MULTIPLE_CALLBACK, d = u.ERR_TRANSFORM_ALREADY_TRANSFORMING, p = u.ERR_TRANSFORM_WITH_LENGTH_0, y = r("./_stream_duplex");
      r("inherits")(g, y);
      function v(A, w) {
        var S = this._transformState;
        S.transforming = !1;
        var T = S.writecb;
        if (T === null)
          return this.emit("error", new f());
        S.writechunk = null, S.writecb = null, w != null && this.push(w), T(A);
        var x = this._readableState;
        x.reading = !1, (x.needReadable || x.length < x.highWaterMark) && this._read(x.highWaterMark);
      }
      function g(A) {
        if (!(this instanceof g))
          return new g(A);
        y.call(this, A), this._transformState = {
          afterTransform: v.bind(this),
          needTransform: !1,
          transforming: !1,
          writecb: null,
          writechunk: null,
          writeencoding: null
        }, this._readableState.needReadable = !0, this._readableState.sync = !1, A && (typeof A.transform == "function" && (this._transform = A.transform), typeof A.flush == "function" && (this._flush = A.flush)), this.on("prefinish", _);
      }
      function _() {
        var A = this;
        typeof this._flush == "function" && !this._readableState.destroyed ? this._flush(function(w, S) {
          b(A, w, S);
        }) : b(this, null, null);
      }
      g.prototype.push = function(A, w) {
        return this._transformState.needTransform = !1, y.prototype.push.call(this, A, w);
      }, g.prototype._transform = function(A, w, S) {
        S(new c("_transform()"));
      }, g.prototype._write = function(A, w, S) {
        var T = this._transformState;
        if (T.writecb = S, T.writechunk = A, T.writeencoding = w, !T.transforming) {
          var x = this._readableState;
          (T.needTransform || x.needReadable || x.length < x.highWaterMark) && this._read(x.highWaterMark);
        }
      }, g.prototype._read = function(A) {
        var w = this._transformState;
        w.writechunk !== null && !w.transforming ? (w.transforming = !0, this._transform(w.writechunk, w.writeencoding, w.afterTransform)) : w.needTransform = !0;
      }, g.prototype._destroy = function(A, w) {
        y.prototype._destroy.call(this, A, function(S) {
          w(S);
        });
      };
      function b(A, w, S) {
        if (w)
          return A.emit("error", w);
        if (S != null && A.push(S), A._writableState.length)
          throw new p();
        if (A._transformState.transforming)
          throw new d();
        return A.push(null);
      }
    }, { "../errors": 33, "./_stream_duplex": 34, inherits: 51 }], 38: [function(r, o, a) {
      (function(u, c) {
        (function() {
          o.exports = ue;
          function f(Ve) {
            var $e = this;
            this.next = null, this.entry = null, this.finish = function() {
              Et($e, Ve);
            };
          }
          var d;
          ue.WritableState = z;
          var p = {
            deprecate: r("util-deprecate")
          }, y = r("./internal/streams/stream"), v = r("buffer").Buffer, g = c.Uint8Array || function() {
          };
          function _(Ve) {
            return v.from(Ve);
          }
          function b(Ve) {
            return v.isBuffer(Ve) || Ve instanceof g;
          }
          var A = r("./internal/streams/destroy"), w = r("./internal/streams/state"), S = w.getHighWaterMark, T = r("../errors").codes, x = T.ERR_INVALID_ARG_TYPE, L = T.ERR_METHOD_NOT_IMPLEMENTED, k = T.ERR_MULTIPLE_CALLBACK, M = T.ERR_STREAM_CANNOT_PIPE, O = T.ERR_STREAM_DESTROYED, ie = T.ERR_STREAM_NULL_VALUES, F = T.ERR_STREAM_WRITE_AFTER_END, j = T.ERR_UNKNOWN_ENCODING, D = A.errorOrDestroy;
          r("inherits")(ue, y);
          function Y() {
          }
          function z(Ve, $e, kt) {
            d = d || r("./_stream_duplex"), Ve = Ve || {}, typeof kt != "boolean" && (kt = $e instanceof d), this.objectMode = !!Ve.objectMode, kt && (this.objectMode = this.objectMode || !!Ve.writableObjectMode), this.highWaterMark = S(this, Ve, "writableHighWaterMark", kt), this.finalCalled = !1, this.needDrain = !1, this.ending = !1, this.ended = !1, this.finished = !1, this.destroyed = !1;
            var jt = Ve.decodeStrings === !1;
            this.decodeStrings = !jt, this.defaultEncoding = Ve.defaultEncoding || "utf8", this.length = 0, this.writing = !1, this.corked = 0, this.sync = !0, this.bufferProcessing = !1, this.onwrite = function(bn) {
              In($e, bn);
            }, this.writecb = null, this.writelen = 0, this.bufferedRequest = null, this.lastBufferedRequest = null, this.pendingcb = 0, this.prefinished = !1, this.errorEmitted = !1, this.emitClose = Ve.emitClose !== !1, this.autoDestroy = !!Ve.autoDestroy, this.bufferedRequestCount = 0, this.corkedRequestsFree = new f(this);
          }
          z.prototype.getBuffer = function() {
            for (var $e = this.bufferedRequest, kt = []; $e; )
              kt.push($e), $e = $e.next;
            return kt;
          }, function() {
            try {
              Object.defineProperty(z.prototype, "buffer", {
                get: p.deprecate(function() {
                  return this.getBuffer();
                }, "_writableState.buffer is deprecated. Use _writableState.getBuffer instead.", "DEP0003")
              });
            } catch {
            }
          }();
          var Ie;
          typeof Symbol == "function" && Symbol.hasInstance && typeof Function.prototype[Symbol.hasInstance] == "function" ? (Ie = Function.prototype[Symbol.hasInstance], Object.defineProperty(ue, Symbol.hasInstance, {
            value: function($e) {
              return Ie.call(this, $e) ? !0 : this !== ue ? !1 : $e && $e._writableState instanceof z;
            }
          })) : Ie = function($e) {
            return $e instanceof this;
          };
          function ue(Ve) {
            d = d || r("./_stream_duplex");
            var $e = this instanceof d;
            if (!$e && !Ie.call(ue, this))
              return new ue(Ve);
            this._writableState = new z(Ve, this, $e), this.writable = !0, Ve && (typeof Ve.write == "function" && (this._write = Ve.write), typeof Ve.writev == "function" && (this._writev = Ve.writev), typeof Ve.destroy == "function" && (this._destroy = Ve.destroy), typeof Ve.final == "function" && (this._final = Ve.final)), y.call(this);
          }
          ue.prototype.pipe = function() {
            D(this, new M());
          };
          function Ce(Ve, $e) {
            var kt = new F();
            D(Ve, kt), u.nextTick($e, kt);
          }
          function pe(Ve, $e, kt, jt) {
            var bn;
            return kt === null ? bn = new ie() : typeof kt != "string" && !$e.objectMode && (bn = new x("chunk", ["string", "Buffer"], kt)), bn ? (D(Ve, bn), u.nextTick(jt, bn), !1) : !0;
          }
          ue.prototype.write = function(Ve, $e, kt) {
            var jt = this._writableState, bn = !1, oe = !jt.objectMode && b(Ve);
            return oe && !v.isBuffer(Ve) && (Ve = _(Ve)), typeof $e == "function" && (kt = $e, $e = null), oe ? $e = "buffer" : $e || ($e = jt.defaultEncoding), typeof kt != "function" && (kt = Y), jt.ending ? Ce(this, kt) : (oe || pe(this, jt, Ve, kt)) && (jt.pendingcb++, bn = xe(this, jt, oe, Ve, $e, kt)), bn;
          }, ue.prototype.cork = function() {
            this._writableState.corked++;
          }, ue.prototype.uncork = function() {
            var Ve = this._writableState;
            Ve.corked && (Ve.corked--, !Ve.writing && !Ve.corked && !Ve.bufferProcessing && Ve.bufferedRequest && At(this, Ve));
          }, ue.prototype.setDefaultEncoding = function($e) {
            if (typeof $e == "string" && ($e = $e.toLowerCase()), !(["hex", "utf8", "utf-8", "ascii", "binary", "base64", "ucs2", "ucs-2", "utf16le", "utf-16le", "raw"].indexOf(($e + "").toLowerCase()) > -1))
              throw new j($e);
            return this._writableState.defaultEncoding = $e, this;
          }, Object.defineProperty(ue.prototype, "writableBuffer", {
            // making it explicit this property is not enumerable
            // because otherwise some prototype manipulation in
            // userland will fail
            enumerable: !1,
            get: function() {
              return this._writableState && this._writableState.getBuffer();
            }
          });
          function Ne(Ve, $e, kt) {
            return !Ve.objectMode && Ve.decodeStrings !== !1 && typeof $e == "string" && ($e = v.from($e, kt)), $e;
          }
          Object.defineProperty(ue.prototype, "writableHighWaterMark", {
            // making it explicit this property is not enumerable
            // because otherwise some prototype manipulation in
            // userland will fail
            enumerable: !1,
            get: function() {
              return this._writableState.highWaterMark;
            }
          });
          function xe(Ve, $e, kt, jt, bn, oe) {
            if (!kt) {
              var ae = Ne($e, jt, bn);
              jt !== ae && (kt = !0, bn = "buffer", jt = ae);
            }
            var re = $e.objectMode ? 1 : jt.length;
            $e.length += re;
            var V = $e.length < $e.highWaterMark;
            if (V || ($e.needDrain = !0), $e.writing || $e.corked) {
              var $ = $e.lastBufferedRequest;
              $e.lastBufferedRequest = {
                chunk: jt,
                encoding: bn,
                isBuf: kt,
                callback: oe,
                next: null
              }, $ ? $.next = $e.lastBufferedRequest : $e.bufferedRequest = $e.lastBufferedRequest, $e.bufferedRequestCount += 1;
            } else
              hn(Ve, $e, !1, re, jt, bn, oe);
            return V;
          }
          function hn(Ve, $e, kt, jt, bn, oe, ae) {
            $e.writelen = jt, $e.writecb = ae, $e.writing = !0, $e.sync = !0, $e.destroyed ? $e.onwrite(new O("write")) : kt ? Ve._writev(bn, $e.onwrite) : Ve._write(bn, oe, $e.onwrite), $e.sync = !1;
          }
          function Pt(Ve, $e, kt, jt, bn) {
            --$e.pendingcb, kt ? (u.nextTick(bn, jt), u.nextTick(_e, Ve, $e), Ve._writableState.errorEmitted = !0, D(Ve, jt)) : (bn(jt), Ve._writableState.errorEmitted = !0, D(Ve, jt), _e(Ve, $e));
          }
          function _n(Ve) {
            Ve.writing = !1, Ve.writecb = null, Ve.length -= Ve.writelen, Ve.writelen = 0;
          }
          function In(Ve, $e) {
            var kt = Ve._writableState, jt = kt.sync, bn = kt.writecb;
            if (typeof bn != "function")
              throw new k();
            if (_n(kt), $e)
              Pt(Ve, kt, jt, $e, bn);
            else {
              var oe = Lt(kt) || Ve.destroyed;
              !oe && !kt.corked && !kt.bufferProcessing && kt.bufferedRequest && At(Ve, kt), jt ? u.nextTick(Dt, Ve, kt, oe, bn) : Dt(Ve, kt, oe, bn);
            }
          }
          function Dt(Ve, $e, kt, jt) {
            kt || he(Ve, $e), $e.pendingcb--, jt(), _e(Ve, $e);
          }
          function he(Ve, $e) {
            $e.length === 0 && $e.needDrain && ($e.needDrain = !1, Ve.emit("drain"));
          }
          function At(Ve, $e) {
            $e.bufferProcessing = !0;
            var kt = $e.bufferedRequest;
            if (Ve._writev && kt && kt.next) {
              var jt = $e.bufferedRequestCount, bn = new Array(jt), oe = $e.corkedRequestsFree;
              oe.entry = kt;
              for (var ae = 0, re = !0; kt; )
                bn[ae] = kt, kt.isBuf || (re = !1), kt = kt.next, ae += 1;
              bn.allBuffers = re, hn(Ve, $e, !0, $e.length, bn, "", oe.finish), $e.pendingcb++, $e.lastBufferedRequest = null, oe.next ? ($e.corkedRequestsFree = oe.next, oe.next = null) : $e.corkedRequestsFree = new f($e), $e.bufferedRequestCount = 0;
            } else {
              for (; kt; ) {
                var V = kt.chunk, $ = kt.encoding, le = kt.callback, Oe = $e.objectMode ? 1 : V.length;
                if (hn(Ve, $e, !1, Oe, V, $, le), kt = kt.next, $e.bufferedRequestCount--, $e.writing)
                  break;
              }
              kt === null && ($e.lastBufferedRequest = null);
            }
            $e.bufferedRequest = kt, $e.bufferProcessing = !1;
          }
          ue.prototype._write = function(Ve, $e, kt) {
            kt(new L("_write()"));
          }, ue.prototype._writev = null, ue.prototype.end = function(Ve, $e, kt) {
            var jt = this._writableState;
            return typeof Ve == "function" ? (kt = Ve, Ve = null, $e = null) : typeof $e == "function" && (kt = $e, $e = null), Ve != null && this.write(Ve, $e), jt.corked && (jt.corked = 1, this.uncork()), jt.ending || de(this, jt, kt), this;
          }, Object.defineProperty(ue.prototype, "writableLength", {
            // making it explicit this property is not enumerable
            // because otherwise some prototype manipulation in
            // userland will fail
            enumerable: !1,
            get: function() {
              return this._writableState.length;
            }
          });
          function Lt(Ve) {
            return Ve.ending && Ve.length === 0 && Ve.bufferedRequest === null && !Ve.finished && !Ve.writing;
          }
          function Cn(Ve, $e) {
            Ve._final(function(kt) {
              $e.pendingcb--, kt && D(Ve, kt), $e.prefinished = !0, Ve.emit("prefinish"), _e(Ve, $e);
            });
          }
          function ze(Ve, $e) {
            !$e.prefinished && !$e.finalCalled && (typeof Ve._final == "function" && !$e.destroyed ? ($e.pendingcb++, $e.finalCalled = !0, u.nextTick(Cn, Ve, $e)) : ($e.prefinished = !0, Ve.emit("prefinish")));
          }
          function _e(Ve, $e) {
            var kt = Lt($e);
            if (kt && (ze(Ve, $e), $e.pendingcb === 0 && ($e.finished = !0, Ve.emit("finish"), $e.autoDestroy))) {
              var jt = Ve._readableState;
              (!jt || jt.autoDestroy && jt.endEmitted) && Ve.destroy();
            }
            return kt;
          }
          function de(Ve, $e, kt) {
            $e.ending = !0, _e(Ve, $e), kt && ($e.finished ? u.nextTick(kt) : Ve.once("finish", kt)), $e.ended = !0, Ve.writable = !1;
          }
          function Et(Ve, $e, kt) {
            var jt = Ve.entry;
            for (Ve.entry = null; jt; ) {
              var bn = jt.callback;
              $e.pendingcb--, bn(kt), jt = jt.next;
            }
            $e.corkedRequestsFree.next = Ve;
          }
          Object.defineProperty(ue.prototype, "destroyed", {
            // making it explicit this property is not enumerable
            // because otherwise some prototype manipulation in
            // userland will fail
            enumerable: !1,
            get: function() {
              return this._writableState === void 0 ? !1 : this._writableState.destroyed;
            },
            set: function($e) {
              this._writableState && (this._writableState.destroyed = $e);
            }
          }), ue.prototype.destroy = A.destroy, ue.prototype._undestroy = A.undestroy, ue.prototype._destroy = function(Ve, $e) {
            $e(Ve);
          };
        }).call(this);
      }).call(this, r("_process"), typeof commonjsGlobal < "u" ? commonjsGlobal : typeof self < "u" ? self : typeof window < "u" ? window : {});
    }, { "../errors": 33, "./_stream_duplex": 34, "./internal/streams/destroy": 41, "./internal/streams/state": 45, "./internal/streams/stream": 46, _process: 102, buffer: 29, inherits: 51, "util-deprecate": 139 }], 39: [function(r, o, a) {
      (function(u) {
        (function() {
          var c;
          function f(O, ie, F) {
            return ie in O ? Object.defineProperty(O, ie, { value: F, enumerable: !0, configurable: !0, writable: !0 }) : O[ie] = F, O;
          }
          var d = r("./end-of-stream"), p = Symbol("lastResolve"), y = Symbol("lastReject"), v = Symbol("error"), g = Symbol("ended"), _ = Symbol("lastPromise"), b = Symbol("handlePromise"), A = Symbol("stream");
          function w(O, ie) {
            return {
              value: O,
              done: ie
            };
          }
          function S(O) {
            var ie = O[p];
            if (ie !== null) {
              var F = O[A].read();
              F !== null && (O[_] = null, O[p] = null, O[y] = null, ie(w(F, !1)));
            }
          }
          function T(O) {
            u.nextTick(S, O);
          }
          function x(O, ie) {
            return function(F, j) {
              O.then(function() {
                if (ie[g]) {
                  F(w(void 0, !0));
                  return;
                }
                ie[b](F, j);
              }, j);
            };
          }
          var L = Object.getPrototypeOf(function() {
          }), k = Object.setPrototypeOf((c = {
            get stream() {
              return this[A];
            },
            next: function() {
              var ie = this, F = this[v];
              if (F !== null)
                return Promise.reject(F);
              if (this[g])
                return Promise.resolve(w(void 0, !0));
              if (this[A].destroyed)
                return new Promise(function(z, Ie) {
                  u.nextTick(function() {
                    ie[v] ? Ie(ie[v]) : z(w(void 0, !0));
                  });
                });
              var j = this[_], D;
              if (j)
                D = new Promise(x(j, this));
              else {
                var Y = this[A].read();
                if (Y !== null)
                  return Promise.resolve(w(Y, !1));
                D = new Promise(this[b]);
              }
              return this[_] = D, D;
            }
          }, f(c, Symbol.asyncIterator, function() {
            return this;
          }), f(c, "return", function() {
            var ie = this;
            return new Promise(function(F, j) {
              ie[A].destroy(null, function(D) {
                if (D) {
                  j(D);
                  return;
                }
                F(w(void 0, !0));
              });
            });
          }), c), L), M = function(ie) {
            var F, j = Object.create(k, (F = {}, f(F, A, {
              value: ie,
              writable: !0
            }), f(F, p, {
              value: null,
              writable: !0
            }), f(F, y, {
              value: null,
              writable: !0
            }), f(F, v, {
              value: null,
              writable: !0
            }), f(F, g, {
              value: ie._readableState.endEmitted,
              writable: !0
            }), f(F, b, {
              value: function(Y, z) {
                var Ie = j[A].read();
                Ie ? (j[_] = null, j[p] = null, j[y] = null, Y(w(Ie, !1))) : (j[p] = Y, j[y] = z);
              },
              writable: !0
            }), F));
            return j[_] = null, d(ie, function(D) {
              if (D && D.code !== "ERR_STREAM_PREMATURE_CLOSE") {
                var Y = j[y];
                Y !== null && (j[_] = null, j[p] = null, j[y] = null, Y(D)), j[v] = D;
                return;
              }
              var z = j[p];
              z !== null && (j[_] = null, j[p] = null, j[y] = null, z(w(void 0, !0))), j[g] = !0;
            }), ie.on("readable", T.bind(null, j)), j;
          };
          o.exports = M;
        }).call(this);
      }).call(this, r("_process"));
    }, { "./end-of-stream": 42, _process: 102 }], 40: [function(r, o, a) {
      function u(S, T) {
        var x = Object.keys(S);
        if (Object.getOwnPropertySymbols) {
          var L = Object.getOwnPropertySymbols(S);
          T && (L = L.filter(function(k) {
            return Object.getOwnPropertyDescriptor(S, k).enumerable;
          })), x.push.apply(x, L);
        }
        return x;
      }
      function c(S) {
        for (var T = 1; T < arguments.length; T++) {
          var x = arguments[T] != null ? arguments[T] : {};
          T % 2 ? u(Object(x), !0).forEach(function(L) {
            f(S, L, x[L]);
          }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(S, Object.getOwnPropertyDescriptors(x)) : u(Object(x)).forEach(function(L) {
            Object.defineProperty(S, L, Object.getOwnPropertyDescriptor(x, L));
          });
        }
        return S;
      }
      function f(S, T, x) {
        return T in S ? Object.defineProperty(S, T, { value: x, enumerable: !0, configurable: !0, writable: !0 }) : S[T] = x, S;
      }
      function d(S, T) {
        if (!(S instanceof T))
          throw new TypeError("Cannot call a class as a function");
      }
      function p(S, T) {
        for (var x = 0; x < T.length; x++) {
          var L = T[x];
          L.enumerable = L.enumerable || !1, L.configurable = !0, "value" in L && (L.writable = !0), Object.defineProperty(S, L.key, L);
        }
      }
      function y(S, T, x) {
        return T && p(S.prototype, T), x && p(S, x), S;
      }
      var v = r("buffer"), g = v.Buffer, _ = r("util"), b = _.inspect, A = b && b.custom || "inspect";
      function w(S, T, x) {
        g.prototype.copy.call(S, T, x);
      }
      o.exports = /* @__PURE__ */ function() {
        function S() {
          d(this, S), this.head = null, this.tail = null, this.length = 0;
        }
        return y(S, [{
          key: "push",
          value: function(x) {
            var L = {
              data: x,
              next: null
            };
            this.length > 0 ? this.tail.next = L : this.head = L, this.tail = L, ++this.length;
          }
        }, {
          key: "unshift",
          value: function(x) {
            var L = {
              data: x,
              next: this.head
            };
            this.length === 0 && (this.tail = L), this.head = L, ++this.length;
          }
        }, {
          key: "shift",
          value: function() {
            if (this.length !== 0) {
              var x = this.head.data;
              return this.length === 1 ? this.head = this.tail = null : this.head = this.head.next, --this.length, x;
            }
          }
        }, {
          key: "clear",
          value: function() {
            this.head = this.tail = null, this.length = 0;
          }
        }, {
          key: "join",
          value: function(x) {
            if (this.length === 0)
              return "";
            for (var L = this.head, k = "" + L.data; L = L.next; )
              k += x + L.data;
            return k;
          }
        }, {
          key: "concat",
          value: function(x) {
            if (this.length === 0)
              return g.alloc(0);
            for (var L = g.allocUnsafe(x >>> 0), k = this.head, M = 0; k; )
              w(k.data, L, M), M += k.data.length, k = k.next;
            return L;
          }
          // Consumes a specified amount of bytes or characters from the buffered data.
        }, {
          key: "consume",
          value: function(x, L) {
            var k;
            return x < this.head.data.length ? (k = this.head.data.slice(0, x), this.head.data = this.head.data.slice(x)) : x === this.head.data.length ? k = this.shift() : k = L ? this._getString(x) : this._getBuffer(x), k;
          }
        }, {
          key: "first",
          value: function() {
            return this.head.data;
          }
          // Consumes a specified amount of characters from the buffered data.
        }, {
          key: "_getString",
          value: function(x) {
            var L = this.head, k = 1, M = L.data;
            for (x -= M.length; L = L.next; ) {
              var O = L.data, ie = x > O.length ? O.length : x;
              if (ie === O.length ? M += O : M += O.slice(0, x), x -= ie, x === 0) {
                ie === O.length ? (++k, L.next ? this.head = L.next : this.head = this.tail = null) : (this.head = L, L.data = O.slice(ie));
                break;
              }
              ++k;
            }
            return this.length -= k, M;
          }
          // Consumes a specified amount of bytes from the buffered data.
        }, {
          key: "_getBuffer",
          value: function(x) {
            var L = g.allocUnsafe(x), k = this.head, M = 1;
            for (k.data.copy(L), x -= k.data.length; k = k.next; ) {
              var O = k.data, ie = x > O.length ? O.length : x;
              if (O.copy(L, L.length - x, 0, ie), x -= ie, x === 0) {
                ie === O.length ? (++M, k.next ? this.head = k.next : this.head = this.tail = null) : (this.head = k, k.data = O.slice(ie));
                break;
              }
              ++M;
            }
            return this.length -= M, L;
          }
          // Make sure the linked list only shows the minimal necessary information.
        }, {
          key: A,
          value: function(x, L) {
            return b(this, c({}, L, {
              // Only inspect one level.
              depth: 0,
              // It should not recurse.
              customInspect: !1
            }));
          }
        }]), S;
      }();
    }, { buffer: 29, util: 26 }], 41: [function(r, o, a) {
      (function(u) {
        (function() {
          function c(g, _) {
            var b = this, A = this._readableState && this._readableState.destroyed, w = this._writableState && this._writableState.destroyed;
            return A || w ? (_ ? _(g) : g && (this._writableState ? this._writableState.errorEmitted || (this._writableState.errorEmitted = !0, u.nextTick(y, this, g)) : u.nextTick(y, this, g)), this) : (this._readableState && (this._readableState.destroyed = !0), this._writableState && (this._writableState.destroyed = !0), this._destroy(g || null, function(S) {
              !_ && S ? b._writableState ? b._writableState.errorEmitted ? u.nextTick(d, b) : (b._writableState.errorEmitted = !0, u.nextTick(f, b, S)) : u.nextTick(f, b, S) : _ ? (u.nextTick(d, b), _(S)) : u.nextTick(d, b);
            }), this);
          }
          function f(g, _) {
            y(g, _), d(g);
          }
          function d(g) {
            g._writableState && !g._writableState.emitClose || g._readableState && !g._readableState.emitClose || g.emit("close");
          }
          function p() {
            this._readableState && (this._readableState.destroyed = !1, this._readableState.reading = !1, this._readableState.ended = !1, this._readableState.endEmitted = !1), this._writableState && (this._writableState.destroyed = !1, this._writableState.ended = !1, this._writableState.ending = !1, this._writableState.finalCalled = !1, this._writableState.prefinished = !1, this._writableState.finished = !1, this._writableState.errorEmitted = !1);
          }
          function y(g, _) {
            g.emit("error", _);
          }
          function v(g, _) {
            var b = g._readableState, A = g._writableState;
            b && b.autoDestroy || A && A.autoDestroy ? g.destroy(_) : g.emit("error", _);
          }
          o.exports = {
            destroy: c,
            undestroy: p,
            errorOrDestroy: v
          };
        }).call(this);
      }).call(this, r("_process"));
    }, { _process: 102 }], 42: [function(r, o, a) {
      var u = r("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;
      function c(y) {
        var v = !1;
        return function() {
          if (!v) {
            v = !0;
            for (var g = arguments.length, _ = new Array(g), b = 0; b < g; b++)
              _[b] = arguments[b];
            y.apply(this, _);
          }
        };
      }
      function f() {
      }
      function d(y) {
        return y.setHeader && typeof y.abort == "function";
      }
      function p(y, v, g) {
        if (typeof v == "function")
          return p(y, null, v);
        v || (v = {}), g = c(g || f);
        var _ = v.readable || v.readable !== !1 && y.readable, b = v.writable || v.writable !== !1 && y.writable, A = function() {
          y.writable || S();
        }, w = y._writableState && y._writableState.finished, S = function() {
          b = !1, w = !0, _ || g.call(y);
        }, T = y._readableState && y._readableState.endEmitted, x = function() {
          _ = !1, T = !0, b || g.call(y);
        }, L = function(ie) {
          g.call(y, ie);
        }, k = function() {
          var ie;
          if (_ && !T)
            return (!y._readableState || !y._readableState.ended) && (ie = new u()), g.call(y, ie);
          if (b && !w)
            return (!y._writableState || !y._writableState.ended) && (ie = new u()), g.call(y, ie);
        }, M = function() {
          y.req.on("finish", S);
        };
        return d(y) ? (y.on("complete", S), y.on("abort", k), y.req ? M() : y.on("request", M)) : b && !y._writableState && (y.on("end", A), y.on("close", A)), y.on("end", x), y.on("finish", S), v.error !== !1 && y.on("error", L), y.on("close", k), function() {
          y.removeListener("complete", S), y.removeListener("abort", k), y.removeListener("request", M), y.req && y.req.removeListener("finish", S), y.removeListener("end", A), y.removeListener("close", A), y.removeListener("finish", S), y.removeListener("end", x), y.removeListener("error", L), y.removeListener("close", k);
        };
      }
      o.exports = p;
    }, { "../../../errors": 33 }], 43: [function(r, o, a) {
      o.exports = function() {
        throw new Error("Readable.from is not available in the browser");
      };
    }, {}], 44: [function(r, o, a) {
      var u;
      function c(S) {
        var T = !1;
        return function() {
          T || (T = !0, S.apply(void 0, arguments));
        };
      }
      var f = r("../../../errors").codes, d = f.ERR_MISSING_ARGS, p = f.ERR_STREAM_DESTROYED;
      function y(S) {
        if (S)
          throw S;
      }
      function v(S) {
        return S.setHeader && typeof S.abort == "function";
      }
      function g(S, T, x, L) {
        L = c(L);
        var k = !1;
        S.on("close", function() {
          k = !0;
        }), u === void 0 && (u = r("./end-of-stream")), u(S, {
          readable: T,
          writable: x
        }, function(O) {
          if (O)
            return L(O);
          k = !0, L();
        });
        var M = !1;
        return function(O) {
          if (!k && !M) {
            if (M = !0, v(S))
              return S.abort();
            if (typeof S.destroy == "function")
              return S.destroy();
            L(O || new p("pipe"));
          }
        };
      }
      function _(S) {
        S();
      }
      function b(S, T) {
        return S.pipe(T);
      }
      function A(S) {
        return !S.length || typeof S[S.length - 1] != "function" ? y : S.pop();
      }
      function w() {
        for (var S = arguments.length, T = new Array(S), x = 0; x < S; x++)
          T[x] = arguments[x];
        var L = A(T);
        if (Array.isArray(T[0]) && (T = T[0]), T.length < 2)
          throw new d("streams");
        var k, M = T.map(function(O, ie) {
          var F = ie < T.length - 1, j = ie > 0;
          return g(O, F, j, function(D) {
            k || (k = D), D && M.forEach(_), !F && (M.forEach(_), L(k));
          });
        });
        return T.reduce(b);
      }
      o.exports = w;
    }, { "../../../errors": 33, "./end-of-stream": 42 }], 45: [function(r, o, a) {
      var u = r("../../../errors").codes.ERR_INVALID_OPT_VALUE;
      function c(d, p, y) {
        return d.highWaterMark != null ? d.highWaterMark : p ? d[y] : null;
      }
      function f(d, p, y, v) {
        var g = c(p, v, y);
        if (g != null) {
          if (!(isFinite(g) && Math.floor(g) === g) || g < 0) {
            var _ = v ? y : "highWaterMark";
            throw new u(_, g);
          }
          return Math.floor(g);
        }
        return d.objectMode ? 16 : 16 * 1024;
      }
      o.exports = {
        getHighWaterMark: f
      };
    }, { "../../../errors": 33 }], 46: [function(r, o, a) {
      o.exports = r("events").EventEmitter;
    }, { events: 49 }], 47: [function(r, o, a) {
      a = o.exports = r("./lib/_stream_readable.js"), a.Stream = a, a.Readable = a, a.Writable = r("./lib/_stream_writable.js"), a.Duplex = r("./lib/_stream_duplex.js"), a.Transform = r("./lib/_stream_transform.js"), a.PassThrough = r("./lib/_stream_passthrough.js"), a.finished = r("./lib/internal/streams/end-of-stream.js"), a.pipeline = r("./lib/internal/streams/pipeline.js");
    }, { "./lib/_stream_duplex.js": 34, "./lib/_stream_passthrough.js": 35, "./lib/_stream_readable.js": 36, "./lib/_stream_transform.js": 37, "./lib/_stream_writable.js": 38, "./lib/internal/streams/end-of-stream.js": 42, "./lib/internal/streams/pipeline.js": 44 }], 48: [function(r, o, a) {
      (function(u) {
        (function() {
          var c = r("once"), f = function() {
          }, d = function(v) {
            return v.setHeader && typeof v.abort == "function";
          }, p = function(v) {
            return v.stdio && Array.isArray(v.stdio) && v.stdio.length === 3;
          }, y = function(v, g, _) {
            if (typeof g == "function")
              return y(v, null, g);
            g || (g = {}), _ = c(_ || f);
            var b = v._writableState, A = v._readableState, w = g.readable || g.readable !== !1 && v.readable, S = g.writable || g.writable !== !1 && v.writable, T = !1, x = function() {
              v.writable || L();
            }, L = function() {
              S = !1, w || _.call(v);
            }, k = function() {
              w = !1, S || _.call(v);
            }, M = function(D) {
              _.call(v, D ? new Error("exited with error code: " + D) : null);
            }, O = function(D) {
              _.call(v, D);
            }, ie = function() {
              u.nextTick(F);
            }, F = function() {
              if (!T) {
                if (w && !(A && A.ended && !A.destroyed))
                  return _.call(v, new Error("premature close"));
                if (S && !(b && b.ended && !b.destroyed))
                  return _.call(v, new Error("premature close"));
              }
            }, j = function() {
              v.req.on("finish", L);
            };
            return d(v) ? (v.on("complete", L), v.on("abort", ie), v.req ? j() : v.on("request", j)) : S && !b && (v.on("end", x), v.on("close", x)), p(v) && v.on("exit", M), v.on("end", k), v.on("finish", L), g.error !== !1 && v.on("error", O), v.on("close", ie), function() {
              T = !0, v.removeListener("complete", L), v.removeListener("abort", ie), v.removeListener("request", j), v.req && v.req.removeListener("finish", L), v.removeListener("end", x), v.removeListener("close", x), v.removeListener("finish", L), v.removeListener("exit", M), v.removeListener("end", k), v.removeListener("error", O), v.removeListener("close", ie);
            };
          };
          o.exports = y;
        }).call(this);
      }).call(this, r("_process"));
    }, { _process: 102, once: 100 }], 49: [function(r, o, a) {
      var u = typeof Reflect == "object" ? Reflect : null, c = u && typeof u.apply == "function" ? u.apply : function(j, D, Y) {
        return Function.prototype.apply.call(j, D, Y);
      }, f;
      u && typeof u.ownKeys == "function" ? f = u.ownKeys : Object.getOwnPropertySymbols ? f = function(j) {
        return Object.getOwnPropertyNames(j).concat(Object.getOwnPropertySymbols(j));
      } : f = function(j) {
        return Object.getOwnPropertyNames(j);
      };
      function d(F) {
        console && console.warn && console.warn(F);
      }
      var p = Number.isNaN || function(j) {
        return j !== j;
      };
      function y() {
        y.init.call(this);
      }
      o.exports = y, o.exports.once = M, y.EventEmitter = y, y.prototype._events = void 0, y.prototype._eventsCount = 0, y.prototype._maxListeners = void 0;
      var v = 10;
      function g(F) {
        if (typeof F != "function")
          throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof F);
      }
      Object.defineProperty(y, "defaultMaxListeners", {
        enumerable: !0,
        get: function() {
          return v;
        },
        set: function(F) {
          if (typeof F != "number" || F < 0 || p(F))
            throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received ' + F + ".");
          v = F;
        }
      }), y.init = function() {
        (this._events === void 0 || this._events === Object.getPrototypeOf(this)._events) && (this._events = /* @__PURE__ */ Object.create(null), this._eventsCount = 0), this._maxListeners = this._maxListeners || void 0;
      }, y.prototype.setMaxListeners = function(j) {
        if (typeof j != "number" || j < 0 || p(j))
          throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received ' + j + ".");
        return this._maxListeners = j, this;
      };
      function _(F) {
        return F._maxListeners === void 0 ? y.defaultMaxListeners : F._maxListeners;
      }
      y.prototype.getMaxListeners = function() {
        return _(this);
      }, y.prototype.emit = function(j) {
        for (var D = [], Y = 1; Y < arguments.length; Y++)
          D.push(arguments[Y]);
        var z = j === "error", Ie = this._events;
        if (Ie !== void 0)
          z = z && Ie.error === void 0;
        else if (!z)
          return !1;
        if (z) {
          var ue;
          if (D.length > 0 && (ue = D[0]), ue instanceof Error)
            throw ue;
          var Ce = new Error("Unhandled error." + (ue ? " (" + ue.message + ")" : ""));
          throw Ce.context = ue, Ce;
        }
        var pe = Ie[j];
        if (pe === void 0)
          return !1;
        if (typeof pe == "function")
          c(pe, this, D);
        else
          for (var Ne = pe.length, xe = x(pe, Ne), Y = 0; Y < Ne; ++Y)
            c(xe[Y], this, D);
        return !0;
      };
      function b(F, j, D, Y) {
        var z, Ie, ue;
        if (g(D), Ie = F._events, Ie === void 0 ? (Ie = F._events = /* @__PURE__ */ Object.create(null), F._eventsCount = 0) : (Ie.newListener !== void 0 && (F.emit(
          "newListener",
          j,
          D.listener ? D.listener : D
        ), Ie = F._events), ue = Ie[j]), ue === void 0)
          ue = Ie[j] = D, ++F._eventsCount;
        else if (typeof ue == "function" ? ue = Ie[j] = Y ? [D, ue] : [ue, D] : Y ? ue.unshift(D) : ue.push(D), z = _(F), z > 0 && ue.length > z && !ue.warned) {
          ue.warned = !0;
          var Ce = new Error("Possible EventEmitter memory leak detected. " + ue.length + " " + String(j) + " listeners added. Use emitter.setMaxListeners() to increase limit");
          Ce.name = "MaxListenersExceededWarning", Ce.emitter = F, Ce.type = j, Ce.count = ue.length, d(Ce);
        }
        return F;
      }
      y.prototype.addListener = function(j, D) {
        return b(this, j, D, !1);
      }, y.prototype.on = y.prototype.addListener, y.prototype.prependListener = function(j, D) {
        return b(this, j, D, !0);
      };
      function A() {
        if (!this.fired)
          return this.target.removeListener(this.type, this.wrapFn), this.fired = !0, arguments.length === 0 ? this.listener.call(this.target) : this.listener.apply(this.target, arguments);
      }
      function w(F, j, D) {
        var Y = { fired: !1, wrapFn: void 0, target: F, type: j, listener: D }, z = A.bind(Y);
        return z.listener = D, Y.wrapFn = z, z;
      }
      y.prototype.once = function(j, D) {
        return g(D), this.on(j, w(this, j, D)), this;
      }, y.prototype.prependOnceListener = function(j, D) {
        return g(D), this.prependListener(j, w(this, j, D)), this;
      }, y.prototype.removeListener = function(j, D) {
        var Y, z, Ie, ue, Ce;
        if (g(D), z = this._events, z === void 0)
          return this;
        if (Y = z[j], Y === void 0)
          return this;
        if (Y === D || Y.listener === D)
          --this._eventsCount === 0 ? this._events = /* @__PURE__ */ Object.create(null) : (delete z[j], z.removeListener && this.emit("removeListener", j, Y.listener || D));
        else if (typeof Y != "function") {
          for (Ie = -1, ue = Y.length - 1; ue >= 0; ue--)
            if (Y[ue] === D || Y[ue].listener === D) {
              Ce = Y[ue].listener, Ie = ue;
              break;
            }
          if (Ie < 0)
            return this;
          Ie === 0 ? Y.shift() : L(Y, Ie), Y.length === 1 && (z[j] = Y[0]), z.removeListener !== void 0 && this.emit("removeListener", j, Ce || D);
        }
        return this;
      }, y.prototype.off = y.prototype.removeListener, y.prototype.removeAllListeners = function(j) {
        var D, Y, z;
        if (Y = this._events, Y === void 0)
          return this;
        if (Y.removeListener === void 0)
          return arguments.length === 0 ? (this._events = /* @__PURE__ */ Object.create(null), this._eventsCount = 0) : Y[j] !== void 0 && (--this._eventsCount === 0 ? this._events = /* @__PURE__ */ Object.create(null) : delete Y[j]), this;
        if (arguments.length === 0) {
          var Ie = Object.keys(Y), ue;
          for (z = 0; z < Ie.length; ++z)
            ue = Ie[z], ue !== "removeListener" && this.removeAllListeners(ue);
          return this.removeAllListeners("removeListener"), this._events = /* @__PURE__ */ Object.create(null), this._eventsCount = 0, this;
        }
        if (D = Y[j], typeof D == "function")
          this.removeListener(j, D);
        else if (D !== void 0)
          for (z = D.length - 1; z >= 0; z--)
            this.removeListener(j, D[z]);
        return this;
      };
      function S(F, j, D) {
        var Y = F._events;
        if (Y === void 0)
          return [];
        var z = Y[j];
        return z === void 0 ? [] : typeof z == "function" ? D ? [z.listener || z] : [z] : D ? k(z) : x(z, z.length);
      }
      y.prototype.listeners = function(j) {
        return S(this, j, !0);
      }, y.prototype.rawListeners = function(j) {
        return S(this, j, !1);
      }, y.listenerCount = function(F, j) {
        return typeof F.listenerCount == "function" ? F.listenerCount(j) : T.call(F, j);
      }, y.prototype.listenerCount = T;
      function T(F) {
        var j = this._events;
        if (j !== void 0) {
          var D = j[F];
          if (typeof D == "function")
            return 1;
          if (D !== void 0)
            return D.length;
        }
        return 0;
      }
      y.prototype.eventNames = function() {
        return this._eventsCount > 0 ? f(this._events) : [];
      };
      function x(F, j) {
        for (var D = new Array(j), Y = 0; Y < j; ++Y)
          D[Y] = F[Y];
        return D;
      }
      function L(F, j) {
        for (; j + 1 < F.length; j++)
          F[j] = F[j + 1];
        F.pop();
      }
      function k(F) {
        for (var j = new Array(F.length), D = 0; D < j.length; ++D)
          j[D] = F[D].listener || F[D];
        return j;
      }
      function M(F, j) {
        return new Promise(function(D, Y) {
          function z(ue) {
            F.removeListener(j, Ie), Y(ue);
          }
          function Ie() {
            typeof F.removeListener == "function" && F.removeListener("error", z), D([].slice.call(arguments));
          }
          ie(F, j, Ie, { once: !0 }), j !== "error" && O(F, z, { once: !0 });
        });
      }
      function O(F, j, D) {
        typeof F.on == "function" && ie(F, "error", j, D);
      }
      function ie(F, j, D, Y) {
        if (typeof F.on == "function")
          Y.once ? F.once(j, D) : F.on(j, D);
        else if (typeof F.addEventListener == "function")
          F.addEventListener(j, function z(Ie) {
            Y.once && F.removeEventListener(j, z), D(Ie);
          });
        else
          throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type ' + typeof F);
      }
    }, {}], 50: [function(r, o, a) {
      /*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
      a.read = function(u, c, f, d, p) {
        var y, v, g = p * 8 - d - 1, _ = (1 << g) - 1, b = _ >> 1, A = -7, w = f ? p - 1 : 0, S = f ? -1 : 1, T = u[c + w];
        for (w += S, y = T & (1 << -A) - 1, T >>= -A, A += g; A > 0; y = y * 256 + u[c + w], w += S, A -= 8)
          ;
        for (v = y & (1 << -A) - 1, y >>= -A, A += d; A > 0; v = v * 256 + u[c + w], w += S, A -= 8)
          ;
        if (y === 0)
          y = 1 - b;
        else {
          if (y === _)
            return v ? NaN : (T ? -1 : 1) * (1 / 0);
          v = v + Math.pow(2, d), y = y - b;
        }
        return (T ? -1 : 1) * v * Math.pow(2, y - d);
      }, a.write = function(u, c, f, d, p, y) {
        var v, g, _, b = y * 8 - p - 1, A = (1 << b) - 1, w = A >> 1, S = p === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0, T = d ? 0 : y - 1, x = d ? 1 : -1, L = c < 0 || c === 0 && 1 / c < 0 ? 1 : 0;
        for (c = Math.abs(c), isNaN(c) || c === 1 / 0 ? (g = isNaN(c) ? 1 : 0, v = A) : (v = Math.floor(Math.log(c) / Math.LN2), c * (_ = Math.pow(2, -v)) < 1 && (v--, _ *= 2), v + w >= 1 ? c += S / _ : c += S * Math.pow(2, 1 - w), c * _ >= 2 && (v++, _ /= 2), v + w >= A ? (g = 0, v = A) : v + w >= 1 ? (g = (c * _ - 1) * Math.pow(2, p), v = v + w) : (g = c * Math.pow(2, w - 1) * Math.pow(2, p), v = 0)); p >= 8; u[f + T] = g & 255, T += x, g /= 256, p -= 8)
          ;
        for (v = v << p | g, b += p; b > 0; u[f + T] = v & 255, T += x, v /= 256, b -= 8)
          ;
        u[f + T - x] |= L * 128;
      };
    }, {}], 51: [function(r, o, a) {
      typeof Object.create == "function" ? o.exports = function(c, f) {
        f && (c.super_ = f, c.prototype = Object.create(f.prototype, {
          constructor: {
            value: c,
            enumerable: !1,
            writable: !0,
            configurable: !0
          }
        }));
      } : o.exports = function(c, f) {
        if (f) {
          c.super_ = f;
          var d = function() {
          };
          d.prototype = f.prototype, c.prototype = new d(), c.prototype.constructor = c;
        }
      };
    }, {}], 52: [function(r, o, a) {
      Object.defineProperty(a, "t", {
        value: !0
      }), a.ContainerIterator = a.Container = a.Base = void 0;
      class u {
        constructor(p = 0) {
          this.iteratorType = p;
        }
        equals(p) {
          return this.o === p.o;
        }
      }
      a.ContainerIterator = u;
      class c {
        constructor() {
          this.i = 0;
        }
        get length() {
          return this.i;
        }
        size() {
          return this.i;
        }
        empty() {
          return this.i === 0;
        }
      }
      a.Base = c;
      class f extends c {
      }
      a.Container = f;
    }, {}], 53: [function(r, o, a) {
      Object.defineProperty(a, "t", {
        value: !0
      }), a.HashContainerIterator = a.HashContainer = void 0;
      var u = r("../../ContainerBase"), c = d(r("../../../utils/checkObject")), f = r("../../../utils/throwError");
      function d(v) {
        return v && v.t ? v : {
          default: v
        };
      }
      class p extends u.ContainerIterator {
        constructor(g, _, b) {
          super(b), this.o = g, this.h = _, this.iteratorType === 0 ? (this.pre = function() {
            return this.o.L === this.h && (0, f.throwIteratorAccessError)(), this.o = this.o.L, this;
          }, this.next = function() {
            return this.o === this.h && (0, f.throwIteratorAccessError)(), this.o = this.o.B, this;
          }) : (this.pre = function() {
            return this.o.B === this.h && (0, f.throwIteratorAccessError)(), this.o = this.o.B, this;
          }, this.next = function() {
            return this.o === this.h && (0, f.throwIteratorAccessError)(), this.o = this.o.L, this;
          });
        }
      }
      a.HashContainerIterator = p;
      class y extends u.Container {
        constructor() {
          super(), this.H = [], this.g = {}, this.HASH_TAG = Symbol("@@HASH_TAG"), Object.setPrototypeOf(this.g, null), this.h = {}, this.h.L = this.h.B = this.p = this._ = this.h;
        }
        V(g) {
          const { L: _, B: b } = g;
          _.B = b, b.L = _, g === this.p && (this.p = b), g === this._ && (this._ = _), this.i -= 1;
        }
        M(g, _, b) {
          b === void 0 && (b = (0, c.default)(g));
          let A;
          if (b) {
            const w = g[this.HASH_TAG];
            if (w !== void 0)
              return this.H[w].l = _, this.i;
            Object.defineProperty(g, this.HASH_TAG, {
              value: this.H.length,
              configurable: !0
            }), A = {
              u: g,
              l: _,
              L: this._,
              B: this.h
            }, this.H.push(A);
          } else {
            const w = this.g[g];
            if (w)
              return w.l = _, this.i;
            A = {
              u: g,
              l: _,
              L: this._,
              B: this.h
            }, this.g[g] = A;
          }
          return this.i === 0 ? (this.p = A, this.h.B = A) : this._.B = A, this._ = A, this.h.L = A, ++this.i;
        }
        I(g, _) {
          if (_ === void 0 && (_ = (0, c.default)(g)), _) {
            const b = g[this.HASH_TAG];
            return b === void 0 ? this.h : this.H[b];
          } else
            return this.g[g] || this.h;
        }
        clear() {
          const g = this.HASH_TAG;
          this.H.forEach(function(_) {
            delete _.u[g];
          }), this.H = [], this.g = {}, Object.setPrototypeOf(this.g, null), this.i = 0, this.p = this._ = this.h.L = this.h.B = this.h;
        }
        eraseElementByKey(g, _) {
          let b;
          if (_ === void 0 && (_ = (0, c.default)(g)), _) {
            const A = g[this.HASH_TAG];
            if (A === void 0)
              return !1;
            delete g[this.HASH_TAG], b = this.H[A], delete this.H[A];
          } else {
            if (b = this.g[g], b === void 0)
              return !1;
            delete this.g[g];
          }
          return this.V(b), !0;
        }
        eraseElementByIterator(g) {
          const _ = g.o;
          return _ === this.h && (0, f.throwIteratorAccessError)(), this.V(_), g.next();
        }
        eraseElementByPos(g) {
          if (g < 0 || g > this.i - 1)
            throw new RangeError();
          let _ = this.p;
          for (; g--; )
            _ = _.B;
          return this.V(_), this.i;
        }
      }
      a.HashContainer = y;
    }, { "../../../utils/checkObject": 70, "../../../utils/throwError": 71, "../../ContainerBase": 52 }], 54: [function(r, o, a) {
      Object.defineProperty(a, "t", {
        value: !0
      }), a.default = void 0;
      var u = r("./Base"), c = d(r("../../utils/checkObject")), f = r("../../utils/throwError");
      function d(g) {
        return g && g.t ? g : {
          default: g
        };
      }
      class p extends u.HashContainerIterator {
        constructor(_, b, A, w) {
          super(_, b, w), this.container = A;
        }
        get pointer() {
          this.o === this.h && (0, f.throwIteratorAccessError)();
          const _ = this;
          return new Proxy([], {
            get(b, A) {
              if (A === "0")
                return _.o.u;
              if (A === "1")
                return _.o.l;
            },
            set(b, A, w) {
              if (A !== "1")
                throw new TypeError("props must be 1");
              return _.o.l = w, !0;
            }
          });
        }
        copy() {
          return new p(this.o, this.h, this.container, this.iteratorType);
        }
      }
      class y extends u.HashContainer {
        constructor(_ = []) {
          super();
          const b = this;
          _.forEach(function(A) {
            b.setElement(A[0], A[1]);
          });
        }
        begin() {
          return new p(this.p, this.h, this);
        }
        end() {
          return new p(this.h, this.h, this);
        }
        rBegin() {
          return new p(this._, this.h, this, 1);
        }
        rEnd() {
          return new p(this.h, this.h, this, 1);
        }
        front() {
          if (this.i !== 0)
            return [this.p.u, this.p.l];
        }
        back() {
          if (this.i !== 0)
            return [this._.u, this._.l];
        }
        setElement(_, b, A) {
          return this.M(_, b, A);
        }
        getElementByKey(_, b) {
          if (b === void 0 && (b = (0, c.default)(_)), b) {
            const w = _[this.HASH_TAG];
            return w !== void 0 ? this.H[w].l : void 0;
          }
          const A = this.g[_];
          return A ? A.l : void 0;
        }
        getElementByPos(_) {
          if (_ < 0 || _ > this.i - 1)
            throw new RangeError();
          let b = this.p;
          for (; _--; )
            b = b.B;
          return [b.u, b.l];
        }
        find(_, b) {
          const A = this.I(_, b);
          return new p(A, this.h, this);
        }
        forEach(_) {
          let b = 0, A = this.p;
          for (; A !== this.h; )
            _([A.u, A.l], b++, this), A = A.B;
        }
        [Symbol.iterator]() {
          return function* () {
            let _ = this.p;
            for (; _ !== this.h; )
              yield [_.u, _.l], _ = _.B;
          }.bind(this)();
        }
      }
      var v = y;
      a.default = v;
    }, { "../../utils/checkObject": 70, "../../utils/throwError": 71, "./Base": 53 }], 55: [function(r, o, a) {
      Object.defineProperty(a, "t", {
        value: !0
      }), a.default = void 0;
      var u = r("./Base"), c = r("../../utils/throwError");
      class f extends u.HashContainerIterator {
        constructor(v, g, _, b) {
          super(v, g, b), this.container = _;
        }
        get pointer() {
          return this.o === this.h && (0, c.throwIteratorAccessError)(), this.o.u;
        }
        copy() {
          return new f(this.o, this.h, this.container, this.iteratorType);
        }
      }
      class d extends u.HashContainer {
        constructor(v = []) {
          super();
          const g = this;
          v.forEach(function(_) {
            g.insert(_);
          });
        }
        begin() {
          return new f(this.p, this.h, this);
        }
        end() {
          return new f(this.h, this.h, this);
        }
        rBegin() {
          return new f(this._, this.h, this, 1);
        }
        rEnd() {
          return new f(this.h, this.h, this, 1);
        }
        front() {
          return this.p.u;
        }
        back() {
          return this._.u;
        }
        insert(v, g) {
          return this.M(v, void 0, g);
        }
        getElementByPos(v) {
          if (v < 0 || v > this.i - 1)
            throw new RangeError();
          let g = this.p;
          for (; v--; )
            g = g.B;
          return g.u;
        }
        find(v, g) {
          const _ = this.I(v, g);
          return new f(_, this.h, this);
        }
        forEach(v) {
          let g = 0, _ = this.p;
          for (; _ !== this.h; )
            v(_.u, g++, this), _ = _.B;
        }
        [Symbol.iterator]() {
          return function* () {
            let v = this.p;
            for (; v !== this.h; )
              yield v.u, v = v.B;
          }.bind(this)();
        }
      }
      var p = d;
      a.default = p;
    }, { "../../utils/throwError": 71, "./Base": 53 }], 56: [function(r, o, a) {
      Object.defineProperty(a, "t", {
        value: !0
      }), a.default = void 0;
      var u = r("../ContainerBase");
      class c extends u.Base {
        constructor(p = [], y = function(g, _) {
          return g > _ ? -1 : g < _ ? 1 : 0;
        }, v = !0) {
          if (super(), this.v = y, Array.isArray(p))
            this.C = v ? [...p] : p;
          else {
            this.C = [];
            const _ = this;
            p.forEach(function(b) {
              _.C.push(b);
            });
          }
          this.i = this.C.length;
          const g = this.i >> 1;
          for (let _ = this.i - 1 >> 1; _ >= 0; --_)
            this.k(_, g);
        }
        m(p) {
          const y = this.C[p];
          for (; p > 0; ) {
            const v = p - 1 >> 1, g = this.C[v];
            if (this.v(g, y) <= 0)
              break;
            this.C[p] = g, p = v;
          }
          this.C[p] = y;
        }
        k(p, y) {
          const v = this.C[p];
          for (; p < y; ) {
            let g = p << 1 | 1;
            const _ = g + 1;
            let b = this.C[g];
            if (_ < this.i && this.v(b, this.C[_]) > 0 && (g = _, b = this.C[_]), this.v(b, v) >= 0)
              break;
            this.C[p] = b, p = g;
          }
          this.C[p] = v;
        }
        clear() {
          this.i = 0, this.C.length = 0;
        }
        push(p) {
          this.C.push(p), this.m(this.i), this.i += 1;
        }
        pop() {
          if (this.i === 0)
            return;
          const p = this.C[0], y = this.C.pop();
          return this.i -= 1, this.i && (this.C[0] = y, this.k(0, this.i >> 1)), p;
        }
        top() {
          return this.C[0];
        }
        find(p) {
          return this.C.indexOf(p) >= 0;
        }
        remove(p) {
          const y = this.C.indexOf(p);
          return y < 0 ? !1 : (y === 0 ? this.pop() : y === this.i - 1 ? (this.C.pop(), this.i -= 1) : (this.C.splice(y, 1, this.C.pop()), this.i -= 1, this.m(y), this.k(y, this.i >> 1)), !0);
        }
        updateItem(p) {
          const y = this.C.indexOf(p);
          return y < 0 ? !1 : (this.m(y), this.k(y, this.i >> 1), !0);
        }
        toArray() {
          return [...this.C];
        }
      }
      var f = c;
      a.default = f;
    }, { "../ContainerBase": 52 }], 57: [function(r, o, a) {
      Object.defineProperty(a, "t", {
        value: !0
      }), a.default = void 0;
      var u = r("../ContainerBase");
      class c extends u.Base {
        constructor(p = []) {
          super(), this.j = 0, this.q = [];
          const y = this;
          p.forEach(function(v) {
            y.push(v);
          });
        }
        clear() {
          this.q = [], this.i = this.j = 0;
        }
        push(p) {
          const y = this.q.length;
          if (this.j / y > 0.5 && this.j + this.i >= y && y > 4096) {
            const v = this.i;
            for (let g = 0; g < v; ++g)
              this.q[g] = this.q[this.j + g];
            this.j = 0, this.q[this.i] = p;
          } else
            this.q[this.j + this.i] = p;
          return ++this.i;
        }
        pop() {
          if (this.i === 0)
            return;
          const p = this.q[this.j++];
          return this.i -= 1, p;
        }
        front() {
          if (this.i !== 0)
            return this.q[this.j];
        }
      }
      var f = c;
      a.default = f;
    }, { "../ContainerBase": 52 }], 58: [function(r, o, a) {
      Object.defineProperty(a, "t", {
        value: !0
      }), a.default = void 0;
      var u = r("../ContainerBase");
      class c extends u.Base {
        constructor(p = []) {
          super(), this.S = [];
          const y = this;
          p.forEach(function(v) {
            y.push(v);
          });
        }
        clear() {
          this.i = 0, this.S = [];
        }
        push(p) {
          return this.S.push(p), this.i += 1, this.i;
        }
        pop() {
          if (this.i !== 0)
            return this.i -= 1, this.S.pop();
        }
        top() {
          return this.S[this.i - 1];
        }
      }
      var f = c;
      a.default = f;
    }, { "../ContainerBase": 52 }], 59: [function(r, o, a) {
      Object.defineProperty(a, "t", {
        value: !0
      }), a.RandomIterator = void 0;
      var u = r("../../ContainerBase"), c = r("../../../utils/throwError");
      class f extends u.ContainerIterator {
        constructor(p, y) {
          super(y), this.o = p, this.iteratorType === 0 ? (this.pre = function() {
            return this.o === 0 && (0, c.throwIteratorAccessError)(), this.o -= 1, this;
          }, this.next = function() {
            return this.o === this.container.size() && (0, c.throwIteratorAccessError)(), this.o += 1, this;
          }) : (this.pre = function() {
            return this.o === this.container.size() - 1 && (0, c.throwIteratorAccessError)(), this.o += 1, this;
          }, this.next = function() {
            return this.o === -1 && (0, c.throwIteratorAccessError)(), this.o -= 1, this;
          });
        }
        get pointer() {
          return this.container.getElementByPos(this.o);
        }
        set pointer(p) {
          this.container.setElementByPos(this.o, p);
        }
      }
      a.RandomIterator = f;
    }, { "../../../utils/throwError": 71, "../../ContainerBase": 52 }], 60: [function(r, o, a) {
      Object.defineProperty(a, "t", {
        value: !0
      }), a.default = void 0;
      var u = r("../../ContainerBase");
      class c extends u.Container {
      }
      var f = c;
      a.default = f;
    }, { "../../ContainerBase": 52 }], 61: [function(r, o, a) {
      Object.defineProperty(a, "t", {
        value: !0
      }), a.default = void 0;
      var u = f(r("./Base")), c = r("./Base/RandomIterator");
      function f(v) {
        return v && v.t ? v : {
          default: v
        };
      }
      class d extends c.RandomIterator {
        constructor(g, _, b) {
          super(g, b), this.container = _;
        }
        copy() {
          return new d(this.o, this.container, this.iteratorType);
        }
      }
      class p extends u.default {
        constructor(g = [], _ = 4096) {
          super(), this.j = 0, this.D = 0, this.R = 0, this.N = 0, this.P = 0, this.A = [];
          const b = (() => {
            if (typeof g.length == "number")
              return g.length;
            if (typeof g.size == "number")
              return g.size;
            if (typeof g.size == "function")
              return g.size();
            throw new TypeError("Cannot get the length or size of the container");
          })();
          this.F = _, this.P = Math.max(Math.ceil(b / this.F), 1);
          for (let S = 0; S < this.P; ++S)
            this.A.push(new Array(this.F));
          const A = Math.ceil(b / this.F);
          this.j = this.R = (this.P >> 1) - (A >> 1), this.D = this.N = this.F - b % this.F >> 1;
          const w = this;
          g.forEach(function(S) {
            w.pushBack(S);
          });
        }
        T() {
          const g = [], _ = Math.max(this.P >> 1, 1);
          for (let b = 0; b < _; ++b)
            g[b] = new Array(this.F);
          for (let b = this.j; b < this.P; ++b)
            g[g.length] = this.A[b];
          for (let b = 0; b < this.R; ++b)
            g[g.length] = this.A[b];
          g[g.length] = [...this.A[this.R]], this.j = _, this.R = g.length - 1;
          for (let b = 0; b < _; ++b)
            g[g.length] = new Array(this.F);
          this.A = g, this.P = g.length;
        }
        O(g) {
          const _ = this.D + g + 1, b = _ % this.F;
          let A = b - 1, w = this.j + (_ - b) / this.F;
          return b === 0 && (w -= 1), w %= this.P, A < 0 && (A += this.F), {
            curNodeBucketIndex: w,
            curNodePointerIndex: A
          };
        }
        clear() {
          this.A = [new Array(this.F)], this.P = 1, this.j = this.R = this.i = 0, this.D = this.N = this.F >> 1;
        }
        begin() {
          return new d(0, this);
        }
        end() {
          return new d(this.i, this);
        }
        rBegin() {
          return new d(this.i - 1, this, 1);
        }
        rEnd() {
          return new d(-1, this, 1);
        }
        front() {
          if (this.i !== 0)
            return this.A[this.j][this.D];
        }
        back() {
          if (this.i !== 0)
            return this.A[this.R][this.N];
        }
        pushBack(g) {
          return this.i && (this.N < this.F - 1 ? this.N += 1 : this.R < this.P - 1 ? (this.R += 1, this.N = 0) : (this.R = 0, this.N = 0), this.R === this.j && this.N === this.D && this.T()), this.i += 1, this.A[this.R][this.N] = g, this.i;
        }
        popBack() {
          if (this.i === 0)
            return;
          const g = this.A[this.R][this.N];
          return this.i !== 1 && (this.N > 0 ? this.N -= 1 : this.R > 0 ? (this.R -= 1, this.N = this.F - 1) : (this.R = this.P - 1, this.N = this.F - 1)), this.i -= 1, g;
        }
        pushFront(g) {
          return this.i && (this.D > 0 ? this.D -= 1 : this.j > 0 ? (this.j -= 1, this.D = this.F - 1) : (this.j = this.P - 1, this.D = this.F - 1), this.j === this.R && this.D === this.N && this.T()), this.i += 1, this.A[this.j][this.D] = g, this.i;
        }
        popFront() {
          if (this.i === 0)
            return;
          const g = this.A[this.j][this.D];
          return this.i !== 1 && (this.D < this.F - 1 ? this.D += 1 : this.j < this.P - 1 ? (this.j += 1, this.D = 0) : (this.j = 0, this.D = 0)), this.i -= 1, g;
        }
        getElementByPos(g) {
          if (g < 0 || g > this.i - 1)
            throw new RangeError();
          const { curNodeBucketIndex: _, curNodePointerIndex: b } = this.O(g);
          return this.A[_][b];
        }
        setElementByPos(g, _) {
          if (g < 0 || g > this.i - 1)
            throw new RangeError();
          const { curNodeBucketIndex: b, curNodePointerIndex: A } = this.O(g);
          this.A[b][A] = _;
        }
        insert(g, _, b = 1) {
          if (g < 0 || g > this.i)
            throw new RangeError();
          if (g === 0)
            for (; b--; )
              this.pushFront(_);
          else if (g === this.i)
            for (; b--; )
              this.pushBack(_);
          else {
            const A = [];
            for (let w = g; w < this.i; ++w)
              A.push(this.getElementByPos(w));
            this.cut(g - 1);
            for (let w = 0; w < b; ++w)
              this.pushBack(_);
            for (let w = 0; w < A.length; ++w)
              this.pushBack(A[w]);
          }
          return this.i;
        }
        cut(g) {
          if (g < 0)
            return this.clear(), 0;
          const { curNodeBucketIndex: _, curNodePointerIndex: b } = this.O(g);
          return this.R = _, this.N = b, this.i = g + 1, this.i;
        }
        eraseElementByPos(g) {
          if (g < 0 || g > this.i - 1)
            throw new RangeError();
          if (g === 0)
            this.popFront();
          else if (g === this.i - 1)
            this.popBack();
          else {
            const _ = [];
            for (let A = g + 1; A < this.i; ++A)
              _.push(this.getElementByPos(A));
            this.cut(g), this.popBack();
            const b = this;
            _.forEach(function(A) {
              b.pushBack(A);
            });
          }
          return this.i;
        }
        eraseElementByValue(g) {
          if (this.i === 0)
            return 0;
          const _ = [];
          for (let A = 0; A < this.i; ++A) {
            const w = this.getElementByPos(A);
            w !== g && _.push(w);
          }
          const b = _.length;
          for (let A = 0; A < b; ++A)
            this.setElementByPos(A, _[A]);
          return this.cut(b - 1);
        }
        eraseElementByIterator(g) {
          const _ = g.o;
          return this.eraseElementByPos(_), g = g.next(), g;
        }
        find(g) {
          for (let _ = 0; _ < this.i; ++_)
            if (this.getElementByPos(_) === g)
              return new d(_, this);
          return this.end();
        }
        reverse() {
          let g = 0, _ = this.i - 1;
          for (; g < _; ) {
            const b = this.getElementByPos(g);
            this.setElementByPos(g, this.getElementByPos(_)), this.setElementByPos(_, b), g += 1, _ -= 1;
          }
        }
        unique() {
          if (this.i <= 1)
            return this.i;
          let g = 1, _ = this.getElementByPos(0);
          for (let b = 1; b < this.i; ++b) {
            const A = this.getElementByPos(b);
            A !== _ && (_ = A, this.setElementByPos(g++, A));
          }
          for (; this.i > g; )
            this.popBack();
          return this.i;
        }
        sort(g) {
          const _ = [];
          for (let b = 0; b < this.i; ++b)
            _.push(this.getElementByPos(b));
          _.sort(g);
          for (let b = 0; b < this.i; ++b)
            this.setElementByPos(b, _[b]);
        }
        shrinkToFit() {
          if (this.i === 0)
            return;
          const g = [];
          this.forEach(function(_) {
            g.push(_);
          }), this.P = Math.max(Math.ceil(this.i / this.F), 1), this.i = this.j = this.R = this.D = this.N = 0, this.A = [];
          for (let _ = 0; _ < this.P; ++_)
            this.A.push(new Array(this.F));
          for (let _ = 0; _ < g.length; ++_)
            this.pushBack(g[_]);
        }
        forEach(g) {
          for (let _ = 0; _ < this.i; ++_)
            g(this.getElementByPos(_), _, this);
        }
        [Symbol.iterator]() {
          return function* () {
            for (let g = 0; g < this.i; ++g)
              yield this.getElementByPos(g);
          }.bind(this)();
        }
      }
      var y = p;
      a.default = y;
    }, { "./Base": 60, "./Base/RandomIterator": 59 }], 62: [function(r, o, a) {
      Object.defineProperty(a, "t", {
        value: !0
      }), a.default = void 0;
      var u = d(r("./Base")), c = r("../ContainerBase"), f = r("../../utils/throwError");
      function d(g) {
        return g && g.t ? g : {
          default: g
        };
      }
      class p extends c.ContainerIterator {
        constructor(_, b, A, w) {
          super(w), this.o = _, this.h = b, this.container = A, this.iteratorType === 0 ? (this.pre = function() {
            return this.o.L === this.h && (0, f.throwIteratorAccessError)(), this.o = this.o.L, this;
          }, this.next = function() {
            return this.o === this.h && (0, f.throwIteratorAccessError)(), this.o = this.o.B, this;
          }) : (this.pre = function() {
            return this.o.B === this.h && (0, f.throwIteratorAccessError)(), this.o = this.o.B, this;
          }, this.next = function() {
            return this.o === this.h && (0, f.throwIteratorAccessError)(), this.o = this.o.L, this;
          });
        }
        get pointer() {
          return this.o === this.h && (0, f.throwIteratorAccessError)(), this.o.l;
        }
        set pointer(_) {
          this.o === this.h && (0, f.throwIteratorAccessError)(), this.o.l = _;
        }
        copy() {
          return new p(this.o, this.h, this.container, this.iteratorType);
        }
      }
      class y extends u.default {
        constructor(_ = []) {
          super(), this.h = {}, this.p = this._ = this.h.L = this.h.B = this.h;
          const b = this;
          _.forEach(function(A) {
            b.pushBack(A);
          });
        }
        V(_) {
          const { L: b, B: A } = _;
          b.B = A, A.L = b, _ === this.p && (this.p = A), _ === this._ && (this._ = b), this.i -= 1;
        }
        G(_, b) {
          const A = b.B, w = {
            l: _,
            L: b,
            B: A
          };
          b.B = w, A.L = w, b === this.h && (this.p = w), A === this.h && (this._ = w), this.i += 1;
        }
        clear() {
          this.i = 0, this.p = this._ = this.h.L = this.h.B = this.h;
        }
        begin() {
          return new p(this.p, this.h, this);
        }
        end() {
          return new p(this.h, this.h, this);
        }
        rBegin() {
          return new p(this._, this.h, this, 1);
        }
        rEnd() {
          return new p(this.h, this.h, this, 1);
        }
        front() {
          return this.p.l;
        }
        back() {
          return this._.l;
        }
        getElementByPos(_) {
          if (_ < 0 || _ > this.i - 1)
            throw new RangeError();
          let b = this.p;
          for (; _--; )
            b = b.B;
          return b.l;
        }
        eraseElementByPos(_) {
          if (_ < 0 || _ > this.i - 1)
            throw new RangeError();
          let b = this.p;
          for (; _--; )
            b = b.B;
          return this.V(b), this.i;
        }
        eraseElementByValue(_) {
          let b = this.p;
          for (; b !== this.h; )
            b.l === _ && this.V(b), b = b.B;
          return this.i;
        }
        eraseElementByIterator(_) {
          const b = _.o;
          return b === this.h && (0, f.throwIteratorAccessError)(), _ = _.next(), this.V(b), _;
        }
        pushBack(_) {
          return this.G(_, this._), this.i;
        }
        popBack() {
          if (this.i === 0)
            return;
          const _ = this._.l;
          return this.V(this._), _;
        }
        pushFront(_) {
          return this.G(_, this.h), this.i;
        }
        popFront() {
          if (this.i === 0)
            return;
          const _ = this.p.l;
          return this.V(this.p), _;
        }
        setElementByPos(_, b) {
          if (_ < 0 || _ > this.i - 1)
            throw new RangeError();
          let A = this.p;
          for (; _--; )
            A = A.B;
          A.l = b;
        }
        insert(_, b, A = 1) {
          if (_ < 0 || _ > this.i)
            throw new RangeError();
          if (A <= 0)
            return this.i;
          if (_ === 0)
            for (; A--; )
              this.pushFront(b);
          else if (_ === this.i)
            for (; A--; )
              this.pushBack(b);
          else {
            let w = this.p;
            for (let T = 1; T < _; ++T)
              w = w.B;
            const S = w.B;
            for (this.i += A; A--; )
              w.B = {
                l: b,
                L: w
              }, w.B.L = w, w = w.B;
            w.B = S, S.L = w;
          }
          return this.i;
        }
        find(_) {
          let b = this.p;
          for (; b !== this.h; ) {
            if (b.l === _)
              return new p(b, this.h, this);
            b = b.B;
          }
          return this.end();
        }
        reverse() {
          if (this.i <= 1)
            return;
          let _ = this.p, b = this._, A = 0;
          for (; A << 1 < this.i; ) {
            const w = _.l;
            _.l = b.l, b.l = w, _ = _.B, b = b.L, A += 1;
          }
        }
        unique() {
          if (this.i <= 1)
            return this.i;
          let _ = this.p;
          for (; _ !== this.h; ) {
            let b = _;
            for (; b.B !== this.h && b.l === b.B.l; )
              b = b.B, this.i -= 1;
            _.B = b.B, _.B.L = _, _ = _.B;
          }
          return this.i;
        }
        sort(_) {
          if (this.i <= 1)
            return;
          const b = [];
          this.forEach(function(w) {
            b.push(w);
          }), b.sort(_);
          let A = this.p;
          b.forEach(function(w) {
            A.l = w, A = A.B;
          });
        }
        merge(_) {
          const b = this;
          if (this.i === 0)
            _.forEach(function(A) {
              b.pushBack(A);
            });
          else {
            let A = this.p;
            _.forEach(function(w) {
              for (; A !== b.h && A.l <= w; )
                A = A.B;
              b.G(w, A.L);
            });
          }
          return this.i;
        }
        forEach(_) {
          let b = this.p, A = 0;
          for (; b !== this.h; )
            _(b.l, A++, this), b = b.B;
        }
        [Symbol.iterator]() {
          return function* () {
            if (this.i === 0)
              return;
            let _ = this.p;
            for (; _ !== this.h; )
              yield _.l, _ = _.B;
          }.bind(this)();
        }
      }
      var v = y;
      a.default = v;
    }, { "../../utils/throwError": 71, "../ContainerBase": 52, "./Base": 60 }], 63: [function(r, o, a) {
      Object.defineProperty(a, "t", {
        value: !0
      }), a.default = void 0;
      var u = f(r("./Base")), c = r("./Base/RandomIterator");
      function f(v) {
        return v && v.t ? v : {
          default: v
        };
      }
      class d extends c.RandomIterator {
        constructor(g, _, b) {
          super(g, b), this.container = _;
        }
        copy() {
          return new d(this.o, this.container, this.iteratorType);
        }
      }
      class p extends u.default {
        constructor(g = [], _ = !0) {
          if (super(), Array.isArray(g))
            this.J = _ ? [...g] : g, this.i = g.length;
          else {
            this.J = [];
            const b = this;
            g.forEach(function(A) {
              b.pushBack(A);
            });
          }
        }
        clear() {
          this.i = 0, this.J.length = 0;
        }
        begin() {
          return new d(0, this);
        }
        end() {
          return new d(this.i, this);
        }
        rBegin() {
          return new d(this.i - 1, this, 1);
        }
        rEnd() {
          return new d(-1, this, 1);
        }
        front() {
          return this.J[0];
        }
        back() {
          return this.J[this.i - 1];
        }
        getElementByPos(g) {
          if (g < 0 || g > this.i - 1)
            throw new RangeError();
          return this.J[g];
        }
        eraseElementByPos(g) {
          if (g < 0 || g > this.i - 1)
            throw new RangeError();
          return this.J.splice(g, 1), this.i -= 1, this.i;
        }
        eraseElementByValue(g) {
          let _ = 0;
          for (let b = 0; b < this.i; ++b)
            this.J[b] !== g && (this.J[_++] = this.J[b]);
          return this.i = this.J.length = _, this.i;
        }
        eraseElementByIterator(g) {
          const _ = g.o;
          return g = g.next(), this.eraseElementByPos(_), g;
        }
        pushBack(g) {
          return this.J.push(g), this.i += 1, this.i;
        }
        popBack() {
          if (this.i !== 0)
            return this.i -= 1, this.J.pop();
        }
        setElementByPos(g, _) {
          if (g < 0 || g > this.i - 1)
            throw new RangeError();
          this.J[g] = _;
        }
        insert(g, _, b = 1) {
          if (g < 0 || g > this.i)
            throw new RangeError();
          return this.J.splice(g, 0, ...new Array(b).fill(_)), this.i += b, this.i;
        }
        find(g) {
          for (let _ = 0; _ < this.i; ++_)
            if (this.J[_] === g)
              return new d(_, this);
          return this.end();
        }
        reverse() {
          this.J.reverse();
        }
        unique() {
          let g = 1;
          for (let _ = 1; _ < this.i; ++_)
            this.J[_] !== this.J[_ - 1] && (this.J[g++] = this.J[_]);
          return this.i = this.J.length = g, this.i;
        }
        sort(g) {
          this.J.sort(g);
        }
        forEach(g) {
          for (let _ = 0; _ < this.i; ++_)
            g(this.J[_], _, this);
        }
        [Symbol.iterator]() {
          return function* () {
            yield* this.J;
          }.bind(this)();
        }
      }
      var y = p;
      a.default = y;
    }, { "./Base": 60, "./Base/RandomIterator": 59 }], 64: [function(r, o, a) {
      Object.defineProperty(a, "t", {
        value: !0
      }), a.default = void 0;
      var u = r("../../ContainerBase"), c = r("../../../utils/throwError");
      class f extends u.ContainerIterator {
        constructor(y, v, g) {
          super(g), this.o = y, this.h = v, this.iteratorType === 0 ? (this.pre = function() {
            return this.o === this.h.U && (0, c.throwIteratorAccessError)(), this.o = this.o.L(), this;
          }, this.next = function() {
            return this.o === this.h && (0, c.throwIteratorAccessError)(), this.o = this.o.B(), this;
          }) : (this.pre = function() {
            return this.o === this.h.W && (0, c.throwIteratorAccessError)(), this.o = this.o.B(), this;
          }, this.next = function() {
            return this.o === this.h && (0, c.throwIteratorAccessError)(), this.o = this.o.L(), this;
          });
        }
        get index() {
          let y = this.o;
          const v = this.h.tt;
          if (y === this.h)
            return v ? v.rt - 1 : 0;
          let g = 0;
          for (y.U && (g += y.U.rt); y !== v; ) {
            const _ = y.tt;
            y === _.W && (g += 1, _.U && (g += _.U.rt)), y = _;
          }
          return g;
        }
      }
      var d = f;
      a.default = d;
    }, { "../../../utils/throwError": 71, "../../ContainerBase": 52 }], 65: [function(r, o, a) {
      Object.defineProperty(a, "t", {
        value: !0
      }), a.TreeNodeEnableIndex = a.TreeNode = void 0;
      class u {
        constructor(d, p) {
          this.ee = 1, this.u = void 0, this.l = void 0, this.U = void 0, this.W = void 0, this.tt = void 0, this.u = d, this.l = p;
        }
        L() {
          let d = this;
          if (d.ee === 1 && d.tt.tt === d)
            d = d.W;
          else if (d.U)
            for (d = d.U; d.W; )
              d = d.W;
          else {
            let p = d.tt;
            for (; p.U === d; )
              d = p, p = d.tt;
            d = p;
          }
          return d;
        }
        B() {
          let d = this;
          if (d.W) {
            for (d = d.W; d.U; )
              d = d.U;
            return d;
          } else {
            let p = d.tt;
            for (; p.W === d; )
              d = p, p = d.tt;
            return d.W !== p ? p : d;
          }
        }
        te() {
          const d = this.tt, p = this.W, y = p.U;
          return d.tt === this ? d.tt = p : d.U === this ? d.U = p : d.W = p, p.tt = d, p.U = this, this.tt = p, this.W = y, y && (y.tt = this), p;
        }
        se() {
          const d = this.tt, p = this.U, y = p.W;
          return d.tt === this ? d.tt = p : d.U === this ? d.U = p : d.W = p, p.tt = d, p.W = this, this.tt = p, this.U = y, y && (y.tt = this), p;
        }
      }
      a.TreeNode = u;
      class c extends u {
        constructor() {
          super(...arguments), this.rt = 1;
        }
        te() {
          const d = super.te();
          return this.ie(), d.ie(), d;
        }
        se() {
          const d = super.se();
          return this.ie(), d.ie(), d;
        }
        ie() {
          this.rt = 1, this.U && (this.rt += this.U.rt), this.W && (this.rt += this.W.rt);
        }
      }
      a.TreeNodeEnableIndex = c;
    }, {}], 66: [function(r, o, a) {
      Object.defineProperty(a, "t", {
        value: !0
      }), a.default = void 0;
      var u = r("./TreeNode"), c = r("../../ContainerBase"), f = r("../../../utils/throwError");
      class d extends c.Container {
        constructor(v = function(_, b) {
          return _ < b ? -1 : _ > b ? 1 : 0;
        }, g = !1) {
          super(), this.Y = void 0, this.v = v, g ? (this.re = u.TreeNodeEnableIndex, this.M = function(_, b, A) {
            const w = this.ne(_, b, A);
            if (w) {
              let S = w.tt;
              for (; S !== this.h; )
                S.rt += 1, S = S.tt;
              const T = this.he(w);
              if (T) {
                const { parentNode: x, grandParent: L, curNode: k } = T;
                x.ie(), L.ie(), k.ie();
              }
            }
            return this.i;
          }, this.V = function(_) {
            let b = this.fe(_);
            for (; b !== this.h; )
              b.rt -= 1, b = b.tt;
          }) : (this.re = u.TreeNode, this.M = function(_, b, A) {
            const w = this.ne(_, b, A);
            return w && this.he(w), this.i;
          }, this.V = this.fe), this.h = new this.re();
        }
        X(v, g) {
          let _ = this.h;
          for (; v; ) {
            const b = this.v(v.u, g);
            if (b < 0)
              v = v.W;
            else if (b > 0)
              _ = v, v = v.U;
            else
              return v;
          }
          return _;
        }
        Z(v, g) {
          let _ = this.h;
          for (; v; )
            this.v(v.u, g) <= 0 ? v = v.W : (_ = v, v = v.U);
          return _;
        }
        $(v, g) {
          let _ = this.h;
          for (; v; ) {
            const b = this.v(v.u, g);
            if (b < 0)
              _ = v, v = v.W;
            else if (b > 0)
              v = v.U;
            else
              return v;
          }
          return _;
        }
        rr(v, g) {
          let _ = this.h;
          for (; v; )
            this.v(v.u, g) < 0 ? (_ = v, v = v.W) : v = v.U;
          return _;
        }
        ue(v) {
          for (; ; ) {
            const g = v.tt;
            if (g === this.h)
              return;
            if (v.ee === 1) {
              v.ee = 0;
              return;
            }
            if (v === g.U) {
              const _ = g.W;
              if (_.ee === 1)
                _.ee = 0, g.ee = 1, g === this.Y ? this.Y = g.te() : g.te();
              else if (_.W && _.W.ee === 1) {
                _.ee = g.ee, g.ee = 0, _.W.ee = 0, g === this.Y ? this.Y = g.te() : g.te();
                return;
              } else
                _.U && _.U.ee === 1 ? (_.ee = 1, _.U.ee = 0, _.se()) : (_.ee = 1, v = g);
            } else {
              const _ = g.U;
              if (_.ee === 1)
                _.ee = 0, g.ee = 1, g === this.Y ? this.Y = g.se() : g.se();
              else if (_.U && _.U.ee === 1) {
                _.ee = g.ee, g.ee = 0, _.U.ee = 0, g === this.Y ? this.Y = g.se() : g.se();
                return;
              } else
                _.W && _.W.ee === 1 ? (_.ee = 1, _.W.ee = 0, _.te()) : (_.ee = 1, v = g);
            }
          }
        }
        fe(v) {
          if (this.i === 1)
            return this.clear(), this.h;
          let g = v;
          for (; g.U || g.W; ) {
            if (g.W)
              for (g = g.W; g.U; )
                g = g.U;
            else
              g = g.U;
            [v.u, g.u] = [g.u, v.u], [v.l, g.l] = [g.l, v.l], v = g;
          }
          this.h.U === g ? this.h.U = g.tt : this.h.W === g && (this.h.W = g.tt), this.ue(g);
          const _ = g.tt;
          return g === _.U ? _.U = void 0 : _.W = void 0, this.i -= 1, this.Y.ee = 0, _;
        }
        oe(v, g) {
          return v === void 0 ? !1 : this.oe(v.U, g) || g(v) ? !0 : this.oe(v.W, g);
        }
        he(v) {
          for (; ; ) {
            const g = v.tt;
            if (g.ee === 0)
              return;
            const _ = g.tt;
            if (g === _.U) {
              const b = _.W;
              if (b && b.ee === 1) {
                if (b.ee = g.ee = 0, _ === this.Y)
                  return;
                _.ee = 1, v = _;
                continue;
              } else if (v === g.W) {
                if (v.ee = 0, v.U && (v.U.tt = g), v.W && (v.W.tt = _), g.W = v.U, _.U = v.W, v.U = g, v.W = _, _ === this.Y)
                  this.Y = v, this.h.tt = v;
                else {
                  const A = _.tt;
                  A.U === _ ? A.U = v : A.W = v;
                }
                return v.tt = _.tt, g.tt = v, _.tt = v, _.ee = 1, {
                  parentNode: g,
                  grandParent: _,
                  curNode: v
                };
              } else
                g.ee = 0, _ === this.Y ? this.Y = _.se() : _.se(), _.ee = 1;
            } else {
              const b = _.U;
              if (b && b.ee === 1) {
                if (b.ee = g.ee = 0, _ === this.Y)
                  return;
                _.ee = 1, v = _;
                continue;
              } else if (v === g.U) {
                if (v.ee = 0, v.U && (v.U.tt = _), v.W && (v.W.tt = g), _.W = v.U, g.U = v.W, v.U = _, v.W = g, _ === this.Y)
                  this.Y = v, this.h.tt = v;
                else {
                  const A = _.tt;
                  A.U === _ ? A.U = v : A.W = v;
                }
                return v.tt = _.tt, g.tt = v, _.tt = v, _.ee = 1, {
                  parentNode: g,
                  grandParent: _,
                  curNode: v
                };
              } else
                g.ee = 0, _ === this.Y ? this.Y = _.te() : _.te(), _.ee = 1;
            }
            return;
          }
        }
        ne(v, g, _) {
          if (this.Y === void 0) {
            this.i += 1, this.Y = new this.re(v, g), this.Y.ee = 0, this.Y.tt = this.h, this.h.tt = this.Y, this.h.U = this.Y, this.h.W = this.Y;
            return;
          }
          let b;
          const A = this.h.U, w = this.v(A.u, v);
          if (w === 0) {
            A.l = g;
            return;
          } else if (w > 0)
            A.U = new this.re(v, g), A.U.tt = A, b = A.U, this.h.U = b;
          else {
            const S = this.h.W, T = this.v(S.u, v);
            if (T === 0) {
              S.l = g;
              return;
            } else if (T < 0)
              S.W = new this.re(v, g), S.W.tt = S, b = S.W, this.h.W = b;
            else {
              if (_ !== void 0) {
                const x = _.o;
                if (x !== this.h) {
                  const L = this.v(x.u, v);
                  if (L === 0) {
                    x.l = g;
                    return;
                  } else if (L > 0) {
                    const k = x.L(), M = this.v(k.u, v);
                    if (M === 0) {
                      k.l = g;
                      return;
                    } else
                      M < 0 && (b = new this.re(v, g), k.W === void 0 ? (k.W = b, b.tt = k) : (x.U = b, b.tt = x));
                  }
                }
              }
              if (b === void 0)
                for (b = this.Y; ; ) {
                  const x = this.v(b.u, v);
                  if (x > 0) {
                    if (b.U === void 0) {
                      b.U = new this.re(v, g), b.U.tt = b, b = b.U;
                      break;
                    }
                    b = b.U;
                  } else if (x < 0) {
                    if (b.W === void 0) {
                      b.W = new this.re(v, g), b.W.tt = b, b = b.W;
                      break;
                    }
                    b = b.W;
                  } else {
                    b.l = g;
                    return;
                  }
                }
            }
          }
          return this.i += 1, b;
        }
        I(v, g) {
          for (; v; ) {
            const _ = this.v(v.u, g);
            if (_ < 0)
              v = v.W;
            else if (_ > 0)
              v = v.U;
            else
              return v;
          }
          return v || this.h;
        }
        clear() {
          this.i = 0, this.Y = void 0, this.h.tt = void 0, this.h.U = this.h.W = void 0;
        }
        updateKeyByIterator(v, g) {
          const _ = v.o;
          if (_ === this.h && (0, f.throwIteratorAccessError)(), this.i === 1)
            return _.u = g, !0;
          if (_ === this.h.U)
            return this.v(_.B().u, g) > 0 ? (_.u = g, !0) : !1;
          if (_ === this.h.W)
            return this.v(_.L().u, g) < 0 ? (_.u = g, !0) : !1;
          const b = _.L().u;
          if (this.v(b, g) >= 0)
            return !1;
          const A = _.B().u;
          return this.v(A, g) <= 0 ? !1 : (_.u = g, !0);
        }
        eraseElementByPos(v) {
          if (v < 0 || v > this.i - 1)
            throw new RangeError();
          let g = 0;
          const _ = this;
          return this.oe(this.Y, function(b) {
            return v === g ? (_.V(b), !0) : (g += 1, !1);
          }), this.i;
        }
        eraseElementByKey(v) {
          if (this.i === 0)
            return !1;
          const g = this.I(this.Y, v);
          return g === this.h ? !1 : (this.V(g), !0);
        }
        eraseElementByIterator(v) {
          const g = v.o;
          g === this.h && (0, f.throwIteratorAccessError)();
          const _ = g.W === void 0;
          return v.iteratorType === 0 ? _ && v.next() : (!_ || g.U === void 0) && v.next(), this.V(g), v;
        }
        forEach(v) {
          let g = 0;
          for (const _ of this)
            v(_, g++, this);
        }
        getElementByPos(v) {
          if (v < 0 || v > this.i - 1)
            throw new RangeError();
          let g, _ = 0;
          for (const b of this) {
            if (_ === v) {
              g = b;
              break;
            }
            _ += 1;
          }
          return g;
        }
        getHeight() {
          if (this.i === 0)
            return 0;
          const v = function(g) {
            return g ? Math.max(v(g.U), v(g.W)) + 1 : 0;
          };
          return v(this.Y);
        }
      }
      var p = d;
      a.default = p;
    }, { "../../../utils/throwError": 71, "../../ContainerBase": 52, "./TreeNode": 65 }], 67: [function(r, o, a) {
      Object.defineProperty(a, "t", {
        value: !0
      }), a.default = void 0;
      var u = d(r("./Base")), c = d(r("./Base/TreeIterator")), f = r("../../utils/throwError");
      function d(g) {
        return g && g.t ? g : {
          default: g
        };
      }
      class p extends c.default {
        constructor(_, b, A, w) {
          super(_, b, w), this.container = A;
        }
        get pointer() {
          this.o === this.h && (0, f.throwIteratorAccessError)();
          const _ = this;
          return new Proxy([], {
            get(b, A) {
              if (A === "0")
                return _.o.u;
              if (A === "1")
                return _.o.l;
            },
            set(b, A, w) {
              if (A !== "1")
                throw new TypeError("props must be 1");
              return _.o.l = w, !0;
            }
          });
        }
        copy() {
          return new p(this.o, this.h, this.container, this.iteratorType);
        }
      }
      class y extends u.default {
        constructor(_ = [], b, A) {
          super(b, A);
          const w = this;
          _.forEach(function(S) {
            w.setElement(S[0], S[1]);
          });
        }
        *K(_) {
          _ !== void 0 && (yield* this.K(_.U), yield [_.u, _.l], yield* this.K(_.W));
        }
        begin() {
          return new p(this.h.U || this.h, this.h, this);
        }
        end() {
          return new p(this.h, this.h, this);
        }
        rBegin() {
          return new p(this.h.W || this.h, this.h, this, 1);
        }
        rEnd() {
          return new p(this.h, this.h, this, 1);
        }
        front() {
          if (this.i === 0)
            return;
          const _ = this.h.U;
          return [_.u, _.l];
        }
        back() {
          if (this.i === 0)
            return;
          const _ = this.h.W;
          return [_.u, _.l];
        }
        lowerBound(_) {
          const b = this.X(this.Y, _);
          return new p(b, this.h, this);
        }
        upperBound(_) {
          const b = this.Z(this.Y, _);
          return new p(b, this.h, this);
        }
        reverseLowerBound(_) {
          const b = this.$(this.Y, _);
          return new p(b, this.h, this);
        }
        reverseUpperBound(_) {
          const b = this.rr(this.Y, _);
          return new p(b, this.h, this);
        }
        setElement(_, b, A) {
          return this.M(_, b, A);
        }
        find(_) {
          const b = this.I(this.Y, _);
          return new p(b, this.h, this);
        }
        getElementByKey(_) {
          return this.I(this.Y, _).l;
        }
        union(_) {
          const b = this;
          return _.forEach(function(A) {
            b.setElement(A[0], A[1]);
          }), this.i;
        }
        [Symbol.iterator]() {
          return this.K(this.Y);
        }
      }
      var v = y;
      a.default = v;
    }, { "../../utils/throwError": 71, "./Base": 66, "./Base/TreeIterator": 64 }], 68: [function(r, o, a) {
      Object.defineProperty(a, "t", {
        value: !0
      }), a.default = void 0;
      var u = d(r("./Base")), c = d(r("./Base/TreeIterator")), f = r("../../utils/throwError");
      function d(g) {
        return g && g.t ? g : {
          default: g
        };
      }
      class p extends c.default {
        constructor(_, b, A, w) {
          super(_, b, w), this.container = A;
        }
        get pointer() {
          return this.o === this.h && (0, f.throwIteratorAccessError)(), this.o.u;
        }
        copy() {
          return new p(this.o, this.h, this.container, this.iteratorType);
        }
      }
      class y extends u.default {
        constructor(_ = [], b, A) {
          super(b, A);
          const w = this;
          _.forEach(function(S) {
            w.insert(S);
          });
        }
        *K(_) {
          _ !== void 0 && (yield* this.K(_.U), yield _.u, yield* this.K(_.W));
        }
        begin() {
          return new p(this.h.U || this.h, this.h, this);
        }
        end() {
          return new p(this.h, this.h, this);
        }
        rBegin() {
          return new p(this.h.W || this.h, this.h, this, 1);
        }
        rEnd() {
          return new p(this.h, this.h, this, 1);
        }
        front() {
          return this.h.U ? this.h.U.u : void 0;
        }
        back() {
          return this.h.W ? this.h.W.u : void 0;
        }
        insert(_, b) {
          return this.M(_, void 0, b);
        }
        find(_) {
          const b = this.I(this.Y, _);
          return new p(b, this.h, this);
        }
        lowerBound(_) {
          const b = this.X(this.Y, _);
          return new p(b, this.h, this);
        }
        upperBound(_) {
          const b = this.Z(this.Y, _);
          return new p(b, this.h, this);
        }
        reverseLowerBound(_) {
          const b = this.$(this.Y, _);
          return new p(b, this.h, this);
        }
        reverseUpperBound(_) {
          const b = this.rr(this.Y, _);
          return new p(b, this.h, this);
        }
        union(_) {
          const b = this;
          return _.forEach(function(A) {
            b.insert(A);
          }), this.i;
        }
        [Symbol.iterator]() {
          return this.K(this.Y);
        }
      }
      var v = y;
      a.default = v;
    }, { "../../utils/throwError": 71, "./Base": 66, "./Base/TreeIterator": 64 }], 69: [function(r, o, a) {
      Object.defineProperty(a, "t", {
        value: !0
      }), Object.defineProperty(a, "Deque", {
        enumerable: !0,
        get: function() {
          return y.default;
        }
      }), Object.defineProperty(a, "HashMap", {
        enumerable: !0,
        get: function() {
          return b.default;
        }
      }), Object.defineProperty(a, "HashSet", {
        enumerable: !0,
        get: function() {
          return _.default;
        }
      }), Object.defineProperty(a, "LinkList", {
        enumerable: !0,
        get: function() {
          return p.default;
        }
      }), Object.defineProperty(a, "OrderedMap", {
        enumerable: !0,
        get: function() {
          return g.default;
        }
      }), Object.defineProperty(a, "OrderedSet", {
        enumerable: !0,
        get: function() {
          return v.default;
        }
      }), Object.defineProperty(a, "PriorityQueue", {
        enumerable: !0,
        get: function() {
          return f.default;
        }
      }), Object.defineProperty(a, "Queue", {
        enumerable: !0,
        get: function() {
          return c.default;
        }
      }), Object.defineProperty(a, "Stack", {
        enumerable: !0,
        get: function() {
          return u.default;
        }
      }), Object.defineProperty(a, "Vector", {
        enumerable: !0,
        get: function() {
          return d.default;
        }
      });
      var u = A(r("./container/OtherContainer/Stack")), c = A(r("./container/OtherContainer/Queue")), f = A(r("./container/OtherContainer/PriorityQueue")), d = A(r("./container/SequentialContainer/Vector")), p = A(r("./container/SequentialContainer/LinkList")), y = A(r("./container/SequentialContainer/Deque")), v = A(r("./container/TreeContainer/OrderedSet")), g = A(r("./container/TreeContainer/OrderedMap")), _ = A(r("./container/HashContainer/HashSet")), b = A(r("./container/HashContainer/HashMap"));
      function A(w) {
        return w && w.t ? w : {
          default: w
        };
      }
    }, { "./container/HashContainer/HashMap": 54, "./container/HashContainer/HashSet": 55, "./container/OtherContainer/PriorityQueue": 56, "./container/OtherContainer/Queue": 57, "./container/OtherContainer/Stack": 58, "./container/SequentialContainer/Deque": 61, "./container/SequentialContainer/LinkList": 62, "./container/SequentialContainer/Vector": 63, "./container/TreeContainer/OrderedMap": 67, "./container/TreeContainer/OrderedSet": 68 }], 70: [function(r, o, a) {
      Object.defineProperty(a, "t", {
        value: !0
      }), a.default = u;
      function u(c) {
        const f = typeof c;
        return f === "object" && c !== null || f === "function";
      }
    }, {}], 71: [function(r, o, a) {
      Object.defineProperty(a, "t", {
        value: !0
      }), a.throwIteratorAccessError = u;
      function u() {
        throw new RangeError("Iterator access denied!");
      }
    }, {}], 72: [function(r, o, a) {
      (function(u) {
        (function() {
          const c = typeof performance == "object" && performance && typeof performance.now == "function" ? performance : Date, d = typeof AbortController == "function" ? AbortController : class {
            constructor() {
              this.signal = new v();
            }
            abort(F = new Error("This operation was aborted")) {
              this.signal.reason = this.signal.reason || F, this.signal.aborted = !0, this.signal.dispatchEvent({
                type: "abort",
                target: this.signal
              });
            }
          }, p = typeof AbortSignal == "function", y = typeof d.AbortSignal == "function", v = p ? AbortSignal : y ? d.AbortController : class {
            constructor() {
              this.reason = void 0, this.aborted = !1, this._listeners = [];
            }
            dispatchEvent(F) {
              F.type === "abort" && (this.aborted = !0, this.onabort(F), this._listeners.forEach((j) => j(F), this));
            }
            onabort() {
            }
            addEventListener(F, j) {
              F === "abort" && this._listeners.push(j);
            }
            removeEventListener(F, j) {
              F === "abort" && (this._listeners = this._listeners.filter((D) => D !== j));
            }
          }, g = /* @__PURE__ */ new Set(), _ = (ie, F) => {
            const j = `LRU_CACHE_OPTION_${ie}`;
            S(j) && T(j, `${ie} option`, `options.${F}`, O);
          }, b = (ie, F) => {
            const j = `LRU_CACHE_METHOD_${ie}`;
            if (S(j)) {
              const { prototype: D } = O, { get: Y } = Object.getOwnPropertyDescriptor(D, ie);
              T(j, `${ie} method`, `cache.${F}()`, Y);
            }
          }, A = (ie, F) => {
            const j = `LRU_CACHE_PROPERTY_${ie}`;
            if (S(j)) {
              const { prototype: D } = O, { get: Y } = Object.getOwnPropertyDescriptor(D, ie);
              T(j, `${ie} property`, `cache.${F}`, Y);
            }
          }, w = (...ie) => {
            typeof u == "object" && u && typeof u.emitWarning == "function" ? u.emitWarning(...ie) : console.error(...ie);
          }, S = (ie) => !g.has(ie), T = (ie, F, j, D) => {
            g.add(ie);
            const Y = `The ${F} is deprecated. Please use ${j} instead.`;
            w(Y, "DeprecationWarning", ie, D);
          }, x = (ie) => ie && ie === Math.floor(ie) && ie > 0 && isFinite(ie), L = (ie) => x(ie) ? ie <= Math.pow(2, 8) ? Uint8Array : ie <= Math.pow(2, 16) ? Uint16Array : ie <= Math.pow(2, 32) ? Uint32Array : ie <= Number.MAX_SAFE_INTEGER ? k : null : null;
          class k extends Array {
            constructor(F) {
              super(F), this.fill(0);
            }
          }
          class M {
            constructor(F) {
              if (F === 0)
                return [];
              const j = L(F);
              this.heap = new j(F), this.length = 0;
            }
            push(F) {
              this.heap[this.length++] = F;
            }
            pop() {
              return this.heap[--this.length];
            }
          }
          class O {
            constructor(F = {}) {
              const {
                max: j = 0,
                ttl: D,
                ttlResolution: Y = 1,
                ttlAutopurge: z,
                updateAgeOnGet: Ie,
                updateAgeOnHas: ue,
                allowStale: Ce,
                dispose: pe,
                disposeAfter: Ne,
                noDisposeOnSet: xe,
                noUpdateTTL: hn,
                maxSize: Pt = 0,
                maxEntrySize: _n = 0,
                sizeCalculation: In,
                fetchMethod: Dt,
                fetchContext: he,
                noDeleteOnFetchRejection: At,
                noDeleteOnStaleGet: Lt,
                allowStaleOnFetchRejection: Cn,
                allowStaleOnFetchAbort: ze,
                ignoreFetchAbort: _e
              } = F, { length: de, maxAge: Et, stale: Ve } = F instanceof O ? {} : F;
              if (j !== 0 && !x(j))
                throw new TypeError("max option must be a nonnegative integer");
              const $e = j ? L(j) : Array;
              if (!$e)
                throw new Error("invalid max value: " + j);
              if (this.max = j, this.maxSize = Pt, this.maxEntrySize = _n || this.maxSize, this.sizeCalculation = In || de, this.sizeCalculation) {
                if (!this.maxSize && !this.maxEntrySize)
                  throw new TypeError(
                    "cannot set sizeCalculation without setting maxSize or maxEntrySize"
                  );
                if (typeof this.sizeCalculation != "function")
                  throw new TypeError("sizeCalculation set to non-function");
              }
              if (this.fetchMethod = Dt || null, this.fetchMethod && typeof this.fetchMethod != "function")
                throw new TypeError(
                  "fetchMethod must be a function if specified"
                );
              if (this.fetchContext = he, !this.fetchMethod && he !== void 0)
                throw new TypeError(
                  "cannot set fetchContext without fetchMethod"
                );
              if (this.keyMap = /* @__PURE__ */ new Map(), this.keyList = new Array(j).fill(null), this.valList = new Array(j).fill(null), this.next = new $e(j), this.prev = new $e(j), this.head = 0, this.tail = 0, this.free = new M(j), this.initialFill = 1, this.size = 0, typeof pe == "function" && (this.dispose = pe), typeof Ne == "function" ? (this.disposeAfter = Ne, this.disposed = []) : (this.disposeAfter = null, this.disposed = null), this.noDisposeOnSet = !!xe, this.noUpdateTTL = !!hn, this.noDeleteOnFetchRejection = !!At, this.allowStaleOnFetchRejection = !!Cn, this.allowStaleOnFetchAbort = !!ze, this.ignoreFetchAbort = !!_e, this.maxEntrySize !== 0) {
                if (this.maxSize !== 0 && !x(this.maxSize))
                  throw new TypeError(
                    "maxSize must be a positive integer if specified"
                  );
                if (!x(this.maxEntrySize))
                  throw new TypeError(
                    "maxEntrySize must be a positive integer if specified"
                  );
                this.initializeSizeTracking();
              }
              if (this.allowStale = !!Ce || !!Ve, this.noDeleteOnStaleGet = !!Lt, this.updateAgeOnGet = !!Ie, this.updateAgeOnHas = !!ue, this.ttlResolution = x(Y) || Y === 0 ? Y : 1, this.ttlAutopurge = !!z, this.ttl = D || Et || 0, this.ttl) {
                if (!x(this.ttl))
                  throw new TypeError(
                    "ttl must be a positive integer if specified"
                  );
                this.initializeTTLTracking();
              }
              if (this.max === 0 && this.ttl === 0 && this.maxSize === 0)
                throw new TypeError(
                  "At least one of max, maxSize, or ttl is required"
                );
              if (!this.ttlAutopurge && !this.max && !this.maxSize) {
                const kt = "LRU_CACHE_UNBOUNDED";
                S(kt) && (g.add(kt), w("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.", "UnboundedCacheWarning", kt, O));
              }
              Ve && _("stale", "allowStale"), Et && _("maxAge", "ttl"), de && _("length", "sizeCalculation");
            }
            getRemainingTTL(F) {
              return this.has(F, { updateAgeOnHas: !1 }) ? 1 / 0 : 0;
            }
            initializeTTLTracking() {
              this.ttls = new k(this.max), this.starts = new k(this.max), this.setItemTTL = (D, Y, z = c.now()) => {
                if (this.starts[D] = Y !== 0 ? z : 0, this.ttls[D] = Y, Y !== 0 && this.ttlAutopurge) {
                  const Ie = setTimeout(() => {
                    this.isStale(D) && this.delete(this.keyList[D]);
                  }, Y + 1);
                  Ie.unref && Ie.unref();
                }
              }, this.updateItemAge = (D) => {
                this.starts[D] = this.ttls[D] !== 0 ? c.now() : 0;
              }, this.statusTTL = (D, Y) => {
                D && (D.ttl = this.ttls[Y], D.start = this.starts[Y], D.now = F || j(), D.remainingTTL = D.now + D.ttl - D.start);
              };
              let F = 0;
              const j = () => {
                const D = c.now();
                if (this.ttlResolution > 0) {
                  F = D;
                  const Y = setTimeout(
                    () => F = 0,
                    this.ttlResolution
                  );
                  Y.unref && Y.unref();
                }
                return D;
              };
              this.getRemainingTTL = (D) => {
                const Y = this.keyMap.get(D);
                return Y === void 0 ? 0 : this.ttls[Y] === 0 || this.starts[Y] === 0 ? 1 / 0 : this.starts[Y] + this.ttls[Y] - (F || j());
              }, this.isStale = (D) => this.ttls[D] !== 0 && this.starts[D] !== 0 && (F || j()) - this.starts[D] > this.ttls[D];
            }
            updateItemAge(F) {
            }
            statusTTL(F, j) {
            }
            setItemTTL(F, j, D) {
            }
            isStale(F) {
              return !1;
            }
            initializeSizeTracking() {
              this.calculatedSize = 0, this.sizes = new k(this.max), this.removeItemSize = (F) => {
                this.calculatedSize -= this.sizes[F], this.sizes[F] = 0;
              }, this.requireSize = (F, j, D, Y) => {
                if (this.isBackgroundFetch(j))
                  return 0;
                if (!x(D))
                  if (Y) {
                    if (typeof Y != "function")
                      throw new TypeError("sizeCalculation must be a function");
                    if (D = Y(j, F), !x(D))
                      throw new TypeError(
                        "sizeCalculation return invalid (expect positive integer)"
                      );
                  } else
                    throw new TypeError(
                      "invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set."
                    );
                return D;
              }, this.addItemSize = (F, j, D) => {
                if (this.sizes[F] = j, this.maxSize) {
                  const Y = this.maxSize - this.sizes[F];
                  for (; this.calculatedSize > Y; )
                    this.evict(!0);
                }
                this.calculatedSize += this.sizes[F], D && (D.entrySize = j, D.totalCalculatedSize = this.calculatedSize);
              };
            }
            removeItemSize(F) {
            }
            addItemSize(F, j) {
            }
            requireSize(F, j, D, Y) {
              if (D || Y)
                throw new TypeError(
                  "cannot set size without setting maxSize or maxEntrySize on cache"
                );
            }
            *indexes({ allowStale: F = this.allowStale } = {}) {
              if (this.size)
                for (let j = this.tail; !(!this.isValidIndex(j) || ((F || !this.isStale(j)) && (yield j), j === this.head)); )
                  j = this.prev[j];
            }
            *rindexes({ allowStale: F = this.allowStale } = {}) {
              if (this.size)
                for (let j = this.head; !(!this.isValidIndex(j) || ((F || !this.isStale(j)) && (yield j), j === this.tail)); )
                  j = this.next[j];
            }
            isValidIndex(F) {
              return F !== void 0 && this.keyMap.get(this.keyList[F]) === F;
            }
            *entries() {
              for (const F of this.indexes())
                this.valList[F] !== void 0 && this.keyList[F] !== void 0 && !this.isBackgroundFetch(this.valList[F]) && (yield [this.keyList[F], this.valList[F]]);
            }
            *rentries() {
              for (const F of this.rindexes())
                this.valList[F] !== void 0 && this.keyList[F] !== void 0 && !this.isBackgroundFetch(this.valList[F]) && (yield [this.keyList[F], this.valList[F]]);
            }
            *keys() {
              for (const F of this.indexes())
                this.keyList[F] !== void 0 && !this.isBackgroundFetch(this.valList[F]) && (yield this.keyList[F]);
            }
            *rkeys() {
              for (const F of this.rindexes())
                this.keyList[F] !== void 0 && !this.isBackgroundFetch(this.valList[F]) && (yield this.keyList[F]);
            }
            *values() {
              for (const F of this.indexes())
                this.valList[F] !== void 0 && !this.isBackgroundFetch(this.valList[F]) && (yield this.valList[F]);
            }
            *rvalues() {
              for (const F of this.rindexes())
                this.valList[F] !== void 0 && !this.isBackgroundFetch(this.valList[F]) && (yield this.valList[F]);
            }
            [Symbol.iterator]() {
              return this.entries();
            }
            find(F, j) {
              for (const D of this.indexes()) {
                const Y = this.valList[D], z = this.isBackgroundFetch(Y) ? Y.__staleWhileFetching : Y;
                if (z !== void 0 && F(z, this.keyList[D], this))
                  return this.get(this.keyList[D], j);
              }
            }
            forEach(F, j = this) {
              for (const D of this.indexes()) {
                const Y = this.valList[D], z = this.isBackgroundFetch(Y) ? Y.__staleWhileFetching : Y;
                z !== void 0 && F.call(j, z, this.keyList[D], this);
              }
            }
            rforEach(F, j = this) {
              for (const D of this.rindexes()) {
                const Y = this.valList[D], z = this.isBackgroundFetch(Y) ? Y.__staleWhileFetching : Y;
                z !== void 0 && F.call(j, z, this.keyList[D], this);
              }
            }
            get prune() {
              return b("prune", "purgeStale"), this.purgeStale;
            }
            purgeStale() {
              let F = !1;
              for (const j of this.rindexes({ allowStale: !0 }))
                this.isStale(j) && (this.delete(this.keyList[j]), F = !0);
              return F;
            }
            dump() {
              const F = [];
              for (const j of this.indexes({ allowStale: !0 })) {
                const D = this.keyList[j], Y = this.valList[j], z = this.isBackgroundFetch(Y) ? Y.__staleWhileFetching : Y;
                if (z === void 0)
                  continue;
                const Ie = { value: z };
                if (this.ttls) {
                  Ie.ttl = this.ttls[j];
                  const ue = c.now() - this.starts[j];
                  Ie.start = Math.floor(Date.now() - ue);
                }
                this.sizes && (Ie.size = this.sizes[j]), F.unshift([D, Ie]);
              }
              return F;
            }
            load(F) {
              this.clear();
              for (const [j, D] of F) {
                if (D.start) {
                  const Y = Date.now() - D.start;
                  D.start = c.now() - Y;
                }
                this.set(j, D.value, D);
              }
            }
            dispose(F, j, D) {
            }
            set(F, j, {
              ttl: D = this.ttl,
              start: Y,
              noDisposeOnSet: z = this.noDisposeOnSet,
              size: Ie = 0,
              sizeCalculation: ue = this.sizeCalculation,
              noUpdateTTL: Ce = this.noUpdateTTL,
              status: pe
            } = {}) {
              if (Ie = this.requireSize(F, j, Ie, ue), this.maxEntrySize && Ie > this.maxEntrySize)
                return pe && (pe.set = "miss", pe.maxEntrySizeExceeded = !0), this.delete(F), this;
              let Ne = this.size === 0 ? void 0 : this.keyMap.get(F);
              if (Ne === void 0)
                Ne = this.newIndex(), this.keyList[Ne] = F, this.valList[Ne] = j, this.keyMap.set(F, Ne), this.next[this.tail] = Ne, this.prev[Ne] = this.tail, this.tail = Ne, this.size++, this.addItemSize(Ne, Ie, pe), pe && (pe.set = "add"), Ce = !1;
              else {
                this.moveToTail(Ne);
                const xe = this.valList[Ne];
                if (j !== xe) {
                  if (this.isBackgroundFetch(xe) ? xe.__abortController.abort(new Error("replaced")) : z || (this.dispose(xe, F, "set"), this.disposeAfter && this.disposed.push([xe, F, "set"])), this.removeItemSize(Ne), this.valList[Ne] = j, this.addItemSize(Ne, Ie, pe), pe) {
                    pe.set = "replace";
                    const hn = xe && this.isBackgroundFetch(xe) ? xe.__staleWhileFetching : xe;
                    hn !== void 0 && (pe.oldValue = hn);
                  }
                } else
                  pe && (pe.set = "update");
              }
              if (D !== 0 && this.ttl === 0 && !this.ttls && this.initializeTTLTracking(), Ce || this.setItemTTL(Ne, D, Y), this.statusTTL(pe, Ne), this.disposeAfter)
                for (; this.disposed.length; )
                  this.disposeAfter(...this.disposed.shift());
              return this;
            }
            newIndex() {
              return this.size === 0 ? this.tail : this.size === this.max && this.max !== 0 ? this.evict(!1) : this.free.length !== 0 ? this.free.pop() : this.initialFill++;
            }
            pop() {
              if (this.size) {
                const F = this.valList[this.head];
                return this.evict(!0), F;
              }
            }
            evict(F) {
              const j = this.head, D = this.keyList[j], Y = this.valList[j];
              return this.isBackgroundFetch(Y) ? Y.__abortController.abort(new Error("evicted")) : (this.dispose(Y, D, "evict"), this.disposeAfter && this.disposed.push([Y, D, "evict"])), this.removeItemSize(j), F && (this.keyList[j] = null, this.valList[j] = null, this.free.push(j)), this.head = this.next[j], this.keyMap.delete(D), this.size--, j;
            }
            has(F, { updateAgeOnHas: j = this.updateAgeOnHas, status: D } = {}) {
              const Y = this.keyMap.get(F);
              if (Y !== void 0)
                if (this.isStale(Y))
                  D && (D.has = "stale", this.statusTTL(D, Y));
                else
                  return j && this.updateItemAge(Y), D && (D.has = "hit"), this.statusTTL(D, Y), !0;
              else
                D && (D.has = "miss");
              return !1;
            }
            // like get(), but without any LRU updating or TTL expiration
            peek(F, { allowStale: j = this.allowStale } = {}) {
              const D = this.keyMap.get(F);
              if (D !== void 0 && (j || !this.isStale(D))) {
                const Y = this.valList[D];
                return this.isBackgroundFetch(Y) ? Y.__staleWhileFetching : Y;
              }
            }
            backgroundFetch(F, j, D, Y) {
              const z = j === void 0 ? void 0 : this.valList[j];
              if (this.isBackgroundFetch(z))
                return z;
              const Ie = new d();
              D.signal && D.signal.addEventListener(
                "abort",
                () => Ie.abort(D.signal.reason)
              );
              const ue = {
                signal: Ie.signal,
                options: D,
                context: Y
              }, Ce = (Pt, _n = !1) => {
                const { aborted: In } = Ie.signal, Dt = D.ignoreFetchAbort && Pt !== void 0;
                return D.status && (In && !_n ? (D.status.fetchAborted = !0, D.status.fetchError = Ie.signal.reason, Dt && (D.status.fetchAbortIgnored = !0)) : D.status.fetchResolved = !0), In && !Dt && !_n ? Ne(Ie.signal.reason) : (this.valList[j] === hn && (Pt === void 0 ? hn.__staleWhileFetching ? this.valList[j] = hn.__staleWhileFetching : this.delete(F) : (D.status && (D.status.fetchUpdated = !0), this.set(F, Pt, ue.options))), Pt);
              }, pe = (Pt) => (D.status && (D.status.fetchRejected = !0, D.status.fetchError = Pt), Ne(Pt)), Ne = (Pt) => {
                const { aborted: _n } = Ie.signal, In = _n && D.allowStaleOnFetchAbort, Dt = In || D.allowStaleOnFetchRejection, he = Dt || D.noDeleteOnFetchRejection;
                if (this.valList[j] === hn && (!he || hn.__staleWhileFetching === void 0 ? this.delete(F) : In || (this.valList[j] = hn.__staleWhileFetching)), Dt)
                  return D.status && hn.__staleWhileFetching !== void 0 && (D.status.returnedStale = !0), hn.__staleWhileFetching;
                if (hn.__returned === hn)
                  throw Pt;
              }, xe = (Pt, _n) => {
                this.fetchMethod(F, z, ue).then((In) => Pt(In), _n), Ie.signal.addEventListener("abort", () => {
                  (!D.ignoreFetchAbort || D.allowStaleOnFetchAbort) && (Pt(), D.allowStaleOnFetchAbort && (Pt = (In) => Ce(In, !0)));
                });
              };
              D.status && (D.status.fetchDispatched = !0);
              const hn = new Promise(xe).then(Ce, pe);
              return hn.__abortController = Ie, hn.__staleWhileFetching = z, hn.__returned = null, j === void 0 ? (this.set(F, hn, { ...ue.options, status: void 0 }), j = this.keyMap.get(F)) : this.valList[j] = hn, hn;
            }
            isBackgroundFetch(F) {
              return F && typeof F == "object" && typeof F.then == "function" && Object.prototype.hasOwnProperty.call(
                F,
                "__staleWhileFetching"
              ) && Object.prototype.hasOwnProperty.call(F, "__returned") && (F.__returned === F || F.__returned === null);
            }
            // this takes the union of get() and set() opts, because it does both
            async fetch(F, {
              // get options
              allowStale: j = this.allowStale,
              updateAgeOnGet: D = this.updateAgeOnGet,
              noDeleteOnStaleGet: Y = this.noDeleteOnStaleGet,
              // set options
              ttl: z = this.ttl,
              noDisposeOnSet: Ie = this.noDisposeOnSet,
              size: ue = 0,
              sizeCalculation: Ce = this.sizeCalculation,
              noUpdateTTL: pe = this.noUpdateTTL,
              // fetch exclusive options
              noDeleteOnFetchRejection: Ne = this.noDeleteOnFetchRejection,
              allowStaleOnFetchRejection: xe = this.allowStaleOnFetchRejection,
              ignoreFetchAbort: hn = this.ignoreFetchAbort,
              allowStaleOnFetchAbort: Pt = this.allowStaleOnFetchAbort,
              fetchContext: _n = this.fetchContext,
              forceRefresh: In = !1,
              status: Dt,
              signal: he
            } = {}) {
              if (!this.fetchMethod)
                return Dt && (Dt.fetch = "get"), this.get(F, {
                  allowStale: j,
                  updateAgeOnGet: D,
                  noDeleteOnStaleGet: Y,
                  status: Dt
                });
              const At = {
                allowStale: j,
                updateAgeOnGet: D,
                noDeleteOnStaleGet: Y,
                ttl: z,
                noDisposeOnSet: Ie,
                size: ue,
                sizeCalculation: Ce,
                noUpdateTTL: pe,
                noDeleteOnFetchRejection: Ne,
                allowStaleOnFetchRejection: xe,
                allowStaleOnFetchAbort: Pt,
                ignoreFetchAbort: hn,
                status: Dt,
                signal: he
              };
              let Lt = this.keyMap.get(F);
              if (Lt === void 0) {
                Dt && (Dt.fetch = "miss");
                const Cn = this.backgroundFetch(F, Lt, At, _n);
                return Cn.__returned = Cn;
              } else {
                const Cn = this.valList[Lt];
                if (this.isBackgroundFetch(Cn)) {
                  const Ve = j && Cn.__staleWhileFetching !== void 0;
                  return Dt && (Dt.fetch = "inflight", Ve && (Dt.returnedStale = !0)), Ve ? Cn.__staleWhileFetching : Cn.__returned = Cn;
                }
                const ze = this.isStale(Lt);
                if (!In && !ze)
                  return Dt && (Dt.fetch = "hit"), this.moveToTail(Lt), D && this.updateItemAge(Lt), this.statusTTL(Dt, Lt), Cn;
                const _e = this.backgroundFetch(F, Lt, At, _n), de = _e.__staleWhileFetching !== void 0, Et = de && j;
                return Dt && (Dt.fetch = de && ze ? "stale" : "refresh", Et && ze && (Dt.returnedStale = !0)), Et ? _e.__staleWhileFetching : _e.__returned = _e;
              }
            }
            get(F, {
              allowStale: j = this.allowStale,
              updateAgeOnGet: D = this.updateAgeOnGet,
              noDeleteOnStaleGet: Y = this.noDeleteOnStaleGet,
              status: z
            } = {}) {
              const Ie = this.keyMap.get(F);
              if (Ie !== void 0) {
                const ue = this.valList[Ie], Ce = this.isBackgroundFetch(ue);
                return this.statusTTL(z, Ie), this.isStale(Ie) ? (z && (z.get = "stale"), Ce ? (z && (z.returnedStale = j && ue.__staleWhileFetching !== void 0), j ? ue.__staleWhileFetching : void 0) : (Y || this.delete(F), z && (z.returnedStale = j), j ? ue : void 0)) : (z && (z.get = "hit"), Ce ? ue.__staleWhileFetching : (this.moveToTail(Ie), D && this.updateItemAge(Ie), ue));
              } else
                z && (z.get = "miss");
            }
            connect(F, j) {
              this.prev[j] = F, this.next[F] = j;
            }
            moveToTail(F) {
              F !== this.tail && (F === this.head ? this.head = this.next[F] : this.connect(this.prev[F], this.next[F]), this.connect(this.tail, F), this.tail = F);
            }
            get del() {
              return b("del", "delete"), this.delete;
            }
            delete(F) {
              let j = !1;
              if (this.size !== 0) {
                const D = this.keyMap.get(F);
                if (D !== void 0)
                  if (j = !0, this.size === 1)
                    this.clear();
                  else {
                    this.removeItemSize(D);
                    const Y = this.valList[D];
                    this.isBackgroundFetch(Y) ? Y.__abortController.abort(new Error("deleted")) : (this.dispose(Y, F, "delete"), this.disposeAfter && this.disposed.push([Y, F, "delete"])), this.keyMap.delete(F), this.keyList[D] = null, this.valList[D] = null, D === this.tail ? this.tail = this.prev[D] : D === this.head ? this.head = this.next[D] : (this.next[this.prev[D]] = this.next[D], this.prev[this.next[D]] = this.prev[D]), this.size--, this.free.push(D);
                  }
              }
              if (this.disposed)
                for (; this.disposed.length; )
                  this.disposeAfter(...this.disposed.shift());
              return j;
            }
            clear() {
              for (const F of this.rindexes({ allowStale: !0 })) {
                const j = this.valList[F];
                if (this.isBackgroundFetch(j))
                  j.__abortController.abort(new Error("deleted"));
                else {
                  const D = this.keyList[F];
                  this.dispose(j, D, "delete"), this.disposeAfter && this.disposed.push([j, D, "delete"]);
                }
              }
              if (this.keyMap.clear(), this.valList.fill(null), this.keyList.fill(null), this.ttls && (this.ttls.fill(0), this.starts.fill(0)), this.sizes && this.sizes.fill(0), this.head = 0, this.tail = 0, this.initialFill = 1, this.free.length = 0, this.calculatedSize = 0, this.size = 0, this.disposed)
                for (; this.disposed.length; )
                  this.disposeAfter(...this.disposed.shift());
            }
            get reset() {
              return b("reset", "clear"), this.clear;
            }
            get length() {
              return A("length", "size"), this.size;
            }
            static get AbortController() {
              return d;
            }
            static get AbortSignal() {
              return v;
            }
          }
          o.exports = O;
        }).call(this);
      }).call(this, r("_process"));
    }, { _process: 102 }], 73: [function(r, o, a) {
      const u = o.exports, { Buffer: c } = r("buffer");
      u.types = {
        0: "reserved",
        1: "connect",
        2: "connack",
        3: "publish",
        4: "puback",
        5: "pubrec",
        6: "pubrel",
        7: "pubcomp",
        8: "subscribe",
        9: "suback",
        10: "unsubscribe",
        11: "unsuback",
        12: "pingreq",
        13: "pingresp",
        14: "disconnect",
        15: "auth"
      }, u.requiredHeaderFlags = {
        1: 0,
        // 'connect'
        2: 0,
        // 'connack'
        4: 0,
        // 'puback'
        5: 0,
        // 'pubrec'
        6: 2,
        // 'pubrel'
        7: 0,
        // 'pubcomp'
        8: 2,
        // 'subscribe'
        9: 0,
        // 'suback'
        10: 2,
        // 'unsubscribe'
        11: 0,
        // 'unsuback'
        12: 0,
        // 'pingreq'
        13: 0,
        // 'pingresp'
        14: 0,
        // 'disconnect'
        15: 0
        // 'auth'
      }, u.requiredHeaderFlagsErrors = {};
      for (const d in u.requiredHeaderFlags) {
        const p = u.requiredHeaderFlags[d];
        u.requiredHeaderFlagsErrors[d] = "Invalid header flag bits, must be 0x" + p.toString(16) + " for " + u.types[d] + " packet";
      }
      u.codes = {};
      for (const d in u.types) {
        const p = u.types[d];
        u.codes[p] = d;
      }
      u.CMD_SHIFT = 4, u.CMD_MASK = 240, u.DUP_MASK = 8, u.QOS_MASK = 3, u.QOS_SHIFT = 1, u.RETAIN_MASK = 1, u.VARBYTEINT_MASK = 127, u.VARBYTEINT_FIN_MASK = 128, u.VARBYTEINT_MAX = 268435455, u.SESSIONPRESENT_MASK = 1, u.SESSIONPRESENT_HEADER = c.from([u.SESSIONPRESENT_MASK]), u.CONNACK_HEADER = c.from([u.codes.connack << u.CMD_SHIFT]), u.USERNAME_MASK = 128, u.PASSWORD_MASK = 64, u.WILL_RETAIN_MASK = 32, u.WILL_QOS_MASK = 24, u.WILL_QOS_SHIFT = 3, u.WILL_FLAG_MASK = 4, u.CLEAN_SESSION_MASK = 2, u.CONNECT_HEADER = c.from([u.codes.connect << u.CMD_SHIFT]), u.properties = {
        sessionExpiryInterval: 17,
        willDelayInterval: 24,
        receiveMaximum: 33,
        maximumPacketSize: 39,
        topicAliasMaximum: 34,
        requestResponseInformation: 25,
        requestProblemInformation: 23,
        userProperties: 38,
        authenticationMethod: 21,
        authenticationData: 22,
        payloadFormatIndicator: 1,
        messageExpiryInterval: 2,
        contentType: 3,
        responseTopic: 8,
        correlationData: 9,
        maximumQoS: 36,
        retainAvailable: 37,
        assignedClientIdentifier: 18,
        reasonString: 31,
        wildcardSubscriptionAvailable: 40,
        subscriptionIdentifiersAvailable: 41,
        sharedSubscriptionAvailable: 42,
        serverKeepAlive: 19,
        responseInformation: 26,
        serverReference: 28,
        topicAlias: 35,
        subscriptionIdentifier: 11
      }, u.propertiesCodes = {};
      for (const d in u.properties) {
        const p = u.properties[d];
        u.propertiesCodes[p] = d;
      }
      u.propertiesTypes = {
        sessionExpiryInterval: "int32",
        willDelayInterval: "int32",
        receiveMaximum: "int16",
        maximumPacketSize: "int32",
        topicAliasMaximum: "int16",
        requestResponseInformation: "byte",
        requestProblemInformation: "byte",
        userProperties: "pair",
        authenticationMethod: "string",
        authenticationData: "binary",
        payloadFormatIndicator: "byte",
        messageExpiryInterval: "int32",
        contentType: "string",
        responseTopic: "string",
        correlationData: "binary",
        maximumQoS: "int8",
        retainAvailable: "byte",
        assignedClientIdentifier: "string",
        reasonString: "string",
        wildcardSubscriptionAvailable: "byte",
        subscriptionIdentifiersAvailable: "byte",
        sharedSubscriptionAvailable: "byte",
        serverKeepAlive: "int16",
        responseInformation: "string",
        serverReference: "string",
        topicAlias: "int16",
        subscriptionIdentifier: "var"
      };
      function f(d) {
        return [0, 1, 2].map((p) => [0, 1].map((y) => [0, 1].map((v) => {
          const g = c.alloc(1);
          return g.writeUInt8(
            u.codes[d] << u.CMD_SHIFT | (y ? u.DUP_MASK : 0) | p << u.QOS_SHIFT | v,
            0,
            !0
          ), g;
        })));
      }
      u.PUBLISH_HEADER = f("publish"), u.SUBSCRIBE_HEADER = f("subscribe"), u.SUBSCRIBE_OPTIONS_QOS_MASK = 3, u.SUBSCRIBE_OPTIONS_NL_MASK = 1, u.SUBSCRIBE_OPTIONS_NL_SHIFT = 2, u.SUBSCRIBE_OPTIONS_RAP_MASK = 1, u.SUBSCRIBE_OPTIONS_RAP_SHIFT = 3, u.SUBSCRIBE_OPTIONS_RH_MASK = 3, u.SUBSCRIBE_OPTIONS_RH_SHIFT = 4, u.SUBSCRIBE_OPTIONS_RH = [0, 16, 32], u.SUBSCRIBE_OPTIONS_NL = 4, u.SUBSCRIBE_OPTIONS_RAP = 8, u.SUBSCRIBE_OPTIONS_QOS = [0, 1, 2], u.UNSUBSCRIBE_HEADER = f("unsubscribe"), u.ACKS = {
        unsuback: f("unsuback"),
        puback: f("puback"),
        pubcomp: f("pubcomp"),
        pubrel: f("pubrel"),
        pubrec: f("pubrec")
      }, u.SUBACK_HEADER = c.from([u.codes.suback << u.CMD_SHIFT]), u.VERSION3 = c.from([3]), u.VERSION4 = c.from([4]), u.VERSION5 = c.from([5]), u.VERSION131 = c.from([131]), u.VERSION132 = c.from([132]), u.QOS = [0, 1, 2].map((d) => c.from([d])), u.EMPTY = {
        pingreq: c.from([u.codes.pingreq << 4, 0]),
        pingresp: c.from([u.codes.pingresp << 4, 0]),
        disconnect: c.from([u.codes.disconnect << 4, 0])
      }, u.MQTT5_PUBACK_PUBREC_CODES = {
        0: "Success",
        16: "No matching subscribers",
        128: "Unspecified error",
        131: "Implementation specific error",
        135: "Not authorized",
        144: "Topic Name invalid",
        145: "Packet identifier in use",
        151: "Quota exceeded",
        153: "Payload format invalid"
      }, u.MQTT5_PUBREL_PUBCOMP_CODES = {
        0: "Success",
        146: "Packet Identifier not found"
      }, u.MQTT5_SUBACK_CODES = {
        0: "Granted QoS 0",
        1: "Granted QoS 1",
        2: "Granted QoS 2",
        128: "Unspecified error",
        131: "Implementation specific error",
        135: "Not authorized",
        143: "Topic Filter invalid",
        145: "Packet Identifier in use",
        151: "Quota exceeded",
        158: "Shared Subscriptions not supported",
        161: "Subscription Identifiers not supported",
        162: "Wildcard Subscriptions not supported"
      }, u.MQTT5_UNSUBACK_CODES = {
        0: "Success",
        17: "No subscription existed",
        128: "Unspecified error",
        131: "Implementation specific error",
        135: "Not authorized",
        143: "Topic Filter invalid",
        145: "Packet Identifier in use"
      }, u.MQTT5_DISCONNECT_CODES = {
        0: "Normal disconnection",
        4: "Disconnect with Will Message",
        128: "Unspecified error",
        129: "Malformed Packet",
        130: "Protocol Error",
        131: "Implementation specific error",
        135: "Not authorized",
        137: "Server busy",
        139: "Server shutting down",
        141: "Keep Alive timeout",
        142: "Session taken over",
        143: "Topic Filter invalid",
        144: "Topic Name invalid",
        147: "Receive Maximum exceeded",
        148: "Topic Alias invalid",
        149: "Packet too large",
        150: "Message rate too high",
        151: "Quota exceeded",
        152: "Administrative action",
        153: "Payload format invalid",
        154: "Retain not supported",
        155: "QoS not supported",
        156: "Use another server",
        157: "Server moved",
        158: "Shared Subscriptions not supported",
        159: "Connection rate exceeded",
        160: "Maximum connect time",
        161: "Subscription Identifiers not supported",
        162: "Wildcard Subscriptions not supported"
      }, u.MQTT5_AUTH_CODES = {
        0: "Success",
        24: "Continue authentication",
        25: "Re-authenticate"
      };
    }, { buffer: 29 }], 74: [function(r, o, a) {
      const u = r("./writeToStream"), c = r("events"), { Buffer: f } = r("buffer");
      function d(y, v) {
        const g = new p();
        return u(y, g, v), g.concat();
      }
      class p extends c {
        constructor() {
          super(), this._array = new Array(20), this._i = 0;
        }
        write(v) {
          return this._array[this._i++] = v, !0;
        }
        concat() {
          let v = 0;
          const g = new Array(this._array.length), _ = this._array;
          let b = 0, A;
          for (A = 0; A < _.length && _[A] !== void 0; A++)
            typeof _[A] != "string" ? g[A] = _[A].length : g[A] = f.byteLength(_[A]), v += g[A];
          const w = f.allocUnsafe(v);
          for (A = 0; A < _.length && _[A] !== void 0; A++)
            typeof _[A] != "string" ? (_[A].copy(w, b), b += g[A]) : (w.write(_[A], b), b += g[A]);
          return w;
        }
        destroy(v) {
          v && this.emit("error", v);
        }
      }
      o.exports = d;
    }, { "./writeToStream": 96, buffer: 29, events: 49 }], 75: [function(r, o, a) {
      a.parser = r("./parser").parser, a.generate = r("./generate"), a.writeToStream = r("./writeToStream");
    }, { "./generate": 74, "./parser": 95, "./writeToStream": 96 }], 76: [function(r, o, a) {
      const { Buffer: u } = r("buffer"), c = Symbol.for("BufferList");
      function f(d) {
        if (!(this instanceof f))
          return new f(d);
        f._init.call(this, d);
      }
      f._init = function(p) {
        Object.defineProperty(this, c, { value: !0 }), this._bufs = [], this.length = 0, p && this.append(p);
      }, f.prototype._new = function(p) {
        return new f(p);
      }, f.prototype._offset = function(p) {
        if (p === 0)
          return [0, 0];
        let y = 0;
        for (let v = 0; v < this._bufs.length; v++) {
          const g = y + this._bufs[v].length;
          if (p < g || v === this._bufs.length - 1)
            return [v, p - y];
          y = g;
        }
      }, f.prototype._reverseOffset = function(d) {
        const p = d[0];
        let y = d[1];
        for (let v = 0; v < p; v++)
          y += this._bufs[v].length;
        return y;
      }, f.prototype.get = function(p) {
        if (p > this.length || p < 0)
          return;
        const y = this._offset(p);
        return this._bufs[y[0]][y[1]];
      }, f.prototype.slice = function(p, y) {
        return typeof p == "number" && p < 0 && (p += this.length), typeof y == "number" && y < 0 && (y += this.length), this.copy(null, 0, p, y);
      }, f.prototype.copy = function(p, y, v, g) {
        if ((typeof v != "number" || v < 0) && (v = 0), (typeof g != "number" || g > this.length) && (g = this.length), v >= this.length || g <= 0)
          return p || u.alloc(0);
        const _ = !!p, b = this._offset(v), A = g - v;
        let w = A, S = _ && y || 0, T = b[1];
        if (v === 0 && g === this.length) {
          if (!_)
            return this._bufs.length === 1 ? this._bufs[0] : u.concat(this._bufs, this.length);
          for (let x = 0; x < this._bufs.length; x++)
            this._bufs[x].copy(p, S), S += this._bufs[x].length;
          return p;
        }
        if (w <= this._bufs[b[0]].length - T)
          return _ ? this._bufs[b[0]].copy(p, y, T, T + w) : this._bufs[b[0]].slice(T, T + w);
        _ || (p = u.allocUnsafe(A));
        for (let x = b[0]; x < this._bufs.length; x++) {
          const L = this._bufs[x].length - T;
          if (w > L)
            this._bufs[x].copy(p, S, T), S += L;
          else {
            this._bufs[x].copy(p, S, T, T + w), S += L;
            break;
          }
          w -= L, T && (T = 0);
        }
        return p.length > S ? p.slice(0, S) : p;
      }, f.prototype.shallowSlice = function(p, y) {
        if (p = p || 0, y = typeof y != "number" ? this.length : y, p < 0 && (p += this.length), y < 0 && (y += this.length), p === y)
          return this._new();
        const v = this._offset(p), g = this._offset(y), _ = this._bufs.slice(v[0], g[0] + 1);
        return g[1] === 0 ? _.pop() : _[_.length - 1] = _[_.length - 1].slice(0, g[1]), v[1] !== 0 && (_[0] = _[0].slice(v[1])), this._new(_);
      }, f.prototype.toString = function(p, y, v) {
        return this.slice(y, v).toString(p);
      }, f.prototype.consume = function(p) {
        if (p = Math.trunc(p), Number.isNaN(p) || p <= 0)
          return this;
        for (; this._bufs.length; )
          if (p >= this._bufs[0].length)
            p -= this._bufs[0].length, this.length -= this._bufs[0].length, this._bufs.shift();
          else {
            this._bufs[0] = this._bufs[0].slice(p), this.length -= p;
            break;
          }
        return this;
      }, f.prototype.duplicate = function() {
        const p = this._new();
        for (let y = 0; y < this._bufs.length; y++)
          p.append(this._bufs[y]);
        return p;
      }, f.prototype.append = function(p) {
        if (p == null)
          return this;
        if (p.buffer)
          this._appendBuffer(u.from(p.buffer, p.byteOffset, p.byteLength));
        else if (Array.isArray(p))
          for (let y = 0; y < p.length; y++)
            this.append(p[y]);
        else if (this._isBufferList(p))
          for (let y = 0; y < p._bufs.length; y++)
            this.append(p._bufs[y]);
        else
          typeof p == "number" && (p = p.toString()), this._appendBuffer(u.from(p));
        return this;
      }, f.prototype._appendBuffer = function(p) {
        this._bufs.push(p), this.length += p.length;
      }, f.prototype.indexOf = function(d, p, y) {
        if (y === void 0 && typeof p == "string" && (y = p, p = void 0), typeof d == "function" || Array.isArray(d))
          throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');
        if (typeof d == "number" ? d = u.from([d]) : typeof d == "string" ? d = u.from(d, y) : this._isBufferList(d) ? d = d.slice() : Array.isArray(d.buffer) ? d = u.from(d.buffer, d.byteOffset, d.byteLength) : u.isBuffer(d) || (d = u.from(d)), p = Number(p || 0), isNaN(p) && (p = 0), p < 0 && (p = this.length + p), p < 0 && (p = 0), d.length === 0)
          return p > this.length ? this.length : p;
        const v = this._offset(p);
        let g = v[0], _ = v[1];
        for (; g < this._bufs.length; g++) {
          const b = this._bufs[g];
          for (; _ < b.length; )
            if (b.length - _ >= d.length) {
              const w = b.indexOf(d, _);
              if (w !== -1)
                return this._reverseOffset([g, w]);
              _ = b.length - d.length + 1;
            } else {
              const w = this._reverseOffset([g, _]);
              if (this._match(w, d))
                return w;
              _++;
            }
          _ = 0;
        }
        return -1;
      }, f.prototype._match = function(d, p) {
        if (this.length - d < p.length)
          return !1;
        for (let y = 0; y < p.length; y++)
          if (this.get(d + y) !== p[y])
            return !1;
        return !0;
      }, function() {
        const d = {
          readDoubleBE: 8,
          readDoubleLE: 8,
          readFloatBE: 4,
          readFloatLE: 4,
          readInt32BE: 4,
          readInt32LE: 4,
          readUInt32BE: 4,
          readUInt32LE: 4,
          readInt16BE: 2,
          readInt16LE: 2,
          readUInt16BE: 2,
          readUInt16LE: 2,
          readInt8: 1,
          readUInt8: 1,
          readIntBE: null,
          readIntLE: null,
          readUIntBE: null,
          readUIntLE: null
        };
        for (const p in d)
          (function(y) {
            d[y] === null ? f.prototype[y] = function(v, g) {
              return this.slice(v, v + g)[y](0, g);
            } : f.prototype[y] = function(v = 0) {
              return this.slice(v, v + d[y])[y](0);
            };
          })(p);
      }(), f.prototype._isBufferList = function(p) {
        return p instanceof f || f.isBufferList(p);
      }, f.isBufferList = function(p) {
        return p != null && p[c];
      }, o.exports = f;
    }, { buffer: 29 }], 77: [function(r, o, a) {
      const u = r("readable-stream").Duplex, c = r("inherits"), f = r("./BufferList");
      function d(p) {
        if (!(this instanceof d))
          return new d(p);
        if (typeof p == "function") {
          this._callback = p;
          const y = function(g) {
            this._callback && (this._callback(g), this._callback = null);
          }.bind(this);
          this.on("pipe", function(g) {
            g.on("error", y);
          }), this.on("unpipe", function(g) {
            g.removeListener("error", y);
          }), p = null;
        }
        f._init.call(this, p), u.call(this);
      }
      c(d, u), Object.assign(d.prototype, f.prototype), d.prototype._new = function(y) {
        return new d(y);
      }, d.prototype._write = function(y, v, g) {
        this._appendBuffer(y), typeof g == "function" && g();
      }, d.prototype._read = function(y) {
        if (!this.length)
          return this.push(null);
        y = Math.min(y, this.length), this.push(this.slice(0, y)), this.consume(y);
      }, d.prototype.end = function(y) {
        u.prototype.end.call(this, y), this._callback && (this._callback(null, this.slice()), this._callback = null);
      }, d.prototype._destroy = function(y, v) {
        this._bufs.length = 0, this.length = 0, v(y);
      }, d.prototype._isBufferList = function(y) {
        return y instanceof d || y instanceof f || d.isBufferList(y);
      }, d.isBufferList = f.isBufferList, o.exports = d, o.exports.BufferListStream = d, o.exports.BufferList = f;
    }, { "./BufferList": 76, inherits: 51, "readable-stream": 92 }], 78: [function(r, o, a) {
      arguments[4][33][0].apply(a, arguments);
    }, { dup: 33 }], 79: [function(r, o, a) {
      arguments[4][34][0].apply(a, arguments);
    }, { "./_stream_readable": 81, "./_stream_writable": 83, _process: 102, dup: 34, inherits: 51 }], 80: [function(r, o, a) {
      arguments[4][35][0].apply(a, arguments);
    }, { "./_stream_transform": 82, dup: 35, inherits: 51 }], 81: [function(r, o, a) {
      arguments[4][36][0].apply(a, arguments);
    }, { "../errors": 78, "./_stream_duplex": 79, "./internal/streams/async_iterator": 84, "./internal/streams/buffer_list": 85, "./internal/streams/destroy": 86, "./internal/streams/from": 88, "./internal/streams/state": 90, "./internal/streams/stream": 91, _process: 102, buffer: 29, dup: 36, events: 49, inherits: 51, "string_decoder/": 136, util: 26 }], 82: [function(r, o, a) {
      arguments[4][37][0].apply(a, arguments);
    }, { "../errors": 78, "./_stream_duplex": 79, dup: 37, inherits: 51 }], 83: [function(r, o, a) {
      arguments[4][38][0].apply(a, arguments);
    }, { "../errors": 78, "./_stream_duplex": 79, "./internal/streams/destroy": 86, "./internal/streams/state": 90, "./internal/streams/stream": 91, _process: 102, buffer: 29, dup: 38, inherits: 51, "util-deprecate": 139 }], 84: [function(r, o, a) {
      arguments[4][39][0].apply(a, arguments);
    }, { "./end-of-stream": 87, _process: 102, dup: 39 }], 85: [function(r, o, a) {
      arguments[4][40][0].apply(a, arguments);
    }, { buffer: 29, dup: 40, util: 26 }], 86: [function(r, o, a) {
      arguments[4][41][0].apply(a, arguments);
    }, { _process: 102, dup: 41 }], 87: [function(r, o, a) {
      arguments[4][42][0].apply(a, arguments);
    }, { "../../../errors": 78, dup: 42 }], 88: [function(r, o, a) {
      arguments[4][43][0].apply(a, arguments);
    }, { dup: 43 }], 89: [function(r, o, a) {
      arguments[4][44][0].apply(a, arguments);
    }, { "../../../errors": 78, "./end-of-stream": 87, dup: 44 }], 90: [function(r, o, a) {
      arguments[4][45][0].apply(a, arguments);
    }, { "../../../errors": 78, dup: 45 }], 91: [function(r, o, a) {
      arguments[4][46][0].apply(a, arguments);
    }, { dup: 46, events: 49 }], 92: [function(r, o, a) {
      arguments[4][47][0].apply(a, arguments);
    }, { "./lib/_stream_duplex.js": 79, "./lib/_stream_passthrough.js": 80, "./lib/_stream_readable.js": 81, "./lib/_stream_transform.js": 82, "./lib/_stream_writable.js": 83, "./lib/internal/streams/end-of-stream.js": 87, "./lib/internal/streams/pipeline.js": 89, dup: 47 }], 93: [function(r, o, a) {
      const { Buffer: u } = r("buffer"), c = 65536, f = {}, d = u.isBuffer(u.from([1, 2]).subarray(0, 1));
      function p(_) {
        const b = u.allocUnsafe(2);
        return b.writeUInt8(_ >> 8, 0), b.writeUInt8(_ & 255, 0 + 1), b;
      }
      function y() {
        for (let _ = 0; _ < c; _++)
          f[_] = p(_);
      }
      function v(_) {
        let A = 0, w = 0;
        const S = u.allocUnsafe(4);
        do
          A = _ % 128 | 0, _ = _ / 128 | 0, _ > 0 && (A = A | 128), S.writeUInt8(A, w++);
        while (_ > 0 && w < 4);
        return _ > 0 && (w = 0), d ? S.subarray(0, w) : S.slice(0, w);
      }
      function g(_) {
        const b = u.allocUnsafe(4);
        return b.writeUInt32BE(_, 0), b;
      }
      o.exports = {
        cache: f,
        generateCache: y,
        generateNumber: p,
        genBufVariableByteInt: v,
        generate4ByteBuffer: g
      };
    }, { buffer: 29 }], 94: [function(r, o, a) {
      class u {
        constructor() {
          this.cmd = null, this.retain = !1, this.qos = 0, this.dup = !1, this.length = -1, this.topic = null, this.payload = null;
        }
      }
      o.exports = u;
    }, {}], 95: [function(r, o, a) {
      const u = r("bl"), c = r("events"), f = r("./packet"), d = r("./constants"), p = r("debug")("mqtt-packet:parser");
      class y extends c {
        constructor() {
          super(), this.parser = this.constructor.parser;
        }
        static parser(g) {
          return this instanceof y ? (this.settings = g || {}, this._states = [
            "_parseHeader",
            "_parseLength",
            "_parsePayload",
            "_newPacket"
          ], this._resetState(), this) : new y().parser(g);
        }
        _resetState() {
          p("_resetState: resetting packet, error, _list, and _stateCounter"), this.packet = new f(), this.error = null, this._list = u(), this._stateCounter = 0;
        }
        parse(g) {
          for (this.error && this._resetState(), this._list.append(g), p("parse: current state: %s", this._states[this._stateCounter]); (this.packet.length !== -1 || this._list.length > 0) && this[this._states[this._stateCounter]]() && !this.error; )
            this._stateCounter++, p("parse: state complete. _stateCounter is now: %d", this._stateCounter), p("parse: packet.length: %d, buffer list length: %d", this.packet.length, this._list.length), this._stateCounter >= this._states.length && (this._stateCounter = 0);
          return p("parse: exited while loop. packet: %d, buffer list length: %d", this.packet.length, this._list.length), this._list.length;
        }
        _parseHeader() {
          const g = this._list.readUInt8(0), _ = g >> d.CMD_SHIFT;
          this.packet.cmd = d.types[_];
          const b = g & 15, A = d.requiredHeaderFlags[_];
          return A != null && b !== A ? this._emitError(new Error(d.requiredHeaderFlagsErrors[_])) : (this.packet.retain = (g & d.RETAIN_MASK) !== 0, this.packet.qos = g >> d.QOS_SHIFT & d.QOS_MASK, this.packet.qos > 2 ? this._emitError(new Error("Packet must not have both QoS bits set to 1")) : (this.packet.dup = (g & d.DUP_MASK) !== 0, p("_parseHeader: packet: %o", this.packet), this._list.consume(1), !0));
        }
        _parseLength() {
          const g = this._parseVarByteNum(!0);
          return g && (this.packet.length = g.value, this._list.consume(g.bytes)), p("_parseLength %d", g.value), !!g;
        }
        _parsePayload() {
          p("_parsePayload: payload %O", this._list);
          let g = !1;
          if (this.packet.length === 0 || this._list.length >= this.packet.length) {
            switch (this._pos = 0, this.packet.cmd) {
              case "connect":
                this._parseConnect();
                break;
              case "connack":
                this._parseConnack();
                break;
              case "publish":
                this._parsePublish();
                break;
              case "puback":
              case "pubrec":
              case "pubrel":
              case "pubcomp":
                this._parseConfirmation();
                break;
              case "subscribe":
                this._parseSubscribe();
                break;
              case "suback":
                this._parseSuback();
                break;
              case "unsubscribe":
                this._parseUnsubscribe();
                break;
              case "unsuback":
                this._parseUnsuback();
                break;
              case "pingreq":
              case "pingresp":
                break;
              case "disconnect":
                this._parseDisconnect();
                break;
              case "auth":
                this._parseAuth();
                break;
              default:
                this._emitError(new Error("Not supported"));
            }
            g = !0;
          }
          return p("_parsePayload complete result: %s", g), g;
        }
        _parseConnect() {
          p("_parseConnect");
          let g, _, b, A;
          const w = {}, S = this.packet, T = this._parseString();
          if (T === null)
            return this._emitError(new Error("Cannot parse protocolId"));
          if (T !== "MQTT" && T !== "MQIsdp")
            return this._emitError(new Error("Invalid protocolId"));
          if (S.protocolId = T, this._pos >= this._list.length)
            return this._emitError(new Error("Packet too short"));
          if (S.protocolVersion = this._list.readUInt8(this._pos), S.protocolVersion >= 128 && (S.bridgeMode = !0, S.protocolVersion = S.protocolVersion - 128), S.protocolVersion !== 3 && S.protocolVersion !== 4 && S.protocolVersion !== 5)
            return this._emitError(new Error("Invalid protocol version"));
          if (this._pos++, this._pos >= this._list.length)
            return this._emitError(new Error("Packet too short"));
          if (this._list.readUInt8(this._pos) & 1)
            return this._emitError(new Error("Connect flag bit 0 must be 0, but got 1"));
          w.username = this._list.readUInt8(this._pos) & d.USERNAME_MASK, w.password = this._list.readUInt8(this._pos) & d.PASSWORD_MASK, w.will = this._list.readUInt8(this._pos) & d.WILL_FLAG_MASK;
          const x = !!(this._list.readUInt8(this._pos) & d.WILL_RETAIN_MASK), L = (this._list.readUInt8(this._pos) & d.WILL_QOS_MASK) >> d.WILL_QOS_SHIFT;
          if (w.will)
            S.will = {}, S.will.retain = x, S.will.qos = L;
          else {
            if (x)
              return this._emitError(new Error("Will Retain Flag must be set to zero when Will Flag is set to 0"));
            if (L)
              return this._emitError(new Error("Will QoS must be set to zero when Will Flag is set to 0"));
          }
          if (S.clean = (this._list.readUInt8(this._pos) & d.CLEAN_SESSION_MASK) !== 0, this._pos++, S.keepalive = this._parseNum(), S.keepalive === -1)
            return this._emitError(new Error("Packet too short"));
          if (S.protocolVersion === 5) {
            const M = this._parseProperties();
            Object.getOwnPropertyNames(M).length && (S.properties = M);
          }
          const k = this._parseString();
          if (k === null)
            return this._emitError(new Error("Packet too short"));
          if (S.clientId = k, p("_parseConnect: packet.clientId: %s", S.clientId), w.will) {
            if (S.protocolVersion === 5) {
              const M = this._parseProperties();
              Object.getOwnPropertyNames(M).length && (S.will.properties = M);
            }
            if (g = this._parseString(), g === null)
              return this._emitError(new Error("Cannot parse will topic"));
            if (S.will.topic = g, p("_parseConnect: packet.will.topic: %s", S.will.topic), _ = this._parseBuffer(), _ === null)
              return this._emitError(new Error("Cannot parse will payload"));
            S.will.payload = _, p("_parseConnect: packet.will.paylaod: %s", S.will.payload);
          }
          if (w.username) {
            if (A = this._parseString(), A === null)
              return this._emitError(new Error("Cannot parse username"));
            S.username = A, p("_parseConnect: packet.username: %s", S.username);
          }
          if (w.password) {
            if (b = this._parseBuffer(), b === null)
              return this._emitError(new Error("Cannot parse password"));
            S.password = b;
          }
          return this.settings = S, p("_parseConnect: complete"), S;
        }
        _parseConnack() {
          p("_parseConnack");
          const g = this.packet;
          if (this._list.length < 1)
            return null;
          const _ = this._list.readUInt8(this._pos++);
          if (_ > 1)
            return this._emitError(new Error("Invalid connack flags, bits 7-1 must be set to 0"));
          if (g.sessionPresent = !!(_ & d.SESSIONPRESENT_MASK), this.settings.protocolVersion === 5)
            this._list.length >= 2 ? g.reasonCode = this._list.readUInt8(this._pos++) : g.reasonCode = 0;
          else {
            if (this._list.length < 2)
              return null;
            g.returnCode = this._list.readUInt8(this._pos++);
          }
          if (g.returnCode === -1 || g.reasonCode === -1)
            return this._emitError(new Error("Cannot parse return code"));
          if (this.settings.protocolVersion === 5) {
            const b = this._parseProperties();
            Object.getOwnPropertyNames(b).length && (g.properties = b);
          }
          p("_parseConnack: complete");
        }
        _parsePublish() {
          p("_parsePublish");
          const g = this.packet;
          if (g.topic = this._parseString(), g.topic === null)
            return this._emitError(new Error("Cannot parse topic"));
          if (!(g.qos > 0 && !this._parseMessageId())) {
            if (this.settings.protocolVersion === 5) {
              const _ = this._parseProperties();
              Object.getOwnPropertyNames(_).length && (g.properties = _);
            }
            g.payload = this._list.slice(this._pos, g.length), p("_parsePublish: payload from buffer list: %o", g.payload);
          }
        }
        _parseSubscribe() {
          p("_parseSubscribe");
          const g = this.packet;
          let _, b, A, w, S, T, x;
          if (g.subscriptions = [], !!this._parseMessageId()) {
            if (this.settings.protocolVersion === 5) {
              const L = this._parseProperties();
              Object.getOwnPropertyNames(L).length && (g.properties = L);
            }
            if (g.length <= 0)
              return this._emitError(new Error("Malformed subscribe, no payload specified"));
            for (; this._pos < g.length; ) {
              if (_ = this._parseString(), _ === null)
                return this._emitError(new Error("Cannot parse topic"));
              if (this._pos >= g.length)
                return this._emitError(new Error("Malformed Subscribe Payload"));
              if (b = this._parseByte(), this.settings.protocolVersion === 5) {
                if (b & 192)
                  return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-6 must be 0"));
              } else if (b & 252)
                return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-2 must be 0"));
              if (A = b & d.SUBSCRIBE_OPTIONS_QOS_MASK, A > 2)
                return this._emitError(new Error("Invalid subscribe QoS, must be <= 2"));
              if (T = (b >> d.SUBSCRIBE_OPTIONS_NL_SHIFT & d.SUBSCRIBE_OPTIONS_NL_MASK) !== 0, S = (b >> d.SUBSCRIBE_OPTIONS_RAP_SHIFT & d.SUBSCRIBE_OPTIONS_RAP_MASK) !== 0, w = b >> d.SUBSCRIBE_OPTIONS_RH_SHIFT & d.SUBSCRIBE_OPTIONS_RH_MASK, w > 2)
                return this._emitError(new Error("Invalid retain handling, must be <= 2"));
              x = { topic: _, qos: A }, this.settings.protocolVersion === 5 ? (x.nl = T, x.rap = S, x.rh = w) : this.settings.bridgeMode && (x.rh = 0, x.rap = !0, x.nl = !0), p("_parseSubscribe: push subscription `%s` to subscription", x), g.subscriptions.push(x);
            }
          }
        }
        _parseSuback() {
          p("_parseSuback");
          const g = this.packet;
          if (this.packet.granted = [], !!this._parseMessageId()) {
            if (this.settings.protocolVersion === 5) {
              const _ = this._parseProperties();
              Object.getOwnPropertyNames(_).length && (g.properties = _);
            }
            if (g.length <= 0)
              return this._emitError(new Error("Malformed suback, no payload specified"));
            for (; this._pos < this.packet.length; ) {
              const _ = this._list.readUInt8(this._pos++);
              if (this.settings.protocolVersion === 5) {
                if (!d.MQTT5_SUBACK_CODES[_])
                  return this._emitError(new Error("Invalid suback code"));
              } else if (_ > 2 && _ !== 128)
                return this._emitError(new Error("Invalid suback QoS, must be 0, 1, 2 or 128"));
              this.packet.granted.push(_);
            }
          }
        }
        _parseUnsubscribe() {
          p("_parseUnsubscribe");
          const g = this.packet;
          if (g.unsubscriptions = [], !!this._parseMessageId()) {
            if (this.settings.protocolVersion === 5) {
              const _ = this._parseProperties();
              Object.getOwnPropertyNames(_).length && (g.properties = _);
            }
            if (g.length <= 0)
              return this._emitError(new Error("Malformed unsubscribe, no payload specified"));
            for (; this._pos < g.length; ) {
              const _ = this._parseString();
              if (_ === null)
                return this._emitError(new Error("Cannot parse topic"));
              p("_parseUnsubscribe: push topic `%s` to unsubscriptions", _), g.unsubscriptions.push(_);
            }
          }
        }
        _parseUnsuback() {
          p("_parseUnsuback");
          const g = this.packet;
          if (!this._parseMessageId())
            return this._emitError(new Error("Cannot parse messageId"));
          if ((this.settings.protocolVersion === 3 || this.settings.protocolVersion === 4) && g.length !== 2)
            return this._emitError(new Error("Malformed unsuback, payload length must be 2"));
          if (g.length <= 0)
            return this._emitError(new Error("Malformed unsuback, no payload specified"));
          if (this.settings.protocolVersion === 5) {
            const _ = this._parseProperties();
            for (Object.getOwnPropertyNames(_).length && (g.properties = _), g.granted = []; this._pos < this.packet.length; ) {
              const b = this._list.readUInt8(this._pos++);
              if (!d.MQTT5_UNSUBACK_CODES[b])
                return this._emitError(new Error("Invalid unsuback code"));
              this.packet.granted.push(b);
            }
          }
        }
        // parse packets like puback, pubrec, pubrel, pubcomp
        _parseConfirmation() {
          p("_parseConfirmation: packet.cmd: `%s`", this.packet.cmd);
          const g = this.packet;
          if (this._parseMessageId(), this.settings.protocolVersion === 5) {
            if (g.length > 2) {
              switch (g.reasonCode = this._parseByte(), this.packet.cmd) {
                case "puback":
                case "pubrec":
                  if (!d.MQTT5_PUBACK_PUBREC_CODES[g.reasonCode])
                    return this._emitError(new Error("Invalid " + this.packet.cmd + " reason code"));
                  break;
                case "pubrel":
                case "pubcomp":
                  if (!d.MQTT5_PUBREL_PUBCOMP_CODES[g.reasonCode])
                    return this._emitError(new Error("Invalid " + this.packet.cmd + " reason code"));
                  break;
              }
              p("_parseConfirmation: packet.reasonCode `%d`", g.reasonCode);
            } else
              g.reasonCode = 0;
            if (g.length > 3) {
              const _ = this._parseProperties();
              Object.getOwnPropertyNames(_).length && (g.properties = _);
            }
          }
          return !0;
        }
        // parse disconnect packet
        _parseDisconnect() {
          const g = this.packet;
          if (p("_parseDisconnect"), this.settings.protocolVersion === 5) {
            this._list.length > 0 ? (g.reasonCode = this._parseByte(), d.MQTT5_DISCONNECT_CODES[g.reasonCode] || this._emitError(new Error("Invalid disconnect reason code"))) : g.reasonCode = 0;
            const _ = this._parseProperties();
            Object.getOwnPropertyNames(_).length && (g.properties = _);
          }
          return p("_parseDisconnect result: true"), !0;
        }
        // parse auth packet
        _parseAuth() {
          p("_parseAuth");
          const g = this.packet;
          if (this.settings.protocolVersion !== 5)
            return this._emitError(new Error("Not supported auth packet for this version MQTT"));
          if (g.reasonCode = this._parseByte(), !d.MQTT5_AUTH_CODES[g.reasonCode])
            return this._emitError(new Error("Invalid auth reason code"));
          const _ = this._parseProperties();
          return Object.getOwnPropertyNames(_).length && (g.properties = _), p("_parseAuth: result: true"), !0;
        }
        _parseMessageId() {
          const g = this.packet;
          return g.messageId = this._parseNum(), g.messageId === null ? (this._emitError(new Error("Cannot parse messageId")), !1) : (p("_parseMessageId: packet.messageId %d", g.messageId), !0);
        }
        _parseString(g) {
          const _ = this._parseNum(), b = _ + this._pos;
          if (_ === -1 || b > this._list.length || b > this.packet.length)
            return null;
          const A = this._list.toString("utf8", this._pos, b);
          return this._pos += _, p("_parseString: result: %s", A), A;
        }
        _parseStringPair() {
          return p("_parseStringPair"), {
            name: this._parseString(),
            value: this._parseString()
          };
        }
        _parseBuffer() {
          const g = this._parseNum(), _ = g + this._pos;
          if (g === -1 || _ > this._list.length || _ > this.packet.length)
            return null;
          const b = this._list.slice(this._pos, _);
          return this._pos += g, p("_parseBuffer: result: %o", b), b;
        }
        _parseNum() {
          if (this._list.length - this._pos < 2)
            return -1;
          const g = this._list.readUInt16BE(this._pos);
          return this._pos += 2, p("_parseNum: result: %s", g), g;
        }
        _parse4ByteNum() {
          if (this._list.length - this._pos < 4)
            return -1;
          const g = this._list.readUInt32BE(this._pos);
          return this._pos += 4, p("_parse4ByteNum: result: %s", g), g;
        }
        _parseVarByteNum(g) {
          p("_parseVarByteNum");
          const _ = 4;
          let b = 0, A = 1, w = 0, S = !1, T;
          const x = this._pos ? this._pos : 0;
          for (; b < _ && x + b < this._list.length; ) {
            if (T = this._list.readUInt8(x + b++), w += A * (T & d.VARBYTEINT_MASK), A *= 128, !(T & d.VARBYTEINT_FIN_MASK)) {
              S = !0;
              break;
            }
            if (this._list.length <= b)
              break;
          }
          return !S && b === _ && this._list.length >= b && this._emitError(new Error("Invalid variable byte integer")), x && (this._pos += b), S ? g ? S = { bytes: b, value: w } : S = w : S = !1, p("_parseVarByteNum: result: %o", S), S;
        }
        _parseByte() {
          let g;
          return this._pos < this._list.length && (g = this._list.readUInt8(this._pos), this._pos++), p("_parseByte: result: %o", g), g;
        }
        _parseByType(g) {
          switch (p("_parseByType: type: %s", g), g) {
            case "byte":
              return this._parseByte() !== 0;
            case "int8":
              return this._parseByte();
            case "int16":
              return this._parseNum();
            case "int32":
              return this._parse4ByteNum();
            case "var":
              return this._parseVarByteNum();
            case "string":
              return this._parseString();
            case "pair":
              return this._parseStringPair();
            case "binary":
              return this._parseBuffer();
          }
        }
        _parseProperties() {
          p("_parseProperties");
          const g = this._parseVarByteNum(), b = this._pos + g, A = {};
          for (; this._pos < b; ) {
            const w = this._parseByte();
            if (!w)
              return this._emitError(new Error("Cannot parse property code type")), !1;
            const S = d.propertiesCodes[w];
            if (!S)
              return this._emitError(new Error("Unknown property")), !1;
            if (S === "userProperties") {
              A[S] || (A[S] = /* @__PURE__ */ Object.create(null));
              const T = this._parseByType(d.propertiesTypes[S]);
              if (A[S][T.name])
                if (Array.isArray(A[S][T.name]))
                  A[S][T.name].push(T.value);
                else {
                  const x = A[S][T.name];
                  A[S][T.name] = [x], A[S][T.name].push(T.value);
                }
              else
                A[S][T.name] = T.value;
              continue;
            }
            A[S] ? Array.isArray(A[S]) ? A[S].push(this._parseByType(d.propertiesTypes[S])) : (A[S] = [A[S]], A[S].push(this._parseByType(d.propertiesTypes[S]))) : A[S] = this._parseByType(d.propertiesTypes[S]);
          }
          return A;
        }
        _newPacket() {
          return p("_newPacket"), this.packet && (this._list.consume(this.packet.length), p("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d", this.packet.cmd, this.packet.payload, this.packet.length), this.emit("packet", this.packet)), p("_newPacket: new packet"), this.packet = new f(), this._pos = 0, !0;
        }
        _emitError(g) {
          p("_emitError", g), this.error = g, this.emit("error", g);
        }
      }
      o.exports = y;
    }, { "./constants": 73, "./packet": 94, bl: 77, debug: 30, events: 49 }], 96: [function(r, o, a) {
      const u = r("./constants"), { Buffer: c } = r("buffer"), f = c.allocUnsafe(0), d = c.from([0]), p = r("./numbers"), y = r("process-nextick-args").nextTick, v = r("debug")("mqtt-packet:writeToStream"), g = p.cache, _ = p.generateNumber, b = p.generateCache, A = p.genBufVariableByteInt, w = p.generate4ByteBuffer;
      let S = hn, T = !0;
      function x(_e, de, Et) {
        switch (v("generate called"), de.cork && (de.cork(), y(L, de)), T && (T = !1, b()), v("generate: packet.cmd: %s", _e.cmd), _e.cmd) {
          case "connect":
            return k(_e, de);
          case "connack":
            return M(_e, de, Et);
          case "publish":
            return O(_e, de, Et);
          case "puback":
          case "pubrec":
          case "pubrel":
          case "pubcomp":
            return ie(_e, de, Et);
          case "subscribe":
            return F(_e, de, Et);
          case "suback":
            return j(_e, de, Et);
          case "unsubscribe":
            return D(_e, de, Et);
          case "unsuback":
            return Y(_e, de, Et);
          case "pingreq":
          case "pingresp":
            return z(_e, de);
          case "disconnect":
            return Ie(_e, de, Et);
          case "auth":
            return ue(_e, de, Et);
          default:
            return de.destroy(new Error("Unknown command")), !1;
        }
      }
      Object.defineProperty(x, "cacheNumbers", {
        get() {
          return S === hn;
        },
        set(_e) {
          _e ? ((!g || Object.keys(g).length === 0) && (T = !0), S = hn) : (T = !1, S = Pt);
        }
      });
      function L(_e) {
        _e.uncork();
      }
      function k(_e, de, Et) {
        const Ve = _e || {}, $e = Ve.protocolId || "MQTT";
        let kt = Ve.protocolVersion || 4;
        const jt = Ve.will;
        let bn = Ve.clean;
        const oe = Ve.keepalive || 0, ae = Ve.clientId || "", re = Ve.username, V = Ve.password, $ = Ve.properties;
        bn === void 0 && (bn = !0);
        let le = 0;
        if (!$e || typeof $e != "string" && !c.isBuffer($e))
          return de.destroy(new Error("Invalid protocolId")), !1;
        if (le += $e.length + 2, kt !== 3 && kt !== 4 && kt !== 5)
          return de.destroy(new Error("Invalid protocol version")), !1;
        if (le += 1, (typeof ae == "string" || c.isBuffer(ae)) && (ae || kt >= 4) && (ae || bn))
          le += c.byteLength(ae) + 2;
        else {
          if (kt < 4)
            return de.destroy(new Error("clientId must be supplied before 3.1.1")), !1;
          if (bn * 1 === 0)
            return de.destroy(new Error("clientId must be given if cleanSession set to 0")), !1;
        }
        if (typeof oe != "number" || oe < 0 || oe > 65535 || oe % 1 !== 0)
          return de.destroy(new Error("Invalid keepalive")), !1;
        le += 2, le += 1;
        let Oe, Ue;
        if (kt === 5) {
          if (Oe = Dt(de, $), !Oe)
            return !1;
          le += Oe.length;
        }
        if (jt) {
          if (typeof jt != "object")
            return de.destroy(new Error("Invalid will")), !1;
          if (!jt.topic || typeof jt.topic != "string")
            return de.destroy(new Error("Invalid will topic")), !1;
          if (le += c.byteLength(jt.topic) + 2, le += 2, jt.payload)
            if (jt.payload.length >= 0)
              typeof jt.payload == "string" ? le += c.byteLength(jt.payload) : le += jt.payload.length;
            else
              return de.destroy(new Error("Invalid will payload")), !1;
          if (Ue = {}, kt === 5) {
            if (Ue = Dt(de, jt.properties), !Ue)
              return !1;
            le += Ue.length;
          }
        }
        let vn = !1;
        if (re != null)
          if (ze(re))
            vn = !0, le += c.byteLength(re) + 2;
          else
            return de.destroy(new Error("Invalid username")), !1;
        if (V != null) {
          if (!vn)
            return de.destroy(new Error("Username is required to use password")), !1;
          if (ze(V))
            le += Cn(V) + 2;
          else
            return de.destroy(new Error("Invalid password")), !1;
        }
        de.write(u.CONNECT_HEADER), pe(de, le), In(de, $e), Ve.bridgeMode && (kt += 128), de.write(
          kt === 131 ? u.VERSION131 : kt === 132 ? u.VERSION132 : kt === 4 ? u.VERSION4 : kt === 5 ? u.VERSION5 : u.VERSION3
        );
        let wn = 0;
        return wn |= re != null ? u.USERNAME_MASK : 0, wn |= V != null ? u.PASSWORD_MASK : 0, wn |= jt && jt.retain ? u.WILL_RETAIN_MASK : 0, wn |= jt && jt.qos ? jt.qos << u.WILL_QOS_SHIFT : 0, wn |= jt ? u.WILL_FLAG_MASK : 0, wn |= bn ? u.CLEAN_SESSION_MASK : 0, de.write(c.from([wn])), S(de, oe), kt === 5 && Oe.write(), In(de, ae), jt && (kt === 5 && Ue.write(), Ne(de, jt.topic), In(de, jt.payload)), re != null && In(de, re), V != null && In(de, V), !0;
      }
      function M(_e, de, Et) {
        const Ve = Et ? Et.protocolVersion : 4, $e = _e || {}, kt = Ve === 5 ? $e.reasonCode : $e.returnCode, jt = $e.properties;
        let bn = 2;
        if (typeof kt != "number")
          return de.destroy(new Error("Invalid return code")), !1;
        let oe = null;
        if (Ve === 5) {
          if (oe = Dt(de, jt), !oe)
            return !1;
          bn += oe.length;
        }
        return de.write(u.CONNACK_HEADER), pe(de, bn), de.write($e.sessionPresent ? u.SESSIONPRESENT_HEADER : d), de.write(c.from([kt])), oe != null && oe.write(), !0;
      }
      function O(_e, de, Et) {
        v("publish: packet: %o", _e);
        const Ve = Et ? Et.protocolVersion : 4, $e = _e || {}, kt = $e.qos || 0, jt = $e.retain ? u.RETAIN_MASK : 0, bn = $e.topic, oe = $e.payload || f, ae = $e.messageId, re = $e.properties;
        let V = 0;
        if (typeof bn == "string")
          V += c.byteLength(bn) + 2;
        else if (c.isBuffer(bn))
          V += bn.length + 2;
        else
          return de.destroy(new Error("Invalid topic")), !1;
        if (c.isBuffer(oe) ? V += oe.length : V += c.byteLength(oe), kt && typeof ae != "number")
          return de.destroy(new Error("Invalid messageId")), !1;
        kt && (V += 2);
        let $ = null;
        if (Ve === 5) {
          if ($ = Dt(de, re), !$)
            return !1;
          V += $.length;
        }
        return de.write(u.PUBLISH_HEADER[kt][$e.dup ? 1 : 0][jt ? 1 : 0]), pe(de, V), S(de, Cn(bn)), de.write(bn), kt > 0 && S(de, ae), $ != null && $.write(), v("publish: payload: %o", oe), de.write(oe);
      }
      function ie(_e, de, Et) {
        const Ve = Et ? Et.protocolVersion : 4, $e = _e || {}, kt = $e.cmd || "puback", jt = $e.messageId, bn = $e.dup && kt === "pubrel" ? u.DUP_MASK : 0;
        let oe = 0;
        const ae = $e.reasonCode, re = $e.properties;
        let V = Ve === 5 ? 3 : 2;
        if (kt === "pubrel" && (oe = 1), typeof jt != "number")
          return de.destroy(new Error("Invalid messageId")), !1;
        let $ = null;
        if (Ve === 5 && typeof re == "object") {
          if ($ = he(de, re, Et, V), !$)
            return !1;
          V += $.length;
        }
        return de.write(u.ACKS[kt][oe][bn][0]), V === 3 && (V += ae !== 0 ? 1 : -1), pe(de, V), S(de, jt), Ve === 5 && V !== 2 && de.write(c.from([ae])), $ !== null ? $.write() : V === 4 && de.write(c.from([0])), !0;
      }
      function F(_e, de, Et) {
        v("subscribe: packet: ");
        const Ve = Et ? Et.protocolVersion : 4, $e = _e || {}, kt = $e.dup ? u.DUP_MASK : 0, jt = $e.messageId, bn = $e.subscriptions, oe = $e.properties;
        let ae = 0;
        if (typeof jt != "number")
          return de.destroy(new Error("Invalid messageId")), !1;
        ae += 2;
        let re = null;
        if (Ve === 5) {
          if (re = Dt(de, oe), !re)
            return !1;
          ae += re.length;
        }
        if (typeof bn == "object" && bn.length)
          for (let $ = 0; $ < bn.length; $ += 1) {
            const le = bn[$].topic, Oe = bn[$].qos;
            if (typeof le != "string")
              return de.destroy(new Error("Invalid subscriptions - invalid topic")), !1;
            if (typeof Oe != "number")
              return de.destroy(new Error("Invalid subscriptions - invalid qos")), !1;
            if (Ve === 5) {
              if (typeof (bn[$].nl || !1) != "boolean")
                return de.destroy(new Error("Invalid subscriptions - invalid No Local")), !1;
              if (typeof (bn[$].rap || !1) != "boolean")
                return de.destroy(new Error("Invalid subscriptions - invalid Retain as Published")), !1;
              const wn = bn[$].rh || 0;
              if (typeof wn != "number" || wn > 2)
                return de.destroy(new Error("Invalid subscriptions - invalid Retain Handling")), !1;
            }
            ae += c.byteLength(le) + 2 + 1;
          }
        else
          return de.destroy(new Error("Invalid subscriptions")), !1;
        v("subscribe: writing to stream: %o", u.SUBSCRIBE_HEADER), de.write(u.SUBSCRIBE_HEADER[1][kt ? 1 : 0][0]), pe(de, ae), S(de, jt), re !== null && re.write();
        let V = !0;
        for (const $ of bn) {
          const le = $.topic, Oe = $.qos, Ue = +$.nl, vn = +$.rap, wn = $.rh;
          let xn;
          Ne(de, le), xn = u.SUBSCRIBE_OPTIONS_QOS[Oe], Ve === 5 && (xn |= Ue ? u.SUBSCRIBE_OPTIONS_NL : 0, xn |= vn ? u.SUBSCRIBE_OPTIONS_RAP : 0, xn |= wn ? u.SUBSCRIBE_OPTIONS_RH[wn] : 0), V = de.write(c.from([xn]));
        }
        return V;
      }
      function j(_e, de, Et) {
        const Ve = Et ? Et.protocolVersion : 4, $e = _e || {}, kt = $e.messageId, jt = $e.granted, bn = $e.properties;
        let oe = 0;
        if (typeof kt != "number")
          return de.destroy(new Error("Invalid messageId")), !1;
        if (oe += 2, typeof jt == "object" && jt.length)
          for (let re = 0; re < jt.length; re += 1) {
            if (typeof jt[re] != "number")
              return de.destroy(new Error("Invalid qos vector")), !1;
            oe += 1;
          }
        else
          return de.destroy(new Error("Invalid qos vector")), !1;
        let ae = null;
        if (Ve === 5) {
          if (ae = he(de, bn, Et, oe), !ae)
            return !1;
          oe += ae.length;
        }
        return de.write(u.SUBACK_HEADER), pe(de, oe), S(de, kt), ae !== null && ae.write(), de.write(c.from(jt));
      }
      function D(_e, de, Et) {
        const Ve = Et ? Et.protocolVersion : 4, $e = _e || {}, kt = $e.messageId, jt = $e.dup ? u.DUP_MASK : 0, bn = $e.unsubscriptions, oe = $e.properties;
        let ae = 0;
        if (typeof kt != "number")
          return de.destroy(new Error("Invalid messageId")), !1;
        if (ae += 2, typeof bn == "object" && bn.length)
          for (let $ = 0; $ < bn.length; $ += 1) {
            if (typeof bn[$] != "string")
              return de.destroy(new Error("Invalid unsubscriptions")), !1;
            ae += c.byteLength(bn[$]) + 2;
          }
        else
          return de.destroy(new Error("Invalid unsubscriptions")), !1;
        let re = null;
        if (Ve === 5) {
          if (re = Dt(de, oe), !re)
            return !1;
          ae += re.length;
        }
        de.write(u.UNSUBSCRIBE_HEADER[1][jt ? 1 : 0][0]), pe(de, ae), S(de, kt), re !== null && re.write();
        let V = !0;
        for (let $ = 0; $ < bn.length; $++)
          V = Ne(de, bn[$]);
        return V;
      }
      function Y(_e, de, Et) {
        const Ve = Et ? Et.protocolVersion : 4, $e = _e || {}, kt = $e.messageId, jt = $e.dup ? u.DUP_MASK : 0, bn = $e.granted, oe = $e.properties, ae = $e.cmd, re = 0;
        let V = 2;
        if (typeof kt != "number")
          return de.destroy(new Error("Invalid messageId")), !1;
        if (Ve === 5)
          if (typeof bn == "object" && bn.length)
            for (let le = 0; le < bn.length; le += 1) {
              if (typeof bn[le] != "number")
                return de.destroy(new Error("Invalid qos vector")), !1;
              V += 1;
            }
          else
            return de.destroy(new Error("Invalid qos vector")), !1;
        let $ = null;
        if (Ve === 5) {
          if ($ = he(de, oe, Et, V), !$)
            return !1;
          V += $.length;
        }
        return de.write(u.ACKS[ae][re][jt][0]), pe(de, V), S(de, kt), $ !== null && $.write(), Ve === 5 && de.write(c.from(bn)), !0;
      }
      function z(_e, de, Et) {
        return de.write(u.EMPTY[_e.cmd]);
      }
      function Ie(_e, de, Et) {
        const Ve = Et ? Et.protocolVersion : 4, $e = _e || {}, kt = $e.reasonCode, jt = $e.properties;
        let bn = Ve === 5 ? 1 : 0, oe = null;
        if (Ve === 5) {
          if (oe = he(de, jt, Et, bn), !oe)
            return !1;
          bn += oe.length;
        }
        return de.write(c.from([u.codes.disconnect << 4])), pe(de, bn), Ve === 5 && de.write(c.from([kt])), oe !== null && oe.write(), !0;
      }
      function ue(_e, de, Et) {
        const Ve = Et ? Et.protocolVersion : 4, $e = _e || {}, kt = $e.reasonCode, jt = $e.properties;
        let bn = Ve === 5 ? 1 : 0;
        Ve !== 5 && de.destroy(new Error("Invalid mqtt version for auth packet"));
        const oe = he(de, jt, Et, bn);
        return oe ? (bn += oe.length, de.write(c.from([u.codes.auth << 4])), pe(de, bn), de.write(c.from([kt])), oe !== null && oe.write(), !0) : !1;
      }
      const Ce = {};
      function pe(_e, de) {
        if (de > u.VARBYTEINT_MAX)
          return _e.destroy(new Error(`Invalid variable byte integer: ${de}`)), !1;
        let Et = Ce[de];
        return Et || (Et = A(de), de < 16384 && (Ce[de] = Et)), v("writeVarByteInt: writing to stream: %o", Et), _e.write(Et);
      }
      function Ne(_e, de) {
        const Et = c.byteLength(de);
        return S(_e, Et), v("writeString: %s", de), _e.write(de, "utf8");
      }
      function xe(_e, de, Et) {
        Ne(_e, de), Ne(_e, Et);
      }
      function hn(_e, de) {
        return v("writeNumberCached: number: %d", de), v("writeNumberCached: %o", g[de]), _e.write(g[de]);
      }
      function Pt(_e, de) {
        const Et = _(de);
        return v("writeNumberGenerated: %o", Et), _e.write(Et);
      }
      function _n(_e, de) {
        const Et = w(de);
        return v("write4ByteNumber: %o", Et), _e.write(Et);
      }
      function In(_e, de) {
        typeof de == "string" ? Ne(_e, de) : de ? (S(_e, de.length), _e.write(de)) : S(_e, 0);
      }
      function Dt(_e, de) {
        if (typeof de != "object" || de.length != null)
          return {
            length: 1,
            write() {
              Lt(_e, {}, 0);
            }
          };
        let Et = 0;
        function Ve(kt, jt) {
          const bn = u.propertiesTypes[kt];
          let oe = 0;
          switch (bn) {
            case "byte": {
              if (typeof jt != "boolean")
                return _e.destroy(new Error(`Invalid ${kt}: ${jt}`)), !1;
              oe += 1 + 1;
              break;
            }
            case "int8": {
              if (typeof jt != "number" || jt < 0 || jt > 255)
                return _e.destroy(new Error(`Invalid ${kt}: ${jt}`)), !1;
              oe += 1 + 1;
              break;
            }
            case "binary": {
              if (jt && jt === null)
                return _e.destroy(new Error(`Invalid ${kt}: ${jt}`)), !1;
              oe += 1 + c.byteLength(jt) + 2;
              break;
            }
            case "int16": {
              if (typeof jt != "number" || jt < 0 || jt > 65535)
                return _e.destroy(new Error(`Invalid ${kt}: ${jt}`)), !1;
              oe += 1 + 2;
              break;
            }
            case "int32": {
              if (typeof jt != "number" || jt < 0 || jt > 4294967295)
                return _e.destroy(new Error(`Invalid ${kt}: ${jt}`)), !1;
              oe += 1 + 4;
              break;
            }
            case "var": {
              if (typeof jt != "number" || jt < 0 || jt > 268435455)
                return _e.destroy(new Error(`Invalid ${kt}: ${jt}`)), !1;
              oe += 1 + c.byteLength(A(jt));
              break;
            }
            case "string": {
              if (typeof jt != "string")
                return _e.destroy(new Error(`Invalid ${kt}: ${jt}`)), !1;
              oe += 1 + 2 + c.byteLength(jt.toString());
              break;
            }
            case "pair": {
              if (typeof jt != "object")
                return _e.destroy(new Error(`Invalid ${kt}: ${jt}`)), !1;
              oe += Object.getOwnPropertyNames(jt).reduce((ae, re) => {
                const V = jt[re];
                return Array.isArray(V) ? ae += V.reduce(($, le) => ($ += 1 + 2 + c.byteLength(re.toString()) + 2 + c.byteLength(le.toString()), $), 0) : ae += 1 + 2 + c.byteLength(re.toString()) + 2 + c.byteLength(jt[re].toString()), ae;
              }, 0);
              break;
            }
            default:
              return _e.destroy(new Error(`Invalid property ${kt}: ${jt}`)), !1;
          }
          return oe;
        }
        if (de)
          for (const kt in de) {
            let jt = 0, bn = 0;
            const oe = de[kt];
            if (Array.isArray(oe))
              for (let ae = 0; ae < oe.length; ae++) {
                if (bn = Ve(kt, oe[ae]), !bn)
                  return !1;
                jt += bn;
              }
            else {
              if (bn = Ve(kt, oe), !bn)
                return !1;
              jt = bn;
            }
            if (!jt)
              return !1;
            Et += jt;
          }
        return {
          length: c.byteLength(A(Et)) + Et,
          write() {
            Lt(_e, de, Et);
          }
        };
      }
      function he(_e, de, Et, Ve) {
        const $e = ["reasonString", "userProperties"], kt = Et && Et.properties && Et.properties.maximumPacketSize ? Et.properties.maximumPacketSize : 0;
        let jt = Dt(_e, de);
        if (kt)
          for (; Ve + jt.length > kt; ) {
            const bn = $e.shift();
            if (bn && de[bn])
              delete de[bn], jt = Dt(_e, de);
            else
              return !1;
          }
        return jt;
      }
      function At(_e, de, Et) {
        switch (u.propertiesTypes[de]) {
          case "byte": {
            _e.write(c.from([u.properties[de]])), _e.write(c.from([+Et]));
            break;
          }
          case "int8": {
            _e.write(c.from([u.properties[de]])), _e.write(c.from([Et]));
            break;
          }
          case "binary": {
            _e.write(c.from([u.properties[de]])), In(_e, Et);
            break;
          }
          case "int16": {
            _e.write(c.from([u.properties[de]])), S(_e, Et);
            break;
          }
          case "int32": {
            _e.write(c.from([u.properties[de]])), _n(_e, Et);
            break;
          }
          case "var": {
            _e.write(c.from([u.properties[de]])), pe(_e, Et);
            break;
          }
          case "string": {
            _e.write(c.from([u.properties[de]])), Ne(_e, Et);
            break;
          }
          case "pair": {
            Object.getOwnPropertyNames(Et).forEach(($e) => {
              const kt = Et[$e];
              Array.isArray(kt) ? kt.forEach((jt) => {
                _e.write(c.from([u.properties[de]])), xe(_e, $e.toString(), jt.toString());
              }) : (_e.write(c.from([u.properties[de]])), xe(_e, $e.toString(), kt.toString()));
            });
            break;
          }
          default:
            return _e.destroy(new Error(`Invalid property ${de} value: ${Et}`)), !1;
        }
      }
      function Lt(_e, de, Et) {
        pe(_e, Et);
        for (const Ve in de)
          if (Object.prototype.hasOwnProperty.call(de, Ve) && de[Ve] !== null) {
            const $e = de[Ve];
            if (Array.isArray($e))
              for (let kt = 0; kt < $e.length; kt++)
                At(_e, Ve, $e[kt]);
            else
              At(_e, Ve, $e);
          }
      }
      function Cn(_e) {
        return _e ? _e instanceof c ? _e.length : c.byteLength(_e) : 0;
      }
      function ze(_e) {
        return typeof _e == "string" || _e instanceof c;
      }
      o.exports = x;
    }, { "./constants": 73, "./numbers": 93, buffer: 29, debug: 30, "process-nextick-args": 101 }], 97: [function(r, o, a) {
      var u = 1e3, c = u * 60, f = c * 60, d = f * 24, p = d * 7, y = d * 365.25;
      o.exports = function(A, w) {
        w = w || {};
        var S = typeof A;
        if (S === "string" && A.length > 0)
          return v(A);
        if (S === "number" && isFinite(A))
          return w.long ? _(A) : g(A);
        throw new Error(
          "val is not a non-empty string or a valid number. val=" + JSON.stringify(A)
        );
      };
      function v(A) {
        if (A = String(A), !(A.length > 100)) {
          var w = /^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(
            A
          );
          if (w) {
            var S = parseFloat(w[1]), T = (w[2] || "ms").toLowerCase();
            switch (T) {
              case "years":
              case "year":
              case "yrs":
              case "yr":
              case "y":
                return S * y;
              case "weeks":
              case "week":
              case "w":
                return S * p;
              case "days":
              case "day":
              case "d":
                return S * d;
              case "hours":
              case "hour":
              case "hrs":
              case "hr":
              case "h":
                return S * f;
              case "minutes":
              case "minute":
              case "mins":
              case "min":
              case "m":
                return S * c;
              case "seconds":
              case "second":
              case "secs":
              case "sec":
              case "s":
                return S * u;
              case "milliseconds":
              case "millisecond":
              case "msecs":
              case "msec":
              case "ms":
                return S;
              default:
                return;
            }
          }
        }
      }
      function g(A) {
        var w = Math.abs(A);
        return w >= d ? Math.round(A / d) + "d" : w >= f ? Math.round(A / f) + "h" : w >= c ? Math.round(A / c) + "m" : w >= u ? Math.round(A / u) + "s" : A + "ms";
      }
      function _(A) {
        var w = Math.abs(A);
        return w >= d ? b(A, w, d, "day") : w >= f ? b(A, w, f, "hour") : w >= c ? b(A, w, c, "minute") : w >= u ? b(A, w, u, "second") : A + " ms";
      }
      function b(A, w, S, T) {
        var x = w >= S * 1.5;
        return Math.round(A / S) + " " + T + (x ? "s" : "");
      }
    }, {}], 98: [function(r, o, a) {
      const u = r("./lib/number-allocator.js");
      o.exports.NumberAllocator = u;
    }, { "./lib/number-allocator.js": 99 }], 99: [function(r, o, a) {
      const u = r("js-sdsl").OrderedSet, c = r("debug")("number-allocator:trace"), f = r("debug")("number-allocator:error");
      function d(y, v) {
        this.low = y, this.high = v;
      }
      d.prototype.equals = function(y) {
        return this.low === y.low && this.high === y.high;
      }, d.prototype.compare = function(y) {
        return this.low < y.low && this.high < y.low ? -1 : y.low < this.low && y.high < this.low ? 1 : 0;
      };
      function p(y, v) {
        if (!(this instanceof p))
          return new p(y, v);
        this.min = y, this.max = v, this.ss = new u(
          [],
          (g, _) => g.compare(_)
        ), c("Create"), this.clear();
      }
      p.prototype.firstVacant = function() {
        return this.ss.size() === 0 ? null : this.ss.front().low;
      }, p.prototype.alloc = function() {
        if (this.ss.size() === 0)
          return c("alloc():empty"), null;
        const y = this.ss.begin(), v = y.pointer.low, g = y.pointer.high, _ = v;
        return _ + 1 <= g ? this.ss.updateKeyByIterator(y, new d(v + 1, g)) : this.ss.eraseElementByPos(0), c("alloc():" + _), _;
      }, p.prototype.use = function(y) {
        const v = new d(y, y), g = this.ss.lowerBound(v);
        if (!g.equals(this.ss.end())) {
          const _ = g.pointer.low, b = g.pointer.high;
          return g.pointer.equals(v) ? (this.ss.eraseElementByIterator(g), c("use():" + y), !0) : _ > y ? !1 : _ === y ? (this.ss.updateKeyByIterator(g, new d(_ + 1, b)), c("use():" + y), !0) : b === y ? (this.ss.updateKeyByIterator(g, new d(_, b - 1)), c("use():" + y), !0) : (this.ss.updateKeyByIterator(g, new d(y + 1, b)), this.ss.insert(new d(_, y - 1)), c("use():" + y), !0);
        }
        return c("use():failed"), !1;
      }, p.prototype.free = function(y) {
        if (y < this.min || y > this.max) {
          f("free():" + y + " is out of range");
          return;
        }
        const v = new d(y, y), g = this.ss.upperBound(v);
        if (g.equals(this.ss.end())) {
          if (g.equals(this.ss.begin())) {
            this.ss.insert(v);
            return;
          }
          g.pre();
          const _ = g.pointer.high;
          g.pointer.high + 1 === y ? this.ss.updateKeyByIterator(g, new d(_, y)) : this.ss.insert(v);
        } else if (g.equals(this.ss.begin()))
          if (y + 1 === g.pointer.low) {
            const _ = g.pointer.high;
            this.ss.updateKeyByIterator(g, new d(y, _));
          } else
            this.ss.insert(v);
        else {
          const _ = g.pointer.low, b = g.pointer.high;
          g.pre();
          const A = g.pointer.low;
          g.pointer.high + 1 === y ? y + 1 === _ ? (this.ss.eraseElementByIterator(g), this.ss.updateKeyByIterator(g, new d(A, b))) : this.ss.updateKeyByIterator(g, new d(A, y)) : y + 1 === _ ? (this.ss.eraseElementByIterator(g.next()), this.ss.insert(new d(y, b))) : this.ss.insert(v);
        }
        c("free():" + y);
      }, p.prototype.clear = function() {
        c("clear()"), this.ss.clear(), this.ss.insert(new d(this.min, this.max));
      }, p.prototype.intervalCount = function() {
        return this.ss.size();
      }, p.prototype.dump = function() {
        console.log("length:" + this.ss.size());
        for (const y of this.ss)
          console.log(y);
      }, o.exports = p;
    }, { debug: 30, "js-sdsl": 69 }], 100: [function(r, o, a) {
      var u = r("wrappy");
      o.exports = u(c), o.exports.strict = u(f), c.proto = c(function() {
        Object.defineProperty(Function.prototype, "once", {
          value: function() {
            return c(this);
          },
          configurable: !0
        }), Object.defineProperty(Function.prototype, "onceStrict", {
          value: function() {
            return f(this);
          },
          configurable: !0
        });
      });
      function c(d) {
        var p = function() {
          return p.called ? p.value : (p.called = !0, p.value = d.apply(this, arguments));
        };
        return p.called = !1, p;
      }
      function f(d) {
        var p = function() {
          if (p.called)
            throw new Error(p.onceError);
          return p.called = !0, p.value = d.apply(this, arguments);
        }, y = d.name || "Function wrapped with `once`";
        return p.onceError = y + " shouldn't be called more than once", p.called = !1, p;
      }
    }, { wrappy: 140 }], 101: [function(r, o, a) {
      (function(u) {
        (function() {
          typeof u > "u" || !u.version || u.version.indexOf("v0.") === 0 || u.version.indexOf("v1.") === 0 && u.version.indexOf("v1.8.") !== 0 ? o.exports = { nextTick: c } : o.exports = u;
          function c(f, d, p, y) {
            if (typeof f != "function")
              throw new TypeError('"callback" argument must be a function');
            var v = arguments.length, g, _;
            switch (v) {
              case 0:
              case 1:
                return u.nextTick(f);
              case 2:
                return u.nextTick(function() {
                  f.call(null, d);
                });
              case 3:
                return u.nextTick(function() {
                  f.call(null, d, p);
                });
              case 4:
                return u.nextTick(function() {
                  f.call(null, d, p, y);
                });
              default:
                for (g = new Array(v - 1), _ = 0; _ < g.length; )
                  g[_++] = arguments[_];
                return u.nextTick(function() {
                  f.apply(null, g);
                });
            }
          }
        }).call(this);
      }).call(this, r("_process"));
    }, { _process: 102 }], 102: [function(r, o, a) {
      var u = o.exports = {}, c, f;
      function d() {
        throw new Error("setTimeout has not been defined");
      }
      function p() {
        throw new Error("clearTimeout has not been defined");
      }
      (function() {
        try {
          typeof setTimeout == "function" ? c = setTimeout : c = d;
        } catch {
          c = d;
        }
        try {
          typeof clearTimeout == "function" ? f = clearTimeout : f = p;
        } catch {
          f = p;
        }
      })();
      function y(L) {
        if (c === setTimeout)
          return setTimeout(L, 0);
        if ((c === d || !c) && setTimeout)
          return c = setTimeout, setTimeout(L, 0);
        try {
          return c(L, 0);
        } catch {
          try {
            return c.call(null, L, 0);
          } catch {
            return c.call(this, L, 0);
          }
        }
      }
      function v(L) {
        if (f === clearTimeout)
          return clearTimeout(L);
        if ((f === p || !f) && clearTimeout)
          return f = clearTimeout, clearTimeout(L);
        try {
          return f(L);
        } catch {
          try {
            return f.call(null, L);
          } catch {
            return f.call(this, L);
          }
        }
      }
      var g = [], _ = !1, b, A = -1;
      function w() {
        !_ || !b || (_ = !1, b.length ? g = b.concat(g) : A = -1, g.length && S());
      }
      function S() {
        if (!_) {
          var L = y(w);
          _ = !0;
          for (var k = g.length; k; ) {
            for (b = g, g = []; ++A < k; )
              b && b[A].run();
            A = -1, k = g.length;
          }
          b = null, _ = !1, v(L);
        }
      }
      u.nextTick = function(L) {
        var k = new Array(arguments.length - 1);
        if (arguments.length > 1)
          for (var M = 1; M < arguments.length; M++)
            k[M - 1] = arguments[M];
        g.push(new T(L, k)), g.length === 1 && !_ && y(S);
      };
      function T(L, k) {
        this.fun = L, this.array = k;
      }
      T.prototype.run = function() {
        this.fun.apply(null, this.array);
      }, u.title = "browser", u.browser = !0, u.env = {}, u.argv = [], u.version = "", u.versions = {};
      function x() {
      }
      u.on = x, u.addListener = x, u.once = x, u.off = x, u.removeListener = x, u.removeAllListeners = x, u.emit = x, u.prependListener = x, u.prependOnceListener = x, u.listeners = function(L) {
        return [];
      }, u.binding = function(L) {
        throw new Error("process.binding is not supported");
      }, u.cwd = function() {
        return "/";
      }, u.chdir = function(L) {
        throw new Error("process.chdir is not supported");
      }, u.umask = function() {
        return 0;
      };
    }, {}], 103: [function(r, o, a) {
      (function(u) {
        (function() {
          (function(c) {
            var f = typeof a == "object" && a && !a.nodeType && a, d = typeof o == "object" && o && !o.nodeType && o, p = typeof u == "object" && u;
            (p.global === p || p.window === p || p.self === p) && (c = p);
            var y, v = 2147483647, g = 36, _ = 1, b = 26, A = 38, w = 700, S = 72, T = 128, x = "-", L = /^xn--/, k = /[^\x20-\x7E]/, M = /[\x2E\u3002\uFF0E\uFF61]/g, O = {
              overflow: "Overflow: input needs wider integers to process",
              "not-basic": "Illegal input >= 0x80 (not a basic code point)",
              "invalid-input": "Invalid input"
            }, ie = g - _, F = Math.floor, j = String.fromCharCode, D;
            function Y(Dt) {
              throw new RangeError(O[Dt]);
            }
            function z(Dt, he) {
              for (var At = Dt.length, Lt = []; At--; )
                Lt[At] = he(Dt[At]);
              return Lt;
            }
            function Ie(Dt, he) {
              var At = Dt.split("@"), Lt = "";
              At.length > 1 && (Lt = At[0] + "@", Dt = At[1]), Dt = Dt.replace(M, ".");
              var Cn = Dt.split("."), ze = z(Cn, he).join(".");
              return Lt + ze;
            }
            function ue(Dt) {
              for (var he = [], At = 0, Lt = Dt.length, Cn, ze; At < Lt; )
                Cn = Dt.charCodeAt(At++), Cn >= 55296 && Cn <= 56319 && At < Lt ? (ze = Dt.charCodeAt(At++), (ze & 64512) == 56320 ? he.push(((Cn & 1023) << 10) + (ze & 1023) + 65536) : (he.push(Cn), At--)) : he.push(Cn);
              return he;
            }
            function Ce(Dt) {
              return z(Dt, function(he) {
                var At = "";
                return he > 65535 && (he -= 65536, At += j(he >>> 10 & 1023 | 55296), he = 56320 | he & 1023), At += j(he), At;
              }).join("");
            }
            function pe(Dt) {
              return Dt - 48 < 10 ? Dt - 22 : Dt - 65 < 26 ? Dt - 65 : Dt - 97 < 26 ? Dt - 97 : g;
            }
            function Ne(Dt, he) {
              return Dt + 22 + 75 * (Dt < 26) - ((he != 0) << 5);
            }
            function xe(Dt, he, At) {
              var Lt = 0;
              for (Dt = At ? F(Dt / w) : Dt >> 1, Dt += F(Dt / he); Dt > ie * b >> 1; Lt += g)
                Dt = F(Dt / ie);
              return F(Lt + (ie + 1) * Dt / (Dt + A));
            }
            function hn(Dt) {
              var he = [], At = Dt.length, Lt, Cn = 0, ze = T, _e = S, de, Et, Ve, $e, kt, jt, bn, oe, ae;
              for (de = Dt.lastIndexOf(x), de < 0 && (de = 0), Et = 0; Et < de; ++Et)
                Dt.charCodeAt(Et) >= 128 && Y("not-basic"), he.push(Dt.charCodeAt(Et));
              for (Ve = de > 0 ? de + 1 : 0; Ve < At; ) {
                for ($e = Cn, kt = 1, jt = g; Ve >= At && Y("invalid-input"), bn = pe(Dt.charCodeAt(Ve++)), (bn >= g || bn > F((v - Cn) / kt)) && Y("overflow"), Cn += bn * kt, oe = jt <= _e ? _ : jt >= _e + b ? b : jt - _e, !(bn < oe); jt += g)
                  ae = g - oe, kt > F(v / ae) && Y("overflow"), kt *= ae;
                Lt = he.length + 1, _e = xe(Cn - $e, Lt, $e == 0), F(Cn / Lt) > v - ze && Y("overflow"), ze += F(Cn / Lt), Cn %= Lt, he.splice(Cn++, 0, ze);
              }
              return Ce(he);
            }
            function Pt(Dt) {
              var he, At, Lt, Cn, ze, _e, de, Et, Ve, $e, kt, jt = [], bn, oe, ae, re;
              for (Dt = ue(Dt), bn = Dt.length, he = T, At = 0, ze = S, _e = 0; _e < bn; ++_e)
                kt = Dt[_e], kt < 128 && jt.push(j(kt));
              for (Lt = Cn = jt.length, Cn && jt.push(x); Lt < bn; ) {
                for (de = v, _e = 0; _e < bn; ++_e)
                  kt = Dt[_e], kt >= he && kt < de && (de = kt);
                for (oe = Lt + 1, de - he > F((v - At) / oe) && Y("overflow"), At += (de - he) * oe, he = de, _e = 0; _e < bn; ++_e)
                  if (kt = Dt[_e], kt < he && ++At > v && Y("overflow"), kt == he) {
                    for (Et = At, Ve = g; $e = Ve <= ze ? _ : Ve >= ze + b ? b : Ve - ze, !(Et < $e); Ve += g)
                      re = Et - $e, ae = g - $e, jt.push(
                        j(Ne($e + re % ae, 0))
                      ), Et = F(re / ae);
                    jt.push(j(Ne(Et, 0))), ze = xe(At, oe, Lt == Cn), At = 0, ++Lt;
                  }
                ++At, ++he;
              }
              return jt.join("");
            }
            function _n(Dt) {
              return Ie(Dt, function(he) {
                return L.test(he) ? hn(he.slice(4).toLowerCase()) : he;
              });
            }
            function In(Dt) {
              return Ie(Dt, function(he) {
                return k.test(he) ? "xn--" + Pt(he) : he;
              });
            }
            if (y = {
              /**
               * A string representing the current Punycode.js version number.
               * @memberOf punycode
               * @type String
               */
              version: "1.4.1",
              /**
               * An object of methods to convert from JavaScript's internal character
               * representation (UCS-2) to Unicode code points, and back.
               * @see <https://mathiasbynens.be/notes/javascript-encoding>
               * @memberOf punycode
               * @type Object
               */
              ucs2: {
                decode: ue,
                encode: Ce
              },
              decode: hn,
              encode: Pt,
              toASCII: In,
              toUnicode: _n
            }, f && d)
              if (o.exports == f)
                d.exports = y;
              else
                for (D in y)
                  y.hasOwnProperty(D) && (f[D] = y[D]);
            else
              c.punycode = y;
          })(this);
        }).call(this);
      }).call(this, typeof commonjsGlobal < "u" ? commonjsGlobal : typeof self < "u" ? self : typeof window < "u" ? window : {});
    }, {}], 104: [function(r, o, a) {
      function u(f, d) {
        return Object.prototype.hasOwnProperty.call(f, d);
      }
      o.exports = function(f, d, p, y) {
        d = d || "&", p = p || "=";
        var v = {};
        if (typeof f != "string" || f.length === 0)
          return v;
        var g = /\+/g;
        f = f.split(d);
        var _ = 1e3;
        y && typeof y.maxKeys == "number" && (_ = y.maxKeys);
        var b = f.length;
        _ > 0 && b > _ && (b = _);
        for (var A = 0; A < b; ++A) {
          var w = f[A].replace(g, "%20"), S = w.indexOf(p), T, x, L, k;
          S >= 0 ? (T = w.substr(0, S), x = w.substr(S + 1)) : (T = w, x = ""), L = decodeURIComponent(T), k = decodeURIComponent(x), u(v, L) ? c(v[L]) ? v[L].push(k) : v[L] = [v[L], k] : v[L] = k;
        }
        return v;
      };
      var c = Array.isArray || function(f) {
        return Object.prototype.toString.call(f) === "[object Array]";
      };
    }, {}], 105: [function(r, o, a) {
      var u = function(p) {
        switch (typeof p) {
          case "string":
            return p;
          case "boolean":
            return p ? "true" : "false";
          case "number":
            return isFinite(p) ? p : "";
          default:
            return "";
        }
      };
      o.exports = function(p, y, v, g) {
        return y = y || "&", v = v || "=", p === null && (p = void 0), typeof p == "object" ? f(d(p), function(_) {
          var b = encodeURIComponent(u(_)) + v;
          return c(p[_]) ? f(p[_], function(A) {
            return b + encodeURIComponent(u(A));
          }).join(y) : b + encodeURIComponent(u(p[_]));
        }).join(y) : g ? encodeURIComponent(u(g)) + v + encodeURIComponent(u(p)) : "";
      };
      var c = Array.isArray || function(p) {
        return Object.prototype.toString.call(p) === "[object Array]";
      };
      function f(p, y) {
        if (p.map)
          return p.map(y);
        for (var v = [], g = 0; g < p.length; g++)
          v.push(y(p[g], g));
        return v;
      }
      var d = Object.keys || function(p) {
        var y = [];
        for (var v in p)
          Object.prototype.hasOwnProperty.call(p, v) && y.push(v);
        return y;
      };
    }, {}], 106: [function(r, o, a) {
      a.decode = a.parse = r("./decode"), a.encode = a.stringify = r("./encode");
    }, { "./decode": 104, "./encode": 105 }], 107: [function(r, o, a) {
      const { AbortError: u, codes: c } = r("../../ours/errors"), { isNodeStream: f, isWebStream: d, kControllerErrorFunction: p } = r("./utils"), y = r("./end-of-stream"), { ERR_INVALID_ARG_TYPE: v } = c, g = (_, b) => {
        if (typeof _ != "object" || !("aborted" in _))
          throw new v(b, "AbortSignal", _);
      };
      o.exports.addAbortSignal = function(b, A) {
        if (g(b, "signal"), !f(A) && !d(A))
          throw new v("stream", ["ReadableStream", "WritableStream", "Stream"], A);
        return o.exports.addAbortSignalNoValidate(b, A);
      }, o.exports.addAbortSignalNoValidate = function(_, b) {
        if (typeof _ != "object" || !("aborted" in _))
          return b;
        const A = f(b) ? () => {
          b.destroy(
            new u(void 0, {
              cause: _.reason
            })
          );
        } : () => {
          b[p](
            new u(void 0, {
              cause: _.reason
            })
          );
        };
        return _.aborted ? A() : (_.addEventListener("abort", A), y(b, () => _.removeEventListener("abort", A))), b;
      };
    }, { "../../ours/errors": 126, "./end-of-stream": 113, "./utils": 122 }], 108: [function(r, o, a) {
      const { StringPrototypeSlice: u, SymbolIterator: c, TypedArrayPrototypeSet: f, Uint8Array: d } = r("../../ours/primordials"), { Buffer: p } = r("buffer"), { inspect: y } = r("../../ours/util");
      o.exports = class {
        constructor() {
          this.head = null, this.tail = null, this.length = 0;
        }
        push(g) {
          const _ = {
            data: g,
            next: null
          };
          this.length > 0 ? this.tail.next = _ : this.head = _, this.tail = _, ++this.length;
        }
        unshift(g) {
          const _ = {
            data: g,
            next: this.head
          };
          this.length === 0 && (this.tail = _), this.head = _, ++this.length;
        }
        shift() {
          if (this.length === 0)
            return;
          const g = this.head.data;
          return this.length === 1 ? this.head = this.tail = null : this.head = this.head.next, --this.length, g;
        }
        clear() {
          this.head = this.tail = null, this.length = 0;
        }
        join(g) {
          if (this.length === 0)
            return "";
          let _ = this.head, b = "" + _.data;
          for (; (_ = _.next) !== null; )
            b += g + _.data;
          return b;
        }
        concat(g) {
          if (this.length === 0)
            return p.alloc(0);
          const _ = p.allocUnsafe(g >>> 0);
          let b = this.head, A = 0;
          for (; b; )
            f(_, b.data, A), A += b.data.length, b = b.next;
          return _;
        }
        // Consumes a specified amount of bytes or characters from the buffered data.
        consume(g, _) {
          const b = this.head.data;
          if (g < b.length) {
            const A = b.slice(0, g);
            return this.head.data = b.slice(g), A;
          }
          return g === b.length ? this.shift() : _ ? this._getString(g) : this._getBuffer(g);
        }
        first() {
          return this.head.data;
        }
        *[c]() {
          for (let g = this.head; g; g = g.next)
            yield g.data;
        }
        // Consumes a specified amount of characters from the buffered data.
        _getString(g) {
          let _ = "", b = this.head, A = 0;
          do {
            const w = b.data;
            if (g > w.length)
              _ += w, g -= w.length;
            else {
              g === w.length ? (_ += w, ++A, b.next ? this.head = b.next : this.head = this.tail = null) : (_ += u(w, 0, g), this.head = b, b.data = u(w, g));
              break;
            }
            ++A;
          } while ((b = b.next) !== null);
          return this.length -= A, _;
        }
        // Consumes a specified amount of bytes from the buffered data.
        _getBuffer(g) {
          const _ = p.allocUnsafe(g), b = g;
          let A = this.head, w = 0;
          do {
            const S = A.data;
            if (g > S.length)
              f(_, S, b - g), g -= S.length;
            else {
              g === S.length ? (f(_, S, b - g), ++w, A.next ? this.head = A.next : this.head = this.tail = null) : (f(_, new d(S.buffer, S.byteOffset, g), b - g), this.head = A, A.data = S.slice(g));
              break;
            }
            ++w;
          } while ((A = A.next) !== null);
          return this.length -= w, _;
        }
        // Make sure the linked list only shows the minimal necessary information.
        [Symbol.for("nodejs.util.inspect.custom")](g, _) {
          return y(this, {
            ..._,
            // Only inspect one level.
            depth: 0,
            // It should not recurse.
            customInspect: !1
          });
        }
      };
    }, { "../../ours/primordials": 127, "../../ours/util": 128, buffer: 29 }], 109: [function(r, o, a) {
      const { pipeline: u } = r("./pipeline"), c = r("./duplex"), { destroyer: f } = r("./destroy"), {
        isNodeStream: d,
        isReadable: p,
        isWritable: y,
        isWebStream: v,
        isTransformStream: g,
        isWritableStream: _,
        isReadableStream: b
      } = r("./utils"), {
        AbortError: A,
        codes: { ERR_INVALID_ARG_VALUE: w, ERR_MISSING_ARGS: S }
      } = r("../../ours/errors"), T = r("./end-of-stream");
      o.exports = function(...L) {
        if (L.length === 0)
          throw new S("streams");
        if (L.length === 1)
          return c.from(L[0]);
        const k = [...L];
        if (typeof L[0] == "function" && (L[0] = c.from(L[0])), typeof L[L.length - 1] == "function") {
          const Ce = L.length - 1;
          L[Ce] = c.from(L[Ce]);
        }
        for (let Ce = 0; Ce < L.length; ++Ce)
          if (!(!d(L[Ce]) && !v(L[Ce]))) {
            if (Ce < L.length - 1 && !(p(L[Ce]) || b(L[Ce]) || g(L[Ce])))
              throw new w(`streams[${Ce}]`, k[Ce], "must be readable");
            if (Ce > 0 && !(y(L[Ce]) || _(L[Ce]) || g(L[Ce])))
              throw new w(`streams[${Ce}]`, k[Ce], "must be writable");
          }
        let M, O, ie, F, j;
        function D(Ce) {
          const pe = F;
          F = null, pe ? pe(Ce) : Ce ? j.destroy(Ce) : !ue && !Ie && j.destroy();
        }
        const Y = L[0], z = u(L, D), Ie = !!(y(Y) || _(Y) || g(Y)), ue = !!(p(z) || b(z) || g(z));
        if (j = new c({
          // TODO (ronag): highWaterMark?
          writableObjectMode: !!(Y != null && Y.writableObjectMode),
          readableObjectMode: !!(z != null && z.writableObjectMode),
          writable: Ie,
          readable: ue
        }), Ie) {
          if (d(Y))
            j._write = function(pe, Ne, xe) {
              Y.write(pe, Ne) ? xe() : M = xe;
            }, j._final = function(pe) {
              Y.end(), O = pe;
            }, Y.on("drain", function() {
              if (M) {
                const pe = M;
                M = null, pe();
              }
            });
          else if (v(Y)) {
            const Ne = (g(Y) ? Y.writable : Y).getWriter();
            j._write = async function(xe, hn, Pt) {
              try {
                await Ne.ready, Ne.write(xe).catch(() => {
                }), Pt();
              } catch (_n) {
                Pt(_n);
              }
            }, j._final = async function(xe) {
              try {
                await Ne.ready, Ne.close().catch(() => {
                }), O = xe;
              } catch (hn) {
                xe(hn);
              }
            };
          }
          const Ce = g(z) ? z.readable : z;
          T(Ce, () => {
            if (O) {
              const pe = O;
              O = null, pe();
            }
          });
        }
        if (ue) {
          if (d(z))
            z.on("readable", function() {
              if (ie) {
                const Ce = ie;
                ie = null, Ce();
              }
            }), z.on("end", function() {
              j.push(null);
            }), j._read = function() {
              for (; ; ) {
                const Ce = z.read();
                if (Ce === null) {
                  ie = j._read;
                  return;
                }
                if (!j.push(Ce))
                  return;
              }
            };
          else if (v(z)) {
            const pe = (g(z) ? z.readable : z).getReader();
            j._read = async function() {
              for (; ; )
                try {
                  const { value: Ne, done: xe } = await pe.read();
                  if (!j.push(Ne))
                    return;
                  if (xe) {
                    j.push(null);
                    return;
                  }
                } catch {
                  return;
                }
            };
          }
        }
        return j._destroy = function(Ce, pe) {
          !Ce && F !== null && (Ce = new A()), ie = null, M = null, O = null, F === null ? pe(Ce) : (F = pe, d(z) && f(z, Ce));
        }, j;
      };
    }, { "../../ours/errors": 126, "./destroy": 110, "./duplex": 111, "./end-of-stream": 113, "./pipeline": 118, "./utils": 122 }], 110: [function(r, o, a) {
      const u = r("process/"), {
        aggregateTwoErrors: c,
        codes: { ERR_MULTIPLE_CALLBACK: f },
        AbortError: d
      } = r("../../ours/errors"), { Symbol: p } = r("../../ours/primordials"), { kDestroyed: y, isDestroyed: v, isFinished: g, isServerRequest: _ } = r("./utils"), b = p("kDestroy"), A = p("kConstruct");
      function w(ue, Ce, pe) {
        ue && (ue.stack, Ce && !Ce.errored && (Ce.errored = ue), pe && !pe.errored && (pe.errored = ue));
      }
      function S(ue, Ce) {
        const pe = this._readableState, Ne = this._writableState, xe = Ne || pe;
        return Ne != null && Ne.destroyed || pe != null && pe.destroyed ? (typeof Ce == "function" && Ce(), this) : (w(ue, Ne, pe), Ne && (Ne.destroyed = !0), pe && (pe.destroyed = !0), xe.constructed ? T(this, ue, Ce) : this.once(b, function(hn) {
          T(this, c(hn, ue), Ce);
        }), this);
      }
      function T(ue, Ce, pe) {
        let Ne = !1;
        function xe(hn) {
          if (Ne)
            return;
          Ne = !0;
          const Pt = ue._readableState, _n = ue._writableState;
          w(hn, _n, Pt), _n && (_n.closed = !0), Pt && (Pt.closed = !0), typeof pe == "function" && pe(hn), hn ? u.nextTick(x, ue, hn) : u.nextTick(L, ue);
        }
        try {
          ue._destroy(Ce || null, xe);
        } catch (hn) {
          xe(hn);
        }
      }
      function x(ue, Ce) {
        k(ue, Ce), L(ue);
      }
      function L(ue) {
        const Ce = ue._readableState, pe = ue._writableState;
        pe && (pe.closeEmitted = !0), Ce && (Ce.closeEmitted = !0), (pe != null && pe.emitClose || Ce != null && Ce.emitClose) && ue.emit("close");
      }
      function k(ue, Ce) {
        const pe = ue._readableState, Ne = ue._writableState;
        Ne != null && Ne.errorEmitted || pe != null && pe.errorEmitted || (Ne && (Ne.errorEmitted = !0), pe && (pe.errorEmitted = !0), ue.emit("error", Ce));
      }
      function M() {
        const ue = this._readableState, Ce = this._writableState;
        ue && (ue.constructed = !0, ue.closed = !1, ue.closeEmitted = !1, ue.destroyed = !1, ue.errored = null, ue.errorEmitted = !1, ue.reading = !1, ue.ended = ue.readable === !1, ue.endEmitted = ue.readable === !1), Ce && (Ce.constructed = !0, Ce.destroyed = !1, Ce.closed = !1, Ce.closeEmitted = !1, Ce.errored = null, Ce.errorEmitted = !1, Ce.finalCalled = !1, Ce.prefinished = !1, Ce.ended = Ce.writable === !1, Ce.ending = Ce.writable === !1, Ce.finished = Ce.writable === !1);
      }
      function O(ue, Ce, pe) {
        const Ne = ue._readableState, xe = ue._writableState;
        if (xe != null && xe.destroyed || Ne != null && Ne.destroyed)
          return this;
        Ne != null && Ne.autoDestroy || xe != null && xe.autoDestroy ? ue.destroy(Ce) : Ce && (Ce.stack, xe && !xe.errored && (xe.errored = Ce), Ne && !Ne.errored && (Ne.errored = Ce), pe ? u.nextTick(k, ue, Ce) : k(ue, Ce));
      }
      function ie(ue, Ce) {
        if (typeof ue._construct != "function")
          return;
        const pe = ue._readableState, Ne = ue._writableState;
        pe && (pe.constructed = !1), Ne && (Ne.constructed = !1), ue.once(A, Ce), !(ue.listenerCount(A) > 1) && u.nextTick(F, ue);
      }
      function F(ue) {
        let Ce = !1;
        function pe(Ne) {
          if (Ce) {
            O(ue, Ne ?? new f());
            return;
          }
          Ce = !0;
          const xe = ue._readableState, hn = ue._writableState, Pt = hn || xe;
          xe && (xe.constructed = !0), hn && (hn.constructed = !0), Pt.destroyed ? ue.emit(b, Ne) : Ne ? O(ue, Ne, !0) : u.nextTick(j, ue);
        }
        try {
          ue._construct((Ne) => {
            u.nextTick(pe, Ne);
          });
        } catch (Ne) {
          u.nextTick(pe, Ne);
        }
      }
      function j(ue) {
        ue.emit(A);
      }
      function D(ue) {
        return (ue == null ? void 0 : ue.setHeader) && typeof ue.abort == "function";
      }
      function Y(ue) {
        ue.emit("close");
      }
      function z(ue, Ce) {
        ue.emit("error", Ce), u.nextTick(Y, ue);
      }
      function Ie(ue, Ce) {
        !ue || v(ue) || (!Ce && !g(ue) && (Ce = new d()), _(ue) ? (ue.socket = null, ue.destroy(Ce)) : D(ue) ? ue.abort() : D(ue.req) ? ue.req.abort() : typeof ue.destroy == "function" ? ue.destroy(Ce) : typeof ue.close == "function" ? ue.close() : Ce ? u.nextTick(z, ue, Ce) : u.nextTick(Y, ue), ue.destroyed || (ue[y] = !0));
      }
      o.exports = {
        construct: ie,
        destroyer: Ie,
        destroy: S,
        undestroy: M,
        errorOrDestroy: O
      };
    }, { "../../ours/errors": 126, "../../ours/primordials": 127, "./utils": 122, "process/": 102 }], 111: [function(r, o, a) {
      const {
        ObjectDefineProperties: u,
        ObjectGetOwnPropertyDescriptor: c,
        ObjectKeys: f,
        ObjectSetPrototypeOf: d
      } = r("../../ours/primordials");
      o.exports = v;
      const p = r("./readable"), y = r("./writable");
      d(v.prototype, p.prototype), d(v, p);
      {
        const A = f(y.prototype);
        for (let w = 0; w < A.length; w++) {
          const S = A[w];
          v.prototype[S] || (v.prototype[S] = y.prototype[S]);
        }
      }
      function v(A) {
        if (!(this instanceof v))
          return new v(A);
        p.call(this, A), y.call(this, A), A ? (this.allowHalfOpen = A.allowHalfOpen !== !1, A.readable === !1 && (this._readableState.readable = !1, this._readableState.ended = !0, this._readableState.endEmitted = !0), A.writable === !1 && (this._writableState.writable = !1, this._writableState.ending = !0, this._writableState.ended = !0, this._writableState.finished = !0)) : this.allowHalfOpen = !0;
      }
      u(v.prototype, {
        writable: {
          __proto__: null,
          ...c(y.prototype, "writable")
        },
        writableHighWaterMark: {
          __proto__: null,
          ...c(y.prototype, "writableHighWaterMark")
        },
        writableObjectMode: {
          __proto__: null,
          ...c(y.prototype, "writableObjectMode")
        },
        writableBuffer: {
          __proto__: null,
          ...c(y.prototype, "writableBuffer")
        },
        writableLength: {
          __proto__: null,
          ...c(y.prototype, "writableLength")
        },
        writableFinished: {
          __proto__: null,
          ...c(y.prototype, "writableFinished")
        },
        writableCorked: {
          __proto__: null,
          ...c(y.prototype, "writableCorked")
        },
        writableEnded: {
          __proto__: null,
          ...c(y.prototype, "writableEnded")
        },
        writableNeedDrain: {
          __proto__: null,
          ...c(y.prototype, "writableNeedDrain")
        },
        destroyed: {
          __proto__: null,
          get() {
            return this._readableState === void 0 || this._writableState === void 0 ? !1 : this._readableState.destroyed && this._writableState.destroyed;
          },
          set(A) {
            this._readableState && this._writableState && (this._readableState.destroyed = A, this._writableState.destroyed = A);
          }
        }
      });
      let g;
      function _() {
        return g === void 0 && (g = {}), g;
      }
      v.fromWeb = function(A, w) {
        return _().newStreamDuplexFromReadableWritablePair(A, w);
      }, v.toWeb = function(A) {
        return _().newReadableWritablePairFromDuplex(A);
      };
      let b;
      v.from = function(A) {
        return b || (b = r("./duplexify")), b(A, "body");
      };
    }, { "../../ours/primordials": 127, "./duplexify": 112, "./readable": 119, "./writable": 123 }], 112: [function(r, o, a) {
      const u = r("process/"), c = r("buffer"), {
        isReadable: f,
        isWritable: d,
        isIterable: p,
        isNodeStream: y,
        isReadableNodeStream: v,
        isWritableNodeStream: g,
        isDuplexNodeStream: _
      } = r("./utils"), b = r("./end-of-stream"), {
        AbortError: A,
        codes: { ERR_INVALID_ARG_TYPE: w, ERR_INVALID_RETURN_VALUE: S }
      } = r("../../ours/errors"), { destroyer: T } = r("./destroy"), x = r("./duplex"), L = r("./readable"), { createDeferredPromise: k } = r("../../ours/util"), M = r("./from"), O = globalThis.Blob || c.Blob, ie = typeof O < "u" ? function(ue) {
        return ue instanceof O;
      } : function(ue) {
        return !1;
      }, F = globalThis.AbortController || r("abort-controller").AbortController, { FunctionPrototypeCall: j } = r("../../ours/primordials");
      class D extends x {
        constructor(ue) {
          super(ue), (ue == null ? void 0 : ue.readable) === !1 && (this._readableState.readable = !1, this._readableState.ended = !0, this._readableState.endEmitted = !0), (ue == null ? void 0 : ue.writable) === !1 && (this._writableState.writable = !1, this._writableState.ending = !0, this._writableState.ended = !0, this._writableState.finished = !0);
        }
      }
      o.exports = function Ie(ue, Ce) {
        if (_(ue))
          return ue;
        if (v(ue))
          return z({
            readable: ue
          });
        if (g(ue))
          return z({
            writable: ue
          });
        if (y(ue))
          return z({
            writable: !1,
            readable: !1
          });
        if (typeof ue == "function") {
          const { value: Ne, write: xe, final: hn, destroy: Pt } = Y(ue);
          if (p(Ne))
            return M(D, Ne, {
              // TODO (ronag): highWaterMark?
              objectMode: !0,
              write: xe,
              final: hn,
              destroy: Pt
            });
          const _n = Ne == null ? void 0 : Ne.then;
          if (typeof _n == "function") {
            let In;
            const Dt = j(
              _n,
              Ne,
              (he) => {
                if (he != null)
                  throw new S("nully", "body", he);
              },
              (he) => {
                T(In, he);
              }
            );
            return In = new D({
              // TODO (ronag): highWaterMark?
              objectMode: !0,
              readable: !1,
              write: xe,
              final(he) {
                hn(async () => {
                  try {
                    await Dt, u.nextTick(he, null);
                  } catch (At) {
                    u.nextTick(he, At);
                  }
                });
              },
              destroy: Pt
            });
          }
          throw new S("Iterable, AsyncIterable or AsyncFunction", Ce, Ne);
        }
        if (ie(ue))
          return Ie(ue.arrayBuffer());
        if (p(ue))
          return M(D, ue, {
            // TODO (ronag): highWaterMark?
            objectMode: !0,
            writable: !1
          });
        if (typeof (ue == null ? void 0 : ue.writable) == "object" || typeof (ue == null ? void 0 : ue.readable) == "object") {
          const Ne = ue != null && ue.readable ? v(ue == null ? void 0 : ue.readable) ? ue == null ? void 0 : ue.readable : Ie(ue.readable) : void 0, xe = ue != null && ue.writable ? g(ue == null ? void 0 : ue.writable) ? ue == null ? void 0 : ue.writable : Ie(ue.writable) : void 0;
          return z({
            readable: Ne,
            writable: xe
          });
        }
        const pe = ue == null ? void 0 : ue.then;
        if (typeof pe == "function") {
          let Ne;
          return j(
            pe,
            ue,
            (xe) => {
              xe != null && Ne.push(xe), Ne.push(null);
            },
            (xe) => {
              T(Ne, xe);
            }
          ), Ne = new D({
            objectMode: !0,
            writable: !1,
            read() {
            }
          });
        }
        throw new w(
          Ce,
          [
            "Blob",
            "ReadableStream",
            "WritableStream",
            "Stream",
            "Iterable",
            "AsyncIterable",
            "Function",
            "{ readable, writable } pair",
            "Promise"
          ],
          ue
        );
      };
      function Y(Ie) {
        let { promise: ue, resolve: Ce } = k();
        const pe = new F(), Ne = pe.signal;
        return {
          value: Ie(
            async function* () {
              for (; ; ) {
                const hn = ue;
                ue = null;
                const { chunk: Pt, done: _n, cb: In } = await hn;
                if (u.nextTick(In), _n)
                  return;
                if (Ne.aborted)
                  throw new A(void 0, {
                    cause: Ne.reason
                  });
                ({ promise: ue, resolve: Ce } = k()), yield Pt;
              }
            }(),
            {
              signal: Ne
            }
          ),
          write(hn, Pt, _n) {
            const In = Ce;
            Ce = null, In({
              chunk: hn,
              done: !1,
              cb: _n
            });
          },
          final(hn) {
            const Pt = Ce;
            Ce = null, Pt({
              done: !0,
              cb: hn
            });
          },
          destroy(hn, Pt) {
            pe.abort(), Pt(hn);
          }
        };
      }
      function z(Ie) {
        const ue = Ie.readable && typeof Ie.readable.read != "function" ? L.wrap(Ie.readable) : Ie.readable, Ce = Ie.writable;
        let pe = !!f(ue), Ne = !!d(Ce), xe, hn, Pt, _n, In;
        function Dt(he) {
          const At = _n;
          _n = null, At ? At(he) : he && In.destroy(he);
        }
        return In = new D({
          // TODO (ronag): highWaterMark?
          readableObjectMode: !!(ue != null && ue.readableObjectMode),
          writableObjectMode: !!(Ce != null && Ce.writableObjectMode),
          readable: pe,
          writable: Ne
        }), Ne && (b(Ce, (he) => {
          Ne = !1, he && T(ue, he), Dt(he);
        }), In._write = function(he, At, Lt) {
          Ce.write(he, At) ? Lt() : xe = Lt;
        }, In._final = function(he) {
          Ce.end(), hn = he;
        }, Ce.on("drain", function() {
          if (xe) {
            const he = xe;
            xe = null, he();
          }
        }), Ce.on("finish", function() {
          if (hn) {
            const he = hn;
            hn = null, he();
          }
        })), pe && (b(ue, (he) => {
          pe = !1, he && T(ue, he), Dt(he);
        }), ue.on("readable", function() {
          if (Pt) {
            const he = Pt;
            Pt = null, he();
          }
        }), ue.on("end", function() {
          In.push(null);
        }), In._read = function() {
          for (; ; ) {
            const he = ue.read();
            if (he === null) {
              Pt = In._read;
              return;
            }
            if (!In.push(he))
              return;
          }
        }), In._destroy = function(he, At) {
          !he && _n !== null && (he = new A()), Pt = null, xe = null, hn = null, _n === null ? At(he) : (_n = At, T(Ce, he), T(ue, he));
        }, In;
      }
    }, { "../../ours/errors": 126, "../../ours/primordials": 127, "../../ours/util": 128, "./destroy": 110, "./duplex": 111, "./end-of-stream": 113, "./from": 114, "./readable": 119, "./utils": 122, "abort-controller": 24, buffer: 29, "process/": 102 }], 113: [function(r, o, a) {
      const u = r("process/"), { AbortError: c, codes: f } = r("../../ours/errors"), { ERR_INVALID_ARG_TYPE: d, ERR_STREAM_PREMATURE_CLOSE: p } = f, { kEmptyObject: y, once: v } = r("../../ours/util"), { validateAbortSignal: g, validateFunction: _, validateObject: b, validateBoolean: A } = r("../validators"), { Promise: w, PromisePrototypeThen: S } = r("../../ours/primordials"), {
        isClosed: T,
        isReadable: x,
        isReadableNodeStream: L,
        isReadableStream: k,
        isReadableFinished: M,
        isReadableErrored: O,
        isWritable: ie,
        isWritableNodeStream: F,
        isWritableStream: j,
        isWritableFinished: D,
        isWritableErrored: Y,
        isNodeStream: z,
        willEmitClose: Ie,
        kIsClosedPromise: ue
      } = r("./utils");
      function Ce(Pt) {
        return Pt.setHeader && typeof Pt.abort == "function";
      }
      const pe = () => {
      };
      function Ne(Pt, _n, In) {
        var Dt, he;
        if (arguments.length === 2 ? (In = _n, _n = y) : _n == null ? _n = y : b(_n, "options"), _(In, "callback"), g(_n.signal, "options.signal"), In = v(In), k(Pt) || j(Pt))
          return xe(Pt, _n, In);
        if (!z(Pt))
          throw new d("stream", ["ReadableStream", "WritableStream", "Stream"], Pt);
        const At = (Dt = _n.readable) !== null && Dt !== void 0 ? Dt : L(Pt), Lt = (he = _n.writable) !== null && he !== void 0 ? he : F(Pt), Cn = Pt._writableState, ze = Pt._readableState, _e = () => {
          Pt.writable || Ve();
        };
        let de = Ie(Pt) && L(Pt) === At && F(Pt) === Lt, Et = D(Pt, !1);
        const Ve = () => {
          Et = !0, Pt.destroyed && (de = !1), !(de && (!Pt.readable || At)) && (!At || $e) && In.call(Pt);
        };
        let $e = M(Pt, !1);
        const kt = () => {
          $e = !0, Pt.destroyed && (de = !1), !(de && (!Pt.writable || Lt)) && (!Lt || Et) && In.call(Pt);
        }, jt = ($) => {
          In.call(Pt, $);
        };
        let bn = T(Pt);
        const oe = () => {
          bn = !0;
          const $ = Y(Pt) || O(Pt);
          if ($ && typeof $ != "boolean")
            return In.call(Pt, $);
          if (At && !$e && L(Pt, !0) && !M(Pt, !1))
            return In.call(Pt, new p());
          if (Lt && !Et && !D(Pt, !1))
            return In.call(Pt, new p());
          In.call(Pt);
        }, ae = () => {
          bn = !0;
          const $ = Y(Pt) || O(Pt);
          if ($ && typeof $ != "boolean")
            return In.call(Pt, $);
          In.call(Pt);
        }, re = () => {
          Pt.req.on("finish", Ve);
        };
        Ce(Pt) ? (Pt.on("complete", Ve), de || Pt.on("abort", oe), Pt.req ? re() : Pt.on("request", re)) : Lt && !Cn && (Pt.on("end", _e), Pt.on("close", _e)), !de && typeof Pt.aborted == "boolean" && Pt.on("aborted", oe), Pt.on("end", kt), Pt.on("finish", Ve), _n.error !== !1 && Pt.on("error", jt), Pt.on("close", oe), bn ? u.nextTick(oe) : Cn != null && Cn.errorEmitted || ze != null && ze.errorEmitted ? de || u.nextTick(ae) : (!At && (!de || x(Pt)) && (Et || ie(Pt) === !1) || !Lt && (!de || ie(Pt)) && ($e || x(Pt) === !1) || ze && Pt.req && Pt.aborted) && u.nextTick(ae);
        const V = () => {
          In = pe, Pt.removeListener("aborted", oe), Pt.removeListener("complete", Ve), Pt.removeListener("abort", oe), Pt.removeListener("request", re), Pt.req && Pt.req.removeListener("finish", Ve), Pt.removeListener("end", _e), Pt.removeListener("close", _e), Pt.removeListener("finish", Ve), Pt.removeListener("end", kt), Pt.removeListener("error", jt), Pt.removeListener("close", oe);
        };
        if (_n.signal && !bn) {
          const $ = () => {
            const le = In;
            V(), le.call(
              Pt,
              new c(void 0, {
                cause: _n.signal.reason
              })
            );
          };
          if (_n.signal.aborted)
            u.nextTick($);
          else {
            const le = In;
            In = v((...Oe) => {
              _n.signal.removeEventListener("abort", $), le.apply(Pt, Oe);
            }), _n.signal.addEventListener("abort", $);
          }
        }
        return V;
      }
      function xe(Pt, _n, In) {
        let Dt = !1, he = pe;
        if (_n.signal)
          if (he = () => {
            Dt = !0, In.call(
              Pt,
              new c(void 0, {
                cause: _n.signal.reason
              })
            );
          }, _n.signal.aborted)
            u.nextTick(he);
          else {
            const Lt = In;
            In = v((...Cn) => {
              _n.signal.removeEventListener("abort", he), Lt.apply(Pt, Cn);
            }), _n.signal.addEventListener("abort", he);
          }
        const At = (...Lt) => {
          Dt || u.nextTick(() => In.apply(Pt, Lt));
        };
        return S(Pt[ue].promise, At, At), pe;
      }
      function hn(Pt, _n) {
        var In;
        let Dt = !1;
        return _n === null && (_n = y), (In = _n) !== null && In !== void 0 && In.cleanup && (A(_n.cleanup, "cleanup"), Dt = _n.cleanup), new w((he, At) => {
          const Lt = Ne(Pt, _n, (Cn) => {
            Dt && Lt(), Cn ? At(Cn) : he();
          });
        });
      }
      o.exports = Ne, o.exports.finished = hn;
    }, { "../../ours/errors": 126, "../../ours/primordials": 127, "../../ours/util": 128, "../validators": 124, "./utils": 122, "process/": 102 }], 114: [function(r, o, a) {
      const u = r("process/"), { PromisePrototypeThen: c, SymbolAsyncIterator: f, SymbolIterator: d } = r("../../ours/primordials"), { Buffer: p } = r("buffer"), { ERR_INVALID_ARG_TYPE: y, ERR_STREAM_NULL_VALUES: v } = r("../../ours/errors").codes;
      function g(_, b, A) {
        let w;
        if (typeof b == "string" || b instanceof p)
          return new _({
            objectMode: !0,
            ...A,
            read() {
              this.push(b), this.push(null);
            }
          });
        let S;
        if (b && b[f])
          S = !0, w = b[f]();
        else if (b && b[d])
          S = !1, w = b[d]();
        else
          throw new y("iterable", ["Iterable"], b);
        const T = new _({
          objectMode: !0,
          highWaterMark: 1,
          // TODO(ronag): What options should be allowed?
          ...A
        });
        let x = !1;
        T._read = function() {
          x || (x = !0, k());
        }, T._destroy = function(M, O) {
          c(
            L(M),
            () => u.nextTick(O, M),
            // nextTick is here in case cb throws
            (ie) => u.nextTick(O, ie || M)
          );
        };
        async function L(M) {
          const O = M != null, ie = typeof w.throw == "function";
          if (O && ie) {
            const { value: F, done: j } = await w.throw(M);
            if (await F, j)
              return;
          }
          if (typeof w.return == "function") {
            const { value: F } = await w.return();
            await F;
          }
        }
        async function k() {
          for (; ; ) {
            try {
              const { value: M, done: O } = S ? await w.next() : w.next();
              if (O)
                T.push(null);
              else {
                const ie = M && typeof M.then == "function" ? await M : M;
                if (ie === null)
                  throw x = !1, new v();
                if (T.push(ie))
                  continue;
                x = !1;
              }
            } catch (M) {
              T.destroy(M);
            }
            break;
          }
        }
        return T;
      }
      o.exports = g;
    }, { "../../ours/errors": 126, "../../ours/primordials": 127, buffer: 29, "process/": 102 }], 115: [function(r, o, a) {
      const { ArrayIsArray: u, ObjectSetPrototypeOf: c } = r("../../ours/primordials"), { EventEmitter: f } = r("events");
      function d(y) {
        f.call(this, y);
      }
      c(d.prototype, f.prototype), c(d, f), d.prototype.pipe = function(y, v) {
        const g = this;
        function _(L) {
          y.writable && y.write(L) === !1 && g.pause && g.pause();
        }
        g.on("data", _);
        function b() {
          g.readable && g.resume && g.resume();
        }
        y.on("drain", b), !y._isStdio && (!v || v.end !== !1) && (g.on("end", w), g.on("close", S));
        let A = !1;
        function w() {
          A || (A = !0, y.end());
        }
        function S() {
          A || (A = !0, typeof y.destroy == "function" && y.destroy());
        }
        function T(L) {
          x(), f.listenerCount(this, "error") === 0 && this.emit("error", L);
        }
        p(g, "error", T), p(y, "error", T);
        function x() {
          g.removeListener("data", _), y.removeListener("drain", b), g.removeListener("end", w), g.removeListener("close", S), g.removeListener("error", T), y.removeListener("error", T), g.removeListener("end", x), g.removeListener("close", x), y.removeListener("close", x);
        }
        return g.on("end", x), g.on("close", x), y.on("close", x), y.emit("pipe", g), y;
      };
      function p(y, v, g) {
        if (typeof y.prependListener == "function")
          return y.prependListener(v, g);
        !y._events || !y._events[v] ? y.on(v, g) : u(y._events[v]) ? y._events[v].unshift(g) : y._events[v] = [g, y._events[v]];
      }
      o.exports = {
        Stream: d,
        prependListener: p
      };
    }, { "../../ours/primordials": 127, events: 49 }], 116: [function(r, o, a) {
      const u = globalThis.AbortController || r("abort-controller").AbortController, {
        codes: { ERR_INVALID_ARG_VALUE: c, ERR_INVALID_ARG_TYPE: f, ERR_MISSING_ARGS: d, ERR_OUT_OF_RANGE: p },
        AbortError: y
      } = r("../../ours/errors"), { validateAbortSignal: v, validateInteger: g, validateObject: _ } = r("../validators"), b = r("../../ours/primordials").Symbol("kWeak"), { finished: A } = r("./end-of-stream"), w = r("./compose"), { addAbortSignalNoValidate: S } = r("./add-abort-signal"), { isWritable: T, isNodeStream: x } = r("./utils"), {
        ArrayPrototypePush: L,
        MathFloor: k,
        Number: M,
        NumberIsNaN: O,
        Promise: ie,
        PromiseReject: F,
        PromisePrototypeThen: j,
        Symbol: D
      } = r("../../ours/primordials"), Y = D("kEmpty"), z = D("kEof");
      function Ie(ze, _e) {
        if (_e != null && _(_e, "options"), (_e == null ? void 0 : _e.signal) != null && v(_e.signal, "options.signal"), x(ze) && !T(ze))
          throw new c("stream", ze, "must be writable");
        const de = w(this, ze);
        return _e != null && _e.signal && S(_e.signal, de), de;
      }
      function ue(ze, _e) {
        if (typeof ze != "function")
          throw new f("fn", ["Function", "AsyncFunction"], ze);
        _e != null && _(_e, "options"), (_e == null ? void 0 : _e.signal) != null && v(_e.signal, "options.signal");
        let de = 1;
        return (_e == null ? void 0 : _e.concurrency) != null && (de = k(_e.concurrency)), g(de, "concurrency", 1), async function* () {
          var Ve, $e;
          const kt = new u(), jt = this, bn = [], oe = kt.signal, ae = {
            signal: oe
          }, re = () => kt.abort();
          _e != null && (Ve = _e.signal) !== null && Ve !== void 0 && Ve.aborted && re(), _e == null || ($e = _e.signal) === null || $e === void 0 || $e.addEventListener("abort", re);
          let V, $, le = !1;
          function Oe() {
            le = !0;
          }
          async function Ue() {
            try {
              for await (let xn of jt) {
                var vn;
                if (le)
                  return;
                if (oe.aborted)
                  throw new y();
                try {
                  xn = ze(xn, ae);
                } catch (Bn) {
                  xn = F(Bn);
                }
                xn !== Y && (typeof ((vn = xn) === null || vn === void 0 ? void 0 : vn.catch) == "function" && xn.catch(Oe), bn.push(xn), V && (V(), V = null), !le && bn.length && bn.length >= de && await new ie((Bn) => {
                  $ = Bn;
                }));
              }
              bn.push(z);
            } catch (xn) {
              const Bn = F(xn);
              j(Bn, void 0, Oe), bn.push(Bn);
            } finally {
              var wn;
              le = !0, V && (V(), V = null), _e == null || (wn = _e.signal) === null || wn === void 0 || wn.removeEventListener("abort", re);
            }
          }
          Ue();
          try {
            for (; ; ) {
              for (; bn.length > 0; ) {
                const vn = await bn[0];
                if (vn === z)
                  return;
                if (oe.aborted)
                  throw new y();
                vn !== Y && (yield vn), bn.shift(), $ && ($(), $ = null);
              }
              await new ie((vn) => {
                V = vn;
              });
            }
          } finally {
            kt.abort(), le = !0, $ && ($(), $ = null);
          }
        }.call(this);
      }
      function Ce(ze = void 0) {
        return ze != null && _(ze, "options"), (ze == null ? void 0 : ze.signal) != null && v(ze.signal, "options.signal"), async function* () {
          let de = 0;
          for await (const Ve of this) {
            var Et;
            if (ze != null && (Et = ze.signal) !== null && Et !== void 0 && Et.aborted)
              throw new y({
                cause: ze.signal.reason
              });
            yield [de++, Ve];
          }
        }.call(this);
      }
      async function pe(ze, _e = void 0) {
        for await (const de of Pt.call(this, ze, _e))
          return !0;
        return !1;
      }
      async function Ne(ze, _e = void 0) {
        if (typeof ze != "function")
          throw new f("fn", ["Function", "AsyncFunction"], ze);
        return !await pe.call(
          this,
          async (...de) => !await ze(...de),
          _e
        );
      }
      async function xe(ze, _e) {
        for await (const de of Pt.call(this, ze, _e))
          return de;
      }
      async function hn(ze, _e) {
        if (typeof ze != "function")
          throw new f("fn", ["Function", "AsyncFunction"], ze);
        async function de(Et, Ve) {
          return await ze(Et, Ve), Y;
        }
        for await (const Et of ue.call(this, de, _e))
          ;
      }
      function Pt(ze, _e) {
        if (typeof ze != "function")
          throw new f("fn", ["Function", "AsyncFunction"], ze);
        async function de(Et, Ve) {
          return await ze(Et, Ve) ? Et : Y;
        }
        return ue.call(this, de, _e);
      }
      class _n extends d {
        constructor() {
          super("reduce"), this.message = "Reduce of an empty stream requires an initial value";
        }
      }
      async function In(ze, _e, de) {
        var Et;
        if (typeof ze != "function")
          throw new f("reducer", ["Function", "AsyncFunction"], ze);
        de != null && _(de, "options"), (de == null ? void 0 : de.signal) != null && v(de.signal, "options.signal");
        let Ve = arguments.length > 1;
        if (de != null && (Et = de.signal) !== null && Et !== void 0 && Et.aborted) {
          const oe = new y(void 0, {
            cause: de.signal.reason
          });
          throw this.once("error", () => {
          }), await A(this.destroy(oe)), oe;
        }
        const $e = new u(), kt = $e.signal;
        if (de != null && de.signal) {
          const oe = {
            once: !0,
            [b]: this
          };
          de.signal.addEventListener("abort", () => $e.abort(), oe);
        }
        let jt = !1;
        try {
          for await (const oe of this) {
            var bn;
            if (jt = !0, de != null && (bn = de.signal) !== null && bn !== void 0 && bn.aborted)
              throw new y();
            Ve ? _e = await ze(_e, oe, {
              signal: kt
            }) : (_e = oe, Ve = !0);
          }
          if (!jt && !Ve)
            throw new _n();
        } finally {
          $e.abort();
        }
        return _e;
      }
      async function Dt(ze) {
        ze != null && _(ze, "options"), (ze == null ? void 0 : ze.signal) != null && v(ze.signal, "options.signal");
        const _e = [];
        for await (const Et of this) {
          var de;
          if (ze != null && (de = ze.signal) !== null && de !== void 0 && de.aborted)
            throw new y(void 0, {
              cause: ze.signal.reason
            });
          L(_e, Et);
        }
        return _e;
      }
      function he(ze, _e) {
        const de = ue.call(this, ze, _e);
        return async function* () {
          for await (const Ve of de)
            yield* Ve;
        }.call(this);
      }
      function At(ze) {
        if (ze = M(ze), O(ze))
          return 0;
        if (ze < 0)
          throw new p("number", ">= 0", ze);
        return ze;
      }
      function Lt(ze, _e = void 0) {
        return _e != null && _(_e, "options"), (_e == null ? void 0 : _e.signal) != null && v(_e.signal, "options.signal"), ze = At(ze), async function* () {
          var Et;
          if (_e != null && (Et = _e.signal) !== null && Et !== void 0 && Et.aborted)
            throw new y();
          for await (const $e of this) {
            var Ve;
            if (_e != null && (Ve = _e.signal) !== null && Ve !== void 0 && Ve.aborted)
              throw new y();
            ze-- <= 0 && (yield $e);
          }
        }.call(this);
      }
      function Cn(ze, _e = void 0) {
        return _e != null && _(_e, "options"), (_e == null ? void 0 : _e.signal) != null && v(_e.signal, "options.signal"), ze = At(ze), async function* () {
          var Et;
          if (_e != null && (Et = _e.signal) !== null && Et !== void 0 && Et.aborted)
            throw new y();
          for await (const $e of this) {
            var Ve;
            if (_e != null && (Ve = _e.signal) !== null && Ve !== void 0 && Ve.aborted)
              throw new y();
            if (ze-- > 0)
              yield $e;
            else
              return;
          }
        }.call(this);
      }
      o.exports.streamReturningOperators = {
        asIndexedPairs: Ce,
        drop: Lt,
        filter: Pt,
        flatMap: he,
        map: ue,
        take: Cn,
        compose: Ie
      }, o.exports.promiseReturningOperators = {
        every: Ne,
        forEach: hn,
        reduce: In,
        toArray: Dt,
        some: pe,
        find: xe
      };
    }, { "../../ours/errors": 126, "../../ours/primordials": 127, "../validators": 124, "./add-abort-signal": 107, "./compose": 109, "./end-of-stream": 113, "./utils": 122, "abort-controller": 24 }], 117: [function(r, o, a) {
      const { ObjectSetPrototypeOf: u } = r("../../ours/primordials");
      o.exports = f;
      const c = r("./transform");
      u(f.prototype, c.prototype), u(f, c);
      function f(d) {
        if (!(this instanceof f))
          return new f(d);
        c.call(this, d);
      }
      f.prototype._transform = function(d, p, y) {
        y(null, d);
      };
    }, { "../../ours/primordials": 127, "./transform": 121 }], 118: [function(r, o, a) {
      const u = r("process/"), { ArrayIsArray: c, Promise: f, SymbolAsyncIterator: d } = r("../../ours/primordials"), p = r("./end-of-stream"), { once: y } = r("../../ours/util"), v = r("./destroy"), g = r("./duplex"), {
        aggregateTwoErrors: _,
        codes: {
          ERR_INVALID_ARG_TYPE: b,
          ERR_INVALID_RETURN_VALUE: A,
          ERR_MISSING_ARGS: w,
          ERR_STREAM_DESTROYED: S,
          ERR_STREAM_PREMATURE_CLOSE: T
        },
        AbortError: x
      } = r("../../ours/errors"), { validateFunction: L, validateAbortSignal: k } = r("../validators"), {
        isIterable: M,
        isReadable: O,
        isReadableNodeStream: ie,
        isNodeStream: F,
        isTransformStream: j,
        isWebStream: D,
        isReadableStream: Y,
        isReadableEnded: z
      } = r("./utils"), Ie = globalThis.AbortController || r("abort-controller").AbortController;
      let ue, Ce;
      function pe(At, Lt, Cn) {
        let ze = !1;
        At.on("close", () => {
          ze = !0;
        });
        const _e = p(
          At,
          {
            readable: Lt,
            writable: Cn
          },
          (de) => {
            ze = !de;
          }
        );
        return {
          destroy: (de) => {
            ze || (ze = !0, v.destroyer(At, de || new S("pipe")));
          },
          cleanup: _e
        };
      }
      function Ne(At) {
        return L(At[At.length - 1], "streams[stream.length - 1]"), At.pop();
      }
      function xe(At) {
        if (M(At))
          return At;
        if (ie(At))
          return hn(At);
        throw new b("val", ["Readable", "Iterable", "AsyncIterable"], At);
      }
      async function* hn(At) {
        Ce || (Ce = r("./readable")), yield* Ce.prototype[d].call(At);
      }
      async function Pt(At, Lt, Cn, { end: ze }) {
        let _e, de = null;
        const Et = (kt) => {
          if (kt && (_e = kt), de) {
            const jt = de;
            de = null, jt();
          }
        }, Ve = () => new f((kt, jt) => {
          _e ? jt(_e) : de = () => {
            _e ? jt(_e) : kt();
          };
        });
        Lt.on("drain", Et);
        const $e = p(
          Lt,
          {
            readable: !1
          },
          Et
        );
        try {
          Lt.writableNeedDrain && await Ve();
          for await (const kt of At)
            Lt.write(kt) || await Ve();
          ze && Lt.end(), await Ve(), Cn();
        } catch (kt) {
          Cn(_e !== kt ? _(_e, kt) : kt);
        } finally {
          $e(), Lt.off("drain", Et);
        }
      }
      async function _n(At, Lt, Cn, { end: ze }) {
        j(Lt) && (Lt = Lt.writable);
        const _e = Lt.getWriter();
        try {
          for await (const de of At)
            await _e.ready, _e.write(de).catch(() => {
            });
          await _e.ready, ze && await _e.close(), Cn();
        } catch (de) {
          try {
            await _e.abort(de), Cn(de);
          } catch (Et) {
            Cn(Et);
          }
        }
      }
      function In(...At) {
        return Dt(At, y(Ne(At)));
      }
      function Dt(At, Lt, Cn) {
        if (At.length === 1 && c(At[0]) && (At = At[0]), At.length < 2)
          throw new w("streams");
        const ze = new Ie(), _e = ze.signal, de = Cn == null ? void 0 : Cn.signal, Et = [];
        k(de, "options.signal");
        function Ve() {
          ae(new x());
        }
        de == null || de.addEventListener("abort", Ve);
        let $e, kt;
        const jt = [];
        let bn = 0;
        function oe(le) {
          ae(le, --bn === 0);
        }
        function ae(le, Oe) {
          if (le && (!$e || $e.code === "ERR_STREAM_PREMATURE_CLOSE") && ($e = le), !(!$e && !Oe)) {
            for (; jt.length; )
              jt.shift()($e);
            de == null || de.removeEventListener("abort", Ve), ze.abort(), Oe && ($e || Et.forEach((Ue) => Ue()), u.nextTick(Lt, $e, kt));
          }
        }
        let re;
        for (let le = 0; le < At.length; le++) {
          const Oe = At[le], Ue = le < At.length - 1, vn = le > 0, wn = Ue || (Cn == null ? void 0 : Cn.end) !== !1, xn = le === At.length - 1;
          if (F(Oe)) {
            let Bn = function(Fe) {
              Fe && Fe.name !== "AbortError" && Fe.code !== "ERR_STREAM_PREMATURE_CLOSE" && oe(Fe);
            };
            if (wn) {
              const { destroy: Fe, cleanup: qe } = pe(Oe, Ue, vn);
              jt.push(Fe), O(Oe) && xn && Et.push(qe);
            }
            Oe.on("error", Bn), O(Oe) && xn && Et.push(() => {
              Oe.removeListener("error", Bn);
            });
          }
          if (le === 0)
            if (typeof Oe == "function") {
              if (re = Oe({
                signal: _e
              }), !M(re))
                throw new A("Iterable, AsyncIterable or Stream", "source", re);
            } else
              M(Oe) || ie(Oe) || j(Oe) ? re = Oe : re = g.from(Oe);
          else if (typeof Oe == "function") {
            if (j(re)) {
              var V;
              re = xe((V = re) === null || V === void 0 ? void 0 : V.readable);
            } else
              re = xe(re);
            if (re = Oe(re, {
              signal: _e
            }), Ue) {
              if (!M(re, !0))
                throw new A("AsyncIterable", `transform[${le - 1}]`, re);
            } else {
              var $;
              ue || (ue = r("./passthrough"));
              const Bn = new ue({
                objectMode: !0
              }), Fe = ($ = re) === null || $ === void 0 ? void 0 : $.then;
              if (typeof Fe == "function")
                bn++, Fe.call(
                  re,
                  (En) => {
                    kt = En, En != null && Bn.write(En), wn && Bn.end(), u.nextTick(oe);
                  },
                  (En) => {
                    Bn.destroy(En), u.nextTick(oe, En);
                  }
                );
              else if (M(re, !0))
                bn++, Pt(re, Bn, oe, {
                  end: wn
                });
              else if (Y(re) || j(re)) {
                const En = re.readable || re;
                bn++, Pt(En, Bn, oe, {
                  end: wn
                });
              } else
                throw new A("AsyncIterable or Promise", "destination", re);
              re = Bn;
              const { destroy: qe, cleanup: Tn } = pe(re, !1, !0);
              jt.push(qe), xn && Et.push(Tn);
            }
          } else if (F(Oe)) {
            if (ie(re)) {
              bn += 2;
              const Bn = he(re, Oe, oe, {
                end: wn
              });
              O(Oe) && xn && Et.push(Bn);
            } else if (j(re) || Y(re)) {
              const Bn = re.readable || re;
              bn++, Pt(Bn, Oe, oe, {
                end: wn
              });
            } else if (M(re))
              bn++, Pt(re, Oe, oe, {
                end: wn
              });
            else
              throw new b(
                "val",
                ["Readable", "Iterable", "AsyncIterable", "ReadableStream", "TransformStream"],
                re
              );
            re = Oe;
          } else if (D(Oe)) {
            if (ie(re))
              bn++, _n(xe(re), Oe, oe, {
                end: wn
              });
            else if (Y(re) || M(re))
              bn++, _n(re, Oe, oe, {
                end: wn
              });
            else if (j(re))
              bn++, _n(re.readable, Oe, oe, {
                end: wn
              });
            else
              throw new b(
                "val",
                ["Readable", "Iterable", "AsyncIterable", "ReadableStream", "TransformStream"],
                re
              );
            re = Oe;
          } else
            re = g.from(Oe);
        }
        return (_e != null && _e.aborted || de != null && de.aborted) && u.nextTick(Ve), re;
      }
      function he(At, Lt, Cn, { end: ze }) {
        let _e = !1;
        if (Lt.on("close", () => {
          _e || Cn(new T());
        }), At.pipe(Lt, {
          end: !1
        }), ze) {
          let de = function() {
            _e = !0, Lt.end();
          };
          z(At) ? u.nextTick(de) : At.once("end", de);
        } else
          Cn();
        return p(
          At,
          {
            readable: !0,
            writable: !1
          },
          (de) => {
            const Et = At._readableState;
            de && de.code === "ERR_STREAM_PREMATURE_CLOSE" && Et && Et.ended && !Et.errored && !Et.errorEmitted ? At.once("end", Cn).once("error", Cn) : Cn(de);
          }
        ), p(
          Lt,
          {
            readable: !1,
            writable: !0
          },
          Cn
        );
      }
      o.exports = {
        pipelineImpl: Dt,
        pipeline: In
      };
    }, { "../../ours/errors": 126, "../../ours/primordials": 127, "../../ours/util": 128, "../validators": 124, "./destroy": 110, "./duplex": 111, "./end-of-stream": 113, "./passthrough": 117, "./readable": 119, "./utils": 122, "abort-controller": 24, "process/": 102 }], 119: [function(r, o, a) {
      const u = r("process/"), {
        ArrayPrototypeIndexOf: c,
        NumberIsInteger: f,
        NumberIsNaN: d,
        NumberParseInt: p,
        ObjectDefineProperties: y,
        ObjectKeys: v,
        ObjectSetPrototypeOf: g,
        Promise: _,
        SafeSet: b,
        SymbolAsyncIterator: A,
        Symbol: w
      } = r("../../ours/primordials");
      o.exports = he, he.ReadableState = Dt;
      const { EventEmitter: S } = r("events"), { Stream: T, prependListener: x } = r("./legacy"), { Buffer: L } = r("buffer"), { addAbortSignal: k } = r("./add-abort-signal"), M = r("./end-of-stream");
      let O = r("../../ours/util").debuglog("stream", (Fe) => {
        O = Fe;
      });
      const ie = r("./buffer_list"), F = r("./destroy"), { getHighWaterMark: j, getDefaultHighWaterMark: D } = r("./state"), {
        aggregateTwoErrors: Y,
        codes: {
          ERR_INVALID_ARG_TYPE: z,
          ERR_METHOD_NOT_IMPLEMENTED: Ie,
          ERR_OUT_OF_RANGE: ue,
          ERR_STREAM_PUSH_AFTER_EOF: Ce,
          ERR_STREAM_UNSHIFT_AFTER_END_EVENT: pe
        }
      } = r("../../ours/errors"), { validateObject: Ne } = r("../validators"), xe = w("kPaused"), { StringDecoder: hn } = r("string_decoder"), Pt = r("./from");
      g(he.prototype, T.prototype), g(he, T);
      const _n = () => {
      }, { errorOrDestroy: In } = F;
      function Dt(Fe, qe, Tn) {
        typeof Tn != "boolean" && (Tn = qe instanceof r("./duplex")), this.objectMode = !!(Fe && Fe.objectMode), Tn && (this.objectMode = this.objectMode || !!(Fe && Fe.readableObjectMode)), this.highWaterMark = Fe ? j(this, Fe, "readableHighWaterMark", Tn) : D(!1), this.buffer = new ie(), this.length = 0, this.pipes = [], this.flowing = null, this.ended = !1, this.endEmitted = !1, this.reading = !1, this.constructed = !0, this.sync = !0, this.needReadable = !1, this.emittedReadable = !1, this.readableListening = !1, this.resumeScheduled = !1, this[xe] = null, this.errorEmitted = !1, this.emitClose = !Fe || Fe.emitClose !== !1, this.autoDestroy = !Fe || Fe.autoDestroy !== !1, this.destroyed = !1, this.errored = null, this.closed = !1, this.closeEmitted = !1, this.defaultEncoding = Fe && Fe.defaultEncoding || "utf8", this.awaitDrainWriters = null, this.multiAwaitDrain = !1, this.readingMore = !1, this.dataEmitted = !1, this.decoder = null, this.encoding = null, Fe && Fe.encoding && (this.decoder = new hn(Fe.encoding), this.encoding = Fe.encoding);
      }
      function he(Fe) {
        if (!(this instanceof he))
          return new he(Fe);
        const qe = this instanceof r("./duplex");
        this._readableState = new Dt(Fe, this, qe), Fe && (typeof Fe.read == "function" && (this._read = Fe.read), typeof Fe.destroy == "function" && (this._destroy = Fe.destroy), typeof Fe.construct == "function" && (this._construct = Fe.construct), Fe.signal && !qe && k(Fe.signal, this)), T.call(this, Fe), F.construct(this, () => {
          this._readableState.needReadable && $e(this, this._readableState);
        });
      }
      he.prototype.destroy = F.destroy, he.prototype._undestroy = F.undestroy, he.prototype._destroy = function(Fe, qe) {
        qe(Fe);
      }, he.prototype[S.captureRejectionSymbol] = function(Fe) {
        this.destroy(Fe);
      }, he.prototype.push = function(Fe, qe) {
        return At(this, Fe, qe, !1);
      }, he.prototype.unshift = function(Fe, qe) {
        return At(this, Fe, qe, !0);
      };
      function At(Fe, qe, Tn, En) {
        O("readableAddChunk", qe);
        const Ln = Fe._readableState;
        let Nn;
        if (Ln.objectMode || (typeof qe == "string" ? (Tn = Tn || Ln.defaultEncoding, Ln.encoding !== Tn && (En && Ln.encoding ? qe = L.from(qe, Tn).toString(Ln.encoding) : (qe = L.from(qe, Tn), Tn = ""))) : qe instanceof L ? Tn = "" : T._isUint8Array(qe) ? (qe = T._uint8ArrayToBuffer(qe), Tn = "") : qe != null && (Nn = new z("chunk", ["string", "Buffer", "Uint8Array"], qe))), Nn)
          In(Fe, Nn);
        else if (qe === null)
          Ln.reading = !1, de(Fe, Ln);
        else if (Ln.objectMode || qe && qe.length > 0)
          if (En)
            if (Ln.endEmitted)
              In(Fe, new pe());
            else {
              if (Ln.destroyed || Ln.errored)
                return !1;
              Lt(Fe, Ln, qe, !0);
            }
          else if (Ln.ended)
            In(Fe, new Ce());
          else {
            if (Ln.destroyed || Ln.errored)
              return !1;
            Ln.reading = !1, Ln.decoder && !Tn ? (qe = Ln.decoder.write(qe), Ln.objectMode || qe.length !== 0 ? Lt(Fe, Ln, qe, !1) : $e(Fe, Ln)) : Lt(Fe, Ln, qe, !1);
          }
        else
          En || (Ln.reading = !1, $e(Fe, Ln));
        return !Ln.ended && (Ln.length < Ln.highWaterMark || Ln.length === 0);
      }
      function Lt(Fe, qe, Tn, En) {
        qe.flowing && qe.length === 0 && !qe.sync && Fe.listenerCount("data") > 0 ? (qe.multiAwaitDrain ? qe.awaitDrainWriters.clear() : qe.awaitDrainWriters = null, qe.dataEmitted = !0, Fe.emit("data", Tn)) : (qe.length += qe.objectMode ? 1 : Tn.length, En ? qe.buffer.unshift(Tn) : qe.buffer.push(Tn), qe.needReadable && Et(Fe)), $e(Fe, qe);
      }
      he.prototype.isPaused = function() {
        const Fe = this._readableState;
        return Fe[xe] === !0 || Fe.flowing === !1;
      }, he.prototype.setEncoding = function(Fe) {
        const qe = new hn(Fe);
        this._readableState.decoder = qe, this._readableState.encoding = this._readableState.decoder.encoding;
        const Tn = this._readableState.buffer;
        let En = "";
        for (const Ln of Tn)
          En += qe.write(Ln);
        return Tn.clear(), En !== "" && Tn.push(En), this._readableState.length = En.length, this;
      };
      const Cn = 1073741824;
      function ze(Fe) {
        if (Fe > Cn)
          throw new ue("size", "<= 1GiB", Fe);
        return Fe--, Fe |= Fe >>> 1, Fe |= Fe >>> 2, Fe |= Fe >>> 4, Fe |= Fe >>> 8, Fe |= Fe >>> 16, Fe++, Fe;
      }
      function _e(Fe, qe) {
        return Fe <= 0 || qe.length === 0 && qe.ended ? 0 : qe.objectMode ? 1 : d(Fe) ? qe.flowing && qe.length ? qe.buffer.first().length : qe.length : Fe <= qe.length ? Fe : qe.ended ? qe.length : 0;
      }
      he.prototype.read = function(Fe) {
        O("read", Fe), Fe === void 0 ? Fe = NaN : f(Fe) || (Fe = p(Fe, 10));
        const qe = this._readableState, Tn = Fe;
        if (Fe > qe.highWaterMark && (qe.highWaterMark = ze(Fe)), Fe !== 0 && (qe.emittedReadable = !1), Fe === 0 && qe.needReadable && ((qe.highWaterMark !== 0 ? qe.length >= qe.highWaterMark : qe.length > 0) || qe.ended))
          return O("read: emitReadable", qe.length, qe.ended), qe.length === 0 && qe.ended ? Ue(this) : Et(this), null;
        if (Fe = _e(Fe, qe), Fe === 0 && qe.ended)
          return qe.length === 0 && Ue(this), null;
        let En = qe.needReadable;
        if (O("need readable", En), (qe.length === 0 || qe.length - Fe < qe.highWaterMark) && (En = !0, O("length less than watermark", En)), qe.ended || qe.reading || qe.destroyed || qe.errored || !qe.constructed)
          En = !1, O("reading, ended or constructing", En);
        else if (En) {
          O("do read"), qe.reading = !0, qe.sync = !0, qe.length === 0 && (qe.needReadable = !0);
          try {
            this._read(qe.highWaterMark);
          } catch (Nn) {
            In(this, Nn);
          }
          qe.sync = !1, qe.reading || (Fe = _e(Tn, qe));
        }
        let Ln;
        return Fe > 0 ? Ln = Oe(Fe, qe) : Ln = null, Ln === null ? (qe.needReadable = qe.length <= qe.highWaterMark, Fe = 0) : (qe.length -= Fe, qe.multiAwaitDrain ? qe.awaitDrainWriters.clear() : qe.awaitDrainWriters = null), qe.length === 0 && (qe.ended || (qe.needReadable = !0), Tn !== Fe && qe.ended && Ue(this)), Ln !== null && !qe.errorEmitted && !qe.closeEmitted && (qe.dataEmitted = !0, this.emit("data", Ln)), Ln;
      };
      function de(Fe, qe) {
        if (O("onEofChunk"), !qe.ended) {
          if (qe.decoder) {
            const Tn = qe.decoder.end();
            Tn && Tn.length && (qe.buffer.push(Tn), qe.length += qe.objectMode ? 1 : Tn.length);
          }
          qe.ended = !0, qe.sync ? Et(Fe) : (qe.needReadable = !1, qe.emittedReadable = !0, Ve(Fe));
        }
      }
      function Et(Fe) {
        const qe = Fe._readableState;
        O("emitReadable", qe.needReadable, qe.emittedReadable), qe.needReadable = !1, qe.emittedReadable || (O("emitReadable", qe.flowing), qe.emittedReadable = !0, u.nextTick(Ve, Fe));
      }
      function Ve(Fe) {
        const qe = Fe._readableState;
        O("emitReadable_", qe.destroyed, qe.length, qe.ended), !qe.destroyed && !qe.errored && (qe.length || qe.ended) && (Fe.emit("readable"), qe.emittedReadable = !1), qe.needReadable = !qe.flowing && !qe.ended && qe.length <= qe.highWaterMark, V(Fe);
      }
      function $e(Fe, qe) {
        !qe.readingMore && qe.constructed && (qe.readingMore = !0, u.nextTick(kt, Fe, qe));
      }
      function kt(Fe, qe) {
        for (; !qe.reading && !qe.ended && (qe.length < qe.highWaterMark || qe.flowing && qe.length === 0); ) {
          const Tn = qe.length;
          if (O("maybeReadMore read 0"), Fe.read(0), Tn === qe.length)
            break;
        }
        qe.readingMore = !1;
      }
      he.prototype._read = function(Fe) {
        throw new Ie("_read()");
      }, he.prototype.pipe = function(Fe, qe) {
        const Tn = this, En = this._readableState;
        En.pipes.length === 1 && (En.multiAwaitDrain || (En.multiAwaitDrain = !0, En.awaitDrainWriters = new b(En.awaitDrainWriters ? [En.awaitDrainWriters] : []))), En.pipes.push(Fe), O("pipe count=%d opts=%j", En.pipes.length, qe);
        const Nn = (!qe || qe.end !== !1) && Fe !== u.stdout && Fe !== u.stderr ? Hn : Dn;
        En.endEmitted ? u.nextTick(Nn) : Tn.once("end", Nn), Fe.on("unpipe", Vn);
        function Vn(On, Gn) {
          O("onunpipe"), On === Tn && Gn && Gn.hasUnpiped === !1 && (Gn.hasUnpiped = !0, Sn());
        }
        function Hn() {
          O("onend"), Fe.end();
        }
        let Wn, An = !1;
        function Sn() {
          O("cleanup"), Fe.removeListener("close", kn), Fe.removeListener("finish", $n), Wn && Fe.removeListener("drain", Wn), Fe.removeListener("error", Pn), Fe.removeListener("unpipe", Vn), Tn.removeListener("end", Hn), Tn.removeListener("end", Dn), Tn.removeListener("data", Mn), An = !0, Wn && En.awaitDrainWriters && (!Fe._writableState || Fe._writableState.needDrain) && Wn();
        }
        function Rn() {
          An || (En.pipes.length === 1 && En.pipes[0] === Fe ? (O("false write response, pause", 0), En.awaitDrainWriters = Fe, En.multiAwaitDrain = !1) : En.pipes.length > 1 && En.pipes.includes(Fe) && (O("false write response, pause", En.awaitDrainWriters.size), En.awaitDrainWriters.add(Fe)), Tn.pause()), Wn || (Wn = jt(Tn, Fe), Fe.on("drain", Wn));
        }
        Tn.on("data", Mn);
        function Mn(On) {
          O("ondata");
          const Gn = Fe.write(On);
          O("dest.write", Gn), Gn === !1 && Rn();
        }
        function Pn(On) {
          if (O("onerror", On), Dn(), Fe.removeListener("error", Pn), Fe.listenerCount("error") === 0) {
            const Gn = Fe._writableState || Fe._readableState;
            Gn && !Gn.errorEmitted ? In(Fe, On) : Fe.emit("error", On);
          }
        }
        x(Fe, "error", Pn);
        function kn() {
          Fe.removeListener("finish", $n), Dn();
        }
        Fe.once("close", kn);
        function $n() {
          O("onfinish"), Fe.removeListener("close", kn), Dn();
        }
        Fe.once("finish", $n);
        function Dn() {
          O("unpipe"), Tn.unpipe(Fe);
        }
        return Fe.emit("pipe", Tn), Fe.writableNeedDrain === !0 ? En.flowing && Rn() : En.flowing || (O("pipe resume"), Tn.resume()), Fe;
      };
      function jt(Fe, qe) {
        return function() {
          const En = Fe._readableState;
          En.awaitDrainWriters === qe ? (O("pipeOnDrain", 1), En.awaitDrainWriters = null) : En.multiAwaitDrain && (O("pipeOnDrain", En.awaitDrainWriters.size), En.awaitDrainWriters.delete(qe)), (!En.awaitDrainWriters || En.awaitDrainWriters.size === 0) && Fe.listenerCount("data") && Fe.resume();
        };
      }
      he.prototype.unpipe = function(Fe) {
        const qe = this._readableState, Tn = {
          hasUnpiped: !1
        };
        if (qe.pipes.length === 0)
          return this;
        if (!Fe) {
          const Ln = qe.pipes;
          qe.pipes = [], this.pause();
          for (let Nn = 0; Nn < Ln.length; Nn++)
            Ln[Nn].emit("unpipe", this, {
              hasUnpiped: !1
            });
          return this;
        }
        const En = c(qe.pipes, Fe);
        return En === -1 ? this : (qe.pipes.splice(En, 1), qe.pipes.length === 0 && this.pause(), Fe.emit("unpipe", this, Tn), this);
      }, he.prototype.on = function(Fe, qe) {
        const Tn = T.prototype.on.call(this, Fe, qe), En = this._readableState;
        return Fe === "data" ? (En.readableListening = this.listenerCount("readable") > 0, En.flowing !== !1 && this.resume()) : Fe === "readable" && !En.endEmitted && !En.readableListening && (En.readableListening = En.needReadable = !0, En.flowing = !1, En.emittedReadable = !1, O("on readable", En.length, En.reading), En.length ? Et(this) : En.reading || u.nextTick(oe, this)), Tn;
      }, he.prototype.addListener = he.prototype.on, he.prototype.removeListener = function(Fe, qe) {
        const Tn = T.prototype.removeListener.call(this, Fe, qe);
        return Fe === "readable" && u.nextTick(bn, this), Tn;
      }, he.prototype.off = he.prototype.removeListener, he.prototype.removeAllListeners = function(Fe) {
        const qe = T.prototype.removeAllListeners.apply(this, arguments);
        return (Fe === "readable" || Fe === void 0) && u.nextTick(bn, this), qe;
      };
      function bn(Fe) {
        const qe = Fe._readableState;
        qe.readableListening = Fe.listenerCount("readable") > 0, qe.resumeScheduled && qe[xe] === !1 ? qe.flowing = !0 : Fe.listenerCount("data") > 0 ? Fe.resume() : qe.readableListening || (qe.flowing = null);
      }
      function oe(Fe) {
        O("readable nexttick read 0"), Fe.read(0);
      }
      he.prototype.resume = function() {
        const Fe = this._readableState;
        return Fe.flowing || (O("resume"), Fe.flowing = !Fe.readableListening, ae(this, Fe)), Fe[xe] = !1, this;
      };
      function ae(Fe, qe) {
        qe.resumeScheduled || (qe.resumeScheduled = !0, u.nextTick(re, Fe, qe));
      }
      function re(Fe, qe) {
        O("resume", qe.reading), qe.reading || Fe.read(0), qe.resumeScheduled = !1, Fe.emit("resume"), V(Fe), qe.flowing && !qe.reading && Fe.read(0);
      }
      he.prototype.pause = function() {
        return O("call pause flowing=%j", this._readableState.flowing), this._readableState.flowing !== !1 && (O("pause"), this._readableState.flowing = !1, this.emit("pause")), this._readableState[xe] = !0, this;
      };
      function V(Fe) {
        const qe = Fe._readableState;
        for (O("flow", qe.flowing); qe.flowing && Fe.read() !== null; )
          ;
      }
      he.prototype.wrap = function(Fe) {
        let qe = !1;
        Fe.on("data", (En) => {
          !this.push(En) && Fe.pause && (qe = !0, Fe.pause());
        }), Fe.on("end", () => {
          this.push(null);
        }), Fe.on("error", (En) => {
          In(this, En);
        }), Fe.on("close", () => {
          this.destroy();
        }), Fe.on("destroy", () => {
          this.destroy();
        }), this._read = () => {
          qe && Fe.resume && (qe = !1, Fe.resume());
        };
        const Tn = v(Fe);
        for (let En = 1; En < Tn.length; En++) {
          const Ln = Tn[En];
          this[Ln] === void 0 && typeof Fe[Ln] == "function" && (this[Ln] = Fe[Ln].bind(Fe));
        }
        return this;
      }, he.prototype[A] = function() {
        return $(this);
      }, he.prototype.iterator = function(Fe) {
        return Fe !== void 0 && Ne(Fe, "options"), $(this, Fe);
      };
      function $(Fe, qe) {
        typeof Fe.read != "function" && (Fe = he.wrap(Fe, {
          objectMode: !0
        }));
        const Tn = le(Fe, qe);
        return Tn.stream = Fe, Tn;
      }
      async function* le(Fe, qe) {
        let Tn = _n;
        function En(Vn) {
          this === Fe ? (Tn(), Tn = _n) : Tn = Vn;
        }
        Fe.on("readable", En);
        let Ln;
        const Nn = M(
          Fe,
          {
            writable: !1
          },
          (Vn) => {
            Ln = Vn ? Y(Ln, Vn) : null, Tn(), Tn = _n;
          }
        );
        try {
          for (; ; ) {
            const Vn = Fe.destroyed ? null : Fe.read();
            if (Vn !== null)
              yield Vn;
            else {
              if (Ln)
                throw Ln;
              if (Ln === null)
                return;
              await new _(En);
            }
          }
        } catch (Vn) {
          throw Ln = Y(Ln, Vn), Ln;
        } finally {
          (Ln || (qe == null ? void 0 : qe.destroyOnReturn) !== !1) && (Ln === void 0 || Fe._readableState.autoDestroy) ? F.destroyer(Fe, null) : (Fe.off("readable", En), Nn());
        }
      }
      y(he.prototype, {
        readable: {
          __proto__: null,
          get() {
            const Fe = this._readableState;
            return !!Fe && Fe.readable !== !1 && !Fe.destroyed && !Fe.errorEmitted && !Fe.endEmitted;
          },
          set(Fe) {
            this._readableState && (this._readableState.readable = !!Fe);
          }
        },
        readableDidRead: {
          __proto__: null,
          enumerable: !1,
          get: function() {
            return this._readableState.dataEmitted;
          }
        },
        readableAborted: {
          __proto__: null,
          enumerable: !1,
          get: function() {
            return !!(this._readableState.readable !== !1 && (this._readableState.destroyed || this._readableState.errored) && !this._readableState.endEmitted);
          }
        },
        readableHighWaterMark: {
          __proto__: null,
          enumerable: !1,
          get: function() {
            return this._readableState.highWaterMark;
          }
        },
        readableBuffer: {
          __proto__: null,
          enumerable: !1,
          get: function() {
            return this._readableState && this._readableState.buffer;
          }
        },
        readableFlowing: {
          __proto__: null,
          enumerable: !1,
          get: function() {
            return this._readableState.flowing;
          },
          set: function(Fe) {
            this._readableState && (this._readableState.flowing = Fe);
          }
        },
        readableLength: {
          __proto__: null,
          enumerable: !1,
          get() {
            return this._readableState.length;
          }
        },
        readableObjectMode: {
          __proto__: null,
          enumerable: !1,
          get() {
            return this._readableState ? this._readableState.objectMode : !1;
          }
        },
        readableEncoding: {
          __proto__: null,
          enumerable: !1,
          get() {
            return this._readableState ? this._readableState.encoding : null;
          }
        },
        errored: {
          __proto__: null,
          enumerable: !1,
          get() {
            return this._readableState ? this._readableState.errored : null;
          }
        },
        closed: {
          __proto__: null,
          get() {
            return this._readableState ? this._readableState.closed : !1;
          }
        },
        destroyed: {
          __proto__: null,
          enumerable: !1,
          get() {
            return this._readableState ? this._readableState.destroyed : !1;
          },
          set(Fe) {
            this._readableState && (this._readableState.destroyed = Fe);
          }
        },
        readableEnded: {
          __proto__: null,
          enumerable: !1,
          get() {
            return this._readableState ? this._readableState.endEmitted : !1;
          }
        }
      }), y(Dt.prototype, {
        // Legacy getter for `pipesCount`.
        pipesCount: {
          __proto__: null,
          get() {
            return this.pipes.length;
          }
        },
        // Legacy property for `paused`.
        paused: {
          __proto__: null,
          get() {
            return this[xe] !== !1;
          },
          set(Fe) {
            this[xe] = !!Fe;
          }
        }
      }), he._fromList = Oe;
      function Oe(Fe, qe) {
        if (qe.length === 0)
          return null;
        let Tn;
        return qe.objectMode ? Tn = qe.buffer.shift() : !Fe || Fe >= qe.length ? (qe.decoder ? Tn = qe.buffer.join("") : qe.buffer.length === 1 ? Tn = qe.buffer.first() : Tn = qe.buffer.concat(qe.length), qe.buffer.clear()) : Tn = qe.buffer.consume(Fe, qe.decoder), Tn;
      }
      function Ue(Fe) {
        const qe = Fe._readableState;
        O("endReadable", qe.endEmitted), qe.endEmitted || (qe.ended = !0, u.nextTick(vn, qe, Fe));
      }
      function vn(Fe, qe) {
        if (O("endReadableNT", Fe.endEmitted, Fe.length), !Fe.errored && !Fe.closeEmitted && !Fe.endEmitted && Fe.length === 0) {
          if (Fe.endEmitted = !0, qe.emit("end"), qe.writable && qe.allowHalfOpen === !1)
            u.nextTick(wn, qe);
          else if (Fe.autoDestroy) {
            const Tn = qe._writableState;
            (!Tn || Tn.autoDestroy && // We don't expect the writable to ever 'finish'
            // if writable is explicitly set to false.
            (Tn.finished || Tn.writable === !1)) && qe.destroy();
          }
        }
      }
      function wn(Fe) {
        Fe.writable && !Fe.writableEnded && !Fe.destroyed && Fe.end();
      }
      he.from = function(Fe, qe) {
        return Pt(he, Fe, qe);
      };
      let xn;
      function Bn() {
        return xn === void 0 && (xn = {}), xn;
      }
      he.fromWeb = function(Fe, qe) {
        return Bn().newStreamReadableFromReadableStream(Fe, qe);
      }, he.toWeb = function(Fe, qe) {
        return Bn().newReadableStreamFromStreamReadable(Fe, qe);
      }, he.wrap = function(Fe, qe) {
        var Tn, En;
        return new he({
          objectMode: (Tn = (En = Fe.readableObjectMode) !== null && En !== void 0 ? En : Fe.objectMode) !== null && Tn !== void 0 ? Tn : !0,
          ...qe,
          destroy(Ln, Nn) {
            F.destroyer(Fe, Ln), Nn(Ln);
          }
        }).wrap(Fe);
      };
    }, { "../../ours/errors": 126, "../../ours/primordials": 127, "../../ours/util": 128, "../validators": 124, "./add-abort-signal": 107, "./buffer_list": 108, "./destroy": 110, "./duplex": 111, "./end-of-stream": 113, "./from": 114, "./legacy": 115, "./state": 120, buffer: 29, events: 49, "process/": 102, string_decoder: 28 }], 120: [function(r, o, a) {
      const { MathFloor: u, NumberIsInteger: c } = r("../../ours/primordials"), { ERR_INVALID_ARG_VALUE: f } = r("../../ours/errors").codes;
      function d(v, g, _) {
        return v.highWaterMark != null ? v.highWaterMark : g ? v[_] : null;
      }
      function p(v) {
        return v ? 16 : 16 * 1024;
      }
      function y(v, g, _, b) {
        const A = d(g, b, _);
        if (A != null) {
          if (!c(A) || A < 0) {
            const w = b ? `options.${_}` : "options.highWaterMark";
            throw new f(w, A);
          }
          return u(A);
        }
        return p(v.objectMode);
      }
      o.exports = {
        getHighWaterMark: y,
        getDefaultHighWaterMark: p
      };
    }, { "../../ours/errors": 126, "../../ours/primordials": 127 }], 121: [function(r, o, a) {
      const { ObjectSetPrototypeOf: u, Symbol: c } = r("../../ours/primordials");
      o.exports = v;
      const { ERR_METHOD_NOT_IMPLEMENTED: f } = r("../../ours/errors").codes, d = r("./duplex"), { getHighWaterMark: p } = r("./state");
      u(v.prototype, d.prototype), u(v, d);
      const y = c("kCallback");
      function v(b) {
        if (!(this instanceof v))
          return new v(b);
        const A = b ? p(this, b, "readableHighWaterMark", !0) : null;
        A === 0 && (b = {
          ...b,
          highWaterMark: null,
          readableHighWaterMark: A,
          // TODO (ronag): 0 is not optimal since we have
          // a "bug" where we check needDrain before calling _write and not after.
          // Refs: https://github.com/nodejs/node/pull/32887
          // Refs: https://github.com/nodejs/node/pull/35941
          writableHighWaterMark: b.writableHighWaterMark || 0
        }), d.call(this, b), this._readableState.sync = !1, this[y] = null, b && (typeof b.transform == "function" && (this._transform = b.transform), typeof b.flush == "function" && (this._flush = b.flush)), this.on("prefinish", _);
      }
      function g(b) {
        typeof this._flush == "function" && !this.destroyed ? this._flush((A, w) => {
          if (A) {
            b ? b(A) : this.destroy(A);
            return;
          }
          w != null && this.push(w), this.push(null), b && b();
        }) : (this.push(null), b && b());
      }
      function _() {
        this._final !== g && g.call(this);
      }
      v.prototype._final = g, v.prototype._transform = function(b, A, w) {
        throw new f("_transform()");
      }, v.prototype._write = function(b, A, w) {
        const S = this._readableState, T = this._writableState, x = S.length;
        this._transform(b, A, (L, k) => {
          if (L) {
            w(L);
            return;
          }
          k != null && this.push(k), T.ended || // Backwards compat.
          x === S.length || // Backwards compat.
          S.length < S.highWaterMark ? w() : this[y] = w;
        });
      }, v.prototype._read = function() {
        if (this[y]) {
          const b = this[y];
          this[y] = null, b();
        }
      };
    }, { "../../ours/errors": 126, "../../ours/primordials": 127, "./duplex": 111, "./state": 120 }], 122: [function(r, o, a) {
      const { Symbol: u, SymbolAsyncIterator: c, SymbolIterator: f, SymbolFor: d } = r("../../ours/primordials"), p = u("kDestroyed"), y = u("kIsErrored"), v = u("kIsReadable"), g = u("kIsDisturbed"), _ = d("nodejs.webstream.isClosedPromise"), b = d("nodejs.webstream.controllerErrorFunction");
      function A(he, At = !1) {
        var Lt;
        return !!(he && typeof he.pipe == "function" && typeof he.on == "function" && (!At || typeof he.pause == "function" && typeof he.resume == "function") && (!he._writableState || ((Lt = he._readableState) === null || Lt === void 0 ? void 0 : Lt.readable) !== !1) && // Duplex
        (!he._writableState || he._readableState));
      }
      function w(he) {
        var At;
        return !!(he && typeof he.write == "function" && typeof he.on == "function" && (!he._readableState || ((At = he._writableState) === null || At === void 0 ? void 0 : At.writable) !== !1));
      }
      function S(he) {
        return !!(he && typeof he.pipe == "function" && he._readableState && typeof he.on == "function" && typeof he.write == "function");
      }
      function T(he) {
        return he && (he._readableState || he._writableState || typeof he.write == "function" && typeof he.on == "function" || typeof he.pipe == "function" && typeof he.on == "function");
      }
      function x(he) {
        return !!(he && !T(he) && typeof he.pipeThrough == "function" && typeof he.getReader == "function" && typeof he.cancel == "function");
      }
      function L(he) {
        return !!(he && !T(he) && typeof he.getWriter == "function" && typeof he.abort == "function");
      }
      function k(he) {
        return !!(he && !T(he) && typeof he.readable == "object" && typeof he.writable == "object");
      }
      function M(he) {
        return x(he) || L(he) || k(he);
      }
      function O(he, At) {
        return he == null ? !1 : At === !0 ? typeof he[c] == "function" : At === !1 ? typeof he[f] == "function" : typeof he[c] == "function" || typeof he[f] == "function";
      }
      function ie(he) {
        if (!T(he))
          return null;
        const At = he._writableState, Lt = he._readableState, Cn = At || Lt;
        return !!(he.destroyed || he[p] || Cn != null && Cn.destroyed);
      }
      function F(he) {
        if (!w(he))
          return null;
        if (he.writableEnded === !0)
          return !0;
        const At = he._writableState;
        return At != null && At.errored ? !1 : typeof (At == null ? void 0 : At.ended) != "boolean" ? null : At.ended;
      }
      function j(he, At) {
        if (!w(he))
          return null;
        if (he.writableFinished === !0)
          return !0;
        const Lt = he._writableState;
        return Lt != null && Lt.errored ? !1 : typeof (Lt == null ? void 0 : Lt.finished) != "boolean" ? null : !!(Lt.finished || At === !1 && Lt.ended === !0 && Lt.length === 0);
      }
      function D(he) {
        if (!A(he))
          return null;
        if (he.readableEnded === !0)
          return !0;
        const At = he._readableState;
        return !At || At.errored ? !1 : typeof (At == null ? void 0 : At.ended) != "boolean" ? null : At.ended;
      }
      function Y(he, At) {
        if (!A(he))
          return null;
        const Lt = he._readableState;
        return Lt != null && Lt.errored ? !1 : typeof (Lt == null ? void 0 : Lt.endEmitted) != "boolean" ? null : !!(Lt.endEmitted || At === !1 && Lt.ended === !0 && Lt.length === 0);
      }
      function z(he) {
        return he && he[v] != null ? he[v] : typeof (he == null ? void 0 : he.readable) != "boolean" ? null : ie(he) ? !1 : A(he) && he.readable && !Y(he);
      }
      function Ie(he) {
        return typeof (he == null ? void 0 : he.writable) != "boolean" ? null : ie(he) ? !1 : w(he) && he.writable && !F(he);
      }
      function ue(he, At) {
        return T(he) ? ie(he) ? !0 : !((At == null ? void 0 : At.readable) !== !1 && z(he) || (At == null ? void 0 : At.writable) !== !1 && Ie(he)) : null;
      }
      function Ce(he) {
        var At, Lt;
        return T(he) ? he.writableErrored ? he.writableErrored : (At = (Lt = he._writableState) === null || Lt === void 0 ? void 0 : Lt.errored) !== null && At !== void 0 ? At : null : null;
      }
      function pe(he) {
        var At, Lt;
        return T(he) ? he.readableErrored ? he.readableErrored : (At = (Lt = he._readableState) === null || Lt === void 0 ? void 0 : Lt.errored) !== null && At !== void 0 ? At : null : null;
      }
      function Ne(he) {
        if (!T(he))
          return null;
        if (typeof he.closed == "boolean")
          return he.closed;
        const At = he._writableState, Lt = he._readableState;
        return typeof (At == null ? void 0 : At.closed) == "boolean" || typeof (Lt == null ? void 0 : Lt.closed) == "boolean" ? (At == null ? void 0 : At.closed) || (Lt == null ? void 0 : Lt.closed) : typeof he._closed == "boolean" && xe(he) ? he._closed : null;
      }
      function xe(he) {
        return typeof he._closed == "boolean" && typeof he._defaultKeepAlive == "boolean" && typeof he._removedConnection == "boolean" && typeof he._removedContLen == "boolean";
      }
      function hn(he) {
        return typeof he._sent100 == "boolean" && xe(he);
      }
      function Pt(he) {
        var At;
        return typeof he._consuming == "boolean" && typeof he._dumped == "boolean" && ((At = he.req) === null || At === void 0 ? void 0 : At.upgradeOrConnect) === void 0;
      }
      function _n(he) {
        if (!T(he))
          return null;
        const At = he._writableState, Lt = he._readableState, Cn = At || Lt;
        return !Cn && hn(he) || !!(Cn && Cn.autoDestroy && Cn.emitClose && Cn.closed === !1);
      }
      function In(he) {
        var At;
        return !!(he && ((At = he[g]) !== null && At !== void 0 ? At : he.readableDidRead || he.readableAborted));
      }
      function Dt(he) {
        var At, Lt, Cn, ze, _e, de, Et, Ve, $e, kt;
        return !!(he && ((At = (Lt = (Cn = (ze = (_e = (de = he[y]) !== null && de !== void 0 ? de : he.readableErrored) !== null && _e !== void 0 ? _e : he.writableErrored) !== null && ze !== void 0 ? ze : (Et = he._readableState) === null || Et === void 0 ? void 0 : Et.errorEmitted) !== null && Cn !== void 0 ? Cn : (Ve = he._writableState) === null || Ve === void 0 ? void 0 : Ve.errorEmitted) !== null && Lt !== void 0 ? Lt : ($e = he._readableState) === null || $e === void 0 ? void 0 : $e.errored) !== null && At !== void 0 ? At : !((kt = he._writableState) === null || kt === void 0) && kt.errored));
      }
      o.exports = {
        kDestroyed: p,
        isDisturbed: In,
        kIsDisturbed: g,
        isErrored: Dt,
        kIsErrored: y,
        isReadable: z,
        kIsReadable: v,
        kIsClosedPromise: _,
        kControllerErrorFunction: b,
        isClosed: Ne,
        isDestroyed: ie,
        isDuplexNodeStream: S,
        isFinished: ue,
        isIterable: O,
        isReadableNodeStream: A,
        isReadableStream: x,
        isReadableEnded: D,
        isReadableFinished: Y,
        isReadableErrored: pe,
        isNodeStream: T,
        isWebStream: M,
        isWritable: Ie,
        isWritableNodeStream: w,
        isWritableStream: L,
        isWritableEnded: F,
        isWritableFinished: j,
        isWritableErrored: Ce,
        isServerRequest: Pt,
        isServerResponse: hn,
        willEmitClose: _n,
        isTransformStream: k
      };
    }, { "../../ours/primordials": 127 }], 123: [function(r, o, a) {
      const u = r("process/"), {
        ArrayPrototypeSlice: c,
        Error: f,
        FunctionPrototypeSymbolHasInstance: d,
        ObjectDefineProperty: p,
        ObjectDefineProperties: y,
        ObjectSetPrototypeOf: v,
        StringPrototypeToLowerCase: g,
        Symbol: _,
        SymbolHasInstance: b
      } = r("../../ours/primordials");
      o.exports = hn, hn.WritableState = Ne;
      const { EventEmitter: A } = r("events"), w = r("./legacy").Stream, { Buffer: S } = r("buffer"), T = r("./destroy"), { addAbortSignal: x } = r("./add-abort-signal"), { getHighWaterMark: L, getDefaultHighWaterMark: k } = r("./state"), {
        ERR_INVALID_ARG_TYPE: M,
        ERR_METHOD_NOT_IMPLEMENTED: O,
        ERR_MULTIPLE_CALLBACK: ie,
        ERR_STREAM_CANNOT_PIPE: F,
        ERR_STREAM_DESTROYED: j,
        ERR_STREAM_ALREADY_FINISHED: D,
        ERR_STREAM_NULL_VALUES: Y,
        ERR_STREAM_WRITE_AFTER_END: z,
        ERR_UNKNOWN_ENCODING: Ie
      } = r("../../ours/errors").codes, { errorOrDestroy: ue } = T;
      v(hn.prototype, w.prototype), v(hn, w);
      function Ce() {
      }
      const pe = _("kOnFinished");
      function Ne(oe, ae, re) {
        typeof re != "boolean" && (re = ae instanceof r("./duplex")), this.objectMode = !!(oe && oe.objectMode), re && (this.objectMode = this.objectMode || !!(oe && oe.writableObjectMode)), this.highWaterMark = oe ? L(this, oe, "writableHighWaterMark", re) : k(!1), this.finalCalled = !1, this.needDrain = !1, this.ending = !1, this.ended = !1, this.finished = !1, this.destroyed = !1;
        const V = !!(oe && oe.decodeStrings === !1);
        this.decodeStrings = !V, this.defaultEncoding = oe && oe.defaultEncoding || "utf8", this.length = 0, this.writing = !1, this.corked = 0, this.sync = !0, this.bufferProcessing = !1, this.onwrite = he.bind(void 0, ae), this.writecb = null, this.writelen = 0, this.afterWriteTickInfo = null, xe(this), this.pendingcb = 0, this.constructed = !0, this.prefinished = !1, this.errorEmitted = !1, this.emitClose = !oe || oe.emitClose !== !1, this.autoDestroy = !oe || oe.autoDestroy !== !1, this.errored = null, this.closed = !1, this.closeEmitted = !1, this[pe] = [];
      }
      function xe(oe) {
        oe.buffered = [], oe.bufferedIndex = 0, oe.allBuffers = !0, oe.allNoop = !0;
      }
      Ne.prototype.getBuffer = function() {
        return c(this.buffered, this.bufferedIndex);
      }, p(Ne.prototype, "bufferedRequestCount", {
        __proto__: null,
        get() {
          return this.buffered.length - this.bufferedIndex;
        }
      });
      function hn(oe) {
        const ae = this instanceof r("./duplex");
        if (!ae && !d(hn, this))
          return new hn(oe);
        this._writableState = new Ne(oe, this, ae), oe && (typeof oe.write == "function" && (this._write = oe.write), typeof oe.writev == "function" && (this._writev = oe.writev), typeof oe.destroy == "function" && (this._destroy = oe.destroy), typeof oe.final == "function" && (this._final = oe.final), typeof oe.construct == "function" && (this._construct = oe.construct), oe.signal && x(oe.signal, this)), w.call(this, oe), T.construct(this, () => {
          const re = this._writableState;
          re.writing || ze(this, re), Ve(this, re);
        });
      }
      p(hn, b, {
        __proto__: null,
        value: function(oe) {
          return d(this, oe) ? !0 : this !== hn ? !1 : oe && oe._writableState instanceof Ne;
        }
      }), hn.prototype.pipe = function() {
        ue(this, new F());
      };
      function Pt(oe, ae, re, V) {
        const $ = oe._writableState;
        if (typeof re == "function")
          V = re, re = $.defaultEncoding;
        else {
          if (!re)
            re = $.defaultEncoding;
          else if (re !== "buffer" && !S.isEncoding(re))
            throw new Ie(re);
          typeof V != "function" && (V = Ce);
        }
        if (ae === null)
          throw new Y();
        if (!$.objectMode)
          if (typeof ae == "string")
            $.decodeStrings !== !1 && (ae = S.from(ae, re), re = "buffer");
          else if (ae instanceof S)
            re = "buffer";
          else if (w._isUint8Array(ae))
            ae = w._uint8ArrayToBuffer(ae), re = "buffer";
          else
            throw new M("chunk", ["string", "Buffer", "Uint8Array"], ae);
        let le;
        return $.ending ? le = new z() : $.destroyed && (le = new j("write")), le ? (u.nextTick(V, le), ue(oe, le, !0), le) : ($.pendingcb++, _n(oe, $, ae, re, V));
      }
      hn.prototype.write = function(oe, ae, re) {
        return Pt(this, oe, ae, re) === !0;
      }, hn.prototype.cork = function() {
        this._writableState.corked++;
      }, hn.prototype.uncork = function() {
        const oe = this._writableState;
        oe.corked && (oe.corked--, oe.writing || ze(this, oe));
      }, hn.prototype.setDefaultEncoding = function(ae) {
        if (typeof ae == "string" && (ae = g(ae)), !S.isEncoding(ae))
          throw new Ie(ae);
        return this._writableState.defaultEncoding = ae, this;
      };
      function _n(oe, ae, re, V, $) {
        const le = ae.objectMode ? 1 : re.length;
        ae.length += le;
        const Oe = ae.length < ae.highWaterMark;
        return Oe || (ae.needDrain = !0), ae.writing || ae.corked || ae.errored || !ae.constructed ? (ae.buffered.push({
          chunk: re,
          encoding: V,
          callback: $
        }), ae.allBuffers && V !== "buffer" && (ae.allBuffers = !1), ae.allNoop && $ !== Ce && (ae.allNoop = !1)) : (ae.writelen = le, ae.writecb = $, ae.writing = !0, ae.sync = !0, oe._write(re, V, ae.onwrite), ae.sync = !1), Oe && !ae.errored && !ae.destroyed;
      }
      function In(oe, ae, re, V, $, le, Oe) {
        ae.writelen = V, ae.writecb = Oe, ae.writing = !0, ae.sync = !0, ae.destroyed ? ae.onwrite(new j("write")) : re ? oe._writev($, ae.onwrite) : oe._write($, le, ae.onwrite), ae.sync = !1;
      }
      function Dt(oe, ae, re, V) {
        --ae.pendingcb, V(re), Cn(ae), ue(oe, re);
      }
      function he(oe, ae) {
        const re = oe._writableState, V = re.sync, $ = re.writecb;
        if (typeof $ != "function") {
          ue(oe, new ie());
          return;
        }
        re.writing = !1, re.writecb = null, re.length -= re.writelen, re.writelen = 0, ae ? (ae.stack, re.errored || (re.errored = ae), oe._readableState && !oe._readableState.errored && (oe._readableState.errored = ae), V ? u.nextTick(Dt, oe, re, ae, $) : Dt(oe, re, ae, $)) : (re.buffered.length > re.bufferedIndex && ze(oe, re), V ? re.afterWriteTickInfo !== null && re.afterWriteTickInfo.cb === $ ? re.afterWriteTickInfo.count++ : (re.afterWriteTickInfo = {
          count: 1,
          cb: $,
          stream: oe,
          state: re
        }, u.nextTick(At, re.afterWriteTickInfo)) : Lt(oe, re, 1, $));
      }
      function At({ stream: oe, state: ae, count: re, cb: V }) {
        return ae.afterWriteTickInfo = null, Lt(oe, ae, re, V);
      }
      function Lt(oe, ae, re, V) {
        for (!ae.ending && !oe.destroyed && ae.length === 0 && ae.needDrain && (ae.needDrain = !1, oe.emit("drain")); re-- > 0; )
          ae.pendingcb--, V();
        ae.destroyed && Cn(ae), Ve(oe, ae);
      }
      function Cn(oe) {
        if (oe.writing)
          return;
        for (let $ = oe.bufferedIndex; $ < oe.buffered.length; ++$) {
          var ae;
          const { chunk: le, callback: Oe } = oe.buffered[$], Ue = oe.objectMode ? 1 : le.length;
          oe.length -= Ue, Oe(
            (ae = oe.errored) !== null && ae !== void 0 ? ae : new j("write")
          );
        }
        const re = oe[pe].splice(0);
        for (let $ = 0; $ < re.length; $++) {
          var V;
          re[$](
            (V = oe.errored) !== null && V !== void 0 ? V : new j("end")
          );
        }
        xe(oe);
      }
      function ze(oe, ae) {
        if (ae.corked || ae.bufferProcessing || ae.destroyed || !ae.constructed)
          return;
        const { buffered: re, bufferedIndex: V, objectMode: $ } = ae, le = re.length - V;
        if (!le)
          return;
        let Oe = V;
        if (ae.bufferProcessing = !0, le > 1 && oe._writev) {
          ae.pendingcb -= le - 1;
          const Ue = ae.allNoop ? Ce : (wn) => {
            for (let xn = Oe; xn < re.length; ++xn)
              re[xn].callback(wn);
          }, vn = ae.allNoop && Oe === 0 ? re : c(re, Oe);
          vn.allBuffers = ae.allBuffers, In(oe, ae, !0, ae.length, vn, "", Ue), xe(ae);
        } else {
          do {
            const { chunk: Ue, encoding: vn, callback: wn } = re[Oe];
            re[Oe++] = null;
            const xn = $ ? 1 : Ue.length;
            In(oe, ae, !1, xn, Ue, vn, wn);
          } while (Oe < re.length && !ae.writing);
          Oe === re.length ? xe(ae) : Oe > 256 ? (re.splice(0, Oe), ae.bufferedIndex = 0) : ae.bufferedIndex = Oe;
        }
        ae.bufferProcessing = !1;
      }
      hn.prototype._write = function(oe, ae, re) {
        if (this._writev)
          this._writev(
            [
              {
                chunk: oe,
                encoding: ae
              }
            ],
            re
          );
        else
          throw new O("_write()");
      }, hn.prototype._writev = null, hn.prototype.end = function(oe, ae, re) {
        const V = this._writableState;
        typeof oe == "function" ? (re = oe, oe = null, ae = null) : typeof ae == "function" && (re = ae, ae = null);
        let $;
        if (oe != null) {
          const le = Pt(this, oe, ae);
          le instanceof f && ($ = le);
        }
        return V.corked && (V.corked = 1, this.uncork()), $ || (!V.errored && !V.ending ? (V.ending = !0, Ve(this, V, !0), V.ended = !0) : V.finished ? $ = new D("end") : V.destroyed && ($ = new j("end"))), typeof re == "function" && ($ || V.finished ? u.nextTick(re, $) : V[pe].push(re)), this;
      };
      function _e(oe) {
        return oe.ending && !oe.destroyed && oe.constructed && oe.length === 0 && !oe.errored && oe.buffered.length === 0 && !oe.finished && !oe.writing && !oe.errorEmitted && !oe.closeEmitted;
      }
      function de(oe, ae) {
        let re = !1;
        function V($) {
          if (re) {
            ue(oe, $ ?? ie());
            return;
          }
          if (re = !0, ae.pendingcb--, $) {
            const le = ae[pe].splice(0);
            for (let Oe = 0; Oe < le.length; Oe++)
              le[Oe]($);
            ue(oe, $, ae.sync);
          } else
            _e(ae) && (ae.prefinished = !0, oe.emit("prefinish"), ae.pendingcb++, u.nextTick($e, oe, ae));
        }
        ae.sync = !0, ae.pendingcb++;
        try {
          oe._final(V);
        } catch ($) {
          V($);
        }
        ae.sync = !1;
      }
      function Et(oe, ae) {
        !ae.prefinished && !ae.finalCalled && (typeof oe._final == "function" && !ae.destroyed ? (ae.finalCalled = !0, de(oe, ae)) : (ae.prefinished = !0, oe.emit("prefinish")));
      }
      function Ve(oe, ae, re) {
        _e(ae) && (Et(oe, ae), ae.pendingcb === 0 && (re ? (ae.pendingcb++, u.nextTick(
          (V, $) => {
            _e($) ? $e(V, $) : $.pendingcb--;
          },
          oe,
          ae
        )) : _e(ae) && (ae.pendingcb++, $e(oe, ae))));
      }
      function $e(oe, ae) {
        ae.pendingcb--, ae.finished = !0;
        const re = ae[pe].splice(0);
        for (let V = 0; V < re.length; V++)
          re[V]();
        if (oe.emit("finish"), ae.autoDestroy) {
          const V = oe._readableState;
          (!V || V.autoDestroy && // We don't expect the readable to ever 'end'
          // if readable is explicitly set to false.
          (V.endEmitted || V.readable === !1)) && oe.destroy();
        }
      }
      y(hn.prototype, {
        closed: {
          __proto__: null,
          get() {
            return this._writableState ? this._writableState.closed : !1;
          }
        },
        destroyed: {
          __proto__: null,
          get() {
            return this._writableState ? this._writableState.destroyed : !1;
          },
          set(oe) {
            this._writableState && (this._writableState.destroyed = oe);
          }
        },
        writable: {
          __proto__: null,
          get() {
            const oe = this._writableState;
            return !!oe && oe.writable !== !1 && !oe.destroyed && !oe.errored && !oe.ending && !oe.ended;
          },
          set(oe) {
            this._writableState && (this._writableState.writable = !!oe);
          }
        },
        writableFinished: {
          __proto__: null,
          get() {
            return this._writableState ? this._writableState.finished : !1;
          }
        },
        writableObjectMode: {
          __proto__: null,
          get() {
            return this._writableState ? this._writableState.objectMode : !1;
          }
        },
        writableBuffer: {
          __proto__: null,
          get() {
            return this._writableState && this._writableState.getBuffer();
          }
        },
        writableEnded: {
          __proto__: null,
          get() {
            return this._writableState ? this._writableState.ending : !1;
          }
        },
        writableNeedDrain: {
          __proto__: null,
          get() {
            const oe = this._writableState;
            return oe ? !oe.destroyed && !oe.ending && oe.needDrain : !1;
          }
        },
        writableHighWaterMark: {
          __proto__: null,
          get() {
            return this._writableState && this._writableState.highWaterMark;
          }
        },
        writableCorked: {
          __proto__: null,
          get() {
            return this._writableState ? this._writableState.corked : 0;
          }
        },
        writableLength: {
          __proto__: null,
          get() {
            return this._writableState && this._writableState.length;
          }
        },
        errored: {
          __proto__: null,
          enumerable: !1,
          get() {
            return this._writableState ? this._writableState.errored : null;
          }
        },
        writableAborted: {
          __proto__: null,
          enumerable: !1,
          get: function() {
            return !!(this._writableState.writable !== !1 && (this._writableState.destroyed || this._writableState.errored) && !this._writableState.finished);
          }
        }
      });
      const kt = T.destroy;
      hn.prototype.destroy = function(oe, ae) {
        const re = this._writableState;
        return !re.destroyed && (re.bufferedIndex < re.buffered.length || re[pe].length) && u.nextTick(Cn, re), kt.call(this, oe, ae), this;
      }, hn.prototype._undestroy = T.undestroy, hn.prototype._destroy = function(oe, ae) {
        ae(oe);
      }, hn.prototype[A.captureRejectionSymbol] = function(oe) {
        this.destroy(oe);
      };
      let jt;
      function bn() {
        return jt === void 0 && (jt = {}), jt;
      }
      hn.fromWeb = function(oe, ae) {
        return bn().newStreamWritableFromWritableStream(oe, ae);
      }, hn.toWeb = function(oe) {
        return bn().newWritableStreamFromStreamWritable(oe);
      };
    }, { "../../ours/errors": 126, "../../ours/primordials": 127, "./add-abort-signal": 107, "./destroy": 110, "./duplex": 111, "./legacy": 115, "./state": 120, buffer: 29, events: 49, "process/": 102 }], 124: [function(r, o, a) {
      const {
        ArrayIsArray: u,
        ArrayPrototypeIncludes: c,
        ArrayPrototypeJoin: f,
        ArrayPrototypeMap: d,
        NumberIsInteger: p,
        NumberIsNaN: y,
        NumberMAX_SAFE_INTEGER: v,
        NumberMIN_SAFE_INTEGER: g,
        NumberParseInt: _,
        ObjectPrototypeHasOwnProperty: b,
        RegExpPrototypeExec: A,
        String: w,
        StringPrototypeToUpperCase: S,
        StringPrototypeTrim: T
      } = r("../ours/primordials"), {
        hideStackFrames: x,
        codes: { ERR_SOCKET_BAD_PORT: L, ERR_INVALID_ARG_TYPE: k, ERR_INVALID_ARG_VALUE: M, ERR_OUT_OF_RANGE: O, ERR_UNKNOWN_SIGNAL: ie }
      } = r("../ours/errors"), { normalizeEncoding: F } = r("../ours/util"), { isAsyncFunction: j, isArrayBufferView: D } = r("../ours/util").types, Y = {};
      function z(le) {
        return le === (le | 0);
      }
      function Ie(le) {
        return le === le >>> 0;
      }
      const ue = /^[0-7]+$/, Ce = "must be a 32-bit unsigned integer or an octal string";
      function pe(le, Oe, Ue) {
        if (typeof le > "u" && (le = Ue), typeof le == "string") {
          if (A(ue, le) === null)
            throw new M(Oe, le, Ce);
          le = _(le, 8);
        }
        return hn(le, Oe), le;
      }
      const Ne = x((le, Oe, Ue = g, vn = v) => {
        if (typeof le != "number")
          throw new k(Oe, "number", le);
        if (!p(le))
          throw new O(Oe, "an integer", le);
        if (le < Ue || le > vn)
          throw new O(Oe, `>= ${Ue} && <= ${vn}`, le);
      }), xe = x((le, Oe, Ue = -2147483648, vn = 2147483647) => {
        if (typeof le != "number")
          throw new k(Oe, "number", le);
        if (!p(le))
          throw new O(Oe, "an integer", le);
        if (le < Ue || le > vn)
          throw new O(Oe, `>= ${Ue} && <= ${vn}`, le);
      }), hn = x((le, Oe, Ue = !1) => {
        if (typeof le != "number")
          throw new k(Oe, "number", le);
        if (!p(le))
          throw new O(Oe, "an integer", le);
        const vn = Ue ? 1 : 0, wn = 4294967295;
        if (le < vn || le > wn)
          throw new O(Oe, `>= ${vn} && <= ${wn}`, le);
      });
      function Pt(le, Oe) {
        if (typeof le != "string")
          throw new k(Oe, "string", le);
      }
      function _n(le, Oe, Ue = void 0, vn) {
        if (typeof le != "number")
          throw new k(Oe, "number", le);
        if (Ue != null && le < Ue || vn != null && le > vn || (Ue != null || vn != null) && y(le))
          throw new O(
            Oe,
            `${Ue != null ? `>= ${Ue}` : ""}${Ue != null && vn != null ? " && " : ""}${vn != null ? `<= ${vn}` : ""}`,
            le
          );
      }
      const In = x((le, Oe, Ue) => {
        if (!c(Ue, le)) {
          const wn = "must be one of: " + f(
            d(Ue, (xn) => typeof xn == "string" ? `'${xn}'` : w(xn)),
            ", "
          );
          throw new M(Oe, le, wn);
        }
      });
      function Dt(le, Oe) {
        if (typeof le != "boolean")
          throw new k(Oe, "boolean", le);
      }
      function he(le, Oe, Ue) {
        return le == null || !b(le, Oe) ? Ue : le[Oe];
      }
      const At = x((le, Oe, Ue = null) => {
        const vn = he(Ue, "allowArray", !1), wn = he(Ue, "allowFunction", !1);
        if (!he(Ue, "nullable", !1) && le === null || !vn && u(le) || typeof le != "object" && (!wn || typeof le != "function"))
          throw new k(Oe, "Object", le);
      }), Lt = x((le, Oe) => {
        if (le != null && typeof le != "object" && typeof le != "function")
          throw new k(Oe, "a dictionary", le);
      }), Cn = x((le, Oe, Ue = 0) => {
        if (!u(le))
          throw new k(Oe, "Array", le);
        if (le.length < Ue) {
          const vn = `must be longer than ${Ue}`;
          throw new M(Oe, le, vn);
        }
      });
      function ze(le, Oe) {
        Cn(le, Oe);
        for (let Ue = 0; Ue < le.length; Ue++)
          Pt(le[Ue], `${Oe}[${Ue}]`);
      }
      function _e(le, Oe) {
        Cn(le, Oe);
        for (let Ue = 0; Ue < le.length; Ue++)
          Dt(le[Ue], `${Oe}[${Ue}]`);
      }
      function de(le, Oe = "signal") {
        if (Pt(le, Oe), Y[le] === void 0)
          throw Y[S(le)] !== void 0 ? new ie(le + " (signals must use all capital letters)") : new ie(le);
      }
      const Et = x((le, Oe = "buffer") => {
        if (!D(le))
          throw new k(Oe, ["Buffer", "TypedArray", "DataView"], le);
      });
      function Ve(le, Oe) {
        const Ue = F(Oe), vn = le.length;
        if (Ue === "hex" && vn % 2 !== 0)
          throw new M("encoding", Oe, `is invalid for data of length ${vn}`);
      }
      function $e(le, Oe = "Port", Ue = !0) {
        if (typeof le != "number" && typeof le != "string" || typeof le == "string" && T(le).length === 0 || +le !== +le >>> 0 || le > 65535 || le === 0 && !Ue)
          throw new L(Oe, le, Ue);
        return le | 0;
      }
      const kt = x((le, Oe) => {
        if (le !== void 0 && (le === null || typeof le != "object" || !("aborted" in le)))
          throw new k(Oe, "AbortSignal", le);
      }), jt = x((le, Oe) => {
        if (typeof le != "function")
          throw new k(Oe, "Function", le);
      }), bn = x((le, Oe) => {
        if (typeof le != "function" || j(le))
          throw new k(Oe, "Function", le);
      }), oe = x((le, Oe) => {
        if (le !== void 0)
          throw new k(Oe, "undefined", le);
      });
      function ae(le, Oe, Ue) {
        if (!c(Ue, le))
          throw new k(Oe, `('${f(Ue, "|")}')`, le);
      }
      const re = /^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;
      function V(le, Oe) {
        if (typeof le > "u" || !A(re, le))
          throw new M(
            Oe,
            le,
            'must be an array or string of format "</styles.css>; rel=preload; as=style"'
          );
      }
      function $(le) {
        if (typeof le == "string")
          return V(le, "hints"), le;
        if (u(le)) {
          const Oe = le.length;
          let Ue = "";
          if (Oe === 0)
            return Ue;
          for (let vn = 0; vn < Oe; vn++) {
            const wn = le[vn];
            V(wn, "hints"), Ue += wn, vn !== Oe - 1 && (Ue += ", ");
          }
          return Ue;
        }
        throw new M(
          "hints",
          le,
          'must be an array or string of format "</styles.css>; rel=preload; as=style"'
        );
      }
      o.exports = {
        isInt32: z,
        isUint32: Ie,
        parseFileMode: pe,
        validateArray: Cn,
        validateStringArray: ze,
        validateBooleanArray: _e,
        validateBoolean: Dt,
        validateBuffer: Et,
        validateDictionary: Lt,
        validateEncoding: Ve,
        validateFunction: jt,
        validateInt32: xe,
        validateInteger: Ne,
        validateNumber: _n,
        validateObject: At,
        validateOneOf: In,
        validatePlainFunction: bn,
        validatePort: $e,
        validateSignalName: de,
        validateString: Pt,
        validateUint32: hn,
        validateUndefined: oe,
        validateUnion: ae,
        validateAbortSignal: kt,
        validateLinkHeaderValue: $
      };
    }, { "../ours/errors": 126, "../ours/primordials": 127, "../ours/util": 128 }], 125: [function(r, o, a) {
      const u = r("../stream"), c = r("../stream/promises"), f = u.Readable.destroy;
      o.exports = u.Readable, o.exports._uint8ArrayToBuffer = u._uint8ArrayToBuffer, o.exports._isUint8Array = u._isUint8Array, o.exports.isDisturbed = u.isDisturbed, o.exports.isErrored = u.isErrored, o.exports.isReadable = u.isReadable, o.exports.Readable = u.Readable, o.exports.Writable = u.Writable, o.exports.Duplex = u.Duplex, o.exports.Transform = u.Transform, o.exports.PassThrough = u.PassThrough, o.exports.addAbortSignal = u.addAbortSignal, o.exports.finished = u.finished, o.exports.destroy = u.destroy, o.exports.destroy = f, o.exports.pipeline = u.pipeline, o.exports.compose = u.compose, Object.defineProperty(u, "promises", {
        configurable: !0,
        enumerable: !0,
        get() {
          return c;
        }
      }), o.exports.Stream = u.Stream, o.exports.default = o.exports;
    }, { "../stream": 129, "../stream/promises": 130 }], 126: [function(r, o, a) {
      const { format: u, inspect: c, AggregateError: f } = r("./util"), d = globalThis.AggregateError || f, p = Symbol("kIsNodeError"), y = [
        "string",
        "function",
        "number",
        "object",
        // Accept 'Function' and 'Object' as alternative to the lower cased version.
        "Function",
        "Object",
        "boolean",
        "bigint",
        "symbol"
      ], v = /^([A-Z][a-z0-9]*)+$/, g = "__node_internal_", _ = {};
      function b(k, M) {
        if (!k)
          throw new _.ERR_INTERNAL_ASSERTION(M);
      }
      function A(k) {
        let M = "", O = k.length;
        const ie = k[0] === "-" ? 1 : 0;
        for (; O >= ie + 4; O -= 3)
          M = `_${k.slice(O - 3, O)}${M}`;
        return `${k.slice(0, O)}${M}`;
      }
      function w(k, M, O) {
        if (typeof M == "function")
          return b(
            M.length <= O.length,
            // Default options do not count.
            `Code: ${k}; The provided arguments length (${O.length}) does not match the required ones (${M.length}).`
          ), M(...O);
        const ie = (M.match(/%[dfijoOs]/g) || []).length;
        return b(
          ie === O.length,
          `Code: ${k}; The provided arguments length (${O.length}) does not match the required ones (${ie}).`
        ), O.length === 0 ? M : u(M, ...O);
      }
      function S(k, M, O) {
        O || (O = Error);
        class ie extends O {
          constructor(...j) {
            super(w(k, M, j));
          }
          toString() {
            return `${this.name} [${k}]: ${this.message}`;
          }
        }
        Object.defineProperties(ie.prototype, {
          name: {
            value: O.name,
            writable: !0,
            enumerable: !1,
            configurable: !0
          },
          toString: {
            value() {
              return `${this.name} [${k}]: ${this.message}`;
            },
            writable: !0,
            enumerable: !1,
            configurable: !0
          }
        }), ie.prototype.code = k, ie.prototype[p] = !0, _[k] = ie;
      }
      function T(k) {
        const M = g + k.name;
        return Object.defineProperty(k, "name", {
          value: M
        }), k;
      }
      function x(k, M) {
        if (k && M && k !== M) {
          if (Array.isArray(M.errors))
            return M.errors.push(k), M;
          const O = new d([M, k], M.message);
          return O.code = M.code, O;
        }
        return k || M;
      }
      class L extends Error {
        constructor(M = "The operation was aborted", O = void 0) {
          if (O !== void 0 && typeof O != "object")
            throw new _.ERR_INVALID_ARG_TYPE("options", "Object", O);
          super(M, O), this.code = "ABORT_ERR", this.name = "AbortError";
        }
      }
      S("ERR_ASSERTION", "%s", Error), S(
        "ERR_INVALID_ARG_TYPE",
        (k, M, O) => {
          b(typeof k == "string", "'name' must be a string"), Array.isArray(M) || (M = [M]);
          let ie = "The ";
          k.endsWith(" argument") ? ie += `${k} ` : ie += `"${k}" ${k.includes(".") ? "property" : "argument"} `, ie += "must be ";
          const F = [], j = [], D = [];
          for (const z of M)
            b(typeof z == "string", "All expected entries have to be of type string"), y.includes(z) ? F.push(z.toLowerCase()) : v.test(z) ? j.push(z) : (b(z !== "object", 'The value "object" should be written as "Object"'), D.push(z));
          if (j.length > 0) {
            const z = F.indexOf("object");
            z !== -1 && (F.splice(F, z, 1), j.push("Object"));
          }
          if (F.length > 0) {
            switch (F.length) {
              case 1:
                ie += `of type ${F[0]}`;
                break;
              case 2:
                ie += `one of type ${F[0]} or ${F[1]}`;
                break;
              default: {
                const z = F.pop();
                ie += `one of type ${F.join(", ")}, or ${z}`;
              }
            }
            (j.length > 0 || D.length > 0) && (ie += " or ");
          }
          if (j.length > 0) {
            switch (j.length) {
              case 1:
                ie += `an instance of ${j[0]}`;
                break;
              case 2:
                ie += `an instance of ${j[0]} or ${j[1]}`;
                break;
              default: {
                const z = j.pop();
                ie += `an instance of ${j.join(", ")}, or ${z}`;
              }
            }
            D.length > 0 && (ie += " or ");
          }
          switch (D.length) {
            case 0:
              break;
            case 1:
              D[0].toLowerCase() !== D[0] && (ie += "an "), ie += `${D[0]}`;
              break;
            case 2:
              ie += `one of ${D[0]} or ${D[1]}`;
              break;
            default: {
              const z = D.pop();
              ie += `one of ${D.join(", ")}, or ${z}`;
            }
          }
          if (O == null)
            ie += `. Received ${O}`;
          else if (typeof O == "function" && O.name)
            ie += `. Received function ${O.name}`;
          else if (typeof O == "object") {
            var Y;
            if ((Y = O.constructor) !== null && Y !== void 0 && Y.name)
              ie += `. Received an instance of ${O.constructor.name}`;
            else {
              const z = c(O, {
                depth: -1
              });
              ie += `. Received ${z}`;
            }
          } else {
            let z = c(O, {
              colors: !1
            });
            z.length > 25 && (z = `${z.slice(0, 25)}...`), ie += `. Received type ${typeof O} (${z})`;
          }
          return ie;
        },
        TypeError
      ), S(
        "ERR_INVALID_ARG_VALUE",
        (k, M, O = "is invalid") => {
          let ie = c(M);
          return ie.length > 128 && (ie = ie.slice(0, 128) + "..."), `The ${k.includes(".") ? "property" : "argument"} '${k}' ${O}. Received ${ie}`;
        },
        TypeError
      ), S(
        "ERR_INVALID_RETURN_VALUE",
        (k, M, O) => {
          var ie;
          const F = O != null && (ie = O.constructor) !== null && ie !== void 0 && ie.name ? `instance of ${O.constructor.name}` : `type ${typeof O}`;
          return `Expected ${k} to be returned from the "${M}" function but got ${F}.`;
        },
        TypeError
      ), S(
        "ERR_MISSING_ARGS",
        (...k) => {
          b(k.length > 0, "At least one arg needs to be specified");
          let M;
          const O = k.length;
          switch (k = (Array.isArray(k) ? k : [k]).map((ie) => `"${ie}"`).join(" or "), O) {
            case 1:
              M += `The ${k[0]} argument`;
              break;
            case 2:
              M += `The ${k[0]} and ${k[1]} arguments`;
              break;
            default:
              {
                const ie = k.pop();
                M += `The ${k.join(", ")}, and ${ie} arguments`;
              }
              break;
          }
          return `${M} must be specified`;
        },
        TypeError
      ), S(
        "ERR_OUT_OF_RANGE",
        (k, M, O) => {
          b(M, 'Missing "range" argument');
          let ie;
          return Number.isInteger(O) && Math.abs(O) > 2 ** 32 ? ie = A(String(O)) : typeof O == "bigint" ? (ie = String(O), (O > 2n ** 32n || O < -(2n ** 32n)) && (ie = A(ie)), ie += "n") : ie = c(O), `The value of "${k}" is out of range. It must be ${M}. Received ${ie}`;
        },
        RangeError
      ), S("ERR_MULTIPLE_CALLBACK", "Callback called multiple times", Error), S("ERR_METHOD_NOT_IMPLEMENTED", "The %s method is not implemented", Error), S("ERR_STREAM_ALREADY_FINISHED", "Cannot call %s after a stream was finished", Error), S("ERR_STREAM_CANNOT_PIPE", "Cannot pipe, not readable", Error), S("ERR_STREAM_DESTROYED", "Cannot call %s after a stream was destroyed", Error), S("ERR_STREAM_NULL_VALUES", "May not write null values to stream", TypeError), S("ERR_STREAM_PREMATURE_CLOSE", "Premature close", Error), S("ERR_STREAM_PUSH_AFTER_EOF", "stream.push() after EOF", Error), S("ERR_STREAM_UNSHIFT_AFTER_END_EVENT", "stream.unshift() after end event", Error), S("ERR_STREAM_WRITE_AFTER_END", "write after end", Error), S("ERR_UNKNOWN_ENCODING", "Unknown encoding: %s", TypeError), o.exports = {
        AbortError: L,
        aggregateTwoErrors: T(x),
        hideStackFrames: T,
        codes: _
      };
    }, { "./util": 128 }], 127: [function(r, o, a) {
      o.exports = {
        ArrayIsArray(u) {
          return Array.isArray(u);
        },
        ArrayPrototypeIncludes(u, c) {
          return u.includes(c);
        },
        ArrayPrototypeIndexOf(u, c) {
          return u.indexOf(c);
        },
        ArrayPrototypeJoin(u, c) {
          return u.join(c);
        },
        ArrayPrototypeMap(u, c) {
          return u.map(c);
        },
        ArrayPrototypePop(u, c) {
          return u.pop(c);
        },
        ArrayPrototypePush(u, c) {
          return u.push(c);
        },
        ArrayPrototypeSlice(u, c, f) {
          return u.slice(c, f);
        },
        Error,
        FunctionPrototypeCall(u, c, ...f) {
          return u.call(c, ...f);
        },
        FunctionPrototypeSymbolHasInstance(u, c) {
          return Function.prototype[Symbol.hasInstance].call(u, c);
        },
        MathFloor: Math.floor,
        Number,
        NumberIsInteger: Number.isInteger,
        NumberIsNaN: Number.isNaN,
        NumberMAX_SAFE_INTEGER: Number.MAX_SAFE_INTEGER,
        NumberMIN_SAFE_INTEGER: Number.MIN_SAFE_INTEGER,
        NumberParseInt: Number.parseInt,
        ObjectDefineProperties(u, c) {
          return Object.defineProperties(u, c);
        },
        ObjectDefineProperty(u, c, f) {
          return Object.defineProperty(u, c, f);
        },
        ObjectGetOwnPropertyDescriptor(u, c) {
          return Object.getOwnPropertyDescriptor(u, c);
        },
        ObjectKeys(u) {
          return Object.keys(u);
        },
        ObjectSetPrototypeOf(u, c) {
          return Object.setPrototypeOf(u, c);
        },
        Promise,
        PromisePrototypeCatch(u, c) {
          return u.catch(c);
        },
        PromisePrototypeThen(u, c, f) {
          return u.then(c, f);
        },
        PromiseReject(u) {
          return Promise.reject(u);
        },
        ReflectApply: Reflect.apply,
        RegExpPrototypeTest(u, c) {
          return u.test(c);
        },
        SafeSet: Set,
        String,
        StringPrototypeSlice(u, c, f) {
          return u.slice(c, f);
        },
        StringPrototypeToLowerCase(u) {
          return u.toLowerCase();
        },
        StringPrototypeToUpperCase(u) {
          return u.toUpperCase();
        },
        StringPrototypeTrim(u) {
          return u.trim();
        },
        Symbol,
        SymbolFor: Symbol.for,
        SymbolAsyncIterator: Symbol.asyncIterator,
        SymbolHasInstance: Symbol.hasInstance,
        SymbolIterator: Symbol.iterator,
        TypedArrayPrototypeSet(u, c, f) {
          return u.set(c, f);
        },
        Uint8Array
      };
    }, {}], 128: [function(r, o, a) {
      const u = r("buffer"), c = Object.getPrototypeOf(async function() {
      }).constructor, f = globalThis.Blob || u.Blob, d = typeof f < "u" ? function(v) {
        return v instanceof f;
      } : function(v) {
        return !1;
      };
      class p extends Error {
        constructor(v) {
          if (!Array.isArray(v))
            throw new TypeError(`Expected input to be an Array, got ${typeof v}`);
          let g = "";
          for (let _ = 0; _ < v.length; _++)
            g += `    ${v[_].stack}
`;
          super(g), this.name = "AggregateError", this.errors = v;
        }
      }
      o.exports = {
        AggregateError: p,
        kEmptyObject: Object.freeze({}),
        once(y) {
          let v = !1;
          return function(...g) {
            v || (v = !0, y.apply(this, g));
          };
        },
        createDeferredPromise: function() {
          let y, v;
          return {
            promise: new Promise((_, b) => {
              y = _, v = b;
            }),
            resolve: y,
            reject: v
          };
        },
        promisify(y) {
          return new Promise((v, g) => {
            y((_, ...b) => _ ? g(_) : v(...b));
          });
        },
        debuglog() {
          return function() {
          };
        },
        format(y, ...v) {
          return y.replace(/%([sdifj])/g, function(...[g, _]) {
            const b = v.shift();
            return _ === "f" ? b.toFixed(6) : _ === "j" ? JSON.stringify(b) : _ === "s" && typeof b == "object" ? `${b.constructor !== Object ? b.constructor.name : ""} {}`.trim() : b.toString();
          });
        },
        inspect(y) {
          switch (typeof y) {
            case "string":
              if (y.includes("'"))
                if (y.includes('"')) {
                  if (!y.includes("`") && !y.includes("${"))
                    return `\`${y}\``;
                } else
                  return `"${y}"`;
              return `'${y}'`;
            case "number":
              return isNaN(y) ? "NaN" : Object.is(y, -0) ? String(y) : y;
            case "bigint":
              return `${String(y)}n`;
            case "boolean":
            case "undefined":
              return String(y);
            case "object":
              return "{}";
          }
        },
        types: {
          isAsyncFunction(y) {
            return y instanceof c;
          },
          isArrayBufferView(y) {
            return ArrayBuffer.isView(y);
          }
        },
        isBlob: d
      }, o.exports.promisify.custom = Symbol.for("nodejs.util.promisify.custom");
    }, { buffer: 29 }], 129: [function(r, o, a) {
      const { Buffer: u } = r("buffer"), { ObjectDefineProperty: c, ObjectKeys: f, ReflectApply: d } = r("./ours/primordials"), {
        promisify: { custom: p }
      } = r("./ours/util"), { streamReturningOperators: y, promiseReturningOperators: v } = r("./internal/streams/operators"), {
        codes: { ERR_ILLEGAL_CONSTRUCTOR: g }
      } = r("./ours/errors"), _ = r("./internal/streams/compose"), { pipeline: b } = r("./internal/streams/pipeline"), { destroyer: A } = r("./internal/streams/destroy"), w = r("./internal/streams/end-of-stream"), S = r("./stream/promises"), T = r("./internal/streams/utils"), x = o.exports = r("./internal/streams/legacy").Stream;
      x.isDisturbed = T.isDisturbed, x.isErrored = T.isErrored, x.isReadable = T.isReadable, x.Readable = r("./internal/streams/readable");
      for (const k of f(y)) {
        let O = function(...ie) {
          if (new.target)
            throw g();
          return x.Readable.from(d(M, this, ie));
        };
        const M = y[k];
        c(O, "name", {
          __proto__: null,
          value: M.name
        }), c(O, "length", {
          __proto__: null,
          value: M.length
        }), c(x.Readable.prototype, k, {
          __proto__: null,
          value: O,
          enumerable: !1,
          configurable: !0,
          writable: !0
        });
      }
      for (const k of f(v)) {
        let O = function(...ie) {
          if (new.target)
            throw g();
          return d(M, this, ie);
        };
        const M = v[k];
        c(O, "name", {
          __proto__: null,
          value: M.name
        }), c(O, "length", {
          __proto__: null,
          value: M.length
        }), c(x.Readable.prototype, k, {
          __proto__: null,
          value: O,
          enumerable: !1,
          configurable: !0,
          writable: !0
        });
      }
      x.Writable = r("./internal/streams/writable"), x.Duplex = r("./internal/streams/duplex"), x.Transform = r("./internal/streams/transform"), x.PassThrough = r("./internal/streams/passthrough"), x.pipeline = b;
      const { addAbortSignal: L } = r("./internal/streams/add-abort-signal");
      x.addAbortSignal = L, x.finished = w, x.destroy = A, x.compose = _, c(x, "promises", {
        __proto__: null,
        configurable: !0,
        enumerable: !0,
        get() {
          return S;
        }
      }), c(b, p, {
        __proto__: null,
        enumerable: !0,
        get() {
          return S.pipeline;
        }
      }), c(w, p, {
        __proto__: null,
        enumerable: !0,
        get() {
          return S.finished;
        }
      }), x.Stream = x, x._isUint8Array = function(M) {
        return M instanceof Uint8Array;
      }, x._uint8ArrayToBuffer = function(M) {
        return u.from(M.buffer, M.byteOffset, M.byteLength);
      };
    }, { "./internal/streams/add-abort-signal": 107, "./internal/streams/compose": 109, "./internal/streams/destroy": 110, "./internal/streams/duplex": 111, "./internal/streams/end-of-stream": 113, "./internal/streams/legacy": 115, "./internal/streams/operators": 116, "./internal/streams/passthrough": 117, "./internal/streams/pipeline": 118, "./internal/streams/readable": 119, "./internal/streams/transform": 121, "./internal/streams/utils": 122, "./internal/streams/writable": 123, "./ours/errors": 126, "./ours/primordials": 127, "./ours/util": 128, "./stream/promises": 130, buffer: 29 }], 130: [function(r, o, a) {
      const { ArrayPrototypePop: u, Promise: c } = r("../ours/primordials"), { isIterable: f, isNodeStream: d, isWebStream: p } = r("../internal/streams/utils"), { pipelineImpl: y } = r("../internal/streams/pipeline"), { finished: v } = r("../internal/streams/end-of-stream");
      r("../../lib/stream.js");
      function g(..._) {
        return new c((b, A) => {
          let w, S;
          const T = _[_.length - 1];
          if (T && typeof T == "object" && !d(T) && !f(T) && !p(T)) {
            const x = u(_);
            w = x.signal, S = x.end;
          }
          y(
            _,
            (x, L) => {
              x ? A(x) : b(L);
            },
            {
              signal: w,
              end: S
            }
          );
        });
      }
      o.exports = {
        finished: v,
        pipeline: g
      };
    }, { "../../lib/stream.js": 129, "../internal/streams/end-of-stream": 113, "../internal/streams/pipeline": 118, "../internal/streams/utils": 122, "../ours/primordials": 127 }], 131: [function(r, o, a) {
      function u(f, d, p) {
        var y = this;
        this._callback = f, this._args = p, this._interval = setInterval(f, d, this._args), this.reschedule = function(v) {
          v || (v = y._interval), y._interval && clearInterval(y._interval), y._interval = setInterval(y._callback, v, y._args);
        }, this.clear = function() {
          y._interval && (clearInterval(y._interval), y._interval = void 0);
        }, this.destroy = function() {
          y._interval && clearInterval(y._interval), y._callback = void 0, y._interval = void 0, y._args = void 0;
        };
      }
      function c() {
        if (typeof arguments[0] != "function")
          throw new Error("callback needed");
        if (typeof arguments[1] != "number")
          throw new Error("interval needed");
        var f;
        if (arguments.length > 0) {
          f = new Array(arguments.length - 2);
          for (var d = 0; d < f.length; d++)
            f[d] = arguments[d + 2];
        }
        return new u(arguments[0], arguments[1], f);
      }
      o.exports = c;
    }, {}], 132: [function(r, o, a) {
      o.exports = r("./index.js")();
    }, { "./index.js": 133 }], 133: [function(r, o, a) {
      (function(u) {
        (function() {
          o.exports = f;
          function c(p) {
            return p instanceof u ? u.from(p) : new p.constructor(p.buffer.slice(), p.byteOffset, p.length);
          }
          function f(p) {
            if (p = p || {}, p.circles)
              return d(p);
            return p.proto ? g : v;
            function y(_, b) {
              for (var A = Object.keys(_), w = new Array(A.length), S = 0; S < A.length; S++) {
                var T = A[S], x = _[T];
                typeof x != "object" || x === null ? w[T] = x : x instanceof Date ? w[T] = new Date(x) : ArrayBuffer.isView(x) ? w[T] = c(x) : w[T] = b(x);
              }
              return w;
            }
            function v(_) {
              if (typeof _ != "object" || _ === null)
                return _;
              if (_ instanceof Date)
                return new Date(_);
              if (Array.isArray(_))
                return y(_, v);
              if (_ instanceof Map)
                return new Map(y(Array.from(_), v));
              if (_ instanceof Set)
                return new Set(y(Array.from(_), v));
              var b = {};
              for (var A in _)
                if (Object.hasOwnProperty.call(_, A) !== !1) {
                  var w = _[A];
                  typeof w != "object" || w === null ? b[A] = w : w instanceof Date ? b[A] = new Date(w) : w instanceof Map ? b[A] = new Map(y(Array.from(w), v)) : w instanceof Set ? b[A] = new Set(y(Array.from(w), v)) : ArrayBuffer.isView(w) ? b[A] = c(w) : b[A] = v(w);
                }
              return b;
            }
            function g(_) {
              if (typeof _ != "object" || _ === null)
                return _;
              if (_ instanceof Date)
                return new Date(_);
              if (Array.isArray(_))
                return y(_, g);
              if (_ instanceof Map)
                return new Map(y(Array.from(_), g));
              if (_ instanceof Set)
                return new Set(y(Array.from(_), g));
              var b = {};
              for (var A in _) {
                var w = _[A];
                typeof w != "object" || w === null ? b[A] = w : w instanceof Date ? b[A] = new Date(w) : w instanceof Map ? b[A] = new Map(y(Array.from(w), g)) : w instanceof Set ? b[A] = new Set(y(Array.from(w), g)) : ArrayBuffer.isView(w) ? b[A] = c(w) : b[A] = g(w);
              }
              return b;
            }
          }
          function d(p) {
            var y = [], v = [];
            return p.proto ? b : _;
            function g(A, w) {
              for (var S = Object.keys(A), T = new Array(S.length), x = 0; x < S.length; x++) {
                var L = S[x], k = A[L];
                if (typeof k != "object" || k === null)
                  T[L] = k;
                else if (k instanceof Date)
                  T[L] = new Date(k);
                else if (ArrayBuffer.isView(k))
                  T[L] = c(k);
                else {
                  var M = y.indexOf(k);
                  M !== -1 ? T[L] = v[M] : T[L] = w(k);
                }
              }
              return T;
            }
            function _(A) {
              if (typeof A != "object" || A === null)
                return A;
              if (A instanceof Date)
                return new Date(A);
              if (Array.isArray(A))
                return g(A, _);
              if (A instanceof Map)
                return new Map(g(Array.from(A), _));
              if (A instanceof Set)
                return new Set(g(Array.from(A), _));
              var w = {};
              y.push(A), v.push(w);
              for (var S in A)
                if (Object.hasOwnProperty.call(A, S) !== !1) {
                  var T = A[S];
                  if (typeof T != "object" || T === null)
                    w[S] = T;
                  else if (T instanceof Date)
                    w[S] = new Date(T);
                  else if (T instanceof Map)
                    w[S] = new Map(g(Array.from(T), _));
                  else if (T instanceof Set)
                    w[S] = new Set(g(Array.from(T), _));
                  else if (ArrayBuffer.isView(T))
                    w[S] = c(T);
                  else {
                    var x = y.indexOf(T);
                    x !== -1 ? w[S] = v[x] : w[S] = _(T);
                  }
                }
              return y.pop(), v.pop(), w;
            }
            function b(A) {
              if (typeof A != "object" || A === null)
                return A;
              if (A instanceof Date)
                return new Date(A);
              if (Array.isArray(A))
                return g(A, b);
              if (A instanceof Map)
                return new Map(g(Array.from(A), b));
              if (A instanceof Set)
                return new Set(g(Array.from(A), b));
              var w = {};
              y.push(A), v.push(w);
              for (var S in A) {
                var T = A[S];
                if (typeof T != "object" || T === null)
                  w[S] = T;
                else if (T instanceof Date)
                  w[S] = new Date(T);
                else if (T instanceof Map)
                  w[S] = new Map(g(Array.from(T), b));
                else if (T instanceof Set)
                  w[S] = new Set(g(Array.from(T), b));
                else if (ArrayBuffer.isView(T))
                  w[S] = c(T);
                else {
                  var x = y.indexOf(T);
                  x !== -1 ? w[S] = v[x] : w[S] = b(T);
                }
              }
              return y.pop(), v.pop(), w;
            }
          }
        }).call(this);
      }).call(this, r("buffer").Buffer);
    }, { buffer: 29 }], 134: [function(r, o, a) {
      /*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
      var u = r("buffer"), c = u.Buffer;
      function f(p, y) {
        for (var v in p)
          y[v] = p[v];
      }
      c.from && c.alloc && c.allocUnsafe && c.allocUnsafeSlow ? o.exports = u : (f(u, a), a.Buffer = d);
      function d(p, y, v) {
        return c(p, y, v);
      }
      d.prototype = Object.create(c.prototype), f(c, d), d.from = function(p, y, v) {
        if (typeof p == "number")
          throw new TypeError("Argument must not be a number");
        return c(p, y, v);
      }, d.alloc = function(p, y, v) {
        if (typeof p != "number")
          throw new TypeError("Argument must be a number");
        var g = c(p);
        return y !== void 0 ? typeof v == "string" ? g.fill(y, v) : g.fill(y) : g.fill(0), g;
      }, d.allocUnsafe = function(p) {
        if (typeof p != "number")
          throw new TypeError("Argument must be a number");
        return c(p);
      }, d.allocUnsafeSlow = function(p) {
        if (typeof p != "number")
          throw new TypeError("Argument must be a number");
        return u.SlowBuffer(p);
      };
    }, { buffer: 29 }], 135: [function(r, o, a) {
      o.exports = u;
      function u(f) {
        var d = f._readableState;
        return d ? d.objectMode || typeof f._duplexState == "number" ? f.read() : f.read(c(d)) : null;
      }
      function c(f) {
        return f.buffer.length ? f.buffer.head ? f.buffer.head.data.length : f.buffer[0].length : f.length;
      }
    }, {}], 136: [function(r, o, a) {
      arguments[4][28][0].apply(a, arguments);
    }, { dup: 28, "safe-buffer": 134 }], 137: [function(r, o, a) {
      var u = r("punycode"), c = r("./util");
      a.parse = O, a.resolve = F, a.resolveObject = j, a.format = ie, a.Url = f;
      function f() {
        this.protocol = null, this.slashes = null, this.auth = null, this.host = null, this.port = null, this.hostname = null, this.hash = null, this.search = null, this.query = null, this.pathname = null, this.path = null, this.href = null;
      }
      var d = /^([a-z0-9.+-]+:)/i, p = /:[0-9]*$/, y = /^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/, v = ["<", ">", '"', "`", " ", "\r", `
`, "	"], g = ["{", "}", "|", "\\", "^", "`"].concat(v), _ = ["'"].concat(g), b = ["%", "/", "?", ";", "#"].concat(_), A = ["/", "?", "#"], w = 255, S = /^[+a-z0-9A-Z_-]{0,63}$/, T = /^([+a-z0-9A-Z_-]{0,63})(.*)$/, x = {
        javascript: !0,
        "javascript:": !0
      }, L = {
        javascript: !0,
        "javascript:": !0
      }, k = {
        http: !0,
        https: !0,
        ftp: !0,
        gopher: !0,
        file: !0,
        "http:": !0,
        "https:": !0,
        "ftp:": !0,
        "gopher:": !0,
        "file:": !0
      }, M = r("querystring");
      function O(D, Y, z) {
        if (D && c.isObject(D) && D instanceof f)
          return D;
        var Ie = new f();
        return Ie.parse(D, Y, z), Ie;
      }
      f.prototype.parse = function(D, Y, z) {
        if (!c.isString(D))
          throw new TypeError("Parameter 'url' must be a string, not " + typeof D);
        var Ie = D.indexOf("?"), ue = Ie !== -1 && Ie < D.indexOf("#") ? "?" : "#", Ce = D.split(ue), pe = /\\/g;
        Ce[0] = Ce[0].replace(pe, "/"), D = Ce.join(ue);
        var Ne = D;
        if (Ne = Ne.trim(), !z && D.split("#").length === 1) {
          var xe = y.exec(Ne);
          if (xe)
            return this.path = Ne, this.href = Ne, this.pathname = xe[1], xe[2] ? (this.search = xe[2], Y ? this.query = M.parse(this.search.substr(1)) : this.query = this.search.substr(1)) : Y && (this.search = "", this.query = {}), this;
        }
        var hn = d.exec(Ne);
        if (hn) {
          hn = hn[0];
          var Pt = hn.toLowerCase();
          this.protocol = Pt, Ne = Ne.substr(hn.length);
        }
        if (z || hn || Ne.match(/^\/\/[^@\/]+@[^@\/]+/)) {
          var _n = Ne.substr(0, 2) === "//";
          _n && !(hn && L[hn]) && (Ne = Ne.substr(2), this.slashes = !0);
        }
        if (!L[hn] && (_n || hn && !k[hn])) {
          for (var In = -1, Dt = 0; Dt < A.length; Dt++) {
            var he = Ne.indexOf(A[Dt]);
            he !== -1 && (In === -1 || he < In) && (In = he);
          }
          var At, Lt;
          In === -1 ? Lt = Ne.lastIndexOf("@") : Lt = Ne.lastIndexOf("@", In), Lt !== -1 && (At = Ne.slice(0, Lt), Ne = Ne.slice(Lt + 1), this.auth = decodeURIComponent(At)), In = -1;
          for (var Dt = 0; Dt < b.length; Dt++) {
            var he = Ne.indexOf(b[Dt]);
            he !== -1 && (In === -1 || he < In) && (In = he);
          }
          In === -1 && (In = Ne.length), this.host = Ne.slice(0, In), Ne = Ne.slice(In), this.parseHost(), this.hostname = this.hostname || "";
          var Cn = this.hostname[0] === "[" && this.hostname[this.hostname.length - 1] === "]";
          if (!Cn)
            for (var ze = this.hostname.split(/\./), Dt = 0, _e = ze.length; Dt < _e; Dt++) {
              var de = ze[Dt];
              if (de && !de.match(S)) {
                for (var Et = "", Ve = 0, $e = de.length; Ve < $e; Ve++)
                  de.charCodeAt(Ve) > 127 ? Et += "x" : Et += de[Ve];
                if (!Et.match(S)) {
                  var kt = ze.slice(0, Dt), jt = ze.slice(Dt + 1), bn = de.match(T);
                  bn && (kt.push(bn[1]), jt.unshift(bn[2])), jt.length && (Ne = "/" + jt.join(".") + Ne), this.hostname = kt.join(".");
                  break;
                }
              }
            }
          this.hostname.length > w ? this.hostname = "" : this.hostname = this.hostname.toLowerCase(), Cn || (this.hostname = u.toASCII(this.hostname));
          var oe = this.port ? ":" + this.port : "", ae = this.hostname || "";
          this.host = ae + oe, this.href += this.host, Cn && (this.hostname = this.hostname.substr(1, this.hostname.length - 2), Ne[0] !== "/" && (Ne = "/" + Ne));
        }
        if (!x[Pt])
          for (var Dt = 0, _e = _.length; Dt < _e; Dt++) {
            var re = _[Dt];
            if (Ne.indexOf(re) !== -1) {
              var V = encodeURIComponent(re);
              V === re && (V = escape(re)), Ne = Ne.split(re).join(V);
            }
          }
        var $ = Ne.indexOf("#");
        $ !== -1 && (this.hash = Ne.substr($), Ne = Ne.slice(0, $));
        var le = Ne.indexOf("?");
        if (le !== -1 ? (this.search = Ne.substr(le), this.query = Ne.substr(le + 1), Y && (this.query = M.parse(this.query)), Ne = Ne.slice(0, le)) : Y && (this.search = "", this.query = {}), Ne && (this.pathname = Ne), k[Pt] && this.hostname && !this.pathname && (this.pathname = "/"), this.pathname || this.search) {
          var oe = this.pathname || "", Oe = this.search || "";
          this.path = oe + Oe;
        }
        return this.href = this.format(), this;
      };
      function ie(D) {
        return c.isString(D) && (D = O(D)), D instanceof f ? D.format() : f.prototype.format.call(D);
      }
      f.prototype.format = function() {
        var D = this.auth || "";
        D && (D = encodeURIComponent(D), D = D.replace(/%3A/i, ":"), D += "@");
        var Y = this.protocol || "", z = this.pathname || "", Ie = this.hash || "", ue = !1, Ce = "";
        this.host ? ue = D + this.host : this.hostname && (ue = D + (this.hostname.indexOf(":") === -1 ? this.hostname : "[" + this.hostname + "]"), this.port && (ue += ":" + this.port)), this.query && c.isObject(this.query) && Object.keys(this.query).length && (Ce = M.stringify(this.query));
        var pe = this.search || Ce && "?" + Ce || "";
        return Y && Y.substr(-1) !== ":" && (Y += ":"), this.slashes || (!Y || k[Y]) && ue !== !1 ? (ue = "//" + (ue || ""), z && z.charAt(0) !== "/" && (z = "/" + z)) : ue || (ue = ""), Ie && Ie.charAt(0) !== "#" && (Ie = "#" + Ie), pe && pe.charAt(0) !== "?" && (pe = "?" + pe), z = z.replace(/[?#]/g, function(Ne) {
          return encodeURIComponent(Ne);
        }), pe = pe.replace("#", "%23"), Y + ue + z + pe + Ie;
      };
      function F(D, Y) {
        return O(D, !1, !0).resolve(Y);
      }
      f.prototype.resolve = function(D) {
        return this.resolveObject(O(D, !1, !0)).format();
      };
      function j(D, Y) {
        return D ? O(D, !1, !0).resolveObject(Y) : Y;
      }
      f.prototype.resolveObject = function(D) {
        if (c.isString(D)) {
          var Y = new f();
          Y.parse(D, !1, !0), D = Y;
        }
        for (var z = new f(), Ie = Object.keys(this), ue = 0; ue < Ie.length; ue++) {
          var Ce = Ie[ue];
          z[Ce] = this[Ce];
        }
        if (z.hash = D.hash, D.href === "")
          return z.href = z.format(), z;
        if (D.slashes && !D.protocol) {
          for (var pe = Object.keys(D), Ne = 0; Ne < pe.length; Ne++) {
            var xe = pe[Ne];
            xe !== "protocol" && (z[xe] = D[xe]);
          }
          return k[z.protocol] && z.hostname && !z.pathname && (z.path = z.pathname = "/"), z.href = z.format(), z;
        }
        if (D.protocol && D.protocol !== z.protocol) {
          if (!k[D.protocol]) {
            for (var hn = Object.keys(D), Pt = 0; Pt < hn.length; Pt++) {
              var _n = hn[Pt];
              z[_n] = D[_n];
            }
            return z.href = z.format(), z;
          }
          if (z.protocol = D.protocol, !D.host && !L[D.protocol]) {
            for (var _e = (D.pathname || "").split("/"); _e.length && !(D.host = _e.shift()); )
              ;
            D.host || (D.host = ""), D.hostname || (D.hostname = ""), _e[0] !== "" && _e.unshift(""), _e.length < 2 && _e.unshift(""), z.pathname = _e.join("/");
          } else
            z.pathname = D.pathname;
          if (z.search = D.search, z.query = D.query, z.host = D.host || "", z.auth = D.auth, z.hostname = D.hostname || D.host, z.port = D.port, z.pathname || z.search) {
            var In = z.pathname || "", Dt = z.search || "";
            z.path = In + Dt;
          }
          return z.slashes = z.slashes || D.slashes, z.href = z.format(), z;
        }
        var he = z.pathname && z.pathname.charAt(0) === "/", At = D.host || D.pathname && D.pathname.charAt(0) === "/", Lt = At || he || z.host && D.pathname, Cn = Lt, ze = z.pathname && z.pathname.split("/") || [], _e = D.pathname && D.pathname.split("/") || [], de = z.protocol && !k[z.protocol];
        if (de && (z.hostname = "", z.port = null, z.host && (ze[0] === "" ? ze[0] = z.host : ze.unshift(z.host)), z.host = "", D.protocol && (D.hostname = null, D.port = null, D.host && (_e[0] === "" ? _e[0] = D.host : _e.unshift(D.host)), D.host = null), Lt = Lt && (_e[0] === "" || ze[0] === "")), At)
          z.host = D.host || D.host === "" ? D.host : z.host, z.hostname = D.hostname || D.hostname === "" ? D.hostname : z.hostname, z.search = D.search, z.query = D.query, ze = _e;
        else if (_e.length)
          ze || (ze = []), ze.pop(), ze = ze.concat(_e), z.search = D.search, z.query = D.query;
        else if (!c.isNullOrUndefined(D.search)) {
          if (de) {
            z.hostname = z.host = ze.shift();
            var Et = z.host && z.host.indexOf("@") > 0 ? z.host.split("@") : !1;
            Et && (z.auth = Et.shift(), z.host = z.hostname = Et.shift());
          }
          return z.search = D.search, z.query = D.query, (!c.isNull(z.pathname) || !c.isNull(z.search)) && (z.path = (z.pathname ? z.pathname : "") + (z.search ? z.search : "")), z.href = z.format(), z;
        }
        if (!ze.length)
          return z.pathname = null, z.search ? z.path = "/" + z.search : z.path = null, z.href = z.format(), z;
        for (var Ve = ze.slice(-1)[0], $e = (z.host || D.host || ze.length > 1) && (Ve === "." || Ve === "..") || Ve === "", kt = 0, jt = ze.length; jt >= 0; jt--)
          Ve = ze[jt], Ve === "." ? ze.splice(jt, 1) : Ve === ".." ? (ze.splice(jt, 1), kt++) : kt && (ze.splice(jt, 1), kt--);
        if (!Lt && !Cn)
          for (; kt--; kt)
            ze.unshift("..");
        Lt && ze[0] !== "" && (!ze[0] || ze[0].charAt(0) !== "/") && ze.unshift(""), $e && ze.join("/").substr(-1) !== "/" && ze.push("");
        var bn = ze[0] === "" || ze[0] && ze[0].charAt(0) === "/";
        if (de) {
          z.hostname = z.host = bn ? "" : ze.length ? ze.shift() : "";
          var Et = z.host && z.host.indexOf("@") > 0 ? z.host.split("@") : !1;
          Et && (z.auth = Et.shift(), z.host = z.hostname = Et.shift());
        }
        return Lt = Lt || z.host && ze.length, Lt && !bn && ze.unshift(""), ze.length ? z.pathname = ze.join("/") : (z.pathname = null, z.path = null), (!c.isNull(z.pathname) || !c.isNull(z.search)) && (z.path = (z.pathname ? z.pathname : "") + (z.search ? z.search : "")), z.auth = D.auth || z.auth, z.slashes = z.slashes || D.slashes, z.href = z.format(), z;
      }, f.prototype.parseHost = function() {
        var D = this.host, Y = p.exec(D);
        Y && (Y = Y[0], Y !== ":" && (this.port = Y.substr(1)), D = D.substr(0, D.length - Y.length)), D && (this.hostname = D);
      };
    }, { "./util": 138, punycode: 103, querystring: 106 }], 138: [function(r, o, a) {
      o.exports = {
        isString: function(u) {
          return typeof u == "string";
        },
        isObject: function(u) {
          return typeof u == "object" && u !== null;
        },
        isNull: function(u) {
          return u === null;
        },
        isNullOrUndefined: function(u) {
          return u == null;
        }
      };
    }, {}], 139: [function(r, o, a) {
      (function(u) {
        (function() {
          o.exports = c;
          function c(d, p) {
            if (f("noDeprecation"))
              return d;
            var y = !1;
            function v() {
              if (!y) {
                if (f("throwDeprecation"))
                  throw new Error(p);
                f("traceDeprecation") ? console.trace(p) : console.warn(p), y = !0;
              }
              return d.apply(this, arguments);
            }
            return v;
          }
          function f(d) {
            try {
              if (!u.localStorage)
                return !1;
            } catch {
              return !1;
            }
            var p = u.localStorage[d];
            return p == null ? !1 : String(p).toLowerCase() === "true";
          }
        }).call(this);
      }).call(this, typeof commonjsGlobal < "u" ? commonjsGlobal : typeof self < "u" ? self : typeof window < "u" ? window : {});
    }, {}], 140: [function(r, o, a) {
      o.exports = u;
      function u(c, f) {
        if (c && f)
          return u(c)(f);
        if (typeof c != "function")
          throw new TypeError("need wrapper function");
        return Object.keys(c).forEach(function(p) {
          d[p] = c[p];
        }), d;
        function d() {
          for (var p = new Array(arguments.length), y = 0; y < p.length; y++)
            p[y] = arguments[y];
          var v = c.apply(this, p), g = p[p.length - 1];
          return typeof v == "function" && v !== g && Object.keys(g).forEach(function(_) {
            v[_] = g[_];
          }), v;
        }
      }
    }, {}], 141: [function(r, o, a) {
      o.exports = function() {
        throw new Error(
          "ws does not work in the browser. Browser clients must use the native WebSocket object"
        );
      };
    }, {}] }, {}, [23])(23);
  });
})(mqtt);
var mqttExports = mqtt.exports;
let client;
const sub = (i, n, r, o, a) => {
  const u = i.trim();
  if (!/^wss?:\/\/.*$/.test(u)) {
    console.error('编辑器MQTT通信只支持ws协议 (url必须以"ws://"开头)');
    return;
  }
  client = mqttExports.connect(u, {
    username: n.trim(),
    password: r.trim(),
    reconnectPeriod: 6e5
    /*如果连不上，10分钟后重试*/
  }), client.on("connect", () => {
    console.log("MQTT服务器连接成功"), console.log(client.options.clientId), client.subscribe(o, { qos: 1 });
  }), client.on("message", a);
}, close = () => {
  client && client.end && client.end(!0, {}, () => {
    console.log("MQTT服务连接关闭");
  });
}, _hoisted_1 = ["transform"], _hoisted_2 = ["transform", "onClick"], _hoisted_3 = ["transform"], _hoisted_4 = ["xlink:href", "id", "transform"], _hoisted_5 = ["id"], _sfc_main = /* @__PURE__ */ defineComponent({
  __name: "svg-viewer",
  props: {
    data: {},
    canvasDrag: { type: Boolean, default: !0 }
  },
  emits: ["onMessage"],
  setup(i, { expose: n, emit: r }) {
    const o = i;
    useCssVars((S) => ({
      "60347c6c": unref(c)
    })), setEditorLoadTime();
    const a = useGlobalStore(pinia);
    componentsRegister();
    const u = reactive(
      o.data ?? {
        layout_center: {
          x: 0,
          y: 0
        },
        config: {
          svg: {
            background_color: "#fff",
            scale: 1,
            grid_color: "#ebebeb"
          },
          net: {
            mqtt: {
              url: "",
              user: "",
              pwd: "",
              topics: ""
            }
          }
        },
        done_json: []
      }
    ), c = computed(() => a.intention == EGlobalStoreIntention.MoveCanvas ? "grab" : "default"), f = (S) => {
      if (a.mouse_info.state != EMouseInfoState.Down && a.intention !== EGlobalStoreIntention.Connection || !o.canvasDrag)
        return;
      const { clientX: T, clientY: x } = S;
      a.mouse_info.new_position_x = a.mouse_info.now_position_x + T - a.mouse_info.position_x, a.mouse_info.new_position_y = a.mouse_info.now_position_y + x - a.mouse_info.position_y, a.intention == EGlobalStoreIntention.MoveCanvas && (u.layout_center.x = a.mouse_info.new_position_x, u.layout_center.y = a.mouse_info.new_position_y);
    }, d = () => {
      a.mouse_info.state == EMouseInfoState.Down && (a.intention != EGlobalStoreIntention.Select && (a.intention = EGlobalStoreIntention.None), a.mouse_info = {
        state: EMouseInfoState.Up,
        position_x: 0,
        position_y: 0,
        now_position_x: 0,
        now_position_y: 0,
        new_position_x: 0,
        new_position_y: 0
      });
    }, p = (S) => {
      const { clientX: T, clientY: x } = S;
      a.intention = EGlobalStoreIntention.MoveCanvas, a.mouse_info = {
        state: EMouseInfoState.Down,
        position_x: T,
        position_y: x,
        now_position_x: u.layout_center.x,
        now_position_y: u.layout_center.y,
        new_position_x: u.layout_center.x,
        new_position_y: u.layout_center.y
      };
    };
    function y(S) {
      S != null && S.wheelDelta && (S.wheelDelta > 0 ? u.config.svg.scale = parseFloat((u.config.svg.scale + 0.1).toFixed(1)) : u.config.svg.scale = parseFloat((u.config.svg.scale - 0.1).toFixed(1)));
    }
    const v = (S, T, x) => ({
      x: S.x - S.width / 2 * T + S.width / 2,
      y: S.y - S.height / 2 * x + S.height / 2,
      width: S.width * T,
      height: S.height * x
    }), g = (S) => {
      var x;
      let T = !1;
      if (((x = S.events) == null ? void 0 : x.length) > 0) {
        for (let L of S.events)
          if (L.type === EEventType.Click) {
            T = !0;
            break;
          }
      }
      return { cursor: T ? "pointer" : "default" };
    }, _ = (S, T) => {
      var x;
      if (console.log(S.events, T), ((x = S.events) == null ? void 0 : x.length) > 0) {
        for (let L of S.events)
          if (L.type === T) {
            if (L.condition && L.condition.type !== "None" && L.condition.type === "Relation" && L.condition.Relation && L.condition.Relation.relation) {
              const k = L.condition.Relation.key, M = L.condition.Relation.relation, O = valFormat(L.condition.Relation.val), ie = valFormat(L.condition.Relation.val2);
              if (S.props.hasOwnProperty(k)) {
                const F = S.props[k].val;
                if (!b(F, M, O, ie))
                  continue;
              }
            }
            if (L.action === EEventAction.ChangeAttr) {
              if (L.attrs && L.attrs.length > 0) {
                let k;
                if (L.target) {
                  for (let M of u.done_json)
                    if (M.id === L.target) {
                      k = M;
                      break;
                    }
                } else
                  k = S;
                if (!k)
                  continue;
                for (let M of L.attrs)
                  M.key === "state" ? k.defaultState = valFormat(M.val) : k.props.hasOwnProperty(M.key) && (k.props[M.key].val = valFormat(M.val));
              }
            } else
              L.action === EEventAction.JavaScript && new Function(L.scripts)();
          }
      }
    }, b = (S, T, x, L) => {
      switch (T) {
        case ">":
          return S > x;
        case ">=":
          return S >= x;
        case "<":
          return S < x;
        case "<=":
          return S <= x;
        case "==":
          return S == x;
        case "!=":
          return S != x;
        case ">=,=<":
          return S >= x && S <= L;
        case "<,>":
          return S < x || S > L;
      }
    }, A = () => {
      const S = u.config.net.mqtt;
      S && S.url && S.user && S.pwd && S.topics && sub(S.url, S.user, S.pwd, S.topics, (T, x) => {
        console.log(T), console.log(x.toString()), r("onMessage", {
          topics: T,
          message: x
        });
      });
    }, w = (S, T, x) => setArrItemByID(S, T, x, u.done_json);
    return onMounted(() => {
      A();
    }), onBeforeUnmount(close), n({
      setNodeAttrByID: w
    }), (S, T) => (openBlock(), createElementBlock("div", {
      class: "canvas",
      onMousedown: p,
      onMousemove: f,
      onMouseup: d,
      onMousewheel: y,
      onContextmenu: T[4] || (T[4] = //@ts-ignore
      (...x) => unref(preventDefault) && unref(preventDefault)(...x))
    }, [
      (openBlock(), createElementBlock("svg", {
        xmlns: "http://www.w3.org/2000/svg",
        style: normalizeStyle$1({ backgroundColor: unref(u).config.svg.background_color }),
        width: "100%",
        height: "100%"
      }, [
        createElementVNode("g", {
          transform: `translate(${unref(u).layout_center.x},${unref(u).layout_center.y})rotate(0)scale(${unref(u).config.svg.scale})`
        }, [
          (openBlock(!0), createElementBlock(Fragment, null, renderList(unref(u).done_json, (x) => withDirectives((openBlock(), createElementBlock("g", {
            key: x.id,
            transform: `translate(${x.x},${x.y})rotate(0)scale(1)`,
            style: normalizeStyle$1(g(x)),
            onClick: (L) => _(x, unref(EEventType).Click),
            onMousedown: T[0] || (T[0] = //@ts-ignore
            (...L) => unref(stopEvent) && unref(stopEvent)(...L)),
            onMousemove: T[1] || (T[1] = //@ts-ignore
            (...L) => unref(stopEvent) && unref(stopEvent)(...L)),
            onMouseup: T[2] || (T[2] = //@ts-ignore
            (...L) => unref(stopEvent) && unref(stopEvent)(...L)),
            onMousewheel: T[3] || (T[3] = //@ts-ignore
            (...L) => unref(stopEvent) && unref(stopEvent)(...L))
          }, [
            createElementVNode("g", {
              class: normalizeClass(`${unref(getCommonClass)(x)}`)
            }, [
              createElementVNode("g", {
                transform: `translate(${x.actual_bound.x + x.actual_bound.width / 2},${x.actual_bound.y + x.actual_bound.height / 2})rotate(${x.rotate}) scale(1) translate(${-(x.actual_bound.x + x.actual_bound.width / 2)},${-(x.actual_bound.y + x.actual_bound.height / 2)})`
              }, [
                x.type === unref(EDoneJsonType).ConnectionLine ? (openBlock(), createBlock(_sfc_main$y, {
                  key: 0,
                  "item-info": x
                }, null, 8, ["item-info"])) : x.type === unref(EDoneJsonType).File ? (openBlock(), createElementBlock("use", mergeProps({
                  key: 1,
                  "xlink:href": `#svg-${x.name}`
                }, unref(prosToVBind)(x), {
                  width: "100",
                  height: "100",
                  id: x.id,
                  transform: `translate(${x.actual_bound.x + x.actual_bound.width / 2},${x.actual_bound.y + x.actual_bound.height / 2}) scale(${x.scale_x},${x.scale_y}) translate(${-(x.actual_bound.x + x.actual_bound.width / 2)},${-(x.actual_bound.y + x.actual_bound.height / 2)})`
                }), null, 16, _hoisted_4)) : x.type === unref(EDoneJsonType).CustomSvg ? (openBlock(), createBlock(resolveDynamicComponent(x.tag), mergeProps({ key: 2 }, unref(prosToVBind)(x), {
                  width: "100",
                  height: "100",
                  id: x.id,
                  onOnChange: (L) => _(x, unref(EEventType).Change),
                  transform: `translate(${x.actual_bound.x + x.actual_bound.width / 2},${x.actual_bound.y + x.actual_bound.height / 2}) scale(${x.scale_x},${x.scale_y}) translate(${-(x.actual_bound.x + x.actual_bound.width / 2)},${-(x.actual_bound.y + x.actual_bound.height / 2)})`
                }), null, 16, ["id", "onOnChange", "transform"])) : x.type === unref(EDoneJsonType).Vue ? (openBlock(), createElementBlock("foreignObject", mergeProps({ key: 3 }, v(x.actual_bound, x.scale_x, x.scale_y), {
                  id: `foreign-object${x.id}`,
                  class: "foreignObject"
                }), [
                  (openBlock(), createBlock(resolveDynamicComponent(x.tag), mergeProps(unref(prosToVBind)(x), {
                    id: x.id,
                    onOnChange: (L) => _(x, unref(EEventType).Change),
                    transform: `translate(${x.actual_bound.x + x.actual_bound.width / 2},${x.actual_bound.y + x.actual_bound.height / 2}) scale(${x.scale_x},${x.scale_y}) translate(${-(x.actual_bound.x + x.actual_bound.width / 2)},${-(x.actual_bound.y + x.actual_bound.height / 2)})`
                  }), {
                    default: withCtx(() => [
                      createTextVNode(toDisplayString(x.tag_slot), 1)
                    ]),
                    _: 2
                  }, 1040, ["id", "onOnChange", "transform"]))
                ], 16, _hoisted_5)) : createCommentVNode("", !0)
              ], 8, _hoisted_3)
            ], 2)
          ], 44, _hoisted_2)), [
            [vShow, x.display]
          ])), 128))
        ], 8, _hoisted_1)
      ], 4))
    ], 32));
  }
}), svgViewer_vue_vue_type_style_index_0_scoped_af6b7794_lang = "", svgViewer = /* @__PURE__ */ _export_sfc$1(_sfc_main, [["__scopeId", "data-v-af6b7794"]]);
export {
  index as SvgEditor,
  svgViewer as SvgViewer
};
