(function(r,n){typeof exports=="object"&&typeof module<"u"?n(exports,require("vue"),require("element-plus"),require("animate.css"),require("vue-echarts"),require("pinia"),require("lodash-es"),require("ace-builds")):typeof define=="function"&&define.amd?define(["exports","vue","element-plus","animate.css","vue-echarts","pinia","lodash-es","ace-builds"],n):(r=typeof globalThis<"u"?globalThis:r||self,n(r.VGCE={},r.Vue,r.elementPlus,null,r.VChart,r.Pinia,r.lodashEs,r.ace))})(this,function(exports,vue,elementPlus,animate_css,VChart,pinia$1,lodashEs,ace){"use strict";const windi="";if(typeof window<"u"){let r=function(){var n=document.body,i=document.getElementById("__svg__icons__dom__");i||(i=document.createElementNS("http://www.w3.org/2000/svg","svg"),i.style.position="absolute",i.style.width="0",i.style.height="0",i.id="__svg__icons__dom__",i.setAttribute("xmlns","http://www.w3.org/2000/svg"),i.setAttribute("xmlns:link","http://www.w3.org/1999/xlink")),i.innerHTML=`<symbol class="icon" viewBox="0 0 1024 1024"   id="svg-alert-light">\r
    <path d="M779.7248 452.1984c0-123.904-103.8848-224.3584-232.0384-224.3584S315.648 328.2944 315.648 452.1984c0 89.3952 54.1184 166.5536 132.4032 202.6496 0.3072 0.1536 0.6144 0.3072 0.9728 0.4096v63.488h197.376v-63.5392c78.7456-35.7888 133.3248-113.2032 133.3248-203.008z" p-id="1733" />\r
    <path d="M535.5008 234.7008s147.3536 98.7648 144.7424 233.984c0 72.9088-84.2752 145.4592-108.4416 157.184 0 52.9408 0.512 90.2144 0.512 90.2144l27.4432 2.7136 5.6832-63.5392 79.616-55.9616 53.7088-113.5616-11.776-104.1408-36.9152-73.3184-79.7696-56.832-74.8032-16.7424z" fill="#888" fill-opacity=".2" p-id="1734" />\r
    <path d="M605.3888 729.0368H408.0128c-5.632 0-10.24-4.608-10.24-10.24v-57.0368c-76.9024-37.5296-127.6416-111.7696-132.864-195.0208-0.3584-5.632 3.9424-10.496 9.5744-10.8544 5.6832-0.3072 10.496 3.9424 10.8544 9.5744 4.9152 77.5168 53.1968 146.5344 126.0032 180.0704l0.9216 0.4096c3.6352 1.6896 5.9392 5.3248 5.9392 9.3184v53.2992h176.896v-53.2992c0-3.9936 2.3552-7.68 5.9904-9.3184 77.3632-35.2256 127.3344-111.2576 127.3344-193.7408 0-118.0672-99.4816-214.1184-221.7984-214.1184-64.6656 0-125.952 27.1872-168.192 74.5472-3.7888 4.1984-10.24 4.608-14.4384 0.8192-4.1984-3.7888-4.608-10.24-0.8192-14.4384 46.08-51.712 112.9984-81.408 183.5008-81.408 133.5808 0 242.2784 105.216 242.2784 234.5984 0 88.32-52.1216 169.8816-133.3248 209.5616v57.0368c0 5.6832-4.5568 10.24-10.24 10.24z" fill="#010101" fill-opacity="1" p-id="1735" />\r
    <path d="M277.4528 427.8784c-0.5632 0-1.0752-0.0512-1.6384-0.1536a10.25024 10.25024 0 0 1-8.4992-11.7248c3.4816-21.8624 10.1888-43.0592 19.8144-63.0784 2.4576-5.12 8.6016-7.2192 13.6704-4.7616 5.0688 2.4576 7.2192 8.6016 4.7616 13.6704-8.8064 18.176-14.848 37.5296-18.0224 57.3952-0.8192 5.0688-5.1712 8.6528-10.0864 8.6528z" fill="#010101" fill-opacity="1" p-id="1736" />\r
    <path d="M606.4128 954.5728H478.3104c-39.5264 0-71.5776-32.0512-71.5776-71.5776v-164.1984h271.2576v164.1984c0 39.5776-32.0512 71.5776-71.5776 71.5776z" fill="#58DDDA" fill-opacity="1" p-id="1737" />\r
    <path d="M573.7472 724.9408v178.432s3.9424 38.7072-31.3856 51.2512c51.968 0 99.328-3.1744 99.328-86.528v-143.1552h-67.9424z" fill="#3BCCC8" fill-opacity="1" p-id="1738" />\r
    <path d="M570.1632 964.8128H442.0608c-45.1072 0-81.8176-36.7104-81.8176-81.8176v-164.1984c0-5.632 4.608-10.24 10.24-10.24h271.2576c5.632 0 10.24 4.608 10.24 10.24v164.1984c0 45.1584-36.7104 81.8176-81.8176 81.8176z m-189.44-235.776v153.9584c0 33.792 27.4944 61.3376 61.3376 61.3376h128.1024c33.792 0 61.3376-27.4944 61.3376-61.3376v-153.9584H380.7232z" fill="#010101" fill-opacity="1" p-id="1739" />\r
    <path d="M525.2608 175.0528c-16.9472 0-30.72-13.7728-30.72-30.72V92.5696c0-16.9472 13.7728-30.72 30.72-30.72s30.72 13.7728 30.72 30.72v51.7632c0 16.9472-13.7216 30.72-30.72 30.72zM361.4208 215.5008c-10.752 0-21.1968-5.632-26.8288-15.6672l-25.344-45.1072c-8.2944-14.7968-3.072-33.536 11.7248-41.8304s33.4848-3.072 41.8304 11.7248l25.344 45.1072c8.2944 14.7968 3.072 33.536-11.7248 41.8304-4.7104 2.6624-9.8816 3.9424-15.0016 3.9424zM246.3744 337.2032c-5.3248 0-10.7008-1.3824-15.5648-4.2496l-44.544-26.3168c-14.592-8.6016-19.456-27.4432-10.8544-42.0864 8.6016-14.592 27.4944-19.456 42.0864-10.8544l44.544 26.3168c14.592 8.6016 19.456 27.4432 10.8544 42.0864a30.91968 30.91968 0 0 1-26.5216 15.104zM199.2704 499.5584h-0.2048l-51.7632-0.3072a30.71488 30.71488 0 0 1-30.5152-30.9248c0.1024-16.896 13.824-30.5152 30.72-30.5152h0.2048l51.7632 0.3072c16.9472 0.1024 30.6176 13.9264 30.5152 30.9248-0.1024 16.896-13.824 30.5152-30.72 30.5152zM198.3488 687.2064a30.69952 30.69952 0 0 1-15.7184-57.088l44.4928-26.4704c14.592-8.704 33.4336-3.8912 42.0864 10.7008 8.6528 14.592 3.8912 33.4336-10.7008 42.0864l-44.4928 26.4704c-4.9152 2.9184-10.3424 4.3008-15.6672 4.3008zM688.0256 215.5008c-5.12 0-10.24-1.28-15.0016-3.9424a30.67904 30.67904 0 0 1-11.7248-41.8304l25.344-45.1072c8.2944-14.7968 27.0336-20.0192 41.8304-11.7248a30.67904 30.67904 0 0 1 11.7248 41.8304l-25.344 45.1072a30.7712 30.7712 0 0 1-26.8288 15.6672zM803.072 337.2032c-10.496 0-20.736-5.376-26.4704-15.104-8.6528-14.592-3.7888-33.4336 10.8032-42.0864l44.544-26.3168a30.76096 30.76096 0 0 1 42.0864 10.8032c8.6528 14.592 3.7888 33.4336-10.8032 42.0864l-44.544 26.3168c-4.9152 2.9184-10.2912 4.3008-15.616 4.3008zM850.176 499.5584c-16.896 0-30.6176-13.6192-30.72-30.5152-0.1024-16.9472 13.568-30.8224 30.5152-30.9248l51.7632-0.3072h0.2048c16.896 0 30.6176 13.6192 30.72 30.5152 0.1024 16.9472-13.568 30.8224-30.5152 30.9248l-51.7632 0.3072h-0.2048zM851.0976 687.2064c-5.3248 0-10.752-1.3824-15.6672-4.3008l-44.4928-26.4704c-14.592-8.6528-19.3536-27.5456-10.7008-42.0864a30.65344 30.65344 0 0 1 42.0864-10.7008l44.4928 26.4704a30.69952 30.69952 0 1 1-15.7184 57.088z" p-id="1740" />\r
    <path d="M504.7808 185.2928c-22.5792 0-40.96-18.3808-40.96-40.96V92.5696c0-22.5792 18.3808-40.96 40.96-40.96s40.96 18.3808 40.96 40.96v51.7632c0 22.5792-18.3808 40.96-40.96 40.96z m0-113.2032c-11.3152 0-20.48 9.1648-20.48 20.48v51.7632c0 11.3152 9.1648 20.48 20.48 20.48s20.48-9.1648 20.48-20.48V92.5696c0-11.264-9.1648-20.48-20.48-20.48zM340.9408 225.7408c-14.7968 0-28.5184-7.9872-35.7376-20.8896l-25.344-45.1072a40.77568 40.77568 0 0 1-3.7376-31.1296 40.4992 40.4992 0 0 1 19.4048-24.6272c19.712-11.0592 44.6976-4.0448 55.7568 15.6672l25.344 45.1072c5.376 9.5232 6.656 20.5824 3.7376 31.1296a40.4992 40.4992 0 0 1-19.4048 24.6272 41.3952 41.3952 0 0 1-20.0192 5.2224z m-25.3952-106.5472c-3.3792 0-6.8096 0.8192-9.984 2.6112-4.7616 2.6624-8.192 7.0656-9.6768 12.3392a20.3776 20.3776 0 0 0 1.8432 15.5648l25.344 45.1072a20.55168 20.55168 0 0 0 17.8688 10.4448c3.4816 0 6.9632-0.9216 9.984-2.6112 4.7616-2.6624 8.192-7.0656 9.6768-12.3392a20.3776 20.3776 0 0 0-1.8432-15.5648l-25.344-45.1072a20.39296 20.39296 0 0 0-17.8688-10.4448zM225.8944 347.4432a40.8064 40.8064 0 0 1-20.7872-5.6832l-44.544-26.3168a40.64256 40.64256 0 0 1-18.8416-25.0368c-2.7136-10.5984-1.1776-21.6064 4.4032-31.0272a40.64256 40.64256 0 0 1 25.0368-18.8416c10.5984-2.7136 21.6064-1.1776 31.0272 4.4032l44.544 26.3168a40.64256 40.64256 0 0 1 18.8416 25.0368c2.7136 10.5984 1.1776 21.6064-4.4032 31.0272a41.15456 41.15456 0 0 1-35.2768 20.1216z m-44.4928-87.7568c-1.6896 0-3.4304 0.2048-5.12 0.6656-5.3248 1.3824-9.728 4.7104-12.544 9.4208-2.7648 4.7104-3.584 10.24-2.2016 15.5136 1.3824 5.2736 4.7104 9.728 9.4208 12.544l44.544 26.3168c3.1744 1.8432 6.7584 2.8672 10.3936 2.8672 7.2192 0 13.9776-3.84 17.664-10.0864 2.7648-4.7104 3.584-10.24 2.2016-15.5136-1.3824-5.2736-4.7104-9.728-9.4208-12.544l-44.544-26.3168c-3.2256-1.9456-6.7584-2.8672-10.3936-2.8672zM178.7904 509.7984h-0.2048l-51.8144-0.3072c-22.5792-0.1536-40.8576-18.6368-40.704-41.216 0.1536-22.4256 18.5344-40.704 40.96-40.704l52.0192 0.3072c22.5792 0.1536 40.8576 18.6368 40.704 41.216-0.1024 22.4768-18.4832 40.704-40.96 40.704zM127.1808 448.0512a20.47488 20.47488 0 1 0-0.2048 40.96l51.7632 0.3072 0.1536 10.24v-10.24a20.47488 20.47488 0 1 0 0.1024-40.96l-51.8144-0.3072zM177.8688 697.4464c-14.3872 0-27.904-7.68-35.2256-20.0192a41.01632 41.01632 0 0 1 14.2336-56.1664l44.4928-26.4704a40.9088 40.9088 0 0 1 31.0272-4.5056c10.5984 2.7136 19.5072 9.3696 25.088 18.7392a41.01632 41.01632 0 0 1-14.2336 56.1664l-44.4928 26.4704a40.77568 40.77568 0 0 1-20.8896 5.7856z m44.3904-87.9104c-3.6352 0-7.2192 0.9728-10.4448 2.8672l-44.4928 26.4704c-4.7104 2.816-8.0384 7.2704-9.3696 12.544a20.3264 20.3264 0 0 0 2.2528 15.5136 20.4288 20.4288 0 0 0 17.6128 10.0352c3.6352 0 7.2704-0.9728 10.4448-2.8672l44.4928-26.4704c4.7104-2.816 8.0384-7.2704 9.3696-12.544 1.3312-5.3248 0.5632-10.8032-2.2528-15.5136s-7.2704-8.0384-12.544-9.3696a19.1488 19.1488 0 0 0-5.0688-0.6656z" fill="#010101" p-id="1741" />\r
    <path d="M667.5456 225.7408c-6.9632 0-13.9264-1.792-20.0192-5.2736a40.96 40.96 0 0 1-19.4048-24.6272 40.5504 40.5504 0 0 1 3.7376-31.1296l25.344-45.1072c11.0592-19.712 36.096-26.7264 55.7568-15.6672a40.96 40.96 0 0 1 19.4048 24.6272 40.5504 40.5504 0 0 1-3.7376 31.1296L703.2832 204.8a41.088 41.088 0 0 1-35.7376 20.9408z m25.3952-106.5472c-7.168 0-14.1312 3.7888-17.92 10.4448l-25.344 45.1072a20.3776 20.3776 0 0 0-1.8432 15.5648c1.4848 5.2736 4.9152 9.6256 9.6768 12.3392 3.072 1.7408 6.5024 2.6112 9.984 2.6112 7.424 0 14.2848-3.9936 17.8688-10.4448l25.344-45.1072c2.6624-4.7616 3.328-10.2912 1.8432-15.5648a20.49024 20.49024 0 0 0-9.6768-12.3392c-3.1232-1.792-6.5536-2.6112-9.9328-2.6112z" fill="#010101" p-id="1742" />\r
    <path d="M782.592 347.4432c-14.4384 0-27.9552-7.7312-35.2768-20.1216a41.0368 41.0368 0 0 1 14.4384-56.1152l44.544-26.3168c19.456-11.4688 44.6464-5.0176 56.1152 14.4384s5.0176 44.5952-14.4384 56.1152l-44.544 26.3168a41.64608 41.64608 0 0 1-20.8384 5.6832z m44.4928-87.7568c-3.5328 0-7.1168 0.9216-10.3936 2.8672l-44.544 26.3168a20.51584 20.51584 0 0 0-7.2192 28.0576 20.67456 20.67456 0 0 0 17.664 10.0864c3.6352 0 7.2192-0.9728 10.3936-2.8672l44.544-26.3168a20.51584 20.51584 0 0 0 7.2192-28.0576 20.44928 20.44928 0 0 0-17.664-10.0864z" fill="#010101" p-id="1743" />\r
    <path d="M829.696 509.7984c-22.4256 0-40.8064-18.2784-40.96-40.704-0.1536-22.5792 18.1248-41.0624 40.704-41.216l51.7632-0.3072c22.6816 0 41.0624 18.2784 41.216 40.704 0.1536 22.5792-18.1248 41.0624-40.704 41.216l-51.7632 0.3072h-0.256z m51.712-61.7472l-51.8656 0.3072a20.5056 20.5056 0 0 0-20.3776 20.5824 20.55168 20.55168 0 0 0 20.48 20.3776h0.2048l51.6608-0.3072a20.5056 20.5056 0 0 0 20.3776-20.5824 20.52096 20.52096 0 0 0-20.48-20.3776z" fill="#010101" p-id="1744" />\r
    <path d="M830.6176 697.4464c-7.3216 0-14.592-1.9968-20.8896-5.7856l-44.4928-26.4704a40.37632 40.37632 0 0 1-18.7392-25.1392c-2.7136-10.5984-1.0752-21.6064 4.5056-31.0272a40.66816 40.66816 0 0 1 25.088-18.7904 40.9088 40.9088 0 0 1 31.0272 4.5056l44.4416 26.4704c19.4048 11.5712 25.8048 36.7104 14.2848 56.1152a41.02144 41.02144 0 0 1-35.2256 20.1216z m-44.3904-87.9104c-1.6896 0-3.3792 0.2048-5.0688 0.6144a20.0704 20.0704 0 0 0-12.544 9.3696c-2.816 4.7104-3.584 10.24-2.2528 15.5136a20.0704 20.0704 0 0 0 9.3696 12.544l44.4928 26.4704c3.1744 1.8944 6.8096 2.8672 10.4448 2.8672 7.3216 0 13.8752-3.7376 17.6128-10.0352 2.816-4.7104 3.584-10.1888 2.2528-15.5136a20.0704 20.0704 0 0 0-9.3696-12.544l-44.4928-26.4704c-3.2256-1.8432-6.8096-2.816-10.4448-2.816z" fill="#010101" p-id="1745" />\r
    <path d="M547.584 729.0368c-5.632 0-10.24-4.608-10.24-10.24V511.8976H470.9376v206.9504c0 5.632-4.608 10.24-10.24 10.24s-10.24-4.608-10.24-10.24V511.8976h-33.024c-15.0016 0-28.0064-9.1136-33.1264-23.2448s-0.9216-29.44 10.5984-39.0656l18.2784-15.2064a35.00032 35.00032 0 0 1 37.4784-4.8128c12.4928 5.888 20.2752 18.0736 20.2752 31.8976v29.952h66.4576v-29.7472c0-13.824 7.7824-26.0608 20.3264-31.8976 12.544-5.8368 26.88-3.9936 37.5296 4.9152l17.9712 15.0016c11.52 9.6256 15.616 24.9344 10.496 39.0656-5.12 14.08-18.1248 23.1936-33.1264 23.1936h-32.7168v206.9504c-0.0512 5.5808-4.608 10.1376-10.2912 10.1376z m10.24-237.6192h32.7168c9.5744 0 13.056-7.424 13.8752-9.728 0.8192-2.304 2.9696-10.1888-4.4032-16.3328l-17.9712-15.0016c-4.5056-3.7888-10.3936-4.5568-15.7184-2.048s-8.4992 7.4752-8.4992 13.3632v29.7472z m-122.2144-44.8a14.336 14.336 0 0 0-9.3184 3.4816l-18.2784 15.2064c-7.3728 6.144-5.2736 14.08-4.4544 16.3328 0.8192 2.304 4.2496 9.728 13.8752 9.728h33.024v-29.952c0-5.888-3.1744-10.8544-8.4992-13.3632a15.872 15.872 0 0 0-6.3488-1.4336z" fill="#010101" fill-opacity="1" p-id="1746" />\r
    <path d="M339.2 449.4336c-0.6144 0-1.2288-0.0512-1.8944-0.1536-5.5808-1.024-9.216-6.3488-8.192-11.9296a256.8704 256.8704 0 0 1 9.9328-37.6832 10.30144 10.30144 0 0 1 13.056-6.2976c5.3248 1.8944 8.1408 7.7312 6.2976 13.056a236.6976 236.6976 0 0 0-9.1136 34.6624c-0.9216 4.9152-5.2224 8.3456-10.0864 8.3456z" fill="#FFFFFF" fill-opacity="1" p-id="1747" />\r
    <path d="M364.4928 378.6752c-1.7408 0-3.4816-0.4608-5.12-1.3824a10.22464 10.22464 0 0 1-3.7376-13.9776C407.552 273.5104 503.1424 266.496 507.1872 266.24c5.6832-0.3584 10.496 3.9424 10.8544 9.5744s-3.9424 10.496-9.5744 10.8544c-0.9728 0.0512-88.8832 6.8608-135.168 86.8864-1.8432 3.2768-5.2736 5.12-8.8064 5.12z" fill="#FFFFFF" fill-opacity="1" p-id="1748" />\r
    <path d="M437.4528 900.1984c-5.632 0-10.24-4.608-10.24-10.24v-108.8c0-5.632 4.608-10.24 10.24-10.24s10.24 4.608 10.24 10.24v108.8c0 5.6832-4.5568 10.24-10.24 10.24z" fill="#FFFFFF" fill-opacity="1" p-id="1749" />\r
</symbol><symbol viewBox="0 0 1029 1261"   id="svg-bot-2"><defs node-id="91"><linearGradient gradientUnits="objectBoundingBox" id="svg-bot-2_linearGradient-1" node-id="5" spreadMethod="pad" x1="0" x2="1" y1="0.5" y2="0.5"><stop offset="0" stop-color="#252424" /><stop offset="1" stop-color="#181818" /></linearGradient><linearGradient gradientUnits="objectBoundingBox" id="svg-bot-2_linearGradient-2" node-id="8" spreadMethod="pad" x1="0.0161995" x2="1" y1="0.5" y2="0.5"><stop offset="0" stop-color="#a5a5a5" /><stop offset="1" stop-color="#7b7a7a" /></linearGradient><linearGradient gradientUnits="objectBoundingBox" id="svg-bot-2_linearGradient-3" node-id="11" spreadMethod="pad" x1="0" x2="1" y1="0.5" y2="0.5"><stop offset="0" stop-color="#252424" /><stop offset="1" stop-color="#181818" /></linearGradient></defs><g node-id="110"><g node-id="111"><g node-id="112"><g node-id="121"><g node-id="129"><path d="M 371.40 1196.35 L 455.97 1198.74 L 455.97 1241.75 L 456.24 1243.70 L 455.97 1245.65 L 455.97 1250.28 L 453.11 1250.19 L 450.84 1252.11 L 447.87 1253.96 L 444.09 1255.75 L 440.17 1257.19 L 435.68 1258.44 L 430.57 1259.51 L 425.42 1260.25 L 419.89 1260.71 L 413.96 1260.89 L 407.32 1260.67 L 401.21 1260.09 L 395.57 1259.18 L 390.00 1257.86 L 385.26 1256.32 L 381.26 1254.59 L 378.32 1252.96 L 376.02 1251.30 L 374.26 1249.62 L 372.96 1247.92 L 371.40 1247.88 L 371.40 1196.35 Z" fill="url(#svg-bot-2_linearGradient-1)" fill-rule="evenodd" group-id="1,2,3,12,20" id="svg-bot-2_形状结合" node-id="20" stroke="currentColor" target-height="64.54004" target-width="84.84" target-x="371.4" target-y="1196.35" /><path d="M 456.24 1201.15 L 456.02 1202.85 L 455.43 1204.51 L 454.42 1206.16 L 452.92 1207.84 L 450.61 1209.72 L 447.63 1211.54 L 443.85 1213.30 L 439.94 1214.71 L 435.48 1215.94 L 430.41 1216.99 L 425.30 1217.71 L 419.83 1218.17 L 413.96 1218.34 L 408.08 1218.17 L 402.61 1217.71 L 397.50 1216.99 L 392.43 1215.94 L 387.97 1214.71 L 384.06 1213.30 L 380.28 1211.54 L 377.30 1209.72 L 375.00 1207.84 L 373.49 1206.16 L 372.48 1204.51 L 371.89 1202.85 L 371.67 1201.15 L 371.89 1199.44 L 372.48 1197.78 L 373.49 1196.13 L 375.00 1194.45 L 377.30 1192.57 L 380.28 1190.75 L 384.06 1188.99 L 387.97 1187.58 L 392.43 1186.35 L 397.50 1185.31 L 402.61 1184.58 L 408.08 1184.12 L 413.96 1183.96 L 419.83 1184.12 L 425.30 1184.58 L 430.41 1185.31 L 435.48 1186.35 L 439.94 1187.58 L 443.85 1188.99 L 447.63 1190.75 L 450.61 1192.57 L 452.92 1194.45 L 454.42 1196.13 L 455.43 1197.78 L 456.02 1199.44 L 456.24 1201.15 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,3,12,20" id="svg-bot-2_形状结合" node-id="21" stroke="none" target-height="34.380005" target-width="84.56998" target-x="371.67" target-y="1183.96" /></g><g node-id="130"><path d="M 401.18 1166.27 L 429.37 1168.00 L 429.37 1205.18 L 428.61 1205.13 L 427.51 1206.04 L 425.87 1206.90 L 423.55 1207.70 L 419.83 1208.43 L 415.27 1208.71 L 411.44 1208.51 L 408.16 1207.99 L 405.18 1207.11 L 403.10 1206.09 L 401.98 1205.18 L 401.38 1204.30 L 401.18 1203.41 L 401.18 1203.45 L 401.18 1166.27 Z" fill="url(#svg-bot-2_linearGradient-2)" fill-rule="evenodd" group-id="1,2,3,12,21" id="svg-bot-2_形状结合备份" node-id="23" stroke="none" target-height="42.43994" target-width="28.190002" target-x="401.18" target-y="1166.27" /><path d="M 429.37 1164.59 L 429.16 1165.50 L 428.56 1166.40 L 427.44 1167.31 L 425.36 1168.36 L 422.39 1169.25 L 419.11 1169.78 L 415.27 1169.98 L 411.44 1169.78 L 408.16 1169.25 L 405.18 1168.36 L 403.10 1167.31 L 401.99 1166.40 L 401.39 1165.50 L 401.18 1164.59 L 401.39 1163.68 L 401.99 1162.78 L 403.10 1161.87 L 405.18 1160.83 L 408.16 1159.94 L 411.44 1159.40 L 415.27 1159.20 L 419.11 1159.40 L 422.39 1159.94 L 425.36 1160.83 L 427.44 1161.87 L 428.56 1162.78 L 429.16 1163.68 L 429.37 1164.59 Z" fill="#585858" fill-rule="evenodd" group-id="1,2,3,12,21" id="svg-bot-2_形状结合备份-2" node-id="24" stroke="none" target-height="10.780029" target-width="28.190002" target-x="401.18" target-y="1159.2" /></g></g><g node-id="122"><g node-id="131"><path d="M 26.26 1034.56 L 110.83 1036.96 L 110.83 1079.96 L 111.10 1081.91 L 110.83 1083.86 L 110.83 1088.49 L 107.97 1088.41 L 105.70 1090.32 L 102.73 1092.18 L 98.95 1093.97 L 95.03 1095.40 L 90.54 1096.66 L 85.43 1097.72 L 80.28 1098.46 L 74.75 1098.93 L 68.81 1099.10 L 62.18 1098.89 L 56.07 1098.31 L 50.43 1097.40 L 44.86 1096.08 L 40.12 1094.54 L 36.11 1092.81 L 33.18 1091.17 L 30.88 1089.51 L 29.12 1087.84 L 27.82 1086.14 L 26.26 1086.09 L 26.26 1034.56 Z" fill="url(#svg-bot-2_linearGradient-1)" fill-rule="evenodd" group-id="1,2,3,13,22" id="svg-bot-2_形状结合" node-id="27" stroke="none" target-height="64.53992" target-width="84.84" target-x="26.26" target-y="1034.56" /><path d="M 111.10 1039.36 L 110.88 1041.06 L 110.29 1042.72 L 109.28 1044.38 L 107.77 1046.05 L 105.47 1047.93 L 102.49 1049.76 L 98.71 1051.52 L 94.80 1052.92 L 90.34 1054.16 L 85.27 1055.20 L 80.16 1055.93 L 74.69 1056.38 L 68.81 1056.55 L 62.94 1056.38 L 57.47 1055.93 L 52.36 1055.20 L 47.29 1054.16 L 42.83 1052.92 L 38.92 1051.52 L 35.14 1049.76 L 32.16 1047.93 L 29.85 1046.05 L 28.35 1044.38 L 27.34 1042.72 L 26.75 1041.06 L 26.53 1039.36 L 26.75 1037.66 L 27.34 1036.00 L 28.35 1034.34 L 29.85 1032.67 L 32.16 1030.79 L 35.14 1028.96 L 38.92 1027.21 L 42.83 1025.80 L 47.29 1024.56 L 52.36 1023.52 L 57.47 1022.79 L 62.94 1022.34 L 68.81 1022.17 L 74.69 1022.34 L 80.16 1022.79 L 85.27 1023.52 L 90.34 1024.56 L 94.80 1025.80 L 98.71 1027.21 L 102.49 1028.96 L 105.47 1030.79 L 107.77 1032.67 L 109.28 1034.34 L 110.29 1036.00 L 110.88 1037.66 L 111.10 1039.36 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,3,13,22" id="svg-bot-2_形状结合" node-id="28" stroke="none" target-height="34.380066" target-width="84.57" target-x="26.53" target-y="1022.17" /></g><g node-id="132"><path d="M 56.04 1004.49 L 84.23 1006.22 L 84.23 1043.39 L 83.47 1043.34 L 82.37 1044.25 L 80.73 1045.12 L 78.41 1045.92 L 74.69 1046.64 L 70.13 1046.93 L 66.30 1046.73 L 63.02 1046.20 L 60.04 1045.33 L 57.96 1044.30 L 56.84 1043.40 L 56.24 1042.52 L 56.04 1041.62 L 56.04 1041.66 L 56.04 1004.49 Z" fill="url(#svg-bot-2_linearGradient-2)" fill-rule="evenodd" group-id="1,2,3,13,23" id="svg-bot-2_形状结合备份" node-id="30" stroke="none" target-height="42.440063" target-width="28.190002" target-x="56.04" target-y="1004.49" /><path d="M 84.23 1002.81 L 84.02 1003.72 L 83.42 1004.61 L 82.30 1005.53 L 80.22 1006.57 L 77.25 1007.46 L 73.97 1008.00 L 70.13 1008.20 L 66.30 1008.00 L 63.02 1007.46 L 60.04 1006.57 L 57.96 1005.53 L 56.84 1004.61 L 56.24 1003.72 L 56.04 1002.81 L 56.24 1001.90 L 56.84 1001.00 L 57.96 1000.09 L 60.04 999.04 L 63.02 998.15 L 66.30 997.62 L 70.13 997.41 L 73.97 997.62 L 77.25 998.15 L 80.22 999.04 L 82.30 1000.09 L 83.42 1001.00 L 84.02 1001.90 L 84.23 1002.81 Z" fill="#585858" fill-rule="evenodd" group-id="1,2,3,13,23" id="svg-bot-2_形状结合备份-2" node-id="31" stroke="none" target-height="10.790039" target-width="28.190002" target-x="56.04" target-y="997.41" /></g></g><g node-id="123"><path d="M 790.71 921.36 L 875.28 926.08 L 875.28 1018.93 L 875.55 1020.88 L 875.28 1022.83 L 875.28 1027.46 L 872.50 1027.31 L 870.23 1029.23 L 867.27 1031.10 L 863.49 1032.90 L 859.56 1034.35 L 855.07 1035.61 L 849.94 1036.69 L 844.77 1037.43 L 839.22 1037.90 L 833.26 1038.07 L 827.79 1037.93 L 822.66 1037.53 L 817.83 1036.89 L 813.05 1035.98 L 808.77 1034.90 L 804.95 1033.65 L 801.24 1032.11 L 798.19 1030.48 L 795.72 1028.80 L 793.54 1026.79 L 792.08 1024.79 L 791.23 1022.78 L 790.71 1022.75 L 790.71 921.36 Z" fill="url(#svg-bot-2_linearGradient-3)" fill-rule="evenodd" group-id="1,2,3,14" id="svg-bot-2_形状结合" node-id="33" stroke="none" target-height="116.70996" target-width="84.839966" target-x="790.71" target-y="921.36" /><path d="M 875.55 924.41 L 875.33 926.11 L 874.74 927.77 L 873.72 929.42 L 872.22 931.10 L 869.92 932.98 L 866.94 934.80 L 863.16 936.56 L 859.25 937.97 L 854.79 939.20 L 849.72 940.25 L 844.61 940.97 L 839.13 941.43 L 833.26 941.60 L 827.39 941.43 L 821.92 940.97 L 816.81 940.25 L 811.74 939.20 L 807.27 937.97 L 803.36 936.56 L 799.59 934.80 L 796.61 932.98 L 794.30 931.10 L 792.80 929.42 L 791.79 927.77 L 791.19 926.11 L 790.98 924.41 L 791.19 922.71 L 791.79 921.04 L 792.80 919.39 L 794.30 917.72 L 796.61 915.83 L 799.59 914.01 L 803.36 912.25 L 807.27 910.84 L 811.74 909.61 L 816.81 908.57 L 821.92 907.84 L 827.39 907.38 L 833.26 907.22 L 839.13 907.38 L 844.61 907.84 L 849.72 908.57 L 854.79 909.61 L 859.25 910.84 L 863.16 912.25 L 866.94 914.01 L 869.92 915.83 L 872.22 917.72 L 873.72 919.39 L 874.74 921.04 L 875.33 922.71 L 875.55 924.41 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,3,14" id="svg-bot-2_形状结合" node-id="34" stroke="none" target-height="34.380005" target-width="84.57001" target-x="790.98" target-y="907.22" /></g><g node-id="124"><g node-id="133"><path d="M 470.06 779.90 L 554.63 784.61 L 554.63 877.47 L 554.90 879.42 L 554.63 881.37 L 554.63 886.00 L 551.85 885.84 L 549.58 887.76 L 546.63 889.63 L 542.84 891.44 L 538.92 892.88 L 534.42 894.15 L 529.29 895.22 L 524.12 895.96 L 518.57 896.43 L 512.62 896.61 L 507.15 896.46 L 502.01 896.06 L 497.19 895.43 L 492.40 894.52 L 488.12 893.43 L 484.30 892.18 L 480.59 890.64 L 477.54 889.02 L 475.07 887.33 L 472.89 885.32 L 471.44 883.32 L 470.59 881.31 L 470.06 881.28 L 470.06 779.90 Z" fill="url(#svg-bot-2_linearGradient-3)" fill-rule="evenodd" group-id="1,2,3,15,24" id="svg-bot-2_形状结合" node-id="37" stroke="none" target-height="116.70996" target-width="84.84003" target-x="470.06" target-y="779.9" /><path d="M 554.90 782.94 L 554.69 784.64 L 554.09 786.30 L 553.08 787.96 L 551.58 789.63 L 549.27 791.51 L 546.29 793.34 L 542.51 795.09 L 538.60 796.50 L 534.14 797.74 L 529.07 798.78 L 523.96 799.51 L 518.49 799.96 L 512.62 800.13 L 506.75 799.96 L 501.27 799.51 L 496.16 798.78 L 491.09 797.74 L 486.63 796.50 L 482.72 795.09 L 478.94 793.34 L 475.96 791.51 L 473.66 789.63 L 472.16 787.96 L 471.14 786.30 L 470.55 784.64 L 470.33 782.94 L 470.55 781.24 L 471.14 779.58 L 472.16 777.92 L 473.66 776.25 L 475.96 774.37 L 478.94 772.54 L 482.72 770.78 L 486.63 769.38 L 491.09 768.14 L 496.16 767.10 L 501.27 766.37 L 506.75 765.92 L 512.62 765.75 L 518.49 765.92 L 523.96 766.37 L 529.07 767.10 L 534.14 768.14 L 538.60 769.38 L 542.51 770.78 L 546.29 772.54 L 549.27 774.37 L 551.58 776.25 L 553.08 777.92 L 554.09 779.58 L 554.69 781.24 L 554.90 782.94 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,3,15,24" id="svg-bot-2_形状结合" node-id="38" stroke="none" target-height="34.380005" target-width="84.57004" target-x="470.33" target-y="765.75" /></g><g node-id="134"><path d="M 499.84 748.07 L 528.03 749.79 L 528.03 786.97 L 527.27 786.92 L 526.17 787.83 L 524.54 788.70 L 522.21 789.50 L 518.49 790.22 L 513.93 790.51 L 510.10 790.31 L 506.82 789.78 L 503.84 788.90 L 501.76 787.88 L 500.64 786.98 L 500.05 786.10 L 499.84 785.20 L 499.84 785.24 L 499.84 748.07 Z" fill="url(#svg-bot-2_linearGradient-2)" fill-rule="evenodd" group-id="1,2,3,15,25" id="svg-bot-2_形状结合备份" node-id="40" stroke="none" target-height="42.440002" target-width="28.190033" target-x="499.84" target-y="748.07" /><path d="M 528.03 746.38 L 527.82 747.30 L 527.22 748.19 L 526.10 749.11 L 524.02 750.15 L 521.05 751.04 L 517.77 751.58 L 513.93 751.78 L 510.10 751.58 L 506.82 751.04 L 503.84 750.15 L 501.76 749.11 L 500.65 748.19 L 500.05 747.30 L 499.84 746.38 L 500.05 745.47 L 500.65 744.58 L 501.76 743.66 L 503.84 742.62 L 506.82 741.73 L 510.10 741.19 L 513.93 740.99 L 517.77 741.19 L 521.05 741.73 L 524.02 742.62 L 526.10 743.66 L 527.22 744.58 L 527.82 745.47 L 528.03 746.38 Z" fill="#585858" fill-rule="evenodd" group-id="1,2,3,15,25" id="svg-bot-2_形状结合备份-2" node-id="41" stroke="none" target-height="10.790039" target-width="28.190033" target-x="499.84" target-y="740.99" /></g></g><g node-id="125"><path d="M 457.95 764.75 L 889.37 966.63 L 438.35 1214.19 L 0.50 1013.50 Z" fill="#c0c0c0" fill-rule="evenodd" group-id="1,2,3,16" id="svg-bot-2_矩形备份-52" node-id="43" stroke="none" target-height="449.43994" target-width="888.87" target-x="0.5" target-y="764.75" /><path d="M 889.37 554.43 L 889.37 966.63 L 438.35 1214.19 L 436.37 807.89 L 889.37 554.43 Z M 843.51 614.67 L 482.24 816.81 L 483.81 1089.24 L 843.51 891.80 L 843.51 614.67 Z" fill="#d8d8d8" fill-rule="evenodd" group-id="1,2,3,16" id="svg-bot-2_形状结合" node-id="44" stroke="none" target-height="659.75995" target-width="453" target-x="436.37" target-y="554.43" /><path d="M 2.65 603.14 L 441.77 807.89 L 440.11 1215.96 L 1.00 1013.00 L 2.65 603.14 Z M 77.41 738.72 L 44.34 760.22 L 43.24 989.00 L 68.96 1027.86 L 375.06 1170.15 L 407.65 1149.79 L 408.72 929.24 L 377.59 879.51 L 77.41 738.72 Z" fill="#e8e6e6" fill-rule="evenodd" group-id="1,2,3,16" id="svg-bot-2_形状结合" node-id="45" stroke="none" target-height="612.81995" target-width="440.77" target-x="1" target-y="603.14" /><path d="M 4.56 607.46 L 445.29 349.30 L 888.50 555.50 L 437.96 814.33 Z" fill="#f7f7f7" fill-rule="evenodd" group-id="1,2,3,16" id="svg-bot-2_路径-16备份-2" node-id="46" stroke="none" target-height="465.03003" target-width="883.94" target-x="4.56" target-y="349.3" /><path d="M 3.56 595.67 L 68.66 553.43 L 510.87 763.75 L 436.96 802.55 Z" fill="#2a7b5a" fill-rule="evenodd" group-id="1,2,3,16" id="svg-bot-2_路径-16备份-2" node-id="47" stroke="none" target-height="249.12" target-width="507.31" target-x="3.56" target-y="553.43" /><path d="M 3.56 595.67 L 3.95 607.35 L 435.37 812.28 L 436.96 802.55 Z" fill="#286f52" fill-rule="evenodd" group-id="1,2,3,16" id="svg-bot-2_路径-16备份-2" node-id="48" stroke="none" target-height="216.61005" target-width="433.4" target-x="3.56" target-y="595.67" /><path d="M 435.37 812.28 L 510.87 774.53 L 510.87 763.75 L 435.37 801.50 Z" fill="#1d5940" fill-rule="evenodd" group-id="1,2,3,16" id="svg-bot-2_路径-16备份-2" node-id="49" stroke="none" target-height="48.53003" target-width="75.5" target-x="435.37" target-y="763.75" /></g></g><g node-id="113"><g node-id="126"><g node-id="135"><path d="M 866.81 262.39 L 854.29 268.65 L 854.29 563.61 L 866.81 557.36 Z" fill="#dbdbdb" fill-rule="evenodd" group-id="1,2,4,17,26" id="svg-bot-2_矩形" node-id="52" stroke="none" target-height="301.21997" target-width="12.52002" target-x="854.29" target-y="262.39" /></g><path d="M 854.29 268.65 L 840.99 261.61 L 840.99 556.57 L 854.29 563.61 Z" fill="#bab9b9" fill-rule="evenodd" group-id="1,2,4,17,27" id="svg-bot-2_矩形备份-17" node-id="53" stroke="none" target-height="302" target-width="13.299988" target-x="840.99" target-y="261.61" /></g><g node-id="127"><g node-id="137"><path d="M 456.96 79.04 L 444.44 85.29 L 444.44 380.25 L 456.96 374.00 Z" fill="#dbdbdb" fill-rule="evenodd" group-id="1,2,4,18,28" id="svg-bot-2_矩形" node-id="55" stroke="none" target-height="301.21" target-width="12.519989" target-x="444.44" target-y="79.04" /></g><path d="M 444.44 85.29 L 431.13 78.25 L 431.13 373.22 L 444.44 380.25 Z" fill="#bab9b9" fill-rule="evenodd" group-id="1,2,4,18,29" id="svg-bot-2_矩形备份-17" node-id="56" stroke="none" target-height="302" target-width="13.309998" target-x="431.13" target-y="78.25" /></g><g node-id="128"><path d="M 242.23 158.40 L 803.09 422.65 L 803.09 435.78 L 242.23 171.53 Z" fill="#ccc6c6" fill-rule="evenodd" group-id="1,2,4,19" id="svg-bot-2_矩形备份-22" node-id="58" stroke="none" target-height="277.38" target-width="560.86005" target-x="242.23" target-y="158.4" /><g node-id="139"><path d="M 441.77 47.50 L 1002.62 311.75 L 802.76 422.54 L 238.90 159.11 Z" fill="#ffffff" fill-rule="evenodd" group-id="1,2,4,19,30" id="svg-bot-2_矩形" node-id="59" stroke="none" target-height="375.04" target-width="763.72" target-x="238.9" target-y="47.5" /></g><path d="M 1002.29 309.30 L 1002.62 322.53 L 803.09 435.78 L 803.09 419.60 Z" fill="#d8d8d8" fill-rule="evenodd" group-id="1,2,4,19,31" id="svg-bot-2_矩形备份-51" node-id="60" stroke="none" target-height="126.48001" target-width="199.52997" target-x="803.09" target-y="309.3" /></g></g><g node-id="114"><path d="M 69.66 683.85 L 69.46 686.78 L 68.93 689.30 L 68.05 691.55 L 66.99 693.17 L 66.11 694.00 L 65.21 694.47 L 64.27 694.64 L 63.33 694.47 L 62.43 694.00 L 61.55 693.17 L 60.49 691.55 L 59.61 689.30 L 59.08 686.78 L 58.88 683.85 L 59.08 680.93 L 59.61 678.41 L 60.49 676.15 L 61.55 674.54 L 62.43 673.71 L 63.33 673.24 L 64.27 673.07 L 65.21 673.24 L 66.11 673.71 L 66.99 674.54 L 68.05 676.15 L 68.93 678.41 L 69.46 680.93 L 69.66 683.85 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,5" id="svg-bot-2_椭圆形" node-id="62" stroke="none" target-height="21.570007" target-width="10.780003" target-x="58.88" target-y="673.07" /><path d="M 75.06 689.25 L 76.00 689.08 L 76.89 688.61 L 77.78 687.77 L 78.83 686.16 L 79.71 683.90 L 80.25 681.39 L 80.45 678.46 L 80.25 675.53 L 79.71 673.02 L 78.83 670.76 L 77.78 669.15 L 76.89 668.31 L 76.00 667.84 L 75.06 667.67 L 74.11 667.84 L 73.22 668.31 L 72.33 669.15 L 71.28 670.76 L 70.40 673.02 L 69.86 675.53 L 69.66 678.46 L 69.86 681.39 L 70.40 683.90 L 71.28 686.16 L 72.33 687.77 L 73.22 688.61 L 74.11 689.08 L 75.06 689.25 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,5" id="svg-bot-2_椭圆形备份-7" node-id="63" stroke="none" target-height="21.580017" target-width="10.789993" target-x="69.66" target-y="667.67" /><path d="M 64.27 673.07 L 75.06 667.67 L 75.06 689.25 L 64.27 694.64 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,5" id="svg-bot-2_矩形" node-id="64" stroke="none" target-height="26.970032" target-width="10.790001" target-x="64.27" target-y="667.67" /></g><g node-id="115"><path d="M 91.23 694.64 L 91.03 697.57 L 90.50 700.08 L 89.62 702.34 L 88.56 703.95 L 87.68 704.78 L 86.78 705.26 L 85.84 705.42 L 84.90 705.26 L 84.00 704.78 L 83.12 703.95 L 82.07 702.34 L 81.18 700.08 L 80.65 697.57 L 80.45 694.64 L 80.65 691.71 L 81.18 689.19 L 82.07 686.94 L 83.12 685.33 L 84.00 684.49 L 84.90 684.02 L 85.84 683.85 L 86.78 684.02 L 87.68 684.49 L 88.56 685.33 L 89.62 686.94 L 90.50 689.19 L 91.03 691.71 L 91.23 694.64 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,6" id="svg-bot-2_椭圆形" node-id="66" stroke="none" target-height="21.570007" target-width="10.780006" target-x="80.45" target-y="683.85" /><path d="M 96.63 700.03 L 97.57 699.86 L 98.47 699.39 L 99.35 698.56 L 100.40 696.95 L 101.28 694.69 L 101.82 692.17 L 102.02 689.25 L 101.82 686.32 L 101.28 683.80 L 100.40 681.54 L 99.35 679.93 L 98.47 679.10 L 97.57 678.63 L 96.63 678.46 L 95.69 678.63 L 94.79 679.10 L 93.90 679.93 L 92.85 681.54 L 91.97 683.80 L 91.43 686.32 L 91.23 689.25 L 91.43 692.17 L 91.97 694.69 L 92.85 696.95 L 93.90 698.56 L 94.79 699.39 L 95.69 699.86 L 96.63 700.03 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,6" id="svg-bot-2_椭圆形备份-7" node-id="67" stroke="none" target-height="21.570007" target-width="10.789993" target-x="91.23" target-y="678.46" /><path d="M 85.84 683.85 L 96.63 678.46 L 96.63 700.03 L 85.84 705.42 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,6" id="svg-bot-2_矩形" node-id="68" stroke="none" target-height="26.95996" target-width="10.790001" target-x="85.84" target-y="678.46" /></g><g node-id="116"><path d="M 134.38 716.21 L 134.18 719.14 L 133.64 721.65 L 132.76 723.91 L 131.71 725.52 L 130.82 726.36 L 129.92 726.83 L 128.98 727.00 L 128.04 726.83 L 127.15 726.36 L 126.26 725.52 L 125.21 723.91 L 124.33 721.65 L 123.79 719.14 L 123.59 716.21 L 123.79 713.28 L 124.33 710.77 L 125.21 708.51 L 126.26 706.90 L 127.15 706.06 L 128.04 705.59 L 128.98 705.42 L 129.92 705.59 L 130.82 706.06 L 131.71 706.90 L 132.76 708.51 L 133.64 710.77 L 134.18 713.28 L 134.38 716.21 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,7" id="svg-bot-2_椭圆形" node-id="70" stroke="none" target-height="21.580017" target-width="10.790009" target-x="123.59" target-y="705.42" /><path d="M 139.77 721.60 L 140.71 721.43 L 141.61 720.96 L 142.49 720.13 L 143.54 718.52 L 144.43 716.26 L 144.96 713.74 L 145.16 710.82 L 144.96 707.89 L 144.43 705.37 L 143.54 703.12 L 142.49 701.50 L 141.61 700.67 L 140.71 700.20 L 139.77 700.03 L 138.83 700.20 L 137.93 700.67 L 137.05 701.50 L 135.99 703.12 L 135.11 705.37 L 134.58 707.89 L 134.38 710.82 L 134.58 713.74 L 135.11 716.26 L 135.99 718.52 L 137.05 720.13 L 137.93 720.96 L 138.83 721.43 L 139.77 721.60 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,7" id="svg-bot-2_椭圆形备份-7" node-id="71" stroke="none" target-height="21.569946" target-width="10.779999" target-x="134.38" target-y="700.03" /><path d="M 128.98 705.42 L 139.77 700.03 L 139.77 721.60 L 128.98 727.00 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,7" id="svg-bot-2_矩形" node-id="72" stroke="none" target-height="26.96997" target-width="10.790009" target-x="128.98" target-y="700.03" /></g><g node-id="117"><path d="M 112.81 705.42 L 112.60 708.35 L 112.07 710.87 L 111.19 713.13 L 110.13 714.74 L 109.25 715.57 L 108.35 716.04 L 107.41 716.21 L 106.47 716.04 L 105.57 715.57 L 104.69 714.74 L 103.64 713.13 L 102.76 710.87 L 102.22 708.35 L 102.02 705.42 L 102.22 702.50 L 102.76 699.98 L 103.64 697.72 L 104.69 696.11 L 105.57 695.28 L 106.47 694.81 L 107.41 694.64 L 108.35 694.81 L 109.25 695.28 L 110.13 696.11 L 111.19 697.72 L 112.07 699.98 L 112.60 702.50 L 112.81 705.42 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,8" id="svg-bot-2_椭圆形" node-id="74" stroke="none" target-height="21.570007" target-width="10.790001" target-x="102.02" target-y="694.64" /><path d="M 118.20 710.82 L 119.14 710.65 L 120.04 710.18 L 120.92 709.34 L 121.97 707.73 L 122.85 705.48 L 123.39 702.96 L 123.59 700.03 L 123.39 697.10 L 122.85 694.59 L 121.97 692.33 L 120.92 690.72 L 120.04 689.89 L 119.14 689.41 L 118.20 689.25 L 117.26 689.41 L 116.36 689.89 L 115.48 690.72 L 114.42 692.33 L 113.54 694.59 L 113.01 697.10 L 112.81 700.03 L 113.01 702.96 L 113.54 705.48 L 114.42 707.73 L 115.48 709.34 L 116.36 710.18 L 117.26 710.65 L 118.20 710.82 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,8" id="svg-bot-2_椭圆形备份-7" node-id="75" stroke="none" target-height="21.570007" target-width="10.779999" target-x="112.81" target-y="689.25" /><path d="M 107.41 694.64 L 118.20 689.25 L 118.20 710.82 L 107.41 716.21 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,8" id="svg-bot-2_矩形" node-id="76" stroke="none" target-height="26.960022" target-width="10.789993" target-x="107.41" target-y="689.25" /></g><g node-id="118"><path d="M 155.95 727.00 L 155.75 729.92 L 155.21 732.44 L 154.33 734.70 L 153.28 736.31 L 152.39 737.14 L 151.50 737.61 L 150.55 737.78 L 149.61 737.61 L 148.72 737.14 L 147.83 736.31 L 146.78 734.70 L 145.90 732.44 L 145.36 729.92 L 145.16 727.00 L 145.36 724.07 L 145.90 721.55 L 146.78 719.29 L 147.83 717.68 L 148.72 716.85 L 149.61 716.38 L 150.55 716.21 L 151.50 716.38 L 152.39 716.85 L 153.28 717.68 L 154.33 719.29 L 155.21 721.55 L 155.75 724.07 L 155.95 727.00 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,9" id="svg-bot-2_椭圆形" node-id="78" stroke="none" target-height="21.570007" target-width="10.789993" target-x="145.16" target-y="716.21" /><path d="M 161.34 732.39 L 162.28 732.22 L 163.18 731.75 L 164.06 730.92 L 165.12 729.30 L 166.00 727.05 L 166.53 724.53 L 166.73 721.60 L 166.53 718.68 L 166.00 716.16 L 165.12 713.90 L 164.06 712.29 L 163.18 711.46 L 162.28 710.99 L 161.34 710.82 L 160.40 710.99 L 159.50 711.46 L 158.62 712.29 L 157.56 713.90 L 156.68 716.16 L 156.15 718.68 L 155.95 721.60 L 156.15 724.53 L 156.68 727.05 L 157.56 729.30 L 158.62 730.92 L 159.50 731.75 L 160.40 732.22 L 161.34 732.39 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,9" id="svg-bot-2_椭圆形备份-7" node-id="79" stroke="none" target-height="21.570007" target-width="10.779999" target-x="155.95" target-y="710.82" /><path d="M 150.55 716.21 L 161.34 710.82 L 161.34 732.39 L 150.55 737.78 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,9" id="svg-bot-2_矩形" node-id="80" stroke="none" target-height="26.960022" target-width="10.789993" target-x="150.55" target-y="710.82" /></g><g node-id="119"><path d="M 355.48 825.41 L 355.18 830.92 L 354.38 835.62 L 353.52 838.62 L 352.54 841.01 L 351.48 842.88 L 350.11 844.47 L 348.77 845.34 L 347.39 845.64 L 346.02 845.34 L 344.67 844.47 L 343.31 842.88 L 342.24 841.01 L 341.27 838.62 L 340.41 835.62 L 339.61 830.92 L 339.30 825.41 L 339.61 819.91 L 340.41 815.21 L 341.27 812.20 L 342.24 809.82 L 343.31 807.95 L 344.67 806.36 L 346.02 805.49 L 347.39 805.19 L 348.77 805.49 L 350.11 806.36 L 351.48 807.95 L 352.54 809.82 L 353.52 812.20 L 354.38 815.21 L 355.18 819.91 L 355.48 825.41 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,10" id="svg-bot-2_椭圆形" node-id="82" stroke="none" target-height="40.450012" target-width="16.180023" target-x="339.3" target-y="805.19" /><path d="M 363.57 837.55 L 364.95 837.25 L 366.29 836.38 L 367.65 834.79 L 368.72 832.92 L 369.70 830.54 L 370.56 827.53 L 371.36 822.83 L 371.66 817.33 L 371.36 811.83 L 370.56 807.12 L 369.70 804.12 L 368.72 801.73 L 367.65 799.86 L 366.29 798.27 L 364.95 797.40 L 363.57 797.10 L 362.20 797.40 L 360.85 798.27 L 359.49 799.86 L 358.42 801.73 L 357.45 804.12 L 356.59 807.12 L 355.78 811.83 L 355.48 817.33 L 355.78 822.83 L 356.59 827.53 L 357.45 830.54 L 358.42 832.92 L 359.49 834.79 L 360.85 836.38 L 362.20 837.25 L 363.57 837.55 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,10" id="svg-bot-2_椭圆形备份-7" node-id="83" stroke="none" target-height="40.450012" target-width="16.179993" target-x="355.48" target-y="797.1" /><path d="M 347.39 806.81 L 363.57 797.10 L 363.57 835.93 L 347.39 845.64 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,10" id="svg-bot-2_矩形" node-id="84" stroke="none" target-height="48.54004" target-width="16.179993" target-x="347.39" target-y="797.1" /></g><g node-id="120"><path d="M 199.09 508.13 L 497.17 657.33 L 497.17 694.63 L 199.09 545.43 Z" fill="#444644" fill-rule="evenodd" group-id="1,2,11" id="svg-bot-2_矩形备份-41" node-id="86" stroke="none" target-height="186.5" target-width="298.08002" target-x="199.09" target-y="508.13" /><path d="M 207.61 498.81 L 505.68 648.01 L 497.17 657.33 L 199.09 508.13 Z" fill="#696969" fill-rule="evenodd" group-id="1,2,11" id="svg-bot-2_矩形备份-42" node-id="87" stroke="none" target-height="158.52002" target-width="306.59" target-x="199.09" target-y="498.81" /><path d="M 497.17 657.33 L 506.48 648.01 L 506.48 685.31 L 497.17 694.63 Z" fill="#2b2a2a" fill-rule="evenodd" group-id="1,2,11" id="svg-bot-2_矩形" node-id="88" stroke="none" target-height="46.619995" target-width="9.309998" target-x="497.17" target-y="648.01" /><path d="M 217.72 247.03 L 497.17 384.33 L 497.17 645.43 L 217.72 508.13 Z" fill="#494a49" fill-rule="evenodd" group-id="1,2,11" id="svg-bot-2_矩形" node-id="89" stroke="none" target-height="398.4" target-width="279.45" target-x="217.72" target-y="247.03" /></g></g></g></symbol><symbol   viewBox="0 0 1051 1644" id="svg-bot-9">\r
    <title>PBA9</title>\r
    <defs>\r
        <linearGradient id="svg-bot-9_linearGradient-1" y2="50%" x2="100%" y1="50%" x1="0%">\r
            <stop offset="0%" stop-color="#252424" />\r
            <stop offset="100%" stop-color="#181818" />\r
        </linearGradient>\r
        <linearGradient id="svg-bot-9_linearGradient-2" y2="50%" x2="100%" y1="50%" x1="1.61994987%">\r
            <stop offset="0%" stop-color="#A5A5A5" />\r
            <stop offset="100%" stop-color="#7B7A7A" />\r
        </linearGradient>\r
        <linearGradient id="svg-bot-9_linearGradient-3" y2="53.5152679%" x2="33.5324159%" y1="52.2959596%" x1="10.5628407%">\r
            <stop offset="0%" stop-color="#EEECE6" />\r
            <stop offset="100%" stop-color="#BDB4A1" />\r
        </linearGradient>\r
    </defs>\r
    <g fill-rule="evenodd" fill="none" stroke-width="1" stroke="currentColor" id="svg-bot-9_页面-1">\r
        <g transform="translate(0.500000, 0.633693)" id="svg-bot-9_PBA9">\r
            <g fill-rule="nonzero" transform="translate(508.453453, 1479.969208)" id="svg-bot-9_编组-24">\r
                <g transform="translate(0.000000, 25.883740)" id="svg-bot-9_编组-23">\r
                    <path fill="url(#svg-bot-9_linearGradient-1)" id="svg-bot-9_形状结合" d="M0,14.7907085 L88.4157635,19.7209447 L88.4158196,116.802354 C88.6017545,117.471663 88.6972644,118.152109 88.6972644,118.841623 C88.6972644,119.531156 88.6017493,120.21162 88.4158045,120.880946 L88.4157635,125.721022 L85.5071674,125.557778 C78.9634845,132.156741 63.0642649,136.814054 44.4893827,136.814054 C21.7199146,136.814054 2.9709922,129.815811 0.546683008,120.821467 L0,120.790786 L0,14.7907085 Z" />\r
                    <ellipse ry="17.9724306" rx="44.2078817" cy="17.9724306" cx="44.4893827" fill="#000000" id="svg-bot-9_形状结合" />\r
                </g>\r
                <g transform="translate(31.130825, 0.000000)" id="svg-bot-9_编组-22">\r
                    <path fill="url(#svg-bot-9_linearGradient-2)" id="svg-bot-9_形状结合备份" d="M0,7.39535424 L29.4719212,9.2031075 L29.4719212,48.0698025 L28.6776991,48.0219458 C26.6911001,50.2011603 21.1995028,51.7674796 14.7359606,51.7674796 C6.59751428,51.7674796 0,49.28422 0,46.220964 L0.00102965085,46.2615849 L0,7.39535424 Z" />\r
                    <ellipse ry="5.63830199" rx="14.7359606" cy="5.63830199" cx="14.7359606" fill="#585858" id="svg-bot-9_形状结合备份-2" />\r
                </g>\r
            </g>\r
            <g fill-rule="nonzero" transform="translate(955.085487, 1259.371360)" id="svg-bot-9_编组-24备份-2">\r
                <g transform="translate(0.000000, 25.883740)" id="svg-bot-9_编组-23">\r
                    <path fill="url(#svg-bot-9_linearGradient-1)" id="svg-bot-9_形状结合" d="M0,14.7907085 L88.4157635,19.7209447 L88.4158196,116.802354 C88.6017545,117.471663 88.6972644,118.152109 88.6972644,118.841623 C88.6972644,119.531156 88.6017493,120.21162 88.4158045,120.880946 L88.4157635,125.721022 L85.5071674,125.557778 C78.9634845,132.156741 63.0642649,136.814054 44.4893827,136.814054 C21.7199146,136.814054 2.9709922,129.815811 0.546683008,120.821467 L0,120.790786 L0,14.7907085 Z" />\r
                    <ellipse ry="17.9724306" rx="44.2078817" cy="17.9724306" cx="44.4893827" fill="#000000" id="svg-bot-9_形状结合" />\r
                </g>\r
                <g transform="translate(31.130825, 0.000000)" id="svg-bot-9_编组-22">\r
                    <path fill="url(#svg-bot-9_linearGradient-2)" id="svg-bot-9_形状结合备份" d="M0,7.39535424 L29.4719212,9.2031075 L29.4719212,48.0698025 L28.6776991,48.0219458 C26.6911001,50.2011603 21.1995028,51.7674796 14.7359606,51.7674796 C6.59751428,51.7674796 0,49.28422 0,46.220964 L0.00102965085,46.2615849 L0,7.39535424 Z" />\r
                    <ellipse ry="5.63830199" rx="14.7359606" cy="5.63830199" cx="14.7359606" fill="#585858" id="svg-bot-9_形状结合备份-2" />\r
                </g>\r
            </g>\r
            <g fill-rule="nonzero" transform="translate(186.251819, 1329.340315)" id="svg-bot-9_编组-24备份">\r
                <g transform="translate(0.000000, 25.883740)" id="svg-bot-9_编组-23">\r
                    <path fill="url(#svg-bot-9_linearGradient-1)" id="svg-bot-9_形状结合" d="M0,14.7907085 L88.4157635,19.7209447 L88.4158196,116.802354 C88.6017545,117.471663 88.6972644,118.152109 88.6972644,118.841623 C88.6972644,119.531156 88.6017493,120.21162 88.4158045,120.880946 L88.4157635,125.721022 L85.5071674,125.557778 C78.9634845,132.156741 63.0642649,136.814054 44.4893827,136.814054 C21.7199146,136.814054 2.9709922,129.815811 0.546683008,120.821467 L0,120.790786 L0,14.7907085 Z" />\r
                    <ellipse ry="17.9724306" rx="44.2078817" cy="17.9724306" cx="44.4893827" fill="#000000" id="svg-bot-9_形状结合" />\r
                </g>\r
                <g transform="translate(31.130825, 0.000000)" id="svg-bot-9_编组-22">\r
                    <path fill="url(#svg-bot-9_linearGradient-2)" id="svg-bot-9_形状结合备份" d="M0,7.39535424 L29.4719212,9.2031075 L29.4719212,48.0698025 L28.6776991,48.0219458 C26.6911001,50.2011603 21.1995028,51.7674796 14.7359606,51.7674796 C6.59751428,51.7674796 0,49.28422 0,46.220964 L0.00102965085,46.2615849 L0,7.39535424 Z" />\r
                    <ellipse ry="5.63830199" rx="14.7359606" cy="5.63830199" cx="14.7359606" fill="#585858" id="svg-bot-9_形状结合备份-2" />\r
                </g>\r
            </g>\r
            <g fill-rule="nonzero" transform="translate(611.605177, 1126.909038)" id="svg-bot-9_编组-24备份-3">\r
                <g transform="translate(0.000000, 25.883740)" id="svg-bot-9_编组-23">\r
                    <path fill="url(#svg-bot-9_linearGradient-1)" id="svg-bot-9_形状结合" d="M0,14.7907085 L88.4157635,19.7209447 L88.4158196,116.802354 C88.6017545,117.471663 88.6972644,118.152109 88.6972644,118.841623 C88.6972644,119.531156 88.6017493,120.21162 88.4158045,120.880946 L88.4157635,125.721022 L85.5071674,125.557778 C78.9634845,132.156741 63.0642649,136.814054 44.4893827,136.814054 C21.7199146,136.814054 2.9709922,129.815811 0.546683008,120.821467 L0,120.790786 L0,14.7907085 Z" />\r
                    <ellipse ry="17.9724306" rx="44.2078817" cy="17.9724306" cx="44.4893827" fill="#000000" id="svg-bot-9_形状结合" />\r
                </g>\r
                <g transform="translate(31.130825, 0.000000)" id="svg-bot-9_编组-22">\r
                    <path fill="url(#svg-bot-9_linearGradient-2)" id="svg-bot-9_形状结合备份" d="M0,7.39535424 L29.4719212,9.2031075 L29.4719212,48.0698025 L28.6776991,48.0219458 C26.6911001,50.2011603 21.1995028,51.7674796 14.7359606,51.7674796 C6.59751428,51.7674796 0,49.28422 0,46.220964 L0.00102965085,46.2615849 L0,7.39535424 Z" />\r
                    <ellipse ry="5.63830199" rx="14.7359606" cy="5.63830199" cx="14.7359606" fill="#585858" id="svg-bot-9_形状结合备份-2" />\r
                </g>\r
            </g>\r
            <polygon points="598.74197 518.806372 1050 196.615434 1050 1291.03474 578.663779 1546.91275 578.449265 561.964291" fill-rule="nonzero" fill="#DED9D1" id="svg-bot-9_矩形" />\r
            <polygon points="0.51482543 454.453194 345.212256 215.78566 683.510375 401.849626 296.02462 611.989774" fill-rule="nonzero" fill="url(#svg-bot-9_linearGradient-3)" id="svg-bot-9_路径-10" />\r
            <polygon points="995.452395 305.834589 993.616985 672.488122 672.233771 886.743597 672.002552 537.332778" fill-rule="nonzero" fill="#0C0C0C" id="svg-bot-9_矩形" />\r
            <polygon points="181.701498 1354.72266 179.97182 366.564345 580.291261 560.137718 582.020939 1546.42493" fill-rule="nonzero" fill="#E9E5DD" id="svg-bot-9_路径-16" />\r
            <polygon points="209.56659 678.829835 208.078753 449.047459 552.426168 615.555711 553.914005 843.728598" fill-rule="nonzero" fill="#E9E5DD" stroke-width="0.5" stroke="#6E6E6E" id="svg-bot-9_路径-16" />\r
            <g transform="translate(242.662278, 488.515572)" id="svg-bot-9_路径-16">\r
                <g fill="#E9E5DD" transform="translate(0.000000, 0.000000)" id="svg-bot-9_path-4-link">\r
                    <polygon points="1.19026918 183.825902 -2.92644373e-14 1.17057749e-13 275.477932 133.206602 276.668201 315.744912" id="svg-bot-9_path-4" />\r
                </g>\r
                <g fill-rule="nonzero" fill="#000000" transform="translate(0.000000, 0.000000)" id="svg-bot-9_path-4-link">\r
                    <polygon points="1.19026918 183.825902 -2.92644373e-14 1.17057749e-13 275.477932 133.206602 276.668201 315.744912" id="svg-bot-9_path-4" />\r
                </g>\r
            </g>\r
            <polygon points="313.905079 672.495173 313.224926 567.4518 470.640887 643.569859 471.321041 747.877464" fill-rule="nonzero" fill="#8EC1E9" stroke-width="1.5" stroke="#000000" id="svg-bot-9_路径-16" />\r
            <polygon points="209.56659 1287.76645 208.078753 753.515766 552.426168 920.024018 553.914005 1452.66522" fill-rule="nonzero" fill="#E9E5DD" stroke-width="0.5" stroke="#6E6E6E" id="svg-bot-9_路径-16备份-3" />\r
            <polygon points="204.254706 317.275096 653.768893 2.92644373e-14 1050 196.615434 598.935845 520.253968" fill-rule="nonzero" fill="#FFFCF3" id="svg-bot-9_路径-16备份-2" />\r
            <polygon points="204.254706 317.275096 600.598133 515.717102 576.382637 565.360384 180.039209 366.918378" fill-rule="nonzero" fill="#F8F6EF" id="svg-bot-9_矩形" />\r
            <path fill-rule="nonzero" fill="#DED9D1" id="svg-bot-9_路径-12" d="M186.225252,937.488316 C157.347841,877.191105 128.752241,828.050658 100.438452,790.066975 C72.1246632,752.083292 38.860394,718.237117 0.645644105,688.528449 L0.645644105,579.368301 L23.8290419,525.89227 L1.27583391,514.615665 L0.645644105,453.227684 L188.940931,554.844152 L186.225252,937.488316 Z" />\r
            <polygon points="238.084518 1002.90492 260.592799 1013.28989 260.637725 1078.44586 238.129444 1068.0609" fill-rule="nonzero" fill="#000000" id="svg-bot-9_矩形备份-4" />\r
            <polygon points="514.361315 971.318127 565.061106 990.736683 565.106033 1033.33945 514.406241 1013.92089" fill-rule="nonzero" fill="#000000" id="svg-bot-9_矩形备份-60" />\r
            <polygon points="525.637919 644.296611 576.337711 663.715167 576.382637 706.317934 525.682846 686.899378" fill-rule="nonzero" fill="#000000" id="svg-bot-9_矩形备份-63" />\r
            <polygon points="525.637919 757.062651 576.337711 776.481207 576.382637 819.083973 525.682846 799.665418" fill-rule="nonzero" fill="#000000" id="svg-bot-9_矩形备份-64" />\r
            <polygon points="514.361315 1140.46719 565.061106 1159.88575 565.106033 1202.48851 514.406241 1183.06995" fill-rule="nonzero" fill="#000000" id="svg-bot-9_矩形备份-61" />\r
            <polygon points="514.361315 1309.61624 565.061106 1329.0348 565.106033 1371.63757 514.406241 1352.21902" fill-rule="nonzero" fill="#000000" id="svg-bot-9_矩形备份-62" />\r
            <line stroke-dasharray="3" stroke-width="0.5" stroke="#979797" id="svg-bot-9_路径-9" y2="616.105101" x2="187.339799" y1="527.043579" x1="23.6819696" />\r
            <line stroke="#979797" id="svg-bot-9_路径-9备份" y2="683.764725" x2="187.339799" y1="579.555773" x1="-1.46322187e-14" />\r
            <g fill-rule="nonzero" transform="translate(305.744142, 103.019621)" id="svg-bot-9_编组-11">\r
                <rect rx="2" height="47.5065763" width="94.9101238" y="198.426867" x="0" opacity="0.410433815" fill="#5B5B5A" id="svg-bot-9_矩形备份-33" />\r
                <rect height="180.425664" width="47.455062" y="41.7544909" x="23.7275309" fill="#C4E4E3" id="svg-bot-9_矩形" />\r
                <path fill="#FC2727" id="svg-bot-9_矩形备份-30" d="M47.455062,0 C60.5594154,0 71.1825929,10.6231775 71.1825929,23.7275309 L71.1825929,71.2598645 L71.1825929,71.2598645 L23.7275309,71.2598645 L23.7275309,23.7275309 C23.7275309,10.6231775 34.3507084,0 47.455062,0 Z" />\r
                <rect height="47.5065763" width="47.455062" y="47.5065763" x="23.7275309" fill="#FFFD54" id="svg-bot-9_矩形备份-31" />\r
                <rect height="47.5065763" width="47.455062" y="95.0131526" x="23.7275309" fill="#73FF54" id="svg-bot-9_矩形备份-32" />\r
            </g>\r
        </g>\r
    </g>\r
</symbol><symbol viewBox="0 0 1024 1024"  id="svg-clock-a">\r
    <path d="M512.3 518.9m-469.2 0a469.2 469.2 0 1 0 938.4 0 469.2 469.2 0 1 0-938.4 0Z" fill="#B4B4B4"></path>\r
    <path d="M512.3 518.9m-392.5 0a392.5 392.5 0 1 0 785 0 392.5 392.5 0 1 0-785 0Z" fill="#FFFFFF"></path>\r
    <path d="M512.3 523.8c-4.5 0-9-1.7-12.4-5.1L318.3 337.1c-6.8-6.8-6.8-17.9 0-24.8 6.8-6.8 17.9-6.8 24.8 0L524.7 494c6.8 6.8 6.8 17.9 0 24.8-3.5 3.3-7.9 5-12.4 5z" fill="#545454">\r
        <animateTransform attributeName="transform" attributeType="XML" type="rotate" from="45 512 512" to="405 512 512" dur="3600s" repeatCount="indefinite" />\r
    </path>\r
    <path d="M512.3 523.8c-4.5 0-9-1.7-12.4-5.1-6.8-6.8-6.8-17.9 0-24.8l130.8-130.8c6.8-6.8 17.9-6.8 24.8 0 6.8 6.8 6.8 17.9 0 24.8L524.7 518.7c-3.5 3.4-7.9 5.1-12.4 5.1z" fill="#292929">\r
        <animateTransform attributeName="transform" attributeType="XML" type="rotate" from="-45 512 512" to="315 512 512" dur="43200s" repeatCount="indefinite" />\r
    </path>\r
    <path d="M512.3 506.3m-47.5 0a47.5 47.5 0 1 0 95 0 47.5 47.5 0 1 0-95 0Z" fill="#919191"></path>\r
    <path d="M512.3 218.8c-9 0-16.3-7.3-16.3-16.3v-29.1c0-9 7.3-16.3 16.3-16.3s16.3 7.3 16.3 16.3v29.1c0 9-7.4 16.3-16.3 16.3zM512.3 880.8c-9 0-16.3-7.3-16.3-16.3v-29.1c0-9 7.3-16.3 16.3-16.3s16.3 7.3 16.3 16.3v29.1c0 9-7.4 16.3-16.3 16.3zM812.4 518.9c0-9 7.3-16.3 16.3-16.3h29.1c9 0 16.3 7.3 16.3 16.3s-7.3 16.3-16.3 16.3h-29.1c-8.9 0-16.3-7.3-16.3-16.3zM150.4 518.9c0-9 7.3-16.3 16.3-16.3h29.1c9 0 16.3 7.3 16.3 16.3s-7.3 16.3-16.3 16.3h-29.1c-8.9 0-16.3-7.3-16.3-16.3z" fill="#323232"></path>\r
    <path d="M296.9 733.5c-2.2 0-4.5-0.9-6.2-2.6-3.4-3.4-3.4-9 0-12.4L540 469.2c3.4-3.4 9-3.4 12.4 0 3.4 3.4 3.4 9 0 12.4L303.1 731c-1.7 1.7-4 2.5-6.2 2.5z" fill="#919191">\r
        <animateTransform attributeName="transform" attributeType="XML" type="rotate" from="135 512 512" to="495 512 512" dur="60s" repeatCount="indefinite" />\r
    </path>\r
    <path d="M512.3 506.3m-22.8 0a22.8 22.8 0 1 0 45.6 0 22.8 22.8 0 1 0-45.6 0Z" fill="#FFFFFF"></path>\r
</symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-common-table"><path d="M928 96v832h-832V416.96h64v203.776h204.8V384h23.296v-19.2L620.8 364.736V160H416v-64h512z m-563.2 563.136H160V864h204.8v-204.864z m38.4 0V864h217.536v-204.864H403.2z m460.8 0h-204.864V864H864v-204.864z m-460.8-256v217.6h217.536v-217.6H403.2z m460.8 0h-204.864v217.6H864v-217.6z m0-38.4V160h-204.864v204.736H864z" fill="#324558" p-id="14150" /><path d="M415.936 353.024v49.92l207.36 0.064v217.984H400.64V417.024h-48.768v-64h64z m-128 0v64h-64v-64h64z m-128 0v64h-64v-64h64z m0-128.512v64h-64v-64h64z m256 0v64h-64v-64h64z m-256-128.448v64h-64v-64h64z m128 0v64h-64v-64h64z m128 0v64h-64v-64h64z" fill="#41A368" p-id="14151" /></symbol><symbol class="icon" viewBox="0 0 1979 1024"   id="svg-el-button"><path d="M409.6 320.853333c34.133333 0 61.44 6.826667 75.093333 27.306667 20.48 13.653333 27.306667 34.133333 27.306667 61.44 0 20.48-6.826667 34.133333-13.653333 47.786667-6.826667 13.653333-20.48 20.48-34.133334 27.306666 20.48 6.826667 40.96 13.653333 47.786667 27.306667s20.48 34.133333 20.48 54.613333c0 34.133333-13.653333 61.44-34.133333 75.093334-20.48 13.653333-47.786667 20.48-81.92 20.48H252.586667v-341.333334H409.6zM307.2 464.213333h88.746667c27.306667 0 40.96-6.826667 54.613333-13.653333 13.653333-6.826667 13.653333-20.48 13.653333-40.96s-6.826667-27.306667-13.653333-34.133333c-13.653333-6.826667-27.306667-13.653333-47.786667-13.653334H307.2v102.4z m0 157.013334h95.573333c20.48 0 40.96-6.826667 54.613334-13.653334 13.653333-6.826667 20.48-20.48 20.48-40.96s-6.826667-34.133333-20.48-40.96c-13.653333-6.826667-27.306667-13.653333-54.613334-13.653333H307.2v109.226667zM628.053333 416.426667v150.186666c0 20.48 6.826667 34.133333 13.653334 47.786667 6.826667 6.826667 20.48 13.653333 40.96 13.653333 13.653333 0 27.306667-6.826667 34.133333-13.653333 13.653333-13.653333 20.48-27.306667 27.306667-40.96V423.253333h47.786666v245.76h-47.786666v-34.133333c-20.48 27.306667-47.786667 40.96-75.093334 40.96-61.44 0-88.746667-34.133333-88.746666-102.4V416.426667h47.786666zM928.426667 416.426667h54.613333v40.96h-54.613333v143.36c0 6.826667 0 13.653333 6.826666 13.653333 0 0 6.826667 6.826667 13.653334 6.826667h34.133333v40.96h-40.96c-20.48 0-34.133333-6.826667-47.786667-13.653334-6.826667-13.653333-13.653333-27.306667-13.653333-47.786666V457.386667h-47.786667v-40.96h47.786667v-61.44l47.786667-20.48v81.92zM1099.093333 416.426667h54.613334v40.96h-54.613334v143.36c0 6.826667 0 13.653333 6.826667 13.653333 0 0 6.826667 6.826667 13.653333 6.826667h34.133334v40.96h-40.96c-20.48 0-34.133333-6.826667-47.786667-13.653334-6.826667-13.653333-13.653333-27.306667-13.653333-47.786666V457.386667h-47.786667v-40.96h47.786667v-61.44l47.786666-20.48v81.92zM1399.466667 443.733333c20.48 27.306667 34.133333 54.613333 34.133333 95.573334 0 34.133333-13.653333 68.266667-34.133333 95.573333-20.48 27.306667-54.613333 40.96-88.746667 40.96s-68.266667-13.653333-88.746667-40.96c-20.48-27.306667-34.133333-54.613333-34.133333-95.573333 0-40.96 13.653333-68.266667 34.133333-95.573334 20.48-27.306667 54.613333-34.133333 88.746667-34.133333 40.96 0 68.266667 13.653333 88.746667 34.133333z m-143.36 34.133334c-13.653333 13.653333-13.653333 34.133333-13.653334 61.44s6.826667 47.786667 13.653334 61.44c13.653333 20.48 34.133333 27.306667 54.613333 27.306666 20.48 0 40.96-6.826667 54.613333-27.306666 13.653333-13.653333 20.48-34.133333 20.48-61.44s-6.826667-47.786667-20.48-61.44c-13.653333-20.48-34.133333-27.306667-54.613333-27.306667-20.48 0-40.96 6.826667-54.613333 27.306667zM1699.84 512v150.186667h-47.786667V512c0-40.96-20.48-61.44-54.613333-61.44-13.653333 0-27.306667 6.826667-40.96 13.653333-13.653333 13.653333-20.48 27.306667-20.48 47.786667v150.186667h-47.786667V416.426667h47.786667v27.306666c6.826667-13.653333 20.48-20.48 34.133333-27.306666 13.653333-6.826667 27.306667-6.826667 40.96-6.826667 54.613333 0 88.746667 34.133333 88.746667 102.4z" fill="#515151" p-id="8648" data-spm-anchor-id="a313x.search_index.0.i1.117f3a81AAHUyn" class="" /><path d="M1877.333333 1024h-1774.933333C47.786667 1024 0 976.213333 0 921.6v-819.2C0 47.786667 47.786667 0 102.4 0h1774.933333c54.613333 0 102.4 47.786667 102.4 102.4v819.2c0 54.613333-47.786667 102.4-102.4 102.4zM102.4 68.266667c-20.48 0-34.133333 13.653333-34.133333 34.133333v819.2c0 20.48 13.653333 34.133333 34.133333 34.133333h1774.933333c20.48 0 34.133333-13.653333 34.133334-34.133333v-819.2c0-20.48-13.653333-34.133333-34.133334-34.133333h-1774.933333z" fill="#bfbfbf" p-id="8649" data-spm-anchor-id="a313x.search_index.0.i2.117f3a81AAHUyn" class="" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-el-tag"><path d="M247.164 308.281c-33.742 0-61.116 27.385-61.116 61.116 0 33.761 27.374 61.156 61.116 61.156 33.76 0 61.116-27.395 61.116-61.156 0-33.731-27.355-61.116-61.116-61.116m0 81.488c-11.26 0-20.372-9.102-20.372-20.372 0-11.24 9.111-20.372 20.372-20.372s20.372 9.132 20.372 20.372c0 11.27-9.112 20.372-20.372 20.372m244.464 244.463c5.63 0 10.723-2.248 14.403-5.989l40.744-40.743a20.125 20.125 0 0 0 5.967-14.345c0-11.28-9.11-20.411-20.37-20.411-5.61 0-10.704 2.287-14.405 5.988l-40.743 40.744c-3.68 3.7-5.968 8.754-5.968 14.384-0.001 11.28 9.111 20.372 20.372 20.372m462.585-156.988L546.775 69.806a20.248 20.248 0 0 0-14.404-5.99H247.164c-33.742 0-61.116 27.386-61.116 61.117 0 11.271 9.11 20.372 20.37 20.372s20.373-9.102 20.373-20.372c0-11.24 9.111-20.372 20.372-20.372h276.773l387.067 387.107-46.712 46.692c-3.68 3.69-5.968 8.764-5.968 14.385 0 11.28 9.132 20.41 20.372 20.41 5.63 0 10.723-2.286 14.403-6.027l61.116-61.106a20.247 20.247 0 0 0 5.969-14.354c-0.001-5.659-2.29-10.733-5.97-14.424M389.768 695.348c0 11.28 9.111 20.372 20.372 20.372 5.63 0 10.723-2.248 14.403-5.989l20.372-20.372a20.127 20.127 0 0 0 5.969-14.344c0-11.28-9.112-20.411-20.372-20.411a20.245 20.245 0 0 0-14.404 5.988l-20.371 20.372c-3.681 3.702-5.97 8.793-5.97 14.384m34.776-503.311a20.247 20.247 0 0 0-14.403-5.989H124.932c-33.742 0-61.116 27.385-61.116 61.116v285.208c0 5.63 2.287 10.723 5.968 14.393l407.44 407.43c3.7 3.74 8.793 5.988 14.402 5.988 5.63 0 10.724-2.248 14.404-5.989l325.952-325.95c3.7-3.66 5.968-8.754 5.968-14.384s-2.287-10.682-5.968-14.384l-407.44-407.44z m67.085 718.988L104.56 523.947V247.164c0-11.24 9.11-20.37 20.37-20.37h276.773L788.772 613.86 491.628 911.025z m0-113.817c5.63 0 10.723-2.248 14.403-5.989l81.487-81.488a20.231 20.231 0 0 0 5.97-14.384c0-11.26-9.112-20.332-20.373-20.332-5.63 0-10.723 2.248-14.403 5.948l-81.488 81.488c-3.68 3.7-5.968 8.753-5.968 14.424-0.001 11.24 9.111 20.333 20.372 20.333" p-id="18247" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-hamburger"><path d="M691.3024 176.5376c47.3088 36.864 77.824 94.4128 77.824 159.0272 0 20.2752-16.384 36.6592-36.6592 36.6592h-584.704c0 1.6384-0.1024 3.3792-0.1024 5.12 0 20.2752 16.384 36.6592 36.6592 36.6592h655.36c20.2752 0 36.6592-16.384 36.6592-36.6592 0-105.8816-81.5104-192.512-185.0368-200.8064z" fill="#FFA43E" p-id="1687" /><path d="M769.1264 335.4624c0-64.6144-30.5152-122.1632-77.824-159.0272-5.4272-0.4096-10.8544-0.6144-16.2816-0.6144H349.0816c-109.568 0-198.656 87.4496-201.3184 196.3008h584.704c20.1728 0 36.5568-16.384 36.6592-36.6592z" fill="#FFD14F" p-id="1688" /><path d="M814.6944 512.4096h-48.9472c2.1504 6.2464 3.2768 12.9024 3.2768 19.8656V606.208c0 33.9968-27.648 61.6448-61.6448 61.6448H150.9376c8.2944 24.2688 31.232 41.6768 58.368 41.6768h605.3888c33.9968 0 61.6448-27.648 61.6448-61.6448v-73.9328c0-33.8944-27.5456-61.5424-61.6448-61.5424z" fill="#E01E22" p-id="1689" /><path d="M769.1264 606.3104v-73.9328c0-6.9632-1.2288-13.6192-3.2768-19.8656H209.3056c-33.9968 0-61.6448 27.648-61.6448 61.6448v73.9328c0 6.9632 1.1264 13.6192 3.2768 19.8656h556.544c33.9968-0.1024 61.5424-27.648 61.6448-61.6448z" fill="#F06661" p-id="1690" /><path d="M835.1744 413.7984H769.024v15.6672c0 22.7328-18.432 41.1648-41.1648 41.1648H147.6608v0.512c0 22.7328 18.432 41.1648 41.1648 41.1648h646.3488c22.7328 0 41.1648-18.432 41.1648-41.1648v-16.2816c0-22.6304-18.432-41.0624-41.1648-41.0624z" fill="#3EBA4A" p-id="1691" /><path d="M769.1264 429.568v-15.6672H188.8256c-22.7328 0-41.1648 18.432-41.1648 41.1648v15.6672h580.3008c22.6304 0 41.0624-18.432 41.1648-41.1648z" fill="#68E077" p-id="1692" /><path d="M848.384 709.632H769.024v14.336c0 45.568-36.864 82.432-82.432 82.432H158.4128c14.2336 24.8832 40.96 41.6768 71.68 41.6768h563.8144c45.568 0 82.432-36.864 82.432-82.432v-28.16c0-15.36-12.4928-27.8528-27.9552-27.8528z" fill="#FFA43E" p-id="1693" /><path d="M769.1264 723.968v-14.336H175.616c-15.4624 0-27.9552 12.4928-27.9552 27.9552v28.16c0 14.848 3.8912 28.672 10.752 40.7552h528.1792c45.568-0.1024 82.5344-36.9664 82.5344-82.5344z" fill="#FFD14F" p-id="1694" /><path d="M420.7616 540.5696l-68.9152 68.9152 26.112 26.112 95.1296-95.1296c18.0224-18.0224 42.496-28.16 67.9936-28.16h-52.3264c-25.6 0.1024-49.9712 10.24-67.9936 28.2624z" fill="#FFA43E" p-id="1695" /><path d="M488.6528 512.4096H214.9376c25.4976 0 49.9712 10.1376 67.9936 28.16l68.9152 68.9152 68.9152-68.9152c18.0224-18.0224 42.496-28.16 67.8912-28.16z" fill="#FFD14F" p-id="1696" /><path d="M499.2 264.0896a26.3168 15.4624 90 1 0 30.9248 0 26.3168 15.4624 90 1 0-30.9248 0Z" fill="#FDF7E5" p-id="1697" /><path d="M377.060391 277.944478a15.4624 26.3168 30 1 0 26.3168-45.582035 15.4624 26.3168 30 1 0-26.3168 45.582035Z" fill="#FDF7E5" p-id="1698" /><path d="M625.699208 262.908333a26.3168 15.4624 60 1 0 26.781662-15.4624 26.3168 15.4624 60 1 0-26.781662 15.4624Z" fill="#FDF7E5" p-id="1699" /><path d="M867.4304 415.0272c11.5712-8.4992 19.1488-22.3232 19.1488-37.7856 0-116.736-94.9248-211.6608-211.6608-211.6608H349.0816c-116.736 0-211.6608 94.9248-211.6608 211.6608 0 15.4624 7.5776 29.184 19.1488 37.7856-11.6736 9.4208-19.1488 23.8592-19.1488 40.0384v16.2816c0 19.968 11.4688 37.2736 28.16 45.7728-17.1008 13.1072-28.16 33.792-28.16 56.9344v73.9328c0 21.504 9.5232 40.7552 24.4736 53.9648-14.336 5.5296-24.4736 19.3536-24.4736 35.6352v28.16c0 51.0976 41.5744 92.672 92.672 92.672h563.8144c51.0976 0 92.672-41.5744 92.672-92.672v-28.16c0-16.1792-10.1376-30.1056-24.4736-35.6352 14.9504-13.2096 24.4736-32.4608 24.4736-53.9648v-73.9328c0-23.1424-11.0592-43.8272-28.16-56.9344 16.6912-8.4992 28.16-25.8048 28.16-45.7728v-16.2816c0-16.1792-7.4752-30.6176-19.1488-40.0384zM184.32 403.5584c-14.5408 0-26.4192-11.776-26.4192-26.4192 0-105.3696 85.8112-191.1808 191.1808-191.1808h325.9392c105.3696 0 191.1808 85.8112 191.1808 191.1808 0 14.5408-11.776 26.4192-26.4192 26.4192H184.32z m293.888 119.0912c-4.4032 3.1744-8.4992 6.7584-12.3904 10.6496l-87.8592 87.8592-87.8592-87.8592c-3.8912-3.8912-8.0896-7.4752-12.3904-10.6496H478.208z m387.8912 243.0976c0 39.8336-32.3584 72.192-72.192 72.192H230.0928c-39.8336 0-72.192-32.3584-72.192-72.192v-28.16c0-9.728 7.9872-17.7152 17.7152-17.7152h672.8704c9.728 0 17.7152 7.9872 17.7152 17.7152v28.16z m0-191.6928v73.9328c0 28.3648-23.04 51.4048-51.4048 51.4048H209.3056c-28.3648 0-51.4048-23.04-51.4048-51.4048v-73.9328c0-28.3648 23.04-51.4048 51.4048-51.4048h5.632c22.9376 0 44.544 8.9088 60.7232 25.1904l95.1296 95.1296c1.9456 1.9456 4.5056 2.9696 7.2704 2.9696 2.6624 0 5.3248-1.024 7.2704-2.9696L480.256 547.84c16.1792-16.1792 37.7856-25.1904 60.7232-25.1904h273.7152c28.3648 0 51.4048 23.1424 51.4048 51.4048z m0-102.8096c0 17.1008-13.824 30.9248-30.9248 30.9248H188.8256c-16.9984 0-30.9248-13.824-30.9248-30.9248v-16.2816c0-17.1008 13.9264-30.9248 30.9248-30.9248h646.3488c17.1008 0 30.9248 13.9264 30.9248 30.9248v16.2816z m-72.192 387.1744zM377.9584 645.9392z m136.704-351.4368c10.9568 0 19.5584-13.4144 19.5584-30.4128 0-17.1008-8.6016-30.4128-19.5584-30.4128s-19.5584 13.4144-19.5584 30.4128c0 17.1008 8.6016 30.4128 19.5584 30.4128z m0-52.6336c5.3248 0 11.3664 9.1136 11.3664 22.2208 0 13.1072-5.9392 22.2208-11.3664 22.2208s-11.3664-9.1136-11.3664-22.2208c0-13.1072 6.0416-22.2208 11.3664-22.2208z m-139.5712 39.6288c2.1504 1.2288 4.5056 1.8432 7.0656 1.8432 3.2768 0 6.7584-1.024 10.3424-3.072 5.632-3.1744 10.8544-8.704 14.7456-15.36 8.4992-14.7456 7.7824-30.6176-1.7408-36.1472-4.9152-2.8672-11.0592-2.3552-17.408 1.2288-5.632 3.1744-10.8544 8.704-14.7456 15.36-8.4992 14.7456-7.7824 30.6176 1.7408 36.1472z m5.3248-32.0512c3.072-5.4272 7.3728-9.9328 11.6736-12.3904 2.2528-1.3312 4.4032-1.9456 6.2464-1.9456 1.1264 0 2.1504 0.2048 2.9696 0.7168 4.608 2.6624 5.2224 13.6192-1.3312 24.9856-3.072 5.4272-7.3728 9.9328-11.6736 12.3904-3.6864 2.048-7.0656 2.56-9.216 1.2288-4.608-2.7648-5.2224-13.6192 1.3312-24.9856zM636.928 280.2688c3.584 2.048 7.0656 3.072 10.3424 3.072 2.56 0 4.9152-0.6144 7.0656-1.8432 9.5232-5.5296 10.24-21.4016 1.7408-36.1472-3.8912-6.7584-9.1136-12.1856-14.7456-15.36-6.3488-3.584-12.4928-3.9936-17.408-1.2288-9.5232 5.5296-10.24 21.4016-1.7408 36.1472 3.8912 6.656 9.1136 12.1856 14.7456 15.36z m-9.0112-44.4416c2.2528-1.3312 5.632-0.8192 9.216 1.2288 4.3008 2.4576 8.6016 6.9632 11.6736 12.3904 6.5536 11.3664 5.9392 22.3232 1.3312 24.9856-2.2528 1.3312-5.632 0.8192-9.216-1.2288-4.3008-2.4576-8.6016-6.9632-11.6736-12.3904-6.5536-11.3664-5.9392-22.2208-1.3312-24.9856z" p-id="1700" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-hotpot"><path d="M962.4576 438.4768h-64.3072c-11.6736-61.6448-37.6832-118.1696-74.5472-165.9904 17.6128 48.0256 27.136 99.84 27.136 153.9072 0 246.9888-200.192 447.1808-447.1808 447.1808-17.92 0-35.5328-1.024-52.8384-3.072 49.152 22.1184 103.7312 34.5088 161.1776 34.5088 192 0 351.744-137.6256 386.1504-319.5904h64.3072c10.752 0 19.456-8.704 19.456-19.456V457.9328c0.1024-10.752-8.6016-19.456-19.3536-19.456z" fill="#FFA43E" p-id="1853" /><path d="M850.8416 426.496c0-54.0672-9.6256-105.8816-27.136-153.9072-71.8848-93.3888-184.7296-153.6-311.7056-153.6-192 0-351.744 137.6256-386.1504 319.5904H61.5424c-10.752 0-19.456 8.704-19.456 19.456v108.1344c0 10.752 8.704 19.456 19.456 19.456h64.3072c24.1664 127.488 109.7728 233.2672 224.9728 285.0816 17.3056 2.048 34.9184 3.072 52.8384 3.072 246.9888-0.1024 447.1808-200.3968 447.1808-447.2832z" fill="#FFD14F" p-id="1854" /><path d="M680.6528 681.6768c0-93.184-75.5712-168.6528-168.6528-168.6528s-168.6528-75.5712-168.6528-168.6528S418.816 175.616 512 175.616v-1.9456c-186.88 0-338.3296 151.4496-338.3296 338.3296S325.12 850.3296 512 850.3296c93.184 0 168.6528-75.4688 168.6528-168.6528z" fill="#FDF7E5" p-id="1855" /><path d="M512 173.6704v1.9456c-93.184 0-168.6528 75.5712-168.6528 168.6528S418.816 512.9216 512 512.9216s168.6528 75.5712 168.6528 168.6528S605.184 850.3296 512 850.3296c186.88 0 338.3296-151.4496 338.3296-338.3296S698.88 173.6704 512 173.6704z" fill="#E01E22" p-id="1856" /><path d="M557.568 394.1376l19.5584-19.5584c27.648-27.648-27.4432-82.6368-54.9888-54.9888L391.5776 450.048s6.2464 29.3888 62.464 52.6336 92.16 11.5712 92.16 11.5712l59.8016-59.8016c27.5456-27.5456-20.8896-87.8592-48.4352-60.3136z" fill="#F06661" p-id="1857" /><path d="M592.4864 444.7232c14.336-14.336-17.5104-46.08-31.744-31.744-14.336 14.336 17.408 46.08 31.744 31.744z" fill="#E01E22" p-id="1858" /><path d="M349.4912 488.7552c0-14.9504-10.9568-27.7504-26.4192-32.768 3.3792 5.12 5.4272 11.0592 5.4272 17.408 0 12.1856-7.2704 22.9376-18.2272 29.184 1.536 3.9936 2.3552 8.192 2.3552 12.5952 0 21.9136-20.6848 39.7312-46.2848 39.7312-6.4512 0-12.5952-1.1264-18.2272-3.1744 8.192 11.1616 22.6304 18.6368 39.2192 18.6368 25.6 0 46.2848-17.8176 46.2848-39.7312 0-4.4032-0.8192-8.6016-2.3552-12.5952 10.9568-6.3488 18.2272-17.1008 18.2272-29.2864z" fill="#3EBA4A" p-id="1859" /><path d="M312.6272 515.1744c0-4.4032-0.8192-8.6016-2.3552-12.5952 10.9568-6.2464 18.2272-16.9984 18.2272-29.184 0-6.3488-1.9456-12.288-5.4272-17.408-4.5056-1.4336-9.4208-2.2528-14.5408-2.2528-14.6432 0-27.5456 6.656-34.7136 16.5888-5.9392-3.9936-13.312-6.3488-21.4016-6.3488-19.2512 0-34.9184 13.4144-34.9184 30.0032 0 13.4144 10.24 24.7808 24.4736 28.5696-0.6144 2.56-0.9216 5.3248-0.9216 8.0896 0 7.7824 2.6624 15.0528 7.0656 21.1968 5.632 2.048 11.776 3.1744 18.2272 3.1744 25.6-0.1024 46.2848-17.92 46.2848-39.8336z" fill="#68E077" p-id="1860" /><path d="M558.6944 620.4416c14.848 17.8176 21.1968 41.1648 15.1552 64.512-10.8544 42.2912-58.0608 68.8128-105.472 59.0848-4.8128-1.024-9.4208-2.2528-13.824-3.8912 12.0832 14.4384 29.696 25.3952 50.9952 29.696 47.4112 9.728 94.6176-16.7936 105.472-59.0848 9.728-38.0928-13.2096-75.9808-52.3264-90.3168zM432.5376 586.8544c13.4144 16.0768 19.1488 37.1712 13.7216 58.2656-9.8304 38.2976-52.5312 62.1568-95.3344 53.4528-4.3008-0.9216-8.4992-2.048-12.4928-3.584 10.8544 13.1072 26.9312 22.9376 46.08 26.8288 42.9056 8.704 85.6064-15.1552 95.3344-53.4528 8.8064-34.304-11.9808-68.608-47.3088-81.5104z" fill="#7C4115" p-id="1861" /><path d="M446.2592 645.12c5.4272-21.0944-0.3072-42.1888-13.7216-58.2656-3.9936-1.4336-8.192-2.6624-12.4928-3.584-42.9056-8.704-85.6064 15.1552-95.3344 53.4528-5.4272 21.0944 0.3072 42.1888 13.7216 58.2656 3.9936 1.4336 8.192 2.6624 12.4928 3.584 42.8032 8.704 85.504-15.1552 95.3344-53.4528zM573.8496 684.9536c5.9392-23.3472-0.3072-46.592-15.1552-64.512-4.4032-1.6384-9.0112-2.9696-13.824-3.8912-47.4112-9.728-94.6176 16.7936-105.472 59.0848-5.9392 23.3472 0.4096 46.592 15.2576 64.512 4.4032 1.6384 9.0112 2.9696 13.824 3.8912 47.3088 9.6256 94.5152-16.7936 105.3696-59.0848z" fill="#8B5526" p-id="1862" /><path d="M542.3104 676.1472l33.28 13.824-37.6832 1.1264c-2.7648 0.1024-5.2224 1.3312-6.5536 3.1744l-17.6128 26.0096-1.4336-29.3888c-0.1024-2.1504-1.6384-4.096-4.096-5.12l-33.28-13.824 37.6832-1.1264c2.7648-0.1024 5.2224-1.3312 6.5536-3.1744l17.6128-26.0096 1.4336 29.3888c0 2.2528 1.6384 4.1984 4.096 5.12zM419.5328 636.928l30.72 12.6976-34.7136 1.024c-2.56 0.1024-4.8128 1.2288-6.0416 2.9696L393.216 677.5808l-1.3312-27.0336c-0.1024-1.9456-1.536-3.7888-3.7888-4.7104l-30.72-12.6976 34.7136-1.024c2.56-0.1024 4.8128-1.2288 6.0416-2.9696l16.2816-23.9616 1.3312 27.0336c0.1024 1.9456 1.536 3.7888 3.7888 4.7104z" fill="#C8A981" p-id="1863" /><path d="M767.8976 503.6032c3.584 7.0656 5.632 15.0528 5.632 23.552 0 28.8768-23.3472 52.224-52.224 52.224-8.4992 0-16.4864-2.048-23.552-5.632 8.6016 16.9984 26.3168 28.7744 46.6944 28.7744 28.8768 0 52.224-23.3472 52.224-52.224 0-20.3776-11.776-38.0928-28.7744-46.6944z" fill="#E01E22" p-id="1864" /><path d="M773.5296 527.1552c0-8.4992-2.048-16.4864-5.632-23.552-7.0656-3.584-15.0528-5.632-23.552-5.632-28.8768 0-52.224 23.4496-52.224 52.224 0 8.4992 2.048 16.4864 5.632 23.552 7.0656 3.584 15.0528 5.632 23.552 5.632 28.7744 0 52.224-23.3472 52.224-52.224z" fill="#F06661" p-id="1865" /><path d="M563.5072 364.9536c14.336-14.336-17.5104-46.08-31.744-31.744-14.336 14.2336 17.5104 45.9776 31.744 31.744z" fill="#E01E22" p-id="1866" /><path d="M752.3328 369.5616c3.1744 5.7344 5.0176 12.288 5.0176 19.3536 0 22.016-17.8176 39.8336-39.8336 39.8336-7.0656 0-13.6192-1.8432-19.3536-5.0176 6.7584 12.1856 19.8656 20.48 34.816 20.48 22.016 0 39.8336-17.8176 39.8336-39.8336 0-15.0528-8.2944-28.0576-20.48-34.816z" fill="#FFA43E" p-id="1867" /><path d="M717.7216 310.6816c4.096 7.4752 6.5536 15.9744 6.5536 25.088 0 28.5696-23.1424 51.712-51.712 51.712-9.1136 0-17.7152-2.3552-25.088-6.5536 8.8064 15.872 25.8048 26.624 45.2608 26.624 28.5696 0 51.712-23.1424 51.712-51.712-0.1024-19.3536-10.8544-36.2496-26.7264-45.1584z" fill="#E2E2E2" p-id="1868" /><path d="M757.3504 388.9152c0-7.0656-1.8432-13.6192-5.0176-19.3536-5.7344-3.1744-12.288-5.0176-19.3536-5.0176-22.016 0-39.8336 17.8176-39.8336 39.8336 0 7.0656 1.8432 13.6192 5.0176 19.3536 5.7344 3.1744 12.288 5.0176 19.3536 5.0176 21.9136 0 39.8336-17.92 39.8336-39.8336z" fill="#FFD14F" p-id="1869" /><path d="M724.2752 335.872c0-9.1136-2.3552-17.7152-6.5536-25.088-7.4752-4.096-15.9744-6.5536-25.088-6.5536-28.5696 0-51.712 23.1424-51.712 51.712 0 9.1136 2.3552 17.7152 6.5536 25.088 7.4752 4.096 15.9744 6.5536 25.088 6.5536 28.5696 0 51.712-23.1424 51.712-51.712z" fill="#FFFFFF" p-id="1870" /><path d="M512 163.4304c-93.0816 0-180.6336 36.2496-246.4768 102.0928S163.4304 418.9184 163.4304 512s36.2496 180.6336 102.0928 246.4768 153.3952 102.0928 246.4768 102.0928 180.6336-36.2496 246.4768-102.0928 102.0928-153.3952 102.0928-246.4768-36.2496-180.6336-102.0928-246.4768-153.3952-102.0928-246.4768-102.0928zM183.9104 512c0-142.6432 91.5456-264.3968 218.9312-309.4528-42.3936 32.768-69.8368 84.0704-69.8368 141.7216 0 98.6112 80.2816 178.8928 178.8928 178.8928 87.3472 0 158.4128 71.0656 158.4128 158.4128S599.3472 840.0896 512 840.0896c-180.9408 0-328.0896-147.1488-328.0896-328.0896z m414.8224-64.8192l-6.9632 6.9632c-5.12-1.7408-11.3664-5.8368-17.2032-11.6736-10.5472-10.5472-15.36-22.2208-10.9568-26.624 2.2528-2.2528 5.3248-2.9696 9.1136-2.048 3.8912 0.9216 8.0896 3.584 11.6736 7.168s6.2464 7.8848 7.168 11.6736c0.9216 3.7888 0.3072 6.8608-2.048 9.1136-1.6384 1.6384-1.6384 4.1984 0 5.8368 1.6384 1.6384 4.1984 1.6384 5.8368 0 4.3008-4.3008 5.8368-10.3424 4.096-16.896-1.3312-5.3248-4.608-10.8544-9.3184-15.4624-9.0112-9.0112-23.04-14.5408-32.3584-5.12-9.4208 9.4208-1.2288 25.9072 10.9568 38.1952 5.12 5.12 10.9568 9.5232 16.6912 12.1856L550.4 495.616c-10.6496-15.36-15.872-38.2976-16.0768-55.5008-0.1024-3.7888 0.1024-7.0656 0.512-9.9328l23.4496-23.4496c10.6496-10.6496 26.7264-0.2048 33.6896 6.7584 6.9632 7.0656 17.408 23.04 6.7584 33.6896z m-123.904 42.9056c0 2.7648 0.1024 5.5296 0.3072 8.2944-2.2528-0.512-4.5056-1.1264-6.7584-1.7408l6.4512-6.5536z m8.6016 10.0352c-0.7168-7.168-0.6144-13.5168 0-18.6368l22.7328-22.7328c0.4096 12.9024 3.584 28.672 10.5472 44.032-1.536 0-3.072-0.1024-4.7104-0.1024-9.728 0-19.2512-0.8192-28.5696-2.56z m42.5984 3.1744c-10.0352-19.8656-12.4928-40.1408-11.5712-52.736l11.6736-11.6736v1.3312c0.3072 19.5584 6.144 44.4416 18.432 61.2352l-3.584 3.584c-5.0176-0.8192-9.9328-1.3312-14.9504-1.7408z m43.8272-135.8848l-6.9632 6.9632c-5.12-1.7408-11.3664-5.8368-17.2032-11.6736-10.5472-10.5472-15.36-22.2208-10.9568-26.624 5.12-5.12 14.336-1.2288 20.7872 5.12 3.584 3.584 6.2464 7.8848 7.168 11.6736 0.9216 3.7888 0.3072 6.8608-2.048 9.1136-1.6384 1.6384-1.6384 4.1984 0 5.8368 1.6384 1.6384 4.1984 1.6384 5.8368 0 9.3184-9.3184 3.8912-23.3472-5.12-32.3584s-23.04-14.5408-32.3584-5.12c-9.4208 9.4208-1.2288 25.9072 10.9568 38.1952 5.12 5.12 10.9568 9.5232 16.7936 12.1856l-6.3488 6.3488-0.2048 0.2048c-2.2528 1.4336-4.4032 3.072-6.3488 5.12l-22.8352 22.8352c-10.3424-15.36-15.36-37.888-15.5648-54.784-0.1024-3.7888 0.1024-7.0656 0.4096-9.8304l23.4496-23.4496c4.3008-4.3008 9.728-5.5296 16.4864-3.7888 12.0832 3.1744 24.576 15.6672 27.7504 27.7504 1.8432 6.5536 0.6144 11.8784-3.6864 16.2816z m-72.704-8.3968v1.3312c0.3072 19.2512 5.9392 43.7248 17.92 60.6208l-12.3904 12.3904c-14.5408-22.2208-18.3296-47.7184-17.2032-62.5664l11.6736-11.776zM477.184 378.9824c0.1024 4.096 0.6144 8.3968 1.2288 12.9024 1.6384 10.4448 6.144 29.2864 18.3296 47.3088l-27.136 27.136c-10.3424-15.36-15.36-37.888-15.5648-54.784-0.1024-3.7888 0.1024-7.0656 0.4096-9.8304l22.7328-22.7328z m-31.3344 31.3344v1.3312c0.3072 19.2512 5.9392 43.7248 17.92 60.6208l-12.3904 12.3904c-14.5408-22.2208-18.3296-47.7184-17.2032-62.5664l11.6736-11.776z m-20.0704 20.0704c0.1024 4.096 0.6144 8.3968 1.2288 12.9024 1.536 9.728 5.5296 26.8288 15.9744 43.7248-16.0768-7.7824-30.6176-18.2272-43.1104-30.72l25.9072-25.9072z m199.7824 389.4272c39.936-32.8704 65.4336-82.6368 65.4336-138.24 0-80.4864-53.3504-148.6848-126.5664-171.1104l48.8448-48.8448c18.3296-18.3296 10.4448-45.4656-6.8608-62.6688-6.8608-6.8608-15.36-12.288-24.1664-15.1552l2.048-2.048c9.5232-9.5232 12.8-22.4256 9.0112-36.2496-5.12-19.3536-22.9376-37.0688-42.2912-42.2912-13.824-3.6864-26.7264-0.512-36.2496 9.0112L386.4576 440.7296c-20.5824-26.7264-32.8704-60.2112-32.8704-96.4608 0-87.3472 71.0656-158.4128 158.4128-158.4128 2.1504 0 4.1984-0.7168 5.8368-1.8432 178.176 3.1744 322.2528 149.0944 322.2528 327.9872 0 141.0048-89.3952 261.5296-214.528 307.8144z m272.5888-262.144c-2.2528 0-4.096-1.8432-4.096-4.096v-83.1488c0-2.2528 1.8432-4.096 4.096-4.096s4.096 1.8432 4.096 4.096v83.1488c0 2.2528-1.7408 4.096-4.096 4.096z m-772.3008-91.3408c2.2528 0 4.096 1.8432 4.096 4.096v83.1488c0 2.2528-1.8432 4.096-4.096 4.096s-4.096-1.8432-4.096-4.096v-83.1488c0-2.2528 1.8432-4.096 4.096-4.096z m218.0096 64.2048c0-2.7648-0.3072-5.632-0.8192-8.2944 10.5472-8.4992 16.5888-20.5824 16.5888-33.4848 0-24.9856-22.9376-45.3632-51.0976-45.3632-14.2336 0-27.4432 5.12-37.0688 14.0288-5.9392-2.4576-12.3904-3.7888-19.1488-3.7888-24.8832 0-45.1584 18.0224-45.1584 40.2432 0 15.0528 9.1136 28.3648 23.4496 35.328v1.3312c0 27.5456 25.3952 49.9712 56.5248 49.9712s56.7296-22.3232 56.7296-49.9712z m-22.1184-8.9088c1.1264 2.8672 1.7408 5.9392 1.7408 8.9088 0 16.2816-16.1792 29.4912-36.0448 29.4912-19.8656 0-36.0448-13.2096-36.0448-29.4912 0-1.9456 0.2048-3.7888 0.7168-5.7344 1.3312-5.4272-1.9456-10.8544-7.2704-12.288-10.0352-2.7648-16.896-10.24-16.896-18.7392 0-10.8544 11.0592-19.7632 24.6784-19.7632 5.8368 0 11.264 1.6384 15.7696 4.608 4.608 3.072 10.752 1.9456 14.0288-2.56 5.5296-7.5776 15.6672-12.3904 26.4192-12.3904 16.896 0 30.6176 11.1616 30.6176 24.8832 0 8.0896-4.9152 15.6672-13.1072 20.3776-4.608 2.6624-6.4512 7.9872-4.608 12.6976z m203.3664 260.4032c44.7488 0 85.2992-27.8528 95.8464-68.8128 5.632-21.7088 1.9456-44.4416-10.24-63.7952-13.6192-21.7088-36.864-37.376-63.8976-42.9056-22.016-4.5056-44.032-1.8432-63.0784 6.144-12.4928-20.5824-34.2016-35.5328-59.904-40.7552-48.8448-10.0352-97.792 17.8176-109.1584 61.952-5.2224 20.2752-1.8432 41.3696 9.5232 59.392 12.6976 20.2752 34.304 34.816 59.392 39.936 6.656 1.3312 13.4144 2.048 20.1728 2.048 10.9568 0 21.8112-1.7408 32.0512-5.2224 1.2288 2.3552 2.4576 4.608 3.8912 6.8608 13.6192 21.7088 36.864 37.376 63.8976 42.9056 7.168 1.536 14.4384 2.2528 21.504 2.2528z m-137.3184-68.9152c-19.6608-3.9936-36.4544-15.1552-46.08-30.72-8.2944-13.312-10.752-28.672-6.9632-43.52 8.6016-33.6896 46.8992-54.784 85.1968-47.0016 19.6608 3.9936 36.352 15.1552 45.9776 30.5152-8.192 5.632-15.5648 12.4928-21.504 20.2752l-23.2448-9.6256c-0.8192-0.3072-1.2288-0.8192-1.2288-1.1264l-1.3312-27.0336c-0.1024-1.7408-1.2288-3.2768-2.9696-3.7888s-3.4816 0.2048-4.5056 1.6384L394.8544 626.688c-0.3072 0.512-1.3312 1.1264-2.7648 1.1264l-34.7136 1.024c-1.9456 0.1024-3.584 1.4336-3.8912 3.3792-0.3072 1.9456 0.7168 3.7888 2.4576 4.5056l30.72 12.6976c0.8192 0.3072 1.2288 0.8192 1.2288 1.1264l1.3312 27.0336c0.1024 1.7408 1.2288 3.2768 2.9696 3.7888 0.4096 0.1024 0.7168 0.2048 1.1264 0.2048 1.3312 0 2.56-0.6144 3.3792-1.8432l16.2816-23.9616c0.4096-0.512 1.3312-1.1264 2.7648-1.1264l21.4016-0.6144c-3.1744 5.9392-5.7344 12.288-7.4752 18.944-3.1744 12.4928-3.3792 25.2928-0.6144 37.6832-13.2096 4.4032-27.5456 5.3248-41.2672 2.4576z m43.2128-66.9696l-15.5648 0.512c-3.8912 0.1024-7.3728 1.8432-9.3184 4.7104l-9.4208 13.824-0.7168-14.848c-0.2048-3.584-2.56-6.7584-6.3488-8.2944l-13.0048-5.4272 15.5648-0.512c3.8912-0.1024 7.3728-1.8432 9.3184-4.7104l9.4208-13.824 0.7168 14.848c0.2048 3.584 2.56 6.7584 6.3488 8.2944l13.0048 5.4272z m26.0096 79.872c-9.1136-14.6432-11.8784-31.6416-7.68-47.9232 4.7104-18.3296 17.3056-33.1776 33.9968-42.5984 0 0 0.1024 0 0.1024-0.1024 0.6144-0.3072 1.2288-0.6144 1.7408-1.024 11.8784-6.2464 25.6-9.728 39.936-9.728 5.8368 0 11.776 0.6144 17.7152 1.8432 21.504 4.4032 39.936 16.6912 50.5856 33.6896 9.1136 14.6432 11.8784 31.6416 7.68 47.9232-8.192 31.8464-40.2432 53.3504-75.776 53.3504-5.8368 0-11.776-0.6144-17.7152-1.8432-21.504-4.3008-39.936-16.5888-50.5856-33.5872z m80.9984-30.8224l37.6832-1.1264c1.9456-0.1024 3.584-1.4336 3.8912-3.3792s-0.7168-3.7888-2.4576-4.5056l-33.28-13.824c-1.024-0.4096-1.536-1.1264-1.536-1.536l-1.4336-29.3888c-0.1024-1.7408-1.2288-3.2768-2.9696-3.7888s-3.4816 0.2048-4.5056 1.6384l-17.6128 26.0096c-0.4096 0.7168-1.6384 1.3312-3.2768 1.4336l-37.6832 1.1264c-1.9456 0.1024-3.584 1.4336-3.8912 3.3792-0.3072 1.9456 0.7168 3.7888 2.4576 4.5056l33.28 13.824c1.024 0.4096 1.536 1.1264 1.536 1.536l1.4336 29.3888c0.1024 1.7408 1.2288 3.2768 2.9696 3.7888 0.4096 0.1024 0.7168 0.2048 1.1264 0.2048 1.3312 0 2.56-0.6144 3.3792-1.8432l17.6128-26.0096c0.512-0.7168 1.6384-1.4336 3.2768-1.4336z m-10.0352-3.1744l-10.752 15.872-0.8192-17.2032c-0.2048-3.6864-2.7648-7.0656-6.656-8.704l-15.6672-6.4512 18.5344-0.512c4.096-0.1024 7.7824-1.9456 9.8304-5.0176l10.752-15.872 0.8192 17.2032c0.2048 3.6864 2.7648 7.0656 6.656 8.704l15.6672 6.4512-18.5344 0.512c-4.096 0.1024-7.7824 1.9456-9.8304 5.0176z m-14.2336 32.3584z m168.1408-174.08c0 34.5088 28.0576 62.464 62.464 62.464 34.5088 0 62.464-28.0576 62.464-62.464s-28.0576-62.464-62.464-62.464-62.464 27.9552-62.464 62.464z m104.5504 0c0 23.1424-18.8416 41.984-41.984 41.984s-41.984-18.8416-41.984-41.984 18.8416-41.984 41.984-41.984c23.04 0 41.984 18.8416 41.984 41.984z m-94.3104-256.3072c-34.4064 0-62.3616 27.9552-62.3616 62.3616 0 31.9488 24.1664 58.368 55.1936 61.952 6.0416 20.7872 25.2928 36.1472 48.128 36.1472 27.648 0 50.0736-22.4256 50.0736-50.0736 0-19.968-11.6736-37.1712-28.5696-45.2608 0-0.9216 0.1024-1.8432 0.1024-2.7648-0.2048-34.4064-28.16-62.3616-62.5664-62.3616zM650.24 356.352c0-23.1424 18.8416-41.8816 41.8816-41.8816 22.4256 0 40.7552 17.7152 41.8816 39.8336h-1.024c-25.1904 0-46.1824 18.7392-49.5616 43.1104-18.944-4.096-33.1776-20.8896-33.1776-41.0624z m82.7392 77.6192c-16.2816 0-29.5936-13.312-29.5936-29.5936s13.312-29.5936 29.5936-29.5936c16.2816 0 29.5936 13.312 29.5936 29.5936s-13.312 29.5936-29.5936 29.5936z m259.1744 23.9616v108.1344c0 16.384-13.312 29.696-29.696 29.696h-55.808c-39.2192 185.6512-203.776 319.5904-394.5472 319.5904S156.672 781.5168 117.5552 595.7632H61.5424c-16.384 0-29.696-13.312-29.696-29.696V457.9328c0-16.384 13.312-29.696 29.696-29.696h55.9104c39.1168-185.6512 203.776-319.5904 394.5472-319.5904 45.9776 0 91.0336 7.68 133.9392 22.7328 41.472 14.6432 80.1792 35.84 114.8928 63.1808 4.4032 3.4816 5.2224 9.9328 1.7408 14.336-3.4816 4.4032-9.9328 5.2224-14.336 1.7408-67.8912-53.3504-149.6064-81.5104-236.2368-81.5104-183.808 0-342.016 130.8672-376.1152 311.1936-0.9216 5.12-5.5296 8.6016-10.6496 8.2944H61.5424c-5.12 0-9.216 4.096-9.216 9.216v108.1344c0 5.12 4.096 9.216 9.216 9.216h63.7952c5.0176-0.2048 9.5232 3.2768 10.4448 8.2944C169.984 763.904 328.192 894.7712 512 894.7712S854.016 763.904 888.1152 583.5776c0.9216-5.12 5.5296-8.6016 10.6496-8.2944h63.6928c5.12 0 9.216-4.096 9.216-9.216V457.9328c0-5.12-4.096-9.216-9.216-9.216h-63.7952c-5.0176 0.2048-9.5232-3.2768-10.4448-8.2944-13.7216-72.704-48.2304-139.4688-99.6352-193.2288-3.8912-4.096-3.7888-10.5472 0.3072-14.4384s10.5472-3.7888 14.4384 0.3072c52.224 54.4768 87.8592 121.856 103.3216 195.2768h55.808c16.384-0.1024 29.696 13.2096 29.696 29.5936z" p-id="1871" /></symbol><symbol viewBox="0 0 1024 1024"  id="svg-light">\r
    <path d="M565.096296 289.185185s-0.948148 0 0 0c-110.933333-20.859259-208.592593 40.77037-237.985185 148.859259-14.222222 53.096296-24.651852 101.451852 44.562963 221.866667 14.222222 25.6 11.377778 70.162963 8.533333 95.762963-1.896296 14.222222 64.474074 36.02963 89.125926 42.666667l95.762963-509.155556z" fill="#cccccc" />\r
    <path d="M732.918519 513.896296c11.377778-111.881481-56.888889-203.851852-166.874075-224.711111h-0.948148L469.333333 798.340741c25.6 2.844444 94.814815 6.637037 98.607408-7.585185 6.637037-25.6 20.859259-67.318519 42.666666-86.281482C719.644444 618.192593 727.22963 568.888889 732.918519 513.896296z" fill="#bbbbbb" />\r
    <path d="M467.437037 806.874074c-7.585185-0.948148-12.325926-7.585185-14.222222-14.222222l-38.874074-256c-0.948148-5.688889 0.948148-11.377778 4.74074-15.170371 3.792593-3.792593 9.481481-5.688889 15.170371-4.74074l167.822222 31.288889c5.688889 0.948148 10.42963 4.740741 12.325926 9.481481 1.896296 4.740741 1.896296 11.377778-0.948148 16.118519L486.4 798.340741c-3.792593 6.637037-11.377778 10.42963-18.962963 8.533333z m-14.222222-251.259259l27.496296 182.992592L572.681481 578.37037l-119.466666-22.755555z" fill="#666666" />\r
    <path d="M375.466667 709.214815l-25.6 137.481481c0 2.844444 1.896296 5.688889 7.585185 10.42963l65.422222 54.992593c5.688889 4.740741 15.17037 8.533333 23.703704 10.429629l36.029629-193.422222-107.14074-19.911111z" fill="#2D4375" />\r
    <path d="M482.607407 729.125926l-36.029629 193.422222c9.481481 1.896296 18.014815 1.896296 25.6-0.948148l80.592592-27.496296c6.637037-1.896296 10.42963-4.740741 11.377778-6.637037L589.748148 749.037037l-107.140741-19.911111z" fill="#1E2D4F" />\r
    <path d="M593.540741 807.822222c1.896296-7.585185-3.792593-15.17037-11.377778-16.118518l-107.140741-19.911111-4.740741 27.496296 107.140741 19.911111c6.637037 0.948148 14.222222-3.792593 16.118519-11.377778z" fill="#CEEFF6" />\r
    <path d="M366.933333 750.933333c-7.585185-1.896296-15.17037 3.792593-16.118518 11.377778-1.896296 7.585185 3.792593 15.17037 11.377778 16.118519l107.14074 19.911111 4.740741-27.496297-107.140741-19.911111zM356.503704 808.77037c-7.585185-1.896296-15.17037 3.792593-16.118519 11.377778-1.896296 7.585185 3.792593 15.17037 11.377778 16.118519l107.140741 19.911111 4.74074-27.496297-107.14074-19.911111z" fill="#FFFFFF" />\r
    <path d="M570.785185 848.592593l-107.140741-19.911112-4.74074 27.496297 107.14074 19.911111c7.585185 1.896296 15.17037-3.792593 16.118519-11.377778 1.896296-7.585185-2.844444-15.17037-11.377778-16.118518z" fill="#CEEFF6" />\r
</symbol><symbol class="icon" viewBox="0 0 1580 1024"   id="svg-now-time"><path d="M54.993477 66.732873m55.901883 0l1163.038674 0q55.901883 0 55.901883 55.901883l0 625.891456q0 55.901883-55.901883 55.901883l-1163.038674 0q-55.901883 0-55.901883-55.901883l0-625.891456q0-55.901883 55.901883-55.901883Z" fill="#e6e6e6" p-id="6094" data-spm-anchor-id="a313x.search_index.0.i18.9f9f3a81a77f69" class="" /><path d="M1281.900053 860.190223H102.929342A102.999219 102.999219 0 0 1 0 757.330759V113.830209A103.069097 103.069097 0 0 1 102.929342 10.900867h1178.970711a102.999219 102.999219 0 0 1 102.859464 102.929342v643.50055a102.929342 102.929342 0 0 1-102.859464 102.859464zM102.929342 24.876338A89.023749 89.023749 0 0 0 13.975471 113.830209v643.50055a89.023749 89.023749 0 0 0 88.953871 88.883994h1178.970711a89.023749 89.023749 0 0 0 88.883993-88.883994V113.830209a89.023749 89.023749 0 0 0-88.883993-88.953871z" fill="#cdcdcd" p-id="6095" data-spm-anchor-id="a313x.search_index.0.i21.9f9f3a81a77f69" class="" /><path d="M145.554528 854.390403m21.452347 0l155.896376 0q21.452348 0 21.452348 21.452348l0 0q0 21.452348-21.452348 21.452347l-155.896376 0q-21.452348 0-21.452347-21.452347l0 0q0-21.452348 21.452347-21.452348Z" fill="#707070" p-id="6096" data-spm-anchor-id="a313x.search_index.0.i23.9f9f3a81a77f69" class="" /><path d="M262.45934 0m12.438169 0l835.034376 0q12.438169 0 12.438169 12.438169l0 0q0 12.438169-12.438169 12.438169l-835.034376 0q-12.438169 0-12.438169-12.438169l0 0q0-12.438169 12.438169-12.438169Z" fill="#8a8a8a" p-id="6097" data-spm-anchor-id="a313x.search_index.0.i24.9f9f3a81a77f69" class="" /><path d="M1006.02426 853.202488m21.452348 0l155.896376 0q21.452348 0 21.452348 21.452348l0 0q0 21.452348-21.452348 21.452347l-155.896376 0q-21.452348 0-21.452348-21.452347l0 0q0-21.452348 21.452348-21.452348Z" fill="#707070" p-id="6098" data-spm-anchor-id="a313x.search_index.0.i25.9f9f3a81a77f69" class="" /><path d="M1273.934034 832.379037H110.89536a83.852824 83.852824 0 0 1-83.852824-83.852825V122.634756a83.852824 83.852824 0 0 1 83.852824-83.852825h1163.038674a83.852824 83.852824 0 0 1 83.852825 83.852825v625.891456a83.852824 83.852824 0 0 1-83.852825 83.852825zM110.89536 94.683814a27.950941 27.950941 0 0 0-27.950941 27.950942v625.891456a27.950941 27.950941 0 0 0 27.950941 27.950942h1163.038674a27.950941 27.950941 0 0 0 27.950942-27.950942V122.634756a27.950941 27.950941 0 0 0-27.950942-27.950942z" fill="#8a8a8a" p-id="6099" data-spm-anchor-id="a313x.search_index.0.i22.9f9f3a81a77f69" class="" /><path d="M258.126944 581.589214h-5.729943q-51.639364-3.354113-51.639364-56.530779v-59.954769q0.419264-34.938677 23.129404-44.931139c-13.975471-7.406999-20.613819-21.38247-20.963206-41.926412v-50.870713a83.852824 83.852824 0 0 1 1.397547-15.442895q6.219084-40.109601 54.224826-40.109601h57.369308a109.358058 109.358058 0 0 1 15.652527 0.978283q40.039724 6.987735 40.039724 54.574213v50.730959c0 20.33431-6.987735 34.309781-20.963206 41.926412 15.163386 6.428717 22.849895 21.452348 23.199281 44.931138v59.95477q-0.489141 55.901883-57.439185 56.530779zM237.583002 552.031094h100.62339c2.934849 0 4.75166-2.236075 5.310679-5.799821V440.995979c0-3.913132-1.746934-5.79982-5.310679-5.799821H237.583002a6.149207 6.149207 0 0 0-5.79982 5.799821v105.305172A6.149207 6.149207 0 0 0 237.583002 552.031094z m2.236076-144.506368H335.411297c3.563745 0 5.310679-1.886689 5.310679-5.79982V306.621828A6.149207 6.149207 0 0 0 335.411297 300.472621H239.469691c-3.284236 0-5.240802 2.37583-5.79982 6.288961v95.033201a6.149207 6.149207 0 0 0 5.79982 5.799821zM497.177371 581.589214h-5.79982q-51.569487-3.354113-51.639365-56.530779v-59.954769c0-23.199281 8.035896-38.153035 23.199282-44.931139-13.975471-7.406999-20.963206-21.38247-20.963206-41.926412v-50.870713a90.141786 90.141786 0 0 1 1.32767-15.442895q6.288962-40.109601 54.364581-40.109601h57.369307a107.681002 107.681002 0 0 1 15.58265 0.978283q40.179478 6.987735 40.109601 54.574213v50.730959c-0.349387 20.33431-6.987735 34.309781-20.963206 41.926412 15.163386 6.428717 22.849895 21.452348 23.199281 44.931138v59.95477q-0.489141 55.901883-57.439185 56.530779z m-20.963206-29.488243h100.623389c2.934849 0 4.681783-2.236075 5.310679-5.79982V440.995979c0-3.913132-1.746934-5.79982-5.310679-5.799821H476.284042a6.149207 6.149207 0 0 0-5.79982 5.799821v105.305172a6.149207 6.149207 0 0 0 5.79982 5.729943z m2.236075-144.506367h96.221116c3.563745 0 5.310679-1.886689 5.310679-5.799821V306.621828a6.219084 6.219084 0 0 0-5.310679-6.288962H478.520118c-3.284236 0-5.240802 2.37583-5.799821 6.288962V401.794783a6.149207 6.149207 0 0 0 5.799821 5.799821zM675.224868 439.528554v-46.887704h33.890517v46.887704z m0 127.106907v-46.887705h33.890517v46.887705zM828.815292 581.589214h-5.799821q-51.569487-3.354113-51.639364-56.530779v-59.954769c0-23.199281 8.035896-38.153035 23.199281-44.931139-13.975471-7.406999-20.963206-21.38247-20.963206-41.926412v-50.870713a90.141786 90.141786 0 0 1 1.32767-15.442895q6.288962-40.109601 54.294704-40.109601h57.439184a107.681002 107.681002 0 0 1 15.58265 0.978283q40.039724 6.987735 40.109601 54.574213v50.730959c-0.349387 20.33431-7.337122 34.309781-20.963206 41.926412 15.163386 6.428717 22.849895 21.452348 23.129404 44.931138v59.95477q-0.419264 55.901883-57.369307 56.530779z m-20.963207-29.488243H908.405597c3.004726 0 4.75166-2.236075 5.380557-5.79982V440.995979c0-3.913132-1.816811-5.79982-5.380557-5.799821h-100.483634a6.07933 6.07933 0 0 0-5.799821 5.799821v105.305172a6.149207 6.149207 0 0 0 5.799821 5.729943z m2.236076-144.506367h96.221116c3.563745 0 5.310679-1.886689 5.310679-5.799821V306.621828a6.219084 6.219084 0 0 0-5.310679-6.288962h-96.151239c-3.284236 0-5.240802 2.37583-5.79982 6.288962V401.794783a6.149207 6.149207 0 0 0 5.79982 5.799821zM1067.865718 581.589214H1062.135775q-51.569487-3.354113-51.639364-56.530779v-59.954769q0.419264-34.938677 23.199281-44.931139c-13.975471-7.406999-20.963206-21.38247-20.963206-41.926412v-50.870713a90.141786 90.141786 0 0 1 1.32767-15.442895q6.288962-40.109601 54.294704-40.109601h57.439185a107.681002 107.681002 0 0 1 15.582649 0.978283q40.039724 6.987735 40.039724 54.574213v50.730959c0 20.33431-6.987735 34.309781-20.963206 41.926412 15.163386 6.428717 22.849895 21.452348 23.129404 44.931138v59.95477q-0.419264 55.901883-57.369307 56.530779z m-20.963206-29.488243h100.553512c3.004726 0 4.75166-2.236075 5.380556-5.79982V440.995979c0-3.913132-1.816811-5.79982-5.380556-5.799821h-100.483634a6.07933 6.07933 0 0 0-5.799821 5.799821v105.305172a6.149207 6.149207 0 0 0 5.799821 5.729943z m2.166198-144.506367h96.221116c3.493868 0 5.310679-1.886689 5.310679-5.799821V306.621828a6.219084 6.219084 0 0 0-5.310679-6.288962h-96.151238c-3.214358 0-5.170924 2.37583-5.729943 6.288962V401.794783a6.149207 6.149207 0 0 0 5.729943 5.799821z" fill="#2c2c2c" p-id="6100" data-spm-anchor-id="a313x.search_index.0.i20.9f9f3a81a77f69" class="" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-pie-charts"><path d="M512 512V38.4A473.6 473.6 0 0 1 985.6 512z" fill="" p-id="17258" /><path d="M916.096 576A409.344 409.344 0 1 1 448 107.904V43.232A473.344 473.344 0 1 0 980.768 576z" fill="" p-id="17259" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-progress-a"><path d="M324.266667 599.466667c-6.4-4.266667-12.8-8.533333-14.933334-17.066667s-6.4-17.066667-6.4-27.733333h32c0 6.4 2.133333 10.666667 4.266667 14.933333s6.4 4.266667 10.666667 4.266667 8.533333-2.133333 10.666666-4.266667 4.266667-6.4 4.266667-12.8v-27.733333c0-4.266667-2.133333-8.533333-4.266667-10.666667s-4.266667-6.4-8.533333-6.4-6.4 0-8.533333 2.133333-4.266667 4.266667-4.266667 8.533334h-32v-102.4h87.466667v32h-55.466667v34.133333c2.133333-2.133333 6.4-4.266667 8.533333-6.4s8.533333-2.133333 10.666667-2.133333c8.533333 0 14.933333 2.133333 19.2 6.4s10.666667 8.533333 12.8 17.066666c2.133333 6.4 4.266667 14.933333 4.266667 25.6V554.666667c0 10.666667-2.133333 19.2-6.4 25.6-4.266667 6.4-8.533333 12.8-17.066667 17.066666s-14.933333 6.4-25.6 6.4c-6.4 2.133333-14.933333 0-21.333333-4.266666zM437.333333 593.066667c-8.533333-8.533333-12.8-19.2-12.8-34.133334V469.333333c0-14.933333 4.266667-27.733333 12.8-34.133333s19.2-12.8 36.266667-12.8 27.733333 4.266667 36.266667 12.8 12.8 19.2 12.8 34.133333v89.6c0 14.933333-4.266667 27.733333-12.8 36.266667s-19.2 12.8-36.266667 12.8c-17.066667-2.133333-27.733333-6.4-36.266667-14.933333z m46.933334-25.6c2.133333-4.266667 4.266667-8.533333 4.266666-14.933334v-81.066666c0-6.4-2.133333-10.666667-4.266666-14.933334s-6.4-4.266667-10.666667-4.266666-8.533333 2.133333-12.8 4.266666-4.266667 8.533333-4.266667 14.933334v81.066666c0 6.4 2.133333 10.666667 4.266667 14.933334s6.4 4.266667 10.666667 4.266666 10.666667 0 12.8-4.266666zM554.666667 490.666667c-4.266667-6.4-8.533333-12.8-8.533334-23.466667v-14.933333c0-10.666667 2.133333-17.066667 8.533334-23.466667s12.8-8.533333 21.333333-8.533333 17.066667 2.133333 21.333333 8.533333 8.533333 12.8 8.533334 23.466667v14.933333c0 10.666667-2.133333 17.066667-8.533334 23.466667s-12.8 8.533333-21.333333 8.533333-17.066667-2.133333-21.333333-8.533333z m32-10.666667c2.133333-2.133333 4.266667-6.4 4.266666-12.8V448c0-4.266667-2.133333-8.533333-4.266666-10.666667s-6.4-4.266667-10.666667-4.266666-8.533333 2.133333-10.666667 4.266666-4.266667 6.4-4.266666 10.666667v21.333333c0 4.266667 2.133333 8.533333 4.266666 12.8s6.4 4.266667 10.666667 4.266667 8.533333-4.266667 10.666667-6.4z m74.666666-59.733333h17.066667l-98.133333 181.333333h-17.066667l98.133333-181.333333z m-17.066666 177.066666c-4.266667-6.4-8.533333-12.8-8.533334-23.466666v-14.933334c0-10.666667 2.133333-17.066667 8.533334-23.466666s12.8-8.533333 21.333333-8.533334 17.066667 2.133333 21.333333 8.533334 8.533333 12.8 8.533334 23.466666v14.933334c0 10.666667-2.133333 17.066667-8.533334 23.466666s-12.8 8.533333-21.333333 8.533334-14.933333-4.266667-21.333333-8.533334z m34.133333-10.666666c2.133333-2.133333 4.266667-6.4 4.266667-12.8V554.666667c0-4.266667-2.133333-8.533333-4.266667-10.666667s-6.4-4.266667-10.666667-4.266667-8.533333 2.133333-10.666666 4.266667-4.266667 6.4-4.266667 10.666667v19.2c0 4.266667 2.133333 8.533333 4.266667 12.8s6.4 4.266667 10.666666 4.266666 8.533333-2.133333 10.666667-4.266666z" fill="#B0B0B0" p-id="1705" /><path d="M512 85.333333C277.333333 85.333333 85.333333 277.333333 85.333333 512s192 426.666667 426.666667 426.666667 426.666667-192 426.666667-426.666667S746.666667 85.333333 512 85.333333z m0 768c-187.733333 0-341.333333-153.6-341.333333-341.333333S324.266667 170.666667 512 170.666667s341.333333 153.6 341.333333 341.333333-153.6 341.333333-341.333333 341.333333z" fill="#5CB87A" opacity=".6" p-id="1706" /><path d="M853.333333 512c0 187.733333-153.6 341.333333-341.333333 341.333333v85.333334c234.666667 0 426.666667-192 426.666667-426.666667S746.666667 85.333333 512 85.333333v85.333334c187.733333 0 341.333333 153.6 341.333333 341.333333z" fill="#F5F7FA" p-id="1707" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-svg-text"><path d="M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z" fill="#707070" opacity=".406" p-id="10272" data-spm-anchor-id="a313x.search_index.0.i5.26f43a81xezxDj" class="selected" /><path d="M512 128a384 384 0 1 1-384 384 384 384 0 0 1 384-384z" fill="#707070" p-id="10273" data-spm-anchor-id="a313x.search_index.0.i6.26f43a81xezxDj" class="selected" /><path d="M485.44 768v-363.648h-135.872v-48.64h326.848v48.64h-136.448v363.648z" fill="#FFFFFF" p-id="10274" /></symbol><symbol class="icon" viewBox="0 0 1027 1024"   id="svg-switch-on">\r
    <path d="M747.52 238.933333    H276.48    C122.88 238.933333 0 361.813333 0 512    s122.88 273.066667 276.48 273.066667    H750.933333    c150.186667 0 276.48-122.88 276.48-273.066667    s-126.293333-273.066667-279.893333-273.066667z" fill="white" fill-opacity=".01" p-id="1537" data-spm-anchor-id="a313x.manage_type_myprojects.0.i0.1adc3a81uCnBP5" />\r
    <path d="M747.52 238.933333    H276.48    C122.88 238.933333 0 361.813333 0 512    s122.88 273.066667 276.48 273.066667    H750.933333    c150.186667 0 276.48-122.88 276.48-273.066667    s-126.293333-273.066667-279.893333-273.066667z    m0 512    H276.48    C143.36 750.933333 34.133333 645.12 34.133333 512s109.226667-238.933333 242.346667-238.933333    H750.933333c133.12 0 242.346667 105.813333 242.346667 238.933333s-112.64 238.933333-245.76 238.933333z" fill="#2c2c2c" p-id="1531" data-spm-anchor-id="a313x.manage_type_myprojects.0.i0.1adc3a81uCnBP5" />\r
    <path d="M238.933333 409.6c-37.546667 0-68.266667 27.306667-68.266666 61.44v85.333333c0 34.133333 30.72 61.44 68.266666 61.44s68.266667-27.306667 68.266667-61.44v-85.333333c0-34.133333-30.72-61.44-68.266667-61.44z m34.133334 146.773333c0 13.653333-17.066667 23.893333-34.133334 23.893334s-34.133333-10.24-34.133333-27.306667v-85.333333c0-13.653333 17.066667-23.893333 34.133333-23.893334s34.133333 10.24 34.133334 27.306667v85.333333zM460.8 409.6c-10.24 0-17.066667 6.826667-17.066667 17.066667v109.226666l-71.68-119.466666c-3.413333-6.826667-10.24-10.24-20.48-6.826667-6.826667 3.413333-13.653333 10.24-13.653333 17.066667v170.666666c0 10.24 6.826667 17.066667 17.066667 17.066667s17.066667-6.826667 17.066666-17.066667v-109.226666l71.68 119.466666c3.413333 6.826667 10.24 6.826667 13.653334 6.826667h3.413333c6.826667-3.413333 13.653333-10.24 13.653333-17.066667v-170.666666c3.413333-10.24-3.413333-17.066667-13.653333-17.066667zM750.933333 341.333333c-95.573333 0-170.666667 75.093333-170.666666 170.666667s75.093333 170.666667 170.666666 170.666667 170.666667-75.093333 170.666667-170.666667-75.093333-170.666667-170.666667-170.666667z" fill="#5ad562" p-id="1530" data-spm-anchor-id="a313x.manage_type_myprojects.0.i1.1adc3a81uCnBP5" />\r
</symbol><symbol class="icon" viewBox="0 0 1027 1024"   id="svg-switch-r">\r
    <path d="M747.52 238.933333    H276.48    C122.88 238.933333 0 361.813333 0 512    s122.88 273.066667 276.48 273.066667    H750.933333    c150.186667 0 276.48-122.88 276.48-273.066667    s-126.293333-273.066667-279.893333-273.066667z" fill="white" fill-opacity=".01" p-id="1537" data-spm-anchor-id="a313x.manage_type_myprojects.0.i0.1adc3a81uCnBP5" />\r
    <path d="M747.52 238.933333    H276.48    C122.88 238.933333 0 361.813333 0 512    s122.88 273.066667 276.48 273.066667    H750.933333    c150.186667 0 276.48-122.88 276.48-273.066667    s-126.293333-273.066667-279.893333-273.066667z    m0 512    H276.48    C143.36 750.933333 34.133333 645.12 34.133333 512s109.226667-238.933333 242.346667-238.933333    H750.933333c133.12 0 242.346667 105.813333 242.346667 238.933333s-112.64 238.933333-245.76 238.933333z" fill="#2c2c2c" p-id="1531" data-spm-anchor-id="a313x.manage_type_myprojects.0.i0.1adc3a81uCnBP5" />\r
    <path d="M273.066667 341.333333c-95.573333 0-170.666667 75.093333-170.666667 170.666667s75.093333 170.666667 170.666667 170.666667 170.666667-75.093333 170.666666-170.666667-75.093333-170.666667-170.666666-170.666667z" fill="#bfbfbf" p-id="1530" data-spm-anchor-id="a313x.manage_type_myprojects.0.i0.1adc3a81KYNNkt" />\r
    <path d="M580.266667 409.6c-37.546667 0-68.266667 27.306667-68.266667 61.44v85.333333c0 34.133333 30.72 61.44 68.266667 61.44s68.266667-27.306667 68.266666-61.44v-85.333333c0-34.133333-30.72-61.44-68.266666-61.44z m34.133333 146.773333c0 13.653333-17.066667 27.306667-34.133333 27.306667s-34.133333-10.24-34.133334-27.306667v-85.333333c0-13.653333 17.066667-27.306667 34.133334-27.306667s34.133333 10.24 34.133333 27.306667v85.333333zM904.533333 409.6h-68.266666c-10.24 0-17.066667 6.826667-17.066667 17.066667v170.666666c0 10.24 6.826667 17.066667 17.066667 17.066667s17.066667-6.826667 17.066666-17.066667V512h17.066667c10.24 0 17.066667-6.826667 17.066667-17.066667s-6.826667-17.066667-17.066667-17.066666H853.333333v-34.133334h51.2c10.24 0 17.066667-6.826667 17.066667-17.066666s-6.826667-17.066667-17.066667-17.066667zM768 409.6h-68.266667c-10.24 0-17.066667 6.826667-17.066666 17.066667v170.666666c0 10.24 6.826667 17.066667 17.066666 17.066667s17.066667-6.826667 17.066667-17.066667V512h17.066667c10.24 0 17.066667-6.826667 17.066666-17.066667s-6.826667-17.066667-17.066666-17.066666H716.8v-34.133334h51.2c10.24 0 17.066667-6.826667 17.066667-17.066666s-6.826667-17.066667-17.066667-17.066667z" fill="#707070" p-id="1532" data-spm-anchor-id="a313x.manage_type_myprojects.0.i2.1adc3a81KYNNkt" />\r
</symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-text-box"><path d="M938.666667 955.733333h-85.333334a17.066667 17.066667 0 0 1-17.066666-17.066666v-17.066667H187.733333v17.066667a17.066667 17.066667 0 0 1-17.066666 17.066666H85.333333a17.066667 17.066667 0 0 1-17.066666-17.066666v-85.333334a17.066667 17.066667 0 0 1 17.066666-17.066666h17.066667V187.733333H85.333333a17.066667 17.066667 0 0 1-17.066666-17.066666V85.333333a17.066667 17.066667 0 0 1 17.066666-17.066666h85.333334a17.066667 17.066667 0 0 1 17.066666 17.066666v17.066667h648.533334V85.333333a17.066667 17.066667 0 0 1 17.066666-17.066666h85.333334a17.066667 17.066667 0 0 1 17.066666 17.066666v85.333334a17.066667 17.066667 0 0 1-17.066666 17.066666h-17.066667v648.533334h17.066667a17.066667 17.066667 0 0 1 17.066666 17.066666v85.333334a17.066667 17.066667 0 0 1-17.066666 17.066666z m-68.266667-34.133333h51.2v-51.2h-51.2v51.2zM102.4 921.6h51.2v-51.2H102.4v51.2z m85.333333-34.133333h648.533334v-34.133334a17.066667 17.066667 0 0 1 17.066666-17.066666h34.133334V187.733333h-34.133334a17.066667 17.066667 0 0 1-17.066666-17.066666V136.533333H187.733333v34.133334a17.066667 17.066667 0 0 1-17.066666 17.066666H136.533333v648.533334h34.133334a17.066667 17.066667 0 0 1 17.066666 17.066666v34.133334zM904.533333 153.6h17.066667V102.4h-51.2v51.2h34.133333zM119.466667 153.6h34.133333V102.4H102.4v51.2h17.066667z" p-id="4280" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-thermometer">\r
    <path d="M616.96 672V176.64a85.76 85.76 0 0 0-171.52 0v495.36c-29.44 24.32-48.64 61.44-48.64 103.68 0 74.24 60.16 134.4 134.4 134.4S665.6 849.92 665.6 775.68c0-42.24-19.2-79.36-48.64-103.68z" fill="#F7E6A3" p-id="1566"></path>\r
    <path d="M531.2 922.88c-80.64 0-147.2-66.56-147.2-147.2 0-42.24 17.92-81.92 48.64-110.08V176.64c0-53.76 43.52-98.56 98.56-98.56s98.56 43.52 98.56 98.56V665.6c30.72 28.16 48.64 67.84 48.64 110.08 0 80.64-66.56 147.2-147.2 147.2z m0-819.2c-39.68 0-72.96 33.28-72.96 72.96v495.36c0 3.84-1.28 7.68-5.12 10.24-28.16 23.04-44.8 57.6-44.8 93.44 0 66.56 55.04 121.6 121.6 121.6s121.6-55.04 121.6-121.6c0-35.84-16.64-70.4-44.8-93.44-2.56-2.56-5.12-6.4-5.12-10.24V176.64c2.56-39.68-30.72-72.96-70.4-72.96z" fill="#231C1C" p-id="1567"></path>\r
    <path d="M494 711.68 c-21.76 12.8-37.12 35.84-37.12 64 0 40.96 33.28 72.96 72.96 72.96 40.96 0 72.96-33.28 72.96-72.96 1.28-26.88-12.8-51.2-34.56-64" fill="#E24F32" p-id="1568"></path>\r
    <path d="M568.32 830 V530 c0-20.48-16.64-37.12-37.12-37.12-20.48 0-37.12 16.64-37.12 37.12 v300" fill="#E24F32" p-id="1599">\r
        <animateTransform attributeName="transform" attributeType="XML" type="translate" from="0 0" to="0 -300" dur="5" repeatCount="indefinite" />\r
    </path>\r
    <path d="M568.32 830 V530 c0-20.48-16.64-37.12-37.12-37.12-20.48 0-37.12 16.64-37.12 37.12 v300" fill="#E24F32" p-id="1588"></path>\r
    <path d="M531.2 188.16h85.76v25h-85.76z" fill="#231C1C" p-id="1595"></path>\r
    <path d="M531.2 359.68h85.76v25h-85.76zM555.52 273.92h61.44v25h-61.44z" fill="#231C1C" p-id="1570"></path>\r
    <path d="M555.52 445.44h61.44v25h-61.44z" fill="#231C1C" p-id="1571"></path>\r
    <path d="M531.2 529.92h85.76v25h-85.76z" fill="#231C1C" p-id="1572"></path>\r
</symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-thermometer2">\r
    <path d="M616.96 672V176.64a85.76 85.76 0 0 0-171.52 0v495.36c-29.44 24.32-48.64 61.44-48.64 103.68 0 74.24 60.16 134.4 134.4 134.4S665.6 849.92 665.6 775.68c0-42.24-19.2-79.36-48.64-103.68z" fill="#F7E6A3" p-id="1566" />\r
    <path d="M531.2 922.88c-80.64 0-147.2-66.56-147.2-147.2 0-42.24 17.92-81.92 48.64-110.08V176.64c0-53.76 43.52-98.56 98.56-98.56s98.56 43.52 98.56 98.56V665.6c30.72 28.16 48.64 67.84 48.64 110.08 0 80.64-66.56 147.2-147.2 147.2z m0-819.2c-39.68 0-72.96 33.28-72.96 72.96v495.36c0 3.84-1.28 7.68-5.12 10.24-28.16 23.04-44.8 57.6-44.8 93.44 0 66.56 55.04 121.6 121.6 121.6s121.6-55.04 121.6-121.6c0-35.84-16.64-70.4-44.8-93.44-2.56-2.56-5.12-6.4-5.12-10.24V176.64c2.56-39.68-30.72-72.96-70.4-72.96z" fill="#231C1C" p-id="1567" />\r
    <path d="M568.32 711.68V408.32c0-20.48-16.64-37.12-37.12-37.12-20.48 0-37.12 16.64-37.12 37.12v303.36c-21.76 12.8-37.12 35.84-37.12 64 0 40.96 33.28 72.96 72.96 72.96 40.96 0 72.96-33.28 72.96-72.96 1.28-26.88-12.8-51.2-34.56-64z" fill="#E24F32" p-id="1568" />\r
    <path d="M531.2 861.44c-47.36 0-85.76-38.4-85.76-85.76 0-28.16 14.08-55.04 37.12-70.4V408.32c0-26.88 21.76-49.92 49.92-49.92 26.88 0 49.92 21.76 49.92 49.92v296.96c23.04 16.64 37.12 42.24 37.12 70.4-2.56 47.36-40.96 85.76-88.32 85.76z m0-476.16c-12.8 0-24.32 10.24-24.32 24.32v303.36c0 5.12-2.56 8.96-6.4 11.52-19.2 10.24-30.72 30.72-30.72 52.48 0 33.28 26.88 60.16 60.16 60.16s60.16-26.88 60.16-60.16c0-21.76-11.52-40.96-30.72-52.48-3.84-2.56-6.4-6.4-6.4-11.52V408.32c2.56-12.8-8.96-23.04-21.76-23.04zM531.2 188.16h85.76v25.6h-85.76z" fill="#231C1C" p-id="1569" />\r
    <path d="M531.2 359.68h85.76v25.6h-85.76zM555.52 273.92h61.44v25.6h-61.44z" fill="#231C1C" p-id="1570" />\r
    <path d="M555.52 445.44h61.44v25.6h-61.44z" fill="#231C1C" p-id="1571" />\r
    <path d="M531.2 529.92h85.76v25.6h-85.76z" fill="#231C1C" p-id="1572" />\r
</symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-add"><path class="icon-out" d="M512 128c211.2 0 384 172.8 384 384s-172.8 384-384 384-384-172.8-384-384 172.8-384 384-384m0-64C262.4 64 64 262.4 64 512s198.4 448 448 448 448-198.4 448-448-198.4-448-448-448z" p-id="12133" /><path class="icon-in" d="M320 512m-32 0a32 32 0 1 0 64 0 32 32 0 1 0-64 0Z" p-id="12134" /><path class="icon-in" d="M704 512m-32 0a32 32 0 1 0 64 0 32 32 0 1 0-64 0Z" p-id="12135" /><path class="icon-in" d="M512 320m-32 0a32 32 0 1 0 64 0 32 32 0 1 0-64 0Z" p-id="12136" /><path class="icon-in" d="M512 704m-32 0a32 32 0 1 0 64 0 32 32 0 1 0-64 0Z" p-id="12137" /><path class="icon-in" d="M320 480h384v64H320z" p-id="12138" /><path class="icon-in" d="M480 320h64v384h-64z" p-id="12139" /></symbol><symbol class="icon gray" viewBox="0 0 1024 1024"   id="svg-delete-gray"><path d="M512.8 927.65c-82.97 0-165.93-5.84-248.32-17.53l-0.2-0.03c-23.32-3.49-46.81-15.1-66.15-32.69-19.79-18.01-32.92-40.21-36.97-62.52l-0.04-0.24c-14.73-85.45-21.15-172.11-19.09-257.59 2.06-85.46 12.66-172.1 31.5-257.51l53.71 11.85c-36.14 163.83-40.16 329.97-11.95 493.77 4.1 22.19 31.75 46.69 57.02 50.52a1712.285 1712.285 0 0 0 480.98 0c25.27-3.83 52.92-28.34 57.01-50.53 28.21-163.8 24.19-329.93-11.95-493.77l53.71-11.85c18.84 85.42 29.44 172.06 31.5 257.51 2.06 85.47-4.36 172.14-19.09 257.59l-0.04 0.24c-4.05 22.3-17.18 44.51-36.97 62.52-19.34 17.6-42.83 29.21-66.15 32.69l-0.2 0.03a1765.711 1765.711 0 0 1-248.31 17.54z" class="icon-out" p-id="3027" /><path d="M921.38 332.96H102.66c-14.16 0-25.64-11.48-25.64-25.64v-3.73c0-14.16 11.48-25.64 25.64-25.64h818.73c14.16 0 25.64 11.48 25.64 25.64v3.73c-0.01 14.16-11.49 25.64-25.65 25.64z" class="icon-out" p-id="3028" /><path d="M367.21 805.77h-2.56c-14.48 0-26.22-11.74-26.22-26.22V431.99c0-14.48 11.74-26.22 26.22-26.22h2.56c14.48 0 26.22 11.74 26.22 26.22v347.56c0 14.49-11.74 26.22-26.22 26.22zM661.4 805.77h-2.56c-14.48 0-26.22-11.74-26.22-26.22V431.99c0-14.48 11.74-26.22 26.22-26.22h2.56c14.48 0 26.22 11.74 26.22 26.22v347.56c0 14.49-11.74 26.22-26.22 26.22z" class="icon-in" p-id="3029" /><path d="M786.11 322.05l-48.07-26.73c24.95-44.87 28.29-88.34 10.14-132.77-5.56-3.25-21.61-9.19-42.32-10.42-129.2-7.27-260.31-7.27-389.6 0-20.65 1.22-36.68 7.16-42.24 10.42-18.15 44.43-14.82 87.9 10.14 132.77l-48.07 26.73c-34.04-61.21-37.74-123.49-10.97-185.09l0.21-0.48c15.56-34.01 80.41-38.81 87.75-39.25 131.42-7.39 264.61-7.39 395.94 0 7.42 0.44 72.26 5.24 87.83 39.25l0.22 0.48c26.77 61.6 23.09 123.88-10.96 185.09z m-36.39-158.46z m-477.24 0z" class="icon-out" p-id="3030" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-delete"><path d="M512.8 927.65c-82.97 0-165.93-5.84-248.32-17.53l-0.2-0.03c-23.32-3.49-46.81-15.1-66.15-32.69-19.79-18.01-32.92-40.21-36.97-62.52l-0.04-0.24c-14.73-85.45-21.15-172.11-19.09-257.59 2.06-85.46 12.66-172.1 31.5-257.51l53.71 11.85c-36.14 163.83-40.16 329.97-11.95 493.77 4.1 22.19 31.75 46.69 57.02 50.52a1712.285 1712.285 0 0 0 480.98 0c25.27-3.83 52.92-28.34 57.01-50.53 28.21-163.8 24.19-329.93-11.95-493.77l53.71-11.85c18.84 85.42 29.44 172.06 31.5 257.51 2.06 85.47-4.36 172.14-19.09 257.59l-0.04 0.24c-4.05 22.3-17.18 44.51-36.97 62.52-19.34 17.6-42.83 29.21-66.15 32.69l-0.2 0.03a1765.711 1765.711 0 0 1-248.31 17.54z" class="icon-out" p-id="3027" /><path d="M921.38 332.96H102.66c-14.16 0-25.64-11.48-25.64-25.64v-3.73c0-14.16 11.48-25.64 25.64-25.64h818.73c14.16 0 25.64 11.48 25.64 25.64v3.73c-0.01 14.16-11.49 25.64-25.65 25.64z" class="icon-out" p-id="3028" /><path d="M367.21 805.77h-2.56c-14.48 0-26.22-11.74-26.22-26.22V431.99c0-14.48 11.74-26.22 26.22-26.22h2.56c14.48 0 26.22 11.74 26.22 26.22v347.56c0 14.49-11.74 26.22-26.22 26.22zM661.4 805.77h-2.56c-14.48 0-26.22-11.74-26.22-26.22V431.99c0-14.48 11.74-26.22 26.22-26.22h2.56c14.48 0 26.22 11.74 26.22 26.22v347.56c0 14.49-11.74 26.22-26.22 26.22z" class="icon-in" p-id="3029" /><path d="M786.11 322.05l-48.07-26.73c24.95-44.87 28.29-88.34 10.14-132.77-5.56-3.25-21.61-9.19-42.32-10.42-129.2-7.27-260.31-7.27-389.6 0-20.65 1.22-36.68 7.16-42.24 10.42-18.15 44.43-14.82 87.9 10.14 132.77l-48.07 26.73c-34.04-61.21-37.74-123.49-10.97-185.09l0.21-0.48c15.56-34.01 80.41-38.81 87.75-39.25 131.42-7.39 264.61-7.39 395.94 0 7.42 0.44 72.26 5.24 87.83 39.25l0.22 0.48c26.77 61.6 23.09 123.88-10.96 185.09z m-36.39-158.46z m-477.24 0z" class="icon-out" p-id="3030" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-export"><path d="M94.85 502.74c0-88.25 6.43-176.5 19.28-264.14l0.04-0.26c4.81-30.68 21.45-61.57 46.85-86.98 25.41-25.41 56.3-42.05 86.98-46.85l0.26-0.04a1818.793 1818.793 0 0 1 528.28 0l0.26 0.04c30.68 4.81 61.57 21.44 86.98 46.85 25.41 25.41 42.05 56.3 46.85 86.98l0.04 0.26a1818.793 1818.793 0 0 1 0 528.28l-0.04 0.26c-4.81 30.68-21.44 61.57-46.85 86.98s-56.3 42.05-86.98 46.85l-0.26 0.04a1818.793 1818.793 0 0 1-528.28 0l-0.26-0.04c-30.68-4.81-61.57-21.44-86.98-46.85-25.41-25.41-42.05-56.3-46.85-86.98l-0.04-0.26a1820.45 1820.45 0 0 1-19.28-264.14z m73.69-256.03c-24.91 169.89-24.91 342.15 0 512.05 6.3 39.74 48.12 81.56 87.86 87.86 169.87 24.9 342.16 24.9 512.03 0 39.75-6.3 81.57-48.12 87.86-87.86 24.9-169.87 24.9-342.16 0-512.03-6.3-39.74-48.12-81.57-87.86-87.86a1764.188 1764.188 0 0 0-512.03 0c-39.74 6.28-81.56 48.1-87.86 87.84z" class="icon-out" p-id="3184" /><path d="M677.82 616.65L467.99 406.81c-10.19-10.19-10.19-26.72 0-36.92l12.58-12.58c10.19-10.19 26.72-10.19 36.92 0l209.84 209.84c10.19 10.19 10.19 26.72 0 36.92l-12.58 12.58c-10.2 10.19-26.73 10.19-36.93 0z" class="icon-in" p-id="3185" /><path d="M283.94 617.33l-12.58-12.58c-10.19-10.19-10.19-26.72 0-36.92L481.2 358c10.19-10.19 26.72-10.19 36.92 0l12.58 12.58c10.19 10.19 10.19 26.72 0 36.92L320.86 617.33c-10.2 10.2-26.72 10.2-36.92 0z" class="icon-in" p-id="3186" /></symbol><symbol viewBox="0 0 48 48" fill="none"  id="svg-group">\r
    <path d="M12 4H4V12H12V4Z" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M44 36H36V44H44V36Z" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M12 36H4V44H12V36Z" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M44 4H36V12H44V4Z" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M8 36V12" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
    <path d="M40 36V12" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
    <path d="M12 8H36" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
    <path d="M12 40H36" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
    <path fill-rule="evenodd" clip-rule="evenodd" d="M16 16H25.6V22.4H32V32H22.4V25.6H16V16Z" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
</symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-import"><path d="M93.33 502.74c0 88.25 6.43 176.5 19.28 264.14l0.04 0.26c4.81 30.68 21.45 61.57 46.85 86.98 25.41 25.41 56.3 42.05 86.98 46.85l0.26 0.04a1818.793 1818.793 0 0 0 528.28 0l0.26-0.04c30.68-4.81 61.57-21.44 86.98-46.85 25.41-25.41 42.05-56.3 46.85-86.98l0.04-0.26a1818.793 1818.793 0 0 0 0-528.28l-0.04-0.26c-4.81-30.68-21.44-61.57-46.85-86.98s-56.3-42.05-86.98-46.85l-0.26-0.04a1818.793 1818.793 0 0 0-528.28 0l-0.26 0.04c-30.68 4.81-61.57 21.44-86.98 46.85-25.41 25.41-42.05 56.3-46.85 86.98l-0.04 0.26a1820.244 1820.244 0 0 0-19.28 264.14z m73.68 256.02c-24.91-169.89-24.91-342.15 0-512.05 6.3-39.74 48.12-81.56 87.86-87.86 169.87-24.9 342.16-24.9 512.03 0 39.75 6.3 81.57 48.12 87.86 87.86 24.9 169.87 24.9 342.16 0 512.03-6.3 39.74-48.12 81.57-87.86 87.86a1764.188 1764.188 0 0 1-512.03 0c-39.74-6.28-81.56-48.1-87.86-87.84z" class="icon-out" p-id="3340" /><path d="M676.3 388.83L466.46 598.66c-10.19 10.19-10.19 26.72 0 36.92l12.58 12.58c10.19 10.19 26.72 10.19 36.92 0L725.8 438.32c10.19-10.19 10.19-26.72 0-36.92l-12.58-12.58c-10.2-10.19-26.73-10.19-36.92 0.01z" class="icon-in" p-id="3341" /><path d="M282.42 388.14l-12.58 12.58c-10.19 10.19-10.19 26.72 0 36.92l209.84 209.84c10.19 10.19 26.72 10.19 36.92 0l12.58-12.58c10.19-10.19 10.19-26.72 0-36.92L319.33 388.14c-10.19-10.19-26.72-10.19-36.91 0z" class="icon-in" p-id="3342" /></symbol><symbol class="icon active" viewBox="0 0 1024 1024"   id="svg-line-active"><path d="M795.969 641.938c-44.844 0-85.094 20.015-112.219 51.515L454.39 561.11c4.157-15.53 6.344-31.937 6.344-48.78 0-16.845-2.187-33.25-6.343-48.782l230.234-132.89c27.125 30.952 66.938 50.53 111.453 50.53 81.813 0 148.094-66.28 148.094-148.093C944.172 151.28 877.782 85 795.969 85s-148.094 66.281-148.094 148.094c0 14.11 1.969 27.781 5.688 40.687L427.155 404.484c-34.344-49.875-91.765-82.578-156.844-82.578C165.204 321.906 80 407.11 80 512.328S165.203 702.75 270.313 702.75c65.078 0 122.609-32.703 156.953-82.578l225.968 130.484c-3.5 12.578-5.359 25.703-5.359 39.375 0 81.813 66.281 148.094 148.094 148.094 81.812 0 148.093-66.281 148.093-148.094 0-81.812-66.28-148.093-148.093-148.093z m0-492.079c45.937 0 83.234 37.297 83.234 83.235 0 45.937-37.297 83.234-83.234 83.234-45.938 0-83.235-37.297-83.235-83.234 0-45.938 37.297-83.235 83.235-83.235zM270.312 637.781c-69.234 0-125.453-56.11-125.453-125.453 0-69.344 56.22-125.453 125.453-125.453 69.235 0 125.454 56.11 125.454 125.453 0 69.344-56.11 125.453-125.454 125.453z m525.657 234.39c-45.39 0-82.14-36.75-82.14-82.14s36.75-82.14 82.14-82.14 82.14 36.75 82.14 82.14c0.11 45.39-36.75 82.14-82.14 82.14z" p-id="1837" data-spm-anchor-id="a313x.manage_type_myprojects.0.i0.1adc3a813mH6xq" class="icon-out" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-line"><path d="M795.969 641.938c-44.844 0-85.094 20.015-112.219 51.515L454.39 561.11c4.157-15.53 6.344-31.937 6.344-48.78 0-16.845-2.187-33.25-6.343-48.782l230.234-132.89c27.125 30.952 66.938 50.53 111.453 50.53 81.813 0 148.094-66.28 148.094-148.093C944.172 151.28 877.782 85 795.969 85s-148.094 66.281-148.094 148.094c0 14.11 1.969 27.781 5.688 40.687L427.155 404.484c-34.344-49.875-91.765-82.578-156.844-82.578C165.204 321.906 80 407.11 80 512.328S165.203 702.75 270.313 702.75c65.078 0 122.609-32.703 156.953-82.578l225.968 130.484c-3.5 12.578-5.359 25.703-5.359 39.375 0 81.813 66.281 148.094 148.094 148.094 81.812 0 148.093-66.281 148.093-148.094 0-81.812-66.28-148.093-148.093-148.093z m0-492.079c45.937 0 83.234 37.297 83.234 83.235 0 45.937-37.297 83.234-83.234 83.234-45.938 0-83.235-37.297-83.235-83.234 0-45.938 37.297-83.235 83.235-83.235zM270.312 637.781c-69.234 0-125.453-56.11-125.453-125.453 0-69.344 56.22-125.453 125.453-125.453 69.235 0 125.454 56.11 125.454 125.453 0 69.344-56.11 125.453-125.454 125.453z m525.657 234.39c-45.39 0-82.14-36.75-82.14-82.14s36.75-82.14 82.14-82.14 82.14 36.75 82.14 82.14c0.11 45.39-36.75 82.14-82.14 82.14z" p-id="1837" data-spm-anchor-id="a313x.manage_type_myprojects.0.i0.1adc3a813mH6xq" class="icon-out" /></symbol><symbol viewBox="0 0 48 48" fill="none"  id="svg-lock">\r
    <rect x="6" y="22" width="36" height="22" rx="2" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M14 22V14C14 8.47715 18.4772 4 24 4C29.5228 4 34 8.47715 34 14V22" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
    <path d="M24 30V36" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
</symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-menu-fold"><path d="M510.89 921.7c-88.25 0-176.5-6.43-264.14-19.28l-0.26-0.04c-30.68-4.81-61.57-21.44-86.98-46.85-25.41-25.41-42.05-56.3-46.85-86.98l-0.04-0.26a1818.793 1818.793 0 0 1 0-528.28l0.04-0.26c4.81-30.68 21.44-61.57 46.85-86.98s56.3-42.05 86.98-46.85l0.26-0.04a1818.793 1818.793 0 0 1 528.28 0l0.26 0.04c30.68 4.81 61.57 21.45 86.98 46.85 25.41 25.41 42.05 56.3 46.85 86.98l0.04 0.26a1818.793 1818.793 0 0 1 0 528.28l-0.04 0.26c-4.81 30.68-21.45 61.58-46.85 86.98-25.41 25.41-56.3 42.05-86.98 46.85l-0.26 0.04a1819.042 1819.042 0 0 1-264.14 19.28z m-256.02-73.68a1763.556 1763.556 0 0 0 512.04 0c39.74-6.3 81.56-48.12 87.86-87.86 24.9-169.87 24.9-342.16 0-512.03-6.3-39.74-48.11-81.56-87.86-87.86a1763.556 1763.556 0 0 0-512.04 0c-39.75 6.3-81.57 48.12-87.86 87.86a1763.488 1763.488 0 0 0 0 512.03c6.3 39.75 48.12 81.57 87.86 87.86z" class="icon-out" p-id="2559" /><path d="M399.85 335.23l209.84 209.84c10.19 10.19 26.72 10.19 36.92 0l12.58-12.58c10.19-10.19 10.19-26.72 0-36.92L449.35 285.73c-10.19-10.19-26.72-10.19-36.92 0l-12.58 12.58c-10.2 10.2-10.2 26.73 0 36.92z" class="icon-in" p-id="2560" /><path d="M399.16 729.11l12.58 12.58c10.19 10.19 26.72 10.19 36.92 0L658.5 531.85c10.19-10.19 10.19-26.72 0-36.92l-12.58-12.58c-10.19-10.19-26.72-10.19-36.92 0L399.16 692.2c-10.19 10.19-10.19 26.72 0 36.91z" class="icon-in" p-id="2561" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-menu-unfold"><path d="M512.42 920.16c-88.25 0-176.5-6.43-264.14-19.28l-0.26-0.04c-30.68-4.81-61.57-21.45-86.98-46.85-25.41-25.41-42.05-56.3-46.85-86.98l-0.04-0.26a1818.793 1818.793 0 0 1 0-528.28l0.04-0.26c4.81-30.68 21.44-61.57 46.85-86.98 25.41-25.41 56.3-42.05 86.98-46.85l0.26-0.04a1818.793 1818.793 0 0 1 528.28 0l0.26 0.04c30.68 4.81 61.57 21.44 86.98 46.85s42.05 56.3 46.85 86.98l0.04 0.26a1818.793 1818.793 0 0 1 0 528.28l-0.04 0.26c-4.81 30.68-21.44 61.57-46.85 86.98-25.41 25.41-56.3 42.05-86.98 46.85l-0.26 0.04a1820.45 1820.45 0 0 1-264.14 19.28z m-256.03-73.69c169.89 24.91 342.15 24.91 512.05 0 39.74-6.3 81.56-48.12 87.86-87.86 24.9-169.87 24.9-342.16 0-512.03-6.3-39.75-48.12-81.57-87.86-87.86a1764.188 1764.188 0 0 0-512.03 0c-39.74 6.3-81.57 48.12-87.86 87.86a1764.188 1764.188 0 0 0 0 512.03c6.28 39.74 48.1 81.56 87.84 87.86z" class="icon-out" p-id="2403" /><path d="M626.33 337.19L416.49 547.03c-10.19 10.19-26.72 10.19-36.92 0l-12.58-12.58c-10.19-10.19-10.19-26.72 0-36.92l209.84-209.84c10.19-10.19 26.72-10.19 36.92 0l12.58 12.58c10.19 10.19 10.19 26.72 0 36.92z" class="icon-in" p-id="2404" /><path d="M627.01 731.07l-12.58 12.58c-10.19 10.19-26.72 10.19-36.92 0L367.67 533.81c-10.19-10.19-10.19-26.72 0-36.92l12.58-12.58c10.19-10.19 26.72-10.19 36.92 0l209.84 209.84c10.19 10.2 10.19 26.72 0 36.92z" class="icon-in" p-id="2405" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-preview"><path d="M127.94 530.03c-6.67 0-13.32-2.65-18.24-7.89-9.43-10.06-8.95-25.85 1.1-35.3 3.67-3.45 91.45-84.93 234.32-126.4 84.14-24.42 169.95-29.79 255.04-15.96 105.79 17.19 210.4 64.23 310.94 139.81 11.04 8.3 13.26 23.97 4.96 35.01-8.29 11.03-23.97 13.26-35 4.96-169.55-127.45-344.5-166.61-519.99-116.38-131.94 37.76-215.21 114.63-216.04 115.41a25.01 25.01 0 0 1-17.09 6.74z" class="icon-in" p-id="1779" /><path d="M509 688.98c-54.54 0-109.01-7.83-162.8-23.44-142.87-41.46-230.65-122.95-234.32-126.4-10.06-9.46-10.54-25.28-1.08-35.34 9.45-10.05 25.25-10.54 35.31-1.11 0.83 0.77 84.1 77.65 216.04 115.41 175.5 50.22 350.44 11.07 519.99-116.38 11.04-8.3 26.71-6.07 35 4.96 8.3 11.04 6.08 26.71-4.96 35.01C811.64 617.26 707.03 664.3 601.24 681.5c-30.69 4.98-61.47 7.48-92.24 7.48z" class="icon-in" p-id="1780" /><path d="M506.82 741.13c-141.09 0-275.99-70.27-401.17-209.03l-17.53-19.43 16.87-20c1.64-1.95 41.06-48.3 108.65-95.76 39.76-27.92 81.2-50.54 123.19-67.25 52.97-21.08 106.94-32.74 160.4-34.67 146.39-5.28 287.79 60.95 420.32 196.86l18.69 19.16-16.92 20.74c-1.7 2.09-42.53 51.76-111.93 102.32-40.88 29.79-83.37 53.81-126.29 71.39-54.25 22.23-109.31 34.19-163.66 35.54-3.53 0.08-7.09 0.13-10.62 0.13z m-337.8-229c110.37 114.93 226.81 171.73 346.5 168.89 106.58-2.53 197.54-52.73 255.07-94.39 37.87-27.42 66.74-54.92 84-72.79-114.02-109.7-233.21-163.13-354.69-158.92-105.44 3.67-194.27 50.96-250.22 89.99-36.31 25.32-63.96 50.6-80.66 67.22z" class="icon-out" p-id="1781" /><path d="M505.25 671.33c-87.55 0-158.78-71.23-158.78-158.78s71.23-158.78 158.78-158.78S664.02 425 664.02 512.55 592.8 671.33 505.25 671.33z m0-257.56c-54.47 0-98.78 44.31-98.78 98.78s44.31 98.78 98.78 98.78 98.78-44.31 98.78-98.78-44.32-98.78-98.78-98.78z" class="icon-in" p-id="1782" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-question"><path d="M512 172.8c187.04 0 339.2 152.16 339.2 339.2S699.04 851.2 512 851.2 172.8 699.03 172.8 512 324.97 172.8 512 172.8m0-76.8C282.25 96 96 282.25 96 512s186.25 416 416 416 416-186.25 416-416S741.75 96 512 96z" class="icon-out" p-id="5865" data-spm-anchor-id="a313x.search_index.0.i0.4bca3a81TehghO" /><path d="M531.31 278.99c-92.43-2.84-151.21 46.22-175.93 126.24-0.03 0.1 0.23 0.23 0.22 0.33-1.34 3.71-2.37 7.59-2.37 11.75 0 19.25 15.61 34.86 34.86 34.86 15.13 0 27.69-9.76 32.52-23.23 0.03 0.01 0.33 0.08 0.33 0.08 14.05-63.91 45.58-82.75 100.14-81.23 46.75 3.15 72.47 26.54 77.14 70.14 3.08 29.62-17.94 60.02-63.13 91.16-42.07 29.62-62.35 66.28-60.76 109.88 0 0.09 0.16 0.12 0.16 0.21-0.01 0.31-0.18 0.57-0.18 0.88 0 16.82 13.63 30.46 30.46 30.46 15.53 0 27.85-11.8 29.72-26.82 0.09-0.01 0.59-0.05 0.59-0.05s-0.3 0.03-0.59 0.05c0.26-0.02 0.24-0.02 0.59-0.05-1.55-32.73 16.39-60.76 53.75-84.15 59.2-37.41 87.26-80.26 84.15-128.56-7.77-77.94-56-127.28-141.67-131.95zM504.7 745.14h-2.34c-20.66 0-37.4-16.75-37.4-37.4 0-20.66 16.75-37.4 37.4-37.4h2.34c20.66 0 37.4 16.75 37.4 37.4s-16.75 37.4-37.4 37.4z" class="icon-in" p-id="5866" data-spm-anchor-id="a313x.search_index.0.i3.4bca3a81TehghO" /></symbol><symbol class="icon gray" viewBox="0 0 1024 1024"   id="svg-redo-gray"><path d="M550.912 890.88c-4.096 0-7.9872-0.8192-11.8784-2.4576-11.4688-4.7104-18.8416-15.9744-18.8416-28.2624v-156.672c-96.256-68.1984-309.0432 65.536-385.4336 125.1328-10.4448 7.9872-24.576 8.6016-35.6352 1.6384-11.0592-7.168-16.1792-20.48-13.1072-33.1776 99.1232-401.408 347.3408-475.9552 433.9712-489.6768V163.84c0-12.288 7.3728-23.552 18.8416-28.2624 11.4688-4.9152 24.576-2.2528 33.3824 6.3488l357.1712 348.16c5.9392 5.7344 9.216 13.7216 9.216 21.9136s-3.2768 16.1792-9.216 21.9136l-357.1712 348.16c-5.7344 5.7344-13.5168 8.8064-21.2992 8.8064z m-96.8704-267.0592c44.032 0 84.992 12.0832 117.76 43.008 6.144 5.7344 9.6256 13.9264 9.6256 22.3232v98.304L864.0512 512 581.632 236.7488v98.304c0 16.7936-13.312 30.3104-30.1056 30.72-11.264 0.4096-261.5296 12.0832-381.7472 364.1344 72.2944-45.8752 185.9584-106.0864 284.2624-106.0864z" class="icon-out" p-id="42083" data-spm-anchor-id="a313x.search_index.0.i8.a5e03a81nkrsAk" /><path d="M343.2448 579.7888c-5.9392 0-11.8784-2.048-16.7936-5.9392a26.8288 26.8288 0 0 1-3.6864-37.4784c44.4416-54.272 95.0272-93.3888 150.3232-116.5312 13.7216-5.7344 29.0816 0.8192 34.816 14.336 5.7344 13.5168-0.6144 29.0816-14.336 34.816-47.104 19.6608-90.7264 53.8624-129.6384 101.1712-5.3248 6.3488-12.9024 9.6256-20.6848 9.6256z" class="icon-in" p-id="42084" data-spm-anchor-id="a313x.search_index.0.i11.a5e03a81nkrsAk" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-redo"><path d="M550.912 890.88c-4.096 0-7.9872-0.8192-11.8784-2.4576-11.4688-4.7104-18.8416-15.9744-18.8416-28.2624v-156.672c-96.256-68.1984-309.0432 65.536-385.4336 125.1328-10.4448 7.9872-24.576 8.6016-35.6352 1.6384-11.0592-7.168-16.1792-20.48-13.1072-33.1776 99.1232-401.408 347.3408-475.9552 433.9712-489.6768V163.84c0-12.288 7.3728-23.552 18.8416-28.2624 11.4688-4.9152 24.576-2.2528 33.3824 6.3488l357.1712 348.16c5.9392 5.7344 9.216 13.7216 9.216 21.9136s-3.2768 16.1792-9.216 21.9136l-357.1712 348.16c-5.7344 5.7344-13.5168 8.8064-21.2992 8.8064z m-96.8704-267.0592c44.032 0 84.992 12.0832 117.76 43.008 6.144 5.7344 9.6256 13.9264 9.6256 22.3232v98.304L864.0512 512 581.632 236.7488v98.304c0 16.7936-13.312 30.3104-30.1056 30.72-11.264 0.4096-261.5296 12.0832-381.7472 364.1344 72.2944-45.8752 185.9584-106.0864 284.2624-106.0864z" class="icon-out" p-id="42083" data-spm-anchor-id="a313x.search_index.0.i8.a5e03a81nkrsAk" /><path d="M343.2448 579.7888c-5.9392 0-11.8784-2.048-16.7936-5.9392a26.8288 26.8288 0 0 1-3.6864-37.4784c44.4416-54.272 95.0272-93.3888 150.3232-116.5312 13.7216-5.7344 29.0816 0.8192 34.816 14.336 5.7344 13.5168-0.6144 29.0816-14.336 34.816-47.104 19.6608-90.7264 53.8624-129.6384 101.1712-5.3248 6.3488-12.9024 9.6256-20.6848 9.6256z" class="icon-in" p-id="42084" data-spm-anchor-id="a313x.search_index.0.i11.a5e03a81nkrsAk" /></symbol><symbol class="icon" viewBox="0 0 1165 1024"   id="svg-return"><path d="M364.967083 734.583428c-10.46084 0-20.92168-3.486947-29.057889-11.623156L11.623156 398.674234c-16.272418-16.272418-16.272418-41.84336 0-58.115778L335.909194 16.272418c16.272418-16.272418 41.84336-16.272418 58.115778 0s16.272418 41.84336 0 58.115777L98.796822 369.616345l295.22815 295.22815c16.272418 16.272418 16.272418 41.84336 0 58.115777-8.136209 8.136209-18.597049 11.623156-29.057889 11.623156z" p-id="3653" data-spm-anchor-id="a313x.manage_type_myprojects.0.i25.1adc3a81koFwd9" class="icon-out" /><path d="M645.085131 727.609535c-15.110102 15.110102-38.356413 15.110102-53.466516 0L260.358683 396.349603c-15.110102-15.110102-15.110102-38.356413 0-53.466516L591.618615 11.623156c15.110102-15.110102 38.356413-15.110102 53.466516 0" p-id="3654" data-spm-anchor-id="a313x.manage_type_myprojects.0.i21.1adc3a81koFwd9" class="icon-in" /><path d="M645.085131 532.340522S1104.199773 496.30874 1024 1024c0 0 216.190692-249.897843 113.906924-516.068104-51.141884-96.472191-112.744608-295.22815-492.821793-297.552781v321.961407z" p-id="3655" data-spm-anchor-id="a313x.manage_type_myprojects.0.i22.1adc3a81koFwd9" class="icon-in" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-rotate"><path d="M934.101333 416.426667h-220.373333c-26.752 0-47.232-20.48-47.232-47.232s20.48-47.232 47.232-47.232h173.141333V148.821333c0-26.752 20.48-47.232 47.232-47.232S981.333333 122.069333 981.333333 148.821333v220.373344c0 25.173333-20.48 47.232-47.232 47.232z" fill="#344" p-id="4939" data-spm-anchor-id="a313x.search_index.0.i10.30723a81IiaItd" class="selected" /><path d="M509.098667 978.389333C249.344 978.389333 38.4 767.530667 38.4 507.733333 38.4 247.978667 249.344 37.034667 509.098667 37.034667A472.32 472.32 0 0 1 943.530667 325.12c9.472 23.637333-1.536 51.968-25.173344 61.44-23.594667 9.386667-51.925333-1.621333-61.397333-25.216a377.898667 377.898667 0 0 0-347.861333-229.845333A376.234667 376.234667 0 0 0 132.864 507.733333a376.234667 376.234667 0 0 0 376.234667 376.234667c190.464 0 351.018667-141.653333 373.077333-329.002667 3.114667-25.173333 26.752-44.074667 51.925333-40.96 25.173333 3.157333 44.074667 26.794667 40.96 51.968-28.373333 234.538667-228.266667 412.416-465.962666 412.416z" fill="#344" p-id="4940" data-spm-anchor-id="a313x.search_index.0.i9.30723a81IiaItd" class="selected" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-save"><path d="M828.038 898.796H195.962c-39.409 0-71.471-32.062-71.471-71.471V195.249c0-39.409 32.062-71.471 71.471-71.471h89.621c10.382 0 18.798 8.416 18.798 18.798s-8.416 18.798-18.798 18.798h-89.621c-18.679 0-33.875 15.196-33.875 33.875v632.076c0 18.679 15.196 33.875 33.875 33.875h632.076c18.679 0 33.875-15.196 33.875-33.875V340.256L674.088 161.374h-96.215c-10.382 0-18.798-8.416-18.798-18.798s8.416-18.798 18.798-18.798h111.253l210.383 200.365v503.182c0 39.409-32.062 71.471-71.471 71.471z" class="icon-out" p-id="1919" data-spm-anchor-id="a313x.manage_type_myprojects.0.i6.1adc3a8106MMa8" /><path d="M756.239 863.629h-37.597V643.456c0-7.062-5.744-12.807-12.806-12.807H317.11c-7.061 0-12.806 5.745-12.806 12.807v220.173h-37.596V643.456c0-27.792 22.61-50.402 50.402-50.402h388.727c27.792 0 50.402 22.61 50.402 50.402v220.173z" class="icon-out" p-id="1920" data-spm-anchor-id="a313x.manage_type_myprojects.0.i7.1adc3a8106MMa8" /><path d="M547.818 325.374H317.11c-27.792 0-50.402-22.61-50.402-50.402V151.895c0-27.792 22.61-50.402 50.402-50.402h230.708c27.791 0 50.4 22.61 50.4 50.402v123.077c0.001 27.791-22.609 50.402-50.4 50.402zM317.11 139.089c-7.061 0-12.806 5.745-12.806 12.806v123.077c0 7.061 5.745 12.806 12.806 12.806h230.708c7.061 0 12.805-5.745 12.805-12.806V151.895c0-7.061-5.744-12.806-12.805-12.806H317.11z" class="icon-middle" p-id="1921" /><path d="M621.717 155.654c0-17.454-14.149-31.604-31.604-31.604H359.405c-17.455 0-31.604 14.15-31.604 31.604v9.871h-0.157V316.17c0 17.454 14.149 31.604 31.604 31.604h230.708c17.454 0 31.604-14.15 31.604-31.604V166.069h0.156v-10.415z" class="icon-middle" opacity=".4" p-id="1922" /></symbol><symbol viewBox="0 0 1024 1024"  id="svg-setting">
    <path d="M919.6 405.6l-57.2-8c-12.7-1.8-23-10.4-28-22.1-11.3-26.7-25.7-51.7-42.9-74.5-7.7-10.2-10-23.5-5.2-35.3l21.7-53.5c6.7-16.4 0.2-35.3-15.2-44.1L669.1 96.6c-15.4-8.9-34.9-5.1-45.8 8.9l-35.4 45.3c-7.9 10.2-20.7 14.9-33.5 13.3-14-1.8-28.3-2.8-42.8-2.8-14.5 0-28.8 1-42.8 2.8-12.8 1.6-25.6-3.1-33.5-13.3l-35.4-45.3c-10.9-14-30.4-17.8-45.8-8.9L230.4 168c-15.4 8.9-21.8 27.7-15.2 44.1l21.7 53.5c4.8 11.9 2.5 25.1-5.2 35.3-17.2 22.8-31.7 47.8-42.9 74.5-5 11.8-15.3 20.4-28 22.1l-57.2 8C86 408 72.9 423 72.9 440.8v142.9c0 17.7 13.1 32.7 30.6 35.2l57.2 8c12.7 1.8 23 10.4 28 22.1 11.3 26.7 25.7 51.7 42.9 74.5 7.7 10.2 10 23.5 5.2 35.3l-21.7 53.5c-6.7 16.4-0.2 35.3 15.2 44.1L354 927.8c15.4 8.9 34.9 5.1 45.8-8.9l35.4-45.3c7.9-10.2 20.7-14.9 33.5-13.3 14 1.8 28.3 2.8 42.8 2.8 14.5 0 28.8-1 42.8-2.8 12.8-1.6 25.6 3.1 33.5 13.3l35.4 45.3c10.9 14 30.4 17.8 45.8 8.9l123.7-71.4c15.4-8.9 21.8-27.7 15.2-44.1l-21.7-53.5c-4.8-11.8-2.5-25.1 5.2-35.3 17.2-22.8 31.7-47.8 42.9-74.5 5-11.8 15.3-20.4 28-22.1l57.2-8c17.6-2.5 30.6-17.5 30.6-35.2V440.8c0.2-17.8-12.9-32.8-30.5-35.2z m-408 245.5c-76.7 0-138.9-62.2-138.9-138.9s62.2-138.9 138.9-138.9 138.9 62.2 138.9 138.9-62.2 138.9-138.9 138.9z" />
</symbol><symbol class="icon gray" viewBox="0 0 1024 1024"   id="svg-undo-gray"><g transform="scale(-1, 1) translate(-1024, 0)"><path d="M550.912 890.88c-4.096 0-7.9872-0.8192-11.8784-2.4576-11.4688-4.7104-18.8416-15.9744-18.8416-28.2624v-156.672c-96.256-68.1984-309.0432 65.536-385.4336 125.1328-10.4448 7.9872-24.576 8.6016-35.6352 1.6384-11.0592-7.168-16.1792-20.48-13.1072-33.1776 99.1232-401.408 347.3408-475.9552 433.9712-489.6768V163.84c0-12.288 7.3728-23.552 18.8416-28.2624 11.4688-4.9152 24.576-2.2528 33.3824 6.3488l357.1712 348.16c5.9392 5.7344 9.216 13.7216 9.216 21.9136s-3.2768 16.1792-9.216 21.9136l-357.1712 348.16c-5.7344 5.7344-13.5168 8.8064-21.2992 8.8064z m-96.8704-267.0592c44.032 0 84.992 12.0832 117.76 43.008 6.144 5.7344 9.6256 13.9264 9.6256 22.3232v98.304L864.0512 512 581.632 236.7488v98.304c0 16.7936-13.312 30.3104-30.1056 30.72-11.264 0.4096-261.5296 12.0832-381.7472 364.1344 72.2944-45.8752 185.9584-106.0864 284.2624-106.0864z" class="icon-out" p-id="42083" data-spm-anchor-id="a313x.search_index.0.i8.a5e03a81nkrsAk" /><path d="M343.2448 579.7888c-5.9392 0-11.8784-2.048-16.7936-5.9392a26.8288 26.8288 0 0 1-3.6864-37.4784c44.4416-54.272 95.0272-93.3888 150.3232-116.5312 13.7216-5.7344 29.0816 0.8192 34.816 14.336 5.7344 13.5168-0.6144 29.0816-14.336 34.816-47.104 19.6608-90.7264 53.8624-129.6384 101.1712-5.3248 6.3488-12.9024 9.6256-20.6848 9.6256z" class="icon-in" p-id="42084" data-spm-anchor-id="a313x.search_index.0.i11.a5e03a81nkrsAk" /></g></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-undo"><g transform="scale(-1, 1) translate(-1024, 0)"><path d="M550.912 890.88c-4.096 0-7.9872-0.8192-11.8784-2.4576-11.4688-4.7104-18.8416-15.9744-18.8416-28.2624v-156.672c-96.256-68.1984-309.0432 65.536-385.4336 125.1328-10.4448 7.9872-24.576 8.6016-35.6352 1.6384-11.0592-7.168-16.1792-20.48-13.1072-33.1776 99.1232-401.408 347.3408-475.9552 433.9712-489.6768V163.84c0-12.288 7.3728-23.552 18.8416-28.2624 11.4688-4.9152 24.576-2.2528 33.3824 6.3488l357.1712 348.16c5.9392 5.7344 9.216 13.7216 9.216 21.9136s-3.2768 16.1792-9.216 21.9136l-357.1712 348.16c-5.7344 5.7344-13.5168 8.8064-21.2992 8.8064z m-96.8704-267.0592c44.032 0 84.992 12.0832 117.76 43.008 6.144 5.7344 9.6256 13.9264 9.6256 22.3232v98.304L864.0512 512 581.632 236.7488v98.304c0 16.7936-13.312 30.3104-30.1056 30.72-11.264 0.4096-261.5296 12.0832-381.7472 364.1344 72.2944-45.8752 185.9584-106.0864 284.2624-106.0864z" class="icon-out" p-id="42083" data-spm-anchor-id="a313x.search_index.0.i8.a5e03a81nkrsAk" /><path d="M343.2448 579.7888c-5.9392 0-11.8784-2.048-16.7936-5.9392a26.8288 26.8288 0 0 1-3.6864-37.4784c44.4416-54.272 95.0272-93.3888 150.3232-116.5312 13.7216-5.7344 29.0816 0.8192 34.816 14.336 5.7344 13.5168-0.6144 29.0816-14.336 34.816-47.104 19.6608-90.7264 53.8624-129.6384 101.1712-5.3248 6.3488-12.9024 9.6256-20.6848 9.6256z" class="icon-in" p-id="42084" data-spm-anchor-id="a313x.search_index.0.i11.a5e03a81nkrsAk" /></g></symbol><symbol viewBox="0 0 48 48" fill="none"  id="svg-ungroup">\r
    <path d="M11.2727 4H4V11.2727H11.2727V4Z" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M43.9998 36.7271H36.7271V43.9998H43.9998V36.7271Z" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M11.2727 24H4V31.2727H11.2727V24Z" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M23.9998 36.7271H16.7271V43.9998H23.9998V36.7271Z" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M31.2727 4H24V11.2727H31.2727V4Z" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M43.9998 16.7271H36.7271V23.9998H43.9998V16.7271Z" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M11.2729 7.63623H24.0002" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
    <path d="M24 40.3638H36.7273" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
    <path d="M11.2729 27.6366H27.6366V11.2729" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
    <path d="M28.8275 20.3633H36.7269M20.3633 36.7269V27.6282V36.7269Z" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
    <path d="M7.63672 11.2725V23.9997" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
    <path d="M40.3633 24V36.7273" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
</symbol><symbol viewBox="0 0 48 48" fill="none"  id="svg-unlock">\r
    <rect x="7" y="22.0476" width="34" height="22" rx="2" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M14 22V14.0047C13.9948 8.87022 17.9227 4.56718 23.0859 4.05117C28.249 3.53516 32.9673 6.97408 34 12.0059" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
    <path d="M24 30V36" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
</symbol>`,n.insertBefore(i,n.lastChild)};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",r):r()}const main="",index$2="";var ELineBindAnchors=(r=>(r.TopCenter="TopCenter",r.Left="Left",r.Right="Right",r.BottomCenter="BottomCenter",r))(ELineBindAnchors||{}),EConfigAnimationsType=(r=>(r.None="None",r.Electricity="Electricity",r.WaterDrop="WaterDrop",r.Track="Track",r))(EConfigAnimationsType||{}),EConfigItemPropsType=(r=>(r.Input="Input",r.Textarea="Textarea",r.Color="Color",r.InputNumber="InputNumber",r.Switch="Switch",r.JsonEdit="JsonEdit",r.Select="Select",r))(EConfigItemPropsType||{}),EDoneJsonType=(r=>(r.File="File",r.StraightLine="StraightLine",r.ConnectionLine="ConnectionLine",r.CustomSvg="CustomSvg",r.Vue="Vue",r))(EDoneJsonType||{}),EEventType=(r=>(r.Click="Click",r.Change="Change",r.Null="",r))(EEventType||{}),EEventAction=(r=>(r.ChangeAttr="ChangeAttr",r.JavaScript="JavaScript",r.Null="",r))(EEventAction||{}),EConditionType=(r=>(r.None="None",r.Relation="Relation",r))(EConditionType||{}),EGlobalStoreIntention=(r=>(r.None="None",r.Create="Create",r.Move="Move",r.GroupMove="GroupMove",r.MoveCanvas="MoveCanvas",r.Select="Select",r.Zoom="Zoom",r.Rotate="Rotate",r.Connection="Connection",r.SetConnectionLineNode="SetConnectionLineNode",r.ContextMenu="ContextMenu",r.SelectArea="SelectArea",r))(EGlobalStoreIntention||{}),EMouseInfoState=(r=>(r.Down="Down",r.Up="Up",r))(EMouseInfoState||{}),EScaleInfoType=(r=>(r.None="",r.TopLeft="TopLeft",r.TopCenter="TopCenter",r.TopRight="TopRight",r.Left="Left",r.Right="Right",r.BottomLeft="BottomLeft",r.BottomCenter="BottomCenter",r.BottomRight="BottomRight",r))(EScaleInfoType||{});const t$p={name:"alert-light",title:"警示灯",type:EDoneJsonType.File,config:{can_zoom:!0,have_anchor:!0,actual_rect:!0},display:!0,props:{},defaultState:"white",state:{green:{label:"正常",fill:"#00ff00",fillOpacity:"1"},yellow:{label:"请注意",fill:"#ffff00",fillOpacity:"1"},red:{label:"报警",fill:"#ff0000",fillOpacity:"1"},white:{label:"关闭",fill:"#ffffff",fillOpacity:"0"}},common_animations:{val:"",delay:"delay-0s",speed:"slow",repeat:"infinite"},events:[]},t$o={groupType:"stateful",title:"状态SVG",list:[t$p]},t$n={name:"bot-2",title:"2号机",type:EDoneJsonType.File,display:!0,config:{can_zoom:!0,have_anchor:!0,actual_rect:!0},props:{height:{title:"高度",type:EConfigItemPropsType.InputNumber,val:150},width:{title:"宽度",type:EConfigItemPropsType.InputNumber,val:120}},common_animations:{val:"",delay:"delay-0s",speed:"slow",repeat:"infinite"},events:[]},t$m={name:"bot-9",title:"9号机",type:EDoneJsonType.File,display:!0,config:{can_zoom:!0,have_anchor:!0,actual_rect:!0},props:{},common_animations:{val:"",delay:"delay-0s",speed:"slow",repeat:"infinite"},events:[]},t$l={name:"hotpot",title:"火锅",type:EDoneJsonType.File,display:!0,config:{can_zoom:!0,have_anchor:!0,actual_rect:!0},props:{},common_animations:{val:"",delay:"delay-0s",speed:"slow",repeat:"infinite"},events:[]},t$k={name:"hamburger",title:"汉堡",type:EDoneJsonType.File,display:!0,config:{can_zoom:!0,have_anchor:!0,actual_rect:!0},props:{},common_animations:{val:"",delay:"delay-0s",speed:"slow",repeat:"infinite"},events:[]},t$j={groupType:"stateless",title:"静态SVG",list:[t$k,t$l,t$n,t$m]},t$i={name:"thermometer",title:"温度计",type:EDoneJsonType.File,config:{can_zoom:!0,have_anchor:!0,actual_rect:!0},display:!0,props:{},common_animations:{val:"",delay:"delay-0s",speed:"slow",repeat:"infinite"},events:[]},t$h={groupType:"have_animation",title:"动画SVG",list:[t$i]},t$g={name:"svg-text",title:"文字",tag:"svg-text",type:EDoneJsonType.CustomSvg,display:!0,config:{can_zoom:!0,have_anchor:!0,actual_rect:!0},props:{text:{title:"文字内容",type:EConfigItemPropsType.Textarea,val:"文字内容"},fontFamily:{title:"字体",type:EConfigItemPropsType.Select,val:"Microsoft YaHei",options:[{value:"Microsoft YaHei",label:"微软雅黑"},{value:"NSimSun",label:"新宋体"},{value:"KaiTi",label:"楷体"}]},fontSize:{title:"文字大小",type:EConfigItemPropsType.InputNumber,val:18},fill:{title:"文字颜色",type:EConfigItemPropsType.Color,val:"#000"},bold:{title:"文字加粗",type:EConfigItemPropsType.Switch,val:!1},writingMode:{title:"文字朝向",type:EConfigItemPropsType.Select,val:"horizontal-tb",options:[{value:"horizontal-tb",label:"水平"},{value:"vertical-rl",label:"垂直"}]}},common_animations:{val:"",delay:"delay-0s",speed:"slow",repeat:"infinite"},events:[]},t$f={name:"switch-r",title:"开关",tag:"switch-r",type:EDoneJsonType.CustomSvg,display:!0,config:{can_zoom:!0,have_anchor:!0,actual_rect:!0},props:{isOpen:{title:"开关",type:EConfigItemPropsType.Switch,val:!1}},common_animations:{val:"",delay:"delay-0s",speed:"slow",repeat:"infinite"},events:[]},t$e={name:"light",tag:"light-a",title:"灯",type:EDoneJsonType.CustomSvg,config:{can_zoom:!0,have_anchor:!0,actual_rect:!0},display:!0,props:{height:{title:"高度",type:EConfigItemPropsType.InputNumber,val:60},width:{title:"宽度",type:EConfigItemPropsType.InputNumber,val:50},isOpen:{title:"开关",type:EConfigItemPropsType.Switch,val:!1}},common_animations:{val:"",delay:"delay-0s",speed:"slow",repeat:"infinite"},events:[]},t$d={name:"clock-a",title:"时钟",tag:"clock-a",type:EDoneJsonType.CustomSvg,config:{can_zoom:!0,have_anchor:!0,actual_rect:!0},display:!0,props:{centerColor:{title:"针顶颜色",type:EConfigItemPropsType.Color,val:"#EBF257"},secondsColor:{title:"秒针颜色",type:EConfigItemPropsType.Color,val:"#E83E24"},circleColor:{title:"针圈颜色",type:EConfigItemPropsType.Color,val:"#F45AFC"},minutesColor:{title:"分针颜色",type:EConfigItemPropsType.Color,val:"#50E68E"},hoursColor:{title:"时针颜色",type:EConfigItemPropsType.Color,val:"#9A36E7"},scaleColor:{title:"刻度颜色",type:EConfigItemPropsType.Color,val:"#4942CF"},backgroundColor:{title:"表盘颜色",type:EConfigItemPropsType.Color,val:"#ffffff"},borderColor:{title:"表框颜色",type:EConfigItemPropsType.Color,val:"#B3A7FF"}},common_animations:{val:"",delay:"delay-0s",speed:"slow",repeat:"infinite"},events:[]},t$c={groupType:"custom_svg_group",title:"SVG组件",list:[t$g,t$f,t$e,t$d]},t$b=Object.seal([t$j,t$o,t$h,t$c]),t$a={name:"el-button",tag:"el-button",title:"按钮",type:EDoneJsonType.Vue,config:{can_zoom:!1,have_anchor:!0,actual_rect:!0},display:!0,props:{size:{title:"尺寸",type:EConfigItemPropsType.Select,val:"default",options:[{label:"大",value:"large"},{label:"默认",value:"default"},{label:"小",value:"small"}]},type:{title:"类型",type:EConfigItemPropsType.Select,val:"primary",options:[{label:"主要按钮",value:"primary"},{label:"成功按钮",value:"success"},{label:"警告按钮",value:"warning"},{label:"危险按钮",value:"danger"},{label:"信息按钮",value:"info"}]},plain:{title:"朴素按钮",type:EConfigItemPropsType.Switch,val:!1},text:{title:"文字按钮",type:EConfigItemPropsType.Switch,val:!1}},tag_slot:"按钮",common_animations:{val:"",delay:"delay-0s",speed:"slow",repeat:"infinite"},events:[]},t$9={name:"common-table",title:"通用表格",tag:"common-table",type:EDoneJsonType.Vue,config:{can_zoom:!1,have_anchor:!0,actual_rect:!0},display:!0,props:{"col-config":{title:"列配置",type:EConfigItemPropsType.JsonEdit,val:[{prop:"date",label:"第一列",width:"120px",fixed:!1,sortable:!1,"show-overflow-tooltip":!1},{prop:"name",label:"第二列",width:"120px",fixed:!1,sortable:!1,"show-overflow-tooltip":!1},{prop:"address",label:"第三列测试",width:"280px",fixed:!1,sortable:!1,"show-overflow-tooltip":!1}]},data:{title:"表格数据",type:EConfigItemPropsType.JsonEdit,val:[{date:"2016-05-03",name:"Tom",address:"No. 189, Grove St, Los Angeles"},{date:"2016-05-02",name:"Tom",address:"No. 189, Grove St, Los Angeles"},{date:"2016-05-04",name:"Tom",address:"No. 189, Grove St, Los Angeles"},{date:"2016-05-01",name:"Tom",address:"No. 189, Grove St, Los Angeles"}]},width:{title:"宽度",type:EConfigItemPropsType.InputNumber,val:500},height:{title:"高度",type:EConfigItemPropsType.InputNumber,val:200},maxHeight:{title:"最大高度",type:EConfigItemPropsType.InputNumber,val:200},stripe:{title:"斑马纹",type:EConfigItemPropsType.Switch,val:!1},border:{title:"纵向边框",type:EConfigItemPropsType.Switch,val:!1},size:{title:"尺寸",type:EConfigItemPropsType.Select,val:"default",options:[{label:"大",value:"large"},{label:"默认",value:"default"},{label:"小",value:"small"}]},fit:{title:"列宽自撑开",type:EConfigItemPropsType.Switch,val:!1}},common_animations:{val:"",delay:"delay-0s",speed:"slow",repeat:"infinite"},events:[]},t$8={name:"now-time",title:"当前时间",tag:"now-time",type:EDoneJsonType.Vue,config:{can_zoom:!1,have_anchor:!1,actual_rect:!0},display:!0,props:{width:{title:"宽度",type:EConfigItemPropsType.InputNumber,val:150},fontFamily:{title:"字体",type:EConfigItemPropsType.Select,val:"Microsoft YaHei",options:[{value:"Microsoft YaHei",label:"微软雅黑"},{value:"NSimSun",label:"新宋体"},{value:"KaiTi",label:"楷体"}]},fontSize:{title:"文字大小",type:EConfigItemPropsType.InputNumber,val:18},color:{title:"文字颜色",type:EConfigItemPropsType.Color,val:"#000000"},bold:{title:"文字加粗",type:EConfigItemPropsType.Switch,val:!1}},common_animations:{val:"",delay:"delay-0s",speed:"slow",repeat:"infinite"},events:[]},t$7={name:"el-tag",tag:"el-tag",title:"标签",type:EDoneJsonType.Vue,config:{can_zoom:!0,have_anchor:!0,actual_rect:!0},display:!0,props:{type:{title:"类型",type:EConfigItemPropsType.Select,val:"success",options:[{label:"成功",value:"success"},{label:"警告",value:"warning"},{label:"危险",value:"danger"},{label:"信息",value:"info"}]},closable:{title:"可关闭",type:EConfigItemPropsType.Switch,val:!0},"disable-transitions":{title:"渐变",type:EConfigItemPropsType.Switch,val:!1}},tag_slot:"标签",common_animations:{val:"",delay:"delay-0s",speed:"slow",repeat:"infinite"},events:[]},t$6={name:"progress-a",tag:"progress-a",title:"进度条",type:EDoneJsonType.Vue,config:{can_zoom:!1,have_anchor:!0,actual_rect:!0},display:!0,props:{percentage:{title:"进度",type:EConfigItemPropsType.InputNumber,val:50}},common_animations:{val:"",delay:"delay-0s",speed:"slow",repeat:"infinite"},events:[]},t$5={name:"text-box",title:"文字背景框",tag:"text-box",type:EDoneJsonType.Vue,config:{can_zoom:!1,have_anchor:!1,actual_rect:!0},display:!0,props:{width:{title:"宽度",type:EConfigItemPropsType.InputNumber,val:250},height:{title:"高度",type:EConfigItemPropsType.InputNumber,val:150},bgColor:{title:"背景颜色",type:EConfigItemPropsType.Color,val:"#000000"},bgOpacity:{title:"背景透明度(%)",type:EConfigItemPropsType.InputNumber,val:1},borderColor:{title:"边框颜色",type:EConfigItemPropsType.Color,val:"#cccccc"},borderWidth:{title:"边框宽度",type:EConfigItemPropsType.InputNumber,val:1},borderRadius:{title:"边框圆角",type:EConfigItemPropsType.InputNumber,val:5},borderOpacity:{title:"边框透明度(%)",type:EConfigItemPropsType.InputNumber,val:100}},common_animations:{val:"",delay:"delay-0s",speed:"slow",repeat:"infinite"},events:[]},t$4={groupType:"custom-vue",title:"VUE组件",list:[t$a,t$6,t$9,t$8,t$7,t$5]},t$3={name:"pie-charts",tag:"pie-charts",title:"饼图",type:EDoneJsonType.Vue,config:{can_zoom:!0,have_anchor:!0,actual_rect:!0},display:!0,props:{title:{title:"标题",type:EConfigItemPropsType.Input,val:"默认标题"},seriesName:{title:"详情",type:EConfigItemPropsType.Input,val:"详情标题"},seriesData:{title:"legendData",type:EConfigItemPropsType.JsonEdit,val:[{value:1048,name:"办公楼A"},{value:735,name:"办公楼B"},{value:580,name:"保安室"},{value:484,name:"地下车库"},{value:300,name:"食堂"}]}},common_animations:{val:"",delay:"delay-0s",speed:"slow",repeat:"infinite"},events:[]},t$2={groupType:"echarts",title:"图表",list:[t$3]},t$1=Object.seal([t$4,t$2]),_sfc_main$M=vue.defineComponent({__name:"progress",props:{percentage:{default:10}},emits:["onChange"],setup(r,{emit:n}){const i=r,o=[{color:"#f56c6c",percentage:20},{color:"#e6a23c",percentage:40},{color:"#5cb87a",percentage:60},{color:"#1989fa",percentage:80},{color:"#6f7ad3",percentage:100}];return vue.watch(()=>i.percentage,()=>{n("onChange")}),(a,u)=>(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElProgress),{type:"dashboard",percentage:Number(i.percentage),color:o},null,8,["percentage"]))}}),_hoisted_1$m=["id"],_hoisted_2$i=["id"],_hoisted_3$f=vue.createElementVNode("path",{d:"M747.52 238.933333    H276.48    C122.88 238.933333 0 361.813333 0 512    s122.88 273.066667 276.48 273.066667    H750.933333    c150.186667 0 276.48-122.88 276.48-273.066667    s-126.293333-273.066667-279.893333-273.066667z",fill:"white","fill-opacity":".01","p-id":"1537","data-spm-anchor-id":"a313x.manage_type_myprojects.0.i0.1adc3a81uCnBP5"},null,-1),_hoisted_4$b=vue.createElementVNode("path",{d:"M747.52 238.933333    H276.48    C122.88 238.933333 0 361.813333 0 512    s122.88 273.066667 276.48 273.066667    H750.933333    c150.186667 0 276.48-122.88 276.48-273.066667    s-126.293333-273.066667-279.893333-273.066667z     m0 512    H276.48    C143.36 750.933333 34.133333 645.12 34.133333 512s109.226667-238.933333 242.346667-238.933333    H750.933333c133.12 0 242.346667 105.813333 242.346667 238.933333s-112.64 238.933333-245.76 238.933333z",fill:"#2c2c2c","p-id":"1531","data-spm-anchor-id":"a313x.manage_type_myprojects.0.i0.1adc3a81uCnBP5"},null,-1),_hoisted_5$9=vue.createElementVNode("path",{d:"M238.933333 409.6c-37.546667 0-68.266667 27.306667-68.266666 61.44v85.333333c0 34.133333 30.72 61.44 68.266666 61.44s68.266667-27.306667 68.266667-61.44v-85.333333c0-34.133333-30.72-61.44-68.266667-61.44z m34.133334 146.773333c0 13.653333-17.066667 23.893333-34.133334 23.893334s-34.133333-10.24-34.133333-27.306667v-85.333333c0-13.653333 17.066667-23.893333 34.133333-23.893334s34.133333 10.24 34.133334 27.306667v85.333333zM460.8 409.6c-10.24 0-17.066667 6.826667-17.066667 17.066667v109.226666l-71.68-119.466666c-3.413333-6.826667-10.24-10.24-20.48-6.826667-6.826667 3.413333-13.653333 10.24-13.653333 17.066667v170.666666c0 10.24 6.826667 17.066667 17.066667 17.066667s17.066667-6.826667 17.066666-17.066667v-109.226666l71.68 119.466666c3.413333 6.826667 10.24 6.826667 13.653334 6.826667h3.413333c6.826667-3.413333 13.653333-10.24 13.653333-17.066667v-170.666666c3.413333-10.24-3.413333-17.066667-13.653333-17.066667zM750.933333 341.333333c-95.573333 0-170.666667 75.093333-170.666666 170.666667s75.093333 170.666667 170.666666 170.666667 170.666667-75.093333 170.666667-170.666667-75.093333-170.666667-170.666667-170.666667z",fill:"#5ad562","p-id":"1530","data-spm-anchor-id":"a313x.manage_type_myprojects.0.i1.1adc3a81uCnBP5"},null,-1),_hoisted_6$8=[_hoisted_3$f,_hoisted_4$b,_hoisted_5$9],_hoisted_7$8=["id"],_hoisted_8$7=vue.createElementVNode("path",{d:"M747.52 238.933333    H276.48    C122.88 238.933333 0 361.813333 0 512    s122.88 273.066667 276.48 273.066667    H750.933333    c150.186667 0 276.48-122.88 276.48-273.066667    s-126.293333-273.066667-279.893333-273.066667z",fill:"white","fill-opacity":".01","p-id":"1536","data-spm-anchor-id":"a313x.manage_type_myprojects.0.i0.1adc3a81uCnBP5"},null,-1),_hoisted_9$7=vue.createElementVNode("path",{d:"M747.52 238.933333    H276.48    C122.88 238.933333 0 361.813333 0 512    s122.88 273.066667 276.48 273.066667    H750.933333    c150.186667 0 276.48-122.88 276.48-273.066667    s-126.293333-273.066667-279.893333-273.066667z    m0 512    H276.48    C143.36 750.933333 34.133333 645.12 34.133333 512s109.226667-238.933333 242.346667-238.933333    H750.933333c133.12 0 242.346667 105.813333 242.346667 238.933333s-112.64 238.933333-245.76 238.933333z",fill:"#2c2c2c","p-id":"1535","data-spm-anchor-id":"a313x.manage_type_myprojects.0.i0.1adc3a81uCnBP5"},null,-1),_hoisted_10$6=vue.createElementVNode("path",{d:"M273.066667 341.333333c-95.573333 0-170.666667 75.093333-170.666667 170.666667s75.093333 170.666667 170.666667 170.666667 170.666667-75.093333 170.666666-170.666667-75.093333-170.666667-170.666666-170.666667z",fill:"#bfbfbf","p-id":"1534","data-spm-anchor-id":"a313x.manage_type_myprojects.0.i0.1adc3a81KYNNkt"},null,-1),_hoisted_11$5=vue.createElementVNode("path",{d:"M580.266667 409.6c-37.546667 0-68.266667 27.306667-68.266667 61.44v85.333333c0 34.133333 30.72 61.44 68.266667 61.44s68.266667-27.306667 68.266666-61.44v-85.333333c0-34.133333-30.72-61.44-68.266666-61.44z m34.133333 146.773333c0 13.653333-17.066667 27.306667-34.133333 27.306667s-34.133333-10.24-34.133334-27.306667v-85.333333c0-13.653333 17.066667-27.306667 34.133334-27.306667s34.133333 10.24 34.133333 27.306667v85.333333zM904.533333 409.6h-68.266666c-10.24 0-17.066667 6.826667-17.066667 17.066667v170.666666c0 10.24 6.826667 17.066667 17.066667 17.066667s17.066667-6.826667 17.066666-17.066667V512h17.066667c10.24 0 17.066667-6.826667 17.066667-17.066667s-6.826667-17.066667-17.066667-17.066666H853.333333v-34.133334h51.2c10.24 0 17.066667-6.826667 17.066667-17.066666s-6.826667-17.066667-17.066667-17.066667zM768 409.6h-68.266667c-10.24 0-17.066667 6.826667-17.066666 17.066667v170.666666c0 10.24 6.826667 17.066667 17.066666 17.066667s17.066667-6.826667 17.066667-17.066667V512h17.066667c10.24 0 17.066667-6.826667 17.066666-17.066667s-6.826667-17.066667-17.066666-17.066666H716.8v-34.133334h51.2c10.24 0 17.066667-6.826667 17.066667-17.066666s-6.826667-17.066667-17.066667-17.066667z",fill:"#707070","p-id":"1533","data-spm-anchor-id":"a313x.manage_type_myprojects.0.i2.1adc3a81KYNNkt"},null,-1),_hoisted_12$5=[_hoisted_8$7,_hoisted_9$7,_hoisted_10$6,_hoisted_11$5],_hoisted_13$4=["xlink:href"],_sfc_main$L=vue.defineComponent({__name:"switch-r",props:{id:{type:String,default:""},isOpen:{type:Boolean,default:!0}},emits:["onChange"],setup(r,{emit:n}){const i=r;return vue.watch(()=>i.isOpen,()=>{n("onChange")}),(o,a)=>(vue.openBlock(),vue.createElementBlock("g",{id:i.id},[vue.createElementVNode("symbol",{viewBox:"0 0 1027 1024",id:`${i.id}switch-demo-open`},_hoisted_6$8,8,_hoisted_2$i),vue.createElementVNode("symbol",{viewBox:"0 0 1027 1024",id:`${i.id}switch-demo-close`},_hoisted_12$5,8,_hoisted_7$8),vue.createElementVNode("use",{"xlink:href":`#${i.id}switch-demo-${i.isOpen?"open":"close"}`,width:"100",height:"100"},null,8,_hoisted_13$4)],8,_hoisted_1$m))}}),_sfc_main$K=vue.defineComponent({__name:"svg-text",props:{text:{},bold:{type:Boolean}},emits:["resize"],setup(r,{emit:n}){const i=r;return vue.watch(()=>i.text,()=>{vue.nextTick(function(){n("resize")})}),(o,a)=>(vue.openBlock(),vue.createElementBlock("text",{x:"50",y:"55",style:vue.normalizeStyle({"font-weight":i.bold?"bold":"normal"})},vue.toDisplayString(i.text),5))}}),_sfc_main$J=vue.defineComponent({__name:"common-table",props:{colConfig:{default:()=>[]},data:{default:()=>[]},height:{default:200},maxHeight:{},stripe:{type:Boolean,default:!1},border:{type:Boolean,default:!1},size:{},fit:{type:Boolean,default:!1},operateDisplay:{type:Boolean,default:!1},selectionData:{default:()=>[]}},setup(r){const n=r,i=vue.ref({});return vue.watchEffect(()=>{const{colConfig:o,...a}=n;i.value=a}),(o,a)=>(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElTable),vue.normalizeProps(vue.guardReactiveProps(vue.unref(i))),{default:vue.withCtx(()=>[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(n.colConfig,u=>(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElTableColumn),vue.mergeProps({key:u.prop},u),null,16))),128))]),_:1},16))}}),_hoisted_1$l={class:"flex mt-5px"},_sfc_main$I=vue.defineComponent({__name:"now-time",props:{width:{},fontFamily:{},color:{},fontSize:{},bold:{type:Boolean}},setup(r){const n=r,i=vue.computed(()=>({fontFamily:n.fontFamily,color:n.color,fontSize:n.fontSize+"px",fontWeight:n.bold?"bold":"normal"})),o=vue.ref(new Date),a=vue.ref(),u=vue.computed(()=>{const d=o.value.getFullYear(),h=o.value.getMonth()+1,v=o.value.getDate();return d.toString()+"年"+h.toString()+"月"+v.toString()+"日"}),c=vue.computed(()=>{const d=o.value.getDay();return["星期日","星期一","星期二","星期三","星期四","星期五","星期六"][d]}),f=vue.computed(()=>{const d=o.value.getHours(),h=o.value.getMinutes(),v=o.value.getSeconds();return(d<10?"0"+d.toString():d.toString())+":"+(h<10?"0"+h.toString():h.toString())+":"+(v<10?"0"+v.toString():v.toString())});return vue.onMounted(()=>{a.value=setInterval(()=>{o.value=new Date},500)}),vue.onUnmounted(()=>{clearInterval(a.value)}),(d,h)=>(vue.openBlock(),vue.createElementBlock("div",{class:"now-time",style:vue.normalizeStyle({width:n.width+"px"})},[vue.createElementVNode("div",{style:vue.normalizeStyle(vue.unref(i))},vue.toDisplayString(vue.unref(u)),5),vue.createElementVNode("div",_hoisted_1$l,[vue.createElementVNode("div",{style:vue.normalizeStyle(vue.unref(i))},vue.toDisplayString(vue.unref(c)),5),vue.createElementVNode("div",{style:vue.normalizeStyle(vue.unref(i))},vue.toDisplayString(vue.unref(f)),5)])],4))}}),nowTime_vue_vue_type_style_index_0_scoped_82ca3b84_lang="",_export_sfc$1=(r,n)=>{const i=r.__vccOpts||r;for(const[o,a]of n)i[o]=a;return i},NowTime=_export_sfc$1(_sfc_main$I,[["__scopeId","data-v-82ca3b84"]]);/*! *****************************************************************************
  Copyright (c) Microsoft Corporation.

  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.

  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** */var extendStatics=function(r,n){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a])},extendStatics(r,n)};function __extends(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");extendStatics(r,n);function i(){this.constructor=r}r.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}var Browser=function(){function r(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return r}(),Env=function(){function r(){this.browser=new Browser,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return r}(),env=new Env;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(env.wxa=!0,env.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?env.worker=!0:typeof navigator>"u"?(env.node=!0,env.svgSupported=!0):detect(navigator.userAgent,env);function detect(r,n){var i=n.browser,o=r.match(/Firefox\/([\d.]+)/),a=r.match(/MSIE\s([\d.]+)/)||r.match(/Trident\/.+?rv:(([\d.]+))/),u=r.match(/Edge?\/([\d.]+)/),c=/micromessenger/i.test(r);o&&(i.firefox=!0,i.version=o[1]),a&&(i.ie=!0,i.version=a[1]),u&&(i.edge=!0,i.version=u[1],i.newEdge=+u[1].split(".")[0]>18),c&&(i.weChat=!0),n.svgSupported=typeof SVGRect<"u",n.touchEventsSupported="ontouchstart"in window&&!i.ie&&!i.edge,n.pointerEventsSupported="onpointerdown"in window&&(i.edge||i.ie&&+i.version>=11),n.domSupported=typeof document<"u";var f=document.documentElement.style;n.transform3dSupported=(i.ie&&"transition"in f||i.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in f)&&!("OTransition"in f),n.transformSupported=n.transform3dSupported||i.ie&&+i.version>=9}const env$1=env;var DEFAULT_FONT_SIZE=12,DEFAULT_FONT_FAMILY="sans-serif",DEFAULT_FONT=DEFAULT_FONT_SIZE+"px "+DEFAULT_FONT_FAMILY,OFFSET=20,SCALE=100,defaultWidthMapStr="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function getTextWidthMap(r){var n={};if(typeof JSON>"u")return n;for(var i=0;i<r.length;i++){var o=String.fromCharCode(i+32),a=(r.charCodeAt(i)-OFFSET)/SCALE;n[o]=a}return n}var DEFAULT_TEXT_WIDTH_MAP=getTextWidthMap(defaultWidthMapStr),platformApi={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:function(){var r,n;return function(i,o){if(!r){var a=platformApi.createCanvas();r=a&&a.getContext("2d")}if(r)return n!==o&&(n=r.font=o||DEFAULT_FONT),r.measureText(i);i=i||"",o=o||DEFAULT_FONT;var u=/(\d+)px/.exec(o),c=u&&+u[1]||DEFAULT_FONT_SIZE,f=0;if(o.indexOf("mono")>=0)f=c*i.length;else for(var d=0;d<i.length;d++){var h=DEFAULT_TEXT_WIDTH_MAP[i[d]];f+=h==null?c:h*c}return{width:f}}}(),loadImage:function(r,n,i){var o=new Image;return o.onload=n,o.onerror=i,o.src=r,o}},BUILTIN_OBJECT=reduce(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(r,n){return r["[object "+n+"]"]=!0,r},{}),TYPED_ARRAY=reduce(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(r,n){return r["[object "+n+"Array]"]=!0,r},{}),objToString=Object.prototype.toString,arrayProto=Array.prototype,nativeForEach=arrayProto.forEach,nativeFilter=arrayProto.filter,nativeSlice=arrayProto.slice,nativeMap=arrayProto.map,ctorFunction=function(){}.constructor,protoFunction=ctorFunction?ctorFunction.prototype:null,protoKey="__proto__",idStart=2311;function guid(){return idStart++}function logError(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];typeof console<"u"&&console.error.apply(console,r)}function clone$2(r){if(r==null||typeof r!="object")return r;var n=r,i=objToString.call(r);if(i==="[object Array]"){if(!isPrimitive(r)){n=[];for(var o=0,a=r.length;o<a;o++)n[o]=clone$2(r[o])}}else if(TYPED_ARRAY[i]){if(!isPrimitive(r)){var u=r.constructor;if(u.from)n=u.from(r);else{n=new u(r.length);for(var o=0,a=r.length;o<a;o++)n[o]=r[o]}}}else if(!BUILTIN_OBJECT[i]&&!isPrimitive(r)&&!isDom(r)){n={};for(var c in r)r.hasOwnProperty(c)&&c!==protoKey&&(n[c]=clone$2(r[c]))}return n}function merge(r,n,i){if(!isObject$3(n)||!isObject$3(r))return i?clone$2(n):r;for(var o in n)if(n.hasOwnProperty(o)&&o!==protoKey){var a=r[o],u=n[o];isObject$3(u)&&isObject$3(a)&&!isArray$1(u)&&!isArray$1(a)&&!isDom(u)&&!isDom(a)&&!isBuiltInObject(u)&&!isBuiltInObject(a)&&!isPrimitive(u)&&!isPrimitive(a)?merge(a,u,i):(i||!(o in r))&&(r[o]=clone$2(n[o]))}return r}function extend(r,n){if(Object.assign)Object.assign(r,n);else for(var i in n)n.hasOwnProperty(i)&&i!==protoKey&&(r[i]=n[i]);return r}function defaults(r,n,i){for(var o=keys(n),a=0;a<o.length;a++){var u=o[a];(i?n[u]!=null:r[u]==null)&&(r[u]=n[u])}return r}function indexOf(r,n){if(r){if(r.indexOf)return r.indexOf(n);for(var i=0,o=r.length;i<o;i++)if(r[i]===n)return i}return-1}function inherits(r,n){var i=r.prototype;function o(){}o.prototype=n.prototype,r.prototype=new o;for(var a in i)i.hasOwnProperty(a)&&(r.prototype[a]=i[a]);r.prototype.constructor=r,r.superClass=n}function mixin(r,n,i){if(r="prototype"in r?r.prototype:r,n="prototype"in n?n.prototype:n,Object.getOwnPropertyNames)for(var o=Object.getOwnPropertyNames(n),a=0;a<o.length;a++){var u=o[a];u!=="constructor"&&(i?n[u]!=null:r[u]==null)&&(r[u]=n[u])}else defaults(r,n,i)}function isArrayLike(r){return!r||typeof r=="string"?!1:typeof r.length=="number"}function each$4(r,n,i){if(r&&n)if(r.forEach&&r.forEach===nativeForEach)r.forEach(n,i);else if(r.length===+r.length)for(var o=0,a=r.length;o<a;o++)n.call(i,r[o],o,r);else for(var u in r)r.hasOwnProperty(u)&&n.call(i,r[u],u,r)}function map$1(r,n,i){if(!r)return[];if(!n)return slice(r);if(r.map&&r.map===nativeMap)return r.map(n,i);for(var o=[],a=0,u=r.length;a<u;a++)o.push(n.call(i,r[a],a,r));return o}function reduce(r,n,i,o){if(r&&n){for(var a=0,u=r.length;a<u;a++)i=n.call(o,i,r[a],a,r);return i}}function filter(r,n,i){if(!r)return[];if(!n)return slice(r);if(r.filter&&r.filter===nativeFilter)return r.filter(n,i);for(var o=[],a=0,u=r.length;a<u;a++)n.call(i,r[a],a,r)&&o.push(r[a]);return o}function keys(r){if(!r)return[];if(Object.keys)return Object.keys(r);var n=[];for(var i in r)r.hasOwnProperty(i)&&n.push(i);return n}function bindPolyfill(r,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];return function(){return r.apply(n,i.concat(nativeSlice.call(arguments)))}}var bind$1=protoFunction&&isFunction$1(protoFunction.bind)?protoFunction.call.bind(protoFunction.bind):bindPolyfill;function curry$1(r){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];return function(){return r.apply(this,n.concat(nativeSlice.call(arguments)))}}function isArray$1(r){return Array.isArray?Array.isArray(r):objToString.call(r)==="[object Array]"}function isFunction$1(r){return typeof r=="function"}function isString$2(r){return typeof r=="string"}function isStringSafe(r){return objToString.call(r)==="[object String]"}function isNumber$1(r){return typeof r=="number"}function isObject$3(r){var n=typeof r;return n==="function"||!!r&&n==="object"}function isBuiltInObject(r){return!!BUILTIN_OBJECT[objToString.call(r)]}function isTypedArray(r){return!!TYPED_ARRAY[objToString.call(r)]}function isDom(r){return typeof r=="object"&&typeof r.nodeType=="number"&&typeof r.ownerDocument=="object"}function isGradientObject(r){return r.colorStops!=null}function isRegExp(r){return objToString.call(r)==="[object RegExp]"}function eqNaN(r){return r!==r}function retrieve(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];for(var i=0,o=r.length;i<o;i++)if(r[i]!=null)return r[i]}function retrieve2(r,n){return r??n}function retrieve3(r,n,i){return r??n??i}function slice(r){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];return nativeSlice.apply(r,n)}function normalizeCssArray$1(r){if(typeof r=="number")return[r,r,r,r];var n=r.length;return n===2?[r[0],r[1],r[0],r[1]]:n===3?[r[0],r[1],r[2],r[1]]:r}function assert(r,n){if(!r)throw new Error(n)}function trim(r){return r==null?null:typeof r.trim=="function"?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var primitiveKey="__ec_primitive__";function setAsPrimitive(r){r[primitiveKey]=!0}function isPrimitive(r){return r[primitiveKey]}var MapPolyfill=function(){function r(){this.data={}}return r.prototype.delete=function(n){var i=this.has(n);return i&&delete this.data[n],i},r.prototype.has=function(n){return this.data.hasOwnProperty(n)},r.prototype.get=function(n){return this.data[n]},r.prototype.set=function(n,i){return this.data[n]=i,this},r.prototype.keys=function(){return keys(this.data)},r.prototype.forEach=function(n){var i=this.data;for(var o in i)i.hasOwnProperty(o)&&n(i[o],o)},r}(),isNativeMapSupported=typeof Map=="function";function maybeNativeMap(){return isNativeMapSupported?new Map:new MapPolyfill}var HashMap=function(){function r(n){var i=isArray$1(n);this.data=maybeNativeMap();var o=this;n instanceof r?n.each(a):n&&each$4(n,a);function a(u,c){i?o.set(u,c):o.set(c,u)}}return r.prototype.hasKey=function(n){return this.data.has(n)},r.prototype.get=function(n){return this.data.get(n)},r.prototype.set=function(n,i){return this.data.set(n,i),i},r.prototype.each=function(n,i){this.data.forEach(function(o,a){n.call(i,o,a)})},r.prototype.keys=function(){var n=this.data.keys();return isNativeMapSupported?Array.from(n):n},r.prototype.removeKey=function(n){this.data.delete(n)},r}();function createHashMap(r){return new HashMap(r)}function concatArray(r,n){for(var i=new r.constructor(r.length+n.length),o=0;o<r.length;o++)i[o]=r[o];for(var a=r.length,o=0;o<n.length;o++)i[o+a]=n[o];return i}function createObject(r,n){var i;if(Object.create)i=Object.create(r);else{var o=function(){};o.prototype=r,i=new o}return n&&extend(i,n),i}function hasOwn$1(r,n){return r.hasOwnProperty(n)}function noop$1(){}var RADIAN_TO_DEGREE=180/Math.PI;function create$1(r,n){return r==null&&(r=0),n==null&&(n=0),[r,n]}function clone$1(r){return[r[0],r[1]]}function add(r,n,i){return r[0]=n[0]+i[0],r[1]=n[1]+i[1],r}function sub$1(r,n,i){return r[0]=n[0]-i[0],r[1]=n[1]-i[1],r}function len(r){return Math.sqrt(lenSquare(r))}function lenSquare(r){return r[0]*r[0]+r[1]*r[1]}function scale$1(r,n,i){return r[0]=n[0]*i,r[1]=n[1]*i,r}function normalize(r,n){var i=len(n);return i===0?(r[0]=0,r[1]=0):(r[0]=n[0]/i,r[1]=n[1]/i),r}function distance(r,n){return Math.sqrt((r[0]-n[0])*(r[0]-n[0])+(r[1]-n[1])*(r[1]-n[1]))}var dist$1=distance;function distanceSquare(r,n){return(r[0]-n[0])*(r[0]-n[0])+(r[1]-n[1])*(r[1]-n[1])}var distSquare=distanceSquare;function lerp(r,n,i,o){return r[0]=n[0]+o*(i[0]-n[0]),r[1]=n[1]+o*(i[1]-n[1]),r}function applyTransform$1(r,n,i){var o=n[0],a=n[1];return r[0]=i[0]*o+i[2]*a+i[4],r[1]=i[1]*o+i[3]*a+i[5],r}function min$1(r,n,i){return r[0]=Math.min(n[0],i[0]),r[1]=Math.min(n[1],i[1]),r}function max$1(r,n,i){return r[0]=Math.max(n[0],i[0]),r[1]=Math.max(n[1],i[1]),r}var Param=function(){function r(n,i){this.target=n,this.topTarget=i&&i.topTarget}return r}(),Draggable=function(){function r(n){this.handler=n,n.on("mousedown",this._dragStart,this),n.on("mousemove",this._drag,this),n.on("mouseup",this._dragEnd,this)}return r.prototype._dragStart=function(n){for(var i=n.target;i&&!i.draggable;)i=i.parent||i.__hostTarget;i&&(this._draggingTarget=i,i.dragging=!0,this._x=n.offsetX,this._y=n.offsetY,this.handler.dispatchToElement(new Param(i,n),"dragstart",n.event))},r.prototype._drag=function(n){var i=this._draggingTarget;if(i){var o=n.offsetX,a=n.offsetY,u=o-this._x,c=a-this._y;this._x=o,this._y=a,i.drift(u,c,n),this.handler.dispatchToElement(new Param(i,n),"drag",n.event);var f=this.handler.findHover(o,a,i).target,d=this._dropTarget;this._dropTarget=f,i!==f&&(d&&f!==d&&this.handler.dispatchToElement(new Param(d,n),"dragleave",n.event),f&&f!==d&&this.handler.dispatchToElement(new Param(f,n),"dragenter",n.event))}},r.prototype._dragEnd=function(n){var i=this._draggingTarget;i&&(i.dragging=!1),this.handler.dispatchToElement(new Param(i,n),"dragend",n.event),this._dropTarget&&this.handler.dispatchToElement(new Param(this._dropTarget,n),"drop",n.event),this._draggingTarget=null,this._dropTarget=null},r}();const Draggable$1=Draggable;var Eventful=function(){function r(n){n&&(this._$eventProcessor=n)}return r.prototype.on=function(n,i,o,a){this._$handlers||(this._$handlers={});var u=this._$handlers;if(typeof i=="function"&&(a=o,o=i,i=null),!o||!n)return this;var c=this._$eventProcessor;i!=null&&c&&c.normalizeQuery&&(i=c.normalizeQuery(i)),u[n]||(u[n]=[]);for(var f=0;f<u[n].length;f++)if(u[n][f].h===o)return this;var d={h:o,query:i,ctx:a||this,callAtLast:o.zrEventfulCallAtLast},h=u[n].length-1,v=u[n][h];return v&&v.callAtLast?u[n].splice(h,0,d):u[n].push(d),this},r.prototype.isSilent=function(n){var i=this._$handlers;return!i||!i[n]||!i[n].length},r.prototype.off=function(n,i){var o=this._$handlers;if(!o)return this;if(!n)return this._$handlers={},this;if(i){if(o[n]){for(var a=[],u=0,c=o[n].length;u<c;u++)o[n][u].h!==i&&a.push(o[n][u]);o[n]=a}o[n]&&o[n].length===0&&delete o[n]}else delete o[n];return this},r.prototype.trigger=function(n){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];if(!this._$handlers)return this;var a=this._$handlers[n],u=this._$eventProcessor;if(a)for(var c=i.length,f=a.length,d=0;d<f;d++){var h=a[d];if(!(u&&u.filter&&h.query!=null&&!u.filter(n,h.query)))switch(c){case 0:h.h.call(h.ctx);break;case 1:h.h.call(h.ctx,i[0]);break;case 2:h.h.call(h.ctx,i[0],i[1]);break;default:h.h.apply(h.ctx,i);break}}return u&&u.afterTrigger&&u.afterTrigger(n),this},r.prototype.triggerWithContext=function(n){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];if(!this._$handlers)return this;var a=this._$handlers[n],u=this._$eventProcessor;if(a)for(var c=i.length,f=i[c-1],d=a.length,h=0;h<d;h++){var v=a[h];if(!(u&&u.filter&&v.query!=null&&!u.filter(n,v.query)))switch(c){case 0:v.h.call(f);break;case 1:v.h.call(f,i[0]);break;case 2:v.h.call(f,i[0],i[1]);break;default:v.h.apply(f,i.slice(1,c-1));break}}return u&&u.afterTrigger&&u.afterTrigger(n),this},r}();const Eventful$1=Eventful;var LN2=Math.log(2);function determinant(r,n,i,o,a,u){var c=o+"-"+a,f=r.length;if(u.hasOwnProperty(c))return u[c];if(n===1){var d=Math.round(Math.log((1<<f)-1&~a)/LN2);return r[i][d]}for(var h=o|1<<i,v=i+1;o&1<<v;)v++;for(var g=0,p=0,y=0;p<f;p++){var _=1<<p;_&a||(g+=(y%2?-1:1)*r[i][p]*determinant(r,n-1,v,h,a|_,u),y++)}return u[c]=g,g}function buildTransformer(r,n){var i=[[r[0],r[1],1,0,0,0,-n[0]*r[0],-n[0]*r[1]],[0,0,0,r[0],r[1],1,-n[1]*r[0],-n[1]*r[1]],[r[2],r[3],1,0,0,0,-n[2]*r[2],-n[2]*r[3]],[0,0,0,r[2],r[3],1,-n[3]*r[2],-n[3]*r[3]],[r[4],r[5],1,0,0,0,-n[4]*r[4],-n[4]*r[5]],[0,0,0,r[4],r[5],1,-n[5]*r[4],-n[5]*r[5]],[r[6],r[7],1,0,0,0,-n[6]*r[6],-n[6]*r[7]],[0,0,0,r[6],r[7],1,-n[7]*r[6],-n[7]*r[7]]],o={},a=determinant(i,8,0,0,0,o);if(a!==0){for(var u=[],c=0;c<8;c++)for(var f=0;f<8;f++)u[f]==null&&(u[f]=0),u[f]+=((c+f)%2?-1:1)*determinant(i,7,c===0?1:0,1<<c,1<<f,o)/a*n[c];return function(d,h,v){var g=h*u[6]+v*u[7]+1;d[0]=(h*u[0]+v*u[1]+u[2])/g,d[1]=(h*u[3]+v*u[4]+u[5])/g}}}var EVENT_SAVED_PROP="___zrEVENTSAVED",_calcOut$1=[];function transformLocalCoord(r,n,i,o,a){return transformCoordWithViewport(_calcOut$1,n,o,a,!0)&&transformCoordWithViewport(r,i,_calcOut$1[0],_calcOut$1[1])}function transformCoordWithViewport(r,n,i,o,a){if(n.getBoundingClientRect&&env$1.domSupported&&!isCanvasEl(n)){var u=n[EVENT_SAVED_PROP]||(n[EVENT_SAVED_PROP]={}),c=prepareCoordMarkers(n,u),f=preparePointerTransformer(c,u,a);if(f)return f(r,i,o),!0}return!1}function prepareCoordMarkers(r,n){var i=n.markers;if(i)return i;i=n.markers=[];for(var o=["left","right"],a=["top","bottom"],u=0;u<4;u++){var c=document.createElement("div"),f=c.style,d=u%2,h=(u>>1)%2;f.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",o[d]+":0",a[h]+":0",o[1-d]+":auto",a[1-h]+":auto",""].join("!important;"),r.appendChild(c),i.push(c)}return i}function preparePointerTransformer(r,n,i){for(var o=i?"invTrans":"trans",a=n[o],u=n.srcCoords,c=[],f=[],d=!0,h=0;h<4;h++){var v=r[h].getBoundingClientRect(),g=2*h,p=v.left,y=v.top;c.push(p,y),d=d&&u&&p===u[g]&&y===u[g+1],f.push(r[h].offsetLeft,r[h].offsetTop)}return d&&a?a:(n.srcCoords=c,n[o]=i?buildTransformer(f,c):buildTransformer(c,f))}function isCanvasEl(r){return r.nodeName.toUpperCase()==="CANVAS"}var replaceReg=/([&<>"'])/g,replaceMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function encodeHTML(r){return r==null?"":(r+"").replace(replaceReg,function(n,i){return replaceMap[i]})}var MOUSE_EVENT_REG=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,_calcOut=[],firefoxNotSupportOffsetXY=env$1.browser.firefox&&+env$1.browser.version.split(".")[0]<39;function clientToLocal(r,n,i,o){return i=i||{},o?calculateZrXY(r,n,i):firefoxNotSupportOffsetXY&&n.layerX!=null&&n.layerX!==n.offsetX?(i.zrX=n.layerX,i.zrY=n.layerY):n.offsetX!=null?(i.zrX=n.offsetX,i.zrY=n.offsetY):calculateZrXY(r,n,i),i}function calculateZrXY(r,n,i){if(env$1.domSupported&&r.getBoundingClientRect){var o=n.clientX,a=n.clientY;if(isCanvasEl(r)){var u=r.getBoundingClientRect();i.zrX=o-u.left,i.zrY=a-u.top;return}else if(transformCoordWithViewport(_calcOut,r,o,a)){i.zrX=_calcOut[0],i.zrY=_calcOut[1];return}}i.zrX=i.zrY=0}function getNativeEvent(r){return r||window.event}function normalizeEvent(r,n,i){if(n=getNativeEvent(n),n.zrX!=null)return n;var o=n.type,a=o&&o.indexOf("touch")>=0;if(a){var c=o!=="touchend"?n.targetTouches[0]:n.changedTouches[0];c&&clientToLocal(r,c,n,i)}else{clientToLocal(r,n,n,i);var u=getWheelDeltaMayPolyfill(n);n.zrDelta=u?u/120:-(n.detail||0)/3}var f=n.button;return n.which==null&&f!==void 0&&MOUSE_EVENT_REG.test(n.type)&&(n.which=f&1?1:f&2?3:f&4?2:0),n}function getWheelDeltaMayPolyfill(r){var n=r.wheelDelta;if(n)return n;var i=r.deltaX,o=r.deltaY;if(i==null||o==null)return n;var a=Math.abs(o!==0?o:i),u=o>0?-1:o<0?1:i>0?-1:1;return 3*a*u}function addEventListener(r,n,i,o){r.addEventListener(n,i,o)}function removeEventListener(r,n,i,o){r.removeEventListener(n,i,o)}var stop=function(r){r.preventDefault(),r.stopPropagation(),r.cancelBubble=!0},GestureMgr=function(){function r(){this._track=[]}return r.prototype.recognize=function(n,i,o){return this._doTrack(n,i,o),this._recognize(n)},r.prototype.clear=function(){return this._track.length=0,this},r.prototype._doTrack=function(n,i,o){var a=n.touches;if(a){for(var u={points:[],touches:[],target:i,event:n},c=0,f=a.length;c<f;c++){var d=a[c],h=clientToLocal(o,d,{});u.points.push([h.zrX,h.zrY]),u.touches.push(d)}this._track.push(u)}},r.prototype._recognize=function(n){for(var i in recognizers)if(recognizers.hasOwnProperty(i)){var o=recognizers[i](this._track,n);if(o)return o}},r}();function dist(r){var n=r[1][0]-r[0][0],i=r[1][1]-r[0][1];return Math.sqrt(n*n+i*i)}function center(r){return[(r[0][0]+r[1][0])/2,(r[0][1]+r[1][1])/2]}var recognizers={pinch:function(r,n){var i=r.length;if(i){var o=(r[i-1]||{}).points,a=(r[i-2]||{}).points||o;if(a&&a.length>1&&o&&o.length>1){var u=dist(o)/dist(a);!isFinite(u)&&(u=1),n.pinchScale=u;var c=center(o);return n.pinchX=c[0],n.pinchY=c[1],{type:"pinch",target:r[0].target,event:n}}}}};function create(){return[1,0,0,1,0,0]}function identity$1(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=1,r[4]=0,r[5]=0,r}function copy(r,n){return r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r[4]=n[4],r[5]=n[5],r}function mul(r,n,i){var o=n[0]*i[0]+n[2]*i[1],a=n[1]*i[0]+n[3]*i[1],u=n[0]*i[2]+n[2]*i[3],c=n[1]*i[2]+n[3]*i[3],f=n[0]*i[4]+n[2]*i[5]+n[4],d=n[1]*i[4]+n[3]*i[5]+n[5];return r[0]=o,r[1]=a,r[2]=u,r[3]=c,r[4]=f,r[5]=d,r}function translate$1(r,n,i){return r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r[4]=n[4]+i[0],r[5]=n[5]+i[1],r}function rotate(r,n,i){var o=n[0],a=n[2],u=n[4],c=n[1],f=n[3],d=n[5],h=Math.sin(i),v=Math.cos(i);return r[0]=o*v+c*h,r[1]=-o*h+c*v,r[2]=a*v+f*h,r[3]=-a*h+v*f,r[4]=v*u+h*d,r[5]=v*d-h*u,r}function scale(r,n,i){var o=i[0],a=i[1];return r[0]=n[0]*o,r[1]=n[1]*a,r[2]=n[2]*o,r[3]=n[3]*a,r[4]=n[4]*o,r[5]=n[5]*a,r}function invert(r,n){var i=n[0],o=n[2],a=n[4],u=n[1],c=n[3],f=n[5],d=i*c-u*o;return d?(d=1/d,r[0]=c*d,r[1]=-u*d,r[2]=-o*d,r[3]=i*d,r[4]=(o*f-c*a)*d,r[5]=(u*a-i*f)*d,r):null}var Point=function(){function r(n,i){this.x=n||0,this.y=i||0}return r.prototype.copy=function(n){return this.x=n.x,this.y=n.y,this},r.prototype.clone=function(){return new r(this.x,this.y)},r.prototype.set=function(n,i){return this.x=n,this.y=i,this},r.prototype.equal=function(n){return n.x===this.x&&n.y===this.y},r.prototype.add=function(n){return this.x+=n.x,this.y+=n.y,this},r.prototype.scale=function(n){this.x*=n,this.y*=n},r.prototype.scaleAndAdd=function(n,i){this.x+=n.x*i,this.y+=n.y*i},r.prototype.sub=function(n){return this.x-=n.x,this.y-=n.y,this},r.prototype.dot=function(n){return this.x*n.x+this.y*n.y},r.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},r.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},r.prototype.normalize=function(){var n=this.len();return this.x/=n,this.y/=n,this},r.prototype.distance=function(n){var i=this.x-n.x,o=this.y-n.y;return Math.sqrt(i*i+o*o)},r.prototype.distanceSquare=function(n){var i=this.x-n.x,o=this.y-n.y;return i*i+o*o},r.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},r.prototype.transform=function(n){if(n){var i=this.x,o=this.y;return this.x=n[0]*i+n[2]*o+n[4],this.y=n[1]*i+n[3]*o+n[5],this}},r.prototype.toArray=function(n){return n[0]=this.x,n[1]=this.y,n},r.prototype.fromArray=function(n){this.x=n[0],this.y=n[1]},r.set=function(n,i,o){n.x=i,n.y=o},r.copy=function(n,i){n.x=i.x,n.y=i.y},r.len=function(n){return Math.sqrt(n.x*n.x+n.y*n.y)},r.lenSquare=function(n){return n.x*n.x+n.y*n.y},r.dot=function(n,i){return n.x*i.x+n.y*i.y},r.add=function(n,i,o){n.x=i.x+o.x,n.y=i.y+o.y},r.sub=function(n,i,o){n.x=i.x-o.x,n.y=i.y-o.y},r.scale=function(n,i,o){n.x=i.x*o,n.y=i.y*o},r.scaleAndAdd=function(n,i,o,a){n.x=i.x+o.x*a,n.y=i.y+o.y*a},r.lerp=function(n,i,o,a){var u=1-a;n.x=u*i.x+a*o.x,n.y=u*i.y+a*o.y},r}();const Point$1=Point;var mathMin$4=Math.min,mathMax$4=Math.max,lt$1=new Point$1,rb=new Point$1,lb=new Point$1,rt$1=new Point$1,minTv$1=new Point$1,maxTv$1=new Point$1,BoundingRect=function(){function r(n,i,o,a){o<0&&(n=n+o,o=-o),a<0&&(i=i+a,a=-a),this.x=n,this.y=i,this.width=o,this.height=a}return r.prototype.union=function(n){var i=mathMin$4(n.x,this.x),o=mathMin$4(n.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=mathMax$4(n.x+n.width,this.x+this.width)-i:this.width=n.width,isFinite(this.y)&&isFinite(this.height)?this.height=mathMax$4(n.y+n.height,this.y+this.height)-o:this.height=n.height,this.x=i,this.y=o},r.prototype.applyTransform=function(n){r.applyTransform(this,this,n)},r.prototype.calculateTransform=function(n){var i=this,o=n.width/i.width,a=n.height/i.height,u=create();return translate$1(u,u,[-i.x,-i.y]),scale(u,u,[o,a]),translate$1(u,u,[n.x,n.y]),u},r.prototype.intersect=function(n,i){if(!n)return!1;n instanceof r||(n=r.create(n));var o=this,a=o.x,u=o.x+o.width,c=o.y,f=o.y+o.height,d=n.x,h=n.x+n.width,v=n.y,g=n.y+n.height,p=!(u<d||h<a||f<v||g<c);if(i){var y=1/0,_=0,b=Math.abs(u-d),A=Math.abs(h-a),w=Math.abs(f-v),T=Math.abs(g-c),S=Math.min(b,A),x=Math.min(w,T);u<d||h<a?S>_&&(_=S,b<A?Point$1.set(maxTv$1,-b,0):Point$1.set(maxTv$1,A,0)):S<y&&(y=S,b<A?Point$1.set(minTv$1,b,0):Point$1.set(minTv$1,-A,0)),f<v||g<c?x>_&&(_=x,w<T?Point$1.set(maxTv$1,0,-w):Point$1.set(maxTv$1,0,T)):S<y&&(y=S,w<T?Point$1.set(minTv$1,0,w):Point$1.set(minTv$1,0,-T))}return i&&Point$1.copy(i,p?minTv$1:maxTv$1),p},r.prototype.contain=function(n,i){var o=this;return n>=o.x&&n<=o.x+o.width&&i>=o.y&&i<=o.y+o.height},r.prototype.clone=function(){return new r(this.x,this.y,this.width,this.height)},r.prototype.copy=function(n){r.copy(this,n)},r.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},r.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},r.prototype.isZero=function(){return this.width===0||this.height===0},r.create=function(n){return new r(n.x,n.y,n.width,n.height)},r.copy=function(n,i){n.x=i.x,n.y=i.y,n.width=i.width,n.height=i.height},r.applyTransform=function(n,i,o){if(!o){n!==i&&r.copy(n,i);return}if(o[1]<1e-5&&o[1]>-1e-5&&o[2]<1e-5&&o[2]>-1e-5){var a=o[0],u=o[3],c=o[4],f=o[5];n.x=i.x*a+c,n.y=i.y*u+f,n.width=i.width*a,n.height=i.height*u,n.width<0&&(n.x+=n.width,n.width=-n.width),n.height<0&&(n.y+=n.height,n.height=-n.height);return}lt$1.x=lb.x=i.x,lt$1.y=rt$1.y=i.y,rb.x=rt$1.x=i.x+i.width,rb.y=lb.y=i.y+i.height,lt$1.transform(o),rt$1.transform(o),rb.transform(o),lb.transform(o),n.x=mathMin$4(lt$1.x,rb.x,lb.x,rt$1.x),n.y=mathMin$4(lt$1.y,rb.y,lb.y,rt$1.y);var d=mathMax$4(lt$1.x,rb.x,lb.x,rt$1.x),h=mathMax$4(lt$1.y,rb.y,lb.y,rt$1.y);n.width=d-n.x,n.height=h-n.y},r}();const BoundingRect$1=BoundingRect;var SILENT="silent";function makeEventPacket(r,n,i){return{type:r,event:i,target:n.target,topTarget:n.topTarget,cancelBubble:!1,offsetX:i.zrX,offsetY:i.zrY,gestureEvent:i.gestureEvent,pinchX:i.pinchX,pinchY:i.pinchY,pinchScale:i.pinchScale,wheelDelta:i.zrDelta,zrByTouch:i.zrByTouch,which:i.which,stop:stopEvent$1}}function stopEvent$1(){stop(this.event)}var EmptyProxy=function(r){__extends(n,r);function n(){var i=r!==null&&r.apply(this,arguments)||this;return i.handler=null,i}return n.prototype.dispose=function(){},n.prototype.setCursor=function(){},n}(Eventful$1),HoveredResult=function(){function r(n,i){this.x=n,this.y=i}return r}(),handlerNames=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],tmpRect$1=new BoundingRect$1(0,0,0,0),Handler=function(r){__extends(n,r);function n(i,o,a,u,c){var f=r.call(this)||this;return f._hovered=new HoveredResult(0,0),f.storage=i,f.painter=o,f.painterRoot=u,f._pointerSize=c,a=a||new EmptyProxy,f.proxy=null,f.setHandlerProxy(a),f._draggingMgr=new Draggable$1(f),f}return n.prototype.setHandlerProxy=function(i){this.proxy&&this.proxy.dispose(),i&&(each$4(handlerNames,function(o){i.on&&i.on(o,this[o],this)},this),i.handler=this),this.proxy=i},n.prototype.mousemove=function(i){var o=i.zrX,a=i.zrY,u=isOutsideBoundary(this,o,a),c=this._hovered,f=c.target;f&&!f.__zr&&(c=this.findHover(c.x,c.y),f=c.target);var d=this._hovered=u?new HoveredResult(o,a):this.findHover(o,a),h=d.target,v=this.proxy;v.setCursor&&v.setCursor(h?h.cursor:"default"),f&&h!==f&&this.dispatchToElement(c,"mouseout",i),this.dispatchToElement(d,"mousemove",i),h&&h!==f&&this.dispatchToElement(d,"mouseover",i)},n.prototype.mouseout=function(i){var o=i.zrEventControl;o!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",i),o!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:i})},n.prototype.resize=function(){this._hovered=new HoveredResult(0,0)},n.prototype.dispatch=function(i,o){var a=this[i];a&&a.call(this,o)},n.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},n.prototype.setCursorStyle=function(i){var o=this.proxy;o.setCursor&&o.setCursor(i)},n.prototype.dispatchToElement=function(i,o,a){i=i||{};var u=i.target;if(!(u&&u.silent)){for(var c="on"+o,f=makeEventPacket(o,i,a);u&&(u[c]&&(f.cancelBubble=!!u[c].call(u,f)),u.trigger(o,f),u=u.__hostTarget?u.__hostTarget:u.parent,!f.cancelBubble););f.cancelBubble||(this.trigger(o,f),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(d){typeof d[c]=="function"&&d[c].call(d,f),d.trigger&&d.trigger(o,f)}))}},n.prototype.findHover=function(i,o,a){var u=this.storage.getDisplayList(),c=new HoveredResult(i,o);if(setHoverTarget(u,c,i,o,a),this._pointerSize&&!c.target){for(var f=[],d=this._pointerSize,h=d/2,v=new BoundingRect$1(i-h,o-h,d,d),g=u.length-1;g>=0;g--){var p=u[g];p!==a&&!p.ignore&&!p.ignoreCoarsePointer&&(!p.parent||!p.parent.ignoreCoarsePointer)&&(tmpRect$1.copy(p.getBoundingRect()),p.transform&&tmpRect$1.applyTransform(p.transform),tmpRect$1.intersect(v)&&f.push(p))}if(f.length)for(var y=4,_=Math.PI/12,b=Math.PI*2,A=0;A<h;A+=y)for(var w=0;w<b;w+=_){var T=i+A*Math.cos(w),S=o+A*Math.sin(w);if(setHoverTarget(f,c,T,S,a),c.target)return c}}return c},n.prototype.processGesture=function(i,o){this._gestureMgr||(this._gestureMgr=new GestureMgr);var a=this._gestureMgr;o==="start"&&a.clear();var u=a.recognize(i,this.findHover(i.zrX,i.zrY,null).target,this.proxy.dom);if(o==="end"&&a.clear(),u){var c=u.type;i.gestureEvent=c;var f=new HoveredResult;f.target=u.target,this.dispatchToElement(f,c,u.event)}},n}(Eventful$1);each$4(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(r){Handler.prototype[r]=function(n){var i=n.zrX,o=n.zrY,a=isOutsideBoundary(this,i,o),u,c;if((r!=="mouseup"||!a)&&(u=this.findHover(i,o),c=u.target),r==="mousedown")this._downEl=c,this._downPoint=[n.zrX,n.zrY],this._upEl=c;else if(r==="mouseup")this._upEl=c;else if(r==="click"){if(this._downEl!==this._upEl||!this._downPoint||dist$1(this._downPoint,[n.zrX,n.zrY])>4)return;this._downPoint=null}this.dispatchToElement(u,r,n)}});function isHover(r,n,i){if(r[r.rectHover?"rectContain":"contain"](n,i)){for(var o=r,a=void 0,u=!1;o;){if(o.ignoreClip&&(u=!0),!u){var c=o.getClipPath();if(c&&!c.contain(n,i))return!1;o.silent&&(a=!0)}var f=o.__hostTarget;o=f||o.parent}return a?SILENT:!0}return!1}function setHoverTarget(r,n,i,o,a){for(var u=r.length-1;u>=0;u--){var c=r[u],f=void 0;if(c!==a&&!c.ignore&&(f=isHover(c,i,o))&&(!n.topTarget&&(n.topTarget=c),f!==SILENT)){n.target=c;break}}}function isOutsideBoundary(r,n,i){var o=r.painter;return n<0||n>o.getWidth()||i<0||i>o.getHeight()}const Handler$1=Handler;var DEFAULT_MIN_MERGE=32,DEFAULT_MIN_GALLOPING=7;function minRunLength(r){for(var n=0;r>=DEFAULT_MIN_MERGE;)n|=r&1,r>>=1;return r+n}function makeAscendingRun(r,n,i,o){var a=n+1;if(a===i)return 1;if(o(r[a++],r[n])<0){for(;a<i&&o(r[a],r[a-1])<0;)a++;reverseRun(r,n,a)}else for(;a<i&&o(r[a],r[a-1])>=0;)a++;return a-n}function reverseRun(r,n,i){for(i--;n<i;){var o=r[n];r[n++]=r[i],r[i--]=o}}function binaryInsertionSort(r,n,i,o,a){for(o===n&&o++;o<i;o++){for(var u=r[o],c=n,f=o,d;c<f;)d=c+f>>>1,a(u,r[d])<0?f=d:c=d+1;var h=o-c;switch(h){case 3:r[c+3]=r[c+2];case 2:r[c+2]=r[c+1];case 1:r[c+1]=r[c];break;default:for(;h>0;)r[c+h]=r[c+h-1],h--}r[c]=u}}function gallopLeft(r,n,i,o,a,u){var c=0,f=0,d=1;if(u(r,n[i+a])>0){for(f=o-a;d<f&&u(r,n[i+a+d])>0;)c=d,d=(d<<1)+1,d<=0&&(d=f);d>f&&(d=f),c+=a,d+=a}else{for(f=a+1;d<f&&u(r,n[i+a-d])<=0;)c=d,d=(d<<1)+1,d<=0&&(d=f);d>f&&(d=f);var h=c;c=a-d,d=a-h}for(c++;c<d;){var v=c+(d-c>>>1);u(r,n[i+v])>0?c=v+1:d=v}return d}function gallopRight(r,n,i,o,a,u){var c=0,f=0,d=1;if(u(r,n[i+a])<0){for(f=a+1;d<f&&u(r,n[i+a-d])<0;)c=d,d=(d<<1)+1,d<=0&&(d=f);d>f&&(d=f);var h=c;c=a-d,d=a-h}else{for(f=o-a;d<f&&u(r,n[i+a+d])>=0;)c=d,d=(d<<1)+1,d<=0&&(d=f);d>f&&(d=f),c+=a,d+=a}for(c++;c<d;){var v=c+(d-c>>>1);u(r,n[i+v])<0?d=v:c=v+1}return d}function TimSort(r,n){var i=DEFAULT_MIN_GALLOPING,o,a,u=0;r.length;var c=[];o=[],a=[];function f(y,_){o[u]=y,a[u]=_,u+=1}function d(){for(;u>1;){var y=u-2;if(y>=1&&a[y-1]<=a[y]+a[y+1]||y>=2&&a[y-2]<=a[y]+a[y-1])a[y-1]<a[y+1]&&y--;else if(a[y]>a[y+1])break;v(y)}}function h(){for(;u>1;){var y=u-2;y>0&&a[y-1]<a[y+1]&&y--,v(y)}}function v(y){var _=o[y],b=a[y],A=o[y+1],w=a[y+1];a[y]=b+w,y===u-3&&(o[y+1]=o[y+2],a[y+1]=a[y+2]),u--;var T=gallopRight(r[A],r,_,b,0,n);_+=T,b-=T,b!==0&&(w=gallopLeft(r[_+b-1],r,A,w,w-1,n),w!==0&&(b<=w?g(_,b,A,w):p(_,b,A,w)))}function g(y,_,b,A){var w=0;for(w=0;w<_;w++)c[w]=r[y+w];var T=0,S=b,x=y;if(r[x++]=r[S++],--A===0){for(w=0;w<_;w++)r[x+w]=c[T+w];return}if(_===1){for(w=0;w<A;w++)r[x+w]=r[S+w];r[x+A]=c[T];return}for(var O=i,L,M,re;;){L=0,M=0,re=!1;do if(n(r[S],c[T])<0){if(r[x++]=r[S++],M++,L=0,--A===0){re=!0;break}}else if(r[x++]=c[T++],L++,M=0,--_===1){re=!0;break}while((L|M)<O);if(re)break;do{if(L=gallopRight(r[S],c,T,_,0,n),L!==0){for(w=0;w<L;w++)r[x+w]=c[T+w];if(x+=L,T+=L,_-=L,_<=1){re=!0;break}}if(r[x++]=r[S++],--A===0){re=!0;break}if(M=gallopLeft(c[T],r,S,A,0,n),M!==0){for(w=0;w<M;w++)r[x+w]=r[S+w];if(x+=M,S+=M,A-=M,A===0){re=!0;break}}if(r[x++]=c[T++],--_===1){re=!0;break}O--}while(L>=DEFAULT_MIN_GALLOPING||M>=DEFAULT_MIN_GALLOPING);if(re)break;O<0&&(O=0),O+=2}if(i=O,i<1&&(i=1),_===1){for(w=0;w<A;w++)r[x+w]=r[S+w];r[x+A]=c[T]}else{if(_===0)throw new Error;for(w=0;w<_;w++)r[x+w]=c[T+w]}}function p(y,_,b,A){var w=0;for(w=0;w<A;w++)c[w]=r[b+w];var T=y+_-1,S=A-1,x=b+A-1,O=0,L=0;if(r[x--]=r[T--],--_===0){for(O=x-(A-1),w=0;w<A;w++)r[O+w]=c[w];return}if(A===1){for(x-=_,T-=_,L=x+1,O=T+1,w=_-1;w>=0;w--)r[L+w]=r[O+w];r[x]=c[S];return}for(var M=i;;){var re=0,F=0,j=!1;do if(n(c[S],r[T])<0){if(r[x--]=r[T--],re++,F=0,--_===0){j=!0;break}}else if(r[x--]=c[S--],F++,re=0,--A===1){j=!0;break}while((re|F)<M);if(j)break;do{if(re=_-gallopRight(c[S],r,y,_,_-1,n),re!==0){for(x-=re,T-=re,_-=re,L=x+1,O=T+1,w=re-1;w>=0;w--)r[L+w]=r[O+w];if(_===0){j=!0;break}}if(r[x--]=c[S--],--A===1){j=!0;break}if(F=A-gallopLeft(r[T],c,0,A,A-1,n),F!==0){for(x-=F,S-=F,A-=F,L=x+1,O=S+1,w=0;w<F;w++)r[L+w]=c[O+w];if(A<=1){j=!0;break}}if(r[x--]=r[T--],--_===0){j=!0;break}M--}while(re>=DEFAULT_MIN_GALLOPING||F>=DEFAULT_MIN_GALLOPING);if(j)break;M<0&&(M=0),M+=2}if(i=M,i<1&&(i=1),A===1){for(x-=_,T-=_,L=x+1,O=T+1,w=_-1;w>=0;w--)r[L+w]=r[O+w];r[x]=c[S]}else{if(A===0)throw new Error;for(O=x-(A-1),w=0;w<A;w++)r[O+w]=c[w]}}return{mergeRuns:d,forceMergeRuns:h,pushRun:f}}function sort(r,n,i,o){i||(i=0),o||(o=r.length);var a=o-i;if(!(a<2)){var u=0;if(a<DEFAULT_MIN_MERGE){u=makeAscendingRun(r,i,o,n),binaryInsertionSort(r,i,o,i+u,n);return}var c=TimSort(r,n),f=minRunLength(a);do{if(u=makeAscendingRun(r,i,o,n),u<f){var d=a;d>f&&(d=f),binaryInsertionSort(r,i,i+d,i+u,n),u=d}c.pushRun(i,u),c.mergeRuns(),a-=u,i+=u}while(a!==0);c.forceMergeRuns()}}var REDRAW_BIT=1,STYLE_CHANGED_BIT=2,SHAPE_CHANGED_BIT=4,invalidZErrorLogged=!1;function logInvalidZError(){invalidZErrorLogged||(invalidZErrorLogged=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function shapeCompareFunc(r,n){return r.zlevel===n.zlevel?r.z===n.z?r.z2-n.z2:r.z-n.z:r.zlevel-n.zlevel}var Storage=function(){function r(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=shapeCompareFunc}return r.prototype.traverse=function(n,i){for(var o=0;o<this._roots.length;o++)this._roots[o].traverse(n,i)},r.prototype.getDisplayList=function(n,i){i=i||!1;var o=this._displayList;return(n||!o.length)&&this.updateDisplayList(i),o},r.prototype.updateDisplayList=function(n){this._displayListLen=0;for(var i=this._roots,o=this._displayList,a=0,u=i.length;a<u;a++)this._updateAndAddDisplayable(i[a],null,n);o.length=this._displayListLen,sort(o,shapeCompareFunc)},r.prototype._updateAndAddDisplayable=function(n,i,o){if(!(n.ignore&&!o)){n.beforeUpdate(),n.update(),n.afterUpdate();var a=n.getClipPath();if(n.ignoreClip)i=null;else if(a){i?i=i.slice():i=[];for(var u=a,c=n;u;)u.parent=c,u.updateTransform(),i.push(u),c=u,u=u.getClipPath()}if(n.childrenRef){for(var f=n.childrenRef(),d=0;d<f.length;d++){var h=f[d];n.__dirty&&(h.__dirty|=REDRAW_BIT),this._updateAndAddDisplayable(h,i,o)}n.__dirty=0}else{var v=n;i&&i.length?v.__clipPaths=i:v.__clipPaths&&v.__clipPaths.length>0&&(v.__clipPaths=[]),isNaN(v.z)&&(logInvalidZError(),v.z=0),isNaN(v.z2)&&(logInvalidZError(),v.z2=0),isNaN(v.zlevel)&&(logInvalidZError(),v.zlevel=0),this._displayList[this._displayListLen++]=v}var g=n.getDecalElement&&n.getDecalElement();g&&this._updateAndAddDisplayable(g,i,o);var p=n.getTextGuideLine();p&&this._updateAndAddDisplayable(p,i,o);var y=n.getTextContent();y&&this._updateAndAddDisplayable(y,i,o)}},r.prototype.addRoot=function(n){n.__zr&&n.__zr.storage===this||this._roots.push(n)},r.prototype.delRoot=function(n){if(n instanceof Array){for(var i=0,o=n.length;i<o;i++)this.delRoot(n[i]);return}var a=indexOf(this._roots,n);a>=0&&this._roots.splice(a,1)},r.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},r.prototype.getRoots=function(){return this._roots},r.prototype.dispose=function(){this._displayList=null,this._roots=null},r}();const Storage$1=Storage;var requestAnimationFrame$2;requestAnimationFrame$2=env$1.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(r){return setTimeout(r,16)};const requestAnimationFrame$3=requestAnimationFrame$2;var easingFuncs={linear:function(r){return r},quadraticIn:function(r){return r*r},quadraticOut:function(r){return r*(2-r)},quadraticInOut:function(r){return(r*=2)<1?.5*r*r:-.5*(--r*(r-2)-1)},cubicIn:function(r){return r*r*r},cubicOut:function(r){return--r*r*r+1},cubicInOut:function(r){return(r*=2)<1?.5*r*r*r:.5*((r-=2)*r*r+2)},quarticIn:function(r){return r*r*r*r},quarticOut:function(r){return 1- --r*r*r*r},quarticInOut:function(r){return(r*=2)<1?.5*r*r*r*r:-.5*((r-=2)*r*r*r-2)},quinticIn:function(r){return r*r*r*r*r},quinticOut:function(r){return--r*r*r*r*r+1},quinticInOut:function(r){return(r*=2)<1?.5*r*r*r*r*r:.5*((r-=2)*r*r*r*r+2)},sinusoidalIn:function(r){return 1-Math.cos(r*Math.PI/2)},sinusoidalOut:function(r){return Math.sin(r*Math.PI/2)},sinusoidalInOut:function(r){return .5*(1-Math.cos(Math.PI*r))},exponentialIn:function(r){return r===0?0:Math.pow(1024,r-1)},exponentialOut:function(r){return r===1?1:1-Math.pow(2,-10*r)},exponentialInOut:function(r){return r===0?0:r===1?1:(r*=2)<1?.5*Math.pow(1024,r-1):.5*(-Math.pow(2,-10*(r-1))+2)},circularIn:function(r){return 1-Math.sqrt(1-r*r)},circularOut:function(r){return Math.sqrt(1- --r*r)},circularInOut:function(r){return(r*=2)<1?-.5*(Math.sqrt(1-r*r)-1):.5*(Math.sqrt(1-(r-=2)*r)+1)},elasticIn:function(r){var n,i=.1,o=.4;return r===0?0:r===1?1:(!i||i<1?(i=1,n=o/4):n=o*Math.asin(1/i)/(2*Math.PI),-(i*Math.pow(2,10*(r-=1))*Math.sin((r-n)*(2*Math.PI)/o)))},elasticOut:function(r){var n,i=.1,o=.4;return r===0?0:r===1?1:(!i||i<1?(i=1,n=o/4):n=o*Math.asin(1/i)/(2*Math.PI),i*Math.pow(2,-10*r)*Math.sin((r-n)*(2*Math.PI)/o)+1)},elasticInOut:function(r){var n,i=.1,o=.4;return r===0?0:r===1?1:(!i||i<1?(i=1,n=o/4):n=o*Math.asin(1/i)/(2*Math.PI),(r*=2)<1?-.5*(i*Math.pow(2,10*(r-=1))*Math.sin((r-n)*(2*Math.PI)/o)):i*Math.pow(2,-10*(r-=1))*Math.sin((r-n)*(2*Math.PI)/o)*.5+1)},backIn:function(r){var n=1.70158;return r*r*((n+1)*r-n)},backOut:function(r){var n=1.70158;return--r*r*((n+1)*r+n)+1},backInOut:function(r){var n=2.5949095;return(r*=2)<1?.5*(r*r*((n+1)*r-n)):.5*((r-=2)*r*((n+1)*r+n)+2)},bounceIn:function(r){return 1-easingFuncs.bounceOut(1-r)},bounceOut:function(r){return r<1/2.75?7.5625*r*r:r<2/2.75?7.5625*(r-=1.5/2.75)*r+.75:r<2.5/2.75?7.5625*(r-=2.25/2.75)*r+.9375:7.5625*(r-=2.625/2.75)*r+.984375},bounceInOut:function(r){return r<.5?easingFuncs.bounceIn(r*2)*.5:easingFuncs.bounceOut(r*2-1)*.5+.5}};const easingFuncs$1=easingFuncs;var mathPow=Math.pow,mathSqrt$3=Math.sqrt,EPSILON$3=1e-8,EPSILON_NUMERIC=1e-4,THREE_SQRT=mathSqrt$3(3),ONE_THIRD=1/3,_v0=create$1(),_v1=create$1(),_v2=create$1();function isAroundZero$1(r){return r>-EPSILON$3&&r<EPSILON$3}function isNotAroundZero$1(r){return r>EPSILON$3||r<-EPSILON$3}function cubicAt(r,n,i,o,a){var u=1-a;return u*u*(u*r+3*a*n)+a*a*(a*o+3*u*i)}function cubicDerivativeAt(r,n,i,o,a){var u=1-a;return 3*(((n-r)*u+2*(i-n)*a)*u+(o-i)*a*a)}function cubicRootAt(r,n,i,o,a,u){var c=o+3*(n-i)-r,f=3*(i-n*2+r),d=3*(n-r),h=r-a,v=f*f-3*c*d,g=f*d-9*c*h,p=d*d-3*f*h,y=0;if(isAroundZero$1(v)&&isAroundZero$1(g))if(isAroundZero$1(f))u[0]=0;else{var _=-d/f;_>=0&&_<=1&&(u[y++]=_)}else{var b=g*g-4*v*p;if(isAroundZero$1(b)){var A=g/v,_=-f/c+A,w=-A/2;_>=0&&_<=1&&(u[y++]=_),w>=0&&w<=1&&(u[y++]=w)}else if(b>0){var T=mathSqrt$3(b),S=v*f+1.5*c*(-g+T),x=v*f+1.5*c*(-g-T);S<0?S=-mathPow(-S,ONE_THIRD):S=mathPow(S,ONE_THIRD),x<0?x=-mathPow(-x,ONE_THIRD):x=mathPow(x,ONE_THIRD);var _=(-f-(S+x))/(3*c);_>=0&&_<=1&&(u[y++]=_)}else{var O=(2*v*f-3*c*g)/(2*mathSqrt$3(v*v*v)),L=Math.acos(O)/3,M=mathSqrt$3(v),re=Math.cos(L),_=(-f-2*M*re)/(3*c),w=(-f+M*(re+THREE_SQRT*Math.sin(L)))/(3*c),F=(-f+M*(re-THREE_SQRT*Math.sin(L)))/(3*c);_>=0&&_<=1&&(u[y++]=_),w>=0&&w<=1&&(u[y++]=w),F>=0&&F<=1&&(u[y++]=F)}}return y}function cubicExtrema(r,n,i,o,a){var u=6*i-12*n+6*r,c=9*n+3*o-3*r-9*i,f=3*n-3*r,d=0;if(isAroundZero$1(c)){if(isNotAroundZero$1(u)){var h=-f/u;h>=0&&h<=1&&(a[d++]=h)}}else{var v=u*u-4*c*f;if(isAroundZero$1(v))a[0]=-u/(2*c);else if(v>0){var g=mathSqrt$3(v),h=(-u+g)/(2*c),p=(-u-g)/(2*c);h>=0&&h<=1&&(a[d++]=h),p>=0&&p<=1&&(a[d++]=p)}}return d}function cubicSubdivide(r,n,i,o,a,u){var c=(n-r)*a+r,f=(i-n)*a+n,d=(o-i)*a+i,h=(f-c)*a+c,v=(d-f)*a+f,g=(v-h)*a+h;u[0]=r,u[1]=c,u[2]=h,u[3]=g,u[4]=g,u[5]=v,u[6]=d,u[7]=o}function cubicProjectPoint(r,n,i,o,a,u,c,f,d,h,v){var g,p=.005,y=1/0,_,b,A,w;_v0[0]=d,_v0[1]=h;for(var T=0;T<1;T+=.05)_v1[0]=cubicAt(r,i,a,c,T),_v1[1]=cubicAt(n,o,u,f,T),A=distSquare(_v0,_v1),A<y&&(g=T,y=A);y=1/0;for(var S=0;S<32&&!(p<EPSILON_NUMERIC);S++)_=g-p,b=g+p,_v1[0]=cubicAt(r,i,a,c,_),_v1[1]=cubicAt(n,o,u,f,_),A=distSquare(_v1,_v0),_>=0&&A<y?(g=_,y=A):(_v2[0]=cubicAt(r,i,a,c,b),_v2[1]=cubicAt(n,o,u,f,b),w=distSquare(_v2,_v0),b<=1&&w<y?(g=b,y=w):p*=.5);return v&&(v[0]=cubicAt(r,i,a,c,g),v[1]=cubicAt(n,o,u,f,g)),mathSqrt$3(y)}function cubicLength(r,n,i,o,a,u,c,f,d){for(var h=r,v=n,g=0,p=1/d,y=1;y<=d;y++){var _=y*p,b=cubicAt(r,i,a,c,_),A=cubicAt(n,o,u,f,_),w=b-h,T=A-v;g+=Math.sqrt(w*w+T*T),h=b,v=A}return g}function quadraticAt(r,n,i,o){var a=1-o;return a*(a*r+2*o*n)+o*o*i}function quadraticDerivativeAt(r,n,i,o){return 2*((1-o)*(n-r)+o*(i-n))}function quadraticRootAt(r,n,i,o,a){var u=r-2*n+i,c=2*(n-r),f=r-o,d=0;if(isAroundZero$1(u)){if(isNotAroundZero$1(c)){var h=-f/c;h>=0&&h<=1&&(a[d++]=h)}}else{var v=c*c-4*u*f;if(isAroundZero$1(v)){var h=-c/(2*u);h>=0&&h<=1&&(a[d++]=h)}else if(v>0){var g=mathSqrt$3(v),h=(-c+g)/(2*u),p=(-c-g)/(2*u);h>=0&&h<=1&&(a[d++]=h),p>=0&&p<=1&&(a[d++]=p)}}return d}function quadraticExtremum(r,n,i){var o=r+i-2*n;return o===0?.5:(r-n)/o}function quadraticSubdivide(r,n,i,o,a){var u=(n-r)*o+r,c=(i-n)*o+n,f=(c-u)*o+u;a[0]=r,a[1]=u,a[2]=f,a[3]=f,a[4]=c,a[5]=i}function quadraticProjectPoint(r,n,i,o,a,u,c,f,d){var h,v=.005,g=1/0;_v0[0]=c,_v0[1]=f;for(var p=0;p<1;p+=.05){_v1[0]=quadraticAt(r,i,a,p),_v1[1]=quadraticAt(n,o,u,p);var y=distSquare(_v0,_v1);y<g&&(h=p,g=y)}g=1/0;for(var _=0;_<32&&!(v<EPSILON_NUMERIC);_++){var b=h-v,A=h+v;_v1[0]=quadraticAt(r,i,a,b),_v1[1]=quadraticAt(n,o,u,b);var y=distSquare(_v1,_v0);if(b>=0&&y<g)h=b,g=y;else{_v2[0]=quadraticAt(r,i,a,A),_v2[1]=quadraticAt(n,o,u,A);var w=distSquare(_v2,_v0);A<=1&&w<g?(h=A,g=w):v*=.5}}return d&&(d[0]=quadraticAt(r,i,a,h),d[1]=quadraticAt(n,o,u,h)),mathSqrt$3(g)}function quadraticLength(r,n,i,o,a,u,c){for(var f=r,d=n,h=0,v=1/c,g=1;g<=c;g++){var p=g*v,y=quadraticAt(r,i,a,p),_=quadraticAt(n,o,u,p),b=y-f,A=_-d;h+=Math.sqrt(b*b+A*A),f=y,d=_}return h}var regexp$1=/cubic-bezier\(([0-9,\.e ]+)\)/;function createCubicEasingFunc(r){var n=r&&regexp$1.exec(r);if(n){var i=n[1].split(","),o=+trim(i[0]),a=+trim(i[1]),u=+trim(i[2]),c=+trim(i[3]);if(isNaN(o+a+u+c))return;var f=[];return function(d){return d<=0?0:d>=1?1:cubicRootAt(0,o,u,1,d,f)&&cubicAt(0,a,c,1,f[0])}}}var Clip=function(){function r(n){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=n.life||1e3,this._delay=n.delay||0,this.loop=n.loop||!1,this.onframe=n.onframe||noop$1,this.ondestroy=n.ondestroy||noop$1,this.onrestart=n.onrestart||noop$1,n.easing&&this.setEasing(n.easing)}return r.prototype.step=function(n,i){if(this._inited||(this._startTime=n+this._delay,this._inited=!0),this._paused){this._pausedTime+=i;return}var o=this._life,a=n-this._startTime-this._pausedTime,u=a/o;u<0&&(u=0),u=Math.min(u,1);var c=this.easingFunc,f=c?c(u):u;if(this.onframe(f),u===1)if(this.loop){var d=a%o;this._startTime=n-d,this._pausedTime=0,this.onrestart()}else return!0;return!1},r.prototype.pause=function(){this._paused=!0},r.prototype.resume=function(){this._paused=!1},r.prototype.setEasing=function(n){this.easing=n,this.easingFunc=isFunction$1(n)?n:easingFuncs$1[n]||createCubicEasingFunc(n)},r}();const Clip$1=Clip;var Entry=function(){function r(n){this.value=n}return r}(),LinkedList=function(){function r(){this._len=0}return r.prototype.insert=function(n){var i=new Entry(n);return this.insertEntry(i),i},r.prototype.insertEntry=function(n){this.head?(this.tail.next=n,n.prev=this.tail,n.next=null,this.tail=n):this.head=this.tail=n,this._len++},r.prototype.remove=function(n){var i=n.prev,o=n.next;i?i.next=o:this.head=o,o?o.prev=i:this.tail=i,n.next=n.prev=null,this._len--},r.prototype.len=function(){return this._len},r.prototype.clear=function(){this.head=this.tail=null,this._len=0},r}(),LRU=function(){function r(n){this._list=new LinkedList,this._maxSize=10,this._map={},this._maxSize=n}return r.prototype.put=function(n,i){var o=this._list,a=this._map,u=null;if(a[n]==null){var c=o.len(),f=this._lastRemovedEntry;if(c>=this._maxSize&&c>0){var d=o.head;o.remove(d),delete a[d.key],u=d.value,this._lastRemovedEntry=d}f?f.value=i:f=new Entry(i),f.key=n,o.insertEntry(f),a[n]=f}return u},r.prototype.get=function(n){var i=this._map[n],o=this._list;if(i!=null)return i!==o.tail&&(o.remove(i),o.insertEntry(i)),i.value},r.prototype.clear=function(){this._list.clear(),this._map={}},r.prototype.len=function(){return this._list.len()},r}();const LRU$1=LRU;var kCSSColorTable={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function clampCssByte(r){return r=Math.round(r),r<0?0:r>255?255:r}function clampCssFloat(r){return r<0?0:r>1?1:r}function parseCssInt(r){var n=r;return n.length&&n.charAt(n.length-1)==="%"?clampCssByte(parseFloat(n)/100*255):clampCssByte(parseInt(n,10))}function parseCssFloat(r){var n=r;return n.length&&n.charAt(n.length-1)==="%"?clampCssFloat(parseFloat(n)/100):clampCssFloat(parseFloat(n))}function cssHueToRgb(r,n,i){return i<0?i+=1:i>1&&(i-=1),i*6<1?r+(n-r)*i*6:i*2<1?n:i*3<2?r+(n-r)*(2/3-i)*6:r}function setRgba(r,n,i,o,a){return r[0]=n,r[1]=i,r[2]=o,r[3]=a,r}function copyRgba(r,n){return r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r}var colorCache=new LRU$1(20),lastRemovedArr=null;function putToCache(r,n){lastRemovedArr&&copyRgba(lastRemovedArr,n),lastRemovedArr=colorCache.put(r,lastRemovedArr||n.slice())}function parse(r,n){if(r){n=n||[];var i=colorCache.get(r);if(i)return copyRgba(n,i);r=r+"";var o=r.replace(/ /g,"").toLowerCase();if(o in kCSSColorTable)return copyRgba(n,kCSSColorTable[o]),putToCache(r,n),n;var a=o.length;if(o.charAt(0)==="#"){if(a===4||a===5){var u=parseInt(o.slice(1,4),16);if(!(u>=0&&u<=4095)){setRgba(n,0,0,0,1);return}return setRgba(n,(u&3840)>>4|(u&3840)>>8,u&240|(u&240)>>4,u&15|(u&15)<<4,a===5?parseInt(o.slice(4),16)/15:1),putToCache(r,n),n}else if(a===7||a===9){var u=parseInt(o.slice(1,7),16);if(!(u>=0&&u<=16777215)){setRgba(n,0,0,0,1);return}return setRgba(n,(u&16711680)>>16,(u&65280)>>8,u&255,a===9?parseInt(o.slice(7),16)/255:1),putToCache(r,n),n}return}var c=o.indexOf("("),f=o.indexOf(")");if(c!==-1&&f+1===a){var d=o.substr(0,c),h=o.substr(c+1,f-(c+1)).split(","),v=1;switch(d){case"rgba":if(h.length!==4)return h.length===3?setRgba(n,+h[0],+h[1],+h[2],1):setRgba(n,0,0,0,1);v=parseCssFloat(h.pop());case"rgb":if(h.length>=3)return setRgba(n,parseCssInt(h[0]),parseCssInt(h[1]),parseCssInt(h[2]),h.length===3?v:parseCssFloat(h[3])),putToCache(r,n),n;setRgba(n,0,0,0,1);return;case"hsla":if(h.length!==4){setRgba(n,0,0,0,1);return}return h[3]=parseCssFloat(h[3]),hsla2rgba(h,n),putToCache(r,n),n;case"hsl":if(h.length!==3){setRgba(n,0,0,0,1);return}return hsla2rgba(h,n),putToCache(r,n),n;default:return}}setRgba(n,0,0,0,1)}}function hsla2rgba(r,n){var i=(parseFloat(r[0])%360+360)%360/360,o=parseCssFloat(r[1]),a=parseCssFloat(r[2]),u=a<=.5?a*(o+1):a+o-a*o,c=a*2-u;return n=n||[],setRgba(n,clampCssByte(cssHueToRgb(c,u,i+1/3)*255),clampCssByte(cssHueToRgb(c,u,i)*255),clampCssByte(cssHueToRgb(c,u,i-1/3)*255),1),r.length===4&&(n[3]=r[3]),n}function lift(r,n){var i=parse(r);if(i){for(var o=0;o<3;o++)n<0?i[o]=i[o]*(1-n)|0:i[o]=(255-i[o])*n+i[o]|0,i[o]>255?i[o]=255:i[o]<0&&(i[o]=0);return stringify(i,i.length===4?"rgba":"rgb")}}function stringify(r,n){if(!(!r||!r.length)){var i=r[0]+","+r[1]+","+r[2];return(n==="rgba"||n==="hsva"||n==="hsla")&&(i+=","+r[3]),n+"("+i+")"}}function lum(r,n){var i=parse(r);return i?(.299*i[0]+.587*i[1]+.114*i[2])*i[3]/255+(1-i[3])*n:0}var mathRound$1=Math.round;function normalizeColor(r){var n;if(!r||r==="transparent")r="none";else if(typeof r=="string"&&r.indexOf("rgba")>-1){var i=parse(r);i&&(r="rgb("+i[0]+","+i[1]+","+i[2]+")",n=i[3])}return{color:r,opacity:n??1}}var EPSILON$2=1e-4;function isAroundZero(r){return r<EPSILON$2&&r>-EPSILON$2}function round3(r){return mathRound$1(r*1e3)/1e3}function round4(r){return mathRound$1(r*1e4)/1e4}function getMatrixStr(r){return"matrix("+round3(r[0])+","+round3(r[1])+","+round3(r[2])+","+round3(r[3])+","+round4(r[4])+","+round4(r[5])+")"}var TEXT_ALIGN_TO_ANCHOR={left:"start",right:"end",center:"middle",middle:"middle"};function adjustTextY$1(r,n,i){return i==="top"?r+=n/2:i==="bottom"&&(r-=n/2),r}function hasShadow(r){return r&&(r.shadowBlur||r.shadowOffsetX||r.shadowOffsetY)}function getShadowKey(r){var n=r.style,i=r.getGlobalScale();return[n.shadowColor,(n.shadowBlur||0).toFixed(2),(n.shadowOffsetX||0).toFixed(2),(n.shadowOffsetY||0).toFixed(2),i[0],i[1]].join(",")}function isImagePattern(r){return r&&!!r.image}function isSVGPattern(r){return r&&!!r.svgElement}function isPattern(r){return isImagePattern(r)||isSVGPattern(r)}function isLinearGradient(r){return r.type==="linear"}function isRadialGradient(r){return r.type==="radial"}function isGradient(r){return r&&(r.type==="linear"||r.type==="radial")}function getIdURL(r){return"url(#"+r+")"}function getPathPrecision(r){var n=r.getGlobalScale(),i=Math.max(n[0],n[1]);return Math.max(Math.ceil(Math.log(i)/Math.log(10)),1)}function getSRTTransformString(r){var n=r.x||0,i=r.y||0,o=(r.rotation||0)*RADIAN_TO_DEGREE,a=retrieve2(r.scaleX,1),u=retrieve2(r.scaleY,1),c=r.skewX||0,f=r.skewY||0,d=[];return(n||i)&&d.push("translate("+n+"px,"+i+"px)"),o&&d.push("rotate("+o+")"),(a!==1||u!==1)&&d.push("scale("+a+","+u+")"),(c||f)&&d.push("skew("+mathRound$1(c*RADIAN_TO_DEGREE)+"deg, "+mathRound$1(f*RADIAN_TO_DEGREE)+"deg)"),d.join(" ")}var encodeBase64=function(){return env$1.hasGlobalWindow&&isFunction$1(window.btoa)?function(r){return window.btoa(unescape(encodeURIComponent(r)))}:typeof Buffer<"u"?function(r){return Buffer.from(r).toString("base64")}:function(r){return process.env.NODE_ENV!=="production"&&logError("Base64 isn't natively supported in the current environment."),null}}(),arraySlice=Array.prototype.slice;function interpolateNumber(r,n,i){return(n-r)*i+r}function interpolate1DArray(r,n,i,o){for(var a=n.length,u=0;u<a;u++)r[u]=interpolateNumber(n[u],i[u],o);return r}function interpolate2DArray(r,n,i,o){for(var a=n.length,u=a&&n[0].length,c=0;c<a;c++){r[c]||(r[c]=[]);for(var f=0;f<u;f++)r[c][f]=interpolateNumber(n[c][f],i[c][f],o)}return r}function add1DArray(r,n,i,o){for(var a=n.length,u=0;u<a;u++)r[u]=n[u]+i[u]*o;return r}function add2DArray(r,n,i,o){for(var a=n.length,u=a&&n[0].length,c=0;c<a;c++){r[c]||(r[c]=[]);for(var f=0;f<u;f++)r[c][f]=n[c][f]+i[c][f]*o}return r}function fillColorStops(r,n){for(var i=r.length,o=n.length,a=i>o?n:r,u=Math.min(i,o),c=a[u-1]||{color:[0,0,0,0],offset:0},f=u;f<Math.max(i,o);f++)a.push({offset:c.offset,color:c.color.slice()})}function fillArray(r,n,i){var o=r,a=n;if(!(!o.push||!a.push)){var u=o.length,c=a.length;if(u!==c){var f=u>c;if(f)o.length=c;else for(var d=u;d<c;d++)o.push(i===1?a[d]:arraySlice.call(a[d]))}for(var h=o[0]&&o[0].length,d=0;d<o.length;d++)if(i===1)isNaN(o[d])&&(o[d]=a[d]);else for(var v=0;v<h;v++)isNaN(o[d][v])&&(o[d][v]=a[d][v])}}function cloneValue(r){if(isArrayLike(r)){var n=r.length;if(isArrayLike(r[0])){for(var i=[],o=0;o<n;o++)i.push(arraySlice.call(r[o]));return i}return arraySlice.call(r)}return r}function rgba2String(r){return r[0]=Math.floor(r[0])||0,r[1]=Math.floor(r[1])||0,r[2]=Math.floor(r[2])||0,r[3]=r[3]==null?1:r[3],"rgba("+r.join(",")+")"}function guessArrayDim(r){return isArrayLike(r&&r[0])?2:1}var VALUE_TYPE_NUMBER=0,VALUE_TYPE_1D_ARRAY=1,VALUE_TYPE_2D_ARRAY=2,VALUE_TYPE_COLOR=3,VALUE_TYPE_LINEAR_GRADIENT=4,VALUE_TYPE_RADIAL_GRADIENT=5,VALUE_TYPE_UNKOWN=6;function isGradientValueType(r){return r===VALUE_TYPE_LINEAR_GRADIENT||r===VALUE_TYPE_RADIAL_GRADIENT}function isArrayValueType(r){return r===VALUE_TYPE_1D_ARRAY||r===VALUE_TYPE_2D_ARRAY}var tmpRgba=[0,0,0,0],Track=function(){function r(n){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=n}return r.prototype.isFinished=function(){return this._finished},r.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},r.prototype.needsAnimate=function(){return this.keyframes.length>=1},r.prototype.getAdditiveTrack=function(){return this._additiveTrack},r.prototype.addKeyframe=function(n,i,o){this._needsSort=!0;var a=this.keyframes,u=a.length,c=!1,f=VALUE_TYPE_UNKOWN,d=i;if(isArrayLike(i)){var h=guessArrayDim(i);f=h,(h===1&&!isNumber$1(i[0])||h===2&&!isNumber$1(i[0][0]))&&(c=!0)}else if(isNumber$1(i)&&!eqNaN(i))f=VALUE_TYPE_NUMBER;else if(isString$2(i))if(!isNaN(+i))f=VALUE_TYPE_NUMBER;else{var v=parse(i);v&&(d=v,f=VALUE_TYPE_COLOR)}else if(isGradientObject(i)){var g=extend({},d);g.colorStops=map$1(i.colorStops,function(y){return{offset:y.offset,color:parse(y.color)}}),isLinearGradient(i)?f=VALUE_TYPE_LINEAR_GRADIENT:isRadialGradient(i)&&(f=VALUE_TYPE_RADIAL_GRADIENT),d=g}u===0?this.valType=f:(f!==this.valType||f===VALUE_TYPE_UNKOWN)&&(c=!0),this.discrete=this.discrete||c;var p={time:n,value:d,rawValue:i,percent:0};return o&&(p.easing=o,p.easingFunc=isFunction$1(o)?o:easingFuncs$1[o]||createCubicEasingFunc(o)),a.push(p),p},r.prototype.prepare=function(n,i){var o=this.keyframes;this._needsSort&&o.sort(function(b,A){return b.time-A.time});for(var a=this.valType,u=o.length,c=o[u-1],f=this.discrete,d=isArrayValueType(a),h=isGradientValueType(a),v=0;v<u;v++){var g=o[v],p=g.value,y=c.value;g.percent=g.time/n,f||(d&&v!==u-1?fillArray(p,y,a):h&&fillColorStops(p.colorStops,y.colorStops))}if(!f&&a!==VALUE_TYPE_RADIAL_GRADIENT&&i&&this.needsAnimate()&&i.needsAnimate()&&a===i.valType&&!i._finished){this._additiveTrack=i;for(var _=o[0].value,v=0;v<u;v++)a===VALUE_TYPE_NUMBER?o[v].additiveValue=o[v].value-_:a===VALUE_TYPE_COLOR?o[v].additiveValue=add1DArray([],o[v].value,_,-1):isArrayValueType(a)&&(o[v].additiveValue=a===VALUE_TYPE_1D_ARRAY?add1DArray([],o[v].value,_,-1):add2DArray([],o[v].value,_,-1))}},r.prototype.step=function(n,i){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var o=this._additiveTrack!=null,a=o?"additiveValue":"value",u=this.valType,c=this.keyframes,f=c.length,d=this.propName,h=u===VALUE_TYPE_COLOR,v,g=this._lastFr,p=Math.min,y,_;if(f===1)y=_=c[0];else{if(i<0)v=0;else if(i<this._lastFrP){var b=p(g+1,f-1);for(v=b;v>=0&&!(c[v].percent<=i);v--);v=p(v,f-2)}else{for(v=g;v<f&&!(c[v].percent>i);v++);v=p(v-1,f-2)}_=c[v+1],y=c[v]}if(y&&_){this._lastFr=v,this._lastFrP=i;var A=_.percent-y.percent,w=A===0?1:p((i-y.percent)/A,1);_.easingFunc&&(w=_.easingFunc(w));var T=o?this._additiveValue:h?tmpRgba:n[d];if((isArrayValueType(u)||h)&&!T&&(T=this._additiveValue=[]),this.discrete)n[d]=w<1?y.rawValue:_.rawValue;else if(isArrayValueType(u))u===VALUE_TYPE_1D_ARRAY?interpolate1DArray(T,y[a],_[a],w):interpolate2DArray(T,y[a],_[a],w);else if(isGradientValueType(u)){var S=y[a],x=_[a],O=u===VALUE_TYPE_LINEAR_GRADIENT;n[d]={type:O?"linear":"radial",x:interpolateNumber(S.x,x.x,w),y:interpolateNumber(S.y,x.y,w),colorStops:map$1(S.colorStops,function(M,re){var F=x.colorStops[re];return{offset:interpolateNumber(M.offset,F.offset,w),color:rgba2String(interpolate1DArray([],M.color,F.color,w))}}),global:x.global},O?(n[d].x2=interpolateNumber(S.x2,x.x2,w),n[d].y2=interpolateNumber(S.y2,x.y2,w)):n[d].r=interpolateNumber(S.r,x.r,w)}else if(h)interpolate1DArray(T,y[a],_[a],w),o||(n[d]=rgba2String(T));else{var L=interpolateNumber(y[a],_[a],w);o?this._additiveValue=L:n[d]=L}o&&this._addToTarget(n)}}},r.prototype._addToTarget=function(n){var i=this.valType,o=this.propName,a=this._additiveValue;i===VALUE_TYPE_NUMBER?n[o]=n[o]+a:i===VALUE_TYPE_COLOR?(parse(n[o],tmpRgba),add1DArray(tmpRgba,tmpRgba,a,1),n[o]=rgba2String(tmpRgba)):i===VALUE_TYPE_1D_ARRAY?add1DArray(n[o],n[o],a,1):i===VALUE_TYPE_2D_ARRAY&&add2DArray(n[o],n[o],a,1)},r}(),Animator=function(){function r(n,i,o,a){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=n,this._loop=i,i&&a){logError("Can' use additive animation on looped animation.");return}this._additiveAnimators=a,this._allowDiscrete=o}return r.prototype.getMaxTime=function(){return this._maxTime},r.prototype.getDelay=function(){return this._delay},r.prototype.getLoop=function(){return this._loop},r.prototype.getTarget=function(){return this._target},r.prototype.changeTarget=function(n){this._target=n},r.prototype.when=function(n,i,o){return this.whenWithKeys(n,i,keys(i),o)},r.prototype.whenWithKeys=function(n,i,o,a){for(var u=this._tracks,c=0;c<o.length;c++){var f=o[c],d=u[f];if(!d){d=u[f]=new Track(f);var h=void 0,v=this._getAdditiveTrack(f);if(v){var g=v.keyframes,p=g[g.length-1];h=p&&p.value,v.valType===VALUE_TYPE_COLOR&&h&&(h=rgba2String(h))}else h=this._target[f];if(h==null)continue;n>0&&d.addKeyframe(0,cloneValue(h),a),this._trackKeys.push(f)}d.addKeyframe(n,cloneValue(i[f]),a)}return this._maxTime=Math.max(this._maxTime,n),this},r.prototype.pause=function(){this._clip.pause(),this._paused=!0},r.prototype.resume=function(){this._clip.resume(),this._paused=!1},r.prototype.isPaused=function(){return!!this._paused},r.prototype.duration=function(n){return this._maxTime=n,this._force=!0,this},r.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var n=this._doneCbs;if(n)for(var i=n.length,o=0;o<i;o++)n[o].call(this)},r.prototype._abortedCallback=function(){this._setTracksFinished();var n=this.animation,i=this._abortedCbs;if(n&&n.removeClip(this._clip),this._clip=null,i)for(var o=0;o<i.length;o++)i[o].call(this)},r.prototype._setTracksFinished=function(){for(var n=this._tracks,i=this._trackKeys,o=0;o<i.length;o++)n[i[o]].setFinished()},r.prototype._getAdditiveTrack=function(n){var i,o=this._additiveAnimators;if(o)for(var a=0;a<o.length;a++){var u=o[a].getTrack(n);u&&(i=u)}return i},r.prototype.start=function(n){if(!(this._started>0)){this._started=1;for(var i=this,o=[],a=this._maxTime||0,u=0;u<this._trackKeys.length;u++){var c=this._trackKeys[u],f=this._tracks[c],d=this._getAdditiveTrack(c),h=f.keyframes,v=h.length;if(f.prepare(a,d),f.needsAnimate())if(!this._allowDiscrete&&f.discrete){var g=h[v-1];g&&(i._target[f.propName]=g.rawValue),f.setFinished()}else o.push(f)}if(o.length||this._force){var p=new Clip$1({life:a,loop:this._loop,delay:this._delay||0,onframe:function(y){i._started=2;var _=i._additiveAnimators;if(_){for(var b=!1,A=0;A<_.length;A++)if(_[A]._clip){b=!0;break}b||(i._additiveAnimators=null)}for(var A=0;A<o.length;A++)o[A].step(i._target,y);var w=i._onframeCbs;if(w)for(var A=0;A<w.length;A++)w[A](i._target,y)},ondestroy:function(){i._doneCallback()}});this._clip=p,this.animation&&this.animation.addClip(p),n&&p.setEasing(n)}else this._doneCallback();return this}},r.prototype.stop=function(n){if(this._clip){var i=this._clip;n&&i.onframe(1),this._abortedCallback()}},r.prototype.delay=function(n){return this._delay=n,this},r.prototype.during=function(n){return n&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(n)),this},r.prototype.done=function(n){return n&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(n)),this},r.prototype.aborted=function(n){return n&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(n)),this},r.prototype.getClip=function(){return this._clip},r.prototype.getTrack=function(n){return this._tracks[n]},r.prototype.getTracks=function(){var n=this;return map$1(this._trackKeys,function(i){return n._tracks[i]})},r.prototype.stopTracks=function(n,i){if(!n.length||!this._clip)return!0;for(var o=this._tracks,a=this._trackKeys,u=0;u<n.length;u++){var c=o[n[u]];c&&!c.isFinished()&&(i?c.step(this._target,1):this._started===1&&c.step(this._target,0),c.setFinished())}for(var f=!0,u=0;u<a.length;u++)if(!o[a[u]].isFinished()){f=!1;break}return f&&this._abortedCallback(),f},r.prototype.saveTo=function(n,i,o){if(n){i=i||this._trackKeys;for(var a=0;a<i.length;a++){var u=i[a],c=this._tracks[u];if(!(!c||c.isFinished())){var f=c.keyframes,d=f[o?0:f.length-1];d&&(n[u]=cloneValue(d.rawValue))}}}},r.prototype.__changeFinalValue=function(n,i){i=i||keys(n);for(var o=0;o<i.length;o++){var a=i[o],u=this._tracks[a];if(u){var c=u.keyframes;if(c.length>1){var f=c.pop();u.addKeyframe(f.time,n[a]),u.prepare(this._maxTime,u.getAdditiveTrack())}}}},r}();const Animator$1=Animator;function getTime(){return new Date().getTime()}var Animation=function(r){__extends(n,r);function n(i){var o=r.call(this)||this;return o._running=!1,o._time=0,o._pausedTime=0,o._pauseStart=0,o._paused=!1,i=i||{},o.stage=i.stage||{},o}return n.prototype.addClip=function(i){i.animation&&this.removeClip(i),this._head?(this._tail.next=i,i.prev=this._tail,i.next=null,this._tail=i):this._head=this._tail=i,i.animation=this},n.prototype.addAnimator=function(i){i.animation=this;var o=i.getClip();o&&this.addClip(o)},n.prototype.removeClip=function(i){if(i.animation){var o=i.prev,a=i.next;o?o.next=a:this._head=a,a?a.prev=o:this._tail=o,i.next=i.prev=i.animation=null}},n.prototype.removeAnimator=function(i){var o=i.getClip();o&&this.removeClip(o),i.animation=null},n.prototype.update=function(i){for(var o=getTime()-this._pausedTime,a=o-this._time,u=this._head;u;){var c=u.next,f=u.step(o,a);f&&(u.ondestroy(),this.removeClip(u)),u=c}this._time=o,i||(this.trigger("frame",a),this.stage.update&&this.stage.update())},n.prototype._startLoop=function(){var i=this;this._running=!0;function o(){i._running&&(requestAnimationFrame$3(o),!i._paused&&i.update())}requestAnimationFrame$3(o)},n.prototype.start=function(){this._running||(this._time=getTime(),this._pausedTime=0,this._startLoop())},n.prototype.stop=function(){this._running=!1},n.prototype.pause=function(){this._paused||(this._pauseStart=getTime(),this._paused=!0)},n.prototype.resume=function(){this._paused&&(this._pausedTime+=getTime()-this._pauseStart,this._paused=!1)},n.prototype.clear=function(){for(var i=this._head;i;){var o=i.next;i.prev=i.next=i.animation=null,i=o}this._head=this._tail=null},n.prototype.isFinished=function(){return this._head==null},n.prototype.animate=function(i,o){o=o||{},this.start();var a=new Animator$1(i,o.loop);return this.addAnimator(a),a},n}(Eventful$1);const Animation$1=Animation;var TOUCH_CLICK_DELAY=300,globalEventSupported=env$1.domSupported,localNativeListenerNames=function(){var r=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],n=["touchstart","touchend","touchmove"],i={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},o=map$1(r,function(a){var u=a.replace("mouse","pointer");return i.hasOwnProperty(u)?u:a});return{mouse:r,touch:n,pointer:o}}(),globalNativeListenerNames={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},wheelEventSupported=!1;function isPointerFromTouch(r){var n=r.pointerType;return n==="pen"||n==="touch"}function setTouchTimer(r){r.touching=!0,r.touchTimer!=null&&(clearTimeout(r.touchTimer),r.touchTimer=null),r.touchTimer=setTimeout(function(){r.touching=!1,r.touchTimer=null},700)}function markTouch(r){r&&(r.zrByTouch=!0)}function normalizeGlobalEvent(r,n){return normalizeEvent(r.dom,new FakeGlobalEvent(r,n),!0)}function isLocalEl(r,n){for(var i=n,o=!1;i&&i.nodeType!==9&&!(o=i.domBelongToZr||i!==n&&i===r.painterRoot);)i=i.parentNode;return o}var FakeGlobalEvent=function(){function r(n,i){this.stopPropagation=noop$1,this.stopImmediatePropagation=noop$1,this.preventDefault=noop$1,this.type=i.type,this.target=this.currentTarget=n.dom,this.pointerType=i.pointerType,this.clientX=i.clientX,this.clientY=i.clientY}return r}(),localDOMHandlers={mousedown:function(r){r=normalizeEvent(this.dom,r),this.__mayPointerCapture=[r.zrX,r.zrY],this.trigger("mousedown",r)},mousemove:function(r){r=normalizeEvent(this.dom,r);var n=this.__mayPointerCapture;n&&(r.zrX!==n[0]||r.zrY!==n[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",r)},mouseup:function(r){r=normalizeEvent(this.dom,r),this.__togglePointerCapture(!1),this.trigger("mouseup",r)},mouseout:function(r){r=normalizeEvent(this.dom,r);var n=r.toElement||r.relatedTarget;isLocalEl(this,n)||(this.__pointerCapturing&&(r.zrEventControl="no_globalout"),this.trigger("mouseout",r))},wheel:function(r){wheelEventSupported=!0,r=normalizeEvent(this.dom,r),this.trigger("mousewheel",r)},mousewheel:function(r){wheelEventSupported||(r=normalizeEvent(this.dom,r),this.trigger("mousewheel",r))},touchstart:function(r){r=normalizeEvent(this.dom,r),markTouch(r),this.__lastTouchMoment=new Date,this.handler.processGesture(r,"start"),localDOMHandlers.mousemove.call(this,r),localDOMHandlers.mousedown.call(this,r)},touchmove:function(r){r=normalizeEvent(this.dom,r),markTouch(r),this.handler.processGesture(r,"change"),localDOMHandlers.mousemove.call(this,r)},touchend:function(r){r=normalizeEvent(this.dom,r),markTouch(r),this.handler.processGesture(r,"end"),localDOMHandlers.mouseup.call(this,r),+new Date-+this.__lastTouchMoment<TOUCH_CLICK_DELAY&&localDOMHandlers.click.call(this,r)},pointerdown:function(r){localDOMHandlers.mousedown.call(this,r)},pointermove:function(r){isPointerFromTouch(r)||localDOMHandlers.mousemove.call(this,r)},pointerup:function(r){localDOMHandlers.mouseup.call(this,r)},pointerout:function(r){isPointerFromTouch(r)||localDOMHandlers.mouseout.call(this,r)}};each$4(["click","dblclick","contextmenu"],function(r){localDOMHandlers[r]=function(n){n=normalizeEvent(this.dom,n),this.trigger(r,n)}});var globalDOMHandlers={pointermove:function(r){isPointerFromTouch(r)||globalDOMHandlers.mousemove.call(this,r)},pointerup:function(r){globalDOMHandlers.mouseup.call(this,r)},mousemove:function(r){this.trigger("mousemove",r)},mouseup:function(r){var n=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",r),n&&(r.zrEventControl="only_globalout",this.trigger("mouseout",r))}};function mountLocalDOMEventListeners(r,n){var i=n.domHandlers;env$1.pointerEventsSupported?each$4(localNativeListenerNames.pointer,function(o){mountSingleDOMEventListener(n,o,function(a){i[o].call(r,a)})}):(env$1.touchEventsSupported&&each$4(localNativeListenerNames.touch,function(o){mountSingleDOMEventListener(n,o,function(a){i[o].call(r,a),setTouchTimer(n)})}),each$4(localNativeListenerNames.mouse,function(o){mountSingleDOMEventListener(n,o,function(a){a=getNativeEvent(a),n.touching||i[o].call(r,a)})}))}function mountGlobalDOMEventListeners(r,n){env$1.pointerEventsSupported?each$4(globalNativeListenerNames.pointer,i):env$1.touchEventsSupported||each$4(globalNativeListenerNames.mouse,i);function i(o){function a(u){u=getNativeEvent(u),isLocalEl(r,u.target)||(u=normalizeGlobalEvent(r,u),n.domHandlers[o].call(r,u))}mountSingleDOMEventListener(n,o,a,{capture:!0})}}function mountSingleDOMEventListener(r,n,i,o){r.mounted[n]=i,r.listenerOpts[n]=o,addEventListener(r.domTarget,n,i,o)}function unmountDOMEventListeners(r){var n=r.mounted;for(var i in n)n.hasOwnProperty(i)&&removeEventListener(r.domTarget,i,n[i],r.listenerOpts[i]);r.mounted={}}var DOMHandlerScope=function(){function r(n,i){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=n,this.domHandlers=i}return r}(),HandlerDomProxy=function(r){__extends(n,r);function n(i,o){var a=r.call(this)||this;return a.__pointerCapturing=!1,a.dom=i,a.painterRoot=o,a._localHandlerScope=new DOMHandlerScope(i,localDOMHandlers),globalEventSupported&&(a._globalHandlerScope=new DOMHandlerScope(document,globalDOMHandlers)),mountLocalDOMEventListeners(a,a._localHandlerScope),a}return n.prototype.dispose=function(){unmountDOMEventListeners(this._localHandlerScope),globalEventSupported&&unmountDOMEventListeners(this._globalHandlerScope)},n.prototype.setCursor=function(i){this.dom.style&&(this.dom.style.cursor=i||"default")},n.prototype.__togglePointerCapture=function(i){if(this.__mayPointerCapture=null,globalEventSupported&&+this.__pointerCapturing^+i){this.__pointerCapturing=i;var o=this._globalHandlerScope;i?mountGlobalDOMEventListeners(this,o):unmountDOMEventListeners(o)}},n}(Eventful$1);const HandlerProxy=HandlerDomProxy;var dpr=1;env$1.hasGlobalWindow&&(dpr=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var devicePixelRatio=dpr,DARK_MODE_THRESHOLD=.4,DARK_LABEL_COLOR="#333",LIGHT_LABEL_COLOR="#ccc",LIGHTER_LABEL_COLOR="#eee",mIdentity=identity$1,EPSILON$1=5e-5;function isNotAroundZero(r){return r>EPSILON$1||r<-EPSILON$1}var scaleTmp=[],tmpTransform=[],originTransform=create(),abs=Math.abs,Transformable=function(){function r(){}return r.prototype.getLocalTransform=function(n){return r.getLocalTransform(this,n)},r.prototype.setPosition=function(n){this.x=n[0],this.y=n[1]},r.prototype.setScale=function(n){this.scaleX=n[0],this.scaleY=n[1]},r.prototype.setSkew=function(n){this.skewX=n[0],this.skewY=n[1]},r.prototype.setOrigin=function(n){this.originX=n[0],this.originY=n[1]},r.prototype.needLocalTransform=function(){return isNotAroundZero(this.rotation)||isNotAroundZero(this.x)||isNotAroundZero(this.y)||isNotAroundZero(this.scaleX-1)||isNotAroundZero(this.scaleY-1)||isNotAroundZero(this.skewX)||isNotAroundZero(this.skewY)},r.prototype.updateTransform=function(){var n=this.parent&&this.parent.transform,i=this.needLocalTransform(),o=this.transform;if(!(i||n)){o&&mIdentity(o);return}o=o||create(),i?this.getLocalTransform(o):mIdentity(o),n&&(i?mul(o,n,o):copy(o,n)),this.transform=o,this._resolveGlobalScaleRatio(o)},r.prototype._resolveGlobalScaleRatio=function(n){var i=this.globalScaleRatio;if(i!=null&&i!==1){this.getGlobalScale(scaleTmp);var o=scaleTmp[0]<0?-1:1,a=scaleTmp[1]<0?-1:1,u=((scaleTmp[0]-o)*i+o)/scaleTmp[0]||0,c=((scaleTmp[1]-a)*i+a)/scaleTmp[1]||0;n[0]*=u,n[1]*=u,n[2]*=c,n[3]*=c}this.invTransform=this.invTransform||create(),invert(this.invTransform,n)},r.prototype.getComputedTransform=function(){for(var n=this,i=[];n;)i.push(n),n=n.parent;for(;n=i.pop();)n.updateTransform();return this.transform},r.prototype.setLocalTransform=function(n){if(n){var i=n[0]*n[0]+n[1]*n[1],o=n[2]*n[2]+n[3]*n[3],a=Math.atan2(n[1],n[0]),u=Math.PI/2+a-Math.atan2(n[3],n[2]);o=Math.sqrt(o)*Math.cos(u),i=Math.sqrt(i),this.skewX=u,this.skewY=0,this.rotation=-a,this.x=+n[4],this.y=+n[5],this.scaleX=i,this.scaleY=o,this.originX=0,this.originY=0}},r.prototype.decomposeTransform=function(){if(this.transform){var n=this.parent,i=this.transform;n&&n.transform&&(mul(tmpTransform,n.invTransform,i),i=tmpTransform);var o=this.originX,a=this.originY;(o||a)&&(originTransform[4]=o,originTransform[5]=a,mul(tmpTransform,i,originTransform),tmpTransform[4]-=o,tmpTransform[5]-=a,i=tmpTransform),this.setLocalTransform(i)}},r.prototype.getGlobalScale=function(n){var i=this.transform;return n=n||[],i?(n[0]=Math.sqrt(i[0]*i[0]+i[1]*i[1]),n[1]=Math.sqrt(i[2]*i[2]+i[3]*i[3]),i[0]<0&&(n[0]=-n[0]),i[3]<0&&(n[1]=-n[1]),n):(n[0]=1,n[1]=1,n)},r.prototype.transformCoordToLocal=function(n,i){var o=[n,i],a=this.invTransform;return a&&applyTransform$1(o,o,a),o},r.prototype.transformCoordToGlobal=function(n,i){var o=[n,i],a=this.transform;return a&&applyTransform$1(o,o,a),o},r.prototype.getLineScale=function(){var n=this.transform;return n&&abs(n[0]-1)>1e-10&&abs(n[3]-1)>1e-10?Math.sqrt(abs(n[0]*n[3]-n[2]*n[1])):1},r.prototype.copyTransform=function(n){copyTransform(this,n)},r.getLocalTransform=function(n,i){i=i||[];var o=n.originX||0,a=n.originY||0,u=n.scaleX,c=n.scaleY,f=n.anchorX,d=n.anchorY,h=n.rotation||0,v=n.x,g=n.y,p=n.skewX?Math.tan(n.skewX):0,y=n.skewY?Math.tan(-n.skewY):0;if(o||a||f||d){var _=o+f,b=a+d;i[4]=-_*u-p*b*c,i[5]=-b*c-y*_*u}else i[4]=i[5]=0;return i[0]=u,i[3]=c,i[1]=y*u,i[2]=p*c,h&&rotate(i,i,h),i[4]+=o+v,i[5]+=a+g,i},r.initDefaultProps=function(){var n=r.prototype;n.scaleX=n.scaleY=n.globalScaleRatio=1,n.x=n.y=n.originX=n.originY=n.skewX=n.skewY=n.rotation=n.anchorX=n.anchorY=0}(),r}(),TRANSFORMABLE_PROPS=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function copyTransform(r,n){for(var i=0;i<TRANSFORMABLE_PROPS.length;i++){var o=TRANSFORMABLE_PROPS[i];r[o]=n[o]}}const Transformable$1=Transformable;var textWidthCache={};function getWidth(r,n){n=n||DEFAULT_FONT;var i=textWidthCache[n];i||(i=textWidthCache[n]=new LRU$1(500));var o=i.get(r);return o==null&&(o=platformApi.measureText(r,n).width,i.put(r,o)),o}function innerGetBoundingRect(r,n,i,o){var a=getWidth(r,n),u=getLineHeight(n),c=adjustTextX(0,a,i),f=adjustTextY(0,u,o),d=new BoundingRect$1(c,f,a,u);return d}function getBoundingRect(r,n,i,o){var a=((r||"")+"").split(`
`),u=a.length;if(u===1)return innerGetBoundingRect(a[0],n,i,o);for(var c=new BoundingRect$1(0,0,0,0),f=0;f<a.length;f++){var d=innerGetBoundingRect(a[f],n,i,o);f===0?c.copy(d):c.union(d)}return c}function adjustTextX(r,n,i){return i==="right"?r-=n:i==="center"&&(r-=n/2),r}function adjustTextY(r,n,i){return i==="middle"?r-=n/2:i==="bottom"&&(r-=n),r}function getLineHeight(r){return getWidth("国",r)}function parsePercent$1(r,n){return typeof r=="string"?r.lastIndexOf("%")>=0?parseFloat(r)/100*n:parseFloat(r):r}function calculateTextPosition(r,n,i){var o=n.position||"inside",a=n.distance!=null?n.distance:5,u=i.height,c=i.width,f=u/2,d=i.x,h=i.y,v="left",g="top";if(o instanceof Array)d+=parsePercent$1(o[0],i.width),h+=parsePercent$1(o[1],i.height),v=null,g=null;else switch(o){case"left":d-=a,h+=f,v="right",g="middle";break;case"right":d+=a+c,h+=f,g="middle";break;case"top":d+=c/2,h-=a,v="center",g="bottom";break;case"bottom":d+=c/2,h+=u+a,v="center";break;case"inside":d+=c/2,h+=f,v="center",g="middle";break;case"insideLeft":d+=a,h+=f,g="middle";break;case"insideRight":d+=c-a,h+=f,v="right",g="middle";break;case"insideTop":d+=c/2,h+=a,v="center";break;case"insideBottom":d+=c/2,h+=u-a,v="center",g="bottom";break;case"insideTopLeft":d+=a,h+=a;break;case"insideTopRight":d+=c-a,h+=a,v="right";break;case"insideBottomLeft":d+=a,h+=u-a,g="bottom";break;case"insideBottomRight":d+=c-a,h+=u-a,v="right",g="bottom";break}return r=r||{},r.x=d,r.y=h,r.align=v,r.verticalAlign=g,r}var PRESERVED_NORMAL_STATE="__zr_normal__",PRIMARY_STATES_KEYS$1=TRANSFORMABLE_PROPS.concat(["ignore"]),DEFAULT_ANIMATABLE_MAP=reduce(TRANSFORMABLE_PROPS,function(r,n){return r[n]=!0,r},{ignore:!1}),tmpTextPosCalcRes={},tmpBoundingRect=new BoundingRect$1(0,0,0,0),Element$1=function(){function r(n){this.id=guid(),this.animators=[],this.currentStates=[],this.states={},this._init(n)}return r.prototype._init=function(n){this.attr(n)},r.prototype.drift=function(n,i,o){switch(this.draggable){case"horizontal":i=0;break;case"vertical":n=0;break}var a=this.transform;a||(a=this.transform=[1,0,0,1,0,0]),a[4]+=n,a[5]+=i,this.decomposeTransform(),this.markRedraw()},r.prototype.beforeUpdate=function(){},r.prototype.afterUpdate=function(){},r.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},r.prototype.updateInnerText=function(n){var i=this._textContent;if(i&&(!i.ignore||n)){this.textConfig||(this.textConfig={});var o=this.textConfig,a=o.local,u=i.innerTransformable,c=void 0,f=void 0,d=!1;u.parent=a?this:null;var h=!1;if(u.copyTransform(i),o.position!=null){var v=tmpBoundingRect;o.layoutRect?v.copy(o.layoutRect):v.copy(this.getBoundingRect()),a||v.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(tmpTextPosCalcRes,o,v):calculateTextPosition(tmpTextPosCalcRes,o,v),u.x=tmpTextPosCalcRes.x,u.y=tmpTextPosCalcRes.y,c=tmpTextPosCalcRes.align,f=tmpTextPosCalcRes.verticalAlign;var g=o.origin;if(g&&o.rotation!=null){var p=void 0,y=void 0;g==="center"?(p=v.width*.5,y=v.height*.5):(p=parsePercent$1(g[0],v.width),y=parsePercent$1(g[1],v.height)),h=!0,u.originX=-u.x+p+(a?0:v.x),u.originY=-u.y+y+(a?0:v.y)}}o.rotation!=null&&(u.rotation=o.rotation);var _=o.offset;_&&(u.x+=_[0],u.y+=_[1],h||(u.originX=-_[0],u.originY=-_[1]));var b=o.inside==null?typeof o.position=="string"&&o.position.indexOf("inside")>=0:o.inside,A=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),w=void 0,T=void 0,S=void 0;b&&this.canBeInsideText()?(w=o.insideFill,T=o.insideStroke,(w==null||w==="auto")&&(w=this.getInsideTextFill()),(T==null||T==="auto")&&(T=this.getInsideTextStroke(w),S=!0)):(w=o.outsideFill,T=o.outsideStroke,(w==null||w==="auto")&&(w=this.getOutsideFill()),(T==null||T==="auto")&&(T=this.getOutsideStroke(w),S=!0)),w=w||"#000",(w!==A.fill||T!==A.stroke||S!==A.autoStroke||c!==A.align||f!==A.verticalAlign)&&(d=!0,A.fill=w,A.stroke=T,A.autoStroke=S,A.align=c,A.verticalAlign=f,i.setDefaultTextStyle(A)),i.__dirty|=REDRAW_BIT,d&&i.dirtyStyle(!0)}},r.prototype.canBeInsideText=function(){return!0},r.prototype.getInsideTextFill=function(){return"#fff"},r.prototype.getInsideTextStroke=function(n){return"#000"},r.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?LIGHT_LABEL_COLOR:DARK_LABEL_COLOR},r.prototype.getOutsideStroke=function(n){var i=this.__zr&&this.__zr.getBackgroundColor(),o=typeof i=="string"&&parse(i);o||(o=[255,255,255,1]);for(var a=o[3],u=this.__zr.isDarkMode(),c=0;c<3;c++)o[c]=o[c]*a+(u?0:255)*(1-a);return o[3]=1,stringify(o,"rgba")},r.prototype.traverse=function(n,i){},r.prototype.attrKV=function(n,i){n==="textConfig"?this.setTextConfig(i):n==="textContent"?this.setTextContent(i):n==="clipPath"?this.setClipPath(i):n==="extra"?(this.extra=this.extra||{},extend(this.extra,i)):this[n]=i},r.prototype.hide=function(){this.ignore=!0,this.markRedraw()},r.prototype.show=function(){this.ignore=!1,this.markRedraw()},r.prototype.attr=function(n,i){if(typeof n=="string")this.attrKV(n,i);else if(isObject$3(n))for(var o=n,a=keys(o),u=0;u<a.length;u++){var c=a[u];this.attrKV(c,n[c])}return this.markRedraw(),this},r.prototype.saveCurrentToNormalState=function(n){this._innerSaveToNormal(n);for(var i=this._normalState,o=0;o<this.animators.length;o++){var a=this.animators[o],u=a.__fromStateTransition;if(!(a.getLoop()||u&&u!==PRESERVED_NORMAL_STATE)){var c=a.targetName,f=c?i[c]:i;a.saveTo(f)}}},r.prototype._innerSaveToNormal=function(n){var i=this._normalState;i||(i=this._normalState={}),n.textConfig&&!i.textConfig&&(i.textConfig=this.textConfig),this._savePrimaryToNormal(n,i,PRIMARY_STATES_KEYS$1)},r.prototype._savePrimaryToNormal=function(n,i,o){for(var a=0;a<o.length;a++){var u=o[a];n[u]!=null&&!(u in i)&&(i[u]=this[u])}},r.prototype.hasState=function(){return this.currentStates.length>0},r.prototype.getState=function(n){return this.states[n]},r.prototype.ensureState=function(n){var i=this.states;return i[n]||(i[n]={}),i[n]},r.prototype.clearStates=function(n){this.useState(PRESERVED_NORMAL_STATE,!1,n)},r.prototype.useState=function(n,i,o,a){var u=n===PRESERVED_NORMAL_STATE,c=this.hasState();if(!(!c&&u)){var f=this.currentStates,d=this.stateTransition;if(!(indexOf(f,n)>=0&&(i||f.length===1))){var h;if(this.stateProxy&&!u&&(h=this.stateProxy(n)),h||(h=this.states&&this.states[n]),!h&&!u){logError("State "+n+" not exists.");return}u||this.saveCurrentToNormalState(h);var v=!!(h&&h.hoverLayer||a);v&&this._toggleHoverLayerFlag(!0),this._applyStateObj(n,h,this._normalState,i,!o&&!this.__inHover&&d&&d.duration>0,d);var g=this._textContent,p=this._textGuide;return g&&g.useState(n,i,o,v),p&&p.useState(n,i,o,v),u?(this.currentStates=[],this._normalState={}):i?this.currentStates.push(n):this.currentStates=[n],this._updateAnimationTargets(),this.markRedraw(),!v&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~REDRAW_BIT),h}}},r.prototype.useStates=function(n,i,o){if(!n.length)this.clearStates();else{var a=[],u=this.currentStates,c=n.length,f=c===u.length;if(f){for(var d=0;d<c;d++)if(n[d]!==u[d]){f=!1;break}}if(f)return;for(var d=0;d<c;d++){var h=n[d],v=void 0;this.stateProxy&&(v=this.stateProxy(h,n)),v||(v=this.states[h]),v&&a.push(v)}var g=a[c-1],p=!!(g&&g.hoverLayer||o);p&&this._toggleHoverLayerFlag(!0);var y=this._mergeStates(a),_=this.stateTransition;this.saveCurrentToNormalState(y),this._applyStateObj(n.join(","),y,this._normalState,!1,!i&&!this.__inHover&&_&&_.duration>0,_);var b=this._textContent,A=this._textGuide;b&&b.useStates(n,i,p),A&&A.useStates(n,i,p),this._updateAnimationTargets(),this.currentStates=n.slice(),this.markRedraw(),!p&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~REDRAW_BIT)}},r.prototype._updateAnimationTargets=function(){for(var n=0;n<this.animators.length;n++){var i=this.animators[n];i.targetName&&i.changeTarget(this[i.targetName])}},r.prototype.removeState=function(n){var i=indexOf(this.currentStates,n);if(i>=0){var o=this.currentStates.slice();o.splice(i,1),this.useStates(o)}},r.prototype.replaceState=function(n,i,o){var a=this.currentStates.slice(),u=indexOf(a,n),c=indexOf(a,i)>=0;u>=0?c?a.splice(u,1):a[u]=i:o&&!c&&a.push(i),this.useStates(a)},r.prototype.toggleState=function(n,i){i?this.useState(n,!0):this.removeState(n)},r.prototype._mergeStates=function(n){for(var i={},o,a=0;a<n.length;a++){var u=n[a];extend(i,u),u.textConfig&&(o=o||{},extend(o,u.textConfig))}return o&&(i.textConfig=o),i},r.prototype._applyStateObj=function(n,i,o,a,u,c){var f=!(i&&a);i&&i.textConfig?(this.textConfig=extend({},a?this.textConfig:o.textConfig),extend(this.textConfig,i.textConfig)):f&&o.textConfig&&(this.textConfig=o.textConfig);for(var d={},h=!1,v=0;v<PRIMARY_STATES_KEYS$1.length;v++){var g=PRIMARY_STATES_KEYS$1[v],p=u&&DEFAULT_ANIMATABLE_MAP[g];i&&i[g]!=null?p?(h=!0,d[g]=i[g]):this[g]=i[g]:f&&o[g]!=null&&(p?(h=!0,d[g]=o[g]):this[g]=o[g])}if(!u)for(var v=0;v<this.animators.length;v++){var y=this.animators[v],_=y.targetName;y.getLoop()||y.__changeFinalValue(_?(i||o)[_]:i||o)}h&&this._transitionState(n,d,c)},r.prototype._attachComponent=function(n){if(n.__zr&&!n.__hostTarget){if(process.env.NODE_ENV!=="production")throw new Error("Text element has been added to zrender.");return}if(n===this){if(process.env.NODE_ENV!=="production")throw new Error("Recursive component attachment.");return}var i=this.__zr;i&&n.addSelfToZr(i),n.__zr=i,n.__hostTarget=this},r.prototype._detachComponent=function(n){n.__zr&&n.removeSelfFromZr(n.__zr),n.__zr=null,n.__hostTarget=null},r.prototype.getClipPath=function(){return this._clipPath},r.prototype.setClipPath=function(n){this._clipPath&&this._clipPath!==n&&this.removeClipPath(),this._attachComponent(n),this._clipPath=n,this.markRedraw()},r.prototype.removeClipPath=function(){var n=this._clipPath;n&&(this._detachComponent(n),this._clipPath=null,this.markRedraw())},r.prototype.getTextContent=function(){return this._textContent},r.prototype.setTextContent=function(n){var i=this._textContent;if(i!==n){if(i&&i!==n&&this.removeTextContent(),process.env.NODE_ENV!=="production"&&n.__zr&&!n.__hostTarget)throw new Error("Text element has been added to zrender.");n.innerTransformable=new Transformable$1,this._attachComponent(n),this._textContent=n,this.markRedraw()}},r.prototype.setTextConfig=function(n){this.textConfig||(this.textConfig={}),extend(this.textConfig,n),this.markRedraw()},r.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},r.prototype.removeTextContent=function(){var n=this._textContent;n&&(n.innerTransformable=null,this._detachComponent(n),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},r.prototype.getTextGuideLine=function(){return this._textGuide},r.prototype.setTextGuideLine=function(n){this._textGuide&&this._textGuide!==n&&this.removeTextGuideLine(),this._attachComponent(n),this._textGuide=n,this.markRedraw()},r.prototype.removeTextGuideLine=function(){var n=this._textGuide;n&&(this._detachComponent(n),this._textGuide=null,this.markRedraw())},r.prototype.markRedraw=function(){this.__dirty|=REDRAW_BIT;var n=this.__zr;n&&(this.__inHover?n.refreshHover():n.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},r.prototype.dirty=function(){this.markRedraw()},r.prototype._toggleHoverLayerFlag=function(n){this.__inHover=n;var i=this._textContent,o=this._textGuide;i&&(i.__inHover=n),o&&(o.__inHover=n)},r.prototype.addSelfToZr=function(n){if(this.__zr!==n){this.__zr=n;var i=this.animators;if(i)for(var o=0;o<i.length;o++)n.animation.addAnimator(i[o]);this._clipPath&&this._clipPath.addSelfToZr(n),this._textContent&&this._textContent.addSelfToZr(n),this._textGuide&&this._textGuide.addSelfToZr(n)}},r.prototype.removeSelfFromZr=function(n){if(this.__zr){this.__zr=null;var i=this.animators;if(i)for(var o=0;o<i.length;o++)n.animation.removeAnimator(i[o]);this._clipPath&&this._clipPath.removeSelfFromZr(n),this._textContent&&this._textContent.removeSelfFromZr(n),this._textGuide&&this._textGuide.removeSelfFromZr(n)}},r.prototype.animate=function(n,i,o){var a=n?this[n]:this;if(process.env.NODE_ENV!=="production"&&!a){logError('Property "'+n+'" is not existed in element '+this.id);return}var u=new Animator$1(a,i,o);return n&&(u.targetName=n),this.addAnimator(u,n),u},r.prototype.addAnimator=function(n,i){var o=this.__zr,a=this;n.during(function(){a.updateDuringAnimation(i)}).done(function(){var u=a.animators,c=indexOf(u,n);c>=0&&u.splice(c,1)}),this.animators.push(n),o&&o.animation.addAnimator(n),o&&o.wakeUp()},r.prototype.updateDuringAnimation=function(n){this.markRedraw()},r.prototype.stopAnimation=function(n,i){for(var o=this.animators,a=o.length,u=[],c=0;c<a;c++){var f=o[c];!n||n===f.scope?f.stop(i):u.push(f)}return this.animators=u,this},r.prototype.animateTo=function(n,i,o){animateTo(this,n,i,o)},r.prototype.animateFrom=function(n,i,o){animateTo(this,n,i,o,!0)},r.prototype._transitionState=function(n,i,o,a){for(var u=animateTo(this,i,o,a),c=0;c<u.length;c++)u[c].__fromStateTransition=n},r.prototype.getBoundingRect=function(){return null},r.prototype.getPaintRect=function(){return null},r.initDefaultProps=function(){var n=r.prototype;n.type="element",n.name="",n.ignore=n.silent=n.isGroup=n.draggable=n.dragging=n.ignoreClip=n.__inHover=!1,n.__dirty=REDRAW_BIT;var i={};function o(u,c,f){i[u+c+f]||(console.warn("DEPRECATED: '"+u+"' has been deprecated. use '"+c+"', '"+f+"' instead"),i[u+c+f]=!0)}function a(u,c,f,d){Object.defineProperty(n,u,{get:function(){if(process.env.NODE_ENV!=="production"&&o(u,f,d),!this[c]){var v=this[c]=[];h(this,v)}return this[c]},set:function(v){process.env.NODE_ENV!=="production"&&o(u,f,d),this[f]=v[0],this[d]=v[1],this[c]=v,h(this,v)}});function h(v,g){Object.defineProperty(g,0,{get:function(){return v[f]},set:function(p){v[f]=p}}),Object.defineProperty(g,1,{get:function(){return v[d]},set:function(p){v[d]=p}})}}Object.defineProperty&&(a("position","_legacyPos","x","y"),a("scale","_legacyScale","scaleX","scaleY"),a("origin","_legacyOrigin","originX","originY"))}(),r}();mixin(Element$1,Eventful$1),mixin(Element$1,Transformable$1);function animateTo(r,n,i,o,a){i=i||{};var u=[];animateToShallow(r,"",r,n,i,o,u,a);var c=u.length,f=!1,d=i.done,h=i.aborted,v=function(){f=!0,c--,c<=0&&(f?d&&d():h&&h())},g=function(){c--,c<=0&&(f?d&&d():h&&h())};c||d&&d(),u.length>0&&i.during&&u[0].during(function(_,b){i.during(b)});for(var p=0;p<u.length;p++){var y=u[p];v&&y.done(v),g&&y.aborted(g),i.force&&y.duration(i.duration),y.start(i.easing)}return u}function copyArrShallow(r,n,i){for(var o=0;o<i;o++)r[o]=n[o]}function is2DArray(r){return isArrayLike(r[0])}function copyValue(r,n,i){if(isArrayLike(n[i]))if(isArrayLike(r[i])||(r[i]=[]),isTypedArray(n[i])){var o=n[i].length;r[i].length!==o&&(r[i]=new n[i].constructor(o),copyArrShallow(r[i],n[i],o))}else{var a=n[i],u=r[i],c=a.length;if(is2DArray(a))for(var f=a[0].length,d=0;d<c;d++)u[d]?copyArrShallow(u[d],a[d],f):u[d]=Array.prototype.slice.call(a[d]);else copyArrShallow(u,a,c);u.length=a.length}else r[i]=n[i]}function isValueSame(r,n){return r===n||isArrayLike(r)&&isArrayLike(n)&&is1DArraySame(r,n)}function is1DArraySame(r,n){var i=r.length;if(i!==n.length)return!1;for(var o=0;o<i;o++)if(r[o]!==n[o])return!1;return!0}function animateToShallow(r,n,i,o,a,u,c,f){for(var d=keys(o),h=a.duration,v=a.delay,g=a.additive,p=a.setToFinal,y=!isObject$3(u),_=r.animators,b=[],A=0;A<d.length;A++){var w=d[A],T=o[w];if(T!=null&&i[w]!=null&&(y||u[w]))if(isObject$3(T)&&!isArrayLike(T)&&!isGradientObject(T)){if(n){f||(i[w]=T,r.updateDuringAnimation(n));continue}animateToShallow(r,w,i[w],T,a,u&&u[w],c,f)}else b.push(w);else f||(i[w]=T,r.updateDuringAnimation(n),b.push(w))}var S=b.length;if(!g&&S)for(var x=0;x<_.length;x++){var O=_[x];if(O.targetName===n){var L=O.stopTracks(b);if(L){var M=indexOf(_,O);_.splice(M,1)}}}if(a.force||(b=filter(b,function(V){return!isValueSame(o[V],i[V])}),S=b.length),S>0||a.force&&!c.length){var re=void 0,F=void 0,j=void 0;if(f){F={},p&&(re={});for(var x=0;x<S;x++){var w=b[x];F[w]=i[w],p?re[w]=o[w]:i[w]=o[w]}}else if(p){j={};for(var x=0;x<S;x++){var w=b[x];j[w]=cloneValue(i[w]),copyValue(i,o,w)}}var O=new Animator$1(i,!1,!1,g?filter(_,function(z){return z.targetName===n}):null);O.targetName=n,a.scope&&(O.scope=a.scope),p&&re&&O.whenWithKeys(0,re,b),j&&O.whenWithKeys(0,j,b),O.whenWithKeys(h??500,f?F:o,b).delay(v||0),r.addAnimator(O,n),c.push(O)}}const Element$2=Element$1;var Group$2=function(r){__extends(n,r);function n(i){var o=r.call(this)||this;return o.isGroup=!0,o._children=[],o.attr(i),o}return n.prototype.childrenRef=function(){return this._children},n.prototype.children=function(){return this._children.slice()},n.prototype.childAt=function(i){return this._children[i]},n.prototype.childOfName=function(i){for(var o=this._children,a=0;a<o.length;a++)if(o[a].name===i)return o[a]},n.prototype.childCount=function(){return this._children.length},n.prototype.add=function(i){if(i&&(i!==this&&i.parent!==this&&(this._children.push(i),this._doAdd(i)),process.env.NODE_ENV!=="production"&&i.__hostTarget))throw"This elemenet has been used as an attachment";return this},n.prototype.addBefore=function(i,o){if(i&&i!==this&&i.parent!==this&&o&&o.parent===this){var a=this._children,u=a.indexOf(o);u>=0&&(a.splice(u,0,i),this._doAdd(i))}return this},n.prototype.replace=function(i,o){var a=indexOf(this._children,i);return a>=0&&this.replaceAt(o,a),this},n.prototype.replaceAt=function(i,o){var a=this._children,u=a[o];if(i&&i!==this&&i.parent!==this&&i!==u){a[o]=i,u.parent=null;var c=this.__zr;c&&u.removeSelfFromZr(c),this._doAdd(i)}return this},n.prototype._doAdd=function(i){i.parent&&i.parent.remove(i),i.parent=this;var o=this.__zr;o&&o!==i.__zr&&i.addSelfToZr(o),o&&o.refresh()},n.prototype.remove=function(i){var o=this.__zr,a=this._children,u=indexOf(a,i);return u<0?this:(a.splice(u,1),i.parent=null,o&&i.removeSelfFromZr(o),o&&o.refresh(),this)},n.prototype.removeAll=function(){for(var i=this._children,o=this.__zr,a=0;a<i.length;a++){var u=i[a];o&&u.removeSelfFromZr(o),u.parent=null}return i.length=0,this},n.prototype.eachChild=function(i,o){for(var a=this._children,u=0;u<a.length;u++){var c=a[u];i.call(o,c,u)}return this},n.prototype.traverse=function(i,o){for(var a=0;a<this._children.length;a++){var u=this._children[a],c=i.call(o,u);u.isGroup&&!c&&u.traverse(i,o)}return this},n.prototype.addSelfToZr=function(i){r.prototype.addSelfToZr.call(this,i);for(var o=0;o<this._children.length;o++){var a=this._children[o];a.addSelfToZr(i)}},n.prototype.removeSelfFromZr=function(i){r.prototype.removeSelfFromZr.call(this,i);for(var o=0;o<this._children.length;o++){var a=this._children[o];a.removeSelfFromZr(i)}},n.prototype.getBoundingRect=function(i){for(var o=new BoundingRect$1(0,0,0,0),a=i||this._children,u=[],c=null,f=0;f<a.length;f++){var d=a[f];if(!(d.ignore||d.invisible)){var h=d.getBoundingRect(),v=d.getLocalTransform(u);v?(BoundingRect$1.applyTransform(o,h,v),c=c||o.clone(),c.union(o)):(c=c||h.clone(),c.union(h))}}return c||o},n}(Element$2);Group$2.prototype.type="group";const Group$3=Group$2;/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var painterCtors={},instances$1={};function delInstance(r){delete instances$1[r]}function isDarkMode(r){if(!r)return!1;if(typeof r=="string")return lum(r,1)<DARK_MODE_THRESHOLD;if(r.colorStops){for(var n=r.colorStops,i=0,o=n.length,a=0;a<o;a++)i+=lum(n[a].color,1);return i/=o,i<DARK_MODE_THRESHOLD}return!1}var ZRender=function(){function r(n,i,o){var a=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,o=o||{},this.dom=i,this.id=n;var u=new Storage$1,c=o.renderer||"canvas";if(painterCtors[c]||(c=keys(painterCtors)[0]),process.env.NODE_ENV!=="production"&&!painterCtors[c])throw new Error("Renderer '"+c+"' is not imported. Please import it first.");o.useDirtyRect=o.useDirtyRect==null?!1:o.useDirtyRect;var f=new painterCtors[c](i,u,o,n),d=o.ssr||f.ssrOnly;this.storage=u,this.painter=f;var h=!env$1.node&&!env$1.worker&&!d?new HandlerProxy(f.getViewportRoot(),f.root):null,v=o.useCoarsePointer,g=v==null||v==="auto"?env$1.touchEventsSupported:!!v,p=44,y;g&&(y=retrieve2(o.pointerSize,p)),this.handler=new Handler$1(u,f,h,f.root,y),this.animation=new Animation$1({stage:{update:d?null:function(){return a._flush(!0)}}}),d||this.animation.start()}return r.prototype.add=function(n){n&&(this.storage.addRoot(n),n.addSelfToZr(this),this.refresh())},r.prototype.remove=function(n){n&&(this.storage.delRoot(n),n.removeSelfFromZr(this),this.refresh())},r.prototype.configLayer=function(n,i){this.painter.configLayer&&this.painter.configLayer(n,i),this.refresh()},r.prototype.setBackgroundColor=function(n){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(n),this.refresh(),this._backgroundColor=n,this._darkMode=isDarkMode(n)},r.prototype.getBackgroundColor=function(){return this._backgroundColor},r.prototype.setDarkMode=function(n){this._darkMode=n},r.prototype.isDarkMode=function(){return this._darkMode},r.prototype.refreshImmediately=function(n){n||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},r.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},r.prototype.flush=function(){this._flush(!1)},r.prototype._flush=function(n){var i,o=getTime();this._needsRefresh&&(i=!0,this.refreshImmediately(n)),this._needsRefreshHover&&(i=!0,this.refreshHoverImmediately());var a=getTime();i?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:a-o})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},r.prototype.setSleepAfterStill=function(n){this._sleepAfterStill=n},r.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},r.prototype.refreshHover=function(){this._needsRefreshHover=!0},r.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover()},r.prototype.resize=function(n){n=n||{},this.painter.resize(n.width,n.height),this.handler.resize()},r.prototype.clearAnimation=function(){this.animation.clear()},r.prototype.getWidth=function(){return this.painter.getWidth()},r.prototype.getHeight=function(){return this.painter.getHeight()},r.prototype.setCursorStyle=function(n){this.handler.setCursorStyle(n)},r.prototype.findHover=function(n,i){return this.handler.findHover(n,i)},r.prototype.on=function(n,i,o){return this.handler.on(n,i,o),this},r.prototype.off=function(n,i){this.handler.off(n,i)},r.prototype.trigger=function(n,i){this.handler.trigger(n,i)},r.prototype.clear=function(){for(var n=this.storage.getRoots(),i=0;i<n.length;i++)n[i]instanceof Group$3&&n[i].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},r.prototype.dispose=function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,delInstance(this.id)},r}();function init(r,n){var i=new ZRender(guid(),r,n);return instances$1[i.id]=i,i}function registerPainter(r,n){painterCtors[r]=n}var RADIAN_EPSILON=1e-4,ROUND_SUPPORTED_PRECISION_MAX=20;function _trim(r){return r.replace(/^\s+|\s+$/g,"")}function linearMap(r,n,i,o){var a=n[0],u=n[1],c=i[0],f=i[1],d=u-a,h=f-c;if(d===0)return h===0?c:(c+f)/2;if(o)if(d>0){if(r<=a)return c;if(r>=u)return f}else{if(r>=a)return c;if(r<=u)return f}else{if(r===a)return c;if(r===u)return f}return(r-a)/d*h+c}function parsePercent(r,n){switch(r){case"center":case"middle":r="50%";break;case"left":case"top":r="0%";break;case"right":case"bottom":r="100%";break}return isString$2(r)?_trim(r).match(/%$/)?parseFloat(r)/100*n:parseFloat(r):r==null?NaN:+r}function round$2(r,n,i){return n==null&&(n=10),n=Math.min(Math.max(0,n),ROUND_SUPPORTED_PRECISION_MAX),r=(+r).toFixed(n),i?r:+r}function getPrecision(r){if(r=+r,isNaN(r))return 0;if(r>1e-14){for(var n=1,i=0;i<15;i++,n*=10)if(Math.round(r*n)/n===r)return i}return getPrecisionSafe(r)}function getPrecisionSafe(r){var n=r.toString().toLowerCase(),i=n.indexOf("e"),o=i>0?+n.slice(i+1):0,a=i>0?i:n.length,u=n.indexOf("."),c=u<0?0:a-1-u;return Math.max(0,c-o)}function getPercentSeats(r,n){var i=reduce(r,function(y,_){return y+(isNaN(_)?0:_)},0);if(i===0)return[];for(var o=Math.pow(10,n),a=map$1(r,function(y){return(isNaN(y)?0:y)/i*o*100}),u=o*100,c=map$1(a,function(y){return Math.floor(y)}),f=reduce(c,function(y,_){return y+_},0),d=map$1(a,function(y,_){return y-c[_]});f<u;){for(var h=Number.NEGATIVE_INFINITY,v=null,g=0,p=d.length;g<p;++g)d[g]>h&&(h=d[g],v=g);++c[v],d[v]=0,++f}return map$1(c,function(y){return y/o})}function addSafe(r,n){var i=Math.max(getPrecision(r),getPrecision(n)),o=r+n;return i>ROUND_SUPPORTED_PRECISION_MAX?o:round$2(o,i)}function remRadian(r){var n=Math.PI*2;return(r%n+n)%n}function isRadianAroundZero(r){return r>-RADIAN_EPSILON&&r<RADIAN_EPSILON}var TIME_REG=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function parseDate(r){if(r instanceof Date)return r;if(isString$2(r)){var n=TIME_REG.exec(r);if(!n)return new Date(NaN);if(n[8]){var i=+n[4]||0;return n[8].toUpperCase()!=="Z"&&(i-=+n[8].slice(0,3)),new Date(Date.UTC(+n[1],+(n[2]||1)-1,+n[3]||1,i,+(n[5]||0),+n[6]||0,n[7]?+n[7].substring(0,3):0))}else return new Date(+n[1],+(n[2]||1)-1,+n[3]||1,+n[4]||0,+(n[5]||0),+n[6]||0,n[7]?+n[7].substring(0,3):0)}else if(r==null)return new Date(NaN);return new Date(Math.round(r))}function numericToNumber(r){var n=parseFloat(r);return n==r&&(n!==0||!isString$2(r)||r.indexOf("x")<=0)?n:NaN}function isNumeric(r){return!isNaN(numericToNumber(r))}function getRandomIdBase(){return Math.round(Math.random()*9)}function getGreatestCommonDividor(r,n){return n===0?r:getGreatestCommonDividor(n,r%n)}function getLeastCommonMultiple(r,n){return r==null?n:n==null?r:r*n/getGreatestCommonDividor(r,n)}var ECHARTS_PREFIX="[ECharts] ",storedLogs={},hasConsole=typeof console<"u"&&console.warn&&console.log;function outputLog(r,n,i){if(hasConsole){if(i){if(storedLogs[n])return;storedLogs[n]=!0}console[r](ECHARTS_PREFIX+n)}}function log(r,n){outputLog("log",r,n)}function warn(r,n){outputLog("warn",r,n)}function error(r,n){outputLog("error",r,n)}function deprecateLog(r){process.env.NODE_ENV!=="production"&&outputLog("warn","DEPRECATED: "+r,!0)}function deprecateReplaceLog(r,n,i){process.env.NODE_ENV!=="production"&&deprecateLog((i?"["+i+"]":"")+(r+" is deprecated, use "+n+" instead."))}function makePrintable(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i="";if(process.env.NODE_ENV!=="production"){var o=function(a){return a===void 0?"undefined":a===1/0?"Infinity":a===-1/0?"-Infinity":eqNaN(a)?"NaN":a instanceof Date?"Date("+a.toISOString()+")":isFunction$1(a)?"function () { ... }":isRegExp(a)?a+"":null};i=map$1(r,function(a){if(isString$2(a))return a;var u=o(a);if(u!=null)return u;if(typeof JSON<"u"&&JSON.stringify)try{return JSON.stringify(a,function(c,f){var d=o(f);return d??f})}catch{return"?"}else return"?"}).join(" ")}return i}function throwError$1(r){throw new Error(r)}var DUMMY_COMPONENT_NAME_PREFIX="series\0",INTERNAL_COMPONENT_ID_PREFIX="\0_ec_\0";function normalizeToArray(r){return r instanceof Array?r:r==null?[]:[r]}function defaultEmphasis(r,n,i){if(r){r[n]=r[n]||{},r.emphasis=r.emphasis||{},r.emphasis[n]=r.emphasis[n]||{};for(var o=0,a=i.length;o<a;o++){var u=i[o];!r.emphasis[n].hasOwnProperty(u)&&r[n].hasOwnProperty(u)&&(r.emphasis[n][u]=r[n][u])}}}var TEXT_STYLE_OPTIONS=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function getDataItemValue(r){return isObject$3(r)&&!isArray$1(r)&&!(r instanceof Date)?r.value:r}function isDataItemOption(r){return isObject$3(r)&&!(r instanceof Array)}function mappingToExists(r,n,i){var o=i==="normalMerge",a=i==="replaceMerge",u=i==="replaceAll";r=r||[],n=(n||[]).slice();var c=createHashMap();each$4(n,function(d,h){if(!isObject$3(d)){n[h]=null;return}process.env.NODE_ENV!=="production"&&(d.id!=null&&!isValidIdOrName(d.id)&&warnInvalidateIdOrName(d.id),d.name!=null&&!isValidIdOrName(d.name)&&warnInvalidateIdOrName(d.name))});var f=prepareResult(r,c,i);return(o||a)&&mappingById(f,r,c,n),o&&mappingByName(f,n),o||a?mappingByIndex(f,n,a):u&&mappingInReplaceAllMode(f,n),makeIdAndName(f),f}function prepareResult(r,n,i){var o=[];if(i==="replaceAll")return o;for(var a=0;a<r.length;a++){var u=r[a];u&&u.id!=null&&n.set(u.id,a),o.push({existing:i==="replaceMerge"||isComponentIdInternal(u)?null:u,newOption:null,keyInfo:null,brandNew:null})}return o}function mappingById(r,n,i,o){each$4(o,function(a,u){if(!(!a||a.id==null)){var c=makeComparableKey(a.id),f=i.get(c);if(f!=null){var d=r[f];assert(!d.newOption,'Duplicated option on id "'+c+'".'),d.newOption=a,d.existing=n[f],o[u]=null}}})}function mappingByName(r,n){each$4(n,function(i,o){if(!(!i||i.name==null))for(var a=0;a<r.length;a++){var u=r[a].existing;if(!r[a].newOption&&u&&(u.id==null||i.id==null)&&!isComponentIdInternal(i)&&!isComponentIdInternal(u)&&keyExistAndEqual("name",u,i)){r[a].newOption=i,n[o]=null;return}}})}function mappingByIndex(r,n,i){each$4(n,function(o){if(o){for(var a,u=0;(a=r[u])&&(a.newOption||isComponentIdInternal(a.existing)||a.existing&&o.id!=null&&!keyExistAndEqual("id",o,a.existing));)u++;a?(a.newOption=o,a.brandNew=i):r.push({newOption:o,brandNew:i,existing:null,keyInfo:null}),u++}})}function mappingInReplaceAllMode(r,n){each$4(n,function(i){r.push({newOption:i,brandNew:!0,existing:null,keyInfo:null})})}function makeIdAndName(r){var n=createHashMap();each$4(r,function(i){var o=i.existing;o&&n.set(o.id,i)}),each$4(r,function(i){var o=i.newOption;assert(!o||o.id==null||!n.get(o.id)||n.get(o.id)===i,"id duplicates: "+(o&&o.id)),o&&o.id!=null&&n.set(o.id,i),!i.keyInfo&&(i.keyInfo={})}),each$4(r,function(i,o){var a=i.existing,u=i.newOption,c=i.keyInfo;if(isObject$3(u)){if(c.name=u.name!=null?makeComparableKey(u.name):a?a.name:DUMMY_COMPONENT_NAME_PREFIX+o,a)c.id=makeComparableKey(a.id);else if(u.id!=null)c.id=makeComparableKey(u.id);else{var f=0;do c.id="\0"+c.name+"\0"+f++;while(n.get(c.id))}n.set(c.id,i)}})}function keyExistAndEqual(r,n,i){var o=convertOptionIdName(n[r],null),a=convertOptionIdName(i[r],null);return o!=null&&a!=null&&o===a}function makeComparableKey(r){if(process.env.NODE_ENV!=="production"&&r==null)throw new Error;return convertOptionIdName(r,"")}function convertOptionIdName(r,n){return r==null?n:isString$2(r)?r:isNumber$1(r)||isStringSafe(r)?r+"":n}function warnInvalidateIdOrName(r){process.env.NODE_ENV!=="production"&&warn("`"+r+"` is invalid id or name. Must be a string or number.")}function isValidIdOrName(r){return isStringSafe(r)||isNumeric(r)}function isNameSpecified(r){var n=r.name;return!!(n&&n.indexOf(DUMMY_COMPONENT_NAME_PREFIX))}function isComponentIdInternal(r){return r&&r.id!=null&&makeComparableKey(r.id).indexOf(INTERNAL_COMPONENT_ID_PREFIX)===0}function setComponentTypeToKeyInfo(r,n,i){each$4(r,function(o){var a=o.newOption;isObject$3(a)&&(o.keyInfo.mainType=n,o.keyInfo.subType=determineSubType(n,a,o.existing,i))})}function determineSubType(r,n,i,o){var a=n.type?n.type:i?i.subType:o.determineSubType(r,n);return a}function queryDataIndex(r,n){if(n.dataIndexInside!=null)return n.dataIndexInside;if(n.dataIndex!=null)return isArray$1(n.dataIndex)?map$1(n.dataIndex,function(i){return r.indexOfRawIndex(i)}):r.indexOfRawIndex(n.dataIndex);if(n.name!=null)return isArray$1(n.name)?map$1(n.name,function(i){return r.indexOfName(i)}):r.indexOfName(n.name)}function makeInner(){var r="__ec_inner_"+innerUniqueIndex++;return function(n){return n[r]||(n[r]={})}}var innerUniqueIndex=getRandomIdBase();function parseFinder(r,n,i){var o=preParseFinder(n,i),a=o.mainTypeSpecified,u=o.queryOptionMap,c=o.others,f=c,d=i?i.defaultMainType:null;return!a&&d&&u.set(d,{}),u.each(function(h,v){var g=queryReferringComponents(r,v,h,{useDefault:d===v,enableAll:i&&i.enableAll!=null?i.enableAll:!0,enableNone:i&&i.enableNone!=null?i.enableNone:!0});f[v+"Models"]=g.models,f[v+"Model"]=g.models[0]}),f}function preParseFinder(r,n){var i;if(isString$2(r)){var o={};o[r+"Index"]=0,i=o}else i=r;var a=createHashMap(),u={},c=!1;return each$4(i,function(f,d){if(d==="dataIndex"||d==="dataIndexInside"){u[d]=f;return}var h=d.match(/^(\w+)(Index|Id|Name)$/)||[],v=h[1],g=(h[2]||"").toLowerCase();if(!(!v||!g||n&&n.includeMainTypes&&indexOf(n.includeMainTypes,v)<0)){c=c||!!v;var p=a.get(v)||a.set(v,{});p[g]=f}}),{mainTypeSpecified:c,queryOptionMap:a,others:u}}var SINGLE_REFERRING={useDefault:!0,enableAll:!1,enableNone:!1};function queryReferringComponents(r,n,i,o){o=o||SINGLE_REFERRING;var a=i.index,u=i.id,c=i.name,f={models:null,specified:a!=null||u!=null||c!=null};if(!f.specified){var d=void 0;return f.models=o.useDefault&&(d=r.getComponent(n))?[d]:[],f}return a==="none"||a===!1?(assert(o.enableNone,'`"none"` or `false` is not a valid value on index option.'),f.models=[],f):(a==="all"&&(assert(o.enableAll,'`"all"` is not a valid value on index option.'),a=u=c=null),f.models=r.queryComponents({mainType:n,index:a,id:u,name:c}),f)}function setAttribute(r,n,i){r.setAttribute?r.setAttribute(n,i):r[n]=i}function getTooltipRenderMode(r){return r==="auto"?env$1.domSupported?"html":"richText":r||"html"}var TYPE_DELIMITER=".",IS_CONTAINER="___EC__COMPONENT__CONTAINER___",IS_EXTENDED_CLASS="___EC__EXTENDED_CLASS___";function parseClassType(r){var n={main:"",sub:""};if(r){var i=r.split(TYPE_DELIMITER);n.main=i[0]||"",n.sub=i[1]||""}return n}function checkClassType(r){assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(r),'componentType "'+r+'" illegal')}function isExtendedClass(r){return!!(r&&r[IS_EXTENDED_CLASS])}function enableClassExtend(r,n){r.$constructor=r,r.extend=function(i){process.env.NODE_ENV!=="production"&&each$4(n,function(u){i[u]||console.warn("Method `"+u+"` should be implemented"+(i.type?" in "+i.type:"")+".")});var o=this,a;return isESClass(o)?a=function(u){__extends(c,u);function c(){return u.apply(this,arguments)||this}return c}(o):(a=function(){(i.$constructor||o).apply(this,arguments)},inherits(a,this)),extend(a.prototype,i),a[IS_EXTENDED_CLASS]=!0,a.extend=this.extend,a.superCall=superCall,a.superApply=superApply,a.superClass=o,a}}function isESClass(r){return isFunction$1(r)&&/^class\s/.test(Function.prototype.toString.call(r))}function mountExtend(r,n){r.extend=n.extend}var classBase=Math.round(Math.random()*10);function enableClassCheck(r){var n=["__\0is_clz",classBase++].join("_");r.prototype[n]=!0,process.env.NODE_ENV!=="production"&&assert(!r.isInstance,'The method "is" can not be defined.'),r.isInstance=function(i){return!!(i&&i[n])}}function superCall(r,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];return this.superClass.prototype[n].apply(r,i)}function superApply(r,n,i){return this.superClass.prototype[n].apply(r,i)}function enableClassManagement(r){var n={};r.registerClass=function(o){var a=o.type||o.prototype.type;if(a){checkClassType(a),o.prototype.type=a;var u=parseClassType(a);if(!u.sub)process.env.NODE_ENV!=="production"&&n[u.main]&&console.warn(u.main+" exists."),n[u.main]=o;else if(u.sub!==IS_CONTAINER){var c=i(u);c[u.sub]=o}}return o},r.getClass=function(o,a,u){var c=n[o];if(c&&c[IS_CONTAINER]&&(c=a?c[a]:null),u&&!c)throw new Error(a?"Component "+o+"."+(a||"")+" is used but not imported.":o+".type should be specified.");return c},r.getClassesByMainType=function(o){var a=parseClassType(o),u=[],c=n[a.main];return c&&c[IS_CONTAINER]?each$4(c,function(f,d){d!==IS_CONTAINER&&u.push(f)}):u.push(c),u},r.hasClass=function(o){var a=parseClassType(o);return!!n[a.main]},r.getAllClassMainTypes=function(){var o=[];return each$4(n,function(a,u){o.push(u)}),o},r.hasSubTypes=function(o){var a=parseClassType(o),u=n[a.main];return u&&u[IS_CONTAINER]};function i(o){var a=n[o.main];return(!a||!a[IS_CONTAINER])&&(a=n[o.main]={},a[IS_CONTAINER]=!0),a}}function makeStyleMapper(r,n){for(var i=0;i<r.length;i++)r[i][1]||(r[i][1]=r[i][0]);return n=n||!1,function(o,a,u){for(var c={},f=0;f<r.length;f++){var d=r[f][1];if(!(a&&indexOf(a,d)>=0||u&&indexOf(u,d)<0)){var h=o.getShallow(d,n);h!=null&&(c[r[f][0]]=h)}}return c}}var AREA_STYLE_KEY_MAP=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],getAreaStyle=makeStyleMapper(AREA_STYLE_KEY_MAP),AreaStyleMixin=function(){function r(){}return r.prototype.getAreaStyle=function(n,i){return getAreaStyle(this,n,i)},r}(),globalImageCache=new LRU$1(50);function findExistImage(r){if(typeof r=="string"){var n=globalImageCache.get(r);return n&&n.image}else return r}function createOrUpdateImage(r,n,i,o,a){if(r)if(typeof r=="string"){if(n&&n.__zrImageSrc===r||!i)return n;var u=globalImageCache.get(r),c={hostEl:i,cb:o,cbPayload:a};return u?(n=u.image,!isImageReady(n)&&u.pending.push(c)):(n=platformApi.loadImage(r,imageOnLoad,imageOnLoad),n.__zrImageSrc=r,globalImageCache.put(r,n.__cachedImgObj={image:n,pending:[c]})),n}else return r;else return n}function imageOnLoad(){var r=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var n=0;n<r.pending.length;n++){var i=r.pending[n],o=i.cb;o&&o(this,i.cbPayload),i.hostEl.dirty()}r.pending.length=0}function isImageReady(r){return r&&r.width&&r.height}var STYLE_REG=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function truncateText(r,n,i,o,a){if(!n)return"";var u=(r+"").split(`
`);a=prepareTruncateOptions(n,i,o,a);for(var c=0,f=u.length;c<f;c++)u[c]=truncateSingleLine(u[c],a);return u.join(`
`)}function prepareTruncateOptions(r,n,i,o){o=o||{};var a=extend({},o);a.font=n,i=retrieve2(i,"..."),a.maxIterations=retrieve2(o.maxIterations,2);var u=a.minChar=retrieve2(o.minChar,0);a.cnCharWidth=getWidth("国",n);var c=a.ascCharWidth=getWidth("a",n);a.placeholder=retrieve2(o.placeholder,"");for(var f=r=Math.max(0,r-1),d=0;d<u&&f>=c;d++)f-=c;var h=getWidth(i,n);return h>f&&(i="",h=0),f=r-h,a.ellipsis=i,a.ellipsisWidth=h,a.contentWidth=f,a.containerWidth=r,a}function truncateSingleLine(r,n){var i=n.containerWidth,o=n.font,a=n.contentWidth;if(!i)return"";var u=getWidth(r,o);if(u<=i)return r;for(var c=0;;c++){if(u<=a||c>=n.maxIterations){r+=n.ellipsis;break}var f=c===0?estimateLength(r,a,n.ascCharWidth,n.cnCharWidth):u>0?Math.floor(r.length*a/u):0;r=r.substr(0,f),u=getWidth(r,o)}return r===""&&(r=n.placeholder),r}function estimateLength(r,n,i,o){for(var a=0,u=0,c=r.length;u<c&&a<n;u++){var f=r.charCodeAt(u);a+=0<=f&&f<=127?i:o}return u}function parsePlainText(r,n){r!=null&&(r+="");var i=n.overflow,o=n.padding,a=n.font,u=i==="truncate",c=getLineHeight(a),f=retrieve2(n.lineHeight,c),d=!!n.backgroundColor,h=n.lineOverflow==="truncate",v=n.width,g;v!=null&&(i==="break"||i==="breakAll")?g=r?wrapText(r,n.font,v,i==="breakAll",0).lines:[]:g=r?r.split(`
`):[];var p=g.length*f,y=retrieve2(n.height,p);if(p>y&&h){var _=Math.floor(y/f);g=g.slice(0,_)}if(r&&u&&v!=null)for(var b=prepareTruncateOptions(v,a,n.ellipsis,{minChar:n.truncateMinChar,placeholder:n.placeholder}),A=0;A<g.length;A++)g[A]=truncateSingleLine(g[A],b);for(var w=y,T=0,A=0;A<g.length;A++)T=Math.max(getWidth(g[A],a),T);v==null&&(v=T);var S=T;return o&&(w+=o[0]+o[2],S+=o[1]+o[3],v+=o[1]+o[3]),d&&(S=v),{lines:g,height:y,outerWidth:S,outerHeight:w,lineHeight:f,calculatedLineHeight:c,contentWidth:T,contentHeight:p,width:v}}var RichTextToken=function(){function r(){}return r}(),RichTextLine=function(){function r(n){this.tokens=[],n&&(this.tokens=n)}return r}(),RichTextContentBlock=function(){function r(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]}return r}();function parseRichText(r,n){var i=new RichTextContentBlock;if(r!=null&&(r+=""),!r)return i;for(var o=n.width,a=n.height,u=n.overflow,c=(u==="break"||u==="breakAll")&&o!=null?{width:o,accumWidth:0,breakAll:u==="breakAll"}:null,f=STYLE_REG.lastIndex=0,d;(d=STYLE_REG.exec(r))!=null;){var h=d.index;h>f&&pushTokens(i,r.substring(f,h),n,c),pushTokens(i,d[2],n,c,d[1]),f=STYLE_REG.lastIndex}f<r.length&&pushTokens(i,r.substring(f,r.length),n,c);var v=[],g=0,p=0,y=n.padding,_=u==="truncate",b=n.lineOverflow==="truncate";function A(pe,Lt,_e){pe.width=Lt,pe.lineHeight=_e,g+=_e,p=Math.max(p,Lt)}e:for(var w=0;w<i.lines.length;w++){for(var T=i.lines[w],S=0,x=0,O=0;O<T.tokens.length;O++){var L=T.tokens[O],M=L.styleName&&n.rich[L.styleName]||{},re=L.textPadding=M.padding,F=re?re[1]+re[3]:0,j=L.font=M.font||n.font;L.contentHeight=getLineHeight(j);var V=retrieve2(M.height,L.contentHeight);if(L.innerHeight=V,re&&(V+=re[0]+re[2]),L.height=V,L.lineHeight=retrieve3(M.lineHeight,n.lineHeight,V),L.align=M&&M.align||n.align,L.verticalAlign=M&&M.verticalAlign||"middle",b&&a!=null&&g+L.lineHeight>a){O>0?(T.tokens=T.tokens.slice(0,O),A(T,x,S),i.lines=i.lines.slice(0,w+1)):i.lines=i.lines.slice(0,w);break e}var z=M.width,$=z==null||z==="auto";if(typeof z=="string"&&z.charAt(z.length-1)==="%")L.percentWidth=z,v.push(L),L.contentWidth=getWidth(L.text,j);else{if($){var he=M.backgroundColor,le=he&&he.image;le&&(le=findExistImage(le),isImageReady(le)&&(L.width=Math.max(L.width,le.width*V/le.height)))}var Ie=_&&o!=null?o-x:null;Ie!=null&&Ie<L.width?!$||Ie<F?(L.text="",L.width=L.contentWidth=0):(L.text=truncateText(L.text,Ie-F,j,n.ellipsis,{minChar:n.truncateMinChar}),L.width=L.contentWidth=getWidth(L.text,j)):L.contentWidth=getWidth(L.text,j)}L.width+=F,x+=L.width,M&&(S=Math.max(S,L.lineHeight))}A(T,x,S)}i.outerWidth=i.width=retrieve2(o,p),i.outerHeight=i.height=retrieve2(a,g),i.contentHeight=g,i.contentWidth=p,y&&(i.outerWidth+=y[1]+y[3],i.outerHeight+=y[0]+y[2]);for(var w=0;w<v.length;w++){var L=v[w],Fe=L.percentWidth;L.width=parseInt(Fe,10)/100*i.width}return i}function pushTokens(r,n,i,o,a){var u=n==="",c=a&&i.rich[a]||{},f=r.lines,d=c.font||i.font,h=!1,v,g;if(o){var p=c.padding,y=p?p[1]+p[3]:0;if(c.width!=null&&c.width!=="auto"){var _=parsePercent$1(c.width,o.width)+y;f.length>0&&_+o.accumWidth>o.width&&(v=n.split(`
`),h=!0),o.accumWidth=_}else{var b=wrapText(n,d,o.width,o.breakAll,o.accumWidth);o.accumWidth=b.accumWidth+y,g=b.linesWidths,v=b.lines}}else v=n.split(`
`);for(var A=0;A<v.length;A++){var w=v[A],T=new RichTextToken;if(T.styleName=a,T.text=w,T.isLineHolder=!w&&!u,typeof c.width=="number"?T.width=c.width:T.width=g?g[A]:getWidth(w,d),!A&&!h){var S=(f[f.length-1]||(f[0]=new RichTextLine)).tokens,x=S.length;x===1&&S[0].isLineHolder?S[0]=T:(w||!x||u)&&S.push(T)}else f.push(new RichTextLine([T]))}}function isLatin(r){var n=r.charCodeAt(0);return n>=33&&n<=383}var breakCharMap=reduce(",&?/;] ".split(""),function(r,n){return r[n]=!0,r},{});function isWordBreakChar(r){return isLatin(r)?!!breakCharMap[r]:!0}function wrapText(r,n,i,o,a){for(var u=[],c=[],f="",d="",h=0,v=0,g=0;g<r.length;g++){var p=r.charAt(g);if(p===`
`){d&&(f+=d,v+=h),u.push(f),c.push(v),f="",d="",h=0,v=0;continue}var y=getWidth(p,n),_=o?!1:!isWordBreakChar(p);if(u.length?v+y>i:a+v+y>i){v?(f||d)&&(_?(f||(f=d,d="",h=0,v=h),u.push(f),c.push(v-h),d+=p,h+=y,f="",v=h):(d&&(f+=d,d="",h=0),u.push(f),c.push(v),f=p,v=y)):_?(u.push(d),c.push(h),d=p,h=y):(u.push(p),c.push(y));continue}v+=y,_?(d+=p,h+=y):(d&&(f+=d,d="",h=0),f+=p)}return!u.length&&!f&&(f=r,d="",h=0),d&&(f+=d),f&&(u.push(f),c.push(v)),u.length===1&&(v+=a),{accumWidth:v,lines:u,linesWidths:c}}var STYLE_MAGIC_KEY="__zr_style_"+Math.round(Math.random()*10),DEFAULT_COMMON_STYLE={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},DEFAULT_COMMON_ANIMATION_PROPS={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};DEFAULT_COMMON_STYLE[STYLE_MAGIC_KEY]=!0;var PRIMARY_STATES_KEYS=["z","z2","invisible"],PRIMARY_STATES_KEYS_IN_HOVER_LAYER=["invisible"],Displayable=function(r){__extends(n,r);function n(i){return r.call(this,i)||this}return n.prototype._init=function(i){for(var o=keys(i),a=0;a<o.length;a++){var u=o[a];u==="style"?this.useStyle(i[u]):r.prototype.attrKV.call(this,u,i[u])}this.style||this.useStyle({})},n.prototype.beforeBrush=function(){},n.prototype.afterBrush=function(){},n.prototype.innerBeforeBrush=function(){},n.prototype.innerAfterBrush=function(){},n.prototype.shouldBePainted=function(i,o,a,u){var c=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&isDisplayableCulled(this,i,o)||c&&!c[0]&&!c[3])return!1;if(a&&this.__clipPaths){for(var f=0;f<this.__clipPaths.length;++f)if(this.__clipPaths[f].isZeroArea())return!1}if(u&&this.parent)for(var d=this.parent;d;){if(d.ignore)return!1;d=d.parent}return!0},n.prototype.contain=function(i,o){return this.rectContain(i,o)},n.prototype.traverse=function(i,o){i.call(o,this)},n.prototype.rectContain=function(i,o){var a=this.transformCoordToLocal(i,o),u=this.getBoundingRect();return u.contain(a[0],a[1])},n.prototype.getPaintRect=function(){var i=this._paintRect;if(!this._paintRect||this.__dirty){var o=this.transform,a=this.getBoundingRect(),u=this.style,c=u.shadowBlur||0,f=u.shadowOffsetX||0,d=u.shadowOffsetY||0;i=this._paintRect||(this._paintRect=new BoundingRect$1(0,0,0,0)),o?BoundingRect$1.applyTransform(i,a,o):i.copy(a),(c||f||d)&&(i.width+=c*2+Math.abs(f),i.height+=c*2+Math.abs(d),i.x=Math.min(i.x,i.x+f-c),i.y=Math.min(i.y,i.y+d-c));var h=this.dirtyRectTolerance;i.isZero()||(i.x=Math.floor(i.x-h),i.y=Math.floor(i.y-h),i.width=Math.ceil(i.width+1+h*2),i.height=Math.ceil(i.height+1+h*2))}return i},n.prototype.setPrevPaintRect=function(i){i?(this._prevPaintRect=this._prevPaintRect||new BoundingRect$1(0,0,0,0),this._prevPaintRect.copy(i)):this._prevPaintRect=null},n.prototype.getPrevPaintRect=function(){return this._prevPaintRect},n.prototype.animateStyle=function(i){return this.animate("style",i)},n.prototype.updateDuringAnimation=function(i){i==="style"?this.dirtyStyle():this.markRedraw()},n.prototype.attrKV=function(i,o){i!=="style"?r.prototype.attrKV.call(this,i,o):this.style?this.setStyle(o):this.useStyle(o)},n.prototype.setStyle=function(i,o){return typeof i=="string"?this.style[i]=o:extend(this.style,i),this.dirtyStyle(),this},n.prototype.dirtyStyle=function(i){i||this.markRedraw(),this.__dirty|=STYLE_CHANGED_BIT,this._rect&&(this._rect=null)},n.prototype.dirty=function(){this.dirtyStyle()},n.prototype.styleChanged=function(){return!!(this.__dirty&STYLE_CHANGED_BIT)},n.prototype.styleUpdated=function(){this.__dirty&=~STYLE_CHANGED_BIT},n.prototype.createStyle=function(i){return createObject(DEFAULT_COMMON_STYLE,i)},n.prototype.useStyle=function(i){i[STYLE_MAGIC_KEY]||(i=this.createStyle(i)),this.__inHover?this.__hoverStyle=i:this.style=i,this.dirtyStyle()},n.prototype.isStyleObject=function(i){return i[STYLE_MAGIC_KEY]},n.prototype._innerSaveToNormal=function(i){r.prototype._innerSaveToNormal.call(this,i);var o=this._normalState;i.style&&!o.style&&(o.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(i,o,PRIMARY_STATES_KEYS)},n.prototype._applyStateObj=function(i,o,a,u,c,f){r.prototype._applyStateObj.call(this,i,o,a,u,c,f);var d=!(o&&u),h;if(o&&o.style?c?u?h=o.style:(h=this._mergeStyle(this.createStyle(),a.style),this._mergeStyle(h,o.style)):(h=this._mergeStyle(this.createStyle(),u?this.style:a.style),this._mergeStyle(h,o.style)):d&&(h=a.style),h)if(c){var v=this.style;if(this.style=this.createStyle(d?{}:v),d)for(var g=keys(v),p=0;p<g.length;p++){var y=g[p];y in h&&(h[y]=h[y],this.style[y]=v[y])}for(var _=keys(h),p=0;p<_.length;p++){var y=_[p];this.style[y]=this.style[y]}this._transitionState(i,{style:h},f,this.getAnimationStyleProps())}else this.useStyle(h);for(var b=this.__inHover?PRIMARY_STATES_KEYS_IN_HOVER_LAYER:PRIMARY_STATES_KEYS,p=0;p<b.length;p++){var y=b[p];o&&o[y]!=null?this[y]=o[y]:d&&a[y]!=null&&(this[y]=a[y])}},n.prototype._mergeStates=function(i){for(var o=r.prototype._mergeStates.call(this,i),a,u=0;u<i.length;u++){var c=i[u];c.style&&(a=a||{},this._mergeStyle(a,c.style))}return a&&(o.style=a),o},n.prototype._mergeStyle=function(i,o){return extend(i,o),i},n.prototype.getAnimationStyleProps=function(){return DEFAULT_COMMON_ANIMATION_PROPS},n.initDefaultProps=function(){var i=n.prototype;i.type="displayable",i.invisible=!1,i.z=0,i.z2=0,i.zlevel=0,i.culling=!1,i.cursor="pointer",i.rectHover=!1,i.incremental=!1,i._rect=null,i.dirtyRectTolerance=0,i.__dirty=REDRAW_BIT|STYLE_CHANGED_BIT}(),n}(Element$2),tmpRect=new BoundingRect$1(0,0,0,0),viewRect=new BoundingRect$1(0,0,0,0);function isDisplayableCulled(r,n,i){return tmpRect.copy(r.getBoundingRect()),r.transform&&tmpRect.applyTransform(r.transform),viewRect.width=n,viewRect.height=i,!tmpRect.intersect(viewRect)}const Displayable$1=Displayable;var mathMin$3=Math.min,mathMax$3=Math.max,mathSin$4=Math.sin,mathCos$4=Math.cos,PI2$7=Math.PI*2,start=create$1(),end=create$1(),extremity=create$1();function fromLine(r,n,i,o,a,u){a[0]=mathMin$3(r,i),a[1]=mathMin$3(n,o),u[0]=mathMax$3(r,i),u[1]=mathMax$3(n,o)}var xDim=[],yDim=[];function fromCubic(r,n,i,o,a,u,c,f,d,h){var v=cubicExtrema,g=cubicAt,p=v(r,i,a,c,xDim);d[0]=1/0,d[1]=1/0,h[0]=-1/0,h[1]=-1/0;for(var y=0;y<p;y++){var _=g(r,i,a,c,xDim[y]);d[0]=mathMin$3(_,d[0]),h[0]=mathMax$3(_,h[0])}p=v(n,o,u,f,yDim);for(var y=0;y<p;y++){var b=g(n,o,u,f,yDim[y]);d[1]=mathMin$3(b,d[1]),h[1]=mathMax$3(b,h[1])}d[0]=mathMin$3(r,d[0]),h[0]=mathMax$3(r,h[0]),d[0]=mathMin$3(c,d[0]),h[0]=mathMax$3(c,h[0]),d[1]=mathMin$3(n,d[1]),h[1]=mathMax$3(n,h[1]),d[1]=mathMin$3(f,d[1]),h[1]=mathMax$3(f,h[1])}function fromQuadratic(r,n,i,o,a,u,c,f){var d=quadraticExtremum,h=quadraticAt,v=mathMax$3(mathMin$3(d(r,i,a),1),0),g=mathMax$3(mathMin$3(d(n,o,u),1),0),p=h(r,i,a,v),y=h(n,o,u,g);c[0]=mathMin$3(r,a,p),c[1]=mathMin$3(n,u,y),f[0]=mathMax$3(r,a,p),f[1]=mathMax$3(n,u,y)}function fromArc(r,n,i,o,a,u,c,f,d){var h=min$1,v=max$1,g=Math.abs(a-u);if(g%PI2$7<1e-4&&g>1e-4){f[0]=r-i,f[1]=n-o,d[0]=r+i,d[1]=n+o;return}if(start[0]=mathCos$4(a)*i+r,start[1]=mathSin$4(a)*o+n,end[0]=mathCos$4(u)*i+r,end[1]=mathSin$4(u)*o+n,h(f,start,end),v(d,start,end),a=a%PI2$7,a<0&&(a=a+PI2$7),u=u%PI2$7,u<0&&(u=u+PI2$7),a>u&&!c?u+=PI2$7:a<u&&c&&(a+=PI2$7),c){var p=u;u=a,a=p}for(var y=0;y<u;y+=Math.PI/2)y>a&&(extremity[0]=mathCos$4(y)*i+r,extremity[1]=mathSin$4(y)*o+n,h(f,extremity,f),v(d,extremity,d))}var CMD$2={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},tmpOutX=[],tmpOutY=[],min=[],max=[],min2=[],max2=[],mathMin$2=Math.min,mathMax$2=Math.max,mathCos$3=Math.cos,mathSin$3=Math.sin,mathAbs$1=Math.abs,PI$5=Math.PI,PI2$6=PI$5*2,hasTypedArray=typeof Float32Array<"u",tmpAngles=[];function modPI2(r){var n=Math.round(r/PI$5*1e8)/1e8;return n%2*PI$5}function normalizeArcAngles(r,n){var i=modPI2(r[0]);i<0&&(i+=PI2$6);var o=i-r[0],a=r[1];a+=o,!n&&a-i>=PI2$6?a=i+PI2$6:n&&i-a>=PI2$6?a=i-PI2$6:!n&&i>a?a=i+(PI2$6-modPI2(i-a)):n&&i<a&&(a=i-(PI2$6-modPI2(a-i))),r[0]=i,r[1]=a}var PathProxy=function(){function r(n){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,n&&(this._saveData=!1),this._saveData&&(this.data=[])}return r.prototype.increaseVersion=function(){this._version++},r.prototype.getVersion=function(){return this._version},r.prototype.setScale=function(n,i,o){o=o||0,o>0&&(this._ux=mathAbs$1(o/devicePixelRatio/n)||0,this._uy=mathAbs$1(o/devicePixelRatio/i)||0)},r.prototype.setDPR=function(n){this.dpr=n},r.prototype.setContext=function(n){this._ctx=n},r.prototype.getContext=function(){return this._ctx},r.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},r.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},r.prototype.moveTo=function(n,i){return this._drawPendingPt(),this.addData(CMD$2.M,n,i),this._ctx&&this._ctx.moveTo(n,i),this._x0=n,this._y0=i,this._xi=n,this._yi=i,this},r.prototype.lineTo=function(n,i){var o=mathAbs$1(n-this._xi),a=mathAbs$1(i-this._yi),u=o>this._ux||a>this._uy;if(this.addData(CMD$2.L,n,i),this._ctx&&u&&this._ctx.lineTo(n,i),u)this._xi=n,this._yi=i,this._pendingPtDist=0;else{var c=o*o+a*a;c>this._pendingPtDist&&(this._pendingPtX=n,this._pendingPtY=i,this._pendingPtDist=c)}return this},r.prototype.bezierCurveTo=function(n,i,o,a,u,c){return this._drawPendingPt(),this.addData(CMD$2.C,n,i,o,a,u,c),this._ctx&&this._ctx.bezierCurveTo(n,i,o,a,u,c),this._xi=u,this._yi=c,this},r.prototype.quadraticCurveTo=function(n,i,o,a){return this._drawPendingPt(),this.addData(CMD$2.Q,n,i,o,a),this._ctx&&this._ctx.quadraticCurveTo(n,i,o,a),this._xi=o,this._yi=a,this},r.prototype.arc=function(n,i,o,a,u,c){this._drawPendingPt(),tmpAngles[0]=a,tmpAngles[1]=u,normalizeArcAngles(tmpAngles,c),a=tmpAngles[0],u=tmpAngles[1];var f=u-a;return this.addData(CMD$2.A,n,i,o,o,a,f,0,c?0:1),this._ctx&&this._ctx.arc(n,i,o,a,u,c),this._xi=mathCos$3(u)*o+n,this._yi=mathSin$3(u)*o+i,this},r.prototype.arcTo=function(n,i,o,a,u){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(n,i,o,a,u),this},r.prototype.rect=function(n,i,o,a){return this._drawPendingPt(),this._ctx&&this._ctx.rect(n,i,o,a),this.addData(CMD$2.R,n,i,o,a),this},r.prototype.closePath=function(){this._drawPendingPt(),this.addData(CMD$2.Z);var n=this._ctx,i=this._x0,o=this._y0;return n&&n.closePath(),this._xi=i,this._yi=o,this},r.prototype.fill=function(n){n&&n.fill(),this.toStatic()},r.prototype.stroke=function(n){n&&n.stroke(),this.toStatic()},r.prototype.len=function(){return this._len},r.prototype.setData=function(n){var i=n.length;!(this.data&&this.data.length===i)&&hasTypedArray&&(this.data=new Float32Array(i));for(var o=0;o<i;o++)this.data[o]=n[o];this._len=i},r.prototype.appendPath=function(n){n instanceof Array||(n=[n]);for(var i=n.length,o=0,a=this._len,u=0;u<i;u++)o+=n[u].len();hasTypedArray&&this.data instanceof Float32Array&&(this.data=new Float32Array(a+o));for(var u=0;u<i;u++)for(var c=n[u].data,f=0;f<c.length;f++)this.data[a++]=c[f];this._len=a},r.prototype.addData=function(n,i,o,a,u,c,f,d,h){if(this._saveData){var v=this.data;this._len+arguments.length>v.length&&(this._expandData(),v=this.data);for(var g=0;g<arguments.length;g++)v[this._len++]=arguments[g]}},r.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},r.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var n=[],i=0;i<this._len;i++)n[i]=this.data[i];this.data=n}},r.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var n=this.data;n instanceof Array&&(n.length=this._len,hasTypedArray&&this._len>11&&(this.data=new Float32Array(n)))}},r.prototype.getBoundingRect=function(){min[0]=min[1]=min2[0]=min2[1]=Number.MAX_VALUE,max[0]=max[1]=max2[0]=max2[1]=-Number.MAX_VALUE;var n=this.data,i=0,o=0,a=0,u=0,c;for(c=0;c<this._len;){var f=n[c++],d=c===1;switch(d&&(i=n[c],o=n[c+1],a=i,u=o),f){case CMD$2.M:i=a=n[c++],o=u=n[c++],min2[0]=a,min2[1]=u,max2[0]=a,max2[1]=u;break;case CMD$2.L:fromLine(i,o,n[c],n[c+1],min2,max2),i=n[c++],o=n[c++];break;case CMD$2.C:fromCubic(i,o,n[c++],n[c++],n[c++],n[c++],n[c],n[c+1],min2,max2),i=n[c++],o=n[c++];break;case CMD$2.Q:fromQuadratic(i,o,n[c++],n[c++],n[c],n[c+1],min2,max2),i=n[c++],o=n[c++];break;case CMD$2.A:var h=n[c++],v=n[c++],g=n[c++],p=n[c++],y=n[c++],_=n[c++]+y;c+=1;var b=!n[c++];d&&(a=mathCos$3(y)*g+h,u=mathSin$3(y)*p+v),fromArc(h,v,g,p,y,_,b,min2,max2),i=mathCos$3(_)*g+h,o=mathSin$3(_)*p+v;break;case CMD$2.R:a=i=n[c++],u=o=n[c++];var A=n[c++],w=n[c++];fromLine(a,u,a+A,u+w,min2,max2);break;case CMD$2.Z:i=a,o=u;break}min$1(min,min,min2),max$1(max,max,max2)}return c===0&&(min[0]=min[1]=max[0]=max[1]=0),new BoundingRect$1(min[0],min[1],max[0]-min[0],max[1]-min[1])},r.prototype._calculateLength=function(){var n=this.data,i=this._len,o=this._ux,a=this._uy,u=0,c=0,f=0,d=0;this._pathSegLen||(this._pathSegLen=[]);for(var h=this._pathSegLen,v=0,g=0,p=0;p<i;){var y=n[p++],_=p===1;_&&(u=n[p],c=n[p+1],f=u,d=c);var b=-1;switch(y){case CMD$2.M:u=f=n[p++],c=d=n[p++];break;case CMD$2.L:{var A=n[p++],w=n[p++],T=A-u,S=w-c;(mathAbs$1(T)>o||mathAbs$1(S)>a||p===i-1)&&(b=Math.sqrt(T*T+S*S),u=A,c=w);break}case CMD$2.C:{var x=n[p++],O=n[p++],A=n[p++],w=n[p++],L=n[p++],M=n[p++];b=cubicLength(u,c,x,O,A,w,L,M,10),u=L,c=M;break}case CMD$2.Q:{var x=n[p++],O=n[p++],A=n[p++],w=n[p++];b=quadraticLength(u,c,x,O,A,w,10),u=A,c=w;break}case CMD$2.A:var re=n[p++],F=n[p++],j=n[p++],V=n[p++],z=n[p++],$=n[p++],he=$+z;p+=1,n[p++],_&&(f=mathCos$3(z)*j+re,d=mathSin$3(z)*V+F),b=mathMax$2(j,V)*mathMin$2(PI2$6,Math.abs($)),u=mathCos$3(he)*j+re,c=mathSin$3(he)*V+F;break;case CMD$2.R:{f=u=n[p++],d=c=n[p++];var le=n[p++],Ie=n[p++];b=le*2+Ie*2;break}case CMD$2.Z:{var T=f-u,S=d-c;b=Math.sqrt(T*T+S*S),u=f,c=d;break}}b>=0&&(h[g++]=b,v+=b)}return this._pathLen=v,v},r.prototype.rebuildPath=function(n,i){var o=this.data,a=this._ux,u=this._uy,c=this._len,f,d,h,v,g,p,y=i<1,_,b,A=0,w=0,T,S=0,x,O;if(!(y&&(this._pathSegLen||this._calculateLength(),_=this._pathSegLen,b=this._pathLen,T=i*b,!T)))e:for(var L=0;L<c;){var M=o[L++],re=L===1;switch(re&&(h=o[L],v=o[L+1],f=h,d=v),M!==CMD$2.L&&S>0&&(n.lineTo(x,O),S=0),M){case CMD$2.M:f=h=o[L++],d=v=o[L++],n.moveTo(h,v);break;case CMD$2.L:{g=o[L++],p=o[L++];var F=mathAbs$1(g-h),j=mathAbs$1(p-v);if(F>a||j>u){if(y){var V=_[w++];if(A+V>T){var z=(T-A)/V;n.lineTo(h*(1-z)+g*z,v*(1-z)+p*z);break e}A+=V}n.lineTo(g,p),h=g,v=p,S=0}else{var $=F*F+j*j;$>S&&(x=g,O=p,S=$)}break}case CMD$2.C:{var he=o[L++],le=o[L++],Ie=o[L++],Fe=o[L++],pe=o[L++],Lt=o[L++];if(y){var V=_[w++];if(A+V>T){var z=(T-A)/V;cubicSubdivide(h,he,Ie,pe,z,tmpOutX),cubicSubdivide(v,le,Fe,Lt,z,tmpOutY),n.bezierCurveTo(tmpOutX[1],tmpOutY[1],tmpOutX[2],tmpOutY[2],tmpOutX[3],tmpOutY[3]);break e}A+=V}n.bezierCurveTo(he,le,Ie,Fe,pe,Lt),h=pe,v=Lt;break}case CMD$2.Q:{var he=o[L++],le=o[L++],Ie=o[L++],Fe=o[L++];if(y){var V=_[w++];if(A+V>T){var z=(T-A)/V;quadraticSubdivide(h,he,Ie,z,tmpOutX),quadraticSubdivide(v,le,Fe,z,tmpOutY),n.quadraticCurveTo(tmpOutX[1],tmpOutY[1],tmpOutX[2],tmpOutY[2]);break e}A+=V}n.quadraticCurveTo(he,le,Ie,Fe),h=Ie,v=Fe;break}case CMD$2.A:var _e=o[L++],Et=o[L++],Cn=o[L++],vn=o[L++],Dt=o[L++],de=o[L++],qe=o[L++],Pt=!o[L++],In=Cn>vn?Cn:vn,$e=mathAbs$1(Cn-vn)>.001,Ce=Dt+de,ue=!1;if(y){var V=_[w++];A+V>T&&(Ce=Dt+de*(T-A)/V,ue=!0),A+=V}if($e&&n.ellipse?n.ellipse(_e,Et,Cn,vn,qe,Dt,Ce,Pt):n.arc(_e,Et,In,Dt,Ce,Pt),ue)break e;re&&(f=mathCos$3(Dt)*Cn+_e,d=mathSin$3(Dt)*vn+Et),h=mathCos$3(Ce)*Cn+_e,v=mathSin$3(Ce)*vn+Et;break;case CMD$2.R:f=h=o[L],d=v=o[L+1],g=o[L++],p=o[L++];var At=o[L++],Ne=o[L++];if(y){var V=_[w++];if(A+V>T){var Oe=T-A;n.moveTo(g,p),n.lineTo(g+mathMin$2(Oe,At),p),Oe-=At,Oe>0&&n.lineTo(g+At,p+mathMin$2(Oe,Ne)),Oe-=Ne,Oe>0&&n.lineTo(g+mathMax$2(At-Oe,0),p+Ne),Oe-=At,Oe>0&&n.lineTo(g,p+mathMax$2(Ne-Oe,0));break e}A+=V}n.rect(g,p,At,Ne);break;case CMD$2.Z:if(y){var V=_[w++];if(A+V>T){var z=(T-A)/V;n.lineTo(h*(1-z)+f*z,v*(1-z)+d*z);break e}A+=V}n.closePath(),h=f,v=d}}},r.prototype.clone=function(){var n=new r,i=this.data;return n.data=i.slice?i.slice():Array.prototype.slice.call(i),n._len=this._len,n},r.CMD=CMD$2,r.initDefaultProps=function(){var n=r.prototype;n._saveData=!0,n._ux=0,n._uy=0,n._pendingPtDist=0,n._version=0}(),r}();const PathProxy$1=PathProxy;function containStroke$4(r,n,i,o,a,u,c){if(a===0)return!1;var f=a,d=0,h=r;if(c>n+f&&c>o+f||c<n-f&&c<o-f||u>r+f&&u>i+f||u<r-f&&u<i-f)return!1;if(r!==i)d=(n-o)/(r-i),h=(r*o-i*n)/(r-i);else return Math.abs(u-r)<=f/2;var v=d*u-c+h,g=v*v/(d*d+1);return g<=f/2*f/2}function containStroke$3(r,n,i,o,a,u,c,f,d,h,v){if(d===0)return!1;var g=d;if(v>n+g&&v>o+g&&v>u+g&&v>f+g||v<n-g&&v<o-g&&v<u-g&&v<f-g||h>r+g&&h>i+g&&h>a+g&&h>c+g||h<r-g&&h<i-g&&h<a-g&&h<c-g)return!1;var p=cubicProjectPoint(r,n,i,o,a,u,c,f,h,v,null);return p<=g/2}function containStroke$2(r,n,i,o,a,u,c,f,d){if(c===0)return!1;var h=c;if(d>n+h&&d>o+h&&d>u+h||d<n-h&&d<o-h&&d<u-h||f>r+h&&f>i+h&&f>a+h||f<r-h&&f<i-h&&f<a-h)return!1;var v=quadraticProjectPoint(r,n,i,o,a,u,f,d,null);return v<=h/2}var PI2$5=Math.PI*2;function normalizeRadian(r){return r%=PI2$5,r<0&&(r+=PI2$5),r}var PI2$4=Math.PI*2;function containStroke$1(r,n,i,o,a,u,c,f,d){if(c===0)return!1;var h=c;f-=r,d-=n;var v=Math.sqrt(f*f+d*d);if(v-h>i||v+h<i)return!1;if(Math.abs(o-a)%PI2$4<1e-4)return!0;if(u){var g=o;o=normalizeRadian(a),a=normalizeRadian(g)}else o=normalizeRadian(o),a=normalizeRadian(a);o>a&&(a+=PI2$4);var p=Math.atan2(d,f);return p<0&&(p+=PI2$4),p>=o&&p<=a||p+PI2$4>=o&&p+PI2$4<=a}function windingLine(r,n,i,o,a,u){if(u>n&&u>o||u<n&&u<o||o===n)return 0;var c=(u-n)/(o-n),f=o<n?1:-1;(c===1||c===0)&&(f=o<n?.5:-.5);var d=c*(i-r)+r;return d===a?1/0:d>a?f:0}var CMD$1=PathProxy$1.CMD,PI2$3=Math.PI*2,EPSILON=1e-4;function isAroundEqual(r,n){return Math.abs(r-n)<EPSILON}var roots=[-1,-1,-1],extrema=[-1,-1];function swapExtrema(){var r=extrema[0];extrema[0]=extrema[1],extrema[1]=r}function windingCubic(r,n,i,o,a,u,c,f,d,h){if(h>n&&h>o&&h>u&&h>f||h<n&&h<o&&h<u&&h<f)return 0;var v=cubicRootAt(n,o,u,f,h,roots);if(v===0)return 0;for(var g=0,p=-1,y=void 0,_=void 0,b=0;b<v;b++){var A=roots[b],w=A===0||A===1?.5:1,T=cubicAt(r,i,a,c,A);T<d||(p<0&&(p=cubicExtrema(n,o,u,f,extrema),extrema[1]<extrema[0]&&p>1&&swapExtrema(),y=cubicAt(n,o,u,f,extrema[0]),p>1&&(_=cubicAt(n,o,u,f,extrema[1]))),p===2?A<extrema[0]?g+=y<n?w:-w:A<extrema[1]?g+=_<y?w:-w:g+=f<_?w:-w:A<extrema[0]?g+=y<n?w:-w:g+=f<y?w:-w)}return g}function windingQuadratic(r,n,i,o,a,u,c,f){if(f>n&&f>o&&f>u||f<n&&f<o&&f<u)return 0;var d=quadraticRootAt(n,o,u,f,roots);if(d===0)return 0;var h=quadraticExtremum(n,o,u);if(h>=0&&h<=1){for(var v=0,g=quadraticAt(n,o,u,h),p=0;p<d;p++){var y=roots[p]===0||roots[p]===1?.5:1,_=quadraticAt(r,i,a,roots[p]);_<c||(roots[p]<h?v+=g<n?y:-y:v+=u<g?y:-y)}return v}else{var y=roots[0]===0||roots[0]===1?.5:1,_=quadraticAt(r,i,a,roots[0]);return _<c?0:u<n?y:-y}}function windingArc(r,n,i,o,a,u,c,f){if(f-=n,f>i||f<-i)return 0;var d=Math.sqrt(i*i-f*f);roots[0]=-d,roots[1]=d;var h=Math.abs(o-a);if(h<1e-4)return 0;if(h>=PI2$3-1e-4){o=0,a=PI2$3;var v=u?1:-1;return c>=roots[0]+r&&c<=roots[1]+r?v:0}if(o>a){var g=o;o=a,a=g}o<0&&(o+=PI2$3,a+=PI2$3);for(var p=0,y=0;y<2;y++){var _=roots[y];if(_+r>c){var b=Math.atan2(f,_),v=u?1:-1;b<0&&(b=PI2$3+b),(b>=o&&b<=a||b+PI2$3>=o&&b+PI2$3<=a)&&(b>Math.PI/2&&b<Math.PI*1.5&&(v=-v),p+=v)}}return p}function containPath(r,n,i,o,a){for(var u=r.data,c=r.len(),f=0,d=0,h=0,v=0,g=0,p,y,_=0;_<c;){var b=u[_++],A=_===1;switch(b===CMD$1.M&&_>1&&(i||(f+=windingLine(d,h,v,g,o,a))),A&&(d=u[_],h=u[_+1],v=d,g=h),b){case CMD$1.M:v=u[_++],g=u[_++],d=v,h=g;break;case CMD$1.L:if(i){if(containStroke$4(d,h,u[_],u[_+1],n,o,a))return!0}else f+=windingLine(d,h,u[_],u[_+1],o,a)||0;d=u[_++],h=u[_++];break;case CMD$1.C:if(i){if(containStroke$3(d,h,u[_++],u[_++],u[_++],u[_++],u[_],u[_+1],n,o,a))return!0}else f+=windingCubic(d,h,u[_++],u[_++],u[_++],u[_++],u[_],u[_+1],o,a)||0;d=u[_++],h=u[_++];break;case CMD$1.Q:if(i){if(containStroke$2(d,h,u[_++],u[_++],u[_],u[_+1],n,o,a))return!0}else f+=windingQuadratic(d,h,u[_++],u[_++],u[_],u[_+1],o,a)||0;d=u[_++],h=u[_++];break;case CMD$1.A:var w=u[_++],T=u[_++],S=u[_++],x=u[_++],O=u[_++],L=u[_++];_+=1;var M=!!(1-u[_++]);p=Math.cos(O)*S+w,y=Math.sin(O)*x+T,A?(v=p,g=y):f+=windingLine(d,h,p,y,o,a);var re=(o-w)*x/S+w;if(i){if(containStroke$1(w,T,x,O,O+L,M,n,re,a))return!0}else f+=windingArc(w,T,x,O,O+L,M,re,a);d=Math.cos(O+L)*S+w,h=Math.sin(O+L)*x+T;break;case CMD$1.R:v=d=u[_++],g=h=u[_++];var F=u[_++],j=u[_++];if(p=v+F,y=g+j,i){if(containStroke$4(v,g,p,g,n,o,a)||containStroke$4(p,g,p,y,n,o,a)||containStroke$4(p,y,v,y,n,o,a)||containStroke$4(v,y,v,g,n,o,a))return!0}else f+=windingLine(p,g,p,y,o,a),f+=windingLine(v,y,v,g,o,a);break;case CMD$1.Z:if(i){if(containStroke$4(d,h,v,g,n,o,a))return!0}else f+=windingLine(d,h,v,g,o,a);d=v,h=g;break}}return!i&&!isAroundEqual(h,g)&&(f+=windingLine(d,h,v,g,o,a)||0),f!==0}function contain(r,n,i){return containPath(r,0,!1,n,i)}function containStroke(r,n,i,o){return containPath(r,n,!0,i,o)}var DEFAULT_PATH_STYLE=defaults({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},DEFAULT_COMMON_STYLE),DEFAULT_PATH_ANIMATION_PROPS={style:defaults({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},DEFAULT_COMMON_ANIMATION_PROPS.style)},pathCopyParams=TRANSFORMABLE_PROPS.concat(["invisible","culling","z","z2","zlevel","parent"]),Path=function(r){__extends(n,r);function n(i){return r.call(this,i)||this}return n.prototype.update=function(){var i=this;r.prototype.update.call(this);var o=this.style;if(o.decal){var a=this._decalEl=this._decalEl||new n;a.buildPath===n.prototype.buildPath&&(a.buildPath=function(d){i.buildPath(d,i.shape)}),a.silent=!0;var u=a.style;for(var c in o)u[c]!==o[c]&&(u[c]=o[c]);u.fill=o.fill?o.decal:null,u.decal=null,u.shadowColor=null,o.strokeFirst&&(u.stroke=null);for(var f=0;f<pathCopyParams.length;++f)a[pathCopyParams[f]]=this[pathCopyParams[f]];a.__dirty|=REDRAW_BIT}else this._decalEl&&(this._decalEl=null)},n.prototype.getDecalElement=function(){return this._decalEl},n.prototype._init=function(i){var o=keys(i);this.shape=this.getDefaultShape();var a=this.getDefaultStyle();a&&this.useStyle(a);for(var u=0;u<o.length;u++){var c=o[u],f=i[c];c==="style"?this.style?extend(this.style,f):this.useStyle(f):c==="shape"?extend(this.shape,f):r.prototype.attrKV.call(this,c,f)}this.style||this.useStyle({})},n.prototype.getDefaultStyle=function(){return null},n.prototype.getDefaultShape=function(){return{}},n.prototype.canBeInsideText=function(){return this.hasFill()},n.prototype.getInsideTextFill=function(){var i=this.style.fill;if(i!=="none"){if(isString$2(i)){var o=lum(i,0);return o>.5?DARK_LABEL_COLOR:o>.2?LIGHTER_LABEL_COLOR:LIGHT_LABEL_COLOR}else if(i)return LIGHT_LABEL_COLOR}return DARK_LABEL_COLOR},n.prototype.getInsideTextStroke=function(i){var o=this.style.fill;if(isString$2(o)){var a=this.__zr,u=!!(a&&a.isDarkMode()),c=lum(i,0)<DARK_MODE_THRESHOLD;if(u===c)return o}},n.prototype.buildPath=function(i,o,a){},n.prototype.pathUpdated=function(){this.__dirty&=~SHAPE_CHANGED_BIT},n.prototype.getUpdatedPathProxy=function(i){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,i),this.path},n.prototype.createPathProxy=function(){this.path=new PathProxy$1(!1)},n.prototype.hasStroke=function(){var i=this.style,o=i.stroke;return!(o==null||o==="none"||!(i.lineWidth>0))},n.prototype.hasFill=function(){var i=this.style,o=i.fill;return o!=null&&o!=="none"},n.prototype.getBoundingRect=function(){var i=this._rect,o=this.style,a=!i;if(a){var u=!1;this.path||(u=!0,this.createPathProxy());var c=this.path;(u||this.__dirty&SHAPE_CHANGED_BIT)&&(c.beginPath(),this.buildPath(c,this.shape,!1),this.pathUpdated()),i=c.getBoundingRect()}if(this._rect=i,this.hasStroke()&&this.path&&this.path.len()>0){var f=this._rectStroke||(this._rectStroke=i.clone());if(this.__dirty||a){f.copy(i);var d=o.strokeNoScale?this.getLineScale():1,h=o.lineWidth;if(!this.hasFill()){var v=this.strokeContainThreshold;h=Math.max(h,v??4)}d>1e-10&&(f.width+=h/d,f.height+=h/d,f.x-=h/d/2,f.y-=h/d/2)}return f}return i},n.prototype.contain=function(i,o){var a=this.transformCoordToLocal(i,o),u=this.getBoundingRect(),c=this.style;if(i=a[0],o=a[1],u.contain(i,o)){var f=this.path;if(this.hasStroke()){var d=c.lineWidth,h=c.strokeNoScale?this.getLineScale():1;if(h>1e-10&&(this.hasFill()||(d=Math.max(d,this.strokeContainThreshold)),containStroke(f,d/h,i,o)))return!0}if(this.hasFill())return contain(f,i,o)}return!1},n.prototype.dirtyShape=function(){this.__dirty|=SHAPE_CHANGED_BIT,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},n.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},n.prototype.animateShape=function(i){return this.animate("shape",i)},n.prototype.updateDuringAnimation=function(i){i==="style"?this.dirtyStyle():i==="shape"?this.dirtyShape():this.markRedraw()},n.prototype.attrKV=function(i,o){i==="shape"?this.setShape(o):r.prototype.attrKV.call(this,i,o)},n.prototype.setShape=function(i,o){var a=this.shape;return a||(a=this.shape={}),typeof i=="string"?a[i]=o:extend(a,i),this.dirtyShape(),this},n.prototype.shapeChanged=function(){return!!(this.__dirty&SHAPE_CHANGED_BIT)},n.prototype.createStyle=function(i){return createObject(DEFAULT_PATH_STYLE,i)},n.prototype._innerSaveToNormal=function(i){r.prototype._innerSaveToNormal.call(this,i);var o=this._normalState;i.shape&&!o.shape&&(o.shape=extend({},this.shape))},n.prototype._applyStateObj=function(i,o,a,u,c,f){r.prototype._applyStateObj.call(this,i,o,a,u,c,f);var d=!(o&&u),h;if(o&&o.shape?c?u?h=o.shape:(h=extend({},a.shape),extend(h,o.shape)):(h=extend({},u?this.shape:a.shape),extend(h,o.shape)):d&&(h=a.shape),h)if(c){this.shape=extend({},this.shape);for(var v={},g=keys(h),p=0;p<g.length;p++){var y=g[p];typeof h[y]=="object"?this.shape[y]=h[y]:v[y]=h[y]}this._transitionState(i,{shape:v},f)}else this.shape=h,this.dirtyShape()},n.prototype._mergeStates=function(i){for(var o=r.prototype._mergeStates.call(this,i),a,u=0;u<i.length;u++){var c=i[u];c.shape&&(a=a||{},this._mergeStyle(a,c.shape))}return a&&(o.shape=a),o},n.prototype.getAnimationStyleProps=function(){return DEFAULT_PATH_ANIMATION_PROPS},n.prototype.isZeroArea=function(){return!1},n.extend=function(i){var o=function(u){__extends(c,u);function c(f){var d=u.call(this,f)||this;return i.init&&i.init.call(d,f),d}return c.prototype.getDefaultStyle=function(){return clone$2(i.style)},c.prototype.getDefaultShape=function(){return clone$2(i.shape)},c}(n);for(var a in i)typeof i[a]=="function"&&(o.prototype[a]=i[a]);return o},n.initDefaultProps=function(){var i=n.prototype;i.type="path",i.strokeContainThreshold=5,i.segmentIgnoreThreshold=0,i.subPixelOptimize=!1,i.autoBatch=!1,i.__dirty=REDRAW_BIT|STYLE_CHANGED_BIT|SHAPE_CHANGED_BIT}(),n}(Displayable$1);const Path$1=Path;var DEFAULT_TSPAN_STYLE=defaults({strokeFirst:!0,font:DEFAULT_FONT,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},DEFAULT_PATH_STYLE),TSpan=function(r){__extends(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return n.prototype.hasStroke=function(){var i=this.style,o=i.stroke;return o!=null&&o!=="none"&&i.lineWidth>0},n.prototype.hasFill=function(){var i=this.style,o=i.fill;return o!=null&&o!=="none"},n.prototype.createStyle=function(i){return createObject(DEFAULT_TSPAN_STYLE,i)},n.prototype.setBoundingRect=function(i){this._rect=i},n.prototype.getBoundingRect=function(){var i=this.style;if(!this._rect){var o=i.text;o!=null?o+="":o="";var a=getBoundingRect(o,i.font,i.textAlign,i.textBaseline);if(a.x+=i.x||0,a.y+=i.y||0,this.hasStroke()){var u=i.lineWidth;a.x-=u/2,a.y-=u/2,a.width+=u,a.height+=u}this._rect=a}return this._rect},n.initDefaultProps=function(){var i=n.prototype;i.dirtyRectTolerance=10}(),n}(Displayable$1);TSpan.prototype.type="tspan";const TSpan$1=TSpan;var DEFAULT_IMAGE_STYLE=defaults({x:0,y:0},DEFAULT_COMMON_STYLE),DEFAULT_IMAGE_ANIMATION_PROPS={style:defaults({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},DEFAULT_COMMON_ANIMATION_PROPS.style)};function isImageLike$1(r){return!!(r&&typeof r!="string"&&r.width&&r.height)}var ZRImage=function(r){__extends(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return n.prototype.createStyle=function(i){return createObject(DEFAULT_IMAGE_STYLE,i)},n.prototype._getSize=function(i){var o=this.style,a=o[i];if(a!=null)return a;var u=isImageLike$1(o.image)?o.image:this.__image;if(!u)return 0;var c=i==="width"?"height":"width",f=o[c];return f==null?u[i]:u[i]/u[c]*f},n.prototype.getWidth=function(){return this._getSize("width")},n.prototype.getHeight=function(){return this._getSize("height")},n.prototype.getAnimationStyleProps=function(){return DEFAULT_IMAGE_ANIMATION_PROPS},n.prototype.getBoundingRect=function(){var i=this.style;return this._rect||(this._rect=new BoundingRect$1(i.x||0,i.y||0,this.getWidth(),this.getHeight())),this._rect},n}(Displayable$1);ZRImage.prototype.type="image";const ZRImage$1=ZRImage;function buildPath$2(r,n){var i=n.x,o=n.y,a=n.width,u=n.height,c=n.r,f,d,h,v;a<0&&(i=i+a,a=-a),u<0&&(o=o+u,u=-u),typeof c=="number"?f=d=h=v=c:c instanceof Array?c.length===1?f=d=h=v=c[0]:c.length===2?(f=h=c[0],d=v=c[1]):c.length===3?(f=c[0],d=v=c[1],h=c[2]):(f=c[0],d=c[1],h=c[2],v=c[3]):f=d=h=v=0;var g;f+d>a&&(g=f+d,f*=a/g,d*=a/g),h+v>a&&(g=h+v,h*=a/g,v*=a/g),d+h>u&&(g=d+h,d*=u/g,h*=u/g),f+v>u&&(g=f+v,f*=u/g,v*=u/g),r.moveTo(i+f,o),r.lineTo(i+a-d,o),d!==0&&r.arc(i+a-d,o+d,d,-Math.PI/2,0),r.lineTo(i+a,o+u-h),h!==0&&r.arc(i+a-h,o+u-h,h,0,Math.PI/2),r.lineTo(i+v,o+u),v!==0&&r.arc(i+v,o+u-v,v,Math.PI/2,Math.PI),r.lineTo(i,o+f),f!==0&&r.arc(i+f,o+f,f,Math.PI,Math.PI*1.5)}var round$1=Math.round;function subPixelOptimizeLine$1(r,n,i){if(n){var o=n.x1,a=n.x2,u=n.y1,c=n.y2;r.x1=o,r.x2=a,r.y1=u,r.y2=c;var f=i&&i.lineWidth;return f&&(round$1(o*2)===round$1(a*2)&&(r.x1=r.x2=subPixelOptimize$1(o,f,!0)),round$1(u*2)===round$1(c*2)&&(r.y1=r.y2=subPixelOptimize$1(u,f,!0))),r}}function subPixelOptimizeRect$1(r,n,i){if(n){var o=n.x,a=n.y,u=n.width,c=n.height;r.x=o,r.y=a,r.width=u,r.height=c;var f=i&&i.lineWidth;return f&&(r.x=subPixelOptimize$1(o,f,!0),r.y=subPixelOptimize$1(a,f,!0),r.width=Math.max(subPixelOptimize$1(o+u,f,!1)-r.x,u===0?0:1),r.height=Math.max(subPixelOptimize$1(a+c,f,!1)-r.y,c===0?0:1)),r}}function subPixelOptimize$1(r,n,i){if(!n)return r;var o=round$1(r*2);return(o+round$1(n))%2===0?o/2:(o+(i?1:-1))/2}var RectShape=function(){function r(){this.x=0,this.y=0,this.width=0,this.height=0}return r}(),subPixelOptimizeOutputShape$1={},Rect=function(r){__extends(n,r);function n(i){return r.call(this,i)||this}return n.prototype.getDefaultShape=function(){return new RectShape},n.prototype.buildPath=function(i,o){var a,u,c,f;if(this.subPixelOptimize){var d=subPixelOptimizeRect$1(subPixelOptimizeOutputShape$1,o,this.style);a=d.x,u=d.y,c=d.width,f=d.height,d.r=o.r,o=d}else a=o.x,u=o.y,c=o.width,f=o.height;o.r?buildPath$2(i,o):i.rect(a,u,c,f)},n.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},n}(Path$1);Rect.prototype.type="rect";const Rect$1=Rect;var DEFAULT_RICH_TEXT_COLOR={fill:"#000"},DEFAULT_STROKE_LINE_WIDTH=2,DEFAULT_TEXT_ANIMATION_PROPS={style:defaults({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},DEFAULT_COMMON_ANIMATION_PROPS.style)},ZRText=function(r){__extends(n,r);function n(i){var o=r.call(this)||this;return o.type="text",o._children=[],o._defaultStyle=DEFAULT_RICH_TEXT_COLOR,o.attr(i),o}return n.prototype.childrenRef=function(){return this._children},n.prototype.update=function(){r.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var i=0;i<this._children.length;i++){var o=this._children[i];o.zlevel=this.zlevel,o.z=this.z,o.z2=this.z2,o.culling=this.culling,o.cursor=this.cursor,o.invisible=this.invisible}},n.prototype.updateTransform=function(){var i=this.innerTransformable;i?(i.updateTransform(),i.transform&&(this.transform=i.transform)):r.prototype.updateTransform.call(this)},n.prototype.getLocalTransform=function(i){var o=this.innerTransformable;return o?o.getLocalTransform(i):r.prototype.getLocalTransform.call(this,i)},n.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),r.prototype.getComputedTransform.call(this)},n.prototype._updateSubTexts=function(){this._childCursor=0,normalizeTextStyle(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},n.prototype.addSelfToZr=function(i){r.prototype.addSelfToZr.call(this,i);for(var o=0;o<this._children.length;o++)this._children[o].__zr=i},n.prototype.removeSelfFromZr=function(i){r.prototype.removeSelfFromZr.call(this,i);for(var o=0;o<this._children.length;o++)this._children[o].__zr=null},n.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var i=new BoundingRect$1(0,0,0,0),o=this._children,a=[],u=null,c=0;c<o.length;c++){var f=o[c],d=f.getBoundingRect(),h=f.getLocalTransform(a);h?(i.copy(d),i.applyTransform(h),u=u||i.clone(),u.union(i)):(u=u||d.clone(),u.union(d))}this._rect=u||i}return this._rect},n.prototype.setDefaultTextStyle=function(i){this._defaultStyle=i||DEFAULT_RICH_TEXT_COLOR},n.prototype.setTextContent=function(i){if(process.env.NODE_ENV!=="production")throw new Error("Can't attach text on another text")},n.prototype._mergeStyle=function(i,o){if(!o)return i;var a=o.rich,u=i.rich||a&&{};return extend(i,o),a&&u?(this._mergeRich(u,a),i.rich=u):u&&(i.rich=u),i},n.prototype._mergeRich=function(i,o){for(var a=keys(o),u=0;u<a.length;u++){var c=a[u];i[c]=i[c]||{},extend(i[c],o[c])}},n.prototype.getAnimationStyleProps=function(){return DEFAULT_TEXT_ANIMATION_PROPS},n.prototype._getOrCreateChild=function(i){var o=this._children[this._childCursor];return(!o||!(o instanceof i))&&(o=new i),this._children[this._childCursor++]=o,o.__zr=this.__zr,o.parent=this,o},n.prototype._updatePlainTexts=function(){var i=this.style,o=i.font||DEFAULT_FONT,a=i.padding,u=getStyleText(i),c=parsePlainText(u,i),f=needDrawBackground(i),d=!!i.backgroundColor,h=c.outerHeight,v=c.outerWidth,g=c.contentWidth,p=c.lines,y=c.lineHeight,_=this._defaultStyle,b=i.x||0,A=i.y||0,w=i.align||_.align||"left",T=i.verticalAlign||_.verticalAlign||"top",S=b,x=adjustTextY(A,c.contentHeight,T);if(f||a){var O=adjustTextX(b,v,w),L=adjustTextY(A,h,T);f&&this._renderBackground(i,i,O,L,v,h)}x+=y/2,a&&(S=getTextXForPadding(b,w,a),T==="top"?x+=a[0]:T==="bottom"&&(x-=a[2]));for(var M=0,re=!1,F=getFill("fill"in i?i.fill:(re=!0,_.fill)),j=getStroke("stroke"in i?i.stroke:!d&&(!_.autoStroke||re)?(M=DEFAULT_STROKE_LINE_WIDTH,_.stroke):null),V=i.textShadowBlur>0,z=i.width!=null&&(i.overflow==="truncate"||i.overflow==="break"||i.overflow==="breakAll"),$=c.calculatedLineHeight,he=0;he<p.length;he++){var le=this._getOrCreateChild(TSpan$1),Ie=le.createStyle();le.useStyle(Ie),Ie.text=p[he],Ie.x=S,Ie.y=x,w&&(Ie.textAlign=w),Ie.textBaseline="middle",Ie.opacity=i.opacity,Ie.strokeFirst=!0,V&&(Ie.shadowBlur=i.textShadowBlur||0,Ie.shadowColor=i.textShadowColor||"transparent",Ie.shadowOffsetX=i.textShadowOffsetX||0,Ie.shadowOffsetY=i.textShadowOffsetY||0),Ie.stroke=j,Ie.fill=F,j&&(Ie.lineWidth=i.lineWidth||M,Ie.lineDash=i.lineDash,Ie.lineDashOffset=i.lineDashOffset||0),Ie.font=o,setSeparateFont(Ie,i),x+=y,z&&le.setBoundingRect(new BoundingRect$1(adjustTextX(Ie.x,i.width,Ie.textAlign),adjustTextY(Ie.y,$,Ie.textBaseline),g,$))}},n.prototype._updateRichTexts=function(){var i=this.style,o=getStyleText(i),a=parseRichText(o,i),u=a.width,c=a.outerWidth,f=a.outerHeight,d=i.padding,h=i.x||0,v=i.y||0,g=this._defaultStyle,p=i.align||g.align,y=i.verticalAlign||g.verticalAlign,_=adjustTextX(h,c,p),b=adjustTextY(v,f,y),A=_,w=b;d&&(A+=d[3],w+=d[0]);var T=A+u;needDrawBackground(i)&&this._renderBackground(i,i,_,b,c,f);for(var S=!!i.backgroundColor,x=0;x<a.lines.length;x++){for(var O=a.lines[x],L=O.tokens,M=L.length,re=O.lineHeight,F=O.width,j=0,V=A,z=T,$=M-1,he=void 0;j<M&&(he=L[j],!he.align||he.align==="left");)this._placeToken(he,i,re,w,V,"left",S),F-=he.width,V+=he.width,j++;for(;$>=0&&(he=L[$],he.align==="right");)this._placeToken(he,i,re,w,z,"right",S),F-=he.width,z-=he.width,$--;for(V+=(u-(V-A)-(T-z)-F)/2;j<=$;)he=L[j],this._placeToken(he,i,re,w,V+he.width/2,"center",S),V+=he.width,j++;w+=re}},n.prototype._placeToken=function(i,o,a,u,c,f,d){var h=o.rich[i.styleName]||{};h.text=i.text;var v=i.verticalAlign,g=u+a/2;v==="top"?g=u+i.height/2:v==="bottom"&&(g=u+a-i.height/2);var p=!i.isLineHolder&&needDrawBackground(h);p&&this._renderBackground(h,o,f==="right"?c-i.width:f==="center"?c-i.width/2:c,g-i.height/2,i.width,i.height);var y=!!h.backgroundColor,_=i.textPadding;_&&(c=getTextXForPadding(c,f,_),g-=i.height/2-_[0]-i.innerHeight/2);var b=this._getOrCreateChild(TSpan$1),A=b.createStyle();b.useStyle(A);var w=this._defaultStyle,T=!1,S=0,x=getFill("fill"in h?h.fill:"fill"in o?o.fill:(T=!0,w.fill)),O=getStroke("stroke"in h?h.stroke:"stroke"in o?o.stroke:!y&&!d&&(!w.autoStroke||T)?(S=DEFAULT_STROKE_LINE_WIDTH,w.stroke):null),L=h.textShadowBlur>0||o.textShadowBlur>0;A.text=i.text,A.x=c,A.y=g,L&&(A.shadowBlur=h.textShadowBlur||o.textShadowBlur||0,A.shadowColor=h.textShadowColor||o.textShadowColor||"transparent",A.shadowOffsetX=h.textShadowOffsetX||o.textShadowOffsetX||0,A.shadowOffsetY=h.textShadowOffsetY||o.textShadowOffsetY||0),A.textAlign=f,A.textBaseline="middle",A.font=i.font||DEFAULT_FONT,A.opacity=retrieve3(h.opacity,o.opacity,1),setSeparateFont(A,h),O&&(A.lineWidth=retrieve3(h.lineWidth,o.lineWidth,S),A.lineDash=retrieve2(h.lineDash,o.lineDash),A.lineDashOffset=o.lineDashOffset||0,A.stroke=O),x&&(A.fill=x);var M=i.contentWidth,re=i.contentHeight;b.setBoundingRect(new BoundingRect$1(adjustTextX(A.x,M,A.textAlign),adjustTextY(A.y,re,A.textBaseline),M,re))},n.prototype._renderBackground=function(i,o,a,u,c,f){var d=i.backgroundColor,h=i.borderWidth,v=i.borderColor,g=d&&d.image,p=d&&!g,y=i.borderRadius,_=this,b,A;if(p||i.lineHeight||h&&v){b=this._getOrCreateChild(Rect$1),b.useStyle(b.createStyle()),b.style.fill=null;var w=b.shape;w.x=a,w.y=u,w.width=c,w.height=f,w.r=y,b.dirtyShape()}if(p){var T=b.style;T.fill=d||null,T.fillOpacity=retrieve2(i.fillOpacity,1)}else if(g){A=this._getOrCreateChild(ZRImage$1),A.onload=function(){_.dirtyStyle()};var S=A.style;S.image=d.image,S.x=a,S.y=u,S.width=c,S.height=f}if(h&&v){var T=b.style;T.lineWidth=h,T.stroke=v,T.strokeOpacity=retrieve2(i.strokeOpacity,1),T.lineDash=i.borderDash,T.lineDashOffset=i.borderDashOffset||0,b.strokeContainThreshold=0,b.hasFill()&&b.hasStroke()&&(T.strokeFirst=!0,T.lineWidth*=2)}var x=(b||A).style;x.shadowBlur=i.shadowBlur||0,x.shadowColor=i.shadowColor||"transparent",x.shadowOffsetX=i.shadowOffsetX||0,x.shadowOffsetY=i.shadowOffsetY||0,x.opacity=retrieve3(i.opacity,o.opacity,1)},n.makeFont=function(i){var o="";return hasSeparateFont(i)&&(o=[i.fontStyle,i.fontWeight,parseFontSize(i.fontSize),i.fontFamily||"sans-serif"].join(" ")),o&&trim(o)||i.textFont||i.font},n}(Displayable$1),VALID_TEXT_ALIGN={left:!0,right:1,center:1},VALID_TEXT_VERTICAL_ALIGN={top:1,bottom:1,middle:1},FONT_PARTS=["fontStyle","fontWeight","fontSize","fontFamily"];function parseFontSize(r){return typeof r=="string"&&(r.indexOf("px")!==-1||r.indexOf("rem")!==-1||r.indexOf("em")!==-1)?r:isNaN(+r)?DEFAULT_FONT_SIZE+"px":r+"px"}function setSeparateFont(r,n){for(var i=0;i<FONT_PARTS.length;i++){var o=FONT_PARTS[i],a=n[o];a!=null&&(r[o]=a)}}function hasSeparateFont(r){return r.fontSize!=null||r.fontFamily||r.fontWeight}function normalizeTextStyle(r){return normalizeStyle(r),each$4(r.rich,normalizeStyle),r}function normalizeStyle(r){if(r){r.font=ZRText.makeFont(r);var n=r.align;n==="middle"&&(n="center"),r.align=n==null||VALID_TEXT_ALIGN[n]?n:"left";var i=r.verticalAlign;i==="center"&&(i="middle"),r.verticalAlign=i==null||VALID_TEXT_VERTICAL_ALIGN[i]?i:"top";var o=r.padding;o&&(r.padding=normalizeCssArray$1(r.padding))}}function getStroke(r,n){return r==null||n<=0||r==="transparent"||r==="none"?null:r.image||r.colorStops?"#000":r}function getFill(r){return r==null||r==="none"?null:r.image||r.colorStops?"#000":r}function getTextXForPadding(r,n,i){return n==="right"?r-i[1]:n==="center"?r+i[3]/2-i[1]/2:r+i[3]}function getStyleText(r){var n=r.text;return n!=null&&(n+=""),n}function needDrawBackground(r){return!!(r.backgroundColor||r.lineHeight||r.borderWidth&&r.borderColor)}const ZRText$1=ZRText;var getECData=makeInner(),setCommonECData=function(r,n,i,o){if(o){var a=getECData(o);a.dataIndex=i,a.dataType=n,a.seriesIndex=r,o.type==="group"&&o.traverse(function(u){var c=getECData(u);c.seriesIndex=r,c.dataIndex=i,c.dataType=n})}},_highlightNextDigit=1,_highlightKeyMap={},getSavedStates=makeInner(),getComponentStates=makeInner(),HOVER_STATE_NORMAL=0,HOVER_STATE_BLUR=1,HOVER_STATE_EMPHASIS=2,SPECIAL_STATES=["emphasis","blur","select"],DISPLAY_STATES=["normal","emphasis","blur","select"],Z2_EMPHASIS_LIFT=10,Z2_SELECT_LIFT=9,HIGHLIGHT_ACTION_TYPE="highlight",DOWNPLAY_ACTION_TYPE="downplay",SELECT_ACTION_TYPE="select",UNSELECT_ACTION_TYPE="unselect",TOGGLE_SELECT_ACTION_TYPE="toggleSelect";function hasFillOrStroke(r){return r!=null&&r!=="none"}var liftedColorCache=new LRU$1(100);function liftColor(r){if(isString$2(r)){var n=liftedColorCache.get(r);return n||(n=lift(r,-.1),liftedColorCache.put(r,n)),n}else if(isGradientObject(r)){var i=extend({},r);return i.colorStops=map$1(r.colorStops,function(o){return{offset:o.offset,color:lift(o.color,-.1)}}),i}return r}function doChangeHoverState(r,n,i){r.onHoverStateChange&&(r.hoverState||0)!==i&&r.onHoverStateChange(n),r.hoverState=i}function singleEnterEmphasis(r){doChangeHoverState(r,"emphasis",HOVER_STATE_EMPHASIS)}function singleLeaveEmphasis(r){r.hoverState===HOVER_STATE_EMPHASIS&&doChangeHoverState(r,"normal",HOVER_STATE_NORMAL)}function singleEnterBlur(r){doChangeHoverState(r,"blur",HOVER_STATE_BLUR)}function singleLeaveBlur(r){r.hoverState===HOVER_STATE_BLUR&&doChangeHoverState(r,"normal",HOVER_STATE_NORMAL)}function singleEnterSelect(r){r.selected=!0}function singleLeaveSelect(r){r.selected=!1}function updateElementState(r,n,i){n(r,i)}function traverseUpdateState(r,n,i){updateElementState(r,n,i),r.isGroup&&r.traverse(function(o){updateElementState(o,n,i)})}function getFromStateStyle(r,n,i,o){for(var a=r.style,u={},c=0;c<n.length;c++){var f=n[c],d=a[f];u[f]=d??(o&&o[f])}for(var c=0;c<r.animators.length;c++){var h=r.animators[c];h.__fromStateTransition&&h.__fromStateTransition.indexOf(i)<0&&h.targetName==="style"&&h.saveTo(u,n)}return u}function createEmphasisDefaultState(r,n,i,o){var a=i&&indexOf(i,"select")>=0,u=!1;if(r instanceof Path$1){var c=getSavedStates(r),f=a&&c.selectFill||c.normalFill,d=a&&c.selectStroke||c.normalStroke;if(hasFillOrStroke(f)||hasFillOrStroke(d)){o=o||{};var h=o.style||{};h.fill==="inherit"?(u=!0,o=extend({},o),h=extend({},h),h.fill=f):!hasFillOrStroke(h.fill)&&hasFillOrStroke(f)?(u=!0,o=extend({},o),h=extend({},h),h.fill=liftColor(f)):!hasFillOrStroke(h.stroke)&&hasFillOrStroke(d)&&(u||(o=extend({},o),h=extend({},h)),h.stroke=liftColor(d)),o.style=h}}if(o&&o.z2==null){u||(o=extend({},o));var v=r.z2EmphasisLift;o.z2=r.z2+(v??Z2_EMPHASIS_LIFT)}return o}function createSelectDefaultState(r,n,i){if(i&&i.z2==null){i=extend({},i);var o=r.z2SelectLift;i.z2=r.z2+(o??Z2_SELECT_LIFT)}return i}function createBlurDefaultState(r,n,i){var o=indexOf(r.currentStates,n)>=0,a=r.style.opacity,u=o?null:getFromStateStyle(r,["opacity"],n,{opacity:1});i=i||{};var c=i.style||{};return c.opacity==null&&(i=extend({},i),c=extend({opacity:o?a:u.opacity*.1},c),i.style=c),i}function elementStateProxy(r,n){var i=this.states[r];if(this.style){if(r==="emphasis")return createEmphasisDefaultState(this,r,n,i);if(r==="blur")return createBlurDefaultState(this,r,i);if(r==="select")return createSelectDefaultState(this,r,i)}return i}function setDefaultStateProxy(r){r.stateProxy=elementStateProxy;var n=r.getTextContent(),i=r.getTextGuideLine();n&&(n.stateProxy=elementStateProxy),i&&(i.stateProxy=elementStateProxy)}function enterEmphasisWhenMouseOver(r,n){!shouldSilent(r,n)&&!r.__highByOuter&&traverseUpdateState(r,singleEnterEmphasis)}function leaveEmphasisWhenMouseOut(r,n){!shouldSilent(r,n)&&!r.__highByOuter&&traverseUpdateState(r,singleLeaveEmphasis)}function enterEmphasis(r,n){r.__highByOuter|=1<<(n||0),traverseUpdateState(r,singleEnterEmphasis)}function leaveEmphasis(r,n){!(r.__highByOuter&=~(1<<(n||0)))&&traverseUpdateState(r,singleLeaveEmphasis)}function enterBlur(r){traverseUpdateState(r,singleEnterBlur)}function leaveBlur(r){traverseUpdateState(r,singleLeaveBlur)}function enterSelect(r){traverseUpdateState(r,singleEnterSelect)}function leaveSelect(r){traverseUpdateState(r,singleLeaveSelect)}function shouldSilent(r,n){return r.__highDownSilentOnTouch&&n.zrByTouch}function allLeaveBlur(r){var n=r.getModel(),i=[],o=[];n.eachComponent(function(a,u){var c=getComponentStates(u),f=a==="series",d=f?r.getViewOfSeriesModel(u):r.getViewOfComponentModel(u);!f&&o.push(d),c.isBlured&&(d.group.traverse(function(h){singleLeaveBlur(h)}),f&&i.push(u)),c.isBlured=!1}),each$4(o,function(a){a&&a.toggleBlurSeries&&a.toggleBlurSeries(i,!1,n)})}function blurSeries(r,n,i,o){var a=o.getModel();i=i||"coordinateSystem";function u(h,v){for(var g=0;g<v.length;g++){var p=h.getItemGraphicEl(v[g]);p&&leaveBlur(p)}}if(r!=null&&!(!n||n==="none")){var c=a.getSeriesByIndex(r),f=c.coordinateSystem;f&&f.master&&(f=f.master);var d=[];a.eachSeries(function(h){var v=c===h,g=h.coordinateSystem;g&&g.master&&(g=g.master);var p=g&&f?g===f:v;if(!(i==="series"&&!v||i==="coordinateSystem"&&!p||n==="series"&&v)){var y=o.getViewOfSeriesModel(h);if(y.group.traverse(function(A){singleEnterBlur(A)}),isArrayLike(n))u(h.getData(),n);else if(isObject$3(n))for(var _=keys(n),b=0;b<_.length;b++)u(h.getData(_[b]),n[_[b]]);d.push(h),getComponentStates(h).isBlured=!0}}),a.eachComponent(function(h,v){if(h!=="series"){var g=o.getViewOfComponentModel(v);g&&g.toggleBlurSeries&&g.toggleBlurSeries(d,!0,a)}})}}function blurComponent(r,n,i){if(!(r==null||n==null)){var o=i.getModel().getComponent(r,n);if(o){getComponentStates(o).isBlured=!0;var a=i.getViewOfComponentModel(o);!a||!a.focusBlurEnabled||a.group.traverse(function(u){singleEnterBlur(u)})}}}function blurSeriesFromHighlightPayload(r,n,i){var o=r.seriesIndex,a=r.getData(n.dataType);if(!a){process.env.NODE_ENV!=="production"&&error("Unknown dataType "+n.dataType);return}var u=queryDataIndex(a,n);u=(isArray$1(u)?u[0]:u)||0;var c=a.getItemGraphicEl(u);if(!c)for(var f=a.count(),d=0;!c&&d<f;)c=a.getItemGraphicEl(d++);if(c){var h=getECData(c);blurSeries(o,h.focus,h.blurScope,i)}else{var v=r.get(["emphasis","focus"]),g=r.get(["emphasis","blurScope"]);v!=null&&blurSeries(o,v,g,i)}}function findComponentHighDownDispatchers(r,n,i,o){var a={focusSelf:!1,dispatchers:null};if(r==null||r==="series"||n==null||i==null)return a;var u=o.getModel().getComponent(r,n);if(!u)return a;var c=o.getViewOfComponentModel(u);if(!c||!c.findHighDownDispatchers)return a;for(var f=c.findHighDownDispatchers(i),d,h=0;h<f.length;h++)if(process.env.NODE_ENV!=="production"&&!isHighDownDispatcher(f[h])&&error("param should be highDownDispatcher"),getECData(f[h]).focus==="self"){d=!0;break}return{focusSelf:d,dispatchers:f}}function handleGlobalMouseOverForHighDown(r,n,i){process.env.NODE_ENV!=="production"&&!isHighDownDispatcher(r)&&error("param should be highDownDispatcher");var o=getECData(r),a=findComponentHighDownDispatchers(o.componentMainType,o.componentIndex,o.componentHighDownName,i),u=a.dispatchers,c=a.focusSelf;u?(c&&blurComponent(o.componentMainType,o.componentIndex,i),each$4(u,function(f){return enterEmphasisWhenMouseOver(f,n)})):(blurSeries(o.seriesIndex,o.focus,o.blurScope,i),o.focus==="self"&&blurComponent(o.componentMainType,o.componentIndex,i),enterEmphasisWhenMouseOver(r,n))}function handleGlobalMouseOutForHighDown(r,n,i){process.env.NODE_ENV!=="production"&&!isHighDownDispatcher(r)&&error("param should be highDownDispatcher"),allLeaveBlur(i);var o=getECData(r),a=findComponentHighDownDispatchers(o.componentMainType,o.componentIndex,o.componentHighDownName,i).dispatchers;a?each$4(a,function(u){return leaveEmphasisWhenMouseOut(u,n)}):leaveEmphasisWhenMouseOut(r,n)}function toggleSelectionFromPayload(r,n,i){if(isSelectChangePayload(n)){var o=n.dataType,a=r.getData(o),u=queryDataIndex(a,n);isArray$1(u)||(u=[u]),r[n.type===TOGGLE_SELECT_ACTION_TYPE?"toggleSelect":n.type===SELECT_ACTION_TYPE?"select":"unselect"](u,o)}}function updateSeriesElementSelection(r){var n=r.getAllData();each$4(n,function(i){var o=i.data,a=i.type;o.eachItemGraphicEl(function(u,c){r.isSelected(c,a)?enterSelect(u):leaveSelect(u)})})}function getAllSelectedIndices(r){var n=[];return r.eachSeries(function(i){var o=i.getAllData();each$4(o,function(a){a.data;var u=a.type,c=i.getSelectedDataIndices();if(c.length>0){var f={dataIndex:c,seriesIndex:i.seriesIndex};u!=null&&(f.dataType=u),n.push(f)}})}),n}function enableHoverEmphasis(r,n,i){setAsHighDownDispatcher(r,!0),traverseUpdateState(r,setDefaultStateProxy),enableHoverFocus(r,n,i)}function disableHoverEmphasis(r){setAsHighDownDispatcher(r,!1)}function toggleHoverEmphasis(r,n,i,o){o?disableHoverEmphasis(r):enableHoverEmphasis(r,n,i)}function enableHoverFocus(r,n,i){var o=getECData(r);n!=null?(o.focus=n,o.blurScope=i):o.focus&&(o.focus=null)}var OTHER_STATES=["emphasis","blur","select"],defaultStyleGetterMap={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function setStatesStylesFromModel(r,n,i,o){i=i||"itemStyle";for(var a=0;a<OTHER_STATES.length;a++){var u=OTHER_STATES[a],c=n.getModel([u,i]),f=r.ensureState(u);f.style=o?o(c):c[defaultStyleGetterMap[i]]()}}function setAsHighDownDispatcher(r,n){var i=n===!1,o=r;r.highDownSilentOnTouch&&(o.__highDownSilentOnTouch=r.highDownSilentOnTouch),(!i||o.__highDownDispatcher)&&(o.__highByOuter=o.__highByOuter||0,o.__highDownDispatcher=!i)}function isHighDownDispatcher(r){return!!(r&&r.__highDownDispatcher)}function getHighlightDigit(r){var n=_highlightKeyMap[r];return n==null&&_highlightNextDigit<=32&&(n=_highlightKeyMap[r]=_highlightNextDigit++),n}function isSelectChangePayload(r){var n=r.type;return n===SELECT_ACTION_TYPE||n===UNSELECT_ACTION_TYPE||n===TOGGLE_SELECT_ACTION_TYPE}function isHighDownPayload(r){var n=r.type;return n===HIGHLIGHT_ACTION_TYPE||n===DOWNPLAY_ACTION_TYPE}function savePathStates(r){var n=getSavedStates(r);n.normalFill=r.style.fill,n.normalStroke=r.style.stroke;var i=r.states.select||{};n.selectFill=i.style&&i.style.fill||null,n.selectStroke=i.style&&i.style.stroke||null}var CMD=PathProxy$1.CMD,points=[[],[],[]],mathSqrt$2=Math.sqrt,mathAtan2=Math.atan2;function transformPath(r,n){if(n){var i=r.data,o=r.len(),a,u,c,f,d,h,v=CMD.M,g=CMD.C,p=CMD.L,y=CMD.R,_=CMD.A,b=CMD.Q;for(c=0,f=0;c<o;){switch(a=i[c++],f=c,u=0,a){case v:u=1;break;case p:u=1;break;case g:u=3;break;case b:u=2;break;case _:var A=n[4],w=n[5],T=mathSqrt$2(n[0]*n[0]+n[1]*n[1]),S=mathSqrt$2(n[2]*n[2]+n[3]*n[3]),x=mathAtan2(-n[1]/S,n[0]/T);i[c]*=T,i[c++]+=A,i[c]*=S,i[c++]+=w,i[c++]*=T,i[c++]*=S,i[c++]+=x,i[c++]+=x,c+=2,f=c;break;case y:h[0]=i[c++],h[1]=i[c++],applyTransform$1(h,h,n),i[f++]=h[0],i[f++]=h[1],h[0]+=i[c++],h[1]+=i[c++],applyTransform$1(h,h,n),i[f++]=h[0],i[f++]=h[1]}for(d=0;d<u;d++){var O=points[d];O[0]=i[c++],O[1]=i[c++],applyTransform$1(O,O,n),i[f++]=O[0],i[f++]=O[1]}}r.increaseVersion()}}var mathSqrt$1=Math.sqrt,mathSin$2=Math.sin,mathCos$2=Math.cos,PI$4=Math.PI;function vMag(r){return Math.sqrt(r[0]*r[0]+r[1]*r[1])}function vRatio(r,n){return(r[0]*n[0]+r[1]*n[1])/(vMag(r)*vMag(n))}function vAngle(r,n){return(r[0]*n[1]<r[1]*n[0]?-1:1)*Math.acos(vRatio(r,n))}function processArc(r,n,i,o,a,u,c,f,d,h,v){var g=d*(PI$4/180),p=mathCos$2(g)*(r-i)/2+mathSin$2(g)*(n-o)/2,y=-1*mathSin$2(g)*(r-i)/2+mathCos$2(g)*(n-o)/2,_=p*p/(c*c)+y*y/(f*f);_>1&&(c*=mathSqrt$1(_),f*=mathSqrt$1(_));var b=(a===u?-1:1)*mathSqrt$1((c*c*(f*f)-c*c*(y*y)-f*f*(p*p))/(c*c*(y*y)+f*f*(p*p)))||0,A=b*c*y/f,w=b*-f*p/c,T=(r+i)/2+mathCos$2(g)*A-mathSin$2(g)*w,S=(n+o)/2+mathSin$2(g)*A+mathCos$2(g)*w,x=vAngle([1,0],[(p-A)/c,(y-w)/f]),O=[(p-A)/c,(y-w)/f],L=[(-1*p-A)/c,(-1*y-w)/f],M=vAngle(O,L);if(vRatio(O,L)<=-1&&(M=PI$4),vRatio(O,L)>=1&&(M=0),M<0){var re=Math.round(M/PI$4*1e6)/1e6;M=PI$4*2+re%2*PI$4}v.addData(h,T,S,c,f,x,M,g,u)}var commandReg=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,numberReg=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function createPathProxyFromString(r){var n=new PathProxy$1;if(!r)return n;var i=0,o=0,a=i,u=o,c,f=PathProxy$1.CMD,d=r.match(commandReg);if(!d)return n;for(var h=0;h<d.length;h++){for(var v=d[h],g=v.charAt(0),p=void 0,y=v.match(numberReg)||[],_=y.length,b=0;b<_;b++)y[b]=parseFloat(y[b]);for(var A=0;A<_;){var w=void 0,T=void 0,S=void 0,x=void 0,O=void 0,L=void 0,M=void 0,re=i,F=o,j=void 0,V=void 0;switch(g){case"l":i+=y[A++],o+=y[A++],p=f.L,n.addData(p,i,o);break;case"L":i=y[A++],o=y[A++],p=f.L,n.addData(p,i,o);break;case"m":i+=y[A++],o+=y[A++],p=f.M,n.addData(p,i,o),a=i,u=o,g="l";break;case"M":i=y[A++],o=y[A++],p=f.M,n.addData(p,i,o),a=i,u=o,g="L";break;case"h":i+=y[A++],p=f.L,n.addData(p,i,o);break;case"H":i=y[A++],p=f.L,n.addData(p,i,o);break;case"v":o+=y[A++],p=f.L,n.addData(p,i,o);break;case"V":o=y[A++],p=f.L,n.addData(p,i,o);break;case"C":p=f.C,n.addData(p,y[A++],y[A++],y[A++],y[A++],y[A++],y[A++]),i=y[A-2],o=y[A-1];break;case"c":p=f.C,n.addData(p,y[A++]+i,y[A++]+o,y[A++]+i,y[A++]+o,y[A++]+i,y[A++]+o),i+=y[A-2],o+=y[A-1];break;case"S":w=i,T=o,j=n.len(),V=n.data,c===f.C&&(w+=i-V[j-4],T+=o-V[j-3]),p=f.C,re=y[A++],F=y[A++],i=y[A++],o=y[A++],n.addData(p,w,T,re,F,i,o);break;case"s":w=i,T=o,j=n.len(),V=n.data,c===f.C&&(w+=i-V[j-4],T+=o-V[j-3]),p=f.C,re=i+y[A++],F=o+y[A++],i+=y[A++],o+=y[A++],n.addData(p,w,T,re,F,i,o);break;case"Q":re=y[A++],F=y[A++],i=y[A++],o=y[A++],p=f.Q,n.addData(p,re,F,i,o);break;case"q":re=y[A++]+i,F=y[A++]+o,i+=y[A++],o+=y[A++],p=f.Q,n.addData(p,re,F,i,o);break;case"T":w=i,T=o,j=n.len(),V=n.data,c===f.Q&&(w+=i-V[j-4],T+=o-V[j-3]),i=y[A++],o=y[A++],p=f.Q,n.addData(p,w,T,i,o);break;case"t":w=i,T=o,j=n.len(),V=n.data,c===f.Q&&(w+=i-V[j-4],T+=o-V[j-3]),i+=y[A++],o+=y[A++],p=f.Q,n.addData(p,w,T,i,o);break;case"A":S=y[A++],x=y[A++],O=y[A++],L=y[A++],M=y[A++],re=i,F=o,i=y[A++],o=y[A++],p=f.A,processArc(re,F,i,o,L,M,S,x,O,p,n);break;case"a":S=y[A++],x=y[A++],O=y[A++],L=y[A++],M=y[A++],re=i,F=o,i+=y[A++],o+=y[A++],p=f.A,processArc(re,F,i,o,L,M,S,x,O,p,n);break}}(g==="z"||g==="Z")&&(p=f.Z,n.addData(p),i=a,o=u),c=p}return n.toStatic(),n}var SVGPath=function(r){__extends(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return n.prototype.applyTransform=function(i){},n}(Path$1);function isPathProxy(r){return r.setData!=null}function createPathOptions(r,n){var i=createPathProxyFromString(r),o=extend({},n);return o.buildPath=function(a){if(isPathProxy(a)){a.setData(i.data);var u=a.getContext();u&&a.rebuildPath(u,1)}else{var u=a;i.rebuildPath(u,1)}},o.applyTransform=function(a){transformPath(i,a),this.dirtyShape()},o}function createFromString(r,n){return new SVGPath(createPathOptions(r,n))}function extendFromString(r,n){var i=createPathOptions(r,n),o=function(a){__extends(u,a);function u(c){var f=a.call(this,c)||this;return f.applyTransform=i.applyTransform,f.buildPath=i.buildPath,f}return u}(SVGPath);return o}function mergePath$1(r,n){for(var i=[],o=r.length,a=0;a<o;a++){var u=r[a];i.push(u.getUpdatedPathProxy(!0))}var c=new Path$1(n);return c.createPathProxy(),c.buildPath=function(f){if(isPathProxy(f)){f.appendPath(i);var d=f.getContext();d&&f.rebuildPath(d,1)}},c}var CircleShape=function(){function r(){this.cx=0,this.cy=0,this.r=0}return r}(),Circle=function(r){__extends(n,r);function n(i){return r.call(this,i)||this}return n.prototype.getDefaultShape=function(){return new CircleShape},n.prototype.buildPath=function(i,o){i.moveTo(o.cx+o.r,o.cy),i.arc(o.cx,o.cy,o.r,0,Math.PI*2)},n}(Path$1);Circle.prototype.type="circle";const Circle$1=Circle;var EllipseShape=function(){function r(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return r}(),Ellipse=function(r){__extends(n,r);function n(i){return r.call(this,i)||this}return n.prototype.getDefaultShape=function(){return new EllipseShape},n.prototype.buildPath=function(i,o){var a=.5522848,u=o.cx,c=o.cy,f=o.rx,d=o.ry,h=f*a,v=d*a;i.moveTo(u-f,c),i.bezierCurveTo(u-f,c-v,u-h,c-d,u,c-d),i.bezierCurveTo(u+h,c-d,u+f,c-v,u+f,c),i.bezierCurveTo(u+f,c+v,u+h,c+d,u,c+d),i.bezierCurveTo(u-h,c+d,u-f,c+v,u-f,c),i.closePath()},n}(Path$1);Ellipse.prototype.type="ellipse";const Ellipse$1=Ellipse;var PI$3=Math.PI,PI2$2=PI$3*2,mathSin$1=Math.sin,mathCos$1=Math.cos,mathACos=Math.acos,mathATan2=Math.atan2,mathAbs=Math.abs,mathSqrt=Math.sqrt,mathMax$1=Math.max,mathMin$1=Math.min,e=1e-4;function intersect(r,n,i,o,a,u,c,f){var d=i-r,h=o-n,v=c-a,g=f-u,p=g*d-v*h;if(!(p*p<e))return p=(v*(n-u)-g*(r-a))/p,[r+p*d,n+p*h]}function computeCornerTangents(r,n,i,o,a,u,c){var f=r-i,d=n-o,h=(c?u:-u)/mathSqrt(f*f+d*d),v=h*d,g=-h*f,p=r+v,y=n+g,_=i+v,b=o+g,A=(p+_)/2,w=(y+b)/2,T=_-p,S=b-y,x=T*T+S*S,O=a-u,L=p*b-_*y,M=(S<0?-1:1)*mathSqrt(mathMax$1(0,O*O*x-L*L)),re=(L*S-T*M)/x,F=(-L*T-S*M)/x,j=(L*S+T*M)/x,V=(-L*T+S*M)/x,z=re-A,$=F-w,he=j-A,le=V-w;return z*z+$*$>he*he+le*le&&(re=j,F=V),{cx:re,cy:F,x0:-v,y0:-g,x1:re*(a/O-1),y1:F*(a/O-1)}}function normalizeCornerRadius(r){var n;if(isArray$1(r)){var i=r.length;if(!i)return r;i===1?n=[r[0],r[0],0,0]:i===2?n=[r[0],r[0],r[1],r[1]]:i===3?n=r.concat(r[2]):n=r}else n=[r,r,r,r];return n}function buildPath$1(r,n){var i,o=mathMax$1(n.r,0),a=mathMax$1(n.r0||0,0),u=o>0,c=a>0;if(!(!u&&!c)){if(u||(o=a,a=0),a>o){var f=o;o=a,a=f}var d=n.startAngle,h=n.endAngle;if(!(isNaN(d)||isNaN(h))){var v=n.cx,g=n.cy,p=!!n.clockwise,y=mathAbs(h-d),_=y>PI2$2&&y%PI2$2;if(_>e&&(y=_),!(o>e))r.moveTo(v,g);else if(y>PI2$2-e)r.moveTo(v+o*mathCos$1(d),g+o*mathSin$1(d)),r.arc(v,g,o,d,h,!p),a>e&&(r.moveTo(v+a*mathCos$1(h),g+a*mathSin$1(h)),r.arc(v,g,a,h,d,p));else{var b=void 0,A=void 0,w=void 0,T=void 0,S=void 0,x=void 0,O=void 0,L=void 0,M=void 0,re=void 0,F=void 0,j=void 0,V=void 0,z=void 0,$=void 0,he=void 0,le=o*mathCos$1(d),Ie=o*mathSin$1(d),Fe=a*mathCos$1(h),pe=a*mathSin$1(h),Lt=y>e;if(Lt){var _e=n.cornerRadius;_e&&(i=normalizeCornerRadius(_e),b=i[0],A=i[1],w=i[2],T=i[3]);var Et=mathAbs(o-a)/2;if(S=mathMin$1(Et,w),x=mathMin$1(Et,T),O=mathMin$1(Et,b),L=mathMin$1(Et,A),F=M=mathMax$1(S,x),j=re=mathMax$1(O,L),(M>e||re>e)&&(V=o*mathCos$1(h),z=o*mathSin$1(h),$=a*mathCos$1(d),he=a*mathSin$1(d),y<PI$3)){var Cn=intersect(le,Ie,$,he,V,z,Fe,pe);if(Cn){var vn=le-Cn[0],Dt=Ie-Cn[1],de=V-Cn[0],qe=z-Cn[1],Pt=1/mathSin$1(mathACos((vn*de+Dt*qe)/(mathSqrt(vn*vn+Dt*Dt)*mathSqrt(de*de+qe*qe)))/2),In=mathSqrt(Cn[0]*Cn[0]+Cn[1]*Cn[1]);F=mathMin$1(M,(o-In)/(Pt+1)),j=mathMin$1(re,(a-In)/(Pt-1))}}}if(!Lt)r.moveTo(v+le,g+Ie);else if(F>e){var $e=mathMin$1(w,F),Ce=mathMin$1(T,F),ue=computeCornerTangents($,he,le,Ie,o,$e,p),At=computeCornerTangents(V,z,Fe,pe,o,Ce,p);r.moveTo(v+ue.cx+ue.x0,g+ue.cy+ue.y0),F<M&&$e===Ce?r.arc(v+ue.cx,g+ue.cy,F,mathATan2(ue.y0,ue.x0),mathATan2(At.y0,At.x0),!p):($e>0&&r.arc(v+ue.cx,g+ue.cy,$e,mathATan2(ue.y0,ue.x0),mathATan2(ue.y1,ue.x1),!p),r.arc(v,g,o,mathATan2(ue.cy+ue.y1,ue.cx+ue.x1),mathATan2(At.cy+At.y1,At.cx+At.x1),!p),Ce>0&&r.arc(v+At.cx,g+At.cy,Ce,mathATan2(At.y1,At.x1),mathATan2(At.y0,At.x0),!p))}else r.moveTo(v+le,g+Ie),r.arc(v,g,o,d,h,!p);if(!(a>e)||!Lt)r.lineTo(v+Fe,g+pe);else if(j>e){var $e=mathMin$1(b,j),Ce=mathMin$1(A,j),ue=computeCornerTangents(Fe,pe,V,z,a,-Ce,p),At=computeCornerTangents(le,Ie,$,he,a,-$e,p);r.lineTo(v+ue.cx+ue.x0,g+ue.cy+ue.y0),j<re&&$e===Ce?r.arc(v+ue.cx,g+ue.cy,j,mathATan2(ue.y0,ue.x0),mathATan2(At.y0,At.x0),!p):(Ce>0&&r.arc(v+ue.cx,g+ue.cy,Ce,mathATan2(ue.y0,ue.x0),mathATan2(ue.y1,ue.x1),!p),r.arc(v,g,a,mathATan2(ue.cy+ue.y1,ue.cx+ue.x1),mathATan2(At.cy+At.y1,At.cx+At.x1),p),$e>0&&r.arc(v+At.cx,g+At.cy,$e,mathATan2(At.y1,At.x1),mathATan2(At.y0,At.x0),!p))}else r.lineTo(v+Fe,g+pe),r.arc(v,g,a,h,d,p)}r.closePath()}}}var SectorShape=function(){function r(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return r}(),Sector=function(r){__extends(n,r);function n(i){return r.call(this,i)||this}return n.prototype.getDefaultShape=function(){return new SectorShape},n.prototype.buildPath=function(i,o){buildPath$1(i,o)},n.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},n}(Path$1);Sector.prototype.type="sector";const Sector$1=Sector;var RingShape=function(){function r(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return r}(),Ring=function(r){__extends(n,r);function n(i){return r.call(this,i)||this}return n.prototype.getDefaultShape=function(){return new RingShape},n.prototype.buildPath=function(i,o){var a=o.cx,u=o.cy,c=Math.PI*2;i.moveTo(a+o.r,u),i.arc(a,u,o.r,0,c,!1),i.moveTo(a+o.r0,u),i.arc(a,u,o.r0,0,c,!0)},n}(Path$1);Ring.prototype.type="ring";const Ring$1=Ring;function smoothBezier(r,n,i,o){var a=[],u=[],c=[],f=[],d,h,v,g;if(o){v=[1/0,1/0],g=[-1/0,-1/0];for(var p=0,y=r.length;p<y;p++)min$1(v,v,r[p]),max$1(g,g,r[p]);min$1(v,v,o[0]),max$1(g,g,o[1])}for(var p=0,y=r.length;p<y;p++){var _=r[p];if(i)d=r[p?p-1:y-1],h=r[(p+1)%y];else if(p===0||p===y-1){a.push(clone$1(r[p]));continue}else d=r[p-1],h=r[p+1];sub$1(u,h,d),scale$1(u,u,n);var b=distance(_,d),A=distance(_,h),w=b+A;w!==0&&(b/=w,A/=w),scale$1(c,u,-b),scale$1(f,u,A);var T=add([],_,c),S=add([],_,f);o&&(max$1(T,T,v),min$1(T,T,g),max$1(S,S,v),min$1(S,S,g)),a.push(T),a.push(S)}return i&&a.push(a.shift()),a}function buildPath(r,n,i){var o=n.smooth,a=n.points;if(a&&a.length>=2){if(o){var u=smoothBezier(a,o,i,n.smoothConstraint);r.moveTo(a[0][0],a[0][1]);for(var c=a.length,f=0;f<(i?c:c-1);f++){var d=u[f*2],h=u[f*2+1],v=a[(f+1)%c];r.bezierCurveTo(d[0],d[1],h[0],h[1],v[0],v[1])}}else{r.moveTo(a[0][0],a[0][1]);for(var f=1,g=a.length;f<g;f++)r.lineTo(a[f][0],a[f][1])}i&&r.closePath()}}var PolygonShape=function(){function r(){this.points=null,this.smooth=0,this.smoothConstraint=null}return r}(),Polygon=function(r){__extends(n,r);function n(i){return r.call(this,i)||this}return n.prototype.getDefaultShape=function(){return new PolygonShape},n.prototype.buildPath=function(i,o){buildPath(i,o,!0)},n}(Path$1);Polygon.prototype.type="polygon";const Polygon$1=Polygon;var PolylineShape=function(){function r(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return r}(),Polyline=function(r){__extends(n,r);function n(i){return r.call(this,i)||this}return n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new PolylineShape},n.prototype.buildPath=function(i,o){buildPath(i,o,!1)},n}(Path$1);Polyline.prototype.type="polyline";const Polyline$1=Polyline;var subPixelOptimizeOutputShape={},LineShape=function(){function r(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return r}(),Line=function(r){__extends(n,r);function n(i){return r.call(this,i)||this}return n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new LineShape},n.prototype.buildPath=function(i,o){var a,u,c,f;if(this.subPixelOptimize){var d=subPixelOptimizeLine$1(subPixelOptimizeOutputShape,o,this.style);a=d.x1,u=d.y1,c=d.x2,f=d.y2}else a=o.x1,u=o.y1,c=o.x2,f=o.y2;var h=o.percent;h!==0&&(i.moveTo(a,u),h<1&&(c=a*(1-h)+c*h,f=u*(1-h)+f*h),i.lineTo(c,f))},n.prototype.pointAt=function(i){var o=this.shape;return[o.x1*(1-i)+o.x2*i,o.y1*(1-i)+o.y2*i]},n}(Path$1);Line.prototype.type="line";const Line$1=Line;var out=[],BezierCurveShape=function(){function r(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return r}();function someVectorAt(r,n,i){var o=r.cpx2,a=r.cpy2;return o!=null||a!=null?[(i?cubicDerivativeAt:cubicAt)(r.x1,r.cpx1,r.cpx2,r.x2,n),(i?cubicDerivativeAt:cubicAt)(r.y1,r.cpy1,r.cpy2,r.y2,n)]:[(i?quadraticDerivativeAt:quadraticAt)(r.x1,r.cpx1,r.x2,n),(i?quadraticDerivativeAt:quadraticAt)(r.y1,r.cpy1,r.y2,n)]}var BezierCurve=function(r){__extends(n,r);function n(i){return r.call(this,i)||this}return n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new BezierCurveShape},n.prototype.buildPath=function(i,o){var a=o.x1,u=o.y1,c=o.x2,f=o.y2,d=o.cpx1,h=o.cpy1,v=o.cpx2,g=o.cpy2,p=o.percent;p!==0&&(i.moveTo(a,u),v==null||g==null?(p<1&&(quadraticSubdivide(a,d,c,p,out),d=out[1],c=out[2],quadraticSubdivide(u,h,f,p,out),h=out[1],f=out[2]),i.quadraticCurveTo(d,h,c,f)):(p<1&&(cubicSubdivide(a,d,v,c,p,out),d=out[1],v=out[2],c=out[3],cubicSubdivide(u,h,g,f,p,out),h=out[1],g=out[2],f=out[3]),i.bezierCurveTo(d,h,v,g,c,f)))},n.prototype.pointAt=function(i){return someVectorAt(this.shape,i,!1)},n.prototype.tangentAt=function(i){var o=someVectorAt(this.shape,i,!0);return normalize(o,o)},n}(Path$1);BezierCurve.prototype.type="bezier-curve";const BezierCurve$1=BezierCurve;var ArcShape=function(){function r(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return r}(),Arc=function(r){__extends(n,r);function n(i){return r.call(this,i)||this}return n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new ArcShape},n.prototype.buildPath=function(i,o){var a=o.cx,u=o.cy,c=Math.max(o.r,0),f=o.startAngle,d=o.endAngle,h=o.clockwise,v=Math.cos(f),g=Math.sin(f);i.moveTo(v*c+a,g*c+u),i.arc(a,u,c,f,d,!h)},n}(Path$1);Arc.prototype.type="arc";const Arc$1=Arc;var CompoundPath=function(r){__extends(n,r);function n(){var i=r!==null&&r.apply(this,arguments)||this;return i.type="compound",i}return n.prototype._updatePathDirty=function(){for(var i=this.shape.paths,o=this.shapeChanged(),a=0;a<i.length;a++)o=o||i[a].shapeChanged();o&&this.dirtyShape()},n.prototype.beforeBrush=function(){this._updatePathDirty();for(var i=this.shape.paths||[],o=this.getGlobalScale(),a=0;a<i.length;a++)i[a].path||i[a].createPathProxy(),i[a].path.setScale(o[0],o[1],i[a].segmentIgnoreThreshold)},n.prototype.buildPath=function(i,o){for(var a=o.paths||[],u=0;u<a.length;u++)a[u].buildPath(i,a[u].shape,!0)},n.prototype.afterBrush=function(){for(var i=this.shape.paths||[],o=0;o<i.length;o++)i[o].pathUpdated()},n.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),Path$1.prototype.getBoundingRect.call(this)},n}(Path$1);const CompoundPath$1=CompoundPath;var Gradient=function(){function r(n){this.colorStops=n||[]}return r.prototype.addColorStop=function(n,i){this.colorStops.push({offset:n,color:i})},r}();const Gradient$1=Gradient;var LinearGradient=function(r){__extends(n,r);function n(i,o,a,u,c,f){var d=r.call(this,c)||this;return d.x=i??0,d.y=o??0,d.x2=a??1,d.y2=u??0,d.type="linear",d.global=f||!1,d}return n}(Gradient$1);const LinearGradient$1=LinearGradient;var RadialGradient=function(r){__extends(n,r);function n(i,o,a,u,c){var f=r.call(this,u)||this;return f.x=i??.5,f.y=o??.5,f.r=a??.5,f.type="radial",f.global=c||!1,f}return n}(Gradient$1);const RadialGradient$1=RadialGradient;var extent=[0,0],extent2=[0,0],minTv=new Point$1,maxTv=new Point$1,OrientedBoundingRect=function(){function r(n,i){this._corners=[],this._axes=[],this._origin=[0,0];for(var o=0;o<4;o++)this._corners[o]=new Point$1;for(var o=0;o<2;o++)this._axes[o]=new Point$1;n&&this.fromBoundingRect(n,i)}return r.prototype.fromBoundingRect=function(n,i){var o=this._corners,a=this._axes,u=n.x,c=n.y,f=u+n.width,d=c+n.height;if(o[0].set(u,c),o[1].set(f,c),o[2].set(f,d),o[3].set(u,d),i)for(var h=0;h<4;h++)o[h].transform(i);Point$1.sub(a[0],o[1],o[0]),Point$1.sub(a[1],o[3],o[0]),a[0].normalize(),a[1].normalize();for(var h=0;h<2;h++)this._origin[h]=a[h].dot(o[0])},r.prototype.intersect=function(n,i){var o=!0,a=!i;return minTv.set(1/0,1/0),maxTv.set(0,0),!this._intersectCheckOneSide(this,n,minTv,maxTv,a,1)&&(o=!1,a)||!this._intersectCheckOneSide(n,this,minTv,maxTv,a,-1)&&(o=!1,a)||a||Point$1.copy(i,o?minTv:maxTv),o},r.prototype._intersectCheckOneSide=function(n,i,o,a,u,c){for(var f=!0,d=0;d<2;d++){var h=this._axes[d];if(this._getProjMinMaxOnAxis(d,n._corners,extent),this._getProjMinMaxOnAxis(d,i._corners,extent2),extent[1]<extent2[0]||extent[0]>extent2[1]){if(f=!1,u)return f;var v=Math.abs(extent2[0]-extent[1]),g=Math.abs(extent[0]-extent2[1]);Math.min(v,g)>a.len()&&(v<g?Point$1.scale(a,h,-v*c):Point$1.scale(a,h,g*c))}else if(o){var v=Math.abs(extent2[0]-extent[1]),g=Math.abs(extent[0]-extent2[1]);Math.min(v,g)<o.len()&&(v<g?Point$1.scale(o,h,v*c):Point$1.scale(o,h,-g*c))}}return f},r.prototype._getProjMinMaxOnAxis=function(n,i,o){for(var a=this._axes[n],u=this._origin,c=i[0].dot(a)+u[n],f=c,d=c,h=1;h<i.length;h++){var v=i[h].dot(a)+u[n];f=Math.min(v,f),d=Math.max(v,d)}o[0]=f,o[1]=d},r}();const OrientedBoundingRect$1=OrientedBoundingRect;var m=[],IncrementalDisplayable=function(r){__extends(n,r);function n(){var i=r!==null&&r.apply(this,arguments)||this;return i.notClear=!0,i.incremental=!0,i._displayables=[],i._temporaryDisplayables=[],i._cursor=0,i}return n.prototype.traverse=function(i,o){i.call(o,this)},n.prototype.useStyle=function(){this.style={}},n.prototype.getCursor=function(){return this._cursor},n.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},n.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},n.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},n.prototype.addDisplayable=function(i,o){o?this._temporaryDisplayables.push(i):this._displayables.push(i),this.markRedraw()},n.prototype.addDisplayables=function(i,o){o=o||!1;for(var a=0;a<i.length;a++)this.addDisplayable(i[a],o)},n.prototype.getDisplayables=function(){return this._displayables},n.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},n.prototype.eachPendingDisplayable=function(i){for(var o=this._cursor;o<this._displayables.length;o++)i&&i(this._displayables[o]);for(var o=0;o<this._temporaryDisplayables.length;o++)i&&i(this._temporaryDisplayables[o])},n.prototype.update=function(){this.updateTransform();for(var i=this._cursor;i<this._displayables.length;i++){var o=this._displayables[i];o.parent=this,o.update(),o.parent=null}for(var i=0;i<this._temporaryDisplayables.length;i++){var o=this._temporaryDisplayables[i];o.parent=this,o.update(),o.parent=null}},n.prototype.getBoundingRect=function(){if(!this._rect){for(var i=new BoundingRect$1(1/0,1/0,-1/0,-1/0),o=0;o<this._displayables.length;o++){var a=this._displayables[o],u=a.getBoundingRect().clone();a.needLocalTransform()&&u.applyTransform(a.getLocalTransform(m)),i.union(u)}this._rect=i}return this._rect},n.prototype.contain=function(i,o){var a=this.transformCoordToLocal(i,o),u=this.getBoundingRect();if(u.contain(a[0],a[1]))for(var c=0;c<this._displayables.length;c++){var f=this._displayables[c];if(f.contain(i,o))return!0}return!1},n}(Displayable$1);const IncrementalDisplayable$1=IncrementalDisplayable;var transitionStore=makeInner();function getAnimationConfig(r,n,i,o,a){var u;if(n&&n.ecModel){var c=n.ecModel.getUpdatePayload();u=c&&c.animation}var f=n&&n.isAnimationEnabled(),d=r==="update";if(f){var h=void 0,v=void 0,g=void 0;o?(h=retrieve2(o.duration,200),v=retrieve2(o.easing,"cubicOut"),g=0):(h=n.getShallow(d?"animationDurationUpdate":"animationDuration"),v=n.getShallow(d?"animationEasingUpdate":"animationEasing"),g=n.getShallow(d?"animationDelayUpdate":"animationDelay")),u&&(u.duration!=null&&(h=u.duration),u.easing!=null&&(v=u.easing),u.delay!=null&&(g=u.delay)),isFunction$1(g)&&(g=g(i,a)),isFunction$1(h)&&(h=h(i));var p={duration:h||0,delay:g,easing:v};return p}else return null}function animateOrSetProps(r,n,i,o,a,u,c){var f=!1,d;isFunction$1(a)?(c=u,u=a,a=null):isObject$3(a)&&(u=a.cb,c=a.during,f=a.isFrom,d=a.removeOpt,a=a.dataIndex);var h=r==="leave";h||n.stopAnimation("leave");var v=getAnimationConfig(r,o,a,h?d||{}:null,o&&o.getAnimationDelayParams?o.getAnimationDelayParams(n,a):null);if(v&&v.duration>0){var g=v.duration,p=v.delay,y=v.easing,_={duration:g,delay:p||0,easing:y,done:u,force:!!u||!!c,setToFinal:!h,scope:r,during:c};f?n.animateFrom(i,_):n.animateTo(i,_)}else n.stopAnimation(),!f&&n.attr(i),c&&c(1),u&&u()}function updateProps$1(r,n,i,o,a,u){animateOrSetProps("update",r,n,i,o,a,u)}function initProps(r,n,i,o,a,u){animateOrSetProps("enter",r,n,i,o,a,u)}function isElementRemoved(r){if(!r.__zr)return!0;for(var n=0;n<r.animators.length;n++){var i=r.animators[n];if(i.scope==="leave")return!0}return!1}function removeElement(r,n,i,o,a,u){isElementRemoved(r)||animateOrSetProps("leave",r,n,i,o,a,u)}function fadeOutDisplayable(r,n,i,o){r.removeTextContent(),r.removeTextGuideLine(),removeElement(r,{style:{opacity:0}},n,i,o)}function removeElementWithFadeOut(r,n,i){function o(){r.parent&&r.parent.remove(r)}r.isGroup?r.traverse(function(a){a.isGroup||fadeOutDisplayable(a,n,i,o)}):fadeOutDisplayable(r,n,i,o)}function saveOldStyle(r){transitionStore(r).oldStyle=r.style}var mathMax=Math.max,mathMin=Math.min,_customShapeMap={};function extendShape(r){return Path$1.extend(r)}var extendPathFromString=extendFromString;function extendPath(r,n){return extendPathFromString(r,n)}function registerShape(r,n){_customShapeMap[r]=n}function getShapeClass(r){if(_customShapeMap.hasOwnProperty(r))return _customShapeMap[r]}function makePath(r,n,i,o){var a=createFromString(r,n);return i&&(o==="center"&&(i=centerGraphic(i,a.getBoundingRect())),resizePath(a,i)),a}function makeImage(r,n,i){var o=new ZRImage$1({style:{image:r,x:n.x,y:n.y,width:n.width,height:n.height},onload:function(a){if(i==="center"){var u={width:a.width,height:a.height};o.setStyle(centerGraphic(n,u))}}});return o}function centerGraphic(r,n){var i=n.width/n.height,o=r.height*i,a;o<=r.width?a=r.height:(o=r.width,a=o/i);var u=r.x+r.width/2,c=r.y+r.height/2;return{x:u-o/2,y:c-a/2,width:o,height:a}}var mergePath=mergePath$1;function resizePath(r,n){if(r.applyTransform){var i=r.getBoundingRect(),o=i.calculateTransform(n);r.applyTransform(o)}}function subPixelOptimizeLine(r,n){return subPixelOptimizeLine$1(r,r,{lineWidth:n}),r}function subPixelOptimizeRect(r){return subPixelOptimizeRect$1(r.shape,r.shape,r.style),r}var subPixelOptimize=subPixelOptimize$1;function getTransform(r,n){for(var i=identity$1([]);r&&r!==n;)mul(i,r.getLocalTransform(),i),r=r.parent;return i}function applyTransform(r,n,i){return n&&!isArrayLike(n)&&(n=Transformable$1.getLocalTransform(n)),i&&(n=invert([],n)),applyTransform$1([],r,n)}function transformDirection(r,n,i){var o=n[4]===0||n[5]===0||n[0]===0?1:Math.abs(2*n[4]/n[0]),a=n[4]===0||n[5]===0||n[2]===0?1:Math.abs(2*n[4]/n[2]),u=[r==="left"?-o:r==="right"?o:0,r==="top"?-a:r==="bottom"?a:0];return u=applyTransform(u,n,i),Math.abs(u[0])>Math.abs(u[1])?u[0]>0?"right":"left":u[1]>0?"bottom":"top"}function isNotGroup(r){return!r.isGroup}function isPath(r){return r.shape!=null}function groupTransition(r,n,i){if(!r||!n)return;function o(c){var f={};return c.traverse(function(d){isNotGroup(d)&&d.anid&&(f[d.anid]=d)}),f}function a(c){var f={x:c.x,y:c.y,rotation:c.rotation};return isPath(c)&&(f.shape=extend({},c.shape)),f}var u=o(r);n.traverse(function(c){if(isNotGroup(c)&&c.anid){var f=u[c.anid];if(f){var d=a(c);c.attr(a(f)),updateProps$1(c,d,i,getECData(c).dataIndex)}}})}function clipPointsByRect(r,n){return map$1(r,function(i){var o=i[0];o=mathMax(o,n.x),o=mathMin(o,n.x+n.width);var a=i[1];return a=mathMax(a,n.y),a=mathMin(a,n.y+n.height),[o,a]})}function clipRectByRect(r,n){var i=mathMax(r.x,n.x),o=mathMin(r.x+r.width,n.x+n.width),a=mathMax(r.y,n.y),u=mathMin(r.y+r.height,n.y+n.height);if(o>=i&&u>=a)return{x:i,y:a,width:o-i,height:u-a}}function createIcon(r,n,i){var o=extend({rectHover:!0},n),a=o.style={strokeNoScale:!0};if(i=i||{x:-1,y:-1,width:2,height:2},r)return r.indexOf("image://")===0?(a.image=r.slice(8),defaults(a,i),new ZRImage$1(o)):makePath(r.replace("path://",""),o,i,"center")}function linePolygonIntersect(r,n,i,o,a){for(var u=0,c=a[a.length-1];u<a.length;u++){var f=a[u];if(lineLineIntersect(r,n,i,o,f[0],f[1],c[0],c[1]))return!0;c=f}}function lineLineIntersect(r,n,i,o,a,u,c,f){var d=i-r,h=o-n,v=c-a,g=f-u,p=crossProduct2d(v,g,d,h);if(nearZero(p))return!1;var y=r-a,_=n-u,b=crossProduct2d(y,_,d,h)/p;if(b<0||b>1)return!1;var A=crossProduct2d(y,_,v,g)/p;return!(A<0||A>1)}function crossProduct2d(r,n,i,o){return r*o-i*n}function nearZero(r){return r<=1e-6&&r>=-1e-6}function setTooltipConfig(r){var n=r.itemTooltipOption,i=r.componentModel,o=r.itemName,a=isString$2(n)?{formatter:n}:n,u=i.mainType,c=i.componentIndex,f={componentType:u,name:o,$vars:["name"]};f[u+"Index"]=c;var d=r.formatterParamsExtra;d&&each$4(keys(d),function(v){hasOwn$1(f,v)||(f[v]=d[v],f.$vars.push(v))});var h=getECData(r.el);h.componentMainType=u,h.componentIndex=c,h.tooltipConfig={name:o,option:defaults({content:o,formatterParams:f},a)}}function traverseElement(r,n){var i;r.isGroup&&(i=n(r)),i||r.traverse(n)}function traverseElements(r,n){if(r)if(isArray$1(r))for(var i=0;i<r.length;i++)traverseElement(r[i],n);else traverseElement(r,n)}registerShape("circle",Circle$1),registerShape("ellipse",Ellipse$1),registerShape("sector",Sector$1),registerShape("ring",Ring$1),registerShape("polygon",Polygon$1),registerShape("polyline",Polyline$1),registerShape("rect",Rect$1),registerShape("line",Line$1),registerShape("bezierCurve",BezierCurve$1),registerShape("arc",Arc$1);const graphic=Object.freeze(Object.defineProperty({__proto__:null,Arc:Arc$1,BezierCurve:BezierCurve$1,BoundingRect:BoundingRect$1,Circle:Circle$1,CompoundPath:CompoundPath$1,Ellipse:Ellipse$1,Group:Group$3,Image:ZRImage$1,IncrementalDisplayable:IncrementalDisplayable$1,Line:Line$1,LinearGradient:LinearGradient$1,OrientedBoundingRect:OrientedBoundingRect$1,Path:Path$1,Point:Point$1,Polygon:Polygon$1,Polyline:Polyline$1,RadialGradient:RadialGradient$1,Rect:Rect$1,Ring:Ring$1,Sector:Sector$1,Text:ZRText$1,applyTransform,clipPointsByRect,clipRectByRect,createIcon,extendPath,extendShape,getShapeClass,getTransform,groupTransition,initProps,isElementRemoved,lineLineIntersect,linePolygonIntersect,makeImage,makePath,mergePath,registerShape,removeElement,removeElementWithFadeOut,resizePath,setTooltipConfig,subPixelOptimize,subPixelOptimizeLine,subPixelOptimizeRect,transformDirection,traverseElements,updateProps:updateProps$1},Symbol.toStringTag,{value:"Module"}));var EMPTY_OBJ={};function setLabelText(r,n){for(var i=0;i<SPECIAL_STATES.length;i++){var o=SPECIAL_STATES[i],a=n[o],u=r.ensureState(o);u.style=u.style||{},u.style.text=a}var c=r.currentStates.slice();r.clearStates(!0),r.setStyle({text:n.normal}),r.useStates(c,!0)}function getLabelText(r,n,i){var o=r.labelFetcher,a=r.labelDataIndex,u=r.labelDimIndex,c=n.normal,f;o&&(f=o.getFormattedLabel(a,"normal",null,u,c&&c.get("formatter"),i!=null?{interpolatedValue:i}:null)),f==null&&(f=isFunction$1(r.defaultText)?r.defaultText(a,r,i):r.defaultText);for(var d={normal:f},h=0;h<SPECIAL_STATES.length;h++){var v=SPECIAL_STATES[h],g=n[v];d[v]=retrieve2(o?o.getFormattedLabel(a,v,null,u,g&&g.get("formatter")):null,f)}return d}function setLabelStyle(r,n,i,o){i=i||EMPTY_OBJ;for(var a=r instanceof ZRText$1,u=!1,c=0;c<DISPLAY_STATES.length;c++){var f=n[DISPLAY_STATES[c]];if(f&&f.getShallow("show")){u=!0;break}}var d=a?r:r.getTextContent();if(u){a||(d||(d=new ZRText$1,r.setTextContent(d)),r.stateProxy&&(d.stateProxy=r.stateProxy));var h=getLabelText(i,n),v=n.normal,g=!!v.getShallow("show"),p=createTextStyle(v,o&&o.normal,i,!1,!a);p.text=h.normal,a||r.setTextConfig(createTextConfig(v,i,!1));for(var c=0;c<SPECIAL_STATES.length;c++){var y=SPECIAL_STATES[c],f=n[y];if(f){var _=d.ensureState(y),b=!!retrieve2(f.getShallow("show"),g);if(b!==g&&(_.ignore=!b),_.style=createTextStyle(f,o&&o[y],i,!0,!a),_.style.text=h[y],!a){var A=r.ensureState(y);A.textConfig=createTextConfig(f,i,!0)}}}d.silent=!!v.getShallow("silent"),d.style.x!=null&&(p.x=d.style.x),d.style.y!=null&&(p.y=d.style.y),d.ignore=!g,d.useStyle(p),d.dirty(),i.enableTextSetter&&(labelInner(d).setLabelText=function(w){var T=getLabelText(i,n,w);setLabelText(d,T)})}else d&&(d.ignore=!0);r.dirty()}function getLabelStatesModels(r,n){n=n||"label";for(var i={normal:r.getModel(n)},o=0;o<SPECIAL_STATES.length;o++){var a=SPECIAL_STATES[o];i[a]=r.getModel([a,n])}return i}function createTextStyle(r,n,i,o,a){var u={};return setTextStyleCommon(u,r,i,o,a),n&&extend(u,n),u}function createTextConfig(r,n,i){n=n||{};var o={},a,u=r.getShallow("rotate"),c=retrieve2(r.getShallow("distance"),i?null:5),f=r.getShallow("offset");return a=r.getShallow("position")||(i?null:"inside"),a==="outside"&&(a=n.defaultOutsidePosition||"top"),a!=null&&(o.position=a),f!=null&&(o.offset=f),u!=null&&(u*=Math.PI/180,o.rotation=u),c!=null&&(o.distance=c),o.outsideFill=r.get("color")==="inherit"?n.inheritColor||null:"auto",o}function setTextStyleCommon(r,n,i,o,a){i=i||EMPTY_OBJ;var u=n.ecModel,c=u&&u.option.textStyle,f=getRichItemNames(n),d;if(f){d={};for(var h in f)if(f.hasOwnProperty(h)){var v=n.getModel(["rich",h]);setTokenTextStyle(d[h]={},v,c,i,o,a,!1,!0)}}d&&(r.rich=d);var g=n.get("overflow");g&&(r.overflow=g);var p=n.get("minMargin");p!=null&&(r.margin=p),setTokenTextStyle(r,n,c,i,o,a,!0,!1)}function getRichItemNames(r){for(var n;r&&r!==r.ecModel;){var i=(r.option||EMPTY_OBJ).rich;if(i){n=n||{};for(var o=keys(i),a=0;a<o.length;a++){var u=o[a];n[u]=1}}r=r.parentModel}return n}var TEXT_PROPS_WITH_GLOBAL=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],TEXT_PROPS_SELF=["align","lineHeight","width","height","tag","verticalAlign"],TEXT_PROPS_BOX=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function setTokenTextStyle(r,n,i,o,a,u,c,f){i=!a&&i||EMPTY_OBJ;var d=o&&o.inheritColor,h=n.getShallow("color"),v=n.getShallow("textBorderColor"),g=retrieve2(n.getShallow("opacity"),i.opacity);(h==="inherit"||h==="auto")&&(process.env.NODE_ENV!=="production"&&h==="auto"&&deprecateReplaceLog("color: 'auto'","color: 'inherit'"),d?h=d:h=null),(v==="inherit"||v==="auto")&&(process.env.NODE_ENV!=="production"&&v==="auto"&&deprecateReplaceLog("color: 'auto'","color: 'inherit'"),d?v=d:v=null),u||(h=h||i.color,v=v||i.textBorderColor),h!=null&&(r.fill=h),v!=null&&(r.stroke=v);var p=retrieve2(n.getShallow("textBorderWidth"),i.textBorderWidth);p!=null&&(r.lineWidth=p);var y=retrieve2(n.getShallow("textBorderType"),i.textBorderType);y!=null&&(r.lineDash=y);var _=retrieve2(n.getShallow("textBorderDashOffset"),i.textBorderDashOffset);_!=null&&(r.lineDashOffset=_),!a&&g==null&&!f&&(g=o&&o.defaultOpacity),g!=null&&(r.opacity=g),!a&&!u&&r.fill==null&&o.inheritColor&&(r.fill=o.inheritColor);for(var b=0;b<TEXT_PROPS_WITH_GLOBAL.length;b++){var A=TEXT_PROPS_WITH_GLOBAL[b],w=retrieve2(n.getShallow(A),i[A]);w!=null&&(r[A]=w)}for(var b=0;b<TEXT_PROPS_SELF.length;b++){var A=TEXT_PROPS_SELF[b],w=n.getShallow(A);w!=null&&(r[A]=w)}if(r.verticalAlign==null){var T=n.getShallow("baseline");T!=null&&(r.verticalAlign=T)}if(!c||!o.disableBox){for(var b=0;b<TEXT_PROPS_BOX.length;b++){var A=TEXT_PROPS_BOX[b],w=n.getShallow(A);w!=null&&(r[A]=w)}var S=n.getShallow("borderType");S!=null&&(r.borderDash=S),(r.backgroundColor==="auto"||r.backgroundColor==="inherit")&&d&&(process.env.NODE_ENV!=="production"&&r.backgroundColor==="auto"&&deprecateReplaceLog("backgroundColor: 'auto'","backgroundColor: 'inherit'"),r.backgroundColor=d),(r.borderColor==="auto"||r.borderColor==="inherit")&&d&&(process.env.NODE_ENV!=="production"&&r.borderColor==="auto"&&deprecateReplaceLog("borderColor: 'auto'","borderColor: 'inherit'"),r.borderColor=d)}}function getFont(r,n){var i=n&&n.getModel("textStyle");return trim([r.fontStyle||i&&i.getShallow("fontStyle")||"",r.fontWeight||i&&i.getShallow("fontWeight")||"",(r.fontSize||i&&i.getShallow("fontSize")||12)+"px",r.fontFamily||i&&i.getShallow("fontFamily")||"sans-serif"].join(" "))}var labelInner=makeInner(),PATH_COLOR=["textStyle","color"],textStyleParams=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],tmpText=new ZRText$1,TextStyleMixin=function(){function r(){}return r.prototype.getTextColor=function(n){var i=this.ecModel;return this.getShallow("color")||(!n&&i?i.get(PATH_COLOR):null)},r.prototype.getFont=function(){return getFont({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},r.prototype.getTextRect=function(n){for(var i={text:n,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},o=0;o<textStyleParams.length;o++)i[textStyleParams[o]]=this.getShallow(textStyleParams[o]);return tmpText.useStyle(i),tmpText.update(),tmpText.getBoundingRect()},r}();const TextStyleMixin$1=TextStyleMixin;var LINE_STYLE_KEY_MAP=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],getLineStyle=makeStyleMapper(LINE_STYLE_KEY_MAP),LineStyleMixin=function(){function r(){}return r.prototype.getLineStyle=function(n){return getLineStyle(this,n)},r}(),ITEM_STYLE_KEY_MAP=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],getItemStyle=makeStyleMapper(ITEM_STYLE_KEY_MAP),ItemStyleMixin=function(){function r(){}return r.prototype.getItemStyle=function(n,i){return getItemStyle(this,n,i)},r}(),Model=function(){function r(n,i,o){this.parentModel=i,this.ecModel=o,this.option=n}return r.prototype.init=function(n,i,o){},r.prototype.mergeOption=function(n,i){merge(this.option,n,!0)},r.prototype.get=function(n,i){return n==null?this.option:this._doGet(this.parsePath(n),!i&&this.parentModel)},r.prototype.getShallow=function(n,i){var o=this.option,a=o==null?o:o[n];if(a==null&&!i){var u=this.parentModel;u&&(a=u.getShallow(n))}return a},r.prototype.getModel=function(n,i){var o=n!=null,a=o?this.parsePath(n):null,u=o?this._doGet(a):this.option;return i=i||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(a)),new r(u,i,this.ecModel)},r.prototype.isEmpty=function(){return this.option==null},r.prototype.restoreData=function(){},r.prototype.clone=function(){var n=this.constructor;return new n(clone$2(this.option))},r.prototype.parsePath=function(n){return typeof n=="string"?n.split("."):n},r.prototype.resolveParentPath=function(n){return n},r.prototype.isAnimationEnabled=function(){if(!env$1.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},r.prototype._doGet=function(n,i){var o=this.option;if(!n)return o;for(var a=0;a<n.length&&!(n[a]&&(o=o&&typeof o=="object"?o[n[a]]:null,o==null));a++);return o==null&&i&&(o=i._doGet(this.resolveParentPath(n),i.parentModel)),o},r}();enableClassExtend(Model),enableClassCheck(Model),mixin(Model,LineStyleMixin),mixin(Model,ItemStyleMixin),mixin(Model,AreaStyleMixin),mixin(Model,TextStyleMixin$1);const Model$1=Model;var base=Math.round(Math.random()*10);function getUID(r){return[r||"",base++].join("_")}function enableSubTypeDefaulter(r){var n={};r.registerSubTypeDefaulter=function(i,o){var a=parseClassType(i);n[a.main]=o},r.determineSubType=function(i,o){var a=o.type;if(!a){var u=parseClassType(i).main;r.hasSubTypes(i)&&n[u]&&(a=n[u](o))}return a}}function enableTopologicalTravel(r,n){r.topologicalTravel=function(u,c,f,d){if(!u.length)return;var h=i(c),v=h.graph,g=h.noEntryList,p={};for(each$4(u,function(T){p[T]=!0});g.length;){var y=g.pop(),_=v[y],b=!!p[y];b&&(f.call(d,y,_.originalDeps.slice()),delete p[y]),each$4(_.successor,b?w:A)}each$4(p,function(){var T="";throw process.env.NODE_ENV!=="production"&&(T=makePrintable("Circular dependency may exists: ",p,u,c)),new Error(T)});function A(T){v[T].entryCount--,v[T].entryCount===0&&g.push(T)}function w(T){p[T]=!0,A(T)}};function i(u){var c={},f=[];return each$4(u,function(d){var h=o(c,d),v=h.originalDeps=n(d),g=a(v,u);h.entryCount=g.length,h.entryCount===0&&f.push(d),each$4(g,function(p){indexOf(h.predecessor,p)<0&&h.predecessor.push(p);var y=o(c,p);indexOf(y.successor,p)<0&&y.successor.push(d)})}),{graph:c,noEntryList:f}}function o(u,c){return u[c]||(u[c]={predecessor:[],successor:[]}),u[c]}function a(u,c){var f=[];return each$4(u,function(d){indexOf(c,d)>=0&&f.push(d)}),f}}function inheritDefaultOption(r,n){return merge(merge({},r,!0),n,!0)}const langEN={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},langZH={time:{month:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthAbbr:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayOfWeek:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayOfWeekAbbr:["日","一","二","三","四","五","六"]},legend:{selector:{all:"全选",inverse:"反选"}},toolbox:{brush:{title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}},dataView:{title:"数据视图",lang:["数据视图","关闭","刷新"]},dataZoom:{title:{zoom:"区域缩放",back:"区域缩放还原"}},magicType:{title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"}},restore:{title:"还原"},saveAsImage:{title:"保存为图片",lang:["右键另存为图片"]}},series:{typeNames:{pie:"饼图",bar:"柱状图",line:"折线图",scatter:"散点图",effectScatter:"涟漪散点图",radar:"雷达图",tree:"树图",treemap:"矩形树图",boxplot:"箱型图",candlestick:"K线图",k:"K线图",heatmap:"热力图",map:"地图",parallel:"平行坐标图",lines:"线图",graph:"关系图",sankey:"桑基图",funnel:"漏斗图",gauge:"仪表盘图",pictorialBar:"象形柱图",themeRiver:"主题河流图",sunburst:"旭日图"}},aria:{general:{withTitle:"这是一个关于“{title}”的图表。",withoutTitle:"这是一个图表，"},series:{single:{prefix:"",withName:"图表类型是{seriesType}，表示{seriesName}。",withoutName:"图表类型是{seriesType}。"},multiple:{prefix:"它由{seriesCount}个图表系列组成。",withName:"第{seriesId}个系列是一个表示{seriesName}的{seriesType}，",withoutName:"第{seriesId}个系列是一个{seriesType}，",separator:{middle:"；",end:"。"}}},data:{allData:"其数据是——",partialData:"其中，前{displayCnt}项是——",withName:"{name}的数据是{value}",withoutName:"{value}",separator:{middle:"，",end:""}}}};var LOCALE_ZH="ZH",LOCALE_EN="EN",DEFAULT_LOCALE=LOCALE_EN,localeStorage={},localeModels={},SYSTEM_LANG=env$1.domSupported?function(){var r=(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase();return r.indexOf(LOCALE_ZH)>-1?LOCALE_ZH:DEFAULT_LOCALE}():DEFAULT_LOCALE;function registerLocale(r,n){r=r.toUpperCase(),localeModels[r]=new Model$1(n),localeStorage[r]=n}function createLocaleObject(r){if(isString$2(r)){var n=localeStorage[r.toUpperCase()]||{};return r===LOCALE_ZH||r===LOCALE_EN?clone$2(n):merge(clone$2(n),clone$2(localeStorage[DEFAULT_LOCALE]),!1)}else return merge(clone$2(r),clone$2(localeStorage[DEFAULT_LOCALE]),!1)}function getLocaleModel(r){return localeModels[r]}function getDefaultLocaleModel(){return localeModels[DEFAULT_LOCALE]}registerLocale(LOCALE_EN,langEN),registerLocale(LOCALE_ZH,langZH);function pad(r,n){return r+="","0000".substr(0,n-r.length)+r}function format$1(r,n,i,o){var a=parseDate(r),u=a[fullYearGetterName(i)](),c=a[monthGetterName(i)]()+1,f=Math.floor((c-1)/3)+1,d=a[dateGetterName(i)](),h=a["get"+(i?"UTC":"")+"Day"](),v=a[hoursGetterName(i)](),g=(v-1)%12+1,p=a[minutesGetterName(i)](),y=a[secondsGetterName(i)](),_=a[millisecondsGetterName(i)](),b=o instanceof Model$1?o:getLocaleModel(o||SYSTEM_LANG)||getDefaultLocaleModel(),A=b.getModel("time"),w=A.get("month"),T=A.get("monthAbbr"),S=A.get("dayOfWeek"),x=A.get("dayOfWeekAbbr");return(n||"").replace(/{yyyy}/g,u+"").replace(/{yy}/g,u%100+"").replace(/{Q}/g,f+"").replace(/{MMMM}/g,w[c-1]).replace(/{MMM}/g,T[c-1]).replace(/{MM}/g,pad(c,2)).replace(/{M}/g,c+"").replace(/{dd}/g,pad(d,2)).replace(/{d}/g,d+"").replace(/{eeee}/g,S[h]).replace(/{ee}/g,x[h]).replace(/{e}/g,h+"").replace(/{HH}/g,pad(v,2)).replace(/{H}/g,v+"").replace(/{hh}/g,pad(g+"",2)).replace(/{h}/g,g+"").replace(/{mm}/g,pad(p,2)).replace(/{m}/g,p+"").replace(/{ss}/g,pad(y,2)).replace(/{s}/g,y+"").replace(/{SSS}/g,pad(_,3)).replace(/{S}/g,_+"")}function fullYearGetterName(r){return r?"getUTCFullYear":"getFullYear"}function monthGetterName(r){return r?"getUTCMonth":"getMonth"}function dateGetterName(r){return r?"getUTCDate":"getDate"}function hoursGetterName(r){return r?"getUTCHours":"getHours"}function minutesGetterName(r){return r?"getUTCMinutes":"getMinutes"}function secondsGetterName(r){return r?"getUTCSeconds":"getSeconds"}function millisecondsGetterName(r){return r?"getUTCMilliseconds":"getMilliseconds"}function addCommas(r){if(!isNumeric(r))return isString$2(r)?r:"-";var n=(r+"").split(".");return n[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(n.length>1?"."+n[1]:"")}function toCamelCase(r,n){return r=(r||"").toLowerCase().replace(/-(.)/g,function(i,o){return o.toUpperCase()}),n&&r&&(r=r.charAt(0).toUpperCase()+r.slice(1)),r}var normalizeCssArray=normalizeCssArray$1;function makeValueReadable(r,n,i){var o="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function a(v){return v&&trim(v)?v:"-"}function u(v){return!!(v!=null&&!isNaN(v)&&isFinite(v))}var c=n==="time",f=r instanceof Date;if(c||f){var d=c?parseDate(r):r;if(isNaN(+d)){if(f)return"-"}else return format$1(d,o,i)}if(n==="ordinal")return isStringSafe(r)?a(r):isNumber$1(r)&&u(r)?r+"":"-";var h=numericToNumber(r);return u(h)?addCommas(h):isStringSafe(r)?a(r):typeof r=="boolean"?r+"":"-"}var TPL_VAR_ALIAS=["a","b","c","d","e","f","g"],wrapVar=function(r,n){return"{"+r+(n??"")+"}"};function formatTpl(r,n,i){isArray$1(n)||(n=[n]);var o=n.length;if(!o)return"";for(var a=n[0].$vars||[],u=0;u<a.length;u++){var c=TPL_VAR_ALIAS[u];r=r.replace(wrapVar(c),wrapVar(c,0))}for(var f=0;f<o;f++)for(var d=0;d<a.length;d++){var h=n[f][a[d]];r=r.replace(wrapVar(TPL_VAR_ALIAS[d],f),i?encodeHTML(h):h)}return r}function getTooltipMarker(r,n){var i=isString$2(r)?{color:r,extraCssText:n}:r||{},o=i.color,a=i.type;n=i.extraCssText;var u=i.renderMode||"html";if(!o)return"";if(u==="html")return a==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+encodeHTML(o)+";"+(n||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+encodeHTML(o)+";"+(n||"")+'"></span>';var c=i.markerId||"markerX";return{renderMode:u,content:"{"+c+"|}  ",style:a==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:o}:{width:10,height:10,borderRadius:5,backgroundColor:o}}}function convertToColorString(r,n){return n=n||"transparent",isString$2(r)?r:isObject$3(r)&&r.colorStops&&(r.colorStops[0]||{}).color||n}function windowOpen(r,n){if(n==="_blank"||n==="blank"){var i=window.open();i.opener=null,i.location.href=r}else window.open(r,n)}var each$3=each$4,LOCATION_PARAMS=["left","right","top","bottom","width","height"],HV_NAMES=[["width","left","right"],["height","top","bottom"]];function boxLayout(r,n,i,o,a){var u=0,c=0;o==null&&(o=1/0),a==null&&(a=1/0);var f=0;n.eachChild(function(d,h){var v=d.getBoundingRect(),g=n.childAt(h+1),p=g&&g.getBoundingRect(),y,_;if(r==="horizontal"){var b=v.width+(p?-p.x+v.x:0);y=u+b,y>o||d.newline?(u=0,y=b,c+=f+i,f=v.height):f=Math.max(f,v.height)}else{var A=v.height+(p?-p.y+v.y:0);_=c+A,_>a||d.newline?(u+=f+i,c=0,_=A,f=v.width):f=Math.max(f,v.width)}d.newline||(d.x=u,d.y=c,d.markRedraw(),r==="horizontal"?u=y+i:c=_+i)})}var box=boxLayout;curry$1(boxLayout,"vertical"),curry$1(boxLayout,"horizontal");function getLayoutRect(r,n,i){i=normalizeCssArray(i||0);var o=n.width,a=n.height,u=parsePercent(r.left,o),c=parsePercent(r.top,a),f=parsePercent(r.right,o),d=parsePercent(r.bottom,a),h=parsePercent(r.width,o),v=parsePercent(r.height,a),g=i[2]+i[0],p=i[1]+i[3],y=r.aspect;switch(isNaN(h)&&(h=o-f-p-u),isNaN(v)&&(v=a-d-g-c),y!=null&&(isNaN(h)&&isNaN(v)&&(y>o/a?h=o*.8:v=a*.8),isNaN(h)&&(h=y*v),isNaN(v)&&(v=h/y)),isNaN(u)&&(u=o-f-h-p),isNaN(c)&&(c=a-d-v-g),r.left||r.right){case"center":u=o/2-h/2-i[3];break;case"right":u=o-h-p;break}switch(r.top||r.bottom){case"middle":case"center":c=a/2-v/2-i[0];break;case"bottom":c=a-v-g;break}u=u||0,c=c||0,isNaN(h)&&(h=o-p-u-(f||0)),isNaN(v)&&(v=a-g-c-(d||0));var _=new BoundingRect$1(u+i[3],c+i[0],h,v);return _.margin=i,_}function fetchLayoutMode(r){var n=r.layoutMode||r.constructor.layoutMode;return isObject$3(n)?n:n?{type:n}:null}function mergeLayoutParam(r,n,i){var o=i&&i.ignoreSize;!isArray$1(o)&&(o=[o,o]);var a=c(HV_NAMES[0],0),u=c(HV_NAMES[1],1);h(HV_NAMES[0],r,a),h(HV_NAMES[1],r,u);function c(v,g){var p={},y=0,_={},b=0,A=2;if(each$3(v,function(S){_[S]=r[S]}),each$3(v,function(S){f(n,S)&&(p[S]=_[S]=n[S]),d(p,S)&&y++,d(_,S)&&b++}),o[g])return d(n,v[1])?_[v[2]]=null:d(n,v[2])&&(_[v[1]]=null),_;if(b===A||!y)return _;if(y>=A)return p;for(var w=0;w<v.length;w++){var T=v[w];if(!f(p,T)&&f(r,T)){p[T]=r[T];break}}return p}function f(v,g){return v.hasOwnProperty(g)}function d(v,g){return v[g]!=null&&v[g]!=="auto"}function h(v,g,p){each$3(v,function(y){g[y]=p[y]})}}function getLayoutParams(r){return copyLayoutParams({},r)}function copyLayoutParams(r,n){return n&&r&&each$3(LOCATION_PARAMS,function(i){n.hasOwnProperty(i)&&(r[i]=n[i])}),r}var inner$7=makeInner(),ComponentModel=function(r){__extends(n,r);function n(i,o,a){var u=r.call(this,i,o,a)||this;return u.uid=getUID("ec_cpt_model"),u}return n.prototype.init=function(i,o,a){this.mergeDefaultAndTheme(i,a)},n.prototype.mergeDefaultAndTheme=function(i,o){var a=fetchLayoutMode(this),u=a?getLayoutParams(i):{},c=o.getTheme();merge(i,c.get(this.mainType)),merge(i,this.getDefaultOption()),a&&mergeLayoutParam(i,u,a)},n.prototype.mergeOption=function(i,o){merge(this.option,i,!0);var a=fetchLayoutMode(this);a&&mergeLayoutParam(this.option,i,a)},n.prototype.optionUpdated=function(i,o){},n.prototype.getDefaultOption=function(){var i=this.constructor;if(!isExtendedClass(i))return i.defaultOption;var o=inner$7(this);if(!o.defaultOption){for(var a=[],u=i;u;){var c=u.prototype.defaultOption;c&&a.push(c),u=u.superClass}for(var f={},d=a.length-1;d>=0;d--)f=merge(f,a[d],!0);o.defaultOption=f}return o.defaultOption},n.prototype.getReferringComponents=function(i,o){var a=i+"Index",u=i+"Id";return queryReferringComponents(this.ecModel,i,{index:this.get(a,!0),id:this.get(u,!0)},o)},n.prototype.getBoxLayoutParams=function(){var i=this;return{left:i.get("left"),top:i.get("top"),right:i.get("right"),bottom:i.get("bottom"),width:i.get("width"),height:i.get("height")}},n.prototype.getZLevelKey=function(){return""},n.prototype.setZLevel=function(i){this.option.zlevel=i},n.protoInitialize=function(){var i=n.prototype;i.type="component",i.id="",i.name="",i.mainType="",i.subType="",i.componentIndex=0}(),n}(Model$1);mountExtend(ComponentModel,Model$1),enableClassManagement(ComponentModel),enableSubTypeDefaulter(ComponentModel),enableTopologicalTravel(ComponentModel,getDependencies);function getDependencies(r){var n=[];return each$4(ComponentModel.getClassesByMainType(r),function(i){n=n.concat(i.dependencies||i.prototype.dependencies||[])}),n=map$1(n,function(i){return parseClassType(i).main}),r!=="dataset"&&indexOf(n,"dataset")<=0&&n.unshift("dataset"),n}const ComponentModel$1=ComponentModel;var platform="";typeof navigator<"u"&&(platform=navigator.platform||"");var decalColor="rgba(0, 0, 0, 0.2)";const globalDefault={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:decalColor,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:decalColor,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:decalColor,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:decalColor,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:decalColor,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:decalColor,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:platform.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var VISUAL_DIMENSIONS=createHashMap(["tooltip","label","itemName","itemId","itemGroupId","seriesName"]),SOURCE_FORMAT_ORIGINAL="original",SOURCE_FORMAT_ARRAY_ROWS="arrayRows",SOURCE_FORMAT_OBJECT_ROWS="objectRows",SOURCE_FORMAT_KEYED_COLUMNS="keyedColumns",SOURCE_FORMAT_TYPED_ARRAY="typedArray",SOURCE_FORMAT_UNKNOWN="unknown",SERIES_LAYOUT_BY_COLUMN="column",SERIES_LAYOUT_BY_ROW="row",BE_ORDINAL={Must:1,Might:2,Not:3},innerGlobalModel=makeInner();function resetSourceDefaulter(r){innerGlobalModel(r).datasetMap=createHashMap()}function makeSeriesEncodeForNameBased(r,n,i){var o={},a=querySeriesUpstreamDatasetModel(r);if(!a)return o;var u=n.sourceFormat,c=n.dimensionsDefine,f;(u===SOURCE_FORMAT_OBJECT_ROWS||u===SOURCE_FORMAT_KEYED_COLUMNS)&&each$4(c,function(v,g){(isObject$3(v)?v.name:v)==="name"&&(f=g)});var d=function(){for(var v={},g={},p=[],y=0,_=Math.min(5,i);y<_;y++){var b=doGuessOrdinal(n.data,u,n.seriesLayoutBy,c,n.startIndex,y);p.push(b);var A=b===BE_ORDINAL.Not;if(A&&v.v==null&&y!==f&&(v.v=y),(v.n==null||v.n===v.v||!A&&p[v.n]===BE_ORDINAL.Not)&&(v.n=y),w(v)&&p[v.n]!==BE_ORDINAL.Not)return v;A||(b===BE_ORDINAL.Might&&g.v==null&&y!==f&&(g.v=y),(g.n==null||g.n===g.v)&&(g.n=y))}function w(T){return T.v!=null&&T.n!=null}return w(v)?v:w(g)?g:null}();if(d){o.value=[d.v];var h=f??d.n;o.itemName=[h],o.seriesName=[h]}return o}function querySeriesUpstreamDatasetModel(r){var n=r.get("data",!0);if(!n)return queryReferringComponents(r.ecModel,"dataset",{index:r.get("datasetIndex",!0),id:r.get("datasetId",!0)},SINGLE_REFERRING).models[0]}function queryDatasetUpstreamDatasetModels(r){return!r.get("transform",!0)&&!r.get("fromTransformResult",!0)?[]:queryReferringComponents(r.ecModel,"dataset",{index:r.get("fromDatasetIndex",!0),id:r.get("fromDatasetId",!0)},SINGLE_REFERRING).models}function guessOrdinal(r,n){return doGuessOrdinal(r.data,r.sourceFormat,r.seriesLayoutBy,r.dimensionsDefine,r.startIndex,n)}function doGuessOrdinal(r,n,i,o,a,u){var c,f=5;if(isTypedArray(r))return BE_ORDINAL.Not;var d,h;if(o){var v=o[u];isObject$3(v)?(d=v.name,h=v.type):isString$2(v)&&(d=v)}if(h!=null)return h==="ordinal"?BE_ORDINAL.Must:BE_ORDINAL.Not;if(n===SOURCE_FORMAT_ARRAY_ROWS){var g=r;if(i===SERIES_LAYOUT_BY_ROW){for(var p=g[u],y=0;y<(p||[]).length&&y<f;y++)if((c=x(p[a+y]))!=null)return c}else for(var y=0;y<g.length&&y<f;y++){var _=g[a+y];if(_&&(c=x(_[u]))!=null)return c}}else if(n===SOURCE_FORMAT_OBJECT_ROWS){var b=r;if(!d)return BE_ORDINAL.Not;for(var y=0;y<b.length&&y<f;y++){var A=b[y];if(A&&(c=x(A[d]))!=null)return c}}else if(n===SOURCE_FORMAT_KEYED_COLUMNS){var w=r;if(!d)return BE_ORDINAL.Not;var p=w[d];if(!p||isTypedArray(p))return BE_ORDINAL.Not;for(var y=0;y<p.length&&y<f;y++)if((c=x(p[y]))!=null)return c}else if(n===SOURCE_FORMAT_ORIGINAL)for(var T=r,y=0;y<T.length&&y<f;y++){var A=T[y],S=getDataItemValue(A);if(!isArray$1(S))return BE_ORDINAL.Not;if((c=x(S[u]))!=null)return c}function x(O){var L=isString$2(O);if(O!=null&&isFinite(O)&&O!=="")return L?BE_ORDINAL.Might:BE_ORDINAL.Not;if(L&&O!=="-")return BE_ORDINAL.Must}return BE_ORDINAL.Not}var internalOptionCreatorMap=createHashMap();function concatInternalOptions(r,n,i){var o=internalOptionCreatorMap.get(n);if(!o)return i;var a=o(r);if(!a)return i;if(process.env.NODE_ENV!=="production")for(var u=0;u<a.length;u++)assert(isComponentIdInternal(a[u]));return i.concat(a)}var innerColor=makeInner();makeInner();var PaletteMixin=function(){function r(){}return r.prototype.getColorFromPalette=function(n,i,o){var a=normalizeToArray(this.get("color",!0)),u=this.get("colorLayer",!0);return getFromPalette(this,innerColor,a,u,n,i,o)},r.prototype.clearColorPalette=function(){clearPalette(this,innerColor)},r}();function getNearestPalette(r,n){for(var i=r.length,o=0;o<i;o++)if(r[o].length>n)return r[o];return r[i-1]}function getFromPalette(r,n,i,o,a,u,c){u=u||r;var f=n(u),d=f.paletteIdx||0,h=f.paletteNameMap=f.paletteNameMap||{};if(h.hasOwnProperty(a))return h[a];var v=c==null||!o?i:getNearestPalette(o,c);if(v=v||i,!(!v||!v.length)){var g=v[d];return a&&(h[a]=g),f.paletteIdx=(d+1)%v.length,g}}function clearPalette(r,n){n(r).paletteIdx=0,n(r).paletteNameMap={}}var reCreateSeriesIndices,assertSeriesInitialized,initBase,OPTION_INNER_KEY="\0_ec_inner",OPTION_INNER_VALUE=1,BUITIN_COMPONENTS_MAP={grid:"GridComponent",polar:"PolarComponent",geo:"GeoComponent",singleAxis:"SingleAxisComponent",parallel:"ParallelComponent",calendar:"CalendarComponent",graphic:"GraphicComponent",toolbox:"ToolboxComponent",tooltip:"TooltipComponent",axisPointer:"AxisPointerComponent",brush:"BrushComponent",title:"TitleComponent",timeline:"TimelineComponent",markPoint:"MarkPointComponent",markLine:"MarkLineComponent",markArea:"MarkAreaComponent",legend:"LegendComponent",dataZoom:"DataZoomComponent",visualMap:"VisualMapComponent",xAxis:"GridComponent",yAxis:"GridComponent",angleAxis:"PolarComponent",radiusAxis:"PolarComponent"},BUILTIN_CHARTS_MAP={line:"LineChart",bar:"BarChart",pie:"PieChart",scatter:"ScatterChart",radar:"RadarChart",map:"MapChart",tree:"TreeChart",treemap:"TreemapChart",graph:"GraphChart",gauge:"GaugeChart",funnel:"FunnelChart",parallel:"ParallelChart",sankey:"SankeyChart",boxplot:"BoxplotChart",candlestick:"CandlestickChart",effectScatter:"EffectScatterChart",lines:"LinesChart",heatmap:"HeatmapChart",pictorialBar:"PictorialBarChart",themeRiver:"ThemeRiverChart",sunburst:"SunburstChart",custom:"CustomChart"},componetsMissingLogPrinted={};function checkMissingComponents(r){each$4(r,function(n,i){if(!ComponentModel$1.hasClass(i)){var o=BUITIN_COMPONENTS_MAP[i];o&&!componetsMissingLogPrinted[o]&&(error("Component "+i+` is used but not imported.
import { `+o+` } from 'echarts/components';
echarts.use([`+o+"]);"),componetsMissingLogPrinted[o]=!0)}})}var GlobalModel=function(r){__extends(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return n.prototype.init=function(i,o,a,u,c,f){u=u||{},this.option=null,this._theme=new Model$1(u),this._locale=new Model$1(c),this._optionManager=f},n.prototype.setOption=function(i,o,a){process.env.NODE_ENV!=="production"&&(assert(i!=null,"option is null/undefined"),assert(i[OPTION_INNER_KEY]!==OPTION_INNER_VALUE,"please use chart.getOption()"));var u=normalizeSetOptionInput(o);this._optionManager.setOption(i,a,u),this._resetOption(null,u)},n.prototype.resetOption=function(i,o){return this._resetOption(i,normalizeSetOptionInput(o))},n.prototype._resetOption=function(i,o){var a=!1,u=this._optionManager;if(!i||i==="recreate"){var c=u.mountOption(i==="recreate");process.env.NODE_ENV!=="production"&&checkMissingComponents(c),!this.option||i==="recreate"?initBase(this,c):(this.restoreData(),this._mergeOption(c,o)),a=!0}if((i==="timeline"||i==="media")&&this.restoreData(),!i||i==="recreate"||i==="timeline"){var f=u.getTimelineOption(this);f&&(a=!0,this._mergeOption(f,o))}if(!i||i==="recreate"||i==="media"){var d=u.getMediaOption(this);d.length&&each$4(d,function(h){a=!0,this._mergeOption(h,o)},this)}return a},n.prototype.mergeOption=function(i){this._mergeOption(i,null)},n.prototype._mergeOption=function(i,o){var a=this.option,u=this._componentsMap,c=this._componentsCount,f=[],d=createHashMap(),h=o&&o.replaceMergeMainTypeMap;resetSourceDefaulter(this),each$4(i,function(g,p){g!=null&&(ComponentModel$1.hasClass(p)?p&&(f.push(p),d.set(p,!0)):a[p]=a[p]==null?clone$2(g):merge(a[p],g,!0))}),h&&h.each(function(g,p){ComponentModel$1.hasClass(p)&&!d.get(p)&&(f.push(p),d.set(p,!0))}),ComponentModel$1.topologicalTravel(f,ComponentModel$1.getAllClassMainTypes(),v,this);function v(g){var p=concatInternalOptions(this,g,normalizeToArray(i[g])),y=u.get(g),_=y?h&&h.get(g)?"replaceMerge":"normalMerge":"replaceAll",b=mappingToExists(y,p,_);setComponentTypeToKeyInfo(b,g,ComponentModel$1),a[g]=null,u.set(g,null),c.set(g,0);var A=[],w=[],T=0,S,x;each$4(b,function(O,L){var M=O.existing,re=O.newOption;if(!re)M&&(M.mergeOption({},this),M.optionUpdated({},!1));else{var F=g==="series",j=ComponentModel$1.getClass(g,O.keyInfo.subType,!F);if(!j){if(process.env.NODE_ENV!=="production"){var V=O.keyInfo.subType,z=BUILTIN_CHARTS_MAP[V];componetsMissingLogPrinted[V]||(componetsMissingLogPrinted[V]=!0,error(z?"Series "+V+` is used but not imported.
import { `+z+` } from 'echarts/charts';
echarts.use([`+z+"]);":"Unknown series "+V))}return}if(g==="tooltip"){if(S){process.env.NODE_ENV!=="production"&&(x||(warn("Currently only one tooltip component is allowed."),x=!0));return}S=!0}if(M&&M.constructor===j)M.name=O.keyInfo.name,M.mergeOption(re,this),M.optionUpdated(re,!1);else{var $=extend({componentIndex:L},O.keyInfo);M=new j(re,this,this,$),extend(M,$),O.brandNew&&(M.__requireNewView=!0),M.init(re,this,this),M.optionUpdated(null,!0)}}M?(A.push(M.option),w.push(M),T++):(A.push(void 0),w.push(void 0))},this),a[g]=A,u.set(g,w),c.set(g,T),g==="series"&&reCreateSeriesIndices(this)}this._seriesIndices||reCreateSeriesIndices(this)},n.prototype.getOption=function(){var i=clone$2(this.option);return each$4(i,function(o,a){if(ComponentModel$1.hasClass(a)){for(var u=normalizeToArray(o),c=u.length,f=!1,d=c-1;d>=0;d--)u[d]&&!isComponentIdInternal(u[d])?f=!0:(u[d]=null,!f&&c--);u.length=c,i[a]=u}}),delete i[OPTION_INNER_KEY],i},n.prototype.getTheme=function(){return this._theme},n.prototype.getLocaleModel=function(){return this._locale},n.prototype.setUpdatePayload=function(i){this._payload=i},n.prototype.getUpdatePayload=function(){return this._payload},n.prototype.getComponent=function(i,o){var a=this._componentsMap.get(i);if(a){var u=a[o||0];if(u)return u;if(o==null){for(var c=0;c<a.length;c++)if(a[c])return a[c]}}},n.prototype.queryComponents=function(i){var o=i.mainType;if(!o)return[];var a=i.index,u=i.id,c=i.name,f=this._componentsMap.get(o);if(!f||!f.length)return[];var d;return a!=null?(d=[],each$4(normalizeToArray(a),function(h){f[h]&&d.push(f[h])})):u!=null?d=queryByIdOrName("id",u,f):c!=null?d=queryByIdOrName("name",c,f):d=filter(f,function(h){return!!h}),filterBySubType(d,i)},n.prototype.findComponents=function(i){var o=i.query,a=i.mainType,u=f(o),c=u?this.queryComponents(u):filter(this._componentsMap.get(a),function(h){return!!h});return d(filterBySubType(c,i));function f(h){var v=a+"Index",g=a+"Id",p=a+"Name";return h&&(h[v]!=null||h[g]!=null||h[p]!=null)?{mainType:a,index:h[v],id:h[g],name:h[p]}:null}function d(h){return i.filter?filter(h,i.filter):h}},n.prototype.eachComponent=function(i,o,a){var u=this._componentsMap;if(isFunction$1(i)){var c=o,f=i;u.each(function(g,p){for(var y=0;g&&y<g.length;y++){var _=g[y];_&&f.call(c,p,_,_.componentIndex)}})}else for(var d=isString$2(i)?u.get(i):isObject$3(i)?this.findComponents(i):null,h=0;d&&h<d.length;h++){var v=d[h];v&&o.call(a,v,v.componentIndex)}},n.prototype.getSeriesByName=function(i){var o=convertOptionIdName(i,null);return filter(this._componentsMap.get("series"),function(a){return!!a&&o!=null&&a.name===o})},n.prototype.getSeriesByIndex=function(i){return this._componentsMap.get("series")[i]},n.prototype.getSeriesByType=function(i){return filter(this._componentsMap.get("series"),function(o){return!!o&&o.subType===i})},n.prototype.getSeries=function(){return filter(this._componentsMap.get("series"),function(i){return!!i})},n.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},n.prototype.eachSeries=function(i,o){assertSeriesInitialized(this),each$4(this._seriesIndices,function(a){var u=this._componentsMap.get("series")[a];i.call(o,u,a)},this)},n.prototype.eachRawSeries=function(i,o){each$4(this._componentsMap.get("series"),function(a){a&&i.call(o,a,a.componentIndex)})},n.prototype.eachSeriesByType=function(i,o,a){assertSeriesInitialized(this),each$4(this._seriesIndices,function(u){var c=this._componentsMap.get("series")[u];c.subType===i&&o.call(a,c,u)},this)},n.prototype.eachRawSeriesByType=function(i,o,a){return each$4(this.getSeriesByType(i),o,a)},n.prototype.isSeriesFiltered=function(i){return assertSeriesInitialized(this),this._seriesIndicesMap.get(i.componentIndex)==null},n.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},n.prototype.filterSeries=function(i,o){assertSeriesInitialized(this);var a=[];each$4(this._seriesIndices,function(u){var c=this._componentsMap.get("series")[u];i.call(o,c,u)&&a.push(u)},this),this._seriesIndices=a,this._seriesIndicesMap=createHashMap(a)},n.prototype.restoreData=function(i){reCreateSeriesIndices(this);var o=this._componentsMap,a=[];o.each(function(u,c){ComponentModel$1.hasClass(c)&&a.push(c)}),ComponentModel$1.topologicalTravel(a,ComponentModel$1.getAllClassMainTypes(),function(u){each$4(o.get(u),function(c){c&&(u!=="series"||!isNotTargetSeries(c,i))&&c.restoreData()})})},n.internalField=function(){reCreateSeriesIndices=function(i){var o=i._seriesIndices=[];each$4(i._componentsMap.get("series"),function(a){a&&o.push(a.componentIndex)}),i._seriesIndicesMap=createHashMap(o)},assertSeriesInitialized=function(i){if(process.env.NODE_ENV!=="production"&&!i._seriesIndices)throw new Error("Option should contains series.")},initBase=function(i,o){i.option={},i.option[OPTION_INNER_KEY]=OPTION_INNER_VALUE,i._componentsMap=createHashMap({series:[]}),i._componentsCount=createHashMap();var a=o.aria;isObject$3(a)&&a.enabled==null&&(a.enabled=!0),mergeTheme(o,i._theme.option),merge(o,globalDefault,!1),i._mergeOption(o,null)}}(),n}(Model$1);function isNotTargetSeries(r,n){if(n){var i=n.seriesIndex,o=n.seriesId,a=n.seriesName;return i!=null&&r.componentIndex!==i||o!=null&&r.id!==o||a!=null&&r.name!==a}}function mergeTheme(r,n){var i=r.color&&!r.colorLayer;each$4(n,function(o,a){a==="colorLayer"&&i||ComponentModel$1.hasClass(a)||(typeof o=="object"?r[a]=r[a]?merge(r[a],o,!1):clone$2(o):r[a]==null&&(r[a]=o))})}function queryByIdOrName(r,n,i){if(isArray$1(n)){var o=createHashMap();return each$4(n,function(u){if(u!=null){var c=convertOptionIdName(u,null);c!=null&&o.set(u,!0)}}),filter(i,function(u){return u&&o.get(u[r])})}else{var a=convertOptionIdName(n,null);return filter(i,function(u){return u&&a!=null&&u[r]===a})}}function filterBySubType(r,n){return n.hasOwnProperty("subType")?filter(r,function(i){return i&&i.subType===n.subType}):r}function normalizeSetOptionInput(r){var n=createHashMap();return r&&each$4(normalizeToArray(r.replaceMerge),function(i){process.env.NODE_ENV!=="production"&&assert(ComponentModel$1.hasClass(i),'"'+i+'" is not valid component main type in "replaceMerge"'),n.set(i,!0)}),{replaceMergeMainTypeMap:n}}mixin(GlobalModel,PaletteMixin);const GlobalModel$1=GlobalModel;var availableMethods=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],ExtensionAPI=function(){function r(n){each$4(availableMethods,function(i){this[i]=bind$1(n[i],n)},this)}return r}();const ExtensionAPI$1=ExtensionAPI;var coordinateSystemCreators={},CoordinateSystemManager=function(){function r(){this._coordinateSystems=[]}return r.prototype.create=function(n,i){var o=[];each$4(coordinateSystemCreators,function(a,u){var c=a.create(n,i);o=o.concat(c||[])}),this._coordinateSystems=o},r.prototype.update=function(n,i){each$4(this._coordinateSystems,function(o){o.update&&o.update(n,i)})},r.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},r.register=function(n,i){coordinateSystemCreators[n]=i},r.get=function(n){return coordinateSystemCreators[n]},r}();const CoordinateSystem=CoordinateSystemManager;var QUERY_REG=/^(min|max)?(.+)$/,OptionManager=function(){function r(n){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=n}return r.prototype.setOption=function(n,i,o){n&&(each$4(normalizeToArray(n.series),function(c){c&&c.data&&isTypedArray(c.data)&&setAsPrimitive(c.data)}),each$4(normalizeToArray(n.dataset),function(c){c&&c.source&&isTypedArray(c.source)&&setAsPrimitive(c.source)})),n=clone$2(n);var a=this._optionBackup,u=parseRawOption(n,i,!a);this._newBaseOption=u.baseOption,a?(u.timelineOptions.length&&(a.timelineOptions=u.timelineOptions),u.mediaList.length&&(a.mediaList=u.mediaList),u.mediaDefault&&(a.mediaDefault=u.mediaDefault)):this._optionBackup=u},r.prototype.mountOption=function(n){var i=this._optionBackup;return this._timelineOptions=i.timelineOptions,this._mediaList=i.mediaList,this._mediaDefault=i.mediaDefault,this._currentMediaIndices=[],clone$2(n?i.baseOption:this._newBaseOption)},r.prototype.getTimelineOption=function(n){var i,o=this._timelineOptions;if(o.length){var a=n.getComponent("timeline");a&&(i=clone$2(o[a.getCurrentIndex()]))}return i},r.prototype.getMediaOption=function(n){var i=this._api.getWidth(),o=this._api.getHeight(),a=this._mediaList,u=this._mediaDefault,c=[],f=[];if(!a.length&&!u)return f;for(var d=0,h=a.length;d<h;d++)applyMediaQuery(a[d].query,i,o)&&c.push(d);return!c.length&&u&&(c=[-1]),c.length&&!indicesEquals(c,this._currentMediaIndices)&&(f=map$1(c,function(v){return clone$2(v===-1?u.option:a[v].option)})),this._currentMediaIndices=c,f},r}();function parseRawOption(r,n,i){var o=[],a,u,c=r.baseOption,f=r.timeline,d=r.options,h=r.media,v=!!r.media,g=!!(d||f||c&&c.timeline);c?(u=c,u.timeline||(u.timeline=f)):((g||v)&&(r.options=r.media=null),u=r),v&&(isArray$1(h)?each$4(h,function(y){process.env.NODE_ENV!=="production"&&y&&!y.option&&isObject$3(y.query)&&isObject$3(y.query.option)&&error("Illegal media option. Must be like { media: [ { query: {}, option: {} } ] }"),y&&y.option&&(y.query?o.push(y):a||(a=y))}):process.env.NODE_ENV!=="production"&&error("Illegal media option. Must be an array. Like { media: [ {...}, {...} ] }")),p(u),each$4(d,function(y){return p(y)}),each$4(o,function(y){return p(y.option)});function p(y){each$4(n,function(_){_(y,i)})}return{baseOption:u,timelineOptions:d||[],mediaDefault:a,mediaList:o}}function applyMediaQuery(r,n,i){var o={width:n,height:i,aspectratio:n/i},a=!0;return each$4(r,function(u,c){var f=c.match(QUERY_REG);if(!(!f||!f[1]||!f[2])){var d=f[1],h=f[2].toLowerCase();compare(o[h],u,d)||(a=!1)}}),a}function compare(r,n,i){return i==="min"?r>=n:i==="max"?r<=n:r===n}function indicesEquals(r,n){return r.join(",")===n.join(",")}const OptionManager$1=OptionManager;var each$2=each$4,isObject$2=isObject$3,POSSIBLE_STYLES=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function compatEC2ItemStyle(r){var n=r&&r.itemStyle;if(n)for(var i=0,o=POSSIBLE_STYLES.length;i<o;i++){var a=POSSIBLE_STYLES[i],u=n.normal,c=n.emphasis;u&&u[a]&&(process.env.NODE_ENV!=="production"&&deprecateReplaceLog("itemStyle.normal."+a,a),r[a]=r[a]||{},r[a].normal?merge(r[a].normal,u[a]):r[a].normal=u[a],u[a]=null),c&&c[a]&&(process.env.NODE_ENV!=="production"&&deprecateReplaceLog("itemStyle.emphasis."+a,"emphasis."+a),r[a]=r[a]||{},r[a].emphasis?merge(r[a].emphasis,c[a]):r[a].emphasis=c[a],c[a]=null)}}function convertNormalEmphasis(r,n,i){if(r&&r[n]&&(r[n].normal||r[n].emphasis)){var o=r[n].normal,a=r[n].emphasis;o&&(process.env.NODE_ENV!=="production"&&deprecateLog("'normal' hierarchy in "+n+" has been removed since 4.0. All style properties are configured in "+n+" directly now."),i?(r[n].normal=r[n].emphasis=null,defaults(r[n],o)):r[n]=o),a&&(process.env.NODE_ENV!=="production"&&deprecateLog(n+".emphasis has been changed to emphasis."+n+" since 4.0"),r.emphasis=r.emphasis||{},r.emphasis[n]=a,a.focus&&(r.emphasis.focus=a.focus),a.blurScope&&(r.emphasis.blurScope=a.blurScope))}}function removeEC3NormalStatus(r){convertNormalEmphasis(r,"itemStyle"),convertNormalEmphasis(r,"lineStyle"),convertNormalEmphasis(r,"areaStyle"),convertNormalEmphasis(r,"label"),convertNormalEmphasis(r,"labelLine"),convertNormalEmphasis(r,"upperLabel"),convertNormalEmphasis(r,"edgeLabel")}function compatTextStyle(r,n){var i=isObject$2(r)&&r[n],o=isObject$2(i)&&i.textStyle;if(o){process.env.NODE_ENV!=="production"&&deprecateLog("textStyle hierarchy in "+n+" has been removed since 4.0. All textStyle properties are configured in "+n+" directly now.");for(var a=0,u=TEXT_STYLE_OPTIONS.length;a<u;a++){var c=TEXT_STYLE_OPTIONS[a];o.hasOwnProperty(c)&&(i[c]=o[c])}}}function compatEC3CommonStyles(r){r&&(removeEC3NormalStatus(r),compatTextStyle(r,"label"),r.emphasis&&compatTextStyle(r.emphasis,"label"))}function processSeries(r){if(isObject$2(r)){compatEC2ItemStyle(r),removeEC3NormalStatus(r),compatTextStyle(r,"label"),compatTextStyle(r,"upperLabel"),compatTextStyle(r,"edgeLabel"),r.emphasis&&(compatTextStyle(r.emphasis,"label"),compatTextStyle(r.emphasis,"upperLabel"),compatTextStyle(r.emphasis,"edgeLabel"));var n=r.markPoint;n&&(compatEC2ItemStyle(n),compatEC3CommonStyles(n));var i=r.markLine;i&&(compatEC2ItemStyle(i),compatEC3CommonStyles(i));var o=r.markArea;o&&compatEC3CommonStyles(o);var a=r.data;if(r.type==="graph"){a=a||r.nodes;var u=r.links||r.edges;if(u&&!isTypedArray(u))for(var c=0;c<u.length;c++)compatEC3CommonStyles(u[c]);each$4(r.categories,function(h){removeEC3NormalStatus(h)})}if(a&&!isTypedArray(a))for(var c=0;c<a.length;c++)compatEC3CommonStyles(a[c]);if(n=r.markPoint,n&&n.data)for(var f=n.data,c=0;c<f.length;c++)compatEC3CommonStyles(f[c]);if(i=r.markLine,i&&i.data)for(var d=i.data,c=0;c<d.length;c++)isArray$1(d[c])?(compatEC3CommonStyles(d[c][0]),compatEC3CommonStyles(d[c][1])):compatEC3CommonStyles(d[c]);r.type==="gauge"?(compatTextStyle(r,"axisLabel"),compatTextStyle(r,"title"),compatTextStyle(r,"detail")):r.type==="treemap"?(convertNormalEmphasis(r.breadcrumb,"itemStyle"),each$4(r.levels,function(h){removeEC3NormalStatus(h)})):r.type==="tree"&&removeEC3NormalStatus(r.leaves)}}function toArr(r){return isArray$1(r)?r:r?[r]:[]}function toObj(r){return(isArray$1(r)?r[0]:r)||{}}function globalCompatStyle(r,n){each$2(toArr(r.series),function(o){isObject$2(o)&&processSeries(o)});var i=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];n&&i.push("valueAxis","categoryAxis","logAxis","timeAxis"),each$2(i,function(o){each$2(toArr(r[o]),function(a){a&&(compatTextStyle(a,"axisLabel"),compatTextStyle(a.axisPointer,"label"))})}),each$2(toArr(r.parallel),function(o){var a=o&&o.parallelAxisDefault;compatTextStyle(a,"axisLabel"),compatTextStyle(a&&a.axisPointer,"label")}),each$2(toArr(r.calendar),function(o){convertNormalEmphasis(o,"itemStyle"),compatTextStyle(o,"dayLabel"),compatTextStyle(o,"monthLabel"),compatTextStyle(o,"yearLabel")}),each$2(toArr(r.radar),function(o){compatTextStyle(o,"name"),o.name&&o.axisName==null&&(o.axisName=o.name,delete o.name,process.env.NODE_ENV!=="production"&&deprecateLog("name property in radar component has been changed to axisName")),o.nameGap!=null&&o.axisNameGap==null&&(o.axisNameGap=o.nameGap,delete o.nameGap,process.env.NODE_ENV!=="production"&&deprecateLog("nameGap property in radar component has been changed to axisNameGap")),process.env.NODE_ENV!=="production"&&each$2(o.indicator,function(a){a.text&&deprecateReplaceLog("text","name","radar.indicator")})}),each$2(toArr(r.geo),function(o){isObject$2(o)&&(compatEC3CommonStyles(o),each$2(toArr(o.regions),function(a){compatEC3CommonStyles(a)}))}),each$2(toArr(r.timeline),function(o){compatEC3CommonStyles(o),convertNormalEmphasis(o,"label"),convertNormalEmphasis(o,"itemStyle"),convertNormalEmphasis(o,"controlStyle",!0);var a=o.data;isArray$1(a)&&each$4(a,function(u){isObject$3(u)&&(convertNormalEmphasis(u,"label"),convertNormalEmphasis(u,"itemStyle"))})}),each$2(toArr(r.toolbox),function(o){convertNormalEmphasis(o,"iconStyle"),each$2(o.feature,function(a){convertNormalEmphasis(a,"iconStyle")})}),compatTextStyle(toObj(r.axisPointer),"label"),compatTextStyle(toObj(r.tooltip).axisPointer,"label")}function get(r,n){for(var i=n.split(","),o=r,a=0;a<i.length&&(o=o&&o[i[a]],o!=null);a++);return o}function set(r,n,i,o){for(var a=n.split(","),u=r,c,f=0;f<a.length-1;f++)c=a[f],u[c]==null&&(u[c]={}),u=u[c];(o||u[a[f]]==null)&&(u[a[f]]=i)}function compatLayoutProperties(r){r&&each$4(LAYOUT_PROPERTIES,function(n){n[0]in r&&!(n[1]in r)&&(r[n[1]]=r[n[0]])})}var LAYOUT_PROPERTIES=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],COMPATITABLE_COMPONENTS=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],BAR_ITEM_STYLE_MAP=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function compatBarItemStyle(r){var n=r&&r.itemStyle;if(n)for(var i=0;i<BAR_ITEM_STYLE_MAP.length;i++){var o=BAR_ITEM_STYLE_MAP[i][1],a=BAR_ITEM_STYLE_MAP[i][0];n[o]!=null&&(n[a]=n[o],process.env.NODE_ENV!=="production"&&deprecateReplaceLog(o,a))}}function compatPieLabel(r){r&&r.alignTo==="edge"&&r.margin!=null&&r.edgeDistance==null&&(process.env.NODE_ENV!=="production"&&deprecateReplaceLog("label.margin","label.edgeDistance","pie"),r.edgeDistance=r.margin)}function compatSunburstState(r){r&&r.downplay&&!r.blur&&(r.blur=r.downplay,process.env.NODE_ENV!=="production"&&deprecateReplaceLog("downplay","blur","sunburst"))}function compatGraphFocus(r){r&&r.focusNodeAdjacency!=null&&(r.emphasis=r.emphasis||{},r.emphasis.focus==null&&(process.env.NODE_ENV!=="production"&&deprecateReplaceLog("focusNodeAdjacency","emphasis: { focus: 'adjacency'}","graph/sankey"),r.emphasis.focus="adjacency"))}function traverseTree(r,n){if(r)for(var i=0;i<r.length;i++)n(r[i]),r[i]&&traverseTree(r[i].children,n)}function globalBackwardCompat(r,n){globalCompatStyle(r,n),r.series=normalizeToArray(r.series),each$4(r.series,function(i){if(isObject$3(i)){var o=i.type;if(o==="line")i.clipOverflow!=null&&(i.clip=i.clipOverflow,process.env.NODE_ENV!=="production"&&deprecateReplaceLog("clipOverflow","clip","line"));else if(o==="pie"||o==="gauge"){i.clockWise!=null&&(i.clockwise=i.clockWise,process.env.NODE_ENV!=="production"&&deprecateReplaceLog("clockWise","clockwise")),compatPieLabel(i.label);var a=i.data;if(a&&!isTypedArray(a))for(var u=0;u<a.length;u++)compatPieLabel(a[u]);i.hoverOffset!=null&&(i.emphasis=i.emphasis||{},(i.emphasis.scaleSize=null)&&(process.env.NODE_ENV!=="production"&&deprecateReplaceLog("hoverOffset","emphasis.scaleSize"),i.emphasis.scaleSize=i.hoverOffset))}else if(o==="gauge"){var c=get(i,"pointer.color");c!=null&&set(i,"itemStyle.color",c)}else if(o==="bar"){compatBarItemStyle(i),compatBarItemStyle(i.backgroundStyle),compatBarItemStyle(i.emphasis);var a=i.data;if(a&&!isTypedArray(a))for(var u=0;u<a.length;u++)typeof a[u]=="object"&&(compatBarItemStyle(a[u]),compatBarItemStyle(a[u]&&a[u].emphasis))}else if(o==="sunburst"){var f=i.highlightPolicy;f&&(i.emphasis=i.emphasis||{},i.emphasis.focus||(i.emphasis.focus=f,process.env.NODE_ENV!=="production"&&deprecateReplaceLog("highlightPolicy","emphasis.focus","sunburst"))),compatSunburstState(i),traverseTree(i.data,compatSunburstState)}else o==="graph"||o==="sankey"?compatGraphFocus(i):o==="map"&&(i.mapType&&!i.map&&(process.env.NODE_ENV!=="production"&&deprecateReplaceLog("mapType","map","map"),i.map=i.mapType),i.mapLocation&&(process.env.NODE_ENV!=="production"&&deprecateLog("`mapLocation` is not used anymore."),defaults(i,i.mapLocation)));i.hoverAnimation!=null&&(i.emphasis=i.emphasis||{},i.emphasis&&i.emphasis.scale==null&&(process.env.NODE_ENV!=="production"&&deprecateReplaceLog("hoverAnimation","emphasis.scale"),i.emphasis.scale=i.hoverAnimation)),compatLayoutProperties(i)}}),r.dataRange&&(r.visualMap=r.dataRange),each$4(COMPATITABLE_COMPONENTS,function(i){var o=r[i];o&&(isArray$1(o)||(o=[o]),each$4(o,function(a){compatLayoutProperties(a)}))})}function dataStack(r){var n=createHashMap();r.eachSeries(function(i){var o=i.get("stack");if(o){var a=n.get(o)||n.set(o,[]),u=i.getData(),c={stackResultDimension:u.getCalculationInfo("stackResultDimension"),stackedOverDimension:u.getCalculationInfo("stackedOverDimension"),stackedDimension:u.getCalculationInfo("stackedDimension"),stackedByDimension:u.getCalculationInfo("stackedByDimension"),isStackedByIndex:u.getCalculationInfo("isStackedByIndex"),data:u,seriesModel:i};if(!c.stackedDimension||!(c.isStackedByIndex||c.stackedByDimension))return;a.length&&u.setCalculationInfo("stackedOnSeries",a[a.length-1].seriesModel),a.push(c)}}),n.each(calculateStack)}function calculateStack(r){each$4(r,function(n,i){var o=[],a=[NaN,NaN],u=[n.stackResultDimension,n.stackedOverDimension],c=n.data,f=n.isStackedByIndex,d=n.seriesModel.get("stackStrategy")||"samesign";c.modify(u,function(h,v,g){var p=c.get(n.stackedDimension,g);if(isNaN(p))return a;var y,_;f?_=c.getRawIndex(g):y=c.get(n.stackedByDimension,g);for(var b=NaN,A=i-1;A>=0;A--){var w=r[A];if(f||(_=w.data.rawIndexOf(w.stackedByDimension,y)),_>=0){var T=w.data.getByRawIndex(w.stackResultDimension,_);if(d==="all"||d==="positive"&&T>0||d==="negative"&&T<0||d==="samesign"&&p>=0&&T>0||d==="samesign"&&p<=0&&T<0){p=addSafe(p,T),b=T;break}}}return o[0]=p,o[1]=b,o})})}var SourceImpl=function(){function r(n){this.data=n.data||(n.sourceFormat===SOURCE_FORMAT_KEYED_COLUMNS?{}:[]),this.sourceFormat=n.sourceFormat||SOURCE_FORMAT_UNKNOWN,this.seriesLayoutBy=n.seriesLayoutBy||SERIES_LAYOUT_BY_COLUMN,this.startIndex=n.startIndex||0,this.dimensionsDetectedCount=n.dimensionsDetectedCount,this.metaRawOption=n.metaRawOption;var i=this.dimensionsDefine=n.dimensionsDefine;if(i)for(var o=0;o<i.length;o++){var a=i[o];a.type==null&&guessOrdinal(this,o)===BE_ORDINAL.Must&&(a.type="ordinal")}}return r}();function isSourceInstance(r){return r instanceof SourceImpl}function createSource(r,n,i){i=i||detectSourceFormat(r);var o=n.seriesLayoutBy,a=determineSourceDimensions(r,i,o,n.sourceHeader,n.dimensions),u=new SourceImpl({data:r,sourceFormat:i,seriesLayoutBy:o,dimensionsDefine:a.dimensionsDefine,startIndex:a.startIndex,dimensionsDetectedCount:a.dimensionsDetectedCount,metaRawOption:clone$2(n)});return u}function createSourceFromSeriesDataOption(r){return new SourceImpl({data:r,sourceFormat:isTypedArray(r)?SOURCE_FORMAT_TYPED_ARRAY:SOURCE_FORMAT_ORIGINAL})}function cloneSourceShallow(r){return new SourceImpl({data:r.data,sourceFormat:r.sourceFormat,seriesLayoutBy:r.seriesLayoutBy,dimensionsDefine:clone$2(r.dimensionsDefine),startIndex:r.startIndex,dimensionsDetectedCount:r.dimensionsDetectedCount})}function detectSourceFormat(r){var n=SOURCE_FORMAT_UNKNOWN;if(isTypedArray(r))n=SOURCE_FORMAT_TYPED_ARRAY;else if(isArray$1(r)){r.length===0&&(n=SOURCE_FORMAT_ARRAY_ROWS);for(var i=0,o=r.length;i<o;i++){var a=r[i];if(a!=null){if(isArray$1(a)){n=SOURCE_FORMAT_ARRAY_ROWS;break}else if(isObject$3(a)){n=SOURCE_FORMAT_OBJECT_ROWS;break}}}}else if(isObject$3(r)){for(var u in r)if(hasOwn$1(r,u)&&isArrayLike(r[u])){n=SOURCE_FORMAT_KEYED_COLUMNS;break}}return n}function determineSourceDimensions(r,n,i,o,a){var u,c;if(!r)return{dimensionsDefine:normalizeDimensionsOption(a),startIndex:c,dimensionsDetectedCount:u};if(n===SOURCE_FORMAT_ARRAY_ROWS){var f=r;o==="auto"||o==null?arrayRowsTravelFirst(function(h){h!=null&&h!=="-"&&(isString$2(h)?c==null&&(c=1):c=0)},i,f,10):c=isNumber$1(o)?o:o?1:0,!a&&c===1&&(a=[],arrayRowsTravelFirst(function(h,v){a[v]=h!=null?h+"":""},i,f,1/0)),u=a?a.length:i===SERIES_LAYOUT_BY_ROW?f.length:f[0]?f[0].length:null}else if(n===SOURCE_FORMAT_OBJECT_ROWS)a||(a=objectRowsCollectDimensions(r));else if(n===SOURCE_FORMAT_KEYED_COLUMNS)a||(a=[],each$4(r,function(h,v){a.push(v)}));else if(n===SOURCE_FORMAT_ORIGINAL){var d=getDataItemValue(r[0]);u=isArray$1(d)&&d.length||1}else n===SOURCE_FORMAT_TYPED_ARRAY&&process.env.NODE_ENV!=="production"&&assert(!!a,"dimensions must be given if data is TypedArray.");return{startIndex:c,dimensionsDefine:normalizeDimensionsOption(a),dimensionsDetectedCount:u}}function objectRowsCollectDimensions(r){for(var n=0,i;n<r.length&&!(i=r[n++]););if(i){var o=[];return each$4(i,function(a,u){o.push(u)}),o}}function normalizeDimensionsOption(r){if(r){var n=createHashMap();return map$1(r,function(i,o){i=isObject$3(i)?i:{name:i};var a={name:i.name,displayName:i.displayName,type:i.type};if(a.name==null)return a;a.name+="",a.displayName==null&&(a.displayName=a.name);var u=n.get(a.name);return u?a.name+="-"+u.count++:n.set(a.name,{count:1}),a})}}function arrayRowsTravelFirst(r,n,i,o){if(n===SERIES_LAYOUT_BY_ROW)for(var a=0;a<i.length&&a<o;a++)r(i[a]?i[a][0]:null,a);else for(var u=i[0]||[],a=0;a<u.length&&a<o;a++)r(u[a],a)}function shouldRetrieveDataByName(r){var n=r.sourceFormat;return n===SOURCE_FORMAT_OBJECT_ROWS||n===SOURCE_FORMAT_KEYED_COLUMNS}var _a$1,_b,_c,providerMethods,mountMethods,DefaultDataProvider=function(){function r(n,i){var o=isSourceInstance(n)?n:createSourceFromSeriesDataOption(n);this._source=o;var a=this._data=o.data;if(o.sourceFormat===SOURCE_FORMAT_TYPED_ARRAY){if(process.env.NODE_ENV!=="production"&&i==null)throw new Error("Typed array data must specify dimension size");this._offset=0,this._dimSize=i,this._data=a}mountMethods(this,a,o)}return r.prototype.getSource=function(){return this._source},r.prototype.count=function(){return 0},r.prototype.getItem=function(n,i){},r.prototype.appendData=function(n){},r.prototype.clean=function(){},r.protoInitialize=function(){var n=r.prototype;n.pure=!1,n.persistent=!0}(),r.internalField=function(){var n;mountMethods=function(c,f,d){var h=d.sourceFormat,v=d.seriesLayoutBy,g=d.startIndex,p=d.dimensionsDefine,y=providerMethods[getMethodMapKey(h,v)];if(process.env.NODE_ENV!=="production"&&assert(y,"Invalide sourceFormat: "+h),extend(c,y),h===SOURCE_FORMAT_TYPED_ARRAY)c.getItem=i,c.count=a,c.fillStorage=o;else{var _=getRawSourceItemGetter(h,v);c.getItem=bind$1(_,null,f,g,p);var b=getRawSourceDataCounter(h,v);c.count=bind$1(b,null,f,g,p)}};var i=function(c,f){c=c-this._offset,f=f||[];for(var d=this._data,h=this._dimSize,v=h*c,g=0;g<h;g++)f[g]=d[v+g];return f},o=function(c,f,d,h){for(var v=this._data,g=this._dimSize,p=0;p<g;p++){for(var y=h[p],_=y[0]==null?1/0:y[0],b=y[1]==null?-1/0:y[1],A=f-c,w=d[p],T=0;T<A;T++){var S=v[T*g+p];w[c+T]=S,S<_&&(_=S),S>b&&(b=S)}y[0]=_,y[1]=b}},a=function(){return this._data?this._data.length/this._dimSize:0};providerMethods=(n={},n[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_COLUMN]={pure:!0,appendData:u},n[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_ROW]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},n[SOURCE_FORMAT_OBJECT_ROWS]={pure:!0,appendData:u},n[SOURCE_FORMAT_KEYED_COLUMNS]={pure:!0,appendData:function(c){var f=this._data;each$4(c,function(d,h){for(var v=f[h]||(f[h]=[]),g=0;g<(d||[]).length;g++)v.push(d[g])})}},n[SOURCE_FORMAT_ORIGINAL]={appendData:u},n[SOURCE_FORMAT_TYPED_ARRAY]={persistent:!1,pure:!0,appendData:function(c){process.env.NODE_ENV!=="production"&&assert(isTypedArray(c),"Added data must be TypedArray if data in initialization is TypedArray"),this._data=c},clean:function(){this._offset+=this.count(),this._data=null}},n);function u(c){for(var f=0;f<c.length;f++)this._data.push(c[f])}}(),r}(),getItemSimply=function(r,n,i,o){return r[o]},rawSourceItemGetterMap=(_a$1={},_a$1[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_COLUMN]=function(r,n,i,o){return r[o+n]},_a$1[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_ROW]=function(r,n,i,o,a){o+=n;for(var u=a||[],c=r,f=0;f<c.length;f++){var d=c[f];u[f]=d?d[o]:null}return u},_a$1[SOURCE_FORMAT_OBJECT_ROWS]=getItemSimply,_a$1[SOURCE_FORMAT_KEYED_COLUMNS]=function(r,n,i,o,a){for(var u=a||[],c=0;c<i.length;c++){var f=i[c].name;if(process.env.NODE_ENV!=="production"&&f==null)throw new Error;var d=r[f];u[c]=d?d[o]:null}return u},_a$1[SOURCE_FORMAT_ORIGINAL]=getItemSimply,_a$1);function getRawSourceItemGetter(r,n){var i=rawSourceItemGetterMap[getMethodMapKey(r,n)];return process.env.NODE_ENV!=="production"&&assert(i,'Do not support get item on "'+r+'", "'+n+'".'),i}var countSimply=function(r,n,i){return r.length},rawSourceDataCounterMap=(_b={},_b[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_COLUMN]=function(r,n,i){return Math.max(0,r.length-n)},_b[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_ROW]=function(r,n,i){var o=r[0];return o?Math.max(0,o.length-n):0},_b[SOURCE_FORMAT_OBJECT_ROWS]=countSimply,_b[SOURCE_FORMAT_KEYED_COLUMNS]=function(r,n,i){var o=i[0].name;if(process.env.NODE_ENV!=="production"&&o==null)throw new Error;var a=r[o];return a?a.length:0},_b[SOURCE_FORMAT_ORIGINAL]=countSimply,_b);function getRawSourceDataCounter(r,n){var i=rawSourceDataCounterMap[getMethodMapKey(r,n)];return process.env.NODE_ENV!=="production"&&assert(i,'Do not support count on "'+r+'", "'+n+'".'),i}var getRawValueSimply=function(r,n,i){return r[n]},rawSourceValueGetterMap=(_c={},_c[SOURCE_FORMAT_ARRAY_ROWS]=getRawValueSimply,_c[SOURCE_FORMAT_OBJECT_ROWS]=function(r,n,i){return r[i]},_c[SOURCE_FORMAT_KEYED_COLUMNS]=getRawValueSimply,_c[SOURCE_FORMAT_ORIGINAL]=function(r,n,i){var o=getDataItemValue(r);return o instanceof Array?o[n]:o},_c[SOURCE_FORMAT_TYPED_ARRAY]=getRawValueSimply,_c);function getRawSourceValueGetter(r){var n=rawSourceValueGetterMap[r];return process.env.NODE_ENV!=="production"&&assert(n,'Do not support get value on "'+r+'".'),n}function getMethodMapKey(r,n){return r===SOURCE_FORMAT_ARRAY_ROWS?r+"_"+n:r}function retrieveRawValue(r,n,i){if(r){var o=r.getRawDataItem(n);if(o!=null){var a=r.getStore(),u=a.getSource().sourceFormat;if(i!=null){var c=r.getDimensionIndex(i),f=a.getDimensionProperty(c);return getRawSourceValueGetter(u)(o,c,f)}else{var d=o;return u===SOURCE_FORMAT_ORIGINAL&&(d=getDataItemValue(o)),d}}}}var DIMENSION_LABEL_REG=/\{@(.+?)\}/g,DataFormatMixin=function(){function r(){}return r.prototype.getDataParams=function(n,i){var o=this.getData(i),a=this.getRawValue(n,i),u=o.getRawIndex(n),c=o.getName(n),f=o.getRawDataItem(n),d=o.getItemVisual(n,"style"),h=d&&d[o.getItemVisual(n,"drawType")||"fill"],v=d&&d.stroke,g=this.mainType,p=g==="series",y=o.userOutput&&o.userOutput.get();return{componentType:g,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:p?this.subType:null,seriesIndex:this.seriesIndex,seriesId:p?this.id:null,seriesName:p?this.name:null,name:c,dataIndex:u,data:f,dataType:i,value:a,color:h,borderColor:v,dimensionNames:y?y.fullDimensions:null,encode:y?y.encode:null,$vars:["seriesName","name","value"]}},r.prototype.getFormattedLabel=function(n,i,o,a,u,c){i=i||"normal";var f=this.getData(o),d=this.getDataParams(n,o);if(c&&(d.value=c.interpolatedValue),a!=null&&isArray$1(d.value)&&(d.value=d.value[a]),!u){var h=f.getItemModel(n);u=h.get(i==="normal"?["label","formatter"]:[i,"label","formatter"])}if(isFunction$1(u))return d.status=i,d.dimensionIndex=a,u(d);if(isString$2(u)){var v=formatTpl(u,d);return v.replace(DIMENSION_LABEL_REG,function(g,p){var y=p.length,_=p;_.charAt(0)==="["&&_.charAt(y-1)==="]"&&(_=+_.slice(1,y-1),process.env.NODE_ENV!=="production"&&isNaN(_)&&error("Invalide label formatter: @"+p+", only support @[0], @[1], @[2], ..."));var b=retrieveRawValue(f,n,_);if(c&&isArray$1(c.interpolatedValue)){var A=f.getDimensionIndex(_);A>=0&&(b=c.interpolatedValue[A])}return b!=null?b+"":""})}},r.prototype.getRawValue=function(n,i){return retrieveRawValue(this.getData(i),n)},r.prototype.formatTooltip=function(n,i,o){},r}();function normalizeTooltipFormatResult(r){var n,i;return isObject$3(r)?r.type?i=r:process.env.NODE_ENV!=="production"&&console.warn("The return type of `formatTooltip` is not supported: "+makePrintable(r)):n=r,{text:n,frag:i}}function createTask(r){return new Task(r)}var Task=function(){function r(n){n=n||{},this._reset=n.reset,this._plan=n.plan,this._count=n.count,this._onDirty=n.onDirty,this._dirty=!0}return r.prototype.perform=function(n){var i=this._upstream,o=n&&n.skip;if(this._dirty&&i){var a=this.context;a.data=a.outputData=i.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var u;this._plan&&!o&&(u=this._plan(this.context));var c=v(this._modBy),f=this._modDataCount||0,d=v(n&&n.modBy),h=n&&n.modDataCount||0;(c!==d||f!==h)&&(u="reset");function v(T){return!(T>=1)&&(T=1),T}var g;(this._dirty||u==="reset")&&(this._dirty=!1,g=this._doReset(o)),this._modBy=d,this._modDataCount=h;var p=n&&n.step;if(i?(process.env.NODE_ENV!=="production"&&assert(i._outputDueEnd!=null),this._dueEnd=i._outputDueEnd):(process.env.NODE_ENV!=="production"&&assert(!this._progress||this._count),this._dueEnd=this._count?this._count(this.context):1/0),this._progress){var y=this._dueIndex,_=Math.min(p!=null?this._dueIndex+p:1/0,this._dueEnd);if(!o&&(g||y<_)){var b=this._progress;if(isArray$1(b))for(var A=0;A<b.length;A++)this._doProgress(b[A],y,_,d,h);else this._doProgress(b,y,_,d,h)}this._dueIndex=_;var w=this._settedOutputEnd!=null?this._settedOutputEnd:_;process.env.NODE_ENV!=="production"&&assert(w>=this._outputDueEnd),this._outputDueEnd=w}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},r.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},r.prototype._doProgress=function(n,i,o,a,u){iterator.reset(i,o,a,u),this._callingProgress=n,this._callingProgress({start:i,end:o,count:o-i,next:iterator.next},this.context)},r.prototype._doReset=function(n){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var i,o;!n&&this._reset&&(i=this._reset(this.context),i&&i.progress&&(o=i.forceFirstProgress,i=i.progress),isArray$1(i)&&!i.length&&(i=null)),this._progress=i,this._modBy=this._modDataCount=null;var a=this._downstream;return a&&a.dirty(),o},r.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},r.prototype.pipe=function(n){process.env.NODE_ENV!=="production"&&assert(n&&!n._disposed&&n!==this),(this._downstream!==n||this._dirty)&&(this._downstream=n,n._upstream=this,n.dirty())},r.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},r.prototype.getUpstream=function(){return this._upstream},r.prototype.getDownstream=function(){return this._downstream},r.prototype.setOutputEnd=function(n){this._outputDueEnd=this._settedOutputEnd=n},r}(),iterator=function(){var r,n,i,o,a,u={reset:function(d,h,v,g){n=d,r=h,i=v,o=g,a=Math.ceil(o/i),u.next=i>1&&o>0?f:c}};return u;function c(){return n<r?n++:null}function f(){var d=n%a*i+Math.ceil(n/a),h=n>=r?null:d<o?d:n;return n++,h}}();function parseDataValue(r,n){var i=n&&n.type;return i==="ordinal"?r:(i==="time"&&!isNumber$1(r)&&r!=null&&r!=="-"&&(r=+parseDate(r)),r==null||r===""?NaN:+r)}createHashMap({number:function(r){return parseFloat(r)},time:function(r){return+parseDate(r)},trim:function(r){return isString$2(r)?trim(r):r}});var SortOrderComparator=function(){function r(n,i){var o=n==="desc";this._resultLT=o?1:-1,i==null&&(i=o?"min":"max"),this._incomparable=i==="min"?-1/0:1/0}return r.prototype.evaluate=function(n,i){var o=isNumber$1(n)?n:numericToNumber(n),a=isNumber$1(i)?i:numericToNumber(i),u=isNaN(o),c=isNaN(a);if(u&&(o=this._incomparable),c&&(a=this._incomparable),u&&c){var f=isString$2(n),d=isString$2(i);f&&(o=d?n:0),d&&(a=f?i:0)}return o<a?this._resultLT:o>a?-this._resultLT:0},r}(),ExternalSource=function(){function r(){}return r.prototype.getRawData=function(){throw new Error("not supported")},r.prototype.getRawDataItem=function(n){throw new Error("not supported")},r.prototype.cloneRawData=function(){},r.prototype.getDimensionInfo=function(n){},r.prototype.cloneAllDimensionInfo=function(){},r.prototype.count=function(){},r.prototype.retrieveValue=function(n,i){},r.prototype.retrieveValueFromItem=function(n,i){},r.prototype.convertValue=function(n,i){return parseDataValue(n,i)},r}();function createExternalSource(r,n){var i=new ExternalSource,o=r.data,a=i.sourceFormat=r.sourceFormat,u=r.startIndex,c="";r.seriesLayoutBy!==SERIES_LAYOUT_BY_COLUMN&&(process.env.NODE_ENV!=="production"&&(c='`seriesLayoutBy` of upstream dataset can only be "column" in data transform.'),throwError$1(c));var f=[],d={},h=r.dimensionsDefine;if(h)each$4(h,function(b,A){var w=b.name,T={index:A,name:w,displayName:b.displayName};if(f.push(T),w!=null){var S="";hasOwn$1(d,w)&&(process.env.NODE_ENV!=="production"&&(S='dimension name "'+w+'" duplicated.'),throwError$1(S)),d[w]=T}});else for(var v=0;v<r.dimensionsDetectedCount;v++)f.push({index:v});var g=getRawSourceItemGetter(a,SERIES_LAYOUT_BY_COLUMN);n.__isBuiltIn&&(i.getRawDataItem=function(b){return g(o,u,f,b)},i.getRawData=bind$1(getRawData,null,r)),i.cloneRawData=bind$1(cloneRawData,null,r);var p=getRawSourceDataCounter(a,SERIES_LAYOUT_BY_COLUMN);i.count=bind$1(p,null,o,u,f);var y=getRawSourceValueGetter(a);i.retrieveValue=function(b,A){var w=g(o,u,f,b);return _(w,A)};var _=i.retrieveValueFromItem=function(b,A){if(b!=null){var w=f[A];if(w)return y(b,A,w.name)}};return i.getDimensionInfo=bind$1(getDimensionInfo,null,f,d),i.cloneAllDimensionInfo=bind$1(cloneAllDimensionInfo,null,f),i}function getRawData(r){var n=r.sourceFormat;if(!isSupportedSourceFormat(n)){var i="";process.env.NODE_ENV!=="production"&&(i="`getRawData` is not supported in source format "+n),throwError$1(i)}return r.data}function cloneRawData(r){var n=r.sourceFormat,i=r.data;if(!isSupportedSourceFormat(n)){var o="";process.env.NODE_ENV!=="production"&&(o="`cloneRawData` is not supported in source format "+n),throwError$1(o)}if(n===SOURCE_FORMAT_ARRAY_ROWS){for(var a=[],u=0,c=i.length;u<c;u++)a.push(i[u].slice());return a}else if(n===SOURCE_FORMAT_OBJECT_ROWS){for(var a=[],u=0,c=i.length;u<c;u++)a.push(extend({},i[u]));return a}}function getDimensionInfo(r,n,i){if(i!=null){if(isNumber$1(i)||!isNaN(i)&&!hasOwn$1(n,i))return r[i];if(hasOwn$1(n,i))return n[i]}}function cloneAllDimensionInfo(r){return clone$2(r)}var externalTransformMap=createHashMap();function registerExternalTransform(r){r=clone$2(r);var n=r.type,i="";n||(process.env.NODE_ENV!=="production"&&(i="Must have a `type` when `registerTransform`."),throwError$1(i));var o=n.split(":");o.length!==2&&(process.env.NODE_ENV!=="production"&&(i='Name must include namespace like "ns:regression".'),throwError$1(i));var a=!1;o[0]==="echarts"&&(n=o[1],a=!0),r.__isBuiltIn=a,externalTransformMap.set(n,r)}function applyDataTransform(r,n,i){var o=normalizeToArray(r),a=o.length,u="";a||(process.env.NODE_ENV!=="production"&&(u="If `transform` declared, it should at least contain one transform."),throwError$1(u));for(var c=0,f=a;c<f;c++){var d=o[c];n=applySingleDataTransform(d,n,i,a===1?null:c),c!==f-1&&(n.length=Math.max(n.length,1))}return n}function applySingleDataTransform(r,n,i,o){var a="";n.length||(process.env.NODE_ENV!=="production"&&(a="Must have at least one upstream dataset."),throwError$1(a)),isObject$3(r)||(process.env.NODE_ENV!=="production"&&(a="transform declaration must be an object rather than "+typeof r+"."),throwError$1(a));var u=r.type,c=externalTransformMap.get(u);c||(process.env.NODE_ENV!=="production"&&(a='Can not find transform on type "'+u+'".'),throwError$1(a));var f=map$1(n,function(v){return createExternalSource(v,c)}),d=normalizeToArray(c.transform({upstream:f[0],upstreamList:f,config:clone$2(r.config)}));if(process.env.NODE_ENV!=="production"&&r.print){var h=map$1(d,function(v){var g=o!=null?" === pipe index: "+o:"";return["=== dataset index: "+i.datasetIndex+g+" ===","- transform result data:",makePrintable(v.data),"- transform result dimensions:",makePrintable(v.dimensions)].join(`
`)}).join(`
`);log(h)}return map$1(d,function(v,g){var p="";isObject$3(v)||(process.env.NODE_ENV!=="production"&&(p="A transform should not return some empty results."),throwError$1(p)),v.data||(process.env.NODE_ENV!=="production"&&(p="Transform result data should be not be null or undefined"),throwError$1(p));var y=detectSourceFormat(v.data);isSupportedSourceFormat(y)||(process.env.NODE_ENV!=="production"&&(p="Transform result data should be array rows or object rows."),throwError$1(p));var _,b=n[0];if(b&&g===0&&!v.dimensions){var A=b.startIndex;A&&(v.data=b.data.slice(0,A).concat(v.data)),_={seriesLayoutBy:SERIES_LAYOUT_BY_COLUMN,sourceHeader:A,dimensions:b.metaRawOption.dimensions}}else _={seriesLayoutBy:SERIES_LAYOUT_BY_COLUMN,sourceHeader:0,dimensions:v.dimensions};return createSource(v.data,_,null)})}function isSupportedSourceFormat(r){return r===SOURCE_FORMAT_ARRAY_ROWS||r===SOURCE_FORMAT_OBJECT_ROWS}var UNDEFINED="undefined",CtorUint32Array=typeof Uint32Array===UNDEFINED?Array:Uint32Array,CtorUint16Array=typeof Uint16Array===UNDEFINED?Array:Uint16Array,CtorInt32Array$1=typeof Int32Array===UNDEFINED?Array:Int32Array,CtorFloat64Array=typeof Float64Array===UNDEFINED?Array:Float64Array,dataCtors={float:CtorFloat64Array,int:CtorInt32Array$1,ordinal:Array,number:Array,time:CtorFloat64Array},defaultDimValueGetters;function getIndicesCtor(r){return r>65535?CtorUint32Array:CtorUint16Array}function getInitialExtent(){return[1/0,-1/0]}function cloneChunk(r){var n=r.constructor;return n===Array?r.slice():new n(r)}function prepareStore(r,n,i,o,a){var u=dataCtors[i||"float"];if(a){var c=r[n],f=c&&c.length;if(f!==o){for(var d=new u(o),h=0;h<f;h++)d[h]=c[h];r[n]=d}}else r[n]=new u(o)}var DataStore=function(){function r(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=createHashMap()}return r.prototype.initData=function(n,i,o){process.env.NODE_ENV!=="production"&&assert(isFunction$1(n.getItem)&&isFunction$1(n.count),"Invalid data provider."),this._provider=n,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var a=n.getSource(),u=this.defaultDimValueGetter=defaultDimValueGetters[a.sourceFormat];this._dimValueGetter=o||u,this._rawExtent=[];var c=shouldRetrieveDataByName(a);this._dimensions=map$1(i,function(f){return process.env.NODE_ENV!=="production"&&c&&assert(f.property!=null),{type:f.type,property:f.property}}),this._initDataFromProvider(0,n.count())},r.prototype.getProvider=function(){return this._provider},r.prototype.getSource=function(){return this._provider.getSource()},r.prototype.ensureCalculationDimension=function(n,i){var o=this._calcDimNameToIdx,a=this._dimensions,u=o.get(n);if(u!=null){if(a[u].type===i)return u}else u=a.length;return a[u]={type:i},o.set(n,u),this._chunks[u]=new dataCtors[i||"float"](this._rawCount),this._rawExtent[u]=getInitialExtent(),u},r.prototype.collectOrdinalMeta=function(n,i){var o=this._chunks[n],a=this._dimensions[n],u=this._rawExtent,c=a.ordinalOffset||0,f=o.length;c===0&&(u[n]=getInitialExtent());for(var d=u[n],h=c;h<f;h++){var v=o[h]=i.parseAndCollect(o[h]);isNaN(v)||(d[0]=Math.min(v,d[0]),d[1]=Math.max(v,d[1]))}a.ordinalMeta=i,a.ordinalOffset=f,a.type="ordinal"},r.prototype.getOrdinalMeta=function(n){var i=this._dimensions[n],o=i.ordinalMeta;return o},r.prototype.getDimensionProperty=function(n){var i=this._dimensions[n];return i&&i.property},r.prototype.appendData=function(n){process.env.NODE_ENV!=="production"&&assert(!this._indices,"appendData can only be called on raw data.");var i=this._provider,o=this.count();i.appendData(n);var a=i.count();return i.persistent||(a+=o),o<a&&this._initDataFromProvider(o,a,!0),[o,a]},r.prototype.appendValues=function(n,i){for(var o=this._chunks,a=this._dimensions,u=a.length,c=this._rawExtent,f=this.count(),d=f+Math.max(n.length,i||0),h=0;h<u;h++){var v=a[h];prepareStore(o,h,v.type,d,!0)}for(var g=[],p=f;p<d;p++)for(var y=p-f,_=0;_<u;_++){var v=a[_],b=defaultDimValueGetters.arrayRows.call(this,n[y]||g,v.property,y,_);o[_][p]=b;var A=c[_];b<A[0]&&(A[0]=b),b>A[1]&&(A[1]=b)}return this._rawCount=this._count=d,{start:f,end:d}},r.prototype._initDataFromProvider=function(n,i,o){for(var a=this._provider,u=this._chunks,c=this._dimensions,f=c.length,d=this._rawExtent,h=map$1(c,function(T){return T.property}),v=0;v<f;v++){var g=c[v];d[v]||(d[v]=getInitialExtent()),prepareStore(u,v,g.type,i,o)}if(a.fillStorage)a.fillStorage(n,i,u,d);else for(var p=[],y=n;y<i;y++){p=a.getItem(y,p);for(var _=0;_<f;_++){var b=u[_],A=this._dimValueGetter(p,h[_],y,_);b[y]=A;var w=d[_];A<w[0]&&(w[0]=A),A>w[1]&&(w[1]=A)}}!a.persistent&&a.clean&&a.clean(),this._rawCount=this._count=i,this._extent=[]},r.prototype.count=function(){return this._count},r.prototype.get=function(n,i){if(!(i>=0&&i<this._count))return NaN;var o=this._chunks[n];return o?o[this.getRawIndex(i)]:NaN},r.prototype.getValues=function(n,i){var o=[],a=[];if(i==null){i=n,n=[];for(var u=0;u<this._dimensions.length;u++)a.push(u)}else a=n;for(var u=0,c=a.length;u<c;u++)o.push(this.get(a[u],i));return o},r.prototype.getByRawIndex=function(n,i){if(!(i>=0&&i<this._rawCount))return NaN;var o=this._chunks[n];return o?o[i]:NaN},r.prototype.getSum=function(n){var i=this._chunks[n],o=0;if(i)for(var a=0,u=this.count();a<u;a++){var c=this.get(n,a);isNaN(c)||(o+=c)}return o},r.prototype.getMedian=function(n){var i=[];this.each([n],function(u){isNaN(u)||i.push(u)});var o=i.sort(function(u,c){return u-c}),a=this.count();return a===0?0:a%2===1?o[(a-1)/2]:(o[a/2]+o[a/2-1])/2},r.prototype.indexOfRawIndex=function(n){if(n>=this._rawCount||n<0)return-1;if(!this._indices)return n;var i=this._indices,o=i[n];if(o!=null&&o<this._count&&o===n)return n;for(var a=0,u=this._count-1;a<=u;){var c=(a+u)/2|0;if(i[c]<n)a=c+1;else if(i[c]>n)u=c-1;else return c}return-1},r.prototype.indicesOfNearest=function(n,i,o){var a=this._chunks,u=a[n],c=[];if(!u)return c;o==null&&(o=1/0);for(var f=1/0,d=-1,h=0,v=0,g=this.count();v<g;v++){var p=this.getRawIndex(v),y=i-u[p],_=Math.abs(y);_<=o&&((_<f||_===f&&y>=0&&d<0)&&(f=_,d=y,h=0),y===d&&(c[h++]=v))}return c.length=h,c},r.prototype.getIndices=function(){var n,i=this._indices;if(i){var o=i.constructor,a=this._count;if(o===Array){n=new o(a);for(var u=0;u<a;u++)n[u]=i[u]}else n=new o(i.buffer,0,a)}else{var o=getIndicesCtor(this._rawCount);n=new o(this.count());for(var u=0;u<n.length;u++)n[u]=u}return n},r.prototype.filter=function(n,i){if(!this._count)return this;for(var o=this.clone(),a=o.count(),u=getIndicesCtor(o._rawCount),c=new u(a),f=[],d=n.length,h=0,v=n[0],g=o._chunks,p=0;p<a;p++){var y=void 0,_=o.getRawIndex(p);if(d===0)y=i(p);else if(d===1){var b=g[v][_];y=i(b,p)}else{for(var A=0;A<d;A++)f[A]=g[n[A]][_];f[A]=p,y=i.apply(null,f)}y&&(c[h++]=_)}return h<a&&(o._indices=c),o._count=h,o._extent=[],o._updateGetRawIdx(),o},r.prototype.selectRange=function(n){var i=this.clone(),o=i._count;if(!o)return this;var a=keys(n),u=a.length;if(!u)return this;var c=i.count(),f=getIndicesCtor(i._rawCount),d=new f(c),h=0,v=a[0],g=n[v][0],p=n[v][1],y=i._chunks,_=!1;if(!i._indices){var b=0;if(u===1){for(var A=y[a[0]],w=0;w<o;w++){var T=A[w];(T>=g&&T<=p||isNaN(T))&&(d[h++]=b),b++}_=!0}else if(u===2){for(var A=y[a[0]],S=y[a[1]],x=n[a[1]][0],O=n[a[1]][1],w=0;w<o;w++){var T=A[w],L=S[w];(T>=g&&T<=p||isNaN(T))&&(L>=x&&L<=O||isNaN(L))&&(d[h++]=b),b++}_=!0}}if(!_)if(u===1)for(var w=0;w<c;w++){var M=i.getRawIndex(w),T=y[a[0]][M];(T>=g&&T<=p||isNaN(T))&&(d[h++]=M)}else for(var w=0;w<c;w++){for(var re=!0,M=i.getRawIndex(w),F=0;F<u;F++){var j=a[F],T=y[j][M];(T<n[j][0]||T>n[j][1])&&(re=!1)}re&&(d[h++]=i.getRawIndex(w))}return h<c&&(i._indices=d),i._count=h,i._extent=[],i._updateGetRawIdx(),i},r.prototype.map=function(n,i){var o=this.clone(n);return this._updateDims(o,n,i),o},r.prototype.modify=function(n,i){this._updateDims(this,n,i)},r.prototype._updateDims=function(n,i,o){for(var a=n._chunks,u=[],c=i.length,f=n.count(),d=[],h=n._rawExtent,v=0;v<i.length;v++)h[i[v]]=getInitialExtent();for(var g=0;g<f;g++){for(var p=n.getRawIndex(g),y=0;y<c;y++)d[y]=a[i[y]][p];d[c]=g;var _=o&&o.apply(null,d);if(_!=null){typeof _!="object"&&(u[0]=_,_=u);for(var v=0;v<_.length;v++){var b=i[v],A=_[v],w=h[b],T=a[b];T&&(T[p]=A),A<w[0]&&(w[0]=A),A>w[1]&&(w[1]=A)}}}},r.prototype.lttbDownSample=function(n,i){var o=this.clone([n],!0),a=o._chunks,u=a[n],c=this.count(),f=0,d=Math.floor(1/i),h=this.getRawIndex(0),v,g,p,y=new(getIndicesCtor(this._rawCount))(Math.min((Math.ceil(c/d)+2)*2,c));y[f++]=h;for(var _=1;_<c-1;_+=d){for(var b=Math.min(_+d,c-1),A=Math.min(_+d*2,c),w=(A+b)/2,T=0,S=b;S<A;S++){var x=this.getRawIndex(S),O=u[x];isNaN(O)||(T+=O)}T/=A-b;var L=_,M=Math.min(_+d,c),re=_-1,F=u[h];v=-1,p=L;for(var j=-1,V=0,S=L;S<M;S++){var x=this.getRawIndex(S),O=u[x];if(isNaN(O)){V++,j<0&&(j=x);continue}g=Math.abs((re-w)*(O-F)-(re-S)*(T-F)),g>v&&(v=g,p=x)}V>0&&V<M-L&&(y[f++]=Math.min(j,p),p=Math.max(j,p)),y[f++]=p,h=p}return y[f++]=this.getRawIndex(c-1),o._count=f,o._indices=y,o.getRawIndex=this._getRawIdx,o},r.prototype.downSample=function(n,i,o,a){for(var u=this.clone([n],!0),c=u._chunks,f=[],d=Math.floor(1/i),h=c[n],v=this.count(),g=u._rawExtent[n]=getInitialExtent(),p=new(getIndicesCtor(this._rawCount))(Math.ceil(v/d)),y=0,_=0;_<v;_+=d){d>v-_&&(d=v-_,f.length=d);for(var b=0;b<d;b++){var A=this.getRawIndex(_+b);f[b]=h[A]}var w=o(f),T=this.getRawIndex(Math.min(_+a(f,w)||0,v-1));h[T]=w,w<g[0]&&(g[0]=w),w>g[1]&&(g[1]=w),p[y++]=T}return u._count=y,u._indices=p,u._updateGetRawIdx(),u},r.prototype.each=function(n,i){if(this._count)for(var o=n.length,a=this._chunks,u=0,c=this.count();u<c;u++){var f=this.getRawIndex(u);switch(o){case 0:i(u);break;case 1:i(a[n[0]][f],u);break;case 2:i(a[n[0]][f],a[n[1]][f],u);break;default:for(var d=0,h=[];d<o;d++)h[d]=a[n[d]][f];h[d]=u,i.apply(null,h)}}},r.prototype.getDataExtent=function(n){var i=this._chunks[n],o=getInitialExtent();if(!i)return o;var a=this.count(),u=!this._indices,c;if(u)return this._rawExtent[n].slice();if(c=this._extent[n],c)return c.slice();c=o;for(var f=c[0],d=c[1],h=0;h<a;h++){var v=this.getRawIndex(h),g=i[v];g<f&&(f=g),g>d&&(d=g)}return c=[f,d],this._extent[n]=c,c},r.prototype.getRawDataItem=function(n){var i=this.getRawIndex(n);if(this._provider.persistent)return this._provider.getItem(i);for(var o=[],a=this._chunks,u=0;u<a.length;u++)o.push(a[u][i]);return o},r.prototype.clone=function(n,i){var o=new r,a=this._chunks,u=n&&reduce(n,function(f,d){return f[d]=!0,f},{});if(u)for(var c=0;c<a.length;c++)o._chunks[c]=u[c]?cloneChunk(a[c]):a[c];else o._chunks=a;return this._copyCommonProps(o),i||(o._indices=this._cloneIndices()),o._updateGetRawIdx(),o},r.prototype._copyCommonProps=function(n){n._count=this._count,n._rawCount=this._rawCount,n._provider=this._provider,n._dimensions=this._dimensions,n._extent=clone$2(this._extent),n._rawExtent=clone$2(this._rawExtent)},r.prototype._cloneIndices=function(){if(this._indices){var n=this._indices.constructor,i=void 0;if(n===Array){var o=this._indices.length;i=new n(o);for(var a=0;a<o;a++)i[a]=this._indices[a]}else i=new n(this._indices);return i}return null},r.prototype._getRawIdxIdentity=function(n){return n},r.prototype._getRawIdx=function(n){return n<this._count&&n>=0?this._indices[n]:-1},r.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},r.internalField=function(){function n(i,o,a,u){return parseDataValue(i[u],this._dimensions[u])}defaultDimValueGetters={arrayRows:n,objectRows:function(i,o,a,u){return parseDataValue(i[o],this._dimensions[u])},keyedColumns:n,original:function(i,o,a,u){var c=i&&(i.value==null?i:i.value);return parseDataValue(c instanceof Array?c[u]:c,this._dimensions[u])},typedArray:function(i,o,a,u){return i[u]}}}(),r}(),SourceManager=function(){function r(n){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=n}return r.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},r.prototype._setLocalSource=function(n,i){this._sourceList=n,this._upstreamSignList=i,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},r.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},r.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},r.prototype._createSource=function(){this._setLocalSource([],[]);var n=this._sourceHost,i=this._getUpstreamSourceManagers(),o=!!i.length,a,u;if(isSeries(n)){var c=n,f=void 0,d=void 0,h=void 0;if(o){var v=i[0];v.prepareSource(),h=v.getSource(),f=h.data,d=h.sourceFormat,u=[v._getVersionSign()]}else f=c.get("data",!0),d=isTypedArray(f)?SOURCE_FORMAT_TYPED_ARRAY:SOURCE_FORMAT_ORIGINAL,u=[];var g=this._getSourceMetaRawOption()||{},p=h&&h.metaRawOption||{},y=retrieve2(g.seriesLayoutBy,p.seriesLayoutBy)||null,_=retrieve2(g.sourceHeader,p.sourceHeader),b=retrieve2(g.dimensions,p.dimensions),A=y!==p.seriesLayoutBy||!!_!=!!p.sourceHeader||b;a=A?[createSource(f,{seriesLayoutBy:y,sourceHeader:_,dimensions:b},d)]:[]}else{var w=n;if(o){var T=this._applyTransform(i);a=T.sourceList,u=T.upstreamSignList}else{var S=w.get("source",!0);a=[createSource(S,this._getSourceMetaRawOption(),null)],u=[]}}process.env.NODE_ENV!=="production"&&assert(a&&u),this._setLocalSource(a,u)},r.prototype._applyTransform=function(n){var i=this._sourceHost,o=i.get("transform",!0),a=i.get("fromTransformResult",!0);if(process.env.NODE_ENV!=="production"&&assert(a!=null||o!=null),a!=null){var u="";n.length!==1&&(process.env.NODE_ENV!=="production"&&(u="When using `fromTransformResult`, there should be only one upstream dataset"),doThrow(u))}var c,f=[],d=[];return each$4(n,function(h){h.prepareSource();var v=h.getSource(a||0),g="";a!=null&&!v&&(process.env.NODE_ENV!=="production"&&(g="Can not retrieve result by `fromTransformResult`: "+a),doThrow(g)),f.push(v),d.push(h._getVersionSign())}),o?c=applyDataTransform(o,f,{datasetIndex:i.componentIndex}):a!=null&&(c=[cloneSourceShallow(f[0])]),{sourceList:c,upstreamSignList:d}},r.prototype._isDirty=function(){if(this._dirty)return!0;for(var n=this._getUpstreamSourceManagers(),i=0;i<n.length;i++){var o=n[i];if(o._isDirty()||this._upstreamSignList[i]!==o._getVersionSign())return!0}},r.prototype.getSource=function(n){n=n||0;var i=this._sourceList[n];if(!i){var o=this._getUpstreamSourceManagers();return o[0]&&o[0].getSource(n)}return i},r.prototype.getSharedDataStore=function(n){process.env.NODE_ENV!=="production"&&assert(isSeries(this._sourceHost),"Can only call getDataStore on series source manager.");var i=n.makeStoreSchema();return this._innerGetDataStore(i.dimensions,n.source,i.hash)},r.prototype._innerGetDataStore=function(n,i,o){var a=0,u=this._storeList,c=u[a];c||(c=u[a]={});var f=c[o];if(!f){var d=this._getUpstreamSourceManagers()[0];isSeries(this._sourceHost)&&d?f=d._innerGetDataStore(n,i,o):(f=new DataStore,f.initData(new DefaultDataProvider(i,n.length),n)),c[o]=f}return f},r.prototype._getUpstreamSourceManagers=function(){var n=this._sourceHost;if(isSeries(n)){var i=querySeriesUpstreamDatasetModel(n);return i?[i.getSourceManager()]:[]}else return map$1(queryDatasetUpstreamDatasetModels(n),function(o){return o.getSourceManager()})},r.prototype._getSourceMetaRawOption=function(){var n=this._sourceHost,i,o,a;if(isSeries(n))i=n.get("seriesLayoutBy",!0),o=n.get("sourceHeader",!0),a=n.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var u=n;i=u.get("seriesLayoutBy",!0),o=u.get("sourceHeader",!0),a=u.get("dimensions",!0)}return{seriesLayoutBy:i,sourceHeader:o,dimensions:a}},r}();function isSeries(r){return r.mainType==="series"}function doThrow(r){throw new Error(r)}var TOOLTIP_LINE_HEIGHT_CSS="line-height:1";function getTooltipTextStyle(r,n){var i=r.color||"#6e7079",o=r.fontSize||12,a=r.fontWeight||"400",u=r.color||"#464646",c=r.fontSize||14,f=r.fontWeight||"900";return n==="html"?{nameStyle:"font-size:"+encodeHTML(o+"")+"px;color:"+encodeHTML(i)+";font-weight:"+encodeHTML(a+""),valueStyle:"font-size:"+encodeHTML(c+"")+"px;color:"+encodeHTML(u)+";font-weight:"+encodeHTML(f+"")}:{nameStyle:{fontSize:o,fill:i,fontWeight:a},valueStyle:{fontSize:c,fill:u,fontWeight:f}}}var HTML_GAPS=[0,10,20,30],RICH_TEXT_GAPS=["",`
`,`

`,`


`];function createTooltipMarkup(r,n){return n.type=r,n}function isSectionFragment(r){return r.type==="section"}function getBuilder(r){return isSectionFragment(r)?buildSection:buildNameValue}function getBlockGapLevel(r){if(isSectionFragment(r)){var n=0,i=r.blocks.length,o=i>1||i>0&&!r.noHeader;return each$4(r.blocks,function(a){var u=getBlockGapLevel(a);u>=n&&(n=u+ +(o&&(!u||isSectionFragment(a)&&!a.noHeader)))}),n}return 0}function buildSection(r,n,i,o){var a=n.noHeader,u=getGap(getBlockGapLevel(n)),c=[],f=n.blocks||[];assert(!f||isArray$1(f)),f=f||[];var d=r.orderMode;if(n.sortBlocks&&d){f=f.slice();var h={valueAsc:"asc",valueDesc:"desc"};if(hasOwn$1(h,d)){var v=new SortOrderComparator(h[d],null);f.sort(function(_,b){return v.evaluate(_.sortParam,b.sortParam)})}else d==="seriesDesc"&&f.reverse()}each$4(f,function(_,b){var A=n.valueFormatter,w=getBuilder(_)(A?extend(extend({},r),{valueFormatter:A}):r,_,b>0?u.html:0,o);w!=null&&c.push(w)});var g=r.renderMode==="richText"?c.join(u.richText):wrapBlockHTML(c.join(""),a?i:u.html);if(a)return g;var p=makeValueReadable(n.header,"ordinal",r.useUTC),y=getTooltipTextStyle(o,r.renderMode).nameStyle;return r.renderMode==="richText"?wrapInlineNameRichText(r,p,y)+u.richText+g:wrapBlockHTML('<div style="'+y+";"+TOOLTIP_LINE_HEIGHT_CSS+';">'+encodeHTML(p)+"</div>"+g,i)}function buildNameValue(r,n,i,o){var a=r.renderMode,u=n.noName,c=n.noValue,f=!n.markerType,d=n.name,h=r.useUTC,v=n.valueFormatter||r.valueFormatter||function(x){return x=isArray$1(x)?x:[x],map$1(x,function(O,L){return makeValueReadable(O,isArray$1(y)?y[L]:y,h)})};if(!(u&&c)){var g=f?"":r.markupStyleCreator.makeTooltipMarker(n.markerType,n.markerColor||"#333",a),p=u?"":makeValueReadable(d,"ordinal",h),y=n.valueType,_=c?[]:v(n.value),b=!f||!u,A=!f&&u,w=getTooltipTextStyle(o,a),T=w.nameStyle,S=w.valueStyle;return a==="richText"?(f?"":g)+(u?"":wrapInlineNameRichText(r,p,T))+(c?"":wrapInlineValueRichText(r,_,b,A,S)):wrapBlockHTML((f?"":g)+(u?"":wrapInlineNameHTML(p,!f,T))+(c?"":wrapInlineValueHTML(_,b,A,S)),i)}}function buildTooltipMarkup(r,n,i,o,a,u){if(r){var c=getBuilder(r),f={useUTC:a,renderMode:i,orderMode:o,markupStyleCreator:n,valueFormatter:r.valueFormatter};return c(f,r,0,u)}}function getGap(r){return{html:HTML_GAPS[r],richText:RICH_TEXT_GAPS[r]}}function wrapBlockHTML(r,n){var i='<div style="clear:both"></div>',o="margin: "+n+"px 0 0";return'<div style="'+o+";"+TOOLTIP_LINE_HEIGHT_CSS+';">'+r+i+"</div>"}function wrapInlineNameHTML(r,n,i){var o=n?"margin-left:2px":"";return'<span style="'+i+";"+o+'">'+encodeHTML(r)+"</span>"}function wrapInlineValueHTML(r,n,i,o){var a=i?"10px":"20px",u=n?"float:right;margin-left:"+a:"";return r=isArray$1(r)?r:[r],'<span style="'+u+";"+o+'">'+map$1(r,function(c){return encodeHTML(c)}).join("&nbsp;&nbsp;")+"</span>"}function wrapInlineNameRichText(r,n,i){return r.markupStyleCreator.wrapRichTextStyle(n,i)}function wrapInlineValueRichText(r,n,i,o,a){var u=[a],c=o?10:20;return i&&u.push({padding:[0,0,0,c],align:"right"}),r.markupStyleCreator.wrapRichTextStyle(isArray$1(n)?n.join("  "):n,u)}function retrieveVisualColorForTooltipMarker(r,n){var i=r.getData().getItemVisual(n,"style"),o=i[r.visualDrawType];return convertToColorString(o)}function getPaddingFromTooltipModel(r,n){var i=r.get("padding");return i??(n==="richText"?[8,10]:10)}var TooltipMarkupStyleCreator=function(){function r(){this.richTextStyles={},this._nextStyleNameId=getRandomIdBase()}return r.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},r.prototype.makeTooltipMarker=function(n,i,o){var a=o==="richText"?this._generateStyleName():null,u=getTooltipMarker({color:i,type:n,renderMode:o,markerId:a});return isString$2(u)?u:(process.env.NODE_ENV!=="production"&&assert(a),this.richTextStyles[a]=u.style,u.content)},r.prototype.wrapRichTextStyle=function(n,i){var o={};isArray$1(i)?each$4(i,function(u){return extend(o,u)}):extend(o,i);var a=this._generateStyleName();return this.richTextStyles[a]=o,"{"+a+"|"+n+"}"},r}();function defaultSeriesFormatTooltip(r){var n=r.series,i=r.dataIndex,o=r.multipleSeries,a=n.getData(),u=a.mapDimensionsAll("defaultedTooltip"),c=u.length,f=n.getRawValue(i),d=isArray$1(f),h=retrieveVisualColorForTooltipMarker(n,i),v,g,p,y;if(c>1||d&&!c){var _=formatTooltipArrayValue(f,n,i,u,h);v=_.inlineValues,g=_.inlineValueTypes,p=_.blocks,y=_.inlineValues[0]}else if(c){var b=a.getDimensionInfo(u[0]);y=v=retrieveRawValue(a,i,u[0]),g=b.type}else y=v=d?f[0]:f;var A=isNameSpecified(n),w=A&&n.name||"",T=a.getName(i),S=o?w:T;return createTooltipMarkup("section",{header:w,noHeader:o||!A,sortParam:y,blocks:[createTooltipMarkup("nameValue",{markerType:"item",markerColor:h,name:S,noName:!trim(S),value:v,valueType:g})].concat(p||[])})}function formatTooltipArrayValue(r,n,i,o,a){var u=n.getData(),c=reduce(r,function(g,p,y){var _=u.getDimensionInfo(y);return g=g||_&&_.tooltip!==!1&&_.displayName!=null},!1),f=[],d=[],h=[];o.length?each$4(o,function(g){v(retrieveRawValue(u,i,g),g)}):each$4(r,v);function v(g,p){var y=u.getDimensionInfo(p);!y||y.otherDims.tooltip===!1||(c?h.push(createTooltipMarkup("nameValue",{markerType:"subItem",markerColor:a,name:y.displayName,value:g,valueType:y.type})):(f.push(g),d.push(y.type)))}return{inlineValues:f,inlineValueTypes:d,blocks:h}}var inner$6=makeInner();function getSelectionKey(r,n){return r.getName(n)||r.getId(n)}var SERIES_UNIVERSAL_TRANSITION_PROP="__universalTransitionEnabled",SeriesModel=function(r){__extends(n,r);function n(){var i=r!==null&&r.apply(this,arguments)||this;return i._selectedDataIndicesMap={},i}return n.prototype.init=function(i,o,a){this.seriesIndex=this.componentIndex,this.dataTask=createTask({count:dataTaskCount,reset:dataTaskReset}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(i,a);var u=inner$6(this).sourceManager=new SourceManager(this);u.prepareSource();var c=this.getInitialData(i,a);wrapData(c,this),this.dataTask.context.data=c,process.env.NODE_ENV!=="production"&&assert(c,"getInitialData returned invalid data."),inner$6(this).dataBeforeProcessed=c,autoSeriesName(this),this._initSelectedMapFromData(c)},n.prototype.mergeDefaultAndTheme=function(i,o){var a=fetchLayoutMode(this),u=a?getLayoutParams(i):{},c=this.subType;ComponentModel$1.hasClass(c)&&(c+="Series"),merge(i,o.getTheme().get(this.subType)),merge(i,this.getDefaultOption()),defaultEmphasis(i,"label",["show"]),this.fillDataTextStyle(i.data),a&&mergeLayoutParam(i,u,a)},n.prototype.mergeOption=function(i,o){i=merge(this.option,i,!0),this.fillDataTextStyle(i.data);var a=fetchLayoutMode(this);a&&mergeLayoutParam(this.option,i,a);var u=inner$6(this).sourceManager;u.dirty(),u.prepareSource();var c=this.getInitialData(i,o);wrapData(c,this),this.dataTask.dirty(),this.dataTask.context.data=c,inner$6(this).dataBeforeProcessed=c,autoSeriesName(this),this._initSelectedMapFromData(c)},n.prototype.fillDataTextStyle=function(i){if(i&&!isTypedArray(i))for(var o=["show"],a=0;a<i.length;a++)i[a]&&i[a].label&&defaultEmphasis(i[a],"label",o)},n.prototype.getInitialData=function(i,o){},n.prototype.appendData=function(i){var o=this.getRawData();o.appendData(i.data)},n.prototype.getData=function(i){var o=getCurrentTask(this);if(o){var a=o.context.data;return i==null?a:a.getLinkedData(i)}else return inner$6(this).data},n.prototype.getAllData=function(){var i=this.getData();return i&&i.getLinkedDataAll?i.getLinkedDataAll():[{data:i}]},n.prototype.setData=function(i){var o=getCurrentTask(this);if(o){var a=o.context;a.outputData=i,o!==this.dataTask&&(a.data=i)}inner$6(this).data=i},n.prototype.getEncode=function(){var i=this.get("encode",!0);if(i)return createHashMap(i)},n.prototype.getSourceManager=function(){return inner$6(this).sourceManager},n.prototype.getSource=function(){return this.getSourceManager().getSource()},n.prototype.getRawData=function(){return inner$6(this).dataBeforeProcessed},n.prototype.getColorBy=function(){var i=this.get("colorBy");return i||"series"},n.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},n.prototype.getBaseAxis=function(){var i=this.coordinateSystem;return i&&i.getBaseAxis&&i.getBaseAxis()},n.prototype.formatTooltip=function(i,o,a){return defaultSeriesFormatTooltip({series:this,dataIndex:i,multipleSeries:o})},n.prototype.isAnimationEnabled=function(){var i=this.ecModel;if(env$1.node&&!(i&&i.ssr))return!1;var o=this.getShallow("animation");return o&&this.getData().count()>this.getShallow("animationThreshold")&&(o=!1),!!o},n.prototype.restoreData=function(){this.dataTask.dirty()},n.prototype.getColorFromPalette=function(i,o,a){var u=this.ecModel,c=PaletteMixin.prototype.getColorFromPalette.call(this,i,o,a);return c||(c=u.getColorFromPalette(i,o,a)),c},n.prototype.coordDimToDataDim=function(i){return this.getRawData().mapDimensionsAll(i)},n.prototype.getProgressive=function(){return this.get("progressive")},n.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},n.prototype.select=function(i,o){this._innerSelect(this.getData(o),i)},n.prototype.unselect=function(i,o){var a=this.option.selectedMap;if(a){var u=this.option.selectedMode,c=this.getData(o);if(u==="series"||a==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var f=0;f<i.length;f++){var d=i[f],h=getSelectionKey(c,d);a[h]=!1,this._selectedDataIndicesMap[h]=-1}}},n.prototype.toggleSelect=function(i,o){for(var a=[],u=0;u<i.length;u++)a[0]=i[u],this.isSelected(i[u],o)?this.unselect(a,o):this.select(a,o)},n.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var i=this._selectedDataIndicesMap,o=keys(i),a=[],u=0;u<o.length;u++){var c=i[o[u]];c>=0&&a.push(c)}return a},n.prototype.isSelected=function(i,o){var a=this.option.selectedMap;if(!a)return!1;var u=this.getData(o);return(a==="all"||a[getSelectionKey(u,i)])&&!u.getItemModel(i).get(["select","disabled"])},n.prototype.isUniversalTransitionEnabled=function(){if(this[SERIES_UNIVERSAL_TRANSITION_PROP])return!0;var i=this.option.universalTransition;return i?i===!0?!0:i&&i.enabled:!1},n.prototype._innerSelect=function(i,o){var a,u,c=this.option,f=c.selectedMode,d=o.length;if(!(!f||!d)){if(f==="series")c.selectedMap="all";else if(f==="multiple"){isObject$3(c.selectedMap)||(c.selectedMap={});for(var h=c.selectedMap,v=0;v<d;v++){var g=o[v],p=getSelectionKey(i,g);h[p]=!0,this._selectedDataIndicesMap[p]=i.getRawIndex(g)}}else if(f==="single"||f===!0){var y=o[d-1],p=getSelectionKey(i,y);c.selectedMap=(a={},a[p]=!0,a),this._selectedDataIndicesMap=(u={},u[p]=i.getRawIndex(y),u)}}},n.prototype._initSelectedMapFromData=function(i){if(!this.option.selectedMap){var o=[];i.hasItemOption&&i.each(function(a){var u=i.getRawDataItem(a);u&&u.selected&&o.push(a)}),o.length>0&&this._innerSelect(i,o)}},n.registerClass=function(i){return ComponentModel$1.registerClass(i)},n.protoInitialize=function(){var i=n.prototype;i.type="series.__base__",i.seriesIndex=0,i.ignoreStyleOnData=!1,i.hasSymbolVisual=!1,i.defaultSymbol="circle",i.visualStyleAccessPath="itemStyle",i.visualDrawType="fill"}(),n}(ComponentModel$1);mixin(SeriesModel,DataFormatMixin),mixin(SeriesModel,PaletteMixin),mountExtend(SeriesModel,ComponentModel$1);function autoSeriesName(r){var n=r.name;isNameSpecified(r)||(r.name=getSeriesAutoName(r)||n)}function getSeriesAutoName(r){var n=r.getRawData(),i=n.mapDimensionsAll("seriesName"),o=[];return each$4(i,function(a){var u=n.getDimensionInfo(a);u.displayName&&o.push(u.displayName)}),o.join(" ")}function dataTaskCount(r){return r.model.getRawData().count()}function dataTaskReset(r){var n=r.model;return n.setData(n.getRawData().cloneShallow()),dataTaskProgress}function dataTaskProgress(r,n){n.outputData&&r.end>n.outputData.count()&&n.model.getRawData().cloneShallow(n.outputData)}function wrapData(r,n){each$4(concatArray(r.CHANGABLE_METHODS,r.DOWNSAMPLE_METHODS),function(i){r.wrapMethod(i,curry$1(onDataChange,n))})}function onDataChange(r,n){var i=getCurrentTask(r);return i&&i.setOutputEnd((n||this).count()),n}function getCurrentTask(r){var n=(r.ecModel||{}).scheduler,i=n&&n.getPipeline(r.uid);if(i){var o=i.currentTask;if(o){var a=o.agentStubMap;a&&(o=a.get(r.uid))}return o}}const SeriesModel$1=SeriesModel;var ComponentView=function(){function r(){this.group=new Group$3,this.uid=getUID("viewComponent")}return r.prototype.init=function(n,i){},r.prototype.render=function(n,i,o,a){},r.prototype.dispose=function(n,i){},r.prototype.updateView=function(n,i,o,a){},r.prototype.updateLayout=function(n,i,o,a){},r.prototype.updateVisual=function(n,i,o,a){},r.prototype.toggleBlurSeries=function(n,i,o){},r.prototype.eachRendered=function(n){var i=this.group;i&&i.traverse(n)},r}();enableClassExtend(ComponentView),enableClassManagement(ComponentView);const ComponentView$1=ComponentView;function createRenderPlanner(){var r=makeInner();return function(n){var i=r(n),o=n.pipelineContext,a=!!i.large,u=!!i.progressiveRender,c=i.large=!!(o&&o.large),f=i.progressiveRender=!!(o&&o.progressiveRender);return(a!==c||u!==f)&&"reset"}}var inner$5=makeInner(),renderPlanner=createRenderPlanner(),ChartView=function(){function r(){this.group=new Group$3,this.uid=getUID("viewChart"),this.renderTask=createTask({plan:renderTaskPlan,reset:renderTaskReset}),this.renderTask.context={view:this}}return r.prototype.init=function(n,i){},r.prototype.render=function(n,i,o,a){if(process.env.NODE_ENV!=="production")throw new Error("render method must been implemented")},r.prototype.highlight=function(n,i,o,a){var u=n.getData(a&&a.dataType);if(!u){process.env.NODE_ENV!=="production"&&error("Unknown dataType "+a.dataType);return}toggleHighlight(u,a,"emphasis")},r.prototype.downplay=function(n,i,o,a){var u=n.getData(a&&a.dataType);if(!u){process.env.NODE_ENV!=="production"&&error("Unknown dataType "+a.dataType);return}toggleHighlight(u,a,"normal")},r.prototype.remove=function(n,i){this.group.removeAll()},r.prototype.dispose=function(n,i){},r.prototype.updateView=function(n,i,o,a){this.render(n,i,o,a)},r.prototype.updateLayout=function(n,i,o,a){this.render(n,i,o,a)},r.prototype.updateVisual=function(n,i,o,a){this.render(n,i,o,a)},r.prototype.eachRendered=function(n){traverseElements(this.group,n)},r.markUpdateMethod=function(n,i){inner$5(n).updateMethod=i},r.protoInitialize=function(){var n=r.prototype;n.type="chart"}(),r}();function elSetState(r,n,i){r&&isHighDownDispatcher(r)&&(n==="emphasis"?enterEmphasis:leaveEmphasis)(r,i)}function toggleHighlight(r,n,i){var o=queryDataIndex(r,n),a=n&&n.highlightKey!=null?getHighlightDigit(n.highlightKey):null;o!=null?each$4(normalizeToArray(o),function(u){elSetState(r.getItemGraphicEl(u),i,a)}):r.eachItemGraphicEl(function(u){elSetState(u,i,a)})}enableClassExtend(ChartView,["dispose"]),enableClassManagement(ChartView);function renderTaskPlan(r){return renderPlanner(r.model)}function renderTaskReset(r){var n=r.model,i=r.ecModel,o=r.api,a=r.payload,u=n.pipelineContext.progressiveRender,c=r.view,f=a&&inner$5(a).updateMethod,d=u?"incrementalPrepareRender":f&&c[f]?f:"render";return d!=="render"&&c[d](n,i,o,a),progressMethodMap[d]}var progressMethodMap={incrementalPrepareRender:{progress:function(r,n){n.view.incrementalRender(r,n.model,n.ecModel,n.api,n.payload)}},render:{forceFirstProgress:!0,progress:function(r,n){n.view.render(n.model,n.ecModel,n.api,n.payload)}}};const ChartView$1=ChartView;var ORIGIN_METHOD="\0__throttleOriginMethod",RATE="\0__throttleRate",THROTTLE_TYPE="\0__throttleType";function throttle$1(r,n,i){var o,a=0,u=0,c=null,f,d,h,v;n=n||0;function g(){u=new Date().getTime(),c=null,r.apply(d,h||[])}var p=function(){for(var y=[],_=0;_<arguments.length;_++)y[_]=arguments[_];o=new Date().getTime(),d=this,h=y;var b=v||n,A=v||i;v=null,f=o-(A?a:u)-b,clearTimeout(c),A?c=setTimeout(g,b):f>=0?g():c=setTimeout(g,-f),a=o};return p.clear=function(){c&&(clearTimeout(c),c=null)},p.debounceNextCall=function(y){v=y},p}function createOrUpdate(r,n,i,o){var a=r[n];if(a){var u=a[ORIGIN_METHOD]||a,c=a[THROTTLE_TYPE],f=a[RATE];if(f!==i||c!==o){if(i==null||!o)return r[n]=u;a=r[n]=throttle$1(u,i,o==="debounce"),a[ORIGIN_METHOD]=u,a[THROTTLE_TYPE]=o,a[RATE]=i}return a}}function clear(r,n){var i=r[n];i&&i[ORIGIN_METHOD]&&(i.clear&&i.clear(),r[n]=i[ORIGIN_METHOD])}var inner$4=makeInner(),defaultStyleMappers={itemStyle:makeStyleMapper(ITEM_STYLE_KEY_MAP,!0),lineStyle:makeStyleMapper(LINE_STYLE_KEY_MAP,!0)},defaultColorKey={lineStyle:"stroke",itemStyle:"fill"};function getStyleMapper(r,n){var i=r.visualStyleMapper||defaultStyleMappers[n];return i||(console.warn("Unknown style type '"+n+"'."),defaultStyleMappers.itemStyle)}function getDefaultColorKey(r,n){var i=r.visualDrawType||defaultColorKey[n];return i||(console.warn("Unknown style type '"+n+"'."),"fill")}var seriesStyleTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(r,n){var i=r.getData(),o=r.visualStyleAccessPath||"itemStyle",a=r.getModel(o),u=getStyleMapper(r,o),c=u(a),f=a.getShallow("decal");f&&(i.setVisual("decal",f),f.dirty=!0);var d=getDefaultColorKey(r,o),h=c[d],v=isFunction$1(h)?h:null,g=c.fill==="auto"||c.stroke==="auto";if(!c[d]||v||g){var p=r.getColorFromPalette(r.name,null,n.getSeriesCount());c[d]||(c[d]=p,i.setVisual("colorFromPalette",!0)),c.fill=c.fill==="auto"||isFunction$1(c.fill)?p:c.fill,c.stroke=c.stroke==="auto"||isFunction$1(c.stroke)?p:c.stroke}if(i.setVisual("style",c),i.setVisual("drawType",d),!n.isSeriesFiltered(r)&&v)return i.setVisual("colorFromPalette",!1),{dataEach:function(y,_){var b=r.getDataParams(_),A=extend({},c);A[d]=v(b),y.setItemVisual(_,"style",A)}}}},sharedModel=new Model$1,dataStyleTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(r,n){if(!(r.ignoreStyleOnData||n.isSeriesFiltered(r))){var i=r.getData(),o=r.visualStyleAccessPath||"itemStyle",a=getStyleMapper(r,o),u=i.getVisual("drawType");return{dataEach:i.hasItemOption?function(c,f){var d=c.getRawDataItem(f);if(d&&d[o]){sharedModel.option=d[o];var h=a(sharedModel),v=c.ensureUniqueItemVisual(f,"style");extend(v,h),sharedModel.option.decal&&(c.setItemVisual(f,"decal",sharedModel.option.decal),sharedModel.option.decal.dirty=!0),u in h&&c.setItemVisual(f,"colorFromPalette",!1)}}:null}}}},dataColorPaletteTask={performRawSeries:!0,overallReset:function(r){var n=createHashMap();r.eachSeries(function(i){var o=i.getColorBy();if(!i.isColorBySeries()){var a=i.type+"-"+o,u=n.get(a);u||(u={},n.set(a,u)),inner$4(i).scope=u}}),r.eachSeries(function(i){if(!(i.isColorBySeries()||r.isSeriesFiltered(i))){var o=i.getRawData(),a={},u=i.getData(),c=inner$4(i).scope,f=i.visualStyleAccessPath||"itemStyle",d=getDefaultColorKey(i,f);u.each(function(h){var v=u.getRawIndex(h);a[v]=h}),o.each(function(h){var v=a[h],g=u.getItemVisual(v,"colorFromPalette");if(g){var p=u.ensureUniqueItemVisual(v,"style"),y=o.getName(h)||h+"",_=o.count();p[d]=i.getColorFromPalette(y,c,_)}})}})}},PI$2=Math.PI;function defaultLoading(r,n){n=n||{},defaults(n,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var i=new Group$3,o=new Rect$1({style:{fill:n.maskColor},zlevel:n.zlevel,z:1e4});i.add(o);var a=new ZRText$1({style:{text:n.text,fill:n.textColor,fontSize:n.fontSize,fontWeight:n.fontWeight,fontStyle:n.fontStyle,fontFamily:n.fontFamily},zlevel:n.zlevel,z:10001}),u=new Rect$1({style:{fill:"none"},textContent:a,textConfig:{position:"right",distance:10},zlevel:n.zlevel,z:10001});i.add(u);var c;return n.showSpinner&&(c=new Arc$1({shape:{startAngle:-PI$2/2,endAngle:-PI$2/2+.1,r:n.spinnerRadius},style:{stroke:n.color,lineCap:"round",lineWidth:n.lineWidth},zlevel:n.zlevel,z:10001}),c.animateShape(!0).when(1e3,{endAngle:PI$2*3/2}).start("circularInOut"),c.animateShape(!0).when(1e3,{startAngle:PI$2*3/2}).delay(300).start("circularInOut"),i.add(c)),i.resize=function(){var f=a.getBoundingRect().width,d=n.showSpinner?n.spinnerRadius:0,h=(r.getWidth()-d*2-(n.showSpinner&&f?10:0)-f)/2-(n.showSpinner&&f?0:5+f/2)+(n.showSpinner?0:f/2)+(f?0:d),v=r.getHeight()/2;n.showSpinner&&c.setShape({cx:h,cy:v}),u.setShape({x:h-d,y:v-d,width:d*2,height:d*2}),o.setShape({x:0,y:0,width:r.getWidth(),height:r.getHeight()})},i.resize(),i}var Scheduler=function(){function r(n,i,o,a){this._stageTaskMap=createHashMap(),this.ecInstance=n,this.api=i,o=this._dataProcessorHandlers=o.slice(),a=this._visualHandlers=a.slice(),this._allHandlers=o.concat(a)}return r.prototype.restoreData=function(n,i){n.restoreData(i),this._stageTaskMap.each(function(o){var a=o.overallTask;a&&a.dirty()})},r.prototype.getPerformArgs=function(n,i){if(n.__pipeline){var o=this._pipelineMap.get(n.__pipeline.id),a=o.context,u=!i&&o.progressiveEnabled&&(!a||a.progressiveRender)&&n.__idxInPipeline>o.blockIndex,c=u?o.step:null,f=a&&a.modDataCount,d=f!=null?Math.ceil(f/c):null;return{step:c,modBy:d,modDataCount:f}}},r.prototype.getPipeline=function(n){return this._pipelineMap.get(n)},r.prototype.updateStreamModes=function(n,i){var o=this._pipelineMap.get(n.uid),a=n.getData(),u=a.count(),c=o.progressiveEnabled&&i.incrementalPrepareRender&&u>=o.threshold,f=n.get("large")&&u>=n.get("largeThreshold"),d=n.get("progressiveChunkMode")==="mod"?u:null;n.pipelineContext=o.context={progressiveRender:c,modDataCount:d,large:f}},r.prototype.restorePipelines=function(n){var i=this,o=i._pipelineMap=createHashMap();n.eachSeries(function(a){var u=a.getProgressive(),c=a.uid;o.set(c,{id:c,head:null,tail:null,threshold:a.getProgressiveThreshold(),progressiveEnabled:u&&!(a.preventIncremental&&a.preventIncremental()),blockIndex:-1,step:Math.round(u||700),count:0}),i._pipe(a,a.dataTask)})},r.prototype.prepareStageTasks=function(){var n=this._stageTaskMap,i=this.api.getModel(),o=this.api;each$4(this._allHandlers,function(a){var u=n.get(a.uid)||n.set(a.uid,{}),c="";process.env.NODE_ENV!=="production"&&(c='"reset" and "overallReset" must not be both specified.'),assert(!(a.reset&&a.overallReset),c),a.reset&&this._createSeriesStageTask(a,u,i,o),a.overallReset&&this._createOverallStageTask(a,u,i,o)},this)},r.prototype.prepareView=function(n,i,o,a){var u=n.renderTask,c=u.context;c.model=i,c.ecModel=o,c.api=a,u.__block=!n.incrementalPrepareRender,this._pipe(i,u)},r.prototype.performDataProcessorTasks=function(n,i){this._performStageTasks(this._dataProcessorHandlers,n,i,{block:!0})},r.prototype.performVisualTasks=function(n,i,o){this._performStageTasks(this._visualHandlers,n,i,o)},r.prototype._performStageTasks=function(n,i,o,a){a=a||{};var u=!1,c=this;each$4(n,function(d,h){if(!(a.visualType&&a.visualType!==d.visualType)){var v=c._stageTaskMap.get(d.uid),g=v.seriesTaskMap,p=v.overallTask;if(p){var y,_=p.agentStubMap;_.each(function(A){f(a,A)&&(A.dirty(),y=!0)}),y&&p.dirty(),c.updatePayload(p,o);var b=c.getPerformArgs(p,a.block);_.each(function(A){A.perform(b)}),p.perform(b)&&(u=!0)}else g&&g.each(function(A,w){f(a,A)&&A.dirty();var T=c.getPerformArgs(A,a.block);T.skip=!d.performRawSeries&&i.isSeriesFiltered(A.context.model),c.updatePayload(A,o),A.perform(T)&&(u=!0)})}});function f(d,h){return d.setDirty&&(!d.dirtyMap||d.dirtyMap.get(h.__pipeline.id))}this.unfinished=u||this.unfinished},r.prototype.performSeriesTasks=function(n){var i;n.eachSeries(function(o){i=o.dataTask.perform()||i}),this.unfinished=i||this.unfinished},r.prototype.plan=function(){this._pipelineMap.each(function(n){var i=n.tail;do{if(i.__block){n.blockIndex=i.__idxInPipeline;break}i=i.getUpstream()}while(i)})},r.prototype.updatePayload=function(n,i){i!=="remain"&&(n.context.payload=i)},r.prototype._createSeriesStageTask=function(n,i,o,a){var u=this,c=i.seriesTaskMap,f=i.seriesTaskMap=createHashMap(),d=n.seriesType,h=n.getTargetSeries;n.createOnAllSeries?o.eachRawSeries(v):d?o.eachRawSeriesByType(d,v):h&&h(o,a).each(v);function v(g){var p=g.uid,y=f.set(p,c&&c.get(p)||createTask({plan:seriesTaskPlan,reset:seriesTaskReset,count:seriesTaskCount}));y.context={model:g,ecModel:o,api:a,useClearVisual:n.isVisual&&!n.isLayout,plan:n.plan,reset:n.reset,scheduler:u},u._pipe(g,y)}},r.prototype._createOverallStageTask=function(n,i,o,a){var u=this,c=i.overallTask=i.overallTask||createTask({reset:overallTaskReset});c.context={ecModel:o,api:a,overallReset:n.overallReset,scheduler:u};var f=c.agentStubMap,d=c.agentStubMap=createHashMap(),h=n.seriesType,v=n.getTargetSeries,g=!0,p=!1,y="";process.env.NODE_ENV!=="production"&&(y='"createOnAllSeries" is not supported for "overallReset", because it will block all streams.'),assert(!n.createOnAllSeries,y),h?o.eachRawSeriesByType(h,_):v?v(o,a).each(_):(g=!1,each$4(o.getSeries(),_));function _(b){var A=b.uid,w=d.set(A,f&&f.get(A)||(p=!0,createTask({reset:stubReset,onDirty:stubOnDirty})));w.context={model:b,overallProgress:g},w.agent=c,w.__block=g,u._pipe(b,w)}p&&c.dirty()},r.prototype._pipe=function(n,i){var o=n.uid,a=this._pipelineMap.get(o);!a.head&&(a.head=i),a.tail&&a.tail.pipe(i),a.tail=i,i.__idxInPipeline=a.count++,i.__pipeline=a},r.wrapStageHandler=function(n,i){return isFunction$1(n)&&(n={overallReset:n,seriesType:detectSeriseType(n)}),n.uid=getUID("stageHandler"),i&&(n.visualType=i),n},r}();function overallTaskReset(r){r.overallReset(r.ecModel,r.api,r.payload)}function stubReset(r){return r.overallProgress&&stubProgress}function stubProgress(){this.agent.dirty(),this.getDownstream().dirty()}function stubOnDirty(){this.agent&&this.agent.dirty()}function seriesTaskPlan(r){return r.plan?r.plan(r.model,r.ecModel,r.api,r.payload):null}function seriesTaskReset(r){r.useClearVisual&&r.data.clearAllVisual();var n=r.resetDefines=normalizeToArray(r.reset(r.model,r.ecModel,r.api,r.payload));return n.length>1?map$1(n,function(i,o){return makeSeriesTaskProgress(o)}):singleSeriesTaskProgress}var singleSeriesTaskProgress=makeSeriesTaskProgress(0);function makeSeriesTaskProgress(r){return function(n,i){var o=i.data,a=i.resetDefines[r];if(a&&a.dataEach)for(var u=n.start;u<n.end;u++)a.dataEach(o,u);else a&&a.progress&&a.progress(n,o)}}function seriesTaskCount(r){return r.data.count()}function detectSeriseType(r){seriesType=null;try{r(ecModelMock,apiMock)}catch{}return seriesType}var ecModelMock={},apiMock={},seriesType;mockMethods(ecModelMock,GlobalModel$1),mockMethods(apiMock,ExtensionAPI$1),ecModelMock.eachSeriesByType=ecModelMock.eachRawSeriesByType=function(r){seriesType=r},ecModelMock.eachComponent=function(r){r.mainType==="series"&&r.subType&&(seriesType=r.subType)};function mockMethods(r,n){for(var i in n.prototype)r[i]=noop$1}const Scheduler$1=Scheduler;var colorAll=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const lightTheme={color:colorAll,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],colorAll]};var contrastColor="#B9B8CE",backgroundColor="#100C2A",axisCommon=function(){return{axisLine:{lineStyle:{color:contrastColor}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},colorPalette=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],theme={darkMode:!0,color:colorPalette,backgroundColor,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:contrastColor}},textStyle:{color:contrastColor},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:contrastColor}},dataZoom:{borderColor:"#71708A",textStyle:{color:contrastColor},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:contrastColor}},timeline:{lineStyle:{color:contrastColor},label:{color:contrastColor},controlStyle:{color:contrastColor,borderColor:contrastColor}},calendar:{itemStyle:{color:backgroundColor},dayLabel:{color:contrastColor},monthLabel:{color:contrastColor},yearLabel:{color:contrastColor}},timeAxis:axisCommon(),logAxis:axisCommon(),valueAxis:axisCommon(),categoryAxis:axisCommon(),line:{symbol:"circle"},graph:{color:colorPalette},gauge:{title:{color:contrastColor},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:contrastColor},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};theme.categoryAxis.splitLine.show=!1;const darkTheme=theme;var ECEventProcessor=function(){function r(){}return r.prototype.normalizeQuery=function(n){var i={},o={},a={};if(isString$2(n)){var u=parseClassType(n);i.mainType=u.main||null,i.subType=u.sub||null}else{var c=["Index","Name","Id"],f={name:1,dataIndex:1,dataType:1};each$4(n,function(d,h){for(var v=!1,g=0;g<c.length;g++){var p=c[g],y=h.lastIndexOf(p);if(y>0&&y===h.length-p.length){var _=h.slice(0,y);_!=="data"&&(i.mainType=_,i[p.toLowerCase()]=d,v=!0)}}f.hasOwnProperty(h)&&(o[h]=d,v=!0),v||(a[h]=d)})}return{cptQuery:i,dataQuery:o,otherQuery:a}},r.prototype.filter=function(n,i){var o=this.eventInfo;if(!o)return!0;var a=o.targetEl,u=o.packedEvent,c=o.model,f=o.view;if(!c||!f)return!0;var d=i.cptQuery,h=i.dataQuery;return v(d,c,"mainType")&&v(d,c,"subType")&&v(d,c,"index","componentIndex")&&v(d,c,"name")&&v(d,c,"id")&&v(h,u,"name")&&v(h,u,"dataIndex")&&v(h,u,"dataType")&&(!f.filterForExposedEvent||f.filterForExposedEvent(n,i.otherQuery,a,u));function v(g,p,y,_){return g[y]==null||p[_||y]===g[y]}},r.prototype.afterTrigger=function(){this.eventInfo=null},r}(),SYMBOL_PROPS_WITH_CB=["symbol","symbolSize","symbolRotate","symbolOffset"],SYMBOL_PROPS=SYMBOL_PROPS_WITH_CB.concat(["symbolKeepAspect"]),seriesSymbolTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(r,n){var i=r.getData();if(r.legendIcon&&i.setVisual("legendIcon",r.legendIcon),!r.hasSymbolVisual)return;for(var o={},a={},u=!1,c=0;c<SYMBOL_PROPS_WITH_CB.length;c++){var f=SYMBOL_PROPS_WITH_CB[c],d=r.get(f);isFunction$1(d)?(u=!0,a[f]=d):o[f]=d}if(o.symbol=o.symbol||r.defaultSymbol,i.setVisual(extend({legendIcon:r.legendIcon||o.symbol,symbolKeepAspect:r.get("symbolKeepAspect")},o)),n.isSeriesFiltered(r))return;var h=keys(a);function v(g,p){for(var y=r.getRawValue(p),_=r.getDataParams(p),b=0;b<h.length;b++){var A=h[b];g.setItemVisual(p,A,a[A](y,_))}}return{dataEach:u?v:null}}},dataSymbolTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(r,n){if(!r.hasSymbolVisual||n.isSeriesFiltered(r))return;var i=r.getData();function o(a,u){for(var c=a.getItemModel(u),f=0;f<SYMBOL_PROPS.length;f++){var d=SYMBOL_PROPS[f],h=c.getShallow(d,!0);h!=null&&a.setItemVisual(u,d,h)}}return{dataEach:i.hasItemOption?o:null}}};function getItemVisualFromData(r,n,i){switch(i){case"color":var o=r.getItemVisual(n,"style");return o[r.getVisual("drawType")];case"opacity":return r.getItemVisual(n,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return r.getItemVisual(n,i);default:process.env.NODE_ENV!=="production"&&console.warn("Unknown visual type "+i)}}function getVisualFromData(r,n){switch(n){case"color":var i=r.getVisual("style");return i[r.getVisual("drawType")];case"opacity":return r.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return r.getVisual(n);default:process.env.NODE_ENV!=="production"&&console.warn("Unknown visual type "+n)}}function createLegacyDataSelectAction(r,n){function i(o,a){var u=[];return o.eachComponent({mainType:"series",subType:r,query:a},function(c){u.push(c.seriesIndex)}),u}each$4([[r+"ToggleSelect","toggleSelect"],[r+"Select","select"],[r+"UnSelect","unselect"]],function(o){n(o[0],function(a,u,c){a=extend({},a),process.env.NODE_ENV!=="production"&&deprecateReplaceLog(a.type,o[1]),c.dispatchAction(extend(a,{type:o[1],seriesIndex:i(u,a)}))})})}function handleSeriesLegacySelectEvents(r,n,i,o,a){var u=r+n;i.isSilent(u)||(process.env.NODE_ENV!=="production"&&deprecateLog("event "+u+" is deprecated."),o.eachComponent({mainType:"series",subType:"pie"},function(c){for(var f=c.seriesIndex,d=c.option.selectedMap,h=a.selected,v=0;v<h.length;v++)if(h[v].seriesIndex===f){var g=c.getData(),p=queryDataIndex(g,a.fromActionPayload);i.trigger(u,{type:u,seriesId:c.id,name:isArray$1(p)?g.getName(p[0]):g.getName(p),selected:isString$2(d)?d:extend({},d)})}}))}function handleLegacySelectEvents(r,n,i){r.on("selectchanged",function(o){var a=i.getModel();o.isFromClick?(handleSeriesLegacySelectEvents("map","selectchanged",n,a,o),handleSeriesLegacySelectEvents("pie","selectchanged",n,a,o)):o.fromAction==="select"?(handleSeriesLegacySelectEvents("map","selected",n,a,o),handleSeriesLegacySelectEvents("pie","selected",n,a,o)):o.fromAction==="unselect"&&(handleSeriesLegacySelectEvents("map","unselected",n,a,o),handleSeriesLegacySelectEvents("pie","unselected",n,a,o))})}function findEventDispatcher(r,n,i){for(var o;r&&!(n(r)&&(o=r,i));)r=r.__hostTarget||r.parent;return o}var wmUniqueIndex=Math.round(Math.random()*9),supportDefineProperty=typeof Object.defineProperty=="function",WeakMap$1=function(){function r(){this._id="__ec_inner_"+wmUniqueIndex++}return r.prototype.get=function(n){return this._guard(n)[this._id]},r.prototype.set=function(n,i){var o=this._guard(n);return supportDefineProperty?Object.defineProperty(o,this._id,{value:i,enumerable:!1,configurable:!0}):o[this._id]=i,this},r.prototype.delete=function(n){return this.has(n)?(delete this._guard(n)[this._id],!0):!1},r.prototype.has=function(n){return!!this._guard(n)[this._id]},r.prototype._guard=function(n){if(n!==Object(n))throw TypeError("Value of WeakMap is not a non-null object.");return n},r}();const WeakMap$2=WeakMap$1;var Triangle=Path$1.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(r,n){var i=n.cx,o=n.cy,a=n.width/2,u=n.height/2;r.moveTo(i,o-u),r.lineTo(i+a,o+u),r.lineTo(i-a,o+u),r.closePath()}}),Diamond=Path$1.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(r,n){var i=n.cx,o=n.cy,a=n.width/2,u=n.height/2;r.moveTo(i,o-u),r.lineTo(i+a,o),r.lineTo(i,o+u),r.lineTo(i-a,o),r.closePath()}}),Pin=Path$1.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(r,n){var i=n.x,o=n.y,a=n.width/5*3,u=Math.max(a,n.height),c=a/2,f=c*c/(u-c),d=o-u+c+f,h=Math.asin(f/c),v=Math.cos(h)*c,g=Math.sin(h),p=Math.cos(h),y=c*.6,_=c*.7;r.moveTo(i-v,d+f),r.arc(i,d,c,Math.PI-h,Math.PI*2+h),r.bezierCurveTo(i+v-g*y,d+f+p*y,i,o-_,i,o),r.bezierCurveTo(i,o-_,i-v+g*y,d+f+p*y,i-v,d+f),r.closePath()}}),Arrow=Path$1.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(r,n){var i=n.height,o=n.width,a=n.x,u=n.y,c=o/3*2;r.moveTo(a,u),r.lineTo(a+c,u+i),r.lineTo(a,u+i/4*3),r.lineTo(a-c,u+i),r.lineTo(a,u),r.closePath()}}),symbolCtors={line:Line$1,rect:Rect$1,roundRect:Rect$1,square:Rect$1,circle:Circle$1,diamond:Diamond,pin:Pin,arrow:Arrow,triangle:Triangle},symbolShapeMakers={line:function(r,n,i,o,a){a.x1=r,a.y1=n+o/2,a.x2=r+i,a.y2=n+o/2},rect:function(r,n,i,o,a){a.x=r,a.y=n,a.width=i,a.height=o},roundRect:function(r,n,i,o,a){a.x=r,a.y=n,a.width=i,a.height=o,a.r=Math.min(i,o)/4},square:function(r,n,i,o,a){var u=Math.min(i,o);a.x=r,a.y=n,a.width=u,a.height=u},circle:function(r,n,i,o,a){a.cx=r+i/2,a.cy=n+o/2,a.r=Math.min(i,o)/2},diamond:function(r,n,i,o,a){a.cx=r+i/2,a.cy=n+o/2,a.width=i,a.height=o},pin:function(r,n,i,o,a){a.x=r+i/2,a.y=n+o/2,a.width=i,a.height=o},arrow:function(r,n,i,o,a){a.x=r+i/2,a.y=n+o/2,a.width=i,a.height=o},triangle:function(r,n,i,o,a){a.cx=r+i/2,a.cy=n+o/2,a.width=i,a.height=o}},symbolBuildProxies={};each$4(symbolCtors,function(r,n){symbolBuildProxies[n]=new r});var SymbolClz=Path$1.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(r,n,i){var o=calculateTextPosition(r,n,i),a=this.shape;return a&&a.symbolType==="pin"&&n.position==="inside"&&(o.y=i.y+i.height*.4),o},buildPath:function(r,n,i){var o=n.symbolType;if(o!=="none"){var a=symbolBuildProxies[o];a||(o="rect",a=symbolBuildProxies[o]),symbolShapeMakers[o](n.x,n.y,n.width,n.height,a.shape),a.buildPath(r,a.shape,i)}}});function symbolPathSetColor(r,n){if(this.type!=="image"){var i=this.style;this.__isEmptyBrush?(i.stroke=r,i.fill=n||"#fff",i.lineWidth=2):this.shape.symbolType==="line"?i.stroke=r:i.fill=r,this.markRedraw()}}function createSymbol(r,n,i,o,a,u,c){var f=r.indexOf("empty")===0;f&&(r=r.substr(5,1).toLowerCase()+r.substr(6));var d;return r.indexOf("image://")===0?d=makeImage(r.slice(8),new BoundingRect$1(n,i,o,a),c?"center":"cover"):r.indexOf("path://")===0?d=makePath(r.slice(7),{},new BoundingRect$1(n,i,o,a),c?"center":"cover"):d=new SymbolClz({shape:{symbolType:r,x:n,y:i,width:o,height:a}}),d.__isEmptyBrush=f,d.setColor=symbolPathSetColor,u&&d.setColor(u),d}function normalizeSymbolOffset(r,n){if(r!=null)return isArray$1(r)||(r=[r,r]),[parsePercent(r[0],n[0])||0,parsePercent(retrieve2(r[1],r[0]),n[1])||0]}function isSafeNum(r){return isFinite(r)}function createLinearGradient(r,n,i){var o=n.x==null?0:n.x,a=n.x2==null?1:n.x2,u=n.y==null?0:n.y,c=n.y2==null?0:n.y2;n.global||(o=o*i.width+i.x,a=a*i.width+i.x,u=u*i.height+i.y,c=c*i.height+i.y),o=isSafeNum(o)?o:0,a=isSafeNum(a)?a:1,u=isSafeNum(u)?u:0,c=isSafeNum(c)?c:0;var f=r.createLinearGradient(o,u,a,c);return f}function createRadialGradient(r,n,i){var o=i.width,a=i.height,u=Math.min(o,a),c=n.x==null?.5:n.x,f=n.y==null?.5:n.y,d=n.r==null?.5:n.r;n.global||(c=c*o+i.x,f=f*a+i.y,d=d*u),c=isSafeNum(c)?c:.5,f=isSafeNum(f)?f:.5,d=d>=0&&isSafeNum(d)?d:.5;var h=r.createRadialGradient(c,f,0,c,f,d);return h}function getCanvasGradient(r,n,i){for(var o=n.type==="radial"?createRadialGradient(r,n,i):createLinearGradient(r,n,i),a=n.colorStops,u=0;u<a.length;u++)o.addColorStop(a[u].offset,a[u].color);return o}function isClipPathChanged(r,n){if(r===n||!r&&!n)return!1;if(!r||!n||r.length!==n.length)return!0;for(var i=0;i<r.length;i++)if(r[i]!==n[i])return!0;return!1}function parseInt10(r){return parseInt(r,10)}function getSize(r,n,i){var o=["width","height"][n],a=["clientWidth","clientHeight"][n],u=["paddingLeft","paddingTop"][n],c=["paddingRight","paddingBottom"][n];if(i[o]!=null&&i[o]!=="auto")return parseFloat(i[o]);var f=document.defaultView.getComputedStyle(r);return(r[a]||parseInt10(f[o])||parseInt10(r.style[o]))-(parseInt10(f[u])||0)-(parseInt10(f[c])||0)|0}function normalizeLineDash(r,n){return!r||r==="solid"||!(n>0)?null:r==="dashed"?[4*n,2*n]:r==="dotted"?[n]:isNumber$1(r)?[r]:isArray$1(r)?r:null}function getLineDash(r){var n=r.style,i=n.lineDash&&n.lineWidth>0&&normalizeLineDash(n.lineDash,n.lineWidth),o=n.lineDashOffset;if(i){var a=n.strokeNoScale&&r.getLineScale?r.getLineScale():1;a&&a!==1&&(i=map$1(i,function(u){return u/a}),o/=a)}return[i,o]}var pathProxyForDraw=new PathProxy$1(!0);function styleHasStroke(r){var n=r.stroke;return!(n==null||n==="none"||!(r.lineWidth>0))}function isValidStrokeFillStyle(r){return typeof r=="string"&&r!=="none"}function styleHasFill(r){var n=r.fill;return n!=null&&n!=="none"}function doFillPath(r,n){if(n.fillOpacity!=null&&n.fillOpacity!==1){var i=r.globalAlpha;r.globalAlpha=n.fillOpacity*n.opacity,r.fill(),r.globalAlpha=i}else r.fill()}function doStrokePath(r,n){if(n.strokeOpacity!=null&&n.strokeOpacity!==1){var i=r.globalAlpha;r.globalAlpha=n.strokeOpacity*n.opacity,r.stroke(),r.globalAlpha=i}else r.stroke()}function createCanvasPattern(r,n,i){var o=createOrUpdateImage(n.image,n.__image,i);if(isImageReady(o)){var a=r.createPattern(o,n.repeat||"repeat");if(typeof DOMMatrix=="function"&&a&&a.setTransform){var u=new DOMMatrix;u.translateSelf(n.x||0,n.y||0),u.rotateSelf(0,0,(n.rotation||0)*RADIAN_TO_DEGREE),u.scaleSelf(n.scaleX||1,n.scaleY||1),a.setTransform(u)}return a}}function brushPath(r,n,i,o){var a,u=styleHasStroke(i),c=styleHasFill(i),f=i.strokePercent,d=f<1,h=!n.path;(!n.silent||d)&&h&&n.createPathProxy();var v=n.path||pathProxyForDraw,g=n.__dirty;if(!o){var p=i.fill,y=i.stroke,_=c&&!!p.colorStops,b=u&&!!y.colorStops,A=c&&!!p.image,w=u&&!!y.image,T=void 0,S=void 0,x=void 0,O=void 0,L=void 0;(_||b)&&(L=n.getBoundingRect()),_&&(T=g?getCanvasGradient(r,p,L):n.__canvasFillGradient,n.__canvasFillGradient=T),b&&(S=g?getCanvasGradient(r,y,L):n.__canvasStrokeGradient,n.__canvasStrokeGradient=S),A&&(x=g||!n.__canvasFillPattern?createCanvasPattern(r,p,n):n.__canvasFillPattern,n.__canvasFillPattern=x),w&&(O=g||!n.__canvasStrokePattern?createCanvasPattern(r,y,n):n.__canvasStrokePattern,n.__canvasStrokePattern=x),_?r.fillStyle=T:A&&(x?r.fillStyle=x:c=!1),b?r.strokeStyle=S:w&&(O?r.strokeStyle=O:u=!1)}var M=n.getGlobalScale();v.setScale(M[0],M[1],n.segmentIgnoreThreshold);var re,F;r.setLineDash&&i.lineDash&&(a=getLineDash(n),re=a[0],F=a[1]);var j=!0;(h||g&SHAPE_CHANGED_BIT)&&(v.setDPR(r.dpr),d?v.setContext(null):(v.setContext(r),j=!1),v.reset(),n.buildPath(v,n.shape,o),v.toStatic(),n.pathUpdated()),j&&v.rebuildPath(r,d?f:1),re&&(r.setLineDash(re),r.lineDashOffset=F),o||(i.strokeFirst?(u&&doStrokePath(r,i),c&&doFillPath(r,i)):(c&&doFillPath(r,i),u&&doStrokePath(r,i))),re&&r.setLineDash([])}function brushImage(r,n,i){var o=n.__image=createOrUpdateImage(i.image,n.__image,n,n.onload);if(!(!o||!isImageReady(o))){var a=i.x||0,u=i.y||0,c=n.getWidth(),f=n.getHeight(),d=o.width/o.height;if(c==null&&f!=null?c=f*d:f==null&&c!=null?f=c/d:c==null&&f==null&&(c=o.width,f=o.height),i.sWidth&&i.sHeight){var h=i.sx||0,v=i.sy||0;r.drawImage(o,h,v,i.sWidth,i.sHeight,a,u,c,f)}else if(i.sx&&i.sy){var h=i.sx,v=i.sy,g=c-h,p=f-v;r.drawImage(o,h,v,g,p,a,u,c,f)}else r.drawImage(o,a,u,c,f)}}function brushText(r,n,i){var o,a=i.text;if(a!=null&&(a+=""),a){r.font=i.font||DEFAULT_FONT,r.textAlign=i.textAlign,r.textBaseline=i.textBaseline;var u=void 0,c=void 0;r.setLineDash&&i.lineDash&&(o=getLineDash(n),u=o[0],c=o[1]),u&&(r.setLineDash(u),r.lineDashOffset=c),i.strokeFirst?(styleHasStroke(i)&&r.strokeText(a,i.x,i.y),styleHasFill(i)&&r.fillText(a,i.x,i.y)):(styleHasFill(i)&&r.fillText(a,i.x,i.y),styleHasStroke(i)&&r.strokeText(a,i.x,i.y)),u&&r.setLineDash([])}}var SHADOW_NUMBER_PROPS=["shadowBlur","shadowOffsetX","shadowOffsetY"],STROKE_PROPS=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function bindCommonProps(r,n,i,o,a){var u=!1;if(!o&&(i=i||{},n===i))return!1;if(o||n.opacity!==i.opacity){flushPathDrawn(r,a),u=!0;var c=Math.max(Math.min(n.opacity,1),0);r.globalAlpha=isNaN(c)?DEFAULT_COMMON_STYLE.opacity:c}(o||n.blend!==i.blend)&&(u||(flushPathDrawn(r,a),u=!0),r.globalCompositeOperation=n.blend||DEFAULT_COMMON_STYLE.blend);for(var f=0;f<SHADOW_NUMBER_PROPS.length;f++){var d=SHADOW_NUMBER_PROPS[f];(o||n[d]!==i[d])&&(u||(flushPathDrawn(r,a),u=!0),r[d]=r.dpr*(n[d]||0))}return(o||n.shadowColor!==i.shadowColor)&&(u||(flushPathDrawn(r,a),u=!0),r.shadowColor=n.shadowColor||DEFAULT_COMMON_STYLE.shadowColor),u}function bindPathAndTextCommonStyle(r,n,i,o,a){var u=getStyle(n,a.inHover),c=o?null:i&&getStyle(i,a.inHover)||{};if(u===c)return!1;var f=bindCommonProps(r,u,c,o,a);if((o||u.fill!==c.fill)&&(f||(flushPathDrawn(r,a),f=!0),isValidStrokeFillStyle(u.fill)&&(r.fillStyle=u.fill)),(o||u.stroke!==c.stroke)&&(f||(flushPathDrawn(r,a),f=!0),isValidStrokeFillStyle(u.stroke)&&(r.strokeStyle=u.stroke)),(o||u.opacity!==c.opacity)&&(f||(flushPathDrawn(r,a),f=!0),r.globalAlpha=u.opacity==null?1:u.opacity),n.hasStroke()){var d=u.lineWidth,h=d/(u.strokeNoScale&&n.getLineScale?n.getLineScale():1);r.lineWidth!==h&&(f||(flushPathDrawn(r,a),f=!0),r.lineWidth=h)}for(var v=0;v<STROKE_PROPS.length;v++){var g=STROKE_PROPS[v],p=g[0];(o||u[p]!==c[p])&&(f||(flushPathDrawn(r,a),f=!0),r[p]=u[p]||g[1])}return f}function bindImageStyle(r,n,i,o,a){return bindCommonProps(r,getStyle(n,a.inHover),i&&getStyle(i,a.inHover),o,a)}function setContextTransform(r,n){var i=n.transform,o=r.dpr||1;i?r.setTransform(o*i[0],o*i[1],o*i[2],o*i[3],o*i[4],o*i[5]):r.setTransform(o,0,0,o,0,0)}function updateClipStatus(r,n,i){for(var o=!1,a=0;a<r.length;a++){var u=r[a];o=o||u.isZeroArea(),setContextTransform(n,u),n.beginPath(),u.buildPath(n,u.shape),n.clip()}i.allClipped=o}function isTransformChanged(r,n){return r&&n?r[0]!==n[0]||r[1]!==n[1]||r[2]!==n[2]||r[3]!==n[3]||r[4]!==n[4]||r[5]!==n[5]:!(!r&&!n)}var DRAW_TYPE_PATH=1,DRAW_TYPE_IMAGE=2,DRAW_TYPE_TEXT=3,DRAW_TYPE_INCREMENTAL=4;function canPathBatch(r){var n=styleHasFill(r),i=styleHasStroke(r);return!(r.lineDash||!(+n^+i)||n&&typeof r.fill!="string"||i&&typeof r.stroke!="string"||r.strokePercent<1||r.strokeOpacity<1||r.fillOpacity<1)}function flushPathDrawn(r,n){n.batchFill&&r.fill(),n.batchStroke&&r.stroke(),n.batchFill="",n.batchStroke=""}function getStyle(r,n){return n&&r.__hoverStyle||r.style}function brushSingle(r,n){brush$1(r,n,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function brush$1(r,n,i,o){var a=n.transform;if(!n.shouldBePainted(i.viewWidth,i.viewHeight,!1,!1)){n.__dirty&=~REDRAW_BIT,n.__isRendered=!1;return}var u=n.__clipPaths,c=i.prevElClipPaths,f=!1,d=!1;if((!c||isClipPathChanged(u,c))&&(c&&c.length&&(flushPathDrawn(r,i),r.restore(),d=f=!0,i.prevElClipPaths=null,i.allClipped=!1,i.prevEl=null),u&&u.length&&(flushPathDrawn(r,i),r.save(),updateClipStatus(u,r,i),f=!0),i.prevElClipPaths=u),i.allClipped){n.__isRendered=!1;return}n.beforeBrush&&n.beforeBrush(),n.innerBeforeBrush();var h=i.prevEl;h||(d=f=!0);var v=n instanceof Path$1&&n.autoBatch&&canPathBatch(n.style);f||isTransformChanged(a,h.transform)?(flushPathDrawn(r,i),setContextTransform(r,n)):v||flushPathDrawn(r,i);var g=getStyle(n,i.inHover);n instanceof Path$1?(i.lastDrawType!==DRAW_TYPE_PATH&&(d=!0,i.lastDrawType=DRAW_TYPE_PATH),bindPathAndTextCommonStyle(r,n,h,d,i),(!v||!i.batchFill&&!i.batchStroke)&&r.beginPath(),brushPath(r,n,g,v),v&&(i.batchFill=g.fill||"",i.batchStroke=g.stroke||"")):n instanceof TSpan$1?(i.lastDrawType!==DRAW_TYPE_TEXT&&(d=!0,i.lastDrawType=DRAW_TYPE_TEXT),bindPathAndTextCommonStyle(r,n,h,d,i),brushText(r,n,g)):n instanceof ZRImage$1?(i.lastDrawType!==DRAW_TYPE_IMAGE&&(d=!0,i.lastDrawType=DRAW_TYPE_IMAGE),bindImageStyle(r,n,h,d,i),brushImage(r,n,g)):n.getTemporalDisplayables&&(i.lastDrawType!==DRAW_TYPE_INCREMENTAL&&(d=!0,i.lastDrawType=DRAW_TYPE_INCREMENTAL),brushIncremental(r,n,i)),v&&o&&flushPathDrawn(r,i),n.innerAfterBrush(),n.afterBrush&&n.afterBrush(),i.prevEl=n,n.__dirty=0,n.__isRendered=!0}function brushIncremental(r,n,i){var o=n.getDisplayables(),a=n.getTemporalDisplayables();r.save();var u={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:i.viewWidth,viewHeight:i.viewHeight,inHover:i.inHover},c,f;for(c=n.getCursor(),f=o.length;c<f;c++){var d=o[c];d.beforeBrush&&d.beforeBrush(),d.innerBeforeBrush(),brush$1(r,d,u,c===f-1),d.innerAfterBrush(),d.afterBrush&&d.afterBrush(),u.prevEl=d}for(var h=0,v=a.length;h<v;h++){var d=a[h];d.beforeBrush&&d.beforeBrush(),d.innerBeforeBrush(),brush$1(r,d,u,h===v-1),d.innerAfterBrush(),d.afterBrush&&d.afterBrush(),u.prevEl=d}n.clearTemporalDisplayables(),n.notClear=!0,r.restore()}var decalMap=new WeakMap$2,decalCache=new LRU$1(100),decalKeys=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function createOrUpdatePatternFromDecal(r,n){if(r==="none")return null;var i=n.getDevicePixelRatio(),o=n.getZr(),a=o.painter.type==="svg";r.dirty&&decalMap.delete(r);var u=decalMap.get(r);if(u)return u;var c=defaults(r,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});c.backgroundColor==="none"&&(c.backgroundColor=null);var f={repeat:"repeat"};return d(f),f.rotation=c.rotation,f.scaleX=f.scaleY=a?1:1/i,decalMap.set(r,f),r.dirty=!1,f;function d(h){for(var v=[i],g=!0,p=0;p<decalKeys.length;++p){var y=c[decalKeys[p]];if(y!=null&&!isArray$1(y)&&!isString$2(y)&&!isNumber$1(y)&&typeof y!="boolean"){g=!1;break}v.push(y)}var _;if(g){_=v.join(",")+(a?"-svg":"");var b=decalCache.get(_);b&&(a?h.svgElement=b:h.image=b)}var A=normalizeDashArrayX(c.dashArrayX),w=normalizeDashArrayY(c.dashArrayY),T=normalizeSymbolArray(c.symbol),S=getLineBlockLengthX(A),x=getLineBlockLengthY(w),O=!a&&platformApi.createCanvas(),L=a&&{tag:"g",attrs:{},key:"dcl",children:[]},M=F(),re;O&&(O.width=M.width*i,O.height=M.height*i,re=O.getContext("2d")),j(),g&&decalCache.put(_,O||L),h.image=O,h.svgElement=L,h.svgWidth=M.width,h.svgHeight=M.height;function F(){for(var V=1,z=0,$=S.length;z<$;++z)V=getLeastCommonMultiple(V,S[z]);for(var he=1,z=0,$=T.length;z<$;++z)he=getLeastCommonMultiple(he,T[z].length);V*=he;var le=x*S.length*T.length;if(process.env.NODE_ENV!=="production"){var Ie=function(Fe){console.warn("Calculated decal size is greater than "+Fe+" due to decal option settings so "+Fe+" is used for the decal size. Please consider changing the decal option to make a smaller decal or set "+Fe+" to be larger to avoid incontinuity.")};V>c.maxTileWidth&&Ie("maxTileWidth"),le>c.maxTileHeight&&Ie("maxTileHeight")}return{width:Math.max(1,Math.min(V,c.maxTileWidth)),height:Math.max(1,Math.min(le,c.maxTileHeight))}}function j(){re&&(re.clearRect(0,0,O.width,O.height),c.backgroundColor&&(re.fillStyle=c.backgroundColor,re.fillRect(0,0,O.width,O.height)));for(var V=0,z=0;z<w.length;++z)V+=w[z];if(V<=0)return;for(var $=-x,he=0,le=0,Ie=0;$<M.height;){if(he%2===0){for(var Fe=le/2%T.length,pe=0,Lt=0,_e=0;pe<M.width*2;){for(var Et=0,z=0;z<A[Ie].length;++z)Et+=A[Ie][z];if(Et<=0)break;if(Lt%2===0){var Cn=(1-c.symbolSize)*.5,vn=pe+A[Ie][Lt]*Cn,Dt=$+w[he]*Cn,de=A[Ie][Lt]*c.symbolSize,qe=w[he]*c.symbolSize,Pt=_e/2%T[Fe].length;In(vn,Dt,de,qe,T[Fe][Pt])}pe+=A[Ie][Lt],++_e,++Lt,Lt===A[Ie].length&&(Lt=0)}++Ie,Ie===A.length&&(Ie=0)}$+=w[he],++le,++he,he===w.length&&(he=0)}function In($e,Ce,ue,At,Ne){var Oe=a?1:i,kt=createSymbol(Ne,$e*Oe,Ce*Oe,ue*Oe,At*Oe,c.color,c.symbolKeepAspect);if(a){var jt=o.painter.renderOneToVNode(kt);jt&&L.children.push(jt)}else brushSingle(re,kt)}}}}function normalizeSymbolArray(r){if(!r||r.length===0)return[["rect"]];if(isString$2(r))return[[r]];for(var n=!0,i=0;i<r.length;++i)if(!isString$2(r[i])){n=!1;break}if(n)return normalizeSymbolArray([r]);for(var o=[],i=0;i<r.length;++i)isString$2(r[i])?o.push([r[i]]):o.push(r[i]);return o}function normalizeDashArrayX(r){if(!r||r.length===0)return[[0,0]];if(isNumber$1(r)){var n=Math.ceil(r);return[[n,n]]}for(var i=!0,o=0;o<r.length;++o)if(!isNumber$1(r[o])){i=!1;break}if(i)return normalizeDashArrayX([r]);for(var a=[],o=0;o<r.length;++o)if(isNumber$1(r[o])){var n=Math.ceil(r[o]);a.push([n,n])}else{var n=map$1(r[o],function(f){return Math.ceil(f)});n.length%2===1?a.push(n.concat(n)):a.push(n)}return a}function normalizeDashArrayY(r){if(!r||typeof r=="object"&&r.length===0)return[0,0];if(isNumber$1(r)){var n=Math.ceil(r);return[n,n]}var i=map$1(r,function(o){return Math.ceil(o)});return r.length%2?i.concat(i):i}function getLineBlockLengthX(r){return map$1(r,function(n){return getLineBlockLengthY(n)})}function getLineBlockLengthY(r){for(var n=0,i=0;i<r.length;++i)n+=r[i];return r.length%2===1?n*2:n}function decalVisual(r,n){r.eachRawSeries(function(i){if(!r.isSeriesFiltered(i)){var o=i.getData();o.hasItemVisual()&&o.each(function(c){var f=o.getItemVisual(c,"decal");if(f){var d=o.ensureUniqueItemVisual(c,"style");d.decal=createOrUpdatePatternFromDecal(f,n)}});var a=o.getVisual("decal");if(a){var u=o.getVisual("style");u.decal=createOrUpdatePatternFromDecal(a,n)}}})}var lifecycle=new Eventful$1;const lifecycle$1=lifecycle;var implsStore={};function registerImpl(r,n){process.env.NODE_ENV!=="production"&&implsStore[r]&&error("Already has an implementation of "+r+"."),implsStore[r]=n}function getImpl(r){return process.env.NODE_ENV!=="production"&&(implsStore[r]||error("Implementation of "+r+" doesn't exists.")),implsStore[r]}var TEST_FRAME_REMAIN_TIME=1,PRIORITY_PROCESSOR_SERIES_FILTER=800,PRIORITY_PROCESSOR_DATASTACK=900,PRIORITY_PROCESSOR_FILTER=1e3,PRIORITY_PROCESSOR_DEFAULT=2e3,PRIORITY_PROCESSOR_STATISTIC=5e3,PRIORITY_VISUAL_LAYOUT=1e3,PRIORITY_VISUAL_PROGRESSIVE_LAYOUT=1100,PRIORITY_VISUAL_GLOBAL=2e3,PRIORITY_VISUAL_CHART=3e3,PRIORITY_VISUAL_COMPONENT=4e3,PRIORITY_VISUAL_CHART_DATA_CUSTOM=4500,PRIORITY_VISUAL_POST_CHART_LAYOUT=4600,PRIORITY_VISUAL_BRUSH=5e3,PRIORITY_VISUAL_ARIA=6e3,PRIORITY_VISUAL_DECAL=7e3,PRIORITY={PROCESSOR:{FILTER:PRIORITY_PROCESSOR_FILTER,SERIES_FILTER:PRIORITY_PROCESSOR_SERIES_FILTER,STATISTIC:PRIORITY_PROCESSOR_STATISTIC},VISUAL:{LAYOUT:PRIORITY_VISUAL_LAYOUT,PROGRESSIVE_LAYOUT:PRIORITY_VISUAL_PROGRESSIVE_LAYOUT,GLOBAL:PRIORITY_VISUAL_GLOBAL,CHART:PRIORITY_VISUAL_CHART,POST_CHART_LAYOUT:PRIORITY_VISUAL_POST_CHART_LAYOUT,COMPONENT:PRIORITY_VISUAL_COMPONENT,BRUSH:PRIORITY_VISUAL_BRUSH,CHART_ITEM:PRIORITY_VISUAL_CHART_DATA_CUSTOM,ARIA:PRIORITY_VISUAL_ARIA,DECAL:PRIORITY_VISUAL_DECAL}},IN_MAIN_PROCESS_KEY="__flagInMainProcess",PENDING_UPDATE="__pendingUpdate",STATUS_NEEDS_UPDATE_KEY="__needsUpdateStatus",ACTION_REG=/^[a-zA-Z0-9_]+$/;function createRegisterEventWithLowercaseECharts(r){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];if(this.isDisposed()){disposedWarning(this.id);return}return toLowercaseNameAndCallEventful(this,r,n)}}function createRegisterEventWithLowercaseMessageCenter(r){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return toLowercaseNameAndCallEventful(this,r,n)}}function toLowercaseNameAndCallEventful(r,n,i){return i[0]=i[0]&&i[0].toLowerCase(),Eventful$1.prototype[n].apply(r,i)}var MessageCenter=function(r){__extends(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return n}(Eventful$1),messageCenterProto=MessageCenter.prototype;messageCenterProto.on=createRegisterEventWithLowercaseMessageCenter("on"),messageCenterProto.off=createRegisterEventWithLowercaseMessageCenter("off");var prepare,prepareView,updateDirectly,updateMethods,doConvertPixel,updateStreamModes,doDispatchAction,flushPendingActions,triggerUpdatedEvent,bindRenderedEvent,bindMouseEvent,render,renderComponents,renderSeries,createExtensionAPI,markStatusToUpdate,applyChangedStates,ECharts=function(r){__extends(n,r);function n(i,o,a){var u=r.call(this,new ECEventProcessor)||this;u._chartsViews=[],u._chartsMap={},u._componentsViews=[],u._componentsMap={},u._pendingActions=[],a=a||{},isString$2(o)&&(o=themeStorage[o]),u._dom=i;var c="canvas",f="auto",d=!1;if(process.env.NODE_ENV!=="production"){var h=env$1.hasGlobalWindow?window:global;c=h.__ECHARTS__DEFAULT__RENDERER__||c,f=retrieve2(h.__ECHARTS__DEFAULT__COARSE_POINTER,f);var v=h.__ECHARTS__DEFAULT__USE_DIRTY_RECT__;d=v??d}var g=u._zr=init(i,{renderer:a.renderer||c,devicePixelRatio:a.devicePixelRatio,width:a.width,height:a.height,ssr:a.ssr,useDirtyRect:retrieve2(a.useDirtyRect,d),useCoarsePointer:retrieve2(a.useCoarsePointer,f),pointerSize:a.pointerSize});u._ssr=a.ssr,u._throttledZrFlush=throttle$1(bind$1(g.flush,g),17),o=clone$2(o),o&&globalBackwardCompat(o,!0),u._theme=o,u._locale=createLocaleObject(a.locale||SYSTEM_LANG),u._coordSysMgr=new CoordinateSystem;var p=u._api=createExtensionAPI(u);function y(_,b){return _.__prio-b.__prio}return sort(visualFuncs,y),sort(dataProcessorFuncs,y),u._scheduler=new Scheduler$1(u,p,dataProcessorFuncs,visualFuncs),u._messageCenter=new MessageCenter,u._initEvents(),u.resize=bind$1(u.resize,u),g.animation.on("frame",u._onframe,u),bindRenderedEvent(g,u),bindMouseEvent(g,u),setAsPrimitive(u),u}return n.prototype._onframe=function(){if(!this._disposed){applyChangedStates(this);var i=this._scheduler;if(this[PENDING_UPDATE]){var o=this[PENDING_UPDATE].silent;this[IN_MAIN_PROCESS_KEY]=!0;try{prepare(this),updateMethods.update.call(this,null,this[PENDING_UPDATE].updateParams)}catch(d){throw this[IN_MAIN_PROCESS_KEY]=!1,this[PENDING_UPDATE]=null,d}this._zr.flush(),this[IN_MAIN_PROCESS_KEY]=!1,this[PENDING_UPDATE]=null,flushPendingActions.call(this,o),triggerUpdatedEvent.call(this,o)}else if(i.unfinished){var a=TEST_FRAME_REMAIN_TIME,u=this._model,c=this._api;i.unfinished=!1;do{var f=+new Date;i.performSeriesTasks(u),i.performDataProcessorTasks(u),updateStreamModes(this,u),i.performVisualTasks(u),renderSeries(this,this._model,c,"remain",{}),a-=+new Date-f}while(a>0&&i.unfinished);i.unfinished||this._zr.flush()}}},n.prototype.getDom=function(){return this._dom},n.prototype.getId=function(){return this.id},n.prototype.getZr=function(){return this._zr},n.prototype.isSSR=function(){return this._ssr},n.prototype.setOption=function(i,o,a){if(this[IN_MAIN_PROCESS_KEY]){process.env.NODE_ENV!=="production"&&error("`setOption` should not be called during main process.");return}if(this._disposed){disposedWarning(this.id);return}var u,c,f;if(isObject$3(o)&&(a=o.lazyUpdate,u=o.silent,c=o.replaceMerge,f=o.transition,o=o.notMerge),this[IN_MAIN_PROCESS_KEY]=!0,!this._model||o){var d=new OptionManager$1(this._api),h=this._theme,v=this._model=new GlobalModel$1;v.scheduler=this._scheduler,v.ssr=this._ssr,v.init(null,null,null,h,this._locale,d)}this._model.setOption(i,{replaceMerge:c},optionPreprocessorFuncs);var g={seriesTransition:f,optionChanged:!0};if(a)this[PENDING_UPDATE]={silent:u,updateParams:g},this[IN_MAIN_PROCESS_KEY]=!1,this.getZr().wakeUp();else{try{prepare(this),updateMethods.update.call(this,null,g)}catch(p){throw this[PENDING_UPDATE]=null,this[IN_MAIN_PROCESS_KEY]=!1,p}this._ssr||this._zr.flush(),this[PENDING_UPDATE]=null,this[IN_MAIN_PROCESS_KEY]=!1,flushPendingActions.call(this,u),triggerUpdatedEvent.call(this,u)}},n.prototype.setTheme=function(){deprecateLog("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},n.prototype.getModel=function(){return this._model},n.prototype.getOption=function(){return this._model&&this._model.getOption()},n.prototype.getWidth=function(){return this._zr.getWidth()},n.prototype.getHeight=function(){return this._zr.getHeight()},n.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||env$1.hasGlobalWindow&&window.devicePixelRatio||1},n.prototype.getRenderedCanvas=function(i){return process.env.NODE_ENV!=="production"&&deprecateReplaceLog("getRenderedCanvas","renderToCanvas"),this.renderToCanvas(i)},n.prototype.renderToCanvas=function(i){i=i||{};var o=this._zr.painter;if(process.env.NODE_ENV!=="production"&&o.type!=="canvas")throw new Error("renderToCanvas can only be used in the canvas renderer.");return o.getRenderedCanvas({backgroundColor:i.backgroundColor||this._model.get("backgroundColor"),pixelRatio:i.pixelRatio||this.getDevicePixelRatio()})},n.prototype.renderToSVGString=function(i){i=i||{};var o=this._zr.painter;if(process.env.NODE_ENV!=="production"&&o.type!=="svg")throw new Error("renderToSVGString can only be used in the svg renderer.");return o.renderToString({useViewBox:i.useViewBox})},n.prototype.getSvgDataURL=function(){if(env$1.svgSupported){var i=this._zr,o=i.storage.getDisplayList();return each$4(o,function(a){a.stopAnimation(null,!0)}),i.painter.toDataURL()}},n.prototype.getDataURL=function(i){if(this._disposed){disposedWarning(this.id);return}i=i||{};var o=i.excludeComponents,a=this._model,u=[],c=this;each$4(o,function(d){a.eachComponent({mainType:d},function(h){var v=c._componentsMap[h.__viewId];v.group.ignore||(u.push(v),v.group.ignore=!0)})});var f=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(i).toDataURL("image/"+(i&&i.type||"png"));return each$4(u,function(d){d.group.ignore=!1}),f},n.prototype.getConnectedDataURL=function(i){if(this._disposed){disposedWarning(this.id);return}var o=i.type==="svg",a=this.group,u=Math.min,c=Math.max,f=1/0;if(connectedGroups[a]){var d=f,h=f,v=-f,g=-f,p=[],y=i&&i.pixelRatio||this.getDevicePixelRatio();each$4(instances,function(S,x){if(S.group===a){var O=o?S.getZr().painter.getSvgDom().innerHTML:S.renderToCanvas(clone$2(i)),L=S.getDom().getBoundingClientRect();d=u(L.left,d),h=u(L.top,h),v=c(L.right,v),g=c(L.bottom,g),p.push({dom:O,left:L.left,top:L.top})}}),d*=y,h*=y,v*=y,g*=y;var _=v-d,b=g-h,A=platformApi.createCanvas(),w=init(A,{renderer:o?"svg":"canvas"});if(w.resize({width:_,height:b}),o){var T="";return each$4(p,function(S){var x=S.left-d,O=S.top-h;T+='<g transform="translate('+x+","+O+')">'+S.dom+"</g>"}),w.painter.getSvgRoot().innerHTML=T,i.connectedBackgroundColor&&w.painter.setBackgroundColor(i.connectedBackgroundColor),w.refreshImmediately(),w.painter.toDataURL()}else return i.connectedBackgroundColor&&w.add(new Rect$1({shape:{x:0,y:0,width:_,height:b},style:{fill:i.connectedBackgroundColor}})),each$4(p,function(S){var x=new ZRImage$1({style:{x:S.left*y-d,y:S.top*y-h,image:S.dom}});w.add(x)}),w.refreshImmediately(),A.toDataURL("image/"+(i&&i.type||"png"))}else return this.getDataURL(i)},n.prototype.convertToPixel=function(i,o){return doConvertPixel(this,"convertToPixel",i,o)},n.prototype.convertFromPixel=function(i,o){return doConvertPixel(this,"convertFromPixel",i,o)},n.prototype.containPixel=function(i,o){if(this._disposed){disposedWarning(this.id);return}var a=this._model,u,c=parseFinder(a,i);return each$4(c,function(f,d){d.indexOf("Models")>=0&&each$4(f,function(h){var v=h.coordinateSystem;if(v&&v.containPoint)u=u||!!v.containPoint(o);else if(d==="seriesModels"){var g=this._chartsMap[h.__viewId];g&&g.containPoint?u=u||g.containPoint(o,h):process.env.NODE_ENV!=="production"&&warn(d+": "+(g?"The found component do not support containPoint.":"No view mapping to the found component."))}else process.env.NODE_ENV!=="production"&&warn(d+": containPoint is not supported")},this)},this),!!u},n.prototype.getVisual=function(i,o){var a=this._model,u=parseFinder(a,i,{defaultMainType:"series"}),c=u.seriesModel;process.env.NODE_ENV!=="production"&&(c||warn("There is no specified series model"));var f=c.getData(),d=u.hasOwnProperty("dataIndexInside")?u.dataIndexInside:u.hasOwnProperty("dataIndex")?f.indexOfRawIndex(u.dataIndex):null;return d!=null?getItemVisualFromData(f,d,o):getVisualFromData(f,o)},n.prototype.getViewOfComponentModel=function(i){return this._componentsMap[i.__viewId]},n.prototype.getViewOfSeriesModel=function(i){return this._chartsMap[i.__viewId]},n.prototype._initEvents=function(){var i=this;each$4(MOUSE_EVENT_NAMES,function(o){var a=function(u){var c=i.getModel(),f=u.target,d,h=o==="globalout";if(h?d={}:f&&findEventDispatcher(f,function(_){var b=getECData(_);if(b&&b.dataIndex!=null){var A=b.dataModel||c.getSeriesByIndex(b.seriesIndex);return d=A&&A.getDataParams(b.dataIndex,b.dataType)||{},!0}else if(b.eventData)return d=extend({},b.eventData),!0},!0),d){var v=d.componentType,g=d.componentIndex;(v==="markLine"||v==="markPoint"||v==="markArea")&&(v="series",g=d.seriesIndex);var p=v&&g!=null&&c.getComponent(v,g),y=p&&i[p.mainType==="series"?"_chartsMap":"_componentsMap"][p.__viewId];process.env.NODE_ENV!=="production"&&!h&&!(p&&y)&&warn("model or view can not be found by params"),d.event=u,d.type=o,i._$eventProcessor.eventInfo={targetEl:f,packedEvent:d,model:p,view:y},i.trigger(o,d)}};a.zrEventfulCallAtLast=!0,i._zr.on(o,a,i)}),each$4(eventActionMap,function(o,a){i._messageCenter.on(a,function(u){this.trigger(a,u)},i)}),each$4(["selectchanged"],function(o){i._messageCenter.on(o,function(a){this.trigger(o,a)},i)}),handleLegacySelectEvents(this._messageCenter,this,this._api)},n.prototype.isDisposed=function(){return this._disposed},n.prototype.clear=function(){if(this._disposed){disposedWarning(this.id);return}this.setOption({series:[]},!0)},n.prototype.dispose=function(){if(this._disposed){disposedWarning(this.id);return}this._disposed=!0;var i=this.getDom();i&&setAttribute(this.getDom(),DOM_ATTRIBUTE_KEY,"");var o=this,a=o._api,u=o._model;each$4(o._componentsViews,function(c){c.dispose(u,a)}),each$4(o._chartsViews,function(c){c.dispose(u,a)}),o._zr.dispose(),o._dom=o._model=o._chartsMap=o._componentsMap=o._chartsViews=o._componentsViews=o._scheduler=o._api=o._zr=o._throttledZrFlush=o._theme=o._coordSysMgr=o._messageCenter=null,delete instances[o.id]},n.prototype.resize=function(i){if(this[IN_MAIN_PROCESS_KEY]){process.env.NODE_ENV!=="production"&&error("`resize` should not be called during main process.");return}if(this._disposed){disposedWarning(this.id);return}this._zr.resize(i);var o=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!o){var a=o.resetOption("media"),u=i&&i.silent;this[PENDING_UPDATE]&&(u==null&&(u=this[PENDING_UPDATE].silent),a=!0,this[PENDING_UPDATE]=null),this[IN_MAIN_PROCESS_KEY]=!0;try{a&&prepare(this),updateMethods.update.call(this,{type:"resize",animation:extend({duration:0},i&&i.animation)})}catch(c){throw this[IN_MAIN_PROCESS_KEY]=!1,c}this[IN_MAIN_PROCESS_KEY]=!1,flushPendingActions.call(this,u),triggerUpdatedEvent.call(this,u)}},n.prototype.showLoading=function(i,o){if(this._disposed){disposedWarning(this.id);return}if(isObject$3(i)&&(o=i,i=""),i=i||"default",this.hideLoading(),!loadingEffects[i]){process.env.NODE_ENV!=="production"&&warn("Loading effects "+i+" not exists.");return}var a=loadingEffects[i](this._api,o),u=this._zr;this._loadingFX=a,u.add(a)},n.prototype.hideLoading=function(){if(this._disposed){disposedWarning(this.id);return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},n.prototype.makeActionFromEvent=function(i){var o=extend({},i);return o.type=eventActionMap[i.type],o},n.prototype.dispatchAction=function(i,o){if(this._disposed){disposedWarning(this.id);return}if(isObject$3(o)||(o={silent:!!o}),!!actions[i.type]&&this._model){if(this[IN_MAIN_PROCESS_KEY]){this._pendingActions.push(i);return}var a=o.silent;doDispatchAction.call(this,i,a);var u=o.flush;u?this._zr.flush():u!==!1&&env$1.browser.weChat&&this._throttledZrFlush(),flushPendingActions.call(this,a),triggerUpdatedEvent.call(this,a)}},n.prototype.updateLabelLayout=function(){lifecycle$1.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},n.prototype.appendData=function(i){if(this._disposed){disposedWarning(this.id);return}var o=i.seriesIndex,a=this.getModel(),u=a.getSeriesByIndex(o);process.env.NODE_ENV!=="production"&&assert(i.data&&u),u.appendData(i),this._scheduler.unfinished=!0,this.getZr().wakeUp()},n.internalField=function(){prepare=function(g){var p=g._scheduler;p.restorePipelines(g._model),p.prepareStageTasks(),prepareView(g,!0),prepareView(g,!1),p.plan()},prepareView=function(g,p){for(var y=g._model,_=g._scheduler,b=p?g._componentsViews:g._chartsViews,A=p?g._componentsMap:g._chartsMap,w=g._zr,T=g._api,S=0;S<b.length;S++)b[S].__alive=!1;p?y.eachComponent(function(L,M){L!=="series"&&x(M)}):y.eachSeries(x);function x(L){var M=L.__requireNewView;L.__requireNewView=!1;var re="_ec_"+L.id+"_"+L.type,F=!M&&A[re];if(!F){var j=parseClassType(L.type),V=p?ComponentView$1.getClass(j.main,j.sub):ChartView$1.getClass(j.sub);process.env.NODE_ENV!=="production"&&assert(V,j.sub+" does not exist."),F=new V,F.init(y,T),A[re]=F,b.push(F),w.add(F.group)}L.__viewId=F.__id=re,F.__alive=!0,F.__model=L,F.group.__ecComponentInfo={mainType:L.mainType,index:L.componentIndex},!p&&_.prepareView(F,L,y,T)}for(var S=0;S<b.length;){var O=b[S];O.__alive?S++:(!p&&O.renderTask.dispose(),w.remove(O.group),O.dispose(y,T),b.splice(S,1),A[O.__id]===O&&delete A[O.__id],O.__id=O.group.__ecComponentInfo=null)}},updateDirectly=function(g,p,y,_,b){var A=g._model;if(A.setUpdatePayload(y),!_){each$4([].concat(g._componentsViews).concat(g._chartsViews),O);return}var w={};w[_+"Id"]=y[_+"Id"],w[_+"Index"]=y[_+"Index"],w[_+"Name"]=y[_+"Name"];var T={mainType:_,query:w};b&&(T.subType=b);var S=y.excludeSeriesId,x;S!=null&&(x=createHashMap(),each$4(normalizeToArray(S),function(L){var M=convertOptionIdName(L,null);M!=null&&x.set(M,!0)})),A&&A.eachComponent(T,function(L){var M=x&&x.get(L.id)!=null;if(!M)if(isHighDownPayload(y))if(L instanceof SeriesModel$1)y.type===HIGHLIGHT_ACTION_TYPE&&!y.notBlur&&!L.get(["emphasis","disabled"])&&blurSeriesFromHighlightPayload(L,y,g._api);else{var re=findComponentHighDownDispatchers(L.mainType,L.componentIndex,y.name,g._api),F=re.focusSelf,j=re.dispatchers;y.type===HIGHLIGHT_ACTION_TYPE&&F&&!y.notBlur&&blurComponent(L.mainType,L.componentIndex,g._api),j&&each$4(j,function(V){y.type===HIGHLIGHT_ACTION_TYPE?enterEmphasis(V):leaveEmphasis(V)})}else isSelectChangePayload(y)&&L instanceof SeriesModel$1&&(toggleSelectionFromPayload(L,y,g._api),updateSeriesElementSelection(L),markStatusToUpdate(g))},g),A&&A.eachComponent(T,function(L){var M=x&&x.get(L.id)!=null;M||O(g[_==="series"?"_chartsMap":"_componentsMap"][L.__viewId])},g);function O(L){L&&L.__alive&&L[p]&&L[p](L.__model,A,g._api,y)}},updateMethods={prepareAndUpdate:function(g){prepare(this),updateMethods.update.call(this,g,{optionChanged:g.newOption!=null})},update:function(g,p){var y=this._model,_=this._api,b=this._zr,A=this._coordSysMgr,w=this._scheduler;if(y){y.setUpdatePayload(g),w.restoreData(y,g),w.performSeriesTasks(y),A.create(y,_),w.performDataProcessorTasks(y,g),updateStreamModes(this,y),A.update(y,_),i(y),w.performVisualTasks(y,g),render(this,y,_,g,p);var T=y.get("backgroundColor")||"transparent",S=y.get("darkMode");b.setBackgroundColor(T),S!=null&&S!=="auto"&&b.setDarkMode(S),lifecycle$1.trigger("afterupdate",y,_)}},updateTransform:function(g){var p=this,y=this._model,_=this._api;if(y){y.setUpdatePayload(g);var b=[];y.eachComponent(function(w,T){if(w!=="series"){var S=p.getViewOfComponentModel(T);if(S&&S.__alive)if(S.updateTransform){var x=S.updateTransform(T,y,_,g);x&&x.update&&b.push(S)}else b.push(S)}});var A=createHashMap();y.eachSeries(function(w){var T=p._chartsMap[w.__viewId];if(T.updateTransform){var S=T.updateTransform(w,y,_,g);S&&S.update&&A.set(w.uid,1)}else A.set(w.uid,1)}),i(y),this._scheduler.performVisualTasks(y,g,{setDirty:!0,dirtyMap:A}),renderSeries(this,y,_,g,{},A),lifecycle$1.trigger("afterupdate",y,_)}},updateView:function(g){var p=this._model;p&&(p.setUpdatePayload(g),ChartView$1.markUpdateMethod(g,"updateView"),i(p),this._scheduler.performVisualTasks(p,g,{setDirty:!0}),render(this,p,this._api,g,{}),lifecycle$1.trigger("afterupdate",p,this._api))},updateVisual:function(g){var p=this,y=this._model;y&&(y.setUpdatePayload(g),y.eachSeries(function(_){_.getData().clearAllVisual()}),ChartView$1.markUpdateMethod(g,"updateVisual"),i(y),this._scheduler.performVisualTasks(y,g,{visualType:"visual",setDirty:!0}),y.eachComponent(function(_,b){if(_!=="series"){var A=p.getViewOfComponentModel(b);A&&A.__alive&&A.updateVisual(b,y,p._api,g)}}),y.eachSeries(function(_){var b=p._chartsMap[_.__viewId];b.updateVisual(_,y,p._api,g)}),lifecycle$1.trigger("afterupdate",y,this._api))},updateLayout:function(g){updateMethods.update.call(this,g)}},doConvertPixel=function(g,p,y,_){if(g._disposed){disposedWarning(g.id);return}for(var b=g._model,A=g._coordSysMgr.getCoordinateSystems(),w,T=parseFinder(b,y),S=0;S<A.length;S++){var x=A[S];if(x[p]&&(w=x[p](b,T,_))!=null)return w}process.env.NODE_ENV!=="production"&&warn("No coordinate system that supports "+p+" found by the given finder.")},updateStreamModes=function(g,p){var y=g._chartsMap,_=g._scheduler;p.eachSeries(function(b){_.updateStreamModes(b,y[b.__viewId])})},doDispatchAction=function(g,p){var y=this,_=this.getModel(),b=g.type,A=g.escapeConnect,w=actions[b],T=w.actionInfo,S=(T.update||"update").split(":"),x=S.pop(),O=S[0]!=null&&parseClassType(S[0]);this[IN_MAIN_PROCESS_KEY]=!0;var L=[g],M=!1;g.batch&&(M=!0,L=map$1(g.batch,function(he){return he=defaults(extend({},he),g),he.batch=null,he}));var re=[],F,j=isSelectChangePayload(g),V=isHighDownPayload(g);if(V&&allLeaveBlur(this._api),each$4(L,function(he){if(F=w.action(he,y._model,y._api),F=F||extend({},he),F.type=T.event||F.type,re.push(F),V){var le=preParseFinder(g),Ie=le.queryOptionMap,Fe=le.mainTypeSpecified,pe=Fe?Ie.keys()[0]:"series";updateDirectly(y,x,he,pe),markStatusToUpdate(y)}else j?(updateDirectly(y,x,he,"series"),markStatusToUpdate(y)):O&&updateDirectly(y,x,he,O.main,O.sub)}),x!=="none"&&!V&&!j&&!O)try{this[PENDING_UPDATE]?(prepare(this),updateMethods.update.call(this,g),this[PENDING_UPDATE]=null):updateMethods[x].call(this,g)}catch(he){throw this[IN_MAIN_PROCESS_KEY]=!1,he}if(M?F={type:T.event||b,escapeConnect:A,batch:re}:F=re[0],this[IN_MAIN_PROCESS_KEY]=!1,!p){var z=this._messageCenter;if(z.trigger(F.type,F),j){var $={type:"selectchanged",escapeConnect:A,selected:getAllSelectedIndices(_),isFromClick:g.isFromClick||!1,fromAction:g.type,fromActionPayload:g};z.trigger($.type,$)}}},flushPendingActions=function(g){for(var p=this._pendingActions;p.length;){var y=p.shift();doDispatchAction.call(this,y,g)}},triggerUpdatedEvent=function(g){!g&&this.trigger("updated")},bindRenderedEvent=function(g,p){g.on("rendered",function(y){p.trigger("rendered",y),g.animation.isFinished()&&!p[PENDING_UPDATE]&&!p._scheduler.unfinished&&!p._pendingActions.length&&p.trigger("finished")})},bindMouseEvent=function(g,p){g.on("mouseover",function(y){var _=y.target,b=findEventDispatcher(_,isHighDownDispatcher);b&&(handleGlobalMouseOverForHighDown(b,y,p._api),markStatusToUpdate(p))}).on("mouseout",function(y){var _=y.target,b=findEventDispatcher(_,isHighDownDispatcher);b&&(handleGlobalMouseOutForHighDown(b,y,p._api),markStatusToUpdate(p))}).on("click",function(y){var _=y.target,b=findEventDispatcher(_,function(T){return getECData(T).dataIndex!=null},!0);if(b){var A=b.selected?"unselect":"select",w=getECData(b);p._api.dispatchAction({type:A,dataType:w.dataType,dataIndexInside:w.dataIndex,seriesIndex:w.seriesIndex,isFromClick:!0})}})};function i(g){g.clearColorPalette(),g.eachSeries(function(p){p.clearColorPalette()})}function o(g){var p=[],y=[],_=!1;if(g.eachComponent(function(T,S){var x=S.get("zlevel")||0,O=S.get("z")||0,L=S.getZLevelKey();_=_||!!L,(T==="series"?y:p).push({zlevel:x,z:O,idx:S.componentIndex,type:T,key:L})}),_){var b=p.concat(y),A,w;sort(b,function(T,S){return T.zlevel===S.zlevel?T.z-S.z:T.zlevel-S.zlevel}),each$4(b,function(T){var S=g.getComponent(T.type,T.idx),x=T.zlevel,O=T.key;A!=null&&(x=Math.max(A,x)),O?(x===A&&O!==w&&x++,w=O):w&&(x===A&&x++,w=""),A=x,S.setZLevel(x)})}}render=function(g,p,y,_,b){o(p),renderComponents(g,p,y,_,b),each$4(g._chartsViews,function(A){A.__alive=!1}),renderSeries(g,p,y,_,b),each$4(g._chartsViews,function(A){A.__alive||A.remove(p,y)})},renderComponents=function(g,p,y,_,b,A){each$4(A||g._componentsViews,function(w){var T=w.__model;h(T,w),w.render(T,p,y,_),f(T,w),v(T,w)})},renderSeries=function(g,p,y,_,b,A){var w=g._scheduler;b=extend(b||{},{updatedSeries:p.getSeries()}),lifecycle$1.trigger("series:beforeupdate",p,y,b);var T=!1;p.eachSeries(function(S){var x=g._chartsMap[S.__viewId];x.__alive=!0;var O=x.renderTask;w.updatePayload(O,_),h(S,x),A&&A.get(S.uid)&&O.dirty(),O.perform(w.getPerformArgs(O))&&(T=!0),x.group.silent=!!S.get("silent"),c(S,x),updateSeriesElementSelection(S)}),w.unfinished=T||w.unfinished,lifecycle$1.trigger("series:layoutlabels",p,y,b),lifecycle$1.trigger("series:transition",p,y,b),p.eachSeries(function(S){var x=g._chartsMap[S.__viewId];f(S,x),v(S,x)}),u(g,p),lifecycle$1.trigger("series:afterupdate",p,y,b)},markStatusToUpdate=function(g){g[STATUS_NEEDS_UPDATE_KEY]=!0,g.getZr().wakeUp()},applyChangedStates=function(g){g[STATUS_NEEDS_UPDATE_KEY]&&(g.getZr().storage.traverse(function(p){isElementRemoved(p)||a(p)}),g[STATUS_NEEDS_UPDATE_KEY]=!1)};function a(g){for(var p=[],y=g.currentStates,_=0;_<y.length;_++){var b=y[_];b==="emphasis"||b==="blur"||b==="select"||p.push(b)}g.selected&&g.states.select&&p.push("select"),g.hoverState===HOVER_STATE_EMPHASIS&&g.states.emphasis?p.push("emphasis"):g.hoverState===HOVER_STATE_BLUR&&g.states.blur&&p.push("blur"),g.useStates(p)}function u(g,p){var y=g._zr,_=y.storage,b=0;_.traverse(function(A){A.isGroup||b++}),b>p.get("hoverLayerThreshold")&&!env$1.node&&!env$1.worker&&p.eachSeries(function(A){if(!A.preventUsingHoverLayer){var w=g._chartsMap[A.__viewId];w.__alive&&w.eachRendered(function(T){T.states.emphasis&&(T.states.emphasis.hoverLayer=!0)})}})}function c(g,p){var y=g.get("blendMode")||null;p.eachRendered(function(_){_.isGroup||(_.style.blend=y)})}function f(g,p){if(!g.preventAutoZ){var y=g.get("z")||0,_=g.get("zlevel")||0;p.eachRendered(function(b){return d(b,y,_,-1/0),!0})}}function d(g,p,y,_){var b=g.getTextContent(),A=g.getTextGuideLine(),w=g.isGroup;if(w)for(var T=g.childrenRef(),S=0;S<T.length;S++)_=Math.max(d(T[S],p,y,_),_);else g.z=p,g.zlevel=y,_=Math.max(g.z2,_);if(b&&(b.z=p,b.zlevel=y,isFinite(_)&&(b.z2=_+2)),A){var x=g.textGuideLineConfig;A.z=p,A.zlevel=y,isFinite(_)&&(A.z2=_+(x&&x.showAbove?1:-1))}return _}function h(g,p){p.eachRendered(function(y){if(!isElementRemoved(y)){var _=y.getTextContent(),b=y.getTextGuideLine();y.stateTransition&&(y.stateTransition=null),_&&_.stateTransition&&(_.stateTransition=null),b&&b.stateTransition&&(b.stateTransition=null),y.hasState()?(y.prevStates=y.currentStates,y.clearStates()):y.prevStates&&(y.prevStates=null)}})}function v(g,p){var y=g.getModel("stateAnimation"),_=g.isAnimationEnabled(),b=y.get("duration"),A=b>0?{duration:b,delay:y.get("delay"),easing:y.get("easing")}:null;p.eachRendered(function(w){if(w.states&&w.states.emphasis){if(isElementRemoved(w))return;if(w instanceof Path$1&&savePathStates(w),w.__dirty){var T=w.prevStates;T&&w.useStates(T)}if(_){w.stateTransition=A;var S=w.getTextContent(),x=w.getTextGuideLine();S&&(S.stateTransition=A),x&&(x.stateTransition=A)}w.__dirty&&a(w)}})}createExtensionAPI=function(g){return new(function(p){__extends(y,p);function y(){return p!==null&&p.apply(this,arguments)||this}return y.prototype.getCoordinateSystems=function(){return g._coordSysMgr.getCoordinateSystems()},y.prototype.getComponentByElement=function(_){for(;_;){var b=_.__ecComponentInfo;if(b!=null)return g._model.getComponent(b.mainType,b.index);_=_.parent}},y.prototype.enterEmphasis=function(_,b){enterEmphasis(_,b),markStatusToUpdate(g)},y.prototype.leaveEmphasis=function(_,b){leaveEmphasis(_,b),markStatusToUpdate(g)},y.prototype.enterBlur=function(_){enterBlur(_),markStatusToUpdate(g)},y.prototype.leaveBlur=function(_){leaveBlur(_),markStatusToUpdate(g)},y.prototype.enterSelect=function(_){enterSelect(_),markStatusToUpdate(g)},y.prototype.leaveSelect=function(_){leaveSelect(_),markStatusToUpdate(g)},y.prototype.getModel=function(){return g.getModel()},y.prototype.getViewOfComponentModel=function(_){return g.getViewOfComponentModel(_)},y.prototype.getViewOfSeriesModel=function(_){return g.getViewOfSeriesModel(_)},y}(ExtensionAPI$1))(g)}}(),n}(Eventful$1),echartsProto=ECharts.prototype;echartsProto.on=createRegisterEventWithLowercaseECharts("on"),echartsProto.off=createRegisterEventWithLowercaseECharts("off"),echartsProto.one=function(r,n,i){var o=this;deprecateLog("ECharts#one is deprecated.");function a(){for(var u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];n&&n.apply&&n.apply(this,u),o.off(r,a)}this.on.call(this,r,a,i)};var MOUSE_EVENT_NAMES=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function disposedWarning(r){process.env.NODE_ENV!=="production"&&warn("Instance "+r+" has been disposed")}var actions={},eventActionMap={},dataProcessorFuncs=[],optionPreprocessorFuncs=[],visualFuncs=[],themeStorage={},loadingEffects={},instances={},connectedGroups={},DOM_ATTRIBUTE_KEY="_echarts_instance_";function registerTheme(r,n){themeStorage[r]=n}function registerPreprocessor(r){indexOf(optionPreprocessorFuncs,r)<0&&optionPreprocessorFuncs.push(r)}function registerProcessor(r,n){normalizeRegister(dataProcessorFuncs,r,n,PRIORITY_PROCESSOR_DEFAULT)}function registerPostInit(r){registerUpdateLifecycle("afterinit",r)}function registerPostUpdate(r){registerUpdateLifecycle("afterupdate",r)}function registerUpdateLifecycle(r,n){lifecycle$1.on(r,n)}function registerAction(r,n,i){isFunction$1(n)&&(i=n,n="");var o=isObject$3(r)?r.type:[r,r={event:n}][0];r.event=(r.event||o).toLowerCase(),n=r.event,!eventActionMap[n]&&(assert(ACTION_REG.test(o)&&ACTION_REG.test(n)),actions[o]||(actions[o]={action:i,actionInfo:r}),eventActionMap[n]=o)}function registerCoordinateSystem(r,n){CoordinateSystem.register(r,n)}function registerLayout(r,n){normalizeRegister(visualFuncs,r,n,PRIORITY_VISUAL_LAYOUT,"layout")}function registerVisual(r,n){normalizeRegister(visualFuncs,r,n,PRIORITY_VISUAL_CHART,"visual")}var registeredTasks=[];function normalizeRegister(r,n,i,o,a){if((isFunction$1(n)||isObject$3(n))&&(i=n,n=o),process.env.NODE_ENV!=="production"){if(isNaN(n)||n==null)throw new Error("Illegal priority");each$4(r,function(c){assert(c.__raw!==i)})}if(!(indexOf(registeredTasks,i)>=0)){registeredTasks.push(i);var u=Scheduler$1.wrapStageHandler(i,a);u.__prio=n,u.__raw=i,r.push(u)}}function registerLoading(r,n){loadingEffects[r]=n}function registerMap(r,n,i){var o=getImpl("registerMap");o&&o(r,n,i)}var registerTransform=registerExternalTransform;registerVisual(PRIORITY_VISUAL_GLOBAL,seriesStyleTask),registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM,dataStyleTask),registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM,dataColorPaletteTask),registerVisual(PRIORITY_VISUAL_GLOBAL,seriesSymbolTask),registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM,dataSymbolTask),registerVisual(PRIORITY_VISUAL_DECAL,decalVisual),registerPreprocessor(globalBackwardCompat),registerProcessor(PRIORITY_PROCESSOR_DATASTACK,dataStack),registerLoading("default",defaultLoading),registerAction({type:HIGHLIGHT_ACTION_TYPE,event:HIGHLIGHT_ACTION_TYPE,update:HIGHLIGHT_ACTION_TYPE},noop$1),registerAction({type:DOWNPLAY_ACTION_TYPE,event:DOWNPLAY_ACTION_TYPE,update:DOWNPLAY_ACTION_TYPE},noop$1),registerAction({type:SELECT_ACTION_TYPE,event:SELECT_ACTION_TYPE,update:SELECT_ACTION_TYPE},noop$1),registerAction({type:UNSELECT_ACTION_TYPE,event:UNSELECT_ACTION_TYPE,update:UNSELECT_ACTION_TYPE},noop$1),registerAction({type:TOGGLE_SELECT_ACTION_TYPE,event:TOGGLE_SELECT_ACTION_TYPE,update:TOGGLE_SELECT_ACTION_TYPE},noop$1),registerTheme("light",lightTheme),registerTheme("dark",darkTheme);function dataIndexMapValueLength(r){return r==null?0:r.length||1}function defaultKeyGetter(r){return r}var DataDiffer=function(){function r(n,i,o,a,u,c){this._old=n,this._new=i,this._oldKeyGetter=o||defaultKeyGetter,this._newKeyGetter=a||defaultKeyGetter,this.context=u,this._diffModeMultiple=c==="multiple"}return r.prototype.add=function(n){return this._add=n,this},r.prototype.update=function(n){return this._update=n,this},r.prototype.updateManyToOne=function(n){return this._updateManyToOne=n,this},r.prototype.updateOneToMany=function(n){return this._updateOneToMany=n,this},r.prototype.updateManyToMany=function(n){return this._updateManyToMany=n,this},r.prototype.remove=function(n){return this._remove=n,this},r.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},r.prototype._executeOneToOne=function(){var n=this._old,i=this._new,o={},a=new Array(n.length),u=new Array(i.length);this._initIndexMap(n,null,a,"_oldKeyGetter"),this._initIndexMap(i,o,u,"_newKeyGetter");for(var c=0;c<n.length;c++){var f=a[c],d=o[f],h=dataIndexMapValueLength(d);if(h>1){var v=d.shift();d.length===1&&(o[f]=d[0]),this._update&&this._update(v,c)}else h===1?(o[f]=null,this._update&&this._update(d,c)):this._remove&&this._remove(c)}this._performRestAdd(u,o)},r.prototype._executeMultiple=function(){var n=this._old,i=this._new,o={},a={},u=[],c=[];this._initIndexMap(n,o,u,"_oldKeyGetter"),this._initIndexMap(i,a,c,"_newKeyGetter");for(var f=0;f<u.length;f++){var d=u[f],h=o[d],v=a[d],g=dataIndexMapValueLength(h),p=dataIndexMapValueLength(v);if(g>1&&p===1)this._updateManyToOne&&this._updateManyToOne(v,h),a[d]=null;else if(g===1&&p>1)this._updateOneToMany&&this._updateOneToMany(v,h),a[d]=null;else if(g===1&&p===1)this._update&&this._update(v,h),a[d]=null;else if(g>1&&p>1)this._updateManyToMany&&this._updateManyToMany(v,h),a[d]=null;else if(g>1)for(var y=0;y<g;y++)this._remove&&this._remove(h[y]);else this._remove&&this._remove(h)}this._performRestAdd(c,a)},r.prototype._performRestAdd=function(n,i){for(var o=0;o<n.length;o++){var a=n[o],u=i[a],c=dataIndexMapValueLength(u);if(c>1)for(var f=0;f<c;f++)this._add&&this._add(u[f]);else c===1&&this._add&&this._add(u);i[a]=null}},r.prototype._initIndexMap=function(n,i,o,a){for(var u=this._diffModeMultiple,c=0;c<n.length;c++){var f="_ec_"+this[a](n[c],c);if(u||(o[c]=f),!!i){var d=i[f],h=dataIndexMapValueLength(d);h===0?(i[f]=c,u&&o.push(f)):h===1?i[f]=[d,c]:d.push(c)}}},r}();const DataDiffer$1=DataDiffer;var DimensionUserOuput=function(){function r(n,i){this._encode=n,this._schema=i}return r.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},r.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},r}();function summarizeDimensions(r,n){var i={},o=i.encode={},a=createHashMap(),u=[],c=[],f={};each$4(r.dimensions,function(p){var y=r.getDimensionInfo(p),_=y.coordDim;if(_){process.env.NODE_ENV!=="production"&&assert(VISUAL_DIMENSIONS.get(_)==null);var b=y.coordDimIndex;getOrCreateEncodeArr(o,_)[b]=p,y.isExtraCoord||(a.set(_,1),mayLabelDimType(y.type)&&(u[0]=p),getOrCreateEncodeArr(f,_)[b]=r.getDimensionIndex(y.name)),y.defaultTooltip&&c.push(p)}VISUAL_DIMENSIONS.each(function(A,w){var T=getOrCreateEncodeArr(o,w),S=y.otherDims[w];S!=null&&S!==!1&&(T[S]=y.name)})});var d=[],h={};a.each(function(p,y){var _=o[y];h[y]=_[0],d=d.concat(_)}),i.dataDimsOnCoord=d,i.dataDimIndicesOnCoord=map$1(d,function(p){return r.getDimensionInfo(p).storeDimIndex}),i.encodeFirstDimNotExtra=h;var v=o.label;v&&v.length&&(u=v.slice());var g=o.tooltip;return g&&g.length?c=g.slice():c.length||(c=u.slice()),o.defaultedLabel=u,o.defaultedTooltip=c,i.userOutput=new DimensionUserOuput(f,n),i}function getOrCreateEncodeArr(r,n){return r.hasOwnProperty(n)||(r[n]=[]),r[n]}function mayLabelDimType(r){return!(r==="ordinal"||r==="time")}var SeriesDimensionDefine=function(){function r(n){this.otherDims={},n!=null&&extend(this,n)}return r}();const SeriesDimensionDefine$1=SeriesDimensionDefine;var inner$3=makeInner(),dimTypeShort={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},SeriesDataSchema=function(){function r(n){this.dimensions=n.dimensions,this._dimOmitted=n.dimensionOmitted,this.source=n.source,this._fullDimCount=n.fullDimensionCount,this._updateDimOmitted(n.dimensionOmitted)}return r.prototype.isDimensionOmitted=function(){return this._dimOmitted},r.prototype._updateDimOmitted=function(n){this._dimOmitted=n,n&&(this._dimNameMap||(this._dimNameMap=ensureSourceDimNameMap(this.source)))},r.prototype.getSourceDimensionIndex=function(n){return retrieve2(this._dimNameMap.get(n),-1)},r.prototype.getSourceDimension=function(n){var i=this.source.dimensionsDefine;if(i)return i[n]},r.prototype.makeStoreSchema=function(){for(var n=this._fullDimCount,i=shouldRetrieveDataByName(this.source),o=!shouldOmitUnusedDimensions(n),a="",u=[],c=0,f=0;c<n;c++){var d=void 0,h=void 0,v=void 0,g=this.dimensions[f];if(g&&g.storeDimIndex===c)d=i?g.name:null,h=g.type,v=g.ordinalMeta,f++;else{var p=this.getSourceDimension(c);p&&(d=i?p.name:null,h=p.type)}u.push({property:d,type:h,ordinalMeta:v}),i&&d!=null&&(!g||!g.isCalculationCoord)&&(a+=o?d.replace(/\`/g,"`1").replace(/\$/g,"`2"):d),a+="$",a+=dimTypeShort[h]||"f",v&&(a+=v.uid),a+="$"}var y=this.source,_=[y.seriesLayoutBy,y.startIndex,a].join("$$");return{dimensions:u,hash:_}},r.prototype.makeOutputDimensionNames=function(){for(var n=[],i=0,o=0;i<this._fullDimCount;i++){var a=void 0,u=this.dimensions[o];if(u&&u.storeDimIndex===i)u.isCalculationCoord||(a=u.name),o++;else{var c=this.getSourceDimension(i);c&&(a=c.name)}n.push(a)}return n},r.prototype.appendCalculationDimension=function(n){this.dimensions.push(n),n.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},r}();function isSeriesDataSchema(r){return r instanceof SeriesDataSchema}function createDimNameMap(r){for(var n=createHashMap(),i=0;i<(r||[]).length;i++){var o=r[i],a=isObject$3(o)?o.name:o;a!=null&&n.get(a)==null&&n.set(a,i)}return n}function ensureSourceDimNameMap(r){var n=inner$3(r);return n.dimNameMap||(n.dimNameMap=createDimNameMap(r.dimensionsDefine))}function shouldOmitUnusedDimensions(r){return r>30}var isObject$1=isObject$3,map=map$1,CtorInt32Array=typeof Int32Array>"u"?Array:Int32Array,ID_PREFIX="e\0\0",INDEX_NOT_FOUND=-1,TRANSFERABLE_PROPERTIES=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],CLONE_PROPERTIES=["_approximateExtent"],prepareInvertedIndex,getId,getIdNameFromStore,normalizeDimensions,transferProperties,cloneListForMapAndSample,makeIdFromName,SeriesData=function(){function r(n,i){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var o,a=!1;isSeriesDataSchema(n)?(o=n.dimensions,this._dimOmitted=n.isDimensionOmitted(),this._schema=n):(a=!0,o=n),o=o||["x","y"];for(var u={},c=[],f={},d=!1,h={},v=0;v<o.length;v++){var g=o[v],p=isString$2(g)?new SeriesDimensionDefine$1({name:g}):g instanceof SeriesDimensionDefine$1?g:new SeriesDimensionDefine$1(g),y=p.name;p.type=p.type||"float",p.coordDim||(p.coordDim=y,p.coordDimIndex=0);var _=p.otherDims=p.otherDims||{};c.push(y),u[y]=p,h[y]!=null&&(d=!0),p.createInvertedIndices&&(f[y]=[]),_.itemName===0&&(this._nameDimIdx=v),_.itemId===0&&(this._idDimIdx=v),process.env.NODE_ENV!=="production"&&assert(a||p.storeDimIndex>=0),a&&(p.storeDimIndex=v)}if(this.dimensions=c,this._dimInfos=u,this._initGetDimensionInfo(d),this.hostModel=i,this._invertedIndicesMap=f,this._dimOmitted){var b=this._dimIdxToName=createHashMap();each$4(c,function(A){b.set(u[A].storeDimIndex,A)})}}return r.prototype.getDimension=function(n){var i=this._recognizeDimIndex(n);if(i==null)return n;if(i=n,!this._dimOmitted)return this.dimensions[i];var o=this._dimIdxToName.get(i);if(o!=null)return o;var a=this._schema.getSourceDimension(i);if(a)return a.name},r.prototype.getDimensionIndex=function(n){var i=this._recognizeDimIndex(n);if(i!=null)return i;if(n==null)return-1;var o=this._getDimInfo(n);return o?o.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(n):-1},r.prototype._recognizeDimIndex=function(n){if(isNumber$1(n)||n!=null&&!isNaN(n)&&!this._getDimInfo(n)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(n)<0))return+n},r.prototype._getStoreDimIndex=function(n){var i=this.getDimensionIndex(n);if(process.env.NODE_ENV!=="production"&&i==null)throw new Error("Unknown dimension "+n);return i},r.prototype.getDimensionInfo=function(n){return this._getDimInfo(this.getDimension(n))},r.prototype._initGetDimensionInfo=function(n){var i=this._dimInfos;this._getDimInfo=n?function(o){return i.hasOwnProperty(o)?i[o]:void 0}:function(o){return i[o]}},r.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},r.prototype.mapDimension=function(n,i){var o=this._dimSummary;if(i==null)return o.encodeFirstDimNotExtra[n];var a=o.encode[n];return a?a[i]:null},r.prototype.mapDimensionsAll=function(n){var i=this._dimSummary,o=i.encode[n];return(o||[]).slice()},r.prototype.getStore=function(){return this._store},r.prototype.initData=function(n,i,o){var a=this,u;if(n instanceof DataStore&&(u=n),!u){var c=this.dimensions,f=isSourceInstance(n)||isArrayLike(n)?new DefaultDataProvider(n,c.length):n;u=new DataStore;var d=map(c,function(h){return{type:a._dimInfos[h].type,property:h}});u.initData(f,d,o)}this._store=u,this._nameList=(i||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,u.count()),this._dimSummary=summarizeDimensions(this,this._schema),this.userOutput=this._dimSummary.userOutput},r.prototype.appendData=function(n){var i=this._store.appendData(n);this._doInit(i[0],i[1])},r.prototype.appendValues=function(n,i){var o=this._store.appendValues(n,i.length),a=o.start,u=o.end,c=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),i)for(var f=a;f<u;f++){var d=f-a;this._nameList[f]=i[d],c&&makeIdFromName(this,f)}},r.prototype._updateOrdinalMeta=function(){for(var n=this._store,i=this.dimensions,o=0;o<i.length;o++){var a=this._dimInfos[i[o]];a.ordinalMeta&&n.collectOrdinalMeta(a.storeDimIndex,a.ordinalMeta)}},r.prototype._shouldMakeIdFromName=function(){var n=this._store.getProvider();return this._idDimIdx==null&&n.getSource().sourceFormat!==SOURCE_FORMAT_TYPED_ARRAY&&!n.fillStorage},r.prototype._doInit=function(n,i){if(!(n>=i)){var o=this._store,a=o.getProvider();this._updateOrdinalMeta();var u=this._nameList,c=this._idList,f=a.getSource().sourceFormat,d=f===SOURCE_FORMAT_ORIGINAL;if(d&&!a.pure)for(var h=[],v=n;v<i;v++){var g=a.getItem(v,h);if(!this.hasItemOption&&isDataItemOption(g)&&(this.hasItemOption=!0),g){var p=g.name;u[v]==null&&p!=null&&(u[v]=convertOptionIdName(p,null));var y=g.id;c[v]==null&&y!=null&&(c[v]=convertOptionIdName(y,null))}}if(this._shouldMakeIdFromName())for(var v=n;v<i;v++)makeIdFromName(this,v);prepareInvertedIndex(this)}},r.prototype.getApproximateExtent=function(n){return this._approximateExtent[n]||this._store.getDataExtent(this._getStoreDimIndex(n))},r.prototype.setApproximateExtent=function(n,i){i=this.getDimension(i),this._approximateExtent[i]=n.slice()},r.prototype.getCalculationInfo=function(n){return this._calculationInfo[n]},r.prototype.setCalculationInfo=function(n,i){isObject$1(n)?extend(this._calculationInfo,n):this._calculationInfo[n]=i},r.prototype.getName=function(n){var i=this.getRawIndex(n),o=this._nameList[i];return o==null&&this._nameDimIdx!=null&&(o=getIdNameFromStore(this,this._nameDimIdx,i)),o==null&&(o=""),o},r.prototype._getCategory=function(n,i){var o=this._store.get(n,i),a=this._store.getOrdinalMeta(n);return a?a.categories[o]:o},r.prototype.getId=function(n){return getId(this,this.getRawIndex(n))},r.prototype.count=function(){return this._store.count()},r.prototype.get=function(n,i){var o=this._store,a=this._dimInfos[n];if(a)return o.get(a.storeDimIndex,i)},r.prototype.getByRawIndex=function(n,i){var o=this._store,a=this._dimInfos[n];if(a)return o.getByRawIndex(a.storeDimIndex,i)},r.prototype.getIndices=function(){return this._store.getIndices()},r.prototype.getDataExtent=function(n){return this._store.getDataExtent(this._getStoreDimIndex(n))},r.prototype.getSum=function(n){return this._store.getSum(this._getStoreDimIndex(n))},r.prototype.getMedian=function(n){return this._store.getMedian(this._getStoreDimIndex(n))},r.prototype.getValues=function(n,i){var o=this,a=this._store;return isArray$1(n)?a.getValues(map(n,function(u){return o._getStoreDimIndex(u)}),i):a.getValues(n)},r.prototype.hasValue=function(n){for(var i=this._dimSummary.dataDimIndicesOnCoord,o=0,a=i.length;o<a;o++)if(isNaN(this._store.get(i[o],n)))return!1;return!0},r.prototype.indexOfName=function(n){for(var i=0,o=this._store.count();i<o;i++)if(this.getName(i)===n)return i;return-1},r.prototype.getRawIndex=function(n){return this._store.getRawIndex(n)},r.prototype.indexOfRawIndex=function(n){return this._store.indexOfRawIndex(n)},r.prototype.rawIndexOf=function(n,i){var o=n&&this._invertedIndicesMap[n];if(process.env.NODE_ENV!=="production"&&!o)throw new Error("Do not supported yet");var a=o[i];return a==null||isNaN(a)?INDEX_NOT_FOUND:a},r.prototype.indicesOfNearest=function(n,i,o){return this._store.indicesOfNearest(this._getStoreDimIndex(n),i,o)},r.prototype.each=function(n,i,o){isFunction$1(n)&&(o=i,i=n,n=[]);var a=o||this,u=map(normalizeDimensions(n),this._getStoreDimIndex,this);this._store.each(u,a?bind$1(i,a):i)},r.prototype.filterSelf=function(n,i,o){isFunction$1(n)&&(o=i,i=n,n=[]);var a=o||this,u=map(normalizeDimensions(n),this._getStoreDimIndex,this);return this._store=this._store.filter(u,a?bind$1(i,a):i),this},r.prototype.selectRange=function(n){var i=this,o={},a=keys(n);return each$4(a,function(u){var c=i._getStoreDimIndex(u);o[c]=n[u]}),this._store=this._store.selectRange(o),this},r.prototype.mapArray=function(n,i,o){isFunction$1(n)&&(o=i,i=n,n=[]),o=o||this;var a=[];return this.each(n,function(){a.push(i&&i.apply(this,arguments))},o),a},r.prototype.map=function(n,i,o,a){var u=o||a||this,c=map(normalizeDimensions(n),this._getStoreDimIndex,this),f=cloneListForMapAndSample(this);return f._store=this._store.map(c,u?bind$1(i,u):i),f},r.prototype.modify=function(n,i,o,a){var u=this,c=o||a||this;process.env.NODE_ENV!=="production"&&each$4(normalizeDimensions(n),function(d){var h=u.getDimensionInfo(d);h.isCalculationCoord||console.error("Danger: only stack dimension can be modified")});var f=map(normalizeDimensions(n),this._getStoreDimIndex,this);this._store.modify(f,c?bind$1(i,c):i)},r.prototype.downSample=function(n,i,o,a){var u=cloneListForMapAndSample(this);return u._store=this._store.downSample(this._getStoreDimIndex(n),i,o,a),u},r.prototype.lttbDownSample=function(n,i){var o=cloneListForMapAndSample(this);return o._store=this._store.lttbDownSample(this._getStoreDimIndex(n),i),o},r.prototype.getRawDataItem=function(n){return this._store.getRawDataItem(n)},r.prototype.getItemModel=function(n){var i=this.hostModel,o=this.getRawDataItem(n);return new Model$1(o,i,i&&i.ecModel)},r.prototype.diff=function(n){var i=this;return new DataDiffer$1(n?n.getStore().getIndices():[],this.getStore().getIndices(),function(o){return getId(n,o)},function(o){return getId(i,o)})},r.prototype.getVisual=function(n){var i=this._visual;return i&&i[n]},r.prototype.setVisual=function(n,i){this._visual=this._visual||{},isObject$1(n)?extend(this._visual,n):this._visual[n]=i},r.prototype.getItemVisual=function(n,i){var o=this._itemVisuals[n],a=o&&o[i];return a??this.getVisual(i)},r.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},r.prototype.ensureUniqueItemVisual=function(n,i){var o=this._itemVisuals,a=o[n];a||(a=o[n]={});var u=a[i];return u==null&&(u=this.getVisual(i),isArray$1(u)?u=u.slice():isObject$1(u)&&(u=extend({},u)),a[i]=u),u},r.prototype.setItemVisual=function(n,i,o){var a=this._itemVisuals[n]||{};this._itemVisuals[n]=a,isObject$1(i)?extend(a,i):a[i]=o},r.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},r.prototype.setLayout=function(n,i){isObject$1(n)?extend(this._layout,n):this._layout[n]=i},r.prototype.getLayout=function(n){return this._layout[n]},r.prototype.getItemLayout=function(n){return this._itemLayouts[n]},r.prototype.setItemLayout=function(n,i,o){this._itemLayouts[n]=o?extend(this._itemLayouts[n]||{},i):i},r.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},r.prototype.setItemGraphicEl=function(n,i){var o=this.hostModel&&this.hostModel.seriesIndex;setCommonECData(o,this.dataType,n,i),this._graphicEls[n]=i},r.prototype.getItemGraphicEl=function(n){return this._graphicEls[n]},r.prototype.eachItemGraphicEl=function(n,i){each$4(this._graphicEls,function(o,a){o&&n&&n.call(i,o,a)})},r.prototype.cloneShallow=function(n){return n||(n=new r(this._schema?this._schema:map(this.dimensions,this._getDimInfo,this),this.hostModel)),transferProperties(n,this),n._store=this._store,n},r.prototype.wrapMethod=function(n,i){var o=this[n];isFunction$1(o)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(n),this[n]=function(){var a=o.apply(this,arguments);return i.apply(this,[a].concat(slice(arguments)))})},r.internalField=function(){prepareInvertedIndex=function(n){var i=n._invertedIndicesMap;each$4(i,function(o,a){var u=n._dimInfos[a],c=u.ordinalMeta,f=n._store;if(c){o=i[a]=new CtorInt32Array(c.categories.length);for(var d=0;d<o.length;d++)o[d]=INDEX_NOT_FOUND;for(var d=0;d<f.count();d++)o[f.get(u.storeDimIndex,d)]=d}})},getIdNameFromStore=function(n,i,o){return convertOptionIdName(n._getCategory(i,o),null)},getId=function(n,i){var o=n._idList[i];return o==null&&n._idDimIdx!=null&&(o=getIdNameFromStore(n,n._idDimIdx,i)),o==null&&(o=ID_PREFIX+i),o},normalizeDimensions=function(n){return isArray$1(n)||(n=n!=null?[n]:[]),n},cloneListForMapAndSample=function(n){var i=new r(n._schema?n._schema:map(n.dimensions,n._getDimInfo,n),n.hostModel);return transferProperties(i,n),i},transferProperties=function(n,i){each$4(TRANSFERABLE_PROPERTIES.concat(i.__wrappedMethods||[]),function(o){i.hasOwnProperty(o)&&(n[o]=i[o])}),n.__wrappedMethods=i.__wrappedMethods,each$4(CLONE_PROPERTIES,function(o){n[o]=clone$2(i[o])}),n._calculationInfo=extend({},i._calculationInfo)},makeIdFromName=function(n,i){var o=n._nameList,a=n._idList,u=n._nameDimIdx,c=n._idDimIdx,f=o[i],d=a[i];if(f==null&&u!=null&&(o[i]=f=getIdNameFromStore(n,u,i)),d==null&&c!=null&&(a[i]=d=getIdNameFromStore(n,c,i)),d==null&&f!=null){var h=n._nameRepeatCount,v=h[f]=(h[f]||0)+1;d=f,v>1&&(d+="__ec__"+v),a[i]=d}}}(),r}();const SeriesData$1=SeriesData;function prepareSeriesDataSchema(r,n){isSourceInstance(r)||(r=createSourceFromSeriesDataOption(r)),n=n||{};var i=n.coordDimensions||[],o=n.dimensionsDefine||r.dimensionsDefine||[],a=createHashMap(),u=[],c=getDimCount(r,i,o,n.dimensionsCount),f=n.canOmitUnusedDimensions&&shouldOmitUnusedDimensions(c),d=o===r.dimensionsDefine,h=d?ensureSourceDimNameMap(r):createDimNameMap(o),v=n.encodeDefine;!v&&n.encodeDefaulter&&(v=n.encodeDefaulter(r,c));for(var g=createHashMap(v),p=new CtorInt32Array$1(c),y=0;y<p.length;y++)p[y]=-1;function _(F){var j=p[F];if(j<0){var V=o[F],z=isObject$3(V)?V:{name:V},$=new SeriesDimensionDefine$1,he=z.name;he!=null&&h.get(he)!=null&&($.name=$.displayName=he),z.type!=null&&($.type=z.type),z.displayName!=null&&($.displayName=z.displayName);var le=u.length;return p[F]=le,$.storeDimIndex=F,u.push($),$}return u[j]}if(!f)for(var y=0;y<c;y++)_(y);g.each(function(F,j){var V=normalizeToArray(F).slice();if(V.length===1&&!isString$2(V[0])&&V[0]<0){g.set(j,!1);return}var z=g.set(j,[]);each$4(V,function($,he){var le=isString$2($)?h.get($):$;le!=null&&le<c&&(z[he]=le,A(_(le),j,he))})});var b=0;each$4(i,function(F){var j,V,z,$;if(isString$2(F))j=F,$={};else{$=F,j=$.name;var he=$.ordinalMeta;$.ordinalMeta=null,$=extend({},$),$.ordinalMeta=he,V=$.dimsDef,z=$.otherDims,$.name=$.coordDim=$.coordDimIndex=$.dimsDef=$.otherDims=null}var le=g.get(j);if(le!==!1){if(le=normalizeToArray(le),!le.length)for(var Ie=0;Ie<(V&&V.length||1);Ie++){for(;b<c&&_(b).coordDim!=null;)b++;b<c&&le.push(b++)}each$4(le,function(Fe,pe){var Lt=_(Fe);if(d&&$.type!=null&&(Lt.type=$.type),A(defaults(Lt,$),j,pe),Lt.name==null&&V){var _e=V[pe];!isObject$3(_e)&&(_e={name:_e}),Lt.name=Lt.displayName=_e.name,Lt.defaultTooltip=_e.defaultTooltip}z&&defaults(Lt.otherDims,z)})}});function A(F,j,V){VISUAL_DIMENSIONS.get(j)!=null?F.otherDims[j]=V:(F.coordDim=j,F.coordDimIndex=V,a.set(j,!0))}var w=n.generateCoord,T=n.generateCoordCount,S=T!=null;T=w?T||1:0;var x=w||"value";function O(F){F.name==null&&(F.name=F.coordDim)}if(f)each$4(u,function(F){O(F)}),u.sort(function(F,j){return F.storeDimIndex-j.storeDimIndex});else for(var L=0;L<c;L++){var M=_(L),re=M.coordDim;re==null&&(M.coordDim=genCoordDimName(x,a,S),M.coordDimIndex=0,(!w||T<=0)&&(M.isExtraCoord=!0),T--),O(M),M.type==null&&(guessOrdinal(r,L)===BE_ORDINAL.Must||M.isExtraCoord&&(M.otherDims.itemName!=null||M.otherDims.seriesName!=null))&&(M.type="ordinal")}return removeDuplication(u),new SeriesDataSchema({source:r,dimensions:u,fullDimensionCount:c,dimensionOmitted:f})}function removeDuplication(r){for(var n=createHashMap(),i=0;i<r.length;i++){var o=r[i],a=o.name,u=n.get(a)||0;u>0&&(o.name=a+(u-1)),u++,n.set(a,u)}}function getDimCount(r,n,i,o){var a=Math.max(r.dimensionsDetectedCount||1,n.length,i.length,o||0);return each$4(n,function(u){var c;isObject$3(u)&&(c=u.dimsDef)&&(a=Math.max(a,c.length))}),a}function genCoordDimName(r,n,i){if(i||n.hasKey(r)){for(var o=0;n.hasKey(r+o);)o++;r+=o}return n.set(r,!0),r}function getAxisRawValue(r,n){return r.type==="category"?r.scale.getLabel(n):n.value}function getOptionCategoryInterval(r){var n=r.get("interval");return n??"auto"}function shouldShowAllLabels(r){return r.type==="category"&&getOptionCategoryInterval(r.getLabelModel())===0}var extensions=[],extensionRegisters={registerPreprocessor,registerProcessor,registerPostInit,registerPostUpdate,registerUpdateLifecycle,registerAction,registerCoordinateSystem,registerLayout,registerVisual,registerTransform,registerLoading,registerMap,registerImpl,PRIORITY,ComponentModel:ComponentModel$1,ComponentView:ComponentView$1,SeriesModel:SeriesModel$1,ChartView:ChartView$1,registerComponentModel:function(r){ComponentModel$1.registerClass(r)},registerComponentView:function(r){ComponentView$1.registerClass(r)},registerSeriesModel:function(r){SeriesModel$1.registerClass(r)},registerChartView:function(r){ChartView$1.registerClass(r)},registerSubTypeDefaulter:function(r,n){ComponentModel$1.registerSubTypeDefaulter(r,n)},registerPainter:function(r,n){registerPainter(r,n)}};function use(r){if(isArray$1(r)){each$4(r,function(n){use(n)});return}indexOf(extensions,r)>=0||(extensions.push(r),isFunction$1(r)&&(r={install:r}),r.install(extensionRegisters))}PathProxy$1.CMD;function projectPointToLine(r,n,i,o,a,u,c,f){var d=a-r,h=u-n,v=i-r,g=o-n,p=Math.sqrt(v*v+g*g);v/=p,g/=p;var y=d*v+h*g,_=y/p;f&&(_=Math.min(Math.max(_,0),1)),_*=p;var b=c[0]=r+_*v,A=c[1]=n+_*g;return Math.sqrt((b-a)*(b-a)+(A-u)*(A-u))}var pt0=new Point$1,pt1=new Point$1,pt2=new Point$1,dir=new Point$1,dir2=new Point$1,tmpArr=[],tmpProjPoint=new Point$1;function limitTurnAngle(r,n){if(n<=180&&n>0){n=n/180*Math.PI,pt0.fromArray(r[0]),pt1.fromArray(r[1]),pt2.fromArray(r[2]),Point$1.sub(dir,pt0,pt1),Point$1.sub(dir2,pt2,pt1);var i=dir.len(),o=dir2.len();if(!(i<.001||o<.001)){dir.scale(1/i),dir2.scale(1/o);var a=dir.dot(dir2),u=Math.cos(n);if(u<a){var c=projectPointToLine(pt1.x,pt1.y,pt2.x,pt2.y,pt0.x,pt0.y,tmpArr,!1);tmpProjPoint.fromArray(tmpArr),tmpProjPoint.scaleAndAdd(dir2,c/Math.tan(Math.PI-n));var f=pt2.x!==pt1.x?(tmpProjPoint.x-pt1.x)/(pt2.x-pt1.x):(tmpProjPoint.y-pt1.y)/(pt2.y-pt1.y);if(isNaN(f))return;f<0?Point$1.copy(tmpProjPoint,pt1):f>1&&Point$1.copy(tmpProjPoint,pt2),tmpProjPoint.toArray(r[1])}}}}function limitSurfaceAngle(r,n,i){if(i<=180&&i>0){i=i/180*Math.PI,pt0.fromArray(r[0]),pt1.fromArray(r[1]),pt2.fromArray(r[2]),Point$1.sub(dir,pt1,pt0),Point$1.sub(dir2,pt2,pt1);var o=dir.len(),a=dir2.len();if(!(o<.001||a<.001)){dir.scale(1/o),dir2.scale(1/a);var u=dir.dot(n),c=Math.cos(i);if(u<c){var f=projectPointToLine(pt1.x,pt1.y,pt2.x,pt2.y,pt0.x,pt0.y,tmpArr,!1);tmpProjPoint.fromArray(tmpArr);var d=Math.PI/2,h=Math.acos(dir2.dot(n)),v=d+h-i;if(v>=d)Point$1.copy(tmpProjPoint,pt2);else{tmpProjPoint.scaleAndAdd(dir2,f/Math.tan(Math.PI/2-v));var g=pt2.x!==pt1.x?(tmpProjPoint.x-pt1.x)/(pt2.x-pt1.x):(tmpProjPoint.y-pt1.y)/(pt2.y-pt1.y);if(isNaN(g))return;g<0?Point$1.copy(tmpProjPoint,pt1):g>1&&Point$1.copy(tmpProjPoint,pt2)}tmpProjPoint.toArray(r[1])}}}}function setLabelLineState(r,n,i,o){var a=i==="normal",u=a?r:r.ensureState(i);u.ignore=n;var c=o.get("smooth");c&&c===!0&&(c=.3),u.shape=u.shape||{},c>0&&(u.shape.smooth=c);var f=o.getModel("lineStyle").getLineStyle();a?r.useStyle(f):u.style=f}function buildLabelLinePath(r,n){var i=n.smooth,o=n.points;if(o)if(r.moveTo(o[0][0],o[0][1]),i>0&&o.length>=3){var a=dist$1(o[0],o[1]),u=dist$1(o[1],o[2]);if(!a||!u){r.lineTo(o[1][0],o[1][1]),r.lineTo(o[2][0],o[2][1]);return}var c=Math.min(a,u)*i,f=lerp([],o[1],o[0],c/a),d=lerp([],o[1],o[2],c/u),h=lerp([],f,d,.5);r.bezierCurveTo(f[0],f[1],f[0],f[1],h[0],h[1]),r.bezierCurveTo(d[0],d[1],d[0],d[1],o[2][0],o[2][1])}else for(var v=1;v<o.length;v++)r.lineTo(o[v][0],o[v][1])}function setLabelLineStyle(r,n,i){var o=r.getTextGuideLine(),a=r.getTextContent();if(!a){o&&r.removeTextGuideLine();return}for(var u=n.normal,c=u.get("show"),f=a.ignore,d=0;d<DISPLAY_STATES.length;d++){var h=DISPLAY_STATES[d],v=n[h],g=h==="normal";if(v){var p=v.get("show"),y=g?f:retrieve2(a.states[h]&&a.states[h].ignore,f);if(y||!retrieve2(p,c)){var _=g?o:o&&o.states[h];_&&(_.ignore=!0);continue}o||(o=new Polyline$1,r.setTextGuideLine(o),!g&&(f||!c)&&setLabelLineState(o,!0,"normal",n.normal),r.stateProxy&&(o.stateProxy=r.stateProxy)),setLabelLineState(o,!1,h,v)}}if(o){defaults(o.style,i),o.style.fill=null;var b=u.get("showAbove"),A=r.textGuideLineConfig=r.textGuideLineConfig||{};A.showAbove=b||!1,o.buildPath=buildLabelLinePath}}function getLabelLineStatesModels(r,n){n=n||"labelLine";for(var i={normal:r.getModel(n)},o=0;o<SPECIAL_STATES.length;o++){var a=SPECIAL_STATES[o];i[a]=r.getModel([a,n])}return i}function prepareLayoutList(r){for(var n=[],i=0;i<r.length;i++){var o=r[i];if(!o.defaultAttr.ignore){var a=o.label,u=a.getComputedTransform(),c=a.getBoundingRect(),f=!u||u[1]<1e-5&&u[2]<1e-5,d=a.style.margin||0,h=c.clone();h.applyTransform(u),h.x-=d/2,h.y-=d/2,h.width+=d,h.height+=d;var v=f?new OrientedBoundingRect$1(c,u):null;n.push({label:a,labelLine:o.labelLine,rect:h,localRect:c,obb:v,priority:o.priority,defaultAttr:o.defaultAttr,layoutOption:o.computedLayoutOption,axisAligned:f,transform:u})}}return n}function shiftLayout(r,n,i,o,a,u){var c=r.length;if(c<2)return;r.sort(function(re,F){return re.rect[n]-F.rect[n]});for(var f=0,d,h=!1,v=0,g=0;g<c;g++){var p=r[g],y=p.rect;d=y[n]-f,d<0&&(y[n]-=d,p.label[n]-=d,h=!0);var _=Math.max(-d,0);v+=_,f=y[n]+y[i]}v>0&&u&&O(-v/c,0,c);var b=r[0],A=r[c-1],w,T;S(),w<0&&L(-w,.8),T<0&&L(T,.8),S(),x(w,T,1),x(T,w,-1),S(),w<0&&M(-w),T<0&&M(T);function S(){w=b.rect[n]-o,T=a-A.rect[n]-A.rect[i]}function x(re,F,j){if(re<0){var V=Math.min(F,-re);if(V>0){O(V*j,0,c);var z=V+re;z<0&&L(-z*j,1)}else L(-re*j,1)}}function O(re,F,j){re!==0&&(h=!0);for(var V=F;V<j;V++){var z=r[V],$=z.rect;$[n]+=re,z.label[n]+=re}}function L(re,F){for(var j=[],V=0,z=1;z<c;z++){var $=r[z-1].rect,he=Math.max(r[z].rect[n]-$[n]-$[i],0);j.push(he),V+=he}if(V){var le=Math.min(Math.abs(re)/V,F);if(re>0)for(var z=0;z<c-1;z++){var Ie=j[z]*le;O(Ie,0,z+1)}else for(var z=c-1;z>0;z--){var Ie=j[z-1]*le;O(-Ie,z,c)}}}function M(re){var F=re<0?-1:1;re=Math.abs(re);for(var j=Math.ceil(re/(c-1)),V=0;V<c-1;V++)if(F>0?O(j,0,V+1):O(-j,c-V-1,c),re-=j,re<=0)return}return h}function shiftLayoutOnY(r,n,i,o){return shiftLayout(r,"y","height",n,i,o)}function hideOverlap(r){var n=[];r.sort(function(b,A){return A.priority-b.priority});var i=new BoundingRect$1(0,0,0,0);function o(b){if(!b.ignore){var A=b.ensureState("emphasis");A.ignore==null&&(A.ignore=!1)}b.ignore=!0}for(var a=0;a<r.length;a++){var u=r[a],c=u.axisAligned,f=u.localRect,d=u.transform,h=u.label,v=u.labelLine;i.copy(u.rect),i.width-=.1,i.height-=.1,i.x+=.05,i.y+=.05;for(var g=u.obb,p=!1,y=0;y<n.length;y++){var _=n[y];if(i.intersect(_.rect)){if(c&&_.axisAligned){p=!0;break}if(_.obb||(_.obb=new OrientedBoundingRect$1(_.localRect,_.transform)),g||(g=new OrientedBoundingRect$1(f,d)),g.intersect(_.obb)){p=!0;break}}}p?(o(h),v&&o(v)):(h.attr("ignore",u.defaultAttr.ignore),v&&v.attr("ignore",u.defaultAttr.labelGuideIgnore),n.push(u))}}var mathSin=Math.sin,mathCos=Math.cos,PI$1=Math.PI,PI2$1=Math.PI*2,degree=180/PI$1,SVGPathRebuilder=function(){function r(){}return r.prototype.reset=function(n){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,n||4)},r.prototype.moveTo=function(n,i){this._add("M",n,i)},r.prototype.lineTo=function(n,i){this._add("L",n,i)},r.prototype.bezierCurveTo=function(n,i,o,a,u,c){this._add("C",n,i,o,a,u,c)},r.prototype.quadraticCurveTo=function(n,i,o,a){this._add("Q",n,i,o,a)},r.prototype.arc=function(n,i,o,a,u,c){this.ellipse(n,i,o,o,0,a,u,c)},r.prototype.ellipse=function(n,i,o,a,u,c,f,d){var h=f-c,v=!d,g=Math.abs(h),p=isAroundZero(g-PI2$1)||(v?h>=PI2$1:-h>=PI2$1),y=h>0?h%PI2$1:h%PI2$1+PI2$1,_=!1;p?_=!0:isAroundZero(g)?_=!1:_=y>=PI$1==!!v;var b=n+o*mathCos(c),A=i+a*mathSin(c);this._start&&this._add("M",b,A);var w=Math.round(u*degree);if(p){var T=1/this._p,S=(v?1:-1)*(PI2$1-T);this._add("A",o,a,w,1,+v,n+o*mathCos(c+S),i+a*mathSin(c+S)),T>.01&&this._add("A",o,a,w,0,+v,b,A)}else{var x=n+o*mathCos(f),O=i+a*mathSin(f);this._add("A",o,a,w,+_,+v,x,O)}},r.prototype.rect=function(n,i,o,a){this._add("M",n,i),this._add("l",o,0),this._add("l",0,a),this._add("l",-o,0),this._add("Z")},r.prototype.closePath=function(){this._d.length>0&&this._add("Z")},r.prototype._add=function(n,i,o,a,u,c,f,d,h){for(var v=[],g=this._p,p=1;p<arguments.length;p++){var y=arguments[p];if(isNaN(y)){this._invalid=!0;return}v.push(Math.round(y*g)/g)}this._d.push(n+v.join(" ")),this._start=n==="Z"},r.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},r.prototype.getStr=function(){return this._str},r}();const SVGPathRebuilder$1=SVGPathRebuilder;var NONE="none",mathRound=Math.round;function pathHasFill(r){var n=r.fill;return n!=null&&n!==NONE}function pathHasStroke(r){var n=r.stroke;return n!=null&&n!==NONE}var strokeProps=["lineCap","miterLimit","lineJoin"],svgStrokeProps=map$1(strokeProps,function(r){return"stroke-"+r.toLowerCase()});function mapStyleToAttrs(r,n,i,o){var a=n.opacity==null?1:n.opacity;if(i instanceof ZRImage$1){r("opacity",a);return}if(pathHasFill(n)){var u=normalizeColor(n.fill);r("fill",u.color);var c=n.fillOpacity!=null?n.fillOpacity*u.opacity*a:u.opacity*a;(o||c<1)&&r("fill-opacity",c)}else r("fill",NONE);if(pathHasStroke(n)){var f=normalizeColor(n.stroke);r("stroke",f.color);var d=n.strokeNoScale?i.getLineScale():1,h=d?(n.lineWidth||0)/d:0,v=n.strokeOpacity!=null?n.strokeOpacity*f.opacity*a:f.opacity*a,g=n.strokeFirst;if((o||h!==1)&&r("stroke-width",h),(o||g)&&r("paint-order",g?"stroke":"fill"),(o||v<1)&&r("stroke-opacity",v),n.lineDash){var p=getLineDash(i),y=p[0],_=p[1];y&&(_=mathRound(_||0),r("stroke-dasharray",y.join(",")),(_||o)&&r("stroke-dashoffset",_))}else o&&r("stroke-dasharray",NONE);for(var b=0;b<strokeProps.length;b++){var A=strokeProps[b];if(o||n[A]!==DEFAULT_PATH_STYLE[A]){var w=n[A]||DEFAULT_PATH_STYLE[A];w&&r(svgStrokeProps[b],w)}}}else o&&r("stroke",NONE)}var SVGNS="http://www.w3.org/2000/svg",XLINKNS="http://www.w3.org/1999/xlink",XMLNS="http://www.w3.org/2000/xmlns/",XML_NAMESPACE="http://www.w3.org/XML/1998/namespace";function createElement(r){return document.createElementNS(SVGNS,r)}function createVNode(r,n,i,o,a){return{tag:r,attrs:i||{},children:o,text:a,key:n}}function createElementOpen(r,n){var i=[];if(n)for(var o in n){var a=n[o],u=o;a!==!1&&(a!==!0&&a!=null&&(u+='="'+a+'"'),i.push(u))}return"<"+r+" "+i.join(" ")+">"}function createElementClose(r){return"</"+r+">"}function vNodeToString(r,n){n=n||{};var i=n.newline?`
`:"";function o(a){var u=a.children,c=a.tag,f=a.attrs;return createElementOpen(c,f)+encodeHTML(a.text)+(u?""+i+map$1(u,function(d){return o(d)}).join(i)+i:"")+createElementClose(c)}return o(r)}function getCssString(r,n,i){i=i||{};var o=i.newline?`
`:"",a=" {"+o,u=o+"}",c=map$1(keys(r),function(d){return d+a+map$1(keys(r[d]),function(h){return h+":"+r[d][h]+";"}).join(o)+u}).join(o),f=map$1(keys(n),function(d){return"@keyframes "+d+a+map$1(keys(n[d]),function(h){return h+a+map$1(keys(n[d][h]),function(v){var g=n[d][h][v];return v==="d"&&(g='path("'+g+'")'),v+":"+g+";"}).join(o)+u}).join(o)+u}).join(o);return!c&&!f?"":["<![CDATA[",c,f,"]]>"].join(o)}function createBrushScope(r){return{zrId:r,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssClassIdx:0,cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function createSVGVNode(r,n,i,o){return createVNode("svg","root",{width:r,height:n,xmlns:SVGNS,"xmlns:xlink":XLINKNS,version:"1.1",baseProfile:"full",viewBox:o?"0 0 "+r+" "+n:!1},i)}var EASING_MAP={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},transformOriginKey="transform-origin";function buildPathString(r,n,i){var o=extend({},r.shape);extend(o,n),r.buildPath(i,o);var a=new SVGPathRebuilder$1;return a.reset(getPathPrecision(r)),i.rebuildPath(a,1),a.generateStr(),a.getStr()}function setTransformOrigin(r,n){var i=n.originX,o=n.originY;(i||o)&&(r[transformOriginKey]=i+"px "+o+"px")}var ANIMATE_STYLE_MAP={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function addAnimation(r,n){var i=n.zrId+"-ani-"+n.cssAnimIdx++;return n.cssAnims[i]=r,i}function createCompoundPathCSSAnimation(r,n,i){var o=r.shape.paths,a={},u,c;if(each$4(o,function(d){var h=createBrushScope(i.zrId);h.animation=!0,createCSSAnimation(d,{},h,!0);var v=h.cssAnims,g=h.cssNodes,p=keys(v),y=p.length;if(y){c=p[y-1];var _=v[c];for(var b in _){var A=_[b];a[b]=a[b]||{d:""},a[b].d+=A.d||""}for(var w in g){var T=g[w].animation;T.indexOf(c)>=0&&(u=T)}}}),!!u){n.d=!1;var f=addAnimation(a,i);return u.replace(c,f)}}function getEasingFunc(r){return isString$2(r)?EASING_MAP[r]?"cubic-bezier("+EASING_MAP[r]+")":createCubicEasingFunc(r)?r:"":""}function createCSSAnimation(r,n,i,o){var a=r.animators,u=a.length,c=[];if(r instanceof CompoundPath$1){var f=createCompoundPathCSSAnimation(r,n,i);if(f)c.push(f);else if(!u)return}else if(!u)return;for(var d={},h=0;h<u;h++){var v=a[h],g=[v.getMaxTime()/1e3+"s"],p=getEasingFunc(v.getClip().easing),y=v.getDelay();p?g.push(p):g.push("linear"),y&&g.push(y/1e3+"s"),v.getLoop()&&g.push("infinite");var _=g.join(" ");d[_]=d[_]||[_,[]],d[_][1].push(v)}function b(T){var S=T[1],x=S.length,O={},L={},M={},re="animation-timing-function";function F(In,$e,Ce){for(var ue=In.getTracks(),At=In.getMaxTime(),Ne=0;Ne<ue.length;Ne++){var Oe=ue[Ne];if(Oe.needsAnimate()){var kt=Oe.keyframes,jt=Oe.propName;if(Ce&&(jt=Ce(jt)),jt)for(var _n=0;_n<kt.length;_n++){var ie=kt[_n],ae=Math.round(ie.time/At*100)+"%",Y=getEasingFunc(ie.easing),k=ie.rawValue;(isString$2(k)||isNumber$1(k))&&($e[ae]=$e[ae]||{},$e[ae][jt]=ie.rawValue,Y&&($e[ae][re]=Y))}}}}for(var j=0;j<x;j++){var V=S[j],z=V.targetName;z?z==="shape"&&F(V,L):!o&&F(V,O)}for(var $ in O){var he={};copyTransform(he,r),extend(he,O[$]);var le=getSRTTransformString(he),Ie=O[$][re];M[$]=le?{transform:le}:{},setTransformOrigin(M[$],he),Ie&&(M[$][re]=Ie)}var Fe,pe=!0;for(var $ in L){M[$]=M[$]||{};var Lt=!Fe,Ie=L[$][re];Lt&&(Fe=new PathProxy$1);var _e=Fe.len();Fe.reset(),M[$].d=buildPathString(r,L[$],Fe);var Et=Fe.len();if(!Lt&&_e!==Et){pe=!1;break}Ie&&(M[$][re]=Ie)}if(!pe)for(var $ in M)delete M[$].d;if(!o)for(var j=0;j<x;j++){var V=S[j],z=V.targetName;z==="style"&&F(V,M,function(ue){return ANIMATE_STYLE_MAP[ue]})}for(var Cn=keys(M),vn=!0,Dt,j=1;j<Cn.length;j++){var de=Cn[j-1],qe=Cn[j];if(M[de][transformOriginKey]!==M[qe][transformOriginKey]){vn=!1;break}Dt=M[de][transformOriginKey]}if(vn&&Dt){for(var $ in M)M[$][transformOriginKey]&&delete M[$][transformOriginKey];n[transformOriginKey]=Dt}if(filter(Cn,function(In){return keys(M[In]).length>0}).length){var Pt=addAnimation(M,i);return Pt+" "+T[0]+" both"}}for(var A in d){var f=b(d[A]);f&&c.push(f)}if(c.length){var w=i.zrId+"-cls-"+i.cssClassIdx++;i.cssNodes["."+w]={animation:c.join(",")},n.class=w}}var round=Math.round;function isImageLike(r){return r&&isString$2(r.src)}function isCanvasLike(r){return r&&isFunction$1(r.toDataURL)}function setStyleAttrs(r,n,i,o){mapStyleToAttrs(function(a,u){var c=a==="fill"||a==="stroke";c&&isGradient(u)?setGradient(n,r,a,o):c&&isPattern(u)?setPattern(i,r,a,o):r[a]=u},n,i,!1),setShadow(i,r,o)}function noRotateScale(r){return isAroundZero(r[0]-1)&&isAroundZero(r[1])&&isAroundZero(r[2])&&isAroundZero(r[3]-1)}function noTranslate(r){return isAroundZero(r[4])&&isAroundZero(r[5])}function setTransform(r,n,i){if(n&&!(noTranslate(n)&&noRotateScale(n))){var o=i?10:1e4;r.transform=noRotateScale(n)?"translate("+round(n[4]*o)/o+" "+round(n[5]*o)/o+")":getMatrixStr(n)}}function convertPolyShape(r,n,i){for(var o=r.points,a=[],u=0;u<o.length;u++)a.push(round(o[u][0]*i)/i),a.push(round(o[u][1]*i)/i);n.points=a.join(" ")}function validatePolyShape(r){return!r.smooth}function createAttrsConvert(r){var n=map$1(r,function(i){return typeof i=="string"?[i,i]:i});return function(i,o,a){for(var u=0;u<n.length;u++){var c=n[u],f=i[c[0]];f!=null&&(o[c[1]]=round(f*a)/a)}}}var builtinShapesDef={circle:[createAttrsConvert(["cx","cy","r"])],polyline:[convertPolyShape,validatePolyShape],polygon:[convertPolyShape,validatePolyShape]};function hasShapeAnimation(r){for(var n=r.animators,i=0;i<n.length;i++)if(n[i].targetName==="shape")return!0;return!1}function brushSVGPath(r,n){var i=r.style,o=r.shape,a=builtinShapesDef[r.type],u={},c=n.animation,f="path",d=r.style.strokePercent,h=n.compress&&getPathPrecision(r)||4;if(a&&!n.willUpdate&&!(a[1]&&!a[1](o))&&!(c&&hasShapeAnimation(r))&&!(d<1)){f=r.type;var v=Math.pow(10,h);a[0](o,u,v)}else{var g=!r.path||r.shapeChanged();r.path||r.createPathProxy();var p=r.path;g&&(p.beginPath(),r.buildPath(p,r.shape),r.pathUpdated());var y=p.getVersion(),_=r,b=_.__svgPathBuilder;(_.__svgPathVersion!==y||!b||d!==_.__svgPathStrokePercent)&&(b||(b=_.__svgPathBuilder=new SVGPathRebuilder$1),b.reset(h),p.rebuildPath(b,d),b.generateStr(),_.__svgPathVersion=y,_.__svgPathStrokePercent=d),u.d=b.getStr()}return setTransform(u,r.transform),setStyleAttrs(u,i,r,n),n.animation&&createCSSAnimation(r,u,n),createVNode(f,r.id+"",u)}function brushSVGImage(r,n){var i=r.style,o=i.image;if(o&&!isString$2(o)&&(isImageLike(o)?o=o.src:isCanvasLike(o)&&(o=o.toDataURL())),!!o){var a=i.x||0,u=i.y||0,c=i.width,f=i.height,d={href:o,width:c,height:f};return a&&(d.x=a),u&&(d.y=u),setTransform(d,r.transform),setStyleAttrs(d,i,r,n),n.animation&&createCSSAnimation(r,d,n),createVNode("image",r.id+"",d)}}function brushSVGTSpan(r,n){var i=r.style,o=i.text;if(o!=null&&(o+=""),!(!o||isNaN(i.x)||isNaN(i.y))){var a=i.font||DEFAULT_FONT,u=i.x||0,c=adjustTextY$1(i.y||0,getLineHeight(a),i.textBaseline),f=TEXT_ALIGN_TO_ANCHOR[i.textAlign]||i.textAlign,d={"dominant-baseline":"central","text-anchor":f};if(hasSeparateFont(i)){var h="",v=i.fontStyle,g=parseFontSize(i.fontSize);if(!parseFloat(g))return;var p=i.fontFamily||DEFAULT_FONT_FAMILY,y=i.fontWeight;h+="font-size:"+g+";font-family:"+p+";",v&&v!=="normal"&&(h+="font-style:"+v+";"),y&&y!=="normal"&&(h+="font-weight:"+y+";"),d.style=h}else d.style="font: "+a;return o.match(/\s/)&&(d["xml:space"]="preserve"),u&&(d.x=u),c&&(d.y=c),setTransform(d,r.transform),setStyleAttrs(d,i,r,n),n.animation&&createCSSAnimation(r,d,n),createVNode("text",r.id+"",d,void 0,o)}}function brush(r,n){if(r instanceof Path$1)return brushSVGPath(r,n);if(r instanceof ZRImage$1)return brushSVGImage(r,n);if(r instanceof TSpan$1)return brushSVGTSpan(r,n)}function setShadow(r,n,i){var o=r.style;if(hasShadow(o)){var a=getShadowKey(r),u=i.shadowCache,c=u[a];if(!c){var f=r.getGlobalScale(),d=f[0],h=f[1];if(!d||!h)return;var v=o.shadowOffsetX||0,g=o.shadowOffsetY||0,p=o.shadowBlur,y=normalizeColor(o.shadowColor),_=y.opacity,b=y.color,A=p/2/d,w=p/2/h,T=A+" "+w;c=i.zrId+"-s"+i.shadowIdx++,i.defs[c]=createVNode("filter",c,{id:c,x:"-100%",y:"-100%",width:"300%",height:"300%"},[createVNode("feDropShadow","",{dx:v/d,dy:g/h,stdDeviation:T,"flood-color":b,"flood-opacity":_})]),u[a]=c}n.filter=getIdURL(c)}}function setGradient(r,n,i,o){var a=r[i],u,c={gradientUnits:a.global?"userSpaceOnUse":"objectBoundingBox"};if(isLinearGradient(a))u="linearGradient",c.x1=a.x,c.y1=a.y,c.x2=a.x2,c.y2=a.y2;else if(isRadialGradient(a))u="radialGradient",c.cx=retrieve2(a.x,.5),c.cy=retrieve2(a.y,.5),c.r=retrieve2(a.r,.5);else{process.env.NODE_ENV!=="production"&&logError("Illegal gradient type.");return}for(var f=a.colorStops,d=[],h=0,v=f.length;h<v;++h){var g=round4(f[h].offset)*100+"%",p=f[h].color,y=normalizeColor(p),_=y.color,b=y.opacity,A={offset:g};A["stop-color"]=_,b<1&&(A["stop-opacity"]=b),d.push(createVNode("stop",h+"",A))}var w=createVNode(u,"",c,d),T=vNodeToString(w),S=o.gradientCache,x=S[T];x||(x=o.zrId+"-g"+o.gradientIdx++,S[T]=x,c.id=x,o.defs[x]=createVNode(u,x,c,d)),n[i]=getIdURL(x)}function setPattern(r,n,i,o){var a=r.style[i],u=r.getBoundingRect(),c={},f=a.repeat,d=f==="no-repeat",h=f==="repeat-x",v=f==="repeat-y",g;if(isImagePattern(a)){var p=a.imageWidth,y=a.imageHeight,_=void 0,b=a.image;if(isString$2(b)?_=b:isImageLike(b)?_=b.src:isCanvasLike(b)&&(_=b.toDataURL()),typeof Image>"u"){var A="Image width/height must been given explictly in svg-ssr renderer.";assert(p,A),assert(y,A)}else if(p==null||y==null){var w=function(j,V){if(j){var z=j.elm,$=p||V.width,he=y||V.height;j.tag==="pattern"&&(h?(he=1,$/=u.width):v&&($=1,he/=u.height)),j.attrs.width=$,j.attrs.height=he,z&&(z.setAttribute("width",$),z.setAttribute("height",he))}},T=createOrUpdateImage(_,null,r,function(j){d||w(L,j),w(g,j)});T&&T.width&&T.height&&(p=p||T.width,y=y||T.height)}g=createVNode("image","img",{href:_,width:p,height:y}),c.width=p,c.height=y}else a.svgElement&&(g=clone$2(a.svgElement),c.width=a.svgWidth,c.height=a.svgHeight);if(g){var S,x;d?S=x=1:h?(x=1,S=c.width/u.width):v?(S=1,x=c.height/u.height):c.patternUnits="userSpaceOnUse",S!=null&&!isNaN(S)&&(c.width=S),x!=null&&!isNaN(x)&&(c.height=x);var O=getSRTTransformString(a);O&&(c.patternTransform=O);var L=createVNode("pattern","",c,[g]),M=vNodeToString(L),re=o.patternCache,F=re[M];F||(F=o.zrId+"-p"+o.patternIdx++,re[M]=F,c.id=F,L=o.defs[F]=createVNode("pattern",F,c,[g])),n[i]=getIdURL(F)}}function setClipPath(r,n,i){var o=i.clipPathCache,a=i.defs,u=o[r.id];if(!u){u=i.zrId+"-c"+i.clipPathIdx++;var c={id:u};o[r.id]=u,a[u]=createVNode("clipPath",u,c,[brushSVGPath(r,i)])}n["clip-path"]=getIdURL(u)}function createTextNode(r){return document.createTextNode(r)}function insertBefore(r,n,i){r.insertBefore(n,i)}function removeChild(r,n){r.removeChild(n)}function appendChild(r,n){r.appendChild(n)}function parentNode(r){return r.parentNode}function nextSibling(r){return r.nextSibling}function setTextContent(r,n){r.textContent=n}var colonChar=58,xChar=120,emptyNode=createVNode("","");function isUndef(r){return r===void 0}function isDef(r){return r!==void 0}function createKeyToOldIdx(r,n,i){for(var o={},a=n;a<=i;++a){var u=r[a].key;u!==void 0&&(process.env.NODE_ENV!=="production"&&o[u]!=null&&console.error("Duplicate key "+u),o[u]=a)}return o}function sameVnode(r,n){var i=r.key===n.key,o=r.tag===n.tag;return o&&i}function createElm(r){var n,i=r.children,o=r.tag;if(isDef(o)){var a=r.elm=createElement(o);if(updateAttrs(emptyNode,r),isArray$1(i))for(n=0;n<i.length;++n){var u=i[n];u!=null&&appendChild(a,createElm(u))}else isDef(r.text)&&!isObject$3(r.text)&&appendChild(a,createTextNode(r.text))}else r.elm=createTextNode(r.text);return r.elm}function addVnodes(r,n,i,o,a){for(;o<=a;++o){var u=i[o];u!=null&&insertBefore(r,createElm(u),n)}}function removeVnodes(r,n,i,o){for(;i<=o;++i){var a=n[i];if(a!=null)if(isDef(a.tag)){var u=parentNode(a.elm);removeChild(u,a.elm)}else removeChild(r,a.elm)}}function updateAttrs(r,n){var i,o=n.elm,a=r&&r.attrs||{},u=n.attrs||{};if(a!==u){for(i in u){var c=u[i],f=a[i];f!==c&&(c===!0?o.setAttribute(i,""):c===!1?o.removeAttribute(i):i.charCodeAt(0)!==xChar?o.setAttribute(i,c):i==="xmlns:xlink"||i==="xmlns"?o.setAttributeNS(XMLNS,i,c):i.charCodeAt(3)===colonChar?o.setAttributeNS(XML_NAMESPACE,i,c):i.charCodeAt(5)===colonChar?o.setAttributeNS(XLINKNS,i,c):o.setAttribute(i,c))}for(i in a)i in u||o.removeAttribute(i)}}function updateChildren(r,n,i){for(var o=0,a=0,u=n.length-1,c=n[0],f=n[u],d=i.length-1,h=i[0],v=i[d],g,p,y,_;o<=u&&a<=d;)c==null?c=n[++o]:f==null?f=n[--u]:h==null?h=i[++a]:v==null?v=i[--d]:sameVnode(c,h)?(patchVnode(c,h),c=n[++o],h=i[++a]):sameVnode(f,v)?(patchVnode(f,v),f=n[--u],v=i[--d]):sameVnode(c,v)?(patchVnode(c,v),insertBefore(r,c.elm,nextSibling(f.elm)),c=n[++o],v=i[--d]):sameVnode(f,h)?(patchVnode(f,h),insertBefore(r,f.elm,c.elm),f=n[--u],h=i[++a]):(isUndef(g)&&(g=createKeyToOldIdx(n,o,u)),p=g[h.key],isUndef(p)?insertBefore(r,createElm(h),c.elm):(y=n[p],y.tag!==h.tag?insertBefore(r,createElm(h),c.elm):(patchVnode(y,h),n[p]=void 0,insertBefore(r,y.elm,c.elm))),h=i[++a]);(o<=u||a<=d)&&(o>u?(_=i[d+1]==null?null:i[d+1].elm,addVnodes(r,_,i,a,d)):removeVnodes(r,n,o,u))}function patchVnode(r,n){var i=n.elm=r.elm,o=r.children,a=n.children;r!==n&&(updateAttrs(r,n),isUndef(n.text)?isDef(o)&&isDef(a)?o!==a&&updateChildren(i,o,a):isDef(a)?(isDef(r.text)&&setTextContent(i,""),addVnodes(i,null,a,0,a.length-1)):isDef(o)?removeVnodes(i,o,0,o.length-1):isDef(r.text)&&setTextContent(i,""):r.text!==n.text&&(isDef(o)&&removeVnodes(i,o,0,o.length-1),setTextContent(i,n.text)))}function patch(r,n){if(sameVnode(r,n))patchVnode(r,n);else{var i=r.elm,o=parentNode(i);createElm(n),o!==null&&(insertBefore(o,n.elm,nextSibling(i)),removeVnodes(o,[r],0,0))}return n}var svgId=0,SVGPainter=function(){function r(n,i,o){if(this.type="svg",this.refreshHover=createMethodNotSupport("refreshHover"),this.configLayer=createMethodNotSupport("configLayer"),this.storage=i,this._opts=o=extend({},o),this.root=n,this._id="zr"+svgId++,this._oldVNode=createSVGVNode(o.width,o.height),n&&!o.ssr){var a=this._viewport=document.createElement("div");a.style.cssText="position:relative;overflow:hidden";var u=this._svgDom=this._oldVNode.elm=createElement("svg");updateAttrs(null,this._oldVNode),a.appendChild(u),n.appendChild(a)}this.resize(o.width,o.height)}return r.prototype.getType=function(){return this.type},r.prototype.getViewportRoot=function(){return this._viewport},r.prototype.getViewportRootOffset=function(){var n=this.getViewportRoot();if(n)return{offsetLeft:n.offsetLeft||0,offsetTop:n.offsetTop||0}},r.prototype.getSvgDom=function(){return this._svgDom},r.prototype.refresh=function(){if(this.root){var n=this.renderToVNode({willUpdate:!0});n.attrs.style="position:absolute;left:0;top:0;user-select:none",patch(this._oldVNode,n),this._oldVNode=n}},r.prototype.renderOneToVNode=function(n){return brush(n,createBrushScope(this._id))},r.prototype.renderToVNode=function(n){n=n||{};var i=this.storage.getDisplayList(!0),o=this._width,a=this._height,u=createBrushScope(this._id);u.animation=n.animation,u.willUpdate=n.willUpdate,u.compress=n.compress;var c=[],f=this._bgVNode=createBackgroundVNode(o,a,this._backgroundColor,u);f&&c.push(f);var d=n.compress?null:this._mainVNode=createVNode("g","main",{},[]);this._paintList(i,u,d?d.children:c),d&&c.push(d);var h=map$1(keys(u.defs),function(p){return u.defs[p]});if(h.length&&c.push(createVNode("defs","defs",{},h)),n.animation){var v=getCssString(u.cssNodes,u.cssAnims,{newline:!0});if(v){var g=createVNode("style","stl",{},[],v);c.push(g)}}return createSVGVNode(o,a,c,n.useViewBox)},r.prototype.renderToString=function(n){return n=n||{},vNodeToString(this.renderToVNode({animation:retrieve2(n.cssAnimation,!0),willUpdate:!1,compress:!0,useViewBox:retrieve2(n.useViewBox,!0)}),{newline:!0})},r.prototype.setBackgroundColor=function(n){this._backgroundColor=n},r.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},r.prototype._paintList=function(n,i,o){for(var a=n.length,u=[],c=0,f,d,h=0,v=0;v<a;v++){var g=n[v];if(!g.invisible){var p=g.__clipPaths,y=p&&p.length||0,_=d&&d.length||0,b=void 0;for(b=Math.max(y-1,_-1);b>=0&&!(p&&d&&p[b]===d[b]);b--);for(var A=_-1;A>b;A--)c--,f=u[c-1];for(var w=b+1;w<y;w++){var T={};setClipPath(p[w],T,i);var S=createVNode("g","clip-g-"+h++,T,[]);(f?f.children:o).push(S),u[c++]=S,f=S}d=p;var x=brush(g,i);x&&(f?f.children:o).push(x)}}},r.prototype.resize=function(n,i){var o=this._opts,a=this.root,u=this._viewport;if(n!=null&&(o.width=n),i!=null&&(o.height=i),a&&u&&(u.style.display="none",n=getSize(a,0,o),i=getSize(a,1,o),u.style.display=""),this._width!==n||this._height!==i){if(this._width=n,this._height=i,u){var c=u.style;c.width=n+"px",c.height=i+"px"}if(isPattern(this._backgroundColor))this.refresh();else{var f=this._svgDom;f&&(f.setAttribute("width",n),f.setAttribute("height",i));var d=this._bgVNode&&this._bgVNode.elm;d&&(d.setAttribute("width",n),d.setAttribute("height",i))}}},r.prototype.getWidth=function(){return this._width},r.prototype.getHeight=function(){return this._height},r.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},r.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},r.prototype.toDataURL=function(n){var i=this.renderToString(),o="data:image/svg+xml;";return n?(i=encodeBase64(i),i&&o+"base64,"+i):o+"charset=UTF-8,"+encodeURIComponent(i)},r}();function createMethodNotSupport(r){return function(){process.env.NODE_ENV!=="production"&&logError('In SVG mode painter not support method "'+r+'"')}}function createBackgroundVNode(r,n,i,o){var a;if(i&&i!=="none")if(a=createVNode("rect","bg",{width:r,height:n,x:"0",y:"0",id:"0"}),isGradient(i))setGradient({fill:i},a.attrs,"fill",o);else if(isPattern(i))setPattern({style:{fill:i},dirty:noop$1,getBoundingRect:function(){return{width:r,height:n}}},a.attrs,"fill",o);else{var u=normalizeColor(i),c=u.color,f=u.opacity;a.attrs.fill=c,f<1&&(a.attrs["fill-opacity"]=f)}return a}const SVGPainter$1=SVGPainter;function install$7(r){r.registerPainter("svg",SVGPainter$1)}var PI2=Math.PI*2,RADIAN$1=Math.PI/180;function getViewRect(r,n){return getLayoutRect(r.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})}function getBasicPieLayout(r,n){var i=getViewRect(r,n),o=r.get("center"),a=r.get("radius");isArray$1(a)||(a=[0,a]);var u=parsePercent(i.width,n.getWidth()),c=parsePercent(i.height,n.getHeight()),f=Math.min(u,c),d=parsePercent(a[0],f/2),h=parsePercent(a[1],f/2),v,g,p=r.coordinateSystem;if(p){var y=p.dataToPoint(o);v=y[0]||0,g=y[1]||0}else isArray$1(o)||(o=[o,o]),v=parsePercent(o[0],u)+i.x,g=parsePercent(o[1],c)+i.y;return{cx:v,cy:g,r0:d,r:h}}function pieLayout(r,n,i){n.eachSeriesByType(r,function(o){var a=o.getData(),u=a.mapDimension("value"),c=getViewRect(o,i),f=getBasicPieLayout(o,i),d=f.cx,h=f.cy,v=f.r,g=f.r0,p=-o.get("startAngle")*RADIAN$1,y=o.get("minAngle")*RADIAN$1,_=0;a.each(u,function(j){!isNaN(j)&&_++});var b=a.getSum(u),A=Math.PI/(b||_)*2,w=o.get("clockwise"),T=o.get("roseType"),S=o.get("stillShowZeroSum"),x=a.getDataExtent(u);x[0]=0;var O=PI2,L=0,M=p,re=w?1:-1;if(a.setLayout({viewRect:c,r:v}),a.each(u,function(j,V){var z;if(isNaN(j)){a.setItemLayout(V,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:w,cx:d,cy:h,r0:g,r:T?NaN:v});return}T!=="area"?z=b===0&&S?A:j*A:z=PI2/_,z<y?(z=y,O-=y):L+=j;var $=M+re*z;a.setItemLayout(V,{angle:z,startAngle:M,endAngle:$,clockwise:w,cx:d,cy:h,r0:g,r:T?linearMap(j,x,[g,v]):v}),M=$}),O<PI2&&_)if(O<=.001){var F=PI2/_;a.each(u,function(j,V){if(!isNaN(j)){var z=a.getItemLayout(V);z.angle=F,z.startAngle=p+re*V*F,z.endAngle=p+re*(V+1)*F}})}else A=O/L,M=p,a.each(u,function(j,V){if(!isNaN(j)){var z=a.getItemLayout(V),$=z.angle===y?y:j*A;z.startAngle=M,z.endAngle=M+re*$,M+=re*$}})})}function dataFilter(r){return{seriesType:r,reset:function(n,i){var o=i.findComponents({mainType:"legend"});if(!(!o||!o.length)){var a=n.getData();a.filterSelf(function(u){for(var c=a.getName(u),f=0;f<o.length;f++)if(!o[f].isSelected(c))return!1;return!0})}}}}var RADIAN=Math.PI/180;function adjustSingleSide(r,n,i,o,a,u,c,f,d,h){if(r.length<2)return;function v(b){for(var A=b.rB,w=A*A,T=0;T<b.list.length;T++){var S=b.list[T],x=Math.abs(S.label.y-i),O=o+S.len,L=O*O,M=Math.sqrt((1-Math.abs(x*x/w))*L),re=n+(M+S.len2)*a,F=re-S.label.x,j=S.targetTextWidth-F*a;constrainTextWidth(S,j,!0),S.label.x=re}}function g(b){for(var A={list:[],maxY:0},w={list:[],maxY:0},T=0;T<b.length;T++)if(b[T].labelAlignTo==="none"){var S=b[T],x=S.label.y>i?w:A,O=Math.abs(S.label.y-i);if(O>=x.maxY){var L=S.label.x-n-S.len2*a,M=o+S.len,re=Math.abs(L)<M?Math.sqrt(O*O/(1-L*L/M/M)):M;x.rB=re,x.maxY=O}x.list.push(S)}v(A),v(w)}for(var p=r.length,y=0;y<p;y++)if(r[y].position==="outer"&&r[y].labelAlignTo==="labelLine"){var _=r[y].label.x-h;r[y].linePoints[1][0]+=_,r[y].label.x=h}shiftLayoutOnY(r,d,d+c)&&g(r)}function avoidOverlap(r,n,i,o,a,u,c,f){for(var d=[],h=[],v=Number.MAX_VALUE,g=-Number.MAX_VALUE,p=0;p<r.length;p++){var y=r[p].label;isPositionCenter(r[p])||(y.x<n?(v=Math.min(v,y.x),d.push(r[p])):(g=Math.max(g,y.x),h.push(r[p])))}for(var p=0;p<r.length;p++){var _=r[p];if(!isPositionCenter(_)&&_.linePoints){if(_.labelStyleWidth!=null)continue;var y=_.label,b=_.linePoints,A=void 0;_.labelAlignTo==="edge"?y.x<n?A=b[2][0]-_.labelDistance-c-_.edgeDistance:A=c+a-_.edgeDistance-b[2][0]-_.labelDistance:_.labelAlignTo==="labelLine"?y.x<n?A=v-c-_.bleedMargin:A=c+a-g-_.bleedMargin:y.x<n?A=y.x-c-_.bleedMargin:A=c+a-y.x-_.bleedMargin,_.targetTextWidth=A,constrainTextWidth(_,A)}}adjustSingleSide(h,n,i,o,1,a,u,c,f,g),adjustSingleSide(d,n,i,o,-1,a,u,c,f,v);for(var p=0;p<r.length;p++){var _=r[p];if(!isPositionCenter(_)&&_.linePoints){var y=_.label,b=_.linePoints,w=_.labelAlignTo==="edge",T=y.style.padding,S=T?T[1]+T[3]:0,x=y.style.backgroundColor?0:S,O=_.rect.width+x,L=b[1][0]-b[2][0];w?y.x<n?b[2][0]=c+_.edgeDistance+O+_.labelDistance:b[2][0]=c+a-_.edgeDistance-O-_.labelDistance:(y.x<n?b[2][0]=y.x+_.labelDistance:b[2][0]=y.x-_.labelDistance,b[1][0]=b[2][0]+L),b[1][1]=b[2][1]=y.y}}}function constrainTextWidth(r,n,i){if(i===void 0&&(i=!1),r.labelStyleWidth==null){var o=r.label,a=o.style,u=r.rect,c=a.backgroundColor,f=a.padding,d=f?f[1]+f[3]:0,h=a.overflow,v=u.width+(c?0:d);if(n<v||i){var g=u.height;if(h&&h.match("break")){o.setStyle("backgroundColor",null),o.setStyle("width",n-d);var p=o.getBoundingRect();o.setStyle("width",Math.ceil(p.width)),o.setStyle("backgroundColor",c)}else{var y=n-d,_=n<v?y:i?y>r.unconstrainedWidth?null:y:null;o.setStyle("width",_)}var b=o.getBoundingRect();u.width=b.width;var A=(o.style.margin||0)+2.1;u.height=b.height+A,u.y-=(u.height-g)/2}}}function isPositionCenter(r){return r.position==="center"}function pieLabelLayout(r){var n=r.getData(),i=[],o,a,u=!1,c=(r.get("minShowLabelAngle")||0)*RADIAN,f=n.getLayout("viewRect"),d=n.getLayout("r"),h=f.width,v=f.x,g=f.y,p=f.height;function y(L){L.ignore=!0}function _(L){if(!L.ignore)return!0;for(var M in L.states)if(L.states[M].ignore===!1)return!0;return!1}n.each(function(L){var M=n.getItemGraphicEl(L),re=M.shape,F=M.getTextContent(),j=M.getTextGuideLine(),V=n.getItemModel(L),z=V.getModel("label"),$=z.get("position")||V.get(["emphasis","label","position"]),he=z.get("distanceToLabelLine"),le=z.get("alignTo"),Ie=parsePercent(z.get("edgeDistance"),h),Fe=z.get("bleedMargin"),pe=V.getModel("labelLine"),Lt=pe.get("length");Lt=parsePercent(Lt,h);var _e=pe.get("length2");if(_e=parsePercent(_e,h),Math.abs(re.endAngle-re.startAngle)<c){each$4(F.states,y),F.ignore=!0,j&&(each$4(j.states,y),j.ignore=!0);return}if(_(F)){var Et=(re.startAngle+re.endAngle)/2,Cn=Math.cos(Et),vn=Math.sin(Et),Dt,de,qe,Pt;o=re.cx,a=re.cy;var In=$==="inside"||$==="inner";if($==="center")Dt=re.cx,de=re.cy,Pt="center";else{var $e=(In?(re.r+re.r0)/2*Cn:re.r*Cn)+o,Ce=(In?(re.r+re.r0)/2*vn:re.r*vn)+a;if(Dt=$e+Cn*3,de=Ce+vn*3,!In){var ue=$e+Cn*(Lt+d-re.r),At=Ce+vn*(Lt+d-re.r),Ne=ue+(Cn<0?-1:1)*_e,Oe=At;le==="edge"?Dt=Cn<0?v+Ie:v+h-Ie:Dt=Ne+(Cn<0?-he:he),de=Oe,qe=[[$e,Ce],[ue,At],[Ne,Oe]]}Pt=In?"center":le==="edge"?Cn>0?"right":"left":Cn>0?"left":"right"}var kt=Math.PI,jt=0,_n=z.get("rotate");if(isNumber$1(_n))jt=_n*(kt/180);else if($==="center")jt=0;else if(_n==="radial"||_n===!0){var ie=Cn<0?-Et+kt:-Et;jt=ie}else if(_n==="tangential"&&$!=="outside"&&$!=="outer"){var ae=Math.atan2(Cn,vn);ae<0&&(ae=kt*2+ae);var Y=vn>0;Y&&(ae=kt+ae),jt=ae-kt}if(u=!!jt,F.x=Dt,F.y=de,F.rotation=jt,F.setStyle({verticalAlign:"middle"}),In){F.setStyle({align:Pt});var oe=F.states.select;oe&&(oe.x+=F.x,oe.y+=F.y)}else{var k=F.getBoundingRect().clone();k.applyTransform(F.getComputedTransform());var D=(F.style.margin||0)+2.1;k.y-=D/2,k.height+=D,i.push({label:F,labelLine:j,position:$,len:Lt,len2:_e,minTurnAngle:pe.get("minTurnAngle"),maxSurfaceAngle:pe.get("maxSurfaceAngle"),surfaceNormal:new Point$1(Cn,vn),linePoints:qe,textAlign:Pt,labelDistance:he,labelAlignTo:le,edgeDistance:Ie,bleedMargin:Fe,rect:k,unconstrainedWidth:k.width,labelStyleWidth:F.style.width})}M.setTextConfig({inside:In})}}),!u&&r.get("avoidLabelOverlap")&&avoidOverlap(i,o,a,d,h,p,v,g);for(var b=0;b<i.length;b++){var A=i[b],w=A.label,T=A.labelLine,S=isNaN(w.x)||isNaN(w.y);if(w){w.setStyle({align:A.textAlign}),S&&(each$4(w.states,y),w.ignore=!0);var x=w.states.select;x&&(x.x+=w.x,x.y+=w.y)}if(T){var O=A.linePoints;S||!O?(each$4(T.states,y),T.ignore=!0):(limitTurnAngle(O,A.minTurnAngle),limitSurfaceAngle(O,A.surfaceNormal,A.maxSurfaceAngle),T.setShape({points:O}),w.__hostTarget.textGuideLineConfig={anchor:new Point$1(O[0][0],O[0][1])})}}}function getSectorCornerRadius(r,n,i){var o=r.get("borderRadius");if(o==null)return i?{cornerRadius:0}:null;isArray$1(o)||(o=[o,o,o,o]);var a=Math.abs(n.r||0-n.r0||0);return{cornerRadius:map$1(o,function(u){return parsePercent$1(u,a)})}}var PiePiece=function(r){__extends(n,r);function n(i,o,a){var u=r.call(this)||this;u.z2=2;var c=new ZRText$1;return u.setTextContent(c),u.updateData(i,o,a,!0),u}return n.prototype.updateData=function(i,o,a,u){var c=this,f=i.hostModel,d=i.getItemModel(o),h=d.getModel("emphasis"),v=i.getItemLayout(o),g=extend(getSectorCornerRadius(d.getModel("itemStyle"),v,!0),v);if(isNaN(g.startAngle)){c.setShape(g);return}if(u){c.setShape(g);var p=f.getShallow("animationType");f.ecModel.ssr?(initProps(c,{scaleX:0,scaleY:0},f,{dataIndex:o,isFrom:!0}),c.originX=g.cx,c.originY=g.cy):p==="scale"?(c.shape.r=v.r0,initProps(c,{shape:{r:v.r}},f,o)):a!=null?(c.setShape({startAngle:a,endAngle:a}),initProps(c,{shape:{startAngle:v.startAngle,endAngle:v.endAngle}},f,o)):(c.shape.endAngle=v.startAngle,updateProps$1(c,{shape:{endAngle:v.endAngle}},f,o))}else saveOldStyle(c),updateProps$1(c,{shape:g},f,o);c.useStyle(i.getItemVisual(o,"style")),setStatesStylesFromModel(c,d);var y=(v.startAngle+v.endAngle)/2,_=f.get("selectedOffset"),b=Math.cos(y)*_,A=Math.sin(y)*_,w=d.getShallow("cursor");w&&c.attr("cursor",w),this._updateLabel(f,i,o),c.ensureState("emphasis").shape=extend({r:v.r+(h.get("scale")&&h.get("scaleSize")||0)},getSectorCornerRadius(h.getModel("itemStyle"),v)),extend(c.ensureState("select"),{x:b,y:A,shape:getSectorCornerRadius(d.getModel(["select","itemStyle"]),v)}),extend(c.ensureState("blur"),{shape:getSectorCornerRadius(d.getModel(["blur","itemStyle"]),v)});var T=c.getTextGuideLine(),S=c.getTextContent();T&&extend(T.ensureState("select"),{x:b,y:A}),extend(S.ensureState("select"),{x:b,y:A}),toggleHoverEmphasis(this,h.get("focus"),h.get("blurScope"),h.get("disabled"))},n.prototype._updateLabel=function(i,o,a){var u=this,c=o.getItemModel(a),f=c.getModel("labelLine"),d=o.getItemVisual(a,"style"),h=d&&d.fill,v=d&&d.opacity;setLabelStyle(u,getLabelStatesModels(c),{labelFetcher:o.hostModel,labelDataIndex:a,inheritColor:h,defaultOpacity:v,defaultText:i.getFormattedLabel(a,"normal")||o.getName(a)});var g=u.getTextContent();u.setTextConfig({position:null,rotation:null}),g.attr({z2:10});var p=i.get(["label","position"]);if(p!=="outside"&&p!=="outer")u.removeTextGuideLine();else{var y=this.getTextGuideLine();y||(y=new Polyline$1,this.setTextGuideLine(y)),setLabelLineStyle(this,getLabelLineStatesModels(c),{stroke:h,opacity:retrieve3(f.get(["lineStyle","opacity"]),v,1)})}},n}(Sector$1),PieView=function(r){__extends(n,r);function n(){var i=r!==null&&r.apply(this,arguments)||this;return i.ignoreLabelLineUpdate=!0,i}return n.prototype.render=function(i,o,a,u){var c=i.getData(),f=this._data,d=this.group,h;if(!f&&c.count()>0){for(var v=c.getItemLayout(0),g=1;isNaN(v&&v.startAngle)&&g<c.count();++g)v=c.getItemLayout(g);v&&(h=v.startAngle)}if(this._emptyCircleSector&&d.remove(this._emptyCircleSector),c.count()===0&&i.get("showEmptyCircle")){var p=new Sector$1({shape:getBasicPieLayout(i,a)});p.useStyle(i.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=p,d.add(p)}c.diff(f).add(function(y){var _=new PiePiece(c,y,h);c.setItemGraphicEl(y,_),d.add(_)}).update(function(y,_){var b=f.getItemGraphicEl(_);b.updateData(c,y,h),b.off("click"),d.add(b),c.setItemGraphicEl(y,b)}).remove(function(y){var _=f.getItemGraphicEl(y);removeElementWithFadeOut(_,i,y)}).execute(),pieLabelLayout(i),i.get("animationTypeUpdate")!=="expansion"&&(this._data=c)},n.prototype.dispose=function(){},n.prototype.containPoint=function(i,o){var a=o.getData(),u=a.getItemLayout(0);if(u){var c=i[0]-u.cx,f=i[1]-u.cy,d=Math.sqrt(c*c+f*f);return d<=u.r&&d>=u.r0}},n.type="pie",n}(ChartView$1);const PieView$1=PieView;function createSeriesDataSimply(r,n,i){n=isArray$1(n)&&{coordDimensions:n}||extend({encodeDefine:r.getEncode()},n);var o=r.getSource(),a=prepareSeriesDataSchema(o,n).dimensions,u=new SeriesData$1(a,r);return u.initData(o,i),u}var LegendVisualProvider=function(){function r(n,i){this._getDataWithEncodedVisual=n,this._getRawData=i}return r.prototype.getAllNames=function(){var n=this._getRawData();return n.mapArray(n.getName)},r.prototype.containName=function(n){var i=this._getRawData();return i.indexOfName(n)>=0},r.prototype.indexOfName=function(n){var i=this._getDataWithEncodedVisual();return i.indexOfName(n)},r.prototype.getItemVisual=function(n,i){var o=this._getDataWithEncodedVisual();return o.getItemVisual(n,i)},r}();const LegendVisualProvider$1=LegendVisualProvider;var innerData=makeInner(),PieSeriesModel=function(r){__extends(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return n.prototype.init=function(i){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider$1(bind$1(this.getData,this),bind$1(this.getRawData,this)),this._defaultLabelLine(i)},n.prototype.mergeOption=function(){r.prototype.mergeOption.apply(this,arguments)},n.prototype.getInitialData=function(){return createSeriesDataSimply(this,{coordDimensions:["value"],encodeDefaulter:curry$1(makeSeriesEncodeForNameBased,this)})},n.prototype.getDataParams=function(i){var o=this.getData(),a=innerData(o),u=a.seats;if(!u){var c=[];o.each(o.mapDimension("value"),function(d){c.push(d)}),u=a.seats=getPercentSeats(c,o.hostModel.get("percentPrecision"))}var f=r.prototype.getDataParams.call(this,i);return f.percent=u[i]||0,f.$vars.push("percent"),f},n.prototype._defaultLabelLine=function(i){defaultEmphasis(i,"labelLine",["show"]);var o=i.labelLine,a=i.emphasis.labelLine;o.show=o.show&&i.label.show,a.show=a.show&&i.emphasis.label.show},n.type="series.pie",n.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},n}(SeriesModel$1);const PieSeriesModel$1=PieSeriesModel;function negativeDataFilter(r){return{seriesType:r,reset:function(n,i){var o=n.getData();o.filterSelf(function(a){var u=o.mapDimension("value"),c=o.get(u,a);return!(isNumber$1(c)&&!isNaN(c)&&c<0)})}}}function install$6(r){r.registerChartView(PieView$1),r.registerSeriesModel(PieSeriesModel$1),createLegacyDataSelectAction("pie",r.registerAction),r.registerLayout(curry$1(pieLayout,"pie")),r.registerProcessor(dataFilter("pie")),r.registerProcessor(negativeDataFilter("pie"))}function layout(r,n,i){i=i||{};var o=r.coordinateSystem,a=n.axis,u={},c=a.getAxesOnZeroOf()[0],f=a.position,d=c?"onZero":f,h=a.dim,v=o.getRect(),g=[v.x,v.x+v.width,v.y,v.y+v.height],p={left:0,right:1,top:0,bottom:1,onZero:2},y=n.get("offset")||0,_=h==="x"?[g[2]-y,g[3]+y]:[g[0]-y,g[1]+y];if(c){var b=c.toGlobalCoord(c.dataToCoord(0));_[p.onZero]=Math.max(Math.min(b,_[1]),_[0])}u.position=[h==="y"?_[p[d]]:g[0],h==="x"?_[p[d]]:g[3]],u.rotation=Math.PI/2*(h==="x"?0:1);var A={top:-1,bottom:1,left:-1,right:1};u.labelDirection=u.tickDirection=u.nameDirection=A[f],u.labelOffset=c?_[p[f]]-_[p.onZero]:0,n.get(["axisTick","inside"])&&(u.tickDirection=-u.tickDirection),retrieve(i.labelInside,n.get(["axisLabel","inside"]))&&(u.labelDirection=-u.labelDirection);var w=n.get(["axisLabel","rotate"]);return u.labelRotate=d==="top"?-w:w,u.z2=1,u}var PI=Math.PI,AxisBuilder=function(){function r(n,i){this.group=new Group$3,this.opt=i,this.axisModel=n,defaults(i,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var o=new Group$3({x:i.position[0],y:i.position[1],rotation:i.rotation});o.updateTransform(),this._transformGroup=o}return r.prototype.hasBuilder=function(n){return!!builders[n]},r.prototype.add=function(n){builders[n](this.opt,this.axisModel,this.group,this._transformGroup)},r.prototype.getGroup=function(){return this.group},r.innerTextLayout=function(n,i,o){var a=remRadian(i-n),u,c;return isRadianAroundZero(a)?(c=o>0?"top":"bottom",u="center"):isRadianAroundZero(a-PI)?(c=o>0?"bottom":"top",u="center"):(c="middle",a>0&&a<PI?u=o>0?"right":"left":u=o>0?"left":"right"),{rotation:a,textAlign:u,textVerticalAlign:c}},r.makeAxisEventDataBase=function(n){var i={componentType:n.mainType,componentIndex:n.componentIndex};return i[n.mainType+"Index"]=n.componentIndex,i},r.isLabelSilent=function(n){var i=n.get("tooltip");return n.get("silent")||!(n.get("triggerEvent")||i&&i.show)},r}(),builders={axisLine:function(r,n,i,o){var a=n.get(["axisLine","show"]);if(a==="auto"&&r.handleAutoShown&&(a=r.handleAutoShown("axisLine")),!!a){var u=n.axis.getExtent(),c=o.transform,f=[u[0],0],d=[u[1],0],h=f[0]>d[0];c&&(applyTransform$1(f,f,c),applyTransform$1(d,d,c));var v=extend({lineCap:"round"},n.getModel(["axisLine","lineStyle"]).getLineStyle()),g=new Line$1({shape:{x1:f[0],y1:f[1],x2:d[0],y2:d[1]},style:v,strokeContainThreshold:r.strokeContainThreshold||5,silent:!0,z2:1});subPixelOptimizeLine(g.shape,g.style.lineWidth),g.anid="line",i.add(g);var p=n.get(["axisLine","symbol"]);if(p!=null){var y=n.get(["axisLine","symbolSize"]);isString$2(p)&&(p=[p,p]),(isString$2(y)||isNumber$1(y))&&(y=[y,y]);var _=normalizeSymbolOffset(n.get(["axisLine","symbolOffset"])||0,y),b=y[0],A=y[1];each$4([{rotate:r.rotation+Math.PI/2,offset:_[0],r:0},{rotate:r.rotation-Math.PI/2,offset:_[1],r:Math.sqrt((f[0]-d[0])*(f[0]-d[0])+(f[1]-d[1])*(f[1]-d[1]))}],function(w,T){if(p[T]!=="none"&&p[T]!=null){var S=createSymbol(p[T],-b/2,-A/2,b,A,v.stroke,!0),x=w.r+w.offset,O=h?d:f;S.attr({rotation:w.rotate,x:O[0]+x*Math.cos(r.rotation),y:O[1]-x*Math.sin(r.rotation),silent:!0,z2:11}),i.add(S)}})}}},axisTickLabel:function(r,n,i,o){var a=buildAxisMajorTicks(i,o,n,r),u=buildAxisLabel(i,o,n,r);if(fixMinMaxLabelShow(n,u,a),buildAxisMinorTicks(i,o,n,r.tickDirection),n.get(["axisLabel","hideOverlap"])){var c=prepareLayoutList(map$1(u,function(f){return{label:f,priority:f.z2,defaultAttr:{ignore:f.ignore}}}));hideOverlap(c)}},axisName:function(r,n,i,o){var a=retrieve(r.axisName,n.get("name"));if(a){var u=n.get("nameLocation"),c=r.nameDirection,f=n.getModel("nameTextStyle"),d=n.get("nameGap")||0,h=n.axis.getExtent(),v=h[0]>h[1]?-1:1,g=[u==="start"?h[0]-v*d:u==="end"?h[1]+v*d:(h[0]+h[1])/2,isNameLocationCenter(u)?r.labelOffset+c*d:0],p,y=n.get("nameRotate");y!=null&&(y=y*PI/180);var _;isNameLocationCenter(u)?p=AxisBuilder.innerTextLayout(r.rotation,y??r.rotation,c):(p=endTextLayout(r.rotation,u,y||0,h),_=r.axisNameAvailableWidth,_!=null&&(_=Math.abs(_/Math.sin(p.rotation)),!isFinite(_)&&(_=null)));var b=f.getFont(),A=n.get("nameTruncate",!0)||{},w=A.ellipsis,T=retrieve(r.nameTruncateMaxWidth,A.maxWidth,_),S=new ZRText$1({x:g[0],y:g[1],rotation:p.rotation,silent:AxisBuilder.isLabelSilent(n),style:createTextStyle(f,{text:a,font:b,overflow:"truncate",width:T,ellipsis:w,fill:f.getTextColor()||n.get(["axisLine","lineStyle","color"]),align:f.get("align")||p.textAlign,verticalAlign:f.get("verticalAlign")||p.textVerticalAlign}),z2:1});if(setTooltipConfig({el:S,componentModel:n,itemName:a}),S.__fullText=a,S.anid="name",n.get("triggerEvent")){var x=AxisBuilder.makeAxisEventDataBase(n);x.targetType="axisName",x.name=a,getECData(S).eventData=x}o.add(S),S.updateTransform(),i.add(S),S.decomposeTransform()}}};function endTextLayout(r,n,i,o){var a=remRadian(i-r),u,c,f=o[0]>o[1],d=n==="start"&&!f||n!=="start"&&f;return isRadianAroundZero(a-PI/2)?(c=d?"bottom":"top",u="center"):isRadianAroundZero(a-PI*1.5)?(c=d?"top":"bottom",u="center"):(c="middle",a<PI*1.5&&a>PI/2?u=d?"left":"right":u=d?"right":"left"),{rotation:a,textAlign:u,textVerticalAlign:c}}function fixMinMaxLabelShow(r,n,i){if(!shouldShowAllLabels(r.axis)){var o=r.get(["axisLabel","showMinLabel"]),a=r.get(["axisLabel","showMaxLabel"]);n=n||[],i=i||[];var u=n[0],c=n[1],f=n[n.length-1],d=n[n.length-2],h=i[0],v=i[1],g=i[i.length-1],p=i[i.length-2];o===!1?(ignoreEl(u),ignoreEl(h)):isTwoLabelOverlapped(u,c)&&(o?(ignoreEl(c),ignoreEl(v)):(ignoreEl(u),ignoreEl(h))),a===!1?(ignoreEl(f),ignoreEl(g)):isTwoLabelOverlapped(d,f)&&(a?(ignoreEl(d),ignoreEl(p)):(ignoreEl(f),ignoreEl(g)))}}function ignoreEl(r){r&&(r.ignore=!0)}function isTwoLabelOverlapped(r,n){var i=r&&r.getBoundingRect().clone(),o=n&&n.getBoundingRect().clone();if(!(!i||!o)){var a=identity$1([]);return rotate(a,a,-r.rotation),i.applyTransform(mul([],a,r.getLocalTransform())),o.applyTransform(mul([],a,n.getLocalTransform())),i.intersect(o)}}function isNameLocationCenter(r){return r==="middle"||r==="center"}function createTicks(r,n,i,o,a){for(var u=[],c=[],f=[],d=0;d<r.length;d++){var h=r[d].coord;c[0]=h,c[1]=0,f[0]=h,f[1]=i,n&&(applyTransform$1(c,c,n),applyTransform$1(f,f,n));var v=new Line$1({shape:{x1:c[0],y1:c[1],x2:f[0],y2:f[1]},style:o,z2:2,autoBatch:!0,silent:!0});subPixelOptimizeLine(v.shape,v.style.lineWidth),v.anid=a+"_"+r[d].tickValue,u.push(v)}return u}function buildAxisMajorTicks(r,n,i,o){var a=i.axis,u=i.getModel("axisTick"),c=u.get("show");if(c==="auto"&&o.handleAutoShown&&(c=o.handleAutoShown("axisTick")),!(!c||a.scale.isBlank())){for(var f=u.getModel("lineStyle"),d=o.tickDirection*u.get("length"),h=a.getTicksCoords(),v=createTicks(h,n.transform,d,defaults(f.getLineStyle(),{stroke:i.get(["axisLine","lineStyle","color"])}),"ticks"),g=0;g<v.length;g++)r.add(v[g]);return v}}function buildAxisMinorTicks(r,n,i,o){var a=i.axis,u=i.getModel("minorTick");if(!(!u.get("show")||a.scale.isBlank())){var c=a.getMinorTicksCoords();if(c.length)for(var f=u.getModel("lineStyle"),d=o*u.get("length"),h=defaults(f.getLineStyle(),defaults(i.getModel("axisTick").getLineStyle(),{stroke:i.get(["axisLine","lineStyle","color"])})),v=0;v<c.length;v++)for(var g=createTicks(c[v],n.transform,d,h,"minorticks_"+v),p=0;p<g.length;p++)r.add(g[p])}}function buildAxisLabel(r,n,i,o){var a=i.axis,u=retrieve(o.axisLabelShow,i.get(["axisLabel","show"]));if(!(!u||a.scale.isBlank())){var c=i.getModel("axisLabel"),f=c.get("margin"),d=a.getViewLabels(),h=(retrieve(o.labelRotate,c.get("rotate"))||0)*PI/180,v=AxisBuilder.innerTextLayout(o.rotation,h,o.labelDirection),g=i.getCategories&&i.getCategories(!0),p=[],y=AxisBuilder.isLabelSilent(i),_=i.get("triggerEvent");return each$4(d,function(b,A){var w=a.scale.type==="ordinal"?a.scale.getRawOrdinalNumber(b.tickValue):b.tickValue,T=b.formattedLabel,S=b.rawLabel,x=c;if(g&&g[w]){var O=g[w];isObject$3(O)&&O.textStyle&&(x=new Model$1(O.textStyle,c,i.ecModel))}var L=x.getTextColor()||i.get(["axisLine","lineStyle","color"]),M=a.dataToCoord(w),re=new ZRText$1({x:M,y:o.labelOffset+o.labelDirection*f,rotation:v.rotation,silent:y,z2:10+(b.level||0),style:createTextStyle(x,{text:T,align:x.getShallow("align",!0)||v.textAlign,verticalAlign:x.getShallow("verticalAlign",!0)||x.getShallow("baseline",!0)||v.textVerticalAlign,fill:isFunction$1(L)?L(a.type==="category"?S:a.type==="value"?w+"":w,A):L})});if(re.anid="label_"+w,_){var F=AxisBuilder.makeAxisEventDataBase(i);F.targetType="axisLabel",F.value=S,F.tickIndex=A,a.type==="category"&&(F.dataIndex=w),getECData(re).eventData=F}n.add(re),re.updateTransform(),p.push(re),r.add(re),re.decomposeTransform()}),p}}const AxisBuilder$1=AxisBuilder;function collect(r,n){var i={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return collectAxesInfo(i,r,n),i.seriesInvolved&&collectSeriesInfo(i,r),i}function collectAxesInfo(r,n,i){var o=n.getComponent("tooltip"),a=n.getComponent("axisPointer"),u=a.get("link",!0)||[],c=[];each$4(i.getCoordinateSystems(),function(f){if(!f.axisPointerEnabled)return;var d=makeKey(f.model),h=r.coordSysAxesInfo[d]={};r.coordSysMap[d]=f;var v=f.model,g=v.getModel("tooltip",o);if(each$4(f.getAxes(),curry$1(b,!1,null)),f.getTooltipAxes&&o&&g.get("show")){var p=g.get("trigger")==="axis",y=g.get(["axisPointer","type"])==="cross",_=f.getTooltipAxes(g.get(["axisPointer","axis"]));(p||y)&&each$4(_.baseAxes,curry$1(b,y?"cross":!0,p)),y&&each$4(_.otherAxes,curry$1(b,"cross",!1))}function b(A,w,T){var S=T.model.getModel("axisPointer",a),x=S.get("show");if(!(!x||x==="auto"&&!A&&!isHandleTrigger(S))){w==null&&(w=S.get("triggerTooltip")),S=A?makeAxisPointerModel(T,g,a,n,A,w):S;var O=S.get("snap"),L=makeKey(T.model),M=w||O||T.type==="category",re=r.axesInfo[L]={key:L,axis:T,coordSys:f,axisPointerModel:S,triggerTooltip:w,involveSeries:M,snap:O,useHandle:isHandleTrigger(S),seriesModels:[],linkGroup:null};h[L]=re,r.seriesInvolved=r.seriesInvolved||M;var F=getLinkGroupIndex(u,T);if(F!=null){var j=c[F]||(c[F]={axesInfo:{}});j.axesInfo[L]=re,j.mapper=u[F].mapper,re.linkGroup=j}}}})}function makeAxisPointerModel(r,n,i,o,a,u){var c=n.getModel("axisPointer"),f=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],d={};each$4(f,function(p){d[p]=clone$2(c.get(p))}),d.snap=r.type!=="category"&&!!u,c.get("type")==="cross"&&(d.type="line");var h=d.label||(d.label={});if(h.show==null&&(h.show=!1),a==="cross"){var v=c.get(["label","show"]);if(h.show=v??!0,!u){var g=d.lineStyle=c.get("crossStyle");g&&defaults(h,g.textStyle)}}return r.model.getModel("axisPointer",new Model$1(d,i,o))}function collectSeriesInfo(r,n){n.eachSeries(function(i){var o=i.coordinateSystem,a=i.get(["tooltip","trigger"],!0),u=i.get(["tooltip","show"],!0);!o||a==="none"||a===!1||a==="item"||u===!1||i.get(["axisPointer","show"],!0)===!1||each$4(r.coordSysAxesInfo[makeKey(o.model)],function(c){var f=c.axis;o.getAxis(f.dim)===f&&(c.seriesModels.push(i),c.seriesDataCount==null&&(c.seriesDataCount=0),c.seriesDataCount+=i.getData().count())})})}function getLinkGroupIndex(r,n){for(var i=n.model,o=n.dim,a=0;a<r.length;a++){var u=r[a]||{};if(checkPropInLink(u[o+"AxisId"],i.id)||checkPropInLink(u[o+"AxisIndex"],i.componentIndex)||checkPropInLink(u[o+"AxisName"],i.name))return a}}function checkPropInLink(r,n){return r==="all"||isArray$1(r)&&indexOf(r,n)>=0||r===n}function fixValue(r){var n=getAxisInfo(r);if(n){var i=n.axisPointerModel,o=n.axis.scale,a=i.option,u=i.get("status"),c=i.get("value");c!=null&&(c=o.parse(c));var f=isHandleTrigger(i);u==null&&(a.status=f?"show":"hide");var d=o.getExtent().slice();d[0]>d[1]&&d.reverse(),(c==null||c>d[1])&&(c=d[1]),c<d[0]&&(c=d[0]),a.value=c,f&&(a.status=n.axis.scale.isBlank()?"hide":"show")}}function getAxisInfo(r){var n=(r.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return n&&n.axesInfo[makeKey(r)]}function getAxisPointerModel(r){var n=getAxisInfo(r);return n&&n.axisPointerModel}function isHandleTrigger(r){return!!r.get(["handle","show"])}function makeKey(r){return r.type+"||"+r.id}var axisPointerClazz={},AxisView=function(r){__extends(n,r);function n(){var i=r!==null&&r.apply(this,arguments)||this;return i.type=n.type,i}return n.prototype.render=function(i,o,a,u){this.axisPointerClass&&fixValue(i),r.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(i,a,!0)},n.prototype.updateAxisPointer=function(i,o,a,u){this._doUpdateAxisPointerClass(i,a,!1)},n.prototype.remove=function(i,o){var a=this._axisPointer;a&&a.remove(o)},n.prototype.dispose=function(i,o){this._disposeAxisPointer(o),r.prototype.dispose.apply(this,arguments)},n.prototype._doUpdateAxisPointerClass=function(i,o,a){var u=n.getAxisPointerClass(this.axisPointerClass);if(u){var c=getAxisPointerModel(i);c?(this._axisPointer||(this._axisPointer=new u)).render(i,c,o,a):this._disposeAxisPointer(o)}},n.prototype._disposeAxisPointer=function(i){this._axisPointer&&this._axisPointer.dispose(i),this._axisPointer=null},n.registerAxisPointerClass=function(i,o){if(process.env.NODE_ENV!=="production"&&axisPointerClazz[i])throw new Error("axisPointer "+i+" exists");axisPointerClazz[i]=o},n.getAxisPointerClass=function(i){return i&&axisPointerClazz[i]},n.type="axis",n}(ComponentView$1);const AxisView$1=AxisView;var inner$2=makeInner(),clone=clone$2,bind=bind$1,BaseAxisPointer=function(){function r(){this._dragging=!1,this.animationThreshold=15}return r.prototype.render=function(n,i,o,a){var u=i.get("value"),c=i.get("status");if(this._axisModel=n,this._axisPointerModel=i,this._api=o,!(!a&&this._lastValue===u&&this._lastStatus===c)){this._lastValue=u,this._lastStatus=c;var f=this._group,d=this._handle;if(!c||c==="hide"){f&&f.hide(),d&&d.hide();return}f&&f.show(),d&&d.show();var h={};this.makeElOption(h,u,n,i,o);var v=h.graphicKey;v!==this._lastGraphicKey&&this.clear(o),this._lastGraphicKey=v;var g=this._moveAnimation=this.determineAnimation(n,i);if(!f)f=this._group=new Group$3,this.createPointerEl(f,h,n,i),this.createLabelEl(f,h,n,i),o.getZr().add(f);else{var p=curry$1(updateProps,i,g);this.updatePointerEl(f,h,p),this.updateLabelEl(f,h,p,i)}updateMandatoryProps(f,i,!0),this._renderHandle(u)}},r.prototype.remove=function(n){this.clear(n)},r.prototype.dispose=function(n){this.clear(n)},r.prototype.determineAnimation=function(n,i){var o=i.get("animation"),a=n.axis,u=a.type==="category",c=i.get("snap");if(!c&&!u)return!1;if(o==="auto"||o==null){var f=this.animationThreshold;if(u&&a.getBandWidth()>f)return!0;if(c){var d=getAxisInfo(n).seriesDataCount,h=a.getExtent();return Math.abs(h[0]-h[1])/d>f}return!1}return o===!0},r.prototype.makeElOption=function(n,i,o,a,u){},r.prototype.createPointerEl=function(n,i,o,a){var u=i.pointer;if(u){var c=inner$2(n).pointerEl=new graphic[u.type](clone(i.pointer));n.add(c)}},r.prototype.createLabelEl=function(n,i,o,a){if(i.label){var u=inner$2(n).labelEl=new ZRText$1(clone(i.label));n.add(u),updateLabelShowHide(u,a)}},r.prototype.updatePointerEl=function(n,i,o){var a=inner$2(n).pointerEl;a&&i.pointer&&(a.setStyle(i.pointer.style),o(a,{shape:i.pointer.shape}))},r.prototype.updateLabelEl=function(n,i,o,a){var u=inner$2(n).labelEl;u&&(u.setStyle(i.label.style),o(u,{x:i.label.x,y:i.label.y}),updateLabelShowHide(u,a))},r.prototype._renderHandle=function(n){if(!(this._dragging||!this.updateHandleTransform)){var i=this._axisPointerModel,o=this._api.getZr(),a=this._handle,u=i.getModel("handle"),c=i.get("status");if(!u.get("show")||!c||c==="hide"){a&&o.remove(a),this._handle=null;return}var f;this._handle||(f=!0,a=this._handle=createIcon(u.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(h){stop(h.event)},onmousedown:bind(this._onHandleDragMove,this,0,0),drift:bind(this._onHandleDragMove,this),ondragend:bind(this._onHandleDragEnd,this)}),o.add(a)),updateMandatoryProps(a,i,!1),a.setStyle(u.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var d=u.get("size");isArray$1(d)||(d=[d,d]),a.scaleX=d[0]/2,a.scaleY=d[1]/2,createOrUpdate(this,"_doDispatchAxisPointer",u.get("throttle")||0,"fixRate"),this._moveHandleToValue(n,f)}},r.prototype._moveHandleToValue=function(n,i){updateProps(this._axisPointerModel,!i&&this._moveAnimation,this._handle,getHandleTransProps(this.getHandleTransform(n,this._axisModel,this._axisPointerModel)))},r.prototype._onHandleDragMove=function(n,i){var o=this._handle;if(o){this._dragging=!0;var a=this.updateHandleTransform(getHandleTransProps(o),[n,i],this._axisModel,this._axisPointerModel);this._payloadInfo=a,o.stopAnimation(),o.attr(getHandleTransProps(a)),inner$2(o).lastProp=null,this._doDispatchAxisPointer()}},r.prototype._doDispatchAxisPointer=function(){var n=this._handle;if(n){var i=this._payloadInfo,o=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:i.cursorPoint[0],y:i.cursorPoint[1],tooltipOption:i.tooltipOption,axesInfo:[{axisDim:o.axis.dim,axisIndex:o.componentIndex}]})}},r.prototype._onHandleDragEnd=function(){this._dragging=!1;var n=this._handle;if(n){var i=this._axisPointerModel.get("value");this._moveHandleToValue(i),this._api.dispatchAction({type:"hideTip"})}},r.prototype.clear=function(n){this._lastValue=null,this._lastStatus=null;var i=n.getZr(),o=this._group,a=this._handle;i&&o&&(this._lastGraphicKey=null,o&&i.remove(o),a&&i.remove(a),this._group=null,this._handle=null,this._payloadInfo=null),clear(this,"_doDispatchAxisPointer")},r.prototype.doClear=function(){},r.prototype.buildLabel=function(n,i,o){return o=o||0,{x:n[o],y:n[1-o],width:i[o],height:i[1-o]}},r}();function updateProps(r,n,i,o){propsEqual(inner$2(i).lastProp,o)||(inner$2(i).lastProp=o,n?updateProps$1(i,o,r):(i.stopAnimation(),i.attr(o)))}function propsEqual(r,n){if(isObject$3(r)&&isObject$3(n)){var i=!0;return each$4(n,function(o,a){i=i&&propsEqual(r[a],o)}),!!i}else return r===n}function updateLabelShowHide(r,n){r[n.get(["label","show"])?"show":"hide"]()}function getHandleTransProps(r){return{x:r.x||0,y:r.y||0,rotation:r.rotation||0}}function updateMandatoryProps(r,n,i){var o=n.get("z"),a=n.get("zlevel");r&&r.traverse(function(u){u.type!=="group"&&(o!=null&&(u.z=o),a!=null&&(u.zlevel=a),u.silent=i)})}const BaseAxisPointer$1=BaseAxisPointer;function buildElStyle(r){var n=r.get("type"),i=r.getModel(n+"Style"),o;return n==="line"?(o=i.getLineStyle(),o.fill=null):n==="shadow"&&(o=i.getAreaStyle(),o.stroke=null),o}function buildLabelElOption(r,n,i,o,a){var u=i.get("value"),c=getValueLabel(u,n.axis,n.ecModel,i.get("seriesDataIndices"),{precision:i.get(["label","precision"]),formatter:i.get(["label","formatter"])}),f=i.getModel("label"),d=normalizeCssArray(f.get("padding")||0),h=f.getFont(),v=getBoundingRect(c,h),g=a.position,p=v.width+d[1]+d[3],y=v.height+d[0]+d[2],_=a.align;_==="right"&&(g[0]-=p),_==="center"&&(g[0]-=p/2);var b=a.verticalAlign;b==="bottom"&&(g[1]-=y),b==="middle"&&(g[1]-=y/2),confineInContainer(g,p,y,o);var A=f.get("backgroundColor");(!A||A==="auto")&&(A=n.get(["axisLine","lineStyle","color"])),r.label={x:g[0],y:g[1],style:createTextStyle(f,{text:c,font:h,fill:f.getTextColor(),padding:d,backgroundColor:A}),z2:10}}function confineInContainer(r,n,i,o){var a=o.getWidth(),u=o.getHeight();r[0]=Math.min(r[0]+n,a)-n,r[1]=Math.min(r[1]+i,u)-i,r[0]=Math.max(r[0],0),r[1]=Math.max(r[1],0)}function getValueLabel(r,n,i,o,a){r=n.scale.parse(r);var u=n.scale.getLabel({value:r},{precision:a.precision}),c=a.formatter;if(c){var f={value:getAxisRawValue(n,{value:r}),axisDimension:n.dim,axisIndex:n.index,seriesData:[]};each$4(o,function(d){var h=i.getSeriesByIndex(d.seriesIndex),v=d.dataIndexInside,g=h&&h.getDataParams(v);g&&f.seriesData.push(g)}),isString$2(c)?u=c.replace("{value}",u):isFunction$1(c)&&(u=c(f))}return u}function getTransformedPosition(r,n,i){var o=create();return rotate(o,o,i.rotation),translate$1(o,o,i.position),applyTransform([r.dataToCoord(n),(i.labelOffset||0)+(i.labelDirection||1)*(i.labelMargin||0)],o)}function buildCartesianSingleLabelElOption(r,n,i,o,a,u){var c=AxisBuilder$1.innerTextLayout(i.rotation,0,i.labelDirection);i.labelMargin=a.get(["label","margin"]),buildLabelElOption(n,o,a,u,{position:getTransformedPosition(o.axis,r,i),align:c.textAlign,verticalAlign:c.textVerticalAlign})}function makeLineShape(r,n,i){return i=i||0,{x1:r[i],y1:r[1-i],x2:n[i],y2:n[1-i]}}function makeRectShape(r,n,i){return i=i||0,{x:r[i],y:r[1-i],width:n[i],height:n[1-i]}}var CartesianAxisPointer=function(r){__extends(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return n.prototype.makeElOption=function(i,o,a,u,c){var f=a.axis,d=f.grid,h=u.get("type"),v=getCartesian(d,f).getOtherAxis(f).getGlobalExtent(),g=f.toGlobalCoord(f.dataToCoord(o,!0));if(h&&h!=="none"){var p=buildElStyle(u),y=pointerShapeBuilder[h](f,g,v);y.style=p,i.graphicKey=y.type,i.pointer=y}var _=layout(d.model,a);buildCartesianSingleLabelElOption(o,i,_,a,u,c)},n.prototype.getHandleTransform=function(i,o,a){var u=layout(o.axis.grid.model,o,{labelInside:!1});u.labelMargin=a.get(["handle","margin"]);var c=getTransformedPosition(o.axis,i,u);return{x:c[0],y:c[1],rotation:u.rotation+(u.labelDirection<0?Math.PI:0)}},n.prototype.updateHandleTransform=function(i,o,a,u){var c=a.axis,f=c.grid,d=c.getGlobalExtent(!0),h=getCartesian(f,c).getOtherAxis(c).getGlobalExtent(),v=c.dim==="x"?0:1,g=[i.x,i.y];g[v]+=o[v],g[v]=Math.min(d[1],g[v]),g[v]=Math.max(d[0],g[v]);var p=(h[1]+h[0])/2,y=[p,p];y[v]=g[v];var _=[{verticalAlign:"middle"},{align:"center"}];return{x:g[0],y:g[1],rotation:i.rotation,cursorPoint:y,tooltipOption:_[v]}},n}(BaseAxisPointer$1);function getCartesian(r,n){var i={};return i[n.dim+"AxisIndex"]=n.index,r.getCartesian(i)}var pointerShapeBuilder={line:function(r,n,i){var o=makeLineShape([n,i[0]],[n,i[1]],getAxisDimIndex(r));return{type:"Line",subPixelOptimize:!0,shape:o}},shadow:function(r,n,i){var o=Math.max(1,r.getBandWidth()),a=i[1]-i[0];return{type:"Rect",shape:makeRectShape([n-o/2,i[0]],[o,a],getAxisDimIndex(r))}}};function getAxisDimIndex(r){return r.dim==="x"?0:1}const CartesianAxisPointer$1=CartesianAxisPointer;var AxisPointerModel=function(r){__extends(n,r);function n(){var i=r!==null&&r.apply(this,arguments)||this;return i.type=n.type,i}return n.type="axisPointer",n.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},n}(ComponentModel$1);const AxisPointerModel$1=AxisPointerModel;var inner$1=makeInner(),each$1=each$4;function register(r,n,i){if(!env$1.node){var o=n.getZr();inner$1(o).records||(inner$1(o).records={}),initGlobalListeners(o,n);var a=inner$1(o).records[r]||(inner$1(o).records[r]={});a.handler=i}}function initGlobalListeners(r,n){if(inner$1(r).initialized)return;inner$1(r).initialized=!0,i("click",curry$1(doEnter,"click")),i("mousemove",curry$1(doEnter,"mousemove")),i("globalout",onLeave);function i(o,a){r.on(o,function(u){var c=makeDispatchAction$1(n);each$1(inner$1(r).records,function(f){f&&a(f,u,c.dispatchAction)}),dispatchTooltipFinally(c.pendings,n)})}}function dispatchTooltipFinally(r,n){var i=r.showTip.length,o=r.hideTip.length,a;i?a=r.showTip[i-1]:o&&(a=r.hideTip[o-1]),a&&(a.dispatchAction=null,n.dispatchAction(a))}function onLeave(r,n,i){r.handler("leave",null,i)}function doEnter(r,n,i,o){n.handler(r,i,o)}function makeDispatchAction$1(r){var n={showTip:[],hideTip:[]},i=function(o){var a=n[o.type];a?a.push(o):(o.dispatchAction=i,r.dispatchAction(o))};return{dispatchAction:i,pendings:n}}function unregister(r,n){if(!env$1.node){var i=n.getZr(),o=(inner$1(i).records||{})[r];o&&(inner$1(i).records[r]=null)}}var AxisPointerView=function(r){__extends(n,r);function n(){var i=r!==null&&r.apply(this,arguments)||this;return i.type=n.type,i}return n.prototype.render=function(i,o,a){var u=o.getComponent("tooltip"),c=i.get("triggerOn")||u&&u.get("triggerOn")||"mousemove|click";register("axisPointer",a,function(f,d,h){c!=="none"&&(f==="leave"||c.indexOf(f)>=0)&&h({type:"updateAxisPointer",currTrigger:f,x:d&&d.offsetX,y:d&&d.offsetY})})},n.prototype.remove=function(i,o){unregister("axisPointer",o)},n.prototype.dispose=function(i,o){unregister("axisPointer",o)},n.type="axisPointer",n}(ComponentView$1);const AxisPointerView$1=AxisPointerView;function findPointFromSeries(r,n){var i=[],o=r.seriesIndex,a;if(o==null||!(a=n.getSeriesByIndex(o)))return{point:[]};var u=a.getData(),c=queryDataIndex(u,r);if(c==null||c<0||isArray$1(c))return{point:[]};var f=u.getItemGraphicEl(c),d=a.coordinateSystem;if(a.getTooltipPosition)i=a.getTooltipPosition(c)||[];else if(d&&d.dataToPoint)if(r.isStacked){var h=d.getBaseAxis(),v=d.getOtherAxis(h),g=v.dim,p=h.dim,y=g==="x"||g==="radius"?1:0,_=u.mapDimension(p),b=[];b[y]=u.get(_,c),b[1-y]=u.get(u.getCalculationInfo("stackResultDimension"),c),i=d.dataToPoint(b)||[]}else i=d.dataToPoint(u.getValues(map$1(d.dimensions,function(w){return u.mapDimension(w)}),c))||[];else if(f){var A=f.getBoundingRect().clone();A.applyTransform(f.transform),i=[A.x+A.width/2,A.y+A.height/2]}return{point:i,el:f}}var inner=makeInner();function axisTrigger(r,n,i){var o=r.currTrigger,a=[r.x,r.y],u=r,c=r.dispatchAction||bind$1(i.dispatchAction,i),f=n.getComponent("axisPointer").coordSysAxesInfo;if(f){illegalPoint(a)&&(a=findPointFromSeries({seriesIndex:u.seriesIndex,dataIndex:u.dataIndex},n).point);var d=illegalPoint(a),h=u.axesInfo,v=f.axesInfo,g=o==="leave"||illegalPoint(a),p={},y={},_={list:[],map:{}},b={showPointer:curry$1(showPointer,y),showTooltip:curry$1(showTooltip,_)};each$4(f.coordSysMap,function(w,T){var S=d||w.containPoint(a);each$4(f.coordSysAxesInfo[T],function(x,O){var L=x.axis,M=findInputAxisInfo(h,x);if(!g&&S&&(!h||M)){var re=M&&M.value;re==null&&!d&&(re=L.pointToData(a)),re!=null&&processOnAxis(x,re,b,!1,p)}})});var A={};return each$4(v,function(w,T){var S=w.linkGroup;S&&!y[T]&&each$4(S.axesInfo,function(x,O){var L=y[O];if(x!==w&&L){var M=L.value;S.mapper&&(M=w.axis.scale.parse(S.mapper(M,makeMapperParam(x),makeMapperParam(w)))),A[w.key]=M}})}),each$4(A,function(w,T){processOnAxis(v[T],w,b,!0,p)}),updateModelActually(y,v,p),dispatchTooltipActually(_,a,r,c),dispatchHighDownActually(v,c,i),p}}function processOnAxis(r,n,i,o,a){var u=r.axis;if(!(u.scale.isBlank()||!u.containData(n))){if(!r.involveSeries){i.showPointer(r,n);return}var c=buildPayloadsBySeries(n,r),f=c.payloadBatch,d=c.snapToValue;f[0]&&a.seriesIndex==null&&extend(a,f[0]),!o&&r.snap&&u.containData(d)&&d!=null&&(n=d),i.showPointer(r,n,f),i.showTooltip(r,c,d)}}function buildPayloadsBySeries(r,n){var i=n.axis,o=i.dim,a=r,u=[],c=Number.MAX_VALUE,f=-1;return each$4(n.seriesModels,function(d,h){var v=d.getData().mapDimensionsAll(o),g,p;if(d.getAxisTooltipData){var y=d.getAxisTooltipData(v,r,i);p=y.dataIndices,g=y.nestestValue}else{if(p=d.getData().indicesOfNearest(v[0],r,i.type==="category"?.5:null),!p.length)return;g=d.getData().get(v[0],p[0])}if(!(g==null||!isFinite(g))){var _=r-g,b=Math.abs(_);b<=c&&((b<c||_>=0&&f<0)&&(c=b,f=_,a=g,u.length=0),each$4(p,function(A){u.push({seriesIndex:d.seriesIndex,dataIndexInside:A,dataIndex:d.getData().getRawIndex(A)})}))}}),{payloadBatch:u,snapToValue:a}}function showPointer(r,n,i,o){r[n.key]={value:i,payloadBatch:o}}function showTooltip(r,n,i,o){var a=i.payloadBatch,u=n.axis,c=u.model,f=n.axisPointerModel;if(!(!n.triggerTooltip||!a.length)){var d=n.coordSys.model,h=makeKey(d),v=r.map[h];v||(v=r.map[h]={coordSysId:d.id,coordSysIndex:d.componentIndex,coordSysType:d.type,coordSysMainType:d.mainType,dataByAxis:[]},r.list.push(v)),v.dataByAxis.push({axisDim:u.dim,axisIndex:c.componentIndex,axisType:c.type,axisId:c.id,value:o,valueLabelOpt:{precision:f.get(["label","precision"]),formatter:f.get(["label","formatter"])},seriesDataIndices:a.slice()})}}function updateModelActually(r,n,i){var o=i.axesInfo=[];each$4(n,function(a,u){var c=a.axisPointerModel.option,f=r[u];f?(!a.useHandle&&(c.status="show"),c.value=f.value,c.seriesDataIndices=(f.payloadBatch||[]).slice()):!a.useHandle&&(c.status="hide"),c.status==="show"&&o.push({axisDim:a.axis.dim,axisIndex:a.axis.model.componentIndex,value:c.value})})}function dispatchTooltipActually(r,n,i,o){if(illegalPoint(n)||!r.list.length){o({type:"hideTip"});return}var a=((r.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};o({type:"showTip",escapeConnect:!0,x:n[0],y:n[1],tooltipOption:i.tooltipOption,position:i.position,dataIndexInside:a.dataIndexInside,dataIndex:a.dataIndex,seriesIndex:a.seriesIndex,dataByCoordSys:r.list})}function dispatchHighDownActually(r,n,i){var o=i.getZr(),a="axisPointerLastHighlights",u=inner(o)[a]||{},c=inner(o)[a]={};each$4(r,function(h,v){var g=h.axisPointerModel.option;g.status==="show"&&each$4(g.seriesDataIndices,function(p){var y=p.seriesIndex+" | "+p.dataIndex;c[y]=p})});var f=[],d=[];each$4(u,function(h,v){!c[v]&&d.push(h)}),each$4(c,function(h,v){!u[v]&&f.push(h)}),d.length&&i.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:d}),f.length&&i.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:f})}function findInputAxisInfo(r,n){for(var i=0;i<(r||[]).length;i++){var o=r[i];if(n.axis.dim===o.axisDim&&n.axis.model.componentIndex===o.axisIndex)return o}}function makeMapperParam(r){var n=r.axis.model,i={},o=i.axisDim=r.axis.dim;return i.axisIndex=i[o+"AxisIndex"]=n.componentIndex,i.axisName=i[o+"AxisName"]=n.name,i.axisId=i[o+"AxisId"]=n.id,i}function illegalPoint(r){return!r||r[0]==null||isNaN(r[0])||r[1]==null||isNaN(r[1])}function install$5(r){AxisView$1.registerAxisPointerClass("CartesianAxisPointer",CartesianAxisPointer$1),r.registerComponentModel(AxisPointerModel$1),r.registerComponentView(AxisPointerView$1),r.registerPreprocessor(function(n){if(n){(!n.axisPointer||n.axisPointer.length===0)&&(n.axisPointer={});var i=n.axisPointer.link;i&&!isArray$1(i)&&(n.axisPointer.link=[i])}}),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,function(n,i){n.getComponent("axisPointer").coordSysAxesInfo=collect(n,i)}),r.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},axisTrigger)}function makeBackground(r,n){var i=normalizeCssArray(n.get("padding")),o=n.getItemStyle(["color","opacity"]);return o.fill=n.get("backgroundColor"),r=new Rect$1({shape:{x:r.x-i[3],y:r.y-i[0],width:r.width+i[1]+i[3],height:r.height+i[0]+i[2],r:n.get("borderRadius")},style:o,silent:!0,z2:-1}),r}var TooltipModel=function(r){__extends(n,r);function n(){var i=r!==null&&r.apply(this,arguments)||this;return i.type=n.type,i}return n.type="tooltip",n.dependencies=["axisPointer"],n.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},n}(ComponentModel$1);const TooltipModel$1=TooltipModel;function shouldTooltipConfine(r){var n=r.get("confine");return n!=null?!!n:r.get("renderMode")==="richText"}function testStyle(r){if(env$1.domSupported){for(var n=document.documentElement.style,i=0,o=r.length;i<o;i++)if(r[i]in n)return r[i]}}var TRANSFORM_VENDOR=testStyle(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),TRANSITION_VENDOR=testStyle(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function toCSSVendorPrefix(r,n){if(!r)return n;n=toCamelCase(n,!0);var i=r.indexOf(n);return r=i===-1?n:"-"+r.slice(0,i)+"-"+n,r.toLowerCase()}function getComputedStyle$1(r,n){var i=r.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(r);return i?n?i[n]:i:null}var CSS_TRANSITION_VENDOR=toCSSVendorPrefix(TRANSITION_VENDOR,"transition"),CSS_TRANSFORM_VENDOR=toCSSVendorPrefix(TRANSFORM_VENDOR,"transform"),gCssText="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(env$1.transform3dSupported?"will-change:transform;":"");function mirrorPos(r){return r=r==="left"?"right":r==="right"?"left":r==="top"?"bottom":"top",r}function assembleArrow(r,n,i){if(!isString$2(i)||i==="inside")return"";var o=r.get("backgroundColor"),a=r.get("borderWidth");n=convertToColorString(n);var u=mirrorPos(i),c=Math.max(Math.round(a)*1.5,6),f="",d=CSS_TRANSFORM_VENDOR+":",h;indexOf(["left","right"],u)>-1?(f+="top:50%",d+="translateY(-50%) rotate("+(h=u==="left"?-225:-45)+"deg)"):(f+="left:50%",d+="translateX(-50%) rotate("+(h=u==="top"?225:45)+"deg)");var v=h*Math.PI/180,g=c+a,p=g*Math.abs(Math.cos(v))+g*Math.abs(Math.sin(v)),y=Math.round(((p-Math.SQRT2*a)/2+Math.SQRT2*a-(p-g)/2)*100)/100;f+=";"+u+":-"+y+"px";var _=n+" solid "+a+"px;",b=["position:absolute;width:"+c+"px;height:"+c+"px;z-index:-1;",f+";"+d+";","border-bottom:"+_,"border-right:"+_,"background-color:"+o+";"];return'<div style="'+b.join("")+'"></div>'}function assembleTransition(r,n){var i="cubic-bezier(0.23,1,0.32,1)",o=" "+r/2+"s "+i,a="opacity"+o+",visibility"+o;return n||(o=" "+r+"s "+i,a+=env$1.transformSupported?","+CSS_TRANSFORM_VENDOR+o:",left"+o+",top"+o),CSS_TRANSITION_VENDOR+":"+a}function assembleTransform(r,n,i){var o=r.toFixed(0)+"px",a=n.toFixed(0)+"px";if(!env$1.transformSupported)return i?"top:"+a+";left:"+o+";":[["top",a],["left",o]];var u=env$1.transform3dSupported,c="translate"+(u?"3d":"")+"("+o+","+a+(u?",0":"")+")";return i?"top:0;left:0;"+CSS_TRANSFORM_VENDOR+":"+c+";":[["top",0],["left",0],[TRANSFORM_VENDOR,c]]}function assembleFont(r){var n=[],i=r.get("fontSize"),o=r.getTextColor();o&&n.push("color:"+o),n.push("font:"+r.getFont()),i&&n.push("line-height:"+Math.round(i*3/2)+"px");var a=r.get("textShadowColor"),u=r.get("textShadowBlur")||0,c=r.get("textShadowOffsetX")||0,f=r.get("textShadowOffsetY")||0;return a&&u&&n.push("text-shadow:"+c+"px "+f+"px "+u+"px "+a),each$4(["decoration","align"],function(d){var h=r.get(d);h&&n.push("text-"+d+":"+h)}),n.join(";")}function assembleCssText(r,n,i){var o=[],a=r.get("transitionDuration"),u=r.get("backgroundColor"),c=r.get("shadowBlur"),f=r.get("shadowColor"),d=r.get("shadowOffsetX"),h=r.get("shadowOffsetY"),v=r.getModel("textStyle"),g=getPaddingFromTooltipModel(r,"html"),p=d+"px "+h+"px "+c+"px "+f;return o.push("box-shadow:"+p),n&&a&&o.push(assembleTransition(a,i)),u&&o.push("background-color:"+u),each$4(["width","color","radius"],function(y){var _="border-"+y,b=toCamelCase(_),A=r.get(b);A!=null&&o.push(_+":"+A+(y==="color"?"":"px"))}),o.push(assembleFont(v)),g!=null&&o.push("padding:"+normalizeCssArray(g).join("px ")+"px"),o.join(";")+";"}function makeStyleCoord$1(r,n,i,o,a){var u=n&&n.painter;if(i){var c=u&&u.getViewportRoot();c&&transformLocalCoord(r,c,document.body,o,a)}else{r[0]=o,r[1]=a;var f=u&&u.getViewportRootOffset();f&&(r[0]+=f.offsetLeft,r[1]+=f.offsetTop)}r[2]=r[0]/n.getWidth(),r[3]=r[1]/n.getHeight()}var TooltipHTMLContent=function(){function r(n,i,o){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._firstShow=!0,this._longHide=!0,env$1.wxa)return null;var a=document.createElement("div");a.domBelongToZr=!0,this.el=a;var u=this._zr=i.getZr(),c=this._appendToBody=o&&o.appendToBody;makeStyleCoord$1(this._styleCoord,u,c,i.getWidth()/2,i.getHeight()/2),c?document.body.appendChild(a):n.appendChild(a),this._container=n;var f=this;a.onmouseenter=function(){f._enterable&&(clearTimeout(f._hideTimeout),f._show=!0),f._inContent=!0},a.onmousemove=function(d){if(d=d||window.event,!f._enterable){var h=u.handler,v=u.painter.getViewportRoot();normalizeEvent(v,d,!0),h.dispatch("mousemove",d)}},a.onmouseleave=function(){f._inContent=!1,f._enterable&&f._show&&f.hideLater(f._hideDelay)}}return r.prototype.update=function(n){var i=this._container,o=getComputedStyle$1(i,"position"),a=i.style;a.position!=="absolute"&&o!=="absolute"&&(a.position="relative");var u=n.get("alwaysShowContent");u&&this._moveIfResized(),this.el.className=n.get("className")||""},r.prototype.show=function(n,i){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var o=this.el,a=o.style,u=this._styleCoord;o.innerHTML?a.cssText=gCssText+assembleCssText(n,!this._firstShow,this._longHide)+assembleTransform(u[0],u[1],!0)+("border-color:"+convertToColorString(i)+";")+(n.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):a.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},r.prototype.setContent=function(n,i,o,a,u){var c=this.el;if(n==null){c.innerHTML="";return}var f="";if(isString$2(u)&&o.get("trigger")==="item"&&!shouldTooltipConfine(o)&&(f=assembleArrow(o,a,u)),isString$2(n))c.innerHTML=n+f;else if(n){c.innerHTML="",isArray$1(n)||(n=[n]);for(var d=0;d<n.length;d++)isDom(n[d])&&n[d].parentNode!==c&&c.appendChild(n[d]);if(f&&c.childNodes.length){var h=document.createElement("div");h.innerHTML=f,c.appendChild(h)}}},r.prototype.setEnterable=function(n){this._enterable=n},r.prototype.getSize=function(){var n=this.el;return[n.offsetWidth,n.offsetHeight]},r.prototype.moveTo=function(n,i){var o=this._styleCoord;if(makeStyleCoord$1(o,this._zr,this._appendToBody,n,i),o[0]!=null&&o[1]!=null){var a=this.el.style,u=assembleTransform(o[0],o[1]);each$4(u,function(c){a[c[0]]=c[1]})}},r.prototype._moveIfResized=function(){var n=this._styleCoord[2],i=this._styleCoord[3];this.moveTo(n*this._zr.getWidth(),i*this._zr.getHeight())},r.prototype.hide=function(){var n=this,i=this.el.style;i.visibility="hidden",i.opacity="0",env$1.transform3dSupported&&(i.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return n._longHide=!0},500)},r.prototype.hideLater=function(n){this._show&&!(this._inContent&&this._enterable)&&(n?(this._hideDelay=n,this._show=!1,this._hideTimeout=setTimeout(bind$1(this.hide,this),n)):this.hide())},r.prototype.isShow=function(){return this._show},r.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},r}();const TooltipHTMLContent$1=TooltipHTMLContent;var TooltipRichContent=function(){function r(n){this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._zr=n.getZr(),makeStyleCoord(this._styleCoord,this._zr,n.getWidth()/2,n.getHeight()/2)}return r.prototype.update=function(n){var i=n.get("alwaysShowContent");i&&this._moveIfResized()},r.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},r.prototype.setContent=function(n,i,o,a,u){var c=this;isObject$3(n)&&throwError$1(process.env.NODE_ENV!=="production"?"Passing DOM nodes as content is not supported in richText tooltip!":""),this.el&&this._zr.remove(this.el);var f=o.getModel("textStyle");this.el=new ZRText$1({style:{rich:i.richTextStyles,text:n,lineHeight:22,borderWidth:1,borderColor:a,textShadowColor:f.get("textShadowColor"),fill:o.get(["textStyle","color"]),padding:getPaddingFromTooltipModel(o,"richText"),verticalAlign:"top",align:"left"},z:o.get("z")}),each$4(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(h){c.el.style[h]=o.get(h)}),each$4(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(h){c.el.style[h]=f.get(h)||0}),this._zr.add(this.el);var d=this;this.el.on("mouseover",function(){d._enterable&&(clearTimeout(d._hideTimeout),d._show=!0),d._inContent=!0}),this.el.on("mouseout",function(){d._enterable&&d._show&&d.hideLater(d._hideDelay),d._inContent=!1})},r.prototype.setEnterable=function(n){this._enterable=n},r.prototype.getSize=function(){var n=this.el,i=this.el.getBoundingRect(),o=calcShadowOuterSize(n.style);return[i.width+o.left+o.right,i.height+o.top+o.bottom]},r.prototype.moveTo=function(n,i){var o=this.el;if(o){var a=this._styleCoord;makeStyleCoord(a,this._zr,n,i),n=a[0],i=a[1];var u=o.style,c=mathMaxWith0(u.borderWidth||0),f=calcShadowOuterSize(u);o.x=n+c+f.left,o.y=i+c+f.top,o.markRedraw()}},r.prototype._moveIfResized=function(){var n=this._styleCoord[2],i=this._styleCoord[3];this.moveTo(n*this._zr.getWidth(),i*this._zr.getHeight())},r.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},r.prototype.hideLater=function(n){this._show&&!(this._inContent&&this._enterable)&&(n?(this._hideDelay=n,this._show=!1,this._hideTimeout=setTimeout(bind$1(this.hide,this),n)):this.hide())},r.prototype.isShow=function(){return this._show},r.prototype.dispose=function(){this._zr.remove(this.el)},r}();function mathMaxWith0(r){return Math.max(0,r)}function calcShadowOuterSize(r){var n=mathMaxWith0(r.shadowBlur||0),i=mathMaxWith0(r.shadowOffsetX||0),o=mathMaxWith0(r.shadowOffsetY||0);return{left:mathMaxWith0(n-i),right:mathMaxWith0(n+i),top:mathMaxWith0(n-o),bottom:mathMaxWith0(n+o)}}function makeStyleCoord(r,n,i,o){r[0]=i,r[1]=o,r[2]=r[0]/n.getWidth(),r[3]=r[1]/n.getHeight()}const TooltipRichContent$1=TooltipRichContent;var proxyRect=new Rect$1({shape:{x:-1,y:-1,width:2,height:2}}),TooltipView=function(r){__extends(n,r);function n(){var i=r!==null&&r.apply(this,arguments)||this;return i.type=n.type,i}return n.prototype.init=function(i,o){if(!(env$1.node||!o.getDom())){var a=i.getComponent("tooltip"),u=this._renderMode=getTooltipRenderMode(a.get("renderMode"));this._tooltipContent=u==="richText"?new TooltipRichContent$1(o):new TooltipHTMLContent$1(o.getDom(),o,{appendToBody:a.get("appendToBody",!0)})}},n.prototype.render=function(i,o,a){if(!(env$1.node||!a.getDom())){this.group.removeAll(),this._tooltipModel=i,this._ecModel=o,this._api=a,this._alwaysShowContent=i.get("alwaysShowContent");var u=this._tooltipContent;u.update(i),u.setEnterable(i.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&i.get("transitionDuration")?createOrUpdate(this,"_updatePosition",50,"fixRate"):clear(this,"_updatePosition")}},n.prototype._initGlobalListener=function(){var i=this._tooltipModel,o=i.get("triggerOn");register("itemTooltip",this._api,bind$1(function(a,u,c){o!=="none"&&(o.indexOf(a)>=0?this._tryShow(u,c):a==="leave"&&this._hide(c))},this))},n.prototype._keepShow=function(){var i=this._tooltipModel,o=this._ecModel,a=this._api,u=i.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&u!=="none"&&u!=="click"){var c=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!a.isDisposed()&&c.manuallyShowTip(i,o,a,{x:c._lastX,y:c._lastY,dataByCoordSys:c._lastDataByCoordSys})})}},n.prototype.manuallyShowTip=function(i,o,a,u){if(!(u.from===this.uid||env$1.node||!a.getDom())){var c=makeDispatchAction(u,a);this._ticket="";var f=u.dataByCoordSys,d=findComponentReference(u,o,a);if(d){var h=d.el.getBoundingRect().clone();h.applyTransform(d.el.transform),this._tryShow({offsetX:h.x+h.width/2,offsetY:h.y+h.height/2,target:d.el,position:u.position,positionDefault:"bottom"},c)}else if(u.tooltip&&u.x!=null&&u.y!=null){var v=proxyRect;v.x=u.x,v.y=u.y,v.update(),getECData(v).tooltipConfig={name:null,option:u.tooltip},this._tryShow({offsetX:u.x,offsetY:u.y,target:v},c)}else if(f)this._tryShow({offsetX:u.x,offsetY:u.y,position:u.position,dataByCoordSys:f,tooltipOption:u.tooltipOption},c);else if(u.seriesIndex!=null){if(this._manuallyAxisShowTip(i,o,a,u))return;var g=findPointFromSeries(u,o),p=g.point[0],y=g.point[1];p!=null&&y!=null&&this._tryShow({offsetX:p,offsetY:y,target:g.el,position:u.position,positionDefault:"bottom"},c)}else u.x!=null&&u.y!=null&&(a.dispatchAction({type:"updateAxisPointer",x:u.x,y:u.y}),this._tryShow({offsetX:u.x,offsetY:u.y,position:u.position,target:a.getZr().findHover(u.x,u.y).target},c))}},n.prototype.manuallyHideTip=function(i,o,a,u){var c=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&c.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,u.from!==this.uid&&this._hide(makeDispatchAction(u,a))},n.prototype._manuallyAxisShowTip=function(i,o,a,u){var c=u.seriesIndex,f=u.dataIndex,d=o.getComponent("axisPointer").coordSysAxesInfo;if(!(c==null||f==null||d==null)){var h=o.getSeriesByIndex(c);if(h){var v=h.getData(),g=buildTooltipModel([v.getItemModel(f),h,(h.coordinateSystem||{}).model],this._tooltipModel);if(g.get("trigger")==="axis")return a.dispatchAction({type:"updateAxisPointer",seriesIndex:c,dataIndex:f,position:u.position}),!0}}},n.prototype._tryShow=function(i,o){var a=i.target,u=this._tooltipModel;if(u){this._lastX=i.offsetX,this._lastY=i.offsetY;var c=i.dataByCoordSys;if(c&&c.length)this._showAxisTooltip(c,i);else if(a){this._lastDataByCoordSys=null;var f,d;findEventDispatcher(a,function(h){if(getECData(h).dataIndex!=null)return f=h,!0;if(getECData(h).tooltipConfig!=null)return d=h,!0},!0),f?this._showSeriesItemTooltip(i,f,o):d?this._showComponentItemTooltip(i,d,o):this._hide(o)}else this._lastDataByCoordSys=null,this._hide(o)}},n.prototype._showOrMove=function(i,o){var a=i.get("showDelay");o=bind$1(o,this),clearTimeout(this._showTimout),a>0?this._showTimout=setTimeout(o,a):o()},n.prototype._showAxisTooltip=function(i,o){var a=this._ecModel,u=this._tooltipModel,c=[o.offsetX,o.offsetY],f=buildTooltipModel([o.tooltipOption],u),d=this._renderMode,h=[],v=createTooltipMarkup("section",{blocks:[],noHeader:!0}),g=[],p=new TooltipMarkupStyleCreator;each$4(i,function(T){each$4(T.dataByAxis,function(S){var x=a.getComponent(S.axisDim+"Axis",S.axisIndex),O=S.value;if(!(!x||O==null)){var L=getValueLabel(O,x.axis,a,S.seriesDataIndices,S.valueLabelOpt),M=createTooltipMarkup("section",{header:L,noHeader:!trim(L),sortBlocks:!0,blocks:[]});v.blocks.push(M),each$4(S.seriesDataIndices,function(re){var F=a.getSeriesByIndex(re.seriesIndex),j=re.dataIndexInside,V=F.getDataParams(j);if(!(V.dataIndex<0)){V.axisDim=S.axisDim,V.axisIndex=S.axisIndex,V.axisType=S.axisType,V.axisId=S.axisId,V.axisValue=getAxisRawValue(x.axis,{value:O}),V.axisValueLabel=L,V.marker=p.makeTooltipMarker("item",convertToColorString(V.color),d);var z=normalizeTooltipFormatResult(F.formatTooltip(j,!0,null)),$=z.frag;if($){var he=buildTooltipModel([F],u).get("valueFormatter");M.blocks.push(he?extend({valueFormatter:he},$):$)}z.text&&g.push(z.text),h.push(V)}})}})}),v.blocks.reverse(),g.reverse();var y=o.position,_=f.get("order"),b=buildTooltipMarkup(v,p,d,_,a.get("useUTC"),f.get("textStyle"));b&&g.unshift(b);var A=d==="richText"?`

`:"<br/>",w=g.join(A);this._showOrMove(f,function(){this._updateContentNotChangedOnAxis(i,h)?this._updatePosition(f,y,c[0],c[1],this._tooltipContent,h):this._showTooltipContent(f,w,h,Math.random()+"",c[0],c[1],y,null,p)})},n.prototype._showSeriesItemTooltip=function(i,o,a){var u=this._ecModel,c=getECData(o),f=c.seriesIndex,d=u.getSeriesByIndex(f),h=c.dataModel||d,v=c.dataIndex,g=c.dataType,p=h.getData(g),y=this._renderMode,_=i.positionDefault,b=buildTooltipModel([p.getItemModel(v),h,d&&(d.coordinateSystem||{}).model],this._tooltipModel,_?{position:_}:null),A=b.get("trigger");if(!(A!=null&&A!=="item")){var w=h.getDataParams(v,g),T=new TooltipMarkupStyleCreator;w.marker=T.makeTooltipMarker("item",convertToColorString(w.color),y);var S=normalizeTooltipFormatResult(h.formatTooltip(v,!1,g)),x=b.get("order"),O=b.get("valueFormatter"),L=S.frag,M=L?buildTooltipMarkup(O?extend({valueFormatter:O},L):L,T,y,x,u.get("useUTC"),b.get("textStyle")):S.text,re="item_"+h.name+"_"+v;this._showOrMove(b,function(){this._showTooltipContent(b,M,w,re,i.offsetX,i.offsetY,i.position,i.target,T)}),a({type:"showTip",dataIndexInside:v,dataIndex:p.getRawIndex(v),seriesIndex:f,from:this.uid})}},n.prototype._showComponentItemTooltip=function(i,o,a){var u=getECData(o),c=u.tooltipConfig,f=c.option||{};if(isString$2(f)){var d=f;f={content:d,formatter:d}}var h=[f],v=this._ecModel.getComponent(u.componentMainType,u.componentIndex);v&&h.push(v),h.push({formatter:f.content});var g=i.positionDefault,p=buildTooltipModel(h,this._tooltipModel,g?{position:g}:null),y=p.get("content"),_=Math.random()+"",b=new TooltipMarkupStyleCreator;this._showOrMove(p,function(){var A=clone$2(p.get("formatterParams")||{});this._showTooltipContent(p,y,A,_,i.offsetX,i.offsetY,i.position,o,b)}),a({type:"showTip",from:this.uid})},n.prototype._showTooltipContent=function(i,o,a,u,c,f,d,h,v){if(this._ticket="",!(!i.get("showContent")||!i.get("show"))){var g=this._tooltipContent;g.setEnterable(i.get("enterable"));var p=i.get("formatter");d=d||i.get("position");var y=o,_=this._getNearestPoint([c,f],a,i.get("trigger"),i.get("borderColor")),b=_.color;if(p)if(isString$2(p)){var A=i.ecModel.get("useUTC"),w=isArray$1(a)?a[0]:a,T=w&&w.axisType&&w.axisType.indexOf("time")>=0;y=p,T&&(y=format$1(w.axisValue,y,A)),y=formatTpl(y,a,!0)}else if(isFunction$1(p)){var S=bind$1(function(x,O){x===this._ticket&&(g.setContent(O,v,i,b,d),this._updatePosition(i,d,c,f,g,a,h))},this);this._ticket=u,y=p(a,u,S)}else y=p;g.setContent(y,v,i,b,d),g.show(i,b),this._updatePosition(i,d,c,f,g,a,h)}},n.prototype._getNearestPoint=function(i,o,a,u){if(a==="axis"||isArray$1(o))return{color:u||(this._renderMode==="html"?"#fff":"none")};if(!isArray$1(o))return{color:u||o.color||o.borderColor}},n.prototype._updatePosition=function(i,o,a,u,c,f,d){var h=this._api.getWidth(),v=this._api.getHeight();o=o||i.get("position");var g=c.getSize(),p=i.get("align"),y=i.get("verticalAlign"),_=d&&d.getBoundingRect().clone();if(d&&_.applyTransform(d.transform),isFunction$1(o)&&(o=o([a,u],f,c.el,_,{viewSize:[h,v],contentSize:g.slice()})),isArray$1(o))a=parsePercent(o[0],h),u=parsePercent(o[1],v);else if(isObject$3(o)){var b=o;b.width=g[0],b.height=g[1];var A=getLayoutRect(b,{width:h,height:v});a=A.x,u=A.y,p=null,y=null}else if(isString$2(o)&&d){var w=calcTooltipPosition(o,_,g,i.get("borderWidth"));a=w[0],u=w[1]}else{var w=refixTooltipPosition(a,u,c,h,v,p?null:20,y?null:20);a=w[0],u=w[1]}if(p&&(a-=isCenterAlign(p)?g[0]/2:p==="right"?g[0]:0),y&&(u-=isCenterAlign(y)?g[1]/2:y==="bottom"?g[1]:0),shouldTooltipConfine(i)){var w=confineTooltipPosition(a,u,c,h,v);a=w[0],u=w[1]}c.moveTo(a,u)},n.prototype._updateContentNotChangedOnAxis=function(i,o){var a=this._lastDataByCoordSys,u=this._cbParamsList,c=!!a&&a.length===i.length;return c&&each$4(a,function(f,d){var h=f.dataByAxis||[],v=i[d]||{},g=v.dataByAxis||[];c=c&&h.length===g.length,c&&each$4(h,function(p,y){var _=g[y]||{},b=p.seriesDataIndices||[],A=_.seriesDataIndices||[];c=c&&p.value===_.value&&p.axisType===_.axisType&&p.axisId===_.axisId&&b.length===A.length,c&&each$4(b,function(w,T){var S=A[T];c=c&&w.seriesIndex===S.seriesIndex&&w.dataIndex===S.dataIndex}),u&&each$4(p.seriesDataIndices,function(w){var T=w.seriesIndex,S=o[T],x=u[T];S&&x&&x.data!==S.data&&(c=!1)})})}),this._lastDataByCoordSys=i,this._cbParamsList=o,!!c},n.prototype._hide=function(i){this._lastDataByCoordSys=null,i({type:"hideTip",from:this.uid})},n.prototype.dispose=function(i,o){env$1.node||!o.getDom()||(clear(this,"_updatePosition"),this._tooltipContent.dispose(),unregister("itemTooltip",o))},n.type="tooltip",n}(ComponentView$1);function buildTooltipModel(r,n,i){var o=n.ecModel,a;i?(a=new Model$1(i,o,o),a=new Model$1(n.option,a,o)):a=n;for(var u=r.length-1;u>=0;u--){var c=r[u];c&&(c instanceof Model$1&&(c=c.get("tooltip",!0)),isString$2(c)&&(c={formatter:c}),c&&(a=new Model$1(c,a,o)))}return a}function makeDispatchAction(r,n){return r.dispatchAction||bind$1(n.dispatchAction,n)}function refixTooltipPosition(r,n,i,o,a,u,c){var f=i.getSize(),d=f[0],h=f[1];return u!=null&&(r+d+u+2>o?r-=d+u:r+=u),c!=null&&(n+h+c>a?n-=h+c:n+=c),[r,n]}function confineTooltipPosition(r,n,i,o,a){var u=i.getSize(),c=u[0],f=u[1];return r=Math.min(r+c,o)-c,n=Math.min(n+f,a)-f,r=Math.max(r,0),n=Math.max(n,0),[r,n]}function calcTooltipPosition(r,n,i,o){var a=i[0],u=i[1],c=Math.ceil(Math.SQRT2*o)+8,f=0,d=0,h=n.width,v=n.height;switch(r){case"inside":f=n.x+h/2-a/2,d=n.y+v/2-u/2;break;case"top":f=n.x+h/2-a/2,d=n.y-u-c;break;case"bottom":f=n.x+h/2-a/2,d=n.y+v+c;break;case"left":f=n.x-a-c,d=n.y+v/2-u/2;break;case"right":f=n.x+h+c,d=n.y+v/2-u/2}return[f,d]}function isCenterAlign(r){return r==="center"||r==="middle"}function findComponentReference(r,n,i){var o=preParseFinder(r).queryOptionMap,a=o.keys()[0];if(!(!a||a==="series")){var u=queryReferringComponents(n,a,o.get(a),{useDefault:!1,enableAll:!1,enableNone:!1}),c=u.models[0];if(c){var f=i.getViewOfComponentModel(c),d;if(f.group.traverse(function(h){var v=getECData(h).tooltipConfig;if(v&&v.name===r.name)return d=h,!0}),d)return{componentMainType:a,componentIndex:c.componentIndex,el:d}}}}const TooltipView$1=TooltipView;function install$4(r){use(install$5),r.registerComponentModel(TooltipModel$1),r.registerComponentView(TooltipView$1),r.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},noop$1),r.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},noop$1)}var TitleModel=function(r){__extends(n,r);function n(){var i=r!==null&&r.apply(this,arguments)||this;return i.type=n.type,i.layoutMode={type:"box",ignoreSize:!0},i}return n.type="title",n.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},n}(ComponentModel$1),TitleView=function(r){__extends(n,r);function n(){var i=r!==null&&r.apply(this,arguments)||this;return i.type=n.type,i}return n.prototype.render=function(i,o,a){if(this.group.removeAll(),!!i.get("show")){var u=this.group,c=i.getModel("textStyle"),f=i.getModel("subtextStyle"),d=i.get("textAlign"),h=retrieve2(i.get("textBaseline"),i.get("textVerticalAlign")),v=new ZRText$1({style:createTextStyle(c,{text:i.get("text"),fill:c.getTextColor()},{disableBox:!0}),z2:10}),g=v.getBoundingRect(),p=i.get("subtext"),y=new ZRText$1({style:createTextStyle(f,{text:p,fill:f.getTextColor(),y:g.height+i.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),_=i.get("link"),b=i.get("sublink"),A=i.get("triggerEvent",!0);v.silent=!_&&!A,y.silent=!b&&!A,_&&v.on("click",function(){windowOpen(_,"_"+i.get("target"))}),b&&y.on("click",function(){windowOpen(b,"_"+i.get("subtarget"))}),getECData(v).eventData=getECData(y).eventData=A?{componentType:"title",componentIndex:i.componentIndex}:null,u.add(v),p&&u.add(y);var w=u.getBoundingRect(),T=i.getBoxLayoutParams();T.width=w.width,T.height=w.height;var S=getLayoutRect(T,{width:a.getWidth(),height:a.getHeight()},i.get("padding"));d||(d=i.get("left")||i.get("right"),d==="middle"&&(d="center"),d==="right"?S.x+=S.width:d==="center"&&(S.x+=S.width/2)),h||(h=i.get("top")||i.get("bottom"),h==="center"&&(h="middle"),h==="bottom"?S.y+=S.height:h==="middle"&&(S.y+=S.height/2),h=h||"top"),u.x=S.x,u.y=S.y,u.markRedraw();var x={align:d,verticalAlign:h};v.setStyle(x),y.setStyle(x),w=u.getBoundingRect();var O=S.margin,L=i.getItemStyle(["color","opacity"]);L.fill=i.get("backgroundColor");var M=new Rect$1({shape:{x:w.x-O[3],y:w.y-O[0],width:w.width+O[1]+O[3],height:w.height+O[0]+O[2],r:i.get("borderRadius")},style:L,subPixelOptimize:!0,silent:!0});u.add(M)}},n.type="title",n}(ComponentView$1);function install$3(r){r.registerComponentModel(TitleModel),r.registerComponentView(TitleView)}var getDefaultSelectorOptions=function(r,n){if(n==="all")return{type:"all",title:r.getLocaleModel().get(["legend","selector","all"])};if(n==="inverse")return{type:"inverse",title:r.getLocaleModel().get(["legend","selector","inverse"])}},LegendModel=function(r){__extends(n,r);function n(){var i=r!==null&&r.apply(this,arguments)||this;return i.type=n.type,i.layoutMode={type:"box",ignoreSize:!0},i}return n.prototype.init=function(i,o,a){this.mergeDefaultAndTheme(i,a),i.selected=i.selected||{},this._updateSelector(i)},n.prototype.mergeOption=function(i,o){r.prototype.mergeOption.call(this,i,o),this._updateSelector(i)},n.prototype._updateSelector=function(i){var o=i.selector,a=this.ecModel;o===!0&&(o=i.selector=["all","inverse"]),isArray$1(o)&&each$4(o,function(u,c){isString$2(u)&&(u={type:u}),o[c]=merge(u,getDefaultSelectorOptions(a,u.type))})},n.prototype.optionUpdated=function(){this._updateData(this.ecModel);var i=this._data;if(i[0]&&this.get("selectedMode")==="single"){for(var o=!1,a=0;a<i.length;a++){var u=i[a].get("name");if(this.isSelected(u)){this.select(u),o=!0;break}}!o&&this.select(i[0].get("name"))}},n.prototype._updateData=function(i){var o=[],a=[];i.eachRawSeries(function(d){var h=d.name;a.push(h);var v;if(d.legendVisualProvider){var g=d.legendVisualProvider,p=g.getAllNames();i.isSeriesFiltered(d)||(a=a.concat(p)),p.length?o=o.concat(p):v=!0}else v=!0;v&&isNameSpecified(d)&&o.push(d.name)}),this._availableNames=a;var u=this.get("data")||o,c=createHashMap(),f=map$1(u,function(d){return(isString$2(d)||isNumber$1(d))&&(d={name:d}),c.get(d.name)?null:(c.set(d.name,!0),new Model$1(d,this,this.ecModel))},this);this._data=filter(f,function(d){return!!d})},n.prototype.getData=function(){return this._data},n.prototype.select=function(i){var o=this.option.selected,a=this.get("selectedMode");if(a==="single"){var u=this._data;each$4(u,function(c){o[c.get("name")]=!1})}o[i]=!0},n.prototype.unSelect=function(i){this.get("selectedMode")!=="single"&&(this.option.selected[i]=!1)},n.prototype.toggleSelected=function(i){var o=this.option.selected;o.hasOwnProperty(i)||(o[i]=!0),this[o[i]?"unSelect":"select"](i)},n.prototype.allSelect=function(){var i=this._data,o=this.option.selected;each$4(i,function(a){o[a.get("name",!0)]=!0})},n.prototype.inverseSelect=function(){var i=this._data,o=this.option.selected;each$4(i,function(a){var u=a.get("name",!0);o.hasOwnProperty(u)||(o[u]=!0),o[u]=!o[u]})},n.prototype.isSelected=function(i){var o=this.option.selected;return!(o.hasOwnProperty(i)&&!o[i])&&indexOf(this._availableNames,i)>=0},n.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},n.type="legend.plain",n.dependencies=["series"],n.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},n}(ComponentModel$1);const LegendModel$1=LegendModel;var curry=curry$1,each=each$4,Group$1=Group$3,LegendView=function(r){__extends(n,r);function n(){var i=r!==null&&r.apply(this,arguments)||this;return i.type=n.type,i.newlineDisabled=!1,i}return n.prototype.init=function(){this.group.add(this._contentGroup=new Group$1),this.group.add(this._selectorGroup=new Group$1),this._isFirstRender=!0},n.prototype.getContentGroup=function(){return this._contentGroup},n.prototype.getSelectorGroup=function(){return this._selectorGroup},n.prototype.render=function(i,o,a){var u=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!i.get("show",!0)){var c=i.get("align"),f=i.get("orient");(!c||c==="auto")&&(c=i.get("left")==="right"&&f==="vertical"?"right":"left");var d=i.get("selector",!0),h=i.get("selectorPosition",!0);d&&(!h||h==="auto")&&(h=f==="horizontal"?"end":"start"),this.renderInner(c,i,o,a,d,f,h);var v=i.getBoxLayoutParams(),g={width:a.getWidth(),height:a.getHeight()},p=i.get("padding"),y=getLayoutRect(v,g,p),_=this.layoutInner(i,c,y,u,d,h),b=getLayoutRect(defaults({width:_.width,height:_.height},v),g,p);this.group.x=b.x-_.x,this.group.y=b.y-_.y,this.group.markRedraw(),this.group.add(this._backgroundEl=makeBackground(_,i))}},n.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},n.prototype.renderInner=function(i,o,a,u,c,f,d){var h=this.getContentGroup(),v=createHashMap(),g=o.get("selectedMode"),p=[];a.eachRawSeries(function(y){!y.get("legendHoverLink")&&p.push(y.id)}),each(o.getData(),function(y,_){var b=y.get("name");if(!this.newlineDisabled&&(b===""||b===`
`)){var A=new Group$1;A.newline=!0,h.add(A);return}var w=a.getSeriesByName(b)[0];if(!v.get(b)){if(w){var T=w.getData(),S=T.getVisual("legendLineStyle")||{},x=T.getVisual("legendIcon"),O=T.getVisual("style"),L=this._createItem(w,b,_,y,o,i,S,O,x,g,u);L.on("click",curry(dispatchSelectAction,b,null,u,p)).on("mouseover",curry(dispatchHighlightAction,w.name,null,u,p)).on("mouseout",curry(dispatchDownplayAction,w.name,null,u,p)),v.set(b,!0)}else a.eachRawSeries(function(M){if(!v.get(b)&&M.legendVisualProvider){var re=M.legendVisualProvider;if(!re.containName(b))return;var F=re.indexOfName(b),j=re.getItemVisual(F,"style"),V=re.getItemVisual(F,"legendIcon"),z=parse(j.fill);z&&z[3]===0&&(z[3]=.2,j=extend(extend({},j),{fill:stringify(z,"rgba")}));var $=this._createItem(M,b,_,y,o,i,{},j,V,g,u);$.on("click",curry(dispatchSelectAction,null,b,u,p)).on("mouseover",curry(dispatchHighlightAction,null,b,u,p)).on("mouseout",curry(dispatchDownplayAction,null,b,u,p)),v.set(b,!0)}},this);process.env.NODE_ENV!=="production"&&(v.get(b)||console.warn(b+" series not exists. Legend data should be same with series name or data name."))}},this),c&&this._createSelector(c,o,u,f,d)},n.prototype._createSelector=function(i,o,a,u,c){var f=this.getSelectorGroup();each(i,function(h){var v=h.type,g=new ZRText$1({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){a.dispatchAction({type:v==="all"?"legendAllSelect":"legendInverseSelect"})}});f.add(g);var p=o.getModel("selectorLabel"),y=o.getModel(["emphasis","selectorLabel"]);setLabelStyle(g,{normal:p,emphasis:y},{defaultText:h.title}),enableHoverEmphasis(g)})},n.prototype._createItem=function(i,o,a,u,c,f,d,h,v,g,p){var y=i.visualDrawType,_=c.get("itemWidth"),b=c.get("itemHeight"),A=c.isSelected(o),w=u.get("symbolRotate"),T=u.get("symbolKeepAspect"),S=u.get("icon");v=S||v||"roundRect";var x=getLegendStyle(v,u,d,h,y,A,p),O=new Group$1,L=u.getModel("textStyle");if(isFunction$1(i.getLegendIcon)&&(!S||S==="inherit"))O.add(i.getLegendIcon({itemWidth:_,itemHeight:b,icon:v,iconRotate:w,itemStyle:x.itemStyle,lineStyle:x.lineStyle,symbolKeepAspect:T}));else{var M=S==="inherit"&&i.getData().getVisual("symbol")?w==="inherit"?i.getData().getVisual("symbolRotate"):w:0;O.add(getDefaultLegendIcon({itemWidth:_,itemHeight:b,icon:v,iconRotate:M,itemStyle:x.itemStyle,lineStyle:x.lineStyle,symbolKeepAspect:T}))}var re=f==="left"?_+5:-5,F=f,j=c.get("formatter"),V=o;isString$2(j)&&j?V=j.replace("{name}",o??""):isFunction$1(j)&&(V=j(o));var z=u.get("inactiveColor");O.add(new ZRText$1({style:createTextStyle(L,{text:V,x:re,y:b/2,fill:A?L.getTextColor():z,align:F,verticalAlign:"middle"})}));var $=new Rect$1({shape:O.getBoundingRect(),invisible:!0}),he=u.getModel("tooltip");return he.get("show")&&setTooltipConfig({el:$,componentModel:c,itemName:o,itemTooltipOption:he.option}),O.add($),O.eachChild(function(le){le.silent=!0}),$.silent=!g,this.getContentGroup().add(O),enableHoverEmphasis(O),O.__legendDataIndex=a,O},n.prototype.layoutInner=function(i,o,a,u,c,f){var d=this.getContentGroup(),h=this.getSelectorGroup();box(i.get("orient"),d,i.get("itemGap"),a.width,a.height);var v=d.getBoundingRect(),g=[-v.x,-v.y];if(h.markRedraw(),d.markRedraw(),c){box("horizontal",h,i.get("selectorItemGap",!0));var p=h.getBoundingRect(),y=[-p.x,-p.y],_=i.get("selectorButtonGap",!0),b=i.getOrient().index,A=b===0?"width":"height",w=b===0?"height":"width",T=b===0?"y":"x";f==="end"?y[b]+=v[A]+_:g[b]+=p[A]+_,y[1-b]+=v[w]/2-p[w]/2,h.x=y[0],h.y=y[1],d.x=g[0],d.y=g[1];var S={x:0,y:0};return S[A]=v[A]+_+p[A],S[w]=Math.max(v[w],p[w]),S[T]=Math.min(0,p[T]+y[1-b]),S}else return d.x=g[0],d.y=g[1],this.group.getBoundingRect()},n.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},n.type="legend.plain",n}(ComponentView$1);function getLegendStyle(r,n,i,o,a,u,c){function f(A,w){A.lineWidth==="auto"&&(A.lineWidth=w.lineWidth>0?2:0),each(A,function(T,S){A[S]==="inherit"&&(A[S]=w[S])})}var d=n.getModel("itemStyle"),h=d.getItemStyle(),v=r.lastIndexOf("empty",0)===0?"fill":"stroke",g=d.getShallow("decal");h.decal=!g||g==="inherit"?o.decal:createOrUpdatePatternFromDecal(g,c),h.fill==="inherit"&&(h.fill=o[a]),h.stroke==="inherit"&&(h.stroke=o[v]),h.opacity==="inherit"&&(h.opacity=(a==="fill"?o:i).opacity),f(h,o);var p=n.getModel("lineStyle"),y=p.getLineStyle();if(f(y,i),h.fill==="auto"&&(h.fill=o.fill),h.stroke==="auto"&&(h.stroke=o.fill),y.stroke==="auto"&&(y.stroke=o.fill),!u){var _=n.get("inactiveBorderWidth"),b=h[v];h.lineWidth=_==="auto"?o.lineWidth>0&&b?2:0:h.lineWidth,h.fill=n.get("inactiveColor"),h.stroke=n.get("inactiveBorderColor"),y.stroke=p.get("inactiveColor"),y.lineWidth=p.get("inactiveWidth")}return{itemStyle:h,lineStyle:y}}function getDefaultLegendIcon(r){var n=r.icon||"roundRect",i=createSymbol(n,0,0,r.itemWidth,r.itemHeight,r.itemStyle.fill,r.symbolKeepAspect);return i.setStyle(r.itemStyle),i.rotation=(r.iconRotate||0)*Math.PI/180,i.setOrigin([r.itemWidth/2,r.itemHeight/2]),n.indexOf("empty")>-1&&(i.style.stroke=i.style.fill,i.style.fill="#fff",i.style.lineWidth=2),i}function dispatchSelectAction(r,n,i,o){dispatchDownplayAction(r,n,i,o),i.dispatchAction({type:"legendToggleSelect",name:r??n}),dispatchHighlightAction(r,n,i,o)}function isUseHoverLayer(r){for(var n=r.getZr().storage.getDisplayList(),i,o=0,a=n.length;o<a&&!(i=n[o].states.emphasis);)o++;return i&&i.hoverLayer}function dispatchHighlightAction(r,n,i,o){isUseHoverLayer(i)||i.dispatchAction({type:"highlight",seriesName:r,name:n,excludeSeriesId:o})}function dispatchDownplayAction(r,n,i,o){isUseHoverLayer(i)||i.dispatchAction({type:"downplay",seriesName:r,name:n,excludeSeriesId:o})}const LegendView$1=LegendView;function legendFilter(r){var n=r.findComponents({mainType:"legend"});n&&n.length&&r.filterSeries(function(i){for(var o=0;o<n.length;o++)if(!n[o].isSelected(i.name))return!1;return!0})}function legendSelectActionHandler(r,n,i){var o={},a=r==="toggleSelected",u;return i.eachComponent("legend",function(c){a&&u!=null?c[u?"select":"unSelect"](n.name):r==="allSelect"||r==="inverseSelect"?c[r]():(c[r](n.name),u=c.isSelected(n.name));var f=c.getData();each$4(f,function(d){var h=d.get("name");if(!(h===`
`||h==="")){var v=c.isSelected(h);o.hasOwnProperty(h)?o[h]=o[h]&&v:o[h]=v}})}),r==="allSelect"||r==="inverseSelect"?{selected:o}:{name:n.name,selected:o}}function installLegendAction(r){r.registerAction("legendToggleSelect","legendselectchanged",curry$1(legendSelectActionHandler,"toggleSelected")),r.registerAction("legendAllSelect","legendselectall",curry$1(legendSelectActionHandler,"allSelect")),r.registerAction("legendInverseSelect","legendinverseselect",curry$1(legendSelectActionHandler,"inverseSelect")),r.registerAction("legendSelect","legendselected",curry$1(legendSelectActionHandler,"select")),r.registerAction("legendUnSelect","legendunselected",curry$1(legendSelectActionHandler,"unSelect"))}function install$2(r){r.registerComponentModel(LegendModel$1),r.registerComponentView(LegendView$1),r.registerProcessor(r.PRIORITY.PROCESSOR.SERIES_FILTER,legendFilter),r.registerSubTypeDefaulter("legend",function(){return"plain"}),installLegendAction(r)}var ScrollableLegendModel=function(r){__extends(n,r);function n(){var i=r!==null&&r.apply(this,arguments)||this;return i.type=n.type,i}return n.prototype.setScrollDataIndex=function(i){this.option.scrollDataIndex=i},n.prototype.init=function(i,o,a){var u=getLayoutParams(i);r.prototype.init.call(this,i,o,a),mergeAndNormalizeLayoutParams(this,i,u)},n.prototype.mergeOption=function(i,o){r.prototype.mergeOption.call(this,i,o),mergeAndNormalizeLayoutParams(this,this.option,i)},n.type="legend.scroll",n.defaultOption=inheritDefaultOption(LegendModel$1.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),n}(LegendModel$1);function mergeAndNormalizeLayoutParams(r,n,i){var o=r.getOrient(),a=[1,1];a[o.index]=0,mergeLayoutParam(n,i,{type:"box",ignoreSize:!!a})}const ScrollableLegendModel$1=ScrollableLegendModel;var Group=Group$3,WH=["width","height"],XY=["x","y"],ScrollableLegendView=function(r){__extends(n,r);function n(){var i=r!==null&&r.apply(this,arguments)||this;return i.type=n.type,i.newlineDisabled=!0,i._currentIndex=0,i}return n.prototype.init=function(){r.prototype.init.call(this),this.group.add(this._containerGroup=new Group),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new Group)},n.prototype.resetInner=function(){r.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},n.prototype.renderInner=function(i,o,a,u,c,f,d){var h=this;r.prototype.renderInner.call(this,i,o,a,u,c,f,d);var v=this._controllerGroup,g=o.get("pageIconSize",!0),p=isArray$1(g)?g:[g,g];_("pagePrev",0);var y=o.getModel("pageTextStyle");v.add(new ZRText$1({name:"pageText",style:{text:"xx/xx",fill:y.getTextColor(),font:y.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),_("pageNext",1);function _(b,A){var w=b+"DataIndex",T=createIcon(o.get("pageIcons",!0)[o.getOrient().name][A],{onclick:bind$1(h._pageGo,h,w,o,u)},{x:-p[0]/2,y:-p[1]/2,width:p[0],height:p[1]});T.name=b,v.add(T)}},n.prototype.layoutInner=function(i,o,a,u,c,f){var d=this.getSelectorGroup(),h=i.getOrient().index,v=WH[h],g=XY[h],p=WH[1-h],y=XY[1-h];c&&box("horizontal",d,i.get("selectorItemGap",!0));var _=i.get("selectorButtonGap",!0),b=d.getBoundingRect(),A=[-b.x,-b.y],w=clone$2(a);c&&(w[v]=a[v]-b[v]-_);var T=this._layoutContentAndController(i,u,w,h,v,p,y,g);if(c){if(f==="end")A[h]+=T[v]+_;else{var S=b[v]+_;A[h]-=S,T[g]-=S}T[v]+=b[v]+_,A[1-h]+=T[y]+T[p]/2-b[p]/2,T[p]=Math.max(T[p],b[p]),T[y]=Math.min(T[y],b[y]+A[1-h]),d.x=A[0],d.y=A[1],d.markRedraw()}return T},n.prototype._layoutContentAndController=function(i,o,a,u,c,f,d,h){var v=this.getContentGroup(),g=this._containerGroup,p=this._controllerGroup;box(i.get("orient"),v,i.get("itemGap"),u?a.width:null,u?null:a.height),box("horizontal",p,i.get("pageButtonItemGap",!0));var y=v.getBoundingRect(),_=p.getBoundingRect(),b=this._showController=y[c]>a[c],A=[-y.x,-y.y];o||(A[u]=v[h]);var w=[0,0],T=[-_.x,-_.y],S=retrieve2(i.get("pageButtonGap",!0),i.get("itemGap",!0));if(b){var x=i.get("pageButtonPosition",!0);x==="end"?T[u]+=a[c]-_[c]:w[u]+=_[c]+S}T[1-u]+=y[f]/2-_[f]/2,v.setPosition(A),g.setPosition(w),p.setPosition(T);var O={x:0,y:0};if(O[c]=b?a[c]:y[c],O[f]=Math.max(y[f],_[f]),O[d]=Math.min(0,_[d]+T[1-u]),g.__rectSize=a[c],b){var L={x:0,y:0};L[c]=Math.max(a[c]-_[c]-S,0),L[f]=O[f],g.setClipPath(new Rect$1({shape:L})),g.__rectSize=L[c]}else p.eachChild(function(re){re.attr({invisible:!0,silent:!0})});var M=this._getPageInfo(i);return M.pageIndex!=null&&updateProps$1(v,{x:M.contentPosition[0],y:M.contentPosition[1]},b?i:null),this._updatePageInfoView(i,M),O},n.prototype._pageGo=function(i,o,a){var u=this._getPageInfo(o)[i];u!=null&&a.dispatchAction({type:"legendScroll",scrollDataIndex:u,legendId:o.id})},n.prototype._updatePageInfoView=function(i,o){var a=this._controllerGroup;each$4(["pagePrev","pageNext"],function(v){var g=v+"DataIndex",p=o[g]!=null,y=a.childOfName(v);y&&(y.setStyle("fill",p?i.get("pageIconColor",!0):i.get("pageIconInactiveColor",!0)),y.cursor=p?"pointer":"default")});var u=a.childOfName("pageText"),c=i.get("pageFormatter"),f=o.pageIndex,d=f!=null?f+1:0,h=o.pageCount;u&&c&&u.setStyle("text",isString$2(c)?c.replace("{current}",d==null?"":d+"").replace("{total}",h==null?"":h+""):c({current:d,total:h}))},n.prototype._getPageInfo=function(i){var o=i.get("scrollDataIndex",!0),a=this.getContentGroup(),u=this._containerGroup.__rectSize,c=i.getOrient().index,f=WH[c],d=XY[c],h=this._findTargetItemIndex(o),v=a.children(),g=v[h],p=v.length,y=p?1:0,_={contentPosition:[a.x,a.y],pageCount:y,pageIndex:y-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!g)return _;var b=x(g);_.contentPosition[c]=-b.s;for(var A=h+1,w=b,T=b,S=null;A<=p;++A)S=x(v[A]),(!S&&T.e>w.s+u||S&&!O(S,w.s))&&(T.i>w.i?w=T:w=S,w&&(_.pageNextDataIndex==null&&(_.pageNextDataIndex=w.i),++_.pageCount)),T=S;for(var A=h-1,w=b,T=b,S=null;A>=-1;--A)S=x(v[A]),(!S||!O(T,S.s))&&w.i<T.i&&(T=w,_.pagePrevDataIndex==null&&(_.pagePrevDataIndex=w.i),++_.pageCount,++_.pageIndex),w=S;return _;function x(L){if(L){var M=L.getBoundingRect(),re=M[d]+L[d];return{s:re,e:re+M[f],i:L.__legendDataIndex}}}function O(L,M){return L.e>=M&&L.s<=M+u}},n.prototype._findTargetItemIndex=function(i){if(!this._showController)return 0;var o,a=this.getContentGroup(),u;return a.eachChild(function(c,f){var d=c.__legendDataIndex;u==null&&d!=null&&(u=f),d===i&&(o=f)}),o??u},n.type="legend.scroll",n}(LegendView$1);const ScrollableLegendView$1=ScrollableLegendView;function installScrollableLegendAction(r){r.registerAction("legendScroll","legendscroll",function(n,i){var o=n.scrollDataIndex;o!=null&&i.eachComponent({mainType:"legend",subType:"scroll",query:n},function(a){a.setScrollDataIndex(o)})})}function install$1(r){use(install$2),r.registerComponentModel(ScrollableLegendModel$1),r.registerComponentView(ScrollableLegendView$1),installScrollableLegendAction(r)}function install(r){use(install$2),use(install$1)}const _sfc_main$H=vue.defineComponent({__name:"pie-charts",props:{title:{type:String,default:"标题"},seriesName:{type:String,default:"详情"},seriesData:{type:Array,default:()=>[]}},setup(r){const n=r;use([install$7,install$6,install$3,install$4,install]),vue.provide(VChart.THEME_KEY,"dark");const i=vue.reactive({title:{text:n.title,left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",left:"left"},series:[{name:n.seriesName,type:"pie",radius:"55%",center:["50%","60%"],data:n.seriesData,emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]});return vue.watch(n,o=>{i.title.text=o.title,i.series[0].name=o.seriesName,i.series[0].data=o.seriesData}),(o,a)=>(vue.openBlock(),vue.createBlock(vue.unref(VChart),{class:"chart",option:vue.unref(i),autoresize:""},null,8,["option"]))}}),pieCharts_vue_vue_type_style_index_0_scoped_fec2cbf2_lang="",PieCharts=_export_sfc$1(_sfc_main$H,[["__scopeId","data-v-fec2cbf2"]]),_hoisted_1$k=["id"],_hoisted_2$h=["id"],_hoisted_3$e=["fill"],_hoisted_4$a=["fill"],_hoisted_5$8=["fill"],_hoisted_6$7=vue.createElementVNode("path",{d:"M375.466667 709.214815l-25.6 137.481481c0 2.844444 1.896296 5.688889 7.585185 10.42963l65.422222 54.992593c5.688889 4.740741 15.17037 8.533333 23.703704 10.429629l36.029629-193.422222-107.14074-19.911111z",fill:"#2D4375"},null,-1),_hoisted_7$7=vue.createElementVNode("path",{d:"M482.607407 729.125926l-36.029629 193.422222c9.481481 1.896296 18.014815 1.896296 25.6-0.948148l80.592592-27.496296c6.637037-1.896296 10.42963-4.740741 11.377778-6.637037L589.748148 749.037037l-107.140741-19.911111z",fill:"#1E2D4F"},null,-1),_hoisted_8$6=["fill-opacity"],_hoisted_9$6=["fill-opacity"],_hoisted_10$5=["fill-opacity"],_hoisted_11$4=vue.createElementVNode("path",{d:"M593.540741 807.822222c1.896296-7.585185-3.792593-15.17037-11.377778-16.118518l-107.140741-19.911111-4.740741 27.496296 107.140741 19.911111c6.637037 0.948148 14.222222-3.792593 16.118519-11.377778z",fill:"#CEEFF6"},null,-1),_hoisted_12$4=vue.createElementVNode("path",{d:"M366.933333 750.933333c-7.585185-1.896296-15.17037 3.792593-16.118518 11.377778-1.896296 7.585185 3.792593 15.17037 11.377778 16.118519l107.14074 19.911111 4.740741-27.496297-107.140741-19.911111zM356.503704 808.77037c-7.585185-1.896296-15.17037 3.792593-16.118519 11.377778-1.896296 7.585185 3.792593 15.17037 11.377778 16.118519l107.140741 19.911111 4.74074-27.496297-107.14074-19.911111z",fill:"#FFFFFF"},null,-1),_hoisted_13$3=vue.createElementVNode("path",{d:"M570.785185 848.592593l-107.140741-19.911112-4.74074 27.496297 107.14074 19.911111c7.585185 1.896296 15.17037-3.792593 16.118519-11.377778 1.896296-7.585185-2.844444-15.17037-11.377778-16.118518z",fill:"#CEEFF6"},null,-1),_hoisted_14$3=["xlink:href","width","height"],_sfc_main$G=vue.defineComponent({__name:"light-a",props:{id:{default:""},isOpen:{type:Boolean,default:!1},height:{default:100},width:{default:100}},emits:["onChange"],setup(r,{emit:n}){const i=r;return vue.watch(()=>i.isOpen,()=>{n("onChange")}),(o,a)=>(vue.openBlock(),vue.createElementBlock("g",{id:i.id,style:{cursor:"pointer"}},[vue.createElementVNode("symbol",{id:`${i.id}light-121`,viewBox:"0 0 1024 1024"},[vue.createElementVNode("path",{d:"M565.096296 289.185185s-0.948148 0 0 0c-110.933333-20.859259-208.592593 40.77037-237.985185 148.859259-14.222222 53.096296-24.651852 101.451852 44.562963 221.866667 14.222222 25.6 11.377778 70.162963 8.533333 95.762963-1.896296 14.222222 64.474074 36.02963 89.125926 42.666667l95.762963-509.155556z",fill:i.isOpen?"#FDB813":"#cccccc"},null,8,_hoisted_3$e),vue.createElementVNode("path",{d:"M732.918519 513.896296c11.377778-111.881481-56.888889-203.851852-166.874075-224.711111h-0.948148L469.333333 798.340741c25.6 2.844444 94.814815 6.637037 98.607408-7.585185 6.637037-25.6 20.859259-67.318519 42.666666-86.281482C719.644444 618.192593 727.22963 568.888889 732.918519 513.896296z",fill:i.isOpen?"#FD9B13":"#bbbbbb"},null,8,_hoisted_4$a),vue.createElementVNode("path",{d:"M467.437037 806.874074c-7.585185-0.948148-12.325926-7.585185-14.222222-14.222222l-38.874074-256c-0.948148-5.688889 0.948148-11.377778 4.74074-15.170371 3.792593-3.792593 9.481481-5.688889 15.170371-4.74074l167.822222 31.288889c5.688889 0.948148 10.42963 4.740741 12.325926 9.481481 1.896296 4.740741 1.896296 11.377778-0.948148 16.118519L486.4 798.340741c-3.792593 6.637037-11.377778 10.42963-18.962963 8.533333z m-14.222222-251.259259l27.496296 182.992592L572.681481 578.37037l-119.466666-22.755555z",fill:i.isOpen?"#F12A3F":"#666666"},null,8,_hoisted_5$8),_hoisted_6$7,_hoisted_7$7,vue.createElementVNode("path",{d:"M612.503704 217.125926c-3.792593 18.014815-20.859259 29.392593-38.874074 26.548148-18.014815-3.792593-30.340741-20.859259-26.548149-38.874074l18.962963-100.503704c3.792593-18.014815 20.859259-29.392593 38.874075-26.548148 18.014815 3.792593 30.340741 20.859259 26.548148 38.874074l-18.962963 100.503704z",fill:"#FDB813","fill-opacity":i.isOpen?1:0},null,8,_hoisted_8$6),vue.createElementVNode("path",{d:"M382.103704 228.503704c10.42963 15.17037 6.637037 36.02963-8.533334 46.459259-15.17037 10.42963-36.02963 6.637037-46.459259-8.533333l-57.837037-84.385186c-10.42963-15.17037-6.637037-36.02963 8.533333-46.459259 15.17037-10.42963 36.02963-6.637037 46.45926 8.533334l57.837037 84.385185zM757.57037 298.666667c-15.17037 10.42963-18.962963 31.288889-8.533333 46.459259 10.42963 15.17037 31.288889 18.962963 46.459259 8.533333l84.385185-57.837037c15.17037-10.42963 18.962963-31.288889 8.533334-46.459259-10.42963-15.17037-31.288889-18.962963-46.459259-8.533333l-84.385186 57.837037z",fill:"#FDB813","fill-opacity":i.isOpen?1:0},null,8,_hoisted_9$6),vue.createElementVNode("path",{d:"M252.207407 361.244444c18.014815 3.792593 30.340741 20.859259 26.548149 38.874075-3.792593 18.014815-20.859259 29.392593-38.874075 26.548148l-100.503703-18.962963c-18.014815-3.792593-30.340741-20.859259-26.548148-38.874074 3.792593-18.014815 20.859259-29.392593 38.874074-26.548149l100.503703 18.962963zM931.081481 488.296296c18.014815 3.792593 30.340741 20.859259 26.548149 38.874074-3.792593 18.014815-20.859259 29.392593-38.874074 26.548149l-100.503704-18.962963c-18.014815-3.792593-30.340741-20.859259-26.548148-38.874075 3.792593-18.014815 20.859259-29.392593 38.874074-26.548148l100.503703 18.962963z",fill:"#FDB813","fill-opacity":i.isOpen?1:0},null,8,_hoisted_10$5),_hoisted_11$4,_hoisted_12$4,_hoisted_13$3],8,_hoisted_2$h),vue.createElementVNode("use",{"xlink:href":`#${i.id}light-121`,width:o.width,height:o.height},null,8,_hoisted_14$3)],8,_hoisted_1$k))}}),_hoisted_1$j=["id"],_hoisted_2$g=["id"],_hoisted_3$d=["fill"],_hoisted_4$9=["fill"],_hoisted_5$7=["fill"],_hoisted_6$6=["from","to"],_hoisted_7$6=["fill"],_hoisted_8$5=["from","to"],_hoisted_9$5=["fill"],_hoisted_10$4=["fill"],_hoisted_11$3=["fill"],_hoisted_12$3=["from","to"],_hoisted_13$2=["fill"],_hoisted_14$2=["xlink:href"],_sfc_main$F=vue.defineComponent({__name:"clock-a",props:{id:{default:""},centerColor:{default:"#EBF257"},secondsColor:{default:"#E83E24"},circleColor:{default:"#F45AFC"},minutesColor:{default:"#50E68E"},hoursColor:{default:"#9A36E7"},scaleColor:{default:"#4942CF"},backgroundColor:{default:"#ffffff"},borderColor:{default:"#B3A7FF"}},setup(r){const n=r,i=new Date(Number(window.sessionStorage.getItem("editorLoadTime")||"0")),o=i.getSeconds()+1,a=i.getMinutes(),u=Math.floor((i.getHours()+(a+o/60)/60)*30);return(c,f)=>(vue.openBlock(),vue.createElementBlock("g",{id:n.id},[vue.createElementVNode("symbol",{id:`${n.id}clock-a-n`,viewBox:"0 0 1024 1024"},[vue.createElementVNode("path",{d:"M512.3 518.9m-469.2 0a469.2 469.2 0 1 0 938.4 0 469.2 469.2 0 1 0-938.4 0Z",fill:n.borderColor},null,8,_hoisted_3$d),vue.createElementVNode("path",{d:"M512.3 518.9m-392.5 0a392.5 392.5 0 1 0 785 0 392.5 392.5 0 1 0-785 0Z",fill:n.backgroundColor},null,8,_hoisted_4$9),vue.createElementVNode("path",{d:"M512.3 523.8c-4.5 0-9-1.7-12.4-5.1L318.3 337.1c-6.8-6.8-6.8-17.9 0-24.8 6.8-6.8 17.9-6.8 24.8 0L524.7 494c6.8 6.8 6.8 17.9 0 24.8-3.5 3.3-7.9 5-12.4 5z",fill:n.minutesColor},[vue.createElementVNode("animateTransform",{attributeName:"transform",attributeType:"XML",type:"rotate",from:`${45+vue.unref(a)*6} 512.3 506.3`,to:`${405+vue.unref(a)*6} 512.3 506.3`,dur:"3600s",repeatCount:"indefinite"},null,8,_hoisted_6$6)],8,_hoisted_5$7),vue.createElementVNode("path",{d:"M512.3 523.8c-4.5 0-9-1.7-12.4-5.1-6.8-6.8-6.8-17.9 0-24.8l130.8-130.8c6.8-6.8 17.9-6.8 24.8 0 6.8 6.8 6.8 17.9 0 24.8L524.7 518.7c-3.5 3.4-7.9 5.1-12.4 5.1z",fill:n.hoursColor},[vue.createElementVNode("animateTransform",{attributeName:"transform",attributeType:"XML",type:"rotate",from:`${-45+vue.unref(u)} 512.3 506.3`,to:`${315+vue.unref(u)} 512.3 506.3`,dur:"43200s",repeatCount:"indefinite"},null,8,_hoisted_8$5)],8,_hoisted_7$6),vue.createElementVNode("path",{d:"M512.3 506.3m-47.5 0a47.5 47.5 0 1 0 95 0 47.5 47.5 0 1 0-95 0Z",fill:n.circleColor},null,8,_hoisted_9$5),vue.createElementVNode("path",{d:"M512.3 218.8c-9 0-16.3-7.3-16.3-16.3v-29.1c0-9 7.3-16.3 16.3-16.3s16.3 7.3 16.3 16.3v29.1c0 9-7.4 16.3-16.3 16.3zM512.3 880.8c-9 0-16.3-7.3-16.3-16.3v-29.1c0-9 7.3-16.3 16.3-16.3s16.3 7.3 16.3 16.3v29.1c0 9-7.4 16.3-16.3 16.3zM812.4 518.9c0-9 7.3-16.3 16.3-16.3h29.1c9 0 16.3 7.3 16.3 16.3s-7.3 16.3-16.3 16.3h-29.1c-8.9 0-16.3-7.3-16.3-16.3zM150.4 518.9c0-9 7.3-16.3 16.3-16.3h29.1c9 0 16.3 7.3 16.3 16.3s-7.3 16.3-16.3 16.3h-29.1c-8.9 0-16.3-7.3-16.3-16.3z",fill:n.scaleColor},null,8,_hoisted_10$4),vue.createElementVNode("path",{d:"M296.9 733.5c-2.2 0-4.5-0.9-6.2-2.6-3.4-3.4-3.4-9 0-12.4L540 469.2c3.4-3.4 9-3.4 12.4 0 3.4 3.4 3.4 9 0 12.4L303.1 731c-1.7 1.7-4 2.5-6.2 2.5z",fill:n.secondsColor},[vue.createElementVNode("animateTransform",{attributeName:"transform",attributeType:"XML",type:"rotate",from:`${135.5+o*6} 512.3 506.3`,to:`${495.5+o*6} 512.3 506.3`,dur:"60s",repeatCount:"indefinite"},null,8,_hoisted_12$3)],8,_hoisted_11$3),vue.createElementVNode("path",{d:"M512.3 506.3m-22.8 0a22.8 22.8 0 1 0 45.6 0 22.8 22.8 0 1 0-45.6 0Z",fill:n.centerColor},null,8,_hoisted_13$2)],8,_hoisted_2$g),vue.createElementVNode("use",{"xlink:href":`#${n.id}clock-a-n`,width:"100",height:"100"},null,8,_hoisted_14$2)],8,_hoisted_1$j))}}),_sfc_main$E=vue.defineComponent({__name:"text-box",props:{width:{default:250},height:{default:150},bgColor:{default:"#ffffff"},bgOpacity:{default:50},borderColor:{default:"#000000"},borderWidth:{default:1},borderRadius:{default:5},borderOpacity:{default:100}},setup(r){const n=r,i=vue.computed(()=>({width:(n.width>0?n.width:0)+"px",height:(n.height>0?n.height:0)+"px",borderRadius:(n.borderRadius>0?n.borderRadius:0)+"px"})),o=vue.computed(()=>({border:`${n.borderWidth>0?n.borderWidth:0}px solid ${n.borderColor}`,borderRadius:(n.borderRadius>0?n.borderRadius:0)+"px",opacity:(n.borderOpacity>0?n.borderOpacity<100?n.borderOpacity:100:0)/100})),a=vue.computed(()=>({backgroundColor:n.bgColor,opacity:(n.bgOpacity>0?n.bgOpacity<100?n.bgOpacity:100:0)/100,borderRadius:n.borderRadius+"px"}));return(u,c)=>(vue.openBlock(),vue.createElementBlock("div",{class:"outM",style:vue.normalizeStyle(i.value)},[vue.createElementVNode("div",{class:"wallI",style:vue.normalizeStyle(a.value)},null,4),vue.createElementVNode("div",{class:"borderB",style:vue.normalizeStyle(o.value)},null,4)],4))}}),textBox_vue_vue_type_style_index_0_scoped_4ab181ea_lang="",TextBox=_export_sfc$1(_sfc_main$E,[["__scopeId","data-v-4ab181ea"]]),vueComp={"svg-text":_sfc_main$K,"el-button":elementPlus.ElButton,"progress-a":_sfc_main$M,"el-tag":elementPlus.ElTag,"common-table":_sfc_main$J,"pie-charts":PieCharts,"switch-r":_sfc_main$L,"now-time":NowTime,"light-a":_sfc_main$G,"clock-a":_sfc_main$F,"text-box":TextBox},config=[...t$b,...t$1],useGlobalStore=pinia$1.defineStore("global-store",{state:()=>({config_center:config,intention:EGlobalStoreIntention.None,create_svg_info:null,done_json:[],mouse_info:{state:EMouseInfoState.Up,position_x:0,position_y:0,now_position_x:0,now_position_y:0,new_position_x:0,new_position_y:0},handle_svg_info:null,scale_info:{type:EScaleInfoType.None,scale_times:{x:1,y:1},scale_item_info:{x:0,y:0},symmetric_point:{x:0,y:0}},rotate_info:{angle:0},connection_line_node_info:{init_pos:{x:0,y:0},point_index:0}}),actions:{setCreateInfo(r){this.intention=EGlobalStoreIntention.Create,this.create_svg_info=r},setDoneJson(r){isOfType(r,"id")?(this.done_json.push(r),vue.nextTick(()=>{setSvgActualInfo(r)})):this.done_json=objectDeepClone(r),vue.nextTick(()=>{useHistoryRecord(objectDeepClone(this.done_json))})},setHandleSvgInfo(r,n){let i=n;r?(!i&&i!=0&&(i=this.done_json.findIndex(o=>o.id===r.id)??-1),this.handle_svg_info={info:r,index:i}):this.handle_svg_info=r},spliceDoneJson(r){const n=useGlobalStore(),o=n.done_json.splice(r,1)[0];unbindAnchors(o.id),useHistoryRecord(n.done_json)}}}),useSvgEditLayoutStore=pinia$1.defineStore("svg-edit-layout-store",{state:()=>({left_nav:!0,right_nav:!0,center_offset:{x:0,y:0},canvasInfo:{with:0,height:0,top:0,left:0}})}),stopEvent=r=>{r.stopPropagation()},preventDefault=r=>{r.preventDefault()};function componentsRegister(r){var o,a;const n=vue.getCurrentInstance(),i=r?Object.assign(vueComp,r):vueComp;for(let u in i)!((o=n==null?void 0:n.appContext)!=null&&o.components.hasOwnProperty(u))&&vueComp.hasOwnProperty(u)&&((a=n==null?void 0:n.appContext)==null||a.app.component(u,vueComp[u]))}function setEditorLoadTime(){window.sessionStorage.setItem("editorLoadTime",new Date().getTime().toString())}const randomString=r=>{r=r||10;const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=n.length;let o="";for(let a=0;a<r;a++){let u=i;a===0&&(u=i-10),o+=n.charAt(Math.floor(Math.random()*u))}return o},isOfType=(r,n)=>r[n]!==void 0,getCoordinateOffset=(r,n)=>r/2*(n-1),angleToRadian=r=>r*Math.PI/180,calculateRotatedPointCoordinate=(r,n,i)=>({x:parseFloat(((r.x-n.x)*Math.cos(angleToRadian(i))-(r.y-n.y)*Math.sin(angleToRadian(i))+n.x).toFixed(1)),y:parseFloat(((r.x-n.x)*Math.sin(angleToRadian(i))+(r.y-n.y)*Math.cos(angleToRadian(i))+n.y).toFixed(1))}),getCenterPoint=(r,n)=>({x:r.x+(n.x-r.x)/2,y:r.y+(n.y-r.y)/2}),positionArrToPath=r=>{let n="";for(let i=0;i<r.length;i++)i===0?n+=`M ${r[i].x} ${r[i].y}`:n+=` L ${r[i].x} ${r[i].y}`;return n},getSvgNowPosition=(r,n,i)=>i+(n-r),objectDeepClone=(r,n={})=>r?JSON.parse(JSON.stringify(r)):n,setSvgActualInfo=(r,n)=>{var a,u;const i=document.querySelector(`#${r.id}`),o=document.querySelector(`#rect${r.id}`);if(i){let c=0,f=0,d=0,h=0;if(r.type===EDoneJsonType.Vue){d=((a=r.props.width)==null?void 0:a.val)||i.offsetWidth||100,h=((u=r.props.height)==null?void 0:u.val)||i.offsetHeight||100,c=50-d/2,f=50-h/2;const v=document.querySelector(`#foreign-object${r.id}`);v&&(v.getAttribute("x")==="0"&&v.getAttribute("y")==="0"&&v.getAttribute("width")==="0"&&v.getAttribute("height")==="0"||n)&&(v.setAttribute("x",c.toString()),v.setAttribute("y",f.toString()),v.setAttribute("width",d.toString()),v.setAttribute("height",h.toString()))}else{const v=i.getBBox();c=parseFloat(v.x.toFixed(0)),f=parseFloat(v.y.toFixed(0)),d=parseFloat(v.width.toFixed(0)),h=parseFloat(v.height.toFixed(0))}o&&(o.getAttribute("x")==="0"&&o.getAttribute("y")==="0"&&o.getAttribute("width")==="0"&&o.getAttribute("height")==="0"||n)&&(o.setAttribute("x",c.toString()),o.setAttribute("y",f.toString()),o.setAttribute("width",d.toString()),o.setAttribute("height",h.toString())),(r.actual_bound.x===0&&r.actual_bound.y===0&&r.actual_bound.width===0&&r.actual_bound.height===0||n)&&(r.actual_bound={x:c,y:f,width:d,height:h}),r.center_position={x:r.x+r.actual_bound.x+d/2,y:r.y+r.actual_bound.y+h/2},r.point_coordinate.tl={x:r.center_position.x-d*r.scale_x/2,y:r.center_position.y-h*r.scale_y/2},r.point_coordinate.tc={x:r.center_position.x,y:r.center_position.y-h*r.scale_y/2},r.point_coordinate.tr={x:r.center_position.x+d*r.scale_x/2,y:r.center_position.y-h*r.scale_y/2},r.point_coordinate.l={x:r.center_position.x-d*r.scale_x/2,y:r.center_position.y},r.point_coordinate.r={x:r.center_position.x+d*r.scale_x/2,y:r.center_position.y},r.point_coordinate.bl={x:r.center_position.x-d*r.scale_x/2,y:r.center_position.y+h*r.scale_y/2},r.point_coordinate.bc={x:r.center_position.x,y:r.center_position.y+h*r.scale_y/2},r.point_coordinate.br={x:r.center_position.x+d*r.scale_x/2,y:r.center_position.y+h*r.scale_y/2},r.rotate!==0&&setAfterRotationPointCoordinate(r),moveAnchors(r)}},resetHandlePointOld=r=>{for(const n of Object.keys(r.point_coordinate))r.point_coordinate_old&&(r.point_coordinate_old[n].x=0,r.point_coordinate_old[n].y=0)},moveHandlePoint=(r,n,i)=>{const o=useGlobalStore(pinia),a=n??o.mouse_info.new_position_x-o.mouse_info.position_x,u=i??o.mouse_info.new_position_y-o.mouse_info.position_y;for(const c of Object.keys(r.point_coordinate))n!==void 0&&i!==void 0?(r.point_coordinate[c].x+=a,r.point_coordinate[c].y+=u):r.point_coordinate_old&&(r.point_coordinate[c].x=r.point_coordinate_old[c].x+a,r.point_coordinate[c].y=r.point_coordinate_old[c].y+u)},moveAnchors=r=>{var i,o,a,u;const n=useGlobalStore(pinia);for(let c of n.done_json)if(c.type===EDoneJsonType.ConnectionLine){if(((o=(i=c.bind_anchors)==null?void 0:i.start)==null?void 0:o.target_id)===r.id){const f=getAnchorPosByAnchorType(c.bind_anchors.start.type,r);c.props.point_position.val[0]={x:f.x-c.x,y:f.y-c.y}}if(((u=(a=c.bind_anchors)==null?void 0:a.end)==null?void 0:u.target_id)===r.id){const f=getAnchorPosByAnchorType(c.bind_anchors.end.type,r);c.props.point_position.val[c.props.point_position.val.length-1]={x:f.x-c.x,y:f.y-c.y}}}},unbindAnchors=r=>{var i,o,a,u;const n=useGlobalStore(pinia);for(let c of n.done_json)c.type===EDoneJsonType.ConnectionLine&&(((o=(i=c.bind_anchors)==null?void 0:i.start)==null?void 0:o.target_id)===r&&(c.bind_anchors.start=null),((u=(a=c.bind_anchors)==null?void 0:a.end)==null?void 0:u.target_id)===r&&(c.bind_anchors.end=null))},getAnchorPosByAnchorType=(r,n)=>r===ELineBindAnchors.BottomCenter?n.point_coordinate.bc:r===ELineBindAnchors.Left?n.point_coordinate.l:r===ELineBindAnchors.Right?n.point_coordinate.r:n.point_coordinate.tc,setAfterRotationPointCoordinate=r=>{r.point_coordinate={tl:calculateRotatedPointCoordinate(r.point_coordinate.tl,r.center_position,r.rotate),tc:calculateRotatedPointCoordinate(r.point_coordinate.tc,r.center_position,r.rotate),tr:calculateRotatedPointCoordinate(r.point_coordinate.tr,r.center_position,r.rotate),l:calculateRotatedPointCoordinate(r.point_coordinate.l,r.center_position,r.rotate),r:calculateRotatedPointCoordinate(r.point_coordinate.r,r.center_position,r.rotate),bl:calculateRotatedPointCoordinate(r.point_coordinate.bl,r.center_position,r.rotate),bc:calculateRotatedPointCoordinate(r.point_coordinate.bc,r.center_position,r.rotate),br:calculateRotatedPointCoordinate(r.point_coordinate.br,r.center_position,r.rotate)}},prosToVBind=(r,n=[])=>{let i={};if(r.state){for(const o in r.state)if(r.state.hasOwnProperty(o)&&o===r.defaultState){for(let a in r.state[o])a!=="label"&&(i[lodashEs.kebabCase(a)]=r.state[o][a]);break}}for(const o in r.props)n.indexOf(o)<0&&(i[lodashEs.kebabCase(o)]=r.props[o].val);return i},setArrItemByID=(id,key,val,json_arr)=>new Promise(res=>{const find_item=json_arr.find(r=>r.id===id);find_item||res({status:!1,msg:"要设置的id不存在"}),eval(`find_item.${key} = val;`),res({status:!0,msg:"操作成功"})}),getCommonClass=r=>!r.common_animations||!r.common_animations.val?"":`common-ani animate__animated animate__${r.common_animations.val} animate__${r.common_animations.speed} animate__${r.common_animations.repeat} animate__${r.common_animations.delay}`,numberArray=r=>{let n=[];for(let i=0;i<r;i++)n.push(i);return n},getStringWidth=(r,n=12)=>{if(r.length>0){let i=document.createElement("span");i.style.fontSize=n+"px",i.style.fontFamily="inherit",i.innerHTML=r,i.style.opacity="0",i.style.position="fixed",i.style.top="3000px",document.body.append(i);const o=i.clientWidth;return document.body.removeChild(i),o}return 0},valFormat=r=>/false|true/.test(r)?r!=="false":/^\d+(\.\d+)?$/.test(r)?Number(r):r,createLine=(r,n,i)=>{r.preventDefault();const o=useGlobalStore(pinia),a=useConfigStore(pinia),u=useSvgEditLayoutStore(pinia),{clientX:c,clientY:f}=r;let d=objectDeepClone(a.connection_line),h=0,v=0;if(n&&i){d.bind_anchors.start={type:n,target_id:i.id};let p=getAnchorPosByAnchorType(n,i);h=p.x,v=p.y}else h=Math.round((c-u.canvasInfo.left)/a.svg.scale-u.center_offset.x),v=Math.round((f-u.canvasInfo.top)/a.svg.scale-u.center_offset.y);const g={id:randomString(),x:h,y:v,client:{x:h,y:v},scale_x:1,scale_y:1,rotate:0,actual_bound:{x:0,y:0,width:0,height:0},center_position:{x:0,y:0},point_coordinate:{tl:{x:0,y:0},tc:{x:0,y:0},tr:{x:0,y:0},l:{x:0,y:0},r:{x:0,y:0},bl:{x:0,y:0},bc:{x:0,y:0},br:{x:0,y:0}},...d};g.props.point_position.val.push({x:0,y:0}),o.setDoneJson(g),o.setHandleSvgInfo(g,o.done_json.length-1),o.intention=EGlobalStoreIntention.Connection,o.mouse_info={state:EMouseInfoState.Down,position_x:h,position_y:v,now_position_x:h,now_position_y:v,new_position_x:0,new_position_y:0}};Object.seal({name:"straight-line",title:"直线",type:EDoneJsonType.StraightLine,config:{can_zoom:!1,have_anchor:!1,actual_rect:!1},display:!0,props:{fill:{title:"填充色",type:EConfigItemPropsType.Color,val:"#ff0000"},start_x:{title:"起点x坐标",type:EConfigItemPropsType.InputNumber,val:0},start_y:{title:"起点y坐标",type:EConfigItemPropsType.InputNumber,val:0},end_x:{title:"终点x坐标",type:EConfigItemPropsType.InputNumber,val:0},end_y:{title:"终点y坐标",type:EConfigItemPropsType.InputNumber,val:0}},bind_anchors:{start:null,end:null},events:[]});const connection_line_system={name:"connection_line",title:"连接线",type:EDoneJsonType.ConnectionLine,config:{can_zoom:!1,have_anchor:!1,actual_rect:!1},display:!0,props:{stroke:{title:"线条颜色",type:EConfigItemPropsType.Color,val:"#ff0000"},"stroke-width":{title:"线条宽度",type:EConfigItemPropsType.InputNumber,val:2},point_r:{title:"节点半径",type:EConfigItemPropsType.InputNumber,val:4},point_position:{title:"点坐标",type:EConfigItemPropsType.JsonEdit,val:[]}},animations:{type:{title:"动画类型",type:EConfigItemPropsType.Select,val:EConfigAnimationsType.None,options:[{label:"无",value:EConfigAnimationsType.None},{label:"电流",value:EConfigAnimationsType.Electricity},{label:"轨迹",value:EConfigAnimationsType.Track},{label:"水珠",value:EConfigAnimationsType.WaterDrop}]},dur:{title:"持续时间",type:EConfigItemPropsType.InputNumber,val:20},repeatCount:{title:"循环次数",type:EConfigItemPropsType.Input,val:"indefinite",disabled:!0},color:{title:"颜色",type:EConfigItemPropsType.Color,val:"#602a00"},reverse:{title:"反转动画",type:EConfigItemPropsType.Switch,val:!1}},bind_anchors:{start:null,end:null},events:[]},common_animate_list=[{label:"进入",children:[{label:"渐显",value:"fadeIn"},{label:"向右进入",value:"fadeInLeft"},{label:"向左进入",value:"fadeInRight"},{label:"向上进入",value:"fadeInUp"},{label:"向下进入",value:"fadeInDown"},{label:"向右长距进入",value:"fadeInLeftBig"},{label:"向左长距进入",value:"fadeInRightBig"},{label:"向上长距进入",value:"fadeInUpBig"},{label:"向下长距进入",value:"fadeInDownBig"},{label:"旋转进入",value:"rotateIn"},{label:"左顺时针旋转",value:"rotateInDownLeft"},{label:"右逆时针旋转",value:"rotateInDownRight"},{label:"左逆时针旋转",value:"rotateInUpLeft"},{label:"右逆时针旋转",value:"rotateInUpRight"},{label:"弹入",value:"bounceIn"},{label:"向右弹入",value:"bounceInLeft"},{label:"向左弹入",value:"bounceInRight"},{label:"向上弹入",value:"bounceInUp"},{label:"向下弹入",value:"bounceInDown"},{label:"光速从右进入",value:"lightSpeedInRight"},{label:"光速从左进入",value:"lightSpeedInLeft"},{label:"光速从右退出",value:"lightSpeedOutRight"},{label:"光速从左退出",value:"lightSpeedOutLeft"},{label:"Y轴旋转",value:"flip"},{label:"中心X轴旋转",value:"flipInX"},{label:"中心Y轴旋转",value:"flipInY"},{label:"左长半径旋转",value:"rollIn"},{label:"由小变大进入",value:"zoomIn"},{label:"左变大进入",value:"zoomInLeft"},{label:"右变大进入",value:"zoomInRight"},{label:"向上变大进入",value:"zoomInUp"},{label:"向下变大进入",value:"zoomInDown"},{label:"向右滑动展开",value:"slideInLeft"},{label:"向左滑动展开",value:"slideInRight"},{label:"向上滑动展开",value:"slideInUp"},{label:"向下滑动展开",value:"slideInDown"}]},{label:"强调",children:[{label:"弹跳",value:"bounce"},{label:"闪烁",value:"flash"},{label:"放大缩小",value:"pulse"},{label:"放大缩小弹簧",value:"rubberBand"},{label:"左右晃动",value:"headShake"},{label:"左右扇形摇摆",value:"swing"},{label:"放大晃动缩小",value:"tada"},{label:"扇形摇摆",value:"wobble"},{label:"左右上下晃动",value:"jello"},{label:"Y轴旋转",value:"flip"}]},{label:"退出",children:[{label:"渐隐",value:"fadeOut"},{label:"向左退出",value:"fadeOutLeft"},{label:"向右退出",value:"fadeOutRight"},{label:"向上退出",value:"fadeOutUp"},{label:"向下退出",value:"fadeOutDown"},{label:"向左长距退出",value:"fadeOutLeftBig"},{label:"向右长距退出",value:"fadeOutRightBig"},{label:"向上长距退出",value:"fadeOutUpBig"},{label:"向下长距退出",value:"fadeOutDownBig"},{label:"旋转退出",value:"rotateOut"},{label:"左顺时针旋转",value:"rotateOutDownLeft"},{label:"右逆时针旋转",value:"rotateOutDownRight"},{label:"左逆时针旋转",value:"rotateOutUpLeft"},{label:"右逆时针旋转",value:"rotateOutUpRight"},{label:"弹出",value:"bounceOut"},{label:"向左弹出",value:"bounceOutLeft"},{label:"向右弹出",value:"bounceOutRight"},{label:"向上弹出",value:"bounceOutUp"},{label:"向下弹出",value:"bounceOutDown"},{label:"中心X轴旋转",value:"flipOutX"},{label:"中心Y轴旋转",value:"flipOutY"},{label:"左长半径旋转",value:"rollOut"},{label:"由小变大退出",value:"zoomOut"},{label:"左变大退出",value:"zoomOutLeft"},{label:"右变大退出",value:"zoomOutRight"},{label:"向上变大退出",value:"zoomOutUp"},{label:"向下变大退出",value:"zoomOutDown"},{label:"向左滑动收起",value:"slideOutLeft"},{label:"向右滑动收起",value:"slideOutRight"},{label:"向上滑动收起",value:"slideOutUp"},{label:"向下滑动收起",value:"slideOutDown"}]}];let l=localStorage.getItem("svg-editor-config"),s,t;if(l){let r=JSON.parse(l);t=r.connection_line,s=r.svg}else t=objectDeepClone(connection_line_system),s={background_color:"#fff",scale:1,grid:!0,grid_color:"#ebebeb",ruler:!0};const useConfigStore=pinia$1.defineStore("config-store",{state:()=>({svg:s,connection_line:t,net:{mqtt:{url:"",user:"",pwd:"",topics:""}}}),getters:{},actions:{}});var EContextMenuInfoType=(r=>(r.Copy="Copy",r.Delete="Delete",r.MoveUpOneLevel="MoveUpOneLevel",r.MoveDownOneLevel="MoveDownOneLevel",r.MoveUpTopLevel="MoveUpTopLevel",r.MoveDownTopLevel="MoveDownTopLevel",r))(EContextMenuInfoType||{});const useEditPrivateStore=pinia$1.defineStore("edit-private-store",{state:()=>({old_done_components:[],history_doneComponent:[],history_now_index:0,is_record_history:!0,max_record_times:10}),getters:{getTopBtnUndoStatus(r){return r.history_now_index>=1},getTopBtnRedoStatus(r){return r.history_now_index+1!=r.history_doneComponent.length}},actions:{topUndoBtnClick(){if(console.log("撤销"),this.history_now_index<1)return;const r=useGlobalStore();this.is_record_history=!1,this.history_now_index-=1,r.setDoneJson(this.history_doneComponent[this.history_now_index])},topRedoBtnClick(){if(console.log("重做"),this.history_now_index+1==this.history_doneComponent.length)return;const r=useGlobalStore();this.is_record_history=!1,this.history_now_index+=1,r.setDoneJson(this.history_doneComponent[this.history_now_index])}}}),useContextMenuStore=pinia$1.defineStore("context-menu-store",{state:()=>({display:!1,info:{[EContextMenuInfoType.Copy]:{title:"复制",hot_key:"Ctrl + c",enable:!0},[EContextMenuInfoType.Delete]:{title:"删除",hot_key:"Delete",enable:!0},[EContextMenuInfoType.MoveUpTopLevel]:{title:"置于顶层",hot_key:"Ctrl + →",enable:!0},[EContextMenuInfoType.MoveDownTopLevel]:{title:"置于底层",hot_key:"Ctrl + ←",enable:!0},[EContextMenuInfoType.MoveUpOneLevel]:{title:"置于上一层",hot_key:"Ctrl + ↑",enable:!0},[EContextMenuInfoType.MoveDownOneLevel]:{title:"置于下一层",hot_key:"Ctrl + ↓",enable:!0}}}),actions:{onContextMenuClick(r){const n=useGlobalStore();if(n.handle_svg_info)switch(n.intention=EGlobalStoreIntention.Select,r){case EContextMenuInfoType.Copy:const i=objectDeepClone(n.handle_svg_info.info);i.id=randomString(),i.title+="-copy",i.x+=10,i.y+=10,n.setDoneJson(i),this.display=!1,n.setHandleSvgInfo(i,n.done_json.length);break;case EContextMenuInfoType.Delete:n.spliceDoneJson(n.handle_svg_info.index),this.display=!1,n.setHandleSvgInfo(null),n.intention=EGlobalStoreIntention.None;break;case EContextMenuInfoType.MoveUpOneLevel:if(n.done_json.length===1||n.handle_svg_info.index===n.done_json.length-1)return;const o=n.handle_svg_info.info;n.done_json[n.handle_svg_info.index]=n.done_json[n.handle_svg_info.index+1],n.done_json[n.handle_svg_info.index+1]=o,useHistoryRecord(n.done_json),this.display=!1,n.setHandleSvgInfo(o,n.handle_svg_info.index+1);break;case EContextMenuInfoType.MoveDownOneLevel:if(n.done_json.length===1||n.handle_svg_info.index===0)return;const a=n.handle_svg_info.info;n.done_json[n.handle_svg_info.index]=n.done_json[n.handle_svg_info.index-1],n.done_json[n.handle_svg_info.index-1]=a,useHistoryRecord(n.done_json),this.display=!1,n.setHandleSvgInfo(a,n.handle_svg_info.index-1);break;case EContextMenuInfoType.MoveDownTopLevel:if(n.done_json.length===1||n.handle_svg_info.index===0)return;const u=n.handle_svg_info.info;n.done_json.splice(n.handle_svg_info.index,1),n.done_json.unshift(u),useHistoryRecord(n.done_json),this.display=!1,n.setHandleSvgInfo(u,0);break;case EContextMenuInfoType.MoveUpTopLevel:if(n.done_json.length===1||n.handle_svg_info.index===n.done_json.length)return;const c=n.handle_svg_info.info;n.done_json.splice(n.handle_svg_info.index,1),n.done_json.push(c),useHistoryRecord(n.done_json),this.display=!1,n.setHandleSvgInfo(c,n.done_json.length-1);break}}}}),pinia=pinia$1.createPinia(),useHistoryRecord=r=>{const n=useEditPrivateStore();n.is_record_history&&(n.history_now_index+1<n.history_doneComponent.length&&n.history_doneComponent.splice(n.history_now_index+1),n.history_doneComponent.push(r),n.history_now_index=n.history_doneComponent.length-1,n.history_doneComponent.length>n.max_record_times&&(n.history_doneComponent.shift(),n.history_now_index=n.history_doneComponent.length-1)),n.is_record_history=!0},useImportDataModel=r=>{try{const n=JSON.parse(r);if(!n.config||!n.layout_center||!n.done_json)return elementPlus.ElMessage.error("请导入正确的数据模型！"),!1;const i=useGlobalStore(pinia),o=useSvgEditLayoutStore(pinia),a=useConfigStore(pinia);return a.$state=n.config,o.center_offset=n.layout_center,i.setDoneJson(n.done_json),!0}catch(n){return elementPlus.ElMessage.error("请导入正确的数据模型！"),console.error(n),!1}},_hoisted_1$i={"aria-hidden":"true"},_hoisted_2$f=["xlink:href"],_sfc_main$D=vue.defineComponent({__name:"svg-analysis",props:{name:{},props:{default:()=>({})}},setup(r){const n=r,i=vue.computed(()=>`#svg-${n.name}`);return(o,a)=>(vue.openBlock(),vue.createElementBlock("svg",_hoisted_1$i,[vue.createElementVNode("use",vue.mergeProps({"xlink:href":vue.unref(i)},n.props),null,16,_hoisted_2$f)]))}});var EVisibleConfKey=(r=>(r.ImportJson="ImportJson",r.ExportJson="ExportJson",r.ImportFile="ImportFile",r))(EVisibleConfKey||{});const _withScopeId$2=r=>(vue.pushScopeId("data-v-62907637"),r=r(),vue.popScopeId(),r),_hoisted_1$h={class:"flex justify-between",style:{width:"100%"}},_hoisted_2$e={class:"flex items-center justify-between",style:{width:"250px"}},_hoisted_3$c=_withScopeId$2(()=>vue.createElementVNode("div",{class:"flex items-center"},[vue.createElementVNode("span",{class:"logo-title"},"Svg Editor")],-1)),_hoisted_4$8={class:"flex justify-between",style:{width:"calc(100% - 440px)"}},_hoisted_5$6={class:"flex items-center"},_hoisted_6$5={class:"flex items-center mr-20px"},_hoisted_7$5={class:"flex items-center",style:{width:"250px"}},_hoisted_8$4=_withScopeId$2(()=>vue.createElementVNode("div",{class:"font-bold mb-10px text-15px guide-title",style:{"padding-top":"16px"}},"多选",-1)),_hoisted_9$4=_withScopeId$2(()=>vue.createElementVNode("div",null,"在画布空白区域按住鼠标左键可以框选（图形坐标在框选区域即判定被选中），也可以按住ctrl+鼠标左键点图形进行多选",-1)),_hoisted_10$3=_withScopeId$2(()=>vue.createElementVNode("div",{class:"el-divider el-divider--horizontal",role:"separator",style:{"--el-border-style":"solid"}},null,-1)),_hoisted_11$2=_withScopeId$2(()=>vue.createElementVNode("div",{class:"font-bold mb-10px text-15px guide-title"},"拖动画布",-1)),_hoisted_12$2=_withScopeId$2(()=>vue.createElementVNode("div",null,"在画布空白区域按住右键可拖动画布，右侧面板‘图纸’栏可微调或重置位置",-1)),_hoisted_13$1=_withScopeId$2(()=>vue.createElementVNode("div",{class:"el-divider el-divider--horizontal",role:"separator",style:{"--el-border-style":"solid"}},null,-1)),_hoisted_14$1=_withScopeId$2(()=>vue.createElementVNode("div",{class:"font-bold mb-10px text-15px guide-title"},"画布缩放",-1)),_hoisted_15$1=_withScopeId$2(()=>vue.createElementVNode("div",null,"在画布空白区使用鼠标滚轮或者右侧面板‘图纸’栏可控制画布缩放",-1)),_hoisted_16$2=_withScopeId$2(()=>vue.createElementVNode("div",{class:"el-divider el-divider--horizontal",role:"separator",style:{"--el-border-style":"solid"}},null,-1)),_hoisted_17$1=_withScopeId$2(()=>vue.createElementVNode("div",{class:"font-bold mb-10px text-15px guide-title"},"标尺辅助线",-1)),_hoisted_18$1=_withScopeId$2(()=>vue.createElementVNode("div",null,"在标尺区域按住鼠标左键并拖动即可创建标尺辅助线，将标尺辅助线拖动到标尺区域即可删除标尺辅助线",-1)),_hoisted_19=_withScopeId$2(()=>vue.createElementVNode("div",{class:"el-divider el-divider--horizontal",role:"separator",style:{"--el-border-style":"solid"}},null,-1)),_hoisted_20=_withScopeId$2(()=>vue.createElementVNode("div",{class:"font-bold mb-10px text-15px guide-title"},"组件尺寸",-1)),_hoisted_21=_withScopeId$2(()=>vue.createElementVNode("div",null,[vue.createElementVNode("p",null," 大多数组件可以通过选中组件然后拖动交互点或在右侧‘外观’栏改变外形尺寸，或通过右侧‘数据’栏直接或间接改变外形尺寸；"),vue.createElementVNode("p",null,"少数特殊组件仅可通过右侧'数据'栏直接或间接改变外形尺寸")],-1)),_hoisted_22$1=_withScopeId$2(()=>vue.createElementVNode("div",{class:"el-divider el-divider--horizontal",role:"separator",style:{"--el-border-style":"solid"}},null,-1)),_hoisted_23=_withScopeId$2(()=>vue.createElementVNode("div",{class:"font-bold mb-10px text-15px guide-title"},"连线样式",-1)),_hoisted_24=_withScopeId$2(()=>vue.createElementVNode("div",null,"在右侧‘连线’栏可以统一配置连线样式，配置后先增加的线会应用新样式，之前的线样式不变，如需改变，可选中线手动更改或删除重画 ",-1)),_hoisted_25=_withScopeId$2(()=>vue.createElementVNode("div",{class:"el-divider el-divider--horizontal",role:"separator",style:{"--el-border-style":"solid"}},null,-1)),_hoisted_26$1=_withScopeId$2(()=>vue.createElementVNode("div",{class:"font-bold mb-10px text-15px guide-title"},"横线和竖线",-1)),_hoisted_27=_withScopeId$2(()=>vue.createElementVNode("div",{class:"guide-text"},[vue.createElementVNode("p",null," 点击编辑器顶部连线按钮会进入连线状态，该状态下在画板点击鼠标左键即可开始画线，移动并再次点击左键创建新的节点，右键结束画线并退出连线状态；"),vue.createElementVNode("p",null,"画线的时候按住ctrl即可画竖线，按住shift即可画横线")],-1)),_hoisted_28=_withScopeId$2(()=>vue.createElementVNode("div",{class:"el-divider el-divider--horizontal",role:"separator",style:{"--el-border-style":"solid"}},null,-1)),_hoisted_29=_withScopeId$2(()=>vue.createElementVNode("div",{class:"font-bold mb-10px text-15px guide-title"},"绑定锚点",-1)),_hoisted_30=_withScopeId$2(()=>vue.createElementVNode("div",{class:"guide-text"},[vue.createElementVNode("p",null,"组件在未选中时，鼠标经过组件时会出现锚点，鼠标悬浮在锚点上时，会有交互样式，点击左键即可以锚点为起点创建连线；"),vue.createElementVNode("p",null,"同样，在连线时鼠标经过锚点时，会出现锚点交互样式，点击左键即可以锚点为连线终点结束连线；"),vue.createElementVNode("p",null,"这两种情况下的连线会绑定组件上的锚点，如需解绑，参考下面的‘锚点解绑’；"),vue.createElementVNode("p",null,"同样，也可先画线，再选中连线绑定想要绑定的组件锚点（连线只有首尾节点可以绑定锚点）")],-1)),_hoisted_31=_withScopeId$2(()=>vue.createElementVNode("div",{class:"el-divider el-divider--horizontal",role:"separator",style:{"--el-border-style":"solid"}},null,-1)),_hoisted_32$1=_withScopeId$2(()=>vue.createElementVNode("div",{class:"font-bold mb-10px text-15px guide-title"},"线段选中",-1)),_hoisted_33=_withScopeId$2(()=>vue.createElementVNode("div",null," 若线段绑定了锚点，移动线段，绑定的锚点不会移动。若是想将线段整体移动，需要先解绑，参考下面的‘锚点解绑’ ",-1)),_hoisted_34=_withScopeId$2(()=>vue.createElementVNode("div",{class:"el-divider el-divider--horizontal",role:"separator",style:{"--el-border-style":"solid"}},null,-1)),_hoisted_35=_withScopeId$2(()=>vue.createElementVNode("div",{class:"font-bold mb-10px text-15px guide-title"},"锚点解绑",-1)),_hoisted_36$1=_withScopeId$2(()=>vue.createElementVNode("div",{style:{"padding-bottom":"14px"}}," 选中线段，在右侧‘数据’栏里解除绑定；或者鼠标左键拖拽连线上需要解绑的节点",-1)),_sfc_main$C=vue.defineComponent({__name:"top-panel",emits:["changeVisible","onReturn","onPreview","onSave"],setup(r,{emit:n}){const i=useSvgEditLayoutStore(pinia),o=useGlobalStore(pinia),a=useEditPrivateStore(pinia),u=useConfigStore(pinia),c=()=>{o.done_json.length<=0||o.setDoneJson([]),o.intention=EGlobalStoreIntention.None},f=v=>{const g={layout_center:i.center_offset,config:u.$state,done_json:o.done_json};n(v,g)},d=vue.ref(!1),h=vue.computed({get:()=>o.intention===EGlobalStoreIntention.Connection,set(v){o.intention=v?EGlobalStoreIntention.Connection:EGlobalStoreIntention.None,v&&o.setHandleSvgInfo(null)}});return(v,g)=>(vue.openBlock(),vue.createElementBlock(vue.Fragment,null,[vue.createElementVNode("div",_hoisted_1$h,[vue.createElementVNode("div",_hoisted_2$e,[_hoisted_3$c,vue.createVNode(vue.unref(elementPlus.ElIcon),{size:24,class:"bt-Icon",onClick:g[0]||(g[0]=p=>vue.unref(i).left_nav=!vue.unref(i).left_nav),title:vue.unref(i).left_nav?"隐藏左侧菜单":"显示左侧菜单"},{default:vue.withCtx(()=>[vue.unref(i).left_nav?(vue.openBlock(),vue.createBlock(_sfc_main$D,{key:0,name:"menu-unfold"})):(vue.openBlock(),vue.createBlock(_sfc_main$D,{key:1,name:"menu-fold"}))]),_:1},8,["title"])]),vue.createElementVNode("div",_hoisted_4$8,[vue.createElementVNode("div",_hoisted_5$6,[vue.createVNode(vue.unref(elementPlus.ElIcon),{title:"撤销 ctrl+z",size:24,class:vue.normalizeClass(`${vue.unref(a).getTopBtnUndoStatus?"bt-Icon":"icon-disable"} ml-20px`),onClick:g[1]||(g[1]=()=>vue.unref(a).topUndoBtnClick())},{default:vue.withCtx(()=>[vue.createVNode(_sfc_main$D,{name:vue.unref(a).getTopBtnUndoStatus?"undo":"undo-gray"},null,8,["name"])]),_:1},8,["class"]),vue.createVNode(vue.unref(elementPlus.ElIcon),{title:"重做 ctrl+shift+z",class:vue.normalizeClass(`${vue.unref(a).getTopBtnRedoStatus?"bt-Icon":"icon-disable"} ml-5px`),size:24,onClick:g[2]||(g[2]=()=>vue.unref(a).topRedoBtnClick())},{default:vue.withCtx(()=>[vue.createVNode(_sfc_main$D,{name:vue.unref(a).getTopBtnRedoStatus?"redo":"redo-gray"},null,8,["name"])]),_:1},8,["class"]),vue.createVNode(vue.unref(elementPlus.ElDivider),{direction:"vertical"}),vue.createVNode(vue.unref(elementPlus.ElIcon),{title:"清空 ctrl+delete",class:vue.normalizeClass(vue.unref(o).done_json.length>0?"bt-Icon":"icon-disable"),size:24,onClick:c},{default:vue.withCtx(()=>[vue.createVNode(_sfc_main$D,{name:vue.unref(o).done_json.length>0?"delete":"delete-gray"},null,8,["name"])]),_:1},8,["class"]),vue.createVNode(vue.unref(elementPlus.ElDivider),{direction:"vertical"}),vue.createVNode(vue.unref(elementPlus.ElIcon),{title:"导入数据模型",class:"bt-Icon",size:24,onClick:g[3]||(g[3]=p=>n("changeVisible",vue.unref(EVisibleConfKey).ImportJson,!0))},{default:vue.withCtx(()=>[vue.createVNode(_sfc_main$D,{name:"import"})]),_:1}),vue.createVNode(vue.unref(elementPlus.ElIcon),{title:"导出数据模型",size:24,class:"bt-Icon ml-5px",onClick:g[4]||(g[4]=p=>n("changeVisible",vue.unref(EVisibleConfKey).ExportJson,!0))},{default:vue.withCtx(()=>[vue.createVNode(_sfc_main$D,{name:"export"})]),_:1}),vue.createVNode(vue.unref(elementPlus.ElDivider),{direction:"vertical"}),vue.createVNode(vue.unref(elementPlus.ElIcon),{title:"创建连线",class:vue.normalizeClass(["bt-Icon",{active:vue.unref(h)}]),size:24,onClick:g[5]||(g[5]=p=>h.value=!vue.unref(h))},{default:vue.withCtx(()=>[vue.createVNode(_sfc_main$D,{name:vue.unref(h)?"line-active":"line"},null,8,["name"])]),_:1},8,["class"]),vue.createVNode(vue.unref(elementPlus.ElDivider),{direction:"vertical"}),vue.createVNode(vue.unref(elementPlus.ElIcon),{title:"说明",class:"bt-Icon",size:24,onClick:g[6]||(g[6]=p=>d.value=!vue.unref(d))},{default:vue.withCtx(()=>[vue.createVNode(_sfc_main$D,{name:"question"})]),_:1})]),vue.createElementVNode("div",_hoisted_6$5,[vue.createVNode(vue.unref(elementPlus.ElIcon),{title:"返回",class:"bt-Icon",size:24,onClick:g[7]||(g[7]=p=>f("onReturn"))},{default:vue.withCtx(()=>[vue.createVNode(_sfc_main$D,{name:"return"})]),_:1}),vue.createVNode(vue.unref(elementPlus.ElDivider),{direction:"vertical"}),vue.createVNode(vue.unref(elementPlus.ElIcon),{title:"保存",class:"bt-Icon",size:24,onClick:g[8]||(g[8]=p=>f("onSave"))},{default:vue.withCtx(()=>[vue.createVNode(_sfc_main$D,{name:"save"})]),_:1}),vue.createVNode(vue.unref(elementPlus.ElDivider),{direction:"vertical"}),vue.createVNode(vue.unref(elementPlus.ElIcon),{title:"预览",class:"bt-Icon",size:22,onClick:g[9]||(g[9]=p=>f("onPreview"))},{default:vue.withCtx(()=>[vue.createVNode(_sfc_main$D,{name:"preview"})]),_:1})])]),vue.createElementVNode("div",_hoisted_7$5,[vue.createVNode(vue.unref(elementPlus.ElIcon),{size:24,class:"bt-Icon",onClick:g[10]||(g[10]=p=>vue.unref(i).right_nav=!vue.unref(i).right_nav),title:vue.unref(i).right_nav?"隐藏右侧菜单":"显示右侧菜单"},{default:vue.withCtx(()=>[vue.unref(i).right_nav?(vue.openBlock(),vue.createBlock(_sfc_main$D,{key:0,name:"menu-fold"})):(vue.openBlock(),vue.createBlock(_sfc_main$D,{key:1,name:"menu-unfold"}))]),_:1},8,["title"])])]),vue.createVNode(vue.unref(elementPlus.ElDialog),{modelValue:vue.unref(d),"onUpdate:modelValue":g[11]||(g[11]=p=>vue.isRef(d)?d.value=p:null),title:"使用说明",width:"60%",class:"guide-dialog"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElScrollbar),{"max-height":"60vh"},{default:vue.withCtx(()=>[_hoisted_8$4,_hoisted_9$4,_hoisted_10$3,_hoisted_11$2,_hoisted_12$2,_hoisted_13$1,_hoisted_14$1,_hoisted_15$1,_hoisted_16$2,_hoisted_17$1,_hoisted_18$1,_hoisted_19,_hoisted_20,_hoisted_21,_hoisted_22$1,_hoisted_23,_hoisted_24,_hoisted_25,_hoisted_26$1,_hoisted_27,_hoisted_28,_hoisted_29,_hoisted_30,_hoisted_31,_hoisted_32$1,_hoisted_33,_hoisted_34,_hoisted_35,_hoisted_36$1]),_:1})]),_:1},8,["modelValue"])],64))}}),topPanel_vue_vue_type_style_index_0_scoped_62907637_lang="",topPanel_vue_vue_type_style_index_1_lang="",TopPanel=_export_sfc$1(_sfc_main$C,[["__scopeId","data-v-62907637"]]),_hoisted_1$g={class:"component-group flex flex-wrap"},_hoisted_2$d=["onDragstart","title"],_sfc_main$B=vue.defineComponent({__name:"left-panel",props:{customToolbar:{}},setup(r){const n=r,i=useGlobalStore(pinia),o=vue.ref(n.customToolbar&&Object.keys(n.customToolbar).length>0?n.customToolbar:i.config_center),a=vue.ref(["stateful","stateless","have_animation","custom_svg_group","element-ui","custom-vue","echarts"]),u=d=>{i.setCreateInfo(c(d))},c=d=>(d!=null&&d.props&&!lodashEs.isEmpty(d.props)&&Object.keys(d.props).forEach((h,v)=>{d.props[h].sort=String(v)}),d),f=d=>{var h;if(((h=d.dataTransfer)==null?void 0:h.dropEffect)!=="copy"){elementPlus.ElMessage.warning("请将组件拖到画布中!"),i.intention=EGlobalStoreIntention.None;return}};return(d,h)=>(vue.openBlock(),vue.createElementBlock("div",null,[vue.createVNode(vue.unref(elementPlus.ElCollapse),{modelValue:vue.unref(a),"onUpdate:modelValue":h[0]||(h[0]=v=>vue.isRef(a)?a.value=v:null),style:{"border-top":"none"}},{default:vue.withCtx(()=>[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(vue.unref(o),v=>(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElCollapseItem),{name:v.groupType,key:v.title},{title:vue.withCtx(()=>[vue.createElementVNode("div",null,vue.toDisplayString(v.title),1)]),default:vue.withCtx(()=>[vue.createElementVNode("div",_hoisted_1$g,[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(v.list,g=>(vue.openBlock(),vue.createElementBlock("div",{class:"ideal",key:g.name,draggable:"true",onDragstart:p=>u(g),onDragend:f,title:g.title},[vue.createVNode(vue.unref(elementPlus.ElIcon),{size:35,class:"flex items-center"},{default:vue.withCtx(()=>[vue.createVNode(_sfc_main$D,{name:g.name,props:vue.unref(prosToVBind)(g,["width","height","maxHeight"])},null,8,["name","props"])]),_:2},1024)],40,_hoisted_2$d))),128))])]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"])]))}}),leftPanel_vue_vue_type_style_index_0_scoped_8aba8565_lang="",LeftPanel=_export_sfc$1(_sfc_main$B,[["__scopeId","data-v-8aba8565"]]),calculateLeftTop=(r,n,i)=>{const o=getCenterPoint(r,n),a=calculateRotatedPointCoordinate(r,o,-i),u=calculateRotatedPointCoordinate(n,o,-i);return{width:u.x-a.x,height:u.y-a.y,is_old_width:!1,is_old_height:!1}},calculateRightTop=(r,n,i)=>{const o=getCenterPoint(r,n),a=calculateRotatedPointCoordinate(r,o,-i),u=calculateRotatedPointCoordinate(n,o,-i);return{width:a.x-u.x,height:u.y-a.y,is_old_width:!1,is_old_height:!1}},calculateRightBottom=(r,n,i)=>{const o=getCenterPoint(r,n),a=calculateRotatedPointCoordinate(n,o,-i),u=calculateRotatedPointCoordinate(r,o,-i);return{width:u.x-a.x,height:u.y-a.y,is_old_width:!1,is_old_height:!1}},calculateLeftBottom=(r,n,i)=>{const o=getCenterPoint(r,n),a=calculateRotatedPointCoordinate(n,o,-i),u=calculateRotatedPointCoordinate(r,o,-i);return{width:a.x-u.x,height:u.y-a.y,is_old_width:!1,is_old_height:!1}},calculateTop=(r,n,i,o)=>{const a=calculateRotatedPointCoordinate(r,o,-i),u=calculateRotatedPointCoordinate({x:o.x,y:a.y},o,i),c=Math.sqrt((u.x-n.x)**2+(u.y-n.y)**2);return{width:1,height:Math.round(c),is_old_width:!0,is_old_height:!1}},calculateRight=(r,n,i,o)=>{const a=calculateRotatedPointCoordinate(r,o,-i),u=calculateRotatedPointCoordinate({x:a.x,y:o.y},o,i),c=Math.sqrt((u.x-n.x)**2+(u.y-n.y)**2);return{width:Math.round(c),height:1,is_old_width:!1,is_old_height:!0}},calculateBottom=(r,n,i,o)=>{const a=calculateRotatedPointCoordinate(r,o,-i),u=calculateRotatedPointCoordinate({x:o.x,y:a.y},o,i),c=Math.sqrt((u.x-n.x)**2+(u.y-n.y)**2);return{width:1,height:Math.round(c),is_old_width:!0,is_old_height:!1}},calculateLeft=(r,n,i,o)=>{const a=calculateRotatedPointCoordinate(r,o,-i),u=calculateRotatedPointCoordinate({x:a.x,y:o.y},o,i),c=Math.sqrt((u.x-n.x)**2+(u.y-n.y)**2);return{width:Math.round(c),height:1,is_old_width:!1,is_old_height:!0}},_hoisted_1$f={style:{"vector-effect":"non-scaling-stroke"}},_hoisted_2$c=["fill","x","y"],_hoisted_3$b=["cx","cy"],_hoisted_4$7=["x1","y1","x2","y2"],_hoisted_5$5=["fill","x","y"],_hoisted_6$4=["fill","x","y"],_hoisted_7$4=["fill","x","y"],_hoisted_8$3=["fill","x","y"],_hoisted_9$3=["fill","x","y"],_hoisted_10$2=["fill","x","y"],_hoisted_11$1=["fill","x","y"],_sfc_main$A=vue.defineComponent({__name:"handle-panel",props:{itemInfo:{}},setup(r){const n=r;vue.useCssVars(p=>({"5c831aea":vue.unref(c)}));const i=useGlobalStore(pinia),o=useConfigStore(pinia),a=useSvgEditLayoutStore(pinia),u=vue.ref(4),c=vue.ref("#ab712e"),f=[{start:338,end:23,cursor:"nw",type:EScaleInfoType.TopLeft},{start:23,end:68,cursor:"n",type:EScaleInfoType.TopCenter},{start:68,end:113,cursor:"ne",type:EScaleInfoType.TopRight},{start:293,end:338,cursor:"w",type:EScaleInfoType.Left},{start:113,end:158,cursor:"e",type:EScaleInfoType.Right},{start:248,end:293,cursor:"sw",type:EScaleInfoType.BottomLeft},{start:203,end:248,cursor:"s",type:EScaleInfoType.BottomCenter},{start:158,end:203,cursor:"se",type:EScaleInfoType.BottomRight}],d=vue.computed(()=>n.itemInfo.config.can_zoom),h=(p,y)=>{console.log("handMousedown",y);const{clientX:_,clientY:b}=y;y.stopPropagation(),i.intention=EGlobalStoreIntention.Zoom;const A=Math.round((_-a.canvasInfo.left)/o.svg.scale-a.center_offset.x),w=Math.round((b-a.canvasInfo.top)/o.svg.scale-a.center_offset.y);i.mouse_info={state:EMouseInfoState.Down,position_x:A,position_y:w,now_position_x:A,now_position_y:w,new_position_x:0,new_position_y:0},i.scale_info={type:p,scale_times:{x:n.itemInfo.scale_x,y:n.itemInfo.scale_y},scale_item_info:{x:n.itemInfo.x,y:n.itemInfo.y},symmetric_point:{x:A+Math.abs(A-n.itemInfo.center_position.x)*2*(A>n.itemInfo.center_position.x?-1:1),y:w+Math.abs(w-n.itemInfo.center_position.y)*2*(w>n.itemInfo.center_position.y?-1:1)}}},v=p=>{const{clientX:y,clientY:_}=p,b=Math.round((y-a.canvasInfo.left)/o.svg.scale-a.center_offset.x),A=Math.round((_-a.canvasInfo.top)/o.svg.scale-a.center_offset.y);p.stopPropagation(),i.intention=EGlobalStoreIntention.Rotate,i.rotate_info={angle:n.itemInfo.rotate},i.mouse_info={state:EMouseInfoState.Down,position_x:b,position_y:A,now_position_x:b,now_position_y:A,new_position_x:0,new_position_y:0}},g=p=>{const y=(p+n.itemInfo.rotate)%360,_=f.find(b=>b.start<=y&&b.end>y);return _?{cursor:_.cursor+"-resize",type:_.type}:{cursor:"nw-resize",type:EScaleInfoType.TopLeft}};return(p,y)=>(vue.openBlock(),vue.createElementBlock("g",_hoisted_1$f,[vue.withDirectives(vue.createElementVNode("rect",{id:"resize_tl",width:"8",height:"8",fill:vue.unref(c),style:vue.normalizeStyle({cursor:g(0).cursor,"vector-effect":"non-scaling-stroke"}),"pointer-events":"all",x:n.itemInfo.actual_bound.x-vue.unref(u)-vue.unref(getCoordinateOffset)(n.itemInfo.actual_bound.width,n.itemInfo.scale_x),y:n.itemInfo.actual_bound.y-vue.unref(u)-vue.unref(getCoordinateOffset)(n.itemInfo.actual_bound.height,n.itemInfo.scale_y),stroke:"rgba(0,0,0,0)",onMousedown:y[0]||(y[0]=_=>h(vue.unref(EScaleInfoType).TopLeft,_))},null,44,_hoisted_2$c),[[vue.vShow,vue.unref(d)]]),vue.createElementVNode("circle",{cx:n.itemInfo.actual_bound.x+n.itemInfo.actual_bound.width/2,cy:n.itemInfo.actual_bound.y-vue.unref(u)-vue.unref(getCoordinateOffset)(n.itemInfo.actual_bound.height,n.itemInfo.scale_y)-24,r:4,class:"rotate-circle",onMousedown:v},null,40,_hoisted_3$b),vue.createElementVNode("line",{x1:n.itemInfo.actual_bound.x+n.itemInfo.actual_bound.width/2,y1:n.itemInfo.actual_bound.y-vue.unref(u)-vue.unref(getCoordinateOffset)(n.itemInfo.actual_bound.height,n.itemInfo.scale_y),x2:n.itemInfo.actual_bound.x+n.itemInfo.actual_bound.width/2,y2:n.itemInfo.actual_bound.y-vue.unref(u)-vue.unref(getCoordinateOffset)(n.itemInfo.actual_bound.height,n.itemInfo.scale_y)-20,style:vue.normalizeStyle({stroke:vue.unref(c),"stroke-width":2})},null,12,_hoisted_4$7),vue.withDirectives(vue.createElementVNode("rect",{id:"resize_tc",width:"8",height:"8",fill:vue.unref(c),style:vue.normalizeStyle({cursor:g(45).cursor,"vector-effect":"non-scaling-stroke"}),"pointer-events":"all",x:n.itemInfo.actual_bound.x+n.itemInfo.actual_bound.width/2-vue.unref(u),y:n.itemInfo.actual_bound.y-vue.unref(u)-vue.unref(getCoordinateOffset)(n.itemInfo.actual_bound.height,n.itemInfo.scale_y),stroke:"rgba(0,0,0,0)",onMousedown:y[1]||(y[1]=_=>h(vue.unref(EScaleInfoType).TopCenter,_))},null,44,_hoisted_5$5),[[vue.vShow,vue.unref(d)]]),vue.withDirectives(vue.createElementVNode("rect",{id:"resize_tr",width:"8",height:"8",fill:vue.unref(c),style:vue.normalizeStyle({cursor:g(90).cursor,"vector-effect":"non-scaling-stroke"}),"pointer-events":"all",x:n.itemInfo.actual_bound.x+n.itemInfo.actual_bound.width-vue.unref(u)+vue.unref(getCoordinateOffset)(n.itemInfo.actual_bound.width,n.itemInfo.scale_x),y:n.itemInfo.actual_bound.y-vue.unref(u)-vue.unref(getCoordinateOffset)(n.itemInfo.actual_bound.height,n.itemInfo.scale_y),stroke:"rgba(0,0,0,0)",onMousedown:y[2]||(y[2]=_=>h(vue.unref(EScaleInfoType).TopRight,_))},null,44,_hoisted_6$4),[[vue.vShow,vue.unref(d)]]),vue.withDirectives(vue.createElementVNode("rect",{id:"resize_l",width:"8",height:"8",fill:vue.unref(c),style:vue.normalizeStyle({cursor:g(315).cursor,"vector-effect":"non-scaling-stroke"}),"pointer-events":"all",x:n.itemInfo.actual_bound.x-vue.unref(u)-vue.unref(getCoordinateOffset)(n.itemInfo.actual_bound.width,n.itemInfo.scale_x),y:n.itemInfo.actual_bound.y-vue.unref(u)+n.itemInfo.actual_bound.height*n.itemInfo.scale_y/2-vue.unref(getCoordinateOffset)(n.itemInfo.actual_bound.height,n.itemInfo.scale_y),stroke:"rgba(0,0,0,0)",onMousedown:y[3]||(y[3]=_=>h(vue.unref(EScaleInfoType).Left,_))},null,44,_hoisted_7$4),[[vue.vShow,vue.unref(d)]]),vue.withDirectives(vue.createElementVNode("rect",{id:"resize_r",width:"8",height:"8",fill:vue.unref(c),style:vue.normalizeStyle({cursor:g(135).cursor,"vector-effect":"non-scaling-stroke"}),"pointer-events":"all",x:n.itemInfo.actual_bound.x-vue.unref(u)+n.itemInfo.actual_bound.width+vue.unref(getCoordinateOffset)(n.itemInfo.actual_bound.width,n.itemInfo.scale_x),y:n.itemInfo.actual_bound.y-vue.unref(u)+n.itemInfo.actual_bound.height*n.itemInfo.scale_y/2-vue.unref(getCoordinateOffset)(n.itemInfo.actual_bound.height,n.itemInfo.scale_y),stroke:"rgba(0,0,0,0)",onMousedown:y[4]||(y[4]=_=>h(vue.unref(EScaleInfoType).Right,_))},null,44,_hoisted_8$3),[[vue.vShow,vue.unref(d)]]),vue.withDirectives(vue.createElementVNode("rect",{id:"resize_bl",width:"8",height:"8",fill:vue.unref(c),style:vue.normalizeStyle({cursor:g(270).cursor,"vector-effect":"non-scaling-stroke"}),"pointer-events":"all",x:n.itemInfo.actual_bound.x-vue.unref(u)-vue.unref(getCoordinateOffset)(n.itemInfo.actual_bound.width,n.itemInfo.scale_x),y:n.itemInfo.actual_bound.y-vue.unref(u)+n.itemInfo.actual_bound.height*n.itemInfo.scale_y-vue.unref(getCoordinateOffset)(n.itemInfo.actual_bound.height,n.itemInfo.scale_y),stroke:"rgba(0,0,0,0)",onMousedown:y[5]||(y[5]=_=>h(vue.unref(EScaleInfoType).BottomLeft,_))},null,44,_hoisted_9$3),[[vue.vShow,vue.unref(d)]]),vue.withDirectives(vue.createElementVNode("rect",{id:"resize_bc",width:"8",height:"8",fill:vue.unref(c),style:vue.normalizeStyle({cursor:g(225).cursor,"vector-effect":"non-scaling-stroke"}),"pointer-events":"all",x:n.itemInfo.actual_bound.x-vue.unref(u)+n.itemInfo.actual_bound.width/2,y:n.itemInfo.actual_bound.y-vue.unref(u)+n.itemInfo.actual_bound.height+vue.unref(getCoordinateOffset)(n.itemInfo.actual_bound.height,n.itemInfo.scale_y),stroke:"rgba(0,0,0,0)",onMousedown:y[6]||(y[6]=_=>h(vue.unref(EScaleInfoType).BottomCenter,_))},null,44,_hoisted_10$2),[[vue.vShow,vue.unref(d)]]),vue.withDirectives(vue.createElementVNode("rect",{id:"resize_br",width:"8",height:"8",fill:vue.unref(c),style:vue.normalizeStyle({cursor:g(180).cursor,"vector-effect":"non-scaling-stroke"}),"pointer-events":"all",x:n.itemInfo.actual_bound.x-vue.unref(u)+n.itemInfo.actual_bound.width+vue.unref(getCoordinateOffset)(n.itemInfo.actual_bound.width,n.itemInfo.scale_x),y:n.itemInfo.actual_bound.y-vue.unref(u)+n.itemInfo.actual_bound.height+vue.unref(getCoordinateOffset)(n.itemInfo.actual_bound.height,n.itemInfo.scale_y),stroke:"rgba(0,0,0,0)",onMousedown:y[7]||(y[7]=_=>h(vue.unref(EScaleInfoType).BottomRight,_))},null,44,_hoisted_11$1),[[vue.vShow,vue.unref(d)]])]))}}),handlePanel_vue_vue_type_style_index_0_scoped_e6622df8_lang="",HandlePanel=_export_sfc$1(_sfc_main$A,[["__scopeId","data-v-e6622df8"]]),_hoisted_1$e=["fill"],_hoisted_2$b=["cx","cy","r"],_hoisted_3$a=["cx","cy","r"],_hoisted_4$6=["cx","cy","r"],_hoisted_5$4=["cx","cy","r"],_hoisted_6$3=["cx","cy","r"],_hoisted_7$3=["cx","cy","r"],_hoisted_8$2=["cx","cy","r"],_hoisted_9$2=["cx","cy","r"],_sfc_main$z=vue.defineComponent({__name:"connection-panel",props:{itemInfo:{}},setup(r){const n=r,i=vue.ref(4),o=vue.ref("#ab712e"),a=vue.ref(4),u=vue.ref(12),c=useGlobalStore(pinia),f=useSvgEditLayoutStore(pinia),d=vue.computed(()=>n.itemInfo.actual_bound.x+n.itemInfo.actual_bound.width/2-i.value+a.value),h=vue.computed(()=>n.itemInfo.actual_bound.y-i.value-getCoordinateOffset(n.itemInfo.actual_bound.height,n.itemInfo.scale_y)+a.value),v=vue.computed(()=>n.itemInfo.actual_bound.x-i.value+n.itemInfo.actual_bound.width+getCoordinateOffset(n.itemInfo.actual_bound.width,n.itemInfo.scale_x)+a.value),g=vue.computed(()=>n.itemInfo.actual_bound.y-i.value+n.itemInfo.actual_bound.height*n.itemInfo.scale_y/2-getCoordinateOffset(n.itemInfo.actual_bound.height,n.itemInfo.scale_y)+a.value),p=vue.computed(()=>n.itemInfo.actual_bound.x-i.value+n.itemInfo.actual_bound.width/2+a.value),y=vue.computed(()=>n.itemInfo.actual_bound.y-i.value+n.itemInfo.actual_bound.height+getCoordinateOffset(n.itemInfo.actual_bound.height,n.itemInfo.scale_y)+a.value),_=vue.computed(()=>n.itemInfo.actual_bound.x-i.value-getCoordinateOffset(n.itemInfo.actual_bound.width,n.itemInfo.scale_x)+a.value),b=vue.computed(()=>n.itemInfo.actual_bound.y-i.value+n.itemInfo.actual_bound.height*n.itemInfo.scale_y/2-getCoordinateOffset(n.itemInfo.actual_bound.height,n.itemInfo.scale_y)+a.value),A=(T,S)=>{var x;c.intention===EGlobalStoreIntention.SetConnectionLineNode&&(T.stopPropagation(),(x=c.handle_svg_info)!=null&&x.info.bind_anchors&&c.connection_line_node_info&&(c.connection_line_node_info.point_index===0?c.handle_svg_info.info.bind_anchors.start={type:S,target_id:n.itemInfo.id}:c.connection_line_node_info.point_index===c.handle_svg_info.info.props.point_position.val.length-1&&(c.handle_svg_info.info.bind_anchors.end={type:S,target_id:n.itemInfo.id}),c.intention=EGlobalStoreIntention.None,c.setHandleSvgInfo(null),vue.nextTick(function(){moveAnchors(n.itemInfo)})))},w=(T,S)=>{var x;c.intention===EGlobalStoreIntention.None?(createLine(T,S,n.itemInfo),c.handle_svg_info&&(c.handle_svg_info.info.props.point_position.val.length!==1?c.handle_svg_info.info.props.point_position.val.push({x:c.mouse_info.new_position_x-c.mouse_info.position_x-f.center_offset.x,y:c.mouse_info.new_position_y-c.mouse_info.position_y-f.center_offset.y}):c.handle_svg_info.info.props.point_position.val.push({x:0,y:0}))):c.intention===EGlobalStoreIntention.Connection&&(T.stopPropagation(),(x=c.handle_svg_info)!=null&&x.info.bind_anchors&&(c.handle_svg_info.info.bind_anchors.end={type:S,target_id:n.itemInfo.id},c.intention=EGlobalStoreIntention.None,c.setHandleSvgInfo(null),vue.nextTick(function(){moveAnchors(n.itemInfo)})))};return(T,S)=>(vue.openBlock(),vue.createElementBlock("g",{style:{"vector-effect":"non-scaling-stroke"},class:"connect-points",fill:vue.unref(o),"stroke-width":"2",stroke:"rgba(0,0,0,0)"},[vue.createElementVNode("g",{onMousedown:S[0]||(S[0]=x=>w(x,vue.unref(ELineBindAnchors).TopCenter)),onMouseup:S[1]||(S[1]=x=>A(x,vue.unref(ELineBindAnchors).TopCenter))},[vue.createElementVNode("circle",{class:"out-circle",cx:vue.unref(d),cy:vue.unref(h),r:vue.unref(u),"fill-opacity":".3"},null,8,_hoisted_2$b),vue.createElementVNode("circle",{id:"connection_tc",cx:vue.unref(d),cy:vue.unref(h),r:vue.unref(a),"pointer-events":"all"},null,8,_hoisted_3$a)],32),vue.createElementVNode("g",{onMousedown:S[2]||(S[2]=x=>w(x,vue.unref(ELineBindAnchors).Right)),onMouseup:S[3]||(S[3]=x=>A(x,vue.unref(ELineBindAnchors).Right))},[vue.createElementVNode("circle",{class:"out-circle",cx:vue.unref(v),cy:vue.unref(g),r:vue.unref(u),"fill-opacity":".3"},null,8,_hoisted_4$6),vue.createElementVNode("circle",{id:"connection_r",cx:vue.unref(v),cy:vue.unref(g),r:vue.unref(a),"pointer-events":"all"},null,8,_hoisted_5$4)],32),vue.createElementVNode("g",{onMousedown:S[4]||(S[4]=x=>w(x,vue.unref(ELineBindAnchors).BottomCenter)),onMouseup:S[5]||(S[5]=x=>A(x,vue.unref(ELineBindAnchors).BottomCenter))},[vue.createElementVNode("circle",{class:"out-circle",cx:vue.unref(p),cy:vue.unref(y),r:vue.unref(u),"fill-opacity":".3"},null,8,_hoisted_6$3),vue.createElementVNode("circle",{id:"connection_bc",cx:vue.unref(p),cy:vue.unref(y),r:vue.unref(a),"pointer-events":"all"},null,8,_hoisted_7$3)],32),vue.createElementVNode("g",{onMousedown:S[6]||(S[6]=x=>w(x,vue.unref(ELineBindAnchors).Left)),onMouseup:S[7]||(S[7]=x=>A(x,vue.unref(ELineBindAnchors).Left))},[vue.createElementVNode("circle",{class:"out-circle",cx:vue.unref(_),cy:vue.unref(b),r:vue.unref(u),"fill-opacity":".3"},null,8,_hoisted_8$2),vue.createElementVNode("circle",{id:"connection_l",cx:vue.unref(_),cy:vue.unref(b),r:vue.unref(a),style:{cursor:"crosshair"},"pointer-events":"all"},null,8,_hoisted_9$2)],32)],8,_hoisted_1$e))}}),connectionPanel_vue_vue_type_style_index_0_scoped_fb729c7a_lang="",ConnectionPanel=_export_sfc$1(_sfc_main$z,[["__scopeId","data-v-fb729c7a"]]),_hoisted_1$d=["d","stroke-width"],_hoisted_2$a=["d","stroke-width"],_hoisted_3$9=["id","d","stroke","stroke-width","stroke-dasharray"],_hoisted_4$5=["from","to","dur","repeatCount"],_hoisted_5$3=["d","stroke","stroke-width","stroke-dasharray"],_hoisted_6$2=["from","to","dur","repeatCount"],_hoisted_7$2=["r","fill"],_hoisted_8$1=["path","dur","repeatCount"],_hoisted_9$1=["cx","cy","r","stroke-width"],_hoisted_10$1=["cx","cy","r","stroke","onMousedown"],_sfc_main$y=vue.defineComponent({__name:"connection-line",props:{itemInfo:{},pointVisible:{type:Boolean,default:!1}},setup(r){const n=r,i=useGlobalStore(pinia),o=useConfigStore(pinia),a=useSvgEditLayoutStore(pinia),u=(c,f,d,h)=>{if(i.intention===EGlobalStoreIntention.Connection)return;i.setHandleSvgInfo(n.itemInfo);const{clientX:v,clientY:g}=f;f.stopPropagation(),i.connection_line_node_info={init_pos:{x:d,y:h},point_index:c},i.intention=EGlobalStoreIntention.SetConnectionLineNode,i.mouse_info={state:EMouseInfoState.Down,position_x:Math.round((v-a.canvasInfo.left)/o.svg.scale),position_y:Math.round((g-a.canvasInfo.top)/o.svg.scale),now_position_x:0,now_position_y:0,new_position_x:0,new_position_y:0}};return(c,f)=>{var d,h,v,g,p,y;return vue.openBlock(),vue.createElementBlock("g",{style:vue.normalizeStyle({cursor:vue.unref(i).intention===vue.unref(EGlobalStoreIntention).Connection?"crosshair":"move"})},[vue.withDirectives(vue.createElementVNode("path",{d:vue.unref(positionArrToPath)(n.itemInfo.props.point_position.val),fill:"none","fill-opacity":"0",stroke:"#DE4517","stroke-width":Math.ceil(n.itemInfo.props["stroke-width"].val*1.2)+1,"stroke-linecap":"round","stroke-linejoin":"round"},null,8,_hoisted_1$d),[[vue.vShow,n.itemInfo.selected||n.itemInfo.id===((d=vue.unref(i).handle_svg_info)==null?void 0:d.info.id)]]),vue.createElementVNode("path",{d:vue.unref(positionArrToPath)(n.itemInfo.props.point_position.val),fill:"none","fill-opacity":"0",stroke:"#fff","stroke-opacity":".01","stroke-width":n.itemInfo.props["stroke-width"].val,"stroke-linecap":"round","stroke-linejoin":"round"},null,8,_hoisted_2$a),vue.createElementVNode("path",{id:n.itemInfo.id,d:vue.unref(positionArrToPath)(n.itemInfo.props.point_position.val),fill:"none",stroke:((h=n.itemInfo.animations)==null?void 0:h.type.val)===vue.unref(EConfigAnimationsType).Electricity?n.itemInfo.animations.color.val:n.itemInfo.props.stroke.val,"stroke-width":n.itemInfo.props["stroke-width"].val,"stroke-dashoffset":"0","stroke-dasharray":((v=n.itemInfo.animations)==null?void 0:v.type.val)===vue.unref(EConfigAnimationsType).Electricity?n.itemInfo.props["stroke-width"].val*3:0,"stroke-linejoin":"round"},[((g=n.itemInfo.animations)==null?void 0:g.type.val)===vue.unref(EConfigAnimationsType).Electricity?(vue.openBlock(),vue.createElementBlock("animate",{key:0,attributeName:"stroke-dashoffset",from:n.itemInfo.animations.reverse.val?0:1e3,to:n.itemInfo.animations.reverse.val?1e3:0,dur:`${n.itemInfo.animations.dur.val}s`,repeatCount:n.itemInfo.animations.repeatCount.val},null,8,_hoisted_4$5)):vue.createCommentVNode("",!0)],8,_hoisted_3$9),((p=n.itemInfo.animations)==null?void 0:p.type.val)===vue.unref(EConfigAnimationsType).WaterDrop?(vue.openBlock(),vue.createElementBlock("path",{key:0,d:vue.unref(positionArrToPath)(n.itemInfo.props.point_position.val),fill:"none","fill-opacity":"0",stroke:n.itemInfo.animations.color.val,"stroke-width":n.itemInfo.props["stroke-width"].val,"stroke-dasharray":n.itemInfo.props["stroke-width"].val*3,"stroke-dashoffset":"0","stroke-linecap":"round","stroke-linejoin":"round"},[vue.createElementVNode("animate",{attributeName:"stroke-dashoffset",from:n.itemInfo.animations.reverse.val?0:1e3,to:n.itemInfo.animations.reverse.val?1e3:0,dur:`${n.itemInfo.animations.dur.val}s`,repeatCount:n.itemInfo.animations.repeatCount.val,fill:"freeze"},null,8,_hoisted_6$2)],8,_hoisted_5$3)):((y=n.itemInfo.animations)==null?void 0:y.type.val)===vue.unref(EConfigAnimationsType).Track?(vue.openBlock(),vue.createElementBlock("circle",{key:1,cx:"0",cy:"0",r:Math.ceil(n.itemInfo.props["stroke-width"].val*.6)+2,fill:n.itemInfo.animations.color.val},[vue.createElementVNode("animateMotion",{path:vue.unref(positionArrToPath)(n.itemInfo.animations.reverse.val?[...n.itemInfo.props.point_position.val].reverse():n.itemInfo.props.point_position.val),dur:`${n.itemInfo.animations.dur.val}s`,repeatCount:n.itemInfo.animations.repeatCount.val},null,8,_hoisted_8$1)],8,_hoisted_7$2)):vue.createCommentVNode("",!0),vue.createElementVNode("g",null,[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(n.itemInfo.props.point_position.val,(_,b)=>{var A;return vue.withDirectives((vue.openBlock(),vue.createElementBlock("circle",{key:b,cx:_.x,cy:_.y,r:n.itemInfo.props.point_r.val+1,fill:"none","fill-opacity":"0","stroke-width":Math.ceil(n.itemInfo.props.point_r.val*.2)+1,stroke:"#DE4517"},null,8,_hoisted_9$1)),[[vue.vShow,n.itemInfo.selected||n.itemInfo.id===((A=vue.unref(i).handle_svg_info)==null?void 0:A.info.id)]])}),128)),(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(n.itemInfo.props.point_position.val,(_,b)=>(vue.openBlock(),vue.createElementBlock("circle",{key:b,cx:_.x,cy:_.y,r:n.itemInfo.props.point_r.val,"stroke-width":"1",stroke:n.itemInfo.props.stroke.val,fill:"#fff",style:{cursor:"pointer"},onMousedown:A=>u(b,A,_.x,_.y)},null,40,_hoisted_10$1))),128))])],4)}}}),_hoisted_1$c={style:{position:"absolute",left:"0",top:"0",bottom:"0",right:"0"}},_hoisted_2$9={xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%"},_hoisted_3$8={id:"pattern_grid",patternUnits:"userSpaceOnUse",x:"0",y:"0",width:"20",height:"20"},_hoisted_4$4=["stroke"],_hoisted_5$2=["stroke"],_hoisted_6$1=["stroke"],_hoisted_7$1=["stroke"],_hoisted_8={key:0,width:"100%",height:"100%",fill:"url(#pattern_grid)"},_hoisted_9=["transform"],_hoisted_10=["transform"],_hoisted_11=["transform","onMousedown","onMouseup","onMouseenter","onMouseleave","onContextmenu"],_hoisted_12$1=["xlink:href","width","height","id","transform"],_hoisted_13=["id"],_hoisted_14=["id","x1","y1","x2","y2"],_hoisted_15=["id"],_hoisted_16$1=["x","y","height","width"],_hoisted_17=["onClick"],_hoisted_18={class:"shortcut"},_sfc_main$x=vue.defineComponent({__name:"center-panel",props:{vueComp:{}},setup(r,{expose:n}){const i=r;vue.useCssVars(pe=>({"20fb3c82":vue.unref(g)}));const o=useGlobalStore(pinia),a=useConfigStore(pinia),u=useSvgEditLayoutStore(pinia),c=useEditPrivateStore(pinia),f=useContextMenuStore(pinia);componentsRegister(i.vueComp);const d=vue.ref(),h=vue.ref(),v={MoveCanvas:"grab",Rotate:"url('/src/assets/icons/rotate.svg'), auto",Connection:"crosshair",SetConnectionLineNode:"crosshair"},g=vue.computed(()=>Object.keys(v).indexOf(o.intention)>-1?v[o.intention]:"default"),p=vue.reactive({handle_panel:vue.computed(()=>o.intention===EGlobalStoreIntention.Select||o.intention===EGlobalStoreIntention.Zoom||o.intention===EGlobalStoreIntention.Rotate),connection_panel:!1,connection_line:!1,select_item:{info:null,index:-1}}),y=vue.ref({a:{x:0,y:0},b:{x:0,y:0}}),_=vue.computed(()=>o.intention===EGlobalStoreIntention.SelectArea&&y.value.b.x&&y.value.b.y?{with:Math.abs(y.value.b.x-y.value.a.x),height:Math.abs(y.value.b.y-y.value.a.y),x:y.value.a.x<y.value.b.x?y.value.a.x:y.value.b.x,y:y.value.a.y<y.value.b.y?y.value.a.y:y.value.b.y}:{with:0,height:0,x:0,y:0}),b=vue.computed(()=>{let pe=0;for(let Lt of o.done_json)Lt.selected&&pe++;return pe>0});let A=!1,w=!1;const T=pe=>{var Lt;if(o.intention!=EGlobalStoreIntention.None){if(o.intention==EGlobalStoreIntention.Create){if(!o.create_svg_info){console.error("要创建的数据获取失败");return}const _e=Math.floor(pe.offsetX/a.svg.scale-u.center_offset.x),Et=Math.floor(pe.offsetY/a.svg.scale-u.center_offset.y),Cn={id:randomString(),x:_e,y:Et,client:{x:_e,y:Et},scale_x:1,scale_y:1,rotate:0,actual_bound:{x:0,y:0,width:0,height:0},center_position:{x:0,y:0},point_coordinate:{tl:{x:0,y:0},tc:{x:0,y:0},tr:{x:0,y:0},l:{x:0,y:0},r:{x:0,y:0},bl:{x:0,y:0},bc:{x:0,y:0},br:{x:0,y:0}},selected:!1,...objectDeepClone(o.create_svg_info)};o.setDoneJson(Cn),o.setHandleSvgInfo(Cn,o.done_json.length),o.intention=EGlobalStoreIntention.None}(Lt=h.value)==null||Lt.focus()}},S=pe=>{pe.preventDefault()},x=pe=>{pe.preventDefault()},O=(pe,Lt,_e)=>{var Et,Cn,vn;if((Et=h.value)==null||Et.focus(),o.intention===EGlobalStoreIntention.Connection){_e.stopPropagation();return}if(_e.preventDefault(),_e.stopPropagation(),_e.ctrlKey&&_e.button===0)((Cn=o.handle_svg_info)!=null&&Cn.index||((vn=o.handle_svg_info)==null?void 0:vn.index)===0)&&(o.done_json[o.handle_svg_info.index].selected=!0,o.setHandleSvgInfo(null),o.intention=EGlobalStoreIntention.None),pe.selected=!pe.selected;else if(b.value){o.intention=EGlobalStoreIntention.GroupMove,o.mouse_info={state:EMouseInfoState.Down,position_x:Math.round((_e.clientX-u.canvasInfo.left)/a.svg.scale),position_y:Math.round((_e.clientY-u.canvasInfo.top)/a.svg.scale),now_position_x:0,now_position_y:0,new_position_x:0,new_position_y:0};for(let Dt of o.done_json)Dt.selected&&(Dt.old_position={x:Dt.x,y:Dt.y},Dt.point_coordinate_old=objectDeepClone(Dt.point_coordinate))}else o.intention=EGlobalStoreIntention.Select,o.setHandleSvgInfo(pe,Lt),o.mouse_info={state:EMouseInfoState.Down,position_x:Math.round((_e.clientX-u.canvasInfo.left)/a.svg.scale),position_y:Math.round((_e.clientY-u.canvasInfo.top)/a.svg.scale),now_position_x:pe.x,now_position_y:pe.y,new_position_x:0,new_position_y:0},pe.point_coordinate_old=objectDeepClone(pe.point_coordinate)},L=(pe,Lt,_e)=>{if(!(o.intention===EGlobalStoreIntention.Connection||o.mouse_info.state!=EMouseInfoState.Down)&&b.value&&!A&&["SelectArea","Move","Select"].indexOf(o.intention)<0){for(let Et of o.done_json)Et.selected=!1,Et.old_position={x:0,y:0},resetHandlePointOld(Et);o.intention=EGlobalStoreIntention.Select,o.setHandleSvgInfo(pe,Lt),o.mouse_info={state:EMouseInfoState.Down,position_x:Math.round((_e.clientX-u.canvasInfo.left)/a.svg.scale),position_y:Math.round((_e.clientY-u.canvasInfo.top)/a.svg.scale),now_position_x:pe.x,now_position_y:pe.y,new_position_x:0,new_position_y:0}}},M=(pe,Lt,_e)=>{_e.preventDefault(),_e.stopPropagation(),p.connection_panel=!0,p.connection_line=!0,!((o.intention===EGlobalStoreIntention.Connection||o.intention===EGlobalStoreIntention.SetConnectionLineNode)&&pe.type===EDoneJsonType.ConnectionLine)&&(p.select_item.info=pe,p.select_item.index=Lt)},re=(pe,Lt,_e)=>{_e.preventDefault(),_e.stopPropagation(),!((o.intention===EGlobalStoreIntention.Connection||o.intention===EGlobalStoreIntention.SetConnectionLineNode)&&pe.type===EDoneJsonType.ConnectionLine)&&(p.connection_panel=!1,p.connection_line=!1,p.select_item.info=null,p.select_item.index=-1)},F=pe=>{var vn,Dt,de,qe,Pt,In,$e,Ce,ue,At,Ne,Oe,kt,jt,_n,ie;if(o.mouse_info.state!=EMouseInfoState.Down&&o.intention!==EGlobalStoreIntention.Connection)return;const{clientX:Lt,clientY:_e}=pe;o.mouse_info.new_position_x=Math.round((Lt-u.canvasInfo.left)/a.svg.scale),o.mouse_info.new_position_y=Math.round((_e-u.canvasInfo.top)/a.svg.scale);const Et=Math.round(o.mouse_info.new_position_x-o.mouse_info.position_x+o.mouse_info.now_position_x),Cn=Math.round(o.mouse_info.new_position_y-o.mouse_info.position_y+o.mouse_info.now_position_y);if((vn=o.handle_svg_info)!=null&&vn.info&&(o.intention===EGlobalStoreIntention.Select||o.intention===EGlobalStoreIntention.Move)){if(o.handle_svg_info.info.x=Et,o.handle_svg_info.info.y=Cn,o.handle_svg_info.info.client={x:Et,y:Cn},o.intention=EGlobalStoreIntention.Move,moveHandlePoint(o.handle_svg_info.info),moveAnchors(o.handle_svg_info.info),o.handle_svg_info.info.type===EDoneJsonType.ConnectionLine){if((Dt=o.handle_svg_info.info.bind_anchors)!=null&&Dt.start){let ae=null;for(let Y of o.done_json)Y.id===((qe=(de=o.handle_svg_info.info.bind_anchors)==null?void 0:de.start)==null?void 0:qe.target_id)&&(ae=Y);ae&&moveAnchors(ae)}if((Pt=o.handle_svg_info.info.bind_anchors)!=null&&Pt.end){let ae=null;for(let Y of o.done_json)Y.id===(($e=(In=o.handle_svg_info.info.bind_anchors)==null?void 0:In.end)==null?void 0:$e.target_id)&&(ae=Y);ae&&moveAnchors(ae)}}}else if(o.intention===EGlobalStoreIntention.MoveCanvas)u.center_offset.x=Et,u.center_offset.y=Cn;else if(o.intention===EGlobalStoreIntention.SelectArea)y.value.b.x=o.mouse_info.new_position_x-u.center_offset.x,y.value.b.y=o.mouse_info.new_position_y-u.center_offset.y;else if(o.intention===EGlobalStoreIntention.GroupMove){A=!0;for(let ae of o.done_json)if(ae.selected&&ae.old_position){const Y=Math.round(o.mouse_info.new_position_x-o.mouse_info.position_x+ae.old_position.x),k=Math.round(o.mouse_info.new_position_y-o.mouse_info.position_y+ae.old_position.y);if(ae.x=Y,ae.y=k,ae.client={x:Y,y:k},moveHandlePoint(ae),moveAnchors(ae),ae.type===EDoneJsonType.ConnectionLine&&((Ce=ae.bind_anchors)!=null&&Ce.end)){let D=null;for(let oe of o.done_json)oe.id===((At=(ue=ae.bind_anchors)==null?void 0:ue.end)==null?void 0:At.target_id)&&(D=oe);D&&moveAnchors(D)}}}else if(o.intention===EGlobalStoreIntention.Zoom){if(!o.handle_svg_info)return;const ae={x:o.mouse_info.new_position_x-u.center_offset.x,y:o.mouse_info.new_position_y-u.center_offset.y};let Y={width:0,height:0,is_old_width:!1,is_old_height:!1};if(o.scale_info.type===EScaleInfoType.TopLeft?Y=calculateLeftTop(ae,o.scale_info.symmetric_point,o.handle_svg_info.info.rotate):o.scale_info.type===EScaleInfoType.TopRight?Y=calculateRightTop(ae,o.scale_info.symmetric_point,o.handle_svg_info.info.rotate):o.scale_info.type===EScaleInfoType.BottomRight?Y=calculateRightBottom(ae,o.scale_info.symmetric_point,o.handle_svg_info.info.rotate):o.scale_info.type===EScaleInfoType.BottomLeft?Y=calculateLeftBottom(ae,o.scale_info.symmetric_point,o.handle_svg_info.info.rotate):o.scale_info.type===EScaleInfoType.TopCenter?Y=calculateTop(ae,o.scale_info.symmetric_point,o.handle_svg_info.info.rotate,o.handle_svg_info.info.client):o.scale_info.type===EScaleInfoType.Right?Y=calculateRight(ae,o.scale_info.symmetric_point,o.handle_svg_info.info.rotate,o.handle_svg_info.info.client):o.scale_info.type===EScaleInfoType.BottomCenter?Y=calculateBottom(ae,o.scale_info.symmetric_point,o.handle_svg_info.info.rotate,o.handle_svg_info.info.client):o.scale_info.type===EScaleInfoType.Left&&(Y=calculateLeft(ae,o.scale_info.symmetric_point,o.handle_svg_info.info.rotate,o.handle_svg_info.info.client)),o.handle_svg_info&&Y.width>0&&Y.height>0){const k=Y.is_old_width?1:parseFloat((Y.width/o.handle_svg_info.info.actual_bound.width).toFixed(3)),D=Y.is_old_height?1:parseFloat((Y.height/o.handle_svg_info.info.actual_bound.height).toFixed(3)),oe=getCenterPoint(ae,o.scale_info.symmetric_point);k>0&&o.scale_info.type!==EScaleInfoType.TopCenter&&o.scale_info.type!==EScaleInfoType.BottomCenter&&(o.handle_svg_info.info.scale_x=k,o.handle_svg_info.info.x=Math.round(getSvgNowPosition(o.handle_svg_info.info.center_position.x,oe.x,o.handle_svg_info.info.client.x))),D>0&&o.scale_info.type!==EScaleInfoType.Left&&o.scale_info.type!==EScaleInfoType.Right&&(o.handle_svg_info.info.scale_y=D,o.handle_svg_info.info.y=Math.round(getSvgNowPosition(o.handle_svg_info.info.center_position.y,oe.y,o.handle_svg_info.info.client.y)))}}else if(o.intention===EGlobalStoreIntention.Rotate){if(!o.handle_svg_info)return;const ae=Math.atan2(o.mouse_info.position_y-o.handle_svg_info.info.y,o.mouse_info.position_x-o.handle_svg_info.info.x)/(Math.PI/180),Y=Math.atan2(o.mouse_info.new_position_y-u.center_offset.y-o.handle_svg_info.info.y,o.mouse_info.new_position_x-u.center_offset.x-o.handle_svg_info.info.x)/(Math.PI/180);o.handle_svg_info.info.rotate=parseFloat((o.rotate_info.angle+Y-ae).toFixed(2))}else if(o.intention===EGlobalStoreIntention.Connection&&o.handle_svg_info){const ae=(Ne=o.handle_svg_info)==null?void 0:Ne.info.props.point_position.val.length,Y=o.mouse_info.new_position_x-o.mouse_info.position_x-u.center_offset.x,k=o.mouse_info.new_position_y-o.mouse_info.position_y-u.center_offset.y,D=o.handle_svg_info.info.props.point_position.val[ae-2],oe=((kt=(Oe=o.handle_svg_info)==null?void 0:Oe.info.props.point_r)==null?void 0:kt.val)+2||4;let xe=D.x<Y?-oe:D.x>Y?oe:0,ze=D.y<k?-oe:D.y>k?oe:0;pe.ctrlKey?o.handle_svg_info.info.props.point_position.val[ae-1]={x:D.x,y:k+ze}:pe.shiftKey?o.handle_svg_info.info.props.point_position.val[ae-1]={x:Y+xe,y:D.y}:o.handle_svg_info.info.props.point_position.val[ae-1]={x:Y+xe,y:k+ze}}else if(o.intention===EGlobalStoreIntention.SetConnectionLineNode&&o.handle_svg_info){!w&&(o.connection_line_node_info.point_index===o.handle_svg_info.info.props.point_position.val.length-1||o.connection_line_node_info.point_index===0)&&(w=!0);const ae=(jt=o.handle_svg_info)==null?void 0:jt.info.props.point_position.val.length,Y=getSvgNowPosition(o.mouse_info.position_x,o.mouse_info.new_position_x,o.connection_line_node_info.init_pos.x),k=getSvgNowPosition(o.mouse_info.position_y,o.mouse_info.new_position_y,o.connection_line_node_info.init_pos.y),D=o.handle_svg_info.info.props.point_position.val[ae-2],oe=((ie=(_n=o.handle_svg_info)==null?void 0:_n.info.props.point_r)==null?void 0:ie.val)+2||4;let xe=D.x<Y?-oe:D.x>Y?oe:0,ze=D.y<k?-oe:D.y>k?oe:0;o.handle_svg_info.info.props.point_position.val[o.connection_line_node_info.point_index]={x:Y+xe,y:k+ze}}},j=()=>{var pe,Lt,_e,Et;if(o.mouse_info.state==EMouseInfoState.Down){if((pe=o.handle_svg_info)!=null&&pe.info&&o.intention==EGlobalStoreIntention.Move)setSvgActualInfo(o.done_json[o.handle_svg_info.index]),o.intention=EGlobalStoreIntention.None,o.setDoneJson(o.done_json);else if(o.intention==EGlobalStoreIntention.GroupMove)A&&(A=!1,o.intention=EGlobalStoreIntention.None);else if((Lt=o.handle_svg_info)!=null&&Lt.info&&o.intention==EGlobalStoreIntention.Zoom)o.handle_svg_info.info.client={x:o.handle_svg_info.info.x,y:o.handle_svg_info.info.y},o.intention=EGlobalStoreIntention.None,setSvgActualInfo(o.done_json[o.handle_svg_info.index]),o.setDoneJson(o.done_json);else if(o.intention===EGlobalStoreIntention.Rotate&&((_e=o.handle_svg_info)!=null&&_e.info))setSvgActualInfo(o.done_json[o.handle_svg_info.index]),o.setDoneJson(o.done_json),o.intention=EGlobalStoreIntention.None;else{if(o.intention===EGlobalStoreIntention.Connection)return;if(o.intention===EGlobalStoreIntention.SetConnectionLineNode)w&&((Et=o.handle_svg_info)!=null&&Et.info.bind_anchors)&&(o.connection_line_node_info.point_index===0?o.handle_svg_info.info.bind_anchors.start=null:o.handle_svg_info.info.bind_anchors.end=null),o.intention=EGlobalStoreIntention.None,w=!1;else if(o.intention===EGlobalStoreIntention.SelectArea){o.setHandleSvgInfo(null);for(let Cn of o.done_json){const vn=_.value;Cn.selected=Cn.x>vn.x&&Cn.x<vn.x+vn.with&&Cn.y>vn.y&&Cn.y<vn.y+vn.height}o.intention=EGlobalStoreIntention.None}else o.intention!=EGlobalStoreIntention.Select&&(o.intention=EGlobalStoreIntention.None)}o.mouse_info={state:EMouseInfoState.Up,position_x:0,position_y:0,now_position_x:0,now_position_y:0,new_position_x:0,new_position_y:0},f.display=!1}},V=pe=>{const{clientX:Lt,clientY:_e}=pe;if(o.intention===EGlobalStoreIntention.Connection){o.handle_svg_info||createLine(pe),o.handle_svg_info&&(pe.button===0?o.handle_svg_info.info.props.point_position.val.length!==1?o.handle_svg_info.info.props.point_position.val.push({x:o.mouse_info.new_position_x-o.mouse_info.position_x-u.center_offset.x,y:o.mouse_info.new_position_y-o.mouse_info.position_y-u.center_offset.y}):o.handle_svg_info.info.props.point_position.val.push({x:0,y:0}):pe.button===2&&(o.intention=EGlobalStoreIntention.None,setSvgActualInfo(o.done_json[o.handle_svg_info.index]),o.setHandleSvgInfo(null)));return}pe.button===0?(o.intention=EGlobalStoreIntention.SelectArea,o.mouse_info={state:EMouseInfoState.Down,position_x:Math.round((Lt-u.canvasInfo.left)/a.svg.scale-u.center_offset.x),position_y:Math.round((_e-u.canvasInfo.top)/a.svg.scale-u.center_offset.y),now_position_x:0,now_position_y:0,new_position_x:0,new_position_y:0},y.value={a:{x:o.mouse_info.position_x,y:o.mouse_info.position_y},b:{x:0,y:0}}):pe.button===2&&(o.intention=EGlobalStoreIntention.MoveCanvas,o.mouse_info={state:EMouseInfoState.Down,position_x:Math.round((Lt-u.canvasInfo.left)/a.svg.scale),position_y:Math.round((_e-u.canvasInfo.top)/a.svg.scale),now_position_x:u.center_offset.x,now_position_y:u.center_offset.y,new_position_x:0,new_position_y:0})};function z(pe){pe!=null&&pe.wheelDelta&&(pe.wheelDelta>0?a.svg.scale=parseFloat((a.svg.scale+.1).toFixed(1)):a.svg.scale=parseFloat((a.svg.scale-.1).toFixed(1)))}const $=pe=>{pe.stopPropagation(),pe.preventDefault()},he=(pe,Lt,_e)=>{o.intention!==EGlobalStoreIntention.Connection&&d.value&&(o.intention=EGlobalStoreIntention.ContextMenu,o.setHandleSvgInfo(pe,Lt),d.value.style.left=_e.pageX+"px",d.value.style.top=_e.pageY+"px",f.info.MoveUpOneLevel.enable=f.info.MoveUpTopLevel.enable=f.info.MoveDownOneLevel.enable=f.info.MoveDownTopLevel.enable=!0,Lt===o.done_json.length-1&&(f.info.MoveUpOneLevel.enable=f.info.MoveUpTopLevel.enable=!1),Lt===0&&(f.info.MoveDownOneLevel.enable=f.info.MoveDownTopLevel.enable=!1),f.display=!0)},le=(pe,Lt,_e)=>({x:parseFloat((pe.x-pe.width/2*Lt+pe.width/2).toFixed(1)),y:parseFloat((pe.y-pe.height/2*_e+pe.height/2).toFixed(1)),width:parseFloat((pe.width*Lt).toFixed(1)),height:parseFloat((pe.height*_e).toFixed(1))}),Ie=pe=>{pe.preventDefault();let Lt=[];if(!pe.ctrlKey&&["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].indexOf(pe.key)>-1&&(b.value?Lt=o.done_json.map((_e,Et)=>({selected:_e.selected,i:Et})).filter(_e=>_e.selected).map(_e=>_e.i):o.handle_svg_info&&Lt.push(o.handle_svg_info.index)),!pe.ctrlKey&&pe.key=="ArrowUp"){for(let _e of Lt)o.done_json[_e].y-=1,o.done_json[_e].client.y-=1,moveHandlePoint(o.done_json[_e],0,-1),moveAnchors(o.done_json[_e]);useHistoryRecord(o.done_json)}else if(!pe.ctrlKey&&pe.key=="ArrowDown"){for(let _e of Lt)o.done_json[_e].y+=1,o.done_json[_e].client.y+=1,moveHandlePoint(o.done_json[_e],0,1),moveAnchors(o.done_json[_e]);useHistoryRecord(o.done_json)}else if(!pe.ctrlKey&&pe.key=="ArrowLeft"){for(let _e of Lt)o.done_json[_e].x-=1,o.done_json[_e].client.x-=1,moveHandlePoint(o.done_json[_e],-1,0),moveAnchors(o.done_json[_e]);useHistoryRecord(o.done_json)}else if(!pe.ctrlKey&&pe.key=="ArrowRight"){for(let _e of Lt)o.done_json[_e].x+=1,o.done_json[_e].client.x+=1,moveHandlePoint(o.done_json[_e],1,0),moveAnchors(o.done_json[_e]);useHistoryRecord(o.done_json)}else pe.ctrlKey&&pe.key.toLowerCase()=="c"?f.onContextMenuClick(EContextMenuInfoType.Copy):!pe.ctrlKey&&pe.key=="Delete"?b.value?(o.setDoneJson(o.done_json.filter(_e=>!_e.selected)),o.setHandleSvgInfo(o.done_json[o.done_json.length-1],o.done_json.length-1)):f.onContextMenuClick(EContextMenuInfoType.Delete):pe.ctrlKey&&pe.key=="ArrowUp"?f.onContextMenuClick(EContextMenuInfoType.MoveUpOneLevel):pe.ctrlKey&&pe.key=="ArrowDown"?f.onContextMenuClick(EContextMenuInfoType.MoveDownOneLevel):pe.ctrlKey&&pe.key=="ArrowLeft"?f.onContextMenuClick(EContextMenuInfoType.MoveDownTopLevel):pe.ctrlKey&&pe.key=="ArrowRight"?f.onContextMenuClick(EContextMenuInfoType.MoveUpTopLevel):pe.ctrlKey&&pe.shiftKey&&pe.key.toLowerCase()=="z"?c.topRedoBtnClick():pe.ctrlKey&&pe.key.toLowerCase()=="z"?c.topUndoBtnClick():pe.ctrlKey&&pe.key.toLowerCase()=="delete"&&(o.done_json.length<=0||o.setDoneJson([]))},Fe=()=>{setSvgActualInfo(o.done_json[o.handle_svg_info.index],!0)};return vue.onMounted(()=>{var pe;(pe=h.value)==null||pe.focus(),vue.nextTick(function(){var _e;const Lt=(_e=h.value)==null?void 0:_e.getBoundingClientRect();u.canvasInfo={height:(Lt==null?void 0:Lt.height)||0,with:(Lt==null?void 0:Lt.width)||0,top:(Lt==null?void 0:Lt.top)||0,left:(Lt==null?void 0:Lt.left)||0}})}),n({onCanvasMouseUp:j}),(pe,Lt)=>(vue.openBlock(),vue.createElementBlock(vue.Fragment,null,[vue.createElementVNode("div",{ref_key:"canvasRef",ref:h,class:"canvas",style:vue.normalizeStyle({backgroundColor:vue.unref(a).svg.background_color,position:"relative"}),tabindex:"0",onDrop:T,onDragenter:S,onDragover:x,onMousedown:V,onMousemove:F,onMouseup:j,onContextmenu:$,onKeydown:Ie,onMousewheel:z},[vue.renderSlot(pe.$slots,"background",{},void 0,!0),vue.createElementVNode("div",_hoisted_1$c,[(vue.openBlock(),vue.createElementBlock("svg",_hoisted_2$9,[vue.createElementVNode("defs",null,[vue.createElementVNode("pattern",_hoisted_3$8,[vue.createElementVNode("line",{x1:"0",y1:"0",x2:"0",y2:"20",stroke:vue.unref(a).svg.grid_color},null,8,_hoisted_4$4),vue.createElementVNode("line",{x1:"10",y1:"0",x2:"10",y2:"20",stroke:vue.unref(a).svg.grid_color},null,8,_hoisted_5$2),vue.createElementVNode("line",{x1:"0",y1:"0",x2:"20",y2:"0",stroke:vue.unref(a).svg.grid_color},null,8,_hoisted_6$1),vue.createElementVNode("line",{x1:"0",y1:"10",x2:"20",y2:"10",stroke:vue.unref(a).svg.grid_color},null,8,_hoisted_7$1)])]),vue.unref(a).svg.grid?(vue.openBlock(),vue.createElementBlock("rect",_hoisted_8)):vue.createCommentVNode("",!0),vue.createElementVNode("g",{transform:`translate(${vue.unref(u).center_offset.x*vue.unref(a).svg.scale},${vue.unref(u).center_offset.y*vue.unref(a).svg.scale})rotate(0)scale(${vue.unref(a).svg.scale})`},[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(vue.unref(o).done_json,(_e,Et)=>{var Cn,vn,Dt,de,qe,Pt,In,$e,Ce,ue,At,Ne,Oe,kt;return vue.withDirectives((vue.openBlock(),vue.createElementBlock("g",{key:_e.id,transform:`translate(${_e.x},${_e.y})rotate(0)scale(1)`,onMousewheel:Lt[0]||(Lt[0]=(...jt)=>vue.unref(stopEvent)&&vue.unref(stopEvent)(...jt))},[vue.createElementVNode("g",{class:vue.normalizeClass(`${vue.unref(getCommonClass)(_e)}`)},[vue.createElementVNode("g",{transform:`translate(${_e.actual_bound.x+_e.actual_bound.width/2},${_e.actual_bound.y+_e.actual_bound.height/2})rotate(${_e.rotate}) scale(1) translate(${-(_e.actual_bound.x+_e.actual_bound.width/2)},${-(_e.actual_bound.y+_e.actual_bound.height/2)})`,onMousedown:jt=>O(_e,Et,jt),onMouseup:jt=>L(_e,Et,jt),onMouseenter:jt=>M(_e,Et,jt),onMouseleave:jt=>re(_e,Et,jt),onContextmenu:jt=>he(_e,Et,jt)},[_e.type===vue.unref(EDoneJsonType).ConnectionLine?(vue.openBlock(),vue.createBlock(_sfc_main$y,{key:0,"item-info":_e,"point-visible":vue.unref(p).connection_line&&((Cn=vue.unref(p).select_item.info)==null?void 0:Cn.id)==_e.id},null,8,["item-info","point-visible"])):_e.type===vue.unref(EDoneJsonType).File?(vue.openBlock(),vue.createElementBlock("use",vue.mergeProps({key:1,"xlink:href":`#svg-${_e.name}`},vue.unref(prosToVBind)(_e,["height","width"]),{width:((Dt=(vn=_e.props)==null?void 0:vn.width)==null?void 0:Dt.val)??100,height:((qe=(de=_e.props)==null?void 0:de.height)==null?void 0:qe.val)??100,id:_e.id,transform:`translate(${_e.actual_bound.x+_e.actual_bound.width/2},${_e.actual_bound.y+_e.actual_bound.height/2}) scale(${_e.scale_x},${_e.scale_y}) translate(${-(_e.actual_bound.x+_e.actual_bound.width/2)},${-(_e.actual_bound.y+_e.actual_bound.height/2)})`}),null,16,_hoisted_12$1)):_e.type===vue.unref(EDoneJsonType).CustomSvg?(vue.openBlock(),vue.createBlock(vue.resolveDynamicComponent(_e.tag),vue.mergeProps({key:2},vue.unref(prosToVBind)(_e,["height","width"]),{width:((In=(Pt=_e.props)==null?void 0:Pt.width)==null?void 0:In.val)??100,height:((Ce=($e=_e.props)==null?void 0:$e.height)==null?void 0:Ce.val)??100,id:_e.id,onResize:Fe,transform:`translate(${_e.actual_bound.x+_e.actual_bound.width/2},${_e.actual_bound.y+_e.actual_bound.height/2}) scale(${_e.scale_x},${_e.scale_y}) translate(${-(_e.actual_bound.x+_e.actual_bound.width/2)},${-(_e.actual_bound.y+_e.actual_bound.height/2)})`}),null,16,["width","height","id","transform"])):_e.type===vue.unref(EDoneJsonType).Vue?(vue.openBlock(),vue.createElementBlock("foreignObject",vue.mergeProps({key:3},le(_e.actual_bound,_e.scale_x,_e.scale_y),{id:`foreign-object${_e.id}`,class:"foreignObject"}),[(vue.openBlock(),vue.createBlock(vue.resolveDynamicComponent(_e.tag),vue.mergeProps(vue.unref(prosToVBind)(_e),{id:_e.id,transform:`translate(${_e.actual_bound.x+_e.actual_bound.width/2},${_e.actual_bound.y+_e.actual_bound.height/2}) scale(${_e.scale_x},${_e.scale_y}) translate(${-(_e.actual_bound.x+_e.actual_bound.width/2)},${-(_e.actual_bound.y+_e.actual_bound.height/2)})`}),{default:vue.withCtx(()=>[vue.createTextVNode(vue.toDisplayString(_e.tag_slot),1)]),_:2},1040,["id","transform"]))],16,_hoisted_13)):_e.type===vue.unref(EDoneJsonType).StraightLine?(vue.openBlock(),vue.createElementBlock("line",{key:4,id:_e.id,x1:_e.props.start_x.val,y1:_e.props.start_y.val,x2:_e.props.end_x.val,y2:_e.props.end_y.val,fill:"#FF0000",stroke:"#FF0000","stroke-width":"2"},null,8,_hoisted_14)):vue.createCommentVNode("",!0),_e.config.actual_rect?(vue.openBlock(),vue.createElementBlock("rect",vue.mergeProps({key:5,id:`rect${_e.id}`,fill:"black","fill-opacity":"0"},le(_e.actual_bound,_e.scale_x,_e.scale_y),{style:{stroke:"none","stroke-width":"2","stroke-miterlimit":"10"},class:{"svg-item-none":!_e.selected&&(vue.unref(o).intention==vue.unref(EGlobalStoreIntention).None||vue.unref(o).intention==vue.unref(EGlobalStoreIntention).Select),"svg-item-move":vue.unref(o).intention==vue.unref(EGlobalStoreIntention).Move&&((ue=vue.unref(o).handle_svg_info)==null?void 0:ue.info.id)==_e.id,"svg-item-select":vue.unref(o).intention==vue.unref(EGlobalStoreIntention).Select&&((At=vue.unref(o).handle_svg_info)==null?void 0:At.info.id)==_e.id,"svg-item-in-group":_e.selected}}),null,16,_hoisted_15)):vue.createCommentVNode("",!0),((Ne=vue.unref(o).handle_svg_info)==null?void 0:Ne.info.id)===_e.id&&vue.unref(p).handle_panel&&_e.type!==vue.unref(EDoneJsonType).ConnectionLine?(vue.openBlock(),vue.createBlock(HandlePanel,{key:6,"item-info":_e},null,8,["item-info"])):vue.createCommentVNode("",!0),!_e.selected&&((Oe=vue.unref(p).select_item.info)==null?void 0:Oe.id)==_e.id&&vue.unref(p).connection_panel&&_e.config.have_anchor&&vue.unref(o).intention!==vue.unref(EGlobalStoreIntention).SelectArea&&(vue.unref(o).intention!==vue.unref(EGlobalStoreIntention).Select||_e.id!==((kt=vue.unref(o).handle_svg_info)==null?void 0:kt.info.id))?(vue.openBlock(),vue.createBlock(ConnectionPanel,{key:7,onContextmenu:$,"item-info":_e},null,8,["item-info"])):vue.createCommentVNode("",!0)],40,_hoisted_11)],2)],40,_hoisted_10)),[[vue.vShow,_e.display]])}),128)),vue.createElementVNode("rect",{x:vue.unref(_).x,y:vue.unref(_).y,height:vue.unref(_).height,width:vue.unref(_).with,stroke:"#107cec",fill:"#107cec","fill-opacity":".2"},null,8,_hoisted_16$1)],8,_hoisted_9)]))])],36),vue.withDirectives(vue.createElementVNode("ul",{ref_key:"contextMenuRef",ref:d,class:"contextMenu"},[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(vue.unref(f).info,(_e,Et)=>(vue.openBlock(),vue.createElementBlock("li",{key:_e.title,onClick:Cn=>vue.unref(f).onContextMenuClick(Et)},[vue.createElementVNode("p",{class:vue.normalizeClass(_e.enable?"":"disabled")},[vue.createTextVNode(vue.toDisplayString(_e.title)+" ",1),vue.createElementVNode("span",_hoisted_18,vue.toDisplayString(_e.hot_key),1)],2)],8,_hoisted_17))),128))],512),[[vue.vShow,vue.unref(f).display]])],64))}}),centerPanel_vue_vue_type_style_index_0_scoped_c77c0287_lang="",CenterPanel=_export_sfc$1(_sfc_main$x,[["__scopeId","data-v-c77c0287"]]);/*! Element Plus Icons Vue v2.1.0 */var export_helper_default=(r,n)=>{let i=r.__vccOpts||r;for(let[o,a]of n)i[o]=a;return i},aim_vue_vue_type_script_lang_default={name:"Aim"},_hoisted_12={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_22=vue.createElementVNode("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),_hoisted_32=vue.createElementVNode("path",{fill:"currentColor",d:"M512 96a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V128a32 32 0 0 1 32-32zm0 576a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V704a32 32 0 0 1 32-32zM96 512a32 32 0 0 1 32-32h192a32 32 0 0 1 0 64H128a32 32 0 0 1-32-32zm576 0a32 32 0 0 1 32-32h192a32 32 0 1 1 0 64H704a32 32 0 0 1-32-32z"},null,-1),_hoisted_42=[_hoisted_22,_hoisted_32];function _sfc_render2(r,n,i,o,a,u){return vue.openBlock(),vue.createElementBlock("svg",_hoisted_12,_hoisted_42)}var aim_default=export_helper_default(aim_vue_vue_type_script_lang_default,[["render",_sfc_render2],["__file","aim.vue"]]),arrow_down_vue_vue_type_script_lang_default={name:"ArrowDown"},_hoisted_16={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_26=vue.createElementVNode("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"},null,-1),_hoisted_36=[_hoisted_26];function _sfc_render6(r,n,i,o,a,u){return vue.openBlock(),vue.createElementBlock("svg",_hoisted_16,_hoisted_36)}var arrow_down_default=export_helper_default(arrow_down_vue_vue_type_script_lang_default,[["render",_sfc_render6],["__file","arrow-down.vue"]]),circle_check_vue_vue_type_script_lang_default={name:"CircleCheck"},_hoisted_149={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_249=vue.createElementVNode("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),_hoisted_348=vue.createElementVNode("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"},null,-1),_hoisted_415=[_hoisted_249,_hoisted_348];function _sfc_render49(r,n,i,o,a,u){return vue.openBlock(),vue.createElementBlock("svg",_hoisted_149,_hoisted_415)}var circle_check_default=export_helper_default(circle_check_vue_vue_type_script_lang_default,[["render",_sfc_render49],["__file","circle-check.vue"]]),circle_close_vue_vue_type_script_lang_default={name:"CircleClose"},_hoisted_151={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_251=vue.createElementVNode("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248L466.752 512z"},null,-1),_hoisted_350=vue.createElementVNode("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),_hoisted_416=[_hoisted_251,_hoisted_350];function _sfc_render51(r,n,i,o,a,u){return vue.openBlock(),vue.createElementBlock("svg",_hoisted_151,_hoisted_416)}var circle_close_default=export_helper_default(circle_close_vue_vue_type_script_lang_default,[["render",_sfc_render51],["__file","circle-close.vue"]]),close_vue_vue_type_script_lang_default={name:"Close"},_hoisted_156={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_256=vue.createElementVNode("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"},null,-1),_hoisted_355=[_hoisted_256];function _sfc_render56(r,n,i,o,a,u){return vue.openBlock(),vue.createElementBlock("svg",_hoisted_156,_hoisted_355)}var close_default=export_helper_default(close_vue_vue_type_script_lang_default,[["render",_sfc_render56],["__file","close.vue"]]),hide_vue_vue_type_script_lang_default={name:"Hide"},_hoisted_1133={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2133=vue.createElementVNode("path",{fill:"currentColor",d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2L371.2 588.8ZM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z"},null,-1),_hoisted_3132=vue.createElementVNode("path",{fill:"currentColor",d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z"},null,-1),_hoisted_438=[_hoisted_2133,_hoisted_3132];function _sfc_render133(r,n,i,o,a,u){return vue.openBlock(),vue.createElementBlock("svg",_hoisted_1133,_hoisted_438)}var hide_default=export_helper_default(hide_vue_vue_type_script_lang_default,[["render",_sfc_render133],["__file","hide.vue"]]),loading_vue_vue_type_script_lang_default={name:"Loading"},_hoisted_1150={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2150=vue.createElementVNode("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32zm0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32zm448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32zm-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32zM195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0zm-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"},null,-1),_hoisted_3149=[_hoisted_2150];function _sfc_render150(r,n,i,o,a,u){return vue.openBlock(),vue.createElementBlock("svg",_hoisted_1150,_hoisted_3149)}var loading_default=export_helper_default(loading_vue_vue_type_script_lang_default,[["render",_sfc_render150],["__file","loading.vue"]]),view_vue_vue_type_script_lang_default={name:"View"},_hoisted_1283={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2283=vue.createElementVNode("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352zm0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448zm0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160z"},null,-1),_hoisted_3282=[_hoisted_2283];function _sfc_render283(r,n,i,o,a,u){return vue.openBlock(),vue.createElementBlock("svg",_hoisted_1283,_hoisted_3282)}var view_default=export_helper_default(view_vue_vue_type_script_lang_default,[["render",_sfc_render283],["__file","view.vue"]]),MapShim=function(){if(typeof Map<"u")return Map;function r(n,i){var o=-1;return n.some(function(a,u){return a[0]===i?(o=u,!0):!1}),o}return function(){function n(){this.__entries__=[]}return Object.defineProperty(n.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),n.prototype.get=function(i){var o=r(this.__entries__,i),a=this.__entries__[o];return a&&a[1]},n.prototype.set=function(i,o){var a=r(this.__entries__,i);~a?this.__entries__[a][1]=o:this.__entries__.push([i,o])},n.prototype.delete=function(i){var o=this.__entries__,a=r(o,i);~a&&o.splice(a,1)},n.prototype.has=function(i){return!!~r(this.__entries__,i)},n.prototype.clear=function(){this.__entries__.splice(0)},n.prototype.forEach=function(i,o){o===void 0&&(o=null);for(var a=0,u=this.__entries__;a<u.length;a++){var c=u[a];i.call(o,c[1],c[0])}},n}()}(),isBrowser=typeof window<"u"&&typeof document<"u"&&window.document===document,global$1=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),requestAnimationFrame$1=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(global$1):function(r){return setTimeout(function(){return r(Date.now())},1e3/60)}}(),trailingTimeout=2;function throttle(r,n){var i=!1,o=!1,a=0;function u(){i&&(i=!1,r()),o&&f()}function c(){requestAnimationFrame$1(u)}function f(){var d=Date.now();if(i){if(d-a<trailingTimeout)return;o=!0}else i=!0,o=!1,setTimeout(c,n);a=d}return f}var REFRESH_DELAY=20,transitionKeys=["top","right","bottom","left","width","height","size","weight"],mutationObserverSupported=typeof MutationObserver<"u",ResizeObserverController=function(){function r(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=throttle(this.refresh.bind(this),REFRESH_DELAY)}return r.prototype.addObserver=function(n){~this.observers_.indexOf(n)||this.observers_.push(n),this.connected_||this.connect_()},r.prototype.removeObserver=function(n){var i=this.observers_,o=i.indexOf(n);~o&&i.splice(o,1),!i.length&&this.connected_&&this.disconnect_()},r.prototype.refresh=function(){var n=this.updateObservers_();n&&this.refresh()},r.prototype.updateObservers_=function(){var n=this.observers_.filter(function(i){return i.gatherActive(),i.hasActive()});return n.forEach(function(i){return i.broadcastActive()}),n.length>0},r.prototype.connect_=function(){!isBrowser||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),mutationObserverSupported?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},r.prototype.disconnect_=function(){!isBrowser||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},r.prototype.onTransitionEnd_=function(n){var i=n.propertyName,o=i===void 0?"":i,a=transitionKeys.some(function(u){return!!~o.indexOf(u)});a&&this.refresh()},r.getInstance=function(){return this.instance_||(this.instance_=new r),this.instance_},r.instance_=null,r}(),defineConfigurable=function(r,n){for(var i=0,o=Object.keys(n);i<o.length;i++){var a=o[i];Object.defineProperty(r,a,{value:n[a],enumerable:!1,writable:!1,configurable:!0})}return r},getWindowOf=function(r){var n=r&&r.ownerDocument&&r.ownerDocument.defaultView;return n||global$1},emptyRect=createRectInit(0,0,0,0);function toFloat(r){return parseFloat(r)||0}function getBordersSize(r){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];return n.reduce(function(o,a){var u=r["border-"+a+"-width"];return o+toFloat(u)},0)}function getPaddings(r){for(var n=["top","right","bottom","left"],i={},o=0,a=n;o<a.length;o++){var u=a[o],c=r["padding-"+u];i[u]=toFloat(c)}return i}function getSVGContentRect(r){var n=r.getBBox();return createRectInit(0,0,n.width,n.height)}function getHTMLElementContentRect(r){var n=r.clientWidth,i=r.clientHeight;if(!n&&!i)return emptyRect;var o=getWindowOf(r).getComputedStyle(r),a=getPaddings(o),u=a.left+a.right,c=a.top+a.bottom,f=toFloat(o.width),d=toFloat(o.height);if(o.boxSizing==="border-box"&&(Math.round(f+u)!==n&&(f-=getBordersSize(o,"left","right")+u),Math.round(d+c)!==i&&(d-=getBordersSize(o,"top","bottom")+c)),!isDocumentElement(r)){var h=Math.round(f+u)-n,v=Math.round(d+c)-i;Math.abs(h)!==1&&(f-=h),Math.abs(v)!==1&&(d-=v)}return createRectInit(a.left,a.top,f,d)}var isSVGGraphicsElement=function(){return typeof SVGGraphicsElement<"u"?function(r){return r instanceof getWindowOf(r).SVGGraphicsElement}:function(r){return r instanceof getWindowOf(r).SVGElement&&typeof r.getBBox=="function"}}();function isDocumentElement(r){return r===getWindowOf(r).document.documentElement}function getContentRect(r){return isBrowser?isSVGGraphicsElement(r)?getSVGContentRect(r):getHTMLElementContentRect(r):emptyRect}function createReadOnlyRect(r){var n=r.x,i=r.y,o=r.width,a=r.height,u=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,c=Object.create(u.prototype);return defineConfigurable(c,{x:n,y:i,width:o,height:a,top:i,right:n+o,bottom:a+i,left:n}),c}function createRectInit(r,n,i,o){return{x:r,y:n,width:i,height:o}}var ResizeObservation=function(){function r(n){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=createRectInit(0,0,0,0),this.target=n}return r.prototype.isActive=function(){var n=getContentRect(this.target);return this.contentRect_=n,n.width!==this.broadcastWidth||n.height!==this.broadcastHeight},r.prototype.broadcastRect=function(){var n=this.contentRect_;return this.broadcastWidth=n.width,this.broadcastHeight=n.height,n},r}(),ResizeObserverEntry=function(){function r(n,i){var o=createReadOnlyRect(i);defineConfigurable(this,{target:n,contentRect:o})}return r}(),ResizeObserverSPI=function(){function r(n,i,o){if(this.activeObservations_=[],this.observations_=new MapShim,typeof n!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=n,this.controller_=i,this.callbackCtx_=o}return r.prototype.observe=function(n){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(n instanceof getWindowOf(n).Element))throw new TypeError('parameter 1 is not of type "Element".');var i=this.observations_;i.has(n)||(i.set(n,new ResizeObservation(n)),this.controller_.addObserver(this),this.controller_.refresh())}},r.prototype.unobserve=function(n){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(n instanceof getWindowOf(n).Element))throw new TypeError('parameter 1 is not of type "Element".');var i=this.observations_;i.has(n)&&(i.delete(n),i.size||this.controller_.removeObserver(this))}},r.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},r.prototype.gatherActive=function(){var n=this;this.clearActive(),this.observations_.forEach(function(i){i.isActive()&&n.activeObservations_.push(i)})},r.prototype.broadcastActive=function(){if(this.hasActive()){var n=this.callbackCtx_,i=this.activeObservations_.map(function(o){return new ResizeObserverEntry(o.target,o.broadcastRect())});this.callback_.call(n,i,n),this.clearActive()}},r.prototype.clearActive=function(){this.activeObservations_.splice(0)},r.prototype.hasActive=function(){return this.activeObservations_.length>0},r}(),observers=typeof WeakMap<"u"?new WeakMap:new MapShim,ResizeObserver$1=function(){function r(n){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var i=ResizeObserverController.getInstance(),o=new ResizeObserverSPI(n,i,this);observers.set(this,o)}return r}();["observe","unobserve","disconnect"].forEach(function(r){ResizeObserver$1.prototype[r]=function(){var n;return(n=observers.get(this))[r].apply(n,arguments)}});var index$1=function(){return typeof global$1.ResizeObserver<"u"?global$1.ResizeObserver:ResizeObserver$1}();const Events=["blur","input","change","changeSelectionStyle","changeSession","copy","focus","paste"],VAceEditor=vue.defineComponent({props:{value:{type:String,required:!0},lang:{type:String,default:"text"},theme:{type:String,default:"chrome"},options:Object,placeholder:String,readonly:Boolean,wrap:Boolean,printMargin:{type:[Boolean,Number],default:!0},minLines:Number,maxLines:Number},emits:["update:value","init",...Events],render(){return vue.h("div")},mounted(){const r=this._editor=vue.markRaw(ace.edit(this.$el,{placeholder:this.placeholder,readOnly:this.readonly,value:this.value,mode:"ace/mode/"+this.lang,theme:"ace/theme/"+this.theme,wrap:this.wrap,printMargin:this.printMargin,useWorker:!1,minLines:this.minLines,maxLines:this.maxLines,...this.options}));this._contentBackup=this.value,this._isSettingContent=!1,r.on("change",()=>{if(this._isSettingContent)return;const n=r.getValue();this._contentBackup=n,this.$emit("update:value",n)}),Events.forEach(n=>{const i="on"+vue.capitalize(n);typeof this.$.vnode.props[i]=="function"&&r.on(n,this.$emit.bind(this,n))}),this._ro=new index$1(()=>r.resize()),this._ro.observe(this.$el),this.$emit("init",r)},beforeUnmount(){var r,n;(r=this._ro)===null||r===void 0||r.disconnect(),(n=this._editor)===null||n===void 0||n.destroy()},methods:{focus(){this._editor.focus()},blur(){this._editor.blur()},selectAll(){this._editor.selectAll()}},watch:{value(r){if(this._contentBackup!==r){try{this._isSettingContent=!0,this._editor.setValue(r,1)}finally{this._isSettingContent=!1}this._contentBackup=r}},theme(r){this._editor.setTheme("ace/theme/"+r)},options(r){this._editor.setOptions(r)},readonly(r){this._editor.setReadOnly(r)},placeholder(r){this._editor.setOption("placeholder",r)},wrap(r){this._editor.setWrapBehavioursEnabled(r)},printMargin(r){this._editor.setOption("printMargin",r)},lang(r){this._editor.setOption("mode","ace/mode/"+r)},minLines(r){this._editor.setOption("minLines",r)},maxLines(r){this._editor.setOption("maxLines",r)}}}),themeUrl2="data:application/javascript;base64,YWNlLmRlZmluZSgiYWNlL3RoZW1lL2tyX3RoZW1lLmNzcyIsWyJyZXF1aXJlIiwiZXhwb3J0cyIsIm1vZHVsZSJdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpe21vZHVsZS5leHBvcnRzID0gIi5hY2Uta3ItdGhlbWUgLmFjZV9ndXR0ZXIge1xuICBiYWNrZ3JvdW5kOiAjMWMxOTE3O1xuICBjb2xvcjogI0ZDRkZFMFxufVxuXG4uYWNlLWtyLXRoZW1lIC5hY2VfcHJpbnQtbWFyZ2luIHtcbiAgd2lkdGg6IDFweDtcbiAgYmFja2dyb3VuZDogIzFjMTkxN1xufVxuXG4uYWNlLWtyLXRoZW1lIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzBCMEEwOTtcbiAgY29sb3I6ICNGQ0ZGRTBcbn1cblxuLmFjZS1rci10aGVtZSAuYWNlX2N1cnNvciB7XG4gIGNvbG9yOiAjRkY5OTAwXG59XG5cbi5hY2Uta3ItdGhlbWUgLmFjZV9tYXJrZXItbGF5ZXIgLmFjZV9zZWxlY3Rpb24ge1xuICBiYWNrZ3JvdW5kOiByZ2JhKDE3MCwgMCwgMjU1LCAwLjQ1KVxufVxuXG4uYWNlLWtyLXRoZW1lLmFjZV9tdWx0aXNlbGVjdCAuYWNlX3NlbGVjdGlvbi5hY2Vfc3RhcnQge1xuICBib3gtc2hhZG93OiAwIDAgM3B4IDBweCAjMEIwQTA5O1xufVxuXG4uYWNlLWtyLXRoZW1lIC5hY2VfbWFya2VyLWxheWVyIC5hY2Vfc3RlcCB7XG4gIGJhY2tncm91bmQ6IHJnYigxMDIsIDgyLCAwKVxufVxuXG4uYWNlLWtyLXRoZW1lIC5hY2VfbWFya2VyLWxheWVyIC5hY2VfYnJhY2tldCB7XG4gIG1hcmdpbjogLTFweCAwIDAgLTFweDtcbiAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgyNTUsIDE3NywgMTExLCAwLjMyKVxufVxuXG4uYWNlLWtyLXRoZW1lIC5hY2VfbWFya2VyLWxheWVyIC5hY2VfYWN0aXZlLWxpbmUge1xuICBiYWNrZ3JvdW5kOiAjMzg0MDNEXG59XG5cbi5hY2Uta3ItdGhlbWUgLmFjZV9ndXR0ZXItYWN0aXZlLWxpbmUge1xuICBiYWNrZ3JvdW5kLWNvbG9yIDogIzM4NDAzRFxufVxuXG4uYWNlLWtyLXRoZW1lIC5hY2VfbWFya2VyLWxheWVyIC5hY2Vfc2VsZWN0ZWQtd29yZCB7XG4gIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMTcwLCAwLCAyNTUsIDAuNDUpXG59XG5cbi5hY2Uta3ItdGhlbWUgLmFjZV9pbnZpc2libGUge1xuICBjb2xvcjogcmdiYSgyNTUsIDE3NywgMTExLCAwLjMyKVxufVxuXG4uYWNlLWtyLXRoZW1lIC5hY2Vfa2V5d29yZCxcbi5hY2Uta3ItdGhlbWUgLmFjZV9tZXRhIHtcbiAgY29sb3I6ICM5NDlDOEJcbn1cblxuLmFjZS1rci10aGVtZSAuYWNlX2NvbnN0YW50LFxuLmFjZS1rci10aGVtZSAuYWNlX2NvbnN0YW50LmFjZV9jaGFyYWN0ZXIsXG4uYWNlLWtyLXRoZW1lIC5hY2VfY29uc3RhbnQuYWNlX2NoYXJhY3Rlci5hY2VfZXNjYXBlLFxuLmFjZS1rci10aGVtZSAuYWNlX2NvbnN0YW50LmFjZV9vdGhlciB7XG4gIGNvbG9yOiByZ2JhKDIxMCwgMTE3LCAyNCwgMC43Nilcbn1cblxuLmFjZS1rci10aGVtZSAuYWNlX2ludmFsaWQge1xuICBjb2xvcjogI0Y4RjhGODtcbiAgYmFja2dyb3VuZC1jb2xvcjogI0E0MTMwMFxufVxuXG4uYWNlLWtyLXRoZW1lIC5hY2Vfc3VwcG9ydCB7XG4gIGNvbG9yOiAjOUZDMjhBXG59XG5cbi5hY2Uta3ItdGhlbWUgLmFjZV9zdXBwb3J0LmFjZV9jb25zdGFudCB7XG4gIGNvbG9yOiAjQzI3RTY2XG59XG5cbi5hY2Uta3ItdGhlbWUgLmFjZV9mb2xkIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzk0OUM4QjtcbiAgYm9yZGVyLWNvbG9yOiAjRkNGRkUwXG59XG5cbi5hY2Uta3ItdGhlbWUgLmFjZV9zdXBwb3J0LmFjZV9mdW5jdGlvbiB7XG4gIGNvbG9yOiAjODU4NzNBXG59XG5cbi5hY2Uta3ItdGhlbWUgLmFjZV9zdG9yYWdlIHtcbiAgY29sb3I6ICNGRkVFODBcbn1cblxuLmFjZS1rci10aGVtZSAuYWNlX3N0cmluZyB7XG4gIGNvbG9yOiByZ2JhKDE2NCwgMTYxLCAxODEsIDAuOClcbn1cblxuLmFjZS1rci10aGVtZSAuYWNlX3N0cmluZy5hY2VfcmVnZXhwIHtcbiAgY29sb3I6IHJnYmEoMTI1LCAyNTUsIDE5MiwgMC42NSlcbn1cblxuLmFjZS1rci10aGVtZSAuYWNlX2NvbW1lbnQge1xuICBmb250LXN0eWxlOiBpdGFsaWM7XG4gIGNvbG9yOiAjNzA2RDVCXG59XG5cbi5hY2Uta3ItdGhlbWUgLmFjZV92YXJpYWJsZSB7XG4gIGNvbG9yOiAjRDFBNzk2XG59XG5cbi5hY2Uta3ItdGhlbWUgLmFjZV9saXN0LFxuLmFjZS1rci10aGVtZSAuYWNlX21hcmt1cC5hY2VfbGlzdCB7XG4gIGJhY2tncm91bmQtY29sb3I6ICMwRjAwNDBcbn1cblxuLmFjZS1rci10aGVtZSAuYWNlX3ZhcmlhYmxlLmFjZV9sYW5ndWFnZSB7XG4gIGNvbG9yOiAjRkY4MEUxXG59XG5cbi5hY2Uta3ItdGhlbWUgLmFjZV9tZXRhLmFjZV90YWcge1xuICBjb2xvcjogI0JBQkQ5Q1xufVxuXG4uYWNlLWtyLXRoZW1lIC5hY2VfaW5kZW50LWd1aWRlIHtcbiAgYmFja2dyb3VuZDogdXJsKGRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQUVBQUFBQ0NBWUFBQUNaZ2JZbkFBQUFFa2xFUVZRSW1XTmdZR0JnWUZCWFYvOFBBQUpvQVhYNGtUMkVBQUFBQUVsRlRrU3VRbUNDKSByaWdodCByZXBlYXQteVxufVxuXG4uYWNlLWtyLXRoZW1lIC5hY2VfaW5kZW50LWd1aWRlLWFjdGl2ZSB7XG4gIGJhY2tncm91bmQ6IHVybChcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQUVBQUFBQ0NBWUFBQUNaZ2JZbkFBQUFDWEJJV1hNQUFBc1RBQUFMRXdFQW1wd1lBQUFBSUdOSVVrMEFBSG9sQUFDQWd3QUErZjhBQUlEcEFBQjFNQUFBNm1BQUFEcVlBQUFYYjVKZnhVWUFBQUFaU1VSQlZIamFZdmovLy85L2hpdkt5djhCQUFBQS8vOERBQ0xxQmhidmsrL2VBQUFBQUVsRlRrU3VRbUNDXCIpIHJpZ2h0IHJlcGVhdC15O1xufVxuIjsKCn0pOwoKYWNlLmRlZmluZSgiYWNlL3RoZW1lL2tyX3RoZW1lIixbInJlcXVpcmUiLCJleHBvcnRzIiwibW9kdWxlIiwiYWNlL3RoZW1lL2tyX3RoZW1lLmNzcyIsImFjZS9saWIvZG9tIl0sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSl7ZXhwb3J0cy5pc0RhcmsgPSB0cnVlOwpleHBvcnRzLmNzc0NsYXNzID0gImFjZS1rci10aGVtZSI7CmV4cG9ydHMuY3NzVGV4dCA9IHJlcXVpcmUoIi4va3JfdGhlbWUuY3NzIik7CnZhciBkb20gPSByZXF1aXJlKCIuLi9saWIvZG9tIik7CmRvbS5pbXBvcnRDc3NTdHJpbmcoZXhwb3J0cy5jc3NUZXh0LCBleHBvcnRzLmNzc0NsYXNzLCBmYWxzZSk7Cgp9KTsgICAgICAgICAgICAgICAgKGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgIGFjZS5yZXF1aXJlKFsiYWNlL3RoZW1lL2tyX3RoZW1lIl0sIGZ1bmN0aW9uKG0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtb2R1bGUgPT0gIm9iamVjdCIgJiYgdHlwZW9mIGV4cG9ydHMgPT0gIm9iamVjdCIgJiYgbW9kdWxlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IG07CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pKCk7CiAgICAgICAgICAgIA==",modeJsonUrl="data:application/javascript;base64,YWNlLmRlZmluZSgiYWNlL21vZGUvanNvbl9oaWdobGlnaHRfcnVsZXMiLFsicmVxdWlyZSIsImV4cG9ydHMiLCJtb2R1bGUiLCJhY2UvbGliL29vcCIsImFjZS9tb2RlL3RleHRfaGlnaGxpZ2h0X3J1bGVzIl0sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSl7InVzZSBzdHJpY3QiOwp2YXIgb29wID0gcmVxdWlyZSgiLi4vbGliL29vcCIpOwp2YXIgVGV4dEhpZ2hsaWdodFJ1bGVzID0gcmVxdWlyZSgiLi90ZXh0X2hpZ2hsaWdodF9ydWxlcyIpLlRleHRIaWdobGlnaHRSdWxlczsKdmFyIEpzb25IaWdobGlnaHRSdWxlcyA9IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuJHJ1bGVzID0gewogICAgICAgICJzdGFydCI6IFsKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdG9rZW46ICJ2YXJpYWJsZSIsCiAgICAgICAgICAgICAgICByZWdleDogJ1siXSg/Oig/OlxcXFwuKXwoPzpbXiJcXFxcXSkpKj9bIl1cXHMqKD89OiknCiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgIHRva2VuOiAic3RyaW5nIiwKICAgICAgICAgICAgICAgIHJlZ2V4OiAnIicsCiAgICAgICAgICAgICAgICBuZXh0OiAic3RyaW5nIgogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICB0b2tlbjogImNvbnN0YW50Lm51bWVyaWMiLAogICAgICAgICAgICAgICAgcmVnZXg6ICIwW3hYXVswLTlhLWZBLUZdK1xcYiIKICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgdG9rZW46ICJjb25zdGFudC5udW1lcmljIiwKICAgICAgICAgICAgICAgIHJlZ2V4OiAiWystXT9cXGQrKD86KD86XFwuXFxkKik/KD86W2VFXVsrLV0/XFxkKyk/KT9cXGIiCiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgIHRva2VuOiAiY29uc3RhbnQubGFuZ3VhZ2UuYm9vbGVhbiIsCiAgICAgICAgICAgICAgICByZWdleDogIig/OnRydWV8ZmFsc2UpXFxiIgogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICB0b2tlbjogInRleHQiLAogICAgICAgICAgICAgICAgcmVnZXg6ICJbJ10oPzooPzpcXFxcLil8KD86W14nXFxcXF0pKSo/WyddIgogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICB0b2tlbjogImNvbW1lbnQiLAogICAgICAgICAgICAgICAgcmVnZXg6ICJcXC9cXC8uKiQiCiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgIHRva2VuOiAiY29tbWVudC5zdGFydCIsCiAgICAgICAgICAgICAgICByZWdleDogIlxcL1xcKiIsCiAgICAgICAgICAgICAgICBuZXh0OiAiY29tbWVudCIKICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgdG9rZW46ICJwYXJlbi5scGFyZW4iLAogICAgICAgICAgICAgICAgcmVnZXg6ICJbWyh7XSIKICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgdG9rZW46ICJwYXJlbi5ycGFyZW4iLAogICAgICAgICAgICAgICAgcmVnZXg6ICJbXFxdKX1dIgogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICB0b2tlbjogInB1bmN0dWF0aW9uLm9wZXJhdG9yIiwKICAgICAgICAgICAgICAgIHJlZ2V4OiAvWyxdLwogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICB0b2tlbjogInRleHQiLAogICAgICAgICAgICAgICAgcmVnZXg6ICJcXHMrIgogICAgICAgICAgICB9CiAgICAgICAgXSwKICAgICAgICAic3RyaW5nIjogWwogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB0b2tlbjogImNvbnN0YW50Lmxhbmd1YWdlLmVzY2FwZSIsCiAgICAgICAgICAgICAgICByZWdleDogL1xcKD86eFswLTlhLWZBLUZdezJ9fHVbMC05YS1mQS1GXXs0fXxbIlxcXC9iZm5ydF0pLwogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICB0b2tlbjogInN0cmluZyIsCiAgICAgICAgICAgICAgICByZWdleDogJyJ8JCcsCiAgICAgICAgICAgICAgICBuZXh0OiAic3RhcnQiCiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgIGRlZmF1bHRUb2tlbjogInN0cmluZyIKICAgICAgICAgICAgfQogICAgICAgIF0sCiAgICAgICAgImNvbW1lbnQiOiBbCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHRva2VuOiAiY29tbWVudC5lbmQiLAogICAgICAgICAgICAgICAgcmVnZXg6ICJcXCpcXC8iLAogICAgICAgICAgICAgICAgbmV4dDogInN0YXJ0IgogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICBkZWZhdWx0VG9rZW46ICJjb21tZW50IgogICAgICAgICAgICB9CiAgICAgICAgXQogICAgfTsKfTsKb29wLmluaGVyaXRzKEpzb25IaWdobGlnaHRSdWxlcywgVGV4dEhpZ2hsaWdodFJ1bGVzKTsKZXhwb3J0cy5Kc29uSGlnaGxpZ2h0UnVsZXMgPSBKc29uSGlnaGxpZ2h0UnVsZXM7Cgp9KTsKCmFjZS5kZWZpbmUoImFjZS9tb2RlL21hdGNoaW5nX2JyYWNlX291dGRlbnQiLFsicmVxdWlyZSIsImV4cG9ydHMiLCJtb2R1bGUiLCJhY2UvcmFuZ2UiXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKXsidXNlIHN0cmljdCI7CnZhciBSYW5nZSA9IHJlcXVpcmUoIi4uL3JhbmdlIikuUmFuZ2U7CnZhciBNYXRjaGluZ0JyYWNlT3V0ZGVudCA9IGZ1bmN0aW9uICgpIHsgfTsKKGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuY2hlY2tPdXRkZW50ID0gZnVuY3Rpb24gKGxpbmUsIGlucHV0KSB7CiAgICAgICAgaWYgKCEvXlxzKyQvLnRlc3QobGluZSkpCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICByZXR1cm4gL15ccypcfS8udGVzdChpbnB1dCk7CiAgICB9OwogICAgdGhpcy5hdXRvT3V0ZGVudCA9IGZ1bmN0aW9uIChkb2MsIHJvdykgewogICAgICAgIHZhciBsaW5lID0gZG9jLmdldExpbmUocm93KTsKICAgICAgICB2YXIgbWF0Y2ggPSBsaW5lLm1hdGNoKC9eKFxzKlx9KS8pOwogICAgICAgIGlmICghbWF0Y2gpCiAgICAgICAgICAgIHJldHVybiAwOwogICAgICAgIHZhciBjb2x1bW4gPSBtYXRjaFsxXS5sZW5ndGg7CiAgICAgICAgdmFyIG9wZW5CcmFjZVBvcyA9IGRvYy5maW5kTWF0Y2hpbmdCcmFja2V0KHsgcm93OiByb3csIGNvbHVtbjogY29sdW1uIH0pOwogICAgICAgIGlmICghb3BlbkJyYWNlUG9zIHx8IG9wZW5CcmFjZVBvcy5yb3cgPT0gcm93KQogICAgICAgICAgICByZXR1cm4gMDsKICAgICAgICB2YXIgaW5kZW50ID0gdGhpcy4kZ2V0SW5kZW50KGRvYy5nZXRMaW5lKG9wZW5CcmFjZVBvcy5yb3cpKTsKICAgICAgICBkb2MucmVwbGFjZShuZXcgUmFuZ2Uocm93LCAwLCByb3csIGNvbHVtbiAtIDEpLCBpbmRlbnQpOwogICAgfTsKICAgIHRoaXMuJGdldEluZGVudCA9IGZ1bmN0aW9uIChsaW5lKSB7CiAgICAgICAgcmV0dXJuIGxpbmUubWF0Y2goL15ccyovKVswXTsKICAgIH07Cn0pLmNhbGwoTWF0Y2hpbmdCcmFjZU91dGRlbnQucHJvdG90eXBlKTsKZXhwb3J0cy5NYXRjaGluZ0JyYWNlT3V0ZGVudCA9IE1hdGNoaW5nQnJhY2VPdXRkZW50OwoKfSk7CgphY2UuZGVmaW5lKCJhY2UvbW9kZS9mb2xkaW5nL2NzdHlsZSIsWyJyZXF1aXJlIiwiZXhwb3J0cyIsIm1vZHVsZSIsImFjZS9saWIvb29wIiwiYWNlL3JhbmdlIiwiYWNlL21vZGUvZm9sZGluZy9mb2xkX21vZGUiXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKXsidXNlIHN0cmljdCI7CnZhciBvb3AgPSByZXF1aXJlKCIuLi8uLi9saWIvb29wIik7CnZhciBSYW5nZSA9IHJlcXVpcmUoIi4uLy4uL3JhbmdlIikuUmFuZ2U7CnZhciBCYXNlRm9sZE1vZGUgPSByZXF1aXJlKCIuL2ZvbGRfbW9kZSIpLkZvbGRNb2RlOwp2YXIgRm9sZE1vZGUgPSBleHBvcnRzLkZvbGRNb2RlID0gZnVuY3Rpb24gKGNvbW1lbnRSZWdleCkgewogICAgaWYgKGNvbW1lbnRSZWdleCkgewogICAgICAgIHRoaXMuZm9sZGluZ1N0YXJ0TWFya2VyID0gbmV3IFJlZ0V4cCh0aGlzLmZvbGRpbmdTdGFydE1hcmtlci5zb3VyY2UucmVwbGFjZSgvXHxbXnxdKj8kLywgInwiICsgY29tbWVudFJlZ2V4LnN0YXJ0KSk7CiAgICAgICAgdGhpcy5mb2xkaW5nU3RvcE1hcmtlciA9IG5ldyBSZWdFeHAodGhpcy5mb2xkaW5nU3RvcE1hcmtlci5zb3VyY2UucmVwbGFjZSgvXHxbXnxdKj8kLywgInwiICsgY29tbWVudFJlZ2V4LmVuZCkpOwogICAgfQp9Owpvb3AuaW5oZXJpdHMoRm9sZE1vZGUsIEJhc2VGb2xkTW9kZSk7CihmdW5jdGlvbiAoKSB7CiAgICB0aGlzLmZvbGRpbmdTdGFydE1hcmtlciA9IC8oW1x7XFtcKF0pW15cfVxdXCldKiR8XlxzKihcL1wqKS87CiAgICB0aGlzLmZvbGRpbmdTdG9wTWFya2VyID0gL15bXlxbXHtcKF0qKFtcfVxdXCldKXxeW1xzXCpdKihcKlwvKS87CiAgICB0aGlzLnNpbmdsZUxpbmVCbG9ja0NvbW1lbnRSZSA9IC9eXHMqKFwvXCopLipcKlwvXHMqJC87CiAgICB0aGlzLnRyaXBsZVN0YXJCbG9ja0NvbW1lbnRSZSA9IC9eXHMqKFwvXCpcKlwqKS4qXCpcL1xzKiQvOwogICAgdGhpcy5zdGFydFJlZ2lvblJlID0gL15ccyooXC9cKnxcL1wvKSM/cmVnaW9uXGIvOwogICAgdGhpcy5fZ2V0Rm9sZFdpZGdldEJhc2UgPSB0aGlzLmdldEZvbGRXaWRnZXQ7CiAgICB0aGlzLmdldEZvbGRXaWRnZXQgPSBmdW5jdGlvbiAoc2Vzc2lvbiwgZm9sZFN0eWxlLCByb3cpIHsKICAgICAgICB2YXIgbGluZSA9IHNlc3Npb24uZ2V0TGluZShyb3cpOwogICAgICAgIGlmICh0aGlzLnNpbmdsZUxpbmVCbG9ja0NvbW1lbnRSZS50ZXN0KGxpbmUpKSB7CiAgICAgICAgICAgIGlmICghdGhpcy5zdGFydFJlZ2lvblJlLnRlc3QobGluZSkgJiYgIXRoaXMudHJpcGxlU3RhckJsb2NrQ29tbWVudFJlLnRlc3QobGluZSkpCiAgICAgICAgICAgICAgICByZXR1cm4gIiI7CiAgICAgICAgfQogICAgICAgIHZhciBmdyA9IHRoaXMuX2dldEZvbGRXaWRnZXRCYXNlKHNlc3Npb24sIGZvbGRTdHlsZSwgcm93KTsKICAgICAgICBpZiAoIWZ3ICYmIHRoaXMuc3RhcnRSZWdpb25SZS50ZXN0KGxpbmUpKQogICAgICAgICAgICByZXR1cm4gInN0YXJ0IjsgLy8gbGluZUNvbW1lbnRSZWdpb25TdGFydAogICAgICAgIHJldHVybiBmdzsKICAgIH07CiAgICB0aGlzLmdldEZvbGRXaWRnZXRSYW5nZSA9IGZ1bmN0aW9uIChzZXNzaW9uLCBmb2xkU3R5bGUsIHJvdywgZm9yY2VNdWx0aWxpbmUpIHsKICAgICAgICB2YXIgbGluZSA9IHNlc3Npb24uZ2V0TGluZShyb3cpOwogICAgICAgIGlmICh0aGlzLnN0YXJ0UmVnaW9uUmUudGVzdChsaW5lKSkKICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q29tbWVudFJlZ2lvbkJsb2NrKHNlc3Npb24sIGxpbmUsIHJvdyk7CiAgICAgICAgdmFyIG1hdGNoID0gbGluZS5tYXRjaCh0aGlzLmZvbGRpbmdTdGFydE1hcmtlcik7CiAgICAgICAgaWYgKG1hdGNoKSB7CiAgICAgICAgICAgIHZhciBpID0gbWF0Y2guaW5kZXg7CiAgICAgICAgICAgIGlmIChtYXRjaFsxXSkKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm9wZW5pbmdCcmFja2V0QmxvY2soc2Vzc2lvbiwgbWF0Y2hbMV0sIHJvdywgaSk7CiAgICAgICAgICAgIHZhciByYW5nZSA9IHNlc3Npb24uZ2V0Q29tbWVudEZvbGRSYW5nZShyb3csIGkgKyBtYXRjaFswXS5sZW5ndGgsIDEpOwogICAgICAgICAgICBpZiAocmFuZ2UgJiYgIXJhbmdlLmlzTXVsdGlMaW5lKCkpIHsKICAgICAgICAgICAgICAgIGlmIChmb3JjZU11bHRpbGluZSkgewogICAgICAgICAgICAgICAgICAgIHJhbmdlID0gdGhpcy5nZXRTZWN0aW9uUmFuZ2Uoc2Vzc2lvbiwgcm93KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgaWYgKGZvbGRTdHlsZSAhPSAiYWxsIikKICAgICAgICAgICAgICAgICAgICByYW5nZSA9IG51bGw7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHJhbmdlOwogICAgICAgIH0KICAgICAgICBpZiAoZm9sZFN0eWxlID09PSAibWFya2JlZ2luIikKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIHZhciBtYXRjaCA9IGxpbmUubWF0Y2godGhpcy5mb2xkaW5nU3RvcE1hcmtlcik7CiAgICAgICAgaWYgKG1hdGNoKSB7CiAgICAgICAgICAgIHZhciBpID0gbWF0Y2guaW5kZXggKyBtYXRjaFswXS5sZW5ndGg7CiAgICAgICAgICAgIGlmIChtYXRjaFsxXSkKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNsb3NpbmdCcmFja2V0QmxvY2soc2Vzc2lvbiwgbWF0Y2hbMV0sIHJvdywgaSk7CiAgICAgICAgICAgIHJldHVybiBzZXNzaW9uLmdldENvbW1lbnRGb2xkUmFuZ2Uocm93LCBpLCAtMSk7CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMuZ2V0U2VjdGlvblJhbmdlID0gZnVuY3Rpb24gKHNlc3Npb24sIHJvdykgewogICAgICAgIHZhciBsaW5lID0gc2Vzc2lvbi5nZXRMaW5lKHJvdyk7CiAgICAgICAgdmFyIHN0YXJ0SW5kZW50ID0gbGluZS5zZWFyY2goL1xTLyk7CiAgICAgICAgdmFyIHN0YXJ0Um93ID0gcm93OwogICAgICAgIHZhciBzdGFydENvbHVtbiA9IGxpbmUubGVuZ3RoOwogICAgICAgIHJvdyA9IHJvdyArIDE7CiAgICAgICAgdmFyIGVuZFJvdyA9IHJvdzsKICAgICAgICB2YXIgbWF4Um93ID0gc2Vzc2lvbi5nZXRMZW5ndGgoKTsKICAgICAgICB3aGlsZSAoKytyb3cgPCBtYXhSb3cpIHsKICAgICAgICAgICAgbGluZSA9IHNlc3Npb24uZ2V0TGluZShyb3cpOwogICAgICAgICAgICB2YXIgaW5kZW50ID0gbGluZS5zZWFyY2goL1xTLyk7CiAgICAgICAgICAgIGlmIChpbmRlbnQgPT09IC0xKQogICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgIGlmIChzdGFydEluZGVudCA+IGluZGVudCkKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB2YXIgc3ViUmFuZ2UgPSB0aGlzLmdldEZvbGRXaWRnZXRSYW5nZShzZXNzaW9uLCAiYWxsIiwgcm93KTsKICAgICAgICAgICAgaWYgKHN1YlJhbmdlKSB7CiAgICAgICAgICAgICAgICBpZiAoc3ViUmFuZ2Uuc3RhcnQucm93IDw9IHN0YXJ0Um93KSB7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIGlmIChzdWJSYW5nZS5pc011bHRpTGluZSgpKSB7CiAgICAgICAgICAgICAgICAgICAgcm93ID0gc3ViUmFuZ2UuZW5kLnJvdzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgaWYgKHN0YXJ0SW5kZW50ID09IGluZGVudCkgewogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVuZFJvdyA9IHJvdzsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIG5ldyBSYW5nZShzdGFydFJvdywgc3RhcnRDb2x1bW4sIGVuZFJvdywgc2Vzc2lvbi5nZXRMaW5lKGVuZFJvdykubGVuZ3RoKTsKICAgIH07CiAgICB0aGlzLmdldENvbW1lbnRSZWdpb25CbG9jayA9IGZ1bmN0aW9uIChzZXNzaW9uLCBsaW5lLCByb3cpIHsKICAgICAgICB2YXIgc3RhcnRDb2x1bW4gPSBsaW5lLnNlYXJjaCgvXHMqJC8pOwogICAgICAgIHZhciBtYXhSb3cgPSBzZXNzaW9uLmdldExlbmd0aCgpOwogICAgICAgIHZhciBzdGFydFJvdyA9IHJvdzsKICAgICAgICB2YXIgcmUgPSAvXlxzKig/OlwvXCp8XC9cL3wtLSkjPyhlbmQpP3JlZ2lvblxiLzsKICAgICAgICB2YXIgZGVwdGggPSAxOwogICAgICAgIHdoaWxlICgrK3JvdyA8IG1heFJvdykgewogICAgICAgICAgICBsaW5lID0gc2Vzc2lvbi5nZXRMaW5lKHJvdyk7CiAgICAgICAgICAgIHZhciBtID0gcmUuZXhlYyhsaW5lKTsKICAgICAgICAgICAgaWYgKCFtKQogICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgIGlmIChtWzFdKQogICAgICAgICAgICAgICAgZGVwdGgtLTsKICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgZGVwdGgrKzsKICAgICAgICAgICAgaWYgKCFkZXB0aCkKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgICB2YXIgZW5kUm93ID0gcm93OwogICAgICAgIGlmIChlbmRSb3cgPiBzdGFydFJvdykgewogICAgICAgICAgICByZXR1cm4gbmV3IFJhbmdlKHN0YXJ0Um93LCBzdGFydENvbHVtbiwgZW5kUm93LCBsaW5lLmxlbmd0aCk7CiAgICAgICAgfQogICAgfTsKfSkuY2FsbChGb2xkTW9kZS5wcm90b3R5cGUpOwoKfSk7CgphY2UuZGVmaW5lKCJhY2UvbW9kZS9qc29uIixbInJlcXVpcmUiLCJleHBvcnRzIiwibW9kdWxlIiwiYWNlL2xpYi9vb3AiLCJhY2UvbW9kZS90ZXh0IiwiYWNlL21vZGUvanNvbl9oaWdobGlnaHRfcnVsZXMiLCJhY2UvbW9kZS9tYXRjaGluZ19icmFjZV9vdXRkZW50IiwiYWNlL21vZGUvYmVoYXZpb3VyL2NzdHlsZSIsImFjZS9tb2RlL2ZvbGRpbmcvY3N0eWxlIiwiYWNlL3dvcmtlci93b3JrZXJfY2xpZW50Il0sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSl7InVzZSBzdHJpY3QiOwp2YXIgb29wID0gcmVxdWlyZSgiLi4vbGliL29vcCIpOwp2YXIgVGV4dE1vZGUgPSByZXF1aXJlKCIuL3RleHQiKS5Nb2RlOwp2YXIgSGlnaGxpZ2h0UnVsZXMgPSByZXF1aXJlKCIuL2pzb25faGlnaGxpZ2h0X3J1bGVzIikuSnNvbkhpZ2hsaWdodFJ1bGVzOwp2YXIgTWF0Y2hpbmdCcmFjZU91dGRlbnQgPSByZXF1aXJlKCIuL21hdGNoaW5nX2JyYWNlX291dGRlbnQiKS5NYXRjaGluZ0JyYWNlT3V0ZGVudDsKdmFyIENzdHlsZUJlaGF2aW91ciA9IHJlcXVpcmUoIi4vYmVoYXZpb3VyL2NzdHlsZSIpLkNzdHlsZUJlaGF2aW91cjsKdmFyIENTdHlsZUZvbGRNb2RlID0gcmVxdWlyZSgiLi9mb2xkaW5nL2NzdHlsZSIpLkZvbGRNb2RlOwp2YXIgV29ya2VyQ2xpZW50ID0gcmVxdWlyZSgiLi4vd29ya2VyL3dvcmtlcl9jbGllbnQiKS5Xb3JrZXJDbGllbnQ7CnZhciBNb2RlID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy5IaWdobGlnaHRSdWxlcyA9IEhpZ2hsaWdodFJ1bGVzOwogICAgdGhpcy4kb3V0ZGVudCA9IG5ldyBNYXRjaGluZ0JyYWNlT3V0ZGVudCgpOwogICAgdGhpcy4kYmVoYXZpb3VyID0gbmV3IENzdHlsZUJlaGF2aW91cigpOwogICAgdGhpcy5mb2xkaW5nUnVsZXMgPSBuZXcgQ1N0eWxlRm9sZE1vZGUoKTsKfTsKb29wLmluaGVyaXRzKE1vZGUsIFRleHRNb2RlKTsKKGZ1bmN0aW9uICgpIHsKICAgIHRoaXMubGluZUNvbW1lbnRTdGFydCA9ICIvLyI7CiAgICB0aGlzLmJsb2NrQ29tbWVudCA9IHsgc3RhcnQ6ICIvKiIsIGVuZDogIiovIiB9OwogICAgdGhpcy5nZXROZXh0TGluZUluZGVudCA9IGZ1bmN0aW9uIChzdGF0ZSwgbGluZSwgdGFiKSB7CiAgICAgICAgdmFyIGluZGVudCA9IHRoaXMuJGdldEluZGVudChsaW5lKTsKICAgICAgICBpZiAoc3RhdGUgPT0gInN0YXJ0IikgewogICAgICAgICAgICB2YXIgbWF0Y2ggPSBsaW5lLm1hdGNoKC9eLipbXHtcKFxbXVxzKiQvKTsKICAgICAgICAgICAgaWYgKG1hdGNoKSB7CiAgICAgICAgICAgICAgICBpbmRlbnQgKz0gdGFiOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBpbmRlbnQ7CiAgICB9OwogICAgdGhpcy5jaGVja091dGRlbnQgPSBmdW5jdGlvbiAoc3RhdGUsIGxpbmUsIGlucHV0KSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJG91dGRlbnQuY2hlY2tPdXRkZW50KGxpbmUsIGlucHV0KTsKICAgIH07CiAgICB0aGlzLmF1dG9PdXRkZW50ID0gZnVuY3Rpb24gKHN0YXRlLCBkb2MsIHJvdykgewogICAgICAgIHRoaXMuJG91dGRlbnQuYXV0b091dGRlbnQoZG9jLCByb3cpOwogICAgfTsKICAgIHRoaXMuY3JlYXRlV29ya2VyID0gZnVuY3Rpb24gKHNlc3Npb24pIHsKICAgICAgICB2YXIgd29ya2VyID0gbmV3IFdvcmtlckNsaWVudChbImFjZSJdLCAiYWNlL21vZGUvanNvbl93b3JrZXIiLCAiSnNvbldvcmtlciIpOwogICAgICAgIHdvcmtlci5hdHRhY2hUb0RvY3VtZW50KHNlc3Npb24uZ2V0RG9jdW1lbnQoKSk7CiAgICAgICAgd29ya2VyLm9uKCJhbm5vdGF0ZSIsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIHNlc3Npb24uc2V0QW5ub3RhdGlvbnMoZS5kYXRhKTsKICAgICAgICB9KTsKICAgICAgICB3b3JrZXIub24oInRlcm1pbmF0ZSIsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgc2Vzc2lvbi5jbGVhckFubm90YXRpb25zKCk7CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIHdvcmtlcjsKICAgIH07CiAgICB0aGlzLiRpZCA9ICJhY2UvbW9kZS9qc29uIjsKfSkuY2FsbChNb2RlLnByb3RvdHlwZSk7CmV4cG9ydHMuTW9kZSA9IE1vZGU7Cgp9KTsgICAgICAgICAgICAgICAgKGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgIGFjZS5yZXF1aXJlKFsiYWNlL21vZGUvanNvbiJdLCBmdW5jdGlvbihtKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbW9kdWxlID09ICJvYmplY3QiICYmIHR5cGVvZiBleHBvcnRzID09ICJvYmplY3QiICYmIG1vZHVsZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBtOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KSgpOwogICAgICAgICAgICA=",workerJsonUrl="data:application/javascript;base64,Im5vIHVzZSBzdHJpY3QiOwohKGZ1bmN0aW9uKHdpbmRvdykgewppZiAodHlwZW9mIHdpbmRvdy53aW5kb3cgIT0gInVuZGVmaW5lZCIgJiYgd2luZG93LmRvY3VtZW50KQogICAgcmV0dXJuOwppZiAod2luZG93LnJlcXVpcmUgJiYgd2luZG93LmRlZmluZSkKICAgIHJldHVybjsKCmlmICghd2luZG93LmNvbnNvbGUpIHsKICAgIHdpbmRvdy5jb25zb2xlID0gZnVuY3Rpb24oKSB7CiAgICAgICAgdmFyIG1zZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDApOwogICAgICAgIHBvc3RNZXNzYWdlKHt0eXBlOiAibG9nIiwgZGF0YTogbXNnc30pOwogICAgfTsKICAgIHdpbmRvdy5jb25zb2xlLmVycm9yID0KICAgIHdpbmRvdy5jb25zb2xlLndhcm4gPSAKICAgIHdpbmRvdy5jb25zb2xlLmxvZyA9CiAgICB3aW5kb3cuY29uc29sZS50cmFjZSA9IHdpbmRvdy5jb25zb2xlOwp9CndpbmRvdy53aW5kb3cgPSB3aW5kb3c7CndpbmRvdy5hY2UgPSB3aW5kb3c7Cgp3aW5kb3cub25lcnJvciA9IGZ1bmN0aW9uKG1lc3NhZ2UsIGZpbGUsIGxpbmUsIGNvbCwgZXJyKSB7CiAgICBwb3N0TWVzc2FnZSh7dHlwZTogImVycm9yIiwgZGF0YTogewogICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsCiAgICAgICAgZGF0YTogZXJyICYmIGVyci5kYXRhLAogICAgICAgIGZpbGU6IGZpbGUsCiAgICAgICAgbGluZTogbGluZSwgCiAgICAgICAgY29sOiBjb2wsCiAgICAgICAgc3RhY2s6IGVyciAmJiBlcnIuc3RhY2sKICAgIH19KTsKfTsKCndpbmRvdy5ub3JtYWxpemVNb2R1bGUgPSBmdW5jdGlvbihwYXJlbnRJZCwgbW9kdWxlTmFtZSkgewogICAgLy8gbm9ybWFsaXplIHBsdWdpbiByZXF1aXJlcwogICAgaWYgKG1vZHVsZU5hbWUuaW5kZXhPZigiISIpICE9PSAtMSkgewogICAgICAgIHZhciBjaHVua3MgPSBtb2R1bGVOYW1lLnNwbGl0KCIhIik7CiAgICAgICAgcmV0dXJuIHdpbmRvdy5ub3JtYWxpemVNb2R1bGUocGFyZW50SWQsIGNodW5rc1swXSkgKyAiISIgKyB3aW5kb3cubm9ybWFsaXplTW9kdWxlKHBhcmVudElkLCBjaHVua3NbMV0pOwogICAgfQogICAgLy8gbm9ybWFsaXplIHJlbGF0aXZlIHJlcXVpcmVzCiAgICBpZiAobW9kdWxlTmFtZS5jaGFyQXQoMCkgPT0gIi4iKSB7CiAgICAgICAgdmFyIGJhc2UgPSBwYXJlbnRJZC5zcGxpdCgiLyIpLnNsaWNlKDAsIC0xKS5qb2luKCIvIik7CiAgICAgICAgbW9kdWxlTmFtZSA9IChiYXNlID8gYmFzZSArICIvIiA6ICIiKSArIG1vZHVsZU5hbWU7CiAgICAgICAgCiAgICAgICAgd2hpbGUgKG1vZHVsZU5hbWUuaW5kZXhPZigiLiIpICE9PSAtMSAmJiBwcmV2aW91cyAhPSBtb2R1bGVOYW1lKSB7CiAgICAgICAgICAgIHZhciBwcmV2aW91cyA9IG1vZHVsZU5hbWU7CiAgICAgICAgICAgIG1vZHVsZU5hbWUgPSBtb2R1bGVOYW1lLnJlcGxhY2UoL15cLlwvLywgIiIpLnJlcGxhY2UoL1wvXC5cLy8sICIvIikucmVwbGFjZSgvW15cL10rXC9cLlwuXC8vLCAiIik7CiAgICAgICAgfQogICAgfQogICAgCiAgICByZXR1cm4gbW9kdWxlTmFtZTsKfTsKCndpbmRvdy5yZXF1aXJlID0gZnVuY3Rpb24gcmVxdWlyZShwYXJlbnRJZCwgaWQpIHsKICAgIGlmICghaWQpIHsKICAgICAgICBpZCA9IHBhcmVudElkOwogICAgICAgIHBhcmVudElkID0gbnVsbDsKICAgIH0KICAgIGlmICghaWQuY2hhckF0KQogICAgICAgIHRocm93IG5ldyBFcnJvcigid29ya2VyLmpzIHJlcXVpcmUoKSBhY2NlcHRzIG9ubHkgKHBhcmVudElkLCBpZCkgYXMgYXJndW1lbnRzIik7CgogICAgaWQgPSB3aW5kb3cubm9ybWFsaXplTW9kdWxlKHBhcmVudElkLCBpZCk7CgogICAgdmFyIG1vZHVsZSA9IHdpbmRvdy5yZXF1aXJlLm1vZHVsZXNbaWRdOwogICAgaWYgKG1vZHVsZSkgewogICAgICAgIGlmICghbW9kdWxlLmluaXRpYWxpemVkKSB7CiAgICAgICAgICAgIG1vZHVsZS5pbml0aWFsaXplZCA9IHRydWU7CiAgICAgICAgICAgIG1vZHVsZS5leHBvcnRzID0gbW9kdWxlLmZhY3RvcnkoKS5leHBvcnRzOwogICAgICAgIH0KICAgICAgICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7CiAgICB9CiAgIAogICAgaWYgKCF3aW5kb3cucmVxdWlyZS50bG5zKQogICAgICAgIHJldHVybiBjb25zb2xlLmxvZygidW5hYmxlIHRvIGxvYWQgIiArIGlkKTsKICAgIAogICAgdmFyIHBhdGggPSByZXNvbHZlTW9kdWxlSWQoaWQsIHdpbmRvdy5yZXF1aXJlLnRsbnMpOwogICAgaWYgKHBhdGguc2xpY2UoLTMpICE9ICIuanMiKSBwYXRoICs9ICIuanMiOwogICAgCiAgICB3aW5kb3cucmVxdWlyZS5pZCA9IGlkOwogICAgd2luZG93LnJlcXVpcmUubW9kdWxlc1tpZF0gPSB7fTsgLy8gcHJldmVudCBpbmZpbml0ZSBsb29wIG9uIGJyb2tlbiBtb2R1bGVzCiAgICBpbXBvcnRTY3JpcHRzKHBhdGgpOwogICAgcmV0dXJuIHdpbmRvdy5yZXF1aXJlKHBhcmVudElkLCBpZCk7Cn07CmZ1bmN0aW9uIHJlc29sdmVNb2R1bGVJZChpZCwgcGF0aHMpIHsKICAgIHZhciB0ZXN0UGF0aCA9IGlkLCB0YWlsID0gIiI7CiAgICB3aGlsZSAodGVzdFBhdGgpIHsKICAgICAgICB2YXIgYWxpYXMgPSBwYXRoc1t0ZXN0UGF0aF07CiAgICAgICAgaWYgKHR5cGVvZiBhbGlhcyA9PSAic3RyaW5nIikgewogICAgICAgICAgICByZXR1cm4gYWxpYXMgKyB0YWlsOwogICAgICAgIH0gZWxzZSBpZiAoYWxpYXMpIHsKICAgICAgICAgICAgcmV0dXJuICBhbGlhcy5sb2NhdGlvbi5yZXBsYWNlKC9cLyokLywgIi8iKSArICh0YWlsIHx8IGFsaWFzLm1haW4gfHwgYWxpYXMubmFtZSk7CiAgICAgICAgfSBlbHNlIGlmIChhbGlhcyA9PT0gZmFsc2UpIHsKICAgICAgICAgICAgcmV0dXJuICIiOwogICAgICAgIH0KICAgICAgICB2YXIgaSA9IHRlc3RQYXRoLmxhc3RJbmRleE9mKCIvIik7CiAgICAgICAgaWYgKGkgPT09IC0xKSBicmVhazsKICAgICAgICB0YWlsID0gdGVzdFBhdGguc3Vic3RyKGkpICsgdGFpbDsKICAgICAgICB0ZXN0UGF0aCA9IHRlc3RQYXRoLnNsaWNlKDAsIGkpOwogICAgfQogICAgcmV0dXJuIGlkOwp9CndpbmRvdy5yZXF1aXJlLm1vZHVsZXMgPSB7fTsKd2luZG93LnJlcXVpcmUudGxucyA9IHt9OwoKd2luZG93LmRlZmluZSA9IGZ1bmN0aW9uKGlkLCBkZXBzLCBmYWN0b3J5KSB7CiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PSAyKSB7CiAgICAgICAgZmFjdG9yeSA9IGRlcHM7CiAgICAgICAgaWYgKHR5cGVvZiBpZCAhPSAic3RyaW5nIikgewogICAgICAgICAgICBkZXBzID0gaWQ7CiAgICAgICAgICAgIGlkID0gd2luZG93LnJlcXVpcmUuaWQ7CiAgICAgICAgfQogICAgfSBlbHNlIGlmIChhcmd1bWVudHMubGVuZ3RoID09IDEpIHsKICAgICAgICBmYWN0b3J5ID0gaWQ7CiAgICAgICAgZGVwcyA9IFtdOwogICAgICAgIGlkID0gd2luZG93LnJlcXVpcmUuaWQ7CiAgICB9CiAgICAKICAgIGlmICh0eXBlb2YgZmFjdG9yeSAhPSAiZnVuY3Rpb24iKSB7CiAgICAgICAgd2luZG93LnJlcXVpcmUubW9kdWxlc1tpZF0gPSB7CiAgICAgICAgICAgIGV4cG9ydHM6IGZhY3RvcnksCiAgICAgICAgICAgIGluaXRpYWxpemVkOiB0cnVlCiAgICAgICAgfTsKICAgICAgICByZXR1cm47CiAgICB9CgogICAgaWYgKCFkZXBzLmxlbmd0aCkKICAgICAgICAvLyBJZiB0aGVyZSBpcyBubyBkZXBlbmRlbmNpZXMsIHdlIGluamVjdCAicmVxdWlyZSIsICJleHBvcnRzIiBhbmQKICAgICAgICAvLyAibW9kdWxlIiBhcyBkZXBlbmRlbmNpZXMsIHRvIHByb3ZpZGUgQ29tbW9uSlMgY29tcGF0aWJpbGl0eS4KICAgICAgICBkZXBzID0gWyJyZXF1aXJlIiwgImV4cG9ydHMiLCAibW9kdWxlIl07CgogICAgdmFyIHJlcSA9IGZ1bmN0aW9uKGNoaWxkSWQpIHsKICAgICAgICByZXR1cm4gd2luZG93LnJlcXVpcmUoaWQsIGNoaWxkSWQpOwogICAgfTsKCiAgICB3aW5kb3cucmVxdWlyZS5tb2R1bGVzW2lkXSA9IHsKICAgICAgICBleHBvcnRzOiB7fSwKICAgICAgICBmYWN0b3J5OiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgdmFyIG1vZHVsZSA9IHRoaXM7CiAgICAgICAgICAgIHZhciByZXR1cm5FeHBvcnRzID0gZmFjdG9yeS5hcHBseSh0aGlzLCBkZXBzLnNsaWNlKDAsIGZhY3RvcnkubGVuZ3RoKS5tYXAoZnVuY3Rpb24oZGVwKSB7CiAgICAgICAgICAgICAgICBzd2l0Y2ggKGRlcCkgewogICAgICAgICAgICAgICAgICAgIC8vIEJlY2F1c2UgInJlcXVpcmUiLCAiZXhwb3J0cyIgYW5kICJtb2R1bGUiIGFyZW4ndCBhY3R1YWwKICAgICAgICAgICAgICAgICAgICAvLyBkZXBlbmRlbmNpZXMsIHdlIG11c3QgaGFuZGxlIHRoZW0gc2VwZXJhdGVseS4KICAgICAgICAgICAgICAgICAgICBjYXNlICJyZXF1aXJlIjogcmV0dXJuIHJlcTsKICAgICAgICAgICAgICAgICAgICBjYXNlICJleHBvcnRzIjogcmV0dXJuIG1vZHVsZS5leHBvcnRzOwogICAgICAgICAgICAgICAgICAgIGNhc2UgIm1vZHVsZSI6ICByZXR1cm4gbW9kdWxlOwogICAgICAgICAgICAgICAgICAgIC8vIEJ1dCBmb3IgYWxsIG90aGVyIGRlcGVuZGVuY2llcywgd2UgY2FuIGp1c3QgZ28gYWhlYWQgYW5kCiAgICAgICAgICAgICAgICAgICAgLy8gcmVxdWlyZSB0aGVtLgogICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6ICAgICAgICByZXR1cm4gcmVxKGRlcCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pKTsKICAgICAgICAgICAgaWYgKHJldHVybkV4cG9ydHMpCiAgICAgICAgICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IHJldHVybkV4cG9ydHM7CiAgICAgICAgICAgIHJldHVybiBtb2R1bGU7CiAgICAgICAgfQogICAgfTsKfTsKd2luZG93LmRlZmluZS5hbWQgPSB7fTsKd2luZG93LnJlcXVpcmUudGxucyA9IHt9Owp3aW5kb3cuaW5pdEJhc2VVcmxzICA9IGZ1bmN0aW9uIGluaXRCYXNlVXJscyh0b3BMZXZlbE5hbWVzcGFjZXMpIHsKICAgIGZvciAodmFyIGkgaW4gdG9wTGV2ZWxOYW1lc3BhY2VzKQogICAgICAgIHRoaXMucmVxdWlyZS50bG5zW2ldID0gdG9wTGV2ZWxOYW1lc3BhY2VzW2ldOwp9OwoKd2luZG93LmluaXRTZW5kZXIgPSBmdW5jdGlvbiBpbml0U2VuZGVyKCkgewoKICAgIHZhciBFdmVudEVtaXR0ZXIgPSB3aW5kb3cucmVxdWlyZSgiYWNlL2xpYi9ldmVudF9lbWl0dGVyIikuRXZlbnRFbWl0dGVyOwogICAgdmFyIG9vcCA9IHdpbmRvdy5yZXF1aXJlKCJhY2UvbGliL29vcCIpOwogICAgCiAgICB2YXIgU2VuZGVyID0gZnVuY3Rpb24oKSB7fTsKICAgIAogICAgKGZ1bmN0aW9uKCkgewogICAgICAgIAogICAgICAgIG9vcC5pbXBsZW1lbnQodGhpcywgRXZlbnRFbWl0dGVyKTsKICAgICAgICAgICAgICAgIAogICAgICAgIHRoaXMuY2FsbGJhY2sgPSBmdW5jdGlvbihkYXRhLCBjYWxsYmFja0lkKSB7CiAgICAgICAgICAgIHBvc3RNZXNzYWdlKHsKICAgICAgICAgICAgICAgIHR5cGU6ICJjYWxsIiwKICAgICAgICAgICAgICAgIGlkOiBjYWxsYmFja0lkLAogICAgICAgICAgICAgICAgZGF0YTogZGF0YQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgCiAgICAgICAgdGhpcy5lbWl0ID0gZnVuY3Rpb24obmFtZSwgZGF0YSkgewogICAgICAgICAgICBwb3N0TWVzc2FnZSh7CiAgICAgICAgICAgICAgICB0eXBlOiAiZXZlbnQiLAogICAgICAgICAgICAgICAgbmFtZTogbmFtZSwKICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEKICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICAKICAgIH0pLmNhbGwoU2VuZGVyLnByb3RvdHlwZSk7CiAgICAKICAgIHJldHVybiBuZXcgU2VuZGVyKCk7Cn07Cgp2YXIgbWFpbiA9IHdpbmRvdy5tYWluID0gbnVsbDsKdmFyIHNlbmRlciA9IHdpbmRvdy5zZW5kZXIgPSBudWxsOwoKd2luZG93Lm9ubWVzc2FnZSA9IGZ1bmN0aW9uKGUpIHsKICAgIHZhciBtc2cgPSBlLmRhdGE7CiAgICBpZiAobXNnLmV2ZW50ICYmIHNlbmRlcikgewogICAgICAgIHNlbmRlci5fc2lnbmFsKG1zZy5ldmVudCwgbXNnLmRhdGEpOwogICAgfQogICAgZWxzZSBpZiAobXNnLmNvbW1hbmQpIHsKICAgICAgICBpZiAobWFpblttc2cuY29tbWFuZF0pCiAgICAgICAgICAgIG1haW5bbXNnLmNvbW1hbmRdLmFwcGx5KG1haW4sIG1zZy5hcmdzKTsKICAgICAgICBlbHNlIGlmICh3aW5kb3dbbXNnLmNvbW1hbmRdKQogICAgICAgICAgICB3aW5kb3dbbXNnLmNvbW1hbmRdLmFwcGx5KHdpbmRvdywgbXNnLmFyZ3MpOwogICAgICAgIGVsc2UKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJVbmtub3duIGNvbW1hbmQ6IiArIG1zZy5jb21tYW5kKTsKICAgIH0KICAgIGVsc2UgaWYgKG1zZy5pbml0KSB7CiAgICAgICAgd2luZG93LmluaXRCYXNlVXJscyhtc2cudGxucyk7CiAgICAgICAgc2VuZGVyID0gd2luZG93LnNlbmRlciA9IHdpbmRvdy5pbml0U2VuZGVyKCk7CiAgICAgICAgdmFyIGNsYXp6ID0gdGhpcy5yZXF1aXJlKG1zZy5tb2R1bGUpW21zZy5jbGFzc25hbWVdOwogICAgICAgIG1haW4gPSB3aW5kb3cubWFpbiA9IG5ldyBjbGF6eihzZW5kZXIpOwogICAgfQp9Owp9KSh0aGlzKTsKCmFjZS5kZWZpbmUoImFjZS9saWIvb29wIixbXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKXsidXNlIHN0cmljdCI7CmV4cG9ydHMuaW5oZXJpdHMgPSBmdW5jdGlvbiAoY3Rvciwgc3VwZXJDdG9yKSB7CiAgICBjdG9yLnN1cGVyXyA9IHN1cGVyQ3RvcjsKICAgIGN0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckN0b3IucHJvdG90eXBlLCB7CiAgICAgICAgY29uc3RydWN0b3I6IHsKICAgICAgICAgICAgdmFsdWU6IGN0b3IsCiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLAogICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSwKICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlCiAgICAgICAgfQogICAgfSk7Cn07CmV4cG9ydHMubWl4aW4gPSBmdW5jdGlvbiAob2JqLCBtaXhpbikgewogICAgZm9yICh2YXIga2V5IGluIG1peGluKSB7CiAgICAgICAgb2JqW2tleV0gPSBtaXhpbltrZXldOwogICAgfQogICAgcmV0dXJuIG9iajsKfTsKZXhwb3J0cy5pbXBsZW1lbnQgPSBmdW5jdGlvbiAocHJvdG8sIG1peGluKSB7CiAgICBleHBvcnRzLm1peGluKHByb3RvLCBtaXhpbik7Cn07Cgp9KTsKCmFjZS5kZWZpbmUoImFjZS9hcHBseV9kZWx0YSIsW10sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSl7InVzZSBzdHJpY3QiOwpmdW5jdGlvbiB0aHJvd0RlbHRhRXJyb3IoZGVsdGEsIGVycm9yVGV4dCkgewogICAgY29uc29sZS5sb2coIkludmFsaWQgRGVsdGE6IiwgZGVsdGEpOwogICAgdGhyb3cgIkludmFsaWQgRGVsdGE6ICIgKyBlcnJvclRleHQ7Cn0KZnVuY3Rpb24gcG9zaXRpb25JbkRvY3VtZW50KGRvY0xpbmVzLCBwb3NpdGlvbikgewogICAgcmV0dXJuIHBvc2l0aW9uLnJvdyA+PSAwICYmIHBvc2l0aW9uLnJvdyA8IGRvY0xpbmVzLmxlbmd0aCAmJgogICAgICAgIHBvc2l0aW9uLmNvbHVtbiA+PSAwICYmIHBvc2l0aW9uLmNvbHVtbiA8PSBkb2NMaW5lc1twb3NpdGlvbi5yb3ddLmxlbmd0aDsKfQpmdW5jdGlvbiB2YWxpZGF0ZURlbHRhKGRvY0xpbmVzLCBkZWx0YSkgewogICAgaWYgKGRlbHRhLmFjdGlvbiAhPSAiaW5zZXJ0IiAmJiBkZWx0YS5hY3Rpb24gIT0gInJlbW92ZSIpCiAgICAgICAgdGhyb3dEZWx0YUVycm9yKGRlbHRhLCAiZGVsdGEuYWN0aW9uIG11c3QgYmUgJ2luc2VydCcgb3IgJ3JlbW92ZSciKTsKICAgIGlmICghKGRlbHRhLmxpbmVzIGluc3RhbmNlb2YgQXJyYXkpKQogICAgICAgIHRocm93RGVsdGFFcnJvcihkZWx0YSwgImRlbHRhLmxpbmVzIG11c3QgYmUgYW4gQXJyYXkiKTsKICAgIGlmICghZGVsdGEuc3RhcnQgfHwgIWRlbHRhLmVuZCkKICAgICAgICB0aHJvd0RlbHRhRXJyb3IoZGVsdGEsICJkZWx0YS5zdGFydC9lbmQgbXVzdCBiZSBhbiBwcmVzZW50Iik7CiAgICB2YXIgc3RhcnQgPSBkZWx0YS5zdGFydDsKICAgIGlmICghcG9zaXRpb25JbkRvY3VtZW50KGRvY0xpbmVzLCBkZWx0YS5zdGFydCkpCiAgICAgICAgdGhyb3dEZWx0YUVycm9yKGRlbHRhLCAiZGVsdGEuc3RhcnQgbXVzdCBiZSBjb250YWluZWQgaW4gZG9jdW1lbnQiKTsKICAgIHZhciBlbmQgPSBkZWx0YS5lbmQ7CiAgICBpZiAoZGVsdGEuYWN0aW9uID09ICJyZW1vdmUiICYmICFwb3NpdGlvbkluRG9jdW1lbnQoZG9jTGluZXMsIGVuZCkpCiAgICAgICAgdGhyb3dEZWx0YUVycm9yKGRlbHRhLCAiZGVsdGEuZW5kIG11c3QgY29udGFpbmVkIGluIGRvY3VtZW50IGZvciAncmVtb3ZlJyBhY3Rpb25zIik7CiAgICB2YXIgbnVtUmFuZ2VSb3dzID0gZW5kLnJvdyAtIHN0YXJ0LnJvdzsKICAgIHZhciBudW1SYW5nZUxhc3RMaW5lQ2hhcnMgPSAoZW5kLmNvbHVtbiAtIChudW1SYW5nZVJvd3MgPT0gMCA/IHN0YXJ0LmNvbHVtbiA6IDApKTsKICAgIGlmIChudW1SYW5nZVJvd3MgIT0gZGVsdGEubGluZXMubGVuZ3RoIC0gMSB8fCBkZWx0YS5saW5lc1tudW1SYW5nZVJvd3NdLmxlbmd0aCAhPSBudW1SYW5nZUxhc3RMaW5lQ2hhcnMpCiAgICAgICAgdGhyb3dEZWx0YUVycm9yKGRlbHRhLCAiZGVsdGEucmFuZ2UgbXVzdCBtYXRjaCBkZWx0YSBsaW5lcyIpOwp9CmV4cG9ydHMuYXBwbHlEZWx0YSA9IGZ1bmN0aW9uIChkb2NMaW5lcywgZGVsdGEsIGRvTm90VmFsaWRhdGUpIHsKICAgIHZhciByb3cgPSBkZWx0YS5zdGFydC5yb3c7CiAgICB2YXIgc3RhcnRDb2x1bW4gPSBkZWx0YS5zdGFydC5jb2x1bW47CiAgICB2YXIgbGluZSA9IGRvY0xpbmVzW3Jvd10gfHwgIiI7CiAgICBzd2l0Y2ggKGRlbHRhLmFjdGlvbikgewogICAgICAgIGNhc2UgImluc2VydCI6CiAgICAgICAgICAgIHZhciBsaW5lcyA9IGRlbHRhLmxpbmVzOwogICAgICAgICAgICBpZiAobGluZXMubGVuZ3RoID09PSAxKSB7CiAgICAgICAgICAgICAgICBkb2NMaW5lc1tyb3ddID0gbGluZS5zdWJzdHJpbmcoMCwgc3RhcnRDb2x1bW4pICsgZGVsdGEubGluZXNbMF0gKyBsaW5lLnN1YnN0cmluZyhzdGFydENvbHVtbik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICB2YXIgYXJncyA9IFtyb3csIDFdLmNvbmNhdChkZWx0YS5saW5lcyk7CiAgICAgICAgICAgICAgICBkb2NMaW5lcy5zcGxpY2UuYXBwbHkoZG9jTGluZXMsIGFyZ3MpOwogICAgICAgICAgICAgICAgZG9jTGluZXNbcm93XSA9IGxpbmUuc3Vic3RyaW5nKDAsIHN0YXJ0Q29sdW1uKSArIGRvY0xpbmVzW3Jvd107CiAgICAgICAgICAgICAgICBkb2NMaW5lc1tyb3cgKyBkZWx0YS5saW5lcy5sZW5ndGggLSAxXSArPSBsaW5lLnN1YnN0cmluZyhzdGFydENvbHVtbik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAicmVtb3ZlIjoKICAgICAgICAgICAgdmFyIGVuZENvbHVtbiA9IGRlbHRhLmVuZC5jb2x1bW47CiAgICAgICAgICAgIHZhciBlbmRSb3cgPSBkZWx0YS5lbmQucm93OwogICAgICAgICAgICBpZiAocm93ID09PSBlbmRSb3cpIHsKICAgICAgICAgICAgICAgIGRvY0xpbmVzW3Jvd10gPSBsaW5lLnN1YnN0cmluZygwLCBzdGFydENvbHVtbikgKyBsaW5lLnN1YnN0cmluZyhlbmRDb2x1bW4pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgZG9jTGluZXMuc3BsaWNlKHJvdywgZW5kUm93IC0gcm93ICsgMSwgbGluZS5zdWJzdHJpbmcoMCwgc3RhcnRDb2x1bW4pICsgZG9jTGluZXNbZW5kUm93XS5zdWJzdHJpbmcoZW5kQ29sdW1uKSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgYnJlYWs7CiAgICB9Cn07Cgp9KTsKCmFjZS5kZWZpbmUoImFjZS9saWIvZXZlbnRfZW1pdHRlciIsW10sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSl7InVzZSBzdHJpY3QiOwp2YXIgRXZlbnRFbWl0dGVyID0ge307CnZhciBzdG9wUHJvcGFnYXRpb24gPSBmdW5jdGlvbiAoKSB7IHRoaXMucHJvcGFnYXRpb25TdG9wcGVkID0gdHJ1ZTsgfTsKdmFyIHByZXZlbnREZWZhdWx0ID0gZnVuY3Rpb24gKCkgeyB0aGlzLmRlZmF1bHRQcmV2ZW50ZWQgPSB0cnVlOyB9OwpFdmVudEVtaXR0ZXIuX2VtaXQgPQogICAgRXZlbnRFbWl0dGVyLl9kaXNwYXRjaEV2ZW50ID0gZnVuY3Rpb24gKGV2ZW50TmFtZSwgZSkgewogICAgICAgIHRoaXMuX2V2ZW50UmVnaXN0cnkgfHwgKHRoaXMuX2V2ZW50UmVnaXN0cnkgPSB7fSk7CiAgICAgICAgdGhpcy5fZGVmYXVsdEhhbmRsZXJzIHx8ICh0aGlzLl9kZWZhdWx0SGFuZGxlcnMgPSB7fSk7CiAgICAgICAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50UmVnaXN0cnlbZXZlbnROYW1lXSB8fCBbXTsKICAgICAgICB2YXIgZGVmYXVsdEhhbmRsZXIgPSB0aGlzLl9kZWZhdWx0SGFuZGxlcnNbZXZlbnROYW1lXTsKICAgICAgICBpZiAoIWxpc3RlbmVycy5sZW5ndGggJiYgIWRlZmF1bHRIYW5kbGVyKQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgaWYgKHR5cGVvZiBlICE9ICJvYmplY3QiIHx8ICFlKQogICAgICAgICAgICBlID0ge307CiAgICAgICAgaWYgKCFlLnR5cGUpCiAgICAgICAgICAgIGUudHlwZSA9IGV2ZW50TmFtZTsKICAgICAgICBpZiAoIWUuc3RvcFByb3BhZ2F0aW9uKQogICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbiA9IHN0b3BQcm9wYWdhdGlvbjsKICAgICAgICBpZiAoIWUucHJldmVudERlZmF1bHQpCiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQgPSBwcmV2ZW50RGVmYXVsdDsKICAgICAgICBsaXN0ZW5lcnMgPSBsaXN0ZW5lcnMuc2xpY2UoKTsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBsaXN0ZW5lcnNbaV0oZSwgdGhpcyk7CiAgICAgICAgICAgIGlmIChlLnByb3BhZ2F0aW9uU3RvcHBlZCkKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgICBpZiAoZGVmYXVsdEhhbmRsZXIgJiYgIWUuZGVmYXVsdFByZXZlbnRlZCkKICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRIYW5kbGVyKGUsIHRoaXMpOwogICAgfTsKRXZlbnRFbWl0dGVyLl9zaWduYWwgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBlKSB7CiAgICB2YXIgbGlzdGVuZXJzID0gKHRoaXMuX2V2ZW50UmVnaXN0cnkgfHwge30pW2V2ZW50TmFtZV07CiAgICBpZiAoIWxpc3RlbmVycykKICAgICAgICByZXR1cm47CiAgICBsaXN0ZW5lcnMgPSBsaXN0ZW5lcnMuc2xpY2UoKTsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdGVuZXJzLmxlbmd0aDsgaSsrKQogICAgICAgIGxpc3RlbmVyc1tpXShlLCB0aGlzKTsKfTsKRXZlbnRFbWl0dGVyLm9uY2UgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBjYWxsYmFjaykgewogICAgdmFyIF9zZWxmID0gdGhpczsKICAgIHRoaXMub24oZXZlbnROYW1lLCBmdW5jdGlvbiBuZXdDYWxsYmFjaygpIHsKICAgICAgICBfc2VsZi5vZmYoZXZlbnROYW1lLCBuZXdDYWxsYmFjayk7CiAgICAgICAgY2FsbGJhY2suYXBwbHkobnVsbCwgYXJndW1lbnRzKTsKICAgIH0pOwogICAgaWYgKCFjYWxsYmFjaykgewogICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICBjYWxsYmFjayA9IHJlc29sdmU7CiAgICAgICAgfSk7CiAgICB9Cn07CkV2ZW50RW1pdHRlci5zZXREZWZhdWx0SGFuZGxlciA9IGZ1bmN0aW9uIChldmVudE5hbWUsIGNhbGxiYWNrKSB7CiAgICB2YXIgaGFuZGxlcnMgPSB0aGlzLl9kZWZhdWx0SGFuZGxlcnM7CiAgICBpZiAoIWhhbmRsZXJzKQogICAgICAgIGhhbmRsZXJzID0gdGhpcy5fZGVmYXVsdEhhbmRsZXJzID0geyBfZGlzYWJsZWRfOiB7fSB9OwogICAgaWYgKGhhbmRsZXJzW2V2ZW50TmFtZV0pIHsKICAgICAgICB2YXIgb2xkID0gaGFuZGxlcnNbZXZlbnROYW1lXTsKICAgICAgICB2YXIgZGlzYWJsZWQgPSBoYW5kbGVycy5fZGlzYWJsZWRfW2V2ZW50TmFtZV07CiAgICAgICAgaWYgKCFkaXNhYmxlZCkKICAgICAgICAgICAgaGFuZGxlcnMuX2Rpc2FibGVkX1tldmVudE5hbWVdID0gZGlzYWJsZWQgPSBbXTsKICAgICAgICBkaXNhYmxlZC5wdXNoKG9sZCk7CiAgICAgICAgdmFyIGkgPSBkaXNhYmxlZC5pbmRleE9mKGNhbGxiYWNrKTsKICAgICAgICBpZiAoaSAhPSAtMSkKICAgICAgICAgICAgZGlzYWJsZWQuc3BsaWNlKGksIDEpOwogICAgfQogICAgaGFuZGxlcnNbZXZlbnROYW1lXSA9IGNhbGxiYWNrOwp9OwpFdmVudEVtaXR0ZXIucmVtb3ZlRGVmYXVsdEhhbmRsZXIgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBjYWxsYmFjaykgewogICAgdmFyIGhhbmRsZXJzID0gdGhpcy5fZGVmYXVsdEhhbmRsZXJzOwogICAgaWYgKCFoYW5kbGVycykKICAgICAgICByZXR1cm47CiAgICB2YXIgZGlzYWJsZWQgPSBoYW5kbGVycy5fZGlzYWJsZWRfW2V2ZW50TmFtZV07CiAgICBpZiAoaGFuZGxlcnNbZXZlbnROYW1lXSA9PSBjYWxsYmFjaykgewogICAgICAgIGlmIChkaXNhYmxlZCkKICAgICAgICAgICAgdGhpcy5zZXREZWZhdWx0SGFuZGxlcihldmVudE5hbWUsIGRpc2FibGVkLnBvcCgpKTsKICAgIH0KICAgIGVsc2UgaWYgKGRpc2FibGVkKSB7CiAgICAgICAgdmFyIGkgPSBkaXNhYmxlZC5pbmRleE9mKGNhbGxiYWNrKTsKICAgICAgICBpZiAoaSAhPSAtMSkKICAgICAgICAgICAgZGlzYWJsZWQuc3BsaWNlKGksIDEpOwogICAgfQp9OwpFdmVudEVtaXR0ZXIub24gPQogICAgRXZlbnRFbWl0dGVyLmFkZEV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBjYWxsYmFjaywgY2FwdHVyaW5nKSB7CiAgICAgICAgdGhpcy5fZXZlbnRSZWdpc3RyeSA9IHRoaXMuX2V2ZW50UmVnaXN0cnkgfHwge307CiAgICAgICAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50UmVnaXN0cnlbZXZlbnROYW1lXTsKICAgICAgICBpZiAoIWxpc3RlbmVycykKICAgICAgICAgICAgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRSZWdpc3RyeVtldmVudE5hbWVdID0gW107CiAgICAgICAgaWYgKGxpc3RlbmVycy5pbmRleE9mKGNhbGxiYWNrKSA9PSAtMSkKICAgICAgICAgICAgbGlzdGVuZXJzW2NhcHR1cmluZyA/ICJ1bnNoaWZ0IiA6ICJwdXNoIl0oY2FsbGJhY2spOwogICAgICAgIHJldHVybiBjYWxsYmFjazsKICAgIH07CkV2ZW50RW1pdHRlci5vZmYgPQogICAgRXZlbnRFbWl0dGVyLnJlbW92ZUxpc3RlbmVyID0KICAgICAgICBFdmVudEVtaXR0ZXIucmVtb3ZlRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uIChldmVudE5hbWUsIGNhbGxiYWNrKSB7CiAgICAgICAgICAgIHRoaXMuX2V2ZW50UmVnaXN0cnkgPSB0aGlzLl9ldmVudFJlZ2lzdHJ5IHx8IHt9OwogICAgICAgICAgICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRSZWdpc3RyeVtldmVudE5hbWVdOwogICAgICAgICAgICBpZiAoIWxpc3RlbmVycykKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgdmFyIGluZGV4ID0gbGlzdGVuZXJzLmluZGV4T2YoY2FsbGJhY2spOwogICAgICAgICAgICBpZiAoaW5kZXggIT09IC0xKQogICAgICAgICAgICAgICAgbGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7CiAgICAgICAgfTsKRXZlbnRFbWl0dGVyLnJlbW92ZUFsbExpc3RlbmVycyA9IGZ1bmN0aW9uIChldmVudE5hbWUpIHsKICAgIGlmICghZXZlbnROYW1lKQogICAgICAgIHRoaXMuX2V2ZW50UmVnaXN0cnkgPSB0aGlzLl9kZWZhdWx0SGFuZGxlcnMgPSB1bmRlZmluZWQ7CiAgICBpZiAodGhpcy5fZXZlbnRSZWdpc3RyeSkKICAgICAgICB0aGlzLl9ldmVudFJlZ2lzdHJ5W2V2ZW50TmFtZV0gPSB1bmRlZmluZWQ7CiAgICBpZiAodGhpcy5fZGVmYXVsdEhhbmRsZXJzKQogICAgICAgIHRoaXMuX2RlZmF1bHRIYW5kbGVyc1tldmVudE5hbWVdID0gdW5kZWZpbmVkOwp9OwpleHBvcnRzLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjsKCn0pOwoKYWNlLmRlZmluZSgiYWNlL3JhbmdlIixbXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKXsidXNlIHN0cmljdCI7CnZhciBjb21wYXJlUG9pbnRzID0gZnVuY3Rpb24gKHAxLCBwMikgewogICAgcmV0dXJuIHAxLnJvdyAtIHAyLnJvdyB8fCBwMS5jb2x1bW4gLSBwMi5jb2x1bW47Cn07CnZhciBSYW5nZSA9IGZ1bmN0aW9uIChzdGFydFJvdywgc3RhcnRDb2x1bW4sIGVuZFJvdywgZW5kQ29sdW1uKSB7CiAgICB0aGlzLnN0YXJ0ID0gewogICAgICAgIHJvdzogc3RhcnRSb3csCiAgICAgICAgY29sdW1uOiBzdGFydENvbHVtbgogICAgfTsKICAgIHRoaXMuZW5kID0gewogICAgICAgIHJvdzogZW5kUm93LAogICAgICAgIGNvbHVtbjogZW5kQ29sdW1uCiAgICB9Owp9OwooZnVuY3Rpb24gKCkgewogICAgdGhpcy5pc0VxdWFsID0gZnVuY3Rpb24gKHJhbmdlKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuc3RhcnQucm93ID09PSByYW5nZS5zdGFydC5yb3cgJiYKICAgICAgICAgICAgdGhpcy5lbmQucm93ID09PSByYW5nZS5lbmQucm93ICYmCiAgICAgICAgICAgIHRoaXMuc3RhcnQuY29sdW1uID09PSByYW5nZS5zdGFydC5jb2x1bW4gJiYKICAgICAgICAgICAgdGhpcy5lbmQuY29sdW1uID09PSByYW5nZS5lbmQuY29sdW1uOwogICAgfTsKICAgIHRoaXMudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuICgiUmFuZ2U6IFsiICsgdGhpcy5zdGFydC5yb3cgKyAiLyIgKyB0aGlzLnN0YXJ0LmNvbHVtbiArCiAgICAgICAgICAgICJdIC0+IFsiICsgdGhpcy5lbmQucm93ICsgIi8iICsgdGhpcy5lbmQuY29sdW1uICsgIl0iKTsKICAgIH07CiAgICB0aGlzLmNvbnRhaW5zID0gZnVuY3Rpb24gKHJvdywgY29sdW1uKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuY29tcGFyZShyb3csIGNvbHVtbikgPT0gMDsKICAgIH07CiAgICB0aGlzLmNvbXBhcmVSYW5nZSA9IGZ1bmN0aW9uIChyYW5nZSkgewogICAgICAgIHZhciBjbXAsIGVuZCA9IHJhbmdlLmVuZCwgc3RhcnQgPSByYW5nZS5zdGFydDsKICAgICAgICBjbXAgPSB0aGlzLmNvbXBhcmUoZW5kLnJvdywgZW5kLmNvbHVtbik7CiAgICAgICAgaWYgKGNtcCA9PSAxKSB7CiAgICAgICAgICAgIGNtcCA9IHRoaXMuY29tcGFyZShzdGFydC5yb3csIHN0YXJ0LmNvbHVtbik7CiAgICAgICAgICAgIGlmIChjbXAgPT0gMSkgewogICAgICAgICAgICAgICAgcmV0dXJuIDI7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSBpZiAoY21wID09IDApIHsKICAgICAgICAgICAgICAgIHJldHVybiAxOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZWxzZSBpZiAoY21wID09IC0xKSB7CiAgICAgICAgICAgIHJldHVybiAtMjsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIGNtcCA9IHRoaXMuY29tcGFyZShzdGFydC5yb3csIHN0YXJ0LmNvbHVtbik7CiAgICAgICAgICAgIGlmIChjbXAgPT0gLTEpIHsKICAgICAgICAgICAgICAgIHJldHVybiAtMTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIGlmIChjbXAgPT0gMSkgewogICAgICAgICAgICAgICAgcmV0dXJuIDQyOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9OwogICAgdGhpcy5jb21wYXJlUG9pbnQgPSBmdW5jdGlvbiAocCkgewogICAgICAgIHJldHVybiB0aGlzLmNvbXBhcmUocC5yb3csIHAuY29sdW1uKTsKICAgIH07CiAgICB0aGlzLmNvbnRhaW5zUmFuZ2UgPSBmdW5jdGlvbiAocmFuZ2UpIHsKICAgICAgICByZXR1cm4gdGhpcy5jb21wYXJlUG9pbnQocmFuZ2Uuc3RhcnQpID09IDAgJiYgdGhpcy5jb21wYXJlUG9pbnQocmFuZ2UuZW5kKSA9PSAwOwogICAgfTsKICAgIHRoaXMuaW50ZXJzZWN0cyA9IGZ1bmN0aW9uIChyYW5nZSkgewogICAgICAgIHZhciBjbXAgPSB0aGlzLmNvbXBhcmVSYW5nZShyYW5nZSk7CiAgICAgICAgcmV0dXJuIChjbXAgPT0gLTEgfHwgY21wID09IDAgfHwgY21wID09IDEpOwogICAgfTsKICAgIHRoaXMuaXNFbmQgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICByZXR1cm4gdGhpcy5lbmQucm93ID09IHJvdyAmJiB0aGlzLmVuZC5jb2x1bW4gPT0gY29sdW1uOwogICAgfTsKICAgIHRoaXMuaXNTdGFydCA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICAgIHJldHVybiB0aGlzLnN0YXJ0LnJvdyA9PSByb3cgJiYgdGhpcy5zdGFydC5jb2x1bW4gPT0gY29sdW1uOwogICAgfTsKICAgIHRoaXMuc2V0U3RhcnQgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICBpZiAodHlwZW9mIHJvdyA9PSAib2JqZWN0IikgewogICAgICAgICAgICB0aGlzLnN0YXJ0LmNvbHVtbiA9IHJvdy5jb2x1bW47CiAgICAgICAgICAgIHRoaXMuc3RhcnQucm93ID0gcm93LnJvdzsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIHRoaXMuc3RhcnQucm93ID0gcm93OwogICAgICAgICAgICB0aGlzLnN0YXJ0LmNvbHVtbiA9IGNvbHVtbjsKICAgICAgICB9CiAgICB9OwogICAgdGhpcy5zZXRFbmQgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICBpZiAodHlwZW9mIHJvdyA9PSAib2JqZWN0IikgewogICAgICAgICAgICB0aGlzLmVuZC5jb2x1bW4gPSByb3cuY29sdW1uOwogICAgICAgICAgICB0aGlzLmVuZC5yb3cgPSByb3cucm93OwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgdGhpcy5lbmQucm93ID0gcm93OwogICAgICAgICAgICB0aGlzLmVuZC5jb2x1bW4gPSBjb2x1bW47CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMuaW5zaWRlID0gZnVuY3Rpb24gKHJvdywgY29sdW1uKSB7CiAgICAgICAgaWYgKHRoaXMuY29tcGFyZShyb3csIGNvbHVtbikgPT0gMCkgewogICAgICAgICAgICBpZiAodGhpcy5pc0VuZChyb3csIGNvbHVtbikgfHwgdGhpcy5pc1N0YXJ0KHJvdywgY29sdW1uKSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfTsKICAgIHRoaXMuaW5zaWRlU3RhcnQgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICBpZiAodGhpcy5jb21wYXJlKHJvdywgY29sdW1uKSA9PSAwKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmlzRW5kKHJvdywgY29sdW1uKSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfTsKICAgIHRoaXMuaW5zaWRlRW5kID0gZnVuY3Rpb24gKHJvdywgY29sdW1uKSB7CiAgICAgICAgaWYgKHRoaXMuY29tcGFyZShyb3csIGNvbHVtbikgPT0gMCkgewogICAgICAgICAgICBpZiAodGhpcy5pc1N0YXJ0KHJvdywgY29sdW1uKSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfTsKICAgIHRoaXMuY29tcGFyZSA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICAgIGlmICghdGhpcy5pc011bHRpTGluZSgpKSB7CiAgICAgICAgICAgIGlmIChyb3cgPT09IHRoaXMuc3RhcnQucm93KSB7CiAgICAgICAgICAgICAgICByZXR1cm4gY29sdW1uIDwgdGhpcy5zdGFydC5jb2x1bW4gPyAtMSA6IChjb2x1bW4gPiB0aGlzLmVuZC5jb2x1bW4gPyAxIDogMCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKHJvdyA8IHRoaXMuc3RhcnQucm93KQogICAgICAgICAgICByZXR1cm4gLTE7CiAgICAgICAgaWYgKHJvdyA+IHRoaXMuZW5kLnJvdykKICAgICAgICAgICAgcmV0dXJuIDE7CiAgICAgICAgaWYgKHRoaXMuc3RhcnQucm93ID09PSByb3cpCiAgICAgICAgICAgIHJldHVybiBjb2x1bW4gPj0gdGhpcy5zdGFydC5jb2x1bW4gPyAwIDogLTE7CiAgICAgICAgaWYgKHRoaXMuZW5kLnJvdyA9PT0gcm93KQogICAgICAgICAgICByZXR1cm4gY29sdW1uIDw9IHRoaXMuZW5kLmNvbHVtbiA/IDAgOiAxOwogICAgICAgIHJldHVybiAwOwogICAgfTsKICAgIHRoaXMuY29tcGFyZVN0YXJ0ID0gZnVuY3Rpb24gKHJvdywgY29sdW1uKSB7CiAgICAgICAgaWYgKHRoaXMuc3RhcnQucm93ID09IHJvdyAmJiB0aGlzLnN0YXJ0LmNvbHVtbiA9PSBjb2x1bW4pIHsKICAgICAgICAgICAgcmV0dXJuIC0xOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29tcGFyZShyb3csIGNvbHVtbik7CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMuY29tcGFyZUVuZCA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICAgIGlmICh0aGlzLmVuZC5yb3cgPT0gcm93ICYmIHRoaXMuZW5kLmNvbHVtbiA9PSBjb2x1bW4pIHsKICAgICAgICAgICAgcmV0dXJuIDE7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICByZXR1cm4gdGhpcy5jb21wYXJlKHJvdywgY29sdW1uKTsKICAgICAgICB9CiAgICB9OwogICAgdGhpcy5jb21wYXJlSW5zaWRlID0gZnVuY3Rpb24gKHJvdywgY29sdW1uKSB7CiAgICAgICAgaWYgKHRoaXMuZW5kLnJvdyA9PSByb3cgJiYgdGhpcy5lbmQuY29sdW1uID09IGNvbHVtbikgewogICAgICAgICAgICByZXR1cm4gMTsKICAgICAgICB9CiAgICAgICAgZWxzZSBpZiAodGhpcy5zdGFydC5yb3cgPT0gcm93ICYmIHRoaXMuc3RhcnQuY29sdW1uID09IGNvbHVtbikgewogICAgICAgICAgICByZXR1cm4gLTE7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICByZXR1cm4gdGhpcy5jb21wYXJlKHJvdywgY29sdW1uKTsKICAgICAgICB9CiAgICB9OwogICAgdGhpcy5jbGlwUm93cyA9IGZ1bmN0aW9uIChmaXJzdFJvdywgbGFzdFJvdykgewogICAgICAgIGlmICh0aGlzLmVuZC5yb3cgPiBsYXN0Um93KQogICAgICAgICAgICB2YXIgZW5kID0geyByb3c6IGxhc3RSb3cgKyAxLCBjb2x1bW46IDAgfTsKICAgICAgICBlbHNlIGlmICh0aGlzLmVuZC5yb3cgPCBmaXJzdFJvdykKICAgICAgICAgICAgdmFyIGVuZCA9IHsgcm93OiBmaXJzdFJvdywgY29sdW1uOiAwIH07CiAgICAgICAgaWYgKHRoaXMuc3RhcnQucm93ID4gbGFzdFJvdykKICAgICAgICAgICAgdmFyIHN0YXJ0ID0geyByb3c6IGxhc3RSb3cgKyAxLCBjb2x1bW46IDAgfTsKICAgICAgICBlbHNlIGlmICh0aGlzLnN0YXJ0LnJvdyA8IGZpcnN0Um93KQogICAgICAgICAgICB2YXIgc3RhcnQgPSB7IHJvdzogZmlyc3RSb3csIGNvbHVtbjogMCB9OwogICAgICAgIHJldHVybiBSYW5nZS5mcm9tUG9pbnRzKHN0YXJ0IHx8IHRoaXMuc3RhcnQsIGVuZCB8fCB0aGlzLmVuZCk7CiAgICB9OwogICAgdGhpcy5leHRlbmQgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICB2YXIgY21wID0gdGhpcy5jb21wYXJlKHJvdywgY29sdW1uKTsKICAgICAgICBpZiAoY21wID09IDApCiAgICAgICAgICAgIHJldHVybiB0aGlzOwogICAgICAgIGVsc2UgaWYgKGNtcCA9PSAtMSkKICAgICAgICAgICAgdmFyIHN0YXJ0ID0geyByb3c6IHJvdywgY29sdW1uOiBjb2x1bW4gfTsKICAgICAgICBlbHNlCiAgICAgICAgICAgIHZhciBlbmQgPSB7IHJvdzogcm93LCBjb2x1bW46IGNvbHVtbiB9OwogICAgICAgIHJldHVybiBSYW5nZS5mcm9tUG9pbnRzKHN0YXJ0IHx8IHRoaXMuc3RhcnQsIGVuZCB8fCB0aGlzLmVuZCk7CiAgICB9OwogICAgdGhpcy5pc0VtcHR5ID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiAodGhpcy5zdGFydC5yb3cgPT09IHRoaXMuZW5kLnJvdyAmJiB0aGlzLnN0YXJ0LmNvbHVtbiA9PT0gdGhpcy5lbmQuY29sdW1uKTsKICAgIH07CiAgICB0aGlzLmlzTXVsdGlMaW5lID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiAodGhpcy5zdGFydC5yb3cgIT09IHRoaXMuZW5kLnJvdyk7CiAgICB9OwogICAgdGhpcy5jbG9uZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gUmFuZ2UuZnJvbVBvaW50cyh0aGlzLnN0YXJ0LCB0aGlzLmVuZCk7CiAgICB9OwogICAgdGhpcy5jb2xsYXBzZVJvd3MgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKHRoaXMuZW5kLmNvbHVtbiA9PSAwKQogICAgICAgICAgICByZXR1cm4gbmV3IFJhbmdlKHRoaXMuc3RhcnQucm93LCAwLCBNYXRoLm1heCh0aGlzLnN0YXJ0LnJvdywgdGhpcy5lbmQucm93IC0gMSksIDApOwogICAgICAgIGVsc2UKICAgICAgICAgICAgcmV0dXJuIG5ldyBSYW5nZSh0aGlzLnN0YXJ0LnJvdywgMCwgdGhpcy5lbmQucm93LCAwKTsKICAgIH07CiAgICB0aGlzLnRvU2NyZWVuUmFuZ2UgPSBmdW5jdGlvbiAoc2Vzc2lvbikgewogICAgICAgIHZhciBzY3JlZW5Qb3NTdGFydCA9IHNlc3Npb24uZG9jdW1lbnRUb1NjcmVlblBvc2l0aW9uKHRoaXMuc3RhcnQpOwogICAgICAgIHZhciBzY3JlZW5Qb3NFbmQgPSBzZXNzaW9uLmRvY3VtZW50VG9TY3JlZW5Qb3NpdGlvbih0aGlzLmVuZCk7CiAgICAgICAgcmV0dXJuIG5ldyBSYW5nZShzY3JlZW5Qb3NTdGFydC5yb3csIHNjcmVlblBvc1N0YXJ0LmNvbHVtbiwgc2NyZWVuUG9zRW5kLnJvdywgc2NyZWVuUG9zRW5kLmNvbHVtbik7CiAgICB9OwogICAgdGhpcy5tb3ZlQnkgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICB0aGlzLnN0YXJ0LnJvdyArPSByb3c7CiAgICAgICAgdGhpcy5zdGFydC5jb2x1bW4gKz0gY29sdW1uOwogICAgICAgIHRoaXMuZW5kLnJvdyArPSByb3c7CiAgICAgICAgdGhpcy5lbmQuY29sdW1uICs9IGNvbHVtbjsKICAgIH07Cn0pLmNhbGwoUmFuZ2UucHJvdG90eXBlKTsKUmFuZ2UuZnJvbVBvaW50cyA9IGZ1bmN0aW9uIChzdGFydCwgZW5kKSB7CiAgICByZXR1cm4gbmV3IFJhbmdlKHN0YXJ0LnJvdywgc3RhcnQuY29sdW1uLCBlbmQucm93LCBlbmQuY29sdW1uKTsKfTsKUmFuZ2UuY29tcGFyZVBvaW50cyA9IGNvbXBhcmVQb2ludHM7ClJhbmdlLmNvbXBhcmVQb2ludHMgPSBmdW5jdGlvbiAocDEsIHAyKSB7CiAgICByZXR1cm4gcDEucm93IC0gcDIucm93IHx8IHAxLmNvbHVtbiAtIHAyLmNvbHVtbjsKfTsKZXhwb3J0cy5SYW5nZSA9IFJhbmdlOwoKfSk7CgphY2UuZGVmaW5lKCJhY2UvYW5jaG9yIixbXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKXsidXNlIHN0cmljdCI7CnZhciBvb3AgPSByZXF1aXJlKCIuL2xpYi9vb3AiKTsKdmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoIi4vbGliL2V2ZW50X2VtaXR0ZXIiKS5FdmVudEVtaXR0ZXI7CnZhciBBbmNob3IgPSBleHBvcnRzLkFuY2hvciA9IGZ1bmN0aW9uIChkb2MsIHJvdywgY29sdW1uKSB7CiAgICB0aGlzLiRvbkNoYW5nZSA9IHRoaXMub25DaGFuZ2UuYmluZCh0aGlzKTsKICAgIHRoaXMuYXR0YWNoKGRvYyk7CiAgICBpZiAodHlwZW9mIGNvbHVtbiA9PSAidW5kZWZpbmVkIikKICAgICAgICB0aGlzLnNldFBvc2l0aW9uKHJvdy5yb3csIHJvdy5jb2x1bW4pOwogICAgZWxzZQogICAgICAgIHRoaXMuc2V0UG9zaXRpb24ocm93LCBjb2x1bW4pOwp9OwooZnVuY3Rpb24gKCkgewogICAgb29wLmltcGxlbWVudCh0aGlzLCBFdmVudEVtaXR0ZXIpOwogICAgdGhpcy5nZXRQb3NpdGlvbiA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gdGhpcy4kY2xpcFBvc2l0aW9uVG9Eb2N1bWVudCh0aGlzLnJvdywgdGhpcy5jb2x1bW4pOwogICAgfTsKICAgIHRoaXMuZ2V0RG9jdW1lbnQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZG9jdW1lbnQ7CiAgICB9OwogICAgdGhpcy4kaW5zZXJ0UmlnaHQgPSBmYWxzZTsKICAgIHRoaXMub25DaGFuZ2UgPSBmdW5jdGlvbiAoZGVsdGEpIHsKICAgICAgICBpZiAoZGVsdGEuc3RhcnQucm93ID09IGRlbHRhLmVuZC5yb3cgJiYgZGVsdGEuc3RhcnQucm93ICE9IHRoaXMucm93KQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgaWYgKGRlbHRhLnN0YXJ0LnJvdyA+IHRoaXMucm93KQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgdmFyIHBvaW50ID0gJGdldFRyYW5zZm9ybWVkUG9pbnQoZGVsdGEsIHsgcm93OiB0aGlzLnJvdywgY29sdW1uOiB0aGlzLmNvbHVtbiB9LCB0aGlzLiRpbnNlcnRSaWdodCk7CiAgICAgICAgdGhpcy5zZXRQb3NpdGlvbihwb2ludC5yb3csIHBvaW50LmNvbHVtbiwgdHJ1ZSk7CiAgICB9OwogICAgZnVuY3Rpb24gJHBvaW50c0luT3JkZXIocG9pbnQxLCBwb2ludDIsIGVxdWFsUG9pbnRzSW5PcmRlcikgewogICAgICAgIHZhciBiQ29sSXNBZnRlciA9IGVxdWFsUG9pbnRzSW5PcmRlciA/IHBvaW50MS5jb2x1bW4gPD0gcG9pbnQyLmNvbHVtbiA6IHBvaW50MS5jb2x1bW4gPCBwb2ludDIuY29sdW1uOwogICAgICAgIHJldHVybiAocG9pbnQxLnJvdyA8IHBvaW50Mi5yb3cpIHx8IChwb2ludDEucm93ID09IHBvaW50Mi5yb3cgJiYgYkNvbElzQWZ0ZXIpOwogICAgfQogICAgZnVuY3Rpb24gJGdldFRyYW5zZm9ybWVkUG9pbnQoZGVsdGEsIHBvaW50LCBtb3ZlSWZFcXVhbCkgewogICAgICAgIHZhciBkZWx0YUlzSW5zZXJ0ID0gZGVsdGEuYWN0aW9uID09ICJpbnNlcnQiOwogICAgICAgIHZhciBkZWx0YVJvd1NoaWZ0ID0gKGRlbHRhSXNJbnNlcnQgPyAxIDogLTEpICogKGRlbHRhLmVuZC5yb3cgLSBkZWx0YS5zdGFydC5yb3cpOwogICAgICAgIHZhciBkZWx0YUNvbFNoaWZ0ID0gKGRlbHRhSXNJbnNlcnQgPyAxIDogLTEpICogKGRlbHRhLmVuZC5jb2x1bW4gLSBkZWx0YS5zdGFydC5jb2x1bW4pOwogICAgICAgIHZhciBkZWx0YVN0YXJ0ID0gZGVsdGEuc3RhcnQ7CiAgICAgICAgdmFyIGRlbHRhRW5kID0gZGVsdGFJc0luc2VydCA/IGRlbHRhU3RhcnQgOiBkZWx0YS5lbmQ7IC8vIENvbGxhcHNlIGluc2VydCByYW5nZS4KICAgICAgICBpZiAoJHBvaW50c0luT3JkZXIocG9pbnQsIGRlbHRhU3RhcnQsIG1vdmVJZkVxdWFsKSkgewogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgcm93OiBwb2ludC5yb3csCiAgICAgICAgICAgICAgICBjb2x1bW46IHBvaW50LmNvbHVtbgogICAgICAgICAgICB9OwogICAgICAgIH0KICAgICAgICBpZiAoJHBvaW50c0luT3JkZXIoZGVsdGFFbmQsIHBvaW50LCAhbW92ZUlmRXF1YWwpKSB7CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICByb3c6IHBvaW50LnJvdyArIGRlbHRhUm93U2hpZnQsCiAgICAgICAgICAgICAgICBjb2x1bW46IHBvaW50LmNvbHVtbiArIChwb2ludC5yb3cgPT0gZGVsdGFFbmQucm93ID8gZGVsdGFDb2xTaGlmdCA6IDApCiAgICAgICAgICAgIH07CiAgICAgICAgfQogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHJvdzogZGVsdGFTdGFydC5yb3csCiAgICAgICAgICAgIGNvbHVtbjogZGVsdGFTdGFydC5jb2x1bW4KICAgICAgICB9OwogICAgfQogICAgdGhpcy5zZXRQb3NpdGlvbiA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbiwgbm9DbGlwKSB7CiAgICAgICAgdmFyIHBvczsKICAgICAgICBpZiAobm9DbGlwKSB7CiAgICAgICAgICAgIHBvcyA9IHsKICAgICAgICAgICAgICAgIHJvdzogcm93LAogICAgICAgICAgICAgICAgY29sdW1uOiBjb2x1bW4KICAgICAgICAgICAgfTsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIHBvcyA9IHRoaXMuJGNsaXBQb3NpdGlvblRvRG9jdW1lbnQocm93LCBjb2x1bW4pOwogICAgICAgIH0KICAgICAgICBpZiAodGhpcy5yb3cgPT0gcG9zLnJvdyAmJiB0aGlzLmNvbHVtbiA9PSBwb3MuY29sdW1uKQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgdmFyIG9sZCA9IHsKICAgICAgICAgICAgcm93OiB0aGlzLnJvdywKICAgICAgICAgICAgY29sdW1uOiB0aGlzLmNvbHVtbgogICAgICAgIH07CiAgICAgICAgdGhpcy5yb3cgPSBwb3Mucm93OwogICAgICAgIHRoaXMuY29sdW1uID0gcG9zLmNvbHVtbjsKICAgICAgICB0aGlzLl9zaWduYWwoImNoYW5nZSIsIHsKICAgICAgICAgICAgb2xkOiBvbGQsCiAgICAgICAgICAgIHZhbHVlOiBwb3MKICAgICAgICB9KTsKICAgIH07CiAgICB0aGlzLmRldGFjaCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB0aGlzLmRvY3VtZW50Lm9mZigiY2hhbmdlIiwgdGhpcy4kb25DaGFuZ2UpOwogICAgfTsKICAgIHRoaXMuYXR0YWNoID0gZnVuY3Rpb24gKGRvYykgewogICAgICAgIHRoaXMuZG9jdW1lbnQgPSBkb2MgfHwgdGhpcy5kb2N1bWVudDsKICAgICAgICB0aGlzLmRvY3VtZW50Lm9uKCJjaGFuZ2UiLCB0aGlzLiRvbkNoYW5nZSk7CiAgICB9OwogICAgdGhpcy4kY2xpcFBvc2l0aW9uVG9Eb2N1bWVudCA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICAgIHZhciBwb3MgPSB7fTsKICAgICAgICBpZiAocm93ID49IHRoaXMuZG9jdW1lbnQuZ2V0TGVuZ3RoKCkpIHsKICAgICAgICAgICAgcG9zLnJvdyA9IE1hdGgubWF4KDAsIHRoaXMuZG9jdW1lbnQuZ2V0TGVuZ3RoKCkgLSAxKTsKICAgICAgICAgICAgcG9zLmNvbHVtbiA9IHRoaXMuZG9jdW1lbnQuZ2V0TGluZShwb3Mucm93KS5sZW5ndGg7CiAgICAgICAgfQogICAgICAgIGVsc2UgaWYgKHJvdyA8IDApIHsKICAgICAgICAgICAgcG9zLnJvdyA9IDA7CiAgICAgICAgICAgIHBvcy5jb2x1bW4gPSAwOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgcG9zLnJvdyA9IHJvdzsKICAgICAgICAgICAgcG9zLmNvbHVtbiA9IE1hdGgubWluKHRoaXMuZG9jdW1lbnQuZ2V0TGluZShwb3Mucm93KS5sZW5ndGgsIE1hdGgubWF4KDAsIGNvbHVtbikpOwogICAgICAgIH0KICAgICAgICBpZiAoY29sdW1uIDwgMCkKICAgICAgICAgICAgcG9zLmNvbHVtbiA9IDA7CiAgICAgICAgcmV0dXJuIHBvczsKICAgIH07Cn0pLmNhbGwoQW5jaG9yLnByb3RvdHlwZSk7Cgp9KTsKCmFjZS5kZWZpbmUoImFjZS9kb2N1bWVudCIsW10sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSl7InVzZSBzdHJpY3QiOwp2YXIgb29wID0gcmVxdWlyZSgiLi9saWIvb29wIik7CnZhciBhcHBseURlbHRhID0gcmVxdWlyZSgiLi9hcHBseV9kZWx0YSIpLmFwcGx5RGVsdGE7CnZhciBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCIuL2xpYi9ldmVudF9lbWl0dGVyIikuRXZlbnRFbWl0dGVyOwp2YXIgUmFuZ2UgPSByZXF1aXJlKCIuL3JhbmdlIikuUmFuZ2U7CnZhciBBbmNob3IgPSByZXF1aXJlKCIuL2FuY2hvciIpLkFuY2hvcjsKdmFyIERvY3VtZW50ID0gZnVuY3Rpb24gKHRleHRPckxpbmVzKSB7CiAgICB0aGlzLiRsaW5lcyA9IFsiIl07CiAgICBpZiAodGV4dE9yTGluZXMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgdGhpcy4kbGluZXMgPSBbIiJdOwogICAgfQogICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh0ZXh0T3JMaW5lcykpIHsKICAgICAgICB0aGlzLmluc2VydE1lcmdlZExpbmVzKHsgcm93OiAwLCBjb2x1bW46IDAgfSwgdGV4dE9yTGluZXMpOwogICAgfQogICAgZWxzZSB7CiAgICAgICAgdGhpcy5pbnNlcnQoeyByb3c6IDAsIGNvbHVtbjogMCB9LCB0ZXh0T3JMaW5lcyk7CiAgICB9Cn07CihmdW5jdGlvbiAoKSB7CiAgICBvb3AuaW1wbGVtZW50KHRoaXMsIEV2ZW50RW1pdHRlcik7CiAgICB0aGlzLnNldFZhbHVlID0gZnVuY3Rpb24gKHRleHQpIHsKICAgICAgICB2YXIgbGVuID0gdGhpcy5nZXRMZW5ndGgoKSAtIDE7CiAgICAgICAgdGhpcy5yZW1vdmUobmV3IFJhbmdlKDAsIDAsIGxlbiwgdGhpcy5nZXRMaW5lKGxlbikubGVuZ3RoKSk7CiAgICAgICAgdGhpcy5pbnNlcnQoeyByb3c6IDAsIGNvbHVtbjogMCB9LCB0ZXh0IHx8ICIiKTsKICAgIH07CiAgICB0aGlzLmdldFZhbHVlID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiB0aGlzLmdldEFsbExpbmVzKCkuam9pbih0aGlzLmdldE5ld0xpbmVDaGFyYWN0ZXIoKSk7CiAgICB9OwogICAgdGhpcy5jcmVhdGVBbmNob3IgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICByZXR1cm4gbmV3IEFuY2hvcih0aGlzLCByb3csIGNvbHVtbik7CiAgICB9OwogICAgaWYgKCJhYWEiLnNwbGl0KC9hLykubGVuZ3RoID09PSAwKSB7CiAgICAgICAgdGhpcy4kc3BsaXQgPSBmdW5jdGlvbiAodGV4dCkgewogICAgICAgICAgICByZXR1cm4gdGV4dC5yZXBsYWNlKC9cclxufFxyL2csICJcbiIpLnNwbGl0KCJcbiIpOwogICAgICAgIH07CiAgICB9CiAgICBlbHNlIHsKICAgICAgICB0aGlzLiRzcGxpdCA9IGZ1bmN0aW9uICh0ZXh0KSB7CiAgICAgICAgICAgIHJldHVybiB0ZXh0LnNwbGl0KC9cclxufFxyfFxuLyk7CiAgICAgICAgfTsKICAgIH0KICAgIHRoaXMuJGRldGVjdE5ld0xpbmUgPSBmdW5jdGlvbiAodGV4dCkgewogICAgICAgIHZhciBtYXRjaCA9IHRleHQubWF0Y2goL14uKj8oXHJcbnxccnxcbikvbSk7CiAgICAgICAgdGhpcy4kYXV0b05ld0xpbmUgPSBtYXRjaCA/IG1hdGNoWzFdIDogIlxuIjsKICAgICAgICB0aGlzLl9zaWduYWwoImNoYW5nZU5ld0xpbmVNb2RlIik7CiAgICB9OwogICAgdGhpcy5nZXROZXdMaW5lQ2hhcmFjdGVyID0gZnVuY3Rpb24gKCkgewogICAgICAgIHN3aXRjaCAodGhpcy4kbmV3TGluZU1vZGUpIHsKICAgICAgICAgICAgY2FzZSAid2luZG93cyI6CiAgICAgICAgICAgICAgICByZXR1cm4gIlxyXG4iOwogICAgICAgICAgICBjYXNlICJ1bml4IjoKICAgICAgICAgICAgICAgIHJldHVybiAiXG4iOwogICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJGF1dG9OZXdMaW5lIHx8ICJcbiI7CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMuJGF1dG9OZXdMaW5lID0gIiI7CiAgICB0aGlzLiRuZXdMaW5lTW9kZSA9ICJhdXRvIjsKICAgIHRoaXMuc2V0TmV3TGluZU1vZGUgPSBmdW5jdGlvbiAobmV3TGluZU1vZGUpIHsKICAgICAgICBpZiAodGhpcy4kbmV3TGluZU1vZGUgPT09IG5ld0xpbmVNb2RlKQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgdGhpcy4kbmV3TGluZU1vZGUgPSBuZXdMaW5lTW9kZTsKICAgICAgICB0aGlzLl9zaWduYWwoImNoYW5nZU5ld0xpbmVNb2RlIik7CiAgICB9OwogICAgdGhpcy5nZXROZXdMaW5lTW9kZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gdGhpcy4kbmV3TGluZU1vZGU7CiAgICB9OwogICAgdGhpcy5pc05ld0xpbmUgPSBmdW5jdGlvbiAodGV4dCkgewogICAgICAgIHJldHVybiAodGV4dCA9PSAiXHJcbiIgfHwgdGV4dCA9PSAiXHIiIHx8IHRleHQgPT0gIlxuIik7CiAgICB9OwogICAgdGhpcy5nZXRMaW5lID0gZnVuY3Rpb24gKHJvdykgewogICAgICAgIHJldHVybiB0aGlzLiRsaW5lc1tyb3ddIHx8ICIiOwogICAgfTsKICAgIHRoaXMuZ2V0TGluZXMgPSBmdW5jdGlvbiAoZmlyc3RSb3csIGxhc3RSb3cpIHsKICAgICAgICByZXR1cm4gdGhpcy4kbGluZXMuc2xpY2UoZmlyc3RSb3csIGxhc3RSb3cgKyAxKTsKICAgIH07CiAgICB0aGlzLmdldEFsbExpbmVzID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiB0aGlzLmdldExpbmVzKDAsIHRoaXMuZ2V0TGVuZ3RoKCkpOwogICAgfTsKICAgIHRoaXMuZ2V0TGVuZ3RoID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiB0aGlzLiRsaW5lcy5sZW5ndGg7CiAgICB9OwogICAgdGhpcy5nZXRUZXh0UmFuZ2UgPSBmdW5jdGlvbiAocmFuZ2UpIHsKICAgICAgICByZXR1cm4gdGhpcy5nZXRMaW5lc0ZvclJhbmdlKHJhbmdlKS5qb2luKHRoaXMuZ2V0TmV3TGluZUNoYXJhY3RlcigpKTsKICAgIH07CiAgICB0aGlzLmdldExpbmVzRm9yUmFuZ2UgPSBmdW5jdGlvbiAocmFuZ2UpIHsKICAgICAgICB2YXIgbGluZXM7CiAgICAgICAgaWYgKHJhbmdlLnN0YXJ0LnJvdyA9PT0gcmFuZ2UuZW5kLnJvdykgewogICAgICAgICAgICBsaW5lcyA9IFt0aGlzLmdldExpbmUocmFuZ2Uuc3RhcnQucm93KS5zdWJzdHJpbmcocmFuZ2Uuc3RhcnQuY29sdW1uLCByYW5nZS5lbmQuY29sdW1uKV07CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICBsaW5lcyA9IHRoaXMuZ2V0TGluZXMocmFuZ2Uuc3RhcnQucm93LCByYW5nZS5lbmQucm93KTsKICAgICAgICAgICAgbGluZXNbMF0gPSAobGluZXNbMF0gfHwgIiIpLnN1YnN0cmluZyhyYW5nZS5zdGFydC5jb2x1bW4pOwogICAgICAgICAgICB2YXIgbCA9IGxpbmVzLmxlbmd0aCAtIDE7CiAgICAgICAgICAgIGlmIChyYW5nZS5lbmQucm93IC0gcmFuZ2Uuc3RhcnQucm93ID09IGwpCiAgICAgICAgICAgICAgICBsaW5lc1tsXSA9IGxpbmVzW2xdLnN1YnN0cmluZygwLCByYW5nZS5lbmQuY29sdW1uKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGxpbmVzOwogICAgfTsKICAgIHRoaXMuaW5zZXJ0TGluZXMgPSBmdW5jdGlvbiAocm93LCBsaW5lcykgewogICAgICAgIGNvbnNvbGUud2FybigiVXNlIG9mIGRvY3VtZW50Lmluc2VydExpbmVzIGlzIGRlcHJlY2F0ZWQuIFVzZSB0aGUgaW5zZXJ0RnVsbExpbmVzIG1ldGhvZCBpbnN0ZWFkLiIpOwogICAgICAgIHJldHVybiB0aGlzLmluc2VydEZ1bGxMaW5lcyhyb3csIGxpbmVzKTsKICAgIH07CiAgICB0aGlzLnJlbW92ZUxpbmVzID0gZnVuY3Rpb24gKGZpcnN0Um93LCBsYXN0Um93KSB7CiAgICAgICAgY29uc29sZS53YXJuKCJVc2Ugb2YgZG9jdW1lbnQucmVtb3ZlTGluZXMgaXMgZGVwcmVjYXRlZC4gVXNlIHRoZSByZW1vdmVGdWxsTGluZXMgbWV0aG9kIGluc3RlYWQuIik7CiAgICAgICAgcmV0dXJuIHRoaXMucmVtb3ZlRnVsbExpbmVzKGZpcnN0Um93LCBsYXN0Um93KTsKICAgIH07CiAgICB0aGlzLmluc2VydE5ld0xpbmUgPSBmdW5jdGlvbiAocG9zaXRpb24pIHsKICAgICAgICBjb25zb2xlLndhcm4oIlVzZSBvZiBkb2N1bWVudC5pbnNlcnROZXdMaW5lIGlzIGRlcHJlY2F0ZWQuIFVzZSBpbnNlcnRNZXJnZWRMaW5lcyhwb3NpdGlvbiwgWycnLCAnJ10pIGluc3RlYWQuIik7CiAgICAgICAgcmV0dXJuIHRoaXMuaW5zZXJ0TWVyZ2VkTGluZXMocG9zaXRpb24sIFsiIiwgIiJdKTsKICAgIH07CiAgICB0aGlzLmluc2VydCA9IGZ1bmN0aW9uIChwb3NpdGlvbiwgdGV4dCkgewogICAgICAgIGlmICh0aGlzLmdldExlbmd0aCgpIDw9IDEpCiAgICAgICAgICAgIHRoaXMuJGRldGVjdE5ld0xpbmUodGV4dCk7CiAgICAgICAgcmV0dXJuIHRoaXMuaW5zZXJ0TWVyZ2VkTGluZXMocG9zaXRpb24sIHRoaXMuJHNwbGl0KHRleHQpKTsKICAgIH07CiAgICB0aGlzLmluc2VydEluTGluZSA9IGZ1bmN0aW9uIChwb3NpdGlvbiwgdGV4dCkgewogICAgICAgIHZhciBzdGFydCA9IHRoaXMuY2xpcHBlZFBvcyhwb3NpdGlvbi5yb3csIHBvc2l0aW9uLmNvbHVtbik7CiAgICAgICAgdmFyIGVuZCA9IHRoaXMucG9zKHBvc2l0aW9uLnJvdywgcG9zaXRpb24uY29sdW1uICsgdGV4dC5sZW5ndGgpOwogICAgICAgIHRoaXMuYXBwbHlEZWx0YSh7CiAgICAgICAgICAgIHN0YXJ0OiBzdGFydCwKICAgICAgICAgICAgZW5kOiBlbmQsCiAgICAgICAgICAgIGFjdGlvbjogImluc2VydCIsCiAgICAgICAgICAgIGxpbmVzOiBbdGV4dF0KICAgICAgICB9LCB0cnVlKTsKICAgICAgICByZXR1cm4gdGhpcy5jbG9uZVBvcyhlbmQpOwogICAgfTsKICAgIHRoaXMuY2xpcHBlZFBvcyA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICAgIHZhciBsZW5ndGggPSB0aGlzLmdldExlbmd0aCgpOwogICAgICAgIGlmIChyb3cgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICByb3cgPSBsZW5ndGg7CiAgICAgICAgfQogICAgICAgIGVsc2UgaWYgKHJvdyA8IDApIHsKICAgICAgICAgICAgcm93ID0gMDsKICAgICAgICB9CiAgICAgICAgZWxzZSBpZiAocm93ID49IGxlbmd0aCkgewogICAgICAgICAgICByb3cgPSBsZW5ndGggLSAxOwogICAgICAgICAgICBjb2x1bW4gPSB1bmRlZmluZWQ7CiAgICAgICAgfQogICAgICAgIHZhciBsaW5lID0gdGhpcy5nZXRMaW5lKHJvdyk7CiAgICAgICAgaWYgKGNvbHVtbiA9PSB1bmRlZmluZWQpCiAgICAgICAgICAgIGNvbHVtbiA9IGxpbmUubGVuZ3RoOwogICAgICAgIGNvbHVtbiA9IE1hdGgubWluKE1hdGgubWF4KGNvbHVtbiwgMCksIGxpbmUubGVuZ3RoKTsKICAgICAgICByZXR1cm4geyByb3c6IHJvdywgY29sdW1uOiBjb2x1bW4gfTsKICAgIH07CiAgICB0aGlzLmNsb25lUG9zID0gZnVuY3Rpb24gKHBvcykgewogICAgICAgIHJldHVybiB7IHJvdzogcG9zLnJvdywgY29sdW1uOiBwb3MuY29sdW1uIH07CiAgICB9OwogICAgdGhpcy5wb3MgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICByZXR1cm4geyByb3c6IHJvdywgY29sdW1uOiBjb2x1bW4gfTsKICAgIH07CiAgICB0aGlzLiRjbGlwUG9zaXRpb24gPSBmdW5jdGlvbiAocG9zaXRpb24pIHsKICAgICAgICB2YXIgbGVuZ3RoID0gdGhpcy5nZXRMZW5ndGgoKTsKICAgICAgICBpZiAocG9zaXRpb24ucm93ID49IGxlbmd0aCkgewogICAgICAgICAgICBwb3NpdGlvbi5yb3cgPSBNYXRoLm1heCgwLCBsZW5ndGggLSAxKTsKICAgICAgICAgICAgcG9zaXRpb24uY29sdW1uID0gdGhpcy5nZXRMaW5lKGxlbmd0aCAtIDEpLmxlbmd0aDsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIHBvc2l0aW9uLnJvdyA9IE1hdGgubWF4KDAsIHBvc2l0aW9uLnJvdyk7CiAgICAgICAgICAgIHBvc2l0aW9uLmNvbHVtbiA9IE1hdGgubWluKE1hdGgubWF4KHBvc2l0aW9uLmNvbHVtbiwgMCksIHRoaXMuZ2V0TGluZShwb3NpdGlvbi5yb3cpLmxlbmd0aCk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBwb3NpdGlvbjsKICAgIH07CiAgICB0aGlzLmluc2VydEZ1bGxMaW5lcyA9IGZ1bmN0aW9uIChyb3csIGxpbmVzKSB7CiAgICAgICAgcm93ID0gTWF0aC5taW4oTWF0aC5tYXgocm93LCAwKSwgdGhpcy5nZXRMZW5ndGgoKSk7CiAgICAgICAgdmFyIGNvbHVtbiA9IDA7CiAgICAgICAgaWYgKHJvdyA8IHRoaXMuZ2V0TGVuZ3RoKCkpIHsKICAgICAgICAgICAgbGluZXMgPSBsaW5lcy5jb25jYXQoWyIiXSk7CiAgICAgICAgICAgIGNvbHVtbiA9IDA7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICBsaW5lcyA9IFsiIl0uY29uY2F0KGxpbmVzKTsKICAgICAgICAgICAgcm93LS07CiAgICAgICAgICAgIGNvbHVtbiA9IHRoaXMuJGxpbmVzW3Jvd10ubGVuZ3RoOwogICAgICAgIH0KICAgICAgICB0aGlzLmluc2VydE1lcmdlZExpbmVzKHsgcm93OiByb3csIGNvbHVtbjogY29sdW1uIH0sIGxpbmVzKTsKICAgIH07CiAgICB0aGlzLmluc2VydE1lcmdlZExpbmVzID0gZnVuY3Rpb24gKHBvc2l0aW9uLCBsaW5lcykgewogICAgICAgIHZhciBzdGFydCA9IHRoaXMuY2xpcHBlZFBvcyhwb3NpdGlvbi5yb3csIHBvc2l0aW9uLmNvbHVtbik7CiAgICAgICAgdmFyIGVuZCA9IHsKICAgICAgICAgICAgcm93OiBzdGFydC5yb3cgKyBsaW5lcy5sZW5ndGggLSAxLAogICAgICAgICAgICBjb2x1bW46IChsaW5lcy5sZW5ndGggPT0gMSA/IHN0YXJ0LmNvbHVtbiA6IDApICsgbGluZXNbbGluZXMubGVuZ3RoIC0gMV0ubGVuZ3RoCiAgICAgICAgfTsKICAgICAgICB0aGlzLmFwcGx5RGVsdGEoewogICAgICAgICAgICBzdGFydDogc3RhcnQsCiAgICAgICAgICAgIGVuZDogZW5kLAogICAgICAgICAgICBhY3Rpb246ICJpbnNlcnQiLAogICAgICAgICAgICBsaW5lczogbGluZXMKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gdGhpcy5jbG9uZVBvcyhlbmQpOwogICAgfTsKICAgIHRoaXMucmVtb3ZlID0gZnVuY3Rpb24gKHJhbmdlKSB7CiAgICAgICAgdmFyIHN0YXJ0ID0gdGhpcy5jbGlwcGVkUG9zKHJhbmdlLnN0YXJ0LnJvdywgcmFuZ2Uuc3RhcnQuY29sdW1uKTsKICAgICAgICB2YXIgZW5kID0gdGhpcy5jbGlwcGVkUG9zKHJhbmdlLmVuZC5yb3csIHJhbmdlLmVuZC5jb2x1bW4pOwogICAgICAgIHRoaXMuYXBwbHlEZWx0YSh7CiAgICAgICAgICAgIHN0YXJ0OiBzdGFydCwKICAgICAgICAgICAgZW5kOiBlbmQsCiAgICAgICAgICAgIGFjdGlvbjogInJlbW92ZSIsCiAgICAgICAgICAgIGxpbmVzOiB0aGlzLmdldExpbmVzRm9yUmFuZ2UoeyBzdGFydDogc3RhcnQsIGVuZDogZW5kIH0pCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIHRoaXMuY2xvbmVQb3Moc3RhcnQpOwogICAgfTsKICAgIHRoaXMucmVtb3ZlSW5MaW5lID0gZnVuY3Rpb24gKHJvdywgc3RhcnRDb2x1bW4sIGVuZENvbHVtbikgewogICAgICAgIHZhciBzdGFydCA9IHRoaXMuY2xpcHBlZFBvcyhyb3csIHN0YXJ0Q29sdW1uKTsKICAgICAgICB2YXIgZW5kID0gdGhpcy5jbGlwcGVkUG9zKHJvdywgZW5kQ29sdW1uKTsKICAgICAgICB0aGlzLmFwcGx5RGVsdGEoewogICAgICAgICAgICBzdGFydDogc3RhcnQsCiAgICAgICAgICAgIGVuZDogZW5kLAogICAgICAgICAgICBhY3Rpb246ICJyZW1vdmUiLAogICAgICAgICAgICBsaW5lczogdGhpcy5nZXRMaW5lc0ZvclJhbmdlKHsgc3RhcnQ6IHN0YXJ0LCBlbmQ6IGVuZCB9KQogICAgICAgIH0sIHRydWUpOwogICAgICAgIHJldHVybiB0aGlzLmNsb25lUG9zKHN0YXJ0KTsKICAgIH07CiAgICB0aGlzLnJlbW92ZUZ1bGxMaW5lcyA9IGZ1bmN0aW9uIChmaXJzdFJvdywgbGFzdFJvdykgewogICAgICAgIGZpcnN0Um93ID0gTWF0aC5taW4oTWF0aC5tYXgoMCwgZmlyc3RSb3cpLCB0aGlzLmdldExlbmd0aCgpIC0gMSk7CiAgICAgICAgbGFzdFJvdyA9IE1hdGgubWluKE1hdGgubWF4KDAsIGxhc3RSb3cpLCB0aGlzLmdldExlbmd0aCgpIC0gMSk7CiAgICAgICAgdmFyIGRlbGV0ZUZpcnN0TmV3TGluZSA9IGxhc3RSb3cgPT0gdGhpcy5nZXRMZW5ndGgoKSAtIDEgJiYgZmlyc3RSb3cgPiAwOwogICAgICAgIHZhciBkZWxldGVMYXN0TmV3TGluZSA9IGxhc3RSb3cgPCB0aGlzLmdldExlbmd0aCgpIC0gMTsKICAgICAgICB2YXIgc3RhcnRSb3cgPSAoZGVsZXRlRmlyc3ROZXdMaW5lID8gZmlyc3RSb3cgLSAxIDogZmlyc3RSb3cpOwogICAgICAgIHZhciBzdGFydENvbCA9IChkZWxldGVGaXJzdE5ld0xpbmUgPyB0aGlzLmdldExpbmUoc3RhcnRSb3cpLmxlbmd0aCA6IDApOwogICAgICAgIHZhciBlbmRSb3cgPSAoZGVsZXRlTGFzdE5ld0xpbmUgPyBsYXN0Um93ICsgMSA6IGxhc3RSb3cpOwogICAgICAgIHZhciBlbmRDb2wgPSAoZGVsZXRlTGFzdE5ld0xpbmUgPyAwIDogdGhpcy5nZXRMaW5lKGVuZFJvdykubGVuZ3RoKTsKICAgICAgICB2YXIgcmFuZ2UgPSBuZXcgUmFuZ2Uoc3RhcnRSb3csIHN0YXJ0Q29sLCBlbmRSb3csIGVuZENvbCk7CiAgICAgICAgdmFyIGRlbGV0ZWRMaW5lcyA9IHRoaXMuJGxpbmVzLnNsaWNlKGZpcnN0Um93LCBsYXN0Um93ICsgMSk7CiAgICAgICAgdGhpcy5hcHBseURlbHRhKHsKICAgICAgICAgICAgc3RhcnQ6IHJhbmdlLnN0YXJ0LAogICAgICAgICAgICBlbmQ6IHJhbmdlLmVuZCwKICAgICAgICAgICAgYWN0aW9uOiAicmVtb3ZlIiwKICAgICAgICAgICAgbGluZXM6IHRoaXMuZ2V0TGluZXNGb3JSYW5nZShyYW5nZSkKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gZGVsZXRlZExpbmVzOwogICAgfTsKICAgIHRoaXMucmVtb3ZlTmV3TGluZSA9IGZ1bmN0aW9uIChyb3cpIHsKICAgICAgICBpZiAocm93IDwgdGhpcy5nZXRMZW5ndGgoKSAtIDEgJiYgcm93ID49IDApIHsKICAgICAgICAgICAgdGhpcy5hcHBseURlbHRhKHsKICAgICAgICAgICAgICAgIHN0YXJ0OiB0aGlzLnBvcyhyb3csIHRoaXMuZ2V0TGluZShyb3cpLmxlbmd0aCksCiAgICAgICAgICAgICAgICBlbmQ6IHRoaXMucG9zKHJvdyArIDEsIDApLAogICAgICAgICAgICAgICAgYWN0aW9uOiAicmVtb3ZlIiwKICAgICAgICAgICAgICAgIGxpbmVzOiBbIiIsICIiXQogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICB9OwogICAgdGhpcy5yZXBsYWNlID0gZnVuY3Rpb24gKHJhbmdlLCB0ZXh0KSB7CiAgICAgICAgaWYgKCEocmFuZ2UgaW5zdGFuY2VvZiBSYW5nZSkpCiAgICAgICAgICAgIHJhbmdlID0gUmFuZ2UuZnJvbVBvaW50cyhyYW5nZS5zdGFydCwgcmFuZ2UuZW5kKTsKICAgICAgICBpZiAodGV4dC5sZW5ndGggPT09IDAgJiYgcmFuZ2UuaXNFbXB0eSgpKQogICAgICAgICAgICByZXR1cm4gcmFuZ2Uuc3RhcnQ7CiAgICAgICAgaWYgKHRleHQgPT0gdGhpcy5nZXRUZXh0UmFuZ2UocmFuZ2UpKQogICAgICAgICAgICByZXR1cm4gcmFuZ2UuZW5kOwogICAgICAgIHRoaXMucmVtb3ZlKHJhbmdlKTsKICAgICAgICB2YXIgZW5kOwogICAgICAgIGlmICh0ZXh0KSB7CiAgICAgICAgICAgIGVuZCA9IHRoaXMuaW5zZXJ0KHJhbmdlLnN0YXJ0LCB0ZXh0KTsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIGVuZCA9IHJhbmdlLnN0YXJ0OwogICAgICAgIH0KICAgICAgICByZXR1cm4gZW5kOwogICAgfTsKICAgIHRoaXMuYXBwbHlEZWx0YXMgPSBmdW5jdGlvbiAoZGVsdGFzKSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkZWx0YXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgdGhpcy5hcHBseURlbHRhKGRlbHRhc1tpXSk7CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMucmV2ZXJ0RGVsdGFzID0gZnVuY3Rpb24gKGRlbHRhcykgewogICAgICAgIGZvciAodmFyIGkgPSBkZWx0YXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHsKICAgICAgICAgICAgdGhpcy5yZXZlcnREZWx0YShkZWx0YXNbaV0pOwogICAgICAgIH0KICAgIH07CiAgICB0aGlzLmFwcGx5RGVsdGEgPSBmdW5jdGlvbiAoZGVsdGEsIGRvTm90VmFsaWRhdGUpIHsKICAgICAgICB2YXIgaXNJbnNlcnQgPSBkZWx0YS5hY3Rpb24gPT0gImluc2VydCI7CiAgICAgICAgaWYgKGlzSW5zZXJ0ID8gZGVsdGEubGluZXMubGVuZ3RoIDw9IDEgJiYgIWRlbHRhLmxpbmVzWzBdCiAgICAgICAgICAgIDogIVJhbmdlLmNvbXBhcmVQb2ludHMoZGVsdGEuc3RhcnQsIGRlbHRhLmVuZCkpIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBpZiAoaXNJbnNlcnQgJiYgZGVsdGEubGluZXMubGVuZ3RoID4gMjAwMDApIHsKICAgICAgICAgICAgdGhpcy4kc3BsaXRBbmRhcHBseUxhcmdlRGVsdGEoZGVsdGEsIDIwMDAwKTsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIGFwcGx5RGVsdGEodGhpcy4kbGluZXMsIGRlbHRhLCBkb05vdFZhbGlkYXRlKTsKICAgICAgICAgICAgdGhpcy5fc2lnbmFsKCJjaGFuZ2UiLCBkZWx0YSk7CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMuJHNhZmVBcHBseURlbHRhID0gZnVuY3Rpb24gKGRlbHRhKSB7CiAgICAgICAgdmFyIGRvY0xlbmd0aCA9IHRoaXMuJGxpbmVzLmxlbmd0aDsKICAgICAgICBpZiAoZGVsdGEuYWN0aW9uID09ICJyZW1vdmUiICYmIGRlbHRhLnN0YXJ0LnJvdyA8IGRvY0xlbmd0aCAmJiBkZWx0YS5lbmQucm93IDwgZG9jTGVuZ3RoCiAgICAgICAgICAgIHx8IGRlbHRhLmFjdGlvbiA9PSAiaW5zZXJ0IiAmJiBkZWx0YS5zdGFydC5yb3cgPD0gZG9jTGVuZ3RoKSB7CiAgICAgICAgICAgIHRoaXMuYXBwbHlEZWx0YShkZWx0YSk7CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMuJHNwbGl0QW5kYXBwbHlMYXJnZURlbHRhID0gZnVuY3Rpb24gKGRlbHRhLCBNQVgpIHsKICAgICAgICB2YXIgbGluZXMgPSBkZWx0YS5saW5lczsKICAgICAgICB2YXIgbCA9IGxpbmVzLmxlbmd0aCAtIE1BWCArIDE7CiAgICAgICAgdmFyIHJvdyA9IGRlbHRhLnN0YXJ0LnJvdzsKICAgICAgICB2YXIgY29sdW1uID0gZGVsdGEuc3RhcnQuY29sdW1uOwogICAgICAgIGZvciAodmFyIGZyb20gPSAwLCB0byA9IDA7IGZyb20gPCBsOyBmcm9tID0gdG8pIHsKICAgICAgICAgICAgdG8gKz0gTUFYIC0gMTsKICAgICAgICAgICAgdmFyIGNodW5rID0gbGluZXMuc2xpY2UoZnJvbSwgdG8pOwogICAgICAgICAgICBjaHVuay5wdXNoKCIiKTsKICAgICAgICAgICAgdGhpcy5hcHBseURlbHRhKHsKICAgICAgICAgICAgICAgIHN0YXJ0OiB0aGlzLnBvcyhyb3cgKyBmcm9tLCBjb2x1bW4pLAogICAgICAgICAgICAgICAgZW5kOiB0aGlzLnBvcyhyb3cgKyB0bywgY29sdW1uID0gMCksCiAgICAgICAgICAgICAgICBhY3Rpb246IGRlbHRhLmFjdGlvbiwKICAgICAgICAgICAgICAgIGxpbmVzOiBjaHVuawogICAgICAgICAgICB9LCB0cnVlKTsKICAgICAgICB9CiAgICAgICAgZGVsdGEubGluZXMgPSBsaW5lcy5zbGljZShmcm9tKTsKICAgICAgICBkZWx0YS5zdGFydC5yb3cgPSByb3cgKyBmcm9tOwogICAgICAgIGRlbHRhLnN0YXJ0LmNvbHVtbiA9IGNvbHVtbjsKICAgICAgICB0aGlzLmFwcGx5RGVsdGEoZGVsdGEsIHRydWUpOwogICAgfTsKICAgIHRoaXMucmV2ZXJ0RGVsdGEgPSBmdW5jdGlvbiAoZGVsdGEpIHsKICAgICAgICB0aGlzLiRzYWZlQXBwbHlEZWx0YSh7CiAgICAgICAgICAgIHN0YXJ0OiB0aGlzLmNsb25lUG9zKGRlbHRhLnN0YXJ0KSwKICAgICAgICAgICAgZW5kOiB0aGlzLmNsb25lUG9zKGRlbHRhLmVuZCksCiAgICAgICAgICAgIGFjdGlvbjogKGRlbHRhLmFjdGlvbiA9PSAiaW5zZXJ0IiA/ICJyZW1vdmUiIDogImluc2VydCIpLAogICAgICAgICAgICBsaW5lczogZGVsdGEubGluZXMuc2xpY2UoKQogICAgICAgIH0pOwogICAgfTsKICAgIHRoaXMuaW5kZXhUb1Bvc2l0aW9uID0gZnVuY3Rpb24gKGluZGV4LCBzdGFydFJvdykgewogICAgICAgIHZhciBsaW5lcyA9IHRoaXMuJGxpbmVzIHx8IHRoaXMuZ2V0QWxsTGluZXMoKTsKICAgICAgICB2YXIgbmV3bGluZUxlbmd0aCA9IHRoaXMuZ2V0TmV3TGluZUNoYXJhY3RlcigpLmxlbmd0aDsKICAgICAgICBmb3IgKHZhciBpID0gc3RhcnRSb3cgfHwgMCwgbCA9IGxpbmVzLmxlbmd0aDsgaSA8IGw7IGkrKykgewogICAgICAgICAgICBpbmRleCAtPSBsaW5lc1tpXS5sZW5ndGggKyBuZXdsaW5lTGVuZ3RoOwogICAgICAgICAgICBpZiAoaW5kZXggPCAwKQogICAgICAgICAgICAgICAgcmV0dXJuIHsgcm93OiBpLCBjb2x1bW46IGluZGV4ICsgbGluZXNbaV0ubGVuZ3RoICsgbmV3bGluZUxlbmd0aCB9OwogICAgICAgIH0KICAgICAgICByZXR1cm4geyByb3c6IGwgLSAxLCBjb2x1bW46IGluZGV4ICsgbGluZXNbbCAtIDFdLmxlbmd0aCArIG5ld2xpbmVMZW5ndGggfTsKICAgIH07CiAgICB0aGlzLnBvc2l0aW9uVG9JbmRleCA9IGZ1bmN0aW9uIChwb3MsIHN0YXJ0Um93KSB7CiAgICAgICAgdmFyIGxpbmVzID0gdGhpcy4kbGluZXMgfHwgdGhpcy5nZXRBbGxMaW5lcygpOwogICAgICAgIHZhciBuZXdsaW5lTGVuZ3RoID0gdGhpcy5nZXROZXdMaW5lQ2hhcmFjdGVyKCkubGVuZ3RoOwogICAgICAgIHZhciBpbmRleCA9IDA7CiAgICAgICAgdmFyIHJvdyA9IE1hdGgubWluKHBvcy5yb3csIGxpbmVzLmxlbmd0aCk7CiAgICAgICAgZm9yICh2YXIgaSA9IHN0YXJ0Um93IHx8IDA7IGkgPCByb3c7ICsraSkKICAgICAgICAgICAgaW5kZXggKz0gbGluZXNbaV0ubGVuZ3RoICsgbmV3bGluZUxlbmd0aDsKICAgICAgICByZXR1cm4gaW5kZXggKyBwb3MuY29sdW1uOwogICAgfTsKfSkuY2FsbChEb2N1bWVudC5wcm90b3R5cGUpOwpleHBvcnRzLkRvY3VtZW50ID0gRG9jdW1lbnQ7Cgp9KTsKCmFjZS5kZWZpbmUoImFjZS9saWIvbGFuZyIsW10sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSl7InVzZSBzdHJpY3QiOwpleHBvcnRzLmxhc3QgPSBmdW5jdGlvbiAoYSkgewogICAgcmV0dXJuIGFbYS5sZW5ndGggLSAxXTsKfTsKZXhwb3J0cy5zdHJpbmdSZXZlcnNlID0gZnVuY3Rpb24gKHN0cmluZykgewogICAgcmV0dXJuIHN0cmluZy5zcGxpdCgiIikucmV2ZXJzZSgpLmpvaW4oIiIpOwp9OwpleHBvcnRzLnN0cmluZ1JlcGVhdCA9IGZ1bmN0aW9uIChzdHJpbmcsIGNvdW50KSB7CiAgICB2YXIgcmVzdWx0ID0gJyc7CiAgICB3aGlsZSAoY291bnQgPiAwKSB7CiAgICAgICAgaWYgKGNvdW50ICYgMSkKICAgICAgICAgICAgcmVzdWx0ICs9IHN0cmluZzsKICAgICAgICBpZiAoY291bnQgPj49IDEpCiAgICAgICAgICAgIHN0cmluZyArPSBzdHJpbmc7CiAgICB9CiAgICByZXR1cm4gcmVzdWx0Owp9Owp2YXIgdHJpbUJlZ2luUmVnZXhwID0gL15cc1xzKi87CnZhciB0cmltRW5kUmVnZXhwID0gL1xzXHMqJC87CmV4cG9ydHMuc3RyaW5nVHJpbUxlZnQgPSBmdW5jdGlvbiAoc3RyaW5nKSB7CiAgICByZXR1cm4gc3RyaW5nLnJlcGxhY2UodHJpbUJlZ2luUmVnZXhwLCAnJyk7Cn07CmV4cG9ydHMuc3RyaW5nVHJpbVJpZ2h0ID0gZnVuY3Rpb24gKHN0cmluZykgewogICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKHRyaW1FbmRSZWdleHAsICcnKTsKfTsKZXhwb3J0cy5jb3B5T2JqZWN0ID0gZnVuY3Rpb24gKG9iaikgewogICAgdmFyIGNvcHkgPSB7fTsKICAgIGZvciAodmFyIGtleSBpbiBvYmopIHsKICAgICAgICBjb3B5W2tleV0gPSBvYmpba2V5XTsKICAgIH0KICAgIHJldHVybiBjb3B5Owp9OwpleHBvcnRzLmNvcHlBcnJheSA9IGZ1bmN0aW9uIChhcnJheSkgewogICAgdmFyIGNvcHkgPSBbXTsKICAgIGZvciAodmFyIGkgPSAwLCBsID0gYXJyYXkubGVuZ3RoOyBpIDwgbDsgaSsrKSB7CiAgICAgICAgaWYgKGFycmF5W2ldICYmIHR5cGVvZiBhcnJheVtpXSA9PSAib2JqZWN0IikKICAgICAgICAgICAgY29weVtpXSA9IHRoaXMuY29weU9iamVjdChhcnJheVtpXSk7CiAgICAgICAgZWxzZQogICAgICAgICAgICBjb3B5W2ldID0gYXJyYXlbaV07CiAgICB9CiAgICByZXR1cm4gY29weTsKfTsKZXhwb3J0cy5kZWVwQ29weSA9IGZ1bmN0aW9uIGRlZXBDb3B5KG9iaikgewogICAgaWYgKHR5cGVvZiBvYmogIT09ICJvYmplY3QiIHx8ICFvYmopCiAgICAgICAgcmV0dXJuIG9iajsKICAgIHZhciBjb3B5OwogICAgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkgewogICAgICAgIGNvcHkgPSBbXTsKICAgICAgICBmb3IgKHZhciBrZXkgPSAwOyBrZXkgPCBvYmoubGVuZ3RoOyBrZXkrKykgewogICAgICAgICAgICBjb3B5W2tleV0gPSBkZWVwQ29weShvYmpba2V5XSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBjb3B5OwogICAgfQogICAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopICE9PSAiW29iamVjdCBPYmplY3RdIikKICAgICAgICByZXR1cm4gb2JqOwogICAgY29weSA9IHt9OwogICAgZm9yICh2YXIga2V5IGluIG9iaikKICAgICAgICBjb3B5W2tleV0gPSBkZWVwQ29weShvYmpba2V5XSk7CiAgICByZXR1cm4gY29weTsKfTsKZXhwb3J0cy5hcnJheVRvTWFwID0gZnVuY3Rpb24gKGFycikgewogICAgdmFyIG1hcCA9IHt9OwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsKICAgICAgICBtYXBbYXJyW2ldXSA9IDE7CiAgICB9CiAgICByZXR1cm4gbWFwOwp9OwpleHBvcnRzLmNyZWF0ZU1hcCA9IGZ1bmN0aW9uIChwcm9wcykgewogICAgdmFyIG1hcCA9IE9iamVjdC5jcmVhdGUobnVsbCk7CiAgICBmb3IgKHZhciBpIGluIHByb3BzKSB7CiAgICAgICAgbWFwW2ldID0gcHJvcHNbaV07CiAgICB9CiAgICByZXR1cm4gbWFwOwp9OwpleHBvcnRzLmFycmF5UmVtb3ZlID0gZnVuY3Rpb24gKGFycmF5LCB2YWx1ZSkgewogICAgZm9yICh2YXIgaSA9IDA7IGkgPD0gYXJyYXkubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAodmFsdWUgPT09IGFycmF5W2ldKSB7CiAgICAgICAgICAgIGFycmF5LnNwbGljZShpLCAxKTsKICAgICAgICB9CiAgICB9Cn07CmV4cG9ydHMuZXNjYXBlUmVnRXhwID0gZnVuY3Rpb24gKHN0cikgewogICAgcmV0dXJuIHN0ci5yZXBsYWNlKC8oWy4qKz9eJHt9KCl8W1xdXC9cXF0pL2csICdcXCQxJyk7Cn07CmV4cG9ydHMuZXNjYXBlSFRNTCA9IGZ1bmN0aW9uIChzdHIpIHsKICAgIHJldHVybiAoIiIgKyBzdHIpLnJlcGxhY2UoLyYvZywgIiYjMzg7IikucmVwbGFjZSgvIi9nLCAiJiMzNDsiKS5yZXBsYWNlKC8nL2csICImIzM5OyIpLnJlcGxhY2UoLzwvZywgIiYjNjA7Iik7Cn07CmV4cG9ydHMuZ2V0TWF0Y2hPZmZzZXRzID0gZnVuY3Rpb24gKHN0cmluZywgcmVnRXhwKSB7CiAgICB2YXIgbWF0Y2hlcyA9IFtdOwogICAgc3RyaW5nLnJlcGxhY2UocmVnRXhwLCBmdW5jdGlvbiAoc3RyKSB7CiAgICAgICAgbWF0Y2hlcy5wdXNoKHsKICAgICAgICAgICAgb2Zmc2V0OiBhcmd1bWVudHNbYXJndW1lbnRzLmxlbmd0aCAtIDJdLAogICAgICAgICAgICBsZW5ndGg6IHN0ci5sZW5ndGgKICAgICAgICB9KTsKICAgIH0pOwogICAgcmV0dXJuIG1hdGNoZXM7Cn07CmV4cG9ydHMuZGVmZXJyZWRDYWxsID0gZnVuY3Rpb24gKGZjbikgewogICAgdmFyIHRpbWVyID0gbnVsbDsKICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB0aW1lciA9IG51bGw7CiAgICAgICAgZmNuKCk7CiAgICB9OwogICAgdmFyIGRlZmVycmVkID0gZnVuY3Rpb24gKHRpbWVvdXQpIHsKICAgICAgICBkZWZlcnJlZC5jYW5jZWwoKTsKICAgICAgICB0aW1lciA9IHNldFRpbWVvdXQoY2FsbGJhY2ssIHRpbWVvdXQgfHwgMCk7CiAgICAgICAgcmV0dXJuIGRlZmVycmVkOwogICAgfTsKICAgIGRlZmVycmVkLnNjaGVkdWxlID0gZGVmZXJyZWQ7CiAgICBkZWZlcnJlZC5jYWxsID0gZnVuY3Rpb24gKCkgewogICAgICAgIHRoaXMuY2FuY2VsKCk7CiAgICAgICAgZmNuKCk7CiAgICAgICAgcmV0dXJuIGRlZmVycmVkOwogICAgfTsKICAgIGRlZmVycmVkLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBjbGVhclRpbWVvdXQodGltZXIpOwogICAgICAgIHRpbWVyID0gbnVsbDsKICAgICAgICByZXR1cm4gZGVmZXJyZWQ7CiAgICB9OwogICAgZGVmZXJyZWQuaXNQZW5kaW5nID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiB0aW1lcjsKICAgIH07CiAgICByZXR1cm4gZGVmZXJyZWQ7Cn07CmV4cG9ydHMuZGVsYXllZENhbGwgPSBmdW5jdGlvbiAoZmNuLCBkZWZhdWx0VGltZW91dCkgewogICAgdmFyIHRpbWVyID0gbnVsbDsKICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB0aW1lciA9IG51bGw7CiAgICAgICAgZmNuKCk7CiAgICB9OwogICAgdmFyIF9zZWxmID0gZnVuY3Rpb24gKHRpbWVvdXQpIHsKICAgICAgICBpZiAodGltZXIgPT0gbnVsbCkKICAgICAgICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KGNhbGxiYWNrLCB0aW1lb3V0IHx8IGRlZmF1bHRUaW1lb3V0KTsKICAgIH07CiAgICBfc2VsZi5kZWxheSA9IGZ1bmN0aW9uICh0aW1lb3V0KSB7CiAgICAgICAgdGltZXIgJiYgY2xlYXJUaW1lb3V0KHRpbWVyKTsKICAgICAgICB0aW1lciA9IHNldFRpbWVvdXQoY2FsbGJhY2ssIHRpbWVvdXQgfHwgZGVmYXVsdFRpbWVvdXQpOwogICAgfTsKICAgIF9zZWxmLnNjaGVkdWxlID0gX3NlbGY7CiAgICBfc2VsZi5jYWxsID0gZnVuY3Rpb24gKCkgewogICAgICAgIHRoaXMuY2FuY2VsKCk7CiAgICAgICAgZmNuKCk7CiAgICB9OwogICAgX3NlbGYuY2FuY2VsID0gZnVuY3Rpb24gKCkgewogICAgICAgIHRpbWVyICYmIGNsZWFyVGltZW91dCh0aW1lcik7CiAgICAgICAgdGltZXIgPSBudWxsOwogICAgfTsKICAgIF9zZWxmLmlzUGVuZGluZyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gdGltZXI7CiAgICB9OwogICAgcmV0dXJuIF9zZWxmOwp9OwoKfSk7CgphY2UuZGVmaW5lKCJhY2Uvd29ya2VyL21pcnJvciIsW10sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkgewoidXNlIHN0cmljdCI7Cgp2YXIgRG9jdW1lbnQgPSByZXF1aXJlKCIuLi9kb2N1bWVudCIpLkRvY3VtZW50Owp2YXIgbGFuZyA9IHJlcXVpcmUoIi4uL2xpYi9sYW5nIik7CiAgICAKdmFyIE1pcnJvciA9IGV4cG9ydHMuTWlycm9yID0gZnVuY3Rpb24oc2VuZGVyKSB7CiAgICB0aGlzLnNlbmRlciA9IHNlbmRlcjsKICAgIHZhciBkb2MgPSB0aGlzLmRvYyA9IG5ldyBEb2N1bWVudCgiIik7CiAgICAKICAgIHZhciBkZWZlcnJlZFVwZGF0ZSA9IHRoaXMuZGVmZXJyZWRVcGRhdGUgPSBsYW5nLmRlbGF5ZWRDYWxsKHRoaXMub25VcGRhdGUuYmluZCh0aGlzKSk7CiAgICAKICAgIHZhciBfc2VsZiA9IHRoaXM7CiAgICBzZW5kZXIub24oImNoYW5nZSIsIGZ1bmN0aW9uKGUpIHsKICAgICAgICB2YXIgZGF0YSA9IGUuZGF0YTsKICAgICAgICBpZiAoZGF0YVswXS5zdGFydCkgewogICAgICAgICAgICBkb2MuYXBwbHlEZWx0YXMoZGF0YSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSArPSAyKSB7CiAgICAgICAgICAgICAgICB2YXIgZCwgZXJyOyAKICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGFbaSsxXSkpIHsKICAgICAgICAgICAgICAgICAgICBkID0ge2FjdGlvbjogImluc2VydCIsIHN0YXJ0OiBkYXRhW2ldLCBsaW5lczogZGF0YVtpKzFdfTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgZCA9IHthY3Rpb246ICJyZW1vdmUiLCBzdGFydDogZGF0YVtpXSwgZW5kOiBkYXRhW2krMV19OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBpZiAoKGQuYWN0aW9uID09ICJpbnNlcnQiID8gZC5zdGFydCA6IGQuZW5kKS5yb3cgPj0gZG9jLiRsaW5lcy5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgICBlcnIgPSBuZXcgRXJyb3IoIkludmFsaWQgZGVsdGEiKTsKICAgICAgICAgICAgICAgICAgICBlcnIuZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogX3NlbGYuJHBhdGgsCiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVzTGVuZ3RoOiBkb2MuJGxpbmVzLmxlbmd0aCwKICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IGQuc3RhcnQsCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZDogZC5lbmQKICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgIHRocm93IGVycjsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBkb2MuYXBwbHlEZWx0YShkLCB0cnVlKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZiAoX3NlbGYuJHRpbWVvdXQpCiAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZFVwZGF0ZS5zY2hlZHVsZShfc2VsZi4kdGltZW91dCk7CiAgICAgICAgX3NlbGYub25VcGRhdGUoKTsKICAgIH0pOwp9OwoKKGZ1bmN0aW9uKCkgewogICAgCiAgICB0aGlzLiR0aW1lb3V0ID0gNTAwOwogICAgCiAgICB0aGlzLnNldFRpbWVvdXQgPSBmdW5jdGlvbih0aW1lb3V0KSB7CiAgICAgICAgdGhpcy4kdGltZW91dCA9IHRpbWVvdXQ7CiAgICB9OwogICAgCiAgICB0aGlzLnNldFZhbHVlID0gZnVuY3Rpb24odmFsdWUpIHsKICAgICAgICB0aGlzLmRvYy5zZXRWYWx1ZSh2YWx1ZSk7CiAgICAgICAgdGhpcy5kZWZlcnJlZFVwZGF0ZS5zY2hlZHVsZSh0aGlzLiR0aW1lb3V0KTsKICAgIH07CiAgICAKICAgIHRoaXMuZ2V0VmFsdWUgPSBmdW5jdGlvbihjYWxsYmFja0lkKSB7CiAgICAgICAgdGhpcy5zZW5kZXIuY2FsbGJhY2sodGhpcy5kb2MuZ2V0VmFsdWUoKSwgY2FsbGJhY2tJZCk7CiAgICB9OwogICAgCiAgICB0aGlzLm9uVXBkYXRlID0gZnVuY3Rpb24oKSB7CiAgICB9OwogICAgCiAgICB0aGlzLmlzUGVuZGluZyA9IGZ1bmN0aW9uKCkgewogICAgICAgIHJldHVybiB0aGlzLmRlZmVycmVkVXBkYXRlLmlzUGVuZGluZygpOwogICAgfTsKICAgIAp9KS5jYWxsKE1pcnJvci5wcm90b3R5cGUpOwoKfSk7CgphY2UuZGVmaW5lKCJhY2UvbW9kZS9qc29uL2pzb25fcGFyc2UiLFtdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHsKInVzZSBzdHJpY3QiOwoKICAgIHZhciBhdCwgICAgIC8vIFRoZSBpbmRleCBvZiB0aGUgY3VycmVudCBjaGFyYWN0ZXIKICAgICAgICBjaCwgICAgIC8vIFRoZSBjdXJyZW50IGNoYXJhY3RlcgogICAgICAgIGVzY2FwZWUgPSB7CiAgICAgICAgICAgICciJzogICciJywKICAgICAgICAgICAgJ1xcJzogJ1xcJywKICAgICAgICAgICAgJy8nOiAgJy8nLAogICAgICAgICAgICBiOiAgICAnXGInLAogICAgICAgICAgICBmOiAgICAnXGYnLAogICAgICAgICAgICBuOiAgICAnXG4nLAogICAgICAgICAgICByOiAgICAnXHInLAogICAgICAgICAgICB0OiAgICAnXHQnCiAgICAgICAgfSwKICAgICAgICB0ZXh0LAoKICAgICAgICBlcnJvciA9IGZ1bmN0aW9uIChtKSB7CgogICAgICAgICAgICB0aHJvdyB7CiAgICAgICAgICAgICAgICBuYW1lOiAgICAnU3ludGF4RXJyb3InLAogICAgICAgICAgICAgICAgbWVzc2FnZTogbSwKICAgICAgICAgICAgICAgIGF0OiAgICAgIGF0LAogICAgICAgICAgICAgICAgdGV4dDogICAgdGV4dAogICAgICAgICAgICB9OwogICAgICAgIH0sCgogICAgICAgIG5leHQgPSBmdW5jdGlvbiAoYykgewoKICAgICAgICAgICAgaWYgKGMgJiYgYyAhPT0gY2gpIHsKICAgICAgICAgICAgICAgIGVycm9yKCJFeHBlY3RlZCAnIiArIGMgKyAiJyBpbnN0ZWFkIG9mICciICsgY2ggKyAiJyIpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBjaCA9IHRleHQuY2hhckF0KGF0KTsKICAgICAgICAgICAgYXQgKz0gMTsKICAgICAgICAgICAgcmV0dXJuIGNoOwogICAgICAgIH0sCgogICAgICAgIG51bWJlciA9IGZ1bmN0aW9uICgpIHsKCiAgICAgICAgICAgIHZhciBudW1iZXIsCiAgICAgICAgICAgICAgICBzdHJpbmcgPSAnJzsKCiAgICAgICAgICAgIGlmIChjaCA9PT0gJy0nKSB7CiAgICAgICAgICAgICAgICBzdHJpbmcgPSAnLSc7CiAgICAgICAgICAgICAgICBuZXh0KCctJyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgd2hpbGUgKGNoID49ICcwJyAmJiBjaCA8PSAnOScpIHsKICAgICAgICAgICAgICAgIHN0cmluZyArPSBjaDsKICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoY2ggPT09ICcuJykgewogICAgICAgICAgICAgICAgc3RyaW5nICs9ICcuJzsKICAgICAgICAgICAgICAgIHdoaWxlIChuZXh0KCkgJiYgY2ggPj0gJzAnICYmIGNoIDw9ICc5JykgewogICAgICAgICAgICAgICAgICAgIHN0cmluZyArPSBjaDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoY2ggPT09ICdlJyB8fCBjaCA9PT0gJ0UnKSB7CiAgICAgICAgICAgICAgICBzdHJpbmcgKz0gY2g7CiAgICAgICAgICAgICAgICBuZXh0KCk7CiAgICAgICAgICAgICAgICBpZiAoY2ggPT09ICctJyB8fCBjaCA9PT0gJysnKSB7CiAgICAgICAgICAgICAgICAgICAgc3RyaW5nICs9IGNoOwogICAgICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHdoaWxlIChjaCA+PSAnMCcgJiYgY2ggPD0gJzknKSB7CiAgICAgICAgICAgICAgICAgICAgc3RyaW5nICs9IGNoOwogICAgICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBudW1iZXIgPSArc3RyaW5nOwogICAgICAgICAgICBpZiAoaXNOYU4obnVtYmVyKSkgewogICAgICAgICAgICAgICAgZXJyb3IoIkJhZCBudW1iZXIiKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiBudW1iZXI7CiAgICAgICAgICAgIH0KICAgICAgICB9LAoKICAgICAgICBzdHJpbmcgPSBmdW5jdGlvbiAoKSB7CgogICAgICAgICAgICB2YXIgaGV4LAogICAgICAgICAgICAgICAgaSwKICAgICAgICAgICAgICAgIHN0cmluZyA9ICcnLAogICAgICAgICAgICAgICAgdWZmZmY7CgogICAgICAgICAgICBpZiAoY2ggPT09ICciJykgewogICAgICAgICAgICAgICAgd2hpbGUgKG5leHQoKSkgewogICAgICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gJyInKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0cmluZzsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNoID09PSAnXFwnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoID09PSAndScpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVmZmZmID0gMDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCA0OyBpICs9IDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZXggPSBwYXJzZUludChuZXh0KCksIDE2KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzRmluaXRlKGhleCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVmZmZmID0gdWZmZmYgKiAxNiArIGhleDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cmluZyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHVmZmZmKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZXNjYXBlZVtjaF0gPT09ICdzdHJpbmcnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJpbmcgKz0gZXNjYXBlZVtjaF07CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2ggPT0gIlxuIiB8fCBjaCA9PSAiXHIiKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN0cmluZyArPSBjaDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZXJyb3IoIkJhZCBzdHJpbmciKTsKICAgICAgICB9LAoKICAgICAgICB3aGl0ZSA9IGZ1bmN0aW9uICgpIHsKCiAgICAgICAgICAgIHdoaWxlIChjaCAmJiBjaCA8PSAnICcpIHsKICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgfQogICAgICAgIH0sCgogICAgICAgIHdvcmQgPSBmdW5jdGlvbiAoKSB7CgogICAgICAgICAgICBzd2l0Y2ggKGNoKSB7CiAgICAgICAgICAgIGNhc2UgJ3QnOgogICAgICAgICAgICAgICAgbmV4dCgndCcpOwogICAgICAgICAgICAgICAgbmV4dCgncicpOwogICAgICAgICAgICAgICAgbmV4dCgndScpOwogICAgICAgICAgICAgICAgbmV4dCgnZScpOwogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIGNhc2UgJ2YnOgogICAgICAgICAgICAgICAgbmV4dCgnZicpOwogICAgICAgICAgICAgICAgbmV4dCgnYScpOwogICAgICAgICAgICAgICAgbmV4dCgnbCcpOwogICAgICAgICAgICAgICAgbmV4dCgncycpOwogICAgICAgICAgICAgICAgbmV4dCgnZScpOwogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICBjYXNlICduJzoKICAgICAgICAgICAgICAgIG5leHQoJ24nKTsKICAgICAgICAgICAgICAgIG5leHQoJ3UnKTsKICAgICAgICAgICAgICAgIG5leHQoJ2wnKTsKICAgICAgICAgICAgICAgIG5leHQoJ2wnKTsKICAgICAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVycm9yKCJVbmV4cGVjdGVkICciICsgY2ggKyAiJyIpOwogICAgICAgIH0sCgogICAgICAgIHZhbHVlLCAgLy8gUGxhY2UgaG9sZGVyIGZvciB0aGUgdmFsdWUgZnVuY3Rpb24uCgogICAgICAgIGFycmF5ID0gZnVuY3Rpb24gKCkgewoKICAgICAgICAgICAgdmFyIGFycmF5ID0gW107CgogICAgICAgICAgICBpZiAoY2ggPT09ICdbJykgewogICAgICAgICAgICAgICAgbmV4dCgnWycpOwogICAgICAgICAgICAgICAgd2hpdGUoKTsKICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gJ10nKSB7CiAgICAgICAgICAgICAgICAgICAgbmV4dCgnXScpOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBhcnJheTsgICAvLyBlbXB0eSBhcnJheQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgd2hpbGUgKGNoKSB7CiAgICAgICAgICAgICAgICAgICAgYXJyYXkucHVzaCh2YWx1ZSgpKTsKICAgICAgICAgICAgICAgICAgICB3aGl0ZSgpOwogICAgICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gJ10nKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoJ10nKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFycmF5OwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBuZXh0KCcsJyk7CiAgICAgICAgICAgICAgICAgICAgd2hpdGUoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBlcnJvcigiQmFkIGFycmF5Iik7CiAgICAgICAgfSwKCiAgICAgICAgb2JqZWN0ID0gZnVuY3Rpb24gKCkgewoKICAgICAgICAgICAgdmFyIGtleSwKICAgICAgICAgICAgICAgIG9iamVjdCA9IHt9OwoKICAgICAgICAgICAgaWYgKGNoID09PSAneycpIHsKICAgICAgICAgICAgICAgIG5leHQoJ3snKTsKICAgICAgICAgICAgICAgIHdoaXRlKCk7CiAgICAgICAgICAgICAgICBpZiAoY2ggPT09ICd9JykgewogICAgICAgICAgICAgICAgICAgIG5leHQoJ30nKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0OyAgIC8vIGVtcHR5IG9iamVjdAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgd2hpbGUgKGNoKSB7CiAgICAgICAgICAgICAgICAgICAga2V5ID0gc3RyaW5nKCk7CiAgICAgICAgICAgICAgICAgICAgd2hpdGUoKTsKICAgICAgICAgICAgICAgICAgICBuZXh0KCc6Jyk7CiAgICAgICAgICAgICAgICAgICAgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSkgewogICAgICAgICAgICAgICAgICAgICAgICBlcnJvcignRHVwbGljYXRlIGtleSAiJyArIGtleSArICciJyk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIG9iamVjdFtrZXldID0gdmFsdWUoKTsKICAgICAgICAgICAgICAgICAgICB3aGl0ZSgpOwogICAgICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gJ30nKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoJ30nKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgbmV4dCgnLCcpOwogICAgICAgICAgICAgICAgICAgIHdoaXRlKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZXJyb3IoIkJhZCBvYmplY3QiKTsKICAgICAgICB9OwoKICAgIHZhbHVlID0gZnVuY3Rpb24gKCkgewoKICAgICAgICB3aGl0ZSgpOwogICAgICAgIHN3aXRjaCAoY2gpIHsKICAgICAgICBjYXNlICd7JzoKICAgICAgICAgICAgcmV0dXJuIG9iamVjdCgpOwogICAgICAgIGNhc2UgJ1snOgogICAgICAgICAgICByZXR1cm4gYXJyYXkoKTsKICAgICAgICBjYXNlICciJzoKICAgICAgICAgICAgcmV0dXJuIHN0cmluZygpOwogICAgICAgIGNhc2UgJy0nOgogICAgICAgICAgICByZXR1cm4gbnVtYmVyKCk7CiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgcmV0dXJuIGNoID49ICcwJyAmJiBjaCA8PSAnOScgPyBudW1iZXIoKSA6IHdvcmQoKTsKICAgICAgICB9CiAgICB9OwoKICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlLCByZXZpdmVyKSB7CiAgICAgICAgdmFyIHJlc3VsdDsKCiAgICAgICAgdGV4dCA9IHNvdXJjZTsKICAgICAgICBhdCA9IDA7CiAgICAgICAgY2ggPSAnICc7CiAgICAgICAgcmVzdWx0ID0gdmFsdWUoKTsKICAgICAgICB3aGl0ZSgpOwogICAgICAgIGlmIChjaCkgewogICAgICAgICAgICBlcnJvcigiU3ludGF4IGVycm9yIik7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gdHlwZW9mIHJldml2ZXIgPT09ICdmdW5jdGlvbicgPyBmdW5jdGlvbiB3YWxrKGhvbGRlciwga2V5KSB7CiAgICAgICAgICAgIHZhciBrLCB2LCB2YWx1ZSA9IGhvbGRlcltrZXldOwogICAgICAgICAgICBpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JykgewogICAgICAgICAgICAgICAgZm9yIChrIGluIHZhbHVlKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBrKSkgewogICAgICAgICAgICAgICAgICAgICAgICB2ID0gd2Fsayh2YWx1ZSwgayk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2ICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlW2tdID0gdjsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB2YWx1ZVtrXTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gcmV2aXZlci5jYWxsKGhvbGRlciwga2V5LCB2YWx1ZSk7CiAgICAgICAgfSh7Jyc6IHJlc3VsdH0sICcnKSA6IHJlc3VsdDsKICAgIH07Cn0pOwoKYWNlLmRlZmluZSgiYWNlL21vZGUvanNvbl93b3JrZXIiLFtdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHsKInVzZSBzdHJpY3QiOwoKdmFyIG9vcCA9IHJlcXVpcmUoIi4uL2xpYi9vb3AiKTsKdmFyIE1pcnJvciA9IHJlcXVpcmUoIi4uL3dvcmtlci9taXJyb3IiKS5NaXJyb3I7CnZhciBwYXJzZSA9IHJlcXVpcmUoIi4vanNvbi9qc29uX3BhcnNlIik7Cgp2YXIgSnNvbldvcmtlciA9IGV4cG9ydHMuSnNvbldvcmtlciA9IGZ1bmN0aW9uKHNlbmRlcikgewogICAgTWlycm9yLmNhbGwodGhpcywgc2VuZGVyKTsKICAgIHRoaXMuc2V0VGltZW91dCgyMDApOwp9OwoKb29wLmluaGVyaXRzKEpzb25Xb3JrZXIsIE1pcnJvcik7CgooZnVuY3Rpb24oKSB7CgogICAgdGhpcy5vblVwZGF0ZSA9IGZ1bmN0aW9uKCkgewogICAgICAgIHZhciB2YWx1ZSA9IHRoaXMuZG9jLmdldFZhbHVlKCk7CiAgICAgICAgdmFyIGVycm9ycyA9IFtdOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGlmICh2YWx1ZSkKICAgICAgICAgICAgICAgIHBhcnNlKHZhbHVlKTsKICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgIHZhciBwb3MgPSB0aGlzLmRvYy5pbmRleFRvUG9zaXRpb24oZS5hdC0xKTsKICAgICAgICAgICAgZXJyb3JzLnB1c2goewogICAgICAgICAgICAgICAgcm93OiBwb3Mucm93LAogICAgICAgICAgICAgICAgY29sdW1uOiBwb3MuY29sdW1uLAogICAgICAgICAgICAgICAgdGV4dDogZS5tZXNzYWdlLAogICAgICAgICAgICAgICAgdHlwZTogImVycm9yIgogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgdGhpcy5zZW5kZXIuZW1pdCgiYW5ub3RhdGUiLCBlcnJvcnMpOwogICAgfTsKCn0pLmNhbGwoSnNvbldvcmtlci5wcm90b3R5cGUpOwoKfSk7Cg==";ace.config.setModuleUrl("ace/theme/kr_theme",themeUrl2),ace.config.setModuleUrl("ace/mode/json",modeJsonUrl),ace.config.setModuleUrl("ace/mode/json_worker",workerJsonUrl);const _sfc_main$w=vue.defineComponent({__name:"code-edit-modal",props:{modelValue:{default:()=>({})},lang:{default:"json"},title:{default:"编辑"}},emits:["update:modelValue","close"],setup(r,{emit:n}){const i=r,o=vue.ref(!1),a=vue.computed({get(){return i.lang==="json"?JSON.stringify(i.modelValue,null,2):i.modelValue},set(u){i.lang==="json"?n("update:modelValue",JSON.parse(u)):n("update:modelValue",u)}});return(u,c)=>(vue.openBlock(),vue.createElementBlock("div",null,[vue.createVNode(vue.unref(elementPlus.ElButton),{onClick:c[0]||(c[0]=f=>o.value=!0)},{default:vue.withCtx(()=>[vue.createTextVNode("···")]),_:1}),vue.createVNode(vue.unref(elementPlus.ElDialog),{class:"modal-full",modelValue:vue.unref(o),"onUpdate:modelValue":c[2]||(c[2]=f=>vue.isRef(o)?o.value=f:null),title:i.title,width:"60%",onClose:c[3]||(c[3]=f=>n("close"))},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(VAceEditor),{value:vue.unref(a),"onUpdate:value":c[1]||(c[1]=f=>vue.isRef(a)?a.value=f:null),lang:i.lang,theme:"kr_theme",style:{height:"400px"},options:{useWorker:!0,enableBasicAutocompletion:!0,enableSnippets:!0,enableLiveAutocompletion:!0}},null,8,["value","lang"])]),_:1},8,["modelValue","title"])]))}}),_hoisted_1$b={class:"one-row-txt",style:{width:"78px"}},_hoisted_2$8={key:1},_hoisted_3$7={class:"one-row-txt",style:{width:"145px"}},_hoisted_4$3={key:1},_sfc_main$v=vue.defineComponent({__name:"dynamic-el-form-item",props:{objInfo:{default:()=>({})},hide:{default:()=>[]},code:{type:Boolean,default:!1}},emits:["change"],setup(r,{emit:n}){const i=r,o=vue.computed(()=>{var d;const u={};let c=0,f=[];for(let h of Object.keys(i.objInfo)){const v=(d=i.objInfo[h])==null?void 0:d.sort;if(v){const g=Number(v);g>c&&(c=g)}if(v)u[v]=h;else return Object.keys(i.objInfo).map(g=>({...i.objInfo[g],_key:g}))}for(let h=0;h<c+1;h++){const v=String(h);f.push({...i.objInfo[u[v]],_key:u[v]})}return f});function a(u){let c=window.setTimeout(function(){n("change",u),clearTimeout(c),c=null},200)}return(u,c)=>(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(vue.unref(o),f=>(vue.openBlock(),vue.createElementBlock("div",{key:f._key},[i.code?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElFormItem),{key:0,class:"props-row",size:"small"},{label:vue.withCtx(()=>[vue.unref(getStringWidth)(String(f._key))>78?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElTooltip),{key:0,content:String(f._key),placement:"left","popper-class":"props-popper"},{default:vue.withCtx(()=>[vue.createElementVNode("div",_hoisted_1$b,vue.toDisplayString(f._key),1)]),_:2},1032,["content"])):(vue.openBlock(),vue.createElementBlock("span",_hoisted_2$8,vue.toDisplayString(f._key),1))]),default:vue.withCtx(()=>[vue.unref(getStringWidth)(String(f.val))>145?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElTooltip),{key:0,content:JSON.stringify(f.val),placement:"left","popper-class":"props-popper"},{default:vue.withCtx(()=>[vue.createElementVNode("div",_hoisted_3$7,vue.toDisplayString(f.val),1)]),_:2},1032,["content"])):(vue.openBlock(),vue.createElementBlock("span",_hoisted_4$3,vue.toDisplayString(f.val),1))]),_:2},1024)):vue.createCommentVNode("",!0),i.hide.indexOf(String(f._key))<0?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElFormItem),{key:1,label:f.title,size:"small"},{default:vue.withCtx(()=>[f.type===vue.unref(EConfigItemPropsType).Select?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElSelect),{key:0,modelValue:i.objInfo[f._key].val,"onUpdate:modelValue":d=>i.objInfo[f._key].val=d,placeholder:"Select",size:"small",disabled:!!(f!=null&&f.disabled),onChange:a},{default:vue.withCtx(()=>[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(f.options,d=>(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElOption),{key:d.value,label:d.label,value:d.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","disabled"])):f.type===vue.unref(EConfigItemPropsType).InputNumber?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElInputNumber),{key:1,modelValue:i.objInfo[f._key].val,"onUpdate:modelValue":d=>i.objInfo[f._key].val=d,disabled:!!(f!=null&&f.disabled),onChange:a},null,8,["modelValue","onUpdate:modelValue","disabled"])):f.type===vue.unref(EConfigItemPropsType).Input?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElInput),{key:2,modelValue:i.objInfo[f._key].val,"onUpdate:modelValue":d=>i.objInfo[f._key].val=d,disabled:!!(f!=null&&f.disabled),onChange:a},null,8,["modelValue","onUpdate:modelValue","disabled"])):f.type===vue.unref(EConfigItemPropsType).Textarea?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElInput),{key:3,modelValue:i.objInfo[f._key].val,"onUpdate:modelValue":d=>i.objInfo[f._key].val=d,autosize:"",type:"textarea",disabled:!!(f!=null&&f.disabled),onChange:a},null,8,["modelValue","onUpdate:modelValue","disabled"])):f.type===vue.unref(EConfigItemPropsType).Color?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElColorPicker),{key:4,modelValue:i.objInfo[f._key].val,"onUpdate:modelValue":d=>i.objInfo[f._key].val=d,disabled:!!(f!=null&&f.disabled),onChange:a},null,8,["modelValue","onUpdate:modelValue","disabled"])):f.type===vue.unref(EConfigItemPropsType).Switch?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElSwitch),{key:5,modelValue:i.objInfo[f._key].val,"onUpdate:modelValue":d=>i.objInfo[f._key].val=d,disabled:!!(f!=null&&f.disabled),onChange:a},null,8,["modelValue","onUpdate:modelValue","disabled"])):f.type===vue.unref(EConfigItemPropsType).JsonEdit?(vue.openBlock(),vue.createBlock(_sfc_main$w,{key:6,modelValue:i.objInfo[f._key].val,"onUpdate:modelValue":d=>i.objInfo[f._key].val=d,disabled:!!(f!=null&&f.disabled),onClose:a},null,8,["modelValue","onUpdate:modelValue","disabled"])):vue.createCommentVNode("",!0)]),_:2},1032,["label"])):vue.createCommentVNode("",!0)]))),128))}}),dynamicElFormItem_vue_vue_type_style_index_0_scoped_b2819020_lang="",dynamicElFormItem_vue_vue_type_style_index_1_lang="",DynamicElFormItem=_export_sfc$1(_sfc_main$v,[["__scopeId","data-v-b2819020"]]),_hoisted_1$a={style:{height:"100%"}},_hoisted_2$7={class:"flex flex-wrap"},_hoisted_3$6=["onMouseenter","onClick"],_sfc_main$u=vue.defineComponent({__name:"common-animate",props:{val:{}},emits:["updateCommonAniVal"],setup(r,{emit:n}){const i=r,o=vue.ref(i.val),a=vue.ref(!1),u=vue.ref("进入"),c=vue.ref(null),f=d=>{n("updateCommonAniVal",d),a.value=!1};return vue.watch(()=>i.val,d=>{o.value=d}),(d,h)=>(vue.openBlock(),vue.createElementBlock("div",_hoisted_1$a,[vue.unref(o)?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElTag),{key:0,closable:"",onClose:h[0]||(h[0]=v=>f("")),onClick:h[1]||(h[1]=v=>a.value=!0),style:{cursor:"pointer"}},{default:vue.withCtx(()=>{var v;return[vue.createTextVNode(vue.toDisplayString((v=vue.unref(common_animate_list).map(g=>g.children).reduce((g,p)=>g.concat(p)).find(g=>g.value==vue.unref(o)))==null?void 0:v.label)+" ",1),vue.createVNode(vue.unref(elementPlus.ElIcon),{size:10},{default:vue.withCtx(()=>[vue.createVNode(_sfc_main$D,{name:"setting"})]),_:1})]}),_:1})):(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElTag),{key:1,type:"success",style:{cursor:"pointer"},onClick:h[2]||(h[2]=v=>a.value=!0)},{default:vue.withCtx(()=>[vue.createTextVNode("新增")]),_:1})),vue.createVNode(vue.unref(elementPlus.ElDrawer),{modelValue:vue.unref(a),"onUpdate:modelValue":h[5]||(h[5]=v=>vue.isRef(a)?a.value=v:null),title:"选择动画",direction:"ltr"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElTabs),{modelValue:vue.unref(u),"onUpdate:modelValue":h[4]||(h[4]=v=>vue.isRef(u)?u.value=v:null)},{default:vue.withCtx(()=>[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(vue.unref(common_animate_list),v=>(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElTabPane),{label:v.label,name:v.label,key:v.label},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElScrollbar),{height:"500px"},{default:vue.withCtx(()=>[vue.createElementVNode("div",_hoisted_2$7,[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(v.children,(g,p)=>(vue.openBlock(),vue.createElementBlock("div",{class:"animate",key:p,onMouseenter:y=>c.value=p,onMouseleave:h[3]||(h[3]=y=>c.value=null),onClick:y=>f(g.value)},[vue.createElementVNode("div",{class:vue.normalizeClass(`${vue.unref(c)==p?`animate__animated animate__${g.value} animate__slow animate__infinite`:""}`)},vue.toDisplayString(g.label),3)],40,_hoisted_3$6))),128))])]),_:2},1024)]),_:2},1032,["label","name"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])]))}}),commonAnimate_vue_vue_type_style_index_0_scoped_2668f60c_lang="",CommonAnimate=_export_sfc$1(_sfc_main$u,[["__scopeId","data-v-2668f60c"]]),_sfc_main$t=vue.defineComponent({__name:"component-tree",setup(r){const n=useGlobalStore(pinia),i=vue.computed(()=>{var u;return((u=n.handle_svg_info)==null?void 0:u.info.id)??""}),o=u=>{for(let c of n.done_json)c.selected=!1,c.old_position={x:0,y:0};n.intention=EGlobalStoreIntention.Select,n.setHandleSvgInfo(u)},a={children:"children",label:"title"};return(u,c)=>(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElTree),{class:"tree-v",data:vue.unref(n).done_json,props:a,onNodeClick:o,"default-expand-all":!0,"expand-on-click-node":!1,"highlight-current":!!vue.unref(i),"node-key":"id","current-node-key":vue.unref(i)},null,8,["data","highlight-current","current-node-key"]))}}),_withScopeId$1=r=>(vue.pushScopeId("data-v-98320511"),r=r(),vue.popScopeId(),r),_hoisted_1$9={class:"wall-l"},_hoisted_2$6={class:"head-l"},_hoisted_3$5=_withScopeId$1(()=>vue.createElementVNode("span",null,"key",-1)),_hoisted_4$2=_withScopeId$1(()=>vue.createElementVNode("span",null,"value",-1)),_hoisted_5$1={class:"row-l"},_sfc_main$s=vue.defineComponent({__name:"list",props:{modelValue:{default:()=>[{key:"",val:""}]}},emits:["update:modelValue"],setup(r,{emit:n}){const i=r,o=vue.computed({get(){return i.modelValue},set(c){n("update:modelValue",c)}}),a=()=>{o.value.push({key:"",val:""})},u=c=>{o.value.splice(c,1)};return(c,f)=>(vue.openBlock(),vue.createElementBlock("div",_hoisted_1$9,[vue.createElementVNode("div",_hoisted_2$6,[_hoisted_3$5,_hoisted_4$2,vue.createVNode(vue.unref(elementPlus.ElIcon),{size:16,class:"bt-Icon",onClick:a},{default:vue.withCtx(()=>[vue.createVNode(_sfc_main$D,{name:"add"})]),_:1})]),(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(vue.unref(o),(d,h)=>(vue.openBlock(),vue.createElementBlock("div",_hoisted_5$1,[vue.createVNode(vue.unref(elementPlus.ElInput),{class:"content-l",modelValue:d.key,"onUpdate:modelValue":v=>d.key=v,size:"small",placeholder:"key"},null,8,["modelValue","onUpdate:modelValue"]),vue.createVNode(vue.unref(elementPlus.ElInput),{class:"content-l",modelValue:d.val,"onUpdate:modelValue":v=>d.val=v,size:"small",placeholder:"value"},null,8,["modelValue","onUpdate:modelValue"]),vue.createVNode(vue.unref(elementPlus.ElIcon),{size:16,class:"bt-Icon",onClick:v=>u(h)},{default:vue.withCtx(()=>[vue.createVNode(_sfc_main$D,{name:"delete"})]),_:2},1032,["onClick"])]))),256))]))}}),list_vue_vue_type_style_index_0_scoped_98320511_lang="",List=_export_sfc$1(_sfc_main$s,[["__scopeId","data-v-98320511"]]),composeEventHandlers=(r,n,{checkForDefaultPrevented:i=!0}={})=>a=>{const u=r==null?void 0:r(a);if(i===!1||!u)return n==null?void 0:n(a)};var _a;const isClient=typeof window<"u",isString$1=r=>typeof r=="string",noop=()=>{},isIOS=isClient&&((_a=window==null?void 0:window.navigator)==null?void 0:_a.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function resolveUnref(r){return typeof r=="function"?r():vue.unref(r)}function createFilterWrapper(r,n){function i(...o){return new Promise((a,u)=>{Promise.resolve(r(()=>n.apply(this,o),{fn:n,thisArg:this,args:o})).then(a).catch(u)})}return i}function debounceFilter(r,n={}){let i,o,a=noop;const u=f=>{clearTimeout(f),a(),a=noop};return f=>{const d=resolveUnref(r),h=resolveUnref(n.maxWait);return i&&u(i),d<=0||h!==void 0&&h<=0?(o&&(u(o),o=null),Promise.resolve(f())):new Promise((v,g)=>{a=n.rejectOnCancel?g:v,h&&!o&&(o=setTimeout(()=>{i&&u(i),o=null,v(f())},h)),i=setTimeout(()=>{o&&u(o),o=null,v(f())},d)})}}function identity(r){return r}function tryOnScopeDispose(r){return vue.getCurrentScope()?(vue.onScopeDispose(r),!0):!1}function useDebounceFn(r,n=200,i={}){return createFilterWrapper(debounceFilter(n,i),r)}function refDebounced(r,n=200,i={}){const o=vue.ref(r.value),a=useDebounceFn(()=>{o.value=r.value},n,i);return vue.watch(r,()=>a()),o}function tryOnMounted(r,n=!0){vue.getCurrentInstance()?vue.onMounted(r):n?r():vue.nextTick(r)}function unrefElement(r){var n;const i=resolveUnref(r);return(n=i==null?void 0:i.$el)!=null?n:i}const defaultWindow=isClient?window:void 0;function useEventListener(...r){let n,i,o,a;if(isString$1(r[0])||Array.isArray(r[0])?([i,o,a]=r,n=defaultWindow):[n,i,o,a]=r,!n)return noop;Array.isArray(i)||(i=[i]),Array.isArray(o)||(o=[o]);const u=[],c=()=>{u.forEach(v=>v()),u.length=0},f=(v,g,p,y)=>(v.addEventListener(g,p,y),()=>v.removeEventListener(g,p,y)),d=vue.watch(()=>[unrefElement(n),resolveUnref(a)],([v,g])=>{c(),v&&u.push(...i.flatMap(p=>o.map(y=>f(v,p,y,g))))},{immediate:!0,flush:"post"}),h=()=>{d(),c()};return tryOnScopeDispose(h),h}let _iOSWorkaround=!1;function onClickOutside(r,n,i={}){const{window:o=defaultWindow,ignore:a=[],capture:u=!0,detectIframe:c=!1}=i;if(!o)return;isIOS&&!_iOSWorkaround&&(_iOSWorkaround=!0,Array.from(o.document.body.children).forEach(p=>p.addEventListener("click",noop)));let f=!0;const d=p=>a.some(y=>{if(typeof y=="string")return Array.from(o.document.querySelectorAll(y)).some(_=>_===p.target||p.composedPath().includes(_));{const _=unrefElement(y);return _&&(p.target===_||p.composedPath().includes(_))}}),v=[useEventListener(o,"click",p=>{const y=unrefElement(r);if(!(!y||y===p.target||p.composedPath().includes(y))){if(p.detail===0&&(f=!d(p)),!f){f=!0;return}n(p)}},{passive:!0,capture:u}),useEventListener(o,"pointerdown",p=>{const y=unrefElement(r);y&&(f=!p.composedPath().includes(y)&&!d(p))},{passive:!0}),c&&useEventListener(o,"blur",p=>{var y;const _=unrefElement(r);((y=o.document.activeElement)==null?void 0:y.tagName)==="IFRAME"&&!(_!=null&&_.contains(o.document.activeElement))&&n(p)})].filter(Boolean);return()=>v.forEach(p=>p())}function useSupported(r,n=!1){const i=vue.ref(),o=()=>i.value=!!r();return o(),tryOnMounted(o,n),i}const _global=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},globalKey="__vueuse_ssr_handlers__";_global[globalKey]=_global[globalKey]||{};var __getOwnPropSymbols$g=Object.getOwnPropertySymbols,__hasOwnProp$g=Object.prototype.hasOwnProperty,__propIsEnum$g=Object.prototype.propertyIsEnumerable,__objRest$2=(r,n)=>{var i={};for(var o in r)__hasOwnProp$g.call(r,o)&&n.indexOf(o)<0&&(i[o]=r[o]);if(r!=null&&__getOwnPropSymbols$g)for(var o of __getOwnPropSymbols$g(r))n.indexOf(o)<0&&__propIsEnum$g.call(r,o)&&(i[o]=r[o]);return i};function useResizeObserver(r,n,i={}){const o=i,{window:a=defaultWindow}=o,u=__objRest$2(o,["window"]);let c;const f=useSupported(()=>a&&"ResizeObserver"in a),d=()=>{c&&(c.disconnect(),c=void 0)},h=vue.watch(()=>unrefElement(r),g=>{d(),f.value&&a&&g&&(c=new ResizeObserver(n),c.observe(g,u))},{immediate:!0,flush:"post"}),v=()=>{d(),h()};return tryOnScopeDispose(v),{isSupported:f,stop:v}}var SwipeDirection;(function(r){r.UP="UP",r.RIGHT="RIGHT",r.DOWN="DOWN",r.LEFT="LEFT",r.NONE="NONE"})(SwipeDirection||(SwipeDirection={}));var __defProp=Object.defineProperty,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(r,n,i)=>n in r?__defProp(r,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):r[n]=i,__spreadValues=(r,n)=>{for(var i in n||(n={}))__hasOwnProp.call(n,i)&&__defNormalProp(r,i,n[i]);if(__getOwnPropSymbols)for(var i of __getOwnPropSymbols(n))__propIsEnum.call(n,i)&&__defNormalProp(r,i,n[i]);return r};const _TransitionPresets={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};__spreadValues({linear:identity},_TransitionPresets);const isFirefox=()=>isClient&&/firefox/i.test(window.navigator.userAgent);process.env.NODE_ENV!=="production"&&Object.freeze({}),process.env.NODE_ENV!=="production"&&Object.freeze([]);const NOOP=()=>{},hasOwnProperty=Object.prototype.hasOwnProperty,hasOwn=(r,n)=>hasOwnProperty.call(r,n),isArray=Array.isArray,isFunction=r=>typeof r=="function",isString=r=>typeof r=="string",isObject=r=>r!==null&&typeof r=="object",objectToString=Object.prototype.toString,toTypeString=r=>objectToString.call(r),toRawType=r=>toTypeString(r).slice(8,-1),isUndefined=r=>r===void 0,isBoolean=r=>typeof r=="boolean",isNumber=r=>typeof r=="number",isElement=r=>typeof Element>"u"?!1:r instanceof Element,isStringNumber=r=>isString(r)?!Number.isNaN(Number(r)):!1,escapeStringRegexp=(r="")=>r.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),getProp=(r,n,i)=>({get value(){return lodashEs.get(r,n,i)},set value(o){lodashEs.set(r,n,o)}});class ElementPlusError extends Error{constructor(n){super(n),this.name="ElementPlusError"}}function throwError(r,n){throw new ElementPlusError(`[${r}] ${n}`)}function debugWarn(r,n){if(process.env.NODE_ENV!=="production"){const i=isString(r)?new ElementPlusError(`[${r}] ${n}`):r;console.warn(i)}}const SCOPE$1="utils/dom/style";function addUnit(r,n="px"){if(!r)return"";if(isNumber(r)||isStringNumber(r))return`${r}${n}`;if(isString(r))return r;debugWarn(SCOPE$1,"binding value must be a string or number")}function scrollIntoView(r,n){if(!isClient)return;if(!n){r.scrollTop=0;return}const i=[];let o=n.offsetParent;for(;o!==null&&r!==o&&r.contains(o);)i.push(o),o=o.offsetParent;const a=n.offsetTop+i.reduce((d,h)=>d+h.offsetTop,0),u=a+n.offsetHeight,c=r.scrollTop,f=c+r.clientHeight;a<c?r.scrollTop=a:u>f&&(r.scrollTop=u-r.clientHeight)}const epPropKey="__epPropKey",definePropType=r=>r,isEpProp=r=>isObject(r)&&!!r[epPropKey],buildProp=(r,n)=>{if(!isObject(r)||isEpProp(r))return r;const{values:i,required:o,default:a,type:u,validator:c}=r,d={type:u,required:!!o,validator:i||c?h=>{let v=!1,g=[];if(i&&(g=Array.from(i),hasOwn(r,"default")&&g.push(a),v||(v=g.includes(h))),c&&(v||(v=c(h))),!v&&g.length>0){const p=[...new Set(g)].map(y=>JSON.stringify(y)).join(", ");vue.warn(`Invalid prop: validation failed${n?` for prop "${n}"`:""}. Expected one of [${p}], got value ${JSON.stringify(h)}.`)}return v}:void 0,[epPropKey]:!0};return hasOwn(r,"default")&&(d.default=a),d},buildProps=r=>lodashEs.fromPairs(Object.entries(r).map(([n,i])=>[n,buildProp(i,n)])),iconPropType=definePropType([String,Object,Function]),ValidateComponentsMap={validating:loading_default,success:circle_check_default,error:circle_close_default},withInstall=(r,n)=>{if(r.install=i=>{for(const o of[r,...Object.values(n??{})])i.component(o.name,o)},n)for(const[i,o]of Object.entries(n))r[i]=o;return r},withNoopInstall=r=>(r.install=NOOP,r),EVENT_CODE={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},UPDATE_MODEL_EVENT="update:modelValue",CHANGE_EVENT="change",componentSizes=["","default","small","large"],componentSizeMap={large:40,default:32,small:24},getComponentSize=r=>componentSizeMap[r||"default"],isValidComponentSize=r=>["",...componentSizes].includes(r),isKorean=r=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(r),mutable=r=>r,DEFAULT_EXCLUDE_KEYS=["class","style"],LISTENER_PREFIX=/^on[A-Z]/,useAttrs=(r={})=>{const{excludeListeners:n=!1,excludeKeys:i}=r,o=vue.computed(()=>((i==null?void 0:i.value)||[]).concat(DEFAULT_EXCLUDE_KEYS)),a=vue.getCurrentInstance();return a?vue.computed(()=>{var u;return lodashEs.fromPairs(Object.entries((u=a.proxy)==null?void 0:u.$attrs).filter(([c])=>!o.value.includes(c)&&!(n&&LISTENER_PREFIX.test(c))))}):(debugWarn("use-attrs","getCurrentInstance() returned null. useAttrs() must be called at the top of a setup function"),vue.computed(()=>({})))},useDeprecated=({from:r,replacement:n,scope:i,version:o,ref:a,type:u="API"},c)=>{vue.watch(()=>vue.unref(c),f=>{f&&debugWarn(i,`[${u}] ${r} is about to be deprecated in version ${o}, please use ${n} instead.
For more detail, please visit: ${a}
`)},{immediate:!0})},useFocus=r=>({focus:()=>{var n,i;(i=(n=r.value)==null?void 0:n.focus)==null||i.call(n)}});var English={name:"en",el:{colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color."},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"}}};const buildTranslator=r=>(n,i)=>translate(n,i,vue.unref(r)),translate=(r,n,i)=>lodashEs.get(i,r,r).replace(/\{(\w+)\}/g,(o,a)=>{var u;return`${(u=n==null?void 0:n[a])!=null?u:`{${a}}`}`}),buildLocaleContext=r=>{const n=vue.computed(()=>vue.unref(r).name),i=vue.isRef(r)?r:vue.ref(r);return{lang:n,locale:i,t:buildTranslator(r)}},localeContextKey=Symbol("localeContextKey"),useLocale=r=>{const n=r||vue.inject(localeContextKey,vue.ref());return buildLocaleContext(vue.computed(()=>n.value||English))},defaultNamespace="el",statePrefix="is-",_bem=(r,n,i,o,a)=>{let u=`${r}-${n}`;return i&&(u+=`-${i}`),o&&(u+=`__${o}`),a&&(u+=`--${a}`),u},namespaceContextKey=Symbol("namespaceContextKey"),useGetDerivedNamespace=r=>{const n=r||vue.inject(namespaceContextKey,vue.ref(defaultNamespace));return vue.computed(()=>vue.unref(n)||defaultNamespace)},useNamespace=(r,n)=>{const i=useGetDerivedNamespace(n);return{namespace:i,b:(b="")=>_bem(i.value,r,b,"",""),e:b=>b?_bem(i.value,r,"",b,""):"",m:b=>b?_bem(i.value,r,"","",b):"",be:(b,A)=>b&&A?_bem(i.value,r,b,A,""):"",em:(b,A)=>b&&A?_bem(i.value,r,"",b,A):"",bm:(b,A)=>b&&A?_bem(i.value,r,b,"",A):"",bem:(b,A,w)=>b&&A&&w?_bem(i.value,r,b,A,w):"",is:(b,...A)=>{const w=A.length>=1?A[0]:!0;return b&&w?`${statePrefix}${b}`:""},cssVar:b=>{const A={};for(const w in b)b[w]&&(A[`--${i.value}-${w}`]=b[w]);return A},cssVarName:b=>`--${i.value}-${b}`,cssVarBlock:b=>{const A={};for(const w in b)b[w]&&(A[`--${i.value}-${r}-${w}`]=b[w]);return A},cssVarBlockName:b=>`--${i.value}-${r}-${b}`}},_prop=buildProp({type:definePropType(Boolean),default:null}),_event=buildProp({type:definePropType(Function)}),createModelToggleComposable=r=>{const n=`update:${r}`,i=`onUpdate:${r}`,o=[n],a={[r]:_prop,[i]:_event};return{useModelToggle:({indicator:c,toggleReason:f,shouldHideWhenRouteChanges:d,shouldProceed:h,onShow:v,onHide:g})=>{const p=vue.getCurrentInstance(),{emit:y}=p,_=p.props,b=vue.computed(()=>isFunction(_[i])),A=vue.computed(()=>_[r]===null),w=M=>{c.value!==!0&&(c.value=!0,f&&(f.value=M),isFunction(v)&&v(M))},T=M=>{c.value!==!1&&(c.value=!1,f&&(f.value=M),isFunction(g)&&g(M))},S=M=>{if(_.disabled===!0||isFunction(h)&&!h())return;const re=b.value&&isClient;re&&y(n,!0),(A.value||!re)&&w(M)},x=M=>{if(_.disabled===!0||!isClient)return;const re=b.value&&isClient;re&&y(n,!1),(A.value||!re)&&T(M)},O=M=>{isBoolean(M)&&(_.disabled&&M?b.value&&y(n,!1):c.value!==M&&(M?w():T()))},L=()=>{c.value?x():S()};return vue.watch(()=>_[r],O),d&&p.appContext.config.globalProperties.$route!==void 0&&vue.watch(()=>({...p.proxy.$route}),()=>{d.value&&c.value&&x()}),vue.onMounted(()=>{O(_[r])}),{hide:x,show:S,toggle:L,hasUpdateHandler:b}},useModelToggleProps:a,useModelToggleEmits:o}};createModelToggleComposable("modelValue");const useProp=r=>{const n=vue.getCurrentInstance();return vue.computed(()=>{var i,o;return(o=(i=n==null?void 0:n.proxy)==null?void 0:i.$props)==null?void 0:o[r]})};var E="top",R="bottom",W="right",P="left",me="auto",G=[E,R,W,P],U="start",J="end",Xe="clippingParents",je="viewport",K="popper",Ye="reference",De=G.reduce(function(r,n){return r.concat([n+"-"+U,n+"-"+J])},[]),Ee=[].concat(G,[me]).reduce(function(r,n){return r.concat([n,n+"-"+U,n+"-"+J])},[]),Ge="beforeRead",Je="read",Ke="afterRead",Qe="beforeMain",Ze="main",et="afterMain",tt="beforeWrite",nt="write",rt="afterWrite",ot=[Ge,Je,Ke,Qe,Ze,et,tt,nt,rt];function C(r){return r?(r.nodeName||"").toLowerCase():null}function H(r){if(r==null)return window;if(r.toString()!=="[object Window]"){var n=r.ownerDocument;return n&&n.defaultView||window}return r}function Q(r){var n=H(r).Element;return r instanceof n||r instanceof Element}function B(r){var n=H(r).HTMLElement;return r instanceof n||r instanceof HTMLElement}function Pe(r){if(typeof ShadowRoot>"u")return!1;var n=H(r).ShadowRoot;return r instanceof n||r instanceof ShadowRoot}function Mt(r){var n=r.state;Object.keys(n.elements).forEach(function(i){var o=n.styles[i]||{},a=n.attributes[i]||{},u=n.elements[i];!B(u)||!C(u)||(Object.assign(u.style,o),Object.keys(a).forEach(function(c){var f=a[c];f===!1?u.removeAttribute(c):u.setAttribute(c,f===!0?"":f)}))})}function Rt(r){var n=r.state,i={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(n.elements.popper.style,i.popper),n.styles=i,n.elements.arrow&&Object.assign(n.elements.arrow.style,i.arrow),function(){Object.keys(n.elements).forEach(function(o){var a=n.elements[o],u=n.attributes[o]||{},c=Object.keys(n.styles.hasOwnProperty(o)?n.styles[o]:i[o]),f=c.reduce(function(d,h){return d[h]="",d},{});!B(a)||!C(a)||(Object.assign(a.style,f),Object.keys(u).forEach(function(d){a.removeAttribute(d)}))})}}var Ae={name:"applyStyles",enabled:!0,phase:"write",fn:Mt,effect:Rt,requires:["computeStyles"]};function q(r){return r.split("-")[0]}var X=Math.max,ve=Math.min,Z=Math.round;function ee(r,n){n===void 0&&(n=!1);var i=r.getBoundingClientRect(),o=1,a=1;if(B(r)&&n){var u=r.offsetHeight,c=r.offsetWidth;c>0&&(o=Z(i.width)/c||1),u>0&&(a=Z(i.height)/u||1)}return{width:i.width/o,height:i.height/a,top:i.top/a,right:i.right/o,bottom:i.bottom/a,left:i.left/o,x:i.left/o,y:i.top/a}}function ke(r){var n=ee(r),i=r.offsetWidth,o=r.offsetHeight;return Math.abs(n.width-i)<=1&&(i=n.width),Math.abs(n.height-o)<=1&&(o=n.height),{x:r.offsetLeft,y:r.offsetTop,width:i,height:o}}function it(r,n){var i=n.getRootNode&&n.getRootNode();if(r.contains(n))return!0;if(i&&Pe(i)){var o=n;do{if(o&&r.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function N(r){return H(r).getComputedStyle(r)}function Wt(r){return["table","td","th"].indexOf(C(r))>=0}function I(r){return((Q(r)?r.ownerDocument:r.document)||window.document).documentElement}function ge(r){return C(r)==="html"?r:r.assignedSlot||r.parentNode||(Pe(r)?r.host:null)||I(r)}function at(r){return!B(r)||N(r).position==="fixed"?null:r.offsetParent}function Bt(r){var n=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,i=navigator.userAgent.indexOf("Trident")!==-1;if(i&&B(r)){var o=N(r);if(o.position==="fixed")return null}var a=ge(r);for(Pe(a)&&(a=a.host);B(a)&&["html","body"].indexOf(C(a))<0;){var u=N(a);if(u.transform!=="none"||u.perspective!=="none"||u.contain==="paint"||["transform","perspective"].indexOf(u.willChange)!==-1||n&&u.willChange==="filter"||n&&u.filter&&u.filter!=="none")return a;a=a.parentNode}return null}function se(r){for(var n=H(r),i=at(r);i&&Wt(i)&&N(i).position==="static";)i=at(i);return i&&(C(i)==="html"||C(i)==="body"&&N(i).position==="static")?n:i||Bt(r)||n}function Le(r){return["top","bottom"].indexOf(r)>=0?"x":"y"}function fe(r,n,i){return X(r,ve(n,i))}function St(r,n,i){var o=fe(r,n,i);return o>i?i:o}function st(){return{top:0,right:0,bottom:0,left:0}}function ft(r){return Object.assign({},st(),r)}function ct(r,n){return n.reduce(function(i,o){return i[o]=r,i},{})}var Tt=function(r,n){return r=typeof r=="function"?r(Object.assign({},n.rects,{placement:n.placement})):r,ft(typeof r!="number"?r:ct(r,G))};function Ht(r){var n,i=r.state,o=r.name,a=r.options,u=i.elements.arrow,c=i.modifiersData.popperOffsets,f=q(i.placement),d=Le(f),h=[P,W].indexOf(f)>=0,v=h?"height":"width";if(!(!u||!c)){var g=Tt(a.padding,i),p=ke(u),y=d==="y"?E:P,_=d==="y"?R:W,b=i.rects.reference[v]+i.rects.reference[d]-c[d]-i.rects.popper[v],A=c[d]-i.rects.reference[d],w=se(u),T=w?d==="y"?w.clientHeight||0:w.clientWidth||0:0,S=b/2-A/2,x=g[y],O=T-p[v]-g[_],L=T/2-p[v]/2+S,M=fe(x,L,O),re=d;i.modifiersData[o]=(n={},n[re]=M,n.centerOffset=M-L,n)}}function Ct(r){var n=r.state,i=r.options,o=i.element,a=o===void 0?"[data-popper-arrow]":o;a!=null&&(typeof a=="string"&&(a=n.elements.popper.querySelector(a),!a)||!it(n.elements.popper,a)||(n.elements.arrow=a))}var pt={name:"arrow",enabled:!0,phase:"main",fn:Ht,effect:Ct,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function te(r){return r.split("-")[1]}var qt={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Vt(r){var n=r.x,i=r.y,o=window,a=o.devicePixelRatio||1;return{x:Z(n*a)/a||0,y:Z(i*a)/a||0}}function ut(r){var n,i=r.popper,o=r.popperRect,a=r.placement,u=r.variation,c=r.offsets,f=r.position,d=r.gpuAcceleration,h=r.adaptive,v=r.roundOffsets,g=r.isFixed,p=c.x,y=p===void 0?0:p,_=c.y,b=_===void 0?0:_,A=typeof v=="function"?v({x:y,y:b}):{x:y,y:b};y=A.x,b=A.y;var w=c.hasOwnProperty("x"),T=c.hasOwnProperty("y"),S=P,x=E,O=window;if(h){var L=se(i),M="clientHeight",re="clientWidth";if(L===H(i)&&(L=I(i),N(L).position!=="static"&&f==="absolute"&&(M="scrollHeight",re="scrollWidth")),L=L,a===E||(a===P||a===W)&&u===J){x=R;var F=g&&L===O&&O.visualViewport?O.visualViewport.height:L[M];b-=F-o.height,b*=d?1:-1}if(a===P||(a===E||a===R)&&u===J){S=W;var j=g&&L===O&&O.visualViewport?O.visualViewport.width:L[re];y-=j-o.width,y*=d?1:-1}}var V=Object.assign({position:f},h&&qt),z=v===!0?Vt({x:y,y:b}):{x:y,y:b};if(y=z.x,b=z.y,d){var $;return Object.assign({},V,($={},$[x]=T?"0":"",$[S]=w?"0":"",$.transform=(O.devicePixelRatio||1)<=1?"translate("+y+"px, "+b+"px)":"translate3d("+y+"px, "+b+"px, 0)",$))}return Object.assign({},V,(n={},n[x]=T?b+"px":"",n[S]=w?y+"px":"",n.transform="",n))}function Nt(r){var n=r.state,i=r.options,o=i.gpuAcceleration,a=o===void 0?!0:o,u=i.adaptive,c=u===void 0?!0:u,f=i.roundOffsets,d=f===void 0?!0:f,h={placement:q(n.placement),variation:te(n.placement),popper:n.elements.popper,popperRect:n.rects.popper,gpuAcceleration:a,isFixed:n.options.strategy==="fixed"};n.modifiersData.popperOffsets!=null&&(n.styles.popper=Object.assign({},n.styles.popper,ut(Object.assign({},h,{offsets:n.modifiersData.popperOffsets,position:n.options.strategy,adaptive:c,roundOffsets:d})))),n.modifiersData.arrow!=null&&(n.styles.arrow=Object.assign({},n.styles.arrow,ut(Object.assign({},h,{offsets:n.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:d})))),n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-placement":n.placement})}var Me={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Nt,data:{}},ye={passive:!0};function It(r){var n=r.state,i=r.instance,o=r.options,a=o.scroll,u=a===void 0?!0:a,c=o.resize,f=c===void 0?!0:c,d=H(n.elements.popper),h=[].concat(n.scrollParents.reference,n.scrollParents.popper);return u&&h.forEach(function(v){v.addEventListener("scroll",i.update,ye)}),f&&d.addEventListener("resize",i.update,ye),function(){u&&h.forEach(function(v){v.removeEventListener("scroll",i.update,ye)}),f&&d.removeEventListener("resize",i.update,ye)}}var Re={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:It,data:{}},_t={left:"right",right:"left",bottom:"top",top:"bottom"};function be(r){return r.replace(/left|right|bottom|top/g,function(n){return _t[n]})}var zt={start:"end",end:"start"};function lt(r){return r.replace(/start|end/g,function(n){return zt[n]})}function We(r){var n=H(r),i=n.pageXOffset,o=n.pageYOffset;return{scrollLeft:i,scrollTop:o}}function Be(r){return ee(I(r)).left+We(r).scrollLeft}function Ft(r){var n=H(r),i=I(r),o=n.visualViewport,a=i.clientWidth,u=i.clientHeight,c=0,f=0;return o&&(a=o.width,u=o.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(c=o.offsetLeft,f=o.offsetTop)),{width:a,height:u,x:c+Be(r),y:f}}function Ut(r){var n,i=I(r),o=We(r),a=(n=r.ownerDocument)==null?void 0:n.body,u=X(i.scrollWidth,i.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),c=X(i.scrollHeight,i.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),f=-o.scrollLeft+Be(r),d=-o.scrollTop;return N(a||i).direction==="rtl"&&(f+=X(i.clientWidth,a?a.clientWidth:0)-u),{width:u,height:c,x:f,y:d}}function Se(r){var n=N(r),i=n.overflow,o=n.overflowX,a=n.overflowY;return/auto|scroll|overlay|hidden/.test(i+a+o)}function dt(r){return["html","body","#document"].indexOf(C(r))>=0?r.ownerDocument.body:B(r)&&Se(r)?r:dt(ge(r))}function ce(r,n){var i;n===void 0&&(n=[]);var o=dt(r),a=o===((i=r.ownerDocument)==null?void 0:i.body),u=H(o),c=a?[u].concat(u.visualViewport||[],Se(o)?o:[]):o,f=n.concat(c);return a?f:f.concat(ce(ge(c)))}function Te(r){return Object.assign({},r,{left:r.x,top:r.y,right:r.x+r.width,bottom:r.y+r.height})}function Xt(r){var n=ee(r);return n.top=n.top+r.clientTop,n.left=n.left+r.clientLeft,n.bottom=n.top+r.clientHeight,n.right=n.left+r.clientWidth,n.width=r.clientWidth,n.height=r.clientHeight,n.x=n.left,n.y=n.top,n}function ht(r,n){return n===je?Te(Ft(r)):Q(n)?Xt(n):Te(Ut(I(r)))}function Yt(r){var n=ce(ge(r)),i=["absolute","fixed"].indexOf(N(r).position)>=0,o=i&&B(r)?se(r):r;return Q(o)?n.filter(function(a){return Q(a)&&it(a,o)&&C(a)!=="body"}):[]}function Gt(r,n,i){var o=n==="clippingParents"?Yt(r):[].concat(n),a=[].concat(o,[i]),u=a[0],c=a.reduce(function(f,d){var h=ht(r,d);return f.top=X(h.top,f.top),f.right=ve(h.right,f.right),f.bottom=ve(h.bottom,f.bottom),f.left=X(h.left,f.left),f},ht(r,u));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function mt(r){var n=r.reference,i=r.element,o=r.placement,a=o?q(o):null,u=o?te(o):null,c=n.x+n.width/2-i.width/2,f=n.y+n.height/2-i.height/2,d;switch(a){case E:d={x:c,y:n.y-i.height};break;case R:d={x:c,y:n.y+n.height};break;case W:d={x:n.x+n.width,y:f};break;case P:d={x:n.x-i.width,y:f};break;default:d={x:n.x,y:n.y}}var h=a?Le(a):null;if(h!=null){var v=h==="y"?"height":"width";switch(u){case U:d[h]=d[h]-(n[v]/2-i[v]/2);break;case J:d[h]=d[h]+(n[v]/2-i[v]/2);break}}return d}function ne(r,n){n===void 0&&(n={});var i=n,o=i.placement,a=o===void 0?r.placement:o,u=i.boundary,c=u===void 0?Xe:u,f=i.rootBoundary,d=f===void 0?je:f,h=i.elementContext,v=h===void 0?K:h,g=i.altBoundary,p=g===void 0?!1:g,y=i.padding,_=y===void 0?0:y,b=ft(typeof _!="number"?_:ct(_,G)),A=v===K?Ye:K,w=r.rects.popper,T=r.elements[p?A:v],S=Gt(Q(T)?T:T.contextElement||I(r.elements.popper),c,d),x=ee(r.elements.reference),O=mt({reference:x,element:w,strategy:"absolute",placement:a}),L=Te(Object.assign({},w,O)),M=v===K?L:x,re={top:S.top-M.top+b.top,bottom:M.bottom-S.bottom+b.bottom,left:S.left-M.left+b.left,right:M.right-S.right+b.right},F=r.modifiersData.offset;if(v===K&&F){var j=F[a];Object.keys(re).forEach(function(V){var z=[W,R].indexOf(V)>=0?1:-1,$=[E,R].indexOf(V)>=0?"y":"x";re[V]+=j[$]*z})}return re}function Jt(r,n){n===void 0&&(n={});var i=n,o=i.placement,a=i.boundary,u=i.rootBoundary,c=i.padding,f=i.flipVariations,d=i.allowedAutoPlacements,h=d===void 0?Ee:d,v=te(o),g=v?f?De:De.filter(function(_){return te(_)===v}):G,p=g.filter(function(_){return h.indexOf(_)>=0});p.length===0&&(p=g);var y=p.reduce(function(_,b){return _[b]=ne(r,{placement:b,boundary:a,rootBoundary:u,padding:c})[q(b)],_},{});return Object.keys(y).sort(function(_,b){return y[_]-y[b]})}function Kt(r){if(q(r)===me)return[];var n=be(r);return[lt(r),n,lt(n)]}function Qt(r){var n=r.state,i=r.options,o=r.name;if(!n.modifiersData[o]._skip){for(var a=i.mainAxis,u=a===void 0?!0:a,c=i.altAxis,f=c===void 0?!0:c,d=i.fallbackPlacements,h=i.padding,v=i.boundary,g=i.rootBoundary,p=i.altBoundary,y=i.flipVariations,_=y===void 0?!0:y,b=i.allowedAutoPlacements,A=n.options.placement,w=q(A),T=w===A,S=d||(T||!_?[be(A)]:Kt(A)),x=[A].concat(S).reduce(function(Dt,de){return Dt.concat(q(de)===me?Jt(n,{placement:de,boundary:v,rootBoundary:g,padding:h,flipVariations:_,allowedAutoPlacements:b}):de)},[]),O=n.rects.reference,L=n.rects.popper,M=new Map,re=!0,F=x[0],j=0;j<x.length;j++){var V=x[j],z=q(V),$=te(V)===U,he=[E,R].indexOf(z)>=0,le=he?"width":"height",Ie=ne(n,{placement:V,boundary:v,rootBoundary:g,altBoundary:p,padding:h}),Fe=he?$?W:P:$?R:E;O[le]>L[le]&&(Fe=be(Fe));var pe=be(Fe),Lt=[];if(u&&Lt.push(Ie[z]<=0),f&&Lt.push(Ie[Fe]<=0,Ie[pe]<=0),Lt.every(function(Dt){return Dt})){F=V,re=!1;break}M.set(V,Lt)}if(re)for(var _e=_?3:1,Et=function(Dt){var de=x.find(function(qe){var Pt=M.get(qe);if(Pt)return Pt.slice(0,Dt).every(function(In){return In})});if(de)return F=de,"break"},Cn=_e;Cn>0;Cn--){var vn=Et(Cn);if(vn==="break")break}n.placement!==F&&(n.modifiersData[o]._skip=!0,n.placement=F,n.reset=!0)}}var vt={name:"flip",enabled:!0,phase:"main",fn:Qt,requiresIfExists:["offset"],data:{_skip:!1}};function gt(r,n,i){return i===void 0&&(i={x:0,y:0}),{top:r.top-n.height-i.y,right:r.right-n.width+i.x,bottom:r.bottom-n.height+i.y,left:r.left-n.width-i.x}}function yt(r){return[E,W,R,P].some(function(n){return r[n]>=0})}function Zt(r){var n=r.state,i=r.name,o=n.rects.reference,a=n.rects.popper,u=n.modifiersData.preventOverflow,c=ne(n,{elementContext:"reference"}),f=ne(n,{altBoundary:!0}),d=gt(c,o),h=gt(f,a,u),v=yt(d),g=yt(h);n.modifiersData[i]={referenceClippingOffsets:d,popperEscapeOffsets:h,isReferenceHidden:v,hasPopperEscaped:g},n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-reference-hidden":v,"data-popper-escaped":g})}var bt={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Zt};function en(r,n,i){var o=q(r),a=[P,E].indexOf(o)>=0?-1:1,u=typeof i=="function"?i(Object.assign({},n,{placement:r})):i,c=u[0],f=u[1];return c=c||0,f=(f||0)*a,[P,W].indexOf(o)>=0?{x:f,y:c}:{x:c,y:f}}function tn(r){var n=r.state,i=r.options,o=r.name,a=i.offset,u=a===void 0?[0,0]:a,c=Ee.reduce(function(v,g){return v[g]=en(g,n.rects,u),v},{}),f=c[n.placement],d=f.x,h=f.y;n.modifiersData.popperOffsets!=null&&(n.modifiersData.popperOffsets.x+=d,n.modifiersData.popperOffsets.y+=h),n.modifiersData[o]=c}var wt={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:tn};function nn(r){var n=r.state,i=r.name;n.modifiersData[i]=mt({reference:n.rects.reference,element:n.rects.popper,strategy:"absolute",placement:n.placement})}var He={name:"popperOffsets",enabled:!0,phase:"read",fn:nn,data:{}};function rn(r){return r==="x"?"y":"x"}function on(r){var n=r.state,i=r.options,o=r.name,a=i.mainAxis,u=a===void 0?!0:a,c=i.altAxis,f=c===void 0?!1:c,d=i.boundary,h=i.rootBoundary,v=i.altBoundary,g=i.padding,p=i.tether,y=p===void 0?!0:p,_=i.tetherOffset,b=_===void 0?0:_,A=ne(n,{boundary:d,rootBoundary:h,padding:g,altBoundary:v}),w=q(n.placement),T=te(n.placement),S=!T,x=Le(w),O=rn(x),L=n.modifiersData.popperOffsets,M=n.rects.reference,re=n.rects.popper,F=typeof b=="function"?b(Object.assign({},n.rects,{placement:n.placement})):b,j=typeof F=="number"?{mainAxis:F,altAxis:F}:Object.assign({mainAxis:0,altAxis:0},F),V=n.modifiersData.offset?n.modifiersData.offset[n.placement]:null,z={x:0,y:0};if(L){if(u){var $,he=x==="y"?E:P,le=x==="y"?R:W,Ie=x==="y"?"height":"width",Fe=L[x],pe=Fe+A[he],Lt=Fe-A[le],_e=y?-re[Ie]/2:0,Et=T===U?M[Ie]:re[Ie],Cn=T===U?-re[Ie]:-M[Ie],vn=n.elements.arrow,Dt=y&&vn?ke(vn):{width:0,height:0},de=n.modifiersData["arrow#persistent"]?n.modifiersData["arrow#persistent"].padding:st(),qe=de[he],Pt=de[le],In=fe(0,M[Ie],Dt[Ie]),$e=S?M[Ie]/2-_e-In-qe-j.mainAxis:Et-In-qe-j.mainAxis,Ce=S?-M[Ie]/2+_e+In+Pt+j.mainAxis:Cn+In+Pt+j.mainAxis,ue=n.elements.arrow&&se(n.elements.arrow),At=ue?x==="y"?ue.clientTop||0:ue.clientLeft||0:0,Ne=($=V==null?void 0:V[x])!=null?$:0,Oe=Fe+$e-Ne-At,kt=Fe+Ce-Ne,jt=fe(y?ve(pe,Oe):pe,Fe,y?X(Lt,kt):Lt);L[x]=jt,z[x]=jt-Fe}if(f){var _n,ie=x==="x"?E:P,ae=x==="x"?R:W,Y=L[O],k=O==="y"?"height":"width",D=Y+A[ie],oe=Y-A[ae],xe=[E,P].indexOf(w)!==-1,ze=(_n=V==null?void 0:V[O])!=null?_n:0,hn=xe?D:Y-M[k]-re[k]-ze+j.altAxis,An=xe?Y+M[k]+re[k]-ze-j.altAxis:oe,Tn=y&&xe?St(hn,Y,An):fe(y?hn:D,Y,y?An:oe);L[O]=Tn,z[O]=Tn-Y}n.modifiersData[o]=z}}var xt={name:"preventOverflow",enabled:!0,phase:"main",fn:on,requiresIfExists:["offset"]};function an(r){return{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}}function sn(r){return r===H(r)||!B(r)?We(r):an(r)}function fn(r){var n=r.getBoundingClientRect(),i=Z(n.width)/r.offsetWidth||1,o=Z(n.height)/r.offsetHeight||1;return i!==1||o!==1}function cn(r,n,i){i===void 0&&(i=!1);var o=B(n),a=B(n)&&fn(n),u=I(n),c=ee(r,a),f={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(o||!o&&!i)&&((C(n)!=="body"||Se(u))&&(f=sn(n)),B(n)?(d=ee(n,!0),d.x+=n.clientLeft,d.y+=n.clientTop):u&&(d.x=Be(u))),{x:c.left+f.scrollLeft-d.x,y:c.top+f.scrollTop-d.y,width:c.width,height:c.height}}function pn(r){var n=new Map,i=new Set,o=[];r.forEach(function(u){n.set(u.name,u)});function a(u){i.add(u.name);var c=[].concat(u.requires||[],u.requiresIfExists||[]);c.forEach(function(f){if(!i.has(f)){var d=n.get(f);d&&a(d)}}),o.push(u)}return r.forEach(function(u){i.has(u.name)||a(u)}),o}function un(r){var n=pn(r);return ot.reduce(function(i,o){return i.concat(n.filter(function(a){return a.phase===o}))},[])}function ln(r){var n;return function(){return n||(n=new Promise(function(i){Promise.resolve().then(function(){n=void 0,i(r())})})),n}}function dn(r){var n=r.reduce(function(i,o){var a=i[o.name];return i[o.name]=a?Object.assign({},a,o,{options:Object.assign({},a.options,o.options),data:Object.assign({},a.data,o.data)}):o,i},{});return Object.keys(n).map(function(i){return n[i]})}var Ot={placement:"bottom",modifiers:[],strategy:"absolute"};function $t(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return!n.some(function(o){return!(o&&typeof o.getBoundingClientRect=="function")})}function we(r){r===void 0&&(r={});var n=r,i=n.defaultModifiers,o=i===void 0?[]:i,a=n.defaultOptions,u=a===void 0?Ot:a;return function(c,f,d){d===void 0&&(d=u);var h={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ot,u),modifiersData:{},elements:{reference:c,popper:f},attributes:{},styles:{}},v=[],g=!1,p={state:h,setOptions:function(b){var A=typeof b=="function"?b(h.options):b;_(),h.options=Object.assign({},u,h.options,A),h.scrollParents={reference:Q(c)?ce(c):c.contextElement?ce(c.contextElement):[],popper:ce(f)};var w=un(dn([].concat(o,h.options.modifiers)));return h.orderedModifiers=w.filter(function(T){return T.enabled}),y(),p.update()},forceUpdate:function(){if(!g){var b=h.elements,A=b.reference,w=b.popper;if($t(A,w)){h.rects={reference:cn(A,se(w),h.options.strategy==="fixed"),popper:ke(w)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach(function(re){return h.modifiersData[re.name]=Object.assign({},re.data)});for(var T=0;T<h.orderedModifiers.length;T++){if(h.reset===!0){h.reset=!1,T=-1;continue}var S=h.orderedModifiers[T],x=S.fn,O=S.options,L=O===void 0?{}:O,M=S.name;typeof x=="function"&&(h=x({state:h,options:L,name:M,instance:p})||h)}}}},update:ln(function(){return new Promise(function(b){p.forceUpdate(),b(h)})}),destroy:function(){_(),g=!0}};if(!$t(c,f))return p;p.setOptions(d).then(function(b){!g&&d.onFirstUpdate&&d.onFirstUpdate(b)});function y(){h.orderedModifiers.forEach(function(b){var A=b.name,w=b.options,T=w===void 0?{}:w,S=b.effect;if(typeof S=="function"){var x=S({state:h,name:A,instance:p,options:T}),O=function(){};v.push(x||O)}})}function _(){v.forEach(function(b){return b()}),v=[]}return p}}we();var mn=[Re,He,Me,Ae];we({defaultModifiers:mn});var gn=[Re,He,Me,Ae,wt,vt,xt,pt,bt],yn=we({defaultModifiers:gn});const usePopper=(r,n,i={})=>{const o={name:"updateState",enabled:!0,phase:"write",fn:({state:d})=>{const h=deriveState(d);Object.assign(c.value,h)},requires:["computeStyles"]},a=vue.computed(()=>{const{onFirstUpdate:d,placement:h,strategy:v,modifiers:g}=vue.unref(i);return{onFirstUpdate:d,placement:h||"bottom",strategy:v||"absolute",modifiers:[...g||[],o,{name:"applyStyles",enabled:!1}]}}),u=vue.shallowRef(),c=vue.ref({styles:{popper:{position:vue.unref(a).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),f=()=>{u.value&&(u.value.destroy(),u.value=void 0)};return vue.watch(a,d=>{const h=vue.unref(u);h&&h.setOptions(d)},{deep:!0}),vue.watch([r,n],([d,h])=>{f(),!(!d||!h)&&(u.value=yn(d,h,vue.unref(a)))}),vue.onBeforeUnmount(()=>{f()}),{state:vue.computed(()=>{var d;return{...((d=vue.unref(u))==null?void 0:d.state)||{}}}),styles:vue.computed(()=>vue.unref(c).styles),attributes:vue.computed(()=>vue.unref(c).attributes),update:()=>{var d;return(d=vue.unref(u))==null?void 0:d.update()},forceUpdate:()=>{var d;return(d=vue.unref(u))==null?void 0:d.forceUpdate()},instanceRef:vue.computed(()=>vue.unref(u))}};function deriveState(r){const n=Object.keys(r.elements),i=lodashEs.fromPairs(n.map(a=>[a,r.styles[a]||{}])),o=lodashEs.fromPairs(n.map(a=>[a,r.attributes[a]]));return{styles:i,attributes:o}}function useTimeout(){let r;const n=(o,a)=>{i(),r=window.setTimeout(o,a)},i=()=>window.clearTimeout(r);return tryOnScopeDispose(()=>i()),{registerTimeout:n,cancelTimeout:i}}const defaultIdInjection={prefix:Math.floor(Math.random()*1e4),current:0},ID_INJECTION_KEY=Symbol("elIdInjection"),useIdInjection=()=>vue.getCurrentInstance()?vue.inject(ID_INJECTION_KEY,defaultIdInjection):defaultIdInjection,useId=r=>{const n=useIdInjection();!isClient&&n===defaultIdInjection&&debugWarn("IdInjection",`Looks like you are using server rendering, you must provide a id provider to ensure the hydration process to be succeed
usage: app.provide(ID_INJECTION_KEY, {
  prefix: number,
  current: number,
})`);const i=useGetDerivedNamespace();return vue.computed(()=>vue.unref(r)||`${i.value}-id-${n.prefix}-${n.current++}`)};let registeredEscapeHandlers=[];const cachedHandler=r=>{const n=r;n.key===EVENT_CODE.esc&&registeredEscapeHandlers.forEach(i=>i(n))},useEscapeKeydown=r=>{vue.onMounted(()=>{registeredEscapeHandlers.length===0&&document.addEventListener("keydown",cachedHandler),isClient&&registeredEscapeHandlers.push(r)}),vue.onBeforeUnmount(()=>{registeredEscapeHandlers=registeredEscapeHandlers.filter(n=>n!==r),registeredEscapeHandlers.length===0&&isClient&&document.removeEventListener("keydown",cachedHandler)})};let cachedContainer;const usePopperContainerId=()=>{const r=useGetDerivedNamespace(),n=useIdInjection(),i=vue.computed(()=>`${r.value}-popper-container-${n.prefix}`),o=vue.computed(()=>`#${i.value}`);return{id:i,selector:o}},createContainer=r=>{const n=document.createElement("div");return n.id=r,document.body.appendChild(n),n},usePopperContainer=()=>{const{id:r,selector:n}=usePopperContainerId();return vue.onBeforeMount(()=>{isClient&&(process.env.NODE_ENV==="test"||!cachedContainer&&!document.body.querySelector(n.value))&&(cachedContainer=createContainer(r.value))}),{id:r,selector:n}},useDelayedToggleProps=buildProps({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),useDelayedToggle=({showAfter:r,hideAfter:n,autoClose:i,open:o,close:a})=>{const{registerTimeout:u}=useTimeout(),{registerTimeout:c,cancelTimeout:f}=useTimeout();return{onOpen:v=>{u(()=>{o(v);const g=vue.unref(i);isNumber(g)&&g>0&&c(()=>{a(v)},g)},vue.unref(r))},onClose:v=>{f(),u(()=>{a(v)},vue.unref(n))}}},FORWARD_REF_INJECTION_KEY=Symbol("elForwardRef"),useForwardRef=r=>{const n=i=>{r.value=i};vue.provide(FORWARD_REF_INJECTION_KEY,{setForwardRef:n})},useForwardRefDirective=r=>({mounted(n){r(n)},updated(n){r(n)},unmounted(){r(null)}}),zIndex=vue.ref(0),defaultInitialZIndex=2e3,zIndexContextKey=Symbol("zIndexContextKey"),useZIndex=r=>{const n=r||vue.inject(zIndexContextKey,void 0),i=vue.computed(()=>{const u=vue.unref(n);return isNumber(u)?u:defaultInitialZIndex}),o=vue.computed(()=>i.value+zIndex.value);return{initialZIndex:i,currentZIndex:o,nextZIndex:()=>(zIndex.value++,o.value)}};function useCursor(r){const n=vue.ref();function i(){if(r.value==null)return;const{selectionStart:a,selectionEnd:u,value:c}=r.value;if(a==null||u==null)return;const f=c.slice(0,Math.max(0,a)),d=c.slice(Math.max(0,u));n.value={selectionStart:a,selectionEnd:u,value:c,beforeTxt:f,afterTxt:d}}function o(){if(r.value==null||n.value==null)return;const{value:a}=r.value,{beforeTxt:u,afterTxt:c,selectionStart:f}=n.value;if(u==null||c==null||f==null)return;let d=a.length;if(a.endsWith(c))d=a.length-c.length;else if(a.startsWith(u))d=u.length;else{const h=u[f-1],v=a.indexOf(h,f-1);v!==-1&&(d=v+1)}r.value.setSelectionRange(d,d)}return[i,o]}const useSizeProp=buildProp({type:String,values:componentSizes,required:!1}),SIZE_INJECTION_KEY=Symbol("size"),useGlobalSize=()=>{const r=vue.inject(SIZE_INJECTION_KEY,{});return vue.computed(()=>vue.unref(r.size)||"")};function useFocusController(r,{afterFocus:n,afterBlur:i}={}){const o=vue.getCurrentInstance(),{emit:a}=o,u=vue.shallowRef(),c=vue.ref(!1),f=v=>{c.value||(c.value=!0,a("focus",v),n==null||n())},d=v=>{var g;v.relatedTarget&&((g=u.value)!=null&&g.contains(v.relatedTarget))||(c.value=!1,a("blur",v),i==null||i())},h=()=>{var v;(v=r.value)==null||v.focus()};return vue.watch(u,v=>{v&&(v.setAttribute("role","button"),v.setAttribute("tabindex","-1"))}),useEventListener(u,"click",h),{wrapperRef:u,isFocused:c,handleFocus:f,handleBlur:d}}var _export_sfc=(r,n)=>{const i=r.__vccOpts||r;for(const[o,a]of n)i[o]=a;return i};const iconProps=buildProps({size:{type:definePropType([Number,String])},color:{type:String}}),__default__$c=vue.defineComponent({name:"ElIcon",inheritAttrs:!1}),_sfc_main$r=vue.defineComponent({...__default__$c,props:iconProps,setup(r){const n=r,i=useNamespace("icon"),o=vue.computed(()=>{const{size:a,color:u}=n;return!a&&!u?{}:{fontSize:isUndefined(a)?void 0:addUnit(a),"--color":u}});return(a,u)=>(vue.openBlock(),vue.createElementBlock("i",vue.mergeProps({class:vue.unref(i).b(),style:vue.unref(o)},a.$attrs),[vue.renderSlot(a.$slots,"default")],16))}});var Icon=_export_sfc(_sfc_main$r,[["__file","/home/runner/work/element-plus/element-plus/packages/components/icon/src/icon.vue"]]);const ElIcon=withInstall(Icon),formContextKey=Symbol("formContextKey"),formItemContextKey=Symbol("formItemContextKey"),useFormSize=(r,n={})=>{const i=vue.ref(void 0),o=n.prop?i:useProp("size"),a=n.global?i:useGlobalSize(),u=n.form?{size:void 0}:vue.inject(formContextKey,void 0),c=n.formItem?{size:void 0}:vue.inject(formItemContextKey,void 0);return vue.computed(()=>o.value||vue.unref(r)||(c==null?void 0:c.size)||(u==null?void 0:u.size)||a.value||"")},useFormDisabled=r=>{const n=useProp("disabled"),i=vue.inject(formContextKey,void 0);return vue.computed(()=>n.value||vue.unref(r)||(i==null?void 0:i.disabled)||!1)},useFormItem=()=>{const r=vue.inject(formContextKey,void 0),n=vue.inject(formItemContextKey,void 0);return{form:r,formItem:n}},useFormItemInputId=(r,{formItemContext:n,disableIdGeneration:i,disableIdManagement:o})=>{i||(i=vue.ref(!1)),o||(o=vue.ref(!1));const a=vue.ref();let u;const c=vue.computed(()=>{var f;return!!(!r.label&&n&&n.inputIds&&((f=n.inputIds)==null?void 0:f.length)<=1)});return vue.onMounted(()=>{u=vue.watch([vue.toRef(r,"id"),i],([f,d])=>{const h=f??(d?void 0:useId().value);h!==a.value&&(n!=null&&n.removeInputId&&(a.value&&n.removeInputId(a.value),!(o!=null&&o.value)&&!d&&h&&n.addInputId(h)),a.value=h)},{immediate:!0})}),vue.onUnmounted(()=>{u&&u(),n!=null&&n.removeInputId&&a.value&&n.removeInputId(a.value)}),{isLabeledByFormItem:c,inputId:a}},formMetaProps=buildProps({size:{type:String,values:componentSizes},disabled:Boolean}),formProps=buildProps({...formMetaProps,model:Object,rules:{type:definePropType(Object)},labelPosition:{type:String,values:["left","right","top"],default:"right"},requireAsteriskPosition:{type:String,values:["left","right"],default:"left"},labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:Boolean,scrollToError:Boolean,scrollIntoViewOptions:{type:[Object,Boolean]}}),formEmits={validate:(r,n,i)=>(isArray(r)||isString(r))&&isBoolean(n)&&isString(i)},SCOPE="ElForm";function useFormLabelWidth(){const r=vue.ref([]),n=vue.computed(()=>{if(!r.value.length)return"0";const u=Math.max(...r.value);return u?`${u}px`:""});function i(u){const c=r.value.indexOf(u);return c===-1&&n.value==="0"&&debugWarn(SCOPE,`unexpected width ${u}`),c}function o(u,c){if(u&&c){const f=i(c);r.value.splice(f,1,u)}else u&&r.value.push(u)}function a(u){const c=i(u);c>-1&&r.value.splice(c,1)}return{autoLabelWidth:n,registerLabelWidth:o,deregisterLabelWidth:a}}const filterFields=(r,n)=>{const i=lodashEs.castArray(n);return i.length>0?r.filter(o=>o.prop&&i.includes(o.prop)):r},COMPONENT_NAME$4="ElForm",__default__$b=vue.defineComponent({name:COMPONENT_NAME$4}),_sfc_main$q=vue.defineComponent({...__default__$b,props:formProps,emits:formEmits,setup(r,{expose:n,emit:i}){const o=r,a=[],u=useFormSize(),c=useNamespace("form"),f=vue.computed(()=>{const{labelPosition:T,inline:S}=o;return[c.b(),c.m(u.value||"default"),{[c.m(`label-${T}`)]:T,[c.m("inline")]:S}]}),d=T=>{a.push(T)},h=T=>{T.prop&&a.splice(a.indexOf(T),1)},v=(T=[])=>{if(!o.model){debugWarn(COMPONENT_NAME$4,"model is required for resetFields to work.");return}filterFields(a,T).forEach(S=>S.resetField())},g=(T=[])=>{filterFields(a,T).forEach(S=>S.clearValidate())},p=vue.computed(()=>{const T=!!o.model;return T||debugWarn(COMPONENT_NAME$4,"model is required for validate to work."),T}),y=T=>{if(a.length===0)return[];const S=filterFields(a,T);return S.length?S:(debugWarn(COMPONENT_NAME$4,"please pass correct props!"),[])},_=async T=>A(void 0,T),b=async(T=[])=>{if(!p.value)return!1;const S=y(T);if(S.length===0)return!0;let x={};for(const O of S)try{await O.validate("")}catch(L){x={...x,...L}}return Object.keys(x).length===0?!0:Promise.reject(x)},A=async(T=[],S)=>{const x=!isFunction(S);try{const O=await b(T);return O===!0&&(S==null||S(O)),O}catch(O){if(O instanceof Error)throw O;const L=O;return o.scrollToError&&w(Object.keys(L)[0]),S==null||S(!1,L),x&&Promise.reject(L)}},w=T=>{var S;const x=filterFields(a,T)[0];x&&((S=x.$el)==null||S.scrollIntoView(o.scrollIntoViewOptions))};return vue.watch(()=>o.rules,()=>{o.validateOnRuleChange&&_().catch(T=>debugWarn(T))},{deep:!0}),vue.provide(formContextKey,vue.reactive({...vue.toRefs(o),emit:i,resetFields:v,clearValidate:g,validateField:A,addField:d,removeField:h,...useFormLabelWidth()})),n({validate:_,validateField:A,resetFields:v,clearValidate:g,scrollToField:w}),(T,S)=>(vue.openBlock(),vue.createElementBlock("form",{class:vue.normalizeClass(vue.unref(f))},[vue.renderSlot(T.$slots,"default")],2))}});var Form=_export_sfc(_sfc_main$q,[["__file","/home/runner/work/element-plus/element-plus/packages/components/form/src/form.vue"]]);function _extends(){return _extends=Object.assign?Object.assign.bind():function(r){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])}return r},_extends.apply(this,arguments)}function _inheritsLoose(r,n){r.prototype=Object.create(n.prototype),r.prototype.constructor=r,_setPrototypeOf(r,n)}function _getPrototypeOf(r){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},_getPrototypeOf(r)}function _setPrototypeOf(r,n){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,a){return o.__proto__=a,o},_setPrototypeOf(r,n)}function _isNativeReflectConstruct(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _construct(r,n,i){return _isNativeReflectConstruct()?_construct=Reflect.construct.bind():_construct=function(a,u,c){var f=[null];f.push.apply(f,u);var d=Function.bind.apply(a,f),h=new d;return c&&_setPrototypeOf(h,c.prototype),h},_construct.apply(null,arguments)}function _isNativeFunction(r){return Function.toString.call(r).indexOf("[native code]")!==-1}function _wrapNativeSuper(r){var n=typeof Map=="function"?new Map:void 0;return _wrapNativeSuper=function(o){if(o===null||!_isNativeFunction(o))return o;if(typeof o!="function")throw new TypeError("Super expression must either be null or a function");if(typeof n<"u"){if(n.has(o))return n.get(o);n.set(o,a)}function a(){return _construct(o,arguments,_getPrototypeOf(this).constructor)}return a.prototype=Object.create(o.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(a,o)},_wrapNativeSuper(r)}var formatRegExp=/%[sdj%]/g,warning=function r(){};typeof process<"u"&&process.env&&process.env.NODE_ENV!=="production"&&typeof window<"u"&&typeof document<"u"&&(warning=function(n,i){typeof console<"u"&&console.warn&&typeof ASYNC_VALIDATOR_NO_WARNING>"u"&&i.every(function(o){return typeof o=="string"})&&console.warn(n,i)});function convertFieldsError(r){if(!r||!r.length)return null;var n={};return r.forEach(function(i){var o=i.field;n[o]=n[o]||[],n[o].push(i)}),n}function format(r){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];var a=0,u=i.length;if(typeof r=="function")return r.apply(null,i);if(typeof r=="string"){var c=r.replace(formatRegExp,function(f){if(f==="%%")return"%";if(a>=u)return f;switch(f){case"%s":return String(i[a++]);case"%d":return Number(i[a++]);case"%j":try{return JSON.stringify(i[a++])}catch{return"[Circular]"}break;default:return f}});return c}return r}function isNativeStringType(r){return r==="string"||r==="url"||r==="hex"||r==="email"||r==="date"||r==="pattern"}function isEmptyValue(r,n){return!!(r==null||n==="array"&&Array.isArray(r)&&!r.length||isNativeStringType(n)&&typeof r=="string"&&!r)}function asyncParallelArray(r,n,i){var o=[],a=0,u=r.length;function c(f){o.push.apply(o,f||[]),a++,a===u&&i(o)}r.forEach(function(f){n(f,c)})}function asyncSerialArray(r,n,i){var o=0,a=r.length;function u(c){if(c&&c.length){i(c);return}var f=o;o=o+1,f<a?n(r[f],u):i([])}u([])}function flattenObjArr(r){var n=[];return Object.keys(r).forEach(function(i){n.push.apply(n,r[i]||[])}),n}var AsyncValidationError=function(r){_inheritsLoose(n,r);function n(i,o){var a;return a=r.call(this,"Async Validation Error")||this,a.errors=i,a.fields=o,a}return n}(_wrapNativeSuper(Error));function asyncMap(r,n,i,o,a){if(n.first){var u=new Promise(function(p,y){var _=function(w){return o(w),w.length?y(new AsyncValidationError(w,convertFieldsError(w))):p(a)},b=flattenObjArr(r);asyncSerialArray(b,i,_)});return u.catch(function(p){return p}),u}var c=n.firstFields===!0?Object.keys(r):n.firstFields||[],f=Object.keys(r),d=f.length,h=0,v=[],g=new Promise(function(p,y){var _=function(A){if(v.push.apply(v,A),h++,h===d)return o(v),v.length?y(new AsyncValidationError(v,convertFieldsError(v))):p(a)};f.length||(o(v),p(a)),f.forEach(function(b){var A=r[b];c.indexOf(b)!==-1?asyncSerialArray(A,i,_):asyncParallelArray(A,i,_)})});return g.catch(function(p){return p}),g}function isErrorObj(r){return!!(r&&r.message!==void 0)}function getValue(r,n){for(var i=r,o=0;o<n.length;o++){if(i==null)return i;i=i[n[o]]}return i}function complementError(r,n){return function(i){var o;return r.fullFields?o=getValue(n,r.fullFields):o=n[i.field||r.fullField],isErrorObj(i)?(i.field=i.field||r.fullField,i.fieldValue=o,i):{message:typeof i=="function"?i():i,fieldValue:o,field:i.field||r.fullField}}}function deepMerge(r,n){if(n){for(var i in n)if(n.hasOwnProperty(i)){var o=n[i];typeof o=="object"&&typeof r[i]=="object"?r[i]=_extends({},r[i],o):r[i]=o}}return r}var required$1=function r(n,i,o,a,u,c){n.required&&(!o.hasOwnProperty(n.field)||isEmptyValue(i,c||n.type))&&a.push(format(u.messages.required,n.fullField))},whitespace=function r(n,i,o,a,u){(/^\s+$/.test(i)||i==="")&&a.push(format(u.messages.whitespace,n.fullField))},urlReg,getUrlRegex=function(){if(urlReg)return urlReg;var r="[a-fA-F\\d:]",n=function(x){return x&&x.includeBoundaries?"(?:(?<=\\s|^)(?="+r+")|(?<="+r+")(?=\\s|$))":""},i="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",o="[a-fA-F\\d]{1,4}",a=(`
(?:
(?:`+o+":){7}(?:"+o+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+o+":){6}(?:"+i+"|:"+o+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+o+":){5}(?::"+i+"|(?::"+o+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+o+":){4}(?:(?::"+o+"){0,1}:"+i+"|(?::"+o+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+o+":){3}(?:(?::"+o+"){0,2}:"+i+"|(?::"+o+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+o+":){2}(?:(?::"+o+"){0,3}:"+i+"|(?::"+o+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+o+":){1}(?:(?::"+o+"){0,4}:"+i+"|(?::"+o+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+o+"){0,5}:"+i+"|(?::"+o+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),u=new RegExp("(?:^"+i+"$)|(?:^"+a+"$)"),c=new RegExp("^"+i+"$"),f=new RegExp("^"+a+"$"),d=function(x){return x&&x.exact?u:new RegExp("(?:"+n(x)+i+n(x)+")|(?:"+n(x)+a+n(x)+")","g")};d.v4=function(S){return S&&S.exact?c:new RegExp(""+n(S)+i+n(S),"g")},d.v6=function(S){return S&&S.exact?f:new RegExp(""+n(S)+a+n(S),"g")};var h="(?:(?:[a-z]+:)?//)",v="(?:\\S+(?::\\S*)?@)?",g=d.v4().source,p=d.v6().source,y="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",_="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",b="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",A="(?::\\d{2,5})?",w='(?:[/?#][^\\s"]*)?',T="(?:"+h+"|www\\.)"+v+"(?:localhost|"+g+"|"+p+"|"+y+_+b+")"+A+w;return urlReg=new RegExp("(?:^"+T+"$)","i"),urlReg},pattern$2={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},types={integer:function r(n){return types.number(n)&&parseInt(n,10)===n},float:function r(n){return types.number(n)&&!types.integer(n)},array:function r(n){return Array.isArray(n)},regexp:function r(n){if(n instanceof RegExp)return!0;try{return!!new RegExp(n)}catch{return!1}},date:function r(n){return typeof n.getTime=="function"&&typeof n.getMonth=="function"&&typeof n.getYear=="function"&&!isNaN(n.getTime())},number:function r(n){return isNaN(n)?!1:typeof n=="number"},object:function r(n){return typeof n=="object"&&!types.array(n)},method:function r(n){return typeof n=="function"},email:function r(n){return typeof n=="string"&&n.length<=320&&!!n.match(pattern$2.email)},url:function r(n){return typeof n=="string"&&n.length<=2048&&!!n.match(getUrlRegex())},hex:function r(n){return typeof n=="string"&&!!n.match(pattern$2.hex)}},type$1=function r(n,i,o,a,u){if(n.required&&i===void 0){required$1(n,i,o,a,u);return}var c=["integer","float","array","regexp","object","method","email","number","date","url","hex"],f=n.type;c.indexOf(f)>-1?types[f](i)||a.push(format(u.messages.types[f],n.fullField,n.type)):f&&typeof i!==n.type&&a.push(format(u.messages.types[f],n.fullField,n.type))},range=function r(n,i,o,a,u){var c=typeof n.len=="number",f=typeof n.min=="number",d=typeof n.max=="number",h=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,v=i,g=null,p=typeof i=="number",y=typeof i=="string",_=Array.isArray(i);if(p?g="number":y?g="string":_&&(g="array"),!g)return!1;_&&(v=i.length),y&&(v=i.replace(h,"_").length),c?v!==n.len&&a.push(format(u.messages[g].len,n.fullField,n.len)):f&&!d&&v<n.min?a.push(format(u.messages[g].min,n.fullField,n.min)):d&&!f&&v>n.max?a.push(format(u.messages[g].max,n.fullField,n.max)):f&&d&&(v<n.min||v>n.max)&&a.push(format(u.messages[g].range,n.fullField,n.min,n.max))},ENUM$1="enum",enumerable$1=function r(n,i,o,a,u){n[ENUM$1]=Array.isArray(n[ENUM$1])?n[ENUM$1]:[],n[ENUM$1].indexOf(i)===-1&&a.push(format(u.messages[ENUM$1],n.fullField,n[ENUM$1].join(", ")))},pattern$1=function r(n,i,o,a,u){if(n.pattern){if(n.pattern instanceof RegExp)n.pattern.lastIndex=0,n.pattern.test(i)||a.push(format(u.messages.pattern.mismatch,n.fullField,i,n.pattern));else if(typeof n.pattern=="string"){var c=new RegExp(n.pattern);c.test(i)||a.push(format(u.messages.pattern.mismatch,n.fullField,i,n.pattern))}}},rules={required:required$1,whitespace,type:type$1,range,enum:enumerable$1,pattern:pattern$1},string=function r(n,i,o,a,u){var c=[],f=n.required||!n.required&&a.hasOwnProperty(n.field);if(f){if(isEmptyValue(i,"string")&&!n.required)return o();rules.required(n,i,a,c,u,"string"),isEmptyValue(i,"string")||(rules.type(n,i,a,c,u),rules.range(n,i,a,c,u),rules.pattern(n,i,a,c,u),n.whitespace===!0&&rules.whitespace(n,i,a,c,u))}o(c)},method=function r(n,i,o,a,u){var c=[],f=n.required||!n.required&&a.hasOwnProperty(n.field);if(f){if(isEmptyValue(i)&&!n.required)return o();rules.required(n,i,a,c,u),i!==void 0&&rules.type(n,i,a,c,u)}o(c)},number=function r(n,i,o,a,u){var c=[],f=n.required||!n.required&&a.hasOwnProperty(n.field);if(f){if(i===""&&(i=void 0),isEmptyValue(i)&&!n.required)return o();rules.required(n,i,a,c,u),i!==void 0&&(rules.type(n,i,a,c,u),rules.range(n,i,a,c,u))}o(c)},_boolean=function r(n,i,o,a,u){var c=[],f=n.required||!n.required&&a.hasOwnProperty(n.field);if(f){if(isEmptyValue(i)&&!n.required)return o();rules.required(n,i,a,c,u),i!==void 0&&rules.type(n,i,a,c,u)}o(c)},regexp=function r(n,i,o,a,u){var c=[],f=n.required||!n.required&&a.hasOwnProperty(n.field);if(f){if(isEmptyValue(i)&&!n.required)return o();rules.required(n,i,a,c,u),isEmptyValue(i)||rules.type(n,i,a,c,u)}o(c)},integer=function r(n,i,o,a,u){var c=[],f=n.required||!n.required&&a.hasOwnProperty(n.field);if(f){if(isEmptyValue(i)&&!n.required)return o();rules.required(n,i,a,c,u),i!==void 0&&(rules.type(n,i,a,c,u),rules.range(n,i,a,c,u))}o(c)},floatFn=function r(n,i,o,a,u){var c=[],f=n.required||!n.required&&a.hasOwnProperty(n.field);if(f){if(isEmptyValue(i)&&!n.required)return o();rules.required(n,i,a,c,u),i!==void 0&&(rules.type(n,i,a,c,u),rules.range(n,i,a,c,u))}o(c)},array=function r(n,i,o,a,u){var c=[],f=n.required||!n.required&&a.hasOwnProperty(n.field);if(f){if(i==null&&!n.required)return o();rules.required(n,i,a,c,u,"array"),i!=null&&(rules.type(n,i,a,c,u),rules.range(n,i,a,c,u))}o(c)},object=function r(n,i,o,a,u){var c=[],f=n.required||!n.required&&a.hasOwnProperty(n.field);if(f){if(isEmptyValue(i)&&!n.required)return o();rules.required(n,i,a,c,u),i!==void 0&&rules.type(n,i,a,c,u)}o(c)},ENUM="enum",enumerable=function r(n,i,o,a,u){var c=[],f=n.required||!n.required&&a.hasOwnProperty(n.field);if(f){if(isEmptyValue(i)&&!n.required)return o();rules.required(n,i,a,c,u),i!==void 0&&rules[ENUM](n,i,a,c,u)}o(c)},pattern=function r(n,i,o,a,u){var c=[],f=n.required||!n.required&&a.hasOwnProperty(n.field);if(f){if(isEmptyValue(i,"string")&&!n.required)return o();rules.required(n,i,a,c,u),isEmptyValue(i,"string")||rules.pattern(n,i,a,c,u)}o(c)},date=function r(n,i,o,a,u){var c=[],f=n.required||!n.required&&a.hasOwnProperty(n.field);if(f){if(isEmptyValue(i,"date")&&!n.required)return o();if(rules.required(n,i,a,c,u),!isEmptyValue(i,"date")){var d;i instanceof Date?d=i:d=new Date(i),rules.type(n,d,a,c,u),d&&rules.range(n,d.getTime(),a,c,u)}}o(c)},required=function r(n,i,o,a,u){var c=[],f=Array.isArray(i)?"array":typeof i;rules.required(n,i,a,c,u,f),o(c)},type=function r(n,i,o,a,u){var c=n.type,f=[],d=n.required||!n.required&&a.hasOwnProperty(n.field);if(d){if(isEmptyValue(i,c)&&!n.required)return o();rules.required(n,i,a,f,u,c),isEmptyValue(i,c)||rules.type(n,i,a,f,u)}o(f)},any=function r(n,i,o,a,u){var c=[],f=n.required||!n.required&&a.hasOwnProperty(n.field);if(f){if(isEmptyValue(i)&&!n.required)return o();rules.required(n,i,a,c,u)}o(c)},validators={string,method,number,boolean:_boolean,regexp,integer,float:floatFn,array,object,enum:enumerable,pattern,date,url:type,hex:type,email:type,required,any};function newMessages(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var n=JSON.parse(JSON.stringify(this));return n.clone=this.clone,n}}}var messages=newMessages(),Schema=function(){function r(i){this.rules=null,this._messages=messages,this.define(i)}var n=r.prototype;return n.define=function(o){var a=this;if(!o)throw new Error("Cannot configure a schema with no rules");if(typeof o!="object"||Array.isArray(o))throw new Error("Rules must be an object");this.rules={},Object.keys(o).forEach(function(u){var c=o[u];a.rules[u]=Array.isArray(c)?c:[c]})},n.messages=function(o){return o&&(this._messages=deepMerge(newMessages(),o)),this._messages},n.validate=function(o,a,u){var c=this;a===void 0&&(a={}),u===void 0&&(u=function(){});var f=o,d=a,h=u;if(typeof d=="function"&&(h=d,d={}),!this.rules||Object.keys(this.rules).length===0)return h&&h(null,f),Promise.resolve(f);function v(b){var A=[],w={};function T(x){if(Array.isArray(x)){var O;A=(O=A).concat.apply(O,x)}else A.push(x)}for(var S=0;S<b.length;S++)T(b[S]);A.length?(w=convertFieldsError(A),h(A,w)):h(null,f)}if(d.messages){var g=this.messages();g===messages&&(g=newMessages()),deepMerge(g,d.messages),d.messages=g}else d.messages=this.messages();var p={},y=d.keys||Object.keys(this.rules);y.forEach(function(b){var A=c.rules[b],w=f[b];A.forEach(function(T){var S=T;typeof S.transform=="function"&&(f===o&&(f=_extends({},f)),w=f[b]=S.transform(w)),typeof S=="function"?S={validator:S}:S=_extends({},S),S.validator=c.getValidationMethod(S),S.validator&&(S.field=b,S.fullField=S.fullField||b,S.type=c.getType(S),p[b]=p[b]||[],p[b].push({rule:S,value:w,source:f,field:b}))})});var _={};return asyncMap(p,d,function(b,A){var w=b.rule,T=(w.type==="object"||w.type==="array")&&(typeof w.fields=="object"||typeof w.defaultField=="object");T=T&&(w.required||!w.required&&b.value),w.field=b.field;function S(L,M){return _extends({},M,{fullField:w.fullField+"."+L,fullFields:w.fullFields?[].concat(w.fullFields,[L]):[L]})}function x(L){L===void 0&&(L=[]);var M=Array.isArray(L)?L:[L];!d.suppressWarning&&M.length&&r.warning("async-validator:",M),M.length&&w.message!==void 0&&(M=[].concat(w.message));var re=M.map(complementError(w,f));if(d.first&&re.length)return _[w.field]=1,A(re);if(!T)A(re);else{if(w.required&&!b.value)return w.message!==void 0?re=[].concat(w.message).map(complementError(w,f)):d.error&&(re=[d.error(w,format(d.messages.required,w.field))]),A(re);var F={};w.defaultField&&Object.keys(b.value).map(function(z){F[z]=w.defaultField}),F=_extends({},F,b.rule.fields);var j={};Object.keys(F).forEach(function(z){var $=F[z],he=Array.isArray($)?$:[$];j[z]=he.map(S.bind(null,z))});var V=new r(j);V.messages(d.messages),b.rule.options&&(b.rule.options.messages=d.messages,b.rule.options.error=d.error),V.validate(b.value,b.rule.options||d,function(z){var $=[];re&&re.length&&$.push.apply($,re),z&&z.length&&$.push.apply($,z),A($.length?$:null)})}}var O;if(w.asyncValidator)O=w.asyncValidator(w,b.value,x,b.source,d);else if(w.validator){try{O=w.validator(w,b.value,x,b.source,d)}catch(L){console.error==null||console.error(L),d.suppressValidatorError||setTimeout(function(){throw L},0),x(L.message)}O===!0?x():O===!1?x(typeof w.message=="function"?w.message(w.fullField||w.field):w.message||(w.fullField||w.field)+" fails"):O instanceof Array?x(O):O instanceof Error&&x(O.message)}O&&O.then&&O.then(function(){return x()},function(L){return x(L)})},function(b){v(b)},f)},n.getType=function(o){if(o.type===void 0&&o.pattern instanceof RegExp&&(o.type="pattern"),typeof o.validator!="function"&&o.type&&!validators.hasOwnProperty(o.type))throw new Error(format("Unknown rule type %s",o.type));return o.type||"string"},n.getValidationMethod=function(o){if(typeof o.validator=="function")return o.validator;var a=Object.keys(o),u=a.indexOf("message");return u!==-1&&a.splice(u,1),a.length===1&&a[0]==="required"?validators.required:validators[this.getType(o)]||void 0},r}();Schema.register=function r(n,i){if(typeof i!="function")throw new Error("Cannot register a validator by type, validator is not a function");validators[n]=i},Schema.warning=warning,Schema.messages=messages,Schema.validators=validators;const formItemValidateStates=["","error","validating","success"],formItemProps=buildProps({label:String,labelWidth:{type:[String,Number],default:""},prop:{type:definePropType([String,Array])},required:{type:Boolean,default:void 0},rules:{type:definePropType([Object,Array])},error:String,validateStatus:{type:String,values:formItemValidateStates},for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{type:String,values:componentSizes}}),COMPONENT_NAME$3="ElLabelWrap";var FormLabelWrap=vue.defineComponent({name:COMPONENT_NAME$3,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(r,{slots:n}){const i=vue.inject(formContextKey,void 0),o=vue.inject(formItemContextKey);o||throwError(COMPONENT_NAME$3,"usage: <el-form-item><label-wrap /></el-form-item>");const a=useNamespace("form"),u=vue.ref(),c=vue.ref(0),f=()=>{var v;if((v=u.value)!=null&&v.firstElementChild){const g=window.getComputedStyle(u.value.firstElementChild).width;return Math.ceil(Number.parseFloat(g))}else return 0},d=(v="update")=>{vue.nextTick(()=>{n.default&&r.isAutoWidth&&(v==="update"?c.value=f():v==="remove"&&(i==null||i.deregisterLabelWidth(c.value)))})},h=()=>d("update");return vue.onMounted(()=>{h()}),vue.onBeforeUnmount(()=>{d("remove")}),vue.onUpdated(()=>h()),vue.watch(c,(v,g)=>{r.updateAll&&(i==null||i.registerLabelWidth(v,g))}),useResizeObserver(vue.computed(()=>{var v,g;return(g=(v=u.value)==null?void 0:v.firstElementChild)!=null?g:null}),h),()=>{var v,g;if(!n)return null;const{isAutoWidth:p}=r;if(p){const y=i==null?void 0:i.autoLabelWidth,_=o==null?void 0:o.hasLabel,b={};if(_&&y&&y!=="auto"){const A=Math.max(0,Number.parseInt(y,10)-c.value),w=i.labelPosition==="left"?"marginRight":"marginLeft";A&&(b[w]=`${A}px`)}return vue.createVNode("div",{ref:u,class:[a.be("item","label-wrap")],style:b},[(v=n.default)==null?void 0:v.call(n)])}else return vue.createVNode(vue.Fragment,{ref:u},[(g=n.default)==null?void 0:g.call(n)])}}});const _hoisted_1$8=["role","aria-labelledby"],__default__$a=vue.defineComponent({name:"ElFormItem"}),_sfc_main$p=vue.defineComponent({...__default__$a,props:formItemProps,setup(r,{expose:n}){const i=r,o=vue.useSlots(),a=vue.inject(formContextKey,void 0),u=vue.inject(formItemContextKey,void 0),c=useFormSize(void 0,{formItem:!1}),f=useNamespace("form-item"),d=useId().value,h=vue.ref([]),v=vue.ref(""),g=refDebounced(v,100),p=vue.ref(""),y=vue.ref();let _,b=!1;const A=vue.computed(()=>{if((a==null?void 0:a.labelPosition)==="top")return{};const Pt=addUnit(i.labelWidth||(a==null?void 0:a.labelWidth)||"");return Pt?{width:Pt}:{}}),w=vue.computed(()=>{if((a==null?void 0:a.labelPosition)==="top"||a!=null&&a.inline)return{};if(!i.label&&!i.labelWidth&&F)return{};const Pt=addUnit(i.labelWidth||(a==null?void 0:a.labelWidth)||"");return!i.label&&!o.label?{marginLeft:Pt}:{}}),T=vue.computed(()=>[f.b(),f.m(c.value),f.is("error",v.value==="error"),f.is("validating",v.value==="validating"),f.is("success",v.value==="success"),f.is("required",he.value||i.required),f.is("no-asterisk",a==null?void 0:a.hideRequiredAsterisk),(a==null?void 0:a.requireAsteriskPosition)==="right"?"asterisk-right":"asterisk-left",{[f.m("feedback")]:a==null?void 0:a.statusIcon}]),S=vue.computed(()=>isBoolean(i.inlineMessage)?i.inlineMessage:(a==null?void 0:a.inlineMessage)||!1),x=vue.computed(()=>[f.e("error"),{[f.em("error","inline")]:S.value}]),O=vue.computed(()=>i.prop?isString(i.prop)?i.prop:i.prop.join("."):""),L=vue.computed(()=>!!(i.label||o.label)),M=vue.computed(()=>i.for||h.value.length===1?h.value[0]:void 0),re=vue.computed(()=>!M.value&&L.value),F=!!u,j=vue.computed(()=>{const Pt=a==null?void 0:a.model;if(!(!Pt||!i.prop))return getProp(Pt,i.prop).value}),V=vue.computed(()=>{const{required:Pt}=i,In=[];i.rules&&In.push(...lodashEs.castArray(i.rules));const $e=a==null?void 0:a.rules;if($e&&i.prop){const Ce=getProp($e,i.prop).value;Ce&&In.push(...lodashEs.castArray(Ce))}if(Pt!==void 0){const Ce=In.map((ue,At)=>[ue,At]).filter(([ue])=>Object.keys(ue).includes("required"));if(Ce.length>0)for(const[ue,At]of Ce)ue.required!==Pt&&(In[At]={...ue,required:Pt});else In.push({required:Pt})}return In}),z=vue.computed(()=>V.value.length>0),$=Pt=>V.value.filter($e=>!$e.trigger||!Pt?!0:Array.isArray($e.trigger)?$e.trigger.includes(Pt):$e.trigger===Pt).map(({trigger:$e,...Ce})=>Ce),he=vue.computed(()=>V.value.some(Pt=>Pt.required)),le=vue.computed(()=>{var Pt;return g.value==="error"&&i.showMessage&&((Pt=a==null?void 0:a.showMessage)!=null?Pt:!0)}),Ie=vue.computed(()=>`${i.label||""}${(a==null?void 0:a.labelSuffix)||""}`),Fe=Pt=>{v.value=Pt},pe=Pt=>{var In,$e;const{errors:Ce,fields:ue}=Pt;(!Ce||!ue)&&console.error(Pt),Fe("error"),p.value=Ce?($e=(In=Ce==null?void 0:Ce[0])==null?void 0:In.message)!=null?$e:`${i.prop} is required`:"",a==null||a.emit("validate",i.prop,!1,p.value)},Lt=()=>{Fe("success"),a==null||a.emit("validate",i.prop,!0,"")},_e=async Pt=>{const In=O.value;return new Schema({[In]:Pt}).validate({[In]:j.value},{firstFields:!0}).then(()=>(Lt(),!0)).catch(Ce=>(pe(Ce),Promise.reject(Ce)))},Et=async(Pt,In)=>{if(b||!i.prop)return!1;const $e=isFunction(In);if(!z.value)return In==null||In(!1),!1;const Ce=$(Pt);return Ce.length===0?(In==null||In(!0),!0):(Fe("validating"),_e(Ce).then(()=>(In==null||In(!0),!0)).catch(ue=>{const{fields:At}=ue;return In==null||In(!1,At),$e?!1:Promise.reject(At)}))},Cn=()=>{Fe(""),p.value="",b=!1},vn=async()=>{const Pt=a==null?void 0:a.model;if(!Pt||!i.prop)return;const In=getProp(Pt,i.prop);b=!0,In.value=lodashEs.clone(_),await vue.nextTick(),Cn(),b=!1},Dt=Pt=>{h.value.includes(Pt)||h.value.push(Pt)},de=Pt=>{h.value=h.value.filter(In=>In!==Pt)};vue.watch(()=>i.error,Pt=>{p.value=Pt||"",Fe(Pt?"error":"")},{immediate:!0}),vue.watch(()=>i.validateStatus,Pt=>Fe(Pt||""));const qe=vue.reactive({...vue.toRefs(i),$el:y,size:c,validateState:v,labelId:d,inputIds:h,isGroup:re,hasLabel:L,addInputId:Dt,removeInputId:de,resetField:vn,clearValidate:Cn,validate:Et});return vue.provide(formItemContextKey,qe),vue.onMounted(()=>{i.prop&&(a==null||a.addField(qe),_=lodashEs.clone(j.value))}),vue.onBeforeUnmount(()=>{a==null||a.removeField(qe)}),n({size:c,validateMessage:p,validateState:v,validate:Et,clearValidate:Cn,resetField:vn}),(Pt,In)=>{var $e;return vue.openBlock(),vue.createElementBlock("div",{ref_key:"formItemRef",ref:y,class:vue.normalizeClass(vue.unref(T)),role:vue.unref(re)?"group":void 0,"aria-labelledby":vue.unref(re)?vue.unref(d):void 0},[vue.createVNode(vue.unref(FormLabelWrap),{"is-auto-width":vue.unref(A).width==="auto","update-all":(($e=vue.unref(a))==null?void 0:$e.labelWidth)==="auto"},{default:vue.withCtx(()=>[vue.unref(L)?(vue.openBlock(),vue.createBlock(vue.resolveDynamicComponent(vue.unref(M)?"label":"div"),{key:0,id:vue.unref(d),for:vue.unref(M),class:vue.normalizeClass(vue.unref(f).e("label")),style:vue.normalizeStyle(vue.unref(A))},{default:vue.withCtx(()=>[vue.renderSlot(Pt.$slots,"label",{label:vue.unref(Ie)},()=>[vue.createTextVNode(vue.toDisplayString(vue.unref(Ie)),1)])]),_:3},8,["id","for","class","style"])):vue.createCommentVNode("v-if",!0)]),_:3},8,["is-auto-width","update-all"]),vue.createElementVNode("div",{class:vue.normalizeClass(vue.unref(f).e("content")),style:vue.normalizeStyle(vue.unref(w))},[vue.renderSlot(Pt.$slots,"default"),vue.createVNode(vue.TransitionGroup,{name:`${vue.unref(f).namespace.value}-zoom-in-top`},{default:vue.withCtx(()=>[vue.unref(le)?vue.renderSlot(Pt.$slots,"error",{key:0,error:p.value},()=>[vue.createElementVNode("div",{class:vue.normalizeClass(vue.unref(x))},vue.toDisplayString(p.value),3)]):vue.createCommentVNode("v-if",!0)]),_:3},8,["name"])],6)],10,_hoisted_1$8)}}});var FormItem=_export_sfc(_sfc_main$p,[["__file","/home/runner/work/element-plus/element-plus/packages/components/form/src/form-item.vue"]]);withInstall(Form,{FormItem});const ElFormItem=withNoopInstall(FormItem);let hiddenTextarea;const HIDDEN_STYLE=`
  height:0 !important;
  visibility:hidden !important;
  ${isFirefox()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,CONTEXT_STYLE=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function calculateNodeStyling(r){const n=window.getComputedStyle(r),i=n.getPropertyValue("box-sizing"),o=Number.parseFloat(n.getPropertyValue("padding-bottom"))+Number.parseFloat(n.getPropertyValue("padding-top")),a=Number.parseFloat(n.getPropertyValue("border-bottom-width"))+Number.parseFloat(n.getPropertyValue("border-top-width"));return{contextStyle:CONTEXT_STYLE.map(c=>`${c}:${n.getPropertyValue(c)}`).join(";"),paddingSize:o,borderSize:a,boxSizing:i}}function calcTextareaHeight(r,n=1,i){var o;hiddenTextarea||(hiddenTextarea=document.createElement("textarea"),document.body.appendChild(hiddenTextarea));const{paddingSize:a,borderSize:u,boxSizing:c,contextStyle:f}=calculateNodeStyling(r);hiddenTextarea.setAttribute("style",`${f};${HIDDEN_STYLE}`),hiddenTextarea.value=r.value||r.placeholder||"";let d=hiddenTextarea.scrollHeight;const h={};c==="border-box"?d=d+u:c==="content-box"&&(d=d-a),hiddenTextarea.value="";const v=hiddenTextarea.scrollHeight-a;if(isNumber(n)){let g=v*n;c==="border-box"&&(g=g+a+u),d=Math.max(g,d),h.minHeight=`${g}px`}if(isNumber(i)){let g=v*i;c==="border-box"&&(g=g+a+u),d=Math.min(g,d)}return h.height=`${d}px`,(o=hiddenTextarea.parentNode)==null||o.removeChild(hiddenTextarea),hiddenTextarea=void 0,h}const inputProps=buildProps({id:{type:String,default:void 0},size:useSizeProp,disabled:Boolean,modelValue:{type:definePropType([String,Number,Object]),default:""},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:definePropType([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:iconPropType},prefixIcon:{type:iconPropType},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:definePropType([Object,Array,String]),default:()=>mutable({})}}),inputEmits={[UPDATE_MODEL_EVENT]:r=>isString(r),input:r=>isString(r),change:r=>isString(r),focus:r=>r instanceof FocusEvent,blur:r=>r instanceof FocusEvent,clear:()=>!0,mouseleave:r=>r instanceof MouseEvent,mouseenter:r=>r instanceof MouseEvent,keydown:r=>r instanceof Event,compositionstart:r=>r instanceof CompositionEvent,compositionupdate:r=>r instanceof CompositionEvent,compositionend:r=>r instanceof CompositionEvent},_hoisted_1$7=["role"],_hoisted_2$5=["id","type","disabled","formatter","parser","readonly","autocomplete","tabindex","aria-label","placeholder","form"],_hoisted_3$4=["id","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form"],__default__$9=vue.defineComponent({name:"ElInput",inheritAttrs:!1}),_sfc_main$o=vue.defineComponent({...__default__$9,props:inputProps,emits:inputEmits,setup(r,{expose:n,emit:i}){const o=r,a=vue.useAttrs(),u=vue.useSlots(),c=vue.computed(()=>{const ze={};return o.containerRole==="combobox"&&(ze["aria-haspopup"]=a["aria-haspopup"],ze["aria-owns"]=a["aria-owns"],ze["aria-expanded"]=a["aria-expanded"]),ze}),f=vue.computed(()=>[o.type==="textarea"?A.b():b.b(),b.m(y.value),b.is("disabled",_.value),b.is("exceed",Dt.value),{[b.b("group")]:u.prepend||u.append,[b.bm("group","append")]:u.append,[b.bm("group","prepend")]:u.prepend,[b.m("prefix")]:u.prefix||o.prefixIcon,[b.m("suffix")]:u.suffix||o.suffixIcon||o.clearable||o.showPassword,[b.bm("suffix","password-clear")]:_e.value&&Et.value},a.class]),d=vue.computed(()=>[b.e("wrapper"),b.is("focus",j.value)]),h=useAttrs({excludeKeys:vue.computed(()=>Object.keys(c.value))}),{form:v,formItem:g}=useFormItem(),{inputId:p}=useFormItemInputId(o,{formItemContext:g}),y=useFormSize(),_=useFormDisabled(),b=useNamespace("input"),A=useNamespace("textarea"),w=vue.shallowRef(),T=vue.shallowRef(),S=vue.ref(!1),x=vue.ref(!1),O=vue.ref(!1),L=vue.ref(),M=vue.shallowRef(o.inputStyle),re=vue.computed(()=>w.value||T.value),{wrapperRef:F,isFocused:j,handleFocus:V,handleBlur:z}=useFocusController(re,{afterBlur(){var ze;o.validateEvent&&((ze=g==null?void 0:g.validate)==null||ze.call(g,"blur").catch(hn=>debugWarn(hn)))}}),$=vue.computed(()=>{var ze;return(ze=v==null?void 0:v.statusIcon)!=null?ze:!1}),he=vue.computed(()=>(g==null?void 0:g.validateState)||""),le=vue.computed(()=>he.value&&ValidateComponentsMap[he.value]),Ie=vue.computed(()=>O.value?view_default:hide_default),Fe=vue.computed(()=>[a.style,o.inputStyle]),pe=vue.computed(()=>[o.inputStyle,M.value,{resize:o.resize}]),Lt=vue.computed(()=>lodashEs.isNil(o.modelValue)?"":String(o.modelValue)),_e=vue.computed(()=>o.clearable&&!_.value&&!o.readonly&&!!Lt.value&&(j.value||S.value)),Et=vue.computed(()=>o.showPassword&&!_.value&&!o.readonly&&!!Lt.value&&(!!Lt.value||j.value)),Cn=vue.computed(()=>o.showWordLimit&&!!h.value.maxlength&&(o.type==="text"||o.type==="textarea")&&!_.value&&!o.readonly&&!o.showPassword),vn=vue.computed(()=>Lt.value.length),Dt=vue.computed(()=>!!Cn.value&&vn.value>Number(h.value.maxlength)),de=vue.computed(()=>!!u.suffix||!!o.suffixIcon||_e.value||o.showPassword||Cn.value||!!he.value&&$.value),[qe,Pt]=useCursor(w);useResizeObserver(T,ze=>{if(Ce(),!Cn.value||o.resize!=="both")return;const hn=ze[0],{width:An}=hn.contentRect;L.value={right:`calc(100% - ${An+15+6}px)`}});const In=()=>{const{type:ze,autosize:hn}=o;if(!(!isClient||ze!=="textarea"||!T.value))if(hn){const An=isObject(hn)?hn.minRows:void 0,Tn=isObject(hn)?hn.maxRows:void 0,Rn=calcTextareaHeight(T.value,An,Tn);M.value={overflowY:"hidden",...Rn},vue.nextTick(()=>{T.value.offsetHeight,M.value=Rn})}else M.value={minHeight:calcTextareaHeight(T.value).minHeight}},Ce=(ze=>{let hn=!1;return()=>{var An;if(hn||!o.autosize)return;((An=T.value)==null?void 0:An.offsetParent)===null||(ze(),hn=!0)}})(In),ue=()=>{const ze=re.value,hn=o.formatter?o.formatter(Lt.value):Lt.value;!ze||ze.value===hn||(ze.value=hn)},At=async ze=>{qe();let{value:hn}=ze.target;if(o.formatter&&(hn=o.parser?o.parser(hn):hn),!x.value){if(hn===Lt.value){ue();return}i(UPDATE_MODEL_EVENT,hn),i("input",hn),await vue.nextTick(),ue(),Pt()}},Ne=ze=>{i("change",ze.target.value)},Oe=ze=>{i("compositionstart",ze),x.value=!0},kt=ze=>{var hn;i("compositionupdate",ze);const An=(hn=ze.target)==null?void 0:hn.value,Tn=An[An.length-1]||"";x.value=!isKorean(Tn)},jt=ze=>{i("compositionend",ze),x.value&&(x.value=!1,At(ze))},_n=()=>{O.value=!O.value,ie()},ie=async()=>{var ze;await vue.nextTick(),(ze=re.value)==null||ze.focus()},ae=()=>{var ze;return(ze=re.value)==null?void 0:ze.blur()},Y=ze=>{S.value=!1,i("mouseleave",ze)},k=ze=>{S.value=!0,i("mouseenter",ze)},D=ze=>{i("keydown",ze)},oe=()=>{var ze;(ze=re.value)==null||ze.select()},xe=()=>{i(UPDATE_MODEL_EVENT,""),i("change",""),i("clear"),i("input","")};return vue.watch(()=>o.modelValue,()=>{var ze;vue.nextTick(()=>In()),o.validateEvent&&((ze=g==null?void 0:g.validate)==null||ze.call(g,"change").catch(hn=>debugWarn(hn)))}),vue.watch(Lt,()=>ue()),vue.watch(()=>o.type,async()=>{await vue.nextTick(),ue(),In()}),vue.onMounted(()=>{!o.formatter&&o.parser&&debugWarn("ElInput","If you set the parser, you also need to set the formatter."),ue(),vue.nextTick(In)}),n({input:w,textarea:T,ref:re,textareaStyle:pe,autosize:vue.toRef(o,"autosize"),focus:ie,blur:ae,select:oe,clear:xe,resizeTextarea:In}),(ze,hn)=>vue.withDirectives((vue.openBlock(),vue.createElementBlock("div",vue.mergeProps(vue.unref(c),{class:vue.unref(f),style:vue.unref(Fe),role:ze.containerRole,onMouseenter:k,onMouseleave:Y}),[vue.createCommentVNode(" input "),ze.type!=="textarea"?(vue.openBlock(),vue.createElementBlock(vue.Fragment,{key:0},[vue.createCommentVNode(" prepend slot "),ze.$slots.prepend?(vue.openBlock(),vue.createElementBlock("div",{key:0,class:vue.normalizeClass(vue.unref(b).be("group","prepend"))},[vue.renderSlot(ze.$slots,"prepend")],2)):vue.createCommentVNode("v-if",!0),vue.createElementVNode("div",{ref_key:"wrapperRef",ref:F,class:vue.normalizeClass(vue.unref(d))},[vue.createCommentVNode(" prefix slot "),ze.$slots.prefix||ze.prefixIcon?(vue.openBlock(),vue.createElementBlock("span",{key:0,class:vue.normalizeClass(vue.unref(b).e("prefix"))},[vue.createElementVNode("span",{class:vue.normalizeClass(vue.unref(b).e("prefix-inner"))},[vue.renderSlot(ze.$slots,"prefix"),ze.prefixIcon?(vue.openBlock(),vue.createBlock(vue.unref(ElIcon),{key:0,class:vue.normalizeClass(vue.unref(b).e("icon"))},{default:vue.withCtx(()=>[(vue.openBlock(),vue.createBlock(vue.resolveDynamicComponent(ze.prefixIcon)))]),_:1},8,["class"])):vue.createCommentVNode("v-if",!0)],2)],2)):vue.createCommentVNode("v-if",!0),vue.createElementVNode("input",vue.mergeProps({id:vue.unref(p),ref_key:"input",ref:w,class:vue.unref(b).e("inner")},vue.unref(h),{type:ze.showPassword?O.value?"text":"password":ze.type,disabled:vue.unref(_),formatter:ze.formatter,parser:ze.parser,readonly:ze.readonly,autocomplete:ze.autocomplete,tabindex:ze.tabindex,"aria-label":ze.label,placeholder:ze.placeholder,style:ze.inputStyle,form:o.form,onCompositionstart:Oe,onCompositionupdate:kt,onCompositionend:jt,onInput:At,onFocus:hn[0]||(hn[0]=(...An)=>vue.unref(V)&&vue.unref(V)(...An)),onBlur:hn[1]||(hn[1]=(...An)=>vue.unref(z)&&vue.unref(z)(...An)),onChange:Ne,onKeydown:D}),null,16,_hoisted_2$5),vue.createCommentVNode(" suffix slot "),vue.unref(de)?(vue.openBlock(),vue.createElementBlock("span",{key:1,class:vue.normalizeClass(vue.unref(b).e("suffix"))},[vue.createElementVNode("span",{class:vue.normalizeClass(vue.unref(b).e("suffix-inner"))},[!vue.unref(_e)||!vue.unref(Et)||!vue.unref(Cn)?(vue.openBlock(),vue.createElementBlock(vue.Fragment,{key:0},[vue.renderSlot(ze.$slots,"suffix"),ze.suffixIcon?(vue.openBlock(),vue.createBlock(vue.unref(ElIcon),{key:0,class:vue.normalizeClass(vue.unref(b).e("icon"))},{default:vue.withCtx(()=>[(vue.openBlock(),vue.createBlock(vue.resolveDynamicComponent(ze.suffixIcon)))]),_:1},8,["class"])):vue.createCommentVNode("v-if",!0)],64)):vue.createCommentVNode("v-if",!0),vue.unref(_e)?(vue.openBlock(),vue.createBlock(vue.unref(ElIcon),{key:1,class:vue.normalizeClass([vue.unref(b).e("icon"),vue.unref(b).e("clear")]),onMousedown:vue.withModifiers(vue.unref(NOOP),["prevent"]),onClick:xe},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(circle_close_default))]),_:1},8,["class","onMousedown"])):vue.createCommentVNode("v-if",!0),vue.unref(Et)?(vue.openBlock(),vue.createBlock(vue.unref(ElIcon),{key:2,class:vue.normalizeClass([vue.unref(b).e("icon"),vue.unref(b).e("password")]),onClick:_n},{default:vue.withCtx(()=>[(vue.openBlock(),vue.createBlock(vue.resolveDynamicComponent(vue.unref(Ie))))]),_:1},8,["class"])):vue.createCommentVNode("v-if",!0),vue.unref(Cn)?(vue.openBlock(),vue.createElementBlock("span",{key:3,class:vue.normalizeClass(vue.unref(b).e("count"))},[vue.createElementVNode("span",{class:vue.normalizeClass(vue.unref(b).e("count-inner"))},vue.toDisplayString(vue.unref(vn))+" / "+vue.toDisplayString(vue.unref(h).maxlength),3)],2)):vue.createCommentVNode("v-if",!0),vue.unref(he)&&vue.unref(le)&&vue.unref($)?(vue.openBlock(),vue.createBlock(vue.unref(ElIcon),{key:4,class:vue.normalizeClass([vue.unref(b).e("icon"),vue.unref(b).e("validateIcon"),vue.unref(b).is("loading",vue.unref(he)==="validating")])},{default:vue.withCtx(()=>[(vue.openBlock(),vue.createBlock(vue.resolveDynamicComponent(vue.unref(le))))]),_:1},8,["class"])):vue.createCommentVNode("v-if",!0)],2)],2)):vue.createCommentVNode("v-if",!0)],2),vue.createCommentVNode(" append slot "),ze.$slots.append?(vue.openBlock(),vue.createElementBlock("div",{key:1,class:vue.normalizeClass(vue.unref(b).be("group","append"))},[vue.renderSlot(ze.$slots,"append")],2)):vue.createCommentVNode("v-if",!0)],64)):(vue.openBlock(),vue.createElementBlock(vue.Fragment,{key:1},[vue.createCommentVNode(" textarea "),vue.createElementVNode("textarea",vue.mergeProps({id:vue.unref(p),ref_key:"textarea",ref:T,class:vue.unref(A).e("inner")},vue.unref(h),{tabindex:ze.tabindex,disabled:vue.unref(_),readonly:ze.readonly,autocomplete:ze.autocomplete,style:vue.unref(pe),"aria-label":ze.label,placeholder:ze.placeholder,form:o.form,onCompositionstart:Oe,onCompositionupdate:kt,onCompositionend:jt,onInput:At,onFocus:hn[2]||(hn[2]=(...An)=>vue.unref(V)&&vue.unref(V)(...An)),onBlur:hn[3]||(hn[3]=(...An)=>vue.unref(z)&&vue.unref(z)(...An)),onChange:Ne,onKeydown:D}),null,16,_hoisted_3$4),vue.unref(Cn)?(vue.openBlock(),vue.createElementBlock("span",{key:0,style:vue.normalizeStyle(L.value),class:vue.normalizeClass(vue.unref(b).e("count"))},vue.toDisplayString(vue.unref(vn))+" / "+vue.toDisplayString(vue.unref(h).maxlength),7)):vue.createCommentVNode("v-if",!0)],64))],16,_hoisted_1$7)),[[vue.vShow,ze.type!=="hidden"]])}});var Input=_export_sfc(_sfc_main$o,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue"]]);const ElInput=withInstall(Input),GAP=4,BAR_MAP={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},renderThumbStyle=({move:r,size:n,bar:i})=>({[i.size]:n,transform:`translate${i.axis}(${r}%)`}),scrollbarContextKey=Symbol("scrollbarContextKey"),thumbProps=buildProps({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),COMPONENT_NAME$2="Thumb",_sfc_main$n=vue.defineComponent({__name:"thumb",props:thumbProps,setup(r){const n=r,i=vue.inject(scrollbarContextKey),o=useNamespace("scrollbar");i||throwError(COMPONENT_NAME$2,"can not inject scrollbar context");const a=vue.ref(),u=vue.ref(),c=vue.ref({}),f=vue.ref(!1);let d=!1,h=!1,v=isClient?document.onselectstart:null;const g=vue.computed(()=>BAR_MAP[n.vertical?"vertical":"horizontal"]),p=vue.computed(()=>renderThumbStyle({size:n.size,move:n.move,bar:g.value})),y=vue.computed(()=>a.value[g.value.offset]**2/i.wrapElement[g.value.scrollSize]/n.ratio/u.value[g.value.offset]),_=L=>{var M;if(L.stopPropagation(),L.ctrlKey||[1,2].includes(L.button))return;(M=window.getSelection())==null||M.removeAllRanges(),A(L);const re=L.currentTarget;re&&(c.value[g.value.axis]=re[g.value.offset]-(L[g.value.client]-re.getBoundingClientRect()[g.value.direction]))},b=L=>{if(!u.value||!a.value||!i.wrapElement)return;const M=Math.abs(L.target.getBoundingClientRect()[g.value.direction]-L[g.value.client]),re=u.value[g.value.offset]/2,F=(M-re)*100*y.value/a.value[g.value.offset];i.wrapElement[g.value.scroll]=F*i.wrapElement[g.value.scrollSize]/100},A=L=>{L.stopImmediatePropagation(),d=!0,document.addEventListener("mousemove",w),document.addEventListener("mouseup",T),v=document.onselectstart,document.onselectstart=()=>!1},w=L=>{if(!a.value||!u.value||d===!1)return;const M=c.value[g.value.axis];if(!M)return;const re=(a.value.getBoundingClientRect()[g.value.direction]-L[g.value.client])*-1,F=u.value[g.value.offset]-M,j=(re-F)*100*y.value/a.value[g.value.offset];i.wrapElement[g.value.scroll]=j*i.wrapElement[g.value.scrollSize]/100},T=()=>{d=!1,c.value[g.value.axis]=0,document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",T),O(),h&&(f.value=!1)},S=()=>{h=!1,f.value=!!n.size},x=()=>{h=!0,f.value=d};vue.onBeforeUnmount(()=>{O(),document.removeEventListener("mouseup",T)});const O=()=>{document.onselectstart!==v&&(document.onselectstart=v)};return useEventListener(vue.toRef(i,"scrollbarElement"),"mousemove",S),useEventListener(vue.toRef(i,"scrollbarElement"),"mouseleave",x),(L,M)=>(vue.openBlock(),vue.createBlock(vue.Transition,{name:vue.unref(o).b("fade"),persisted:""},{default:vue.withCtx(()=>[vue.withDirectives(vue.createElementVNode("div",{ref_key:"instance",ref:a,class:vue.normalizeClass([vue.unref(o).e("bar"),vue.unref(o).is(vue.unref(g).key)]),onMousedown:b},[vue.createElementVNode("div",{ref_key:"thumb",ref:u,class:vue.normalizeClass(vue.unref(o).e("thumb")),style:vue.normalizeStyle(vue.unref(p)),onMousedown:_},null,38)],34),[[vue.vShow,L.always||f.value]])]),_:1},8,["name"]))}});var Thumb=_export_sfc(_sfc_main$n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/thumb.vue"]]);const barProps=buildProps({always:{type:Boolean,default:!0},width:String,height:String,ratioX:{type:Number,default:1},ratioY:{type:Number,default:1}}),_sfc_main$m=vue.defineComponent({__name:"bar",props:barProps,setup(r,{expose:n}){const i=r,o=vue.ref(0),a=vue.ref(0);return n({handleScroll:c=>{if(c){const f=c.offsetHeight-GAP,d=c.offsetWidth-GAP;a.value=c.scrollTop*100/f*i.ratioY,o.value=c.scrollLeft*100/d*i.ratioX}}}),(c,f)=>(vue.openBlock(),vue.createElementBlock(vue.Fragment,null,[vue.createVNode(Thumb,{move:o.value,ratio:c.ratioX,size:c.width,always:c.always},null,8,["move","ratio","size","always"]),vue.createVNode(Thumb,{move:a.value,ratio:c.ratioY,size:c.height,vertical:"",always:c.always},null,8,["move","ratio","size","always"])],64))}});var Bar=_export_sfc(_sfc_main$m,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/bar.vue"]]);const scrollbarProps=buildProps({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:definePropType([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20}}),scrollbarEmits={scroll:({scrollTop:r,scrollLeft:n})=>[r,n].every(isNumber)},COMPONENT_NAME$1="ElScrollbar",__default__$8=vue.defineComponent({name:COMPONENT_NAME$1}),_sfc_main$l=vue.defineComponent({...__default__$8,props:scrollbarProps,emits:scrollbarEmits,setup(r,{expose:n,emit:i}){const o=r,a=useNamespace("scrollbar");let u,c;const f=vue.ref(),d=vue.ref(),h=vue.ref(),v=vue.ref("0"),g=vue.ref("0"),p=vue.ref(),y=vue.ref(1),_=vue.ref(1),b=vue.computed(()=>{const M={};return o.height&&(M.height=addUnit(o.height)),o.maxHeight&&(M.maxHeight=addUnit(o.maxHeight)),[o.wrapStyle,M]}),A=vue.computed(()=>[o.wrapClass,a.e("wrap"),{[a.em("wrap","hidden-default")]:!o.native}]),w=vue.computed(()=>[a.e("view"),o.viewClass]),T=()=>{var M;d.value&&((M=p.value)==null||M.handleScroll(d.value),i("scroll",{scrollTop:d.value.scrollTop,scrollLeft:d.value.scrollLeft}))};function S(M,re){isObject(M)?d.value.scrollTo(M):isNumber(M)&&isNumber(re)&&d.value.scrollTo(M,re)}const x=M=>{if(!isNumber(M)){debugWarn(COMPONENT_NAME$1,"value must be a number");return}d.value.scrollTop=M},O=M=>{if(!isNumber(M)){debugWarn(COMPONENT_NAME$1,"value must be a number");return}d.value.scrollLeft=M},L=()=>{if(!d.value)return;const M=d.value.offsetHeight-GAP,re=d.value.offsetWidth-GAP,F=M**2/d.value.scrollHeight,j=re**2/d.value.scrollWidth,V=Math.max(F,o.minSize),z=Math.max(j,o.minSize);y.value=F/(M-F)/(V/(M-V)),_.value=j/(re-j)/(z/(re-z)),g.value=V+GAP<M?`${V}px`:"",v.value=z+GAP<re?`${z}px`:""};return vue.watch(()=>o.noresize,M=>{M?(u==null||u(),c==null||c()):({stop:u}=useResizeObserver(h,L),c=useEventListener("resize",L))},{immediate:!0}),vue.watch(()=>[o.maxHeight,o.height],()=>{o.native||vue.nextTick(()=>{var M;L(),d.value&&((M=p.value)==null||M.handleScroll(d.value))})}),vue.provide(scrollbarContextKey,vue.reactive({scrollbarElement:f,wrapElement:d})),vue.onMounted(()=>{o.native||vue.nextTick(()=>{L()})}),vue.onUpdated(()=>L()),n({wrapRef:d,update:L,scrollTo:S,setScrollTop:x,setScrollLeft:O,handleScroll:T}),(M,re)=>(vue.openBlock(),vue.createElementBlock("div",{ref_key:"scrollbarRef",ref:f,class:vue.normalizeClass(vue.unref(a).b())},[vue.createElementVNode("div",{ref_key:"wrapRef",ref:d,class:vue.normalizeClass(vue.unref(A)),style:vue.normalizeStyle(vue.unref(b)),onScroll:T},[(vue.openBlock(),vue.createBlock(vue.resolveDynamicComponent(M.tag),{ref_key:"resizeRef",ref:h,class:vue.normalizeClass(vue.unref(w)),style:vue.normalizeStyle(M.viewStyle)},{default:vue.withCtx(()=>[vue.renderSlot(M.$slots,"default")]),_:3},8,["class","style"]))],38),M.native?vue.createCommentVNode("v-if",!0):(vue.openBlock(),vue.createBlock(Bar,{key:0,ref_key:"barRef",ref:p,height:g.value,width:v.value,always:M.always,"ratio-x":_.value,"ratio-y":y.value},null,8,["height","width","always","ratio-x","ratio-y"]))],2))}});var Scrollbar=_export_sfc(_sfc_main$l,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/scrollbar.vue"]]);const ElScrollbar=withInstall(Scrollbar),POPPER_INJECTION_KEY=Symbol("popper"),POPPER_CONTENT_INJECTION_KEY=Symbol("popperContent"),roleTypes=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],popperProps=buildProps({role:{type:String,values:roleTypes,default:"tooltip"}}),__default__$7=vue.defineComponent({name:"ElPopper",inheritAttrs:!1}),_sfc_main$k=vue.defineComponent({...__default__$7,props:popperProps,setup(r,{expose:n}){const i=r,o=vue.ref(),a=vue.ref(),u=vue.ref(),c=vue.ref(),f=vue.computed(()=>i.role),d={triggerRef:o,popperInstanceRef:a,contentRef:u,referenceRef:c,role:f};return n(d),vue.provide(POPPER_INJECTION_KEY,d),(h,v)=>vue.renderSlot(h.$slots,"default")}});var Popper=_export_sfc(_sfc_main$k,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/popper.vue"]]);const popperArrowProps=buildProps({arrowOffset:{type:Number,default:5}}),__default__$6=vue.defineComponent({name:"ElPopperArrow",inheritAttrs:!1}),_sfc_main$j=vue.defineComponent({...__default__$6,props:popperArrowProps,setup(r,{expose:n}){const i=r,o=useNamespace("popper"),{arrowOffset:a,arrowRef:u,arrowStyle:c}=vue.inject(POPPER_CONTENT_INJECTION_KEY,void 0);return vue.watch(()=>i.arrowOffset,f=>{a.value=f}),vue.onBeforeUnmount(()=>{u.value=void 0}),n({arrowRef:u}),(f,d)=>(vue.openBlock(),vue.createElementBlock("span",{ref_key:"arrowRef",ref:u,class:vue.normalizeClass(vue.unref(o).e("arrow")),style:vue.normalizeStyle(vue.unref(c)),"data-popper-arrow":""},null,6))}});var ElPopperArrow=_export_sfc(_sfc_main$j,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/arrow.vue"]]);const NAME="ElOnlyChild",OnlyChild=vue.defineComponent({name:NAME,setup(r,{slots:n,attrs:i}){var o;const a=vue.inject(FORWARD_REF_INJECTION_KEY),u=useForwardRefDirective((o=a==null?void 0:a.setForwardRef)!=null?o:NOOP);return()=>{var c;const f=(c=n.default)==null?void 0:c.call(n,i);if(!f)return null;if(f.length>1)return debugWarn(NAME,"requires exact only one valid child."),null;const d=findFirstLegitChild(f);return d?vue.withDirectives(vue.cloneVNode(d,i),[[u]]):(debugWarn(NAME,"no valid child node found"),null)}}});function findFirstLegitChild(r){if(!r)return null;const n=r;for(const i of n){if(isObject(i))switch(i.type){case vue.Comment:continue;case vue.Text:case"svg":return wrapTextContent(i);case vue.Fragment:return findFirstLegitChild(i.children);default:return i}return wrapTextContent(i)}return null}function wrapTextContent(r){const n=useNamespace("only-child");return vue.createVNode("span",{class:n.e("content")},[r])}const popperTriggerProps=buildProps({virtualRef:{type:definePropType(Object)},virtualTriggering:Boolean,onMouseenter:{type:definePropType(Function)},onMouseleave:{type:definePropType(Function)},onClick:{type:definePropType(Function)},onKeydown:{type:definePropType(Function)},onFocus:{type:definePropType(Function)},onBlur:{type:definePropType(Function)},onContextmenu:{type:definePropType(Function)},id:String,open:Boolean}),__default__$5=vue.defineComponent({name:"ElPopperTrigger",inheritAttrs:!1}),_sfc_main$i=vue.defineComponent({...__default__$5,props:popperTriggerProps,setup(r,{expose:n}){const i=r,{role:o,triggerRef:a}=vue.inject(POPPER_INJECTION_KEY,void 0);useForwardRef(a);const u=vue.computed(()=>f.value?i.id:void 0),c=vue.computed(()=>{if(o&&o.value==="tooltip")return i.open&&i.id?i.id:void 0}),f=vue.computed(()=>{if(o&&o.value!=="tooltip")return o.value}),d=vue.computed(()=>f.value?`${i.open}`:void 0);let h;return vue.onMounted(()=>{vue.watch(()=>i.virtualRef,v=>{v&&(a.value=unrefElement(v))},{immediate:!0}),vue.watch(a,(v,g)=>{h==null||h(),h=void 0,isElement(v)&&(["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"].forEach(p=>{var y;const _=i[p];_&&(v.addEventListener(p.slice(2).toLowerCase(),_),(y=g==null?void 0:g.removeEventListener)==null||y.call(g,p.slice(2).toLowerCase(),_))}),h=vue.watch([u,c,f,d],p=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((y,_)=>{lodashEs.isNil(p[_])?v.removeAttribute(y):v.setAttribute(y,p[_])})},{immediate:!0})),isElement(g)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(p=>g.removeAttribute(p))},{immediate:!0})}),vue.onBeforeUnmount(()=>{h==null||h(),h=void 0}),n({triggerRef:a}),(v,g)=>v.virtualTriggering?vue.createCommentVNode("v-if",!0):(vue.openBlock(),vue.createBlock(vue.unref(OnlyChild),vue.mergeProps({key:0},v.$attrs,{"aria-controls":vue.unref(u),"aria-describedby":vue.unref(c),"aria-expanded":vue.unref(d),"aria-haspopup":vue.unref(f)}),{default:vue.withCtx(()=>[vue.renderSlot(v.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var ElPopperTrigger=_export_sfc(_sfc_main$i,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/trigger.vue"]]);const FOCUS_AFTER_TRAPPED="focus-trap.focus-after-trapped",FOCUS_AFTER_RELEASED="focus-trap.focus-after-released",FOCUSOUT_PREVENTED="focus-trap.focusout-prevented",FOCUS_AFTER_TRAPPED_OPTS={cancelable:!0,bubbles:!1},FOCUSOUT_PREVENTED_OPTS={cancelable:!0,bubbles:!1},ON_TRAP_FOCUS_EVT="focusAfterTrapped",ON_RELEASE_FOCUS_EVT="focusAfterReleased",FOCUS_TRAP_INJECTION_KEY=Symbol("elFocusTrap"),focusReason=vue.ref(),lastUserFocusTimestamp=vue.ref(0),lastAutomatedFocusTimestamp=vue.ref(0);let focusReasonUserCount=0;const obtainAllFocusableElements=r=>{const n=[],i=document.createTreeWalker(r,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const a=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||a?NodeFilter.FILTER_SKIP:o.tabIndex>=0||o===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;i.nextNode();)n.push(i.currentNode);return n},getVisibleElement=(r,n)=>{for(const i of r)if(!isHidden(i,n))return i},isHidden=(r,n)=>{if(process.env.NODE_ENV==="test")return!1;if(getComputedStyle(r).visibility==="hidden")return!0;for(;r;){if(n&&r===n)return!1;if(getComputedStyle(r).display==="none")return!0;r=r.parentElement}return!1},getEdges=r=>{const n=obtainAllFocusableElements(r),i=getVisibleElement(n,r),o=getVisibleElement(n.reverse(),r);return[i,o]},isSelectable=r=>r instanceof HTMLInputElement&&"select"in r,tryFocus=(r,n)=>{if(r&&r.focus){const i=document.activeElement;r.focus({preventScroll:!0}),lastAutomatedFocusTimestamp.value=window.performance.now(),r!==i&&isSelectable(r)&&n&&r.select()}};function removeFromStack(r,n){const i=[...r],o=r.indexOf(n);return o!==-1&&i.splice(o,1),i}const createFocusableStack=()=>{let r=[];return{push:o=>{const a=r[0];a&&o!==a&&a.pause(),r=removeFromStack(r,o),r.unshift(o)},remove:o=>{var a,u;r=removeFromStack(r,o),(u=(a=r[0])==null?void 0:a.resume)==null||u.call(a)}}},focusFirstDescendant=(r,n=!1)=>{const i=document.activeElement;for(const o of r)if(tryFocus(o,n),document.activeElement!==i)return},focusableStack=createFocusableStack(),isFocusCausedByUserEvent=()=>lastUserFocusTimestamp.value>lastAutomatedFocusTimestamp.value,notifyFocusReasonPointer=()=>{focusReason.value="pointer",lastUserFocusTimestamp.value=window.performance.now()},notifyFocusReasonKeydown=()=>{focusReason.value="keyboard",lastUserFocusTimestamp.value=window.performance.now()},useFocusReason=()=>(vue.onMounted(()=>{focusReasonUserCount===0&&(document.addEventListener("mousedown",notifyFocusReasonPointer),document.addEventListener("touchstart",notifyFocusReasonPointer),document.addEventListener("keydown",notifyFocusReasonKeydown)),focusReasonUserCount++}),vue.onBeforeUnmount(()=>{focusReasonUserCount--,focusReasonUserCount<=0&&(document.removeEventListener("mousedown",notifyFocusReasonPointer),document.removeEventListener("touchstart",notifyFocusReasonPointer),document.removeEventListener("keydown",notifyFocusReasonKeydown))}),{focusReason,lastUserFocusTimestamp,lastAutomatedFocusTimestamp}),createFocusOutPreventedEvent=r=>new CustomEvent(FOCUSOUT_PREVENTED,{...FOCUSOUT_PREVENTED_OPTS,detail:r}),_sfc_main$h=vue.defineComponent({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[ON_TRAP_FOCUS_EVT,ON_RELEASE_FOCUS_EVT,"focusin","focusout","focusout-prevented","release-requested"],setup(r,{emit:n}){const i=vue.ref();let o,a;const{focusReason:u}=useFocusReason();useEscapeKeydown(_=>{r.trapped&&!c.paused&&n("release-requested",_)});const c={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},f=_=>{if(!r.loop&&!r.trapped||c.paused)return;const{key:b,altKey:A,ctrlKey:w,metaKey:T,currentTarget:S,shiftKey:x}=_,{loop:O}=r,L=b===EVENT_CODE.tab&&!A&&!w&&!T,M=document.activeElement;if(L&&M){const re=S,[F,j]=getEdges(re);if(F&&j){if(!x&&M===j){const z=createFocusOutPreventedEvent({focusReason:u.value});n("focusout-prevented",z),z.defaultPrevented||(_.preventDefault(),O&&tryFocus(F,!0))}else if(x&&[F,re].includes(M)){const z=createFocusOutPreventedEvent({focusReason:u.value});n("focusout-prevented",z),z.defaultPrevented||(_.preventDefault(),O&&tryFocus(j,!0))}}else if(M===re){const z=createFocusOutPreventedEvent({focusReason:u.value});n("focusout-prevented",z),z.defaultPrevented||_.preventDefault()}}};vue.provide(FOCUS_TRAP_INJECTION_KEY,{focusTrapRef:i,onKeydown:f}),vue.watch(()=>r.focusTrapEl,_=>{_&&(i.value=_)},{immediate:!0}),vue.watch([i],([_],[b])=>{_&&(_.addEventListener("keydown",f),_.addEventListener("focusin",v),_.addEventListener("focusout",g)),b&&(b.removeEventListener("keydown",f),b.removeEventListener("focusin",v),b.removeEventListener("focusout",g))});const d=_=>{n(ON_TRAP_FOCUS_EVT,_)},h=_=>n(ON_RELEASE_FOCUS_EVT,_),v=_=>{const b=vue.unref(i);if(!b)return;const A=_.target,w=_.relatedTarget,T=A&&b.contains(A);r.trapped||w&&b.contains(w)||(o=w),T&&n("focusin",_),!c.paused&&r.trapped&&(T?a=A:tryFocus(a,!0))},g=_=>{const b=vue.unref(i);if(!(c.paused||!b))if(r.trapped){const A=_.relatedTarget;!lodashEs.isNil(A)&&!b.contains(A)&&setTimeout(()=>{if(!c.paused&&r.trapped){const w=createFocusOutPreventedEvent({focusReason:u.value});n("focusout-prevented",w),w.defaultPrevented||tryFocus(a,!0)}},0)}else{const A=_.target;A&&b.contains(A)||n("focusout",_)}};async function p(){await vue.nextTick();const _=vue.unref(i);if(_){focusableStack.push(c);const b=_.contains(document.activeElement)?o:document.activeElement;if(o=b,!_.contains(b)){const w=new Event(FOCUS_AFTER_TRAPPED,FOCUS_AFTER_TRAPPED_OPTS);_.addEventListener(FOCUS_AFTER_TRAPPED,d),_.dispatchEvent(w),w.defaultPrevented||vue.nextTick(()=>{let T=r.focusStartEl;isString(T)||(tryFocus(T),document.activeElement!==T&&(T="first")),T==="first"&&focusFirstDescendant(obtainAllFocusableElements(_),!0),(document.activeElement===b||T==="container")&&tryFocus(_)})}}}function y(){const _=vue.unref(i);if(_){_.removeEventListener(FOCUS_AFTER_TRAPPED,d);const b=new CustomEvent(FOCUS_AFTER_RELEASED,{...FOCUS_AFTER_TRAPPED_OPTS,detail:{focusReason:u.value}});_.addEventListener(FOCUS_AFTER_RELEASED,h),_.dispatchEvent(b),!b.defaultPrevented&&(u.value=="keyboard"||!isFocusCausedByUserEvent()||_.contains(document.activeElement))&&tryFocus(o??document.body),_.removeEventListener(FOCUS_AFTER_RELEASED,d),focusableStack.remove(c)}}return vue.onMounted(()=>{r.trapped&&p(),vue.watch(()=>r.trapped,_=>{_?p():y()})}),vue.onBeforeUnmount(()=>{r.trapped&&y()}),{onKeydown:f}}});function _sfc_render$4(r,n,i,o,a,u){return vue.renderSlot(r.$slots,"default",{handleKeydown:r.onKeydown})}var ElFocusTrap=_export_sfc(_sfc_main$h,[["render",_sfc_render$4],["__file","/home/runner/work/element-plus/element-plus/packages/components/focus-trap/src/focus-trap.vue"]]);const POSITIONING_STRATEGIES=["fixed","absolute"],popperCoreConfigProps=buildProps({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:definePropType(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:Ee,default:"bottom"},popperOptions:{type:definePropType(Object),default:()=>({})},strategy:{type:String,values:POSITIONING_STRATEGIES,default:"absolute"}}),popperContentProps=buildProps({...popperCoreConfigProps,id:String,style:{type:definePropType([String,Array,Object])},className:{type:definePropType([String,Array,Object])},effect:{type:String,default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:definePropType([String,Array,Object])},popperStyle:{type:definePropType([String,Array,Object])},referenceEl:{type:definePropType(Object)},triggerTargetEl:{type:definePropType(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},ariaLabel:{type:String,default:void 0},virtualTriggering:Boolean,zIndex:Number}),popperContentEmits={mouseenter:r=>r instanceof MouseEvent,mouseleave:r=>r instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},buildPopperOptions=(r,n=[])=>{const{placement:i,strategy:o,popperOptions:a}=r,u={placement:i,strategy:o,...a,modifiers:[...genModifiers(r),...n]};return deriveExtraModifiers(u,a==null?void 0:a.modifiers),u},unwrapMeasurableEl=r=>{if(isClient)return unrefElement(r)};function genModifiers(r){const{offset:n,gpuAcceleration:i,fallbackPlacements:o}=r;return[{name:"offset",options:{offset:[0,n??12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:o}},{name:"computeStyles",options:{gpuAcceleration:i}}]}function deriveExtraModifiers(r,n){n&&(r.modifiers=[...r.modifiers,...n??[]])}const DEFAULT_ARROW_OFFSET=0,usePopperContent=r=>{const{popperInstanceRef:n,contentRef:i,triggerRef:o,role:a}=vue.inject(POPPER_INJECTION_KEY,void 0),u=vue.ref(),c=vue.ref(),f=vue.computed(()=>({name:"eventListeners",enabled:!!r.visible})),d=vue.computed(()=>{var w;const T=vue.unref(u),S=(w=vue.unref(c))!=null?w:DEFAULT_ARROW_OFFSET;return{name:"arrow",enabled:!lodashEs.isUndefined(T),options:{element:T,padding:S}}}),h=vue.computed(()=>({onFirstUpdate:()=>{_()},...buildPopperOptions(r,[vue.unref(d),vue.unref(f)])})),v=vue.computed(()=>unwrapMeasurableEl(r.referenceEl)||vue.unref(o)),{attributes:g,state:p,styles:y,update:_,forceUpdate:b,instanceRef:A}=usePopper(v,i,h);return vue.watch(A,w=>n.value=w),vue.onMounted(()=>{vue.watch(()=>{var w;return(w=vue.unref(v))==null?void 0:w.getBoundingClientRect()},()=>{_()})}),{attributes:g,arrowRef:u,contentRef:i,instanceRef:A,state:p,styles:y,role:a,forceUpdate:b,update:_}},usePopperContentDOM=(r,{attributes:n,styles:i,role:o})=>{const{nextZIndex:a}=useZIndex(),u=useNamespace("popper"),c=vue.computed(()=>vue.unref(n).popper),f=vue.ref(r.zIndex||a()),d=vue.computed(()=>[u.b(),u.is("pure",r.pure),u.is(r.effect),r.popperClass]),h=vue.computed(()=>[{zIndex:vue.unref(f)},vue.unref(i).popper,r.popperStyle||{}]),v=vue.computed(()=>o.value==="dialog"?"false":void 0),g=vue.computed(()=>vue.unref(i).arrow||{});return{ariaModal:v,arrowStyle:g,contentAttrs:c,contentClass:d,contentStyle:h,contentZIndex:f,updateZIndex:()=>{f.value=r.zIndex||a()}}},usePopperContentFocusTrap=(r,n)=>{const i=vue.ref(!1),o=vue.ref();return{focusStartRef:o,trapped:i,onFocusAfterReleased:h=>{var v;((v=h.detail)==null?void 0:v.focusReason)!=="pointer"&&(o.value="first",n("blur"))},onFocusAfterTrapped:()=>{n("focus")},onFocusInTrap:h=>{r.visible&&!i.value&&(h.target&&(o.value=h.target),i.value=!0)},onFocusoutPrevented:h=>{r.trapping||(h.detail.focusReason==="pointer"&&h.preventDefault(),i.value=!1)},onReleaseRequested:()=>{i.value=!1,n("close")}}},__default__$4=vue.defineComponent({name:"ElPopperContent"}),_sfc_main$g=vue.defineComponent({...__default__$4,props:popperContentProps,emits:popperContentEmits,setup(r,{expose:n,emit:i}){const o=r,{focusStartRef:a,trapped:u,onFocusAfterReleased:c,onFocusAfterTrapped:f,onFocusInTrap:d,onFocusoutPrevented:h,onReleaseRequested:v}=usePopperContentFocusTrap(o,i),{attributes:g,arrowRef:p,contentRef:y,styles:_,instanceRef:b,role:A,update:w}=usePopperContent(o),{ariaModal:T,arrowStyle:S,contentAttrs:x,contentClass:O,contentStyle:L,updateZIndex:M}=usePopperContentDOM(o,{styles:_,attributes:g,role:A}),re=vue.inject(formItemContextKey,void 0),F=vue.ref();vue.provide(POPPER_CONTENT_INJECTION_KEY,{arrowStyle:S,arrowRef:p,arrowOffset:F}),re&&(re.addInputId||re.removeInputId)&&vue.provide(formItemContextKey,{...re,addInputId:NOOP,removeInputId:NOOP});let j;const V=($=!0)=>{w(),$&&M()},z=()=>{V(!1),o.visible&&o.focusOnShow?u.value=!0:o.visible===!1&&(u.value=!1)};return vue.onMounted(()=>{vue.watch(()=>o.triggerTargetEl,($,he)=>{j==null||j(),j=void 0;const le=vue.unref($||y.value),Ie=vue.unref(he||y.value);isElement(le)&&(j=vue.watch([A,()=>o.ariaLabel,T,()=>o.id],Fe=>{["role","aria-label","aria-modal","id"].forEach((pe,Lt)=>{lodashEs.isNil(Fe[Lt])?le.removeAttribute(pe):le.setAttribute(pe,Fe[Lt])})},{immediate:!0})),Ie!==le&&isElement(Ie)&&["role","aria-label","aria-modal","id"].forEach(Fe=>{Ie.removeAttribute(Fe)})},{immediate:!0}),vue.watch(()=>o.visible,z,{immediate:!0})}),vue.onBeforeUnmount(()=>{j==null||j(),j=void 0}),n({popperContentRef:y,popperInstanceRef:b,updatePopper:V,contentStyle:L}),($,he)=>(vue.openBlock(),vue.createElementBlock("div",vue.mergeProps({ref_key:"contentRef",ref:y},vue.unref(x),{style:vue.unref(L),class:vue.unref(O),tabindex:"-1",onMouseenter:he[0]||(he[0]=le=>$.$emit("mouseenter",le)),onMouseleave:he[1]||(he[1]=le=>$.$emit("mouseleave",le))}),[vue.createVNode(vue.unref(ElFocusTrap),{trapped:vue.unref(u),"trap-on-focus-in":!0,"focus-trap-el":vue.unref(y),"focus-start-el":vue.unref(a),onFocusAfterTrapped:vue.unref(f),onFocusAfterReleased:vue.unref(c),onFocusin:vue.unref(d),onFocusoutPrevented:vue.unref(h),onReleaseRequested:vue.unref(v)},{default:vue.withCtx(()=>[vue.renderSlot($.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16))}});var ElPopperContent=_export_sfc(_sfc_main$g,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/content.vue"]]);const ElPopper=withInstall(Popper),TOOLTIP_INJECTION_KEY=Symbol("elTooltip"),useTooltipContentProps=buildProps({...useDelayedToggleProps,...popperContentProps,appendTo:{type:definePropType([String,Object])},content:{type:String,default:""},rawContent:{type:Boolean,default:!1},persistent:Boolean,ariaLabel:String,visible:{type:definePropType(Boolean),default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean}),useTooltipTriggerProps=buildProps({...popperTriggerProps,disabled:Boolean,trigger:{type:definePropType([String,Array]),default:"hover"},triggerKeys:{type:definePropType(Array),default:()=>[EVENT_CODE.enter,EVENT_CODE.space]}}),{useModelToggleProps:useTooltipModelToggleProps,useModelToggleEmits:useTooltipModelToggleEmits,useModelToggle:useTooltipModelToggle}=createModelToggleComposable("visible"),useTooltipProps=buildProps({...popperProps,...useTooltipModelToggleProps,...useTooltipContentProps,...useTooltipTriggerProps,...popperArrowProps,showArrow:{type:Boolean,default:!0}}),tooltipEmits=[...useTooltipModelToggleEmits,"before-show","before-hide","show","hide","open","close"],isTriggerType=(r,n)=>isArray(r)?r.includes(n):r===n,whenTrigger=(r,n,i)=>o=>{isTriggerType(vue.unref(r),n)&&i(o)},__default__$3=vue.defineComponent({name:"ElTooltipTrigger"}),_sfc_main$f=vue.defineComponent({...__default__$3,props:useTooltipTriggerProps,setup(r,{expose:n}){const i=r,o=useNamespace("tooltip"),{controlled:a,id:u,open:c,onOpen:f,onClose:d,onToggle:h}=vue.inject(TOOLTIP_INJECTION_KEY,void 0),v=vue.ref(null),g=()=>{if(vue.unref(a)||i.disabled)return!0},p=vue.toRef(i,"trigger"),y=composeEventHandlers(g,whenTrigger(p,"hover",f)),_=composeEventHandlers(g,whenTrigger(p,"hover",d)),b=composeEventHandlers(g,whenTrigger(p,"click",x=>{x.button===0&&h(x)})),A=composeEventHandlers(g,whenTrigger(p,"focus",f)),w=composeEventHandlers(g,whenTrigger(p,"focus",d)),T=composeEventHandlers(g,whenTrigger(p,"contextmenu",x=>{x.preventDefault(),h(x)})),S=composeEventHandlers(g,x=>{const{code:O}=x;i.triggerKeys.includes(O)&&(x.preventDefault(),h(x))});return n({triggerRef:v}),(x,O)=>(vue.openBlock(),vue.createBlock(vue.unref(ElPopperTrigger),{id:vue.unref(u),"virtual-ref":x.virtualRef,open:vue.unref(c),"virtual-triggering":x.virtualTriggering,class:vue.normalizeClass(vue.unref(o).e("trigger")),onBlur:vue.unref(w),onClick:vue.unref(b),onContextmenu:vue.unref(T),onFocus:vue.unref(A),onMouseenter:vue.unref(y),onMouseleave:vue.unref(_),onKeydown:vue.unref(S)},{default:vue.withCtx(()=>[vue.renderSlot(x.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var ElTooltipTrigger=_export_sfc(_sfc_main$f,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/trigger.vue"]]);const __default__$2=vue.defineComponent({name:"ElTooltipContent",inheritAttrs:!1}),_sfc_main$e=vue.defineComponent({...__default__$2,props:useTooltipContentProps,setup(r,{expose:n}){const i=r,{selector:o}=usePopperContainerId(),a=useNamespace("tooltip"),u=vue.ref(null),c=vue.ref(!1),{controlled:f,id:d,open:h,trigger:v,onClose:g,onOpen:p,onShow:y,onHide:_,onBeforeShow:b,onBeforeHide:A}=vue.inject(TOOLTIP_INJECTION_KEY,void 0),w=vue.computed(()=>i.transition||`${a.namespace.value}-fade-in-linear`),T=vue.computed(()=>process.env.NODE_ENV==="test"?!0:i.persistent);vue.onBeforeUnmount(()=>{c.value=!0});const S=vue.computed(()=>vue.unref(T)?!0:vue.unref(h)),x=vue.computed(()=>i.disabled?!1:vue.unref(h)),O=vue.computed(()=>i.appendTo||o.value),L=vue.computed(()=>{var Fe;return(Fe=i.style)!=null?Fe:{}}),M=vue.computed(()=>!vue.unref(h)),re=()=>{_()},F=()=>{if(vue.unref(f))return!0},j=composeEventHandlers(F,()=>{i.enterable&&vue.unref(v)==="hover"&&p()}),V=composeEventHandlers(F,()=>{vue.unref(v)==="hover"&&g()}),z=()=>{var Fe,pe;(pe=(Fe=u.value)==null?void 0:Fe.updatePopper)==null||pe.call(Fe),b==null||b()},$=()=>{A==null||A()},he=()=>{y(),Ie=onClickOutside(vue.computed(()=>{var Fe;return(Fe=u.value)==null?void 0:Fe.popperContentRef}),()=>{if(vue.unref(f))return;vue.unref(v)!=="hover"&&g()})},le=()=>{i.virtualTriggering||g()};let Ie;return vue.watch(()=>vue.unref(h),Fe=>{Fe||Ie==null||Ie()},{flush:"post"}),vue.watch(()=>i.content,()=>{var Fe,pe;(pe=(Fe=u.value)==null?void 0:Fe.updatePopper)==null||pe.call(Fe)}),n({contentRef:u}),(Fe,pe)=>(vue.openBlock(),vue.createBlock(vue.Teleport,{disabled:!Fe.teleported,to:vue.unref(O)},[vue.createVNode(vue.Transition,{name:vue.unref(w),onAfterLeave:re,onBeforeEnter:z,onAfterEnter:he,onBeforeLeave:$},{default:vue.withCtx(()=>[vue.unref(S)?vue.withDirectives((vue.openBlock(),vue.createBlock(vue.unref(ElPopperContent),vue.mergeProps({key:0,id:vue.unref(d),ref_key:"contentRef",ref:u},Fe.$attrs,{"aria-label":Fe.ariaLabel,"aria-hidden":vue.unref(M),"boundaries-padding":Fe.boundariesPadding,"fallback-placements":Fe.fallbackPlacements,"gpu-acceleration":Fe.gpuAcceleration,offset:Fe.offset,placement:Fe.placement,"popper-options":Fe.popperOptions,strategy:Fe.strategy,effect:Fe.effect,enterable:Fe.enterable,pure:Fe.pure,"popper-class":Fe.popperClass,"popper-style":[Fe.popperStyle,vue.unref(L)],"reference-el":Fe.referenceEl,"trigger-target-el":Fe.triggerTargetEl,visible:vue.unref(x),"z-index":Fe.zIndex,onMouseenter:vue.unref(j),onMouseleave:vue.unref(V),onBlur:le,onClose:vue.unref(g)}),{default:vue.withCtx(()=>[c.value?vue.createCommentVNode("v-if",!0):vue.renderSlot(Fe.$slots,"default",{key:0})]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[vue.vShow,vue.unref(x)]]):vue.createCommentVNode("v-if",!0)]),_:3},8,["name"])],8,["disabled","to"]))}});var ElTooltipContent=_export_sfc(_sfc_main$e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/content.vue"]]);const _hoisted_1$6=["innerHTML"],_hoisted_2$4={key:1},__default__$1=vue.defineComponent({name:"ElTooltip"}),_sfc_main$d=vue.defineComponent({...__default__$1,props:useTooltipProps,emits:tooltipEmits,setup(r,{expose:n,emit:i}){const o=r;usePopperContainer();const a=useId(),u=vue.ref(),c=vue.ref(),f=()=>{var w;const T=vue.unref(u);T&&((w=T.popperInstanceRef)==null||w.update())},d=vue.ref(!1),h=vue.ref(),{show:v,hide:g,hasUpdateHandler:p}=useTooltipModelToggle({indicator:d,toggleReason:h}),{onOpen:y,onClose:_}=useDelayedToggle({showAfter:vue.toRef(o,"showAfter"),hideAfter:vue.toRef(o,"hideAfter"),autoClose:vue.toRef(o,"autoClose"),open:v,close:g}),b=vue.computed(()=>isBoolean(o.visible)&&!p.value);vue.provide(TOOLTIP_INJECTION_KEY,{controlled:b,id:a,open:vue.readonly(d),trigger:vue.toRef(o,"trigger"),onOpen:w=>{y(w)},onClose:w=>{_(w)},onToggle:w=>{vue.unref(d)?_(w):y(w)},onShow:()=>{i("show",h.value)},onHide:()=>{i("hide",h.value)},onBeforeShow:()=>{i("before-show",h.value)},onBeforeHide:()=>{i("before-hide",h.value)},updatePopper:f}),vue.watch(()=>o.disabled,w=>{w&&d.value&&(d.value=!1)});const A=()=>{var w,T;const S=(T=(w=c.value)==null?void 0:w.contentRef)==null?void 0:T.popperContentRef;return S&&S.contains(document.activeElement)};return vue.onDeactivated(()=>d.value&&g()),n({popperRef:u,contentRef:c,isFocusInsideContent:A,updatePopper:f,onOpen:y,onClose:_,hide:g}),(w,T)=>(vue.openBlock(),vue.createBlock(vue.unref(ElPopper),{ref_key:"popperRef",ref:u,role:w.role},{default:vue.withCtx(()=>[vue.createVNode(ElTooltipTrigger,{disabled:w.disabled,trigger:w.trigger,"trigger-keys":w.triggerKeys,"virtual-ref":w.virtualRef,"virtual-triggering":w.virtualTriggering},{default:vue.withCtx(()=>[w.$slots.default?vue.renderSlot(w.$slots,"default",{key:0}):vue.createCommentVNode("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),vue.createVNode(ElTooltipContent,{ref_key:"contentRef",ref:c,"aria-label":w.ariaLabel,"boundaries-padding":w.boundariesPadding,content:w.content,disabled:w.disabled,effect:w.effect,enterable:w.enterable,"fallback-placements":w.fallbackPlacements,"hide-after":w.hideAfter,"gpu-acceleration":w.gpuAcceleration,offset:w.offset,persistent:w.persistent,"popper-class":w.popperClass,"popper-style":w.popperStyle,placement:w.placement,"popper-options":w.popperOptions,pure:w.pure,"raw-content":w.rawContent,"reference-el":w.referenceEl,"trigger-target-el":w.triggerTargetEl,"show-after":w.showAfter,strategy:w.strategy,teleported:w.teleported,transition:w.transition,"virtual-triggering":w.virtualTriggering,"z-index":w.zIndex,"append-to":w.appendTo},{default:vue.withCtx(()=>[vue.renderSlot(w.$slots,"content",{},()=>[w.rawContent?(vue.openBlock(),vue.createElementBlock("span",{key:0,innerHTML:w.content},null,8,_hoisted_1$6)):(vue.openBlock(),vue.createElementBlock("span",_hoisted_2$4,vue.toDisplayString(w.content),1))]),w.showArrow?(vue.openBlock(),vue.createBlock(vue.unref(ElPopperArrow),{key:0,"arrow-offset":w.arrowOffset},null,8,["arrow-offset"])):vue.createCommentVNode("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"]))}});var Tooltip=_export_sfc(_sfc_main$d,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/tooltip.vue"]]);const ElTooltip=withInstall(Tooltip);var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};const nodeList=new Map;let startClick;isClient&&(document.addEventListener("mousedown",r=>startClick=r),document.addEventListener("mouseup",r=>{for(const n of nodeList.values())for(const{documentHandler:i}of n)i(r,startClick)}));function createDocumentHandler(r,n){let i=[];return Array.isArray(n.arg)?i=n.arg:isElement(n.arg)&&i.push(n.arg),function(o,a){const u=n.instance.popperRef,c=o.target,f=a==null?void 0:a.target,d=!n||!n.instance,h=!c||!f,v=r.contains(c)||r.contains(f),g=r===c,p=i.length&&i.some(_=>_==null?void 0:_.contains(c))||i.length&&i.includes(f),y=u&&(u.contains(c)||u.contains(f));d||h||v||g||p||y||n.value(o,a)}}const ClickOutside={beforeMount(r,n){nodeList.has(r)||nodeList.set(r,[]),nodeList.get(r).push({documentHandler:createDocumentHandler(r,n),bindingFn:n.value})},updated(r,n){nodeList.has(r)||nodeList.set(r,[]);const i=nodeList.get(r),o=i.findIndex(u=>u.bindingFn===n.oldValue),a={documentHandler:createDocumentHandler(r,n),bindingFn:n.value};o>=0?i.splice(o,1,a):i.push(a)},unmounted(r){nodeList.delete(r)}},tagProps=buildProps({type:{type:String,values:["success","info","warning","danger",""],default:""},closable:Boolean,disableTransitions:Boolean,hit:Boolean,color:{type:String,default:""},size:{type:String,values:componentSizes,default:""},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),tagEmits={close:r=>r instanceof MouseEvent,click:r=>r instanceof MouseEvent},__default__=vue.defineComponent({name:"ElTag"}),_sfc_main$c=vue.defineComponent({...__default__,props:tagProps,emits:tagEmits,setup(r,{emit:n}){const i=r,o=useFormSize(),a=useNamespace("tag"),u=vue.computed(()=>{const{type:d,hit:h,effect:v,closable:g,round:p}=i;return[a.b(),a.is("closable",g),a.m(d),a.m(o.value),a.m(v),a.is("hit",h),a.is("round",p)]}),c=d=>{n("close",d)},f=d=>{n("click",d)};return(d,h)=>d.disableTransitions?(vue.openBlock(),vue.createElementBlock("span",{key:0,class:vue.normalizeClass(vue.unref(u)),style:vue.normalizeStyle({backgroundColor:d.color}),onClick:f},[vue.createElementVNode("span",{class:vue.normalizeClass(vue.unref(a).e("content"))},[vue.renderSlot(d.$slots,"default")],2),d.closable?(vue.openBlock(),vue.createBlock(vue.unref(ElIcon),{key:0,class:vue.normalizeClass(vue.unref(a).e("close")),onClick:vue.withModifiers(c,["stop"])},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(close_default))]),_:1},8,["class","onClick"])):vue.createCommentVNode("v-if",!0)],6)):(vue.openBlock(),vue.createBlock(vue.Transition,{key:1,name:`${vue.unref(a).namespace.value}-zoom-in-center`,appear:""},{default:vue.withCtx(()=>[vue.createElementVNode("span",{class:vue.normalizeClass(vue.unref(u)),style:vue.normalizeStyle({backgroundColor:d.color}),onClick:f},[vue.createElementVNode("span",{class:vue.normalizeClass(vue.unref(a).e("content"))},[vue.renderSlot(d.$slots,"default")],2),d.closable?(vue.openBlock(),vue.createBlock(vue.unref(ElIcon),{key:0,class:vue.normalizeClass(vue.unref(a).e("close")),onClick:vue.withModifiers(c,["stop"])},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(close_default))]),_:1},8,["class","onClick"])):vue.createCommentVNode("v-if",!0)],6)]),_:3},8,["name"]))}});var Tag=_export_sfc(_sfc_main$c,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tag/src/tag.vue"]]);const ElTag=withInstall(Tag),selectGroupKey=Symbol("ElSelectGroup"),selectKey=Symbol("ElSelect");function useOption(r,n){const i=vue.inject(selectKey),o=vue.inject(selectGroupKey,{disabled:!1}),a=vue.computed(()=>Object.prototype.toString.call(r.value).toLowerCase()==="[object object]"),u=vue.computed(()=>i.props.multiple?g(i.props.modelValue,r.value):p(r.value,i.props.modelValue)),c=vue.computed(()=>{if(i.props.multiple){const b=i.props.modelValue||[];return!u.value&&b.length>=i.props.multipleLimit&&i.props.multipleLimit>0}else return!1}),f=vue.computed(()=>r.label||(a.value?"":r.value)),d=vue.computed(()=>r.value||r.label||""),h=vue.computed(()=>r.disabled||n.groupDisabled||c.value),v=vue.getCurrentInstance(),g=(b=[],A)=>{if(a.value){const w=i.props.valueKey;return b&&b.some(T=>vue.toRaw(lodashEs.get(T,w))===lodashEs.get(A,w))}else return b&&b.includes(A)},p=(b,A)=>{if(a.value){const{valueKey:w}=i.props;return lodashEs.get(b,w)===lodashEs.get(A,w)}else return b===A},y=()=>{!r.disabled&&!o.disabled&&(i.hoverIndex=i.optionsArray.indexOf(v.proxy))};vue.watch(()=>f.value,()=>{!r.created&&!i.props.remote&&i.setSelected()}),vue.watch(()=>r.value,(b,A)=>{const{remote:w,valueKey:T}=i.props;if(Object.is(b,A)||(i.onOptionDestroy(A,v.proxy),i.onOptionCreate(v.proxy)),!r.created&&!w){if(T&&typeof b=="object"&&typeof A=="object"&&b[T]===A[T])return;i.setSelected()}}),vue.watch(()=>o.disabled,()=>{n.groupDisabled=o.disabled},{immediate:!0});const{queryChange:_}=vue.toRaw(i);return vue.watch(_,b=>{const{query:A}=vue.unref(b),w=new RegExp(escapeStringRegexp(A),"i");n.visible=w.test(f.value)||r.created,n.visible||i.filteredOptionsCount--},{immediate:!0}),{select:i,currentLabel:f,currentValue:d,itemSelected:u,isDisabled:h,hoverItem:y}}const _sfc_main$b=vue.defineComponent({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:{type:Boolean,default:!1}},setup(r){const n=useNamespace("select"),i=vue.computed(()=>[n.be("dropdown","item"),n.is("disabled",vue.unref(c)),{selected:vue.unref(u),hover:vue.unref(v)}]),o=vue.reactive({index:-1,groupDisabled:!1,visible:!0,hitState:!1,hover:!1}),{currentLabel:a,itemSelected:u,isDisabled:c,select:f,hoverItem:d}=useOption(r,o),{visible:h,hover:v}=vue.toRefs(o),g=vue.getCurrentInstance().proxy;f.onOptionCreate(g),vue.onBeforeUnmount(()=>{const y=g.value,{selected:_}=f,A=(f.props.multiple?_:[_]).some(w=>w.value===g.value);vue.nextTick(()=>{f.cachedOptions.get(y)===g&&!A&&f.cachedOptions.delete(y)}),f.onOptionDestroy(y,g)});function p(){r.disabled!==!0&&o.groupDisabled!==!0&&f.handleOptionSelect(g)}return{ns:n,containerKls:i,currentLabel:a,itemSelected:u,isDisabled:c,select:f,hoverItem:d,visible:h,hover:v,selectOptionClick:p,states:o}}});function _sfc_render$3(r,n,i,o,a,u){return vue.withDirectives((vue.openBlock(),vue.createElementBlock("li",{class:vue.normalizeClass(r.containerKls),onMouseenter:n[0]||(n[0]=(...c)=>r.hoverItem&&r.hoverItem(...c)),onClick:n[1]||(n[1]=vue.withModifiers((...c)=>r.selectOptionClick&&r.selectOptionClick(...c),["stop"]))},[vue.renderSlot(r.$slots,"default",{},()=>[vue.createElementVNode("span",null,vue.toDisplayString(r.currentLabel),1)])],34)),[[vue.vShow,r.visible]])}var Option=_export_sfc(_sfc_main$b,[["render",_sfc_render$3],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option.vue"]]);const _sfc_main$a=vue.defineComponent({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const r=vue.inject(selectKey),n=useNamespace("select"),i=vue.computed(()=>r.props.popperClass),o=vue.computed(()=>r.props.multiple),a=vue.computed(()=>r.props.fitInputWidth),u=vue.ref("");function c(){var f;u.value=`${(f=r.selectWrapper)==null?void 0:f.offsetWidth}px`}return vue.onMounted(()=>{c(),useResizeObserver(r.selectWrapper,c)}),{ns:n,minWidth:u,popperClass:i,isMultiple:o,isFitInputWidth:a}}});function _sfc_render$2(r,n,i,o,a,u){return vue.openBlock(),vue.createElementBlock("div",{class:vue.normalizeClass([r.ns.b("dropdown"),r.ns.is("multiple",r.isMultiple),r.popperClass]),style:vue.normalizeStyle({[r.isFitInputWidth?"width":"minWidth"]:r.minWidth})},[vue.renderSlot(r.$slots,"default")],6)}var ElSelectMenu=_export_sfc(_sfc_main$a,[["render",_sfc_render$2],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select-dropdown.vue"]]);function useSelectStates(r){const{t:n}=useLocale();return vue.reactive({options:new Map,cachedOptions:new Map,createdLabel:null,createdSelected:!1,selected:r.multiple?[]:{},inputLength:20,inputWidth:0,optionsCount:0,filteredOptionsCount:0,visible:!1,selectedLabel:"",hoverIndex:-1,query:"",previousQuery:null,inputHovering:!1,cachedPlaceHolder:"",currentPlaceholder:n("el.select.placeholder"),menuVisibleOnFocus:!1,isOnComposition:!1,prefixWidth:11,mouseEnter:!1})}let ignoreFocusEvent=!1;const useSelect=(r,n,i)=>{const{t:o}=useLocale(),a=useNamespace("select");useDeprecated({from:"suffixTransition",replacement:"override style scheme",version:"2.3.0",scope:"props",ref:"https://element-plus.org/en-US/component/select.html#select-attributes"},vue.computed(()=>r.suffixTransition===!1));const u=vue.ref(null),c=vue.ref(null),f=vue.ref(null),d=vue.ref(null),h=vue.ref(null),v=vue.ref(null),g=vue.ref(null),p=vue.ref(null),y=vue.ref(-1),_=vue.shallowRef({query:""}),b=vue.shallowRef(""),A=vue.ref([]);let w=0;const{form:T,formItem:S}=useFormItem(),x=vue.computed(()=>!r.filterable||r.multiple||!n.visible),O=vue.computed(()=>r.disabled||(T==null?void 0:T.disabled)),L=vue.computed(()=>{const bn=r.multiple?Array.isArray(r.modelValue)&&r.modelValue.length>0:r.modelValue!==void 0&&r.modelValue!==null&&r.modelValue!=="";return r.clearable&&!O.value&&n.inputHovering&&bn}),M=vue.computed(()=>r.remote&&r.filterable&&!r.remoteShowSuffix?"":r.suffixIcon),re=vue.computed(()=>a.is("reverse",M.value&&n.visible&&r.suffixTransition)),F=vue.computed(()=>r.remote?300:0),j=vue.computed(()=>r.loading?r.loadingText||o("el.select.loading"):r.remote&&n.query===""&&n.options.size===0?!1:r.filterable&&n.query&&n.options.size>0&&n.filteredOptionsCount===0?r.noMatchText||o("el.select.noMatch"):n.options.size===0?r.noDataText||o("el.select.noData"):null),V=vue.computed(()=>{const bn=Array.from(n.options.values()),wn=[];return A.value.forEach(Ln=>{const Bn=bn.findIndex(Mn=>Mn.currentLabel===Ln);Bn>-1&&wn.push(bn[Bn])}),wn.length?wn:bn}),z=vue.computed(()=>Array.from(n.cachedOptions.values())),$=vue.computed(()=>{const bn=V.value.filter(wn=>!wn.created).some(wn=>wn.currentLabel===n.query);return r.filterable&&r.allowCreate&&n.query!==""&&!bn}),he=useFormSize(),le=vue.computed(()=>["small"].includes(he.value)?"small":"default"),Ie=vue.computed({get(){return n.visible&&j.value!==!1},set(bn){n.visible=bn}});vue.watch([()=>O.value,()=>he.value,()=>T==null?void 0:T.size],()=>{vue.nextTick(()=>{Fe()})}),vue.watch(()=>r.placeholder,bn=>{n.cachedPlaceHolder=n.currentPlaceholder=bn,r.multiple&&Array.isArray(r.modelValue)&&r.modelValue.length>0&&(n.currentPlaceholder="")}),vue.watch(()=>r.modelValue,(bn,wn)=>{r.multiple&&(Fe(),bn&&bn.length>0||c.value&&n.query!==""?n.currentPlaceholder="":n.currentPlaceholder=n.cachedPlaceHolder,r.filterable&&!r.reserveKeyword&&(n.query="",pe(n.query))),Et(),r.filterable&&!r.multiple&&(n.inputLength=20),!lodashEs.isEqual(bn,wn)&&r.validateEvent&&(S==null||S.validate("change").catch(Ln=>debugWarn(Ln)))},{flush:"post",deep:!0}),vue.watch(()=>n.visible,bn=>{var wn,Ln,Bn,Mn,On;bn?((Ln=(wn=d.value)==null?void 0:wn.updatePopper)==null||Ln.call(wn),r.filterable&&(n.filteredOptionsCount=n.optionsCount,n.query=r.remote?"":n.selectedLabel,(Mn=(Bn=f.value)==null?void 0:Bn.focus)==null||Mn.call(Bn),r.multiple?(On=c.value)==null||On.focus():n.selectedLabel&&(n.currentPlaceholder=`${n.selectedLabel}`,n.selectedLabel=""),pe(n.query),!r.multiple&&!r.remote&&(_.value.query="",vue.triggerRef(_),vue.triggerRef(b)))):(r.filterable&&(isFunction(r.filterMethod)&&r.filterMethod(""),isFunction(r.remoteMethod)&&r.remoteMethod("")),c.value&&c.value.blur(),n.query="",n.previousQuery=null,n.selectedLabel="",n.inputLength=20,n.menuVisibleOnFocus=!1,vn(),vue.nextTick(()=>{c.value&&c.value.value===""&&n.selected.length===0&&(n.currentPlaceholder=n.cachedPlaceHolder)}),r.multiple||(n.selected&&(r.filterable&&r.allowCreate&&n.createdSelected&&n.createdLabel?n.selectedLabel=n.createdLabel:n.selectedLabel=n.selected.currentLabel,r.filterable&&(n.query=n.selectedLabel)),r.filterable&&(n.currentPlaceholder=n.cachedPlaceHolder))),i.emit("visible-change",bn)}),vue.watch(()=>n.options.entries(),()=>{var bn,wn,Ln;if(!isClient)return;(wn=(bn=d.value)==null?void 0:bn.updatePopper)==null||wn.call(bn),r.multiple&&Fe();const Bn=((Ln=g.value)==null?void 0:Ln.querySelectorAll("input"))||[];Array.from(Bn).includes(document.activeElement)||Et(),r.defaultFirstOption&&(r.filterable||r.remote)&&n.filteredOptionsCount&&_e()},{flush:"post"}),vue.watch(()=>n.hoverIndex,bn=>{isNumber(bn)&&bn>-1?y.value=V.value[bn]||{}:y.value={},V.value.forEach(wn=>{wn.hover=y.value===wn})});const Fe=()=>{vue.nextTick(()=>{var bn,wn;if(!u.value)return;const Ln=u.value.$el.querySelector("input");w=w||(Ln.clientHeight>0?Ln.clientHeight+2:0);const Bn=v.value,Mn=getComponentSize(he.value||(T==null?void 0:T.size)),On=he.value||Mn===w||w<=0?Mn:w;!(Ln.offsetParent===null)&&(Ln.style.height=`${(n.selected.length===0?On:Math.max(Bn?Bn.clientHeight+(Bn.clientHeight>On?6:0):0,On))-2}px`),n.visible&&j.value!==!1&&((wn=(bn=d.value)==null?void 0:bn.updatePopper)==null||wn.call(bn))})},pe=async bn=>{if(!(n.previousQuery===bn||n.isOnComposition)){if(n.previousQuery===null&&(isFunction(r.filterMethod)||isFunction(r.remoteMethod))){n.previousQuery=bn;return}n.previousQuery=bn,vue.nextTick(()=>{var wn,Ln;n.visible&&((Ln=(wn=d.value)==null?void 0:wn.updatePopper)==null||Ln.call(wn))}),n.hoverIndex=-1,r.multiple&&r.filterable&&vue.nextTick(()=>{const wn=c.value.value.length*15+20;n.inputLength=r.collapseTags?Math.min(50,wn):wn,Lt(),Fe()}),r.remote&&isFunction(r.remoteMethod)?(n.hoverIndex=-1,r.remoteMethod(bn)):isFunction(r.filterMethod)?(r.filterMethod(bn),vue.triggerRef(b)):(n.filteredOptionsCount=n.optionsCount,_.value.query=bn,vue.triggerRef(_),vue.triggerRef(b)),r.defaultFirstOption&&(r.filterable||r.remote)&&n.filteredOptionsCount&&(await vue.nextTick(),_e())}},Lt=()=>{n.currentPlaceholder!==""&&(n.currentPlaceholder=c.value.value?"":n.cachedPlaceHolder)},_e=()=>{const bn=V.value.filter(Bn=>Bn.visible&&!Bn.disabled&&!Bn.states.groupDisabled),wn=bn.find(Bn=>Bn.created),Ln=bn[0];n.hoverIndex=Oe(V.value,wn||Ln)},Et=()=>{var bn;if(r.multiple)n.selectedLabel="";else{const Ln=Cn(r.modelValue);(bn=Ln.props)!=null&&bn.created?(n.createdLabel=Ln.props.value,n.createdSelected=!0):n.createdSelected=!1,n.selectedLabel=Ln.currentLabel,n.selected=Ln,r.filterable&&(n.query=n.selectedLabel);return}const wn=[];Array.isArray(r.modelValue)&&r.modelValue.forEach(Ln=>{wn.push(Cn(Ln))}),n.selected=wn,vue.nextTick(()=>{Fe()})},Cn=bn=>{let wn;const Ln=toRawType(bn).toLowerCase()==="object",Bn=toRawType(bn).toLowerCase()==="null",Mn=toRawType(bn).toLowerCase()==="undefined";for(let Vn=n.cachedOptions.size-1;Vn>=0;Vn--){const Nn=z.value[Vn];if(Ln?lodashEs.get(Nn.value,r.valueKey)===lodashEs.get(bn,r.valueKey):Nn.value===bn){wn={value:bn,currentLabel:Nn.currentLabel,isDisabled:Nn.isDisabled};break}}if(wn)return wn;const On=Ln?bn.label:!Bn&&!Mn?bn:"",Gn={value:bn,currentLabel:On};return r.multiple&&(Gn.hitState=!1),Gn},vn=()=>{setTimeout(()=>{const bn=r.valueKey;r.multiple?n.selected.length>0?n.hoverIndex=Math.min.apply(null,n.selected.map(wn=>V.value.findIndex(Ln=>lodashEs.get(Ln,bn)===lodashEs.get(wn,bn)))):n.hoverIndex=-1:n.hoverIndex=V.value.findIndex(wn=>Ue(wn)===Ue(n.selected))},300)},Dt=()=>{var bn,wn;de(),(wn=(bn=d.value)==null?void 0:bn.updatePopper)==null||wn.call(bn),r.multiple&&Fe()},de=()=>{var bn;n.inputWidth=(bn=u.value)==null?void 0:bn.$el.offsetWidth},qe=()=>{r.filterable&&n.query!==n.selectedLabel&&(n.query=n.selectedLabel,pe(n.query))},Pt=lodashEs.debounce(()=>{qe()},F.value),In=lodashEs.debounce(bn=>{pe(bn.target.value)},F.value),$e=bn=>{lodashEs.isEqual(r.modelValue,bn)||i.emit(CHANGE_EVENT,bn)},Ce=bn=>{if(bn.code!==EVENT_CODE.delete){if(bn.target.value.length<=0&&!Y()){const wn=r.modelValue.slice();wn.pop(),i.emit(UPDATE_MODEL_EVENT,wn),$e(wn)}bn.target.value.length===1&&r.modelValue.length===0&&(n.currentPlaceholder=n.cachedPlaceHolder)}},ue=(bn,wn)=>{const Ln=n.selected.indexOf(wn);if(Ln>-1&&!O.value){const Bn=r.modelValue.slice();Bn.splice(Ln,1),i.emit(UPDATE_MODEL_EVENT,Bn),$e(Bn),i.emit("remove-tag",wn.value)}bn.stopPropagation()},At=bn=>{bn.stopPropagation();const wn=r.multiple?[]:"";if(!isString(wn))for(const Ln of n.selected)Ln.isDisabled&&wn.push(Ln.value);i.emit(UPDATE_MODEL_EVENT,wn),$e(wn),n.hoverIndex=-1,n.visible=!1,i.emit("clear")},Ne=bn=>{var wn;if(r.multiple){const Ln=(r.modelValue||[]).slice(),Bn=Oe(Ln,bn.value);Bn>-1?Ln.splice(Bn,1):(r.multipleLimit<=0||Ln.length<r.multipleLimit)&&Ln.push(bn.value),i.emit(UPDATE_MODEL_EVENT,Ln),$e(Ln),bn.created&&(n.query="",pe(""),n.inputLength=20),r.filterable&&((wn=c.value)==null||wn.focus())}else i.emit(UPDATE_MODEL_EVENT,bn.value),$e(bn.value),n.visible=!1;kt(),!n.visible&&vue.nextTick(()=>{jt(bn)})},Oe=(bn=[],wn)=>{if(!isObject(wn))return bn.indexOf(wn);const Ln=r.valueKey;let Bn=-1;return bn.some((Mn,On)=>vue.toRaw(lodashEs.get(Mn,Ln))===lodashEs.get(wn,Ln)?(Bn=On,!0):!1),Bn},kt=()=>{const bn=c.value||u.value;bn&&(bn==null||bn.focus())},jt=bn=>{var wn,Ln,Bn,Mn,On;const Gn=Array.isArray(bn)?bn[0]:bn;let Vn=null;if(Gn!=null&&Gn.value){const Nn=V.value.filter(Dn=>Dn.value===Gn.value);Nn.length>0&&(Vn=Nn[0].$el)}if(d.value&&Vn){const Nn=(Mn=(Bn=(Ln=(wn=d.value)==null?void 0:wn.popperRef)==null?void 0:Ln.contentRef)==null?void 0:Bn.querySelector)==null?void 0:Mn.call(Bn,`.${a.be("dropdown","wrap")}`);Nn&&scrollIntoView(Nn,Vn)}(On=p.value)==null||On.handleScroll()},_n=bn=>{n.optionsCount++,n.filteredOptionsCount++,n.options.set(bn.value,bn),n.cachedOptions.set(bn.value,bn)},ie=(bn,wn)=>{n.options.get(bn)===wn&&(n.optionsCount--,n.filteredOptionsCount--,n.options.delete(bn))},ae=bn=>{bn.code!==EVENT_CODE.backspace&&Y(!1),n.inputLength=c.value.value.length*15+20,Fe()},Y=bn=>{if(!Array.isArray(n.selected))return;const wn=n.selected[n.selected.length-1];if(wn)return bn===!0||bn===!1?(wn.hitState=bn,bn):(wn.hitState=!wn.hitState,wn.hitState)},k=bn=>{const wn=bn.target.value;if(bn.type==="compositionend")n.isOnComposition=!1,vue.nextTick(()=>pe(wn));else{const Ln=wn[wn.length-1]||"";n.isOnComposition=!isKorean(Ln)}},D=()=>{vue.nextTick(()=>jt(n.selected))},oe=bn=>{ignoreFocusEvent?ignoreFocusEvent=!1:((r.automaticDropdown||r.filterable)&&(r.filterable&&!n.visible&&(n.menuVisibleOnFocus=!0),n.visible=!0),i.emit("focus",bn))},xe=()=>{var bn,wn,Ln;n.visible=!1,(bn=u.value)==null||bn.blur(),(Ln=(wn=f.value)==null?void 0:wn.blur)==null||Ln.call(wn)},ze=bn=>{setTimeout(()=>{var wn;if((wn=d.value)!=null&&wn.isFocusInsideContent()){ignoreFocusEvent=!0;return}n.visible&&An(),i.emit("blur",bn)})},hn=bn=>{At(bn)},An=()=>{n.visible=!1},Tn=bn=>{n.visible&&(bn.preventDefault(),bn.stopPropagation(),n.visible=!1)},Rn=bn=>{var wn;bn&&!n.mouseEnter||O.value||(n.menuVisibleOnFocus?n.menuVisibleOnFocus=!1:(!d.value||!d.value.isFocusInsideContent())&&(n.visible=!n.visible),n.visible&&((wn=c.value||u.value)==null||wn.focus()))},Ve=()=>{n.visible?V.value[n.hoverIndex]&&Ne(V.value[n.hoverIndex]):Rn()},Ue=bn=>isObject(bn.value)?lodashEs.get(bn.value,r.valueKey):bn.value,En=vue.computed(()=>V.value.filter(bn=>bn.visible).every(bn=>bn.disabled)),Sn=vue.computed(()=>n.selected.slice(0,r.maxCollapseTags)),xn=vue.computed(()=>n.selected.slice(r.maxCollapseTags)),Pn=bn=>{if(!n.visible){n.visible=!0;return}if(!(n.options.size===0||n.filteredOptionsCount===0)&&!n.isOnComposition&&!En.value){bn==="next"?(n.hoverIndex++,n.hoverIndex===n.options.size&&(n.hoverIndex=0)):bn==="prev"&&(n.hoverIndex--,n.hoverIndex<0&&(n.hoverIndex=n.options.size-1));const wn=V.value[n.hoverIndex];(wn.disabled===!0||wn.states.groupDisabled===!0||!wn.visible)&&Pn(bn),vue.nextTick(()=>jt(y.value))}};return{optionList:A,optionsArray:V,selectSize:he,handleResize:Dt,debouncedOnInputChange:Pt,debouncedQueryChange:In,deletePrevTag:Ce,deleteTag:ue,deleteSelected:At,handleOptionSelect:Ne,scrollToOption:jt,readonly:x,resetInputHeight:Fe,showClose:L,iconComponent:M,iconReverse:re,showNewOption:$,collapseTagSize:le,setSelected:Et,managePlaceholder:Lt,selectDisabled:O,emptyText:j,toggleLastOptionHitState:Y,resetInputState:ae,handleComposition:k,onOptionCreate:_n,onOptionDestroy:ie,handleMenuEnter:D,handleFocus:oe,blur:xe,handleBlur:ze,handleClearClick:hn,handleClose:An,handleKeydownEscape:Tn,toggleMenu:Rn,selectOption:Ve,getValueKey:Ue,navigateOptions:Pn,handleDeleteTooltipTag:(bn,wn)=>{var Ln,Bn;ue(bn,wn),(Bn=(Ln=h.value)==null?void 0:Ln.updatePopper)==null||Bn.call(Ln)},dropMenuVisible:Ie,queryChange:_,groupQueryChange:b,showTagList:Sn,collapseTagList:xn,reference:u,input:c,iOSInput:f,tooltipRef:d,tagTooltipRef:h,tags:v,selectWrapper:g,scrollbar:p,handleMouseEnter:()=>{n.mouseEnter=!0},handleMouseLeave:()=>{n.mouseEnter=!1}}};var ElOptions=vue.defineComponent({name:"ElOptions",emits:["update-options"],setup(r,{slots:n,emit:i}){let o=[];function a(u,c){if(u.length!==c.length)return!1;for(const[f]of u.entries())if(u[f]!=c[f])return!1;return!0}return()=>{var u,c;const f=(u=n.default)==null?void 0:u.call(n),d=[];function h(v){Array.isArray(v)&&v.forEach(g=>{var p,y,_,b;const A=(p=(g==null?void 0:g.type)||{})==null?void 0:p.name;A==="ElOptionGroup"?h(!isString(g.children)&&!Array.isArray(g.children)&&isFunction((y=g.children)==null?void 0:y.default)?(_=g.children)==null?void 0:_.default():g.children):A==="ElOption"?d.push((b=g.props)==null?void 0:b.label):Array.isArray(g.children)&&h(g.children)})}return f.length&&h((c=f[0])==null?void 0:c.children),a(d,o)||(o=d,i("update-options",d)),f}}});const COMPONENT_NAME="ElSelect",_sfc_main$9=vue.defineComponent({name:COMPONENT_NAME,componentName:COMPONENT_NAME,components:{ElInput,ElSelectMenu,ElOption:Option,ElOptions,ElTag,ElScrollbar,ElTooltip,ElIcon},directives:{ClickOutside},props:{name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:{type:String,validator:isValidComponentSize},effect:{type:String,default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:Object,default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:{type:Boolean,default:!1},maxCollapseTags:{type:Number,default:1},teleported:useTooltipContentProps.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:iconPropType,default:circle_close_default},fitInputWidth:{type:Boolean,default:!1},suffixIcon:{type:iconPropType,default:arrow_down_default},tagType:{...tagProps.type,default:"info"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:{type:Boolean,default:!1},suffixTransition:{type:Boolean,default:!0},placement:{type:String,values:Ee,default:"bottom-start"}},emits:[UPDATE_MODEL_EVENT,CHANGE_EVENT,"remove-tag","clear","visible-change","focus","blur"],setup(r,n){const i=useNamespace("select"),o=useNamespace("input"),{t:a}=useLocale(),u=useSelectStates(r),{optionList:c,optionsArray:f,selectSize:d,readonly:h,handleResize:v,collapseTagSize:g,debouncedOnInputChange:p,debouncedQueryChange:y,deletePrevTag:_,deleteTag:b,deleteSelected:A,handleOptionSelect:w,scrollToOption:T,setSelected:S,resetInputHeight:x,managePlaceholder:O,showClose:L,selectDisabled:M,iconComponent:re,iconReverse:F,showNewOption:j,emptyText:V,toggleLastOptionHitState:z,resetInputState:$,handleComposition:he,onOptionCreate:le,onOptionDestroy:Ie,handleMenuEnter:Fe,handleFocus:pe,blur:Lt,handleBlur:_e,handleClearClick:Et,handleClose:Cn,handleKeydownEscape:vn,toggleMenu:Dt,selectOption:de,getValueKey:qe,navigateOptions:Pt,handleDeleteTooltipTag:In,dropMenuVisible:$e,reference:Ce,input:ue,iOSInput:At,tooltipRef:Ne,tagTooltipRef:Oe,tags:kt,selectWrapper:jt,scrollbar:_n,queryChange:ie,groupQueryChange:ae,handleMouseEnter:Y,handleMouseLeave:k,showTagList:D,collapseTagList:oe}=useSelect(r,u,n),{focus:xe}=useFocus(Ce),{inputWidth:ze,selected:hn,inputLength:An,filteredOptionsCount:Tn,visible:Rn,selectedLabel:Ve,hoverIndex:Ue,query:En,inputHovering:Sn,currentPlaceholder:xn,menuVisibleOnFocus:Pn,isOnComposition:kn,options:$n,cachedOptions:Wn,optionsCount:bn,prefixWidth:wn}=vue.toRefs(u),Ln=vue.computed(()=>{const Fn=[i.b()],Zn=vue.unref(d);return Zn&&Fn.push(i.m(Zn)),r.disabled&&Fn.push(i.m("disabled")),Fn}),Bn=vue.computed(()=>[i.e("tags"),i.is("disabled",vue.unref(M))]),Mn=vue.computed(()=>[i.b("tags-wrapper"),{"has-prefix":vue.unref(wn)&&vue.unref(hn).length}]),On=vue.computed(()=>[i.e("input"),i.is(vue.unref(d)),i.is("disabled",vue.unref(M))]),Gn=vue.computed(()=>[i.e("input"),i.is(vue.unref(d)),i.em("input","iOS")]),Vn=vue.computed(()=>[i.is("empty",!r.allowCreate&&!!vue.unref(En)&&vue.unref(Tn)===0)]),Nn=vue.computed(()=>({maxWidth:`${vue.unref(ze)-32}px`,width:"100%"})),Dn=vue.computed(()=>({maxWidth:`${vue.unref(ze)>123?vue.unref(ze)-123:vue.unref(ze)-75}px`})),Hn=vue.computed(()=>({marginLeft:`${vue.unref(wn)}px`,flexGrow:1,width:`${vue.unref(An)/(vue.unref(ze)-32)}%`,maxWidth:`${vue.unref(ze)-42}px`}));vue.provide(selectKey,vue.reactive({props:r,options:$n,optionsArray:f,cachedOptions:Wn,optionsCount:bn,filteredOptionsCount:Tn,hoverIndex:Ue,handleOptionSelect:w,onOptionCreate:le,onOptionDestroy:Ie,selectWrapper:jt,selected:hn,setSelected:S,queryChange:ie,groupQueryChange:ae})),vue.onMounted(()=>{u.cachedPlaceHolder=xn.value=r.placeholder||(()=>a("el.select.placeholder")),r.multiple&&Array.isArray(r.modelValue)&&r.modelValue.length>0&&(xn.value=""),useResizeObserver(jt,v),r.remote&&r.multiple&&x(),vue.nextTick(()=>{const Fn=Ce.value&&Ce.value.$el;if(Fn&&(ze.value=Fn.getBoundingClientRect().width,n.slots.prefix)){const Zn=Fn.querySelector(`.${o.e("prefix")}`);wn.value=Math.max(Zn.getBoundingClientRect().width+11,30)}}),S()}),r.multiple&&!Array.isArray(r.modelValue)&&n.emit(UPDATE_MODEL_EVENT,[]),!r.multiple&&Array.isArray(r.modelValue)&&n.emit(UPDATE_MODEL_EVENT,"");const zn=vue.computed(()=>{var Fn,Zn;return(Zn=(Fn=Ne.value)==null?void 0:Fn.popperRef)==null?void 0:Zn.contentRef});return{isIOS,onOptionsRendered:Fn=>{c.value=Fn},prefixWidth:wn,selectSize:d,readonly:h,handleResize:v,collapseTagSize:g,debouncedOnInputChange:p,debouncedQueryChange:y,deletePrevTag:_,deleteTag:b,handleDeleteTooltipTag:In,deleteSelected:A,handleOptionSelect:w,scrollToOption:T,inputWidth:ze,selected:hn,inputLength:An,filteredOptionsCount:Tn,visible:Rn,selectedLabel:Ve,hoverIndex:Ue,query:En,inputHovering:Sn,currentPlaceholder:xn,menuVisibleOnFocus:Pn,isOnComposition:kn,options:$n,resetInputHeight:x,managePlaceholder:O,showClose:L,selectDisabled:M,iconComponent:re,iconReverse:F,showNewOption:j,emptyText:V,toggleLastOptionHitState:z,resetInputState:$,handleComposition:he,handleMenuEnter:Fe,handleFocus:pe,blur:Lt,handleBlur:_e,handleClearClick:Et,handleClose:Cn,handleKeydownEscape:vn,toggleMenu:Dt,selectOption:de,getValueKey:qe,navigateOptions:Pt,dropMenuVisible:$e,focus:xe,reference:Ce,input:ue,iOSInput:At,tooltipRef:Ne,popperPaneRef:zn,tags:kt,selectWrapper:jt,scrollbar:_n,wrapperKls:Ln,tagsKls:Bn,tagWrapperKls:Mn,inputKls:On,iOSInputKls:Gn,scrollbarKls:Vn,selectTagsStyle:Nn,nsSelect:i,tagTextStyle:Dn,inputStyle:Hn,handleMouseEnter:Y,handleMouseLeave:k,showTagList:D,collapseTagList:oe,tagTooltipRef:Oe}}}),_hoisted_1$5=["disabled","autocomplete"],_hoisted_2$3=["disabled"],_hoisted_3$3={style:{height:"100%",display:"flex","justify-content":"center","align-items":"center"}};function _sfc_render$1(r,n,i,o,a,u){const c=vue.resolveComponent("el-tag"),f=vue.resolveComponent("el-tooltip"),d=vue.resolveComponent("el-icon"),h=vue.resolveComponent("el-input"),v=vue.resolveComponent("el-option"),g=vue.resolveComponent("el-options"),p=vue.resolveComponent("el-scrollbar"),y=vue.resolveComponent("el-select-menu"),_=vue.resolveDirective("click-outside");return vue.withDirectives((vue.openBlock(),vue.createElementBlock("div",{ref:"selectWrapper",class:vue.normalizeClass(r.wrapperKls),onMouseenter:n[21]||(n[21]=(...b)=>r.handleMouseEnter&&r.handleMouseEnter(...b)),onMouseleave:n[22]||(n[22]=(...b)=>r.handleMouseLeave&&r.handleMouseLeave(...b)),onClick:n[23]||(n[23]=vue.withModifiers((...b)=>r.toggleMenu&&r.toggleMenu(...b),["stop"]))},[vue.createVNode(f,{ref:"tooltipRef",visible:r.dropMenuVisible,placement:r.placement,teleported:r.teleported,"popper-class":[r.nsSelect.e("popper"),r.popperClass],"popper-options":r.popperOptions,"fallback-placements":["bottom-start","top-start","right","left"],effect:r.effect,pure:"",trigger:"click",transition:`${r.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:r.persistent,onShow:r.handleMenuEnter},{default:vue.withCtx(()=>[vue.createElementVNode("div",{class:"select-trigger",onMouseenter:n[19]||(n[19]=b=>r.inputHovering=!0),onMouseleave:n[20]||(n[20]=b=>r.inputHovering=!1)},[r.multiple?(vue.openBlock(),vue.createElementBlock("div",{key:0,ref:"tags",class:vue.normalizeClass(r.tagsKls),style:vue.normalizeStyle(r.selectTagsStyle)},[r.collapseTags&&r.selected.length?(vue.openBlock(),vue.createBlock(vue.Transition,{key:0,onAfterLeave:r.resetInputHeight},{default:vue.withCtx(()=>[vue.createElementVNode("span",{class:vue.normalizeClass(r.tagWrapperKls)},[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(r.showTagList,b=>(vue.openBlock(),vue.createBlock(c,{key:r.getValueKey(b),closable:!r.selectDisabled&&!b.isDisabled,size:r.collapseTagSize,hit:b.hitState,type:r.tagType,"disable-transitions":"",onClose:A=>r.deleteTag(A,b)},{default:vue.withCtx(()=>[vue.createElementVNode("span",{class:vue.normalizeClass(r.nsSelect.e("tags-text")),style:vue.normalizeStyle(r.tagTextStyle)},vue.toDisplayString(b.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"]))),128)),r.selected.length>r.maxCollapseTags?(vue.openBlock(),vue.createBlock(c,{key:0,closable:!1,size:r.collapseTagSize,type:r.tagType,"disable-transitions":""},{default:vue.withCtx(()=>[r.collapseTagsTooltip?(vue.openBlock(),vue.createBlock(f,{key:0,ref:"tagTooltipRef",disabled:r.dropMenuVisible,"fallback-placements":["bottom","top","right","left"],effect:r.effect,placement:"bottom",teleported:r.teleported},{default:vue.withCtx(()=>[vue.createElementVNode("span",{class:vue.normalizeClass(r.nsSelect.e("tags-text"))},"+ "+vue.toDisplayString(r.selected.length-r.maxCollapseTags),3)]),content:vue.withCtx(()=>[vue.createElementVNode("div",{class:vue.normalizeClass(r.nsSelect.e("collapse-tags"))},[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(r.collapseTagList,b=>(vue.openBlock(),vue.createElementBlock("div",{key:r.getValueKey(b),class:vue.normalizeClass(r.nsSelect.e("collapse-tag"))},[vue.createVNode(c,{class:"in-tooltip",closable:!r.selectDisabled&&!b.isDisabled,size:r.collapseTagSize,hit:b.hitState,type:r.tagType,"disable-transitions":"",style:{margin:"2px"},onClose:A=>r.handleDeleteTooltipTag(A,b)},{default:vue.withCtx(()=>[vue.createElementVNode("span",{class:vue.normalizeClass(r.nsSelect.e("tags-text")),style:vue.normalizeStyle({maxWidth:r.inputWidth-75+"px"})},vue.toDisplayString(b.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"])],2))),128))],2)]),_:1},8,["disabled","effect","teleported"])):(vue.openBlock(),vue.createElementBlock("span",{key:1,class:vue.normalizeClass(r.nsSelect.e("tags-text"))},"+ "+vue.toDisplayString(r.selected.length-r.maxCollapseTags),3))]),_:1},8,["size","type"])):vue.createCommentVNode("v-if",!0)],2)]),_:1},8,["onAfterLeave"])):vue.createCommentVNode("v-if",!0),r.collapseTags?vue.createCommentVNode("v-if",!0):(vue.openBlock(),vue.createBlock(vue.Transition,{key:1,onAfterLeave:r.resetInputHeight},{default:vue.withCtx(()=>[vue.createElementVNode("span",{class:vue.normalizeClass(r.tagWrapperKls),style:vue.normalizeStyle(r.prefixWidth&&r.selected.length?{marginLeft:`${r.prefixWidth}px`}:"")},[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(r.selected,b=>(vue.openBlock(),vue.createBlock(c,{key:r.getValueKey(b),closable:!r.selectDisabled&&!b.isDisabled,size:r.collapseTagSize,hit:b.hitState,type:r.tagType,"disable-transitions":"",onClose:A=>r.deleteTag(A,b)},{default:vue.withCtx(()=>[vue.createElementVNode("span",{class:vue.normalizeClass(r.nsSelect.e("tags-text")),style:vue.normalizeStyle({maxWidth:r.inputWidth-75+"px"})},vue.toDisplayString(b.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"]))),128))],6)]),_:1},8,["onAfterLeave"])),r.filterable&&!r.selectDisabled?vue.withDirectives((vue.openBlock(),vue.createElementBlock("input",{key:2,ref:"input","onUpdate:modelValue":n[0]||(n[0]=b=>r.query=b),type:"text",class:vue.normalizeClass(r.inputKls),disabled:r.selectDisabled,autocomplete:r.autocomplete,style:vue.normalizeStyle(r.inputStyle),onFocus:n[1]||(n[1]=(...b)=>r.handleFocus&&r.handleFocus(...b)),onBlur:n[2]||(n[2]=(...b)=>r.handleBlur&&r.handleBlur(...b)),onKeyup:n[3]||(n[3]=(...b)=>r.managePlaceholder&&r.managePlaceholder(...b)),onKeydown:[n[4]||(n[4]=(...b)=>r.resetInputState&&r.resetInputState(...b)),n[5]||(n[5]=vue.withKeys(vue.withModifiers(b=>r.navigateOptions("next"),["prevent"]),["down"])),n[6]||(n[6]=vue.withKeys(vue.withModifiers(b=>r.navigateOptions("prev"),["prevent"]),["up"])),n[7]||(n[7]=vue.withKeys((...b)=>r.handleKeydownEscape&&r.handleKeydownEscape(...b),["esc"])),n[8]||(n[8]=vue.withKeys(vue.withModifiers((...b)=>r.selectOption&&r.selectOption(...b),["stop","prevent"]),["enter"])),n[9]||(n[9]=vue.withKeys((...b)=>r.deletePrevTag&&r.deletePrevTag(...b),["delete"])),n[10]||(n[10]=vue.withKeys(b=>r.visible=!1,["tab"]))],onCompositionstart:n[11]||(n[11]=(...b)=>r.handleComposition&&r.handleComposition(...b)),onCompositionupdate:n[12]||(n[12]=(...b)=>r.handleComposition&&r.handleComposition(...b)),onCompositionend:n[13]||(n[13]=(...b)=>r.handleComposition&&r.handleComposition(...b)),onInput:n[14]||(n[14]=(...b)=>r.debouncedQueryChange&&r.debouncedQueryChange(...b))},null,46,_hoisted_1$5)),[[vue.vModelText,r.query]]):vue.createCommentVNode("v-if",!0)],6)):vue.createCommentVNode("v-if",!0),vue.createCommentVNode(" fix: https://github.com/element-plus/element-plus/issues/11415 "),r.isIOS&&!r.multiple&&r.filterable&&r.readonly?(vue.openBlock(),vue.createElementBlock("input",{key:1,ref:"iOSInput",class:vue.normalizeClass(r.iOSInputKls),disabled:r.selectDisabled,type:"text"},null,10,_hoisted_2$3)):vue.createCommentVNode("v-if",!0),vue.createVNode(h,{id:r.id,ref:"reference",modelValue:r.selectedLabel,"onUpdate:modelValue":n[15]||(n[15]=b=>r.selectedLabel=b),type:"text",placeholder:typeof r.currentPlaceholder=="function"?r.currentPlaceholder():r.currentPlaceholder,name:r.name,autocomplete:r.autocomplete,size:r.selectSize,disabled:r.selectDisabled,readonly:r.readonly,"validate-event":!1,class:vue.normalizeClass([r.nsSelect.is("focus",r.visible)]),tabindex:r.multiple&&r.filterable?-1:void 0,onFocus:r.handleFocus,onBlur:r.handleBlur,onInput:r.debouncedOnInputChange,onPaste:r.debouncedOnInputChange,onCompositionstart:r.handleComposition,onCompositionupdate:r.handleComposition,onCompositionend:r.handleComposition,onKeydown:[n[16]||(n[16]=vue.withKeys(vue.withModifiers(b=>r.navigateOptions("next"),["stop","prevent"]),["down"])),n[17]||(n[17]=vue.withKeys(vue.withModifiers(b=>r.navigateOptions("prev"),["stop","prevent"]),["up"])),vue.withKeys(vue.withModifiers(r.selectOption,["stop","prevent"]),["enter"]),vue.withKeys(r.handleKeydownEscape,["esc"]),n[18]||(n[18]=vue.withKeys(b=>r.visible=!1,["tab"]))]},vue.createSlots({suffix:vue.withCtx(()=>[r.iconComponent&&!r.showClose?(vue.openBlock(),vue.createBlock(d,{key:0,class:vue.normalizeClass([r.nsSelect.e("caret"),r.nsSelect.e("icon"),r.iconReverse])},{default:vue.withCtx(()=>[(vue.openBlock(),vue.createBlock(vue.resolveDynamicComponent(r.iconComponent)))]),_:1},8,["class"])):vue.createCommentVNode("v-if",!0),r.showClose&&r.clearIcon?(vue.openBlock(),vue.createBlock(d,{key:1,class:vue.normalizeClass([r.nsSelect.e("caret"),r.nsSelect.e("icon")]),onClick:r.handleClearClick},{default:vue.withCtx(()=>[(vue.openBlock(),vue.createBlock(vue.resolveDynamicComponent(r.clearIcon)))]),_:1},8,["class","onClick"])):vue.createCommentVNode("v-if",!0)]),_:2},[r.$slots.prefix?{name:"prefix",fn:vue.withCtx(()=>[vue.createElementVNode("div",_hoisted_3$3,[vue.renderSlot(r.$slots,"prefix")])])}:void 0]),1032,["id","modelValue","placeholder","name","autocomplete","size","disabled","readonly","class","tabindex","onFocus","onBlur","onInput","onPaste","onCompositionstart","onCompositionupdate","onCompositionend","onKeydown"])],32)]),content:vue.withCtx(()=>[vue.createVNode(y,null,{default:vue.withCtx(()=>[vue.withDirectives(vue.createVNode(p,{ref:"scrollbar",tag:"ul","wrap-class":r.nsSelect.be("dropdown","wrap"),"view-class":r.nsSelect.be("dropdown","list"),class:vue.normalizeClass(r.scrollbarKls)},{default:vue.withCtx(()=>[r.showNewOption?(vue.openBlock(),vue.createBlock(v,{key:0,value:r.query,created:!0},null,8,["value"])):vue.createCommentVNode("v-if",!0),vue.createVNode(g,{onUpdateOptions:r.onOptionsRendered},{default:vue.withCtx(()=>[vue.renderSlot(r.$slots,"default")]),_:3},8,["onUpdateOptions"])]),_:3},8,["wrap-class","view-class","class"]),[[vue.vShow,r.options.size>0&&!r.loading]]),r.emptyText&&(!r.allowCreate||r.loading||r.allowCreate&&r.options.size===0)?(vue.openBlock(),vue.createElementBlock(vue.Fragment,{key:0},[r.$slots.empty?vue.renderSlot(r.$slots,"empty",{key:0}):(vue.openBlock(),vue.createElementBlock("p",{key:1,class:vue.normalizeClass(r.nsSelect.be("dropdown","empty"))},vue.toDisplayString(r.emptyText),3))],64)):vue.createCommentVNode("v-if",!0)]),_:3})]),_:3},8,["visible","placement","teleported","popper-class","popper-options","effect","transition","persistent","onShow"])],34)),[[_,r.handleClose,r.popperPaneRef]])}var Select=_export_sfc(_sfc_main$9,[["render",_sfc_render$1],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select.vue"]]);const _sfc_main$8=vue.defineComponent({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:{type:Boolean,default:!1}},setup(r){const n=useNamespace("select"),i=vue.ref(!0),o=vue.getCurrentInstance(),a=vue.ref([]);vue.provide(selectGroupKey,vue.reactive({...vue.toRefs(r)}));const u=vue.inject(selectKey);vue.onMounted(()=>{a.value=c(o.subTree)});const c=d=>{const h=[];return Array.isArray(d.children)&&d.children.forEach(v=>{var g;v.type&&v.type.name==="ElOption"&&v.component&&v.component.proxy?h.push(v.component.proxy):(g=v.children)!=null&&g.length&&h.push(...c(v))}),h},{groupQueryChange:f}=vue.toRaw(u);return vue.watch(f,()=>{i.value=a.value.some(d=>d.visible===!0)},{flush:"post"}),{visible:i,ns:n}}});function _sfc_render(r,n,i,o,a,u){return vue.withDirectives((vue.openBlock(),vue.createElementBlock("ul",{class:vue.normalizeClass(r.ns.be("group","wrap"))},[vue.createElementVNode("li",{class:vue.normalizeClass(r.ns.be("group","title"))},vue.toDisplayString(r.label),3),vue.createElementVNode("li",null,[vue.createElementVNode("ul",{class:vue.normalizeClass(r.ns.b("group"))},[vue.renderSlot(r.$slots,"default")],2)])],2)),[[vue.vShow,r.visible]])}var OptionGroup=_export_sfc(_sfc_main$8,[["render",_sfc_render],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option-group.vue"]]);const ElSelect=withInstall(Select,{Option,OptionGroup}),ElOption=withNoopInstall(Option);withNoopInstall(OptionGroup);const _hoisted_1$4={class:"c-wall-d"},_sfc_main$7=vue.defineComponent({__name:"condition",props:{modelValue:{default:()=>({type:EConditionType.None})}},emits:["update:modelValue"],setup(r,{emit:n}){const i=r,o=vue.computed({get(){return i.modelValue},set(c){n("update:modelValue",c)}}),a=[{label:"大于",val:"greater"},{label:"大于等于",val:">="},{label:"小于",val:"<"},{label:"小于等于",val:"<="},{label:"等于",val:"=="},{label:"不等于",val:"!="},{label:"介于",val:">=,=<"},{label:"不介于",val:"<,>"}],u=c=>{c!=="None"&&(o.value.Relation={key:"",relation:"",val:"",val2:""}),n("update:modelValue",o)};return(c,f)=>{var d,h;return vue.openBlock(),vue.createElementBlock("div",_hoisted_1$4,[vue.createVNode(vue.unref(ElFormItem),{label:"条件",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(ElSelect),{modelValue:vue.unref(o).type,"onUpdate:modelValue":f[0]||(f[0]=v=>vue.unref(o).type=v),onChange:u},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(ElOption),{value:"None",label:"无"}),vue.createVNode(vue.unref(ElOption),{value:"Relation",label:"关系运算"})]),_:1},8,["modelValue"])]),_:1}),vue.unref(o).type==="Relation"?(vue.openBlock(),vue.createBlock(vue.unref(ElFormItem),{key:0,label:"属性",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(ElInput),{modelValue:vue.unref(o).Relation.key,"onUpdate:modelValue":f[1]||(f[1]=v=>vue.unref(o).Relation.key=v)},null,8,["modelValue"])]),_:1})):vue.createCommentVNode("",!0),vue.unref(o).type==="Relation"?(vue.openBlock(),vue.createBlock(vue.unref(ElFormItem),{key:1,label:"关系",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(ElSelect),{modelValue:vue.unref(o).Relation.relation,"onUpdate:modelValue":f[2]||(f[2]=v=>vue.unref(o).Relation.relation=v)},{default:vue.withCtx(()=>[(vue.openBlock(),vue.createElementBlock(vue.Fragment,null,vue.renderList(a,(v,g)=>vue.createVNode(vue.unref(ElOption),{value:v.val,label:v.label,key:"rop"+g},null,8,["value","label"])),64))]),_:1},8,["modelValue"])]),_:1})):vue.createCommentVNode("",!0),vue.unref(o).type==="Relation"?(vue.openBlock(),vue.createBlock(vue.unref(ElFormItem),{key:2,label:"值",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(ElInput),{modelValue:vue.unref(o).Relation.val,"onUpdate:modelValue":f[3]||(f[3]=v=>vue.unref(o).Relation.val=v)},null,8,["modelValue"])]),_:1})):vue.createCommentVNode("",!0),vue.unref(o).type==="Relation"&&(((d=vue.unref(o).Relation)==null?void 0:d.relation)===">=,=<"||((h=vue.unref(o).Relation)==null?void 0:h.relation)==="<,>")?(vue.openBlock(),vue.createBlock(vue.unref(ElFormItem),{key:3,label:"值2",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(ElInput),{modelValue:vue.unref(o).Relation.val2,"onUpdate:modelValue":f[4]||(f[4]=v=>vue.unref(o).Relation.val2=v)},null,8,["modelValue"])]),_:1})):vue.createCommentVNode("",!0)])}}}),condition_vue_vue_type_style_index_0_scoped_f43f10e6_lang="",Condition=_export_sfc$1(_sfc_main$7,[["__scopeId","data-v-f43f10e6"]]),_sfc_main$6=vue.defineComponent({__name:"bind-anchor",props:{modelValue:{},title:{}},emits:["update:modelValue"],setup(r,{emit:n}){const i=r,o=useGlobalStore(pinia),a=vue.computed({get(){return i.modelValue!==null},set(v){let g=null;v&&(g={target_id:"",type:""}),n("update:modelValue",g)}}),u=vue.computed({get(){var v;return((v=i.modelValue)==null?void 0:v.target_id)??void 0},set(v){let g=null;a.value&&(g={target_id:v,type:c.value}),n("update:modelValue",g)}}),c=vue.computed({get(){var v;return((v=i.modelValue)==null?void 0:v.type)??void 0},set(v){let g=null;a.value&&(g={target_id:u.value,type:v}),n("update:modelValue",g)}}),f=vue.computed(()=>o.done_json.filter(v=>v.type!==EDoneJsonType.ConnectionLine).map(v=>({label:v.title,value:v.id}))),d=[{label:"上锚点",value:ELineBindAnchors.TopCenter},{label:"右锚点",value:ELineBindAnchors.Right},{label:"下锚点",value:ELineBindAnchors.BottomCenter},{label:"左锚点",value:ELineBindAnchors.Left}];function h(){vue.nextTick(function(){var v,g;if(a.value&&((v=i.modelValue)!=null&&v.target_id)&&((g=i.modelValue)!=null&&g.type)&&o.handle_svg_info){let p=null;for(let y of o.done_json)y.id===i.modelValue.target_id&&(p=y);p&&(setSvgActualInfo(p),moveAnchors(p))}})}return(v,g)=>(vue.openBlock(),vue.createElementBlock(vue.Fragment,null,[vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:i.title,size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElSwitch),{modelValue:vue.unref(a),"onUpdate:modelValue":g[0]||(g[0]=p=>vue.isRef(a)?a.value=p:null),onChange:h},null,8,["modelValue"])]),_:1},8,["label"]),vue.unref(a)?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElFormItem),{key:0,label:"绑定对象",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElSelect),{modelValue:vue.unref(u),"onUpdate:modelValue":g[1]||(g[1]=p=>vue.isRef(u)?u.value=p:null),onChange:h},{default:vue.withCtx(()=>[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(vue.unref(f),p=>(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElOption),{key:p.value,label:p.label,value:p.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})):vue.createCommentVNode("",!0),vue.unref(a)?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElFormItem),{key:1,label:"绑定位置",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElSelect),{modelValue:vue.unref(c),"onUpdate:modelValue":g[2]||(g[2]=p=>vue.isRef(c)?c.value=p:null),onChange:h},{default:vue.withCtx(()=>[(vue.openBlock(),vue.createElementBlock(vue.Fragment,null,vue.renderList(d,p=>vue.createVNode(vue.unref(elementPlus.ElOption),{key:p.value,label:p.label,value:p.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})):vue.createCommentVNode("",!0)],64))}}),_withScopeId=r=>(vue.pushScopeId("data-v-9b4c5da1"),r=r(),vue.popScopeId(),r),_hoisted_1$3=_withScopeId(()=>vue.createElementVNode("span",{style:{"font-weight":"bold"}},"MQTT",-1)),_hoisted_2$2={key:2},_hoisted_3$2={class:"events-title"},_sfc_main$5=vue.defineComponent({__name:"right-panel",setup(r){const n=useConfigStore(pinia),i=useGlobalStore(pinia),o=useSvgEditLayoutStore(pinia),a=vue.ref("page"),u=vue.ref("style"),c=(_,b)=>{_!=null&&_.common_animations&&(_.common_animations.val=b)};n.$subscribe((_,b)=>{_.storeId==="config-store"&&localStorage.setItem("svg-editor-config",JSON.stringify(b))});const f=vue.ref(numberArray(20)),d=vue.ref(["MQTT"]),h=vue.ref();h.value=()=>{var b,A;let _={type:EEventType.Null,action:EEventAction.Null,target:"",scripts:"",condition:{type:EConditionType.None}};(A=(b=i.handle_svg_info)==null?void 0:b.info)==null||A.events.push(_)};const v=(_,b)=>{_==="ChangeAttr"?b.attrs=[{key:"",val:""}]:delete b.attrs},g=_=>{var b,A;(A=(b=i.handle_svg_info)==null?void 0:b.info)==null||A.events.splice(_,1)},p=()=>{o.center_offset={x:0,y:0}},y=(_,b,A)=>{vue.nextTick(function(){if(i.handle_svg_info){const w=i.done_json[i.handle_svg_info.index];A?setSvgActualInfo(w,A):setSvgActualInfo(w),moveAnchors(w)}})};return(_,b)=>vue.unref(i).intention!=vue.unref(EGlobalStoreIntention).Select?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElTabs),{key:0,class:"mx-2 rightTabs",modelValue:vue.unref(a),"onUpdate:modelValue":b[13]||(b[13]=A=>vue.isRef(a)?a.value=A:null)},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElTabPane),{label:"图纸",name:"page"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElForm),{"label-width":"60px","label-position":"left"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"背景色",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElColorPicker),{modelValue:vue.unref(n).svg.background_color,"onUpdate:modelValue":b[0]||(b[0]=A=>vue.unref(n).svg.background_color=A)},null,8,["modelValue"])]),_:1}),vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"画布",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElButton),{size:"small",onClick:p,icon:vue.unref(aim_default)},{default:vue.withCtx(()=>[vue.createTextVNode("重置位置")]),_:1},8,["icon"])]),_:1}),vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"X轴偏移",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElInputNumber),{modelValue:vue.unref(o).center_offset.x,"onUpdate:modelValue":b[1]||(b[1]=A=>vue.unref(o).center_offset.x=A)},null,8,["modelValue"])]),_:1}),vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"Y轴偏移",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElInputNumber),{modelValue:vue.unref(o).center_offset.y,"onUpdate:modelValue":b[2]||(b[2]=A=>vue.unref(o).center_offset.y=A)},null,8,["modelValue"])]),_:1}),vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"缩放",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElInputNumber),{modelValue:vue.unref(n).svg.scale,"onUpdate:modelValue":b[3]||(b[3]=A=>vue.unref(n).svg.scale=A),step:.1,"step-strictly":""},null,8,["modelValue"])]),_:1}),vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"标尺",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElSwitch),{modelValue:vue.unref(n).svg.ruler,"onUpdate:modelValue":b[4]||(b[4]=A=>vue.unref(n).svg.ruler=A)},null,8,["modelValue"])]),_:1}),vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"网格",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElSwitch),{modelValue:vue.unref(n).svg.grid,"onUpdate:modelValue":b[5]||(b[5]=A=>vue.unref(n).svg.grid=A)},null,8,["modelValue"])]),_:1}),vue.unref(n).svg.grid?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElFormItem),{key:0,label:"网格颜色",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElColorPicker),{modelValue:vue.unref(n).svg.grid_color,"onUpdate:modelValue":b[6]||(b[6]=A=>vue.unref(n).svg.grid_color=A)},null,8,["modelValue"])]),_:1})):vue.createCommentVNode("",!0)]),_:1})]),_:1}),vue.createVNode(vue.unref(elementPlus.ElTabPane),{label:"连线",name:"line"},{default:vue.withCtx(()=>[vue.unref(n).connection_line.props?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElForm),{key:0,"label-width":"60px","label-position":"left"},{default:vue.withCtx(()=>[vue.createVNode(DynamicElFormItem,{"obj-info":vue.unref(n).connection_line.props,hide:["point_position"]},null,8,["obj-info"])]),_:1})):vue.createCommentVNode("",!0),vue.unref(n).connection_line.animations?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElForm),{key:1,"label-width":"60px","label-position":"left"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:vue.unref(n).connection_line.animations.type.title,size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElSelect),{modelValue:vue.unref(n).connection_line.animations.type.val,"onUpdate:modelValue":b[7]||(b[7]=A=>vue.unref(n).connection_line.animations.type.val=A),placeholder:"Select",size:"small"},{default:vue.withCtx(()=>[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(vue.unref(n).connection_line.animations.type.options,A=>(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElOption),{key:A.value,label:A.label,value:A.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"]),vue.unref(n).connection_line.animations.type.val!=="None"?(vue.openBlock(),vue.createBlock(DynamicElFormItem,{key:0,"obj-info":vue.unref(n).connection_line.animations,hide:["type","repeatCount"]},null,8,["obj-info"])):vue.createCommentVNode("",!0)]),_:1})):vue.createCommentVNode("",!0)]),_:1}),vue.createVNode(vue.unref(elementPlus.ElTabPane),{label:"通信",name:"net"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElCollapse),{modelValue:vue.unref(d),"onUpdate:modelValue":b[12]||(b[12]=A=>vue.isRef(d)?d.value=A:null)},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElCollapseItem),{name:"MQTT"},{title:vue.withCtx(()=>[_hoisted_1$3]),default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElForm),{"label-width":"60px","label-position":"left"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"URL",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElInput),{modelValue:vue.unref(n).net.mqtt.url,"onUpdate:modelValue":b[8]||(b[8]=A=>vue.unref(n).net.mqtt.url=A),placeholder:"如 ws://127.0.0.1:4500"},null,8,["modelValue"])]),_:1}),vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"用户名",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElInput),{modelValue:vue.unref(n).net.mqtt.user,"onUpdate:modelValue":b[9]||(b[9]=A=>vue.unref(n).net.mqtt.user=A),placeholder:"username"},null,8,["modelValue"])]),_:1}),vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"密码",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElInput),{modelValue:vue.unref(n).net.mqtt.pwd,"onUpdate:modelValue":b[10]||(b[10]=A=>vue.unref(n).net.mqtt.pwd=A),placeholder:"password"},null,8,["modelValue"])]),_:1}),vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"Topics",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElInput),{modelValue:vue.unref(n).net.mqtt.topics,"onUpdate:modelValue":b[11]||(b[11]=A=>vue.unref(n).net.mqtt.topics=A),placeholder:"topics"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),vue.createVNode(vue.unref(elementPlus.ElTabPane),{label:"结构",name:"tree"},{default:vue.withCtx(()=>[vue.createVNode(_sfc_main$t)]),_:1})]),_:1},8,["modelValue"])):vue.unref(i).intention==vue.unref(EGlobalStoreIntention).Select&&vue.unref(i).handle_svg_info?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElTabs),{key:1,class:"mx-2 rightTabs",modelValue:vue.unref(u),"onUpdate:modelValue":b[34]||(b[34]=A=>vue.isRef(u)?u.value=A:null)},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElTabPane),{label:"外观",name:"style"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElForm),{"label-width":"60px","label-position":"left"},{default:vue.withCtx(()=>{var A,w,T,S;return[vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"标题",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElInput),{modelValue:vue.unref(i).handle_svg_info.info.title,"onUpdate:modelValue":b[14]||(b[14]=x=>vue.unref(i).handle_svg_info.info.title=x)},null,8,["modelValue"])]),_:1}),vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"X坐标",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElInputNumber),{modelValue:vue.unref(i).handle_svg_info.info.x,"onUpdate:modelValue":b[15]||(b[15]=x=>vue.unref(i).handle_svg_info.info.x=x),onChange:y},null,8,["modelValue"])]),_:1}),vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"Y坐标",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElInputNumber),{modelValue:vue.unref(i).handle_svg_info.info.y,"onUpdate:modelValue":b[16]||(b[16]=x=>vue.unref(i).handle_svg_info.info.y=x),onChange:y},null,8,["modelValue"])]),_:1}),vue.withDirectives(vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"X缩放",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElInputNumber),{modelValue:vue.unref(i).handle_svg_info.info.scale_x,"onUpdate:modelValue":b[17]||(b[17]=x=>vue.unref(i).handle_svg_info.info.scale_x=x),onChange:y},null,8,["modelValue"])]),_:1},512),[[vue.vShow,(w=(A=vue.unref(i).handle_svg_info)==null?void 0:A.info)==null?void 0:w.config.can_zoom]]),vue.withDirectives(vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"Y缩放",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElInputNumber),{modelValue:vue.unref(i).handle_svg_info.info.scale_y,"onUpdate:modelValue":b[18]||(b[18]=x=>vue.unref(i).handle_svg_info.info.scale_y=x),onChange:y},null,8,["modelValue"])]),_:1},512),[[vue.vShow,(S=(T=vue.unref(i).handle_svg_info)==null?void 0:T.info)==null?void 0:S.config.can_zoom]]),vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"旋转",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElInputNumber),{modelValue:vue.unref(i).handle_svg_info.info.rotate,"onUpdate:modelValue":b[19]||(b[19]=x=>vue.unref(i).handle_svg_info.info.rotate=x),onChange:y},null,8,["modelValue"])]),_:1}),vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"显示",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElSwitch),{modelValue:vue.unref(i).handle_svg_info.info.display,"onUpdate:modelValue":b[20]||(b[20]=x=>vue.unref(i).handle_svg_info.info.display=x)},null,8,["modelValue"])]),_:1})]}),_:1})]),_:1}),vue.createVNode(vue.unref(elementPlus.ElTabPane),{label:"数据",name:"data"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElForm),{"label-width":"90px","label-position":"left"},{default:vue.withCtx(()=>{var A,w,T,S,x,O,L,M;return[vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"ID",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElInput),{modelValue:vue.unref(i).handle_svg_info.info.id,"onUpdate:modelValue":b[21]||(b[21]=re=>vue.unref(i).handle_svg_info.info.id=re)},null,8,["modelValue"])]),_:1}),(w=(A=vue.unref(i).handle_svg_info)==null?void 0:A.info)!=null&&w.state?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElFormItem),{key:0,class:"props-row",label:"state",size:"small"},{default:vue.withCtx(()=>[vue.createTextVNode(vue.toDisplayString(vue.unref(i).handle_svg_info.info.defaultState),1)]),_:1})):vue.createCommentVNode("",!0),(S=(T=vue.unref(i).handle_svg_info)==null?void 0:T.info)!=null&&S.state?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElFormItem),{key:1,label:"状态",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElSelect),{modelValue:vue.unref(i).handle_svg_info.info.defaultState,"onUpdate:modelValue":b[22]||(b[22]=re=>vue.unref(i).handle_svg_info.info.defaultState=re),placeholder:"Select",size:"small"},{default:vue.withCtx(()=>[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(vue.unref(i).handle_svg_info.info.state,(re,F)=>(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElOption),{key:"state"+String(F),label:re.label,value:F},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})):vue.createCommentVNode("",!0),(x=vue.unref(i).handle_svg_info.info)!=null&&x.hasOwnProperty("tag_slot")?(vue.openBlock(),vue.createElementBlock("div",_hoisted_2$2,[vue.createVNode(vue.unref(elementPlus.ElFormItem),{class:"props-row",label:"tag_slot",size:"small"},{default:vue.withCtx(()=>[vue.createTextVNode(vue.toDisplayString(vue.unref(i).handle_svg_info.info.tag_slot),1)]),_:1}),vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"文字插槽",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElInput),{modelValue:vue.unref(i).handle_svg_info.info.tag_slot,"onUpdate:modelValue":b[23]||(b[23]=re=>vue.unref(i).handle_svg_info.info.tag_slot=re),onInput:b[24]||(b[24]=re=>y(re,null,!0))},null,8,["modelValue"])]),_:1})])):vue.createCommentVNode("",!0),vue.createVNode(DynamicElFormItem,{"obj-info":vue.unref(i).handle_svg_info.info.props,code:"",onChange:b[25]||(b[25]=re=>y(re,null,!0))},null,8,["obj-info"]),vue.unref(i).handle_svg_info.info.animations?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElFormItem),{key:3,label:vue.unref(i).handle_svg_info.info.animations.type.title,size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElSelect),{modelValue:vue.unref(i).handle_svg_info.info.animations.type.val,"onUpdate:modelValue":b[26]||(b[26]=re=>vue.unref(i).handle_svg_info.info.animations.type.val=re),placeholder:"Select",size:"small"},{default:vue.withCtx(()=>[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(vue.unref(i).handle_svg_info.info.animations.type.options,re=>(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElOption),{key:re.value,label:re.label,value:re.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"])):vue.createCommentVNode("",!0),((O=vue.unref(i).handle_svg_info.info.animations)==null?void 0:O.type.val)!=="None"?(vue.openBlock(),vue.createBlock(DynamicElFormItem,{key:4,"obj-info":vue.unref(i).handle_svg_info.info.animations,hide:["type","repeatCount"]},null,8,["obj-info"])):vue.createCommentVNode("",!0),((L=vue.unref(i).handle_svg_info)==null?void 0:L.info.type)===vue.unref(EDoneJsonType).ConnectionLine?(vue.openBlock(),vue.createBlock(_sfc_main$6,{key:5,modelValue:vue.unref(i).handle_svg_info.info.bind_anchors.start,"onUpdate:modelValue":b[27]||(b[27]=re=>vue.unref(i).handle_svg_info.info.bind_anchors.start=re),title:"绑定起点"},null,8,["modelValue"])):vue.createCommentVNode("",!0),((M=vue.unref(i).handle_svg_info)==null?void 0:M.info.type)===vue.unref(EDoneJsonType).ConnectionLine?(vue.openBlock(),vue.createBlock(_sfc_main$6,{key:6,modelValue:vue.unref(i).handle_svg_info.info.bind_anchors.end,"onUpdate:modelValue":b[28]||(b[28]=re=>vue.unref(i).handle_svg_info.info.bind_anchors.end=re),title:"绑定终点"},null,8,["modelValue"])):vue.createCommentVNode("",!0)]}),_:1})]),_:1}),vue.createVNode(vue.unref(elementPlus.ElTabPane),{label:"事件",name:"event"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElButton),{type:"primary",style:{width:"100%"},onClick:vue.unref(h)},{default:vue.withCtx(()=>[vue.createTextVNode("添加事件")]),_:1},8,["onClick"]),vue.createVNode(vue.unref(elementPlus.ElCollapse),{modelValue:vue.unref(f),"onUpdate:modelValue":b[29]||(b[29]=A=>vue.isRef(f)?f.value=A:null)},{default:vue.withCtx(()=>[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(vue.unref(i).handle_svg_info.info.events,(A,w)=>(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElCollapseItem),{name:w,key:"event"+w},{title:vue.withCtx(()=>[vue.createElementVNode("div",_hoisted_3$2,[vue.createElementVNode("span",null,"事件"+vue.toDisplayString(w+1),1),vue.createVNode(vue.unref(elementPlus.ElIcon),{size:16,class:"bt-Icon",onClick:vue.withModifiers(T=>g(w),["stop"])},{default:vue.withCtx(()=>[vue.createVNode(_sfc_main$D,{name:"delete"})]),_:2},1032,["onClick"])])]),default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElForm),{"label-width":"90px","label-position":"left"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"类型",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElSelect),{modelValue:A.type,"onUpdate:modelValue":T=>A.type=T},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElOption),{value:"Click",label:"点击"}),vue.createVNode(vue.unref(elementPlus.ElOption),{value:"Change",label:"值改变"})]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024),vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"行为",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElSelect),{modelValue:A.action,"onUpdate:modelValue":T=>A.action=T,onChange:T=>v(T,A)},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElOption),{value:"ChangeAttr",label:"改变属性"}),vue.createVNode(vue.unref(elementPlus.ElOption),{value:"JavaScript",label:"执行JavaScript"})]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024),A.action==="ChangeAttr"?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElFormItem),{key:0,label:"目标",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElInput),{modelValue:A.target,"onUpdate:modelValue":T=>A.target=T,placeholder:"默认自身"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)):vue.createCommentVNode("",!0),A.action==="ChangeAttr"?(vue.openBlock(),vue.createBlock(List,{key:1,modelValue:A.attrs,"onUpdate:modelValue":T=>A.attrs=T},null,8,["modelValue","onUpdate:modelValue"])):vue.createCommentVNode("",!0),A.action==="JavaScript"?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElFormItem),{key:2,label:"JavaScript",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(_sfc_main$w,{modelValue:A.scripts,"onUpdate:modelValue":T=>A.scripts=T,lang:"javascript"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)):vue.createCommentVNode("",!0),vue.createVNode(Condition,{modelValue:A.condition,"onUpdate:modelValue":T=>A.condition=T},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"])]),_:1}),vue.createVNode(vue.unref(elementPlus.ElTabPane),{label:"动效",name:"animation"},{default:vue.withCtx(()=>{var A;return[(A=vue.unref(i).handle_svg_info)!=null&&A.info.animations?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElForm),{key:0,"label-width":"60px","label-position":"left"},{default:vue.withCtx(()=>[vue.createVNode(DynamicElFormItem,{"obj-info":vue.unref(i).handle_svg_info.info.animations},null,8,["obj-info"])]),_:1})):vue.unref(i).handle_svg_info.info.common_animations?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElForm),{key:1,"label-width":"60px","label-position":"left"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"动画效果",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(CommonAnimate,{onUpdateCommonAniVal:b[30]||(b[30]=w=>{var T;return c((T=vue.unref(i).handle_svg_info)==null?void 0:T.info,w)}),val:vue.unref(i).handle_svg_info.info.common_animations.val},null,8,["val"])]),_:1}),vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"延迟",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElSelect),{modelValue:vue.unref(i).handle_svg_info.info.common_animations.delay,"onUpdate:modelValue":b[31]||(b[31]=w=>vue.unref(i).handle_svg_info.info.common_animations.delay=w)},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElOption),{value:"delay-0s",label:"无"}),vue.createVNode(vue.unref(elementPlus.ElOption),{value:"delay-1s",label:"1秒"}),vue.createVNode(vue.unref(elementPlus.ElOption),{value:"delay-2s",label:"2秒"}),vue.createVNode(vue.unref(elementPlus.ElOption),{value:"delay-3s",label:"3秒"}),vue.createVNode(vue.unref(elementPlus.ElOption),{value:"delay-4s",label:"4秒"}),vue.createVNode(vue.unref(elementPlus.ElOption),{value:"delay-5s",label:"5秒"})]),_:1},8,["modelValue"])]),_:1}),vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"动画速度",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElSelect),{modelValue:vue.unref(i).handle_svg_info.info.common_animations.speed,"onUpdate:modelValue":b[32]||(b[32]=w=>vue.unref(i).handle_svg_info.info.common_animations.speed=w)},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElOption),{value:"slow",label:"慢"}),vue.createVNode(vue.unref(elementPlus.ElOption),{value:"slower",label:"最慢"}),vue.createVNode(vue.unref(elementPlus.ElOption),{value:"fast",label:"快"}),vue.createVNode(vue.unref(elementPlus.ElOption),{value:"faster",label:"最快"})]),_:1},8,["modelValue"])]),_:1}),vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"循环次数",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElSelect),{modelValue:vue.unref(i).handle_svg_info.info.common_animations.repeat,"onUpdate:modelValue":b[33]||(b[33]=w=>vue.unref(i).handle_svg_info.info.common_animations.repeat=w)},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElOption),{value:"repeat-1",label:"一次"}),vue.createVNode(vue.unref(elementPlus.ElOption),{value:"repeat-2",label:"两次"}),vue.createVNode(vue.unref(elementPlus.ElOption),{value:"repeat-3",label:"三次"}),vue.createVNode(vue.unref(elementPlus.ElOption),{value:"infinite",label:"无限次"})]),_:1},8,["modelValue"])]),_:1})]),_:1})):vue.createCommentVNode("",!0)]}),_:1}),vue.createVNode(vue.unref(elementPlus.ElTabPane),{label:"结构",name:"tree"},{default:vue.withCtx(()=>[vue.createVNode(_sfc_main$t)]),_:1})]),_:1},8,["modelValue"])):vue.createCommentVNode("",!0)}}),rightPanel_vue_vue_type_style_index_0_scoped_9b4c5da1_lang="",rightPanel_vue_vue_type_style_index_1_lang="",RightPanel=_export_sfc$1(_sfc_main$5,[["__scopeId","data-v-9b4c5da1"]]),_sfc_main$4=vue.defineComponent({__name:"export-json",setup(r){const n=vue.ref(""),i=useGlobalStore(pinia),o=useSvgEditLayoutStore(pinia),a=useConfigStore(pinia);return vue.onMounted(()=>{const u={layout_center:o.center_offset,config:a.$state,done_json:i.done_json};n.value=JSON.stringify(u,null,2)}),(u,c)=>(vue.openBlock(),vue.createBlock(vue.unref(VAceEditor),{value:vue.unref(n),"onUpdate:value":c[0]||(c[0]=f=>vue.isRef(n)?n.value=f:null),lang:"json",theme:"kr_theme",style:{height:"400px"},options:{useWorker:!0,enableBasicAutocompletion:!0,enableSnippets:!0,enableLiveAutocompletion:!0}},null,8,["value"]))}}),_sfc_main$3=vue.defineComponent({__name:"import-json",setup(r,{expose:n}){const i=vue.ref("");return n({setVal:u=>{i.value=u},onImportJson:()=>{useImportDataModel(i.value)&&elementPlus.ElMessage.success("导入成功")}}),(u,c)=>(vue.openBlock(),vue.createBlock(vue.unref(VAceEditor),{value:vue.unref(i),"onUpdate:value":c[0]||(c[0]=f=>vue.isRef(i)?i.value=f:null),lang:"json",theme:"kr_theme",style:{height:"400px"},options:{useWorker:!0,enableBasicAutocompletion:!0,enableSnippets:!0,enableLiveAutocompletion:!0}},null,8,["value"]))}}),_hoisted_1$2=["onMousedown"],_hoisted_2$1=["onMousedown"],_hoisted_3$1=["title","onMousedown"],_hoisted_4$1={class:"vue-ruler-content-mask"},_sfc_main$2=vue.defineComponent({__name:"vue3-ruler-tool",props:{visible:{type:Boolean,default:!0},stepLength:{default:100}},emits:["onLineMouseUp"],setup(r,{emit:n}){const i=r,o=useSvgEditLayoutStore(pinia),a=useConfigStore(pinia),u=function(){return function($e,Ce,ue){$e&&Ce&&ue&&$e.addEventListener(Ce,ue,!1)}}(),c=function(){return function($e,Ce,ue){$e&&Ce&&$e.removeEventListener(Ce,ue,!1)}}();let f=18,d=vue.ref(0),h=vue.ref(0),v=vue.ref([]),g=vue.ref([]);const p=vue.ref([]);let y=vue.ref(!1),_="",b=vue.ref(-999),A=vue.ref(-999),w=18,T=18,S="";const x=vue.ref(null),O=vue.ref(null),L=vue.ref(null),M=vue.ref(null),re=vue.computed(()=>({width:d.value+"px",height:h.value+"px"})),F=vue.computed(()=>({padding:f+"px 0px 0px "+f+"px"})),j=vue.computed(()=>{let $e=0,Ce=0;return p.value.map(ue=>{const At=ue.type==="h";return{id:`${ue.type}_${At?$e++:Ce++}`,type:ue.type,title:ue.site.toFixed(0)+"px",[At?"top":"left"]:ue.site*a.svg.scale+f+o.center_offset[At?"y":"x"]*a.svg.scale}})});o.$subscribe($e=>{var Ce,ue,At,Ne;((ue=(Ce=$e.events)==null?void 0:Ce.target)!=null&&ue.hasOwnProperty("left_nav")||(Ne=(At=$e.events)==null?void 0:At.target)!=null&&Ne.hasOwnProperty("right_nav"))&&window.setTimeout(V,420)}),a.$subscribe($e=>{var Ce,ue;(ue=(Ce=$e.events)==null?void 0:Ce.target)!=null&&ue.hasOwnProperty("scale")&&Ie()}),vue.onMounted(()=>{u(document,"mousemove",pe),u(document,"mouseup",Et),V(),u(window,"resize",z)}),vue.onBeforeUnmount(()=>{c(document,"mousemove",pe),c(document,"mouseup",Et),c(window,"resize",z)});const V=()=>{le(),Ie()},z=()=>{v.value=[],g.value=[],V()},$=({type:$e,top:Ce,left:ue})=>$e==="h"?{top:Ce+"px"}:{left:ue+"px"},he=({type:$e,id:Ce})=>$e==="h"?qe(Ce):Pt(Ce),le=()=>{const $e=window.getComputedStyle(O.value.parentNode,null);d.value=parseInt($e.getPropertyValue("width")),h.value=parseInt($e.getPropertyValue("height")),w=L.value.clientWidth,T=M.value.clientHeight},Ie=()=>{Fe(v.value,d.value,o.center_offset.x),Fe(g.value,h.value,o.center_offset.y)},Fe=($e,Ce,ue)=>{if($e.length===0)for(let At=0;At<Ce;At+=i.stepLength)At%i.stepLength===0&&$e.push({id:Number((At/a.svg.scale-ue).toFixed(0))});else $e.forEach((At,Ne)=>{At.id=Number((Ne*i.stepLength/a.svg.scale-ue).toFixed(0))})},pe=$e=>{Ie(),Lt($e)},Lt=$e=>{if(!($e.layerX===$e.x||$e.layerY===$e.y))switch(_){case"x":y.value&&(A.value=$e.layerY);break;case"y":y.value&&(b.value=$e.layerX);break;case"h":y.value&&(A.value=$e.layerY);break;case"v":y.value&&(b.value=$e.layerX);break}},_e=$e=>{y.value=!0,_=$e},Et=$e=>{Cn($e)},Cn=$e=>{if(y.value){switch(y.value=!1,_){case"x":const Ce=Math.round(($e.layerY-f)/a.svg.scale-o.center_offset.y);if(Ce<=0){A.value=-999;return}p.value.push({type:"h",site:Ce});break;case"y":const ue=Math.round(($e.layerX-f)/a.svg.scale-o.center_offset.x);if(ue<=0){b.value=-999;return}p.value.push({type:"v",site:ue});break;case"h":vn(p.value,Math.round(($e.layerY-f)/a.svg.scale-o.center_offset.y),Math.round(T/a.svg.scale-o.center_offset.y),"h");break;case"v":vn(p.value,Math.round(($e.layerX-f)/a.svg.scale-o.center_offset.x),Math.round(w/a.svg.scale-o.center_offset.x),"v");break}A.value=b.value=-999}},vn=($e,Ce,ue,At)=>{if(Ce<ue){let Ne;j.value.forEach((Oe,kt)=>{Oe.id===S&&(Ne=kt)}),$e.splice(Ne,1)}else{let Ne;j.value.forEach((Oe,kt)=>{Oe.id===S&&(Ne=kt)}),$e.splice(Ne,1,{type:At,site:Ce})}},Dt=()=>{_e("x")},de=()=>{_e("y")},qe=$e=>{y.value=!0,_="h",S=$e},Pt=$e=>{y.value=!0,_="v",S=$e},In=()=>{n("onLineMouseUp")};return($e,Ce)=>(vue.openBlock(),vue.createElementBlock("div",{style:vue.normalizeStyle(vue.unref(re)),class:"vue-ruler-wrapper",onselectStart:"return false;",ref_key:"el",ref:O},[vue.withDirectives(vue.createElementVNode("section",null,[vue.createElementVNode("div",{ref_key:"horizontalRuler",ref:M,class:"vue-ruler-h",onMousedown:vue.withModifiers(Dt,["stop"])},[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(vue.unref(v),(ue,At)=>(vue.openBlock(),vue.createElementBlock("span",{style:vue.normalizeStyle({left:At*$e.stepLength+"px"}),class:"n"},vue.toDisplayString(ue.id),5))),256))],40,_hoisted_1$2),vue.createElementVNode("div",{ref_key:"verticalRuler",ref:L,class:"vue-ruler-v",onMousedown:vue.withModifiers(de,["stop"])},[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(vue.unref(g),(ue,At)=>(vue.openBlock(),vue.createElementBlock("span",{style:vue.normalizeStyle({top:At*$e.stepLength+"px"}),class:"n"},vue.toDisplayString(ue.id),5))),256))],40,_hoisted_2$1),vue.createElementVNode("div",{style:vue.normalizeStyle({top:vue.unref(A)+"px"}),class:"vue-ruler-ref-dot-h"},[vue.createElementVNode("span",null,vue.toDisplayString(Math.round((vue.unref(A)-vue.unref(T))/vue.unref(a).svg.scale)),1)],4),vue.createElementVNode("div",{style:vue.normalizeStyle({left:vue.unref(b)+"px"}),class:"vue-ruler-ref-dot-v"},[vue.createElementVNode("span",null,vue.toDisplayString(Math.round((vue.unref(b)-vue.unref(w))/vue.unref(a).svg.scale)),1)],4),(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(vue.unref(j),ue=>(vue.openBlock(),vue.createElementBlock("div",{title:ue.title,style:vue.normalizeStyle($(ue)),key:ue.id,class:vue.normalizeClass(`vue-ruler-ref-line-${ue.type}`),onMousedown:At=>he(ue),onMouseup:In,onContextmenu:Ce[0]||(Ce[0]=(...At)=>vue.unref(preventDefault)&&vue.unref(preventDefault)(...At))},null,46,_hoisted_3$1))),128))],512),[[vue.vShow,i.visible]]),vue.createElementVNode("div",{ref_key:"content",ref:x,class:"vue-ruler-content",style:vue.normalizeStyle(vue.unref(F))},[vue.renderSlot($e.$slots,"default")],4),vue.withDirectives(vue.createElementVNode("div",_hoisted_4$1,null,512),[[vue.vShow,vue.unref(y)]])],4))}}),vue3RulerTool_vue_vue_type_style_index_0_lang="";function fileWrite(r,n=new Date(Date.now()).toLocaleString()){const i=JSON.stringify(r),o=new Blob([i]);let a=document.createElement("a");a.download=n+".json",a.style.display="none",a.href=URL.createObjectURL(o),document.body.appendChild(a),a.click(),document.body.removeChild(a)}function fileRead(r){return new Promise((n,i)=>{let o=new FileReader;o.readAsText(r,"UTF-8"),o.onload=function(a){a&&a.target?n(a.target.result):i("文件读取错误")}})}const _hoisted_1$1={class:"canvas-main-pc"},_sfc_main$1=vue.defineComponent({__name:"index",props:{customToolbar:{},vueComp:{},data:{},saveFile:{type:Boolean,default:!1}},emits:["onReturn","onPreview","onSave"],setup(r,{expose:n,emit:i}){const o=r;setEditorLoadTime();const a=useGlobalStore(pinia),u=useSvgEditLayoutStore(pinia),c=useConfigStore(pinia),f=useEditPrivateStore(pinia),d=vue.ref(),h=vue.ref(),v=vue.reactive({[EVisibleConfKey.ExportJson]:!1,[EVisibleConfKey.ImportJson]:!1,[EVisibleConfKey.ImportFile]:!1}),g=(S,x)=>{v[S]=x},p=vue.ref();p.value=()=>{h.value.onImportJson(),g(EVisibleConfKey.ImportJson,!1)};const y=S=>["text/plain","application/json"].indexOf(S.type)<0?(elementPlus.ElMessage.error("仅支持的格式：txt、json"),!1):(fileRead(S).then(x=>{h.value.setVal(x),elementPlus.ElMessage.success("文件读取成功！")}),!1),_=S=>{a.setDoneJson(S)};vue.onMounted(()=>{f.history_doneComponent=[],f.history_now_index=0,o.data?useImportDataModel(o.data):a.setDoneJson([]),a.intention=EGlobalStoreIntention.None});const{appContext:b}=vue.getCurrentInstance();function A(S){i("onReturn",{data:S,isChange:f.getTopBtnUndoStatus})}function w(S){o.saveFile?elementPlus.ElMessageBox.prompt("请输入文件名","保存",{cancelButtonText:"取消",confirmButtonText:"保存"},b).then(x=>{fileWrite(S,x.value.trim()),i("onSave",S)}).catch(x=>{console.log(x)}):i("onSave",S)}function T(){d.value.onCanvasMouseUp()}return n({setGraphNodeJson:_}),(S,x)=>(vue.openBlock(),vue.createElementBlock("div",null,[vue.createVNode(vue.unref(elementPlus.ElContainer),null,{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElHeader),{class:"top-el-header"},{default:vue.withCtx(()=>[vue.createVNode(TopPanel,{onChangeVisible:g,onOnReturn:A,onOnPreview:x[0]||(x[0]=O=>i("onPreview",O)),onOnSave:w})]),_:1}),vue.createVNode(vue.unref(elementPlus.ElContainer),{class:"middle"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElAside),{class:vue.normalizeClass(["side-nav",vue.unref(u).left_nav?"show-nav":"hide-nav"]),style:{"border-right":"1px solid #efefef"}},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElScrollbar),{class:"el-scroll-pc"},{default:vue.withCtx(()=>[vue.createVNode(LeftPanel,{class:"content-left","custom-toolbar":o.customToolbar},null,8,["custom-toolbar"])]),_:1})]),_:1},8,["class"]),vue.createVNode(vue.unref(elementPlus.ElMain),{class:"middle main"},{default:vue.withCtx(()=>[vue.createElementVNode("div",_hoisted_1$1,[vue.createVNode(_sfc_main$2,{class:"canvas-main-pc",visible:vue.unref(c).svg.ruler,onOnLineMouseUp:T},{default:vue.withCtx(()=>[vue.createVNode(CenterPanel,{ref_key:"centerRef",ref:d,vueComp:o.vueComp},{background:vue.withCtx(()=>[vue.renderSlot(S.$slots,"background",{},void 0,!0)]),_:3},8,["vueComp"])]),_:3},8,["visible"])])]),_:3}),vue.createVNode(vue.unref(elementPlus.ElAside),{class:vue.normalizeClass(["side-nav",vue.unref(u).right_nav?"show-nav":"hide-nav"]),style:{"border-left":"1px solid #efefef"}},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElScrollbar),{class:"el-scroll-pc"},{default:vue.withCtx(()=>[vue.createVNode(RightPanel)]),_:1})]),_:1},8,["class"])]),_:3})]),_:3}),vue.createVNode(vue.unref(elementPlus.ElDialog),{class:"modal-full",modelValue:vue.unref(v).ImportJson,"onUpdate:modelValue":x[2]||(x[2]=O=>vue.unref(v).ImportJson=O),title:"导入数据",width:"60%","destroy-on-close":""},{footer:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElUpload),{beforeUpload:y,style:{display:"inline-flex","margin-right":"12px"},multiple:!1,"show-file-list":!1,limit:1},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElButton),{onClick:x[1]||(x[1]=O=>g(vue.unref(EVisibleConfKey).ImportFile,!0))},{default:vue.withCtx(()=>[vue.createTextVNode("读取文件")]),_:1})]),_:1}),vue.createVNode(vue.unref(elementPlus.ElButton),{type:"primary",onClick:vue.unref(p)},{default:vue.withCtx(()=>[vue.createTextVNode("导入数据")]),_:1},8,["onClick"])]),default:vue.withCtx(()=>[vue.createVNode(_sfc_main$3,{ref_key:"importJsonRef",ref:h},null,512)]),_:1},8,["modelValue"]),vue.createVNode(vue.unref(elementPlus.ElDialog),{class:"modal-full",modelValue:vue.unref(v).ExportJson,"onUpdate:modelValue":x[3]||(x[3]=O=>vue.unref(v).ExportJson=O),title:"导出",width:"60%","destroy-on-close":""},{default:vue.withCtx(()=>[vue.createVNode(_sfc_main$4)]),_:1},8,["modelValue"])]))}}),index_vue_vue_type_style_index_0_scoped_ed6b1a90_lang="",index=_export_sfc$1(_sfc_main$1,[["__scopeId","data-v-ed6b1a90"]]);function commonjsRequire(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var mqtt={exports:{}};(function(r,n){(function(i){r.exports=i()})(function(){return function(){function i(o,a,u){function c(h,v){if(!a[h]){if(!o[h]){var g=typeof commonjsRequire=="function"&&commonjsRequire;if(!v&&g)return g(h,!0);if(f)return f(h,!0);var p=new Error("Cannot find module '"+h+"'");throw p.code="MODULE_NOT_FOUND",p}var y=a[h]={exports:{}};o[h][0].call(y.exports,function(_){var b=o[h][1][_];return c(b||_)},y,y.exports,i,o,a,u)}return a[h].exports}for(var f=typeof commonjsRequire=="function"&&commonjsRequire,d=0;d<u.length;d++)c(u[d]);return c}return i}()({1:[function(i,o,a){var u=this&&this.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(a,"__esModule",{value:!0}),a.TypedEventEmitter=void 0;const c=u(i("events")),f=i("./shared");class d{}a.TypedEventEmitter=d,(0,f.applyMixin)(d,c.default)},{"./shared":17,events:49}],2:[function(i,o,a){(function(u,c){(function(){var f=this&&this.__createBinding||(Object.create?function(V,z,$,he){he===void 0&&(he=$);var le=Object.getOwnPropertyDescriptor(z,$);(!le||("get"in le?!z.__esModule:le.writable||le.configurable))&&(le={enumerable:!0,get:function(){return z[$]}}),Object.defineProperty(V,he,le)}:function(V,z,$,he){he===void 0&&(he=$),V[he]=z[$]}),d=this&&this.__setModuleDefault||(Object.create?function(V,z){Object.defineProperty(V,"default",{enumerable:!0,value:z})}:function(V,z){V.default=z}),h=this&&this.__importStar||function(V){if(V&&V.__esModule)return V;var z={};if(V!=null)for(var $ in V)$!=="default"&&Object.prototype.hasOwnProperty.call(V,$)&&f(z,V,$);return d(z,V),z},v=this&&this.__importDefault||function(V){return V&&V.__esModule?V:{default:V}};Object.defineProperty(a,"__esModule",{value:!0});const g=v(i("./topic-alias-recv")),p=v(i("mqtt-packet")),y=v(i("./default-message-id-provider")),_=i("readable-stream"),b=v(i("reinterval")),A=v(i("rfdc/default")),w=h(i("./validations")),T=v(i("debug")),S=v(i("./store")),x=v(i("./handlers")),O=i("./TypedEmitter"),L=u?u.nextTick:V=>{setTimeout(V,0)},M=c.setImmediate||((...V)=>{const z=V.shift();L(()=>{z(...V)})}),re={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:30*1e3,clean:!0,resubscribe:!0,writeCache:!0},F=["ECONNREFUSED","EADDRINUSE","ECONNRESET","ENOTFOUND","ETIMEDOUT"];class j extends O.TypedEventEmitter{static defaultId(){return`mqttjs_${Math.random().toString(16).substr(2,8)}`}constructor(z,$){super(),this.options=$||{};for(const he in re)typeof this.options[he]>"u"?this.options[he]=re[he]:this.options[he]=$[he];this.log=this.options.log||(0,T.default)("mqttjs:client"),this.noop=this._noop.bind(this),this.log("MqttClient :: options.protocol",$.protocol),this.log("MqttClient :: options.protocolVersion",$.protocolVersion),this.log("MqttClient :: options.username",$.username),this.log("MqttClient :: options.keepalive",$.keepalive),this.log("MqttClient :: options.reconnectPeriod",$.reconnectPeriod),this.log("MqttClient :: options.rejectUnauthorized",$.rejectUnauthorized),this.log("MqttClient :: options.properties.topicAliasMaximum",$.properties?$.properties.topicAliasMaximum:void 0),this.options.clientId=typeof $.clientId=="string"?$.clientId:j.defaultId(),this.log("MqttClient :: clientId",this.options.clientId),this.options.customHandleAcks=$.protocolVersion===5&&$.customHandleAcks?$.customHandleAcks:(...he)=>{he[3](null,0)},this.options.writeCache||(p.default.writeToStream.cacheNumbers=!1),this.streamBuilder=z,this.messageIdProvider=typeof this.options.messageIdProvider>"u"?new y.default:this.options.messageIdProvider,this.outgoingStore=$.outgoingStore||new S.default,this.incomingStore=$.incomingStore||new S.default,this.queueQoSZero=$.queueQoSZero===void 0?!0:$.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.pingTimer=null,this.connected=!1,this.disconnecting=!1,this.reconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this._storeProcessingQueue=[],this.outgoing={},this._firstConnection=!0,$.properties&&$.properties.topicAliasMaximum>0&&($.properties.topicAliasMaximum>65535?this.log("MqttClient :: options.properties.topicAliasMaximum is out of range"):this.topicAliasRecv=new g.default($.properties.topicAliasMaximum)),this.on("connect",()=>{const{queue:he}=this,le=()=>{const Ie=he.shift();this.log("deliver :: entry %o",Ie);let Fe=null;if(!Ie){this._resubscribe();return}Fe=Ie.packet,this.log("deliver :: call _sendPacket for %o",Fe);let pe=!0;Fe.messageId&&Fe.messageId!==0&&(this.messageIdProvider.register(Fe.messageId)||(pe=!1)),pe?this._sendPacket(Fe,Lt=>{Ie.cb&&Ie.cb(Lt),le()}):(this.log("messageId: %d has already used. The message is skipped and removed.",Fe.messageId),le())};this.log("connect :: sending queued packets"),le()}),this.on("close",()=>{this.log("close :: connected set to `false`"),this.connected=!1,this.log("close :: clearing connackTimer"),clearTimeout(this.connackTimer),this.log("close :: clearing ping timer"),this.pingTimer!==null&&(this.pingTimer.clear(),this.pingTimer=null),this.topicAliasRecv&&this.topicAliasRecv.clear(),this.log("close :: calling _setupReconnect"),this._setupReconnect()}),this.options.manualConnect||(this.log("MqttClient :: setting up stream"),this.connect())}handleAuth(z,$){$()}handleMessage(z,$){$()}_nextId(){return this.messageIdProvider.allocate()}getLastMessageId(){return this.messageIdProvider.getLastAllocated()}connect(){var z;const $=new _.Writable,he=p.default.parser(this.options);let le=null;const Ie=[];this.log("connect :: calling method to clear reconnect"),this._clearReconnect(),this.log("connect :: using streamBuilder provided to client to create stream"),this.stream=this.streamBuilder(this),he.on("packet",Et=>{this.log("parser :: on packet push to packets array."),Ie.push(Et)});const Fe=()=>{this.log("work :: getting next packet in queue");const Et=Ie.shift();if(Et)this.log("work :: packet pulled from queue"),(0,x.default)(this,Et,pe);else{this.log("work :: no packets in queue");const Cn=le;le=null,this.log("work :: done flag is %s",!!Cn),Cn&&Cn()}},pe=()=>{if(Ie.length)L(Fe);else{const Et=le;le=null,Et()}};$._write=(Et,Cn,vn)=>{le=vn,this.log("writable stream :: parsing buffer"),he.parse(Et),Fe()};const Lt=Et=>{this.log("streamErrorHandler :: error",Et.message),F.includes(Et.code)?(this.log("streamErrorHandler :: emitting error"),this.emit("error",Et)):this.noop(Et)};this.log("connect :: pipe stream to writable stream"),this.stream.pipe($),this.stream.on("error",Lt),this.stream.on("close",()=>{this.log("(%s)stream :: on close",this.options.clientId),this._flushVolatile(),this.log("stream: emit close to MqttClient"),this.emit("close")}),this.log("connect: sending packet `connect`");const _e={cmd:"connect",protocolId:this.options.protocolId,protocolVersion:this.options.protocolVersion,clean:this.options.clean,clientId:this.options.clientId,keepalive:this.options.keepalive,username:this.options.username,password:this.options.password,properties:this.options.properties};if(this.options.will&&(_e.will=Object.assign(Object.assign({},this.options.will),{payload:(z=this.options.will)===null||z===void 0?void 0:z.payload})),this.topicAliasRecv&&(_e.properties||(_e.properties={}),this.topicAliasRecv&&(_e.properties.topicAliasMaximum=this.topicAliasRecv.max)),this._writePacket(_e),he.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return this.end(()=>this.emit("error",new Error("Packet has no Authentication Method"))),this;if(this.options.properties.authenticationMethod&&this.options.authPacket&&typeof this.options.authPacket=="object"){const Et=Object.assign({cmd:"auth",reasonCode:0},this.options.authPacket);this._writePacket(Et)}}return this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout(()=>{this.log("!!connectTimeout hit!! Calling _cleanUp with force `true`"),this._cleanUp(!0)},this.options.connectTimeout),this}publish(z,$,he,le){this.log("publish :: message `%s` to topic `%s`",$,z);const{options:Ie}=this;typeof he=="function"&&(le=he,he=null),he=he||{},he=Object.assign(Object.assign({},{qos:0,retain:!1,dup:!1}),he);const{qos:pe,retain:Lt,dup:_e,properties:Et,cbStorePut:Cn}=he;if(this._checkDisconnecting(le))return this;const vn=()=>{let Dt=0;if((pe===1||pe===2)&&(Dt=this._nextId(),Dt===null))return this.log("No messageId left"),!1;const de={cmd:"publish",topic:z,payload:$,qos:pe,retain:Lt,messageId:Dt,dup:_e};switch(Ie.protocolVersion===5&&(de.properties=Et),this.log("publish :: qos",pe),pe){case 1:case 2:this.outgoing[de.messageId]={volatile:!1,cb:le||this.noop},this.log("MqttClient:publish: packet cmd: %s",de.cmd),this._sendPacket(de,void 0,Cn);break;default:this.log("MqttClient:publish: packet cmd: %s",de.cmd),this._sendPacket(de,le,Cn);break}return!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!vn())&&this._storeProcessingQueue.push({invoke:vn,cbStorePut:he.cbStorePut,callback:le}),this}publishAsync(z,$,he){return new Promise((le,Ie)=>{this.publish(z,$,he,(Fe,pe)=>{Fe?Ie(Fe):le(pe)})})}subscribe(z,$,he){const le=this.options.protocolVersion;typeof $=="function"&&(he=$),he=he||this.noop;let Ie=!1,Fe=[];typeof z=="string"?(z=[z],Fe=z):Array.isArray(z)?Fe=z:typeof z=="object"&&(Ie=z.resubscribe,delete z.resubscribe,Fe=Object.keys(z));const pe=w.validateTopics(Fe);if(pe!==null)return M(he,new Error(`Invalid topic ${pe}`)),this;if(this._checkDisconnecting(he))return this.log("subscribe: discconecting true"),this;const Lt={qos:0};le===5&&(Lt.nl=!1,Lt.rap=!1,Lt.rh=0),$=Object.assign(Object.assign({},Lt),$);const _e=$.properties,Et=[],Cn=(Dt,de)=>{if(de=de||$,!Object.prototype.hasOwnProperty.call(this._resubscribeTopics,Dt)||this._resubscribeTopics[Dt].qos<de.qos||Ie){const qe={topic:Dt,qos:de.qos};le===5&&(qe.nl=de.nl,qe.rap=de.rap,qe.rh=de.rh,qe.properties=_e),this.log("subscribe: pushing topic `%s` and qos `%s` to subs list",qe.topic,qe.qos),Et.push(qe)}};if(Array.isArray(z)?z.forEach(Dt=>{this.log("subscribe: array topic %s",Dt),Cn(Dt)}):Object.keys(z).forEach(Dt=>{this.log("subscribe: object topic %s, %o",Dt,z[Dt]),Cn(Dt,z[Dt])}),!Et.length)return he(null,[]),this;const vn=()=>{const Dt=this._nextId();if(Dt===null)return this.log("No messageId left"),!1;const de={cmd:"subscribe",subscriptions:Et,messageId:Dt};if(_e&&(de.properties=_e),this.options.resubscribe){this.log("subscribe :: resubscribe true");const qe=[];Et.forEach(Pt=>{if(this.options.reconnectPeriod>0){const In={qos:Pt.qos};le===5&&(In.nl=Pt.nl||!1,In.rap=Pt.rap||!1,In.rh=Pt.rh||0,In.properties=Pt.properties),this._resubscribeTopics[Pt.topic]=In,qe.push(Pt.topic)}}),this.messageIdToTopic[de.messageId]=qe}return this.outgoing[de.messageId]={volatile:!0,cb(qe,Pt){if(!qe){const{granted:In}=Pt;for(let $e=0;$e<In.length;$e+=1)Et[$e].qos=In[$e]}he(qe,Et)}},this.log("subscribe :: call _sendPacket"),this._sendPacket(de),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!vn())&&this._storeProcessingQueue.push({invoke:vn,callback:he}),this}subscribeAsync(z,$){return new Promise((he,le)=>{this.subscribe(z,$,(Ie,Fe)=>{Ie?le(Ie):he(Fe)})})}unsubscribe(z,$,he){typeof z=="string"&&(z=[z]),typeof $=="function"&&(he=$),he=he||this.noop;const le=w.validateTopics(z);if(le!==null)return M(he,new Error(`Invalid topic ${le}`)),this;if(this._checkDisconnecting(he))return this;const Ie=()=>{const Fe=this._nextId();if(Fe===null)return this.log("No messageId left"),!1;const pe={cmd:"unsubscribe",messageId:Fe,unsubscriptions:[]};return typeof z=="string"?pe.unsubscriptions=[z]:Array.isArray(z)&&(pe.unsubscriptions=z),this.options.resubscribe&&pe.unsubscriptions.forEach(Lt=>{delete this._resubscribeTopics[Lt]}),typeof $=="object"&&$.properties&&(pe.properties=$.properties),this.outgoing[pe.messageId]={volatile:!0,cb:he},this.log("unsubscribe: call _sendPacket"),this._sendPacket(pe),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!Ie())&&this._storeProcessingQueue.push({invoke:Ie,callback:he}),this}unsubscribeAsync(z,$){return new Promise((he,le)=>{this.unsubscribe(z,$,(Ie,Fe)=>{Ie?le(Ie):he(Fe)})})}end(z,$,he){this.log("end :: (%s)",this.options.clientId),(z==null||typeof z!="boolean")&&(he=he||$,$=z,z=!1),typeof $!="object"&&(he=he||$,$=null),this.log("end :: cb? %s",!!he),(!he||typeof he!="function")&&(he=this.noop);const le=()=>{this.log("end :: closeStores: closing incoming and outgoing stores"),this.disconnected=!0,this.incomingStore.close(Fe=>{this.outgoingStore.close(pe=>{if(this.log("end :: closeStores: emitting end"),this.emit("end"),he){const Lt=Fe||pe;this.log("end :: closeStores: invoking callback with args"),he(Lt)}})}),this._deferredReconnect&&this._deferredReconnect()},Ie=()=>{this.log("end :: (%s) :: finish :: calling _cleanUp with force %s",this.options.clientId,z),this._cleanUp(z,()=>{this.log("end :: finish :: calling process.nextTick on closeStores"),L(le)},$)};return this.disconnecting?(he(),this):(this._clearReconnect(),this.disconnecting=!0,!z&&Object.keys(this.outgoing).length>0?(this.log("end :: (%s) :: calling finish in 10ms once outgoing is empty",this.options.clientId),this.once("outgoingEmpty",setTimeout.bind(null,Ie,10))):(this.log("end :: (%s) :: immediately calling finish",this.options.clientId),Ie()),this)}endAsync(z,$){return new Promise((he,le)=>{this.end(z,$,Ie=>{Ie?le(Ie):he()})})}removeOutgoingMessage(z){if(this.outgoing[z]){const{cb:$}=this.outgoing[z];this._removeOutgoingAndStoreMessage(z,()=>{$(new Error("Message removed"))})}return this}reconnect(z){this.log("client reconnect");const $=()=>{z?(this.options.incomingStore=z.incomingStore,this.options.outgoingStore=z.outgoingStore):(this.options.incomingStore=null,this.options.outgoingStore=null),this.incomingStore=this.options.incomingStore||new S.default,this.outgoingStore=this.options.outgoingStore||new S.default,this.disconnecting=!1,this.disconnected=!1,this._deferredReconnect=null,this._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=$:$(),this}_flushVolatile(){this.outgoing&&(this.log("_flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"),Object.keys(this.outgoing).forEach(z=>{this.outgoing[z].volatile&&typeof this.outgoing[z].cb=="function"&&(this.outgoing[z].cb(new Error("Connection closed")),delete this.outgoing[z])}))}_flush(){this.outgoing&&(this.log("_flush: queue exists? %b",!!this.outgoing),Object.keys(this.outgoing).forEach(z=>{typeof this.outgoing[z].cb=="function"&&(this.outgoing[z].cb(new Error("Connection closed")),delete this.outgoing[z])}))}_removeTopicAliasAndRecoverTopicName(z){let $;z.properties&&($=z.properties.topicAlias);let he=z.topic.toString();if(this.log("_removeTopicAliasAndRecoverTopicName :: alias %d, topic %o",$,he),he.length===0){if(typeof $>"u")return new Error("Unregistered Topic Alias");if(he=this.topicAliasSend.getTopicByAlias($),typeof he>"u")return new Error("Unregistered Topic Alias");z.topic=he}$&&delete z.properties.topicAlias}_checkDisconnecting(z){return this.disconnecting&&(z&&z!==this.noop?z(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting}_reconnect(){this.log("_reconnect: emitting reconnect to client"),this.emit("reconnect"),this.connected?(this.end(()=>{this.connect()}),this.log("client already connected. disconnecting first.")):(this.log("_reconnect: calling connect"),this.connect())}_setupReconnect(){!this.disconnecting&&!this.reconnectTimer&&this.options.reconnectPeriod>0?(this.reconnecting||(this.log("_setupReconnect :: emit `offline` state"),this.emit("offline"),this.log("_setupReconnect :: set `reconnecting` to `true`"),this.reconnecting=!0),this.log("_setupReconnect :: setting reconnectTimer for %d ms",this.options.reconnectPeriod),this.reconnectTimer=setInterval(()=>{this.log("reconnectTimer :: reconnect triggered!"),this._reconnect()},this.options.reconnectPeriod)):this.log("_setupReconnect :: doing nothing...")}_clearReconnect(){this.log("_clearReconnect : clearing reconnect timer"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)}_cleanUp(z,$,he={}){if($&&(this.log("_cleanUp :: done callback provided for on stream close"),this.stream.on("close",$)),this.log("_cleanUp :: forced? %s",z),z)this.options.reconnectPeriod===0&&this.options.clean&&this._flush(),this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),this.stream.destroy();else{const le=Object.assign({cmd:"disconnect"},he);this.log("_cleanUp :: (%s) :: call _sendPacket with disconnect packet",this.options.clientId),this._sendPacket(le,()=>{this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),M(()=>{this.stream.end(()=>{this.log("_cleanUp :: (%s) :: stream destroyed",this.options.clientId)})})})}this.disconnecting||(this.log("_cleanUp :: client not disconnecting. Clearing and resetting reconnect."),this._clearReconnect(),this._setupReconnect()),this.pingTimer!==null&&(this.log("_cleanUp :: clearing pingTimer"),this.pingTimer.clear(),this.pingTimer=null),$&&!this.connected&&(this.log("_cleanUp :: (%s) :: removing stream `done` callback `close` listener",this.options.clientId),this.stream.removeListener("close",$),$())}_storeAndSend(z,$,he){this.log("storeAndSend :: store packet with cmd %s to outgoingStore",z.cmd);let le=z,Ie;if(le.cmd==="publish"&&(le=(0,A.default)(z),Ie=this._removeTopicAliasAndRecoverTopicName(le),Ie))return $&&$(Ie);this.outgoingStore.put(le,Fe=>{if(Fe)return $&&$(Fe);he(),this._writePacket(z,$)})}_applyTopicAlias(z){if(this.options.protocolVersion===5&&z.cmd==="publish"){let $;z.properties&&($=z.properties.topicAlias);const he=z.topic.toString();if(this.topicAliasSend)if($){if(he.length!==0&&(this.log("applyTopicAlias :: register topic: %s - alias: %d",he,$),!this.topicAliasSend.put(he,$)))return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",he,$),new Error("Sending Topic Alias out of range")}else he.length!==0&&(this.options.autoAssignTopicAlias?($=this.topicAliasSend.getAliasByTopic(he),$?(z.topic="",z.properties=Object.assign(Object.assign({},z.properties),{topicAlias:$}),this.log("applyTopicAlias :: auto assign(use) topic: %s - alias: %d",he,$)):($=this.topicAliasSend.getLruAlias(),this.topicAliasSend.put(he,$),z.properties=Object.assign(Object.assign({},z.properties),{topicAlias:$}),this.log("applyTopicAlias :: auto assign topic: %s - alias: %d",he,$))):this.options.autoUseTopicAlias&&($=this.topicAliasSend.getAliasByTopic(he),$&&(z.topic="",z.properties=Object.assign(Object.assign({},z.properties),{topicAlias:$}),this.log("applyTopicAlias :: auto use topic: %s - alias: %d",he,$))));else if($)return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",he,$),new Error("Sending Topic Alias out of range")}}_noop(z){this.log("noop ::",z)}_writePacket(z,$){this.log("_writePacket :: packet: %O",z),this.log("_writePacket :: emitting `packetsend`"),this.emit("packetsend",z),this._shiftPingInterval(),this.log("_writePacket :: writing to stream");const he=p.default.writeToStream(z,this.stream,this.options);this.log("_writePacket :: writeToStream result %s",he),!he&&$&&$!==this.noop?(this.log("_writePacket :: handle events on `drain` once through callback."),this.stream.once("drain",$)):$&&(this.log("_writePacket :: invoking cb"),$())}_sendPacket(z,$,he,le){this.log("_sendPacket :: (%s) ::  start",this.options.clientId),he=he||this.noop,$=$||this.noop;const Ie=this._applyTopicAlias(z);if(Ie){$(Ie);return}if(!this.connected){if(z.cmd==="auth"){this._writePacket(z,$);return}this.log("_sendPacket :: client not connected. Storing packet offline."),this._storePacket(z,$,he);return}if(le){this._writePacket(z,$);return}switch(z.cmd){case"publish":break;case"pubrel":this._storeAndSend(z,$,he);return;default:this._writePacket(z,$);return}switch(z.qos){case 2:case 1:this._storeAndSend(z,$,he);break;case 0:default:this._writePacket(z,$);break}this.log("_sendPacket :: (%s) ::  end",this.options.clientId)}_storePacket(z,$,he){this.log("_storePacket :: packet: %o",z),this.log("_storePacket :: cb? %s",!!$),he=he||this.noop;let le=z;if(le.cmd==="publish"){le=(0,A.default)(z);const Fe=this._removeTopicAliasAndRecoverTopicName(le);if(Fe)return $&&$(Fe)}const Ie=le.qos||0;Ie===0&&this.queueQoSZero||le.cmd!=="publish"?this.queue.push({packet:le,cb:$}):Ie>0?($=this.outgoing[le.messageId]?this.outgoing[le.messageId].cb:null,this.outgoingStore.put(le,Fe=>{if(Fe)return $&&$(Fe);he()})):$&&$(new Error("No connection to broker"))}_setupPingTimer(){this.log("_setupPingTimer :: keepalive %d (seconds)",this.options.keepalive),!this.pingTimer&&this.options.keepalive&&(this.pingResp=!0,this.pingTimer=(0,b.default)(()=>{this._checkPing()},this.options.keepalive*1e3))}_shiftPingInterval(){this.pingTimer&&this.options.keepalive&&this.options.reschedulePings&&this.pingTimer.reschedule(this.options.keepalive*1e3)}_checkPing(){this.log("_checkPing :: checking ping..."),this.pingResp?(this.log("_checkPing :: ping response received. Clearing flag and sending `pingreq`"),this.pingResp=!1,this._sendPacket({cmd:"pingreq"})):(this.log("_checkPing :: calling _cleanUp with force true"),this._cleanUp(!0))}_resubscribe(){this.log("_resubscribe");const z=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||this.options.protocolVersion>=4&&!this.connackPacket.sessionPresent)&&z.length>0)if(this.options.resubscribe)if(this.options.protocolVersion===5){this.log("_resubscribe: protocolVersion 5");for(let $=0;$<z.length;$++){const he={};he[z[$]]=this._resubscribeTopics[z[$]],he.resubscribe=!0,this.subscribe(he,{properties:he[z[$]].properties})}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1}_onConnect(z){if(this.disconnected){this.emit("connect",z);return}this.connackPacket=z,this.messageIdProvider.clear(),this._setupPingTimer(),this.connected=!0;const $=()=>{let he=this.outgoingStore.createStream();const le=()=>{he.destroy(),he=null,this._flushStoreProcessingQueue(),Ie()},Ie=()=>{this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={}};this.once("close",le),he.on("error",pe=>{Ie(),this._flushStoreProcessingQueue(),this.removeListener("close",le),this.emit("error",pe)});const Fe=()=>{if(!he)return;const pe=he.read(1);let Lt;if(!pe){he.once("readable",Fe);return}if(this._storeProcessing=!0,this._packetIdsDuringStoreProcessing[pe.messageId]){Fe();return}!this.disconnecting&&!this.reconnectTimer?(Lt=this.outgoing[pe.messageId]?this.outgoing[pe.messageId].cb:null,this.outgoing[pe.messageId]={volatile:!1,cb(_e,Et){Lt&&Lt(_e,Et),Fe()}},this._packetIdsDuringStoreProcessing[pe.messageId]=!0,this.messageIdProvider.register(pe.messageId)?this._sendPacket(pe,void 0,void 0,!0):this.log("messageId: %d has already used.",pe.messageId)):he.destroy&&he.destroy()};he.on("end",()=>{let pe=!0;for(const Lt in this._packetIdsDuringStoreProcessing)if(!this._packetIdsDuringStoreProcessing[Lt]){pe=!1;break}pe?(Ie(),this.removeListener("close",le),this._invokeAllStoreProcessingQueue(),this.emit("connect",z)):$()}),Fe()};$()}_invokeStoreProcessingQueue(){if(!this._storeProcessing&&this._storeProcessingQueue.length>0){const z=this._storeProcessingQueue[0];if(z&&z.invoke())return this._storeProcessingQueue.shift(),!0}return!1}_invokeAllStoreProcessingQueue(){for(;this._invokeStoreProcessingQueue(););}_flushStoreProcessingQueue(){for(const z of this._storeProcessingQueue)z.cbStorePut&&z.cbStorePut(new Error("Connection closed")),z.callback&&z.callback(new Error("Connection closed"));this._storeProcessingQueue.splice(0)}_removeOutgoingAndStoreMessage(z,$){delete this.outgoing[z],this.outgoingStore.del({messageId:z},(he,le)=>{$(he,le),this.messageIdProvider.deallocate(z),this._invokeStoreProcessingQueue()})}}a.default=j}).call(this)}).call(this,i("_process"),typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{"./TypedEmitter":1,"./default-message-id-provider":9,"./handlers":13,"./store":18,"./topic-alias-recv":19,"./validations":22,_process:102,debug:30,"mqtt-packet":75,"readable-stream":125,reinterval:131,"rfdc/default":132}],3:[function(i,o,a){var u=this&&this.__importDefault||function(T){return T&&T.__esModule?T:{default:T}};Object.defineProperty(a,"__esModule",{value:!0});const c=i("buffer"),f=i("readable-stream"),d=u(i("duplexify"));let h,v,g,p=!1;function y(){const T=new f.Transform;return T._write=(S,x,O)=>{h.sendSocketMessage({data:S.buffer,success(){O()},fail(){O(new Error)}})},T._flush=S=>{h.closeSocket({success(){S()}})},T}function _(T){T.hostname||(T.hostname="localhost"),T.path||(T.path="/"),T.wsOptions||(T.wsOptions={})}function b(T,S){const x=T.protocol==="alis"?"wss":"ws";let O=`${x}://${T.hostname}${T.path}`;return T.port&&T.port!==80&&T.port!==443&&(O=`${x}://${T.hostname}:${T.port}${T.path}`),typeof T.transformWsUrl=="function"&&(O=T.transformWsUrl(O,T,S)),O}function A(){p||(p=!0,h.onSocketOpen(()=>{g.setReadable(v),g.setWritable(v),g.emit("connect")}),h.onSocketMessage(T=>{if(typeof T.data=="string"){const S=c.Buffer.from(T.data,"base64");v.push(S)}else{const S=new FileReader;S.addEventListener("load",()=>{let x=S.result;x instanceof ArrayBuffer?x=c.Buffer.from(x):x=c.Buffer.from(x,"utf8"),v.push(x)}),S.readAsArrayBuffer(T.data)}}),h.onSocketClose(()=>{g.end(),g.destroy()}),h.onSocketError(T=>{g.destroy(T)}))}const w=(T,S)=>{if(S.hostname=S.hostname||S.host,!S.hostname)throw new Error("Could not determine host. Specify host manually.");const x=S.protocolId==="MQIsdp"&&S.protocolVersion===3?"mqttv3.1":"mqtt";_(S);const O=b(S,T);return h=S.my,h.connectSocket({url:O,protocols:x}),v=y(),g=d.default.obj(),A(),g};a.default=w},{buffer:29,duplexify:32,"readable-stream":125}],4:[function(i,o,a){var u=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(a,"__esModule",{value:!0}),a.connectAsync=void 0;const c=u(i("debug")),f=u(i("url")),d=u(i("../client")),h=u(i("../is-browser")),v=(0,c.default)("mqttjs"),g={};h.default?(g.wx=i("./wx").default,g.wxs=i("./wx").default,g.ali=i("./ali").default,g.alis=i("./ali").default):(g.mqtt=i("./tcp").default,g.tcp=i("./tcp").default,g.ssl=i("./tls").default,g.tls=g.ssl,g.mqtts=i("./tls").default),g.ws=i("./ws").default,g.wss=i("./ws").default;function p(b){let A;b.auth&&(A=b.auth.match(/^(.+):(.+)$/),A?(b.username=A[1],b.password=A[2]):b.username=b.auth)}function y(b,A){if(v("connecting to an MQTT broker..."),typeof b=="object"&&!A&&(A=b,b=""),A=A||{},b&&typeof b=="string"){const S=f.default.parse(b,!0);if(S.port!=null&&(S.port=Number(S.port)),A=Object.assign(Object.assign({},S),A),A.protocol===null)throw new Error("Missing protocol");A.protocol=A.protocol.replace(/:$/,"")}if(p(A),A.query&&typeof A.query.clientId=="string"&&(A.clientId=A.query.clientId),A.cert&&A.key)if(A.protocol){if(["mqtts","wss","wxs","alis"].indexOf(A.protocol)===-1)switch(A.protocol){case"mqtt":A.protocol="mqtts";break;case"ws":A.protocol="wss";break;case"wx":A.protocol="wxs";break;case"ali":A.protocol="alis";break;default:throw new Error(`Unknown protocol for secure connection: "${A.protocol}"!`)}}else throw new Error("Missing secure protocol key");if(!g[A.protocol]){const S=["mqtts","wss"].indexOf(A.protocol)!==-1;A.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter((x,O)=>S&&O%2===0?!1:typeof g[x]=="function")[0]}if(A.clean===!1&&!A.clientId)throw new Error("Missing clientId for unclean clients");A.protocol&&(A.defaultProtocol=A.protocol);function w(S){return A.servers&&((!S._reconnectCount||S._reconnectCount===A.servers.length)&&(S._reconnectCount=0),A.host=A.servers[S._reconnectCount].host,A.port=A.servers[S._reconnectCount].port,A.protocol=A.servers[S._reconnectCount].protocol?A.servers[S._reconnectCount].protocol:A.defaultProtocol,A.hostname=A.host,S._reconnectCount++),v("calling streambuilder for",A.protocol),g[A.protocol](S,A)}const T=new d.default(w,A);return T.on("error",()=>{}),T}function _(b,A,w=!0){return new Promise((T,S)=>{const x=y(b,A),O={connect:M=>{L(),T(x)},end:()=>{L(),T(x)},error:M=>{L(),x.end(),S(M)}};w===!1&&(O.close=()=>{O.error(new Error("Couldn't connect to server"))});function L(){Object.keys(O).forEach(M=>{x.off(M,O[M])})}Object.keys(O).forEach(M=>{x.on(M,O[M])})})}a.connectAsync=_,a.default=y},{"../client":2,"../is-browser":16,"./ali":3,"./tcp":5,"./tls":6,"./ws":7,"./wx":8,debug:30,url:137}],5:[function(i,o,a){var u=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(a,"__esModule",{value:!0});const c=u(i("net")),d=(0,u(i("debug")).default)("mqttjs:tcp"),h=(v,g)=>{g.port=g.port||1883,g.hostname=g.hostname||g.host||"localhost";const{port:p}=g,y=g.hostname;return d("port %d and host %s",p,y),c.default.createConnection(p,y)};a.default=h},{debug:30,net:26}],6:[function(i,o,a){var u=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(a,"__esModule",{value:!0});const c=u(i("tls")),f=u(i("net")),h=(0,u(i("debug")).default)("mqttjs:tls"),v=(g,p)=>{p.port=p.port||8883,p.host=p.hostname||p.host||"localhost",f.default.isIP(p.host)===0&&(p.servername=p.host),p.rejectUnauthorized=p.rejectUnauthorized!==!1,delete p.path,h("port %d host %s rejectUnauthorized %b",p.port,p.host,p.rejectUnauthorized);const y=c.default.connect(p);y.on("secureConnect",()=>{p.rejectUnauthorized&&!y.authorized?y.emit("error",new Error("TLS not authorized")):y.removeListener("error",_)});function _(b){p.rejectUnauthorized&&g.emit("error",b),y.end()}return y.on("error",_),y};a.default=v},{debug:30,net:26,tls:26}],7:[function(i,o,a){var u=this&&this.__importDefault||function(O){return O&&O.__esModule?O:{default:O}};Object.defineProperty(a,"__esModule",{value:!0});const c=i("buffer"),f=u(i("ws")),d=u(i("debug")),h=u(i("duplexify")),v=i("readable-stream"),g=u(i("../is-browser")),p=(0,d.default)("mqttjs:ws"),y=["rejectUnauthorized","ca","cert","key","pfx","passphrase"];function _(O,L){let M=`${O.protocol}://${O.hostname}:${O.port}${O.path}`;return typeof O.transformWsUrl=="function"&&(M=O.transformWsUrl(M,O,L)),M}function b(O){const L=O;return O.hostname||(L.hostname="localhost"),O.port||(O.protocol==="wss"?L.port=443:L.port=80),O.path||(L.path="/"),O.wsOptions||(L.wsOptions={}),!g.default&&O.protocol==="wss"&&y.forEach(M=>{Object.prototype.hasOwnProperty.call(O,M)&&!Object.prototype.hasOwnProperty.call(O.wsOptions,M)&&(L.wsOptions[M]=O[M])}),L}function A(O){const L=b(O);if(L.hostname||(L.hostname=L.host),!L.hostname){if(typeof document>"u")throw new Error("Could not determine host. Specify host manually.");const M=new URL(document.URL);L.hostname=M.hostname,L.port||(L.port=Number(M.port))}return L.objectMode===void 0&&(L.objectMode=!(L.binary===!0||L.binary===void 0)),L}function w(O,L,M){p("createWebSocket"),p(`protocol: ${M.protocolId} ${M.protocolVersion}`);const re=M.protocolId==="MQIsdp"&&M.protocolVersion===3?"mqttv3.1":"mqtt";p(`creating new Websocket for url: ${L} and protocol: ${re}`);let F;return M.createWebsocket?F=M.createWebsocket(L,[re],M):F=new f.default(L,[re],M.wsOptions),F}function T(O,L){const M=L.protocolId==="MQIsdp"&&L.protocolVersion===3?"mqttv3.1":"mqtt",re=_(L,O);let F;return L.createWebsocket?F=L.createWebsocket(re,[M],L):F=new WebSocket(re,[M]),F.binaryType="arraybuffer",F}const S=(O,L)=>{p("streamBuilder");const M=b(L),re=_(M,O),F=w(O,re,M),j=f.default.createWebSocketStream(F,M.wsOptions);return j.url=re,F.on("close",()=>{j.destroy()}),j},x=(O,L)=>{p("browserStreamBuilder");let M;const F=A(L).browserBufferSize||1024*512,j=L.browserBufferTimeout||1e3,V=!L.objectMode,z=T(O,L),$=le(L,Et,Cn);L.objectMode||($._writev=_e),$.on("close",()=>{z.close()});const he=typeof z.addEventListener<"u";z.readyState===z.OPEN?M=$:(M=(0,h.default)(void 0,void 0,L),L.objectMode||(M._writev=_e),he?z.addEventListener("open",Ie):z.onopen=Ie),M.socket=z,he?(z.addEventListener("close",Fe),z.addEventListener("error",pe),z.addEventListener("message",Lt)):(z.onclose=Fe,z.onerror=pe,z.onmessage=Lt);function le(vn,Dt,de){const qe=new v.Transform({objectMode:vn.objectMode});return qe._write=Dt,qe._flush=de,qe}function Ie(){M.setReadable($),M.setWritable($),M.emit("connect")}function Fe(){M.end(),M.destroy()}function pe(vn){M.destroy(vn)}function Lt(vn){let{data:Dt}=vn;Dt instanceof ArrayBuffer?Dt=c.Buffer.from(Dt):Dt=c.Buffer.from(Dt,"utf8"),$.push(Dt)}function _e(vn,Dt){const de=new Array(vn.length);for(let qe=0;qe<vn.length;qe++)typeof vn[qe].chunk=="string"?de[qe]=c.Buffer.from(vn[qe],"utf8"):de[qe]=vn[qe].chunk;this._write(c.Buffer.concat(de),"binary",Dt)}function Et(vn,Dt,de){z.bufferedAmount>F&&setTimeout(Et,j,vn,Dt,de),V&&typeof vn=="string"&&(vn=c.Buffer.from(vn,"utf8"));try{z.send(vn)}catch(qe){return de(qe)}de()}function Cn(vn){z.close(),vn()}return M};a.default=g.default?x:S},{"../is-browser":16,buffer:29,debug:30,duplexify:32,"readable-stream":125,ws:141}],8:[function(i,o,a){var u=this&&this.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(a,"__esModule",{value:!0});const c=i("buffer"),f=i("readable-stream"),d=u(i("duplexify"));let h,v,g;function p(){const w=new f.Transform;return w._write=(T,S,x)=>{h.send({data:T.buffer,success(){x()},fail(O){x(new Error(O))}})},w._flush=T=>{h.close({success(){T()}})},w}function y(w){w.hostname||(w.hostname="localhost"),w.path||(w.path="/"),w.wsOptions||(w.wsOptions={})}function _(w,T){const S=w.protocol==="wxs"?"wss":"ws";let x=`${S}://${w.hostname}${w.path}`;return w.port&&w.port!==80&&w.port!==443&&(x=`${S}://${w.hostname}:${w.port}${w.path}`),typeof w.transformWsUrl=="function"&&(x=w.transformWsUrl(x,w,T)),x}function b(){h.onOpen(()=>{g.setReadable(v),g.setWritable(v),g.emit("connect")}),h.onMessage(w=>{let{data:T}=w;T instanceof ArrayBuffer?T=c.Buffer.from(T):T=c.Buffer.from(T,"utf8"),v.push(T)}),h.onClose(()=>{g.emit("close"),g.end(),g.destroy()}),h.onError(w=>{g.destroy(new Error(w.errMsg))})}const A=(w,T)=>{if(T.hostname=T.hostname||T.host,!T.hostname)throw new Error("Could not determine host. Specify host manually.");const S=T.protocolId==="MQIsdp"&&T.protocolVersion===3?"mqttv3.1":"mqtt";y(T);const x=_(T,w);h=wx.connectSocket({url:x,protocols:[S]}),v=p(),g=d.default.obj(),g._destroy=(L,M)=>{h.close({success(){M&&M(L)}})};const O=g.destroy;return g.destroy=()=>{g.destroy=O,setTimeout(()=>{h.close({fail(){g._destroy(new Error)}})},0)},b(),g};a.default=A},{buffer:29,duplexify:32,"readable-stream":125}],9:[function(i,o,a){Object.defineProperty(a,"__esModule",{value:!0});class u{constructor(){this.nextId=Math.max(1,Math.floor(Math.random()*65535))}allocate(){const f=this.nextId++;return this.nextId===65536&&(this.nextId=1),f}getLastAllocated(){return this.nextId===1?65535:this.nextId-1}register(f){return!0}deallocate(f){}clear(){}}a.default=u},{}],10:[function(i,o,a){Object.defineProperty(a,"__esModule",{value:!0}),a.ReasonCodes=void 0,a.ReasonCodes={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};const u=(c,f)=>{const{messageId:d}=f,h=f.cmd;let v=null;const g=c.outgoing[d]?c.outgoing[d].cb:null;let p;if(!g){c.log("_handleAck :: Server sent an ack in error. Ignoring.");return}switch(c.log("_handleAck :: packet type",h),h){case"pubcomp":case"puback":{const y=f.reasonCode;y&&y>0&&y!==16?(p=new Error(`Publish error: ${a.ReasonCodes[y]}`),p.code=y,c._removeOutgoingAndStoreMessage(d,()=>{g(p,f)})):c._removeOutgoingAndStoreMessage(d,g);break}case"pubrec":{v={cmd:"pubrel",qos:2,messageId:d};const y=f.reasonCode;y&&y>0&&y!==16?(p=new Error(`Publish error: ${a.ReasonCodes[y]}`),p.code=y,c._removeOutgoingAndStoreMessage(d,()=>{g(p,f)})):c._sendPacket(v);break}case"suback":{delete c.outgoing[d],c.messageIdProvider.deallocate(d);const y=f.granted;for(let _=0;_<y.length;_++)if(y[_]&128){const b=c.messageIdToTopic[d];b&&b.forEach(A=>{delete c._resubscribeTopics[A]})}delete c.messageIdToTopic[d],c._invokeStoreProcessingQueue(),g(null,f);break}case"unsuback":{delete c.outgoing[d],c.messageIdProvider.deallocate(d),c._invokeStoreProcessingQueue(),g(null);break}default:c.emit("error",new Error("unrecognized packet type"))}c.disconnecting&&Object.keys(c.outgoing).length===0&&c.emit("outgoingEmpty")};a.default=u},{}],11:[function(i,o,a){Object.defineProperty(a,"__esModule",{value:!0});const u=i("../shared"),c=i("./ack"),f=(d,h)=>{const{options:v}=d,g=v.protocolVersion,p=g===5?h.reasonCode:h.returnCode;if(g!==5){const y=new u.ErrorWithReasonCode(`Protocol error: Auth packets are only supported in MQTT 5. Your version:${g}`,p);d.emit("error",y);return}d.handleAuth(h,(y,_)=>{if(y){d.emit("error",y);return}if(p===24)d.reconnecting=!1,d._sendPacket(_);else{const b=new u.ErrorWithReasonCode(`Connection refused: ${c.ReasonCodes[p]}`,p);d.emit("error",b)}})};a.default=f},{"../shared":17,"./ack":10}],12:[function(i,o,a){var u=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(a,"__esModule",{value:!0});const c=i("./ack"),f=u(i("../topic-alias-send")),d=i("../shared"),h=(v,g)=>{v.log("_handleConnack");const{options:p}=v,_=p.protocolVersion===5?g.reasonCode:g.returnCode;if(clearTimeout(v.connackTimer),delete v.topicAliasSend,g.properties){if(g.properties.topicAliasMaximum){if(g.properties.topicAliasMaximum>65535){v.emit("error",new Error("topicAliasMaximum from broker is out of range"));return}g.properties.topicAliasMaximum>0&&(v.topicAliasSend=new f.default(g.properties.topicAliasMaximum))}g.properties.serverKeepAlive&&p.keepalive&&(p.keepalive=g.properties.serverKeepAlive,v._shiftPingInterval()),g.properties.maximumPacketSize&&(p.properties||(p.properties={}),p.properties.maximumPacketSize=g.properties.maximumPacketSize)}if(_===0)v.reconnecting=!1,v._onConnect(g);else if(_>0){const b=new d.ErrorWithReasonCode(`Connection refused: ${c.ReasonCodes[_]}`,_);v.emit("error",b)}};a.default=h},{"../shared":17,"../topic-alias-send":20,"./ack":10}],13:[function(i,o,a){var u=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(a,"__esModule",{value:!0});const c=u(i("./publish")),f=u(i("./auth")),d=u(i("./connack")),h=u(i("./ack")),v=u(i("./pubrel")),g=(p,y,_)=>{const{options:b}=p;if(b.protocolVersion===5&&b.properties&&b.properties.maximumPacketSize&&b.properties.maximumPacketSize<y.length)return p.emit("error",new Error(`exceeding packets size ${y.cmd}`)),p.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),p;switch(p.log("_handlePacket :: emitting packetreceive"),p.emit("packetreceive",y),y.cmd){case"publish":(0,c.default)(p,y,_);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":(0,h.default)(p,y),_();break;case"pubrel":(0,v.default)(p,y,_);break;case"connack":(0,d.default)(p,y),_();break;case"auth":(0,f.default)(p,y),_();break;case"pingresp":p.pingResp=!0,_();break;case"disconnect":p.emit("disconnect",y),_();break;default:p.log("_handlePacket :: unknown command"),_();break}};a.default=g},{"./ack":10,"./auth":11,"./connack":12,"./publish":14,"./pubrel":15}],14:[function(i,o,a){Object.defineProperty(a,"__esModule",{value:!0});const u=[0,16,128,131,135,144,145,151,153],c=(f,d,h)=>{f.log("handlePublish: packet %o",d),h=typeof h<"u"?h:f.noop;let v=d.topic.toString();const g=d.payload,{qos:p}=d,{messageId:y}=d,{options:_}=f;if(f.options.protocolVersion===5){let b;if(d.properties&&(b=d.properties.topicAlias),typeof b<"u")if(v.length===0)if(b>0&&b<=65535){const A=f.topicAliasRecv.getTopicByAlias(b);if(A)v=A,f.log("handlePublish :: topic complemented by alias. topic: %s - alias: %d",v,b);else{f.log("handlePublish :: unregistered topic alias. alias: %d",b),f.emit("error",new Error("Received unregistered Topic Alias"));return}}else{f.log("handlePublish :: topic alias out of range. alias: %d",b),f.emit("error",new Error("Received Topic Alias is out of range"));return}else if(f.topicAliasRecv.put(v,b))f.log("handlePublish :: registered topic: %s - alias: %d",v,b);else{f.log("handlePublish :: topic alias out of range. alias: %d",b),f.emit("error",new Error("Received Topic Alias is out of range"));return}}switch(f.log("handlePublish: qos %d",p),p){case 2:{_.customHandleAcks(v,g,d,(b,A)=>{if(typeof b=="number"&&(A=b,b=null),b)return f.emit("error",b);if(u.indexOf(A)===-1)return f.emit("error",new Error("Wrong reason code for pubrec"));A?f._sendPacket({cmd:"pubrec",messageId:y,reasonCode:A},h):f.incomingStore.put(d,()=>{f._sendPacket({cmd:"pubrec",messageId:y},h)})});break}case 1:{_.customHandleAcks(v,g,d,(b,A)=>{if(typeof b=="number"&&(A=b,b=null),b)return f.emit("error",b);if(u.indexOf(A)===-1)return f.emit("error",new Error("Wrong reason code for puback"));A||f.emit("message",v,g,d),f.handleMessage(d,w=>{if(w)return h&&h(w);f._sendPacket({cmd:"puback",messageId:y,reasonCode:A},h)})});break}case 0:f.emit("message",v,g,d),f.handleMessage(d,h);break;default:f.log("handlePublish: unknown QoS. Doing nothing.");break}};a.default=c},{}],15:[function(i,o,a){Object.defineProperty(a,"__esModule",{value:!0});const u=(c,f,d)=>{c.log("handling pubrel packet");const h=typeof d<"u"?d:c.noop,{messageId:v}=f,g={cmd:"pubcomp",messageId:v};c.incomingStore.get(f,(p,y)=>{p?c._sendPacket(g,h):(c.emit("message",y.topic,y.payload,y),c.handleMessage(y,_=>{if(_)return h(_);c.incomingStore.del(y,c.noop),c._sendPacket(g,h)}))})};a.default=u},{}],16:[function(i,o,a){Object.defineProperty(a,"__esModule",{value:!0});const u=typeof window<"u"&&typeof window.document<"u"||typeof self<"u"&&typeof self.postMessage=="function";a.default=u},{}],17:[function(i,o,a){Object.defineProperty(a,"__esModule",{value:!0}),a.applyMixin=a.ErrorWithReasonCode=void 0;class u extends Error{constructor(d,h){super(d),this.code=h,Object.setPrototypeOf(this,u.prototype),Object.getPrototypeOf(this).name="ErrorWithReasonCode"}}a.ErrorWithReasonCode=u;function c(f,d,h=!1){var v;const g=[d];for(;;){const p=g[0],y=Object.getPrototypeOf(p);if(y!=null&&y.prototype)g.unshift(y);else break}for(const p of g)for(const y of Object.getOwnPropertyNames(p.prototype))(h||y!=="constructor")&&Object.defineProperty(f.prototype,y,(v=Object.getOwnPropertyDescriptor(p.prototype,y))!==null&&v!==void 0?v:Object.create(null))}a.applyMixin=c},{}],18:[function(i,o,a){Object.defineProperty(a,"__esModule",{value:!0});const u=i("readable-stream"),c={objectMode:!0},f={clean:!0};class d{constructor(v){this.options=v||{},this.options=Object.assign(Object.assign({},f),v),this._inflights=new Map}put(v,g){return this._inflights.set(v.messageId,v),g&&g(),this}createStream(){const v=new u.Readable(c),g=[];let p=!1,y=0;return this._inflights.forEach((_,b)=>{g.push(_)}),v._read=()=>{!p&&y<g.length?v.push(g[y++]):v.push(null)},v.destroy=_=>{if(!p)return p=!0,setTimeout(()=>{v.emit("close")},0),v},v}del(v,g){const p=this._inflights.get(v.messageId);return p?(this._inflights.delete(v.messageId),g(null,p)):g&&g(new Error("missing packet")),this}get(v,g){const p=this._inflights.get(v.messageId);return p?g(null,p):g&&g(new Error("missing packet")),this}close(v){this.options.clean&&(this._inflights=null),v&&v()}}a.default=d},{"readable-stream":125}],19:[function(i,o,a){Object.defineProperty(a,"__esModule",{value:!0});class u{constructor(f){this.aliasToTopic={},this.max=f}put(f,d){return d===0||d>this.max?!1:(this.aliasToTopic[d]=f,this.length=Object.keys(this.aliasToTopic).length,!0)}getTopicByAlias(f){return this.aliasToTopic[f]}clear(){this.aliasToTopic={}}}a.default=u},{}],20:[function(i,o,a){var u=this&&this.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(a,"__esModule",{value:!0});const c=u(i("lru-cache")),f=i("number-allocator");class d{constructor(v){v>0&&(this.aliasToTopic=new c.default({max:v}),this.topicToAlias={},this.numberAllocator=new f.NumberAllocator(1,v),this.max=v,this.length=0)}put(v,g){if(g===0||g>this.max)return!1;const p=this.aliasToTopic.get(g);return p&&delete this.topicToAlias[p],this.aliasToTopic.set(g,v),this.topicToAlias[v]=g,this.numberAllocator.use(g),this.length=this.aliasToTopic.size,!0}getTopicByAlias(v){return this.aliasToTopic.get(v)}getAliasByTopic(v){const g=this.topicToAlias[v];return typeof g<"u"&&this.aliasToTopic.get(g),g}clear(){this.aliasToTopic.clear(),this.topicToAlias={},this.numberAllocator.clear(),this.length=0}getLruAlias(){const v=this.numberAllocator.firstVacant();return v||[...this.aliasToTopic.keys()][this.aliasToTopic.size-1]}}a.default=d},{"lru-cache":72,"number-allocator":98}],21:[function(i,o,a){Object.defineProperty(a,"__esModule",{value:!0});const u=i("number-allocator");class c{constructor(){this.numberAllocator=new u.NumberAllocator(1,65535)}allocate(){return this.lastId=this.numberAllocator.alloc(),this.lastId}getLastAllocated(){return this.lastId}register(d){return this.numberAllocator.use(d)}deallocate(d){this.numberAllocator.free(d)}clear(){this.numberAllocator.clear()}}a.default=c},{"number-allocator":98}],22:[function(i,o,a){Object.defineProperty(a,"__esModule",{value:!0}),a.validateTopics=a.validateTopic=void 0;function u(f){const d=f.split("/");for(let h=0;h<d.length;h++)if(d[h]!=="+"){if(d[h]==="#")return h===d.length-1;if(d[h].indexOf("+")!==-1||d[h].indexOf("#")!==-1)return!1}return!0}a.validateTopic=u;function c(f){if(f.length===0)return"empty_topic_list";for(let d=0;d<f.length;d++)if(!u(f[d]))return f[d];return null}a.validateTopics=c},{}],23:[function(i,o,a){var u=this&&this.__createBinding||(Object.create?function(A,w,T,S){S===void 0&&(S=T);var x=Object.getOwnPropertyDescriptor(w,T);(!x||("get"in x?!w.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return w[T]}}),Object.defineProperty(A,S,x)}:function(A,w,T,S){S===void 0&&(S=T),A[S]=w[T]}),c=this&&this.__setModuleDefault||(Object.create?function(A,w){Object.defineProperty(A,"default",{enumerable:!0,value:w})}:function(A,w){A.default=w}),f=this&&this.__importStar||function(A){if(A&&A.__esModule)return A;var w={};if(A!=null)for(var T in A)T!=="default"&&Object.prototype.hasOwnProperty.call(A,T)&&u(w,A,T);return c(w,A),w},d=this&&this.__exportStar||function(A,w){for(var T in A)T!=="default"&&!Object.prototype.hasOwnProperty.call(w,T)&&u(w,A,T)},h=this&&this.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(a,"__esModule",{value:!0}),a.ReasonCodes=a.UniqueMessageIdProvider=a.DefaultMessageIdProvider=a.Store=a.MqttClient=a.connectAsync=a.connect=a.Client=void 0;const v=h(i("./lib/client"));a.MqttClient=v.default;const g=h(i("./lib/default-message-id-provider"));a.DefaultMessageIdProvider=g.default;const p=h(i("./lib/unique-message-id-provider"));a.UniqueMessageIdProvider=p.default;const y=h(i("./lib/store"));a.Store=y.default;const _=f(i("./lib/connect"));a.connect=_.default,Object.defineProperty(a,"connectAsync",{enumerable:!0,get:function(){return _.connectAsync}}),a.Client=v.default,d(i("./lib/client"),a),d(i("./lib/shared"),a);var b=i("./lib/handlers/ack");Object.defineProperty(a,"ReasonCodes",{enumerable:!0,get:function(){return b.ReasonCodes}})},{"./lib/client":2,"./lib/connect":4,"./lib/default-message-id-provider":9,"./lib/handlers/ack":10,"./lib/shared":17,"./lib/store":18,"./lib/unique-message-id-provider":21}],24:[function(i,o,a){const{AbortController:u,AbortSignal:c}=typeof self<"u"?self:typeof window<"u"?window:void 0;o.exports=u,o.exports.AbortSignal=c,o.exports.default=u},{}],25:[function(i,o,a){a.byteLength=p,a.toByteArray=_,a.fromByteArray=w;for(var u=[],c=[],f=typeof Uint8Array<"u"?Uint8Array:Array,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h=0,v=d.length;h<v;++h)u[h]=d[h],c[d.charCodeAt(h)]=h;c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63;function g(T){var S=T.length;if(S%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var x=T.indexOf("=");x===-1&&(x=S);var O=x===S?0:4-x%4;return[x,O]}function p(T){var S=g(T),x=S[0],O=S[1];return(x+O)*3/4-O}function y(T,S,x){return(S+x)*3/4-x}function _(T){var S,x=g(T),O=x[0],L=x[1],M=new f(y(T,O,L)),re=0,F=L>0?O-4:O,j;for(j=0;j<F;j+=4)S=c[T.charCodeAt(j)]<<18|c[T.charCodeAt(j+1)]<<12|c[T.charCodeAt(j+2)]<<6|c[T.charCodeAt(j+3)],M[re++]=S>>16&255,M[re++]=S>>8&255,M[re++]=S&255;return L===2&&(S=c[T.charCodeAt(j)]<<2|c[T.charCodeAt(j+1)]>>4,M[re++]=S&255),L===1&&(S=c[T.charCodeAt(j)]<<10|c[T.charCodeAt(j+1)]<<4|c[T.charCodeAt(j+2)]>>2,M[re++]=S>>8&255,M[re++]=S&255),M}function b(T){return u[T>>18&63]+u[T>>12&63]+u[T>>6&63]+u[T&63]}function A(T,S,x){for(var O,L=[],M=S;M<x;M+=3)O=(T[M]<<16&16711680)+(T[M+1]<<8&65280)+(T[M+2]&255),L.push(b(O));return L.join("")}function w(T){for(var S,x=T.length,O=x%3,L=[],M=16383,re=0,F=x-O;re<F;re+=M)L.push(A(T,re,re+M>F?F:re+M));return O===1?(S=T[x-1],L.push(u[S>>2]+u[S<<4&63]+"==")):O===2&&(S=(T[x-2]<<8)+T[x-1],L.push(u[S>>10]+u[S>>4&63]+u[S<<2&63]+"=")),L.join("")}},{}],26:[function(i,o,a){},{}],27:[function(i,o,a){var u=i("buffer"),c=u.Buffer;function f(h,v){for(var g in h)v[g]=h[g]}c.from&&c.alloc&&c.allocUnsafe&&c.allocUnsafeSlow?o.exports=u:(f(u,a),a.Buffer=d);function d(h,v,g){return c(h,v,g)}f(c,d),d.from=function(h,v,g){if(typeof h=="number")throw new TypeError("Argument must not be a number");return c(h,v,g)},d.alloc=function(h,v,g){if(typeof h!="number")throw new TypeError("Argument must be a number");var p=c(h);return v!==void 0?typeof g=="string"?p.fill(v,g):p.fill(v):p.fill(0),p},d.allocUnsafe=function(h){if(typeof h!="number")throw new TypeError("Argument must be a number");return c(h)},d.allocUnsafeSlow=function(h){if(typeof h!="number")throw new TypeError("Argument must be a number");return u.SlowBuffer(h)}},{buffer:29}],28:[function(i,o,a){var u=i("safe-buffer").Buffer,c=u.isEncoding||function(L){switch(L=""+L,L&&L.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function f(L){if(!L)return"utf8";for(var M;;)switch(L){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return L;default:if(M)return;L=(""+L).toLowerCase(),M=!0}}function d(L){var M=f(L);if(typeof M!="string"&&(u.isEncoding===c||!c(L)))throw new Error("Unknown encoding: "+L);return M||L}a.StringDecoder=h;function h(L){this.encoding=d(L);var M;switch(this.encoding){case"utf16le":this.text=A,this.end=w,M=4;break;case"utf8":this.fillLast=y,M=4;break;case"base64":this.text=T,this.end=S,M=3;break;default:this.write=x,this.end=O;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=u.allocUnsafe(M)}h.prototype.write=function(L){if(L.length===0)return"";var M,re;if(this.lastNeed){if(M=this.fillLast(L),M===void 0)return"";re=this.lastNeed,this.lastNeed=0}else re=0;return re<L.length?M?M+this.text(L,re):this.text(L,re):M||""},h.prototype.end=b,h.prototype.text=_,h.prototype.fillLast=function(L){if(this.lastNeed<=L.length)return L.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);L.copy(this.lastChar,this.lastTotal-this.lastNeed,0,L.length),this.lastNeed-=L.length};function v(L){return L<=127?0:L>>5===6?2:L>>4===14?3:L>>3===30?4:L>>6===2?-1:-2}function g(L,M,re){var F=M.length-1;if(F<re)return 0;var j=v(M[F]);return j>=0?(j>0&&(L.lastNeed=j-1),j):--F<re||j===-2?0:(j=v(M[F]),j>=0?(j>0&&(L.lastNeed=j-2),j):--F<re||j===-2?0:(j=v(M[F]),j>=0?(j>0&&(j===2?j=0:L.lastNeed=j-3),j):0))}function p(L,M,re){if((M[0]&192)!==128)return L.lastNeed=0,"�";if(L.lastNeed>1&&M.length>1){if((M[1]&192)!==128)return L.lastNeed=1,"�";if(L.lastNeed>2&&M.length>2&&(M[2]&192)!==128)return L.lastNeed=2,"�"}}function y(L){var M=this.lastTotal-this.lastNeed,re=p(this,L);if(re!==void 0)return re;if(this.lastNeed<=L.length)return L.copy(this.lastChar,M,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);L.copy(this.lastChar,M,0,L.length),this.lastNeed-=L.length}function _(L,M){var re=g(this,L,M);if(!this.lastNeed)return L.toString("utf8",M);this.lastTotal=re;var F=L.length-(re-this.lastNeed);return L.copy(this.lastChar,0,F),L.toString("utf8",M,F)}function b(L){var M=L&&L.length?this.write(L):"";return this.lastNeed?M+"�":M}function A(L,M){if((L.length-M)%2===0){var re=L.toString("utf16le",M);if(re){var F=re.charCodeAt(re.length-1);if(F>=55296&&F<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=L[L.length-2],this.lastChar[1]=L[L.length-1],re.slice(0,-1)}return re}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=L[L.length-1],L.toString("utf16le",M,L.length-1)}function w(L){var M=L&&L.length?this.write(L):"";if(this.lastNeed){var re=this.lastTotal-this.lastNeed;return M+this.lastChar.toString("utf16le",0,re)}return M}function T(L,M){var re=(L.length-M)%3;return re===0?L.toString("base64",M):(this.lastNeed=3-re,this.lastTotal=3,re===1?this.lastChar[0]=L[L.length-1]:(this.lastChar[0]=L[L.length-2],this.lastChar[1]=L[L.length-1]),L.toString("base64",M,L.length-re))}function S(L){var M=L&&L.length?this.write(L):"";return this.lastNeed?M+this.lastChar.toString("base64",0,3-this.lastNeed):M}function x(L){return L.toString(this.encoding)}function O(L){return L&&L.length?this.write(L):""}},{"safe-buffer":27}],29:[function(i,o,a){(function(u){(function(){var c=i("base64-js"),f=i("ieee754");a.Buffer=g,a.SlowBuffer=O,a.INSPECT_MAX_BYTES=50;var d=2147483647;a.kMaxLength=d,g.TYPED_ARRAY_SUPPORT=h(),!g.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function h(){try{var Y=new Uint8Array(1);return Y.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},Y.foo()===42}catch{return!1}}Object.defineProperty(g.prototype,"parent",{enumerable:!0,get:function(){if(g.isBuffer(this))return this.buffer}}),Object.defineProperty(g.prototype,"offset",{enumerable:!0,get:function(){if(g.isBuffer(this))return this.byteOffset}});function v(Y){if(Y>d)throw new RangeError('The value "'+Y+'" is invalid for option "size"');var k=new Uint8Array(Y);return k.__proto__=g.prototype,k}function g(Y,k,D){if(typeof Y=="number"){if(typeof k=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return b(Y)}return p(Y,k,D)}typeof Symbol<"u"&&Symbol.species!=null&&g[Symbol.species]===g&&Object.defineProperty(g,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),g.poolSize=8192;function p(Y,k,D){if(typeof Y=="string")return A(Y,k);if(ArrayBuffer.isView(Y))return w(Y);if(Y==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Y);if(ie(Y,ArrayBuffer)||Y&&ie(Y.buffer,ArrayBuffer))return T(Y,k,D);if(typeof Y=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var oe=Y.valueOf&&Y.valueOf();if(oe!=null&&oe!==Y)return g.from(oe,k,D);var xe=S(Y);if(xe)return xe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Y[Symbol.toPrimitive]=="function")return g.from(Y[Symbol.toPrimitive]("string"),k,D);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Y)}g.from=function(Y,k,D){return p(Y,k,D)},g.prototype.__proto__=Uint8Array.prototype,g.__proto__=Uint8Array;function y(Y){if(typeof Y!="number")throw new TypeError('"size" argument must be of type number');if(Y<0)throw new RangeError('The value "'+Y+'" is invalid for option "size"')}function _(Y,k,D){return y(Y),Y<=0?v(Y):k!==void 0?typeof D=="string"?v(Y).fill(k,D):v(Y).fill(k):v(Y)}g.alloc=function(Y,k,D){return _(Y,k,D)};function b(Y){return y(Y),v(Y<0?0:x(Y)|0)}g.allocUnsafe=function(Y){return b(Y)},g.allocUnsafeSlow=function(Y){return b(Y)};function A(Y,k){if((typeof k!="string"||k==="")&&(k="utf8"),!g.isEncoding(k))throw new TypeError("Unknown encoding: "+k);var D=L(Y,k)|0,oe=v(D),xe=oe.write(Y,k);return xe!==D&&(oe=oe.slice(0,xe)),oe}function w(Y){for(var k=Y.length<0?0:x(Y.length)|0,D=v(k),oe=0;oe<k;oe+=1)D[oe]=Y[oe]&255;return D}function T(Y,k,D){if(k<0||Y.byteLength<k)throw new RangeError('"offset" is outside of buffer bounds');if(Y.byteLength<k+(D||0))throw new RangeError('"length" is outside of buffer bounds');var oe;return k===void 0&&D===void 0?oe=new Uint8Array(Y):D===void 0?oe=new Uint8Array(Y,k):oe=new Uint8Array(Y,k,D),oe.__proto__=g.prototype,oe}function S(Y){if(g.isBuffer(Y)){var k=x(Y.length)|0,D=v(k);return D.length===0||Y.copy(D,0,0,k),D}if(Y.length!==void 0)return typeof Y.length!="number"||ae(Y.length)?v(0):w(Y);if(Y.type==="Buffer"&&Array.isArray(Y.data))return w(Y.data)}function x(Y){if(Y>=d)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+d.toString(16)+" bytes");return Y|0}function O(Y){return+Y!=Y&&(Y=0),g.alloc(+Y)}g.isBuffer=function(k){return k!=null&&k._isBuffer===!0&&k!==g.prototype},g.compare=function(k,D){if(ie(k,Uint8Array)&&(k=g.from(k,k.offset,k.byteLength)),ie(D,Uint8Array)&&(D=g.from(D,D.offset,D.byteLength)),!g.isBuffer(k)||!g.isBuffer(D))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(k===D)return 0;for(var oe=k.length,xe=D.length,ze=0,hn=Math.min(oe,xe);ze<hn;++ze)if(k[ze]!==D[ze]){oe=k[ze],xe=D[ze];break}return oe<xe?-1:xe<oe?1:0},g.isEncoding=function(k){switch(String(k).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},g.concat=function(k,D){if(!Array.isArray(k))throw new TypeError('"list" argument must be an Array of Buffers');if(k.length===0)return g.alloc(0);var oe;if(D===void 0)for(D=0,oe=0;oe<k.length;++oe)D+=k[oe].length;var xe=g.allocUnsafe(D),ze=0;for(oe=0;oe<k.length;++oe){var hn=k[oe];if(ie(hn,Uint8Array)&&(hn=g.from(hn)),!g.isBuffer(hn))throw new TypeError('"list" argument must be an Array of Buffers');hn.copy(xe,ze),ze+=hn.length}return xe};function L(Y,k){if(g.isBuffer(Y))return Y.length;if(ArrayBuffer.isView(Y)||ie(Y,ArrayBuffer))return Y.byteLength;if(typeof Y!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Y);var D=Y.length,oe=arguments.length>2&&arguments[2]===!0;if(!oe&&D===0)return 0;for(var xe=!1;;)switch(k){case"ascii":case"latin1":case"binary":return D;case"utf8":case"utf-8":return Ne(Y).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D*2;case"hex":return D>>>1;case"base64":return jt(Y).length;default:if(xe)return oe?-1:Ne(Y).length;k=(""+k).toLowerCase(),xe=!0}}g.byteLength=L;function M(Y,k,D){var oe=!1;if((k===void 0||k<0)&&(k=0),k>this.length||((D===void 0||D>this.length)&&(D=this.length),D<=0)||(D>>>=0,k>>>=0,D<=k))return"";for(Y||(Y="utf8");;)switch(Y){case"hex":return vn(this,k,D);case"utf8":case"utf-8":return pe(this,k,D);case"ascii":return Et(this,k,D);case"latin1":case"binary":return Cn(this,k,D);case"base64":return Fe(this,k,D);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Dt(this,k,D);default:if(oe)throw new TypeError("Unknown encoding: "+Y);Y=(Y+"").toLowerCase(),oe=!0}}g.prototype._isBuffer=!0;function re(Y,k,D){var oe=Y[k];Y[k]=Y[D],Y[D]=oe}g.prototype.swap16=function(){var k=this.length;if(k%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var D=0;D<k;D+=2)re(this,D,D+1);return this},g.prototype.swap32=function(){var k=this.length;if(k%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var D=0;D<k;D+=4)re(this,D,D+3),re(this,D+1,D+2);return this},g.prototype.swap64=function(){var k=this.length;if(k%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var D=0;D<k;D+=8)re(this,D,D+7),re(this,D+1,D+6),re(this,D+2,D+5),re(this,D+3,D+4);return this},g.prototype.toString=function(){var k=this.length;return k===0?"":arguments.length===0?pe(this,0,k):M.apply(this,arguments)},g.prototype.toLocaleString=g.prototype.toString,g.prototype.equals=function(k){if(!g.isBuffer(k))throw new TypeError("Argument must be a Buffer");return this===k?!0:g.compare(this,k)===0},g.prototype.inspect=function(){var k="",D=a.INSPECT_MAX_BYTES;return k=this.toString("hex",0,D).replace(/(.{2})/g,"$1 ").trim(),this.length>D&&(k+=" ... "),"<Buffer "+k+">"},g.prototype.compare=function(k,D,oe,xe,ze){if(ie(k,Uint8Array)&&(k=g.from(k,k.offset,k.byteLength)),!g.isBuffer(k))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof k);if(D===void 0&&(D=0),oe===void 0&&(oe=k?k.length:0),xe===void 0&&(xe=0),ze===void 0&&(ze=this.length),D<0||oe>k.length||xe<0||ze>this.length)throw new RangeError("out of range index");if(xe>=ze&&D>=oe)return 0;if(xe>=ze)return-1;if(D>=oe)return 1;if(D>>>=0,oe>>>=0,xe>>>=0,ze>>>=0,this===k)return 0;for(var hn=ze-xe,An=oe-D,Tn=Math.min(hn,An),Rn=this.slice(xe,ze),Ve=k.slice(D,oe),Ue=0;Ue<Tn;++Ue)if(Rn[Ue]!==Ve[Ue]){hn=Rn[Ue],An=Ve[Ue];break}return hn<An?-1:An<hn?1:0};function F(Y,k,D,oe,xe){if(Y.length===0)return-1;if(typeof D=="string"?(oe=D,D=0):D>2147483647?D=2147483647:D<-2147483648&&(D=-2147483648),D=+D,ae(D)&&(D=xe?0:Y.length-1),D<0&&(D=Y.length+D),D>=Y.length){if(xe)return-1;D=Y.length-1}else if(D<0)if(xe)D=0;else return-1;if(typeof k=="string"&&(k=g.from(k,oe)),g.isBuffer(k))return k.length===0?-1:j(Y,k,D,oe,xe);if(typeof k=="number")return k=k&255,typeof Uint8Array.prototype.indexOf=="function"?xe?Uint8Array.prototype.indexOf.call(Y,k,D):Uint8Array.prototype.lastIndexOf.call(Y,k,D):j(Y,[k],D,oe,xe);throw new TypeError("val must be string, number or Buffer")}function j(Y,k,D,oe,xe){var ze=1,hn=Y.length,An=k.length;if(oe!==void 0&&(oe=String(oe).toLowerCase(),oe==="ucs2"||oe==="ucs-2"||oe==="utf16le"||oe==="utf-16le")){if(Y.length<2||k.length<2)return-1;ze=2,hn/=2,An/=2,D/=2}function Tn(Sn,xn){return ze===1?Sn[xn]:Sn.readUInt16BE(xn*ze)}var Rn;if(xe){var Ve=-1;for(Rn=D;Rn<hn;Rn++)if(Tn(Y,Rn)===Tn(k,Ve===-1?0:Rn-Ve)){if(Ve===-1&&(Ve=Rn),Rn-Ve+1===An)return Ve*ze}else Ve!==-1&&(Rn-=Rn-Ve),Ve=-1}else for(D+An>hn&&(D=hn-An),Rn=D;Rn>=0;Rn--){for(var Ue=!0,En=0;En<An;En++)if(Tn(Y,Rn+En)!==Tn(k,En)){Ue=!1;break}if(Ue)return Rn}return-1}g.prototype.includes=function(k,D,oe){return this.indexOf(k,D,oe)!==-1},g.prototype.indexOf=function(k,D,oe){return F(this,k,D,oe,!0)},g.prototype.lastIndexOf=function(k,D,oe){return F(this,k,D,oe,!1)};function V(Y,k,D,oe){D=Number(D)||0;var xe=Y.length-D;oe?(oe=Number(oe),oe>xe&&(oe=xe)):oe=xe;var ze=k.length;oe>ze/2&&(oe=ze/2);for(var hn=0;hn<oe;++hn){var An=parseInt(k.substr(hn*2,2),16);if(ae(An))return hn;Y[D+hn]=An}return hn}function z(Y,k,D,oe){return _n(Ne(k,Y.length-D),Y,D,oe)}function $(Y,k,D,oe){return _n(Oe(k),Y,D,oe)}function he(Y,k,D,oe){return $(Y,k,D,oe)}function le(Y,k,D,oe){return _n(jt(k),Y,D,oe)}function Ie(Y,k,D,oe){return _n(kt(k,Y.length-D),Y,D,oe)}g.prototype.write=function(k,D,oe,xe){if(D===void 0)xe="utf8",oe=this.length,D=0;else if(oe===void 0&&typeof D=="string")xe=D,oe=this.length,D=0;else if(isFinite(D))D=D>>>0,isFinite(oe)?(oe=oe>>>0,xe===void 0&&(xe="utf8")):(xe=oe,oe=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var ze=this.length-D;if((oe===void 0||oe>ze)&&(oe=ze),k.length>0&&(oe<0||D<0)||D>this.length)throw new RangeError("Attempt to write outside buffer bounds");xe||(xe="utf8");for(var hn=!1;;)switch(xe){case"hex":return V(this,k,D,oe);case"utf8":case"utf-8":return z(this,k,D,oe);case"ascii":return $(this,k,D,oe);case"latin1":case"binary":return he(this,k,D,oe);case"base64":return le(this,k,D,oe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ie(this,k,D,oe);default:if(hn)throw new TypeError("Unknown encoding: "+xe);xe=(""+xe).toLowerCase(),hn=!0}},g.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Fe(Y,k,D){return k===0&&D===Y.length?c.fromByteArray(Y):c.fromByteArray(Y.slice(k,D))}function pe(Y,k,D){D=Math.min(Y.length,D);for(var oe=[],xe=k;xe<D;){var ze=Y[xe],hn=null,An=ze>239?4:ze>223?3:ze>191?2:1;if(xe+An<=D){var Tn,Rn,Ve,Ue;switch(An){case 1:ze<128&&(hn=ze);break;case 2:Tn=Y[xe+1],(Tn&192)===128&&(Ue=(ze&31)<<6|Tn&63,Ue>127&&(hn=Ue));break;case 3:Tn=Y[xe+1],Rn=Y[xe+2],(Tn&192)===128&&(Rn&192)===128&&(Ue=(ze&15)<<12|(Tn&63)<<6|Rn&63,Ue>2047&&(Ue<55296||Ue>57343)&&(hn=Ue));break;case 4:Tn=Y[xe+1],Rn=Y[xe+2],Ve=Y[xe+3],(Tn&192)===128&&(Rn&192)===128&&(Ve&192)===128&&(Ue=(ze&15)<<18|(Tn&63)<<12|(Rn&63)<<6|Ve&63,Ue>65535&&Ue<1114112&&(hn=Ue))}}hn===null?(hn=65533,An=1):hn>65535&&(hn-=65536,oe.push(hn>>>10&1023|55296),hn=56320|hn&1023),oe.push(hn),xe+=An}return _e(oe)}var Lt=4096;function _e(Y){var k=Y.length;if(k<=Lt)return String.fromCharCode.apply(String,Y);for(var D="",oe=0;oe<k;)D+=String.fromCharCode.apply(String,Y.slice(oe,oe+=Lt));return D}function Et(Y,k,D){var oe="";D=Math.min(Y.length,D);for(var xe=k;xe<D;++xe)oe+=String.fromCharCode(Y[xe]&127);return oe}function Cn(Y,k,D){var oe="";D=Math.min(Y.length,D);for(var xe=k;xe<D;++xe)oe+=String.fromCharCode(Y[xe]);return oe}function vn(Y,k,D){var oe=Y.length;(!k||k<0)&&(k=0),(!D||D<0||D>oe)&&(D=oe);for(var xe="",ze=k;ze<D;++ze)xe+=At(Y[ze]);return xe}function Dt(Y,k,D){for(var oe=Y.slice(k,D),xe="",ze=0;ze<oe.length;ze+=2)xe+=String.fromCharCode(oe[ze]+oe[ze+1]*256);return xe}g.prototype.slice=function(k,D){var oe=this.length;k=~~k,D=D===void 0?oe:~~D,k<0?(k+=oe,k<0&&(k=0)):k>oe&&(k=oe),D<0?(D+=oe,D<0&&(D=0)):D>oe&&(D=oe),D<k&&(D=k);var xe=this.subarray(k,D);return xe.__proto__=g.prototype,xe};function de(Y,k,D){if(Y%1!==0||Y<0)throw new RangeError("offset is not uint");if(Y+k>D)throw new RangeError("Trying to access beyond buffer length")}g.prototype.readUIntLE=function(k,D,oe){k=k>>>0,D=D>>>0,oe||de(k,D,this.length);for(var xe=this[k],ze=1,hn=0;++hn<D&&(ze*=256);)xe+=this[k+hn]*ze;return xe},g.prototype.readUIntBE=function(k,D,oe){k=k>>>0,D=D>>>0,oe||de(k,D,this.length);for(var xe=this[k+--D],ze=1;D>0&&(ze*=256);)xe+=this[k+--D]*ze;return xe},g.prototype.readUInt8=function(k,D){return k=k>>>0,D||de(k,1,this.length),this[k]},g.prototype.readUInt16LE=function(k,D){return k=k>>>0,D||de(k,2,this.length),this[k]|this[k+1]<<8},g.prototype.readUInt16BE=function(k,D){return k=k>>>0,D||de(k,2,this.length),this[k]<<8|this[k+1]},g.prototype.readUInt32LE=function(k,D){return k=k>>>0,D||de(k,4,this.length),(this[k]|this[k+1]<<8|this[k+2]<<16)+this[k+3]*16777216},g.prototype.readUInt32BE=function(k,D){return k=k>>>0,D||de(k,4,this.length),this[k]*16777216+(this[k+1]<<16|this[k+2]<<8|this[k+3])},g.prototype.readIntLE=function(k,D,oe){k=k>>>0,D=D>>>0,oe||de(k,D,this.length);for(var xe=this[k],ze=1,hn=0;++hn<D&&(ze*=256);)xe+=this[k+hn]*ze;return ze*=128,xe>=ze&&(xe-=Math.pow(2,8*D)),xe},g.prototype.readIntBE=function(k,D,oe){k=k>>>0,D=D>>>0,oe||de(k,D,this.length);for(var xe=D,ze=1,hn=this[k+--xe];xe>0&&(ze*=256);)hn+=this[k+--xe]*ze;return ze*=128,hn>=ze&&(hn-=Math.pow(2,8*D)),hn},g.prototype.readInt8=function(k,D){return k=k>>>0,D||de(k,1,this.length),this[k]&128?(255-this[k]+1)*-1:this[k]},g.prototype.readInt16LE=function(k,D){k=k>>>0,D||de(k,2,this.length);var oe=this[k]|this[k+1]<<8;return oe&32768?oe|4294901760:oe},g.prototype.readInt16BE=function(k,D){k=k>>>0,D||de(k,2,this.length);var oe=this[k+1]|this[k]<<8;return oe&32768?oe|4294901760:oe},g.prototype.readInt32LE=function(k,D){return k=k>>>0,D||de(k,4,this.length),this[k]|this[k+1]<<8|this[k+2]<<16|this[k+3]<<24},g.prototype.readInt32BE=function(k,D){return k=k>>>0,D||de(k,4,this.length),this[k]<<24|this[k+1]<<16|this[k+2]<<8|this[k+3]},g.prototype.readFloatLE=function(k,D){return k=k>>>0,D||de(k,4,this.length),f.read(this,k,!0,23,4)},g.prototype.readFloatBE=function(k,D){return k=k>>>0,D||de(k,4,this.length),f.read(this,k,!1,23,4)},g.prototype.readDoubleLE=function(k,D){return k=k>>>0,D||de(k,8,this.length),f.read(this,k,!0,52,8)},g.prototype.readDoubleBE=function(k,D){return k=k>>>0,D||de(k,8,this.length),f.read(this,k,!1,52,8)};function qe(Y,k,D,oe,xe,ze){if(!g.isBuffer(Y))throw new TypeError('"buffer" argument must be a Buffer instance');if(k>xe||k<ze)throw new RangeError('"value" argument is out of bounds');if(D+oe>Y.length)throw new RangeError("Index out of range")}g.prototype.writeUIntLE=function(k,D,oe,xe){if(k=+k,D=D>>>0,oe=oe>>>0,!xe){var ze=Math.pow(2,8*oe)-1;qe(this,k,D,oe,ze,0)}var hn=1,An=0;for(this[D]=k&255;++An<oe&&(hn*=256);)this[D+An]=k/hn&255;return D+oe},g.prototype.writeUIntBE=function(k,D,oe,xe){if(k=+k,D=D>>>0,oe=oe>>>0,!xe){var ze=Math.pow(2,8*oe)-1;qe(this,k,D,oe,ze,0)}var hn=oe-1,An=1;for(this[D+hn]=k&255;--hn>=0&&(An*=256);)this[D+hn]=k/An&255;return D+oe},g.prototype.writeUInt8=function(k,D,oe){return k=+k,D=D>>>0,oe||qe(this,k,D,1,255,0),this[D]=k&255,D+1},g.prototype.writeUInt16LE=function(k,D,oe){return k=+k,D=D>>>0,oe||qe(this,k,D,2,65535,0),this[D]=k&255,this[D+1]=k>>>8,D+2},g.prototype.writeUInt16BE=function(k,D,oe){return k=+k,D=D>>>0,oe||qe(this,k,D,2,65535,0),this[D]=k>>>8,this[D+1]=k&255,D+2},g.prototype.writeUInt32LE=function(k,D,oe){return k=+k,D=D>>>0,oe||qe(this,k,D,4,4294967295,0),this[D+3]=k>>>24,this[D+2]=k>>>16,this[D+1]=k>>>8,this[D]=k&255,D+4},g.prototype.writeUInt32BE=function(k,D,oe){return k=+k,D=D>>>0,oe||qe(this,k,D,4,4294967295,0),this[D]=k>>>24,this[D+1]=k>>>16,this[D+2]=k>>>8,this[D+3]=k&255,D+4},g.prototype.writeIntLE=function(k,D,oe,xe){if(k=+k,D=D>>>0,!xe){var ze=Math.pow(2,8*oe-1);qe(this,k,D,oe,ze-1,-ze)}var hn=0,An=1,Tn=0;for(this[D]=k&255;++hn<oe&&(An*=256);)k<0&&Tn===0&&this[D+hn-1]!==0&&(Tn=1),this[D+hn]=(k/An>>0)-Tn&255;return D+oe},g.prototype.writeIntBE=function(k,D,oe,xe){if(k=+k,D=D>>>0,!xe){var ze=Math.pow(2,8*oe-1);qe(this,k,D,oe,ze-1,-ze)}var hn=oe-1,An=1,Tn=0;for(this[D+hn]=k&255;--hn>=0&&(An*=256);)k<0&&Tn===0&&this[D+hn+1]!==0&&(Tn=1),this[D+hn]=(k/An>>0)-Tn&255;return D+oe},g.prototype.writeInt8=function(k,D,oe){return k=+k,D=D>>>0,oe||qe(this,k,D,1,127,-128),k<0&&(k=255+k+1),this[D]=k&255,D+1},g.prototype.writeInt16LE=function(k,D,oe){return k=+k,D=D>>>0,oe||qe(this,k,D,2,32767,-32768),this[D]=k&255,this[D+1]=k>>>8,D+2},g.prototype.writeInt16BE=function(k,D,oe){return k=+k,D=D>>>0,oe||qe(this,k,D,2,32767,-32768),this[D]=k>>>8,this[D+1]=k&255,D+2},g.prototype.writeInt32LE=function(k,D,oe){return k=+k,D=D>>>0,oe||qe(this,k,D,4,2147483647,-2147483648),this[D]=k&255,this[D+1]=k>>>8,this[D+2]=k>>>16,this[D+3]=k>>>24,D+4},g.prototype.writeInt32BE=function(k,D,oe){return k=+k,D=D>>>0,oe||qe(this,k,D,4,2147483647,-2147483648),k<0&&(k=4294967295+k+1),this[D]=k>>>24,this[D+1]=k>>>16,this[D+2]=k>>>8,this[D+3]=k&255,D+4};function Pt(Y,k,D,oe,xe,ze){if(D+oe>Y.length)throw new RangeError("Index out of range");if(D<0)throw new RangeError("Index out of range")}function In(Y,k,D,oe,xe){return k=+k,D=D>>>0,xe||Pt(Y,k,D,4),f.write(Y,k,D,oe,23,4),D+4}g.prototype.writeFloatLE=function(k,D,oe){return In(this,k,D,!0,oe)},g.prototype.writeFloatBE=function(k,D,oe){return In(this,k,D,!1,oe)};function $e(Y,k,D,oe,xe){return k=+k,D=D>>>0,xe||Pt(Y,k,D,8),f.write(Y,k,D,oe,52,8),D+8}g.prototype.writeDoubleLE=function(k,D,oe){return $e(this,k,D,!0,oe)},g.prototype.writeDoubleBE=function(k,D,oe){return $e(this,k,D,!1,oe)},g.prototype.copy=function(k,D,oe,xe){if(!g.isBuffer(k))throw new TypeError("argument should be a Buffer");if(oe||(oe=0),!xe&&xe!==0&&(xe=this.length),D>=k.length&&(D=k.length),D||(D=0),xe>0&&xe<oe&&(xe=oe),xe===oe||k.length===0||this.length===0)return 0;if(D<0)throw new RangeError("targetStart out of bounds");if(oe<0||oe>=this.length)throw new RangeError("Index out of range");if(xe<0)throw new RangeError("sourceEnd out of bounds");xe>this.length&&(xe=this.length),k.length-D<xe-oe&&(xe=k.length-D+oe);var ze=xe-oe;if(this===k&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(D,oe,xe);else if(this===k&&oe<D&&D<xe)for(var hn=ze-1;hn>=0;--hn)k[hn+D]=this[hn+oe];else Uint8Array.prototype.set.call(k,this.subarray(oe,xe),D);return ze},g.prototype.fill=function(k,D,oe,xe){if(typeof k=="string"){if(typeof D=="string"?(xe=D,D=0,oe=this.length):typeof oe=="string"&&(xe=oe,oe=this.length),xe!==void 0&&typeof xe!="string")throw new TypeError("encoding must be a string");if(typeof xe=="string"&&!g.isEncoding(xe))throw new TypeError("Unknown encoding: "+xe);if(k.length===1){var ze=k.charCodeAt(0);(xe==="utf8"&&ze<128||xe==="latin1")&&(k=ze)}}else typeof k=="number"&&(k=k&255);if(D<0||this.length<D||this.length<oe)throw new RangeError("Out of range index");if(oe<=D)return this;D=D>>>0,oe=oe===void 0?this.length:oe>>>0,k||(k=0);var hn;if(typeof k=="number")for(hn=D;hn<oe;++hn)this[hn]=k;else{var An=g.isBuffer(k)?k:g.from(k,xe),Tn=An.length;if(Tn===0)throw new TypeError('The value "'+k+'" is invalid for argument "value"');for(hn=0;hn<oe-D;++hn)this[hn+D]=An[hn%Tn]}return this};var Ce=/[^+/0-9A-Za-z-_]/g;function ue(Y){if(Y=Y.split("=")[0],Y=Y.trim().replace(Ce,""),Y.length<2)return"";for(;Y.length%4!==0;)Y=Y+"=";return Y}function At(Y){return Y<16?"0"+Y.toString(16):Y.toString(16)}function Ne(Y,k){k=k||1/0;for(var D,oe=Y.length,xe=null,ze=[],hn=0;hn<oe;++hn){if(D=Y.charCodeAt(hn),D>55295&&D<57344){if(!xe){if(D>56319){(k-=3)>-1&&ze.push(239,191,189);continue}else if(hn+1===oe){(k-=3)>-1&&ze.push(239,191,189);continue}xe=D;continue}if(D<56320){(k-=3)>-1&&ze.push(239,191,189),xe=D;continue}D=(xe-55296<<10|D-56320)+65536}else xe&&(k-=3)>-1&&ze.push(239,191,189);if(xe=null,D<128){if((k-=1)<0)break;ze.push(D)}else if(D<2048){if((k-=2)<0)break;ze.push(D>>6|192,D&63|128)}else if(D<65536){if((k-=3)<0)break;ze.push(D>>12|224,D>>6&63|128,D&63|128)}else if(D<1114112){if((k-=4)<0)break;ze.push(D>>18|240,D>>12&63|128,D>>6&63|128,D&63|128)}else throw new Error("Invalid code point")}return ze}function Oe(Y){for(var k=[],D=0;D<Y.length;++D)k.push(Y.charCodeAt(D)&255);return k}function kt(Y,k){for(var D,oe,xe,ze=[],hn=0;hn<Y.length&&!((k-=2)<0);++hn)D=Y.charCodeAt(hn),oe=D>>8,xe=D%256,ze.push(xe),ze.push(oe);return ze}function jt(Y){return c.toByteArray(ue(Y))}function _n(Y,k,D,oe){for(var xe=0;xe<oe&&!(xe+D>=k.length||xe>=Y.length);++xe)k[xe+D]=Y[xe];return xe}function ie(Y,k){return Y instanceof k||Y!=null&&Y.constructor!=null&&Y.constructor.name!=null&&Y.constructor.name===k.name}function ae(Y){return Y!==Y}}).call(this)}).call(this,i("buffer").Buffer)},{"base64-js":25,buffer:29,ieee754:50}],30:[function(i,o,a){(function(u){(function(){a.formatArgs=f,a.save=d,a.load=h,a.useColors=c,a.storage=v(),a.destroy=(()=>{let p=!1;return()=>{p||(p=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),a.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function c(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function f(p){if(p[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+p[0]+(this.useColors?"%c ":" ")+"+"+o.exports.humanize(this.diff),!this.useColors)return;const y="color: "+this.color;p.splice(1,0,y,"color: inherit");let _=0,b=0;p[0].replace(/%[a-zA-Z%]/g,A=>{A!=="%%"&&(_++,A==="%c"&&(b=_))}),p.splice(b,0,y)}a.log=console.debug||console.log||(()=>{});function d(p){try{p?a.storage.setItem("debug",p):a.storage.removeItem("debug")}catch{}}function h(){let p;try{p=a.storage.getItem("debug")}catch{}return!p&&typeof u<"u"&&"env"in u&&(p=u.env.DEBUG),p}function v(){try{return localStorage}catch{}}o.exports=i("./common")(a);const{formatters:g}=o.exports;g.j=function(p){try{return JSON.stringify(p)}catch(y){return"[UnexpectedJSONParseError]: "+y.message}}}).call(this)}).call(this,i("_process"))},{"./common":31,_process:102}],31:[function(i,o,a){function u(c){d.debug=d,d.default=d,d.coerce=_,d.disable=g,d.enable=v,d.enabled=p,d.humanize=i("ms"),d.destroy=b,Object.keys(c).forEach(A=>{d[A]=c[A]}),d.names=[],d.skips=[],d.formatters={};function f(A){let w=0;for(let T=0;T<A.length;T++)w=(w<<5)-w+A.charCodeAt(T),w|=0;return d.colors[Math.abs(w)%d.colors.length]}d.selectColor=f;function d(A){let w,T=null,S,x;function O(...L){if(!O.enabled)return;const M=O,re=Number(new Date),F=re-(w||re);M.diff=F,M.prev=w,M.curr=re,w=re,L[0]=d.coerce(L[0]),typeof L[0]!="string"&&L.unshift("%O");let j=0;L[0]=L[0].replace(/%([a-zA-Z%])/g,(z,$)=>{if(z==="%%")return"%";j++;const he=d.formatters[$];if(typeof he=="function"){const le=L[j];z=he.call(M,le),L.splice(j,1),j--}return z}),d.formatArgs.call(M,L),(M.log||d.log).apply(M,L)}return O.namespace=A,O.useColors=d.useColors(),O.color=d.selectColor(A),O.extend=h,O.destroy=d.destroy,Object.defineProperty(O,"enabled",{enumerable:!0,configurable:!1,get:()=>T!==null?T:(S!==d.namespaces&&(S=d.namespaces,x=d.enabled(A)),x),set:L=>{T=L}}),typeof d.init=="function"&&d.init(O),O}function h(A,w){const T=d(this.namespace+(typeof w>"u"?":":w)+A);return T.log=this.log,T}function v(A){d.save(A),d.namespaces=A,d.names=[],d.skips=[];let w;const T=(typeof A=="string"?A:"").split(/[\s,]+/),S=T.length;for(w=0;w<S;w++)T[w]&&(A=T[w].replace(/\*/g,".*?"),A[0]==="-"?d.skips.push(new RegExp("^"+A.slice(1)+"$")):d.names.push(new RegExp("^"+A+"$")))}function g(){const A=[...d.names.map(y),...d.skips.map(y).map(w=>"-"+w)].join(",");return d.enable(""),A}function p(A){if(A[A.length-1]==="*")return!0;let w,T;for(w=0,T=d.skips.length;w<T;w++)if(d.skips[w].test(A))return!1;for(w=0,T=d.names.length;w<T;w++)if(d.names[w].test(A))return!0;return!1}function y(A){return A.toString().substring(2,A.toString().length-2).replace(/\.\*\?$/,"*")}function _(A){return A instanceof Error?A.stack||A.message:A}function b(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return d.enable(d.load()),d}o.exports=u},{ms:97}],32:[function(i,o,a){(function(u,c){(function(){var f=i("readable-stream"),d=i("end-of-stream"),h=i("inherits"),v=i("stream-shift"),g=c.from&&c.from!==Uint8Array.from?c.from([0]):new c([0]),p=function(S,x){S._corked?S.once("uncork",x):x()},y=function(S,x){S._autoDestroy&&S.destroy(x)},_=function(S,x){return function(O){O?y(S,O.message==="premature close"?null:O):x&&!S._ended&&S.end()}},b=function(S,x){if(!S||S._writableState&&S._writableState.finished)return x();if(S._writableState)return S.end(x);S.end(),x()},A=function(){},w=function(S){return new f.Readable({objectMode:!0,highWaterMark:16}).wrap(S)},T=function(S,x,O){if(!(this instanceof T))return new T(S,x,O);f.Duplex.call(this,O),this._writable=null,this._readable=null,this._readable2=null,this._autoDestroy=!O||O.autoDestroy!==!1,this._forwardDestroy=!O||O.destroy!==!1,this._forwardEnd=!O||O.end!==!1,this._corked=1,this._ondrain=null,this._drained=!1,this._forwarding=!1,this._unwrite=null,this._unread=null,this._ended=!1,this.destroyed=!1,S&&this.setWritable(S),x&&this.setReadable(x)};h(T,f.Duplex),T.obj=function(S,x,O){return O||(O={}),O.objectMode=!0,O.highWaterMark=16,new T(S,x,O)},T.prototype.cork=function(){++this._corked===1&&this.emit("cork")},T.prototype.uncork=function(){this._corked&&--this._corked===0&&this.emit("uncork")},T.prototype.setWritable=function(S){if(this._unwrite&&this._unwrite(),this.destroyed){S&&S.destroy&&S.destroy();return}if(S===null||S===!1){this.end();return}var x=this,O=d(S,{writable:!0,readable:!1},_(this,this._forwardEnd)),L=function(){var re=x._ondrain;x._ondrain=null,re&&re()},M=function(){x._writable.removeListener("drain",L),O()};this._unwrite&&u.nextTick(L),this._writable=S,this._writable.on("drain",L),this._unwrite=M,this.uncork()},T.prototype.setReadable=function(S){if(this._unread&&this._unread(),this.destroyed){S&&S.destroy&&S.destroy();return}if(S===null||S===!1){this.push(null),this.resume();return}var x=this,O=d(S,{writable:!1,readable:!0},_(this)),L=function(){x._forward()},M=function(){x.push(null)},re=function(){x._readable2.removeListener("readable",L),x._readable2.removeListener("end",M),O()};this._drained=!0,this._readable=S,this._readable2=S._readableState?S:w(S),this._readable2.on("readable",L),this._readable2.on("end",M),this._unread=re,this._forward()},T.prototype._read=function(){this._drained=!0,this._forward()},T.prototype._forward=function(){if(!(this._forwarding||!this._readable2||!this._drained)){this._forwarding=!0;for(var S;this._drained&&(S=v(this._readable2))!==null;)this.destroyed||(this._drained=this.push(S));this._forwarding=!1}},T.prototype.destroy=function(S,x){if(x||(x=A),this.destroyed)return x(null);this.destroyed=!0;var O=this;u.nextTick(function(){O._destroy(S),x(null)})},T.prototype._destroy=function(S){if(S){var x=this._ondrain;this._ondrain=null,x?x(S):this.emit("error",S)}this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&this._writable.destroy&&this._writable.destroy()),this.emit("close")},T.prototype._write=function(S,x,O){if(!this.destroyed){if(this._corked)return p(this,this._write.bind(this,S,x,O));if(S===g)return this._finish(O);if(!this._writable)return O();this._writable.write(S)===!1?this._ondrain=O:this.destroyed||O()}},T.prototype._finish=function(S){var x=this;this.emit("preend"),p(this,function(){b(x._forwardEnd&&x._writable,function(){x._writableState.prefinished===!1&&(x._writableState.prefinished=!0),x.emit("prefinish"),p(x,S)})})},T.prototype.end=function(S,x,O){return typeof S=="function"?this.end(null,null,S):typeof x=="function"?this.end(S,null,x):(this._ended=!0,S&&this.write(S),!this._writableState.ending&&!this._writableState.destroyed&&this.write(g),f.Writable.prototype.end.call(this,O))},o.exports=T}).call(this)}).call(this,i("_process"),i("buffer").Buffer)},{_process:102,buffer:29,"end-of-stream":48,inherits:51,"readable-stream":47,"stream-shift":135}],33:[function(i,o,a){function u(p,y){p.prototype=Object.create(y.prototype),p.prototype.constructor=p,p.__proto__=y}var c={};function f(p,y,_){_||(_=Error);function b(w,T,S){return typeof y=="string"?y:y(w,T,S)}var A=function(w){u(T,w);function T(S,x,O){return w.call(this,b(S,x,O))||this}return T}(_);A.prototype.name=_.name,A.prototype.code=p,c[p]=A}function d(p,y){if(Array.isArray(p)){var _=p.length;return p=p.map(function(b){return String(b)}),_>2?"one of ".concat(y," ").concat(p.slice(0,_-1).join(", "),", or ")+p[_-1]:_===2?"one of ".concat(y," ").concat(p[0]," or ").concat(p[1]):"of ".concat(y," ").concat(p[0])}else return"of ".concat(y," ").concat(String(p))}function h(p,y,_){return p.substr(!_||_<0?0:+_,y.length)===y}function v(p,y,_){return(_===void 0||_>p.length)&&(_=p.length),p.substring(_-y.length,_)===y}function g(p,y,_){return typeof _!="number"&&(_=0),_+y.length>p.length?!1:p.indexOf(y,_)!==-1}f("ERR_INVALID_OPT_VALUE",function(p,y){return'The value "'+y+'" is invalid for option "'+p+'"'},TypeError),f("ERR_INVALID_ARG_TYPE",function(p,y,_){var b;typeof y=="string"&&h(y,"not ")?(b="must not be",y=y.replace(/^not /,"")):b="must be";var A;if(v(p," argument"))A="The ".concat(p," ").concat(b," ").concat(d(y,"type"));else{var w=g(p,".")?"property":"argument";A='The "'.concat(p,'" ').concat(w," ").concat(b," ").concat(d(y,"type"))}return A+=". Received type ".concat(typeof _),A},TypeError),f("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),f("ERR_METHOD_NOT_IMPLEMENTED",function(p){return"The "+p+" method is not implemented"}),f("ERR_STREAM_PREMATURE_CLOSE","Premature close"),f("ERR_STREAM_DESTROYED",function(p){return"Cannot call "+p+" after a stream was destroyed"}),f("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),f("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),f("ERR_STREAM_WRITE_AFTER_END","write after end"),f("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),f("ERR_UNKNOWN_ENCODING",function(p){return"Unknown encoding: "+p},TypeError),f("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),o.exports.codes=c},{}],34:[function(i,o,a){(function(u){(function(){var c=Object.keys||function(b){var A=[];for(var w in b)A.push(w);return A};o.exports=p;var f=i("./_stream_readable"),d=i("./_stream_writable");i("inherits")(p,f);for(var h=c(d.prototype),v=0;v<h.length;v++){var g=h[v];p.prototype[g]||(p.prototype[g]=d.prototype[g])}function p(b){if(!(this instanceof p))return new p(b);f.call(this,b),d.call(this,b),this.allowHalfOpen=!0,b&&(b.readable===!1&&(this.readable=!1),b.writable===!1&&(this.writable=!1),b.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",y)))}Object.defineProperty(p.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(p.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(p.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function y(){this._writableState.ended||u.nextTick(_,this)}function _(b){b.end()}Object.defineProperty(p.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(A){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=A,this._writableState.destroyed=A)}})}).call(this)}).call(this,i("_process"))},{"./_stream_readable":36,"./_stream_writable":38,_process:102,inherits:51}],35:[function(i,o,a){o.exports=c;var u=i("./_stream_transform");i("inherits")(c,u);function c(f){if(!(this instanceof c))return new c(f);u.call(this,f)}c.prototype._transform=function(f,d,h){h(null,f)}},{"./_stream_transform":37,inherits:51}],36:[function(i,o,a){(function(u,c){(function(){o.exports=Ie;var f;Ie.ReadableState=le,i("events").EventEmitter;var d=function(ae,Y){return ae.listeners(Y).length},h=i("./internal/streams/stream"),v=i("buffer").Buffer,g=c.Uint8Array||function(){};function p(ie){return v.from(ie)}function y(ie){return v.isBuffer(ie)||ie instanceof g}var _=i("util"),b;_&&_.debuglog?b=_.debuglog("stream"):b=function(){};var A=i("./internal/streams/buffer_list"),w=i("./internal/streams/destroy"),T=i("./internal/streams/state"),S=T.getHighWaterMark,x=i("../errors").codes,O=x.ERR_INVALID_ARG_TYPE,L=x.ERR_STREAM_PUSH_AFTER_EOF,M=x.ERR_METHOD_NOT_IMPLEMENTED,re=x.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,F,j,V;i("inherits")(Ie,h);var z=w.errorOrDestroy,$=["error","close","destroy","pause","resume"];function he(ie,ae,Y){if(typeof ie.prependListener=="function")return ie.prependListener(ae,Y);!ie._events||!ie._events[ae]?ie.on(ae,Y):Array.isArray(ie._events[ae])?ie._events[ae].unshift(Y):ie._events[ae]=[Y,ie._events[ae]]}function le(ie,ae,Y){f=f||i("./_stream_duplex"),ie=ie||{},typeof Y!="boolean"&&(Y=ae instanceof f),this.objectMode=!!ie.objectMode,Y&&(this.objectMode=this.objectMode||!!ie.readableObjectMode),this.highWaterMark=S(this,ie,"readableHighWaterMark",Y),this.buffer=new A,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=ie.emitClose!==!1,this.autoDestroy=!!ie.autoDestroy,this.destroyed=!1,this.defaultEncoding=ie.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,ie.encoding&&(F||(F=i("string_decoder/").StringDecoder),this.decoder=new F(ie.encoding),this.encoding=ie.encoding)}function Ie(ie){if(f=f||i("./_stream_duplex"),!(this instanceof Ie))return new Ie(ie);var ae=this instanceof f;this._readableState=new le(ie,this,ae),this.readable=!0,ie&&(typeof ie.read=="function"&&(this._read=ie.read),typeof ie.destroy=="function"&&(this._destroy=ie.destroy)),h.call(this)}Object.defineProperty(Ie.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(ae){this._readableState&&(this._readableState.destroyed=ae)}}),Ie.prototype.destroy=w.destroy,Ie.prototype._undestroy=w.undestroy,Ie.prototype._destroy=function(ie,ae){ae(ie)},Ie.prototype.push=function(ie,ae){var Y=this._readableState,k;return Y.objectMode?k=!0:typeof ie=="string"&&(ae=ae||Y.defaultEncoding,ae!==Y.encoding&&(ie=v.from(ie,ae),ae=""),k=!0),Fe(this,ie,ae,!1,k)},Ie.prototype.unshift=function(ie){return Fe(this,ie,null,!0,!1)};function Fe(ie,ae,Y,k,D){b("readableAddChunk",ae);var oe=ie._readableState;if(ae===null)oe.reading=!1,vn(ie,oe);else{var xe;if(D||(xe=Lt(oe,ae)),xe)z(ie,xe);else if(oe.objectMode||ae&&ae.length>0)if(typeof ae!="string"&&!oe.objectMode&&Object.getPrototypeOf(ae)!==v.prototype&&(ae=p(ae)),k)oe.endEmitted?z(ie,new re):pe(ie,oe,ae,!0);else if(oe.ended)z(ie,new L);else{if(oe.destroyed)return!1;oe.reading=!1,oe.decoder&&!Y?(ae=oe.decoder.write(ae),oe.objectMode||ae.length!==0?pe(ie,oe,ae,!1):qe(ie,oe)):pe(ie,oe,ae,!1)}else k||(oe.reading=!1,qe(ie,oe))}return!oe.ended&&(oe.length<oe.highWaterMark||oe.length===0)}function pe(ie,ae,Y,k){ae.flowing&&ae.length===0&&!ae.sync?(ae.awaitDrain=0,ie.emit("data",Y)):(ae.length+=ae.objectMode?1:Y.length,k?ae.buffer.unshift(Y):ae.buffer.push(Y),ae.needReadable&&Dt(ie)),qe(ie,ae)}function Lt(ie,ae){var Y;return!y(ae)&&typeof ae!="string"&&ae!==void 0&&!ie.objectMode&&(Y=new O("chunk",["string","Buffer","Uint8Array"],ae)),Y}Ie.prototype.isPaused=function(){return this._readableState.flowing===!1},Ie.prototype.setEncoding=function(ie){F||(F=i("string_decoder/").StringDecoder);var ae=new F(ie);this._readableState.decoder=ae,this._readableState.encoding=this._readableState.decoder.encoding;for(var Y=this._readableState.buffer.head,k="";Y!==null;)k+=ae.write(Y.data),Y=Y.next;return this._readableState.buffer.clear(),k!==""&&this._readableState.buffer.push(k),this._readableState.length=k.length,this};var _e=1073741824;function Et(ie){return ie>=_e?ie=_e:(ie--,ie|=ie>>>1,ie|=ie>>>2,ie|=ie>>>4,ie|=ie>>>8,ie|=ie>>>16,ie++),ie}function Cn(ie,ae){return ie<=0||ae.length===0&&ae.ended?0:ae.objectMode?1:ie!==ie?ae.flowing&&ae.length?ae.buffer.head.data.length:ae.length:(ie>ae.highWaterMark&&(ae.highWaterMark=Et(ie)),ie<=ae.length?ie:ae.ended?ae.length:(ae.needReadable=!0,0))}Ie.prototype.read=function(ie){b("read",ie),ie=parseInt(ie,10);var ae=this._readableState,Y=ie;if(ie!==0&&(ae.emittedReadable=!1),ie===0&&ae.needReadable&&((ae.highWaterMark!==0?ae.length>=ae.highWaterMark:ae.length>0)||ae.ended))return b("read: emitReadable",ae.length,ae.ended),ae.length===0&&ae.ended?kt(this):Dt(this),null;if(ie=Cn(ie,ae),ie===0&&ae.ended)return ae.length===0&&kt(this),null;var k=ae.needReadable;b("need readable",k),(ae.length===0||ae.length-ie<ae.highWaterMark)&&(k=!0,b("length less than watermark",k)),ae.ended||ae.reading?(k=!1,b("reading or ended",k)):k&&(b("do read"),ae.reading=!0,ae.sync=!0,ae.length===0&&(ae.needReadable=!0),this._read(ae.highWaterMark),ae.sync=!1,ae.reading||(ie=Cn(Y,ae)));var D;return ie>0?D=Oe(ie,ae):D=null,D===null?(ae.needReadable=ae.length<=ae.highWaterMark,ie=0):(ae.length-=ie,ae.awaitDrain=0),ae.length===0&&(ae.ended||(ae.needReadable=!0),Y!==ie&&ae.ended&&kt(this)),D!==null&&this.emit("data",D),D};function vn(ie,ae){if(b("onEofChunk"),!ae.ended){if(ae.decoder){var Y=ae.decoder.end();Y&&Y.length&&(ae.buffer.push(Y),ae.length+=ae.objectMode?1:Y.length)}ae.ended=!0,ae.sync?Dt(ie):(ae.needReadable=!1,ae.emittedReadable||(ae.emittedReadable=!0,de(ie)))}}function Dt(ie){var ae=ie._readableState;b("emitReadable",ae.needReadable,ae.emittedReadable),ae.needReadable=!1,ae.emittedReadable||(b("emitReadable",ae.flowing),ae.emittedReadable=!0,u.nextTick(de,ie))}function de(ie){var ae=ie._readableState;b("emitReadable_",ae.destroyed,ae.length,ae.ended),!ae.destroyed&&(ae.length||ae.ended)&&(ie.emit("readable"),ae.emittedReadable=!1),ae.needReadable=!ae.flowing&&!ae.ended&&ae.length<=ae.highWaterMark,Ne(ie)}function qe(ie,ae){ae.readingMore||(ae.readingMore=!0,u.nextTick(Pt,ie,ae))}function Pt(ie,ae){for(;!ae.reading&&!ae.ended&&(ae.length<ae.highWaterMark||ae.flowing&&ae.length===0);){var Y=ae.length;if(b("maybeReadMore read 0"),ie.read(0),Y===ae.length)break}ae.readingMore=!1}Ie.prototype._read=function(ie){z(this,new M("_read()"))},Ie.prototype.pipe=function(ie,ae){var Y=this,k=this._readableState;switch(k.pipesCount){case 0:k.pipes=ie;break;case 1:k.pipes=[k.pipes,ie];break;default:k.pipes.push(ie);break}k.pipesCount+=1,b("pipe count=%d opts=%j",k.pipesCount,ae);var D=(!ae||ae.end!==!1)&&ie!==u.stdout&&ie!==u.stderr,oe=D?ze:Sn;k.endEmitted?u.nextTick(oe):Y.once("end",oe),ie.on("unpipe",xe);function xe(xn,Pn){b("onunpipe"),xn===Y&&Pn&&Pn.hasUnpiped===!1&&(Pn.hasUnpiped=!0,Tn())}function ze(){b("onend"),ie.end()}var hn=In(Y);ie.on("drain",hn);var An=!1;function Tn(){b("cleanup"),ie.removeListener("close",Ue),ie.removeListener("finish",En),ie.removeListener("drain",hn),ie.removeListener("error",Ve),ie.removeListener("unpipe",xe),Y.removeListener("end",ze),Y.removeListener("end",Sn),Y.removeListener("data",Rn),An=!0,k.awaitDrain&&(!ie._writableState||ie._writableState.needDrain)&&hn()}Y.on("data",Rn);function Rn(xn){b("ondata");var Pn=ie.write(xn);b("dest.write",Pn),Pn===!1&&((k.pipesCount===1&&k.pipes===ie||k.pipesCount>1&&_n(k.pipes,ie)!==-1)&&!An&&(b("false write response, pause",k.awaitDrain),k.awaitDrain++),Y.pause())}function Ve(xn){b("onerror",xn),Sn(),ie.removeListener("error",Ve),d(ie,"error")===0&&z(ie,xn)}he(ie,"error",Ve);function Ue(){ie.removeListener("finish",En),Sn()}ie.once("close",Ue);function En(){b("onfinish"),ie.removeListener("close",Ue),Sn()}ie.once("finish",En);function Sn(){b("unpipe"),Y.unpipe(ie)}return ie.emit("pipe",Y),k.flowing||(b("pipe resume"),Y.resume()),ie};function In(ie){return function(){var Y=ie._readableState;b("pipeOnDrain",Y.awaitDrain),Y.awaitDrain&&Y.awaitDrain--,Y.awaitDrain===0&&d(ie,"data")&&(Y.flowing=!0,Ne(ie))}}Ie.prototype.unpipe=function(ie){var ae=this._readableState,Y={hasUnpiped:!1};if(ae.pipesCount===0)return this;if(ae.pipesCount===1)return ie&&ie!==ae.pipes?this:(ie||(ie=ae.pipes),ae.pipes=null,ae.pipesCount=0,ae.flowing=!1,ie&&ie.emit("unpipe",this,Y),this);if(!ie){var k=ae.pipes,D=ae.pipesCount;ae.pipes=null,ae.pipesCount=0,ae.flowing=!1;for(var oe=0;oe<D;oe++)k[oe].emit("unpipe",this,{hasUnpiped:!1});return this}var xe=_n(ae.pipes,ie);return xe===-1?this:(ae.pipes.splice(xe,1),ae.pipesCount-=1,ae.pipesCount===1&&(ae.pipes=ae.pipes[0]),ie.emit("unpipe",this,Y),this)},Ie.prototype.on=function(ie,ae){var Y=h.prototype.on.call(this,ie,ae),k=this._readableState;return ie==="data"?(k.readableListening=this.listenerCount("readable")>0,k.flowing!==!1&&this.resume()):ie==="readable"&&!k.endEmitted&&!k.readableListening&&(k.readableListening=k.needReadable=!0,k.flowing=!1,k.emittedReadable=!1,b("on readable",k.length,k.reading),k.length?Dt(this):k.reading||u.nextTick(Ce,this)),Y},Ie.prototype.addListener=Ie.prototype.on,Ie.prototype.removeListener=function(ie,ae){var Y=h.prototype.removeListener.call(this,ie,ae);return ie==="readable"&&u.nextTick($e,this),Y},Ie.prototype.removeAllListeners=function(ie){var ae=h.prototype.removeAllListeners.apply(this,arguments);return(ie==="readable"||ie===void 0)&&u.nextTick($e,this),ae};function $e(ie){var ae=ie._readableState;ae.readableListening=ie.listenerCount("readable")>0,ae.resumeScheduled&&!ae.paused?ae.flowing=!0:ie.listenerCount("data")>0&&ie.resume()}function Ce(ie){b("readable nexttick read 0"),ie.read(0)}Ie.prototype.resume=function(){var ie=this._readableState;return ie.flowing||(b("resume"),ie.flowing=!ie.readableListening,ue(this,ie)),ie.paused=!1,this};function ue(ie,ae){ae.resumeScheduled||(ae.resumeScheduled=!0,u.nextTick(At,ie,ae))}function At(ie,ae){b("resume",ae.reading),ae.reading||ie.read(0),ae.resumeScheduled=!1,ie.emit("resume"),Ne(ie),ae.flowing&&!ae.reading&&ie.read(0)}Ie.prototype.pause=function(){return b("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(b("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Ne(ie){var ae=ie._readableState;for(b("flow",ae.flowing);ae.flowing&&ie.read()!==null;);}Ie.prototype.wrap=function(ie){var ae=this,Y=this._readableState,k=!1;ie.on("end",function(){if(b("wrapped end"),Y.decoder&&!Y.ended){var xe=Y.decoder.end();xe&&xe.length&&ae.push(xe)}ae.push(null)}),ie.on("data",function(xe){if(b("wrapped data"),Y.decoder&&(xe=Y.decoder.write(xe)),!(Y.objectMode&&xe==null)&&!(!Y.objectMode&&(!xe||!xe.length))){var ze=ae.push(xe);ze||(k=!0,ie.pause())}});for(var D in ie)this[D]===void 0&&typeof ie[D]=="function"&&(this[D]=function(ze){return function(){return ie[ze].apply(ie,arguments)}}(D));for(var oe=0;oe<$.length;oe++)ie.on($[oe],this.emit.bind(this,$[oe]));return this._read=function(xe){b("wrapped _read",xe),k&&(k=!1,ie.resume())},this},typeof Symbol=="function"&&(Ie.prototype[Symbol.asyncIterator]=function(){return j===void 0&&(j=i("./internal/streams/async_iterator")),j(this)}),Object.defineProperty(Ie.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(Ie.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(Ie.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(ae){this._readableState&&(this._readableState.flowing=ae)}}),Ie._fromList=Oe,Object.defineProperty(Ie.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Oe(ie,ae){if(ae.length===0)return null;var Y;return ae.objectMode?Y=ae.buffer.shift():!ie||ie>=ae.length?(ae.decoder?Y=ae.buffer.join(""):ae.buffer.length===1?Y=ae.buffer.first():Y=ae.buffer.concat(ae.length),ae.buffer.clear()):Y=ae.buffer.consume(ie,ae.decoder),Y}function kt(ie){var ae=ie._readableState;b("endReadable",ae.endEmitted),ae.endEmitted||(ae.ended=!0,u.nextTick(jt,ae,ie))}function jt(ie,ae){if(b("endReadableNT",ie.endEmitted,ie.length),!ie.endEmitted&&ie.length===0&&(ie.endEmitted=!0,ae.readable=!1,ae.emit("end"),ie.autoDestroy)){var Y=ae._writableState;(!Y||Y.autoDestroy&&Y.finished)&&ae.destroy()}}typeof Symbol=="function"&&(Ie.from=function(ie,ae){return V===void 0&&(V=i("./internal/streams/from")),V(Ie,ie,ae)});function _n(ie,ae){for(var Y=0,k=ie.length;Y<k;Y++)if(ie[Y]===ae)return Y;return-1}}).call(this)}).call(this,i("_process"),typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":33,"./_stream_duplex":34,"./internal/streams/async_iterator":39,"./internal/streams/buffer_list":40,"./internal/streams/destroy":41,"./internal/streams/from":43,"./internal/streams/state":45,"./internal/streams/stream":46,_process:102,buffer:29,events:49,inherits:51,"string_decoder/":136,util:26}],37:[function(i,o,a){o.exports=p;var u=i("../errors").codes,c=u.ERR_METHOD_NOT_IMPLEMENTED,f=u.ERR_MULTIPLE_CALLBACK,d=u.ERR_TRANSFORM_ALREADY_TRANSFORMING,h=u.ERR_TRANSFORM_WITH_LENGTH_0,v=i("./_stream_duplex");i("inherits")(p,v);function g(b,A){var w=this._transformState;w.transforming=!1;var T=w.writecb;if(T===null)return this.emit("error",new f);w.writechunk=null,w.writecb=null,A!=null&&this.push(A),T(b);var S=this._readableState;S.reading=!1,(S.needReadable||S.length<S.highWaterMark)&&this._read(S.highWaterMark)}function p(b){if(!(this instanceof p))return new p(b);v.call(this,b),this._transformState={afterTransform:g.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,b&&(typeof b.transform=="function"&&(this._transform=b.transform),typeof b.flush=="function"&&(this._flush=b.flush)),this.on("prefinish",y)}function y(){var b=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(A,w){_(b,A,w)}):_(this,null,null)}p.prototype.push=function(b,A){return this._transformState.needTransform=!1,v.prototype.push.call(this,b,A)},p.prototype._transform=function(b,A,w){w(new c("_transform()"))},p.prototype._write=function(b,A,w){var T=this._transformState;if(T.writecb=w,T.writechunk=b,T.writeencoding=A,!T.transforming){var S=this._readableState;(T.needTransform||S.needReadable||S.length<S.highWaterMark)&&this._read(S.highWaterMark)}},p.prototype._read=function(b){var A=this._transformState;A.writechunk!==null&&!A.transforming?(A.transforming=!0,this._transform(A.writechunk,A.writeencoding,A.afterTransform)):A.needTransform=!0},p.prototype._destroy=function(b,A){v.prototype._destroy.call(this,b,function(w){A(w)})};function _(b,A,w){if(A)return b.emit("error",A);if(w!=null&&b.push(w),b._writableState.length)throw new h;if(b._transformState.transforming)throw new d;return b.push(null)}},{"../errors":33,"./_stream_duplex":34,inherits:51}],38:[function(i,o,a){(function(u,c){(function(){o.exports=le;function f(Ne){var Oe=this;this.next=null,this.entry=null,this.finish=function(){At(Oe,Ne)}}var d;le.WritableState=$;var h={deprecate:i("util-deprecate")},v=i("./internal/streams/stream"),g=i("buffer").Buffer,p=c.Uint8Array||function(){};function y(Ne){return g.from(Ne)}function _(Ne){return g.isBuffer(Ne)||Ne instanceof p}var b=i("./internal/streams/destroy"),A=i("./internal/streams/state"),w=A.getHighWaterMark,T=i("../errors").codes,S=T.ERR_INVALID_ARG_TYPE,x=T.ERR_METHOD_NOT_IMPLEMENTED,O=T.ERR_MULTIPLE_CALLBACK,L=T.ERR_STREAM_CANNOT_PIPE,M=T.ERR_STREAM_DESTROYED,re=T.ERR_STREAM_NULL_VALUES,F=T.ERR_STREAM_WRITE_AFTER_END,j=T.ERR_UNKNOWN_ENCODING,V=b.errorOrDestroy;i("inherits")(le,v);function z(){}function $(Ne,Oe,kt){d=d||i("./_stream_duplex"),Ne=Ne||{},typeof kt!="boolean"&&(kt=Oe instanceof d),this.objectMode=!!Ne.objectMode,kt&&(this.objectMode=this.objectMode||!!Ne.writableObjectMode),this.highWaterMark=w(this,Ne,"writableHighWaterMark",kt),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var jt=Ne.decodeStrings===!1;this.decodeStrings=!jt,this.defaultEncoding=Ne.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(_n){vn(Oe,_n)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Ne.emitClose!==!1,this.autoDestroy=!!Ne.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new f(this)}$.prototype.getBuffer=function(){for(var Oe=this.bufferedRequest,kt=[];Oe;)kt.push(Oe),Oe=Oe.next;return kt},function(){try{Object.defineProperty($.prototype,"buffer",{get:h.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var he;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(he=Function.prototype[Symbol.hasInstance],Object.defineProperty(le,Symbol.hasInstance,{value:function(Oe){return he.call(this,Oe)?!0:this!==le?!1:Oe&&Oe._writableState instanceof $}})):he=function(Oe){return Oe instanceof this};function le(Ne){d=d||i("./_stream_duplex");var Oe=this instanceof d;if(!Oe&&!he.call(le,this))return new le(Ne);this._writableState=new $(Ne,this,Oe),this.writable=!0,Ne&&(typeof Ne.write=="function"&&(this._write=Ne.write),typeof Ne.writev=="function"&&(this._writev=Ne.writev),typeof Ne.destroy=="function"&&(this._destroy=Ne.destroy),typeof Ne.final=="function"&&(this._final=Ne.final)),v.call(this)}le.prototype.pipe=function(){V(this,new L)};function Ie(Ne,Oe){var kt=new F;V(Ne,kt),u.nextTick(Oe,kt)}function Fe(Ne,Oe,kt,jt){var _n;return kt===null?_n=new re:typeof kt!="string"&&!Oe.objectMode&&(_n=new S("chunk",["string","Buffer"],kt)),_n?(V(Ne,_n),u.nextTick(jt,_n),!1):!0}le.prototype.write=function(Ne,Oe,kt){var jt=this._writableState,_n=!1,ie=!jt.objectMode&&_(Ne);return ie&&!g.isBuffer(Ne)&&(Ne=y(Ne)),typeof Oe=="function"&&(kt=Oe,Oe=null),ie?Oe="buffer":Oe||(Oe=jt.defaultEncoding),typeof kt!="function"&&(kt=z),jt.ending?Ie(this,kt):(ie||Fe(this,jt,Ne,kt))&&(jt.pendingcb++,_n=Lt(this,jt,ie,Ne,Oe,kt)),_n},le.prototype.cork=function(){this._writableState.corked++},le.prototype.uncork=function(){var Ne=this._writableState;Ne.corked&&(Ne.corked--,!Ne.writing&&!Ne.corked&&!Ne.bufferProcessing&&Ne.bufferedRequest&&qe(this,Ne))},le.prototype.setDefaultEncoding=function(Oe){if(typeof Oe=="string"&&(Oe=Oe.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Oe+"").toLowerCase())>-1))throw new j(Oe);return this._writableState.defaultEncoding=Oe,this},Object.defineProperty(le.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function pe(Ne,Oe,kt){return!Ne.objectMode&&Ne.decodeStrings!==!1&&typeof Oe=="string"&&(Oe=g.from(Oe,kt)),Oe}Object.defineProperty(le.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Lt(Ne,Oe,kt,jt,_n,ie){if(!kt){var ae=pe(Oe,jt,_n);jt!==ae&&(kt=!0,_n="buffer",jt=ae)}var Y=Oe.objectMode?1:jt.length;Oe.length+=Y;var k=Oe.length<Oe.highWaterMark;if(k||(Oe.needDrain=!0),Oe.writing||Oe.corked){var D=Oe.lastBufferedRequest;Oe.lastBufferedRequest={chunk:jt,encoding:_n,isBuf:kt,callback:ie,next:null},D?D.next=Oe.lastBufferedRequest:Oe.bufferedRequest=Oe.lastBufferedRequest,Oe.bufferedRequestCount+=1}else _e(Ne,Oe,!1,Y,jt,_n,ie);return k}function _e(Ne,Oe,kt,jt,_n,ie,ae){Oe.writelen=jt,Oe.writecb=ae,Oe.writing=!0,Oe.sync=!0,Oe.destroyed?Oe.onwrite(new M("write")):kt?Ne._writev(_n,Oe.onwrite):Ne._write(_n,ie,Oe.onwrite),Oe.sync=!1}function Et(Ne,Oe,kt,jt,_n){--Oe.pendingcb,kt?(u.nextTick(_n,jt),u.nextTick(Ce,Ne,Oe),Ne._writableState.errorEmitted=!0,V(Ne,jt)):(_n(jt),Ne._writableState.errorEmitted=!0,V(Ne,jt),Ce(Ne,Oe))}function Cn(Ne){Ne.writing=!1,Ne.writecb=null,Ne.length-=Ne.writelen,Ne.writelen=0}function vn(Ne,Oe){var kt=Ne._writableState,jt=kt.sync,_n=kt.writecb;if(typeof _n!="function")throw new O;if(Cn(kt),Oe)Et(Ne,kt,jt,Oe,_n);else{var ie=Pt(kt)||Ne.destroyed;!ie&&!kt.corked&&!kt.bufferProcessing&&kt.bufferedRequest&&qe(Ne,kt),jt?u.nextTick(Dt,Ne,kt,ie,_n):Dt(Ne,kt,ie,_n)}}function Dt(Ne,Oe,kt,jt){kt||de(Ne,Oe),Oe.pendingcb--,jt(),Ce(Ne,Oe)}function de(Ne,Oe){Oe.length===0&&Oe.needDrain&&(Oe.needDrain=!1,Ne.emit("drain"))}function qe(Ne,Oe){Oe.bufferProcessing=!0;var kt=Oe.bufferedRequest;if(Ne._writev&&kt&&kt.next){var jt=Oe.bufferedRequestCount,_n=new Array(jt),ie=Oe.corkedRequestsFree;ie.entry=kt;for(var ae=0,Y=!0;kt;)_n[ae]=kt,kt.isBuf||(Y=!1),kt=kt.next,ae+=1;_n.allBuffers=Y,_e(Ne,Oe,!0,Oe.length,_n,"",ie.finish),Oe.pendingcb++,Oe.lastBufferedRequest=null,ie.next?(Oe.corkedRequestsFree=ie.next,ie.next=null):Oe.corkedRequestsFree=new f(Oe),Oe.bufferedRequestCount=0}else{for(;kt;){var k=kt.chunk,D=kt.encoding,oe=kt.callback,xe=Oe.objectMode?1:k.length;if(_e(Ne,Oe,!1,xe,k,D,oe),kt=kt.next,Oe.bufferedRequestCount--,Oe.writing)break}kt===null&&(Oe.lastBufferedRequest=null)}Oe.bufferedRequest=kt,Oe.bufferProcessing=!1}le.prototype._write=function(Ne,Oe,kt){kt(new x("_write()"))},le.prototype._writev=null,le.prototype.end=function(Ne,Oe,kt){var jt=this._writableState;return typeof Ne=="function"?(kt=Ne,Ne=null,Oe=null):typeof Oe=="function"&&(kt=Oe,Oe=null),Ne!=null&&this.write(Ne,Oe),jt.corked&&(jt.corked=1,this.uncork()),jt.ending||ue(this,jt,kt),this},Object.defineProperty(le.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Pt(Ne){return Ne.ending&&Ne.length===0&&Ne.bufferedRequest===null&&!Ne.finished&&!Ne.writing}function In(Ne,Oe){Ne._final(function(kt){Oe.pendingcb--,kt&&V(Ne,kt),Oe.prefinished=!0,Ne.emit("prefinish"),Ce(Ne,Oe)})}function $e(Ne,Oe){!Oe.prefinished&&!Oe.finalCalled&&(typeof Ne._final=="function"&&!Oe.destroyed?(Oe.pendingcb++,Oe.finalCalled=!0,u.nextTick(In,Ne,Oe)):(Oe.prefinished=!0,Ne.emit("prefinish")))}function Ce(Ne,Oe){var kt=Pt(Oe);if(kt&&($e(Ne,Oe),Oe.pendingcb===0&&(Oe.finished=!0,Ne.emit("finish"),Oe.autoDestroy))){var jt=Ne._readableState;(!jt||jt.autoDestroy&&jt.endEmitted)&&Ne.destroy()}return kt}function ue(Ne,Oe,kt){Oe.ending=!0,Ce(Ne,Oe),kt&&(Oe.finished?u.nextTick(kt):Ne.once("finish",kt)),Oe.ended=!0,Ne.writable=!1}function At(Ne,Oe,kt){var jt=Ne.entry;for(Ne.entry=null;jt;){var _n=jt.callback;Oe.pendingcb--,_n(kt),jt=jt.next}Oe.corkedRequestsFree.next=Ne}Object.defineProperty(le.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(Oe){this._writableState&&(this._writableState.destroyed=Oe)}}),le.prototype.destroy=b.destroy,le.prototype._undestroy=b.undestroy,le.prototype._destroy=function(Ne,Oe){Oe(Ne)}}).call(this)}).call(this,i("_process"),typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":33,"./_stream_duplex":34,"./internal/streams/destroy":41,"./internal/streams/state":45,"./internal/streams/stream":46,_process:102,buffer:29,inherits:51,"util-deprecate":139}],39:[function(i,o,a){(function(u){(function(){var c;function f(M,re,F){return re in M?Object.defineProperty(M,re,{value:F,enumerable:!0,configurable:!0,writable:!0}):M[re]=F,M}var d=i("./end-of-stream"),h=Symbol("lastResolve"),v=Symbol("lastReject"),g=Symbol("error"),p=Symbol("ended"),y=Symbol("lastPromise"),_=Symbol("handlePromise"),b=Symbol("stream");function A(M,re){return{value:M,done:re}}function w(M){var re=M[h];if(re!==null){var F=M[b].read();F!==null&&(M[y]=null,M[h]=null,M[v]=null,re(A(F,!1)))}}function T(M){u.nextTick(w,M)}function S(M,re){return function(F,j){M.then(function(){if(re[p]){F(A(void 0,!0));return}re[_](F,j)},j)}}var x=Object.getPrototypeOf(function(){}),O=Object.setPrototypeOf((c={get stream(){return this[b]},next:function(){var re=this,F=this[g];if(F!==null)return Promise.reject(F);if(this[p])return Promise.resolve(A(void 0,!0));if(this[b].destroyed)return new Promise(function($,he){u.nextTick(function(){re[g]?he(re[g]):$(A(void 0,!0))})});var j=this[y],V;if(j)V=new Promise(S(j,this));else{var z=this[b].read();if(z!==null)return Promise.resolve(A(z,!1));V=new Promise(this[_])}return this[y]=V,V}},f(c,Symbol.asyncIterator,function(){return this}),f(c,"return",function(){var re=this;return new Promise(function(F,j){re[b].destroy(null,function(V){if(V){j(V);return}F(A(void 0,!0))})})}),c),x),L=function(re){var F,j=Object.create(O,(F={},f(F,b,{value:re,writable:!0}),f(F,h,{value:null,writable:!0}),f(F,v,{value:null,writable:!0}),f(F,g,{value:null,writable:!0}),f(F,p,{value:re._readableState.endEmitted,writable:!0}),f(F,_,{value:function(z,$){var he=j[b].read();he?(j[y]=null,j[h]=null,j[v]=null,z(A(he,!1))):(j[h]=z,j[v]=$)},writable:!0}),F));return j[y]=null,d(re,function(V){if(V&&V.code!=="ERR_STREAM_PREMATURE_CLOSE"){var z=j[v];z!==null&&(j[y]=null,j[h]=null,j[v]=null,z(V)),j[g]=V;return}var $=j[h];$!==null&&(j[y]=null,j[h]=null,j[v]=null,$(A(void 0,!0))),j[p]=!0}),re.on("readable",T.bind(null,j)),j};o.exports=L}).call(this)}).call(this,i("_process"))},{"./end-of-stream":42,_process:102}],40:[function(i,o,a){function u(w,T){var S=Object.keys(w);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(w);T&&(x=x.filter(function(O){return Object.getOwnPropertyDescriptor(w,O).enumerable})),S.push.apply(S,x)}return S}function c(w){for(var T=1;T<arguments.length;T++){var S=arguments[T]!=null?arguments[T]:{};T%2?u(Object(S),!0).forEach(function(x){f(w,x,S[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(S)):u(Object(S)).forEach(function(x){Object.defineProperty(w,x,Object.getOwnPropertyDescriptor(S,x))})}return w}function f(w,T,S){return T in w?Object.defineProperty(w,T,{value:S,enumerable:!0,configurable:!0,writable:!0}):w[T]=S,w}function d(w,T){if(!(w instanceof T))throw new TypeError("Cannot call a class as a function")}function h(w,T){for(var S=0;S<T.length;S++){var x=T[S];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(w,x.key,x)}}function v(w,T,S){return T&&h(w.prototype,T),S&&h(w,S),w}var g=i("buffer"),p=g.Buffer,y=i("util"),_=y.inspect,b=_&&_.custom||"inspect";function A(w,T,S){p.prototype.copy.call(w,T,S)}o.exports=function(){function w(){d(this,w),this.head=null,this.tail=null,this.length=0}return v(w,[{key:"push",value:function(S){var x={data:S,next:null};this.length>0?this.tail.next=x:this.head=x,this.tail=x,++this.length}},{key:"unshift",value:function(S){var x={data:S,next:this.head};this.length===0&&(this.tail=x),this.head=x,++this.length}},{key:"shift",value:function(){if(this.length!==0){var S=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,S}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(S){if(this.length===0)return"";for(var x=this.head,O=""+x.data;x=x.next;)O+=S+x.data;return O}},{key:"concat",value:function(S){if(this.length===0)return p.alloc(0);for(var x=p.allocUnsafe(S>>>0),O=this.head,L=0;O;)A(O.data,x,L),L+=O.data.length,O=O.next;return x}},{key:"consume",value:function(S,x){var O;return S<this.head.data.length?(O=this.head.data.slice(0,S),this.head.data=this.head.data.slice(S)):S===this.head.data.length?O=this.shift():O=x?this._getString(S):this._getBuffer(S),O}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(S){var x=this.head,O=1,L=x.data;for(S-=L.length;x=x.next;){var M=x.data,re=S>M.length?M.length:S;if(re===M.length?L+=M:L+=M.slice(0,S),S-=re,S===0){re===M.length?(++O,x.next?this.head=x.next:this.head=this.tail=null):(this.head=x,x.data=M.slice(re));break}++O}return this.length-=O,L}},{key:"_getBuffer",value:function(S){var x=p.allocUnsafe(S),O=this.head,L=1;for(O.data.copy(x),S-=O.data.length;O=O.next;){var M=O.data,re=S>M.length?M.length:S;if(M.copy(x,x.length-S,0,re),S-=re,S===0){re===M.length?(++L,O.next?this.head=O.next:this.head=this.tail=null):(this.head=O,O.data=M.slice(re));break}++L}return this.length-=L,x}},{key:b,value:function(S,x){return _(this,c({},x,{depth:0,customInspect:!1}))}}]),w}()},{buffer:29,util:26}],41:[function(i,o,a){(function(u){(function(){function c(p,y){var _=this,b=this._readableState&&this._readableState.destroyed,A=this._writableState&&this._writableState.destroyed;return b||A?(y?y(p):p&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,u.nextTick(v,this,p)):u.nextTick(v,this,p)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(p||null,function(w){!y&&w?_._writableState?_._writableState.errorEmitted?u.nextTick(d,_):(_._writableState.errorEmitted=!0,u.nextTick(f,_,w)):u.nextTick(f,_,w):y?(u.nextTick(d,_),y(w)):u.nextTick(d,_)}),this)}function f(p,y){v(p,y),d(p)}function d(p){p._writableState&&!p._writableState.emitClose||p._readableState&&!p._readableState.emitClose||p.emit("close")}function h(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function v(p,y){p.emit("error",y)}function g(p,y){var _=p._readableState,b=p._writableState;_&&_.autoDestroy||b&&b.autoDestroy?p.destroy(y):p.emit("error",y)}o.exports={destroy:c,undestroy:h,errorOrDestroy:g}}).call(this)}).call(this,i("_process"))},{_process:102}],42:[function(i,o,a){var u=i("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function c(v){var g=!1;return function(){if(!g){g=!0;for(var p=arguments.length,y=new Array(p),_=0;_<p;_++)y[_]=arguments[_];v.apply(this,y)}}}function f(){}function d(v){return v.setHeader&&typeof v.abort=="function"}function h(v,g,p){if(typeof g=="function")return h(v,null,g);g||(g={}),p=c(p||f);var y=g.readable||g.readable!==!1&&v.readable,_=g.writable||g.writable!==!1&&v.writable,b=function(){v.writable||w()},A=v._writableState&&v._writableState.finished,w=function(){_=!1,A=!0,y||p.call(v)},T=v._readableState&&v._readableState.endEmitted,S=function(){y=!1,T=!0,_||p.call(v)},x=function(re){p.call(v,re)},O=function(){var re;if(y&&!T)return(!v._readableState||!v._readableState.ended)&&(re=new u),p.call(v,re);if(_&&!A)return(!v._writableState||!v._writableState.ended)&&(re=new u),p.call(v,re)},L=function(){v.req.on("finish",w)};return d(v)?(v.on("complete",w),v.on("abort",O),v.req?L():v.on("request",L)):_&&!v._writableState&&(v.on("end",b),v.on("close",b)),v.on("end",S),v.on("finish",w),g.error!==!1&&v.on("error",x),v.on("close",O),function(){v.removeListener("complete",w),v.removeListener("abort",O),v.removeListener("request",L),v.req&&v.req.removeListener("finish",w),v.removeListener("end",b),v.removeListener("close",b),v.removeListener("finish",w),v.removeListener("end",S),v.removeListener("error",x),v.removeListener("close",O)}}o.exports=h},{"../../../errors":33}],43:[function(i,o,a){o.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],44:[function(i,o,a){var u;function c(w){var T=!1;return function(){T||(T=!0,w.apply(void 0,arguments))}}var f=i("../../../errors").codes,d=f.ERR_MISSING_ARGS,h=f.ERR_STREAM_DESTROYED;function v(w){if(w)throw w}function g(w){return w.setHeader&&typeof w.abort=="function"}function p(w,T,S,x){x=c(x);var O=!1;w.on("close",function(){O=!0}),u===void 0&&(u=i("./end-of-stream")),u(w,{readable:T,writable:S},function(M){if(M)return x(M);O=!0,x()});var L=!1;return function(M){if(!O&&!L){if(L=!0,g(w))return w.abort();if(typeof w.destroy=="function")return w.destroy();x(M||new h("pipe"))}}}function y(w){w()}function _(w,T){return w.pipe(T)}function b(w){return!w.length||typeof w[w.length-1]!="function"?v:w.pop()}function A(){for(var w=arguments.length,T=new Array(w),S=0;S<w;S++)T[S]=arguments[S];var x=b(T);if(Array.isArray(T[0])&&(T=T[0]),T.length<2)throw new d("streams");var O,L=T.map(function(M,re){var F=re<T.length-1,j=re>0;return p(M,F,j,function(V){O||(O=V),V&&L.forEach(y),!F&&(L.forEach(y),x(O))})});return T.reduce(_)}o.exports=A},{"../../../errors":33,"./end-of-stream":42}],45:[function(i,o,a){var u=i("../../../errors").codes.ERR_INVALID_OPT_VALUE;function c(d,h,v){return d.highWaterMark!=null?d.highWaterMark:h?d[v]:null}function f(d,h,v,g){var p=c(h,g,v);if(p!=null){if(!(isFinite(p)&&Math.floor(p)===p)||p<0){var y=g?v:"highWaterMark";throw new u(y,p)}return Math.floor(p)}return d.objectMode?16:16*1024}o.exports={getHighWaterMark:f}},{"../../../errors":33}],46:[function(i,o,a){o.exports=i("events").EventEmitter},{events:49}],47:[function(i,o,a){a=o.exports=i("./lib/_stream_readable.js"),a.Stream=a,a.Readable=a,a.Writable=i("./lib/_stream_writable.js"),a.Duplex=i("./lib/_stream_duplex.js"),a.Transform=i("./lib/_stream_transform.js"),a.PassThrough=i("./lib/_stream_passthrough.js"),a.finished=i("./lib/internal/streams/end-of-stream.js"),a.pipeline=i("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":34,"./lib/_stream_passthrough.js":35,"./lib/_stream_readable.js":36,"./lib/_stream_transform.js":37,"./lib/_stream_writable.js":38,"./lib/internal/streams/end-of-stream.js":42,"./lib/internal/streams/pipeline.js":44}],48:[function(i,o,a){(function(u){(function(){var c=i("once"),f=function(){},d=function(g){return g.setHeader&&typeof g.abort=="function"},h=function(g){return g.stdio&&Array.isArray(g.stdio)&&g.stdio.length===3},v=function(g,p,y){if(typeof p=="function")return v(g,null,p);p||(p={}),y=c(y||f);var _=g._writableState,b=g._readableState,A=p.readable||p.readable!==!1&&g.readable,w=p.writable||p.writable!==!1&&g.writable,T=!1,S=function(){g.writable||x()},x=function(){w=!1,A||y.call(g)},O=function(){A=!1,w||y.call(g)},L=function(V){y.call(g,V?new Error("exited with error code: "+V):null)},M=function(V){y.call(g,V)},re=function(){u.nextTick(F)},F=function(){if(!T){if(A&&!(b&&b.ended&&!b.destroyed))return y.call(g,new Error("premature close"));if(w&&!(_&&_.ended&&!_.destroyed))return y.call(g,new Error("premature close"))}},j=function(){g.req.on("finish",x)};return d(g)?(g.on("complete",x),g.on("abort",re),g.req?j():g.on("request",j)):w&&!_&&(g.on("end",S),g.on("close",S)),h(g)&&g.on("exit",L),g.on("end",O),g.on("finish",x),p.error!==!1&&g.on("error",M),g.on("close",re),function(){T=!0,g.removeListener("complete",x),g.removeListener("abort",re),g.removeListener("request",j),g.req&&g.req.removeListener("finish",x),g.removeListener("end",S),g.removeListener("close",S),g.removeListener("finish",x),g.removeListener("exit",L),g.removeListener("end",O),g.removeListener("error",M),g.removeListener("close",re)}};o.exports=v}).call(this)}).call(this,i("_process"))},{_process:102,once:100}],49:[function(i,o,a){var u=typeof Reflect=="object"?Reflect:null,c=u&&typeof u.apply=="function"?u.apply:function(j,V,z){return Function.prototype.apply.call(j,V,z)},f;u&&typeof u.ownKeys=="function"?f=u.ownKeys:Object.getOwnPropertySymbols?f=function(j){return Object.getOwnPropertyNames(j).concat(Object.getOwnPropertySymbols(j))}:f=function(j){return Object.getOwnPropertyNames(j)};function d(F){console&&console.warn&&console.warn(F)}var h=Number.isNaN||function(j){return j!==j};function v(){v.init.call(this)}o.exports=v,o.exports.once=L,v.EventEmitter=v,v.prototype._events=void 0,v.prototype._eventsCount=0,v.prototype._maxListeners=void 0;var g=10;function p(F){if(typeof F!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof F)}Object.defineProperty(v,"defaultMaxListeners",{enumerable:!0,get:function(){return g},set:function(F){if(typeof F!="number"||F<0||h(F))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+F+".");g=F}}),v.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},v.prototype.setMaxListeners=function(j){if(typeof j!="number"||j<0||h(j))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+j+".");return this._maxListeners=j,this};function y(F){return F._maxListeners===void 0?v.defaultMaxListeners:F._maxListeners}v.prototype.getMaxListeners=function(){return y(this)},v.prototype.emit=function(j){for(var V=[],z=1;z<arguments.length;z++)V.push(arguments[z]);var $=j==="error",he=this._events;if(he!==void 0)$=$&&he.error===void 0;else if(!$)return!1;if($){var le;if(V.length>0&&(le=V[0]),le instanceof Error)throw le;var Ie=new Error("Unhandled error."+(le?" ("+le.message+")":""));throw Ie.context=le,Ie}var Fe=he[j];if(Fe===void 0)return!1;if(typeof Fe=="function")c(Fe,this,V);else for(var pe=Fe.length,Lt=S(Fe,pe),z=0;z<pe;++z)c(Lt[z],this,V);return!0};function _(F,j,V,z){var $,he,le;if(p(V),he=F._events,he===void 0?(he=F._events=Object.create(null),F._eventsCount=0):(he.newListener!==void 0&&(F.emit("newListener",j,V.listener?V.listener:V),he=F._events),le=he[j]),le===void 0)le=he[j]=V,++F._eventsCount;else if(typeof le=="function"?le=he[j]=z?[V,le]:[le,V]:z?le.unshift(V):le.push(V),$=y(F),$>0&&le.length>$&&!le.warned){le.warned=!0;var Ie=new Error("Possible EventEmitter memory leak detected. "+le.length+" "+String(j)+" listeners added. Use emitter.setMaxListeners() to increase limit");Ie.name="MaxListenersExceededWarning",Ie.emitter=F,Ie.type=j,Ie.count=le.length,d(Ie)}return F}v.prototype.addListener=function(j,V){return _(this,j,V,!1)},v.prototype.on=v.prototype.addListener,v.prototype.prependListener=function(j,V){return _(this,j,V,!0)};function b(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function A(F,j,V){var z={fired:!1,wrapFn:void 0,target:F,type:j,listener:V},$=b.bind(z);return $.listener=V,z.wrapFn=$,$}v.prototype.once=function(j,V){return p(V),this.on(j,A(this,j,V)),this},v.prototype.prependOnceListener=function(j,V){return p(V),this.prependListener(j,A(this,j,V)),this},v.prototype.removeListener=function(j,V){var z,$,he,le,Ie;if(p(V),$=this._events,$===void 0)return this;if(z=$[j],z===void 0)return this;if(z===V||z.listener===V)--this._eventsCount===0?this._events=Object.create(null):(delete $[j],$.removeListener&&this.emit("removeListener",j,z.listener||V));else if(typeof z!="function"){for(he=-1,le=z.length-1;le>=0;le--)if(z[le]===V||z[le].listener===V){Ie=z[le].listener,he=le;break}if(he<0)return this;he===0?z.shift():x(z,he),z.length===1&&($[j]=z[0]),$.removeListener!==void 0&&this.emit("removeListener",j,Ie||V)}return this},v.prototype.off=v.prototype.removeListener,v.prototype.removeAllListeners=function(j){var V,z,$;if(z=this._events,z===void 0)return this;if(z.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):z[j]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete z[j]),this;if(arguments.length===0){var he=Object.keys(z),le;for($=0;$<he.length;++$)le=he[$],le!=="removeListener"&&this.removeAllListeners(le);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(V=z[j],typeof V=="function")this.removeListener(j,V);else if(V!==void 0)for($=V.length-1;$>=0;$--)this.removeListener(j,V[$]);return this};function w(F,j,V){var z=F._events;if(z===void 0)return[];var $=z[j];return $===void 0?[]:typeof $=="function"?V?[$.listener||$]:[$]:V?O($):S($,$.length)}v.prototype.listeners=function(j){return w(this,j,!0)},v.prototype.rawListeners=function(j){return w(this,j,!1)},v.listenerCount=function(F,j){return typeof F.listenerCount=="function"?F.listenerCount(j):T.call(F,j)},v.prototype.listenerCount=T;function T(F){var j=this._events;if(j!==void 0){var V=j[F];if(typeof V=="function")return 1;if(V!==void 0)return V.length}return 0}v.prototype.eventNames=function(){return this._eventsCount>0?f(this._events):[]};function S(F,j){for(var V=new Array(j),z=0;z<j;++z)V[z]=F[z];return V}function x(F,j){for(;j+1<F.length;j++)F[j]=F[j+1];F.pop()}function O(F){for(var j=new Array(F.length),V=0;V<j.length;++V)j[V]=F[V].listener||F[V];return j}function L(F,j){return new Promise(function(V,z){function $(le){F.removeListener(j,he),z(le)}function he(){typeof F.removeListener=="function"&&F.removeListener("error",$),V([].slice.call(arguments))}re(F,j,he,{once:!0}),j!=="error"&&M(F,$,{once:!0})})}function M(F,j,V){typeof F.on=="function"&&re(F,"error",j,V)}function re(F,j,V,z){if(typeof F.on=="function")z.once?F.once(j,V):F.on(j,V);else if(typeof F.addEventListener=="function")F.addEventListener(j,function $(he){z.once&&F.removeEventListener(j,$),V(he)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof F)}},{}],50:[function(i,o,a){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */a.read=function(u,c,f,d,h){var v,g,p=h*8-d-1,y=(1<<p)-1,_=y>>1,b=-7,A=f?h-1:0,w=f?-1:1,T=u[c+A];for(A+=w,v=T&(1<<-b)-1,T>>=-b,b+=p;b>0;v=v*256+u[c+A],A+=w,b-=8);for(g=v&(1<<-b)-1,v>>=-b,b+=d;b>0;g=g*256+u[c+A],A+=w,b-=8);if(v===0)v=1-_;else{if(v===y)return g?NaN:(T?-1:1)*(1/0);g=g+Math.pow(2,d),v=v-_}return(T?-1:1)*g*Math.pow(2,v-d)},a.write=function(u,c,f,d,h,v){var g,p,y,_=v*8-h-1,b=(1<<_)-1,A=b>>1,w=h===23?Math.pow(2,-24)-Math.pow(2,-77):0,T=d?0:v-1,S=d?1:-1,x=c<0||c===0&&1/c<0?1:0;for(c=Math.abs(c),isNaN(c)||c===1/0?(p=isNaN(c)?1:0,g=b):(g=Math.floor(Math.log(c)/Math.LN2),c*(y=Math.pow(2,-g))<1&&(g--,y*=2),g+A>=1?c+=w/y:c+=w*Math.pow(2,1-A),c*y>=2&&(g++,y/=2),g+A>=b?(p=0,g=b):g+A>=1?(p=(c*y-1)*Math.pow(2,h),g=g+A):(p=c*Math.pow(2,A-1)*Math.pow(2,h),g=0));h>=8;u[f+T]=p&255,T+=S,p/=256,h-=8);for(g=g<<h|p,_+=h;_>0;u[f+T]=g&255,T+=S,g/=256,_-=8);u[f+T-S]|=x*128}},{}],51:[function(i,o,a){typeof Object.create=="function"?o.exports=function(c,f){f&&(c.super_=f,c.prototype=Object.create(f.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}))}:o.exports=function(c,f){if(f){c.super_=f;var d=function(){};d.prototype=f.prototype,c.prototype=new d,c.prototype.constructor=c}}},{}],52:[function(i,o,a){Object.defineProperty(a,"t",{value:!0}),a.ContainerIterator=a.Container=a.Base=void 0;class u{constructor(h=0){this.iteratorType=h}equals(h){return this.o===h.o}}a.ContainerIterator=u;class c{constructor(){this.i=0}get length(){return this.i}size(){return this.i}empty(){return this.i===0}}a.Base=c;class f extends c{}a.Container=f},{}],53:[function(i,o,a){Object.defineProperty(a,"t",{value:!0}),a.HashContainerIterator=a.HashContainer=void 0;var u=i("../../ContainerBase"),c=d(i("../../../utils/checkObject")),f=i("../../../utils/throwError");function d(g){return g&&g.t?g:{default:g}}class h extends u.ContainerIterator{constructor(p,y,_){super(_),this.o=p,this.h=y,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,f.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,f.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,f.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,f.throwIteratorAccessError)(),this.o=this.o.L,this})}}a.HashContainerIterator=h;class v extends u.Container{constructor(){super(),this.H=[],this.g={},this.HASH_TAG=Symbol("@@HASH_TAG"),Object.setPrototypeOf(this.g,null),this.h={},this.h.L=this.h.B=this.p=this._=this.h}V(p){const{L:y,B:_}=p;y.B=_,_.L=y,p===this.p&&(this.p=_),p===this._&&(this._=y),this.i-=1}M(p,y,_){_===void 0&&(_=(0,c.default)(p));let b;if(_){const A=p[this.HASH_TAG];if(A!==void 0)return this.H[A].l=y,this.i;Object.defineProperty(p,this.HASH_TAG,{value:this.H.length,configurable:!0}),b={u:p,l:y,L:this._,B:this.h},this.H.push(b)}else{const A=this.g[p];if(A)return A.l=y,this.i;b={u:p,l:y,L:this._,B:this.h},this.g[p]=b}return this.i===0?(this.p=b,this.h.B=b):this._.B=b,this._=b,this.h.L=b,++this.i}I(p,y){if(y===void 0&&(y=(0,c.default)(p)),y){const _=p[this.HASH_TAG];return _===void 0?this.h:this.H[_]}else return this.g[p]||this.h}clear(){const p=this.HASH_TAG;this.H.forEach(function(y){delete y.u[p]}),this.H=[],this.g={},Object.setPrototypeOf(this.g,null),this.i=0,this.p=this._=this.h.L=this.h.B=this.h}eraseElementByKey(p,y){let _;if(y===void 0&&(y=(0,c.default)(p)),y){const b=p[this.HASH_TAG];if(b===void 0)return!1;delete p[this.HASH_TAG],_=this.H[b],delete this.H[b]}else{if(_=this.g[p],_===void 0)return!1;delete this.g[p]}return this.V(_),!0}eraseElementByIterator(p){const y=p.o;return y===this.h&&(0,f.throwIteratorAccessError)(),this.V(y),p.next()}eraseElementByPos(p){if(p<0||p>this.i-1)throw new RangeError;let y=this.p;for(;p--;)y=y.B;return this.V(y),this.i}}a.HashContainer=v},{"../../../utils/checkObject":70,"../../../utils/throwError":71,"../../ContainerBase":52}],54:[function(i,o,a){Object.defineProperty(a,"t",{value:!0}),a.default=void 0;var u=i("./Base"),c=d(i("../../utils/checkObject")),f=i("../../utils/throwError");function d(p){return p&&p.t?p:{default:p}}class h extends u.HashContainerIterator{constructor(y,_,b,A){super(y,_,A),this.container=b}get pointer(){this.o===this.h&&(0,f.throwIteratorAccessError)();const y=this;return new Proxy([],{get(_,b){if(b==="0")return y.o.u;if(b==="1")return y.o.l},set(_,b,A){if(b!=="1")throw new TypeError("props must be 1");return y.o.l=A,!0}})}copy(){return new h(this.o,this.h,this.container,this.iteratorType)}}class v extends u.HashContainer{constructor(y=[]){super();const _=this;y.forEach(function(b){_.setElement(b[0],b[1])})}begin(){return new h(this.p,this.h,this)}end(){return new h(this.h,this.h,this)}rBegin(){return new h(this._,this.h,this,1)}rEnd(){return new h(this.h,this.h,this,1)}front(){if(this.i!==0)return[this.p.u,this.p.l]}back(){if(this.i!==0)return[this._.u,this._.l]}setElement(y,_,b){return this.M(y,_,b)}getElementByKey(y,_){if(_===void 0&&(_=(0,c.default)(y)),_){const A=y[this.HASH_TAG];return A!==void 0?this.H[A].l:void 0}const b=this.g[y];return b?b.l:void 0}getElementByPos(y){if(y<0||y>this.i-1)throw new RangeError;let _=this.p;for(;y--;)_=_.B;return[_.u,_.l]}find(y,_){const b=this.I(y,_);return new h(b,this.h,this)}forEach(y){let _=0,b=this.p;for(;b!==this.h;)y([b.u,b.l],_++,this),b=b.B}[Symbol.iterator](){return function*(){let y=this.p;for(;y!==this.h;)yield[y.u,y.l],y=y.B}.bind(this)()}}var g=v;a.default=g},{"../../utils/checkObject":70,"../../utils/throwError":71,"./Base":53}],55:[function(i,o,a){Object.defineProperty(a,"t",{value:!0}),a.default=void 0;var u=i("./Base"),c=i("../../utils/throwError");class f extends u.HashContainerIterator{constructor(g,p,y,_){super(g,p,_),this.container=y}get pointer(){return this.o===this.h&&(0,c.throwIteratorAccessError)(),this.o.u}copy(){return new f(this.o,this.h,this.container,this.iteratorType)}}class d extends u.HashContainer{constructor(g=[]){super();const p=this;g.forEach(function(y){p.insert(y)})}begin(){return new f(this.p,this.h,this)}end(){return new f(this.h,this.h,this)}rBegin(){return new f(this._,this.h,this,1)}rEnd(){return new f(this.h,this.h,this,1)}front(){return this.p.u}back(){return this._.u}insert(g,p){return this.M(g,void 0,p)}getElementByPos(g){if(g<0||g>this.i-1)throw new RangeError;let p=this.p;for(;g--;)p=p.B;return p.u}find(g,p){const y=this.I(g,p);return new f(y,this.h,this)}forEach(g){let p=0,y=this.p;for(;y!==this.h;)g(y.u,p++,this),y=y.B}[Symbol.iterator](){return function*(){let g=this.p;for(;g!==this.h;)yield g.u,g=g.B}.bind(this)()}}var h=d;a.default=h},{"../../utils/throwError":71,"./Base":53}],56:[function(i,o,a){Object.defineProperty(a,"t",{value:!0}),a.default=void 0;var u=i("../ContainerBase");class c extends u.Base{constructor(h=[],v=function(p,y){return p>y?-1:p<y?1:0},g=!0){if(super(),this.v=v,Array.isArray(h))this.C=g?[...h]:h;else{this.C=[];const y=this;h.forEach(function(_){y.C.push(_)})}this.i=this.C.length;const p=this.i>>1;for(let y=this.i-1>>1;y>=0;--y)this.k(y,p)}m(h){const v=this.C[h];for(;h>0;){const g=h-1>>1,p=this.C[g];if(this.v(p,v)<=0)break;this.C[h]=p,h=g}this.C[h]=v}k(h,v){const g=this.C[h];for(;h<v;){let p=h<<1|1;const y=p+1;let _=this.C[p];if(y<this.i&&this.v(_,this.C[y])>0&&(p=y,_=this.C[y]),this.v(_,g)>=0)break;this.C[h]=_,h=p}this.C[h]=g}clear(){this.i=0,this.C.length=0}push(h){this.C.push(h),this.m(this.i),this.i+=1}pop(){if(this.i===0)return;const h=this.C[0],v=this.C.pop();return this.i-=1,this.i&&(this.C[0]=v,this.k(0,this.i>>1)),h}top(){return this.C[0]}find(h){return this.C.indexOf(h)>=0}remove(h){const v=this.C.indexOf(h);return v<0?!1:(v===0?this.pop():v===this.i-1?(this.C.pop(),this.i-=1):(this.C.splice(v,1,this.C.pop()),this.i-=1,this.m(v),this.k(v,this.i>>1)),!0)}updateItem(h){const v=this.C.indexOf(h);return v<0?!1:(this.m(v),this.k(v,this.i>>1),!0)}toArray(){return[...this.C]}}var f=c;a.default=f},{"../ContainerBase":52}],57:[function(i,o,a){Object.defineProperty(a,"t",{value:!0}),a.default=void 0;var u=i("../ContainerBase");class c extends u.Base{constructor(h=[]){super(),this.j=0,this.q=[];const v=this;h.forEach(function(g){v.push(g)})}clear(){this.q=[],this.i=this.j=0}push(h){const v=this.q.length;if(this.j/v>.5&&this.j+this.i>=v&&v>4096){const g=this.i;for(let p=0;p<g;++p)this.q[p]=this.q[this.j+p];this.j=0,this.q[this.i]=h}else this.q[this.j+this.i]=h;return++this.i}pop(){if(this.i===0)return;const h=this.q[this.j++];return this.i-=1,h}front(){if(this.i!==0)return this.q[this.j]}}var f=c;a.default=f},{"../ContainerBase":52}],58:[function(i,o,a){Object.defineProperty(a,"t",{value:!0}),a.default=void 0;var u=i("../ContainerBase");class c extends u.Base{constructor(h=[]){super(),this.S=[];const v=this;h.forEach(function(g){v.push(g)})}clear(){this.i=0,this.S=[]}push(h){return this.S.push(h),this.i+=1,this.i}pop(){if(this.i!==0)return this.i-=1,this.S.pop()}top(){return this.S[this.i-1]}}var f=c;a.default=f},{"../ContainerBase":52}],59:[function(i,o,a){Object.defineProperty(a,"t",{value:!0}),a.RandomIterator=void 0;var u=i("../../ContainerBase"),c=i("../../../utils/throwError");class f extends u.ContainerIterator{constructor(h,v){super(v),this.o=h,this.iteratorType===0?(this.pre=function(){return this.o===0&&(0,c.throwIteratorAccessError)(),this.o-=1,this},this.next=function(){return this.o===this.container.size()&&(0,c.throwIteratorAccessError)(),this.o+=1,this}):(this.pre=function(){return this.o===this.container.size()-1&&(0,c.throwIteratorAccessError)(),this.o+=1,this},this.next=function(){return this.o===-1&&(0,c.throwIteratorAccessError)(),this.o-=1,this})}get pointer(){return this.container.getElementByPos(this.o)}set pointer(h){this.container.setElementByPos(this.o,h)}}a.RandomIterator=f},{"../../../utils/throwError":71,"../../ContainerBase":52}],60:[function(i,o,a){Object.defineProperty(a,"t",{value:!0}),a.default=void 0;var u=i("../../ContainerBase");class c extends u.Container{}var f=c;a.default=f},{"../../ContainerBase":52}],61:[function(i,o,a){Object.defineProperty(a,"t",{value:!0}),a.default=void 0;var u=f(i("./Base")),c=i("./Base/RandomIterator");function f(g){return g&&g.t?g:{default:g}}class d extends c.RandomIterator{constructor(p,y,_){super(p,_),this.container=y}copy(){return new d(this.o,this.container,this.iteratorType)}}class h extends u.default{constructor(p=[],y=4096){super(),this.j=0,this.D=0,this.R=0,this.N=0,this.P=0,this.A=[];const _=(()=>{if(typeof p.length=="number")return p.length;if(typeof p.size=="number")return p.size;if(typeof p.size=="function")return p.size();throw new TypeError("Cannot get the length or size of the container")})();this.F=y,this.P=Math.max(Math.ceil(_/this.F),1);for(let w=0;w<this.P;++w)this.A.push(new Array(this.F));const b=Math.ceil(_/this.F);this.j=this.R=(this.P>>1)-(b>>1),this.D=this.N=this.F-_%this.F>>1;const A=this;p.forEach(function(w){A.pushBack(w)})}T(){const p=[],y=Math.max(this.P>>1,1);for(let _=0;_<y;++_)p[_]=new Array(this.F);for(let _=this.j;_<this.P;++_)p[p.length]=this.A[_];for(let _=0;_<this.R;++_)p[p.length]=this.A[_];p[p.length]=[...this.A[this.R]],this.j=y,this.R=p.length-1;for(let _=0;_<y;++_)p[p.length]=new Array(this.F);this.A=p,this.P=p.length}O(p){const y=this.D+p+1,_=y%this.F;let b=_-1,A=this.j+(y-_)/this.F;return _===0&&(A-=1),A%=this.P,b<0&&(b+=this.F),{curNodeBucketIndex:A,curNodePointerIndex:b}}clear(){this.A=[new Array(this.F)],this.P=1,this.j=this.R=this.i=0,this.D=this.N=this.F>>1}begin(){return new d(0,this)}end(){return new d(this.i,this)}rBegin(){return new d(this.i-1,this,1)}rEnd(){return new d(-1,this,1)}front(){if(this.i!==0)return this.A[this.j][this.D]}back(){if(this.i!==0)return this.A[this.R][this.N]}pushBack(p){return this.i&&(this.N<this.F-1?this.N+=1:this.R<this.P-1?(this.R+=1,this.N=0):(this.R=0,this.N=0),this.R===this.j&&this.N===this.D&&this.T()),this.i+=1,this.A[this.R][this.N]=p,this.i}popBack(){if(this.i===0)return;const p=this.A[this.R][this.N];return this.i!==1&&(this.N>0?this.N-=1:this.R>0?(this.R-=1,this.N=this.F-1):(this.R=this.P-1,this.N=this.F-1)),this.i-=1,p}pushFront(p){return this.i&&(this.D>0?this.D-=1:this.j>0?(this.j-=1,this.D=this.F-1):(this.j=this.P-1,this.D=this.F-1),this.j===this.R&&this.D===this.N&&this.T()),this.i+=1,this.A[this.j][this.D]=p,this.i}popFront(){if(this.i===0)return;const p=this.A[this.j][this.D];return this.i!==1&&(this.D<this.F-1?this.D+=1:this.j<this.P-1?(this.j+=1,this.D=0):(this.j=0,this.D=0)),this.i-=1,p}getElementByPos(p){if(p<0||p>this.i-1)throw new RangeError;const{curNodeBucketIndex:y,curNodePointerIndex:_}=this.O(p);return this.A[y][_]}setElementByPos(p,y){if(p<0||p>this.i-1)throw new RangeError;const{curNodeBucketIndex:_,curNodePointerIndex:b}=this.O(p);this.A[_][b]=y}insert(p,y,_=1){if(p<0||p>this.i)throw new RangeError;if(p===0)for(;_--;)this.pushFront(y);else if(p===this.i)for(;_--;)this.pushBack(y);else{const b=[];for(let A=p;A<this.i;++A)b.push(this.getElementByPos(A));this.cut(p-1);for(let A=0;A<_;++A)this.pushBack(y);for(let A=0;A<b.length;++A)this.pushBack(b[A])}return this.i}cut(p){if(p<0)return this.clear(),0;const{curNodeBucketIndex:y,curNodePointerIndex:_}=this.O(p);return this.R=y,this.N=_,this.i=p+1,this.i}eraseElementByPos(p){if(p<0||p>this.i-1)throw new RangeError;if(p===0)this.popFront();else if(p===this.i-1)this.popBack();else{const y=[];for(let b=p+1;b<this.i;++b)y.push(this.getElementByPos(b));this.cut(p),this.popBack();const _=this;y.forEach(function(b){_.pushBack(b)})}return this.i}eraseElementByValue(p){if(this.i===0)return 0;const y=[];for(let b=0;b<this.i;++b){const A=this.getElementByPos(b);A!==p&&y.push(A)}const _=y.length;for(let b=0;b<_;++b)this.setElementByPos(b,y[b]);return this.cut(_-1)}eraseElementByIterator(p){const y=p.o;return this.eraseElementByPos(y),p=p.next(),p}find(p){for(let y=0;y<this.i;++y)if(this.getElementByPos(y)===p)return new d(y,this);return this.end()}reverse(){let p=0,y=this.i-1;for(;p<y;){const _=this.getElementByPos(p);this.setElementByPos(p,this.getElementByPos(y)),this.setElementByPos(y,_),p+=1,y-=1}}unique(){if(this.i<=1)return this.i;let p=1,y=this.getElementByPos(0);for(let _=1;_<this.i;++_){const b=this.getElementByPos(_);b!==y&&(y=b,this.setElementByPos(p++,b))}for(;this.i>p;)this.popBack();return this.i}sort(p){const y=[];for(let _=0;_<this.i;++_)y.push(this.getElementByPos(_));y.sort(p);for(let _=0;_<this.i;++_)this.setElementByPos(_,y[_])}shrinkToFit(){if(this.i===0)return;const p=[];this.forEach(function(y){p.push(y)}),this.P=Math.max(Math.ceil(this.i/this.F),1),this.i=this.j=this.R=this.D=this.N=0,this.A=[];for(let y=0;y<this.P;++y)this.A.push(new Array(this.F));for(let y=0;y<p.length;++y)this.pushBack(p[y])}forEach(p){for(let y=0;y<this.i;++y)p(this.getElementByPos(y),y,this)}[Symbol.iterator](){return function*(){for(let p=0;p<this.i;++p)yield this.getElementByPos(p)}.bind(this)()}}var v=h;a.default=v},{"./Base":60,"./Base/RandomIterator":59}],62:[function(i,o,a){Object.defineProperty(a,"t",{value:!0}),a.default=void 0;var u=d(i("./Base")),c=i("../ContainerBase"),f=i("../../utils/throwError");function d(p){return p&&p.t?p:{default:p}}class h extends c.ContainerIterator{constructor(y,_,b,A){super(A),this.o=y,this.h=_,this.container=b,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,f.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,f.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,f.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,f.throwIteratorAccessError)(),this.o=this.o.L,this})}get pointer(){return this.o===this.h&&(0,f.throwIteratorAccessError)(),this.o.l}set pointer(y){this.o===this.h&&(0,f.throwIteratorAccessError)(),this.o.l=y}copy(){return new h(this.o,this.h,this.container,this.iteratorType)}}class v extends u.default{constructor(y=[]){super(),this.h={},this.p=this._=this.h.L=this.h.B=this.h;const _=this;y.forEach(function(b){_.pushBack(b)})}V(y){const{L:_,B:b}=y;_.B=b,b.L=_,y===this.p&&(this.p=b),y===this._&&(this._=_),this.i-=1}G(y,_){const b=_.B,A={l:y,L:_,B:b};_.B=A,b.L=A,_===this.h&&(this.p=A),b===this.h&&(this._=A),this.i+=1}clear(){this.i=0,this.p=this._=this.h.L=this.h.B=this.h}begin(){return new h(this.p,this.h,this)}end(){return new h(this.h,this.h,this)}rBegin(){return new h(this._,this.h,this,1)}rEnd(){return new h(this.h,this.h,this,1)}front(){return this.p.l}back(){return this._.l}getElementByPos(y){if(y<0||y>this.i-1)throw new RangeError;let _=this.p;for(;y--;)_=_.B;return _.l}eraseElementByPos(y){if(y<0||y>this.i-1)throw new RangeError;let _=this.p;for(;y--;)_=_.B;return this.V(_),this.i}eraseElementByValue(y){let _=this.p;for(;_!==this.h;)_.l===y&&this.V(_),_=_.B;return this.i}eraseElementByIterator(y){const _=y.o;return _===this.h&&(0,f.throwIteratorAccessError)(),y=y.next(),this.V(_),y}pushBack(y){return this.G(y,this._),this.i}popBack(){if(this.i===0)return;const y=this._.l;return this.V(this._),y}pushFront(y){return this.G(y,this.h),this.i}popFront(){if(this.i===0)return;const y=this.p.l;return this.V(this.p),y}setElementByPos(y,_){if(y<0||y>this.i-1)throw new RangeError;let b=this.p;for(;y--;)b=b.B;b.l=_}insert(y,_,b=1){if(y<0||y>this.i)throw new RangeError;if(b<=0)return this.i;if(y===0)for(;b--;)this.pushFront(_);else if(y===this.i)for(;b--;)this.pushBack(_);else{let A=this.p;for(let T=1;T<y;++T)A=A.B;const w=A.B;for(this.i+=b;b--;)A.B={l:_,L:A},A.B.L=A,A=A.B;A.B=w,w.L=A}return this.i}find(y){let _=this.p;for(;_!==this.h;){if(_.l===y)return new h(_,this.h,this);_=_.B}return this.end()}reverse(){if(this.i<=1)return;let y=this.p,_=this._,b=0;for(;b<<1<this.i;){const A=y.l;y.l=_.l,_.l=A,y=y.B,_=_.L,b+=1}}unique(){if(this.i<=1)return this.i;let y=this.p;for(;y!==this.h;){let _=y;for(;_.B!==this.h&&_.l===_.B.l;)_=_.B,this.i-=1;y.B=_.B,y.B.L=y,y=y.B}return this.i}sort(y){if(this.i<=1)return;const _=[];this.forEach(function(A){_.push(A)}),_.sort(y);let b=this.p;_.forEach(function(A){b.l=A,b=b.B})}merge(y){const _=this;if(this.i===0)y.forEach(function(b){_.pushBack(b)});else{let b=this.p;y.forEach(function(A){for(;b!==_.h&&b.l<=A;)b=b.B;_.G(A,b.L)})}return this.i}forEach(y){let _=this.p,b=0;for(;_!==this.h;)y(_.l,b++,this),_=_.B}[Symbol.iterator](){return function*(){if(this.i===0)return;let y=this.p;for(;y!==this.h;)yield y.l,y=y.B}.bind(this)()}}var g=v;a.default=g},{"../../utils/throwError":71,"../ContainerBase":52,"./Base":60}],63:[function(i,o,a){Object.defineProperty(a,"t",{value:!0}),a.default=void 0;var u=f(i("./Base")),c=i("./Base/RandomIterator");function f(g){return g&&g.t?g:{default:g}}class d extends c.RandomIterator{constructor(p,y,_){super(p,_),this.container=y}copy(){return new d(this.o,this.container,this.iteratorType)}}class h extends u.default{constructor(p=[],y=!0){if(super(),Array.isArray(p))this.J=y?[...p]:p,this.i=p.length;else{this.J=[];const _=this;p.forEach(function(b){_.pushBack(b)})}}clear(){this.i=0,this.J.length=0}begin(){return new d(0,this)}end(){return new d(this.i,this)}rBegin(){return new d(this.i-1,this,1)}rEnd(){return new d(-1,this,1)}front(){return this.J[0]}back(){return this.J[this.i-1]}getElementByPos(p){if(p<0||p>this.i-1)throw new RangeError;return this.J[p]}eraseElementByPos(p){if(p<0||p>this.i-1)throw new RangeError;return this.J.splice(p,1),this.i-=1,this.i}eraseElementByValue(p){let y=0;for(let _=0;_<this.i;++_)this.J[_]!==p&&(this.J[y++]=this.J[_]);return this.i=this.J.length=y,this.i}eraseElementByIterator(p){const y=p.o;return p=p.next(),this.eraseElementByPos(y),p}pushBack(p){return this.J.push(p),this.i+=1,this.i}popBack(){if(this.i!==0)return this.i-=1,this.J.pop()}setElementByPos(p,y){if(p<0||p>this.i-1)throw new RangeError;this.J[p]=y}insert(p,y,_=1){if(p<0||p>this.i)throw new RangeError;return this.J.splice(p,0,...new Array(_).fill(y)),this.i+=_,this.i}find(p){for(let y=0;y<this.i;++y)if(this.J[y]===p)return new d(y,this);return this.end()}reverse(){this.J.reverse()}unique(){let p=1;for(let y=1;y<this.i;++y)this.J[y]!==this.J[y-1]&&(this.J[p++]=this.J[y]);return this.i=this.J.length=p,this.i}sort(p){this.J.sort(p)}forEach(p){for(let y=0;y<this.i;++y)p(this.J[y],y,this)}[Symbol.iterator](){return function*(){yield*this.J}.bind(this)()}}var v=h;a.default=v},{"./Base":60,"./Base/RandomIterator":59}],64:[function(i,o,a){Object.defineProperty(a,"t",{value:!0}),a.default=void 0;var u=i("../../ContainerBase"),c=i("../../../utils/throwError");class f extends u.ContainerIterator{constructor(v,g,p){super(p),this.o=v,this.h=g,this.iteratorType===0?(this.pre=function(){return this.o===this.h.U&&(0,c.throwIteratorAccessError)(),this.o=this.o.L(),this},this.next=function(){return this.o===this.h&&(0,c.throwIteratorAccessError)(),this.o=this.o.B(),this}):(this.pre=function(){return this.o===this.h.W&&(0,c.throwIteratorAccessError)(),this.o=this.o.B(),this},this.next=function(){return this.o===this.h&&(0,c.throwIteratorAccessError)(),this.o=this.o.L(),this})}get index(){let v=this.o;const g=this.h.tt;if(v===this.h)return g?g.rt-1:0;let p=0;for(v.U&&(p+=v.U.rt);v!==g;){const y=v.tt;v===y.W&&(p+=1,y.U&&(p+=y.U.rt)),v=y}return p}}var d=f;a.default=d},{"../../../utils/throwError":71,"../../ContainerBase":52}],65:[function(i,o,a){Object.defineProperty(a,"t",{value:!0}),a.TreeNodeEnableIndex=a.TreeNode=void 0;class u{constructor(d,h){this.ee=1,this.u=void 0,this.l=void 0,this.U=void 0,this.W=void 0,this.tt=void 0,this.u=d,this.l=h}L(){let d=this;if(d.ee===1&&d.tt.tt===d)d=d.W;else if(d.U)for(d=d.U;d.W;)d=d.W;else{let h=d.tt;for(;h.U===d;)d=h,h=d.tt;d=h}return d}B(){let d=this;if(d.W){for(d=d.W;d.U;)d=d.U;return d}else{let h=d.tt;for(;h.W===d;)d=h,h=d.tt;return d.W!==h?h:d}}te(){const d=this.tt,h=this.W,v=h.U;return d.tt===this?d.tt=h:d.U===this?d.U=h:d.W=h,h.tt=d,h.U=this,this.tt=h,this.W=v,v&&(v.tt=this),h}se(){const d=this.tt,h=this.U,v=h.W;return d.tt===this?d.tt=h:d.U===this?d.U=h:d.W=h,h.tt=d,h.W=this,this.tt=h,this.U=v,v&&(v.tt=this),h}}a.TreeNode=u;class c extends u{constructor(){super(...arguments),this.rt=1}te(){const d=super.te();return this.ie(),d.ie(),d}se(){const d=super.se();return this.ie(),d.ie(),d}ie(){this.rt=1,this.U&&(this.rt+=this.U.rt),this.W&&(this.rt+=this.W.rt)}}a.TreeNodeEnableIndex=c},{}],66:[function(i,o,a){Object.defineProperty(a,"t",{value:!0}),a.default=void 0;var u=i("./TreeNode"),c=i("../../ContainerBase"),f=i("../../../utils/throwError");class d extends c.Container{constructor(g=function(y,_){return y<_?-1:y>_?1:0},p=!1){super(),this.Y=void 0,this.v=g,p?(this.re=u.TreeNodeEnableIndex,this.M=function(y,_,b){const A=this.ne(y,_,b);if(A){let w=A.tt;for(;w!==this.h;)w.rt+=1,w=w.tt;const T=this.he(A);if(T){const{parentNode:S,grandParent:x,curNode:O}=T;S.ie(),x.ie(),O.ie()}}return this.i},this.V=function(y){let _=this.fe(y);for(;_!==this.h;)_.rt-=1,_=_.tt}):(this.re=u.TreeNode,this.M=function(y,_,b){const A=this.ne(y,_,b);return A&&this.he(A),this.i},this.V=this.fe),this.h=new this.re}X(g,p){let y=this.h;for(;g;){const _=this.v(g.u,p);if(_<0)g=g.W;else if(_>0)y=g,g=g.U;else return g}return y}Z(g,p){let y=this.h;for(;g;)this.v(g.u,p)<=0?g=g.W:(y=g,g=g.U);return y}$(g,p){let y=this.h;for(;g;){const _=this.v(g.u,p);if(_<0)y=g,g=g.W;else if(_>0)g=g.U;else return g}return y}rr(g,p){let y=this.h;for(;g;)this.v(g.u,p)<0?(y=g,g=g.W):g=g.U;return y}ue(g){for(;;){const p=g.tt;if(p===this.h)return;if(g.ee===1){g.ee=0;return}if(g===p.U){const y=p.W;if(y.ee===1)y.ee=0,p.ee=1,p===this.Y?this.Y=p.te():p.te();else if(y.W&&y.W.ee===1){y.ee=p.ee,p.ee=0,y.W.ee=0,p===this.Y?this.Y=p.te():p.te();return}else y.U&&y.U.ee===1?(y.ee=1,y.U.ee=0,y.se()):(y.ee=1,g=p)}else{const y=p.U;if(y.ee===1)y.ee=0,p.ee=1,p===this.Y?this.Y=p.se():p.se();else if(y.U&&y.U.ee===1){y.ee=p.ee,p.ee=0,y.U.ee=0,p===this.Y?this.Y=p.se():p.se();return}else y.W&&y.W.ee===1?(y.ee=1,y.W.ee=0,y.te()):(y.ee=1,g=p)}}}fe(g){if(this.i===1)return this.clear(),this.h;let p=g;for(;p.U||p.W;){if(p.W)for(p=p.W;p.U;)p=p.U;else p=p.U;[g.u,p.u]=[p.u,g.u],[g.l,p.l]=[p.l,g.l],g=p}this.h.U===p?this.h.U=p.tt:this.h.W===p&&(this.h.W=p.tt),this.ue(p);const y=p.tt;return p===y.U?y.U=void 0:y.W=void 0,this.i-=1,this.Y.ee=0,y}oe(g,p){return g===void 0?!1:this.oe(g.U,p)||p(g)?!0:this.oe(g.W,p)}he(g){for(;;){const p=g.tt;if(p.ee===0)return;const y=p.tt;if(p===y.U){const _=y.W;if(_&&_.ee===1){if(_.ee=p.ee=0,y===this.Y)return;y.ee=1,g=y;continue}else if(g===p.W){if(g.ee=0,g.U&&(g.U.tt=p),g.W&&(g.W.tt=y),p.W=g.U,y.U=g.W,g.U=p,g.W=y,y===this.Y)this.Y=g,this.h.tt=g;else{const b=y.tt;b.U===y?b.U=g:b.W=g}return g.tt=y.tt,p.tt=g,y.tt=g,y.ee=1,{parentNode:p,grandParent:y,curNode:g}}else p.ee=0,y===this.Y?this.Y=y.se():y.se(),y.ee=1}else{const _=y.U;if(_&&_.ee===1){if(_.ee=p.ee=0,y===this.Y)return;y.ee=1,g=y;continue}else if(g===p.U){if(g.ee=0,g.U&&(g.U.tt=y),g.W&&(g.W.tt=p),y.W=g.U,p.U=g.W,g.U=y,g.W=p,y===this.Y)this.Y=g,this.h.tt=g;else{const b=y.tt;b.U===y?b.U=g:b.W=g}return g.tt=y.tt,p.tt=g,y.tt=g,y.ee=1,{parentNode:p,grandParent:y,curNode:g}}else p.ee=0,y===this.Y?this.Y=y.te():y.te(),y.ee=1}return}}ne(g,p,y){if(this.Y===void 0){this.i+=1,this.Y=new this.re(g,p),this.Y.ee=0,this.Y.tt=this.h,this.h.tt=this.Y,this.h.U=this.Y,this.h.W=this.Y;return}let _;const b=this.h.U,A=this.v(b.u,g);if(A===0){b.l=p;return}else if(A>0)b.U=new this.re(g,p),b.U.tt=b,_=b.U,this.h.U=_;else{const w=this.h.W,T=this.v(w.u,g);if(T===0){w.l=p;return}else if(T<0)w.W=new this.re(g,p),w.W.tt=w,_=w.W,this.h.W=_;else{if(y!==void 0){const S=y.o;if(S!==this.h){const x=this.v(S.u,g);if(x===0){S.l=p;return}else if(x>0){const O=S.L(),L=this.v(O.u,g);if(L===0){O.l=p;return}else L<0&&(_=new this.re(g,p),O.W===void 0?(O.W=_,_.tt=O):(S.U=_,_.tt=S))}}}if(_===void 0)for(_=this.Y;;){const S=this.v(_.u,g);if(S>0){if(_.U===void 0){_.U=new this.re(g,p),_.U.tt=_,_=_.U;break}_=_.U}else if(S<0){if(_.W===void 0){_.W=new this.re(g,p),_.W.tt=_,_=_.W;break}_=_.W}else{_.l=p;return}}}}return this.i+=1,_}I(g,p){for(;g;){const y=this.v(g.u,p);if(y<0)g=g.W;else if(y>0)g=g.U;else return g}return g||this.h}clear(){this.i=0,this.Y=void 0,this.h.tt=void 0,this.h.U=this.h.W=void 0}updateKeyByIterator(g,p){const y=g.o;if(y===this.h&&(0,f.throwIteratorAccessError)(),this.i===1)return y.u=p,!0;if(y===this.h.U)return this.v(y.B().u,p)>0?(y.u=p,!0):!1;if(y===this.h.W)return this.v(y.L().u,p)<0?(y.u=p,!0):!1;const _=y.L().u;if(this.v(_,p)>=0)return!1;const b=y.B().u;return this.v(b,p)<=0?!1:(y.u=p,!0)}eraseElementByPos(g){if(g<0||g>this.i-1)throw new RangeError;let p=0;const y=this;return this.oe(this.Y,function(_){return g===p?(y.V(_),!0):(p+=1,!1)}),this.i}eraseElementByKey(g){if(this.i===0)return!1;const p=this.I(this.Y,g);return p===this.h?!1:(this.V(p),!0)}eraseElementByIterator(g){const p=g.o;p===this.h&&(0,f.throwIteratorAccessError)();const y=p.W===void 0;return g.iteratorType===0?y&&g.next():(!y||p.U===void 0)&&g.next(),this.V(p),g}forEach(g){let p=0;for(const y of this)g(y,p++,this)}getElementByPos(g){if(g<0||g>this.i-1)throw new RangeError;let p,y=0;for(const _ of this){if(y===g){p=_;break}y+=1}return p}getHeight(){if(this.i===0)return 0;const g=function(p){return p?Math.max(g(p.U),g(p.W))+1:0};return g(this.Y)}}var h=d;a.default=h},{"../../../utils/throwError":71,"../../ContainerBase":52,"./TreeNode":65}],67:[function(i,o,a){Object.defineProperty(a,"t",{value:!0}),a.default=void 0;var u=d(i("./Base")),c=d(i("./Base/TreeIterator")),f=i("../../utils/throwError");function d(p){return p&&p.t?p:{default:p}}class h extends c.default{constructor(y,_,b,A){super(y,_,A),this.container=b}get pointer(){this.o===this.h&&(0,f.throwIteratorAccessError)();const y=this;return new Proxy([],{get(_,b){if(b==="0")return y.o.u;if(b==="1")return y.o.l},set(_,b,A){if(b!=="1")throw new TypeError("props must be 1");return y.o.l=A,!0}})}copy(){return new h(this.o,this.h,this.container,this.iteratorType)}}class v extends u.default{constructor(y=[],_,b){super(_,b);const A=this;y.forEach(function(w){A.setElement(w[0],w[1])})}*K(y){y!==void 0&&(yield*this.K(y.U),yield[y.u,y.l],yield*this.K(y.W))}begin(){return new h(this.h.U||this.h,this.h,this)}end(){return new h(this.h,this.h,this)}rBegin(){return new h(this.h.W||this.h,this.h,this,1)}rEnd(){return new h(this.h,this.h,this,1)}front(){if(this.i===0)return;const y=this.h.U;return[y.u,y.l]}back(){if(this.i===0)return;const y=this.h.W;return[y.u,y.l]}lowerBound(y){const _=this.X(this.Y,y);return new h(_,this.h,this)}upperBound(y){const _=this.Z(this.Y,y);return new h(_,this.h,this)}reverseLowerBound(y){const _=this.$(this.Y,y);return new h(_,this.h,this)}reverseUpperBound(y){const _=this.rr(this.Y,y);return new h(_,this.h,this)}setElement(y,_,b){return this.M(y,_,b)}find(y){const _=this.I(this.Y,y);return new h(_,this.h,this)}getElementByKey(y){return this.I(this.Y,y).l}union(y){const _=this;return y.forEach(function(b){_.setElement(b[0],b[1])}),this.i}[Symbol.iterator](){return this.K(this.Y)}}var g=v;a.default=g},{"../../utils/throwError":71,"./Base":66,"./Base/TreeIterator":64}],68:[function(i,o,a){Object.defineProperty(a,"t",{value:!0}),a.default=void 0;var u=d(i("./Base")),c=d(i("./Base/TreeIterator")),f=i("../../utils/throwError");function d(p){return p&&p.t?p:{default:p}}class h extends c.default{constructor(y,_,b,A){super(y,_,A),this.container=b}get pointer(){return this.o===this.h&&(0,f.throwIteratorAccessError)(),this.o.u}copy(){return new h(this.o,this.h,this.container,this.iteratorType)}}class v extends u.default{constructor(y=[],_,b){super(_,b);const A=this;y.forEach(function(w){A.insert(w)})}*K(y){y!==void 0&&(yield*this.K(y.U),yield y.u,yield*this.K(y.W))}begin(){return new h(this.h.U||this.h,this.h,this)}end(){return new h(this.h,this.h,this)}rBegin(){return new h(this.h.W||this.h,this.h,this,1)}rEnd(){return new h(this.h,this.h,this,1)}front(){return this.h.U?this.h.U.u:void 0}back(){return this.h.W?this.h.W.u:void 0}insert(y,_){return this.M(y,void 0,_)}find(y){const _=this.I(this.Y,y);return new h(_,this.h,this)}lowerBound(y){const _=this.X(this.Y,y);return new h(_,this.h,this)}upperBound(y){const _=this.Z(this.Y,y);return new h(_,this.h,this)}reverseLowerBound(y){const _=this.$(this.Y,y);return new h(_,this.h,this)}reverseUpperBound(y){const _=this.rr(this.Y,y);return new h(_,this.h,this)}union(y){const _=this;return y.forEach(function(b){_.insert(b)}),this.i}[Symbol.iterator](){return this.K(this.Y)}}var g=v;a.default=g},{"../../utils/throwError":71,"./Base":66,"./Base/TreeIterator":64}],69:[function(i,o,a){Object.defineProperty(a,"t",{value:!0}),Object.defineProperty(a,"Deque",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(a,"HashMap",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(a,"HashSet",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(a,"LinkList",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(a,"OrderedMap",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(a,"OrderedSet",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(a,"PriorityQueue",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(a,"Queue",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(a,"Stack",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(a,"Vector",{enumerable:!0,get:function(){return d.default}});var u=b(i("./container/OtherContainer/Stack")),c=b(i("./container/OtherContainer/Queue")),f=b(i("./container/OtherContainer/PriorityQueue")),d=b(i("./container/SequentialContainer/Vector")),h=b(i("./container/SequentialContainer/LinkList")),v=b(i("./container/SequentialContainer/Deque")),g=b(i("./container/TreeContainer/OrderedSet")),p=b(i("./container/TreeContainer/OrderedMap")),y=b(i("./container/HashContainer/HashSet")),_=b(i("./container/HashContainer/HashMap"));function b(A){return A&&A.t?A:{default:A}}},{"./container/HashContainer/HashMap":54,"./container/HashContainer/HashSet":55,"./container/OtherContainer/PriorityQueue":56,"./container/OtherContainer/Queue":57,"./container/OtherContainer/Stack":58,"./container/SequentialContainer/Deque":61,"./container/SequentialContainer/LinkList":62,"./container/SequentialContainer/Vector":63,"./container/TreeContainer/OrderedMap":67,"./container/TreeContainer/OrderedSet":68}],70:[function(i,o,a){Object.defineProperty(a,"t",{value:!0}),a.default=u;function u(c){const f=typeof c;return f==="object"&&c!==null||f==="function"}},{}],71:[function(i,o,a){Object.defineProperty(a,"t",{value:!0}),a.throwIteratorAccessError=u;function u(){throw new RangeError("Iterator access denied!")}},{}],72:[function(i,o,a){(function(u){(function(){const c=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,d=typeof AbortController=="function"?AbortController:class{constructor(){this.signal=new g}abort(F=new Error("This operation was aborted")){this.signal.reason=this.signal.reason||F,this.signal.aborted=!0,this.signal.dispatchEvent({type:"abort",target:this.signal})}},h=typeof AbortSignal=="function",v=typeof d.AbortSignal=="function",g=h?AbortSignal:v?d.AbortController:class{constructor(){this.reason=void 0,this.aborted=!1,this._listeners=[]}dispatchEvent(F){F.type==="abort"&&(this.aborted=!0,this.onabort(F),this._listeners.forEach(j=>j(F),this))}onabort(){}addEventListener(F,j){F==="abort"&&this._listeners.push(j)}removeEventListener(F,j){F==="abort"&&(this._listeners=this._listeners.filter(V=>V!==j))}},p=new Set,y=(re,F)=>{const j=`LRU_CACHE_OPTION_${re}`;w(j)&&T(j,`${re} option`,`options.${F}`,M)},_=(re,F)=>{const j=`LRU_CACHE_METHOD_${re}`;if(w(j)){const{prototype:V}=M,{get:z}=Object.getOwnPropertyDescriptor(V,re);T(j,`${re} method`,`cache.${F}()`,z)}},b=(re,F)=>{const j=`LRU_CACHE_PROPERTY_${re}`;if(w(j)){const{prototype:V}=M,{get:z}=Object.getOwnPropertyDescriptor(V,re);T(j,`${re} property`,`cache.${F}`,z)}},A=(...re)=>{typeof u=="object"&&u&&typeof u.emitWarning=="function"?u.emitWarning(...re):console.error(...re)},w=re=>!p.has(re),T=(re,F,j,V)=>{p.add(re);const z=`The ${F} is deprecated. Please use ${j} instead.`;A(z,"DeprecationWarning",re,V)},S=re=>re&&re===Math.floor(re)&&re>0&&isFinite(re),x=re=>S(re)?re<=Math.pow(2,8)?Uint8Array:re<=Math.pow(2,16)?Uint16Array:re<=Math.pow(2,32)?Uint32Array:re<=Number.MAX_SAFE_INTEGER?O:null:null;class O extends Array{constructor(F){super(F),this.fill(0)}}class L{constructor(F){if(F===0)return[];const j=x(F);this.heap=new j(F),this.length=0}push(F){this.heap[this.length++]=F}pop(){return this.heap[--this.length]}}class M{constructor(F={}){const{max:j=0,ttl:V,ttlResolution:z=1,ttlAutopurge:$,updateAgeOnGet:he,updateAgeOnHas:le,allowStale:Ie,dispose:Fe,disposeAfter:pe,noDisposeOnSet:Lt,noUpdateTTL:_e,maxSize:Et=0,maxEntrySize:Cn=0,sizeCalculation:vn,fetchMethod:Dt,fetchContext:de,noDeleteOnFetchRejection:qe,noDeleteOnStaleGet:Pt,allowStaleOnFetchRejection:In,allowStaleOnFetchAbort:$e,ignoreFetchAbort:Ce}=F,{length:ue,maxAge:At,stale:Ne}=F instanceof M?{}:F;if(j!==0&&!S(j))throw new TypeError("max option must be a nonnegative integer");const Oe=j?x(j):Array;if(!Oe)throw new Error("invalid max value: "+j);if(this.max=j,this.maxSize=Et,this.maxEntrySize=Cn||this.maxSize,this.sizeCalculation=vn||ue,this.sizeCalculation){if(!this.maxSize&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(this.fetchMethod=Dt||null,this.fetchMethod&&typeof this.fetchMethod!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.fetchContext=de,!this.fetchMethod&&de!==void 0)throw new TypeError("cannot set fetchContext without fetchMethod");if(this.keyMap=new Map,this.keyList=new Array(j).fill(null),this.valList=new Array(j).fill(null),this.next=new Oe(j),this.prev=new Oe(j),this.head=0,this.tail=0,this.free=new L(j),this.initialFill=1,this.size=0,typeof Fe=="function"&&(this.dispose=Fe),typeof pe=="function"?(this.disposeAfter=pe,this.disposed=[]):(this.disposeAfter=null,this.disposed=null),this.noDisposeOnSet=!!Lt,this.noUpdateTTL=!!_e,this.noDeleteOnFetchRejection=!!qe,this.allowStaleOnFetchRejection=!!In,this.allowStaleOnFetchAbort=!!$e,this.ignoreFetchAbort=!!Ce,this.maxEntrySize!==0){if(this.maxSize!==0&&!S(this.maxSize))throw new TypeError("maxSize must be a positive integer if specified");if(!S(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.initializeSizeTracking()}if(this.allowStale=!!Ie||!!Ne,this.noDeleteOnStaleGet=!!Pt,this.updateAgeOnGet=!!he,this.updateAgeOnHas=!!le,this.ttlResolution=S(z)||z===0?z:1,this.ttlAutopurge=!!$,this.ttl=V||At||0,this.ttl){if(!S(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.initializeTTLTracking()}if(this.max===0&&this.ttl===0&&this.maxSize===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.max&&!this.maxSize){const kt="LRU_CACHE_UNBOUNDED";w(kt)&&(p.add(kt),A("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",kt,M))}Ne&&y("stale","allowStale"),At&&y("maxAge","ttl"),ue&&y("length","sizeCalculation")}getRemainingTTL(F){return this.has(F,{updateAgeOnHas:!1})?1/0:0}initializeTTLTracking(){this.ttls=new O(this.max),this.starts=new O(this.max),this.setItemTTL=(V,z,$=c.now())=>{if(this.starts[V]=z!==0?$:0,this.ttls[V]=z,z!==0&&this.ttlAutopurge){const he=setTimeout(()=>{this.isStale(V)&&this.delete(this.keyList[V])},z+1);he.unref&&he.unref()}},this.updateItemAge=V=>{this.starts[V]=this.ttls[V]!==0?c.now():0},this.statusTTL=(V,z)=>{V&&(V.ttl=this.ttls[z],V.start=this.starts[z],V.now=F||j(),V.remainingTTL=V.now+V.ttl-V.start)};let F=0;const j=()=>{const V=c.now();if(this.ttlResolution>0){F=V;const z=setTimeout(()=>F=0,this.ttlResolution);z.unref&&z.unref()}return V};this.getRemainingTTL=V=>{const z=this.keyMap.get(V);return z===void 0?0:this.ttls[z]===0||this.starts[z]===0?1/0:this.starts[z]+this.ttls[z]-(F||j())},this.isStale=V=>this.ttls[V]!==0&&this.starts[V]!==0&&(F||j())-this.starts[V]>this.ttls[V]}updateItemAge(F){}statusTTL(F,j){}setItemTTL(F,j,V){}isStale(F){return!1}initializeSizeTracking(){this.calculatedSize=0,this.sizes=new O(this.max),this.removeItemSize=F=>{this.calculatedSize-=this.sizes[F],this.sizes[F]=0},this.requireSize=(F,j,V,z)=>{if(this.isBackgroundFetch(j))return 0;if(!S(V))if(z){if(typeof z!="function")throw new TypeError("sizeCalculation must be a function");if(V=z(j,F),!S(V))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return V},this.addItemSize=(F,j,V)=>{if(this.sizes[F]=j,this.maxSize){const z=this.maxSize-this.sizes[F];for(;this.calculatedSize>z;)this.evict(!0)}this.calculatedSize+=this.sizes[F],V&&(V.entrySize=j,V.totalCalculatedSize=this.calculatedSize)}}removeItemSize(F){}addItemSize(F,j){}requireSize(F,j,V,z){if(V||z)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache")}*indexes({allowStale:F=this.allowStale}={}){if(this.size)for(let j=this.tail;!(!this.isValidIndex(j)||((F||!this.isStale(j))&&(yield j),j===this.head));)j=this.prev[j]}*rindexes({allowStale:F=this.allowStale}={}){if(this.size)for(let j=this.head;!(!this.isValidIndex(j)||((F||!this.isStale(j))&&(yield j),j===this.tail));)j=this.next[j]}isValidIndex(F){return F!==void 0&&this.keyMap.get(this.keyList[F])===F}*entries(){for(const F of this.indexes())this.valList[F]!==void 0&&this.keyList[F]!==void 0&&!this.isBackgroundFetch(this.valList[F])&&(yield[this.keyList[F],this.valList[F]])}*rentries(){for(const F of this.rindexes())this.valList[F]!==void 0&&this.keyList[F]!==void 0&&!this.isBackgroundFetch(this.valList[F])&&(yield[this.keyList[F],this.valList[F]])}*keys(){for(const F of this.indexes())this.keyList[F]!==void 0&&!this.isBackgroundFetch(this.valList[F])&&(yield this.keyList[F])}*rkeys(){for(const F of this.rindexes())this.keyList[F]!==void 0&&!this.isBackgroundFetch(this.valList[F])&&(yield this.keyList[F])}*values(){for(const F of this.indexes())this.valList[F]!==void 0&&!this.isBackgroundFetch(this.valList[F])&&(yield this.valList[F])}*rvalues(){for(const F of this.rindexes())this.valList[F]!==void 0&&!this.isBackgroundFetch(this.valList[F])&&(yield this.valList[F])}[Symbol.iterator](){return this.entries()}find(F,j){for(const V of this.indexes()){const z=this.valList[V],$=this.isBackgroundFetch(z)?z.__staleWhileFetching:z;if($!==void 0&&F($,this.keyList[V],this))return this.get(this.keyList[V],j)}}forEach(F,j=this){for(const V of this.indexes()){const z=this.valList[V],$=this.isBackgroundFetch(z)?z.__staleWhileFetching:z;$!==void 0&&F.call(j,$,this.keyList[V],this)}}rforEach(F,j=this){for(const V of this.rindexes()){const z=this.valList[V],$=this.isBackgroundFetch(z)?z.__staleWhileFetching:z;$!==void 0&&F.call(j,$,this.keyList[V],this)}}get prune(){return _("prune","purgeStale"),this.purgeStale}purgeStale(){let F=!1;for(const j of this.rindexes({allowStale:!0}))this.isStale(j)&&(this.delete(this.keyList[j]),F=!0);return F}dump(){const F=[];for(const j of this.indexes({allowStale:!0})){const V=this.keyList[j],z=this.valList[j],$=this.isBackgroundFetch(z)?z.__staleWhileFetching:z;if($===void 0)continue;const he={value:$};if(this.ttls){he.ttl=this.ttls[j];const le=c.now()-this.starts[j];he.start=Math.floor(Date.now()-le)}this.sizes&&(he.size=this.sizes[j]),F.unshift([V,he])}return F}load(F){this.clear();for(const[j,V]of F){if(V.start){const z=Date.now()-V.start;V.start=c.now()-z}this.set(j,V.value,V)}}dispose(F,j,V){}set(F,j,{ttl:V=this.ttl,start:z,noDisposeOnSet:$=this.noDisposeOnSet,size:he=0,sizeCalculation:le=this.sizeCalculation,noUpdateTTL:Ie=this.noUpdateTTL,status:Fe}={}){if(he=this.requireSize(F,j,he,le),this.maxEntrySize&&he>this.maxEntrySize)return Fe&&(Fe.set="miss",Fe.maxEntrySizeExceeded=!0),this.delete(F),this;let pe=this.size===0?void 0:this.keyMap.get(F);if(pe===void 0)pe=this.newIndex(),this.keyList[pe]=F,this.valList[pe]=j,this.keyMap.set(F,pe),this.next[this.tail]=pe,this.prev[pe]=this.tail,this.tail=pe,this.size++,this.addItemSize(pe,he,Fe),Fe&&(Fe.set="add"),Ie=!1;else{this.moveToTail(pe);const Lt=this.valList[pe];if(j!==Lt){if(this.isBackgroundFetch(Lt)?Lt.__abortController.abort(new Error("replaced")):$||(this.dispose(Lt,F,"set"),this.disposeAfter&&this.disposed.push([Lt,F,"set"])),this.removeItemSize(pe),this.valList[pe]=j,this.addItemSize(pe,he,Fe),Fe){Fe.set="replace";const _e=Lt&&this.isBackgroundFetch(Lt)?Lt.__staleWhileFetching:Lt;_e!==void 0&&(Fe.oldValue=_e)}}else Fe&&(Fe.set="update")}if(V!==0&&this.ttl===0&&!this.ttls&&this.initializeTTLTracking(),Ie||this.setItemTTL(pe,V,z),this.statusTTL(Fe,pe),this.disposeAfter)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return this}newIndex(){return this.size===0?this.tail:this.size===this.max&&this.max!==0?this.evict(!1):this.free.length!==0?this.free.pop():this.initialFill++}pop(){if(this.size){const F=this.valList[this.head];return this.evict(!0),F}}evict(F){const j=this.head,V=this.keyList[j],z=this.valList[j];return this.isBackgroundFetch(z)?z.__abortController.abort(new Error("evicted")):(this.dispose(z,V,"evict"),this.disposeAfter&&this.disposed.push([z,V,"evict"])),this.removeItemSize(j),F&&(this.keyList[j]=null,this.valList[j]=null,this.free.push(j)),this.head=this.next[j],this.keyMap.delete(V),this.size--,j}has(F,{updateAgeOnHas:j=this.updateAgeOnHas,status:V}={}){const z=this.keyMap.get(F);if(z!==void 0)if(this.isStale(z))V&&(V.has="stale",this.statusTTL(V,z));else return j&&this.updateItemAge(z),V&&(V.has="hit"),this.statusTTL(V,z),!0;else V&&(V.has="miss");return!1}peek(F,{allowStale:j=this.allowStale}={}){const V=this.keyMap.get(F);if(V!==void 0&&(j||!this.isStale(V))){const z=this.valList[V];return this.isBackgroundFetch(z)?z.__staleWhileFetching:z}}backgroundFetch(F,j,V,z){const $=j===void 0?void 0:this.valList[j];if(this.isBackgroundFetch($))return $;const he=new d;V.signal&&V.signal.addEventListener("abort",()=>he.abort(V.signal.reason));const le={signal:he.signal,options:V,context:z},Ie=(Et,Cn=!1)=>{const{aborted:vn}=he.signal,Dt=V.ignoreFetchAbort&&Et!==void 0;return V.status&&(vn&&!Cn?(V.status.fetchAborted=!0,V.status.fetchError=he.signal.reason,Dt&&(V.status.fetchAbortIgnored=!0)):V.status.fetchResolved=!0),vn&&!Dt&&!Cn?pe(he.signal.reason):(this.valList[j]===_e&&(Et===void 0?_e.__staleWhileFetching?this.valList[j]=_e.__staleWhileFetching:this.delete(F):(V.status&&(V.status.fetchUpdated=!0),this.set(F,Et,le.options))),Et)},Fe=Et=>(V.status&&(V.status.fetchRejected=!0,V.status.fetchError=Et),pe(Et)),pe=Et=>{const{aborted:Cn}=he.signal,vn=Cn&&V.allowStaleOnFetchAbort,Dt=vn||V.allowStaleOnFetchRejection,de=Dt||V.noDeleteOnFetchRejection;if(this.valList[j]===_e&&(!de||_e.__staleWhileFetching===void 0?this.delete(F):vn||(this.valList[j]=_e.__staleWhileFetching)),Dt)return V.status&&_e.__staleWhileFetching!==void 0&&(V.status.returnedStale=!0),_e.__staleWhileFetching;if(_e.__returned===_e)throw Et},Lt=(Et,Cn)=>{this.fetchMethod(F,$,le).then(vn=>Et(vn),Cn),he.signal.addEventListener("abort",()=>{(!V.ignoreFetchAbort||V.allowStaleOnFetchAbort)&&(Et(),V.allowStaleOnFetchAbort&&(Et=vn=>Ie(vn,!0)))})};V.status&&(V.status.fetchDispatched=!0);const _e=new Promise(Lt).then(Ie,Fe);return _e.__abortController=he,_e.__staleWhileFetching=$,_e.__returned=null,j===void 0?(this.set(F,_e,{...le.options,status:void 0}),j=this.keyMap.get(F)):this.valList[j]=_e,_e}isBackgroundFetch(F){return F&&typeof F=="object"&&typeof F.then=="function"&&Object.prototype.hasOwnProperty.call(F,"__staleWhileFetching")&&Object.prototype.hasOwnProperty.call(F,"__returned")&&(F.__returned===F||F.__returned===null)}async fetch(F,{allowStale:j=this.allowStale,updateAgeOnGet:V=this.updateAgeOnGet,noDeleteOnStaleGet:z=this.noDeleteOnStaleGet,ttl:$=this.ttl,noDisposeOnSet:he=this.noDisposeOnSet,size:le=0,sizeCalculation:Ie=this.sizeCalculation,noUpdateTTL:Fe=this.noUpdateTTL,noDeleteOnFetchRejection:pe=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:Lt=this.allowStaleOnFetchRejection,ignoreFetchAbort:_e=this.ignoreFetchAbort,allowStaleOnFetchAbort:Et=this.allowStaleOnFetchAbort,fetchContext:Cn=this.fetchContext,forceRefresh:vn=!1,status:Dt,signal:de}={}){if(!this.fetchMethod)return Dt&&(Dt.fetch="get"),this.get(F,{allowStale:j,updateAgeOnGet:V,noDeleteOnStaleGet:z,status:Dt});const qe={allowStale:j,updateAgeOnGet:V,noDeleteOnStaleGet:z,ttl:$,noDisposeOnSet:he,size:le,sizeCalculation:Ie,noUpdateTTL:Fe,noDeleteOnFetchRejection:pe,allowStaleOnFetchRejection:Lt,allowStaleOnFetchAbort:Et,ignoreFetchAbort:_e,status:Dt,signal:de};let Pt=this.keyMap.get(F);if(Pt===void 0){Dt&&(Dt.fetch="miss");const In=this.backgroundFetch(F,Pt,qe,Cn);return In.__returned=In}else{const In=this.valList[Pt];if(this.isBackgroundFetch(In)){const Ne=j&&In.__staleWhileFetching!==void 0;return Dt&&(Dt.fetch="inflight",Ne&&(Dt.returnedStale=!0)),Ne?In.__staleWhileFetching:In.__returned=In}const $e=this.isStale(Pt);if(!vn&&!$e)return Dt&&(Dt.fetch="hit"),this.moveToTail(Pt),V&&this.updateItemAge(Pt),this.statusTTL(Dt,Pt),In;const Ce=this.backgroundFetch(F,Pt,qe,Cn),ue=Ce.__staleWhileFetching!==void 0,At=ue&&j;return Dt&&(Dt.fetch=ue&&$e?"stale":"refresh",At&&$e&&(Dt.returnedStale=!0)),At?Ce.__staleWhileFetching:Ce.__returned=Ce}}get(F,{allowStale:j=this.allowStale,updateAgeOnGet:V=this.updateAgeOnGet,noDeleteOnStaleGet:z=this.noDeleteOnStaleGet,status:$}={}){const he=this.keyMap.get(F);if(he!==void 0){const le=this.valList[he],Ie=this.isBackgroundFetch(le);return this.statusTTL($,he),this.isStale(he)?($&&($.get="stale"),Ie?($&&($.returnedStale=j&&le.__staleWhileFetching!==void 0),j?le.__staleWhileFetching:void 0):(z||this.delete(F),$&&($.returnedStale=j),j?le:void 0)):($&&($.get="hit"),Ie?le.__staleWhileFetching:(this.moveToTail(he),V&&this.updateItemAge(he),le))}else $&&($.get="miss")}connect(F,j){this.prev[j]=F,this.next[F]=j}moveToTail(F){F!==this.tail&&(F===this.head?this.head=this.next[F]:this.connect(this.prev[F],this.next[F]),this.connect(this.tail,F),this.tail=F)}get del(){return _("del","delete"),this.delete}delete(F){let j=!1;if(this.size!==0){const V=this.keyMap.get(F);if(V!==void 0)if(j=!0,this.size===1)this.clear();else{this.removeItemSize(V);const z=this.valList[V];this.isBackgroundFetch(z)?z.__abortController.abort(new Error("deleted")):(this.dispose(z,F,"delete"),this.disposeAfter&&this.disposed.push([z,F,"delete"])),this.keyMap.delete(F),this.keyList[V]=null,this.valList[V]=null,V===this.tail?this.tail=this.prev[V]:V===this.head?this.head=this.next[V]:(this.next[this.prev[V]]=this.next[V],this.prev[this.next[V]]=this.prev[V]),this.size--,this.free.push(V)}}if(this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return j}clear(){for(const F of this.rindexes({allowStale:!0})){const j=this.valList[F];if(this.isBackgroundFetch(j))j.__abortController.abort(new Error("deleted"));else{const V=this.keyList[F];this.dispose(j,V,"delete"),this.disposeAfter&&this.disposed.push([j,V,"delete"])}}if(this.keyMap.clear(),this.valList.fill(null),this.keyList.fill(null),this.ttls&&(this.ttls.fill(0),this.starts.fill(0)),this.sizes&&this.sizes.fill(0),this.head=0,this.tail=0,this.initialFill=1,this.free.length=0,this.calculatedSize=0,this.size=0,this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift())}get reset(){return _("reset","clear"),this.clear}get length(){return b("length","size"),this.size}static get AbortController(){return d}static get AbortSignal(){return g}}o.exports=M}).call(this)}).call(this,i("_process"))},{_process:102}],73:[function(i,o,a){const u=o.exports,{Buffer:c}=i("buffer");u.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},u.requiredHeaderFlags={1:0,2:0,4:0,5:0,6:2,7:0,8:2,9:0,10:2,11:0,12:0,13:0,14:0,15:0},u.requiredHeaderFlagsErrors={};for(const d in u.requiredHeaderFlags){const h=u.requiredHeaderFlags[d];u.requiredHeaderFlagsErrors[d]="Invalid header flag bits, must be 0x"+h.toString(16)+" for "+u.types[d]+" packet"}u.codes={};for(const d in u.types){const h=u.types[d];u.codes[h]=d}u.CMD_SHIFT=4,u.CMD_MASK=240,u.DUP_MASK=8,u.QOS_MASK=3,u.QOS_SHIFT=1,u.RETAIN_MASK=1,u.VARBYTEINT_MASK=127,u.VARBYTEINT_FIN_MASK=128,u.VARBYTEINT_MAX=268435455,u.SESSIONPRESENT_MASK=1,u.SESSIONPRESENT_HEADER=c.from([u.SESSIONPRESENT_MASK]),u.CONNACK_HEADER=c.from([u.codes.connack<<u.CMD_SHIFT]),u.USERNAME_MASK=128,u.PASSWORD_MASK=64,u.WILL_RETAIN_MASK=32,u.WILL_QOS_MASK=24,u.WILL_QOS_SHIFT=3,u.WILL_FLAG_MASK=4,u.CLEAN_SESSION_MASK=2,u.CONNECT_HEADER=c.from([u.codes.connect<<u.CMD_SHIFT]),u.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},u.propertiesCodes={};for(const d in u.properties){const h=u.properties[d];u.propertiesCodes[h]=d}u.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"};function f(d){return[0,1,2].map(h=>[0,1].map(v=>[0,1].map(g=>{const p=c.alloc(1);return p.writeUInt8(u.codes[d]<<u.CMD_SHIFT|(v?u.DUP_MASK:0)|h<<u.QOS_SHIFT|g,0,!0),p})))}u.PUBLISH_HEADER=f("publish"),u.SUBSCRIBE_HEADER=f("subscribe"),u.SUBSCRIBE_OPTIONS_QOS_MASK=3,u.SUBSCRIBE_OPTIONS_NL_MASK=1,u.SUBSCRIBE_OPTIONS_NL_SHIFT=2,u.SUBSCRIBE_OPTIONS_RAP_MASK=1,u.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,u.SUBSCRIBE_OPTIONS_RH_MASK=3,u.SUBSCRIBE_OPTIONS_RH_SHIFT=4,u.SUBSCRIBE_OPTIONS_RH=[0,16,32],u.SUBSCRIBE_OPTIONS_NL=4,u.SUBSCRIBE_OPTIONS_RAP=8,u.SUBSCRIBE_OPTIONS_QOS=[0,1,2],u.UNSUBSCRIBE_HEADER=f("unsubscribe"),u.ACKS={unsuback:f("unsuback"),puback:f("puback"),pubcomp:f("pubcomp"),pubrel:f("pubrel"),pubrec:f("pubrec")},u.SUBACK_HEADER=c.from([u.codes.suback<<u.CMD_SHIFT]),u.VERSION3=c.from([3]),u.VERSION4=c.from([4]),u.VERSION5=c.from([5]),u.VERSION131=c.from([131]),u.VERSION132=c.from([132]),u.QOS=[0,1,2].map(d=>c.from([d])),u.EMPTY={pingreq:c.from([u.codes.pingreq<<4,0]),pingresp:c.from([u.codes.pingresp<<4,0]),disconnect:c.from([u.codes.disconnect<<4,0])},u.MQTT5_PUBACK_PUBREC_CODES={0:"Success",16:"No matching subscribers",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",144:"Topic Name invalid",145:"Packet identifier in use",151:"Quota exceeded",153:"Payload format invalid"},u.MQTT5_PUBREL_PUBCOMP_CODES={0:"Success",146:"Packet Identifier not found"},u.MQTT5_SUBACK_CODES={0:"Granted QoS 0",1:"Granted QoS 1",2:"Granted QoS 2",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use",151:"Quota exceeded",158:"Shared Subscriptions not supported",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},u.MQTT5_UNSUBACK_CODES={0:"Success",17:"No subscription existed",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use"},u.MQTT5_DISCONNECT_CODES={0:"Normal disconnection",4:"Disconnect with Will Message",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",135:"Not authorized",137:"Server busy",139:"Server shutting down",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},u.MQTT5_AUTH_CODES={0:"Success",24:"Continue authentication",25:"Re-authenticate"}},{buffer:29}],74:[function(i,o,a){const u=i("./writeToStream"),c=i("events"),{Buffer:f}=i("buffer");function d(v,g){const p=new h;return u(v,p,g),p.concat()}class h extends c{constructor(){super(),this._array=new Array(20),this._i=0}write(g){return this._array[this._i++]=g,!0}concat(){let g=0;const p=new Array(this._array.length),y=this._array;let _=0,b;for(b=0;b<y.length&&y[b]!==void 0;b++)typeof y[b]!="string"?p[b]=y[b].length:p[b]=f.byteLength(y[b]),g+=p[b];const A=f.allocUnsafe(g);for(b=0;b<y.length&&y[b]!==void 0;b++)typeof y[b]!="string"?(y[b].copy(A,_),_+=p[b]):(A.write(y[b],_),_+=p[b]);return A}destroy(g){g&&this.emit("error",g)}}o.exports=d},{"./writeToStream":96,buffer:29,events:49}],75:[function(i,o,a){a.parser=i("./parser").parser,a.generate=i("./generate"),a.writeToStream=i("./writeToStream")},{"./generate":74,"./parser":95,"./writeToStream":96}],76:[function(i,o,a){const{Buffer:u}=i("buffer"),c=Symbol.for("BufferList");function f(d){if(!(this instanceof f))return new f(d);f._init.call(this,d)}f._init=function(h){Object.defineProperty(this,c,{value:!0}),this._bufs=[],this.length=0,h&&this.append(h)},f.prototype._new=function(h){return new f(h)},f.prototype._offset=function(h){if(h===0)return[0,0];let v=0;for(let g=0;g<this._bufs.length;g++){const p=v+this._bufs[g].length;if(h<p||g===this._bufs.length-1)return[g,h-v];v=p}},f.prototype._reverseOffset=function(d){const h=d[0];let v=d[1];for(let g=0;g<h;g++)v+=this._bufs[g].length;return v},f.prototype.get=function(h){if(h>this.length||h<0)return;const v=this._offset(h);return this._bufs[v[0]][v[1]]},f.prototype.slice=function(h,v){return typeof h=="number"&&h<0&&(h+=this.length),typeof v=="number"&&v<0&&(v+=this.length),this.copy(null,0,h,v)},f.prototype.copy=function(h,v,g,p){if((typeof g!="number"||g<0)&&(g=0),(typeof p!="number"||p>this.length)&&(p=this.length),g>=this.length||p<=0)return h||u.alloc(0);const y=!!h,_=this._offset(g),b=p-g;let A=b,w=y&&v||0,T=_[1];if(g===0&&p===this.length){if(!y)return this._bufs.length===1?this._bufs[0]:u.concat(this._bufs,this.length);for(let S=0;S<this._bufs.length;S++)this._bufs[S].copy(h,w),w+=this._bufs[S].length;return h}if(A<=this._bufs[_[0]].length-T)return y?this._bufs[_[0]].copy(h,v,T,T+A):this._bufs[_[0]].slice(T,T+A);y||(h=u.allocUnsafe(b));for(let S=_[0];S<this._bufs.length;S++){const x=this._bufs[S].length-T;if(A>x)this._bufs[S].copy(h,w,T),w+=x;else{this._bufs[S].copy(h,w,T,T+A),w+=x;break}A-=x,T&&(T=0)}return h.length>w?h.slice(0,w):h},f.prototype.shallowSlice=function(h,v){if(h=h||0,v=typeof v!="number"?this.length:v,h<0&&(h+=this.length),v<0&&(v+=this.length),h===v)return this._new();const g=this._offset(h),p=this._offset(v),y=this._bufs.slice(g[0],p[0]+1);return p[1]===0?y.pop():y[y.length-1]=y[y.length-1].slice(0,p[1]),g[1]!==0&&(y[0]=y[0].slice(g[1])),this._new(y)},f.prototype.toString=function(h,v,g){return this.slice(v,g).toString(h)},f.prototype.consume=function(h){if(h=Math.trunc(h),Number.isNaN(h)||h<=0)return this;for(;this._bufs.length;)if(h>=this._bufs[0].length)h-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(h),this.length-=h;break}return this},f.prototype.duplicate=function(){const h=this._new();for(let v=0;v<this._bufs.length;v++)h.append(this._bufs[v]);return h},f.prototype.append=function(h){if(h==null)return this;if(h.buffer)this._appendBuffer(u.from(h.buffer,h.byteOffset,h.byteLength));else if(Array.isArray(h))for(let v=0;v<h.length;v++)this.append(h[v]);else if(this._isBufferList(h))for(let v=0;v<h._bufs.length;v++)this.append(h._bufs[v]);else typeof h=="number"&&(h=h.toString()),this._appendBuffer(u.from(h));return this},f.prototype._appendBuffer=function(h){this._bufs.push(h),this.length+=h.length},f.prototype.indexOf=function(d,h,v){if(v===void 0&&typeof h=="string"&&(v=h,h=void 0),typeof d=="function"||Array.isArray(d))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof d=="number"?d=u.from([d]):typeof d=="string"?d=u.from(d,v):this._isBufferList(d)?d=d.slice():Array.isArray(d.buffer)?d=u.from(d.buffer,d.byteOffset,d.byteLength):u.isBuffer(d)||(d=u.from(d)),h=Number(h||0),isNaN(h)&&(h=0),h<0&&(h=this.length+h),h<0&&(h=0),d.length===0)return h>this.length?this.length:h;const g=this._offset(h);let p=g[0],y=g[1];for(;p<this._bufs.length;p++){const _=this._bufs[p];for(;y<_.length;)if(_.length-y>=d.length){const A=_.indexOf(d,y);if(A!==-1)return this._reverseOffset([p,A]);y=_.length-d.length+1}else{const A=this._reverseOffset([p,y]);if(this._match(A,d))return A;y++}y=0}return-1},f.prototype._match=function(d,h){if(this.length-d<h.length)return!1;for(let v=0;v<h.length;v++)if(this.get(d+v)!==h[v])return!1;return!0},function(){const d={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(const h in d)(function(v){d[v]===null?f.prototype[v]=function(g,p){return this.slice(g,g+p)[v](0,p)}:f.prototype[v]=function(g=0){return this.slice(g,g+d[v])[v](0)}})(h)}(),f.prototype._isBufferList=function(h){return h instanceof f||f.isBufferList(h)},f.isBufferList=function(h){return h!=null&&h[c]},o.exports=f},{buffer:29}],77:[function(i,o,a){const u=i("readable-stream").Duplex,c=i("inherits"),f=i("./BufferList");function d(h){if(!(this instanceof d))return new d(h);if(typeof h=="function"){this._callback=h;const v=function(p){this._callback&&(this._callback(p),this._callback=null)}.bind(this);this.on("pipe",function(p){p.on("error",v)}),this.on("unpipe",function(p){p.removeListener("error",v)}),h=null}f._init.call(this,h),u.call(this)}c(d,u),Object.assign(d.prototype,f.prototype),d.prototype._new=function(v){return new d(v)},d.prototype._write=function(v,g,p){this._appendBuffer(v),typeof p=="function"&&p()},d.prototype._read=function(v){if(!this.length)return this.push(null);v=Math.min(v,this.length),this.push(this.slice(0,v)),this.consume(v)},d.prototype.end=function(v){u.prototype.end.call(this,v),this._callback&&(this._callback(null,this.slice()),this._callback=null)},d.prototype._destroy=function(v,g){this._bufs.length=0,this.length=0,g(v)},d.prototype._isBufferList=function(v){return v instanceof d||v instanceof f||d.isBufferList(v)},d.isBufferList=f.isBufferList,o.exports=d,o.exports.BufferListStream=d,o.exports.BufferList=f},{"./BufferList":76,inherits:51,"readable-stream":92}],78:[function(i,o,a){arguments[4][33][0].apply(a,arguments)},{dup:33}],79:[function(i,o,a){arguments[4][34][0].apply(a,arguments)},{"./_stream_readable":81,"./_stream_writable":83,_process:102,dup:34,inherits:51}],80:[function(i,o,a){arguments[4][35][0].apply(a,arguments)},{"./_stream_transform":82,dup:35,inherits:51}],81:[function(i,o,a){arguments[4][36][0].apply(a,arguments)},{"../errors":78,"./_stream_duplex":79,"./internal/streams/async_iterator":84,"./internal/streams/buffer_list":85,"./internal/streams/destroy":86,"./internal/streams/from":88,"./internal/streams/state":90,"./internal/streams/stream":91,_process:102,buffer:29,dup:36,events:49,inherits:51,"string_decoder/":136,util:26}],82:[function(i,o,a){arguments[4][37][0].apply(a,arguments)},{"../errors":78,"./_stream_duplex":79,dup:37,inherits:51}],83:[function(i,o,a){arguments[4][38][0].apply(a,arguments)},{"../errors":78,"./_stream_duplex":79,"./internal/streams/destroy":86,"./internal/streams/state":90,"./internal/streams/stream":91,_process:102,buffer:29,dup:38,inherits:51,"util-deprecate":139}],84:[function(i,o,a){arguments[4][39][0].apply(a,arguments)},{"./end-of-stream":87,_process:102,dup:39}],85:[function(i,o,a){arguments[4][40][0].apply(a,arguments)},{buffer:29,dup:40,util:26}],86:[function(i,o,a){arguments[4][41][0].apply(a,arguments)},{_process:102,dup:41}],87:[function(i,o,a){arguments[4][42][0].apply(a,arguments)},{"../../../errors":78,dup:42}],88:[function(i,o,a){arguments[4][43][0].apply(a,arguments)},{dup:43}],89:[function(i,o,a){arguments[4][44][0].apply(a,arguments)},{"../../../errors":78,"./end-of-stream":87,dup:44}],90:[function(i,o,a){arguments[4][45][0].apply(a,arguments)},{"../../../errors":78,dup:45}],91:[function(i,o,a){arguments[4][46][0].apply(a,arguments)},{dup:46,events:49}],92:[function(i,o,a){arguments[4][47][0].apply(a,arguments)},{"./lib/_stream_duplex.js":79,"./lib/_stream_passthrough.js":80,"./lib/_stream_readable.js":81,"./lib/_stream_transform.js":82,"./lib/_stream_writable.js":83,"./lib/internal/streams/end-of-stream.js":87,"./lib/internal/streams/pipeline.js":89,dup:47}],93:[function(i,o,a){const{Buffer:u}=i("buffer"),c=65536,f={},d=u.isBuffer(u.from([1,2]).subarray(0,1));function h(y){const _=u.allocUnsafe(2);return _.writeUInt8(y>>8,0),_.writeUInt8(y&255,0+1),_}function v(){for(let y=0;y<c;y++)f[y]=h(y)}function g(y){let b=0,A=0;const w=u.allocUnsafe(4);do b=y%128|0,y=y/128|0,y>0&&(b=b|128),w.writeUInt8(b,A++);while(y>0&&A<4);return y>0&&(A=0),d?w.subarray(0,A):w.slice(0,A)}function p(y){const _=u.allocUnsafe(4);return _.writeUInt32BE(y,0),_}o.exports={cache:f,generateCache:v,generateNumber:h,genBufVariableByteInt:g,generate4ByteBuffer:p}},{buffer:29}],94:[function(i,o,a){class u{constructor(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}}o.exports=u},{}],95:[function(i,o,a){const u=i("bl"),c=i("events"),f=i("./packet"),d=i("./constants"),h=i("debug")("mqtt-packet:parser");class v extends c{constructor(){super(),this.parser=this.constructor.parser}static parser(p){return this instanceof v?(this.settings=p||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState(),this):new v().parser(p)}_resetState(){h("_resetState: resetting packet, error, _list, and _stateCounter"),this.packet=new f,this.error=null,this._list=u(),this._stateCounter=0}parse(p){for(this.error&&this._resetState(),this._list.append(p),h("parse: current state: %s",this._states[this._stateCounter]);(this.packet.length!==-1||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,h("parse: state complete. _stateCounter is now: %d",this._stateCounter),h("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return h("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length),this._list.length}_parseHeader(){const p=this._list.readUInt8(0),y=p>>d.CMD_SHIFT;this.packet.cmd=d.types[y];const _=p&15,b=d.requiredHeaderFlags[y];return b!=null&&_!==b?this._emitError(new Error(d.requiredHeaderFlagsErrors[y])):(this.packet.retain=(p&d.RETAIN_MASK)!==0,this.packet.qos=p>>d.QOS_SHIFT&d.QOS_MASK,this.packet.qos>2?this._emitError(new Error("Packet must not have both QoS bits set to 1")):(this.packet.dup=(p&d.DUP_MASK)!==0,h("_parseHeader: packet: %o",this.packet),this._list.consume(1),!0))}_parseLength(){const p=this._parseVarByteNum(!0);return p&&(this.packet.length=p.value,this._list.consume(p.bytes)),h("_parseLength %d",p.value),!!p}_parsePayload(){h("_parsePayload: payload %O",this._list);let p=!1;if(this.packet.length===0||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}p=!0}return h("_parsePayload complete result: %s",p),p}_parseConnect(){h("_parseConnect");let p,y,_,b;const A={},w=this.packet,T=this._parseString();if(T===null)return this._emitError(new Error("Cannot parse protocolId"));if(T!=="MQTT"&&T!=="MQIsdp")return this._emitError(new Error("Invalid protocolId"));if(w.protocolId=T,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(w.protocolVersion=this._list.readUInt8(this._pos),w.protocolVersion>=128&&(w.bridgeMode=!0,w.protocolVersion=w.protocolVersion-128),w.protocolVersion!==3&&w.protocolVersion!==4&&w.protocolVersion!==5)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(this._list.readUInt8(this._pos)&1)return this._emitError(new Error("Connect flag bit 0 must be 0, but got 1"));A.username=this._list.readUInt8(this._pos)&d.USERNAME_MASK,A.password=this._list.readUInt8(this._pos)&d.PASSWORD_MASK,A.will=this._list.readUInt8(this._pos)&d.WILL_FLAG_MASK;const S=!!(this._list.readUInt8(this._pos)&d.WILL_RETAIN_MASK),x=(this._list.readUInt8(this._pos)&d.WILL_QOS_MASK)>>d.WILL_QOS_SHIFT;if(A.will)w.will={},w.will.retain=S,w.will.qos=x;else{if(S)return this._emitError(new Error("Will Retain Flag must be set to zero when Will Flag is set to 0"));if(x)return this._emitError(new Error("Will QoS must be set to zero when Will Flag is set to 0"))}if(w.clean=(this._list.readUInt8(this._pos)&d.CLEAN_SESSION_MASK)!==0,this._pos++,w.keepalive=this._parseNum(),w.keepalive===-1)return this._emitError(new Error("Packet too short"));if(w.protocolVersion===5){const L=this._parseProperties();Object.getOwnPropertyNames(L).length&&(w.properties=L)}const O=this._parseString();if(O===null)return this._emitError(new Error("Packet too short"));if(w.clientId=O,h("_parseConnect: packet.clientId: %s",w.clientId),A.will){if(w.protocolVersion===5){const L=this._parseProperties();Object.getOwnPropertyNames(L).length&&(w.will.properties=L)}if(p=this._parseString(),p===null)return this._emitError(new Error("Cannot parse will topic"));if(w.will.topic=p,h("_parseConnect: packet.will.topic: %s",w.will.topic),y=this._parseBuffer(),y===null)return this._emitError(new Error("Cannot parse will payload"));w.will.payload=y,h("_parseConnect: packet.will.paylaod: %s",w.will.payload)}if(A.username){if(b=this._parseString(),b===null)return this._emitError(new Error("Cannot parse username"));w.username=b,h("_parseConnect: packet.username: %s",w.username)}if(A.password){if(_=this._parseBuffer(),_===null)return this._emitError(new Error("Cannot parse password"));w.password=_}return this.settings=w,h("_parseConnect: complete"),w}_parseConnack(){h("_parseConnack");const p=this.packet;if(this._list.length<1)return null;const y=this._list.readUInt8(this._pos++);if(y>1)return this._emitError(new Error("Invalid connack flags, bits 7-1 must be set to 0"));if(p.sessionPresent=!!(y&d.SESSIONPRESENT_MASK),this.settings.protocolVersion===5)this._list.length>=2?p.reasonCode=this._list.readUInt8(this._pos++):p.reasonCode=0;else{if(this._list.length<2)return null;p.returnCode=this._list.readUInt8(this._pos++)}if(p.returnCode===-1||p.reasonCode===-1)return this._emitError(new Error("Cannot parse return code"));if(this.settings.protocolVersion===5){const _=this._parseProperties();Object.getOwnPropertyNames(_).length&&(p.properties=_)}h("_parseConnack: complete")}_parsePublish(){h("_parsePublish");const p=this.packet;if(p.topic=this._parseString(),p.topic===null)return this._emitError(new Error("Cannot parse topic"));if(!(p.qos>0&&!this._parseMessageId())){if(this.settings.protocolVersion===5){const y=this._parseProperties();Object.getOwnPropertyNames(y).length&&(p.properties=y)}p.payload=this._list.slice(this._pos,p.length),h("_parsePublish: payload from buffer list: %o",p.payload)}}_parseSubscribe(){h("_parseSubscribe");const p=this.packet;let y,_,b,A,w,T,S;if(p.subscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){const x=this._parseProperties();Object.getOwnPropertyNames(x).length&&(p.properties=x)}if(p.length<=0)return this._emitError(new Error("Malformed subscribe, no payload specified"));for(;this._pos<p.length;){if(y=this._parseString(),y===null)return this._emitError(new Error("Cannot parse topic"));if(this._pos>=p.length)return this._emitError(new Error("Malformed Subscribe Payload"));if(_=this._parseByte(),this.settings.protocolVersion===5){if(_&192)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-6 must be 0"))}else if(_&252)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-2 must be 0"));if(b=_&d.SUBSCRIBE_OPTIONS_QOS_MASK,b>2)return this._emitError(new Error("Invalid subscribe QoS, must be <= 2"));if(T=(_>>d.SUBSCRIBE_OPTIONS_NL_SHIFT&d.SUBSCRIBE_OPTIONS_NL_MASK)!==0,w=(_>>d.SUBSCRIBE_OPTIONS_RAP_SHIFT&d.SUBSCRIBE_OPTIONS_RAP_MASK)!==0,A=_>>d.SUBSCRIBE_OPTIONS_RH_SHIFT&d.SUBSCRIBE_OPTIONS_RH_MASK,A>2)return this._emitError(new Error("Invalid retain handling, must be <= 2"));S={topic:y,qos:b},this.settings.protocolVersion===5?(S.nl=T,S.rap=w,S.rh=A):this.settings.bridgeMode&&(S.rh=0,S.rap=!0,S.nl=!0),h("_parseSubscribe: push subscription `%s` to subscription",S),p.subscriptions.push(S)}}}_parseSuback(){h("_parseSuback");const p=this.packet;if(this.packet.granted=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){const y=this._parseProperties();Object.getOwnPropertyNames(y).length&&(p.properties=y)}if(p.length<=0)return this._emitError(new Error("Malformed suback, no payload specified"));for(;this._pos<this.packet.length;){const y=this._list.readUInt8(this._pos++);if(this.settings.protocolVersion===5){if(!d.MQTT5_SUBACK_CODES[y])return this._emitError(new Error("Invalid suback code"))}else if(y>2&&y!==128)return this._emitError(new Error("Invalid suback QoS, must be 0, 1, 2 or 128"));this.packet.granted.push(y)}}}_parseUnsubscribe(){h("_parseUnsubscribe");const p=this.packet;if(p.unsubscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){const y=this._parseProperties();Object.getOwnPropertyNames(y).length&&(p.properties=y)}if(p.length<=0)return this._emitError(new Error("Malformed unsubscribe, no payload specified"));for(;this._pos<p.length;){const y=this._parseString();if(y===null)return this._emitError(new Error("Cannot parse topic"));h("_parseUnsubscribe: push topic `%s` to unsubscriptions",y),p.unsubscriptions.push(y)}}}_parseUnsuback(){h("_parseUnsuback");const p=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if((this.settings.protocolVersion===3||this.settings.protocolVersion===4)&&p.length!==2)return this._emitError(new Error("Malformed unsuback, payload length must be 2"));if(p.length<=0)return this._emitError(new Error("Malformed unsuback, no payload specified"));if(this.settings.protocolVersion===5){const y=this._parseProperties();for(Object.getOwnPropertyNames(y).length&&(p.properties=y),p.granted=[];this._pos<this.packet.length;){const _=this._list.readUInt8(this._pos++);if(!d.MQTT5_UNSUBACK_CODES[_])return this._emitError(new Error("Invalid unsuback code"));this.packet.granted.push(_)}}}_parseConfirmation(){h("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);const p=this.packet;if(this._parseMessageId(),this.settings.protocolVersion===5){if(p.length>2){switch(p.reasonCode=this._parseByte(),this.packet.cmd){case"puback":case"pubrec":if(!d.MQTT5_PUBACK_PUBREC_CODES[p.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break;case"pubrel":case"pubcomp":if(!d.MQTT5_PUBREL_PUBCOMP_CODES[p.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break}h("_parseConfirmation: packet.reasonCode `%d`",p.reasonCode)}else p.reasonCode=0;if(p.length>3){const y=this._parseProperties();Object.getOwnPropertyNames(y).length&&(p.properties=y)}}return!0}_parseDisconnect(){const p=this.packet;if(h("_parseDisconnect"),this.settings.protocolVersion===5){this._list.length>0?(p.reasonCode=this._parseByte(),d.MQTT5_DISCONNECT_CODES[p.reasonCode]||this._emitError(new Error("Invalid disconnect reason code"))):p.reasonCode=0;const y=this._parseProperties();Object.getOwnPropertyNames(y).length&&(p.properties=y)}return h("_parseDisconnect result: true"),!0}_parseAuth(){h("_parseAuth");const p=this.packet;if(this.settings.protocolVersion!==5)return this._emitError(new Error("Not supported auth packet for this version MQTT"));if(p.reasonCode=this._parseByte(),!d.MQTT5_AUTH_CODES[p.reasonCode])return this._emitError(new Error("Invalid auth reason code"));const y=this._parseProperties();return Object.getOwnPropertyNames(y).length&&(p.properties=y),h("_parseAuth: result: true"),!0}_parseMessageId(){const p=this.packet;return p.messageId=this._parseNum(),p.messageId===null?(this._emitError(new Error("Cannot parse messageId")),!1):(h("_parseMessageId: packet.messageId %d",p.messageId),!0)}_parseString(p){const y=this._parseNum(),_=y+this._pos;if(y===-1||_>this._list.length||_>this.packet.length)return null;const b=this._list.toString("utf8",this._pos,_);return this._pos+=y,h("_parseString: result: %s",b),b}_parseStringPair(){return h("_parseStringPair"),{name:this._parseString(),value:this._parseString()}}_parseBuffer(){const p=this._parseNum(),y=p+this._pos;if(p===-1||y>this._list.length||y>this.packet.length)return null;const _=this._list.slice(this._pos,y);return this._pos+=p,h("_parseBuffer: result: %o",_),_}_parseNum(){if(this._list.length-this._pos<2)return-1;const p=this._list.readUInt16BE(this._pos);return this._pos+=2,h("_parseNum: result: %s",p),p}_parse4ByteNum(){if(this._list.length-this._pos<4)return-1;const p=this._list.readUInt32BE(this._pos);return this._pos+=4,h("_parse4ByteNum: result: %s",p),p}_parseVarByteNum(p){h("_parseVarByteNum");const y=4;let _=0,b=1,A=0,w=!1,T;const S=this._pos?this._pos:0;for(;_<y&&S+_<this._list.length;){if(T=this._list.readUInt8(S+_++),A+=b*(T&d.VARBYTEINT_MASK),b*=128,!(T&d.VARBYTEINT_FIN_MASK)){w=!0;break}if(this._list.length<=_)break}return!w&&_===y&&this._list.length>=_&&this._emitError(new Error("Invalid variable byte integer")),S&&(this._pos+=_),w?p?w={bytes:_,value:A}:w=A:w=!1,h("_parseVarByteNum: result: %o",w),w}_parseByte(){let p;return this._pos<this._list.length&&(p=this._list.readUInt8(this._pos),this._pos++),h("_parseByte: result: %o",p),p}_parseByType(p){switch(h("_parseByType: type: %s",p),p){case"byte":return this._parseByte()!==0;case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}}_parseProperties(){h("_parseProperties");const p=this._parseVarByteNum(),_=this._pos+p,b={};for(;this._pos<_;){const A=this._parseByte();if(!A)return this._emitError(new Error("Cannot parse property code type")),!1;const w=d.propertiesCodes[A];if(!w)return this._emitError(new Error("Unknown property")),!1;if(w==="userProperties"){b[w]||(b[w]=Object.create(null));const T=this._parseByType(d.propertiesTypes[w]);if(b[w][T.name])if(Array.isArray(b[w][T.name]))b[w][T.name].push(T.value);else{const S=b[w][T.name];b[w][T.name]=[S],b[w][T.name].push(T.value)}else b[w][T.name]=T.value;continue}b[w]?Array.isArray(b[w])?b[w].push(this._parseByType(d.propertiesTypes[w])):(b[w]=[b[w]],b[w].push(this._parseByType(d.propertiesTypes[w]))):b[w]=this._parseByType(d.propertiesTypes[w])}return b}_newPacket(){return h("_newPacket"),this.packet&&(this._list.consume(this.packet.length),h("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length),this.emit("packet",this.packet)),h("_newPacket: new packet"),this.packet=new f,this._pos=0,!0}_emitError(p){h("_emitError",p),this.error=p,this.emit("error",p)}}o.exports=v},{"./constants":73,"./packet":94,bl:77,debug:30,events:49}],96:[function(i,o,a){const u=i("./constants"),{Buffer:c}=i("buffer"),f=c.allocUnsafe(0),d=c.from([0]),h=i("./numbers"),v=i("process-nextick-args").nextTick,g=i("debug")("mqtt-packet:writeToStream"),p=h.cache,y=h.generateNumber,_=h.generateCache,b=h.genBufVariableByteInt,A=h.generate4ByteBuffer;let w=_e,T=!0;function S(Ce,ue,At){switch(g("generate called"),ue.cork&&(ue.cork(),v(x,ue)),T&&(T=!1,_()),g("generate: packet.cmd: %s",Ce.cmd),Ce.cmd){case"connect":return O(Ce,ue);case"connack":return L(Ce,ue,At);case"publish":return M(Ce,ue,At);case"puback":case"pubrec":case"pubrel":case"pubcomp":return re(Ce,ue,At);case"subscribe":return F(Ce,ue,At);case"suback":return j(Ce,ue,At);case"unsubscribe":return V(Ce,ue,At);case"unsuback":return z(Ce,ue,At);case"pingreq":case"pingresp":return $(Ce,ue);case"disconnect":return he(Ce,ue,At);case"auth":return le(Ce,ue,At);default:return ue.destroy(new Error("Unknown command")),!1}}Object.defineProperty(S,"cacheNumbers",{get(){return w===_e},set(Ce){Ce?((!p||Object.keys(p).length===0)&&(T=!0),w=_e):(T=!1,w=Et)}});function x(Ce){Ce.uncork()}function O(Ce,ue,At){const Ne=Ce||{},Oe=Ne.protocolId||"MQTT";let kt=Ne.protocolVersion||4;const jt=Ne.will;let _n=Ne.clean;const ie=Ne.keepalive||0,ae=Ne.clientId||"",Y=Ne.username,k=Ne.password,D=Ne.properties;_n===void 0&&(_n=!0);let oe=0;if(!Oe||typeof Oe!="string"&&!c.isBuffer(Oe))return ue.destroy(new Error("Invalid protocolId")),!1;if(oe+=Oe.length+2,kt!==3&&kt!==4&&kt!==5)return ue.destroy(new Error("Invalid protocol version")),!1;if(oe+=1,(typeof ae=="string"||c.isBuffer(ae))&&(ae||kt>=4)&&(ae||_n))oe+=c.byteLength(ae)+2;else{if(kt<4)return ue.destroy(new Error("clientId must be supplied before 3.1.1")),!1;if(_n*1===0)return ue.destroy(new Error("clientId must be given if cleanSession set to 0")),!1}if(typeof ie!="number"||ie<0||ie>65535||ie%1!==0)return ue.destroy(new Error("Invalid keepalive")),!1;oe+=2,oe+=1;let xe,ze;if(kt===5){if(xe=Dt(ue,D),!xe)return!1;oe+=xe.length}if(jt){if(typeof jt!="object")return ue.destroy(new Error("Invalid will")),!1;if(!jt.topic||typeof jt.topic!="string")return ue.destroy(new Error("Invalid will topic")),!1;if(oe+=c.byteLength(jt.topic)+2,oe+=2,jt.payload)if(jt.payload.length>=0)typeof jt.payload=="string"?oe+=c.byteLength(jt.payload):oe+=jt.payload.length;else return ue.destroy(new Error("Invalid will payload")),!1;if(ze={},kt===5){if(ze=Dt(ue,jt.properties),!ze)return!1;oe+=ze.length}}let hn=!1;if(Y!=null)if($e(Y))hn=!0,oe+=c.byteLength(Y)+2;else return ue.destroy(new Error("Invalid username")),!1;if(k!=null){if(!hn)return ue.destroy(new Error("Username is required to use password")),!1;if($e(k))oe+=In(k)+2;else return ue.destroy(new Error("Invalid password")),!1}ue.write(u.CONNECT_HEADER),Fe(ue,oe),vn(ue,Oe),Ne.bridgeMode&&(kt+=128),ue.write(kt===131?u.VERSION131:kt===132?u.VERSION132:kt===4?u.VERSION4:kt===5?u.VERSION5:u.VERSION3);let An=0;return An|=Y!=null?u.USERNAME_MASK:0,An|=k!=null?u.PASSWORD_MASK:0,An|=jt&&jt.retain?u.WILL_RETAIN_MASK:0,An|=jt&&jt.qos?jt.qos<<u.WILL_QOS_SHIFT:0,An|=jt?u.WILL_FLAG_MASK:0,An|=_n?u.CLEAN_SESSION_MASK:0,ue.write(c.from([An])),w(ue,ie),kt===5&&xe.write(),vn(ue,ae),jt&&(kt===5&&ze.write(),pe(ue,jt.topic),vn(ue,jt.payload)),Y!=null&&vn(ue,Y),k!=null&&vn(ue,k),!0}function L(Ce,ue,At){const Ne=At?At.protocolVersion:4,Oe=Ce||{},kt=Ne===5?Oe.reasonCode:Oe.returnCode,jt=Oe.properties;let _n=2;if(typeof kt!="number")return ue.destroy(new Error("Invalid return code")),!1;let ie=null;if(Ne===5){if(ie=Dt(ue,jt),!ie)return!1;_n+=ie.length}return ue.write(u.CONNACK_HEADER),Fe(ue,_n),ue.write(Oe.sessionPresent?u.SESSIONPRESENT_HEADER:d),ue.write(c.from([kt])),ie!=null&&ie.write(),!0}function M(Ce,ue,At){g("publish: packet: %o",Ce);const Ne=At?At.protocolVersion:4,Oe=Ce||{},kt=Oe.qos||0,jt=Oe.retain?u.RETAIN_MASK:0,_n=Oe.topic,ie=Oe.payload||f,ae=Oe.messageId,Y=Oe.properties;let k=0;if(typeof _n=="string")k+=c.byteLength(_n)+2;else if(c.isBuffer(_n))k+=_n.length+2;else return ue.destroy(new Error("Invalid topic")),!1;if(c.isBuffer(ie)?k+=ie.length:k+=c.byteLength(ie),kt&&typeof ae!="number")return ue.destroy(new Error("Invalid messageId")),!1;kt&&(k+=2);let D=null;if(Ne===5){if(D=Dt(ue,Y),!D)return!1;k+=D.length}return ue.write(u.PUBLISH_HEADER[kt][Oe.dup?1:0][jt?1:0]),Fe(ue,k),w(ue,In(_n)),ue.write(_n),kt>0&&w(ue,ae),D!=null&&D.write(),g("publish: payload: %o",ie),ue.write(ie)}function re(Ce,ue,At){const Ne=At?At.protocolVersion:4,Oe=Ce||{},kt=Oe.cmd||"puback",jt=Oe.messageId,_n=Oe.dup&&kt==="pubrel"?u.DUP_MASK:0;let ie=0;const ae=Oe.reasonCode,Y=Oe.properties;let k=Ne===5?3:2;if(kt==="pubrel"&&(ie=1),typeof jt!="number")return ue.destroy(new Error("Invalid messageId")),!1;let D=null;if(Ne===5&&typeof Y=="object"){if(D=de(ue,Y,At,k),!D)return!1;k+=D.length}return ue.write(u.ACKS[kt][ie][_n][0]),k===3&&(k+=ae!==0?1:-1),Fe(ue,k),w(ue,jt),Ne===5&&k!==2&&ue.write(c.from([ae])),D!==null?D.write():k===4&&ue.write(c.from([0])),!0}function F(Ce,ue,At){g("subscribe: packet: ");const Ne=At?At.protocolVersion:4,Oe=Ce||{},kt=Oe.dup?u.DUP_MASK:0,jt=Oe.messageId,_n=Oe.subscriptions,ie=Oe.properties;let ae=0;if(typeof jt!="number")return ue.destroy(new Error("Invalid messageId")),!1;ae+=2;let Y=null;if(Ne===5){if(Y=Dt(ue,ie),!Y)return!1;ae+=Y.length}if(typeof _n=="object"&&_n.length)for(let D=0;D<_n.length;D+=1){const oe=_n[D].topic,xe=_n[D].qos;if(typeof oe!="string")return ue.destroy(new Error("Invalid subscriptions - invalid topic")),!1;if(typeof xe!="number")return ue.destroy(new Error("Invalid subscriptions - invalid qos")),!1;if(Ne===5){if(typeof(_n[D].nl||!1)!="boolean")return ue.destroy(new Error("Invalid subscriptions - invalid No Local")),!1;if(typeof(_n[D].rap||!1)!="boolean")return ue.destroy(new Error("Invalid subscriptions - invalid Retain as Published")),!1;const An=_n[D].rh||0;if(typeof An!="number"||An>2)return ue.destroy(new Error("Invalid subscriptions - invalid Retain Handling")),!1}ae+=c.byteLength(oe)+2+1}else return ue.destroy(new Error("Invalid subscriptions")),!1;g("subscribe: writing to stream: %o",u.SUBSCRIBE_HEADER),ue.write(u.SUBSCRIBE_HEADER[1][kt?1:0][0]),Fe(ue,ae),w(ue,jt),Y!==null&&Y.write();let k=!0;for(const D of _n){const oe=D.topic,xe=D.qos,ze=+D.nl,hn=+D.rap,An=D.rh;let Tn;pe(ue,oe),Tn=u.SUBSCRIBE_OPTIONS_QOS[xe],Ne===5&&(Tn|=ze?u.SUBSCRIBE_OPTIONS_NL:0,Tn|=hn?u.SUBSCRIBE_OPTIONS_RAP:0,Tn|=An?u.SUBSCRIBE_OPTIONS_RH[An]:0),k=ue.write(c.from([Tn]))}return k}function j(Ce,ue,At){const Ne=At?At.protocolVersion:4,Oe=Ce||{},kt=Oe.messageId,jt=Oe.granted,_n=Oe.properties;let ie=0;if(typeof kt!="number")return ue.destroy(new Error("Invalid messageId")),!1;if(ie+=2,typeof jt=="object"&&jt.length)for(let Y=0;Y<jt.length;Y+=1){if(typeof jt[Y]!="number")return ue.destroy(new Error("Invalid qos vector")),!1;ie+=1}else return ue.destroy(new Error("Invalid qos vector")),!1;let ae=null;if(Ne===5){if(ae=de(ue,_n,At,ie),!ae)return!1;ie+=ae.length}return ue.write(u.SUBACK_HEADER),Fe(ue,ie),w(ue,kt),ae!==null&&ae.write(),ue.write(c.from(jt))}function V(Ce,ue,At){const Ne=At?At.protocolVersion:4,Oe=Ce||{},kt=Oe.messageId,jt=Oe.dup?u.DUP_MASK:0,_n=Oe.unsubscriptions,ie=Oe.properties;let ae=0;if(typeof kt!="number")return ue.destroy(new Error("Invalid messageId")),!1;if(ae+=2,typeof _n=="object"&&_n.length)for(let D=0;D<_n.length;D+=1){if(typeof _n[D]!="string")return ue.destroy(new Error("Invalid unsubscriptions")),!1;ae+=c.byteLength(_n[D])+2}else return ue.destroy(new Error("Invalid unsubscriptions")),!1;let Y=null;if(Ne===5){if(Y=Dt(ue,ie),!Y)return!1;ae+=Y.length}ue.write(u.UNSUBSCRIBE_HEADER[1][jt?1:0][0]),Fe(ue,ae),w(ue,kt),Y!==null&&Y.write();let k=!0;for(let D=0;D<_n.length;D++)k=pe(ue,_n[D]);return k}function z(Ce,ue,At){const Ne=At?At.protocolVersion:4,Oe=Ce||{},kt=Oe.messageId,jt=Oe.dup?u.DUP_MASK:0,_n=Oe.granted,ie=Oe.properties,ae=Oe.cmd,Y=0;let k=2;if(typeof kt!="number")return ue.destroy(new Error("Invalid messageId")),!1;if(Ne===5)if(typeof _n=="object"&&_n.length)for(let oe=0;oe<_n.length;oe+=1){if(typeof _n[oe]!="number")return ue.destroy(new Error("Invalid qos vector")),!1;k+=1}else return ue.destroy(new Error("Invalid qos vector")),!1;let D=null;if(Ne===5){if(D=de(ue,ie,At,k),!D)return!1;k+=D.length}return ue.write(u.ACKS[ae][Y][jt][0]),Fe(ue,k),w(ue,kt),D!==null&&D.write(),Ne===5&&ue.write(c.from(_n)),!0}function $(Ce,ue,At){return ue.write(u.EMPTY[Ce.cmd])}function he(Ce,ue,At){const Ne=At?At.protocolVersion:4,Oe=Ce||{},kt=Oe.reasonCode,jt=Oe.properties;let _n=Ne===5?1:0,ie=null;if(Ne===5){if(ie=de(ue,jt,At,_n),!ie)return!1;_n+=ie.length}return ue.write(c.from([u.codes.disconnect<<4])),Fe(ue,_n),Ne===5&&ue.write(c.from([kt])),ie!==null&&ie.write(),!0}function le(Ce,ue,At){const Ne=At?At.protocolVersion:4,Oe=Ce||{},kt=Oe.reasonCode,jt=Oe.properties;let _n=Ne===5?1:0;Ne!==5&&ue.destroy(new Error("Invalid mqtt version for auth packet"));const ie=de(ue,jt,At,_n);return ie?(_n+=ie.length,ue.write(c.from([u.codes.auth<<4])),Fe(ue,_n),ue.write(c.from([kt])),ie!==null&&ie.write(),!0):!1}const Ie={};function Fe(Ce,ue){if(ue>u.VARBYTEINT_MAX)return Ce.destroy(new Error(`Invalid variable byte integer: ${ue}`)),!1;let At=Ie[ue];return At||(At=b(ue),ue<16384&&(Ie[ue]=At)),g("writeVarByteInt: writing to stream: %o",At),Ce.write(At)}function pe(Ce,ue){const At=c.byteLength(ue);return w(Ce,At),g("writeString: %s",ue),Ce.write(ue,"utf8")}function Lt(Ce,ue,At){pe(Ce,ue),pe(Ce,At)}function _e(Ce,ue){return g("writeNumberCached: number: %d",ue),g("writeNumberCached: %o",p[ue]),Ce.write(p[ue])}function Et(Ce,ue){const At=y(ue);return g("writeNumberGenerated: %o",At),Ce.write(At)}function Cn(Ce,ue){const At=A(ue);return g("write4ByteNumber: %o",At),Ce.write(At)}function vn(Ce,ue){typeof ue=="string"?pe(Ce,ue):ue?(w(Ce,ue.length),Ce.write(ue)):w(Ce,0)}function Dt(Ce,ue){if(typeof ue!="object"||ue.length!=null)return{length:1,write(){Pt(Ce,{},0)}};let At=0;function Ne(kt,jt){const _n=u.propertiesTypes[kt];let ie=0;switch(_n){case"byte":{if(typeof jt!="boolean")return Ce.destroy(new Error(`Invalid ${kt}: ${jt}`)),!1;ie+=1+1;break}case"int8":{if(typeof jt!="number"||jt<0||jt>255)return Ce.destroy(new Error(`Invalid ${kt}: ${jt}`)),!1;ie+=1+1;break}case"binary":{if(jt&&jt===null)return Ce.destroy(new Error(`Invalid ${kt}: ${jt}`)),!1;ie+=1+c.byteLength(jt)+2;break}case"int16":{if(typeof jt!="number"||jt<0||jt>65535)return Ce.destroy(new Error(`Invalid ${kt}: ${jt}`)),!1;ie+=1+2;break}case"int32":{if(typeof jt!="number"||jt<0||jt>4294967295)return Ce.destroy(new Error(`Invalid ${kt}: ${jt}`)),!1;ie+=1+4;break}case"var":{if(typeof jt!="number"||jt<0||jt>268435455)return Ce.destroy(new Error(`Invalid ${kt}: ${jt}`)),!1;ie+=1+c.byteLength(b(jt));break}case"string":{if(typeof jt!="string")return Ce.destroy(new Error(`Invalid ${kt}: ${jt}`)),!1;ie+=1+2+c.byteLength(jt.toString());break}case"pair":{if(typeof jt!="object")return Ce.destroy(new Error(`Invalid ${kt}: ${jt}`)),!1;ie+=Object.getOwnPropertyNames(jt).reduce((ae,Y)=>{const k=jt[Y];return Array.isArray(k)?ae+=k.reduce((D,oe)=>(D+=1+2+c.byteLength(Y.toString())+2+c.byteLength(oe.toString()),D),0):ae+=1+2+c.byteLength(Y.toString())+2+c.byteLength(jt[Y].toString()),ae},0);break}default:return Ce.destroy(new Error(`Invalid property ${kt}: ${jt}`)),!1}return ie}if(ue)for(const kt in ue){let jt=0,_n=0;const ie=ue[kt];if(Array.isArray(ie))for(let ae=0;ae<ie.length;ae++){if(_n=Ne(kt,ie[ae]),!_n)return!1;jt+=_n}else{if(_n=Ne(kt,ie),!_n)return!1;jt=_n}if(!jt)return!1;At+=jt}return{length:c.byteLength(b(At))+At,write(){Pt(Ce,ue,At)}}}function de(Ce,ue,At,Ne){const Oe=["reasonString","userProperties"],kt=At&&At.properties&&At.properties.maximumPacketSize?At.properties.maximumPacketSize:0;let jt=Dt(Ce,ue);if(kt)for(;Ne+jt.length>kt;){const _n=Oe.shift();if(_n&&ue[_n])delete ue[_n],jt=Dt(Ce,ue);else return!1}return jt}function qe(Ce,ue,At){switch(u.propertiesTypes[ue]){case"byte":{Ce.write(c.from([u.properties[ue]])),Ce.write(c.from([+At]));break}case"int8":{Ce.write(c.from([u.properties[ue]])),Ce.write(c.from([At]));break}case"binary":{Ce.write(c.from([u.properties[ue]])),vn(Ce,At);break}case"int16":{Ce.write(c.from([u.properties[ue]])),w(Ce,At);break}case"int32":{Ce.write(c.from([u.properties[ue]])),Cn(Ce,At);break}case"var":{Ce.write(c.from([u.properties[ue]])),Fe(Ce,At);break}case"string":{Ce.write(c.from([u.properties[ue]])),pe(Ce,At);break}case"pair":{Object.getOwnPropertyNames(At).forEach(Oe=>{const kt=At[Oe];Array.isArray(kt)?kt.forEach(jt=>{Ce.write(c.from([u.properties[ue]])),Lt(Ce,Oe.toString(),jt.toString())}):(Ce.write(c.from([u.properties[ue]])),Lt(Ce,Oe.toString(),kt.toString()))});break}default:return Ce.destroy(new Error(`Invalid property ${ue} value: ${At}`)),!1}}function Pt(Ce,ue,At){Fe(Ce,At);for(const Ne in ue)if(Object.prototype.hasOwnProperty.call(ue,Ne)&&ue[Ne]!==null){const Oe=ue[Ne];if(Array.isArray(Oe))for(let kt=0;kt<Oe.length;kt++)qe(Ce,Ne,Oe[kt]);else qe(Ce,Ne,Oe)}}function In(Ce){return Ce?Ce instanceof c?Ce.length:c.byteLength(Ce):0}function $e(Ce){return typeof Ce=="string"||Ce instanceof c}o.exports=S},{"./constants":73,"./numbers":93,buffer:29,debug:30,"process-nextick-args":101}],97:[function(i,o,a){var u=1e3,c=u*60,f=c*60,d=f*24,h=d*7,v=d*365.25;o.exports=function(b,A){A=A||{};var w=typeof b;if(w==="string"&&b.length>0)return g(b);if(w==="number"&&isFinite(b))return A.long?y(b):p(b);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(b))};function g(b){if(b=String(b),!(b.length>100)){var A=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(b);if(A){var w=parseFloat(A[1]),T=(A[2]||"ms").toLowerCase();switch(T){case"years":case"year":case"yrs":case"yr":case"y":return w*v;case"weeks":case"week":case"w":return w*h;case"days":case"day":case"d":return w*d;case"hours":case"hour":case"hrs":case"hr":case"h":return w*f;case"minutes":case"minute":case"mins":case"min":case"m":return w*c;case"seconds":case"second":case"secs":case"sec":case"s":return w*u;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return w;default:return}}}}function p(b){var A=Math.abs(b);return A>=d?Math.round(b/d)+"d":A>=f?Math.round(b/f)+"h":A>=c?Math.round(b/c)+"m":A>=u?Math.round(b/u)+"s":b+"ms"}function y(b){var A=Math.abs(b);return A>=d?_(b,A,d,"day"):A>=f?_(b,A,f,"hour"):A>=c?_(b,A,c,"minute"):A>=u?_(b,A,u,"second"):b+" ms"}function _(b,A,w,T){var S=A>=w*1.5;return Math.round(b/w)+" "+T+(S?"s":"")}},{}],98:[function(i,o,a){const u=i("./lib/number-allocator.js");o.exports.NumberAllocator=u},{"./lib/number-allocator.js":99}],99:[function(i,o,a){const u=i("js-sdsl").OrderedSet,c=i("debug")("number-allocator:trace"),f=i("debug")("number-allocator:error");function d(v,g){this.low=v,this.high=g}d.prototype.equals=function(v){return this.low===v.low&&this.high===v.high},d.prototype.compare=function(v){return this.low<v.low&&this.high<v.low?-1:v.low<this.low&&v.high<this.low?1:0};function h(v,g){if(!(this instanceof h))return new h(v,g);this.min=v,this.max=g,this.ss=new u([],(p,y)=>p.compare(y)),c("Create"),this.clear()}h.prototype.firstVacant=function(){return this.ss.size()===0?null:this.ss.front().low},h.prototype.alloc=function(){if(this.ss.size()===0)return c("alloc():empty"),null;const v=this.ss.begin(),g=v.pointer.low,p=v.pointer.high,y=g;return y+1<=p?this.ss.updateKeyByIterator(v,new d(g+1,p)):this.ss.eraseElementByPos(0),c("alloc():"+y),y},h.prototype.use=function(v){const g=new d(v,v),p=this.ss.lowerBound(g);if(!p.equals(this.ss.end())){const y=p.pointer.low,_=p.pointer.high;return p.pointer.equals(g)?(this.ss.eraseElementByIterator(p),c("use():"+v),!0):y>v?!1:y===v?(this.ss.updateKeyByIterator(p,new d(y+1,_)),c("use():"+v),!0):_===v?(this.ss.updateKeyByIterator(p,new d(y,_-1)),c("use():"+v),!0):(this.ss.updateKeyByIterator(p,new d(v+1,_)),this.ss.insert(new d(y,v-1)),c("use():"+v),!0)}return c("use():failed"),!1},h.prototype.free=function(v){if(v<this.min||v>this.max){f("free():"+v+" is out of range");return}const g=new d(v,v),p=this.ss.upperBound(g);if(p.equals(this.ss.end())){if(p.equals(this.ss.begin())){this.ss.insert(g);return}p.pre();const y=p.pointer.high;p.pointer.high+1===v?this.ss.updateKeyByIterator(p,new d(y,v)):this.ss.insert(g)}else if(p.equals(this.ss.begin()))if(v+1===p.pointer.low){const y=p.pointer.high;this.ss.updateKeyByIterator(p,new d(v,y))}else this.ss.insert(g);else{const y=p.pointer.low,_=p.pointer.high;p.pre();const b=p.pointer.low;p.pointer.high+1===v?v+1===y?(this.ss.eraseElementByIterator(p),this.ss.updateKeyByIterator(p,new d(b,_))):this.ss.updateKeyByIterator(p,new d(b,v)):v+1===y?(this.ss.eraseElementByIterator(p.next()),this.ss.insert(new d(v,_))):this.ss.insert(g)}c("free():"+v)},h.prototype.clear=function(){c("clear()"),this.ss.clear(),this.ss.insert(new d(this.min,this.max))},h.prototype.intervalCount=function(){return this.ss.size()},h.prototype.dump=function(){console.log("length:"+this.ss.size());for(const v of this.ss)console.log(v)},o.exports=h},{debug:30,"js-sdsl":69}],100:[function(i,o,a){var u=i("wrappy");o.exports=u(c),o.exports.strict=u(f),c.proto=c(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return c(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return f(this)},configurable:!0})});function c(d){var h=function(){return h.called?h.value:(h.called=!0,h.value=d.apply(this,arguments))};return h.called=!1,h}function f(d){var h=function(){if(h.called)throw new Error(h.onceError);return h.called=!0,h.value=d.apply(this,arguments)},v=d.name||"Function wrapped with `once`";return h.onceError=v+" shouldn't be called more than once",h.called=!1,h}},{wrappy:140}],101:[function(i,o,a){(function(u){(function(){typeof u>"u"||!u.version||u.version.indexOf("v0.")===0||u.version.indexOf("v1.")===0&&u.version.indexOf("v1.8.")!==0?o.exports={nextTick:c}:o.exports=u;function c(f,d,h,v){if(typeof f!="function")throw new TypeError('"callback" argument must be a function');var g=arguments.length,p,y;switch(g){case 0:case 1:return u.nextTick(f);case 2:return u.nextTick(function(){f.call(null,d)});case 3:return u.nextTick(function(){f.call(null,d,h)});case 4:return u.nextTick(function(){f.call(null,d,h,v)});default:for(p=new Array(g-1),y=0;y<p.length;)p[y++]=arguments[y];return u.nextTick(function(){f.apply(null,p)})}}}).call(this)}).call(this,i("_process"))},{_process:102}],102:[function(i,o,a){var u=o.exports={},c,f;function d(){throw new Error("setTimeout has not been defined")}function h(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?c=setTimeout:c=d}catch{c=d}try{typeof clearTimeout=="function"?f=clearTimeout:f=h}catch{f=h}})();function v(x){if(c===setTimeout)return setTimeout(x,0);if((c===d||!c)&&setTimeout)return c=setTimeout,setTimeout(x,0);try{return c(x,0)}catch{try{return c.call(null,x,0)}catch{return c.call(this,x,0)}}}function g(x){if(f===clearTimeout)return clearTimeout(x);if((f===h||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(x);try{return f(x)}catch{try{return f.call(null,x)}catch{return f.call(this,x)}}}var p=[],y=!1,_,b=-1;function A(){!y||!_||(y=!1,_.length?p=_.concat(p):b=-1,p.length&&w())}function w(){if(!y){var x=v(A);y=!0;for(var O=p.length;O;){for(_=p,p=[];++b<O;)_&&_[b].run();b=-1,O=p.length}_=null,y=!1,g(x)}}u.nextTick=function(x){var O=new Array(arguments.length-1);if(arguments.length>1)for(var L=1;L<arguments.length;L++)O[L-1]=arguments[L];p.push(new T(x,O)),p.length===1&&!y&&v(w)};function T(x,O){this.fun=x,this.array=O}T.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={};function S(){}u.on=S,u.addListener=S,u.once=S,u.off=S,u.removeListener=S,u.removeAllListeners=S,u.emit=S,u.prependListener=S,u.prependOnceListener=S,u.listeners=function(x){return[]},u.binding=function(x){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(x){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},{}],103:[function(i,o,a){(function(u){(function(){(function(c){var f=typeof a=="object"&&a&&!a.nodeType&&a,d=typeof o=="object"&&o&&!o.nodeType&&o,h=typeof u=="object"&&u;(h.global===h||h.window===h||h.self===h)&&(c=h);var v,g=2147483647,p=36,y=1,_=26,b=38,A=700,w=72,T=128,S="-",x=/^xn--/,O=/[^\x20-\x7E]/,L=/[\x2E\u3002\uFF0E\uFF61]/g,M={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},re=p-y,F=Math.floor,j=String.fromCharCode,V;function z(Dt){throw new RangeError(M[Dt])}function $(Dt,de){for(var qe=Dt.length,Pt=[];qe--;)Pt[qe]=de(Dt[qe]);return Pt}function he(Dt,de){var qe=Dt.split("@"),Pt="";qe.length>1&&(Pt=qe[0]+"@",Dt=qe[1]),Dt=Dt.replace(L,".");var In=Dt.split("."),$e=$(In,de).join(".");return Pt+$e}function le(Dt){for(var de=[],qe=0,Pt=Dt.length,In,$e;qe<Pt;)In=Dt.charCodeAt(qe++),In>=55296&&In<=56319&&qe<Pt?($e=Dt.charCodeAt(qe++),($e&64512)==56320?de.push(((In&1023)<<10)+($e&1023)+65536):(de.push(In),qe--)):de.push(In);return de}function Ie(Dt){return $(Dt,function(de){var qe="";return de>65535&&(de-=65536,qe+=j(de>>>10&1023|55296),de=56320|de&1023),qe+=j(de),qe}).join("")}function Fe(Dt){return Dt-48<10?Dt-22:Dt-65<26?Dt-65:Dt-97<26?Dt-97:p}function pe(Dt,de){return Dt+22+75*(Dt<26)-((de!=0)<<5)}function Lt(Dt,de,qe){var Pt=0;for(Dt=qe?F(Dt/A):Dt>>1,Dt+=F(Dt/de);Dt>re*_>>1;Pt+=p)Dt=F(Dt/re);return F(Pt+(re+1)*Dt/(Dt+b))}function _e(Dt){var de=[],qe=Dt.length,Pt,In=0,$e=T,Ce=w,ue,At,Ne,Oe,kt,jt,_n,ie,ae;for(ue=Dt.lastIndexOf(S),ue<0&&(ue=0),At=0;At<ue;++At)Dt.charCodeAt(At)>=128&&z("not-basic"),de.push(Dt.charCodeAt(At));for(Ne=ue>0?ue+1:0;Ne<qe;){for(Oe=In,kt=1,jt=p;Ne>=qe&&z("invalid-input"),_n=Fe(Dt.charCodeAt(Ne++)),(_n>=p||_n>F((g-In)/kt))&&z("overflow"),In+=_n*kt,ie=jt<=Ce?y:jt>=Ce+_?_:jt-Ce,!(_n<ie);jt+=p)ae=p-ie,kt>F(g/ae)&&z("overflow"),kt*=ae;Pt=de.length+1,Ce=Lt(In-Oe,Pt,Oe==0),F(In/Pt)>g-$e&&z("overflow"),$e+=F(In/Pt),In%=Pt,de.splice(In++,0,$e)}return Ie(de)}function Et(Dt){var de,qe,Pt,In,$e,Ce,ue,At,Ne,Oe,kt,jt=[],_n,ie,ae,Y;for(Dt=le(Dt),_n=Dt.length,de=T,qe=0,$e=w,Ce=0;Ce<_n;++Ce)kt=Dt[Ce],kt<128&&jt.push(j(kt));for(Pt=In=jt.length,In&&jt.push(S);Pt<_n;){for(ue=g,Ce=0;Ce<_n;++Ce)kt=Dt[Ce],kt>=de&&kt<ue&&(ue=kt);for(ie=Pt+1,ue-de>F((g-qe)/ie)&&z("overflow"),qe+=(ue-de)*ie,de=ue,Ce=0;Ce<_n;++Ce)if(kt=Dt[Ce],kt<de&&++qe>g&&z("overflow"),kt==de){for(At=qe,Ne=p;Oe=Ne<=$e?y:Ne>=$e+_?_:Ne-$e,!(At<Oe);Ne+=p)Y=At-Oe,ae=p-Oe,jt.push(j(pe(Oe+Y%ae,0))),At=F(Y/ae);jt.push(j(pe(At,0))),$e=Lt(qe,ie,Pt==In),qe=0,++Pt}++qe,++de}return jt.join("")}function Cn(Dt){return he(Dt,function(de){return x.test(de)?_e(de.slice(4).toLowerCase()):de})}function vn(Dt){return he(Dt,function(de){return O.test(de)?"xn--"+Et(de):de})}if(v={version:"1.4.1",ucs2:{decode:le,encode:Ie},decode:_e,encode:Et,toASCII:vn,toUnicode:Cn},f&&d)if(o.exports==f)d.exports=v;else for(V in v)v.hasOwnProperty(V)&&(f[V]=v[V]);else c.punycode=v})(this)}).call(this)}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}],104:[function(i,o,a){function u(f,d){return Object.prototype.hasOwnProperty.call(f,d)}o.exports=function(f,d,h,v){d=d||"&",h=h||"=";var g={};if(typeof f!="string"||f.length===0)return g;var p=/\+/g;f=f.split(d);var y=1e3;v&&typeof v.maxKeys=="number"&&(y=v.maxKeys);var _=f.length;y>0&&_>y&&(_=y);for(var b=0;b<_;++b){var A=f[b].replace(p,"%20"),w=A.indexOf(h),T,S,x,O;w>=0?(T=A.substr(0,w),S=A.substr(w+1)):(T=A,S=""),x=decodeURIComponent(T),O=decodeURIComponent(S),u(g,x)?c(g[x])?g[x].push(O):g[x]=[g[x],O]:g[x]=O}return g};var c=Array.isArray||function(f){return Object.prototype.toString.call(f)==="[object Array]"}},{}],105:[function(i,o,a){var u=function(h){switch(typeof h){case"string":return h;case"boolean":return h?"true":"false";case"number":return isFinite(h)?h:"";default:return""}};o.exports=function(h,v,g,p){return v=v||"&",g=g||"=",h===null&&(h=void 0),typeof h=="object"?f(d(h),function(y){var _=encodeURIComponent(u(y))+g;return c(h[y])?f(h[y],function(b){return _+encodeURIComponent(u(b))}).join(v):_+encodeURIComponent(u(h[y]))}).join(v):p?encodeURIComponent(u(p))+g+encodeURIComponent(u(h)):""};var c=Array.isArray||function(h){return Object.prototype.toString.call(h)==="[object Array]"};function f(h,v){if(h.map)return h.map(v);for(var g=[],p=0;p<h.length;p++)g.push(v(h[p],p));return g}var d=Object.keys||function(h){var v=[];for(var g in h)Object.prototype.hasOwnProperty.call(h,g)&&v.push(g);return v}},{}],106:[function(i,o,a){a.decode=a.parse=i("./decode"),a.encode=a.stringify=i("./encode")},{"./decode":104,"./encode":105}],107:[function(i,o,a){const{AbortError:u,codes:c}=i("../../ours/errors"),{isNodeStream:f,isWebStream:d,kControllerErrorFunction:h}=i("./utils"),v=i("./end-of-stream"),{ERR_INVALID_ARG_TYPE:g}=c,p=(y,_)=>{if(typeof y!="object"||!("aborted"in y))throw new g(_,"AbortSignal",y)};o.exports.addAbortSignal=function(_,b){if(p(_,"signal"),!f(b)&&!d(b))throw new g("stream",["ReadableStream","WritableStream","Stream"],b);return o.exports.addAbortSignalNoValidate(_,b)},o.exports.addAbortSignalNoValidate=function(y,_){if(typeof y!="object"||!("aborted"in y))return _;const b=f(_)?()=>{_.destroy(new u(void 0,{cause:y.reason}))}:()=>{_[h](new u(void 0,{cause:y.reason}))};return y.aborted?b():(y.addEventListener("abort",b),v(_,()=>y.removeEventListener("abort",b))),_}},{"../../ours/errors":126,"./end-of-stream":113,"./utils":122}],108:[function(i,o,a){const{StringPrototypeSlice:u,SymbolIterator:c,TypedArrayPrototypeSet:f,Uint8Array:d}=i("../../ours/primordials"),{Buffer:h}=i("buffer"),{inspect:v}=i("../../ours/util");o.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(p){const y={data:p,next:null};this.length>0?this.tail.next=y:this.head=y,this.tail=y,++this.length}unshift(p){const y={data:p,next:this.head};this.length===0&&(this.tail=y),this.head=y,++this.length}shift(){if(this.length===0)return;const p=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,p}clear(){this.head=this.tail=null,this.length=0}join(p){if(this.length===0)return"";let y=this.head,_=""+y.data;for(;(y=y.next)!==null;)_+=p+y.data;return _}concat(p){if(this.length===0)return h.alloc(0);const y=h.allocUnsafe(p>>>0);let _=this.head,b=0;for(;_;)f(y,_.data,b),b+=_.data.length,_=_.next;return y}consume(p,y){const _=this.head.data;if(p<_.length){const b=_.slice(0,p);return this.head.data=_.slice(p),b}return p===_.length?this.shift():y?this._getString(p):this._getBuffer(p)}first(){return this.head.data}*[c](){for(let p=this.head;p;p=p.next)yield p.data}_getString(p){let y="",_=this.head,b=0;do{const A=_.data;if(p>A.length)y+=A,p-=A.length;else{p===A.length?(y+=A,++b,_.next?this.head=_.next:this.head=this.tail=null):(y+=u(A,0,p),this.head=_,_.data=u(A,p));break}++b}while((_=_.next)!==null);return this.length-=b,y}_getBuffer(p){const y=h.allocUnsafe(p),_=p;let b=this.head,A=0;do{const w=b.data;if(p>w.length)f(y,w,_-p),p-=w.length;else{p===w.length?(f(y,w,_-p),++A,b.next?this.head=b.next:this.head=this.tail=null):(f(y,new d(w.buffer,w.byteOffset,p),_-p),this.head=b,b.data=w.slice(p));break}++A}while((b=b.next)!==null);return this.length-=A,y}[Symbol.for("nodejs.util.inspect.custom")](p,y){return v(this,{...y,depth:0,customInspect:!1})}}},{"../../ours/primordials":127,"../../ours/util":128,buffer:29}],109:[function(i,o,a){const{pipeline:u}=i("./pipeline"),c=i("./duplex"),{destroyer:f}=i("./destroy"),{isNodeStream:d,isReadable:h,isWritable:v,isWebStream:g,isTransformStream:p,isWritableStream:y,isReadableStream:_}=i("./utils"),{AbortError:b,codes:{ERR_INVALID_ARG_VALUE:A,ERR_MISSING_ARGS:w}}=i("../../ours/errors"),T=i("./end-of-stream");o.exports=function(...x){if(x.length===0)throw new w("streams");if(x.length===1)return c.from(x[0]);const O=[...x];if(typeof x[0]=="function"&&(x[0]=c.from(x[0])),typeof x[x.length-1]=="function"){const Ie=x.length-1;x[Ie]=c.from(x[Ie])}for(let Ie=0;Ie<x.length;++Ie)if(!(!d(x[Ie])&&!g(x[Ie]))){if(Ie<x.length-1&&!(h(x[Ie])||_(x[Ie])||p(x[Ie])))throw new A(`streams[${Ie}]`,O[Ie],"must be readable");if(Ie>0&&!(v(x[Ie])||y(x[Ie])||p(x[Ie])))throw new A(`streams[${Ie}]`,O[Ie],"must be writable")}let L,M,re,F,j;function V(Ie){const Fe=F;F=null,Fe?Fe(Ie):Ie?j.destroy(Ie):!le&&!he&&j.destroy()}const z=x[0],$=u(x,V),he=!!(v(z)||y(z)||p(z)),le=!!(h($)||_($)||p($));if(j=new c({writableObjectMode:!!(z!=null&&z.writableObjectMode),readableObjectMode:!!($!=null&&$.writableObjectMode),writable:he,readable:le}),he){if(d(z))j._write=function(Fe,pe,Lt){z.write(Fe,pe)?Lt():L=Lt},j._final=function(Fe){z.end(),M=Fe},z.on("drain",function(){if(L){const Fe=L;L=null,Fe()}});else if(g(z)){const pe=(p(z)?z.writable:z).getWriter();j._write=async function(Lt,_e,Et){try{await pe.ready,pe.write(Lt).catch(()=>{}),Et()}catch(Cn){Et(Cn)}},j._final=async function(Lt){try{await pe.ready,pe.close().catch(()=>{}),M=Lt}catch(_e){Lt(_e)}}}const Ie=p($)?$.readable:$;T(Ie,()=>{if(M){const Fe=M;M=null,Fe()}})}if(le){if(d($))$.on("readable",function(){if(re){const Ie=re;re=null,Ie()}}),$.on("end",function(){j.push(null)}),j._read=function(){for(;;){const Ie=$.read();if(Ie===null){re=j._read;return}if(!j.push(Ie))return}};else if(g($)){const Fe=(p($)?$.readable:$).getReader();j._read=async function(){for(;;)try{const{value:pe,done:Lt}=await Fe.read();if(!j.push(pe))return;if(Lt){j.push(null);return}}catch{return}}}}return j._destroy=function(Ie,Fe){!Ie&&F!==null&&(Ie=new b),re=null,L=null,M=null,F===null?Fe(Ie):(F=Fe,d($)&&f($,Ie))},j}},{"../../ours/errors":126,"./destroy":110,"./duplex":111,"./end-of-stream":113,"./pipeline":118,"./utils":122}],110:[function(i,o,a){const u=i("process/"),{aggregateTwoErrors:c,codes:{ERR_MULTIPLE_CALLBACK:f},AbortError:d}=i("../../ours/errors"),{Symbol:h}=i("../../ours/primordials"),{kDestroyed:v,isDestroyed:g,isFinished:p,isServerRequest:y}=i("./utils"),_=h("kDestroy"),b=h("kConstruct");function A(le,Ie,Fe){le&&(le.stack,Ie&&!Ie.errored&&(Ie.errored=le),Fe&&!Fe.errored&&(Fe.errored=le))}function w(le,Ie){const Fe=this._readableState,pe=this._writableState,Lt=pe||Fe;return pe!=null&&pe.destroyed||Fe!=null&&Fe.destroyed?(typeof Ie=="function"&&Ie(),this):(A(le,pe,Fe),pe&&(pe.destroyed=!0),Fe&&(Fe.destroyed=!0),Lt.constructed?T(this,le,Ie):this.once(_,function(_e){T(this,c(_e,le),Ie)}),this)}function T(le,Ie,Fe){let pe=!1;function Lt(_e){if(pe)return;pe=!0;const Et=le._readableState,Cn=le._writableState;A(_e,Cn,Et),Cn&&(Cn.closed=!0),Et&&(Et.closed=!0),typeof Fe=="function"&&Fe(_e),_e?u.nextTick(S,le,_e):u.nextTick(x,le)}try{le._destroy(Ie||null,Lt)}catch(_e){Lt(_e)}}function S(le,Ie){O(le,Ie),x(le)}function x(le){const Ie=le._readableState,Fe=le._writableState;Fe&&(Fe.closeEmitted=!0),Ie&&(Ie.closeEmitted=!0),(Fe!=null&&Fe.emitClose||Ie!=null&&Ie.emitClose)&&le.emit("close")}function O(le,Ie){const Fe=le._readableState,pe=le._writableState;pe!=null&&pe.errorEmitted||Fe!=null&&Fe.errorEmitted||(pe&&(pe.errorEmitted=!0),Fe&&(Fe.errorEmitted=!0),le.emit("error",Ie))}function L(){const le=this._readableState,Ie=this._writableState;le&&(le.constructed=!0,le.closed=!1,le.closeEmitted=!1,le.destroyed=!1,le.errored=null,le.errorEmitted=!1,le.reading=!1,le.ended=le.readable===!1,le.endEmitted=le.readable===!1),Ie&&(Ie.constructed=!0,Ie.destroyed=!1,Ie.closed=!1,Ie.closeEmitted=!1,Ie.errored=null,Ie.errorEmitted=!1,Ie.finalCalled=!1,Ie.prefinished=!1,Ie.ended=Ie.writable===!1,Ie.ending=Ie.writable===!1,Ie.finished=Ie.writable===!1)}function M(le,Ie,Fe){const pe=le._readableState,Lt=le._writableState;if(Lt!=null&&Lt.destroyed||pe!=null&&pe.destroyed)return this;pe!=null&&pe.autoDestroy||Lt!=null&&Lt.autoDestroy?le.destroy(Ie):Ie&&(Ie.stack,Lt&&!Lt.errored&&(Lt.errored=Ie),pe&&!pe.errored&&(pe.errored=Ie),Fe?u.nextTick(O,le,Ie):O(le,Ie))}function re(le,Ie){if(typeof le._construct!="function")return;const Fe=le._readableState,pe=le._writableState;Fe&&(Fe.constructed=!1),pe&&(pe.constructed=!1),le.once(b,Ie),!(le.listenerCount(b)>1)&&u.nextTick(F,le)}function F(le){let Ie=!1;function Fe(pe){if(Ie){M(le,pe??new f);return}Ie=!0;const Lt=le._readableState,_e=le._writableState,Et=_e||Lt;Lt&&(Lt.constructed=!0),_e&&(_e.constructed=!0),Et.destroyed?le.emit(_,pe):pe?M(le,pe,!0):u.nextTick(j,le)}try{le._construct(pe=>{u.nextTick(Fe,pe)})}catch(pe){u.nextTick(Fe,pe)}}function j(le){le.emit(b)}function V(le){return(le==null?void 0:le.setHeader)&&typeof le.abort=="function"}function z(le){le.emit("close")}function $(le,Ie){le.emit("error",Ie),u.nextTick(z,le)}function he(le,Ie){!le||g(le)||(!Ie&&!p(le)&&(Ie=new d),y(le)?(le.socket=null,le.destroy(Ie)):V(le)?le.abort():V(le.req)?le.req.abort():typeof le.destroy=="function"?le.destroy(Ie):typeof le.close=="function"?le.close():Ie?u.nextTick($,le,Ie):u.nextTick(z,le),le.destroyed||(le[v]=!0))}o.exports={construct:re,destroyer:he,destroy:w,undestroy:L,errorOrDestroy:M}},{"../../ours/errors":126,"../../ours/primordials":127,"./utils":122,"process/":102}],111:[function(i,o,a){const{ObjectDefineProperties:u,ObjectGetOwnPropertyDescriptor:c,ObjectKeys:f,ObjectSetPrototypeOf:d}=i("../../ours/primordials");o.exports=g;const h=i("./readable"),v=i("./writable");d(g.prototype,h.prototype),d(g,h);{const b=f(v.prototype);for(let A=0;A<b.length;A++){const w=b[A];g.prototype[w]||(g.prototype[w]=v.prototype[w])}}function g(b){if(!(this instanceof g))return new g(b);h.call(this,b),v.call(this,b),b?(this.allowHalfOpen=b.allowHalfOpen!==!1,b.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),b.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}u(g.prototype,{writable:{__proto__:null,...c(v.prototype,"writable")},writableHighWaterMark:{__proto__:null,...c(v.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...c(v.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...c(v.prototype,"writableBuffer")},writableLength:{__proto__:null,...c(v.prototype,"writableLength")},writableFinished:{__proto__:null,...c(v.prototype,"writableFinished")},writableCorked:{__proto__:null,...c(v.prototype,"writableCorked")},writableEnded:{__proto__:null,...c(v.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...c(v.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(b){this._readableState&&this._writableState&&(this._readableState.destroyed=b,this._writableState.destroyed=b)}}});let p;function y(){return p===void 0&&(p={}),p}g.fromWeb=function(b,A){return y().newStreamDuplexFromReadableWritablePair(b,A)},g.toWeb=function(b){return y().newReadableWritablePairFromDuplex(b)};let _;g.from=function(b){return _||(_=i("./duplexify")),_(b,"body")}},{"../../ours/primordials":127,"./duplexify":112,"./readable":119,"./writable":123}],112:[function(i,o,a){const u=i("process/"),c=i("buffer"),{isReadable:f,isWritable:d,isIterable:h,isNodeStream:v,isReadableNodeStream:g,isWritableNodeStream:p,isDuplexNodeStream:y}=i("./utils"),_=i("./end-of-stream"),{AbortError:b,codes:{ERR_INVALID_ARG_TYPE:A,ERR_INVALID_RETURN_VALUE:w}}=i("../../ours/errors"),{destroyer:T}=i("./destroy"),S=i("./duplex"),x=i("./readable"),{createDeferredPromise:O}=i("../../ours/util"),L=i("./from"),M=globalThis.Blob||c.Blob,re=typeof M<"u"?function(le){return le instanceof M}:function(le){return!1},F=globalThis.AbortController||i("abort-controller").AbortController,{FunctionPrototypeCall:j}=i("../../ours/primordials");class V extends S{constructor(le){super(le),(le==null?void 0:le.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(le==null?void 0:le.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}o.exports=function he(le,Ie){if(y(le))return le;if(g(le))return $({readable:le});if(p(le))return $({writable:le});if(v(le))return $({writable:!1,readable:!1});if(typeof le=="function"){const{value:pe,write:Lt,final:_e,destroy:Et}=z(le);if(h(pe))return L(V,pe,{objectMode:!0,write:Lt,final:_e,destroy:Et});const Cn=pe==null?void 0:pe.then;if(typeof Cn=="function"){let vn;const Dt=j(Cn,pe,de=>{if(de!=null)throw new w("nully","body",de)},de=>{T(vn,de)});return vn=new V({objectMode:!0,readable:!1,write:Lt,final(de){_e(async()=>{try{await Dt,u.nextTick(de,null)}catch(qe){u.nextTick(de,qe)}})},destroy:Et})}throw new w("Iterable, AsyncIterable or AsyncFunction",Ie,pe)}if(re(le))return he(le.arrayBuffer());if(h(le))return L(V,le,{objectMode:!0,writable:!1});if(typeof(le==null?void 0:le.writable)=="object"||typeof(le==null?void 0:le.readable)=="object"){const pe=le!=null&&le.readable?g(le==null?void 0:le.readable)?le==null?void 0:le.readable:he(le.readable):void 0,Lt=le!=null&&le.writable?p(le==null?void 0:le.writable)?le==null?void 0:le.writable:he(le.writable):void 0;return $({readable:pe,writable:Lt})}const Fe=le==null?void 0:le.then;if(typeof Fe=="function"){let pe;return j(Fe,le,Lt=>{Lt!=null&&pe.push(Lt),pe.push(null)},Lt=>{T(pe,Lt)}),pe=new V({objectMode:!0,writable:!1,read(){}})}throw new A(Ie,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],le)};function z(he){let{promise:le,resolve:Ie}=O();const Fe=new F,pe=Fe.signal;return{value:he(async function*(){for(;;){const _e=le;le=null;const{chunk:Et,done:Cn,cb:vn}=await _e;if(u.nextTick(vn),Cn)return;if(pe.aborted)throw new b(void 0,{cause:pe.reason});({promise:le,resolve:Ie}=O()),yield Et}}(),{signal:pe}),write(_e,Et,Cn){const vn=Ie;Ie=null,vn({chunk:_e,done:!1,cb:Cn})},final(_e){const Et=Ie;Ie=null,Et({done:!0,cb:_e})},destroy(_e,Et){Fe.abort(),Et(_e)}}}function $(he){const le=he.readable&&typeof he.readable.read!="function"?x.wrap(he.readable):he.readable,Ie=he.writable;let Fe=!!f(le),pe=!!d(Ie),Lt,_e,Et,Cn,vn;function Dt(de){const qe=Cn;Cn=null,qe?qe(de):de&&vn.destroy(de)}return vn=new V({readableObjectMode:!!(le!=null&&le.readableObjectMode),writableObjectMode:!!(Ie!=null&&Ie.writableObjectMode),readable:Fe,writable:pe}),pe&&(_(Ie,de=>{pe=!1,de&&T(le,de),Dt(de)}),vn._write=function(de,qe,Pt){Ie.write(de,qe)?Pt():Lt=Pt},vn._final=function(de){Ie.end(),_e=de},Ie.on("drain",function(){if(Lt){const de=Lt;Lt=null,de()}}),Ie.on("finish",function(){if(_e){const de=_e;_e=null,de()}})),Fe&&(_(le,de=>{Fe=!1,de&&T(le,de),Dt(de)}),le.on("readable",function(){if(Et){const de=Et;Et=null,de()}}),le.on("end",function(){vn.push(null)}),vn._read=function(){for(;;){const de=le.read();if(de===null){Et=vn._read;return}if(!vn.push(de))return}}),vn._destroy=function(de,qe){!de&&Cn!==null&&(de=new b),Et=null,Lt=null,_e=null,Cn===null?qe(de):(Cn=qe,T(Ie,de),T(le,de))},vn}},{"../../ours/errors":126,"../../ours/primordials":127,"../../ours/util":128,"./destroy":110,"./duplex":111,"./end-of-stream":113,"./from":114,"./readable":119,"./utils":122,"abort-controller":24,buffer:29,"process/":102}],113:[function(i,o,a){const u=i("process/"),{AbortError:c,codes:f}=i("../../ours/errors"),{ERR_INVALID_ARG_TYPE:d,ERR_STREAM_PREMATURE_CLOSE:h}=f,{kEmptyObject:v,once:g}=i("../../ours/util"),{validateAbortSignal:p,validateFunction:y,validateObject:_,validateBoolean:b}=i("../validators"),{Promise:A,PromisePrototypeThen:w}=i("../../ours/primordials"),{isClosed:T,isReadable:S,isReadableNodeStream:x,isReadableStream:O,isReadableFinished:L,isReadableErrored:M,isWritable:re,isWritableNodeStream:F,isWritableStream:j,isWritableFinished:V,isWritableErrored:z,isNodeStream:$,willEmitClose:he,kIsClosedPromise:le}=i("./utils");function Ie(Et){return Et.setHeader&&typeof Et.abort=="function"}const Fe=()=>{};function pe(Et,Cn,vn){var Dt,de;if(arguments.length===2?(vn=Cn,Cn=v):Cn==null?Cn=v:_(Cn,"options"),y(vn,"callback"),p(Cn.signal,"options.signal"),vn=g(vn),O(Et)||j(Et))return Lt(Et,Cn,vn);if(!$(Et))throw new d("stream",["ReadableStream","WritableStream","Stream"],Et);const qe=(Dt=Cn.readable)!==null&&Dt!==void 0?Dt:x(Et),Pt=(de=Cn.writable)!==null&&de!==void 0?de:F(Et),In=Et._writableState,$e=Et._readableState,Ce=()=>{Et.writable||Ne()};let ue=he(Et)&&x(Et)===qe&&F(Et)===Pt,At=V(Et,!1);const Ne=()=>{At=!0,Et.destroyed&&(ue=!1),!(ue&&(!Et.readable||qe))&&(!qe||Oe)&&vn.call(Et)};let Oe=L(Et,!1);const kt=()=>{Oe=!0,Et.destroyed&&(ue=!1),!(ue&&(!Et.writable||Pt))&&(!Pt||At)&&vn.call(Et)},jt=D=>{vn.call(Et,D)};let _n=T(Et);const ie=()=>{_n=!0;const D=z(Et)||M(Et);if(D&&typeof D!="boolean")return vn.call(Et,D);if(qe&&!Oe&&x(Et,!0)&&!L(Et,!1))return vn.call(Et,new h);if(Pt&&!At&&!V(Et,!1))return vn.call(Et,new h);vn.call(Et)},ae=()=>{_n=!0;const D=z(Et)||M(Et);if(D&&typeof D!="boolean")return vn.call(Et,D);vn.call(Et)},Y=()=>{Et.req.on("finish",Ne)};Ie(Et)?(Et.on("complete",Ne),ue||Et.on("abort",ie),Et.req?Y():Et.on("request",Y)):Pt&&!In&&(Et.on("end",Ce),Et.on("close",Ce)),!ue&&typeof Et.aborted=="boolean"&&Et.on("aborted",ie),Et.on("end",kt),Et.on("finish",Ne),Cn.error!==!1&&Et.on("error",jt),Et.on("close",ie),_n?u.nextTick(ie):In!=null&&In.errorEmitted||$e!=null&&$e.errorEmitted?ue||u.nextTick(ae):(!qe&&(!ue||S(Et))&&(At||re(Et)===!1)||!Pt&&(!ue||re(Et))&&(Oe||S(Et)===!1)||$e&&Et.req&&Et.aborted)&&u.nextTick(ae);const k=()=>{vn=Fe,Et.removeListener("aborted",ie),Et.removeListener("complete",Ne),Et.removeListener("abort",ie),Et.removeListener("request",Y),Et.req&&Et.req.removeListener("finish",Ne),Et.removeListener("end",Ce),Et.removeListener("close",Ce),Et.removeListener("finish",Ne),Et.removeListener("end",kt),Et.removeListener("error",jt),Et.removeListener("close",ie)};if(Cn.signal&&!_n){const D=()=>{const oe=vn;k(),oe.call(Et,new c(void 0,{cause:Cn.signal.reason}))};if(Cn.signal.aborted)u.nextTick(D);else{const oe=vn;vn=g((...xe)=>{Cn.signal.removeEventListener("abort",D),oe.apply(Et,xe)}),Cn.signal.addEventListener("abort",D)}}return k}function Lt(Et,Cn,vn){let Dt=!1,de=Fe;if(Cn.signal)if(de=()=>{Dt=!0,vn.call(Et,new c(void 0,{cause:Cn.signal.reason}))},Cn.signal.aborted)u.nextTick(de);else{const Pt=vn;vn=g((...In)=>{Cn.signal.removeEventListener("abort",de),Pt.apply(Et,In)}),Cn.signal.addEventListener("abort",de)}const qe=(...Pt)=>{Dt||u.nextTick(()=>vn.apply(Et,Pt))};return w(Et[le].promise,qe,qe),Fe}function _e(Et,Cn){var vn;let Dt=!1;return Cn===null&&(Cn=v),(vn=Cn)!==null&&vn!==void 0&&vn.cleanup&&(b(Cn.cleanup,"cleanup"),Dt=Cn.cleanup),new A((de,qe)=>{const Pt=pe(Et,Cn,In=>{Dt&&Pt(),In?qe(In):de()})})}o.exports=pe,o.exports.finished=_e},{"../../ours/errors":126,"../../ours/primordials":127,"../../ours/util":128,"../validators":124,"./utils":122,"process/":102}],114:[function(i,o,a){const u=i("process/"),{PromisePrototypeThen:c,SymbolAsyncIterator:f,SymbolIterator:d}=i("../../ours/primordials"),{Buffer:h}=i("buffer"),{ERR_INVALID_ARG_TYPE:v,ERR_STREAM_NULL_VALUES:g}=i("../../ours/errors").codes;function p(y,_,b){let A;if(typeof _=="string"||_ instanceof h)return new y({objectMode:!0,...b,read(){this.push(_),this.push(null)}});let w;if(_&&_[f])w=!0,A=_[f]();else if(_&&_[d])w=!1,A=_[d]();else throw new v("iterable",["Iterable"],_);const T=new y({objectMode:!0,highWaterMark:1,...b});let S=!1;T._read=function(){S||(S=!0,O())},T._destroy=function(L,M){c(x(L),()=>u.nextTick(M,L),re=>u.nextTick(M,re||L))};async function x(L){const M=L!=null,re=typeof A.throw=="function";if(M&&re){const{value:F,done:j}=await A.throw(L);if(await F,j)return}if(typeof A.return=="function"){const{value:F}=await A.return();await F}}async function O(){for(;;){try{const{value:L,done:M}=w?await A.next():A.next();if(M)T.push(null);else{const re=L&&typeof L.then=="function"?await L:L;if(re===null)throw S=!1,new g;if(T.push(re))continue;S=!1}}catch(L){T.destroy(L)}break}}return T}o.exports=p},{"../../ours/errors":126,"../../ours/primordials":127,buffer:29,"process/":102}],115:[function(i,o,a){const{ArrayIsArray:u,ObjectSetPrototypeOf:c}=i("../../ours/primordials"),{EventEmitter:f}=i("events");function d(v){f.call(this,v)}c(d.prototype,f.prototype),c(d,f),d.prototype.pipe=function(v,g){const p=this;function y(x){v.writable&&v.write(x)===!1&&p.pause&&p.pause()}p.on("data",y);function _(){p.readable&&p.resume&&p.resume()}v.on("drain",_),!v._isStdio&&(!g||g.end!==!1)&&(p.on("end",A),p.on("close",w));let b=!1;function A(){b||(b=!0,v.end())}function w(){b||(b=!0,typeof v.destroy=="function"&&v.destroy())}function T(x){S(),f.listenerCount(this,"error")===0&&this.emit("error",x)}h(p,"error",T),h(v,"error",T);function S(){p.removeListener("data",y),v.removeListener("drain",_),p.removeListener("end",A),p.removeListener("close",w),p.removeListener("error",T),v.removeListener("error",T),p.removeListener("end",S),p.removeListener("close",S),v.removeListener("close",S)}return p.on("end",S),p.on("close",S),v.on("close",S),v.emit("pipe",p),v};function h(v,g,p){if(typeof v.prependListener=="function")return v.prependListener(g,p);!v._events||!v._events[g]?v.on(g,p):u(v._events[g])?v._events[g].unshift(p):v._events[g]=[p,v._events[g]]}o.exports={Stream:d,prependListener:h}},{"../../ours/primordials":127,events:49}],116:[function(i,o,a){const u=globalThis.AbortController||i("abort-controller").AbortController,{codes:{ERR_INVALID_ARG_VALUE:c,ERR_INVALID_ARG_TYPE:f,ERR_MISSING_ARGS:d,ERR_OUT_OF_RANGE:h},AbortError:v}=i("../../ours/errors"),{validateAbortSignal:g,validateInteger:p,validateObject:y}=i("../validators"),_=i("../../ours/primordials").Symbol("kWeak"),{finished:b}=i("./end-of-stream"),A=i("./compose"),{addAbortSignalNoValidate:w}=i("./add-abort-signal"),{isWritable:T,isNodeStream:S}=i("./utils"),{ArrayPrototypePush:x,MathFloor:O,Number:L,NumberIsNaN:M,Promise:re,PromiseReject:F,PromisePrototypeThen:j,Symbol:V}=i("../../ours/primordials"),z=V("kEmpty"),$=V("kEof");function he($e,Ce){if(Ce!=null&&y(Ce,"options"),(Ce==null?void 0:Ce.signal)!=null&&g(Ce.signal,"options.signal"),S($e)&&!T($e))throw new c("stream",$e,"must be writable");const ue=A(this,$e);return Ce!=null&&Ce.signal&&w(Ce.signal,ue),ue}function le($e,Ce){if(typeof $e!="function")throw new f("fn",["Function","AsyncFunction"],$e);Ce!=null&&y(Ce,"options"),(Ce==null?void 0:Ce.signal)!=null&&g(Ce.signal,"options.signal");let ue=1;return(Ce==null?void 0:Ce.concurrency)!=null&&(ue=O(Ce.concurrency)),p(ue,"concurrency",1),async function*(){var Ne,Oe;const kt=new u,jt=this,_n=[],ie=kt.signal,ae={signal:ie},Y=()=>kt.abort();Ce!=null&&(Ne=Ce.signal)!==null&&Ne!==void 0&&Ne.aborted&&Y(),Ce==null||(Oe=Ce.signal)===null||Oe===void 0||Oe.addEventListener("abort",Y);let k,D,oe=!1;function xe(){oe=!0}async function ze(){try{for await(let Tn of jt){var hn;if(oe)return;if(ie.aborted)throw new v;try{Tn=$e(Tn,ae)}catch(Rn){Tn=F(Rn)}Tn!==z&&(typeof((hn=Tn)===null||hn===void 0?void 0:hn.catch)=="function"&&Tn.catch(xe),_n.push(Tn),k&&(k(),k=null),!oe&&_n.length&&_n.length>=ue&&await new re(Rn=>{D=Rn}))}_n.push($)}catch(Tn){const Rn=F(Tn);j(Rn,void 0,xe),_n.push(Rn)}finally{var An;oe=!0,k&&(k(),k=null),Ce==null||(An=Ce.signal)===null||An===void 0||An.removeEventListener("abort",Y)}}ze();try{for(;;){for(;_n.length>0;){const hn=await _n[0];if(hn===$)return;if(ie.aborted)throw new v;hn!==z&&(yield hn),_n.shift(),D&&(D(),D=null)}await new re(hn=>{k=hn})}}finally{kt.abort(),oe=!0,D&&(D(),D=null)}}.call(this)}function Ie($e=void 0){return $e!=null&&y($e,"options"),($e==null?void 0:$e.signal)!=null&&g($e.signal,"options.signal"),async function*(){let ue=0;for await(const Ne of this){var At;if($e!=null&&(At=$e.signal)!==null&&At!==void 0&&At.aborted)throw new v({cause:$e.signal.reason});yield[ue++,Ne]}}.call(this)}async function Fe($e,Ce=void 0){for await(const ue of Et.call(this,$e,Ce))return!0;return!1}async function pe($e,Ce=void 0){if(typeof $e!="function")throw new f("fn",["Function","AsyncFunction"],$e);return!await Fe.call(this,async(...ue)=>!await $e(...ue),Ce)}async function Lt($e,Ce){for await(const ue of Et.call(this,$e,Ce))return ue}async function _e($e,Ce){if(typeof $e!="function")throw new f("fn",["Function","AsyncFunction"],$e);async function ue(At,Ne){return await $e(At,Ne),z}for await(const At of le.call(this,ue,Ce));}function Et($e,Ce){if(typeof $e!="function")throw new f("fn",["Function","AsyncFunction"],$e);async function ue(At,Ne){return await $e(At,Ne)?At:z}return le.call(this,ue,Ce)}class Cn extends d{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function vn($e,Ce,ue){var At;if(typeof $e!="function")throw new f("reducer",["Function","AsyncFunction"],$e);ue!=null&&y(ue,"options"),(ue==null?void 0:ue.signal)!=null&&g(ue.signal,"options.signal");let Ne=arguments.length>1;if(ue!=null&&(At=ue.signal)!==null&&At!==void 0&&At.aborted){const ie=new v(void 0,{cause:ue.signal.reason});throw this.once("error",()=>{}),await b(this.destroy(ie)),ie}const Oe=new u,kt=Oe.signal;if(ue!=null&&ue.signal){const ie={once:!0,[_]:this};ue.signal.addEventListener("abort",()=>Oe.abort(),ie)}let jt=!1;try{for await(const ie of this){var _n;if(jt=!0,ue!=null&&(_n=ue.signal)!==null&&_n!==void 0&&_n.aborted)throw new v;Ne?Ce=await $e(Ce,ie,{signal:kt}):(Ce=ie,Ne=!0)}if(!jt&&!Ne)throw new Cn}finally{Oe.abort()}return Ce}async function Dt($e){$e!=null&&y($e,"options"),($e==null?void 0:$e.signal)!=null&&g($e.signal,"options.signal");const Ce=[];for await(const At of this){var ue;if($e!=null&&(ue=$e.signal)!==null&&ue!==void 0&&ue.aborted)throw new v(void 0,{cause:$e.signal.reason});x(Ce,At)}return Ce}function de($e,Ce){const ue=le.call(this,$e,Ce);return async function*(){for await(const Ne of ue)yield*Ne}.call(this)}function qe($e){if($e=L($e),M($e))return 0;if($e<0)throw new h("number",">= 0",$e);return $e}function Pt($e,Ce=void 0){return Ce!=null&&y(Ce,"options"),(Ce==null?void 0:Ce.signal)!=null&&g(Ce.signal,"options.signal"),$e=qe($e),async function*(){var At;if(Ce!=null&&(At=Ce.signal)!==null&&At!==void 0&&At.aborted)throw new v;for await(const Oe of this){var Ne;if(Ce!=null&&(Ne=Ce.signal)!==null&&Ne!==void 0&&Ne.aborted)throw new v;$e--<=0&&(yield Oe)}}.call(this)}function In($e,Ce=void 0){return Ce!=null&&y(Ce,"options"),(Ce==null?void 0:Ce.signal)!=null&&g(Ce.signal,"options.signal"),$e=qe($e),async function*(){var At;if(Ce!=null&&(At=Ce.signal)!==null&&At!==void 0&&At.aborted)throw new v;for await(const Oe of this){var Ne;if(Ce!=null&&(Ne=Ce.signal)!==null&&Ne!==void 0&&Ne.aborted)throw new v;if($e-- >0)yield Oe;else return}}.call(this)}o.exports.streamReturningOperators={asIndexedPairs:Ie,drop:Pt,filter:Et,flatMap:de,map:le,take:In,compose:he},o.exports.promiseReturningOperators={every:pe,forEach:_e,reduce:vn,toArray:Dt,some:Fe,find:Lt}},{"../../ours/errors":126,"../../ours/primordials":127,"../validators":124,"./add-abort-signal":107,"./compose":109,"./end-of-stream":113,"./utils":122,"abort-controller":24}],117:[function(i,o,a){const{ObjectSetPrototypeOf:u}=i("../../ours/primordials");o.exports=f;const c=i("./transform");u(f.prototype,c.prototype),u(f,c);function f(d){if(!(this instanceof f))return new f(d);c.call(this,d)}f.prototype._transform=function(d,h,v){v(null,d)}},{"../../ours/primordials":127,"./transform":121}],118:[function(i,o,a){const u=i("process/"),{ArrayIsArray:c,Promise:f,SymbolAsyncIterator:d}=i("../../ours/primordials"),h=i("./end-of-stream"),{once:v}=i("../../ours/util"),g=i("./destroy"),p=i("./duplex"),{aggregateTwoErrors:y,codes:{ERR_INVALID_ARG_TYPE:_,ERR_INVALID_RETURN_VALUE:b,ERR_MISSING_ARGS:A,ERR_STREAM_DESTROYED:w,ERR_STREAM_PREMATURE_CLOSE:T},AbortError:S}=i("../../ours/errors"),{validateFunction:x,validateAbortSignal:O}=i("../validators"),{isIterable:L,isReadable:M,isReadableNodeStream:re,isNodeStream:F,isTransformStream:j,isWebStream:V,isReadableStream:z,isReadableEnded:$}=i("./utils"),he=globalThis.AbortController||i("abort-controller").AbortController;let le,Ie;function Fe(qe,Pt,In){let $e=!1;qe.on("close",()=>{$e=!0});const Ce=h(qe,{readable:Pt,writable:In},ue=>{$e=!ue});return{destroy:ue=>{$e||($e=!0,g.destroyer(qe,ue||new w("pipe")))},cleanup:Ce}}function pe(qe){return x(qe[qe.length-1],"streams[stream.length - 1]"),qe.pop()}function Lt(qe){if(L(qe))return qe;if(re(qe))return _e(qe);throw new _("val",["Readable","Iterable","AsyncIterable"],qe)}async function*_e(qe){Ie||(Ie=i("./readable")),yield*Ie.prototype[d].call(qe)}async function Et(qe,Pt,In,{end:$e}){let Ce,ue=null;const At=kt=>{if(kt&&(Ce=kt),ue){const jt=ue;ue=null,jt()}},Ne=()=>new f((kt,jt)=>{Ce?jt(Ce):ue=()=>{Ce?jt(Ce):kt()}});Pt.on("drain",At);const Oe=h(Pt,{readable:!1},At);try{Pt.writableNeedDrain&&await Ne();for await(const kt of qe)Pt.write(kt)||await Ne();$e&&Pt.end(),await Ne(),In()}catch(kt){In(Ce!==kt?y(Ce,kt):kt)}finally{Oe(),Pt.off("drain",At)}}async function Cn(qe,Pt,In,{end:$e}){j(Pt)&&(Pt=Pt.writable);const Ce=Pt.getWriter();try{for await(const ue of qe)await Ce.ready,Ce.write(ue).catch(()=>{});await Ce.ready,$e&&await Ce.close(),In()}catch(ue){try{await Ce.abort(ue),In(ue)}catch(At){In(At)}}}function vn(...qe){return Dt(qe,v(pe(qe)))}function Dt(qe,Pt,In){if(qe.length===1&&c(qe[0])&&(qe=qe[0]),qe.length<2)throw new A("streams");const $e=new he,Ce=$e.signal,ue=In==null?void 0:In.signal,At=[];O(ue,"options.signal");function Ne(){ae(new S)}ue==null||ue.addEventListener("abort",Ne);let Oe,kt;const jt=[];let _n=0;function ie(oe){ae(oe,--_n===0)}function ae(oe,xe){if(oe&&(!Oe||Oe.code==="ERR_STREAM_PREMATURE_CLOSE")&&(Oe=oe),!(!Oe&&!xe)){for(;jt.length;)jt.shift()(Oe);ue==null||ue.removeEventListener("abort",Ne),$e.abort(),xe&&(Oe||At.forEach(ze=>ze()),u.nextTick(Pt,Oe,kt))}}let Y;for(let oe=0;oe<qe.length;oe++){const xe=qe[oe],ze=oe<qe.length-1,hn=oe>0,An=ze||(In==null?void 0:In.end)!==!1,Tn=oe===qe.length-1;if(F(xe)){let Rn=function(Ve){Ve&&Ve.name!=="AbortError"&&Ve.code!=="ERR_STREAM_PREMATURE_CLOSE"&&ie(Ve)};if(An){const{destroy:Ve,cleanup:Ue}=Fe(xe,ze,hn);jt.push(Ve),M(xe)&&Tn&&At.push(Ue)}xe.on("error",Rn),M(xe)&&Tn&&At.push(()=>{xe.removeListener("error",Rn)})}if(oe===0)if(typeof xe=="function"){if(Y=xe({signal:Ce}),!L(Y))throw new b("Iterable, AsyncIterable or Stream","source",Y)}else L(xe)||re(xe)||j(xe)?Y=xe:Y=p.from(xe);else if(typeof xe=="function"){if(j(Y)){var k;Y=Lt((k=Y)===null||k===void 0?void 0:k.readable)}else Y=Lt(Y);if(Y=xe(Y,{signal:Ce}),ze){if(!L(Y,!0))throw new b("AsyncIterable",`transform[${oe-1}]`,Y)}else{var D;le||(le=i("./passthrough"));const Rn=new le({objectMode:!0}),Ve=(D=Y)===null||D===void 0?void 0:D.then;if(typeof Ve=="function")_n++,Ve.call(Y,Sn=>{kt=Sn,Sn!=null&&Rn.write(Sn),An&&Rn.end(),u.nextTick(ie)},Sn=>{Rn.destroy(Sn),u.nextTick(ie,Sn)});else if(L(Y,!0))_n++,Et(Y,Rn,ie,{end:An});else if(z(Y)||j(Y)){const Sn=Y.readable||Y;_n++,Et(Sn,Rn,ie,{end:An})}else throw new b("AsyncIterable or Promise","destination",Y);Y=Rn;const{destroy:Ue,cleanup:En}=Fe(Y,!1,!0);jt.push(Ue),Tn&&At.push(En)}}else if(F(xe)){if(re(Y)){_n+=2;const Rn=de(Y,xe,ie,{end:An});M(xe)&&Tn&&At.push(Rn)}else if(j(Y)||z(Y)){const Rn=Y.readable||Y;_n++,Et(Rn,xe,ie,{end:An})}else if(L(Y))_n++,Et(Y,xe,ie,{end:An});else throw new _("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],Y);Y=xe}else if(V(xe)){if(re(Y))_n++,Cn(Lt(Y),xe,ie,{end:An});else if(z(Y)||L(Y))_n++,Cn(Y,xe,ie,{end:An});else if(j(Y))_n++,Cn(Y.readable,xe,ie,{end:An});else throw new _("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],Y);Y=xe}else Y=p.from(xe)}return(Ce!=null&&Ce.aborted||ue!=null&&ue.aborted)&&u.nextTick(Ne),Y}function de(qe,Pt,In,{end:$e}){let Ce=!1;if(Pt.on("close",()=>{Ce||In(new T)}),qe.pipe(Pt,{end:!1}),$e){let ue=function(){Ce=!0,Pt.end()};$(qe)?u.nextTick(ue):qe.once("end",ue)}else In();return h(qe,{readable:!0,writable:!1},ue=>{const At=qe._readableState;ue&&ue.code==="ERR_STREAM_PREMATURE_CLOSE"&&At&&At.ended&&!At.errored&&!At.errorEmitted?qe.once("end",In).once("error",In):In(ue)}),h(Pt,{readable:!1,writable:!0},In)}o.exports={pipelineImpl:Dt,pipeline:vn}},{"../../ours/errors":126,"../../ours/primordials":127,"../../ours/util":128,"../validators":124,"./destroy":110,"./duplex":111,"./end-of-stream":113,"./passthrough":117,"./readable":119,"./utils":122,"abort-controller":24,"process/":102}],119:[function(i,o,a){const u=i("process/"),{ArrayPrototypeIndexOf:c,NumberIsInteger:f,NumberIsNaN:d,NumberParseInt:h,ObjectDefineProperties:v,ObjectKeys:g,ObjectSetPrototypeOf:p,Promise:y,SafeSet:_,SymbolAsyncIterator:b,Symbol:A}=i("../../ours/primordials");o.exports=de,de.ReadableState=Dt;const{EventEmitter:w}=i("events"),{Stream:T,prependListener:S}=i("./legacy"),{Buffer:x}=i("buffer"),{addAbortSignal:O}=i("./add-abort-signal"),L=i("./end-of-stream");let M=i("../../ours/util").debuglog("stream",Ve=>{M=Ve});const re=i("./buffer_list"),F=i("./destroy"),{getHighWaterMark:j,getDefaultHighWaterMark:V}=i("./state"),{aggregateTwoErrors:z,codes:{ERR_INVALID_ARG_TYPE:$,ERR_METHOD_NOT_IMPLEMENTED:he,ERR_OUT_OF_RANGE:le,ERR_STREAM_PUSH_AFTER_EOF:Ie,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:Fe}}=i("../../ours/errors"),{validateObject:pe}=i("../validators"),Lt=A("kPaused"),{StringDecoder:_e}=i("string_decoder"),Et=i("./from");p(de.prototype,T.prototype),p(de,T);const Cn=()=>{},{errorOrDestroy:vn}=F;function Dt(Ve,Ue,En){typeof En!="boolean"&&(En=Ue instanceof i("./duplex")),this.objectMode=!!(Ve&&Ve.objectMode),En&&(this.objectMode=this.objectMode||!!(Ve&&Ve.readableObjectMode)),this.highWaterMark=Ve?j(this,Ve,"readableHighWaterMark",En):V(!1),this.buffer=new re,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[Lt]=null,this.errorEmitted=!1,this.emitClose=!Ve||Ve.emitClose!==!1,this.autoDestroy=!Ve||Ve.autoDestroy!==!1,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=Ve&&Ve.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,Ve&&Ve.encoding&&(this.decoder=new _e(Ve.encoding),this.encoding=Ve.encoding)}function de(Ve){if(!(this instanceof de))return new de(Ve);const Ue=this instanceof i("./duplex");this._readableState=new Dt(Ve,this,Ue),Ve&&(typeof Ve.read=="function"&&(this._read=Ve.read),typeof Ve.destroy=="function"&&(this._destroy=Ve.destroy),typeof Ve.construct=="function"&&(this._construct=Ve.construct),Ve.signal&&!Ue&&O(Ve.signal,this)),T.call(this,Ve),F.construct(this,()=>{this._readableState.needReadable&&Oe(this,this._readableState)})}de.prototype.destroy=F.destroy,de.prototype._undestroy=F.undestroy,de.prototype._destroy=function(Ve,Ue){Ue(Ve)},de.prototype[w.captureRejectionSymbol]=function(Ve){this.destroy(Ve)},de.prototype.push=function(Ve,Ue){return qe(this,Ve,Ue,!1)},de.prototype.unshift=function(Ve,Ue){return qe(this,Ve,Ue,!0)};function qe(Ve,Ue,En,Sn){M("readableAddChunk",Ue);const xn=Ve._readableState;let Pn;if(xn.objectMode||(typeof Ue=="string"?(En=En||xn.defaultEncoding,xn.encoding!==En&&(Sn&&xn.encoding?Ue=x.from(Ue,En).toString(xn.encoding):(Ue=x.from(Ue,En),En=""))):Ue instanceof x?En="":T._isUint8Array(Ue)?(Ue=T._uint8ArrayToBuffer(Ue),En=""):Ue!=null&&(Pn=new $("chunk",["string","Buffer","Uint8Array"],Ue))),Pn)vn(Ve,Pn);else if(Ue===null)xn.reading=!1,ue(Ve,xn);else if(xn.objectMode||Ue&&Ue.length>0)if(Sn)if(xn.endEmitted)vn(Ve,new Fe);else{if(xn.destroyed||xn.errored)return!1;Pt(Ve,xn,Ue,!0)}else if(xn.ended)vn(Ve,new Ie);else{if(xn.destroyed||xn.errored)return!1;xn.reading=!1,xn.decoder&&!En?(Ue=xn.decoder.write(Ue),xn.objectMode||Ue.length!==0?Pt(Ve,xn,Ue,!1):Oe(Ve,xn)):Pt(Ve,xn,Ue,!1)}else Sn||(xn.reading=!1,Oe(Ve,xn));return!xn.ended&&(xn.length<xn.highWaterMark||xn.length===0)}function Pt(Ve,Ue,En,Sn){Ue.flowing&&Ue.length===0&&!Ue.sync&&Ve.listenerCount("data")>0?(Ue.multiAwaitDrain?Ue.awaitDrainWriters.clear():Ue.awaitDrainWriters=null,Ue.dataEmitted=!0,Ve.emit("data",En)):(Ue.length+=Ue.objectMode?1:En.length,Sn?Ue.buffer.unshift(En):Ue.buffer.push(En),Ue.needReadable&&At(Ve)),Oe(Ve,Ue)}de.prototype.isPaused=function(){const Ve=this._readableState;return Ve[Lt]===!0||Ve.flowing===!1},de.prototype.setEncoding=function(Ve){const Ue=new _e(Ve);this._readableState.decoder=Ue,this._readableState.encoding=this._readableState.decoder.encoding;const En=this._readableState.buffer;let Sn="";for(const xn of En)Sn+=Ue.write(xn);return En.clear(),Sn!==""&&En.push(Sn),this._readableState.length=Sn.length,this};const In=1073741824;function $e(Ve){if(Ve>In)throw new le("size","<= 1GiB",Ve);return Ve--,Ve|=Ve>>>1,Ve|=Ve>>>2,Ve|=Ve>>>4,Ve|=Ve>>>8,Ve|=Ve>>>16,Ve++,Ve}function Ce(Ve,Ue){return Ve<=0||Ue.length===0&&Ue.ended?0:Ue.objectMode?1:d(Ve)?Ue.flowing&&Ue.length?Ue.buffer.first().length:Ue.length:Ve<=Ue.length?Ve:Ue.ended?Ue.length:0}de.prototype.read=function(Ve){M("read",Ve),Ve===void 0?Ve=NaN:f(Ve)||(Ve=h(Ve,10));const Ue=this._readableState,En=Ve;if(Ve>Ue.highWaterMark&&(Ue.highWaterMark=$e(Ve)),Ve!==0&&(Ue.emittedReadable=!1),Ve===0&&Ue.needReadable&&((Ue.highWaterMark!==0?Ue.length>=Ue.highWaterMark:Ue.length>0)||Ue.ended))return M("read: emitReadable",Ue.length,Ue.ended),Ue.length===0&&Ue.ended?ze(this):At(this),null;if(Ve=Ce(Ve,Ue),Ve===0&&Ue.ended)return Ue.length===0&&ze(this),null;let Sn=Ue.needReadable;if(M("need readable",Sn),(Ue.length===0||Ue.length-Ve<Ue.highWaterMark)&&(Sn=!0,M("length less than watermark",Sn)),Ue.ended||Ue.reading||Ue.destroyed||Ue.errored||!Ue.constructed)Sn=!1,M("reading, ended or constructing",Sn);else if(Sn){M("do read"),Ue.reading=!0,Ue.sync=!0,Ue.length===0&&(Ue.needReadable=!0);try{this._read(Ue.highWaterMark)}catch(Pn){vn(this,Pn)}Ue.sync=!1,Ue.reading||(Ve=Ce(En,Ue))}let xn;return Ve>0?xn=xe(Ve,Ue):xn=null,xn===null?(Ue.needReadable=Ue.length<=Ue.highWaterMark,Ve=0):(Ue.length-=Ve,Ue.multiAwaitDrain?Ue.awaitDrainWriters.clear():Ue.awaitDrainWriters=null),Ue.length===0&&(Ue.ended||(Ue.needReadable=!0),En!==Ve&&Ue.ended&&ze(this)),xn!==null&&!Ue.errorEmitted&&!Ue.closeEmitted&&(Ue.dataEmitted=!0,this.emit("data",xn)),xn};function ue(Ve,Ue){if(M("onEofChunk"),!Ue.ended){if(Ue.decoder){const En=Ue.decoder.end();En&&En.length&&(Ue.buffer.push(En),Ue.length+=Ue.objectMode?1:En.length)}Ue.ended=!0,Ue.sync?At(Ve):(Ue.needReadable=!1,Ue.emittedReadable=!0,Ne(Ve))}}function At(Ve){const Ue=Ve._readableState;M("emitReadable",Ue.needReadable,Ue.emittedReadable),Ue.needReadable=!1,Ue.emittedReadable||(M("emitReadable",Ue.flowing),Ue.emittedReadable=!0,u.nextTick(Ne,Ve))}function Ne(Ve){const Ue=Ve._readableState;M("emitReadable_",Ue.destroyed,Ue.length,Ue.ended),!Ue.destroyed&&!Ue.errored&&(Ue.length||Ue.ended)&&(Ve.emit("readable"),Ue.emittedReadable=!1),Ue.needReadable=!Ue.flowing&&!Ue.ended&&Ue.length<=Ue.highWaterMark,k(Ve)}function Oe(Ve,Ue){!Ue.readingMore&&Ue.constructed&&(Ue.readingMore=!0,u.nextTick(kt,Ve,Ue))}function kt(Ve,Ue){for(;!Ue.reading&&!Ue.ended&&(Ue.length<Ue.highWaterMark||Ue.flowing&&Ue.length===0);){const En=Ue.length;if(M("maybeReadMore read 0"),Ve.read(0),En===Ue.length)break}Ue.readingMore=!1}de.prototype._read=function(Ve){throw new he("_read()")},de.prototype.pipe=function(Ve,Ue){const En=this,Sn=this._readableState;Sn.pipes.length===1&&(Sn.multiAwaitDrain||(Sn.multiAwaitDrain=!0,Sn.awaitDrainWriters=new _(Sn.awaitDrainWriters?[Sn.awaitDrainWriters]:[]))),Sn.pipes.push(Ve),M("pipe count=%d opts=%j",Sn.pipes.length,Ue);const Pn=(!Ue||Ue.end!==!1)&&Ve!==u.stdout&&Ve!==u.stderr?$n:Vn;Sn.endEmitted?u.nextTick(Pn):En.once("end",Pn),Ve.on("unpipe",kn);function kn(Nn,Dn){M("onunpipe"),Nn===En&&Dn&&Dn.hasUnpiped===!1&&(Dn.hasUnpiped=!0,wn())}function $n(){M("onend"),Ve.end()}let Wn,bn=!1;function wn(){M("cleanup"),Ve.removeListener("close",On),Ve.removeListener("finish",Gn),Wn&&Ve.removeListener("drain",Wn),Ve.removeListener("error",Mn),Ve.removeListener("unpipe",kn),En.removeListener("end",$n),En.removeListener("end",Vn),En.removeListener("data",Bn),bn=!0,Wn&&Sn.awaitDrainWriters&&(!Ve._writableState||Ve._writableState.needDrain)&&Wn()}function Ln(){bn||(Sn.pipes.length===1&&Sn.pipes[0]===Ve?(M("false write response, pause",0),Sn.awaitDrainWriters=Ve,Sn.multiAwaitDrain=!1):Sn.pipes.length>1&&Sn.pipes.includes(Ve)&&(M("false write response, pause",Sn.awaitDrainWriters.size),Sn.awaitDrainWriters.add(Ve)),En.pause()),Wn||(Wn=jt(En,Ve),Ve.on("drain",Wn))}En.on("data",Bn);function Bn(Nn){M("ondata");const Dn=Ve.write(Nn);M("dest.write",Dn),Dn===!1&&Ln()}function Mn(Nn){if(M("onerror",Nn),Vn(),Ve.removeListener("error",Mn),Ve.listenerCount("error")===0){const Dn=Ve._writableState||Ve._readableState;Dn&&!Dn.errorEmitted?vn(Ve,Nn):Ve.emit("error",Nn)}}S(Ve,"error",Mn);function On(){Ve.removeListener("finish",Gn),Vn()}Ve.once("close",On);function Gn(){M("onfinish"),Ve.removeListener("close",On),Vn()}Ve.once("finish",Gn);function Vn(){M("unpipe"),En.unpipe(Ve)}return Ve.emit("pipe",En),Ve.writableNeedDrain===!0?Sn.flowing&&Ln():Sn.flowing||(M("pipe resume"),En.resume()),Ve};function jt(Ve,Ue){return function(){const Sn=Ve._readableState;Sn.awaitDrainWriters===Ue?(M("pipeOnDrain",1),Sn.awaitDrainWriters=null):Sn.multiAwaitDrain&&(M("pipeOnDrain",Sn.awaitDrainWriters.size),Sn.awaitDrainWriters.delete(Ue)),(!Sn.awaitDrainWriters||Sn.awaitDrainWriters.size===0)&&Ve.listenerCount("data")&&Ve.resume()}}de.prototype.unpipe=function(Ve){const Ue=this._readableState,En={hasUnpiped:!1};if(Ue.pipes.length===0)return this;if(!Ve){const xn=Ue.pipes;Ue.pipes=[],this.pause();for(let Pn=0;Pn<xn.length;Pn++)xn[Pn].emit("unpipe",this,{hasUnpiped:!1});return this}const Sn=c(Ue.pipes,Ve);return Sn===-1?this:(Ue.pipes.splice(Sn,1),Ue.pipes.length===0&&this.pause(),Ve.emit("unpipe",this,En),this)},de.prototype.on=function(Ve,Ue){const En=T.prototype.on.call(this,Ve,Ue),Sn=this._readableState;return Ve==="data"?(Sn.readableListening=this.listenerCount("readable")>0,Sn.flowing!==!1&&this.resume()):Ve==="readable"&&!Sn.endEmitted&&!Sn.readableListening&&(Sn.readableListening=Sn.needReadable=!0,Sn.flowing=!1,Sn.emittedReadable=!1,M("on readable",Sn.length,Sn.reading),Sn.length?At(this):Sn.reading||u.nextTick(ie,this)),En},de.prototype.addListener=de.prototype.on,de.prototype.removeListener=function(Ve,Ue){const En=T.prototype.removeListener.call(this,Ve,Ue);return Ve==="readable"&&u.nextTick(_n,this),En},de.prototype.off=de.prototype.removeListener,de.prototype.removeAllListeners=function(Ve){const Ue=T.prototype.removeAllListeners.apply(this,arguments);return(Ve==="readable"||Ve===void 0)&&u.nextTick(_n,this),Ue};function _n(Ve){const Ue=Ve._readableState;Ue.readableListening=Ve.listenerCount("readable")>0,Ue.resumeScheduled&&Ue[Lt]===!1?Ue.flowing=!0:Ve.listenerCount("data")>0?Ve.resume():Ue.readableListening||(Ue.flowing=null)}function ie(Ve){M("readable nexttick read 0"),Ve.read(0)}de.prototype.resume=function(){const Ve=this._readableState;return Ve.flowing||(M("resume"),Ve.flowing=!Ve.readableListening,ae(this,Ve)),Ve[Lt]=!1,this};function ae(Ve,Ue){Ue.resumeScheduled||(Ue.resumeScheduled=!0,u.nextTick(Y,Ve,Ue))}function Y(Ve,Ue){M("resume",Ue.reading),Ue.reading||Ve.read(0),Ue.resumeScheduled=!1,Ve.emit("resume"),k(Ve),Ue.flowing&&!Ue.reading&&Ve.read(0)}de.prototype.pause=function(){return M("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(M("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[Lt]=!0,this};function k(Ve){const Ue=Ve._readableState;for(M("flow",Ue.flowing);Ue.flowing&&Ve.read()!==null;);}de.prototype.wrap=function(Ve){let Ue=!1;Ve.on("data",Sn=>{!this.push(Sn)&&Ve.pause&&(Ue=!0,Ve.pause())}),Ve.on("end",()=>{this.push(null)}),Ve.on("error",Sn=>{vn(this,Sn)}),Ve.on("close",()=>{this.destroy()}),Ve.on("destroy",()=>{this.destroy()}),this._read=()=>{Ue&&Ve.resume&&(Ue=!1,Ve.resume())};const En=g(Ve);for(let Sn=1;Sn<En.length;Sn++){const xn=En[Sn];this[xn]===void 0&&typeof Ve[xn]=="function"&&(this[xn]=Ve[xn].bind(Ve))}return this},de.prototype[b]=function(){return D(this)},de.prototype.iterator=function(Ve){return Ve!==void 0&&pe(Ve,"options"),D(this,Ve)};function D(Ve,Ue){typeof Ve.read!="function"&&(Ve=de.wrap(Ve,{objectMode:!0}));const En=oe(Ve,Ue);return En.stream=Ve,En}async function*oe(Ve,Ue){let En=Cn;function Sn(kn){this===Ve?(En(),En=Cn):En=kn}Ve.on("readable",Sn);let xn;const Pn=L(Ve,{writable:!1},kn=>{xn=kn?z(xn,kn):null,En(),En=Cn});try{for(;;){const kn=Ve.destroyed?null:Ve.read();if(kn!==null)yield kn;else{if(xn)throw xn;if(xn===null)return;await new y(Sn)}}}catch(kn){throw xn=z(xn,kn),xn}finally{(xn||(Ue==null?void 0:Ue.destroyOnReturn)!==!1)&&(xn===void 0||Ve._readableState.autoDestroy)?F.destroyer(Ve,null):(Ve.off("readable",Sn),Pn())}}v(de.prototype,{readable:{__proto__:null,get(){const Ve=this._readableState;return!!Ve&&Ve.readable!==!1&&!Ve.destroyed&&!Ve.errorEmitted&&!Ve.endEmitted},set(Ve){this._readableState&&(this._readableState.readable=!!Ve)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(Ve){this._readableState&&(this._readableState.flowing=Ve)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(Ve){this._readableState&&(this._readableState.destroyed=Ve)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),v(Dt.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[Lt]!==!1},set(Ve){this[Lt]=!!Ve}}}),de._fromList=xe;function xe(Ve,Ue){if(Ue.length===0)return null;let En;return Ue.objectMode?En=Ue.buffer.shift():!Ve||Ve>=Ue.length?(Ue.decoder?En=Ue.buffer.join(""):Ue.buffer.length===1?En=Ue.buffer.first():En=Ue.buffer.concat(Ue.length),Ue.buffer.clear()):En=Ue.buffer.consume(Ve,Ue.decoder),En}function ze(Ve){const Ue=Ve._readableState;M("endReadable",Ue.endEmitted),Ue.endEmitted||(Ue.ended=!0,u.nextTick(hn,Ue,Ve))}function hn(Ve,Ue){if(M("endReadableNT",Ve.endEmitted,Ve.length),!Ve.errored&&!Ve.closeEmitted&&!Ve.endEmitted&&Ve.length===0){if(Ve.endEmitted=!0,Ue.emit("end"),Ue.writable&&Ue.allowHalfOpen===!1)u.nextTick(An,Ue);else if(Ve.autoDestroy){const En=Ue._writableState;(!En||En.autoDestroy&&(En.finished||En.writable===!1))&&Ue.destroy()}}}function An(Ve){Ve.writable&&!Ve.writableEnded&&!Ve.destroyed&&Ve.end()}de.from=function(Ve,Ue){return Et(de,Ve,Ue)};let Tn;function Rn(){return Tn===void 0&&(Tn={}),Tn}de.fromWeb=function(Ve,Ue){return Rn().newStreamReadableFromReadableStream(Ve,Ue)},de.toWeb=function(Ve,Ue){return Rn().newReadableStreamFromStreamReadable(Ve,Ue)},de.wrap=function(Ve,Ue){var En,Sn;return new de({objectMode:(En=(Sn=Ve.readableObjectMode)!==null&&Sn!==void 0?Sn:Ve.objectMode)!==null&&En!==void 0?En:!0,...Ue,destroy(xn,Pn){F.destroyer(Ve,xn),Pn(xn)}}).wrap(Ve)}},{"../../ours/errors":126,"../../ours/primordials":127,"../../ours/util":128,"../validators":124,"./add-abort-signal":107,"./buffer_list":108,"./destroy":110,"./duplex":111,"./end-of-stream":113,"./from":114,"./legacy":115,"./state":120,buffer:29,events:49,"process/":102,string_decoder:28}],120:[function(i,o,a){const{MathFloor:u,NumberIsInteger:c}=i("../../ours/primordials"),{ERR_INVALID_ARG_VALUE:f}=i("../../ours/errors").codes;function d(g,p,y){return g.highWaterMark!=null?g.highWaterMark:p?g[y]:null}function h(g){return g?16:16*1024}function v(g,p,y,_){const b=d(p,_,y);if(b!=null){if(!c(b)||b<0){const A=_?`options.${y}`:"options.highWaterMark";throw new f(A,b)}return u(b)}return h(g.objectMode)}o.exports={getHighWaterMark:v,getDefaultHighWaterMark:h}},{"../../ours/errors":126,"../../ours/primordials":127}],121:[function(i,o,a){const{ObjectSetPrototypeOf:u,Symbol:c}=i("../../ours/primordials");o.exports=g;const{ERR_METHOD_NOT_IMPLEMENTED:f}=i("../../ours/errors").codes,d=i("./duplex"),{getHighWaterMark:h}=i("./state");u(g.prototype,d.prototype),u(g,d);const v=c("kCallback");function g(_){if(!(this instanceof g))return new g(_);const b=_?h(this,_,"readableHighWaterMark",!0):null;b===0&&(_={..._,highWaterMark:null,readableHighWaterMark:b,writableHighWaterMark:_.writableHighWaterMark||0}),d.call(this,_),this._readableState.sync=!1,this[v]=null,_&&(typeof _.transform=="function"&&(this._transform=_.transform),typeof _.flush=="function"&&(this._flush=_.flush)),this.on("prefinish",y)}function p(_){typeof this._flush=="function"&&!this.destroyed?this._flush((b,A)=>{if(b){_?_(b):this.destroy(b);return}A!=null&&this.push(A),this.push(null),_&&_()}):(this.push(null),_&&_())}function y(){this._final!==p&&p.call(this)}g.prototype._final=p,g.prototype._transform=function(_,b,A){throw new f("_transform()")},g.prototype._write=function(_,b,A){const w=this._readableState,T=this._writableState,S=w.length;this._transform(_,b,(x,O)=>{if(x){A(x);return}O!=null&&this.push(O),T.ended||S===w.length||w.length<w.highWaterMark?A():this[v]=A})},g.prototype._read=function(){if(this[v]){const _=this[v];this[v]=null,_()}}},{"../../ours/errors":126,"../../ours/primordials":127,"./duplex":111,"./state":120}],122:[function(i,o,a){const{Symbol:u,SymbolAsyncIterator:c,SymbolIterator:f,SymbolFor:d}=i("../../ours/primordials"),h=u("kDestroyed"),v=u("kIsErrored"),g=u("kIsReadable"),p=u("kIsDisturbed"),y=d("nodejs.webstream.isClosedPromise"),_=d("nodejs.webstream.controllerErrorFunction");function b(de,qe=!1){var Pt;return!!(de&&typeof de.pipe=="function"&&typeof de.on=="function"&&(!qe||typeof de.pause=="function"&&typeof de.resume=="function")&&(!de._writableState||((Pt=de._readableState)===null||Pt===void 0?void 0:Pt.readable)!==!1)&&(!de._writableState||de._readableState))}function A(de){var qe;return!!(de&&typeof de.write=="function"&&typeof de.on=="function"&&(!de._readableState||((qe=de._writableState)===null||qe===void 0?void 0:qe.writable)!==!1))}function w(de){return!!(de&&typeof de.pipe=="function"&&de._readableState&&typeof de.on=="function"&&typeof de.write=="function")}function T(de){return de&&(de._readableState||de._writableState||typeof de.write=="function"&&typeof de.on=="function"||typeof de.pipe=="function"&&typeof de.on=="function")}function S(de){return!!(de&&!T(de)&&typeof de.pipeThrough=="function"&&typeof de.getReader=="function"&&typeof de.cancel=="function")}function x(de){return!!(de&&!T(de)&&typeof de.getWriter=="function"&&typeof de.abort=="function")}function O(de){return!!(de&&!T(de)&&typeof de.readable=="object"&&typeof de.writable=="object")}function L(de){return S(de)||x(de)||O(de)}function M(de,qe){return de==null?!1:qe===!0?typeof de[c]=="function":qe===!1?typeof de[f]=="function":typeof de[c]=="function"||typeof de[f]=="function"}function re(de){if(!T(de))return null;const qe=de._writableState,Pt=de._readableState,In=qe||Pt;return!!(de.destroyed||de[h]||In!=null&&In.destroyed)}function F(de){if(!A(de))return null;if(de.writableEnded===!0)return!0;const qe=de._writableState;return qe!=null&&qe.errored?!1:typeof(qe==null?void 0:qe.ended)!="boolean"?null:qe.ended}function j(de,qe){if(!A(de))return null;if(de.writableFinished===!0)return!0;const Pt=de._writableState;return Pt!=null&&Pt.errored?!1:typeof(Pt==null?void 0:Pt.finished)!="boolean"?null:!!(Pt.finished||qe===!1&&Pt.ended===!0&&Pt.length===0)}function V(de){if(!b(de))return null;if(de.readableEnded===!0)return!0;const qe=de._readableState;return!qe||qe.errored?!1:typeof(qe==null?void 0:qe.ended)!="boolean"?null:qe.ended}function z(de,qe){if(!b(de))return null;const Pt=de._readableState;return Pt!=null&&Pt.errored?!1:typeof(Pt==null?void 0:Pt.endEmitted)!="boolean"?null:!!(Pt.endEmitted||qe===!1&&Pt.ended===!0&&Pt.length===0)}function $(de){return de&&de[g]!=null?de[g]:typeof(de==null?void 0:de.readable)!="boolean"?null:re(de)?!1:b(de)&&de.readable&&!z(de)}function he(de){return typeof(de==null?void 0:de.writable)!="boolean"?null:re(de)?!1:A(de)&&de.writable&&!F(de)}function le(de,qe){return T(de)?re(de)?!0:!((qe==null?void 0:qe.readable)!==!1&&$(de)||(qe==null?void 0:qe.writable)!==!1&&he(de)):null}function Ie(de){var qe,Pt;return T(de)?de.writableErrored?de.writableErrored:(qe=(Pt=de._writableState)===null||Pt===void 0?void 0:Pt.errored)!==null&&qe!==void 0?qe:null:null}function Fe(de){var qe,Pt;return T(de)?de.readableErrored?de.readableErrored:(qe=(Pt=de._readableState)===null||Pt===void 0?void 0:Pt.errored)!==null&&qe!==void 0?qe:null:null}function pe(de){if(!T(de))return null;if(typeof de.closed=="boolean")return de.closed;const qe=de._writableState,Pt=de._readableState;return typeof(qe==null?void 0:qe.closed)=="boolean"||typeof(Pt==null?void 0:Pt.closed)=="boolean"?(qe==null?void 0:qe.closed)||(Pt==null?void 0:Pt.closed):typeof de._closed=="boolean"&&Lt(de)?de._closed:null}function Lt(de){return typeof de._closed=="boolean"&&typeof de._defaultKeepAlive=="boolean"&&typeof de._removedConnection=="boolean"&&typeof de._removedContLen=="boolean"}function _e(de){return typeof de._sent100=="boolean"&&Lt(de)}function Et(de){var qe;return typeof de._consuming=="boolean"&&typeof de._dumped=="boolean"&&((qe=de.req)===null||qe===void 0?void 0:qe.upgradeOrConnect)===void 0}function Cn(de){if(!T(de))return null;const qe=de._writableState,Pt=de._readableState,In=qe||Pt;return!In&&_e(de)||!!(In&&In.autoDestroy&&In.emitClose&&In.closed===!1)}function vn(de){var qe;return!!(de&&((qe=de[p])!==null&&qe!==void 0?qe:de.readableDidRead||de.readableAborted))}function Dt(de){var qe,Pt,In,$e,Ce,ue,At,Ne,Oe,kt;return!!(de&&((qe=(Pt=(In=($e=(Ce=(ue=de[v])!==null&&ue!==void 0?ue:de.readableErrored)!==null&&Ce!==void 0?Ce:de.writableErrored)!==null&&$e!==void 0?$e:(At=de._readableState)===null||At===void 0?void 0:At.errorEmitted)!==null&&In!==void 0?In:(Ne=de._writableState)===null||Ne===void 0?void 0:Ne.errorEmitted)!==null&&Pt!==void 0?Pt:(Oe=de._readableState)===null||Oe===void 0?void 0:Oe.errored)!==null&&qe!==void 0?qe:!((kt=de._writableState)===null||kt===void 0)&&kt.errored))}o.exports={kDestroyed:h,isDisturbed:vn,kIsDisturbed:p,isErrored:Dt,kIsErrored:v,isReadable:$,kIsReadable:g,kIsClosedPromise:y,kControllerErrorFunction:_,isClosed:pe,isDestroyed:re,isDuplexNodeStream:w,isFinished:le,isIterable:M,isReadableNodeStream:b,isReadableStream:S,isReadableEnded:V,isReadableFinished:z,isReadableErrored:Fe,isNodeStream:T,isWebStream:L,isWritable:he,isWritableNodeStream:A,isWritableStream:x,isWritableEnded:F,isWritableFinished:j,isWritableErrored:Ie,isServerRequest:Et,isServerResponse:_e,willEmitClose:Cn,isTransformStream:O}},{"../../ours/primordials":127}],123:[function(i,o,a){const u=i("process/"),{ArrayPrototypeSlice:c,Error:f,FunctionPrototypeSymbolHasInstance:d,ObjectDefineProperty:h,ObjectDefineProperties:v,ObjectSetPrototypeOf:g,StringPrototypeToLowerCase:p,Symbol:y,SymbolHasInstance:_}=i("../../ours/primordials");o.exports=_e,_e.WritableState=pe;const{EventEmitter:b}=i("events"),A=i("./legacy").Stream,{Buffer:w}=i("buffer"),T=i("./destroy"),{addAbortSignal:S}=i("./add-abort-signal"),{getHighWaterMark:x,getDefaultHighWaterMark:O}=i("./state"),{ERR_INVALID_ARG_TYPE:L,ERR_METHOD_NOT_IMPLEMENTED:M,ERR_MULTIPLE_CALLBACK:re,ERR_STREAM_CANNOT_PIPE:F,ERR_STREAM_DESTROYED:j,ERR_STREAM_ALREADY_FINISHED:V,ERR_STREAM_NULL_VALUES:z,ERR_STREAM_WRITE_AFTER_END:$,ERR_UNKNOWN_ENCODING:he}=i("../../ours/errors").codes,{errorOrDestroy:le}=T;g(_e.prototype,A.prototype),g(_e,A);function Ie(){}const Fe=y("kOnFinished");function pe(ie,ae,Y){typeof Y!="boolean"&&(Y=ae instanceof i("./duplex")),this.objectMode=!!(ie&&ie.objectMode),Y&&(this.objectMode=this.objectMode||!!(ie&&ie.writableObjectMode)),this.highWaterMark=ie?x(this,ie,"writableHighWaterMark",Y):O(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const k=!!(ie&&ie.decodeStrings===!1);this.decodeStrings=!k,this.defaultEncoding=ie&&ie.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=de.bind(void 0,ae),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,Lt(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!ie||ie.emitClose!==!1,this.autoDestroy=!ie||ie.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[Fe]=[]}function Lt(ie){ie.buffered=[],ie.bufferedIndex=0,ie.allBuffers=!0,ie.allNoop=!0}pe.prototype.getBuffer=function(){return c(this.buffered,this.bufferedIndex)},h(pe.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function _e(ie){const ae=this instanceof i("./duplex");if(!ae&&!d(_e,this))return new _e(ie);this._writableState=new pe(ie,this,ae),ie&&(typeof ie.write=="function"&&(this._write=ie.write),typeof ie.writev=="function"&&(this._writev=ie.writev),typeof ie.destroy=="function"&&(this._destroy=ie.destroy),typeof ie.final=="function"&&(this._final=ie.final),typeof ie.construct=="function"&&(this._construct=ie.construct),ie.signal&&S(ie.signal,this)),A.call(this,ie),T.construct(this,()=>{const Y=this._writableState;Y.writing||$e(this,Y),Ne(this,Y)})}h(_e,_,{__proto__:null,value:function(ie){return d(this,ie)?!0:this!==_e?!1:ie&&ie._writableState instanceof pe}}),_e.prototype.pipe=function(){le(this,new F)};function Et(ie,ae,Y,k){const D=ie._writableState;if(typeof Y=="function")k=Y,Y=D.defaultEncoding;else{if(!Y)Y=D.defaultEncoding;else if(Y!=="buffer"&&!w.isEncoding(Y))throw new he(Y);typeof k!="function"&&(k=Ie)}if(ae===null)throw new z;if(!D.objectMode)if(typeof ae=="string")D.decodeStrings!==!1&&(ae=w.from(ae,Y),Y="buffer");else if(ae instanceof w)Y="buffer";else if(A._isUint8Array(ae))ae=A._uint8ArrayToBuffer(ae),Y="buffer";else throw new L("chunk",["string","Buffer","Uint8Array"],ae);let oe;return D.ending?oe=new $:D.destroyed&&(oe=new j("write")),oe?(u.nextTick(k,oe),le(ie,oe,!0),oe):(D.pendingcb++,Cn(ie,D,ae,Y,k))}_e.prototype.write=function(ie,ae,Y){return Et(this,ie,ae,Y)===!0},_e.prototype.cork=function(){this._writableState.corked++},_e.prototype.uncork=function(){const ie=this._writableState;ie.corked&&(ie.corked--,ie.writing||$e(this,ie))},_e.prototype.setDefaultEncoding=function(ae){if(typeof ae=="string"&&(ae=p(ae)),!w.isEncoding(ae))throw new he(ae);return this._writableState.defaultEncoding=ae,this};function Cn(ie,ae,Y,k,D){const oe=ae.objectMode?1:Y.length;ae.length+=oe;const xe=ae.length<ae.highWaterMark;return xe||(ae.needDrain=!0),ae.writing||ae.corked||ae.errored||!ae.constructed?(ae.buffered.push({chunk:Y,encoding:k,callback:D}),ae.allBuffers&&k!=="buffer"&&(ae.allBuffers=!1),ae.allNoop&&D!==Ie&&(ae.allNoop=!1)):(ae.writelen=oe,ae.writecb=D,ae.writing=!0,ae.sync=!0,ie._write(Y,k,ae.onwrite),ae.sync=!1),xe&&!ae.errored&&!ae.destroyed}function vn(ie,ae,Y,k,D,oe,xe){ae.writelen=k,ae.writecb=xe,ae.writing=!0,ae.sync=!0,ae.destroyed?ae.onwrite(new j("write")):Y?ie._writev(D,ae.onwrite):ie._write(D,oe,ae.onwrite),ae.sync=!1}function Dt(ie,ae,Y,k){--ae.pendingcb,k(Y),In(ae),le(ie,Y)}function de(ie,ae){const Y=ie._writableState,k=Y.sync,D=Y.writecb;if(typeof D!="function"){le(ie,new re);return}Y.writing=!1,Y.writecb=null,Y.length-=Y.writelen,Y.writelen=0,ae?(ae.stack,Y.errored||(Y.errored=ae),ie._readableState&&!ie._readableState.errored&&(ie._readableState.errored=ae),k?u.nextTick(Dt,ie,Y,ae,D):Dt(ie,Y,ae,D)):(Y.buffered.length>Y.bufferedIndex&&$e(ie,Y),k?Y.afterWriteTickInfo!==null&&Y.afterWriteTickInfo.cb===D?Y.afterWriteTickInfo.count++:(Y.afterWriteTickInfo={count:1,cb:D,stream:ie,state:Y},u.nextTick(qe,Y.afterWriteTickInfo)):Pt(ie,Y,1,D))}function qe({stream:ie,state:ae,count:Y,cb:k}){return ae.afterWriteTickInfo=null,Pt(ie,ae,Y,k)}function Pt(ie,ae,Y,k){for(!ae.ending&&!ie.destroyed&&ae.length===0&&ae.needDrain&&(ae.needDrain=!1,ie.emit("drain"));Y-- >0;)ae.pendingcb--,k();ae.destroyed&&In(ae),Ne(ie,ae)}function In(ie){if(ie.writing)return;for(let D=ie.bufferedIndex;D<ie.buffered.length;++D){var ae;const{chunk:oe,callback:xe}=ie.buffered[D],ze=ie.objectMode?1:oe.length;ie.length-=ze,xe((ae=ie.errored)!==null&&ae!==void 0?ae:new j("write"))}const Y=ie[Fe].splice(0);for(let D=0;D<Y.length;D++){var k;Y[D]((k=ie.errored)!==null&&k!==void 0?k:new j("end"))}Lt(ie)}function $e(ie,ae){if(ae.corked||ae.bufferProcessing||ae.destroyed||!ae.constructed)return;const{buffered:Y,bufferedIndex:k,objectMode:D}=ae,oe=Y.length-k;if(!oe)return;let xe=k;if(ae.bufferProcessing=!0,oe>1&&ie._writev){ae.pendingcb-=oe-1;const ze=ae.allNoop?Ie:An=>{for(let Tn=xe;Tn<Y.length;++Tn)Y[Tn].callback(An)},hn=ae.allNoop&&xe===0?Y:c(Y,xe);hn.allBuffers=ae.allBuffers,vn(ie,ae,!0,ae.length,hn,"",ze),Lt(ae)}else{do{const{chunk:ze,encoding:hn,callback:An}=Y[xe];Y[xe++]=null;const Tn=D?1:ze.length;vn(ie,ae,!1,Tn,ze,hn,An)}while(xe<Y.length&&!ae.writing);xe===Y.length?Lt(ae):xe>256?(Y.splice(0,xe),ae.bufferedIndex=0):ae.bufferedIndex=xe}ae.bufferProcessing=!1}_e.prototype._write=function(ie,ae,Y){if(this._writev)this._writev([{chunk:ie,encoding:ae}],Y);else throw new M("_write()")},_e.prototype._writev=null,_e.prototype.end=function(ie,ae,Y){const k=this._writableState;typeof ie=="function"?(Y=ie,ie=null,ae=null):typeof ae=="function"&&(Y=ae,ae=null);let D;if(ie!=null){const oe=Et(this,ie,ae);oe instanceof f&&(D=oe)}return k.corked&&(k.corked=1,this.uncork()),D||(!k.errored&&!k.ending?(k.ending=!0,Ne(this,k,!0),k.ended=!0):k.finished?D=new V("end"):k.destroyed&&(D=new j("end"))),typeof Y=="function"&&(D||k.finished?u.nextTick(Y,D):k[Fe].push(Y)),this};function Ce(ie){return ie.ending&&!ie.destroyed&&ie.constructed&&ie.length===0&&!ie.errored&&ie.buffered.length===0&&!ie.finished&&!ie.writing&&!ie.errorEmitted&&!ie.closeEmitted}function ue(ie,ae){let Y=!1;function k(D){if(Y){le(ie,D??re());return}if(Y=!0,ae.pendingcb--,D){const oe=ae[Fe].splice(0);for(let xe=0;xe<oe.length;xe++)oe[xe](D);le(ie,D,ae.sync)}else Ce(ae)&&(ae.prefinished=!0,ie.emit("prefinish"),ae.pendingcb++,u.nextTick(Oe,ie,ae))}ae.sync=!0,ae.pendingcb++;try{ie._final(k)}catch(D){k(D)}ae.sync=!1}function At(ie,ae){!ae.prefinished&&!ae.finalCalled&&(typeof ie._final=="function"&&!ae.destroyed?(ae.finalCalled=!0,ue(ie,ae)):(ae.prefinished=!0,ie.emit("prefinish")))}function Ne(ie,ae,Y){Ce(ae)&&(At(ie,ae),ae.pendingcb===0&&(Y?(ae.pendingcb++,u.nextTick((k,D)=>{Ce(D)?Oe(k,D):D.pendingcb--},ie,ae)):Ce(ae)&&(ae.pendingcb++,Oe(ie,ae))))}function Oe(ie,ae){ae.pendingcb--,ae.finished=!0;const Y=ae[Fe].splice(0);for(let k=0;k<Y.length;k++)Y[k]();if(ie.emit("finish"),ae.autoDestroy){const k=ie._readableState;(!k||k.autoDestroy&&(k.endEmitted||k.readable===!1))&&ie.destroy()}}v(_e.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(ie){this._writableState&&(this._writableState.destroyed=ie)}},writable:{__proto__:null,get(){const ie=this._writableState;return!!ie&&ie.writable!==!1&&!ie.destroyed&&!ie.errored&&!ie.ending&&!ie.ended},set(ie){this._writableState&&(this._writableState.writable=!!ie)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const ie=this._writableState;return ie?!ie.destroyed&&!ie.ending&&ie.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});const kt=T.destroy;_e.prototype.destroy=function(ie,ae){const Y=this._writableState;return!Y.destroyed&&(Y.bufferedIndex<Y.buffered.length||Y[Fe].length)&&u.nextTick(In,Y),kt.call(this,ie,ae),this},_e.prototype._undestroy=T.undestroy,_e.prototype._destroy=function(ie,ae){ae(ie)},_e.prototype[b.captureRejectionSymbol]=function(ie){this.destroy(ie)};let jt;function _n(){return jt===void 0&&(jt={}),jt}_e.fromWeb=function(ie,ae){return _n().newStreamWritableFromWritableStream(ie,ae)},_e.toWeb=function(ie){return _n().newWritableStreamFromStreamWritable(ie)}},{"../../ours/errors":126,"../../ours/primordials":127,"./add-abort-signal":107,"./destroy":110,"./duplex":111,"./legacy":115,"./state":120,buffer:29,events:49,"process/":102}],124:[function(i,o,a){const{ArrayIsArray:u,ArrayPrototypeIncludes:c,ArrayPrototypeJoin:f,ArrayPrototypeMap:d,NumberIsInteger:h,NumberIsNaN:v,NumberMAX_SAFE_INTEGER:g,NumberMIN_SAFE_INTEGER:p,NumberParseInt:y,ObjectPrototypeHasOwnProperty:_,RegExpPrototypeExec:b,String:A,StringPrototypeToUpperCase:w,StringPrototypeTrim:T}=i("../ours/primordials"),{hideStackFrames:S,codes:{ERR_SOCKET_BAD_PORT:x,ERR_INVALID_ARG_TYPE:O,ERR_INVALID_ARG_VALUE:L,ERR_OUT_OF_RANGE:M,ERR_UNKNOWN_SIGNAL:re}}=i("../ours/errors"),{normalizeEncoding:F}=i("../ours/util"),{isAsyncFunction:j,isArrayBufferView:V}=i("../ours/util").types,z={};function $(oe){return oe===(oe|0)}function he(oe){return oe===oe>>>0}const le=/^[0-7]+$/,Ie="must be a 32-bit unsigned integer or an octal string";function Fe(oe,xe,ze){if(typeof oe>"u"&&(oe=ze),typeof oe=="string"){if(b(le,oe)===null)throw new L(xe,oe,Ie);oe=y(oe,8)}return _e(oe,xe),oe}const pe=S((oe,xe,ze=p,hn=g)=>{if(typeof oe!="number")throw new O(xe,"number",oe);if(!h(oe))throw new M(xe,"an integer",oe);if(oe<ze||oe>hn)throw new M(xe,`>= ${ze} && <= ${hn}`,oe)}),Lt=S((oe,xe,ze=-2147483648,hn=2147483647)=>{if(typeof oe!="number")throw new O(xe,"number",oe);if(!h(oe))throw new M(xe,"an integer",oe);if(oe<ze||oe>hn)throw new M(xe,`>= ${ze} && <= ${hn}`,oe)}),_e=S((oe,xe,ze=!1)=>{if(typeof oe!="number")throw new O(xe,"number",oe);if(!h(oe))throw new M(xe,"an integer",oe);const hn=ze?1:0,An=4294967295;if(oe<hn||oe>An)throw new M(xe,`>= ${hn} && <= ${An}`,oe)});function Et(oe,xe){if(typeof oe!="string")throw new O(xe,"string",oe)}function Cn(oe,xe,ze=void 0,hn){if(typeof oe!="number")throw new O(xe,"number",oe);if(ze!=null&&oe<ze||hn!=null&&oe>hn||(ze!=null||hn!=null)&&v(oe))throw new M(xe,`${ze!=null?`>= ${ze}`:""}${ze!=null&&hn!=null?" && ":""}${hn!=null?`<= ${hn}`:""}`,oe)}const vn=S((oe,xe,ze)=>{if(!c(ze,oe)){const An="must be one of: "+f(d(ze,Tn=>typeof Tn=="string"?`'${Tn}'`:A(Tn)),", ");throw new L(xe,oe,An)}});function Dt(oe,xe){if(typeof oe!="boolean")throw new O(xe,"boolean",oe)}function de(oe,xe,ze){return oe==null||!_(oe,xe)?ze:oe[xe]}const qe=S((oe,xe,ze=null)=>{const hn=de(ze,"allowArray",!1),An=de(ze,"allowFunction",!1);if(!de(ze,"nullable",!1)&&oe===null||!hn&&u(oe)||typeof oe!="object"&&(!An||typeof oe!="function"))throw new O(xe,"Object",oe)}),Pt=S((oe,xe)=>{if(oe!=null&&typeof oe!="object"&&typeof oe!="function")throw new O(xe,"a dictionary",oe)}),In=S((oe,xe,ze=0)=>{if(!u(oe))throw new O(xe,"Array",oe);if(oe.length<ze){const hn=`must be longer than ${ze}`;throw new L(xe,oe,hn)}});function $e(oe,xe){In(oe,xe);for(let ze=0;ze<oe.length;ze++)Et(oe[ze],`${xe}[${ze}]`)}function Ce(oe,xe){In(oe,xe);for(let ze=0;ze<oe.length;ze++)Dt(oe[ze],`${xe}[${ze}]`)}function ue(oe,xe="signal"){if(Et(oe,xe),z[oe]===void 0)throw z[w(oe)]!==void 0?new re(oe+" (signals must use all capital letters)"):new re(oe)}const At=S((oe,xe="buffer")=>{if(!V(oe))throw new O(xe,["Buffer","TypedArray","DataView"],oe)});function Ne(oe,xe){const ze=F(xe),hn=oe.length;if(ze==="hex"&&hn%2!==0)throw new L("encoding",xe,`is invalid for data of length ${hn}`)}function Oe(oe,xe="Port",ze=!0){if(typeof oe!="number"&&typeof oe!="string"||typeof oe=="string"&&T(oe).length===0||+oe!==+oe>>>0||oe>65535||oe===0&&!ze)throw new x(xe,oe,ze);return oe|0}const kt=S((oe,xe)=>{if(oe!==void 0&&(oe===null||typeof oe!="object"||!("aborted"in oe)))throw new O(xe,"AbortSignal",oe)}),jt=S((oe,xe)=>{if(typeof oe!="function")throw new O(xe,"Function",oe)}),_n=S((oe,xe)=>{if(typeof oe!="function"||j(oe))throw new O(xe,"Function",oe)}),ie=S((oe,xe)=>{if(oe!==void 0)throw new O(xe,"undefined",oe)});function ae(oe,xe,ze){if(!c(ze,oe))throw new O(xe,`('${f(ze,"|")}')`,oe)}const Y=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function k(oe,xe){if(typeof oe>"u"||!b(Y,oe))throw new L(xe,oe,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function D(oe){if(typeof oe=="string")return k(oe,"hints"),oe;if(u(oe)){const xe=oe.length;let ze="";if(xe===0)return ze;for(let hn=0;hn<xe;hn++){const An=oe[hn];k(An,"hints"),ze+=An,hn!==xe-1&&(ze+=", ")}return ze}throw new L("hints",oe,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}o.exports={isInt32:$,isUint32:he,parseFileMode:Fe,validateArray:In,validateStringArray:$e,validateBooleanArray:Ce,validateBoolean:Dt,validateBuffer:At,validateDictionary:Pt,validateEncoding:Ne,validateFunction:jt,validateInt32:Lt,validateInteger:pe,validateNumber:Cn,validateObject:qe,validateOneOf:vn,validatePlainFunction:_n,validatePort:Oe,validateSignalName:ue,validateString:Et,validateUint32:_e,validateUndefined:ie,validateUnion:ae,validateAbortSignal:kt,validateLinkHeaderValue:D}},{"../ours/errors":126,"../ours/primordials":127,"../ours/util":128}],125:[function(i,o,a){const u=i("../stream"),c=i("../stream/promises"),f=u.Readable.destroy;o.exports=u.Readable,o.exports._uint8ArrayToBuffer=u._uint8ArrayToBuffer,o.exports._isUint8Array=u._isUint8Array,o.exports.isDisturbed=u.isDisturbed,o.exports.isErrored=u.isErrored,o.exports.isReadable=u.isReadable,o.exports.Readable=u.Readable,o.exports.Writable=u.Writable,o.exports.Duplex=u.Duplex,o.exports.Transform=u.Transform,o.exports.PassThrough=u.PassThrough,o.exports.addAbortSignal=u.addAbortSignal,o.exports.finished=u.finished,o.exports.destroy=u.destroy,o.exports.destroy=f,o.exports.pipeline=u.pipeline,o.exports.compose=u.compose,Object.defineProperty(u,"promises",{configurable:!0,enumerable:!0,get(){return c}}),o.exports.Stream=u.Stream,o.exports.default=o.exports},{"../stream":129,"../stream/promises":130}],126:[function(i,o,a){const{format:u,inspect:c,AggregateError:f}=i("./util"),d=globalThis.AggregateError||f,h=Symbol("kIsNodeError"),v=["string","function","number","object","Function","Object","boolean","bigint","symbol"],g=/^([A-Z][a-z0-9]*)+$/,p="__node_internal_",y={};function _(O,L){if(!O)throw new y.ERR_INTERNAL_ASSERTION(L)}function b(O){let L="",M=O.length;const re=O[0]==="-"?1:0;for(;M>=re+4;M-=3)L=`_${O.slice(M-3,M)}${L}`;return`${O.slice(0,M)}${L}`}function A(O,L,M){if(typeof L=="function")return _(L.length<=M.length,`Code: ${O}; The provided arguments length (${M.length}) does not match the required ones (${L.length}).`),L(...M);const re=(L.match(/%[dfijoOs]/g)||[]).length;return _(re===M.length,`Code: ${O}; The provided arguments length (${M.length}) does not match the required ones (${re}).`),M.length===0?L:u(L,...M)}function w(O,L,M){M||(M=Error);class re extends M{constructor(...j){super(A(O,L,j))}toString(){return`${this.name} [${O}]: ${this.message}`}}Object.defineProperties(re.prototype,{name:{value:M.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${O}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),re.prototype.code=O,re.prototype[h]=!0,y[O]=re}function T(O){const L=p+O.name;return Object.defineProperty(O,"name",{value:L}),O}function S(O,L){if(O&&L&&O!==L){if(Array.isArray(L.errors))return L.errors.push(O),L;const M=new d([L,O],L.message);return M.code=L.code,M}return O||L}class x extends Error{constructor(L="The operation was aborted",M=void 0){if(M!==void 0&&typeof M!="object")throw new y.ERR_INVALID_ARG_TYPE("options","Object",M);super(L,M),this.code="ABORT_ERR",this.name="AbortError"}}w("ERR_ASSERTION","%s",Error),w("ERR_INVALID_ARG_TYPE",(O,L,M)=>{_(typeof O=="string","'name' must be a string"),Array.isArray(L)||(L=[L]);let re="The ";O.endsWith(" argument")?re+=`${O} `:re+=`"${O}" ${O.includes(".")?"property":"argument"} `,re+="must be ";const F=[],j=[],V=[];for(const $ of L)_(typeof $=="string","All expected entries have to be of type string"),v.includes($)?F.push($.toLowerCase()):g.test($)?j.push($):(_($!=="object",'The value "object" should be written as "Object"'),V.push($));if(j.length>0){const $=F.indexOf("object");$!==-1&&(F.splice(F,$,1),j.push("Object"))}if(F.length>0){switch(F.length){case 1:re+=`of type ${F[0]}`;break;case 2:re+=`one of type ${F[0]} or ${F[1]}`;break;default:{const $=F.pop();re+=`one of type ${F.join(", ")}, or ${$}`}}(j.length>0||V.length>0)&&(re+=" or ")}if(j.length>0){switch(j.length){case 1:re+=`an instance of ${j[0]}`;break;case 2:re+=`an instance of ${j[0]} or ${j[1]}`;break;default:{const $=j.pop();re+=`an instance of ${j.join(", ")}, or ${$}`}}V.length>0&&(re+=" or ")}switch(V.length){case 0:break;case 1:V[0].toLowerCase()!==V[0]&&(re+="an "),re+=`${V[0]}`;break;case 2:re+=`one of ${V[0]} or ${V[1]}`;break;default:{const $=V.pop();re+=`one of ${V.join(", ")}, or ${$}`}}if(M==null)re+=`. Received ${M}`;else if(typeof M=="function"&&M.name)re+=`. Received function ${M.name}`;else if(typeof M=="object"){var z;if((z=M.constructor)!==null&&z!==void 0&&z.name)re+=`. Received an instance of ${M.constructor.name}`;else{const $=c(M,{depth:-1});re+=`. Received ${$}`}}else{let $=c(M,{colors:!1});$.length>25&&($=`${$.slice(0,25)}...`),re+=`. Received type ${typeof M} (${$})`}return re},TypeError),w("ERR_INVALID_ARG_VALUE",(O,L,M="is invalid")=>{let re=c(L);return re.length>128&&(re=re.slice(0,128)+"..."),`The ${O.includes(".")?"property":"argument"} '${O}' ${M}. Received ${re}`},TypeError),w("ERR_INVALID_RETURN_VALUE",(O,L,M)=>{var re;const F=M!=null&&(re=M.constructor)!==null&&re!==void 0&&re.name?`instance of ${M.constructor.name}`:`type ${typeof M}`;return`Expected ${O} to be returned from the "${L}" function but got ${F}.`},TypeError),w("ERR_MISSING_ARGS",(...O)=>{_(O.length>0,"At least one arg needs to be specified");let L;const M=O.length;switch(O=(Array.isArray(O)?O:[O]).map(re=>`"${re}"`).join(" or "),M){case 1:L+=`The ${O[0]} argument`;break;case 2:L+=`The ${O[0]} and ${O[1]} arguments`;break;default:{const re=O.pop();L+=`The ${O.join(", ")}, and ${re} arguments`}break}return`${L} must be specified`},TypeError),w("ERR_OUT_OF_RANGE",(O,L,M)=>{_(L,'Missing "range" argument');let re;return Number.isInteger(M)&&Math.abs(M)>2**32?re=b(String(M)):typeof M=="bigint"?(re=String(M),(M>2n**32n||M<-(2n**32n))&&(re=b(re)),re+="n"):re=c(M),`The value of "${O}" is out of range. It must be ${L}. Received ${re}`},RangeError),w("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),w("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),w("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),w("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),w("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),w("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),w("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),w("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),w("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),w("ERR_STREAM_WRITE_AFTER_END","write after end",Error),w("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),o.exports={AbortError:x,aggregateTwoErrors:T(S),hideStackFrames:T,codes:y}},{"./util":128}],127:[function(i,o,a){o.exports={ArrayIsArray(u){return Array.isArray(u)},ArrayPrototypeIncludes(u,c){return u.includes(c)},ArrayPrototypeIndexOf(u,c){return u.indexOf(c)},ArrayPrototypeJoin(u,c){return u.join(c)},ArrayPrototypeMap(u,c){return u.map(c)},ArrayPrototypePop(u,c){return u.pop(c)},ArrayPrototypePush(u,c){return u.push(c)},ArrayPrototypeSlice(u,c,f){return u.slice(c,f)},Error,FunctionPrototypeCall(u,c,...f){return u.call(c,...f)},FunctionPrototypeSymbolHasInstance(u,c){return Function.prototype[Symbol.hasInstance].call(u,c)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(u,c){return Object.defineProperties(u,c)},ObjectDefineProperty(u,c,f){return Object.defineProperty(u,c,f)},ObjectGetOwnPropertyDescriptor(u,c){return Object.getOwnPropertyDescriptor(u,c)},ObjectKeys(u){return Object.keys(u)},ObjectSetPrototypeOf(u,c){return Object.setPrototypeOf(u,c)},Promise,PromisePrototypeCatch(u,c){return u.catch(c)},PromisePrototypeThen(u,c,f){return u.then(c,f)},PromiseReject(u){return Promise.reject(u)},ReflectApply:Reflect.apply,RegExpPrototypeTest(u,c){return u.test(c)},SafeSet:Set,String,StringPrototypeSlice(u,c,f){return u.slice(c,f)},StringPrototypeToLowerCase(u){return u.toLowerCase()},StringPrototypeToUpperCase(u){return u.toUpperCase()},StringPrototypeTrim(u){return u.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet(u,c,f){return u.set(c,f)},Uint8Array}},{}],128:[function(i,o,a){const u=i("buffer"),c=Object.getPrototypeOf(async function(){}).constructor,f=globalThis.Blob||u.Blob,d=typeof f<"u"?function(g){return g instanceof f}:function(g){return!1};class h extends Error{constructor(g){if(!Array.isArray(g))throw new TypeError(`Expected input to be an Array, got ${typeof g}`);let p="";for(let y=0;y<g.length;y++)p+=`    ${g[y].stack}
`;super(p),this.name="AggregateError",this.errors=g}}o.exports={AggregateError:h,kEmptyObject:Object.freeze({}),once(v){let g=!1;return function(...p){g||(g=!0,v.apply(this,p))}},createDeferredPromise:function(){let v,g;return{promise:new Promise((y,_)=>{v=y,g=_}),resolve:v,reject:g}},promisify(v){return new Promise((g,p)=>{v((y,..._)=>y?p(y):g(..._))})},debuglog(){return function(){}},format(v,...g){return v.replace(/%([sdifj])/g,function(...[p,y]){const _=g.shift();return y==="f"?_.toFixed(6):y==="j"?JSON.stringify(_):y==="s"&&typeof _=="object"?`${_.constructor!==Object?_.constructor.name:""} {}`.trim():_.toString()})},inspect(v){switch(typeof v){case"string":if(v.includes("'"))if(v.includes('"')){if(!v.includes("`")&&!v.includes("${"))return`\`${v}\``}else return`"${v}"`;return`'${v}'`;case"number":return isNaN(v)?"NaN":Object.is(v,-0)?String(v):v;case"bigint":return`${String(v)}n`;case"boolean":case"undefined":return String(v);case"object":return"{}"}},types:{isAsyncFunction(v){return v instanceof c},isArrayBufferView(v){return ArrayBuffer.isView(v)}},isBlob:d},o.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},{buffer:29}],129:[function(i,o,a){const{Buffer:u}=i("buffer"),{ObjectDefineProperty:c,ObjectKeys:f,ReflectApply:d}=i("./ours/primordials"),{promisify:{custom:h}}=i("./ours/util"),{streamReturningOperators:v,promiseReturningOperators:g}=i("./internal/streams/operators"),{codes:{ERR_ILLEGAL_CONSTRUCTOR:p}}=i("./ours/errors"),y=i("./internal/streams/compose"),{pipeline:_}=i("./internal/streams/pipeline"),{destroyer:b}=i("./internal/streams/destroy"),A=i("./internal/streams/end-of-stream"),w=i("./stream/promises"),T=i("./internal/streams/utils"),S=o.exports=i("./internal/streams/legacy").Stream;S.isDisturbed=T.isDisturbed,S.isErrored=T.isErrored,S.isReadable=T.isReadable,S.Readable=i("./internal/streams/readable");for(const O of f(v)){let M=function(...re){if(new.target)throw p();return S.Readable.from(d(L,this,re))};const L=v[O];c(M,"name",{__proto__:null,value:L.name}),c(M,"length",{__proto__:null,value:L.length}),c(S.Readable.prototype,O,{__proto__:null,value:M,enumerable:!1,configurable:!0,writable:!0})}for(const O of f(g)){let M=function(...re){if(new.target)throw p();return d(L,this,re)};const L=g[O];c(M,"name",{__proto__:null,value:L.name}),c(M,"length",{__proto__:null,value:L.length}),c(S.Readable.prototype,O,{__proto__:null,value:M,enumerable:!1,configurable:!0,writable:!0})}S.Writable=i("./internal/streams/writable"),S.Duplex=i("./internal/streams/duplex"),S.Transform=i("./internal/streams/transform"),S.PassThrough=i("./internal/streams/passthrough"),S.pipeline=_;const{addAbortSignal:x}=i("./internal/streams/add-abort-signal");S.addAbortSignal=x,S.finished=A,S.destroy=b,S.compose=y,c(S,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return w}}),c(_,h,{__proto__:null,enumerable:!0,get(){return w.pipeline}}),c(A,h,{__proto__:null,enumerable:!0,get(){return w.finished}}),S.Stream=S,S._isUint8Array=function(L){return L instanceof Uint8Array},S._uint8ArrayToBuffer=function(L){return u.from(L.buffer,L.byteOffset,L.byteLength)}},{"./internal/streams/add-abort-signal":107,"./internal/streams/compose":109,"./internal/streams/destroy":110,"./internal/streams/duplex":111,"./internal/streams/end-of-stream":113,"./internal/streams/legacy":115,"./internal/streams/operators":116,"./internal/streams/passthrough":117,"./internal/streams/pipeline":118,"./internal/streams/readable":119,"./internal/streams/transform":121,"./internal/streams/utils":122,"./internal/streams/writable":123,"./ours/errors":126,"./ours/primordials":127,"./ours/util":128,"./stream/promises":130,buffer:29}],130:[function(i,o,a){const{ArrayPrototypePop:u,Promise:c}=i("../ours/primordials"),{isIterable:f,isNodeStream:d,isWebStream:h}=i("../internal/streams/utils"),{pipelineImpl:v}=i("../internal/streams/pipeline"),{finished:g}=i("../internal/streams/end-of-stream");i("../../lib/stream.js");function p(...y){return new c((_,b)=>{let A,w;const T=y[y.length-1];if(T&&typeof T=="object"&&!d(T)&&!f(T)&&!h(T)){const S=u(y);A=S.signal,w=S.end}v(y,(S,x)=>{S?b(S):_(x)},{signal:A,end:w})})}o.exports={finished:g,pipeline:p}},{"../../lib/stream.js":129,"../internal/streams/end-of-stream":113,"../internal/streams/pipeline":118,"../internal/streams/utils":122,"../ours/primordials":127}],131:[function(i,o,a){function u(f,d,h){var v=this;this._callback=f,this._args=h,this._interval=setInterval(f,d,this._args),this.reschedule=function(g){g||(g=v._interval),v._interval&&clearInterval(v._interval),v._interval=setInterval(v._callback,g,v._args)},this.clear=function(){v._interval&&(clearInterval(v._interval),v._interval=void 0)},this.destroy=function(){v._interval&&clearInterval(v._interval),v._callback=void 0,v._interval=void 0,v._args=void 0}}function c(){if(typeof arguments[0]!="function")throw new Error("callback needed");if(typeof arguments[1]!="number")throw new Error("interval needed");var f;if(arguments.length>0){f=new Array(arguments.length-2);for(var d=0;d<f.length;d++)f[d]=arguments[d+2]}return new u(arguments[0],arguments[1],f)}o.exports=c},{}],132:[function(i,o,a){o.exports=i("./index.js")()},{"./index.js":133}],133:[function(i,o,a){(function(u){(function(){o.exports=f;function c(h){return h instanceof u?u.from(h):new h.constructor(h.buffer.slice(),h.byteOffset,h.length)}function f(h){if(h=h||{},h.circles)return d(h);return h.proto?p:g;function v(y,_){for(var b=Object.keys(y),A=new Array(b.length),w=0;w<b.length;w++){var T=b[w],S=y[T];typeof S!="object"||S===null?A[T]=S:S instanceof Date?A[T]=new Date(S):ArrayBuffer.isView(S)?A[T]=c(S):A[T]=_(S)}return A}function g(y){if(typeof y!="object"||y===null)return y;if(y instanceof Date)return new Date(y);if(Array.isArray(y))return v(y,g);if(y instanceof Map)return new Map(v(Array.from(y),g));if(y instanceof Set)return new Set(v(Array.from(y),g));var _={};for(var b in y)if(Object.hasOwnProperty.call(y,b)!==!1){var A=y[b];typeof A!="object"||A===null?_[b]=A:A instanceof Date?_[b]=new Date(A):A instanceof Map?_[b]=new Map(v(Array.from(A),g)):A instanceof Set?_[b]=new Set(v(Array.from(A),g)):ArrayBuffer.isView(A)?_[b]=c(A):_[b]=g(A)}return _}function p(y){if(typeof y!="object"||y===null)return y;if(y instanceof Date)return new Date(y);if(Array.isArray(y))return v(y,p);if(y instanceof Map)return new Map(v(Array.from(y),p));if(y instanceof Set)return new Set(v(Array.from(y),p));var _={};for(var b in y){var A=y[b];typeof A!="object"||A===null?_[b]=A:A instanceof Date?_[b]=new Date(A):A instanceof Map?_[b]=new Map(v(Array.from(A),p)):A instanceof Set?_[b]=new Set(v(Array.from(A),p)):ArrayBuffer.isView(A)?_[b]=c(A):_[b]=p(A)}return _}}function d(h){var v=[],g=[];return h.proto?_:y;function p(b,A){for(var w=Object.keys(b),T=new Array(w.length),S=0;S<w.length;S++){var x=w[S],O=b[x];if(typeof O!="object"||O===null)T[x]=O;else if(O instanceof Date)T[x]=new Date(O);else if(ArrayBuffer.isView(O))T[x]=c(O);else{var L=v.indexOf(O);L!==-1?T[x]=g[L]:T[x]=A(O)}}return T}function y(b){if(typeof b!="object"||b===null)return b;if(b instanceof Date)return new Date(b);if(Array.isArray(b))return p(b,y);if(b instanceof Map)return new Map(p(Array.from(b),y));if(b instanceof Set)return new Set(p(Array.from(b),y));var A={};v.push(b),g.push(A);for(var w in b)if(Object.hasOwnProperty.call(b,w)!==!1){var T=b[w];if(typeof T!="object"||T===null)A[w]=T;else if(T instanceof Date)A[w]=new Date(T);else if(T instanceof Map)A[w]=new Map(p(Array.from(T),y));else if(T instanceof Set)A[w]=new Set(p(Array.from(T),y));else if(ArrayBuffer.isView(T))A[w]=c(T);else{var S=v.indexOf(T);S!==-1?A[w]=g[S]:A[w]=y(T)}}return v.pop(),g.pop(),A}function _(b){if(typeof b!="object"||b===null)return b;if(b instanceof Date)return new Date(b);if(Array.isArray(b))return p(b,_);if(b instanceof Map)return new Map(p(Array.from(b),_));if(b instanceof Set)return new Set(p(Array.from(b),_));var A={};v.push(b),g.push(A);for(var w in b){var T=b[w];if(typeof T!="object"||T===null)A[w]=T;else if(T instanceof Date)A[w]=new Date(T);else if(T instanceof Map)A[w]=new Map(p(Array.from(T),_));else if(T instanceof Set)A[w]=new Set(p(Array.from(T),_));else if(ArrayBuffer.isView(T))A[w]=c(T);else{var S=v.indexOf(T);S!==-1?A[w]=g[S]:A[w]=_(T)}}return v.pop(),g.pop(),A}}}).call(this)}).call(this,i("buffer").Buffer)},{buffer:29}],134:[function(i,o,a){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var u=i("buffer"),c=u.Buffer;function f(h,v){for(var g in h)v[g]=h[g]}c.from&&c.alloc&&c.allocUnsafe&&c.allocUnsafeSlow?o.exports=u:(f(u,a),a.Buffer=d);function d(h,v,g){return c(h,v,g)}d.prototype=Object.create(c.prototype),f(c,d),d.from=function(h,v,g){if(typeof h=="number")throw new TypeError("Argument must not be a number");return c(h,v,g)},d.alloc=function(h,v,g){if(typeof h!="number")throw new TypeError("Argument must be a number");var p=c(h);return v!==void 0?typeof g=="string"?p.fill(v,g):p.fill(v):p.fill(0),p},d.allocUnsafe=function(h){if(typeof h!="number")throw new TypeError("Argument must be a number");return c(h)},d.allocUnsafeSlow=function(h){if(typeof h!="number")throw new TypeError("Argument must be a number");return u.SlowBuffer(h)}},{buffer:29}],135:[function(i,o,a){o.exports=u;function u(f){var d=f._readableState;return d?d.objectMode||typeof f._duplexState=="number"?f.read():f.read(c(d)):null}function c(f){return f.buffer.length?f.buffer.head?f.buffer.head.data.length:f.buffer[0].length:f.length}},{}],136:[function(i,o,a){arguments[4][28][0].apply(a,arguments)},{dup:28,"safe-buffer":134}],137:[function(i,o,a){var u=i("punycode"),c=i("./util");a.parse=M,a.resolve=F,a.resolveObject=j,a.format=re,a.Url=f;function f(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var d=/^([a-z0-9.+-]+:)/i,h=/:[0-9]*$/,v=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,g=["<",">",'"',"`"," ","\r",`
`,"	"],p=["{","}","|","\\","^","`"].concat(g),y=["'"].concat(p),_=["%","/","?",";","#"].concat(y),b=["/","?","#"],A=255,w=/^[+a-z0-9A-Z_-]{0,63}$/,T=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,S={javascript:!0,"javascript:":!0},x={javascript:!0,"javascript:":!0},O={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},L=i("querystring");function M(V,z,$){if(V&&c.isObject(V)&&V instanceof f)return V;var he=new f;return he.parse(V,z,$),he}f.prototype.parse=function(V,z,$){if(!c.isString(V))throw new TypeError("Parameter 'url' must be a string, not "+typeof V);var he=V.indexOf("?"),le=he!==-1&&he<V.indexOf("#")?"?":"#",Ie=V.split(le),Fe=/\\/g;Ie[0]=Ie[0].replace(Fe,"/"),V=Ie.join(le);var pe=V;if(pe=pe.trim(),!$&&V.split("#").length===1){var Lt=v.exec(pe);if(Lt)return this.path=pe,this.href=pe,this.pathname=Lt[1],Lt[2]?(this.search=Lt[2],z?this.query=L.parse(this.search.substr(1)):this.query=this.search.substr(1)):z&&(this.search="",this.query={}),this}var _e=d.exec(pe);if(_e){_e=_e[0];var Et=_e.toLowerCase();this.protocol=Et,pe=pe.substr(_e.length)}if($||_e||pe.match(/^\/\/[^@\/]+@[^@\/]+/)){var Cn=pe.substr(0,2)==="//";Cn&&!(_e&&x[_e])&&(pe=pe.substr(2),this.slashes=!0)}if(!x[_e]&&(Cn||_e&&!O[_e])){for(var vn=-1,Dt=0;Dt<b.length;Dt++){var de=pe.indexOf(b[Dt]);de!==-1&&(vn===-1||de<vn)&&(vn=de)}var qe,Pt;vn===-1?Pt=pe.lastIndexOf("@"):Pt=pe.lastIndexOf("@",vn),Pt!==-1&&(qe=pe.slice(0,Pt),pe=pe.slice(Pt+1),this.auth=decodeURIComponent(qe)),vn=-1;for(var Dt=0;Dt<_.length;Dt++){var de=pe.indexOf(_[Dt]);de!==-1&&(vn===-1||de<vn)&&(vn=de)}vn===-1&&(vn=pe.length),this.host=pe.slice(0,vn),pe=pe.slice(vn),this.parseHost(),this.hostname=this.hostname||"";var In=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!In)for(var $e=this.hostname.split(/\./),Dt=0,Ce=$e.length;Dt<Ce;Dt++){var ue=$e[Dt];if(ue&&!ue.match(w)){for(var At="",Ne=0,Oe=ue.length;Ne<Oe;Ne++)ue.charCodeAt(Ne)>127?At+="x":At+=ue[Ne];if(!At.match(w)){var kt=$e.slice(0,Dt),jt=$e.slice(Dt+1),_n=ue.match(T);_n&&(kt.push(_n[1]),jt.unshift(_n[2])),jt.length&&(pe="/"+jt.join(".")+pe),this.hostname=kt.join(".");break}}}this.hostname.length>A?this.hostname="":this.hostname=this.hostname.toLowerCase(),In||(this.hostname=u.toASCII(this.hostname));var ie=this.port?":"+this.port:"",ae=this.hostname||"";this.host=ae+ie,this.href+=this.host,In&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),pe[0]!=="/"&&(pe="/"+pe))}if(!S[Et])for(var Dt=0,Ce=y.length;Dt<Ce;Dt++){var Y=y[Dt];if(pe.indexOf(Y)!==-1){var k=encodeURIComponent(Y);k===Y&&(k=escape(Y)),pe=pe.split(Y).join(k)}}var D=pe.indexOf("#");D!==-1&&(this.hash=pe.substr(D),pe=pe.slice(0,D));var oe=pe.indexOf("?");if(oe!==-1?(this.search=pe.substr(oe),this.query=pe.substr(oe+1),z&&(this.query=L.parse(this.query)),pe=pe.slice(0,oe)):z&&(this.search="",this.query={}),pe&&(this.pathname=pe),O[Et]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var ie=this.pathname||"",xe=this.search||"";this.path=ie+xe}return this.href=this.format(),this};function re(V){return c.isString(V)&&(V=M(V)),V instanceof f?V.format():f.prototype.format.call(V)}f.prototype.format=function(){var V=this.auth||"";V&&(V=encodeURIComponent(V),V=V.replace(/%3A/i,":"),V+="@");var z=this.protocol||"",$=this.pathname||"",he=this.hash||"",le=!1,Ie="";this.host?le=V+this.host:this.hostname&&(le=V+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(le+=":"+this.port)),this.query&&c.isObject(this.query)&&Object.keys(this.query).length&&(Ie=L.stringify(this.query));var Fe=this.search||Ie&&"?"+Ie||"";return z&&z.substr(-1)!==":"&&(z+=":"),this.slashes||(!z||O[z])&&le!==!1?(le="//"+(le||""),$&&$.charAt(0)!=="/"&&($="/"+$)):le||(le=""),he&&he.charAt(0)!=="#"&&(he="#"+he),Fe&&Fe.charAt(0)!=="?"&&(Fe="?"+Fe),$=$.replace(/[?#]/g,function(pe){return encodeURIComponent(pe)}),Fe=Fe.replace("#","%23"),z+le+$+Fe+he};function F(V,z){return M(V,!1,!0).resolve(z)}f.prototype.resolve=function(V){return this.resolveObject(M(V,!1,!0)).format()};function j(V,z){return V?M(V,!1,!0).resolveObject(z):z}f.prototype.resolveObject=function(V){if(c.isString(V)){var z=new f;z.parse(V,!1,!0),V=z}for(var $=new f,he=Object.keys(this),le=0;le<he.length;le++){var Ie=he[le];$[Ie]=this[Ie]}if($.hash=V.hash,V.href==="")return $.href=$.format(),$;if(V.slashes&&!V.protocol){for(var Fe=Object.keys(V),pe=0;pe<Fe.length;pe++){var Lt=Fe[pe];Lt!=="protocol"&&($[Lt]=V[Lt])}return O[$.protocol]&&$.hostname&&!$.pathname&&($.path=$.pathname="/"),$.href=$.format(),$}if(V.protocol&&V.protocol!==$.protocol){if(!O[V.protocol]){for(var _e=Object.keys(V),Et=0;Et<_e.length;Et++){var Cn=_e[Et];$[Cn]=V[Cn]}return $.href=$.format(),$}if($.protocol=V.protocol,!V.host&&!x[V.protocol]){for(var Ce=(V.pathname||"").split("/");Ce.length&&!(V.host=Ce.shift()););V.host||(V.host=""),V.hostname||(V.hostname=""),Ce[0]!==""&&Ce.unshift(""),Ce.length<2&&Ce.unshift(""),$.pathname=Ce.join("/")}else $.pathname=V.pathname;if($.search=V.search,$.query=V.query,$.host=V.host||"",$.auth=V.auth,$.hostname=V.hostname||V.host,$.port=V.port,$.pathname||$.search){var vn=$.pathname||"",Dt=$.search||"";$.path=vn+Dt}return $.slashes=$.slashes||V.slashes,$.href=$.format(),$}var de=$.pathname&&$.pathname.charAt(0)==="/",qe=V.host||V.pathname&&V.pathname.charAt(0)==="/",Pt=qe||de||$.host&&V.pathname,In=Pt,$e=$.pathname&&$.pathname.split("/")||[],Ce=V.pathname&&V.pathname.split("/")||[],ue=$.protocol&&!O[$.protocol];if(ue&&($.hostname="",$.port=null,$.host&&($e[0]===""?$e[0]=$.host:$e.unshift($.host)),$.host="",V.protocol&&(V.hostname=null,V.port=null,V.host&&(Ce[0]===""?Ce[0]=V.host:Ce.unshift(V.host)),V.host=null),Pt=Pt&&(Ce[0]===""||$e[0]==="")),qe)$.host=V.host||V.host===""?V.host:$.host,$.hostname=V.hostname||V.hostname===""?V.hostname:$.hostname,$.search=V.search,$.query=V.query,$e=Ce;else if(Ce.length)$e||($e=[]),$e.pop(),$e=$e.concat(Ce),$.search=V.search,$.query=V.query;else if(!c.isNullOrUndefined(V.search)){if(ue){$.hostname=$.host=$e.shift();var At=$.host&&$.host.indexOf("@")>0?$.host.split("@"):!1;At&&($.auth=At.shift(),$.host=$.hostname=At.shift())}return $.search=V.search,$.query=V.query,(!c.isNull($.pathname)||!c.isNull($.search))&&($.path=($.pathname?$.pathname:"")+($.search?$.search:"")),$.href=$.format(),$}if(!$e.length)return $.pathname=null,$.search?$.path="/"+$.search:$.path=null,$.href=$.format(),$;for(var Ne=$e.slice(-1)[0],Oe=($.host||V.host||$e.length>1)&&(Ne==="."||Ne==="..")||Ne==="",kt=0,jt=$e.length;jt>=0;jt--)Ne=$e[jt],Ne==="."?$e.splice(jt,1):Ne===".."?($e.splice(jt,1),kt++):kt&&($e.splice(jt,1),kt--);if(!Pt&&!In)for(;kt--;kt)$e.unshift("..");Pt&&$e[0]!==""&&(!$e[0]||$e[0].charAt(0)!=="/")&&$e.unshift(""),Oe&&$e.join("/").substr(-1)!=="/"&&$e.push("");var _n=$e[0]===""||$e[0]&&$e[0].charAt(0)==="/";if(ue){$.hostname=$.host=_n?"":$e.length?$e.shift():"";var At=$.host&&$.host.indexOf("@")>0?$.host.split("@"):!1;At&&($.auth=At.shift(),$.host=$.hostname=At.shift())}return Pt=Pt||$.host&&$e.length,Pt&&!_n&&$e.unshift(""),$e.length?$.pathname=$e.join("/"):($.pathname=null,$.path=null),(!c.isNull($.pathname)||!c.isNull($.search))&&($.path=($.pathname?$.pathname:"")+($.search?$.search:"")),$.auth=V.auth||$.auth,$.slashes=$.slashes||V.slashes,$.href=$.format(),$},f.prototype.parseHost=function(){var V=this.host,z=h.exec(V);z&&(z=z[0],z!==":"&&(this.port=z.substr(1)),V=V.substr(0,V.length-z.length)),V&&(this.hostname=V)}},{"./util":138,punycode:103,querystring:106}],138:[function(i,o,a){o.exports={isString:function(u){return typeof u=="string"},isObject:function(u){return typeof u=="object"&&u!==null},isNull:function(u){return u===null},isNullOrUndefined:function(u){return u==null}}},{}],139:[function(i,o,a){(function(u){(function(){o.exports=c;function c(d,h){if(f("noDeprecation"))return d;var v=!1;function g(){if(!v){if(f("throwDeprecation"))throw new Error(h);f("traceDeprecation")?console.trace(h):console.warn(h),v=!0}return d.apply(this,arguments)}return g}function f(d){try{if(!u.localStorage)return!1}catch{return!1}var h=u.localStorage[d];return h==null?!1:String(h).toLowerCase()==="true"}}).call(this)}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}],140:[function(i,o,a){o.exports=u;function u(c,f){if(c&&f)return u(c)(f);if(typeof c!="function")throw new TypeError("need wrapper function");return Object.keys(c).forEach(function(h){d[h]=c[h]}),d;function d(){for(var h=new Array(arguments.length),v=0;v<h.length;v++)h[v]=arguments[v];var g=c.apply(this,h),p=h[h.length-1];return typeof g=="function"&&g!==p&&Object.keys(p).forEach(function(y){g[y]=p[y]}),g}}},{}],141:[function(i,o,a){o.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},{}]},{},[23])(23)})})(mqtt);var mqttExports=mqtt.exports;let client;const sub=(r,n,i,o,a)=>{const u=r.trim();if(!/^wss?:\/\/.*$/.test(u)){console.error('编辑器MQTT通信只支持ws协议 (url必须以"ws://"开头)');return}client=mqttExports.connect(u,{username:n.trim(),password:i.trim(),reconnectPeriod:6e5}),client.on("connect",()=>{console.log("MQTT服务器连接成功"),console.log(client.options.clientId),client.subscribe(o,{qos:1})}),client.on("message",a)},close=()=>{client&&client.end&&client.end(!0,{},()=>{console.log("MQTT服务连接关闭")})},_hoisted_1={style:{position:"absolute",left:"0",top:"0",bottom:"0",right:"0"}},_hoisted_2={xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%"},_hoisted_3=["transform"],_hoisted_4=["transform","onClick"],_hoisted_5=["transform"],_hoisted_6=["xlink:href","width","height","id","transform"],_hoisted_7=["id"],_sfc_main=vue.defineComponent({__name:"svg-viewer",props:{vueComp:{},data:{},canvasDrag:{type:Boolean,default:!0}},emits:["onMessage"],setup(r,{expose:n,emit:i}){const o=r;vue.useCssVars(w=>({"01996f39":vue.unref(c)})),setEditorLoadTime();const a=useGlobalStore(pinia);componentsRegister(o.vueComp);const u=vue.reactive(o.data??{layout_center:{x:0,y:0},config:{svg:{background_color:"#fff",scale:1,grid_color:"#ebebeb"},net:{mqtt:{url:"",user:"",pwd:"",topics:""}}},done_json:[]}),c=vue.computed(()=>a.intention==EGlobalStoreIntention.MoveCanvas?"grab":"default"),f=w=>{if(a.mouse_info.state!=EMouseInfoState.Down&&a.intention!==EGlobalStoreIntention.Connection||!o.canvasDrag)return;const{clientX:T,clientY:S}=w;a.mouse_info.new_position_x=a.mouse_info.now_position_x+T-a.mouse_info.position_x,a.mouse_info.new_position_y=a.mouse_info.now_position_y+S-a.mouse_info.position_y,a.intention==EGlobalStoreIntention.MoveCanvas&&(u.layout_center.x=a.mouse_info.new_position_x,u.layout_center.y=a.mouse_info.new_position_y)},d=()=>{a.mouse_info.state==EMouseInfoState.Down&&(a.intention!=EGlobalStoreIntention.Select&&(a.intention=EGlobalStoreIntention.None),a.mouse_info={state:EMouseInfoState.Up,position_x:0,position_y:0,now_position_x:0,now_position_y:0,new_position_x:0,new_position_y:0})},h=w=>{const{clientX:T,clientY:S}=w;a.intention=EGlobalStoreIntention.MoveCanvas,a.mouse_info={state:EMouseInfoState.Down,position_x:T,position_y:S,now_position_x:u.layout_center.x,now_position_y:u.layout_center.y,new_position_x:u.layout_center.x,new_position_y:u.layout_center.y}};function v(w){w!=null&&w.wheelDelta&&(w.wheelDelta>0?u.config.svg.scale=parseFloat((u.config.svg.scale+.1).toFixed(1)):u.config.svg.scale=parseFloat((u.config.svg.scale-.1).toFixed(1)))}const g=(w,T,S)=>({x:w.x-w.width/2*T+w.width/2,y:w.y-w.height/2*S+w.height/2,width:w.width*T,height:w.height*S}),p=w=>{var S;let T=!1;if(((S=w.events)==null?void 0:S.length)>0){for(let x of w.events)if(x.type===EEventType.Click){T=!0;break}}return{cursor:T?"pointer":"default"}},y=(w,T)=>{var S;if(console.log(w.events,T),((S=w.events)==null?void 0:S.length)>0){for(let x of w.events)if(x.type===T){if(x.condition&&x.condition.type!=="None"&&x.condition.type==="Relation"&&x.condition.Relation&&x.condition.Relation.relation){const O=x.condition.Relation.key,L=x.condition.Relation.relation,M=valFormat(x.condition.Relation.val),re=valFormat(x.condition.Relation.val2);if(w.props.hasOwnProperty(O)){const F=w.props[O].val;if(!_(F,L,M,re))continue}}if(x.action===EEventAction.ChangeAttr){if(x.attrs&&x.attrs.length>0){let O;if(x.target){for(let L of u.done_json)if(L.id===x.target){O=L;break}}else O=w;if(!O)continue;for(let L of x.attrs)L.key==="state"?O.defaultState=valFormat(L.val):O.props.hasOwnProperty(L.key)&&(O.props[L.key].val=valFormat(L.val))}}else x.action===EEventAction.JavaScript&&new Function(x.scripts)()}}},_=(w,T,S,x)=>{switch(T){case">":return w>S;case">=":return w>=S;case"<":return w<S;case"<=":return w<=S;case"==":return w==S;case"!=":return w!=S;case">=,=<":return w>=S&&w<=x;case"<,>":return w<S||w>x}},b=()=>{const w=u.config.net.mqtt;w&&w.url&&w.user&&w.pwd&&w.topics&&sub(w.url,w.user,w.pwd,w.topics,(T,S)=>{console.log(T),console.log(S.toString()),i("onMessage",{topics:T,message:S})})},A=(w,T,S)=>setArrItemByID(w,T,S,u.done_json);return vue.onMounted(()=>{b()}),vue.onBeforeUnmount(close),n({setNodeAttrByID:A}),(w,T)=>(vue.openBlock(),vue.createElementBlock("div",{class:"canvas",style:vue.normalizeStyle({backgroundColor:vue.unref(u).config.svg.background_color,position:"relative"}),onMousedown:h,onMousemove:f,onMouseup:d,onMousewheel:v,onContextmenu:T[4]||(T[4]=(...S)=>vue.unref(preventDefault)&&vue.unref(preventDefault)(...S))},[vue.renderSlot(w.$slots,"background",{},void 0,!0),vue.createElementVNode("div",_hoisted_1,[(vue.openBlock(),vue.createElementBlock("svg",_hoisted_2,[vue.createElementVNode("g",{transform:`translate(${vue.unref(u).layout_center.x},${vue.unref(u).layout_center.y})rotate(0)scale(${vue.unref(u).config.svg.scale})`},[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(vue.unref(u).done_json,S=>{var x,O,L,M,re,F,j,V;return vue.withDirectives((vue.openBlock(),vue.createElementBlock("g",{key:S.id,transform:`translate(${S.x},${S.y})rotate(0)scale(1)`,style:vue.normalizeStyle(p(S)),onClick:z=>y(S,vue.unref(EEventType).Click),onMousedown:T[0]||(T[0]=(...z)=>vue.unref(stopEvent)&&vue.unref(stopEvent)(...z)),onMousemove:T[1]||(T[1]=(...z)=>vue.unref(stopEvent)&&vue.unref(stopEvent)(...z)),onMouseup:T[2]||(T[2]=(...z)=>vue.unref(stopEvent)&&vue.unref(stopEvent)(...z)),onMousewheel:T[3]||(T[3]=(...z)=>vue.unref(stopEvent)&&vue.unref(stopEvent)(...z))},[vue.createElementVNode("g",{class:vue.normalizeClass(`${vue.unref(getCommonClass)(S)}`)},[vue.createElementVNode("g",{transform:`translate(${S.actual_bound.x+S.actual_bound.width/2},${S.actual_bound.y+S.actual_bound.height/2})rotate(${S.rotate}) scale(1) translate(${-(S.actual_bound.x+S.actual_bound.width/2)},${-(S.actual_bound.y+S.actual_bound.height/2)})`},[S.type===vue.unref(EDoneJsonType).ConnectionLine?(vue.openBlock(),vue.createBlock(_sfc_main$y,{key:0,"item-info":S},null,8,["item-info"])):S.type===vue.unref(EDoneJsonType).File?(vue.openBlock(),vue.createElementBlock("use",vue.mergeProps({key:1,"xlink:href":`#svg-${S.name}`},vue.unref(prosToVBind)(S,["height","width"]),{width:((O=(x=S.props)==null?void 0:x.width)==null?void 0:O.val)??100,height:((M=(L=S.props)==null?void 0:L.height)==null?void 0:M.val)??100,id:S.id,transform:`translate(${S.actual_bound.x+S.actual_bound.width/2},${S.actual_bound.y+S.actual_bound.height/2}) scale(${S.scale_x},${S.scale_y}) translate(${-(S.actual_bound.x+S.actual_bound.width/2)},${-(S.actual_bound.y+S.actual_bound.height/2)})`}),null,16,_hoisted_6)):S.type===vue.unref(EDoneJsonType).CustomSvg?(vue.openBlock(),vue.createBlock(vue.resolveDynamicComponent(S.tag),vue.mergeProps({key:2},vue.unref(prosToVBind)(S,["height","width"]),{width:((F=(re=S.props)==null?void 0:re.width)==null?void 0:F.val)??100,height:((V=(j=S.props)==null?void 0:j.height)==null?void 0:V.val)??100,id:S.id,onOnChange:z=>y(S,vue.unref(EEventType).Change),transform:`translate(${S.actual_bound.x+S.actual_bound.width/2},${S.actual_bound.y+S.actual_bound.height/2}) scale(${S.scale_x},${S.scale_y}) translate(${-(S.actual_bound.x+S.actual_bound.width/2)},${-(S.actual_bound.y+S.actual_bound.height/2)})`}),null,16,["width","height","id","onOnChange","transform"])):S.type===vue.unref(EDoneJsonType).Vue?(vue.openBlock(),vue.createElementBlock("foreignObject",vue.mergeProps({key:3},g(S.actual_bound,S.scale_x,S.scale_y),{id:`foreign-object${S.id}`,class:"foreignObject"}),[(vue.openBlock(),vue.createBlock(vue.resolveDynamicComponent(S.tag),vue.mergeProps(vue.unref(prosToVBind)(S),{id:S.id,onOnChange:z=>y(S,vue.unref(EEventType).Change),transform:`translate(${S.actual_bound.x+S.actual_bound.width/2},${S.actual_bound.y+S.actual_bound.height/2}) scale(${S.scale_x},${S.scale_y}) translate(${-(S.actual_bound.x+S.actual_bound.width/2)},${-(S.actual_bound.y+S.actual_bound.height/2)})`}),{default:vue.withCtx(()=>[vue.createTextVNode(vue.toDisplayString(S.tag_slot),1)]),_:2},1040,["id","onOnChange","transform"]))],16,_hoisted_7)):vue.createCommentVNode("",!0)],8,_hoisted_5)],2)],44,_hoisted_4)),[[vue.vShow,S.display]])}),128))],8,_hoisted_3)]))])],36))}}),svgViewer_vue_vue_type_style_index_0_scoped_7f6cd20a_lang="",svgViewer=_export_sfc$1(_sfc_main,[["__scopeId","data-v-7f6cd20a"]]);exports.SvgEditor=index,exports.SvgViewer=svgViewer,Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"})});
