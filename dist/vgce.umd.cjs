(function(i,n){typeof exports=="object"&&typeof module<"u"?n(exports,require("vue"),require("element-plus"),require("animate.css"),require("vue-echarts"),require("pinia"),require("lodash-es"),require("ace-builds")):typeof define=="function"&&define.amd?define(["exports","vue","element-plus","animate.css","vue-echarts","pinia","lodash-es","ace-builds"],n):(i=typeof globalThis<"u"?globalThis:i||self,n(i.VGCE={},i.Vue,i.elementPlus,null,i.VChart,i.Pinia,i.lodashEs,i.ace))})(this,function(exports,vue,elementPlus,animate_css,VChart,pinia$1,lodashEs,ace){"use strict";const windi="";if(typeof window<"u"){let i=function(){var n=document.body,r=document.getElementById("__svg__icons__dom__");r||(r=document.createElementNS("http://www.w3.org/2000/svg","svg"),r.style.position="absolute",r.style.width="0",r.style.height="0",r.id="__svg__icons__dom__",r.setAttribute("xmlns","http://www.w3.org/2000/svg"),r.setAttribute("xmlns:link","http://www.w3.org/1999/xlink")),r.innerHTML=`<symbol class="icon" viewBox="0 0 1024 1024"   id="svg-alert-light">\r
    <path d="M779.7248 452.1984c0-123.904-103.8848-224.3584-232.0384-224.3584S315.648 328.2944 315.648 452.1984c0 89.3952 54.1184 166.5536 132.4032 202.6496 0.3072 0.1536 0.6144 0.3072 0.9728 0.4096v63.488h197.376v-63.5392c78.7456-35.7888 133.3248-113.2032 133.3248-203.008z" p-id="1733" />\r
    <path d="M535.5008 234.7008s147.3536 98.7648 144.7424 233.984c0 72.9088-84.2752 145.4592-108.4416 157.184 0 52.9408 0.512 90.2144 0.512 90.2144l27.4432 2.7136 5.6832-63.5392 79.616-55.9616 53.7088-113.5616-11.776-104.1408-36.9152-73.3184-79.7696-56.832-74.8032-16.7424z" fill="#888" fill-opacity=".2" p-id="1734" />\r
    <path d="M605.3888 729.0368H408.0128c-5.632 0-10.24-4.608-10.24-10.24v-57.0368c-76.9024-37.5296-127.6416-111.7696-132.864-195.0208-0.3584-5.632 3.9424-10.496 9.5744-10.8544 5.6832-0.3072 10.496 3.9424 10.8544 9.5744 4.9152 77.5168 53.1968 146.5344 126.0032 180.0704l0.9216 0.4096c3.6352 1.6896 5.9392 5.3248 5.9392 9.3184v53.2992h176.896v-53.2992c0-3.9936 2.3552-7.68 5.9904-9.3184 77.3632-35.2256 127.3344-111.2576 127.3344-193.7408 0-118.0672-99.4816-214.1184-221.7984-214.1184-64.6656 0-125.952 27.1872-168.192 74.5472-3.7888 4.1984-10.24 4.608-14.4384 0.8192-4.1984-3.7888-4.608-10.24-0.8192-14.4384 46.08-51.712 112.9984-81.408 183.5008-81.408 133.5808 0 242.2784 105.216 242.2784 234.5984 0 88.32-52.1216 169.8816-133.3248 209.5616v57.0368c0 5.6832-4.5568 10.24-10.24 10.24z" fill="#010101" fill-opacity="1" p-id="1735" />\r
    <path d="M277.4528 427.8784c-0.5632 0-1.0752-0.0512-1.6384-0.1536a10.25024 10.25024 0 0 1-8.4992-11.7248c3.4816-21.8624 10.1888-43.0592 19.8144-63.0784 2.4576-5.12 8.6016-7.2192 13.6704-4.7616 5.0688 2.4576 7.2192 8.6016 4.7616 13.6704-8.8064 18.176-14.848 37.5296-18.0224 57.3952-0.8192 5.0688-5.1712 8.6528-10.0864 8.6528z" fill="#010101" fill-opacity="1" p-id="1736" />\r
    <path d="M606.4128 954.5728H478.3104c-39.5264 0-71.5776-32.0512-71.5776-71.5776v-164.1984h271.2576v164.1984c0 39.5776-32.0512 71.5776-71.5776 71.5776z" fill="#58DDDA" fill-opacity="1" p-id="1737" />\r
    <path d="M573.7472 724.9408v178.432s3.9424 38.7072-31.3856 51.2512c51.968 0 99.328-3.1744 99.328-86.528v-143.1552h-67.9424z" fill="#3BCCC8" fill-opacity="1" p-id="1738" />\r
    <path d="M570.1632 964.8128H442.0608c-45.1072 0-81.8176-36.7104-81.8176-81.8176v-164.1984c0-5.632 4.608-10.24 10.24-10.24h271.2576c5.632 0 10.24 4.608 10.24 10.24v164.1984c0 45.1584-36.7104 81.8176-81.8176 81.8176z m-189.44-235.776v153.9584c0 33.792 27.4944 61.3376 61.3376 61.3376h128.1024c33.792 0 61.3376-27.4944 61.3376-61.3376v-153.9584H380.7232z" fill="#010101" fill-opacity="1" p-id="1739" />\r
    <path d="M525.2608 175.0528c-16.9472 0-30.72-13.7728-30.72-30.72V92.5696c0-16.9472 13.7728-30.72 30.72-30.72s30.72 13.7728 30.72 30.72v51.7632c0 16.9472-13.7216 30.72-30.72 30.72zM361.4208 215.5008c-10.752 0-21.1968-5.632-26.8288-15.6672l-25.344-45.1072c-8.2944-14.7968-3.072-33.536 11.7248-41.8304s33.4848-3.072 41.8304 11.7248l25.344 45.1072c8.2944 14.7968 3.072 33.536-11.7248 41.8304-4.7104 2.6624-9.8816 3.9424-15.0016 3.9424zM246.3744 337.2032c-5.3248 0-10.7008-1.3824-15.5648-4.2496l-44.544-26.3168c-14.592-8.6016-19.456-27.4432-10.8544-42.0864 8.6016-14.592 27.4944-19.456 42.0864-10.8544l44.544 26.3168c14.592 8.6016 19.456 27.4432 10.8544 42.0864a30.91968 30.91968 0 0 1-26.5216 15.104zM199.2704 499.5584h-0.2048l-51.7632-0.3072a30.71488 30.71488 0 0 1-30.5152-30.9248c0.1024-16.896 13.824-30.5152 30.72-30.5152h0.2048l51.7632 0.3072c16.9472 0.1024 30.6176 13.9264 30.5152 30.9248-0.1024 16.896-13.824 30.5152-30.72 30.5152zM198.3488 687.2064a30.69952 30.69952 0 0 1-15.7184-57.088l44.4928-26.4704c14.592-8.704 33.4336-3.8912 42.0864 10.7008 8.6528 14.592 3.8912 33.4336-10.7008 42.0864l-44.4928 26.4704c-4.9152 2.9184-10.3424 4.3008-15.6672 4.3008zM688.0256 215.5008c-5.12 0-10.24-1.28-15.0016-3.9424a30.67904 30.67904 0 0 1-11.7248-41.8304l25.344-45.1072c8.2944-14.7968 27.0336-20.0192 41.8304-11.7248a30.67904 30.67904 0 0 1 11.7248 41.8304l-25.344 45.1072a30.7712 30.7712 0 0 1-26.8288 15.6672zM803.072 337.2032c-10.496 0-20.736-5.376-26.4704-15.104-8.6528-14.592-3.7888-33.4336 10.8032-42.0864l44.544-26.3168a30.76096 30.76096 0 0 1 42.0864 10.8032c8.6528 14.592 3.7888 33.4336-10.8032 42.0864l-44.544 26.3168c-4.9152 2.9184-10.2912 4.3008-15.616 4.3008zM850.176 499.5584c-16.896 0-30.6176-13.6192-30.72-30.5152-0.1024-16.9472 13.568-30.8224 30.5152-30.9248l51.7632-0.3072h0.2048c16.896 0 30.6176 13.6192 30.72 30.5152 0.1024 16.9472-13.568 30.8224-30.5152 30.9248l-51.7632 0.3072h-0.2048zM851.0976 687.2064c-5.3248 0-10.752-1.3824-15.6672-4.3008l-44.4928-26.4704c-14.592-8.6528-19.3536-27.5456-10.7008-42.0864a30.65344 30.65344 0 0 1 42.0864-10.7008l44.4928 26.4704a30.69952 30.69952 0 1 1-15.7184 57.088z" p-id="1740" />\r
    <path d="M504.7808 185.2928c-22.5792 0-40.96-18.3808-40.96-40.96V92.5696c0-22.5792 18.3808-40.96 40.96-40.96s40.96 18.3808 40.96 40.96v51.7632c0 22.5792-18.3808 40.96-40.96 40.96z m0-113.2032c-11.3152 0-20.48 9.1648-20.48 20.48v51.7632c0 11.3152 9.1648 20.48 20.48 20.48s20.48-9.1648 20.48-20.48V92.5696c0-11.264-9.1648-20.48-20.48-20.48zM340.9408 225.7408c-14.7968 0-28.5184-7.9872-35.7376-20.8896l-25.344-45.1072a40.77568 40.77568 0 0 1-3.7376-31.1296 40.4992 40.4992 0 0 1 19.4048-24.6272c19.712-11.0592 44.6976-4.0448 55.7568 15.6672l25.344 45.1072c5.376 9.5232 6.656 20.5824 3.7376 31.1296a40.4992 40.4992 0 0 1-19.4048 24.6272 41.3952 41.3952 0 0 1-20.0192 5.2224z m-25.3952-106.5472c-3.3792 0-6.8096 0.8192-9.984 2.6112-4.7616 2.6624-8.192 7.0656-9.6768 12.3392a20.3776 20.3776 0 0 0 1.8432 15.5648l25.344 45.1072a20.55168 20.55168 0 0 0 17.8688 10.4448c3.4816 0 6.9632-0.9216 9.984-2.6112 4.7616-2.6624 8.192-7.0656 9.6768-12.3392a20.3776 20.3776 0 0 0-1.8432-15.5648l-25.344-45.1072a20.39296 20.39296 0 0 0-17.8688-10.4448zM225.8944 347.4432a40.8064 40.8064 0 0 1-20.7872-5.6832l-44.544-26.3168a40.64256 40.64256 0 0 1-18.8416-25.0368c-2.7136-10.5984-1.1776-21.6064 4.4032-31.0272a40.64256 40.64256 0 0 1 25.0368-18.8416c10.5984-2.7136 21.6064-1.1776 31.0272 4.4032l44.544 26.3168a40.64256 40.64256 0 0 1 18.8416 25.0368c2.7136 10.5984 1.1776 21.6064-4.4032 31.0272a41.15456 41.15456 0 0 1-35.2768 20.1216z m-44.4928-87.7568c-1.6896 0-3.4304 0.2048-5.12 0.6656-5.3248 1.3824-9.728 4.7104-12.544 9.4208-2.7648 4.7104-3.584 10.24-2.2016 15.5136 1.3824 5.2736 4.7104 9.728 9.4208 12.544l44.544 26.3168c3.1744 1.8432 6.7584 2.8672 10.3936 2.8672 7.2192 0 13.9776-3.84 17.664-10.0864 2.7648-4.7104 3.584-10.24 2.2016-15.5136-1.3824-5.2736-4.7104-9.728-9.4208-12.544l-44.544-26.3168c-3.2256-1.9456-6.7584-2.8672-10.3936-2.8672zM178.7904 509.7984h-0.2048l-51.8144-0.3072c-22.5792-0.1536-40.8576-18.6368-40.704-41.216 0.1536-22.4256 18.5344-40.704 40.96-40.704l52.0192 0.3072c22.5792 0.1536 40.8576 18.6368 40.704 41.216-0.1024 22.4768-18.4832 40.704-40.96 40.704zM127.1808 448.0512a20.47488 20.47488 0 1 0-0.2048 40.96l51.7632 0.3072 0.1536 10.24v-10.24a20.47488 20.47488 0 1 0 0.1024-40.96l-51.8144-0.3072zM177.8688 697.4464c-14.3872 0-27.904-7.68-35.2256-20.0192a41.01632 41.01632 0 0 1 14.2336-56.1664l44.4928-26.4704a40.9088 40.9088 0 0 1 31.0272-4.5056c10.5984 2.7136 19.5072 9.3696 25.088 18.7392a41.01632 41.01632 0 0 1-14.2336 56.1664l-44.4928 26.4704a40.77568 40.77568 0 0 1-20.8896 5.7856z m44.3904-87.9104c-3.6352 0-7.2192 0.9728-10.4448 2.8672l-44.4928 26.4704c-4.7104 2.816-8.0384 7.2704-9.3696 12.544a20.3264 20.3264 0 0 0 2.2528 15.5136 20.4288 20.4288 0 0 0 17.6128 10.0352c3.6352 0 7.2704-0.9728 10.4448-2.8672l44.4928-26.4704c4.7104-2.816 8.0384-7.2704 9.3696-12.544 1.3312-5.3248 0.5632-10.8032-2.2528-15.5136s-7.2704-8.0384-12.544-9.3696a19.1488 19.1488 0 0 0-5.0688-0.6656z" fill="#010101" p-id="1741" />\r
    <path d="M667.5456 225.7408c-6.9632 0-13.9264-1.792-20.0192-5.2736a40.96 40.96 0 0 1-19.4048-24.6272 40.5504 40.5504 0 0 1 3.7376-31.1296l25.344-45.1072c11.0592-19.712 36.096-26.7264 55.7568-15.6672a40.96 40.96 0 0 1 19.4048 24.6272 40.5504 40.5504 0 0 1-3.7376 31.1296L703.2832 204.8a41.088 41.088 0 0 1-35.7376 20.9408z m25.3952-106.5472c-7.168 0-14.1312 3.7888-17.92 10.4448l-25.344 45.1072a20.3776 20.3776 0 0 0-1.8432 15.5648c1.4848 5.2736 4.9152 9.6256 9.6768 12.3392 3.072 1.7408 6.5024 2.6112 9.984 2.6112 7.424 0 14.2848-3.9936 17.8688-10.4448l25.344-45.1072c2.6624-4.7616 3.328-10.2912 1.8432-15.5648a20.49024 20.49024 0 0 0-9.6768-12.3392c-3.1232-1.792-6.5536-2.6112-9.9328-2.6112z" fill="#010101" p-id="1742" />\r
    <path d="M782.592 347.4432c-14.4384 0-27.9552-7.7312-35.2768-20.1216a41.0368 41.0368 0 0 1 14.4384-56.1152l44.544-26.3168c19.456-11.4688 44.6464-5.0176 56.1152 14.4384s5.0176 44.5952-14.4384 56.1152l-44.544 26.3168a41.64608 41.64608 0 0 1-20.8384 5.6832z m44.4928-87.7568c-3.5328 0-7.1168 0.9216-10.3936 2.8672l-44.544 26.3168a20.51584 20.51584 0 0 0-7.2192 28.0576 20.67456 20.67456 0 0 0 17.664 10.0864c3.6352 0 7.2192-0.9728 10.3936-2.8672l44.544-26.3168a20.51584 20.51584 0 0 0 7.2192-28.0576 20.44928 20.44928 0 0 0-17.664-10.0864z" fill="#010101" p-id="1743" />\r
    <path d="M829.696 509.7984c-22.4256 0-40.8064-18.2784-40.96-40.704-0.1536-22.5792 18.1248-41.0624 40.704-41.216l51.7632-0.3072c22.6816 0 41.0624 18.2784 41.216 40.704 0.1536 22.5792-18.1248 41.0624-40.704 41.216l-51.7632 0.3072h-0.256z m51.712-61.7472l-51.8656 0.3072a20.5056 20.5056 0 0 0-20.3776 20.5824 20.55168 20.55168 0 0 0 20.48 20.3776h0.2048l51.6608-0.3072a20.5056 20.5056 0 0 0 20.3776-20.5824 20.52096 20.52096 0 0 0-20.48-20.3776z" fill="#010101" p-id="1744" />\r
    <path d="M830.6176 697.4464c-7.3216 0-14.592-1.9968-20.8896-5.7856l-44.4928-26.4704a40.37632 40.37632 0 0 1-18.7392-25.1392c-2.7136-10.5984-1.0752-21.6064 4.5056-31.0272a40.66816 40.66816 0 0 1 25.088-18.7904 40.9088 40.9088 0 0 1 31.0272 4.5056l44.4416 26.4704c19.4048 11.5712 25.8048 36.7104 14.2848 56.1152a41.02144 41.02144 0 0 1-35.2256 20.1216z m-44.3904-87.9104c-1.6896 0-3.3792 0.2048-5.0688 0.6144a20.0704 20.0704 0 0 0-12.544 9.3696c-2.816 4.7104-3.584 10.24-2.2528 15.5136a20.0704 20.0704 0 0 0 9.3696 12.544l44.4928 26.4704c3.1744 1.8944 6.8096 2.8672 10.4448 2.8672 7.3216 0 13.8752-3.7376 17.6128-10.0352 2.816-4.7104 3.584-10.1888 2.2528-15.5136a20.0704 20.0704 0 0 0-9.3696-12.544l-44.4928-26.4704c-3.2256-1.8432-6.8096-2.816-10.4448-2.816z" fill="#010101" p-id="1745" />\r
    <path d="M547.584 729.0368c-5.632 0-10.24-4.608-10.24-10.24V511.8976H470.9376v206.9504c0 5.632-4.608 10.24-10.24 10.24s-10.24-4.608-10.24-10.24V511.8976h-33.024c-15.0016 0-28.0064-9.1136-33.1264-23.2448s-0.9216-29.44 10.5984-39.0656l18.2784-15.2064a35.00032 35.00032 0 0 1 37.4784-4.8128c12.4928 5.888 20.2752 18.0736 20.2752 31.8976v29.952h66.4576v-29.7472c0-13.824 7.7824-26.0608 20.3264-31.8976 12.544-5.8368 26.88-3.9936 37.5296 4.9152l17.9712 15.0016c11.52 9.6256 15.616 24.9344 10.496 39.0656-5.12 14.08-18.1248 23.1936-33.1264 23.1936h-32.7168v206.9504c-0.0512 5.5808-4.608 10.1376-10.2912 10.1376z m10.24-237.6192h32.7168c9.5744 0 13.056-7.424 13.8752-9.728 0.8192-2.304 2.9696-10.1888-4.4032-16.3328l-17.9712-15.0016c-4.5056-3.7888-10.3936-4.5568-15.7184-2.048s-8.4992 7.4752-8.4992 13.3632v29.7472z m-122.2144-44.8a14.336 14.336 0 0 0-9.3184 3.4816l-18.2784 15.2064c-7.3728 6.144-5.2736 14.08-4.4544 16.3328 0.8192 2.304 4.2496 9.728 13.8752 9.728h33.024v-29.952c0-5.888-3.1744-10.8544-8.4992-13.3632a15.872 15.872 0 0 0-6.3488-1.4336z" fill="#010101" fill-opacity="1" p-id="1746" />\r
    <path d="M339.2 449.4336c-0.6144 0-1.2288-0.0512-1.8944-0.1536-5.5808-1.024-9.216-6.3488-8.192-11.9296a256.8704 256.8704 0 0 1 9.9328-37.6832 10.30144 10.30144 0 0 1 13.056-6.2976c5.3248 1.8944 8.1408 7.7312 6.2976 13.056a236.6976 236.6976 0 0 0-9.1136 34.6624c-0.9216 4.9152-5.2224 8.3456-10.0864 8.3456z" fill="#FFFFFF" fill-opacity="1" p-id="1747" />\r
    <path d="M364.4928 378.6752c-1.7408 0-3.4816-0.4608-5.12-1.3824a10.22464 10.22464 0 0 1-3.7376-13.9776C407.552 273.5104 503.1424 266.496 507.1872 266.24c5.6832-0.3584 10.496 3.9424 10.8544 9.5744s-3.9424 10.496-9.5744 10.8544c-0.9728 0.0512-88.8832 6.8608-135.168 86.8864-1.8432 3.2768-5.2736 5.12-8.8064 5.12z" fill="#FFFFFF" fill-opacity="1" p-id="1748" />\r
    <path d="M437.4528 900.1984c-5.632 0-10.24-4.608-10.24-10.24v-108.8c0-5.632 4.608-10.24 10.24-10.24s10.24 4.608 10.24 10.24v108.8c0 5.6832-4.5568 10.24-10.24 10.24z" fill="#FFFFFF" fill-opacity="1" p-id="1749" />\r
</symbol><symbol viewBox="0 0 1029 1261"   id="svg-bot-2"><defs node-id="91"><linearGradient gradientUnits="objectBoundingBox" id="svg-bot-2_linearGradient-1" node-id="5" spreadMethod="pad" x1="0" x2="1" y1="0.5" y2="0.5"><stop offset="0" stop-color="#252424" /><stop offset="1" stop-color="#181818" /></linearGradient><linearGradient gradientUnits="objectBoundingBox" id="svg-bot-2_linearGradient-2" node-id="8" spreadMethod="pad" x1="0.0161995" x2="1" y1="0.5" y2="0.5"><stop offset="0" stop-color="#a5a5a5" /><stop offset="1" stop-color="#7b7a7a" /></linearGradient><linearGradient gradientUnits="objectBoundingBox" id="svg-bot-2_linearGradient-3" node-id="11" spreadMethod="pad" x1="0" x2="1" y1="0.5" y2="0.5"><stop offset="0" stop-color="#252424" /><stop offset="1" stop-color="#181818" /></linearGradient></defs><g node-id="110"><g node-id="111"><g node-id="112"><g node-id="121"><g node-id="129"><path d="M 371.40 1196.35 L 455.97 1198.74 L 455.97 1241.75 L 456.24 1243.70 L 455.97 1245.65 L 455.97 1250.28 L 453.11 1250.19 L 450.84 1252.11 L 447.87 1253.96 L 444.09 1255.75 L 440.17 1257.19 L 435.68 1258.44 L 430.57 1259.51 L 425.42 1260.25 L 419.89 1260.71 L 413.96 1260.89 L 407.32 1260.67 L 401.21 1260.09 L 395.57 1259.18 L 390.00 1257.86 L 385.26 1256.32 L 381.26 1254.59 L 378.32 1252.96 L 376.02 1251.30 L 374.26 1249.62 L 372.96 1247.92 L 371.40 1247.88 L 371.40 1196.35 Z" fill="url(#svg-bot-2_linearGradient-1)" fill-rule="evenodd" group-id="1,2,3,12,20" id="svg-bot-2_形状结合" node-id="20" stroke="currentColor" target-height="64.54004" target-width="84.84" target-x="371.4" target-y="1196.35" /><path d="M 456.24 1201.15 L 456.02 1202.85 L 455.43 1204.51 L 454.42 1206.16 L 452.92 1207.84 L 450.61 1209.72 L 447.63 1211.54 L 443.85 1213.30 L 439.94 1214.71 L 435.48 1215.94 L 430.41 1216.99 L 425.30 1217.71 L 419.83 1218.17 L 413.96 1218.34 L 408.08 1218.17 L 402.61 1217.71 L 397.50 1216.99 L 392.43 1215.94 L 387.97 1214.71 L 384.06 1213.30 L 380.28 1211.54 L 377.30 1209.72 L 375.00 1207.84 L 373.49 1206.16 L 372.48 1204.51 L 371.89 1202.85 L 371.67 1201.15 L 371.89 1199.44 L 372.48 1197.78 L 373.49 1196.13 L 375.00 1194.45 L 377.30 1192.57 L 380.28 1190.75 L 384.06 1188.99 L 387.97 1187.58 L 392.43 1186.35 L 397.50 1185.31 L 402.61 1184.58 L 408.08 1184.12 L 413.96 1183.96 L 419.83 1184.12 L 425.30 1184.58 L 430.41 1185.31 L 435.48 1186.35 L 439.94 1187.58 L 443.85 1188.99 L 447.63 1190.75 L 450.61 1192.57 L 452.92 1194.45 L 454.42 1196.13 L 455.43 1197.78 L 456.02 1199.44 L 456.24 1201.15 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,3,12,20" id="svg-bot-2_形状结合" node-id="21" stroke="none" target-height="34.380005" target-width="84.56998" target-x="371.67" target-y="1183.96" /></g><g node-id="130"><path d="M 401.18 1166.27 L 429.37 1168.00 L 429.37 1205.18 L 428.61 1205.13 L 427.51 1206.04 L 425.87 1206.90 L 423.55 1207.70 L 419.83 1208.43 L 415.27 1208.71 L 411.44 1208.51 L 408.16 1207.99 L 405.18 1207.11 L 403.10 1206.09 L 401.98 1205.18 L 401.38 1204.30 L 401.18 1203.41 L 401.18 1203.45 L 401.18 1166.27 Z" fill="url(#svg-bot-2_linearGradient-2)" fill-rule="evenodd" group-id="1,2,3,12,21" id="svg-bot-2_形状结合备份" node-id="23" stroke="none" target-height="42.43994" target-width="28.190002" target-x="401.18" target-y="1166.27" /><path d="M 429.37 1164.59 L 429.16 1165.50 L 428.56 1166.40 L 427.44 1167.31 L 425.36 1168.36 L 422.39 1169.25 L 419.11 1169.78 L 415.27 1169.98 L 411.44 1169.78 L 408.16 1169.25 L 405.18 1168.36 L 403.10 1167.31 L 401.99 1166.40 L 401.39 1165.50 L 401.18 1164.59 L 401.39 1163.68 L 401.99 1162.78 L 403.10 1161.87 L 405.18 1160.83 L 408.16 1159.94 L 411.44 1159.40 L 415.27 1159.20 L 419.11 1159.40 L 422.39 1159.94 L 425.36 1160.83 L 427.44 1161.87 L 428.56 1162.78 L 429.16 1163.68 L 429.37 1164.59 Z" fill="#585858" fill-rule="evenodd" group-id="1,2,3,12,21" id="svg-bot-2_形状结合备份-2" node-id="24" stroke="none" target-height="10.780029" target-width="28.190002" target-x="401.18" target-y="1159.2" /></g></g><g node-id="122"><g node-id="131"><path d="M 26.26 1034.56 L 110.83 1036.96 L 110.83 1079.96 L 111.10 1081.91 L 110.83 1083.86 L 110.83 1088.49 L 107.97 1088.41 L 105.70 1090.32 L 102.73 1092.18 L 98.95 1093.97 L 95.03 1095.40 L 90.54 1096.66 L 85.43 1097.72 L 80.28 1098.46 L 74.75 1098.93 L 68.81 1099.10 L 62.18 1098.89 L 56.07 1098.31 L 50.43 1097.40 L 44.86 1096.08 L 40.12 1094.54 L 36.11 1092.81 L 33.18 1091.17 L 30.88 1089.51 L 29.12 1087.84 L 27.82 1086.14 L 26.26 1086.09 L 26.26 1034.56 Z" fill="url(#svg-bot-2_linearGradient-1)" fill-rule="evenodd" group-id="1,2,3,13,22" id="svg-bot-2_形状结合" node-id="27" stroke="none" target-height="64.53992" target-width="84.84" target-x="26.26" target-y="1034.56" /><path d="M 111.10 1039.36 L 110.88 1041.06 L 110.29 1042.72 L 109.28 1044.38 L 107.77 1046.05 L 105.47 1047.93 L 102.49 1049.76 L 98.71 1051.52 L 94.80 1052.92 L 90.34 1054.16 L 85.27 1055.20 L 80.16 1055.93 L 74.69 1056.38 L 68.81 1056.55 L 62.94 1056.38 L 57.47 1055.93 L 52.36 1055.20 L 47.29 1054.16 L 42.83 1052.92 L 38.92 1051.52 L 35.14 1049.76 L 32.16 1047.93 L 29.85 1046.05 L 28.35 1044.38 L 27.34 1042.72 L 26.75 1041.06 L 26.53 1039.36 L 26.75 1037.66 L 27.34 1036.00 L 28.35 1034.34 L 29.85 1032.67 L 32.16 1030.79 L 35.14 1028.96 L 38.92 1027.21 L 42.83 1025.80 L 47.29 1024.56 L 52.36 1023.52 L 57.47 1022.79 L 62.94 1022.34 L 68.81 1022.17 L 74.69 1022.34 L 80.16 1022.79 L 85.27 1023.52 L 90.34 1024.56 L 94.80 1025.80 L 98.71 1027.21 L 102.49 1028.96 L 105.47 1030.79 L 107.77 1032.67 L 109.28 1034.34 L 110.29 1036.00 L 110.88 1037.66 L 111.10 1039.36 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,3,13,22" id="svg-bot-2_形状结合" node-id="28" stroke="none" target-height="34.380066" target-width="84.57" target-x="26.53" target-y="1022.17" /></g><g node-id="132"><path d="M 56.04 1004.49 L 84.23 1006.22 L 84.23 1043.39 L 83.47 1043.34 L 82.37 1044.25 L 80.73 1045.12 L 78.41 1045.92 L 74.69 1046.64 L 70.13 1046.93 L 66.30 1046.73 L 63.02 1046.20 L 60.04 1045.33 L 57.96 1044.30 L 56.84 1043.40 L 56.24 1042.52 L 56.04 1041.62 L 56.04 1041.66 L 56.04 1004.49 Z" fill="url(#svg-bot-2_linearGradient-2)" fill-rule="evenodd" group-id="1,2,3,13,23" id="svg-bot-2_形状结合备份" node-id="30" stroke="none" target-height="42.440063" target-width="28.190002" target-x="56.04" target-y="1004.49" /><path d="M 84.23 1002.81 L 84.02 1003.72 L 83.42 1004.61 L 82.30 1005.53 L 80.22 1006.57 L 77.25 1007.46 L 73.97 1008.00 L 70.13 1008.20 L 66.30 1008.00 L 63.02 1007.46 L 60.04 1006.57 L 57.96 1005.53 L 56.84 1004.61 L 56.24 1003.72 L 56.04 1002.81 L 56.24 1001.90 L 56.84 1001.00 L 57.96 1000.09 L 60.04 999.04 L 63.02 998.15 L 66.30 997.62 L 70.13 997.41 L 73.97 997.62 L 77.25 998.15 L 80.22 999.04 L 82.30 1000.09 L 83.42 1001.00 L 84.02 1001.90 L 84.23 1002.81 Z" fill="#585858" fill-rule="evenodd" group-id="1,2,3,13,23" id="svg-bot-2_形状结合备份-2" node-id="31" stroke="none" target-height="10.790039" target-width="28.190002" target-x="56.04" target-y="997.41" /></g></g><g node-id="123"><path d="M 790.71 921.36 L 875.28 926.08 L 875.28 1018.93 L 875.55 1020.88 L 875.28 1022.83 L 875.28 1027.46 L 872.50 1027.31 L 870.23 1029.23 L 867.27 1031.10 L 863.49 1032.90 L 859.56 1034.35 L 855.07 1035.61 L 849.94 1036.69 L 844.77 1037.43 L 839.22 1037.90 L 833.26 1038.07 L 827.79 1037.93 L 822.66 1037.53 L 817.83 1036.89 L 813.05 1035.98 L 808.77 1034.90 L 804.95 1033.65 L 801.24 1032.11 L 798.19 1030.48 L 795.72 1028.80 L 793.54 1026.79 L 792.08 1024.79 L 791.23 1022.78 L 790.71 1022.75 L 790.71 921.36 Z" fill="url(#svg-bot-2_linearGradient-3)" fill-rule="evenodd" group-id="1,2,3,14" id="svg-bot-2_形状结合" node-id="33" stroke="none" target-height="116.70996" target-width="84.839966" target-x="790.71" target-y="921.36" /><path d="M 875.55 924.41 L 875.33 926.11 L 874.74 927.77 L 873.72 929.42 L 872.22 931.10 L 869.92 932.98 L 866.94 934.80 L 863.16 936.56 L 859.25 937.97 L 854.79 939.20 L 849.72 940.25 L 844.61 940.97 L 839.13 941.43 L 833.26 941.60 L 827.39 941.43 L 821.92 940.97 L 816.81 940.25 L 811.74 939.20 L 807.27 937.97 L 803.36 936.56 L 799.59 934.80 L 796.61 932.98 L 794.30 931.10 L 792.80 929.42 L 791.79 927.77 L 791.19 926.11 L 790.98 924.41 L 791.19 922.71 L 791.79 921.04 L 792.80 919.39 L 794.30 917.72 L 796.61 915.83 L 799.59 914.01 L 803.36 912.25 L 807.27 910.84 L 811.74 909.61 L 816.81 908.57 L 821.92 907.84 L 827.39 907.38 L 833.26 907.22 L 839.13 907.38 L 844.61 907.84 L 849.72 908.57 L 854.79 909.61 L 859.25 910.84 L 863.16 912.25 L 866.94 914.01 L 869.92 915.83 L 872.22 917.72 L 873.72 919.39 L 874.74 921.04 L 875.33 922.71 L 875.55 924.41 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,3,14" id="svg-bot-2_形状结合" node-id="34" stroke="none" target-height="34.380005" target-width="84.57001" target-x="790.98" target-y="907.22" /></g><g node-id="124"><g node-id="133"><path d="M 470.06 779.90 L 554.63 784.61 L 554.63 877.47 L 554.90 879.42 L 554.63 881.37 L 554.63 886.00 L 551.85 885.84 L 549.58 887.76 L 546.63 889.63 L 542.84 891.44 L 538.92 892.88 L 534.42 894.15 L 529.29 895.22 L 524.12 895.96 L 518.57 896.43 L 512.62 896.61 L 507.15 896.46 L 502.01 896.06 L 497.19 895.43 L 492.40 894.52 L 488.12 893.43 L 484.30 892.18 L 480.59 890.64 L 477.54 889.02 L 475.07 887.33 L 472.89 885.32 L 471.44 883.32 L 470.59 881.31 L 470.06 881.28 L 470.06 779.90 Z" fill="url(#svg-bot-2_linearGradient-3)" fill-rule="evenodd" group-id="1,2,3,15,24" id="svg-bot-2_形状结合" node-id="37" stroke="none" target-height="116.70996" target-width="84.84003" target-x="470.06" target-y="779.9" /><path d="M 554.90 782.94 L 554.69 784.64 L 554.09 786.30 L 553.08 787.96 L 551.58 789.63 L 549.27 791.51 L 546.29 793.34 L 542.51 795.09 L 538.60 796.50 L 534.14 797.74 L 529.07 798.78 L 523.96 799.51 L 518.49 799.96 L 512.62 800.13 L 506.75 799.96 L 501.27 799.51 L 496.16 798.78 L 491.09 797.74 L 486.63 796.50 L 482.72 795.09 L 478.94 793.34 L 475.96 791.51 L 473.66 789.63 L 472.16 787.96 L 471.14 786.30 L 470.55 784.64 L 470.33 782.94 L 470.55 781.24 L 471.14 779.58 L 472.16 777.92 L 473.66 776.25 L 475.96 774.37 L 478.94 772.54 L 482.72 770.78 L 486.63 769.38 L 491.09 768.14 L 496.16 767.10 L 501.27 766.37 L 506.75 765.92 L 512.62 765.75 L 518.49 765.92 L 523.96 766.37 L 529.07 767.10 L 534.14 768.14 L 538.60 769.38 L 542.51 770.78 L 546.29 772.54 L 549.27 774.37 L 551.58 776.25 L 553.08 777.92 L 554.09 779.58 L 554.69 781.24 L 554.90 782.94 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,3,15,24" id="svg-bot-2_形状结合" node-id="38" stroke="none" target-height="34.380005" target-width="84.57004" target-x="470.33" target-y="765.75" /></g><g node-id="134"><path d="M 499.84 748.07 L 528.03 749.79 L 528.03 786.97 L 527.27 786.92 L 526.17 787.83 L 524.54 788.70 L 522.21 789.50 L 518.49 790.22 L 513.93 790.51 L 510.10 790.31 L 506.82 789.78 L 503.84 788.90 L 501.76 787.88 L 500.64 786.98 L 500.05 786.10 L 499.84 785.20 L 499.84 785.24 L 499.84 748.07 Z" fill="url(#svg-bot-2_linearGradient-2)" fill-rule="evenodd" group-id="1,2,3,15,25" id="svg-bot-2_形状结合备份" node-id="40" stroke="none" target-height="42.440002" target-width="28.190033" target-x="499.84" target-y="748.07" /><path d="M 528.03 746.38 L 527.82 747.30 L 527.22 748.19 L 526.10 749.11 L 524.02 750.15 L 521.05 751.04 L 517.77 751.58 L 513.93 751.78 L 510.10 751.58 L 506.82 751.04 L 503.84 750.15 L 501.76 749.11 L 500.65 748.19 L 500.05 747.30 L 499.84 746.38 L 500.05 745.47 L 500.65 744.58 L 501.76 743.66 L 503.84 742.62 L 506.82 741.73 L 510.10 741.19 L 513.93 740.99 L 517.77 741.19 L 521.05 741.73 L 524.02 742.62 L 526.10 743.66 L 527.22 744.58 L 527.82 745.47 L 528.03 746.38 Z" fill="#585858" fill-rule="evenodd" group-id="1,2,3,15,25" id="svg-bot-2_形状结合备份-2" node-id="41" stroke="none" target-height="10.790039" target-width="28.190033" target-x="499.84" target-y="740.99" /></g></g><g node-id="125"><path d="M 457.95 764.75 L 889.37 966.63 L 438.35 1214.19 L 0.50 1013.50 Z" fill="#c0c0c0" fill-rule="evenodd" group-id="1,2,3,16" id="svg-bot-2_矩形备份-52" node-id="43" stroke="none" target-height="449.43994" target-width="888.87" target-x="0.5" target-y="764.75" /><path d="M 889.37 554.43 L 889.37 966.63 L 438.35 1214.19 L 436.37 807.89 L 889.37 554.43 Z M 843.51 614.67 L 482.24 816.81 L 483.81 1089.24 L 843.51 891.80 L 843.51 614.67 Z" fill="#d8d8d8" fill-rule="evenodd" group-id="1,2,3,16" id="svg-bot-2_形状结合" node-id="44" stroke="none" target-height="659.75995" target-width="453" target-x="436.37" target-y="554.43" /><path d="M 2.65 603.14 L 441.77 807.89 L 440.11 1215.96 L 1.00 1013.00 L 2.65 603.14 Z M 77.41 738.72 L 44.34 760.22 L 43.24 989.00 L 68.96 1027.86 L 375.06 1170.15 L 407.65 1149.79 L 408.72 929.24 L 377.59 879.51 L 77.41 738.72 Z" fill="#e8e6e6" fill-rule="evenodd" group-id="1,2,3,16" id="svg-bot-2_形状结合" node-id="45" stroke="none" target-height="612.81995" target-width="440.77" target-x="1" target-y="603.14" /><path d="M 4.56 607.46 L 445.29 349.30 L 888.50 555.50 L 437.96 814.33 Z" fill="#f7f7f7" fill-rule="evenodd" group-id="1,2,3,16" id="svg-bot-2_路径-16备份-2" node-id="46" stroke="none" target-height="465.03003" target-width="883.94" target-x="4.56" target-y="349.3" /><path d="M 3.56 595.67 L 68.66 553.43 L 510.87 763.75 L 436.96 802.55 Z" fill="#2a7b5a" fill-rule="evenodd" group-id="1,2,3,16" id="svg-bot-2_路径-16备份-2" node-id="47" stroke="none" target-height="249.12" target-width="507.31" target-x="3.56" target-y="553.43" /><path d="M 3.56 595.67 L 3.95 607.35 L 435.37 812.28 L 436.96 802.55 Z" fill="#286f52" fill-rule="evenodd" group-id="1,2,3,16" id="svg-bot-2_路径-16备份-2" node-id="48" stroke="none" target-height="216.61005" target-width="433.4" target-x="3.56" target-y="595.67" /><path d="M 435.37 812.28 L 510.87 774.53 L 510.87 763.75 L 435.37 801.50 Z" fill="#1d5940" fill-rule="evenodd" group-id="1,2,3,16" id="svg-bot-2_路径-16备份-2" node-id="49" stroke="none" target-height="48.53003" target-width="75.5" target-x="435.37" target-y="763.75" /></g></g><g node-id="113"><g node-id="126"><g node-id="135"><path d="M 866.81 262.39 L 854.29 268.65 L 854.29 563.61 L 866.81 557.36 Z" fill="#dbdbdb" fill-rule="evenodd" group-id="1,2,4,17,26" id="svg-bot-2_矩形" node-id="52" stroke="none" target-height="301.21997" target-width="12.52002" target-x="854.29" target-y="262.39" /></g><path d="M 854.29 268.65 L 840.99 261.61 L 840.99 556.57 L 854.29 563.61 Z" fill="#bab9b9" fill-rule="evenodd" group-id="1,2,4,17,27" id="svg-bot-2_矩形备份-17" node-id="53" stroke="none" target-height="302" target-width="13.299988" target-x="840.99" target-y="261.61" /></g><g node-id="127"><g node-id="137"><path d="M 456.96 79.04 L 444.44 85.29 L 444.44 380.25 L 456.96 374.00 Z" fill="#dbdbdb" fill-rule="evenodd" group-id="1,2,4,18,28" id="svg-bot-2_矩形" node-id="55" stroke="none" target-height="301.21" target-width="12.519989" target-x="444.44" target-y="79.04" /></g><path d="M 444.44 85.29 L 431.13 78.25 L 431.13 373.22 L 444.44 380.25 Z" fill="#bab9b9" fill-rule="evenodd" group-id="1,2,4,18,29" id="svg-bot-2_矩形备份-17" node-id="56" stroke="none" target-height="302" target-width="13.309998" target-x="431.13" target-y="78.25" /></g><g node-id="128"><path d="M 242.23 158.40 L 803.09 422.65 L 803.09 435.78 L 242.23 171.53 Z" fill="#ccc6c6" fill-rule="evenodd" group-id="1,2,4,19" id="svg-bot-2_矩形备份-22" node-id="58" stroke="none" target-height="277.38" target-width="560.86005" target-x="242.23" target-y="158.4" /><g node-id="139"><path d="M 441.77 47.50 L 1002.62 311.75 L 802.76 422.54 L 238.90 159.11 Z" fill="#ffffff" fill-rule="evenodd" group-id="1,2,4,19,30" id="svg-bot-2_矩形" node-id="59" stroke="none" target-height="375.04" target-width="763.72" target-x="238.9" target-y="47.5" /></g><path d="M 1002.29 309.30 L 1002.62 322.53 L 803.09 435.78 L 803.09 419.60 Z" fill="#d8d8d8" fill-rule="evenodd" group-id="1,2,4,19,31" id="svg-bot-2_矩形备份-51" node-id="60" stroke="none" target-height="126.48001" target-width="199.52997" target-x="803.09" target-y="309.3" /></g></g><g node-id="114"><path d="M 69.66 683.85 L 69.46 686.78 L 68.93 689.30 L 68.05 691.55 L 66.99 693.17 L 66.11 694.00 L 65.21 694.47 L 64.27 694.64 L 63.33 694.47 L 62.43 694.00 L 61.55 693.17 L 60.49 691.55 L 59.61 689.30 L 59.08 686.78 L 58.88 683.85 L 59.08 680.93 L 59.61 678.41 L 60.49 676.15 L 61.55 674.54 L 62.43 673.71 L 63.33 673.24 L 64.27 673.07 L 65.21 673.24 L 66.11 673.71 L 66.99 674.54 L 68.05 676.15 L 68.93 678.41 L 69.46 680.93 L 69.66 683.85 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,5" id="svg-bot-2_椭圆形" node-id="62" stroke="none" target-height="21.570007" target-width="10.780003" target-x="58.88" target-y="673.07" /><path d="M 75.06 689.25 L 76.00 689.08 L 76.89 688.61 L 77.78 687.77 L 78.83 686.16 L 79.71 683.90 L 80.25 681.39 L 80.45 678.46 L 80.25 675.53 L 79.71 673.02 L 78.83 670.76 L 77.78 669.15 L 76.89 668.31 L 76.00 667.84 L 75.06 667.67 L 74.11 667.84 L 73.22 668.31 L 72.33 669.15 L 71.28 670.76 L 70.40 673.02 L 69.86 675.53 L 69.66 678.46 L 69.86 681.39 L 70.40 683.90 L 71.28 686.16 L 72.33 687.77 L 73.22 688.61 L 74.11 689.08 L 75.06 689.25 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,5" id="svg-bot-2_椭圆形备份-7" node-id="63" stroke="none" target-height="21.580017" target-width="10.789993" target-x="69.66" target-y="667.67" /><path d="M 64.27 673.07 L 75.06 667.67 L 75.06 689.25 L 64.27 694.64 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,5" id="svg-bot-2_矩形" node-id="64" stroke="none" target-height="26.970032" target-width="10.790001" target-x="64.27" target-y="667.67" /></g><g node-id="115"><path d="M 91.23 694.64 L 91.03 697.57 L 90.50 700.08 L 89.62 702.34 L 88.56 703.95 L 87.68 704.78 L 86.78 705.26 L 85.84 705.42 L 84.90 705.26 L 84.00 704.78 L 83.12 703.95 L 82.07 702.34 L 81.18 700.08 L 80.65 697.57 L 80.45 694.64 L 80.65 691.71 L 81.18 689.19 L 82.07 686.94 L 83.12 685.33 L 84.00 684.49 L 84.90 684.02 L 85.84 683.85 L 86.78 684.02 L 87.68 684.49 L 88.56 685.33 L 89.62 686.94 L 90.50 689.19 L 91.03 691.71 L 91.23 694.64 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,6" id="svg-bot-2_椭圆形" node-id="66" stroke="none" target-height="21.570007" target-width="10.780006" target-x="80.45" target-y="683.85" /><path d="M 96.63 700.03 L 97.57 699.86 L 98.47 699.39 L 99.35 698.56 L 100.40 696.95 L 101.28 694.69 L 101.82 692.17 L 102.02 689.25 L 101.82 686.32 L 101.28 683.80 L 100.40 681.54 L 99.35 679.93 L 98.47 679.10 L 97.57 678.63 L 96.63 678.46 L 95.69 678.63 L 94.79 679.10 L 93.90 679.93 L 92.85 681.54 L 91.97 683.80 L 91.43 686.32 L 91.23 689.25 L 91.43 692.17 L 91.97 694.69 L 92.85 696.95 L 93.90 698.56 L 94.79 699.39 L 95.69 699.86 L 96.63 700.03 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,6" id="svg-bot-2_椭圆形备份-7" node-id="67" stroke="none" target-height="21.570007" target-width="10.789993" target-x="91.23" target-y="678.46" /><path d="M 85.84 683.85 L 96.63 678.46 L 96.63 700.03 L 85.84 705.42 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,6" id="svg-bot-2_矩形" node-id="68" stroke="none" target-height="26.95996" target-width="10.790001" target-x="85.84" target-y="678.46" /></g><g node-id="116"><path d="M 134.38 716.21 L 134.18 719.14 L 133.64 721.65 L 132.76 723.91 L 131.71 725.52 L 130.82 726.36 L 129.92 726.83 L 128.98 727.00 L 128.04 726.83 L 127.15 726.36 L 126.26 725.52 L 125.21 723.91 L 124.33 721.65 L 123.79 719.14 L 123.59 716.21 L 123.79 713.28 L 124.33 710.77 L 125.21 708.51 L 126.26 706.90 L 127.15 706.06 L 128.04 705.59 L 128.98 705.42 L 129.92 705.59 L 130.82 706.06 L 131.71 706.90 L 132.76 708.51 L 133.64 710.77 L 134.18 713.28 L 134.38 716.21 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,7" id="svg-bot-2_椭圆形" node-id="70" stroke="none" target-height="21.580017" target-width="10.790009" target-x="123.59" target-y="705.42" /><path d="M 139.77 721.60 L 140.71 721.43 L 141.61 720.96 L 142.49 720.13 L 143.54 718.52 L 144.43 716.26 L 144.96 713.74 L 145.16 710.82 L 144.96 707.89 L 144.43 705.37 L 143.54 703.12 L 142.49 701.50 L 141.61 700.67 L 140.71 700.20 L 139.77 700.03 L 138.83 700.20 L 137.93 700.67 L 137.05 701.50 L 135.99 703.12 L 135.11 705.37 L 134.58 707.89 L 134.38 710.82 L 134.58 713.74 L 135.11 716.26 L 135.99 718.52 L 137.05 720.13 L 137.93 720.96 L 138.83 721.43 L 139.77 721.60 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,7" id="svg-bot-2_椭圆形备份-7" node-id="71" stroke="none" target-height="21.569946" target-width="10.779999" target-x="134.38" target-y="700.03" /><path d="M 128.98 705.42 L 139.77 700.03 L 139.77 721.60 L 128.98 727.00 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,7" id="svg-bot-2_矩形" node-id="72" stroke="none" target-height="26.96997" target-width="10.790009" target-x="128.98" target-y="700.03" /></g><g node-id="117"><path d="M 112.81 705.42 L 112.60 708.35 L 112.07 710.87 L 111.19 713.13 L 110.13 714.74 L 109.25 715.57 L 108.35 716.04 L 107.41 716.21 L 106.47 716.04 L 105.57 715.57 L 104.69 714.74 L 103.64 713.13 L 102.76 710.87 L 102.22 708.35 L 102.02 705.42 L 102.22 702.50 L 102.76 699.98 L 103.64 697.72 L 104.69 696.11 L 105.57 695.28 L 106.47 694.81 L 107.41 694.64 L 108.35 694.81 L 109.25 695.28 L 110.13 696.11 L 111.19 697.72 L 112.07 699.98 L 112.60 702.50 L 112.81 705.42 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,8" id="svg-bot-2_椭圆形" node-id="74" stroke="none" target-height="21.570007" target-width="10.790001" target-x="102.02" target-y="694.64" /><path d="M 118.20 710.82 L 119.14 710.65 L 120.04 710.18 L 120.92 709.34 L 121.97 707.73 L 122.85 705.48 L 123.39 702.96 L 123.59 700.03 L 123.39 697.10 L 122.85 694.59 L 121.97 692.33 L 120.92 690.72 L 120.04 689.89 L 119.14 689.41 L 118.20 689.25 L 117.26 689.41 L 116.36 689.89 L 115.48 690.72 L 114.42 692.33 L 113.54 694.59 L 113.01 697.10 L 112.81 700.03 L 113.01 702.96 L 113.54 705.48 L 114.42 707.73 L 115.48 709.34 L 116.36 710.18 L 117.26 710.65 L 118.20 710.82 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,8" id="svg-bot-2_椭圆形备份-7" node-id="75" stroke="none" target-height="21.570007" target-width="10.779999" target-x="112.81" target-y="689.25" /><path d="M 107.41 694.64 L 118.20 689.25 L 118.20 710.82 L 107.41 716.21 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,8" id="svg-bot-2_矩形" node-id="76" stroke="none" target-height="26.960022" target-width="10.789993" target-x="107.41" target-y="689.25" /></g><g node-id="118"><path d="M 155.95 727.00 L 155.75 729.92 L 155.21 732.44 L 154.33 734.70 L 153.28 736.31 L 152.39 737.14 L 151.50 737.61 L 150.55 737.78 L 149.61 737.61 L 148.72 737.14 L 147.83 736.31 L 146.78 734.70 L 145.90 732.44 L 145.36 729.92 L 145.16 727.00 L 145.36 724.07 L 145.90 721.55 L 146.78 719.29 L 147.83 717.68 L 148.72 716.85 L 149.61 716.38 L 150.55 716.21 L 151.50 716.38 L 152.39 716.85 L 153.28 717.68 L 154.33 719.29 L 155.21 721.55 L 155.75 724.07 L 155.95 727.00 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,9" id="svg-bot-2_椭圆形" node-id="78" stroke="none" target-height="21.570007" target-width="10.789993" target-x="145.16" target-y="716.21" /><path d="M 161.34 732.39 L 162.28 732.22 L 163.18 731.75 L 164.06 730.92 L 165.12 729.30 L 166.00 727.05 L 166.53 724.53 L 166.73 721.60 L 166.53 718.68 L 166.00 716.16 L 165.12 713.90 L 164.06 712.29 L 163.18 711.46 L 162.28 710.99 L 161.34 710.82 L 160.40 710.99 L 159.50 711.46 L 158.62 712.29 L 157.56 713.90 L 156.68 716.16 L 156.15 718.68 L 155.95 721.60 L 156.15 724.53 L 156.68 727.05 L 157.56 729.30 L 158.62 730.92 L 159.50 731.75 L 160.40 732.22 L 161.34 732.39 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,9" id="svg-bot-2_椭圆形备份-7" node-id="79" stroke="none" target-height="21.570007" target-width="10.779999" target-x="155.95" target-y="710.82" /><path d="M 150.55 716.21 L 161.34 710.82 L 161.34 732.39 L 150.55 737.78 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,9" id="svg-bot-2_矩形" node-id="80" stroke="none" target-height="26.960022" target-width="10.789993" target-x="150.55" target-y="710.82" /></g><g node-id="119"><path d="M 355.48 825.41 L 355.18 830.92 L 354.38 835.62 L 353.52 838.62 L 352.54 841.01 L 351.48 842.88 L 350.11 844.47 L 348.77 845.34 L 347.39 845.64 L 346.02 845.34 L 344.67 844.47 L 343.31 842.88 L 342.24 841.01 L 341.27 838.62 L 340.41 835.62 L 339.61 830.92 L 339.30 825.41 L 339.61 819.91 L 340.41 815.21 L 341.27 812.20 L 342.24 809.82 L 343.31 807.95 L 344.67 806.36 L 346.02 805.49 L 347.39 805.19 L 348.77 805.49 L 350.11 806.36 L 351.48 807.95 L 352.54 809.82 L 353.52 812.20 L 354.38 815.21 L 355.18 819.91 L 355.48 825.41 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,10" id="svg-bot-2_椭圆形" node-id="82" stroke="none" target-height="40.450012" target-width="16.180023" target-x="339.3" target-y="805.19" /><path d="M 363.57 837.55 L 364.95 837.25 L 366.29 836.38 L 367.65 834.79 L 368.72 832.92 L 369.70 830.54 L 370.56 827.53 L 371.36 822.83 L 371.66 817.33 L 371.36 811.83 L 370.56 807.12 L 369.70 804.12 L 368.72 801.73 L 367.65 799.86 L 366.29 798.27 L 364.95 797.40 L 363.57 797.10 L 362.20 797.40 L 360.85 798.27 L 359.49 799.86 L 358.42 801.73 L 357.45 804.12 L 356.59 807.12 L 355.78 811.83 L 355.48 817.33 L 355.78 822.83 L 356.59 827.53 L 357.45 830.54 L 358.42 832.92 L 359.49 834.79 L 360.85 836.38 L 362.20 837.25 L 363.57 837.55 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,10" id="svg-bot-2_椭圆形备份-7" node-id="83" stroke="none" target-height="40.450012" target-width="16.179993" target-x="355.48" target-y="797.1" /><path d="M 347.39 806.81 L 363.57 797.10 L 363.57 835.93 L 347.39 845.64 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,10" id="svg-bot-2_矩形" node-id="84" stroke="none" target-height="48.54004" target-width="16.179993" target-x="347.39" target-y="797.1" /></g><g node-id="120"><path d="M 199.09 508.13 L 497.17 657.33 L 497.17 694.63 L 199.09 545.43 Z" fill="#444644" fill-rule="evenodd" group-id="1,2,11" id="svg-bot-2_矩形备份-41" node-id="86" stroke="none" target-height="186.5" target-width="298.08002" target-x="199.09" target-y="508.13" /><path d="M 207.61 498.81 L 505.68 648.01 L 497.17 657.33 L 199.09 508.13 Z" fill="#696969" fill-rule="evenodd" group-id="1,2,11" id="svg-bot-2_矩形备份-42" node-id="87" stroke="none" target-height="158.52002" target-width="306.59" target-x="199.09" target-y="498.81" /><path d="M 497.17 657.33 L 506.48 648.01 L 506.48 685.31 L 497.17 694.63 Z" fill="#2b2a2a" fill-rule="evenodd" group-id="1,2,11" id="svg-bot-2_矩形" node-id="88" stroke="none" target-height="46.619995" target-width="9.309998" target-x="497.17" target-y="648.01" /><path d="M 217.72 247.03 L 497.17 384.33 L 497.17 645.43 L 217.72 508.13 Z" fill="#494a49" fill-rule="evenodd" group-id="1,2,11" id="svg-bot-2_矩形" node-id="89" stroke="none" target-height="398.4" target-width="279.45" target-x="217.72" target-y="247.03" /></g></g></g></symbol><symbol   viewBox="0 0 1051 1644" id="svg-bot-9">\r
    <title>PBA9</title>\r
    <defs>\r
        <linearGradient id="svg-bot-9_linearGradient-1" y2="50%" x2="100%" y1="50%" x1="0%">\r
            <stop offset="0%" stop-color="#252424" />\r
            <stop offset="100%" stop-color="#181818" />\r
        </linearGradient>\r
        <linearGradient id="svg-bot-9_linearGradient-2" y2="50%" x2="100%" y1="50%" x1="1.61994987%">\r
            <stop offset="0%" stop-color="#A5A5A5" />\r
            <stop offset="100%" stop-color="#7B7A7A" />\r
        </linearGradient>\r
        <linearGradient id="svg-bot-9_linearGradient-3" y2="53.5152679%" x2="33.5324159%" y1="52.2959596%" x1="10.5628407%">\r
            <stop offset="0%" stop-color="#EEECE6" />\r
            <stop offset="100%" stop-color="#BDB4A1" />\r
        </linearGradient>\r
    </defs>\r
    <g fill-rule="evenodd" fill="none" stroke-width="1" stroke="currentColor" id="svg-bot-9_页面-1">\r
        <g transform="translate(0.500000, 0.633693)" id="svg-bot-9_PBA9">\r
            <g fill-rule="nonzero" transform="translate(508.453453, 1479.969208)" id="svg-bot-9_编组-24">\r
                <g transform="translate(0.000000, 25.883740)" id="svg-bot-9_编组-23">\r
                    <path fill="url(#svg-bot-9_linearGradient-1)" id="svg-bot-9_形状结合" d="M0,14.7907085 L88.4157635,19.7209447 L88.4158196,116.802354 C88.6017545,117.471663 88.6972644,118.152109 88.6972644,118.841623 C88.6972644,119.531156 88.6017493,120.21162 88.4158045,120.880946 L88.4157635,125.721022 L85.5071674,125.557778 C78.9634845,132.156741 63.0642649,136.814054 44.4893827,136.814054 C21.7199146,136.814054 2.9709922,129.815811 0.546683008,120.821467 L0,120.790786 L0,14.7907085 Z" />\r
                    <ellipse ry="17.9724306" rx="44.2078817" cy="17.9724306" cx="44.4893827" fill="#000000" id="svg-bot-9_形状结合" />\r
                </g>\r
                <g transform="translate(31.130825, 0.000000)" id="svg-bot-9_编组-22">\r
                    <path fill="url(#svg-bot-9_linearGradient-2)" id="svg-bot-9_形状结合备份" d="M0,7.39535424 L29.4719212,9.2031075 L29.4719212,48.0698025 L28.6776991,48.0219458 C26.6911001,50.2011603 21.1995028,51.7674796 14.7359606,51.7674796 C6.59751428,51.7674796 0,49.28422 0,46.220964 L0.00102965085,46.2615849 L0,7.39535424 Z" />\r
                    <ellipse ry="5.63830199" rx="14.7359606" cy="5.63830199" cx="14.7359606" fill="#585858" id="svg-bot-9_形状结合备份-2" />\r
                </g>\r
            </g>\r
            <g fill-rule="nonzero" transform="translate(955.085487, 1259.371360)" id="svg-bot-9_编组-24备份-2">\r
                <g transform="translate(0.000000, 25.883740)" id="svg-bot-9_编组-23">\r
                    <path fill="url(#svg-bot-9_linearGradient-1)" id="svg-bot-9_形状结合" d="M0,14.7907085 L88.4157635,19.7209447 L88.4158196,116.802354 C88.6017545,117.471663 88.6972644,118.152109 88.6972644,118.841623 C88.6972644,119.531156 88.6017493,120.21162 88.4158045,120.880946 L88.4157635,125.721022 L85.5071674,125.557778 C78.9634845,132.156741 63.0642649,136.814054 44.4893827,136.814054 C21.7199146,136.814054 2.9709922,129.815811 0.546683008,120.821467 L0,120.790786 L0,14.7907085 Z" />\r
                    <ellipse ry="17.9724306" rx="44.2078817" cy="17.9724306" cx="44.4893827" fill="#000000" id="svg-bot-9_形状结合" />\r
                </g>\r
                <g transform="translate(31.130825, 0.000000)" id="svg-bot-9_编组-22">\r
                    <path fill="url(#svg-bot-9_linearGradient-2)" id="svg-bot-9_形状结合备份" d="M0,7.39535424 L29.4719212,9.2031075 L29.4719212,48.0698025 L28.6776991,48.0219458 C26.6911001,50.2011603 21.1995028,51.7674796 14.7359606,51.7674796 C6.59751428,51.7674796 0,49.28422 0,46.220964 L0.00102965085,46.2615849 L0,7.39535424 Z" />\r
                    <ellipse ry="5.63830199" rx="14.7359606" cy="5.63830199" cx="14.7359606" fill="#585858" id="svg-bot-9_形状结合备份-2" />\r
                </g>\r
            </g>\r
            <g fill-rule="nonzero" transform="translate(186.251819, 1329.340315)" id="svg-bot-9_编组-24备份">\r
                <g transform="translate(0.000000, 25.883740)" id="svg-bot-9_编组-23">\r
                    <path fill="url(#svg-bot-9_linearGradient-1)" id="svg-bot-9_形状结合" d="M0,14.7907085 L88.4157635,19.7209447 L88.4158196,116.802354 C88.6017545,117.471663 88.6972644,118.152109 88.6972644,118.841623 C88.6972644,119.531156 88.6017493,120.21162 88.4158045,120.880946 L88.4157635,125.721022 L85.5071674,125.557778 C78.9634845,132.156741 63.0642649,136.814054 44.4893827,136.814054 C21.7199146,136.814054 2.9709922,129.815811 0.546683008,120.821467 L0,120.790786 L0,14.7907085 Z" />\r
                    <ellipse ry="17.9724306" rx="44.2078817" cy="17.9724306" cx="44.4893827" fill="#000000" id="svg-bot-9_形状结合" />\r
                </g>\r
                <g transform="translate(31.130825, 0.000000)" id="svg-bot-9_编组-22">\r
                    <path fill="url(#svg-bot-9_linearGradient-2)" id="svg-bot-9_形状结合备份" d="M0,7.39535424 L29.4719212,9.2031075 L29.4719212,48.0698025 L28.6776991,48.0219458 C26.6911001,50.2011603 21.1995028,51.7674796 14.7359606,51.7674796 C6.59751428,51.7674796 0,49.28422 0,46.220964 L0.00102965085,46.2615849 L0,7.39535424 Z" />\r
                    <ellipse ry="5.63830199" rx="14.7359606" cy="5.63830199" cx="14.7359606" fill="#585858" id="svg-bot-9_形状结合备份-2" />\r
                </g>\r
            </g>\r
            <g fill-rule="nonzero" transform="translate(611.605177, 1126.909038)" id="svg-bot-9_编组-24备份-3">\r
                <g transform="translate(0.000000, 25.883740)" id="svg-bot-9_编组-23">\r
                    <path fill="url(#svg-bot-9_linearGradient-1)" id="svg-bot-9_形状结合" d="M0,14.7907085 L88.4157635,19.7209447 L88.4158196,116.802354 C88.6017545,117.471663 88.6972644,118.152109 88.6972644,118.841623 C88.6972644,119.531156 88.6017493,120.21162 88.4158045,120.880946 L88.4157635,125.721022 L85.5071674,125.557778 C78.9634845,132.156741 63.0642649,136.814054 44.4893827,136.814054 C21.7199146,136.814054 2.9709922,129.815811 0.546683008,120.821467 L0,120.790786 L0,14.7907085 Z" />\r
                    <ellipse ry="17.9724306" rx="44.2078817" cy="17.9724306" cx="44.4893827" fill="#000000" id="svg-bot-9_形状结合" />\r
                </g>\r
                <g transform="translate(31.130825, 0.000000)" id="svg-bot-9_编组-22">\r
                    <path fill="url(#svg-bot-9_linearGradient-2)" id="svg-bot-9_形状结合备份" d="M0,7.39535424 L29.4719212,9.2031075 L29.4719212,48.0698025 L28.6776991,48.0219458 C26.6911001,50.2011603 21.1995028,51.7674796 14.7359606,51.7674796 C6.59751428,51.7674796 0,49.28422 0,46.220964 L0.00102965085,46.2615849 L0,7.39535424 Z" />\r
                    <ellipse ry="5.63830199" rx="14.7359606" cy="5.63830199" cx="14.7359606" fill="#585858" id="svg-bot-9_形状结合备份-2" />\r
                </g>\r
            </g>\r
            <polygon points="598.74197 518.806372 1050 196.615434 1050 1291.03474 578.663779 1546.91275 578.449265 561.964291" fill-rule="nonzero" fill="#DED9D1" id="svg-bot-9_矩形" />\r
            <polygon points="0.51482543 454.453194 345.212256 215.78566 683.510375 401.849626 296.02462 611.989774" fill-rule="nonzero" fill="url(#svg-bot-9_linearGradient-3)" id="svg-bot-9_路径-10" />\r
            <polygon points="995.452395 305.834589 993.616985 672.488122 672.233771 886.743597 672.002552 537.332778" fill-rule="nonzero" fill="#0C0C0C" id="svg-bot-9_矩形" />\r
            <polygon points="181.701498 1354.72266 179.97182 366.564345 580.291261 560.137718 582.020939 1546.42493" fill-rule="nonzero" fill="#E9E5DD" id="svg-bot-9_路径-16" />\r
            <polygon points="209.56659 678.829835 208.078753 449.047459 552.426168 615.555711 553.914005 843.728598" fill-rule="nonzero" fill="#E9E5DD" stroke-width="0.5" stroke="#6E6E6E" id="svg-bot-9_路径-16" />\r
            <g transform="translate(242.662278, 488.515572)" id="svg-bot-9_路径-16">\r
                <g fill="#E9E5DD" transform="translate(0.000000, 0.000000)" id="svg-bot-9_path-4-link">\r
                    <polygon points="1.19026918 183.825902 -2.92644373e-14 1.17057749e-13 275.477932 133.206602 276.668201 315.744912" id="svg-bot-9_path-4" />\r
                </g>\r
                <g fill-rule="nonzero" fill="#000000" transform="translate(0.000000, 0.000000)" id="svg-bot-9_path-4-link">\r
                    <polygon points="1.19026918 183.825902 -2.92644373e-14 1.17057749e-13 275.477932 133.206602 276.668201 315.744912" id="svg-bot-9_path-4" />\r
                </g>\r
            </g>\r
            <polygon points="313.905079 672.495173 313.224926 567.4518 470.640887 643.569859 471.321041 747.877464" fill-rule="nonzero" fill="#8EC1E9" stroke-width="1.5" stroke="#000000" id="svg-bot-9_路径-16" />\r
            <polygon points="209.56659 1287.76645 208.078753 753.515766 552.426168 920.024018 553.914005 1452.66522" fill-rule="nonzero" fill="#E9E5DD" stroke-width="0.5" stroke="#6E6E6E" id="svg-bot-9_路径-16备份-3" />\r
            <polygon points="204.254706 317.275096 653.768893 2.92644373e-14 1050 196.615434 598.935845 520.253968" fill-rule="nonzero" fill="#FFFCF3" id="svg-bot-9_路径-16备份-2" />\r
            <polygon points="204.254706 317.275096 600.598133 515.717102 576.382637 565.360384 180.039209 366.918378" fill-rule="nonzero" fill="#F8F6EF" id="svg-bot-9_矩形" />\r
            <path fill-rule="nonzero" fill="#DED9D1" id="svg-bot-9_路径-12" d="M186.225252,937.488316 C157.347841,877.191105 128.752241,828.050658 100.438452,790.066975 C72.1246632,752.083292 38.860394,718.237117 0.645644105,688.528449 L0.645644105,579.368301 L23.8290419,525.89227 L1.27583391,514.615665 L0.645644105,453.227684 L188.940931,554.844152 L186.225252,937.488316 Z" />\r
            <polygon points="238.084518 1002.90492 260.592799 1013.28989 260.637725 1078.44586 238.129444 1068.0609" fill-rule="nonzero" fill="#000000" id="svg-bot-9_矩形备份-4" />\r
            <polygon points="514.361315 971.318127 565.061106 990.736683 565.106033 1033.33945 514.406241 1013.92089" fill-rule="nonzero" fill="#000000" id="svg-bot-9_矩形备份-60" />\r
            <polygon points="525.637919 644.296611 576.337711 663.715167 576.382637 706.317934 525.682846 686.899378" fill-rule="nonzero" fill="#000000" id="svg-bot-9_矩形备份-63" />\r
            <polygon points="525.637919 757.062651 576.337711 776.481207 576.382637 819.083973 525.682846 799.665418" fill-rule="nonzero" fill="#000000" id="svg-bot-9_矩形备份-64" />\r
            <polygon points="514.361315 1140.46719 565.061106 1159.88575 565.106033 1202.48851 514.406241 1183.06995" fill-rule="nonzero" fill="#000000" id="svg-bot-9_矩形备份-61" />\r
            <polygon points="514.361315 1309.61624 565.061106 1329.0348 565.106033 1371.63757 514.406241 1352.21902" fill-rule="nonzero" fill="#000000" id="svg-bot-9_矩形备份-62" />\r
            <line stroke-dasharray="3" stroke-width="0.5" stroke="#979797" id="svg-bot-9_路径-9" y2="616.105101" x2="187.339799" y1="527.043579" x1="23.6819696" />\r
            <line stroke="#979797" id="svg-bot-9_路径-9备份" y2="683.764725" x2="187.339799" y1="579.555773" x1="-1.46322187e-14" />\r
            <g fill-rule="nonzero" transform="translate(305.744142, 103.019621)" id="svg-bot-9_编组-11">\r
                <rect rx="2" height="47.5065763" width="94.9101238" y="198.426867" x="0" opacity="0.410433815" fill="#5B5B5A" id="svg-bot-9_矩形备份-33" />\r
                <rect height="180.425664" width="47.455062" y="41.7544909" x="23.7275309" fill="#C4E4E3" id="svg-bot-9_矩形" />\r
                <path fill="#FC2727" id="svg-bot-9_矩形备份-30" d="M47.455062,0 C60.5594154,0 71.1825929,10.6231775 71.1825929,23.7275309 L71.1825929,71.2598645 L71.1825929,71.2598645 L23.7275309,71.2598645 L23.7275309,23.7275309 C23.7275309,10.6231775 34.3507084,0 47.455062,0 Z" />\r
                <rect height="47.5065763" width="47.455062" y="47.5065763" x="23.7275309" fill="#FFFD54" id="svg-bot-9_矩形备份-31" />\r
                <rect height="47.5065763" width="47.455062" y="95.0131526" x="23.7275309" fill="#73FF54" id="svg-bot-9_矩形备份-32" />\r
            </g>\r
        </g>\r
    </g>\r
</symbol><symbol viewBox="0 0 1024 1024"  id="svg-clock-a">\r
    <path d="M512.3 518.9m-469.2 0a469.2 469.2 0 1 0 938.4 0 469.2 469.2 0 1 0-938.4 0Z" fill="#B3A7FF"></path>\r
    <path d="M512.3 518.9m-392.5 0a392.5 392.5 0 1 0 785 0 392.5 392.5 0 1 0-785 0Z" fill="#FFFFFF"></path>\r
    <path d="M512.3 523.8c-4.5 0-9-1.7-12.4-5.1L318.3 337.1c-6.8-6.8-6.8-17.9 0-24.8 6.8-6.8 17.9-6.8 24.8 0L524.7 494c6.8 6.8 6.8 17.9 0 24.8-3.5 3.3-7.9 5-12.4 5z" fill="#50E68E">\r
        <animateTransform attributeName="transform" attributeType="XML" type="rotate" from="45 512 512" to="405 512 512" dur="3600s" repeatCount="indefinite" />\r
    </path>\r
    <path d="M512.3 523.8c-4.5 0-9-1.7-12.4-5.1-6.8-6.8-6.8-17.9 0-24.8l130.8-130.8c6.8-6.8 17.9-6.8 24.8 0 6.8 6.8 6.8 17.9 0 24.8L524.7 518.7c-3.5 3.4-7.9 5.1-12.4 5.1z" fill="#9A36E7">\r
        <animateTransform attributeName="transform" attributeType="XML" type="rotate" from="-45 512 512" to="315 512 512" dur="43200s" repeatCount="indefinite" />\r
    </path>\r
    <path d="M512.3 506.3m-47.5 0a47.5 47.5 0 1 0 95 0 47.5 47.5 0 1 0-95 0Z" fill="#F45AFC"></path>\r
    <path d="M512.3 218.8c-9 0-16.3-7.3-16.3-16.3v-29.1c0-9 7.3-16.3 16.3-16.3s16.3 7.3 16.3 16.3v29.1c0 9-7.4 16.3-16.3 16.3zM512.3 880.8c-9 0-16.3-7.3-16.3-16.3v-29.1c0-9 7.3-16.3 16.3-16.3s16.3 7.3 16.3 16.3v29.1c0 9-7.4 16.3-16.3 16.3zM812.4 518.9c0-9 7.3-16.3 16.3-16.3h29.1c9 0 16.3 7.3 16.3 16.3s-7.3 16.3-16.3 16.3h-29.1c-8.9 0-16.3-7.3-16.3-16.3zM150.4 518.9c0-9 7.3-16.3 16.3-16.3h29.1c9 0 16.3 7.3 16.3 16.3s-7.3 16.3-16.3 16.3h-29.1c-8.9 0-16.3-7.3-16.3-16.3z" fill="#4942CF"></path>\r
    <path d="M296.9 733.5c-2.2 0-4.5-0.9-6.2-2.6-3.4-3.4-3.4-9 0-12.4L540 469.2c3.4-3.4 9-3.4 12.4 0 3.4 3.4 3.4 9 0 12.4L303.1 731c-1.7 1.7-4 2.5-6.2 2.5z" fill="#E83E24">\r
        <animateTransform attributeName="transform" attributeType="XML" type="rotate" from="135 512 512" to="495 512 512" dur="60s" repeatCount="indefinite" />\r
    </path>\r
    <path d="M512.3 506.3m-22.8 0a22.8 22.8 0 1 0 45.6 0 22.8 22.8 0 1 0-45.6 0Z" fill="#EBF257"></path>\r
</symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-common-table"><path d="M885.3 957.3H140.7c-42.2 0-76.5-34.3-76.5-76.5V136.3c0-42.2 34.3-76.5 76.5-76.5h744.6c42.2 0 76.5 34.3 76.5 76.5v744.6c-0.1 42.1-34.3 76.4-76.5 76.4z m-744.6-851c-16.5 0-29.9 13.4-29.9 29.9v744.6c0 16.5 13.4 29.9 29.9 29.9h744.6c16.5 0 29.9-13.4 29.9-29.9V136.3c0-16.5-13.4-29.9-29.9-29.9H140.7z" fill="#2F2302" p-id="1992" data-spm-anchor-id="a313x.manage_type_myprojects.0.i22.1adc3a81gVIGv0" class="" /><path d="M938.5 315.8h-851V91.1c0-4.4 3.6-8 8-8h835c4.4 0 8 3.6 8 8v224.7z" fill="#F1D563" p-id="1993" data-spm-anchor-id="a313x.manage_type_myprojects.0.i20.1adc3a81gVIGv0" class="" /><path d="M961.7 339H64.3V136.3c0-42.2 34.3-76.5 76.5-76.5h744.6c42.2 0 76.5 34.3 76.5 76.5V339z m-850.9-46.5h804.4V136.3c0-16.5-13.4-29.9-29.9-29.9H140.7c-16.5 0-29.9 13.4-29.9 29.9v156.2zM938.5 644.8h-851c-12.9 0-23.3-10.4-23.3-23.3 0-12.8 10.4-23.3 23.3-23.3h851c12.9 0 23.3 10.4 23.3 23.3-0.1 12.9-10.5 23.3-23.3 23.3z" fill="#2F2302" p-id="1994" data-spm-anchor-id="a313x.manage_type_myprojects.0.i23.1adc3a81gVIGv0" class="" /><path d="M363.4 957.3c-12.9 0-23.3-10.4-23.3-23.3V315.8c0-12.8 10.4-23.3 23.3-23.3s23.3 10.4 23.3 23.3V934c0 12.9-10.4 23.3-23.3 23.3zM662.6 957.3c-12.9 0-23.3-10.4-23.3-23.3V315.8c0-12.8 10.4-23.3 23.3-23.3s23.3 10.4 23.3 23.3V934c0 12.9-10.5 23.3-23.3 23.3z" fill="#2F2302" p-id="1995" data-spm-anchor-id="a313x.manage_type_myprojects.0.i21.1adc3a81gVIGv0" class="" /></symbol><symbol class="icon" viewBox="0 0 1094 1024"   id="svg-el-button"><path d="M984.860838 227.319149H153.357353c-15.616064 0-28.275239 12.657976-28.27524 28.272839v441.069494c0 15.614864 12.659176 28.274039 28.27524 28.27404h831.503485c15.614864 0 28.272839-12.657976 28.272839-28.27404V255.591988c0-15.613664-12.656776-28.272839-28.272839-28.272839z m-12.372367 432.768847c0 13.025187-10.559113 23.5855-23.5843 23.585501H189.31402c-13.026387 0-23.5855-10.559113-23.5855-23.585501V292.166674c0-13.025187 10.559113-23.5855 23.5855-23.5855H948.904171c13.025187 0 23.5843 10.559113 23.5843 23.5855v367.921322z" fill="#409eff" p-id="1625" data-spm-anchor-id="a313x.manage_type_myprojects.0.i3.1adc3a81px4RsK" class="" /><path d="M395.144131 473.024043c19.678184-10.226704 29.925288-27.174807 30.718512-50.803508-3.156094-40.171193-30.718512-61.438224-82.704055-63.801094h-105.154322v244.57086h111.062097c58.28093 0 87.430996-23.224289 87.430996-69.708869-0.794424-28.356842-14.584033-48.441838-41.353228-60.257389z m-118.149508-79.16035h61.438224c29.130865 0.794424 44.491321 11.040328 46.077768 30.719712-0.794424 22.061455-16.541291 33.488194-47.259803 34.263417h-60.256189V393.863693z m68.526835 174.861991h-68.526835v-74.43461h64.983129c33.856605 0.794424 51.579931 12.997586 53.167579 36.627488-0.0012 25.216349-16.541291 37.807122-49.623873 37.807122zM461.309295 393.863693h82.705255v209.126608h40.169993V393.863693h81.52322v-35.444252H461.309295zM863.017621 509.65033c0 13.403198 0.776423 27.96923 2.36407 43.716098v1.182035c-7.08861-16.541291-14.971644-31.106123-23.629901-43.716098-21.267031-33.081382-55.142837-83.88609-101.608217-152.412924h-41.352028v244.57086H737.781903v-147.688384c0-18.109738-1.180835-34.263417-3.546105-48.440638h1.180835c6.295387 13.401998 13.772809 27.580419 22.449066 42.534062 22.042254 33.082582 56.712484 84.292902 103.972287 153.59496h40.171192V358.419441H863.017621v151.230889z" fill="#C54E6A" p-id="1626" data-spm-anchor-id="a313x.manage_type_myprojects.0.i6.1adc3a81px4RsK" class="selected" /></symbol><symbol viewBox="0 0 1024 1024"   id="svg-el-tag">
    <path d="M767.1 292.6c-0.2-19-15.6-34.4-34.6-34.6l-202.2-2.5c-9.5-0.1-18.6 3.6-25.2 10.3l-35.4 35.4c48.4 138.5 72.4 282.3 42.1 433.8-1.7 10.4-3.9 21.1-6.4 31.9 6-1.5 11.7-4.4 16.3-9.1l237.6-237.6c6.7-6.7 10.4-15.8 10.3-25.2l-2.5-202.4zM664.3 429c-17.1 17.1-44.9 17.1-62 0s-17.1-44.9 0-62 44.9-17.1 62 0 17.2 44.8 0 62z" fill="#FFDE55" />
    <path d="M779.6 292.5c-0.2-12.5-5.1-24.2-13.9-33.1-8.8-8.8-20.6-13.8-33.1-13.9L530.4 243c-12.7-0.1-25.2 4.9-34.2 13.9L258.6 494.6c-9 9-13.9 20.9-13.9 33.6 0 12.7 4.9 24.7 13.9 33.6l204.7 204.7c9 9 20.9 13.9 33.6 13.9 12.7 0 24.7-4.9 33.6-13.9l237.6-237.6c9-9 14.1-21.5 13.9-34.2l-2.4-202.2z m-29.1 218.7L512.9 748.8c-4.3 4.3-9.9 6.6-16 6.6-6 0-11.7-2.3-16-6.6L276.3 544.2c-4.3-4.3-6.6-9.9-6.6-16s2.3-11.7 6.6-16l237.6-237.6c4.2-4.2 10-6.6 16-6.6h0.3l202.2 2.5c12.4 0.2 22.2 9.9 22.3 22.3l2.5 202.2c0 6-2.4 11.9-6.7 16.2z" fill="" />
    <path d="M593.5 358.1c-22 22-22 57.7 0 79.7 10.6 10.6 24.8 16.5 39.8 16.5s29.2-5.9 39.8-16.5c22-22 22-57.7 0-79.7-21.9-22-57.6-22-79.6 0z m62 62c-5.9 5.9-13.8 9.2-22.2 9.2s-16.2-3.3-22.2-9.2c-12.2-12.2-12.2-32.1 0-44.3 6.1-6.1 14.1-9.2 22.2-9.2 8 0 16.1 3.1 22.2 9.2 12.2 12.2 12.2 32.1 0 44.3z" fill="" />
</symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-hamburger"><path d="M691.3024 176.5376c47.3088 36.864 77.824 94.4128 77.824 159.0272 0 20.2752-16.384 36.6592-36.6592 36.6592h-584.704c0 1.6384-0.1024 3.3792-0.1024 5.12 0 20.2752 16.384 36.6592 36.6592 36.6592h655.36c20.2752 0 36.6592-16.384 36.6592-36.6592 0-105.8816-81.5104-192.512-185.0368-200.8064z" fill="#FFA43E" p-id="1687" /><path d="M769.1264 335.4624c0-64.6144-30.5152-122.1632-77.824-159.0272-5.4272-0.4096-10.8544-0.6144-16.2816-0.6144H349.0816c-109.568 0-198.656 87.4496-201.3184 196.3008h584.704c20.1728 0 36.5568-16.384 36.6592-36.6592z" fill="#FFD14F" p-id="1688" /><path d="M814.6944 512.4096h-48.9472c2.1504 6.2464 3.2768 12.9024 3.2768 19.8656V606.208c0 33.9968-27.648 61.6448-61.6448 61.6448H150.9376c8.2944 24.2688 31.232 41.6768 58.368 41.6768h605.3888c33.9968 0 61.6448-27.648 61.6448-61.6448v-73.9328c0-33.8944-27.5456-61.5424-61.6448-61.5424z" fill="#E01E22" p-id="1689" /><path d="M769.1264 606.3104v-73.9328c0-6.9632-1.2288-13.6192-3.2768-19.8656H209.3056c-33.9968 0-61.6448 27.648-61.6448 61.6448v73.9328c0 6.9632 1.1264 13.6192 3.2768 19.8656h556.544c33.9968-0.1024 61.5424-27.648 61.6448-61.6448z" fill="#F06661" p-id="1690" /><path d="M835.1744 413.7984H769.024v15.6672c0 22.7328-18.432 41.1648-41.1648 41.1648H147.6608v0.512c0 22.7328 18.432 41.1648 41.1648 41.1648h646.3488c22.7328 0 41.1648-18.432 41.1648-41.1648v-16.2816c0-22.6304-18.432-41.0624-41.1648-41.0624z" fill="#3EBA4A" p-id="1691" /><path d="M769.1264 429.568v-15.6672H188.8256c-22.7328 0-41.1648 18.432-41.1648 41.1648v15.6672h580.3008c22.6304 0 41.0624-18.432 41.1648-41.1648z" fill="#68E077" p-id="1692" /><path d="M848.384 709.632H769.024v14.336c0 45.568-36.864 82.432-82.432 82.432H158.4128c14.2336 24.8832 40.96 41.6768 71.68 41.6768h563.8144c45.568 0 82.432-36.864 82.432-82.432v-28.16c0-15.36-12.4928-27.8528-27.9552-27.8528z" fill="#FFA43E" p-id="1693" /><path d="M769.1264 723.968v-14.336H175.616c-15.4624 0-27.9552 12.4928-27.9552 27.9552v28.16c0 14.848 3.8912 28.672 10.752 40.7552h528.1792c45.568-0.1024 82.5344-36.9664 82.5344-82.5344z" fill="#FFD14F" p-id="1694" /><path d="M420.7616 540.5696l-68.9152 68.9152 26.112 26.112 95.1296-95.1296c18.0224-18.0224 42.496-28.16 67.9936-28.16h-52.3264c-25.6 0.1024-49.9712 10.24-67.9936 28.2624z" fill="#FFA43E" p-id="1695" /><path d="M488.6528 512.4096H214.9376c25.4976 0 49.9712 10.1376 67.9936 28.16l68.9152 68.9152 68.9152-68.9152c18.0224-18.0224 42.496-28.16 67.8912-28.16z" fill="#FFD14F" p-id="1696" /><path d="M499.2 264.0896a26.3168 15.4624 90 1 0 30.9248 0 26.3168 15.4624 90 1 0-30.9248 0Z" fill="#FDF7E5" p-id="1697" /><path d="M377.060391 277.944478a15.4624 26.3168 30 1 0 26.3168-45.582035 15.4624 26.3168 30 1 0-26.3168 45.582035Z" fill="#FDF7E5" p-id="1698" /><path d="M625.699208 262.908333a26.3168 15.4624 60 1 0 26.781662-15.4624 26.3168 15.4624 60 1 0-26.781662 15.4624Z" fill="#FDF7E5" p-id="1699" /><path d="M867.4304 415.0272c11.5712-8.4992 19.1488-22.3232 19.1488-37.7856 0-116.736-94.9248-211.6608-211.6608-211.6608H349.0816c-116.736 0-211.6608 94.9248-211.6608 211.6608 0 15.4624 7.5776 29.184 19.1488 37.7856-11.6736 9.4208-19.1488 23.8592-19.1488 40.0384v16.2816c0 19.968 11.4688 37.2736 28.16 45.7728-17.1008 13.1072-28.16 33.792-28.16 56.9344v73.9328c0 21.504 9.5232 40.7552 24.4736 53.9648-14.336 5.5296-24.4736 19.3536-24.4736 35.6352v28.16c0 51.0976 41.5744 92.672 92.672 92.672h563.8144c51.0976 0 92.672-41.5744 92.672-92.672v-28.16c0-16.1792-10.1376-30.1056-24.4736-35.6352 14.9504-13.2096 24.4736-32.4608 24.4736-53.9648v-73.9328c0-23.1424-11.0592-43.8272-28.16-56.9344 16.6912-8.4992 28.16-25.8048 28.16-45.7728v-16.2816c0-16.1792-7.4752-30.6176-19.1488-40.0384zM184.32 403.5584c-14.5408 0-26.4192-11.776-26.4192-26.4192 0-105.3696 85.8112-191.1808 191.1808-191.1808h325.9392c105.3696 0 191.1808 85.8112 191.1808 191.1808 0 14.5408-11.776 26.4192-26.4192 26.4192H184.32z m293.888 119.0912c-4.4032 3.1744-8.4992 6.7584-12.3904 10.6496l-87.8592 87.8592-87.8592-87.8592c-3.8912-3.8912-8.0896-7.4752-12.3904-10.6496H478.208z m387.8912 243.0976c0 39.8336-32.3584 72.192-72.192 72.192H230.0928c-39.8336 0-72.192-32.3584-72.192-72.192v-28.16c0-9.728 7.9872-17.7152 17.7152-17.7152h672.8704c9.728 0 17.7152 7.9872 17.7152 17.7152v28.16z m0-191.6928v73.9328c0 28.3648-23.04 51.4048-51.4048 51.4048H209.3056c-28.3648 0-51.4048-23.04-51.4048-51.4048v-73.9328c0-28.3648 23.04-51.4048 51.4048-51.4048h5.632c22.9376 0 44.544 8.9088 60.7232 25.1904l95.1296 95.1296c1.9456 1.9456 4.5056 2.9696 7.2704 2.9696 2.6624 0 5.3248-1.024 7.2704-2.9696L480.256 547.84c16.1792-16.1792 37.7856-25.1904 60.7232-25.1904h273.7152c28.3648 0 51.4048 23.1424 51.4048 51.4048z m0-102.8096c0 17.1008-13.824 30.9248-30.9248 30.9248H188.8256c-16.9984 0-30.9248-13.824-30.9248-30.9248v-16.2816c0-17.1008 13.9264-30.9248 30.9248-30.9248h646.3488c17.1008 0 30.9248 13.9264 30.9248 30.9248v16.2816z m-72.192 387.1744zM377.9584 645.9392z m136.704-351.4368c10.9568 0 19.5584-13.4144 19.5584-30.4128 0-17.1008-8.6016-30.4128-19.5584-30.4128s-19.5584 13.4144-19.5584 30.4128c0 17.1008 8.6016 30.4128 19.5584 30.4128z m0-52.6336c5.3248 0 11.3664 9.1136 11.3664 22.2208 0 13.1072-5.9392 22.2208-11.3664 22.2208s-11.3664-9.1136-11.3664-22.2208c0-13.1072 6.0416-22.2208 11.3664-22.2208z m-139.5712 39.6288c2.1504 1.2288 4.5056 1.8432 7.0656 1.8432 3.2768 0 6.7584-1.024 10.3424-3.072 5.632-3.1744 10.8544-8.704 14.7456-15.36 8.4992-14.7456 7.7824-30.6176-1.7408-36.1472-4.9152-2.8672-11.0592-2.3552-17.408 1.2288-5.632 3.1744-10.8544 8.704-14.7456 15.36-8.4992 14.7456-7.7824 30.6176 1.7408 36.1472z m5.3248-32.0512c3.072-5.4272 7.3728-9.9328 11.6736-12.3904 2.2528-1.3312 4.4032-1.9456 6.2464-1.9456 1.1264 0 2.1504 0.2048 2.9696 0.7168 4.608 2.6624 5.2224 13.6192-1.3312 24.9856-3.072 5.4272-7.3728 9.9328-11.6736 12.3904-3.6864 2.048-7.0656 2.56-9.216 1.2288-4.608-2.7648-5.2224-13.6192 1.3312-24.9856zM636.928 280.2688c3.584 2.048 7.0656 3.072 10.3424 3.072 2.56 0 4.9152-0.6144 7.0656-1.8432 9.5232-5.5296 10.24-21.4016 1.7408-36.1472-3.8912-6.7584-9.1136-12.1856-14.7456-15.36-6.3488-3.584-12.4928-3.9936-17.408-1.2288-9.5232 5.5296-10.24 21.4016-1.7408 36.1472 3.8912 6.656 9.1136 12.1856 14.7456 15.36z m-9.0112-44.4416c2.2528-1.3312 5.632-0.8192 9.216 1.2288 4.3008 2.4576 8.6016 6.9632 11.6736 12.3904 6.5536 11.3664 5.9392 22.3232 1.3312 24.9856-2.2528 1.3312-5.632 0.8192-9.216-1.2288-4.3008-2.4576-8.6016-6.9632-11.6736-12.3904-6.5536-11.3664-5.9392-22.2208-1.3312-24.9856z" p-id="1700" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-hotpot"><path d="M962.4576 438.4768h-64.3072c-11.6736-61.6448-37.6832-118.1696-74.5472-165.9904 17.6128 48.0256 27.136 99.84 27.136 153.9072 0 246.9888-200.192 447.1808-447.1808 447.1808-17.92 0-35.5328-1.024-52.8384-3.072 49.152 22.1184 103.7312 34.5088 161.1776 34.5088 192 0 351.744-137.6256 386.1504-319.5904h64.3072c10.752 0 19.456-8.704 19.456-19.456V457.9328c0.1024-10.752-8.6016-19.456-19.3536-19.456z" fill="#FFA43E" p-id="1853" /><path d="M850.8416 426.496c0-54.0672-9.6256-105.8816-27.136-153.9072-71.8848-93.3888-184.7296-153.6-311.7056-153.6-192 0-351.744 137.6256-386.1504 319.5904H61.5424c-10.752 0-19.456 8.704-19.456 19.456v108.1344c0 10.752 8.704 19.456 19.456 19.456h64.3072c24.1664 127.488 109.7728 233.2672 224.9728 285.0816 17.3056 2.048 34.9184 3.072 52.8384 3.072 246.9888-0.1024 447.1808-200.3968 447.1808-447.2832z" fill="#FFD14F" p-id="1854" /><path d="M680.6528 681.6768c0-93.184-75.5712-168.6528-168.6528-168.6528s-168.6528-75.5712-168.6528-168.6528S418.816 175.616 512 175.616v-1.9456c-186.88 0-338.3296 151.4496-338.3296 338.3296S325.12 850.3296 512 850.3296c93.184 0 168.6528-75.4688 168.6528-168.6528z" fill="#FDF7E5" p-id="1855" /><path d="M512 173.6704v1.9456c-93.184 0-168.6528 75.5712-168.6528 168.6528S418.816 512.9216 512 512.9216s168.6528 75.5712 168.6528 168.6528S605.184 850.3296 512 850.3296c186.88 0 338.3296-151.4496 338.3296-338.3296S698.88 173.6704 512 173.6704z" fill="#E01E22" p-id="1856" /><path d="M557.568 394.1376l19.5584-19.5584c27.648-27.648-27.4432-82.6368-54.9888-54.9888L391.5776 450.048s6.2464 29.3888 62.464 52.6336 92.16 11.5712 92.16 11.5712l59.8016-59.8016c27.5456-27.5456-20.8896-87.8592-48.4352-60.3136z" fill="#F06661" p-id="1857" /><path d="M592.4864 444.7232c14.336-14.336-17.5104-46.08-31.744-31.744-14.336 14.336 17.408 46.08 31.744 31.744z" fill="#E01E22" p-id="1858" /><path d="M349.4912 488.7552c0-14.9504-10.9568-27.7504-26.4192-32.768 3.3792 5.12 5.4272 11.0592 5.4272 17.408 0 12.1856-7.2704 22.9376-18.2272 29.184 1.536 3.9936 2.3552 8.192 2.3552 12.5952 0 21.9136-20.6848 39.7312-46.2848 39.7312-6.4512 0-12.5952-1.1264-18.2272-3.1744 8.192 11.1616 22.6304 18.6368 39.2192 18.6368 25.6 0 46.2848-17.8176 46.2848-39.7312 0-4.4032-0.8192-8.6016-2.3552-12.5952 10.9568-6.3488 18.2272-17.1008 18.2272-29.2864z" fill="#3EBA4A" p-id="1859" /><path d="M312.6272 515.1744c0-4.4032-0.8192-8.6016-2.3552-12.5952 10.9568-6.2464 18.2272-16.9984 18.2272-29.184 0-6.3488-1.9456-12.288-5.4272-17.408-4.5056-1.4336-9.4208-2.2528-14.5408-2.2528-14.6432 0-27.5456 6.656-34.7136 16.5888-5.9392-3.9936-13.312-6.3488-21.4016-6.3488-19.2512 0-34.9184 13.4144-34.9184 30.0032 0 13.4144 10.24 24.7808 24.4736 28.5696-0.6144 2.56-0.9216 5.3248-0.9216 8.0896 0 7.7824 2.6624 15.0528 7.0656 21.1968 5.632 2.048 11.776 3.1744 18.2272 3.1744 25.6-0.1024 46.2848-17.92 46.2848-39.8336z" fill="#68E077" p-id="1860" /><path d="M558.6944 620.4416c14.848 17.8176 21.1968 41.1648 15.1552 64.512-10.8544 42.2912-58.0608 68.8128-105.472 59.0848-4.8128-1.024-9.4208-2.2528-13.824-3.8912 12.0832 14.4384 29.696 25.3952 50.9952 29.696 47.4112 9.728 94.6176-16.7936 105.472-59.0848 9.728-38.0928-13.2096-75.9808-52.3264-90.3168zM432.5376 586.8544c13.4144 16.0768 19.1488 37.1712 13.7216 58.2656-9.8304 38.2976-52.5312 62.1568-95.3344 53.4528-4.3008-0.9216-8.4992-2.048-12.4928-3.584 10.8544 13.1072 26.9312 22.9376 46.08 26.8288 42.9056 8.704 85.6064-15.1552 95.3344-53.4528 8.8064-34.304-11.9808-68.608-47.3088-81.5104z" fill="#7C4115" p-id="1861" /><path d="M446.2592 645.12c5.4272-21.0944-0.3072-42.1888-13.7216-58.2656-3.9936-1.4336-8.192-2.6624-12.4928-3.584-42.9056-8.704-85.6064 15.1552-95.3344 53.4528-5.4272 21.0944 0.3072 42.1888 13.7216 58.2656 3.9936 1.4336 8.192 2.6624 12.4928 3.584 42.8032 8.704 85.504-15.1552 95.3344-53.4528zM573.8496 684.9536c5.9392-23.3472-0.3072-46.592-15.1552-64.512-4.4032-1.6384-9.0112-2.9696-13.824-3.8912-47.4112-9.728-94.6176 16.7936-105.472 59.0848-5.9392 23.3472 0.4096 46.592 15.2576 64.512 4.4032 1.6384 9.0112 2.9696 13.824 3.8912 47.3088 9.6256 94.5152-16.7936 105.3696-59.0848z" fill="#8B5526" p-id="1862" /><path d="M542.3104 676.1472l33.28 13.824-37.6832 1.1264c-2.7648 0.1024-5.2224 1.3312-6.5536 3.1744l-17.6128 26.0096-1.4336-29.3888c-0.1024-2.1504-1.6384-4.096-4.096-5.12l-33.28-13.824 37.6832-1.1264c2.7648-0.1024 5.2224-1.3312 6.5536-3.1744l17.6128-26.0096 1.4336 29.3888c0 2.2528 1.6384 4.1984 4.096 5.12zM419.5328 636.928l30.72 12.6976-34.7136 1.024c-2.56 0.1024-4.8128 1.2288-6.0416 2.9696L393.216 677.5808l-1.3312-27.0336c-0.1024-1.9456-1.536-3.7888-3.7888-4.7104l-30.72-12.6976 34.7136-1.024c2.56-0.1024 4.8128-1.2288 6.0416-2.9696l16.2816-23.9616 1.3312 27.0336c0.1024 1.9456 1.536 3.7888 3.7888 4.7104z" fill="#C8A981" p-id="1863" /><path d="M767.8976 503.6032c3.584 7.0656 5.632 15.0528 5.632 23.552 0 28.8768-23.3472 52.224-52.224 52.224-8.4992 0-16.4864-2.048-23.552-5.632 8.6016 16.9984 26.3168 28.7744 46.6944 28.7744 28.8768 0 52.224-23.3472 52.224-52.224 0-20.3776-11.776-38.0928-28.7744-46.6944z" fill="#E01E22" p-id="1864" /><path d="M773.5296 527.1552c0-8.4992-2.048-16.4864-5.632-23.552-7.0656-3.584-15.0528-5.632-23.552-5.632-28.8768 0-52.224 23.4496-52.224 52.224 0 8.4992 2.048 16.4864 5.632 23.552 7.0656 3.584 15.0528 5.632 23.552 5.632 28.7744 0 52.224-23.3472 52.224-52.224z" fill="#F06661" p-id="1865" /><path d="M563.5072 364.9536c14.336-14.336-17.5104-46.08-31.744-31.744-14.336 14.2336 17.5104 45.9776 31.744 31.744z" fill="#E01E22" p-id="1866" /><path d="M752.3328 369.5616c3.1744 5.7344 5.0176 12.288 5.0176 19.3536 0 22.016-17.8176 39.8336-39.8336 39.8336-7.0656 0-13.6192-1.8432-19.3536-5.0176 6.7584 12.1856 19.8656 20.48 34.816 20.48 22.016 0 39.8336-17.8176 39.8336-39.8336 0-15.0528-8.2944-28.0576-20.48-34.816z" fill="#FFA43E" p-id="1867" /><path d="M717.7216 310.6816c4.096 7.4752 6.5536 15.9744 6.5536 25.088 0 28.5696-23.1424 51.712-51.712 51.712-9.1136 0-17.7152-2.3552-25.088-6.5536 8.8064 15.872 25.8048 26.624 45.2608 26.624 28.5696 0 51.712-23.1424 51.712-51.712-0.1024-19.3536-10.8544-36.2496-26.7264-45.1584z" fill="#E2E2E2" p-id="1868" /><path d="M757.3504 388.9152c0-7.0656-1.8432-13.6192-5.0176-19.3536-5.7344-3.1744-12.288-5.0176-19.3536-5.0176-22.016 0-39.8336 17.8176-39.8336 39.8336 0 7.0656 1.8432 13.6192 5.0176 19.3536 5.7344 3.1744 12.288 5.0176 19.3536 5.0176 21.9136 0 39.8336-17.92 39.8336-39.8336z" fill="#FFD14F" p-id="1869" /><path d="M724.2752 335.872c0-9.1136-2.3552-17.7152-6.5536-25.088-7.4752-4.096-15.9744-6.5536-25.088-6.5536-28.5696 0-51.712 23.1424-51.712 51.712 0 9.1136 2.3552 17.7152 6.5536 25.088 7.4752 4.096 15.9744 6.5536 25.088 6.5536 28.5696 0 51.712-23.1424 51.712-51.712z" fill="#FFFFFF" p-id="1870" /><path d="M512 163.4304c-93.0816 0-180.6336 36.2496-246.4768 102.0928S163.4304 418.9184 163.4304 512s36.2496 180.6336 102.0928 246.4768 153.3952 102.0928 246.4768 102.0928 180.6336-36.2496 246.4768-102.0928 102.0928-153.3952 102.0928-246.4768-36.2496-180.6336-102.0928-246.4768-153.3952-102.0928-246.4768-102.0928zM183.9104 512c0-142.6432 91.5456-264.3968 218.9312-309.4528-42.3936 32.768-69.8368 84.0704-69.8368 141.7216 0 98.6112 80.2816 178.8928 178.8928 178.8928 87.3472 0 158.4128 71.0656 158.4128 158.4128S599.3472 840.0896 512 840.0896c-180.9408 0-328.0896-147.1488-328.0896-328.0896z m414.8224-64.8192l-6.9632 6.9632c-5.12-1.7408-11.3664-5.8368-17.2032-11.6736-10.5472-10.5472-15.36-22.2208-10.9568-26.624 2.2528-2.2528 5.3248-2.9696 9.1136-2.048 3.8912 0.9216 8.0896 3.584 11.6736 7.168s6.2464 7.8848 7.168 11.6736c0.9216 3.7888 0.3072 6.8608-2.048 9.1136-1.6384 1.6384-1.6384 4.1984 0 5.8368 1.6384 1.6384 4.1984 1.6384 5.8368 0 4.3008-4.3008 5.8368-10.3424 4.096-16.896-1.3312-5.3248-4.608-10.8544-9.3184-15.4624-9.0112-9.0112-23.04-14.5408-32.3584-5.12-9.4208 9.4208-1.2288 25.9072 10.9568 38.1952 5.12 5.12 10.9568 9.5232 16.6912 12.1856L550.4 495.616c-10.6496-15.36-15.872-38.2976-16.0768-55.5008-0.1024-3.7888 0.1024-7.0656 0.512-9.9328l23.4496-23.4496c10.6496-10.6496 26.7264-0.2048 33.6896 6.7584 6.9632 7.0656 17.408 23.04 6.7584 33.6896z m-123.904 42.9056c0 2.7648 0.1024 5.5296 0.3072 8.2944-2.2528-0.512-4.5056-1.1264-6.7584-1.7408l6.4512-6.5536z m8.6016 10.0352c-0.7168-7.168-0.6144-13.5168 0-18.6368l22.7328-22.7328c0.4096 12.9024 3.584 28.672 10.5472 44.032-1.536 0-3.072-0.1024-4.7104-0.1024-9.728 0-19.2512-0.8192-28.5696-2.56z m42.5984 3.1744c-10.0352-19.8656-12.4928-40.1408-11.5712-52.736l11.6736-11.6736v1.3312c0.3072 19.5584 6.144 44.4416 18.432 61.2352l-3.584 3.584c-5.0176-0.8192-9.9328-1.3312-14.9504-1.7408z m43.8272-135.8848l-6.9632 6.9632c-5.12-1.7408-11.3664-5.8368-17.2032-11.6736-10.5472-10.5472-15.36-22.2208-10.9568-26.624 5.12-5.12 14.336-1.2288 20.7872 5.12 3.584 3.584 6.2464 7.8848 7.168 11.6736 0.9216 3.7888 0.3072 6.8608-2.048 9.1136-1.6384 1.6384-1.6384 4.1984 0 5.8368 1.6384 1.6384 4.1984 1.6384 5.8368 0 9.3184-9.3184 3.8912-23.3472-5.12-32.3584s-23.04-14.5408-32.3584-5.12c-9.4208 9.4208-1.2288 25.9072 10.9568 38.1952 5.12 5.12 10.9568 9.5232 16.7936 12.1856l-6.3488 6.3488-0.2048 0.2048c-2.2528 1.4336-4.4032 3.072-6.3488 5.12l-22.8352 22.8352c-10.3424-15.36-15.36-37.888-15.5648-54.784-0.1024-3.7888 0.1024-7.0656 0.4096-9.8304l23.4496-23.4496c4.3008-4.3008 9.728-5.5296 16.4864-3.7888 12.0832 3.1744 24.576 15.6672 27.7504 27.7504 1.8432 6.5536 0.6144 11.8784-3.6864 16.2816z m-72.704-8.3968v1.3312c0.3072 19.2512 5.9392 43.7248 17.92 60.6208l-12.3904 12.3904c-14.5408-22.2208-18.3296-47.7184-17.2032-62.5664l11.6736-11.776zM477.184 378.9824c0.1024 4.096 0.6144 8.3968 1.2288 12.9024 1.6384 10.4448 6.144 29.2864 18.3296 47.3088l-27.136 27.136c-10.3424-15.36-15.36-37.888-15.5648-54.784-0.1024-3.7888 0.1024-7.0656 0.4096-9.8304l22.7328-22.7328z m-31.3344 31.3344v1.3312c0.3072 19.2512 5.9392 43.7248 17.92 60.6208l-12.3904 12.3904c-14.5408-22.2208-18.3296-47.7184-17.2032-62.5664l11.6736-11.776z m-20.0704 20.0704c0.1024 4.096 0.6144 8.3968 1.2288 12.9024 1.536 9.728 5.5296 26.8288 15.9744 43.7248-16.0768-7.7824-30.6176-18.2272-43.1104-30.72l25.9072-25.9072z m199.7824 389.4272c39.936-32.8704 65.4336-82.6368 65.4336-138.24 0-80.4864-53.3504-148.6848-126.5664-171.1104l48.8448-48.8448c18.3296-18.3296 10.4448-45.4656-6.8608-62.6688-6.8608-6.8608-15.36-12.288-24.1664-15.1552l2.048-2.048c9.5232-9.5232 12.8-22.4256 9.0112-36.2496-5.12-19.3536-22.9376-37.0688-42.2912-42.2912-13.824-3.6864-26.7264-0.512-36.2496 9.0112L386.4576 440.7296c-20.5824-26.7264-32.8704-60.2112-32.8704-96.4608 0-87.3472 71.0656-158.4128 158.4128-158.4128 2.1504 0 4.1984-0.7168 5.8368-1.8432 178.176 3.1744 322.2528 149.0944 322.2528 327.9872 0 141.0048-89.3952 261.5296-214.528 307.8144z m272.5888-262.144c-2.2528 0-4.096-1.8432-4.096-4.096v-83.1488c0-2.2528 1.8432-4.096 4.096-4.096s4.096 1.8432 4.096 4.096v83.1488c0 2.2528-1.7408 4.096-4.096 4.096z m-772.3008-91.3408c2.2528 0 4.096 1.8432 4.096 4.096v83.1488c0 2.2528-1.8432 4.096-4.096 4.096s-4.096-1.8432-4.096-4.096v-83.1488c0-2.2528 1.8432-4.096 4.096-4.096z m218.0096 64.2048c0-2.7648-0.3072-5.632-0.8192-8.2944 10.5472-8.4992 16.5888-20.5824 16.5888-33.4848 0-24.9856-22.9376-45.3632-51.0976-45.3632-14.2336 0-27.4432 5.12-37.0688 14.0288-5.9392-2.4576-12.3904-3.7888-19.1488-3.7888-24.8832 0-45.1584 18.0224-45.1584 40.2432 0 15.0528 9.1136 28.3648 23.4496 35.328v1.3312c0 27.5456 25.3952 49.9712 56.5248 49.9712s56.7296-22.3232 56.7296-49.9712z m-22.1184-8.9088c1.1264 2.8672 1.7408 5.9392 1.7408 8.9088 0 16.2816-16.1792 29.4912-36.0448 29.4912-19.8656 0-36.0448-13.2096-36.0448-29.4912 0-1.9456 0.2048-3.7888 0.7168-5.7344 1.3312-5.4272-1.9456-10.8544-7.2704-12.288-10.0352-2.7648-16.896-10.24-16.896-18.7392 0-10.8544 11.0592-19.7632 24.6784-19.7632 5.8368 0 11.264 1.6384 15.7696 4.608 4.608 3.072 10.752 1.9456 14.0288-2.56 5.5296-7.5776 15.6672-12.3904 26.4192-12.3904 16.896 0 30.6176 11.1616 30.6176 24.8832 0 8.0896-4.9152 15.6672-13.1072 20.3776-4.608 2.6624-6.4512 7.9872-4.608 12.6976z m203.3664 260.4032c44.7488 0 85.2992-27.8528 95.8464-68.8128 5.632-21.7088 1.9456-44.4416-10.24-63.7952-13.6192-21.7088-36.864-37.376-63.8976-42.9056-22.016-4.5056-44.032-1.8432-63.0784 6.144-12.4928-20.5824-34.2016-35.5328-59.904-40.7552-48.8448-10.0352-97.792 17.8176-109.1584 61.952-5.2224 20.2752-1.8432 41.3696 9.5232 59.392 12.6976 20.2752 34.304 34.816 59.392 39.936 6.656 1.3312 13.4144 2.048 20.1728 2.048 10.9568 0 21.8112-1.7408 32.0512-5.2224 1.2288 2.3552 2.4576 4.608 3.8912 6.8608 13.6192 21.7088 36.864 37.376 63.8976 42.9056 7.168 1.536 14.4384 2.2528 21.504 2.2528z m-137.3184-68.9152c-19.6608-3.9936-36.4544-15.1552-46.08-30.72-8.2944-13.312-10.752-28.672-6.9632-43.52 8.6016-33.6896 46.8992-54.784 85.1968-47.0016 19.6608 3.9936 36.352 15.1552 45.9776 30.5152-8.192 5.632-15.5648 12.4928-21.504 20.2752l-23.2448-9.6256c-0.8192-0.3072-1.2288-0.8192-1.2288-1.1264l-1.3312-27.0336c-0.1024-1.7408-1.2288-3.2768-2.9696-3.7888s-3.4816 0.2048-4.5056 1.6384L394.8544 626.688c-0.3072 0.512-1.3312 1.1264-2.7648 1.1264l-34.7136 1.024c-1.9456 0.1024-3.584 1.4336-3.8912 3.3792-0.3072 1.9456 0.7168 3.7888 2.4576 4.5056l30.72 12.6976c0.8192 0.3072 1.2288 0.8192 1.2288 1.1264l1.3312 27.0336c0.1024 1.7408 1.2288 3.2768 2.9696 3.7888 0.4096 0.1024 0.7168 0.2048 1.1264 0.2048 1.3312 0 2.56-0.6144 3.3792-1.8432l16.2816-23.9616c0.4096-0.512 1.3312-1.1264 2.7648-1.1264l21.4016-0.6144c-3.1744 5.9392-5.7344 12.288-7.4752 18.944-3.1744 12.4928-3.3792 25.2928-0.6144 37.6832-13.2096 4.4032-27.5456 5.3248-41.2672 2.4576z m43.2128-66.9696l-15.5648 0.512c-3.8912 0.1024-7.3728 1.8432-9.3184 4.7104l-9.4208 13.824-0.7168-14.848c-0.2048-3.584-2.56-6.7584-6.3488-8.2944l-13.0048-5.4272 15.5648-0.512c3.8912-0.1024 7.3728-1.8432 9.3184-4.7104l9.4208-13.824 0.7168 14.848c0.2048 3.584 2.56 6.7584 6.3488 8.2944l13.0048 5.4272z m26.0096 79.872c-9.1136-14.6432-11.8784-31.6416-7.68-47.9232 4.7104-18.3296 17.3056-33.1776 33.9968-42.5984 0 0 0.1024 0 0.1024-0.1024 0.6144-0.3072 1.2288-0.6144 1.7408-1.024 11.8784-6.2464 25.6-9.728 39.936-9.728 5.8368 0 11.776 0.6144 17.7152 1.8432 21.504 4.4032 39.936 16.6912 50.5856 33.6896 9.1136 14.6432 11.8784 31.6416 7.68 47.9232-8.192 31.8464-40.2432 53.3504-75.776 53.3504-5.8368 0-11.776-0.6144-17.7152-1.8432-21.504-4.3008-39.936-16.5888-50.5856-33.5872z m80.9984-30.8224l37.6832-1.1264c1.9456-0.1024 3.584-1.4336 3.8912-3.3792s-0.7168-3.7888-2.4576-4.5056l-33.28-13.824c-1.024-0.4096-1.536-1.1264-1.536-1.536l-1.4336-29.3888c-0.1024-1.7408-1.2288-3.2768-2.9696-3.7888s-3.4816 0.2048-4.5056 1.6384l-17.6128 26.0096c-0.4096 0.7168-1.6384 1.3312-3.2768 1.4336l-37.6832 1.1264c-1.9456 0.1024-3.584 1.4336-3.8912 3.3792-0.3072 1.9456 0.7168 3.7888 2.4576 4.5056l33.28 13.824c1.024 0.4096 1.536 1.1264 1.536 1.536l1.4336 29.3888c0.1024 1.7408 1.2288 3.2768 2.9696 3.7888 0.4096 0.1024 0.7168 0.2048 1.1264 0.2048 1.3312 0 2.56-0.6144 3.3792-1.8432l17.6128-26.0096c0.512-0.7168 1.6384-1.4336 3.2768-1.4336z m-10.0352-3.1744l-10.752 15.872-0.8192-17.2032c-0.2048-3.6864-2.7648-7.0656-6.656-8.704l-15.6672-6.4512 18.5344-0.512c4.096-0.1024 7.7824-1.9456 9.8304-5.0176l10.752-15.872 0.8192 17.2032c0.2048 3.6864 2.7648 7.0656 6.656 8.704l15.6672 6.4512-18.5344 0.512c-4.096 0.1024-7.7824 1.9456-9.8304 5.0176z m-14.2336 32.3584z m168.1408-174.08c0 34.5088 28.0576 62.464 62.464 62.464 34.5088 0 62.464-28.0576 62.464-62.464s-28.0576-62.464-62.464-62.464-62.464 27.9552-62.464 62.464z m104.5504 0c0 23.1424-18.8416 41.984-41.984 41.984s-41.984-18.8416-41.984-41.984 18.8416-41.984 41.984-41.984c23.04 0 41.984 18.8416 41.984 41.984z m-94.3104-256.3072c-34.4064 0-62.3616 27.9552-62.3616 62.3616 0 31.9488 24.1664 58.368 55.1936 61.952 6.0416 20.7872 25.2928 36.1472 48.128 36.1472 27.648 0 50.0736-22.4256 50.0736-50.0736 0-19.968-11.6736-37.1712-28.5696-45.2608 0-0.9216 0.1024-1.8432 0.1024-2.7648-0.2048-34.4064-28.16-62.3616-62.5664-62.3616zM650.24 356.352c0-23.1424 18.8416-41.8816 41.8816-41.8816 22.4256 0 40.7552 17.7152 41.8816 39.8336h-1.024c-25.1904 0-46.1824 18.7392-49.5616 43.1104-18.944-4.096-33.1776-20.8896-33.1776-41.0624z m82.7392 77.6192c-16.2816 0-29.5936-13.312-29.5936-29.5936s13.312-29.5936 29.5936-29.5936c16.2816 0 29.5936 13.312 29.5936 29.5936s-13.312 29.5936-29.5936 29.5936z m259.1744 23.9616v108.1344c0 16.384-13.312 29.696-29.696 29.696h-55.808c-39.2192 185.6512-203.776 319.5904-394.5472 319.5904S156.672 781.5168 117.5552 595.7632H61.5424c-16.384 0-29.696-13.312-29.696-29.696V457.9328c0-16.384 13.312-29.696 29.696-29.696h55.9104c39.1168-185.6512 203.776-319.5904 394.5472-319.5904 45.9776 0 91.0336 7.68 133.9392 22.7328 41.472 14.6432 80.1792 35.84 114.8928 63.1808 4.4032 3.4816 5.2224 9.9328 1.7408 14.336-3.4816 4.4032-9.9328 5.2224-14.336 1.7408-67.8912-53.3504-149.6064-81.5104-236.2368-81.5104-183.808 0-342.016 130.8672-376.1152 311.1936-0.9216 5.12-5.5296 8.6016-10.6496 8.2944H61.5424c-5.12 0-9.216 4.096-9.216 9.216v108.1344c0 5.12 4.096 9.216 9.216 9.216h63.7952c5.0176-0.2048 9.5232 3.2768 10.4448 8.2944C169.984 763.904 328.192 894.7712 512 894.7712S854.016 763.904 888.1152 583.5776c0.9216-5.12 5.5296-8.6016 10.6496-8.2944h63.6928c5.12 0 9.216-4.096 9.216-9.216V457.9328c0-5.12-4.096-9.216-9.216-9.216h-63.7952c-5.0176 0.2048-9.5232-3.2768-10.4448-8.2944-13.7216-72.704-48.2304-139.4688-99.6352-193.2288-3.8912-4.096-3.7888-10.5472 0.3072-14.4384s10.5472-3.7888 14.4384 0.3072c52.224 54.4768 87.8592 121.856 103.3216 195.2768h55.808c16.384-0.1024 29.696 13.2096 29.696 29.5936z" p-id="1871" /></symbol><symbol viewBox="0 0 1024 1024"  id="svg-light">\r
    <path d="M565.096296 289.185185s-0.948148 0 0 0c-110.933333-20.859259-208.592593 40.77037-237.985185 148.859259-14.222222 53.096296-24.651852 101.451852 44.562963 221.866667 14.222222 25.6 11.377778 70.162963 8.533333 95.762963-1.896296 14.222222 64.474074 36.02963 89.125926 42.666667l95.762963-509.155556z" fill="#FDB813" />\r
    <path d="M732.918519 513.896296c11.377778-111.881481-56.888889-203.851852-166.874075-224.711111h-0.948148L469.333333 798.340741c25.6 2.844444 94.814815 6.637037 98.607408-7.585185 6.637037-25.6 20.859259-67.318519 42.666666-86.281482C719.644444 618.192593 727.22963 568.888889 732.918519 513.896296z" fill="#FD9B13" />\r
    <path d="M467.437037 806.874074c-7.585185-0.948148-12.325926-7.585185-14.222222-14.222222l-38.874074-256c-0.948148-5.688889 0.948148-11.377778 4.74074-15.170371 3.792593-3.792593 9.481481-5.688889 15.170371-4.74074l167.822222 31.288889c5.688889 0.948148 10.42963 4.740741 12.325926 9.481481 1.896296 4.740741 1.896296 11.377778-0.948148 16.118519L486.4 798.340741c-3.792593 6.637037-11.377778 10.42963-18.962963 8.533333z m-14.222222-251.259259l27.496296 182.992592L572.681481 578.37037l-119.466666-22.755555z" fill="#F12A3F" />\r
    <path d="M375.466667 709.214815l-25.6 137.481481c0 2.844444 1.896296 5.688889 7.585185 10.42963l65.422222 54.992593c5.688889 4.740741 15.17037 8.533333 23.703704 10.429629l36.029629-193.422222-107.14074-19.911111z" fill="#2D4375" />\r
    <path d="M482.607407 729.125926l-36.029629 193.422222c9.481481 1.896296 18.014815 1.896296 25.6-0.948148l80.592592-27.496296c6.637037-1.896296 10.42963-4.740741 11.377778-6.637037L589.748148 749.037037l-107.140741-19.911111z" fill="#1E2D4F" />\r
    <path d="M612.503704 217.125926c-3.792593 18.014815-20.859259 29.392593-38.874074 26.548148-18.014815-3.792593-30.340741-20.859259-26.548149-38.874074l18.962963-100.503704c3.792593-18.014815 20.859259-29.392593 38.874075-26.548148 18.014815 3.792593 30.340741 20.859259 26.548148 38.874074l-18.962963 100.503704z" fill="#FDB813" />\r
    <path d="M382.103704 228.503704c10.42963 15.17037 6.637037 36.02963-8.533334 46.459259-15.17037 10.42963-36.02963 6.637037-46.459259-8.533333l-57.837037-84.385186c-10.42963-15.17037-6.637037-36.02963 8.533333-46.459259 15.17037-10.42963 36.02963-6.637037 46.45926 8.533334l57.837037 84.385185zM757.57037 298.666667c-15.17037 10.42963-18.962963 31.288889-8.533333 46.459259 10.42963 15.17037 31.288889 18.962963 46.459259 8.533333l84.385185-57.837037c15.17037-10.42963 18.962963-31.288889 8.533334-46.459259-10.42963-15.17037-31.288889-18.962963-46.459259-8.533333l-84.385186 57.837037z" fill="#FDB813" />\r
    <path d="M252.207407 361.244444c18.014815 3.792593 30.340741 20.859259 26.548149 38.874075-3.792593 18.014815-20.859259 29.392593-38.874075 26.548148l-100.503703-18.962963c-18.014815-3.792593-30.340741-20.859259-26.548148-38.874074 3.792593-18.014815 20.859259-29.392593 38.874074-26.548149l100.503703 18.962963zM931.081481 488.296296c18.014815 3.792593 30.340741 20.859259 26.548149 38.874074-3.792593 18.014815-20.859259 29.392593-38.874074 26.548149l-100.503704-18.962963c-18.014815-3.792593-30.340741-20.859259-26.548148-38.874075 3.792593-18.014815 20.859259-29.392593 38.874074-26.548148l100.503703 18.962963z" fill="#FDB813" />\r
    <path d="M593.540741 807.822222c1.896296-7.585185-3.792593-15.17037-11.377778-16.118518l-107.140741-19.911111-4.740741 27.496296 107.140741 19.911111c6.637037 0.948148 14.222222-3.792593 16.118519-11.377778z" fill="#CEEFF6" />\r
    <path d="M366.933333 750.933333c-7.585185-1.896296-15.17037 3.792593-16.118518 11.377778-1.896296 7.585185 3.792593 15.17037 11.377778 16.118519l107.14074 19.911111 4.740741-27.496297-107.140741-19.911111zM356.503704 808.77037c-7.585185-1.896296-15.17037 3.792593-16.118519 11.377778-1.896296 7.585185 3.792593 15.17037 11.377778 16.118519l107.140741 19.911111 4.74074-27.496297-107.14074-19.911111z" fill="#FFFFFF" />\r
    <path d="M570.785185 848.592593l-107.140741-19.911112-4.74074 27.496297 107.14074 19.911111c7.585185 1.896296 15.17037-3.792593 16.118519-11.377778 1.896296-7.585185-2.844444-15.17037-11.377778-16.118518z" fill="#CEEFF6" />\r
</symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-now-time"><path d="M583.68 157.696v-28.672c0-12.288 8.192-20.48 20.48-20.48s20.48 8.192 20.48 20.48v28.672h163.84c57.344 0 102.4 45.056 102.4 102.4v73.728c0 12.288-8.192 20.48-20.48 20.48s-20.48-8.192-20.48-20.48v-73.728c0-34.816-26.624-61.44-61.44-61.44h-163.84v36.864c0 12.288-8.192 20.48-20.48 20.48s-20.48-8.192-20.48-20.48v-36.864h-266.24v36.864c0 12.288-8.192 20.48-20.48 20.48s-20.48-8.192-20.48-20.48v-36.864h-143.36c-34.816 0-61.44 26.624-61.44 61.44v118.784h399.36c12.288 0 20.48 8.192 20.48 20.48s-8.192 20.48-20.48 20.48H71.68v393.216c0 34.816 26.624 61.44 61.44 61.44h337.92c12.288 0 20.48 8.192 20.48 20.48s-8.192 20.48-20.48 20.48H133.12c-57.344 0-102.4-45.056-102.4-102.4v-552.96c0-57.344 45.056-102.4 102.4-102.4h143.36v-28.672c0-12.288 8.192-20.48 20.48-20.48s20.48 8.192 20.48 20.48v28.672h266.24z m374.784 626.688c-6.144 10.24-18.432 14.336-28.672 8.192-10.24-6.144-14.336-18.432-8.192-28.672 63.488-114.688 22.528-258.048-92.16-319.488-114.688-63.488-258.048-22.528-319.488 92.16s-22.528 258.048 92.16 319.488c81.92 45.056 182.272 36.864 256-18.432 8.192-6.144 22.528-4.096 28.672 4.096 6.144 8.192 4.096 22.528-4.096 28.672-86.016 65.536-204.8 73.728-301.056 20.48-133.12-73.728-182.272-241.664-108.544-376.832s241.664-182.272 376.832-108.544c135.168 77.824 182.272 245.76 108.544 378.88z m-231.424-319.488v184.32l167.936 36.864c10.24 2.048 18.432 14.336 16.384 24.576s-14.336 18.432-24.576 16.384l-200.704-45.056v-217.088c0-12.288 8.192-20.48 20.48-20.48s20.48 8.192 20.48 20.48z m-518.144 94.208c34.816-8.192 61.44-24.576 79.872-49.152h24.576V768h-43.008v-196.608c-14.336 10.24-34.816 18.432-61.44 22.528v-34.816z" fill="#32373B" p-id="1596" data-spm-anchor-id="a313x.manage_type_myprojects.0.i0.1adc3a81DQz5PY" class="selected" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-pie-charts"><path d="M512 819.2a307.2 307.2 0 0 1 0-614.4h20.48v298.5984l211.3536 211.3536-14.7456 14.336a304.3328 304.3328 0 0 1-217.088 90.112zM491.52 245.76a266.24 266.24 0 1 0 193.7408 467.7632L491.52 520.6016z" fill="#1296db" p-id="10301" data-spm-anchor-id="a313x.search_index.0.i4.235d3a811lrcUt" class="" /><path d="M778.24 682.3936l-204.8-202.752V163.84l23.3472 3.2768a307.2 307.2 0 0 1 194.1504 498.0736z m-163.84-219.9552l158.5152 158.5152A265.8304 265.8304 0 0 0 614.4 212.1728z" fill="#5ad562" p-id="10302" data-spm-anchor-id="a313x.search_index.0.i7.235d3a811lrcUt" class="" /><path d="M292.49536 702.2592l204.8-204.8 28.91776 28.99968-204.75904 204.8z" fill="#1296db" p-id="10303" data-spm-anchor-id="a313x.search_index.0.i5.235d3a811lrcUt" class="" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-progress-a"><path d="M324.266667 599.466667c-6.4-4.266667-12.8-8.533333-14.933334-17.066667s-6.4-17.066667-6.4-27.733333h32c0 6.4 2.133333 10.666667 4.266667 14.933333s6.4 4.266667 10.666667 4.266667 8.533333-2.133333 10.666666-4.266667 4.266667-6.4 4.266667-12.8v-27.733333c0-4.266667-2.133333-8.533333-4.266667-10.666667s-4.266667-6.4-8.533333-6.4-6.4 0-8.533333 2.133333-4.266667 4.266667-4.266667 8.533334h-32v-102.4h87.466667v32h-55.466667v34.133333c2.133333-2.133333 6.4-4.266667 8.533333-6.4s8.533333-2.133333 10.666667-2.133333c8.533333 0 14.933333 2.133333 19.2 6.4s10.666667 8.533333 12.8 17.066666c2.133333 6.4 4.266667 14.933333 4.266667 25.6V554.666667c0 10.666667-2.133333 19.2-6.4 25.6-4.266667 6.4-8.533333 12.8-17.066667 17.066666s-14.933333 6.4-25.6 6.4c-6.4 2.133333-14.933333 0-21.333333-4.266666zM437.333333 593.066667c-8.533333-8.533333-12.8-19.2-12.8-34.133334V469.333333c0-14.933333 4.266667-27.733333 12.8-34.133333s19.2-12.8 36.266667-12.8 27.733333 4.266667 36.266667 12.8 12.8 19.2 12.8 34.133333v89.6c0 14.933333-4.266667 27.733333-12.8 36.266667s-19.2 12.8-36.266667 12.8c-17.066667-2.133333-27.733333-6.4-36.266667-14.933333z m46.933334-25.6c2.133333-4.266667 4.266667-8.533333 4.266666-14.933334v-81.066666c0-6.4-2.133333-10.666667-4.266666-14.933334s-6.4-4.266667-10.666667-4.266666-8.533333 2.133333-12.8 4.266666-4.266667 8.533333-4.266667 14.933334v81.066666c0 6.4 2.133333 10.666667 4.266667 14.933334s6.4 4.266667 10.666667 4.266666 10.666667 0 12.8-4.266666zM554.666667 490.666667c-4.266667-6.4-8.533333-12.8-8.533334-23.466667v-14.933333c0-10.666667 2.133333-17.066667 8.533334-23.466667s12.8-8.533333 21.333333-8.533333 17.066667 2.133333 21.333333 8.533333 8.533333 12.8 8.533334 23.466667v14.933333c0 10.666667-2.133333 17.066667-8.533334 23.466667s-12.8 8.533333-21.333333 8.533333-17.066667-2.133333-21.333333-8.533333z m32-10.666667c2.133333-2.133333 4.266667-6.4 4.266666-12.8V448c0-4.266667-2.133333-8.533333-4.266666-10.666667s-6.4-4.266667-10.666667-4.266666-8.533333 2.133333-10.666667 4.266666-4.266667 6.4-4.266666 10.666667v21.333333c0 4.266667 2.133333 8.533333 4.266666 12.8s6.4 4.266667 10.666667 4.266667 8.533333-4.266667 10.666667-6.4z m74.666666-59.733333h17.066667l-98.133333 181.333333h-17.066667l98.133333-181.333333z m-17.066666 177.066666c-4.266667-6.4-8.533333-12.8-8.533334-23.466666v-14.933334c0-10.666667 2.133333-17.066667 8.533334-23.466666s12.8-8.533333 21.333333-8.533334 17.066667 2.133333 21.333333 8.533334 8.533333 12.8 8.533334 23.466666v14.933334c0 10.666667-2.133333 17.066667-8.533334 23.466666s-12.8 8.533333-21.333333 8.533334-14.933333-4.266667-21.333333-8.533334z m34.133333-10.666666c2.133333-2.133333 4.266667-6.4 4.266667-12.8V554.666667c0-4.266667-2.133333-8.533333-4.266667-10.666667s-6.4-4.266667-10.666667-4.266667-8.533333 2.133333-10.666666 4.266667-4.266667 6.4-4.266667 10.666667v19.2c0 4.266667 2.133333 8.533333 4.266667 12.8s6.4 4.266667 10.666666 4.266666 8.533333-2.133333 10.666667-4.266666z" fill="#B0B0B0" p-id="1705" /><path d="M512 85.333333C277.333333 85.333333 85.333333 277.333333 85.333333 512s192 426.666667 426.666667 426.666667 426.666667-192 426.666667-426.666667S746.666667 85.333333 512 85.333333z m0 768c-187.733333 0-341.333333-153.6-341.333333-341.333333S324.266667 170.666667 512 170.666667s341.333333 153.6 341.333333 341.333333-153.6 341.333333-341.333333 341.333333z" fill="#5CB87A" opacity=".6" p-id="1706" /><path d="M853.333333 512c0 187.733333-153.6 341.333333-341.333333 341.333333v85.333334c234.666667 0 426.666667-192 426.666667-426.666667S746.666667 85.333333 512 85.333333v85.333334c187.733333 0 341.333333 153.6 341.333333 341.333333z" fill="#F5F7FA" p-id="1707" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-svg-text"><path d="M662.186667 853.333333H362.666667a21.333333 21.333333 0 0 1 0-42.666666c35.285333 0 64-28.714667 64-64V341.333333H277.333333C242.048 341.333333 213.333333 370.048 213.333333 405.333333a21.333333 21.333333 0 0 1-42.666666 0v-213.333333a21.333333 21.333333 0 0 1 21.333333-21.333333h640a21.333333 21.333333 0 0 1 21.333333 21.333333v213.333333a21.333333 21.333333 0 0 1-42.666666 0c0-35.285333-28.714667-64-64-64H597.333333v405.333334c0 35.285333 28.714667 64 64 64h0.853334a21.333333 21.333333 0 0 1 0 42.666666z m-214.229334-42.666666h128.085334A106.197333 106.197333 0 0 1 554.666667 746.666667v-426.666667a21.333333 21.333333 0 0 1 21.333333-21.333333h170.666667c24.021333 0 46.165333 7.978667 64 21.376V213.333333H213.333333v106.709334A106.282667 106.282667 0 0 1 277.333333 298.666667h170.666667a21.333333 21.333333 0 0 1 21.333333 21.333333v426.666667c0 24.021333-7.978667 46.165333-21.376 64zM320 85.333333h-85.333333a21.333333 21.333333 0 0 1 0-42.666666h85.333333a21.333333 21.333333 0 0 1 0 42.666666zM554.666667 85.333333h-85.333334a21.333333 21.333333 0 0 1 0-42.666666h85.333334a21.333333 21.333333 0 0 1 0 42.666666zM789.333333 85.333333h-85.333333a21.333333 21.333333 0 0 1 0-42.666666h85.333333a21.333333 21.333333 0 0 1 0 42.666666zM320 981.333333h-85.333333a21.333333 21.333333 0 0 1 0-42.666666h85.333333a21.333333 21.333333 0 0 1 0 42.666666zM554.666667 981.333333h-85.333334a21.333333 21.333333 0 0 1 0-42.666666h85.333334a21.333333 21.333333 0 0 1 0 42.666666zM789.333333 981.333333h-85.333333a21.333333 21.333333 0 0 1 0-42.666666h85.333333a21.333333 21.333333 0 0 1 0 42.666666zM64 810.666667a21.333333 21.333333 0 0 1-21.333333-21.333334v-85.333333a21.333333 21.333333 0 0 1 42.666666 0v85.333333a21.333333 21.333333 0 0 1-21.333333 21.333334zM64 576A21.333333 21.333333 0 0 1 42.666667 554.666667v-85.333334a21.333333 21.333333 0 0 1 42.666666 0v85.333334a21.333333 21.333333 0 0 1-21.333333 21.333333zM64 341.333333a21.333333 21.333333 0 0 1-21.333333-21.333333v-85.333333a21.333333 21.333333 0 0 1 42.666666 0v85.333333a21.333333 21.333333 0 0 1-21.333333 21.333333zM960 810.666667a21.333333 21.333333 0 0 1-21.333333-21.333334v-85.333333a21.333333 21.333333 0 0 1 42.666666 0v85.333333a21.333333 21.333333 0 0 1-21.333333 21.333334zM960 576a21.333333 21.333333 0 0 1-21.333333-21.333333v-85.333334a21.333333 21.333333 0 0 1 42.666666 0v85.333334a21.333333 21.333333 0 0 1-21.333333 21.333333zM960 341.333333a21.333333 21.333333 0 0 1-21.333333-21.333333v-85.333333a21.333333 21.333333 0 0 1 42.666666 0v85.333333a21.333333 21.333333 0 0 1-21.333333 21.333333zM1002.666667 128h-85.333334a21.333333 21.333333 0 0 1-21.333333-21.333333v-85.333334a21.333333 21.333333 0 0 1 21.333333-21.333333h85.333334a21.333333 21.333333 0 0 1 21.333333 21.333333v85.333334a21.333333 21.333333 0 0 1-21.333333 21.333333zM938.666667 85.333333h42.666666V42.666667h-42.666666v42.666666zM106.666667 128h-85.333334a21.333333 21.333333 0 0 1-21.333333-21.333333v-85.333334A21.333333 21.333333 0 0 1 21.333333 0h85.333334a21.333333 21.333333 0 0 1 21.333333 21.333333v85.333334a21.333333 21.333333 0 0 1-21.333333 21.333333zM42.666667 85.333333h42.666666V42.666667H42.666667v42.666666zM1002.666667 1024h-85.333334a21.333333 21.333333 0 0 1-21.333333-21.333333v-85.333334a21.333333 21.333333 0 0 1 21.333333-21.333333h85.333334a21.333333 21.333333 0 0 1 21.333333 21.333333v85.333334a21.333333 21.333333 0 0 1-21.333333 21.333333zM938.666667 981.333333h42.666666v-42.666666h-42.666666v42.666666zM106.666667 1024h-85.333334a21.333333 21.333333 0 0 1-21.333333-21.333333v-85.333334a21.333333 21.333333 0 0 1 21.333333-21.333333h85.333334a21.333333 21.333333 0 0 1 21.333333 21.333333v85.333334a21.333333 21.333333 0 0 1-21.333333 21.333333zM42.666667 981.333333h42.666666v-42.666666H42.666667v42.666666z" p-id="2035" data-spm-anchor-id="a313x.manage_type_myprojects.0.i1.1adc3a817YTpYl" class="selected" fill="#aaa" /></symbol><symbol class="icon" viewBox="0 0 1027 1024"   id="svg-switch-on">\r
    <path d="M747.52 238.933333    H276.48    C122.88 238.933333 0 361.813333 0 512    s122.88 273.066667 276.48 273.066667    H750.933333    c150.186667 0 276.48-122.88 276.48-273.066667    s-126.293333-273.066667-279.893333-273.066667z" fill="white" fill-opacity=".01" p-id="1537" data-spm-anchor-id="a313x.manage_type_myprojects.0.i0.1adc3a81uCnBP5" />\r
    <path d="M747.52 238.933333    H276.48    C122.88 238.933333 0 361.813333 0 512    s122.88 273.066667 276.48 273.066667    H750.933333    c150.186667 0 276.48-122.88 276.48-273.066667    s-126.293333-273.066667-279.893333-273.066667z    m0 512    H276.48    C143.36 750.933333 34.133333 645.12 34.133333 512s109.226667-238.933333 242.346667-238.933333    H750.933333c133.12 0 242.346667 105.813333 242.346667 238.933333s-112.64 238.933333-245.76 238.933333z" fill="#2c2c2c" p-id="1531" data-spm-anchor-id="a313x.manage_type_myprojects.0.i0.1adc3a81uCnBP5" />\r
    <path d="M238.933333 409.6c-37.546667 0-68.266667 27.306667-68.266666 61.44v85.333333c0 34.133333 30.72 61.44 68.266666 61.44s68.266667-27.306667 68.266667-61.44v-85.333333c0-34.133333-30.72-61.44-68.266667-61.44z m34.133334 146.773333c0 13.653333-17.066667 23.893333-34.133334 23.893334s-34.133333-10.24-34.133333-27.306667v-85.333333c0-13.653333 17.066667-23.893333 34.133333-23.893334s34.133333 10.24 34.133334 27.306667v85.333333zM460.8 409.6c-10.24 0-17.066667 6.826667-17.066667 17.066667v109.226666l-71.68-119.466666c-3.413333-6.826667-10.24-10.24-20.48-6.826667-6.826667 3.413333-13.653333 10.24-13.653333 17.066667v170.666666c0 10.24 6.826667 17.066667 17.066667 17.066667s17.066667-6.826667 17.066666-17.066667v-109.226666l71.68 119.466666c3.413333 6.826667 10.24 6.826667 13.653334 6.826667h3.413333c6.826667-3.413333 13.653333-10.24 13.653333-17.066667v-170.666666c3.413333-10.24-3.413333-17.066667-13.653333-17.066667zM750.933333 341.333333c-95.573333 0-170.666667 75.093333-170.666666 170.666667s75.093333 170.666667 170.666666 170.666667 170.666667-75.093333 170.666667-170.666667-75.093333-170.666667-170.666667-170.666667z" fill="#5ad562" p-id="1530" data-spm-anchor-id="a313x.manage_type_myprojects.0.i1.1adc3a81uCnBP5" />\r
</symbol><symbol class="icon" viewBox="0 0 1027 1024"   id="svg-switch-r">\r
    <path d="M747.52 238.933333    H276.48    C122.88 238.933333 0 361.813333 0 512    s122.88 273.066667 276.48 273.066667    H750.933333    c150.186667 0 276.48-122.88 276.48-273.066667    s-126.293333-273.066667-279.893333-273.066667z" fill="white" fill-opacity=".01" p-id="1537" data-spm-anchor-id="a313x.manage_type_myprojects.0.i0.1adc3a81uCnBP5" />\r
    <path d="M747.52 238.933333    H276.48    C122.88 238.933333 0 361.813333 0 512    s122.88 273.066667 276.48 273.066667    H750.933333    c150.186667 0 276.48-122.88 276.48-273.066667    s-126.293333-273.066667-279.893333-273.066667z    m0 512    H276.48    C143.36 750.933333 34.133333 645.12 34.133333 512s109.226667-238.933333 242.346667-238.933333    H750.933333c133.12 0 242.346667 105.813333 242.346667 238.933333s-112.64 238.933333-245.76 238.933333z" fill="#2c2c2c" p-id="1531" data-spm-anchor-id="a313x.manage_type_myprojects.0.i0.1adc3a81uCnBP5" />\r
    <path d="M273.066667 341.333333c-95.573333 0-170.666667 75.093333-170.666667 170.666667s75.093333 170.666667 170.666667 170.666667 170.666667-75.093333 170.666666-170.666667-75.093333-170.666667-170.666666-170.666667z" fill="#bfbfbf" p-id="1530" data-spm-anchor-id="a313x.manage_type_myprojects.0.i0.1adc3a81KYNNkt" />\r
    <path d="M580.266667 409.6c-37.546667 0-68.266667 27.306667-68.266667 61.44v85.333333c0 34.133333 30.72 61.44 68.266667 61.44s68.266667-27.306667 68.266666-61.44v-85.333333c0-34.133333-30.72-61.44-68.266666-61.44z m34.133333 146.773333c0 13.653333-17.066667 27.306667-34.133333 27.306667s-34.133333-10.24-34.133334-27.306667v-85.333333c0-13.653333 17.066667-27.306667 34.133334-27.306667s34.133333 10.24 34.133333 27.306667v85.333333zM904.533333 409.6h-68.266666c-10.24 0-17.066667 6.826667-17.066667 17.066667v170.666666c0 10.24 6.826667 17.066667 17.066667 17.066667s17.066667-6.826667 17.066666-17.066667V512h17.066667c10.24 0 17.066667-6.826667 17.066667-17.066667s-6.826667-17.066667-17.066667-17.066666H853.333333v-34.133334h51.2c10.24 0 17.066667-6.826667 17.066667-17.066666s-6.826667-17.066667-17.066667-17.066667zM768 409.6h-68.266667c-10.24 0-17.066667 6.826667-17.066666 17.066667v170.666666c0 10.24 6.826667 17.066667 17.066666 17.066667s17.066667-6.826667 17.066667-17.066667V512h17.066667c10.24 0 17.066667-6.826667 17.066666-17.066667s-6.826667-17.066667-17.066666-17.066666H716.8v-34.133334h51.2c10.24 0 17.066667-6.826667 17.066667-17.066666s-6.826667-17.066667-17.066667-17.066667z" fill="#707070" p-id="1532" data-spm-anchor-id="a313x.manage_type_myprojects.0.i2.1adc3a81KYNNkt" />\r
</symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-thermometer">\r
    <path d="M616.96 672V176.64a85.76 85.76 0 0 0-171.52 0v495.36c-29.44 24.32-48.64 61.44-48.64 103.68 0 74.24 60.16 134.4 134.4 134.4S665.6 849.92 665.6 775.68c0-42.24-19.2-79.36-48.64-103.68z" fill="#F7E6A3" p-id="1566"></path>\r
    <path d="M531.2 922.88c-80.64 0-147.2-66.56-147.2-147.2 0-42.24 17.92-81.92 48.64-110.08V176.64c0-53.76 43.52-98.56 98.56-98.56s98.56 43.52 98.56 98.56V665.6c30.72 28.16 48.64 67.84 48.64 110.08 0 80.64-66.56 147.2-147.2 147.2z m0-819.2c-39.68 0-72.96 33.28-72.96 72.96v495.36c0 3.84-1.28 7.68-5.12 10.24-28.16 23.04-44.8 57.6-44.8 93.44 0 66.56 55.04 121.6 121.6 121.6s121.6-55.04 121.6-121.6c0-35.84-16.64-70.4-44.8-93.44-2.56-2.56-5.12-6.4-5.12-10.24V176.64c2.56-39.68-30.72-72.96-70.4-72.96z" fill="#231C1C" p-id="1567"></path>\r
    <path d="M494 711.68 c-21.76 12.8-37.12 35.84-37.12 64 0 40.96 33.28 72.96 72.96 72.96 40.96 0 72.96-33.28 72.96-72.96 1.28-26.88-12.8-51.2-34.56-64" fill="#E24F32" p-id="1568"></path>\r
    <path d="M568.32 830 V530 c0-20.48-16.64-37.12-37.12-37.12-20.48 0-37.12 16.64-37.12 37.12 v300" fill="#E24F32" p-id="1599">\r
        <animateTransform attributeName="transform" attributeType="XML" type="translate" from="0 0" to="0 -300" dur="5" repeatCount="indefinite" />\r
    </path>\r
    <path d="M568.32 830 V530 c0-20.48-16.64-37.12-37.12-37.12-20.48 0-37.12 16.64-37.12 37.12 v300" fill="#E24F32" p-id="1588"></path>\r
    <path d="M531.2 188.16h85.76v25h-85.76z" fill="#231C1C" p-id="1595"></path>\r
    <path d="M531.2 359.68h85.76v25h-85.76zM555.52 273.92h61.44v25h-61.44z" fill="#231C1C" p-id="1570"></path>\r
    <path d="M555.52 445.44h61.44v25h-61.44z" fill="#231C1C" p-id="1571"></path>\r
    <path d="M531.2 529.92h85.76v25h-85.76z" fill="#231C1C" p-id="1572"></path>\r
</symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-thermometer2">\r
    <path d="M616.96 672V176.64a85.76 85.76 0 0 0-171.52 0v495.36c-29.44 24.32-48.64 61.44-48.64 103.68 0 74.24 60.16 134.4 134.4 134.4S665.6 849.92 665.6 775.68c0-42.24-19.2-79.36-48.64-103.68z" fill="#F7E6A3" p-id="1566" />\r
    <path d="M531.2 922.88c-80.64 0-147.2-66.56-147.2-147.2 0-42.24 17.92-81.92 48.64-110.08V176.64c0-53.76 43.52-98.56 98.56-98.56s98.56 43.52 98.56 98.56V665.6c30.72 28.16 48.64 67.84 48.64 110.08 0 80.64-66.56 147.2-147.2 147.2z m0-819.2c-39.68 0-72.96 33.28-72.96 72.96v495.36c0 3.84-1.28 7.68-5.12 10.24-28.16 23.04-44.8 57.6-44.8 93.44 0 66.56 55.04 121.6 121.6 121.6s121.6-55.04 121.6-121.6c0-35.84-16.64-70.4-44.8-93.44-2.56-2.56-5.12-6.4-5.12-10.24V176.64c2.56-39.68-30.72-72.96-70.4-72.96z" fill="#231C1C" p-id="1567" />\r
    <path d="M568.32 711.68V408.32c0-20.48-16.64-37.12-37.12-37.12-20.48 0-37.12 16.64-37.12 37.12v303.36c-21.76 12.8-37.12 35.84-37.12 64 0 40.96 33.28 72.96 72.96 72.96 40.96 0 72.96-33.28 72.96-72.96 1.28-26.88-12.8-51.2-34.56-64z" fill="#E24F32" p-id="1568" />\r
    <path d="M531.2 861.44c-47.36 0-85.76-38.4-85.76-85.76 0-28.16 14.08-55.04 37.12-70.4V408.32c0-26.88 21.76-49.92 49.92-49.92 26.88 0 49.92 21.76 49.92 49.92v296.96c23.04 16.64 37.12 42.24 37.12 70.4-2.56 47.36-40.96 85.76-88.32 85.76z m0-476.16c-12.8 0-24.32 10.24-24.32 24.32v303.36c0 5.12-2.56 8.96-6.4 11.52-19.2 10.24-30.72 30.72-30.72 52.48 0 33.28 26.88 60.16 60.16 60.16s60.16-26.88 60.16-60.16c0-21.76-11.52-40.96-30.72-52.48-3.84-2.56-6.4-6.4-6.4-11.52V408.32c2.56-12.8-8.96-23.04-21.76-23.04zM531.2 188.16h85.76v25.6h-85.76z" fill="#231C1C" p-id="1569" />\r
    <path d="M531.2 359.68h85.76v25.6h-85.76zM555.52 273.92h61.44v25.6h-61.44z" fill="#231C1C" p-id="1570" />\r
    <path d="M555.52 445.44h61.44v25.6h-61.44z" fill="#231C1C" p-id="1571" />\r
    <path d="M531.2 529.92h85.76v25.6h-85.76z" fill="#231C1C" p-id="1572" />\r
</symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-add"><path class="icon-out" d="M512 128c211.2 0 384 172.8 384 384s-172.8 384-384 384-384-172.8-384-384 172.8-384 384-384m0-64C262.4 64 64 262.4 64 512s198.4 448 448 448 448-198.4 448-448-198.4-448-448-448z" p-id="12133" /><path class="icon-in" d="M320 512m-32 0a32 32 0 1 0 64 0 32 32 0 1 0-64 0Z" p-id="12134" /><path class="icon-in" d="M704 512m-32 0a32 32 0 1 0 64 0 32 32 0 1 0-64 0Z" p-id="12135" /><path class="icon-in" d="M512 320m-32 0a32 32 0 1 0 64 0 32 32 0 1 0-64 0Z" p-id="12136" /><path class="icon-in" d="M512 704m-32 0a32 32 0 1 0 64 0 32 32 0 1 0-64 0Z" p-id="12137" /><path class="icon-in" d="M320 480h384v64H320z" p-id="12138" /><path class="icon-in" d="M480 320h64v384h-64z" p-id="12139" /></symbol><symbol class="icon gray" viewBox="0 0 1024 1024"   id="svg-delete-gray"><path d="M512.8 927.65c-82.97 0-165.93-5.84-248.32-17.53l-0.2-0.03c-23.32-3.49-46.81-15.1-66.15-32.69-19.79-18.01-32.92-40.21-36.97-62.52l-0.04-0.24c-14.73-85.45-21.15-172.11-19.09-257.59 2.06-85.46 12.66-172.1 31.5-257.51l53.71 11.85c-36.14 163.83-40.16 329.97-11.95 493.77 4.1 22.19 31.75 46.69 57.02 50.52a1712.285 1712.285 0 0 0 480.98 0c25.27-3.83 52.92-28.34 57.01-50.53 28.21-163.8 24.19-329.93-11.95-493.77l53.71-11.85c18.84 85.42 29.44 172.06 31.5 257.51 2.06 85.47-4.36 172.14-19.09 257.59l-0.04 0.24c-4.05 22.3-17.18 44.51-36.97 62.52-19.34 17.6-42.83 29.21-66.15 32.69l-0.2 0.03a1765.711 1765.711 0 0 1-248.31 17.54z" class="icon-out" p-id="3027" /><path d="M921.38 332.96H102.66c-14.16 0-25.64-11.48-25.64-25.64v-3.73c0-14.16 11.48-25.64 25.64-25.64h818.73c14.16 0 25.64 11.48 25.64 25.64v3.73c-0.01 14.16-11.49 25.64-25.65 25.64z" class="icon-out" p-id="3028" /><path d="M367.21 805.77h-2.56c-14.48 0-26.22-11.74-26.22-26.22V431.99c0-14.48 11.74-26.22 26.22-26.22h2.56c14.48 0 26.22 11.74 26.22 26.22v347.56c0 14.49-11.74 26.22-26.22 26.22zM661.4 805.77h-2.56c-14.48 0-26.22-11.74-26.22-26.22V431.99c0-14.48 11.74-26.22 26.22-26.22h2.56c14.48 0 26.22 11.74 26.22 26.22v347.56c0 14.49-11.74 26.22-26.22 26.22z" class="icon-in" p-id="3029" /><path d="M786.11 322.05l-48.07-26.73c24.95-44.87 28.29-88.34 10.14-132.77-5.56-3.25-21.61-9.19-42.32-10.42-129.2-7.27-260.31-7.27-389.6 0-20.65 1.22-36.68 7.16-42.24 10.42-18.15 44.43-14.82 87.9 10.14 132.77l-48.07 26.73c-34.04-61.21-37.74-123.49-10.97-185.09l0.21-0.48c15.56-34.01 80.41-38.81 87.75-39.25 131.42-7.39 264.61-7.39 395.94 0 7.42 0.44 72.26 5.24 87.83 39.25l0.22 0.48c26.77 61.6 23.09 123.88-10.96 185.09z m-36.39-158.46z m-477.24 0z" class="icon-out" p-id="3030" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-delete"><path d="M512.8 927.65c-82.97 0-165.93-5.84-248.32-17.53l-0.2-0.03c-23.32-3.49-46.81-15.1-66.15-32.69-19.79-18.01-32.92-40.21-36.97-62.52l-0.04-0.24c-14.73-85.45-21.15-172.11-19.09-257.59 2.06-85.46 12.66-172.1 31.5-257.51l53.71 11.85c-36.14 163.83-40.16 329.97-11.95 493.77 4.1 22.19 31.75 46.69 57.02 50.52a1712.285 1712.285 0 0 0 480.98 0c25.27-3.83 52.92-28.34 57.01-50.53 28.21-163.8 24.19-329.93-11.95-493.77l53.71-11.85c18.84 85.42 29.44 172.06 31.5 257.51 2.06 85.47-4.36 172.14-19.09 257.59l-0.04 0.24c-4.05 22.3-17.18 44.51-36.97 62.52-19.34 17.6-42.83 29.21-66.15 32.69l-0.2 0.03a1765.711 1765.711 0 0 1-248.31 17.54z" class="icon-out" p-id="3027" /><path d="M921.38 332.96H102.66c-14.16 0-25.64-11.48-25.64-25.64v-3.73c0-14.16 11.48-25.64 25.64-25.64h818.73c14.16 0 25.64 11.48 25.64 25.64v3.73c-0.01 14.16-11.49 25.64-25.65 25.64z" class="icon-out" p-id="3028" /><path d="M367.21 805.77h-2.56c-14.48 0-26.22-11.74-26.22-26.22V431.99c0-14.48 11.74-26.22 26.22-26.22h2.56c14.48 0 26.22 11.74 26.22 26.22v347.56c0 14.49-11.74 26.22-26.22 26.22zM661.4 805.77h-2.56c-14.48 0-26.22-11.74-26.22-26.22V431.99c0-14.48 11.74-26.22 26.22-26.22h2.56c14.48 0 26.22 11.74 26.22 26.22v347.56c0 14.49-11.74 26.22-26.22 26.22z" class="icon-in" p-id="3029" /><path d="M786.11 322.05l-48.07-26.73c24.95-44.87 28.29-88.34 10.14-132.77-5.56-3.25-21.61-9.19-42.32-10.42-129.2-7.27-260.31-7.27-389.6 0-20.65 1.22-36.68 7.16-42.24 10.42-18.15 44.43-14.82 87.9 10.14 132.77l-48.07 26.73c-34.04-61.21-37.74-123.49-10.97-185.09l0.21-0.48c15.56-34.01 80.41-38.81 87.75-39.25 131.42-7.39 264.61-7.39 395.94 0 7.42 0.44 72.26 5.24 87.83 39.25l0.22 0.48c26.77 61.6 23.09 123.88-10.96 185.09z m-36.39-158.46z m-477.24 0z" class="icon-out" p-id="3030" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-export"><path d="M94.85 502.74c0-88.25 6.43-176.5 19.28-264.14l0.04-0.26c4.81-30.68 21.45-61.57 46.85-86.98 25.41-25.41 56.3-42.05 86.98-46.85l0.26-0.04a1818.793 1818.793 0 0 1 528.28 0l0.26 0.04c30.68 4.81 61.57 21.44 86.98 46.85 25.41 25.41 42.05 56.3 46.85 86.98l0.04 0.26a1818.793 1818.793 0 0 1 0 528.28l-0.04 0.26c-4.81 30.68-21.44 61.57-46.85 86.98s-56.3 42.05-86.98 46.85l-0.26 0.04a1818.793 1818.793 0 0 1-528.28 0l-0.26-0.04c-30.68-4.81-61.57-21.44-86.98-46.85-25.41-25.41-42.05-56.3-46.85-86.98l-0.04-0.26a1820.45 1820.45 0 0 1-19.28-264.14z m73.69-256.03c-24.91 169.89-24.91 342.15 0 512.05 6.3 39.74 48.12 81.56 87.86 87.86 169.87 24.9 342.16 24.9 512.03 0 39.75-6.3 81.57-48.12 87.86-87.86 24.9-169.87 24.9-342.16 0-512.03-6.3-39.74-48.12-81.57-87.86-87.86a1764.188 1764.188 0 0 0-512.03 0c-39.74 6.28-81.56 48.1-87.86 87.84z" class="icon-out" p-id="3184" /><path d="M677.82 616.65L467.99 406.81c-10.19-10.19-10.19-26.72 0-36.92l12.58-12.58c10.19-10.19 26.72-10.19 36.92 0l209.84 209.84c10.19 10.19 10.19 26.72 0 36.92l-12.58 12.58c-10.2 10.19-26.73 10.19-36.93 0z" class="icon-in" p-id="3185" /><path d="M283.94 617.33l-12.58-12.58c-10.19-10.19-10.19-26.72 0-36.92L481.2 358c10.19-10.19 26.72-10.19 36.92 0l12.58 12.58c10.19 10.19 10.19 26.72 0 36.92L320.86 617.33c-10.2 10.2-26.72 10.2-36.92 0z" class="icon-in" p-id="3186" /></symbol><symbol viewBox="0 0 48 48" fill="none"  id="svg-group">\r
    <path d="M12 4H4V12H12V4Z" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M44 36H36V44H44V36Z" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M12 36H4V44H12V36Z" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M44 4H36V12H44V4Z" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M8 36V12" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
    <path d="M40 36V12" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
    <path d="M12 8H36" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
    <path d="M12 40H36" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
    <path fill-rule="evenodd" clip-rule="evenodd" d="M16 16H25.6V22.4H32V32H22.4V25.6H16V16Z" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
</symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-import"><path d="M93.33 502.74c0 88.25 6.43 176.5 19.28 264.14l0.04 0.26c4.81 30.68 21.45 61.57 46.85 86.98 25.41 25.41 56.3 42.05 86.98 46.85l0.26 0.04a1818.793 1818.793 0 0 0 528.28 0l0.26-0.04c30.68-4.81 61.57-21.44 86.98-46.85 25.41-25.41 42.05-56.3 46.85-86.98l0.04-0.26a1818.793 1818.793 0 0 0 0-528.28l-0.04-0.26c-4.81-30.68-21.44-61.57-46.85-86.98s-56.3-42.05-86.98-46.85l-0.26-0.04a1818.793 1818.793 0 0 0-528.28 0l-0.26 0.04c-30.68 4.81-61.57 21.44-86.98 46.85-25.41 25.41-42.05 56.3-46.85 86.98l-0.04 0.26a1820.244 1820.244 0 0 0-19.28 264.14z m73.68 256.02c-24.91-169.89-24.91-342.15 0-512.05 6.3-39.74 48.12-81.56 87.86-87.86 169.87-24.9 342.16-24.9 512.03 0 39.75 6.3 81.57 48.12 87.86 87.86 24.9 169.87 24.9 342.16 0 512.03-6.3 39.74-48.12 81.57-87.86 87.86a1764.188 1764.188 0 0 1-512.03 0c-39.74-6.28-81.56-48.1-87.86-87.84z" class="icon-out" p-id="3340" /><path d="M676.3 388.83L466.46 598.66c-10.19 10.19-10.19 26.72 0 36.92l12.58 12.58c10.19 10.19 26.72 10.19 36.92 0L725.8 438.32c10.19-10.19 10.19-26.72 0-36.92l-12.58-12.58c-10.2-10.19-26.73-10.19-36.92 0.01z" class="icon-in" p-id="3341" /><path d="M282.42 388.14l-12.58 12.58c-10.19 10.19-10.19 26.72 0 36.92l209.84 209.84c10.19 10.19 26.72 10.19 36.92 0l12.58-12.58c10.19-10.19 10.19-26.72 0-36.92L319.33 388.14c-10.19-10.19-26.72-10.19-36.91 0z" class="icon-in" p-id="3342" /></symbol><symbol class="icon active" viewBox="0 0 1024 1024"   id="svg-line-active"><path d="M795.969 641.938c-44.844 0-85.094 20.015-112.219 51.515L454.39 561.11c4.157-15.53 6.344-31.937 6.344-48.78 0-16.845-2.187-33.25-6.343-48.782l230.234-132.89c27.125 30.952 66.938 50.53 111.453 50.53 81.813 0 148.094-66.28 148.094-148.093C944.172 151.28 877.782 85 795.969 85s-148.094 66.281-148.094 148.094c0 14.11 1.969 27.781 5.688 40.687L427.155 404.484c-34.344-49.875-91.765-82.578-156.844-82.578C165.204 321.906 80 407.11 80 512.328S165.203 702.75 270.313 702.75c65.078 0 122.609-32.703 156.953-82.578l225.968 130.484c-3.5 12.578-5.359 25.703-5.359 39.375 0 81.813 66.281 148.094 148.094 148.094 81.812 0 148.093-66.281 148.093-148.094 0-81.812-66.28-148.093-148.093-148.093z m0-492.079c45.937 0 83.234 37.297 83.234 83.235 0 45.937-37.297 83.234-83.234 83.234-45.938 0-83.235-37.297-83.235-83.234 0-45.938 37.297-83.235 83.235-83.235zM270.312 637.781c-69.234 0-125.453-56.11-125.453-125.453 0-69.344 56.22-125.453 125.453-125.453 69.235 0 125.454 56.11 125.454 125.453 0 69.344-56.11 125.453-125.454 125.453z m525.657 234.39c-45.39 0-82.14-36.75-82.14-82.14s36.75-82.14 82.14-82.14 82.14 36.75 82.14 82.14c0.11 45.39-36.75 82.14-82.14 82.14z" p-id="1837" data-spm-anchor-id="a313x.manage_type_myprojects.0.i0.1adc3a813mH6xq" class="icon-out" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-line"><path d="M795.969 641.938c-44.844 0-85.094 20.015-112.219 51.515L454.39 561.11c4.157-15.53 6.344-31.937 6.344-48.78 0-16.845-2.187-33.25-6.343-48.782l230.234-132.89c27.125 30.952 66.938 50.53 111.453 50.53 81.813 0 148.094-66.28 148.094-148.093C944.172 151.28 877.782 85 795.969 85s-148.094 66.281-148.094 148.094c0 14.11 1.969 27.781 5.688 40.687L427.155 404.484c-34.344-49.875-91.765-82.578-156.844-82.578C165.204 321.906 80 407.11 80 512.328S165.203 702.75 270.313 702.75c65.078 0 122.609-32.703 156.953-82.578l225.968 130.484c-3.5 12.578-5.359 25.703-5.359 39.375 0 81.813 66.281 148.094 148.094 148.094 81.812 0 148.093-66.281 148.093-148.094 0-81.812-66.28-148.093-148.093-148.093z m0-492.079c45.937 0 83.234 37.297 83.234 83.235 0 45.937-37.297 83.234-83.234 83.234-45.938 0-83.235-37.297-83.235-83.234 0-45.938 37.297-83.235 83.235-83.235zM270.312 637.781c-69.234 0-125.453-56.11-125.453-125.453 0-69.344 56.22-125.453 125.453-125.453 69.235 0 125.454 56.11 125.454 125.453 0 69.344-56.11 125.453-125.454 125.453z m525.657 234.39c-45.39 0-82.14-36.75-82.14-82.14s36.75-82.14 82.14-82.14 82.14 36.75 82.14 82.14c0.11 45.39-36.75 82.14-82.14 82.14z" p-id="1837" data-spm-anchor-id="a313x.manage_type_myprojects.0.i0.1adc3a813mH6xq" class="icon-out" /></symbol><symbol viewBox="0 0 48 48" fill="none"  id="svg-lock">\r
    <rect x="6" y="22" width="36" height="22" rx="2" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M14 22V14C14 8.47715 18.4772 4 24 4C29.5228 4 34 8.47715 34 14V22" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
    <path d="M24 30V36" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
</symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-menu-fold"><path d="M510.89 921.7c-88.25 0-176.5-6.43-264.14-19.28l-0.26-0.04c-30.68-4.81-61.57-21.44-86.98-46.85-25.41-25.41-42.05-56.3-46.85-86.98l-0.04-0.26a1818.793 1818.793 0 0 1 0-528.28l0.04-0.26c4.81-30.68 21.44-61.57 46.85-86.98s56.3-42.05 86.98-46.85l0.26-0.04a1818.793 1818.793 0 0 1 528.28 0l0.26 0.04c30.68 4.81 61.57 21.45 86.98 46.85 25.41 25.41 42.05 56.3 46.85 86.98l0.04 0.26a1818.793 1818.793 0 0 1 0 528.28l-0.04 0.26c-4.81 30.68-21.45 61.58-46.85 86.98-25.41 25.41-56.3 42.05-86.98 46.85l-0.26 0.04a1819.042 1819.042 0 0 1-264.14 19.28z m-256.02-73.68a1763.556 1763.556 0 0 0 512.04 0c39.74-6.3 81.56-48.12 87.86-87.86 24.9-169.87 24.9-342.16 0-512.03-6.3-39.74-48.11-81.56-87.86-87.86a1763.556 1763.556 0 0 0-512.04 0c-39.75 6.3-81.57 48.12-87.86 87.86a1763.488 1763.488 0 0 0 0 512.03c6.3 39.75 48.12 81.57 87.86 87.86z" class="icon-out" p-id="2559" /><path d="M399.85 335.23l209.84 209.84c10.19 10.19 26.72 10.19 36.92 0l12.58-12.58c10.19-10.19 10.19-26.72 0-36.92L449.35 285.73c-10.19-10.19-26.72-10.19-36.92 0l-12.58 12.58c-10.2 10.2-10.2 26.73 0 36.92z" class="icon-in" p-id="2560" /><path d="M399.16 729.11l12.58 12.58c10.19 10.19 26.72 10.19 36.92 0L658.5 531.85c10.19-10.19 10.19-26.72 0-36.92l-12.58-12.58c-10.19-10.19-26.72-10.19-36.92 0L399.16 692.2c-10.19 10.19-10.19 26.72 0 36.91z" class="icon-in" p-id="2561" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-menu-unfold"><path d="M512.42 920.16c-88.25 0-176.5-6.43-264.14-19.28l-0.26-0.04c-30.68-4.81-61.57-21.45-86.98-46.85-25.41-25.41-42.05-56.3-46.85-86.98l-0.04-0.26a1818.793 1818.793 0 0 1 0-528.28l0.04-0.26c4.81-30.68 21.44-61.57 46.85-86.98 25.41-25.41 56.3-42.05 86.98-46.85l0.26-0.04a1818.793 1818.793 0 0 1 528.28 0l0.26 0.04c30.68 4.81 61.57 21.44 86.98 46.85s42.05 56.3 46.85 86.98l0.04 0.26a1818.793 1818.793 0 0 1 0 528.28l-0.04 0.26c-4.81 30.68-21.44 61.57-46.85 86.98-25.41 25.41-56.3 42.05-86.98 46.85l-0.26 0.04a1820.45 1820.45 0 0 1-264.14 19.28z m-256.03-73.69c169.89 24.91 342.15 24.91 512.05 0 39.74-6.3 81.56-48.12 87.86-87.86 24.9-169.87 24.9-342.16 0-512.03-6.3-39.75-48.12-81.57-87.86-87.86a1764.188 1764.188 0 0 0-512.03 0c-39.74 6.3-81.57 48.12-87.86 87.86a1764.188 1764.188 0 0 0 0 512.03c6.28 39.74 48.1 81.56 87.84 87.86z" class="icon-out" p-id="2403" /><path d="M626.33 337.19L416.49 547.03c-10.19 10.19-26.72 10.19-36.92 0l-12.58-12.58c-10.19-10.19-10.19-26.72 0-36.92l209.84-209.84c10.19-10.19 26.72-10.19 36.92 0l12.58 12.58c10.19 10.19 10.19 26.72 0 36.92z" class="icon-in" p-id="2404" /><path d="M627.01 731.07l-12.58 12.58c-10.19 10.19-26.72 10.19-36.92 0L367.67 533.81c-10.19-10.19-10.19-26.72 0-36.92l12.58-12.58c10.19-10.19 26.72-10.19 36.92 0l209.84 209.84c10.19 10.2 10.19 26.72 0 36.92z" class="icon-in" p-id="2405" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-preview"><path d="M127.94 530.03c-6.67 0-13.32-2.65-18.24-7.89-9.43-10.06-8.95-25.85 1.1-35.3 3.67-3.45 91.45-84.93 234.32-126.4 84.14-24.42 169.95-29.79 255.04-15.96 105.79 17.19 210.4 64.23 310.94 139.81 11.04 8.3 13.26 23.97 4.96 35.01-8.29 11.03-23.97 13.26-35 4.96-169.55-127.45-344.5-166.61-519.99-116.38-131.94 37.76-215.21 114.63-216.04 115.41a25.01 25.01 0 0 1-17.09 6.74z" class="icon-in" p-id="1779" /><path d="M509 688.98c-54.54 0-109.01-7.83-162.8-23.44-142.87-41.46-230.65-122.95-234.32-126.4-10.06-9.46-10.54-25.28-1.08-35.34 9.45-10.05 25.25-10.54 35.31-1.11 0.83 0.77 84.1 77.65 216.04 115.41 175.5 50.22 350.44 11.07 519.99-116.38 11.04-8.3 26.71-6.07 35 4.96 8.3 11.04 6.08 26.71-4.96 35.01C811.64 617.26 707.03 664.3 601.24 681.5c-30.69 4.98-61.47 7.48-92.24 7.48z" class="icon-in" p-id="1780" /><path d="M506.82 741.13c-141.09 0-275.99-70.27-401.17-209.03l-17.53-19.43 16.87-20c1.64-1.95 41.06-48.3 108.65-95.76 39.76-27.92 81.2-50.54 123.19-67.25 52.97-21.08 106.94-32.74 160.4-34.67 146.39-5.28 287.79 60.95 420.32 196.86l18.69 19.16-16.92 20.74c-1.7 2.09-42.53 51.76-111.93 102.32-40.88 29.79-83.37 53.81-126.29 71.39-54.25 22.23-109.31 34.19-163.66 35.54-3.53 0.08-7.09 0.13-10.62 0.13z m-337.8-229c110.37 114.93 226.81 171.73 346.5 168.89 106.58-2.53 197.54-52.73 255.07-94.39 37.87-27.42 66.74-54.92 84-72.79-114.02-109.7-233.21-163.13-354.69-158.92-105.44 3.67-194.27 50.96-250.22 89.99-36.31 25.32-63.96 50.6-80.66 67.22z" class="icon-out" p-id="1781" /><path d="M505.25 671.33c-87.55 0-158.78-71.23-158.78-158.78s71.23-158.78 158.78-158.78S664.02 425 664.02 512.55 592.8 671.33 505.25 671.33z m0-257.56c-54.47 0-98.78 44.31-98.78 98.78s44.31 98.78 98.78 98.78 98.78-44.31 98.78-98.78-44.32-98.78-98.78-98.78z" class="icon-in" p-id="1782" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-question"><path d="M512 172.8c187.04 0 339.2 152.16 339.2 339.2S699.04 851.2 512 851.2 172.8 699.03 172.8 512 324.97 172.8 512 172.8m0-76.8C282.25 96 96 282.25 96 512s186.25 416 416 416 416-186.25 416-416S741.75 96 512 96z" class="icon-out" p-id="5865" data-spm-anchor-id="a313x.search_index.0.i0.4bca3a81TehghO" /><path d="M531.31 278.99c-92.43-2.84-151.21 46.22-175.93 126.24-0.03 0.1 0.23 0.23 0.22 0.33-1.34 3.71-2.37 7.59-2.37 11.75 0 19.25 15.61 34.86 34.86 34.86 15.13 0 27.69-9.76 32.52-23.23 0.03 0.01 0.33 0.08 0.33 0.08 14.05-63.91 45.58-82.75 100.14-81.23 46.75 3.15 72.47 26.54 77.14 70.14 3.08 29.62-17.94 60.02-63.13 91.16-42.07 29.62-62.35 66.28-60.76 109.88 0 0.09 0.16 0.12 0.16 0.21-0.01 0.31-0.18 0.57-0.18 0.88 0 16.82 13.63 30.46 30.46 30.46 15.53 0 27.85-11.8 29.72-26.82 0.09-0.01 0.59-0.05 0.59-0.05s-0.3 0.03-0.59 0.05c0.26-0.02 0.24-0.02 0.59-0.05-1.55-32.73 16.39-60.76 53.75-84.15 59.2-37.41 87.26-80.26 84.15-128.56-7.77-77.94-56-127.28-141.67-131.95zM504.7 745.14h-2.34c-20.66 0-37.4-16.75-37.4-37.4 0-20.66 16.75-37.4 37.4-37.4h2.34c20.66 0 37.4 16.75 37.4 37.4s-16.75 37.4-37.4 37.4z" class="icon-in" p-id="5866" data-spm-anchor-id="a313x.search_index.0.i3.4bca3a81TehghO" /></symbol><symbol class="icon gray" viewBox="0 0 1024 1024"   id="svg-redo-gray"><path d="M550.912 890.88c-4.096 0-7.9872-0.8192-11.8784-2.4576-11.4688-4.7104-18.8416-15.9744-18.8416-28.2624v-156.672c-96.256-68.1984-309.0432 65.536-385.4336 125.1328-10.4448 7.9872-24.576 8.6016-35.6352 1.6384-11.0592-7.168-16.1792-20.48-13.1072-33.1776 99.1232-401.408 347.3408-475.9552 433.9712-489.6768V163.84c0-12.288 7.3728-23.552 18.8416-28.2624 11.4688-4.9152 24.576-2.2528 33.3824 6.3488l357.1712 348.16c5.9392 5.7344 9.216 13.7216 9.216 21.9136s-3.2768 16.1792-9.216 21.9136l-357.1712 348.16c-5.7344 5.7344-13.5168 8.8064-21.2992 8.8064z m-96.8704-267.0592c44.032 0 84.992 12.0832 117.76 43.008 6.144 5.7344 9.6256 13.9264 9.6256 22.3232v98.304L864.0512 512 581.632 236.7488v98.304c0 16.7936-13.312 30.3104-30.1056 30.72-11.264 0.4096-261.5296 12.0832-381.7472 364.1344 72.2944-45.8752 185.9584-106.0864 284.2624-106.0864z" class="icon-out" p-id="42083" data-spm-anchor-id="a313x.search_index.0.i8.a5e03a81nkrsAk" /><path d="M343.2448 579.7888c-5.9392 0-11.8784-2.048-16.7936-5.9392a26.8288 26.8288 0 0 1-3.6864-37.4784c44.4416-54.272 95.0272-93.3888 150.3232-116.5312 13.7216-5.7344 29.0816 0.8192 34.816 14.336 5.7344 13.5168-0.6144 29.0816-14.336 34.816-47.104 19.6608-90.7264 53.8624-129.6384 101.1712-5.3248 6.3488-12.9024 9.6256-20.6848 9.6256z" class="icon-in" p-id="42084" data-spm-anchor-id="a313x.search_index.0.i11.a5e03a81nkrsAk" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-redo"><path d="M550.912 890.88c-4.096 0-7.9872-0.8192-11.8784-2.4576-11.4688-4.7104-18.8416-15.9744-18.8416-28.2624v-156.672c-96.256-68.1984-309.0432 65.536-385.4336 125.1328-10.4448 7.9872-24.576 8.6016-35.6352 1.6384-11.0592-7.168-16.1792-20.48-13.1072-33.1776 99.1232-401.408 347.3408-475.9552 433.9712-489.6768V163.84c0-12.288 7.3728-23.552 18.8416-28.2624 11.4688-4.9152 24.576-2.2528 33.3824 6.3488l357.1712 348.16c5.9392 5.7344 9.216 13.7216 9.216 21.9136s-3.2768 16.1792-9.216 21.9136l-357.1712 348.16c-5.7344 5.7344-13.5168 8.8064-21.2992 8.8064z m-96.8704-267.0592c44.032 0 84.992 12.0832 117.76 43.008 6.144 5.7344 9.6256 13.9264 9.6256 22.3232v98.304L864.0512 512 581.632 236.7488v98.304c0 16.7936-13.312 30.3104-30.1056 30.72-11.264 0.4096-261.5296 12.0832-381.7472 364.1344 72.2944-45.8752 185.9584-106.0864 284.2624-106.0864z" class="icon-out" p-id="42083" data-spm-anchor-id="a313x.search_index.0.i8.a5e03a81nkrsAk" /><path d="M343.2448 579.7888c-5.9392 0-11.8784-2.048-16.7936-5.9392a26.8288 26.8288 0 0 1-3.6864-37.4784c44.4416-54.272 95.0272-93.3888 150.3232-116.5312 13.7216-5.7344 29.0816 0.8192 34.816 14.336 5.7344 13.5168-0.6144 29.0816-14.336 34.816-47.104 19.6608-90.7264 53.8624-129.6384 101.1712-5.3248 6.3488-12.9024 9.6256-20.6848 9.6256z" class="icon-in" p-id="42084" data-spm-anchor-id="a313x.search_index.0.i11.a5e03a81nkrsAk" /></symbol><symbol class="icon" viewBox="0 0 1165 1024"   id="svg-return"><path d="M364.967083 734.583428c-10.46084 0-20.92168-3.486947-29.057889-11.623156L11.623156 398.674234c-16.272418-16.272418-16.272418-41.84336 0-58.115778L335.909194 16.272418c16.272418-16.272418 41.84336-16.272418 58.115778 0s16.272418 41.84336 0 58.115777L98.796822 369.616345l295.22815 295.22815c16.272418 16.272418 16.272418 41.84336 0 58.115777-8.136209 8.136209-18.597049 11.623156-29.057889 11.623156z" p-id="3653" data-spm-anchor-id="a313x.manage_type_myprojects.0.i25.1adc3a81koFwd9" class="icon-out" /><path d="M645.085131 727.609535c-15.110102 15.110102-38.356413 15.110102-53.466516 0L260.358683 396.349603c-15.110102-15.110102-15.110102-38.356413 0-53.466516L591.618615 11.623156c15.110102-15.110102 38.356413-15.110102 53.466516 0" p-id="3654" data-spm-anchor-id="a313x.manage_type_myprojects.0.i21.1adc3a81koFwd9" class="icon-in" /><path d="M645.085131 532.340522S1104.199773 496.30874 1024 1024c0 0 216.190692-249.897843 113.906924-516.068104-51.141884-96.472191-112.744608-295.22815-492.821793-297.552781v321.961407z" p-id="3655" data-spm-anchor-id="a313x.manage_type_myprojects.0.i22.1adc3a81koFwd9" class="icon-in" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-rotate"><path d="M934.101333 416.426667h-220.373333c-26.752 0-47.232-20.48-47.232-47.232s20.48-47.232 47.232-47.232h173.141333V148.821333c0-26.752 20.48-47.232 47.232-47.232S981.333333 122.069333 981.333333 148.821333v220.373344c0 25.173333-20.48 47.232-47.232 47.232z" fill="#344" p-id="4939" data-spm-anchor-id="a313x.search_index.0.i10.30723a81IiaItd" class="selected" /><path d="M509.098667 978.389333C249.344 978.389333 38.4 767.530667 38.4 507.733333 38.4 247.978667 249.344 37.034667 509.098667 37.034667A472.32 472.32 0 0 1 943.530667 325.12c9.472 23.637333-1.536 51.968-25.173344 61.44-23.594667 9.386667-51.925333-1.621333-61.397333-25.216a377.898667 377.898667 0 0 0-347.861333-229.845333A376.234667 376.234667 0 0 0 132.864 507.733333a376.234667 376.234667 0 0 0 376.234667 376.234667c190.464 0 351.018667-141.653333 373.077333-329.002667 3.114667-25.173333 26.752-44.074667 51.925333-40.96 25.173333 3.157333 44.074667 26.794667 40.96 51.968-28.373333 234.538667-228.266667 412.416-465.962666 412.416z" fill="#344" p-id="4940" data-spm-anchor-id="a313x.search_index.0.i9.30723a81IiaItd" class="selected" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-save"><path d="M828.038 898.796H195.962c-39.409 0-71.471-32.062-71.471-71.471V195.249c0-39.409 32.062-71.471 71.471-71.471h89.621c10.382 0 18.798 8.416 18.798 18.798s-8.416 18.798-18.798 18.798h-89.621c-18.679 0-33.875 15.196-33.875 33.875v632.076c0 18.679 15.196 33.875 33.875 33.875h632.076c18.679 0 33.875-15.196 33.875-33.875V340.256L674.088 161.374h-96.215c-10.382 0-18.798-8.416-18.798-18.798s8.416-18.798 18.798-18.798h111.253l210.383 200.365v503.182c0 39.409-32.062 71.471-71.471 71.471z" class="icon-out" p-id="1919" data-spm-anchor-id="a313x.manage_type_myprojects.0.i6.1adc3a8106MMa8" /><path d="M756.239 863.629h-37.597V643.456c0-7.062-5.744-12.807-12.806-12.807H317.11c-7.061 0-12.806 5.745-12.806 12.807v220.173h-37.596V643.456c0-27.792 22.61-50.402 50.402-50.402h388.727c27.792 0 50.402 22.61 50.402 50.402v220.173z" class="icon-out" p-id="1920" data-spm-anchor-id="a313x.manage_type_myprojects.0.i7.1adc3a8106MMa8" /><path d="M547.818 325.374H317.11c-27.792 0-50.402-22.61-50.402-50.402V151.895c0-27.792 22.61-50.402 50.402-50.402h230.708c27.791 0 50.4 22.61 50.4 50.402v123.077c0.001 27.791-22.609 50.402-50.4 50.402zM317.11 139.089c-7.061 0-12.806 5.745-12.806 12.806v123.077c0 7.061 5.745 12.806 12.806 12.806h230.708c7.061 0 12.805-5.745 12.805-12.806V151.895c0-7.061-5.744-12.806-12.805-12.806H317.11z" class="icon-middle" p-id="1921" /><path d="M621.717 155.654c0-17.454-14.149-31.604-31.604-31.604H359.405c-17.455 0-31.604 14.15-31.604 31.604v9.871h-0.157V316.17c0 17.454 14.149 31.604 31.604 31.604h230.708c17.454 0 31.604-14.15 31.604-31.604V166.069h0.156v-10.415z" class="icon-middle" opacity=".4" p-id="1922" /></symbol><symbol viewBox="0 0 1024 1024"  id="svg-setting">
    <path d="M919.6 405.6l-57.2-8c-12.7-1.8-23-10.4-28-22.1-11.3-26.7-25.7-51.7-42.9-74.5-7.7-10.2-10-23.5-5.2-35.3l21.7-53.5c6.7-16.4 0.2-35.3-15.2-44.1L669.1 96.6c-15.4-8.9-34.9-5.1-45.8 8.9l-35.4 45.3c-7.9 10.2-20.7 14.9-33.5 13.3-14-1.8-28.3-2.8-42.8-2.8-14.5 0-28.8 1-42.8 2.8-12.8 1.6-25.6-3.1-33.5-13.3l-35.4-45.3c-10.9-14-30.4-17.8-45.8-8.9L230.4 168c-15.4 8.9-21.8 27.7-15.2 44.1l21.7 53.5c4.8 11.9 2.5 25.1-5.2 35.3-17.2 22.8-31.7 47.8-42.9 74.5-5 11.8-15.3 20.4-28 22.1l-57.2 8C86 408 72.9 423 72.9 440.8v142.9c0 17.7 13.1 32.7 30.6 35.2l57.2 8c12.7 1.8 23 10.4 28 22.1 11.3 26.7 25.7 51.7 42.9 74.5 7.7 10.2 10 23.5 5.2 35.3l-21.7 53.5c-6.7 16.4-0.2 35.3 15.2 44.1L354 927.8c15.4 8.9 34.9 5.1 45.8-8.9l35.4-45.3c7.9-10.2 20.7-14.9 33.5-13.3 14 1.8 28.3 2.8 42.8 2.8 14.5 0 28.8-1 42.8-2.8 12.8-1.6 25.6 3.1 33.5 13.3l35.4 45.3c10.9 14 30.4 17.8 45.8 8.9l123.7-71.4c15.4-8.9 21.8-27.7 15.2-44.1l-21.7-53.5c-4.8-11.8-2.5-25.1 5.2-35.3 17.2-22.8 31.7-47.8 42.9-74.5 5-11.8 15.3-20.4 28-22.1l57.2-8c17.6-2.5 30.6-17.5 30.6-35.2V440.8c0.2-17.8-12.9-32.8-30.5-35.2z m-408 245.5c-76.7 0-138.9-62.2-138.9-138.9s62.2-138.9 138.9-138.9 138.9 62.2 138.9 138.9-62.2 138.9-138.9 138.9z" />
</symbol><symbol class="icon gray" viewBox="0 0 1024 1024"   id="svg-undo-gray"><g transform="scale(-1, 1) translate(-1024, 0)"><path d="M550.912 890.88c-4.096 0-7.9872-0.8192-11.8784-2.4576-11.4688-4.7104-18.8416-15.9744-18.8416-28.2624v-156.672c-96.256-68.1984-309.0432 65.536-385.4336 125.1328-10.4448 7.9872-24.576 8.6016-35.6352 1.6384-11.0592-7.168-16.1792-20.48-13.1072-33.1776 99.1232-401.408 347.3408-475.9552 433.9712-489.6768V163.84c0-12.288 7.3728-23.552 18.8416-28.2624 11.4688-4.9152 24.576-2.2528 33.3824 6.3488l357.1712 348.16c5.9392 5.7344 9.216 13.7216 9.216 21.9136s-3.2768 16.1792-9.216 21.9136l-357.1712 348.16c-5.7344 5.7344-13.5168 8.8064-21.2992 8.8064z m-96.8704-267.0592c44.032 0 84.992 12.0832 117.76 43.008 6.144 5.7344 9.6256 13.9264 9.6256 22.3232v98.304L864.0512 512 581.632 236.7488v98.304c0 16.7936-13.312 30.3104-30.1056 30.72-11.264 0.4096-261.5296 12.0832-381.7472 364.1344 72.2944-45.8752 185.9584-106.0864 284.2624-106.0864z" class="icon-out" p-id="42083" data-spm-anchor-id="a313x.search_index.0.i8.a5e03a81nkrsAk" /><path d="M343.2448 579.7888c-5.9392 0-11.8784-2.048-16.7936-5.9392a26.8288 26.8288 0 0 1-3.6864-37.4784c44.4416-54.272 95.0272-93.3888 150.3232-116.5312 13.7216-5.7344 29.0816 0.8192 34.816 14.336 5.7344 13.5168-0.6144 29.0816-14.336 34.816-47.104 19.6608-90.7264 53.8624-129.6384 101.1712-5.3248 6.3488-12.9024 9.6256-20.6848 9.6256z" class="icon-in" p-id="42084" data-spm-anchor-id="a313x.search_index.0.i11.a5e03a81nkrsAk" /></g></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-undo"><g transform="scale(-1, 1) translate(-1024, 0)"><path d="M550.912 890.88c-4.096 0-7.9872-0.8192-11.8784-2.4576-11.4688-4.7104-18.8416-15.9744-18.8416-28.2624v-156.672c-96.256-68.1984-309.0432 65.536-385.4336 125.1328-10.4448 7.9872-24.576 8.6016-35.6352 1.6384-11.0592-7.168-16.1792-20.48-13.1072-33.1776 99.1232-401.408 347.3408-475.9552 433.9712-489.6768V163.84c0-12.288 7.3728-23.552 18.8416-28.2624 11.4688-4.9152 24.576-2.2528 33.3824 6.3488l357.1712 348.16c5.9392 5.7344 9.216 13.7216 9.216 21.9136s-3.2768 16.1792-9.216 21.9136l-357.1712 348.16c-5.7344 5.7344-13.5168 8.8064-21.2992 8.8064z m-96.8704-267.0592c44.032 0 84.992 12.0832 117.76 43.008 6.144 5.7344 9.6256 13.9264 9.6256 22.3232v98.304L864.0512 512 581.632 236.7488v98.304c0 16.7936-13.312 30.3104-30.1056 30.72-11.264 0.4096-261.5296 12.0832-381.7472 364.1344 72.2944-45.8752 185.9584-106.0864 284.2624-106.0864z" class="icon-out" p-id="42083" data-spm-anchor-id="a313x.search_index.0.i8.a5e03a81nkrsAk" /><path d="M343.2448 579.7888c-5.9392 0-11.8784-2.048-16.7936-5.9392a26.8288 26.8288 0 0 1-3.6864-37.4784c44.4416-54.272 95.0272-93.3888 150.3232-116.5312 13.7216-5.7344 29.0816 0.8192 34.816 14.336 5.7344 13.5168-0.6144 29.0816-14.336 34.816-47.104 19.6608-90.7264 53.8624-129.6384 101.1712-5.3248 6.3488-12.9024 9.6256-20.6848 9.6256z" class="icon-in" p-id="42084" data-spm-anchor-id="a313x.search_index.0.i11.a5e03a81nkrsAk" /></g></symbol><symbol viewBox="0 0 48 48" fill="none"  id="svg-ungroup">\r
    <path d="M11.2727 4H4V11.2727H11.2727V4Z" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M43.9998 36.7271H36.7271V43.9998H43.9998V36.7271Z" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M11.2727 24H4V31.2727H11.2727V24Z" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M23.9998 36.7271H16.7271V43.9998H23.9998V36.7271Z" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M31.2727 4H24V11.2727H31.2727V4Z" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M43.9998 16.7271H36.7271V23.9998H43.9998V16.7271Z" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M11.2729 7.63623H24.0002" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
    <path d="M24 40.3638H36.7273" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
    <path d="M11.2729 27.6366H27.6366V11.2729" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
    <path d="M28.8275 20.3633H36.7269M20.3633 36.7269V27.6282V36.7269Z" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
    <path d="M7.63672 11.2725V23.9997" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
    <path d="M40.3633 24V36.7273" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
</symbol><symbol viewBox="0 0 48 48" fill="none"  id="svg-unlock">\r
    <rect x="7" y="22.0476" width="34" height="22" rx="2" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M14 22V14.0047C13.9948 8.87022 17.9227 4.56718 23.0859 4.05117C28.249 3.53516 32.9673 6.97408 34 12.0059" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
    <path d="M24 30V36" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
</symbol>`,n.insertBefore(r,n.lastChild)};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",i):i()}const main="",index$2="";var ELineBindAnchors=(i=>(i.TopCenter="TopCenter",i.Left="Left",i.Right="Right",i.BottomCenter="BottomCenter",i))(ELineBindAnchors||{}),EConfigAnimationsType=(i=>(i.None="None",i.Electricity="Electricity",i.WaterDrop="WaterDrop",i.Track="Track",i))(EConfigAnimationsType||{}),EConfigItemPropsType=(i=>(i.Input="Input",i.Textarea="Textarea",i.Color="Color",i.InputNumber="InputNumber",i.Switch="Switch",i.JsonEdit="JsonEdit",i.Select="Select",i))(EConfigItemPropsType||{}),EDoneJsonType=(i=>(i.File="File",i.StraightLine="StraightLine",i.ConnectionLine="ConnectionLine",i.CustomSvg="CustomSvg",i.Vue="Vue",i))(EDoneJsonType||{}),EEventType=(i=>(i.Click="Click",i.Change="Change",i.Null="",i))(EEventType||{}),EEventAction=(i=>(i.ChangeAttr="ChangeAttr",i.JavaScript="JavaScript",i.Null="",i))(EEventAction||{}),EConditionType=(i=>(i.None="None",i.Relation="Relation",i))(EConditionType||{}),EGlobalStoreIntention=(i=>(i.None="None",i.Create="Create",i.Move="Move",i.GroupMove="GroupMove",i.MoveCanvas="MoveCanvas",i.Select="Select",i.Zoom="Zoom",i.Rotate="Rotate",i.Connection="Connection",i.SetConnectionLineNode="SetConnectionLineNode",i.ContextMenu="ContextMenu",i.SelectArea="SelectArea",i))(EGlobalStoreIntention||{}),EMouseInfoState=(i=>(i.Down="Down",i.Up="Up",i))(EMouseInfoState||{}),EScaleInfoType=(i=>(i.None="",i.TopLeft="TopLeft",i.TopCenter="TopCenter",i.TopRight="TopRight",i.Left="Left",i.Right="Right",i.BottomLeft="BottomLeft",i.BottomCenter="BottomCenter",i.BottomRight="BottomRight",i))(EScaleInfoType||{});const svg_alert_light={name:"alert-light",title:"警示灯",type:EDoneJsonType.File,config:{can_zoom:!0,have_anchor:!0,actual_rect:!0},display:!0,props:{},defaultState:"yellow",state:{green:{label:"正常",fill:"#00ff00",fillOpacity:"1"},yellow:{label:"请注意",fill:"#ffff00",fillOpacity:"1"},red:{label:"报警",fill:"#ff0000",fillOpacity:"1"},white:{label:"关闭",fill:"#ffffff",fillOpacity:"0"}},common_animations:{val:"",delay:"delay-0s",speed:"slow",repeat:"infinite"},events:[]},stateful_group={groupType:"stateful",title:"状态SVG",list:[svg_alert_light]},svg_bot_2={name:"bot-2",title:"2号机",type:EDoneJsonType.File,display:!0,config:{can_zoom:!0,have_anchor:!0,actual_rect:!0},props:{},common_animations:{val:"",delay:"delay-0s",speed:"slow",repeat:"infinite"},events:[]},svg_bot_9={name:"bot-9",title:"9号机",type:EDoneJsonType.File,display:!0,config:{can_zoom:!0,have_anchor:!0,actual_rect:!0},props:{},common_animations:{val:"",delay:"delay-0s",speed:"slow",repeat:"infinite"},events:[]},svg_hotpot={name:"hotpot",title:"火锅",type:EDoneJsonType.File,display:!0,config:{can_zoom:!0,have_anchor:!0,actual_rect:!0},props:{},common_animations:{val:"",delay:"delay-0s",speed:"slow",repeat:"infinite"},events:[]},svg_hamburger={name:"hamburger",title:"汉堡",type:EDoneJsonType.File,display:!0,config:{can_zoom:!0,have_anchor:!0,actual_rect:!0},props:{},common_animations:{val:"",delay:"delay-0s",speed:"slow",repeat:"infinite"},events:[]},stateless_group={groupType:"stateless",title:"静态SVG",list:[svg_hamburger,svg_hotpot,svg_bot_2,svg_bot_9]},thermometer={name:"thermometer",title:"温度计",type:EDoneJsonType.File,config:{can_zoom:!0,have_anchor:!0,actual_rect:!0},display:!0,props:{},common_animations:{val:"",delay:"delay-0s",speed:"slow",repeat:"infinite"},events:[]},animation_group={groupType:"have_animation",title:"动画SVG",list:[thermometer]},svg_text={name:"svg-text",title:"文字",tag:"svg-text",type:EDoneJsonType.CustomSvg,display:!0,config:{can_zoom:!0,have_anchor:!0,actual_rect:!0},props:{text:{title:"文字内容",type:EConfigItemPropsType.Textarea,val:"文字内容"},fontFamily:{title:"字体",type:EConfigItemPropsType.Select,val:"Microsoft YaHei",options:[{value:"Microsoft YaHei",label:"微软雅黑"},{value:"NSimSun",label:"新宋体"},{value:"KaiTi",label:"楷体"}]},fontSize:{title:"文字大小",type:EConfigItemPropsType.InputNumber,val:18},fill:{title:"文字颜色",type:EConfigItemPropsType.Color,val:"#000"},bold:{title:"文字加粗",type:EConfigItemPropsType.Switch,val:!1},writingMode:{title:"文字朝向",type:EConfigItemPropsType.Select,val:"horizontal-tb",options:[{value:"horizontal-tb",label:"水平"},{value:"vertical-rl",label:"垂直"}]}},common_animations:{val:"",delay:"delay-0s",speed:"slow",repeat:"infinite"},events:[]},switch_r={name:"switch-r",title:"开关",tag:"switch-r",type:EDoneJsonType.CustomSvg,display:!0,config:{can_zoom:!0,have_anchor:!0,actual_rect:!0},props:{isOpen:{title:"开关",type:EConfigItemPropsType.Switch,val:!1}},common_animations:{val:"",delay:"delay-0s",speed:"slow",repeat:"infinite"},events:[]},light_a={name:"light",tag:"light-a",title:"灯",type:EDoneJsonType.CustomSvg,config:{can_zoom:!0,have_anchor:!0,actual_rect:!0},display:!0,props:{isOpen:{title:"开关",type:EConfigItemPropsType.Switch,val:!1}},common_animations:{val:"",delay:"delay-0s",speed:"slow",repeat:"infinite"},events:[]},clock_a={name:"clock-a",title:"时钟",tag:"clock-a",type:EDoneJsonType.CustomSvg,config:{can_zoom:!0,have_anchor:!0,actual_rect:!0},display:!0,props:{centerColor:{title:"针顶颜色",type:EConfigItemPropsType.Color,val:"#EBF257"},secondsColor:{title:"秒针颜色",type:EConfigItemPropsType.Color,val:"#E83E24"},circleColor:{title:"针圈颜色",type:EConfigItemPropsType.Color,val:"#F45AFC"},minutesColor:{title:"分针颜色",type:EConfigItemPropsType.Color,val:"#50E68E"},hoursColor:{title:"时针颜色",type:EConfigItemPropsType.Color,val:"#9A36E7"},scaleColor:{title:"刻度颜色",type:EConfigItemPropsType.Color,val:"#4942CF"},backgroundColor:{title:"表盘颜色",type:EConfigItemPropsType.Color,val:"#ffffff"},borderColor:{title:"裱框颜色",type:EConfigItemPropsType.Color,val:"#B3A7FF"}},common_animations:{val:"",delay:"delay-0s",speed:"slow",repeat:"infinite"},events:[]},custom_svg_group={groupType:"custom_svg_group",title:"SVG组件",list:[svg_text,switch_r,light_a,clock_a]},svg_config=Object.seal([stateless_group,stateful_group,animation_group,custom_svg_group]),el_button={name:"el-button",tag:"el-button",title:"按钮",type:EDoneJsonType.Vue,config:{can_zoom:!1,have_anchor:!0,actual_rect:!0},display:!0,props:{size:{title:"尺寸",type:EConfigItemPropsType.Select,val:"default",options:[{label:"大",value:"large"},{label:"默认",value:"default"},{label:"小",value:"small"}]},type:{title:"类型",type:EConfigItemPropsType.Select,val:"primary",options:[{label:"主要按钮",value:"primary"},{label:"成功按钮",value:"success"},{label:"警告按钮",value:"warning"},{label:"危险按钮",value:"danger"},{label:"信息按钮",value:"info"}]},plain:{title:"朴素按钮",type:EConfigItemPropsType.Switch,val:!1},text:{title:"文字按钮",type:EConfigItemPropsType.Switch,val:!1}},tag_slot:"按钮",common_animations:{val:"",delay:"delay-0s",speed:"slow",repeat:"infinite"},events:[]},common_table={name:"common-table",title:"通用表格",tag:"common-table",type:EDoneJsonType.Vue,config:{can_zoom:!1,have_anchor:!0,actual_rect:!0},display:!0,props:{"col-config":{title:"列配置",type:EConfigItemPropsType.JsonEdit,val:[{prop:"date",label:"第一列",width:"120px",fixed:!1,sortable:!1,"show-overflow-tooltip":!1},{prop:"name",label:"第二列",width:"120px",fixed:!1,sortable:!1,"show-overflow-tooltip":!1},{prop:"address",label:"第三列测试",width:"280px",fixed:!1,sortable:!1,"show-overflow-tooltip":!1}]},data:{title:"表格数据",type:EConfigItemPropsType.JsonEdit,val:[{date:"2016-05-03",name:"Tom",address:"No. 189, Grove St, Los Angeles"},{date:"2016-05-02",name:"Tom",address:"No. 189, Grove St, Los Angeles"},{date:"2016-05-04",name:"Tom",address:"No. 189, Grove St, Los Angeles"},{date:"2016-05-01",name:"Tom",address:"No. 189, Grove St, Los Angeles"}]},width:{title:"宽度",type:EConfigItemPropsType.InputNumber,val:500},height:{title:"高度",type:EConfigItemPropsType.InputNumber,val:200},maxHeight:{title:"最大高度",type:EConfigItemPropsType.InputNumber,val:200},stripe:{title:"斑马纹",type:EConfigItemPropsType.Switch,val:!1},border:{title:"纵向边框",type:EConfigItemPropsType.Switch,val:!1},size:{title:"尺寸",type:EConfigItemPropsType.Select,val:"default",options:[{label:"大",value:"large"},{label:"默认",value:"default"},{label:"小",value:"small"}]},fit:{title:"列宽自撑开",type:EConfigItemPropsType.Switch,val:!1}},common_animations:{val:"",delay:"delay-0s",speed:"slow",repeat:"infinite"},events:[]},now_time={name:"now-time",title:"当前时间",tag:"now-time",type:EDoneJsonType.Vue,config:{can_zoom:!1,have_anchor:!1,actual_rect:!0},display:!0,props:{width:{title:"宽度",type:EConfigItemPropsType.InputNumber,val:150},fontFamily:{title:"字体",type:EConfigItemPropsType.Select,val:"Microsoft YaHei",options:[{value:"Microsoft YaHei",label:"微软雅黑"},{value:"NSimSun",label:"新宋体"},{value:"KaiTi",label:"楷体"}]},fontSize:{title:"文字大小",type:EConfigItemPropsType.InputNumber,val:18},color:{title:"文字颜色",type:EConfigItemPropsType.Color,val:"#000000"},bold:{title:"文字加粗",type:EConfigItemPropsType.Switch,val:!1}},common_animations:{val:"",delay:"delay-0s",speed:"slow",repeat:"infinite"},events:[]},el_tag={name:"el-tag",tag:"el-tag",title:"标签",type:EDoneJsonType.Vue,config:{can_zoom:!0,have_anchor:!0,actual_rect:!0},display:!0,props:{type:{title:"类型",type:EConfigItemPropsType.Select,val:"success",options:[{label:"成功",value:"success"},{label:"警告",value:"warning"},{label:"危险",value:"danger"},{label:"信息",value:"info"}]},closable:{title:"可关闭",type:EConfigItemPropsType.Switch,val:!0},"disable-transitions":{title:"渐变",type:EConfigItemPropsType.Switch,val:!1}},tag_slot:"标签",common_animations:{val:"",delay:"delay-0s",speed:"slow",repeat:"infinite"},events:[]},progress_a={name:"progress-a",tag:"progress-a",title:"进度条",type:EDoneJsonType.Vue,config:{can_zoom:!1,have_anchor:!0,actual_rect:!0},display:!0,props:{percentage:{title:"进度",type:EConfigItemPropsType.InputNumber,val:50}},common_animations:{val:"",delay:"delay-0s",speed:"slow",repeat:"infinite"},events:[]},components={groupType:"custom-vue",title:"VUE组件",list:[el_button,progress_a,common_table,now_time,el_tag]},pie_charts={name:"pie-charts",tag:"pie-charts",title:"饼图",type:EDoneJsonType.Vue,config:{can_zoom:!0,have_anchor:!0,actual_rect:!0},display:!0,props:{title:{title:"标题",type:EConfigItemPropsType.Input,val:"默认标题"},seriesName:{title:"详情",type:EConfigItemPropsType.Input,val:"详情标题"},seriesData:{title:"legendData",type:EConfigItemPropsType.JsonEdit,val:[{value:1048,name:"办公楼A"},{value:735,name:"办公楼B"},{value:580,name:"保安室"},{value:484,name:"地下车库"},{value:300,name:"食堂"}]}},common_animations:{val:"",delay:"delay-0s",speed:"slow",repeat:"infinite"},events:[]},echarts_group={groupType:"echarts",title:"图表",list:[pie_charts]},vue_config=Object.seal([components,echarts_group]),_sfc_main$L=vue.defineComponent({__name:"progress",props:{percentage:{default:10}},emits:["onChange"],setup(i,{emit:n}){const r=i,o=[{color:"#f56c6c",percentage:20},{color:"#e6a23c",percentage:40},{color:"#5cb87a",percentage:60},{color:"#1989fa",percentage:80},{color:"#6f7ad3",percentage:100}];return vue.watch(()=>r.percentage,()=>{n("onChange")}),(a,u)=>(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElProgress),{type:"dashboard",percentage:Number(r.percentage),color:o},null,8,["percentage"]))}}),_hoisted_1$m=["id"],_hoisted_2$i=["id"],_hoisted_3$f=vue.createElementVNode("path",{d:"M747.52 238.933333    H276.48    C122.88 238.933333 0 361.813333 0 512    s122.88 273.066667 276.48 273.066667    H750.933333    c150.186667 0 276.48-122.88 276.48-273.066667    s-126.293333-273.066667-279.893333-273.066667z",fill:"white","fill-opacity":".01","p-id":"1537","data-spm-anchor-id":"a313x.manage_type_myprojects.0.i0.1adc3a81uCnBP5"},null,-1),_hoisted_4$b=vue.createElementVNode("path",{d:"M747.52 238.933333    H276.48    C122.88 238.933333 0 361.813333 0 512    s122.88 273.066667 276.48 273.066667    H750.933333    c150.186667 0 276.48-122.88 276.48-273.066667    s-126.293333-273.066667-279.893333-273.066667z     m0 512    H276.48    C143.36 750.933333 34.133333 645.12 34.133333 512s109.226667-238.933333 242.346667-238.933333    H750.933333c133.12 0 242.346667 105.813333 242.346667 238.933333s-112.64 238.933333-245.76 238.933333z",fill:"#2c2c2c","p-id":"1531","data-spm-anchor-id":"a313x.manage_type_myprojects.0.i0.1adc3a81uCnBP5"},null,-1),_hoisted_5$9=vue.createElementVNode("path",{d:"M238.933333 409.6c-37.546667 0-68.266667 27.306667-68.266666 61.44v85.333333c0 34.133333 30.72 61.44 68.266666 61.44s68.266667-27.306667 68.266667-61.44v-85.333333c0-34.133333-30.72-61.44-68.266667-61.44z m34.133334 146.773333c0 13.653333-17.066667 23.893333-34.133334 23.893334s-34.133333-10.24-34.133333-27.306667v-85.333333c0-13.653333 17.066667-23.893333 34.133333-23.893334s34.133333 10.24 34.133334 27.306667v85.333333zM460.8 409.6c-10.24 0-17.066667 6.826667-17.066667 17.066667v109.226666l-71.68-119.466666c-3.413333-6.826667-10.24-10.24-20.48-6.826667-6.826667 3.413333-13.653333 10.24-13.653333 17.066667v170.666666c0 10.24 6.826667 17.066667 17.066667 17.066667s17.066667-6.826667 17.066666-17.066667v-109.226666l71.68 119.466666c3.413333 6.826667 10.24 6.826667 13.653334 6.826667h3.413333c6.826667-3.413333 13.653333-10.24 13.653333-17.066667v-170.666666c3.413333-10.24-3.413333-17.066667-13.653333-17.066667zM750.933333 341.333333c-95.573333 0-170.666667 75.093333-170.666666 170.666667s75.093333 170.666667 170.666666 170.666667 170.666667-75.093333 170.666667-170.666667-75.093333-170.666667-170.666667-170.666667z",fill:"#5ad562","p-id":"1530","data-spm-anchor-id":"a313x.manage_type_myprojects.0.i1.1adc3a81uCnBP5"},null,-1),_hoisted_6$7=[_hoisted_3$f,_hoisted_4$b,_hoisted_5$9],_hoisted_7$7=["id"],_hoisted_8$7=vue.createElementVNode("path",{d:"M747.52 238.933333    H276.48    C122.88 238.933333 0 361.813333 0 512    s122.88 273.066667 276.48 273.066667    H750.933333    c150.186667 0 276.48-122.88 276.48-273.066667    s-126.293333-273.066667-279.893333-273.066667z",fill:"white","fill-opacity":".01","p-id":"1536","data-spm-anchor-id":"a313x.manage_type_myprojects.0.i0.1adc3a81uCnBP5"},null,-1),_hoisted_9$7=vue.createElementVNode("path",{d:"M747.52 238.933333    H276.48    C122.88 238.933333 0 361.813333 0 512    s122.88 273.066667 276.48 273.066667    H750.933333    c150.186667 0 276.48-122.88 276.48-273.066667    s-126.293333-273.066667-279.893333-273.066667z    m0 512    H276.48    C143.36 750.933333 34.133333 645.12 34.133333 512s109.226667-238.933333 242.346667-238.933333    H750.933333c133.12 0 242.346667 105.813333 242.346667 238.933333s-112.64 238.933333-245.76 238.933333z",fill:"#2c2c2c","p-id":"1535","data-spm-anchor-id":"a313x.manage_type_myprojects.0.i0.1adc3a81uCnBP5"},null,-1),_hoisted_10$6=vue.createElementVNode("path",{d:"M273.066667 341.333333c-95.573333 0-170.666667 75.093333-170.666667 170.666667s75.093333 170.666667 170.666667 170.666667 170.666667-75.093333 170.666666-170.666667-75.093333-170.666667-170.666666-170.666667z",fill:"#bfbfbf","p-id":"1534","data-spm-anchor-id":"a313x.manage_type_myprojects.0.i0.1adc3a81KYNNkt"},null,-1),_hoisted_11$5=vue.createElementVNode("path",{d:"M580.266667 409.6c-37.546667 0-68.266667 27.306667-68.266667 61.44v85.333333c0 34.133333 30.72 61.44 68.266667 61.44s68.266667-27.306667 68.266666-61.44v-85.333333c0-34.133333-30.72-61.44-68.266666-61.44z m34.133333 146.773333c0 13.653333-17.066667 27.306667-34.133333 27.306667s-34.133333-10.24-34.133334-27.306667v-85.333333c0-13.653333 17.066667-27.306667 34.133334-27.306667s34.133333 10.24 34.133333 27.306667v85.333333zM904.533333 409.6h-68.266666c-10.24 0-17.066667 6.826667-17.066667 17.066667v170.666666c0 10.24 6.826667 17.066667 17.066667 17.066667s17.066667-6.826667 17.066666-17.066667V512h17.066667c10.24 0 17.066667-6.826667 17.066667-17.066667s-6.826667-17.066667-17.066667-17.066666H853.333333v-34.133334h51.2c10.24 0 17.066667-6.826667 17.066667-17.066666s-6.826667-17.066667-17.066667-17.066667zM768 409.6h-68.266667c-10.24 0-17.066667 6.826667-17.066666 17.066667v170.666666c0 10.24 6.826667 17.066667 17.066666 17.066667s17.066667-6.826667 17.066667-17.066667V512h17.066667c10.24 0 17.066667-6.826667 17.066666-17.066667s-6.826667-17.066667-17.066666-17.066666H716.8v-34.133334h51.2c10.24 0 17.066667-6.826667 17.066667-17.066666s-6.826667-17.066667-17.066667-17.066667z",fill:"#707070","p-id":"1533","data-spm-anchor-id":"a313x.manage_type_myprojects.0.i2.1adc3a81KYNNkt"},null,-1),_hoisted_12$5=[_hoisted_8$7,_hoisted_9$7,_hoisted_10$6,_hoisted_11$5],_hoisted_13$4=["xlink:href"],_sfc_main$K=vue.defineComponent({__name:"switch-r",props:{id:{type:String,default:""},isOpen:{type:Boolean,default:!0}},emits:["onChange"],setup(i,{emit:n}){const r=i;return vue.watch(()=>r.isOpen,()=>{n("onChange")}),(o,a)=>(vue.openBlock(),vue.createElementBlock("g",{id:r.id},[vue.createElementVNode("symbol",{viewBox:"0 0 1027 1024",id:`${r.id}switch-demo-open`},_hoisted_6$7,8,_hoisted_2$i),vue.createElementVNode("symbol",{viewBox:"0 0 1027 1024",id:`${r.id}switch-demo-close`},_hoisted_12$5,8,_hoisted_7$7),vue.createElementVNode("use",{"xlink:href":`#${r.id}switch-demo-${r.isOpen?"open":"close"}`,width:"100",height:"100"},null,8,_hoisted_13$4)],8,_hoisted_1$m))}}),_sfc_main$J=vue.defineComponent({__name:"svg-text",props:{text:{},bold:{type:Boolean}},emits:["resize"],setup(i,{emit:n}){const r=i;return vue.watch(()=>r.text,()=>{vue.nextTick(function(){n("resize")})}),(o,a)=>(vue.openBlock(),vue.createElementBlock("text",{x:"50",y:"55",style:vue.normalizeStyle({"font-weight":r.bold?"bold":"normal"})},vue.toDisplayString(r.text),5))}}),_sfc_main$I=vue.defineComponent({__name:"common-table",props:{colConfig:{default:()=>[]},data:{default:()=>[]},height:{default:200},maxHeight:{},stripe:{type:Boolean,default:!1},border:{type:Boolean,default:!1},size:{},fit:{type:Boolean,default:!1},operateDisplay:{type:Boolean,default:!1},selectionData:{default:()=>[]}},setup(i){const n=i,r=vue.ref({});return vue.watchEffect(()=>{const{colConfig:o,...a}=n;r.value=a}),(o,a)=>(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElTable),vue.normalizeProps(vue.guardReactiveProps(vue.unref(r))),{default:vue.withCtx(()=>[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(n.colConfig,u=>(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElTableColumn),vue.mergeProps({key:u.prop},u),null,16))),128))]),_:1},16))}}),_hoisted_1$l={class:"flex mt-5px"},_sfc_main$H=vue.defineComponent({__name:"now-time",props:{width:{},fontFamily:{},color:{},fontSize:{},bold:{type:Boolean}},setup(i){const n=i,r=vue.computed(()=>({fontFamily:n.fontFamily,color:n.color,fontSize:n.fontSize+"px",fontWeight:n.bold?"bold":"normal"})),o=vue.ref(new Date),a=vue.ref(),u=vue.computed(()=>{const d=o.value.getFullYear(),h=o.value.getMonth()+1,v=o.value.getDate();return d.toString()+"年"+h.toString()+"月"+v.toString()+"日"}),c=vue.computed(()=>{const d=o.value.getDay();return["星期日","星期一","星期二","星期三","星期四","星期五","星期六"][d]}),f=vue.computed(()=>{const d=o.value.getHours(),h=o.value.getMinutes(),v=o.value.getSeconds();return(d<10?"0"+d.toString():d.toString())+":"+(h<10?"0"+h.toString():h.toString())+":"+(v<10?"0"+v.toString():v.toString())});return vue.onMounted(()=>{a.value=setInterval(()=>{o.value=new Date},500)}),vue.onUnmounted(()=>{clearInterval(a.value)}),(d,h)=>(vue.openBlock(),vue.createElementBlock("div",{class:"now-time",style:vue.normalizeStyle({width:n.width+"px"})},[vue.createElementVNode("div",{style:vue.normalizeStyle(vue.unref(r))},vue.toDisplayString(vue.unref(u)),5),vue.createElementVNode("div",_hoisted_1$l,[vue.createElementVNode("div",{style:vue.normalizeStyle(vue.unref(r))},vue.toDisplayString(vue.unref(c)),5),vue.createElementVNode("div",{style:vue.normalizeStyle(vue.unref(r))},vue.toDisplayString(vue.unref(f)),5)])],4))}}),nowTime_vue_vue_type_style_index_0_scoped_82ca3b84_lang="",_export_sfc$1=(i,n)=>{const r=i.__vccOpts||i;for(const[o,a]of n)r[o]=a;return r},NowTime=_export_sfc$1(_sfc_main$H,[["__scopeId","data-v-82ca3b84"]]);/*! *****************************************************************************
  Copyright (c) Microsoft Corporation.

  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.

  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** */var extendStatics=function(i,n){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},extendStatics(i,n)};function __extends(i,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");extendStatics(i,n);function r(){this.constructor=i}i.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}var Browser=function(){function i(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return i}(),Env=function(){function i(){this.browser=new Browser,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return i}(),env=new Env;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(env.wxa=!0,env.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?env.worker=!0:typeof navigator>"u"?(env.node=!0,env.svgSupported=!0):detect(navigator.userAgent,env);function detect(i,n){var r=n.browser,o=i.match(/Firefox\/([\d.]+)/),a=i.match(/MSIE\s([\d.]+)/)||i.match(/Trident\/.+?rv:(([\d.]+))/),u=i.match(/Edge?\/([\d.]+)/),c=/micromessenger/i.test(i);o&&(r.firefox=!0,r.version=o[1]),a&&(r.ie=!0,r.version=a[1]),u&&(r.edge=!0,r.version=u[1],r.newEdge=+u[1].split(".")[0]>18),c&&(r.weChat=!0),n.svgSupported=typeof SVGRect<"u",n.touchEventsSupported="ontouchstart"in window&&!r.ie&&!r.edge,n.pointerEventsSupported="onpointerdown"in window&&(r.edge||r.ie&&+r.version>=11),n.domSupported=typeof document<"u";var f=document.documentElement.style;n.transform3dSupported=(r.ie&&"transition"in f||r.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in f)&&!("OTransition"in f),n.transformSupported=n.transform3dSupported||r.ie&&+r.version>=9}const env$1=env;var DEFAULT_FONT_SIZE=12,DEFAULT_FONT_FAMILY="sans-serif",DEFAULT_FONT=DEFAULT_FONT_SIZE+"px "+DEFAULT_FONT_FAMILY,OFFSET=20,SCALE=100,defaultWidthMapStr="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function getTextWidthMap(i){var n={};if(typeof JSON>"u")return n;for(var r=0;r<i.length;r++){var o=String.fromCharCode(r+32),a=(i.charCodeAt(r)-OFFSET)/SCALE;n[o]=a}return n}var DEFAULT_TEXT_WIDTH_MAP=getTextWidthMap(defaultWidthMapStr),platformApi={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:function(){var i,n;return function(r,o){if(!i){var a=platformApi.createCanvas();i=a&&a.getContext("2d")}if(i)return n!==o&&(n=i.font=o||DEFAULT_FONT),i.measureText(r);r=r||"",o=o||DEFAULT_FONT;var u=/(\d+)px/.exec(o),c=u&&+u[1]||DEFAULT_FONT_SIZE,f=0;if(o.indexOf("mono")>=0)f=c*r.length;else for(var d=0;d<r.length;d++){var h=DEFAULT_TEXT_WIDTH_MAP[r[d]];f+=h==null?c:h*c}return{width:f}}}(),loadImage:function(i,n,r){var o=new Image;return o.onload=n,o.onerror=r,o.src=i,o}},BUILTIN_OBJECT=reduce(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(i,n){return i["[object "+n+"]"]=!0,i},{}),TYPED_ARRAY=reduce(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(i,n){return i["[object "+n+"Array]"]=!0,i},{}),objToString=Object.prototype.toString,arrayProto=Array.prototype,nativeForEach=arrayProto.forEach,nativeFilter=arrayProto.filter,nativeSlice=arrayProto.slice,nativeMap=arrayProto.map,ctorFunction=function(){}.constructor,protoFunction=ctorFunction?ctorFunction.prototype:null,protoKey="__proto__",idStart=2311;function guid(){return idStart++}function logError(){for(var i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];typeof console<"u"&&console.error.apply(console,i)}function clone$2(i){if(i==null||typeof i!="object")return i;var n=i,r=objToString.call(i);if(r==="[object Array]"){if(!isPrimitive(i)){n=[];for(var o=0,a=i.length;o<a;o++)n[o]=clone$2(i[o])}}else if(TYPED_ARRAY[r]){if(!isPrimitive(i)){var u=i.constructor;if(u.from)n=u.from(i);else{n=new u(i.length);for(var o=0,a=i.length;o<a;o++)n[o]=i[o]}}}else if(!BUILTIN_OBJECT[r]&&!isPrimitive(i)&&!isDom(i)){n={};for(var c in i)i.hasOwnProperty(c)&&c!==protoKey&&(n[c]=clone$2(i[c]))}return n}function merge(i,n,r){if(!isObject$3(n)||!isObject$3(i))return r?clone$2(n):i;for(var o in n)if(n.hasOwnProperty(o)&&o!==protoKey){var a=i[o],u=n[o];isObject$3(u)&&isObject$3(a)&&!isArray$1(u)&&!isArray$1(a)&&!isDom(u)&&!isDom(a)&&!isBuiltInObject(u)&&!isBuiltInObject(a)&&!isPrimitive(u)&&!isPrimitive(a)?merge(a,u,r):(r||!(o in i))&&(i[o]=clone$2(n[o]))}return i}function extend(i,n){if(Object.assign)Object.assign(i,n);else for(var r in n)n.hasOwnProperty(r)&&r!==protoKey&&(i[r]=n[r]);return i}function defaults(i,n,r){for(var o=keys(n),a=0;a<o.length;a++){var u=o[a];(r?n[u]!=null:i[u]==null)&&(i[u]=n[u])}return i}function indexOf(i,n){if(i){if(i.indexOf)return i.indexOf(n);for(var r=0,o=i.length;r<o;r++)if(i[r]===n)return r}return-1}function inherits(i,n){var r=i.prototype;function o(){}o.prototype=n.prototype,i.prototype=new o;for(var a in r)r.hasOwnProperty(a)&&(i.prototype[a]=r[a]);i.prototype.constructor=i,i.superClass=n}function mixin(i,n,r){if(i="prototype"in i?i.prototype:i,n="prototype"in n?n.prototype:n,Object.getOwnPropertyNames)for(var o=Object.getOwnPropertyNames(n),a=0;a<o.length;a++){var u=o[a];u!=="constructor"&&(r?n[u]!=null:i[u]==null)&&(i[u]=n[u])}else defaults(i,n,r)}function isArrayLike(i){return!i||typeof i=="string"?!1:typeof i.length=="number"}function each$4(i,n,r){if(i&&n)if(i.forEach&&i.forEach===nativeForEach)i.forEach(n,r);else if(i.length===+i.length)for(var o=0,a=i.length;o<a;o++)n.call(r,i[o],o,i);else for(var u in i)i.hasOwnProperty(u)&&n.call(r,i[u],u,i)}function map$1(i,n,r){if(!i)return[];if(!n)return slice(i);if(i.map&&i.map===nativeMap)return i.map(n,r);for(var o=[],a=0,u=i.length;a<u;a++)o.push(n.call(r,i[a],a,i));return o}function reduce(i,n,r,o){if(i&&n){for(var a=0,u=i.length;a<u;a++)r=n.call(o,r,i[a],a,i);return r}}function filter(i,n,r){if(!i)return[];if(!n)return slice(i);if(i.filter&&i.filter===nativeFilter)return i.filter(n,r);for(var o=[],a=0,u=i.length;a<u;a++)n.call(r,i[a],a,i)&&o.push(i[a]);return o}function keys(i){if(!i)return[];if(Object.keys)return Object.keys(i);var n=[];for(var r in i)i.hasOwnProperty(r)&&n.push(r);return n}function bindPolyfill(i,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];return function(){return i.apply(n,r.concat(nativeSlice.call(arguments)))}}var bind$1=protoFunction&&isFunction$1(protoFunction.bind)?protoFunction.call.bind(protoFunction.bind):bindPolyfill;function curry$1(i){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return function(){return i.apply(this,n.concat(nativeSlice.call(arguments)))}}function isArray$1(i){return Array.isArray?Array.isArray(i):objToString.call(i)==="[object Array]"}function isFunction$1(i){return typeof i=="function"}function isString$2(i){return typeof i=="string"}function isStringSafe(i){return objToString.call(i)==="[object String]"}function isNumber$1(i){return typeof i=="number"}function isObject$3(i){var n=typeof i;return n==="function"||!!i&&n==="object"}function isBuiltInObject(i){return!!BUILTIN_OBJECT[objToString.call(i)]}function isTypedArray(i){return!!TYPED_ARRAY[objToString.call(i)]}function isDom(i){return typeof i=="object"&&typeof i.nodeType=="number"&&typeof i.ownerDocument=="object"}function isGradientObject(i){return i.colorStops!=null}function isRegExp(i){return objToString.call(i)==="[object RegExp]"}function eqNaN(i){return i!==i}function retrieve(){for(var i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];for(var r=0,o=i.length;r<o;r++)if(i[r]!=null)return i[r]}function retrieve2(i,n){return i??n}function retrieve3(i,n,r){return i??n??r}function slice(i){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return nativeSlice.apply(i,n)}function normalizeCssArray$1(i){if(typeof i=="number")return[i,i,i,i];var n=i.length;return n===2?[i[0],i[1],i[0],i[1]]:n===3?[i[0],i[1],i[2],i[1]]:i}function assert(i,n){if(!i)throw new Error(n)}function trim(i){return i==null?null:typeof i.trim=="function"?i.trim():i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var primitiveKey="__ec_primitive__";function setAsPrimitive(i){i[primitiveKey]=!0}function isPrimitive(i){return i[primitiveKey]}var MapPolyfill=function(){function i(){this.data={}}return i.prototype.delete=function(n){var r=this.has(n);return r&&delete this.data[n],r},i.prototype.has=function(n){return this.data.hasOwnProperty(n)},i.prototype.get=function(n){return this.data[n]},i.prototype.set=function(n,r){return this.data[n]=r,this},i.prototype.keys=function(){return keys(this.data)},i.prototype.forEach=function(n){var r=this.data;for(var o in r)r.hasOwnProperty(o)&&n(r[o],o)},i}(),isNativeMapSupported=typeof Map=="function";function maybeNativeMap(){return isNativeMapSupported?new Map:new MapPolyfill}var HashMap=function(){function i(n){var r=isArray$1(n);this.data=maybeNativeMap();var o=this;n instanceof i?n.each(a):n&&each$4(n,a);function a(u,c){r?o.set(u,c):o.set(c,u)}}return i.prototype.hasKey=function(n){return this.data.has(n)},i.prototype.get=function(n){return this.data.get(n)},i.prototype.set=function(n,r){return this.data.set(n,r),r},i.prototype.each=function(n,r){this.data.forEach(function(o,a){n.call(r,o,a)})},i.prototype.keys=function(){var n=this.data.keys();return isNativeMapSupported?Array.from(n):n},i.prototype.removeKey=function(n){this.data.delete(n)},i}();function createHashMap(i){return new HashMap(i)}function concatArray(i,n){for(var r=new i.constructor(i.length+n.length),o=0;o<i.length;o++)r[o]=i[o];for(var a=i.length,o=0;o<n.length;o++)r[o+a]=n[o];return r}function createObject(i,n){var r;if(Object.create)r=Object.create(i);else{var o=function(){};o.prototype=i,r=new o}return n&&extend(r,n),r}function hasOwn$1(i,n){return i.hasOwnProperty(n)}function noop$1(){}var RADIAN_TO_DEGREE=180/Math.PI;function create$1(i,n){return i==null&&(i=0),n==null&&(n=0),[i,n]}function clone$1(i){return[i[0],i[1]]}function add(i,n,r){return i[0]=n[0]+r[0],i[1]=n[1]+r[1],i}function sub$1(i,n,r){return i[0]=n[0]-r[0],i[1]=n[1]-r[1],i}function len(i){return Math.sqrt(lenSquare(i))}function lenSquare(i){return i[0]*i[0]+i[1]*i[1]}function scale$1(i,n,r){return i[0]=n[0]*r,i[1]=n[1]*r,i}function normalize(i,n){var r=len(n);return r===0?(i[0]=0,i[1]=0):(i[0]=n[0]/r,i[1]=n[1]/r),i}function distance(i,n){return Math.sqrt((i[0]-n[0])*(i[0]-n[0])+(i[1]-n[1])*(i[1]-n[1]))}var dist$1=distance;function distanceSquare(i,n){return(i[0]-n[0])*(i[0]-n[0])+(i[1]-n[1])*(i[1]-n[1])}var distSquare=distanceSquare;function lerp(i,n,r,o){return i[0]=n[0]+o*(r[0]-n[0]),i[1]=n[1]+o*(r[1]-n[1]),i}function applyTransform$1(i,n,r){var o=n[0],a=n[1];return i[0]=r[0]*o+r[2]*a+r[4],i[1]=r[1]*o+r[3]*a+r[5],i}function min$1(i,n,r){return i[0]=Math.min(n[0],r[0]),i[1]=Math.min(n[1],r[1]),i}function max$1(i,n,r){return i[0]=Math.max(n[0],r[0]),i[1]=Math.max(n[1],r[1]),i}var Param=function(){function i(n,r){this.target=n,this.topTarget=r&&r.topTarget}return i}(),Draggable=function(){function i(n){this.handler=n,n.on("mousedown",this._dragStart,this),n.on("mousemove",this._drag,this),n.on("mouseup",this._dragEnd,this)}return i.prototype._dragStart=function(n){for(var r=n.target;r&&!r.draggable;)r=r.parent||r.__hostTarget;r&&(this._draggingTarget=r,r.dragging=!0,this._x=n.offsetX,this._y=n.offsetY,this.handler.dispatchToElement(new Param(r,n),"dragstart",n.event))},i.prototype._drag=function(n){var r=this._draggingTarget;if(r){var o=n.offsetX,a=n.offsetY,u=o-this._x,c=a-this._y;this._x=o,this._y=a,r.drift(u,c,n),this.handler.dispatchToElement(new Param(r,n),"drag",n.event);var f=this.handler.findHover(o,a,r).target,d=this._dropTarget;this._dropTarget=f,r!==f&&(d&&f!==d&&this.handler.dispatchToElement(new Param(d,n),"dragleave",n.event),f&&f!==d&&this.handler.dispatchToElement(new Param(f,n),"dragenter",n.event))}},i.prototype._dragEnd=function(n){var r=this._draggingTarget;r&&(r.dragging=!1),this.handler.dispatchToElement(new Param(r,n),"dragend",n.event),this._dropTarget&&this.handler.dispatchToElement(new Param(this._dropTarget,n),"drop",n.event),this._draggingTarget=null,this._dropTarget=null},i}();const Draggable$1=Draggable;var Eventful=function(){function i(n){n&&(this._$eventProcessor=n)}return i.prototype.on=function(n,r,o,a){this._$handlers||(this._$handlers={});var u=this._$handlers;if(typeof r=="function"&&(a=o,o=r,r=null),!o||!n)return this;var c=this._$eventProcessor;r!=null&&c&&c.normalizeQuery&&(r=c.normalizeQuery(r)),u[n]||(u[n]=[]);for(var f=0;f<u[n].length;f++)if(u[n][f].h===o)return this;var d={h:o,query:r,ctx:a||this,callAtLast:o.zrEventfulCallAtLast},h=u[n].length-1,v=u[n][h];return v&&v.callAtLast?u[n].splice(h,0,d):u[n].push(d),this},i.prototype.isSilent=function(n){var r=this._$handlers;return!r||!r[n]||!r[n].length},i.prototype.off=function(n,r){var o=this._$handlers;if(!o)return this;if(!n)return this._$handlers={},this;if(r){if(o[n]){for(var a=[],u=0,c=o[n].length;u<c;u++)o[n][u].h!==r&&a.push(o[n][u]);o[n]=a}o[n]&&o[n].length===0&&delete o[n]}else delete o[n];return this},i.prototype.trigger=function(n){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];if(!this._$handlers)return this;var a=this._$handlers[n],u=this._$eventProcessor;if(a)for(var c=r.length,f=a.length,d=0;d<f;d++){var h=a[d];if(!(u&&u.filter&&h.query!=null&&!u.filter(n,h.query)))switch(c){case 0:h.h.call(h.ctx);break;case 1:h.h.call(h.ctx,r[0]);break;case 2:h.h.call(h.ctx,r[0],r[1]);break;default:h.h.apply(h.ctx,r);break}}return u&&u.afterTrigger&&u.afterTrigger(n),this},i.prototype.triggerWithContext=function(n){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];if(!this._$handlers)return this;var a=this._$handlers[n],u=this._$eventProcessor;if(a)for(var c=r.length,f=r[c-1],d=a.length,h=0;h<d;h++){var v=a[h];if(!(u&&u.filter&&v.query!=null&&!u.filter(n,v.query)))switch(c){case 0:v.h.call(f);break;case 1:v.h.call(f,r[0]);break;case 2:v.h.call(f,r[0],r[1]);break;default:v.h.apply(f,r.slice(1,c-1));break}}return u&&u.afterTrigger&&u.afterTrigger(n),this},i}();const Eventful$1=Eventful;var LN2=Math.log(2);function determinant(i,n,r,o,a,u){var c=o+"-"+a,f=i.length;if(u.hasOwnProperty(c))return u[c];if(n===1){var d=Math.round(Math.log((1<<f)-1&~a)/LN2);return i[r][d]}for(var h=o|1<<r,v=r+1;o&1<<v;)v++;for(var g=0,p=0,y=0;p<f;p++){var _=1<<p;_&a||(g+=(y%2?-1:1)*i[r][p]*determinant(i,n-1,v,h,a|_,u),y++)}return u[c]=g,g}function buildTransformer(i,n){var r=[[i[0],i[1],1,0,0,0,-n[0]*i[0],-n[0]*i[1]],[0,0,0,i[0],i[1],1,-n[1]*i[0],-n[1]*i[1]],[i[2],i[3],1,0,0,0,-n[2]*i[2],-n[2]*i[3]],[0,0,0,i[2],i[3],1,-n[3]*i[2],-n[3]*i[3]],[i[4],i[5],1,0,0,0,-n[4]*i[4],-n[4]*i[5]],[0,0,0,i[4],i[5],1,-n[5]*i[4],-n[5]*i[5]],[i[6],i[7],1,0,0,0,-n[6]*i[6],-n[6]*i[7]],[0,0,0,i[6],i[7],1,-n[7]*i[6],-n[7]*i[7]]],o={},a=determinant(r,8,0,0,0,o);if(a!==0){for(var u=[],c=0;c<8;c++)for(var f=0;f<8;f++)u[f]==null&&(u[f]=0),u[f]+=((c+f)%2?-1:1)*determinant(r,7,c===0?1:0,1<<c,1<<f,o)/a*n[c];return function(d,h,v){var g=h*u[6]+v*u[7]+1;d[0]=(h*u[0]+v*u[1]+u[2])/g,d[1]=(h*u[3]+v*u[4]+u[5])/g}}}var EVENT_SAVED_PROP="___zrEVENTSAVED",_calcOut$1=[];function transformLocalCoord(i,n,r,o,a){return transformCoordWithViewport(_calcOut$1,n,o,a,!0)&&transformCoordWithViewport(i,r,_calcOut$1[0],_calcOut$1[1])}function transformCoordWithViewport(i,n,r,o,a){if(n.getBoundingClientRect&&env$1.domSupported&&!isCanvasEl(n)){var u=n[EVENT_SAVED_PROP]||(n[EVENT_SAVED_PROP]={}),c=prepareCoordMarkers(n,u),f=preparePointerTransformer(c,u,a);if(f)return f(i,r,o),!0}return!1}function prepareCoordMarkers(i,n){var r=n.markers;if(r)return r;r=n.markers=[];for(var o=["left","right"],a=["top","bottom"],u=0;u<4;u++){var c=document.createElement("div"),f=c.style,d=u%2,h=(u>>1)%2;f.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",o[d]+":0",a[h]+":0",o[1-d]+":auto",a[1-h]+":auto",""].join("!important;"),i.appendChild(c),r.push(c)}return r}function preparePointerTransformer(i,n,r){for(var o=r?"invTrans":"trans",a=n[o],u=n.srcCoords,c=[],f=[],d=!0,h=0;h<4;h++){var v=i[h].getBoundingClientRect(),g=2*h,p=v.left,y=v.top;c.push(p,y),d=d&&u&&p===u[g]&&y===u[g+1],f.push(i[h].offsetLeft,i[h].offsetTop)}return d&&a?a:(n.srcCoords=c,n[o]=r?buildTransformer(f,c):buildTransformer(c,f))}function isCanvasEl(i){return i.nodeName.toUpperCase()==="CANVAS"}var replaceReg=/([&<>"'])/g,replaceMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function encodeHTML(i){return i==null?"":(i+"").replace(replaceReg,function(n,r){return replaceMap[r]})}var MOUSE_EVENT_REG=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,_calcOut=[],firefoxNotSupportOffsetXY=env$1.browser.firefox&&+env$1.browser.version.split(".")[0]<39;function clientToLocal(i,n,r,o){return r=r||{},o?calculateZrXY(i,n,r):firefoxNotSupportOffsetXY&&n.layerX!=null&&n.layerX!==n.offsetX?(r.zrX=n.layerX,r.zrY=n.layerY):n.offsetX!=null?(r.zrX=n.offsetX,r.zrY=n.offsetY):calculateZrXY(i,n,r),r}function calculateZrXY(i,n,r){if(env$1.domSupported&&i.getBoundingClientRect){var o=n.clientX,a=n.clientY;if(isCanvasEl(i)){var u=i.getBoundingClientRect();r.zrX=o-u.left,r.zrY=a-u.top;return}else if(transformCoordWithViewport(_calcOut,i,o,a)){r.zrX=_calcOut[0],r.zrY=_calcOut[1];return}}r.zrX=r.zrY=0}function getNativeEvent(i){return i||window.event}function normalizeEvent(i,n,r){if(n=getNativeEvent(n),n.zrX!=null)return n;var o=n.type,a=o&&o.indexOf("touch")>=0;if(a){var c=o!=="touchend"?n.targetTouches[0]:n.changedTouches[0];c&&clientToLocal(i,c,n,r)}else{clientToLocal(i,n,n,r);var u=getWheelDeltaMayPolyfill(n);n.zrDelta=u?u/120:-(n.detail||0)/3}var f=n.button;return n.which==null&&f!==void 0&&MOUSE_EVENT_REG.test(n.type)&&(n.which=f&1?1:f&2?3:f&4?2:0),n}function getWheelDeltaMayPolyfill(i){var n=i.wheelDelta;if(n)return n;var r=i.deltaX,o=i.deltaY;if(r==null||o==null)return n;var a=Math.abs(o!==0?o:r),u=o>0?-1:o<0?1:r>0?-1:1;return 3*a*u}function addEventListener(i,n,r,o){i.addEventListener(n,r,o)}function removeEventListener(i,n,r,o){i.removeEventListener(n,r,o)}var stop=function(i){i.preventDefault(),i.stopPropagation(),i.cancelBubble=!0},GestureMgr=function(){function i(){this._track=[]}return i.prototype.recognize=function(n,r,o){return this._doTrack(n,r,o),this._recognize(n)},i.prototype.clear=function(){return this._track.length=0,this},i.prototype._doTrack=function(n,r,o){var a=n.touches;if(a){for(var u={points:[],touches:[],target:r,event:n},c=0,f=a.length;c<f;c++){var d=a[c],h=clientToLocal(o,d,{});u.points.push([h.zrX,h.zrY]),u.touches.push(d)}this._track.push(u)}},i.prototype._recognize=function(n){for(var r in recognizers)if(recognizers.hasOwnProperty(r)){var o=recognizers[r](this._track,n);if(o)return o}},i}();function dist(i){var n=i[1][0]-i[0][0],r=i[1][1]-i[0][1];return Math.sqrt(n*n+r*r)}function center(i){return[(i[0][0]+i[1][0])/2,(i[0][1]+i[1][1])/2]}var recognizers={pinch:function(i,n){var r=i.length;if(r){var o=(i[r-1]||{}).points,a=(i[r-2]||{}).points||o;if(a&&a.length>1&&o&&o.length>1){var u=dist(o)/dist(a);!isFinite(u)&&(u=1),n.pinchScale=u;var c=center(o);return n.pinchX=c[0],n.pinchY=c[1],{type:"pinch",target:i[0].target,event:n}}}}};function create(){return[1,0,0,1,0,0]}function identity$1(i){return i[0]=1,i[1]=0,i[2]=0,i[3]=1,i[4]=0,i[5]=0,i}function copy(i,n){return i[0]=n[0],i[1]=n[1],i[2]=n[2],i[3]=n[3],i[4]=n[4],i[5]=n[5],i}function mul(i,n,r){var o=n[0]*r[0]+n[2]*r[1],a=n[1]*r[0]+n[3]*r[1],u=n[0]*r[2]+n[2]*r[3],c=n[1]*r[2]+n[3]*r[3],f=n[0]*r[4]+n[2]*r[5]+n[4],d=n[1]*r[4]+n[3]*r[5]+n[5];return i[0]=o,i[1]=a,i[2]=u,i[3]=c,i[4]=f,i[5]=d,i}function translate$1(i,n,r){return i[0]=n[0],i[1]=n[1],i[2]=n[2],i[3]=n[3],i[4]=n[4]+r[0],i[5]=n[5]+r[1],i}function rotate(i,n,r){var o=n[0],a=n[2],u=n[4],c=n[1],f=n[3],d=n[5],h=Math.sin(r),v=Math.cos(r);return i[0]=o*v+c*h,i[1]=-o*h+c*v,i[2]=a*v+f*h,i[3]=-a*h+v*f,i[4]=v*u+h*d,i[5]=v*d-h*u,i}function scale(i,n,r){var o=r[0],a=r[1];return i[0]=n[0]*o,i[1]=n[1]*a,i[2]=n[2]*o,i[3]=n[3]*a,i[4]=n[4]*o,i[5]=n[5]*a,i}function invert(i,n){var r=n[0],o=n[2],a=n[4],u=n[1],c=n[3],f=n[5],d=r*c-u*o;return d?(d=1/d,i[0]=c*d,i[1]=-u*d,i[2]=-o*d,i[3]=r*d,i[4]=(o*f-c*a)*d,i[5]=(u*a-r*f)*d,i):null}var Point=function(){function i(n,r){this.x=n||0,this.y=r||0}return i.prototype.copy=function(n){return this.x=n.x,this.y=n.y,this},i.prototype.clone=function(){return new i(this.x,this.y)},i.prototype.set=function(n,r){return this.x=n,this.y=r,this},i.prototype.equal=function(n){return n.x===this.x&&n.y===this.y},i.prototype.add=function(n){return this.x+=n.x,this.y+=n.y,this},i.prototype.scale=function(n){this.x*=n,this.y*=n},i.prototype.scaleAndAdd=function(n,r){this.x+=n.x*r,this.y+=n.y*r},i.prototype.sub=function(n){return this.x-=n.x,this.y-=n.y,this},i.prototype.dot=function(n){return this.x*n.x+this.y*n.y},i.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},i.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},i.prototype.normalize=function(){var n=this.len();return this.x/=n,this.y/=n,this},i.prototype.distance=function(n){var r=this.x-n.x,o=this.y-n.y;return Math.sqrt(r*r+o*o)},i.prototype.distanceSquare=function(n){var r=this.x-n.x,o=this.y-n.y;return r*r+o*o},i.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},i.prototype.transform=function(n){if(n){var r=this.x,o=this.y;return this.x=n[0]*r+n[2]*o+n[4],this.y=n[1]*r+n[3]*o+n[5],this}},i.prototype.toArray=function(n){return n[0]=this.x,n[1]=this.y,n},i.prototype.fromArray=function(n){this.x=n[0],this.y=n[1]},i.set=function(n,r,o){n.x=r,n.y=o},i.copy=function(n,r){n.x=r.x,n.y=r.y},i.len=function(n){return Math.sqrt(n.x*n.x+n.y*n.y)},i.lenSquare=function(n){return n.x*n.x+n.y*n.y},i.dot=function(n,r){return n.x*r.x+n.y*r.y},i.add=function(n,r,o){n.x=r.x+o.x,n.y=r.y+o.y},i.sub=function(n,r,o){n.x=r.x-o.x,n.y=r.y-o.y},i.scale=function(n,r,o){n.x=r.x*o,n.y=r.y*o},i.scaleAndAdd=function(n,r,o,a){n.x=r.x+o.x*a,n.y=r.y+o.y*a},i.lerp=function(n,r,o,a){var u=1-a;n.x=u*r.x+a*o.x,n.y=u*r.y+a*o.y},i}();const Point$1=Point;var mathMin$4=Math.min,mathMax$4=Math.max,lt$1=new Point$1,rb=new Point$1,lb=new Point$1,rt$1=new Point$1,minTv$1=new Point$1,maxTv$1=new Point$1,BoundingRect=function(){function i(n,r,o,a){o<0&&(n=n+o,o=-o),a<0&&(r=r+a,a=-a),this.x=n,this.y=r,this.width=o,this.height=a}return i.prototype.union=function(n){var r=mathMin$4(n.x,this.x),o=mathMin$4(n.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=mathMax$4(n.x+n.width,this.x+this.width)-r:this.width=n.width,isFinite(this.y)&&isFinite(this.height)?this.height=mathMax$4(n.y+n.height,this.y+this.height)-o:this.height=n.height,this.x=r,this.y=o},i.prototype.applyTransform=function(n){i.applyTransform(this,this,n)},i.prototype.calculateTransform=function(n){var r=this,o=n.width/r.width,a=n.height/r.height,u=create();return translate$1(u,u,[-r.x,-r.y]),scale(u,u,[o,a]),translate$1(u,u,[n.x,n.y]),u},i.prototype.intersect=function(n,r){if(!n)return!1;n instanceof i||(n=i.create(n));var o=this,a=o.x,u=o.x+o.width,c=o.y,f=o.y+o.height,d=n.x,h=n.x+n.width,v=n.y,g=n.y+n.height,p=!(u<d||h<a||f<v||g<c);if(r){var y=1/0,_=0,b=Math.abs(u-d),A=Math.abs(h-a),w=Math.abs(f-v),S=Math.abs(g-c),T=Math.min(b,A),x=Math.min(w,S);u<d||h<a?T>_&&(_=T,b<A?Point$1.set(maxTv$1,-b,0):Point$1.set(maxTv$1,A,0)):T<y&&(y=T,b<A?Point$1.set(minTv$1,b,0):Point$1.set(minTv$1,-A,0)),f<v||g<c?x>_&&(_=x,w<S?Point$1.set(maxTv$1,0,-w):Point$1.set(maxTv$1,0,S)):T<y&&(y=T,w<S?Point$1.set(minTv$1,0,w):Point$1.set(minTv$1,0,-S))}return r&&Point$1.copy(r,p?minTv$1:maxTv$1),p},i.prototype.contain=function(n,r){var o=this;return n>=o.x&&n<=o.x+o.width&&r>=o.y&&r<=o.y+o.height},i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height)},i.prototype.copy=function(n){i.copy(this,n)},i.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},i.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},i.prototype.isZero=function(){return this.width===0||this.height===0},i.create=function(n){return new i(n.x,n.y,n.width,n.height)},i.copy=function(n,r){n.x=r.x,n.y=r.y,n.width=r.width,n.height=r.height},i.applyTransform=function(n,r,o){if(!o){n!==r&&i.copy(n,r);return}if(o[1]<1e-5&&o[1]>-1e-5&&o[2]<1e-5&&o[2]>-1e-5){var a=o[0],u=o[3],c=o[4],f=o[5];n.x=r.x*a+c,n.y=r.y*u+f,n.width=r.width*a,n.height=r.height*u,n.width<0&&(n.x+=n.width,n.width=-n.width),n.height<0&&(n.y+=n.height,n.height=-n.height);return}lt$1.x=lb.x=r.x,lt$1.y=rt$1.y=r.y,rb.x=rt$1.x=r.x+r.width,rb.y=lb.y=r.y+r.height,lt$1.transform(o),rt$1.transform(o),rb.transform(o),lb.transform(o),n.x=mathMin$4(lt$1.x,rb.x,lb.x,rt$1.x),n.y=mathMin$4(lt$1.y,rb.y,lb.y,rt$1.y);var d=mathMax$4(lt$1.x,rb.x,lb.x,rt$1.x),h=mathMax$4(lt$1.y,rb.y,lb.y,rt$1.y);n.width=d-n.x,n.height=h-n.y},i}();const BoundingRect$1=BoundingRect;var SILENT="silent";function makeEventPacket(i,n,r){return{type:i,event:r,target:n.target,topTarget:n.topTarget,cancelBubble:!1,offsetX:r.zrX,offsetY:r.zrY,gestureEvent:r.gestureEvent,pinchX:r.pinchX,pinchY:r.pinchY,pinchScale:r.pinchScale,wheelDelta:r.zrDelta,zrByTouch:r.zrByTouch,which:r.which,stop:stopEvent$1}}function stopEvent$1(){stop(this.event)}var EmptyProxy=function(i){__extends(n,i);function n(){var r=i!==null&&i.apply(this,arguments)||this;return r.handler=null,r}return n.prototype.dispose=function(){},n.prototype.setCursor=function(){},n}(Eventful$1),HoveredResult=function(){function i(n,r){this.x=n,this.y=r}return i}(),handlerNames=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],tmpRect$1=new BoundingRect$1(0,0,0,0),Handler=function(i){__extends(n,i);function n(r,o,a,u,c){var f=i.call(this)||this;return f._hovered=new HoveredResult(0,0),f.storage=r,f.painter=o,f.painterRoot=u,f._pointerSize=c,a=a||new EmptyProxy,f.proxy=null,f.setHandlerProxy(a),f._draggingMgr=new Draggable$1(f),f}return n.prototype.setHandlerProxy=function(r){this.proxy&&this.proxy.dispose(),r&&(each$4(handlerNames,function(o){r.on&&r.on(o,this[o],this)},this),r.handler=this),this.proxy=r},n.prototype.mousemove=function(r){var o=r.zrX,a=r.zrY,u=isOutsideBoundary(this,o,a),c=this._hovered,f=c.target;f&&!f.__zr&&(c=this.findHover(c.x,c.y),f=c.target);var d=this._hovered=u?new HoveredResult(o,a):this.findHover(o,a),h=d.target,v=this.proxy;v.setCursor&&v.setCursor(h?h.cursor:"default"),f&&h!==f&&this.dispatchToElement(c,"mouseout",r),this.dispatchToElement(d,"mousemove",r),h&&h!==f&&this.dispatchToElement(d,"mouseover",r)},n.prototype.mouseout=function(r){var o=r.zrEventControl;o!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",r),o!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:r})},n.prototype.resize=function(){this._hovered=new HoveredResult(0,0)},n.prototype.dispatch=function(r,o){var a=this[r];a&&a.call(this,o)},n.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},n.prototype.setCursorStyle=function(r){var o=this.proxy;o.setCursor&&o.setCursor(r)},n.prototype.dispatchToElement=function(r,o,a){r=r||{};var u=r.target;if(!(u&&u.silent)){for(var c="on"+o,f=makeEventPacket(o,r,a);u&&(u[c]&&(f.cancelBubble=!!u[c].call(u,f)),u.trigger(o,f),u=u.__hostTarget?u.__hostTarget:u.parent,!f.cancelBubble););f.cancelBubble||(this.trigger(o,f),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(d){typeof d[c]=="function"&&d[c].call(d,f),d.trigger&&d.trigger(o,f)}))}},n.prototype.findHover=function(r,o,a){var u=this.storage.getDisplayList(),c=new HoveredResult(r,o);if(setHoverTarget(u,c,r,o,a),this._pointerSize&&!c.target){for(var f=[],d=this._pointerSize,h=d/2,v=new BoundingRect$1(r-h,o-h,d,d),g=u.length-1;g>=0;g--){var p=u[g];p!==a&&!p.ignore&&!p.ignoreCoarsePointer&&(!p.parent||!p.parent.ignoreCoarsePointer)&&(tmpRect$1.copy(p.getBoundingRect()),p.transform&&tmpRect$1.applyTransform(p.transform),tmpRect$1.intersect(v)&&f.push(p))}if(f.length)for(var y=4,_=Math.PI/12,b=Math.PI*2,A=0;A<h;A+=y)for(var w=0;w<b;w+=_){var S=r+A*Math.cos(w),T=o+A*Math.sin(w);if(setHoverTarget(f,c,S,T,a),c.target)return c}}return c},n.prototype.processGesture=function(r,o){this._gestureMgr||(this._gestureMgr=new GestureMgr);var a=this._gestureMgr;o==="start"&&a.clear();var u=a.recognize(r,this.findHover(r.zrX,r.zrY,null).target,this.proxy.dom);if(o==="end"&&a.clear(),u){var c=u.type;r.gestureEvent=c;var f=new HoveredResult;f.target=u.target,this.dispatchToElement(f,c,u.event)}},n}(Eventful$1);each$4(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(i){Handler.prototype[i]=function(n){var r=n.zrX,o=n.zrY,a=isOutsideBoundary(this,r,o),u,c;if((i!=="mouseup"||!a)&&(u=this.findHover(r,o),c=u.target),i==="mousedown")this._downEl=c,this._downPoint=[n.zrX,n.zrY],this._upEl=c;else if(i==="mouseup")this._upEl=c;else if(i==="click"){if(this._downEl!==this._upEl||!this._downPoint||dist$1(this._downPoint,[n.zrX,n.zrY])>4)return;this._downPoint=null}this.dispatchToElement(u,i,n)}});function isHover(i,n,r){if(i[i.rectHover?"rectContain":"contain"](n,r)){for(var o=i,a=void 0,u=!1;o;){if(o.ignoreClip&&(u=!0),!u){var c=o.getClipPath();if(c&&!c.contain(n,r))return!1;o.silent&&(a=!0)}var f=o.__hostTarget;o=f||o.parent}return a?SILENT:!0}return!1}function setHoverTarget(i,n,r,o,a){for(var u=i.length-1;u>=0;u--){var c=i[u],f=void 0;if(c!==a&&!c.ignore&&(f=isHover(c,r,o))&&(!n.topTarget&&(n.topTarget=c),f!==SILENT)){n.target=c;break}}}function isOutsideBoundary(i,n,r){var o=i.painter;return n<0||n>o.getWidth()||r<0||r>o.getHeight()}const Handler$1=Handler;var DEFAULT_MIN_MERGE=32,DEFAULT_MIN_GALLOPING=7;function minRunLength(i){for(var n=0;i>=DEFAULT_MIN_MERGE;)n|=i&1,i>>=1;return i+n}function makeAscendingRun(i,n,r,o){var a=n+1;if(a===r)return 1;if(o(i[a++],i[n])<0){for(;a<r&&o(i[a],i[a-1])<0;)a++;reverseRun(i,n,a)}else for(;a<r&&o(i[a],i[a-1])>=0;)a++;return a-n}function reverseRun(i,n,r){for(r--;n<r;){var o=i[n];i[n++]=i[r],i[r--]=o}}function binaryInsertionSort(i,n,r,o,a){for(o===n&&o++;o<r;o++){for(var u=i[o],c=n,f=o,d;c<f;)d=c+f>>>1,a(u,i[d])<0?f=d:c=d+1;var h=o-c;switch(h){case 3:i[c+3]=i[c+2];case 2:i[c+2]=i[c+1];case 1:i[c+1]=i[c];break;default:for(;h>0;)i[c+h]=i[c+h-1],h--}i[c]=u}}function gallopLeft(i,n,r,o,a,u){var c=0,f=0,d=1;if(u(i,n[r+a])>0){for(f=o-a;d<f&&u(i,n[r+a+d])>0;)c=d,d=(d<<1)+1,d<=0&&(d=f);d>f&&(d=f),c+=a,d+=a}else{for(f=a+1;d<f&&u(i,n[r+a-d])<=0;)c=d,d=(d<<1)+1,d<=0&&(d=f);d>f&&(d=f);var h=c;c=a-d,d=a-h}for(c++;c<d;){var v=c+(d-c>>>1);u(i,n[r+v])>0?c=v+1:d=v}return d}function gallopRight(i,n,r,o,a,u){var c=0,f=0,d=1;if(u(i,n[r+a])<0){for(f=a+1;d<f&&u(i,n[r+a-d])<0;)c=d,d=(d<<1)+1,d<=0&&(d=f);d>f&&(d=f);var h=c;c=a-d,d=a-h}else{for(f=o-a;d<f&&u(i,n[r+a+d])>=0;)c=d,d=(d<<1)+1,d<=0&&(d=f);d>f&&(d=f),c+=a,d+=a}for(c++;c<d;){var v=c+(d-c>>>1);u(i,n[r+v])<0?d=v:c=v+1}return d}function TimSort(i,n){var r=DEFAULT_MIN_GALLOPING,o,a,u=0;i.length;var c=[];o=[],a=[];function f(y,_){o[u]=y,a[u]=_,u+=1}function d(){for(;u>1;){var y=u-2;if(y>=1&&a[y-1]<=a[y]+a[y+1]||y>=2&&a[y-2]<=a[y]+a[y-1])a[y-1]<a[y+1]&&y--;else if(a[y]>a[y+1])break;v(y)}}function h(){for(;u>1;){var y=u-2;y>0&&a[y-1]<a[y+1]&&y--,v(y)}}function v(y){var _=o[y],b=a[y],A=o[y+1],w=a[y+1];a[y]=b+w,y===u-3&&(o[y+1]=o[y+2],a[y+1]=a[y+2]),u--;var S=gallopRight(i[A],i,_,b,0,n);_+=S,b-=S,b!==0&&(w=gallopLeft(i[_+b-1],i,A,w,w-1,n),w!==0&&(b<=w?g(_,b,A,w):p(_,b,A,w)))}function g(y,_,b,A){var w=0;for(w=0;w<_;w++)c[w]=i[y+w];var S=0,T=b,x=y;if(i[x++]=i[T++],--A===0){for(w=0;w<_;w++)i[x+w]=c[S+w];return}if(_===1){for(w=0;w<A;w++)i[x+w]=i[T+w];i[x+A]=c[S];return}for(var O=r,L,M,re;;){L=0,M=0,re=!1;do if(n(i[T],c[S])<0){if(i[x++]=i[T++],M++,L=0,--A===0){re=!0;break}}else if(i[x++]=c[S++],L++,M=0,--_===1){re=!0;break}while((L|M)<O);if(re)break;do{if(L=gallopRight(i[T],c,S,_,0,n),L!==0){for(w=0;w<L;w++)i[x+w]=c[S+w];if(x+=L,S+=L,_-=L,_<=1){re=!0;break}}if(i[x++]=i[T++],--A===0){re=!0;break}if(M=gallopLeft(c[S],i,T,A,0,n),M!==0){for(w=0;w<M;w++)i[x+w]=i[T+w];if(x+=M,T+=M,A-=M,A===0){re=!0;break}}if(i[x++]=c[S++],--_===1){re=!0;break}O--}while(L>=DEFAULT_MIN_GALLOPING||M>=DEFAULT_MIN_GALLOPING);if(re)break;O<0&&(O=0),O+=2}if(r=O,r<1&&(r=1),_===1){for(w=0;w<A;w++)i[x+w]=i[T+w];i[x+A]=c[S]}else{if(_===0)throw new Error;for(w=0;w<_;w++)i[x+w]=c[S+w]}}function p(y,_,b,A){var w=0;for(w=0;w<A;w++)c[w]=i[b+w];var S=y+_-1,T=A-1,x=b+A-1,O=0,L=0;if(i[x--]=i[S--],--_===0){for(O=x-(A-1),w=0;w<A;w++)i[O+w]=c[w];return}if(A===1){for(x-=_,S-=_,L=x+1,O=S+1,w=_-1;w>=0;w--)i[L+w]=i[O+w];i[x]=c[T];return}for(var M=r;;){var re=0,F=0,Y=!1;do if(n(c[T],i[S])<0){if(i[x--]=i[S--],re++,F=0,--_===0){Y=!0;break}}else if(i[x--]=c[T--],F++,re=0,--A===1){Y=!0;break}while((re|F)<M);if(Y)break;do{if(re=_-gallopRight(c[T],i,y,_,_-1,n),re!==0){for(x-=re,S-=re,_-=re,L=x+1,O=S+1,w=re-1;w>=0;w--)i[L+w]=i[O+w];if(_===0){Y=!0;break}}if(i[x--]=c[T--],--A===1){Y=!0;break}if(F=A-gallopLeft(i[S],c,0,A,A-1,n),F!==0){for(x-=F,T-=F,A-=F,L=x+1,O=T+1,w=0;w<F;w++)i[L+w]=c[O+w];if(A<=1){Y=!0;break}}if(i[x--]=i[S--],--_===0){Y=!0;break}M--}while(re>=DEFAULT_MIN_GALLOPING||F>=DEFAULT_MIN_GALLOPING);if(Y)break;M<0&&(M=0),M+=2}if(r=M,r<1&&(r=1),A===1){for(x-=_,S-=_,L=x+1,O=S+1,w=_-1;w>=0;w--)i[L+w]=i[O+w];i[x]=c[T]}else{if(A===0)throw new Error;for(O=x-(A-1),w=0;w<A;w++)i[O+w]=c[w]}}return{mergeRuns:d,forceMergeRuns:h,pushRun:f}}function sort(i,n,r,o){r||(r=0),o||(o=i.length);var a=o-r;if(!(a<2)){var u=0;if(a<DEFAULT_MIN_MERGE){u=makeAscendingRun(i,r,o,n),binaryInsertionSort(i,r,o,r+u,n);return}var c=TimSort(i,n),f=minRunLength(a);do{if(u=makeAscendingRun(i,r,o,n),u<f){var d=a;d>f&&(d=f),binaryInsertionSort(i,r,r+d,r+u,n),u=d}c.pushRun(r,u),c.mergeRuns(),a-=u,r+=u}while(a!==0);c.forceMergeRuns()}}var REDRAW_BIT=1,STYLE_CHANGED_BIT=2,SHAPE_CHANGED_BIT=4,invalidZErrorLogged=!1;function logInvalidZError(){invalidZErrorLogged||(invalidZErrorLogged=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function shapeCompareFunc(i,n){return i.zlevel===n.zlevel?i.z===n.z?i.z2-n.z2:i.z-n.z:i.zlevel-n.zlevel}var Storage=function(){function i(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=shapeCompareFunc}return i.prototype.traverse=function(n,r){for(var o=0;o<this._roots.length;o++)this._roots[o].traverse(n,r)},i.prototype.getDisplayList=function(n,r){r=r||!1;var o=this._displayList;return(n||!o.length)&&this.updateDisplayList(r),o},i.prototype.updateDisplayList=function(n){this._displayListLen=0;for(var r=this._roots,o=this._displayList,a=0,u=r.length;a<u;a++)this._updateAndAddDisplayable(r[a],null,n);o.length=this._displayListLen,sort(o,shapeCompareFunc)},i.prototype._updateAndAddDisplayable=function(n,r,o){if(!(n.ignore&&!o)){n.beforeUpdate(),n.update(),n.afterUpdate();var a=n.getClipPath();if(n.ignoreClip)r=null;else if(a){r?r=r.slice():r=[];for(var u=a,c=n;u;)u.parent=c,u.updateTransform(),r.push(u),c=u,u=u.getClipPath()}if(n.childrenRef){for(var f=n.childrenRef(),d=0;d<f.length;d++){var h=f[d];n.__dirty&&(h.__dirty|=REDRAW_BIT),this._updateAndAddDisplayable(h,r,o)}n.__dirty=0}else{var v=n;r&&r.length?v.__clipPaths=r:v.__clipPaths&&v.__clipPaths.length>0&&(v.__clipPaths=[]),isNaN(v.z)&&(logInvalidZError(),v.z=0),isNaN(v.z2)&&(logInvalidZError(),v.z2=0),isNaN(v.zlevel)&&(logInvalidZError(),v.zlevel=0),this._displayList[this._displayListLen++]=v}var g=n.getDecalElement&&n.getDecalElement();g&&this._updateAndAddDisplayable(g,r,o);var p=n.getTextGuideLine();p&&this._updateAndAddDisplayable(p,r,o);var y=n.getTextContent();y&&this._updateAndAddDisplayable(y,r,o)}},i.prototype.addRoot=function(n){n.__zr&&n.__zr.storage===this||this._roots.push(n)},i.prototype.delRoot=function(n){if(n instanceof Array){for(var r=0,o=n.length;r<o;r++)this.delRoot(n[r]);return}var a=indexOf(this._roots,n);a>=0&&this._roots.splice(a,1)},i.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},i.prototype.getRoots=function(){return this._roots},i.prototype.dispose=function(){this._displayList=null,this._roots=null},i}();const Storage$1=Storage;var requestAnimationFrame$2;requestAnimationFrame$2=env$1.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(i){return setTimeout(i,16)};const requestAnimationFrame$3=requestAnimationFrame$2;var easingFuncs={linear:function(i){return i},quadraticIn:function(i){return i*i},quadraticOut:function(i){return i*(2-i)},quadraticInOut:function(i){return(i*=2)<1?.5*i*i:-.5*(--i*(i-2)-1)},cubicIn:function(i){return i*i*i},cubicOut:function(i){return--i*i*i+1},cubicInOut:function(i){return(i*=2)<1?.5*i*i*i:.5*((i-=2)*i*i+2)},quarticIn:function(i){return i*i*i*i},quarticOut:function(i){return 1- --i*i*i*i},quarticInOut:function(i){return(i*=2)<1?.5*i*i*i*i:-.5*((i-=2)*i*i*i-2)},quinticIn:function(i){return i*i*i*i*i},quinticOut:function(i){return--i*i*i*i*i+1},quinticInOut:function(i){return(i*=2)<1?.5*i*i*i*i*i:.5*((i-=2)*i*i*i*i+2)},sinusoidalIn:function(i){return 1-Math.cos(i*Math.PI/2)},sinusoidalOut:function(i){return Math.sin(i*Math.PI/2)},sinusoidalInOut:function(i){return .5*(1-Math.cos(Math.PI*i))},exponentialIn:function(i){return i===0?0:Math.pow(1024,i-1)},exponentialOut:function(i){return i===1?1:1-Math.pow(2,-10*i)},exponentialInOut:function(i){return i===0?0:i===1?1:(i*=2)<1?.5*Math.pow(1024,i-1):.5*(-Math.pow(2,-10*(i-1))+2)},circularIn:function(i){return 1-Math.sqrt(1-i*i)},circularOut:function(i){return Math.sqrt(1- --i*i)},circularInOut:function(i){return(i*=2)<1?-.5*(Math.sqrt(1-i*i)-1):.5*(Math.sqrt(1-(i-=2)*i)+1)},elasticIn:function(i){var n,r=.1,o=.4;return i===0?0:i===1?1:(!r||r<1?(r=1,n=o/4):n=o*Math.asin(1/r)/(2*Math.PI),-(r*Math.pow(2,10*(i-=1))*Math.sin((i-n)*(2*Math.PI)/o)))},elasticOut:function(i){var n,r=.1,o=.4;return i===0?0:i===1?1:(!r||r<1?(r=1,n=o/4):n=o*Math.asin(1/r)/(2*Math.PI),r*Math.pow(2,-10*i)*Math.sin((i-n)*(2*Math.PI)/o)+1)},elasticInOut:function(i){var n,r=.1,o=.4;return i===0?0:i===1?1:(!r||r<1?(r=1,n=o/4):n=o*Math.asin(1/r)/(2*Math.PI),(i*=2)<1?-.5*(r*Math.pow(2,10*(i-=1))*Math.sin((i-n)*(2*Math.PI)/o)):r*Math.pow(2,-10*(i-=1))*Math.sin((i-n)*(2*Math.PI)/o)*.5+1)},backIn:function(i){var n=1.70158;return i*i*((n+1)*i-n)},backOut:function(i){var n=1.70158;return--i*i*((n+1)*i+n)+1},backInOut:function(i){var n=2.5949095;return(i*=2)<1?.5*(i*i*((n+1)*i-n)):.5*((i-=2)*i*((n+1)*i+n)+2)},bounceIn:function(i){return 1-easingFuncs.bounceOut(1-i)},bounceOut:function(i){return i<1/2.75?7.5625*i*i:i<2/2.75?7.5625*(i-=1.5/2.75)*i+.75:i<2.5/2.75?7.5625*(i-=2.25/2.75)*i+.9375:7.5625*(i-=2.625/2.75)*i+.984375},bounceInOut:function(i){return i<.5?easingFuncs.bounceIn(i*2)*.5:easingFuncs.bounceOut(i*2-1)*.5+.5}};const easingFuncs$1=easingFuncs;var mathPow=Math.pow,mathSqrt$3=Math.sqrt,EPSILON$3=1e-8,EPSILON_NUMERIC=1e-4,THREE_SQRT=mathSqrt$3(3),ONE_THIRD=1/3,_v0=create$1(),_v1=create$1(),_v2=create$1();function isAroundZero$1(i){return i>-EPSILON$3&&i<EPSILON$3}function isNotAroundZero$1(i){return i>EPSILON$3||i<-EPSILON$3}function cubicAt(i,n,r,o,a){var u=1-a;return u*u*(u*i+3*a*n)+a*a*(a*o+3*u*r)}function cubicDerivativeAt(i,n,r,o,a){var u=1-a;return 3*(((n-i)*u+2*(r-n)*a)*u+(o-r)*a*a)}function cubicRootAt(i,n,r,o,a,u){var c=o+3*(n-r)-i,f=3*(r-n*2+i),d=3*(n-i),h=i-a,v=f*f-3*c*d,g=f*d-9*c*h,p=d*d-3*f*h,y=0;if(isAroundZero$1(v)&&isAroundZero$1(g))if(isAroundZero$1(f))u[0]=0;else{var _=-d/f;_>=0&&_<=1&&(u[y++]=_)}else{var b=g*g-4*v*p;if(isAroundZero$1(b)){var A=g/v,_=-f/c+A,w=-A/2;_>=0&&_<=1&&(u[y++]=_),w>=0&&w<=1&&(u[y++]=w)}else if(b>0){var S=mathSqrt$3(b),T=v*f+1.5*c*(-g+S),x=v*f+1.5*c*(-g-S);T<0?T=-mathPow(-T,ONE_THIRD):T=mathPow(T,ONE_THIRD),x<0?x=-mathPow(-x,ONE_THIRD):x=mathPow(x,ONE_THIRD);var _=(-f-(T+x))/(3*c);_>=0&&_<=1&&(u[y++]=_)}else{var O=(2*v*f-3*c*g)/(2*mathSqrt$3(v*v*v)),L=Math.acos(O)/3,M=mathSqrt$3(v),re=Math.cos(L),_=(-f-2*M*re)/(3*c),w=(-f+M*(re+THREE_SQRT*Math.sin(L)))/(3*c),F=(-f+M*(re-THREE_SQRT*Math.sin(L)))/(3*c);_>=0&&_<=1&&(u[y++]=_),w>=0&&w<=1&&(u[y++]=w),F>=0&&F<=1&&(u[y++]=F)}}return y}function cubicExtrema(i,n,r,o,a){var u=6*r-12*n+6*i,c=9*n+3*o-3*i-9*r,f=3*n-3*i,d=0;if(isAroundZero$1(c)){if(isNotAroundZero$1(u)){var h=-f/u;h>=0&&h<=1&&(a[d++]=h)}}else{var v=u*u-4*c*f;if(isAroundZero$1(v))a[0]=-u/(2*c);else if(v>0){var g=mathSqrt$3(v),h=(-u+g)/(2*c),p=(-u-g)/(2*c);h>=0&&h<=1&&(a[d++]=h),p>=0&&p<=1&&(a[d++]=p)}}return d}function cubicSubdivide(i,n,r,o,a,u){var c=(n-i)*a+i,f=(r-n)*a+n,d=(o-r)*a+r,h=(f-c)*a+c,v=(d-f)*a+f,g=(v-h)*a+h;u[0]=i,u[1]=c,u[2]=h,u[3]=g,u[4]=g,u[5]=v,u[6]=d,u[7]=o}function cubicProjectPoint(i,n,r,o,a,u,c,f,d,h,v){var g,p=.005,y=1/0,_,b,A,w;_v0[0]=d,_v0[1]=h;for(var S=0;S<1;S+=.05)_v1[0]=cubicAt(i,r,a,c,S),_v1[1]=cubicAt(n,o,u,f,S),A=distSquare(_v0,_v1),A<y&&(g=S,y=A);y=1/0;for(var T=0;T<32&&!(p<EPSILON_NUMERIC);T++)_=g-p,b=g+p,_v1[0]=cubicAt(i,r,a,c,_),_v1[1]=cubicAt(n,o,u,f,_),A=distSquare(_v1,_v0),_>=0&&A<y?(g=_,y=A):(_v2[0]=cubicAt(i,r,a,c,b),_v2[1]=cubicAt(n,o,u,f,b),w=distSquare(_v2,_v0),b<=1&&w<y?(g=b,y=w):p*=.5);return v&&(v[0]=cubicAt(i,r,a,c,g),v[1]=cubicAt(n,o,u,f,g)),mathSqrt$3(y)}function cubicLength(i,n,r,o,a,u,c,f,d){for(var h=i,v=n,g=0,p=1/d,y=1;y<=d;y++){var _=y*p,b=cubicAt(i,r,a,c,_),A=cubicAt(n,o,u,f,_),w=b-h,S=A-v;g+=Math.sqrt(w*w+S*S),h=b,v=A}return g}function quadraticAt(i,n,r,o){var a=1-o;return a*(a*i+2*o*n)+o*o*r}function quadraticDerivativeAt(i,n,r,o){return 2*((1-o)*(n-i)+o*(r-n))}function quadraticRootAt(i,n,r,o,a){var u=i-2*n+r,c=2*(n-i),f=i-o,d=0;if(isAroundZero$1(u)){if(isNotAroundZero$1(c)){var h=-f/c;h>=0&&h<=1&&(a[d++]=h)}}else{var v=c*c-4*u*f;if(isAroundZero$1(v)){var h=-c/(2*u);h>=0&&h<=1&&(a[d++]=h)}else if(v>0){var g=mathSqrt$3(v),h=(-c+g)/(2*u),p=(-c-g)/(2*u);h>=0&&h<=1&&(a[d++]=h),p>=0&&p<=1&&(a[d++]=p)}}return d}function quadraticExtremum(i,n,r){var o=i+r-2*n;return o===0?.5:(i-n)/o}function quadraticSubdivide(i,n,r,o,a){var u=(n-i)*o+i,c=(r-n)*o+n,f=(c-u)*o+u;a[0]=i,a[1]=u,a[2]=f,a[3]=f,a[4]=c,a[5]=r}function quadraticProjectPoint(i,n,r,o,a,u,c,f,d){var h,v=.005,g=1/0;_v0[0]=c,_v0[1]=f;for(var p=0;p<1;p+=.05){_v1[0]=quadraticAt(i,r,a,p),_v1[1]=quadraticAt(n,o,u,p);var y=distSquare(_v0,_v1);y<g&&(h=p,g=y)}g=1/0;for(var _=0;_<32&&!(v<EPSILON_NUMERIC);_++){var b=h-v,A=h+v;_v1[0]=quadraticAt(i,r,a,b),_v1[1]=quadraticAt(n,o,u,b);var y=distSquare(_v1,_v0);if(b>=0&&y<g)h=b,g=y;else{_v2[0]=quadraticAt(i,r,a,A),_v2[1]=quadraticAt(n,o,u,A);var w=distSquare(_v2,_v0);A<=1&&w<g?(h=A,g=w):v*=.5}}return d&&(d[0]=quadraticAt(i,r,a,h),d[1]=quadraticAt(n,o,u,h)),mathSqrt$3(g)}function quadraticLength(i,n,r,o,a,u,c){for(var f=i,d=n,h=0,v=1/c,g=1;g<=c;g++){var p=g*v,y=quadraticAt(i,r,a,p),_=quadraticAt(n,o,u,p),b=y-f,A=_-d;h+=Math.sqrt(b*b+A*A),f=y,d=_}return h}var regexp$1=/cubic-bezier\(([0-9,\.e ]+)\)/;function createCubicEasingFunc(i){var n=i&&regexp$1.exec(i);if(n){var r=n[1].split(","),o=+trim(r[0]),a=+trim(r[1]),u=+trim(r[2]),c=+trim(r[3]);if(isNaN(o+a+u+c))return;var f=[];return function(d){return d<=0?0:d>=1?1:cubicRootAt(0,o,u,1,d,f)&&cubicAt(0,a,c,1,f[0])}}}var Clip=function(){function i(n){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=n.life||1e3,this._delay=n.delay||0,this.loop=n.loop||!1,this.onframe=n.onframe||noop$1,this.ondestroy=n.ondestroy||noop$1,this.onrestart=n.onrestart||noop$1,n.easing&&this.setEasing(n.easing)}return i.prototype.step=function(n,r){if(this._inited||(this._startTime=n+this._delay,this._inited=!0),this._paused){this._pausedTime+=r;return}var o=this._life,a=n-this._startTime-this._pausedTime,u=a/o;u<0&&(u=0),u=Math.min(u,1);var c=this.easingFunc,f=c?c(u):u;if(this.onframe(f),u===1)if(this.loop){var d=a%o;this._startTime=n-d,this._pausedTime=0,this.onrestart()}else return!0;return!1},i.prototype.pause=function(){this._paused=!0},i.prototype.resume=function(){this._paused=!1},i.prototype.setEasing=function(n){this.easing=n,this.easingFunc=isFunction$1(n)?n:easingFuncs$1[n]||createCubicEasingFunc(n)},i}();const Clip$1=Clip;var Entry=function(){function i(n){this.value=n}return i}(),LinkedList=function(){function i(){this._len=0}return i.prototype.insert=function(n){var r=new Entry(n);return this.insertEntry(r),r},i.prototype.insertEntry=function(n){this.head?(this.tail.next=n,n.prev=this.tail,n.next=null,this.tail=n):this.head=this.tail=n,this._len++},i.prototype.remove=function(n){var r=n.prev,o=n.next;r?r.next=o:this.head=o,o?o.prev=r:this.tail=r,n.next=n.prev=null,this._len--},i.prototype.len=function(){return this._len},i.prototype.clear=function(){this.head=this.tail=null,this._len=0},i}(),LRU=function(){function i(n){this._list=new LinkedList,this._maxSize=10,this._map={},this._maxSize=n}return i.prototype.put=function(n,r){var o=this._list,a=this._map,u=null;if(a[n]==null){var c=o.len(),f=this._lastRemovedEntry;if(c>=this._maxSize&&c>0){var d=o.head;o.remove(d),delete a[d.key],u=d.value,this._lastRemovedEntry=d}f?f.value=r:f=new Entry(r),f.key=n,o.insertEntry(f),a[n]=f}return u},i.prototype.get=function(n){var r=this._map[n],o=this._list;if(r!=null)return r!==o.tail&&(o.remove(r),o.insertEntry(r)),r.value},i.prototype.clear=function(){this._list.clear(),this._map={}},i.prototype.len=function(){return this._list.len()},i}();const LRU$1=LRU;var kCSSColorTable={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function clampCssByte(i){return i=Math.round(i),i<0?0:i>255?255:i}function clampCssFloat(i){return i<0?0:i>1?1:i}function parseCssInt(i){var n=i;return n.length&&n.charAt(n.length-1)==="%"?clampCssByte(parseFloat(n)/100*255):clampCssByte(parseInt(n,10))}function parseCssFloat(i){var n=i;return n.length&&n.charAt(n.length-1)==="%"?clampCssFloat(parseFloat(n)/100):clampCssFloat(parseFloat(n))}function cssHueToRgb(i,n,r){return r<0?r+=1:r>1&&(r-=1),r*6<1?i+(n-i)*r*6:r*2<1?n:r*3<2?i+(n-i)*(2/3-r)*6:i}function setRgba(i,n,r,o,a){return i[0]=n,i[1]=r,i[2]=o,i[3]=a,i}function copyRgba(i,n){return i[0]=n[0],i[1]=n[1],i[2]=n[2],i[3]=n[3],i}var colorCache=new LRU$1(20),lastRemovedArr=null;function putToCache(i,n){lastRemovedArr&&copyRgba(lastRemovedArr,n),lastRemovedArr=colorCache.put(i,lastRemovedArr||n.slice())}function parse(i,n){if(i){n=n||[];var r=colorCache.get(i);if(r)return copyRgba(n,r);i=i+"";var o=i.replace(/ /g,"").toLowerCase();if(o in kCSSColorTable)return copyRgba(n,kCSSColorTable[o]),putToCache(i,n),n;var a=o.length;if(o.charAt(0)==="#"){if(a===4||a===5){var u=parseInt(o.slice(1,4),16);if(!(u>=0&&u<=4095)){setRgba(n,0,0,0,1);return}return setRgba(n,(u&3840)>>4|(u&3840)>>8,u&240|(u&240)>>4,u&15|(u&15)<<4,a===5?parseInt(o.slice(4),16)/15:1),putToCache(i,n),n}else if(a===7||a===9){var u=parseInt(o.slice(1,7),16);if(!(u>=0&&u<=16777215)){setRgba(n,0,0,0,1);return}return setRgba(n,(u&16711680)>>16,(u&65280)>>8,u&255,a===9?parseInt(o.slice(7),16)/255:1),putToCache(i,n),n}return}var c=o.indexOf("("),f=o.indexOf(")");if(c!==-1&&f+1===a){var d=o.substr(0,c),h=o.substr(c+1,f-(c+1)).split(","),v=1;switch(d){case"rgba":if(h.length!==4)return h.length===3?setRgba(n,+h[0],+h[1],+h[2],1):setRgba(n,0,0,0,1);v=parseCssFloat(h.pop());case"rgb":if(h.length>=3)return setRgba(n,parseCssInt(h[0]),parseCssInt(h[1]),parseCssInt(h[2]),h.length===3?v:parseCssFloat(h[3])),putToCache(i,n),n;setRgba(n,0,0,0,1);return;case"hsla":if(h.length!==4){setRgba(n,0,0,0,1);return}return h[3]=parseCssFloat(h[3]),hsla2rgba(h,n),putToCache(i,n),n;case"hsl":if(h.length!==3){setRgba(n,0,0,0,1);return}return hsla2rgba(h,n),putToCache(i,n),n;default:return}}setRgba(n,0,0,0,1)}}function hsla2rgba(i,n){var r=(parseFloat(i[0])%360+360)%360/360,o=parseCssFloat(i[1]),a=parseCssFloat(i[2]),u=a<=.5?a*(o+1):a+o-a*o,c=a*2-u;return n=n||[],setRgba(n,clampCssByte(cssHueToRgb(c,u,r+1/3)*255),clampCssByte(cssHueToRgb(c,u,r)*255),clampCssByte(cssHueToRgb(c,u,r-1/3)*255),1),i.length===4&&(n[3]=i[3]),n}function lift(i,n){var r=parse(i);if(r){for(var o=0;o<3;o++)n<0?r[o]=r[o]*(1-n)|0:r[o]=(255-r[o])*n+r[o]|0,r[o]>255?r[o]=255:r[o]<0&&(r[o]=0);return stringify(r,r.length===4?"rgba":"rgb")}}function stringify(i,n){if(!(!i||!i.length)){var r=i[0]+","+i[1]+","+i[2];return(n==="rgba"||n==="hsva"||n==="hsla")&&(r+=","+i[3]),n+"("+r+")"}}function lum(i,n){var r=parse(i);return r?(.299*r[0]+.587*r[1]+.114*r[2])*r[3]/255+(1-r[3])*n:0}var mathRound$1=Math.round;function normalizeColor(i){var n;if(!i||i==="transparent")i="none";else if(typeof i=="string"&&i.indexOf("rgba")>-1){var r=parse(i);r&&(i="rgb("+r[0]+","+r[1]+","+r[2]+")",n=r[3])}return{color:i,opacity:n??1}}var EPSILON$2=1e-4;function isAroundZero(i){return i<EPSILON$2&&i>-EPSILON$2}function round3(i){return mathRound$1(i*1e3)/1e3}function round4(i){return mathRound$1(i*1e4)/1e4}function getMatrixStr(i){return"matrix("+round3(i[0])+","+round3(i[1])+","+round3(i[2])+","+round3(i[3])+","+round4(i[4])+","+round4(i[5])+")"}var TEXT_ALIGN_TO_ANCHOR={left:"start",right:"end",center:"middle",middle:"middle"};function adjustTextY$1(i,n,r){return r==="top"?i+=n/2:r==="bottom"&&(i-=n/2),i}function hasShadow(i){return i&&(i.shadowBlur||i.shadowOffsetX||i.shadowOffsetY)}function getShadowKey(i){var n=i.style,r=i.getGlobalScale();return[n.shadowColor,(n.shadowBlur||0).toFixed(2),(n.shadowOffsetX||0).toFixed(2),(n.shadowOffsetY||0).toFixed(2),r[0],r[1]].join(",")}function isImagePattern(i){return i&&!!i.image}function isSVGPattern(i){return i&&!!i.svgElement}function isPattern(i){return isImagePattern(i)||isSVGPattern(i)}function isLinearGradient(i){return i.type==="linear"}function isRadialGradient(i){return i.type==="radial"}function isGradient(i){return i&&(i.type==="linear"||i.type==="radial")}function getIdURL(i){return"url(#"+i+")"}function getPathPrecision(i){var n=i.getGlobalScale(),r=Math.max(n[0],n[1]);return Math.max(Math.ceil(Math.log(r)/Math.log(10)),1)}function getSRTTransformString(i){var n=i.x||0,r=i.y||0,o=(i.rotation||0)*RADIAN_TO_DEGREE,a=retrieve2(i.scaleX,1),u=retrieve2(i.scaleY,1),c=i.skewX||0,f=i.skewY||0,d=[];return(n||r)&&d.push("translate("+n+"px,"+r+"px)"),o&&d.push("rotate("+o+")"),(a!==1||u!==1)&&d.push("scale("+a+","+u+")"),(c||f)&&d.push("skew("+mathRound$1(c*RADIAN_TO_DEGREE)+"deg, "+mathRound$1(f*RADIAN_TO_DEGREE)+"deg)"),d.join(" ")}var encodeBase64=function(){return env$1.hasGlobalWindow&&isFunction$1(window.btoa)?function(i){return window.btoa(unescape(encodeURIComponent(i)))}:typeof Buffer<"u"?function(i){return Buffer.from(i).toString("base64")}:function(i){return process.env.NODE_ENV!=="production"&&logError("Base64 isn't natively supported in the current environment."),null}}(),arraySlice=Array.prototype.slice;function interpolateNumber(i,n,r){return(n-i)*r+i}function interpolate1DArray(i,n,r,o){for(var a=n.length,u=0;u<a;u++)i[u]=interpolateNumber(n[u],r[u],o);return i}function interpolate2DArray(i,n,r,o){for(var a=n.length,u=a&&n[0].length,c=0;c<a;c++){i[c]||(i[c]=[]);for(var f=0;f<u;f++)i[c][f]=interpolateNumber(n[c][f],r[c][f],o)}return i}function add1DArray(i,n,r,o){for(var a=n.length,u=0;u<a;u++)i[u]=n[u]+r[u]*o;return i}function add2DArray(i,n,r,o){for(var a=n.length,u=a&&n[0].length,c=0;c<a;c++){i[c]||(i[c]=[]);for(var f=0;f<u;f++)i[c][f]=n[c][f]+r[c][f]*o}return i}function fillColorStops(i,n){for(var r=i.length,o=n.length,a=r>o?n:i,u=Math.min(r,o),c=a[u-1]||{color:[0,0,0,0],offset:0},f=u;f<Math.max(r,o);f++)a.push({offset:c.offset,color:c.color.slice()})}function fillArray(i,n,r){var o=i,a=n;if(!(!o.push||!a.push)){var u=o.length,c=a.length;if(u!==c){var f=u>c;if(f)o.length=c;else for(var d=u;d<c;d++)o.push(r===1?a[d]:arraySlice.call(a[d]))}for(var h=o[0]&&o[0].length,d=0;d<o.length;d++)if(r===1)isNaN(o[d])&&(o[d]=a[d]);else for(var v=0;v<h;v++)isNaN(o[d][v])&&(o[d][v]=a[d][v])}}function cloneValue(i){if(isArrayLike(i)){var n=i.length;if(isArrayLike(i[0])){for(var r=[],o=0;o<n;o++)r.push(arraySlice.call(i[o]));return r}return arraySlice.call(i)}return i}function rgba2String(i){return i[0]=Math.floor(i[0])||0,i[1]=Math.floor(i[1])||0,i[2]=Math.floor(i[2])||0,i[3]=i[3]==null?1:i[3],"rgba("+i.join(",")+")"}function guessArrayDim(i){return isArrayLike(i&&i[0])?2:1}var VALUE_TYPE_NUMBER=0,VALUE_TYPE_1D_ARRAY=1,VALUE_TYPE_2D_ARRAY=2,VALUE_TYPE_COLOR=3,VALUE_TYPE_LINEAR_GRADIENT=4,VALUE_TYPE_RADIAL_GRADIENT=5,VALUE_TYPE_UNKOWN=6;function isGradientValueType(i){return i===VALUE_TYPE_LINEAR_GRADIENT||i===VALUE_TYPE_RADIAL_GRADIENT}function isArrayValueType(i){return i===VALUE_TYPE_1D_ARRAY||i===VALUE_TYPE_2D_ARRAY}var tmpRgba=[0,0,0,0],Track=function(){function i(n){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=n}return i.prototype.isFinished=function(){return this._finished},i.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},i.prototype.needsAnimate=function(){return this.keyframes.length>=1},i.prototype.getAdditiveTrack=function(){return this._additiveTrack},i.prototype.addKeyframe=function(n,r,o){this._needsSort=!0;var a=this.keyframes,u=a.length,c=!1,f=VALUE_TYPE_UNKOWN,d=r;if(isArrayLike(r)){var h=guessArrayDim(r);f=h,(h===1&&!isNumber$1(r[0])||h===2&&!isNumber$1(r[0][0]))&&(c=!0)}else if(isNumber$1(r)&&!eqNaN(r))f=VALUE_TYPE_NUMBER;else if(isString$2(r))if(!isNaN(+r))f=VALUE_TYPE_NUMBER;else{var v=parse(r);v&&(d=v,f=VALUE_TYPE_COLOR)}else if(isGradientObject(r)){var g=extend({},d);g.colorStops=map$1(r.colorStops,function(y){return{offset:y.offset,color:parse(y.color)}}),isLinearGradient(r)?f=VALUE_TYPE_LINEAR_GRADIENT:isRadialGradient(r)&&(f=VALUE_TYPE_RADIAL_GRADIENT),d=g}u===0?this.valType=f:(f!==this.valType||f===VALUE_TYPE_UNKOWN)&&(c=!0),this.discrete=this.discrete||c;var p={time:n,value:d,rawValue:r,percent:0};return o&&(p.easing=o,p.easingFunc=isFunction$1(o)?o:easingFuncs$1[o]||createCubicEasingFunc(o)),a.push(p),p},i.prototype.prepare=function(n,r){var o=this.keyframes;this._needsSort&&o.sort(function(b,A){return b.time-A.time});for(var a=this.valType,u=o.length,c=o[u-1],f=this.discrete,d=isArrayValueType(a),h=isGradientValueType(a),v=0;v<u;v++){var g=o[v],p=g.value,y=c.value;g.percent=g.time/n,f||(d&&v!==u-1?fillArray(p,y,a):h&&fillColorStops(p.colorStops,y.colorStops))}if(!f&&a!==VALUE_TYPE_RADIAL_GRADIENT&&r&&this.needsAnimate()&&r.needsAnimate()&&a===r.valType&&!r._finished){this._additiveTrack=r;for(var _=o[0].value,v=0;v<u;v++)a===VALUE_TYPE_NUMBER?o[v].additiveValue=o[v].value-_:a===VALUE_TYPE_COLOR?o[v].additiveValue=add1DArray([],o[v].value,_,-1):isArrayValueType(a)&&(o[v].additiveValue=a===VALUE_TYPE_1D_ARRAY?add1DArray([],o[v].value,_,-1):add2DArray([],o[v].value,_,-1))}},i.prototype.step=function(n,r){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var o=this._additiveTrack!=null,a=o?"additiveValue":"value",u=this.valType,c=this.keyframes,f=c.length,d=this.propName,h=u===VALUE_TYPE_COLOR,v,g=this._lastFr,p=Math.min,y,_;if(f===1)y=_=c[0];else{if(r<0)v=0;else if(r<this._lastFrP){var b=p(g+1,f-1);for(v=b;v>=0&&!(c[v].percent<=r);v--);v=p(v,f-2)}else{for(v=g;v<f&&!(c[v].percent>r);v++);v=p(v-1,f-2)}_=c[v+1],y=c[v]}if(y&&_){this._lastFr=v,this._lastFrP=r;var A=_.percent-y.percent,w=A===0?1:p((r-y.percent)/A,1);_.easingFunc&&(w=_.easingFunc(w));var S=o?this._additiveValue:h?tmpRgba:n[d];if((isArrayValueType(u)||h)&&!S&&(S=this._additiveValue=[]),this.discrete)n[d]=w<1?y.rawValue:_.rawValue;else if(isArrayValueType(u))u===VALUE_TYPE_1D_ARRAY?interpolate1DArray(S,y[a],_[a],w):interpolate2DArray(S,y[a],_[a],w);else if(isGradientValueType(u)){var T=y[a],x=_[a],O=u===VALUE_TYPE_LINEAR_GRADIENT;n[d]={type:O?"linear":"radial",x:interpolateNumber(T.x,x.x,w),y:interpolateNumber(T.y,x.y,w),colorStops:map$1(T.colorStops,function(M,re){var F=x.colorStops[re];return{offset:interpolateNumber(M.offset,F.offset,w),color:rgba2String(interpolate1DArray([],M.color,F.color,w))}}),global:x.global},O?(n[d].x2=interpolateNumber(T.x2,x.x2,w),n[d].y2=interpolateNumber(T.y2,x.y2,w)):n[d].r=interpolateNumber(T.r,x.r,w)}else if(h)interpolate1DArray(S,y[a],_[a],w),o||(n[d]=rgba2String(S));else{var L=interpolateNumber(y[a],_[a],w);o?this._additiveValue=L:n[d]=L}o&&this._addToTarget(n)}}},i.prototype._addToTarget=function(n){var r=this.valType,o=this.propName,a=this._additiveValue;r===VALUE_TYPE_NUMBER?n[o]=n[o]+a:r===VALUE_TYPE_COLOR?(parse(n[o],tmpRgba),add1DArray(tmpRgba,tmpRgba,a,1),n[o]=rgba2String(tmpRgba)):r===VALUE_TYPE_1D_ARRAY?add1DArray(n[o],n[o],a,1):r===VALUE_TYPE_2D_ARRAY&&add2DArray(n[o],n[o],a,1)},i}(),Animator=function(){function i(n,r,o,a){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=n,this._loop=r,r&&a){logError("Can' use additive animation on looped animation.");return}this._additiveAnimators=a,this._allowDiscrete=o}return i.prototype.getMaxTime=function(){return this._maxTime},i.prototype.getDelay=function(){return this._delay},i.prototype.getLoop=function(){return this._loop},i.prototype.getTarget=function(){return this._target},i.prototype.changeTarget=function(n){this._target=n},i.prototype.when=function(n,r,o){return this.whenWithKeys(n,r,keys(r),o)},i.prototype.whenWithKeys=function(n,r,o,a){for(var u=this._tracks,c=0;c<o.length;c++){var f=o[c],d=u[f];if(!d){d=u[f]=new Track(f);var h=void 0,v=this._getAdditiveTrack(f);if(v){var g=v.keyframes,p=g[g.length-1];h=p&&p.value,v.valType===VALUE_TYPE_COLOR&&h&&(h=rgba2String(h))}else h=this._target[f];if(h==null)continue;n>0&&d.addKeyframe(0,cloneValue(h),a),this._trackKeys.push(f)}d.addKeyframe(n,cloneValue(r[f]),a)}return this._maxTime=Math.max(this._maxTime,n),this},i.prototype.pause=function(){this._clip.pause(),this._paused=!0},i.prototype.resume=function(){this._clip.resume(),this._paused=!1},i.prototype.isPaused=function(){return!!this._paused},i.prototype.duration=function(n){return this._maxTime=n,this._force=!0,this},i.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var n=this._doneCbs;if(n)for(var r=n.length,o=0;o<r;o++)n[o].call(this)},i.prototype._abortedCallback=function(){this._setTracksFinished();var n=this.animation,r=this._abortedCbs;if(n&&n.removeClip(this._clip),this._clip=null,r)for(var o=0;o<r.length;o++)r[o].call(this)},i.prototype._setTracksFinished=function(){for(var n=this._tracks,r=this._trackKeys,o=0;o<r.length;o++)n[r[o]].setFinished()},i.prototype._getAdditiveTrack=function(n){var r,o=this._additiveAnimators;if(o)for(var a=0;a<o.length;a++){var u=o[a].getTrack(n);u&&(r=u)}return r},i.prototype.start=function(n){if(!(this._started>0)){this._started=1;for(var r=this,o=[],a=this._maxTime||0,u=0;u<this._trackKeys.length;u++){var c=this._trackKeys[u],f=this._tracks[c],d=this._getAdditiveTrack(c),h=f.keyframes,v=h.length;if(f.prepare(a,d),f.needsAnimate())if(!this._allowDiscrete&&f.discrete){var g=h[v-1];g&&(r._target[f.propName]=g.rawValue),f.setFinished()}else o.push(f)}if(o.length||this._force){var p=new Clip$1({life:a,loop:this._loop,delay:this._delay||0,onframe:function(y){r._started=2;var _=r._additiveAnimators;if(_){for(var b=!1,A=0;A<_.length;A++)if(_[A]._clip){b=!0;break}b||(r._additiveAnimators=null)}for(var A=0;A<o.length;A++)o[A].step(r._target,y);var w=r._onframeCbs;if(w)for(var A=0;A<w.length;A++)w[A](r._target,y)},ondestroy:function(){r._doneCallback()}});this._clip=p,this.animation&&this.animation.addClip(p),n&&p.setEasing(n)}else this._doneCallback();return this}},i.prototype.stop=function(n){if(this._clip){var r=this._clip;n&&r.onframe(1),this._abortedCallback()}},i.prototype.delay=function(n){return this._delay=n,this},i.prototype.during=function(n){return n&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(n)),this},i.prototype.done=function(n){return n&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(n)),this},i.prototype.aborted=function(n){return n&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(n)),this},i.prototype.getClip=function(){return this._clip},i.prototype.getTrack=function(n){return this._tracks[n]},i.prototype.getTracks=function(){var n=this;return map$1(this._trackKeys,function(r){return n._tracks[r]})},i.prototype.stopTracks=function(n,r){if(!n.length||!this._clip)return!0;for(var o=this._tracks,a=this._trackKeys,u=0;u<n.length;u++){var c=o[n[u]];c&&!c.isFinished()&&(r?c.step(this._target,1):this._started===1&&c.step(this._target,0),c.setFinished())}for(var f=!0,u=0;u<a.length;u++)if(!o[a[u]].isFinished()){f=!1;break}return f&&this._abortedCallback(),f},i.prototype.saveTo=function(n,r,o){if(n){r=r||this._trackKeys;for(var a=0;a<r.length;a++){var u=r[a],c=this._tracks[u];if(!(!c||c.isFinished())){var f=c.keyframes,d=f[o?0:f.length-1];d&&(n[u]=cloneValue(d.rawValue))}}}},i.prototype.__changeFinalValue=function(n,r){r=r||keys(n);for(var o=0;o<r.length;o++){var a=r[o],u=this._tracks[a];if(u){var c=u.keyframes;if(c.length>1){var f=c.pop();u.addKeyframe(f.time,n[a]),u.prepare(this._maxTime,u.getAdditiveTrack())}}}},i}();const Animator$1=Animator;function getTime(){return new Date().getTime()}var Animation=function(i){__extends(n,i);function n(r){var o=i.call(this)||this;return o._running=!1,o._time=0,o._pausedTime=0,o._pauseStart=0,o._paused=!1,r=r||{},o.stage=r.stage||{},o}return n.prototype.addClip=function(r){r.animation&&this.removeClip(r),this._head?(this._tail.next=r,r.prev=this._tail,r.next=null,this._tail=r):this._head=this._tail=r,r.animation=this},n.prototype.addAnimator=function(r){r.animation=this;var o=r.getClip();o&&this.addClip(o)},n.prototype.removeClip=function(r){if(r.animation){var o=r.prev,a=r.next;o?o.next=a:this._head=a,a?a.prev=o:this._tail=o,r.next=r.prev=r.animation=null}},n.prototype.removeAnimator=function(r){var o=r.getClip();o&&this.removeClip(o),r.animation=null},n.prototype.update=function(r){for(var o=getTime()-this._pausedTime,a=o-this._time,u=this._head;u;){var c=u.next,f=u.step(o,a);f&&(u.ondestroy(),this.removeClip(u)),u=c}this._time=o,r||(this.trigger("frame",a),this.stage.update&&this.stage.update())},n.prototype._startLoop=function(){var r=this;this._running=!0;function o(){r._running&&(requestAnimationFrame$3(o),!r._paused&&r.update())}requestAnimationFrame$3(o)},n.prototype.start=function(){this._running||(this._time=getTime(),this._pausedTime=0,this._startLoop())},n.prototype.stop=function(){this._running=!1},n.prototype.pause=function(){this._paused||(this._pauseStart=getTime(),this._paused=!0)},n.prototype.resume=function(){this._paused&&(this._pausedTime+=getTime()-this._pauseStart,this._paused=!1)},n.prototype.clear=function(){for(var r=this._head;r;){var o=r.next;r.prev=r.next=r.animation=null,r=o}this._head=this._tail=null},n.prototype.isFinished=function(){return this._head==null},n.prototype.animate=function(r,o){o=o||{},this.start();var a=new Animator$1(r,o.loop);return this.addAnimator(a),a},n}(Eventful$1);const Animation$1=Animation;var TOUCH_CLICK_DELAY=300,globalEventSupported=env$1.domSupported,localNativeListenerNames=function(){var i=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],n=["touchstart","touchend","touchmove"],r={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},o=map$1(i,function(a){var u=a.replace("mouse","pointer");return r.hasOwnProperty(u)?u:a});return{mouse:i,touch:n,pointer:o}}(),globalNativeListenerNames={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},wheelEventSupported=!1;function isPointerFromTouch(i){var n=i.pointerType;return n==="pen"||n==="touch"}function setTouchTimer(i){i.touching=!0,i.touchTimer!=null&&(clearTimeout(i.touchTimer),i.touchTimer=null),i.touchTimer=setTimeout(function(){i.touching=!1,i.touchTimer=null},700)}function markTouch(i){i&&(i.zrByTouch=!0)}function normalizeGlobalEvent(i,n){return normalizeEvent(i.dom,new FakeGlobalEvent(i,n),!0)}function isLocalEl(i,n){for(var r=n,o=!1;r&&r.nodeType!==9&&!(o=r.domBelongToZr||r!==n&&r===i.painterRoot);)r=r.parentNode;return o}var FakeGlobalEvent=function(){function i(n,r){this.stopPropagation=noop$1,this.stopImmediatePropagation=noop$1,this.preventDefault=noop$1,this.type=r.type,this.target=this.currentTarget=n.dom,this.pointerType=r.pointerType,this.clientX=r.clientX,this.clientY=r.clientY}return i}(),localDOMHandlers={mousedown:function(i){i=normalizeEvent(this.dom,i),this.__mayPointerCapture=[i.zrX,i.zrY],this.trigger("mousedown",i)},mousemove:function(i){i=normalizeEvent(this.dom,i);var n=this.__mayPointerCapture;n&&(i.zrX!==n[0]||i.zrY!==n[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",i)},mouseup:function(i){i=normalizeEvent(this.dom,i),this.__togglePointerCapture(!1),this.trigger("mouseup",i)},mouseout:function(i){i=normalizeEvent(this.dom,i);var n=i.toElement||i.relatedTarget;isLocalEl(this,n)||(this.__pointerCapturing&&(i.zrEventControl="no_globalout"),this.trigger("mouseout",i))},wheel:function(i){wheelEventSupported=!0,i=normalizeEvent(this.dom,i),this.trigger("mousewheel",i)},mousewheel:function(i){wheelEventSupported||(i=normalizeEvent(this.dom,i),this.trigger("mousewheel",i))},touchstart:function(i){i=normalizeEvent(this.dom,i),markTouch(i),this.__lastTouchMoment=new Date,this.handler.processGesture(i,"start"),localDOMHandlers.mousemove.call(this,i),localDOMHandlers.mousedown.call(this,i)},touchmove:function(i){i=normalizeEvent(this.dom,i),markTouch(i),this.handler.processGesture(i,"change"),localDOMHandlers.mousemove.call(this,i)},touchend:function(i){i=normalizeEvent(this.dom,i),markTouch(i),this.handler.processGesture(i,"end"),localDOMHandlers.mouseup.call(this,i),+new Date-+this.__lastTouchMoment<TOUCH_CLICK_DELAY&&localDOMHandlers.click.call(this,i)},pointerdown:function(i){localDOMHandlers.mousedown.call(this,i)},pointermove:function(i){isPointerFromTouch(i)||localDOMHandlers.mousemove.call(this,i)},pointerup:function(i){localDOMHandlers.mouseup.call(this,i)},pointerout:function(i){isPointerFromTouch(i)||localDOMHandlers.mouseout.call(this,i)}};each$4(["click","dblclick","contextmenu"],function(i){localDOMHandlers[i]=function(n){n=normalizeEvent(this.dom,n),this.trigger(i,n)}});var globalDOMHandlers={pointermove:function(i){isPointerFromTouch(i)||globalDOMHandlers.mousemove.call(this,i)},pointerup:function(i){globalDOMHandlers.mouseup.call(this,i)},mousemove:function(i){this.trigger("mousemove",i)},mouseup:function(i){var n=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",i),n&&(i.zrEventControl="only_globalout",this.trigger("mouseout",i))}};function mountLocalDOMEventListeners(i,n){var r=n.domHandlers;env$1.pointerEventsSupported?each$4(localNativeListenerNames.pointer,function(o){mountSingleDOMEventListener(n,o,function(a){r[o].call(i,a)})}):(env$1.touchEventsSupported&&each$4(localNativeListenerNames.touch,function(o){mountSingleDOMEventListener(n,o,function(a){r[o].call(i,a),setTouchTimer(n)})}),each$4(localNativeListenerNames.mouse,function(o){mountSingleDOMEventListener(n,o,function(a){a=getNativeEvent(a),n.touching||r[o].call(i,a)})}))}function mountGlobalDOMEventListeners(i,n){env$1.pointerEventsSupported?each$4(globalNativeListenerNames.pointer,r):env$1.touchEventsSupported||each$4(globalNativeListenerNames.mouse,r);function r(o){function a(u){u=getNativeEvent(u),isLocalEl(i,u.target)||(u=normalizeGlobalEvent(i,u),n.domHandlers[o].call(i,u))}mountSingleDOMEventListener(n,o,a,{capture:!0})}}function mountSingleDOMEventListener(i,n,r,o){i.mounted[n]=r,i.listenerOpts[n]=o,addEventListener(i.domTarget,n,r,o)}function unmountDOMEventListeners(i){var n=i.mounted;for(var r in n)n.hasOwnProperty(r)&&removeEventListener(i.domTarget,r,n[r],i.listenerOpts[r]);i.mounted={}}var DOMHandlerScope=function(){function i(n,r){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=n,this.domHandlers=r}return i}(),HandlerDomProxy=function(i){__extends(n,i);function n(r,o){var a=i.call(this)||this;return a.__pointerCapturing=!1,a.dom=r,a.painterRoot=o,a._localHandlerScope=new DOMHandlerScope(r,localDOMHandlers),globalEventSupported&&(a._globalHandlerScope=new DOMHandlerScope(document,globalDOMHandlers)),mountLocalDOMEventListeners(a,a._localHandlerScope),a}return n.prototype.dispose=function(){unmountDOMEventListeners(this._localHandlerScope),globalEventSupported&&unmountDOMEventListeners(this._globalHandlerScope)},n.prototype.setCursor=function(r){this.dom.style&&(this.dom.style.cursor=r||"default")},n.prototype.__togglePointerCapture=function(r){if(this.__mayPointerCapture=null,globalEventSupported&&+this.__pointerCapturing^+r){this.__pointerCapturing=r;var o=this._globalHandlerScope;r?mountGlobalDOMEventListeners(this,o):unmountDOMEventListeners(o)}},n}(Eventful$1);const HandlerProxy=HandlerDomProxy;var dpr=1;env$1.hasGlobalWindow&&(dpr=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var devicePixelRatio=dpr,DARK_MODE_THRESHOLD=.4,DARK_LABEL_COLOR="#333",LIGHT_LABEL_COLOR="#ccc",LIGHTER_LABEL_COLOR="#eee",mIdentity=identity$1,EPSILON$1=5e-5;function isNotAroundZero(i){return i>EPSILON$1||i<-EPSILON$1}var scaleTmp=[],tmpTransform=[],originTransform=create(),abs=Math.abs,Transformable=function(){function i(){}return i.prototype.getLocalTransform=function(n){return i.getLocalTransform(this,n)},i.prototype.setPosition=function(n){this.x=n[0],this.y=n[1]},i.prototype.setScale=function(n){this.scaleX=n[0],this.scaleY=n[1]},i.prototype.setSkew=function(n){this.skewX=n[0],this.skewY=n[1]},i.prototype.setOrigin=function(n){this.originX=n[0],this.originY=n[1]},i.prototype.needLocalTransform=function(){return isNotAroundZero(this.rotation)||isNotAroundZero(this.x)||isNotAroundZero(this.y)||isNotAroundZero(this.scaleX-1)||isNotAroundZero(this.scaleY-1)||isNotAroundZero(this.skewX)||isNotAroundZero(this.skewY)},i.prototype.updateTransform=function(){var n=this.parent&&this.parent.transform,r=this.needLocalTransform(),o=this.transform;if(!(r||n)){o&&mIdentity(o);return}o=o||create(),r?this.getLocalTransform(o):mIdentity(o),n&&(r?mul(o,n,o):copy(o,n)),this.transform=o,this._resolveGlobalScaleRatio(o)},i.prototype._resolveGlobalScaleRatio=function(n){var r=this.globalScaleRatio;if(r!=null&&r!==1){this.getGlobalScale(scaleTmp);var o=scaleTmp[0]<0?-1:1,a=scaleTmp[1]<0?-1:1,u=((scaleTmp[0]-o)*r+o)/scaleTmp[0]||0,c=((scaleTmp[1]-a)*r+a)/scaleTmp[1]||0;n[0]*=u,n[1]*=u,n[2]*=c,n[3]*=c}this.invTransform=this.invTransform||create(),invert(this.invTransform,n)},i.prototype.getComputedTransform=function(){for(var n=this,r=[];n;)r.push(n),n=n.parent;for(;n=r.pop();)n.updateTransform();return this.transform},i.prototype.setLocalTransform=function(n){if(n){var r=n[0]*n[0]+n[1]*n[1],o=n[2]*n[2]+n[3]*n[3],a=Math.atan2(n[1],n[0]),u=Math.PI/2+a-Math.atan2(n[3],n[2]);o=Math.sqrt(o)*Math.cos(u),r=Math.sqrt(r),this.skewX=u,this.skewY=0,this.rotation=-a,this.x=+n[4],this.y=+n[5],this.scaleX=r,this.scaleY=o,this.originX=0,this.originY=0}},i.prototype.decomposeTransform=function(){if(this.transform){var n=this.parent,r=this.transform;n&&n.transform&&(mul(tmpTransform,n.invTransform,r),r=tmpTransform);var o=this.originX,a=this.originY;(o||a)&&(originTransform[4]=o,originTransform[5]=a,mul(tmpTransform,r,originTransform),tmpTransform[4]-=o,tmpTransform[5]-=a,r=tmpTransform),this.setLocalTransform(r)}},i.prototype.getGlobalScale=function(n){var r=this.transform;return n=n||[],r?(n[0]=Math.sqrt(r[0]*r[0]+r[1]*r[1]),n[1]=Math.sqrt(r[2]*r[2]+r[3]*r[3]),r[0]<0&&(n[0]=-n[0]),r[3]<0&&(n[1]=-n[1]),n):(n[0]=1,n[1]=1,n)},i.prototype.transformCoordToLocal=function(n,r){var o=[n,r],a=this.invTransform;return a&&applyTransform$1(o,o,a),o},i.prototype.transformCoordToGlobal=function(n,r){var o=[n,r],a=this.transform;return a&&applyTransform$1(o,o,a),o},i.prototype.getLineScale=function(){var n=this.transform;return n&&abs(n[0]-1)>1e-10&&abs(n[3]-1)>1e-10?Math.sqrt(abs(n[0]*n[3]-n[2]*n[1])):1},i.prototype.copyTransform=function(n){copyTransform(this,n)},i.getLocalTransform=function(n,r){r=r||[];var o=n.originX||0,a=n.originY||0,u=n.scaleX,c=n.scaleY,f=n.anchorX,d=n.anchorY,h=n.rotation||0,v=n.x,g=n.y,p=n.skewX?Math.tan(n.skewX):0,y=n.skewY?Math.tan(-n.skewY):0;if(o||a||f||d){var _=o+f,b=a+d;r[4]=-_*u-p*b*c,r[5]=-b*c-y*_*u}else r[4]=r[5]=0;return r[0]=u,r[3]=c,r[1]=y*u,r[2]=p*c,h&&rotate(r,r,h),r[4]+=o+v,r[5]+=a+g,r},i.initDefaultProps=function(){var n=i.prototype;n.scaleX=n.scaleY=n.globalScaleRatio=1,n.x=n.y=n.originX=n.originY=n.skewX=n.skewY=n.rotation=n.anchorX=n.anchorY=0}(),i}(),TRANSFORMABLE_PROPS=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function copyTransform(i,n){for(var r=0;r<TRANSFORMABLE_PROPS.length;r++){var o=TRANSFORMABLE_PROPS[r];i[o]=n[o]}}const Transformable$1=Transformable;var textWidthCache={};function getWidth(i,n){n=n||DEFAULT_FONT;var r=textWidthCache[n];r||(r=textWidthCache[n]=new LRU$1(500));var o=r.get(i);return o==null&&(o=platformApi.measureText(i,n).width,r.put(i,o)),o}function innerGetBoundingRect(i,n,r,o){var a=getWidth(i,n),u=getLineHeight(n),c=adjustTextX(0,a,r),f=adjustTextY(0,u,o),d=new BoundingRect$1(c,f,a,u);return d}function getBoundingRect(i,n,r,o){var a=((i||"")+"").split(`
`),u=a.length;if(u===1)return innerGetBoundingRect(a[0],n,r,o);for(var c=new BoundingRect$1(0,0,0,0),f=0;f<a.length;f++){var d=innerGetBoundingRect(a[f],n,r,o);f===0?c.copy(d):c.union(d)}return c}function adjustTextX(i,n,r){return r==="right"?i-=n:r==="center"&&(i-=n/2),i}function adjustTextY(i,n,r){return r==="middle"?i-=n/2:r==="bottom"&&(i-=n),i}function getLineHeight(i){return getWidth("国",i)}function parsePercent$1(i,n){return typeof i=="string"?i.lastIndexOf("%")>=0?parseFloat(i)/100*n:parseFloat(i):i}function calculateTextPosition(i,n,r){var o=n.position||"inside",a=n.distance!=null?n.distance:5,u=r.height,c=r.width,f=u/2,d=r.x,h=r.y,v="left",g="top";if(o instanceof Array)d+=parsePercent$1(o[0],r.width),h+=parsePercent$1(o[1],r.height),v=null,g=null;else switch(o){case"left":d-=a,h+=f,v="right",g="middle";break;case"right":d+=a+c,h+=f,g="middle";break;case"top":d+=c/2,h-=a,v="center",g="bottom";break;case"bottom":d+=c/2,h+=u+a,v="center";break;case"inside":d+=c/2,h+=f,v="center",g="middle";break;case"insideLeft":d+=a,h+=f,g="middle";break;case"insideRight":d+=c-a,h+=f,v="right",g="middle";break;case"insideTop":d+=c/2,h+=a,v="center";break;case"insideBottom":d+=c/2,h+=u-a,v="center",g="bottom";break;case"insideTopLeft":d+=a,h+=a;break;case"insideTopRight":d+=c-a,h+=a,v="right";break;case"insideBottomLeft":d+=a,h+=u-a,g="bottom";break;case"insideBottomRight":d+=c-a,h+=u-a,v="right",g="bottom";break}return i=i||{},i.x=d,i.y=h,i.align=v,i.verticalAlign=g,i}var PRESERVED_NORMAL_STATE="__zr_normal__",PRIMARY_STATES_KEYS$1=TRANSFORMABLE_PROPS.concat(["ignore"]),DEFAULT_ANIMATABLE_MAP=reduce(TRANSFORMABLE_PROPS,function(i,n){return i[n]=!0,i},{ignore:!1}),tmpTextPosCalcRes={},tmpBoundingRect=new BoundingRect$1(0,0,0,0),Element$1=function(){function i(n){this.id=guid(),this.animators=[],this.currentStates=[],this.states={},this._init(n)}return i.prototype._init=function(n){this.attr(n)},i.prototype.drift=function(n,r,o){switch(this.draggable){case"horizontal":r=0;break;case"vertical":n=0;break}var a=this.transform;a||(a=this.transform=[1,0,0,1,0,0]),a[4]+=n,a[5]+=r,this.decomposeTransform(),this.markRedraw()},i.prototype.beforeUpdate=function(){},i.prototype.afterUpdate=function(){},i.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},i.prototype.updateInnerText=function(n){var r=this._textContent;if(r&&(!r.ignore||n)){this.textConfig||(this.textConfig={});var o=this.textConfig,a=o.local,u=r.innerTransformable,c=void 0,f=void 0,d=!1;u.parent=a?this:null;var h=!1;if(u.copyTransform(r),o.position!=null){var v=tmpBoundingRect;o.layoutRect?v.copy(o.layoutRect):v.copy(this.getBoundingRect()),a||v.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(tmpTextPosCalcRes,o,v):calculateTextPosition(tmpTextPosCalcRes,o,v),u.x=tmpTextPosCalcRes.x,u.y=tmpTextPosCalcRes.y,c=tmpTextPosCalcRes.align,f=tmpTextPosCalcRes.verticalAlign;var g=o.origin;if(g&&o.rotation!=null){var p=void 0,y=void 0;g==="center"?(p=v.width*.5,y=v.height*.5):(p=parsePercent$1(g[0],v.width),y=parsePercent$1(g[1],v.height)),h=!0,u.originX=-u.x+p+(a?0:v.x),u.originY=-u.y+y+(a?0:v.y)}}o.rotation!=null&&(u.rotation=o.rotation);var _=o.offset;_&&(u.x+=_[0],u.y+=_[1],h||(u.originX=-_[0],u.originY=-_[1]));var b=o.inside==null?typeof o.position=="string"&&o.position.indexOf("inside")>=0:o.inside,A=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),w=void 0,S=void 0,T=void 0;b&&this.canBeInsideText()?(w=o.insideFill,S=o.insideStroke,(w==null||w==="auto")&&(w=this.getInsideTextFill()),(S==null||S==="auto")&&(S=this.getInsideTextStroke(w),T=!0)):(w=o.outsideFill,S=o.outsideStroke,(w==null||w==="auto")&&(w=this.getOutsideFill()),(S==null||S==="auto")&&(S=this.getOutsideStroke(w),T=!0)),w=w||"#000",(w!==A.fill||S!==A.stroke||T!==A.autoStroke||c!==A.align||f!==A.verticalAlign)&&(d=!0,A.fill=w,A.stroke=S,A.autoStroke=T,A.align=c,A.verticalAlign=f,r.setDefaultTextStyle(A)),r.__dirty|=REDRAW_BIT,d&&r.dirtyStyle(!0)}},i.prototype.canBeInsideText=function(){return!0},i.prototype.getInsideTextFill=function(){return"#fff"},i.prototype.getInsideTextStroke=function(n){return"#000"},i.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?LIGHT_LABEL_COLOR:DARK_LABEL_COLOR},i.prototype.getOutsideStroke=function(n){var r=this.__zr&&this.__zr.getBackgroundColor(),o=typeof r=="string"&&parse(r);o||(o=[255,255,255,1]);for(var a=o[3],u=this.__zr.isDarkMode(),c=0;c<3;c++)o[c]=o[c]*a+(u?0:255)*(1-a);return o[3]=1,stringify(o,"rgba")},i.prototype.traverse=function(n,r){},i.prototype.attrKV=function(n,r){n==="textConfig"?this.setTextConfig(r):n==="textContent"?this.setTextContent(r):n==="clipPath"?this.setClipPath(r):n==="extra"?(this.extra=this.extra||{},extend(this.extra,r)):this[n]=r},i.prototype.hide=function(){this.ignore=!0,this.markRedraw()},i.prototype.show=function(){this.ignore=!1,this.markRedraw()},i.prototype.attr=function(n,r){if(typeof n=="string")this.attrKV(n,r);else if(isObject$3(n))for(var o=n,a=keys(o),u=0;u<a.length;u++){var c=a[u];this.attrKV(c,n[c])}return this.markRedraw(),this},i.prototype.saveCurrentToNormalState=function(n){this._innerSaveToNormal(n);for(var r=this._normalState,o=0;o<this.animators.length;o++){var a=this.animators[o],u=a.__fromStateTransition;if(!(a.getLoop()||u&&u!==PRESERVED_NORMAL_STATE)){var c=a.targetName,f=c?r[c]:r;a.saveTo(f)}}},i.prototype._innerSaveToNormal=function(n){var r=this._normalState;r||(r=this._normalState={}),n.textConfig&&!r.textConfig&&(r.textConfig=this.textConfig),this._savePrimaryToNormal(n,r,PRIMARY_STATES_KEYS$1)},i.prototype._savePrimaryToNormal=function(n,r,o){for(var a=0;a<o.length;a++){var u=o[a];n[u]!=null&&!(u in r)&&(r[u]=this[u])}},i.prototype.hasState=function(){return this.currentStates.length>0},i.prototype.getState=function(n){return this.states[n]},i.prototype.ensureState=function(n){var r=this.states;return r[n]||(r[n]={}),r[n]},i.prototype.clearStates=function(n){this.useState(PRESERVED_NORMAL_STATE,!1,n)},i.prototype.useState=function(n,r,o,a){var u=n===PRESERVED_NORMAL_STATE,c=this.hasState();if(!(!c&&u)){var f=this.currentStates,d=this.stateTransition;if(!(indexOf(f,n)>=0&&(r||f.length===1))){var h;if(this.stateProxy&&!u&&(h=this.stateProxy(n)),h||(h=this.states&&this.states[n]),!h&&!u){logError("State "+n+" not exists.");return}u||this.saveCurrentToNormalState(h);var v=!!(h&&h.hoverLayer||a);v&&this._toggleHoverLayerFlag(!0),this._applyStateObj(n,h,this._normalState,r,!o&&!this.__inHover&&d&&d.duration>0,d);var g=this._textContent,p=this._textGuide;return g&&g.useState(n,r,o,v),p&&p.useState(n,r,o,v),u?(this.currentStates=[],this._normalState={}):r?this.currentStates.push(n):this.currentStates=[n],this._updateAnimationTargets(),this.markRedraw(),!v&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~REDRAW_BIT),h}}},i.prototype.useStates=function(n,r,o){if(!n.length)this.clearStates();else{var a=[],u=this.currentStates,c=n.length,f=c===u.length;if(f){for(var d=0;d<c;d++)if(n[d]!==u[d]){f=!1;break}}if(f)return;for(var d=0;d<c;d++){var h=n[d],v=void 0;this.stateProxy&&(v=this.stateProxy(h,n)),v||(v=this.states[h]),v&&a.push(v)}var g=a[c-1],p=!!(g&&g.hoverLayer||o);p&&this._toggleHoverLayerFlag(!0);var y=this._mergeStates(a),_=this.stateTransition;this.saveCurrentToNormalState(y),this._applyStateObj(n.join(","),y,this._normalState,!1,!r&&!this.__inHover&&_&&_.duration>0,_);var b=this._textContent,A=this._textGuide;b&&b.useStates(n,r,p),A&&A.useStates(n,r,p),this._updateAnimationTargets(),this.currentStates=n.slice(),this.markRedraw(),!p&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~REDRAW_BIT)}},i.prototype._updateAnimationTargets=function(){for(var n=0;n<this.animators.length;n++){var r=this.animators[n];r.targetName&&r.changeTarget(this[r.targetName])}},i.prototype.removeState=function(n){var r=indexOf(this.currentStates,n);if(r>=0){var o=this.currentStates.slice();o.splice(r,1),this.useStates(o)}},i.prototype.replaceState=function(n,r,o){var a=this.currentStates.slice(),u=indexOf(a,n),c=indexOf(a,r)>=0;u>=0?c?a.splice(u,1):a[u]=r:o&&!c&&a.push(r),this.useStates(a)},i.prototype.toggleState=function(n,r){r?this.useState(n,!0):this.removeState(n)},i.prototype._mergeStates=function(n){for(var r={},o,a=0;a<n.length;a++){var u=n[a];extend(r,u),u.textConfig&&(o=o||{},extend(o,u.textConfig))}return o&&(r.textConfig=o),r},i.prototype._applyStateObj=function(n,r,o,a,u,c){var f=!(r&&a);r&&r.textConfig?(this.textConfig=extend({},a?this.textConfig:o.textConfig),extend(this.textConfig,r.textConfig)):f&&o.textConfig&&(this.textConfig=o.textConfig);for(var d={},h=!1,v=0;v<PRIMARY_STATES_KEYS$1.length;v++){var g=PRIMARY_STATES_KEYS$1[v],p=u&&DEFAULT_ANIMATABLE_MAP[g];r&&r[g]!=null?p?(h=!0,d[g]=r[g]):this[g]=r[g]:f&&o[g]!=null&&(p?(h=!0,d[g]=o[g]):this[g]=o[g])}if(!u)for(var v=0;v<this.animators.length;v++){var y=this.animators[v],_=y.targetName;y.getLoop()||y.__changeFinalValue(_?(r||o)[_]:r||o)}h&&this._transitionState(n,d,c)},i.prototype._attachComponent=function(n){if(n.__zr&&!n.__hostTarget){if(process.env.NODE_ENV!=="production")throw new Error("Text element has been added to zrender.");return}if(n===this){if(process.env.NODE_ENV!=="production")throw new Error("Recursive component attachment.");return}var r=this.__zr;r&&n.addSelfToZr(r),n.__zr=r,n.__hostTarget=this},i.prototype._detachComponent=function(n){n.__zr&&n.removeSelfFromZr(n.__zr),n.__zr=null,n.__hostTarget=null},i.prototype.getClipPath=function(){return this._clipPath},i.prototype.setClipPath=function(n){this._clipPath&&this._clipPath!==n&&this.removeClipPath(),this._attachComponent(n),this._clipPath=n,this.markRedraw()},i.prototype.removeClipPath=function(){var n=this._clipPath;n&&(this._detachComponent(n),this._clipPath=null,this.markRedraw())},i.prototype.getTextContent=function(){return this._textContent},i.prototype.setTextContent=function(n){var r=this._textContent;if(r!==n){if(r&&r!==n&&this.removeTextContent(),process.env.NODE_ENV!=="production"&&n.__zr&&!n.__hostTarget)throw new Error("Text element has been added to zrender.");n.innerTransformable=new Transformable$1,this._attachComponent(n),this._textContent=n,this.markRedraw()}},i.prototype.setTextConfig=function(n){this.textConfig||(this.textConfig={}),extend(this.textConfig,n),this.markRedraw()},i.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},i.prototype.removeTextContent=function(){var n=this._textContent;n&&(n.innerTransformable=null,this._detachComponent(n),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},i.prototype.getTextGuideLine=function(){return this._textGuide},i.prototype.setTextGuideLine=function(n){this._textGuide&&this._textGuide!==n&&this.removeTextGuideLine(),this._attachComponent(n),this._textGuide=n,this.markRedraw()},i.prototype.removeTextGuideLine=function(){var n=this._textGuide;n&&(this._detachComponent(n),this._textGuide=null,this.markRedraw())},i.prototype.markRedraw=function(){this.__dirty|=REDRAW_BIT;var n=this.__zr;n&&(this.__inHover?n.refreshHover():n.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},i.prototype.dirty=function(){this.markRedraw()},i.prototype._toggleHoverLayerFlag=function(n){this.__inHover=n;var r=this._textContent,o=this._textGuide;r&&(r.__inHover=n),o&&(o.__inHover=n)},i.prototype.addSelfToZr=function(n){if(this.__zr!==n){this.__zr=n;var r=this.animators;if(r)for(var o=0;o<r.length;o++)n.animation.addAnimator(r[o]);this._clipPath&&this._clipPath.addSelfToZr(n),this._textContent&&this._textContent.addSelfToZr(n),this._textGuide&&this._textGuide.addSelfToZr(n)}},i.prototype.removeSelfFromZr=function(n){if(this.__zr){this.__zr=null;var r=this.animators;if(r)for(var o=0;o<r.length;o++)n.animation.removeAnimator(r[o]);this._clipPath&&this._clipPath.removeSelfFromZr(n),this._textContent&&this._textContent.removeSelfFromZr(n),this._textGuide&&this._textGuide.removeSelfFromZr(n)}},i.prototype.animate=function(n,r,o){var a=n?this[n]:this;if(process.env.NODE_ENV!=="production"&&!a){logError('Property "'+n+'" is not existed in element '+this.id);return}var u=new Animator$1(a,r,o);return n&&(u.targetName=n),this.addAnimator(u,n),u},i.prototype.addAnimator=function(n,r){var o=this.__zr,a=this;n.during(function(){a.updateDuringAnimation(r)}).done(function(){var u=a.animators,c=indexOf(u,n);c>=0&&u.splice(c,1)}),this.animators.push(n),o&&o.animation.addAnimator(n),o&&o.wakeUp()},i.prototype.updateDuringAnimation=function(n){this.markRedraw()},i.prototype.stopAnimation=function(n,r){for(var o=this.animators,a=o.length,u=[],c=0;c<a;c++){var f=o[c];!n||n===f.scope?f.stop(r):u.push(f)}return this.animators=u,this},i.prototype.animateTo=function(n,r,o){animateTo(this,n,r,o)},i.prototype.animateFrom=function(n,r,o){animateTo(this,n,r,o,!0)},i.prototype._transitionState=function(n,r,o,a){for(var u=animateTo(this,r,o,a),c=0;c<u.length;c++)u[c].__fromStateTransition=n},i.prototype.getBoundingRect=function(){return null},i.prototype.getPaintRect=function(){return null},i.initDefaultProps=function(){var n=i.prototype;n.type="element",n.name="",n.ignore=n.silent=n.isGroup=n.draggable=n.dragging=n.ignoreClip=n.__inHover=!1,n.__dirty=REDRAW_BIT;var r={};function o(u,c,f){r[u+c+f]||(console.warn("DEPRECATED: '"+u+"' has been deprecated. use '"+c+"', '"+f+"' instead"),r[u+c+f]=!0)}function a(u,c,f,d){Object.defineProperty(n,u,{get:function(){if(process.env.NODE_ENV!=="production"&&o(u,f,d),!this[c]){var v=this[c]=[];h(this,v)}return this[c]},set:function(v){process.env.NODE_ENV!=="production"&&o(u,f,d),this[f]=v[0],this[d]=v[1],this[c]=v,h(this,v)}});function h(v,g){Object.defineProperty(g,0,{get:function(){return v[f]},set:function(p){v[f]=p}}),Object.defineProperty(g,1,{get:function(){return v[d]},set:function(p){v[d]=p}})}}Object.defineProperty&&(a("position","_legacyPos","x","y"),a("scale","_legacyScale","scaleX","scaleY"),a("origin","_legacyOrigin","originX","originY"))}(),i}();mixin(Element$1,Eventful$1),mixin(Element$1,Transformable$1);function animateTo(i,n,r,o,a){r=r||{};var u=[];animateToShallow(i,"",i,n,r,o,u,a);var c=u.length,f=!1,d=r.done,h=r.aborted,v=function(){f=!0,c--,c<=0&&(f?d&&d():h&&h())},g=function(){c--,c<=0&&(f?d&&d():h&&h())};c||d&&d(),u.length>0&&r.during&&u[0].during(function(_,b){r.during(b)});for(var p=0;p<u.length;p++){var y=u[p];v&&y.done(v),g&&y.aborted(g),r.force&&y.duration(r.duration),y.start(r.easing)}return u}function copyArrShallow(i,n,r){for(var o=0;o<r;o++)i[o]=n[o]}function is2DArray(i){return isArrayLike(i[0])}function copyValue(i,n,r){if(isArrayLike(n[r]))if(isArrayLike(i[r])||(i[r]=[]),isTypedArray(n[r])){var o=n[r].length;i[r].length!==o&&(i[r]=new n[r].constructor(o),copyArrShallow(i[r],n[r],o))}else{var a=n[r],u=i[r],c=a.length;if(is2DArray(a))for(var f=a[0].length,d=0;d<c;d++)u[d]?copyArrShallow(u[d],a[d],f):u[d]=Array.prototype.slice.call(a[d]);else copyArrShallow(u,a,c);u.length=a.length}else i[r]=n[r]}function isValueSame(i,n){return i===n||isArrayLike(i)&&isArrayLike(n)&&is1DArraySame(i,n)}function is1DArraySame(i,n){var r=i.length;if(r!==n.length)return!1;for(var o=0;o<r;o++)if(i[o]!==n[o])return!1;return!0}function animateToShallow(i,n,r,o,a,u,c,f){for(var d=keys(o),h=a.duration,v=a.delay,g=a.additive,p=a.setToFinal,y=!isObject$3(u),_=i.animators,b=[],A=0;A<d.length;A++){var w=d[A],S=o[w];if(S!=null&&r[w]!=null&&(y||u[w]))if(isObject$3(S)&&!isArrayLike(S)&&!isGradientObject(S)){if(n){f||(r[w]=S,i.updateDuringAnimation(n));continue}animateToShallow(i,w,r[w],S,a,u&&u[w],c,f)}else b.push(w);else f||(r[w]=S,i.updateDuringAnimation(n),b.push(w))}var T=b.length;if(!g&&T)for(var x=0;x<_.length;x++){var O=_[x];if(O.targetName===n){var L=O.stopTracks(b);if(L){var M=indexOf(_,O);_.splice(M,1)}}}if(a.force||(b=filter(b,function(V){return!isValueSame(o[V],r[V])}),T=b.length),T>0||a.force&&!c.length){var re=void 0,F=void 0,Y=void 0;if(f){F={},p&&(re={});for(var x=0;x<T;x++){var w=b[x];F[w]=r[w],p?re[w]=o[w]:r[w]=o[w]}}else if(p){Y={};for(var x=0;x<T;x++){var w=b[x];Y[w]=cloneValue(r[w]),copyValue(r,o,w)}}var O=new Animator$1(r,!1,!1,g?filter(_,function(z){return z.targetName===n}):null);O.targetName=n,a.scope&&(O.scope=a.scope),p&&re&&O.whenWithKeys(0,re,b),Y&&O.whenWithKeys(0,Y,b),O.whenWithKeys(h??500,f?F:o,b).delay(v||0),i.addAnimator(O,n),c.push(O)}}const Element$2=Element$1;var Group$2=function(i){__extends(n,i);function n(r){var o=i.call(this)||this;return o.isGroup=!0,o._children=[],o.attr(r),o}return n.prototype.childrenRef=function(){return this._children},n.prototype.children=function(){return this._children.slice()},n.prototype.childAt=function(r){return this._children[r]},n.prototype.childOfName=function(r){for(var o=this._children,a=0;a<o.length;a++)if(o[a].name===r)return o[a]},n.prototype.childCount=function(){return this._children.length},n.prototype.add=function(r){if(r&&(r!==this&&r.parent!==this&&(this._children.push(r),this._doAdd(r)),process.env.NODE_ENV!=="production"&&r.__hostTarget))throw"This elemenet has been used as an attachment";return this},n.prototype.addBefore=function(r,o){if(r&&r!==this&&r.parent!==this&&o&&o.parent===this){var a=this._children,u=a.indexOf(o);u>=0&&(a.splice(u,0,r),this._doAdd(r))}return this},n.prototype.replace=function(r,o){var a=indexOf(this._children,r);return a>=0&&this.replaceAt(o,a),this},n.prototype.replaceAt=function(r,o){var a=this._children,u=a[o];if(r&&r!==this&&r.parent!==this&&r!==u){a[o]=r,u.parent=null;var c=this.__zr;c&&u.removeSelfFromZr(c),this._doAdd(r)}return this},n.prototype._doAdd=function(r){r.parent&&r.parent.remove(r),r.parent=this;var o=this.__zr;o&&o!==r.__zr&&r.addSelfToZr(o),o&&o.refresh()},n.prototype.remove=function(r){var o=this.__zr,a=this._children,u=indexOf(a,r);return u<0?this:(a.splice(u,1),r.parent=null,o&&r.removeSelfFromZr(o),o&&o.refresh(),this)},n.prototype.removeAll=function(){for(var r=this._children,o=this.__zr,a=0;a<r.length;a++){var u=r[a];o&&u.removeSelfFromZr(o),u.parent=null}return r.length=0,this},n.prototype.eachChild=function(r,o){for(var a=this._children,u=0;u<a.length;u++){var c=a[u];r.call(o,c,u)}return this},n.prototype.traverse=function(r,o){for(var a=0;a<this._children.length;a++){var u=this._children[a],c=r.call(o,u);u.isGroup&&!c&&u.traverse(r,o)}return this},n.prototype.addSelfToZr=function(r){i.prototype.addSelfToZr.call(this,r);for(var o=0;o<this._children.length;o++){var a=this._children[o];a.addSelfToZr(r)}},n.prototype.removeSelfFromZr=function(r){i.prototype.removeSelfFromZr.call(this,r);for(var o=0;o<this._children.length;o++){var a=this._children[o];a.removeSelfFromZr(r)}},n.prototype.getBoundingRect=function(r){for(var o=new BoundingRect$1(0,0,0,0),a=r||this._children,u=[],c=null,f=0;f<a.length;f++){var d=a[f];if(!(d.ignore||d.invisible)){var h=d.getBoundingRect(),v=d.getLocalTransform(u);v?(BoundingRect$1.applyTransform(o,h,v),c=c||o.clone(),c.union(o)):(c=c||h.clone(),c.union(h))}}return c||o},n}(Element$2);Group$2.prototype.type="group";const Group$3=Group$2;/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var painterCtors={},instances$1={};function delInstance(i){delete instances$1[i]}function isDarkMode(i){if(!i)return!1;if(typeof i=="string")return lum(i,1)<DARK_MODE_THRESHOLD;if(i.colorStops){for(var n=i.colorStops,r=0,o=n.length,a=0;a<o;a++)r+=lum(n[a].color,1);return r/=o,r<DARK_MODE_THRESHOLD}return!1}var ZRender=function(){function i(n,r,o){var a=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,o=o||{},this.dom=r,this.id=n;var u=new Storage$1,c=o.renderer||"canvas";if(painterCtors[c]||(c=keys(painterCtors)[0]),process.env.NODE_ENV!=="production"&&!painterCtors[c])throw new Error("Renderer '"+c+"' is not imported. Please import it first.");o.useDirtyRect=o.useDirtyRect==null?!1:o.useDirtyRect;var f=new painterCtors[c](r,u,o,n),d=o.ssr||f.ssrOnly;this.storage=u,this.painter=f;var h=!env$1.node&&!env$1.worker&&!d?new HandlerProxy(f.getViewportRoot(),f.root):null,v=o.useCoarsePointer,g=v==null||v==="auto"?env$1.touchEventsSupported:!!v,p=44,y;g&&(y=retrieve2(o.pointerSize,p)),this.handler=new Handler$1(u,f,h,f.root,y),this.animation=new Animation$1({stage:{update:d?null:function(){return a._flush(!0)}}}),d||this.animation.start()}return i.prototype.add=function(n){n&&(this.storage.addRoot(n),n.addSelfToZr(this),this.refresh())},i.prototype.remove=function(n){n&&(this.storage.delRoot(n),n.removeSelfFromZr(this),this.refresh())},i.prototype.configLayer=function(n,r){this.painter.configLayer&&this.painter.configLayer(n,r),this.refresh()},i.prototype.setBackgroundColor=function(n){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(n),this.refresh(),this._backgroundColor=n,this._darkMode=isDarkMode(n)},i.prototype.getBackgroundColor=function(){return this._backgroundColor},i.prototype.setDarkMode=function(n){this._darkMode=n},i.prototype.isDarkMode=function(){return this._darkMode},i.prototype.refreshImmediately=function(n){n||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},i.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},i.prototype.flush=function(){this._flush(!1)},i.prototype._flush=function(n){var r,o=getTime();this._needsRefresh&&(r=!0,this.refreshImmediately(n)),this._needsRefreshHover&&(r=!0,this.refreshHoverImmediately());var a=getTime();r?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:a-o})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},i.prototype.setSleepAfterStill=function(n){this._sleepAfterStill=n},i.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},i.prototype.refreshHover=function(){this._needsRefreshHover=!0},i.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover()},i.prototype.resize=function(n){n=n||{},this.painter.resize(n.width,n.height),this.handler.resize()},i.prototype.clearAnimation=function(){this.animation.clear()},i.prototype.getWidth=function(){return this.painter.getWidth()},i.prototype.getHeight=function(){return this.painter.getHeight()},i.prototype.setCursorStyle=function(n){this.handler.setCursorStyle(n)},i.prototype.findHover=function(n,r){return this.handler.findHover(n,r)},i.prototype.on=function(n,r,o){return this.handler.on(n,r,o),this},i.prototype.off=function(n,r){this.handler.off(n,r)},i.prototype.trigger=function(n,r){this.handler.trigger(n,r)},i.prototype.clear=function(){for(var n=this.storage.getRoots(),r=0;r<n.length;r++)n[r]instanceof Group$3&&n[r].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},i.prototype.dispose=function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,delInstance(this.id)},i}();function init(i,n){var r=new ZRender(guid(),i,n);return instances$1[r.id]=r,r}function registerPainter(i,n){painterCtors[i]=n}var RADIAN_EPSILON=1e-4,ROUND_SUPPORTED_PRECISION_MAX=20;function _trim(i){return i.replace(/^\s+|\s+$/g,"")}function linearMap(i,n,r,o){var a=n[0],u=n[1],c=r[0],f=r[1],d=u-a,h=f-c;if(d===0)return h===0?c:(c+f)/2;if(o)if(d>0){if(i<=a)return c;if(i>=u)return f}else{if(i>=a)return c;if(i<=u)return f}else{if(i===a)return c;if(i===u)return f}return(i-a)/d*h+c}function parsePercent(i,n){switch(i){case"center":case"middle":i="50%";break;case"left":case"top":i="0%";break;case"right":case"bottom":i="100%";break}return isString$2(i)?_trim(i).match(/%$/)?parseFloat(i)/100*n:parseFloat(i):i==null?NaN:+i}function round$2(i,n,r){return n==null&&(n=10),n=Math.min(Math.max(0,n),ROUND_SUPPORTED_PRECISION_MAX),i=(+i).toFixed(n),r?i:+i}function getPrecision(i){if(i=+i,isNaN(i))return 0;if(i>1e-14){for(var n=1,r=0;r<15;r++,n*=10)if(Math.round(i*n)/n===i)return r}return getPrecisionSafe(i)}function getPrecisionSafe(i){var n=i.toString().toLowerCase(),r=n.indexOf("e"),o=r>0?+n.slice(r+1):0,a=r>0?r:n.length,u=n.indexOf("."),c=u<0?0:a-1-u;return Math.max(0,c-o)}function getPercentSeats(i,n){var r=reduce(i,function(y,_){return y+(isNaN(_)?0:_)},0);if(r===0)return[];for(var o=Math.pow(10,n),a=map$1(i,function(y){return(isNaN(y)?0:y)/r*o*100}),u=o*100,c=map$1(a,function(y){return Math.floor(y)}),f=reduce(c,function(y,_){return y+_},0),d=map$1(a,function(y,_){return y-c[_]});f<u;){for(var h=Number.NEGATIVE_INFINITY,v=null,g=0,p=d.length;g<p;++g)d[g]>h&&(h=d[g],v=g);++c[v],d[v]=0,++f}return map$1(c,function(y){return y/o})}function addSafe(i,n){var r=Math.max(getPrecision(i),getPrecision(n)),o=i+n;return r>ROUND_SUPPORTED_PRECISION_MAX?o:round$2(o,r)}function remRadian(i){var n=Math.PI*2;return(i%n+n)%n}function isRadianAroundZero(i){return i>-RADIAN_EPSILON&&i<RADIAN_EPSILON}var TIME_REG=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function parseDate(i){if(i instanceof Date)return i;if(isString$2(i)){var n=TIME_REG.exec(i);if(!n)return new Date(NaN);if(n[8]){var r=+n[4]||0;return n[8].toUpperCase()!=="Z"&&(r-=+n[8].slice(0,3)),new Date(Date.UTC(+n[1],+(n[2]||1)-1,+n[3]||1,r,+(n[5]||0),+n[6]||0,n[7]?+n[7].substring(0,3):0))}else return new Date(+n[1],+(n[2]||1)-1,+n[3]||1,+n[4]||0,+(n[5]||0),+n[6]||0,n[7]?+n[7].substring(0,3):0)}else if(i==null)return new Date(NaN);return new Date(Math.round(i))}function numericToNumber(i){var n=parseFloat(i);return n==i&&(n!==0||!isString$2(i)||i.indexOf("x")<=0)?n:NaN}function isNumeric(i){return!isNaN(numericToNumber(i))}function getRandomIdBase(){return Math.round(Math.random()*9)}function getGreatestCommonDividor(i,n){return n===0?i:getGreatestCommonDividor(n,i%n)}function getLeastCommonMultiple(i,n){return i==null?n:n==null?i:i*n/getGreatestCommonDividor(i,n)}var ECHARTS_PREFIX="[ECharts] ",storedLogs={},hasConsole=typeof console<"u"&&console.warn&&console.log;function outputLog(i,n,r){if(hasConsole){if(r){if(storedLogs[n])return;storedLogs[n]=!0}console[i](ECHARTS_PREFIX+n)}}function log(i,n){outputLog("log",i,n)}function warn(i,n){outputLog("warn",i,n)}function error(i,n){outputLog("error",i,n)}function deprecateLog(i){process.env.NODE_ENV!=="production"&&outputLog("warn","DEPRECATED: "+i,!0)}function deprecateReplaceLog(i,n,r){process.env.NODE_ENV!=="production"&&deprecateLog((r?"["+r+"]":"")+(i+" is deprecated, use "+n+" instead."))}function makePrintable(){for(var i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];var r="";if(process.env.NODE_ENV!=="production"){var o=function(a){return a===void 0?"undefined":a===1/0?"Infinity":a===-1/0?"-Infinity":eqNaN(a)?"NaN":a instanceof Date?"Date("+a.toISOString()+")":isFunction$1(a)?"function () { ... }":isRegExp(a)?a+"":null};r=map$1(i,function(a){if(isString$2(a))return a;var u=o(a);if(u!=null)return u;if(typeof JSON<"u"&&JSON.stringify)try{return JSON.stringify(a,function(c,f){var d=o(f);return d??f})}catch{return"?"}else return"?"}).join(" ")}return r}function throwError$1(i){throw new Error(i)}var DUMMY_COMPONENT_NAME_PREFIX="series\0",INTERNAL_COMPONENT_ID_PREFIX="\0_ec_\0";function normalizeToArray(i){return i instanceof Array?i:i==null?[]:[i]}function defaultEmphasis(i,n,r){if(i){i[n]=i[n]||{},i.emphasis=i.emphasis||{},i.emphasis[n]=i.emphasis[n]||{};for(var o=0,a=r.length;o<a;o++){var u=r[o];!i.emphasis[n].hasOwnProperty(u)&&i[n].hasOwnProperty(u)&&(i.emphasis[n][u]=i[n][u])}}}var TEXT_STYLE_OPTIONS=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function getDataItemValue(i){return isObject$3(i)&&!isArray$1(i)&&!(i instanceof Date)?i.value:i}function isDataItemOption(i){return isObject$3(i)&&!(i instanceof Array)}function mappingToExists(i,n,r){var o=r==="normalMerge",a=r==="replaceMerge",u=r==="replaceAll";i=i||[],n=(n||[]).slice();var c=createHashMap();each$4(n,function(d,h){if(!isObject$3(d)){n[h]=null;return}process.env.NODE_ENV!=="production"&&(d.id!=null&&!isValidIdOrName(d.id)&&warnInvalidateIdOrName(d.id),d.name!=null&&!isValidIdOrName(d.name)&&warnInvalidateIdOrName(d.name))});var f=prepareResult(i,c,r);return(o||a)&&mappingById(f,i,c,n),o&&mappingByName(f,n),o||a?mappingByIndex(f,n,a):u&&mappingInReplaceAllMode(f,n),makeIdAndName(f),f}function prepareResult(i,n,r){var o=[];if(r==="replaceAll")return o;for(var a=0;a<i.length;a++){var u=i[a];u&&u.id!=null&&n.set(u.id,a),o.push({existing:r==="replaceMerge"||isComponentIdInternal(u)?null:u,newOption:null,keyInfo:null,brandNew:null})}return o}function mappingById(i,n,r,o){each$4(o,function(a,u){if(!(!a||a.id==null)){var c=makeComparableKey(a.id),f=r.get(c);if(f!=null){var d=i[f];assert(!d.newOption,'Duplicated option on id "'+c+'".'),d.newOption=a,d.existing=n[f],o[u]=null}}})}function mappingByName(i,n){each$4(n,function(r,o){if(!(!r||r.name==null))for(var a=0;a<i.length;a++){var u=i[a].existing;if(!i[a].newOption&&u&&(u.id==null||r.id==null)&&!isComponentIdInternal(r)&&!isComponentIdInternal(u)&&keyExistAndEqual("name",u,r)){i[a].newOption=r,n[o]=null;return}}})}function mappingByIndex(i,n,r){each$4(n,function(o){if(o){for(var a,u=0;(a=i[u])&&(a.newOption||isComponentIdInternal(a.existing)||a.existing&&o.id!=null&&!keyExistAndEqual("id",o,a.existing));)u++;a?(a.newOption=o,a.brandNew=r):i.push({newOption:o,brandNew:r,existing:null,keyInfo:null}),u++}})}function mappingInReplaceAllMode(i,n){each$4(n,function(r){i.push({newOption:r,brandNew:!0,existing:null,keyInfo:null})})}function makeIdAndName(i){var n=createHashMap();each$4(i,function(r){var o=r.existing;o&&n.set(o.id,r)}),each$4(i,function(r){var o=r.newOption;assert(!o||o.id==null||!n.get(o.id)||n.get(o.id)===r,"id duplicates: "+(o&&o.id)),o&&o.id!=null&&n.set(o.id,r),!r.keyInfo&&(r.keyInfo={})}),each$4(i,function(r,o){var a=r.existing,u=r.newOption,c=r.keyInfo;if(isObject$3(u)){if(c.name=u.name!=null?makeComparableKey(u.name):a?a.name:DUMMY_COMPONENT_NAME_PREFIX+o,a)c.id=makeComparableKey(a.id);else if(u.id!=null)c.id=makeComparableKey(u.id);else{var f=0;do c.id="\0"+c.name+"\0"+f++;while(n.get(c.id))}n.set(c.id,r)}})}function keyExistAndEqual(i,n,r){var o=convertOptionIdName(n[i],null),a=convertOptionIdName(r[i],null);return o!=null&&a!=null&&o===a}function makeComparableKey(i){if(process.env.NODE_ENV!=="production"&&i==null)throw new Error;return convertOptionIdName(i,"")}function convertOptionIdName(i,n){return i==null?n:isString$2(i)?i:isNumber$1(i)||isStringSafe(i)?i+"":n}function warnInvalidateIdOrName(i){process.env.NODE_ENV!=="production"&&warn("`"+i+"` is invalid id or name. Must be a string or number.")}function isValidIdOrName(i){return isStringSafe(i)||isNumeric(i)}function isNameSpecified(i){var n=i.name;return!!(n&&n.indexOf(DUMMY_COMPONENT_NAME_PREFIX))}function isComponentIdInternal(i){return i&&i.id!=null&&makeComparableKey(i.id).indexOf(INTERNAL_COMPONENT_ID_PREFIX)===0}function setComponentTypeToKeyInfo(i,n,r){each$4(i,function(o){var a=o.newOption;isObject$3(a)&&(o.keyInfo.mainType=n,o.keyInfo.subType=determineSubType(n,a,o.existing,r))})}function determineSubType(i,n,r,o){var a=n.type?n.type:r?r.subType:o.determineSubType(i,n);return a}function queryDataIndex(i,n){if(n.dataIndexInside!=null)return n.dataIndexInside;if(n.dataIndex!=null)return isArray$1(n.dataIndex)?map$1(n.dataIndex,function(r){return i.indexOfRawIndex(r)}):i.indexOfRawIndex(n.dataIndex);if(n.name!=null)return isArray$1(n.name)?map$1(n.name,function(r){return i.indexOfName(r)}):i.indexOfName(n.name)}function makeInner(){var i="__ec_inner_"+innerUniqueIndex++;return function(n){return n[i]||(n[i]={})}}var innerUniqueIndex=getRandomIdBase();function parseFinder(i,n,r){var o=preParseFinder(n,r),a=o.mainTypeSpecified,u=o.queryOptionMap,c=o.others,f=c,d=r?r.defaultMainType:null;return!a&&d&&u.set(d,{}),u.each(function(h,v){var g=queryReferringComponents(i,v,h,{useDefault:d===v,enableAll:r&&r.enableAll!=null?r.enableAll:!0,enableNone:r&&r.enableNone!=null?r.enableNone:!0});f[v+"Models"]=g.models,f[v+"Model"]=g.models[0]}),f}function preParseFinder(i,n){var r;if(isString$2(i)){var o={};o[i+"Index"]=0,r=o}else r=i;var a=createHashMap(),u={},c=!1;return each$4(r,function(f,d){if(d==="dataIndex"||d==="dataIndexInside"){u[d]=f;return}var h=d.match(/^(\w+)(Index|Id|Name)$/)||[],v=h[1],g=(h[2]||"").toLowerCase();if(!(!v||!g||n&&n.includeMainTypes&&indexOf(n.includeMainTypes,v)<0)){c=c||!!v;var p=a.get(v)||a.set(v,{});p[g]=f}}),{mainTypeSpecified:c,queryOptionMap:a,others:u}}var SINGLE_REFERRING={useDefault:!0,enableAll:!1,enableNone:!1};function queryReferringComponents(i,n,r,o){o=o||SINGLE_REFERRING;var a=r.index,u=r.id,c=r.name,f={models:null,specified:a!=null||u!=null||c!=null};if(!f.specified){var d=void 0;return f.models=o.useDefault&&(d=i.getComponent(n))?[d]:[],f}return a==="none"||a===!1?(assert(o.enableNone,'`"none"` or `false` is not a valid value on index option.'),f.models=[],f):(a==="all"&&(assert(o.enableAll,'`"all"` is not a valid value on index option.'),a=u=c=null),f.models=i.queryComponents({mainType:n,index:a,id:u,name:c}),f)}function setAttribute(i,n,r){i.setAttribute?i.setAttribute(n,r):i[n]=r}function getTooltipRenderMode(i){return i==="auto"?env$1.domSupported?"html":"richText":i||"html"}var TYPE_DELIMITER=".",IS_CONTAINER="___EC__COMPONENT__CONTAINER___",IS_EXTENDED_CLASS="___EC__EXTENDED_CLASS___";function parseClassType(i){var n={main:"",sub:""};if(i){var r=i.split(TYPE_DELIMITER);n.main=r[0]||"",n.sub=r[1]||""}return n}function checkClassType(i){assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(i),'componentType "'+i+'" illegal')}function isExtendedClass(i){return!!(i&&i[IS_EXTENDED_CLASS])}function enableClassExtend(i,n){i.$constructor=i,i.extend=function(r){process.env.NODE_ENV!=="production"&&each$4(n,function(u){r[u]||console.warn("Method `"+u+"` should be implemented"+(r.type?" in "+r.type:"")+".")});var o=this,a;return isESClass(o)?a=function(u){__extends(c,u);function c(){return u.apply(this,arguments)||this}return c}(o):(a=function(){(r.$constructor||o).apply(this,arguments)},inherits(a,this)),extend(a.prototype,r),a[IS_EXTENDED_CLASS]=!0,a.extend=this.extend,a.superCall=superCall,a.superApply=superApply,a.superClass=o,a}}function isESClass(i){return isFunction$1(i)&&/^class\s/.test(Function.prototype.toString.call(i))}function mountExtend(i,n){i.extend=n.extend}var classBase=Math.round(Math.random()*10);function enableClassCheck(i){var n=["__\0is_clz",classBase++].join("_");i.prototype[n]=!0,process.env.NODE_ENV!=="production"&&assert(!i.isInstance,'The method "is" can not be defined.'),i.isInstance=function(r){return!!(r&&r[n])}}function superCall(i,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];return this.superClass.prototype[n].apply(i,r)}function superApply(i,n,r){return this.superClass.prototype[n].apply(i,r)}function enableClassManagement(i){var n={};i.registerClass=function(o){var a=o.type||o.prototype.type;if(a){checkClassType(a),o.prototype.type=a;var u=parseClassType(a);if(!u.sub)process.env.NODE_ENV!=="production"&&n[u.main]&&console.warn(u.main+" exists."),n[u.main]=o;else if(u.sub!==IS_CONTAINER){var c=r(u);c[u.sub]=o}}return o},i.getClass=function(o,a,u){var c=n[o];if(c&&c[IS_CONTAINER]&&(c=a?c[a]:null),u&&!c)throw new Error(a?"Component "+o+"."+(a||"")+" is used but not imported.":o+".type should be specified.");return c},i.getClassesByMainType=function(o){var a=parseClassType(o),u=[],c=n[a.main];return c&&c[IS_CONTAINER]?each$4(c,function(f,d){d!==IS_CONTAINER&&u.push(f)}):u.push(c),u},i.hasClass=function(o){var a=parseClassType(o);return!!n[a.main]},i.getAllClassMainTypes=function(){var o=[];return each$4(n,function(a,u){o.push(u)}),o},i.hasSubTypes=function(o){var a=parseClassType(o),u=n[a.main];return u&&u[IS_CONTAINER]};function r(o){var a=n[o.main];return(!a||!a[IS_CONTAINER])&&(a=n[o.main]={},a[IS_CONTAINER]=!0),a}}function makeStyleMapper(i,n){for(var r=0;r<i.length;r++)i[r][1]||(i[r][1]=i[r][0]);return n=n||!1,function(o,a,u){for(var c={},f=0;f<i.length;f++){var d=i[f][1];if(!(a&&indexOf(a,d)>=0||u&&indexOf(u,d)<0)){var h=o.getShallow(d,n);h!=null&&(c[i[f][0]]=h)}}return c}}var AREA_STYLE_KEY_MAP=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],getAreaStyle=makeStyleMapper(AREA_STYLE_KEY_MAP),AreaStyleMixin=function(){function i(){}return i.prototype.getAreaStyle=function(n,r){return getAreaStyle(this,n,r)},i}(),globalImageCache=new LRU$1(50);function findExistImage(i){if(typeof i=="string"){var n=globalImageCache.get(i);return n&&n.image}else return i}function createOrUpdateImage(i,n,r,o,a){if(i)if(typeof i=="string"){if(n&&n.__zrImageSrc===i||!r)return n;var u=globalImageCache.get(i),c={hostEl:r,cb:o,cbPayload:a};return u?(n=u.image,!isImageReady(n)&&u.pending.push(c)):(n=platformApi.loadImage(i,imageOnLoad,imageOnLoad),n.__zrImageSrc=i,globalImageCache.put(i,n.__cachedImgObj={image:n,pending:[c]})),n}else return i;else return n}function imageOnLoad(){var i=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var n=0;n<i.pending.length;n++){var r=i.pending[n],o=r.cb;o&&o(this,r.cbPayload),r.hostEl.dirty()}i.pending.length=0}function isImageReady(i){return i&&i.width&&i.height}var STYLE_REG=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function truncateText(i,n,r,o,a){if(!n)return"";var u=(i+"").split(`
`);a=prepareTruncateOptions(n,r,o,a);for(var c=0,f=u.length;c<f;c++)u[c]=truncateSingleLine(u[c],a);return u.join(`
`)}function prepareTruncateOptions(i,n,r,o){o=o||{};var a=extend({},o);a.font=n,r=retrieve2(r,"..."),a.maxIterations=retrieve2(o.maxIterations,2);var u=a.minChar=retrieve2(o.minChar,0);a.cnCharWidth=getWidth("国",n);var c=a.ascCharWidth=getWidth("a",n);a.placeholder=retrieve2(o.placeholder,"");for(var f=i=Math.max(0,i-1),d=0;d<u&&f>=c;d++)f-=c;var h=getWidth(r,n);return h>f&&(r="",h=0),f=i-h,a.ellipsis=r,a.ellipsisWidth=h,a.contentWidth=f,a.containerWidth=i,a}function truncateSingleLine(i,n){var r=n.containerWidth,o=n.font,a=n.contentWidth;if(!r)return"";var u=getWidth(i,o);if(u<=r)return i;for(var c=0;;c++){if(u<=a||c>=n.maxIterations){i+=n.ellipsis;break}var f=c===0?estimateLength(i,a,n.ascCharWidth,n.cnCharWidth):u>0?Math.floor(i.length*a/u):0;i=i.substr(0,f),u=getWidth(i,o)}return i===""&&(i=n.placeholder),i}function estimateLength(i,n,r,o){for(var a=0,u=0,c=i.length;u<c&&a<n;u++){var f=i.charCodeAt(u);a+=0<=f&&f<=127?r:o}return u}function parsePlainText(i,n){i!=null&&(i+="");var r=n.overflow,o=n.padding,a=n.font,u=r==="truncate",c=getLineHeight(a),f=retrieve2(n.lineHeight,c),d=!!n.backgroundColor,h=n.lineOverflow==="truncate",v=n.width,g;v!=null&&(r==="break"||r==="breakAll")?g=i?wrapText(i,n.font,v,r==="breakAll",0).lines:[]:g=i?i.split(`
`):[];var p=g.length*f,y=retrieve2(n.height,p);if(p>y&&h){var _=Math.floor(y/f);g=g.slice(0,_)}if(i&&u&&v!=null)for(var b=prepareTruncateOptions(v,a,n.ellipsis,{minChar:n.truncateMinChar,placeholder:n.placeholder}),A=0;A<g.length;A++)g[A]=truncateSingleLine(g[A],b);for(var w=y,S=0,A=0;A<g.length;A++)S=Math.max(getWidth(g[A],a),S);v==null&&(v=S);var T=S;return o&&(w+=o[0]+o[2],T+=o[1]+o[3],v+=o[1]+o[3]),d&&(T=v),{lines:g,height:y,outerWidth:T,outerHeight:w,lineHeight:f,calculatedLineHeight:c,contentWidth:S,contentHeight:p,width:v}}var RichTextToken=function(){function i(){}return i}(),RichTextLine=function(){function i(n){this.tokens=[],n&&(this.tokens=n)}return i}(),RichTextContentBlock=function(){function i(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]}return i}();function parseRichText(i,n){var r=new RichTextContentBlock;if(i!=null&&(i+=""),!i)return r;for(var o=n.width,a=n.height,u=n.overflow,c=(u==="break"||u==="breakAll")&&o!=null?{width:o,accumWidth:0,breakAll:u==="breakAll"}:null,f=STYLE_REG.lastIndex=0,d;(d=STYLE_REG.exec(i))!=null;){var h=d.index;h>f&&pushTokens(r,i.substring(f,h),n,c),pushTokens(r,d[2],n,c,d[1]),f=STYLE_REG.lastIndex}f<i.length&&pushTokens(r,i.substring(f,i.length),n,c);var v=[],g=0,p=0,y=n.padding,_=u==="truncate",b=n.lineOverflow==="truncate";function A(xe,_e,jt){xe.width=_e,xe.lineHeight=jt,g+=jt,p=Math.max(p,_e)}e:for(var w=0;w<r.lines.length;w++){for(var S=r.lines[w],T=0,x=0,O=0;O<S.tokens.length;O++){var L=S.tokens[O],M=L.styleName&&n.rich[L.styleName]||{},re=L.textPadding=M.padding,F=re?re[1]+re[3]:0,Y=L.font=M.font||n.font;L.contentHeight=getLineHeight(Y);var V=retrieve2(M.height,L.contentHeight);if(L.innerHeight=V,re&&(V+=re[0]+re[2]),L.height=V,L.lineHeight=retrieve3(M.lineHeight,n.lineHeight,V),L.align=M&&M.align||n.align,L.verticalAlign=M&&M.verticalAlign||"middle",b&&a!=null&&g+L.lineHeight>a){O>0?(S.tokens=S.tokens.slice(0,O),A(S,x,T),r.lines=r.lines.slice(0,w+1)):r.lines=r.lines.slice(0,w);break e}var z=M.width,$=z==null||z==="auto";if(typeof z=="string"&&z.charAt(z.length-1)==="%")L.percentWidth=z,v.push(L),L.contentWidth=getWidth(L.text,Y);else{if($){var pe=M.backgroundColor,le=pe&&pe.image;le&&(le=findExistImage(le),isImageReady(le)&&(L.width=Math.max(L.width,le.width*V/le.height)))}var Ie=_&&o!=null?o-x:null;Ie!=null&&Ie<L.width?!$||Ie<F?(L.text="",L.width=L.contentWidth=0):(L.text=truncateText(L.text,Ie-F,Y,n.ellipsis,{minChar:n.truncateMinChar}),L.width=L.contentWidth=getWidth(L.text,Y)):L.contentWidth=getWidth(L.text,Y)}L.width+=F,x+=L.width,M&&(T=Math.max(T,L.lineHeight))}A(S,x,T)}r.outerWidth=r.width=retrieve2(o,p),r.outerHeight=r.height=retrieve2(a,g),r.contentHeight=g,r.contentWidth=p,y&&(r.outerWidth+=y[1]+y[3],r.outerHeight+=y[0]+y[2]);for(var w=0;w<v.length;w++){var L=v[w],he=L.percentWidth;L.width=parseInt(he,10)/100*r.width}return r}function pushTokens(i,n,r,o,a){var u=n==="",c=a&&r.rich[a]||{},f=i.lines,d=c.font||r.font,h=!1,v,g;if(o){var p=c.padding,y=p?p[1]+p[3]:0;if(c.width!=null&&c.width!=="auto"){var _=parsePercent$1(c.width,o.width)+y;f.length>0&&_+o.accumWidth>o.width&&(v=n.split(`
`),h=!0),o.accumWidth=_}else{var b=wrapText(n,d,o.width,o.breakAll,o.accumWidth);o.accumWidth=b.accumWidth+y,g=b.linesWidths,v=b.lines}}else v=n.split(`
`);for(var A=0;A<v.length;A++){var w=v[A],S=new RichTextToken;if(S.styleName=a,S.text=w,S.isLineHolder=!w&&!u,typeof c.width=="number"?S.width=c.width:S.width=g?g[A]:getWidth(w,d),!A&&!h){var T=(f[f.length-1]||(f[0]=new RichTextLine)).tokens,x=T.length;x===1&&T[0].isLineHolder?T[0]=S:(w||!x||u)&&T.push(S)}else f.push(new RichTextLine([S]))}}function isLatin(i){var n=i.charCodeAt(0);return n>=33&&n<=383}var breakCharMap=reduce(",&?/;] ".split(""),function(i,n){return i[n]=!0,i},{});function isWordBreakChar(i){return isLatin(i)?!!breakCharMap[i]:!0}function wrapText(i,n,r,o,a){for(var u=[],c=[],f="",d="",h=0,v=0,g=0;g<i.length;g++){var p=i.charAt(g);if(p===`
`){d&&(f+=d,v+=h),u.push(f),c.push(v),f="",d="",h=0,v=0;continue}var y=getWidth(p,n),_=o?!1:!isWordBreakChar(p);if(u.length?v+y>r:a+v+y>r){v?(f||d)&&(_?(f||(f=d,d="",h=0,v=h),u.push(f),c.push(v-h),d+=p,h+=y,f="",v=h):(d&&(f+=d,d="",h=0),u.push(f),c.push(v),f=p,v=y)):_?(u.push(d),c.push(h),d=p,h=y):(u.push(p),c.push(y));continue}v+=y,_?(d+=p,h+=y):(d&&(f+=d,d="",h=0),f+=p)}return!u.length&&!f&&(f=i,d="",h=0),d&&(f+=d),f&&(u.push(f),c.push(v)),u.length===1&&(v+=a),{accumWidth:v,lines:u,linesWidths:c}}var STYLE_MAGIC_KEY="__zr_style_"+Math.round(Math.random()*10),DEFAULT_COMMON_STYLE={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},DEFAULT_COMMON_ANIMATION_PROPS={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};DEFAULT_COMMON_STYLE[STYLE_MAGIC_KEY]=!0;var PRIMARY_STATES_KEYS=["z","z2","invisible"],PRIMARY_STATES_KEYS_IN_HOVER_LAYER=["invisible"],Displayable=function(i){__extends(n,i);function n(r){return i.call(this,r)||this}return n.prototype._init=function(r){for(var o=keys(r),a=0;a<o.length;a++){var u=o[a];u==="style"?this.useStyle(r[u]):i.prototype.attrKV.call(this,u,r[u])}this.style||this.useStyle({})},n.prototype.beforeBrush=function(){},n.prototype.afterBrush=function(){},n.prototype.innerBeforeBrush=function(){},n.prototype.innerAfterBrush=function(){},n.prototype.shouldBePainted=function(r,o,a,u){var c=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&isDisplayableCulled(this,r,o)||c&&!c[0]&&!c[3])return!1;if(a&&this.__clipPaths){for(var f=0;f<this.__clipPaths.length;++f)if(this.__clipPaths[f].isZeroArea())return!1}if(u&&this.parent)for(var d=this.parent;d;){if(d.ignore)return!1;d=d.parent}return!0},n.prototype.contain=function(r,o){return this.rectContain(r,o)},n.prototype.traverse=function(r,o){r.call(o,this)},n.prototype.rectContain=function(r,o){var a=this.transformCoordToLocal(r,o),u=this.getBoundingRect();return u.contain(a[0],a[1])},n.prototype.getPaintRect=function(){var r=this._paintRect;if(!this._paintRect||this.__dirty){var o=this.transform,a=this.getBoundingRect(),u=this.style,c=u.shadowBlur||0,f=u.shadowOffsetX||0,d=u.shadowOffsetY||0;r=this._paintRect||(this._paintRect=new BoundingRect$1(0,0,0,0)),o?BoundingRect$1.applyTransform(r,a,o):r.copy(a),(c||f||d)&&(r.width+=c*2+Math.abs(f),r.height+=c*2+Math.abs(d),r.x=Math.min(r.x,r.x+f-c),r.y=Math.min(r.y,r.y+d-c));var h=this.dirtyRectTolerance;r.isZero()||(r.x=Math.floor(r.x-h),r.y=Math.floor(r.y-h),r.width=Math.ceil(r.width+1+h*2),r.height=Math.ceil(r.height+1+h*2))}return r},n.prototype.setPrevPaintRect=function(r){r?(this._prevPaintRect=this._prevPaintRect||new BoundingRect$1(0,0,0,0),this._prevPaintRect.copy(r)):this._prevPaintRect=null},n.prototype.getPrevPaintRect=function(){return this._prevPaintRect},n.prototype.animateStyle=function(r){return this.animate("style",r)},n.prototype.updateDuringAnimation=function(r){r==="style"?this.dirtyStyle():this.markRedraw()},n.prototype.attrKV=function(r,o){r!=="style"?i.prototype.attrKV.call(this,r,o):this.style?this.setStyle(o):this.useStyle(o)},n.prototype.setStyle=function(r,o){return typeof r=="string"?this.style[r]=o:extend(this.style,r),this.dirtyStyle(),this},n.prototype.dirtyStyle=function(r){r||this.markRedraw(),this.__dirty|=STYLE_CHANGED_BIT,this._rect&&(this._rect=null)},n.prototype.dirty=function(){this.dirtyStyle()},n.prototype.styleChanged=function(){return!!(this.__dirty&STYLE_CHANGED_BIT)},n.prototype.styleUpdated=function(){this.__dirty&=~STYLE_CHANGED_BIT},n.prototype.createStyle=function(r){return createObject(DEFAULT_COMMON_STYLE,r)},n.prototype.useStyle=function(r){r[STYLE_MAGIC_KEY]||(r=this.createStyle(r)),this.__inHover?this.__hoverStyle=r:this.style=r,this.dirtyStyle()},n.prototype.isStyleObject=function(r){return r[STYLE_MAGIC_KEY]},n.prototype._innerSaveToNormal=function(r){i.prototype._innerSaveToNormal.call(this,r);var o=this._normalState;r.style&&!o.style&&(o.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(r,o,PRIMARY_STATES_KEYS)},n.prototype._applyStateObj=function(r,o,a,u,c,f){i.prototype._applyStateObj.call(this,r,o,a,u,c,f);var d=!(o&&u),h;if(o&&o.style?c?u?h=o.style:(h=this._mergeStyle(this.createStyle(),a.style),this._mergeStyle(h,o.style)):(h=this._mergeStyle(this.createStyle(),u?this.style:a.style),this._mergeStyle(h,o.style)):d&&(h=a.style),h)if(c){var v=this.style;if(this.style=this.createStyle(d?{}:v),d)for(var g=keys(v),p=0;p<g.length;p++){var y=g[p];y in h&&(h[y]=h[y],this.style[y]=v[y])}for(var _=keys(h),p=0;p<_.length;p++){var y=_[p];this.style[y]=this.style[y]}this._transitionState(r,{style:h},f,this.getAnimationStyleProps())}else this.useStyle(h);for(var b=this.__inHover?PRIMARY_STATES_KEYS_IN_HOVER_LAYER:PRIMARY_STATES_KEYS,p=0;p<b.length;p++){var y=b[p];o&&o[y]!=null?this[y]=o[y]:d&&a[y]!=null&&(this[y]=a[y])}},n.prototype._mergeStates=function(r){for(var o=i.prototype._mergeStates.call(this,r),a,u=0;u<r.length;u++){var c=r[u];c.style&&(a=a||{},this._mergeStyle(a,c.style))}return a&&(o.style=a),o},n.prototype._mergeStyle=function(r,o){return extend(r,o),r},n.prototype.getAnimationStyleProps=function(){return DEFAULT_COMMON_ANIMATION_PROPS},n.initDefaultProps=function(){var r=n.prototype;r.type="displayable",r.invisible=!1,r.z=0,r.z2=0,r.zlevel=0,r.culling=!1,r.cursor="pointer",r.rectHover=!1,r.incremental=!1,r._rect=null,r.dirtyRectTolerance=0,r.__dirty=REDRAW_BIT|STYLE_CHANGED_BIT}(),n}(Element$2),tmpRect=new BoundingRect$1(0,0,0,0),viewRect=new BoundingRect$1(0,0,0,0);function isDisplayableCulled(i,n,r){return tmpRect.copy(i.getBoundingRect()),i.transform&&tmpRect.applyTransform(i.transform),viewRect.width=n,viewRect.height=r,!tmpRect.intersect(viewRect)}const Displayable$1=Displayable;var mathMin$3=Math.min,mathMax$3=Math.max,mathSin$4=Math.sin,mathCos$4=Math.cos,PI2$7=Math.PI*2,start=create$1(),end=create$1(),extremity=create$1();function fromLine(i,n,r,o,a,u){a[0]=mathMin$3(i,r),a[1]=mathMin$3(n,o),u[0]=mathMax$3(i,r),u[1]=mathMax$3(n,o)}var xDim=[],yDim=[];function fromCubic(i,n,r,o,a,u,c,f,d,h){var v=cubicExtrema,g=cubicAt,p=v(i,r,a,c,xDim);d[0]=1/0,d[1]=1/0,h[0]=-1/0,h[1]=-1/0;for(var y=0;y<p;y++){var _=g(i,r,a,c,xDim[y]);d[0]=mathMin$3(_,d[0]),h[0]=mathMax$3(_,h[0])}p=v(n,o,u,f,yDim);for(var y=0;y<p;y++){var b=g(n,o,u,f,yDim[y]);d[1]=mathMin$3(b,d[1]),h[1]=mathMax$3(b,h[1])}d[0]=mathMin$3(i,d[0]),h[0]=mathMax$3(i,h[0]),d[0]=mathMin$3(c,d[0]),h[0]=mathMax$3(c,h[0]),d[1]=mathMin$3(n,d[1]),h[1]=mathMax$3(n,h[1]),d[1]=mathMin$3(f,d[1]),h[1]=mathMax$3(f,h[1])}function fromQuadratic(i,n,r,o,a,u,c,f){var d=quadraticExtremum,h=quadraticAt,v=mathMax$3(mathMin$3(d(i,r,a),1),0),g=mathMax$3(mathMin$3(d(n,o,u),1),0),p=h(i,r,a,v),y=h(n,o,u,g);c[0]=mathMin$3(i,a,p),c[1]=mathMin$3(n,u,y),f[0]=mathMax$3(i,a,p),f[1]=mathMax$3(n,u,y)}function fromArc(i,n,r,o,a,u,c,f,d){var h=min$1,v=max$1,g=Math.abs(a-u);if(g%PI2$7<1e-4&&g>1e-4){f[0]=i-r,f[1]=n-o,d[0]=i+r,d[1]=n+o;return}if(start[0]=mathCos$4(a)*r+i,start[1]=mathSin$4(a)*o+n,end[0]=mathCos$4(u)*r+i,end[1]=mathSin$4(u)*o+n,h(f,start,end),v(d,start,end),a=a%PI2$7,a<0&&(a=a+PI2$7),u=u%PI2$7,u<0&&(u=u+PI2$7),a>u&&!c?u+=PI2$7:a<u&&c&&(a+=PI2$7),c){var p=u;u=a,a=p}for(var y=0;y<u;y+=Math.PI/2)y>a&&(extremity[0]=mathCos$4(y)*r+i,extremity[1]=mathSin$4(y)*o+n,h(f,extremity,f),v(d,extremity,d))}var CMD$2={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},tmpOutX=[],tmpOutY=[],min=[],max=[],min2=[],max2=[],mathMin$2=Math.min,mathMax$2=Math.max,mathCos$3=Math.cos,mathSin$3=Math.sin,mathAbs$1=Math.abs,PI$5=Math.PI,PI2$6=PI$5*2,hasTypedArray=typeof Float32Array<"u",tmpAngles=[];function modPI2(i){var n=Math.round(i/PI$5*1e8)/1e8;return n%2*PI$5}function normalizeArcAngles(i,n){var r=modPI2(i[0]);r<0&&(r+=PI2$6);var o=r-i[0],a=i[1];a+=o,!n&&a-r>=PI2$6?a=r+PI2$6:n&&r-a>=PI2$6?a=r-PI2$6:!n&&r>a?a=r+(PI2$6-modPI2(r-a)):n&&r<a&&(a=r-(PI2$6-modPI2(a-r))),i[0]=r,i[1]=a}var PathProxy=function(){function i(n){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,n&&(this._saveData=!1),this._saveData&&(this.data=[])}return i.prototype.increaseVersion=function(){this._version++},i.prototype.getVersion=function(){return this._version},i.prototype.setScale=function(n,r,o){o=o||0,o>0&&(this._ux=mathAbs$1(o/devicePixelRatio/n)||0,this._uy=mathAbs$1(o/devicePixelRatio/r)||0)},i.prototype.setDPR=function(n){this.dpr=n},i.prototype.setContext=function(n){this._ctx=n},i.prototype.getContext=function(){return this._ctx},i.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},i.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},i.prototype.moveTo=function(n,r){return this._drawPendingPt(),this.addData(CMD$2.M,n,r),this._ctx&&this._ctx.moveTo(n,r),this._x0=n,this._y0=r,this._xi=n,this._yi=r,this},i.prototype.lineTo=function(n,r){var o=mathAbs$1(n-this._xi),a=mathAbs$1(r-this._yi),u=o>this._ux||a>this._uy;if(this.addData(CMD$2.L,n,r),this._ctx&&u&&this._ctx.lineTo(n,r),u)this._xi=n,this._yi=r,this._pendingPtDist=0;else{var c=o*o+a*a;c>this._pendingPtDist&&(this._pendingPtX=n,this._pendingPtY=r,this._pendingPtDist=c)}return this},i.prototype.bezierCurveTo=function(n,r,o,a,u,c){return this._drawPendingPt(),this.addData(CMD$2.C,n,r,o,a,u,c),this._ctx&&this._ctx.bezierCurveTo(n,r,o,a,u,c),this._xi=u,this._yi=c,this},i.prototype.quadraticCurveTo=function(n,r,o,a){return this._drawPendingPt(),this.addData(CMD$2.Q,n,r,o,a),this._ctx&&this._ctx.quadraticCurveTo(n,r,o,a),this._xi=o,this._yi=a,this},i.prototype.arc=function(n,r,o,a,u,c){this._drawPendingPt(),tmpAngles[0]=a,tmpAngles[1]=u,normalizeArcAngles(tmpAngles,c),a=tmpAngles[0],u=tmpAngles[1];var f=u-a;return this.addData(CMD$2.A,n,r,o,o,a,f,0,c?0:1),this._ctx&&this._ctx.arc(n,r,o,a,u,c),this._xi=mathCos$3(u)*o+n,this._yi=mathSin$3(u)*o+r,this},i.prototype.arcTo=function(n,r,o,a,u){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(n,r,o,a,u),this},i.prototype.rect=function(n,r,o,a){return this._drawPendingPt(),this._ctx&&this._ctx.rect(n,r,o,a),this.addData(CMD$2.R,n,r,o,a),this},i.prototype.closePath=function(){this._drawPendingPt(),this.addData(CMD$2.Z);var n=this._ctx,r=this._x0,o=this._y0;return n&&n.closePath(),this._xi=r,this._yi=o,this},i.prototype.fill=function(n){n&&n.fill(),this.toStatic()},i.prototype.stroke=function(n){n&&n.stroke(),this.toStatic()},i.prototype.len=function(){return this._len},i.prototype.setData=function(n){var r=n.length;!(this.data&&this.data.length===r)&&hasTypedArray&&(this.data=new Float32Array(r));for(var o=0;o<r;o++)this.data[o]=n[o];this._len=r},i.prototype.appendPath=function(n){n instanceof Array||(n=[n]);for(var r=n.length,o=0,a=this._len,u=0;u<r;u++)o+=n[u].len();hasTypedArray&&this.data instanceof Float32Array&&(this.data=new Float32Array(a+o));for(var u=0;u<r;u++)for(var c=n[u].data,f=0;f<c.length;f++)this.data[a++]=c[f];this._len=a},i.prototype.addData=function(n,r,o,a,u,c,f,d,h){if(this._saveData){var v=this.data;this._len+arguments.length>v.length&&(this._expandData(),v=this.data);for(var g=0;g<arguments.length;g++)v[this._len++]=arguments[g]}},i.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},i.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var n=[],r=0;r<this._len;r++)n[r]=this.data[r];this.data=n}},i.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var n=this.data;n instanceof Array&&(n.length=this._len,hasTypedArray&&this._len>11&&(this.data=new Float32Array(n)))}},i.prototype.getBoundingRect=function(){min[0]=min[1]=min2[0]=min2[1]=Number.MAX_VALUE,max[0]=max[1]=max2[0]=max2[1]=-Number.MAX_VALUE;var n=this.data,r=0,o=0,a=0,u=0,c;for(c=0;c<this._len;){var f=n[c++],d=c===1;switch(d&&(r=n[c],o=n[c+1],a=r,u=o),f){case CMD$2.M:r=a=n[c++],o=u=n[c++],min2[0]=a,min2[1]=u,max2[0]=a,max2[1]=u;break;case CMD$2.L:fromLine(r,o,n[c],n[c+1],min2,max2),r=n[c++],o=n[c++];break;case CMD$2.C:fromCubic(r,o,n[c++],n[c++],n[c++],n[c++],n[c],n[c+1],min2,max2),r=n[c++],o=n[c++];break;case CMD$2.Q:fromQuadratic(r,o,n[c++],n[c++],n[c],n[c+1],min2,max2),r=n[c++],o=n[c++];break;case CMD$2.A:var h=n[c++],v=n[c++],g=n[c++],p=n[c++],y=n[c++],_=n[c++]+y;c+=1;var b=!n[c++];d&&(a=mathCos$3(y)*g+h,u=mathSin$3(y)*p+v),fromArc(h,v,g,p,y,_,b,min2,max2),r=mathCos$3(_)*g+h,o=mathSin$3(_)*p+v;break;case CMD$2.R:a=r=n[c++],u=o=n[c++];var A=n[c++],w=n[c++];fromLine(a,u,a+A,u+w,min2,max2);break;case CMD$2.Z:r=a,o=u;break}min$1(min,min,min2),max$1(max,max,max2)}return c===0&&(min[0]=min[1]=max[0]=max[1]=0),new BoundingRect$1(min[0],min[1],max[0]-min[0],max[1]-min[1])},i.prototype._calculateLength=function(){var n=this.data,r=this._len,o=this._ux,a=this._uy,u=0,c=0,f=0,d=0;this._pathSegLen||(this._pathSegLen=[]);for(var h=this._pathSegLen,v=0,g=0,p=0;p<r;){var y=n[p++],_=p===1;_&&(u=n[p],c=n[p+1],f=u,d=c);var b=-1;switch(y){case CMD$2.M:u=f=n[p++],c=d=n[p++];break;case CMD$2.L:{var A=n[p++],w=n[p++],S=A-u,T=w-c;(mathAbs$1(S)>o||mathAbs$1(T)>a||p===r-1)&&(b=Math.sqrt(S*S+T*T),u=A,c=w);break}case CMD$2.C:{var x=n[p++],O=n[p++],A=n[p++],w=n[p++],L=n[p++],M=n[p++];b=cubicLength(u,c,x,O,A,w,L,M,10),u=L,c=M;break}case CMD$2.Q:{var x=n[p++],O=n[p++],A=n[p++],w=n[p++];b=quadraticLength(u,c,x,O,A,w,10),u=A,c=w;break}case CMD$2.A:var re=n[p++],F=n[p++],Y=n[p++],V=n[p++],z=n[p++],$=n[p++],pe=$+z;p+=1,n[p++],_&&(f=mathCos$3(z)*Y+re,d=mathSin$3(z)*V+F),b=mathMax$2(Y,V)*mathMin$2(PI2$6,Math.abs($)),u=mathCos$3(pe)*Y+re,c=mathSin$3(pe)*V+F;break;case CMD$2.R:{f=u=n[p++],d=c=n[p++];var le=n[p++],Ie=n[p++];b=le*2+Ie*2;break}case CMD$2.Z:{var S=f-u,T=d-c;b=Math.sqrt(S*S+T*T),u=f,c=d;break}}b>=0&&(h[g++]=b,v+=b)}return this._pathLen=v,v},i.prototype.rebuildPath=function(n,r){var o=this.data,a=this._ux,u=this._uy,c=this._len,f,d,h,v,g,p,y=r<1,_,b,A=0,w=0,S,T=0,x,O;if(!(y&&(this._pathSegLen||this._calculateLength(),_=this._pathSegLen,b=this._pathLen,S=r*b,!S)))e:for(var L=0;L<c;){var M=o[L++],re=L===1;switch(re&&(h=o[L],v=o[L+1],f=h,d=v),M!==CMD$2.L&&T>0&&(n.lineTo(x,O),T=0),M){case CMD$2.M:f=h=o[L++],d=v=o[L++],n.moveTo(h,v);break;case CMD$2.L:{g=o[L++],p=o[L++];var F=mathAbs$1(g-h),Y=mathAbs$1(p-v);if(F>a||Y>u){if(y){var V=_[w++];if(A+V>S){var z=(S-A)/V;n.lineTo(h*(1-z)+g*z,v*(1-z)+p*z);break e}A+=V}n.lineTo(g,p),h=g,v=p,T=0}else{var $=F*F+Y*Y;$>T&&(x=g,O=p,T=$)}break}case CMD$2.C:{var pe=o[L++],le=o[L++],Ie=o[L++],he=o[L++],xe=o[L++],_e=o[L++];if(y){var V=_[w++];if(A+V>S){var z=(S-A)/V;cubicSubdivide(h,pe,Ie,xe,z,tmpOutX),cubicSubdivide(v,le,he,_e,z,tmpOutY),n.bezierCurveTo(tmpOutX[1],tmpOutY[1],tmpOutX[2],tmpOutY[2],tmpOutX[3],tmpOutY[3]);break e}A+=V}n.bezierCurveTo(pe,le,Ie,he,xe,_e),h=xe,v=_e;break}case CMD$2.Q:{var pe=o[L++],le=o[L++],Ie=o[L++],he=o[L++];if(y){var V=_[w++];if(A+V>S){var z=(S-A)/V;quadraticSubdivide(h,pe,Ie,z,tmpOutX),quadraticSubdivide(v,le,he,z,tmpOutY),n.quadraticCurveTo(tmpOutX[1],tmpOutY[1],tmpOutX[2],tmpOutY[2]);break e}A+=V}n.quadraticCurveTo(pe,le,Ie,he),h=Ie,v=he;break}case CMD$2.A:var jt=o[L++],Lt=o[L++],Cn=o[L++],vn=o[L++],kt=o[L++],de=o[L++],qe=o[L++],Et=!o[L++],In=Cn>vn?Cn:vn,$e=mathAbs$1(Cn-vn)>.001,Ce=kt+de,ue=!1;if(y){var V=_[w++];A+V>S&&(Ce=kt+de*(S-A)/V,ue=!0),A+=V}if($e&&n.ellipse?n.ellipse(jt,Lt,Cn,vn,qe,kt,Ce,Et):n.arc(jt,Lt,In,kt,Ce,Et),ue)break e;re&&(f=mathCos$3(kt)*Cn+jt,d=mathSin$3(kt)*vn+Lt),h=mathCos$3(Ce)*Cn+jt,v=mathSin$3(Ce)*vn+Lt;break;case CMD$2.R:f=h=o[L],d=v=o[L+1],g=o[L++],p=o[L++];var At=o[L++],Oe=o[L++];if(y){var V=_[w++];if(A+V>S){var Ve=S-A;n.moveTo(g,p),n.lineTo(g+mathMin$2(Ve,At),p),Ve-=At,Ve>0&&n.lineTo(g+At,p+mathMin$2(Ve,Oe)),Ve-=Oe,Ve>0&&n.lineTo(g+mathMax$2(At-Ve,0),p+Oe),Ve-=At,Ve>0&&n.lineTo(g,p+mathMax$2(Oe-Ve,0));break e}A+=V}n.rect(g,p,At,Oe);break;case CMD$2.Z:if(y){var V=_[w++];if(A+V>S){var z=(S-A)/V;n.lineTo(h*(1-z)+f*z,v*(1-z)+d*z);break e}A+=V}n.closePath(),h=f,v=d}}},i.prototype.clone=function(){var n=new i,r=this.data;return n.data=r.slice?r.slice():Array.prototype.slice.call(r),n._len=this._len,n},i.CMD=CMD$2,i.initDefaultProps=function(){var n=i.prototype;n._saveData=!0,n._ux=0,n._uy=0,n._pendingPtDist=0,n._version=0}(),i}();const PathProxy$1=PathProxy;function containStroke$4(i,n,r,o,a,u,c){if(a===0)return!1;var f=a,d=0,h=i;if(c>n+f&&c>o+f||c<n-f&&c<o-f||u>i+f&&u>r+f||u<i-f&&u<r-f)return!1;if(i!==r)d=(n-o)/(i-r),h=(i*o-r*n)/(i-r);else return Math.abs(u-i)<=f/2;var v=d*u-c+h,g=v*v/(d*d+1);return g<=f/2*f/2}function containStroke$3(i,n,r,o,a,u,c,f,d,h,v){if(d===0)return!1;var g=d;if(v>n+g&&v>o+g&&v>u+g&&v>f+g||v<n-g&&v<o-g&&v<u-g&&v<f-g||h>i+g&&h>r+g&&h>a+g&&h>c+g||h<i-g&&h<r-g&&h<a-g&&h<c-g)return!1;var p=cubicProjectPoint(i,n,r,o,a,u,c,f,h,v,null);return p<=g/2}function containStroke$2(i,n,r,o,a,u,c,f,d){if(c===0)return!1;var h=c;if(d>n+h&&d>o+h&&d>u+h||d<n-h&&d<o-h&&d<u-h||f>i+h&&f>r+h&&f>a+h||f<i-h&&f<r-h&&f<a-h)return!1;var v=quadraticProjectPoint(i,n,r,o,a,u,f,d,null);return v<=h/2}var PI2$5=Math.PI*2;function normalizeRadian(i){return i%=PI2$5,i<0&&(i+=PI2$5),i}var PI2$4=Math.PI*2;function containStroke$1(i,n,r,o,a,u,c,f,d){if(c===0)return!1;var h=c;f-=i,d-=n;var v=Math.sqrt(f*f+d*d);if(v-h>r||v+h<r)return!1;if(Math.abs(o-a)%PI2$4<1e-4)return!0;if(u){var g=o;o=normalizeRadian(a),a=normalizeRadian(g)}else o=normalizeRadian(o),a=normalizeRadian(a);o>a&&(a+=PI2$4);var p=Math.atan2(d,f);return p<0&&(p+=PI2$4),p>=o&&p<=a||p+PI2$4>=o&&p+PI2$4<=a}function windingLine(i,n,r,o,a,u){if(u>n&&u>o||u<n&&u<o||o===n)return 0;var c=(u-n)/(o-n),f=o<n?1:-1;(c===1||c===0)&&(f=o<n?.5:-.5);var d=c*(r-i)+i;return d===a?1/0:d>a?f:0}var CMD$1=PathProxy$1.CMD,PI2$3=Math.PI*2,EPSILON=1e-4;function isAroundEqual(i,n){return Math.abs(i-n)<EPSILON}var roots=[-1,-1,-1],extrema=[-1,-1];function swapExtrema(){var i=extrema[0];extrema[0]=extrema[1],extrema[1]=i}function windingCubic(i,n,r,o,a,u,c,f,d,h){if(h>n&&h>o&&h>u&&h>f||h<n&&h<o&&h<u&&h<f)return 0;var v=cubicRootAt(n,o,u,f,h,roots);if(v===0)return 0;for(var g=0,p=-1,y=void 0,_=void 0,b=0;b<v;b++){var A=roots[b],w=A===0||A===1?.5:1,S=cubicAt(i,r,a,c,A);S<d||(p<0&&(p=cubicExtrema(n,o,u,f,extrema),extrema[1]<extrema[0]&&p>1&&swapExtrema(),y=cubicAt(n,o,u,f,extrema[0]),p>1&&(_=cubicAt(n,o,u,f,extrema[1]))),p===2?A<extrema[0]?g+=y<n?w:-w:A<extrema[1]?g+=_<y?w:-w:g+=f<_?w:-w:A<extrema[0]?g+=y<n?w:-w:g+=f<y?w:-w)}return g}function windingQuadratic(i,n,r,o,a,u,c,f){if(f>n&&f>o&&f>u||f<n&&f<o&&f<u)return 0;var d=quadraticRootAt(n,o,u,f,roots);if(d===0)return 0;var h=quadraticExtremum(n,o,u);if(h>=0&&h<=1){for(var v=0,g=quadraticAt(n,o,u,h),p=0;p<d;p++){var y=roots[p]===0||roots[p]===1?.5:1,_=quadraticAt(i,r,a,roots[p]);_<c||(roots[p]<h?v+=g<n?y:-y:v+=u<g?y:-y)}return v}else{var y=roots[0]===0||roots[0]===1?.5:1,_=quadraticAt(i,r,a,roots[0]);return _<c?0:u<n?y:-y}}function windingArc(i,n,r,o,a,u,c,f){if(f-=n,f>r||f<-r)return 0;var d=Math.sqrt(r*r-f*f);roots[0]=-d,roots[1]=d;var h=Math.abs(o-a);if(h<1e-4)return 0;if(h>=PI2$3-1e-4){o=0,a=PI2$3;var v=u?1:-1;return c>=roots[0]+i&&c<=roots[1]+i?v:0}if(o>a){var g=o;o=a,a=g}o<0&&(o+=PI2$3,a+=PI2$3);for(var p=0,y=0;y<2;y++){var _=roots[y];if(_+i>c){var b=Math.atan2(f,_),v=u?1:-1;b<0&&(b=PI2$3+b),(b>=o&&b<=a||b+PI2$3>=o&&b+PI2$3<=a)&&(b>Math.PI/2&&b<Math.PI*1.5&&(v=-v),p+=v)}}return p}function containPath(i,n,r,o,a){for(var u=i.data,c=i.len(),f=0,d=0,h=0,v=0,g=0,p,y,_=0;_<c;){var b=u[_++],A=_===1;switch(b===CMD$1.M&&_>1&&(r||(f+=windingLine(d,h,v,g,o,a))),A&&(d=u[_],h=u[_+1],v=d,g=h),b){case CMD$1.M:v=u[_++],g=u[_++],d=v,h=g;break;case CMD$1.L:if(r){if(containStroke$4(d,h,u[_],u[_+1],n,o,a))return!0}else f+=windingLine(d,h,u[_],u[_+1],o,a)||0;d=u[_++],h=u[_++];break;case CMD$1.C:if(r){if(containStroke$3(d,h,u[_++],u[_++],u[_++],u[_++],u[_],u[_+1],n,o,a))return!0}else f+=windingCubic(d,h,u[_++],u[_++],u[_++],u[_++],u[_],u[_+1],o,a)||0;d=u[_++],h=u[_++];break;case CMD$1.Q:if(r){if(containStroke$2(d,h,u[_++],u[_++],u[_],u[_+1],n,o,a))return!0}else f+=windingQuadratic(d,h,u[_++],u[_++],u[_],u[_+1],o,a)||0;d=u[_++],h=u[_++];break;case CMD$1.A:var w=u[_++],S=u[_++],T=u[_++],x=u[_++],O=u[_++],L=u[_++];_+=1;var M=!!(1-u[_++]);p=Math.cos(O)*T+w,y=Math.sin(O)*x+S,A?(v=p,g=y):f+=windingLine(d,h,p,y,o,a);var re=(o-w)*x/T+w;if(r){if(containStroke$1(w,S,x,O,O+L,M,n,re,a))return!0}else f+=windingArc(w,S,x,O,O+L,M,re,a);d=Math.cos(O+L)*T+w,h=Math.sin(O+L)*x+S;break;case CMD$1.R:v=d=u[_++],g=h=u[_++];var F=u[_++],Y=u[_++];if(p=v+F,y=g+Y,r){if(containStroke$4(v,g,p,g,n,o,a)||containStroke$4(p,g,p,y,n,o,a)||containStroke$4(p,y,v,y,n,o,a)||containStroke$4(v,y,v,g,n,o,a))return!0}else f+=windingLine(p,g,p,y,o,a),f+=windingLine(v,y,v,g,o,a);break;case CMD$1.Z:if(r){if(containStroke$4(d,h,v,g,n,o,a))return!0}else f+=windingLine(d,h,v,g,o,a);d=v,h=g;break}}return!r&&!isAroundEqual(h,g)&&(f+=windingLine(d,h,v,g,o,a)||0),f!==0}function contain(i,n,r){return containPath(i,0,!1,n,r)}function containStroke(i,n,r,o){return containPath(i,n,!0,r,o)}var DEFAULT_PATH_STYLE=defaults({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},DEFAULT_COMMON_STYLE),DEFAULT_PATH_ANIMATION_PROPS={style:defaults({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},DEFAULT_COMMON_ANIMATION_PROPS.style)},pathCopyParams=TRANSFORMABLE_PROPS.concat(["invisible","culling","z","z2","zlevel","parent"]),Path=function(i){__extends(n,i);function n(r){return i.call(this,r)||this}return n.prototype.update=function(){var r=this;i.prototype.update.call(this);var o=this.style;if(o.decal){var a=this._decalEl=this._decalEl||new n;a.buildPath===n.prototype.buildPath&&(a.buildPath=function(d){r.buildPath(d,r.shape)}),a.silent=!0;var u=a.style;for(var c in o)u[c]!==o[c]&&(u[c]=o[c]);u.fill=o.fill?o.decal:null,u.decal=null,u.shadowColor=null,o.strokeFirst&&(u.stroke=null);for(var f=0;f<pathCopyParams.length;++f)a[pathCopyParams[f]]=this[pathCopyParams[f]];a.__dirty|=REDRAW_BIT}else this._decalEl&&(this._decalEl=null)},n.prototype.getDecalElement=function(){return this._decalEl},n.prototype._init=function(r){var o=keys(r);this.shape=this.getDefaultShape();var a=this.getDefaultStyle();a&&this.useStyle(a);for(var u=0;u<o.length;u++){var c=o[u],f=r[c];c==="style"?this.style?extend(this.style,f):this.useStyle(f):c==="shape"?extend(this.shape,f):i.prototype.attrKV.call(this,c,f)}this.style||this.useStyle({})},n.prototype.getDefaultStyle=function(){return null},n.prototype.getDefaultShape=function(){return{}},n.prototype.canBeInsideText=function(){return this.hasFill()},n.prototype.getInsideTextFill=function(){var r=this.style.fill;if(r!=="none"){if(isString$2(r)){var o=lum(r,0);return o>.5?DARK_LABEL_COLOR:o>.2?LIGHTER_LABEL_COLOR:LIGHT_LABEL_COLOR}else if(r)return LIGHT_LABEL_COLOR}return DARK_LABEL_COLOR},n.prototype.getInsideTextStroke=function(r){var o=this.style.fill;if(isString$2(o)){var a=this.__zr,u=!!(a&&a.isDarkMode()),c=lum(r,0)<DARK_MODE_THRESHOLD;if(u===c)return o}},n.prototype.buildPath=function(r,o,a){},n.prototype.pathUpdated=function(){this.__dirty&=~SHAPE_CHANGED_BIT},n.prototype.getUpdatedPathProxy=function(r){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,r),this.path},n.prototype.createPathProxy=function(){this.path=new PathProxy$1(!1)},n.prototype.hasStroke=function(){var r=this.style,o=r.stroke;return!(o==null||o==="none"||!(r.lineWidth>0))},n.prototype.hasFill=function(){var r=this.style,o=r.fill;return o!=null&&o!=="none"},n.prototype.getBoundingRect=function(){var r=this._rect,o=this.style,a=!r;if(a){var u=!1;this.path||(u=!0,this.createPathProxy());var c=this.path;(u||this.__dirty&SHAPE_CHANGED_BIT)&&(c.beginPath(),this.buildPath(c,this.shape,!1),this.pathUpdated()),r=c.getBoundingRect()}if(this._rect=r,this.hasStroke()&&this.path&&this.path.len()>0){var f=this._rectStroke||(this._rectStroke=r.clone());if(this.__dirty||a){f.copy(r);var d=o.strokeNoScale?this.getLineScale():1,h=o.lineWidth;if(!this.hasFill()){var v=this.strokeContainThreshold;h=Math.max(h,v??4)}d>1e-10&&(f.width+=h/d,f.height+=h/d,f.x-=h/d/2,f.y-=h/d/2)}return f}return r},n.prototype.contain=function(r,o){var a=this.transformCoordToLocal(r,o),u=this.getBoundingRect(),c=this.style;if(r=a[0],o=a[1],u.contain(r,o)){var f=this.path;if(this.hasStroke()){var d=c.lineWidth,h=c.strokeNoScale?this.getLineScale():1;if(h>1e-10&&(this.hasFill()||(d=Math.max(d,this.strokeContainThreshold)),containStroke(f,d/h,r,o)))return!0}if(this.hasFill())return contain(f,r,o)}return!1},n.prototype.dirtyShape=function(){this.__dirty|=SHAPE_CHANGED_BIT,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},n.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},n.prototype.animateShape=function(r){return this.animate("shape",r)},n.prototype.updateDuringAnimation=function(r){r==="style"?this.dirtyStyle():r==="shape"?this.dirtyShape():this.markRedraw()},n.prototype.attrKV=function(r,o){r==="shape"?this.setShape(o):i.prototype.attrKV.call(this,r,o)},n.prototype.setShape=function(r,o){var a=this.shape;return a||(a=this.shape={}),typeof r=="string"?a[r]=o:extend(a,r),this.dirtyShape(),this},n.prototype.shapeChanged=function(){return!!(this.__dirty&SHAPE_CHANGED_BIT)},n.prototype.createStyle=function(r){return createObject(DEFAULT_PATH_STYLE,r)},n.prototype._innerSaveToNormal=function(r){i.prototype._innerSaveToNormal.call(this,r);var o=this._normalState;r.shape&&!o.shape&&(o.shape=extend({},this.shape))},n.prototype._applyStateObj=function(r,o,a,u,c,f){i.prototype._applyStateObj.call(this,r,o,a,u,c,f);var d=!(o&&u),h;if(o&&o.shape?c?u?h=o.shape:(h=extend({},a.shape),extend(h,o.shape)):(h=extend({},u?this.shape:a.shape),extend(h,o.shape)):d&&(h=a.shape),h)if(c){this.shape=extend({},this.shape);for(var v={},g=keys(h),p=0;p<g.length;p++){var y=g[p];typeof h[y]=="object"?this.shape[y]=h[y]:v[y]=h[y]}this._transitionState(r,{shape:v},f)}else this.shape=h,this.dirtyShape()},n.prototype._mergeStates=function(r){for(var o=i.prototype._mergeStates.call(this,r),a,u=0;u<r.length;u++){var c=r[u];c.shape&&(a=a||{},this._mergeStyle(a,c.shape))}return a&&(o.shape=a),o},n.prototype.getAnimationStyleProps=function(){return DEFAULT_PATH_ANIMATION_PROPS},n.prototype.isZeroArea=function(){return!1},n.extend=function(r){var o=function(u){__extends(c,u);function c(f){var d=u.call(this,f)||this;return r.init&&r.init.call(d,f),d}return c.prototype.getDefaultStyle=function(){return clone$2(r.style)},c.prototype.getDefaultShape=function(){return clone$2(r.shape)},c}(n);for(var a in r)typeof r[a]=="function"&&(o.prototype[a]=r[a]);return o},n.initDefaultProps=function(){var r=n.prototype;r.type="path",r.strokeContainThreshold=5,r.segmentIgnoreThreshold=0,r.subPixelOptimize=!1,r.autoBatch=!1,r.__dirty=REDRAW_BIT|STYLE_CHANGED_BIT|SHAPE_CHANGED_BIT}(),n}(Displayable$1);const Path$1=Path;var DEFAULT_TSPAN_STYLE=defaults({strokeFirst:!0,font:DEFAULT_FONT,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},DEFAULT_PATH_STYLE),TSpan=function(i){__extends(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.hasStroke=function(){var r=this.style,o=r.stroke;return o!=null&&o!=="none"&&r.lineWidth>0},n.prototype.hasFill=function(){var r=this.style,o=r.fill;return o!=null&&o!=="none"},n.prototype.createStyle=function(r){return createObject(DEFAULT_TSPAN_STYLE,r)},n.prototype.setBoundingRect=function(r){this._rect=r},n.prototype.getBoundingRect=function(){var r=this.style;if(!this._rect){var o=r.text;o!=null?o+="":o="";var a=getBoundingRect(o,r.font,r.textAlign,r.textBaseline);if(a.x+=r.x||0,a.y+=r.y||0,this.hasStroke()){var u=r.lineWidth;a.x-=u/2,a.y-=u/2,a.width+=u,a.height+=u}this._rect=a}return this._rect},n.initDefaultProps=function(){var r=n.prototype;r.dirtyRectTolerance=10}(),n}(Displayable$1);TSpan.prototype.type="tspan";const TSpan$1=TSpan;var DEFAULT_IMAGE_STYLE=defaults({x:0,y:0},DEFAULT_COMMON_STYLE),DEFAULT_IMAGE_ANIMATION_PROPS={style:defaults({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},DEFAULT_COMMON_ANIMATION_PROPS.style)};function isImageLike$1(i){return!!(i&&typeof i!="string"&&i.width&&i.height)}var ZRImage=function(i){__extends(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.createStyle=function(r){return createObject(DEFAULT_IMAGE_STYLE,r)},n.prototype._getSize=function(r){var o=this.style,a=o[r];if(a!=null)return a;var u=isImageLike$1(o.image)?o.image:this.__image;if(!u)return 0;var c=r==="width"?"height":"width",f=o[c];return f==null?u[r]:u[r]/u[c]*f},n.prototype.getWidth=function(){return this._getSize("width")},n.prototype.getHeight=function(){return this._getSize("height")},n.prototype.getAnimationStyleProps=function(){return DEFAULT_IMAGE_ANIMATION_PROPS},n.prototype.getBoundingRect=function(){var r=this.style;return this._rect||(this._rect=new BoundingRect$1(r.x||0,r.y||0,this.getWidth(),this.getHeight())),this._rect},n}(Displayable$1);ZRImage.prototype.type="image";const ZRImage$1=ZRImage;function buildPath$2(i,n){var r=n.x,o=n.y,a=n.width,u=n.height,c=n.r,f,d,h,v;a<0&&(r=r+a,a=-a),u<0&&(o=o+u,u=-u),typeof c=="number"?f=d=h=v=c:c instanceof Array?c.length===1?f=d=h=v=c[0]:c.length===2?(f=h=c[0],d=v=c[1]):c.length===3?(f=c[0],d=v=c[1],h=c[2]):(f=c[0],d=c[1],h=c[2],v=c[3]):f=d=h=v=0;var g;f+d>a&&(g=f+d,f*=a/g,d*=a/g),h+v>a&&(g=h+v,h*=a/g,v*=a/g),d+h>u&&(g=d+h,d*=u/g,h*=u/g),f+v>u&&(g=f+v,f*=u/g,v*=u/g),i.moveTo(r+f,o),i.lineTo(r+a-d,o),d!==0&&i.arc(r+a-d,o+d,d,-Math.PI/2,0),i.lineTo(r+a,o+u-h),h!==0&&i.arc(r+a-h,o+u-h,h,0,Math.PI/2),i.lineTo(r+v,o+u),v!==0&&i.arc(r+v,o+u-v,v,Math.PI/2,Math.PI),i.lineTo(r,o+f),f!==0&&i.arc(r+f,o+f,f,Math.PI,Math.PI*1.5)}var round$1=Math.round;function subPixelOptimizeLine$1(i,n,r){if(n){var o=n.x1,a=n.x2,u=n.y1,c=n.y2;i.x1=o,i.x2=a,i.y1=u,i.y2=c;var f=r&&r.lineWidth;return f&&(round$1(o*2)===round$1(a*2)&&(i.x1=i.x2=subPixelOptimize$1(o,f,!0)),round$1(u*2)===round$1(c*2)&&(i.y1=i.y2=subPixelOptimize$1(u,f,!0))),i}}function subPixelOptimizeRect$1(i,n,r){if(n){var o=n.x,a=n.y,u=n.width,c=n.height;i.x=o,i.y=a,i.width=u,i.height=c;var f=r&&r.lineWidth;return f&&(i.x=subPixelOptimize$1(o,f,!0),i.y=subPixelOptimize$1(a,f,!0),i.width=Math.max(subPixelOptimize$1(o+u,f,!1)-i.x,u===0?0:1),i.height=Math.max(subPixelOptimize$1(a+c,f,!1)-i.y,c===0?0:1)),i}}function subPixelOptimize$1(i,n,r){if(!n)return i;var o=round$1(i*2);return(o+round$1(n))%2===0?o/2:(o+(r?1:-1))/2}var RectShape=function(){function i(){this.x=0,this.y=0,this.width=0,this.height=0}return i}(),subPixelOptimizeOutputShape$1={},Rect=function(i){__extends(n,i);function n(r){return i.call(this,r)||this}return n.prototype.getDefaultShape=function(){return new RectShape},n.prototype.buildPath=function(r,o){var a,u,c,f;if(this.subPixelOptimize){var d=subPixelOptimizeRect$1(subPixelOptimizeOutputShape$1,o,this.style);a=d.x,u=d.y,c=d.width,f=d.height,d.r=o.r,o=d}else a=o.x,u=o.y,c=o.width,f=o.height;o.r?buildPath$2(r,o):r.rect(a,u,c,f)},n.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},n}(Path$1);Rect.prototype.type="rect";const Rect$1=Rect;var DEFAULT_RICH_TEXT_COLOR={fill:"#000"},DEFAULT_STROKE_LINE_WIDTH=2,DEFAULT_TEXT_ANIMATION_PROPS={style:defaults({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},DEFAULT_COMMON_ANIMATION_PROPS.style)},ZRText=function(i){__extends(n,i);function n(r){var o=i.call(this)||this;return o.type="text",o._children=[],o._defaultStyle=DEFAULT_RICH_TEXT_COLOR,o.attr(r),o}return n.prototype.childrenRef=function(){return this._children},n.prototype.update=function(){i.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var r=0;r<this._children.length;r++){var o=this._children[r];o.zlevel=this.zlevel,o.z=this.z,o.z2=this.z2,o.culling=this.culling,o.cursor=this.cursor,o.invisible=this.invisible}},n.prototype.updateTransform=function(){var r=this.innerTransformable;r?(r.updateTransform(),r.transform&&(this.transform=r.transform)):i.prototype.updateTransform.call(this)},n.prototype.getLocalTransform=function(r){var o=this.innerTransformable;return o?o.getLocalTransform(r):i.prototype.getLocalTransform.call(this,r)},n.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),i.prototype.getComputedTransform.call(this)},n.prototype._updateSubTexts=function(){this._childCursor=0,normalizeTextStyle(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},n.prototype.addSelfToZr=function(r){i.prototype.addSelfToZr.call(this,r);for(var o=0;o<this._children.length;o++)this._children[o].__zr=r},n.prototype.removeSelfFromZr=function(r){i.prototype.removeSelfFromZr.call(this,r);for(var o=0;o<this._children.length;o++)this._children[o].__zr=null},n.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var r=new BoundingRect$1(0,0,0,0),o=this._children,a=[],u=null,c=0;c<o.length;c++){var f=o[c],d=f.getBoundingRect(),h=f.getLocalTransform(a);h?(r.copy(d),r.applyTransform(h),u=u||r.clone(),u.union(r)):(u=u||d.clone(),u.union(d))}this._rect=u||r}return this._rect},n.prototype.setDefaultTextStyle=function(r){this._defaultStyle=r||DEFAULT_RICH_TEXT_COLOR},n.prototype.setTextContent=function(r){if(process.env.NODE_ENV!=="production")throw new Error("Can't attach text on another text")},n.prototype._mergeStyle=function(r,o){if(!o)return r;var a=o.rich,u=r.rich||a&&{};return extend(r,o),a&&u?(this._mergeRich(u,a),r.rich=u):u&&(r.rich=u),r},n.prototype._mergeRich=function(r,o){for(var a=keys(o),u=0;u<a.length;u++){var c=a[u];r[c]=r[c]||{},extend(r[c],o[c])}},n.prototype.getAnimationStyleProps=function(){return DEFAULT_TEXT_ANIMATION_PROPS},n.prototype._getOrCreateChild=function(r){var o=this._children[this._childCursor];return(!o||!(o instanceof r))&&(o=new r),this._children[this._childCursor++]=o,o.__zr=this.__zr,o.parent=this,o},n.prototype._updatePlainTexts=function(){var r=this.style,o=r.font||DEFAULT_FONT,a=r.padding,u=getStyleText(r),c=parsePlainText(u,r),f=needDrawBackground(r),d=!!r.backgroundColor,h=c.outerHeight,v=c.outerWidth,g=c.contentWidth,p=c.lines,y=c.lineHeight,_=this._defaultStyle,b=r.x||0,A=r.y||0,w=r.align||_.align||"left",S=r.verticalAlign||_.verticalAlign||"top",T=b,x=adjustTextY(A,c.contentHeight,S);if(f||a){var O=adjustTextX(b,v,w),L=adjustTextY(A,h,S);f&&this._renderBackground(r,r,O,L,v,h)}x+=y/2,a&&(T=getTextXForPadding(b,w,a),S==="top"?x+=a[0]:S==="bottom"&&(x-=a[2]));for(var M=0,re=!1,F=getFill("fill"in r?r.fill:(re=!0,_.fill)),Y=getStroke("stroke"in r?r.stroke:!d&&(!_.autoStroke||re)?(M=DEFAULT_STROKE_LINE_WIDTH,_.stroke):null),V=r.textShadowBlur>0,z=r.width!=null&&(r.overflow==="truncate"||r.overflow==="break"||r.overflow==="breakAll"),$=c.calculatedLineHeight,pe=0;pe<p.length;pe++){var le=this._getOrCreateChild(TSpan$1),Ie=le.createStyle();le.useStyle(Ie),Ie.text=p[pe],Ie.x=T,Ie.y=x,w&&(Ie.textAlign=w),Ie.textBaseline="middle",Ie.opacity=r.opacity,Ie.strokeFirst=!0,V&&(Ie.shadowBlur=r.textShadowBlur||0,Ie.shadowColor=r.textShadowColor||"transparent",Ie.shadowOffsetX=r.textShadowOffsetX||0,Ie.shadowOffsetY=r.textShadowOffsetY||0),Ie.stroke=Y,Ie.fill=F,Y&&(Ie.lineWidth=r.lineWidth||M,Ie.lineDash=r.lineDash,Ie.lineDashOffset=r.lineDashOffset||0),Ie.font=o,setSeparateFont(Ie,r),x+=y,z&&le.setBoundingRect(new BoundingRect$1(adjustTextX(Ie.x,r.width,Ie.textAlign),adjustTextY(Ie.y,$,Ie.textBaseline),g,$))}},n.prototype._updateRichTexts=function(){var r=this.style,o=getStyleText(r),a=parseRichText(o,r),u=a.width,c=a.outerWidth,f=a.outerHeight,d=r.padding,h=r.x||0,v=r.y||0,g=this._defaultStyle,p=r.align||g.align,y=r.verticalAlign||g.verticalAlign,_=adjustTextX(h,c,p),b=adjustTextY(v,f,y),A=_,w=b;d&&(A+=d[3],w+=d[0]);var S=A+u;needDrawBackground(r)&&this._renderBackground(r,r,_,b,c,f);for(var T=!!r.backgroundColor,x=0;x<a.lines.length;x++){for(var O=a.lines[x],L=O.tokens,M=L.length,re=O.lineHeight,F=O.width,Y=0,V=A,z=S,$=M-1,pe=void 0;Y<M&&(pe=L[Y],!pe.align||pe.align==="left");)this._placeToken(pe,r,re,w,V,"left",T),F-=pe.width,V+=pe.width,Y++;for(;$>=0&&(pe=L[$],pe.align==="right");)this._placeToken(pe,r,re,w,z,"right",T),F-=pe.width,z-=pe.width,$--;for(V+=(u-(V-A)-(S-z)-F)/2;Y<=$;)pe=L[Y],this._placeToken(pe,r,re,w,V+pe.width/2,"center",T),V+=pe.width,Y++;w+=re}},n.prototype._placeToken=function(r,o,a,u,c,f,d){var h=o.rich[r.styleName]||{};h.text=r.text;var v=r.verticalAlign,g=u+a/2;v==="top"?g=u+r.height/2:v==="bottom"&&(g=u+a-r.height/2);var p=!r.isLineHolder&&needDrawBackground(h);p&&this._renderBackground(h,o,f==="right"?c-r.width:f==="center"?c-r.width/2:c,g-r.height/2,r.width,r.height);var y=!!h.backgroundColor,_=r.textPadding;_&&(c=getTextXForPadding(c,f,_),g-=r.height/2-_[0]-r.innerHeight/2);var b=this._getOrCreateChild(TSpan$1),A=b.createStyle();b.useStyle(A);var w=this._defaultStyle,S=!1,T=0,x=getFill("fill"in h?h.fill:"fill"in o?o.fill:(S=!0,w.fill)),O=getStroke("stroke"in h?h.stroke:"stroke"in o?o.stroke:!y&&!d&&(!w.autoStroke||S)?(T=DEFAULT_STROKE_LINE_WIDTH,w.stroke):null),L=h.textShadowBlur>0||o.textShadowBlur>0;A.text=r.text,A.x=c,A.y=g,L&&(A.shadowBlur=h.textShadowBlur||o.textShadowBlur||0,A.shadowColor=h.textShadowColor||o.textShadowColor||"transparent",A.shadowOffsetX=h.textShadowOffsetX||o.textShadowOffsetX||0,A.shadowOffsetY=h.textShadowOffsetY||o.textShadowOffsetY||0),A.textAlign=f,A.textBaseline="middle",A.font=r.font||DEFAULT_FONT,A.opacity=retrieve3(h.opacity,o.opacity,1),setSeparateFont(A,h),O&&(A.lineWidth=retrieve3(h.lineWidth,o.lineWidth,T),A.lineDash=retrieve2(h.lineDash,o.lineDash),A.lineDashOffset=o.lineDashOffset||0,A.stroke=O),x&&(A.fill=x);var M=r.contentWidth,re=r.contentHeight;b.setBoundingRect(new BoundingRect$1(adjustTextX(A.x,M,A.textAlign),adjustTextY(A.y,re,A.textBaseline),M,re))},n.prototype._renderBackground=function(r,o,a,u,c,f){var d=r.backgroundColor,h=r.borderWidth,v=r.borderColor,g=d&&d.image,p=d&&!g,y=r.borderRadius,_=this,b,A;if(p||r.lineHeight||h&&v){b=this._getOrCreateChild(Rect$1),b.useStyle(b.createStyle()),b.style.fill=null;var w=b.shape;w.x=a,w.y=u,w.width=c,w.height=f,w.r=y,b.dirtyShape()}if(p){var S=b.style;S.fill=d||null,S.fillOpacity=retrieve2(r.fillOpacity,1)}else if(g){A=this._getOrCreateChild(ZRImage$1),A.onload=function(){_.dirtyStyle()};var T=A.style;T.image=d.image,T.x=a,T.y=u,T.width=c,T.height=f}if(h&&v){var S=b.style;S.lineWidth=h,S.stroke=v,S.strokeOpacity=retrieve2(r.strokeOpacity,1),S.lineDash=r.borderDash,S.lineDashOffset=r.borderDashOffset||0,b.strokeContainThreshold=0,b.hasFill()&&b.hasStroke()&&(S.strokeFirst=!0,S.lineWidth*=2)}var x=(b||A).style;x.shadowBlur=r.shadowBlur||0,x.shadowColor=r.shadowColor||"transparent",x.shadowOffsetX=r.shadowOffsetX||0,x.shadowOffsetY=r.shadowOffsetY||0,x.opacity=retrieve3(r.opacity,o.opacity,1)},n.makeFont=function(r){var o="";return hasSeparateFont(r)&&(o=[r.fontStyle,r.fontWeight,parseFontSize(r.fontSize),r.fontFamily||"sans-serif"].join(" ")),o&&trim(o)||r.textFont||r.font},n}(Displayable$1),VALID_TEXT_ALIGN={left:!0,right:1,center:1},VALID_TEXT_VERTICAL_ALIGN={top:1,bottom:1,middle:1},FONT_PARTS=["fontStyle","fontWeight","fontSize","fontFamily"];function parseFontSize(i){return typeof i=="string"&&(i.indexOf("px")!==-1||i.indexOf("rem")!==-1||i.indexOf("em")!==-1)?i:isNaN(+i)?DEFAULT_FONT_SIZE+"px":i+"px"}function setSeparateFont(i,n){for(var r=0;r<FONT_PARTS.length;r++){var o=FONT_PARTS[r],a=n[o];a!=null&&(i[o]=a)}}function hasSeparateFont(i){return i.fontSize!=null||i.fontFamily||i.fontWeight}function normalizeTextStyle(i){return normalizeStyle(i),each$4(i.rich,normalizeStyle),i}function normalizeStyle(i){if(i){i.font=ZRText.makeFont(i);var n=i.align;n==="middle"&&(n="center"),i.align=n==null||VALID_TEXT_ALIGN[n]?n:"left";var r=i.verticalAlign;r==="center"&&(r="middle"),i.verticalAlign=r==null||VALID_TEXT_VERTICAL_ALIGN[r]?r:"top";var o=i.padding;o&&(i.padding=normalizeCssArray$1(i.padding))}}function getStroke(i,n){return i==null||n<=0||i==="transparent"||i==="none"?null:i.image||i.colorStops?"#000":i}function getFill(i){return i==null||i==="none"?null:i.image||i.colorStops?"#000":i}function getTextXForPadding(i,n,r){return n==="right"?i-r[1]:n==="center"?i+r[3]/2-r[1]/2:i+r[3]}function getStyleText(i){var n=i.text;return n!=null&&(n+=""),n}function needDrawBackground(i){return!!(i.backgroundColor||i.lineHeight||i.borderWidth&&i.borderColor)}const ZRText$1=ZRText;var getECData=makeInner(),setCommonECData=function(i,n,r,o){if(o){var a=getECData(o);a.dataIndex=r,a.dataType=n,a.seriesIndex=i,o.type==="group"&&o.traverse(function(u){var c=getECData(u);c.seriesIndex=i,c.dataIndex=r,c.dataType=n})}},_highlightNextDigit=1,_highlightKeyMap={},getSavedStates=makeInner(),getComponentStates=makeInner(),HOVER_STATE_NORMAL=0,HOVER_STATE_BLUR=1,HOVER_STATE_EMPHASIS=2,SPECIAL_STATES=["emphasis","blur","select"],DISPLAY_STATES=["normal","emphasis","blur","select"],Z2_EMPHASIS_LIFT=10,Z2_SELECT_LIFT=9,HIGHLIGHT_ACTION_TYPE="highlight",DOWNPLAY_ACTION_TYPE="downplay",SELECT_ACTION_TYPE="select",UNSELECT_ACTION_TYPE="unselect",TOGGLE_SELECT_ACTION_TYPE="toggleSelect";function hasFillOrStroke(i){return i!=null&&i!=="none"}var liftedColorCache=new LRU$1(100);function liftColor(i){if(isString$2(i)){var n=liftedColorCache.get(i);return n||(n=lift(i,-.1),liftedColorCache.put(i,n)),n}else if(isGradientObject(i)){var r=extend({},i);return r.colorStops=map$1(i.colorStops,function(o){return{offset:o.offset,color:lift(o.color,-.1)}}),r}return i}function doChangeHoverState(i,n,r){i.onHoverStateChange&&(i.hoverState||0)!==r&&i.onHoverStateChange(n),i.hoverState=r}function singleEnterEmphasis(i){doChangeHoverState(i,"emphasis",HOVER_STATE_EMPHASIS)}function singleLeaveEmphasis(i){i.hoverState===HOVER_STATE_EMPHASIS&&doChangeHoverState(i,"normal",HOVER_STATE_NORMAL)}function singleEnterBlur(i){doChangeHoverState(i,"blur",HOVER_STATE_BLUR)}function singleLeaveBlur(i){i.hoverState===HOVER_STATE_BLUR&&doChangeHoverState(i,"normal",HOVER_STATE_NORMAL)}function singleEnterSelect(i){i.selected=!0}function singleLeaveSelect(i){i.selected=!1}function updateElementState(i,n,r){n(i,r)}function traverseUpdateState(i,n,r){updateElementState(i,n,r),i.isGroup&&i.traverse(function(o){updateElementState(o,n,r)})}function getFromStateStyle(i,n,r,o){for(var a=i.style,u={},c=0;c<n.length;c++){var f=n[c],d=a[f];u[f]=d??(o&&o[f])}for(var c=0;c<i.animators.length;c++){var h=i.animators[c];h.__fromStateTransition&&h.__fromStateTransition.indexOf(r)<0&&h.targetName==="style"&&h.saveTo(u,n)}return u}function createEmphasisDefaultState(i,n,r,o){var a=r&&indexOf(r,"select")>=0,u=!1;if(i instanceof Path$1){var c=getSavedStates(i),f=a&&c.selectFill||c.normalFill,d=a&&c.selectStroke||c.normalStroke;if(hasFillOrStroke(f)||hasFillOrStroke(d)){o=o||{};var h=o.style||{};h.fill==="inherit"?(u=!0,o=extend({},o),h=extend({},h),h.fill=f):!hasFillOrStroke(h.fill)&&hasFillOrStroke(f)?(u=!0,o=extend({},o),h=extend({},h),h.fill=liftColor(f)):!hasFillOrStroke(h.stroke)&&hasFillOrStroke(d)&&(u||(o=extend({},o),h=extend({},h)),h.stroke=liftColor(d)),o.style=h}}if(o&&o.z2==null){u||(o=extend({},o));var v=i.z2EmphasisLift;o.z2=i.z2+(v??Z2_EMPHASIS_LIFT)}return o}function createSelectDefaultState(i,n,r){if(r&&r.z2==null){r=extend({},r);var o=i.z2SelectLift;r.z2=i.z2+(o??Z2_SELECT_LIFT)}return r}function createBlurDefaultState(i,n,r){var o=indexOf(i.currentStates,n)>=0,a=i.style.opacity,u=o?null:getFromStateStyle(i,["opacity"],n,{opacity:1});r=r||{};var c=r.style||{};return c.opacity==null&&(r=extend({},r),c=extend({opacity:o?a:u.opacity*.1},c),r.style=c),r}function elementStateProxy(i,n){var r=this.states[i];if(this.style){if(i==="emphasis")return createEmphasisDefaultState(this,i,n,r);if(i==="blur")return createBlurDefaultState(this,i,r);if(i==="select")return createSelectDefaultState(this,i,r)}return r}function setDefaultStateProxy(i){i.stateProxy=elementStateProxy;var n=i.getTextContent(),r=i.getTextGuideLine();n&&(n.stateProxy=elementStateProxy),r&&(r.stateProxy=elementStateProxy)}function enterEmphasisWhenMouseOver(i,n){!shouldSilent(i,n)&&!i.__highByOuter&&traverseUpdateState(i,singleEnterEmphasis)}function leaveEmphasisWhenMouseOut(i,n){!shouldSilent(i,n)&&!i.__highByOuter&&traverseUpdateState(i,singleLeaveEmphasis)}function enterEmphasis(i,n){i.__highByOuter|=1<<(n||0),traverseUpdateState(i,singleEnterEmphasis)}function leaveEmphasis(i,n){!(i.__highByOuter&=~(1<<(n||0)))&&traverseUpdateState(i,singleLeaveEmphasis)}function enterBlur(i){traverseUpdateState(i,singleEnterBlur)}function leaveBlur(i){traverseUpdateState(i,singleLeaveBlur)}function enterSelect(i){traverseUpdateState(i,singleEnterSelect)}function leaveSelect(i){traverseUpdateState(i,singleLeaveSelect)}function shouldSilent(i,n){return i.__highDownSilentOnTouch&&n.zrByTouch}function allLeaveBlur(i){var n=i.getModel(),r=[],o=[];n.eachComponent(function(a,u){var c=getComponentStates(u),f=a==="series",d=f?i.getViewOfSeriesModel(u):i.getViewOfComponentModel(u);!f&&o.push(d),c.isBlured&&(d.group.traverse(function(h){singleLeaveBlur(h)}),f&&r.push(u)),c.isBlured=!1}),each$4(o,function(a){a&&a.toggleBlurSeries&&a.toggleBlurSeries(r,!1,n)})}function blurSeries(i,n,r,o){var a=o.getModel();r=r||"coordinateSystem";function u(h,v){for(var g=0;g<v.length;g++){var p=h.getItemGraphicEl(v[g]);p&&leaveBlur(p)}}if(i!=null&&!(!n||n==="none")){var c=a.getSeriesByIndex(i),f=c.coordinateSystem;f&&f.master&&(f=f.master);var d=[];a.eachSeries(function(h){var v=c===h,g=h.coordinateSystem;g&&g.master&&(g=g.master);var p=g&&f?g===f:v;if(!(r==="series"&&!v||r==="coordinateSystem"&&!p||n==="series"&&v)){var y=o.getViewOfSeriesModel(h);if(y.group.traverse(function(A){singleEnterBlur(A)}),isArrayLike(n))u(h.getData(),n);else if(isObject$3(n))for(var _=keys(n),b=0;b<_.length;b++)u(h.getData(_[b]),n[_[b]]);d.push(h),getComponentStates(h).isBlured=!0}}),a.eachComponent(function(h,v){if(h!=="series"){var g=o.getViewOfComponentModel(v);g&&g.toggleBlurSeries&&g.toggleBlurSeries(d,!0,a)}})}}function blurComponent(i,n,r){if(!(i==null||n==null)){var o=r.getModel().getComponent(i,n);if(o){getComponentStates(o).isBlured=!0;var a=r.getViewOfComponentModel(o);!a||!a.focusBlurEnabled||a.group.traverse(function(u){singleEnterBlur(u)})}}}function blurSeriesFromHighlightPayload(i,n,r){var o=i.seriesIndex,a=i.getData(n.dataType);if(!a){process.env.NODE_ENV!=="production"&&error("Unknown dataType "+n.dataType);return}var u=queryDataIndex(a,n);u=(isArray$1(u)?u[0]:u)||0;var c=a.getItemGraphicEl(u);if(!c)for(var f=a.count(),d=0;!c&&d<f;)c=a.getItemGraphicEl(d++);if(c){var h=getECData(c);blurSeries(o,h.focus,h.blurScope,r)}else{var v=i.get(["emphasis","focus"]),g=i.get(["emphasis","blurScope"]);v!=null&&blurSeries(o,v,g,r)}}function findComponentHighDownDispatchers(i,n,r,o){var a={focusSelf:!1,dispatchers:null};if(i==null||i==="series"||n==null||r==null)return a;var u=o.getModel().getComponent(i,n);if(!u)return a;var c=o.getViewOfComponentModel(u);if(!c||!c.findHighDownDispatchers)return a;for(var f=c.findHighDownDispatchers(r),d,h=0;h<f.length;h++)if(process.env.NODE_ENV!=="production"&&!isHighDownDispatcher(f[h])&&error("param should be highDownDispatcher"),getECData(f[h]).focus==="self"){d=!0;break}return{focusSelf:d,dispatchers:f}}function handleGlobalMouseOverForHighDown(i,n,r){process.env.NODE_ENV!=="production"&&!isHighDownDispatcher(i)&&error("param should be highDownDispatcher");var o=getECData(i),a=findComponentHighDownDispatchers(o.componentMainType,o.componentIndex,o.componentHighDownName,r),u=a.dispatchers,c=a.focusSelf;u?(c&&blurComponent(o.componentMainType,o.componentIndex,r),each$4(u,function(f){return enterEmphasisWhenMouseOver(f,n)})):(blurSeries(o.seriesIndex,o.focus,o.blurScope,r),o.focus==="self"&&blurComponent(o.componentMainType,o.componentIndex,r),enterEmphasisWhenMouseOver(i,n))}function handleGlobalMouseOutForHighDown(i,n,r){process.env.NODE_ENV!=="production"&&!isHighDownDispatcher(i)&&error("param should be highDownDispatcher"),allLeaveBlur(r);var o=getECData(i),a=findComponentHighDownDispatchers(o.componentMainType,o.componentIndex,o.componentHighDownName,r).dispatchers;a?each$4(a,function(u){return leaveEmphasisWhenMouseOut(u,n)}):leaveEmphasisWhenMouseOut(i,n)}function toggleSelectionFromPayload(i,n,r){if(isSelectChangePayload(n)){var o=n.dataType,a=i.getData(o),u=queryDataIndex(a,n);isArray$1(u)||(u=[u]),i[n.type===TOGGLE_SELECT_ACTION_TYPE?"toggleSelect":n.type===SELECT_ACTION_TYPE?"select":"unselect"](u,o)}}function updateSeriesElementSelection(i){var n=i.getAllData();each$4(n,function(r){var o=r.data,a=r.type;o.eachItemGraphicEl(function(u,c){i.isSelected(c,a)?enterSelect(u):leaveSelect(u)})})}function getAllSelectedIndices(i){var n=[];return i.eachSeries(function(r){var o=r.getAllData();each$4(o,function(a){a.data;var u=a.type,c=r.getSelectedDataIndices();if(c.length>0){var f={dataIndex:c,seriesIndex:r.seriesIndex};u!=null&&(f.dataType=u),n.push(f)}})}),n}function enableHoverEmphasis(i,n,r){setAsHighDownDispatcher(i,!0),traverseUpdateState(i,setDefaultStateProxy),enableHoverFocus(i,n,r)}function disableHoverEmphasis(i){setAsHighDownDispatcher(i,!1)}function toggleHoverEmphasis(i,n,r,o){o?disableHoverEmphasis(i):enableHoverEmphasis(i,n,r)}function enableHoverFocus(i,n,r){var o=getECData(i);n!=null?(o.focus=n,o.blurScope=r):o.focus&&(o.focus=null)}var OTHER_STATES=["emphasis","blur","select"],defaultStyleGetterMap={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function setStatesStylesFromModel(i,n,r,o){r=r||"itemStyle";for(var a=0;a<OTHER_STATES.length;a++){var u=OTHER_STATES[a],c=n.getModel([u,r]),f=i.ensureState(u);f.style=o?o(c):c[defaultStyleGetterMap[r]]()}}function setAsHighDownDispatcher(i,n){var r=n===!1,o=i;i.highDownSilentOnTouch&&(o.__highDownSilentOnTouch=i.highDownSilentOnTouch),(!r||o.__highDownDispatcher)&&(o.__highByOuter=o.__highByOuter||0,o.__highDownDispatcher=!r)}function isHighDownDispatcher(i){return!!(i&&i.__highDownDispatcher)}function getHighlightDigit(i){var n=_highlightKeyMap[i];return n==null&&_highlightNextDigit<=32&&(n=_highlightKeyMap[i]=_highlightNextDigit++),n}function isSelectChangePayload(i){var n=i.type;return n===SELECT_ACTION_TYPE||n===UNSELECT_ACTION_TYPE||n===TOGGLE_SELECT_ACTION_TYPE}function isHighDownPayload(i){var n=i.type;return n===HIGHLIGHT_ACTION_TYPE||n===DOWNPLAY_ACTION_TYPE}function savePathStates(i){var n=getSavedStates(i);n.normalFill=i.style.fill,n.normalStroke=i.style.stroke;var r=i.states.select||{};n.selectFill=r.style&&r.style.fill||null,n.selectStroke=r.style&&r.style.stroke||null}var CMD=PathProxy$1.CMD,points=[[],[],[]],mathSqrt$2=Math.sqrt,mathAtan2=Math.atan2;function transformPath(i,n){if(n){var r=i.data,o=i.len(),a,u,c,f,d,h,v=CMD.M,g=CMD.C,p=CMD.L,y=CMD.R,_=CMD.A,b=CMD.Q;for(c=0,f=0;c<o;){switch(a=r[c++],f=c,u=0,a){case v:u=1;break;case p:u=1;break;case g:u=3;break;case b:u=2;break;case _:var A=n[4],w=n[5],S=mathSqrt$2(n[0]*n[0]+n[1]*n[1]),T=mathSqrt$2(n[2]*n[2]+n[3]*n[3]),x=mathAtan2(-n[1]/T,n[0]/S);r[c]*=S,r[c++]+=A,r[c]*=T,r[c++]+=w,r[c++]*=S,r[c++]*=T,r[c++]+=x,r[c++]+=x,c+=2,f=c;break;case y:h[0]=r[c++],h[1]=r[c++],applyTransform$1(h,h,n),r[f++]=h[0],r[f++]=h[1],h[0]+=r[c++],h[1]+=r[c++],applyTransform$1(h,h,n),r[f++]=h[0],r[f++]=h[1]}for(d=0;d<u;d++){var O=points[d];O[0]=r[c++],O[1]=r[c++],applyTransform$1(O,O,n),r[f++]=O[0],r[f++]=O[1]}}i.increaseVersion()}}var mathSqrt$1=Math.sqrt,mathSin$2=Math.sin,mathCos$2=Math.cos,PI$4=Math.PI;function vMag(i){return Math.sqrt(i[0]*i[0]+i[1]*i[1])}function vRatio(i,n){return(i[0]*n[0]+i[1]*n[1])/(vMag(i)*vMag(n))}function vAngle(i,n){return(i[0]*n[1]<i[1]*n[0]?-1:1)*Math.acos(vRatio(i,n))}function processArc(i,n,r,o,a,u,c,f,d,h,v){var g=d*(PI$4/180),p=mathCos$2(g)*(i-r)/2+mathSin$2(g)*(n-o)/2,y=-1*mathSin$2(g)*(i-r)/2+mathCos$2(g)*(n-o)/2,_=p*p/(c*c)+y*y/(f*f);_>1&&(c*=mathSqrt$1(_),f*=mathSqrt$1(_));var b=(a===u?-1:1)*mathSqrt$1((c*c*(f*f)-c*c*(y*y)-f*f*(p*p))/(c*c*(y*y)+f*f*(p*p)))||0,A=b*c*y/f,w=b*-f*p/c,S=(i+r)/2+mathCos$2(g)*A-mathSin$2(g)*w,T=(n+o)/2+mathSin$2(g)*A+mathCos$2(g)*w,x=vAngle([1,0],[(p-A)/c,(y-w)/f]),O=[(p-A)/c,(y-w)/f],L=[(-1*p-A)/c,(-1*y-w)/f],M=vAngle(O,L);if(vRatio(O,L)<=-1&&(M=PI$4),vRatio(O,L)>=1&&(M=0),M<0){var re=Math.round(M/PI$4*1e6)/1e6;M=PI$4*2+re%2*PI$4}v.addData(h,S,T,c,f,x,M,g,u)}var commandReg=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,numberReg=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function createPathProxyFromString(i){var n=new PathProxy$1;if(!i)return n;var r=0,o=0,a=r,u=o,c,f=PathProxy$1.CMD,d=i.match(commandReg);if(!d)return n;for(var h=0;h<d.length;h++){for(var v=d[h],g=v.charAt(0),p=void 0,y=v.match(numberReg)||[],_=y.length,b=0;b<_;b++)y[b]=parseFloat(y[b]);for(var A=0;A<_;){var w=void 0,S=void 0,T=void 0,x=void 0,O=void 0,L=void 0,M=void 0,re=r,F=o,Y=void 0,V=void 0;switch(g){case"l":r+=y[A++],o+=y[A++],p=f.L,n.addData(p,r,o);break;case"L":r=y[A++],o=y[A++],p=f.L,n.addData(p,r,o);break;case"m":r+=y[A++],o+=y[A++],p=f.M,n.addData(p,r,o),a=r,u=o,g="l";break;case"M":r=y[A++],o=y[A++],p=f.M,n.addData(p,r,o),a=r,u=o,g="L";break;case"h":r+=y[A++],p=f.L,n.addData(p,r,o);break;case"H":r=y[A++],p=f.L,n.addData(p,r,o);break;case"v":o+=y[A++],p=f.L,n.addData(p,r,o);break;case"V":o=y[A++],p=f.L,n.addData(p,r,o);break;case"C":p=f.C,n.addData(p,y[A++],y[A++],y[A++],y[A++],y[A++],y[A++]),r=y[A-2],o=y[A-1];break;case"c":p=f.C,n.addData(p,y[A++]+r,y[A++]+o,y[A++]+r,y[A++]+o,y[A++]+r,y[A++]+o),r+=y[A-2],o+=y[A-1];break;case"S":w=r,S=o,Y=n.len(),V=n.data,c===f.C&&(w+=r-V[Y-4],S+=o-V[Y-3]),p=f.C,re=y[A++],F=y[A++],r=y[A++],o=y[A++],n.addData(p,w,S,re,F,r,o);break;case"s":w=r,S=o,Y=n.len(),V=n.data,c===f.C&&(w+=r-V[Y-4],S+=o-V[Y-3]),p=f.C,re=r+y[A++],F=o+y[A++],r+=y[A++],o+=y[A++],n.addData(p,w,S,re,F,r,o);break;case"Q":re=y[A++],F=y[A++],r=y[A++],o=y[A++],p=f.Q,n.addData(p,re,F,r,o);break;case"q":re=y[A++]+r,F=y[A++]+o,r+=y[A++],o+=y[A++],p=f.Q,n.addData(p,re,F,r,o);break;case"T":w=r,S=o,Y=n.len(),V=n.data,c===f.Q&&(w+=r-V[Y-4],S+=o-V[Y-3]),r=y[A++],o=y[A++],p=f.Q,n.addData(p,w,S,r,o);break;case"t":w=r,S=o,Y=n.len(),V=n.data,c===f.Q&&(w+=r-V[Y-4],S+=o-V[Y-3]),r+=y[A++],o+=y[A++],p=f.Q,n.addData(p,w,S,r,o);break;case"A":T=y[A++],x=y[A++],O=y[A++],L=y[A++],M=y[A++],re=r,F=o,r=y[A++],o=y[A++],p=f.A,processArc(re,F,r,o,L,M,T,x,O,p,n);break;case"a":T=y[A++],x=y[A++],O=y[A++],L=y[A++],M=y[A++],re=r,F=o,r+=y[A++],o+=y[A++],p=f.A,processArc(re,F,r,o,L,M,T,x,O,p,n);break}}(g==="z"||g==="Z")&&(p=f.Z,n.addData(p),r=a,o=u),c=p}return n.toStatic(),n}var SVGPath=function(i){__extends(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.applyTransform=function(r){},n}(Path$1);function isPathProxy(i){return i.setData!=null}function createPathOptions(i,n){var r=createPathProxyFromString(i),o=extend({},n);return o.buildPath=function(a){if(isPathProxy(a)){a.setData(r.data);var u=a.getContext();u&&a.rebuildPath(u,1)}else{var u=a;r.rebuildPath(u,1)}},o.applyTransform=function(a){transformPath(r,a),this.dirtyShape()},o}function createFromString(i,n){return new SVGPath(createPathOptions(i,n))}function extendFromString(i,n){var r=createPathOptions(i,n),o=function(a){__extends(u,a);function u(c){var f=a.call(this,c)||this;return f.applyTransform=r.applyTransform,f.buildPath=r.buildPath,f}return u}(SVGPath);return o}function mergePath$1(i,n){for(var r=[],o=i.length,a=0;a<o;a++){var u=i[a];r.push(u.getUpdatedPathProxy(!0))}var c=new Path$1(n);return c.createPathProxy(),c.buildPath=function(f){if(isPathProxy(f)){f.appendPath(r);var d=f.getContext();d&&f.rebuildPath(d,1)}},c}var CircleShape=function(){function i(){this.cx=0,this.cy=0,this.r=0}return i}(),Circle=function(i){__extends(n,i);function n(r){return i.call(this,r)||this}return n.prototype.getDefaultShape=function(){return new CircleShape},n.prototype.buildPath=function(r,o){r.moveTo(o.cx+o.r,o.cy),r.arc(o.cx,o.cy,o.r,0,Math.PI*2)},n}(Path$1);Circle.prototype.type="circle";const Circle$1=Circle;var EllipseShape=function(){function i(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return i}(),Ellipse=function(i){__extends(n,i);function n(r){return i.call(this,r)||this}return n.prototype.getDefaultShape=function(){return new EllipseShape},n.prototype.buildPath=function(r,o){var a=.5522848,u=o.cx,c=o.cy,f=o.rx,d=o.ry,h=f*a,v=d*a;r.moveTo(u-f,c),r.bezierCurveTo(u-f,c-v,u-h,c-d,u,c-d),r.bezierCurveTo(u+h,c-d,u+f,c-v,u+f,c),r.bezierCurveTo(u+f,c+v,u+h,c+d,u,c+d),r.bezierCurveTo(u-h,c+d,u-f,c+v,u-f,c),r.closePath()},n}(Path$1);Ellipse.prototype.type="ellipse";const Ellipse$1=Ellipse;var PI$3=Math.PI,PI2$2=PI$3*2,mathSin$1=Math.sin,mathCos$1=Math.cos,mathACos=Math.acos,mathATan2=Math.atan2,mathAbs=Math.abs,mathSqrt=Math.sqrt,mathMax$1=Math.max,mathMin$1=Math.min,e=1e-4;function intersect(i,n,r,o,a,u,c,f){var d=r-i,h=o-n,v=c-a,g=f-u,p=g*d-v*h;if(!(p*p<e))return p=(v*(n-u)-g*(i-a))/p,[i+p*d,n+p*h]}function computeCornerTangents(i,n,r,o,a,u,c){var f=i-r,d=n-o,h=(c?u:-u)/mathSqrt(f*f+d*d),v=h*d,g=-h*f,p=i+v,y=n+g,_=r+v,b=o+g,A=(p+_)/2,w=(y+b)/2,S=_-p,T=b-y,x=S*S+T*T,O=a-u,L=p*b-_*y,M=(T<0?-1:1)*mathSqrt(mathMax$1(0,O*O*x-L*L)),re=(L*T-S*M)/x,F=(-L*S-T*M)/x,Y=(L*T+S*M)/x,V=(-L*S+T*M)/x,z=re-A,$=F-w,pe=Y-A,le=V-w;return z*z+$*$>pe*pe+le*le&&(re=Y,F=V),{cx:re,cy:F,x0:-v,y0:-g,x1:re*(a/O-1),y1:F*(a/O-1)}}function normalizeCornerRadius(i){var n;if(isArray$1(i)){var r=i.length;if(!r)return i;r===1?n=[i[0],i[0],0,0]:r===2?n=[i[0],i[0],i[1],i[1]]:r===3?n=i.concat(i[2]):n=i}else n=[i,i,i,i];return n}function buildPath$1(i,n){var r,o=mathMax$1(n.r,0),a=mathMax$1(n.r0||0,0),u=o>0,c=a>0;if(!(!u&&!c)){if(u||(o=a,a=0),a>o){var f=o;o=a,a=f}var d=n.startAngle,h=n.endAngle;if(!(isNaN(d)||isNaN(h))){var v=n.cx,g=n.cy,p=!!n.clockwise,y=mathAbs(h-d),_=y>PI2$2&&y%PI2$2;if(_>e&&(y=_),!(o>e))i.moveTo(v,g);else if(y>PI2$2-e)i.moveTo(v+o*mathCos$1(d),g+o*mathSin$1(d)),i.arc(v,g,o,d,h,!p),a>e&&(i.moveTo(v+a*mathCos$1(h),g+a*mathSin$1(h)),i.arc(v,g,a,h,d,p));else{var b=void 0,A=void 0,w=void 0,S=void 0,T=void 0,x=void 0,O=void 0,L=void 0,M=void 0,re=void 0,F=void 0,Y=void 0,V=void 0,z=void 0,$=void 0,pe=void 0,le=o*mathCos$1(d),Ie=o*mathSin$1(d),he=a*mathCos$1(h),xe=a*mathSin$1(h),_e=y>e;if(_e){var jt=n.cornerRadius;jt&&(r=normalizeCornerRadius(jt),b=r[0],A=r[1],w=r[2],S=r[3]);var Lt=mathAbs(o-a)/2;if(T=mathMin$1(Lt,w),x=mathMin$1(Lt,S),O=mathMin$1(Lt,b),L=mathMin$1(Lt,A),F=M=mathMax$1(T,x),Y=re=mathMax$1(O,L),(M>e||re>e)&&(V=o*mathCos$1(h),z=o*mathSin$1(h),$=a*mathCos$1(d),pe=a*mathSin$1(d),y<PI$3)){var Cn=intersect(le,Ie,$,pe,V,z,he,xe);if(Cn){var vn=le-Cn[0],kt=Ie-Cn[1],de=V-Cn[0],qe=z-Cn[1],Et=1/mathSin$1(mathACos((vn*de+kt*qe)/(mathSqrt(vn*vn+kt*kt)*mathSqrt(de*de+qe*qe)))/2),In=mathSqrt(Cn[0]*Cn[0]+Cn[1]*Cn[1]);F=mathMin$1(M,(o-In)/(Et+1)),Y=mathMin$1(re,(a-In)/(Et-1))}}}if(!_e)i.moveTo(v+le,g+Ie);else if(F>e){var $e=mathMin$1(w,F),Ce=mathMin$1(S,F),ue=computeCornerTangents($,pe,le,Ie,o,$e,p),At=computeCornerTangents(V,z,he,xe,o,Ce,p);i.moveTo(v+ue.cx+ue.x0,g+ue.cy+ue.y0),F<M&&$e===Ce?i.arc(v+ue.cx,g+ue.cy,F,mathATan2(ue.y0,ue.x0),mathATan2(At.y0,At.x0),!p):($e>0&&i.arc(v+ue.cx,g+ue.cy,$e,mathATan2(ue.y0,ue.x0),mathATan2(ue.y1,ue.x1),!p),i.arc(v,g,o,mathATan2(ue.cy+ue.y1,ue.cx+ue.x1),mathATan2(At.cy+At.y1,At.cx+At.x1),!p),Ce>0&&i.arc(v+At.cx,g+At.cy,Ce,mathATan2(At.y1,At.x1),mathATan2(At.y0,At.x0),!p))}else i.moveTo(v+le,g+Ie),i.arc(v,g,o,d,h,!p);if(!(a>e)||!_e)i.lineTo(v+he,g+xe);else if(Y>e){var $e=mathMin$1(b,Y),Ce=mathMin$1(A,Y),ue=computeCornerTangents(he,xe,V,z,a,-Ce,p),At=computeCornerTangents(le,Ie,$,pe,a,-$e,p);i.lineTo(v+ue.cx+ue.x0,g+ue.cy+ue.y0),Y<re&&$e===Ce?i.arc(v+ue.cx,g+ue.cy,Y,mathATan2(ue.y0,ue.x0),mathATan2(At.y0,At.x0),!p):(Ce>0&&i.arc(v+ue.cx,g+ue.cy,Ce,mathATan2(ue.y0,ue.x0),mathATan2(ue.y1,ue.x1),!p),i.arc(v,g,a,mathATan2(ue.cy+ue.y1,ue.cx+ue.x1),mathATan2(At.cy+At.y1,At.cx+At.x1),p),$e>0&&i.arc(v+At.cx,g+At.cy,$e,mathATan2(At.y1,At.x1),mathATan2(At.y0,At.x0),!p))}else i.lineTo(v+he,g+xe),i.arc(v,g,a,h,d,p)}i.closePath()}}}var SectorShape=function(){function i(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return i}(),Sector=function(i){__extends(n,i);function n(r){return i.call(this,r)||this}return n.prototype.getDefaultShape=function(){return new SectorShape},n.prototype.buildPath=function(r,o){buildPath$1(r,o)},n.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},n}(Path$1);Sector.prototype.type="sector";const Sector$1=Sector;var RingShape=function(){function i(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return i}(),Ring=function(i){__extends(n,i);function n(r){return i.call(this,r)||this}return n.prototype.getDefaultShape=function(){return new RingShape},n.prototype.buildPath=function(r,o){var a=o.cx,u=o.cy,c=Math.PI*2;r.moveTo(a+o.r,u),r.arc(a,u,o.r,0,c,!1),r.moveTo(a+o.r0,u),r.arc(a,u,o.r0,0,c,!0)},n}(Path$1);Ring.prototype.type="ring";const Ring$1=Ring;function smoothBezier(i,n,r,o){var a=[],u=[],c=[],f=[],d,h,v,g;if(o){v=[1/0,1/0],g=[-1/0,-1/0];for(var p=0,y=i.length;p<y;p++)min$1(v,v,i[p]),max$1(g,g,i[p]);min$1(v,v,o[0]),max$1(g,g,o[1])}for(var p=0,y=i.length;p<y;p++){var _=i[p];if(r)d=i[p?p-1:y-1],h=i[(p+1)%y];else if(p===0||p===y-1){a.push(clone$1(i[p]));continue}else d=i[p-1],h=i[p+1];sub$1(u,h,d),scale$1(u,u,n);var b=distance(_,d),A=distance(_,h),w=b+A;w!==0&&(b/=w,A/=w),scale$1(c,u,-b),scale$1(f,u,A);var S=add([],_,c),T=add([],_,f);o&&(max$1(S,S,v),min$1(S,S,g),max$1(T,T,v),min$1(T,T,g)),a.push(S),a.push(T)}return r&&a.push(a.shift()),a}function buildPath(i,n,r){var o=n.smooth,a=n.points;if(a&&a.length>=2){if(o){var u=smoothBezier(a,o,r,n.smoothConstraint);i.moveTo(a[0][0],a[0][1]);for(var c=a.length,f=0;f<(r?c:c-1);f++){var d=u[f*2],h=u[f*2+1],v=a[(f+1)%c];i.bezierCurveTo(d[0],d[1],h[0],h[1],v[0],v[1])}}else{i.moveTo(a[0][0],a[0][1]);for(var f=1,g=a.length;f<g;f++)i.lineTo(a[f][0],a[f][1])}r&&i.closePath()}}var PolygonShape=function(){function i(){this.points=null,this.smooth=0,this.smoothConstraint=null}return i}(),Polygon=function(i){__extends(n,i);function n(r){return i.call(this,r)||this}return n.prototype.getDefaultShape=function(){return new PolygonShape},n.prototype.buildPath=function(r,o){buildPath(r,o,!0)},n}(Path$1);Polygon.prototype.type="polygon";const Polygon$1=Polygon;var PolylineShape=function(){function i(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return i}(),Polyline=function(i){__extends(n,i);function n(r){return i.call(this,r)||this}return n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new PolylineShape},n.prototype.buildPath=function(r,o){buildPath(r,o,!1)},n}(Path$1);Polyline.prototype.type="polyline";const Polyline$1=Polyline;var subPixelOptimizeOutputShape={},LineShape=function(){function i(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return i}(),Line=function(i){__extends(n,i);function n(r){return i.call(this,r)||this}return n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new LineShape},n.prototype.buildPath=function(r,o){var a,u,c,f;if(this.subPixelOptimize){var d=subPixelOptimizeLine$1(subPixelOptimizeOutputShape,o,this.style);a=d.x1,u=d.y1,c=d.x2,f=d.y2}else a=o.x1,u=o.y1,c=o.x2,f=o.y2;var h=o.percent;h!==0&&(r.moveTo(a,u),h<1&&(c=a*(1-h)+c*h,f=u*(1-h)+f*h),r.lineTo(c,f))},n.prototype.pointAt=function(r){var o=this.shape;return[o.x1*(1-r)+o.x2*r,o.y1*(1-r)+o.y2*r]},n}(Path$1);Line.prototype.type="line";const Line$1=Line;var out=[],BezierCurveShape=function(){function i(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return i}();function someVectorAt(i,n,r){var o=i.cpx2,a=i.cpy2;return o!=null||a!=null?[(r?cubicDerivativeAt:cubicAt)(i.x1,i.cpx1,i.cpx2,i.x2,n),(r?cubicDerivativeAt:cubicAt)(i.y1,i.cpy1,i.cpy2,i.y2,n)]:[(r?quadraticDerivativeAt:quadraticAt)(i.x1,i.cpx1,i.x2,n),(r?quadraticDerivativeAt:quadraticAt)(i.y1,i.cpy1,i.y2,n)]}var BezierCurve=function(i){__extends(n,i);function n(r){return i.call(this,r)||this}return n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new BezierCurveShape},n.prototype.buildPath=function(r,o){var a=o.x1,u=o.y1,c=o.x2,f=o.y2,d=o.cpx1,h=o.cpy1,v=o.cpx2,g=o.cpy2,p=o.percent;p!==0&&(r.moveTo(a,u),v==null||g==null?(p<1&&(quadraticSubdivide(a,d,c,p,out),d=out[1],c=out[2],quadraticSubdivide(u,h,f,p,out),h=out[1],f=out[2]),r.quadraticCurveTo(d,h,c,f)):(p<1&&(cubicSubdivide(a,d,v,c,p,out),d=out[1],v=out[2],c=out[3],cubicSubdivide(u,h,g,f,p,out),h=out[1],g=out[2],f=out[3]),r.bezierCurveTo(d,h,v,g,c,f)))},n.prototype.pointAt=function(r){return someVectorAt(this.shape,r,!1)},n.prototype.tangentAt=function(r){var o=someVectorAt(this.shape,r,!0);return normalize(o,o)},n}(Path$1);BezierCurve.prototype.type="bezier-curve";const BezierCurve$1=BezierCurve;var ArcShape=function(){function i(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return i}(),Arc=function(i){__extends(n,i);function n(r){return i.call(this,r)||this}return n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new ArcShape},n.prototype.buildPath=function(r,o){var a=o.cx,u=o.cy,c=Math.max(o.r,0),f=o.startAngle,d=o.endAngle,h=o.clockwise,v=Math.cos(f),g=Math.sin(f);r.moveTo(v*c+a,g*c+u),r.arc(a,u,c,f,d,!h)},n}(Path$1);Arc.prototype.type="arc";const Arc$1=Arc;var CompoundPath=function(i){__extends(n,i);function n(){var r=i!==null&&i.apply(this,arguments)||this;return r.type="compound",r}return n.prototype._updatePathDirty=function(){for(var r=this.shape.paths,o=this.shapeChanged(),a=0;a<r.length;a++)o=o||r[a].shapeChanged();o&&this.dirtyShape()},n.prototype.beforeBrush=function(){this._updatePathDirty();for(var r=this.shape.paths||[],o=this.getGlobalScale(),a=0;a<r.length;a++)r[a].path||r[a].createPathProxy(),r[a].path.setScale(o[0],o[1],r[a].segmentIgnoreThreshold)},n.prototype.buildPath=function(r,o){for(var a=o.paths||[],u=0;u<a.length;u++)a[u].buildPath(r,a[u].shape,!0)},n.prototype.afterBrush=function(){for(var r=this.shape.paths||[],o=0;o<r.length;o++)r[o].pathUpdated()},n.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),Path$1.prototype.getBoundingRect.call(this)},n}(Path$1);const CompoundPath$1=CompoundPath;var Gradient=function(){function i(n){this.colorStops=n||[]}return i.prototype.addColorStop=function(n,r){this.colorStops.push({offset:n,color:r})},i}();const Gradient$1=Gradient;var LinearGradient=function(i){__extends(n,i);function n(r,o,a,u,c,f){var d=i.call(this,c)||this;return d.x=r??0,d.y=o??0,d.x2=a??1,d.y2=u??0,d.type="linear",d.global=f||!1,d}return n}(Gradient$1);const LinearGradient$1=LinearGradient;var RadialGradient=function(i){__extends(n,i);function n(r,o,a,u,c){var f=i.call(this,u)||this;return f.x=r??.5,f.y=o??.5,f.r=a??.5,f.type="radial",f.global=c||!1,f}return n}(Gradient$1);const RadialGradient$1=RadialGradient;var extent=[0,0],extent2=[0,0],minTv=new Point$1,maxTv=new Point$1,OrientedBoundingRect=function(){function i(n,r){this._corners=[],this._axes=[],this._origin=[0,0];for(var o=0;o<4;o++)this._corners[o]=new Point$1;for(var o=0;o<2;o++)this._axes[o]=new Point$1;n&&this.fromBoundingRect(n,r)}return i.prototype.fromBoundingRect=function(n,r){var o=this._corners,a=this._axes,u=n.x,c=n.y,f=u+n.width,d=c+n.height;if(o[0].set(u,c),o[1].set(f,c),o[2].set(f,d),o[3].set(u,d),r)for(var h=0;h<4;h++)o[h].transform(r);Point$1.sub(a[0],o[1],o[0]),Point$1.sub(a[1],o[3],o[0]),a[0].normalize(),a[1].normalize();for(var h=0;h<2;h++)this._origin[h]=a[h].dot(o[0])},i.prototype.intersect=function(n,r){var o=!0,a=!r;return minTv.set(1/0,1/0),maxTv.set(0,0),!this._intersectCheckOneSide(this,n,minTv,maxTv,a,1)&&(o=!1,a)||!this._intersectCheckOneSide(n,this,minTv,maxTv,a,-1)&&(o=!1,a)||a||Point$1.copy(r,o?minTv:maxTv),o},i.prototype._intersectCheckOneSide=function(n,r,o,a,u,c){for(var f=!0,d=0;d<2;d++){var h=this._axes[d];if(this._getProjMinMaxOnAxis(d,n._corners,extent),this._getProjMinMaxOnAxis(d,r._corners,extent2),extent[1]<extent2[0]||extent[0]>extent2[1]){if(f=!1,u)return f;var v=Math.abs(extent2[0]-extent[1]),g=Math.abs(extent[0]-extent2[1]);Math.min(v,g)>a.len()&&(v<g?Point$1.scale(a,h,-v*c):Point$1.scale(a,h,g*c))}else if(o){var v=Math.abs(extent2[0]-extent[1]),g=Math.abs(extent[0]-extent2[1]);Math.min(v,g)<o.len()&&(v<g?Point$1.scale(o,h,v*c):Point$1.scale(o,h,-g*c))}}return f},i.prototype._getProjMinMaxOnAxis=function(n,r,o){for(var a=this._axes[n],u=this._origin,c=r[0].dot(a)+u[n],f=c,d=c,h=1;h<r.length;h++){var v=r[h].dot(a)+u[n];f=Math.min(v,f),d=Math.max(v,d)}o[0]=f,o[1]=d},i}();const OrientedBoundingRect$1=OrientedBoundingRect;var m=[],IncrementalDisplayable=function(i){__extends(n,i);function n(){var r=i!==null&&i.apply(this,arguments)||this;return r.notClear=!0,r.incremental=!0,r._displayables=[],r._temporaryDisplayables=[],r._cursor=0,r}return n.prototype.traverse=function(r,o){r.call(o,this)},n.prototype.useStyle=function(){this.style={}},n.prototype.getCursor=function(){return this._cursor},n.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},n.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},n.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},n.prototype.addDisplayable=function(r,o){o?this._temporaryDisplayables.push(r):this._displayables.push(r),this.markRedraw()},n.prototype.addDisplayables=function(r,o){o=o||!1;for(var a=0;a<r.length;a++)this.addDisplayable(r[a],o)},n.prototype.getDisplayables=function(){return this._displayables},n.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},n.prototype.eachPendingDisplayable=function(r){for(var o=this._cursor;o<this._displayables.length;o++)r&&r(this._displayables[o]);for(var o=0;o<this._temporaryDisplayables.length;o++)r&&r(this._temporaryDisplayables[o])},n.prototype.update=function(){this.updateTransform();for(var r=this._cursor;r<this._displayables.length;r++){var o=this._displayables[r];o.parent=this,o.update(),o.parent=null}for(var r=0;r<this._temporaryDisplayables.length;r++){var o=this._temporaryDisplayables[r];o.parent=this,o.update(),o.parent=null}},n.prototype.getBoundingRect=function(){if(!this._rect){for(var r=new BoundingRect$1(1/0,1/0,-1/0,-1/0),o=0;o<this._displayables.length;o++){var a=this._displayables[o],u=a.getBoundingRect().clone();a.needLocalTransform()&&u.applyTransform(a.getLocalTransform(m)),r.union(u)}this._rect=r}return this._rect},n.prototype.contain=function(r,o){var a=this.transformCoordToLocal(r,o),u=this.getBoundingRect();if(u.contain(a[0],a[1]))for(var c=0;c<this._displayables.length;c++){var f=this._displayables[c];if(f.contain(r,o))return!0}return!1},n}(Displayable$1);const IncrementalDisplayable$1=IncrementalDisplayable;var transitionStore=makeInner();function getAnimationConfig(i,n,r,o,a){var u;if(n&&n.ecModel){var c=n.ecModel.getUpdatePayload();u=c&&c.animation}var f=n&&n.isAnimationEnabled(),d=i==="update";if(f){var h=void 0,v=void 0,g=void 0;o?(h=retrieve2(o.duration,200),v=retrieve2(o.easing,"cubicOut"),g=0):(h=n.getShallow(d?"animationDurationUpdate":"animationDuration"),v=n.getShallow(d?"animationEasingUpdate":"animationEasing"),g=n.getShallow(d?"animationDelayUpdate":"animationDelay")),u&&(u.duration!=null&&(h=u.duration),u.easing!=null&&(v=u.easing),u.delay!=null&&(g=u.delay)),isFunction$1(g)&&(g=g(r,a)),isFunction$1(h)&&(h=h(r));var p={duration:h||0,delay:g,easing:v};return p}else return null}function animateOrSetProps(i,n,r,o,a,u,c){var f=!1,d;isFunction$1(a)?(c=u,u=a,a=null):isObject$3(a)&&(u=a.cb,c=a.during,f=a.isFrom,d=a.removeOpt,a=a.dataIndex);var h=i==="leave";h||n.stopAnimation("leave");var v=getAnimationConfig(i,o,a,h?d||{}:null,o&&o.getAnimationDelayParams?o.getAnimationDelayParams(n,a):null);if(v&&v.duration>0){var g=v.duration,p=v.delay,y=v.easing,_={duration:g,delay:p||0,easing:y,done:u,force:!!u||!!c,setToFinal:!h,scope:i,during:c};f?n.animateFrom(r,_):n.animateTo(r,_)}else n.stopAnimation(),!f&&n.attr(r),c&&c(1),u&&u()}function updateProps$1(i,n,r,o,a,u){animateOrSetProps("update",i,n,r,o,a,u)}function initProps(i,n,r,o,a,u){animateOrSetProps("enter",i,n,r,o,a,u)}function isElementRemoved(i){if(!i.__zr)return!0;for(var n=0;n<i.animators.length;n++){var r=i.animators[n];if(r.scope==="leave")return!0}return!1}function removeElement(i,n,r,o,a,u){isElementRemoved(i)||animateOrSetProps("leave",i,n,r,o,a,u)}function fadeOutDisplayable(i,n,r,o){i.removeTextContent(),i.removeTextGuideLine(),removeElement(i,{style:{opacity:0}},n,r,o)}function removeElementWithFadeOut(i,n,r){function o(){i.parent&&i.parent.remove(i)}i.isGroup?i.traverse(function(a){a.isGroup||fadeOutDisplayable(a,n,r,o)}):fadeOutDisplayable(i,n,r,o)}function saveOldStyle(i){transitionStore(i).oldStyle=i.style}var mathMax=Math.max,mathMin=Math.min,_customShapeMap={};function extendShape(i){return Path$1.extend(i)}var extendPathFromString=extendFromString;function extendPath(i,n){return extendPathFromString(i,n)}function registerShape(i,n){_customShapeMap[i]=n}function getShapeClass(i){if(_customShapeMap.hasOwnProperty(i))return _customShapeMap[i]}function makePath(i,n,r,o){var a=createFromString(i,n);return r&&(o==="center"&&(r=centerGraphic(r,a.getBoundingRect())),resizePath(a,r)),a}function makeImage(i,n,r){var o=new ZRImage$1({style:{image:i,x:n.x,y:n.y,width:n.width,height:n.height},onload:function(a){if(r==="center"){var u={width:a.width,height:a.height};o.setStyle(centerGraphic(n,u))}}});return o}function centerGraphic(i,n){var r=n.width/n.height,o=i.height*r,a;o<=i.width?a=i.height:(o=i.width,a=o/r);var u=i.x+i.width/2,c=i.y+i.height/2;return{x:u-o/2,y:c-a/2,width:o,height:a}}var mergePath=mergePath$1;function resizePath(i,n){if(i.applyTransform){var r=i.getBoundingRect(),o=r.calculateTransform(n);i.applyTransform(o)}}function subPixelOptimizeLine(i,n){return subPixelOptimizeLine$1(i,i,{lineWidth:n}),i}function subPixelOptimizeRect(i){return subPixelOptimizeRect$1(i.shape,i.shape,i.style),i}var subPixelOptimize=subPixelOptimize$1;function getTransform(i,n){for(var r=identity$1([]);i&&i!==n;)mul(r,i.getLocalTransform(),r),i=i.parent;return r}function applyTransform(i,n,r){return n&&!isArrayLike(n)&&(n=Transformable$1.getLocalTransform(n)),r&&(n=invert([],n)),applyTransform$1([],i,n)}function transformDirection(i,n,r){var o=n[4]===0||n[5]===0||n[0]===0?1:Math.abs(2*n[4]/n[0]),a=n[4]===0||n[5]===0||n[2]===0?1:Math.abs(2*n[4]/n[2]),u=[i==="left"?-o:i==="right"?o:0,i==="top"?-a:i==="bottom"?a:0];return u=applyTransform(u,n,r),Math.abs(u[0])>Math.abs(u[1])?u[0]>0?"right":"left":u[1]>0?"bottom":"top"}function isNotGroup(i){return!i.isGroup}function isPath(i){return i.shape!=null}function groupTransition(i,n,r){if(!i||!n)return;function o(c){var f={};return c.traverse(function(d){isNotGroup(d)&&d.anid&&(f[d.anid]=d)}),f}function a(c){var f={x:c.x,y:c.y,rotation:c.rotation};return isPath(c)&&(f.shape=extend({},c.shape)),f}var u=o(i);n.traverse(function(c){if(isNotGroup(c)&&c.anid){var f=u[c.anid];if(f){var d=a(c);c.attr(a(f)),updateProps$1(c,d,r,getECData(c).dataIndex)}}})}function clipPointsByRect(i,n){return map$1(i,function(r){var o=r[0];o=mathMax(o,n.x),o=mathMin(o,n.x+n.width);var a=r[1];return a=mathMax(a,n.y),a=mathMin(a,n.y+n.height),[o,a]})}function clipRectByRect(i,n){var r=mathMax(i.x,n.x),o=mathMin(i.x+i.width,n.x+n.width),a=mathMax(i.y,n.y),u=mathMin(i.y+i.height,n.y+n.height);if(o>=r&&u>=a)return{x:r,y:a,width:o-r,height:u-a}}function createIcon(i,n,r){var o=extend({rectHover:!0},n),a=o.style={strokeNoScale:!0};if(r=r||{x:-1,y:-1,width:2,height:2},i)return i.indexOf("image://")===0?(a.image=i.slice(8),defaults(a,r),new ZRImage$1(o)):makePath(i.replace("path://",""),o,r,"center")}function linePolygonIntersect(i,n,r,o,a){for(var u=0,c=a[a.length-1];u<a.length;u++){var f=a[u];if(lineLineIntersect(i,n,r,o,f[0],f[1],c[0],c[1]))return!0;c=f}}function lineLineIntersect(i,n,r,o,a,u,c,f){var d=r-i,h=o-n,v=c-a,g=f-u,p=crossProduct2d(v,g,d,h);if(nearZero(p))return!1;var y=i-a,_=n-u,b=crossProduct2d(y,_,d,h)/p;if(b<0||b>1)return!1;var A=crossProduct2d(y,_,v,g)/p;return!(A<0||A>1)}function crossProduct2d(i,n,r,o){return i*o-r*n}function nearZero(i){return i<=1e-6&&i>=-1e-6}function setTooltipConfig(i){var n=i.itemTooltipOption,r=i.componentModel,o=i.itemName,a=isString$2(n)?{formatter:n}:n,u=r.mainType,c=r.componentIndex,f={componentType:u,name:o,$vars:["name"]};f[u+"Index"]=c;var d=i.formatterParamsExtra;d&&each$4(keys(d),function(v){hasOwn$1(f,v)||(f[v]=d[v],f.$vars.push(v))});var h=getECData(i.el);h.componentMainType=u,h.componentIndex=c,h.tooltipConfig={name:o,option:defaults({content:o,formatterParams:f},a)}}function traverseElement(i,n){var r;i.isGroup&&(r=n(i)),r||i.traverse(n)}function traverseElements(i,n){if(i)if(isArray$1(i))for(var r=0;r<i.length;r++)traverseElement(i[r],n);else traverseElement(i,n)}registerShape("circle",Circle$1),registerShape("ellipse",Ellipse$1),registerShape("sector",Sector$1),registerShape("ring",Ring$1),registerShape("polygon",Polygon$1),registerShape("polyline",Polyline$1),registerShape("rect",Rect$1),registerShape("line",Line$1),registerShape("bezierCurve",BezierCurve$1),registerShape("arc",Arc$1);const graphic=Object.freeze(Object.defineProperty({__proto__:null,Arc:Arc$1,BezierCurve:BezierCurve$1,BoundingRect:BoundingRect$1,Circle:Circle$1,CompoundPath:CompoundPath$1,Ellipse:Ellipse$1,Group:Group$3,Image:ZRImage$1,IncrementalDisplayable:IncrementalDisplayable$1,Line:Line$1,LinearGradient:LinearGradient$1,OrientedBoundingRect:OrientedBoundingRect$1,Path:Path$1,Point:Point$1,Polygon:Polygon$1,Polyline:Polyline$1,RadialGradient:RadialGradient$1,Rect:Rect$1,Ring:Ring$1,Sector:Sector$1,Text:ZRText$1,applyTransform,clipPointsByRect,clipRectByRect,createIcon,extendPath,extendShape,getShapeClass,getTransform,groupTransition,initProps,isElementRemoved,lineLineIntersect,linePolygonIntersect,makeImage,makePath,mergePath,registerShape,removeElement,removeElementWithFadeOut,resizePath,setTooltipConfig,subPixelOptimize,subPixelOptimizeLine,subPixelOptimizeRect,transformDirection,traverseElements,updateProps:updateProps$1},Symbol.toStringTag,{value:"Module"}));var EMPTY_OBJ={};function setLabelText(i,n){for(var r=0;r<SPECIAL_STATES.length;r++){var o=SPECIAL_STATES[r],a=n[o],u=i.ensureState(o);u.style=u.style||{},u.style.text=a}var c=i.currentStates.slice();i.clearStates(!0),i.setStyle({text:n.normal}),i.useStates(c,!0)}function getLabelText(i,n,r){var o=i.labelFetcher,a=i.labelDataIndex,u=i.labelDimIndex,c=n.normal,f;o&&(f=o.getFormattedLabel(a,"normal",null,u,c&&c.get("formatter"),r!=null?{interpolatedValue:r}:null)),f==null&&(f=isFunction$1(i.defaultText)?i.defaultText(a,i,r):i.defaultText);for(var d={normal:f},h=0;h<SPECIAL_STATES.length;h++){var v=SPECIAL_STATES[h],g=n[v];d[v]=retrieve2(o?o.getFormattedLabel(a,v,null,u,g&&g.get("formatter")):null,f)}return d}function setLabelStyle(i,n,r,o){r=r||EMPTY_OBJ;for(var a=i instanceof ZRText$1,u=!1,c=0;c<DISPLAY_STATES.length;c++){var f=n[DISPLAY_STATES[c]];if(f&&f.getShallow("show")){u=!0;break}}var d=a?i:i.getTextContent();if(u){a||(d||(d=new ZRText$1,i.setTextContent(d)),i.stateProxy&&(d.stateProxy=i.stateProxy));var h=getLabelText(r,n),v=n.normal,g=!!v.getShallow("show"),p=createTextStyle(v,o&&o.normal,r,!1,!a);p.text=h.normal,a||i.setTextConfig(createTextConfig(v,r,!1));for(var c=0;c<SPECIAL_STATES.length;c++){var y=SPECIAL_STATES[c],f=n[y];if(f){var _=d.ensureState(y),b=!!retrieve2(f.getShallow("show"),g);if(b!==g&&(_.ignore=!b),_.style=createTextStyle(f,o&&o[y],r,!0,!a),_.style.text=h[y],!a){var A=i.ensureState(y);A.textConfig=createTextConfig(f,r,!0)}}}d.silent=!!v.getShallow("silent"),d.style.x!=null&&(p.x=d.style.x),d.style.y!=null&&(p.y=d.style.y),d.ignore=!g,d.useStyle(p),d.dirty(),r.enableTextSetter&&(labelInner(d).setLabelText=function(w){var S=getLabelText(r,n,w);setLabelText(d,S)})}else d&&(d.ignore=!0);i.dirty()}function getLabelStatesModels(i,n){n=n||"label";for(var r={normal:i.getModel(n)},o=0;o<SPECIAL_STATES.length;o++){var a=SPECIAL_STATES[o];r[a]=i.getModel([a,n])}return r}function createTextStyle(i,n,r,o,a){var u={};return setTextStyleCommon(u,i,r,o,a),n&&extend(u,n),u}function createTextConfig(i,n,r){n=n||{};var o={},a,u=i.getShallow("rotate"),c=retrieve2(i.getShallow("distance"),r?null:5),f=i.getShallow("offset");return a=i.getShallow("position")||(r?null:"inside"),a==="outside"&&(a=n.defaultOutsidePosition||"top"),a!=null&&(o.position=a),f!=null&&(o.offset=f),u!=null&&(u*=Math.PI/180,o.rotation=u),c!=null&&(o.distance=c),o.outsideFill=i.get("color")==="inherit"?n.inheritColor||null:"auto",o}function setTextStyleCommon(i,n,r,o,a){r=r||EMPTY_OBJ;var u=n.ecModel,c=u&&u.option.textStyle,f=getRichItemNames(n),d;if(f){d={};for(var h in f)if(f.hasOwnProperty(h)){var v=n.getModel(["rich",h]);setTokenTextStyle(d[h]={},v,c,r,o,a,!1,!0)}}d&&(i.rich=d);var g=n.get("overflow");g&&(i.overflow=g);var p=n.get("minMargin");p!=null&&(i.margin=p),setTokenTextStyle(i,n,c,r,o,a,!0,!1)}function getRichItemNames(i){for(var n;i&&i!==i.ecModel;){var r=(i.option||EMPTY_OBJ).rich;if(r){n=n||{};for(var o=keys(r),a=0;a<o.length;a++){var u=o[a];n[u]=1}}i=i.parentModel}return n}var TEXT_PROPS_WITH_GLOBAL=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],TEXT_PROPS_SELF=["align","lineHeight","width","height","tag","verticalAlign"],TEXT_PROPS_BOX=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function setTokenTextStyle(i,n,r,o,a,u,c,f){r=!a&&r||EMPTY_OBJ;var d=o&&o.inheritColor,h=n.getShallow("color"),v=n.getShallow("textBorderColor"),g=retrieve2(n.getShallow("opacity"),r.opacity);(h==="inherit"||h==="auto")&&(process.env.NODE_ENV!=="production"&&h==="auto"&&deprecateReplaceLog("color: 'auto'","color: 'inherit'"),d?h=d:h=null),(v==="inherit"||v==="auto")&&(process.env.NODE_ENV!=="production"&&v==="auto"&&deprecateReplaceLog("color: 'auto'","color: 'inherit'"),d?v=d:v=null),u||(h=h||r.color,v=v||r.textBorderColor),h!=null&&(i.fill=h),v!=null&&(i.stroke=v);var p=retrieve2(n.getShallow("textBorderWidth"),r.textBorderWidth);p!=null&&(i.lineWidth=p);var y=retrieve2(n.getShallow("textBorderType"),r.textBorderType);y!=null&&(i.lineDash=y);var _=retrieve2(n.getShallow("textBorderDashOffset"),r.textBorderDashOffset);_!=null&&(i.lineDashOffset=_),!a&&g==null&&!f&&(g=o&&o.defaultOpacity),g!=null&&(i.opacity=g),!a&&!u&&i.fill==null&&o.inheritColor&&(i.fill=o.inheritColor);for(var b=0;b<TEXT_PROPS_WITH_GLOBAL.length;b++){var A=TEXT_PROPS_WITH_GLOBAL[b],w=retrieve2(n.getShallow(A),r[A]);w!=null&&(i[A]=w)}for(var b=0;b<TEXT_PROPS_SELF.length;b++){var A=TEXT_PROPS_SELF[b],w=n.getShallow(A);w!=null&&(i[A]=w)}if(i.verticalAlign==null){var S=n.getShallow("baseline");S!=null&&(i.verticalAlign=S)}if(!c||!o.disableBox){for(var b=0;b<TEXT_PROPS_BOX.length;b++){var A=TEXT_PROPS_BOX[b],w=n.getShallow(A);w!=null&&(i[A]=w)}var T=n.getShallow("borderType");T!=null&&(i.borderDash=T),(i.backgroundColor==="auto"||i.backgroundColor==="inherit")&&d&&(process.env.NODE_ENV!=="production"&&i.backgroundColor==="auto"&&deprecateReplaceLog("backgroundColor: 'auto'","backgroundColor: 'inherit'"),i.backgroundColor=d),(i.borderColor==="auto"||i.borderColor==="inherit")&&d&&(process.env.NODE_ENV!=="production"&&i.borderColor==="auto"&&deprecateReplaceLog("borderColor: 'auto'","borderColor: 'inherit'"),i.borderColor=d)}}function getFont(i,n){var r=n&&n.getModel("textStyle");return trim([i.fontStyle||r&&r.getShallow("fontStyle")||"",i.fontWeight||r&&r.getShallow("fontWeight")||"",(i.fontSize||r&&r.getShallow("fontSize")||12)+"px",i.fontFamily||r&&r.getShallow("fontFamily")||"sans-serif"].join(" "))}var labelInner=makeInner(),PATH_COLOR=["textStyle","color"],textStyleParams=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],tmpText=new ZRText$1,TextStyleMixin=function(){function i(){}return i.prototype.getTextColor=function(n){var r=this.ecModel;return this.getShallow("color")||(!n&&r?r.get(PATH_COLOR):null)},i.prototype.getFont=function(){return getFont({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},i.prototype.getTextRect=function(n){for(var r={text:n,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},o=0;o<textStyleParams.length;o++)r[textStyleParams[o]]=this.getShallow(textStyleParams[o]);return tmpText.useStyle(r),tmpText.update(),tmpText.getBoundingRect()},i}();const TextStyleMixin$1=TextStyleMixin;var LINE_STYLE_KEY_MAP=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],getLineStyle=makeStyleMapper(LINE_STYLE_KEY_MAP),LineStyleMixin=function(){function i(){}return i.prototype.getLineStyle=function(n){return getLineStyle(this,n)},i}(),ITEM_STYLE_KEY_MAP=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],getItemStyle=makeStyleMapper(ITEM_STYLE_KEY_MAP),ItemStyleMixin=function(){function i(){}return i.prototype.getItemStyle=function(n,r){return getItemStyle(this,n,r)},i}(),Model=function(){function i(n,r,o){this.parentModel=r,this.ecModel=o,this.option=n}return i.prototype.init=function(n,r,o){},i.prototype.mergeOption=function(n,r){merge(this.option,n,!0)},i.prototype.get=function(n,r){return n==null?this.option:this._doGet(this.parsePath(n),!r&&this.parentModel)},i.prototype.getShallow=function(n,r){var o=this.option,a=o==null?o:o[n];if(a==null&&!r){var u=this.parentModel;u&&(a=u.getShallow(n))}return a},i.prototype.getModel=function(n,r){var o=n!=null,a=o?this.parsePath(n):null,u=o?this._doGet(a):this.option;return r=r||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(a)),new i(u,r,this.ecModel)},i.prototype.isEmpty=function(){return this.option==null},i.prototype.restoreData=function(){},i.prototype.clone=function(){var n=this.constructor;return new n(clone$2(this.option))},i.prototype.parsePath=function(n){return typeof n=="string"?n.split("."):n},i.prototype.resolveParentPath=function(n){return n},i.prototype.isAnimationEnabled=function(){if(!env$1.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},i.prototype._doGet=function(n,r){var o=this.option;if(!n)return o;for(var a=0;a<n.length&&!(n[a]&&(o=o&&typeof o=="object"?o[n[a]]:null,o==null));a++);return o==null&&r&&(o=r._doGet(this.resolveParentPath(n),r.parentModel)),o},i}();enableClassExtend(Model),enableClassCheck(Model),mixin(Model,LineStyleMixin),mixin(Model,ItemStyleMixin),mixin(Model,AreaStyleMixin),mixin(Model,TextStyleMixin$1);const Model$1=Model;var base=Math.round(Math.random()*10);function getUID(i){return[i||"",base++].join("_")}function enableSubTypeDefaulter(i){var n={};i.registerSubTypeDefaulter=function(r,o){var a=parseClassType(r);n[a.main]=o},i.determineSubType=function(r,o){var a=o.type;if(!a){var u=parseClassType(r).main;i.hasSubTypes(r)&&n[u]&&(a=n[u](o))}return a}}function enableTopologicalTravel(i,n){i.topologicalTravel=function(u,c,f,d){if(!u.length)return;var h=r(c),v=h.graph,g=h.noEntryList,p={};for(each$4(u,function(S){p[S]=!0});g.length;){var y=g.pop(),_=v[y],b=!!p[y];b&&(f.call(d,y,_.originalDeps.slice()),delete p[y]),each$4(_.successor,b?w:A)}each$4(p,function(){var S="";throw process.env.NODE_ENV!=="production"&&(S=makePrintable("Circular dependency may exists: ",p,u,c)),new Error(S)});function A(S){v[S].entryCount--,v[S].entryCount===0&&g.push(S)}function w(S){p[S]=!0,A(S)}};function r(u){var c={},f=[];return each$4(u,function(d){var h=o(c,d),v=h.originalDeps=n(d),g=a(v,u);h.entryCount=g.length,h.entryCount===0&&f.push(d),each$4(g,function(p){indexOf(h.predecessor,p)<0&&h.predecessor.push(p);var y=o(c,p);indexOf(y.successor,p)<0&&y.successor.push(d)})}),{graph:c,noEntryList:f}}function o(u,c){return u[c]||(u[c]={predecessor:[],successor:[]}),u[c]}function a(u,c){var f=[];return each$4(u,function(d){indexOf(c,d)>=0&&f.push(d)}),f}}function inheritDefaultOption(i,n){return merge(merge({},i,!0),n,!0)}const langEN={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},langZH={time:{month:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthAbbr:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayOfWeek:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayOfWeekAbbr:["日","一","二","三","四","五","六"]},legend:{selector:{all:"全选",inverse:"反选"}},toolbox:{brush:{title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}},dataView:{title:"数据视图",lang:["数据视图","关闭","刷新"]},dataZoom:{title:{zoom:"区域缩放",back:"区域缩放还原"}},magicType:{title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"}},restore:{title:"还原"},saveAsImage:{title:"保存为图片",lang:["右键另存为图片"]}},series:{typeNames:{pie:"饼图",bar:"柱状图",line:"折线图",scatter:"散点图",effectScatter:"涟漪散点图",radar:"雷达图",tree:"树图",treemap:"矩形树图",boxplot:"箱型图",candlestick:"K线图",k:"K线图",heatmap:"热力图",map:"地图",parallel:"平行坐标图",lines:"线图",graph:"关系图",sankey:"桑基图",funnel:"漏斗图",gauge:"仪表盘图",pictorialBar:"象形柱图",themeRiver:"主题河流图",sunburst:"旭日图"}},aria:{general:{withTitle:"这是一个关于“{title}”的图表。",withoutTitle:"这是一个图表，"},series:{single:{prefix:"",withName:"图表类型是{seriesType}，表示{seriesName}。",withoutName:"图表类型是{seriesType}。"},multiple:{prefix:"它由{seriesCount}个图表系列组成。",withName:"第{seriesId}个系列是一个表示{seriesName}的{seriesType}，",withoutName:"第{seriesId}个系列是一个{seriesType}，",separator:{middle:"；",end:"。"}}},data:{allData:"其数据是——",partialData:"其中，前{displayCnt}项是——",withName:"{name}的数据是{value}",withoutName:"{value}",separator:{middle:"，",end:""}}}};var LOCALE_ZH="ZH",LOCALE_EN="EN",DEFAULT_LOCALE=LOCALE_EN,localeStorage={},localeModels={},SYSTEM_LANG=env$1.domSupported?function(){var i=(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase();return i.indexOf(LOCALE_ZH)>-1?LOCALE_ZH:DEFAULT_LOCALE}():DEFAULT_LOCALE;function registerLocale(i,n){i=i.toUpperCase(),localeModels[i]=new Model$1(n),localeStorage[i]=n}function createLocaleObject(i){if(isString$2(i)){var n=localeStorage[i.toUpperCase()]||{};return i===LOCALE_ZH||i===LOCALE_EN?clone$2(n):merge(clone$2(n),clone$2(localeStorage[DEFAULT_LOCALE]),!1)}else return merge(clone$2(i),clone$2(localeStorage[DEFAULT_LOCALE]),!1)}function getLocaleModel(i){return localeModels[i]}function getDefaultLocaleModel(){return localeModels[DEFAULT_LOCALE]}registerLocale(LOCALE_EN,langEN),registerLocale(LOCALE_ZH,langZH);function pad(i,n){return i+="","0000".substr(0,n-i.length)+i}function format$1(i,n,r,o){var a=parseDate(i),u=a[fullYearGetterName(r)](),c=a[monthGetterName(r)]()+1,f=Math.floor((c-1)/3)+1,d=a[dateGetterName(r)](),h=a["get"+(r?"UTC":"")+"Day"](),v=a[hoursGetterName(r)](),g=(v-1)%12+1,p=a[minutesGetterName(r)](),y=a[secondsGetterName(r)](),_=a[millisecondsGetterName(r)](),b=o instanceof Model$1?o:getLocaleModel(o||SYSTEM_LANG)||getDefaultLocaleModel(),A=b.getModel("time"),w=A.get("month"),S=A.get("monthAbbr"),T=A.get("dayOfWeek"),x=A.get("dayOfWeekAbbr");return(n||"").replace(/{yyyy}/g,u+"").replace(/{yy}/g,u%100+"").replace(/{Q}/g,f+"").replace(/{MMMM}/g,w[c-1]).replace(/{MMM}/g,S[c-1]).replace(/{MM}/g,pad(c,2)).replace(/{M}/g,c+"").replace(/{dd}/g,pad(d,2)).replace(/{d}/g,d+"").replace(/{eeee}/g,T[h]).replace(/{ee}/g,x[h]).replace(/{e}/g,h+"").replace(/{HH}/g,pad(v,2)).replace(/{H}/g,v+"").replace(/{hh}/g,pad(g+"",2)).replace(/{h}/g,g+"").replace(/{mm}/g,pad(p,2)).replace(/{m}/g,p+"").replace(/{ss}/g,pad(y,2)).replace(/{s}/g,y+"").replace(/{SSS}/g,pad(_,3)).replace(/{S}/g,_+"")}function fullYearGetterName(i){return i?"getUTCFullYear":"getFullYear"}function monthGetterName(i){return i?"getUTCMonth":"getMonth"}function dateGetterName(i){return i?"getUTCDate":"getDate"}function hoursGetterName(i){return i?"getUTCHours":"getHours"}function minutesGetterName(i){return i?"getUTCMinutes":"getMinutes"}function secondsGetterName(i){return i?"getUTCSeconds":"getSeconds"}function millisecondsGetterName(i){return i?"getUTCMilliseconds":"getMilliseconds"}function addCommas(i){if(!isNumeric(i))return isString$2(i)?i:"-";var n=(i+"").split(".");return n[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(n.length>1?"."+n[1]:"")}function toCamelCase(i,n){return i=(i||"").toLowerCase().replace(/-(.)/g,function(r,o){return o.toUpperCase()}),n&&i&&(i=i.charAt(0).toUpperCase()+i.slice(1)),i}var normalizeCssArray=normalizeCssArray$1;function makeValueReadable(i,n,r){var o="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function a(v){return v&&trim(v)?v:"-"}function u(v){return!!(v!=null&&!isNaN(v)&&isFinite(v))}var c=n==="time",f=i instanceof Date;if(c||f){var d=c?parseDate(i):i;if(isNaN(+d)){if(f)return"-"}else return format$1(d,o,r)}if(n==="ordinal")return isStringSafe(i)?a(i):isNumber$1(i)&&u(i)?i+"":"-";var h=numericToNumber(i);return u(h)?addCommas(h):isStringSafe(i)?a(i):typeof i=="boolean"?i+"":"-"}var TPL_VAR_ALIAS=["a","b","c","d","e","f","g"],wrapVar=function(i,n){return"{"+i+(n??"")+"}"};function formatTpl(i,n,r){isArray$1(n)||(n=[n]);var o=n.length;if(!o)return"";for(var a=n[0].$vars||[],u=0;u<a.length;u++){var c=TPL_VAR_ALIAS[u];i=i.replace(wrapVar(c),wrapVar(c,0))}for(var f=0;f<o;f++)for(var d=0;d<a.length;d++){var h=n[f][a[d]];i=i.replace(wrapVar(TPL_VAR_ALIAS[d],f),r?encodeHTML(h):h)}return i}function getTooltipMarker(i,n){var r=isString$2(i)?{color:i,extraCssText:n}:i||{},o=r.color,a=r.type;n=r.extraCssText;var u=r.renderMode||"html";if(!o)return"";if(u==="html")return a==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+encodeHTML(o)+";"+(n||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+encodeHTML(o)+";"+(n||"")+'"></span>';var c=r.markerId||"markerX";return{renderMode:u,content:"{"+c+"|}  ",style:a==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:o}:{width:10,height:10,borderRadius:5,backgroundColor:o}}}function convertToColorString(i,n){return n=n||"transparent",isString$2(i)?i:isObject$3(i)&&i.colorStops&&(i.colorStops[0]||{}).color||n}function windowOpen(i,n){if(n==="_blank"||n==="blank"){var r=window.open();r.opener=null,r.location.href=i}else window.open(i,n)}var each$3=each$4,LOCATION_PARAMS=["left","right","top","bottom","width","height"],HV_NAMES=[["width","left","right"],["height","top","bottom"]];function boxLayout(i,n,r,o,a){var u=0,c=0;o==null&&(o=1/0),a==null&&(a=1/0);var f=0;n.eachChild(function(d,h){var v=d.getBoundingRect(),g=n.childAt(h+1),p=g&&g.getBoundingRect(),y,_;if(i==="horizontal"){var b=v.width+(p?-p.x+v.x:0);y=u+b,y>o||d.newline?(u=0,y=b,c+=f+r,f=v.height):f=Math.max(f,v.height)}else{var A=v.height+(p?-p.y+v.y:0);_=c+A,_>a||d.newline?(u+=f+r,c=0,_=A,f=v.width):f=Math.max(f,v.width)}d.newline||(d.x=u,d.y=c,d.markRedraw(),i==="horizontal"?u=y+r:c=_+r)})}var box=boxLayout;curry$1(boxLayout,"vertical"),curry$1(boxLayout,"horizontal");function getLayoutRect(i,n,r){r=normalizeCssArray(r||0);var o=n.width,a=n.height,u=parsePercent(i.left,o),c=parsePercent(i.top,a),f=parsePercent(i.right,o),d=parsePercent(i.bottom,a),h=parsePercent(i.width,o),v=parsePercent(i.height,a),g=r[2]+r[0],p=r[1]+r[3],y=i.aspect;switch(isNaN(h)&&(h=o-f-p-u),isNaN(v)&&(v=a-d-g-c),y!=null&&(isNaN(h)&&isNaN(v)&&(y>o/a?h=o*.8:v=a*.8),isNaN(h)&&(h=y*v),isNaN(v)&&(v=h/y)),isNaN(u)&&(u=o-f-h-p),isNaN(c)&&(c=a-d-v-g),i.left||i.right){case"center":u=o/2-h/2-r[3];break;case"right":u=o-h-p;break}switch(i.top||i.bottom){case"middle":case"center":c=a/2-v/2-r[0];break;case"bottom":c=a-v-g;break}u=u||0,c=c||0,isNaN(h)&&(h=o-p-u-(f||0)),isNaN(v)&&(v=a-g-c-(d||0));var _=new BoundingRect$1(u+r[3],c+r[0],h,v);return _.margin=r,_}function fetchLayoutMode(i){var n=i.layoutMode||i.constructor.layoutMode;return isObject$3(n)?n:n?{type:n}:null}function mergeLayoutParam(i,n,r){var o=r&&r.ignoreSize;!isArray$1(o)&&(o=[o,o]);var a=c(HV_NAMES[0],0),u=c(HV_NAMES[1],1);h(HV_NAMES[0],i,a),h(HV_NAMES[1],i,u);function c(v,g){var p={},y=0,_={},b=0,A=2;if(each$3(v,function(T){_[T]=i[T]}),each$3(v,function(T){f(n,T)&&(p[T]=_[T]=n[T]),d(p,T)&&y++,d(_,T)&&b++}),o[g])return d(n,v[1])?_[v[2]]=null:d(n,v[2])&&(_[v[1]]=null),_;if(b===A||!y)return _;if(y>=A)return p;for(var w=0;w<v.length;w++){var S=v[w];if(!f(p,S)&&f(i,S)){p[S]=i[S];break}}return p}function f(v,g){return v.hasOwnProperty(g)}function d(v,g){return v[g]!=null&&v[g]!=="auto"}function h(v,g,p){each$3(v,function(y){g[y]=p[y]})}}function getLayoutParams(i){return copyLayoutParams({},i)}function copyLayoutParams(i,n){return n&&i&&each$3(LOCATION_PARAMS,function(r){n.hasOwnProperty(r)&&(i[r]=n[r])}),i}var inner$7=makeInner(),ComponentModel=function(i){__extends(n,i);function n(r,o,a){var u=i.call(this,r,o,a)||this;return u.uid=getUID("ec_cpt_model"),u}return n.prototype.init=function(r,o,a){this.mergeDefaultAndTheme(r,a)},n.prototype.mergeDefaultAndTheme=function(r,o){var a=fetchLayoutMode(this),u=a?getLayoutParams(r):{},c=o.getTheme();merge(r,c.get(this.mainType)),merge(r,this.getDefaultOption()),a&&mergeLayoutParam(r,u,a)},n.prototype.mergeOption=function(r,o){merge(this.option,r,!0);var a=fetchLayoutMode(this);a&&mergeLayoutParam(this.option,r,a)},n.prototype.optionUpdated=function(r,o){},n.prototype.getDefaultOption=function(){var r=this.constructor;if(!isExtendedClass(r))return r.defaultOption;var o=inner$7(this);if(!o.defaultOption){for(var a=[],u=r;u;){var c=u.prototype.defaultOption;c&&a.push(c),u=u.superClass}for(var f={},d=a.length-1;d>=0;d--)f=merge(f,a[d],!0);o.defaultOption=f}return o.defaultOption},n.prototype.getReferringComponents=function(r,o){var a=r+"Index",u=r+"Id";return queryReferringComponents(this.ecModel,r,{index:this.get(a,!0),id:this.get(u,!0)},o)},n.prototype.getBoxLayoutParams=function(){var r=this;return{left:r.get("left"),top:r.get("top"),right:r.get("right"),bottom:r.get("bottom"),width:r.get("width"),height:r.get("height")}},n.prototype.getZLevelKey=function(){return""},n.prototype.setZLevel=function(r){this.option.zlevel=r},n.protoInitialize=function(){var r=n.prototype;r.type="component",r.id="",r.name="",r.mainType="",r.subType="",r.componentIndex=0}(),n}(Model$1);mountExtend(ComponentModel,Model$1),enableClassManagement(ComponentModel),enableSubTypeDefaulter(ComponentModel),enableTopologicalTravel(ComponentModel,getDependencies);function getDependencies(i){var n=[];return each$4(ComponentModel.getClassesByMainType(i),function(r){n=n.concat(r.dependencies||r.prototype.dependencies||[])}),n=map$1(n,function(r){return parseClassType(r).main}),i!=="dataset"&&indexOf(n,"dataset")<=0&&n.unshift("dataset"),n}const ComponentModel$1=ComponentModel;var platform="";typeof navigator<"u"&&(platform=navigator.platform||"");var decalColor="rgba(0, 0, 0, 0.2)";const globalDefault={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:decalColor,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:decalColor,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:decalColor,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:decalColor,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:decalColor,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:decalColor,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:platform.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var VISUAL_DIMENSIONS=createHashMap(["tooltip","label","itemName","itemId","itemGroupId","seriesName"]),SOURCE_FORMAT_ORIGINAL="original",SOURCE_FORMAT_ARRAY_ROWS="arrayRows",SOURCE_FORMAT_OBJECT_ROWS="objectRows",SOURCE_FORMAT_KEYED_COLUMNS="keyedColumns",SOURCE_FORMAT_TYPED_ARRAY="typedArray",SOURCE_FORMAT_UNKNOWN="unknown",SERIES_LAYOUT_BY_COLUMN="column",SERIES_LAYOUT_BY_ROW="row",BE_ORDINAL={Must:1,Might:2,Not:3},innerGlobalModel=makeInner();function resetSourceDefaulter(i){innerGlobalModel(i).datasetMap=createHashMap()}function makeSeriesEncodeForNameBased(i,n,r){var o={},a=querySeriesUpstreamDatasetModel(i);if(!a)return o;var u=n.sourceFormat,c=n.dimensionsDefine,f;(u===SOURCE_FORMAT_OBJECT_ROWS||u===SOURCE_FORMAT_KEYED_COLUMNS)&&each$4(c,function(v,g){(isObject$3(v)?v.name:v)==="name"&&(f=g)});var d=function(){for(var v={},g={},p=[],y=0,_=Math.min(5,r);y<_;y++){var b=doGuessOrdinal(n.data,u,n.seriesLayoutBy,c,n.startIndex,y);p.push(b);var A=b===BE_ORDINAL.Not;if(A&&v.v==null&&y!==f&&(v.v=y),(v.n==null||v.n===v.v||!A&&p[v.n]===BE_ORDINAL.Not)&&(v.n=y),w(v)&&p[v.n]!==BE_ORDINAL.Not)return v;A||(b===BE_ORDINAL.Might&&g.v==null&&y!==f&&(g.v=y),(g.n==null||g.n===g.v)&&(g.n=y))}function w(S){return S.v!=null&&S.n!=null}return w(v)?v:w(g)?g:null}();if(d){o.value=[d.v];var h=f??d.n;o.itemName=[h],o.seriesName=[h]}return o}function querySeriesUpstreamDatasetModel(i){var n=i.get("data",!0);if(!n)return queryReferringComponents(i.ecModel,"dataset",{index:i.get("datasetIndex",!0),id:i.get("datasetId",!0)},SINGLE_REFERRING).models[0]}function queryDatasetUpstreamDatasetModels(i){return!i.get("transform",!0)&&!i.get("fromTransformResult",!0)?[]:queryReferringComponents(i.ecModel,"dataset",{index:i.get("fromDatasetIndex",!0),id:i.get("fromDatasetId",!0)},SINGLE_REFERRING).models}function guessOrdinal(i,n){return doGuessOrdinal(i.data,i.sourceFormat,i.seriesLayoutBy,i.dimensionsDefine,i.startIndex,n)}function doGuessOrdinal(i,n,r,o,a,u){var c,f=5;if(isTypedArray(i))return BE_ORDINAL.Not;var d,h;if(o){var v=o[u];isObject$3(v)?(d=v.name,h=v.type):isString$2(v)&&(d=v)}if(h!=null)return h==="ordinal"?BE_ORDINAL.Must:BE_ORDINAL.Not;if(n===SOURCE_FORMAT_ARRAY_ROWS){var g=i;if(r===SERIES_LAYOUT_BY_ROW){for(var p=g[u],y=0;y<(p||[]).length&&y<f;y++)if((c=x(p[a+y]))!=null)return c}else for(var y=0;y<g.length&&y<f;y++){var _=g[a+y];if(_&&(c=x(_[u]))!=null)return c}}else if(n===SOURCE_FORMAT_OBJECT_ROWS){var b=i;if(!d)return BE_ORDINAL.Not;for(var y=0;y<b.length&&y<f;y++){var A=b[y];if(A&&(c=x(A[d]))!=null)return c}}else if(n===SOURCE_FORMAT_KEYED_COLUMNS){var w=i;if(!d)return BE_ORDINAL.Not;var p=w[d];if(!p||isTypedArray(p))return BE_ORDINAL.Not;for(var y=0;y<p.length&&y<f;y++)if((c=x(p[y]))!=null)return c}else if(n===SOURCE_FORMAT_ORIGINAL)for(var S=i,y=0;y<S.length&&y<f;y++){var A=S[y],T=getDataItemValue(A);if(!isArray$1(T))return BE_ORDINAL.Not;if((c=x(T[u]))!=null)return c}function x(O){var L=isString$2(O);if(O!=null&&isFinite(O)&&O!=="")return L?BE_ORDINAL.Might:BE_ORDINAL.Not;if(L&&O!=="-")return BE_ORDINAL.Must}return BE_ORDINAL.Not}var internalOptionCreatorMap=createHashMap();function concatInternalOptions(i,n,r){var o=internalOptionCreatorMap.get(n);if(!o)return r;var a=o(i);if(!a)return r;if(process.env.NODE_ENV!=="production")for(var u=0;u<a.length;u++)assert(isComponentIdInternal(a[u]));return r.concat(a)}var innerColor=makeInner();makeInner();var PaletteMixin=function(){function i(){}return i.prototype.getColorFromPalette=function(n,r,o){var a=normalizeToArray(this.get("color",!0)),u=this.get("colorLayer",!0);return getFromPalette(this,innerColor,a,u,n,r,o)},i.prototype.clearColorPalette=function(){clearPalette(this,innerColor)},i}();function getNearestPalette(i,n){for(var r=i.length,o=0;o<r;o++)if(i[o].length>n)return i[o];return i[r-1]}function getFromPalette(i,n,r,o,a,u,c){u=u||i;var f=n(u),d=f.paletteIdx||0,h=f.paletteNameMap=f.paletteNameMap||{};if(h.hasOwnProperty(a))return h[a];var v=c==null||!o?r:getNearestPalette(o,c);if(v=v||r,!(!v||!v.length)){var g=v[d];return a&&(h[a]=g),f.paletteIdx=(d+1)%v.length,g}}function clearPalette(i,n){n(i).paletteIdx=0,n(i).paletteNameMap={}}var reCreateSeriesIndices,assertSeriesInitialized,initBase,OPTION_INNER_KEY="\0_ec_inner",OPTION_INNER_VALUE=1,BUITIN_COMPONENTS_MAP={grid:"GridComponent",polar:"PolarComponent",geo:"GeoComponent",singleAxis:"SingleAxisComponent",parallel:"ParallelComponent",calendar:"CalendarComponent",graphic:"GraphicComponent",toolbox:"ToolboxComponent",tooltip:"TooltipComponent",axisPointer:"AxisPointerComponent",brush:"BrushComponent",title:"TitleComponent",timeline:"TimelineComponent",markPoint:"MarkPointComponent",markLine:"MarkLineComponent",markArea:"MarkAreaComponent",legend:"LegendComponent",dataZoom:"DataZoomComponent",visualMap:"VisualMapComponent",xAxis:"GridComponent",yAxis:"GridComponent",angleAxis:"PolarComponent",radiusAxis:"PolarComponent"},BUILTIN_CHARTS_MAP={line:"LineChart",bar:"BarChart",pie:"PieChart",scatter:"ScatterChart",radar:"RadarChart",map:"MapChart",tree:"TreeChart",treemap:"TreemapChart",graph:"GraphChart",gauge:"GaugeChart",funnel:"FunnelChart",parallel:"ParallelChart",sankey:"SankeyChart",boxplot:"BoxplotChart",candlestick:"CandlestickChart",effectScatter:"EffectScatterChart",lines:"LinesChart",heatmap:"HeatmapChart",pictorialBar:"PictorialBarChart",themeRiver:"ThemeRiverChart",sunburst:"SunburstChart",custom:"CustomChart"},componetsMissingLogPrinted={};function checkMissingComponents(i){each$4(i,function(n,r){if(!ComponentModel$1.hasClass(r)){var o=BUITIN_COMPONENTS_MAP[r];o&&!componetsMissingLogPrinted[o]&&(error("Component "+r+` is used but not imported.
import { `+o+` } from 'echarts/components';
echarts.use([`+o+"]);"),componetsMissingLogPrinted[o]=!0)}})}var GlobalModel=function(i){__extends(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.init=function(r,o,a,u,c,f){u=u||{},this.option=null,this._theme=new Model$1(u),this._locale=new Model$1(c),this._optionManager=f},n.prototype.setOption=function(r,o,a){process.env.NODE_ENV!=="production"&&(assert(r!=null,"option is null/undefined"),assert(r[OPTION_INNER_KEY]!==OPTION_INNER_VALUE,"please use chart.getOption()"));var u=normalizeSetOptionInput(o);this._optionManager.setOption(r,a,u),this._resetOption(null,u)},n.prototype.resetOption=function(r,o){return this._resetOption(r,normalizeSetOptionInput(o))},n.prototype._resetOption=function(r,o){var a=!1,u=this._optionManager;if(!r||r==="recreate"){var c=u.mountOption(r==="recreate");process.env.NODE_ENV!=="production"&&checkMissingComponents(c),!this.option||r==="recreate"?initBase(this,c):(this.restoreData(),this._mergeOption(c,o)),a=!0}if((r==="timeline"||r==="media")&&this.restoreData(),!r||r==="recreate"||r==="timeline"){var f=u.getTimelineOption(this);f&&(a=!0,this._mergeOption(f,o))}if(!r||r==="recreate"||r==="media"){var d=u.getMediaOption(this);d.length&&each$4(d,function(h){a=!0,this._mergeOption(h,o)},this)}return a},n.prototype.mergeOption=function(r){this._mergeOption(r,null)},n.prototype._mergeOption=function(r,o){var a=this.option,u=this._componentsMap,c=this._componentsCount,f=[],d=createHashMap(),h=o&&o.replaceMergeMainTypeMap;resetSourceDefaulter(this),each$4(r,function(g,p){g!=null&&(ComponentModel$1.hasClass(p)?p&&(f.push(p),d.set(p,!0)):a[p]=a[p]==null?clone$2(g):merge(a[p],g,!0))}),h&&h.each(function(g,p){ComponentModel$1.hasClass(p)&&!d.get(p)&&(f.push(p),d.set(p,!0))}),ComponentModel$1.topologicalTravel(f,ComponentModel$1.getAllClassMainTypes(),v,this);function v(g){var p=concatInternalOptions(this,g,normalizeToArray(r[g])),y=u.get(g),_=y?h&&h.get(g)?"replaceMerge":"normalMerge":"replaceAll",b=mappingToExists(y,p,_);setComponentTypeToKeyInfo(b,g,ComponentModel$1),a[g]=null,u.set(g,null),c.set(g,0);var A=[],w=[],S=0,T,x;each$4(b,function(O,L){var M=O.existing,re=O.newOption;if(!re)M&&(M.mergeOption({},this),M.optionUpdated({},!1));else{var F=g==="series",Y=ComponentModel$1.getClass(g,O.keyInfo.subType,!F);if(!Y){if(process.env.NODE_ENV!=="production"){var V=O.keyInfo.subType,z=BUILTIN_CHARTS_MAP[V];componetsMissingLogPrinted[V]||(componetsMissingLogPrinted[V]=!0,error(z?"Series "+V+` is used but not imported.
import { `+z+` } from 'echarts/charts';
echarts.use([`+z+"]);":"Unknown series "+V))}return}if(g==="tooltip"){if(T){process.env.NODE_ENV!=="production"&&(x||(warn("Currently only one tooltip component is allowed."),x=!0));return}T=!0}if(M&&M.constructor===Y)M.name=O.keyInfo.name,M.mergeOption(re,this),M.optionUpdated(re,!1);else{var $=extend({componentIndex:L},O.keyInfo);M=new Y(re,this,this,$),extend(M,$),O.brandNew&&(M.__requireNewView=!0),M.init(re,this,this),M.optionUpdated(null,!0)}}M?(A.push(M.option),w.push(M),S++):(A.push(void 0),w.push(void 0))},this),a[g]=A,u.set(g,w),c.set(g,S),g==="series"&&reCreateSeriesIndices(this)}this._seriesIndices||reCreateSeriesIndices(this)},n.prototype.getOption=function(){var r=clone$2(this.option);return each$4(r,function(o,a){if(ComponentModel$1.hasClass(a)){for(var u=normalizeToArray(o),c=u.length,f=!1,d=c-1;d>=0;d--)u[d]&&!isComponentIdInternal(u[d])?f=!0:(u[d]=null,!f&&c--);u.length=c,r[a]=u}}),delete r[OPTION_INNER_KEY],r},n.prototype.getTheme=function(){return this._theme},n.prototype.getLocaleModel=function(){return this._locale},n.prototype.setUpdatePayload=function(r){this._payload=r},n.prototype.getUpdatePayload=function(){return this._payload},n.prototype.getComponent=function(r,o){var a=this._componentsMap.get(r);if(a){var u=a[o||0];if(u)return u;if(o==null){for(var c=0;c<a.length;c++)if(a[c])return a[c]}}},n.prototype.queryComponents=function(r){var o=r.mainType;if(!o)return[];var a=r.index,u=r.id,c=r.name,f=this._componentsMap.get(o);if(!f||!f.length)return[];var d;return a!=null?(d=[],each$4(normalizeToArray(a),function(h){f[h]&&d.push(f[h])})):u!=null?d=queryByIdOrName("id",u,f):c!=null?d=queryByIdOrName("name",c,f):d=filter(f,function(h){return!!h}),filterBySubType(d,r)},n.prototype.findComponents=function(r){var o=r.query,a=r.mainType,u=f(o),c=u?this.queryComponents(u):filter(this._componentsMap.get(a),function(h){return!!h});return d(filterBySubType(c,r));function f(h){var v=a+"Index",g=a+"Id",p=a+"Name";return h&&(h[v]!=null||h[g]!=null||h[p]!=null)?{mainType:a,index:h[v],id:h[g],name:h[p]}:null}function d(h){return r.filter?filter(h,r.filter):h}},n.prototype.eachComponent=function(r,o,a){var u=this._componentsMap;if(isFunction$1(r)){var c=o,f=r;u.each(function(g,p){for(var y=0;g&&y<g.length;y++){var _=g[y];_&&f.call(c,p,_,_.componentIndex)}})}else for(var d=isString$2(r)?u.get(r):isObject$3(r)?this.findComponents(r):null,h=0;d&&h<d.length;h++){var v=d[h];v&&o.call(a,v,v.componentIndex)}},n.prototype.getSeriesByName=function(r){var o=convertOptionIdName(r,null);return filter(this._componentsMap.get("series"),function(a){return!!a&&o!=null&&a.name===o})},n.prototype.getSeriesByIndex=function(r){return this._componentsMap.get("series")[r]},n.prototype.getSeriesByType=function(r){return filter(this._componentsMap.get("series"),function(o){return!!o&&o.subType===r})},n.prototype.getSeries=function(){return filter(this._componentsMap.get("series"),function(r){return!!r})},n.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},n.prototype.eachSeries=function(r,o){assertSeriesInitialized(this),each$4(this._seriesIndices,function(a){var u=this._componentsMap.get("series")[a];r.call(o,u,a)},this)},n.prototype.eachRawSeries=function(r,o){each$4(this._componentsMap.get("series"),function(a){a&&r.call(o,a,a.componentIndex)})},n.prototype.eachSeriesByType=function(r,o,a){assertSeriesInitialized(this),each$4(this._seriesIndices,function(u){var c=this._componentsMap.get("series")[u];c.subType===r&&o.call(a,c,u)},this)},n.prototype.eachRawSeriesByType=function(r,o,a){return each$4(this.getSeriesByType(r),o,a)},n.prototype.isSeriesFiltered=function(r){return assertSeriesInitialized(this),this._seriesIndicesMap.get(r.componentIndex)==null},n.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},n.prototype.filterSeries=function(r,o){assertSeriesInitialized(this);var a=[];each$4(this._seriesIndices,function(u){var c=this._componentsMap.get("series")[u];r.call(o,c,u)&&a.push(u)},this),this._seriesIndices=a,this._seriesIndicesMap=createHashMap(a)},n.prototype.restoreData=function(r){reCreateSeriesIndices(this);var o=this._componentsMap,a=[];o.each(function(u,c){ComponentModel$1.hasClass(c)&&a.push(c)}),ComponentModel$1.topologicalTravel(a,ComponentModel$1.getAllClassMainTypes(),function(u){each$4(o.get(u),function(c){c&&(u!=="series"||!isNotTargetSeries(c,r))&&c.restoreData()})})},n.internalField=function(){reCreateSeriesIndices=function(r){var o=r._seriesIndices=[];each$4(r._componentsMap.get("series"),function(a){a&&o.push(a.componentIndex)}),r._seriesIndicesMap=createHashMap(o)},assertSeriesInitialized=function(r){if(process.env.NODE_ENV!=="production"&&!r._seriesIndices)throw new Error("Option should contains series.")},initBase=function(r,o){r.option={},r.option[OPTION_INNER_KEY]=OPTION_INNER_VALUE,r._componentsMap=createHashMap({series:[]}),r._componentsCount=createHashMap();var a=o.aria;isObject$3(a)&&a.enabled==null&&(a.enabled=!0),mergeTheme(o,r._theme.option),merge(o,globalDefault,!1),r._mergeOption(o,null)}}(),n}(Model$1);function isNotTargetSeries(i,n){if(n){var r=n.seriesIndex,o=n.seriesId,a=n.seriesName;return r!=null&&i.componentIndex!==r||o!=null&&i.id!==o||a!=null&&i.name!==a}}function mergeTheme(i,n){var r=i.color&&!i.colorLayer;each$4(n,function(o,a){a==="colorLayer"&&r||ComponentModel$1.hasClass(a)||(typeof o=="object"?i[a]=i[a]?merge(i[a],o,!1):clone$2(o):i[a]==null&&(i[a]=o))})}function queryByIdOrName(i,n,r){if(isArray$1(n)){var o=createHashMap();return each$4(n,function(u){if(u!=null){var c=convertOptionIdName(u,null);c!=null&&o.set(u,!0)}}),filter(r,function(u){return u&&o.get(u[i])})}else{var a=convertOptionIdName(n,null);return filter(r,function(u){return u&&a!=null&&u[i]===a})}}function filterBySubType(i,n){return n.hasOwnProperty("subType")?filter(i,function(r){return r&&r.subType===n.subType}):i}function normalizeSetOptionInput(i){var n=createHashMap();return i&&each$4(normalizeToArray(i.replaceMerge),function(r){process.env.NODE_ENV!=="production"&&assert(ComponentModel$1.hasClass(r),'"'+r+'" is not valid component main type in "replaceMerge"'),n.set(r,!0)}),{replaceMergeMainTypeMap:n}}mixin(GlobalModel,PaletteMixin);const GlobalModel$1=GlobalModel;var availableMethods=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],ExtensionAPI=function(){function i(n){each$4(availableMethods,function(r){this[r]=bind$1(n[r],n)},this)}return i}();const ExtensionAPI$1=ExtensionAPI;var coordinateSystemCreators={},CoordinateSystemManager=function(){function i(){this._coordinateSystems=[]}return i.prototype.create=function(n,r){var o=[];each$4(coordinateSystemCreators,function(a,u){var c=a.create(n,r);o=o.concat(c||[])}),this._coordinateSystems=o},i.prototype.update=function(n,r){each$4(this._coordinateSystems,function(o){o.update&&o.update(n,r)})},i.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},i.register=function(n,r){coordinateSystemCreators[n]=r},i.get=function(n){return coordinateSystemCreators[n]},i}();const CoordinateSystem=CoordinateSystemManager;var QUERY_REG=/^(min|max)?(.+)$/,OptionManager=function(){function i(n){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=n}return i.prototype.setOption=function(n,r,o){n&&(each$4(normalizeToArray(n.series),function(c){c&&c.data&&isTypedArray(c.data)&&setAsPrimitive(c.data)}),each$4(normalizeToArray(n.dataset),function(c){c&&c.source&&isTypedArray(c.source)&&setAsPrimitive(c.source)})),n=clone$2(n);var a=this._optionBackup,u=parseRawOption(n,r,!a);this._newBaseOption=u.baseOption,a?(u.timelineOptions.length&&(a.timelineOptions=u.timelineOptions),u.mediaList.length&&(a.mediaList=u.mediaList),u.mediaDefault&&(a.mediaDefault=u.mediaDefault)):this._optionBackup=u},i.prototype.mountOption=function(n){var r=this._optionBackup;return this._timelineOptions=r.timelineOptions,this._mediaList=r.mediaList,this._mediaDefault=r.mediaDefault,this._currentMediaIndices=[],clone$2(n?r.baseOption:this._newBaseOption)},i.prototype.getTimelineOption=function(n){var r,o=this._timelineOptions;if(o.length){var a=n.getComponent("timeline");a&&(r=clone$2(o[a.getCurrentIndex()]))}return r},i.prototype.getMediaOption=function(n){var r=this._api.getWidth(),o=this._api.getHeight(),a=this._mediaList,u=this._mediaDefault,c=[],f=[];if(!a.length&&!u)return f;for(var d=0,h=a.length;d<h;d++)applyMediaQuery(a[d].query,r,o)&&c.push(d);return!c.length&&u&&(c=[-1]),c.length&&!indicesEquals(c,this._currentMediaIndices)&&(f=map$1(c,function(v){return clone$2(v===-1?u.option:a[v].option)})),this._currentMediaIndices=c,f},i}();function parseRawOption(i,n,r){var o=[],a,u,c=i.baseOption,f=i.timeline,d=i.options,h=i.media,v=!!i.media,g=!!(d||f||c&&c.timeline);c?(u=c,u.timeline||(u.timeline=f)):((g||v)&&(i.options=i.media=null),u=i),v&&(isArray$1(h)?each$4(h,function(y){process.env.NODE_ENV!=="production"&&y&&!y.option&&isObject$3(y.query)&&isObject$3(y.query.option)&&error("Illegal media option. Must be like { media: [ { query: {}, option: {} } ] }"),y&&y.option&&(y.query?o.push(y):a||(a=y))}):process.env.NODE_ENV!=="production"&&error("Illegal media option. Must be an array. Like { media: [ {...}, {...} ] }")),p(u),each$4(d,function(y){return p(y)}),each$4(o,function(y){return p(y.option)});function p(y){each$4(n,function(_){_(y,r)})}return{baseOption:u,timelineOptions:d||[],mediaDefault:a,mediaList:o}}function applyMediaQuery(i,n,r){var o={width:n,height:r,aspectratio:n/r},a=!0;return each$4(i,function(u,c){var f=c.match(QUERY_REG);if(!(!f||!f[1]||!f[2])){var d=f[1],h=f[2].toLowerCase();compare(o[h],u,d)||(a=!1)}}),a}function compare(i,n,r){return r==="min"?i>=n:r==="max"?i<=n:i===n}function indicesEquals(i,n){return i.join(",")===n.join(",")}const OptionManager$1=OptionManager;var each$2=each$4,isObject$2=isObject$3,POSSIBLE_STYLES=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function compatEC2ItemStyle(i){var n=i&&i.itemStyle;if(n)for(var r=0,o=POSSIBLE_STYLES.length;r<o;r++){var a=POSSIBLE_STYLES[r],u=n.normal,c=n.emphasis;u&&u[a]&&(process.env.NODE_ENV!=="production"&&deprecateReplaceLog("itemStyle.normal."+a,a),i[a]=i[a]||{},i[a].normal?merge(i[a].normal,u[a]):i[a].normal=u[a],u[a]=null),c&&c[a]&&(process.env.NODE_ENV!=="production"&&deprecateReplaceLog("itemStyle.emphasis."+a,"emphasis."+a),i[a]=i[a]||{},i[a].emphasis?merge(i[a].emphasis,c[a]):i[a].emphasis=c[a],c[a]=null)}}function convertNormalEmphasis(i,n,r){if(i&&i[n]&&(i[n].normal||i[n].emphasis)){var o=i[n].normal,a=i[n].emphasis;o&&(process.env.NODE_ENV!=="production"&&deprecateLog("'normal' hierarchy in "+n+" has been removed since 4.0. All style properties are configured in "+n+" directly now."),r?(i[n].normal=i[n].emphasis=null,defaults(i[n],o)):i[n]=o),a&&(process.env.NODE_ENV!=="production"&&deprecateLog(n+".emphasis has been changed to emphasis."+n+" since 4.0"),i.emphasis=i.emphasis||{},i.emphasis[n]=a,a.focus&&(i.emphasis.focus=a.focus),a.blurScope&&(i.emphasis.blurScope=a.blurScope))}}function removeEC3NormalStatus(i){convertNormalEmphasis(i,"itemStyle"),convertNormalEmphasis(i,"lineStyle"),convertNormalEmphasis(i,"areaStyle"),convertNormalEmphasis(i,"label"),convertNormalEmphasis(i,"labelLine"),convertNormalEmphasis(i,"upperLabel"),convertNormalEmphasis(i,"edgeLabel")}function compatTextStyle(i,n){var r=isObject$2(i)&&i[n],o=isObject$2(r)&&r.textStyle;if(o){process.env.NODE_ENV!=="production"&&deprecateLog("textStyle hierarchy in "+n+" has been removed since 4.0. All textStyle properties are configured in "+n+" directly now.");for(var a=0,u=TEXT_STYLE_OPTIONS.length;a<u;a++){var c=TEXT_STYLE_OPTIONS[a];o.hasOwnProperty(c)&&(r[c]=o[c])}}}function compatEC3CommonStyles(i){i&&(removeEC3NormalStatus(i),compatTextStyle(i,"label"),i.emphasis&&compatTextStyle(i.emphasis,"label"))}function processSeries(i){if(isObject$2(i)){compatEC2ItemStyle(i),removeEC3NormalStatus(i),compatTextStyle(i,"label"),compatTextStyle(i,"upperLabel"),compatTextStyle(i,"edgeLabel"),i.emphasis&&(compatTextStyle(i.emphasis,"label"),compatTextStyle(i.emphasis,"upperLabel"),compatTextStyle(i.emphasis,"edgeLabel"));var n=i.markPoint;n&&(compatEC2ItemStyle(n),compatEC3CommonStyles(n));var r=i.markLine;r&&(compatEC2ItemStyle(r),compatEC3CommonStyles(r));var o=i.markArea;o&&compatEC3CommonStyles(o);var a=i.data;if(i.type==="graph"){a=a||i.nodes;var u=i.links||i.edges;if(u&&!isTypedArray(u))for(var c=0;c<u.length;c++)compatEC3CommonStyles(u[c]);each$4(i.categories,function(h){removeEC3NormalStatus(h)})}if(a&&!isTypedArray(a))for(var c=0;c<a.length;c++)compatEC3CommonStyles(a[c]);if(n=i.markPoint,n&&n.data)for(var f=n.data,c=0;c<f.length;c++)compatEC3CommonStyles(f[c]);if(r=i.markLine,r&&r.data)for(var d=r.data,c=0;c<d.length;c++)isArray$1(d[c])?(compatEC3CommonStyles(d[c][0]),compatEC3CommonStyles(d[c][1])):compatEC3CommonStyles(d[c]);i.type==="gauge"?(compatTextStyle(i,"axisLabel"),compatTextStyle(i,"title"),compatTextStyle(i,"detail")):i.type==="treemap"?(convertNormalEmphasis(i.breadcrumb,"itemStyle"),each$4(i.levels,function(h){removeEC3NormalStatus(h)})):i.type==="tree"&&removeEC3NormalStatus(i.leaves)}}function toArr(i){return isArray$1(i)?i:i?[i]:[]}function toObj(i){return(isArray$1(i)?i[0]:i)||{}}function globalCompatStyle(i,n){each$2(toArr(i.series),function(o){isObject$2(o)&&processSeries(o)});var r=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];n&&r.push("valueAxis","categoryAxis","logAxis","timeAxis"),each$2(r,function(o){each$2(toArr(i[o]),function(a){a&&(compatTextStyle(a,"axisLabel"),compatTextStyle(a.axisPointer,"label"))})}),each$2(toArr(i.parallel),function(o){var a=o&&o.parallelAxisDefault;compatTextStyle(a,"axisLabel"),compatTextStyle(a&&a.axisPointer,"label")}),each$2(toArr(i.calendar),function(o){convertNormalEmphasis(o,"itemStyle"),compatTextStyle(o,"dayLabel"),compatTextStyle(o,"monthLabel"),compatTextStyle(o,"yearLabel")}),each$2(toArr(i.radar),function(o){compatTextStyle(o,"name"),o.name&&o.axisName==null&&(o.axisName=o.name,delete o.name,process.env.NODE_ENV!=="production"&&deprecateLog("name property in radar component has been changed to axisName")),o.nameGap!=null&&o.axisNameGap==null&&(o.axisNameGap=o.nameGap,delete o.nameGap,process.env.NODE_ENV!=="production"&&deprecateLog("nameGap property in radar component has been changed to axisNameGap")),process.env.NODE_ENV!=="production"&&each$2(o.indicator,function(a){a.text&&deprecateReplaceLog("text","name","radar.indicator")})}),each$2(toArr(i.geo),function(o){isObject$2(o)&&(compatEC3CommonStyles(o),each$2(toArr(o.regions),function(a){compatEC3CommonStyles(a)}))}),each$2(toArr(i.timeline),function(o){compatEC3CommonStyles(o),convertNormalEmphasis(o,"label"),convertNormalEmphasis(o,"itemStyle"),convertNormalEmphasis(o,"controlStyle",!0);var a=o.data;isArray$1(a)&&each$4(a,function(u){isObject$3(u)&&(convertNormalEmphasis(u,"label"),convertNormalEmphasis(u,"itemStyle"))})}),each$2(toArr(i.toolbox),function(o){convertNormalEmphasis(o,"iconStyle"),each$2(o.feature,function(a){convertNormalEmphasis(a,"iconStyle")})}),compatTextStyle(toObj(i.axisPointer),"label"),compatTextStyle(toObj(i.tooltip).axisPointer,"label")}function get(i,n){for(var r=n.split(","),o=i,a=0;a<r.length&&(o=o&&o[r[a]],o!=null);a++);return o}function set(i,n,r,o){for(var a=n.split(","),u=i,c,f=0;f<a.length-1;f++)c=a[f],u[c]==null&&(u[c]={}),u=u[c];(o||u[a[f]]==null)&&(u[a[f]]=r)}function compatLayoutProperties(i){i&&each$4(LAYOUT_PROPERTIES,function(n){n[0]in i&&!(n[1]in i)&&(i[n[1]]=i[n[0]])})}var LAYOUT_PROPERTIES=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],COMPATITABLE_COMPONENTS=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],BAR_ITEM_STYLE_MAP=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function compatBarItemStyle(i){var n=i&&i.itemStyle;if(n)for(var r=0;r<BAR_ITEM_STYLE_MAP.length;r++){var o=BAR_ITEM_STYLE_MAP[r][1],a=BAR_ITEM_STYLE_MAP[r][0];n[o]!=null&&(n[a]=n[o],process.env.NODE_ENV!=="production"&&deprecateReplaceLog(o,a))}}function compatPieLabel(i){i&&i.alignTo==="edge"&&i.margin!=null&&i.edgeDistance==null&&(process.env.NODE_ENV!=="production"&&deprecateReplaceLog("label.margin","label.edgeDistance","pie"),i.edgeDistance=i.margin)}function compatSunburstState(i){i&&i.downplay&&!i.blur&&(i.blur=i.downplay,process.env.NODE_ENV!=="production"&&deprecateReplaceLog("downplay","blur","sunburst"))}function compatGraphFocus(i){i&&i.focusNodeAdjacency!=null&&(i.emphasis=i.emphasis||{},i.emphasis.focus==null&&(process.env.NODE_ENV!=="production"&&deprecateReplaceLog("focusNodeAdjacency","emphasis: { focus: 'adjacency'}","graph/sankey"),i.emphasis.focus="adjacency"))}function traverseTree(i,n){if(i)for(var r=0;r<i.length;r++)n(i[r]),i[r]&&traverseTree(i[r].children,n)}function globalBackwardCompat(i,n){globalCompatStyle(i,n),i.series=normalizeToArray(i.series),each$4(i.series,function(r){if(isObject$3(r)){var o=r.type;if(o==="line")r.clipOverflow!=null&&(r.clip=r.clipOverflow,process.env.NODE_ENV!=="production"&&deprecateReplaceLog("clipOverflow","clip","line"));else if(o==="pie"||o==="gauge"){r.clockWise!=null&&(r.clockwise=r.clockWise,process.env.NODE_ENV!=="production"&&deprecateReplaceLog("clockWise","clockwise")),compatPieLabel(r.label);var a=r.data;if(a&&!isTypedArray(a))for(var u=0;u<a.length;u++)compatPieLabel(a[u]);r.hoverOffset!=null&&(r.emphasis=r.emphasis||{},(r.emphasis.scaleSize=null)&&(process.env.NODE_ENV!=="production"&&deprecateReplaceLog("hoverOffset","emphasis.scaleSize"),r.emphasis.scaleSize=r.hoverOffset))}else if(o==="gauge"){var c=get(r,"pointer.color");c!=null&&set(r,"itemStyle.color",c)}else if(o==="bar"){compatBarItemStyle(r),compatBarItemStyle(r.backgroundStyle),compatBarItemStyle(r.emphasis);var a=r.data;if(a&&!isTypedArray(a))for(var u=0;u<a.length;u++)typeof a[u]=="object"&&(compatBarItemStyle(a[u]),compatBarItemStyle(a[u]&&a[u].emphasis))}else if(o==="sunburst"){var f=r.highlightPolicy;f&&(r.emphasis=r.emphasis||{},r.emphasis.focus||(r.emphasis.focus=f,process.env.NODE_ENV!=="production"&&deprecateReplaceLog("highlightPolicy","emphasis.focus","sunburst"))),compatSunburstState(r),traverseTree(r.data,compatSunburstState)}else o==="graph"||o==="sankey"?compatGraphFocus(r):o==="map"&&(r.mapType&&!r.map&&(process.env.NODE_ENV!=="production"&&deprecateReplaceLog("mapType","map","map"),r.map=r.mapType),r.mapLocation&&(process.env.NODE_ENV!=="production"&&deprecateLog("`mapLocation` is not used anymore."),defaults(r,r.mapLocation)));r.hoverAnimation!=null&&(r.emphasis=r.emphasis||{},r.emphasis&&r.emphasis.scale==null&&(process.env.NODE_ENV!=="production"&&deprecateReplaceLog("hoverAnimation","emphasis.scale"),r.emphasis.scale=r.hoverAnimation)),compatLayoutProperties(r)}}),i.dataRange&&(i.visualMap=i.dataRange),each$4(COMPATITABLE_COMPONENTS,function(r){var o=i[r];o&&(isArray$1(o)||(o=[o]),each$4(o,function(a){compatLayoutProperties(a)}))})}function dataStack(i){var n=createHashMap();i.eachSeries(function(r){var o=r.get("stack");if(o){var a=n.get(o)||n.set(o,[]),u=r.getData(),c={stackResultDimension:u.getCalculationInfo("stackResultDimension"),stackedOverDimension:u.getCalculationInfo("stackedOverDimension"),stackedDimension:u.getCalculationInfo("stackedDimension"),stackedByDimension:u.getCalculationInfo("stackedByDimension"),isStackedByIndex:u.getCalculationInfo("isStackedByIndex"),data:u,seriesModel:r};if(!c.stackedDimension||!(c.isStackedByIndex||c.stackedByDimension))return;a.length&&u.setCalculationInfo("stackedOnSeries",a[a.length-1].seriesModel),a.push(c)}}),n.each(calculateStack)}function calculateStack(i){each$4(i,function(n,r){var o=[],a=[NaN,NaN],u=[n.stackResultDimension,n.stackedOverDimension],c=n.data,f=n.isStackedByIndex,d=n.seriesModel.get("stackStrategy")||"samesign";c.modify(u,function(h,v,g){var p=c.get(n.stackedDimension,g);if(isNaN(p))return a;var y,_;f?_=c.getRawIndex(g):y=c.get(n.stackedByDimension,g);for(var b=NaN,A=r-1;A>=0;A--){var w=i[A];if(f||(_=w.data.rawIndexOf(w.stackedByDimension,y)),_>=0){var S=w.data.getByRawIndex(w.stackResultDimension,_);if(d==="all"||d==="positive"&&S>0||d==="negative"&&S<0||d==="samesign"&&p>=0&&S>0||d==="samesign"&&p<=0&&S<0){p=addSafe(p,S),b=S;break}}}return o[0]=p,o[1]=b,o})})}var SourceImpl=function(){function i(n){this.data=n.data||(n.sourceFormat===SOURCE_FORMAT_KEYED_COLUMNS?{}:[]),this.sourceFormat=n.sourceFormat||SOURCE_FORMAT_UNKNOWN,this.seriesLayoutBy=n.seriesLayoutBy||SERIES_LAYOUT_BY_COLUMN,this.startIndex=n.startIndex||0,this.dimensionsDetectedCount=n.dimensionsDetectedCount,this.metaRawOption=n.metaRawOption;var r=this.dimensionsDefine=n.dimensionsDefine;if(r)for(var o=0;o<r.length;o++){var a=r[o];a.type==null&&guessOrdinal(this,o)===BE_ORDINAL.Must&&(a.type="ordinal")}}return i}();function isSourceInstance(i){return i instanceof SourceImpl}function createSource(i,n,r){r=r||detectSourceFormat(i);var o=n.seriesLayoutBy,a=determineSourceDimensions(i,r,o,n.sourceHeader,n.dimensions),u=new SourceImpl({data:i,sourceFormat:r,seriesLayoutBy:o,dimensionsDefine:a.dimensionsDefine,startIndex:a.startIndex,dimensionsDetectedCount:a.dimensionsDetectedCount,metaRawOption:clone$2(n)});return u}function createSourceFromSeriesDataOption(i){return new SourceImpl({data:i,sourceFormat:isTypedArray(i)?SOURCE_FORMAT_TYPED_ARRAY:SOURCE_FORMAT_ORIGINAL})}function cloneSourceShallow(i){return new SourceImpl({data:i.data,sourceFormat:i.sourceFormat,seriesLayoutBy:i.seriesLayoutBy,dimensionsDefine:clone$2(i.dimensionsDefine),startIndex:i.startIndex,dimensionsDetectedCount:i.dimensionsDetectedCount})}function detectSourceFormat(i){var n=SOURCE_FORMAT_UNKNOWN;if(isTypedArray(i))n=SOURCE_FORMAT_TYPED_ARRAY;else if(isArray$1(i)){i.length===0&&(n=SOURCE_FORMAT_ARRAY_ROWS);for(var r=0,o=i.length;r<o;r++){var a=i[r];if(a!=null){if(isArray$1(a)){n=SOURCE_FORMAT_ARRAY_ROWS;break}else if(isObject$3(a)){n=SOURCE_FORMAT_OBJECT_ROWS;break}}}}else if(isObject$3(i)){for(var u in i)if(hasOwn$1(i,u)&&isArrayLike(i[u])){n=SOURCE_FORMAT_KEYED_COLUMNS;break}}return n}function determineSourceDimensions(i,n,r,o,a){var u,c;if(!i)return{dimensionsDefine:normalizeDimensionsOption(a),startIndex:c,dimensionsDetectedCount:u};if(n===SOURCE_FORMAT_ARRAY_ROWS){var f=i;o==="auto"||o==null?arrayRowsTravelFirst(function(h){h!=null&&h!=="-"&&(isString$2(h)?c==null&&(c=1):c=0)},r,f,10):c=isNumber$1(o)?o:o?1:0,!a&&c===1&&(a=[],arrayRowsTravelFirst(function(h,v){a[v]=h!=null?h+"":""},r,f,1/0)),u=a?a.length:r===SERIES_LAYOUT_BY_ROW?f.length:f[0]?f[0].length:null}else if(n===SOURCE_FORMAT_OBJECT_ROWS)a||(a=objectRowsCollectDimensions(i));else if(n===SOURCE_FORMAT_KEYED_COLUMNS)a||(a=[],each$4(i,function(h,v){a.push(v)}));else if(n===SOURCE_FORMAT_ORIGINAL){var d=getDataItemValue(i[0]);u=isArray$1(d)&&d.length||1}else n===SOURCE_FORMAT_TYPED_ARRAY&&process.env.NODE_ENV!=="production"&&assert(!!a,"dimensions must be given if data is TypedArray.");return{startIndex:c,dimensionsDefine:normalizeDimensionsOption(a),dimensionsDetectedCount:u}}function objectRowsCollectDimensions(i){for(var n=0,r;n<i.length&&!(r=i[n++]););if(r){var o=[];return each$4(r,function(a,u){o.push(u)}),o}}function normalizeDimensionsOption(i){if(i){var n=createHashMap();return map$1(i,function(r,o){r=isObject$3(r)?r:{name:r};var a={name:r.name,displayName:r.displayName,type:r.type};if(a.name==null)return a;a.name+="",a.displayName==null&&(a.displayName=a.name);var u=n.get(a.name);return u?a.name+="-"+u.count++:n.set(a.name,{count:1}),a})}}function arrayRowsTravelFirst(i,n,r,o){if(n===SERIES_LAYOUT_BY_ROW)for(var a=0;a<r.length&&a<o;a++)i(r[a]?r[a][0]:null,a);else for(var u=r[0]||[],a=0;a<u.length&&a<o;a++)i(u[a],a)}function shouldRetrieveDataByName(i){var n=i.sourceFormat;return n===SOURCE_FORMAT_OBJECT_ROWS||n===SOURCE_FORMAT_KEYED_COLUMNS}var _a$1,_b,_c,providerMethods,mountMethods,DefaultDataProvider=function(){function i(n,r){var o=isSourceInstance(n)?n:createSourceFromSeriesDataOption(n);this._source=o;var a=this._data=o.data;if(o.sourceFormat===SOURCE_FORMAT_TYPED_ARRAY){if(process.env.NODE_ENV!=="production"&&r==null)throw new Error("Typed array data must specify dimension size");this._offset=0,this._dimSize=r,this._data=a}mountMethods(this,a,o)}return i.prototype.getSource=function(){return this._source},i.prototype.count=function(){return 0},i.prototype.getItem=function(n,r){},i.prototype.appendData=function(n){},i.prototype.clean=function(){},i.protoInitialize=function(){var n=i.prototype;n.pure=!1,n.persistent=!0}(),i.internalField=function(){var n;mountMethods=function(c,f,d){var h=d.sourceFormat,v=d.seriesLayoutBy,g=d.startIndex,p=d.dimensionsDefine,y=providerMethods[getMethodMapKey(h,v)];if(process.env.NODE_ENV!=="production"&&assert(y,"Invalide sourceFormat: "+h),extend(c,y),h===SOURCE_FORMAT_TYPED_ARRAY)c.getItem=r,c.count=a,c.fillStorage=o;else{var _=getRawSourceItemGetter(h,v);c.getItem=bind$1(_,null,f,g,p);var b=getRawSourceDataCounter(h,v);c.count=bind$1(b,null,f,g,p)}};var r=function(c,f){c=c-this._offset,f=f||[];for(var d=this._data,h=this._dimSize,v=h*c,g=0;g<h;g++)f[g]=d[v+g];return f},o=function(c,f,d,h){for(var v=this._data,g=this._dimSize,p=0;p<g;p++){for(var y=h[p],_=y[0]==null?1/0:y[0],b=y[1]==null?-1/0:y[1],A=f-c,w=d[p],S=0;S<A;S++){var T=v[S*g+p];w[c+S]=T,T<_&&(_=T),T>b&&(b=T)}y[0]=_,y[1]=b}},a=function(){return this._data?this._data.length/this._dimSize:0};providerMethods=(n={},n[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_COLUMN]={pure:!0,appendData:u},n[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_ROW]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},n[SOURCE_FORMAT_OBJECT_ROWS]={pure:!0,appendData:u},n[SOURCE_FORMAT_KEYED_COLUMNS]={pure:!0,appendData:function(c){var f=this._data;each$4(c,function(d,h){for(var v=f[h]||(f[h]=[]),g=0;g<(d||[]).length;g++)v.push(d[g])})}},n[SOURCE_FORMAT_ORIGINAL]={appendData:u},n[SOURCE_FORMAT_TYPED_ARRAY]={persistent:!1,pure:!0,appendData:function(c){process.env.NODE_ENV!=="production"&&assert(isTypedArray(c),"Added data must be TypedArray if data in initialization is TypedArray"),this._data=c},clean:function(){this._offset+=this.count(),this._data=null}},n);function u(c){for(var f=0;f<c.length;f++)this._data.push(c[f])}}(),i}(),getItemSimply=function(i,n,r,o){return i[o]},rawSourceItemGetterMap=(_a$1={},_a$1[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_COLUMN]=function(i,n,r,o){return i[o+n]},_a$1[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_ROW]=function(i,n,r,o,a){o+=n;for(var u=a||[],c=i,f=0;f<c.length;f++){var d=c[f];u[f]=d?d[o]:null}return u},_a$1[SOURCE_FORMAT_OBJECT_ROWS]=getItemSimply,_a$1[SOURCE_FORMAT_KEYED_COLUMNS]=function(i,n,r,o,a){for(var u=a||[],c=0;c<r.length;c++){var f=r[c].name;if(process.env.NODE_ENV!=="production"&&f==null)throw new Error;var d=i[f];u[c]=d?d[o]:null}return u},_a$1[SOURCE_FORMAT_ORIGINAL]=getItemSimply,_a$1);function getRawSourceItemGetter(i,n){var r=rawSourceItemGetterMap[getMethodMapKey(i,n)];return process.env.NODE_ENV!=="production"&&assert(r,'Do not support get item on "'+i+'", "'+n+'".'),r}var countSimply=function(i,n,r){return i.length},rawSourceDataCounterMap=(_b={},_b[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_COLUMN]=function(i,n,r){return Math.max(0,i.length-n)},_b[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_ROW]=function(i,n,r){var o=i[0];return o?Math.max(0,o.length-n):0},_b[SOURCE_FORMAT_OBJECT_ROWS]=countSimply,_b[SOURCE_FORMAT_KEYED_COLUMNS]=function(i,n,r){var o=r[0].name;if(process.env.NODE_ENV!=="production"&&o==null)throw new Error;var a=i[o];return a?a.length:0},_b[SOURCE_FORMAT_ORIGINAL]=countSimply,_b);function getRawSourceDataCounter(i,n){var r=rawSourceDataCounterMap[getMethodMapKey(i,n)];return process.env.NODE_ENV!=="production"&&assert(r,'Do not support count on "'+i+'", "'+n+'".'),r}var getRawValueSimply=function(i,n,r){return i[n]},rawSourceValueGetterMap=(_c={},_c[SOURCE_FORMAT_ARRAY_ROWS]=getRawValueSimply,_c[SOURCE_FORMAT_OBJECT_ROWS]=function(i,n,r){return i[r]},_c[SOURCE_FORMAT_KEYED_COLUMNS]=getRawValueSimply,_c[SOURCE_FORMAT_ORIGINAL]=function(i,n,r){var o=getDataItemValue(i);return o instanceof Array?o[n]:o},_c[SOURCE_FORMAT_TYPED_ARRAY]=getRawValueSimply,_c);function getRawSourceValueGetter(i){var n=rawSourceValueGetterMap[i];return process.env.NODE_ENV!=="production"&&assert(n,'Do not support get value on "'+i+'".'),n}function getMethodMapKey(i,n){return i===SOURCE_FORMAT_ARRAY_ROWS?i+"_"+n:i}function retrieveRawValue(i,n,r){if(i){var o=i.getRawDataItem(n);if(o!=null){var a=i.getStore(),u=a.getSource().sourceFormat;if(r!=null){var c=i.getDimensionIndex(r),f=a.getDimensionProperty(c);return getRawSourceValueGetter(u)(o,c,f)}else{var d=o;return u===SOURCE_FORMAT_ORIGINAL&&(d=getDataItemValue(o)),d}}}}var DIMENSION_LABEL_REG=/\{@(.+?)\}/g,DataFormatMixin=function(){function i(){}return i.prototype.getDataParams=function(n,r){var o=this.getData(r),a=this.getRawValue(n,r),u=o.getRawIndex(n),c=o.getName(n),f=o.getRawDataItem(n),d=o.getItemVisual(n,"style"),h=d&&d[o.getItemVisual(n,"drawType")||"fill"],v=d&&d.stroke,g=this.mainType,p=g==="series",y=o.userOutput&&o.userOutput.get();return{componentType:g,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:p?this.subType:null,seriesIndex:this.seriesIndex,seriesId:p?this.id:null,seriesName:p?this.name:null,name:c,dataIndex:u,data:f,dataType:r,value:a,color:h,borderColor:v,dimensionNames:y?y.fullDimensions:null,encode:y?y.encode:null,$vars:["seriesName","name","value"]}},i.prototype.getFormattedLabel=function(n,r,o,a,u,c){r=r||"normal";var f=this.getData(o),d=this.getDataParams(n,o);if(c&&(d.value=c.interpolatedValue),a!=null&&isArray$1(d.value)&&(d.value=d.value[a]),!u){var h=f.getItemModel(n);u=h.get(r==="normal"?["label","formatter"]:[r,"label","formatter"])}if(isFunction$1(u))return d.status=r,d.dimensionIndex=a,u(d);if(isString$2(u)){var v=formatTpl(u,d);return v.replace(DIMENSION_LABEL_REG,function(g,p){var y=p.length,_=p;_.charAt(0)==="["&&_.charAt(y-1)==="]"&&(_=+_.slice(1,y-1),process.env.NODE_ENV!=="production"&&isNaN(_)&&error("Invalide label formatter: @"+p+", only support @[0], @[1], @[2], ..."));var b=retrieveRawValue(f,n,_);if(c&&isArray$1(c.interpolatedValue)){var A=f.getDimensionIndex(_);A>=0&&(b=c.interpolatedValue[A])}return b!=null?b+"":""})}},i.prototype.getRawValue=function(n,r){return retrieveRawValue(this.getData(r),n)},i.prototype.formatTooltip=function(n,r,o){},i}();function normalizeTooltipFormatResult(i){var n,r;return isObject$3(i)?i.type?r=i:process.env.NODE_ENV!=="production"&&console.warn("The return type of `formatTooltip` is not supported: "+makePrintable(i)):n=i,{text:n,frag:r}}function createTask(i){return new Task(i)}var Task=function(){function i(n){n=n||{},this._reset=n.reset,this._plan=n.plan,this._count=n.count,this._onDirty=n.onDirty,this._dirty=!0}return i.prototype.perform=function(n){var r=this._upstream,o=n&&n.skip;if(this._dirty&&r){var a=this.context;a.data=a.outputData=r.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var u;this._plan&&!o&&(u=this._plan(this.context));var c=v(this._modBy),f=this._modDataCount||0,d=v(n&&n.modBy),h=n&&n.modDataCount||0;(c!==d||f!==h)&&(u="reset");function v(S){return!(S>=1)&&(S=1),S}var g;(this._dirty||u==="reset")&&(this._dirty=!1,g=this._doReset(o)),this._modBy=d,this._modDataCount=h;var p=n&&n.step;if(r?(process.env.NODE_ENV!=="production"&&assert(r._outputDueEnd!=null),this._dueEnd=r._outputDueEnd):(process.env.NODE_ENV!=="production"&&assert(!this._progress||this._count),this._dueEnd=this._count?this._count(this.context):1/0),this._progress){var y=this._dueIndex,_=Math.min(p!=null?this._dueIndex+p:1/0,this._dueEnd);if(!o&&(g||y<_)){var b=this._progress;if(isArray$1(b))for(var A=0;A<b.length;A++)this._doProgress(b[A],y,_,d,h);else this._doProgress(b,y,_,d,h)}this._dueIndex=_;var w=this._settedOutputEnd!=null?this._settedOutputEnd:_;process.env.NODE_ENV!=="production"&&assert(w>=this._outputDueEnd),this._outputDueEnd=w}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},i.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},i.prototype._doProgress=function(n,r,o,a,u){iterator.reset(r,o,a,u),this._callingProgress=n,this._callingProgress({start:r,end:o,count:o-r,next:iterator.next},this.context)},i.prototype._doReset=function(n){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var r,o;!n&&this._reset&&(r=this._reset(this.context),r&&r.progress&&(o=r.forceFirstProgress,r=r.progress),isArray$1(r)&&!r.length&&(r=null)),this._progress=r,this._modBy=this._modDataCount=null;var a=this._downstream;return a&&a.dirty(),o},i.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},i.prototype.pipe=function(n){process.env.NODE_ENV!=="production"&&assert(n&&!n._disposed&&n!==this),(this._downstream!==n||this._dirty)&&(this._downstream=n,n._upstream=this,n.dirty())},i.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},i.prototype.getUpstream=function(){return this._upstream},i.prototype.getDownstream=function(){return this._downstream},i.prototype.setOutputEnd=function(n){this._outputDueEnd=this._settedOutputEnd=n},i}(),iterator=function(){var i,n,r,o,a,u={reset:function(d,h,v,g){n=d,i=h,r=v,o=g,a=Math.ceil(o/r),u.next=r>1&&o>0?f:c}};return u;function c(){return n<i?n++:null}function f(){var d=n%a*r+Math.ceil(n/a),h=n>=i?null:d<o?d:n;return n++,h}}();function parseDataValue(i,n){var r=n&&n.type;return r==="ordinal"?i:(r==="time"&&!isNumber$1(i)&&i!=null&&i!=="-"&&(i=+parseDate(i)),i==null||i===""?NaN:+i)}createHashMap({number:function(i){return parseFloat(i)},time:function(i){return+parseDate(i)},trim:function(i){return isString$2(i)?trim(i):i}});var SortOrderComparator=function(){function i(n,r){var o=n==="desc";this._resultLT=o?1:-1,r==null&&(r=o?"min":"max"),this._incomparable=r==="min"?-1/0:1/0}return i.prototype.evaluate=function(n,r){var o=isNumber$1(n)?n:numericToNumber(n),a=isNumber$1(r)?r:numericToNumber(r),u=isNaN(o),c=isNaN(a);if(u&&(o=this._incomparable),c&&(a=this._incomparable),u&&c){var f=isString$2(n),d=isString$2(r);f&&(o=d?n:0),d&&(a=f?r:0)}return o<a?this._resultLT:o>a?-this._resultLT:0},i}(),ExternalSource=function(){function i(){}return i.prototype.getRawData=function(){throw new Error("not supported")},i.prototype.getRawDataItem=function(n){throw new Error("not supported")},i.prototype.cloneRawData=function(){},i.prototype.getDimensionInfo=function(n){},i.prototype.cloneAllDimensionInfo=function(){},i.prototype.count=function(){},i.prototype.retrieveValue=function(n,r){},i.prototype.retrieveValueFromItem=function(n,r){},i.prototype.convertValue=function(n,r){return parseDataValue(n,r)},i}();function createExternalSource(i,n){var r=new ExternalSource,o=i.data,a=r.sourceFormat=i.sourceFormat,u=i.startIndex,c="";i.seriesLayoutBy!==SERIES_LAYOUT_BY_COLUMN&&(process.env.NODE_ENV!=="production"&&(c='`seriesLayoutBy` of upstream dataset can only be "column" in data transform.'),throwError$1(c));var f=[],d={},h=i.dimensionsDefine;if(h)each$4(h,function(b,A){var w=b.name,S={index:A,name:w,displayName:b.displayName};if(f.push(S),w!=null){var T="";hasOwn$1(d,w)&&(process.env.NODE_ENV!=="production"&&(T='dimension name "'+w+'" duplicated.'),throwError$1(T)),d[w]=S}});else for(var v=0;v<i.dimensionsDetectedCount;v++)f.push({index:v});var g=getRawSourceItemGetter(a,SERIES_LAYOUT_BY_COLUMN);n.__isBuiltIn&&(r.getRawDataItem=function(b){return g(o,u,f,b)},r.getRawData=bind$1(getRawData,null,i)),r.cloneRawData=bind$1(cloneRawData,null,i);var p=getRawSourceDataCounter(a,SERIES_LAYOUT_BY_COLUMN);r.count=bind$1(p,null,o,u,f);var y=getRawSourceValueGetter(a);r.retrieveValue=function(b,A){var w=g(o,u,f,b);return _(w,A)};var _=r.retrieveValueFromItem=function(b,A){if(b!=null){var w=f[A];if(w)return y(b,A,w.name)}};return r.getDimensionInfo=bind$1(getDimensionInfo,null,f,d),r.cloneAllDimensionInfo=bind$1(cloneAllDimensionInfo,null,f),r}function getRawData(i){var n=i.sourceFormat;if(!isSupportedSourceFormat(n)){var r="";process.env.NODE_ENV!=="production"&&(r="`getRawData` is not supported in source format "+n),throwError$1(r)}return i.data}function cloneRawData(i){var n=i.sourceFormat,r=i.data;if(!isSupportedSourceFormat(n)){var o="";process.env.NODE_ENV!=="production"&&(o="`cloneRawData` is not supported in source format "+n),throwError$1(o)}if(n===SOURCE_FORMAT_ARRAY_ROWS){for(var a=[],u=0,c=r.length;u<c;u++)a.push(r[u].slice());return a}else if(n===SOURCE_FORMAT_OBJECT_ROWS){for(var a=[],u=0,c=r.length;u<c;u++)a.push(extend({},r[u]));return a}}function getDimensionInfo(i,n,r){if(r!=null){if(isNumber$1(r)||!isNaN(r)&&!hasOwn$1(n,r))return i[r];if(hasOwn$1(n,r))return n[r]}}function cloneAllDimensionInfo(i){return clone$2(i)}var externalTransformMap=createHashMap();function registerExternalTransform(i){i=clone$2(i);var n=i.type,r="";n||(process.env.NODE_ENV!=="production"&&(r="Must have a `type` when `registerTransform`."),throwError$1(r));var o=n.split(":");o.length!==2&&(process.env.NODE_ENV!=="production"&&(r='Name must include namespace like "ns:regression".'),throwError$1(r));var a=!1;o[0]==="echarts"&&(n=o[1],a=!0),i.__isBuiltIn=a,externalTransformMap.set(n,i)}function applyDataTransform(i,n,r){var o=normalizeToArray(i),a=o.length,u="";a||(process.env.NODE_ENV!=="production"&&(u="If `transform` declared, it should at least contain one transform."),throwError$1(u));for(var c=0,f=a;c<f;c++){var d=o[c];n=applySingleDataTransform(d,n,r,a===1?null:c),c!==f-1&&(n.length=Math.max(n.length,1))}return n}function applySingleDataTransform(i,n,r,o){var a="";n.length||(process.env.NODE_ENV!=="production"&&(a="Must have at least one upstream dataset."),throwError$1(a)),isObject$3(i)||(process.env.NODE_ENV!=="production"&&(a="transform declaration must be an object rather than "+typeof i+"."),throwError$1(a));var u=i.type,c=externalTransformMap.get(u);c||(process.env.NODE_ENV!=="production"&&(a='Can not find transform on type "'+u+'".'),throwError$1(a));var f=map$1(n,function(v){return createExternalSource(v,c)}),d=normalizeToArray(c.transform({upstream:f[0],upstreamList:f,config:clone$2(i.config)}));if(process.env.NODE_ENV!=="production"&&i.print){var h=map$1(d,function(v){var g=o!=null?" === pipe index: "+o:"";return["=== dataset index: "+r.datasetIndex+g+" ===","- transform result data:",makePrintable(v.data),"- transform result dimensions:",makePrintable(v.dimensions)].join(`
`)}).join(`
`);log(h)}return map$1(d,function(v,g){var p="";isObject$3(v)||(process.env.NODE_ENV!=="production"&&(p="A transform should not return some empty results."),throwError$1(p)),v.data||(process.env.NODE_ENV!=="production"&&(p="Transform result data should be not be null or undefined"),throwError$1(p));var y=detectSourceFormat(v.data);isSupportedSourceFormat(y)||(process.env.NODE_ENV!=="production"&&(p="Transform result data should be array rows or object rows."),throwError$1(p));var _,b=n[0];if(b&&g===0&&!v.dimensions){var A=b.startIndex;A&&(v.data=b.data.slice(0,A).concat(v.data)),_={seriesLayoutBy:SERIES_LAYOUT_BY_COLUMN,sourceHeader:A,dimensions:b.metaRawOption.dimensions}}else _={seriesLayoutBy:SERIES_LAYOUT_BY_COLUMN,sourceHeader:0,dimensions:v.dimensions};return createSource(v.data,_,null)})}function isSupportedSourceFormat(i){return i===SOURCE_FORMAT_ARRAY_ROWS||i===SOURCE_FORMAT_OBJECT_ROWS}var UNDEFINED="undefined",CtorUint32Array=typeof Uint32Array===UNDEFINED?Array:Uint32Array,CtorUint16Array=typeof Uint16Array===UNDEFINED?Array:Uint16Array,CtorInt32Array$1=typeof Int32Array===UNDEFINED?Array:Int32Array,CtorFloat64Array=typeof Float64Array===UNDEFINED?Array:Float64Array,dataCtors={float:CtorFloat64Array,int:CtorInt32Array$1,ordinal:Array,number:Array,time:CtorFloat64Array},defaultDimValueGetters;function getIndicesCtor(i){return i>65535?CtorUint32Array:CtorUint16Array}function getInitialExtent(){return[1/0,-1/0]}function cloneChunk(i){var n=i.constructor;return n===Array?i.slice():new n(i)}function prepareStore(i,n,r,o,a){var u=dataCtors[r||"float"];if(a){var c=i[n],f=c&&c.length;if(f!==o){for(var d=new u(o),h=0;h<f;h++)d[h]=c[h];i[n]=d}}else i[n]=new u(o)}var DataStore=function(){function i(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=createHashMap()}return i.prototype.initData=function(n,r,o){process.env.NODE_ENV!=="production"&&assert(isFunction$1(n.getItem)&&isFunction$1(n.count),"Invalid data provider."),this._provider=n,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var a=n.getSource(),u=this.defaultDimValueGetter=defaultDimValueGetters[a.sourceFormat];this._dimValueGetter=o||u,this._rawExtent=[];var c=shouldRetrieveDataByName(a);this._dimensions=map$1(r,function(f){return process.env.NODE_ENV!=="production"&&c&&assert(f.property!=null),{type:f.type,property:f.property}}),this._initDataFromProvider(0,n.count())},i.prototype.getProvider=function(){return this._provider},i.prototype.getSource=function(){return this._provider.getSource()},i.prototype.ensureCalculationDimension=function(n,r){var o=this._calcDimNameToIdx,a=this._dimensions,u=o.get(n);if(u!=null){if(a[u].type===r)return u}else u=a.length;return a[u]={type:r},o.set(n,u),this._chunks[u]=new dataCtors[r||"float"](this._rawCount),this._rawExtent[u]=getInitialExtent(),u},i.prototype.collectOrdinalMeta=function(n,r){var o=this._chunks[n],a=this._dimensions[n],u=this._rawExtent,c=a.ordinalOffset||0,f=o.length;c===0&&(u[n]=getInitialExtent());for(var d=u[n],h=c;h<f;h++){var v=o[h]=r.parseAndCollect(o[h]);isNaN(v)||(d[0]=Math.min(v,d[0]),d[1]=Math.max(v,d[1]))}a.ordinalMeta=r,a.ordinalOffset=f,a.type="ordinal"},i.prototype.getOrdinalMeta=function(n){var r=this._dimensions[n],o=r.ordinalMeta;return o},i.prototype.getDimensionProperty=function(n){var r=this._dimensions[n];return r&&r.property},i.prototype.appendData=function(n){process.env.NODE_ENV!=="production"&&assert(!this._indices,"appendData can only be called on raw data.");var r=this._provider,o=this.count();r.appendData(n);var a=r.count();return r.persistent||(a+=o),o<a&&this._initDataFromProvider(o,a,!0),[o,a]},i.prototype.appendValues=function(n,r){for(var o=this._chunks,a=this._dimensions,u=a.length,c=this._rawExtent,f=this.count(),d=f+Math.max(n.length,r||0),h=0;h<u;h++){var v=a[h];prepareStore(o,h,v.type,d,!0)}for(var g=[],p=f;p<d;p++)for(var y=p-f,_=0;_<u;_++){var v=a[_],b=defaultDimValueGetters.arrayRows.call(this,n[y]||g,v.property,y,_);o[_][p]=b;var A=c[_];b<A[0]&&(A[0]=b),b>A[1]&&(A[1]=b)}return this._rawCount=this._count=d,{start:f,end:d}},i.prototype._initDataFromProvider=function(n,r,o){for(var a=this._provider,u=this._chunks,c=this._dimensions,f=c.length,d=this._rawExtent,h=map$1(c,function(S){return S.property}),v=0;v<f;v++){var g=c[v];d[v]||(d[v]=getInitialExtent()),prepareStore(u,v,g.type,r,o)}if(a.fillStorage)a.fillStorage(n,r,u,d);else for(var p=[],y=n;y<r;y++){p=a.getItem(y,p);for(var _=0;_<f;_++){var b=u[_],A=this._dimValueGetter(p,h[_],y,_);b[y]=A;var w=d[_];A<w[0]&&(w[0]=A),A>w[1]&&(w[1]=A)}}!a.persistent&&a.clean&&a.clean(),this._rawCount=this._count=r,this._extent=[]},i.prototype.count=function(){return this._count},i.prototype.get=function(n,r){if(!(r>=0&&r<this._count))return NaN;var o=this._chunks[n];return o?o[this.getRawIndex(r)]:NaN},i.prototype.getValues=function(n,r){var o=[],a=[];if(r==null){r=n,n=[];for(var u=0;u<this._dimensions.length;u++)a.push(u)}else a=n;for(var u=0,c=a.length;u<c;u++)o.push(this.get(a[u],r));return o},i.prototype.getByRawIndex=function(n,r){if(!(r>=0&&r<this._rawCount))return NaN;var o=this._chunks[n];return o?o[r]:NaN},i.prototype.getSum=function(n){var r=this._chunks[n],o=0;if(r)for(var a=0,u=this.count();a<u;a++){var c=this.get(n,a);isNaN(c)||(o+=c)}return o},i.prototype.getMedian=function(n){var r=[];this.each([n],function(u){isNaN(u)||r.push(u)});var o=r.sort(function(u,c){return u-c}),a=this.count();return a===0?0:a%2===1?o[(a-1)/2]:(o[a/2]+o[a/2-1])/2},i.prototype.indexOfRawIndex=function(n){if(n>=this._rawCount||n<0)return-1;if(!this._indices)return n;var r=this._indices,o=r[n];if(o!=null&&o<this._count&&o===n)return n;for(var a=0,u=this._count-1;a<=u;){var c=(a+u)/2|0;if(r[c]<n)a=c+1;else if(r[c]>n)u=c-1;else return c}return-1},i.prototype.indicesOfNearest=function(n,r,o){var a=this._chunks,u=a[n],c=[];if(!u)return c;o==null&&(o=1/0);for(var f=1/0,d=-1,h=0,v=0,g=this.count();v<g;v++){var p=this.getRawIndex(v),y=r-u[p],_=Math.abs(y);_<=o&&((_<f||_===f&&y>=0&&d<0)&&(f=_,d=y,h=0),y===d&&(c[h++]=v))}return c.length=h,c},i.prototype.getIndices=function(){var n,r=this._indices;if(r){var o=r.constructor,a=this._count;if(o===Array){n=new o(a);for(var u=0;u<a;u++)n[u]=r[u]}else n=new o(r.buffer,0,a)}else{var o=getIndicesCtor(this._rawCount);n=new o(this.count());for(var u=0;u<n.length;u++)n[u]=u}return n},i.prototype.filter=function(n,r){if(!this._count)return this;for(var o=this.clone(),a=o.count(),u=getIndicesCtor(o._rawCount),c=new u(a),f=[],d=n.length,h=0,v=n[0],g=o._chunks,p=0;p<a;p++){var y=void 0,_=o.getRawIndex(p);if(d===0)y=r(p);else if(d===1){var b=g[v][_];y=r(b,p)}else{for(var A=0;A<d;A++)f[A]=g[n[A]][_];f[A]=p,y=r.apply(null,f)}y&&(c[h++]=_)}return h<a&&(o._indices=c),o._count=h,o._extent=[],o._updateGetRawIdx(),o},i.prototype.selectRange=function(n){var r=this.clone(),o=r._count;if(!o)return this;var a=keys(n),u=a.length;if(!u)return this;var c=r.count(),f=getIndicesCtor(r._rawCount),d=new f(c),h=0,v=a[0],g=n[v][0],p=n[v][1],y=r._chunks,_=!1;if(!r._indices){var b=0;if(u===1){for(var A=y[a[0]],w=0;w<o;w++){var S=A[w];(S>=g&&S<=p||isNaN(S))&&(d[h++]=b),b++}_=!0}else if(u===2){for(var A=y[a[0]],T=y[a[1]],x=n[a[1]][0],O=n[a[1]][1],w=0;w<o;w++){var S=A[w],L=T[w];(S>=g&&S<=p||isNaN(S))&&(L>=x&&L<=O||isNaN(L))&&(d[h++]=b),b++}_=!0}}if(!_)if(u===1)for(var w=0;w<c;w++){var M=r.getRawIndex(w),S=y[a[0]][M];(S>=g&&S<=p||isNaN(S))&&(d[h++]=M)}else for(var w=0;w<c;w++){for(var re=!0,M=r.getRawIndex(w),F=0;F<u;F++){var Y=a[F],S=y[Y][M];(S<n[Y][0]||S>n[Y][1])&&(re=!1)}re&&(d[h++]=r.getRawIndex(w))}return h<c&&(r._indices=d),r._count=h,r._extent=[],r._updateGetRawIdx(),r},i.prototype.map=function(n,r){var o=this.clone(n);return this._updateDims(o,n,r),o},i.prototype.modify=function(n,r){this._updateDims(this,n,r)},i.prototype._updateDims=function(n,r,o){for(var a=n._chunks,u=[],c=r.length,f=n.count(),d=[],h=n._rawExtent,v=0;v<r.length;v++)h[r[v]]=getInitialExtent();for(var g=0;g<f;g++){for(var p=n.getRawIndex(g),y=0;y<c;y++)d[y]=a[r[y]][p];d[c]=g;var _=o&&o.apply(null,d);if(_!=null){typeof _!="object"&&(u[0]=_,_=u);for(var v=0;v<_.length;v++){var b=r[v],A=_[v],w=h[b],S=a[b];S&&(S[p]=A),A<w[0]&&(w[0]=A),A>w[1]&&(w[1]=A)}}}},i.prototype.lttbDownSample=function(n,r){var o=this.clone([n],!0),a=o._chunks,u=a[n],c=this.count(),f=0,d=Math.floor(1/r),h=this.getRawIndex(0),v,g,p,y=new(getIndicesCtor(this._rawCount))(Math.min((Math.ceil(c/d)+2)*2,c));y[f++]=h;for(var _=1;_<c-1;_+=d){for(var b=Math.min(_+d,c-1),A=Math.min(_+d*2,c),w=(A+b)/2,S=0,T=b;T<A;T++){var x=this.getRawIndex(T),O=u[x];isNaN(O)||(S+=O)}S/=A-b;var L=_,M=Math.min(_+d,c),re=_-1,F=u[h];v=-1,p=L;for(var Y=-1,V=0,T=L;T<M;T++){var x=this.getRawIndex(T),O=u[x];if(isNaN(O)){V++,Y<0&&(Y=x);continue}g=Math.abs((re-w)*(O-F)-(re-T)*(S-F)),g>v&&(v=g,p=x)}V>0&&V<M-L&&(y[f++]=Math.min(Y,p),p=Math.max(Y,p)),y[f++]=p,h=p}return y[f++]=this.getRawIndex(c-1),o._count=f,o._indices=y,o.getRawIndex=this._getRawIdx,o},i.prototype.downSample=function(n,r,o,a){for(var u=this.clone([n],!0),c=u._chunks,f=[],d=Math.floor(1/r),h=c[n],v=this.count(),g=u._rawExtent[n]=getInitialExtent(),p=new(getIndicesCtor(this._rawCount))(Math.ceil(v/d)),y=0,_=0;_<v;_+=d){d>v-_&&(d=v-_,f.length=d);for(var b=0;b<d;b++){var A=this.getRawIndex(_+b);f[b]=h[A]}var w=o(f),S=this.getRawIndex(Math.min(_+a(f,w)||0,v-1));h[S]=w,w<g[0]&&(g[0]=w),w>g[1]&&(g[1]=w),p[y++]=S}return u._count=y,u._indices=p,u._updateGetRawIdx(),u},i.prototype.each=function(n,r){if(this._count)for(var o=n.length,a=this._chunks,u=0,c=this.count();u<c;u++){var f=this.getRawIndex(u);switch(o){case 0:r(u);break;case 1:r(a[n[0]][f],u);break;case 2:r(a[n[0]][f],a[n[1]][f],u);break;default:for(var d=0,h=[];d<o;d++)h[d]=a[n[d]][f];h[d]=u,r.apply(null,h)}}},i.prototype.getDataExtent=function(n){var r=this._chunks[n],o=getInitialExtent();if(!r)return o;var a=this.count(),u=!this._indices,c;if(u)return this._rawExtent[n].slice();if(c=this._extent[n],c)return c.slice();c=o;for(var f=c[0],d=c[1],h=0;h<a;h++){var v=this.getRawIndex(h),g=r[v];g<f&&(f=g),g>d&&(d=g)}return c=[f,d],this._extent[n]=c,c},i.prototype.getRawDataItem=function(n){var r=this.getRawIndex(n);if(this._provider.persistent)return this._provider.getItem(r);for(var o=[],a=this._chunks,u=0;u<a.length;u++)o.push(a[u][r]);return o},i.prototype.clone=function(n,r){var o=new i,a=this._chunks,u=n&&reduce(n,function(f,d){return f[d]=!0,f},{});if(u)for(var c=0;c<a.length;c++)o._chunks[c]=u[c]?cloneChunk(a[c]):a[c];else o._chunks=a;return this._copyCommonProps(o),r||(o._indices=this._cloneIndices()),o._updateGetRawIdx(),o},i.prototype._copyCommonProps=function(n){n._count=this._count,n._rawCount=this._rawCount,n._provider=this._provider,n._dimensions=this._dimensions,n._extent=clone$2(this._extent),n._rawExtent=clone$2(this._rawExtent)},i.prototype._cloneIndices=function(){if(this._indices){var n=this._indices.constructor,r=void 0;if(n===Array){var o=this._indices.length;r=new n(o);for(var a=0;a<o;a++)r[a]=this._indices[a]}else r=new n(this._indices);return r}return null},i.prototype._getRawIdxIdentity=function(n){return n},i.prototype._getRawIdx=function(n){return n<this._count&&n>=0?this._indices[n]:-1},i.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},i.internalField=function(){function n(r,o,a,u){return parseDataValue(r[u],this._dimensions[u])}defaultDimValueGetters={arrayRows:n,objectRows:function(r,o,a,u){return parseDataValue(r[o],this._dimensions[u])},keyedColumns:n,original:function(r,o,a,u){var c=r&&(r.value==null?r:r.value);return parseDataValue(c instanceof Array?c[u]:c,this._dimensions[u])},typedArray:function(r,o,a,u){return r[u]}}}(),i}(),SourceManager=function(){function i(n){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=n}return i.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},i.prototype._setLocalSource=function(n,r){this._sourceList=n,this._upstreamSignList=r,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},i.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},i.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},i.prototype._createSource=function(){this._setLocalSource([],[]);var n=this._sourceHost,r=this._getUpstreamSourceManagers(),o=!!r.length,a,u;if(isSeries(n)){var c=n,f=void 0,d=void 0,h=void 0;if(o){var v=r[0];v.prepareSource(),h=v.getSource(),f=h.data,d=h.sourceFormat,u=[v._getVersionSign()]}else f=c.get("data",!0),d=isTypedArray(f)?SOURCE_FORMAT_TYPED_ARRAY:SOURCE_FORMAT_ORIGINAL,u=[];var g=this._getSourceMetaRawOption()||{},p=h&&h.metaRawOption||{},y=retrieve2(g.seriesLayoutBy,p.seriesLayoutBy)||null,_=retrieve2(g.sourceHeader,p.sourceHeader),b=retrieve2(g.dimensions,p.dimensions),A=y!==p.seriesLayoutBy||!!_!=!!p.sourceHeader||b;a=A?[createSource(f,{seriesLayoutBy:y,sourceHeader:_,dimensions:b},d)]:[]}else{var w=n;if(o){var S=this._applyTransform(r);a=S.sourceList,u=S.upstreamSignList}else{var T=w.get("source",!0);a=[createSource(T,this._getSourceMetaRawOption(),null)],u=[]}}process.env.NODE_ENV!=="production"&&assert(a&&u),this._setLocalSource(a,u)},i.prototype._applyTransform=function(n){var r=this._sourceHost,o=r.get("transform",!0),a=r.get("fromTransformResult",!0);if(process.env.NODE_ENV!=="production"&&assert(a!=null||o!=null),a!=null){var u="";n.length!==1&&(process.env.NODE_ENV!=="production"&&(u="When using `fromTransformResult`, there should be only one upstream dataset"),doThrow(u))}var c,f=[],d=[];return each$4(n,function(h){h.prepareSource();var v=h.getSource(a||0),g="";a!=null&&!v&&(process.env.NODE_ENV!=="production"&&(g="Can not retrieve result by `fromTransformResult`: "+a),doThrow(g)),f.push(v),d.push(h._getVersionSign())}),o?c=applyDataTransform(o,f,{datasetIndex:r.componentIndex}):a!=null&&(c=[cloneSourceShallow(f[0])]),{sourceList:c,upstreamSignList:d}},i.prototype._isDirty=function(){if(this._dirty)return!0;for(var n=this._getUpstreamSourceManagers(),r=0;r<n.length;r++){var o=n[r];if(o._isDirty()||this._upstreamSignList[r]!==o._getVersionSign())return!0}},i.prototype.getSource=function(n){n=n||0;var r=this._sourceList[n];if(!r){var o=this._getUpstreamSourceManagers();return o[0]&&o[0].getSource(n)}return r},i.prototype.getSharedDataStore=function(n){process.env.NODE_ENV!=="production"&&assert(isSeries(this._sourceHost),"Can only call getDataStore on series source manager.");var r=n.makeStoreSchema();return this._innerGetDataStore(r.dimensions,n.source,r.hash)},i.prototype._innerGetDataStore=function(n,r,o){var a=0,u=this._storeList,c=u[a];c||(c=u[a]={});var f=c[o];if(!f){var d=this._getUpstreamSourceManagers()[0];isSeries(this._sourceHost)&&d?f=d._innerGetDataStore(n,r,o):(f=new DataStore,f.initData(new DefaultDataProvider(r,n.length),n)),c[o]=f}return f},i.prototype._getUpstreamSourceManagers=function(){var n=this._sourceHost;if(isSeries(n)){var r=querySeriesUpstreamDatasetModel(n);return r?[r.getSourceManager()]:[]}else return map$1(queryDatasetUpstreamDatasetModels(n),function(o){return o.getSourceManager()})},i.prototype._getSourceMetaRawOption=function(){var n=this._sourceHost,r,o,a;if(isSeries(n))r=n.get("seriesLayoutBy",!0),o=n.get("sourceHeader",!0),a=n.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var u=n;r=u.get("seriesLayoutBy",!0),o=u.get("sourceHeader",!0),a=u.get("dimensions",!0)}return{seriesLayoutBy:r,sourceHeader:o,dimensions:a}},i}();function isSeries(i){return i.mainType==="series"}function doThrow(i){throw new Error(i)}var TOOLTIP_LINE_HEIGHT_CSS="line-height:1";function getTooltipTextStyle(i,n){var r=i.color||"#6e7079",o=i.fontSize||12,a=i.fontWeight||"400",u=i.color||"#464646",c=i.fontSize||14,f=i.fontWeight||"900";return n==="html"?{nameStyle:"font-size:"+encodeHTML(o+"")+"px;color:"+encodeHTML(r)+";font-weight:"+encodeHTML(a+""),valueStyle:"font-size:"+encodeHTML(c+"")+"px;color:"+encodeHTML(u)+";font-weight:"+encodeHTML(f+"")}:{nameStyle:{fontSize:o,fill:r,fontWeight:a},valueStyle:{fontSize:c,fill:u,fontWeight:f}}}var HTML_GAPS=[0,10,20,30],RICH_TEXT_GAPS=["",`
`,`

`,`


`];function createTooltipMarkup(i,n){return n.type=i,n}function isSectionFragment(i){return i.type==="section"}function getBuilder(i){return isSectionFragment(i)?buildSection:buildNameValue}function getBlockGapLevel(i){if(isSectionFragment(i)){var n=0,r=i.blocks.length,o=r>1||r>0&&!i.noHeader;return each$4(i.blocks,function(a){var u=getBlockGapLevel(a);u>=n&&(n=u+ +(o&&(!u||isSectionFragment(a)&&!a.noHeader)))}),n}return 0}function buildSection(i,n,r,o){var a=n.noHeader,u=getGap(getBlockGapLevel(n)),c=[],f=n.blocks||[];assert(!f||isArray$1(f)),f=f||[];var d=i.orderMode;if(n.sortBlocks&&d){f=f.slice();var h={valueAsc:"asc",valueDesc:"desc"};if(hasOwn$1(h,d)){var v=new SortOrderComparator(h[d],null);f.sort(function(_,b){return v.evaluate(_.sortParam,b.sortParam)})}else d==="seriesDesc"&&f.reverse()}each$4(f,function(_,b){var A=n.valueFormatter,w=getBuilder(_)(A?extend(extend({},i),{valueFormatter:A}):i,_,b>0?u.html:0,o);w!=null&&c.push(w)});var g=i.renderMode==="richText"?c.join(u.richText):wrapBlockHTML(c.join(""),a?r:u.html);if(a)return g;var p=makeValueReadable(n.header,"ordinal",i.useUTC),y=getTooltipTextStyle(o,i.renderMode).nameStyle;return i.renderMode==="richText"?wrapInlineNameRichText(i,p,y)+u.richText+g:wrapBlockHTML('<div style="'+y+";"+TOOLTIP_LINE_HEIGHT_CSS+';">'+encodeHTML(p)+"</div>"+g,r)}function buildNameValue(i,n,r,o){var a=i.renderMode,u=n.noName,c=n.noValue,f=!n.markerType,d=n.name,h=i.useUTC,v=n.valueFormatter||i.valueFormatter||function(x){return x=isArray$1(x)?x:[x],map$1(x,function(O,L){return makeValueReadable(O,isArray$1(y)?y[L]:y,h)})};if(!(u&&c)){var g=f?"":i.markupStyleCreator.makeTooltipMarker(n.markerType,n.markerColor||"#333",a),p=u?"":makeValueReadable(d,"ordinal",h),y=n.valueType,_=c?[]:v(n.value),b=!f||!u,A=!f&&u,w=getTooltipTextStyle(o,a),S=w.nameStyle,T=w.valueStyle;return a==="richText"?(f?"":g)+(u?"":wrapInlineNameRichText(i,p,S))+(c?"":wrapInlineValueRichText(i,_,b,A,T)):wrapBlockHTML((f?"":g)+(u?"":wrapInlineNameHTML(p,!f,S))+(c?"":wrapInlineValueHTML(_,b,A,T)),r)}}function buildTooltipMarkup(i,n,r,o,a,u){if(i){var c=getBuilder(i),f={useUTC:a,renderMode:r,orderMode:o,markupStyleCreator:n,valueFormatter:i.valueFormatter};return c(f,i,0,u)}}function getGap(i){return{html:HTML_GAPS[i],richText:RICH_TEXT_GAPS[i]}}function wrapBlockHTML(i,n){var r='<div style="clear:both"></div>',o="margin: "+n+"px 0 0";return'<div style="'+o+";"+TOOLTIP_LINE_HEIGHT_CSS+';">'+i+r+"</div>"}function wrapInlineNameHTML(i,n,r){var o=n?"margin-left:2px":"";return'<span style="'+r+";"+o+'">'+encodeHTML(i)+"</span>"}function wrapInlineValueHTML(i,n,r,o){var a=r?"10px":"20px",u=n?"float:right;margin-left:"+a:"";return i=isArray$1(i)?i:[i],'<span style="'+u+";"+o+'">'+map$1(i,function(c){return encodeHTML(c)}).join("&nbsp;&nbsp;")+"</span>"}function wrapInlineNameRichText(i,n,r){return i.markupStyleCreator.wrapRichTextStyle(n,r)}function wrapInlineValueRichText(i,n,r,o,a){var u=[a],c=o?10:20;return r&&u.push({padding:[0,0,0,c],align:"right"}),i.markupStyleCreator.wrapRichTextStyle(isArray$1(n)?n.join("  "):n,u)}function retrieveVisualColorForTooltipMarker(i,n){var r=i.getData().getItemVisual(n,"style"),o=r[i.visualDrawType];return convertToColorString(o)}function getPaddingFromTooltipModel(i,n){var r=i.get("padding");return r??(n==="richText"?[8,10]:10)}var TooltipMarkupStyleCreator=function(){function i(){this.richTextStyles={},this._nextStyleNameId=getRandomIdBase()}return i.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},i.prototype.makeTooltipMarker=function(n,r,o){var a=o==="richText"?this._generateStyleName():null,u=getTooltipMarker({color:r,type:n,renderMode:o,markerId:a});return isString$2(u)?u:(process.env.NODE_ENV!=="production"&&assert(a),this.richTextStyles[a]=u.style,u.content)},i.prototype.wrapRichTextStyle=function(n,r){var o={};isArray$1(r)?each$4(r,function(u){return extend(o,u)}):extend(o,r);var a=this._generateStyleName();return this.richTextStyles[a]=o,"{"+a+"|"+n+"}"},i}();function defaultSeriesFormatTooltip(i){var n=i.series,r=i.dataIndex,o=i.multipleSeries,a=n.getData(),u=a.mapDimensionsAll("defaultedTooltip"),c=u.length,f=n.getRawValue(r),d=isArray$1(f),h=retrieveVisualColorForTooltipMarker(n,r),v,g,p,y;if(c>1||d&&!c){var _=formatTooltipArrayValue(f,n,r,u,h);v=_.inlineValues,g=_.inlineValueTypes,p=_.blocks,y=_.inlineValues[0]}else if(c){var b=a.getDimensionInfo(u[0]);y=v=retrieveRawValue(a,r,u[0]),g=b.type}else y=v=d?f[0]:f;var A=isNameSpecified(n),w=A&&n.name||"",S=a.getName(r),T=o?w:S;return createTooltipMarkup("section",{header:w,noHeader:o||!A,sortParam:y,blocks:[createTooltipMarkup("nameValue",{markerType:"item",markerColor:h,name:T,noName:!trim(T),value:v,valueType:g})].concat(p||[])})}function formatTooltipArrayValue(i,n,r,o,a){var u=n.getData(),c=reduce(i,function(g,p,y){var _=u.getDimensionInfo(y);return g=g||_&&_.tooltip!==!1&&_.displayName!=null},!1),f=[],d=[],h=[];o.length?each$4(o,function(g){v(retrieveRawValue(u,r,g),g)}):each$4(i,v);function v(g,p){var y=u.getDimensionInfo(p);!y||y.otherDims.tooltip===!1||(c?h.push(createTooltipMarkup("nameValue",{markerType:"subItem",markerColor:a,name:y.displayName,value:g,valueType:y.type})):(f.push(g),d.push(y.type)))}return{inlineValues:f,inlineValueTypes:d,blocks:h}}var inner$6=makeInner();function getSelectionKey(i,n){return i.getName(n)||i.getId(n)}var SERIES_UNIVERSAL_TRANSITION_PROP="__universalTransitionEnabled",SeriesModel=function(i){__extends(n,i);function n(){var r=i!==null&&i.apply(this,arguments)||this;return r._selectedDataIndicesMap={},r}return n.prototype.init=function(r,o,a){this.seriesIndex=this.componentIndex,this.dataTask=createTask({count:dataTaskCount,reset:dataTaskReset}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(r,a);var u=inner$6(this).sourceManager=new SourceManager(this);u.prepareSource();var c=this.getInitialData(r,a);wrapData(c,this),this.dataTask.context.data=c,process.env.NODE_ENV!=="production"&&assert(c,"getInitialData returned invalid data."),inner$6(this).dataBeforeProcessed=c,autoSeriesName(this),this._initSelectedMapFromData(c)},n.prototype.mergeDefaultAndTheme=function(r,o){var a=fetchLayoutMode(this),u=a?getLayoutParams(r):{},c=this.subType;ComponentModel$1.hasClass(c)&&(c+="Series"),merge(r,o.getTheme().get(this.subType)),merge(r,this.getDefaultOption()),defaultEmphasis(r,"label",["show"]),this.fillDataTextStyle(r.data),a&&mergeLayoutParam(r,u,a)},n.prototype.mergeOption=function(r,o){r=merge(this.option,r,!0),this.fillDataTextStyle(r.data);var a=fetchLayoutMode(this);a&&mergeLayoutParam(this.option,r,a);var u=inner$6(this).sourceManager;u.dirty(),u.prepareSource();var c=this.getInitialData(r,o);wrapData(c,this),this.dataTask.dirty(),this.dataTask.context.data=c,inner$6(this).dataBeforeProcessed=c,autoSeriesName(this),this._initSelectedMapFromData(c)},n.prototype.fillDataTextStyle=function(r){if(r&&!isTypedArray(r))for(var o=["show"],a=0;a<r.length;a++)r[a]&&r[a].label&&defaultEmphasis(r[a],"label",o)},n.prototype.getInitialData=function(r,o){},n.prototype.appendData=function(r){var o=this.getRawData();o.appendData(r.data)},n.prototype.getData=function(r){var o=getCurrentTask(this);if(o){var a=o.context.data;return r==null?a:a.getLinkedData(r)}else return inner$6(this).data},n.prototype.getAllData=function(){var r=this.getData();return r&&r.getLinkedDataAll?r.getLinkedDataAll():[{data:r}]},n.prototype.setData=function(r){var o=getCurrentTask(this);if(o){var a=o.context;a.outputData=r,o!==this.dataTask&&(a.data=r)}inner$6(this).data=r},n.prototype.getEncode=function(){var r=this.get("encode",!0);if(r)return createHashMap(r)},n.prototype.getSourceManager=function(){return inner$6(this).sourceManager},n.prototype.getSource=function(){return this.getSourceManager().getSource()},n.prototype.getRawData=function(){return inner$6(this).dataBeforeProcessed},n.prototype.getColorBy=function(){var r=this.get("colorBy");return r||"series"},n.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},n.prototype.getBaseAxis=function(){var r=this.coordinateSystem;return r&&r.getBaseAxis&&r.getBaseAxis()},n.prototype.formatTooltip=function(r,o,a){return defaultSeriesFormatTooltip({series:this,dataIndex:r,multipleSeries:o})},n.prototype.isAnimationEnabled=function(){var r=this.ecModel;if(env$1.node&&!(r&&r.ssr))return!1;var o=this.getShallow("animation");return o&&this.getData().count()>this.getShallow("animationThreshold")&&(o=!1),!!o},n.prototype.restoreData=function(){this.dataTask.dirty()},n.prototype.getColorFromPalette=function(r,o,a){var u=this.ecModel,c=PaletteMixin.prototype.getColorFromPalette.call(this,r,o,a);return c||(c=u.getColorFromPalette(r,o,a)),c},n.prototype.coordDimToDataDim=function(r){return this.getRawData().mapDimensionsAll(r)},n.prototype.getProgressive=function(){return this.get("progressive")},n.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},n.prototype.select=function(r,o){this._innerSelect(this.getData(o),r)},n.prototype.unselect=function(r,o){var a=this.option.selectedMap;if(a){var u=this.option.selectedMode,c=this.getData(o);if(u==="series"||a==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var f=0;f<r.length;f++){var d=r[f],h=getSelectionKey(c,d);a[h]=!1,this._selectedDataIndicesMap[h]=-1}}},n.prototype.toggleSelect=function(r,o){for(var a=[],u=0;u<r.length;u++)a[0]=r[u],this.isSelected(r[u],o)?this.unselect(a,o):this.select(a,o)},n.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var r=this._selectedDataIndicesMap,o=keys(r),a=[],u=0;u<o.length;u++){var c=r[o[u]];c>=0&&a.push(c)}return a},n.prototype.isSelected=function(r,o){var a=this.option.selectedMap;if(!a)return!1;var u=this.getData(o);return(a==="all"||a[getSelectionKey(u,r)])&&!u.getItemModel(r).get(["select","disabled"])},n.prototype.isUniversalTransitionEnabled=function(){if(this[SERIES_UNIVERSAL_TRANSITION_PROP])return!0;var r=this.option.universalTransition;return r?r===!0?!0:r&&r.enabled:!1},n.prototype._innerSelect=function(r,o){var a,u,c=this.option,f=c.selectedMode,d=o.length;if(!(!f||!d)){if(f==="series")c.selectedMap="all";else if(f==="multiple"){isObject$3(c.selectedMap)||(c.selectedMap={});for(var h=c.selectedMap,v=0;v<d;v++){var g=o[v],p=getSelectionKey(r,g);h[p]=!0,this._selectedDataIndicesMap[p]=r.getRawIndex(g)}}else if(f==="single"||f===!0){var y=o[d-1],p=getSelectionKey(r,y);c.selectedMap=(a={},a[p]=!0,a),this._selectedDataIndicesMap=(u={},u[p]=r.getRawIndex(y),u)}}},n.prototype._initSelectedMapFromData=function(r){if(!this.option.selectedMap){var o=[];r.hasItemOption&&r.each(function(a){var u=r.getRawDataItem(a);u&&u.selected&&o.push(a)}),o.length>0&&this._innerSelect(r,o)}},n.registerClass=function(r){return ComponentModel$1.registerClass(r)},n.protoInitialize=function(){var r=n.prototype;r.type="series.__base__",r.seriesIndex=0,r.ignoreStyleOnData=!1,r.hasSymbolVisual=!1,r.defaultSymbol="circle",r.visualStyleAccessPath="itemStyle",r.visualDrawType="fill"}(),n}(ComponentModel$1);mixin(SeriesModel,DataFormatMixin),mixin(SeriesModel,PaletteMixin),mountExtend(SeriesModel,ComponentModel$1);function autoSeriesName(i){var n=i.name;isNameSpecified(i)||(i.name=getSeriesAutoName(i)||n)}function getSeriesAutoName(i){var n=i.getRawData(),r=n.mapDimensionsAll("seriesName"),o=[];return each$4(r,function(a){var u=n.getDimensionInfo(a);u.displayName&&o.push(u.displayName)}),o.join(" ")}function dataTaskCount(i){return i.model.getRawData().count()}function dataTaskReset(i){var n=i.model;return n.setData(n.getRawData().cloneShallow()),dataTaskProgress}function dataTaskProgress(i,n){n.outputData&&i.end>n.outputData.count()&&n.model.getRawData().cloneShallow(n.outputData)}function wrapData(i,n){each$4(concatArray(i.CHANGABLE_METHODS,i.DOWNSAMPLE_METHODS),function(r){i.wrapMethod(r,curry$1(onDataChange,n))})}function onDataChange(i,n){var r=getCurrentTask(i);return r&&r.setOutputEnd((n||this).count()),n}function getCurrentTask(i){var n=(i.ecModel||{}).scheduler,r=n&&n.getPipeline(i.uid);if(r){var o=r.currentTask;if(o){var a=o.agentStubMap;a&&(o=a.get(i.uid))}return o}}const SeriesModel$1=SeriesModel;var ComponentView=function(){function i(){this.group=new Group$3,this.uid=getUID("viewComponent")}return i.prototype.init=function(n,r){},i.prototype.render=function(n,r,o,a){},i.prototype.dispose=function(n,r){},i.prototype.updateView=function(n,r,o,a){},i.prototype.updateLayout=function(n,r,o,a){},i.prototype.updateVisual=function(n,r,o,a){},i.prototype.toggleBlurSeries=function(n,r,o){},i.prototype.eachRendered=function(n){var r=this.group;r&&r.traverse(n)},i}();enableClassExtend(ComponentView),enableClassManagement(ComponentView);const ComponentView$1=ComponentView;function createRenderPlanner(){var i=makeInner();return function(n){var r=i(n),o=n.pipelineContext,a=!!r.large,u=!!r.progressiveRender,c=r.large=!!(o&&o.large),f=r.progressiveRender=!!(o&&o.progressiveRender);return(a!==c||u!==f)&&"reset"}}var inner$5=makeInner(),renderPlanner=createRenderPlanner(),ChartView=function(){function i(){this.group=new Group$3,this.uid=getUID("viewChart"),this.renderTask=createTask({plan:renderTaskPlan,reset:renderTaskReset}),this.renderTask.context={view:this}}return i.prototype.init=function(n,r){},i.prototype.render=function(n,r,o,a){if(process.env.NODE_ENV!=="production")throw new Error("render method must been implemented")},i.prototype.highlight=function(n,r,o,a){var u=n.getData(a&&a.dataType);if(!u){process.env.NODE_ENV!=="production"&&error("Unknown dataType "+a.dataType);return}toggleHighlight(u,a,"emphasis")},i.prototype.downplay=function(n,r,o,a){var u=n.getData(a&&a.dataType);if(!u){process.env.NODE_ENV!=="production"&&error("Unknown dataType "+a.dataType);return}toggleHighlight(u,a,"normal")},i.prototype.remove=function(n,r){this.group.removeAll()},i.prototype.dispose=function(n,r){},i.prototype.updateView=function(n,r,o,a){this.render(n,r,o,a)},i.prototype.updateLayout=function(n,r,o,a){this.render(n,r,o,a)},i.prototype.updateVisual=function(n,r,o,a){this.render(n,r,o,a)},i.prototype.eachRendered=function(n){traverseElements(this.group,n)},i.markUpdateMethod=function(n,r){inner$5(n).updateMethod=r},i.protoInitialize=function(){var n=i.prototype;n.type="chart"}(),i}();function elSetState(i,n,r){i&&isHighDownDispatcher(i)&&(n==="emphasis"?enterEmphasis:leaveEmphasis)(i,r)}function toggleHighlight(i,n,r){var o=queryDataIndex(i,n),a=n&&n.highlightKey!=null?getHighlightDigit(n.highlightKey):null;o!=null?each$4(normalizeToArray(o),function(u){elSetState(i.getItemGraphicEl(u),r,a)}):i.eachItemGraphicEl(function(u){elSetState(u,r,a)})}enableClassExtend(ChartView,["dispose"]),enableClassManagement(ChartView);function renderTaskPlan(i){return renderPlanner(i.model)}function renderTaskReset(i){var n=i.model,r=i.ecModel,o=i.api,a=i.payload,u=n.pipelineContext.progressiveRender,c=i.view,f=a&&inner$5(a).updateMethod,d=u?"incrementalPrepareRender":f&&c[f]?f:"render";return d!=="render"&&c[d](n,r,o,a),progressMethodMap[d]}var progressMethodMap={incrementalPrepareRender:{progress:function(i,n){n.view.incrementalRender(i,n.model,n.ecModel,n.api,n.payload)}},render:{forceFirstProgress:!0,progress:function(i,n){n.view.render(n.model,n.ecModel,n.api,n.payload)}}};const ChartView$1=ChartView;var ORIGIN_METHOD="\0__throttleOriginMethod",RATE="\0__throttleRate",THROTTLE_TYPE="\0__throttleType";function throttle$1(i,n,r){var o,a=0,u=0,c=null,f,d,h,v;n=n||0;function g(){u=new Date().getTime(),c=null,i.apply(d,h||[])}var p=function(){for(var y=[],_=0;_<arguments.length;_++)y[_]=arguments[_];o=new Date().getTime(),d=this,h=y;var b=v||n,A=v||r;v=null,f=o-(A?a:u)-b,clearTimeout(c),A?c=setTimeout(g,b):f>=0?g():c=setTimeout(g,-f),a=o};return p.clear=function(){c&&(clearTimeout(c),c=null)},p.debounceNextCall=function(y){v=y},p}function createOrUpdate(i,n,r,o){var a=i[n];if(a){var u=a[ORIGIN_METHOD]||a,c=a[THROTTLE_TYPE],f=a[RATE];if(f!==r||c!==o){if(r==null||!o)return i[n]=u;a=i[n]=throttle$1(u,r,o==="debounce"),a[ORIGIN_METHOD]=u,a[THROTTLE_TYPE]=o,a[RATE]=r}return a}}function clear(i,n){var r=i[n];r&&r[ORIGIN_METHOD]&&(r.clear&&r.clear(),i[n]=r[ORIGIN_METHOD])}var inner$4=makeInner(),defaultStyleMappers={itemStyle:makeStyleMapper(ITEM_STYLE_KEY_MAP,!0),lineStyle:makeStyleMapper(LINE_STYLE_KEY_MAP,!0)},defaultColorKey={lineStyle:"stroke",itemStyle:"fill"};function getStyleMapper(i,n){var r=i.visualStyleMapper||defaultStyleMappers[n];return r||(console.warn("Unknown style type '"+n+"'."),defaultStyleMappers.itemStyle)}function getDefaultColorKey(i,n){var r=i.visualDrawType||defaultColorKey[n];return r||(console.warn("Unknown style type '"+n+"'."),"fill")}var seriesStyleTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(i,n){var r=i.getData(),o=i.visualStyleAccessPath||"itemStyle",a=i.getModel(o),u=getStyleMapper(i,o),c=u(a),f=a.getShallow("decal");f&&(r.setVisual("decal",f),f.dirty=!0);var d=getDefaultColorKey(i,o),h=c[d],v=isFunction$1(h)?h:null,g=c.fill==="auto"||c.stroke==="auto";if(!c[d]||v||g){var p=i.getColorFromPalette(i.name,null,n.getSeriesCount());c[d]||(c[d]=p,r.setVisual("colorFromPalette",!0)),c.fill=c.fill==="auto"||isFunction$1(c.fill)?p:c.fill,c.stroke=c.stroke==="auto"||isFunction$1(c.stroke)?p:c.stroke}if(r.setVisual("style",c),r.setVisual("drawType",d),!n.isSeriesFiltered(i)&&v)return r.setVisual("colorFromPalette",!1),{dataEach:function(y,_){var b=i.getDataParams(_),A=extend({},c);A[d]=v(b),y.setItemVisual(_,"style",A)}}}},sharedModel=new Model$1,dataStyleTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(i,n){if(!(i.ignoreStyleOnData||n.isSeriesFiltered(i))){var r=i.getData(),o=i.visualStyleAccessPath||"itemStyle",a=getStyleMapper(i,o),u=r.getVisual("drawType");return{dataEach:r.hasItemOption?function(c,f){var d=c.getRawDataItem(f);if(d&&d[o]){sharedModel.option=d[o];var h=a(sharedModel),v=c.ensureUniqueItemVisual(f,"style");extend(v,h),sharedModel.option.decal&&(c.setItemVisual(f,"decal",sharedModel.option.decal),sharedModel.option.decal.dirty=!0),u in h&&c.setItemVisual(f,"colorFromPalette",!1)}}:null}}}},dataColorPaletteTask={performRawSeries:!0,overallReset:function(i){var n=createHashMap();i.eachSeries(function(r){var o=r.getColorBy();if(!r.isColorBySeries()){var a=r.type+"-"+o,u=n.get(a);u||(u={},n.set(a,u)),inner$4(r).scope=u}}),i.eachSeries(function(r){if(!(r.isColorBySeries()||i.isSeriesFiltered(r))){var o=r.getRawData(),a={},u=r.getData(),c=inner$4(r).scope,f=r.visualStyleAccessPath||"itemStyle",d=getDefaultColorKey(r,f);u.each(function(h){var v=u.getRawIndex(h);a[v]=h}),o.each(function(h){var v=a[h],g=u.getItemVisual(v,"colorFromPalette");if(g){var p=u.ensureUniqueItemVisual(v,"style"),y=o.getName(h)||h+"",_=o.count();p[d]=r.getColorFromPalette(y,c,_)}})}})}},PI$2=Math.PI;function defaultLoading(i,n){n=n||{},defaults(n,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var r=new Group$3,o=new Rect$1({style:{fill:n.maskColor},zlevel:n.zlevel,z:1e4});r.add(o);var a=new ZRText$1({style:{text:n.text,fill:n.textColor,fontSize:n.fontSize,fontWeight:n.fontWeight,fontStyle:n.fontStyle,fontFamily:n.fontFamily},zlevel:n.zlevel,z:10001}),u=new Rect$1({style:{fill:"none"},textContent:a,textConfig:{position:"right",distance:10},zlevel:n.zlevel,z:10001});r.add(u);var c;return n.showSpinner&&(c=new Arc$1({shape:{startAngle:-PI$2/2,endAngle:-PI$2/2+.1,r:n.spinnerRadius},style:{stroke:n.color,lineCap:"round",lineWidth:n.lineWidth},zlevel:n.zlevel,z:10001}),c.animateShape(!0).when(1e3,{endAngle:PI$2*3/2}).start("circularInOut"),c.animateShape(!0).when(1e3,{startAngle:PI$2*3/2}).delay(300).start("circularInOut"),r.add(c)),r.resize=function(){var f=a.getBoundingRect().width,d=n.showSpinner?n.spinnerRadius:0,h=(i.getWidth()-d*2-(n.showSpinner&&f?10:0)-f)/2-(n.showSpinner&&f?0:5+f/2)+(n.showSpinner?0:f/2)+(f?0:d),v=i.getHeight()/2;n.showSpinner&&c.setShape({cx:h,cy:v}),u.setShape({x:h-d,y:v-d,width:d*2,height:d*2}),o.setShape({x:0,y:0,width:i.getWidth(),height:i.getHeight()})},r.resize(),r}var Scheduler=function(){function i(n,r,o,a){this._stageTaskMap=createHashMap(),this.ecInstance=n,this.api=r,o=this._dataProcessorHandlers=o.slice(),a=this._visualHandlers=a.slice(),this._allHandlers=o.concat(a)}return i.prototype.restoreData=function(n,r){n.restoreData(r),this._stageTaskMap.each(function(o){var a=o.overallTask;a&&a.dirty()})},i.prototype.getPerformArgs=function(n,r){if(n.__pipeline){var o=this._pipelineMap.get(n.__pipeline.id),a=o.context,u=!r&&o.progressiveEnabled&&(!a||a.progressiveRender)&&n.__idxInPipeline>o.blockIndex,c=u?o.step:null,f=a&&a.modDataCount,d=f!=null?Math.ceil(f/c):null;return{step:c,modBy:d,modDataCount:f}}},i.prototype.getPipeline=function(n){return this._pipelineMap.get(n)},i.prototype.updateStreamModes=function(n,r){var o=this._pipelineMap.get(n.uid),a=n.getData(),u=a.count(),c=o.progressiveEnabled&&r.incrementalPrepareRender&&u>=o.threshold,f=n.get("large")&&u>=n.get("largeThreshold"),d=n.get("progressiveChunkMode")==="mod"?u:null;n.pipelineContext=o.context={progressiveRender:c,modDataCount:d,large:f}},i.prototype.restorePipelines=function(n){var r=this,o=r._pipelineMap=createHashMap();n.eachSeries(function(a){var u=a.getProgressive(),c=a.uid;o.set(c,{id:c,head:null,tail:null,threshold:a.getProgressiveThreshold(),progressiveEnabled:u&&!(a.preventIncremental&&a.preventIncremental()),blockIndex:-1,step:Math.round(u||700),count:0}),r._pipe(a,a.dataTask)})},i.prototype.prepareStageTasks=function(){var n=this._stageTaskMap,r=this.api.getModel(),o=this.api;each$4(this._allHandlers,function(a){var u=n.get(a.uid)||n.set(a.uid,{}),c="";process.env.NODE_ENV!=="production"&&(c='"reset" and "overallReset" must not be both specified.'),assert(!(a.reset&&a.overallReset),c),a.reset&&this._createSeriesStageTask(a,u,r,o),a.overallReset&&this._createOverallStageTask(a,u,r,o)},this)},i.prototype.prepareView=function(n,r,o,a){var u=n.renderTask,c=u.context;c.model=r,c.ecModel=o,c.api=a,u.__block=!n.incrementalPrepareRender,this._pipe(r,u)},i.prototype.performDataProcessorTasks=function(n,r){this._performStageTasks(this._dataProcessorHandlers,n,r,{block:!0})},i.prototype.performVisualTasks=function(n,r,o){this._performStageTasks(this._visualHandlers,n,r,o)},i.prototype._performStageTasks=function(n,r,o,a){a=a||{};var u=!1,c=this;each$4(n,function(d,h){if(!(a.visualType&&a.visualType!==d.visualType)){var v=c._stageTaskMap.get(d.uid),g=v.seriesTaskMap,p=v.overallTask;if(p){var y,_=p.agentStubMap;_.each(function(A){f(a,A)&&(A.dirty(),y=!0)}),y&&p.dirty(),c.updatePayload(p,o);var b=c.getPerformArgs(p,a.block);_.each(function(A){A.perform(b)}),p.perform(b)&&(u=!0)}else g&&g.each(function(A,w){f(a,A)&&A.dirty();var S=c.getPerformArgs(A,a.block);S.skip=!d.performRawSeries&&r.isSeriesFiltered(A.context.model),c.updatePayload(A,o),A.perform(S)&&(u=!0)})}});function f(d,h){return d.setDirty&&(!d.dirtyMap||d.dirtyMap.get(h.__pipeline.id))}this.unfinished=u||this.unfinished},i.prototype.performSeriesTasks=function(n){var r;n.eachSeries(function(o){r=o.dataTask.perform()||r}),this.unfinished=r||this.unfinished},i.prototype.plan=function(){this._pipelineMap.each(function(n){var r=n.tail;do{if(r.__block){n.blockIndex=r.__idxInPipeline;break}r=r.getUpstream()}while(r)})},i.prototype.updatePayload=function(n,r){r!=="remain"&&(n.context.payload=r)},i.prototype._createSeriesStageTask=function(n,r,o,a){var u=this,c=r.seriesTaskMap,f=r.seriesTaskMap=createHashMap(),d=n.seriesType,h=n.getTargetSeries;n.createOnAllSeries?o.eachRawSeries(v):d?o.eachRawSeriesByType(d,v):h&&h(o,a).each(v);function v(g){var p=g.uid,y=f.set(p,c&&c.get(p)||createTask({plan:seriesTaskPlan,reset:seriesTaskReset,count:seriesTaskCount}));y.context={model:g,ecModel:o,api:a,useClearVisual:n.isVisual&&!n.isLayout,plan:n.plan,reset:n.reset,scheduler:u},u._pipe(g,y)}},i.prototype._createOverallStageTask=function(n,r,o,a){var u=this,c=r.overallTask=r.overallTask||createTask({reset:overallTaskReset});c.context={ecModel:o,api:a,overallReset:n.overallReset,scheduler:u};var f=c.agentStubMap,d=c.agentStubMap=createHashMap(),h=n.seriesType,v=n.getTargetSeries,g=!0,p=!1,y="";process.env.NODE_ENV!=="production"&&(y='"createOnAllSeries" is not supported for "overallReset", because it will block all streams.'),assert(!n.createOnAllSeries,y),h?o.eachRawSeriesByType(h,_):v?v(o,a).each(_):(g=!1,each$4(o.getSeries(),_));function _(b){var A=b.uid,w=d.set(A,f&&f.get(A)||(p=!0,createTask({reset:stubReset,onDirty:stubOnDirty})));w.context={model:b,overallProgress:g},w.agent=c,w.__block=g,u._pipe(b,w)}p&&c.dirty()},i.prototype._pipe=function(n,r){var o=n.uid,a=this._pipelineMap.get(o);!a.head&&(a.head=r),a.tail&&a.tail.pipe(r),a.tail=r,r.__idxInPipeline=a.count++,r.__pipeline=a},i.wrapStageHandler=function(n,r){return isFunction$1(n)&&(n={overallReset:n,seriesType:detectSeriseType(n)}),n.uid=getUID("stageHandler"),r&&(n.visualType=r),n},i}();function overallTaskReset(i){i.overallReset(i.ecModel,i.api,i.payload)}function stubReset(i){return i.overallProgress&&stubProgress}function stubProgress(){this.agent.dirty(),this.getDownstream().dirty()}function stubOnDirty(){this.agent&&this.agent.dirty()}function seriesTaskPlan(i){return i.plan?i.plan(i.model,i.ecModel,i.api,i.payload):null}function seriesTaskReset(i){i.useClearVisual&&i.data.clearAllVisual();var n=i.resetDefines=normalizeToArray(i.reset(i.model,i.ecModel,i.api,i.payload));return n.length>1?map$1(n,function(r,o){return makeSeriesTaskProgress(o)}):singleSeriesTaskProgress}var singleSeriesTaskProgress=makeSeriesTaskProgress(0);function makeSeriesTaskProgress(i){return function(n,r){var o=r.data,a=r.resetDefines[i];if(a&&a.dataEach)for(var u=n.start;u<n.end;u++)a.dataEach(o,u);else a&&a.progress&&a.progress(n,o)}}function seriesTaskCount(i){return i.data.count()}function detectSeriseType(i){seriesType=null;try{i(ecModelMock,apiMock)}catch{}return seriesType}var ecModelMock={},apiMock={},seriesType;mockMethods(ecModelMock,GlobalModel$1),mockMethods(apiMock,ExtensionAPI$1),ecModelMock.eachSeriesByType=ecModelMock.eachRawSeriesByType=function(i){seriesType=i},ecModelMock.eachComponent=function(i){i.mainType==="series"&&i.subType&&(seriesType=i.subType)};function mockMethods(i,n){for(var r in n.prototype)i[r]=noop$1}const Scheduler$1=Scheduler;var colorAll=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const lightTheme={color:colorAll,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],colorAll]};var contrastColor="#B9B8CE",backgroundColor="#100C2A",axisCommon=function(){return{axisLine:{lineStyle:{color:contrastColor}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},colorPalette=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],theme={darkMode:!0,color:colorPalette,backgroundColor,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:contrastColor}},textStyle:{color:contrastColor},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:contrastColor}},dataZoom:{borderColor:"#71708A",textStyle:{color:contrastColor},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:contrastColor}},timeline:{lineStyle:{color:contrastColor},label:{color:contrastColor},controlStyle:{color:contrastColor,borderColor:contrastColor}},calendar:{itemStyle:{color:backgroundColor},dayLabel:{color:contrastColor},monthLabel:{color:contrastColor},yearLabel:{color:contrastColor}},timeAxis:axisCommon(),logAxis:axisCommon(),valueAxis:axisCommon(),categoryAxis:axisCommon(),line:{symbol:"circle"},graph:{color:colorPalette},gauge:{title:{color:contrastColor},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:contrastColor},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};theme.categoryAxis.splitLine.show=!1;const darkTheme=theme;var ECEventProcessor=function(){function i(){}return i.prototype.normalizeQuery=function(n){var r={},o={},a={};if(isString$2(n)){var u=parseClassType(n);r.mainType=u.main||null,r.subType=u.sub||null}else{var c=["Index","Name","Id"],f={name:1,dataIndex:1,dataType:1};each$4(n,function(d,h){for(var v=!1,g=0;g<c.length;g++){var p=c[g],y=h.lastIndexOf(p);if(y>0&&y===h.length-p.length){var _=h.slice(0,y);_!=="data"&&(r.mainType=_,r[p.toLowerCase()]=d,v=!0)}}f.hasOwnProperty(h)&&(o[h]=d,v=!0),v||(a[h]=d)})}return{cptQuery:r,dataQuery:o,otherQuery:a}},i.prototype.filter=function(n,r){var o=this.eventInfo;if(!o)return!0;var a=o.targetEl,u=o.packedEvent,c=o.model,f=o.view;if(!c||!f)return!0;var d=r.cptQuery,h=r.dataQuery;return v(d,c,"mainType")&&v(d,c,"subType")&&v(d,c,"index","componentIndex")&&v(d,c,"name")&&v(d,c,"id")&&v(h,u,"name")&&v(h,u,"dataIndex")&&v(h,u,"dataType")&&(!f.filterForExposedEvent||f.filterForExposedEvent(n,r.otherQuery,a,u));function v(g,p,y,_){return g[y]==null||p[_||y]===g[y]}},i.prototype.afterTrigger=function(){this.eventInfo=null},i}(),SYMBOL_PROPS_WITH_CB=["symbol","symbolSize","symbolRotate","symbolOffset"],SYMBOL_PROPS=SYMBOL_PROPS_WITH_CB.concat(["symbolKeepAspect"]),seriesSymbolTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(i,n){var r=i.getData();if(i.legendIcon&&r.setVisual("legendIcon",i.legendIcon),!i.hasSymbolVisual)return;for(var o={},a={},u=!1,c=0;c<SYMBOL_PROPS_WITH_CB.length;c++){var f=SYMBOL_PROPS_WITH_CB[c],d=i.get(f);isFunction$1(d)?(u=!0,a[f]=d):o[f]=d}if(o.symbol=o.symbol||i.defaultSymbol,r.setVisual(extend({legendIcon:i.legendIcon||o.symbol,symbolKeepAspect:i.get("symbolKeepAspect")},o)),n.isSeriesFiltered(i))return;var h=keys(a);function v(g,p){for(var y=i.getRawValue(p),_=i.getDataParams(p),b=0;b<h.length;b++){var A=h[b];g.setItemVisual(p,A,a[A](y,_))}}return{dataEach:u?v:null}}},dataSymbolTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(i,n){if(!i.hasSymbolVisual||n.isSeriesFiltered(i))return;var r=i.getData();function o(a,u){for(var c=a.getItemModel(u),f=0;f<SYMBOL_PROPS.length;f++){var d=SYMBOL_PROPS[f],h=c.getShallow(d,!0);h!=null&&a.setItemVisual(u,d,h)}}return{dataEach:r.hasItemOption?o:null}}};function getItemVisualFromData(i,n,r){switch(r){case"color":var o=i.getItemVisual(n,"style");return o[i.getVisual("drawType")];case"opacity":return i.getItemVisual(n,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return i.getItemVisual(n,r);default:process.env.NODE_ENV!=="production"&&console.warn("Unknown visual type "+r)}}function getVisualFromData(i,n){switch(n){case"color":var r=i.getVisual("style");return r[i.getVisual("drawType")];case"opacity":return i.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return i.getVisual(n);default:process.env.NODE_ENV!=="production"&&console.warn("Unknown visual type "+n)}}function createLegacyDataSelectAction(i,n){function r(o,a){var u=[];return o.eachComponent({mainType:"series",subType:i,query:a},function(c){u.push(c.seriesIndex)}),u}each$4([[i+"ToggleSelect","toggleSelect"],[i+"Select","select"],[i+"UnSelect","unselect"]],function(o){n(o[0],function(a,u,c){a=extend({},a),process.env.NODE_ENV!=="production"&&deprecateReplaceLog(a.type,o[1]),c.dispatchAction(extend(a,{type:o[1],seriesIndex:r(u,a)}))})})}function handleSeriesLegacySelectEvents(i,n,r,o,a){var u=i+n;r.isSilent(u)||(process.env.NODE_ENV!=="production"&&deprecateLog("event "+u+" is deprecated."),o.eachComponent({mainType:"series",subType:"pie"},function(c){for(var f=c.seriesIndex,d=c.option.selectedMap,h=a.selected,v=0;v<h.length;v++)if(h[v].seriesIndex===f){var g=c.getData(),p=queryDataIndex(g,a.fromActionPayload);r.trigger(u,{type:u,seriesId:c.id,name:isArray$1(p)?g.getName(p[0]):g.getName(p),selected:isString$2(d)?d:extend({},d)})}}))}function handleLegacySelectEvents(i,n,r){i.on("selectchanged",function(o){var a=r.getModel();o.isFromClick?(handleSeriesLegacySelectEvents("map","selectchanged",n,a,o),handleSeriesLegacySelectEvents("pie","selectchanged",n,a,o)):o.fromAction==="select"?(handleSeriesLegacySelectEvents("map","selected",n,a,o),handleSeriesLegacySelectEvents("pie","selected",n,a,o)):o.fromAction==="unselect"&&(handleSeriesLegacySelectEvents("map","unselected",n,a,o),handleSeriesLegacySelectEvents("pie","unselected",n,a,o))})}function findEventDispatcher(i,n,r){for(var o;i&&!(n(i)&&(o=i,r));)i=i.__hostTarget||i.parent;return o}var wmUniqueIndex=Math.round(Math.random()*9),supportDefineProperty=typeof Object.defineProperty=="function",WeakMap$1=function(){function i(){this._id="__ec_inner_"+wmUniqueIndex++}return i.prototype.get=function(n){return this._guard(n)[this._id]},i.prototype.set=function(n,r){var o=this._guard(n);return supportDefineProperty?Object.defineProperty(o,this._id,{value:r,enumerable:!1,configurable:!0}):o[this._id]=r,this},i.prototype.delete=function(n){return this.has(n)?(delete this._guard(n)[this._id],!0):!1},i.prototype.has=function(n){return!!this._guard(n)[this._id]},i.prototype._guard=function(n){if(n!==Object(n))throw TypeError("Value of WeakMap is not a non-null object.");return n},i}();const WeakMap$2=WeakMap$1;var Triangle=Path$1.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(i,n){var r=n.cx,o=n.cy,a=n.width/2,u=n.height/2;i.moveTo(r,o-u),i.lineTo(r+a,o+u),i.lineTo(r-a,o+u),i.closePath()}}),Diamond=Path$1.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(i,n){var r=n.cx,o=n.cy,a=n.width/2,u=n.height/2;i.moveTo(r,o-u),i.lineTo(r+a,o),i.lineTo(r,o+u),i.lineTo(r-a,o),i.closePath()}}),Pin=Path$1.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(i,n){var r=n.x,o=n.y,a=n.width/5*3,u=Math.max(a,n.height),c=a/2,f=c*c/(u-c),d=o-u+c+f,h=Math.asin(f/c),v=Math.cos(h)*c,g=Math.sin(h),p=Math.cos(h),y=c*.6,_=c*.7;i.moveTo(r-v,d+f),i.arc(r,d,c,Math.PI-h,Math.PI*2+h),i.bezierCurveTo(r+v-g*y,d+f+p*y,r,o-_,r,o),i.bezierCurveTo(r,o-_,r-v+g*y,d+f+p*y,r-v,d+f),i.closePath()}}),Arrow=Path$1.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(i,n){var r=n.height,o=n.width,a=n.x,u=n.y,c=o/3*2;i.moveTo(a,u),i.lineTo(a+c,u+r),i.lineTo(a,u+r/4*3),i.lineTo(a-c,u+r),i.lineTo(a,u),i.closePath()}}),symbolCtors={line:Line$1,rect:Rect$1,roundRect:Rect$1,square:Rect$1,circle:Circle$1,diamond:Diamond,pin:Pin,arrow:Arrow,triangle:Triangle},symbolShapeMakers={line:function(i,n,r,o,a){a.x1=i,a.y1=n+o/2,a.x2=i+r,a.y2=n+o/2},rect:function(i,n,r,o,a){a.x=i,a.y=n,a.width=r,a.height=o},roundRect:function(i,n,r,o,a){a.x=i,a.y=n,a.width=r,a.height=o,a.r=Math.min(r,o)/4},square:function(i,n,r,o,a){var u=Math.min(r,o);a.x=i,a.y=n,a.width=u,a.height=u},circle:function(i,n,r,o,a){a.cx=i+r/2,a.cy=n+o/2,a.r=Math.min(r,o)/2},diamond:function(i,n,r,o,a){a.cx=i+r/2,a.cy=n+o/2,a.width=r,a.height=o},pin:function(i,n,r,o,a){a.x=i+r/2,a.y=n+o/2,a.width=r,a.height=o},arrow:function(i,n,r,o,a){a.x=i+r/2,a.y=n+o/2,a.width=r,a.height=o},triangle:function(i,n,r,o,a){a.cx=i+r/2,a.cy=n+o/2,a.width=r,a.height=o}},symbolBuildProxies={};each$4(symbolCtors,function(i,n){symbolBuildProxies[n]=new i});var SymbolClz=Path$1.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(i,n,r){var o=calculateTextPosition(i,n,r),a=this.shape;return a&&a.symbolType==="pin"&&n.position==="inside"&&(o.y=r.y+r.height*.4),o},buildPath:function(i,n,r){var o=n.symbolType;if(o!=="none"){var a=symbolBuildProxies[o];a||(o="rect",a=symbolBuildProxies[o]),symbolShapeMakers[o](n.x,n.y,n.width,n.height,a.shape),a.buildPath(i,a.shape,r)}}});function symbolPathSetColor(i,n){if(this.type!=="image"){var r=this.style;this.__isEmptyBrush?(r.stroke=i,r.fill=n||"#fff",r.lineWidth=2):this.shape.symbolType==="line"?r.stroke=i:r.fill=i,this.markRedraw()}}function createSymbol(i,n,r,o,a,u,c){var f=i.indexOf("empty")===0;f&&(i=i.substr(5,1).toLowerCase()+i.substr(6));var d;return i.indexOf("image://")===0?d=makeImage(i.slice(8),new BoundingRect$1(n,r,o,a),c?"center":"cover"):i.indexOf("path://")===0?d=makePath(i.slice(7),{},new BoundingRect$1(n,r,o,a),c?"center":"cover"):d=new SymbolClz({shape:{symbolType:i,x:n,y:r,width:o,height:a}}),d.__isEmptyBrush=f,d.setColor=symbolPathSetColor,u&&d.setColor(u),d}function normalizeSymbolOffset(i,n){if(i!=null)return isArray$1(i)||(i=[i,i]),[parsePercent(i[0],n[0])||0,parsePercent(retrieve2(i[1],i[0]),n[1])||0]}function isSafeNum(i){return isFinite(i)}function createLinearGradient(i,n,r){var o=n.x==null?0:n.x,a=n.x2==null?1:n.x2,u=n.y==null?0:n.y,c=n.y2==null?0:n.y2;n.global||(o=o*r.width+r.x,a=a*r.width+r.x,u=u*r.height+r.y,c=c*r.height+r.y),o=isSafeNum(o)?o:0,a=isSafeNum(a)?a:1,u=isSafeNum(u)?u:0,c=isSafeNum(c)?c:0;var f=i.createLinearGradient(o,u,a,c);return f}function createRadialGradient(i,n,r){var o=r.width,a=r.height,u=Math.min(o,a),c=n.x==null?.5:n.x,f=n.y==null?.5:n.y,d=n.r==null?.5:n.r;n.global||(c=c*o+r.x,f=f*a+r.y,d=d*u),c=isSafeNum(c)?c:.5,f=isSafeNum(f)?f:.5,d=d>=0&&isSafeNum(d)?d:.5;var h=i.createRadialGradient(c,f,0,c,f,d);return h}function getCanvasGradient(i,n,r){for(var o=n.type==="radial"?createRadialGradient(i,n,r):createLinearGradient(i,n,r),a=n.colorStops,u=0;u<a.length;u++)o.addColorStop(a[u].offset,a[u].color);return o}function isClipPathChanged(i,n){if(i===n||!i&&!n)return!1;if(!i||!n||i.length!==n.length)return!0;for(var r=0;r<i.length;r++)if(i[r]!==n[r])return!0;return!1}function parseInt10(i){return parseInt(i,10)}function getSize(i,n,r){var o=["width","height"][n],a=["clientWidth","clientHeight"][n],u=["paddingLeft","paddingTop"][n],c=["paddingRight","paddingBottom"][n];if(r[o]!=null&&r[o]!=="auto")return parseFloat(r[o]);var f=document.defaultView.getComputedStyle(i);return(i[a]||parseInt10(f[o])||parseInt10(i.style[o]))-(parseInt10(f[u])||0)-(parseInt10(f[c])||0)|0}function normalizeLineDash(i,n){return!i||i==="solid"||!(n>0)?null:i==="dashed"?[4*n,2*n]:i==="dotted"?[n]:isNumber$1(i)?[i]:isArray$1(i)?i:null}function getLineDash(i){var n=i.style,r=n.lineDash&&n.lineWidth>0&&normalizeLineDash(n.lineDash,n.lineWidth),o=n.lineDashOffset;if(r){var a=n.strokeNoScale&&i.getLineScale?i.getLineScale():1;a&&a!==1&&(r=map$1(r,function(u){return u/a}),o/=a)}return[r,o]}var pathProxyForDraw=new PathProxy$1(!0);function styleHasStroke(i){var n=i.stroke;return!(n==null||n==="none"||!(i.lineWidth>0))}function isValidStrokeFillStyle(i){return typeof i=="string"&&i!=="none"}function styleHasFill(i){var n=i.fill;return n!=null&&n!=="none"}function doFillPath(i,n){if(n.fillOpacity!=null&&n.fillOpacity!==1){var r=i.globalAlpha;i.globalAlpha=n.fillOpacity*n.opacity,i.fill(),i.globalAlpha=r}else i.fill()}function doStrokePath(i,n){if(n.strokeOpacity!=null&&n.strokeOpacity!==1){var r=i.globalAlpha;i.globalAlpha=n.strokeOpacity*n.opacity,i.stroke(),i.globalAlpha=r}else i.stroke()}function createCanvasPattern(i,n,r){var o=createOrUpdateImage(n.image,n.__image,r);if(isImageReady(o)){var a=i.createPattern(o,n.repeat||"repeat");if(typeof DOMMatrix=="function"&&a&&a.setTransform){var u=new DOMMatrix;u.translateSelf(n.x||0,n.y||0),u.rotateSelf(0,0,(n.rotation||0)*RADIAN_TO_DEGREE),u.scaleSelf(n.scaleX||1,n.scaleY||1),a.setTransform(u)}return a}}function brushPath(i,n,r,o){var a,u=styleHasStroke(r),c=styleHasFill(r),f=r.strokePercent,d=f<1,h=!n.path;(!n.silent||d)&&h&&n.createPathProxy();var v=n.path||pathProxyForDraw,g=n.__dirty;if(!o){var p=r.fill,y=r.stroke,_=c&&!!p.colorStops,b=u&&!!y.colorStops,A=c&&!!p.image,w=u&&!!y.image,S=void 0,T=void 0,x=void 0,O=void 0,L=void 0;(_||b)&&(L=n.getBoundingRect()),_&&(S=g?getCanvasGradient(i,p,L):n.__canvasFillGradient,n.__canvasFillGradient=S),b&&(T=g?getCanvasGradient(i,y,L):n.__canvasStrokeGradient,n.__canvasStrokeGradient=T),A&&(x=g||!n.__canvasFillPattern?createCanvasPattern(i,p,n):n.__canvasFillPattern,n.__canvasFillPattern=x),w&&(O=g||!n.__canvasStrokePattern?createCanvasPattern(i,y,n):n.__canvasStrokePattern,n.__canvasStrokePattern=x),_?i.fillStyle=S:A&&(x?i.fillStyle=x:c=!1),b?i.strokeStyle=T:w&&(O?i.strokeStyle=O:u=!1)}var M=n.getGlobalScale();v.setScale(M[0],M[1],n.segmentIgnoreThreshold);var re,F;i.setLineDash&&r.lineDash&&(a=getLineDash(n),re=a[0],F=a[1]);var Y=!0;(h||g&SHAPE_CHANGED_BIT)&&(v.setDPR(i.dpr),d?v.setContext(null):(v.setContext(i),Y=!1),v.reset(),n.buildPath(v,n.shape,o),v.toStatic(),n.pathUpdated()),Y&&v.rebuildPath(i,d?f:1),re&&(i.setLineDash(re),i.lineDashOffset=F),o||(r.strokeFirst?(u&&doStrokePath(i,r),c&&doFillPath(i,r)):(c&&doFillPath(i,r),u&&doStrokePath(i,r))),re&&i.setLineDash([])}function brushImage(i,n,r){var o=n.__image=createOrUpdateImage(r.image,n.__image,n,n.onload);if(!(!o||!isImageReady(o))){var a=r.x||0,u=r.y||0,c=n.getWidth(),f=n.getHeight(),d=o.width/o.height;if(c==null&&f!=null?c=f*d:f==null&&c!=null?f=c/d:c==null&&f==null&&(c=o.width,f=o.height),r.sWidth&&r.sHeight){var h=r.sx||0,v=r.sy||0;i.drawImage(o,h,v,r.sWidth,r.sHeight,a,u,c,f)}else if(r.sx&&r.sy){var h=r.sx,v=r.sy,g=c-h,p=f-v;i.drawImage(o,h,v,g,p,a,u,c,f)}else i.drawImage(o,a,u,c,f)}}function brushText(i,n,r){var o,a=r.text;if(a!=null&&(a+=""),a){i.font=r.font||DEFAULT_FONT,i.textAlign=r.textAlign,i.textBaseline=r.textBaseline;var u=void 0,c=void 0;i.setLineDash&&r.lineDash&&(o=getLineDash(n),u=o[0],c=o[1]),u&&(i.setLineDash(u),i.lineDashOffset=c),r.strokeFirst?(styleHasStroke(r)&&i.strokeText(a,r.x,r.y),styleHasFill(r)&&i.fillText(a,r.x,r.y)):(styleHasFill(r)&&i.fillText(a,r.x,r.y),styleHasStroke(r)&&i.strokeText(a,r.x,r.y)),u&&i.setLineDash([])}}var SHADOW_NUMBER_PROPS=["shadowBlur","shadowOffsetX","shadowOffsetY"],STROKE_PROPS=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function bindCommonProps(i,n,r,o,a){var u=!1;if(!o&&(r=r||{},n===r))return!1;if(o||n.opacity!==r.opacity){flushPathDrawn(i,a),u=!0;var c=Math.max(Math.min(n.opacity,1),0);i.globalAlpha=isNaN(c)?DEFAULT_COMMON_STYLE.opacity:c}(o||n.blend!==r.blend)&&(u||(flushPathDrawn(i,a),u=!0),i.globalCompositeOperation=n.blend||DEFAULT_COMMON_STYLE.blend);for(var f=0;f<SHADOW_NUMBER_PROPS.length;f++){var d=SHADOW_NUMBER_PROPS[f];(o||n[d]!==r[d])&&(u||(flushPathDrawn(i,a),u=!0),i[d]=i.dpr*(n[d]||0))}return(o||n.shadowColor!==r.shadowColor)&&(u||(flushPathDrawn(i,a),u=!0),i.shadowColor=n.shadowColor||DEFAULT_COMMON_STYLE.shadowColor),u}function bindPathAndTextCommonStyle(i,n,r,o,a){var u=getStyle(n,a.inHover),c=o?null:r&&getStyle(r,a.inHover)||{};if(u===c)return!1;var f=bindCommonProps(i,u,c,o,a);if((o||u.fill!==c.fill)&&(f||(flushPathDrawn(i,a),f=!0),isValidStrokeFillStyle(u.fill)&&(i.fillStyle=u.fill)),(o||u.stroke!==c.stroke)&&(f||(flushPathDrawn(i,a),f=!0),isValidStrokeFillStyle(u.stroke)&&(i.strokeStyle=u.stroke)),(o||u.opacity!==c.opacity)&&(f||(flushPathDrawn(i,a),f=!0),i.globalAlpha=u.opacity==null?1:u.opacity),n.hasStroke()){var d=u.lineWidth,h=d/(u.strokeNoScale&&n.getLineScale?n.getLineScale():1);i.lineWidth!==h&&(f||(flushPathDrawn(i,a),f=!0),i.lineWidth=h)}for(var v=0;v<STROKE_PROPS.length;v++){var g=STROKE_PROPS[v],p=g[0];(o||u[p]!==c[p])&&(f||(flushPathDrawn(i,a),f=!0),i[p]=u[p]||g[1])}return f}function bindImageStyle(i,n,r,o,a){return bindCommonProps(i,getStyle(n,a.inHover),r&&getStyle(r,a.inHover),o,a)}function setContextTransform(i,n){var r=n.transform,o=i.dpr||1;r?i.setTransform(o*r[0],o*r[1],o*r[2],o*r[3],o*r[4],o*r[5]):i.setTransform(o,0,0,o,0,0)}function updateClipStatus(i,n,r){for(var o=!1,a=0;a<i.length;a++){var u=i[a];o=o||u.isZeroArea(),setContextTransform(n,u),n.beginPath(),u.buildPath(n,u.shape),n.clip()}r.allClipped=o}function isTransformChanged(i,n){return i&&n?i[0]!==n[0]||i[1]!==n[1]||i[2]!==n[2]||i[3]!==n[3]||i[4]!==n[4]||i[5]!==n[5]:!(!i&&!n)}var DRAW_TYPE_PATH=1,DRAW_TYPE_IMAGE=2,DRAW_TYPE_TEXT=3,DRAW_TYPE_INCREMENTAL=4;function canPathBatch(i){var n=styleHasFill(i),r=styleHasStroke(i);return!(i.lineDash||!(+n^+r)||n&&typeof i.fill!="string"||r&&typeof i.stroke!="string"||i.strokePercent<1||i.strokeOpacity<1||i.fillOpacity<1)}function flushPathDrawn(i,n){n.batchFill&&i.fill(),n.batchStroke&&i.stroke(),n.batchFill="",n.batchStroke=""}function getStyle(i,n){return n&&i.__hoverStyle||i.style}function brushSingle(i,n){brush$1(i,n,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function brush$1(i,n,r,o){var a=n.transform;if(!n.shouldBePainted(r.viewWidth,r.viewHeight,!1,!1)){n.__dirty&=~REDRAW_BIT,n.__isRendered=!1;return}var u=n.__clipPaths,c=r.prevElClipPaths,f=!1,d=!1;if((!c||isClipPathChanged(u,c))&&(c&&c.length&&(flushPathDrawn(i,r),i.restore(),d=f=!0,r.prevElClipPaths=null,r.allClipped=!1,r.prevEl=null),u&&u.length&&(flushPathDrawn(i,r),i.save(),updateClipStatus(u,i,r),f=!0),r.prevElClipPaths=u),r.allClipped){n.__isRendered=!1;return}n.beforeBrush&&n.beforeBrush(),n.innerBeforeBrush();var h=r.prevEl;h||(d=f=!0);var v=n instanceof Path$1&&n.autoBatch&&canPathBatch(n.style);f||isTransformChanged(a,h.transform)?(flushPathDrawn(i,r),setContextTransform(i,n)):v||flushPathDrawn(i,r);var g=getStyle(n,r.inHover);n instanceof Path$1?(r.lastDrawType!==DRAW_TYPE_PATH&&(d=!0,r.lastDrawType=DRAW_TYPE_PATH),bindPathAndTextCommonStyle(i,n,h,d,r),(!v||!r.batchFill&&!r.batchStroke)&&i.beginPath(),brushPath(i,n,g,v),v&&(r.batchFill=g.fill||"",r.batchStroke=g.stroke||"")):n instanceof TSpan$1?(r.lastDrawType!==DRAW_TYPE_TEXT&&(d=!0,r.lastDrawType=DRAW_TYPE_TEXT),bindPathAndTextCommonStyle(i,n,h,d,r),brushText(i,n,g)):n instanceof ZRImage$1?(r.lastDrawType!==DRAW_TYPE_IMAGE&&(d=!0,r.lastDrawType=DRAW_TYPE_IMAGE),bindImageStyle(i,n,h,d,r),brushImage(i,n,g)):n.getTemporalDisplayables&&(r.lastDrawType!==DRAW_TYPE_INCREMENTAL&&(d=!0,r.lastDrawType=DRAW_TYPE_INCREMENTAL),brushIncremental(i,n,r)),v&&o&&flushPathDrawn(i,r),n.innerAfterBrush(),n.afterBrush&&n.afterBrush(),r.prevEl=n,n.__dirty=0,n.__isRendered=!0}function brushIncremental(i,n,r){var o=n.getDisplayables(),a=n.getTemporalDisplayables();i.save();var u={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:r.viewWidth,viewHeight:r.viewHeight,inHover:r.inHover},c,f;for(c=n.getCursor(),f=o.length;c<f;c++){var d=o[c];d.beforeBrush&&d.beforeBrush(),d.innerBeforeBrush(),brush$1(i,d,u,c===f-1),d.innerAfterBrush(),d.afterBrush&&d.afterBrush(),u.prevEl=d}for(var h=0,v=a.length;h<v;h++){var d=a[h];d.beforeBrush&&d.beforeBrush(),d.innerBeforeBrush(),brush$1(i,d,u,h===v-1),d.innerAfterBrush(),d.afterBrush&&d.afterBrush(),u.prevEl=d}n.clearTemporalDisplayables(),n.notClear=!0,i.restore()}var decalMap=new WeakMap$2,decalCache=new LRU$1(100),decalKeys=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function createOrUpdatePatternFromDecal(i,n){if(i==="none")return null;var r=n.getDevicePixelRatio(),o=n.getZr(),a=o.painter.type==="svg";i.dirty&&decalMap.delete(i);var u=decalMap.get(i);if(u)return u;var c=defaults(i,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});c.backgroundColor==="none"&&(c.backgroundColor=null);var f={repeat:"repeat"};return d(f),f.rotation=c.rotation,f.scaleX=f.scaleY=a?1:1/r,decalMap.set(i,f),i.dirty=!1,f;function d(h){for(var v=[r],g=!0,p=0;p<decalKeys.length;++p){var y=c[decalKeys[p]];if(y!=null&&!isArray$1(y)&&!isString$2(y)&&!isNumber$1(y)&&typeof y!="boolean"){g=!1;break}v.push(y)}var _;if(g){_=v.join(",")+(a?"-svg":"");var b=decalCache.get(_);b&&(a?h.svgElement=b:h.image=b)}var A=normalizeDashArrayX(c.dashArrayX),w=normalizeDashArrayY(c.dashArrayY),S=normalizeSymbolArray(c.symbol),T=getLineBlockLengthX(A),x=getLineBlockLengthY(w),O=!a&&platformApi.createCanvas(),L=a&&{tag:"g",attrs:{},key:"dcl",children:[]},M=F(),re;O&&(O.width=M.width*r,O.height=M.height*r,re=O.getContext("2d")),Y(),g&&decalCache.put(_,O||L),h.image=O,h.svgElement=L,h.svgWidth=M.width,h.svgHeight=M.height;function F(){for(var V=1,z=0,$=T.length;z<$;++z)V=getLeastCommonMultiple(V,T[z]);for(var pe=1,z=0,$=S.length;z<$;++z)pe=getLeastCommonMultiple(pe,S[z].length);V*=pe;var le=x*T.length*S.length;if(process.env.NODE_ENV!=="production"){var Ie=function(he){console.warn("Calculated decal size is greater than "+he+" due to decal option settings so "+he+" is used for the decal size. Please consider changing the decal option to make a smaller decal or set "+he+" to be larger to avoid incontinuity.")};V>c.maxTileWidth&&Ie("maxTileWidth"),le>c.maxTileHeight&&Ie("maxTileHeight")}return{width:Math.max(1,Math.min(V,c.maxTileWidth)),height:Math.max(1,Math.min(le,c.maxTileHeight))}}function Y(){re&&(re.clearRect(0,0,O.width,O.height),c.backgroundColor&&(re.fillStyle=c.backgroundColor,re.fillRect(0,0,O.width,O.height)));for(var V=0,z=0;z<w.length;++z)V+=w[z];if(V<=0)return;for(var $=-x,pe=0,le=0,Ie=0;$<M.height;){if(pe%2===0){for(var he=le/2%S.length,xe=0,_e=0,jt=0;xe<M.width*2;){for(var Lt=0,z=0;z<A[Ie].length;++z)Lt+=A[Ie][z];if(Lt<=0)break;if(_e%2===0){var Cn=(1-c.symbolSize)*.5,vn=xe+A[Ie][_e]*Cn,kt=$+w[pe]*Cn,de=A[Ie][_e]*c.symbolSize,qe=w[pe]*c.symbolSize,Et=jt/2%S[he].length;In(vn,kt,de,qe,S[he][Et])}xe+=A[Ie][_e],++jt,++_e,_e===A[Ie].length&&(_e=0)}++Ie,Ie===A.length&&(Ie=0)}$+=w[pe],++le,++pe,pe===w.length&&(pe=0)}function In($e,Ce,ue,At,Oe){var Ve=a?1:r,Pt=createSymbol(Oe,$e*Ve,Ce*Ve,ue*Ve,At*Ve,c.color,c.symbolKeepAspect);if(a){var Dt=o.painter.renderOneToVNode(Pt);Dt&&L.children.push(Dt)}else brushSingle(re,Pt)}}}}function normalizeSymbolArray(i){if(!i||i.length===0)return[["rect"]];if(isString$2(i))return[[i]];for(var n=!0,r=0;r<i.length;++r)if(!isString$2(i[r])){n=!1;break}if(n)return normalizeSymbolArray([i]);for(var o=[],r=0;r<i.length;++r)isString$2(i[r])?o.push([i[r]]):o.push(i[r]);return o}function normalizeDashArrayX(i){if(!i||i.length===0)return[[0,0]];if(isNumber$1(i)){var n=Math.ceil(i);return[[n,n]]}for(var r=!0,o=0;o<i.length;++o)if(!isNumber$1(i[o])){r=!1;break}if(r)return normalizeDashArrayX([i]);for(var a=[],o=0;o<i.length;++o)if(isNumber$1(i[o])){var n=Math.ceil(i[o]);a.push([n,n])}else{var n=map$1(i[o],function(f){return Math.ceil(f)});n.length%2===1?a.push(n.concat(n)):a.push(n)}return a}function normalizeDashArrayY(i){if(!i||typeof i=="object"&&i.length===0)return[0,0];if(isNumber$1(i)){var n=Math.ceil(i);return[n,n]}var r=map$1(i,function(o){return Math.ceil(o)});return i.length%2?r.concat(r):r}function getLineBlockLengthX(i){return map$1(i,function(n){return getLineBlockLengthY(n)})}function getLineBlockLengthY(i){for(var n=0,r=0;r<i.length;++r)n+=i[r];return i.length%2===1?n*2:n}function decalVisual(i,n){i.eachRawSeries(function(r){if(!i.isSeriesFiltered(r)){var o=r.getData();o.hasItemVisual()&&o.each(function(c){var f=o.getItemVisual(c,"decal");if(f){var d=o.ensureUniqueItemVisual(c,"style");d.decal=createOrUpdatePatternFromDecal(f,n)}});var a=o.getVisual("decal");if(a){var u=o.getVisual("style");u.decal=createOrUpdatePatternFromDecal(a,n)}}})}var lifecycle=new Eventful$1;const lifecycle$1=lifecycle;var implsStore={};function registerImpl(i,n){process.env.NODE_ENV!=="production"&&implsStore[i]&&error("Already has an implementation of "+i+"."),implsStore[i]=n}function getImpl(i){return process.env.NODE_ENV!=="production"&&(implsStore[i]||error("Implementation of "+i+" doesn't exists.")),implsStore[i]}var TEST_FRAME_REMAIN_TIME=1,PRIORITY_PROCESSOR_SERIES_FILTER=800,PRIORITY_PROCESSOR_DATASTACK=900,PRIORITY_PROCESSOR_FILTER=1e3,PRIORITY_PROCESSOR_DEFAULT=2e3,PRIORITY_PROCESSOR_STATISTIC=5e3,PRIORITY_VISUAL_LAYOUT=1e3,PRIORITY_VISUAL_PROGRESSIVE_LAYOUT=1100,PRIORITY_VISUAL_GLOBAL=2e3,PRIORITY_VISUAL_CHART=3e3,PRIORITY_VISUAL_COMPONENT=4e3,PRIORITY_VISUAL_CHART_DATA_CUSTOM=4500,PRIORITY_VISUAL_POST_CHART_LAYOUT=4600,PRIORITY_VISUAL_BRUSH=5e3,PRIORITY_VISUAL_ARIA=6e3,PRIORITY_VISUAL_DECAL=7e3,PRIORITY={PROCESSOR:{FILTER:PRIORITY_PROCESSOR_FILTER,SERIES_FILTER:PRIORITY_PROCESSOR_SERIES_FILTER,STATISTIC:PRIORITY_PROCESSOR_STATISTIC},VISUAL:{LAYOUT:PRIORITY_VISUAL_LAYOUT,PROGRESSIVE_LAYOUT:PRIORITY_VISUAL_PROGRESSIVE_LAYOUT,GLOBAL:PRIORITY_VISUAL_GLOBAL,CHART:PRIORITY_VISUAL_CHART,POST_CHART_LAYOUT:PRIORITY_VISUAL_POST_CHART_LAYOUT,COMPONENT:PRIORITY_VISUAL_COMPONENT,BRUSH:PRIORITY_VISUAL_BRUSH,CHART_ITEM:PRIORITY_VISUAL_CHART_DATA_CUSTOM,ARIA:PRIORITY_VISUAL_ARIA,DECAL:PRIORITY_VISUAL_DECAL}},IN_MAIN_PROCESS_KEY="__flagInMainProcess",PENDING_UPDATE="__pendingUpdate",STATUS_NEEDS_UPDATE_KEY="__needsUpdateStatus",ACTION_REG=/^[a-zA-Z0-9_]+$/;function createRegisterEventWithLowercaseECharts(i){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(this.isDisposed()){disposedWarning(this.id);return}return toLowercaseNameAndCallEventful(this,i,n)}}function createRegisterEventWithLowercaseMessageCenter(i){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return toLowercaseNameAndCallEventful(this,i,n)}}function toLowercaseNameAndCallEventful(i,n,r){return r[0]=r[0]&&r[0].toLowerCase(),Eventful$1.prototype[n].apply(i,r)}var MessageCenter=function(i){__extends(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n}(Eventful$1),messageCenterProto=MessageCenter.prototype;messageCenterProto.on=createRegisterEventWithLowercaseMessageCenter("on"),messageCenterProto.off=createRegisterEventWithLowercaseMessageCenter("off");var prepare,prepareView,updateDirectly,updateMethods,doConvertPixel,updateStreamModes,doDispatchAction,flushPendingActions,triggerUpdatedEvent,bindRenderedEvent,bindMouseEvent,render,renderComponents,renderSeries,createExtensionAPI,markStatusToUpdate,applyChangedStates,ECharts=function(i){__extends(n,i);function n(r,o,a){var u=i.call(this,new ECEventProcessor)||this;u._chartsViews=[],u._chartsMap={},u._componentsViews=[],u._componentsMap={},u._pendingActions=[],a=a||{},isString$2(o)&&(o=themeStorage[o]),u._dom=r;var c="canvas",f="auto",d=!1;if(process.env.NODE_ENV!=="production"){var h=env$1.hasGlobalWindow?window:global;c=h.__ECHARTS__DEFAULT__RENDERER__||c,f=retrieve2(h.__ECHARTS__DEFAULT__COARSE_POINTER,f);var v=h.__ECHARTS__DEFAULT__USE_DIRTY_RECT__;d=v??d}var g=u._zr=init(r,{renderer:a.renderer||c,devicePixelRatio:a.devicePixelRatio,width:a.width,height:a.height,ssr:a.ssr,useDirtyRect:retrieve2(a.useDirtyRect,d),useCoarsePointer:retrieve2(a.useCoarsePointer,f),pointerSize:a.pointerSize});u._ssr=a.ssr,u._throttledZrFlush=throttle$1(bind$1(g.flush,g),17),o=clone$2(o),o&&globalBackwardCompat(o,!0),u._theme=o,u._locale=createLocaleObject(a.locale||SYSTEM_LANG),u._coordSysMgr=new CoordinateSystem;var p=u._api=createExtensionAPI(u);function y(_,b){return _.__prio-b.__prio}return sort(visualFuncs,y),sort(dataProcessorFuncs,y),u._scheduler=new Scheduler$1(u,p,dataProcessorFuncs,visualFuncs),u._messageCenter=new MessageCenter,u._initEvents(),u.resize=bind$1(u.resize,u),g.animation.on("frame",u._onframe,u),bindRenderedEvent(g,u),bindMouseEvent(g,u),setAsPrimitive(u),u}return n.prototype._onframe=function(){if(!this._disposed){applyChangedStates(this);var r=this._scheduler;if(this[PENDING_UPDATE]){var o=this[PENDING_UPDATE].silent;this[IN_MAIN_PROCESS_KEY]=!0;try{prepare(this),updateMethods.update.call(this,null,this[PENDING_UPDATE].updateParams)}catch(d){throw this[IN_MAIN_PROCESS_KEY]=!1,this[PENDING_UPDATE]=null,d}this._zr.flush(),this[IN_MAIN_PROCESS_KEY]=!1,this[PENDING_UPDATE]=null,flushPendingActions.call(this,o),triggerUpdatedEvent.call(this,o)}else if(r.unfinished){var a=TEST_FRAME_REMAIN_TIME,u=this._model,c=this._api;r.unfinished=!1;do{var f=+new Date;r.performSeriesTasks(u),r.performDataProcessorTasks(u),updateStreamModes(this,u),r.performVisualTasks(u),renderSeries(this,this._model,c,"remain",{}),a-=+new Date-f}while(a>0&&r.unfinished);r.unfinished||this._zr.flush()}}},n.prototype.getDom=function(){return this._dom},n.prototype.getId=function(){return this.id},n.prototype.getZr=function(){return this._zr},n.prototype.isSSR=function(){return this._ssr},n.prototype.setOption=function(r,o,a){if(this[IN_MAIN_PROCESS_KEY]){process.env.NODE_ENV!=="production"&&error("`setOption` should not be called during main process.");return}if(this._disposed){disposedWarning(this.id);return}var u,c,f;if(isObject$3(o)&&(a=o.lazyUpdate,u=o.silent,c=o.replaceMerge,f=o.transition,o=o.notMerge),this[IN_MAIN_PROCESS_KEY]=!0,!this._model||o){var d=new OptionManager$1(this._api),h=this._theme,v=this._model=new GlobalModel$1;v.scheduler=this._scheduler,v.ssr=this._ssr,v.init(null,null,null,h,this._locale,d)}this._model.setOption(r,{replaceMerge:c},optionPreprocessorFuncs);var g={seriesTransition:f,optionChanged:!0};if(a)this[PENDING_UPDATE]={silent:u,updateParams:g},this[IN_MAIN_PROCESS_KEY]=!1,this.getZr().wakeUp();else{try{prepare(this),updateMethods.update.call(this,null,g)}catch(p){throw this[PENDING_UPDATE]=null,this[IN_MAIN_PROCESS_KEY]=!1,p}this._ssr||this._zr.flush(),this[PENDING_UPDATE]=null,this[IN_MAIN_PROCESS_KEY]=!1,flushPendingActions.call(this,u),triggerUpdatedEvent.call(this,u)}},n.prototype.setTheme=function(){deprecateLog("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},n.prototype.getModel=function(){return this._model},n.prototype.getOption=function(){return this._model&&this._model.getOption()},n.prototype.getWidth=function(){return this._zr.getWidth()},n.prototype.getHeight=function(){return this._zr.getHeight()},n.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||env$1.hasGlobalWindow&&window.devicePixelRatio||1},n.prototype.getRenderedCanvas=function(r){return process.env.NODE_ENV!=="production"&&deprecateReplaceLog("getRenderedCanvas","renderToCanvas"),this.renderToCanvas(r)},n.prototype.renderToCanvas=function(r){r=r||{};var o=this._zr.painter;if(process.env.NODE_ENV!=="production"&&o.type!=="canvas")throw new Error("renderToCanvas can only be used in the canvas renderer.");return o.getRenderedCanvas({backgroundColor:r.backgroundColor||this._model.get("backgroundColor"),pixelRatio:r.pixelRatio||this.getDevicePixelRatio()})},n.prototype.renderToSVGString=function(r){r=r||{};var o=this._zr.painter;if(process.env.NODE_ENV!=="production"&&o.type!=="svg")throw new Error("renderToSVGString can only be used in the svg renderer.");return o.renderToString({useViewBox:r.useViewBox})},n.prototype.getSvgDataURL=function(){if(env$1.svgSupported){var r=this._zr,o=r.storage.getDisplayList();return each$4(o,function(a){a.stopAnimation(null,!0)}),r.painter.toDataURL()}},n.prototype.getDataURL=function(r){if(this._disposed){disposedWarning(this.id);return}r=r||{};var o=r.excludeComponents,a=this._model,u=[],c=this;each$4(o,function(d){a.eachComponent({mainType:d},function(h){var v=c._componentsMap[h.__viewId];v.group.ignore||(u.push(v),v.group.ignore=!0)})});var f=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(r).toDataURL("image/"+(r&&r.type||"png"));return each$4(u,function(d){d.group.ignore=!1}),f},n.prototype.getConnectedDataURL=function(r){if(this._disposed){disposedWarning(this.id);return}var o=r.type==="svg",a=this.group,u=Math.min,c=Math.max,f=1/0;if(connectedGroups[a]){var d=f,h=f,v=-f,g=-f,p=[],y=r&&r.pixelRatio||this.getDevicePixelRatio();each$4(instances,function(T,x){if(T.group===a){var O=o?T.getZr().painter.getSvgDom().innerHTML:T.renderToCanvas(clone$2(r)),L=T.getDom().getBoundingClientRect();d=u(L.left,d),h=u(L.top,h),v=c(L.right,v),g=c(L.bottom,g),p.push({dom:O,left:L.left,top:L.top})}}),d*=y,h*=y,v*=y,g*=y;var _=v-d,b=g-h,A=platformApi.createCanvas(),w=init(A,{renderer:o?"svg":"canvas"});if(w.resize({width:_,height:b}),o){var S="";return each$4(p,function(T){var x=T.left-d,O=T.top-h;S+='<g transform="translate('+x+","+O+')">'+T.dom+"</g>"}),w.painter.getSvgRoot().innerHTML=S,r.connectedBackgroundColor&&w.painter.setBackgroundColor(r.connectedBackgroundColor),w.refreshImmediately(),w.painter.toDataURL()}else return r.connectedBackgroundColor&&w.add(new Rect$1({shape:{x:0,y:0,width:_,height:b},style:{fill:r.connectedBackgroundColor}})),each$4(p,function(T){var x=new ZRImage$1({style:{x:T.left*y-d,y:T.top*y-h,image:T.dom}});w.add(x)}),w.refreshImmediately(),A.toDataURL("image/"+(r&&r.type||"png"))}else return this.getDataURL(r)},n.prototype.convertToPixel=function(r,o){return doConvertPixel(this,"convertToPixel",r,o)},n.prototype.convertFromPixel=function(r,o){return doConvertPixel(this,"convertFromPixel",r,o)},n.prototype.containPixel=function(r,o){if(this._disposed){disposedWarning(this.id);return}var a=this._model,u,c=parseFinder(a,r);return each$4(c,function(f,d){d.indexOf("Models")>=0&&each$4(f,function(h){var v=h.coordinateSystem;if(v&&v.containPoint)u=u||!!v.containPoint(o);else if(d==="seriesModels"){var g=this._chartsMap[h.__viewId];g&&g.containPoint?u=u||g.containPoint(o,h):process.env.NODE_ENV!=="production"&&warn(d+": "+(g?"The found component do not support containPoint.":"No view mapping to the found component."))}else process.env.NODE_ENV!=="production"&&warn(d+": containPoint is not supported")},this)},this),!!u},n.prototype.getVisual=function(r,o){var a=this._model,u=parseFinder(a,r,{defaultMainType:"series"}),c=u.seriesModel;process.env.NODE_ENV!=="production"&&(c||warn("There is no specified series model"));var f=c.getData(),d=u.hasOwnProperty("dataIndexInside")?u.dataIndexInside:u.hasOwnProperty("dataIndex")?f.indexOfRawIndex(u.dataIndex):null;return d!=null?getItemVisualFromData(f,d,o):getVisualFromData(f,o)},n.prototype.getViewOfComponentModel=function(r){return this._componentsMap[r.__viewId]},n.prototype.getViewOfSeriesModel=function(r){return this._chartsMap[r.__viewId]},n.prototype._initEvents=function(){var r=this;each$4(MOUSE_EVENT_NAMES,function(o){var a=function(u){var c=r.getModel(),f=u.target,d,h=o==="globalout";if(h?d={}:f&&findEventDispatcher(f,function(_){var b=getECData(_);if(b&&b.dataIndex!=null){var A=b.dataModel||c.getSeriesByIndex(b.seriesIndex);return d=A&&A.getDataParams(b.dataIndex,b.dataType)||{},!0}else if(b.eventData)return d=extend({},b.eventData),!0},!0),d){var v=d.componentType,g=d.componentIndex;(v==="markLine"||v==="markPoint"||v==="markArea")&&(v="series",g=d.seriesIndex);var p=v&&g!=null&&c.getComponent(v,g),y=p&&r[p.mainType==="series"?"_chartsMap":"_componentsMap"][p.__viewId];process.env.NODE_ENV!=="production"&&!h&&!(p&&y)&&warn("model or view can not be found by params"),d.event=u,d.type=o,r._$eventProcessor.eventInfo={targetEl:f,packedEvent:d,model:p,view:y},r.trigger(o,d)}};a.zrEventfulCallAtLast=!0,r._zr.on(o,a,r)}),each$4(eventActionMap,function(o,a){r._messageCenter.on(a,function(u){this.trigger(a,u)},r)}),each$4(["selectchanged"],function(o){r._messageCenter.on(o,function(a){this.trigger(o,a)},r)}),handleLegacySelectEvents(this._messageCenter,this,this._api)},n.prototype.isDisposed=function(){return this._disposed},n.prototype.clear=function(){if(this._disposed){disposedWarning(this.id);return}this.setOption({series:[]},!0)},n.prototype.dispose=function(){if(this._disposed){disposedWarning(this.id);return}this._disposed=!0;var r=this.getDom();r&&setAttribute(this.getDom(),DOM_ATTRIBUTE_KEY,"");var o=this,a=o._api,u=o._model;each$4(o._componentsViews,function(c){c.dispose(u,a)}),each$4(o._chartsViews,function(c){c.dispose(u,a)}),o._zr.dispose(),o._dom=o._model=o._chartsMap=o._componentsMap=o._chartsViews=o._componentsViews=o._scheduler=o._api=o._zr=o._throttledZrFlush=o._theme=o._coordSysMgr=o._messageCenter=null,delete instances[o.id]},n.prototype.resize=function(r){if(this[IN_MAIN_PROCESS_KEY]){process.env.NODE_ENV!=="production"&&error("`resize` should not be called during main process.");return}if(this._disposed){disposedWarning(this.id);return}this._zr.resize(r);var o=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!o){var a=o.resetOption("media"),u=r&&r.silent;this[PENDING_UPDATE]&&(u==null&&(u=this[PENDING_UPDATE].silent),a=!0,this[PENDING_UPDATE]=null),this[IN_MAIN_PROCESS_KEY]=!0;try{a&&prepare(this),updateMethods.update.call(this,{type:"resize",animation:extend({duration:0},r&&r.animation)})}catch(c){throw this[IN_MAIN_PROCESS_KEY]=!1,c}this[IN_MAIN_PROCESS_KEY]=!1,flushPendingActions.call(this,u),triggerUpdatedEvent.call(this,u)}},n.prototype.showLoading=function(r,o){if(this._disposed){disposedWarning(this.id);return}if(isObject$3(r)&&(o=r,r=""),r=r||"default",this.hideLoading(),!loadingEffects[r]){process.env.NODE_ENV!=="production"&&warn("Loading effects "+r+" not exists.");return}var a=loadingEffects[r](this._api,o),u=this._zr;this._loadingFX=a,u.add(a)},n.prototype.hideLoading=function(){if(this._disposed){disposedWarning(this.id);return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},n.prototype.makeActionFromEvent=function(r){var o=extend({},r);return o.type=eventActionMap[r.type],o},n.prototype.dispatchAction=function(r,o){if(this._disposed){disposedWarning(this.id);return}if(isObject$3(o)||(o={silent:!!o}),!!actions[r.type]&&this._model){if(this[IN_MAIN_PROCESS_KEY]){this._pendingActions.push(r);return}var a=o.silent;doDispatchAction.call(this,r,a);var u=o.flush;u?this._zr.flush():u!==!1&&env$1.browser.weChat&&this._throttledZrFlush(),flushPendingActions.call(this,a),triggerUpdatedEvent.call(this,a)}},n.prototype.updateLabelLayout=function(){lifecycle$1.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},n.prototype.appendData=function(r){if(this._disposed){disposedWarning(this.id);return}var o=r.seriesIndex,a=this.getModel(),u=a.getSeriesByIndex(o);process.env.NODE_ENV!=="production"&&assert(r.data&&u),u.appendData(r),this._scheduler.unfinished=!0,this.getZr().wakeUp()},n.internalField=function(){prepare=function(g){var p=g._scheduler;p.restorePipelines(g._model),p.prepareStageTasks(),prepareView(g,!0),prepareView(g,!1),p.plan()},prepareView=function(g,p){for(var y=g._model,_=g._scheduler,b=p?g._componentsViews:g._chartsViews,A=p?g._componentsMap:g._chartsMap,w=g._zr,S=g._api,T=0;T<b.length;T++)b[T].__alive=!1;p?y.eachComponent(function(L,M){L!=="series"&&x(M)}):y.eachSeries(x);function x(L){var M=L.__requireNewView;L.__requireNewView=!1;var re="_ec_"+L.id+"_"+L.type,F=!M&&A[re];if(!F){var Y=parseClassType(L.type),V=p?ComponentView$1.getClass(Y.main,Y.sub):ChartView$1.getClass(Y.sub);process.env.NODE_ENV!=="production"&&assert(V,Y.sub+" does not exist."),F=new V,F.init(y,S),A[re]=F,b.push(F),w.add(F.group)}L.__viewId=F.__id=re,F.__alive=!0,F.__model=L,F.group.__ecComponentInfo={mainType:L.mainType,index:L.componentIndex},!p&&_.prepareView(F,L,y,S)}for(var T=0;T<b.length;){var O=b[T];O.__alive?T++:(!p&&O.renderTask.dispose(),w.remove(O.group),O.dispose(y,S),b.splice(T,1),A[O.__id]===O&&delete A[O.__id],O.__id=O.group.__ecComponentInfo=null)}},updateDirectly=function(g,p,y,_,b){var A=g._model;if(A.setUpdatePayload(y),!_){each$4([].concat(g._componentsViews).concat(g._chartsViews),O);return}var w={};w[_+"Id"]=y[_+"Id"],w[_+"Index"]=y[_+"Index"],w[_+"Name"]=y[_+"Name"];var S={mainType:_,query:w};b&&(S.subType=b);var T=y.excludeSeriesId,x;T!=null&&(x=createHashMap(),each$4(normalizeToArray(T),function(L){var M=convertOptionIdName(L,null);M!=null&&x.set(M,!0)})),A&&A.eachComponent(S,function(L){var M=x&&x.get(L.id)!=null;if(!M)if(isHighDownPayload(y))if(L instanceof SeriesModel$1)y.type===HIGHLIGHT_ACTION_TYPE&&!y.notBlur&&!L.get(["emphasis","disabled"])&&blurSeriesFromHighlightPayload(L,y,g._api);else{var re=findComponentHighDownDispatchers(L.mainType,L.componentIndex,y.name,g._api),F=re.focusSelf,Y=re.dispatchers;y.type===HIGHLIGHT_ACTION_TYPE&&F&&!y.notBlur&&blurComponent(L.mainType,L.componentIndex,g._api),Y&&each$4(Y,function(V){y.type===HIGHLIGHT_ACTION_TYPE?enterEmphasis(V):leaveEmphasis(V)})}else isSelectChangePayload(y)&&L instanceof SeriesModel$1&&(toggleSelectionFromPayload(L,y,g._api),updateSeriesElementSelection(L),markStatusToUpdate(g))},g),A&&A.eachComponent(S,function(L){var M=x&&x.get(L.id)!=null;M||O(g[_==="series"?"_chartsMap":"_componentsMap"][L.__viewId])},g);function O(L){L&&L.__alive&&L[p]&&L[p](L.__model,A,g._api,y)}},updateMethods={prepareAndUpdate:function(g){prepare(this),updateMethods.update.call(this,g,{optionChanged:g.newOption!=null})},update:function(g,p){var y=this._model,_=this._api,b=this._zr,A=this._coordSysMgr,w=this._scheduler;if(y){y.setUpdatePayload(g),w.restoreData(y,g),w.performSeriesTasks(y),A.create(y,_),w.performDataProcessorTasks(y,g),updateStreamModes(this,y),A.update(y,_),r(y),w.performVisualTasks(y,g),render(this,y,_,g,p);var S=y.get("backgroundColor")||"transparent",T=y.get("darkMode");b.setBackgroundColor(S),T!=null&&T!=="auto"&&b.setDarkMode(T),lifecycle$1.trigger("afterupdate",y,_)}},updateTransform:function(g){var p=this,y=this._model,_=this._api;if(y){y.setUpdatePayload(g);var b=[];y.eachComponent(function(w,S){if(w!=="series"){var T=p.getViewOfComponentModel(S);if(T&&T.__alive)if(T.updateTransform){var x=T.updateTransform(S,y,_,g);x&&x.update&&b.push(T)}else b.push(T)}});var A=createHashMap();y.eachSeries(function(w){var S=p._chartsMap[w.__viewId];if(S.updateTransform){var T=S.updateTransform(w,y,_,g);T&&T.update&&A.set(w.uid,1)}else A.set(w.uid,1)}),r(y),this._scheduler.performVisualTasks(y,g,{setDirty:!0,dirtyMap:A}),renderSeries(this,y,_,g,{},A),lifecycle$1.trigger("afterupdate",y,_)}},updateView:function(g){var p=this._model;p&&(p.setUpdatePayload(g),ChartView$1.markUpdateMethod(g,"updateView"),r(p),this._scheduler.performVisualTasks(p,g,{setDirty:!0}),render(this,p,this._api,g,{}),lifecycle$1.trigger("afterupdate",p,this._api))},updateVisual:function(g){var p=this,y=this._model;y&&(y.setUpdatePayload(g),y.eachSeries(function(_){_.getData().clearAllVisual()}),ChartView$1.markUpdateMethod(g,"updateVisual"),r(y),this._scheduler.performVisualTasks(y,g,{visualType:"visual",setDirty:!0}),y.eachComponent(function(_,b){if(_!=="series"){var A=p.getViewOfComponentModel(b);A&&A.__alive&&A.updateVisual(b,y,p._api,g)}}),y.eachSeries(function(_){var b=p._chartsMap[_.__viewId];b.updateVisual(_,y,p._api,g)}),lifecycle$1.trigger("afterupdate",y,this._api))},updateLayout:function(g){updateMethods.update.call(this,g)}},doConvertPixel=function(g,p,y,_){if(g._disposed){disposedWarning(g.id);return}for(var b=g._model,A=g._coordSysMgr.getCoordinateSystems(),w,S=parseFinder(b,y),T=0;T<A.length;T++){var x=A[T];if(x[p]&&(w=x[p](b,S,_))!=null)return w}process.env.NODE_ENV!=="production"&&warn("No coordinate system that supports "+p+" found by the given finder.")},updateStreamModes=function(g,p){var y=g._chartsMap,_=g._scheduler;p.eachSeries(function(b){_.updateStreamModes(b,y[b.__viewId])})},doDispatchAction=function(g,p){var y=this,_=this.getModel(),b=g.type,A=g.escapeConnect,w=actions[b],S=w.actionInfo,T=(S.update||"update").split(":"),x=T.pop(),O=T[0]!=null&&parseClassType(T[0]);this[IN_MAIN_PROCESS_KEY]=!0;var L=[g],M=!1;g.batch&&(M=!0,L=map$1(g.batch,function(pe){return pe=defaults(extend({},pe),g),pe.batch=null,pe}));var re=[],F,Y=isSelectChangePayload(g),V=isHighDownPayload(g);if(V&&allLeaveBlur(this._api),each$4(L,function(pe){if(F=w.action(pe,y._model,y._api),F=F||extend({},pe),F.type=S.event||F.type,re.push(F),V){var le=preParseFinder(g),Ie=le.queryOptionMap,he=le.mainTypeSpecified,xe=he?Ie.keys()[0]:"series";updateDirectly(y,x,pe,xe),markStatusToUpdate(y)}else Y?(updateDirectly(y,x,pe,"series"),markStatusToUpdate(y)):O&&updateDirectly(y,x,pe,O.main,O.sub)}),x!=="none"&&!V&&!Y&&!O)try{this[PENDING_UPDATE]?(prepare(this),updateMethods.update.call(this,g),this[PENDING_UPDATE]=null):updateMethods[x].call(this,g)}catch(pe){throw this[IN_MAIN_PROCESS_KEY]=!1,pe}if(M?F={type:S.event||b,escapeConnect:A,batch:re}:F=re[0],this[IN_MAIN_PROCESS_KEY]=!1,!p){var z=this._messageCenter;if(z.trigger(F.type,F),Y){var $={type:"selectchanged",escapeConnect:A,selected:getAllSelectedIndices(_),isFromClick:g.isFromClick||!1,fromAction:g.type,fromActionPayload:g};z.trigger($.type,$)}}},flushPendingActions=function(g){for(var p=this._pendingActions;p.length;){var y=p.shift();doDispatchAction.call(this,y,g)}},triggerUpdatedEvent=function(g){!g&&this.trigger("updated")},bindRenderedEvent=function(g,p){g.on("rendered",function(y){p.trigger("rendered",y),g.animation.isFinished()&&!p[PENDING_UPDATE]&&!p._scheduler.unfinished&&!p._pendingActions.length&&p.trigger("finished")})},bindMouseEvent=function(g,p){g.on("mouseover",function(y){var _=y.target,b=findEventDispatcher(_,isHighDownDispatcher);b&&(handleGlobalMouseOverForHighDown(b,y,p._api),markStatusToUpdate(p))}).on("mouseout",function(y){var _=y.target,b=findEventDispatcher(_,isHighDownDispatcher);b&&(handleGlobalMouseOutForHighDown(b,y,p._api),markStatusToUpdate(p))}).on("click",function(y){var _=y.target,b=findEventDispatcher(_,function(S){return getECData(S).dataIndex!=null},!0);if(b){var A=b.selected?"unselect":"select",w=getECData(b);p._api.dispatchAction({type:A,dataType:w.dataType,dataIndexInside:w.dataIndex,seriesIndex:w.seriesIndex,isFromClick:!0})}})};function r(g){g.clearColorPalette(),g.eachSeries(function(p){p.clearColorPalette()})}function o(g){var p=[],y=[],_=!1;if(g.eachComponent(function(S,T){var x=T.get("zlevel")||0,O=T.get("z")||0,L=T.getZLevelKey();_=_||!!L,(S==="series"?y:p).push({zlevel:x,z:O,idx:T.componentIndex,type:S,key:L})}),_){var b=p.concat(y),A,w;sort(b,function(S,T){return S.zlevel===T.zlevel?S.z-T.z:S.zlevel-T.zlevel}),each$4(b,function(S){var T=g.getComponent(S.type,S.idx),x=S.zlevel,O=S.key;A!=null&&(x=Math.max(A,x)),O?(x===A&&O!==w&&x++,w=O):w&&(x===A&&x++,w=""),A=x,T.setZLevel(x)})}}render=function(g,p,y,_,b){o(p),renderComponents(g,p,y,_,b),each$4(g._chartsViews,function(A){A.__alive=!1}),renderSeries(g,p,y,_,b),each$4(g._chartsViews,function(A){A.__alive||A.remove(p,y)})},renderComponents=function(g,p,y,_,b,A){each$4(A||g._componentsViews,function(w){var S=w.__model;h(S,w),w.render(S,p,y,_),f(S,w),v(S,w)})},renderSeries=function(g,p,y,_,b,A){var w=g._scheduler;b=extend(b||{},{updatedSeries:p.getSeries()}),lifecycle$1.trigger("series:beforeupdate",p,y,b);var S=!1;p.eachSeries(function(T){var x=g._chartsMap[T.__viewId];x.__alive=!0;var O=x.renderTask;w.updatePayload(O,_),h(T,x),A&&A.get(T.uid)&&O.dirty(),O.perform(w.getPerformArgs(O))&&(S=!0),x.group.silent=!!T.get("silent"),c(T,x),updateSeriesElementSelection(T)}),w.unfinished=S||w.unfinished,lifecycle$1.trigger("series:layoutlabels",p,y,b),lifecycle$1.trigger("series:transition",p,y,b),p.eachSeries(function(T){var x=g._chartsMap[T.__viewId];f(T,x),v(T,x)}),u(g,p),lifecycle$1.trigger("series:afterupdate",p,y,b)},markStatusToUpdate=function(g){g[STATUS_NEEDS_UPDATE_KEY]=!0,g.getZr().wakeUp()},applyChangedStates=function(g){g[STATUS_NEEDS_UPDATE_KEY]&&(g.getZr().storage.traverse(function(p){isElementRemoved(p)||a(p)}),g[STATUS_NEEDS_UPDATE_KEY]=!1)};function a(g){for(var p=[],y=g.currentStates,_=0;_<y.length;_++){var b=y[_];b==="emphasis"||b==="blur"||b==="select"||p.push(b)}g.selected&&g.states.select&&p.push("select"),g.hoverState===HOVER_STATE_EMPHASIS&&g.states.emphasis?p.push("emphasis"):g.hoverState===HOVER_STATE_BLUR&&g.states.blur&&p.push("blur"),g.useStates(p)}function u(g,p){var y=g._zr,_=y.storage,b=0;_.traverse(function(A){A.isGroup||b++}),b>p.get("hoverLayerThreshold")&&!env$1.node&&!env$1.worker&&p.eachSeries(function(A){if(!A.preventUsingHoverLayer){var w=g._chartsMap[A.__viewId];w.__alive&&w.eachRendered(function(S){S.states.emphasis&&(S.states.emphasis.hoverLayer=!0)})}})}function c(g,p){var y=g.get("blendMode")||null;p.eachRendered(function(_){_.isGroup||(_.style.blend=y)})}function f(g,p){if(!g.preventAutoZ){var y=g.get("z")||0,_=g.get("zlevel")||0;p.eachRendered(function(b){return d(b,y,_,-1/0),!0})}}function d(g,p,y,_){var b=g.getTextContent(),A=g.getTextGuideLine(),w=g.isGroup;if(w)for(var S=g.childrenRef(),T=0;T<S.length;T++)_=Math.max(d(S[T],p,y,_),_);else g.z=p,g.zlevel=y,_=Math.max(g.z2,_);if(b&&(b.z=p,b.zlevel=y,isFinite(_)&&(b.z2=_+2)),A){var x=g.textGuideLineConfig;A.z=p,A.zlevel=y,isFinite(_)&&(A.z2=_+(x&&x.showAbove?1:-1))}return _}function h(g,p){p.eachRendered(function(y){if(!isElementRemoved(y)){var _=y.getTextContent(),b=y.getTextGuideLine();y.stateTransition&&(y.stateTransition=null),_&&_.stateTransition&&(_.stateTransition=null),b&&b.stateTransition&&(b.stateTransition=null),y.hasState()?(y.prevStates=y.currentStates,y.clearStates()):y.prevStates&&(y.prevStates=null)}})}function v(g,p){var y=g.getModel("stateAnimation"),_=g.isAnimationEnabled(),b=y.get("duration"),A=b>0?{duration:b,delay:y.get("delay"),easing:y.get("easing")}:null;p.eachRendered(function(w){if(w.states&&w.states.emphasis){if(isElementRemoved(w))return;if(w instanceof Path$1&&savePathStates(w),w.__dirty){var S=w.prevStates;S&&w.useStates(S)}if(_){w.stateTransition=A;var T=w.getTextContent(),x=w.getTextGuideLine();T&&(T.stateTransition=A),x&&(x.stateTransition=A)}w.__dirty&&a(w)}})}createExtensionAPI=function(g){return new(function(p){__extends(y,p);function y(){return p!==null&&p.apply(this,arguments)||this}return y.prototype.getCoordinateSystems=function(){return g._coordSysMgr.getCoordinateSystems()},y.prototype.getComponentByElement=function(_){for(;_;){var b=_.__ecComponentInfo;if(b!=null)return g._model.getComponent(b.mainType,b.index);_=_.parent}},y.prototype.enterEmphasis=function(_,b){enterEmphasis(_,b),markStatusToUpdate(g)},y.prototype.leaveEmphasis=function(_,b){leaveEmphasis(_,b),markStatusToUpdate(g)},y.prototype.enterBlur=function(_){enterBlur(_),markStatusToUpdate(g)},y.prototype.leaveBlur=function(_){leaveBlur(_),markStatusToUpdate(g)},y.prototype.enterSelect=function(_){enterSelect(_),markStatusToUpdate(g)},y.prototype.leaveSelect=function(_){leaveSelect(_),markStatusToUpdate(g)},y.prototype.getModel=function(){return g.getModel()},y.prototype.getViewOfComponentModel=function(_){return g.getViewOfComponentModel(_)},y.prototype.getViewOfSeriesModel=function(_){return g.getViewOfSeriesModel(_)},y}(ExtensionAPI$1))(g)}}(),n}(Eventful$1),echartsProto=ECharts.prototype;echartsProto.on=createRegisterEventWithLowercaseECharts("on"),echartsProto.off=createRegisterEventWithLowercaseECharts("off"),echartsProto.one=function(i,n,r){var o=this;deprecateLog("ECharts#one is deprecated.");function a(){for(var u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];n&&n.apply&&n.apply(this,u),o.off(i,a)}this.on.call(this,i,a,r)};var MOUSE_EVENT_NAMES=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function disposedWarning(i){process.env.NODE_ENV!=="production"&&warn("Instance "+i+" has been disposed")}var actions={},eventActionMap={},dataProcessorFuncs=[],optionPreprocessorFuncs=[],visualFuncs=[],themeStorage={},loadingEffects={},instances={},connectedGroups={},DOM_ATTRIBUTE_KEY="_echarts_instance_";function registerTheme(i,n){themeStorage[i]=n}function registerPreprocessor(i){indexOf(optionPreprocessorFuncs,i)<0&&optionPreprocessorFuncs.push(i)}function registerProcessor(i,n){normalizeRegister(dataProcessorFuncs,i,n,PRIORITY_PROCESSOR_DEFAULT)}function registerPostInit(i){registerUpdateLifecycle("afterinit",i)}function registerPostUpdate(i){registerUpdateLifecycle("afterupdate",i)}function registerUpdateLifecycle(i,n){lifecycle$1.on(i,n)}function registerAction(i,n,r){isFunction$1(n)&&(r=n,n="");var o=isObject$3(i)?i.type:[i,i={event:n}][0];i.event=(i.event||o).toLowerCase(),n=i.event,!eventActionMap[n]&&(assert(ACTION_REG.test(o)&&ACTION_REG.test(n)),actions[o]||(actions[o]={action:r,actionInfo:i}),eventActionMap[n]=o)}function registerCoordinateSystem(i,n){CoordinateSystem.register(i,n)}function registerLayout(i,n){normalizeRegister(visualFuncs,i,n,PRIORITY_VISUAL_LAYOUT,"layout")}function registerVisual(i,n){normalizeRegister(visualFuncs,i,n,PRIORITY_VISUAL_CHART,"visual")}var registeredTasks=[];function normalizeRegister(i,n,r,o,a){if((isFunction$1(n)||isObject$3(n))&&(r=n,n=o),process.env.NODE_ENV!=="production"){if(isNaN(n)||n==null)throw new Error("Illegal priority");each$4(i,function(c){assert(c.__raw!==r)})}if(!(indexOf(registeredTasks,r)>=0)){registeredTasks.push(r);var u=Scheduler$1.wrapStageHandler(r,a);u.__prio=n,u.__raw=r,i.push(u)}}function registerLoading(i,n){loadingEffects[i]=n}function registerMap(i,n,r){var o=getImpl("registerMap");o&&o(i,n,r)}var registerTransform=registerExternalTransform;registerVisual(PRIORITY_VISUAL_GLOBAL,seriesStyleTask),registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM,dataStyleTask),registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM,dataColorPaletteTask),registerVisual(PRIORITY_VISUAL_GLOBAL,seriesSymbolTask),registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM,dataSymbolTask),registerVisual(PRIORITY_VISUAL_DECAL,decalVisual),registerPreprocessor(globalBackwardCompat),registerProcessor(PRIORITY_PROCESSOR_DATASTACK,dataStack),registerLoading("default",defaultLoading),registerAction({type:HIGHLIGHT_ACTION_TYPE,event:HIGHLIGHT_ACTION_TYPE,update:HIGHLIGHT_ACTION_TYPE},noop$1),registerAction({type:DOWNPLAY_ACTION_TYPE,event:DOWNPLAY_ACTION_TYPE,update:DOWNPLAY_ACTION_TYPE},noop$1),registerAction({type:SELECT_ACTION_TYPE,event:SELECT_ACTION_TYPE,update:SELECT_ACTION_TYPE},noop$1),registerAction({type:UNSELECT_ACTION_TYPE,event:UNSELECT_ACTION_TYPE,update:UNSELECT_ACTION_TYPE},noop$1),registerAction({type:TOGGLE_SELECT_ACTION_TYPE,event:TOGGLE_SELECT_ACTION_TYPE,update:TOGGLE_SELECT_ACTION_TYPE},noop$1),registerTheme("light",lightTheme),registerTheme("dark",darkTheme);function dataIndexMapValueLength(i){return i==null?0:i.length||1}function defaultKeyGetter(i){return i}var DataDiffer=function(){function i(n,r,o,a,u,c){this._old=n,this._new=r,this._oldKeyGetter=o||defaultKeyGetter,this._newKeyGetter=a||defaultKeyGetter,this.context=u,this._diffModeMultiple=c==="multiple"}return i.prototype.add=function(n){return this._add=n,this},i.prototype.update=function(n){return this._update=n,this},i.prototype.updateManyToOne=function(n){return this._updateManyToOne=n,this},i.prototype.updateOneToMany=function(n){return this._updateOneToMany=n,this},i.prototype.updateManyToMany=function(n){return this._updateManyToMany=n,this},i.prototype.remove=function(n){return this._remove=n,this},i.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},i.prototype._executeOneToOne=function(){var n=this._old,r=this._new,o={},a=new Array(n.length),u=new Array(r.length);this._initIndexMap(n,null,a,"_oldKeyGetter"),this._initIndexMap(r,o,u,"_newKeyGetter");for(var c=0;c<n.length;c++){var f=a[c],d=o[f],h=dataIndexMapValueLength(d);if(h>1){var v=d.shift();d.length===1&&(o[f]=d[0]),this._update&&this._update(v,c)}else h===1?(o[f]=null,this._update&&this._update(d,c)):this._remove&&this._remove(c)}this._performRestAdd(u,o)},i.prototype._executeMultiple=function(){var n=this._old,r=this._new,o={},a={},u=[],c=[];this._initIndexMap(n,o,u,"_oldKeyGetter"),this._initIndexMap(r,a,c,"_newKeyGetter");for(var f=0;f<u.length;f++){var d=u[f],h=o[d],v=a[d],g=dataIndexMapValueLength(h),p=dataIndexMapValueLength(v);if(g>1&&p===1)this._updateManyToOne&&this._updateManyToOne(v,h),a[d]=null;else if(g===1&&p>1)this._updateOneToMany&&this._updateOneToMany(v,h),a[d]=null;else if(g===1&&p===1)this._update&&this._update(v,h),a[d]=null;else if(g>1&&p>1)this._updateManyToMany&&this._updateManyToMany(v,h),a[d]=null;else if(g>1)for(var y=0;y<g;y++)this._remove&&this._remove(h[y]);else this._remove&&this._remove(h)}this._performRestAdd(c,a)},i.prototype._performRestAdd=function(n,r){for(var o=0;o<n.length;o++){var a=n[o],u=r[a],c=dataIndexMapValueLength(u);if(c>1)for(var f=0;f<c;f++)this._add&&this._add(u[f]);else c===1&&this._add&&this._add(u);r[a]=null}},i.prototype._initIndexMap=function(n,r,o,a){for(var u=this._diffModeMultiple,c=0;c<n.length;c++){var f="_ec_"+this[a](n[c],c);if(u||(o[c]=f),!!r){var d=r[f],h=dataIndexMapValueLength(d);h===0?(r[f]=c,u&&o.push(f)):h===1?r[f]=[d,c]:d.push(c)}}},i}();const DataDiffer$1=DataDiffer;var DimensionUserOuput=function(){function i(n,r){this._encode=n,this._schema=r}return i.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},i.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},i}();function summarizeDimensions(i,n){var r={},o=r.encode={},a=createHashMap(),u=[],c=[],f={};each$4(i.dimensions,function(p){var y=i.getDimensionInfo(p),_=y.coordDim;if(_){process.env.NODE_ENV!=="production"&&assert(VISUAL_DIMENSIONS.get(_)==null);var b=y.coordDimIndex;getOrCreateEncodeArr(o,_)[b]=p,y.isExtraCoord||(a.set(_,1),mayLabelDimType(y.type)&&(u[0]=p),getOrCreateEncodeArr(f,_)[b]=i.getDimensionIndex(y.name)),y.defaultTooltip&&c.push(p)}VISUAL_DIMENSIONS.each(function(A,w){var S=getOrCreateEncodeArr(o,w),T=y.otherDims[w];T!=null&&T!==!1&&(S[T]=y.name)})});var d=[],h={};a.each(function(p,y){var _=o[y];h[y]=_[0],d=d.concat(_)}),r.dataDimsOnCoord=d,r.dataDimIndicesOnCoord=map$1(d,function(p){return i.getDimensionInfo(p).storeDimIndex}),r.encodeFirstDimNotExtra=h;var v=o.label;v&&v.length&&(u=v.slice());var g=o.tooltip;return g&&g.length?c=g.slice():c.length||(c=u.slice()),o.defaultedLabel=u,o.defaultedTooltip=c,r.userOutput=new DimensionUserOuput(f,n),r}function getOrCreateEncodeArr(i,n){return i.hasOwnProperty(n)||(i[n]=[]),i[n]}function mayLabelDimType(i){return!(i==="ordinal"||i==="time")}var SeriesDimensionDefine=function(){function i(n){this.otherDims={},n!=null&&extend(this,n)}return i}();const SeriesDimensionDefine$1=SeriesDimensionDefine;var inner$3=makeInner(),dimTypeShort={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},SeriesDataSchema=function(){function i(n){this.dimensions=n.dimensions,this._dimOmitted=n.dimensionOmitted,this.source=n.source,this._fullDimCount=n.fullDimensionCount,this._updateDimOmitted(n.dimensionOmitted)}return i.prototype.isDimensionOmitted=function(){return this._dimOmitted},i.prototype._updateDimOmitted=function(n){this._dimOmitted=n,n&&(this._dimNameMap||(this._dimNameMap=ensureSourceDimNameMap(this.source)))},i.prototype.getSourceDimensionIndex=function(n){return retrieve2(this._dimNameMap.get(n),-1)},i.prototype.getSourceDimension=function(n){var r=this.source.dimensionsDefine;if(r)return r[n]},i.prototype.makeStoreSchema=function(){for(var n=this._fullDimCount,r=shouldRetrieveDataByName(this.source),o=!shouldOmitUnusedDimensions(n),a="",u=[],c=0,f=0;c<n;c++){var d=void 0,h=void 0,v=void 0,g=this.dimensions[f];if(g&&g.storeDimIndex===c)d=r?g.name:null,h=g.type,v=g.ordinalMeta,f++;else{var p=this.getSourceDimension(c);p&&(d=r?p.name:null,h=p.type)}u.push({property:d,type:h,ordinalMeta:v}),r&&d!=null&&(!g||!g.isCalculationCoord)&&(a+=o?d.replace(/\`/g,"`1").replace(/\$/g,"`2"):d),a+="$",a+=dimTypeShort[h]||"f",v&&(a+=v.uid),a+="$"}var y=this.source,_=[y.seriesLayoutBy,y.startIndex,a].join("$$");return{dimensions:u,hash:_}},i.prototype.makeOutputDimensionNames=function(){for(var n=[],r=0,o=0;r<this._fullDimCount;r++){var a=void 0,u=this.dimensions[o];if(u&&u.storeDimIndex===r)u.isCalculationCoord||(a=u.name),o++;else{var c=this.getSourceDimension(r);c&&(a=c.name)}n.push(a)}return n},i.prototype.appendCalculationDimension=function(n){this.dimensions.push(n),n.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},i}();function isSeriesDataSchema(i){return i instanceof SeriesDataSchema}function createDimNameMap(i){for(var n=createHashMap(),r=0;r<(i||[]).length;r++){var o=i[r],a=isObject$3(o)?o.name:o;a!=null&&n.get(a)==null&&n.set(a,r)}return n}function ensureSourceDimNameMap(i){var n=inner$3(i);return n.dimNameMap||(n.dimNameMap=createDimNameMap(i.dimensionsDefine))}function shouldOmitUnusedDimensions(i){return i>30}var isObject$1=isObject$3,map=map$1,CtorInt32Array=typeof Int32Array>"u"?Array:Int32Array,ID_PREFIX="e\0\0",INDEX_NOT_FOUND=-1,TRANSFERABLE_PROPERTIES=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],CLONE_PROPERTIES=["_approximateExtent"],prepareInvertedIndex,getId,getIdNameFromStore,normalizeDimensions,transferProperties,cloneListForMapAndSample,makeIdFromName,SeriesData=function(){function i(n,r){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var o,a=!1;isSeriesDataSchema(n)?(o=n.dimensions,this._dimOmitted=n.isDimensionOmitted(),this._schema=n):(a=!0,o=n),o=o||["x","y"];for(var u={},c=[],f={},d=!1,h={},v=0;v<o.length;v++){var g=o[v],p=isString$2(g)?new SeriesDimensionDefine$1({name:g}):g instanceof SeriesDimensionDefine$1?g:new SeriesDimensionDefine$1(g),y=p.name;p.type=p.type||"float",p.coordDim||(p.coordDim=y,p.coordDimIndex=0);var _=p.otherDims=p.otherDims||{};c.push(y),u[y]=p,h[y]!=null&&(d=!0),p.createInvertedIndices&&(f[y]=[]),_.itemName===0&&(this._nameDimIdx=v),_.itemId===0&&(this._idDimIdx=v),process.env.NODE_ENV!=="production"&&assert(a||p.storeDimIndex>=0),a&&(p.storeDimIndex=v)}if(this.dimensions=c,this._dimInfos=u,this._initGetDimensionInfo(d),this.hostModel=r,this._invertedIndicesMap=f,this._dimOmitted){var b=this._dimIdxToName=createHashMap();each$4(c,function(A){b.set(u[A].storeDimIndex,A)})}}return i.prototype.getDimension=function(n){var r=this._recognizeDimIndex(n);if(r==null)return n;if(r=n,!this._dimOmitted)return this.dimensions[r];var o=this._dimIdxToName.get(r);if(o!=null)return o;var a=this._schema.getSourceDimension(r);if(a)return a.name},i.prototype.getDimensionIndex=function(n){var r=this._recognizeDimIndex(n);if(r!=null)return r;if(n==null)return-1;var o=this._getDimInfo(n);return o?o.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(n):-1},i.prototype._recognizeDimIndex=function(n){if(isNumber$1(n)||n!=null&&!isNaN(n)&&!this._getDimInfo(n)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(n)<0))return+n},i.prototype._getStoreDimIndex=function(n){var r=this.getDimensionIndex(n);if(process.env.NODE_ENV!=="production"&&r==null)throw new Error("Unknown dimension "+n);return r},i.prototype.getDimensionInfo=function(n){return this._getDimInfo(this.getDimension(n))},i.prototype._initGetDimensionInfo=function(n){var r=this._dimInfos;this._getDimInfo=n?function(o){return r.hasOwnProperty(o)?r[o]:void 0}:function(o){return r[o]}},i.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},i.prototype.mapDimension=function(n,r){var o=this._dimSummary;if(r==null)return o.encodeFirstDimNotExtra[n];var a=o.encode[n];return a?a[r]:null},i.prototype.mapDimensionsAll=function(n){var r=this._dimSummary,o=r.encode[n];return(o||[]).slice()},i.prototype.getStore=function(){return this._store},i.prototype.initData=function(n,r,o){var a=this,u;if(n instanceof DataStore&&(u=n),!u){var c=this.dimensions,f=isSourceInstance(n)||isArrayLike(n)?new DefaultDataProvider(n,c.length):n;u=new DataStore;var d=map(c,function(h){return{type:a._dimInfos[h].type,property:h}});u.initData(f,d,o)}this._store=u,this._nameList=(r||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,u.count()),this._dimSummary=summarizeDimensions(this,this._schema),this.userOutput=this._dimSummary.userOutput},i.prototype.appendData=function(n){var r=this._store.appendData(n);this._doInit(r[0],r[1])},i.prototype.appendValues=function(n,r){var o=this._store.appendValues(n,r.length),a=o.start,u=o.end,c=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),r)for(var f=a;f<u;f++){var d=f-a;this._nameList[f]=r[d],c&&makeIdFromName(this,f)}},i.prototype._updateOrdinalMeta=function(){for(var n=this._store,r=this.dimensions,o=0;o<r.length;o++){var a=this._dimInfos[r[o]];a.ordinalMeta&&n.collectOrdinalMeta(a.storeDimIndex,a.ordinalMeta)}},i.prototype._shouldMakeIdFromName=function(){var n=this._store.getProvider();return this._idDimIdx==null&&n.getSource().sourceFormat!==SOURCE_FORMAT_TYPED_ARRAY&&!n.fillStorage},i.prototype._doInit=function(n,r){if(!(n>=r)){var o=this._store,a=o.getProvider();this._updateOrdinalMeta();var u=this._nameList,c=this._idList,f=a.getSource().sourceFormat,d=f===SOURCE_FORMAT_ORIGINAL;if(d&&!a.pure)for(var h=[],v=n;v<r;v++){var g=a.getItem(v,h);if(!this.hasItemOption&&isDataItemOption(g)&&(this.hasItemOption=!0),g){var p=g.name;u[v]==null&&p!=null&&(u[v]=convertOptionIdName(p,null));var y=g.id;c[v]==null&&y!=null&&(c[v]=convertOptionIdName(y,null))}}if(this._shouldMakeIdFromName())for(var v=n;v<r;v++)makeIdFromName(this,v);prepareInvertedIndex(this)}},i.prototype.getApproximateExtent=function(n){return this._approximateExtent[n]||this._store.getDataExtent(this._getStoreDimIndex(n))},i.prototype.setApproximateExtent=function(n,r){r=this.getDimension(r),this._approximateExtent[r]=n.slice()},i.prototype.getCalculationInfo=function(n){return this._calculationInfo[n]},i.prototype.setCalculationInfo=function(n,r){isObject$1(n)?extend(this._calculationInfo,n):this._calculationInfo[n]=r},i.prototype.getName=function(n){var r=this.getRawIndex(n),o=this._nameList[r];return o==null&&this._nameDimIdx!=null&&(o=getIdNameFromStore(this,this._nameDimIdx,r)),o==null&&(o=""),o},i.prototype._getCategory=function(n,r){var o=this._store.get(n,r),a=this._store.getOrdinalMeta(n);return a?a.categories[o]:o},i.prototype.getId=function(n){return getId(this,this.getRawIndex(n))},i.prototype.count=function(){return this._store.count()},i.prototype.get=function(n,r){var o=this._store,a=this._dimInfos[n];if(a)return o.get(a.storeDimIndex,r)},i.prototype.getByRawIndex=function(n,r){var o=this._store,a=this._dimInfos[n];if(a)return o.getByRawIndex(a.storeDimIndex,r)},i.prototype.getIndices=function(){return this._store.getIndices()},i.prototype.getDataExtent=function(n){return this._store.getDataExtent(this._getStoreDimIndex(n))},i.prototype.getSum=function(n){return this._store.getSum(this._getStoreDimIndex(n))},i.prototype.getMedian=function(n){return this._store.getMedian(this._getStoreDimIndex(n))},i.prototype.getValues=function(n,r){var o=this,a=this._store;return isArray$1(n)?a.getValues(map(n,function(u){return o._getStoreDimIndex(u)}),r):a.getValues(n)},i.prototype.hasValue=function(n){for(var r=this._dimSummary.dataDimIndicesOnCoord,o=0,a=r.length;o<a;o++)if(isNaN(this._store.get(r[o],n)))return!1;return!0},i.prototype.indexOfName=function(n){for(var r=0,o=this._store.count();r<o;r++)if(this.getName(r)===n)return r;return-1},i.prototype.getRawIndex=function(n){return this._store.getRawIndex(n)},i.prototype.indexOfRawIndex=function(n){return this._store.indexOfRawIndex(n)},i.prototype.rawIndexOf=function(n,r){var o=n&&this._invertedIndicesMap[n];if(process.env.NODE_ENV!=="production"&&!o)throw new Error("Do not supported yet");var a=o[r];return a==null||isNaN(a)?INDEX_NOT_FOUND:a},i.prototype.indicesOfNearest=function(n,r,o){return this._store.indicesOfNearest(this._getStoreDimIndex(n),r,o)},i.prototype.each=function(n,r,o){isFunction$1(n)&&(o=r,r=n,n=[]);var a=o||this,u=map(normalizeDimensions(n),this._getStoreDimIndex,this);this._store.each(u,a?bind$1(r,a):r)},i.prototype.filterSelf=function(n,r,o){isFunction$1(n)&&(o=r,r=n,n=[]);var a=o||this,u=map(normalizeDimensions(n),this._getStoreDimIndex,this);return this._store=this._store.filter(u,a?bind$1(r,a):r),this},i.prototype.selectRange=function(n){var r=this,o={},a=keys(n);return each$4(a,function(u){var c=r._getStoreDimIndex(u);o[c]=n[u]}),this._store=this._store.selectRange(o),this},i.prototype.mapArray=function(n,r,o){isFunction$1(n)&&(o=r,r=n,n=[]),o=o||this;var a=[];return this.each(n,function(){a.push(r&&r.apply(this,arguments))},o),a},i.prototype.map=function(n,r,o,a){var u=o||a||this,c=map(normalizeDimensions(n),this._getStoreDimIndex,this),f=cloneListForMapAndSample(this);return f._store=this._store.map(c,u?bind$1(r,u):r),f},i.prototype.modify=function(n,r,o,a){var u=this,c=o||a||this;process.env.NODE_ENV!=="production"&&each$4(normalizeDimensions(n),function(d){var h=u.getDimensionInfo(d);h.isCalculationCoord||console.error("Danger: only stack dimension can be modified")});var f=map(normalizeDimensions(n),this._getStoreDimIndex,this);this._store.modify(f,c?bind$1(r,c):r)},i.prototype.downSample=function(n,r,o,a){var u=cloneListForMapAndSample(this);return u._store=this._store.downSample(this._getStoreDimIndex(n),r,o,a),u},i.prototype.lttbDownSample=function(n,r){var o=cloneListForMapAndSample(this);return o._store=this._store.lttbDownSample(this._getStoreDimIndex(n),r),o},i.prototype.getRawDataItem=function(n){return this._store.getRawDataItem(n)},i.prototype.getItemModel=function(n){var r=this.hostModel,o=this.getRawDataItem(n);return new Model$1(o,r,r&&r.ecModel)},i.prototype.diff=function(n){var r=this;return new DataDiffer$1(n?n.getStore().getIndices():[],this.getStore().getIndices(),function(o){return getId(n,o)},function(o){return getId(r,o)})},i.prototype.getVisual=function(n){var r=this._visual;return r&&r[n]},i.prototype.setVisual=function(n,r){this._visual=this._visual||{},isObject$1(n)?extend(this._visual,n):this._visual[n]=r},i.prototype.getItemVisual=function(n,r){var o=this._itemVisuals[n],a=o&&o[r];return a??this.getVisual(r)},i.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},i.prototype.ensureUniqueItemVisual=function(n,r){var o=this._itemVisuals,a=o[n];a||(a=o[n]={});var u=a[r];return u==null&&(u=this.getVisual(r),isArray$1(u)?u=u.slice():isObject$1(u)&&(u=extend({},u)),a[r]=u),u},i.prototype.setItemVisual=function(n,r,o){var a=this._itemVisuals[n]||{};this._itemVisuals[n]=a,isObject$1(r)?extend(a,r):a[r]=o},i.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},i.prototype.setLayout=function(n,r){isObject$1(n)?extend(this._layout,n):this._layout[n]=r},i.prototype.getLayout=function(n){return this._layout[n]},i.prototype.getItemLayout=function(n){return this._itemLayouts[n]},i.prototype.setItemLayout=function(n,r,o){this._itemLayouts[n]=o?extend(this._itemLayouts[n]||{},r):r},i.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},i.prototype.setItemGraphicEl=function(n,r){var o=this.hostModel&&this.hostModel.seriesIndex;setCommonECData(o,this.dataType,n,r),this._graphicEls[n]=r},i.prototype.getItemGraphicEl=function(n){return this._graphicEls[n]},i.prototype.eachItemGraphicEl=function(n,r){each$4(this._graphicEls,function(o,a){o&&n&&n.call(r,o,a)})},i.prototype.cloneShallow=function(n){return n||(n=new i(this._schema?this._schema:map(this.dimensions,this._getDimInfo,this),this.hostModel)),transferProperties(n,this),n._store=this._store,n},i.prototype.wrapMethod=function(n,r){var o=this[n];isFunction$1(o)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(n),this[n]=function(){var a=o.apply(this,arguments);return r.apply(this,[a].concat(slice(arguments)))})},i.internalField=function(){prepareInvertedIndex=function(n){var r=n._invertedIndicesMap;each$4(r,function(o,a){var u=n._dimInfos[a],c=u.ordinalMeta,f=n._store;if(c){o=r[a]=new CtorInt32Array(c.categories.length);for(var d=0;d<o.length;d++)o[d]=INDEX_NOT_FOUND;for(var d=0;d<f.count();d++)o[f.get(u.storeDimIndex,d)]=d}})},getIdNameFromStore=function(n,r,o){return convertOptionIdName(n._getCategory(r,o),null)},getId=function(n,r){var o=n._idList[r];return o==null&&n._idDimIdx!=null&&(o=getIdNameFromStore(n,n._idDimIdx,r)),o==null&&(o=ID_PREFIX+r),o},normalizeDimensions=function(n){return isArray$1(n)||(n=n!=null?[n]:[]),n},cloneListForMapAndSample=function(n){var r=new i(n._schema?n._schema:map(n.dimensions,n._getDimInfo,n),n.hostModel);return transferProperties(r,n),r},transferProperties=function(n,r){each$4(TRANSFERABLE_PROPERTIES.concat(r.__wrappedMethods||[]),function(o){r.hasOwnProperty(o)&&(n[o]=r[o])}),n.__wrappedMethods=r.__wrappedMethods,each$4(CLONE_PROPERTIES,function(o){n[o]=clone$2(r[o])}),n._calculationInfo=extend({},r._calculationInfo)},makeIdFromName=function(n,r){var o=n._nameList,a=n._idList,u=n._nameDimIdx,c=n._idDimIdx,f=o[r],d=a[r];if(f==null&&u!=null&&(o[r]=f=getIdNameFromStore(n,u,r)),d==null&&c!=null&&(a[r]=d=getIdNameFromStore(n,c,r)),d==null&&f!=null){var h=n._nameRepeatCount,v=h[f]=(h[f]||0)+1;d=f,v>1&&(d+="__ec__"+v),a[r]=d}}}(),i}();const SeriesData$1=SeriesData;function prepareSeriesDataSchema(i,n){isSourceInstance(i)||(i=createSourceFromSeriesDataOption(i)),n=n||{};var r=n.coordDimensions||[],o=n.dimensionsDefine||i.dimensionsDefine||[],a=createHashMap(),u=[],c=getDimCount(i,r,o,n.dimensionsCount),f=n.canOmitUnusedDimensions&&shouldOmitUnusedDimensions(c),d=o===i.dimensionsDefine,h=d?ensureSourceDimNameMap(i):createDimNameMap(o),v=n.encodeDefine;!v&&n.encodeDefaulter&&(v=n.encodeDefaulter(i,c));for(var g=createHashMap(v),p=new CtorInt32Array$1(c),y=0;y<p.length;y++)p[y]=-1;function _(F){var Y=p[F];if(Y<0){var V=o[F],z=isObject$3(V)?V:{name:V},$=new SeriesDimensionDefine$1,pe=z.name;pe!=null&&h.get(pe)!=null&&($.name=$.displayName=pe),z.type!=null&&($.type=z.type),z.displayName!=null&&($.displayName=z.displayName);var le=u.length;return p[F]=le,$.storeDimIndex=F,u.push($),$}return u[Y]}if(!f)for(var y=0;y<c;y++)_(y);g.each(function(F,Y){var V=normalizeToArray(F).slice();if(V.length===1&&!isString$2(V[0])&&V[0]<0){g.set(Y,!1);return}var z=g.set(Y,[]);each$4(V,function($,pe){var le=isString$2($)?h.get($):$;le!=null&&le<c&&(z[pe]=le,A(_(le),Y,pe))})});var b=0;each$4(r,function(F){var Y,V,z,$;if(isString$2(F))Y=F,$={};else{$=F,Y=$.name;var pe=$.ordinalMeta;$.ordinalMeta=null,$=extend({},$),$.ordinalMeta=pe,V=$.dimsDef,z=$.otherDims,$.name=$.coordDim=$.coordDimIndex=$.dimsDef=$.otherDims=null}var le=g.get(Y);if(le!==!1){if(le=normalizeToArray(le),!le.length)for(var Ie=0;Ie<(V&&V.length||1);Ie++){for(;b<c&&_(b).coordDim!=null;)b++;b<c&&le.push(b++)}each$4(le,function(he,xe){var _e=_(he);if(d&&$.type!=null&&(_e.type=$.type),A(defaults(_e,$),Y,xe),_e.name==null&&V){var jt=V[xe];!isObject$3(jt)&&(jt={name:jt}),_e.name=_e.displayName=jt.name,_e.defaultTooltip=jt.defaultTooltip}z&&defaults(_e.otherDims,z)})}});function A(F,Y,V){VISUAL_DIMENSIONS.get(Y)!=null?F.otherDims[Y]=V:(F.coordDim=Y,F.coordDimIndex=V,a.set(Y,!0))}var w=n.generateCoord,S=n.generateCoordCount,T=S!=null;S=w?S||1:0;var x=w||"value";function O(F){F.name==null&&(F.name=F.coordDim)}if(f)each$4(u,function(F){O(F)}),u.sort(function(F,Y){return F.storeDimIndex-Y.storeDimIndex});else for(var L=0;L<c;L++){var M=_(L),re=M.coordDim;re==null&&(M.coordDim=genCoordDimName(x,a,T),M.coordDimIndex=0,(!w||S<=0)&&(M.isExtraCoord=!0),S--),O(M),M.type==null&&(guessOrdinal(i,L)===BE_ORDINAL.Must||M.isExtraCoord&&(M.otherDims.itemName!=null||M.otherDims.seriesName!=null))&&(M.type="ordinal")}return removeDuplication(u),new SeriesDataSchema({source:i,dimensions:u,fullDimensionCount:c,dimensionOmitted:f})}function removeDuplication(i){for(var n=createHashMap(),r=0;r<i.length;r++){var o=i[r],a=o.name,u=n.get(a)||0;u>0&&(o.name=a+(u-1)),u++,n.set(a,u)}}function getDimCount(i,n,r,o){var a=Math.max(i.dimensionsDetectedCount||1,n.length,r.length,o||0);return each$4(n,function(u){var c;isObject$3(u)&&(c=u.dimsDef)&&(a=Math.max(a,c.length))}),a}function genCoordDimName(i,n,r){if(r||n.hasKey(i)){for(var o=0;n.hasKey(i+o);)o++;i+=o}return n.set(i,!0),i}function getAxisRawValue(i,n){return i.type==="category"?i.scale.getLabel(n):n.value}function getOptionCategoryInterval(i){var n=i.get("interval");return n??"auto"}function shouldShowAllLabels(i){return i.type==="category"&&getOptionCategoryInterval(i.getLabelModel())===0}var extensions=[],extensionRegisters={registerPreprocessor,registerProcessor,registerPostInit,registerPostUpdate,registerUpdateLifecycle,registerAction,registerCoordinateSystem,registerLayout,registerVisual,registerTransform,registerLoading,registerMap,registerImpl,PRIORITY,ComponentModel:ComponentModel$1,ComponentView:ComponentView$1,SeriesModel:SeriesModel$1,ChartView:ChartView$1,registerComponentModel:function(i){ComponentModel$1.registerClass(i)},registerComponentView:function(i){ComponentView$1.registerClass(i)},registerSeriesModel:function(i){SeriesModel$1.registerClass(i)},registerChartView:function(i){ChartView$1.registerClass(i)},registerSubTypeDefaulter:function(i,n){ComponentModel$1.registerSubTypeDefaulter(i,n)},registerPainter:function(i,n){registerPainter(i,n)}};function use(i){if(isArray$1(i)){each$4(i,function(n){use(n)});return}indexOf(extensions,i)>=0||(extensions.push(i),isFunction$1(i)&&(i={install:i}),i.install(extensionRegisters))}PathProxy$1.CMD;function projectPointToLine(i,n,r,o,a,u,c,f){var d=a-i,h=u-n,v=r-i,g=o-n,p=Math.sqrt(v*v+g*g);v/=p,g/=p;var y=d*v+h*g,_=y/p;f&&(_=Math.min(Math.max(_,0),1)),_*=p;var b=c[0]=i+_*v,A=c[1]=n+_*g;return Math.sqrt((b-a)*(b-a)+(A-u)*(A-u))}var pt0=new Point$1,pt1=new Point$1,pt2=new Point$1,dir=new Point$1,dir2=new Point$1,tmpArr=[],tmpProjPoint=new Point$1;function limitTurnAngle(i,n){if(n<=180&&n>0){n=n/180*Math.PI,pt0.fromArray(i[0]),pt1.fromArray(i[1]),pt2.fromArray(i[2]),Point$1.sub(dir,pt0,pt1),Point$1.sub(dir2,pt2,pt1);var r=dir.len(),o=dir2.len();if(!(r<.001||o<.001)){dir.scale(1/r),dir2.scale(1/o);var a=dir.dot(dir2),u=Math.cos(n);if(u<a){var c=projectPointToLine(pt1.x,pt1.y,pt2.x,pt2.y,pt0.x,pt0.y,tmpArr,!1);tmpProjPoint.fromArray(tmpArr),tmpProjPoint.scaleAndAdd(dir2,c/Math.tan(Math.PI-n));var f=pt2.x!==pt1.x?(tmpProjPoint.x-pt1.x)/(pt2.x-pt1.x):(tmpProjPoint.y-pt1.y)/(pt2.y-pt1.y);if(isNaN(f))return;f<0?Point$1.copy(tmpProjPoint,pt1):f>1&&Point$1.copy(tmpProjPoint,pt2),tmpProjPoint.toArray(i[1])}}}}function limitSurfaceAngle(i,n,r){if(r<=180&&r>0){r=r/180*Math.PI,pt0.fromArray(i[0]),pt1.fromArray(i[1]),pt2.fromArray(i[2]),Point$1.sub(dir,pt1,pt0),Point$1.sub(dir2,pt2,pt1);var o=dir.len(),a=dir2.len();if(!(o<.001||a<.001)){dir.scale(1/o),dir2.scale(1/a);var u=dir.dot(n),c=Math.cos(r);if(u<c){var f=projectPointToLine(pt1.x,pt1.y,pt2.x,pt2.y,pt0.x,pt0.y,tmpArr,!1);tmpProjPoint.fromArray(tmpArr);var d=Math.PI/2,h=Math.acos(dir2.dot(n)),v=d+h-r;if(v>=d)Point$1.copy(tmpProjPoint,pt2);else{tmpProjPoint.scaleAndAdd(dir2,f/Math.tan(Math.PI/2-v));var g=pt2.x!==pt1.x?(tmpProjPoint.x-pt1.x)/(pt2.x-pt1.x):(tmpProjPoint.y-pt1.y)/(pt2.y-pt1.y);if(isNaN(g))return;g<0?Point$1.copy(tmpProjPoint,pt1):g>1&&Point$1.copy(tmpProjPoint,pt2)}tmpProjPoint.toArray(i[1])}}}}function setLabelLineState(i,n,r,o){var a=r==="normal",u=a?i:i.ensureState(r);u.ignore=n;var c=o.get("smooth");c&&c===!0&&(c=.3),u.shape=u.shape||{},c>0&&(u.shape.smooth=c);var f=o.getModel("lineStyle").getLineStyle();a?i.useStyle(f):u.style=f}function buildLabelLinePath(i,n){var r=n.smooth,o=n.points;if(o)if(i.moveTo(o[0][0],o[0][1]),r>0&&o.length>=3){var a=dist$1(o[0],o[1]),u=dist$1(o[1],o[2]);if(!a||!u){i.lineTo(o[1][0],o[1][1]),i.lineTo(o[2][0],o[2][1]);return}var c=Math.min(a,u)*r,f=lerp([],o[1],o[0],c/a),d=lerp([],o[1],o[2],c/u),h=lerp([],f,d,.5);i.bezierCurveTo(f[0],f[1],f[0],f[1],h[0],h[1]),i.bezierCurveTo(d[0],d[1],d[0],d[1],o[2][0],o[2][1])}else for(var v=1;v<o.length;v++)i.lineTo(o[v][0],o[v][1])}function setLabelLineStyle(i,n,r){var o=i.getTextGuideLine(),a=i.getTextContent();if(!a){o&&i.removeTextGuideLine();return}for(var u=n.normal,c=u.get("show"),f=a.ignore,d=0;d<DISPLAY_STATES.length;d++){var h=DISPLAY_STATES[d],v=n[h],g=h==="normal";if(v){var p=v.get("show"),y=g?f:retrieve2(a.states[h]&&a.states[h].ignore,f);if(y||!retrieve2(p,c)){var _=g?o:o&&o.states[h];_&&(_.ignore=!0);continue}o||(o=new Polyline$1,i.setTextGuideLine(o),!g&&(f||!c)&&setLabelLineState(o,!0,"normal",n.normal),i.stateProxy&&(o.stateProxy=i.stateProxy)),setLabelLineState(o,!1,h,v)}}if(o){defaults(o.style,r),o.style.fill=null;var b=u.get("showAbove"),A=i.textGuideLineConfig=i.textGuideLineConfig||{};A.showAbove=b||!1,o.buildPath=buildLabelLinePath}}function getLabelLineStatesModels(i,n){n=n||"labelLine";for(var r={normal:i.getModel(n)},o=0;o<SPECIAL_STATES.length;o++){var a=SPECIAL_STATES[o];r[a]=i.getModel([a,n])}return r}function prepareLayoutList(i){for(var n=[],r=0;r<i.length;r++){var o=i[r];if(!o.defaultAttr.ignore){var a=o.label,u=a.getComputedTransform(),c=a.getBoundingRect(),f=!u||u[1]<1e-5&&u[2]<1e-5,d=a.style.margin||0,h=c.clone();h.applyTransform(u),h.x-=d/2,h.y-=d/2,h.width+=d,h.height+=d;var v=f?new OrientedBoundingRect$1(c,u):null;n.push({label:a,labelLine:o.labelLine,rect:h,localRect:c,obb:v,priority:o.priority,defaultAttr:o.defaultAttr,layoutOption:o.computedLayoutOption,axisAligned:f,transform:u})}}return n}function shiftLayout(i,n,r,o,a,u){var c=i.length;if(c<2)return;i.sort(function(re,F){return re.rect[n]-F.rect[n]});for(var f=0,d,h=!1,v=0,g=0;g<c;g++){var p=i[g],y=p.rect;d=y[n]-f,d<0&&(y[n]-=d,p.label[n]-=d,h=!0);var _=Math.max(-d,0);v+=_,f=y[n]+y[r]}v>0&&u&&O(-v/c,0,c);var b=i[0],A=i[c-1],w,S;T(),w<0&&L(-w,.8),S<0&&L(S,.8),T(),x(w,S,1),x(S,w,-1),T(),w<0&&M(-w),S<0&&M(S);function T(){w=b.rect[n]-o,S=a-A.rect[n]-A.rect[r]}function x(re,F,Y){if(re<0){var V=Math.min(F,-re);if(V>0){O(V*Y,0,c);var z=V+re;z<0&&L(-z*Y,1)}else L(-re*Y,1)}}function O(re,F,Y){re!==0&&(h=!0);for(var V=F;V<Y;V++){var z=i[V],$=z.rect;$[n]+=re,z.label[n]+=re}}function L(re,F){for(var Y=[],V=0,z=1;z<c;z++){var $=i[z-1].rect,pe=Math.max(i[z].rect[n]-$[n]-$[r],0);Y.push(pe),V+=pe}if(V){var le=Math.min(Math.abs(re)/V,F);if(re>0)for(var z=0;z<c-1;z++){var Ie=Y[z]*le;O(Ie,0,z+1)}else for(var z=c-1;z>0;z--){var Ie=Y[z-1]*le;O(-Ie,z,c)}}}function M(re){var F=re<0?-1:1;re=Math.abs(re);for(var Y=Math.ceil(re/(c-1)),V=0;V<c-1;V++)if(F>0?O(Y,0,V+1):O(-Y,c-V-1,c),re-=Y,re<=0)return}return h}function shiftLayoutOnY(i,n,r,o){return shiftLayout(i,"y","height",n,r,o)}function hideOverlap(i){var n=[];i.sort(function(b,A){return A.priority-b.priority});var r=new BoundingRect$1(0,0,0,0);function o(b){if(!b.ignore){var A=b.ensureState("emphasis");A.ignore==null&&(A.ignore=!1)}b.ignore=!0}for(var a=0;a<i.length;a++){var u=i[a],c=u.axisAligned,f=u.localRect,d=u.transform,h=u.label,v=u.labelLine;r.copy(u.rect),r.width-=.1,r.height-=.1,r.x+=.05,r.y+=.05;for(var g=u.obb,p=!1,y=0;y<n.length;y++){var _=n[y];if(r.intersect(_.rect)){if(c&&_.axisAligned){p=!0;break}if(_.obb||(_.obb=new OrientedBoundingRect$1(_.localRect,_.transform)),g||(g=new OrientedBoundingRect$1(f,d)),g.intersect(_.obb)){p=!0;break}}}p?(o(h),v&&o(v)):(h.attr("ignore",u.defaultAttr.ignore),v&&v.attr("ignore",u.defaultAttr.labelGuideIgnore),n.push(u))}}var mathSin=Math.sin,mathCos=Math.cos,PI$1=Math.PI,PI2$1=Math.PI*2,degree=180/PI$1,SVGPathRebuilder=function(){function i(){}return i.prototype.reset=function(n){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,n||4)},i.prototype.moveTo=function(n,r){this._add("M",n,r)},i.prototype.lineTo=function(n,r){this._add("L",n,r)},i.prototype.bezierCurveTo=function(n,r,o,a,u,c){this._add("C",n,r,o,a,u,c)},i.prototype.quadraticCurveTo=function(n,r,o,a){this._add("Q",n,r,o,a)},i.prototype.arc=function(n,r,o,a,u,c){this.ellipse(n,r,o,o,0,a,u,c)},i.prototype.ellipse=function(n,r,o,a,u,c,f,d){var h=f-c,v=!d,g=Math.abs(h),p=isAroundZero(g-PI2$1)||(v?h>=PI2$1:-h>=PI2$1),y=h>0?h%PI2$1:h%PI2$1+PI2$1,_=!1;p?_=!0:isAroundZero(g)?_=!1:_=y>=PI$1==!!v;var b=n+o*mathCos(c),A=r+a*mathSin(c);this._start&&this._add("M",b,A);var w=Math.round(u*degree);if(p){var S=1/this._p,T=(v?1:-1)*(PI2$1-S);this._add("A",o,a,w,1,+v,n+o*mathCos(c+T),r+a*mathSin(c+T)),S>.01&&this._add("A",o,a,w,0,+v,b,A)}else{var x=n+o*mathCos(f),O=r+a*mathSin(f);this._add("A",o,a,w,+_,+v,x,O)}},i.prototype.rect=function(n,r,o,a){this._add("M",n,r),this._add("l",o,0),this._add("l",0,a),this._add("l",-o,0),this._add("Z")},i.prototype.closePath=function(){this._d.length>0&&this._add("Z")},i.prototype._add=function(n,r,o,a,u,c,f,d,h){for(var v=[],g=this._p,p=1;p<arguments.length;p++){var y=arguments[p];if(isNaN(y)){this._invalid=!0;return}v.push(Math.round(y*g)/g)}this._d.push(n+v.join(" ")),this._start=n==="Z"},i.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},i.prototype.getStr=function(){return this._str},i}();const SVGPathRebuilder$1=SVGPathRebuilder;var NONE="none",mathRound=Math.round;function pathHasFill(i){var n=i.fill;return n!=null&&n!==NONE}function pathHasStroke(i){var n=i.stroke;return n!=null&&n!==NONE}var strokeProps=["lineCap","miterLimit","lineJoin"],svgStrokeProps=map$1(strokeProps,function(i){return"stroke-"+i.toLowerCase()});function mapStyleToAttrs(i,n,r,o){var a=n.opacity==null?1:n.opacity;if(r instanceof ZRImage$1){i("opacity",a);return}if(pathHasFill(n)){var u=normalizeColor(n.fill);i("fill",u.color);var c=n.fillOpacity!=null?n.fillOpacity*u.opacity*a:u.opacity*a;(o||c<1)&&i("fill-opacity",c)}else i("fill",NONE);if(pathHasStroke(n)){var f=normalizeColor(n.stroke);i("stroke",f.color);var d=n.strokeNoScale?r.getLineScale():1,h=d?(n.lineWidth||0)/d:0,v=n.strokeOpacity!=null?n.strokeOpacity*f.opacity*a:f.opacity*a,g=n.strokeFirst;if((o||h!==1)&&i("stroke-width",h),(o||g)&&i("paint-order",g?"stroke":"fill"),(o||v<1)&&i("stroke-opacity",v),n.lineDash){var p=getLineDash(r),y=p[0],_=p[1];y&&(_=mathRound(_||0),i("stroke-dasharray",y.join(",")),(_||o)&&i("stroke-dashoffset",_))}else o&&i("stroke-dasharray",NONE);for(var b=0;b<strokeProps.length;b++){var A=strokeProps[b];if(o||n[A]!==DEFAULT_PATH_STYLE[A]){var w=n[A]||DEFAULT_PATH_STYLE[A];w&&i(svgStrokeProps[b],w)}}}else o&&i("stroke",NONE)}var SVGNS="http://www.w3.org/2000/svg",XLINKNS="http://www.w3.org/1999/xlink",XMLNS="http://www.w3.org/2000/xmlns/",XML_NAMESPACE="http://www.w3.org/XML/1998/namespace";function createElement(i){return document.createElementNS(SVGNS,i)}function createVNode(i,n,r,o,a){return{tag:i,attrs:r||{},children:o,text:a,key:n}}function createElementOpen(i,n){var r=[];if(n)for(var o in n){var a=n[o],u=o;a!==!1&&(a!==!0&&a!=null&&(u+='="'+a+'"'),r.push(u))}return"<"+i+" "+r.join(" ")+">"}function createElementClose(i){return"</"+i+">"}function vNodeToString(i,n){n=n||{};var r=n.newline?`
`:"";function o(a){var u=a.children,c=a.tag,f=a.attrs;return createElementOpen(c,f)+encodeHTML(a.text)+(u?""+r+map$1(u,function(d){return o(d)}).join(r)+r:"")+createElementClose(c)}return o(i)}function getCssString(i,n,r){r=r||{};var o=r.newline?`
`:"",a=" {"+o,u=o+"}",c=map$1(keys(i),function(d){return d+a+map$1(keys(i[d]),function(h){return h+":"+i[d][h]+";"}).join(o)+u}).join(o),f=map$1(keys(n),function(d){return"@keyframes "+d+a+map$1(keys(n[d]),function(h){return h+a+map$1(keys(n[d][h]),function(v){var g=n[d][h][v];return v==="d"&&(g='path("'+g+'")'),v+":"+g+";"}).join(o)+u}).join(o)+u}).join(o);return!c&&!f?"":["<![CDATA[",c,f,"]]>"].join(o)}function createBrushScope(i){return{zrId:i,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssClassIdx:0,cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function createSVGVNode(i,n,r,o){return createVNode("svg","root",{width:i,height:n,xmlns:SVGNS,"xmlns:xlink":XLINKNS,version:"1.1",baseProfile:"full",viewBox:o?"0 0 "+i+" "+n:!1},r)}var EASING_MAP={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},transformOriginKey="transform-origin";function buildPathString(i,n,r){var o=extend({},i.shape);extend(o,n),i.buildPath(r,o);var a=new SVGPathRebuilder$1;return a.reset(getPathPrecision(i)),r.rebuildPath(a,1),a.generateStr(),a.getStr()}function setTransformOrigin(i,n){var r=n.originX,o=n.originY;(r||o)&&(i[transformOriginKey]=r+"px "+o+"px")}var ANIMATE_STYLE_MAP={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function addAnimation(i,n){var r=n.zrId+"-ani-"+n.cssAnimIdx++;return n.cssAnims[r]=i,r}function createCompoundPathCSSAnimation(i,n,r){var o=i.shape.paths,a={},u,c;if(each$4(o,function(d){var h=createBrushScope(r.zrId);h.animation=!0,createCSSAnimation(d,{},h,!0);var v=h.cssAnims,g=h.cssNodes,p=keys(v),y=p.length;if(y){c=p[y-1];var _=v[c];for(var b in _){var A=_[b];a[b]=a[b]||{d:""},a[b].d+=A.d||""}for(var w in g){var S=g[w].animation;S.indexOf(c)>=0&&(u=S)}}}),!!u){n.d=!1;var f=addAnimation(a,r);return u.replace(c,f)}}function getEasingFunc(i){return isString$2(i)?EASING_MAP[i]?"cubic-bezier("+EASING_MAP[i]+")":createCubicEasingFunc(i)?i:"":""}function createCSSAnimation(i,n,r,o){var a=i.animators,u=a.length,c=[];if(i instanceof CompoundPath$1){var f=createCompoundPathCSSAnimation(i,n,r);if(f)c.push(f);else if(!u)return}else if(!u)return;for(var d={},h=0;h<u;h++){var v=a[h],g=[v.getMaxTime()/1e3+"s"],p=getEasingFunc(v.getClip().easing),y=v.getDelay();p?g.push(p):g.push("linear"),y&&g.push(y/1e3+"s"),v.getLoop()&&g.push("infinite");var _=g.join(" ");d[_]=d[_]||[_,[]],d[_][1].push(v)}function b(S){var T=S[1],x=T.length,O={},L={},M={},re="animation-timing-function";function F(In,$e,Ce){for(var ue=In.getTracks(),At=In.getMaxTime(),Oe=0;Oe<ue.length;Oe++){var Ve=ue[Oe];if(Ve.needsAnimate()){var Pt=Ve.keyframes,Dt=Ve.propName;if(Ce&&(Dt=Ce(Dt)),Dt)for(var _n=0;_n<Pt.length;_n++){var ie=Pt[_n],oe=Math.round(ie.time/At*100)+"%",j=getEasingFunc(ie.easing),k=ie.rawValue;(isString$2(k)||isNumber$1(k))&&($e[oe]=$e[oe]||{},$e[oe][Dt]=ie.rawValue,j&&($e[oe][re]=j))}}}}for(var Y=0;Y<x;Y++){var V=T[Y],z=V.targetName;z?z==="shape"&&F(V,L):!o&&F(V,O)}for(var $ in O){var pe={};copyTransform(pe,i),extend(pe,O[$]);var le=getSRTTransformString(pe),Ie=O[$][re];M[$]=le?{transform:le}:{},setTransformOrigin(M[$],pe),Ie&&(M[$][re]=Ie)}var he,xe=!0;for(var $ in L){M[$]=M[$]||{};var _e=!he,Ie=L[$][re];_e&&(he=new PathProxy$1);var jt=he.len();he.reset(),M[$].d=buildPathString(i,L[$],he);var Lt=he.len();if(!_e&&jt!==Lt){xe=!1;break}Ie&&(M[$][re]=Ie)}if(!xe)for(var $ in M)delete M[$].d;if(!o)for(var Y=0;Y<x;Y++){var V=T[Y],z=V.targetName;z==="style"&&F(V,M,function(ue){return ANIMATE_STYLE_MAP[ue]})}for(var Cn=keys(M),vn=!0,kt,Y=1;Y<Cn.length;Y++){var de=Cn[Y-1],qe=Cn[Y];if(M[de][transformOriginKey]!==M[qe][transformOriginKey]){vn=!1;break}kt=M[de][transformOriginKey]}if(vn&&kt){for(var $ in M)M[$][transformOriginKey]&&delete M[$][transformOriginKey];n[transformOriginKey]=kt}if(filter(Cn,function(In){return keys(M[In]).length>0}).length){var Et=addAnimation(M,r);return Et+" "+S[0]+" both"}}for(var A in d){var f=b(d[A]);f&&c.push(f)}if(c.length){var w=r.zrId+"-cls-"+r.cssClassIdx++;r.cssNodes["."+w]={animation:c.join(",")},n.class=w}}var round=Math.round;function isImageLike(i){return i&&isString$2(i.src)}function isCanvasLike(i){return i&&isFunction$1(i.toDataURL)}function setStyleAttrs(i,n,r,o){mapStyleToAttrs(function(a,u){var c=a==="fill"||a==="stroke";c&&isGradient(u)?setGradient(n,i,a,o):c&&isPattern(u)?setPattern(r,i,a,o):i[a]=u},n,r,!1),setShadow(r,i,o)}function noRotateScale(i){return isAroundZero(i[0]-1)&&isAroundZero(i[1])&&isAroundZero(i[2])&&isAroundZero(i[3]-1)}function noTranslate(i){return isAroundZero(i[4])&&isAroundZero(i[5])}function setTransform(i,n,r){if(n&&!(noTranslate(n)&&noRotateScale(n))){var o=r?10:1e4;i.transform=noRotateScale(n)?"translate("+round(n[4]*o)/o+" "+round(n[5]*o)/o+")":getMatrixStr(n)}}function convertPolyShape(i,n,r){for(var o=i.points,a=[],u=0;u<o.length;u++)a.push(round(o[u][0]*r)/r),a.push(round(o[u][1]*r)/r);n.points=a.join(" ")}function validatePolyShape(i){return!i.smooth}function createAttrsConvert(i){var n=map$1(i,function(r){return typeof r=="string"?[r,r]:r});return function(r,o,a){for(var u=0;u<n.length;u++){var c=n[u],f=r[c[0]];f!=null&&(o[c[1]]=round(f*a)/a)}}}var builtinShapesDef={circle:[createAttrsConvert(["cx","cy","r"])],polyline:[convertPolyShape,validatePolyShape],polygon:[convertPolyShape,validatePolyShape]};function hasShapeAnimation(i){for(var n=i.animators,r=0;r<n.length;r++)if(n[r].targetName==="shape")return!0;return!1}function brushSVGPath(i,n){var r=i.style,o=i.shape,a=builtinShapesDef[i.type],u={},c=n.animation,f="path",d=i.style.strokePercent,h=n.compress&&getPathPrecision(i)||4;if(a&&!n.willUpdate&&!(a[1]&&!a[1](o))&&!(c&&hasShapeAnimation(i))&&!(d<1)){f=i.type;var v=Math.pow(10,h);a[0](o,u,v)}else{var g=!i.path||i.shapeChanged();i.path||i.createPathProxy();var p=i.path;g&&(p.beginPath(),i.buildPath(p,i.shape),i.pathUpdated());var y=p.getVersion(),_=i,b=_.__svgPathBuilder;(_.__svgPathVersion!==y||!b||d!==_.__svgPathStrokePercent)&&(b||(b=_.__svgPathBuilder=new SVGPathRebuilder$1),b.reset(h),p.rebuildPath(b,d),b.generateStr(),_.__svgPathVersion=y,_.__svgPathStrokePercent=d),u.d=b.getStr()}return setTransform(u,i.transform),setStyleAttrs(u,r,i,n),n.animation&&createCSSAnimation(i,u,n),createVNode(f,i.id+"",u)}function brushSVGImage(i,n){var r=i.style,o=r.image;if(o&&!isString$2(o)&&(isImageLike(o)?o=o.src:isCanvasLike(o)&&(o=o.toDataURL())),!!o){var a=r.x||0,u=r.y||0,c=r.width,f=r.height,d={href:o,width:c,height:f};return a&&(d.x=a),u&&(d.y=u),setTransform(d,i.transform),setStyleAttrs(d,r,i,n),n.animation&&createCSSAnimation(i,d,n),createVNode("image",i.id+"",d)}}function brushSVGTSpan(i,n){var r=i.style,o=r.text;if(o!=null&&(o+=""),!(!o||isNaN(r.x)||isNaN(r.y))){var a=r.font||DEFAULT_FONT,u=r.x||0,c=adjustTextY$1(r.y||0,getLineHeight(a),r.textBaseline),f=TEXT_ALIGN_TO_ANCHOR[r.textAlign]||r.textAlign,d={"dominant-baseline":"central","text-anchor":f};if(hasSeparateFont(r)){var h="",v=r.fontStyle,g=parseFontSize(r.fontSize);if(!parseFloat(g))return;var p=r.fontFamily||DEFAULT_FONT_FAMILY,y=r.fontWeight;h+="font-size:"+g+";font-family:"+p+";",v&&v!=="normal"&&(h+="font-style:"+v+";"),y&&y!=="normal"&&(h+="font-weight:"+y+";"),d.style=h}else d.style="font: "+a;return o.match(/\s/)&&(d["xml:space"]="preserve"),u&&(d.x=u),c&&(d.y=c),setTransform(d,i.transform),setStyleAttrs(d,r,i,n),n.animation&&createCSSAnimation(i,d,n),createVNode("text",i.id+"",d,void 0,o)}}function brush(i,n){if(i instanceof Path$1)return brushSVGPath(i,n);if(i instanceof ZRImage$1)return brushSVGImage(i,n);if(i instanceof TSpan$1)return brushSVGTSpan(i,n)}function setShadow(i,n,r){var o=i.style;if(hasShadow(o)){var a=getShadowKey(i),u=r.shadowCache,c=u[a];if(!c){var f=i.getGlobalScale(),d=f[0],h=f[1];if(!d||!h)return;var v=o.shadowOffsetX||0,g=o.shadowOffsetY||0,p=o.shadowBlur,y=normalizeColor(o.shadowColor),_=y.opacity,b=y.color,A=p/2/d,w=p/2/h,S=A+" "+w;c=r.zrId+"-s"+r.shadowIdx++,r.defs[c]=createVNode("filter",c,{id:c,x:"-100%",y:"-100%",width:"300%",height:"300%"},[createVNode("feDropShadow","",{dx:v/d,dy:g/h,stdDeviation:S,"flood-color":b,"flood-opacity":_})]),u[a]=c}n.filter=getIdURL(c)}}function setGradient(i,n,r,o){var a=i[r],u,c={gradientUnits:a.global?"userSpaceOnUse":"objectBoundingBox"};if(isLinearGradient(a))u="linearGradient",c.x1=a.x,c.y1=a.y,c.x2=a.x2,c.y2=a.y2;else if(isRadialGradient(a))u="radialGradient",c.cx=retrieve2(a.x,.5),c.cy=retrieve2(a.y,.5),c.r=retrieve2(a.r,.5);else{process.env.NODE_ENV!=="production"&&logError("Illegal gradient type.");return}for(var f=a.colorStops,d=[],h=0,v=f.length;h<v;++h){var g=round4(f[h].offset)*100+"%",p=f[h].color,y=normalizeColor(p),_=y.color,b=y.opacity,A={offset:g};A["stop-color"]=_,b<1&&(A["stop-opacity"]=b),d.push(createVNode("stop",h+"",A))}var w=createVNode(u,"",c,d),S=vNodeToString(w),T=o.gradientCache,x=T[S];x||(x=o.zrId+"-g"+o.gradientIdx++,T[S]=x,c.id=x,o.defs[x]=createVNode(u,x,c,d)),n[r]=getIdURL(x)}function setPattern(i,n,r,o){var a=i.style[r],u=i.getBoundingRect(),c={},f=a.repeat,d=f==="no-repeat",h=f==="repeat-x",v=f==="repeat-y",g;if(isImagePattern(a)){var p=a.imageWidth,y=a.imageHeight,_=void 0,b=a.image;if(isString$2(b)?_=b:isImageLike(b)?_=b.src:isCanvasLike(b)&&(_=b.toDataURL()),typeof Image>"u"){var A="Image width/height must been given explictly in svg-ssr renderer.";assert(p,A),assert(y,A)}else if(p==null||y==null){var w=function(Y,V){if(Y){var z=Y.elm,$=p||V.width,pe=y||V.height;Y.tag==="pattern"&&(h?(pe=1,$/=u.width):v&&($=1,pe/=u.height)),Y.attrs.width=$,Y.attrs.height=pe,z&&(z.setAttribute("width",$),z.setAttribute("height",pe))}},S=createOrUpdateImage(_,null,i,function(Y){d||w(L,Y),w(g,Y)});S&&S.width&&S.height&&(p=p||S.width,y=y||S.height)}g=createVNode("image","img",{href:_,width:p,height:y}),c.width=p,c.height=y}else a.svgElement&&(g=clone$2(a.svgElement),c.width=a.svgWidth,c.height=a.svgHeight);if(g){var T,x;d?T=x=1:h?(x=1,T=c.width/u.width):v?(T=1,x=c.height/u.height):c.patternUnits="userSpaceOnUse",T!=null&&!isNaN(T)&&(c.width=T),x!=null&&!isNaN(x)&&(c.height=x);var O=getSRTTransformString(a);O&&(c.patternTransform=O);var L=createVNode("pattern","",c,[g]),M=vNodeToString(L),re=o.patternCache,F=re[M];F||(F=o.zrId+"-p"+o.patternIdx++,re[M]=F,c.id=F,L=o.defs[F]=createVNode("pattern",F,c,[g])),n[r]=getIdURL(F)}}function setClipPath(i,n,r){var o=r.clipPathCache,a=r.defs,u=o[i.id];if(!u){u=r.zrId+"-c"+r.clipPathIdx++;var c={id:u};o[i.id]=u,a[u]=createVNode("clipPath",u,c,[brushSVGPath(i,r)])}n["clip-path"]=getIdURL(u)}function createTextNode(i){return document.createTextNode(i)}function insertBefore(i,n,r){i.insertBefore(n,r)}function removeChild(i,n){i.removeChild(n)}function appendChild(i,n){i.appendChild(n)}function parentNode(i){return i.parentNode}function nextSibling(i){return i.nextSibling}function setTextContent(i,n){i.textContent=n}var colonChar=58,xChar=120,emptyNode=createVNode("","");function isUndef(i){return i===void 0}function isDef(i){return i!==void 0}function createKeyToOldIdx(i,n,r){for(var o={},a=n;a<=r;++a){var u=i[a].key;u!==void 0&&(process.env.NODE_ENV!=="production"&&o[u]!=null&&console.error("Duplicate key "+u),o[u]=a)}return o}function sameVnode(i,n){var r=i.key===n.key,o=i.tag===n.tag;return o&&r}function createElm(i){var n,r=i.children,o=i.tag;if(isDef(o)){var a=i.elm=createElement(o);if(updateAttrs(emptyNode,i),isArray$1(r))for(n=0;n<r.length;++n){var u=r[n];u!=null&&appendChild(a,createElm(u))}else isDef(i.text)&&!isObject$3(i.text)&&appendChild(a,createTextNode(i.text))}else i.elm=createTextNode(i.text);return i.elm}function addVnodes(i,n,r,o,a){for(;o<=a;++o){var u=r[o];u!=null&&insertBefore(i,createElm(u),n)}}function removeVnodes(i,n,r,o){for(;r<=o;++r){var a=n[r];if(a!=null)if(isDef(a.tag)){var u=parentNode(a.elm);removeChild(u,a.elm)}else removeChild(i,a.elm)}}function updateAttrs(i,n){var r,o=n.elm,a=i&&i.attrs||{},u=n.attrs||{};if(a!==u){for(r in u){var c=u[r],f=a[r];f!==c&&(c===!0?o.setAttribute(r,""):c===!1?o.removeAttribute(r):r.charCodeAt(0)!==xChar?o.setAttribute(r,c):r==="xmlns:xlink"||r==="xmlns"?o.setAttributeNS(XMLNS,r,c):r.charCodeAt(3)===colonChar?o.setAttributeNS(XML_NAMESPACE,r,c):r.charCodeAt(5)===colonChar?o.setAttributeNS(XLINKNS,r,c):o.setAttribute(r,c))}for(r in a)r in u||o.removeAttribute(r)}}function updateChildren(i,n,r){for(var o=0,a=0,u=n.length-1,c=n[0],f=n[u],d=r.length-1,h=r[0],v=r[d],g,p,y,_;o<=u&&a<=d;)c==null?c=n[++o]:f==null?f=n[--u]:h==null?h=r[++a]:v==null?v=r[--d]:sameVnode(c,h)?(patchVnode(c,h),c=n[++o],h=r[++a]):sameVnode(f,v)?(patchVnode(f,v),f=n[--u],v=r[--d]):sameVnode(c,v)?(patchVnode(c,v),insertBefore(i,c.elm,nextSibling(f.elm)),c=n[++o],v=r[--d]):sameVnode(f,h)?(patchVnode(f,h),insertBefore(i,f.elm,c.elm),f=n[--u],h=r[++a]):(isUndef(g)&&(g=createKeyToOldIdx(n,o,u)),p=g[h.key],isUndef(p)?insertBefore(i,createElm(h),c.elm):(y=n[p],y.tag!==h.tag?insertBefore(i,createElm(h),c.elm):(patchVnode(y,h),n[p]=void 0,insertBefore(i,y.elm,c.elm))),h=r[++a]);(o<=u||a<=d)&&(o>u?(_=r[d+1]==null?null:r[d+1].elm,addVnodes(i,_,r,a,d)):removeVnodes(i,n,o,u))}function patchVnode(i,n){var r=n.elm=i.elm,o=i.children,a=n.children;i!==n&&(updateAttrs(i,n),isUndef(n.text)?isDef(o)&&isDef(a)?o!==a&&updateChildren(r,o,a):isDef(a)?(isDef(i.text)&&setTextContent(r,""),addVnodes(r,null,a,0,a.length-1)):isDef(o)?removeVnodes(r,o,0,o.length-1):isDef(i.text)&&setTextContent(r,""):i.text!==n.text&&(isDef(o)&&removeVnodes(r,o,0,o.length-1),setTextContent(r,n.text)))}function patch(i,n){if(sameVnode(i,n))patchVnode(i,n);else{var r=i.elm,o=parentNode(r);createElm(n),o!==null&&(insertBefore(o,n.elm,nextSibling(r)),removeVnodes(o,[i],0,0))}return n}var svgId=0,SVGPainter=function(){function i(n,r,o){if(this.type="svg",this.refreshHover=createMethodNotSupport("refreshHover"),this.configLayer=createMethodNotSupport("configLayer"),this.storage=r,this._opts=o=extend({},o),this.root=n,this._id="zr"+svgId++,this._oldVNode=createSVGVNode(o.width,o.height),n&&!o.ssr){var a=this._viewport=document.createElement("div");a.style.cssText="position:relative;overflow:hidden";var u=this._svgDom=this._oldVNode.elm=createElement("svg");updateAttrs(null,this._oldVNode),a.appendChild(u),n.appendChild(a)}this.resize(o.width,o.height)}return i.prototype.getType=function(){return this.type},i.prototype.getViewportRoot=function(){return this._viewport},i.prototype.getViewportRootOffset=function(){var n=this.getViewportRoot();if(n)return{offsetLeft:n.offsetLeft||0,offsetTop:n.offsetTop||0}},i.prototype.getSvgDom=function(){return this._svgDom},i.prototype.refresh=function(){if(this.root){var n=this.renderToVNode({willUpdate:!0});n.attrs.style="position:absolute;left:0;top:0;user-select:none",patch(this._oldVNode,n),this._oldVNode=n}},i.prototype.renderOneToVNode=function(n){return brush(n,createBrushScope(this._id))},i.prototype.renderToVNode=function(n){n=n||{};var r=this.storage.getDisplayList(!0),o=this._width,a=this._height,u=createBrushScope(this._id);u.animation=n.animation,u.willUpdate=n.willUpdate,u.compress=n.compress;var c=[],f=this._bgVNode=createBackgroundVNode(o,a,this._backgroundColor,u);f&&c.push(f);var d=n.compress?null:this._mainVNode=createVNode("g","main",{},[]);this._paintList(r,u,d?d.children:c),d&&c.push(d);var h=map$1(keys(u.defs),function(p){return u.defs[p]});if(h.length&&c.push(createVNode("defs","defs",{},h)),n.animation){var v=getCssString(u.cssNodes,u.cssAnims,{newline:!0});if(v){var g=createVNode("style","stl",{},[],v);c.push(g)}}return createSVGVNode(o,a,c,n.useViewBox)},i.prototype.renderToString=function(n){return n=n||{},vNodeToString(this.renderToVNode({animation:retrieve2(n.cssAnimation,!0),willUpdate:!1,compress:!0,useViewBox:retrieve2(n.useViewBox,!0)}),{newline:!0})},i.prototype.setBackgroundColor=function(n){this._backgroundColor=n},i.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},i.prototype._paintList=function(n,r,o){for(var a=n.length,u=[],c=0,f,d,h=0,v=0;v<a;v++){var g=n[v];if(!g.invisible){var p=g.__clipPaths,y=p&&p.length||0,_=d&&d.length||0,b=void 0;for(b=Math.max(y-1,_-1);b>=0&&!(p&&d&&p[b]===d[b]);b--);for(var A=_-1;A>b;A--)c--,f=u[c-1];for(var w=b+1;w<y;w++){var S={};setClipPath(p[w],S,r);var T=createVNode("g","clip-g-"+h++,S,[]);(f?f.children:o).push(T),u[c++]=T,f=T}d=p;var x=brush(g,r);x&&(f?f.children:o).push(x)}}},i.prototype.resize=function(n,r){var o=this._opts,a=this.root,u=this._viewport;if(n!=null&&(o.width=n),r!=null&&(o.height=r),a&&u&&(u.style.display="none",n=getSize(a,0,o),r=getSize(a,1,o),u.style.display=""),this._width!==n||this._height!==r){if(this._width=n,this._height=r,u){var c=u.style;c.width=n+"px",c.height=r+"px"}if(isPattern(this._backgroundColor))this.refresh();else{var f=this._svgDom;f&&(f.setAttribute("width",n),f.setAttribute("height",r));var d=this._bgVNode&&this._bgVNode.elm;d&&(d.setAttribute("width",n),d.setAttribute("height",r))}}},i.prototype.getWidth=function(){return this._width},i.prototype.getHeight=function(){return this._height},i.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},i.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},i.prototype.toDataURL=function(n){var r=this.renderToString(),o="data:image/svg+xml;";return n?(r=encodeBase64(r),r&&o+"base64,"+r):o+"charset=UTF-8,"+encodeURIComponent(r)},i}();function createMethodNotSupport(i){return function(){process.env.NODE_ENV!=="production"&&logError('In SVG mode painter not support method "'+i+'"')}}function createBackgroundVNode(i,n,r,o){var a;if(r&&r!=="none")if(a=createVNode("rect","bg",{width:i,height:n,x:"0",y:"0",id:"0"}),isGradient(r))setGradient({fill:r},a.attrs,"fill",o);else if(isPattern(r))setPattern({style:{fill:r},dirty:noop$1,getBoundingRect:function(){return{width:i,height:n}}},a.attrs,"fill",o);else{var u=normalizeColor(r),c=u.color,f=u.opacity;a.attrs.fill=c,f<1&&(a.attrs["fill-opacity"]=f)}return a}const SVGPainter$1=SVGPainter;function install$7(i){i.registerPainter("svg",SVGPainter$1)}var PI2=Math.PI*2,RADIAN$1=Math.PI/180;function getViewRect(i,n){return getLayoutRect(i.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})}function getBasicPieLayout(i,n){var r=getViewRect(i,n),o=i.get("center"),a=i.get("radius");isArray$1(a)||(a=[0,a]);var u=parsePercent(r.width,n.getWidth()),c=parsePercent(r.height,n.getHeight()),f=Math.min(u,c),d=parsePercent(a[0],f/2),h=parsePercent(a[1],f/2),v,g,p=i.coordinateSystem;if(p){var y=p.dataToPoint(o);v=y[0]||0,g=y[1]||0}else isArray$1(o)||(o=[o,o]),v=parsePercent(o[0],u)+r.x,g=parsePercent(o[1],c)+r.y;return{cx:v,cy:g,r0:d,r:h}}function pieLayout(i,n,r){n.eachSeriesByType(i,function(o){var a=o.getData(),u=a.mapDimension("value"),c=getViewRect(o,r),f=getBasicPieLayout(o,r),d=f.cx,h=f.cy,v=f.r,g=f.r0,p=-o.get("startAngle")*RADIAN$1,y=o.get("minAngle")*RADIAN$1,_=0;a.each(u,function(Y){!isNaN(Y)&&_++});var b=a.getSum(u),A=Math.PI/(b||_)*2,w=o.get("clockwise"),S=o.get("roseType"),T=o.get("stillShowZeroSum"),x=a.getDataExtent(u);x[0]=0;var O=PI2,L=0,M=p,re=w?1:-1;if(a.setLayout({viewRect:c,r:v}),a.each(u,function(Y,V){var z;if(isNaN(Y)){a.setItemLayout(V,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:w,cx:d,cy:h,r0:g,r:S?NaN:v});return}S!=="area"?z=b===0&&T?A:Y*A:z=PI2/_,z<y?(z=y,O-=y):L+=Y;var $=M+re*z;a.setItemLayout(V,{angle:z,startAngle:M,endAngle:$,clockwise:w,cx:d,cy:h,r0:g,r:S?linearMap(Y,x,[g,v]):v}),M=$}),O<PI2&&_)if(O<=.001){var F=PI2/_;a.each(u,function(Y,V){if(!isNaN(Y)){var z=a.getItemLayout(V);z.angle=F,z.startAngle=p+re*V*F,z.endAngle=p+re*(V+1)*F}})}else A=O/L,M=p,a.each(u,function(Y,V){if(!isNaN(Y)){var z=a.getItemLayout(V),$=z.angle===y?y:Y*A;z.startAngle=M,z.endAngle=M+re*$,M+=re*$}})})}function dataFilter(i){return{seriesType:i,reset:function(n,r){var o=r.findComponents({mainType:"legend"});if(!(!o||!o.length)){var a=n.getData();a.filterSelf(function(u){for(var c=a.getName(u),f=0;f<o.length;f++)if(!o[f].isSelected(c))return!1;return!0})}}}}var RADIAN=Math.PI/180;function adjustSingleSide(i,n,r,o,a,u,c,f,d,h){if(i.length<2)return;function v(b){for(var A=b.rB,w=A*A,S=0;S<b.list.length;S++){var T=b.list[S],x=Math.abs(T.label.y-r),O=o+T.len,L=O*O,M=Math.sqrt((1-Math.abs(x*x/w))*L),re=n+(M+T.len2)*a,F=re-T.label.x,Y=T.targetTextWidth-F*a;constrainTextWidth(T,Y,!0),T.label.x=re}}function g(b){for(var A={list:[],maxY:0},w={list:[],maxY:0},S=0;S<b.length;S++)if(b[S].labelAlignTo==="none"){var T=b[S],x=T.label.y>r?w:A,O=Math.abs(T.label.y-r);if(O>=x.maxY){var L=T.label.x-n-T.len2*a,M=o+T.len,re=Math.abs(L)<M?Math.sqrt(O*O/(1-L*L/M/M)):M;x.rB=re,x.maxY=O}x.list.push(T)}v(A),v(w)}for(var p=i.length,y=0;y<p;y++)if(i[y].position==="outer"&&i[y].labelAlignTo==="labelLine"){var _=i[y].label.x-h;i[y].linePoints[1][0]+=_,i[y].label.x=h}shiftLayoutOnY(i,d,d+c)&&g(i)}function avoidOverlap(i,n,r,o,a,u,c,f){for(var d=[],h=[],v=Number.MAX_VALUE,g=-Number.MAX_VALUE,p=0;p<i.length;p++){var y=i[p].label;isPositionCenter(i[p])||(y.x<n?(v=Math.min(v,y.x),d.push(i[p])):(g=Math.max(g,y.x),h.push(i[p])))}for(var p=0;p<i.length;p++){var _=i[p];if(!isPositionCenter(_)&&_.linePoints){if(_.labelStyleWidth!=null)continue;var y=_.label,b=_.linePoints,A=void 0;_.labelAlignTo==="edge"?y.x<n?A=b[2][0]-_.labelDistance-c-_.edgeDistance:A=c+a-_.edgeDistance-b[2][0]-_.labelDistance:_.labelAlignTo==="labelLine"?y.x<n?A=v-c-_.bleedMargin:A=c+a-g-_.bleedMargin:y.x<n?A=y.x-c-_.bleedMargin:A=c+a-y.x-_.bleedMargin,_.targetTextWidth=A,constrainTextWidth(_,A)}}adjustSingleSide(h,n,r,o,1,a,u,c,f,g),adjustSingleSide(d,n,r,o,-1,a,u,c,f,v);for(var p=0;p<i.length;p++){var _=i[p];if(!isPositionCenter(_)&&_.linePoints){var y=_.label,b=_.linePoints,w=_.labelAlignTo==="edge",S=y.style.padding,T=S?S[1]+S[3]:0,x=y.style.backgroundColor?0:T,O=_.rect.width+x,L=b[1][0]-b[2][0];w?y.x<n?b[2][0]=c+_.edgeDistance+O+_.labelDistance:b[2][0]=c+a-_.edgeDistance-O-_.labelDistance:(y.x<n?b[2][0]=y.x+_.labelDistance:b[2][0]=y.x-_.labelDistance,b[1][0]=b[2][0]+L),b[1][1]=b[2][1]=y.y}}}function constrainTextWidth(i,n,r){if(r===void 0&&(r=!1),i.labelStyleWidth==null){var o=i.label,a=o.style,u=i.rect,c=a.backgroundColor,f=a.padding,d=f?f[1]+f[3]:0,h=a.overflow,v=u.width+(c?0:d);if(n<v||r){var g=u.height;if(h&&h.match("break")){o.setStyle("backgroundColor",null),o.setStyle("width",n-d);var p=o.getBoundingRect();o.setStyle("width",Math.ceil(p.width)),o.setStyle("backgroundColor",c)}else{var y=n-d,_=n<v?y:r?y>i.unconstrainedWidth?null:y:null;o.setStyle("width",_)}var b=o.getBoundingRect();u.width=b.width;var A=(o.style.margin||0)+2.1;u.height=b.height+A,u.y-=(u.height-g)/2}}}function isPositionCenter(i){return i.position==="center"}function pieLabelLayout(i){var n=i.getData(),r=[],o,a,u=!1,c=(i.get("minShowLabelAngle")||0)*RADIAN,f=n.getLayout("viewRect"),d=n.getLayout("r"),h=f.width,v=f.x,g=f.y,p=f.height;function y(L){L.ignore=!0}function _(L){if(!L.ignore)return!0;for(var M in L.states)if(L.states[M].ignore===!1)return!0;return!1}n.each(function(L){var M=n.getItemGraphicEl(L),re=M.shape,F=M.getTextContent(),Y=M.getTextGuideLine(),V=n.getItemModel(L),z=V.getModel("label"),$=z.get("position")||V.get(["emphasis","label","position"]),pe=z.get("distanceToLabelLine"),le=z.get("alignTo"),Ie=parsePercent(z.get("edgeDistance"),h),he=z.get("bleedMargin"),xe=V.getModel("labelLine"),_e=xe.get("length");_e=parsePercent(_e,h);var jt=xe.get("length2");if(jt=parsePercent(jt,h),Math.abs(re.endAngle-re.startAngle)<c){each$4(F.states,y),F.ignore=!0,Y&&(each$4(Y.states,y),Y.ignore=!0);return}if(_(F)){var Lt=(re.startAngle+re.endAngle)/2,Cn=Math.cos(Lt),vn=Math.sin(Lt),kt,de,qe,Et;o=re.cx,a=re.cy;var In=$==="inside"||$==="inner";if($==="center")kt=re.cx,de=re.cy,Et="center";else{var $e=(In?(re.r+re.r0)/2*Cn:re.r*Cn)+o,Ce=(In?(re.r+re.r0)/2*vn:re.r*vn)+a;if(kt=$e+Cn*3,de=Ce+vn*3,!In){var ue=$e+Cn*(_e+d-re.r),At=Ce+vn*(_e+d-re.r),Oe=ue+(Cn<0?-1:1)*jt,Ve=At;le==="edge"?kt=Cn<0?v+Ie:v+h-Ie:kt=Oe+(Cn<0?-pe:pe),de=Ve,qe=[[$e,Ce],[ue,At],[Oe,Ve]]}Et=In?"center":le==="edge"?Cn>0?"right":"left":Cn>0?"left":"right"}var Pt=Math.PI,Dt=0,_n=z.get("rotate");if(isNumber$1(_n))Dt=_n*(Pt/180);else if($==="center")Dt=0;else if(_n==="radial"||_n===!0){var ie=Cn<0?-Lt+Pt:-Lt;Dt=ie}else if(_n==="tangential"&&$!=="outside"&&$!=="outer"){var oe=Math.atan2(Cn,vn);oe<0&&(oe=Pt*2+oe);var j=vn>0;j&&(oe=Pt+oe),Dt=oe-Pt}if(u=!!Dt,F.x=kt,F.y=de,F.rotation=Dt,F.setStyle({verticalAlign:"middle"}),In){F.setStyle({align:Et});var ae=F.states.select;ae&&(ae.x+=F.x,ae.y+=F.y)}else{var k=F.getBoundingRect().clone();k.applyTransform(F.getComputedTransform());var D=(F.style.margin||0)+2.1;k.y-=D/2,k.height+=D,r.push({label:F,labelLine:Y,position:$,len:_e,len2:jt,minTurnAngle:xe.get("minTurnAngle"),maxSurfaceAngle:xe.get("maxSurfaceAngle"),surfaceNormal:new Point$1(Cn,vn),linePoints:qe,textAlign:Et,labelDistance:pe,labelAlignTo:le,edgeDistance:Ie,bleedMargin:he,rect:k,unconstrainedWidth:k.width,labelStyleWidth:F.style.width})}M.setTextConfig({inside:In})}}),!u&&i.get("avoidLabelOverlap")&&avoidOverlap(r,o,a,d,h,p,v,g);for(var b=0;b<r.length;b++){var A=r[b],w=A.label,S=A.labelLine,T=isNaN(w.x)||isNaN(w.y);if(w){w.setStyle({align:A.textAlign}),T&&(each$4(w.states,y),w.ignore=!0);var x=w.states.select;x&&(x.x+=w.x,x.y+=w.y)}if(S){var O=A.linePoints;T||!O?(each$4(S.states,y),S.ignore=!0):(limitTurnAngle(O,A.minTurnAngle),limitSurfaceAngle(O,A.surfaceNormal,A.maxSurfaceAngle),S.setShape({points:O}),w.__hostTarget.textGuideLineConfig={anchor:new Point$1(O[0][0],O[0][1])})}}}function getSectorCornerRadius(i,n,r){var o=i.get("borderRadius");if(o==null)return r?{cornerRadius:0}:null;isArray$1(o)||(o=[o,o,o,o]);var a=Math.abs(n.r||0-n.r0||0);return{cornerRadius:map$1(o,function(u){return parsePercent$1(u,a)})}}var PiePiece=function(i){__extends(n,i);function n(r,o,a){var u=i.call(this)||this;u.z2=2;var c=new ZRText$1;return u.setTextContent(c),u.updateData(r,o,a,!0),u}return n.prototype.updateData=function(r,o,a,u){var c=this,f=r.hostModel,d=r.getItemModel(o),h=d.getModel("emphasis"),v=r.getItemLayout(o),g=extend(getSectorCornerRadius(d.getModel("itemStyle"),v,!0),v);if(isNaN(g.startAngle)){c.setShape(g);return}if(u){c.setShape(g);var p=f.getShallow("animationType");f.ecModel.ssr?(initProps(c,{scaleX:0,scaleY:0},f,{dataIndex:o,isFrom:!0}),c.originX=g.cx,c.originY=g.cy):p==="scale"?(c.shape.r=v.r0,initProps(c,{shape:{r:v.r}},f,o)):a!=null?(c.setShape({startAngle:a,endAngle:a}),initProps(c,{shape:{startAngle:v.startAngle,endAngle:v.endAngle}},f,o)):(c.shape.endAngle=v.startAngle,updateProps$1(c,{shape:{endAngle:v.endAngle}},f,o))}else saveOldStyle(c),updateProps$1(c,{shape:g},f,o);c.useStyle(r.getItemVisual(o,"style")),setStatesStylesFromModel(c,d);var y=(v.startAngle+v.endAngle)/2,_=f.get("selectedOffset"),b=Math.cos(y)*_,A=Math.sin(y)*_,w=d.getShallow("cursor");w&&c.attr("cursor",w),this._updateLabel(f,r,o),c.ensureState("emphasis").shape=extend({r:v.r+(h.get("scale")&&h.get("scaleSize")||0)},getSectorCornerRadius(h.getModel("itemStyle"),v)),extend(c.ensureState("select"),{x:b,y:A,shape:getSectorCornerRadius(d.getModel(["select","itemStyle"]),v)}),extend(c.ensureState("blur"),{shape:getSectorCornerRadius(d.getModel(["blur","itemStyle"]),v)});var S=c.getTextGuideLine(),T=c.getTextContent();S&&extend(S.ensureState("select"),{x:b,y:A}),extend(T.ensureState("select"),{x:b,y:A}),toggleHoverEmphasis(this,h.get("focus"),h.get("blurScope"),h.get("disabled"))},n.prototype._updateLabel=function(r,o,a){var u=this,c=o.getItemModel(a),f=c.getModel("labelLine"),d=o.getItemVisual(a,"style"),h=d&&d.fill,v=d&&d.opacity;setLabelStyle(u,getLabelStatesModels(c),{labelFetcher:o.hostModel,labelDataIndex:a,inheritColor:h,defaultOpacity:v,defaultText:r.getFormattedLabel(a,"normal")||o.getName(a)});var g=u.getTextContent();u.setTextConfig({position:null,rotation:null}),g.attr({z2:10});var p=r.get(["label","position"]);if(p!=="outside"&&p!=="outer")u.removeTextGuideLine();else{var y=this.getTextGuideLine();y||(y=new Polyline$1,this.setTextGuideLine(y)),setLabelLineStyle(this,getLabelLineStatesModels(c),{stroke:h,opacity:retrieve3(f.get(["lineStyle","opacity"]),v,1)})}},n}(Sector$1),PieView=function(i){__extends(n,i);function n(){var r=i!==null&&i.apply(this,arguments)||this;return r.ignoreLabelLineUpdate=!0,r}return n.prototype.render=function(r,o,a,u){var c=r.getData(),f=this._data,d=this.group,h;if(!f&&c.count()>0){for(var v=c.getItemLayout(0),g=1;isNaN(v&&v.startAngle)&&g<c.count();++g)v=c.getItemLayout(g);v&&(h=v.startAngle)}if(this._emptyCircleSector&&d.remove(this._emptyCircleSector),c.count()===0&&r.get("showEmptyCircle")){var p=new Sector$1({shape:getBasicPieLayout(r,a)});p.useStyle(r.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=p,d.add(p)}c.diff(f).add(function(y){var _=new PiePiece(c,y,h);c.setItemGraphicEl(y,_),d.add(_)}).update(function(y,_){var b=f.getItemGraphicEl(_);b.updateData(c,y,h),b.off("click"),d.add(b),c.setItemGraphicEl(y,b)}).remove(function(y){var _=f.getItemGraphicEl(y);removeElementWithFadeOut(_,r,y)}).execute(),pieLabelLayout(r),r.get("animationTypeUpdate")!=="expansion"&&(this._data=c)},n.prototype.dispose=function(){},n.prototype.containPoint=function(r,o){var a=o.getData(),u=a.getItemLayout(0);if(u){var c=r[0]-u.cx,f=r[1]-u.cy,d=Math.sqrt(c*c+f*f);return d<=u.r&&d>=u.r0}},n.type="pie",n}(ChartView$1);const PieView$1=PieView;function createSeriesDataSimply(i,n,r){n=isArray$1(n)&&{coordDimensions:n}||extend({encodeDefine:i.getEncode()},n);var o=i.getSource(),a=prepareSeriesDataSchema(o,n).dimensions,u=new SeriesData$1(a,i);return u.initData(o,r),u}var LegendVisualProvider=function(){function i(n,r){this._getDataWithEncodedVisual=n,this._getRawData=r}return i.prototype.getAllNames=function(){var n=this._getRawData();return n.mapArray(n.getName)},i.prototype.containName=function(n){var r=this._getRawData();return r.indexOfName(n)>=0},i.prototype.indexOfName=function(n){var r=this._getDataWithEncodedVisual();return r.indexOfName(n)},i.prototype.getItemVisual=function(n,r){var o=this._getDataWithEncodedVisual();return o.getItemVisual(n,r)},i}();const LegendVisualProvider$1=LegendVisualProvider;var innerData=makeInner(),PieSeriesModel=function(i){__extends(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.init=function(r){i.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider$1(bind$1(this.getData,this),bind$1(this.getRawData,this)),this._defaultLabelLine(r)},n.prototype.mergeOption=function(){i.prototype.mergeOption.apply(this,arguments)},n.prototype.getInitialData=function(){return createSeriesDataSimply(this,{coordDimensions:["value"],encodeDefaulter:curry$1(makeSeriesEncodeForNameBased,this)})},n.prototype.getDataParams=function(r){var o=this.getData(),a=innerData(o),u=a.seats;if(!u){var c=[];o.each(o.mapDimension("value"),function(d){c.push(d)}),u=a.seats=getPercentSeats(c,o.hostModel.get("percentPrecision"))}var f=i.prototype.getDataParams.call(this,r);return f.percent=u[r]||0,f.$vars.push("percent"),f},n.prototype._defaultLabelLine=function(r){defaultEmphasis(r,"labelLine",["show"]);var o=r.labelLine,a=r.emphasis.labelLine;o.show=o.show&&r.label.show,a.show=a.show&&r.emphasis.label.show},n.type="series.pie",n.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},n}(SeriesModel$1);const PieSeriesModel$1=PieSeriesModel;function negativeDataFilter(i){return{seriesType:i,reset:function(n,r){var o=n.getData();o.filterSelf(function(a){var u=o.mapDimension("value"),c=o.get(u,a);return!(isNumber$1(c)&&!isNaN(c)&&c<0)})}}}function install$6(i){i.registerChartView(PieView$1),i.registerSeriesModel(PieSeriesModel$1),createLegacyDataSelectAction("pie",i.registerAction),i.registerLayout(curry$1(pieLayout,"pie")),i.registerProcessor(dataFilter("pie")),i.registerProcessor(negativeDataFilter("pie"))}function layout(i,n,r){r=r||{};var o=i.coordinateSystem,a=n.axis,u={},c=a.getAxesOnZeroOf()[0],f=a.position,d=c?"onZero":f,h=a.dim,v=o.getRect(),g=[v.x,v.x+v.width,v.y,v.y+v.height],p={left:0,right:1,top:0,bottom:1,onZero:2},y=n.get("offset")||0,_=h==="x"?[g[2]-y,g[3]+y]:[g[0]-y,g[1]+y];if(c){var b=c.toGlobalCoord(c.dataToCoord(0));_[p.onZero]=Math.max(Math.min(b,_[1]),_[0])}u.position=[h==="y"?_[p[d]]:g[0],h==="x"?_[p[d]]:g[3]],u.rotation=Math.PI/2*(h==="x"?0:1);var A={top:-1,bottom:1,left:-1,right:1};u.labelDirection=u.tickDirection=u.nameDirection=A[f],u.labelOffset=c?_[p[f]]-_[p.onZero]:0,n.get(["axisTick","inside"])&&(u.tickDirection=-u.tickDirection),retrieve(r.labelInside,n.get(["axisLabel","inside"]))&&(u.labelDirection=-u.labelDirection);var w=n.get(["axisLabel","rotate"]);return u.labelRotate=d==="top"?-w:w,u.z2=1,u}var PI=Math.PI,AxisBuilder=function(){function i(n,r){this.group=new Group$3,this.opt=r,this.axisModel=n,defaults(r,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var o=new Group$3({x:r.position[0],y:r.position[1],rotation:r.rotation});o.updateTransform(),this._transformGroup=o}return i.prototype.hasBuilder=function(n){return!!builders[n]},i.prototype.add=function(n){builders[n](this.opt,this.axisModel,this.group,this._transformGroup)},i.prototype.getGroup=function(){return this.group},i.innerTextLayout=function(n,r,o){var a=remRadian(r-n),u,c;return isRadianAroundZero(a)?(c=o>0?"top":"bottom",u="center"):isRadianAroundZero(a-PI)?(c=o>0?"bottom":"top",u="center"):(c="middle",a>0&&a<PI?u=o>0?"right":"left":u=o>0?"left":"right"),{rotation:a,textAlign:u,textVerticalAlign:c}},i.makeAxisEventDataBase=function(n){var r={componentType:n.mainType,componentIndex:n.componentIndex};return r[n.mainType+"Index"]=n.componentIndex,r},i.isLabelSilent=function(n){var r=n.get("tooltip");return n.get("silent")||!(n.get("triggerEvent")||r&&r.show)},i}(),builders={axisLine:function(i,n,r,o){var a=n.get(["axisLine","show"]);if(a==="auto"&&i.handleAutoShown&&(a=i.handleAutoShown("axisLine")),!!a){var u=n.axis.getExtent(),c=o.transform,f=[u[0],0],d=[u[1],0],h=f[0]>d[0];c&&(applyTransform$1(f,f,c),applyTransform$1(d,d,c));var v=extend({lineCap:"round"},n.getModel(["axisLine","lineStyle"]).getLineStyle()),g=new Line$1({shape:{x1:f[0],y1:f[1],x2:d[0],y2:d[1]},style:v,strokeContainThreshold:i.strokeContainThreshold||5,silent:!0,z2:1});subPixelOptimizeLine(g.shape,g.style.lineWidth),g.anid="line",r.add(g);var p=n.get(["axisLine","symbol"]);if(p!=null){var y=n.get(["axisLine","symbolSize"]);isString$2(p)&&(p=[p,p]),(isString$2(y)||isNumber$1(y))&&(y=[y,y]);var _=normalizeSymbolOffset(n.get(["axisLine","symbolOffset"])||0,y),b=y[0],A=y[1];each$4([{rotate:i.rotation+Math.PI/2,offset:_[0],r:0},{rotate:i.rotation-Math.PI/2,offset:_[1],r:Math.sqrt((f[0]-d[0])*(f[0]-d[0])+(f[1]-d[1])*(f[1]-d[1]))}],function(w,S){if(p[S]!=="none"&&p[S]!=null){var T=createSymbol(p[S],-b/2,-A/2,b,A,v.stroke,!0),x=w.r+w.offset,O=h?d:f;T.attr({rotation:w.rotate,x:O[0]+x*Math.cos(i.rotation),y:O[1]-x*Math.sin(i.rotation),silent:!0,z2:11}),r.add(T)}})}}},axisTickLabel:function(i,n,r,o){var a=buildAxisMajorTicks(r,o,n,i),u=buildAxisLabel(r,o,n,i);if(fixMinMaxLabelShow(n,u,a),buildAxisMinorTicks(r,o,n,i.tickDirection),n.get(["axisLabel","hideOverlap"])){var c=prepareLayoutList(map$1(u,function(f){return{label:f,priority:f.z2,defaultAttr:{ignore:f.ignore}}}));hideOverlap(c)}},axisName:function(i,n,r,o){var a=retrieve(i.axisName,n.get("name"));if(a){var u=n.get("nameLocation"),c=i.nameDirection,f=n.getModel("nameTextStyle"),d=n.get("nameGap")||0,h=n.axis.getExtent(),v=h[0]>h[1]?-1:1,g=[u==="start"?h[0]-v*d:u==="end"?h[1]+v*d:(h[0]+h[1])/2,isNameLocationCenter(u)?i.labelOffset+c*d:0],p,y=n.get("nameRotate");y!=null&&(y=y*PI/180);var _;isNameLocationCenter(u)?p=AxisBuilder.innerTextLayout(i.rotation,y??i.rotation,c):(p=endTextLayout(i.rotation,u,y||0,h),_=i.axisNameAvailableWidth,_!=null&&(_=Math.abs(_/Math.sin(p.rotation)),!isFinite(_)&&(_=null)));var b=f.getFont(),A=n.get("nameTruncate",!0)||{},w=A.ellipsis,S=retrieve(i.nameTruncateMaxWidth,A.maxWidth,_),T=new ZRText$1({x:g[0],y:g[1],rotation:p.rotation,silent:AxisBuilder.isLabelSilent(n),style:createTextStyle(f,{text:a,font:b,overflow:"truncate",width:S,ellipsis:w,fill:f.getTextColor()||n.get(["axisLine","lineStyle","color"]),align:f.get("align")||p.textAlign,verticalAlign:f.get("verticalAlign")||p.textVerticalAlign}),z2:1});if(setTooltipConfig({el:T,componentModel:n,itemName:a}),T.__fullText=a,T.anid="name",n.get("triggerEvent")){var x=AxisBuilder.makeAxisEventDataBase(n);x.targetType="axisName",x.name=a,getECData(T).eventData=x}o.add(T),T.updateTransform(),r.add(T),T.decomposeTransform()}}};function endTextLayout(i,n,r,o){var a=remRadian(r-i),u,c,f=o[0]>o[1],d=n==="start"&&!f||n!=="start"&&f;return isRadianAroundZero(a-PI/2)?(c=d?"bottom":"top",u="center"):isRadianAroundZero(a-PI*1.5)?(c=d?"top":"bottom",u="center"):(c="middle",a<PI*1.5&&a>PI/2?u=d?"left":"right":u=d?"right":"left"),{rotation:a,textAlign:u,textVerticalAlign:c}}function fixMinMaxLabelShow(i,n,r){if(!shouldShowAllLabels(i.axis)){var o=i.get(["axisLabel","showMinLabel"]),a=i.get(["axisLabel","showMaxLabel"]);n=n||[],r=r||[];var u=n[0],c=n[1],f=n[n.length-1],d=n[n.length-2],h=r[0],v=r[1],g=r[r.length-1],p=r[r.length-2];o===!1?(ignoreEl(u),ignoreEl(h)):isTwoLabelOverlapped(u,c)&&(o?(ignoreEl(c),ignoreEl(v)):(ignoreEl(u),ignoreEl(h))),a===!1?(ignoreEl(f),ignoreEl(g)):isTwoLabelOverlapped(d,f)&&(a?(ignoreEl(d),ignoreEl(p)):(ignoreEl(f),ignoreEl(g)))}}function ignoreEl(i){i&&(i.ignore=!0)}function isTwoLabelOverlapped(i,n){var r=i&&i.getBoundingRect().clone(),o=n&&n.getBoundingRect().clone();if(!(!r||!o)){var a=identity$1([]);return rotate(a,a,-i.rotation),r.applyTransform(mul([],a,i.getLocalTransform())),o.applyTransform(mul([],a,n.getLocalTransform())),r.intersect(o)}}function isNameLocationCenter(i){return i==="middle"||i==="center"}function createTicks(i,n,r,o,a){for(var u=[],c=[],f=[],d=0;d<i.length;d++){var h=i[d].coord;c[0]=h,c[1]=0,f[0]=h,f[1]=r,n&&(applyTransform$1(c,c,n),applyTransform$1(f,f,n));var v=new Line$1({shape:{x1:c[0],y1:c[1],x2:f[0],y2:f[1]},style:o,z2:2,autoBatch:!0,silent:!0});subPixelOptimizeLine(v.shape,v.style.lineWidth),v.anid=a+"_"+i[d].tickValue,u.push(v)}return u}function buildAxisMajorTicks(i,n,r,o){var a=r.axis,u=r.getModel("axisTick"),c=u.get("show");if(c==="auto"&&o.handleAutoShown&&(c=o.handleAutoShown("axisTick")),!(!c||a.scale.isBlank())){for(var f=u.getModel("lineStyle"),d=o.tickDirection*u.get("length"),h=a.getTicksCoords(),v=createTicks(h,n.transform,d,defaults(f.getLineStyle(),{stroke:r.get(["axisLine","lineStyle","color"])}),"ticks"),g=0;g<v.length;g++)i.add(v[g]);return v}}function buildAxisMinorTicks(i,n,r,o){var a=r.axis,u=r.getModel("minorTick");if(!(!u.get("show")||a.scale.isBlank())){var c=a.getMinorTicksCoords();if(c.length)for(var f=u.getModel("lineStyle"),d=o*u.get("length"),h=defaults(f.getLineStyle(),defaults(r.getModel("axisTick").getLineStyle(),{stroke:r.get(["axisLine","lineStyle","color"])})),v=0;v<c.length;v++)for(var g=createTicks(c[v],n.transform,d,h,"minorticks_"+v),p=0;p<g.length;p++)i.add(g[p])}}function buildAxisLabel(i,n,r,o){var a=r.axis,u=retrieve(o.axisLabelShow,r.get(["axisLabel","show"]));if(!(!u||a.scale.isBlank())){var c=r.getModel("axisLabel"),f=c.get("margin"),d=a.getViewLabels(),h=(retrieve(o.labelRotate,c.get("rotate"))||0)*PI/180,v=AxisBuilder.innerTextLayout(o.rotation,h,o.labelDirection),g=r.getCategories&&r.getCategories(!0),p=[],y=AxisBuilder.isLabelSilent(r),_=r.get("triggerEvent");return each$4(d,function(b,A){var w=a.scale.type==="ordinal"?a.scale.getRawOrdinalNumber(b.tickValue):b.tickValue,S=b.formattedLabel,T=b.rawLabel,x=c;if(g&&g[w]){var O=g[w];isObject$3(O)&&O.textStyle&&(x=new Model$1(O.textStyle,c,r.ecModel))}var L=x.getTextColor()||r.get(["axisLine","lineStyle","color"]),M=a.dataToCoord(w),re=new ZRText$1({x:M,y:o.labelOffset+o.labelDirection*f,rotation:v.rotation,silent:y,z2:10+(b.level||0),style:createTextStyle(x,{text:S,align:x.getShallow("align",!0)||v.textAlign,verticalAlign:x.getShallow("verticalAlign",!0)||x.getShallow("baseline",!0)||v.textVerticalAlign,fill:isFunction$1(L)?L(a.type==="category"?T:a.type==="value"?w+"":w,A):L})});if(re.anid="label_"+w,_){var F=AxisBuilder.makeAxisEventDataBase(r);F.targetType="axisLabel",F.value=T,F.tickIndex=A,a.type==="category"&&(F.dataIndex=w),getECData(re).eventData=F}n.add(re),re.updateTransform(),p.push(re),i.add(re),re.decomposeTransform()}),p}}const AxisBuilder$1=AxisBuilder;function collect(i,n){var r={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return collectAxesInfo(r,i,n),r.seriesInvolved&&collectSeriesInfo(r,i),r}function collectAxesInfo(i,n,r){var o=n.getComponent("tooltip"),a=n.getComponent("axisPointer"),u=a.get("link",!0)||[],c=[];each$4(r.getCoordinateSystems(),function(f){if(!f.axisPointerEnabled)return;var d=makeKey(f.model),h=i.coordSysAxesInfo[d]={};i.coordSysMap[d]=f;var v=f.model,g=v.getModel("tooltip",o);if(each$4(f.getAxes(),curry$1(b,!1,null)),f.getTooltipAxes&&o&&g.get("show")){var p=g.get("trigger")==="axis",y=g.get(["axisPointer","type"])==="cross",_=f.getTooltipAxes(g.get(["axisPointer","axis"]));(p||y)&&each$4(_.baseAxes,curry$1(b,y?"cross":!0,p)),y&&each$4(_.otherAxes,curry$1(b,"cross",!1))}function b(A,w,S){var T=S.model.getModel("axisPointer",a),x=T.get("show");if(!(!x||x==="auto"&&!A&&!isHandleTrigger(T))){w==null&&(w=T.get("triggerTooltip")),T=A?makeAxisPointerModel(S,g,a,n,A,w):T;var O=T.get("snap"),L=makeKey(S.model),M=w||O||S.type==="category",re=i.axesInfo[L]={key:L,axis:S,coordSys:f,axisPointerModel:T,triggerTooltip:w,involveSeries:M,snap:O,useHandle:isHandleTrigger(T),seriesModels:[],linkGroup:null};h[L]=re,i.seriesInvolved=i.seriesInvolved||M;var F=getLinkGroupIndex(u,S);if(F!=null){var Y=c[F]||(c[F]={axesInfo:{}});Y.axesInfo[L]=re,Y.mapper=u[F].mapper,re.linkGroup=Y}}}})}function makeAxisPointerModel(i,n,r,o,a,u){var c=n.getModel("axisPointer"),f=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],d={};each$4(f,function(p){d[p]=clone$2(c.get(p))}),d.snap=i.type!=="category"&&!!u,c.get("type")==="cross"&&(d.type="line");var h=d.label||(d.label={});if(h.show==null&&(h.show=!1),a==="cross"){var v=c.get(["label","show"]);if(h.show=v??!0,!u){var g=d.lineStyle=c.get("crossStyle");g&&defaults(h,g.textStyle)}}return i.model.getModel("axisPointer",new Model$1(d,r,o))}function collectSeriesInfo(i,n){n.eachSeries(function(r){var o=r.coordinateSystem,a=r.get(["tooltip","trigger"],!0),u=r.get(["tooltip","show"],!0);!o||a==="none"||a===!1||a==="item"||u===!1||r.get(["axisPointer","show"],!0)===!1||each$4(i.coordSysAxesInfo[makeKey(o.model)],function(c){var f=c.axis;o.getAxis(f.dim)===f&&(c.seriesModels.push(r),c.seriesDataCount==null&&(c.seriesDataCount=0),c.seriesDataCount+=r.getData().count())})})}function getLinkGroupIndex(i,n){for(var r=n.model,o=n.dim,a=0;a<i.length;a++){var u=i[a]||{};if(checkPropInLink(u[o+"AxisId"],r.id)||checkPropInLink(u[o+"AxisIndex"],r.componentIndex)||checkPropInLink(u[o+"AxisName"],r.name))return a}}function checkPropInLink(i,n){return i==="all"||isArray$1(i)&&indexOf(i,n)>=0||i===n}function fixValue(i){var n=getAxisInfo(i);if(n){var r=n.axisPointerModel,o=n.axis.scale,a=r.option,u=r.get("status"),c=r.get("value");c!=null&&(c=o.parse(c));var f=isHandleTrigger(r);u==null&&(a.status=f?"show":"hide");var d=o.getExtent().slice();d[0]>d[1]&&d.reverse(),(c==null||c>d[1])&&(c=d[1]),c<d[0]&&(c=d[0]),a.value=c,f&&(a.status=n.axis.scale.isBlank()?"hide":"show")}}function getAxisInfo(i){var n=(i.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return n&&n.axesInfo[makeKey(i)]}function getAxisPointerModel(i){var n=getAxisInfo(i);return n&&n.axisPointerModel}function isHandleTrigger(i){return!!i.get(["handle","show"])}function makeKey(i){return i.type+"||"+i.id}var axisPointerClazz={},AxisView=function(i){__extends(n,i);function n(){var r=i!==null&&i.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,o,a,u){this.axisPointerClass&&fixValue(r),i.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(r,a,!0)},n.prototype.updateAxisPointer=function(r,o,a,u){this._doUpdateAxisPointerClass(r,a,!1)},n.prototype.remove=function(r,o){var a=this._axisPointer;a&&a.remove(o)},n.prototype.dispose=function(r,o){this._disposeAxisPointer(o),i.prototype.dispose.apply(this,arguments)},n.prototype._doUpdateAxisPointerClass=function(r,o,a){var u=n.getAxisPointerClass(this.axisPointerClass);if(u){var c=getAxisPointerModel(r);c?(this._axisPointer||(this._axisPointer=new u)).render(r,c,o,a):this._disposeAxisPointer(o)}},n.prototype._disposeAxisPointer=function(r){this._axisPointer&&this._axisPointer.dispose(r),this._axisPointer=null},n.registerAxisPointerClass=function(r,o){if(process.env.NODE_ENV!=="production"&&axisPointerClazz[r])throw new Error("axisPointer "+r+" exists");axisPointerClazz[r]=o},n.getAxisPointerClass=function(r){return r&&axisPointerClazz[r]},n.type="axis",n}(ComponentView$1);const AxisView$1=AxisView;var inner$2=makeInner(),clone=clone$2,bind=bind$1,BaseAxisPointer=function(){function i(){this._dragging=!1,this.animationThreshold=15}return i.prototype.render=function(n,r,o,a){var u=r.get("value"),c=r.get("status");if(this._axisModel=n,this._axisPointerModel=r,this._api=o,!(!a&&this._lastValue===u&&this._lastStatus===c)){this._lastValue=u,this._lastStatus=c;var f=this._group,d=this._handle;if(!c||c==="hide"){f&&f.hide(),d&&d.hide();return}f&&f.show(),d&&d.show();var h={};this.makeElOption(h,u,n,r,o);var v=h.graphicKey;v!==this._lastGraphicKey&&this.clear(o),this._lastGraphicKey=v;var g=this._moveAnimation=this.determineAnimation(n,r);if(!f)f=this._group=new Group$3,this.createPointerEl(f,h,n,r),this.createLabelEl(f,h,n,r),o.getZr().add(f);else{var p=curry$1(updateProps,r,g);this.updatePointerEl(f,h,p),this.updateLabelEl(f,h,p,r)}updateMandatoryProps(f,r,!0),this._renderHandle(u)}},i.prototype.remove=function(n){this.clear(n)},i.prototype.dispose=function(n){this.clear(n)},i.prototype.determineAnimation=function(n,r){var o=r.get("animation"),a=n.axis,u=a.type==="category",c=r.get("snap");if(!c&&!u)return!1;if(o==="auto"||o==null){var f=this.animationThreshold;if(u&&a.getBandWidth()>f)return!0;if(c){var d=getAxisInfo(n).seriesDataCount,h=a.getExtent();return Math.abs(h[0]-h[1])/d>f}return!1}return o===!0},i.prototype.makeElOption=function(n,r,o,a,u){},i.prototype.createPointerEl=function(n,r,o,a){var u=r.pointer;if(u){var c=inner$2(n).pointerEl=new graphic[u.type](clone(r.pointer));n.add(c)}},i.prototype.createLabelEl=function(n,r,o,a){if(r.label){var u=inner$2(n).labelEl=new ZRText$1(clone(r.label));n.add(u),updateLabelShowHide(u,a)}},i.prototype.updatePointerEl=function(n,r,o){var a=inner$2(n).pointerEl;a&&r.pointer&&(a.setStyle(r.pointer.style),o(a,{shape:r.pointer.shape}))},i.prototype.updateLabelEl=function(n,r,o,a){var u=inner$2(n).labelEl;u&&(u.setStyle(r.label.style),o(u,{x:r.label.x,y:r.label.y}),updateLabelShowHide(u,a))},i.prototype._renderHandle=function(n){if(!(this._dragging||!this.updateHandleTransform)){var r=this._axisPointerModel,o=this._api.getZr(),a=this._handle,u=r.getModel("handle"),c=r.get("status");if(!u.get("show")||!c||c==="hide"){a&&o.remove(a),this._handle=null;return}var f;this._handle||(f=!0,a=this._handle=createIcon(u.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(h){stop(h.event)},onmousedown:bind(this._onHandleDragMove,this,0,0),drift:bind(this._onHandleDragMove,this),ondragend:bind(this._onHandleDragEnd,this)}),o.add(a)),updateMandatoryProps(a,r,!1),a.setStyle(u.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var d=u.get("size");isArray$1(d)||(d=[d,d]),a.scaleX=d[0]/2,a.scaleY=d[1]/2,createOrUpdate(this,"_doDispatchAxisPointer",u.get("throttle")||0,"fixRate"),this._moveHandleToValue(n,f)}},i.prototype._moveHandleToValue=function(n,r){updateProps(this._axisPointerModel,!r&&this._moveAnimation,this._handle,getHandleTransProps(this.getHandleTransform(n,this._axisModel,this._axisPointerModel)))},i.prototype._onHandleDragMove=function(n,r){var o=this._handle;if(o){this._dragging=!0;var a=this.updateHandleTransform(getHandleTransProps(o),[n,r],this._axisModel,this._axisPointerModel);this._payloadInfo=a,o.stopAnimation(),o.attr(getHandleTransProps(a)),inner$2(o).lastProp=null,this._doDispatchAxisPointer()}},i.prototype._doDispatchAxisPointer=function(){var n=this._handle;if(n){var r=this._payloadInfo,o=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:r.cursorPoint[0],y:r.cursorPoint[1],tooltipOption:r.tooltipOption,axesInfo:[{axisDim:o.axis.dim,axisIndex:o.componentIndex}]})}},i.prototype._onHandleDragEnd=function(){this._dragging=!1;var n=this._handle;if(n){var r=this._axisPointerModel.get("value");this._moveHandleToValue(r),this._api.dispatchAction({type:"hideTip"})}},i.prototype.clear=function(n){this._lastValue=null,this._lastStatus=null;var r=n.getZr(),o=this._group,a=this._handle;r&&o&&(this._lastGraphicKey=null,o&&r.remove(o),a&&r.remove(a),this._group=null,this._handle=null,this._payloadInfo=null),clear(this,"_doDispatchAxisPointer")},i.prototype.doClear=function(){},i.prototype.buildLabel=function(n,r,o){return o=o||0,{x:n[o],y:n[1-o],width:r[o],height:r[1-o]}},i}();function updateProps(i,n,r,o){propsEqual(inner$2(r).lastProp,o)||(inner$2(r).lastProp=o,n?updateProps$1(r,o,i):(r.stopAnimation(),r.attr(o)))}function propsEqual(i,n){if(isObject$3(i)&&isObject$3(n)){var r=!0;return each$4(n,function(o,a){r=r&&propsEqual(i[a],o)}),!!r}else return i===n}function updateLabelShowHide(i,n){i[n.get(["label","show"])?"show":"hide"]()}function getHandleTransProps(i){return{x:i.x||0,y:i.y||0,rotation:i.rotation||0}}function updateMandatoryProps(i,n,r){var o=n.get("z"),a=n.get("zlevel");i&&i.traverse(function(u){u.type!=="group"&&(o!=null&&(u.z=o),a!=null&&(u.zlevel=a),u.silent=r)})}const BaseAxisPointer$1=BaseAxisPointer;function buildElStyle(i){var n=i.get("type"),r=i.getModel(n+"Style"),o;return n==="line"?(o=r.getLineStyle(),o.fill=null):n==="shadow"&&(o=r.getAreaStyle(),o.stroke=null),o}function buildLabelElOption(i,n,r,o,a){var u=r.get("value"),c=getValueLabel(u,n.axis,n.ecModel,r.get("seriesDataIndices"),{precision:r.get(["label","precision"]),formatter:r.get(["label","formatter"])}),f=r.getModel("label"),d=normalizeCssArray(f.get("padding")||0),h=f.getFont(),v=getBoundingRect(c,h),g=a.position,p=v.width+d[1]+d[3],y=v.height+d[0]+d[2],_=a.align;_==="right"&&(g[0]-=p),_==="center"&&(g[0]-=p/2);var b=a.verticalAlign;b==="bottom"&&(g[1]-=y),b==="middle"&&(g[1]-=y/2),confineInContainer(g,p,y,o);var A=f.get("backgroundColor");(!A||A==="auto")&&(A=n.get(["axisLine","lineStyle","color"])),i.label={x:g[0],y:g[1],style:createTextStyle(f,{text:c,font:h,fill:f.getTextColor(),padding:d,backgroundColor:A}),z2:10}}function confineInContainer(i,n,r,o){var a=o.getWidth(),u=o.getHeight();i[0]=Math.min(i[0]+n,a)-n,i[1]=Math.min(i[1]+r,u)-r,i[0]=Math.max(i[0],0),i[1]=Math.max(i[1],0)}function getValueLabel(i,n,r,o,a){i=n.scale.parse(i);var u=n.scale.getLabel({value:i},{precision:a.precision}),c=a.formatter;if(c){var f={value:getAxisRawValue(n,{value:i}),axisDimension:n.dim,axisIndex:n.index,seriesData:[]};each$4(o,function(d){var h=r.getSeriesByIndex(d.seriesIndex),v=d.dataIndexInside,g=h&&h.getDataParams(v);g&&f.seriesData.push(g)}),isString$2(c)?u=c.replace("{value}",u):isFunction$1(c)&&(u=c(f))}return u}function getTransformedPosition(i,n,r){var o=create();return rotate(o,o,r.rotation),translate$1(o,o,r.position),applyTransform([i.dataToCoord(n),(r.labelOffset||0)+(r.labelDirection||1)*(r.labelMargin||0)],o)}function buildCartesianSingleLabelElOption(i,n,r,o,a,u){var c=AxisBuilder$1.innerTextLayout(r.rotation,0,r.labelDirection);r.labelMargin=a.get(["label","margin"]),buildLabelElOption(n,o,a,u,{position:getTransformedPosition(o.axis,i,r),align:c.textAlign,verticalAlign:c.textVerticalAlign})}function makeLineShape(i,n,r){return r=r||0,{x1:i[r],y1:i[1-r],x2:n[r],y2:n[1-r]}}function makeRectShape(i,n,r){return r=r||0,{x:i[r],y:i[1-r],width:n[r],height:n[1-r]}}var CartesianAxisPointer=function(i){__extends(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.makeElOption=function(r,o,a,u,c){var f=a.axis,d=f.grid,h=u.get("type"),v=getCartesian(d,f).getOtherAxis(f).getGlobalExtent(),g=f.toGlobalCoord(f.dataToCoord(o,!0));if(h&&h!=="none"){var p=buildElStyle(u),y=pointerShapeBuilder[h](f,g,v);y.style=p,r.graphicKey=y.type,r.pointer=y}var _=layout(d.model,a);buildCartesianSingleLabelElOption(o,r,_,a,u,c)},n.prototype.getHandleTransform=function(r,o,a){var u=layout(o.axis.grid.model,o,{labelInside:!1});u.labelMargin=a.get(["handle","margin"]);var c=getTransformedPosition(o.axis,r,u);return{x:c[0],y:c[1],rotation:u.rotation+(u.labelDirection<0?Math.PI:0)}},n.prototype.updateHandleTransform=function(r,o,a,u){var c=a.axis,f=c.grid,d=c.getGlobalExtent(!0),h=getCartesian(f,c).getOtherAxis(c).getGlobalExtent(),v=c.dim==="x"?0:1,g=[r.x,r.y];g[v]+=o[v],g[v]=Math.min(d[1],g[v]),g[v]=Math.max(d[0],g[v]);var p=(h[1]+h[0])/2,y=[p,p];y[v]=g[v];var _=[{verticalAlign:"middle"},{align:"center"}];return{x:g[0],y:g[1],rotation:r.rotation,cursorPoint:y,tooltipOption:_[v]}},n}(BaseAxisPointer$1);function getCartesian(i,n){var r={};return r[n.dim+"AxisIndex"]=n.index,i.getCartesian(r)}var pointerShapeBuilder={line:function(i,n,r){var o=makeLineShape([n,r[0]],[n,r[1]],getAxisDimIndex(i));return{type:"Line",subPixelOptimize:!0,shape:o}},shadow:function(i,n,r){var o=Math.max(1,i.getBandWidth()),a=r[1]-r[0];return{type:"Rect",shape:makeRectShape([n-o/2,r[0]],[o,a],getAxisDimIndex(i))}}};function getAxisDimIndex(i){return i.dim==="x"?0:1}const CartesianAxisPointer$1=CartesianAxisPointer;var AxisPointerModel=function(i){__extends(n,i);function n(){var r=i!==null&&i.apply(this,arguments)||this;return r.type=n.type,r}return n.type="axisPointer",n.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},n}(ComponentModel$1);const AxisPointerModel$1=AxisPointerModel;var inner$1=makeInner(),each$1=each$4;function register(i,n,r){if(!env$1.node){var o=n.getZr();inner$1(o).records||(inner$1(o).records={}),initGlobalListeners(o,n);var a=inner$1(o).records[i]||(inner$1(o).records[i]={});a.handler=r}}function initGlobalListeners(i,n){if(inner$1(i).initialized)return;inner$1(i).initialized=!0,r("click",curry$1(doEnter,"click")),r("mousemove",curry$1(doEnter,"mousemove")),r("globalout",onLeave);function r(o,a){i.on(o,function(u){var c=makeDispatchAction$1(n);each$1(inner$1(i).records,function(f){f&&a(f,u,c.dispatchAction)}),dispatchTooltipFinally(c.pendings,n)})}}function dispatchTooltipFinally(i,n){var r=i.showTip.length,o=i.hideTip.length,a;r?a=i.showTip[r-1]:o&&(a=i.hideTip[o-1]),a&&(a.dispatchAction=null,n.dispatchAction(a))}function onLeave(i,n,r){i.handler("leave",null,r)}function doEnter(i,n,r,o){n.handler(i,r,o)}function makeDispatchAction$1(i){var n={showTip:[],hideTip:[]},r=function(o){var a=n[o.type];a?a.push(o):(o.dispatchAction=r,i.dispatchAction(o))};return{dispatchAction:r,pendings:n}}function unregister(i,n){if(!env$1.node){var r=n.getZr(),o=(inner$1(r).records||{})[i];o&&(inner$1(r).records[i]=null)}}var AxisPointerView=function(i){__extends(n,i);function n(){var r=i!==null&&i.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,o,a){var u=o.getComponent("tooltip"),c=r.get("triggerOn")||u&&u.get("triggerOn")||"mousemove|click";register("axisPointer",a,function(f,d,h){c!=="none"&&(f==="leave"||c.indexOf(f)>=0)&&h({type:"updateAxisPointer",currTrigger:f,x:d&&d.offsetX,y:d&&d.offsetY})})},n.prototype.remove=function(r,o){unregister("axisPointer",o)},n.prototype.dispose=function(r,o){unregister("axisPointer",o)},n.type="axisPointer",n}(ComponentView$1);const AxisPointerView$1=AxisPointerView;function findPointFromSeries(i,n){var r=[],o=i.seriesIndex,a;if(o==null||!(a=n.getSeriesByIndex(o)))return{point:[]};var u=a.getData(),c=queryDataIndex(u,i);if(c==null||c<0||isArray$1(c))return{point:[]};var f=u.getItemGraphicEl(c),d=a.coordinateSystem;if(a.getTooltipPosition)r=a.getTooltipPosition(c)||[];else if(d&&d.dataToPoint)if(i.isStacked){var h=d.getBaseAxis(),v=d.getOtherAxis(h),g=v.dim,p=h.dim,y=g==="x"||g==="radius"?1:0,_=u.mapDimension(p),b=[];b[y]=u.get(_,c),b[1-y]=u.get(u.getCalculationInfo("stackResultDimension"),c),r=d.dataToPoint(b)||[]}else r=d.dataToPoint(u.getValues(map$1(d.dimensions,function(w){return u.mapDimension(w)}),c))||[];else if(f){var A=f.getBoundingRect().clone();A.applyTransform(f.transform),r=[A.x+A.width/2,A.y+A.height/2]}return{point:r,el:f}}var inner=makeInner();function axisTrigger(i,n,r){var o=i.currTrigger,a=[i.x,i.y],u=i,c=i.dispatchAction||bind$1(r.dispatchAction,r),f=n.getComponent("axisPointer").coordSysAxesInfo;if(f){illegalPoint(a)&&(a=findPointFromSeries({seriesIndex:u.seriesIndex,dataIndex:u.dataIndex},n).point);var d=illegalPoint(a),h=u.axesInfo,v=f.axesInfo,g=o==="leave"||illegalPoint(a),p={},y={},_={list:[],map:{}},b={showPointer:curry$1(showPointer,y),showTooltip:curry$1(showTooltip,_)};each$4(f.coordSysMap,function(w,S){var T=d||w.containPoint(a);each$4(f.coordSysAxesInfo[S],function(x,O){var L=x.axis,M=findInputAxisInfo(h,x);if(!g&&T&&(!h||M)){var re=M&&M.value;re==null&&!d&&(re=L.pointToData(a)),re!=null&&processOnAxis(x,re,b,!1,p)}})});var A={};return each$4(v,function(w,S){var T=w.linkGroup;T&&!y[S]&&each$4(T.axesInfo,function(x,O){var L=y[O];if(x!==w&&L){var M=L.value;T.mapper&&(M=w.axis.scale.parse(T.mapper(M,makeMapperParam(x),makeMapperParam(w)))),A[w.key]=M}})}),each$4(A,function(w,S){processOnAxis(v[S],w,b,!0,p)}),updateModelActually(y,v,p),dispatchTooltipActually(_,a,i,c),dispatchHighDownActually(v,c,r),p}}function processOnAxis(i,n,r,o,a){var u=i.axis;if(!(u.scale.isBlank()||!u.containData(n))){if(!i.involveSeries){r.showPointer(i,n);return}var c=buildPayloadsBySeries(n,i),f=c.payloadBatch,d=c.snapToValue;f[0]&&a.seriesIndex==null&&extend(a,f[0]),!o&&i.snap&&u.containData(d)&&d!=null&&(n=d),r.showPointer(i,n,f),r.showTooltip(i,c,d)}}function buildPayloadsBySeries(i,n){var r=n.axis,o=r.dim,a=i,u=[],c=Number.MAX_VALUE,f=-1;return each$4(n.seriesModels,function(d,h){var v=d.getData().mapDimensionsAll(o),g,p;if(d.getAxisTooltipData){var y=d.getAxisTooltipData(v,i,r);p=y.dataIndices,g=y.nestestValue}else{if(p=d.getData().indicesOfNearest(v[0],i,r.type==="category"?.5:null),!p.length)return;g=d.getData().get(v[0],p[0])}if(!(g==null||!isFinite(g))){var _=i-g,b=Math.abs(_);b<=c&&((b<c||_>=0&&f<0)&&(c=b,f=_,a=g,u.length=0),each$4(p,function(A){u.push({seriesIndex:d.seriesIndex,dataIndexInside:A,dataIndex:d.getData().getRawIndex(A)})}))}}),{payloadBatch:u,snapToValue:a}}function showPointer(i,n,r,o){i[n.key]={value:r,payloadBatch:o}}function showTooltip(i,n,r,o){var a=r.payloadBatch,u=n.axis,c=u.model,f=n.axisPointerModel;if(!(!n.triggerTooltip||!a.length)){var d=n.coordSys.model,h=makeKey(d),v=i.map[h];v||(v=i.map[h]={coordSysId:d.id,coordSysIndex:d.componentIndex,coordSysType:d.type,coordSysMainType:d.mainType,dataByAxis:[]},i.list.push(v)),v.dataByAxis.push({axisDim:u.dim,axisIndex:c.componentIndex,axisType:c.type,axisId:c.id,value:o,valueLabelOpt:{precision:f.get(["label","precision"]),formatter:f.get(["label","formatter"])},seriesDataIndices:a.slice()})}}function updateModelActually(i,n,r){var o=r.axesInfo=[];each$4(n,function(a,u){var c=a.axisPointerModel.option,f=i[u];f?(!a.useHandle&&(c.status="show"),c.value=f.value,c.seriesDataIndices=(f.payloadBatch||[]).slice()):!a.useHandle&&(c.status="hide"),c.status==="show"&&o.push({axisDim:a.axis.dim,axisIndex:a.axis.model.componentIndex,value:c.value})})}function dispatchTooltipActually(i,n,r,o){if(illegalPoint(n)||!i.list.length){o({type:"hideTip"});return}var a=((i.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};o({type:"showTip",escapeConnect:!0,x:n[0],y:n[1],tooltipOption:r.tooltipOption,position:r.position,dataIndexInside:a.dataIndexInside,dataIndex:a.dataIndex,seriesIndex:a.seriesIndex,dataByCoordSys:i.list})}function dispatchHighDownActually(i,n,r){var o=r.getZr(),a="axisPointerLastHighlights",u=inner(o)[a]||{},c=inner(o)[a]={};each$4(i,function(h,v){var g=h.axisPointerModel.option;g.status==="show"&&each$4(g.seriesDataIndices,function(p){var y=p.seriesIndex+" | "+p.dataIndex;c[y]=p})});var f=[],d=[];each$4(u,function(h,v){!c[v]&&d.push(h)}),each$4(c,function(h,v){!u[v]&&f.push(h)}),d.length&&r.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:d}),f.length&&r.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:f})}function findInputAxisInfo(i,n){for(var r=0;r<(i||[]).length;r++){var o=i[r];if(n.axis.dim===o.axisDim&&n.axis.model.componentIndex===o.axisIndex)return o}}function makeMapperParam(i){var n=i.axis.model,r={},o=r.axisDim=i.axis.dim;return r.axisIndex=r[o+"AxisIndex"]=n.componentIndex,r.axisName=r[o+"AxisName"]=n.name,r.axisId=r[o+"AxisId"]=n.id,r}function illegalPoint(i){return!i||i[0]==null||isNaN(i[0])||i[1]==null||isNaN(i[1])}function install$5(i){AxisView$1.registerAxisPointerClass("CartesianAxisPointer",CartesianAxisPointer$1),i.registerComponentModel(AxisPointerModel$1),i.registerComponentView(AxisPointerView$1),i.registerPreprocessor(function(n){if(n){(!n.axisPointer||n.axisPointer.length===0)&&(n.axisPointer={});var r=n.axisPointer.link;r&&!isArray$1(r)&&(n.axisPointer.link=[r])}}),i.registerProcessor(i.PRIORITY.PROCESSOR.STATISTIC,function(n,r){n.getComponent("axisPointer").coordSysAxesInfo=collect(n,r)}),i.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},axisTrigger)}function makeBackground(i,n){var r=normalizeCssArray(n.get("padding")),o=n.getItemStyle(["color","opacity"]);return o.fill=n.get("backgroundColor"),i=new Rect$1({shape:{x:i.x-r[3],y:i.y-r[0],width:i.width+r[1]+r[3],height:i.height+r[0]+r[2],r:n.get("borderRadius")},style:o,silent:!0,z2:-1}),i}var TooltipModel=function(i){__extends(n,i);function n(){var r=i!==null&&i.apply(this,arguments)||this;return r.type=n.type,r}return n.type="tooltip",n.dependencies=["axisPointer"],n.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},n}(ComponentModel$1);const TooltipModel$1=TooltipModel;function shouldTooltipConfine(i){var n=i.get("confine");return n!=null?!!n:i.get("renderMode")==="richText"}function testStyle(i){if(env$1.domSupported){for(var n=document.documentElement.style,r=0,o=i.length;r<o;r++)if(i[r]in n)return i[r]}}var TRANSFORM_VENDOR=testStyle(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),TRANSITION_VENDOR=testStyle(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function toCSSVendorPrefix(i,n){if(!i)return n;n=toCamelCase(n,!0);var r=i.indexOf(n);return i=r===-1?n:"-"+i.slice(0,r)+"-"+n,i.toLowerCase()}function getComputedStyle$1(i,n){var r=i.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(i);return r?n?r[n]:r:null}var CSS_TRANSITION_VENDOR=toCSSVendorPrefix(TRANSITION_VENDOR,"transition"),CSS_TRANSFORM_VENDOR=toCSSVendorPrefix(TRANSFORM_VENDOR,"transform"),gCssText="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(env$1.transform3dSupported?"will-change:transform;":"");function mirrorPos(i){return i=i==="left"?"right":i==="right"?"left":i==="top"?"bottom":"top",i}function assembleArrow(i,n,r){if(!isString$2(r)||r==="inside")return"";var o=i.get("backgroundColor"),a=i.get("borderWidth");n=convertToColorString(n);var u=mirrorPos(r),c=Math.max(Math.round(a)*1.5,6),f="",d=CSS_TRANSFORM_VENDOR+":",h;indexOf(["left","right"],u)>-1?(f+="top:50%",d+="translateY(-50%) rotate("+(h=u==="left"?-225:-45)+"deg)"):(f+="left:50%",d+="translateX(-50%) rotate("+(h=u==="top"?225:45)+"deg)");var v=h*Math.PI/180,g=c+a,p=g*Math.abs(Math.cos(v))+g*Math.abs(Math.sin(v)),y=Math.round(((p-Math.SQRT2*a)/2+Math.SQRT2*a-(p-g)/2)*100)/100;f+=";"+u+":-"+y+"px";var _=n+" solid "+a+"px;",b=["position:absolute;width:"+c+"px;height:"+c+"px;z-index:-1;",f+";"+d+";","border-bottom:"+_,"border-right:"+_,"background-color:"+o+";"];return'<div style="'+b.join("")+'"></div>'}function assembleTransition(i,n){var r="cubic-bezier(0.23,1,0.32,1)",o=" "+i/2+"s "+r,a="opacity"+o+",visibility"+o;return n||(o=" "+i+"s "+r,a+=env$1.transformSupported?","+CSS_TRANSFORM_VENDOR+o:",left"+o+",top"+o),CSS_TRANSITION_VENDOR+":"+a}function assembleTransform(i,n,r){var o=i.toFixed(0)+"px",a=n.toFixed(0)+"px";if(!env$1.transformSupported)return r?"top:"+a+";left:"+o+";":[["top",a],["left",o]];var u=env$1.transform3dSupported,c="translate"+(u?"3d":"")+"("+o+","+a+(u?",0":"")+")";return r?"top:0;left:0;"+CSS_TRANSFORM_VENDOR+":"+c+";":[["top",0],["left",0],[TRANSFORM_VENDOR,c]]}function assembleFont(i){var n=[],r=i.get("fontSize"),o=i.getTextColor();o&&n.push("color:"+o),n.push("font:"+i.getFont()),r&&n.push("line-height:"+Math.round(r*3/2)+"px");var a=i.get("textShadowColor"),u=i.get("textShadowBlur")||0,c=i.get("textShadowOffsetX")||0,f=i.get("textShadowOffsetY")||0;return a&&u&&n.push("text-shadow:"+c+"px "+f+"px "+u+"px "+a),each$4(["decoration","align"],function(d){var h=i.get(d);h&&n.push("text-"+d+":"+h)}),n.join(";")}function assembleCssText(i,n,r){var o=[],a=i.get("transitionDuration"),u=i.get("backgroundColor"),c=i.get("shadowBlur"),f=i.get("shadowColor"),d=i.get("shadowOffsetX"),h=i.get("shadowOffsetY"),v=i.getModel("textStyle"),g=getPaddingFromTooltipModel(i,"html"),p=d+"px "+h+"px "+c+"px "+f;return o.push("box-shadow:"+p),n&&a&&o.push(assembleTransition(a,r)),u&&o.push("background-color:"+u),each$4(["width","color","radius"],function(y){var _="border-"+y,b=toCamelCase(_),A=i.get(b);A!=null&&o.push(_+":"+A+(y==="color"?"":"px"))}),o.push(assembleFont(v)),g!=null&&o.push("padding:"+normalizeCssArray(g).join("px ")+"px"),o.join(";")+";"}function makeStyleCoord$1(i,n,r,o,a){var u=n&&n.painter;if(r){var c=u&&u.getViewportRoot();c&&transformLocalCoord(i,c,document.body,o,a)}else{i[0]=o,i[1]=a;var f=u&&u.getViewportRootOffset();f&&(i[0]+=f.offsetLeft,i[1]+=f.offsetTop)}i[2]=i[0]/n.getWidth(),i[3]=i[1]/n.getHeight()}var TooltipHTMLContent=function(){function i(n,r,o){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._firstShow=!0,this._longHide=!0,env$1.wxa)return null;var a=document.createElement("div");a.domBelongToZr=!0,this.el=a;var u=this._zr=r.getZr(),c=this._appendToBody=o&&o.appendToBody;makeStyleCoord$1(this._styleCoord,u,c,r.getWidth()/2,r.getHeight()/2),c?document.body.appendChild(a):n.appendChild(a),this._container=n;var f=this;a.onmouseenter=function(){f._enterable&&(clearTimeout(f._hideTimeout),f._show=!0),f._inContent=!0},a.onmousemove=function(d){if(d=d||window.event,!f._enterable){var h=u.handler,v=u.painter.getViewportRoot();normalizeEvent(v,d,!0),h.dispatch("mousemove",d)}},a.onmouseleave=function(){f._inContent=!1,f._enterable&&f._show&&f.hideLater(f._hideDelay)}}return i.prototype.update=function(n){var r=this._container,o=getComputedStyle$1(r,"position"),a=r.style;a.position!=="absolute"&&o!=="absolute"&&(a.position="relative");var u=n.get("alwaysShowContent");u&&this._moveIfResized(),this.el.className=n.get("className")||""},i.prototype.show=function(n,r){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var o=this.el,a=o.style,u=this._styleCoord;o.innerHTML?a.cssText=gCssText+assembleCssText(n,!this._firstShow,this._longHide)+assembleTransform(u[0],u[1],!0)+("border-color:"+convertToColorString(r)+";")+(n.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):a.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},i.prototype.setContent=function(n,r,o,a,u){var c=this.el;if(n==null){c.innerHTML="";return}var f="";if(isString$2(u)&&o.get("trigger")==="item"&&!shouldTooltipConfine(o)&&(f=assembleArrow(o,a,u)),isString$2(n))c.innerHTML=n+f;else if(n){c.innerHTML="",isArray$1(n)||(n=[n]);for(var d=0;d<n.length;d++)isDom(n[d])&&n[d].parentNode!==c&&c.appendChild(n[d]);if(f&&c.childNodes.length){var h=document.createElement("div");h.innerHTML=f,c.appendChild(h)}}},i.prototype.setEnterable=function(n){this._enterable=n},i.prototype.getSize=function(){var n=this.el;return[n.offsetWidth,n.offsetHeight]},i.prototype.moveTo=function(n,r){var o=this._styleCoord;if(makeStyleCoord$1(o,this._zr,this._appendToBody,n,r),o[0]!=null&&o[1]!=null){var a=this.el.style,u=assembleTransform(o[0],o[1]);each$4(u,function(c){a[c[0]]=c[1]})}},i.prototype._moveIfResized=function(){var n=this._styleCoord[2],r=this._styleCoord[3];this.moveTo(n*this._zr.getWidth(),r*this._zr.getHeight())},i.prototype.hide=function(){var n=this,r=this.el.style;r.visibility="hidden",r.opacity="0",env$1.transform3dSupported&&(r.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return n._longHide=!0},500)},i.prototype.hideLater=function(n){this._show&&!(this._inContent&&this._enterable)&&(n?(this._hideDelay=n,this._show=!1,this._hideTimeout=setTimeout(bind$1(this.hide,this),n)):this.hide())},i.prototype.isShow=function(){return this._show},i.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},i}();const TooltipHTMLContent$1=TooltipHTMLContent;var TooltipRichContent=function(){function i(n){this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._zr=n.getZr(),makeStyleCoord(this._styleCoord,this._zr,n.getWidth()/2,n.getHeight()/2)}return i.prototype.update=function(n){var r=n.get("alwaysShowContent");r&&this._moveIfResized()},i.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},i.prototype.setContent=function(n,r,o,a,u){var c=this;isObject$3(n)&&throwError$1(process.env.NODE_ENV!=="production"?"Passing DOM nodes as content is not supported in richText tooltip!":""),this.el&&this._zr.remove(this.el);var f=o.getModel("textStyle");this.el=new ZRText$1({style:{rich:r.richTextStyles,text:n,lineHeight:22,borderWidth:1,borderColor:a,textShadowColor:f.get("textShadowColor"),fill:o.get(["textStyle","color"]),padding:getPaddingFromTooltipModel(o,"richText"),verticalAlign:"top",align:"left"},z:o.get("z")}),each$4(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(h){c.el.style[h]=o.get(h)}),each$4(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(h){c.el.style[h]=f.get(h)||0}),this._zr.add(this.el);var d=this;this.el.on("mouseover",function(){d._enterable&&(clearTimeout(d._hideTimeout),d._show=!0),d._inContent=!0}),this.el.on("mouseout",function(){d._enterable&&d._show&&d.hideLater(d._hideDelay),d._inContent=!1})},i.prototype.setEnterable=function(n){this._enterable=n},i.prototype.getSize=function(){var n=this.el,r=this.el.getBoundingRect(),o=calcShadowOuterSize(n.style);return[r.width+o.left+o.right,r.height+o.top+o.bottom]},i.prototype.moveTo=function(n,r){var o=this.el;if(o){var a=this._styleCoord;makeStyleCoord(a,this._zr,n,r),n=a[0],r=a[1];var u=o.style,c=mathMaxWith0(u.borderWidth||0),f=calcShadowOuterSize(u);o.x=n+c+f.left,o.y=r+c+f.top,o.markRedraw()}},i.prototype._moveIfResized=function(){var n=this._styleCoord[2],r=this._styleCoord[3];this.moveTo(n*this._zr.getWidth(),r*this._zr.getHeight())},i.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},i.prototype.hideLater=function(n){this._show&&!(this._inContent&&this._enterable)&&(n?(this._hideDelay=n,this._show=!1,this._hideTimeout=setTimeout(bind$1(this.hide,this),n)):this.hide())},i.prototype.isShow=function(){return this._show},i.prototype.dispose=function(){this._zr.remove(this.el)},i}();function mathMaxWith0(i){return Math.max(0,i)}function calcShadowOuterSize(i){var n=mathMaxWith0(i.shadowBlur||0),r=mathMaxWith0(i.shadowOffsetX||0),o=mathMaxWith0(i.shadowOffsetY||0);return{left:mathMaxWith0(n-r),right:mathMaxWith0(n+r),top:mathMaxWith0(n-o),bottom:mathMaxWith0(n+o)}}function makeStyleCoord(i,n,r,o){i[0]=r,i[1]=o,i[2]=i[0]/n.getWidth(),i[3]=i[1]/n.getHeight()}const TooltipRichContent$1=TooltipRichContent;var proxyRect=new Rect$1({shape:{x:-1,y:-1,width:2,height:2}}),TooltipView=function(i){__extends(n,i);function n(){var r=i!==null&&i.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(r,o){if(!(env$1.node||!o.getDom())){var a=r.getComponent("tooltip"),u=this._renderMode=getTooltipRenderMode(a.get("renderMode"));this._tooltipContent=u==="richText"?new TooltipRichContent$1(o):new TooltipHTMLContent$1(o.getDom(),o,{appendToBody:a.get("appendToBody",!0)})}},n.prototype.render=function(r,o,a){if(!(env$1.node||!a.getDom())){this.group.removeAll(),this._tooltipModel=r,this._ecModel=o,this._api=a,this._alwaysShowContent=r.get("alwaysShowContent");var u=this._tooltipContent;u.update(r),u.setEnterable(r.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&r.get("transitionDuration")?createOrUpdate(this,"_updatePosition",50,"fixRate"):clear(this,"_updatePosition")}},n.prototype._initGlobalListener=function(){var r=this._tooltipModel,o=r.get("triggerOn");register("itemTooltip",this._api,bind$1(function(a,u,c){o!=="none"&&(o.indexOf(a)>=0?this._tryShow(u,c):a==="leave"&&this._hide(c))},this))},n.prototype._keepShow=function(){var r=this._tooltipModel,o=this._ecModel,a=this._api,u=r.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&u!=="none"&&u!=="click"){var c=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!a.isDisposed()&&c.manuallyShowTip(r,o,a,{x:c._lastX,y:c._lastY,dataByCoordSys:c._lastDataByCoordSys})})}},n.prototype.manuallyShowTip=function(r,o,a,u){if(!(u.from===this.uid||env$1.node||!a.getDom())){var c=makeDispatchAction(u,a);this._ticket="";var f=u.dataByCoordSys,d=findComponentReference(u,o,a);if(d){var h=d.el.getBoundingRect().clone();h.applyTransform(d.el.transform),this._tryShow({offsetX:h.x+h.width/2,offsetY:h.y+h.height/2,target:d.el,position:u.position,positionDefault:"bottom"},c)}else if(u.tooltip&&u.x!=null&&u.y!=null){var v=proxyRect;v.x=u.x,v.y=u.y,v.update(),getECData(v).tooltipConfig={name:null,option:u.tooltip},this._tryShow({offsetX:u.x,offsetY:u.y,target:v},c)}else if(f)this._tryShow({offsetX:u.x,offsetY:u.y,position:u.position,dataByCoordSys:f,tooltipOption:u.tooltipOption},c);else if(u.seriesIndex!=null){if(this._manuallyAxisShowTip(r,o,a,u))return;var g=findPointFromSeries(u,o),p=g.point[0],y=g.point[1];p!=null&&y!=null&&this._tryShow({offsetX:p,offsetY:y,target:g.el,position:u.position,positionDefault:"bottom"},c)}else u.x!=null&&u.y!=null&&(a.dispatchAction({type:"updateAxisPointer",x:u.x,y:u.y}),this._tryShow({offsetX:u.x,offsetY:u.y,position:u.position,target:a.getZr().findHover(u.x,u.y).target},c))}},n.prototype.manuallyHideTip=function(r,o,a,u){var c=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&c.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,u.from!==this.uid&&this._hide(makeDispatchAction(u,a))},n.prototype._manuallyAxisShowTip=function(r,o,a,u){var c=u.seriesIndex,f=u.dataIndex,d=o.getComponent("axisPointer").coordSysAxesInfo;if(!(c==null||f==null||d==null)){var h=o.getSeriesByIndex(c);if(h){var v=h.getData(),g=buildTooltipModel([v.getItemModel(f),h,(h.coordinateSystem||{}).model],this._tooltipModel);if(g.get("trigger")==="axis")return a.dispatchAction({type:"updateAxisPointer",seriesIndex:c,dataIndex:f,position:u.position}),!0}}},n.prototype._tryShow=function(r,o){var a=r.target,u=this._tooltipModel;if(u){this._lastX=r.offsetX,this._lastY=r.offsetY;var c=r.dataByCoordSys;if(c&&c.length)this._showAxisTooltip(c,r);else if(a){this._lastDataByCoordSys=null;var f,d;findEventDispatcher(a,function(h){if(getECData(h).dataIndex!=null)return f=h,!0;if(getECData(h).tooltipConfig!=null)return d=h,!0},!0),f?this._showSeriesItemTooltip(r,f,o):d?this._showComponentItemTooltip(r,d,o):this._hide(o)}else this._lastDataByCoordSys=null,this._hide(o)}},n.prototype._showOrMove=function(r,o){var a=r.get("showDelay");o=bind$1(o,this),clearTimeout(this._showTimout),a>0?this._showTimout=setTimeout(o,a):o()},n.prototype._showAxisTooltip=function(r,o){var a=this._ecModel,u=this._tooltipModel,c=[o.offsetX,o.offsetY],f=buildTooltipModel([o.tooltipOption],u),d=this._renderMode,h=[],v=createTooltipMarkup("section",{blocks:[],noHeader:!0}),g=[],p=new TooltipMarkupStyleCreator;each$4(r,function(S){each$4(S.dataByAxis,function(T){var x=a.getComponent(T.axisDim+"Axis",T.axisIndex),O=T.value;if(!(!x||O==null)){var L=getValueLabel(O,x.axis,a,T.seriesDataIndices,T.valueLabelOpt),M=createTooltipMarkup("section",{header:L,noHeader:!trim(L),sortBlocks:!0,blocks:[]});v.blocks.push(M),each$4(T.seriesDataIndices,function(re){var F=a.getSeriesByIndex(re.seriesIndex),Y=re.dataIndexInside,V=F.getDataParams(Y);if(!(V.dataIndex<0)){V.axisDim=T.axisDim,V.axisIndex=T.axisIndex,V.axisType=T.axisType,V.axisId=T.axisId,V.axisValue=getAxisRawValue(x.axis,{value:O}),V.axisValueLabel=L,V.marker=p.makeTooltipMarker("item",convertToColorString(V.color),d);var z=normalizeTooltipFormatResult(F.formatTooltip(Y,!0,null)),$=z.frag;if($){var pe=buildTooltipModel([F],u).get("valueFormatter");M.blocks.push(pe?extend({valueFormatter:pe},$):$)}z.text&&g.push(z.text),h.push(V)}})}})}),v.blocks.reverse(),g.reverse();var y=o.position,_=f.get("order"),b=buildTooltipMarkup(v,p,d,_,a.get("useUTC"),f.get("textStyle"));b&&g.unshift(b);var A=d==="richText"?`

`:"<br/>",w=g.join(A);this._showOrMove(f,function(){this._updateContentNotChangedOnAxis(r,h)?this._updatePosition(f,y,c[0],c[1],this._tooltipContent,h):this._showTooltipContent(f,w,h,Math.random()+"",c[0],c[1],y,null,p)})},n.prototype._showSeriesItemTooltip=function(r,o,a){var u=this._ecModel,c=getECData(o),f=c.seriesIndex,d=u.getSeriesByIndex(f),h=c.dataModel||d,v=c.dataIndex,g=c.dataType,p=h.getData(g),y=this._renderMode,_=r.positionDefault,b=buildTooltipModel([p.getItemModel(v),h,d&&(d.coordinateSystem||{}).model],this._tooltipModel,_?{position:_}:null),A=b.get("trigger");if(!(A!=null&&A!=="item")){var w=h.getDataParams(v,g),S=new TooltipMarkupStyleCreator;w.marker=S.makeTooltipMarker("item",convertToColorString(w.color),y);var T=normalizeTooltipFormatResult(h.formatTooltip(v,!1,g)),x=b.get("order"),O=b.get("valueFormatter"),L=T.frag,M=L?buildTooltipMarkup(O?extend({valueFormatter:O},L):L,S,y,x,u.get("useUTC"),b.get("textStyle")):T.text,re="item_"+h.name+"_"+v;this._showOrMove(b,function(){this._showTooltipContent(b,M,w,re,r.offsetX,r.offsetY,r.position,r.target,S)}),a({type:"showTip",dataIndexInside:v,dataIndex:p.getRawIndex(v),seriesIndex:f,from:this.uid})}},n.prototype._showComponentItemTooltip=function(r,o,a){var u=getECData(o),c=u.tooltipConfig,f=c.option||{};if(isString$2(f)){var d=f;f={content:d,formatter:d}}var h=[f],v=this._ecModel.getComponent(u.componentMainType,u.componentIndex);v&&h.push(v),h.push({formatter:f.content});var g=r.positionDefault,p=buildTooltipModel(h,this._tooltipModel,g?{position:g}:null),y=p.get("content"),_=Math.random()+"",b=new TooltipMarkupStyleCreator;this._showOrMove(p,function(){var A=clone$2(p.get("formatterParams")||{});this._showTooltipContent(p,y,A,_,r.offsetX,r.offsetY,r.position,o,b)}),a({type:"showTip",from:this.uid})},n.prototype._showTooltipContent=function(r,o,a,u,c,f,d,h,v){if(this._ticket="",!(!r.get("showContent")||!r.get("show"))){var g=this._tooltipContent;g.setEnterable(r.get("enterable"));var p=r.get("formatter");d=d||r.get("position");var y=o,_=this._getNearestPoint([c,f],a,r.get("trigger"),r.get("borderColor")),b=_.color;if(p)if(isString$2(p)){var A=r.ecModel.get("useUTC"),w=isArray$1(a)?a[0]:a,S=w&&w.axisType&&w.axisType.indexOf("time")>=0;y=p,S&&(y=format$1(w.axisValue,y,A)),y=formatTpl(y,a,!0)}else if(isFunction$1(p)){var T=bind$1(function(x,O){x===this._ticket&&(g.setContent(O,v,r,b,d),this._updatePosition(r,d,c,f,g,a,h))},this);this._ticket=u,y=p(a,u,T)}else y=p;g.setContent(y,v,r,b,d),g.show(r,b),this._updatePosition(r,d,c,f,g,a,h)}},n.prototype._getNearestPoint=function(r,o,a,u){if(a==="axis"||isArray$1(o))return{color:u||(this._renderMode==="html"?"#fff":"none")};if(!isArray$1(o))return{color:u||o.color||o.borderColor}},n.prototype._updatePosition=function(r,o,a,u,c,f,d){var h=this._api.getWidth(),v=this._api.getHeight();o=o||r.get("position");var g=c.getSize(),p=r.get("align"),y=r.get("verticalAlign"),_=d&&d.getBoundingRect().clone();if(d&&_.applyTransform(d.transform),isFunction$1(o)&&(o=o([a,u],f,c.el,_,{viewSize:[h,v],contentSize:g.slice()})),isArray$1(o))a=parsePercent(o[0],h),u=parsePercent(o[1],v);else if(isObject$3(o)){var b=o;b.width=g[0],b.height=g[1];var A=getLayoutRect(b,{width:h,height:v});a=A.x,u=A.y,p=null,y=null}else if(isString$2(o)&&d){var w=calcTooltipPosition(o,_,g,r.get("borderWidth"));a=w[0],u=w[1]}else{var w=refixTooltipPosition(a,u,c,h,v,p?null:20,y?null:20);a=w[0],u=w[1]}if(p&&(a-=isCenterAlign(p)?g[0]/2:p==="right"?g[0]:0),y&&(u-=isCenterAlign(y)?g[1]/2:y==="bottom"?g[1]:0),shouldTooltipConfine(r)){var w=confineTooltipPosition(a,u,c,h,v);a=w[0],u=w[1]}c.moveTo(a,u)},n.prototype._updateContentNotChangedOnAxis=function(r,o){var a=this._lastDataByCoordSys,u=this._cbParamsList,c=!!a&&a.length===r.length;return c&&each$4(a,function(f,d){var h=f.dataByAxis||[],v=r[d]||{},g=v.dataByAxis||[];c=c&&h.length===g.length,c&&each$4(h,function(p,y){var _=g[y]||{},b=p.seriesDataIndices||[],A=_.seriesDataIndices||[];c=c&&p.value===_.value&&p.axisType===_.axisType&&p.axisId===_.axisId&&b.length===A.length,c&&each$4(b,function(w,S){var T=A[S];c=c&&w.seriesIndex===T.seriesIndex&&w.dataIndex===T.dataIndex}),u&&each$4(p.seriesDataIndices,function(w){var S=w.seriesIndex,T=o[S],x=u[S];T&&x&&x.data!==T.data&&(c=!1)})})}),this._lastDataByCoordSys=r,this._cbParamsList=o,!!c},n.prototype._hide=function(r){this._lastDataByCoordSys=null,r({type:"hideTip",from:this.uid})},n.prototype.dispose=function(r,o){env$1.node||!o.getDom()||(clear(this,"_updatePosition"),this._tooltipContent.dispose(),unregister("itemTooltip",o))},n.type="tooltip",n}(ComponentView$1);function buildTooltipModel(i,n,r){var o=n.ecModel,a;r?(a=new Model$1(r,o,o),a=new Model$1(n.option,a,o)):a=n;for(var u=i.length-1;u>=0;u--){var c=i[u];c&&(c instanceof Model$1&&(c=c.get("tooltip",!0)),isString$2(c)&&(c={formatter:c}),c&&(a=new Model$1(c,a,o)))}return a}function makeDispatchAction(i,n){return i.dispatchAction||bind$1(n.dispatchAction,n)}function refixTooltipPosition(i,n,r,o,a,u,c){var f=r.getSize(),d=f[0],h=f[1];return u!=null&&(i+d+u+2>o?i-=d+u:i+=u),c!=null&&(n+h+c>a?n-=h+c:n+=c),[i,n]}function confineTooltipPosition(i,n,r,o,a){var u=r.getSize(),c=u[0],f=u[1];return i=Math.min(i+c,o)-c,n=Math.min(n+f,a)-f,i=Math.max(i,0),n=Math.max(n,0),[i,n]}function calcTooltipPosition(i,n,r,o){var a=r[0],u=r[1],c=Math.ceil(Math.SQRT2*o)+8,f=0,d=0,h=n.width,v=n.height;switch(i){case"inside":f=n.x+h/2-a/2,d=n.y+v/2-u/2;break;case"top":f=n.x+h/2-a/2,d=n.y-u-c;break;case"bottom":f=n.x+h/2-a/2,d=n.y+v+c;break;case"left":f=n.x-a-c,d=n.y+v/2-u/2;break;case"right":f=n.x+h+c,d=n.y+v/2-u/2}return[f,d]}function isCenterAlign(i){return i==="center"||i==="middle"}function findComponentReference(i,n,r){var o=preParseFinder(i).queryOptionMap,a=o.keys()[0];if(!(!a||a==="series")){var u=queryReferringComponents(n,a,o.get(a),{useDefault:!1,enableAll:!1,enableNone:!1}),c=u.models[0];if(c){var f=r.getViewOfComponentModel(c),d;if(f.group.traverse(function(h){var v=getECData(h).tooltipConfig;if(v&&v.name===i.name)return d=h,!0}),d)return{componentMainType:a,componentIndex:c.componentIndex,el:d}}}}const TooltipView$1=TooltipView;function install$4(i){use(install$5),i.registerComponentModel(TooltipModel$1),i.registerComponentView(TooltipView$1),i.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},noop$1),i.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},noop$1)}var TitleModel=function(i){__extends(n,i);function n(){var r=i!==null&&i.apply(this,arguments)||this;return r.type=n.type,r.layoutMode={type:"box",ignoreSize:!0},r}return n.type="title",n.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},n}(ComponentModel$1),TitleView=function(i){__extends(n,i);function n(){var r=i!==null&&i.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,o,a){if(this.group.removeAll(),!!r.get("show")){var u=this.group,c=r.getModel("textStyle"),f=r.getModel("subtextStyle"),d=r.get("textAlign"),h=retrieve2(r.get("textBaseline"),r.get("textVerticalAlign")),v=new ZRText$1({style:createTextStyle(c,{text:r.get("text"),fill:c.getTextColor()},{disableBox:!0}),z2:10}),g=v.getBoundingRect(),p=r.get("subtext"),y=new ZRText$1({style:createTextStyle(f,{text:p,fill:f.getTextColor(),y:g.height+r.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),_=r.get("link"),b=r.get("sublink"),A=r.get("triggerEvent",!0);v.silent=!_&&!A,y.silent=!b&&!A,_&&v.on("click",function(){windowOpen(_,"_"+r.get("target"))}),b&&y.on("click",function(){windowOpen(b,"_"+r.get("subtarget"))}),getECData(v).eventData=getECData(y).eventData=A?{componentType:"title",componentIndex:r.componentIndex}:null,u.add(v),p&&u.add(y);var w=u.getBoundingRect(),S=r.getBoxLayoutParams();S.width=w.width,S.height=w.height;var T=getLayoutRect(S,{width:a.getWidth(),height:a.getHeight()},r.get("padding"));d||(d=r.get("left")||r.get("right"),d==="middle"&&(d="center"),d==="right"?T.x+=T.width:d==="center"&&(T.x+=T.width/2)),h||(h=r.get("top")||r.get("bottom"),h==="center"&&(h="middle"),h==="bottom"?T.y+=T.height:h==="middle"&&(T.y+=T.height/2),h=h||"top"),u.x=T.x,u.y=T.y,u.markRedraw();var x={align:d,verticalAlign:h};v.setStyle(x),y.setStyle(x),w=u.getBoundingRect();var O=T.margin,L=r.getItemStyle(["color","opacity"]);L.fill=r.get("backgroundColor");var M=new Rect$1({shape:{x:w.x-O[3],y:w.y-O[0],width:w.width+O[1]+O[3],height:w.height+O[0]+O[2],r:r.get("borderRadius")},style:L,subPixelOptimize:!0,silent:!0});u.add(M)}},n.type="title",n}(ComponentView$1);function install$3(i){i.registerComponentModel(TitleModel),i.registerComponentView(TitleView)}var getDefaultSelectorOptions=function(i,n){if(n==="all")return{type:"all",title:i.getLocaleModel().get(["legend","selector","all"])};if(n==="inverse")return{type:"inverse",title:i.getLocaleModel().get(["legend","selector","inverse"])}},LegendModel=function(i){__extends(n,i);function n(){var r=i!==null&&i.apply(this,arguments)||this;return r.type=n.type,r.layoutMode={type:"box",ignoreSize:!0},r}return n.prototype.init=function(r,o,a){this.mergeDefaultAndTheme(r,a),r.selected=r.selected||{},this._updateSelector(r)},n.prototype.mergeOption=function(r,o){i.prototype.mergeOption.call(this,r,o),this._updateSelector(r)},n.prototype._updateSelector=function(r){var o=r.selector,a=this.ecModel;o===!0&&(o=r.selector=["all","inverse"]),isArray$1(o)&&each$4(o,function(u,c){isString$2(u)&&(u={type:u}),o[c]=merge(u,getDefaultSelectorOptions(a,u.type))})},n.prototype.optionUpdated=function(){this._updateData(this.ecModel);var r=this._data;if(r[0]&&this.get("selectedMode")==="single"){for(var o=!1,a=0;a<r.length;a++){var u=r[a].get("name");if(this.isSelected(u)){this.select(u),o=!0;break}}!o&&this.select(r[0].get("name"))}},n.prototype._updateData=function(r){var o=[],a=[];r.eachRawSeries(function(d){var h=d.name;a.push(h);var v;if(d.legendVisualProvider){var g=d.legendVisualProvider,p=g.getAllNames();r.isSeriesFiltered(d)||(a=a.concat(p)),p.length?o=o.concat(p):v=!0}else v=!0;v&&isNameSpecified(d)&&o.push(d.name)}),this._availableNames=a;var u=this.get("data")||o,c=createHashMap(),f=map$1(u,function(d){return(isString$2(d)||isNumber$1(d))&&(d={name:d}),c.get(d.name)?null:(c.set(d.name,!0),new Model$1(d,this,this.ecModel))},this);this._data=filter(f,function(d){return!!d})},n.prototype.getData=function(){return this._data},n.prototype.select=function(r){var o=this.option.selected,a=this.get("selectedMode");if(a==="single"){var u=this._data;each$4(u,function(c){o[c.get("name")]=!1})}o[r]=!0},n.prototype.unSelect=function(r){this.get("selectedMode")!=="single"&&(this.option.selected[r]=!1)},n.prototype.toggleSelected=function(r){var o=this.option.selected;o.hasOwnProperty(r)||(o[r]=!0),this[o[r]?"unSelect":"select"](r)},n.prototype.allSelect=function(){var r=this._data,o=this.option.selected;each$4(r,function(a){o[a.get("name",!0)]=!0})},n.prototype.inverseSelect=function(){var r=this._data,o=this.option.selected;each$4(r,function(a){var u=a.get("name",!0);o.hasOwnProperty(u)||(o[u]=!0),o[u]=!o[u]})},n.prototype.isSelected=function(r){var o=this.option.selected;return!(o.hasOwnProperty(r)&&!o[r])&&indexOf(this._availableNames,r)>=0},n.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},n.type="legend.plain",n.dependencies=["series"],n.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},n}(ComponentModel$1);const LegendModel$1=LegendModel;var curry=curry$1,each=each$4,Group$1=Group$3,LegendView=function(i){__extends(n,i);function n(){var r=i!==null&&i.apply(this,arguments)||this;return r.type=n.type,r.newlineDisabled=!1,r}return n.prototype.init=function(){this.group.add(this._contentGroup=new Group$1),this.group.add(this._selectorGroup=new Group$1),this._isFirstRender=!0},n.prototype.getContentGroup=function(){return this._contentGroup},n.prototype.getSelectorGroup=function(){return this._selectorGroup},n.prototype.render=function(r,o,a){var u=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!r.get("show",!0)){var c=r.get("align"),f=r.get("orient");(!c||c==="auto")&&(c=r.get("left")==="right"&&f==="vertical"?"right":"left");var d=r.get("selector",!0),h=r.get("selectorPosition",!0);d&&(!h||h==="auto")&&(h=f==="horizontal"?"end":"start"),this.renderInner(c,r,o,a,d,f,h);var v=r.getBoxLayoutParams(),g={width:a.getWidth(),height:a.getHeight()},p=r.get("padding"),y=getLayoutRect(v,g,p),_=this.layoutInner(r,c,y,u,d,h),b=getLayoutRect(defaults({width:_.width,height:_.height},v),g,p);this.group.x=b.x-_.x,this.group.y=b.y-_.y,this.group.markRedraw(),this.group.add(this._backgroundEl=makeBackground(_,r))}},n.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},n.prototype.renderInner=function(r,o,a,u,c,f,d){var h=this.getContentGroup(),v=createHashMap(),g=o.get("selectedMode"),p=[];a.eachRawSeries(function(y){!y.get("legendHoverLink")&&p.push(y.id)}),each(o.getData(),function(y,_){var b=y.get("name");if(!this.newlineDisabled&&(b===""||b===`
`)){var A=new Group$1;A.newline=!0,h.add(A);return}var w=a.getSeriesByName(b)[0];if(!v.get(b)){if(w){var S=w.getData(),T=S.getVisual("legendLineStyle")||{},x=S.getVisual("legendIcon"),O=S.getVisual("style"),L=this._createItem(w,b,_,y,o,r,T,O,x,g,u);L.on("click",curry(dispatchSelectAction,b,null,u,p)).on("mouseover",curry(dispatchHighlightAction,w.name,null,u,p)).on("mouseout",curry(dispatchDownplayAction,w.name,null,u,p)),v.set(b,!0)}else a.eachRawSeries(function(M){if(!v.get(b)&&M.legendVisualProvider){var re=M.legendVisualProvider;if(!re.containName(b))return;var F=re.indexOfName(b),Y=re.getItemVisual(F,"style"),V=re.getItemVisual(F,"legendIcon"),z=parse(Y.fill);z&&z[3]===0&&(z[3]=.2,Y=extend(extend({},Y),{fill:stringify(z,"rgba")}));var $=this._createItem(M,b,_,y,o,r,{},Y,V,g,u);$.on("click",curry(dispatchSelectAction,null,b,u,p)).on("mouseover",curry(dispatchHighlightAction,null,b,u,p)).on("mouseout",curry(dispatchDownplayAction,null,b,u,p)),v.set(b,!0)}},this);process.env.NODE_ENV!=="production"&&(v.get(b)||console.warn(b+" series not exists. Legend data should be same with series name or data name."))}},this),c&&this._createSelector(c,o,u,f,d)},n.prototype._createSelector=function(r,o,a,u,c){var f=this.getSelectorGroup();each(r,function(h){var v=h.type,g=new ZRText$1({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){a.dispatchAction({type:v==="all"?"legendAllSelect":"legendInverseSelect"})}});f.add(g);var p=o.getModel("selectorLabel"),y=o.getModel(["emphasis","selectorLabel"]);setLabelStyle(g,{normal:p,emphasis:y},{defaultText:h.title}),enableHoverEmphasis(g)})},n.prototype._createItem=function(r,o,a,u,c,f,d,h,v,g,p){var y=r.visualDrawType,_=c.get("itemWidth"),b=c.get("itemHeight"),A=c.isSelected(o),w=u.get("symbolRotate"),S=u.get("symbolKeepAspect"),T=u.get("icon");v=T||v||"roundRect";var x=getLegendStyle(v,u,d,h,y,A,p),O=new Group$1,L=u.getModel("textStyle");if(isFunction$1(r.getLegendIcon)&&(!T||T==="inherit"))O.add(r.getLegendIcon({itemWidth:_,itemHeight:b,icon:v,iconRotate:w,itemStyle:x.itemStyle,lineStyle:x.lineStyle,symbolKeepAspect:S}));else{var M=T==="inherit"&&r.getData().getVisual("symbol")?w==="inherit"?r.getData().getVisual("symbolRotate"):w:0;O.add(getDefaultLegendIcon({itemWidth:_,itemHeight:b,icon:v,iconRotate:M,itemStyle:x.itemStyle,lineStyle:x.lineStyle,symbolKeepAspect:S}))}var re=f==="left"?_+5:-5,F=f,Y=c.get("formatter"),V=o;isString$2(Y)&&Y?V=Y.replace("{name}",o??""):isFunction$1(Y)&&(V=Y(o));var z=u.get("inactiveColor");O.add(new ZRText$1({style:createTextStyle(L,{text:V,x:re,y:b/2,fill:A?L.getTextColor():z,align:F,verticalAlign:"middle"})}));var $=new Rect$1({shape:O.getBoundingRect(),invisible:!0}),pe=u.getModel("tooltip");return pe.get("show")&&setTooltipConfig({el:$,componentModel:c,itemName:o,itemTooltipOption:pe.option}),O.add($),O.eachChild(function(le){le.silent=!0}),$.silent=!g,this.getContentGroup().add(O),enableHoverEmphasis(O),O.__legendDataIndex=a,O},n.prototype.layoutInner=function(r,o,a,u,c,f){var d=this.getContentGroup(),h=this.getSelectorGroup();box(r.get("orient"),d,r.get("itemGap"),a.width,a.height);var v=d.getBoundingRect(),g=[-v.x,-v.y];if(h.markRedraw(),d.markRedraw(),c){box("horizontal",h,r.get("selectorItemGap",!0));var p=h.getBoundingRect(),y=[-p.x,-p.y],_=r.get("selectorButtonGap",!0),b=r.getOrient().index,A=b===0?"width":"height",w=b===0?"height":"width",S=b===0?"y":"x";f==="end"?y[b]+=v[A]+_:g[b]+=p[A]+_,y[1-b]+=v[w]/2-p[w]/2,h.x=y[0],h.y=y[1],d.x=g[0],d.y=g[1];var T={x:0,y:0};return T[A]=v[A]+_+p[A],T[w]=Math.max(v[w],p[w]),T[S]=Math.min(0,p[S]+y[1-b]),T}else return d.x=g[0],d.y=g[1],this.group.getBoundingRect()},n.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},n.type="legend.plain",n}(ComponentView$1);function getLegendStyle(i,n,r,o,a,u,c){function f(A,w){A.lineWidth==="auto"&&(A.lineWidth=w.lineWidth>0?2:0),each(A,function(S,T){A[T]==="inherit"&&(A[T]=w[T])})}var d=n.getModel("itemStyle"),h=d.getItemStyle(),v=i.lastIndexOf("empty",0)===0?"fill":"stroke",g=d.getShallow("decal");h.decal=!g||g==="inherit"?o.decal:createOrUpdatePatternFromDecal(g,c),h.fill==="inherit"&&(h.fill=o[a]),h.stroke==="inherit"&&(h.stroke=o[v]),h.opacity==="inherit"&&(h.opacity=(a==="fill"?o:r).opacity),f(h,o);var p=n.getModel("lineStyle"),y=p.getLineStyle();if(f(y,r),h.fill==="auto"&&(h.fill=o.fill),h.stroke==="auto"&&(h.stroke=o.fill),y.stroke==="auto"&&(y.stroke=o.fill),!u){var _=n.get("inactiveBorderWidth"),b=h[v];h.lineWidth=_==="auto"?o.lineWidth>0&&b?2:0:h.lineWidth,h.fill=n.get("inactiveColor"),h.stroke=n.get("inactiveBorderColor"),y.stroke=p.get("inactiveColor"),y.lineWidth=p.get("inactiveWidth")}return{itemStyle:h,lineStyle:y}}function getDefaultLegendIcon(i){var n=i.icon||"roundRect",r=createSymbol(n,0,0,i.itemWidth,i.itemHeight,i.itemStyle.fill,i.symbolKeepAspect);return r.setStyle(i.itemStyle),r.rotation=(i.iconRotate||0)*Math.PI/180,r.setOrigin([i.itemWidth/2,i.itemHeight/2]),n.indexOf("empty")>-1&&(r.style.stroke=r.style.fill,r.style.fill="#fff",r.style.lineWidth=2),r}function dispatchSelectAction(i,n,r,o){dispatchDownplayAction(i,n,r,o),r.dispatchAction({type:"legendToggleSelect",name:i??n}),dispatchHighlightAction(i,n,r,o)}function isUseHoverLayer(i){for(var n=i.getZr().storage.getDisplayList(),r,o=0,a=n.length;o<a&&!(r=n[o].states.emphasis);)o++;return r&&r.hoverLayer}function dispatchHighlightAction(i,n,r,o){isUseHoverLayer(r)||r.dispatchAction({type:"highlight",seriesName:i,name:n,excludeSeriesId:o})}function dispatchDownplayAction(i,n,r,o){isUseHoverLayer(r)||r.dispatchAction({type:"downplay",seriesName:i,name:n,excludeSeriesId:o})}const LegendView$1=LegendView;function legendFilter(i){var n=i.findComponents({mainType:"legend"});n&&n.length&&i.filterSeries(function(r){for(var o=0;o<n.length;o++)if(!n[o].isSelected(r.name))return!1;return!0})}function legendSelectActionHandler(i,n,r){var o={},a=i==="toggleSelected",u;return r.eachComponent("legend",function(c){a&&u!=null?c[u?"select":"unSelect"](n.name):i==="allSelect"||i==="inverseSelect"?c[i]():(c[i](n.name),u=c.isSelected(n.name));var f=c.getData();each$4(f,function(d){var h=d.get("name");if(!(h===`
`||h==="")){var v=c.isSelected(h);o.hasOwnProperty(h)?o[h]=o[h]&&v:o[h]=v}})}),i==="allSelect"||i==="inverseSelect"?{selected:o}:{name:n.name,selected:o}}function installLegendAction(i){i.registerAction("legendToggleSelect","legendselectchanged",curry$1(legendSelectActionHandler,"toggleSelected")),i.registerAction("legendAllSelect","legendselectall",curry$1(legendSelectActionHandler,"allSelect")),i.registerAction("legendInverseSelect","legendinverseselect",curry$1(legendSelectActionHandler,"inverseSelect")),i.registerAction("legendSelect","legendselected",curry$1(legendSelectActionHandler,"select")),i.registerAction("legendUnSelect","legendunselected",curry$1(legendSelectActionHandler,"unSelect"))}function install$2(i){i.registerComponentModel(LegendModel$1),i.registerComponentView(LegendView$1),i.registerProcessor(i.PRIORITY.PROCESSOR.SERIES_FILTER,legendFilter),i.registerSubTypeDefaulter("legend",function(){return"plain"}),installLegendAction(i)}var ScrollableLegendModel=function(i){__extends(n,i);function n(){var r=i!==null&&i.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.setScrollDataIndex=function(r){this.option.scrollDataIndex=r},n.prototype.init=function(r,o,a){var u=getLayoutParams(r);i.prototype.init.call(this,r,o,a),mergeAndNormalizeLayoutParams(this,r,u)},n.prototype.mergeOption=function(r,o){i.prototype.mergeOption.call(this,r,o),mergeAndNormalizeLayoutParams(this,this.option,r)},n.type="legend.scroll",n.defaultOption=inheritDefaultOption(LegendModel$1.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),n}(LegendModel$1);function mergeAndNormalizeLayoutParams(i,n,r){var o=i.getOrient(),a=[1,1];a[o.index]=0,mergeLayoutParam(n,r,{type:"box",ignoreSize:!!a})}const ScrollableLegendModel$1=ScrollableLegendModel;var Group=Group$3,WH=["width","height"],XY=["x","y"],ScrollableLegendView=function(i){__extends(n,i);function n(){var r=i!==null&&i.apply(this,arguments)||this;return r.type=n.type,r.newlineDisabled=!0,r._currentIndex=0,r}return n.prototype.init=function(){i.prototype.init.call(this),this.group.add(this._containerGroup=new Group),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new Group)},n.prototype.resetInner=function(){i.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},n.prototype.renderInner=function(r,o,a,u,c,f,d){var h=this;i.prototype.renderInner.call(this,r,o,a,u,c,f,d);var v=this._controllerGroup,g=o.get("pageIconSize",!0),p=isArray$1(g)?g:[g,g];_("pagePrev",0);var y=o.getModel("pageTextStyle");v.add(new ZRText$1({name:"pageText",style:{text:"xx/xx",fill:y.getTextColor(),font:y.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),_("pageNext",1);function _(b,A){var w=b+"DataIndex",S=createIcon(o.get("pageIcons",!0)[o.getOrient().name][A],{onclick:bind$1(h._pageGo,h,w,o,u)},{x:-p[0]/2,y:-p[1]/2,width:p[0],height:p[1]});S.name=b,v.add(S)}},n.prototype.layoutInner=function(r,o,a,u,c,f){var d=this.getSelectorGroup(),h=r.getOrient().index,v=WH[h],g=XY[h],p=WH[1-h],y=XY[1-h];c&&box("horizontal",d,r.get("selectorItemGap",!0));var _=r.get("selectorButtonGap",!0),b=d.getBoundingRect(),A=[-b.x,-b.y],w=clone$2(a);c&&(w[v]=a[v]-b[v]-_);var S=this._layoutContentAndController(r,u,w,h,v,p,y,g);if(c){if(f==="end")A[h]+=S[v]+_;else{var T=b[v]+_;A[h]-=T,S[g]-=T}S[v]+=b[v]+_,A[1-h]+=S[y]+S[p]/2-b[p]/2,S[p]=Math.max(S[p],b[p]),S[y]=Math.min(S[y],b[y]+A[1-h]),d.x=A[0],d.y=A[1],d.markRedraw()}return S},n.prototype._layoutContentAndController=function(r,o,a,u,c,f,d,h){var v=this.getContentGroup(),g=this._containerGroup,p=this._controllerGroup;box(r.get("orient"),v,r.get("itemGap"),u?a.width:null,u?null:a.height),box("horizontal",p,r.get("pageButtonItemGap",!0));var y=v.getBoundingRect(),_=p.getBoundingRect(),b=this._showController=y[c]>a[c],A=[-y.x,-y.y];o||(A[u]=v[h]);var w=[0,0],S=[-_.x,-_.y],T=retrieve2(r.get("pageButtonGap",!0),r.get("itemGap",!0));if(b){var x=r.get("pageButtonPosition",!0);x==="end"?S[u]+=a[c]-_[c]:w[u]+=_[c]+T}S[1-u]+=y[f]/2-_[f]/2,v.setPosition(A),g.setPosition(w),p.setPosition(S);var O={x:0,y:0};if(O[c]=b?a[c]:y[c],O[f]=Math.max(y[f],_[f]),O[d]=Math.min(0,_[d]+S[1-u]),g.__rectSize=a[c],b){var L={x:0,y:0};L[c]=Math.max(a[c]-_[c]-T,0),L[f]=O[f],g.setClipPath(new Rect$1({shape:L})),g.__rectSize=L[c]}else p.eachChild(function(re){re.attr({invisible:!0,silent:!0})});var M=this._getPageInfo(r);return M.pageIndex!=null&&updateProps$1(v,{x:M.contentPosition[0],y:M.contentPosition[1]},b?r:null),this._updatePageInfoView(r,M),O},n.prototype._pageGo=function(r,o,a){var u=this._getPageInfo(o)[r];u!=null&&a.dispatchAction({type:"legendScroll",scrollDataIndex:u,legendId:o.id})},n.prototype._updatePageInfoView=function(r,o){var a=this._controllerGroup;each$4(["pagePrev","pageNext"],function(v){var g=v+"DataIndex",p=o[g]!=null,y=a.childOfName(v);y&&(y.setStyle("fill",p?r.get("pageIconColor",!0):r.get("pageIconInactiveColor",!0)),y.cursor=p?"pointer":"default")});var u=a.childOfName("pageText"),c=r.get("pageFormatter"),f=o.pageIndex,d=f!=null?f+1:0,h=o.pageCount;u&&c&&u.setStyle("text",isString$2(c)?c.replace("{current}",d==null?"":d+"").replace("{total}",h==null?"":h+""):c({current:d,total:h}))},n.prototype._getPageInfo=function(r){var o=r.get("scrollDataIndex",!0),a=this.getContentGroup(),u=this._containerGroup.__rectSize,c=r.getOrient().index,f=WH[c],d=XY[c],h=this._findTargetItemIndex(o),v=a.children(),g=v[h],p=v.length,y=p?1:0,_={contentPosition:[a.x,a.y],pageCount:y,pageIndex:y-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!g)return _;var b=x(g);_.contentPosition[c]=-b.s;for(var A=h+1,w=b,S=b,T=null;A<=p;++A)T=x(v[A]),(!T&&S.e>w.s+u||T&&!O(T,w.s))&&(S.i>w.i?w=S:w=T,w&&(_.pageNextDataIndex==null&&(_.pageNextDataIndex=w.i),++_.pageCount)),S=T;for(var A=h-1,w=b,S=b,T=null;A>=-1;--A)T=x(v[A]),(!T||!O(S,T.s))&&w.i<S.i&&(S=w,_.pagePrevDataIndex==null&&(_.pagePrevDataIndex=w.i),++_.pageCount,++_.pageIndex),w=T;return _;function x(L){if(L){var M=L.getBoundingRect(),re=M[d]+L[d];return{s:re,e:re+M[f],i:L.__legendDataIndex}}}function O(L,M){return L.e>=M&&L.s<=M+u}},n.prototype._findTargetItemIndex=function(r){if(!this._showController)return 0;var o,a=this.getContentGroup(),u;return a.eachChild(function(c,f){var d=c.__legendDataIndex;u==null&&d!=null&&(u=f),d===r&&(o=f)}),o??u},n.type="legend.scroll",n}(LegendView$1);const ScrollableLegendView$1=ScrollableLegendView;function installScrollableLegendAction(i){i.registerAction("legendScroll","legendscroll",function(n,r){var o=n.scrollDataIndex;o!=null&&r.eachComponent({mainType:"legend",subType:"scroll",query:n},function(a){a.setScrollDataIndex(o)})})}function install$1(i){use(install$2),i.registerComponentModel(ScrollableLegendModel$1),i.registerComponentView(ScrollableLegendView$1),installScrollableLegendAction(i)}function install(i){use(install$2),use(install$1)}const _sfc_main$G=vue.defineComponent({__name:"pie-charts",props:{title:{type:String,default:"标题"},seriesName:{type:String,default:"详情"},seriesData:{type:Array,default:()=>[]}},setup(i){const n=i;use([install$7,install$6,install$3,install$4,install]),vue.provide(VChart.THEME_KEY,"dark");const r=vue.reactive({title:{text:n.title,left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",left:"left"},series:[{name:n.seriesName,type:"pie",radius:"55%",center:["50%","60%"],data:n.seriesData,emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]});return vue.watch(n,o=>{r.title.text=o.title,r.series[0].name=o.seriesName,r.series[0].data=o.seriesData}),(o,a)=>(vue.openBlock(),vue.createBlock(vue.unref(VChart),{class:"chart",option:vue.unref(r),autoresize:""},null,8,["option"]))}}),pieCharts_vue_vue_type_style_index_0_scoped_fec2cbf2_lang="",PieCharts=_export_sfc$1(_sfc_main$G,[["__scopeId","data-v-fec2cbf2"]]),_hoisted_1$k=["id"],_hoisted_2$h=["id"],_hoisted_3$e=["fill"],_hoisted_4$a=["fill"],_hoisted_5$8=["fill"],_hoisted_6$6=vue.createElementVNode("path",{d:"M375.466667 709.214815l-25.6 137.481481c0 2.844444 1.896296 5.688889 7.585185 10.42963l65.422222 54.992593c5.688889 4.740741 15.17037 8.533333 23.703704 10.429629l36.029629-193.422222-107.14074-19.911111z",fill:"#2D4375"},null,-1),_hoisted_7$6=vue.createElementVNode("path",{d:"M482.607407 729.125926l-36.029629 193.422222c9.481481 1.896296 18.014815 1.896296 25.6-0.948148l80.592592-27.496296c6.637037-1.896296 10.42963-4.740741 11.377778-6.637037L589.748148 749.037037l-107.140741-19.911111z",fill:"#1E2D4F"},null,-1),_hoisted_8$6=["fill-opacity"],_hoisted_9$6=["fill-opacity"],_hoisted_10$5=["fill-opacity"],_hoisted_11$4=vue.createElementVNode("path",{d:"M593.540741 807.822222c1.896296-7.585185-3.792593-15.17037-11.377778-16.118518l-107.140741-19.911111-4.740741 27.496296 107.140741 19.911111c6.637037 0.948148 14.222222-3.792593 16.118519-11.377778z",fill:"#CEEFF6"},null,-1),_hoisted_12$4=vue.createElementVNode("path",{d:"M366.933333 750.933333c-7.585185-1.896296-15.17037 3.792593-16.118518 11.377778-1.896296 7.585185 3.792593 15.17037 11.377778 16.118519l107.14074 19.911111 4.740741-27.496297-107.140741-19.911111zM356.503704 808.77037c-7.585185-1.896296-15.17037 3.792593-16.118519 11.377778-1.896296 7.585185 3.792593 15.17037 11.377778 16.118519l107.140741 19.911111 4.74074-27.496297-107.14074-19.911111z",fill:"#FFFFFF"},null,-1),_hoisted_13$3=vue.createElementVNode("path",{d:"M570.785185 848.592593l-107.140741-19.911112-4.74074 27.496297 107.14074 19.911111c7.585185 1.896296 15.17037-3.792593 16.118519-11.377778 1.896296-7.585185-2.844444-15.17037-11.377778-16.118518z",fill:"#CEEFF6"},null,-1),_hoisted_14$3=["xlink:href"],_sfc_main$F=vue.defineComponent({__name:"light-a",props:{id:{default:""},isOpen:{type:Boolean,default:!1}},emits:["onChange"],setup(i,{emit:n}){const r=i;return vue.watch(()=>r.isOpen,()=>{n("onChange")}),(o,a)=>(vue.openBlock(),vue.createElementBlock("g",{id:r.id,style:{cursor:"pointer"}},[vue.createElementVNode("symbol",{id:`${r.id}light-121`,viewBox:"0 0 1024 1024"},[vue.createElementVNode("path",{d:"M565.096296 289.185185s-0.948148 0 0 0c-110.933333-20.859259-208.592593 40.77037-237.985185 148.859259-14.222222 53.096296-24.651852 101.451852 44.562963 221.866667 14.222222 25.6 11.377778 70.162963 8.533333 95.762963-1.896296 14.222222 64.474074 36.02963 89.125926 42.666667l95.762963-509.155556z",fill:r.isOpen?"#FDB813":"#cccccc"},null,8,_hoisted_3$e),vue.createElementVNode("path",{d:"M732.918519 513.896296c11.377778-111.881481-56.888889-203.851852-166.874075-224.711111h-0.948148L469.333333 798.340741c25.6 2.844444 94.814815 6.637037 98.607408-7.585185 6.637037-25.6 20.859259-67.318519 42.666666-86.281482C719.644444 618.192593 727.22963 568.888889 732.918519 513.896296z",fill:r.isOpen?"#FD9B13":"#bbbbbb"},null,8,_hoisted_4$a),vue.createElementVNode("path",{d:"M467.437037 806.874074c-7.585185-0.948148-12.325926-7.585185-14.222222-14.222222l-38.874074-256c-0.948148-5.688889 0.948148-11.377778 4.74074-15.170371 3.792593-3.792593 9.481481-5.688889 15.170371-4.74074l167.822222 31.288889c5.688889 0.948148 10.42963 4.740741 12.325926 9.481481 1.896296 4.740741 1.896296 11.377778-0.948148 16.118519L486.4 798.340741c-3.792593 6.637037-11.377778 10.42963-18.962963 8.533333z m-14.222222-251.259259l27.496296 182.992592L572.681481 578.37037l-119.466666-22.755555z",fill:r.isOpen?"#F12A3F":"#666666"},null,8,_hoisted_5$8),_hoisted_6$6,_hoisted_7$6,vue.createElementVNode("path",{d:"M612.503704 217.125926c-3.792593 18.014815-20.859259 29.392593-38.874074 26.548148-18.014815-3.792593-30.340741-20.859259-26.548149-38.874074l18.962963-100.503704c3.792593-18.014815 20.859259-29.392593 38.874075-26.548148 18.014815 3.792593 30.340741 20.859259 26.548148 38.874074l-18.962963 100.503704z",fill:"#FDB813","fill-opacity":r.isOpen?1:0},null,8,_hoisted_8$6),vue.createElementVNode("path",{d:"M382.103704 228.503704c10.42963 15.17037 6.637037 36.02963-8.533334 46.459259-15.17037 10.42963-36.02963 6.637037-46.459259-8.533333l-57.837037-84.385186c-10.42963-15.17037-6.637037-36.02963 8.533333-46.459259 15.17037-10.42963 36.02963-6.637037 46.45926 8.533334l57.837037 84.385185zM757.57037 298.666667c-15.17037 10.42963-18.962963 31.288889-8.533333 46.459259 10.42963 15.17037 31.288889 18.962963 46.459259 8.533333l84.385185-57.837037c15.17037-10.42963 18.962963-31.288889 8.533334-46.459259-10.42963-15.17037-31.288889-18.962963-46.459259-8.533333l-84.385186 57.837037z",fill:"#FDB813","fill-opacity":r.isOpen?1:0},null,8,_hoisted_9$6),vue.createElementVNode("path",{d:"M252.207407 361.244444c18.014815 3.792593 30.340741 20.859259 26.548149 38.874075-3.792593 18.014815-20.859259 29.392593-38.874075 26.548148l-100.503703-18.962963c-18.014815-3.792593-30.340741-20.859259-26.548148-38.874074 3.792593-18.014815 20.859259-29.392593 38.874074-26.548149l100.503703 18.962963zM931.081481 488.296296c18.014815 3.792593 30.340741 20.859259 26.548149 38.874074-3.792593 18.014815-20.859259 29.392593-38.874074 26.548149l-100.503704-18.962963c-18.014815-3.792593-30.340741-20.859259-26.548148-38.874075 3.792593-18.014815 20.859259-29.392593 38.874074-26.548148l100.503703 18.962963z",fill:"#FDB813","fill-opacity":r.isOpen?1:0},null,8,_hoisted_10$5),_hoisted_11$4,_hoisted_12$4,_hoisted_13$3],8,_hoisted_2$h),vue.createElementVNode("use",{"xlink:href":`#${r.id}light-121`,width:"100",height:"100"},null,8,_hoisted_14$3)],8,_hoisted_1$k))}}),_hoisted_1$j=["id"],_hoisted_2$g=["id"],_hoisted_3$d=["fill"],_hoisted_4$9=["fill"],_hoisted_5$7=["fill"],_hoisted_6$5=["from","to"],_hoisted_7$5=["fill"],_hoisted_8$5=["from","to"],_hoisted_9$5=["fill"],_hoisted_10$4=["fill"],_hoisted_11$3=["fill"],_hoisted_12$3=["from","to"],_hoisted_13$2=["fill"],_hoisted_14$2=["xlink:href"],_sfc_main$E=vue.defineComponent({__name:"clock-a",props:{id:{default:""},centerColor:{default:"#EBF257"},secondsColor:{default:"#E83E24"},circleColor:{default:"#F45AFC"},minutesColor:{default:"#50E68E"},hoursColor:{default:"#9A36E7"},scaleColor:{default:"#4942CF"},backgroundColor:{default:"#ffffff"},borderColor:{default:"#B3A7FF"}},setup(i){const n=i,r=new Date(Number(window.sessionStorage.getItem("editorLoadTime")||"0")),o=r.getSeconds()+1,a=r.getMinutes(),u=Math.floor((r.getHours()+(a+o/60)/60)*30);return(c,f)=>(vue.openBlock(),vue.createElementBlock("g",{id:n.id},[vue.createElementVNode("symbol",{id:`${n.id}clock-a-n`,viewBox:"0 0 1024 1024"},[vue.createElementVNode("path",{d:"M512.3 518.9m-469.2 0a469.2 469.2 0 1 0 938.4 0 469.2 469.2 0 1 0-938.4 0Z",fill:n.borderColor},null,8,_hoisted_3$d),vue.createElementVNode("path",{d:"M512.3 518.9m-392.5 0a392.5 392.5 0 1 0 785 0 392.5 392.5 0 1 0-785 0Z",fill:n.backgroundColor},null,8,_hoisted_4$9),vue.createElementVNode("path",{d:"M512.3 523.8c-4.5 0-9-1.7-12.4-5.1L318.3 337.1c-6.8-6.8-6.8-17.9 0-24.8 6.8-6.8 17.9-6.8 24.8 0L524.7 494c6.8 6.8 6.8 17.9 0 24.8-3.5 3.3-7.9 5-12.4 5z",fill:n.minutesColor},[vue.createElementVNode("animateTransform",{attributeName:"transform",attributeType:"XML",type:"rotate",from:`${45+vue.unref(a)*6} 512.3 506.3`,to:`${405+vue.unref(a)*6} 512.3 506.3`,dur:"3600s",repeatCount:"indefinite"},null,8,_hoisted_6$5)],8,_hoisted_5$7),vue.createElementVNode("path",{d:"M512.3 523.8c-4.5 0-9-1.7-12.4-5.1-6.8-6.8-6.8-17.9 0-24.8l130.8-130.8c6.8-6.8 17.9-6.8 24.8 0 6.8 6.8 6.8 17.9 0 24.8L524.7 518.7c-3.5 3.4-7.9 5.1-12.4 5.1z",fill:n.hoursColor},[vue.createElementVNode("animateTransform",{attributeName:"transform",attributeType:"XML",type:"rotate",from:`${-45+vue.unref(u)} 512.3 506.3`,to:`${315+vue.unref(u)} 512.3 506.3`,dur:"43200s",repeatCount:"indefinite"},null,8,_hoisted_8$5)],8,_hoisted_7$5),vue.createElementVNode("path",{d:"M512.3 506.3m-47.5 0a47.5 47.5 0 1 0 95 0 47.5 47.5 0 1 0-95 0Z",fill:n.circleColor},null,8,_hoisted_9$5),vue.createElementVNode("path",{d:"M512.3 218.8c-9 0-16.3-7.3-16.3-16.3v-29.1c0-9 7.3-16.3 16.3-16.3s16.3 7.3 16.3 16.3v29.1c0 9-7.4 16.3-16.3 16.3zM512.3 880.8c-9 0-16.3-7.3-16.3-16.3v-29.1c0-9 7.3-16.3 16.3-16.3s16.3 7.3 16.3 16.3v29.1c0 9-7.4 16.3-16.3 16.3zM812.4 518.9c0-9 7.3-16.3 16.3-16.3h29.1c9 0 16.3 7.3 16.3 16.3s-7.3 16.3-16.3 16.3h-29.1c-8.9 0-16.3-7.3-16.3-16.3zM150.4 518.9c0-9 7.3-16.3 16.3-16.3h29.1c9 0 16.3 7.3 16.3 16.3s-7.3 16.3-16.3 16.3h-29.1c-8.9 0-16.3-7.3-16.3-16.3z",fill:n.scaleColor},null,8,_hoisted_10$4),vue.createElementVNode("path",{d:"M296.9 733.5c-2.2 0-4.5-0.9-6.2-2.6-3.4-3.4-3.4-9 0-12.4L540 469.2c3.4-3.4 9-3.4 12.4 0 3.4 3.4 3.4 9 0 12.4L303.1 731c-1.7 1.7-4 2.5-6.2 2.5z",fill:n.secondsColor},[vue.createElementVNode("animateTransform",{attributeName:"transform",attributeType:"XML",type:"rotate",from:`${135.5+o*6} 512.3 506.3`,to:`${495.5+o*6} 512.3 506.3`,dur:"60s",repeatCount:"indefinite"},null,8,_hoisted_12$3)],8,_hoisted_11$3),vue.createElementVNode("path",{d:"M512.3 506.3m-22.8 0a22.8 22.8 0 1 0 45.6 0 22.8 22.8 0 1 0-45.6 0Z",fill:n.centerColor},null,8,_hoisted_13$2)],8,_hoisted_2$g),vue.createElementVNode("use",{"xlink:href":`#${n.id}clock-a-n`,width:"100",height:"100"},null,8,_hoisted_14$2)],8,_hoisted_1$j))}}),vueComp={"svg-text":_sfc_main$J,"el-button":elementPlus.ElButton,"progress-a":_sfc_main$L,"el-tag":elementPlus.ElTag,"common-table":_sfc_main$I,"pie-charts":PieCharts,"switch-r":_sfc_main$K,"now-time":NowTime,"light-a":_sfc_main$F,"clock-a":_sfc_main$E},config=[...svg_config,...vue_config],useGlobalStore=pinia$1.defineStore("global-store",{state:()=>({config_center:config,intention:EGlobalStoreIntention.None,create_svg_info:null,done_json:[],mouse_info:{state:EMouseInfoState.Up,position_x:0,position_y:0,now_position_x:0,now_position_y:0,new_position_x:0,new_position_y:0},handle_svg_info:null,scale_info:{type:EScaleInfoType.None,scale_times:{x:1,y:1},scale_item_info:{x:0,y:0},symmetric_point:{x:0,y:0}},rotate_info:{angle:0},connection_line_node_info:{init_pos:{x:0,y:0},point_index:0}}),actions:{setCreateInfo(i){this.intention=EGlobalStoreIntention.Create,this.create_svg_info=i},setDoneJson(i){isOfType(i,"id")?(this.done_json.push(i),vue.nextTick(()=>{setSvgActualInfo(i)})):this.done_json=objectDeepClone(i),vue.nextTick(()=>{useHistoryRecord(objectDeepClone(this.done_json))})},setHandleSvgInfo(i,n){let r=n;i?(!r&&r!=0&&(r=this.done_json.findIndex(o=>o.id===i.id)??-1),this.handle_svg_info={info:i,index:r}):this.handle_svg_info=i},spliceDoneJson(i){const n=useGlobalStore(),o=n.done_json.splice(i,1)[0];unbindAnchors(o.id),useHistoryRecord(n.done_json)}}}),useSvgEditLayoutStore=pinia$1.defineStore("svg-edit-layout-store",{state:()=>({left_nav:!0,right_nav:!0,center_offset:{x:0,y:0},canvasInfo:{with:0,height:0,top:0,left:0}})}),stopEvent=i=>{i.stopPropagation()},preventDefault=i=>{i.preventDefault()};function componentsRegister(){var n,r;const i=vue.getCurrentInstance();for(let o in vueComp)!((n=i==null?void 0:i.appContext)!=null&&n.components.hasOwnProperty(o))&&vueComp.hasOwnProperty(o)&&((r=i==null?void 0:i.appContext)==null||r.app.component(o,vueComp[o]))}function setEditorLoadTime(){window.sessionStorage.setItem("editorLoadTime",new Date().getTime().toString())}const randomString=i=>{i=i||10;const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=n.length;let o="";for(let a=0;a<i;a++){let u=r;a===0&&(u=r-10),o+=n.charAt(Math.floor(Math.random()*u))}return o},isOfType=(i,n)=>i[n]!==void 0,getCoordinateOffset=(i,n)=>i/2*(n-1),angleToRadian=i=>i*Math.PI/180,calculateRotatedPointCoordinate=(i,n,r)=>({x:parseFloat(((i.x-n.x)*Math.cos(angleToRadian(r))-(i.y-n.y)*Math.sin(angleToRadian(r))+n.x).toFixed(1)),y:parseFloat(((i.x-n.x)*Math.sin(angleToRadian(r))+(i.y-n.y)*Math.cos(angleToRadian(r))+n.y).toFixed(1))}),getCenterPoint=(i,n)=>({x:i.x+(n.x-i.x)/2,y:i.y+(n.y-i.y)/2}),positionArrToPath=i=>{let n="";for(let r=0;r<i.length;r++)r===0?n+=`M ${i[r].x} ${i[r].y}`:n+=` L ${i[r].x} ${i[r].y}`;return n},getSvgNowPosition=(i,n,r)=>r+(n-i),objectDeepClone=(i,n={})=>i?JSON.parse(JSON.stringify(i)):n,setSvgActualInfo=(i,n)=>{var a,u;const r=document.querySelector(`#${i.id}`),o=document.querySelector(`#rect${i.id}`);if(r){let c=0,f=0,d=0,h=0;if(i.type===EDoneJsonType.Vue){d=((a=i.props.width)==null?void 0:a.val)||r.offsetWidth||100,h=((u=i.props.height)==null?void 0:u.val)||r.offsetHeight||100,c=50-d/2,f=50-h/2;const v=document.querySelector(`#foreign-object${i.id}`);v&&(v.getAttribute("x")==="0"&&v.getAttribute("y")==="0"&&v.getAttribute("width")==="0"&&v.getAttribute("height")==="0"||n)&&(v.setAttribute("x",c.toString()),v.setAttribute("y",f.toString()),v.setAttribute("width",d.toString()),v.setAttribute("height",h.toString()))}else{const v=r.getBBox();c=parseFloat(v.x.toFixed(0)),f=parseFloat(v.y.toFixed(0)),d=parseFloat(v.width.toFixed(0)),h=parseFloat(v.height.toFixed(0))}o&&(o.getAttribute("x")==="0"&&o.getAttribute("y")==="0"&&o.getAttribute("width")==="0"&&o.getAttribute("height")==="0"||n)&&(o.setAttribute("x",c.toString()),o.setAttribute("y",f.toString()),o.setAttribute("width",d.toString()),o.setAttribute("height",h.toString())),(i.actual_bound.x===0&&i.actual_bound.y===0&&i.actual_bound.width===0&&i.actual_bound.height===0||n)&&(i.actual_bound={x:c,y:f,width:d,height:h}),i.center_position={x:i.x+i.actual_bound.x+d/2,y:i.y+i.actual_bound.y+h/2},i.point_coordinate.tl={x:i.center_position.x-d*i.scale_x/2,y:i.center_position.y-h*i.scale_y/2},i.point_coordinate.tc={x:i.center_position.x,y:i.center_position.y-h*i.scale_y/2},i.point_coordinate.tr={x:i.center_position.x+d*i.scale_x/2,y:i.center_position.y-h*i.scale_y/2},i.point_coordinate.l={x:i.center_position.x-d*i.scale_x/2,y:i.center_position.y},i.point_coordinate.r={x:i.center_position.x+d*i.scale_x/2,y:i.center_position.y},i.point_coordinate.bl={x:i.center_position.x-d*i.scale_x/2,y:i.center_position.y+h*i.scale_y/2},i.point_coordinate.bc={x:i.center_position.x,y:i.center_position.y+h*i.scale_y/2},i.point_coordinate.br={x:i.center_position.x+d*i.scale_x/2,y:i.center_position.y+h*i.scale_y/2},i.rotate!==0&&setAfterRotationPointCoordinate(i),moveAnchors(i)}},resetHandlePointOld=i=>{for(const n of Object.keys(i.point_coordinate))i.point_coordinate_old&&(i.point_coordinate_old[n].x=0,i.point_coordinate_old[n].y=0)},moveHandlePoint=(i,n,r)=>{const o=useGlobalStore(pinia),a=n??o.mouse_info.new_position_x-o.mouse_info.position_x,u=r??o.mouse_info.new_position_y-o.mouse_info.position_y;for(const c of Object.keys(i.point_coordinate))n!==void 0&&r!==void 0?(i.point_coordinate[c].x+=a,i.point_coordinate[c].y+=u):i.point_coordinate_old&&(i.point_coordinate[c].x=i.point_coordinate_old[c].x+a,i.point_coordinate[c].y=i.point_coordinate_old[c].y+u)},moveAnchors=i=>{var r,o,a,u;const n=useGlobalStore(pinia);for(let c of n.done_json)if(c.type===EDoneJsonType.ConnectionLine){if(((o=(r=c.bind_anchors)==null?void 0:r.start)==null?void 0:o.target_id)===i.id){const f=getAnchorPosByAnchorType(c.bind_anchors.start.type,i);c.props.point_position.val[0]={x:f.x-c.x,y:f.y-c.y}}if(((u=(a=c.bind_anchors)==null?void 0:a.end)==null?void 0:u.target_id)===i.id){const f=getAnchorPosByAnchorType(c.bind_anchors.end.type,i);c.props.point_position.val[c.props.point_position.val.length-1]={x:f.x-c.x,y:f.y-c.y}}}},unbindAnchors=i=>{var r,o,a,u;const n=useGlobalStore(pinia);for(let c of n.done_json)c.type===EDoneJsonType.ConnectionLine&&(((o=(r=c.bind_anchors)==null?void 0:r.start)==null?void 0:o.target_id)===i&&(c.bind_anchors.start=null),((u=(a=c.bind_anchors)==null?void 0:a.end)==null?void 0:u.target_id)===i&&(c.bind_anchors.end=null))},getAnchorPosByAnchorType=(i,n)=>i===ELineBindAnchors.BottomCenter?n.point_coordinate.bc:i===ELineBindAnchors.Left?n.point_coordinate.l:i===ELineBindAnchors.Right?n.point_coordinate.r:n.point_coordinate.tc,setAfterRotationPointCoordinate=i=>{i.point_coordinate={tl:calculateRotatedPointCoordinate(i.point_coordinate.tl,i.center_position,i.rotate),tc:calculateRotatedPointCoordinate(i.point_coordinate.tc,i.center_position,i.rotate),tr:calculateRotatedPointCoordinate(i.point_coordinate.tr,i.center_position,i.rotate),l:calculateRotatedPointCoordinate(i.point_coordinate.l,i.center_position,i.rotate),r:calculateRotatedPointCoordinate(i.point_coordinate.r,i.center_position,i.rotate),bl:calculateRotatedPointCoordinate(i.point_coordinate.bl,i.center_position,i.rotate),bc:calculateRotatedPointCoordinate(i.point_coordinate.bc,i.center_position,i.rotate),br:calculateRotatedPointCoordinate(i.point_coordinate.br,i.center_position,i.rotate)}},prosToVBind=(i,n=[])=>{let r={};if(i.state){for(const o in i.state)if(i.state.hasOwnProperty(o)&&o===i.defaultState){for(let a in i.state[o])a!=="label"&&(r[lodashEs.kebabCase(a)]=i.state[o][a]);break}}for(const o in i.props)n.indexOf(o)<0&&(r[lodashEs.kebabCase(o)]=i.props[o].val);return r},setArrItemByID=(id,key,val,json_arr)=>new Promise(res=>{const find_item=json_arr.find(i=>i.id===id);find_item||res({status:!1,msg:"要设置的id不存在"}),eval(`find_item.${key} = val;`),res({status:!0,msg:"操作成功"})}),getCommonClass=i=>!i.common_animations||!i.common_animations.val?"":`common-ani animate__animated animate__${i.common_animations.val} animate__${i.common_animations.speed} animate__${i.common_animations.repeat} animate__${i.common_animations.delay}`,numberArray=i=>{let n=[];for(let r=0;r<i;r++)n.push(r);return n},getStringWidth=(i,n=12)=>{if(i.length>0){let r=document.createElement("span");r.style.fontSize=n+"px",r.style.fontFamily="inherit",r.innerHTML=i,r.style.opacity="0",r.style.position="fixed",r.style.top="3000px",document.body.append(r);const o=r.clientWidth;return document.body.removeChild(r),o}return 0},valFormat=i=>/false|true/.test(i)?i!=="false":/^\d+(\.\d+)?$/.test(i)?Number(i):i,createLine=(i,n,r)=>{i.preventDefault();const o=useGlobalStore(pinia),a=useConfigStore(pinia),u=useSvgEditLayoutStore(pinia),{clientX:c,clientY:f}=i;let d=objectDeepClone(a.connection_line),h=0,v=0;if(n&&r){d.bind_anchors.start={type:n,target_id:r.id};let p=getAnchorPosByAnchorType(n,r);h=p.x,v=p.y}else h=Math.round((c-u.canvasInfo.left)/a.svg.scale-u.center_offset.x),v=Math.round((f-u.canvasInfo.top)/a.svg.scale-u.center_offset.y);const g={id:randomString(),x:h,y:v,client:{x:h,y:v},scale_x:1,scale_y:1,rotate:0,actual_bound:{x:0,y:0,width:0,height:0},center_position:{x:0,y:0},point_coordinate:{tl:{x:0,y:0},tc:{x:0,y:0},tr:{x:0,y:0},l:{x:0,y:0},r:{x:0,y:0},bl:{x:0,y:0},bc:{x:0,y:0},br:{x:0,y:0}},...d};g.props.point_position.val.push({x:0,y:0}),o.setDoneJson(g),o.setHandleSvgInfo(g,o.done_json.length-1),o.intention=EGlobalStoreIntention.Connection,o.mouse_info={state:EMouseInfoState.Down,position_x:h,position_y:v,now_position_x:h,now_position_y:v,new_position_x:0,new_position_y:0}};Object.seal({name:"straight-line",title:"直线",type:EDoneJsonType.StraightLine,config:{can_zoom:!1,have_anchor:!1,actual_rect:!1},display:!0,props:{fill:{title:"填充色",type:EConfigItemPropsType.Color,val:"#ff0000"},start_x:{title:"起点x坐标",type:EConfigItemPropsType.InputNumber,val:0},start_y:{title:"起点y坐标",type:EConfigItemPropsType.InputNumber,val:0},end_x:{title:"终点x坐标",type:EConfigItemPropsType.InputNumber,val:0},end_y:{title:"终点y坐标",type:EConfigItemPropsType.InputNumber,val:0}},bind_anchors:{start:null,end:null},events:[]});const connection_line_system={name:"connection_line",title:"连接线",type:EDoneJsonType.ConnectionLine,config:{can_zoom:!1,have_anchor:!1,actual_rect:!1},display:!0,props:{stroke:{title:"线条颜色",type:EConfigItemPropsType.Color,val:"#ff0000"},"stroke-width":{title:"线条宽度",type:EConfigItemPropsType.InputNumber,val:2},point_r:{title:"节点半径",type:EConfigItemPropsType.InputNumber,val:4},point_position:{title:"点坐标",type:EConfigItemPropsType.JsonEdit,val:[]}},animations:{type:{title:"动画类型",type:EConfigItemPropsType.Select,val:EConfigAnimationsType.None,options:[{label:"无",value:EConfigAnimationsType.None},{label:"电流",value:EConfigAnimationsType.Electricity},{label:"轨迹",value:EConfigAnimationsType.Track},{label:"水珠",value:EConfigAnimationsType.WaterDrop}]},dur:{title:"持续时间",type:EConfigItemPropsType.InputNumber,val:20},repeatCount:{title:"循环次数",type:EConfigItemPropsType.Input,val:"indefinite",disabled:!0},color:{title:"颜色",type:EConfigItemPropsType.Color,val:"#602a00"},reverse:{title:"反转动画",type:EConfigItemPropsType.Switch,val:!1}},bind_anchors:{start:null,end:null},events:[]},common_animate_list=[{label:"进入",children:[{label:"渐显",value:"fadeIn"},{label:"向右进入",value:"fadeInLeft"},{label:"向左进入",value:"fadeInRight"},{label:"向上进入",value:"fadeInUp"},{label:"向下进入",value:"fadeInDown"},{label:"向右长距进入",value:"fadeInLeftBig"},{label:"向左长距进入",value:"fadeInRightBig"},{label:"向上长距进入",value:"fadeInUpBig"},{label:"向下长距进入",value:"fadeInDownBig"},{label:"旋转进入",value:"rotateIn"},{label:"左顺时针旋转",value:"rotateInDownLeft"},{label:"右逆时针旋转",value:"rotateInDownRight"},{label:"左逆时针旋转",value:"rotateInUpLeft"},{label:"右逆时针旋转",value:"rotateInUpRight"},{label:"弹入",value:"bounceIn"},{label:"向右弹入",value:"bounceInLeft"},{label:"向左弹入",value:"bounceInRight"},{label:"向上弹入",value:"bounceInUp"},{label:"向下弹入",value:"bounceInDown"},{label:"光速从右进入",value:"lightSpeedInRight"},{label:"光速从左进入",value:"lightSpeedInLeft"},{label:"光速从右退出",value:"lightSpeedOutRight"},{label:"光速从左退出",value:"lightSpeedOutLeft"},{label:"Y轴旋转",value:"flip"},{label:"中心X轴旋转",value:"flipInX"},{label:"中心Y轴旋转",value:"flipInY"},{label:"左长半径旋转",value:"rollIn"},{label:"由小变大进入",value:"zoomIn"},{label:"左变大进入",value:"zoomInLeft"},{label:"右变大进入",value:"zoomInRight"},{label:"向上变大进入",value:"zoomInUp"},{label:"向下变大进入",value:"zoomInDown"},{label:"向右滑动展开",value:"slideInLeft"},{label:"向左滑动展开",value:"slideInRight"},{label:"向上滑动展开",value:"slideInUp"},{label:"向下滑动展开",value:"slideInDown"}]},{label:"强调",children:[{label:"弹跳",value:"bounce"},{label:"闪烁",value:"flash"},{label:"放大缩小",value:"pulse"},{label:"放大缩小弹簧",value:"rubberBand"},{label:"左右晃动",value:"headShake"},{label:"左右扇形摇摆",value:"swing"},{label:"放大晃动缩小",value:"tada"},{label:"扇形摇摆",value:"wobble"},{label:"左右上下晃动",value:"jello"},{label:"Y轴旋转",value:"flip"}]},{label:"退出",children:[{label:"渐隐",value:"fadeOut"},{label:"向左退出",value:"fadeOutLeft"},{label:"向右退出",value:"fadeOutRight"},{label:"向上退出",value:"fadeOutUp"},{label:"向下退出",value:"fadeOutDown"},{label:"向左长距退出",value:"fadeOutLeftBig"},{label:"向右长距退出",value:"fadeOutRightBig"},{label:"向上长距退出",value:"fadeOutUpBig"},{label:"向下长距退出",value:"fadeOutDownBig"},{label:"旋转退出",value:"rotateOut"},{label:"左顺时针旋转",value:"rotateOutDownLeft"},{label:"右逆时针旋转",value:"rotateOutDownRight"},{label:"左逆时针旋转",value:"rotateOutUpLeft"},{label:"右逆时针旋转",value:"rotateOutUpRight"},{label:"弹出",value:"bounceOut"},{label:"向左弹出",value:"bounceOutLeft"},{label:"向右弹出",value:"bounceOutRight"},{label:"向上弹出",value:"bounceOutUp"},{label:"向下弹出",value:"bounceOutDown"},{label:"中心X轴旋转",value:"flipOutX"},{label:"中心Y轴旋转",value:"flipOutY"},{label:"左长半径旋转",value:"rollOut"},{label:"由小变大退出",value:"zoomOut"},{label:"左变大退出",value:"zoomOutLeft"},{label:"右变大退出",value:"zoomOutRight"},{label:"向上变大退出",value:"zoomOutUp"},{label:"向下变大退出",value:"zoomOutDown"},{label:"向左滑动收起",value:"slideOutLeft"},{label:"向右滑动收起",value:"slideOutRight"},{label:"向上滑动收起",value:"slideOutUp"},{label:"向下滑动收起",value:"slideOutDown"}]}];let l=localStorage.getItem("svg-editor-config"),s,t;if(l){let i=JSON.parse(l);t=i.connection_line,s=i.svg}else t=objectDeepClone(connection_line_system),s={background_color:"#fff",scale:1,grid:!0,grid_color:"#ebebeb",ruler:!0};const useConfigStore=pinia$1.defineStore("config-store",{state:()=>({svg:s,connection_line:t,net:{mqtt:{url:"",user:"",pwd:"",topics:""}}}),getters:{},actions:{}});var EContextMenuInfoType=(i=>(i.Copy="Copy",i.Delete="Delete",i.MoveUpOneLevel="MoveUpOneLevel",i.MoveDownOneLevel="MoveDownOneLevel",i.MoveUpTopLevel="MoveUpTopLevel",i.MoveDownTopLevel="MoveDownTopLevel",i))(EContextMenuInfoType||{});const useEditPrivateStore=pinia$1.defineStore("edit-private-store",{state:()=>({old_done_components:[],history_doneComponent:[],history_now_index:0,is_record_history:!0,max_record_times:10}),getters:{getTopBtnUndoStatus(i){return i.history_now_index>=1},getTopBtnRedoStatus(i){return i.history_now_index+1!=i.history_doneComponent.length}},actions:{topUndoBtnClick(){if(console.log("撤销"),this.history_now_index<1)return;const i=useGlobalStore();this.is_record_history=!1,this.history_now_index-=1,i.setDoneJson(this.history_doneComponent[this.history_now_index])},topRedoBtnClick(){if(console.log("重做"),this.history_now_index+1==this.history_doneComponent.length)return;const i=useGlobalStore();this.is_record_history=!1,this.history_now_index+=1,i.setDoneJson(this.history_doneComponent[this.history_now_index])}}}),useContextMenuStore=pinia$1.defineStore("context-menu-store",{state:()=>({display:!1,info:{[EContextMenuInfoType.Copy]:{title:"复制",hot_key:"Ctrl + c",enable:!0},[EContextMenuInfoType.Delete]:{title:"删除",hot_key:"Delete",enable:!0},[EContextMenuInfoType.MoveUpTopLevel]:{title:"置于顶层",hot_key:"Ctrl + →",enable:!0},[EContextMenuInfoType.MoveDownTopLevel]:{title:"置于底层",hot_key:"Ctrl + ←",enable:!0},[EContextMenuInfoType.MoveUpOneLevel]:{title:"置于上一层",hot_key:"Ctrl + ↑",enable:!0},[EContextMenuInfoType.MoveDownOneLevel]:{title:"置于下一层",hot_key:"Ctrl + ↓",enable:!0}}}),actions:{onContextMenuClick(i){const n=useGlobalStore();if(n.handle_svg_info)switch(n.intention=EGlobalStoreIntention.Select,i){case EContextMenuInfoType.Copy:const r=objectDeepClone(n.handle_svg_info.info);r.id=randomString(),r.title+="-copy",r.x+=10,r.y+=10,n.setDoneJson(r),this.display=!1,n.setHandleSvgInfo(r,n.done_json.length);break;case EContextMenuInfoType.Delete:n.spliceDoneJson(n.handle_svg_info.index),this.display=!1,n.setHandleSvgInfo(null),n.intention=EGlobalStoreIntention.None;break;case EContextMenuInfoType.MoveUpOneLevel:if(n.done_json.length===1||n.handle_svg_info.index===n.done_json.length-1)return;const o=n.handle_svg_info.info;n.done_json[n.handle_svg_info.index]=n.done_json[n.handle_svg_info.index+1],n.done_json[n.handle_svg_info.index+1]=o,useHistoryRecord(n.done_json),this.display=!1,n.setHandleSvgInfo(o,n.handle_svg_info.index+1);break;case EContextMenuInfoType.MoveDownOneLevel:if(n.done_json.length===1||n.handle_svg_info.index===0)return;const a=n.handle_svg_info.info;n.done_json[n.handle_svg_info.index]=n.done_json[n.handle_svg_info.index-1],n.done_json[n.handle_svg_info.index-1]=a,useHistoryRecord(n.done_json),this.display=!1,n.setHandleSvgInfo(a,n.handle_svg_info.index-1);break;case EContextMenuInfoType.MoveDownTopLevel:if(n.done_json.length===1||n.handle_svg_info.index===0)return;const u=n.handle_svg_info.info;n.done_json.splice(n.handle_svg_info.index,1),n.done_json.unshift(u),useHistoryRecord(n.done_json),this.display=!1,n.setHandleSvgInfo(u,0);break;case EContextMenuInfoType.MoveUpTopLevel:if(n.done_json.length===1||n.handle_svg_info.index===n.done_json.length)return;const c=n.handle_svg_info.info;n.done_json.splice(n.handle_svg_info.index,1),n.done_json.push(c),useHistoryRecord(n.done_json),this.display=!1,n.setHandleSvgInfo(c,n.done_json.length-1);break}}}}),pinia=pinia$1.createPinia(),useHistoryRecord=i=>{const n=useEditPrivateStore();n.is_record_history&&(n.history_now_index+1<n.history_doneComponent.length&&n.history_doneComponent.splice(n.history_now_index+1),n.history_doneComponent.push(i),n.history_now_index=n.history_doneComponent.length-1,n.history_doneComponent.length>n.max_record_times&&(n.history_doneComponent.shift(),n.history_now_index=n.history_doneComponent.length-1)),n.is_record_history=!0},useImportDataModel=i=>{try{const n=JSON.parse(i);if(!n.config||!n.layout_center||!n.done_json)return elementPlus.ElMessage.error("请导入正确的数据模型！"),!1;const r=useGlobalStore(pinia),o=useSvgEditLayoutStore(pinia),a=useConfigStore(pinia);return a.$state=n.config,o.center_offset=n.layout_center,r.setDoneJson(n.done_json),!0}catch(n){return elementPlus.ElMessage.error("请导入正确的数据模型！"),console.error(n),!1}},_hoisted_1$i={"aria-hidden":"true"},_hoisted_2$f=["xlink:href"],_sfc_main$D=vue.defineComponent({__name:"svg-analysis",props:{name:{},props:{default:()=>({})}},setup(i){const n=i,r=vue.computed(()=>`#svg-${n.name}`);return(o,a)=>(vue.openBlock(),vue.createElementBlock("svg",_hoisted_1$i,[vue.createElementVNode("use",vue.mergeProps({"xlink:href":vue.unref(r)},n.props),null,16,_hoisted_2$f)]))}});var EVisibleConfKey=(i=>(i.ImportJson="ImportJson",i.ExportJson="ExportJson",i.ImportFile="ImportFile",i))(EVisibleConfKey||{});const _withScopeId$2=i=>(vue.pushScopeId("data-v-62907637"),i=i(),vue.popScopeId(),i),_hoisted_1$h={class:"flex justify-between",style:{width:"100%"}},_hoisted_2$e={class:"flex items-center justify-between",style:{width:"250px"}},_hoisted_3$c=_withScopeId$2(()=>vue.createElementVNode("div",{class:"flex items-center"},[vue.createElementVNode("span",{class:"logo-title"},"Svg Editor")],-1)),_hoisted_4$8={class:"flex justify-between",style:{width:"calc(100% - 440px)"}},_hoisted_5$6={class:"flex items-center"},_hoisted_6$4={class:"flex items-center mr-20px"},_hoisted_7$4={class:"flex items-center",style:{width:"250px"}},_hoisted_8$4=_withScopeId$2(()=>vue.createElementVNode("div",{class:"font-bold mb-10px text-15px guide-title",style:{"padding-top":"16px"}},"多选",-1)),_hoisted_9$4=_withScopeId$2(()=>vue.createElementVNode("div",null,"在画布空白区域按住鼠标左键可以框选（图形坐标在框选区域即判定被选中），也可以按住ctrl+鼠标左键点图形进行多选",-1)),_hoisted_10$3=_withScopeId$2(()=>vue.createElementVNode("div",{class:"el-divider el-divider--horizontal",role:"separator",style:{"--el-border-style":"solid"}},null,-1)),_hoisted_11$2=_withScopeId$2(()=>vue.createElementVNode("div",{class:"font-bold mb-10px text-15px guide-title"},"拖动画布",-1)),_hoisted_12$2=_withScopeId$2(()=>vue.createElementVNode("div",null,"在画布空白区域按住右键可拖动画布，右侧面板‘图纸’栏可微调或重置位置",-1)),_hoisted_13$1=_withScopeId$2(()=>vue.createElementVNode("div",{class:"el-divider el-divider--horizontal",role:"separator",style:{"--el-border-style":"solid"}},null,-1)),_hoisted_14$1=_withScopeId$2(()=>vue.createElementVNode("div",{class:"font-bold mb-10px text-15px guide-title"},"画布缩放",-1)),_hoisted_15$1=_withScopeId$2(()=>vue.createElementVNode("div",null,"在画布空白区使用鼠标滚轮或者右侧面板‘图纸’栏可控制画布缩放",-1)),_hoisted_16$2=_withScopeId$2(()=>vue.createElementVNode("div",{class:"el-divider el-divider--horizontal",role:"separator",style:{"--el-border-style":"solid"}},null,-1)),_hoisted_17=_withScopeId$2(()=>vue.createElementVNode("div",{class:"font-bold mb-10px text-15px guide-title"},"标尺辅助线",-1)),_hoisted_18=_withScopeId$2(()=>vue.createElementVNode("div",null,"在标尺区域按住鼠标左键并拖动即可创建标尺辅助线，将标尺辅助线拖动到标尺区域即可删除标尺辅助线",-1)),_hoisted_19=_withScopeId$2(()=>vue.createElementVNode("div",{class:"el-divider el-divider--horizontal",role:"separator",style:{"--el-border-style":"solid"}},null,-1)),_hoisted_20=_withScopeId$2(()=>vue.createElementVNode("div",{class:"font-bold mb-10px text-15px guide-title"},"组件尺寸",-1)),_hoisted_21=_withScopeId$2(()=>vue.createElementVNode("div",null,[vue.createElementVNode("p",null," 大多数组件可以通过选中组件然后拖动交互点或在右侧‘外观’栏改变外形尺寸，或通过右侧‘数据’栏直接或间接改变外形尺寸；"),vue.createElementVNode("p",null,"少数特殊组件仅可通过右侧'数据'栏直接或间接改变外形尺寸")],-1)),_hoisted_22$1=_withScopeId$2(()=>vue.createElementVNode("div",{class:"el-divider el-divider--horizontal",role:"separator",style:{"--el-border-style":"solid"}},null,-1)),_hoisted_23=_withScopeId$2(()=>vue.createElementVNode("div",{class:"font-bold mb-10px text-15px guide-title"},"连线样式",-1)),_hoisted_24=_withScopeId$2(()=>vue.createElementVNode("div",null,"在右侧‘连线’栏可以统一配置连线样式，配置后先增加的线会应用新样式，之前的线样式不变，如需改变，可选中线手动更改或删除重画 ",-1)),_hoisted_25=_withScopeId$2(()=>vue.createElementVNode("div",{class:"el-divider el-divider--horizontal",role:"separator",style:{"--el-border-style":"solid"}},null,-1)),_hoisted_26$1=_withScopeId$2(()=>vue.createElementVNode("div",{class:"font-bold mb-10px text-15px guide-title"},"横线和竖线",-1)),_hoisted_27=_withScopeId$2(()=>vue.createElementVNode("div",{class:"guide-text"},[vue.createElementVNode("p",null," 点击编辑器顶部连线按钮会进入连线状态，该状态下在画板点击鼠标左键即可开始画线，移动并再次点击左键创建新的节点，右键结束画线并退出连线状态；"),vue.createElementVNode("p",null,"画线的时候按住ctrl即可画竖线，按住shift即可画横线")],-1)),_hoisted_28=_withScopeId$2(()=>vue.createElementVNode("div",{class:"el-divider el-divider--horizontal",role:"separator",style:{"--el-border-style":"solid"}},null,-1)),_hoisted_29=_withScopeId$2(()=>vue.createElementVNode("div",{class:"font-bold mb-10px text-15px guide-title"},"绑定锚点",-1)),_hoisted_30=_withScopeId$2(()=>vue.createElementVNode("div",{class:"guide-text"},[vue.createElementVNode("p",null,"组件在未选中时，鼠标经过组件时会出现锚点，鼠标悬浮在锚点上时，会有交互样式，点击左键即可以锚点为起点创建连线；"),vue.createElementVNode("p",null,"同样，在连线时鼠标经过锚点时，会出现锚点交互样式，点击左键即可以锚点为连线终点结束连线；"),vue.createElementVNode("p",null,"这两种情况下的连线会绑定组件上的锚点，如需解绑，参考下面的‘锚点解绑’；"),vue.createElementVNode("p",null,"同样，也可先画线，再选中连线绑定想要绑定的组件锚点（连线只有首尾节点可以绑定锚点）")],-1)),_hoisted_31=_withScopeId$2(()=>vue.createElementVNode("div",{class:"el-divider el-divider--horizontal",role:"separator",style:{"--el-border-style":"solid"}},null,-1)),_hoisted_32$1=_withScopeId$2(()=>vue.createElementVNode("div",{class:"font-bold mb-10px text-15px guide-title"},"线段选中",-1)),_hoisted_33=_withScopeId$2(()=>vue.createElementVNode("div",null," 若线段绑定了锚点，移动线段，绑定的锚点不会移动。若是想将线段整体移动，需要先解绑，参考下面的‘锚点解绑’ ",-1)),_hoisted_34=_withScopeId$2(()=>vue.createElementVNode("div",{class:"el-divider el-divider--horizontal",role:"separator",style:{"--el-border-style":"solid"}},null,-1)),_hoisted_35=_withScopeId$2(()=>vue.createElementVNode("div",{class:"font-bold mb-10px text-15px guide-title"},"锚点解绑",-1)),_hoisted_36$1=_withScopeId$2(()=>vue.createElementVNode("div",{style:{"padding-bottom":"14px"}}," 选中线段，在右侧‘数据’栏里解除绑定；或者鼠标左键拖拽连线上需要解绑的节点",-1)),_sfc_main$C=vue.defineComponent({__name:"top-panel",emits:["changeVisible","onReturn","onPreview","onSave"],setup(i,{emit:n}){const r=useSvgEditLayoutStore(pinia),o=useGlobalStore(pinia),a=useEditPrivateStore(pinia),u=useConfigStore(pinia),c=()=>{o.done_json.length<=0||o.setDoneJson([]),o.intention=EGlobalStoreIntention.None},f=v=>{const g={layout_center:r.center_offset,config:u.$state,done_json:o.done_json};n(v,g)},d=vue.ref(!1),h=vue.computed({get:()=>o.intention===EGlobalStoreIntention.Connection,set(v){o.intention=v?EGlobalStoreIntention.Connection:EGlobalStoreIntention.None,v&&o.setHandleSvgInfo(null)}});return(v,g)=>(vue.openBlock(),vue.createElementBlock(vue.Fragment,null,[vue.createElementVNode("div",_hoisted_1$h,[vue.createElementVNode("div",_hoisted_2$e,[_hoisted_3$c,vue.createVNode(vue.unref(elementPlus.ElIcon),{size:24,class:"bt-Icon",onClick:g[0]||(g[0]=p=>vue.unref(r).left_nav=!vue.unref(r).left_nav),title:vue.unref(r).left_nav?"隐藏左侧菜单":"显示左侧菜单"},{default:vue.withCtx(()=>[vue.unref(r).left_nav?(vue.openBlock(),vue.createBlock(_sfc_main$D,{key:0,name:"menu-unfold"})):(vue.openBlock(),vue.createBlock(_sfc_main$D,{key:1,name:"menu-fold"}))]),_:1},8,["title"])]),vue.createElementVNode("div",_hoisted_4$8,[vue.createElementVNode("div",_hoisted_5$6,[vue.createVNode(vue.unref(elementPlus.ElIcon),{title:"撤销 ctrl+z",size:24,class:vue.normalizeClass(`${vue.unref(a).getTopBtnUndoStatus?"bt-Icon":"icon-disable"} ml-20px`),onClick:g[1]||(g[1]=()=>vue.unref(a).topUndoBtnClick())},{default:vue.withCtx(()=>[vue.createVNode(_sfc_main$D,{name:vue.unref(a).getTopBtnUndoStatus?"undo":"undo-gray"},null,8,["name"])]),_:1},8,["class"]),vue.createVNode(vue.unref(elementPlus.ElIcon),{title:"重做 ctrl+shift+z",class:vue.normalizeClass(`${vue.unref(a).getTopBtnRedoStatus?"bt-Icon":"icon-disable"} ml-5px`),size:24,onClick:g[2]||(g[2]=()=>vue.unref(a).topRedoBtnClick())},{default:vue.withCtx(()=>[vue.createVNode(_sfc_main$D,{name:vue.unref(a).getTopBtnRedoStatus?"redo":"redo-gray"},null,8,["name"])]),_:1},8,["class"]),vue.createVNode(vue.unref(elementPlus.ElDivider),{direction:"vertical"}),vue.createVNode(vue.unref(elementPlus.ElIcon),{title:"清空 ctrl+delete",class:vue.normalizeClass(vue.unref(o).done_json.length>0?"bt-Icon":"icon-disable"),size:24,onClick:c},{default:vue.withCtx(()=>[vue.createVNode(_sfc_main$D,{name:vue.unref(o).done_json.length>0?"delete":"delete-gray"},null,8,["name"])]),_:1},8,["class"]),vue.createVNode(vue.unref(elementPlus.ElDivider),{direction:"vertical"}),vue.createVNode(vue.unref(elementPlus.ElIcon),{title:"导入数据模型",class:"bt-Icon",size:24,onClick:g[3]||(g[3]=p=>n("changeVisible",vue.unref(EVisibleConfKey).ImportJson,!0))},{default:vue.withCtx(()=>[vue.createVNode(_sfc_main$D,{name:"import"})]),_:1}),vue.createVNode(vue.unref(elementPlus.ElIcon),{title:"导出数据模型",size:24,class:"bt-Icon ml-5px",onClick:g[4]||(g[4]=p=>n("changeVisible",vue.unref(EVisibleConfKey).ExportJson,!0))},{default:vue.withCtx(()=>[vue.createVNode(_sfc_main$D,{name:"export"})]),_:1}),vue.createVNode(vue.unref(elementPlus.ElDivider),{direction:"vertical"}),vue.createVNode(vue.unref(elementPlus.ElIcon),{title:"创建连线",class:vue.normalizeClass(["bt-Icon",{active:vue.unref(h)}]),size:24,onClick:g[5]||(g[5]=p=>h.value=!vue.unref(h))},{default:vue.withCtx(()=>[vue.createVNode(_sfc_main$D,{name:vue.unref(h)?"line-active":"line"},null,8,["name"])]),_:1},8,["class"]),vue.createVNode(vue.unref(elementPlus.ElDivider),{direction:"vertical"}),vue.createVNode(vue.unref(elementPlus.ElIcon),{title:"说明",class:"bt-Icon",size:24,onClick:g[6]||(g[6]=p=>d.value=!vue.unref(d))},{default:vue.withCtx(()=>[vue.createVNode(_sfc_main$D,{name:"question"})]),_:1})]),vue.createElementVNode("div",_hoisted_6$4,[vue.createVNode(vue.unref(elementPlus.ElIcon),{title:"返回",class:"bt-Icon",size:24,onClick:g[7]||(g[7]=p=>f("onReturn"))},{default:vue.withCtx(()=>[vue.createVNode(_sfc_main$D,{name:"return"})]),_:1}),vue.createVNode(vue.unref(elementPlus.ElDivider),{direction:"vertical"}),vue.createVNode(vue.unref(elementPlus.ElIcon),{title:"保存",class:"bt-Icon",size:24,onClick:g[8]||(g[8]=p=>f("onSave"))},{default:vue.withCtx(()=>[vue.createVNode(_sfc_main$D,{name:"save"})]),_:1}),vue.createVNode(vue.unref(elementPlus.ElDivider),{direction:"vertical"}),vue.createVNode(vue.unref(elementPlus.ElIcon),{title:"预览",class:"bt-Icon",size:22,onClick:g[9]||(g[9]=p=>f("onPreview"))},{default:vue.withCtx(()=>[vue.createVNode(_sfc_main$D,{name:"preview"})]),_:1})])]),vue.createElementVNode("div",_hoisted_7$4,[vue.createVNode(vue.unref(elementPlus.ElIcon),{size:24,class:"bt-Icon",onClick:g[10]||(g[10]=p=>vue.unref(r).right_nav=!vue.unref(r).right_nav),title:vue.unref(r).right_nav?"隐藏右侧菜单":"显示右侧菜单"},{default:vue.withCtx(()=>[vue.unref(r).right_nav?(vue.openBlock(),vue.createBlock(_sfc_main$D,{key:0,name:"menu-fold"})):(vue.openBlock(),vue.createBlock(_sfc_main$D,{key:1,name:"menu-unfold"}))]),_:1},8,["title"])])]),vue.createVNode(vue.unref(elementPlus.ElDialog),{modelValue:vue.unref(d),"onUpdate:modelValue":g[11]||(g[11]=p=>vue.isRef(d)?d.value=p:null),title:"使用说明",width:"60%",class:"guide-dialog"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElScrollbar),{"max-height":"60vh"},{default:vue.withCtx(()=>[_hoisted_8$4,_hoisted_9$4,_hoisted_10$3,_hoisted_11$2,_hoisted_12$2,_hoisted_13$1,_hoisted_14$1,_hoisted_15$1,_hoisted_16$2,_hoisted_17,_hoisted_18,_hoisted_19,_hoisted_20,_hoisted_21,_hoisted_22$1,_hoisted_23,_hoisted_24,_hoisted_25,_hoisted_26$1,_hoisted_27,_hoisted_28,_hoisted_29,_hoisted_30,_hoisted_31,_hoisted_32$1,_hoisted_33,_hoisted_34,_hoisted_35,_hoisted_36$1]),_:1})]),_:1},8,["modelValue"])],64))}}),topPanel_vue_vue_type_style_index_0_scoped_62907637_lang="",topPanel_vue_vue_type_style_index_1_lang="",TopPanel=_export_sfc$1(_sfc_main$C,[["__scopeId","data-v-62907637"]]),_hoisted_1$g={class:"component-group flex flex-wrap"},_hoisted_2$d=["onDragstart","title"],_sfc_main$B=vue.defineComponent({__name:"left-panel",props:{customToolbar:{}},setup(i){const n=i,r=useGlobalStore(pinia),o=vue.ref(n.customToolbar&&Object.keys(n.customToolbar).length>0?n.customToolbar:r.config_center),a=vue.ref(["stateful","stateless","have_animation","custom_svg_group","element-ui","custom-vue","echarts"]),u=d=>{r.setCreateInfo(c(d))},c=d=>(d!=null&&d.props&&!lodashEs.isEmpty(d.props)&&Object.keys(d.props).forEach((h,v)=>{d.props[h].sort=String(v)}),d),f=d=>{var h;if(((h=d.dataTransfer)==null?void 0:h.dropEffect)!=="copy"){elementPlus.ElMessage.warning("请将组件拖到画布中!"),r.intention=EGlobalStoreIntention.None;return}};return(d,h)=>(vue.openBlock(),vue.createElementBlock("div",null,[vue.createVNode(vue.unref(elementPlus.ElCollapse),{modelValue:vue.unref(a),"onUpdate:modelValue":h[0]||(h[0]=v=>vue.isRef(a)?a.value=v:null),style:{"border-top":"none"}},{default:vue.withCtx(()=>[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(vue.unref(o),v=>(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElCollapseItem),{name:v.groupType,key:v.title},{title:vue.withCtx(()=>[vue.createElementVNode("div",null,vue.toDisplayString(v.title),1)]),default:vue.withCtx(()=>[vue.createElementVNode("div",_hoisted_1$g,[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(v.list,g=>(vue.openBlock(),vue.createElementBlock("div",{class:"ideal",key:g.name,draggable:"true",onDragstart:p=>u(g),onDragend:f,title:g.title},[vue.createVNode(vue.unref(elementPlus.ElIcon),{size:35,class:"flex items-center"},{default:vue.withCtx(()=>[vue.createVNode(_sfc_main$D,{name:g.name,props:vue.unref(prosToVBind)(g,["width","height","maxHeight"])},null,8,["name","props"])]),_:2},1024)],40,_hoisted_2$d))),128))])]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"])]))}}),leftPanel_vue_vue_type_style_index_0_scoped_8aba8565_lang="",LeftPanel=_export_sfc$1(_sfc_main$B,[["__scopeId","data-v-8aba8565"]]),calculateLeftTop=(i,n,r)=>{const o=getCenterPoint(i,n),a=calculateRotatedPointCoordinate(i,o,-r),u=calculateRotatedPointCoordinate(n,o,-r);return{width:u.x-a.x,height:u.y-a.y,is_old_width:!1,is_old_height:!1}},calculateRightTop=(i,n,r)=>{const o=getCenterPoint(i,n),a=calculateRotatedPointCoordinate(i,o,-r),u=calculateRotatedPointCoordinate(n,o,-r);return{width:a.x-u.x,height:u.y-a.y,is_old_width:!1,is_old_height:!1}},calculateRightBottom=(i,n,r)=>{const o=getCenterPoint(i,n),a=calculateRotatedPointCoordinate(n,o,-r),u=calculateRotatedPointCoordinate(i,o,-r);return{width:u.x-a.x,height:u.y-a.y,is_old_width:!1,is_old_height:!1}},calculateLeftBottom=(i,n,r)=>{const o=getCenterPoint(i,n),a=calculateRotatedPointCoordinate(n,o,-r),u=calculateRotatedPointCoordinate(i,o,-r);return{width:a.x-u.x,height:u.y-a.y,is_old_width:!1,is_old_height:!1}},calculateTop=(i,n,r,o)=>{const a=calculateRotatedPointCoordinate(i,o,-r),u=calculateRotatedPointCoordinate({x:o.x,y:a.y},o,r),c=Math.sqrt((u.x-n.x)**2+(u.y-n.y)**2);return{width:1,height:Math.round(c),is_old_width:!0,is_old_height:!1}},calculateRight=(i,n,r,o)=>{const a=calculateRotatedPointCoordinate(i,o,-r),u=calculateRotatedPointCoordinate({x:a.x,y:o.y},o,r),c=Math.sqrt((u.x-n.x)**2+(u.y-n.y)**2);return{width:Math.round(c),height:1,is_old_width:!1,is_old_height:!0}},calculateBottom=(i,n,r,o)=>{const a=calculateRotatedPointCoordinate(i,o,-r),u=calculateRotatedPointCoordinate({x:o.x,y:a.y},o,r),c=Math.sqrt((u.x-n.x)**2+(u.y-n.y)**2);return{width:1,height:Math.round(c),is_old_width:!0,is_old_height:!1}},calculateLeft=(i,n,r,o)=>{const a=calculateRotatedPointCoordinate(i,o,-r),u=calculateRotatedPointCoordinate({x:a.x,y:o.y},o,r),c=Math.sqrt((u.x-n.x)**2+(u.y-n.y)**2);return{width:Math.round(c),height:1,is_old_width:!1,is_old_height:!0}},_hoisted_1$f={style:{"vector-effect":"non-scaling-stroke"}},_hoisted_2$c=["fill","x","y"],_hoisted_3$b=["cx","cy"],_hoisted_4$7=["x1","y1","x2","y2"],_hoisted_5$5=["fill","x","y"],_hoisted_6$3=["fill","x","y"],_hoisted_7$3=["fill","x","y"],_hoisted_8$3=["fill","x","y"],_hoisted_9$3=["fill","x","y"],_hoisted_10$2=["fill","x","y"],_hoisted_11$1=["fill","x","y"],_sfc_main$A=vue.defineComponent({__name:"handle-panel",props:{itemInfo:{}},setup(i){const n=i;vue.useCssVars(p=>({"5c831aea":vue.unref(c)}));const r=useGlobalStore(pinia),o=useConfigStore(pinia),a=useSvgEditLayoutStore(pinia),u=vue.ref(4),c=vue.ref("#ab712e"),f=[{start:338,end:23,cursor:"nw",type:EScaleInfoType.TopLeft},{start:23,end:68,cursor:"n",type:EScaleInfoType.TopCenter},{start:68,end:113,cursor:"ne",type:EScaleInfoType.TopRight},{start:293,end:338,cursor:"w",type:EScaleInfoType.Left},{start:113,end:158,cursor:"e",type:EScaleInfoType.Right},{start:248,end:293,cursor:"sw",type:EScaleInfoType.BottomLeft},{start:203,end:248,cursor:"s",type:EScaleInfoType.BottomCenter},{start:158,end:203,cursor:"se",type:EScaleInfoType.BottomRight}],d=vue.computed(()=>n.itemInfo.config.can_zoom),h=(p,y)=>{console.log("handMousedown",y);const{clientX:_,clientY:b}=y;y.stopPropagation(),r.intention=EGlobalStoreIntention.Zoom;const A=Math.round((_-a.canvasInfo.left)/o.svg.scale-a.center_offset.x),w=Math.round((b-a.canvasInfo.top)/o.svg.scale-a.center_offset.y);r.mouse_info={state:EMouseInfoState.Down,position_x:A,position_y:w,now_position_x:A,now_position_y:w,new_position_x:0,new_position_y:0},r.scale_info={type:p,scale_times:{x:n.itemInfo.scale_x,y:n.itemInfo.scale_y},scale_item_info:{x:n.itemInfo.x,y:n.itemInfo.y},symmetric_point:{x:A+Math.abs(A-n.itemInfo.center_position.x)*2*(A>n.itemInfo.center_position.x?-1:1),y:w+Math.abs(w-n.itemInfo.center_position.y)*2*(w>n.itemInfo.center_position.y?-1:1)}}},v=p=>{const{clientX:y,clientY:_}=p,b=Math.round((y-a.canvasInfo.left)/o.svg.scale-a.center_offset.x),A=Math.round((_-a.canvasInfo.top)/o.svg.scale-a.center_offset.y);p.stopPropagation(),r.intention=EGlobalStoreIntention.Rotate,r.rotate_info={angle:n.itemInfo.rotate},r.mouse_info={state:EMouseInfoState.Down,position_x:b,position_y:A,now_position_x:b,now_position_y:A,new_position_x:0,new_position_y:0}},g=p=>{const y=(p+n.itemInfo.rotate)%360,_=f.find(b=>b.start<=y&&b.end>y);return _?{cursor:_.cursor+"-resize",type:_.type}:{cursor:"nw-resize",type:EScaleInfoType.TopLeft}};return(p,y)=>(vue.openBlock(),vue.createElementBlock("g",_hoisted_1$f,[vue.withDirectives(vue.createElementVNode("rect",{id:"resize_tl",width:"8",height:"8",fill:vue.unref(c),style:vue.normalizeStyle({cursor:g(0).cursor,"vector-effect":"non-scaling-stroke"}),"pointer-events":"all",x:n.itemInfo.actual_bound.x-vue.unref(u)-vue.unref(getCoordinateOffset)(n.itemInfo.actual_bound.width,n.itemInfo.scale_x),y:n.itemInfo.actual_bound.y-vue.unref(u)-vue.unref(getCoordinateOffset)(n.itemInfo.actual_bound.height,n.itemInfo.scale_y),stroke:"rgba(0,0,0,0)",onMousedown:y[0]||(y[0]=_=>h(vue.unref(EScaleInfoType).TopLeft,_))},null,44,_hoisted_2$c),[[vue.vShow,vue.unref(d)]]),vue.createElementVNode("circle",{cx:n.itemInfo.actual_bound.x+n.itemInfo.actual_bound.width/2,cy:n.itemInfo.actual_bound.y-vue.unref(u)-vue.unref(getCoordinateOffset)(n.itemInfo.actual_bound.height,n.itemInfo.scale_y)-24,r:4,class:"rotate-circle",onMousedown:v},null,40,_hoisted_3$b),vue.createElementVNode("line",{x1:n.itemInfo.actual_bound.x+n.itemInfo.actual_bound.width/2,y1:n.itemInfo.actual_bound.y-vue.unref(u)-vue.unref(getCoordinateOffset)(n.itemInfo.actual_bound.height,n.itemInfo.scale_y),x2:n.itemInfo.actual_bound.x+n.itemInfo.actual_bound.width/2,y2:n.itemInfo.actual_bound.y-vue.unref(u)-vue.unref(getCoordinateOffset)(n.itemInfo.actual_bound.height,n.itemInfo.scale_y)-20,style:vue.normalizeStyle({stroke:vue.unref(c),"stroke-width":2})},null,12,_hoisted_4$7),vue.withDirectives(vue.createElementVNode("rect",{id:"resize_tc",width:"8",height:"8",fill:vue.unref(c),style:vue.normalizeStyle({cursor:g(45).cursor,"vector-effect":"non-scaling-stroke"}),"pointer-events":"all",x:n.itemInfo.actual_bound.x+n.itemInfo.actual_bound.width/2-vue.unref(u),y:n.itemInfo.actual_bound.y-vue.unref(u)-vue.unref(getCoordinateOffset)(n.itemInfo.actual_bound.height,n.itemInfo.scale_y),stroke:"rgba(0,0,0,0)",onMousedown:y[1]||(y[1]=_=>h(vue.unref(EScaleInfoType).TopCenter,_))},null,44,_hoisted_5$5),[[vue.vShow,vue.unref(d)]]),vue.withDirectives(vue.createElementVNode("rect",{id:"resize_tr",width:"8",height:"8",fill:vue.unref(c),style:vue.normalizeStyle({cursor:g(90).cursor,"vector-effect":"non-scaling-stroke"}),"pointer-events":"all",x:n.itemInfo.actual_bound.x+n.itemInfo.actual_bound.width-vue.unref(u)+vue.unref(getCoordinateOffset)(n.itemInfo.actual_bound.width,n.itemInfo.scale_x),y:n.itemInfo.actual_bound.y-vue.unref(u)-vue.unref(getCoordinateOffset)(n.itemInfo.actual_bound.height,n.itemInfo.scale_y),stroke:"rgba(0,0,0,0)",onMousedown:y[2]||(y[2]=_=>h(vue.unref(EScaleInfoType).TopRight,_))},null,44,_hoisted_6$3),[[vue.vShow,vue.unref(d)]]),vue.withDirectives(vue.createElementVNode("rect",{id:"resize_l",width:"8",height:"8",fill:vue.unref(c),style:vue.normalizeStyle({cursor:g(315).cursor,"vector-effect":"non-scaling-stroke"}),"pointer-events":"all",x:n.itemInfo.actual_bound.x-vue.unref(u)-vue.unref(getCoordinateOffset)(n.itemInfo.actual_bound.width,n.itemInfo.scale_x),y:n.itemInfo.actual_bound.y-vue.unref(u)+n.itemInfo.actual_bound.height*n.itemInfo.scale_y/2-vue.unref(getCoordinateOffset)(n.itemInfo.actual_bound.height,n.itemInfo.scale_y),stroke:"rgba(0,0,0,0)",onMousedown:y[3]||(y[3]=_=>h(vue.unref(EScaleInfoType).Left,_))},null,44,_hoisted_7$3),[[vue.vShow,vue.unref(d)]]),vue.withDirectives(vue.createElementVNode("rect",{id:"resize_r",width:"8",height:"8",fill:vue.unref(c),style:vue.normalizeStyle({cursor:g(135).cursor,"vector-effect":"non-scaling-stroke"}),"pointer-events":"all",x:n.itemInfo.actual_bound.x-vue.unref(u)+n.itemInfo.actual_bound.width+vue.unref(getCoordinateOffset)(n.itemInfo.actual_bound.width,n.itemInfo.scale_x),y:n.itemInfo.actual_bound.y-vue.unref(u)+n.itemInfo.actual_bound.height*n.itemInfo.scale_y/2-vue.unref(getCoordinateOffset)(n.itemInfo.actual_bound.height,n.itemInfo.scale_y),stroke:"rgba(0,0,0,0)",onMousedown:y[4]||(y[4]=_=>h(vue.unref(EScaleInfoType).Right,_))},null,44,_hoisted_8$3),[[vue.vShow,vue.unref(d)]]),vue.withDirectives(vue.createElementVNode("rect",{id:"resize_bl",width:"8",height:"8",fill:vue.unref(c),style:vue.normalizeStyle({cursor:g(270).cursor,"vector-effect":"non-scaling-stroke"}),"pointer-events":"all",x:n.itemInfo.actual_bound.x-vue.unref(u)-vue.unref(getCoordinateOffset)(n.itemInfo.actual_bound.width,n.itemInfo.scale_x),y:n.itemInfo.actual_bound.y-vue.unref(u)+n.itemInfo.actual_bound.height*n.itemInfo.scale_y-vue.unref(getCoordinateOffset)(n.itemInfo.actual_bound.height,n.itemInfo.scale_y),stroke:"rgba(0,0,0,0)",onMousedown:y[5]||(y[5]=_=>h(vue.unref(EScaleInfoType).BottomLeft,_))},null,44,_hoisted_9$3),[[vue.vShow,vue.unref(d)]]),vue.withDirectives(vue.createElementVNode("rect",{id:"resize_bc",width:"8",height:"8",fill:vue.unref(c),style:vue.normalizeStyle({cursor:g(225).cursor,"vector-effect":"non-scaling-stroke"}),"pointer-events":"all",x:n.itemInfo.actual_bound.x-vue.unref(u)+n.itemInfo.actual_bound.width/2,y:n.itemInfo.actual_bound.y-vue.unref(u)+n.itemInfo.actual_bound.height+vue.unref(getCoordinateOffset)(n.itemInfo.actual_bound.height,n.itemInfo.scale_y),stroke:"rgba(0,0,0,0)",onMousedown:y[6]||(y[6]=_=>h(vue.unref(EScaleInfoType).BottomCenter,_))},null,44,_hoisted_10$2),[[vue.vShow,vue.unref(d)]]),vue.withDirectives(vue.createElementVNode("rect",{id:"resize_br",width:"8",height:"8",fill:vue.unref(c),style:vue.normalizeStyle({cursor:g(180).cursor,"vector-effect":"non-scaling-stroke"}),"pointer-events":"all",x:n.itemInfo.actual_bound.x-vue.unref(u)+n.itemInfo.actual_bound.width+vue.unref(getCoordinateOffset)(n.itemInfo.actual_bound.width,n.itemInfo.scale_x),y:n.itemInfo.actual_bound.y-vue.unref(u)+n.itemInfo.actual_bound.height+vue.unref(getCoordinateOffset)(n.itemInfo.actual_bound.height,n.itemInfo.scale_y),stroke:"rgba(0,0,0,0)",onMousedown:y[7]||(y[7]=_=>h(vue.unref(EScaleInfoType).BottomRight,_))},null,44,_hoisted_11$1),[[vue.vShow,vue.unref(d)]])]))}}),handlePanel_vue_vue_type_style_index_0_scoped_e6622df8_lang="",HandlePanel=_export_sfc$1(_sfc_main$A,[["__scopeId","data-v-e6622df8"]]),_hoisted_1$e=["fill"],_hoisted_2$b=["cx","cy","r"],_hoisted_3$a=["cx","cy","r"],_hoisted_4$6=["cx","cy","r"],_hoisted_5$4=["cx","cy","r"],_hoisted_6$2=["cx","cy","r"],_hoisted_7$2=["cx","cy","r"],_hoisted_8$2=["cx","cy","r"],_hoisted_9$2=["cx","cy","r"],_sfc_main$z=vue.defineComponent({__name:"connection-panel",props:{itemInfo:{}},setup(i){const n=i,r=vue.ref(4),o=vue.ref("#ab712e"),a=vue.ref(4),u=vue.ref(12),c=useGlobalStore(pinia),f=useSvgEditLayoutStore(pinia),d=vue.computed(()=>n.itemInfo.actual_bound.x+n.itemInfo.actual_bound.width/2-r.value+a.value),h=vue.computed(()=>n.itemInfo.actual_bound.y-r.value-getCoordinateOffset(n.itemInfo.actual_bound.height,n.itemInfo.scale_y)+a.value),v=vue.computed(()=>n.itemInfo.actual_bound.x-r.value+n.itemInfo.actual_bound.width+getCoordinateOffset(n.itemInfo.actual_bound.width,n.itemInfo.scale_x)+a.value),g=vue.computed(()=>n.itemInfo.actual_bound.y-r.value+n.itemInfo.actual_bound.height*n.itemInfo.scale_y/2-getCoordinateOffset(n.itemInfo.actual_bound.height,n.itemInfo.scale_y)+a.value),p=vue.computed(()=>n.itemInfo.actual_bound.x-r.value+n.itemInfo.actual_bound.width/2+a.value),y=vue.computed(()=>n.itemInfo.actual_bound.y-r.value+n.itemInfo.actual_bound.height+getCoordinateOffset(n.itemInfo.actual_bound.height,n.itemInfo.scale_y)+a.value),_=vue.computed(()=>n.itemInfo.actual_bound.x-r.value-getCoordinateOffset(n.itemInfo.actual_bound.width,n.itemInfo.scale_x)+a.value),b=vue.computed(()=>n.itemInfo.actual_bound.y-r.value+n.itemInfo.actual_bound.height*n.itemInfo.scale_y/2-getCoordinateOffset(n.itemInfo.actual_bound.height,n.itemInfo.scale_y)+a.value),A=(S,T)=>{var x;c.intention===EGlobalStoreIntention.SetConnectionLineNode&&(S.stopPropagation(),(x=c.handle_svg_info)!=null&&x.info.bind_anchors&&c.connection_line_node_info&&(c.connection_line_node_info.point_index===0?c.handle_svg_info.info.bind_anchors.start={type:T,target_id:n.itemInfo.id}:c.connection_line_node_info.point_index===c.handle_svg_info.info.props.point_position.val.length-1&&(c.handle_svg_info.info.bind_anchors.end={type:T,target_id:n.itemInfo.id}),c.intention=EGlobalStoreIntention.None,c.setHandleSvgInfo(null),vue.nextTick(function(){moveAnchors(n.itemInfo)})))},w=(S,T)=>{var x;c.intention===EGlobalStoreIntention.None?(createLine(S,T,n.itemInfo),c.handle_svg_info&&(c.handle_svg_info.info.props.point_position.val.length!==1?c.handle_svg_info.info.props.point_position.val.push({x:c.mouse_info.new_position_x-c.mouse_info.position_x-f.center_offset.x,y:c.mouse_info.new_position_y-c.mouse_info.position_y-f.center_offset.y}):c.handle_svg_info.info.props.point_position.val.push({x:0,y:0}))):c.intention===EGlobalStoreIntention.Connection&&(S.stopPropagation(),(x=c.handle_svg_info)!=null&&x.info.bind_anchors&&(c.handle_svg_info.info.bind_anchors.end={type:T,target_id:n.itemInfo.id},c.intention=EGlobalStoreIntention.None,c.setHandleSvgInfo(null),vue.nextTick(function(){moveAnchors(n.itemInfo)})))};return(S,T)=>(vue.openBlock(),vue.createElementBlock("g",{style:{"vector-effect":"non-scaling-stroke"},class:"connect-points",fill:vue.unref(o),"stroke-width":"2",stroke:"rgba(0,0,0,0)"},[vue.createElementVNode("g",{onMousedown:T[0]||(T[0]=x=>w(x,vue.unref(ELineBindAnchors).TopCenter)),onMouseup:T[1]||(T[1]=x=>A(x,vue.unref(ELineBindAnchors).TopCenter))},[vue.createElementVNode("circle",{class:"out-circle",cx:vue.unref(d),cy:vue.unref(h),r:vue.unref(u),"fill-opacity":".3"},null,8,_hoisted_2$b),vue.createElementVNode("circle",{id:"connection_tc",cx:vue.unref(d),cy:vue.unref(h),r:vue.unref(a),"pointer-events":"all"},null,8,_hoisted_3$a)],32),vue.createElementVNode("g",{onMousedown:T[2]||(T[2]=x=>w(x,vue.unref(ELineBindAnchors).Right)),onMouseup:T[3]||(T[3]=x=>A(x,vue.unref(ELineBindAnchors).Right))},[vue.createElementVNode("circle",{class:"out-circle",cx:vue.unref(v),cy:vue.unref(g),r:vue.unref(u),"fill-opacity":".3"},null,8,_hoisted_4$6),vue.createElementVNode("circle",{id:"connection_r",cx:vue.unref(v),cy:vue.unref(g),r:vue.unref(a),"pointer-events":"all"},null,8,_hoisted_5$4)],32),vue.createElementVNode("g",{onMousedown:T[4]||(T[4]=x=>w(x,vue.unref(ELineBindAnchors).BottomCenter)),onMouseup:T[5]||(T[5]=x=>A(x,vue.unref(ELineBindAnchors).BottomCenter))},[vue.createElementVNode("circle",{class:"out-circle",cx:vue.unref(p),cy:vue.unref(y),r:vue.unref(u),"fill-opacity":".3"},null,8,_hoisted_6$2),vue.createElementVNode("circle",{id:"connection_bc",cx:vue.unref(p),cy:vue.unref(y),r:vue.unref(a),"pointer-events":"all"},null,8,_hoisted_7$2)],32),vue.createElementVNode("g",{onMousedown:T[6]||(T[6]=x=>w(x,vue.unref(ELineBindAnchors).Left)),onMouseup:T[7]||(T[7]=x=>A(x,vue.unref(ELineBindAnchors).Left))},[vue.createElementVNode("circle",{class:"out-circle",cx:vue.unref(_),cy:vue.unref(b),r:vue.unref(u),"fill-opacity":".3"},null,8,_hoisted_8$2),vue.createElementVNode("circle",{id:"connection_l",cx:vue.unref(_),cy:vue.unref(b),r:vue.unref(a),style:{cursor:"crosshair"},"pointer-events":"all"},null,8,_hoisted_9$2)],32)],8,_hoisted_1$e))}}),connectionPanel_vue_vue_type_style_index_0_scoped_fb729c7a_lang="",ConnectionPanel=_export_sfc$1(_sfc_main$z,[["__scopeId","data-v-fb729c7a"]]),_hoisted_1$d=["d","stroke-width"],_hoisted_2$a=["d","stroke-width"],_hoisted_3$9=["id","d","stroke","stroke-width","stroke-dasharray"],_hoisted_4$5=["from","to","dur","repeatCount"],_hoisted_5$3=["d","stroke","stroke-width","stroke-dasharray"],_hoisted_6$1=["from","to","dur","repeatCount"],_hoisted_7$1=["r","fill"],_hoisted_8$1=["path","dur","repeatCount"],_hoisted_9$1=["cx","cy","r","stroke-width"],_hoisted_10$1=["cx","cy","r","stroke","onMousedown"],_sfc_main$y=vue.defineComponent({__name:"connection-line",props:{itemInfo:{},pointVisible:{type:Boolean,default:!1}},setup(i){const n=i,r=useGlobalStore(pinia),o=useConfigStore(pinia),a=useSvgEditLayoutStore(pinia),u=(c,f,d,h)=>{if(r.intention===EGlobalStoreIntention.Connection)return;r.setHandleSvgInfo(n.itemInfo);const{clientX:v,clientY:g}=f;f.stopPropagation(),r.connection_line_node_info={init_pos:{x:d,y:h},point_index:c},r.intention=EGlobalStoreIntention.SetConnectionLineNode,r.mouse_info={state:EMouseInfoState.Down,position_x:Math.round((v-a.canvasInfo.left)/o.svg.scale),position_y:Math.round((g-a.canvasInfo.top)/o.svg.scale),now_position_x:0,now_position_y:0,new_position_x:0,new_position_y:0}};return(c,f)=>{var d,h,v,g,p,y;return vue.openBlock(),vue.createElementBlock("g",{style:vue.normalizeStyle({cursor:vue.unref(r).intention===vue.unref(EGlobalStoreIntention).Connection?"crosshair":"move"})},[vue.withDirectives(vue.createElementVNode("path",{d:vue.unref(positionArrToPath)(n.itemInfo.props.point_position.val),fill:"none","fill-opacity":"0",stroke:"#DE4517","stroke-width":Math.ceil(n.itemInfo.props["stroke-width"].val*1.2)+1,"stroke-linecap":"round","stroke-linejoin":"round"},null,8,_hoisted_1$d),[[vue.vShow,n.itemInfo.selected||n.itemInfo.id===((d=vue.unref(r).handle_svg_info)==null?void 0:d.info.id)]]),vue.createElementVNode("path",{d:vue.unref(positionArrToPath)(n.itemInfo.props.point_position.val),fill:"none","fill-opacity":"0",stroke:"#fff","stroke-opacity":".01","stroke-width":n.itemInfo.props["stroke-width"].val,"stroke-linecap":"round","stroke-linejoin":"round"},null,8,_hoisted_2$a),vue.createElementVNode("path",{id:n.itemInfo.id,d:vue.unref(positionArrToPath)(n.itemInfo.props.point_position.val),fill:"none",stroke:((h=n.itemInfo.animations)==null?void 0:h.type.val)===vue.unref(EConfigAnimationsType).Electricity?n.itemInfo.animations.color.val:n.itemInfo.props.stroke.val,"stroke-width":n.itemInfo.props["stroke-width"].val,"stroke-dashoffset":"0","stroke-dasharray":((v=n.itemInfo.animations)==null?void 0:v.type.val)===vue.unref(EConfigAnimationsType).Electricity?n.itemInfo.props["stroke-width"].val*3:0,"stroke-linejoin":"round"},[((g=n.itemInfo.animations)==null?void 0:g.type.val)===vue.unref(EConfigAnimationsType).Electricity?(vue.openBlock(),vue.createElementBlock("animate",{key:0,attributeName:"stroke-dashoffset",from:n.itemInfo.animations.reverse.val?0:1e3,to:n.itemInfo.animations.reverse.val?1e3:0,dur:`${n.itemInfo.animations.dur.val}s`,repeatCount:n.itemInfo.animations.repeatCount.val},null,8,_hoisted_4$5)):vue.createCommentVNode("",!0)],8,_hoisted_3$9),((p=n.itemInfo.animations)==null?void 0:p.type.val)===vue.unref(EConfigAnimationsType).WaterDrop?(vue.openBlock(),vue.createElementBlock("path",{key:0,d:vue.unref(positionArrToPath)(n.itemInfo.props.point_position.val),fill:"none","fill-opacity":"0",stroke:n.itemInfo.animations.color.val,"stroke-width":n.itemInfo.props["stroke-width"].val,"stroke-dasharray":n.itemInfo.props["stroke-width"].val*3,"stroke-dashoffset":"0","stroke-linecap":"round","stroke-linejoin":"round"},[vue.createElementVNode("animate",{attributeName:"stroke-dashoffset",from:n.itemInfo.animations.reverse.val?0:1e3,to:n.itemInfo.animations.reverse.val?1e3:0,dur:`${n.itemInfo.animations.dur.val}s`,repeatCount:n.itemInfo.animations.repeatCount.val,fill:"freeze"},null,8,_hoisted_6$1)],8,_hoisted_5$3)):((y=n.itemInfo.animations)==null?void 0:y.type.val)===vue.unref(EConfigAnimationsType).Track?(vue.openBlock(),vue.createElementBlock("circle",{key:1,cx:"0",cy:"0",r:Math.ceil(n.itemInfo.props["stroke-width"].val*.6)+2,fill:n.itemInfo.animations.color.val},[vue.createElementVNode("animateMotion",{path:vue.unref(positionArrToPath)(n.itemInfo.animations.reverse.val?[...n.itemInfo.props.point_position.val].reverse():n.itemInfo.props.point_position.val),dur:`${n.itemInfo.animations.dur.val}s`,repeatCount:n.itemInfo.animations.repeatCount.val},null,8,_hoisted_8$1)],8,_hoisted_7$1)):vue.createCommentVNode("",!0),vue.createElementVNode("g",null,[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(n.itemInfo.props.point_position.val,(_,b)=>{var A;return vue.withDirectives((vue.openBlock(),vue.createElementBlock("circle",{key:b,cx:_.x,cy:_.y,r:n.itemInfo.props.point_r.val+1,fill:"none","fill-opacity":"0","stroke-width":Math.ceil(n.itemInfo.props.point_r.val*.2)+1,stroke:"#DE4517"},null,8,_hoisted_9$1)),[[vue.vShow,n.itemInfo.selected||n.itemInfo.id===((A=vue.unref(r).handle_svg_info)==null?void 0:A.info.id)]])}),128)),(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(n.itemInfo.props.point_position.val,(_,b)=>(vue.openBlock(),vue.createElementBlock("circle",{key:b,cx:_.x,cy:_.y,r:n.itemInfo.props.point_r.val,"stroke-width":"1",stroke:n.itemInfo.props.stroke.val,fill:"#fff",style:{cursor:"pointer"},onMousedown:A=>u(b,A,_.x,_.y)},null,40,_hoisted_10$1))),128))])],4)}}}),_hoisted_1$c={id:"pattern_grid",patternUnits:"userSpaceOnUse",x:"0",y:"0",width:"20",height:"20"},_hoisted_2$9=["stroke"],_hoisted_3$8=["stroke"],_hoisted_4$4=["stroke"],_hoisted_5$2=["stroke"],_hoisted_6={key:0,width:"100%",height:"100%",fill:"url(#pattern_grid)"},_hoisted_7=["transform"],_hoisted_8=["transform"],_hoisted_9=["transform","onMousedown","onMouseup","onMouseenter","onMouseleave","onContextmenu"],_hoisted_10=["xlink:href","id","transform"],_hoisted_11=["id"],_hoisted_12$1=["id","x1","y1","x2","y2"],_hoisted_13=["id"],_hoisted_14=["x","y","height","width"],_hoisted_15=["onClick"],_hoisted_16$1={class:"shortcut"},_sfc_main$x=vue.defineComponent({__name:"center-panel",setup(i,{expose:n}){vue.useCssVars(he=>({"49c79b5f":vue.unref(v)}));const r=useGlobalStore(pinia),o=useConfigStore(pinia),a=useSvgEditLayoutStore(pinia),u=useEditPrivateStore(pinia),c=useContextMenuStore(pinia);componentsRegister();const f=vue.ref(),d=vue.ref(),h={MoveCanvas:"grab",Rotate:"url('/src/assets/icons/rotate.svg'), auto",Connection:"crosshair",SetConnectionLineNode:"crosshair"},v=vue.computed(()=>Object.keys(h).indexOf(r.intention)>-1?h[r.intention]:"default"),g=vue.reactive({handle_panel:vue.computed(()=>r.intention===EGlobalStoreIntention.Select||r.intention===EGlobalStoreIntention.Zoom||r.intention===EGlobalStoreIntention.Rotate),connection_panel:!1,connection_line:!1,select_item:{info:null,index:-1}}),p=vue.ref({a:{x:0,y:0},b:{x:0,y:0}}),y=vue.computed(()=>r.intention===EGlobalStoreIntention.SelectArea&&p.value.b.x&&p.value.b.y?{with:Math.abs(p.value.b.x-p.value.a.x),height:Math.abs(p.value.b.y-p.value.a.y),x:p.value.a.x<p.value.b.x?p.value.a.x:p.value.b.x,y:p.value.a.y<p.value.b.y?p.value.a.y:p.value.b.y}:{with:0,height:0,x:0,y:0}),_=vue.computed(()=>{let he=0;for(let xe of r.done_json)xe.selected&&he++;return he>0});let b=!1,A=!1;const w=he=>{var xe;if(r.intention!=EGlobalStoreIntention.None){if(r.intention==EGlobalStoreIntention.Create){if(!r.create_svg_info){console.error("要创建的数据获取失败");return}const _e=Math.floor(he.offsetX/o.svg.scale-a.center_offset.x),jt=Math.floor(he.offsetY/o.svg.scale-a.center_offset.y),Lt={id:randomString(),x:_e,y:jt,client:{x:_e,y:jt},scale_x:1,scale_y:1,rotate:0,actual_bound:{x:0,y:0,width:0,height:0},center_position:{x:0,y:0},point_coordinate:{tl:{x:0,y:0},tc:{x:0,y:0},tr:{x:0,y:0},l:{x:0,y:0},r:{x:0,y:0},bl:{x:0,y:0},bc:{x:0,y:0},br:{x:0,y:0}},selected:!1,...objectDeepClone(r.create_svg_info)};r.setDoneJson(Lt),r.setHandleSvgInfo(Lt,r.done_json.length),r.intention=EGlobalStoreIntention.None}(xe=d.value)==null||xe.focus()}},S=he=>{he.preventDefault()},T=he=>{he.preventDefault()},x=(he,xe,_e)=>{var jt,Lt,Cn;if((jt=d.value)==null||jt.focus(),r.intention===EGlobalStoreIntention.Connection){_e.stopPropagation();return}if(_e.preventDefault(),_e.stopPropagation(),_e.ctrlKey&&_e.button===0)((Lt=r.handle_svg_info)!=null&&Lt.index||((Cn=r.handle_svg_info)==null?void 0:Cn.index)===0)&&(r.done_json[r.handle_svg_info.index].selected=!0,r.setHandleSvgInfo(null),r.intention=EGlobalStoreIntention.None),he.selected=!he.selected;else if(_.value){r.intention=EGlobalStoreIntention.GroupMove,r.mouse_info={state:EMouseInfoState.Down,position_x:Math.round((_e.clientX-a.canvasInfo.left)/o.svg.scale),position_y:Math.round((_e.clientY-a.canvasInfo.top)/o.svg.scale),now_position_x:0,now_position_y:0,new_position_x:0,new_position_y:0};for(let vn of r.done_json)vn.selected&&(vn.old_position={x:vn.x,y:vn.y},vn.point_coordinate_old=objectDeepClone(vn.point_coordinate))}else r.intention=EGlobalStoreIntention.Select,r.setHandleSvgInfo(he,xe),r.mouse_info={state:EMouseInfoState.Down,position_x:Math.round((_e.clientX-a.canvasInfo.left)/o.svg.scale),position_y:Math.round((_e.clientY-a.canvasInfo.top)/o.svg.scale),now_position_x:he.x,now_position_y:he.y,new_position_x:0,new_position_y:0},he.point_coordinate_old=objectDeepClone(he.point_coordinate)},O=(he,xe,_e)=>{if(!(r.intention===EGlobalStoreIntention.Connection||r.mouse_info.state!=EMouseInfoState.Down)&&_.value&&!b&&["SelectArea","Move","Select"].indexOf(r.intention)<0){for(let jt of r.done_json)jt.selected=!1,jt.old_position={x:0,y:0},resetHandlePointOld(jt);r.intention=EGlobalStoreIntention.Select,r.setHandleSvgInfo(he,xe),r.mouse_info={state:EMouseInfoState.Down,position_x:Math.round((_e.clientX-a.canvasInfo.left)/o.svg.scale),position_y:Math.round((_e.clientY-a.canvasInfo.top)/o.svg.scale),now_position_x:he.x,now_position_y:he.y,new_position_x:0,new_position_y:0}}},L=(he,xe,_e)=>{_e.preventDefault(),_e.stopPropagation(),g.connection_panel=!0,g.connection_line=!0,!((r.intention===EGlobalStoreIntention.Connection||r.intention===EGlobalStoreIntention.SetConnectionLineNode)&&he.type===EDoneJsonType.ConnectionLine)&&(g.select_item.info=he,g.select_item.index=xe)},M=(he,xe,_e)=>{_e.preventDefault(),_e.stopPropagation(),!((r.intention===EGlobalStoreIntention.Connection||r.intention===EGlobalStoreIntention.SetConnectionLineNode)&&he.type===EDoneJsonType.ConnectionLine)&&(g.connection_panel=!1,g.connection_line=!1,g.select_item.info=null,g.select_item.index=-1)},re=he=>{var Cn,vn,kt,de,qe,Et,In,$e,Ce,ue,At,Oe,Ve,Pt,Dt,_n;if(r.mouse_info.state!=EMouseInfoState.Down&&r.intention!==EGlobalStoreIntention.Connection)return;const{clientX:xe,clientY:_e}=he;r.mouse_info.new_position_x=Math.round((xe-a.canvasInfo.left)/o.svg.scale),r.mouse_info.new_position_y=Math.round((_e-a.canvasInfo.top)/o.svg.scale);const jt=Math.round(r.mouse_info.new_position_x-r.mouse_info.position_x+r.mouse_info.now_position_x),Lt=Math.round(r.mouse_info.new_position_y-r.mouse_info.position_y+r.mouse_info.now_position_y);if((Cn=r.handle_svg_info)!=null&&Cn.info&&(r.intention===EGlobalStoreIntention.Select||r.intention===EGlobalStoreIntention.Move)){if(r.handle_svg_info.info.x=jt,r.handle_svg_info.info.y=Lt,r.handle_svg_info.info.client={x:jt,y:Lt},r.intention=EGlobalStoreIntention.Move,moveHandlePoint(r.handle_svg_info.info),moveAnchors(r.handle_svg_info.info),r.handle_svg_info.info.type===EDoneJsonType.ConnectionLine){if((vn=r.handle_svg_info.info.bind_anchors)!=null&&vn.start){let ie=null;for(let oe of r.done_json)oe.id===((de=(kt=r.handle_svg_info.info.bind_anchors)==null?void 0:kt.start)==null?void 0:de.target_id)&&(ie=oe);ie&&moveAnchors(ie)}if((qe=r.handle_svg_info.info.bind_anchors)!=null&&qe.end){let ie=null;for(let oe of r.done_json)oe.id===((In=(Et=r.handle_svg_info.info.bind_anchors)==null?void 0:Et.end)==null?void 0:In.target_id)&&(ie=oe);ie&&moveAnchors(ie)}}}else if(r.intention===EGlobalStoreIntention.MoveCanvas)a.center_offset.x=jt,a.center_offset.y=Lt;else if(r.intention===EGlobalStoreIntention.SelectArea)p.value.b.x=r.mouse_info.new_position_x-a.center_offset.x,p.value.b.y=r.mouse_info.new_position_y-a.center_offset.y;else if(r.intention===EGlobalStoreIntention.GroupMove){b=!0;for(let ie of r.done_json)if(ie.selected&&ie.old_position){const oe=Math.round(r.mouse_info.new_position_x-r.mouse_info.position_x+ie.old_position.x),j=Math.round(r.mouse_info.new_position_y-r.mouse_info.position_y+ie.old_position.y);if(ie.x=oe,ie.y=j,ie.client={x:oe,y:j},moveHandlePoint(ie),moveAnchors(ie),ie.type===EDoneJsonType.ConnectionLine&&(($e=ie.bind_anchors)!=null&&$e.end)){let k=null;for(let D of r.done_json)D.id===((ue=(Ce=ie.bind_anchors)==null?void 0:Ce.end)==null?void 0:ue.target_id)&&(k=D);k&&moveAnchors(k)}}}else if(r.intention===EGlobalStoreIntention.Zoom){if(!r.handle_svg_info)return;const ie={x:r.mouse_info.new_position_x-a.center_offset.x,y:r.mouse_info.new_position_y-a.center_offset.y};let oe={width:0,height:0,is_old_width:!1,is_old_height:!1};if(r.scale_info.type===EScaleInfoType.TopLeft?oe=calculateLeftTop(ie,r.scale_info.symmetric_point,r.handle_svg_info.info.rotate):r.scale_info.type===EScaleInfoType.TopRight?oe=calculateRightTop(ie,r.scale_info.symmetric_point,r.handle_svg_info.info.rotate):r.scale_info.type===EScaleInfoType.BottomRight?oe=calculateRightBottom(ie,r.scale_info.symmetric_point,r.handle_svg_info.info.rotate):r.scale_info.type===EScaleInfoType.BottomLeft?oe=calculateLeftBottom(ie,r.scale_info.symmetric_point,r.handle_svg_info.info.rotate):r.scale_info.type===EScaleInfoType.TopCenter?oe=calculateTop(ie,r.scale_info.symmetric_point,r.handle_svg_info.info.rotate,r.handle_svg_info.info.client):r.scale_info.type===EScaleInfoType.Right?oe=calculateRight(ie,r.scale_info.symmetric_point,r.handle_svg_info.info.rotate,r.handle_svg_info.info.client):r.scale_info.type===EScaleInfoType.BottomCenter?oe=calculateBottom(ie,r.scale_info.symmetric_point,r.handle_svg_info.info.rotate,r.handle_svg_info.info.client):r.scale_info.type===EScaleInfoType.Left&&(oe=calculateLeft(ie,r.scale_info.symmetric_point,r.handle_svg_info.info.rotate,r.handle_svg_info.info.client)),r.handle_svg_info&&oe.width>0&&oe.height>0){const j=oe.is_old_width?1:parseFloat((oe.width/r.handle_svg_info.info.actual_bound.width).toFixed(3)),k=oe.is_old_height?1:parseFloat((oe.height/r.handle_svg_info.info.actual_bound.height).toFixed(3)),D=getCenterPoint(ie,r.scale_info.symmetric_point);j>0&&r.scale_info.type!==EScaleInfoType.TopCenter&&r.scale_info.type!==EScaleInfoType.BottomCenter&&(r.handle_svg_info.info.scale_x=j,r.handle_svg_info.info.x=Math.round(getSvgNowPosition(r.handle_svg_info.info.center_position.x,D.x,r.handle_svg_info.info.client.x))),k>0&&r.scale_info.type!==EScaleInfoType.Left&&r.scale_info.type!==EScaleInfoType.Right&&(r.handle_svg_info.info.scale_y=k,r.handle_svg_info.info.y=Math.round(getSvgNowPosition(r.handle_svg_info.info.center_position.y,D.y,r.handle_svg_info.info.client.y)))}}else if(r.intention===EGlobalStoreIntention.Rotate){if(!r.handle_svg_info)return;const ie=Math.atan2(r.mouse_info.position_y-r.handle_svg_info.info.y,r.mouse_info.position_x-r.handle_svg_info.info.x)/(Math.PI/180),oe=Math.atan2(r.mouse_info.new_position_y-a.center_offset.y-r.handle_svg_info.info.y,r.mouse_info.new_position_x-a.center_offset.x-r.handle_svg_info.info.x)/(Math.PI/180);r.handle_svg_info.info.rotate=parseFloat((r.rotate_info.angle+oe-ie).toFixed(2))}else if(r.intention===EGlobalStoreIntention.Connection&&r.handle_svg_info){const ie=(At=r.handle_svg_info)==null?void 0:At.info.props.point_position.val.length,oe=r.mouse_info.new_position_x-r.mouse_info.position_x-a.center_offset.x,j=r.mouse_info.new_position_y-r.mouse_info.position_y-a.center_offset.y,k=r.handle_svg_info.info.props.point_position.val[ie-2],D=((Ve=(Oe=r.handle_svg_info)==null?void 0:Oe.info.props.point_r)==null?void 0:Ve.val)+2||4;let ae=k.x<oe?-D:k.x>oe?D:0,Ne=k.y<j?-D:k.y>j?D:0;he.ctrlKey?r.handle_svg_info.info.props.point_position.val[ie-1]={x:k.x,y:j+Ne}:he.shiftKey?r.handle_svg_info.info.props.point_position.val[ie-1]={x:oe+ae,y:k.y}:r.handle_svg_info.info.props.point_position.val[ie-1]={x:oe+ae,y:j+Ne}}else if(r.intention===EGlobalStoreIntention.SetConnectionLineNode&&r.handle_svg_info){!A&&(r.connection_line_node_info.point_index===r.handle_svg_info.info.props.point_position.val.length-1||r.connection_line_node_info.point_index===0)&&(A=!0);const ie=(Pt=r.handle_svg_info)==null?void 0:Pt.info.props.point_position.val.length,oe=getSvgNowPosition(r.mouse_info.position_x,r.mouse_info.new_position_x,r.connection_line_node_info.init_pos.x),j=getSvgNowPosition(r.mouse_info.position_y,r.mouse_info.new_position_y,r.connection_line_node_info.init_pos.y),k=r.handle_svg_info.info.props.point_position.val[ie-2],D=((_n=(Dt=r.handle_svg_info)==null?void 0:Dt.info.props.point_r)==null?void 0:_n.val)+2||4;let ae=k.x<oe?-D:k.x>oe?D:0,Ne=k.y<j?-D:k.y>j?D:0;r.handle_svg_info.info.props.point_position.val[r.connection_line_node_info.point_index]={x:oe+ae,y:j+Ne}}},F=()=>{var he,xe,_e,jt;if(r.mouse_info.state==EMouseInfoState.Down){if((he=r.handle_svg_info)!=null&&he.info&&r.intention==EGlobalStoreIntention.Move)setSvgActualInfo(r.done_json[r.handle_svg_info.index]),r.intention=EGlobalStoreIntention.None,r.setDoneJson(r.done_json);else if(r.intention==EGlobalStoreIntention.GroupMove)b&&(b=!1,r.intention=EGlobalStoreIntention.None);else if((xe=r.handle_svg_info)!=null&&xe.info&&r.intention==EGlobalStoreIntention.Zoom)r.handle_svg_info.info.client={x:r.handle_svg_info.info.x,y:r.handle_svg_info.info.y},r.intention=EGlobalStoreIntention.None,setSvgActualInfo(r.done_json[r.handle_svg_info.index]),r.setDoneJson(r.done_json);else if(r.intention===EGlobalStoreIntention.Rotate&&((_e=r.handle_svg_info)!=null&&_e.info))setSvgActualInfo(r.done_json[r.handle_svg_info.index]),r.setDoneJson(r.done_json),r.intention=EGlobalStoreIntention.None;else{if(r.intention===EGlobalStoreIntention.Connection)return;if(r.intention===EGlobalStoreIntention.SetConnectionLineNode)A&&((jt=r.handle_svg_info)!=null&&jt.info.bind_anchors)&&(r.connection_line_node_info.point_index===0?r.handle_svg_info.info.bind_anchors.start=null:r.handle_svg_info.info.bind_anchors.end=null),r.intention=EGlobalStoreIntention.None,A=!1;else if(r.intention===EGlobalStoreIntention.SelectArea){r.setHandleSvgInfo(null);for(let Lt of r.done_json){const Cn=y.value;Lt.selected=Lt.x>Cn.x&&Lt.x<Cn.x+Cn.with&&Lt.y>Cn.y&&Lt.y<Cn.y+Cn.height}r.intention=EGlobalStoreIntention.None}else r.intention!=EGlobalStoreIntention.Select&&(r.intention=EGlobalStoreIntention.None)}r.mouse_info={state:EMouseInfoState.Up,position_x:0,position_y:0,now_position_x:0,now_position_y:0,new_position_x:0,new_position_y:0},c.display=!1}},Y=he=>{const{clientX:xe,clientY:_e}=he;if(r.intention===EGlobalStoreIntention.Connection){r.handle_svg_info||createLine(he),r.handle_svg_info&&(he.button===0?r.handle_svg_info.info.props.point_position.val.length!==1?r.handle_svg_info.info.props.point_position.val.push({x:r.mouse_info.new_position_x-r.mouse_info.position_x-a.center_offset.x,y:r.mouse_info.new_position_y-r.mouse_info.position_y-a.center_offset.y}):r.handle_svg_info.info.props.point_position.val.push({x:0,y:0}):he.button===2&&(r.intention=EGlobalStoreIntention.None,setSvgActualInfo(r.done_json[r.handle_svg_info.index]),r.setHandleSvgInfo(null)));return}he.button===0?(r.intention=EGlobalStoreIntention.SelectArea,r.mouse_info={state:EMouseInfoState.Down,position_x:Math.round((xe-a.canvasInfo.left)/o.svg.scale-a.center_offset.x),position_y:Math.round((_e-a.canvasInfo.top)/o.svg.scale-a.center_offset.y),now_position_x:0,now_position_y:0,new_position_x:0,new_position_y:0},p.value={a:{x:r.mouse_info.position_x,y:r.mouse_info.position_y},b:{x:0,y:0}}):he.button===2&&(r.intention=EGlobalStoreIntention.MoveCanvas,r.mouse_info={state:EMouseInfoState.Down,position_x:Math.round((xe-a.canvasInfo.left)/o.svg.scale),position_y:Math.round((_e-a.canvasInfo.top)/o.svg.scale),now_position_x:a.center_offset.x,now_position_y:a.center_offset.y,new_position_x:0,new_position_y:0})};function V(he){he!=null&&he.wheelDelta&&(he.wheelDelta>0?o.svg.scale=parseFloat((o.svg.scale+.1).toFixed(1)):o.svg.scale=parseFloat((o.svg.scale-.1).toFixed(1)))}const z=he=>{he.stopPropagation(),he.preventDefault()},$=(he,xe,_e)=>{r.intention!==EGlobalStoreIntention.Connection&&f.value&&(r.intention=EGlobalStoreIntention.ContextMenu,r.setHandleSvgInfo(he,xe),f.value.style.left=_e.pageX+"px",f.value.style.top=_e.pageY+"px",c.info.MoveUpOneLevel.enable=c.info.MoveUpTopLevel.enable=c.info.MoveDownOneLevel.enable=c.info.MoveDownTopLevel.enable=!0,xe===r.done_json.length-1&&(c.info.MoveUpOneLevel.enable=c.info.MoveUpTopLevel.enable=!1),xe===0&&(c.info.MoveDownOneLevel.enable=c.info.MoveDownTopLevel.enable=!1),c.display=!0)},pe=(he,xe,_e)=>({x:parseFloat((he.x-he.width/2*xe+he.width/2).toFixed(1)),y:parseFloat((he.y-he.height/2*_e+he.height/2).toFixed(1)),width:parseFloat((he.width*xe).toFixed(1)),height:parseFloat((he.height*_e).toFixed(1))}),le=he=>{he.preventDefault();let xe=[];if(!he.ctrlKey&&["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].indexOf(he.key)>-1&&(_.value?xe=r.done_json.map((_e,jt)=>({selected:_e.selected,i:jt})).filter(_e=>_e.selected).map(_e=>_e.i):r.handle_svg_info&&xe.push(r.handle_svg_info.index)),!he.ctrlKey&&he.key=="ArrowUp"){for(let _e of xe)r.done_json[_e].y-=1,r.done_json[_e].client.y-=1,moveHandlePoint(r.done_json[_e],0,-1),moveAnchors(r.done_json[_e]);useHistoryRecord(r.done_json)}else if(!he.ctrlKey&&he.key=="ArrowDown"){for(let _e of xe)r.done_json[_e].y+=1,r.done_json[_e].client.y+=1,moveHandlePoint(r.done_json[_e],0,1),moveAnchors(r.done_json[_e]);useHistoryRecord(r.done_json)}else if(!he.ctrlKey&&he.key=="ArrowLeft"){for(let _e of xe)r.done_json[_e].x-=1,r.done_json[_e].client.x-=1,moveHandlePoint(r.done_json[_e],-1,0),moveAnchors(r.done_json[_e]);useHistoryRecord(r.done_json)}else if(!he.ctrlKey&&he.key=="ArrowRight"){for(let _e of xe)r.done_json[_e].x+=1,r.done_json[_e].client.x+=1,moveHandlePoint(r.done_json[_e],1,0),moveAnchors(r.done_json[_e]);useHistoryRecord(r.done_json)}else he.ctrlKey&&he.key.toLowerCase()=="c"?c.onContextMenuClick(EContextMenuInfoType.Copy):!he.ctrlKey&&he.key=="Delete"?_.value?(r.setDoneJson(r.done_json.filter(_e=>!_e.selected)),r.setHandleSvgInfo(r.done_json[r.done_json.length-1],r.done_json.length-1)):c.onContextMenuClick(EContextMenuInfoType.Delete):he.ctrlKey&&he.key=="ArrowUp"?c.onContextMenuClick(EContextMenuInfoType.MoveUpOneLevel):he.ctrlKey&&he.key=="ArrowDown"?c.onContextMenuClick(EContextMenuInfoType.MoveDownOneLevel):he.ctrlKey&&he.key=="ArrowLeft"?c.onContextMenuClick(EContextMenuInfoType.MoveDownTopLevel):he.ctrlKey&&he.key=="ArrowRight"?c.onContextMenuClick(EContextMenuInfoType.MoveUpTopLevel):he.ctrlKey&&he.shiftKey&&he.key.toLowerCase()=="z"?u.topRedoBtnClick():he.ctrlKey&&he.key.toLowerCase()=="z"?u.topUndoBtnClick():he.ctrlKey&&he.key.toLowerCase()=="delete"&&(r.done_json.length<=0||r.setDoneJson([]))},Ie=()=>{setSvgActualInfo(r.done_json[r.handle_svg_info.index],!0)};return vue.onMounted(()=>{var he;(he=d.value)==null||he.focus(),vue.nextTick(function(){var _e;const xe=(_e=d.value)==null?void 0:_e.getBoundingClientRect();a.canvasInfo={height:(xe==null?void 0:xe.height)||0,with:(xe==null?void 0:xe.width)||0,top:(xe==null?void 0:xe.top)||0,left:(xe==null?void 0:xe.left)||0}})}),n({onCanvasMouseUp:F}),(he,xe)=>(vue.openBlock(),vue.createElementBlock(vue.Fragment,null,[vue.createElementVNode("div",{class:"canvas",tabindex:"0",ref_key:"canvasRef",ref:d,onDrop:w,onDragenter:S,onDragover:T,onMousedown:Y,onMousemove:re,onMouseup:F,onContextmenu:z,onKeydown:le,onMousewheel:V},[(vue.openBlock(),vue.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",style:vue.normalizeStyle({backgroundColor:vue.unref(o).svg.background_color}),width:"100%",height:"100%"},[vue.createElementVNode("defs",null,[vue.createElementVNode("pattern",_hoisted_1$c,[vue.createElementVNode("line",{x1:"0",y1:"0",x2:"0",y2:"20",stroke:vue.unref(o).svg.grid_color},null,8,_hoisted_2$9),vue.createElementVNode("line",{x1:"10",y1:"0",x2:"10",y2:"20",stroke:vue.unref(o).svg.grid_color},null,8,_hoisted_3$8),vue.createElementVNode("line",{x1:"0",y1:"0",x2:"20",y2:"0",stroke:vue.unref(o).svg.grid_color},null,8,_hoisted_4$4),vue.createElementVNode("line",{x1:"0",y1:"10",x2:"20",y2:"10",stroke:vue.unref(o).svg.grid_color},null,8,_hoisted_5$2)])]),vue.unref(o).svg.grid?(vue.openBlock(),vue.createElementBlock("rect",_hoisted_6)):vue.createCommentVNode("",!0),vue.createElementVNode("g",{transform:`translate(${vue.unref(a).center_offset.x*vue.unref(o).svg.scale},${vue.unref(a).center_offset.y*vue.unref(o).svg.scale})rotate(0)scale(${vue.unref(o).svg.scale})`},[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(vue.unref(r).done_json,(_e,jt)=>{var Lt,Cn,vn,kt,de,qe;return vue.withDirectives((vue.openBlock(),vue.createElementBlock("g",{key:_e.id,transform:`translate(${_e.x},${_e.y})rotate(0)scale(1)`,onMousewheel:xe[0]||(xe[0]=(...Et)=>vue.unref(stopEvent)&&vue.unref(stopEvent)(...Et))},[vue.createElementVNode("g",{class:vue.normalizeClass(`${vue.unref(getCommonClass)(_e)}`)},[vue.createElementVNode("g",{transform:`translate(${_e.actual_bound.x+_e.actual_bound.width/2},${_e.actual_bound.y+_e.actual_bound.height/2})rotate(${_e.rotate}) scale(1) translate(${-(_e.actual_bound.x+_e.actual_bound.width/2)},${-(_e.actual_bound.y+_e.actual_bound.height/2)})`,onMousedown:Et=>x(_e,jt,Et),onMouseup:Et=>O(_e,jt,Et),onMouseenter:Et=>L(_e,jt,Et),onMouseleave:Et=>M(_e,jt,Et),onContextmenu:Et=>$(_e,jt,Et)},[_e.type===vue.unref(EDoneJsonType).ConnectionLine?(vue.openBlock(),vue.createBlock(_sfc_main$y,{key:0,"item-info":_e,"point-visible":vue.unref(g).connection_line&&((Lt=vue.unref(g).select_item.info)==null?void 0:Lt.id)==_e.id},null,8,["item-info","point-visible"])):_e.type===vue.unref(EDoneJsonType).File?(vue.openBlock(),vue.createElementBlock("use",vue.mergeProps({key:1,"xlink:href":`#svg-${_e.name}`},vue.unref(prosToVBind)(_e),{width:"100",height:"100",id:_e.id,transform:`translate(${_e.actual_bound.x+_e.actual_bound.width/2},${_e.actual_bound.y+_e.actual_bound.height/2}) scale(${_e.scale_x},${_e.scale_y}) translate(${-(_e.actual_bound.x+_e.actual_bound.width/2)},${-(_e.actual_bound.y+_e.actual_bound.height/2)})`}),null,16,_hoisted_10)):_e.type===vue.unref(EDoneJsonType).CustomSvg?(vue.openBlock(),vue.createBlock(vue.resolveDynamicComponent(_e.tag),vue.mergeProps({key:2},vue.unref(prosToVBind)(_e),{width:"100",height:"100",id:_e.id,onResize:Ie,transform:`translate(${_e.actual_bound.x+_e.actual_bound.width/2},${_e.actual_bound.y+_e.actual_bound.height/2}) scale(${_e.scale_x},${_e.scale_y}) translate(${-(_e.actual_bound.x+_e.actual_bound.width/2)},${-(_e.actual_bound.y+_e.actual_bound.height/2)})`}),null,16,["id","transform"])):_e.type===vue.unref(EDoneJsonType).Vue?(vue.openBlock(),vue.createElementBlock("foreignObject",vue.mergeProps({key:3},pe(_e.actual_bound,_e.scale_x,_e.scale_y),{id:`foreign-object${_e.id}`,class:"foreignObject"}),[(vue.openBlock(),vue.createBlock(vue.resolveDynamicComponent(_e.tag),vue.mergeProps(vue.unref(prosToVBind)(_e),{id:_e.id,transform:`translate(${_e.actual_bound.x+_e.actual_bound.width/2},${_e.actual_bound.y+_e.actual_bound.height/2}) scale(${_e.scale_x},${_e.scale_y}) translate(${-(_e.actual_bound.x+_e.actual_bound.width/2)},${-(_e.actual_bound.y+_e.actual_bound.height/2)})`}),{default:vue.withCtx(()=>[vue.createTextVNode(vue.toDisplayString(_e.tag_slot),1)]),_:2},1040,["id","transform"]))],16,_hoisted_11)):_e.type===vue.unref(EDoneJsonType).StraightLine?(vue.openBlock(),vue.createElementBlock("line",{key:4,id:_e.id,x1:_e.props.start_x.val,y1:_e.props.start_y.val,x2:_e.props.end_x.val,y2:_e.props.end_y.val,fill:"#FF0000",stroke:"#FF0000","stroke-width":"2"},null,8,_hoisted_12$1)):vue.createCommentVNode("",!0),_e.config.actual_rect?(vue.openBlock(),vue.createElementBlock("rect",vue.mergeProps({key:5,id:`rect${_e.id}`,fill:"black","fill-opacity":"0"},pe(_e.actual_bound,_e.scale_x,_e.scale_y),{style:{stroke:"none","stroke-width":"2","stroke-miterlimit":"10"},class:{"svg-item-none":!_e.selected&&(vue.unref(r).intention==vue.unref(EGlobalStoreIntention).None||vue.unref(r).intention==vue.unref(EGlobalStoreIntention).Select),"svg-item-move":vue.unref(r).intention==vue.unref(EGlobalStoreIntention).Move&&((Cn=vue.unref(r).handle_svg_info)==null?void 0:Cn.info.id)==_e.id,"svg-item-select":vue.unref(r).intention==vue.unref(EGlobalStoreIntention).Select&&((vn=vue.unref(r).handle_svg_info)==null?void 0:vn.info.id)==_e.id,"svg-item-in-group":_e.selected}}),null,16,_hoisted_13)):vue.createCommentVNode("",!0),((kt=vue.unref(r).handle_svg_info)==null?void 0:kt.info.id)===_e.id&&vue.unref(g).handle_panel&&_e.type!==vue.unref(EDoneJsonType).ConnectionLine?(vue.openBlock(),vue.createBlock(HandlePanel,{key:6,"item-info":_e},null,8,["item-info"])):vue.createCommentVNode("",!0),!_e.selected&&((de=vue.unref(g).select_item.info)==null?void 0:de.id)==_e.id&&vue.unref(g).connection_panel&&_e.config.have_anchor&&vue.unref(r).intention!==vue.unref(EGlobalStoreIntention).SelectArea&&(vue.unref(r).intention!==vue.unref(EGlobalStoreIntention).Select||_e.id!==((qe=vue.unref(r).handle_svg_info)==null?void 0:qe.info.id))?(vue.openBlock(),vue.createBlock(ConnectionPanel,{key:7,onContextmenu:z,"item-info":_e},null,8,["item-info"])):vue.createCommentVNode("",!0)],40,_hoisted_9)],2)],40,_hoisted_8)),[[vue.vShow,_e.display]])}),128)),vue.createElementVNode("rect",{x:vue.unref(y).x,y:vue.unref(y).y,height:vue.unref(y).height,width:vue.unref(y).with,stroke:"#107cec",fill:"#107cec","fill-opacity":".2"},null,8,_hoisted_14)],8,_hoisted_7)],4))],544),vue.withDirectives(vue.createElementVNode("ul",{ref_key:"contextMenuRef",ref:f,class:"contextMenu"},[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(vue.unref(c).info,(_e,jt)=>(vue.openBlock(),vue.createElementBlock("li",{key:_e.title,onClick:Lt=>vue.unref(c).onContextMenuClick(jt)},[vue.createElementVNode("p",{class:vue.normalizeClass(_e.enable?"":"disabled")},[vue.createTextVNode(vue.toDisplayString(_e.title)+" ",1),vue.createElementVNode("span",_hoisted_16$1,vue.toDisplayString(_e.hot_key),1)],2)],8,_hoisted_15))),128))],512),[[vue.vShow,vue.unref(c).display]])],64))}}),centerPanel_vue_vue_type_style_index_0_scoped_97a3211c_lang="",CenterPanel=_export_sfc$1(_sfc_main$x,[["__scopeId","data-v-97a3211c"]]);/*! Element Plus Icons Vue v2.1.0 */var export_helper_default=(i,n)=>{let r=i.__vccOpts||i;for(let[o,a]of n)r[o]=a;return r},aim_vue_vue_type_script_lang_default={name:"Aim"},_hoisted_12={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_22=vue.createElementVNode("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),_hoisted_32=vue.createElementVNode("path",{fill:"currentColor",d:"M512 96a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V128a32 32 0 0 1 32-32zm0 576a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V704a32 32 0 0 1 32-32zM96 512a32 32 0 0 1 32-32h192a32 32 0 0 1 0 64H128a32 32 0 0 1-32-32zm576 0a32 32 0 0 1 32-32h192a32 32 0 1 1 0 64H704a32 32 0 0 1-32-32z"},null,-1),_hoisted_42=[_hoisted_22,_hoisted_32];function _sfc_render2(i,n,r,o,a,u){return vue.openBlock(),vue.createElementBlock("svg",_hoisted_12,_hoisted_42)}var aim_default=export_helper_default(aim_vue_vue_type_script_lang_default,[["render",_sfc_render2],["__file","aim.vue"]]),arrow_down_vue_vue_type_script_lang_default={name:"ArrowDown"},_hoisted_16={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_26=vue.createElementVNode("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"},null,-1),_hoisted_36=[_hoisted_26];function _sfc_render6(i,n,r,o,a,u){return vue.openBlock(),vue.createElementBlock("svg",_hoisted_16,_hoisted_36)}var arrow_down_default=export_helper_default(arrow_down_vue_vue_type_script_lang_default,[["render",_sfc_render6],["__file","arrow-down.vue"]]),circle_check_vue_vue_type_script_lang_default={name:"CircleCheck"},_hoisted_149={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_249=vue.createElementVNode("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),_hoisted_348=vue.createElementVNode("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"},null,-1),_hoisted_415=[_hoisted_249,_hoisted_348];function _sfc_render49(i,n,r,o,a,u){return vue.openBlock(),vue.createElementBlock("svg",_hoisted_149,_hoisted_415)}var circle_check_default=export_helper_default(circle_check_vue_vue_type_script_lang_default,[["render",_sfc_render49],["__file","circle-check.vue"]]),circle_close_vue_vue_type_script_lang_default={name:"CircleClose"},_hoisted_151={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_251=vue.createElementVNode("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248L466.752 512z"},null,-1),_hoisted_350=vue.createElementVNode("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),_hoisted_416=[_hoisted_251,_hoisted_350];function _sfc_render51(i,n,r,o,a,u){return vue.openBlock(),vue.createElementBlock("svg",_hoisted_151,_hoisted_416)}var circle_close_default=export_helper_default(circle_close_vue_vue_type_script_lang_default,[["render",_sfc_render51],["__file","circle-close.vue"]]),close_vue_vue_type_script_lang_default={name:"Close"},_hoisted_156={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_256=vue.createElementVNode("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"},null,-1),_hoisted_355=[_hoisted_256];function _sfc_render56(i,n,r,o,a,u){return vue.openBlock(),vue.createElementBlock("svg",_hoisted_156,_hoisted_355)}var close_default=export_helper_default(close_vue_vue_type_script_lang_default,[["render",_sfc_render56],["__file","close.vue"]]),hide_vue_vue_type_script_lang_default={name:"Hide"},_hoisted_1133={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2133=vue.createElementVNode("path",{fill:"currentColor",d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2L371.2 588.8ZM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z"},null,-1),_hoisted_3132=vue.createElementVNode("path",{fill:"currentColor",d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z"},null,-1),_hoisted_438=[_hoisted_2133,_hoisted_3132];function _sfc_render133(i,n,r,o,a,u){return vue.openBlock(),vue.createElementBlock("svg",_hoisted_1133,_hoisted_438)}var hide_default=export_helper_default(hide_vue_vue_type_script_lang_default,[["render",_sfc_render133],["__file","hide.vue"]]),loading_vue_vue_type_script_lang_default={name:"Loading"},_hoisted_1150={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2150=vue.createElementVNode("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32zm0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32zm448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32zm-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32zM195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0zm-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"},null,-1),_hoisted_3149=[_hoisted_2150];function _sfc_render150(i,n,r,o,a,u){return vue.openBlock(),vue.createElementBlock("svg",_hoisted_1150,_hoisted_3149)}var loading_default=export_helper_default(loading_vue_vue_type_script_lang_default,[["render",_sfc_render150],["__file","loading.vue"]]),view_vue_vue_type_script_lang_default={name:"View"},_hoisted_1283={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2283=vue.createElementVNode("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352zm0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448zm0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160z"},null,-1),_hoisted_3282=[_hoisted_2283];function _sfc_render283(i,n,r,o,a,u){return vue.openBlock(),vue.createElementBlock("svg",_hoisted_1283,_hoisted_3282)}var view_default=export_helper_default(view_vue_vue_type_script_lang_default,[["render",_sfc_render283],["__file","view.vue"]]),MapShim=function(){if(typeof Map<"u")return Map;function i(n,r){var o=-1;return n.some(function(a,u){return a[0]===r?(o=u,!0):!1}),o}return function(){function n(){this.__entries__=[]}return Object.defineProperty(n.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),n.prototype.get=function(r){var o=i(this.__entries__,r),a=this.__entries__[o];return a&&a[1]},n.prototype.set=function(r,o){var a=i(this.__entries__,r);~a?this.__entries__[a][1]=o:this.__entries__.push([r,o])},n.prototype.delete=function(r){var o=this.__entries__,a=i(o,r);~a&&o.splice(a,1)},n.prototype.has=function(r){return!!~i(this.__entries__,r)},n.prototype.clear=function(){this.__entries__.splice(0)},n.prototype.forEach=function(r,o){o===void 0&&(o=null);for(var a=0,u=this.__entries__;a<u.length;a++){var c=u[a];r.call(o,c[1],c[0])}},n}()}(),isBrowser=typeof window<"u"&&typeof document<"u"&&window.document===document,global$1=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),requestAnimationFrame$1=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(global$1):function(i){return setTimeout(function(){return i(Date.now())},1e3/60)}}(),trailingTimeout=2;function throttle(i,n){var r=!1,o=!1,a=0;function u(){r&&(r=!1,i()),o&&f()}function c(){requestAnimationFrame$1(u)}function f(){var d=Date.now();if(r){if(d-a<trailingTimeout)return;o=!0}else r=!0,o=!1,setTimeout(c,n);a=d}return f}var REFRESH_DELAY=20,transitionKeys=["top","right","bottom","left","width","height","size","weight"],mutationObserverSupported=typeof MutationObserver<"u",ResizeObserverController=function(){function i(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=throttle(this.refresh.bind(this),REFRESH_DELAY)}return i.prototype.addObserver=function(n){~this.observers_.indexOf(n)||this.observers_.push(n),this.connected_||this.connect_()},i.prototype.removeObserver=function(n){var r=this.observers_,o=r.indexOf(n);~o&&r.splice(o,1),!r.length&&this.connected_&&this.disconnect_()},i.prototype.refresh=function(){var n=this.updateObservers_();n&&this.refresh()},i.prototype.updateObservers_=function(){var n=this.observers_.filter(function(r){return r.gatherActive(),r.hasActive()});return n.forEach(function(r){return r.broadcastActive()}),n.length>0},i.prototype.connect_=function(){!isBrowser||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),mutationObserverSupported?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},i.prototype.disconnect_=function(){!isBrowser||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},i.prototype.onTransitionEnd_=function(n){var r=n.propertyName,o=r===void 0?"":r,a=transitionKeys.some(function(u){return!!~o.indexOf(u)});a&&this.refresh()},i.getInstance=function(){return this.instance_||(this.instance_=new i),this.instance_},i.instance_=null,i}(),defineConfigurable=function(i,n){for(var r=0,o=Object.keys(n);r<o.length;r++){var a=o[r];Object.defineProperty(i,a,{value:n[a],enumerable:!1,writable:!1,configurable:!0})}return i},getWindowOf=function(i){var n=i&&i.ownerDocument&&i.ownerDocument.defaultView;return n||global$1},emptyRect=createRectInit(0,0,0,0);function toFloat(i){return parseFloat(i)||0}function getBordersSize(i){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return n.reduce(function(o,a){var u=i["border-"+a+"-width"];return o+toFloat(u)},0)}function getPaddings(i){for(var n=["top","right","bottom","left"],r={},o=0,a=n;o<a.length;o++){var u=a[o],c=i["padding-"+u];r[u]=toFloat(c)}return r}function getSVGContentRect(i){var n=i.getBBox();return createRectInit(0,0,n.width,n.height)}function getHTMLElementContentRect(i){var n=i.clientWidth,r=i.clientHeight;if(!n&&!r)return emptyRect;var o=getWindowOf(i).getComputedStyle(i),a=getPaddings(o),u=a.left+a.right,c=a.top+a.bottom,f=toFloat(o.width),d=toFloat(o.height);if(o.boxSizing==="border-box"&&(Math.round(f+u)!==n&&(f-=getBordersSize(o,"left","right")+u),Math.round(d+c)!==r&&(d-=getBordersSize(o,"top","bottom")+c)),!isDocumentElement(i)){var h=Math.round(f+u)-n,v=Math.round(d+c)-r;Math.abs(h)!==1&&(f-=h),Math.abs(v)!==1&&(d-=v)}return createRectInit(a.left,a.top,f,d)}var isSVGGraphicsElement=function(){return typeof SVGGraphicsElement<"u"?function(i){return i instanceof getWindowOf(i).SVGGraphicsElement}:function(i){return i instanceof getWindowOf(i).SVGElement&&typeof i.getBBox=="function"}}();function isDocumentElement(i){return i===getWindowOf(i).document.documentElement}function getContentRect(i){return isBrowser?isSVGGraphicsElement(i)?getSVGContentRect(i):getHTMLElementContentRect(i):emptyRect}function createReadOnlyRect(i){var n=i.x,r=i.y,o=i.width,a=i.height,u=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,c=Object.create(u.prototype);return defineConfigurable(c,{x:n,y:r,width:o,height:a,top:r,right:n+o,bottom:a+r,left:n}),c}function createRectInit(i,n,r,o){return{x:i,y:n,width:r,height:o}}var ResizeObservation=function(){function i(n){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=createRectInit(0,0,0,0),this.target=n}return i.prototype.isActive=function(){var n=getContentRect(this.target);return this.contentRect_=n,n.width!==this.broadcastWidth||n.height!==this.broadcastHeight},i.prototype.broadcastRect=function(){var n=this.contentRect_;return this.broadcastWidth=n.width,this.broadcastHeight=n.height,n},i}(),ResizeObserverEntry=function(){function i(n,r){var o=createReadOnlyRect(r);defineConfigurable(this,{target:n,contentRect:o})}return i}(),ResizeObserverSPI=function(){function i(n,r,o){if(this.activeObservations_=[],this.observations_=new MapShim,typeof n!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=n,this.controller_=r,this.callbackCtx_=o}return i.prototype.observe=function(n){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(n instanceof getWindowOf(n).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(n)||(r.set(n,new ResizeObservation(n)),this.controller_.addObserver(this),this.controller_.refresh())}},i.prototype.unobserve=function(n){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(n instanceof getWindowOf(n).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(n)&&(r.delete(n),r.size||this.controller_.removeObserver(this))}},i.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},i.prototype.gatherActive=function(){var n=this;this.clearActive(),this.observations_.forEach(function(r){r.isActive()&&n.activeObservations_.push(r)})},i.prototype.broadcastActive=function(){if(this.hasActive()){var n=this.callbackCtx_,r=this.activeObservations_.map(function(o){return new ResizeObserverEntry(o.target,o.broadcastRect())});this.callback_.call(n,r,n),this.clearActive()}},i.prototype.clearActive=function(){this.activeObservations_.splice(0)},i.prototype.hasActive=function(){return this.activeObservations_.length>0},i}(),observers=typeof WeakMap<"u"?new WeakMap:new MapShim,ResizeObserver$1=function(){function i(n){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=ResizeObserverController.getInstance(),o=new ResizeObserverSPI(n,r,this);observers.set(this,o)}return i}();["observe","unobserve","disconnect"].forEach(function(i){ResizeObserver$1.prototype[i]=function(){var n;return(n=observers.get(this))[i].apply(n,arguments)}});var index$1=function(){return typeof global$1.ResizeObserver<"u"?global$1.ResizeObserver:ResizeObserver$1}();const Events=["blur","input","change","changeSelectionStyle","changeSession","copy","focus","paste"],VAceEditor=vue.defineComponent({props:{value:{type:String,required:!0},lang:{type:String,default:"text"},theme:{type:String,default:"chrome"},options:Object,placeholder:String,readonly:Boolean,wrap:Boolean,printMargin:{type:[Boolean,Number],default:!0},minLines:Number,maxLines:Number},emits:["update:value","init",...Events],render(){return vue.h("div")},mounted(){const i=this._editor=vue.markRaw(ace.edit(this.$el,{placeholder:this.placeholder,readOnly:this.readonly,value:this.value,mode:"ace/mode/"+this.lang,theme:"ace/theme/"+this.theme,wrap:this.wrap,printMargin:this.printMargin,useWorker:!1,minLines:this.minLines,maxLines:this.maxLines,...this.options}));this._contentBackup=this.value,this._isSettingContent=!1,i.on("change",()=>{if(this._isSettingContent)return;const n=i.getValue();this._contentBackup=n,this.$emit("update:value",n)}),Events.forEach(n=>{const r="on"+vue.capitalize(n);typeof this.$.vnode.props[r]=="function"&&i.on(n,this.$emit.bind(this,n))}),this._ro=new index$1(()=>i.resize()),this._ro.observe(this.$el),this.$emit("init",i)},beforeUnmount(){var i,n;(i=this._ro)===null||i===void 0||i.disconnect(),(n=this._editor)===null||n===void 0||n.destroy()},methods:{focus(){this._editor.focus()},blur(){this._editor.blur()},selectAll(){this._editor.selectAll()}},watch:{value(i){if(this._contentBackup!==i){try{this._isSettingContent=!0,this._editor.setValue(i,1)}finally{this._isSettingContent=!1}this._contentBackup=i}},theme(i){this._editor.setTheme("ace/theme/"+i)},options(i){this._editor.setOptions(i)},readonly(i){this._editor.setReadOnly(i)},placeholder(i){this._editor.setOption("placeholder",i)},wrap(i){this._editor.setWrapBehavioursEnabled(i)},printMargin(i){this._editor.setOption("printMargin",i)},lang(i){this._editor.setOption("mode","ace/mode/"+i)},minLines(i){this._editor.setOption("minLines",i)},maxLines(i){this._editor.setOption("maxLines",i)}}}),themeUrl2="data:application/javascript;base64,YWNlLmRlZmluZSgiYWNlL3RoZW1lL2tyX3RoZW1lLmNzcyIsWyJyZXF1aXJlIiwiZXhwb3J0cyIsIm1vZHVsZSJdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpe21vZHVsZS5leHBvcnRzID0gIi5hY2Uta3ItdGhlbWUgLmFjZV9ndXR0ZXIge1xuICBiYWNrZ3JvdW5kOiAjMWMxOTE3O1xuICBjb2xvcjogI0ZDRkZFMFxufVxuXG4uYWNlLWtyLXRoZW1lIC5hY2VfcHJpbnQtbWFyZ2luIHtcbiAgd2lkdGg6IDFweDtcbiAgYmFja2dyb3VuZDogIzFjMTkxN1xufVxuXG4uYWNlLWtyLXRoZW1lIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzBCMEEwOTtcbiAgY29sb3I6ICNGQ0ZGRTBcbn1cblxuLmFjZS1rci10aGVtZSAuYWNlX2N1cnNvciB7XG4gIGNvbG9yOiAjRkY5OTAwXG59XG5cbi5hY2Uta3ItdGhlbWUgLmFjZV9tYXJrZXItbGF5ZXIgLmFjZV9zZWxlY3Rpb24ge1xuICBiYWNrZ3JvdW5kOiByZ2JhKDE3MCwgMCwgMjU1LCAwLjQ1KVxufVxuXG4uYWNlLWtyLXRoZW1lLmFjZV9tdWx0aXNlbGVjdCAuYWNlX3NlbGVjdGlvbi5hY2Vfc3RhcnQge1xuICBib3gtc2hhZG93OiAwIDAgM3B4IDBweCAjMEIwQTA5O1xufVxuXG4uYWNlLWtyLXRoZW1lIC5hY2VfbWFya2VyLWxheWVyIC5hY2Vfc3RlcCB7XG4gIGJhY2tncm91bmQ6IHJnYigxMDIsIDgyLCAwKVxufVxuXG4uYWNlLWtyLXRoZW1lIC5hY2VfbWFya2VyLWxheWVyIC5hY2VfYnJhY2tldCB7XG4gIG1hcmdpbjogLTFweCAwIDAgLTFweDtcbiAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgyNTUsIDE3NywgMTExLCAwLjMyKVxufVxuXG4uYWNlLWtyLXRoZW1lIC5hY2VfbWFya2VyLWxheWVyIC5hY2VfYWN0aXZlLWxpbmUge1xuICBiYWNrZ3JvdW5kOiAjMzg0MDNEXG59XG5cbi5hY2Uta3ItdGhlbWUgLmFjZV9ndXR0ZXItYWN0aXZlLWxpbmUge1xuICBiYWNrZ3JvdW5kLWNvbG9yIDogIzM4NDAzRFxufVxuXG4uYWNlLWtyLXRoZW1lIC5hY2VfbWFya2VyLWxheWVyIC5hY2Vfc2VsZWN0ZWQtd29yZCB7XG4gIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMTcwLCAwLCAyNTUsIDAuNDUpXG59XG5cbi5hY2Uta3ItdGhlbWUgLmFjZV9pbnZpc2libGUge1xuICBjb2xvcjogcmdiYSgyNTUsIDE3NywgMTExLCAwLjMyKVxufVxuXG4uYWNlLWtyLXRoZW1lIC5hY2Vfa2V5d29yZCxcbi5hY2Uta3ItdGhlbWUgLmFjZV9tZXRhIHtcbiAgY29sb3I6ICM5NDlDOEJcbn1cblxuLmFjZS1rci10aGVtZSAuYWNlX2NvbnN0YW50LFxuLmFjZS1rci10aGVtZSAuYWNlX2NvbnN0YW50LmFjZV9jaGFyYWN0ZXIsXG4uYWNlLWtyLXRoZW1lIC5hY2VfY29uc3RhbnQuYWNlX2NoYXJhY3Rlci5hY2VfZXNjYXBlLFxuLmFjZS1rci10aGVtZSAuYWNlX2NvbnN0YW50LmFjZV9vdGhlciB7XG4gIGNvbG9yOiByZ2JhKDIxMCwgMTE3LCAyNCwgMC43Nilcbn1cblxuLmFjZS1rci10aGVtZSAuYWNlX2ludmFsaWQge1xuICBjb2xvcjogI0Y4RjhGODtcbiAgYmFja2dyb3VuZC1jb2xvcjogI0E0MTMwMFxufVxuXG4uYWNlLWtyLXRoZW1lIC5hY2Vfc3VwcG9ydCB7XG4gIGNvbG9yOiAjOUZDMjhBXG59XG5cbi5hY2Uta3ItdGhlbWUgLmFjZV9zdXBwb3J0LmFjZV9jb25zdGFudCB7XG4gIGNvbG9yOiAjQzI3RTY2XG59XG5cbi5hY2Uta3ItdGhlbWUgLmFjZV9mb2xkIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzk0OUM4QjtcbiAgYm9yZGVyLWNvbG9yOiAjRkNGRkUwXG59XG5cbi5hY2Uta3ItdGhlbWUgLmFjZV9zdXBwb3J0LmFjZV9mdW5jdGlvbiB7XG4gIGNvbG9yOiAjODU4NzNBXG59XG5cbi5hY2Uta3ItdGhlbWUgLmFjZV9zdG9yYWdlIHtcbiAgY29sb3I6ICNGRkVFODBcbn1cblxuLmFjZS1rci10aGVtZSAuYWNlX3N0cmluZyB7XG4gIGNvbG9yOiByZ2JhKDE2NCwgMTYxLCAxODEsIDAuOClcbn1cblxuLmFjZS1rci10aGVtZSAuYWNlX3N0cmluZy5hY2VfcmVnZXhwIHtcbiAgY29sb3I6IHJnYmEoMTI1LCAyNTUsIDE5MiwgMC42NSlcbn1cblxuLmFjZS1rci10aGVtZSAuYWNlX2NvbW1lbnQge1xuICBmb250LXN0eWxlOiBpdGFsaWM7XG4gIGNvbG9yOiAjNzA2RDVCXG59XG5cbi5hY2Uta3ItdGhlbWUgLmFjZV92YXJpYWJsZSB7XG4gIGNvbG9yOiAjRDFBNzk2XG59XG5cbi5hY2Uta3ItdGhlbWUgLmFjZV9saXN0LFxuLmFjZS1rci10aGVtZSAuYWNlX21hcmt1cC5hY2VfbGlzdCB7XG4gIGJhY2tncm91bmQtY29sb3I6ICMwRjAwNDBcbn1cblxuLmFjZS1rci10aGVtZSAuYWNlX3ZhcmlhYmxlLmFjZV9sYW5ndWFnZSB7XG4gIGNvbG9yOiAjRkY4MEUxXG59XG5cbi5hY2Uta3ItdGhlbWUgLmFjZV9tZXRhLmFjZV90YWcge1xuICBjb2xvcjogI0JBQkQ5Q1xufVxuXG4uYWNlLWtyLXRoZW1lIC5hY2VfaW5kZW50LWd1aWRlIHtcbiAgYmFja2dyb3VuZDogdXJsKGRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQUVBQUFBQ0NBWUFBQUNaZ2JZbkFBQUFFa2xFUVZRSW1XTmdZR0JnWUZCWFYvOFBBQUpvQVhYNGtUMkVBQUFBQUVsRlRrU3VRbUNDKSByaWdodCByZXBlYXQteVxufVxuXG4uYWNlLWtyLXRoZW1lIC5hY2VfaW5kZW50LWd1aWRlLWFjdGl2ZSB7XG4gIGJhY2tncm91bmQ6IHVybChcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQUVBQUFBQ0NBWUFBQUNaZ2JZbkFBQUFDWEJJV1hNQUFBc1RBQUFMRXdFQW1wd1lBQUFBSUdOSVVrMEFBSG9sQUFDQWd3QUErZjhBQUlEcEFBQjFNQUFBNm1BQUFEcVlBQUFYYjVKZnhVWUFBQUFaU1VSQlZIamFZdmovLy85L2hpdkt5djhCQUFBQS8vOERBQ0xxQmhidmsrL2VBQUFBQUVsRlRrU3VRbUNDXCIpIHJpZ2h0IHJlcGVhdC15O1xufVxuIjsKCn0pOwoKYWNlLmRlZmluZSgiYWNlL3RoZW1lL2tyX3RoZW1lIixbInJlcXVpcmUiLCJleHBvcnRzIiwibW9kdWxlIiwiYWNlL3RoZW1lL2tyX3RoZW1lLmNzcyIsImFjZS9saWIvZG9tIl0sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSl7ZXhwb3J0cy5pc0RhcmsgPSB0cnVlOwpleHBvcnRzLmNzc0NsYXNzID0gImFjZS1rci10aGVtZSI7CmV4cG9ydHMuY3NzVGV4dCA9IHJlcXVpcmUoIi4va3JfdGhlbWUuY3NzIik7CnZhciBkb20gPSByZXF1aXJlKCIuLi9saWIvZG9tIik7CmRvbS5pbXBvcnRDc3NTdHJpbmcoZXhwb3J0cy5jc3NUZXh0LCBleHBvcnRzLmNzc0NsYXNzLCBmYWxzZSk7Cgp9KTsgICAgICAgICAgICAgICAgKGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgIGFjZS5yZXF1aXJlKFsiYWNlL3RoZW1lL2tyX3RoZW1lIl0sIGZ1bmN0aW9uKG0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtb2R1bGUgPT0gIm9iamVjdCIgJiYgdHlwZW9mIGV4cG9ydHMgPT0gIm9iamVjdCIgJiYgbW9kdWxlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IG07CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pKCk7CiAgICAgICAgICAgIA==",modeJsonUrl="data:application/javascript;base64,YWNlLmRlZmluZSgiYWNlL21vZGUvanNvbl9oaWdobGlnaHRfcnVsZXMiLFsicmVxdWlyZSIsImV4cG9ydHMiLCJtb2R1bGUiLCJhY2UvbGliL29vcCIsImFjZS9tb2RlL3RleHRfaGlnaGxpZ2h0X3J1bGVzIl0sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSl7InVzZSBzdHJpY3QiOwp2YXIgb29wID0gcmVxdWlyZSgiLi4vbGliL29vcCIpOwp2YXIgVGV4dEhpZ2hsaWdodFJ1bGVzID0gcmVxdWlyZSgiLi90ZXh0X2hpZ2hsaWdodF9ydWxlcyIpLlRleHRIaWdobGlnaHRSdWxlczsKdmFyIEpzb25IaWdobGlnaHRSdWxlcyA9IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuJHJ1bGVzID0gewogICAgICAgICJzdGFydCI6IFsKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdG9rZW46ICJ2YXJpYWJsZSIsCiAgICAgICAgICAgICAgICByZWdleDogJ1siXSg/Oig/OlxcXFwuKXwoPzpbXiJcXFxcXSkpKj9bIl1cXHMqKD89OiknCiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgIHRva2VuOiAic3RyaW5nIiwKICAgICAgICAgICAgICAgIHJlZ2V4OiAnIicsCiAgICAgICAgICAgICAgICBuZXh0OiAic3RyaW5nIgogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICB0b2tlbjogImNvbnN0YW50Lm51bWVyaWMiLAogICAgICAgICAgICAgICAgcmVnZXg6ICIwW3hYXVswLTlhLWZBLUZdK1xcYiIKICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgdG9rZW46ICJjb25zdGFudC5udW1lcmljIiwKICAgICAgICAgICAgICAgIHJlZ2V4OiAiWystXT9cXGQrKD86KD86XFwuXFxkKik/KD86W2VFXVsrLV0/XFxkKyk/KT9cXGIiCiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgIHRva2VuOiAiY29uc3RhbnQubGFuZ3VhZ2UuYm9vbGVhbiIsCiAgICAgICAgICAgICAgICByZWdleDogIig/OnRydWV8ZmFsc2UpXFxiIgogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICB0b2tlbjogInRleHQiLAogICAgICAgICAgICAgICAgcmVnZXg6ICJbJ10oPzooPzpcXFxcLil8KD86W14nXFxcXF0pKSo/WyddIgogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICB0b2tlbjogImNvbW1lbnQiLAogICAgICAgICAgICAgICAgcmVnZXg6ICJcXC9cXC8uKiQiCiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgIHRva2VuOiAiY29tbWVudC5zdGFydCIsCiAgICAgICAgICAgICAgICByZWdleDogIlxcL1xcKiIsCiAgICAgICAgICAgICAgICBuZXh0OiAiY29tbWVudCIKICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgdG9rZW46ICJwYXJlbi5scGFyZW4iLAogICAgICAgICAgICAgICAgcmVnZXg6ICJbWyh7XSIKICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgdG9rZW46ICJwYXJlbi5ycGFyZW4iLAogICAgICAgICAgICAgICAgcmVnZXg6ICJbXFxdKX1dIgogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICB0b2tlbjogInB1bmN0dWF0aW9uLm9wZXJhdG9yIiwKICAgICAgICAgICAgICAgIHJlZ2V4OiAvWyxdLwogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICB0b2tlbjogInRleHQiLAogICAgICAgICAgICAgICAgcmVnZXg6ICJcXHMrIgogICAgICAgICAgICB9CiAgICAgICAgXSwKICAgICAgICAic3RyaW5nIjogWwogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB0b2tlbjogImNvbnN0YW50Lmxhbmd1YWdlLmVzY2FwZSIsCiAgICAgICAgICAgICAgICByZWdleDogL1xcKD86eFswLTlhLWZBLUZdezJ9fHVbMC05YS1mQS1GXXs0fXxbIlxcXC9iZm5ydF0pLwogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICB0b2tlbjogInN0cmluZyIsCiAgICAgICAgICAgICAgICByZWdleDogJyJ8JCcsCiAgICAgICAgICAgICAgICBuZXh0OiAic3RhcnQiCiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgIGRlZmF1bHRUb2tlbjogInN0cmluZyIKICAgICAgICAgICAgfQogICAgICAgIF0sCiAgICAgICAgImNvbW1lbnQiOiBbCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHRva2VuOiAiY29tbWVudC5lbmQiLAogICAgICAgICAgICAgICAgcmVnZXg6ICJcXCpcXC8iLAogICAgICAgICAgICAgICAgbmV4dDogInN0YXJ0IgogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICBkZWZhdWx0VG9rZW46ICJjb21tZW50IgogICAgICAgICAgICB9CiAgICAgICAgXQogICAgfTsKfTsKb29wLmluaGVyaXRzKEpzb25IaWdobGlnaHRSdWxlcywgVGV4dEhpZ2hsaWdodFJ1bGVzKTsKZXhwb3J0cy5Kc29uSGlnaGxpZ2h0UnVsZXMgPSBKc29uSGlnaGxpZ2h0UnVsZXM7Cgp9KTsKCmFjZS5kZWZpbmUoImFjZS9tb2RlL21hdGNoaW5nX2JyYWNlX291dGRlbnQiLFsicmVxdWlyZSIsImV4cG9ydHMiLCJtb2R1bGUiLCJhY2UvcmFuZ2UiXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKXsidXNlIHN0cmljdCI7CnZhciBSYW5nZSA9IHJlcXVpcmUoIi4uL3JhbmdlIikuUmFuZ2U7CnZhciBNYXRjaGluZ0JyYWNlT3V0ZGVudCA9IGZ1bmN0aW9uICgpIHsgfTsKKGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuY2hlY2tPdXRkZW50ID0gZnVuY3Rpb24gKGxpbmUsIGlucHV0KSB7CiAgICAgICAgaWYgKCEvXlxzKyQvLnRlc3QobGluZSkpCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICByZXR1cm4gL15ccypcfS8udGVzdChpbnB1dCk7CiAgICB9OwogICAgdGhpcy5hdXRvT3V0ZGVudCA9IGZ1bmN0aW9uIChkb2MsIHJvdykgewogICAgICAgIHZhciBsaW5lID0gZG9jLmdldExpbmUocm93KTsKICAgICAgICB2YXIgbWF0Y2ggPSBsaW5lLm1hdGNoKC9eKFxzKlx9KS8pOwogICAgICAgIGlmICghbWF0Y2gpCiAgICAgICAgICAgIHJldHVybiAwOwogICAgICAgIHZhciBjb2x1bW4gPSBtYXRjaFsxXS5sZW5ndGg7CiAgICAgICAgdmFyIG9wZW5CcmFjZVBvcyA9IGRvYy5maW5kTWF0Y2hpbmdCcmFja2V0KHsgcm93OiByb3csIGNvbHVtbjogY29sdW1uIH0pOwogICAgICAgIGlmICghb3BlbkJyYWNlUG9zIHx8IG9wZW5CcmFjZVBvcy5yb3cgPT0gcm93KQogICAgICAgICAgICByZXR1cm4gMDsKICAgICAgICB2YXIgaW5kZW50ID0gdGhpcy4kZ2V0SW5kZW50KGRvYy5nZXRMaW5lKG9wZW5CcmFjZVBvcy5yb3cpKTsKICAgICAgICBkb2MucmVwbGFjZShuZXcgUmFuZ2Uocm93LCAwLCByb3csIGNvbHVtbiAtIDEpLCBpbmRlbnQpOwogICAgfTsKICAgIHRoaXMuJGdldEluZGVudCA9IGZ1bmN0aW9uIChsaW5lKSB7CiAgICAgICAgcmV0dXJuIGxpbmUubWF0Y2goL15ccyovKVswXTsKICAgIH07Cn0pLmNhbGwoTWF0Y2hpbmdCcmFjZU91dGRlbnQucHJvdG90eXBlKTsKZXhwb3J0cy5NYXRjaGluZ0JyYWNlT3V0ZGVudCA9IE1hdGNoaW5nQnJhY2VPdXRkZW50OwoKfSk7CgphY2UuZGVmaW5lKCJhY2UvbW9kZS9mb2xkaW5nL2NzdHlsZSIsWyJyZXF1aXJlIiwiZXhwb3J0cyIsIm1vZHVsZSIsImFjZS9saWIvb29wIiwiYWNlL3JhbmdlIiwiYWNlL21vZGUvZm9sZGluZy9mb2xkX21vZGUiXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKXsidXNlIHN0cmljdCI7CnZhciBvb3AgPSByZXF1aXJlKCIuLi8uLi9saWIvb29wIik7CnZhciBSYW5nZSA9IHJlcXVpcmUoIi4uLy4uL3JhbmdlIikuUmFuZ2U7CnZhciBCYXNlRm9sZE1vZGUgPSByZXF1aXJlKCIuL2ZvbGRfbW9kZSIpLkZvbGRNb2RlOwp2YXIgRm9sZE1vZGUgPSBleHBvcnRzLkZvbGRNb2RlID0gZnVuY3Rpb24gKGNvbW1lbnRSZWdleCkgewogICAgaWYgKGNvbW1lbnRSZWdleCkgewogICAgICAgIHRoaXMuZm9sZGluZ1N0YXJ0TWFya2VyID0gbmV3IFJlZ0V4cCh0aGlzLmZvbGRpbmdTdGFydE1hcmtlci5zb3VyY2UucmVwbGFjZSgvXHxbXnxdKj8kLywgInwiICsgY29tbWVudFJlZ2V4LnN0YXJ0KSk7CiAgICAgICAgdGhpcy5mb2xkaW5nU3RvcE1hcmtlciA9IG5ldyBSZWdFeHAodGhpcy5mb2xkaW5nU3RvcE1hcmtlci5zb3VyY2UucmVwbGFjZSgvXHxbXnxdKj8kLywgInwiICsgY29tbWVudFJlZ2V4LmVuZCkpOwogICAgfQp9Owpvb3AuaW5oZXJpdHMoRm9sZE1vZGUsIEJhc2VGb2xkTW9kZSk7CihmdW5jdGlvbiAoKSB7CiAgICB0aGlzLmZvbGRpbmdTdGFydE1hcmtlciA9IC8oW1x7XFtcKF0pW15cfVxdXCldKiR8XlxzKihcL1wqKS87CiAgICB0aGlzLmZvbGRpbmdTdG9wTWFya2VyID0gL15bXlxbXHtcKF0qKFtcfVxdXCldKXxeW1xzXCpdKihcKlwvKS87CiAgICB0aGlzLnNpbmdsZUxpbmVCbG9ja0NvbW1lbnRSZSA9IC9eXHMqKFwvXCopLipcKlwvXHMqJC87CiAgICB0aGlzLnRyaXBsZVN0YXJCbG9ja0NvbW1lbnRSZSA9IC9eXHMqKFwvXCpcKlwqKS4qXCpcL1xzKiQvOwogICAgdGhpcy5zdGFydFJlZ2lvblJlID0gL15ccyooXC9cKnxcL1wvKSM/cmVnaW9uXGIvOwogICAgdGhpcy5fZ2V0Rm9sZFdpZGdldEJhc2UgPSB0aGlzLmdldEZvbGRXaWRnZXQ7CiAgICB0aGlzLmdldEZvbGRXaWRnZXQgPSBmdW5jdGlvbiAoc2Vzc2lvbiwgZm9sZFN0eWxlLCByb3cpIHsKICAgICAgICB2YXIgbGluZSA9IHNlc3Npb24uZ2V0TGluZShyb3cpOwogICAgICAgIGlmICh0aGlzLnNpbmdsZUxpbmVCbG9ja0NvbW1lbnRSZS50ZXN0KGxpbmUpKSB7CiAgICAgICAgICAgIGlmICghdGhpcy5zdGFydFJlZ2lvblJlLnRlc3QobGluZSkgJiYgIXRoaXMudHJpcGxlU3RhckJsb2NrQ29tbWVudFJlLnRlc3QobGluZSkpCiAgICAgICAgICAgICAgICByZXR1cm4gIiI7CiAgICAgICAgfQogICAgICAgIHZhciBmdyA9IHRoaXMuX2dldEZvbGRXaWRnZXRCYXNlKHNlc3Npb24sIGZvbGRTdHlsZSwgcm93KTsKICAgICAgICBpZiAoIWZ3ICYmIHRoaXMuc3RhcnRSZWdpb25SZS50ZXN0KGxpbmUpKQogICAgICAgICAgICByZXR1cm4gInN0YXJ0IjsgLy8gbGluZUNvbW1lbnRSZWdpb25TdGFydAogICAgICAgIHJldHVybiBmdzsKICAgIH07CiAgICB0aGlzLmdldEZvbGRXaWRnZXRSYW5nZSA9IGZ1bmN0aW9uIChzZXNzaW9uLCBmb2xkU3R5bGUsIHJvdywgZm9yY2VNdWx0aWxpbmUpIHsKICAgICAgICB2YXIgbGluZSA9IHNlc3Npb24uZ2V0TGluZShyb3cpOwogICAgICAgIGlmICh0aGlzLnN0YXJ0UmVnaW9uUmUudGVzdChsaW5lKSkKICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q29tbWVudFJlZ2lvbkJsb2NrKHNlc3Npb24sIGxpbmUsIHJvdyk7CiAgICAgICAgdmFyIG1hdGNoID0gbGluZS5tYXRjaCh0aGlzLmZvbGRpbmdTdGFydE1hcmtlcik7CiAgICAgICAgaWYgKG1hdGNoKSB7CiAgICAgICAgICAgIHZhciBpID0gbWF0Y2guaW5kZXg7CiAgICAgICAgICAgIGlmIChtYXRjaFsxXSkKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm9wZW5pbmdCcmFja2V0QmxvY2soc2Vzc2lvbiwgbWF0Y2hbMV0sIHJvdywgaSk7CiAgICAgICAgICAgIHZhciByYW5nZSA9IHNlc3Npb24uZ2V0Q29tbWVudEZvbGRSYW5nZShyb3csIGkgKyBtYXRjaFswXS5sZW5ndGgsIDEpOwogICAgICAgICAgICBpZiAocmFuZ2UgJiYgIXJhbmdlLmlzTXVsdGlMaW5lKCkpIHsKICAgICAgICAgICAgICAgIGlmIChmb3JjZU11bHRpbGluZSkgewogICAgICAgICAgICAgICAgICAgIHJhbmdlID0gdGhpcy5nZXRTZWN0aW9uUmFuZ2Uoc2Vzc2lvbiwgcm93KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgaWYgKGZvbGRTdHlsZSAhPSAiYWxsIikKICAgICAgICAgICAgICAgICAgICByYW5nZSA9IG51bGw7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHJhbmdlOwogICAgICAgIH0KICAgICAgICBpZiAoZm9sZFN0eWxlID09PSAibWFya2JlZ2luIikKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIHZhciBtYXRjaCA9IGxpbmUubWF0Y2godGhpcy5mb2xkaW5nU3RvcE1hcmtlcik7CiAgICAgICAgaWYgKG1hdGNoKSB7CiAgICAgICAgICAgIHZhciBpID0gbWF0Y2guaW5kZXggKyBtYXRjaFswXS5sZW5ndGg7CiAgICAgICAgICAgIGlmIChtYXRjaFsxXSkKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNsb3NpbmdCcmFja2V0QmxvY2soc2Vzc2lvbiwgbWF0Y2hbMV0sIHJvdywgaSk7CiAgICAgICAgICAgIHJldHVybiBzZXNzaW9uLmdldENvbW1lbnRGb2xkUmFuZ2Uocm93LCBpLCAtMSk7CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMuZ2V0U2VjdGlvblJhbmdlID0gZnVuY3Rpb24gKHNlc3Npb24sIHJvdykgewogICAgICAgIHZhciBsaW5lID0gc2Vzc2lvbi5nZXRMaW5lKHJvdyk7CiAgICAgICAgdmFyIHN0YXJ0SW5kZW50ID0gbGluZS5zZWFyY2goL1xTLyk7CiAgICAgICAgdmFyIHN0YXJ0Um93ID0gcm93OwogICAgICAgIHZhciBzdGFydENvbHVtbiA9IGxpbmUubGVuZ3RoOwogICAgICAgIHJvdyA9IHJvdyArIDE7CiAgICAgICAgdmFyIGVuZFJvdyA9IHJvdzsKICAgICAgICB2YXIgbWF4Um93ID0gc2Vzc2lvbi5nZXRMZW5ndGgoKTsKICAgICAgICB3aGlsZSAoKytyb3cgPCBtYXhSb3cpIHsKICAgICAgICAgICAgbGluZSA9IHNlc3Npb24uZ2V0TGluZShyb3cpOwogICAgICAgICAgICB2YXIgaW5kZW50ID0gbGluZS5zZWFyY2goL1xTLyk7CiAgICAgICAgICAgIGlmIChpbmRlbnQgPT09IC0xKQogICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgIGlmIChzdGFydEluZGVudCA+IGluZGVudCkKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB2YXIgc3ViUmFuZ2UgPSB0aGlzLmdldEZvbGRXaWRnZXRSYW5nZShzZXNzaW9uLCAiYWxsIiwgcm93KTsKICAgICAgICAgICAgaWYgKHN1YlJhbmdlKSB7CiAgICAgICAgICAgICAgICBpZiAoc3ViUmFuZ2Uuc3RhcnQucm93IDw9IHN0YXJ0Um93KSB7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIGlmIChzdWJSYW5nZS5pc011bHRpTGluZSgpKSB7CiAgICAgICAgICAgICAgICAgICAgcm93ID0gc3ViUmFuZ2UuZW5kLnJvdzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgaWYgKHN0YXJ0SW5kZW50ID09IGluZGVudCkgewogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVuZFJvdyA9IHJvdzsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIG5ldyBSYW5nZShzdGFydFJvdywgc3RhcnRDb2x1bW4sIGVuZFJvdywgc2Vzc2lvbi5nZXRMaW5lKGVuZFJvdykubGVuZ3RoKTsKICAgIH07CiAgICB0aGlzLmdldENvbW1lbnRSZWdpb25CbG9jayA9IGZ1bmN0aW9uIChzZXNzaW9uLCBsaW5lLCByb3cpIHsKICAgICAgICB2YXIgc3RhcnRDb2x1bW4gPSBsaW5lLnNlYXJjaCgvXHMqJC8pOwogICAgICAgIHZhciBtYXhSb3cgPSBzZXNzaW9uLmdldExlbmd0aCgpOwogICAgICAgIHZhciBzdGFydFJvdyA9IHJvdzsKICAgICAgICB2YXIgcmUgPSAvXlxzKig/OlwvXCp8XC9cL3wtLSkjPyhlbmQpP3JlZ2lvblxiLzsKICAgICAgICB2YXIgZGVwdGggPSAxOwogICAgICAgIHdoaWxlICgrK3JvdyA8IG1heFJvdykgewogICAgICAgICAgICBsaW5lID0gc2Vzc2lvbi5nZXRMaW5lKHJvdyk7CiAgICAgICAgICAgIHZhciBtID0gcmUuZXhlYyhsaW5lKTsKICAgICAgICAgICAgaWYgKCFtKQogICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgIGlmIChtWzFdKQogICAgICAgICAgICAgICAgZGVwdGgtLTsKICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgZGVwdGgrKzsKICAgICAgICAgICAgaWYgKCFkZXB0aCkKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgICB2YXIgZW5kUm93ID0gcm93OwogICAgICAgIGlmIChlbmRSb3cgPiBzdGFydFJvdykgewogICAgICAgICAgICByZXR1cm4gbmV3IFJhbmdlKHN0YXJ0Um93LCBzdGFydENvbHVtbiwgZW5kUm93LCBsaW5lLmxlbmd0aCk7CiAgICAgICAgfQogICAgfTsKfSkuY2FsbChGb2xkTW9kZS5wcm90b3R5cGUpOwoKfSk7CgphY2UuZGVmaW5lKCJhY2UvbW9kZS9qc29uIixbInJlcXVpcmUiLCJleHBvcnRzIiwibW9kdWxlIiwiYWNlL2xpYi9vb3AiLCJhY2UvbW9kZS90ZXh0IiwiYWNlL21vZGUvanNvbl9oaWdobGlnaHRfcnVsZXMiLCJhY2UvbW9kZS9tYXRjaGluZ19icmFjZV9vdXRkZW50IiwiYWNlL21vZGUvYmVoYXZpb3VyL2NzdHlsZSIsImFjZS9tb2RlL2ZvbGRpbmcvY3N0eWxlIiwiYWNlL3dvcmtlci93b3JrZXJfY2xpZW50Il0sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSl7InVzZSBzdHJpY3QiOwp2YXIgb29wID0gcmVxdWlyZSgiLi4vbGliL29vcCIpOwp2YXIgVGV4dE1vZGUgPSByZXF1aXJlKCIuL3RleHQiKS5Nb2RlOwp2YXIgSGlnaGxpZ2h0UnVsZXMgPSByZXF1aXJlKCIuL2pzb25faGlnaGxpZ2h0X3J1bGVzIikuSnNvbkhpZ2hsaWdodFJ1bGVzOwp2YXIgTWF0Y2hpbmdCcmFjZU91dGRlbnQgPSByZXF1aXJlKCIuL21hdGNoaW5nX2JyYWNlX291dGRlbnQiKS5NYXRjaGluZ0JyYWNlT3V0ZGVudDsKdmFyIENzdHlsZUJlaGF2aW91ciA9IHJlcXVpcmUoIi4vYmVoYXZpb3VyL2NzdHlsZSIpLkNzdHlsZUJlaGF2aW91cjsKdmFyIENTdHlsZUZvbGRNb2RlID0gcmVxdWlyZSgiLi9mb2xkaW5nL2NzdHlsZSIpLkZvbGRNb2RlOwp2YXIgV29ya2VyQ2xpZW50ID0gcmVxdWlyZSgiLi4vd29ya2VyL3dvcmtlcl9jbGllbnQiKS5Xb3JrZXJDbGllbnQ7CnZhciBNb2RlID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy5IaWdobGlnaHRSdWxlcyA9IEhpZ2hsaWdodFJ1bGVzOwogICAgdGhpcy4kb3V0ZGVudCA9IG5ldyBNYXRjaGluZ0JyYWNlT3V0ZGVudCgpOwogICAgdGhpcy4kYmVoYXZpb3VyID0gbmV3IENzdHlsZUJlaGF2aW91cigpOwogICAgdGhpcy5mb2xkaW5nUnVsZXMgPSBuZXcgQ1N0eWxlRm9sZE1vZGUoKTsKfTsKb29wLmluaGVyaXRzKE1vZGUsIFRleHRNb2RlKTsKKGZ1bmN0aW9uICgpIHsKICAgIHRoaXMubGluZUNvbW1lbnRTdGFydCA9ICIvLyI7CiAgICB0aGlzLmJsb2NrQ29tbWVudCA9IHsgc3RhcnQ6ICIvKiIsIGVuZDogIiovIiB9OwogICAgdGhpcy5nZXROZXh0TGluZUluZGVudCA9IGZ1bmN0aW9uIChzdGF0ZSwgbGluZSwgdGFiKSB7CiAgICAgICAgdmFyIGluZGVudCA9IHRoaXMuJGdldEluZGVudChsaW5lKTsKICAgICAgICBpZiAoc3RhdGUgPT0gInN0YXJ0IikgewogICAgICAgICAgICB2YXIgbWF0Y2ggPSBsaW5lLm1hdGNoKC9eLipbXHtcKFxbXVxzKiQvKTsKICAgICAgICAgICAgaWYgKG1hdGNoKSB7CiAgICAgICAgICAgICAgICBpbmRlbnQgKz0gdGFiOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBpbmRlbnQ7CiAgICB9OwogICAgdGhpcy5jaGVja091dGRlbnQgPSBmdW5jdGlvbiAoc3RhdGUsIGxpbmUsIGlucHV0KSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJG91dGRlbnQuY2hlY2tPdXRkZW50KGxpbmUsIGlucHV0KTsKICAgIH07CiAgICB0aGlzLmF1dG9PdXRkZW50ID0gZnVuY3Rpb24gKHN0YXRlLCBkb2MsIHJvdykgewogICAgICAgIHRoaXMuJG91dGRlbnQuYXV0b091dGRlbnQoZG9jLCByb3cpOwogICAgfTsKICAgIHRoaXMuY3JlYXRlV29ya2VyID0gZnVuY3Rpb24gKHNlc3Npb24pIHsKICAgICAgICB2YXIgd29ya2VyID0gbmV3IFdvcmtlckNsaWVudChbImFjZSJdLCAiYWNlL21vZGUvanNvbl93b3JrZXIiLCAiSnNvbldvcmtlciIpOwogICAgICAgIHdvcmtlci5hdHRhY2hUb0RvY3VtZW50KHNlc3Npb24uZ2V0RG9jdW1lbnQoKSk7CiAgICAgICAgd29ya2VyLm9uKCJhbm5vdGF0ZSIsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIHNlc3Npb24uc2V0QW5ub3RhdGlvbnMoZS5kYXRhKTsKICAgICAgICB9KTsKICAgICAgICB3b3JrZXIub24oInRlcm1pbmF0ZSIsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgc2Vzc2lvbi5jbGVhckFubm90YXRpb25zKCk7CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIHdvcmtlcjsKICAgIH07CiAgICB0aGlzLiRpZCA9ICJhY2UvbW9kZS9qc29uIjsKfSkuY2FsbChNb2RlLnByb3RvdHlwZSk7CmV4cG9ydHMuTW9kZSA9IE1vZGU7Cgp9KTsgICAgICAgICAgICAgICAgKGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgIGFjZS5yZXF1aXJlKFsiYWNlL21vZGUvanNvbiJdLCBmdW5jdGlvbihtKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbW9kdWxlID09ICJvYmplY3QiICYmIHR5cGVvZiBleHBvcnRzID09ICJvYmplY3QiICYmIG1vZHVsZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBtOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KSgpOwogICAgICAgICAgICA=",workerJsonUrl="data:application/javascript;base64,Im5vIHVzZSBzdHJpY3QiOwohKGZ1bmN0aW9uKHdpbmRvdykgewppZiAodHlwZW9mIHdpbmRvdy53aW5kb3cgIT0gInVuZGVmaW5lZCIgJiYgd2luZG93LmRvY3VtZW50KQogICAgcmV0dXJuOwppZiAod2luZG93LnJlcXVpcmUgJiYgd2luZG93LmRlZmluZSkKICAgIHJldHVybjsKCmlmICghd2luZG93LmNvbnNvbGUpIHsKICAgIHdpbmRvdy5jb25zb2xlID0gZnVuY3Rpb24oKSB7CiAgICAgICAgdmFyIG1zZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDApOwogICAgICAgIHBvc3RNZXNzYWdlKHt0eXBlOiAibG9nIiwgZGF0YTogbXNnc30pOwogICAgfTsKICAgIHdpbmRvdy5jb25zb2xlLmVycm9yID0KICAgIHdpbmRvdy5jb25zb2xlLndhcm4gPSAKICAgIHdpbmRvdy5jb25zb2xlLmxvZyA9CiAgICB3aW5kb3cuY29uc29sZS50cmFjZSA9IHdpbmRvdy5jb25zb2xlOwp9CndpbmRvdy53aW5kb3cgPSB3aW5kb3c7CndpbmRvdy5hY2UgPSB3aW5kb3c7Cgp3aW5kb3cub25lcnJvciA9IGZ1bmN0aW9uKG1lc3NhZ2UsIGZpbGUsIGxpbmUsIGNvbCwgZXJyKSB7CiAgICBwb3N0TWVzc2FnZSh7dHlwZTogImVycm9yIiwgZGF0YTogewogICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsCiAgICAgICAgZGF0YTogZXJyICYmIGVyci5kYXRhLAogICAgICAgIGZpbGU6IGZpbGUsCiAgICAgICAgbGluZTogbGluZSwgCiAgICAgICAgY29sOiBjb2wsCiAgICAgICAgc3RhY2s6IGVyciAmJiBlcnIuc3RhY2sKICAgIH19KTsKfTsKCndpbmRvdy5ub3JtYWxpemVNb2R1bGUgPSBmdW5jdGlvbihwYXJlbnRJZCwgbW9kdWxlTmFtZSkgewogICAgLy8gbm9ybWFsaXplIHBsdWdpbiByZXF1aXJlcwogICAgaWYgKG1vZHVsZU5hbWUuaW5kZXhPZigiISIpICE9PSAtMSkgewogICAgICAgIHZhciBjaHVua3MgPSBtb2R1bGVOYW1lLnNwbGl0KCIhIik7CiAgICAgICAgcmV0dXJuIHdpbmRvdy5ub3JtYWxpemVNb2R1bGUocGFyZW50SWQsIGNodW5rc1swXSkgKyAiISIgKyB3aW5kb3cubm9ybWFsaXplTW9kdWxlKHBhcmVudElkLCBjaHVua3NbMV0pOwogICAgfQogICAgLy8gbm9ybWFsaXplIHJlbGF0aXZlIHJlcXVpcmVzCiAgICBpZiAobW9kdWxlTmFtZS5jaGFyQXQoMCkgPT0gIi4iKSB7CiAgICAgICAgdmFyIGJhc2UgPSBwYXJlbnRJZC5zcGxpdCgiLyIpLnNsaWNlKDAsIC0xKS5qb2luKCIvIik7CiAgICAgICAgbW9kdWxlTmFtZSA9IChiYXNlID8gYmFzZSArICIvIiA6ICIiKSArIG1vZHVsZU5hbWU7CiAgICAgICAgCiAgICAgICAgd2hpbGUgKG1vZHVsZU5hbWUuaW5kZXhPZigiLiIpICE9PSAtMSAmJiBwcmV2aW91cyAhPSBtb2R1bGVOYW1lKSB7CiAgICAgICAgICAgIHZhciBwcmV2aW91cyA9IG1vZHVsZU5hbWU7CiAgICAgICAgICAgIG1vZHVsZU5hbWUgPSBtb2R1bGVOYW1lLnJlcGxhY2UoL15cLlwvLywgIiIpLnJlcGxhY2UoL1wvXC5cLy8sICIvIikucmVwbGFjZSgvW15cL10rXC9cLlwuXC8vLCAiIik7CiAgICAgICAgfQogICAgfQogICAgCiAgICByZXR1cm4gbW9kdWxlTmFtZTsKfTsKCndpbmRvdy5yZXF1aXJlID0gZnVuY3Rpb24gcmVxdWlyZShwYXJlbnRJZCwgaWQpIHsKICAgIGlmICghaWQpIHsKICAgICAgICBpZCA9IHBhcmVudElkOwogICAgICAgIHBhcmVudElkID0gbnVsbDsKICAgIH0KICAgIGlmICghaWQuY2hhckF0KQogICAgICAgIHRocm93IG5ldyBFcnJvcigid29ya2VyLmpzIHJlcXVpcmUoKSBhY2NlcHRzIG9ubHkgKHBhcmVudElkLCBpZCkgYXMgYXJndW1lbnRzIik7CgogICAgaWQgPSB3aW5kb3cubm9ybWFsaXplTW9kdWxlKHBhcmVudElkLCBpZCk7CgogICAgdmFyIG1vZHVsZSA9IHdpbmRvdy5yZXF1aXJlLm1vZHVsZXNbaWRdOwogICAgaWYgKG1vZHVsZSkgewogICAgICAgIGlmICghbW9kdWxlLmluaXRpYWxpemVkKSB7CiAgICAgICAgICAgIG1vZHVsZS5pbml0aWFsaXplZCA9IHRydWU7CiAgICAgICAgICAgIG1vZHVsZS5leHBvcnRzID0gbW9kdWxlLmZhY3RvcnkoKS5leHBvcnRzOwogICAgICAgIH0KICAgICAgICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7CiAgICB9CiAgIAogICAgaWYgKCF3aW5kb3cucmVxdWlyZS50bG5zKQogICAgICAgIHJldHVybiBjb25zb2xlLmxvZygidW5hYmxlIHRvIGxvYWQgIiArIGlkKTsKICAgIAogICAgdmFyIHBhdGggPSByZXNvbHZlTW9kdWxlSWQoaWQsIHdpbmRvdy5yZXF1aXJlLnRsbnMpOwogICAgaWYgKHBhdGguc2xpY2UoLTMpICE9ICIuanMiKSBwYXRoICs9ICIuanMiOwogICAgCiAgICB3aW5kb3cucmVxdWlyZS5pZCA9IGlkOwogICAgd2luZG93LnJlcXVpcmUubW9kdWxlc1tpZF0gPSB7fTsgLy8gcHJldmVudCBpbmZpbml0ZSBsb29wIG9uIGJyb2tlbiBtb2R1bGVzCiAgICBpbXBvcnRTY3JpcHRzKHBhdGgpOwogICAgcmV0dXJuIHdpbmRvdy5yZXF1aXJlKHBhcmVudElkLCBpZCk7Cn07CmZ1bmN0aW9uIHJlc29sdmVNb2R1bGVJZChpZCwgcGF0aHMpIHsKICAgIHZhciB0ZXN0UGF0aCA9IGlkLCB0YWlsID0gIiI7CiAgICB3aGlsZSAodGVzdFBhdGgpIHsKICAgICAgICB2YXIgYWxpYXMgPSBwYXRoc1t0ZXN0UGF0aF07CiAgICAgICAgaWYgKHR5cGVvZiBhbGlhcyA9PSAic3RyaW5nIikgewogICAgICAgICAgICByZXR1cm4gYWxpYXMgKyB0YWlsOwogICAgICAgIH0gZWxzZSBpZiAoYWxpYXMpIHsKICAgICAgICAgICAgcmV0dXJuICBhbGlhcy5sb2NhdGlvbi5yZXBsYWNlKC9cLyokLywgIi8iKSArICh0YWlsIHx8IGFsaWFzLm1haW4gfHwgYWxpYXMubmFtZSk7CiAgICAgICAgfSBlbHNlIGlmIChhbGlhcyA9PT0gZmFsc2UpIHsKICAgICAgICAgICAgcmV0dXJuICIiOwogICAgICAgIH0KICAgICAgICB2YXIgaSA9IHRlc3RQYXRoLmxhc3RJbmRleE9mKCIvIik7CiAgICAgICAgaWYgKGkgPT09IC0xKSBicmVhazsKICAgICAgICB0YWlsID0gdGVzdFBhdGguc3Vic3RyKGkpICsgdGFpbDsKICAgICAgICB0ZXN0UGF0aCA9IHRlc3RQYXRoLnNsaWNlKDAsIGkpOwogICAgfQogICAgcmV0dXJuIGlkOwp9CndpbmRvdy5yZXF1aXJlLm1vZHVsZXMgPSB7fTsKd2luZG93LnJlcXVpcmUudGxucyA9IHt9OwoKd2luZG93LmRlZmluZSA9IGZ1bmN0aW9uKGlkLCBkZXBzLCBmYWN0b3J5KSB7CiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PSAyKSB7CiAgICAgICAgZmFjdG9yeSA9IGRlcHM7CiAgICAgICAgaWYgKHR5cGVvZiBpZCAhPSAic3RyaW5nIikgewogICAgICAgICAgICBkZXBzID0gaWQ7CiAgICAgICAgICAgIGlkID0gd2luZG93LnJlcXVpcmUuaWQ7CiAgICAgICAgfQogICAgfSBlbHNlIGlmIChhcmd1bWVudHMubGVuZ3RoID09IDEpIHsKICAgICAgICBmYWN0b3J5ID0gaWQ7CiAgICAgICAgZGVwcyA9IFtdOwogICAgICAgIGlkID0gd2luZG93LnJlcXVpcmUuaWQ7CiAgICB9CiAgICAKICAgIGlmICh0eXBlb2YgZmFjdG9yeSAhPSAiZnVuY3Rpb24iKSB7CiAgICAgICAgd2luZG93LnJlcXVpcmUubW9kdWxlc1tpZF0gPSB7CiAgICAgICAgICAgIGV4cG9ydHM6IGZhY3RvcnksCiAgICAgICAgICAgIGluaXRpYWxpemVkOiB0cnVlCiAgICAgICAgfTsKICAgICAgICByZXR1cm47CiAgICB9CgogICAgaWYgKCFkZXBzLmxlbmd0aCkKICAgICAgICAvLyBJZiB0aGVyZSBpcyBubyBkZXBlbmRlbmNpZXMsIHdlIGluamVjdCAicmVxdWlyZSIsICJleHBvcnRzIiBhbmQKICAgICAgICAvLyAibW9kdWxlIiBhcyBkZXBlbmRlbmNpZXMsIHRvIHByb3ZpZGUgQ29tbW9uSlMgY29tcGF0aWJpbGl0eS4KICAgICAgICBkZXBzID0gWyJyZXF1aXJlIiwgImV4cG9ydHMiLCAibW9kdWxlIl07CgogICAgdmFyIHJlcSA9IGZ1bmN0aW9uKGNoaWxkSWQpIHsKICAgICAgICByZXR1cm4gd2luZG93LnJlcXVpcmUoaWQsIGNoaWxkSWQpOwogICAgfTsKCiAgICB3aW5kb3cucmVxdWlyZS5tb2R1bGVzW2lkXSA9IHsKICAgICAgICBleHBvcnRzOiB7fSwKICAgICAgICBmYWN0b3J5OiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgdmFyIG1vZHVsZSA9IHRoaXM7CiAgICAgICAgICAgIHZhciByZXR1cm5FeHBvcnRzID0gZmFjdG9yeS5hcHBseSh0aGlzLCBkZXBzLnNsaWNlKDAsIGZhY3RvcnkubGVuZ3RoKS5tYXAoZnVuY3Rpb24oZGVwKSB7CiAgICAgICAgICAgICAgICBzd2l0Y2ggKGRlcCkgewogICAgICAgICAgICAgICAgICAgIC8vIEJlY2F1c2UgInJlcXVpcmUiLCAiZXhwb3J0cyIgYW5kICJtb2R1bGUiIGFyZW4ndCBhY3R1YWwKICAgICAgICAgICAgICAgICAgICAvLyBkZXBlbmRlbmNpZXMsIHdlIG11c3QgaGFuZGxlIHRoZW0gc2VwZXJhdGVseS4KICAgICAgICAgICAgICAgICAgICBjYXNlICJyZXF1aXJlIjogcmV0dXJuIHJlcTsKICAgICAgICAgICAgICAgICAgICBjYXNlICJleHBvcnRzIjogcmV0dXJuIG1vZHVsZS5leHBvcnRzOwogICAgICAgICAgICAgICAgICAgIGNhc2UgIm1vZHVsZSI6ICByZXR1cm4gbW9kdWxlOwogICAgICAgICAgICAgICAgICAgIC8vIEJ1dCBmb3IgYWxsIG90aGVyIGRlcGVuZGVuY2llcywgd2UgY2FuIGp1c3QgZ28gYWhlYWQgYW5kCiAgICAgICAgICAgICAgICAgICAgLy8gcmVxdWlyZSB0aGVtLgogICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6ICAgICAgICByZXR1cm4gcmVxKGRlcCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pKTsKICAgICAgICAgICAgaWYgKHJldHVybkV4cG9ydHMpCiAgICAgICAgICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IHJldHVybkV4cG9ydHM7CiAgICAgICAgICAgIHJldHVybiBtb2R1bGU7CiAgICAgICAgfQogICAgfTsKfTsKd2luZG93LmRlZmluZS5hbWQgPSB7fTsKd2luZG93LnJlcXVpcmUudGxucyA9IHt9Owp3aW5kb3cuaW5pdEJhc2VVcmxzICA9IGZ1bmN0aW9uIGluaXRCYXNlVXJscyh0b3BMZXZlbE5hbWVzcGFjZXMpIHsKICAgIGZvciAodmFyIGkgaW4gdG9wTGV2ZWxOYW1lc3BhY2VzKQogICAgICAgIHRoaXMucmVxdWlyZS50bG5zW2ldID0gdG9wTGV2ZWxOYW1lc3BhY2VzW2ldOwp9OwoKd2luZG93LmluaXRTZW5kZXIgPSBmdW5jdGlvbiBpbml0U2VuZGVyKCkgewoKICAgIHZhciBFdmVudEVtaXR0ZXIgPSB3aW5kb3cucmVxdWlyZSgiYWNlL2xpYi9ldmVudF9lbWl0dGVyIikuRXZlbnRFbWl0dGVyOwogICAgdmFyIG9vcCA9IHdpbmRvdy5yZXF1aXJlKCJhY2UvbGliL29vcCIpOwogICAgCiAgICB2YXIgU2VuZGVyID0gZnVuY3Rpb24oKSB7fTsKICAgIAogICAgKGZ1bmN0aW9uKCkgewogICAgICAgIAogICAgICAgIG9vcC5pbXBsZW1lbnQodGhpcywgRXZlbnRFbWl0dGVyKTsKICAgICAgICAgICAgICAgIAogICAgICAgIHRoaXMuY2FsbGJhY2sgPSBmdW5jdGlvbihkYXRhLCBjYWxsYmFja0lkKSB7CiAgICAgICAgICAgIHBvc3RNZXNzYWdlKHsKICAgICAgICAgICAgICAgIHR5cGU6ICJjYWxsIiwKICAgICAgICAgICAgICAgIGlkOiBjYWxsYmFja0lkLAogICAgICAgICAgICAgICAgZGF0YTogZGF0YQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgCiAgICAgICAgdGhpcy5lbWl0ID0gZnVuY3Rpb24obmFtZSwgZGF0YSkgewogICAgICAgICAgICBwb3N0TWVzc2FnZSh7CiAgICAgICAgICAgICAgICB0eXBlOiAiZXZlbnQiLAogICAgICAgICAgICAgICAgbmFtZTogbmFtZSwKICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEKICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICAKICAgIH0pLmNhbGwoU2VuZGVyLnByb3RvdHlwZSk7CiAgICAKICAgIHJldHVybiBuZXcgU2VuZGVyKCk7Cn07Cgp2YXIgbWFpbiA9IHdpbmRvdy5tYWluID0gbnVsbDsKdmFyIHNlbmRlciA9IHdpbmRvdy5zZW5kZXIgPSBudWxsOwoKd2luZG93Lm9ubWVzc2FnZSA9IGZ1bmN0aW9uKGUpIHsKICAgIHZhciBtc2cgPSBlLmRhdGE7CiAgICBpZiAobXNnLmV2ZW50ICYmIHNlbmRlcikgewogICAgICAgIHNlbmRlci5fc2lnbmFsKG1zZy5ldmVudCwgbXNnLmRhdGEpOwogICAgfQogICAgZWxzZSBpZiAobXNnLmNvbW1hbmQpIHsKICAgICAgICBpZiAobWFpblttc2cuY29tbWFuZF0pCiAgICAgICAgICAgIG1haW5bbXNnLmNvbW1hbmRdLmFwcGx5KG1haW4sIG1zZy5hcmdzKTsKICAgICAgICBlbHNlIGlmICh3aW5kb3dbbXNnLmNvbW1hbmRdKQogICAgICAgICAgICB3aW5kb3dbbXNnLmNvbW1hbmRdLmFwcGx5KHdpbmRvdywgbXNnLmFyZ3MpOwogICAgICAgIGVsc2UKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJVbmtub3duIGNvbW1hbmQ6IiArIG1zZy5jb21tYW5kKTsKICAgIH0KICAgIGVsc2UgaWYgKG1zZy5pbml0KSB7CiAgICAgICAgd2luZG93LmluaXRCYXNlVXJscyhtc2cudGxucyk7CiAgICAgICAgc2VuZGVyID0gd2luZG93LnNlbmRlciA9IHdpbmRvdy5pbml0U2VuZGVyKCk7CiAgICAgICAgdmFyIGNsYXp6ID0gdGhpcy5yZXF1aXJlKG1zZy5tb2R1bGUpW21zZy5jbGFzc25hbWVdOwogICAgICAgIG1haW4gPSB3aW5kb3cubWFpbiA9IG5ldyBjbGF6eihzZW5kZXIpOwogICAgfQp9Owp9KSh0aGlzKTsKCmFjZS5kZWZpbmUoImFjZS9saWIvb29wIixbXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKXsidXNlIHN0cmljdCI7CmV4cG9ydHMuaW5oZXJpdHMgPSBmdW5jdGlvbiAoY3Rvciwgc3VwZXJDdG9yKSB7CiAgICBjdG9yLnN1cGVyXyA9IHN1cGVyQ3RvcjsKICAgIGN0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckN0b3IucHJvdG90eXBlLCB7CiAgICAgICAgY29uc3RydWN0b3I6IHsKICAgICAgICAgICAgdmFsdWU6IGN0b3IsCiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLAogICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSwKICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlCiAgICAgICAgfQogICAgfSk7Cn07CmV4cG9ydHMubWl4aW4gPSBmdW5jdGlvbiAob2JqLCBtaXhpbikgewogICAgZm9yICh2YXIga2V5IGluIG1peGluKSB7CiAgICAgICAgb2JqW2tleV0gPSBtaXhpbltrZXldOwogICAgfQogICAgcmV0dXJuIG9iajsKfTsKZXhwb3J0cy5pbXBsZW1lbnQgPSBmdW5jdGlvbiAocHJvdG8sIG1peGluKSB7CiAgICBleHBvcnRzLm1peGluKHByb3RvLCBtaXhpbik7Cn07Cgp9KTsKCmFjZS5kZWZpbmUoImFjZS9hcHBseV9kZWx0YSIsW10sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSl7InVzZSBzdHJpY3QiOwpmdW5jdGlvbiB0aHJvd0RlbHRhRXJyb3IoZGVsdGEsIGVycm9yVGV4dCkgewogICAgY29uc29sZS5sb2coIkludmFsaWQgRGVsdGE6IiwgZGVsdGEpOwogICAgdGhyb3cgIkludmFsaWQgRGVsdGE6ICIgKyBlcnJvclRleHQ7Cn0KZnVuY3Rpb24gcG9zaXRpb25JbkRvY3VtZW50KGRvY0xpbmVzLCBwb3NpdGlvbikgewogICAgcmV0dXJuIHBvc2l0aW9uLnJvdyA+PSAwICYmIHBvc2l0aW9uLnJvdyA8IGRvY0xpbmVzLmxlbmd0aCAmJgogICAgICAgIHBvc2l0aW9uLmNvbHVtbiA+PSAwICYmIHBvc2l0aW9uLmNvbHVtbiA8PSBkb2NMaW5lc1twb3NpdGlvbi5yb3ddLmxlbmd0aDsKfQpmdW5jdGlvbiB2YWxpZGF0ZURlbHRhKGRvY0xpbmVzLCBkZWx0YSkgewogICAgaWYgKGRlbHRhLmFjdGlvbiAhPSAiaW5zZXJ0IiAmJiBkZWx0YS5hY3Rpb24gIT0gInJlbW92ZSIpCiAgICAgICAgdGhyb3dEZWx0YUVycm9yKGRlbHRhLCAiZGVsdGEuYWN0aW9uIG11c3QgYmUgJ2luc2VydCcgb3IgJ3JlbW92ZSciKTsKICAgIGlmICghKGRlbHRhLmxpbmVzIGluc3RhbmNlb2YgQXJyYXkpKQogICAgICAgIHRocm93RGVsdGFFcnJvcihkZWx0YSwgImRlbHRhLmxpbmVzIG11c3QgYmUgYW4gQXJyYXkiKTsKICAgIGlmICghZGVsdGEuc3RhcnQgfHwgIWRlbHRhLmVuZCkKICAgICAgICB0aHJvd0RlbHRhRXJyb3IoZGVsdGEsICJkZWx0YS5zdGFydC9lbmQgbXVzdCBiZSBhbiBwcmVzZW50Iik7CiAgICB2YXIgc3RhcnQgPSBkZWx0YS5zdGFydDsKICAgIGlmICghcG9zaXRpb25JbkRvY3VtZW50KGRvY0xpbmVzLCBkZWx0YS5zdGFydCkpCiAgICAgICAgdGhyb3dEZWx0YUVycm9yKGRlbHRhLCAiZGVsdGEuc3RhcnQgbXVzdCBiZSBjb250YWluZWQgaW4gZG9jdW1lbnQiKTsKICAgIHZhciBlbmQgPSBkZWx0YS5lbmQ7CiAgICBpZiAoZGVsdGEuYWN0aW9uID09ICJyZW1vdmUiICYmICFwb3NpdGlvbkluRG9jdW1lbnQoZG9jTGluZXMsIGVuZCkpCiAgICAgICAgdGhyb3dEZWx0YUVycm9yKGRlbHRhLCAiZGVsdGEuZW5kIG11c3QgY29udGFpbmVkIGluIGRvY3VtZW50IGZvciAncmVtb3ZlJyBhY3Rpb25zIik7CiAgICB2YXIgbnVtUmFuZ2VSb3dzID0gZW5kLnJvdyAtIHN0YXJ0LnJvdzsKICAgIHZhciBudW1SYW5nZUxhc3RMaW5lQ2hhcnMgPSAoZW5kLmNvbHVtbiAtIChudW1SYW5nZVJvd3MgPT0gMCA/IHN0YXJ0LmNvbHVtbiA6IDApKTsKICAgIGlmIChudW1SYW5nZVJvd3MgIT0gZGVsdGEubGluZXMubGVuZ3RoIC0gMSB8fCBkZWx0YS5saW5lc1tudW1SYW5nZVJvd3NdLmxlbmd0aCAhPSBudW1SYW5nZUxhc3RMaW5lQ2hhcnMpCiAgICAgICAgdGhyb3dEZWx0YUVycm9yKGRlbHRhLCAiZGVsdGEucmFuZ2UgbXVzdCBtYXRjaCBkZWx0YSBsaW5lcyIpOwp9CmV4cG9ydHMuYXBwbHlEZWx0YSA9IGZ1bmN0aW9uIChkb2NMaW5lcywgZGVsdGEsIGRvTm90VmFsaWRhdGUpIHsKICAgIHZhciByb3cgPSBkZWx0YS5zdGFydC5yb3c7CiAgICB2YXIgc3RhcnRDb2x1bW4gPSBkZWx0YS5zdGFydC5jb2x1bW47CiAgICB2YXIgbGluZSA9IGRvY0xpbmVzW3Jvd10gfHwgIiI7CiAgICBzd2l0Y2ggKGRlbHRhLmFjdGlvbikgewogICAgICAgIGNhc2UgImluc2VydCI6CiAgICAgICAgICAgIHZhciBsaW5lcyA9IGRlbHRhLmxpbmVzOwogICAgICAgICAgICBpZiAobGluZXMubGVuZ3RoID09PSAxKSB7CiAgICAgICAgICAgICAgICBkb2NMaW5lc1tyb3ddID0gbGluZS5zdWJzdHJpbmcoMCwgc3RhcnRDb2x1bW4pICsgZGVsdGEubGluZXNbMF0gKyBsaW5lLnN1YnN0cmluZyhzdGFydENvbHVtbik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICB2YXIgYXJncyA9IFtyb3csIDFdLmNvbmNhdChkZWx0YS5saW5lcyk7CiAgICAgICAgICAgICAgICBkb2NMaW5lcy5zcGxpY2UuYXBwbHkoZG9jTGluZXMsIGFyZ3MpOwogICAgICAgICAgICAgICAgZG9jTGluZXNbcm93XSA9IGxpbmUuc3Vic3RyaW5nKDAsIHN0YXJ0Q29sdW1uKSArIGRvY0xpbmVzW3Jvd107CiAgICAgICAgICAgICAgICBkb2NMaW5lc1tyb3cgKyBkZWx0YS5saW5lcy5sZW5ndGggLSAxXSArPSBsaW5lLnN1YnN0cmluZyhzdGFydENvbHVtbik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAicmVtb3ZlIjoKICAgICAgICAgICAgdmFyIGVuZENvbHVtbiA9IGRlbHRhLmVuZC5jb2x1bW47CiAgICAgICAgICAgIHZhciBlbmRSb3cgPSBkZWx0YS5lbmQucm93OwogICAgICAgICAgICBpZiAocm93ID09PSBlbmRSb3cpIHsKICAgICAgICAgICAgICAgIGRvY0xpbmVzW3Jvd10gPSBsaW5lLnN1YnN0cmluZygwLCBzdGFydENvbHVtbikgKyBsaW5lLnN1YnN0cmluZyhlbmRDb2x1bW4pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgZG9jTGluZXMuc3BsaWNlKHJvdywgZW5kUm93IC0gcm93ICsgMSwgbGluZS5zdWJzdHJpbmcoMCwgc3RhcnRDb2x1bW4pICsgZG9jTGluZXNbZW5kUm93XS5zdWJzdHJpbmcoZW5kQ29sdW1uKSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgYnJlYWs7CiAgICB9Cn07Cgp9KTsKCmFjZS5kZWZpbmUoImFjZS9saWIvZXZlbnRfZW1pdHRlciIsW10sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSl7InVzZSBzdHJpY3QiOwp2YXIgRXZlbnRFbWl0dGVyID0ge307CnZhciBzdG9wUHJvcGFnYXRpb24gPSBmdW5jdGlvbiAoKSB7IHRoaXMucHJvcGFnYXRpb25TdG9wcGVkID0gdHJ1ZTsgfTsKdmFyIHByZXZlbnREZWZhdWx0ID0gZnVuY3Rpb24gKCkgeyB0aGlzLmRlZmF1bHRQcmV2ZW50ZWQgPSB0cnVlOyB9OwpFdmVudEVtaXR0ZXIuX2VtaXQgPQogICAgRXZlbnRFbWl0dGVyLl9kaXNwYXRjaEV2ZW50ID0gZnVuY3Rpb24gKGV2ZW50TmFtZSwgZSkgewogICAgICAgIHRoaXMuX2V2ZW50UmVnaXN0cnkgfHwgKHRoaXMuX2V2ZW50UmVnaXN0cnkgPSB7fSk7CiAgICAgICAgdGhpcy5fZGVmYXVsdEhhbmRsZXJzIHx8ICh0aGlzLl9kZWZhdWx0SGFuZGxlcnMgPSB7fSk7CiAgICAgICAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50UmVnaXN0cnlbZXZlbnROYW1lXSB8fCBbXTsKICAgICAgICB2YXIgZGVmYXVsdEhhbmRsZXIgPSB0aGlzLl9kZWZhdWx0SGFuZGxlcnNbZXZlbnROYW1lXTsKICAgICAgICBpZiAoIWxpc3RlbmVycy5sZW5ndGggJiYgIWRlZmF1bHRIYW5kbGVyKQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgaWYgKHR5cGVvZiBlICE9ICJvYmplY3QiIHx8ICFlKQogICAgICAgICAgICBlID0ge307CiAgICAgICAgaWYgKCFlLnR5cGUpCiAgICAgICAgICAgIGUudHlwZSA9IGV2ZW50TmFtZTsKICAgICAgICBpZiAoIWUuc3RvcFByb3BhZ2F0aW9uKQogICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbiA9IHN0b3BQcm9wYWdhdGlvbjsKICAgICAgICBpZiAoIWUucHJldmVudERlZmF1bHQpCiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQgPSBwcmV2ZW50RGVmYXVsdDsKICAgICAgICBsaXN0ZW5lcnMgPSBsaXN0ZW5lcnMuc2xpY2UoKTsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBsaXN0ZW5lcnNbaV0oZSwgdGhpcyk7CiAgICAgICAgICAgIGlmIChlLnByb3BhZ2F0aW9uU3RvcHBlZCkKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgICBpZiAoZGVmYXVsdEhhbmRsZXIgJiYgIWUuZGVmYXVsdFByZXZlbnRlZCkKICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRIYW5kbGVyKGUsIHRoaXMpOwogICAgfTsKRXZlbnRFbWl0dGVyLl9zaWduYWwgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBlKSB7CiAgICB2YXIgbGlzdGVuZXJzID0gKHRoaXMuX2V2ZW50UmVnaXN0cnkgfHwge30pW2V2ZW50TmFtZV07CiAgICBpZiAoIWxpc3RlbmVycykKICAgICAgICByZXR1cm47CiAgICBsaXN0ZW5lcnMgPSBsaXN0ZW5lcnMuc2xpY2UoKTsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdGVuZXJzLmxlbmd0aDsgaSsrKQogICAgICAgIGxpc3RlbmVyc1tpXShlLCB0aGlzKTsKfTsKRXZlbnRFbWl0dGVyLm9uY2UgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBjYWxsYmFjaykgewogICAgdmFyIF9zZWxmID0gdGhpczsKICAgIHRoaXMub24oZXZlbnROYW1lLCBmdW5jdGlvbiBuZXdDYWxsYmFjaygpIHsKICAgICAgICBfc2VsZi5vZmYoZXZlbnROYW1lLCBuZXdDYWxsYmFjayk7CiAgICAgICAgY2FsbGJhY2suYXBwbHkobnVsbCwgYXJndW1lbnRzKTsKICAgIH0pOwogICAgaWYgKCFjYWxsYmFjaykgewogICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICBjYWxsYmFjayA9IHJlc29sdmU7CiAgICAgICAgfSk7CiAgICB9Cn07CkV2ZW50RW1pdHRlci5zZXREZWZhdWx0SGFuZGxlciA9IGZ1bmN0aW9uIChldmVudE5hbWUsIGNhbGxiYWNrKSB7CiAgICB2YXIgaGFuZGxlcnMgPSB0aGlzLl9kZWZhdWx0SGFuZGxlcnM7CiAgICBpZiAoIWhhbmRsZXJzKQogICAgICAgIGhhbmRsZXJzID0gdGhpcy5fZGVmYXVsdEhhbmRsZXJzID0geyBfZGlzYWJsZWRfOiB7fSB9OwogICAgaWYgKGhhbmRsZXJzW2V2ZW50TmFtZV0pIHsKICAgICAgICB2YXIgb2xkID0gaGFuZGxlcnNbZXZlbnROYW1lXTsKICAgICAgICB2YXIgZGlzYWJsZWQgPSBoYW5kbGVycy5fZGlzYWJsZWRfW2V2ZW50TmFtZV07CiAgICAgICAgaWYgKCFkaXNhYmxlZCkKICAgICAgICAgICAgaGFuZGxlcnMuX2Rpc2FibGVkX1tldmVudE5hbWVdID0gZGlzYWJsZWQgPSBbXTsKICAgICAgICBkaXNhYmxlZC5wdXNoKG9sZCk7CiAgICAgICAgdmFyIGkgPSBkaXNhYmxlZC5pbmRleE9mKGNhbGxiYWNrKTsKICAgICAgICBpZiAoaSAhPSAtMSkKICAgICAgICAgICAgZGlzYWJsZWQuc3BsaWNlKGksIDEpOwogICAgfQogICAgaGFuZGxlcnNbZXZlbnROYW1lXSA9IGNhbGxiYWNrOwp9OwpFdmVudEVtaXR0ZXIucmVtb3ZlRGVmYXVsdEhhbmRsZXIgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBjYWxsYmFjaykgewogICAgdmFyIGhhbmRsZXJzID0gdGhpcy5fZGVmYXVsdEhhbmRsZXJzOwogICAgaWYgKCFoYW5kbGVycykKICAgICAgICByZXR1cm47CiAgICB2YXIgZGlzYWJsZWQgPSBoYW5kbGVycy5fZGlzYWJsZWRfW2V2ZW50TmFtZV07CiAgICBpZiAoaGFuZGxlcnNbZXZlbnROYW1lXSA9PSBjYWxsYmFjaykgewogICAgICAgIGlmIChkaXNhYmxlZCkKICAgICAgICAgICAgdGhpcy5zZXREZWZhdWx0SGFuZGxlcihldmVudE5hbWUsIGRpc2FibGVkLnBvcCgpKTsKICAgIH0KICAgIGVsc2UgaWYgKGRpc2FibGVkKSB7CiAgICAgICAgdmFyIGkgPSBkaXNhYmxlZC5pbmRleE9mKGNhbGxiYWNrKTsKICAgICAgICBpZiAoaSAhPSAtMSkKICAgICAgICAgICAgZGlzYWJsZWQuc3BsaWNlKGksIDEpOwogICAgfQp9OwpFdmVudEVtaXR0ZXIub24gPQogICAgRXZlbnRFbWl0dGVyLmFkZEV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBjYWxsYmFjaywgY2FwdHVyaW5nKSB7CiAgICAgICAgdGhpcy5fZXZlbnRSZWdpc3RyeSA9IHRoaXMuX2V2ZW50UmVnaXN0cnkgfHwge307CiAgICAgICAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50UmVnaXN0cnlbZXZlbnROYW1lXTsKICAgICAgICBpZiAoIWxpc3RlbmVycykKICAgICAgICAgICAgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRSZWdpc3RyeVtldmVudE5hbWVdID0gW107CiAgICAgICAgaWYgKGxpc3RlbmVycy5pbmRleE9mKGNhbGxiYWNrKSA9PSAtMSkKICAgICAgICAgICAgbGlzdGVuZXJzW2NhcHR1cmluZyA/ICJ1bnNoaWZ0IiA6ICJwdXNoIl0oY2FsbGJhY2spOwogICAgICAgIHJldHVybiBjYWxsYmFjazsKICAgIH07CkV2ZW50RW1pdHRlci5vZmYgPQogICAgRXZlbnRFbWl0dGVyLnJlbW92ZUxpc3RlbmVyID0KICAgICAgICBFdmVudEVtaXR0ZXIucmVtb3ZlRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uIChldmVudE5hbWUsIGNhbGxiYWNrKSB7CiAgICAgICAgICAgIHRoaXMuX2V2ZW50UmVnaXN0cnkgPSB0aGlzLl9ldmVudFJlZ2lzdHJ5IHx8IHt9OwogICAgICAgICAgICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRSZWdpc3RyeVtldmVudE5hbWVdOwogICAgICAgICAgICBpZiAoIWxpc3RlbmVycykKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgdmFyIGluZGV4ID0gbGlzdGVuZXJzLmluZGV4T2YoY2FsbGJhY2spOwogICAgICAgICAgICBpZiAoaW5kZXggIT09IC0xKQogICAgICAgICAgICAgICAgbGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7CiAgICAgICAgfTsKRXZlbnRFbWl0dGVyLnJlbW92ZUFsbExpc3RlbmVycyA9IGZ1bmN0aW9uIChldmVudE5hbWUpIHsKICAgIGlmICghZXZlbnROYW1lKQogICAgICAgIHRoaXMuX2V2ZW50UmVnaXN0cnkgPSB0aGlzLl9kZWZhdWx0SGFuZGxlcnMgPSB1bmRlZmluZWQ7CiAgICBpZiAodGhpcy5fZXZlbnRSZWdpc3RyeSkKICAgICAgICB0aGlzLl9ldmVudFJlZ2lzdHJ5W2V2ZW50TmFtZV0gPSB1bmRlZmluZWQ7CiAgICBpZiAodGhpcy5fZGVmYXVsdEhhbmRsZXJzKQogICAgICAgIHRoaXMuX2RlZmF1bHRIYW5kbGVyc1tldmVudE5hbWVdID0gdW5kZWZpbmVkOwp9OwpleHBvcnRzLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjsKCn0pOwoKYWNlLmRlZmluZSgiYWNlL3JhbmdlIixbXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKXsidXNlIHN0cmljdCI7CnZhciBjb21wYXJlUG9pbnRzID0gZnVuY3Rpb24gKHAxLCBwMikgewogICAgcmV0dXJuIHAxLnJvdyAtIHAyLnJvdyB8fCBwMS5jb2x1bW4gLSBwMi5jb2x1bW47Cn07CnZhciBSYW5nZSA9IGZ1bmN0aW9uIChzdGFydFJvdywgc3RhcnRDb2x1bW4sIGVuZFJvdywgZW5kQ29sdW1uKSB7CiAgICB0aGlzLnN0YXJ0ID0gewogICAgICAgIHJvdzogc3RhcnRSb3csCiAgICAgICAgY29sdW1uOiBzdGFydENvbHVtbgogICAgfTsKICAgIHRoaXMuZW5kID0gewogICAgICAgIHJvdzogZW5kUm93LAogICAgICAgIGNvbHVtbjogZW5kQ29sdW1uCiAgICB9Owp9OwooZnVuY3Rpb24gKCkgewogICAgdGhpcy5pc0VxdWFsID0gZnVuY3Rpb24gKHJhbmdlKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuc3RhcnQucm93ID09PSByYW5nZS5zdGFydC5yb3cgJiYKICAgICAgICAgICAgdGhpcy5lbmQucm93ID09PSByYW5nZS5lbmQucm93ICYmCiAgICAgICAgICAgIHRoaXMuc3RhcnQuY29sdW1uID09PSByYW5nZS5zdGFydC5jb2x1bW4gJiYKICAgICAgICAgICAgdGhpcy5lbmQuY29sdW1uID09PSByYW5nZS5lbmQuY29sdW1uOwogICAgfTsKICAgIHRoaXMudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuICgiUmFuZ2U6IFsiICsgdGhpcy5zdGFydC5yb3cgKyAiLyIgKyB0aGlzLnN0YXJ0LmNvbHVtbiArCiAgICAgICAgICAgICJdIC0+IFsiICsgdGhpcy5lbmQucm93ICsgIi8iICsgdGhpcy5lbmQuY29sdW1uICsgIl0iKTsKICAgIH07CiAgICB0aGlzLmNvbnRhaW5zID0gZnVuY3Rpb24gKHJvdywgY29sdW1uKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuY29tcGFyZShyb3csIGNvbHVtbikgPT0gMDsKICAgIH07CiAgICB0aGlzLmNvbXBhcmVSYW5nZSA9IGZ1bmN0aW9uIChyYW5nZSkgewogICAgICAgIHZhciBjbXAsIGVuZCA9IHJhbmdlLmVuZCwgc3RhcnQgPSByYW5nZS5zdGFydDsKICAgICAgICBjbXAgPSB0aGlzLmNvbXBhcmUoZW5kLnJvdywgZW5kLmNvbHVtbik7CiAgICAgICAgaWYgKGNtcCA9PSAxKSB7CiAgICAgICAgICAgIGNtcCA9IHRoaXMuY29tcGFyZShzdGFydC5yb3csIHN0YXJ0LmNvbHVtbik7CiAgICAgICAgICAgIGlmIChjbXAgPT0gMSkgewogICAgICAgICAgICAgICAgcmV0dXJuIDI7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSBpZiAoY21wID09IDApIHsKICAgICAgICAgICAgICAgIHJldHVybiAxOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZWxzZSBpZiAoY21wID09IC0xKSB7CiAgICAgICAgICAgIHJldHVybiAtMjsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIGNtcCA9IHRoaXMuY29tcGFyZShzdGFydC5yb3csIHN0YXJ0LmNvbHVtbik7CiAgICAgICAgICAgIGlmIChjbXAgPT0gLTEpIHsKICAgICAgICAgICAgICAgIHJldHVybiAtMTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIGlmIChjbXAgPT0gMSkgewogICAgICAgICAgICAgICAgcmV0dXJuIDQyOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9OwogICAgdGhpcy5jb21wYXJlUG9pbnQgPSBmdW5jdGlvbiAocCkgewogICAgICAgIHJldHVybiB0aGlzLmNvbXBhcmUocC5yb3csIHAuY29sdW1uKTsKICAgIH07CiAgICB0aGlzLmNvbnRhaW5zUmFuZ2UgPSBmdW5jdGlvbiAocmFuZ2UpIHsKICAgICAgICByZXR1cm4gdGhpcy5jb21wYXJlUG9pbnQocmFuZ2Uuc3RhcnQpID09IDAgJiYgdGhpcy5jb21wYXJlUG9pbnQocmFuZ2UuZW5kKSA9PSAwOwogICAgfTsKICAgIHRoaXMuaW50ZXJzZWN0cyA9IGZ1bmN0aW9uIChyYW5nZSkgewogICAgICAgIHZhciBjbXAgPSB0aGlzLmNvbXBhcmVSYW5nZShyYW5nZSk7CiAgICAgICAgcmV0dXJuIChjbXAgPT0gLTEgfHwgY21wID09IDAgfHwgY21wID09IDEpOwogICAgfTsKICAgIHRoaXMuaXNFbmQgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICByZXR1cm4gdGhpcy5lbmQucm93ID09IHJvdyAmJiB0aGlzLmVuZC5jb2x1bW4gPT0gY29sdW1uOwogICAgfTsKICAgIHRoaXMuaXNTdGFydCA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICAgIHJldHVybiB0aGlzLnN0YXJ0LnJvdyA9PSByb3cgJiYgdGhpcy5zdGFydC5jb2x1bW4gPT0gY29sdW1uOwogICAgfTsKICAgIHRoaXMuc2V0U3RhcnQgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICBpZiAodHlwZW9mIHJvdyA9PSAib2JqZWN0IikgewogICAgICAgICAgICB0aGlzLnN0YXJ0LmNvbHVtbiA9IHJvdy5jb2x1bW47CiAgICAgICAgICAgIHRoaXMuc3RhcnQucm93ID0gcm93LnJvdzsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIHRoaXMuc3RhcnQucm93ID0gcm93OwogICAgICAgICAgICB0aGlzLnN0YXJ0LmNvbHVtbiA9IGNvbHVtbjsKICAgICAgICB9CiAgICB9OwogICAgdGhpcy5zZXRFbmQgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICBpZiAodHlwZW9mIHJvdyA9PSAib2JqZWN0IikgewogICAgICAgICAgICB0aGlzLmVuZC5jb2x1bW4gPSByb3cuY29sdW1uOwogICAgICAgICAgICB0aGlzLmVuZC5yb3cgPSByb3cucm93OwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgdGhpcy5lbmQucm93ID0gcm93OwogICAgICAgICAgICB0aGlzLmVuZC5jb2x1bW4gPSBjb2x1bW47CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMuaW5zaWRlID0gZnVuY3Rpb24gKHJvdywgY29sdW1uKSB7CiAgICAgICAgaWYgKHRoaXMuY29tcGFyZShyb3csIGNvbHVtbikgPT0gMCkgewogICAgICAgICAgICBpZiAodGhpcy5pc0VuZChyb3csIGNvbHVtbikgfHwgdGhpcy5pc1N0YXJ0KHJvdywgY29sdW1uKSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfTsKICAgIHRoaXMuaW5zaWRlU3RhcnQgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICBpZiAodGhpcy5jb21wYXJlKHJvdywgY29sdW1uKSA9PSAwKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmlzRW5kKHJvdywgY29sdW1uKSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfTsKICAgIHRoaXMuaW5zaWRlRW5kID0gZnVuY3Rpb24gKHJvdywgY29sdW1uKSB7CiAgICAgICAgaWYgKHRoaXMuY29tcGFyZShyb3csIGNvbHVtbikgPT0gMCkgewogICAgICAgICAgICBpZiAodGhpcy5pc1N0YXJ0KHJvdywgY29sdW1uKSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfTsKICAgIHRoaXMuY29tcGFyZSA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICAgIGlmICghdGhpcy5pc011bHRpTGluZSgpKSB7CiAgICAgICAgICAgIGlmIChyb3cgPT09IHRoaXMuc3RhcnQucm93KSB7CiAgICAgICAgICAgICAgICByZXR1cm4gY29sdW1uIDwgdGhpcy5zdGFydC5jb2x1bW4gPyAtMSA6IChjb2x1bW4gPiB0aGlzLmVuZC5jb2x1bW4gPyAxIDogMCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKHJvdyA8IHRoaXMuc3RhcnQucm93KQogICAgICAgICAgICByZXR1cm4gLTE7CiAgICAgICAgaWYgKHJvdyA+IHRoaXMuZW5kLnJvdykKICAgICAgICAgICAgcmV0dXJuIDE7CiAgICAgICAgaWYgKHRoaXMuc3RhcnQucm93ID09PSByb3cpCiAgICAgICAgICAgIHJldHVybiBjb2x1bW4gPj0gdGhpcy5zdGFydC5jb2x1bW4gPyAwIDogLTE7CiAgICAgICAgaWYgKHRoaXMuZW5kLnJvdyA9PT0gcm93KQogICAgICAgICAgICByZXR1cm4gY29sdW1uIDw9IHRoaXMuZW5kLmNvbHVtbiA/IDAgOiAxOwogICAgICAgIHJldHVybiAwOwogICAgfTsKICAgIHRoaXMuY29tcGFyZVN0YXJ0ID0gZnVuY3Rpb24gKHJvdywgY29sdW1uKSB7CiAgICAgICAgaWYgKHRoaXMuc3RhcnQucm93ID09IHJvdyAmJiB0aGlzLnN0YXJ0LmNvbHVtbiA9PSBjb2x1bW4pIHsKICAgICAgICAgICAgcmV0dXJuIC0xOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29tcGFyZShyb3csIGNvbHVtbik7CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMuY29tcGFyZUVuZCA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICAgIGlmICh0aGlzLmVuZC5yb3cgPT0gcm93ICYmIHRoaXMuZW5kLmNvbHVtbiA9PSBjb2x1bW4pIHsKICAgICAgICAgICAgcmV0dXJuIDE7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICByZXR1cm4gdGhpcy5jb21wYXJlKHJvdywgY29sdW1uKTsKICAgICAgICB9CiAgICB9OwogICAgdGhpcy5jb21wYXJlSW5zaWRlID0gZnVuY3Rpb24gKHJvdywgY29sdW1uKSB7CiAgICAgICAgaWYgKHRoaXMuZW5kLnJvdyA9PSByb3cgJiYgdGhpcy5lbmQuY29sdW1uID09IGNvbHVtbikgewogICAgICAgICAgICByZXR1cm4gMTsKICAgICAgICB9CiAgICAgICAgZWxzZSBpZiAodGhpcy5zdGFydC5yb3cgPT0gcm93ICYmIHRoaXMuc3RhcnQuY29sdW1uID09IGNvbHVtbikgewogICAgICAgICAgICByZXR1cm4gLTE7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICByZXR1cm4gdGhpcy5jb21wYXJlKHJvdywgY29sdW1uKTsKICAgICAgICB9CiAgICB9OwogICAgdGhpcy5jbGlwUm93cyA9IGZ1bmN0aW9uIChmaXJzdFJvdywgbGFzdFJvdykgewogICAgICAgIGlmICh0aGlzLmVuZC5yb3cgPiBsYXN0Um93KQogICAgICAgICAgICB2YXIgZW5kID0geyByb3c6IGxhc3RSb3cgKyAxLCBjb2x1bW46IDAgfTsKICAgICAgICBlbHNlIGlmICh0aGlzLmVuZC5yb3cgPCBmaXJzdFJvdykKICAgICAgICAgICAgdmFyIGVuZCA9IHsgcm93OiBmaXJzdFJvdywgY29sdW1uOiAwIH07CiAgICAgICAgaWYgKHRoaXMuc3RhcnQucm93ID4gbGFzdFJvdykKICAgICAgICAgICAgdmFyIHN0YXJ0ID0geyByb3c6IGxhc3RSb3cgKyAxLCBjb2x1bW46IDAgfTsKICAgICAgICBlbHNlIGlmICh0aGlzLnN0YXJ0LnJvdyA8IGZpcnN0Um93KQogICAgICAgICAgICB2YXIgc3RhcnQgPSB7IHJvdzogZmlyc3RSb3csIGNvbHVtbjogMCB9OwogICAgICAgIHJldHVybiBSYW5nZS5mcm9tUG9pbnRzKHN0YXJ0IHx8IHRoaXMuc3RhcnQsIGVuZCB8fCB0aGlzLmVuZCk7CiAgICB9OwogICAgdGhpcy5leHRlbmQgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICB2YXIgY21wID0gdGhpcy5jb21wYXJlKHJvdywgY29sdW1uKTsKICAgICAgICBpZiAoY21wID09IDApCiAgICAgICAgICAgIHJldHVybiB0aGlzOwogICAgICAgIGVsc2UgaWYgKGNtcCA9PSAtMSkKICAgICAgICAgICAgdmFyIHN0YXJ0ID0geyByb3c6IHJvdywgY29sdW1uOiBjb2x1bW4gfTsKICAgICAgICBlbHNlCiAgICAgICAgICAgIHZhciBlbmQgPSB7IHJvdzogcm93LCBjb2x1bW46IGNvbHVtbiB9OwogICAgICAgIHJldHVybiBSYW5nZS5mcm9tUG9pbnRzKHN0YXJ0IHx8IHRoaXMuc3RhcnQsIGVuZCB8fCB0aGlzLmVuZCk7CiAgICB9OwogICAgdGhpcy5pc0VtcHR5ID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiAodGhpcy5zdGFydC5yb3cgPT09IHRoaXMuZW5kLnJvdyAmJiB0aGlzLnN0YXJ0LmNvbHVtbiA9PT0gdGhpcy5lbmQuY29sdW1uKTsKICAgIH07CiAgICB0aGlzLmlzTXVsdGlMaW5lID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiAodGhpcy5zdGFydC5yb3cgIT09IHRoaXMuZW5kLnJvdyk7CiAgICB9OwogICAgdGhpcy5jbG9uZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gUmFuZ2UuZnJvbVBvaW50cyh0aGlzLnN0YXJ0LCB0aGlzLmVuZCk7CiAgICB9OwogICAgdGhpcy5jb2xsYXBzZVJvd3MgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKHRoaXMuZW5kLmNvbHVtbiA9PSAwKQogICAgICAgICAgICByZXR1cm4gbmV3IFJhbmdlKHRoaXMuc3RhcnQucm93LCAwLCBNYXRoLm1heCh0aGlzLnN0YXJ0LnJvdywgdGhpcy5lbmQucm93IC0gMSksIDApOwogICAgICAgIGVsc2UKICAgICAgICAgICAgcmV0dXJuIG5ldyBSYW5nZSh0aGlzLnN0YXJ0LnJvdywgMCwgdGhpcy5lbmQucm93LCAwKTsKICAgIH07CiAgICB0aGlzLnRvU2NyZWVuUmFuZ2UgPSBmdW5jdGlvbiAoc2Vzc2lvbikgewogICAgICAgIHZhciBzY3JlZW5Qb3NTdGFydCA9IHNlc3Npb24uZG9jdW1lbnRUb1NjcmVlblBvc2l0aW9uKHRoaXMuc3RhcnQpOwogICAgICAgIHZhciBzY3JlZW5Qb3NFbmQgPSBzZXNzaW9uLmRvY3VtZW50VG9TY3JlZW5Qb3NpdGlvbih0aGlzLmVuZCk7CiAgICAgICAgcmV0dXJuIG5ldyBSYW5nZShzY3JlZW5Qb3NTdGFydC5yb3csIHNjcmVlblBvc1N0YXJ0LmNvbHVtbiwgc2NyZWVuUG9zRW5kLnJvdywgc2NyZWVuUG9zRW5kLmNvbHVtbik7CiAgICB9OwogICAgdGhpcy5tb3ZlQnkgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICB0aGlzLnN0YXJ0LnJvdyArPSByb3c7CiAgICAgICAgdGhpcy5zdGFydC5jb2x1bW4gKz0gY29sdW1uOwogICAgICAgIHRoaXMuZW5kLnJvdyArPSByb3c7CiAgICAgICAgdGhpcy5lbmQuY29sdW1uICs9IGNvbHVtbjsKICAgIH07Cn0pLmNhbGwoUmFuZ2UucHJvdG90eXBlKTsKUmFuZ2UuZnJvbVBvaW50cyA9IGZ1bmN0aW9uIChzdGFydCwgZW5kKSB7CiAgICByZXR1cm4gbmV3IFJhbmdlKHN0YXJ0LnJvdywgc3RhcnQuY29sdW1uLCBlbmQucm93LCBlbmQuY29sdW1uKTsKfTsKUmFuZ2UuY29tcGFyZVBvaW50cyA9IGNvbXBhcmVQb2ludHM7ClJhbmdlLmNvbXBhcmVQb2ludHMgPSBmdW5jdGlvbiAocDEsIHAyKSB7CiAgICByZXR1cm4gcDEucm93IC0gcDIucm93IHx8IHAxLmNvbHVtbiAtIHAyLmNvbHVtbjsKfTsKZXhwb3J0cy5SYW5nZSA9IFJhbmdlOwoKfSk7CgphY2UuZGVmaW5lKCJhY2UvYW5jaG9yIixbXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKXsidXNlIHN0cmljdCI7CnZhciBvb3AgPSByZXF1aXJlKCIuL2xpYi9vb3AiKTsKdmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoIi4vbGliL2V2ZW50X2VtaXR0ZXIiKS5FdmVudEVtaXR0ZXI7CnZhciBBbmNob3IgPSBleHBvcnRzLkFuY2hvciA9IGZ1bmN0aW9uIChkb2MsIHJvdywgY29sdW1uKSB7CiAgICB0aGlzLiRvbkNoYW5nZSA9IHRoaXMub25DaGFuZ2UuYmluZCh0aGlzKTsKICAgIHRoaXMuYXR0YWNoKGRvYyk7CiAgICBpZiAodHlwZW9mIGNvbHVtbiA9PSAidW5kZWZpbmVkIikKICAgICAgICB0aGlzLnNldFBvc2l0aW9uKHJvdy5yb3csIHJvdy5jb2x1bW4pOwogICAgZWxzZQogICAgICAgIHRoaXMuc2V0UG9zaXRpb24ocm93LCBjb2x1bW4pOwp9OwooZnVuY3Rpb24gKCkgewogICAgb29wLmltcGxlbWVudCh0aGlzLCBFdmVudEVtaXR0ZXIpOwogICAgdGhpcy5nZXRQb3NpdGlvbiA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gdGhpcy4kY2xpcFBvc2l0aW9uVG9Eb2N1bWVudCh0aGlzLnJvdywgdGhpcy5jb2x1bW4pOwogICAgfTsKICAgIHRoaXMuZ2V0RG9jdW1lbnQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZG9jdW1lbnQ7CiAgICB9OwogICAgdGhpcy4kaW5zZXJ0UmlnaHQgPSBmYWxzZTsKICAgIHRoaXMub25DaGFuZ2UgPSBmdW5jdGlvbiAoZGVsdGEpIHsKICAgICAgICBpZiAoZGVsdGEuc3RhcnQucm93ID09IGRlbHRhLmVuZC5yb3cgJiYgZGVsdGEuc3RhcnQucm93ICE9IHRoaXMucm93KQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgaWYgKGRlbHRhLnN0YXJ0LnJvdyA+IHRoaXMucm93KQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgdmFyIHBvaW50ID0gJGdldFRyYW5zZm9ybWVkUG9pbnQoZGVsdGEsIHsgcm93OiB0aGlzLnJvdywgY29sdW1uOiB0aGlzLmNvbHVtbiB9LCB0aGlzLiRpbnNlcnRSaWdodCk7CiAgICAgICAgdGhpcy5zZXRQb3NpdGlvbihwb2ludC5yb3csIHBvaW50LmNvbHVtbiwgdHJ1ZSk7CiAgICB9OwogICAgZnVuY3Rpb24gJHBvaW50c0luT3JkZXIocG9pbnQxLCBwb2ludDIsIGVxdWFsUG9pbnRzSW5PcmRlcikgewogICAgICAgIHZhciBiQ29sSXNBZnRlciA9IGVxdWFsUG9pbnRzSW5PcmRlciA/IHBvaW50MS5jb2x1bW4gPD0gcG9pbnQyLmNvbHVtbiA6IHBvaW50MS5jb2x1bW4gPCBwb2ludDIuY29sdW1uOwogICAgICAgIHJldHVybiAocG9pbnQxLnJvdyA8IHBvaW50Mi5yb3cpIHx8IChwb2ludDEucm93ID09IHBvaW50Mi5yb3cgJiYgYkNvbElzQWZ0ZXIpOwogICAgfQogICAgZnVuY3Rpb24gJGdldFRyYW5zZm9ybWVkUG9pbnQoZGVsdGEsIHBvaW50LCBtb3ZlSWZFcXVhbCkgewogICAgICAgIHZhciBkZWx0YUlzSW5zZXJ0ID0gZGVsdGEuYWN0aW9uID09ICJpbnNlcnQiOwogICAgICAgIHZhciBkZWx0YVJvd1NoaWZ0ID0gKGRlbHRhSXNJbnNlcnQgPyAxIDogLTEpICogKGRlbHRhLmVuZC5yb3cgLSBkZWx0YS5zdGFydC5yb3cpOwogICAgICAgIHZhciBkZWx0YUNvbFNoaWZ0ID0gKGRlbHRhSXNJbnNlcnQgPyAxIDogLTEpICogKGRlbHRhLmVuZC5jb2x1bW4gLSBkZWx0YS5zdGFydC5jb2x1bW4pOwogICAgICAgIHZhciBkZWx0YVN0YXJ0ID0gZGVsdGEuc3RhcnQ7CiAgICAgICAgdmFyIGRlbHRhRW5kID0gZGVsdGFJc0luc2VydCA/IGRlbHRhU3RhcnQgOiBkZWx0YS5lbmQ7IC8vIENvbGxhcHNlIGluc2VydCByYW5nZS4KICAgICAgICBpZiAoJHBvaW50c0luT3JkZXIocG9pbnQsIGRlbHRhU3RhcnQsIG1vdmVJZkVxdWFsKSkgewogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgcm93OiBwb2ludC5yb3csCiAgICAgICAgICAgICAgICBjb2x1bW46IHBvaW50LmNvbHVtbgogICAgICAgICAgICB9OwogICAgICAgIH0KICAgICAgICBpZiAoJHBvaW50c0luT3JkZXIoZGVsdGFFbmQsIHBvaW50LCAhbW92ZUlmRXF1YWwpKSB7CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICByb3c6IHBvaW50LnJvdyArIGRlbHRhUm93U2hpZnQsCiAgICAgICAgICAgICAgICBjb2x1bW46IHBvaW50LmNvbHVtbiArIChwb2ludC5yb3cgPT0gZGVsdGFFbmQucm93ID8gZGVsdGFDb2xTaGlmdCA6IDApCiAgICAgICAgICAgIH07CiAgICAgICAgfQogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHJvdzogZGVsdGFTdGFydC5yb3csCiAgICAgICAgICAgIGNvbHVtbjogZGVsdGFTdGFydC5jb2x1bW4KICAgICAgICB9OwogICAgfQogICAgdGhpcy5zZXRQb3NpdGlvbiA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbiwgbm9DbGlwKSB7CiAgICAgICAgdmFyIHBvczsKICAgICAgICBpZiAobm9DbGlwKSB7CiAgICAgICAgICAgIHBvcyA9IHsKICAgICAgICAgICAgICAgIHJvdzogcm93LAogICAgICAgICAgICAgICAgY29sdW1uOiBjb2x1bW4KICAgICAgICAgICAgfTsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIHBvcyA9IHRoaXMuJGNsaXBQb3NpdGlvblRvRG9jdW1lbnQocm93LCBjb2x1bW4pOwogICAgICAgIH0KICAgICAgICBpZiAodGhpcy5yb3cgPT0gcG9zLnJvdyAmJiB0aGlzLmNvbHVtbiA9PSBwb3MuY29sdW1uKQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgdmFyIG9sZCA9IHsKICAgICAgICAgICAgcm93OiB0aGlzLnJvdywKICAgICAgICAgICAgY29sdW1uOiB0aGlzLmNvbHVtbgogICAgICAgIH07CiAgICAgICAgdGhpcy5yb3cgPSBwb3Mucm93OwogICAgICAgIHRoaXMuY29sdW1uID0gcG9zLmNvbHVtbjsKICAgICAgICB0aGlzLl9zaWduYWwoImNoYW5nZSIsIHsKICAgICAgICAgICAgb2xkOiBvbGQsCiAgICAgICAgICAgIHZhbHVlOiBwb3MKICAgICAgICB9KTsKICAgIH07CiAgICB0aGlzLmRldGFjaCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB0aGlzLmRvY3VtZW50Lm9mZigiY2hhbmdlIiwgdGhpcy4kb25DaGFuZ2UpOwogICAgfTsKICAgIHRoaXMuYXR0YWNoID0gZnVuY3Rpb24gKGRvYykgewogICAgICAgIHRoaXMuZG9jdW1lbnQgPSBkb2MgfHwgdGhpcy5kb2N1bWVudDsKICAgICAgICB0aGlzLmRvY3VtZW50Lm9uKCJjaGFuZ2UiLCB0aGlzLiRvbkNoYW5nZSk7CiAgICB9OwogICAgdGhpcy4kY2xpcFBvc2l0aW9uVG9Eb2N1bWVudCA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICAgIHZhciBwb3MgPSB7fTsKICAgICAgICBpZiAocm93ID49IHRoaXMuZG9jdW1lbnQuZ2V0TGVuZ3RoKCkpIHsKICAgICAgICAgICAgcG9zLnJvdyA9IE1hdGgubWF4KDAsIHRoaXMuZG9jdW1lbnQuZ2V0TGVuZ3RoKCkgLSAxKTsKICAgICAgICAgICAgcG9zLmNvbHVtbiA9IHRoaXMuZG9jdW1lbnQuZ2V0TGluZShwb3Mucm93KS5sZW5ndGg7CiAgICAgICAgfQogICAgICAgIGVsc2UgaWYgKHJvdyA8IDApIHsKICAgICAgICAgICAgcG9zLnJvdyA9IDA7CiAgICAgICAgICAgIHBvcy5jb2x1bW4gPSAwOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgcG9zLnJvdyA9IHJvdzsKICAgICAgICAgICAgcG9zLmNvbHVtbiA9IE1hdGgubWluKHRoaXMuZG9jdW1lbnQuZ2V0TGluZShwb3Mucm93KS5sZW5ndGgsIE1hdGgubWF4KDAsIGNvbHVtbikpOwogICAgICAgIH0KICAgICAgICBpZiAoY29sdW1uIDwgMCkKICAgICAgICAgICAgcG9zLmNvbHVtbiA9IDA7CiAgICAgICAgcmV0dXJuIHBvczsKICAgIH07Cn0pLmNhbGwoQW5jaG9yLnByb3RvdHlwZSk7Cgp9KTsKCmFjZS5kZWZpbmUoImFjZS9kb2N1bWVudCIsW10sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSl7InVzZSBzdHJpY3QiOwp2YXIgb29wID0gcmVxdWlyZSgiLi9saWIvb29wIik7CnZhciBhcHBseURlbHRhID0gcmVxdWlyZSgiLi9hcHBseV9kZWx0YSIpLmFwcGx5RGVsdGE7CnZhciBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCIuL2xpYi9ldmVudF9lbWl0dGVyIikuRXZlbnRFbWl0dGVyOwp2YXIgUmFuZ2UgPSByZXF1aXJlKCIuL3JhbmdlIikuUmFuZ2U7CnZhciBBbmNob3IgPSByZXF1aXJlKCIuL2FuY2hvciIpLkFuY2hvcjsKdmFyIERvY3VtZW50ID0gZnVuY3Rpb24gKHRleHRPckxpbmVzKSB7CiAgICB0aGlzLiRsaW5lcyA9IFsiIl07CiAgICBpZiAodGV4dE9yTGluZXMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgdGhpcy4kbGluZXMgPSBbIiJdOwogICAgfQogICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh0ZXh0T3JMaW5lcykpIHsKICAgICAgICB0aGlzLmluc2VydE1lcmdlZExpbmVzKHsgcm93OiAwLCBjb2x1bW46IDAgfSwgdGV4dE9yTGluZXMpOwogICAgfQogICAgZWxzZSB7CiAgICAgICAgdGhpcy5pbnNlcnQoeyByb3c6IDAsIGNvbHVtbjogMCB9LCB0ZXh0T3JMaW5lcyk7CiAgICB9Cn07CihmdW5jdGlvbiAoKSB7CiAgICBvb3AuaW1wbGVtZW50KHRoaXMsIEV2ZW50RW1pdHRlcik7CiAgICB0aGlzLnNldFZhbHVlID0gZnVuY3Rpb24gKHRleHQpIHsKICAgICAgICB2YXIgbGVuID0gdGhpcy5nZXRMZW5ndGgoKSAtIDE7CiAgICAgICAgdGhpcy5yZW1vdmUobmV3IFJhbmdlKDAsIDAsIGxlbiwgdGhpcy5nZXRMaW5lKGxlbikubGVuZ3RoKSk7CiAgICAgICAgdGhpcy5pbnNlcnQoeyByb3c6IDAsIGNvbHVtbjogMCB9LCB0ZXh0IHx8ICIiKTsKICAgIH07CiAgICB0aGlzLmdldFZhbHVlID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiB0aGlzLmdldEFsbExpbmVzKCkuam9pbih0aGlzLmdldE5ld0xpbmVDaGFyYWN0ZXIoKSk7CiAgICB9OwogICAgdGhpcy5jcmVhdGVBbmNob3IgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICByZXR1cm4gbmV3IEFuY2hvcih0aGlzLCByb3csIGNvbHVtbik7CiAgICB9OwogICAgaWYgKCJhYWEiLnNwbGl0KC9hLykubGVuZ3RoID09PSAwKSB7CiAgICAgICAgdGhpcy4kc3BsaXQgPSBmdW5jdGlvbiAodGV4dCkgewogICAgICAgICAgICByZXR1cm4gdGV4dC5yZXBsYWNlKC9cclxufFxyL2csICJcbiIpLnNwbGl0KCJcbiIpOwogICAgICAgIH07CiAgICB9CiAgICBlbHNlIHsKICAgICAgICB0aGlzLiRzcGxpdCA9IGZ1bmN0aW9uICh0ZXh0KSB7CiAgICAgICAgICAgIHJldHVybiB0ZXh0LnNwbGl0KC9cclxufFxyfFxuLyk7CiAgICAgICAgfTsKICAgIH0KICAgIHRoaXMuJGRldGVjdE5ld0xpbmUgPSBmdW5jdGlvbiAodGV4dCkgewogICAgICAgIHZhciBtYXRjaCA9IHRleHQubWF0Y2goL14uKj8oXHJcbnxccnxcbikvbSk7CiAgICAgICAgdGhpcy4kYXV0b05ld0xpbmUgPSBtYXRjaCA/IG1hdGNoWzFdIDogIlxuIjsKICAgICAgICB0aGlzLl9zaWduYWwoImNoYW5nZU5ld0xpbmVNb2RlIik7CiAgICB9OwogICAgdGhpcy5nZXROZXdMaW5lQ2hhcmFjdGVyID0gZnVuY3Rpb24gKCkgewogICAgICAgIHN3aXRjaCAodGhpcy4kbmV3TGluZU1vZGUpIHsKICAgICAgICAgICAgY2FzZSAid2luZG93cyI6CiAgICAgICAgICAgICAgICByZXR1cm4gIlxyXG4iOwogICAgICAgICAgICBjYXNlICJ1bml4IjoKICAgICAgICAgICAgICAgIHJldHVybiAiXG4iOwogICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJGF1dG9OZXdMaW5lIHx8ICJcbiI7CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMuJGF1dG9OZXdMaW5lID0gIiI7CiAgICB0aGlzLiRuZXdMaW5lTW9kZSA9ICJhdXRvIjsKICAgIHRoaXMuc2V0TmV3TGluZU1vZGUgPSBmdW5jdGlvbiAobmV3TGluZU1vZGUpIHsKICAgICAgICBpZiAodGhpcy4kbmV3TGluZU1vZGUgPT09IG5ld0xpbmVNb2RlKQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgdGhpcy4kbmV3TGluZU1vZGUgPSBuZXdMaW5lTW9kZTsKICAgICAgICB0aGlzLl9zaWduYWwoImNoYW5nZU5ld0xpbmVNb2RlIik7CiAgICB9OwogICAgdGhpcy5nZXROZXdMaW5lTW9kZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gdGhpcy4kbmV3TGluZU1vZGU7CiAgICB9OwogICAgdGhpcy5pc05ld0xpbmUgPSBmdW5jdGlvbiAodGV4dCkgewogICAgICAgIHJldHVybiAodGV4dCA9PSAiXHJcbiIgfHwgdGV4dCA9PSAiXHIiIHx8IHRleHQgPT0gIlxuIik7CiAgICB9OwogICAgdGhpcy5nZXRMaW5lID0gZnVuY3Rpb24gKHJvdykgewogICAgICAgIHJldHVybiB0aGlzLiRsaW5lc1tyb3ddIHx8ICIiOwogICAgfTsKICAgIHRoaXMuZ2V0TGluZXMgPSBmdW5jdGlvbiAoZmlyc3RSb3csIGxhc3RSb3cpIHsKICAgICAgICByZXR1cm4gdGhpcy4kbGluZXMuc2xpY2UoZmlyc3RSb3csIGxhc3RSb3cgKyAxKTsKICAgIH07CiAgICB0aGlzLmdldEFsbExpbmVzID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiB0aGlzLmdldExpbmVzKDAsIHRoaXMuZ2V0TGVuZ3RoKCkpOwogICAgfTsKICAgIHRoaXMuZ2V0TGVuZ3RoID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiB0aGlzLiRsaW5lcy5sZW5ndGg7CiAgICB9OwogICAgdGhpcy5nZXRUZXh0UmFuZ2UgPSBmdW5jdGlvbiAocmFuZ2UpIHsKICAgICAgICByZXR1cm4gdGhpcy5nZXRMaW5lc0ZvclJhbmdlKHJhbmdlKS5qb2luKHRoaXMuZ2V0TmV3TGluZUNoYXJhY3RlcigpKTsKICAgIH07CiAgICB0aGlzLmdldExpbmVzRm9yUmFuZ2UgPSBmdW5jdGlvbiAocmFuZ2UpIHsKICAgICAgICB2YXIgbGluZXM7CiAgICAgICAgaWYgKHJhbmdlLnN0YXJ0LnJvdyA9PT0gcmFuZ2UuZW5kLnJvdykgewogICAgICAgICAgICBsaW5lcyA9IFt0aGlzLmdldExpbmUocmFuZ2Uuc3RhcnQucm93KS5zdWJzdHJpbmcocmFuZ2Uuc3RhcnQuY29sdW1uLCByYW5nZS5lbmQuY29sdW1uKV07CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICBsaW5lcyA9IHRoaXMuZ2V0TGluZXMocmFuZ2Uuc3RhcnQucm93LCByYW5nZS5lbmQucm93KTsKICAgICAgICAgICAgbGluZXNbMF0gPSAobGluZXNbMF0gfHwgIiIpLnN1YnN0cmluZyhyYW5nZS5zdGFydC5jb2x1bW4pOwogICAgICAgICAgICB2YXIgbCA9IGxpbmVzLmxlbmd0aCAtIDE7CiAgICAgICAgICAgIGlmIChyYW5nZS5lbmQucm93IC0gcmFuZ2Uuc3RhcnQucm93ID09IGwpCiAgICAgICAgICAgICAgICBsaW5lc1tsXSA9IGxpbmVzW2xdLnN1YnN0cmluZygwLCByYW5nZS5lbmQuY29sdW1uKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGxpbmVzOwogICAgfTsKICAgIHRoaXMuaW5zZXJ0TGluZXMgPSBmdW5jdGlvbiAocm93LCBsaW5lcykgewogICAgICAgIGNvbnNvbGUud2FybigiVXNlIG9mIGRvY3VtZW50Lmluc2VydExpbmVzIGlzIGRlcHJlY2F0ZWQuIFVzZSB0aGUgaW5zZXJ0RnVsbExpbmVzIG1ldGhvZCBpbnN0ZWFkLiIpOwogICAgICAgIHJldHVybiB0aGlzLmluc2VydEZ1bGxMaW5lcyhyb3csIGxpbmVzKTsKICAgIH07CiAgICB0aGlzLnJlbW92ZUxpbmVzID0gZnVuY3Rpb24gKGZpcnN0Um93LCBsYXN0Um93KSB7CiAgICAgICAgY29uc29sZS53YXJuKCJVc2Ugb2YgZG9jdW1lbnQucmVtb3ZlTGluZXMgaXMgZGVwcmVjYXRlZC4gVXNlIHRoZSByZW1vdmVGdWxsTGluZXMgbWV0aG9kIGluc3RlYWQuIik7CiAgICAgICAgcmV0dXJuIHRoaXMucmVtb3ZlRnVsbExpbmVzKGZpcnN0Um93LCBsYXN0Um93KTsKICAgIH07CiAgICB0aGlzLmluc2VydE5ld0xpbmUgPSBmdW5jdGlvbiAocG9zaXRpb24pIHsKICAgICAgICBjb25zb2xlLndhcm4oIlVzZSBvZiBkb2N1bWVudC5pbnNlcnROZXdMaW5lIGlzIGRlcHJlY2F0ZWQuIFVzZSBpbnNlcnRNZXJnZWRMaW5lcyhwb3NpdGlvbiwgWycnLCAnJ10pIGluc3RlYWQuIik7CiAgICAgICAgcmV0dXJuIHRoaXMuaW5zZXJ0TWVyZ2VkTGluZXMocG9zaXRpb24sIFsiIiwgIiJdKTsKICAgIH07CiAgICB0aGlzLmluc2VydCA9IGZ1bmN0aW9uIChwb3NpdGlvbiwgdGV4dCkgewogICAgICAgIGlmICh0aGlzLmdldExlbmd0aCgpIDw9IDEpCiAgICAgICAgICAgIHRoaXMuJGRldGVjdE5ld0xpbmUodGV4dCk7CiAgICAgICAgcmV0dXJuIHRoaXMuaW5zZXJ0TWVyZ2VkTGluZXMocG9zaXRpb24sIHRoaXMuJHNwbGl0KHRleHQpKTsKICAgIH07CiAgICB0aGlzLmluc2VydEluTGluZSA9IGZ1bmN0aW9uIChwb3NpdGlvbiwgdGV4dCkgewogICAgICAgIHZhciBzdGFydCA9IHRoaXMuY2xpcHBlZFBvcyhwb3NpdGlvbi5yb3csIHBvc2l0aW9uLmNvbHVtbik7CiAgICAgICAgdmFyIGVuZCA9IHRoaXMucG9zKHBvc2l0aW9uLnJvdywgcG9zaXRpb24uY29sdW1uICsgdGV4dC5sZW5ndGgpOwogICAgICAgIHRoaXMuYXBwbHlEZWx0YSh7CiAgICAgICAgICAgIHN0YXJ0OiBzdGFydCwKICAgICAgICAgICAgZW5kOiBlbmQsCiAgICAgICAgICAgIGFjdGlvbjogImluc2VydCIsCiAgICAgICAgICAgIGxpbmVzOiBbdGV4dF0KICAgICAgICB9LCB0cnVlKTsKICAgICAgICByZXR1cm4gdGhpcy5jbG9uZVBvcyhlbmQpOwogICAgfTsKICAgIHRoaXMuY2xpcHBlZFBvcyA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICAgIHZhciBsZW5ndGggPSB0aGlzLmdldExlbmd0aCgpOwogICAgICAgIGlmIChyb3cgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICByb3cgPSBsZW5ndGg7CiAgICAgICAgfQogICAgICAgIGVsc2UgaWYgKHJvdyA8IDApIHsKICAgICAgICAgICAgcm93ID0gMDsKICAgICAgICB9CiAgICAgICAgZWxzZSBpZiAocm93ID49IGxlbmd0aCkgewogICAgICAgICAgICByb3cgPSBsZW5ndGggLSAxOwogICAgICAgICAgICBjb2x1bW4gPSB1bmRlZmluZWQ7CiAgICAgICAgfQogICAgICAgIHZhciBsaW5lID0gdGhpcy5nZXRMaW5lKHJvdyk7CiAgICAgICAgaWYgKGNvbHVtbiA9PSB1bmRlZmluZWQpCiAgICAgICAgICAgIGNvbHVtbiA9IGxpbmUubGVuZ3RoOwogICAgICAgIGNvbHVtbiA9IE1hdGgubWluKE1hdGgubWF4KGNvbHVtbiwgMCksIGxpbmUubGVuZ3RoKTsKICAgICAgICByZXR1cm4geyByb3c6IHJvdywgY29sdW1uOiBjb2x1bW4gfTsKICAgIH07CiAgICB0aGlzLmNsb25lUG9zID0gZnVuY3Rpb24gKHBvcykgewogICAgICAgIHJldHVybiB7IHJvdzogcG9zLnJvdywgY29sdW1uOiBwb3MuY29sdW1uIH07CiAgICB9OwogICAgdGhpcy5wb3MgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICByZXR1cm4geyByb3c6IHJvdywgY29sdW1uOiBjb2x1bW4gfTsKICAgIH07CiAgICB0aGlzLiRjbGlwUG9zaXRpb24gPSBmdW5jdGlvbiAocG9zaXRpb24pIHsKICAgICAgICB2YXIgbGVuZ3RoID0gdGhpcy5nZXRMZW5ndGgoKTsKICAgICAgICBpZiAocG9zaXRpb24ucm93ID49IGxlbmd0aCkgewogICAgICAgICAgICBwb3NpdGlvbi5yb3cgPSBNYXRoLm1heCgwLCBsZW5ndGggLSAxKTsKICAgICAgICAgICAgcG9zaXRpb24uY29sdW1uID0gdGhpcy5nZXRMaW5lKGxlbmd0aCAtIDEpLmxlbmd0aDsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIHBvc2l0aW9uLnJvdyA9IE1hdGgubWF4KDAsIHBvc2l0aW9uLnJvdyk7CiAgICAgICAgICAgIHBvc2l0aW9uLmNvbHVtbiA9IE1hdGgubWluKE1hdGgubWF4KHBvc2l0aW9uLmNvbHVtbiwgMCksIHRoaXMuZ2V0TGluZShwb3NpdGlvbi5yb3cpLmxlbmd0aCk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBwb3NpdGlvbjsKICAgIH07CiAgICB0aGlzLmluc2VydEZ1bGxMaW5lcyA9IGZ1bmN0aW9uIChyb3csIGxpbmVzKSB7CiAgICAgICAgcm93ID0gTWF0aC5taW4oTWF0aC5tYXgocm93LCAwKSwgdGhpcy5nZXRMZW5ndGgoKSk7CiAgICAgICAgdmFyIGNvbHVtbiA9IDA7CiAgICAgICAgaWYgKHJvdyA8IHRoaXMuZ2V0TGVuZ3RoKCkpIHsKICAgICAgICAgICAgbGluZXMgPSBsaW5lcy5jb25jYXQoWyIiXSk7CiAgICAgICAgICAgIGNvbHVtbiA9IDA7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICBsaW5lcyA9IFsiIl0uY29uY2F0KGxpbmVzKTsKICAgICAgICAgICAgcm93LS07CiAgICAgICAgICAgIGNvbHVtbiA9IHRoaXMuJGxpbmVzW3Jvd10ubGVuZ3RoOwogICAgICAgIH0KICAgICAgICB0aGlzLmluc2VydE1lcmdlZExpbmVzKHsgcm93OiByb3csIGNvbHVtbjogY29sdW1uIH0sIGxpbmVzKTsKICAgIH07CiAgICB0aGlzLmluc2VydE1lcmdlZExpbmVzID0gZnVuY3Rpb24gKHBvc2l0aW9uLCBsaW5lcykgewogICAgICAgIHZhciBzdGFydCA9IHRoaXMuY2xpcHBlZFBvcyhwb3NpdGlvbi5yb3csIHBvc2l0aW9uLmNvbHVtbik7CiAgICAgICAgdmFyIGVuZCA9IHsKICAgICAgICAgICAgcm93OiBzdGFydC5yb3cgKyBsaW5lcy5sZW5ndGggLSAxLAogICAgICAgICAgICBjb2x1bW46IChsaW5lcy5sZW5ndGggPT0gMSA/IHN0YXJ0LmNvbHVtbiA6IDApICsgbGluZXNbbGluZXMubGVuZ3RoIC0gMV0ubGVuZ3RoCiAgICAgICAgfTsKICAgICAgICB0aGlzLmFwcGx5RGVsdGEoewogICAgICAgICAgICBzdGFydDogc3RhcnQsCiAgICAgICAgICAgIGVuZDogZW5kLAogICAgICAgICAgICBhY3Rpb246ICJpbnNlcnQiLAogICAgICAgICAgICBsaW5lczogbGluZXMKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gdGhpcy5jbG9uZVBvcyhlbmQpOwogICAgfTsKICAgIHRoaXMucmVtb3ZlID0gZnVuY3Rpb24gKHJhbmdlKSB7CiAgICAgICAgdmFyIHN0YXJ0ID0gdGhpcy5jbGlwcGVkUG9zKHJhbmdlLnN0YXJ0LnJvdywgcmFuZ2Uuc3RhcnQuY29sdW1uKTsKICAgICAgICB2YXIgZW5kID0gdGhpcy5jbGlwcGVkUG9zKHJhbmdlLmVuZC5yb3csIHJhbmdlLmVuZC5jb2x1bW4pOwogICAgICAgIHRoaXMuYXBwbHlEZWx0YSh7CiAgICAgICAgICAgIHN0YXJ0OiBzdGFydCwKICAgICAgICAgICAgZW5kOiBlbmQsCiAgICAgICAgICAgIGFjdGlvbjogInJlbW92ZSIsCiAgICAgICAgICAgIGxpbmVzOiB0aGlzLmdldExpbmVzRm9yUmFuZ2UoeyBzdGFydDogc3RhcnQsIGVuZDogZW5kIH0pCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIHRoaXMuY2xvbmVQb3Moc3RhcnQpOwogICAgfTsKICAgIHRoaXMucmVtb3ZlSW5MaW5lID0gZnVuY3Rpb24gKHJvdywgc3RhcnRDb2x1bW4sIGVuZENvbHVtbikgewogICAgICAgIHZhciBzdGFydCA9IHRoaXMuY2xpcHBlZFBvcyhyb3csIHN0YXJ0Q29sdW1uKTsKICAgICAgICB2YXIgZW5kID0gdGhpcy5jbGlwcGVkUG9zKHJvdywgZW5kQ29sdW1uKTsKICAgICAgICB0aGlzLmFwcGx5RGVsdGEoewogICAgICAgICAgICBzdGFydDogc3RhcnQsCiAgICAgICAgICAgIGVuZDogZW5kLAogICAgICAgICAgICBhY3Rpb246ICJyZW1vdmUiLAogICAgICAgICAgICBsaW5lczogdGhpcy5nZXRMaW5lc0ZvclJhbmdlKHsgc3RhcnQ6IHN0YXJ0LCBlbmQ6IGVuZCB9KQogICAgICAgIH0sIHRydWUpOwogICAgICAgIHJldHVybiB0aGlzLmNsb25lUG9zKHN0YXJ0KTsKICAgIH07CiAgICB0aGlzLnJlbW92ZUZ1bGxMaW5lcyA9IGZ1bmN0aW9uIChmaXJzdFJvdywgbGFzdFJvdykgewogICAgICAgIGZpcnN0Um93ID0gTWF0aC5taW4oTWF0aC5tYXgoMCwgZmlyc3RSb3cpLCB0aGlzLmdldExlbmd0aCgpIC0gMSk7CiAgICAgICAgbGFzdFJvdyA9IE1hdGgubWluKE1hdGgubWF4KDAsIGxhc3RSb3cpLCB0aGlzLmdldExlbmd0aCgpIC0gMSk7CiAgICAgICAgdmFyIGRlbGV0ZUZpcnN0TmV3TGluZSA9IGxhc3RSb3cgPT0gdGhpcy5nZXRMZW5ndGgoKSAtIDEgJiYgZmlyc3RSb3cgPiAwOwogICAgICAgIHZhciBkZWxldGVMYXN0TmV3TGluZSA9IGxhc3RSb3cgPCB0aGlzLmdldExlbmd0aCgpIC0gMTsKICAgICAgICB2YXIgc3RhcnRSb3cgPSAoZGVsZXRlRmlyc3ROZXdMaW5lID8gZmlyc3RSb3cgLSAxIDogZmlyc3RSb3cpOwogICAgICAgIHZhciBzdGFydENvbCA9IChkZWxldGVGaXJzdE5ld0xpbmUgPyB0aGlzLmdldExpbmUoc3RhcnRSb3cpLmxlbmd0aCA6IDApOwogICAgICAgIHZhciBlbmRSb3cgPSAoZGVsZXRlTGFzdE5ld0xpbmUgPyBsYXN0Um93ICsgMSA6IGxhc3RSb3cpOwogICAgICAgIHZhciBlbmRDb2wgPSAoZGVsZXRlTGFzdE5ld0xpbmUgPyAwIDogdGhpcy5nZXRMaW5lKGVuZFJvdykubGVuZ3RoKTsKICAgICAgICB2YXIgcmFuZ2UgPSBuZXcgUmFuZ2Uoc3RhcnRSb3csIHN0YXJ0Q29sLCBlbmRSb3csIGVuZENvbCk7CiAgICAgICAgdmFyIGRlbGV0ZWRMaW5lcyA9IHRoaXMuJGxpbmVzLnNsaWNlKGZpcnN0Um93LCBsYXN0Um93ICsgMSk7CiAgICAgICAgdGhpcy5hcHBseURlbHRhKHsKICAgICAgICAgICAgc3RhcnQ6IHJhbmdlLnN0YXJ0LAogICAgICAgICAgICBlbmQ6IHJhbmdlLmVuZCwKICAgICAgICAgICAgYWN0aW9uOiAicmVtb3ZlIiwKICAgICAgICAgICAgbGluZXM6IHRoaXMuZ2V0TGluZXNGb3JSYW5nZShyYW5nZSkKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gZGVsZXRlZExpbmVzOwogICAgfTsKICAgIHRoaXMucmVtb3ZlTmV3TGluZSA9IGZ1bmN0aW9uIChyb3cpIHsKICAgICAgICBpZiAocm93IDwgdGhpcy5nZXRMZW5ndGgoKSAtIDEgJiYgcm93ID49IDApIHsKICAgICAgICAgICAgdGhpcy5hcHBseURlbHRhKHsKICAgICAgICAgICAgICAgIHN0YXJ0OiB0aGlzLnBvcyhyb3csIHRoaXMuZ2V0TGluZShyb3cpLmxlbmd0aCksCiAgICAgICAgICAgICAgICBlbmQ6IHRoaXMucG9zKHJvdyArIDEsIDApLAogICAgICAgICAgICAgICAgYWN0aW9uOiAicmVtb3ZlIiwKICAgICAgICAgICAgICAgIGxpbmVzOiBbIiIsICIiXQogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICB9OwogICAgdGhpcy5yZXBsYWNlID0gZnVuY3Rpb24gKHJhbmdlLCB0ZXh0KSB7CiAgICAgICAgaWYgKCEocmFuZ2UgaW5zdGFuY2VvZiBSYW5nZSkpCiAgICAgICAgICAgIHJhbmdlID0gUmFuZ2UuZnJvbVBvaW50cyhyYW5nZS5zdGFydCwgcmFuZ2UuZW5kKTsKICAgICAgICBpZiAodGV4dC5sZW5ndGggPT09IDAgJiYgcmFuZ2UuaXNFbXB0eSgpKQogICAgICAgICAgICByZXR1cm4gcmFuZ2Uuc3RhcnQ7CiAgICAgICAgaWYgKHRleHQgPT0gdGhpcy5nZXRUZXh0UmFuZ2UocmFuZ2UpKQogICAgICAgICAgICByZXR1cm4gcmFuZ2UuZW5kOwogICAgICAgIHRoaXMucmVtb3ZlKHJhbmdlKTsKICAgICAgICB2YXIgZW5kOwogICAgICAgIGlmICh0ZXh0KSB7CiAgICAgICAgICAgIGVuZCA9IHRoaXMuaW5zZXJ0KHJhbmdlLnN0YXJ0LCB0ZXh0KTsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIGVuZCA9IHJhbmdlLnN0YXJ0OwogICAgICAgIH0KICAgICAgICByZXR1cm4gZW5kOwogICAgfTsKICAgIHRoaXMuYXBwbHlEZWx0YXMgPSBmdW5jdGlvbiAoZGVsdGFzKSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkZWx0YXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgdGhpcy5hcHBseURlbHRhKGRlbHRhc1tpXSk7CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMucmV2ZXJ0RGVsdGFzID0gZnVuY3Rpb24gKGRlbHRhcykgewogICAgICAgIGZvciAodmFyIGkgPSBkZWx0YXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHsKICAgICAgICAgICAgdGhpcy5yZXZlcnREZWx0YShkZWx0YXNbaV0pOwogICAgICAgIH0KICAgIH07CiAgICB0aGlzLmFwcGx5RGVsdGEgPSBmdW5jdGlvbiAoZGVsdGEsIGRvTm90VmFsaWRhdGUpIHsKICAgICAgICB2YXIgaXNJbnNlcnQgPSBkZWx0YS5hY3Rpb24gPT0gImluc2VydCI7CiAgICAgICAgaWYgKGlzSW5zZXJ0ID8gZGVsdGEubGluZXMubGVuZ3RoIDw9IDEgJiYgIWRlbHRhLmxpbmVzWzBdCiAgICAgICAgICAgIDogIVJhbmdlLmNvbXBhcmVQb2ludHMoZGVsdGEuc3RhcnQsIGRlbHRhLmVuZCkpIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBpZiAoaXNJbnNlcnQgJiYgZGVsdGEubGluZXMubGVuZ3RoID4gMjAwMDApIHsKICAgICAgICAgICAgdGhpcy4kc3BsaXRBbmRhcHBseUxhcmdlRGVsdGEoZGVsdGEsIDIwMDAwKTsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIGFwcGx5RGVsdGEodGhpcy4kbGluZXMsIGRlbHRhLCBkb05vdFZhbGlkYXRlKTsKICAgICAgICAgICAgdGhpcy5fc2lnbmFsKCJjaGFuZ2UiLCBkZWx0YSk7CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMuJHNhZmVBcHBseURlbHRhID0gZnVuY3Rpb24gKGRlbHRhKSB7CiAgICAgICAgdmFyIGRvY0xlbmd0aCA9IHRoaXMuJGxpbmVzLmxlbmd0aDsKICAgICAgICBpZiAoZGVsdGEuYWN0aW9uID09ICJyZW1vdmUiICYmIGRlbHRhLnN0YXJ0LnJvdyA8IGRvY0xlbmd0aCAmJiBkZWx0YS5lbmQucm93IDwgZG9jTGVuZ3RoCiAgICAgICAgICAgIHx8IGRlbHRhLmFjdGlvbiA9PSAiaW5zZXJ0IiAmJiBkZWx0YS5zdGFydC5yb3cgPD0gZG9jTGVuZ3RoKSB7CiAgICAgICAgICAgIHRoaXMuYXBwbHlEZWx0YShkZWx0YSk7CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMuJHNwbGl0QW5kYXBwbHlMYXJnZURlbHRhID0gZnVuY3Rpb24gKGRlbHRhLCBNQVgpIHsKICAgICAgICB2YXIgbGluZXMgPSBkZWx0YS5saW5lczsKICAgICAgICB2YXIgbCA9IGxpbmVzLmxlbmd0aCAtIE1BWCArIDE7CiAgICAgICAgdmFyIHJvdyA9IGRlbHRhLnN0YXJ0LnJvdzsKICAgICAgICB2YXIgY29sdW1uID0gZGVsdGEuc3RhcnQuY29sdW1uOwogICAgICAgIGZvciAodmFyIGZyb20gPSAwLCB0byA9IDA7IGZyb20gPCBsOyBmcm9tID0gdG8pIHsKICAgICAgICAgICAgdG8gKz0gTUFYIC0gMTsKICAgICAgICAgICAgdmFyIGNodW5rID0gbGluZXMuc2xpY2UoZnJvbSwgdG8pOwogICAgICAgICAgICBjaHVuay5wdXNoKCIiKTsKICAgICAgICAgICAgdGhpcy5hcHBseURlbHRhKHsKICAgICAgICAgICAgICAgIHN0YXJ0OiB0aGlzLnBvcyhyb3cgKyBmcm9tLCBjb2x1bW4pLAogICAgICAgICAgICAgICAgZW5kOiB0aGlzLnBvcyhyb3cgKyB0bywgY29sdW1uID0gMCksCiAgICAgICAgICAgICAgICBhY3Rpb246IGRlbHRhLmFjdGlvbiwKICAgICAgICAgICAgICAgIGxpbmVzOiBjaHVuawogICAgICAgICAgICB9LCB0cnVlKTsKICAgICAgICB9CiAgICAgICAgZGVsdGEubGluZXMgPSBsaW5lcy5zbGljZShmcm9tKTsKICAgICAgICBkZWx0YS5zdGFydC5yb3cgPSByb3cgKyBmcm9tOwogICAgICAgIGRlbHRhLnN0YXJ0LmNvbHVtbiA9IGNvbHVtbjsKICAgICAgICB0aGlzLmFwcGx5RGVsdGEoZGVsdGEsIHRydWUpOwogICAgfTsKICAgIHRoaXMucmV2ZXJ0RGVsdGEgPSBmdW5jdGlvbiAoZGVsdGEpIHsKICAgICAgICB0aGlzLiRzYWZlQXBwbHlEZWx0YSh7CiAgICAgICAgICAgIHN0YXJ0OiB0aGlzLmNsb25lUG9zKGRlbHRhLnN0YXJ0KSwKICAgICAgICAgICAgZW5kOiB0aGlzLmNsb25lUG9zKGRlbHRhLmVuZCksCiAgICAgICAgICAgIGFjdGlvbjogKGRlbHRhLmFjdGlvbiA9PSAiaW5zZXJ0IiA/ICJyZW1vdmUiIDogImluc2VydCIpLAogICAgICAgICAgICBsaW5lczogZGVsdGEubGluZXMuc2xpY2UoKQogICAgICAgIH0pOwogICAgfTsKICAgIHRoaXMuaW5kZXhUb1Bvc2l0aW9uID0gZnVuY3Rpb24gKGluZGV4LCBzdGFydFJvdykgewogICAgICAgIHZhciBsaW5lcyA9IHRoaXMuJGxpbmVzIHx8IHRoaXMuZ2V0QWxsTGluZXMoKTsKICAgICAgICB2YXIgbmV3bGluZUxlbmd0aCA9IHRoaXMuZ2V0TmV3TGluZUNoYXJhY3RlcigpLmxlbmd0aDsKICAgICAgICBmb3IgKHZhciBpID0gc3RhcnRSb3cgfHwgMCwgbCA9IGxpbmVzLmxlbmd0aDsgaSA8IGw7IGkrKykgewogICAgICAgICAgICBpbmRleCAtPSBsaW5lc1tpXS5sZW5ndGggKyBuZXdsaW5lTGVuZ3RoOwogICAgICAgICAgICBpZiAoaW5kZXggPCAwKQogICAgICAgICAgICAgICAgcmV0dXJuIHsgcm93OiBpLCBjb2x1bW46IGluZGV4ICsgbGluZXNbaV0ubGVuZ3RoICsgbmV3bGluZUxlbmd0aCB9OwogICAgICAgIH0KICAgICAgICByZXR1cm4geyByb3c6IGwgLSAxLCBjb2x1bW46IGluZGV4ICsgbGluZXNbbCAtIDFdLmxlbmd0aCArIG5ld2xpbmVMZW5ndGggfTsKICAgIH07CiAgICB0aGlzLnBvc2l0aW9uVG9JbmRleCA9IGZ1bmN0aW9uIChwb3MsIHN0YXJ0Um93KSB7CiAgICAgICAgdmFyIGxpbmVzID0gdGhpcy4kbGluZXMgfHwgdGhpcy5nZXRBbGxMaW5lcygpOwogICAgICAgIHZhciBuZXdsaW5lTGVuZ3RoID0gdGhpcy5nZXROZXdMaW5lQ2hhcmFjdGVyKCkubGVuZ3RoOwogICAgICAgIHZhciBpbmRleCA9IDA7CiAgICAgICAgdmFyIHJvdyA9IE1hdGgubWluKHBvcy5yb3csIGxpbmVzLmxlbmd0aCk7CiAgICAgICAgZm9yICh2YXIgaSA9IHN0YXJ0Um93IHx8IDA7IGkgPCByb3c7ICsraSkKICAgICAgICAgICAgaW5kZXggKz0gbGluZXNbaV0ubGVuZ3RoICsgbmV3bGluZUxlbmd0aDsKICAgICAgICByZXR1cm4gaW5kZXggKyBwb3MuY29sdW1uOwogICAgfTsKfSkuY2FsbChEb2N1bWVudC5wcm90b3R5cGUpOwpleHBvcnRzLkRvY3VtZW50ID0gRG9jdW1lbnQ7Cgp9KTsKCmFjZS5kZWZpbmUoImFjZS9saWIvbGFuZyIsW10sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSl7InVzZSBzdHJpY3QiOwpleHBvcnRzLmxhc3QgPSBmdW5jdGlvbiAoYSkgewogICAgcmV0dXJuIGFbYS5sZW5ndGggLSAxXTsKfTsKZXhwb3J0cy5zdHJpbmdSZXZlcnNlID0gZnVuY3Rpb24gKHN0cmluZykgewogICAgcmV0dXJuIHN0cmluZy5zcGxpdCgiIikucmV2ZXJzZSgpLmpvaW4oIiIpOwp9OwpleHBvcnRzLnN0cmluZ1JlcGVhdCA9IGZ1bmN0aW9uIChzdHJpbmcsIGNvdW50KSB7CiAgICB2YXIgcmVzdWx0ID0gJyc7CiAgICB3aGlsZSAoY291bnQgPiAwKSB7CiAgICAgICAgaWYgKGNvdW50ICYgMSkKICAgICAgICAgICAgcmVzdWx0ICs9IHN0cmluZzsKICAgICAgICBpZiAoY291bnQgPj49IDEpCiAgICAgICAgICAgIHN0cmluZyArPSBzdHJpbmc7CiAgICB9CiAgICByZXR1cm4gcmVzdWx0Owp9Owp2YXIgdHJpbUJlZ2luUmVnZXhwID0gL15cc1xzKi87CnZhciB0cmltRW5kUmVnZXhwID0gL1xzXHMqJC87CmV4cG9ydHMuc3RyaW5nVHJpbUxlZnQgPSBmdW5jdGlvbiAoc3RyaW5nKSB7CiAgICByZXR1cm4gc3RyaW5nLnJlcGxhY2UodHJpbUJlZ2luUmVnZXhwLCAnJyk7Cn07CmV4cG9ydHMuc3RyaW5nVHJpbVJpZ2h0ID0gZnVuY3Rpb24gKHN0cmluZykgewogICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKHRyaW1FbmRSZWdleHAsICcnKTsKfTsKZXhwb3J0cy5jb3B5T2JqZWN0ID0gZnVuY3Rpb24gKG9iaikgewogICAgdmFyIGNvcHkgPSB7fTsKICAgIGZvciAodmFyIGtleSBpbiBvYmopIHsKICAgICAgICBjb3B5W2tleV0gPSBvYmpba2V5XTsKICAgIH0KICAgIHJldHVybiBjb3B5Owp9OwpleHBvcnRzLmNvcHlBcnJheSA9IGZ1bmN0aW9uIChhcnJheSkgewogICAgdmFyIGNvcHkgPSBbXTsKICAgIGZvciAodmFyIGkgPSAwLCBsID0gYXJyYXkubGVuZ3RoOyBpIDwgbDsgaSsrKSB7CiAgICAgICAgaWYgKGFycmF5W2ldICYmIHR5cGVvZiBhcnJheVtpXSA9PSAib2JqZWN0IikKICAgICAgICAgICAgY29weVtpXSA9IHRoaXMuY29weU9iamVjdChhcnJheVtpXSk7CiAgICAgICAgZWxzZQogICAgICAgICAgICBjb3B5W2ldID0gYXJyYXlbaV07CiAgICB9CiAgICByZXR1cm4gY29weTsKfTsKZXhwb3J0cy5kZWVwQ29weSA9IGZ1bmN0aW9uIGRlZXBDb3B5KG9iaikgewogICAgaWYgKHR5cGVvZiBvYmogIT09ICJvYmplY3QiIHx8ICFvYmopCiAgICAgICAgcmV0dXJuIG9iajsKICAgIHZhciBjb3B5OwogICAgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkgewogICAgICAgIGNvcHkgPSBbXTsKICAgICAgICBmb3IgKHZhciBrZXkgPSAwOyBrZXkgPCBvYmoubGVuZ3RoOyBrZXkrKykgewogICAgICAgICAgICBjb3B5W2tleV0gPSBkZWVwQ29weShvYmpba2V5XSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBjb3B5OwogICAgfQogICAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopICE9PSAiW29iamVjdCBPYmplY3RdIikKICAgICAgICByZXR1cm4gb2JqOwogICAgY29weSA9IHt9OwogICAgZm9yICh2YXIga2V5IGluIG9iaikKICAgICAgICBjb3B5W2tleV0gPSBkZWVwQ29weShvYmpba2V5XSk7CiAgICByZXR1cm4gY29weTsKfTsKZXhwb3J0cy5hcnJheVRvTWFwID0gZnVuY3Rpb24gKGFycikgewogICAgdmFyIG1hcCA9IHt9OwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsKICAgICAgICBtYXBbYXJyW2ldXSA9IDE7CiAgICB9CiAgICByZXR1cm4gbWFwOwp9OwpleHBvcnRzLmNyZWF0ZU1hcCA9IGZ1bmN0aW9uIChwcm9wcykgewogICAgdmFyIG1hcCA9IE9iamVjdC5jcmVhdGUobnVsbCk7CiAgICBmb3IgKHZhciBpIGluIHByb3BzKSB7CiAgICAgICAgbWFwW2ldID0gcHJvcHNbaV07CiAgICB9CiAgICByZXR1cm4gbWFwOwp9OwpleHBvcnRzLmFycmF5UmVtb3ZlID0gZnVuY3Rpb24gKGFycmF5LCB2YWx1ZSkgewogICAgZm9yICh2YXIgaSA9IDA7IGkgPD0gYXJyYXkubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAodmFsdWUgPT09IGFycmF5W2ldKSB7CiAgICAgICAgICAgIGFycmF5LnNwbGljZShpLCAxKTsKICAgICAgICB9CiAgICB9Cn07CmV4cG9ydHMuZXNjYXBlUmVnRXhwID0gZnVuY3Rpb24gKHN0cikgewogICAgcmV0dXJuIHN0ci5yZXBsYWNlKC8oWy4qKz9eJHt9KCl8W1xdXC9cXF0pL2csICdcXCQxJyk7Cn07CmV4cG9ydHMuZXNjYXBlSFRNTCA9IGZ1bmN0aW9uIChzdHIpIHsKICAgIHJldHVybiAoIiIgKyBzdHIpLnJlcGxhY2UoLyYvZywgIiYjMzg7IikucmVwbGFjZSgvIi9nLCAiJiMzNDsiKS5yZXBsYWNlKC8nL2csICImIzM5OyIpLnJlcGxhY2UoLzwvZywgIiYjNjA7Iik7Cn07CmV4cG9ydHMuZ2V0TWF0Y2hPZmZzZXRzID0gZnVuY3Rpb24gKHN0cmluZywgcmVnRXhwKSB7CiAgICB2YXIgbWF0Y2hlcyA9IFtdOwogICAgc3RyaW5nLnJlcGxhY2UocmVnRXhwLCBmdW5jdGlvbiAoc3RyKSB7CiAgICAgICAgbWF0Y2hlcy5wdXNoKHsKICAgICAgICAgICAgb2Zmc2V0OiBhcmd1bWVudHNbYXJndW1lbnRzLmxlbmd0aCAtIDJdLAogICAgICAgICAgICBsZW5ndGg6IHN0ci5sZW5ndGgKICAgICAgICB9KTsKICAgIH0pOwogICAgcmV0dXJuIG1hdGNoZXM7Cn07CmV4cG9ydHMuZGVmZXJyZWRDYWxsID0gZnVuY3Rpb24gKGZjbikgewogICAgdmFyIHRpbWVyID0gbnVsbDsKICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB0aW1lciA9IG51bGw7CiAgICAgICAgZmNuKCk7CiAgICB9OwogICAgdmFyIGRlZmVycmVkID0gZnVuY3Rpb24gKHRpbWVvdXQpIHsKICAgICAgICBkZWZlcnJlZC5jYW5jZWwoKTsKICAgICAgICB0aW1lciA9IHNldFRpbWVvdXQoY2FsbGJhY2ssIHRpbWVvdXQgfHwgMCk7CiAgICAgICAgcmV0dXJuIGRlZmVycmVkOwogICAgfTsKICAgIGRlZmVycmVkLnNjaGVkdWxlID0gZGVmZXJyZWQ7CiAgICBkZWZlcnJlZC5jYWxsID0gZnVuY3Rpb24gKCkgewogICAgICAgIHRoaXMuY2FuY2VsKCk7CiAgICAgICAgZmNuKCk7CiAgICAgICAgcmV0dXJuIGRlZmVycmVkOwogICAgfTsKICAgIGRlZmVycmVkLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBjbGVhclRpbWVvdXQodGltZXIpOwogICAgICAgIHRpbWVyID0gbnVsbDsKICAgICAgICByZXR1cm4gZGVmZXJyZWQ7CiAgICB9OwogICAgZGVmZXJyZWQuaXNQZW5kaW5nID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiB0aW1lcjsKICAgIH07CiAgICByZXR1cm4gZGVmZXJyZWQ7Cn07CmV4cG9ydHMuZGVsYXllZENhbGwgPSBmdW5jdGlvbiAoZmNuLCBkZWZhdWx0VGltZW91dCkgewogICAgdmFyIHRpbWVyID0gbnVsbDsKICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB0aW1lciA9IG51bGw7CiAgICAgICAgZmNuKCk7CiAgICB9OwogICAgdmFyIF9zZWxmID0gZnVuY3Rpb24gKHRpbWVvdXQpIHsKICAgICAgICBpZiAodGltZXIgPT0gbnVsbCkKICAgICAgICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KGNhbGxiYWNrLCB0aW1lb3V0IHx8IGRlZmF1bHRUaW1lb3V0KTsKICAgIH07CiAgICBfc2VsZi5kZWxheSA9IGZ1bmN0aW9uICh0aW1lb3V0KSB7CiAgICAgICAgdGltZXIgJiYgY2xlYXJUaW1lb3V0KHRpbWVyKTsKICAgICAgICB0aW1lciA9IHNldFRpbWVvdXQoY2FsbGJhY2ssIHRpbWVvdXQgfHwgZGVmYXVsdFRpbWVvdXQpOwogICAgfTsKICAgIF9zZWxmLnNjaGVkdWxlID0gX3NlbGY7CiAgICBfc2VsZi5jYWxsID0gZnVuY3Rpb24gKCkgewogICAgICAgIHRoaXMuY2FuY2VsKCk7CiAgICAgICAgZmNuKCk7CiAgICB9OwogICAgX3NlbGYuY2FuY2VsID0gZnVuY3Rpb24gKCkgewogICAgICAgIHRpbWVyICYmIGNsZWFyVGltZW91dCh0aW1lcik7CiAgICAgICAgdGltZXIgPSBudWxsOwogICAgfTsKICAgIF9zZWxmLmlzUGVuZGluZyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gdGltZXI7CiAgICB9OwogICAgcmV0dXJuIF9zZWxmOwp9OwoKfSk7CgphY2UuZGVmaW5lKCJhY2Uvd29ya2VyL21pcnJvciIsW10sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkgewoidXNlIHN0cmljdCI7Cgp2YXIgRG9jdW1lbnQgPSByZXF1aXJlKCIuLi9kb2N1bWVudCIpLkRvY3VtZW50Owp2YXIgbGFuZyA9IHJlcXVpcmUoIi4uL2xpYi9sYW5nIik7CiAgICAKdmFyIE1pcnJvciA9IGV4cG9ydHMuTWlycm9yID0gZnVuY3Rpb24oc2VuZGVyKSB7CiAgICB0aGlzLnNlbmRlciA9IHNlbmRlcjsKICAgIHZhciBkb2MgPSB0aGlzLmRvYyA9IG5ldyBEb2N1bWVudCgiIik7CiAgICAKICAgIHZhciBkZWZlcnJlZFVwZGF0ZSA9IHRoaXMuZGVmZXJyZWRVcGRhdGUgPSBsYW5nLmRlbGF5ZWRDYWxsKHRoaXMub25VcGRhdGUuYmluZCh0aGlzKSk7CiAgICAKICAgIHZhciBfc2VsZiA9IHRoaXM7CiAgICBzZW5kZXIub24oImNoYW5nZSIsIGZ1bmN0aW9uKGUpIHsKICAgICAgICB2YXIgZGF0YSA9IGUuZGF0YTsKICAgICAgICBpZiAoZGF0YVswXS5zdGFydCkgewogICAgICAgICAgICBkb2MuYXBwbHlEZWx0YXMoZGF0YSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSArPSAyKSB7CiAgICAgICAgICAgICAgICB2YXIgZCwgZXJyOyAKICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGFbaSsxXSkpIHsKICAgICAgICAgICAgICAgICAgICBkID0ge2FjdGlvbjogImluc2VydCIsIHN0YXJ0OiBkYXRhW2ldLCBsaW5lczogZGF0YVtpKzFdfTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgZCA9IHthY3Rpb246ICJyZW1vdmUiLCBzdGFydDogZGF0YVtpXSwgZW5kOiBkYXRhW2krMV19OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBpZiAoKGQuYWN0aW9uID09ICJpbnNlcnQiID8gZC5zdGFydCA6IGQuZW5kKS5yb3cgPj0gZG9jLiRsaW5lcy5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgICBlcnIgPSBuZXcgRXJyb3IoIkludmFsaWQgZGVsdGEiKTsKICAgICAgICAgICAgICAgICAgICBlcnIuZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogX3NlbGYuJHBhdGgsCiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVzTGVuZ3RoOiBkb2MuJGxpbmVzLmxlbmd0aCwKICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IGQuc3RhcnQsCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZDogZC5lbmQKICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgIHRocm93IGVycjsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBkb2MuYXBwbHlEZWx0YShkLCB0cnVlKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZiAoX3NlbGYuJHRpbWVvdXQpCiAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZFVwZGF0ZS5zY2hlZHVsZShfc2VsZi4kdGltZW91dCk7CiAgICAgICAgX3NlbGYub25VcGRhdGUoKTsKICAgIH0pOwp9OwoKKGZ1bmN0aW9uKCkgewogICAgCiAgICB0aGlzLiR0aW1lb3V0ID0gNTAwOwogICAgCiAgICB0aGlzLnNldFRpbWVvdXQgPSBmdW5jdGlvbih0aW1lb3V0KSB7CiAgICAgICAgdGhpcy4kdGltZW91dCA9IHRpbWVvdXQ7CiAgICB9OwogICAgCiAgICB0aGlzLnNldFZhbHVlID0gZnVuY3Rpb24odmFsdWUpIHsKICAgICAgICB0aGlzLmRvYy5zZXRWYWx1ZSh2YWx1ZSk7CiAgICAgICAgdGhpcy5kZWZlcnJlZFVwZGF0ZS5zY2hlZHVsZSh0aGlzLiR0aW1lb3V0KTsKICAgIH07CiAgICAKICAgIHRoaXMuZ2V0VmFsdWUgPSBmdW5jdGlvbihjYWxsYmFja0lkKSB7CiAgICAgICAgdGhpcy5zZW5kZXIuY2FsbGJhY2sodGhpcy5kb2MuZ2V0VmFsdWUoKSwgY2FsbGJhY2tJZCk7CiAgICB9OwogICAgCiAgICB0aGlzLm9uVXBkYXRlID0gZnVuY3Rpb24oKSB7CiAgICB9OwogICAgCiAgICB0aGlzLmlzUGVuZGluZyA9IGZ1bmN0aW9uKCkgewogICAgICAgIHJldHVybiB0aGlzLmRlZmVycmVkVXBkYXRlLmlzUGVuZGluZygpOwogICAgfTsKICAgIAp9KS5jYWxsKE1pcnJvci5wcm90b3R5cGUpOwoKfSk7CgphY2UuZGVmaW5lKCJhY2UvbW9kZS9qc29uL2pzb25fcGFyc2UiLFtdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHsKInVzZSBzdHJpY3QiOwoKICAgIHZhciBhdCwgICAgIC8vIFRoZSBpbmRleCBvZiB0aGUgY3VycmVudCBjaGFyYWN0ZXIKICAgICAgICBjaCwgICAgIC8vIFRoZSBjdXJyZW50IGNoYXJhY3RlcgogICAgICAgIGVzY2FwZWUgPSB7CiAgICAgICAgICAgICciJzogICciJywKICAgICAgICAgICAgJ1xcJzogJ1xcJywKICAgICAgICAgICAgJy8nOiAgJy8nLAogICAgICAgICAgICBiOiAgICAnXGInLAogICAgICAgICAgICBmOiAgICAnXGYnLAogICAgICAgICAgICBuOiAgICAnXG4nLAogICAgICAgICAgICByOiAgICAnXHInLAogICAgICAgICAgICB0OiAgICAnXHQnCiAgICAgICAgfSwKICAgICAgICB0ZXh0LAoKICAgICAgICBlcnJvciA9IGZ1bmN0aW9uIChtKSB7CgogICAgICAgICAgICB0aHJvdyB7CiAgICAgICAgICAgICAgICBuYW1lOiAgICAnU3ludGF4RXJyb3InLAogICAgICAgICAgICAgICAgbWVzc2FnZTogbSwKICAgICAgICAgICAgICAgIGF0OiAgICAgIGF0LAogICAgICAgICAgICAgICAgdGV4dDogICAgdGV4dAogICAgICAgICAgICB9OwogICAgICAgIH0sCgogICAgICAgIG5leHQgPSBmdW5jdGlvbiAoYykgewoKICAgICAgICAgICAgaWYgKGMgJiYgYyAhPT0gY2gpIHsKICAgICAgICAgICAgICAgIGVycm9yKCJFeHBlY3RlZCAnIiArIGMgKyAiJyBpbnN0ZWFkIG9mICciICsgY2ggKyAiJyIpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBjaCA9IHRleHQuY2hhckF0KGF0KTsKICAgICAgICAgICAgYXQgKz0gMTsKICAgICAgICAgICAgcmV0dXJuIGNoOwogICAgICAgIH0sCgogICAgICAgIG51bWJlciA9IGZ1bmN0aW9uICgpIHsKCiAgICAgICAgICAgIHZhciBudW1iZXIsCiAgICAgICAgICAgICAgICBzdHJpbmcgPSAnJzsKCiAgICAgICAgICAgIGlmIChjaCA9PT0gJy0nKSB7CiAgICAgICAgICAgICAgICBzdHJpbmcgPSAnLSc7CiAgICAgICAgICAgICAgICBuZXh0KCctJyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgd2hpbGUgKGNoID49ICcwJyAmJiBjaCA8PSAnOScpIHsKICAgICAgICAgICAgICAgIHN0cmluZyArPSBjaDsKICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoY2ggPT09ICcuJykgewogICAgICAgICAgICAgICAgc3RyaW5nICs9ICcuJzsKICAgICAgICAgICAgICAgIHdoaWxlIChuZXh0KCkgJiYgY2ggPj0gJzAnICYmIGNoIDw9ICc5JykgewogICAgICAgICAgICAgICAgICAgIHN0cmluZyArPSBjaDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoY2ggPT09ICdlJyB8fCBjaCA9PT0gJ0UnKSB7CiAgICAgICAgICAgICAgICBzdHJpbmcgKz0gY2g7CiAgICAgICAgICAgICAgICBuZXh0KCk7CiAgICAgICAgICAgICAgICBpZiAoY2ggPT09ICctJyB8fCBjaCA9PT0gJysnKSB7CiAgICAgICAgICAgICAgICAgICAgc3RyaW5nICs9IGNoOwogICAgICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHdoaWxlIChjaCA+PSAnMCcgJiYgY2ggPD0gJzknKSB7CiAgICAgICAgICAgICAgICAgICAgc3RyaW5nICs9IGNoOwogICAgICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBudW1iZXIgPSArc3RyaW5nOwogICAgICAgICAgICBpZiAoaXNOYU4obnVtYmVyKSkgewogICAgICAgICAgICAgICAgZXJyb3IoIkJhZCBudW1iZXIiKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiBudW1iZXI7CiAgICAgICAgICAgIH0KICAgICAgICB9LAoKICAgICAgICBzdHJpbmcgPSBmdW5jdGlvbiAoKSB7CgogICAgICAgICAgICB2YXIgaGV4LAogICAgICAgICAgICAgICAgaSwKICAgICAgICAgICAgICAgIHN0cmluZyA9ICcnLAogICAgICAgICAgICAgICAgdWZmZmY7CgogICAgICAgICAgICBpZiAoY2ggPT09ICciJykgewogICAgICAgICAgICAgICAgd2hpbGUgKG5leHQoKSkgewogICAgICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gJyInKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0cmluZzsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNoID09PSAnXFwnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoID09PSAndScpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVmZmZmID0gMDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCA0OyBpICs9IDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZXggPSBwYXJzZUludChuZXh0KCksIDE2KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzRmluaXRlKGhleCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVmZmZmID0gdWZmZmYgKiAxNiArIGhleDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cmluZyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHVmZmZmKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZXNjYXBlZVtjaF0gPT09ICdzdHJpbmcnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJpbmcgKz0gZXNjYXBlZVtjaF07CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2ggPT0gIlxuIiB8fCBjaCA9PSAiXHIiKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN0cmluZyArPSBjaDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZXJyb3IoIkJhZCBzdHJpbmciKTsKICAgICAgICB9LAoKICAgICAgICB3aGl0ZSA9IGZ1bmN0aW9uICgpIHsKCiAgICAgICAgICAgIHdoaWxlIChjaCAmJiBjaCA8PSAnICcpIHsKICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgfQogICAgICAgIH0sCgogICAgICAgIHdvcmQgPSBmdW5jdGlvbiAoKSB7CgogICAgICAgICAgICBzd2l0Y2ggKGNoKSB7CiAgICAgICAgICAgIGNhc2UgJ3QnOgogICAgICAgICAgICAgICAgbmV4dCgndCcpOwogICAgICAgICAgICAgICAgbmV4dCgncicpOwogICAgICAgICAgICAgICAgbmV4dCgndScpOwogICAgICAgICAgICAgICAgbmV4dCgnZScpOwogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIGNhc2UgJ2YnOgogICAgICAgICAgICAgICAgbmV4dCgnZicpOwogICAgICAgICAgICAgICAgbmV4dCgnYScpOwogICAgICAgICAgICAgICAgbmV4dCgnbCcpOwogICAgICAgICAgICAgICAgbmV4dCgncycpOwogICAgICAgICAgICAgICAgbmV4dCgnZScpOwogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICBjYXNlICduJzoKICAgICAgICAgICAgICAgIG5leHQoJ24nKTsKICAgICAgICAgICAgICAgIG5leHQoJ3UnKTsKICAgICAgICAgICAgICAgIG5leHQoJ2wnKTsKICAgICAgICAgICAgICAgIG5leHQoJ2wnKTsKICAgICAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVycm9yKCJVbmV4cGVjdGVkICciICsgY2ggKyAiJyIpOwogICAgICAgIH0sCgogICAgICAgIHZhbHVlLCAgLy8gUGxhY2UgaG9sZGVyIGZvciB0aGUgdmFsdWUgZnVuY3Rpb24uCgogICAgICAgIGFycmF5ID0gZnVuY3Rpb24gKCkgewoKICAgICAgICAgICAgdmFyIGFycmF5ID0gW107CgogICAgICAgICAgICBpZiAoY2ggPT09ICdbJykgewogICAgICAgICAgICAgICAgbmV4dCgnWycpOwogICAgICAgICAgICAgICAgd2hpdGUoKTsKICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gJ10nKSB7CiAgICAgICAgICAgICAgICAgICAgbmV4dCgnXScpOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBhcnJheTsgICAvLyBlbXB0eSBhcnJheQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgd2hpbGUgKGNoKSB7CiAgICAgICAgICAgICAgICAgICAgYXJyYXkucHVzaCh2YWx1ZSgpKTsKICAgICAgICAgICAgICAgICAgICB3aGl0ZSgpOwogICAgICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gJ10nKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoJ10nKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFycmF5OwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBuZXh0KCcsJyk7CiAgICAgICAgICAgICAgICAgICAgd2hpdGUoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBlcnJvcigiQmFkIGFycmF5Iik7CiAgICAgICAgfSwKCiAgICAgICAgb2JqZWN0ID0gZnVuY3Rpb24gKCkgewoKICAgICAgICAgICAgdmFyIGtleSwKICAgICAgICAgICAgICAgIG9iamVjdCA9IHt9OwoKICAgICAgICAgICAgaWYgKGNoID09PSAneycpIHsKICAgICAgICAgICAgICAgIG5leHQoJ3snKTsKICAgICAgICAgICAgICAgIHdoaXRlKCk7CiAgICAgICAgICAgICAgICBpZiAoY2ggPT09ICd9JykgewogICAgICAgICAgICAgICAgICAgIG5leHQoJ30nKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0OyAgIC8vIGVtcHR5IG9iamVjdAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgd2hpbGUgKGNoKSB7CiAgICAgICAgICAgICAgICAgICAga2V5ID0gc3RyaW5nKCk7CiAgICAgICAgICAgICAgICAgICAgd2hpdGUoKTsKICAgICAgICAgICAgICAgICAgICBuZXh0KCc6Jyk7CiAgICAgICAgICAgICAgICAgICAgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSkgewogICAgICAgICAgICAgICAgICAgICAgICBlcnJvcignRHVwbGljYXRlIGtleSAiJyArIGtleSArICciJyk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIG9iamVjdFtrZXldID0gdmFsdWUoKTsKICAgICAgICAgICAgICAgICAgICB3aGl0ZSgpOwogICAgICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gJ30nKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoJ30nKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgbmV4dCgnLCcpOwogICAgICAgICAgICAgICAgICAgIHdoaXRlKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZXJyb3IoIkJhZCBvYmplY3QiKTsKICAgICAgICB9OwoKICAgIHZhbHVlID0gZnVuY3Rpb24gKCkgewoKICAgICAgICB3aGl0ZSgpOwogICAgICAgIHN3aXRjaCAoY2gpIHsKICAgICAgICBjYXNlICd7JzoKICAgICAgICAgICAgcmV0dXJuIG9iamVjdCgpOwogICAgICAgIGNhc2UgJ1snOgogICAgICAgICAgICByZXR1cm4gYXJyYXkoKTsKICAgICAgICBjYXNlICciJzoKICAgICAgICAgICAgcmV0dXJuIHN0cmluZygpOwogICAgICAgIGNhc2UgJy0nOgogICAgICAgICAgICByZXR1cm4gbnVtYmVyKCk7CiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgcmV0dXJuIGNoID49ICcwJyAmJiBjaCA8PSAnOScgPyBudW1iZXIoKSA6IHdvcmQoKTsKICAgICAgICB9CiAgICB9OwoKICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlLCByZXZpdmVyKSB7CiAgICAgICAgdmFyIHJlc3VsdDsKCiAgICAgICAgdGV4dCA9IHNvdXJjZTsKICAgICAgICBhdCA9IDA7CiAgICAgICAgY2ggPSAnICc7CiAgICAgICAgcmVzdWx0ID0gdmFsdWUoKTsKICAgICAgICB3aGl0ZSgpOwogICAgICAgIGlmIChjaCkgewogICAgICAgICAgICBlcnJvcigiU3ludGF4IGVycm9yIik7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gdHlwZW9mIHJldml2ZXIgPT09ICdmdW5jdGlvbicgPyBmdW5jdGlvbiB3YWxrKGhvbGRlciwga2V5KSB7CiAgICAgICAgICAgIHZhciBrLCB2LCB2YWx1ZSA9IGhvbGRlcltrZXldOwogICAgICAgICAgICBpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JykgewogICAgICAgICAgICAgICAgZm9yIChrIGluIHZhbHVlKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBrKSkgewogICAgICAgICAgICAgICAgICAgICAgICB2ID0gd2Fsayh2YWx1ZSwgayk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2ICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlW2tdID0gdjsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB2YWx1ZVtrXTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gcmV2aXZlci5jYWxsKGhvbGRlciwga2V5LCB2YWx1ZSk7CiAgICAgICAgfSh7Jyc6IHJlc3VsdH0sICcnKSA6IHJlc3VsdDsKICAgIH07Cn0pOwoKYWNlLmRlZmluZSgiYWNlL21vZGUvanNvbl93b3JrZXIiLFtdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHsKInVzZSBzdHJpY3QiOwoKdmFyIG9vcCA9IHJlcXVpcmUoIi4uL2xpYi9vb3AiKTsKdmFyIE1pcnJvciA9IHJlcXVpcmUoIi4uL3dvcmtlci9taXJyb3IiKS5NaXJyb3I7CnZhciBwYXJzZSA9IHJlcXVpcmUoIi4vanNvbi9qc29uX3BhcnNlIik7Cgp2YXIgSnNvbldvcmtlciA9IGV4cG9ydHMuSnNvbldvcmtlciA9IGZ1bmN0aW9uKHNlbmRlcikgewogICAgTWlycm9yLmNhbGwodGhpcywgc2VuZGVyKTsKICAgIHRoaXMuc2V0VGltZW91dCgyMDApOwp9OwoKb29wLmluaGVyaXRzKEpzb25Xb3JrZXIsIE1pcnJvcik7CgooZnVuY3Rpb24oKSB7CgogICAgdGhpcy5vblVwZGF0ZSA9IGZ1bmN0aW9uKCkgewogICAgICAgIHZhciB2YWx1ZSA9IHRoaXMuZG9jLmdldFZhbHVlKCk7CiAgICAgICAgdmFyIGVycm9ycyA9IFtdOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGlmICh2YWx1ZSkKICAgICAgICAgICAgICAgIHBhcnNlKHZhbHVlKTsKICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgIHZhciBwb3MgPSB0aGlzLmRvYy5pbmRleFRvUG9zaXRpb24oZS5hdC0xKTsKICAgICAgICAgICAgZXJyb3JzLnB1c2goewogICAgICAgICAgICAgICAgcm93OiBwb3Mucm93LAogICAgICAgICAgICAgICAgY29sdW1uOiBwb3MuY29sdW1uLAogICAgICAgICAgICAgICAgdGV4dDogZS5tZXNzYWdlLAogICAgICAgICAgICAgICAgdHlwZTogImVycm9yIgogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgdGhpcy5zZW5kZXIuZW1pdCgiYW5ub3RhdGUiLCBlcnJvcnMpOwogICAgfTsKCn0pLmNhbGwoSnNvbldvcmtlci5wcm90b3R5cGUpOwoKfSk7Cg==";ace.config.setModuleUrl("ace/theme/kr_theme",themeUrl2),ace.config.setModuleUrl("ace/mode/json",modeJsonUrl),ace.config.setModuleUrl("ace/mode/json_worker",workerJsonUrl);const _sfc_main$w=vue.defineComponent({__name:"code-edit-modal",props:{modelValue:{default:()=>({})},lang:{default:"json"},title:{default:"编辑"}},emits:["update:modelValue","close"],setup(i,{emit:n}){const r=i,o=vue.ref(!1),a=vue.computed({get(){return r.lang==="json"?JSON.stringify(r.modelValue,null,2):r.modelValue},set(u){r.lang==="json"?n("update:modelValue",JSON.parse(u)):n("update:modelValue",u)}});return(u,c)=>(vue.openBlock(),vue.createElementBlock("div",null,[vue.createVNode(vue.unref(elementPlus.ElButton),{onClick:c[0]||(c[0]=f=>o.value=!0)},{default:vue.withCtx(()=>[vue.createTextVNode("···")]),_:1}),vue.createVNode(vue.unref(elementPlus.ElDialog),{class:"modal-full",modelValue:vue.unref(o),"onUpdate:modelValue":c[2]||(c[2]=f=>vue.isRef(o)?o.value=f:null),title:r.title,width:"60%",onClose:c[3]||(c[3]=f=>n("close"))},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(VAceEditor),{value:vue.unref(a),"onUpdate:value":c[1]||(c[1]=f=>vue.isRef(a)?a.value=f:null),lang:r.lang,theme:"kr_theme",style:{height:"400px"},options:{useWorker:!0,enableBasicAutocompletion:!0,enableSnippets:!0,enableLiveAutocompletion:!0}},null,8,["value","lang"])]),_:1},8,["modelValue","title"])]))}}),_hoisted_1$b={class:"one-row-txt",style:{width:"78px"}},_hoisted_2$8={key:1},_hoisted_3$7={class:"one-row-txt",style:{width:"145px"}},_hoisted_4$3={key:1},_sfc_main$v=vue.defineComponent({__name:"dynamic-el-form-item",props:{objInfo:{default:()=>({})},hide:{default:()=>[]},code:{type:Boolean,default:!1}},emits:["change"],setup(i,{emit:n}){const r=i,o=vue.computed(()=>{var d;const u={};let c=0,f=[];for(let h of Object.keys(r.objInfo)){const v=(d=r.objInfo[h])==null?void 0:d.sort;if(v){const g=Number(v);g>c&&(c=g)}if(v)u[v]=h;else return Object.keys(r.objInfo).map(g=>({...r.objInfo[g],_key:g}))}for(let h=0;h<c+1;h++){const v=String(h);f.push({...r.objInfo[u[v]],_key:u[v]})}return f});function a(u){let c=window.setTimeout(function(){n("change",u),clearTimeout(c),c=null},200)}return(u,c)=>(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(vue.unref(o),f=>(vue.openBlock(),vue.createElementBlock("div",{key:f._key},[r.code?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElFormItem),{key:0,class:"props-row",size:"small"},{label:vue.withCtx(()=>[vue.unref(getStringWidth)(String(f._key))>78?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElTooltip),{key:0,content:String(f._key),placement:"left","popper-class":"props-popper"},{default:vue.withCtx(()=>[vue.createElementVNode("div",_hoisted_1$b,vue.toDisplayString(f._key),1)]),_:2},1032,["content"])):(vue.openBlock(),vue.createElementBlock("span",_hoisted_2$8,vue.toDisplayString(f._key),1))]),default:vue.withCtx(()=>[vue.unref(getStringWidth)(String(f.val))>145?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElTooltip),{key:0,content:JSON.stringify(f.val),placement:"left","popper-class":"props-popper"},{default:vue.withCtx(()=>[vue.createElementVNode("div",_hoisted_3$7,vue.toDisplayString(f.val),1)]),_:2},1032,["content"])):(vue.openBlock(),vue.createElementBlock("span",_hoisted_4$3,vue.toDisplayString(f.val),1))]),_:2},1024)):vue.createCommentVNode("",!0),r.hide.indexOf(String(f._key))<0?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElFormItem),{key:1,label:f.title,size:"small"},{default:vue.withCtx(()=>[f.type===vue.unref(EConfigItemPropsType).Select?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElSelect),{key:0,modelValue:r.objInfo[f._key].val,"onUpdate:modelValue":d=>r.objInfo[f._key].val=d,placeholder:"Select",size:"small",disabled:!!(f!=null&&f.disabled),onChange:a},{default:vue.withCtx(()=>[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(f.options,d=>(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElOption),{key:d.value,label:d.label,value:d.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","disabled"])):f.type===vue.unref(EConfigItemPropsType).InputNumber?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElInputNumber),{key:1,modelValue:r.objInfo[f._key].val,"onUpdate:modelValue":d=>r.objInfo[f._key].val=d,disabled:!!(f!=null&&f.disabled),onChange:a},null,8,["modelValue","onUpdate:modelValue","disabled"])):f.type===vue.unref(EConfigItemPropsType).Input?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElInput),{key:2,modelValue:r.objInfo[f._key].val,"onUpdate:modelValue":d=>r.objInfo[f._key].val=d,disabled:!!(f!=null&&f.disabled),onChange:a},null,8,["modelValue","onUpdate:modelValue","disabled"])):f.type===vue.unref(EConfigItemPropsType).Textarea?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElInput),{key:3,modelValue:r.objInfo[f._key].val,"onUpdate:modelValue":d=>r.objInfo[f._key].val=d,autosize:"",type:"textarea",disabled:!!(f!=null&&f.disabled),onChange:a},null,8,["modelValue","onUpdate:modelValue","disabled"])):f.type===vue.unref(EConfigItemPropsType).Color?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElColorPicker),{key:4,modelValue:r.objInfo[f._key].val,"onUpdate:modelValue":d=>r.objInfo[f._key].val=d,disabled:!!(f!=null&&f.disabled),onChange:a},null,8,["modelValue","onUpdate:modelValue","disabled"])):f.type===vue.unref(EConfigItemPropsType).Switch?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElSwitch),{key:5,modelValue:r.objInfo[f._key].val,"onUpdate:modelValue":d=>r.objInfo[f._key].val=d,disabled:!!(f!=null&&f.disabled),onChange:a},null,8,["modelValue","onUpdate:modelValue","disabled"])):f.type===vue.unref(EConfigItemPropsType).JsonEdit?(vue.openBlock(),vue.createBlock(_sfc_main$w,{key:6,modelValue:r.objInfo[f._key].val,"onUpdate:modelValue":d=>r.objInfo[f._key].val=d,disabled:!!(f!=null&&f.disabled),onClose:a},null,8,["modelValue","onUpdate:modelValue","disabled"])):vue.createCommentVNode("",!0)]),_:2},1032,["label"])):vue.createCommentVNode("",!0)]))),128))}}),dynamicElFormItem_vue_vue_type_style_index_0_scoped_b2819020_lang="",dynamicElFormItem_vue_vue_type_style_index_1_lang="",DynamicElFormItem=_export_sfc$1(_sfc_main$v,[["__scopeId","data-v-b2819020"]]),_hoisted_1$a={style:{height:"100%"}},_hoisted_2$7={class:"flex flex-wrap"},_hoisted_3$6=["onMouseenter","onClick"],_sfc_main$u=vue.defineComponent({__name:"common-animate",props:{val:{}},emits:["updateCommonAniVal"],setup(i,{emit:n}){const r=i,o=vue.ref(r.val),a=vue.ref(!1),u=vue.ref("进入"),c=vue.ref(null),f=d=>{n("updateCommonAniVal",d),a.value=!1};return vue.watch(()=>r.val,d=>{o.value=d}),(d,h)=>(vue.openBlock(),vue.createElementBlock("div",_hoisted_1$a,[vue.unref(o)?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElTag),{key:0,closable:"",onClose:h[0]||(h[0]=v=>f("")),onClick:h[1]||(h[1]=v=>a.value=!0),style:{cursor:"pointer"}},{default:vue.withCtx(()=>{var v;return[vue.createTextVNode(vue.toDisplayString((v=vue.unref(common_animate_list).map(g=>g.children).reduce((g,p)=>g.concat(p)).find(g=>g.value==vue.unref(o)))==null?void 0:v.label)+" ",1),vue.createVNode(vue.unref(elementPlus.ElIcon),{size:10},{default:vue.withCtx(()=>[vue.createVNode(_sfc_main$D,{name:"setting"})]),_:1})]}),_:1})):(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElTag),{key:1,type:"success",style:{cursor:"pointer"},onClick:h[2]||(h[2]=v=>a.value=!0)},{default:vue.withCtx(()=>[vue.createTextVNode("新增")]),_:1})),vue.createVNode(vue.unref(elementPlus.ElDrawer),{modelValue:vue.unref(a),"onUpdate:modelValue":h[5]||(h[5]=v=>vue.isRef(a)?a.value=v:null),title:"选择动画",direction:"ltr"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElTabs),{modelValue:vue.unref(u),"onUpdate:modelValue":h[4]||(h[4]=v=>vue.isRef(u)?u.value=v:null)},{default:vue.withCtx(()=>[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(vue.unref(common_animate_list),v=>(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElTabPane),{label:v.label,name:v.label,key:v.label},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElScrollbar),{height:"500px"},{default:vue.withCtx(()=>[vue.createElementVNode("div",_hoisted_2$7,[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(v.children,(g,p)=>(vue.openBlock(),vue.createElementBlock("div",{class:"animate",key:p,onMouseenter:y=>c.value=p,onMouseleave:h[3]||(h[3]=y=>c.value=null),onClick:y=>f(g.value)},[vue.createElementVNode("div",{class:vue.normalizeClass(`${vue.unref(c)==p?`animate__animated animate__${g.value} animate__slow animate__infinite`:""}`)},vue.toDisplayString(g.label),3)],40,_hoisted_3$6))),128))])]),_:2},1024)]),_:2},1032,["label","name"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])]))}}),commonAnimate_vue_vue_type_style_index_0_scoped_2668f60c_lang="",CommonAnimate=_export_sfc$1(_sfc_main$u,[["__scopeId","data-v-2668f60c"]]),_sfc_main$t=vue.defineComponent({__name:"component-tree",setup(i){const n=useGlobalStore(pinia),r=vue.computed(()=>{var u;return((u=n.handle_svg_info)==null?void 0:u.info.id)??""}),o=u=>{for(let c of n.done_json)c.selected=!1,c.old_position={x:0,y:0};n.intention=EGlobalStoreIntention.Select,n.setHandleSvgInfo(u)},a={children:"children",label:"title"};return(u,c)=>(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElTree),{class:"tree-v",data:vue.unref(n).done_json,props:a,onNodeClick:o,"default-expand-all":!0,"expand-on-click-node":!1,"highlight-current":!!vue.unref(r),"node-key":"id","current-node-key":vue.unref(r)},null,8,["data","highlight-current","current-node-key"]))}}),_withScopeId$1=i=>(vue.pushScopeId("data-v-98320511"),i=i(),vue.popScopeId(),i),_hoisted_1$9={class:"wall-l"},_hoisted_2$6={class:"head-l"},_hoisted_3$5=_withScopeId$1(()=>vue.createElementVNode("span",null,"key",-1)),_hoisted_4$2=_withScopeId$1(()=>vue.createElementVNode("span",null,"value",-1)),_hoisted_5$1={class:"row-l"},_sfc_main$s=vue.defineComponent({__name:"list",props:{modelValue:{default:()=>[{key:"",val:""}]}},emits:["update:modelValue"],setup(i,{emit:n}){const r=i,o=vue.computed({get(){return r.modelValue},set(c){n("update:modelValue",c)}}),a=()=>{o.value.push({key:"",val:""})},u=c=>{o.value.splice(c,1)};return(c,f)=>(vue.openBlock(),vue.createElementBlock("div",_hoisted_1$9,[vue.createElementVNode("div",_hoisted_2$6,[_hoisted_3$5,_hoisted_4$2,vue.createVNode(vue.unref(elementPlus.ElIcon),{size:16,class:"bt-Icon",onClick:a},{default:vue.withCtx(()=>[vue.createVNode(_sfc_main$D,{name:"add"})]),_:1})]),(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(vue.unref(o),(d,h)=>(vue.openBlock(),vue.createElementBlock("div",_hoisted_5$1,[vue.createVNode(vue.unref(elementPlus.ElInput),{class:"content-l",modelValue:d.key,"onUpdate:modelValue":v=>d.key=v,size:"small",placeholder:"key"},null,8,["modelValue","onUpdate:modelValue"]),vue.createVNode(vue.unref(elementPlus.ElInput),{class:"content-l",modelValue:d.val,"onUpdate:modelValue":v=>d.val=v,size:"small",placeholder:"value"},null,8,["modelValue","onUpdate:modelValue"]),vue.createVNode(vue.unref(elementPlus.ElIcon),{size:16,class:"bt-Icon",onClick:v=>u(h)},{default:vue.withCtx(()=>[vue.createVNode(_sfc_main$D,{name:"delete"})]),_:2},1032,["onClick"])]))),256))]))}}),list_vue_vue_type_style_index_0_scoped_98320511_lang="",List=_export_sfc$1(_sfc_main$s,[["__scopeId","data-v-98320511"]]),composeEventHandlers=(i,n,{checkForDefaultPrevented:r=!0}={})=>a=>{const u=i==null?void 0:i(a);if(r===!1||!u)return n==null?void 0:n(a)};var _a;const isClient=typeof window<"u",isString$1=i=>typeof i=="string",noop=()=>{},isIOS=isClient&&((_a=window==null?void 0:window.navigator)==null?void 0:_a.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function resolveUnref(i){return typeof i=="function"?i():vue.unref(i)}function createFilterWrapper(i,n){function r(...o){return new Promise((a,u)=>{Promise.resolve(i(()=>n.apply(this,o),{fn:n,thisArg:this,args:o})).then(a).catch(u)})}return r}function debounceFilter(i,n={}){let r,o,a=noop;const u=f=>{clearTimeout(f),a(),a=noop};return f=>{const d=resolveUnref(i),h=resolveUnref(n.maxWait);return r&&u(r),d<=0||h!==void 0&&h<=0?(o&&(u(o),o=null),Promise.resolve(f())):new Promise((v,g)=>{a=n.rejectOnCancel?g:v,h&&!o&&(o=setTimeout(()=>{r&&u(r),o=null,v(f())},h)),r=setTimeout(()=>{o&&u(o),o=null,v(f())},d)})}}function identity(i){return i}function tryOnScopeDispose(i){return vue.getCurrentScope()?(vue.onScopeDispose(i),!0):!1}function useDebounceFn(i,n=200,r={}){return createFilterWrapper(debounceFilter(n,r),i)}function refDebounced(i,n=200,r={}){const o=vue.ref(i.value),a=useDebounceFn(()=>{o.value=i.value},n,r);return vue.watch(i,()=>a()),o}function tryOnMounted(i,n=!0){vue.getCurrentInstance()?vue.onMounted(i):n?i():vue.nextTick(i)}function unrefElement(i){var n;const r=resolveUnref(i);return(n=r==null?void 0:r.$el)!=null?n:r}const defaultWindow=isClient?window:void 0;function useEventListener(...i){let n,r,o,a;if(isString$1(i[0])||Array.isArray(i[0])?([r,o,a]=i,n=defaultWindow):[n,r,o,a]=i,!n)return noop;Array.isArray(r)||(r=[r]),Array.isArray(o)||(o=[o]);const u=[],c=()=>{u.forEach(v=>v()),u.length=0},f=(v,g,p,y)=>(v.addEventListener(g,p,y),()=>v.removeEventListener(g,p,y)),d=vue.watch(()=>[unrefElement(n),resolveUnref(a)],([v,g])=>{c(),v&&u.push(...r.flatMap(p=>o.map(y=>f(v,p,y,g))))},{immediate:!0,flush:"post"}),h=()=>{d(),c()};return tryOnScopeDispose(h),h}let _iOSWorkaround=!1;function onClickOutside(i,n,r={}){const{window:o=defaultWindow,ignore:a=[],capture:u=!0,detectIframe:c=!1}=r;if(!o)return;isIOS&&!_iOSWorkaround&&(_iOSWorkaround=!0,Array.from(o.document.body.children).forEach(p=>p.addEventListener("click",noop)));let f=!0;const d=p=>a.some(y=>{if(typeof y=="string")return Array.from(o.document.querySelectorAll(y)).some(_=>_===p.target||p.composedPath().includes(_));{const _=unrefElement(y);return _&&(p.target===_||p.composedPath().includes(_))}}),v=[useEventListener(o,"click",p=>{const y=unrefElement(i);if(!(!y||y===p.target||p.composedPath().includes(y))){if(p.detail===0&&(f=!d(p)),!f){f=!0;return}n(p)}},{passive:!0,capture:u}),useEventListener(o,"pointerdown",p=>{const y=unrefElement(i);y&&(f=!p.composedPath().includes(y)&&!d(p))},{passive:!0}),c&&useEventListener(o,"blur",p=>{var y;const _=unrefElement(i);((y=o.document.activeElement)==null?void 0:y.tagName)==="IFRAME"&&!(_!=null&&_.contains(o.document.activeElement))&&n(p)})].filter(Boolean);return()=>v.forEach(p=>p())}function useSupported(i,n=!1){const r=vue.ref(),o=()=>r.value=!!i();return o(),tryOnMounted(o,n),r}const _global=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},globalKey="__vueuse_ssr_handlers__";_global[globalKey]=_global[globalKey]||{};var __getOwnPropSymbols$g=Object.getOwnPropertySymbols,__hasOwnProp$g=Object.prototype.hasOwnProperty,__propIsEnum$g=Object.prototype.propertyIsEnumerable,__objRest$2=(i,n)=>{var r={};for(var o in i)__hasOwnProp$g.call(i,o)&&n.indexOf(o)<0&&(r[o]=i[o]);if(i!=null&&__getOwnPropSymbols$g)for(var o of __getOwnPropSymbols$g(i))n.indexOf(o)<0&&__propIsEnum$g.call(i,o)&&(r[o]=i[o]);return r};function useResizeObserver(i,n,r={}){const o=r,{window:a=defaultWindow}=o,u=__objRest$2(o,["window"]);let c;const f=useSupported(()=>a&&"ResizeObserver"in a),d=()=>{c&&(c.disconnect(),c=void 0)},h=vue.watch(()=>unrefElement(i),g=>{d(),f.value&&a&&g&&(c=new ResizeObserver(n),c.observe(g,u))},{immediate:!0,flush:"post"}),v=()=>{d(),h()};return tryOnScopeDispose(v),{isSupported:f,stop:v}}var SwipeDirection;(function(i){i.UP="UP",i.RIGHT="RIGHT",i.DOWN="DOWN",i.LEFT="LEFT",i.NONE="NONE"})(SwipeDirection||(SwipeDirection={}));var __defProp=Object.defineProperty,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(i,n,r)=>n in i?__defProp(i,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):i[n]=r,__spreadValues=(i,n)=>{for(var r in n||(n={}))__hasOwnProp.call(n,r)&&__defNormalProp(i,r,n[r]);if(__getOwnPropSymbols)for(var r of __getOwnPropSymbols(n))__propIsEnum.call(n,r)&&__defNormalProp(i,r,n[r]);return i};const _TransitionPresets={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};__spreadValues({linear:identity},_TransitionPresets);const isFirefox=()=>isClient&&/firefox/i.test(window.navigator.userAgent);process.env.NODE_ENV!=="production"&&Object.freeze({}),process.env.NODE_ENV!=="production"&&Object.freeze([]);const NOOP=()=>{},hasOwnProperty=Object.prototype.hasOwnProperty,hasOwn=(i,n)=>hasOwnProperty.call(i,n),isArray=Array.isArray,isFunction=i=>typeof i=="function",isString=i=>typeof i=="string",isObject=i=>i!==null&&typeof i=="object",objectToString=Object.prototype.toString,toTypeString=i=>objectToString.call(i),toRawType=i=>toTypeString(i).slice(8,-1),isUndefined=i=>i===void 0,isBoolean=i=>typeof i=="boolean",isNumber=i=>typeof i=="number",isElement=i=>typeof Element>"u"?!1:i instanceof Element,isStringNumber=i=>isString(i)?!Number.isNaN(Number(i)):!1,escapeStringRegexp=(i="")=>i.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),getProp=(i,n,r)=>({get value(){return lodashEs.get(i,n,r)},set value(o){lodashEs.set(i,n,o)}});class ElementPlusError extends Error{constructor(n){super(n),this.name="ElementPlusError"}}function throwError(i,n){throw new ElementPlusError(`[${i}] ${n}`)}function debugWarn(i,n){if(process.env.NODE_ENV!=="production"){const r=isString(i)?new ElementPlusError(`[${i}] ${n}`):i;console.warn(r)}}const SCOPE$1="utils/dom/style";function addUnit(i,n="px"){if(!i)return"";if(isNumber(i)||isStringNumber(i))return`${i}${n}`;if(isString(i))return i;debugWarn(SCOPE$1,"binding value must be a string or number")}function scrollIntoView(i,n){if(!isClient)return;if(!n){i.scrollTop=0;return}const r=[];let o=n.offsetParent;for(;o!==null&&i!==o&&i.contains(o);)r.push(o),o=o.offsetParent;const a=n.offsetTop+r.reduce((d,h)=>d+h.offsetTop,0),u=a+n.offsetHeight,c=i.scrollTop,f=c+i.clientHeight;a<c?i.scrollTop=a:u>f&&(i.scrollTop=u-i.clientHeight)}const epPropKey="__epPropKey",definePropType=i=>i,isEpProp=i=>isObject(i)&&!!i[epPropKey],buildProp=(i,n)=>{if(!isObject(i)||isEpProp(i))return i;const{values:r,required:o,default:a,type:u,validator:c}=i,d={type:u,required:!!o,validator:r||c?h=>{let v=!1,g=[];if(r&&(g=Array.from(r),hasOwn(i,"default")&&g.push(a),v||(v=g.includes(h))),c&&(v||(v=c(h))),!v&&g.length>0){const p=[...new Set(g)].map(y=>JSON.stringify(y)).join(", ");vue.warn(`Invalid prop: validation failed${n?` for prop "${n}"`:""}. Expected one of [${p}], got value ${JSON.stringify(h)}.`)}return v}:void 0,[epPropKey]:!0};return hasOwn(i,"default")&&(d.default=a),d},buildProps=i=>lodashEs.fromPairs(Object.entries(i).map(([n,r])=>[n,buildProp(r,n)])),iconPropType=definePropType([String,Object,Function]),ValidateComponentsMap={validating:loading_default,success:circle_check_default,error:circle_close_default},withInstall=(i,n)=>{if(i.install=r=>{for(const o of[i,...Object.values(n??{})])r.component(o.name,o)},n)for(const[r,o]of Object.entries(n))i[r]=o;return i},withNoopInstall=i=>(i.install=NOOP,i),EVENT_CODE={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},UPDATE_MODEL_EVENT="update:modelValue",CHANGE_EVENT="change",componentSizes=["","default","small","large"],componentSizeMap={large:40,default:32,small:24},getComponentSize=i=>componentSizeMap[i||"default"],isValidComponentSize=i=>["",...componentSizes].includes(i),isKorean=i=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(i),mutable=i=>i,DEFAULT_EXCLUDE_KEYS=["class","style"],LISTENER_PREFIX=/^on[A-Z]/,useAttrs=(i={})=>{const{excludeListeners:n=!1,excludeKeys:r}=i,o=vue.computed(()=>((r==null?void 0:r.value)||[]).concat(DEFAULT_EXCLUDE_KEYS)),a=vue.getCurrentInstance();return a?vue.computed(()=>{var u;return lodashEs.fromPairs(Object.entries((u=a.proxy)==null?void 0:u.$attrs).filter(([c])=>!o.value.includes(c)&&!(n&&LISTENER_PREFIX.test(c))))}):(debugWarn("use-attrs","getCurrentInstance() returned null. useAttrs() must be called at the top of a setup function"),vue.computed(()=>({})))},useDeprecated=({from:i,replacement:n,scope:r,version:o,ref:a,type:u="API"},c)=>{vue.watch(()=>vue.unref(c),f=>{f&&debugWarn(r,`[${u}] ${i} is about to be deprecated in version ${o}, please use ${n} instead.
For more detail, please visit: ${a}
`)},{immediate:!0})},useFocus=i=>({focus:()=>{var n,r;(r=(n=i.value)==null?void 0:n.focus)==null||r.call(n)}});var English={name:"en",el:{colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color."},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"}}};const buildTranslator=i=>(n,r)=>translate(n,r,vue.unref(i)),translate=(i,n,r)=>lodashEs.get(r,i,i).replace(/\{(\w+)\}/g,(o,a)=>{var u;return`${(u=n==null?void 0:n[a])!=null?u:`{${a}}`}`}),buildLocaleContext=i=>{const n=vue.computed(()=>vue.unref(i).name),r=vue.isRef(i)?i:vue.ref(i);return{lang:n,locale:r,t:buildTranslator(i)}},localeContextKey=Symbol("localeContextKey"),useLocale=i=>{const n=i||vue.inject(localeContextKey,vue.ref());return buildLocaleContext(vue.computed(()=>n.value||English))},defaultNamespace="el",statePrefix="is-",_bem=(i,n,r,o,a)=>{let u=`${i}-${n}`;return r&&(u+=`-${r}`),o&&(u+=`__${o}`),a&&(u+=`--${a}`),u},namespaceContextKey=Symbol("namespaceContextKey"),useGetDerivedNamespace=i=>{const n=i||vue.inject(namespaceContextKey,vue.ref(defaultNamespace));return vue.computed(()=>vue.unref(n)||defaultNamespace)},useNamespace=(i,n)=>{const r=useGetDerivedNamespace(n);return{namespace:r,b:(b="")=>_bem(r.value,i,b,"",""),e:b=>b?_bem(r.value,i,"",b,""):"",m:b=>b?_bem(r.value,i,"","",b):"",be:(b,A)=>b&&A?_bem(r.value,i,b,A,""):"",em:(b,A)=>b&&A?_bem(r.value,i,"",b,A):"",bm:(b,A)=>b&&A?_bem(r.value,i,b,"",A):"",bem:(b,A,w)=>b&&A&&w?_bem(r.value,i,b,A,w):"",is:(b,...A)=>{const w=A.length>=1?A[0]:!0;return b&&w?`${statePrefix}${b}`:""},cssVar:b=>{const A={};for(const w in b)b[w]&&(A[`--${r.value}-${w}`]=b[w]);return A},cssVarName:b=>`--${r.value}-${b}`,cssVarBlock:b=>{const A={};for(const w in b)b[w]&&(A[`--${r.value}-${i}-${w}`]=b[w]);return A},cssVarBlockName:b=>`--${r.value}-${i}-${b}`}},_prop=buildProp({type:definePropType(Boolean),default:null}),_event=buildProp({type:definePropType(Function)}),createModelToggleComposable=i=>{const n=`update:${i}`,r=`onUpdate:${i}`,o=[n],a={[i]:_prop,[r]:_event};return{useModelToggle:({indicator:c,toggleReason:f,shouldHideWhenRouteChanges:d,shouldProceed:h,onShow:v,onHide:g})=>{const p=vue.getCurrentInstance(),{emit:y}=p,_=p.props,b=vue.computed(()=>isFunction(_[r])),A=vue.computed(()=>_[i]===null),w=M=>{c.value!==!0&&(c.value=!0,f&&(f.value=M),isFunction(v)&&v(M))},S=M=>{c.value!==!1&&(c.value=!1,f&&(f.value=M),isFunction(g)&&g(M))},T=M=>{if(_.disabled===!0||isFunction(h)&&!h())return;const re=b.value&&isClient;re&&y(n,!0),(A.value||!re)&&w(M)},x=M=>{if(_.disabled===!0||!isClient)return;const re=b.value&&isClient;re&&y(n,!1),(A.value||!re)&&S(M)},O=M=>{isBoolean(M)&&(_.disabled&&M?b.value&&y(n,!1):c.value!==M&&(M?w():S()))},L=()=>{c.value?x():T()};return vue.watch(()=>_[i],O),d&&p.appContext.config.globalProperties.$route!==void 0&&vue.watch(()=>({...p.proxy.$route}),()=>{d.value&&c.value&&x()}),vue.onMounted(()=>{O(_[i])}),{hide:x,show:T,toggle:L,hasUpdateHandler:b}},useModelToggleProps:a,useModelToggleEmits:o}};createModelToggleComposable("modelValue");const useProp=i=>{const n=vue.getCurrentInstance();return vue.computed(()=>{var r,o;return(o=(r=n==null?void 0:n.proxy)==null?void 0:r.$props)==null?void 0:o[i]})};var E="top",R="bottom",W="right",P="left",me="auto",G=[E,R,W,P],U="start",J="end",Xe="clippingParents",je="viewport",K="popper",Ye="reference",De=G.reduce(function(i,n){return i.concat([n+"-"+U,n+"-"+J])},[]),Ee=[].concat(G,[me]).reduce(function(i,n){return i.concat([n,n+"-"+U,n+"-"+J])},[]),Ge="beforeRead",Je="read",Ke="afterRead",Qe="beforeMain",Ze="main",et="afterMain",tt="beforeWrite",nt="write",rt="afterWrite",ot=[Ge,Je,Ke,Qe,Ze,et,tt,nt,rt];function C(i){return i?(i.nodeName||"").toLowerCase():null}function H(i){if(i==null)return window;if(i.toString()!=="[object Window]"){var n=i.ownerDocument;return n&&n.defaultView||window}return i}function Q(i){var n=H(i).Element;return i instanceof n||i instanceof Element}function B(i){var n=H(i).HTMLElement;return i instanceof n||i instanceof HTMLElement}function Pe(i){if(typeof ShadowRoot>"u")return!1;var n=H(i).ShadowRoot;return i instanceof n||i instanceof ShadowRoot}function Mt(i){var n=i.state;Object.keys(n.elements).forEach(function(r){var o=n.styles[r]||{},a=n.attributes[r]||{},u=n.elements[r];!B(u)||!C(u)||(Object.assign(u.style,o),Object.keys(a).forEach(function(c){var f=a[c];f===!1?u.removeAttribute(c):u.setAttribute(c,f===!0?"":f)}))})}function Rt(i){var n=i.state,r={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(n.elements.popper.style,r.popper),n.styles=r,n.elements.arrow&&Object.assign(n.elements.arrow.style,r.arrow),function(){Object.keys(n.elements).forEach(function(o){var a=n.elements[o],u=n.attributes[o]||{},c=Object.keys(n.styles.hasOwnProperty(o)?n.styles[o]:r[o]),f=c.reduce(function(d,h){return d[h]="",d},{});!B(a)||!C(a)||(Object.assign(a.style,f),Object.keys(u).forEach(function(d){a.removeAttribute(d)}))})}}var Ae={name:"applyStyles",enabled:!0,phase:"write",fn:Mt,effect:Rt,requires:["computeStyles"]};function q(i){return i.split("-")[0]}var X=Math.max,ve=Math.min,Z=Math.round;function ee(i,n){n===void 0&&(n=!1);var r=i.getBoundingClientRect(),o=1,a=1;if(B(i)&&n){var u=i.offsetHeight,c=i.offsetWidth;c>0&&(o=Z(r.width)/c||1),u>0&&(a=Z(r.height)/u||1)}return{width:r.width/o,height:r.height/a,top:r.top/a,right:r.right/o,bottom:r.bottom/a,left:r.left/o,x:r.left/o,y:r.top/a}}function ke(i){var n=ee(i),r=i.offsetWidth,o=i.offsetHeight;return Math.abs(n.width-r)<=1&&(r=n.width),Math.abs(n.height-o)<=1&&(o=n.height),{x:i.offsetLeft,y:i.offsetTop,width:r,height:o}}function it(i,n){var r=n.getRootNode&&n.getRootNode();if(i.contains(n))return!0;if(r&&Pe(r)){var o=n;do{if(o&&i.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function N(i){return H(i).getComputedStyle(i)}function Wt(i){return["table","td","th"].indexOf(C(i))>=0}function I(i){return((Q(i)?i.ownerDocument:i.document)||window.document).documentElement}function ge(i){return C(i)==="html"?i:i.assignedSlot||i.parentNode||(Pe(i)?i.host:null)||I(i)}function at(i){return!B(i)||N(i).position==="fixed"?null:i.offsetParent}function Bt(i){var n=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,r=navigator.userAgent.indexOf("Trident")!==-1;if(r&&B(i)){var o=N(i);if(o.position==="fixed")return null}var a=ge(i);for(Pe(a)&&(a=a.host);B(a)&&["html","body"].indexOf(C(a))<0;){var u=N(a);if(u.transform!=="none"||u.perspective!=="none"||u.contain==="paint"||["transform","perspective"].indexOf(u.willChange)!==-1||n&&u.willChange==="filter"||n&&u.filter&&u.filter!=="none")return a;a=a.parentNode}return null}function se(i){for(var n=H(i),r=at(i);r&&Wt(r)&&N(r).position==="static";)r=at(r);return r&&(C(r)==="html"||C(r)==="body"&&N(r).position==="static")?n:r||Bt(i)||n}function Le(i){return["top","bottom"].indexOf(i)>=0?"x":"y"}function fe(i,n,r){return X(i,ve(n,r))}function St(i,n,r){var o=fe(i,n,r);return o>r?r:o}function st(){return{top:0,right:0,bottom:0,left:0}}function ft(i){return Object.assign({},st(),i)}function ct(i,n){return n.reduce(function(r,o){return r[o]=i,r},{})}var Tt=function(i,n){return i=typeof i=="function"?i(Object.assign({},n.rects,{placement:n.placement})):i,ft(typeof i!="number"?i:ct(i,G))};function Ht(i){var n,r=i.state,o=i.name,a=i.options,u=r.elements.arrow,c=r.modifiersData.popperOffsets,f=q(r.placement),d=Le(f),h=[P,W].indexOf(f)>=0,v=h?"height":"width";if(!(!u||!c)){var g=Tt(a.padding,r),p=ke(u),y=d==="y"?E:P,_=d==="y"?R:W,b=r.rects.reference[v]+r.rects.reference[d]-c[d]-r.rects.popper[v],A=c[d]-r.rects.reference[d],w=se(u),S=w?d==="y"?w.clientHeight||0:w.clientWidth||0:0,T=b/2-A/2,x=g[y],O=S-p[v]-g[_],L=S/2-p[v]/2+T,M=fe(x,L,O),re=d;r.modifiersData[o]=(n={},n[re]=M,n.centerOffset=M-L,n)}}function Ct(i){var n=i.state,r=i.options,o=r.element,a=o===void 0?"[data-popper-arrow]":o;a!=null&&(typeof a=="string"&&(a=n.elements.popper.querySelector(a),!a)||!it(n.elements.popper,a)||(n.elements.arrow=a))}var pt={name:"arrow",enabled:!0,phase:"main",fn:Ht,effect:Ct,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function te(i){return i.split("-")[1]}var qt={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Vt(i){var n=i.x,r=i.y,o=window,a=o.devicePixelRatio||1;return{x:Z(n*a)/a||0,y:Z(r*a)/a||0}}function ut(i){var n,r=i.popper,o=i.popperRect,a=i.placement,u=i.variation,c=i.offsets,f=i.position,d=i.gpuAcceleration,h=i.adaptive,v=i.roundOffsets,g=i.isFixed,p=c.x,y=p===void 0?0:p,_=c.y,b=_===void 0?0:_,A=typeof v=="function"?v({x:y,y:b}):{x:y,y:b};y=A.x,b=A.y;var w=c.hasOwnProperty("x"),S=c.hasOwnProperty("y"),T=P,x=E,O=window;if(h){var L=se(r),M="clientHeight",re="clientWidth";if(L===H(r)&&(L=I(r),N(L).position!=="static"&&f==="absolute"&&(M="scrollHeight",re="scrollWidth")),L=L,a===E||(a===P||a===W)&&u===J){x=R;var F=g&&L===O&&O.visualViewport?O.visualViewport.height:L[M];b-=F-o.height,b*=d?1:-1}if(a===P||(a===E||a===R)&&u===J){T=W;var Y=g&&L===O&&O.visualViewport?O.visualViewport.width:L[re];y-=Y-o.width,y*=d?1:-1}}var V=Object.assign({position:f},h&&qt),z=v===!0?Vt({x:y,y:b}):{x:y,y:b};if(y=z.x,b=z.y,d){var $;return Object.assign({},V,($={},$[x]=S?"0":"",$[T]=w?"0":"",$.transform=(O.devicePixelRatio||1)<=1?"translate("+y+"px, "+b+"px)":"translate3d("+y+"px, "+b+"px, 0)",$))}return Object.assign({},V,(n={},n[x]=S?b+"px":"",n[T]=w?y+"px":"",n.transform="",n))}function Nt(i){var n=i.state,r=i.options,o=r.gpuAcceleration,a=o===void 0?!0:o,u=r.adaptive,c=u===void 0?!0:u,f=r.roundOffsets,d=f===void 0?!0:f,h={placement:q(n.placement),variation:te(n.placement),popper:n.elements.popper,popperRect:n.rects.popper,gpuAcceleration:a,isFixed:n.options.strategy==="fixed"};n.modifiersData.popperOffsets!=null&&(n.styles.popper=Object.assign({},n.styles.popper,ut(Object.assign({},h,{offsets:n.modifiersData.popperOffsets,position:n.options.strategy,adaptive:c,roundOffsets:d})))),n.modifiersData.arrow!=null&&(n.styles.arrow=Object.assign({},n.styles.arrow,ut(Object.assign({},h,{offsets:n.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:d})))),n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-placement":n.placement})}var Me={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Nt,data:{}},ye={passive:!0};function It(i){var n=i.state,r=i.instance,o=i.options,a=o.scroll,u=a===void 0?!0:a,c=o.resize,f=c===void 0?!0:c,d=H(n.elements.popper),h=[].concat(n.scrollParents.reference,n.scrollParents.popper);return u&&h.forEach(function(v){v.addEventListener("scroll",r.update,ye)}),f&&d.addEventListener("resize",r.update,ye),function(){u&&h.forEach(function(v){v.removeEventListener("scroll",r.update,ye)}),f&&d.removeEventListener("resize",r.update,ye)}}var Re={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:It,data:{}},_t={left:"right",right:"left",bottom:"top",top:"bottom"};function be(i){return i.replace(/left|right|bottom|top/g,function(n){return _t[n]})}var zt={start:"end",end:"start"};function lt(i){return i.replace(/start|end/g,function(n){return zt[n]})}function We(i){var n=H(i),r=n.pageXOffset,o=n.pageYOffset;return{scrollLeft:r,scrollTop:o}}function Be(i){return ee(I(i)).left+We(i).scrollLeft}function Ft(i){var n=H(i),r=I(i),o=n.visualViewport,a=r.clientWidth,u=r.clientHeight,c=0,f=0;return o&&(a=o.width,u=o.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(c=o.offsetLeft,f=o.offsetTop)),{width:a,height:u,x:c+Be(i),y:f}}function Ut(i){var n,r=I(i),o=We(i),a=(n=i.ownerDocument)==null?void 0:n.body,u=X(r.scrollWidth,r.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),c=X(r.scrollHeight,r.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),f=-o.scrollLeft+Be(i),d=-o.scrollTop;return N(a||r).direction==="rtl"&&(f+=X(r.clientWidth,a?a.clientWidth:0)-u),{width:u,height:c,x:f,y:d}}function Se(i){var n=N(i),r=n.overflow,o=n.overflowX,a=n.overflowY;return/auto|scroll|overlay|hidden/.test(r+a+o)}function dt(i){return["html","body","#document"].indexOf(C(i))>=0?i.ownerDocument.body:B(i)&&Se(i)?i:dt(ge(i))}function ce(i,n){var r;n===void 0&&(n=[]);var o=dt(i),a=o===((r=i.ownerDocument)==null?void 0:r.body),u=H(o),c=a?[u].concat(u.visualViewport||[],Se(o)?o:[]):o,f=n.concat(c);return a?f:f.concat(ce(ge(c)))}function Te(i){return Object.assign({},i,{left:i.x,top:i.y,right:i.x+i.width,bottom:i.y+i.height})}function Xt(i){var n=ee(i);return n.top=n.top+i.clientTop,n.left=n.left+i.clientLeft,n.bottom=n.top+i.clientHeight,n.right=n.left+i.clientWidth,n.width=i.clientWidth,n.height=i.clientHeight,n.x=n.left,n.y=n.top,n}function ht(i,n){return n===je?Te(Ft(i)):Q(n)?Xt(n):Te(Ut(I(i)))}function Yt(i){var n=ce(ge(i)),r=["absolute","fixed"].indexOf(N(i).position)>=0,o=r&&B(i)?se(i):i;return Q(o)?n.filter(function(a){return Q(a)&&it(a,o)&&C(a)!=="body"}):[]}function Gt(i,n,r){var o=n==="clippingParents"?Yt(i):[].concat(n),a=[].concat(o,[r]),u=a[0],c=a.reduce(function(f,d){var h=ht(i,d);return f.top=X(h.top,f.top),f.right=ve(h.right,f.right),f.bottom=ve(h.bottom,f.bottom),f.left=X(h.left,f.left),f},ht(i,u));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function mt(i){var n=i.reference,r=i.element,o=i.placement,a=o?q(o):null,u=o?te(o):null,c=n.x+n.width/2-r.width/2,f=n.y+n.height/2-r.height/2,d;switch(a){case E:d={x:c,y:n.y-r.height};break;case R:d={x:c,y:n.y+n.height};break;case W:d={x:n.x+n.width,y:f};break;case P:d={x:n.x-r.width,y:f};break;default:d={x:n.x,y:n.y}}var h=a?Le(a):null;if(h!=null){var v=h==="y"?"height":"width";switch(u){case U:d[h]=d[h]-(n[v]/2-r[v]/2);break;case J:d[h]=d[h]+(n[v]/2-r[v]/2);break}}return d}function ne(i,n){n===void 0&&(n={});var r=n,o=r.placement,a=o===void 0?i.placement:o,u=r.boundary,c=u===void 0?Xe:u,f=r.rootBoundary,d=f===void 0?je:f,h=r.elementContext,v=h===void 0?K:h,g=r.altBoundary,p=g===void 0?!1:g,y=r.padding,_=y===void 0?0:y,b=ft(typeof _!="number"?_:ct(_,G)),A=v===K?Ye:K,w=i.rects.popper,S=i.elements[p?A:v],T=Gt(Q(S)?S:S.contextElement||I(i.elements.popper),c,d),x=ee(i.elements.reference),O=mt({reference:x,element:w,strategy:"absolute",placement:a}),L=Te(Object.assign({},w,O)),M=v===K?L:x,re={top:T.top-M.top+b.top,bottom:M.bottom-T.bottom+b.bottom,left:T.left-M.left+b.left,right:M.right-T.right+b.right},F=i.modifiersData.offset;if(v===K&&F){var Y=F[a];Object.keys(re).forEach(function(V){var z=[W,R].indexOf(V)>=0?1:-1,$=[E,R].indexOf(V)>=0?"y":"x";re[V]+=Y[$]*z})}return re}function Jt(i,n){n===void 0&&(n={});var r=n,o=r.placement,a=r.boundary,u=r.rootBoundary,c=r.padding,f=r.flipVariations,d=r.allowedAutoPlacements,h=d===void 0?Ee:d,v=te(o),g=v?f?De:De.filter(function(_){return te(_)===v}):G,p=g.filter(function(_){return h.indexOf(_)>=0});p.length===0&&(p=g);var y=p.reduce(function(_,b){return _[b]=ne(i,{placement:b,boundary:a,rootBoundary:u,padding:c})[q(b)],_},{});return Object.keys(y).sort(function(_,b){return y[_]-y[b]})}function Kt(i){if(q(i)===me)return[];var n=be(i);return[lt(i),n,lt(n)]}function Qt(i){var n=i.state,r=i.options,o=i.name;if(!n.modifiersData[o]._skip){for(var a=r.mainAxis,u=a===void 0?!0:a,c=r.altAxis,f=c===void 0?!0:c,d=r.fallbackPlacements,h=r.padding,v=r.boundary,g=r.rootBoundary,p=r.altBoundary,y=r.flipVariations,_=y===void 0?!0:y,b=r.allowedAutoPlacements,A=n.options.placement,w=q(A),S=w===A,T=d||(S||!_?[be(A)]:Kt(A)),x=[A].concat(T).reduce(function(kt,de){return kt.concat(q(de)===me?Jt(n,{placement:de,boundary:v,rootBoundary:g,padding:h,flipVariations:_,allowedAutoPlacements:b}):de)},[]),O=n.rects.reference,L=n.rects.popper,M=new Map,re=!0,F=x[0],Y=0;Y<x.length;Y++){var V=x[Y],z=q(V),$=te(V)===U,pe=[E,R].indexOf(z)>=0,le=pe?"width":"height",Ie=ne(n,{placement:V,boundary:v,rootBoundary:g,altBoundary:p,padding:h}),he=pe?$?W:P:$?R:E;O[le]>L[le]&&(he=be(he));var xe=be(he),_e=[];if(u&&_e.push(Ie[z]<=0),f&&_e.push(Ie[he]<=0,Ie[xe]<=0),_e.every(function(kt){return kt})){F=V,re=!1;break}M.set(V,_e)}if(re)for(var jt=_?3:1,Lt=function(kt){var de=x.find(function(qe){var Et=M.get(qe);if(Et)return Et.slice(0,kt).every(function(In){return In})});if(de)return F=de,"break"},Cn=jt;Cn>0;Cn--){var vn=Lt(Cn);if(vn==="break")break}n.placement!==F&&(n.modifiersData[o]._skip=!0,n.placement=F,n.reset=!0)}}var vt={name:"flip",enabled:!0,phase:"main",fn:Qt,requiresIfExists:["offset"],data:{_skip:!1}};function gt(i,n,r){return r===void 0&&(r={x:0,y:0}),{top:i.top-n.height-r.y,right:i.right-n.width+r.x,bottom:i.bottom-n.height+r.y,left:i.left-n.width-r.x}}function yt(i){return[E,W,R,P].some(function(n){return i[n]>=0})}function Zt(i){var n=i.state,r=i.name,o=n.rects.reference,a=n.rects.popper,u=n.modifiersData.preventOverflow,c=ne(n,{elementContext:"reference"}),f=ne(n,{altBoundary:!0}),d=gt(c,o),h=gt(f,a,u),v=yt(d),g=yt(h);n.modifiersData[r]={referenceClippingOffsets:d,popperEscapeOffsets:h,isReferenceHidden:v,hasPopperEscaped:g},n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-reference-hidden":v,"data-popper-escaped":g})}var bt={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Zt};function en(i,n,r){var o=q(i),a=[P,E].indexOf(o)>=0?-1:1,u=typeof r=="function"?r(Object.assign({},n,{placement:i})):r,c=u[0],f=u[1];return c=c||0,f=(f||0)*a,[P,W].indexOf(o)>=0?{x:f,y:c}:{x:c,y:f}}function tn(i){var n=i.state,r=i.options,o=i.name,a=r.offset,u=a===void 0?[0,0]:a,c=Ee.reduce(function(v,g){return v[g]=en(g,n.rects,u),v},{}),f=c[n.placement],d=f.x,h=f.y;n.modifiersData.popperOffsets!=null&&(n.modifiersData.popperOffsets.x+=d,n.modifiersData.popperOffsets.y+=h),n.modifiersData[o]=c}var wt={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:tn};function nn(i){var n=i.state,r=i.name;n.modifiersData[r]=mt({reference:n.rects.reference,element:n.rects.popper,strategy:"absolute",placement:n.placement})}var He={name:"popperOffsets",enabled:!0,phase:"read",fn:nn,data:{}};function rn(i){return i==="x"?"y":"x"}function on(i){var n=i.state,r=i.options,o=i.name,a=r.mainAxis,u=a===void 0?!0:a,c=r.altAxis,f=c===void 0?!1:c,d=r.boundary,h=r.rootBoundary,v=r.altBoundary,g=r.padding,p=r.tether,y=p===void 0?!0:p,_=r.tetherOffset,b=_===void 0?0:_,A=ne(n,{boundary:d,rootBoundary:h,padding:g,altBoundary:v}),w=q(n.placement),S=te(n.placement),T=!S,x=Le(w),O=rn(x),L=n.modifiersData.popperOffsets,M=n.rects.reference,re=n.rects.popper,F=typeof b=="function"?b(Object.assign({},n.rects,{placement:n.placement})):b,Y=typeof F=="number"?{mainAxis:F,altAxis:F}:Object.assign({mainAxis:0,altAxis:0},F),V=n.modifiersData.offset?n.modifiersData.offset[n.placement]:null,z={x:0,y:0};if(L){if(u){var $,pe=x==="y"?E:P,le=x==="y"?R:W,Ie=x==="y"?"height":"width",he=L[x],xe=he+A[pe],_e=he-A[le],jt=y?-re[Ie]/2:0,Lt=S===U?M[Ie]:re[Ie],Cn=S===U?-re[Ie]:-M[Ie],vn=n.elements.arrow,kt=y&&vn?ke(vn):{width:0,height:0},de=n.modifiersData["arrow#persistent"]?n.modifiersData["arrow#persistent"].padding:st(),qe=de[pe],Et=de[le],In=fe(0,M[Ie],kt[Ie]),$e=T?M[Ie]/2-jt-In-qe-Y.mainAxis:Lt-In-qe-Y.mainAxis,Ce=T?-M[Ie]/2+jt+In+Et+Y.mainAxis:Cn+In+Et+Y.mainAxis,ue=n.elements.arrow&&se(n.elements.arrow),At=ue?x==="y"?ue.clientTop||0:ue.clientLeft||0:0,Oe=($=V==null?void 0:V[x])!=null?$:0,Ve=he+$e-Oe-At,Pt=he+Ce-Oe,Dt=fe(y?ve(xe,Ve):xe,he,y?X(_e,Pt):_e);L[x]=Dt,z[x]=Dt-he}if(f){var _n,ie=x==="x"?E:P,oe=x==="x"?R:W,j=L[O],k=O==="y"?"height":"width",D=j+A[ie],ae=j-A[oe],Ne=[E,P].indexOf(w)!==-1,ze=(_n=V==null?void 0:V[O])!=null?_n:0,hn=Ne?D:j-M[k]-re[k]-ze+Y.altAxis,An=Ne?j+M[k]+re[k]-ze-Y.altAxis:ae,Tn=y&&Ne?St(hn,j,An):fe(y?hn:D,j,y?An:ae);L[O]=Tn,z[O]=Tn-j}n.modifiersData[o]=z}}var xt={name:"preventOverflow",enabled:!0,phase:"main",fn:on,requiresIfExists:["offset"]};function an(i){return{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}}function sn(i){return i===H(i)||!B(i)?We(i):an(i)}function fn(i){var n=i.getBoundingClientRect(),r=Z(n.width)/i.offsetWidth||1,o=Z(n.height)/i.offsetHeight||1;return r!==1||o!==1}function cn(i,n,r){r===void 0&&(r=!1);var o=B(n),a=B(n)&&fn(n),u=I(n),c=ee(i,a),f={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(o||!o&&!r)&&((C(n)!=="body"||Se(u))&&(f=sn(n)),B(n)?(d=ee(n,!0),d.x+=n.clientLeft,d.y+=n.clientTop):u&&(d.x=Be(u))),{x:c.left+f.scrollLeft-d.x,y:c.top+f.scrollTop-d.y,width:c.width,height:c.height}}function pn(i){var n=new Map,r=new Set,o=[];i.forEach(function(u){n.set(u.name,u)});function a(u){r.add(u.name);var c=[].concat(u.requires||[],u.requiresIfExists||[]);c.forEach(function(f){if(!r.has(f)){var d=n.get(f);d&&a(d)}}),o.push(u)}return i.forEach(function(u){r.has(u.name)||a(u)}),o}function un(i){var n=pn(i);return ot.reduce(function(r,o){return r.concat(n.filter(function(a){return a.phase===o}))},[])}function ln(i){var n;return function(){return n||(n=new Promise(function(r){Promise.resolve().then(function(){n=void 0,r(i())})})),n}}function dn(i){var n=i.reduce(function(r,o){var a=r[o.name];return r[o.name]=a?Object.assign({},a,o,{options:Object.assign({},a.options,o.options),data:Object.assign({},a.data,o.data)}):o,r},{});return Object.keys(n).map(function(r){return n[r]})}var Ot={placement:"bottom",modifiers:[],strategy:"absolute"};function $t(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return!n.some(function(o){return!(o&&typeof o.getBoundingClientRect=="function")})}function we(i){i===void 0&&(i={});var n=i,r=n.defaultModifiers,o=r===void 0?[]:r,a=n.defaultOptions,u=a===void 0?Ot:a;return function(c,f,d){d===void 0&&(d=u);var h={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ot,u),modifiersData:{},elements:{reference:c,popper:f},attributes:{},styles:{}},v=[],g=!1,p={state:h,setOptions:function(b){var A=typeof b=="function"?b(h.options):b;_(),h.options=Object.assign({},u,h.options,A),h.scrollParents={reference:Q(c)?ce(c):c.contextElement?ce(c.contextElement):[],popper:ce(f)};var w=un(dn([].concat(o,h.options.modifiers)));return h.orderedModifiers=w.filter(function(S){return S.enabled}),y(),p.update()},forceUpdate:function(){if(!g){var b=h.elements,A=b.reference,w=b.popper;if($t(A,w)){h.rects={reference:cn(A,se(w),h.options.strategy==="fixed"),popper:ke(w)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach(function(re){return h.modifiersData[re.name]=Object.assign({},re.data)});for(var S=0;S<h.orderedModifiers.length;S++){if(h.reset===!0){h.reset=!1,S=-1;continue}var T=h.orderedModifiers[S],x=T.fn,O=T.options,L=O===void 0?{}:O,M=T.name;typeof x=="function"&&(h=x({state:h,options:L,name:M,instance:p})||h)}}}},update:ln(function(){return new Promise(function(b){p.forceUpdate(),b(h)})}),destroy:function(){_(),g=!0}};if(!$t(c,f))return p;p.setOptions(d).then(function(b){!g&&d.onFirstUpdate&&d.onFirstUpdate(b)});function y(){h.orderedModifiers.forEach(function(b){var A=b.name,w=b.options,S=w===void 0?{}:w,T=b.effect;if(typeof T=="function"){var x=T({state:h,name:A,instance:p,options:S}),O=function(){};v.push(x||O)}})}function _(){v.forEach(function(b){return b()}),v=[]}return p}}we();var mn=[Re,He,Me,Ae];we({defaultModifiers:mn});var gn=[Re,He,Me,Ae,wt,vt,xt,pt,bt],yn=we({defaultModifiers:gn});const usePopper=(i,n,r={})=>{const o={name:"updateState",enabled:!0,phase:"write",fn:({state:d})=>{const h=deriveState(d);Object.assign(c.value,h)},requires:["computeStyles"]},a=vue.computed(()=>{const{onFirstUpdate:d,placement:h,strategy:v,modifiers:g}=vue.unref(r);return{onFirstUpdate:d,placement:h||"bottom",strategy:v||"absolute",modifiers:[...g||[],o,{name:"applyStyles",enabled:!1}]}}),u=vue.shallowRef(),c=vue.ref({styles:{popper:{position:vue.unref(a).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),f=()=>{u.value&&(u.value.destroy(),u.value=void 0)};return vue.watch(a,d=>{const h=vue.unref(u);h&&h.setOptions(d)},{deep:!0}),vue.watch([i,n],([d,h])=>{f(),!(!d||!h)&&(u.value=yn(d,h,vue.unref(a)))}),vue.onBeforeUnmount(()=>{f()}),{state:vue.computed(()=>{var d;return{...((d=vue.unref(u))==null?void 0:d.state)||{}}}),styles:vue.computed(()=>vue.unref(c).styles),attributes:vue.computed(()=>vue.unref(c).attributes),update:()=>{var d;return(d=vue.unref(u))==null?void 0:d.update()},forceUpdate:()=>{var d;return(d=vue.unref(u))==null?void 0:d.forceUpdate()},instanceRef:vue.computed(()=>vue.unref(u))}};function deriveState(i){const n=Object.keys(i.elements),r=lodashEs.fromPairs(n.map(a=>[a,i.styles[a]||{}])),o=lodashEs.fromPairs(n.map(a=>[a,i.attributes[a]]));return{styles:r,attributes:o}}function useTimeout(){let i;const n=(o,a)=>{r(),i=window.setTimeout(o,a)},r=()=>window.clearTimeout(i);return tryOnScopeDispose(()=>r()),{registerTimeout:n,cancelTimeout:r}}const defaultIdInjection={prefix:Math.floor(Math.random()*1e4),current:0},ID_INJECTION_KEY=Symbol("elIdInjection"),useIdInjection=()=>vue.getCurrentInstance()?vue.inject(ID_INJECTION_KEY,defaultIdInjection):defaultIdInjection,useId=i=>{const n=useIdInjection();!isClient&&n===defaultIdInjection&&debugWarn("IdInjection",`Looks like you are using server rendering, you must provide a id provider to ensure the hydration process to be succeed
usage: app.provide(ID_INJECTION_KEY, {
  prefix: number,
  current: number,
})`);const r=useGetDerivedNamespace();return vue.computed(()=>vue.unref(i)||`${r.value}-id-${n.prefix}-${n.current++}`)};let registeredEscapeHandlers=[];const cachedHandler=i=>{const n=i;n.key===EVENT_CODE.esc&&registeredEscapeHandlers.forEach(r=>r(n))},useEscapeKeydown=i=>{vue.onMounted(()=>{registeredEscapeHandlers.length===0&&document.addEventListener("keydown",cachedHandler),isClient&&registeredEscapeHandlers.push(i)}),vue.onBeforeUnmount(()=>{registeredEscapeHandlers=registeredEscapeHandlers.filter(n=>n!==i),registeredEscapeHandlers.length===0&&isClient&&document.removeEventListener("keydown",cachedHandler)})};let cachedContainer;const usePopperContainerId=()=>{const i=useGetDerivedNamespace(),n=useIdInjection(),r=vue.computed(()=>`${i.value}-popper-container-${n.prefix}`),o=vue.computed(()=>`#${r.value}`);return{id:r,selector:o}},createContainer=i=>{const n=document.createElement("div");return n.id=i,document.body.appendChild(n),n},usePopperContainer=()=>{const{id:i,selector:n}=usePopperContainerId();return vue.onBeforeMount(()=>{isClient&&(process.env.NODE_ENV==="test"||!cachedContainer&&!document.body.querySelector(n.value))&&(cachedContainer=createContainer(i.value))}),{id:i,selector:n}},useDelayedToggleProps=buildProps({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),useDelayedToggle=({showAfter:i,hideAfter:n,autoClose:r,open:o,close:a})=>{const{registerTimeout:u}=useTimeout(),{registerTimeout:c,cancelTimeout:f}=useTimeout();return{onOpen:v=>{u(()=>{o(v);const g=vue.unref(r);isNumber(g)&&g>0&&c(()=>{a(v)},g)},vue.unref(i))},onClose:v=>{f(),u(()=>{a(v)},vue.unref(n))}}},FORWARD_REF_INJECTION_KEY=Symbol("elForwardRef"),useForwardRef=i=>{const n=r=>{i.value=r};vue.provide(FORWARD_REF_INJECTION_KEY,{setForwardRef:n})},useForwardRefDirective=i=>({mounted(n){i(n)},updated(n){i(n)},unmounted(){i(null)}}),zIndex=vue.ref(0),defaultInitialZIndex=2e3,zIndexContextKey=Symbol("zIndexContextKey"),useZIndex=i=>{const n=i||vue.inject(zIndexContextKey,void 0),r=vue.computed(()=>{const u=vue.unref(n);return isNumber(u)?u:defaultInitialZIndex}),o=vue.computed(()=>r.value+zIndex.value);return{initialZIndex:r,currentZIndex:o,nextZIndex:()=>(zIndex.value++,o.value)}};function useCursor(i){const n=vue.ref();function r(){if(i.value==null)return;const{selectionStart:a,selectionEnd:u,value:c}=i.value;if(a==null||u==null)return;const f=c.slice(0,Math.max(0,a)),d=c.slice(Math.max(0,u));n.value={selectionStart:a,selectionEnd:u,value:c,beforeTxt:f,afterTxt:d}}function o(){if(i.value==null||n.value==null)return;const{value:a}=i.value,{beforeTxt:u,afterTxt:c,selectionStart:f}=n.value;if(u==null||c==null||f==null)return;let d=a.length;if(a.endsWith(c))d=a.length-c.length;else if(a.startsWith(u))d=u.length;else{const h=u[f-1],v=a.indexOf(h,f-1);v!==-1&&(d=v+1)}i.value.setSelectionRange(d,d)}return[r,o]}const useSizeProp=buildProp({type:String,values:componentSizes,required:!1}),SIZE_INJECTION_KEY=Symbol("size"),useGlobalSize=()=>{const i=vue.inject(SIZE_INJECTION_KEY,{});return vue.computed(()=>vue.unref(i.size)||"")};function useFocusController(i,{afterFocus:n,afterBlur:r}={}){const o=vue.getCurrentInstance(),{emit:a}=o,u=vue.shallowRef(),c=vue.ref(!1),f=v=>{c.value||(c.value=!0,a("focus",v),n==null||n())},d=v=>{var g;v.relatedTarget&&((g=u.value)!=null&&g.contains(v.relatedTarget))||(c.value=!1,a("blur",v),r==null||r())},h=()=>{var v;(v=i.value)==null||v.focus()};return vue.watch(u,v=>{v&&(v.setAttribute("role","button"),v.setAttribute("tabindex","-1"))}),useEventListener(u,"click",h),{wrapperRef:u,isFocused:c,handleFocus:f,handleBlur:d}}var _export_sfc=(i,n)=>{const r=i.__vccOpts||i;for(const[o,a]of n)r[o]=a;return r};const iconProps=buildProps({size:{type:definePropType([Number,String])},color:{type:String}}),__default__$c=vue.defineComponent({name:"ElIcon",inheritAttrs:!1}),_sfc_main$r=vue.defineComponent({...__default__$c,props:iconProps,setup(i){const n=i,r=useNamespace("icon"),o=vue.computed(()=>{const{size:a,color:u}=n;return!a&&!u?{}:{fontSize:isUndefined(a)?void 0:addUnit(a),"--color":u}});return(a,u)=>(vue.openBlock(),vue.createElementBlock("i",vue.mergeProps({class:vue.unref(r).b(),style:vue.unref(o)},a.$attrs),[vue.renderSlot(a.$slots,"default")],16))}});var Icon=_export_sfc(_sfc_main$r,[["__file","/home/runner/work/element-plus/element-plus/packages/components/icon/src/icon.vue"]]);const ElIcon=withInstall(Icon),formContextKey=Symbol("formContextKey"),formItemContextKey=Symbol("formItemContextKey"),useFormSize=(i,n={})=>{const r=vue.ref(void 0),o=n.prop?r:useProp("size"),a=n.global?r:useGlobalSize(),u=n.form?{size:void 0}:vue.inject(formContextKey,void 0),c=n.formItem?{size:void 0}:vue.inject(formItemContextKey,void 0);return vue.computed(()=>o.value||vue.unref(i)||(c==null?void 0:c.size)||(u==null?void 0:u.size)||a.value||"")},useFormDisabled=i=>{const n=useProp("disabled"),r=vue.inject(formContextKey,void 0);return vue.computed(()=>n.value||vue.unref(i)||(r==null?void 0:r.disabled)||!1)},useFormItem=()=>{const i=vue.inject(formContextKey,void 0),n=vue.inject(formItemContextKey,void 0);return{form:i,formItem:n}},useFormItemInputId=(i,{formItemContext:n,disableIdGeneration:r,disableIdManagement:o})=>{r||(r=vue.ref(!1)),o||(o=vue.ref(!1));const a=vue.ref();let u;const c=vue.computed(()=>{var f;return!!(!i.label&&n&&n.inputIds&&((f=n.inputIds)==null?void 0:f.length)<=1)});return vue.onMounted(()=>{u=vue.watch([vue.toRef(i,"id"),r],([f,d])=>{const h=f??(d?void 0:useId().value);h!==a.value&&(n!=null&&n.removeInputId&&(a.value&&n.removeInputId(a.value),!(o!=null&&o.value)&&!d&&h&&n.addInputId(h)),a.value=h)},{immediate:!0})}),vue.onUnmounted(()=>{u&&u(),n!=null&&n.removeInputId&&a.value&&n.removeInputId(a.value)}),{isLabeledByFormItem:c,inputId:a}},formMetaProps=buildProps({size:{type:String,values:componentSizes},disabled:Boolean}),formProps=buildProps({...formMetaProps,model:Object,rules:{type:definePropType(Object)},labelPosition:{type:String,values:["left","right","top"],default:"right"},requireAsteriskPosition:{type:String,values:["left","right"],default:"left"},labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:Boolean,scrollToError:Boolean,scrollIntoViewOptions:{type:[Object,Boolean]}}),formEmits={validate:(i,n,r)=>(isArray(i)||isString(i))&&isBoolean(n)&&isString(r)},SCOPE="ElForm";function useFormLabelWidth(){const i=vue.ref([]),n=vue.computed(()=>{if(!i.value.length)return"0";const u=Math.max(...i.value);return u?`${u}px`:""});function r(u){const c=i.value.indexOf(u);return c===-1&&n.value==="0"&&debugWarn(SCOPE,`unexpected width ${u}`),c}function o(u,c){if(u&&c){const f=r(c);i.value.splice(f,1,u)}else u&&i.value.push(u)}function a(u){const c=r(u);c>-1&&i.value.splice(c,1)}return{autoLabelWidth:n,registerLabelWidth:o,deregisterLabelWidth:a}}const filterFields=(i,n)=>{const r=lodashEs.castArray(n);return r.length>0?i.filter(o=>o.prop&&r.includes(o.prop)):i},COMPONENT_NAME$4="ElForm",__default__$b=vue.defineComponent({name:COMPONENT_NAME$4}),_sfc_main$q=vue.defineComponent({...__default__$b,props:formProps,emits:formEmits,setup(i,{expose:n,emit:r}){const o=i,a=[],u=useFormSize(),c=useNamespace("form"),f=vue.computed(()=>{const{labelPosition:S,inline:T}=o;return[c.b(),c.m(u.value||"default"),{[c.m(`label-${S}`)]:S,[c.m("inline")]:T}]}),d=S=>{a.push(S)},h=S=>{S.prop&&a.splice(a.indexOf(S),1)},v=(S=[])=>{if(!o.model){debugWarn(COMPONENT_NAME$4,"model is required for resetFields to work.");return}filterFields(a,S).forEach(T=>T.resetField())},g=(S=[])=>{filterFields(a,S).forEach(T=>T.clearValidate())},p=vue.computed(()=>{const S=!!o.model;return S||debugWarn(COMPONENT_NAME$4,"model is required for validate to work."),S}),y=S=>{if(a.length===0)return[];const T=filterFields(a,S);return T.length?T:(debugWarn(COMPONENT_NAME$4,"please pass correct props!"),[])},_=async S=>A(void 0,S),b=async(S=[])=>{if(!p.value)return!1;const T=y(S);if(T.length===0)return!0;let x={};for(const O of T)try{await O.validate("")}catch(L){x={...x,...L}}return Object.keys(x).length===0?!0:Promise.reject(x)},A=async(S=[],T)=>{const x=!isFunction(T);try{const O=await b(S);return O===!0&&(T==null||T(O)),O}catch(O){if(O instanceof Error)throw O;const L=O;return o.scrollToError&&w(Object.keys(L)[0]),T==null||T(!1,L),x&&Promise.reject(L)}},w=S=>{var T;const x=filterFields(a,S)[0];x&&((T=x.$el)==null||T.scrollIntoView(o.scrollIntoViewOptions))};return vue.watch(()=>o.rules,()=>{o.validateOnRuleChange&&_().catch(S=>debugWarn(S))},{deep:!0}),vue.provide(formContextKey,vue.reactive({...vue.toRefs(o),emit:r,resetFields:v,clearValidate:g,validateField:A,addField:d,removeField:h,...useFormLabelWidth()})),n({validate:_,validateField:A,resetFields:v,clearValidate:g,scrollToField:w}),(S,T)=>(vue.openBlock(),vue.createElementBlock("form",{class:vue.normalizeClass(vue.unref(f))},[vue.renderSlot(S.$slots,"default")],2))}});var Form=_export_sfc(_sfc_main$q,[["__file","/home/runner/work/element-plus/element-plus/packages/components/form/src/form.vue"]]);function _extends(){return _extends=Object.assign?Object.assign.bind():function(i){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])}return i},_extends.apply(this,arguments)}function _inheritsLoose(i,n){i.prototype=Object.create(n.prototype),i.prototype.constructor=i,_setPrototypeOf(i,n)}function _getPrototypeOf(i){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_getPrototypeOf(i)}function _setPrototypeOf(i,n){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,a){return o.__proto__=a,o},_setPrototypeOf(i,n)}function _isNativeReflectConstruct(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _construct(i,n,r){return _isNativeReflectConstruct()?_construct=Reflect.construct.bind():_construct=function(a,u,c){var f=[null];f.push.apply(f,u);var d=Function.bind.apply(a,f),h=new d;return c&&_setPrototypeOf(h,c.prototype),h},_construct.apply(null,arguments)}function _isNativeFunction(i){return Function.toString.call(i).indexOf("[native code]")!==-1}function _wrapNativeSuper(i){var n=typeof Map=="function"?new Map:void 0;return _wrapNativeSuper=function(o){if(o===null||!_isNativeFunction(o))return o;if(typeof o!="function")throw new TypeError("Super expression must either be null or a function");if(typeof n<"u"){if(n.has(o))return n.get(o);n.set(o,a)}function a(){return _construct(o,arguments,_getPrototypeOf(this).constructor)}return a.prototype=Object.create(o.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(a,o)},_wrapNativeSuper(i)}var formatRegExp=/%[sdj%]/g,warning=function i(){};typeof process<"u"&&process.env&&process.env.NODE_ENV!=="production"&&typeof window<"u"&&typeof document<"u"&&(warning=function(n,r){typeof console<"u"&&console.warn&&typeof ASYNC_VALIDATOR_NO_WARNING>"u"&&r.every(function(o){return typeof o=="string"})&&console.warn(n,r)});function convertFieldsError(i){if(!i||!i.length)return null;var n={};return i.forEach(function(r){var o=r.field;n[o]=n[o]||[],n[o].push(r)}),n}function format(i){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var a=0,u=r.length;if(typeof i=="function")return i.apply(null,r);if(typeof i=="string"){var c=i.replace(formatRegExp,function(f){if(f==="%%")return"%";if(a>=u)return f;switch(f){case"%s":return String(r[a++]);case"%d":return Number(r[a++]);case"%j":try{return JSON.stringify(r[a++])}catch{return"[Circular]"}break;default:return f}});return c}return i}function isNativeStringType(i){return i==="string"||i==="url"||i==="hex"||i==="email"||i==="date"||i==="pattern"}function isEmptyValue(i,n){return!!(i==null||n==="array"&&Array.isArray(i)&&!i.length||isNativeStringType(n)&&typeof i=="string"&&!i)}function asyncParallelArray(i,n,r){var o=[],a=0,u=i.length;function c(f){o.push.apply(o,f||[]),a++,a===u&&r(o)}i.forEach(function(f){n(f,c)})}function asyncSerialArray(i,n,r){var o=0,a=i.length;function u(c){if(c&&c.length){r(c);return}var f=o;o=o+1,f<a?n(i[f],u):r([])}u([])}function flattenObjArr(i){var n=[];return Object.keys(i).forEach(function(r){n.push.apply(n,i[r]||[])}),n}var AsyncValidationError=function(i){_inheritsLoose(n,i);function n(r,o){var a;return a=i.call(this,"Async Validation Error")||this,a.errors=r,a.fields=o,a}return n}(_wrapNativeSuper(Error));function asyncMap(i,n,r,o,a){if(n.first){var u=new Promise(function(p,y){var _=function(w){return o(w),w.length?y(new AsyncValidationError(w,convertFieldsError(w))):p(a)},b=flattenObjArr(i);asyncSerialArray(b,r,_)});return u.catch(function(p){return p}),u}var c=n.firstFields===!0?Object.keys(i):n.firstFields||[],f=Object.keys(i),d=f.length,h=0,v=[],g=new Promise(function(p,y){var _=function(A){if(v.push.apply(v,A),h++,h===d)return o(v),v.length?y(new AsyncValidationError(v,convertFieldsError(v))):p(a)};f.length||(o(v),p(a)),f.forEach(function(b){var A=i[b];c.indexOf(b)!==-1?asyncSerialArray(A,r,_):asyncParallelArray(A,r,_)})});return g.catch(function(p){return p}),g}function isErrorObj(i){return!!(i&&i.message!==void 0)}function getValue(i,n){for(var r=i,o=0;o<n.length;o++){if(r==null)return r;r=r[n[o]]}return r}function complementError(i,n){return function(r){var o;return i.fullFields?o=getValue(n,i.fullFields):o=n[r.field||i.fullField],isErrorObj(r)?(r.field=r.field||i.fullField,r.fieldValue=o,r):{message:typeof r=="function"?r():r,fieldValue:o,field:r.field||i.fullField}}}function deepMerge(i,n){if(n){for(var r in n)if(n.hasOwnProperty(r)){var o=n[r];typeof o=="object"&&typeof i[r]=="object"?i[r]=_extends({},i[r],o):i[r]=o}}return i}var required$1=function i(n,r,o,a,u,c){n.required&&(!o.hasOwnProperty(n.field)||isEmptyValue(r,c||n.type))&&a.push(format(u.messages.required,n.fullField))},whitespace=function i(n,r,o,a,u){(/^\s+$/.test(r)||r==="")&&a.push(format(u.messages.whitespace,n.fullField))},urlReg,getUrlRegex=function(){if(urlReg)return urlReg;var i="[a-fA-F\\d:]",n=function(x){return x&&x.includeBoundaries?"(?:(?<=\\s|^)(?="+i+")|(?<="+i+")(?=\\s|$))":""},r="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",o="[a-fA-F\\d]{1,4}",a=(`
(?:
(?:`+o+":){7}(?:"+o+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+o+":){6}(?:"+r+"|:"+o+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+o+":){5}(?::"+r+"|(?::"+o+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+o+":){4}(?:(?::"+o+"){0,1}:"+r+"|(?::"+o+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+o+":){3}(?:(?::"+o+"){0,2}:"+r+"|(?::"+o+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+o+":){2}(?:(?::"+o+"){0,3}:"+r+"|(?::"+o+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+o+":){1}(?:(?::"+o+"){0,4}:"+r+"|(?::"+o+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+o+"){0,5}:"+r+"|(?::"+o+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),u=new RegExp("(?:^"+r+"$)|(?:^"+a+"$)"),c=new RegExp("^"+r+"$"),f=new RegExp("^"+a+"$"),d=function(x){return x&&x.exact?u:new RegExp("(?:"+n(x)+r+n(x)+")|(?:"+n(x)+a+n(x)+")","g")};d.v4=function(T){return T&&T.exact?c:new RegExp(""+n(T)+r+n(T),"g")},d.v6=function(T){return T&&T.exact?f:new RegExp(""+n(T)+a+n(T),"g")};var h="(?:(?:[a-z]+:)?//)",v="(?:\\S+(?::\\S*)?@)?",g=d.v4().source,p=d.v6().source,y="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",_="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",b="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",A="(?::\\d{2,5})?",w='(?:[/?#][^\\s"]*)?',S="(?:"+h+"|www\\.)"+v+"(?:localhost|"+g+"|"+p+"|"+y+_+b+")"+A+w;return urlReg=new RegExp("(?:^"+S+"$)","i"),urlReg},pattern$2={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},types={integer:function i(n){return types.number(n)&&parseInt(n,10)===n},float:function i(n){return types.number(n)&&!types.integer(n)},array:function i(n){return Array.isArray(n)},regexp:function i(n){if(n instanceof RegExp)return!0;try{return!!new RegExp(n)}catch{return!1}},date:function i(n){return typeof n.getTime=="function"&&typeof n.getMonth=="function"&&typeof n.getYear=="function"&&!isNaN(n.getTime())},number:function i(n){return isNaN(n)?!1:typeof n=="number"},object:function i(n){return typeof n=="object"&&!types.array(n)},method:function i(n){return typeof n=="function"},email:function i(n){return typeof n=="string"&&n.length<=320&&!!n.match(pattern$2.email)},url:function i(n){return typeof n=="string"&&n.length<=2048&&!!n.match(getUrlRegex())},hex:function i(n){return typeof n=="string"&&!!n.match(pattern$2.hex)}},type$1=function i(n,r,o,a,u){if(n.required&&r===void 0){required$1(n,r,o,a,u);return}var c=["integer","float","array","regexp","object","method","email","number","date","url","hex"],f=n.type;c.indexOf(f)>-1?types[f](r)||a.push(format(u.messages.types[f],n.fullField,n.type)):f&&typeof r!==n.type&&a.push(format(u.messages.types[f],n.fullField,n.type))},range=function i(n,r,o,a,u){var c=typeof n.len=="number",f=typeof n.min=="number",d=typeof n.max=="number",h=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,v=r,g=null,p=typeof r=="number",y=typeof r=="string",_=Array.isArray(r);if(p?g="number":y?g="string":_&&(g="array"),!g)return!1;_&&(v=r.length),y&&(v=r.replace(h,"_").length),c?v!==n.len&&a.push(format(u.messages[g].len,n.fullField,n.len)):f&&!d&&v<n.min?a.push(format(u.messages[g].min,n.fullField,n.min)):d&&!f&&v>n.max?a.push(format(u.messages[g].max,n.fullField,n.max)):f&&d&&(v<n.min||v>n.max)&&a.push(format(u.messages[g].range,n.fullField,n.min,n.max))},ENUM$1="enum",enumerable$1=function i(n,r,o,a,u){n[ENUM$1]=Array.isArray(n[ENUM$1])?n[ENUM$1]:[],n[ENUM$1].indexOf(r)===-1&&a.push(format(u.messages[ENUM$1],n.fullField,n[ENUM$1].join(", ")))},pattern$1=function i(n,r,o,a,u){if(n.pattern){if(n.pattern instanceof RegExp)n.pattern.lastIndex=0,n.pattern.test(r)||a.push(format(u.messages.pattern.mismatch,n.fullField,r,n.pattern));else if(typeof n.pattern=="string"){var c=new RegExp(n.pattern);c.test(r)||a.push(format(u.messages.pattern.mismatch,n.fullField,r,n.pattern))}}},rules={required:required$1,whitespace,type:type$1,range,enum:enumerable$1,pattern:pattern$1},string=function i(n,r,o,a,u){var c=[],f=n.required||!n.required&&a.hasOwnProperty(n.field);if(f){if(isEmptyValue(r,"string")&&!n.required)return o();rules.required(n,r,a,c,u,"string"),isEmptyValue(r,"string")||(rules.type(n,r,a,c,u),rules.range(n,r,a,c,u),rules.pattern(n,r,a,c,u),n.whitespace===!0&&rules.whitespace(n,r,a,c,u))}o(c)},method=function i(n,r,o,a,u){var c=[],f=n.required||!n.required&&a.hasOwnProperty(n.field);if(f){if(isEmptyValue(r)&&!n.required)return o();rules.required(n,r,a,c,u),r!==void 0&&rules.type(n,r,a,c,u)}o(c)},number=function i(n,r,o,a,u){var c=[],f=n.required||!n.required&&a.hasOwnProperty(n.field);if(f){if(r===""&&(r=void 0),isEmptyValue(r)&&!n.required)return o();rules.required(n,r,a,c,u),r!==void 0&&(rules.type(n,r,a,c,u),rules.range(n,r,a,c,u))}o(c)},_boolean=function i(n,r,o,a,u){var c=[],f=n.required||!n.required&&a.hasOwnProperty(n.field);if(f){if(isEmptyValue(r)&&!n.required)return o();rules.required(n,r,a,c,u),r!==void 0&&rules.type(n,r,a,c,u)}o(c)},regexp=function i(n,r,o,a,u){var c=[],f=n.required||!n.required&&a.hasOwnProperty(n.field);if(f){if(isEmptyValue(r)&&!n.required)return o();rules.required(n,r,a,c,u),isEmptyValue(r)||rules.type(n,r,a,c,u)}o(c)},integer=function i(n,r,o,a,u){var c=[],f=n.required||!n.required&&a.hasOwnProperty(n.field);if(f){if(isEmptyValue(r)&&!n.required)return o();rules.required(n,r,a,c,u),r!==void 0&&(rules.type(n,r,a,c,u),rules.range(n,r,a,c,u))}o(c)},floatFn=function i(n,r,o,a,u){var c=[],f=n.required||!n.required&&a.hasOwnProperty(n.field);if(f){if(isEmptyValue(r)&&!n.required)return o();rules.required(n,r,a,c,u),r!==void 0&&(rules.type(n,r,a,c,u),rules.range(n,r,a,c,u))}o(c)},array=function i(n,r,o,a,u){var c=[],f=n.required||!n.required&&a.hasOwnProperty(n.field);if(f){if(r==null&&!n.required)return o();rules.required(n,r,a,c,u,"array"),r!=null&&(rules.type(n,r,a,c,u),rules.range(n,r,a,c,u))}o(c)},object=function i(n,r,o,a,u){var c=[],f=n.required||!n.required&&a.hasOwnProperty(n.field);if(f){if(isEmptyValue(r)&&!n.required)return o();rules.required(n,r,a,c,u),r!==void 0&&rules.type(n,r,a,c,u)}o(c)},ENUM="enum",enumerable=function i(n,r,o,a,u){var c=[],f=n.required||!n.required&&a.hasOwnProperty(n.field);if(f){if(isEmptyValue(r)&&!n.required)return o();rules.required(n,r,a,c,u),r!==void 0&&rules[ENUM](n,r,a,c,u)}o(c)},pattern=function i(n,r,o,a,u){var c=[],f=n.required||!n.required&&a.hasOwnProperty(n.field);if(f){if(isEmptyValue(r,"string")&&!n.required)return o();rules.required(n,r,a,c,u),isEmptyValue(r,"string")||rules.pattern(n,r,a,c,u)}o(c)},date=function i(n,r,o,a,u){var c=[],f=n.required||!n.required&&a.hasOwnProperty(n.field);if(f){if(isEmptyValue(r,"date")&&!n.required)return o();if(rules.required(n,r,a,c,u),!isEmptyValue(r,"date")){var d;r instanceof Date?d=r:d=new Date(r),rules.type(n,d,a,c,u),d&&rules.range(n,d.getTime(),a,c,u)}}o(c)},required=function i(n,r,o,a,u){var c=[],f=Array.isArray(r)?"array":typeof r;rules.required(n,r,a,c,u,f),o(c)},type=function i(n,r,o,a,u){var c=n.type,f=[],d=n.required||!n.required&&a.hasOwnProperty(n.field);if(d){if(isEmptyValue(r,c)&&!n.required)return o();rules.required(n,r,a,f,u,c),isEmptyValue(r,c)||rules.type(n,r,a,f,u)}o(f)},any=function i(n,r,o,a,u){var c=[],f=n.required||!n.required&&a.hasOwnProperty(n.field);if(f){if(isEmptyValue(r)&&!n.required)return o();rules.required(n,r,a,c,u)}o(c)},validators={string,method,number,boolean:_boolean,regexp,integer,float:floatFn,array,object,enum:enumerable,pattern,date,url:type,hex:type,email:type,required,any};function newMessages(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var n=JSON.parse(JSON.stringify(this));return n.clone=this.clone,n}}}var messages=newMessages(),Schema=function(){function i(r){this.rules=null,this._messages=messages,this.define(r)}var n=i.prototype;return n.define=function(o){var a=this;if(!o)throw new Error("Cannot configure a schema with no rules");if(typeof o!="object"||Array.isArray(o))throw new Error("Rules must be an object");this.rules={},Object.keys(o).forEach(function(u){var c=o[u];a.rules[u]=Array.isArray(c)?c:[c]})},n.messages=function(o){return o&&(this._messages=deepMerge(newMessages(),o)),this._messages},n.validate=function(o,a,u){var c=this;a===void 0&&(a={}),u===void 0&&(u=function(){});var f=o,d=a,h=u;if(typeof d=="function"&&(h=d,d={}),!this.rules||Object.keys(this.rules).length===0)return h&&h(null,f),Promise.resolve(f);function v(b){var A=[],w={};function S(x){if(Array.isArray(x)){var O;A=(O=A).concat.apply(O,x)}else A.push(x)}for(var T=0;T<b.length;T++)S(b[T]);A.length?(w=convertFieldsError(A),h(A,w)):h(null,f)}if(d.messages){var g=this.messages();g===messages&&(g=newMessages()),deepMerge(g,d.messages),d.messages=g}else d.messages=this.messages();var p={},y=d.keys||Object.keys(this.rules);y.forEach(function(b){var A=c.rules[b],w=f[b];A.forEach(function(S){var T=S;typeof T.transform=="function"&&(f===o&&(f=_extends({},f)),w=f[b]=T.transform(w)),typeof T=="function"?T={validator:T}:T=_extends({},T),T.validator=c.getValidationMethod(T),T.validator&&(T.field=b,T.fullField=T.fullField||b,T.type=c.getType(T),p[b]=p[b]||[],p[b].push({rule:T,value:w,source:f,field:b}))})});var _={};return asyncMap(p,d,function(b,A){var w=b.rule,S=(w.type==="object"||w.type==="array")&&(typeof w.fields=="object"||typeof w.defaultField=="object");S=S&&(w.required||!w.required&&b.value),w.field=b.field;function T(L,M){return _extends({},M,{fullField:w.fullField+"."+L,fullFields:w.fullFields?[].concat(w.fullFields,[L]):[L]})}function x(L){L===void 0&&(L=[]);var M=Array.isArray(L)?L:[L];!d.suppressWarning&&M.length&&i.warning("async-validator:",M),M.length&&w.message!==void 0&&(M=[].concat(w.message));var re=M.map(complementError(w,f));if(d.first&&re.length)return _[w.field]=1,A(re);if(!S)A(re);else{if(w.required&&!b.value)return w.message!==void 0?re=[].concat(w.message).map(complementError(w,f)):d.error&&(re=[d.error(w,format(d.messages.required,w.field))]),A(re);var F={};w.defaultField&&Object.keys(b.value).map(function(z){F[z]=w.defaultField}),F=_extends({},F,b.rule.fields);var Y={};Object.keys(F).forEach(function(z){var $=F[z],pe=Array.isArray($)?$:[$];Y[z]=pe.map(T.bind(null,z))});var V=new i(Y);V.messages(d.messages),b.rule.options&&(b.rule.options.messages=d.messages,b.rule.options.error=d.error),V.validate(b.value,b.rule.options||d,function(z){var $=[];re&&re.length&&$.push.apply($,re),z&&z.length&&$.push.apply($,z),A($.length?$:null)})}}var O;if(w.asyncValidator)O=w.asyncValidator(w,b.value,x,b.source,d);else if(w.validator){try{O=w.validator(w,b.value,x,b.source,d)}catch(L){console.error==null||console.error(L),d.suppressValidatorError||setTimeout(function(){throw L},0),x(L.message)}O===!0?x():O===!1?x(typeof w.message=="function"?w.message(w.fullField||w.field):w.message||(w.fullField||w.field)+" fails"):O instanceof Array?x(O):O instanceof Error&&x(O.message)}O&&O.then&&O.then(function(){return x()},function(L){return x(L)})},function(b){v(b)},f)},n.getType=function(o){if(o.type===void 0&&o.pattern instanceof RegExp&&(o.type="pattern"),typeof o.validator!="function"&&o.type&&!validators.hasOwnProperty(o.type))throw new Error(format("Unknown rule type %s",o.type));return o.type||"string"},n.getValidationMethod=function(o){if(typeof o.validator=="function")return o.validator;var a=Object.keys(o),u=a.indexOf("message");return u!==-1&&a.splice(u,1),a.length===1&&a[0]==="required"?validators.required:validators[this.getType(o)]||void 0},i}();Schema.register=function i(n,r){if(typeof r!="function")throw new Error("Cannot register a validator by type, validator is not a function");validators[n]=r},Schema.warning=warning,Schema.messages=messages,Schema.validators=validators;const formItemValidateStates=["","error","validating","success"],formItemProps=buildProps({label:String,labelWidth:{type:[String,Number],default:""},prop:{type:definePropType([String,Array])},required:{type:Boolean,default:void 0},rules:{type:definePropType([Object,Array])},error:String,validateStatus:{type:String,values:formItemValidateStates},for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{type:String,values:componentSizes}}),COMPONENT_NAME$3="ElLabelWrap";var FormLabelWrap=vue.defineComponent({name:COMPONENT_NAME$3,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(i,{slots:n}){const r=vue.inject(formContextKey,void 0),o=vue.inject(formItemContextKey);o||throwError(COMPONENT_NAME$3,"usage: <el-form-item><label-wrap /></el-form-item>");const a=useNamespace("form"),u=vue.ref(),c=vue.ref(0),f=()=>{var v;if((v=u.value)!=null&&v.firstElementChild){const g=window.getComputedStyle(u.value.firstElementChild).width;return Math.ceil(Number.parseFloat(g))}else return 0},d=(v="update")=>{vue.nextTick(()=>{n.default&&i.isAutoWidth&&(v==="update"?c.value=f():v==="remove"&&(r==null||r.deregisterLabelWidth(c.value)))})},h=()=>d("update");return vue.onMounted(()=>{h()}),vue.onBeforeUnmount(()=>{d("remove")}),vue.onUpdated(()=>h()),vue.watch(c,(v,g)=>{i.updateAll&&(r==null||r.registerLabelWidth(v,g))}),useResizeObserver(vue.computed(()=>{var v,g;return(g=(v=u.value)==null?void 0:v.firstElementChild)!=null?g:null}),h),()=>{var v,g;if(!n)return null;const{isAutoWidth:p}=i;if(p){const y=r==null?void 0:r.autoLabelWidth,_=o==null?void 0:o.hasLabel,b={};if(_&&y&&y!=="auto"){const A=Math.max(0,Number.parseInt(y,10)-c.value),w=r.labelPosition==="left"?"marginRight":"marginLeft";A&&(b[w]=`${A}px`)}return vue.createVNode("div",{ref:u,class:[a.be("item","label-wrap")],style:b},[(v=n.default)==null?void 0:v.call(n)])}else return vue.createVNode(vue.Fragment,{ref:u},[(g=n.default)==null?void 0:g.call(n)])}}});const _hoisted_1$8=["role","aria-labelledby"],__default__$a=vue.defineComponent({name:"ElFormItem"}),_sfc_main$p=vue.defineComponent({...__default__$a,props:formItemProps,setup(i,{expose:n}){const r=i,o=vue.useSlots(),a=vue.inject(formContextKey,void 0),u=vue.inject(formItemContextKey,void 0),c=useFormSize(void 0,{formItem:!1}),f=useNamespace("form-item"),d=useId().value,h=vue.ref([]),v=vue.ref(""),g=refDebounced(v,100),p=vue.ref(""),y=vue.ref();let _,b=!1;const A=vue.computed(()=>{if((a==null?void 0:a.labelPosition)==="top")return{};const Et=addUnit(r.labelWidth||(a==null?void 0:a.labelWidth)||"");return Et?{width:Et}:{}}),w=vue.computed(()=>{if((a==null?void 0:a.labelPosition)==="top"||a!=null&&a.inline)return{};if(!r.label&&!r.labelWidth&&F)return{};const Et=addUnit(r.labelWidth||(a==null?void 0:a.labelWidth)||"");return!r.label&&!o.label?{marginLeft:Et}:{}}),S=vue.computed(()=>[f.b(),f.m(c.value),f.is("error",v.value==="error"),f.is("validating",v.value==="validating"),f.is("success",v.value==="success"),f.is("required",pe.value||r.required),f.is("no-asterisk",a==null?void 0:a.hideRequiredAsterisk),(a==null?void 0:a.requireAsteriskPosition)==="right"?"asterisk-right":"asterisk-left",{[f.m("feedback")]:a==null?void 0:a.statusIcon}]),T=vue.computed(()=>isBoolean(r.inlineMessage)?r.inlineMessage:(a==null?void 0:a.inlineMessage)||!1),x=vue.computed(()=>[f.e("error"),{[f.em("error","inline")]:T.value}]),O=vue.computed(()=>r.prop?isString(r.prop)?r.prop:r.prop.join("."):""),L=vue.computed(()=>!!(r.label||o.label)),M=vue.computed(()=>r.for||h.value.length===1?h.value[0]:void 0),re=vue.computed(()=>!M.value&&L.value),F=!!u,Y=vue.computed(()=>{const Et=a==null?void 0:a.model;if(!(!Et||!r.prop))return getProp(Et,r.prop).value}),V=vue.computed(()=>{const{required:Et}=r,In=[];r.rules&&In.push(...lodashEs.castArray(r.rules));const $e=a==null?void 0:a.rules;if($e&&r.prop){const Ce=getProp($e,r.prop).value;Ce&&In.push(...lodashEs.castArray(Ce))}if(Et!==void 0){const Ce=In.map((ue,At)=>[ue,At]).filter(([ue])=>Object.keys(ue).includes("required"));if(Ce.length>0)for(const[ue,At]of Ce)ue.required!==Et&&(In[At]={...ue,required:Et});else In.push({required:Et})}return In}),z=vue.computed(()=>V.value.length>0),$=Et=>V.value.filter($e=>!$e.trigger||!Et?!0:Array.isArray($e.trigger)?$e.trigger.includes(Et):$e.trigger===Et).map(({trigger:$e,...Ce})=>Ce),pe=vue.computed(()=>V.value.some(Et=>Et.required)),le=vue.computed(()=>{var Et;return g.value==="error"&&r.showMessage&&((Et=a==null?void 0:a.showMessage)!=null?Et:!0)}),Ie=vue.computed(()=>`${r.label||""}${(a==null?void 0:a.labelSuffix)||""}`),he=Et=>{v.value=Et},xe=Et=>{var In,$e;const{errors:Ce,fields:ue}=Et;(!Ce||!ue)&&console.error(Et),he("error"),p.value=Ce?($e=(In=Ce==null?void 0:Ce[0])==null?void 0:In.message)!=null?$e:`${r.prop} is required`:"",a==null||a.emit("validate",r.prop,!1,p.value)},_e=()=>{he("success"),a==null||a.emit("validate",r.prop,!0,"")},jt=async Et=>{const In=O.value;return new Schema({[In]:Et}).validate({[In]:Y.value},{firstFields:!0}).then(()=>(_e(),!0)).catch(Ce=>(xe(Ce),Promise.reject(Ce)))},Lt=async(Et,In)=>{if(b||!r.prop)return!1;const $e=isFunction(In);if(!z.value)return In==null||In(!1),!1;const Ce=$(Et);return Ce.length===0?(In==null||In(!0),!0):(he("validating"),jt(Ce).then(()=>(In==null||In(!0),!0)).catch(ue=>{const{fields:At}=ue;return In==null||In(!1,At),$e?!1:Promise.reject(At)}))},Cn=()=>{he(""),p.value="",b=!1},vn=async()=>{const Et=a==null?void 0:a.model;if(!Et||!r.prop)return;const In=getProp(Et,r.prop);b=!0,In.value=lodashEs.clone(_),await vue.nextTick(),Cn(),b=!1},kt=Et=>{h.value.includes(Et)||h.value.push(Et)},de=Et=>{h.value=h.value.filter(In=>In!==Et)};vue.watch(()=>r.error,Et=>{p.value=Et||"",he(Et?"error":"")},{immediate:!0}),vue.watch(()=>r.validateStatus,Et=>he(Et||""));const qe=vue.reactive({...vue.toRefs(r),$el:y,size:c,validateState:v,labelId:d,inputIds:h,isGroup:re,hasLabel:L,addInputId:kt,removeInputId:de,resetField:vn,clearValidate:Cn,validate:Lt});return vue.provide(formItemContextKey,qe),vue.onMounted(()=>{r.prop&&(a==null||a.addField(qe),_=lodashEs.clone(Y.value))}),vue.onBeforeUnmount(()=>{a==null||a.removeField(qe)}),n({size:c,validateMessage:p,validateState:v,validate:Lt,clearValidate:Cn,resetField:vn}),(Et,In)=>{var $e;return vue.openBlock(),vue.createElementBlock("div",{ref_key:"formItemRef",ref:y,class:vue.normalizeClass(vue.unref(S)),role:vue.unref(re)?"group":void 0,"aria-labelledby":vue.unref(re)?vue.unref(d):void 0},[vue.createVNode(vue.unref(FormLabelWrap),{"is-auto-width":vue.unref(A).width==="auto","update-all":(($e=vue.unref(a))==null?void 0:$e.labelWidth)==="auto"},{default:vue.withCtx(()=>[vue.unref(L)?(vue.openBlock(),vue.createBlock(vue.resolveDynamicComponent(vue.unref(M)?"label":"div"),{key:0,id:vue.unref(d),for:vue.unref(M),class:vue.normalizeClass(vue.unref(f).e("label")),style:vue.normalizeStyle(vue.unref(A))},{default:vue.withCtx(()=>[vue.renderSlot(Et.$slots,"label",{label:vue.unref(Ie)},()=>[vue.createTextVNode(vue.toDisplayString(vue.unref(Ie)),1)])]),_:3},8,["id","for","class","style"])):vue.createCommentVNode("v-if",!0)]),_:3},8,["is-auto-width","update-all"]),vue.createElementVNode("div",{class:vue.normalizeClass(vue.unref(f).e("content")),style:vue.normalizeStyle(vue.unref(w))},[vue.renderSlot(Et.$slots,"default"),vue.createVNode(vue.TransitionGroup,{name:`${vue.unref(f).namespace.value}-zoom-in-top`},{default:vue.withCtx(()=>[vue.unref(le)?vue.renderSlot(Et.$slots,"error",{key:0,error:p.value},()=>[vue.createElementVNode("div",{class:vue.normalizeClass(vue.unref(x))},vue.toDisplayString(p.value),3)]):vue.createCommentVNode("v-if",!0)]),_:3},8,["name"])],6)],10,_hoisted_1$8)}}});var FormItem=_export_sfc(_sfc_main$p,[["__file","/home/runner/work/element-plus/element-plus/packages/components/form/src/form-item.vue"]]);withInstall(Form,{FormItem});const ElFormItem=withNoopInstall(FormItem);let hiddenTextarea;const HIDDEN_STYLE=`
  height:0 !important;
  visibility:hidden !important;
  ${isFirefox()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,CONTEXT_STYLE=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function calculateNodeStyling(i){const n=window.getComputedStyle(i),r=n.getPropertyValue("box-sizing"),o=Number.parseFloat(n.getPropertyValue("padding-bottom"))+Number.parseFloat(n.getPropertyValue("padding-top")),a=Number.parseFloat(n.getPropertyValue("border-bottom-width"))+Number.parseFloat(n.getPropertyValue("border-top-width"));return{contextStyle:CONTEXT_STYLE.map(c=>`${c}:${n.getPropertyValue(c)}`).join(";"),paddingSize:o,borderSize:a,boxSizing:r}}function calcTextareaHeight(i,n=1,r){var o;hiddenTextarea||(hiddenTextarea=document.createElement("textarea"),document.body.appendChild(hiddenTextarea));const{paddingSize:a,borderSize:u,boxSizing:c,contextStyle:f}=calculateNodeStyling(i);hiddenTextarea.setAttribute("style",`${f};${HIDDEN_STYLE}`),hiddenTextarea.value=i.value||i.placeholder||"";let d=hiddenTextarea.scrollHeight;const h={};c==="border-box"?d=d+u:c==="content-box"&&(d=d-a),hiddenTextarea.value="";const v=hiddenTextarea.scrollHeight-a;if(isNumber(n)){let g=v*n;c==="border-box"&&(g=g+a+u),d=Math.max(g,d),h.minHeight=`${g}px`}if(isNumber(r)){let g=v*r;c==="border-box"&&(g=g+a+u),d=Math.min(g,d)}return h.height=`${d}px`,(o=hiddenTextarea.parentNode)==null||o.removeChild(hiddenTextarea),hiddenTextarea=void 0,h}const inputProps=buildProps({id:{type:String,default:void 0},size:useSizeProp,disabled:Boolean,modelValue:{type:definePropType([String,Number,Object]),default:""},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:definePropType([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:iconPropType},prefixIcon:{type:iconPropType},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:definePropType([Object,Array,String]),default:()=>mutable({})}}),inputEmits={[UPDATE_MODEL_EVENT]:i=>isString(i),input:i=>isString(i),change:i=>isString(i),focus:i=>i instanceof FocusEvent,blur:i=>i instanceof FocusEvent,clear:()=>!0,mouseleave:i=>i instanceof MouseEvent,mouseenter:i=>i instanceof MouseEvent,keydown:i=>i instanceof Event,compositionstart:i=>i instanceof CompositionEvent,compositionupdate:i=>i instanceof CompositionEvent,compositionend:i=>i instanceof CompositionEvent},_hoisted_1$7=["role"],_hoisted_2$5=["id","type","disabled","formatter","parser","readonly","autocomplete","tabindex","aria-label","placeholder","form"],_hoisted_3$4=["id","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form"],__default__$9=vue.defineComponent({name:"ElInput",inheritAttrs:!1}),_sfc_main$o=vue.defineComponent({...__default__$9,props:inputProps,emits:inputEmits,setup(i,{expose:n,emit:r}){const o=i,a=vue.useAttrs(),u=vue.useSlots(),c=vue.computed(()=>{const ze={};return o.containerRole==="combobox"&&(ze["aria-haspopup"]=a["aria-haspopup"],ze["aria-owns"]=a["aria-owns"],ze["aria-expanded"]=a["aria-expanded"]),ze}),f=vue.computed(()=>[o.type==="textarea"?A.b():b.b(),b.m(y.value),b.is("disabled",_.value),b.is("exceed",kt.value),{[b.b("group")]:u.prepend||u.append,[b.bm("group","append")]:u.append,[b.bm("group","prepend")]:u.prepend,[b.m("prefix")]:u.prefix||o.prefixIcon,[b.m("suffix")]:u.suffix||o.suffixIcon||o.clearable||o.showPassword,[b.bm("suffix","password-clear")]:jt.value&&Lt.value},a.class]),d=vue.computed(()=>[b.e("wrapper"),b.is("focus",Y.value)]),h=useAttrs({excludeKeys:vue.computed(()=>Object.keys(c.value))}),{form:v,formItem:g}=useFormItem(),{inputId:p}=useFormItemInputId(o,{formItemContext:g}),y=useFormSize(),_=useFormDisabled(),b=useNamespace("input"),A=useNamespace("textarea"),w=vue.shallowRef(),S=vue.shallowRef(),T=vue.ref(!1),x=vue.ref(!1),O=vue.ref(!1),L=vue.ref(),M=vue.shallowRef(o.inputStyle),re=vue.computed(()=>w.value||S.value),{wrapperRef:F,isFocused:Y,handleFocus:V,handleBlur:z}=useFocusController(re,{afterBlur(){var ze;o.validateEvent&&((ze=g==null?void 0:g.validate)==null||ze.call(g,"blur").catch(hn=>debugWarn(hn)))}}),$=vue.computed(()=>{var ze;return(ze=v==null?void 0:v.statusIcon)!=null?ze:!1}),pe=vue.computed(()=>(g==null?void 0:g.validateState)||""),le=vue.computed(()=>pe.value&&ValidateComponentsMap[pe.value]),Ie=vue.computed(()=>O.value?view_default:hide_default),he=vue.computed(()=>[a.style,o.inputStyle]),xe=vue.computed(()=>[o.inputStyle,M.value,{resize:o.resize}]),_e=vue.computed(()=>lodashEs.isNil(o.modelValue)?"":String(o.modelValue)),jt=vue.computed(()=>o.clearable&&!_.value&&!o.readonly&&!!_e.value&&(Y.value||T.value)),Lt=vue.computed(()=>o.showPassword&&!_.value&&!o.readonly&&!!_e.value&&(!!_e.value||Y.value)),Cn=vue.computed(()=>o.showWordLimit&&!!h.value.maxlength&&(o.type==="text"||o.type==="textarea")&&!_.value&&!o.readonly&&!o.showPassword),vn=vue.computed(()=>_e.value.length),kt=vue.computed(()=>!!Cn.value&&vn.value>Number(h.value.maxlength)),de=vue.computed(()=>!!u.suffix||!!o.suffixIcon||jt.value||o.showPassword||Cn.value||!!pe.value&&$.value),[qe,Et]=useCursor(w);useResizeObserver(S,ze=>{if(Ce(),!Cn.value||o.resize!=="both")return;const hn=ze[0],{width:An}=hn.contentRect;L.value={right:`calc(100% - ${An+15+6}px)`}});const In=()=>{const{type:ze,autosize:hn}=o;if(!(!isClient||ze!=="textarea"||!S.value))if(hn){const An=isObject(hn)?hn.minRows:void 0,Tn=isObject(hn)?hn.maxRows:void 0,Rn=calcTextareaHeight(S.value,An,Tn);M.value={overflowY:"hidden",...Rn},vue.nextTick(()=>{S.value.offsetHeight,M.value=Rn})}else M.value={minHeight:calcTextareaHeight(S.value).minHeight}},Ce=(ze=>{let hn=!1;return()=>{var An;if(hn||!o.autosize)return;((An=S.value)==null?void 0:An.offsetParent)===null||(ze(),hn=!0)}})(In),ue=()=>{const ze=re.value,hn=o.formatter?o.formatter(_e.value):_e.value;!ze||ze.value===hn||(ze.value=hn)},At=async ze=>{qe();let{value:hn}=ze.target;if(o.formatter&&(hn=o.parser?o.parser(hn):hn),!x.value){if(hn===_e.value){ue();return}r(UPDATE_MODEL_EVENT,hn),r("input",hn),await vue.nextTick(),ue(),Et()}},Oe=ze=>{r("change",ze.target.value)},Ve=ze=>{r("compositionstart",ze),x.value=!0},Pt=ze=>{var hn;r("compositionupdate",ze);const An=(hn=ze.target)==null?void 0:hn.value,Tn=An[An.length-1]||"";x.value=!isKorean(Tn)},Dt=ze=>{r("compositionend",ze),x.value&&(x.value=!1,At(ze))},_n=()=>{O.value=!O.value,ie()},ie=async()=>{var ze;await vue.nextTick(),(ze=re.value)==null||ze.focus()},oe=()=>{var ze;return(ze=re.value)==null?void 0:ze.blur()},j=ze=>{T.value=!1,r("mouseleave",ze)},k=ze=>{T.value=!0,r("mouseenter",ze)},D=ze=>{r("keydown",ze)},ae=()=>{var ze;(ze=re.value)==null||ze.select()},Ne=()=>{r(UPDATE_MODEL_EVENT,""),r("change",""),r("clear"),r("input","")};return vue.watch(()=>o.modelValue,()=>{var ze;vue.nextTick(()=>In()),o.validateEvent&&((ze=g==null?void 0:g.validate)==null||ze.call(g,"change").catch(hn=>debugWarn(hn)))}),vue.watch(_e,()=>ue()),vue.watch(()=>o.type,async()=>{await vue.nextTick(),ue(),In()}),vue.onMounted(()=>{!o.formatter&&o.parser&&debugWarn("ElInput","If you set the parser, you also need to set the formatter."),ue(),vue.nextTick(In)}),n({input:w,textarea:S,ref:re,textareaStyle:xe,autosize:vue.toRef(o,"autosize"),focus:ie,blur:oe,select:ae,clear:Ne,resizeTextarea:In}),(ze,hn)=>vue.withDirectives((vue.openBlock(),vue.createElementBlock("div",vue.mergeProps(vue.unref(c),{class:vue.unref(f),style:vue.unref(he),role:ze.containerRole,onMouseenter:k,onMouseleave:j}),[vue.createCommentVNode(" input "),ze.type!=="textarea"?(vue.openBlock(),vue.createElementBlock(vue.Fragment,{key:0},[vue.createCommentVNode(" prepend slot "),ze.$slots.prepend?(vue.openBlock(),vue.createElementBlock("div",{key:0,class:vue.normalizeClass(vue.unref(b).be("group","prepend"))},[vue.renderSlot(ze.$slots,"prepend")],2)):vue.createCommentVNode("v-if",!0),vue.createElementVNode("div",{ref_key:"wrapperRef",ref:F,class:vue.normalizeClass(vue.unref(d))},[vue.createCommentVNode(" prefix slot "),ze.$slots.prefix||ze.prefixIcon?(vue.openBlock(),vue.createElementBlock("span",{key:0,class:vue.normalizeClass(vue.unref(b).e("prefix"))},[vue.createElementVNode("span",{class:vue.normalizeClass(vue.unref(b).e("prefix-inner"))},[vue.renderSlot(ze.$slots,"prefix"),ze.prefixIcon?(vue.openBlock(),vue.createBlock(vue.unref(ElIcon),{key:0,class:vue.normalizeClass(vue.unref(b).e("icon"))},{default:vue.withCtx(()=>[(vue.openBlock(),vue.createBlock(vue.resolveDynamicComponent(ze.prefixIcon)))]),_:1},8,["class"])):vue.createCommentVNode("v-if",!0)],2)],2)):vue.createCommentVNode("v-if",!0),vue.createElementVNode("input",vue.mergeProps({id:vue.unref(p),ref_key:"input",ref:w,class:vue.unref(b).e("inner")},vue.unref(h),{type:ze.showPassword?O.value?"text":"password":ze.type,disabled:vue.unref(_),formatter:ze.formatter,parser:ze.parser,readonly:ze.readonly,autocomplete:ze.autocomplete,tabindex:ze.tabindex,"aria-label":ze.label,placeholder:ze.placeholder,style:ze.inputStyle,form:o.form,onCompositionstart:Ve,onCompositionupdate:Pt,onCompositionend:Dt,onInput:At,onFocus:hn[0]||(hn[0]=(...An)=>vue.unref(V)&&vue.unref(V)(...An)),onBlur:hn[1]||(hn[1]=(...An)=>vue.unref(z)&&vue.unref(z)(...An)),onChange:Oe,onKeydown:D}),null,16,_hoisted_2$5),vue.createCommentVNode(" suffix slot "),vue.unref(de)?(vue.openBlock(),vue.createElementBlock("span",{key:1,class:vue.normalizeClass(vue.unref(b).e("suffix"))},[vue.createElementVNode("span",{class:vue.normalizeClass(vue.unref(b).e("suffix-inner"))},[!vue.unref(jt)||!vue.unref(Lt)||!vue.unref(Cn)?(vue.openBlock(),vue.createElementBlock(vue.Fragment,{key:0},[vue.renderSlot(ze.$slots,"suffix"),ze.suffixIcon?(vue.openBlock(),vue.createBlock(vue.unref(ElIcon),{key:0,class:vue.normalizeClass(vue.unref(b).e("icon"))},{default:vue.withCtx(()=>[(vue.openBlock(),vue.createBlock(vue.resolveDynamicComponent(ze.suffixIcon)))]),_:1},8,["class"])):vue.createCommentVNode("v-if",!0)],64)):vue.createCommentVNode("v-if",!0),vue.unref(jt)?(vue.openBlock(),vue.createBlock(vue.unref(ElIcon),{key:1,class:vue.normalizeClass([vue.unref(b).e("icon"),vue.unref(b).e("clear")]),onMousedown:vue.withModifiers(vue.unref(NOOP),["prevent"]),onClick:Ne},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(circle_close_default))]),_:1},8,["class","onMousedown"])):vue.createCommentVNode("v-if",!0),vue.unref(Lt)?(vue.openBlock(),vue.createBlock(vue.unref(ElIcon),{key:2,class:vue.normalizeClass([vue.unref(b).e("icon"),vue.unref(b).e("password")]),onClick:_n},{default:vue.withCtx(()=>[(vue.openBlock(),vue.createBlock(vue.resolveDynamicComponent(vue.unref(Ie))))]),_:1},8,["class"])):vue.createCommentVNode("v-if",!0),vue.unref(Cn)?(vue.openBlock(),vue.createElementBlock("span",{key:3,class:vue.normalizeClass(vue.unref(b).e("count"))},[vue.createElementVNode("span",{class:vue.normalizeClass(vue.unref(b).e("count-inner"))},vue.toDisplayString(vue.unref(vn))+" / "+vue.toDisplayString(vue.unref(h).maxlength),3)],2)):vue.createCommentVNode("v-if",!0),vue.unref(pe)&&vue.unref(le)&&vue.unref($)?(vue.openBlock(),vue.createBlock(vue.unref(ElIcon),{key:4,class:vue.normalizeClass([vue.unref(b).e("icon"),vue.unref(b).e("validateIcon"),vue.unref(b).is("loading",vue.unref(pe)==="validating")])},{default:vue.withCtx(()=>[(vue.openBlock(),vue.createBlock(vue.resolveDynamicComponent(vue.unref(le))))]),_:1},8,["class"])):vue.createCommentVNode("v-if",!0)],2)],2)):vue.createCommentVNode("v-if",!0)],2),vue.createCommentVNode(" append slot "),ze.$slots.append?(vue.openBlock(),vue.createElementBlock("div",{key:1,class:vue.normalizeClass(vue.unref(b).be("group","append"))},[vue.renderSlot(ze.$slots,"append")],2)):vue.createCommentVNode("v-if",!0)],64)):(vue.openBlock(),vue.createElementBlock(vue.Fragment,{key:1},[vue.createCommentVNode(" textarea "),vue.createElementVNode("textarea",vue.mergeProps({id:vue.unref(p),ref_key:"textarea",ref:S,class:vue.unref(A).e("inner")},vue.unref(h),{tabindex:ze.tabindex,disabled:vue.unref(_),readonly:ze.readonly,autocomplete:ze.autocomplete,style:vue.unref(xe),"aria-label":ze.label,placeholder:ze.placeholder,form:o.form,onCompositionstart:Ve,onCompositionupdate:Pt,onCompositionend:Dt,onInput:At,onFocus:hn[2]||(hn[2]=(...An)=>vue.unref(V)&&vue.unref(V)(...An)),onBlur:hn[3]||(hn[3]=(...An)=>vue.unref(z)&&vue.unref(z)(...An)),onChange:Oe,onKeydown:D}),null,16,_hoisted_3$4),vue.unref(Cn)?(vue.openBlock(),vue.createElementBlock("span",{key:0,style:vue.normalizeStyle(L.value),class:vue.normalizeClass(vue.unref(b).e("count"))},vue.toDisplayString(vue.unref(vn))+" / "+vue.toDisplayString(vue.unref(h).maxlength),7)):vue.createCommentVNode("v-if",!0)],64))],16,_hoisted_1$7)),[[vue.vShow,ze.type!=="hidden"]])}});var Input=_export_sfc(_sfc_main$o,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue"]]);const ElInput=withInstall(Input),GAP=4,BAR_MAP={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},renderThumbStyle=({move:i,size:n,bar:r})=>({[r.size]:n,transform:`translate${r.axis}(${i}%)`}),scrollbarContextKey=Symbol("scrollbarContextKey"),thumbProps=buildProps({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),COMPONENT_NAME$2="Thumb",_sfc_main$n=vue.defineComponent({__name:"thumb",props:thumbProps,setup(i){const n=i,r=vue.inject(scrollbarContextKey),o=useNamespace("scrollbar");r||throwError(COMPONENT_NAME$2,"can not inject scrollbar context");const a=vue.ref(),u=vue.ref(),c=vue.ref({}),f=vue.ref(!1);let d=!1,h=!1,v=isClient?document.onselectstart:null;const g=vue.computed(()=>BAR_MAP[n.vertical?"vertical":"horizontal"]),p=vue.computed(()=>renderThumbStyle({size:n.size,move:n.move,bar:g.value})),y=vue.computed(()=>a.value[g.value.offset]**2/r.wrapElement[g.value.scrollSize]/n.ratio/u.value[g.value.offset]),_=L=>{var M;if(L.stopPropagation(),L.ctrlKey||[1,2].includes(L.button))return;(M=window.getSelection())==null||M.removeAllRanges(),A(L);const re=L.currentTarget;re&&(c.value[g.value.axis]=re[g.value.offset]-(L[g.value.client]-re.getBoundingClientRect()[g.value.direction]))},b=L=>{if(!u.value||!a.value||!r.wrapElement)return;const M=Math.abs(L.target.getBoundingClientRect()[g.value.direction]-L[g.value.client]),re=u.value[g.value.offset]/2,F=(M-re)*100*y.value/a.value[g.value.offset];r.wrapElement[g.value.scroll]=F*r.wrapElement[g.value.scrollSize]/100},A=L=>{L.stopImmediatePropagation(),d=!0,document.addEventListener("mousemove",w),document.addEventListener("mouseup",S),v=document.onselectstart,document.onselectstart=()=>!1},w=L=>{if(!a.value||!u.value||d===!1)return;const M=c.value[g.value.axis];if(!M)return;const re=(a.value.getBoundingClientRect()[g.value.direction]-L[g.value.client])*-1,F=u.value[g.value.offset]-M,Y=(re-F)*100*y.value/a.value[g.value.offset];r.wrapElement[g.value.scroll]=Y*r.wrapElement[g.value.scrollSize]/100},S=()=>{d=!1,c.value[g.value.axis]=0,document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",S),O(),h&&(f.value=!1)},T=()=>{h=!1,f.value=!!n.size},x=()=>{h=!0,f.value=d};vue.onBeforeUnmount(()=>{O(),document.removeEventListener("mouseup",S)});const O=()=>{document.onselectstart!==v&&(document.onselectstart=v)};return useEventListener(vue.toRef(r,"scrollbarElement"),"mousemove",T),useEventListener(vue.toRef(r,"scrollbarElement"),"mouseleave",x),(L,M)=>(vue.openBlock(),vue.createBlock(vue.Transition,{name:vue.unref(o).b("fade"),persisted:""},{default:vue.withCtx(()=>[vue.withDirectives(vue.createElementVNode("div",{ref_key:"instance",ref:a,class:vue.normalizeClass([vue.unref(o).e("bar"),vue.unref(o).is(vue.unref(g).key)]),onMousedown:b},[vue.createElementVNode("div",{ref_key:"thumb",ref:u,class:vue.normalizeClass(vue.unref(o).e("thumb")),style:vue.normalizeStyle(vue.unref(p)),onMousedown:_},null,38)],34),[[vue.vShow,L.always||f.value]])]),_:1},8,["name"]))}});var Thumb=_export_sfc(_sfc_main$n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/thumb.vue"]]);const barProps=buildProps({always:{type:Boolean,default:!0},width:String,height:String,ratioX:{type:Number,default:1},ratioY:{type:Number,default:1}}),_sfc_main$m=vue.defineComponent({__name:"bar",props:barProps,setup(i,{expose:n}){const r=i,o=vue.ref(0),a=vue.ref(0);return n({handleScroll:c=>{if(c){const f=c.offsetHeight-GAP,d=c.offsetWidth-GAP;a.value=c.scrollTop*100/f*r.ratioY,o.value=c.scrollLeft*100/d*r.ratioX}}}),(c,f)=>(vue.openBlock(),vue.createElementBlock(vue.Fragment,null,[vue.createVNode(Thumb,{move:o.value,ratio:c.ratioX,size:c.width,always:c.always},null,8,["move","ratio","size","always"]),vue.createVNode(Thumb,{move:a.value,ratio:c.ratioY,size:c.height,vertical:"",always:c.always},null,8,["move","ratio","size","always"])],64))}});var Bar=_export_sfc(_sfc_main$m,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/bar.vue"]]);const scrollbarProps=buildProps({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:definePropType([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20}}),scrollbarEmits={scroll:({scrollTop:i,scrollLeft:n})=>[i,n].every(isNumber)},COMPONENT_NAME$1="ElScrollbar",__default__$8=vue.defineComponent({name:COMPONENT_NAME$1}),_sfc_main$l=vue.defineComponent({...__default__$8,props:scrollbarProps,emits:scrollbarEmits,setup(i,{expose:n,emit:r}){const o=i,a=useNamespace("scrollbar");let u,c;const f=vue.ref(),d=vue.ref(),h=vue.ref(),v=vue.ref("0"),g=vue.ref("0"),p=vue.ref(),y=vue.ref(1),_=vue.ref(1),b=vue.computed(()=>{const M={};return o.height&&(M.height=addUnit(o.height)),o.maxHeight&&(M.maxHeight=addUnit(o.maxHeight)),[o.wrapStyle,M]}),A=vue.computed(()=>[o.wrapClass,a.e("wrap"),{[a.em("wrap","hidden-default")]:!o.native}]),w=vue.computed(()=>[a.e("view"),o.viewClass]),S=()=>{var M;d.value&&((M=p.value)==null||M.handleScroll(d.value),r("scroll",{scrollTop:d.value.scrollTop,scrollLeft:d.value.scrollLeft}))};function T(M,re){isObject(M)?d.value.scrollTo(M):isNumber(M)&&isNumber(re)&&d.value.scrollTo(M,re)}const x=M=>{if(!isNumber(M)){debugWarn(COMPONENT_NAME$1,"value must be a number");return}d.value.scrollTop=M},O=M=>{if(!isNumber(M)){debugWarn(COMPONENT_NAME$1,"value must be a number");return}d.value.scrollLeft=M},L=()=>{if(!d.value)return;const M=d.value.offsetHeight-GAP,re=d.value.offsetWidth-GAP,F=M**2/d.value.scrollHeight,Y=re**2/d.value.scrollWidth,V=Math.max(F,o.minSize),z=Math.max(Y,o.minSize);y.value=F/(M-F)/(V/(M-V)),_.value=Y/(re-Y)/(z/(re-z)),g.value=V+GAP<M?`${V}px`:"",v.value=z+GAP<re?`${z}px`:""};return vue.watch(()=>o.noresize,M=>{M?(u==null||u(),c==null||c()):({stop:u}=useResizeObserver(h,L),c=useEventListener("resize",L))},{immediate:!0}),vue.watch(()=>[o.maxHeight,o.height],()=>{o.native||vue.nextTick(()=>{var M;L(),d.value&&((M=p.value)==null||M.handleScroll(d.value))})}),vue.provide(scrollbarContextKey,vue.reactive({scrollbarElement:f,wrapElement:d})),vue.onMounted(()=>{o.native||vue.nextTick(()=>{L()})}),vue.onUpdated(()=>L()),n({wrapRef:d,update:L,scrollTo:T,setScrollTop:x,setScrollLeft:O,handleScroll:S}),(M,re)=>(vue.openBlock(),vue.createElementBlock("div",{ref_key:"scrollbarRef",ref:f,class:vue.normalizeClass(vue.unref(a).b())},[vue.createElementVNode("div",{ref_key:"wrapRef",ref:d,class:vue.normalizeClass(vue.unref(A)),style:vue.normalizeStyle(vue.unref(b)),onScroll:S},[(vue.openBlock(),vue.createBlock(vue.resolveDynamicComponent(M.tag),{ref_key:"resizeRef",ref:h,class:vue.normalizeClass(vue.unref(w)),style:vue.normalizeStyle(M.viewStyle)},{default:vue.withCtx(()=>[vue.renderSlot(M.$slots,"default")]),_:3},8,["class","style"]))],38),M.native?vue.createCommentVNode("v-if",!0):(vue.openBlock(),vue.createBlock(Bar,{key:0,ref_key:"barRef",ref:p,height:g.value,width:v.value,always:M.always,"ratio-x":_.value,"ratio-y":y.value},null,8,["height","width","always","ratio-x","ratio-y"]))],2))}});var Scrollbar=_export_sfc(_sfc_main$l,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/scrollbar.vue"]]);const ElScrollbar=withInstall(Scrollbar),POPPER_INJECTION_KEY=Symbol("popper"),POPPER_CONTENT_INJECTION_KEY=Symbol("popperContent"),roleTypes=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],popperProps=buildProps({role:{type:String,values:roleTypes,default:"tooltip"}}),__default__$7=vue.defineComponent({name:"ElPopper",inheritAttrs:!1}),_sfc_main$k=vue.defineComponent({...__default__$7,props:popperProps,setup(i,{expose:n}){const r=i,o=vue.ref(),a=vue.ref(),u=vue.ref(),c=vue.ref(),f=vue.computed(()=>r.role),d={triggerRef:o,popperInstanceRef:a,contentRef:u,referenceRef:c,role:f};return n(d),vue.provide(POPPER_INJECTION_KEY,d),(h,v)=>vue.renderSlot(h.$slots,"default")}});var Popper=_export_sfc(_sfc_main$k,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/popper.vue"]]);const popperArrowProps=buildProps({arrowOffset:{type:Number,default:5}}),__default__$6=vue.defineComponent({name:"ElPopperArrow",inheritAttrs:!1}),_sfc_main$j=vue.defineComponent({...__default__$6,props:popperArrowProps,setup(i,{expose:n}){const r=i,o=useNamespace("popper"),{arrowOffset:a,arrowRef:u,arrowStyle:c}=vue.inject(POPPER_CONTENT_INJECTION_KEY,void 0);return vue.watch(()=>r.arrowOffset,f=>{a.value=f}),vue.onBeforeUnmount(()=>{u.value=void 0}),n({arrowRef:u}),(f,d)=>(vue.openBlock(),vue.createElementBlock("span",{ref_key:"arrowRef",ref:u,class:vue.normalizeClass(vue.unref(o).e("arrow")),style:vue.normalizeStyle(vue.unref(c)),"data-popper-arrow":""},null,6))}});var ElPopperArrow=_export_sfc(_sfc_main$j,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/arrow.vue"]]);const NAME="ElOnlyChild",OnlyChild=vue.defineComponent({name:NAME,setup(i,{slots:n,attrs:r}){var o;const a=vue.inject(FORWARD_REF_INJECTION_KEY),u=useForwardRefDirective((o=a==null?void 0:a.setForwardRef)!=null?o:NOOP);return()=>{var c;const f=(c=n.default)==null?void 0:c.call(n,r);if(!f)return null;if(f.length>1)return debugWarn(NAME,"requires exact only one valid child."),null;const d=findFirstLegitChild(f);return d?vue.withDirectives(vue.cloneVNode(d,r),[[u]]):(debugWarn(NAME,"no valid child node found"),null)}}});function findFirstLegitChild(i){if(!i)return null;const n=i;for(const r of n){if(isObject(r))switch(r.type){case vue.Comment:continue;case vue.Text:case"svg":return wrapTextContent(r);case vue.Fragment:return findFirstLegitChild(r.children);default:return r}return wrapTextContent(r)}return null}function wrapTextContent(i){const n=useNamespace("only-child");return vue.createVNode("span",{class:n.e("content")},[i])}const popperTriggerProps=buildProps({virtualRef:{type:definePropType(Object)},virtualTriggering:Boolean,onMouseenter:{type:definePropType(Function)},onMouseleave:{type:definePropType(Function)},onClick:{type:definePropType(Function)},onKeydown:{type:definePropType(Function)},onFocus:{type:definePropType(Function)},onBlur:{type:definePropType(Function)},onContextmenu:{type:definePropType(Function)},id:String,open:Boolean}),__default__$5=vue.defineComponent({name:"ElPopperTrigger",inheritAttrs:!1}),_sfc_main$i=vue.defineComponent({...__default__$5,props:popperTriggerProps,setup(i,{expose:n}){const r=i,{role:o,triggerRef:a}=vue.inject(POPPER_INJECTION_KEY,void 0);useForwardRef(a);const u=vue.computed(()=>f.value?r.id:void 0),c=vue.computed(()=>{if(o&&o.value==="tooltip")return r.open&&r.id?r.id:void 0}),f=vue.computed(()=>{if(o&&o.value!=="tooltip")return o.value}),d=vue.computed(()=>f.value?`${r.open}`:void 0);let h;return vue.onMounted(()=>{vue.watch(()=>r.virtualRef,v=>{v&&(a.value=unrefElement(v))},{immediate:!0}),vue.watch(a,(v,g)=>{h==null||h(),h=void 0,isElement(v)&&(["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"].forEach(p=>{var y;const _=r[p];_&&(v.addEventListener(p.slice(2).toLowerCase(),_),(y=g==null?void 0:g.removeEventListener)==null||y.call(g,p.slice(2).toLowerCase(),_))}),h=vue.watch([u,c,f,d],p=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((y,_)=>{lodashEs.isNil(p[_])?v.removeAttribute(y):v.setAttribute(y,p[_])})},{immediate:!0})),isElement(g)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(p=>g.removeAttribute(p))},{immediate:!0})}),vue.onBeforeUnmount(()=>{h==null||h(),h=void 0}),n({triggerRef:a}),(v,g)=>v.virtualTriggering?vue.createCommentVNode("v-if",!0):(vue.openBlock(),vue.createBlock(vue.unref(OnlyChild),vue.mergeProps({key:0},v.$attrs,{"aria-controls":vue.unref(u),"aria-describedby":vue.unref(c),"aria-expanded":vue.unref(d),"aria-haspopup":vue.unref(f)}),{default:vue.withCtx(()=>[vue.renderSlot(v.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var ElPopperTrigger=_export_sfc(_sfc_main$i,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/trigger.vue"]]);const FOCUS_AFTER_TRAPPED="focus-trap.focus-after-trapped",FOCUS_AFTER_RELEASED="focus-trap.focus-after-released",FOCUSOUT_PREVENTED="focus-trap.focusout-prevented",FOCUS_AFTER_TRAPPED_OPTS={cancelable:!0,bubbles:!1},FOCUSOUT_PREVENTED_OPTS={cancelable:!0,bubbles:!1},ON_TRAP_FOCUS_EVT="focusAfterTrapped",ON_RELEASE_FOCUS_EVT="focusAfterReleased",FOCUS_TRAP_INJECTION_KEY=Symbol("elFocusTrap"),focusReason=vue.ref(),lastUserFocusTimestamp=vue.ref(0),lastAutomatedFocusTimestamp=vue.ref(0);let focusReasonUserCount=0;const obtainAllFocusableElements=i=>{const n=[],r=document.createTreeWalker(i,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const a=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||a?NodeFilter.FILTER_SKIP:o.tabIndex>=0||o===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)n.push(r.currentNode);return n},getVisibleElement=(i,n)=>{for(const r of i)if(!isHidden(r,n))return r},isHidden=(i,n)=>{if(process.env.NODE_ENV==="test")return!1;if(getComputedStyle(i).visibility==="hidden")return!0;for(;i;){if(n&&i===n)return!1;if(getComputedStyle(i).display==="none")return!0;i=i.parentElement}return!1},getEdges=i=>{const n=obtainAllFocusableElements(i),r=getVisibleElement(n,i),o=getVisibleElement(n.reverse(),i);return[r,o]},isSelectable=i=>i instanceof HTMLInputElement&&"select"in i,tryFocus=(i,n)=>{if(i&&i.focus){const r=document.activeElement;i.focus({preventScroll:!0}),lastAutomatedFocusTimestamp.value=window.performance.now(),i!==r&&isSelectable(i)&&n&&i.select()}};function removeFromStack(i,n){const r=[...i],o=i.indexOf(n);return o!==-1&&r.splice(o,1),r}const createFocusableStack=()=>{let i=[];return{push:o=>{const a=i[0];a&&o!==a&&a.pause(),i=removeFromStack(i,o),i.unshift(o)},remove:o=>{var a,u;i=removeFromStack(i,o),(u=(a=i[0])==null?void 0:a.resume)==null||u.call(a)}}},focusFirstDescendant=(i,n=!1)=>{const r=document.activeElement;for(const o of i)if(tryFocus(o,n),document.activeElement!==r)return},focusableStack=createFocusableStack(),isFocusCausedByUserEvent=()=>lastUserFocusTimestamp.value>lastAutomatedFocusTimestamp.value,notifyFocusReasonPointer=()=>{focusReason.value="pointer",lastUserFocusTimestamp.value=window.performance.now()},notifyFocusReasonKeydown=()=>{focusReason.value="keyboard",lastUserFocusTimestamp.value=window.performance.now()},useFocusReason=()=>(vue.onMounted(()=>{focusReasonUserCount===0&&(document.addEventListener("mousedown",notifyFocusReasonPointer),document.addEventListener("touchstart",notifyFocusReasonPointer),document.addEventListener("keydown",notifyFocusReasonKeydown)),focusReasonUserCount++}),vue.onBeforeUnmount(()=>{focusReasonUserCount--,focusReasonUserCount<=0&&(document.removeEventListener("mousedown",notifyFocusReasonPointer),document.removeEventListener("touchstart",notifyFocusReasonPointer),document.removeEventListener("keydown",notifyFocusReasonKeydown))}),{focusReason,lastUserFocusTimestamp,lastAutomatedFocusTimestamp}),createFocusOutPreventedEvent=i=>new CustomEvent(FOCUSOUT_PREVENTED,{...FOCUSOUT_PREVENTED_OPTS,detail:i}),_sfc_main$h=vue.defineComponent({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[ON_TRAP_FOCUS_EVT,ON_RELEASE_FOCUS_EVT,"focusin","focusout","focusout-prevented","release-requested"],setup(i,{emit:n}){const r=vue.ref();let o,a;const{focusReason:u}=useFocusReason();useEscapeKeydown(_=>{i.trapped&&!c.paused&&n("release-requested",_)});const c={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},f=_=>{if(!i.loop&&!i.trapped||c.paused)return;const{key:b,altKey:A,ctrlKey:w,metaKey:S,currentTarget:T,shiftKey:x}=_,{loop:O}=i,L=b===EVENT_CODE.tab&&!A&&!w&&!S,M=document.activeElement;if(L&&M){const re=T,[F,Y]=getEdges(re);if(F&&Y){if(!x&&M===Y){const z=createFocusOutPreventedEvent({focusReason:u.value});n("focusout-prevented",z),z.defaultPrevented||(_.preventDefault(),O&&tryFocus(F,!0))}else if(x&&[F,re].includes(M)){const z=createFocusOutPreventedEvent({focusReason:u.value});n("focusout-prevented",z),z.defaultPrevented||(_.preventDefault(),O&&tryFocus(Y,!0))}}else if(M===re){const z=createFocusOutPreventedEvent({focusReason:u.value});n("focusout-prevented",z),z.defaultPrevented||_.preventDefault()}}};vue.provide(FOCUS_TRAP_INJECTION_KEY,{focusTrapRef:r,onKeydown:f}),vue.watch(()=>i.focusTrapEl,_=>{_&&(r.value=_)},{immediate:!0}),vue.watch([r],([_],[b])=>{_&&(_.addEventListener("keydown",f),_.addEventListener("focusin",v),_.addEventListener("focusout",g)),b&&(b.removeEventListener("keydown",f),b.removeEventListener("focusin",v),b.removeEventListener("focusout",g))});const d=_=>{n(ON_TRAP_FOCUS_EVT,_)},h=_=>n(ON_RELEASE_FOCUS_EVT,_),v=_=>{const b=vue.unref(r);if(!b)return;const A=_.target,w=_.relatedTarget,S=A&&b.contains(A);i.trapped||w&&b.contains(w)||(o=w),S&&n("focusin",_),!c.paused&&i.trapped&&(S?a=A:tryFocus(a,!0))},g=_=>{const b=vue.unref(r);if(!(c.paused||!b))if(i.trapped){const A=_.relatedTarget;!lodashEs.isNil(A)&&!b.contains(A)&&setTimeout(()=>{if(!c.paused&&i.trapped){const w=createFocusOutPreventedEvent({focusReason:u.value});n("focusout-prevented",w),w.defaultPrevented||tryFocus(a,!0)}},0)}else{const A=_.target;A&&b.contains(A)||n("focusout",_)}};async function p(){await vue.nextTick();const _=vue.unref(r);if(_){focusableStack.push(c);const b=_.contains(document.activeElement)?o:document.activeElement;if(o=b,!_.contains(b)){const w=new Event(FOCUS_AFTER_TRAPPED,FOCUS_AFTER_TRAPPED_OPTS);_.addEventListener(FOCUS_AFTER_TRAPPED,d),_.dispatchEvent(w),w.defaultPrevented||vue.nextTick(()=>{let S=i.focusStartEl;isString(S)||(tryFocus(S),document.activeElement!==S&&(S="first")),S==="first"&&focusFirstDescendant(obtainAllFocusableElements(_),!0),(document.activeElement===b||S==="container")&&tryFocus(_)})}}}function y(){const _=vue.unref(r);if(_){_.removeEventListener(FOCUS_AFTER_TRAPPED,d);const b=new CustomEvent(FOCUS_AFTER_RELEASED,{...FOCUS_AFTER_TRAPPED_OPTS,detail:{focusReason:u.value}});_.addEventListener(FOCUS_AFTER_RELEASED,h),_.dispatchEvent(b),!b.defaultPrevented&&(u.value=="keyboard"||!isFocusCausedByUserEvent()||_.contains(document.activeElement))&&tryFocus(o??document.body),_.removeEventListener(FOCUS_AFTER_RELEASED,d),focusableStack.remove(c)}}return vue.onMounted(()=>{i.trapped&&p(),vue.watch(()=>i.trapped,_=>{_?p():y()})}),vue.onBeforeUnmount(()=>{i.trapped&&y()}),{onKeydown:f}}});function _sfc_render$4(i,n,r,o,a,u){return vue.renderSlot(i.$slots,"default",{handleKeydown:i.onKeydown})}var ElFocusTrap=_export_sfc(_sfc_main$h,[["render",_sfc_render$4],["__file","/home/runner/work/element-plus/element-plus/packages/components/focus-trap/src/focus-trap.vue"]]);const POSITIONING_STRATEGIES=["fixed","absolute"],popperCoreConfigProps=buildProps({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:definePropType(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:Ee,default:"bottom"},popperOptions:{type:definePropType(Object),default:()=>({})},strategy:{type:String,values:POSITIONING_STRATEGIES,default:"absolute"}}),popperContentProps=buildProps({...popperCoreConfigProps,id:String,style:{type:definePropType([String,Array,Object])},className:{type:definePropType([String,Array,Object])},effect:{type:String,default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:definePropType([String,Array,Object])},popperStyle:{type:definePropType([String,Array,Object])},referenceEl:{type:definePropType(Object)},triggerTargetEl:{type:definePropType(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},ariaLabel:{type:String,default:void 0},virtualTriggering:Boolean,zIndex:Number}),popperContentEmits={mouseenter:i=>i instanceof MouseEvent,mouseleave:i=>i instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},buildPopperOptions=(i,n=[])=>{const{placement:r,strategy:o,popperOptions:a}=i,u={placement:r,strategy:o,...a,modifiers:[...genModifiers(i),...n]};return deriveExtraModifiers(u,a==null?void 0:a.modifiers),u},unwrapMeasurableEl=i=>{if(isClient)return unrefElement(i)};function genModifiers(i){const{offset:n,gpuAcceleration:r,fallbackPlacements:o}=i;return[{name:"offset",options:{offset:[0,n??12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:o}},{name:"computeStyles",options:{gpuAcceleration:r}}]}function deriveExtraModifiers(i,n){n&&(i.modifiers=[...i.modifiers,...n??[]])}const DEFAULT_ARROW_OFFSET=0,usePopperContent=i=>{const{popperInstanceRef:n,contentRef:r,triggerRef:o,role:a}=vue.inject(POPPER_INJECTION_KEY,void 0),u=vue.ref(),c=vue.ref(),f=vue.computed(()=>({name:"eventListeners",enabled:!!i.visible})),d=vue.computed(()=>{var w;const S=vue.unref(u),T=(w=vue.unref(c))!=null?w:DEFAULT_ARROW_OFFSET;return{name:"arrow",enabled:!lodashEs.isUndefined(S),options:{element:S,padding:T}}}),h=vue.computed(()=>({onFirstUpdate:()=>{_()},...buildPopperOptions(i,[vue.unref(d),vue.unref(f)])})),v=vue.computed(()=>unwrapMeasurableEl(i.referenceEl)||vue.unref(o)),{attributes:g,state:p,styles:y,update:_,forceUpdate:b,instanceRef:A}=usePopper(v,r,h);return vue.watch(A,w=>n.value=w),vue.onMounted(()=>{vue.watch(()=>{var w;return(w=vue.unref(v))==null?void 0:w.getBoundingClientRect()},()=>{_()})}),{attributes:g,arrowRef:u,contentRef:r,instanceRef:A,state:p,styles:y,role:a,forceUpdate:b,update:_}},usePopperContentDOM=(i,{attributes:n,styles:r,role:o})=>{const{nextZIndex:a}=useZIndex(),u=useNamespace("popper"),c=vue.computed(()=>vue.unref(n).popper),f=vue.ref(i.zIndex||a()),d=vue.computed(()=>[u.b(),u.is("pure",i.pure),u.is(i.effect),i.popperClass]),h=vue.computed(()=>[{zIndex:vue.unref(f)},vue.unref(r).popper,i.popperStyle||{}]),v=vue.computed(()=>o.value==="dialog"?"false":void 0),g=vue.computed(()=>vue.unref(r).arrow||{});return{ariaModal:v,arrowStyle:g,contentAttrs:c,contentClass:d,contentStyle:h,contentZIndex:f,updateZIndex:()=>{f.value=i.zIndex||a()}}},usePopperContentFocusTrap=(i,n)=>{const r=vue.ref(!1),o=vue.ref();return{focusStartRef:o,trapped:r,onFocusAfterReleased:h=>{var v;((v=h.detail)==null?void 0:v.focusReason)!=="pointer"&&(o.value="first",n("blur"))},onFocusAfterTrapped:()=>{n("focus")},onFocusInTrap:h=>{i.visible&&!r.value&&(h.target&&(o.value=h.target),r.value=!0)},onFocusoutPrevented:h=>{i.trapping||(h.detail.focusReason==="pointer"&&h.preventDefault(),r.value=!1)},onReleaseRequested:()=>{r.value=!1,n("close")}}},__default__$4=vue.defineComponent({name:"ElPopperContent"}),_sfc_main$g=vue.defineComponent({...__default__$4,props:popperContentProps,emits:popperContentEmits,setup(i,{expose:n,emit:r}){const o=i,{focusStartRef:a,trapped:u,onFocusAfterReleased:c,onFocusAfterTrapped:f,onFocusInTrap:d,onFocusoutPrevented:h,onReleaseRequested:v}=usePopperContentFocusTrap(o,r),{attributes:g,arrowRef:p,contentRef:y,styles:_,instanceRef:b,role:A,update:w}=usePopperContent(o),{ariaModal:S,arrowStyle:T,contentAttrs:x,contentClass:O,contentStyle:L,updateZIndex:M}=usePopperContentDOM(o,{styles:_,attributes:g,role:A}),re=vue.inject(formItemContextKey,void 0),F=vue.ref();vue.provide(POPPER_CONTENT_INJECTION_KEY,{arrowStyle:T,arrowRef:p,arrowOffset:F}),re&&(re.addInputId||re.removeInputId)&&vue.provide(formItemContextKey,{...re,addInputId:NOOP,removeInputId:NOOP});let Y;const V=($=!0)=>{w(),$&&M()},z=()=>{V(!1),o.visible&&o.focusOnShow?u.value=!0:o.visible===!1&&(u.value=!1)};return vue.onMounted(()=>{vue.watch(()=>o.triggerTargetEl,($,pe)=>{Y==null||Y(),Y=void 0;const le=vue.unref($||y.value),Ie=vue.unref(pe||y.value);isElement(le)&&(Y=vue.watch([A,()=>o.ariaLabel,S,()=>o.id],he=>{["role","aria-label","aria-modal","id"].forEach((xe,_e)=>{lodashEs.isNil(he[_e])?le.removeAttribute(xe):le.setAttribute(xe,he[_e])})},{immediate:!0})),Ie!==le&&isElement(Ie)&&["role","aria-label","aria-modal","id"].forEach(he=>{Ie.removeAttribute(he)})},{immediate:!0}),vue.watch(()=>o.visible,z,{immediate:!0})}),vue.onBeforeUnmount(()=>{Y==null||Y(),Y=void 0}),n({popperContentRef:y,popperInstanceRef:b,updatePopper:V,contentStyle:L}),($,pe)=>(vue.openBlock(),vue.createElementBlock("div",vue.mergeProps({ref_key:"contentRef",ref:y},vue.unref(x),{style:vue.unref(L),class:vue.unref(O),tabindex:"-1",onMouseenter:pe[0]||(pe[0]=le=>$.$emit("mouseenter",le)),onMouseleave:pe[1]||(pe[1]=le=>$.$emit("mouseleave",le))}),[vue.createVNode(vue.unref(ElFocusTrap),{trapped:vue.unref(u),"trap-on-focus-in":!0,"focus-trap-el":vue.unref(y),"focus-start-el":vue.unref(a),onFocusAfterTrapped:vue.unref(f),onFocusAfterReleased:vue.unref(c),onFocusin:vue.unref(d),onFocusoutPrevented:vue.unref(h),onReleaseRequested:vue.unref(v)},{default:vue.withCtx(()=>[vue.renderSlot($.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16))}});var ElPopperContent=_export_sfc(_sfc_main$g,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/content.vue"]]);const ElPopper=withInstall(Popper),TOOLTIP_INJECTION_KEY=Symbol("elTooltip"),useTooltipContentProps=buildProps({...useDelayedToggleProps,...popperContentProps,appendTo:{type:definePropType([String,Object])},content:{type:String,default:""},rawContent:{type:Boolean,default:!1},persistent:Boolean,ariaLabel:String,visible:{type:definePropType(Boolean),default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean}),useTooltipTriggerProps=buildProps({...popperTriggerProps,disabled:Boolean,trigger:{type:definePropType([String,Array]),default:"hover"},triggerKeys:{type:definePropType(Array),default:()=>[EVENT_CODE.enter,EVENT_CODE.space]}}),{useModelToggleProps:useTooltipModelToggleProps,useModelToggleEmits:useTooltipModelToggleEmits,useModelToggle:useTooltipModelToggle}=createModelToggleComposable("visible"),useTooltipProps=buildProps({...popperProps,...useTooltipModelToggleProps,...useTooltipContentProps,...useTooltipTriggerProps,...popperArrowProps,showArrow:{type:Boolean,default:!0}}),tooltipEmits=[...useTooltipModelToggleEmits,"before-show","before-hide","show","hide","open","close"],isTriggerType=(i,n)=>isArray(i)?i.includes(n):i===n,whenTrigger=(i,n,r)=>o=>{isTriggerType(vue.unref(i),n)&&r(o)},__default__$3=vue.defineComponent({name:"ElTooltipTrigger"}),_sfc_main$f=vue.defineComponent({...__default__$3,props:useTooltipTriggerProps,setup(i,{expose:n}){const r=i,o=useNamespace("tooltip"),{controlled:a,id:u,open:c,onOpen:f,onClose:d,onToggle:h}=vue.inject(TOOLTIP_INJECTION_KEY,void 0),v=vue.ref(null),g=()=>{if(vue.unref(a)||r.disabled)return!0},p=vue.toRef(r,"trigger"),y=composeEventHandlers(g,whenTrigger(p,"hover",f)),_=composeEventHandlers(g,whenTrigger(p,"hover",d)),b=composeEventHandlers(g,whenTrigger(p,"click",x=>{x.button===0&&h(x)})),A=composeEventHandlers(g,whenTrigger(p,"focus",f)),w=composeEventHandlers(g,whenTrigger(p,"focus",d)),S=composeEventHandlers(g,whenTrigger(p,"contextmenu",x=>{x.preventDefault(),h(x)})),T=composeEventHandlers(g,x=>{const{code:O}=x;r.triggerKeys.includes(O)&&(x.preventDefault(),h(x))});return n({triggerRef:v}),(x,O)=>(vue.openBlock(),vue.createBlock(vue.unref(ElPopperTrigger),{id:vue.unref(u),"virtual-ref":x.virtualRef,open:vue.unref(c),"virtual-triggering":x.virtualTriggering,class:vue.normalizeClass(vue.unref(o).e("trigger")),onBlur:vue.unref(w),onClick:vue.unref(b),onContextmenu:vue.unref(S),onFocus:vue.unref(A),onMouseenter:vue.unref(y),onMouseleave:vue.unref(_),onKeydown:vue.unref(T)},{default:vue.withCtx(()=>[vue.renderSlot(x.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var ElTooltipTrigger=_export_sfc(_sfc_main$f,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/trigger.vue"]]);const __default__$2=vue.defineComponent({name:"ElTooltipContent",inheritAttrs:!1}),_sfc_main$e=vue.defineComponent({...__default__$2,props:useTooltipContentProps,setup(i,{expose:n}){const r=i,{selector:o}=usePopperContainerId(),a=useNamespace("tooltip"),u=vue.ref(null),c=vue.ref(!1),{controlled:f,id:d,open:h,trigger:v,onClose:g,onOpen:p,onShow:y,onHide:_,onBeforeShow:b,onBeforeHide:A}=vue.inject(TOOLTIP_INJECTION_KEY,void 0),w=vue.computed(()=>r.transition||`${a.namespace.value}-fade-in-linear`),S=vue.computed(()=>process.env.NODE_ENV==="test"?!0:r.persistent);vue.onBeforeUnmount(()=>{c.value=!0});const T=vue.computed(()=>vue.unref(S)?!0:vue.unref(h)),x=vue.computed(()=>r.disabled?!1:vue.unref(h)),O=vue.computed(()=>r.appendTo||o.value),L=vue.computed(()=>{var he;return(he=r.style)!=null?he:{}}),M=vue.computed(()=>!vue.unref(h)),re=()=>{_()},F=()=>{if(vue.unref(f))return!0},Y=composeEventHandlers(F,()=>{r.enterable&&vue.unref(v)==="hover"&&p()}),V=composeEventHandlers(F,()=>{vue.unref(v)==="hover"&&g()}),z=()=>{var he,xe;(xe=(he=u.value)==null?void 0:he.updatePopper)==null||xe.call(he),b==null||b()},$=()=>{A==null||A()},pe=()=>{y(),Ie=onClickOutside(vue.computed(()=>{var he;return(he=u.value)==null?void 0:he.popperContentRef}),()=>{if(vue.unref(f))return;vue.unref(v)!=="hover"&&g()})},le=()=>{r.virtualTriggering||g()};let Ie;return vue.watch(()=>vue.unref(h),he=>{he||Ie==null||Ie()},{flush:"post"}),vue.watch(()=>r.content,()=>{var he,xe;(xe=(he=u.value)==null?void 0:he.updatePopper)==null||xe.call(he)}),n({contentRef:u}),(he,xe)=>(vue.openBlock(),vue.createBlock(vue.Teleport,{disabled:!he.teleported,to:vue.unref(O)},[vue.createVNode(vue.Transition,{name:vue.unref(w),onAfterLeave:re,onBeforeEnter:z,onAfterEnter:pe,onBeforeLeave:$},{default:vue.withCtx(()=>[vue.unref(T)?vue.withDirectives((vue.openBlock(),vue.createBlock(vue.unref(ElPopperContent),vue.mergeProps({key:0,id:vue.unref(d),ref_key:"contentRef",ref:u},he.$attrs,{"aria-label":he.ariaLabel,"aria-hidden":vue.unref(M),"boundaries-padding":he.boundariesPadding,"fallback-placements":he.fallbackPlacements,"gpu-acceleration":he.gpuAcceleration,offset:he.offset,placement:he.placement,"popper-options":he.popperOptions,strategy:he.strategy,effect:he.effect,enterable:he.enterable,pure:he.pure,"popper-class":he.popperClass,"popper-style":[he.popperStyle,vue.unref(L)],"reference-el":he.referenceEl,"trigger-target-el":he.triggerTargetEl,visible:vue.unref(x),"z-index":he.zIndex,onMouseenter:vue.unref(Y),onMouseleave:vue.unref(V),onBlur:le,onClose:vue.unref(g)}),{default:vue.withCtx(()=>[c.value?vue.createCommentVNode("v-if",!0):vue.renderSlot(he.$slots,"default",{key:0})]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[vue.vShow,vue.unref(x)]]):vue.createCommentVNode("v-if",!0)]),_:3},8,["name"])],8,["disabled","to"]))}});var ElTooltipContent=_export_sfc(_sfc_main$e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/content.vue"]]);const _hoisted_1$6=["innerHTML"],_hoisted_2$4={key:1},__default__$1=vue.defineComponent({name:"ElTooltip"}),_sfc_main$d=vue.defineComponent({...__default__$1,props:useTooltipProps,emits:tooltipEmits,setup(i,{expose:n,emit:r}){const o=i;usePopperContainer();const a=useId(),u=vue.ref(),c=vue.ref(),f=()=>{var w;const S=vue.unref(u);S&&((w=S.popperInstanceRef)==null||w.update())},d=vue.ref(!1),h=vue.ref(),{show:v,hide:g,hasUpdateHandler:p}=useTooltipModelToggle({indicator:d,toggleReason:h}),{onOpen:y,onClose:_}=useDelayedToggle({showAfter:vue.toRef(o,"showAfter"),hideAfter:vue.toRef(o,"hideAfter"),autoClose:vue.toRef(o,"autoClose"),open:v,close:g}),b=vue.computed(()=>isBoolean(o.visible)&&!p.value);vue.provide(TOOLTIP_INJECTION_KEY,{controlled:b,id:a,open:vue.readonly(d),trigger:vue.toRef(o,"trigger"),onOpen:w=>{y(w)},onClose:w=>{_(w)},onToggle:w=>{vue.unref(d)?_(w):y(w)},onShow:()=>{r("show",h.value)},onHide:()=>{r("hide",h.value)},onBeforeShow:()=>{r("before-show",h.value)},onBeforeHide:()=>{r("before-hide",h.value)},updatePopper:f}),vue.watch(()=>o.disabled,w=>{w&&d.value&&(d.value=!1)});const A=()=>{var w,S;const T=(S=(w=c.value)==null?void 0:w.contentRef)==null?void 0:S.popperContentRef;return T&&T.contains(document.activeElement)};return vue.onDeactivated(()=>d.value&&g()),n({popperRef:u,contentRef:c,isFocusInsideContent:A,updatePopper:f,onOpen:y,onClose:_,hide:g}),(w,S)=>(vue.openBlock(),vue.createBlock(vue.unref(ElPopper),{ref_key:"popperRef",ref:u,role:w.role},{default:vue.withCtx(()=>[vue.createVNode(ElTooltipTrigger,{disabled:w.disabled,trigger:w.trigger,"trigger-keys":w.triggerKeys,"virtual-ref":w.virtualRef,"virtual-triggering":w.virtualTriggering},{default:vue.withCtx(()=>[w.$slots.default?vue.renderSlot(w.$slots,"default",{key:0}):vue.createCommentVNode("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),vue.createVNode(ElTooltipContent,{ref_key:"contentRef",ref:c,"aria-label":w.ariaLabel,"boundaries-padding":w.boundariesPadding,content:w.content,disabled:w.disabled,effect:w.effect,enterable:w.enterable,"fallback-placements":w.fallbackPlacements,"hide-after":w.hideAfter,"gpu-acceleration":w.gpuAcceleration,offset:w.offset,persistent:w.persistent,"popper-class":w.popperClass,"popper-style":w.popperStyle,placement:w.placement,"popper-options":w.popperOptions,pure:w.pure,"raw-content":w.rawContent,"reference-el":w.referenceEl,"trigger-target-el":w.triggerTargetEl,"show-after":w.showAfter,strategy:w.strategy,teleported:w.teleported,transition:w.transition,"virtual-triggering":w.virtualTriggering,"z-index":w.zIndex,"append-to":w.appendTo},{default:vue.withCtx(()=>[vue.renderSlot(w.$slots,"content",{},()=>[w.rawContent?(vue.openBlock(),vue.createElementBlock("span",{key:0,innerHTML:w.content},null,8,_hoisted_1$6)):(vue.openBlock(),vue.createElementBlock("span",_hoisted_2$4,vue.toDisplayString(w.content),1))]),w.showArrow?(vue.openBlock(),vue.createBlock(vue.unref(ElPopperArrow),{key:0,"arrow-offset":w.arrowOffset},null,8,["arrow-offset"])):vue.createCommentVNode("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"]))}});var Tooltip=_export_sfc(_sfc_main$d,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/tooltip.vue"]]);const ElTooltip=withInstall(Tooltip);var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};const nodeList=new Map;let startClick;isClient&&(document.addEventListener("mousedown",i=>startClick=i),document.addEventListener("mouseup",i=>{for(const n of nodeList.values())for(const{documentHandler:r}of n)r(i,startClick)}));function createDocumentHandler(i,n){let r=[];return Array.isArray(n.arg)?r=n.arg:isElement(n.arg)&&r.push(n.arg),function(o,a){const u=n.instance.popperRef,c=o.target,f=a==null?void 0:a.target,d=!n||!n.instance,h=!c||!f,v=i.contains(c)||i.contains(f),g=i===c,p=r.length&&r.some(_=>_==null?void 0:_.contains(c))||r.length&&r.includes(f),y=u&&(u.contains(c)||u.contains(f));d||h||v||g||p||y||n.value(o,a)}}const ClickOutside={beforeMount(i,n){nodeList.has(i)||nodeList.set(i,[]),nodeList.get(i).push({documentHandler:createDocumentHandler(i,n),bindingFn:n.value})},updated(i,n){nodeList.has(i)||nodeList.set(i,[]);const r=nodeList.get(i),o=r.findIndex(u=>u.bindingFn===n.oldValue),a={documentHandler:createDocumentHandler(i,n),bindingFn:n.value};o>=0?r.splice(o,1,a):r.push(a)},unmounted(i){nodeList.delete(i)}},tagProps=buildProps({type:{type:String,values:["success","info","warning","danger",""],default:""},closable:Boolean,disableTransitions:Boolean,hit:Boolean,color:{type:String,default:""},size:{type:String,values:componentSizes,default:""},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),tagEmits={close:i=>i instanceof MouseEvent,click:i=>i instanceof MouseEvent},__default__=vue.defineComponent({name:"ElTag"}),_sfc_main$c=vue.defineComponent({...__default__,props:tagProps,emits:tagEmits,setup(i,{emit:n}){const r=i,o=useFormSize(),a=useNamespace("tag"),u=vue.computed(()=>{const{type:d,hit:h,effect:v,closable:g,round:p}=r;return[a.b(),a.is("closable",g),a.m(d),a.m(o.value),a.m(v),a.is("hit",h),a.is("round",p)]}),c=d=>{n("close",d)},f=d=>{n("click",d)};return(d,h)=>d.disableTransitions?(vue.openBlock(),vue.createElementBlock("span",{key:0,class:vue.normalizeClass(vue.unref(u)),style:vue.normalizeStyle({backgroundColor:d.color}),onClick:f},[vue.createElementVNode("span",{class:vue.normalizeClass(vue.unref(a).e("content"))},[vue.renderSlot(d.$slots,"default")],2),d.closable?(vue.openBlock(),vue.createBlock(vue.unref(ElIcon),{key:0,class:vue.normalizeClass(vue.unref(a).e("close")),onClick:vue.withModifiers(c,["stop"])},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(close_default))]),_:1},8,["class","onClick"])):vue.createCommentVNode("v-if",!0)],6)):(vue.openBlock(),vue.createBlock(vue.Transition,{key:1,name:`${vue.unref(a).namespace.value}-zoom-in-center`,appear:""},{default:vue.withCtx(()=>[vue.createElementVNode("span",{class:vue.normalizeClass(vue.unref(u)),style:vue.normalizeStyle({backgroundColor:d.color}),onClick:f},[vue.createElementVNode("span",{class:vue.normalizeClass(vue.unref(a).e("content"))},[vue.renderSlot(d.$slots,"default")],2),d.closable?(vue.openBlock(),vue.createBlock(vue.unref(ElIcon),{key:0,class:vue.normalizeClass(vue.unref(a).e("close")),onClick:vue.withModifiers(c,["stop"])},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(close_default))]),_:1},8,["class","onClick"])):vue.createCommentVNode("v-if",!0)],6)]),_:3},8,["name"]))}});var Tag=_export_sfc(_sfc_main$c,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tag/src/tag.vue"]]);const ElTag=withInstall(Tag),selectGroupKey=Symbol("ElSelectGroup"),selectKey=Symbol("ElSelect");function useOption(i,n){const r=vue.inject(selectKey),o=vue.inject(selectGroupKey,{disabled:!1}),a=vue.computed(()=>Object.prototype.toString.call(i.value).toLowerCase()==="[object object]"),u=vue.computed(()=>r.props.multiple?g(r.props.modelValue,i.value):p(i.value,r.props.modelValue)),c=vue.computed(()=>{if(r.props.multiple){const b=r.props.modelValue||[];return!u.value&&b.length>=r.props.multipleLimit&&r.props.multipleLimit>0}else return!1}),f=vue.computed(()=>i.label||(a.value?"":i.value)),d=vue.computed(()=>i.value||i.label||""),h=vue.computed(()=>i.disabled||n.groupDisabled||c.value),v=vue.getCurrentInstance(),g=(b=[],A)=>{if(a.value){const w=r.props.valueKey;return b&&b.some(S=>vue.toRaw(lodashEs.get(S,w))===lodashEs.get(A,w))}else return b&&b.includes(A)},p=(b,A)=>{if(a.value){const{valueKey:w}=r.props;return lodashEs.get(b,w)===lodashEs.get(A,w)}else return b===A},y=()=>{!i.disabled&&!o.disabled&&(r.hoverIndex=r.optionsArray.indexOf(v.proxy))};vue.watch(()=>f.value,()=>{!i.created&&!r.props.remote&&r.setSelected()}),vue.watch(()=>i.value,(b,A)=>{const{remote:w,valueKey:S}=r.props;if(Object.is(b,A)||(r.onOptionDestroy(A,v.proxy),r.onOptionCreate(v.proxy)),!i.created&&!w){if(S&&typeof b=="object"&&typeof A=="object"&&b[S]===A[S])return;r.setSelected()}}),vue.watch(()=>o.disabled,()=>{n.groupDisabled=o.disabled},{immediate:!0});const{queryChange:_}=vue.toRaw(r);return vue.watch(_,b=>{const{query:A}=vue.unref(b),w=new RegExp(escapeStringRegexp(A),"i");n.visible=w.test(f.value)||i.created,n.visible||r.filteredOptionsCount--},{immediate:!0}),{select:r,currentLabel:f,currentValue:d,itemSelected:u,isDisabled:h,hoverItem:y}}const _sfc_main$b=vue.defineComponent({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:{type:Boolean,default:!1}},setup(i){const n=useNamespace("select"),r=vue.computed(()=>[n.be("dropdown","item"),n.is("disabled",vue.unref(c)),{selected:vue.unref(u),hover:vue.unref(v)}]),o=vue.reactive({index:-1,groupDisabled:!1,visible:!0,hitState:!1,hover:!1}),{currentLabel:a,itemSelected:u,isDisabled:c,select:f,hoverItem:d}=useOption(i,o),{visible:h,hover:v}=vue.toRefs(o),g=vue.getCurrentInstance().proxy;f.onOptionCreate(g),vue.onBeforeUnmount(()=>{const y=g.value,{selected:_}=f,A=(f.props.multiple?_:[_]).some(w=>w.value===g.value);vue.nextTick(()=>{f.cachedOptions.get(y)===g&&!A&&f.cachedOptions.delete(y)}),f.onOptionDestroy(y,g)});function p(){i.disabled!==!0&&o.groupDisabled!==!0&&f.handleOptionSelect(g)}return{ns:n,containerKls:r,currentLabel:a,itemSelected:u,isDisabled:c,select:f,hoverItem:d,visible:h,hover:v,selectOptionClick:p,states:o}}});function _sfc_render$3(i,n,r,o,a,u){return vue.withDirectives((vue.openBlock(),vue.createElementBlock("li",{class:vue.normalizeClass(i.containerKls),onMouseenter:n[0]||(n[0]=(...c)=>i.hoverItem&&i.hoverItem(...c)),onClick:n[1]||(n[1]=vue.withModifiers((...c)=>i.selectOptionClick&&i.selectOptionClick(...c),["stop"]))},[vue.renderSlot(i.$slots,"default",{},()=>[vue.createElementVNode("span",null,vue.toDisplayString(i.currentLabel),1)])],34)),[[vue.vShow,i.visible]])}var Option=_export_sfc(_sfc_main$b,[["render",_sfc_render$3],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option.vue"]]);const _sfc_main$a=vue.defineComponent({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const i=vue.inject(selectKey),n=useNamespace("select"),r=vue.computed(()=>i.props.popperClass),o=vue.computed(()=>i.props.multiple),a=vue.computed(()=>i.props.fitInputWidth),u=vue.ref("");function c(){var f;u.value=`${(f=i.selectWrapper)==null?void 0:f.offsetWidth}px`}return vue.onMounted(()=>{c(),useResizeObserver(i.selectWrapper,c)}),{ns:n,minWidth:u,popperClass:r,isMultiple:o,isFitInputWidth:a}}});function _sfc_render$2(i,n,r,o,a,u){return vue.openBlock(),vue.createElementBlock("div",{class:vue.normalizeClass([i.ns.b("dropdown"),i.ns.is("multiple",i.isMultiple),i.popperClass]),style:vue.normalizeStyle({[i.isFitInputWidth?"width":"minWidth"]:i.minWidth})},[vue.renderSlot(i.$slots,"default")],6)}var ElSelectMenu=_export_sfc(_sfc_main$a,[["render",_sfc_render$2],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select-dropdown.vue"]]);function useSelectStates(i){const{t:n}=useLocale();return vue.reactive({options:new Map,cachedOptions:new Map,createdLabel:null,createdSelected:!1,selected:i.multiple?[]:{},inputLength:20,inputWidth:0,optionsCount:0,filteredOptionsCount:0,visible:!1,selectedLabel:"",hoverIndex:-1,query:"",previousQuery:null,inputHovering:!1,cachedPlaceHolder:"",currentPlaceholder:n("el.select.placeholder"),menuVisibleOnFocus:!1,isOnComposition:!1,prefixWidth:11,mouseEnter:!1})}let ignoreFocusEvent=!1;const useSelect=(i,n,r)=>{const{t:o}=useLocale(),a=useNamespace("select");useDeprecated({from:"suffixTransition",replacement:"override style scheme",version:"2.3.0",scope:"props",ref:"https://element-plus.org/en-US/component/select.html#select-attributes"},vue.computed(()=>i.suffixTransition===!1));const u=vue.ref(null),c=vue.ref(null),f=vue.ref(null),d=vue.ref(null),h=vue.ref(null),v=vue.ref(null),g=vue.ref(null),p=vue.ref(null),y=vue.ref(-1),_=vue.shallowRef({query:""}),b=vue.shallowRef(""),A=vue.ref([]);let w=0;const{form:S,formItem:T}=useFormItem(),x=vue.computed(()=>!i.filterable||i.multiple||!n.visible),O=vue.computed(()=>i.disabled||(S==null?void 0:S.disabled)),L=vue.computed(()=>{const bn=i.multiple?Array.isArray(i.modelValue)&&i.modelValue.length>0:i.modelValue!==void 0&&i.modelValue!==null&&i.modelValue!=="";return i.clearable&&!O.value&&n.inputHovering&&bn}),M=vue.computed(()=>i.remote&&i.filterable&&!i.remoteShowSuffix?"":i.suffixIcon),re=vue.computed(()=>a.is("reverse",M.value&&n.visible&&i.suffixTransition)),F=vue.computed(()=>i.remote?300:0),Y=vue.computed(()=>i.loading?i.loadingText||o("el.select.loading"):i.remote&&n.query===""&&n.options.size===0?!1:i.filterable&&n.query&&n.options.size>0&&n.filteredOptionsCount===0?i.noMatchText||o("el.select.noMatch"):n.options.size===0?i.noDataText||o("el.select.noData"):null),V=vue.computed(()=>{const bn=Array.from(n.options.values()),wn=[];return A.value.forEach(Ln=>{const Bn=bn.findIndex(Mn=>Mn.currentLabel===Ln);Bn>-1&&wn.push(bn[Bn])}),wn.length?wn:bn}),z=vue.computed(()=>Array.from(n.cachedOptions.values())),$=vue.computed(()=>{const bn=V.value.filter(wn=>!wn.created).some(wn=>wn.currentLabel===n.query);return i.filterable&&i.allowCreate&&n.query!==""&&!bn}),pe=useFormSize(),le=vue.computed(()=>["small"].includes(pe.value)?"small":"default"),Ie=vue.computed({get(){return n.visible&&Y.value!==!1},set(bn){n.visible=bn}});vue.watch([()=>O.value,()=>pe.value,()=>S==null?void 0:S.size],()=>{vue.nextTick(()=>{he()})}),vue.watch(()=>i.placeholder,bn=>{n.cachedPlaceHolder=n.currentPlaceholder=bn,i.multiple&&Array.isArray(i.modelValue)&&i.modelValue.length>0&&(n.currentPlaceholder="")}),vue.watch(()=>i.modelValue,(bn,wn)=>{i.multiple&&(he(),bn&&bn.length>0||c.value&&n.query!==""?n.currentPlaceholder="":n.currentPlaceholder=n.cachedPlaceHolder,i.filterable&&!i.reserveKeyword&&(n.query="",xe(n.query))),Lt(),i.filterable&&!i.multiple&&(n.inputLength=20),!lodashEs.isEqual(bn,wn)&&i.validateEvent&&(T==null||T.validate("change").catch(Ln=>debugWarn(Ln)))},{flush:"post",deep:!0}),vue.watch(()=>n.visible,bn=>{var wn,Ln,Bn,Mn,On;bn?((Ln=(wn=d.value)==null?void 0:wn.updatePopper)==null||Ln.call(wn),i.filterable&&(n.filteredOptionsCount=n.optionsCount,n.query=i.remote?"":n.selectedLabel,(Mn=(Bn=f.value)==null?void 0:Bn.focus)==null||Mn.call(Bn),i.multiple?(On=c.value)==null||On.focus():n.selectedLabel&&(n.currentPlaceholder=`${n.selectedLabel}`,n.selectedLabel=""),xe(n.query),!i.multiple&&!i.remote&&(_.value.query="",vue.triggerRef(_),vue.triggerRef(b)))):(i.filterable&&(isFunction(i.filterMethod)&&i.filterMethod(""),isFunction(i.remoteMethod)&&i.remoteMethod("")),c.value&&c.value.blur(),n.query="",n.previousQuery=null,n.selectedLabel="",n.inputLength=20,n.menuVisibleOnFocus=!1,vn(),vue.nextTick(()=>{c.value&&c.value.value===""&&n.selected.length===0&&(n.currentPlaceholder=n.cachedPlaceHolder)}),i.multiple||(n.selected&&(i.filterable&&i.allowCreate&&n.createdSelected&&n.createdLabel?n.selectedLabel=n.createdLabel:n.selectedLabel=n.selected.currentLabel,i.filterable&&(n.query=n.selectedLabel)),i.filterable&&(n.currentPlaceholder=n.cachedPlaceHolder))),r.emit("visible-change",bn)}),vue.watch(()=>n.options.entries(),()=>{var bn,wn,Ln;if(!isClient)return;(wn=(bn=d.value)==null?void 0:bn.updatePopper)==null||wn.call(bn),i.multiple&&he();const Bn=((Ln=g.value)==null?void 0:Ln.querySelectorAll("input"))||[];Array.from(Bn).includes(document.activeElement)||Lt(),i.defaultFirstOption&&(i.filterable||i.remote)&&n.filteredOptionsCount&&jt()},{flush:"post"}),vue.watch(()=>n.hoverIndex,bn=>{isNumber(bn)&&bn>-1?y.value=V.value[bn]||{}:y.value={},V.value.forEach(wn=>{wn.hover=y.value===wn})});const he=()=>{vue.nextTick(()=>{var bn,wn;if(!u.value)return;const Ln=u.value.$el.querySelector("input");w=w||(Ln.clientHeight>0?Ln.clientHeight+2:0);const Bn=v.value,Mn=getComponentSize(pe.value||(S==null?void 0:S.size)),On=pe.value||Mn===w||w<=0?Mn:w;!(Ln.offsetParent===null)&&(Ln.style.height=`${(n.selected.length===0?On:Math.max(Bn?Bn.clientHeight+(Bn.clientHeight>On?6:0):0,On))-2}px`),n.visible&&Y.value!==!1&&((wn=(bn=d.value)==null?void 0:bn.updatePopper)==null||wn.call(bn))})},xe=async bn=>{if(!(n.previousQuery===bn||n.isOnComposition)){if(n.previousQuery===null&&(isFunction(i.filterMethod)||isFunction(i.remoteMethod))){n.previousQuery=bn;return}n.previousQuery=bn,vue.nextTick(()=>{var wn,Ln;n.visible&&((Ln=(wn=d.value)==null?void 0:wn.updatePopper)==null||Ln.call(wn))}),n.hoverIndex=-1,i.multiple&&i.filterable&&vue.nextTick(()=>{const wn=c.value.value.length*15+20;n.inputLength=i.collapseTags?Math.min(50,wn):wn,_e(),he()}),i.remote&&isFunction(i.remoteMethod)?(n.hoverIndex=-1,i.remoteMethod(bn)):isFunction(i.filterMethod)?(i.filterMethod(bn),vue.triggerRef(b)):(n.filteredOptionsCount=n.optionsCount,_.value.query=bn,vue.triggerRef(_),vue.triggerRef(b)),i.defaultFirstOption&&(i.filterable||i.remote)&&n.filteredOptionsCount&&(await vue.nextTick(),jt())}},_e=()=>{n.currentPlaceholder!==""&&(n.currentPlaceholder=c.value.value?"":n.cachedPlaceHolder)},jt=()=>{const bn=V.value.filter(Bn=>Bn.visible&&!Bn.disabled&&!Bn.states.groupDisabled),wn=bn.find(Bn=>Bn.created),Ln=bn[0];n.hoverIndex=Ve(V.value,wn||Ln)},Lt=()=>{var bn;if(i.multiple)n.selectedLabel="";else{const Ln=Cn(i.modelValue);(bn=Ln.props)!=null&&bn.created?(n.createdLabel=Ln.props.value,n.createdSelected=!0):n.createdSelected=!1,n.selectedLabel=Ln.currentLabel,n.selected=Ln,i.filterable&&(n.query=n.selectedLabel);return}const wn=[];Array.isArray(i.modelValue)&&i.modelValue.forEach(Ln=>{wn.push(Cn(Ln))}),n.selected=wn,vue.nextTick(()=>{he()})},Cn=bn=>{let wn;const Ln=toRawType(bn).toLowerCase()==="object",Bn=toRawType(bn).toLowerCase()==="null",Mn=toRawType(bn).toLowerCase()==="undefined";for(let Vn=n.cachedOptions.size-1;Vn>=0;Vn--){const Nn=z.value[Vn];if(Ln?lodashEs.get(Nn.value,i.valueKey)===lodashEs.get(bn,i.valueKey):Nn.value===bn){wn={value:bn,currentLabel:Nn.currentLabel,isDisabled:Nn.isDisabled};break}}if(wn)return wn;const On=Ln?bn.label:!Bn&&!Mn?bn:"",Gn={value:bn,currentLabel:On};return i.multiple&&(Gn.hitState=!1),Gn},vn=()=>{setTimeout(()=>{const bn=i.valueKey;i.multiple?n.selected.length>0?n.hoverIndex=Math.min.apply(null,n.selected.map(wn=>V.value.findIndex(Ln=>lodashEs.get(Ln,bn)===lodashEs.get(wn,bn)))):n.hoverIndex=-1:n.hoverIndex=V.value.findIndex(wn=>Ue(wn)===Ue(n.selected))},300)},kt=()=>{var bn,wn;de(),(wn=(bn=d.value)==null?void 0:bn.updatePopper)==null||wn.call(bn),i.multiple&&he()},de=()=>{var bn;n.inputWidth=(bn=u.value)==null?void 0:bn.$el.offsetWidth},qe=()=>{i.filterable&&n.query!==n.selectedLabel&&(n.query=n.selectedLabel,xe(n.query))},Et=lodashEs.debounce(()=>{qe()},F.value),In=lodashEs.debounce(bn=>{xe(bn.target.value)},F.value),$e=bn=>{lodashEs.isEqual(i.modelValue,bn)||r.emit(CHANGE_EVENT,bn)},Ce=bn=>{if(bn.code!==EVENT_CODE.delete){if(bn.target.value.length<=0&&!j()){const wn=i.modelValue.slice();wn.pop(),r.emit(UPDATE_MODEL_EVENT,wn),$e(wn)}bn.target.value.length===1&&i.modelValue.length===0&&(n.currentPlaceholder=n.cachedPlaceHolder)}},ue=(bn,wn)=>{const Ln=n.selected.indexOf(wn);if(Ln>-1&&!O.value){const Bn=i.modelValue.slice();Bn.splice(Ln,1),r.emit(UPDATE_MODEL_EVENT,Bn),$e(Bn),r.emit("remove-tag",wn.value)}bn.stopPropagation()},At=bn=>{bn.stopPropagation();const wn=i.multiple?[]:"";if(!isString(wn))for(const Ln of n.selected)Ln.isDisabled&&wn.push(Ln.value);r.emit(UPDATE_MODEL_EVENT,wn),$e(wn),n.hoverIndex=-1,n.visible=!1,r.emit("clear")},Oe=bn=>{var wn;if(i.multiple){const Ln=(i.modelValue||[]).slice(),Bn=Ve(Ln,bn.value);Bn>-1?Ln.splice(Bn,1):(i.multipleLimit<=0||Ln.length<i.multipleLimit)&&Ln.push(bn.value),r.emit(UPDATE_MODEL_EVENT,Ln),$e(Ln),bn.created&&(n.query="",xe(""),n.inputLength=20),i.filterable&&((wn=c.value)==null||wn.focus())}else r.emit(UPDATE_MODEL_EVENT,bn.value),$e(bn.value),n.visible=!1;Pt(),!n.visible&&vue.nextTick(()=>{Dt(bn)})},Ve=(bn=[],wn)=>{if(!isObject(wn))return bn.indexOf(wn);const Ln=i.valueKey;let Bn=-1;return bn.some((Mn,On)=>vue.toRaw(lodashEs.get(Mn,Ln))===lodashEs.get(wn,Ln)?(Bn=On,!0):!1),Bn},Pt=()=>{const bn=c.value||u.value;bn&&(bn==null||bn.focus())},Dt=bn=>{var wn,Ln,Bn,Mn,On;const Gn=Array.isArray(bn)?bn[0]:bn;let Vn=null;if(Gn!=null&&Gn.value){const Nn=V.value.filter(Dn=>Dn.value===Gn.value);Nn.length>0&&(Vn=Nn[0].$el)}if(d.value&&Vn){const Nn=(Mn=(Bn=(Ln=(wn=d.value)==null?void 0:wn.popperRef)==null?void 0:Ln.contentRef)==null?void 0:Bn.querySelector)==null?void 0:Mn.call(Bn,`.${a.be("dropdown","wrap")}`);Nn&&scrollIntoView(Nn,Vn)}(On=p.value)==null||On.handleScroll()},_n=bn=>{n.optionsCount++,n.filteredOptionsCount++,n.options.set(bn.value,bn),n.cachedOptions.set(bn.value,bn)},ie=(bn,wn)=>{n.options.get(bn)===wn&&(n.optionsCount--,n.filteredOptionsCount--,n.options.delete(bn))},oe=bn=>{bn.code!==EVENT_CODE.backspace&&j(!1),n.inputLength=c.value.value.length*15+20,he()},j=bn=>{if(!Array.isArray(n.selected))return;const wn=n.selected[n.selected.length-1];if(wn)return bn===!0||bn===!1?(wn.hitState=bn,bn):(wn.hitState=!wn.hitState,wn.hitState)},k=bn=>{const wn=bn.target.value;if(bn.type==="compositionend")n.isOnComposition=!1,vue.nextTick(()=>xe(wn));else{const Ln=wn[wn.length-1]||"";n.isOnComposition=!isKorean(Ln)}},D=()=>{vue.nextTick(()=>Dt(n.selected))},ae=bn=>{ignoreFocusEvent?ignoreFocusEvent=!1:((i.automaticDropdown||i.filterable)&&(i.filterable&&!n.visible&&(n.menuVisibleOnFocus=!0),n.visible=!0),r.emit("focus",bn))},Ne=()=>{var bn,wn,Ln;n.visible=!1,(bn=u.value)==null||bn.blur(),(Ln=(wn=f.value)==null?void 0:wn.blur)==null||Ln.call(wn)},ze=bn=>{setTimeout(()=>{var wn;if((wn=d.value)!=null&&wn.isFocusInsideContent()){ignoreFocusEvent=!0;return}n.visible&&An(),r.emit("blur",bn)})},hn=bn=>{At(bn)},An=()=>{n.visible=!1},Tn=bn=>{n.visible&&(bn.preventDefault(),bn.stopPropagation(),n.visible=!1)},Rn=bn=>{var wn;bn&&!n.mouseEnter||O.value||(n.menuVisibleOnFocus?n.menuVisibleOnFocus=!1:(!d.value||!d.value.isFocusInsideContent())&&(n.visible=!n.visible),n.visible&&((wn=c.value||u.value)==null||wn.focus()))},Fe=()=>{n.visible?V.value[n.hoverIndex]&&Oe(V.value[n.hoverIndex]):Rn()},Ue=bn=>isObject(bn.value)?lodashEs.get(bn.value,i.valueKey):bn.value,En=vue.computed(()=>V.value.filter(bn=>bn.visible).every(bn=>bn.disabled)),Sn=vue.computed(()=>n.selected.slice(0,i.maxCollapseTags)),xn=vue.computed(()=>n.selected.slice(i.maxCollapseTags)),Pn=bn=>{if(!n.visible){n.visible=!0;return}if(!(n.options.size===0||n.filteredOptionsCount===0)&&!n.isOnComposition&&!En.value){bn==="next"?(n.hoverIndex++,n.hoverIndex===n.options.size&&(n.hoverIndex=0)):bn==="prev"&&(n.hoverIndex--,n.hoverIndex<0&&(n.hoverIndex=n.options.size-1));const wn=V.value[n.hoverIndex];(wn.disabled===!0||wn.states.groupDisabled===!0||!wn.visible)&&Pn(bn),vue.nextTick(()=>Dt(y.value))}};return{optionList:A,optionsArray:V,selectSize:pe,handleResize:kt,debouncedOnInputChange:Et,debouncedQueryChange:In,deletePrevTag:Ce,deleteTag:ue,deleteSelected:At,handleOptionSelect:Oe,scrollToOption:Dt,readonly:x,resetInputHeight:he,showClose:L,iconComponent:M,iconReverse:re,showNewOption:$,collapseTagSize:le,setSelected:Lt,managePlaceholder:_e,selectDisabled:O,emptyText:Y,toggleLastOptionHitState:j,resetInputState:oe,handleComposition:k,onOptionCreate:_n,onOptionDestroy:ie,handleMenuEnter:D,handleFocus:ae,blur:Ne,handleBlur:ze,handleClearClick:hn,handleClose:An,handleKeydownEscape:Tn,toggleMenu:Rn,selectOption:Fe,getValueKey:Ue,navigateOptions:Pn,handleDeleteTooltipTag:(bn,wn)=>{var Ln,Bn;ue(bn,wn),(Bn=(Ln=h.value)==null?void 0:Ln.updatePopper)==null||Bn.call(Ln)},dropMenuVisible:Ie,queryChange:_,groupQueryChange:b,showTagList:Sn,collapseTagList:xn,reference:u,input:c,iOSInput:f,tooltipRef:d,tagTooltipRef:h,tags:v,selectWrapper:g,scrollbar:p,handleMouseEnter:()=>{n.mouseEnter=!0},handleMouseLeave:()=>{n.mouseEnter=!1}}};var ElOptions=vue.defineComponent({name:"ElOptions",emits:["update-options"],setup(i,{slots:n,emit:r}){let o=[];function a(u,c){if(u.length!==c.length)return!1;for(const[f]of u.entries())if(u[f]!=c[f])return!1;return!0}return()=>{var u,c;const f=(u=n.default)==null?void 0:u.call(n),d=[];function h(v){Array.isArray(v)&&v.forEach(g=>{var p,y,_,b;const A=(p=(g==null?void 0:g.type)||{})==null?void 0:p.name;A==="ElOptionGroup"?h(!isString(g.children)&&!Array.isArray(g.children)&&isFunction((y=g.children)==null?void 0:y.default)?(_=g.children)==null?void 0:_.default():g.children):A==="ElOption"?d.push((b=g.props)==null?void 0:b.label):Array.isArray(g.children)&&h(g.children)})}return f.length&&h((c=f[0])==null?void 0:c.children),a(d,o)||(o=d,r("update-options",d)),f}}});const COMPONENT_NAME="ElSelect",_sfc_main$9=vue.defineComponent({name:COMPONENT_NAME,componentName:COMPONENT_NAME,components:{ElInput,ElSelectMenu,ElOption:Option,ElOptions,ElTag,ElScrollbar,ElTooltip,ElIcon},directives:{ClickOutside},props:{name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:{type:String,validator:isValidComponentSize},effect:{type:String,default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:Object,default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:{type:Boolean,default:!1},maxCollapseTags:{type:Number,default:1},teleported:useTooltipContentProps.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:iconPropType,default:circle_close_default},fitInputWidth:{type:Boolean,default:!1},suffixIcon:{type:iconPropType,default:arrow_down_default},tagType:{...tagProps.type,default:"info"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:{type:Boolean,default:!1},suffixTransition:{type:Boolean,default:!0},placement:{type:String,values:Ee,default:"bottom-start"}},emits:[UPDATE_MODEL_EVENT,CHANGE_EVENT,"remove-tag","clear","visible-change","focus","blur"],setup(i,n){const r=useNamespace("select"),o=useNamespace("input"),{t:a}=useLocale(),u=useSelectStates(i),{optionList:c,optionsArray:f,selectSize:d,readonly:h,handleResize:v,collapseTagSize:g,debouncedOnInputChange:p,debouncedQueryChange:y,deletePrevTag:_,deleteTag:b,deleteSelected:A,handleOptionSelect:w,scrollToOption:S,setSelected:T,resetInputHeight:x,managePlaceholder:O,showClose:L,selectDisabled:M,iconComponent:re,iconReverse:F,showNewOption:Y,emptyText:V,toggleLastOptionHitState:z,resetInputState:$,handleComposition:pe,onOptionCreate:le,onOptionDestroy:Ie,handleMenuEnter:he,handleFocus:xe,blur:_e,handleBlur:jt,handleClearClick:Lt,handleClose:Cn,handleKeydownEscape:vn,toggleMenu:kt,selectOption:de,getValueKey:qe,navigateOptions:Et,handleDeleteTooltipTag:In,dropMenuVisible:$e,reference:Ce,input:ue,iOSInput:At,tooltipRef:Oe,tagTooltipRef:Ve,tags:Pt,selectWrapper:Dt,scrollbar:_n,queryChange:ie,groupQueryChange:oe,handleMouseEnter:j,handleMouseLeave:k,showTagList:D,collapseTagList:ae}=useSelect(i,u,n),{focus:Ne}=useFocus(Ce),{inputWidth:ze,selected:hn,inputLength:An,filteredOptionsCount:Tn,visible:Rn,selectedLabel:Fe,hoverIndex:Ue,query:En,inputHovering:Sn,currentPlaceholder:xn,menuVisibleOnFocus:Pn,isOnComposition:kn,options:$n,cachedOptions:Wn,optionsCount:bn,prefixWidth:wn}=vue.toRefs(u),Ln=vue.computed(()=>{const Fn=[r.b()],Zn=vue.unref(d);return Zn&&Fn.push(r.m(Zn)),i.disabled&&Fn.push(r.m("disabled")),Fn}),Bn=vue.computed(()=>[r.e("tags"),r.is("disabled",vue.unref(M))]),Mn=vue.computed(()=>[r.b("tags-wrapper"),{"has-prefix":vue.unref(wn)&&vue.unref(hn).length}]),On=vue.computed(()=>[r.e("input"),r.is(vue.unref(d)),r.is("disabled",vue.unref(M))]),Gn=vue.computed(()=>[r.e("input"),r.is(vue.unref(d)),r.em("input","iOS")]),Vn=vue.computed(()=>[r.is("empty",!i.allowCreate&&!!vue.unref(En)&&vue.unref(Tn)===0)]),Nn=vue.computed(()=>({maxWidth:`${vue.unref(ze)-32}px`,width:"100%"})),Dn=vue.computed(()=>({maxWidth:`${vue.unref(ze)>123?vue.unref(ze)-123:vue.unref(ze)-75}px`})),Hn=vue.computed(()=>({marginLeft:`${vue.unref(wn)}px`,flexGrow:1,width:`${vue.unref(An)/(vue.unref(ze)-32)}%`,maxWidth:`${vue.unref(ze)-42}px`}));vue.provide(selectKey,vue.reactive({props:i,options:$n,optionsArray:f,cachedOptions:Wn,optionsCount:bn,filteredOptionsCount:Tn,hoverIndex:Ue,handleOptionSelect:w,onOptionCreate:le,onOptionDestroy:Ie,selectWrapper:Dt,selected:hn,setSelected:T,queryChange:ie,groupQueryChange:oe})),vue.onMounted(()=>{u.cachedPlaceHolder=xn.value=i.placeholder||(()=>a("el.select.placeholder")),i.multiple&&Array.isArray(i.modelValue)&&i.modelValue.length>0&&(xn.value=""),useResizeObserver(Dt,v),i.remote&&i.multiple&&x(),vue.nextTick(()=>{const Fn=Ce.value&&Ce.value.$el;if(Fn&&(ze.value=Fn.getBoundingClientRect().width,n.slots.prefix)){const Zn=Fn.querySelector(`.${o.e("prefix")}`);wn.value=Math.max(Zn.getBoundingClientRect().width+11,30)}}),T()}),i.multiple&&!Array.isArray(i.modelValue)&&n.emit(UPDATE_MODEL_EVENT,[]),!i.multiple&&Array.isArray(i.modelValue)&&n.emit(UPDATE_MODEL_EVENT,"");const zn=vue.computed(()=>{var Fn,Zn;return(Zn=(Fn=Oe.value)==null?void 0:Fn.popperRef)==null?void 0:Zn.contentRef});return{isIOS,onOptionsRendered:Fn=>{c.value=Fn},prefixWidth:wn,selectSize:d,readonly:h,handleResize:v,collapseTagSize:g,debouncedOnInputChange:p,debouncedQueryChange:y,deletePrevTag:_,deleteTag:b,handleDeleteTooltipTag:In,deleteSelected:A,handleOptionSelect:w,scrollToOption:S,inputWidth:ze,selected:hn,inputLength:An,filteredOptionsCount:Tn,visible:Rn,selectedLabel:Fe,hoverIndex:Ue,query:En,inputHovering:Sn,currentPlaceholder:xn,menuVisibleOnFocus:Pn,isOnComposition:kn,options:$n,resetInputHeight:x,managePlaceholder:O,showClose:L,selectDisabled:M,iconComponent:re,iconReverse:F,showNewOption:Y,emptyText:V,toggleLastOptionHitState:z,resetInputState:$,handleComposition:pe,handleMenuEnter:he,handleFocus:xe,blur:_e,handleBlur:jt,handleClearClick:Lt,handleClose:Cn,handleKeydownEscape:vn,toggleMenu:kt,selectOption:de,getValueKey:qe,navigateOptions:Et,dropMenuVisible:$e,focus:Ne,reference:Ce,input:ue,iOSInput:At,tooltipRef:Oe,popperPaneRef:zn,tags:Pt,selectWrapper:Dt,scrollbar:_n,wrapperKls:Ln,tagsKls:Bn,tagWrapperKls:Mn,inputKls:On,iOSInputKls:Gn,scrollbarKls:Vn,selectTagsStyle:Nn,nsSelect:r,tagTextStyle:Dn,inputStyle:Hn,handleMouseEnter:j,handleMouseLeave:k,showTagList:D,collapseTagList:ae,tagTooltipRef:Ve}}}),_hoisted_1$5=["disabled","autocomplete"],_hoisted_2$3=["disabled"],_hoisted_3$3={style:{height:"100%",display:"flex","justify-content":"center","align-items":"center"}};function _sfc_render$1(i,n,r,o,a,u){const c=vue.resolveComponent("el-tag"),f=vue.resolveComponent("el-tooltip"),d=vue.resolveComponent("el-icon"),h=vue.resolveComponent("el-input"),v=vue.resolveComponent("el-option"),g=vue.resolveComponent("el-options"),p=vue.resolveComponent("el-scrollbar"),y=vue.resolveComponent("el-select-menu"),_=vue.resolveDirective("click-outside");return vue.withDirectives((vue.openBlock(),vue.createElementBlock("div",{ref:"selectWrapper",class:vue.normalizeClass(i.wrapperKls),onMouseenter:n[21]||(n[21]=(...b)=>i.handleMouseEnter&&i.handleMouseEnter(...b)),onMouseleave:n[22]||(n[22]=(...b)=>i.handleMouseLeave&&i.handleMouseLeave(...b)),onClick:n[23]||(n[23]=vue.withModifiers((...b)=>i.toggleMenu&&i.toggleMenu(...b),["stop"]))},[vue.createVNode(f,{ref:"tooltipRef",visible:i.dropMenuVisible,placement:i.placement,teleported:i.teleported,"popper-class":[i.nsSelect.e("popper"),i.popperClass],"popper-options":i.popperOptions,"fallback-placements":["bottom-start","top-start","right","left"],effect:i.effect,pure:"",trigger:"click",transition:`${i.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:i.persistent,onShow:i.handleMenuEnter},{default:vue.withCtx(()=>[vue.createElementVNode("div",{class:"select-trigger",onMouseenter:n[19]||(n[19]=b=>i.inputHovering=!0),onMouseleave:n[20]||(n[20]=b=>i.inputHovering=!1)},[i.multiple?(vue.openBlock(),vue.createElementBlock("div",{key:0,ref:"tags",class:vue.normalizeClass(i.tagsKls),style:vue.normalizeStyle(i.selectTagsStyle)},[i.collapseTags&&i.selected.length?(vue.openBlock(),vue.createBlock(vue.Transition,{key:0,onAfterLeave:i.resetInputHeight},{default:vue.withCtx(()=>[vue.createElementVNode("span",{class:vue.normalizeClass(i.tagWrapperKls)},[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(i.showTagList,b=>(vue.openBlock(),vue.createBlock(c,{key:i.getValueKey(b),closable:!i.selectDisabled&&!b.isDisabled,size:i.collapseTagSize,hit:b.hitState,type:i.tagType,"disable-transitions":"",onClose:A=>i.deleteTag(A,b)},{default:vue.withCtx(()=>[vue.createElementVNode("span",{class:vue.normalizeClass(i.nsSelect.e("tags-text")),style:vue.normalizeStyle(i.tagTextStyle)},vue.toDisplayString(b.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"]))),128)),i.selected.length>i.maxCollapseTags?(vue.openBlock(),vue.createBlock(c,{key:0,closable:!1,size:i.collapseTagSize,type:i.tagType,"disable-transitions":""},{default:vue.withCtx(()=>[i.collapseTagsTooltip?(vue.openBlock(),vue.createBlock(f,{key:0,ref:"tagTooltipRef",disabled:i.dropMenuVisible,"fallback-placements":["bottom","top","right","left"],effect:i.effect,placement:"bottom",teleported:i.teleported},{default:vue.withCtx(()=>[vue.createElementVNode("span",{class:vue.normalizeClass(i.nsSelect.e("tags-text"))},"+ "+vue.toDisplayString(i.selected.length-i.maxCollapseTags),3)]),content:vue.withCtx(()=>[vue.createElementVNode("div",{class:vue.normalizeClass(i.nsSelect.e("collapse-tags"))},[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(i.collapseTagList,b=>(vue.openBlock(),vue.createElementBlock("div",{key:i.getValueKey(b),class:vue.normalizeClass(i.nsSelect.e("collapse-tag"))},[vue.createVNode(c,{class:"in-tooltip",closable:!i.selectDisabled&&!b.isDisabled,size:i.collapseTagSize,hit:b.hitState,type:i.tagType,"disable-transitions":"",style:{margin:"2px"},onClose:A=>i.handleDeleteTooltipTag(A,b)},{default:vue.withCtx(()=>[vue.createElementVNode("span",{class:vue.normalizeClass(i.nsSelect.e("tags-text")),style:vue.normalizeStyle({maxWidth:i.inputWidth-75+"px"})},vue.toDisplayString(b.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"])],2))),128))],2)]),_:1},8,["disabled","effect","teleported"])):(vue.openBlock(),vue.createElementBlock("span",{key:1,class:vue.normalizeClass(i.nsSelect.e("tags-text"))},"+ "+vue.toDisplayString(i.selected.length-i.maxCollapseTags),3))]),_:1},8,["size","type"])):vue.createCommentVNode("v-if",!0)],2)]),_:1},8,["onAfterLeave"])):vue.createCommentVNode("v-if",!0),i.collapseTags?vue.createCommentVNode("v-if",!0):(vue.openBlock(),vue.createBlock(vue.Transition,{key:1,onAfterLeave:i.resetInputHeight},{default:vue.withCtx(()=>[vue.createElementVNode("span",{class:vue.normalizeClass(i.tagWrapperKls),style:vue.normalizeStyle(i.prefixWidth&&i.selected.length?{marginLeft:`${i.prefixWidth}px`}:"")},[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(i.selected,b=>(vue.openBlock(),vue.createBlock(c,{key:i.getValueKey(b),closable:!i.selectDisabled&&!b.isDisabled,size:i.collapseTagSize,hit:b.hitState,type:i.tagType,"disable-transitions":"",onClose:A=>i.deleteTag(A,b)},{default:vue.withCtx(()=>[vue.createElementVNode("span",{class:vue.normalizeClass(i.nsSelect.e("tags-text")),style:vue.normalizeStyle({maxWidth:i.inputWidth-75+"px"})},vue.toDisplayString(b.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"]))),128))],6)]),_:1},8,["onAfterLeave"])),i.filterable&&!i.selectDisabled?vue.withDirectives((vue.openBlock(),vue.createElementBlock("input",{key:2,ref:"input","onUpdate:modelValue":n[0]||(n[0]=b=>i.query=b),type:"text",class:vue.normalizeClass(i.inputKls),disabled:i.selectDisabled,autocomplete:i.autocomplete,style:vue.normalizeStyle(i.inputStyle),onFocus:n[1]||(n[1]=(...b)=>i.handleFocus&&i.handleFocus(...b)),onBlur:n[2]||(n[2]=(...b)=>i.handleBlur&&i.handleBlur(...b)),onKeyup:n[3]||(n[3]=(...b)=>i.managePlaceholder&&i.managePlaceholder(...b)),onKeydown:[n[4]||(n[4]=(...b)=>i.resetInputState&&i.resetInputState(...b)),n[5]||(n[5]=vue.withKeys(vue.withModifiers(b=>i.navigateOptions("next"),["prevent"]),["down"])),n[6]||(n[6]=vue.withKeys(vue.withModifiers(b=>i.navigateOptions("prev"),["prevent"]),["up"])),n[7]||(n[7]=vue.withKeys((...b)=>i.handleKeydownEscape&&i.handleKeydownEscape(...b),["esc"])),n[8]||(n[8]=vue.withKeys(vue.withModifiers((...b)=>i.selectOption&&i.selectOption(...b),["stop","prevent"]),["enter"])),n[9]||(n[9]=vue.withKeys((...b)=>i.deletePrevTag&&i.deletePrevTag(...b),["delete"])),n[10]||(n[10]=vue.withKeys(b=>i.visible=!1,["tab"]))],onCompositionstart:n[11]||(n[11]=(...b)=>i.handleComposition&&i.handleComposition(...b)),onCompositionupdate:n[12]||(n[12]=(...b)=>i.handleComposition&&i.handleComposition(...b)),onCompositionend:n[13]||(n[13]=(...b)=>i.handleComposition&&i.handleComposition(...b)),onInput:n[14]||(n[14]=(...b)=>i.debouncedQueryChange&&i.debouncedQueryChange(...b))},null,46,_hoisted_1$5)),[[vue.vModelText,i.query]]):vue.createCommentVNode("v-if",!0)],6)):vue.createCommentVNode("v-if",!0),vue.createCommentVNode(" fix: https://github.com/element-plus/element-plus/issues/11415 "),i.isIOS&&!i.multiple&&i.filterable&&i.readonly?(vue.openBlock(),vue.createElementBlock("input",{key:1,ref:"iOSInput",class:vue.normalizeClass(i.iOSInputKls),disabled:i.selectDisabled,type:"text"},null,10,_hoisted_2$3)):vue.createCommentVNode("v-if",!0),vue.createVNode(h,{id:i.id,ref:"reference",modelValue:i.selectedLabel,"onUpdate:modelValue":n[15]||(n[15]=b=>i.selectedLabel=b),type:"text",placeholder:typeof i.currentPlaceholder=="function"?i.currentPlaceholder():i.currentPlaceholder,name:i.name,autocomplete:i.autocomplete,size:i.selectSize,disabled:i.selectDisabled,readonly:i.readonly,"validate-event":!1,class:vue.normalizeClass([i.nsSelect.is("focus",i.visible)]),tabindex:i.multiple&&i.filterable?-1:void 0,onFocus:i.handleFocus,onBlur:i.handleBlur,onInput:i.debouncedOnInputChange,onPaste:i.debouncedOnInputChange,onCompositionstart:i.handleComposition,onCompositionupdate:i.handleComposition,onCompositionend:i.handleComposition,onKeydown:[n[16]||(n[16]=vue.withKeys(vue.withModifiers(b=>i.navigateOptions("next"),["stop","prevent"]),["down"])),n[17]||(n[17]=vue.withKeys(vue.withModifiers(b=>i.navigateOptions("prev"),["stop","prevent"]),["up"])),vue.withKeys(vue.withModifiers(i.selectOption,["stop","prevent"]),["enter"]),vue.withKeys(i.handleKeydownEscape,["esc"]),n[18]||(n[18]=vue.withKeys(b=>i.visible=!1,["tab"]))]},vue.createSlots({suffix:vue.withCtx(()=>[i.iconComponent&&!i.showClose?(vue.openBlock(),vue.createBlock(d,{key:0,class:vue.normalizeClass([i.nsSelect.e("caret"),i.nsSelect.e("icon"),i.iconReverse])},{default:vue.withCtx(()=>[(vue.openBlock(),vue.createBlock(vue.resolveDynamicComponent(i.iconComponent)))]),_:1},8,["class"])):vue.createCommentVNode("v-if",!0),i.showClose&&i.clearIcon?(vue.openBlock(),vue.createBlock(d,{key:1,class:vue.normalizeClass([i.nsSelect.e("caret"),i.nsSelect.e("icon")]),onClick:i.handleClearClick},{default:vue.withCtx(()=>[(vue.openBlock(),vue.createBlock(vue.resolveDynamicComponent(i.clearIcon)))]),_:1},8,["class","onClick"])):vue.createCommentVNode("v-if",!0)]),_:2},[i.$slots.prefix?{name:"prefix",fn:vue.withCtx(()=>[vue.createElementVNode("div",_hoisted_3$3,[vue.renderSlot(i.$slots,"prefix")])])}:void 0]),1032,["id","modelValue","placeholder","name","autocomplete","size","disabled","readonly","class","tabindex","onFocus","onBlur","onInput","onPaste","onCompositionstart","onCompositionupdate","onCompositionend","onKeydown"])],32)]),content:vue.withCtx(()=>[vue.createVNode(y,null,{default:vue.withCtx(()=>[vue.withDirectives(vue.createVNode(p,{ref:"scrollbar",tag:"ul","wrap-class":i.nsSelect.be("dropdown","wrap"),"view-class":i.nsSelect.be("dropdown","list"),class:vue.normalizeClass(i.scrollbarKls)},{default:vue.withCtx(()=>[i.showNewOption?(vue.openBlock(),vue.createBlock(v,{key:0,value:i.query,created:!0},null,8,["value"])):vue.createCommentVNode("v-if",!0),vue.createVNode(g,{onUpdateOptions:i.onOptionsRendered},{default:vue.withCtx(()=>[vue.renderSlot(i.$slots,"default")]),_:3},8,["onUpdateOptions"])]),_:3},8,["wrap-class","view-class","class"]),[[vue.vShow,i.options.size>0&&!i.loading]]),i.emptyText&&(!i.allowCreate||i.loading||i.allowCreate&&i.options.size===0)?(vue.openBlock(),vue.createElementBlock(vue.Fragment,{key:0},[i.$slots.empty?vue.renderSlot(i.$slots,"empty",{key:0}):(vue.openBlock(),vue.createElementBlock("p",{key:1,class:vue.normalizeClass(i.nsSelect.be("dropdown","empty"))},vue.toDisplayString(i.emptyText),3))],64)):vue.createCommentVNode("v-if",!0)]),_:3})]),_:3},8,["visible","placement","teleported","popper-class","popper-options","effect","transition","persistent","onShow"])],34)),[[_,i.handleClose,i.popperPaneRef]])}var Select=_export_sfc(_sfc_main$9,[["render",_sfc_render$1],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select.vue"]]);const _sfc_main$8=vue.defineComponent({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:{type:Boolean,default:!1}},setup(i){const n=useNamespace("select"),r=vue.ref(!0),o=vue.getCurrentInstance(),a=vue.ref([]);vue.provide(selectGroupKey,vue.reactive({...vue.toRefs(i)}));const u=vue.inject(selectKey);vue.onMounted(()=>{a.value=c(o.subTree)});const c=d=>{const h=[];return Array.isArray(d.children)&&d.children.forEach(v=>{var g;v.type&&v.type.name==="ElOption"&&v.component&&v.component.proxy?h.push(v.component.proxy):(g=v.children)!=null&&g.length&&h.push(...c(v))}),h},{groupQueryChange:f}=vue.toRaw(u);return vue.watch(f,()=>{r.value=a.value.some(d=>d.visible===!0)},{flush:"post"}),{visible:r,ns:n}}});function _sfc_render(i,n,r,o,a,u){return vue.withDirectives((vue.openBlock(),vue.createElementBlock("ul",{class:vue.normalizeClass(i.ns.be("group","wrap"))},[vue.createElementVNode("li",{class:vue.normalizeClass(i.ns.be("group","title"))},vue.toDisplayString(i.label),3),vue.createElementVNode("li",null,[vue.createElementVNode("ul",{class:vue.normalizeClass(i.ns.b("group"))},[vue.renderSlot(i.$slots,"default")],2)])],2)),[[vue.vShow,i.visible]])}var OptionGroup=_export_sfc(_sfc_main$8,[["render",_sfc_render],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option-group.vue"]]);const ElSelect=withInstall(Select,{Option,OptionGroup}),ElOption=withNoopInstall(Option);withNoopInstall(OptionGroup);const _hoisted_1$4={class:"c-wall-d"},_sfc_main$7=vue.defineComponent({__name:"condition",props:{modelValue:{default:()=>({type:EConditionType.None})}},emits:["update:modelValue"],setup(i,{emit:n}){const r=i,o=vue.computed({get(){return r.modelValue},set(c){n("update:modelValue",c)}}),a=[{label:"大于",val:"greater"},{label:"大于等于",val:">="},{label:"小于",val:"<"},{label:"小于等于",val:"<="},{label:"等于",val:"=="},{label:"不等于",val:"!="},{label:"介于",val:">=,=<"},{label:"不介于",val:"<,>"}],u=c=>{c!=="None"&&(o.value.Relation={key:"",relation:"",val:"",val2:""}),n("update:modelValue",o)};return(c,f)=>{var d,h;return vue.openBlock(),vue.createElementBlock("div",_hoisted_1$4,[vue.createVNode(vue.unref(ElFormItem),{label:"条件",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(ElSelect),{modelValue:vue.unref(o).type,"onUpdate:modelValue":f[0]||(f[0]=v=>vue.unref(o).type=v),onChange:u},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(ElOption),{value:"None",label:"无"}),vue.createVNode(vue.unref(ElOption),{value:"Relation",label:"关系运算"})]),_:1},8,["modelValue"])]),_:1}),vue.unref(o).type==="Relation"?(vue.openBlock(),vue.createBlock(vue.unref(ElFormItem),{key:0,label:"属性",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(ElInput),{modelValue:vue.unref(o).Relation.key,"onUpdate:modelValue":f[1]||(f[1]=v=>vue.unref(o).Relation.key=v)},null,8,["modelValue"])]),_:1})):vue.createCommentVNode("",!0),vue.unref(o).type==="Relation"?(vue.openBlock(),vue.createBlock(vue.unref(ElFormItem),{key:1,label:"关系",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(ElSelect),{modelValue:vue.unref(o).Relation.relation,"onUpdate:modelValue":f[2]||(f[2]=v=>vue.unref(o).Relation.relation=v)},{default:vue.withCtx(()=>[(vue.openBlock(),vue.createElementBlock(vue.Fragment,null,vue.renderList(a,(v,g)=>vue.createVNode(vue.unref(ElOption),{value:v.val,label:v.label,key:"rop"+g},null,8,["value","label"])),64))]),_:1},8,["modelValue"])]),_:1})):vue.createCommentVNode("",!0),vue.unref(o).type==="Relation"?(vue.openBlock(),vue.createBlock(vue.unref(ElFormItem),{key:2,label:"值",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(ElInput),{modelValue:vue.unref(o).Relation.val,"onUpdate:modelValue":f[3]||(f[3]=v=>vue.unref(o).Relation.val=v)},null,8,["modelValue"])]),_:1})):vue.createCommentVNode("",!0),vue.unref(o).type==="Relation"&&(((d=vue.unref(o).Relation)==null?void 0:d.relation)===">=,=<"||((h=vue.unref(o).Relation)==null?void 0:h.relation)==="<,>")?(vue.openBlock(),vue.createBlock(vue.unref(ElFormItem),{key:3,label:"值2",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(ElInput),{modelValue:vue.unref(o).Relation.val2,"onUpdate:modelValue":f[4]||(f[4]=v=>vue.unref(o).Relation.val2=v)},null,8,["modelValue"])]),_:1})):vue.createCommentVNode("",!0)])}}}),condition_vue_vue_type_style_index_0_scoped_f43f10e6_lang="",Condition=_export_sfc$1(_sfc_main$7,[["__scopeId","data-v-f43f10e6"]]),_sfc_main$6=vue.defineComponent({__name:"bind-anchor",props:{modelValue:{},title:{}},emits:["update:modelValue"],setup(i,{emit:n}){const r=i,o=useGlobalStore(pinia),a=vue.computed({get(){return r.modelValue!==null},set(v){let g=null;v&&(g={target_id:"",type:""}),n("update:modelValue",g)}}),u=vue.computed({get(){var v;return((v=r.modelValue)==null?void 0:v.target_id)??void 0},set(v){let g=null;a.value&&(g={target_id:v,type:c.value}),n("update:modelValue",g)}}),c=vue.computed({get(){var v;return((v=r.modelValue)==null?void 0:v.type)??void 0},set(v){let g=null;a.value&&(g={target_id:u.value,type:v}),n("update:modelValue",g)}}),f=vue.computed(()=>o.done_json.filter(v=>v.type!==EDoneJsonType.ConnectionLine).map(v=>({label:v.title,value:v.id}))),d=[{label:"上锚点",value:ELineBindAnchors.TopCenter},{label:"右锚点",value:ELineBindAnchors.Right},{label:"下锚点",value:ELineBindAnchors.BottomCenter},{label:"左锚点",value:ELineBindAnchors.Left}];function h(){vue.nextTick(function(){var v,g;if(a.value&&((v=r.modelValue)!=null&&v.target_id)&&((g=r.modelValue)!=null&&g.type)&&o.handle_svg_info){let p=null;for(let y of o.done_json)y.id===r.modelValue.target_id&&(p=y);p&&(setSvgActualInfo(p),moveAnchors(p))}})}return(v,g)=>(vue.openBlock(),vue.createElementBlock(vue.Fragment,null,[vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:r.title,size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElSwitch),{modelValue:vue.unref(a),"onUpdate:modelValue":g[0]||(g[0]=p=>vue.isRef(a)?a.value=p:null),onChange:h},null,8,["modelValue"])]),_:1},8,["label"]),vue.unref(a)?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElFormItem),{key:0,label:"绑定对象",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElSelect),{modelValue:vue.unref(u),"onUpdate:modelValue":g[1]||(g[1]=p=>vue.isRef(u)?u.value=p:null),onChange:h},{default:vue.withCtx(()=>[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(vue.unref(f),p=>(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElOption),{key:p.value,label:p.label,value:p.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})):vue.createCommentVNode("",!0),vue.unref(a)?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElFormItem),{key:1,label:"绑定位置",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElSelect),{modelValue:vue.unref(c),"onUpdate:modelValue":g[2]||(g[2]=p=>vue.isRef(c)?c.value=p:null),onChange:h},{default:vue.withCtx(()=>[(vue.openBlock(),vue.createElementBlock(vue.Fragment,null,vue.renderList(d,p=>vue.createVNode(vue.unref(elementPlus.ElOption),{key:p.value,label:p.label,value:p.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})):vue.createCommentVNode("",!0)],64))}}),_withScopeId=i=>(vue.pushScopeId("data-v-9b4c5da1"),i=i(),vue.popScopeId(),i),_hoisted_1$3=_withScopeId(()=>vue.createElementVNode("span",{style:{"font-weight":"bold"}},"MQTT",-1)),_hoisted_2$2={key:2},_hoisted_3$2={class:"events-title"},_sfc_main$5=vue.defineComponent({__name:"right-panel",setup(i){const n=useConfigStore(pinia),r=useGlobalStore(pinia),o=useSvgEditLayoutStore(pinia),a=vue.ref("page"),u=vue.ref("style"),c=(_,b)=>{_!=null&&_.common_animations&&(_.common_animations.val=b)};n.$subscribe((_,b)=>{_.storeId==="config-store"&&localStorage.setItem("svg-editor-config",JSON.stringify(b))});const f=vue.ref(numberArray(20)),d=vue.ref(["MQTT"]),h=vue.ref();h.value=()=>{var b,A;let _={type:EEventType.Null,action:EEventAction.Null,target:"",scripts:"",condition:{type:EConditionType.None}};(A=(b=r.handle_svg_info)==null?void 0:b.info)==null||A.events.push(_)};const v=(_,b)=>{_==="ChangeAttr"?b.attrs=[{key:"",val:""}]:delete b.attrs},g=_=>{var b,A;(A=(b=r.handle_svg_info)==null?void 0:b.info)==null||A.events.splice(_,1)},p=()=>{o.center_offset={x:0,y:0}},y=(_,b,A)=>{vue.nextTick(function(){if(r.handle_svg_info){const w=r.done_json[r.handle_svg_info.index];A?setSvgActualInfo(w,A):setSvgActualInfo(w),moveAnchors(w)}})};return(_,b)=>vue.unref(r).intention!=vue.unref(EGlobalStoreIntention).Select?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElTabs),{key:0,class:"mx-2 rightTabs",modelValue:vue.unref(a),"onUpdate:modelValue":b[13]||(b[13]=A=>vue.isRef(a)?a.value=A:null)},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElTabPane),{label:"图纸",name:"page"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElForm),{"label-width":"60px","label-position":"left"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"背景色",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElColorPicker),{modelValue:vue.unref(n).svg.background_color,"onUpdate:modelValue":b[0]||(b[0]=A=>vue.unref(n).svg.background_color=A)},null,8,["modelValue"])]),_:1}),vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"画布",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElButton),{size:"small",onClick:p,icon:vue.unref(aim_default)},{default:vue.withCtx(()=>[vue.createTextVNode("重置位置")]),_:1},8,["icon"])]),_:1}),vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"X轴偏移",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElInputNumber),{modelValue:vue.unref(o).center_offset.x,"onUpdate:modelValue":b[1]||(b[1]=A=>vue.unref(o).center_offset.x=A)},null,8,["modelValue"])]),_:1}),vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"Y轴偏移",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElInputNumber),{modelValue:vue.unref(o).center_offset.y,"onUpdate:modelValue":b[2]||(b[2]=A=>vue.unref(o).center_offset.y=A)},null,8,["modelValue"])]),_:1}),vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"缩放",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElInputNumber),{modelValue:vue.unref(n).svg.scale,"onUpdate:modelValue":b[3]||(b[3]=A=>vue.unref(n).svg.scale=A),step:.1,"step-strictly":""},null,8,["modelValue"])]),_:1}),vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"标尺",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElSwitch),{modelValue:vue.unref(n).svg.ruler,"onUpdate:modelValue":b[4]||(b[4]=A=>vue.unref(n).svg.ruler=A)},null,8,["modelValue"])]),_:1}),vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"网格",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElSwitch),{modelValue:vue.unref(n).svg.grid,"onUpdate:modelValue":b[5]||(b[5]=A=>vue.unref(n).svg.grid=A)},null,8,["modelValue"])]),_:1}),vue.unref(n).svg.grid?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElFormItem),{key:0,label:"网格颜色",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElColorPicker),{modelValue:vue.unref(n).svg.grid_color,"onUpdate:modelValue":b[6]||(b[6]=A=>vue.unref(n).svg.grid_color=A)},null,8,["modelValue"])]),_:1})):vue.createCommentVNode("",!0)]),_:1})]),_:1}),vue.createVNode(vue.unref(elementPlus.ElTabPane),{label:"连线",name:"line"},{default:vue.withCtx(()=>[vue.unref(n).connection_line.props?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElForm),{key:0,"label-width":"60px","label-position":"left"},{default:vue.withCtx(()=>[vue.createVNode(DynamicElFormItem,{"obj-info":vue.unref(n).connection_line.props,hide:["point_position"]},null,8,["obj-info"])]),_:1})):vue.createCommentVNode("",!0),vue.unref(n).connection_line.animations?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElForm),{key:1,"label-width":"60px","label-position":"left"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:vue.unref(n).connection_line.animations.type.title,size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElSelect),{modelValue:vue.unref(n).connection_line.animations.type.val,"onUpdate:modelValue":b[7]||(b[7]=A=>vue.unref(n).connection_line.animations.type.val=A),placeholder:"Select",size:"small"},{default:vue.withCtx(()=>[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(vue.unref(n).connection_line.animations.type.options,A=>(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElOption),{key:A.value,label:A.label,value:A.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"]),vue.unref(n).connection_line.animations.type.val!=="None"?(vue.openBlock(),vue.createBlock(DynamicElFormItem,{key:0,"obj-info":vue.unref(n).connection_line.animations,hide:["type","repeatCount"]},null,8,["obj-info"])):vue.createCommentVNode("",!0)]),_:1})):vue.createCommentVNode("",!0)]),_:1}),vue.createVNode(vue.unref(elementPlus.ElTabPane),{label:"通信",name:"net"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElCollapse),{modelValue:vue.unref(d),"onUpdate:modelValue":b[12]||(b[12]=A=>vue.isRef(d)?d.value=A:null)},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElCollapseItem),{name:"MQTT"},{title:vue.withCtx(()=>[_hoisted_1$3]),default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElForm),{"label-width":"60px","label-position":"left"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"URL",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElInput),{modelValue:vue.unref(n).net.mqtt.url,"onUpdate:modelValue":b[8]||(b[8]=A=>vue.unref(n).net.mqtt.url=A),placeholder:"如 ws://127.0.0.1:4500"},null,8,["modelValue"])]),_:1}),vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"用户名",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElInput),{modelValue:vue.unref(n).net.mqtt.user,"onUpdate:modelValue":b[9]||(b[9]=A=>vue.unref(n).net.mqtt.user=A),placeholder:"username"},null,8,["modelValue"])]),_:1}),vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"密码",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElInput),{modelValue:vue.unref(n).net.mqtt.pwd,"onUpdate:modelValue":b[10]||(b[10]=A=>vue.unref(n).net.mqtt.pwd=A),placeholder:"password"},null,8,["modelValue"])]),_:1}),vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"Topics",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElInput),{modelValue:vue.unref(n).net.mqtt.topics,"onUpdate:modelValue":b[11]||(b[11]=A=>vue.unref(n).net.mqtt.topics=A),placeholder:"topics"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),vue.createVNode(vue.unref(elementPlus.ElTabPane),{label:"结构",name:"tree"},{default:vue.withCtx(()=>[vue.createVNode(_sfc_main$t)]),_:1})]),_:1},8,["modelValue"])):vue.unref(r).intention==vue.unref(EGlobalStoreIntention).Select&&vue.unref(r).handle_svg_info?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElTabs),{key:1,class:"mx-2 rightTabs",modelValue:vue.unref(u),"onUpdate:modelValue":b[34]||(b[34]=A=>vue.isRef(u)?u.value=A:null)},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElTabPane),{label:"外观",name:"style"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElForm),{"label-width":"60px","label-position":"left"},{default:vue.withCtx(()=>{var A,w,S,T;return[vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"标题",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElInput),{modelValue:vue.unref(r).handle_svg_info.info.title,"onUpdate:modelValue":b[14]||(b[14]=x=>vue.unref(r).handle_svg_info.info.title=x)},null,8,["modelValue"])]),_:1}),vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"X坐标",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElInputNumber),{modelValue:vue.unref(r).handle_svg_info.info.x,"onUpdate:modelValue":b[15]||(b[15]=x=>vue.unref(r).handle_svg_info.info.x=x),onChange:y},null,8,["modelValue"])]),_:1}),vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"Y坐标",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElInputNumber),{modelValue:vue.unref(r).handle_svg_info.info.y,"onUpdate:modelValue":b[16]||(b[16]=x=>vue.unref(r).handle_svg_info.info.y=x),onChange:y},null,8,["modelValue"])]),_:1}),vue.withDirectives(vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"X缩放",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElInputNumber),{modelValue:vue.unref(r).handle_svg_info.info.scale_x,"onUpdate:modelValue":b[17]||(b[17]=x=>vue.unref(r).handle_svg_info.info.scale_x=x),onChange:y},null,8,["modelValue"])]),_:1},512),[[vue.vShow,(w=(A=vue.unref(r).handle_svg_info)==null?void 0:A.info)==null?void 0:w.config.can_zoom]]),vue.withDirectives(vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"Y缩放",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElInputNumber),{modelValue:vue.unref(r).handle_svg_info.info.scale_y,"onUpdate:modelValue":b[18]||(b[18]=x=>vue.unref(r).handle_svg_info.info.scale_y=x),onChange:y},null,8,["modelValue"])]),_:1},512),[[vue.vShow,(T=(S=vue.unref(r).handle_svg_info)==null?void 0:S.info)==null?void 0:T.config.can_zoom]]),vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"旋转",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElInputNumber),{modelValue:vue.unref(r).handle_svg_info.info.rotate,"onUpdate:modelValue":b[19]||(b[19]=x=>vue.unref(r).handle_svg_info.info.rotate=x),onChange:y},null,8,["modelValue"])]),_:1}),vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"显示",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElSwitch),{modelValue:vue.unref(r).handle_svg_info.info.display,"onUpdate:modelValue":b[20]||(b[20]=x=>vue.unref(r).handle_svg_info.info.display=x)},null,8,["modelValue"])]),_:1})]}),_:1})]),_:1}),vue.createVNode(vue.unref(elementPlus.ElTabPane),{label:"数据",name:"data"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElForm),{"label-width":"90px","label-position":"left"},{default:vue.withCtx(()=>{var A,w,S,T,x,O,L,M;return[vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"ID",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElInput),{modelValue:vue.unref(r).handle_svg_info.info.id,"onUpdate:modelValue":b[21]||(b[21]=re=>vue.unref(r).handle_svg_info.info.id=re)},null,8,["modelValue"])]),_:1}),(w=(A=vue.unref(r).handle_svg_info)==null?void 0:A.info)!=null&&w.state?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElFormItem),{key:0,class:"props-row",label:"state",size:"small"},{default:vue.withCtx(()=>[vue.createTextVNode(vue.toDisplayString(vue.unref(r).handle_svg_info.info.defaultState),1)]),_:1})):vue.createCommentVNode("",!0),(T=(S=vue.unref(r).handle_svg_info)==null?void 0:S.info)!=null&&T.state?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElFormItem),{key:1,label:"状态",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElSelect),{modelValue:vue.unref(r).handle_svg_info.info.defaultState,"onUpdate:modelValue":b[22]||(b[22]=re=>vue.unref(r).handle_svg_info.info.defaultState=re),placeholder:"Select",size:"small"},{default:vue.withCtx(()=>[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(vue.unref(r).handle_svg_info.info.state,(re,F)=>(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElOption),{key:"state"+String(F),label:re.label,value:F},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})):vue.createCommentVNode("",!0),(x=vue.unref(r).handle_svg_info.info)!=null&&x.hasOwnProperty("tag_slot")?(vue.openBlock(),vue.createElementBlock("div",_hoisted_2$2,[vue.createVNode(vue.unref(elementPlus.ElFormItem),{class:"props-row",label:"tag_slot",size:"small"},{default:vue.withCtx(()=>[vue.createTextVNode(vue.toDisplayString(vue.unref(r).handle_svg_info.info.tag_slot),1)]),_:1}),vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"文字插槽",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElInput),{modelValue:vue.unref(r).handle_svg_info.info.tag_slot,"onUpdate:modelValue":b[23]||(b[23]=re=>vue.unref(r).handle_svg_info.info.tag_slot=re),onInput:b[24]||(b[24]=re=>y(re,null,!0))},null,8,["modelValue"])]),_:1})])):vue.createCommentVNode("",!0),vue.createVNode(DynamicElFormItem,{"obj-info":vue.unref(r).handle_svg_info.info.props,code:"",onChange:b[25]||(b[25]=re=>y(re,null,!0))},null,8,["obj-info"]),vue.unref(r).handle_svg_info.info.animations?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElFormItem),{key:3,label:vue.unref(r).handle_svg_info.info.animations.type.title,size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElSelect),{modelValue:vue.unref(r).handle_svg_info.info.animations.type.val,"onUpdate:modelValue":b[26]||(b[26]=re=>vue.unref(r).handle_svg_info.info.animations.type.val=re),placeholder:"Select",size:"small"},{default:vue.withCtx(()=>[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(vue.unref(r).handle_svg_info.info.animations.type.options,re=>(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElOption),{key:re.value,label:re.label,value:re.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"])):vue.createCommentVNode("",!0),((O=vue.unref(r).handle_svg_info.info.animations)==null?void 0:O.type.val)!=="None"?(vue.openBlock(),vue.createBlock(DynamicElFormItem,{key:4,"obj-info":vue.unref(r).handle_svg_info.info.animations,hide:["type","repeatCount"]},null,8,["obj-info"])):vue.createCommentVNode("",!0),((L=vue.unref(r).handle_svg_info)==null?void 0:L.info.type)===vue.unref(EDoneJsonType).ConnectionLine?(vue.openBlock(),vue.createBlock(_sfc_main$6,{key:5,modelValue:vue.unref(r).handle_svg_info.info.bind_anchors.start,"onUpdate:modelValue":b[27]||(b[27]=re=>vue.unref(r).handle_svg_info.info.bind_anchors.start=re),title:"绑定起点"},null,8,["modelValue"])):vue.createCommentVNode("",!0),((M=vue.unref(r).handle_svg_info)==null?void 0:M.info.type)===vue.unref(EDoneJsonType).ConnectionLine?(vue.openBlock(),vue.createBlock(_sfc_main$6,{key:6,modelValue:vue.unref(r).handle_svg_info.info.bind_anchors.end,"onUpdate:modelValue":b[28]||(b[28]=re=>vue.unref(r).handle_svg_info.info.bind_anchors.end=re),title:"绑定终点"},null,8,["modelValue"])):vue.createCommentVNode("",!0)]}),_:1})]),_:1}),vue.createVNode(vue.unref(elementPlus.ElTabPane),{label:"事件",name:"event"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElButton),{type:"primary",style:{width:"100%"},onClick:vue.unref(h)},{default:vue.withCtx(()=>[vue.createTextVNode("添加事件")]),_:1},8,["onClick"]),vue.createVNode(vue.unref(elementPlus.ElCollapse),{modelValue:vue.unref(f),"onUpdate:modelValue":b[29]||(b[29]=A=>vue.isRef(f)?f.value=A:null)},{default:vue.withCtx(()=>[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(vue.unref(r).handle_svg_info.info.events,(A,w)=>(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElCollapseItem),{name:w,key:"event"+w},{title:vue.withCtx(()=>[vue.createElementVNode("div",_hoisted_3$2,[vue.createElementVNode("span",null,"事件"+vue.toDisplayString(w+1),1),vue.createVNode(vue.unref(elementPlus.ElIcon),{size:16,class:"bt-Icon",onClick:vue.withModifiers(S=>g(w),["stop"])},{default:vue.withCtx(()=>[vue.createVNode(_sfc_main$D,{name:"delete"})]),_:2},1032,["onClick"])])]),default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElForm),{"label-width":"90px","label-position":"left"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"类型",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElSelect),{modelValue:A.type,"onUpdate:modelValue":S=>A.type=S},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElOption),{value:"Click",label:"点击"}),vue.createVNode(vue.unref(elementPlus.ElOption),{value:"Change",label:"值改变"})]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024),vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"行为",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElSelect),{modelValue:A.action,"onUpdate:modelValue":S=>A.action=S,onChange:S=>v(S,A)},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElOption),{value:"ChangeAttr",label:"改变属性"}),vue.createVNode(vue.unref(elementPlus.ElOption),{value:"JavaScript",label:"执行JavaScript"})]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024),A.action==="ChangeAttr"?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElFormItem),{key:0,label:"目标",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElInput),{modelValue:A.target,"onUpdate:modelValue":S=>A.target=S,placeholder:"默认自身"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)):vue.createCommentVNode("",!0),A.action==="ChangeAttr"?(vue.openBlock(),vue.createBlock(List,{key:1,modelValue:A.attrs,"onUpdate:modelValue":S=>A.attrs=S},null,8,["modelValue","onUpdate:modelValue"])):vue.createCommentVNode("",!0),A.action==="JavaScript"?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElFormItem),{key:2,label:"JavaScript",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(_sfc_main$w,{modelValue:A.scripts,"onUpdate:modelValue":S=>A.scripts=S,lang:"javascript"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)):vue.createCommentVNode("",!0),vue.createVNode(Condition,{modelValue:A.condition,"onUpdate:modelValue":S=>A.condition=S},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"])]),_:1}),vue.createVNode(vue.unref(elementPlus.ElTabPane),{label:"动效",name:"animation"},{default:vue.withCtx(()=>{var A;return[(A=vue.unref(r).handle_svg_info)!=null&&A.info.animations?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElForm),{key:0,"label-width":"60px","label-position":"left"},{default:vue.withCtx(()=>[vue.createVNode(DynamicElFormItem,{"obj-info":vue.unref(r).handle_svg_info.info.animations},null,8,["obj-info"])]),_:1})):vue.unref(r).handle_svg_info.info.common_animations?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElForm),{key:1,"label-width":"60px","label-position":"left"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"动画效果",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(CommonAnimate,{onUpdateCommonAniVal:b[30]||(b[30]=w=>{var S;return c((S=vue.unref(r).handle_svg_info)==null?void 0:S.info,w)}),val:vue.unref(r).handle_svg_info.info.common_animations.val},null,8,["val"])]),_:1}),vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"延迟",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElSelect),{modelValue:vue.unref(r).handle_svg_info.info.common_animations.delay,"onUpdate:modelValue":b[31]||(b[31]=w=>vue.unref(r).handle_svg_info.info.common_animations.delay=w)},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElOption),{value:"delay-0s",label:"无"}),vue.createVNode(vue.unref(elementPlus.ElOption),{value:"delay-1s",label:"1秒"}),vue.createVNode(vue.unref(elementPlus.ElOption),{value:"delay-2s",label:"2秒"}),vue.createVNode(vue.unref(elementPlus.ElOption),{value:"delay-3s",label:"3秒"}),vue.createVNode(vue.unref(elementPlus.ElOption),{value:"delay-4s",label:"4秒"}),vue.createVNode(vue.unref(elementPlus.ElOption),{value:"delay-5s",label:"5秒"})]),_:1},8,["modelValue"])]),_:1}),vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"动画速度",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElSelect),{modelValue:vue.unref(r).handle_svg_info.info.common_animations.speed,"onUpdate:modelValue":b[32]||(b[32]=w=>vue.unref(r).handle_svg_info.info.common_animations.speed=w)},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElOption),{value:"slow",label:"慢"}),vue.createVNode(vue.unref(elementPlus.ElOption),{value:"slower",label:"最慢"}),vue.createVNode(vue.unref(elementPlus.ElOption),{value:"fast",label:"快"}),vue.createVNode(vue.unref(elementPlus.ElOption),{value:"faster",label:"最快"})]),_:1},8,["modelValue"])]),_:1}),vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"循环次数",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElSelect),{modelValue:vue.unref(r).handle_svg_info.info.common_animations.repeat,"onUpdate:modelValue":b[33]||(b[33]=w=>vue.unref(r).handle_svg_info.info.common_animations.repeat=w)},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElOption),{value:"repeat-1",label:"一次"}),vue.createVNode(vue.unref(elementPlus.ElOption),{value:"repeat-2",label:"两次"}),vue.createVNode(vue.unref(elementPlus.ElOption),{value:"repeat-3",label:"三次"}),vue.createVNode(vue.unref(elementPlus.ElOption),{value:"infinite",label:"无限次"})]),_:1},8,["modelValue"])]),_:1})]),_:1})):vue.createCommentVNode("",!0)]}),_:1}),vue.createVNode(vue.unref(elementPlus.ElTabPane),{label:"结构",name:"tree"},{default:vue.withCtx(()=>[vue.createVNode(_sfc_main$t)]),_:1})]),_:1},8,["modelValue"])):vue.createCommentVNode("",!0)}}),rightPanel_vue_vue_type_style_index_0_scoped_9b4c5da1_lang="",rightPanel_vue_vue_type_style_index_1_lang="",RightPanel=_export_sfc$1(_sfc_main$5,[["__scopeId","data-v-9b4c5da1"]]),_sfc_main$4=vue.defineComponent({__name:"export-json",setup(i){const n=vue.ref(""),r=useGlobalStore(pinia),o=useSvgEditLayoutStore(pinia),a=useConfigStore(pinia);return vue.onMounted(()=>{const u={layout_center:o.center_offset,config:a.$state,done_json:r.done_json};n.value=JSON.stringify(u,null,2)}),(u,c)=>(vue.openBlock(),vue.createBlock(vue.unref(VAceEditor),{value:vue.unref(n),"onUpdate:value":c[0]||(c[0]=f=>vue.isRef(n)?n.value=f:null),lang:"json",theme:"kr_theme",style:{height:"400px"},options:{useWorker:!0,enableBasicAutocompletion:!0,enableSnippets:!0,enableLiveAutocompletion:!0}},null,8,["value"]))}}),_sfc_main$3=vue.defineComponent({__name:"import-json",setup(i,{expose:n}){const r=vue.ref("");return n({setVal:u=>{r.value=u},onImportJson:()=>{useImportDataModel(r.value)&&elementPlus.ElMessage.success("导入成功")}}),(u,c)=>(vue.openBlock(),vue.createBlock(vue.unref(VAceEditor),{value:vue.unref(r),"onUpdate:value":c[0]||(c[0]=f=>vue.isRef(r)?r.value=f:null),lang:"json",theme:"kr_theme",style:{height:"400px"},options:{useWorker:!0,enableBasicAutocompletion:!0,enableSnippets:!0,enableLiveAutocompletion:!0}},null,8,["value"]))}}),_hoisted_1$2=["onMousedown"],_hoisted_2$1=["onMousedown"],_hoisted_3$1=["title","onMousedown"],_hoisted_4$1={class:"vue-ruler-content-mask"},_sfc_main$2=vue.defineComponent({__name:"vue3-ruler-tool",props:{visible:{type:Boolean,default:!0},stepLength:{default:100}},emits:["onLineMouseUp"],setup(i,{emit:n}){const r=i,o=useSvgEditLayoutStore(pinia),a=useConfigStore(pinia),u=function(){return function($e,Ce,ue){$e&&Ce&&ue&&$e.addEventListener(Ce,ue,!1)}}(),c=function(){return function($e,Ce,ue){$e&&Ce&&$e.removeEventListener(Ce,ue,!1)}}();let f=18,d=vue.ref(0),h=vue.ref(0),v=vue.ref([]),g=vue.ref([]);const p=vue.ref([]);let y=vue.ref(!1),_="",b=vue.ref(-999),A=vue.ref(-999),w=18,S=18,T="";const x=vue.ref(null),O=vue.ref(null),L=vue.ref(null),M=vue.ref(null),re=vue.computed(()=>({width:d.value+"px",height:h.value+"px"})),F=vue.computed(()=>({padding:f+"px 0px 0px "+f+"px"})),Y=vue.computed(()=>{let $e=0,Ce=0;return p.value.map(ue=>{const At=ue.type==="h";return{id:`${ue.type}_${At?$e++:Ce++}`,type:ue.type,title:ue.site.toFixed(0)+"px",[At?"top":"left"]:ue.site*a.svg.scale+f+o.center_offset[At?"y":"x"]*a.svg.scale}})});o.$subscribe($e=>{var Ce,ue,At,Oe;((ue=(Ce=$e.events)==null?void 0:Ce.target)!=null&&ue.hasOwnProperty("left_nav")||(Oe=(At=$e.events)==null?void 0:At.target)!=null&&Oe.hasOwnProperty("right_nav"))&&window.setTimeout(V,420)}),a.$subscribe($e=>{var Ce,ue;(ue=(Ce=$e.events)==null?void 0:Ce.target)!=null&&ue.hasOwnProperty("scale")&&Ie()}),vue.onMounted(()=>{u(document,"mousemove",xe),u(document,"mouseup",Lt),V(),u(window,"resize",z)}),vue.onBeforeUnmount(()=>{c(document,"mousemove",xe),c(document,"mouseup",Lt),c(window,"resize",z)});const V=()=>{le(),Ie()},z=()=>{v.value=[],g.value=[],V()},$=({type:$e,top:Ce,left:ue})=>$e==="h"?{top:Ce+"px"}:{left:ue+"px"},pe=({type:$e,id:Ce})=>$e==="h"?qe(Ce):Et(Ce),le=()=>{const $e=window.getComputedStyle(O.value.parentNode,null);d.value=parseInt($e.getPropertyValue("width")),h.value=parseInt($e.getPropertyValue("height")),w=L.value.clientWidth,S=M.value.clientHeight},Ie=()=>{he(v.value,d.value,o.center_offset.x),he(g.value,h.value,o.center_offset.y)},he=($e,Ce,ue)=>{if($e.length===0)for(let At=0;At<Ce;At+=r.stepLength)At%r.stepLength===0&&$e.push({id:Number((At/a.svg.scale-ue).toFixed(0))});else $e.forEach((At,Oe)=>{At.id=Number((Oe*r.stepLength/a.svg.scale-ue).toFixed(0))})},xe=$e=>{Ie(),_e($e)},_e=$e=>{if(!($e.layerX===$e.x||$e.layerY===$e.y))switch(_){case"x":y.value&&(A.value=$e.layerY);break;case"y":y.value&&(b.value=$e.layerX);break;case"h":y.value&&(A.value=$e.layerY);break;case"v":y.value&&(b.value=$e.layerX);break}},jt=$e=>{y.value=!0,_=$e},Lt=$e=>{Cn($e)},Cn=$e=>{if(y.value){switch(y.value=!1,_){case"x":const Ce=Math.round(($e.layerY-f)/a.svg.scale-o.center_offset.y);if(Ce<=0){A.value=-999;return}p.value.push({type:"h",site:Ce});break;case"y":const ue=Math.round(($e.layerX-f)/a.svg.scale-o.center_offset.x);if(ue<=0){b.value=-999;return}p.value.push({type:"v",site:ue});break;case"h":vn(p.value,Math.round(($e.layerY-f)/a.svg.scale-o.center_offset.y),Math.round(S/a.svg.scale-o.center_offset.y),"h");break;case"v":vn(p.value,Math.round(($e.layerX-f)/a.svg.scale-o.center_offset.x),Math.round(w/a.svg.scale-o.center_offset.x),"v");break}A.value=b.value=-999}},vn=($e,Ce,ue,At)=>{if(Ce<ue){let Oe;Y.value.forEach((Ve,Pt)=>{Ve.id===T&&(Oe=Pt)}),$e.splice(Oe,1)}else{let Oe;Y.value.forEach((Ve,Pt)=>{Ve.id===T&&(Oe=Pt)}),$e.splice(Oe,1,{type:At,site:Ce})}},kt=()=>{jt("x")},de=()=>{jt("y")},qe=$e=>{y.value=!0,_="h",T=$e},Et=$e=>{y.value=!0,_="v",T=$e},In=()=>{n("onLineMouseUp")};return($e,Ce)=>(vue.openBlock(),vue.createElementBlock("div",{style:vue.normalizeStyle(vue.unref(re)),class:"vue-ruler-wrapper",onselectStart:"return false;",ref_key:"el",ref:O},[vue.withDirectives(vue.createElementVNode("section",null,[vue.createElementVNode("div",{ref_key:"horizontalRuler",ref:M,class:"vue-ruler-h",onMousedown:vue.withModifiers(kt,["stop"])},[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(vue.unref(v),(ue,At)=>(vue.openBlock(),vue.createElementBlock("span",{style:vue.normalizeStyle({left:At*$e.stepLength+"px"}),class:"n"},vue.toDisplayString(ue.id),5))),256))],40,_hoisted_1$2),vue.createElementVNode("div",{ref_key:"verticalRuler",ref:L,class:"vue-ruler-v",onMousedown:vue.withModifiers(de,["stop"])},[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(vue.unref(g),(ue,At)=>(vue.openBlock(),vue.createElementBlock("span",{style:vue.normalizeStyle({top:At*$e.stepLength+"px"}),class:"n"},vue.toDisplayString(ue.id),5))),256))],40,_hoisted_2$1),vue.createElementVNode("div",{style:vue.normalizeStyle({top:vue.unref(A)+"px"}),class:"vue-ruler-ref-dot-h"},[vue.createElementVNode("span",null,vue.toDisplayString(Math.round((vue.unref(A)-vue.unref(S))/vue.unref(a).svg.scale)),1)],4),vue.createElementVNode("div",{style:vue.normalizeStyle({left:vue.unref(b)+"px"}),class:"vue-ruler-ref-dot-v"},[vue.createElementVNode("span",null,vue.toDisplayString(Math.round((vue.unref(b)-vue.unref(w))/vue.unref(a).svg.scale)),1)],4),(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(vue.unref(Y),ue=>(vue.openBlock(),vue.createElementBlock("div",{title:ue.title,style:vue.normalizeStyle($(ue)),key:ue.id,class:vue.normalizeClass(`vue-ruler-ref-line-${ue.type}`),onMousedown:At=>pe(ue),onMouseup:In,onContextmenu:Ce[0]||(Ce[0]=(...At)=>vue.unref(preventDefault)&&vue.unref(preventDefault)(...At))},null,46,_hoisted_3$1))),128))],512),[[vue.vShow,r.visible]]),vue.createElementVNode("div",{ref_key:"content",ref:x,class:"vue-ruler-content",style:vue.normalizeStyle(vue.unref(F))},[vue.renderSlot($e.$slots,"default")],4),vue.withDirectives(vue.createElementVNode("div",_hoisted_4$1,null,512),[[vue.vShow,vue.unref(y)]])],4))}}),vue3RulerTool_vue_vue_type_style_index_0_lang="";function fileWrite(i,n=new Date(Date.now()).toLocaleString()){const r=JSON.stringify(i),o=new Blob([r]);let a=document.createElement("a");a.download=n+".json",a.style.display="none",a.href=URL.createObjectURL(o),document.body.appendChild(a),a.click(),document.body.removeChild(a)}function fileRead(i){return new Promise((n,r)=>{let o=new FileReader;o.readAsText(i,"UTF-8"),o.onload=function(a){a&&a.target?n(a.target.result):r("文件读取错误")}})}const _hoisted_1$1={class:"canvas-main-pc"},_sfc_main$1=vue.defineComponent({__name:"index",props:{customToolbar:{},data:{},saveFile:{type:Boolean,default:!1}},emits:["onReturn","onPreview","onSave"],setup(i,{expose:n,emit:r}){const o=i;setEditorLoadTime();const a=useGlobalStore(pinia),u=useSvgEditLayoutStore(pinia),c=useConfigStore(pinia),f=useEditPrivateStore(pinia),d=vue.ref(),h=vue.ref(),v=vue.reactive({[EVisibleConfKey.ExportJson]:!1,[EVisibleConfKey.ImportJson]:!1,[EVisibleConfKey.ImportFile]:!1}),g=(T,x)=>{v[T]=x},p=vue.ref();p.value=()=>{h.value.onImportJson(),g(EVisibleConfKey.ImportJson,!1)};const y=T=>["text/plain","application/json"].indexOf(T.type)<0?(elementPlus.ElMessage.error("仅支持的格式：txt、json"),!1):(fileRead(T).then(x=>{h.value.setVal(x),elementPlus.ElMessage.success("文件读取成功！")}),!1),_=T=>{a.setDoneJson(T)};vue.onMounted(()=>{f.history_doneComponent=[],f.history_now_index=0,o.data?useImportDataModel(o.data):a.setDoneJson([]),a.intention=EGlobalStoreIntention.None});const{appContext:b}=vue.getCurrentInstance();function A(T){r("onReturn",{data:T,isChange:f.getTopBtnUndoStatus})}function w(T){o.saveFile?elementPlus.ElMessageBox.prompt("请输入文件名","保存",{cancelButtonText:"取消",confirmButtonText:"保存"},b).then(x=>{fileWrite(T,x.value.trim()),r("onSave",T)}).catch(x=>{console.log(x)}):r("onSave",T)}function S(){d.value.onCanvasMouseUp()}return n({setGraphNodeJson:_}),(T,x)=>(vue.openBlock(),vue.createElementBlock("div",null,[vue.createVNode(vue.unref(elementPlus.ElContainer),null,{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElHeader),{class:"top-el-header"},{default:vue.withCtx(()=>[vue.createVNode(TopPanel,{onChangeVisible:g,onOnReturn:A,onOnPreview:x[0]||(x[0]=O=>r("onPreview",O)),onOnSave:w})]),_:1}),vue.createVNode(vue.unref(elementPlus.ElContainer),{class:"middle"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElAside),{class:vue.normalizeClass(["side-nav",vue.unref(u).left_nav?"show-nav":"hide-nav"]),style:{"border-right":"1px solid #efefef"}},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElScrollbar),{class:"el-scroll-pc"},{default:vue.withCtx(()=>[vue.createVNode(LeftPanel,{class:"content-left","custom-toolbar":o.customToolbar},null,8,["custom-toolbar"])]),_:1})]),_:1},8,["class"]),vue.createVNode(vue.unref(elementPlus.ElMain),{class:"middle main"},{default:vue.withCtx(()=>[vue.createElementVNode("div",_hoisted_1$1,[vue.createVNode(_sfc_main$2,{class:"canvas-main-pc",visible:vue.unref(c).svg.ruler,onOnLineMouseUp:S},{default:vue.withCtx(()=>[vue.createVNode(CenterPanel,{ref_key:"centerRef",ref:d},null,512)]),_:1},8,["visible"])])]),_:1}),vue.createVNode(vue.unref(elementPlus.ElAside),{class:vue.normalizeClass(["side-nav",vue.unref(u).right_nav?"show-nav":"hide-nav"]),style:{"border-left":"1px solid #efefef"}},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElScrollbar),{class:"el-scroll-pc"},{default:vue.withCtx(()=>[vue.createVNode(RightPanel)]),_:1})]),_:1},8,["class"])]),_:1})]),_:1}),vue.createVNode(vue.unref(elementPlus.ElDialog),{class:"modal-full",modelValue:vue.unref(v).ImportJson,"onUpdate:modelValue":x[2]||(x[2]=O=>vue.unref(v).ImportJson=O),title:"导入数据",width:"60%","destroy-on-close":""},{footer:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElUpload),{beforeUpload:y,style:{display:"inline-flex","margin-right":"12px"},multiple:!1,"show-file-list":!1,limit:1},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElButton),{onClick:x[1]||(x[1]=O=>g(vue.unref(EVisibleConfKey).ImportFile,!0))},{default:vue.withCtx(()=>[vue.createTextVNode("读取文件")]),_:1})]),_:1}),vue.createVNode(vue.unref(elementPlus.ElButton),{type:"primary",onClick:vue.unref(p)},{default:vue.withCtx(()=>[vue.createTextVNode("导入数据")]),_:1},8,["onClick"])]),default:vue.withCtx(()=>[vue.createVNode(_sfc_main$3,{ref_key:"importJsonRef",ref:h},null,512)]),_:1},8,["modelValue"]),vue.createVNode(vue.unref(elementPlus.ElDialog),{class:"modal-full",modelValue:vue.unref(v).ExportJson,"onUpdate:modelValue":x[3]||(x[3]=O=>vue.unref(v).ExportJson=O),title:"导出",width:"60%","destroy-on-close":""},{default:vue.withCtx(()=>[vue.createVNode(_sfc_main$4)]),_:1},8,["modelValue"])]))}}),index_vue_vue_type_style_index_0_scoped_01ceb0c4_lang="",index=_export_sfc$1(_sfc_main$1,[["__scopeId","data-v-01ceb0c4"]]);function commonjsRequire(i){throw new Error('Could not dynamically require "'+i+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var mqtt={exports:{}};(function(i,n){(function(r){i.exports=r()})(function(){return function(){function r(o,a,u){function c(h,v){if(!a[h]){if(!o[h]){var g=typeof commonjsRequire=="function"&&commonjsRequire;if(!v&&g)return g(h,!0);if(f)return f(h,!0);var p=new Error("Cannot find module '"+h+"'");throw p.code="MODULE_NOT_FOUND",p}var y=a[h]={exports:{}};o[h][0].call(y.exports,function(_){var b=o[h][1][_];return c(b||_)},y,y.exports,r,o,a,u)}return a[h].exports}for(var f=typeof commonjsRequire=="function"&&commonjsRequire,d=0;d<u.length;d++)c(u[d]);return c}return r}()({1:[function(r,o,a){var u=this&&this.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(a,"__esModule",{value:!0}),a.TypedEventEmitter=void 0;const c=u(r("events")),f=r("./shared");class d{}a.TypedEventEmitter=d,(0,f.applyMixin)(d,c.default)},{"./shared":17,events:49}],2:[function(r,o,a){(function(u,c){(function(){var f=this&&this.__createBinding||(Object.create?function(V,z,$,pe){pe===void 0&&(pe=$);var le=Object.getOwnPropertyDescriptor(z,$);(!le||("get"in le?!z.__esModule:le.writable||le.configurable))&&(le={enumerable:!0,get:function(){return z[$]}}),Object.defineProperty(V,pe,le)}:function(V,z,$,pe){pe===void 0&&(pe=$),V[pe]=z[$]}),d=this&&this.__setModuleDefault||(Object.create?function(V,z){Object.defineProperty(V,"default",{enumerable:!0,value:z})}:function(V,z){V.default=z}),h=this&&this.__importStar||function(V){if(V&&V.__esModule)return V;var z={};if(V!=null)for(var $ in V)$!=="default"&&Object.prototype.hasOwnProperty.call(V,$)&&f(z,V,$);return d(z,V),z},v=this&&this.__importDefault||function(V){return V&&V.__esModule?V:{default:V}};Object.defineProperty(a,"__esModule",{value:!0});const g=v(r("./topic-alias-recv")),p=v(r("mqtt-packet")),y=v(r("./default-message-id-provider")),_=r("readable-stream"),b=v(r("reinterval")),A=v(r("rfdc/default")),w=h(r("./validations")),S=v(r("debug")),T=v(r("./store")),x=v(r("./handlers")),O=r("./TypedEmitter"),L=u?u.nextTick:V=>{setTimeout(V,0)},M=c.setImmediate||((...V)=>{const z=V.shift();L(()=>{z(...V)})}),re={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:30*1e3,clean:!0,resubscribe:!0,writeCache:!0},F=["ECONNREFUSED","EADDRINUSE","ECONNRESET","ENOTFOUND","ETIMEDOUT"];class Y extends O.TypedEventEmitter{static defaultId(){return`mqttjs_${Math.random().toString(16).substr(2,8)}`}constructor(z,$){super(),this.options=$||{};for(const pe in re)typeof this.options[pe]>"u"?this.options[pe]=re[pe]:this.options[pe]=$[pe];this.log=this.options.log||(0,S.default)("mqttjs:client"),this.noop=this._noop.bind(this),this.log("MqttClient :: options.protocol",$.protocol),this.log("MqttClient :: options.protocolVersion",$.protocolVersion),this.log("MqttClient :: options.username",$.username),this.log("MqttClient :: options.keepalive",$.keepalive),this.log("MqttClient :: options.reconnectPeriod",$.reconnectPeriod),this.log("MqttClient :: options.rejectUnauthorized",$.rejectUnauthorized),this.log("MqttClient :: options.properties.topicAliasMaximum",$.properties?$.properties.topicAliasMaximum:void 0),this.options.clientId=typeof $.clientId=="string"?$.clientId:Y.defaultId(),this.log("MqttClient :: clientId",this.options.clientId),this.options.customHandleAcks=$.protocolVersion===5&&$.customHandleAcks?$.customHandleAcks:(...pe)=>{pe[3](null,0)},this.options.writeCache||(p.default.writeToStream.cacheNumbers=!1),this.streamBuilder=z,this.messageIdProvider=typeof this.options.messageIdProvider>"u"?new y.default:this.options.messageIdProvider,this.outgoingStore=$.outgoingStore||new T.default,this.incomingStore=$.incomingStore||new T.default,this.queueQoSZero=$.queueQoSZero===void 0?!0:$.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.pingTimer=null,this.connected=!1,this.disconnecting=!1,this.reconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this._storeProcessingQueue=[],this.outgoing={},this._firstConnection=!0,$.properties&&$.properties.topicAliasMaximum>0&&($.properties.topicAliasMaximum>65535?this.log("MqttClient :: options.properties.topicAliasMaximum is out of range"):this.topicAliasRecv=new g.default($.properties.topicAliasMaximum)),this.on("connect",()=>{const{queue:pe}=this,le=()=>{const Ie=pe.shift();this.log("deliver :: entry %o",Ie);let he=null;if(!Ie){this._resubscribe();return}he=Ie.packet,this.log("deliver :: call _sendPacket for %o",he);let xe=!0;he.messageId&&he.messageId!==0&&(this.messageIdProvider.register(he.messageId)||(xe=!1)),xe?this._sendPacket(he,_e=>{Ie.cb&&Ie.cb(_e),le()}):(this.log("messageId: %d has already used. The message is skipped and removed.",he.messageId),le())};this.log("connect :: sending queued packets"),le()}),this.on("close",()=>{this.log("close :: connected set to `false`"),this.connected=!1,this.log("close :: clearing connackTimer"),clearTimeout(this.connackTimer),this.log("close :: clearing ping timer"),this.pingTimer!==null&&(this.pingTimer.clear(),this.pingTimer=null),this.topicAliasRecv&&this.topicAliasRecv.clear(),this.log("close :: calling _setupReconnect"),this._setupReconnect()}),this.options.manualConnect||(this.log("MqttClient :: setting up stream"),this.connect())}handleAuth(z,$){$()}handleMessage(z,$){$()}_nextId(){return this.messageIdProvider.allocate()}getLastMessageId(){return this.messageIdProvider.getLastAllocated()}connect(){var z;const $=new _.Writable,pe=p.default.parser(this.options);let le=null;const Ie=[];this.log("connect :: calling method to clear reconnect"),this._clearReconnect(),this.log("connect :: using streamBuilder provided to client to create stream"),this.stream=this.streamBuilder(this),pe.on("packet",Lt=>{this.log("parser :: on packet push to packets array."),Ie.push(Lt)});const he=()=>{this.log("work :: getting next packet in queue");const Lt=Ie.shift();if(Lt)this.log("work :: packet pulled from queue"),(0,x.default)(this,Lt,xe);else{this.log("work :: no packets in queue");const Cn=le;le=null,this.log("work :: done flag is %s",!!Cn),Cn&&Cn()}},xe=()=>{if(Ie.length)L(he);else{const Lt=le;le=null,Lt()}};$._write=(Lt,Cn,vn)=>{le=vn,this.log("writable stream :: parsing buffer"),pe.parse(Lt),he()};const _e=Lt=>{this.log("streamErrorHandler :: error",Lt.message),F.includes(Lt.code)?(this.log("streamErrorHandler :: emitting error"),this.emit("error",Lt)):this.noop(Lt)};this.log("connect :: pipe stream to writable stream"),this.stream.pipe($),this.stream.on("error",_e),this.stream.on("close",()=>{this.log("(%s)stream :: on close",this.options.clientId),this._flushVolatile(),this.log("stream: emit close to MqttClient"),this.emit("close")}),this.log("connect: sending packet `connect`");const jt={cmd:"connect",protocolId:this.options.protocolId,protocolVersion:this.options.protocolVersion,clean:this.options.clean,clientId:this.options.clientId,keepalive:this.options.keepalive,username:this.options.username,password:this.options.password,properties:this.options.properties};if(this.options.will&&(jt.will=Object.assign(Object.assign({},this.options.will),{payload:(z=this.options.will)===null||z===void 0?void 0:z.payload})),this.topicAliasRecv&&(jt.properties||(jt.properties={}),this.topicAliasRecv&&(jt.properties.topicAliasMaximum=this.topicAliasRecv.max)),this._writePacket(jt),pe.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return this.end(()=>this.emit("error",new Error("Packet has no Authentication Method"))),this;if(this.options.properties.authenticationMethod&&this.options.authPacket&&typeof this.options.authPacket=="object"){const Lt=Object.assign({cmd:"auth",reasonCode:0},this.options.authPacket);this._writePacket(Lt)}}return this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout(()=>{this.log("!!connectTimeout hit!! Calling _cleanUp with force `true`"),this._cleanUp(!0)},this.options.connectTimeout),this}publish(z,$,pe,le){this.log("publish :: message `%s` to topic `%s`",$,z);const{options:Ie}=this;typeof pe=="function"&&(le=pe,pe=null),pe=pe||{},pe=Object.assign(Object.assign({},{qos:0,retain:!1,dup:!1}),pe);const{qos:xe,retain:_e,dup:jt,properties:Lt,cbStorePut:Cn}=pe;if(this._checkDisconnecting(le))return this;const vn=()=>{let kt=0;if((xe===1||xe===2)&&(kt=this._nextId(),kt===null))return this.log("No messageId left"),!1;const de={cmd:"publish",topic:z,payload:$,qos:xe,retain:_e,messageId:kt,dup:jt};switch(Ie.protocolVersion===5&&(de.properties=Lt),this.log("publish :: qos",xe),xe){case 1:case 2:this.outgoing[de.messageId]={volatile:!1,cb:le||this.noop},this.log("MqttClient:publish: packet cmd: %s",de.cmd),this._sendPacket(de,void 0,Cn);break;default:this.log("MqttClient:publish: packet cmd: %s",de.cmd),this._sendPacket(de,le,Cn);break}return!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!vn())&&this._storeProcessingQueue.push({invoke:vn,cbStorePut:pe.cbStorePut,callback:le}),this}publishAsync(z,$,pe){return new Promise((le,Ie)=>{this.publish(z,$,pe,(he,xe)=>{he?Ie(he):le(xe)})})}subscribe(z,$,pe){const le=this.options.protocolVersion;typeof $=="function"&&(pe=$),pe=pe||this.noop;let Ie=!1,he=[];typeof z=="string"?(z=[z],he=z):Array.isArray(z)?he=z:typeof z=="object"&&(Ie=z.resubscribe,delete z.resubscribe,he=Object.keys(z));const xe=w.validateTopics(he);if(xe!==null)return M(pe,new Error(`Invalid topic ${xe}`)),this;if(this._checkDisconnecting(pe))return this.log("subscribe: discconecting true"),this;const _e={qos:0};le===5&&(_e.nl=!1,_e.rap=!1,_e.rh=0),$=Object.assign(Object.assign({},_e),$);const jt=$.properties,Lt=[],Cn=(kt,de)=>{if(de=de||$,!Object.prototype.hasOwnProperty.call(this._resubscribeTopics,kt)||this._resubscribeTopics[kt].qos<de.qos||Ie){const qe={topic:kt,qos:de.qos};le===5&&(qe.nl=de.nl,qe.rap=de.rap,qe.rh=de.rh,qe.properties=jt),this.log("subscribe: pushing topic `%s` and qos `%s` to subs list",qe.topic,qe.qos),Lt.push(qe)}};if(Array.isArray(z)?z.forEach(kt=>{this.log("subscribe: array topic %s",kt),Cn(kt)}):Object.keys(z).forEach(kt=>{this.log("subscribe: object topic %s, %o",kt,z[kt]),Cn(kt,z[kt])}),!Lt.length)return pe(null,[]),this;const vn=()=>{const kt=this._nextId();if(kt===null)return this.log("No messageId left"),!1;const de={cmd:"subscribe",subscriptions:Lt,messageId:kt};if(jt&&(de.properties=jt),this.options.resubscribe){this.log("subscribe :: resubscribe true");const qe=[];Lt.forEach(Et=>{if(this.options.reconnectPeriod>0){const In={qos:Et.qos};le===5&&(In.nl=Et.nl||!1,In.rap=Et.rap||!1,In.rh=Et.rh||0,In.properties=Et.properties),this._resubscribeTopics[Et.topic]=In,qe.push(Et.topic)}}),this.messageIdToTopic[de.messageId]=qe}return this.outgoing[de.messageId]={volatile:!0,cb(qe,Et){if(!qe){const{granted:In}=Et;for(let $e=0;$e<In.length;$e+=1)Lt[$e].qos=In[$e]}pe(qe,Lt)}},this.log("subscribe :: call _sendPacket"),this._sendPacket(de),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!vn())&&this._storeProcessingQueue.push({invoke:vn,callback:pe}),this}subscribeAsync(z,$){return new Promise((pe,le)=>{this.subscribe(z,$,(Ie,he)=>{Ie?le(Ie):pe(he)})})}unsubscribe(z,$,pe){typeof z=="string"&&(z=[z]),typeof $=="function"&&(pe=$),pe=pe||this.noop;const le=w.validateTopics(z);if(le!==null)return M(pe,new Error(`Invalid topic ${le}`)),this;if(this._checkDisconnecting(pe))return this;const Ie=()=>{const he=this._nextId();if(he===null)return this.log("No messageId left"),!1;const xe={cmd:"unsubscribe",messageId:he,unsubscriptions:[]};return typeof z=="string"?xe.unsubscriptions=[z]:Array.isArray(z)&&(xe.unsubscriptions=z),this.options.resubscribe&&xe.unsubscriptions.forEach(_e=>{delete this._resubscribeTopics[_e]}),typeof $=="object"&&$.properties&&(xe.properties=$.properties),this.outgoing[xe.messageId]={volatile:!0,cb:pe},this.log("unsubscribe: call _sendPacket"),this._sendPacket(xe),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!Ie())&&this._storeProcessingQueue.push({invoke:Ie,callback:pe}),this}unsubscribeAsync(z,$){return new Promise((pe,le)=>{this.unsubscribe(z,$,(Ie,he)=>{Ie?le(Ie):pe(he)})})}end(z,$,pe){this.log("end :: (%s)",this.options.clientId),(z==null||typeof z!="boolean")&&(pe=pe||$,$=z,z=!1),typeof $!="object"&&(pe=pe||$,$=null),this.log("end :: cb? %s",!!pe),(!pe||typeof pe!="function")&&(pe=this.noop);const le=()=>{this.log("end :: closeStores: closing incoming and outgoing stores"),this.disconnected=!0,this.incomingStore.close(he=>{this.outgoingStore.close(xe=>{if(this.log("end :: closeStores: emitting end"),this.emit("end"),pe){const _e=he||xe;this.log("end :: closeStores: invoking callback with args"),pe(_e)}})}),this._deferredReconnect&&this._deferredReconnect()},Ie=()=>{this.log("end :: (%s) :: finish :: calling _cleanUp with force %s",this.options.clientId,z),this._cleanUp(z,()=>{this.log("end :: finish :: calling process.nextTick on closeStores"),L(le)},$)};return this.disconnecting?(pe(),this):(this._clearReconnect(),this.disconnecting=!0,!z&&Object.keys(this.outgoing).length>0?(this.log("end :: (%s) :: calling finish in 10ms once outgoing is empty",this.options.clientId),this.once("outgoingEmpty",setTimeout.bind(null,Ie,10))):(this.log("end :: (%s) :: immediately calling finish",this.options.clientId),Ie()),this)}endAsync(z,$){return new Promise((pe,le)=>{this.end(z,$,Ie=>{Ie?le(Ie):pe()})})}removeOutgoingMessage(z){if(this.outgoing[z]){const{cb:$}=this.outgoing[z];this._removeOutgoingAndStoreMessage(z,()=>{$(new Error("Message removed"))})}return this}reconnect(z){this.log("client reconnect");const $=()=>{z?(this.options.incomingStore=z.incomingStore,this.options.outgoingStore=z.outgoingStore):(this.options.incomingStore=null,this.options.outgoingStore=null),this.incomingStore=this.options.incomingStore||new T.default,this.outgoingStore=this.options.outgoingStore||new T.default,this.disconnecting=!1,this.disconnected=!1,this._deferredReconnect=null,this._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=$:$(),this}_flushVolatile(){this.outgoing&&(this.log("_flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"),Object.keys(this.outgoing).forEach(z=>{this.outgoing[z].volatile&&typeof this.outgoing[z].cb=="function"&&(this.outgoing[z].cb(new Error("Connection closed")),delete this.outgoing[z])}))}_flush(){this.outgoing&&(this.log("_flush: queue exists? %b",!!this.outgoing),Object.keys(this.outgoing).forEach(z=>{typeof this.outgoing[z].cb=="function"&&(this.outgoing[z].cb(new Error("Connection closed")),delete this.outgoing[z])}))}_removeTopicAliasAndRecoverTopicName(z){let $;z.properties&&($=z.properties.topicAlias);let pe=z.topic.toString();if(this.log("_removeTopicAliasAndRecoverTopicName :: alias %d, topic %o",$,pe),pe.length===0){if(typeof $>"u")return new Error("Unregistered Topic Alias");if(pe=this.topicAliasSend.getTopicByAlias($),typeof pe>"u")return new Error("Unregistered Topic Alias");z.topic=pe}$&&delete z.properties.topicAlias}_checkDisconnecting(z){return this.disconnecting&&(z&&z!==this.noop?z(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting}_reconnect(){this.log("_reconnect: emitting reconnect to client"),this.emit("reconnect"),this.connected?(this.end(()=>{this.connect()}),this.log("client already connected. disconnecting first.")):(this.log("_reconnect: calling connect"),this.connect())}_setupReconnect(){!this.disconnecting&&!this.reconnectTimer&&this.options.reconnectPeriod>0?(this.reconnecting||(this.log("_setupReconnect :: emit `offline` state"),this.emit("offline"),this.log("_setupReconnect :: set `reconnecting` to `true`"),this.reconnecting=!0),this.log("_setupReconnect :: setting reconnectTimer for %d ms",this.options.reconnectPeriod),this.reconnectTimer=setInterval(()=>{this.log("reconnectTimer :: reconnect triggered!"),this._reconnect()},this.options.reconnectPeriod)):this.log("_setupReconnect :: doing nothing...")}_clearReconnect(){this.log("_clearReconnect : clearing reconnect timer"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)}_cleanUp(z,$,pe={}){if($&&(this.log("_cleanUp :: done callback provided for on stream close"),this.stream.on("close",$)),this.log("_cleanUp :: forced? %s",z),z)this.options.reconnectPeriod===0&&this.options.clean&&this._flush(),this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),this.stream.destroy();else{const le=Object.assign({cmd:"disconnect"},pe);this.log("_cleanUp :: (%s) :: call _sendPacket with disconnect packet",this.options.clientId),this._sendPacket(le,()=>{this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),M(()=>{this.stream.end(()=>{this.log("_cleanUp :: (%s) :: stream destroyed",this.options.clientId)})})})}this.disconnecting||(this.log("_cleanUp :: client not disconnecting. Clearing and resetting reconnect."),this._clearReconnect(),this._setupReconnect()),this.pingTimer!==null&&(this.log("_cleanUp :: clearing pingTimer"),this.pingTimer.clear(),this.pingTimer=null),$&&!this.connected&&(this.log("_cleanUp :: (%s) :: removing stream `done` callback `close` listener",this.options.clientId),this.stream.removeListener("close",$),$())}_storeAndSend(z,$,pe){this.log("storeAndSend :: store packet with cmd %s to outgoingStore",z.cmd);let le=z,Ie;if(le.cmd==="publish"&&(le=(0,A.default)(z),Ie=this._removeTopicAliasAndRecoverTopicName(le),Ie))return $&&$(Ie);this.outgoingStore.put(le,he=>{if(he)return $&&$(he);pe(),this._writePacket(z,$)})}_applyTopicAlias(z){if(this.options.protocolVersion===5&&z.cmd==="publish"){let $;z.properties&&($=z.properties.topicAlias);const pe=z.topic.toString();if(this.topicAliasSend)if($){if(pe.length!==0&&(this.log("applyTopicAlias :: register topic: %s - alias: %d",pe,$),!this.topicAliasSend.put(pe,$)))return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",pe,$),new Error("Sending Topic Alias out of range")}else pe.length!==0&&(this.options.autoAssignTopicAlias?($=this.topicAliasSend.getAliasByTopic(pe),$?(z.topic="",z.properties=Object.assign(Object.assign({},z.properties),{topicAlias:$}),this.log("applyTopicAlias :: auto assign(use) topic: %s - alias: %d",pe,$)):($=this.topicAliasSend.getLruAlias(),this.topicAliasSend.put(pe,$),z.properties=Object.assign(Object.assign({},z.properties),{topicAlias:$}),this.log("applyTopicAlias :: auto assign topic: %s - alias: %d",pe,$))):this.options.autoUseTopicAlias&&($=this.topicAliasSend.getAliasByTopic(pe),$&&(z.topic="",z.properties=Object.assign(Object.assign({},z.properties),{topicAlias:$}),this.log("applyTopicAlias :: auto use topic: %s - alias: %d",pe,$))));else if($)return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",pe,$),new Error("Sending Topic Alias out of range")}}_noop(z){this.log("noop ::",z)}_writePacket(z,$){this.log("_writePacket :: packet: %O",z),this.log("_writePacket :: emitting `packetsend`"),this.emit("packetsend",z),this._shiftPingInterval(),this.log("_writePacket :: writing to stream");const pe=p.default.writeToStream(z,this.stream,this.options);this.log("_writePacket :: writeToStream result %s",pe),!pe&&$&&$!==this.noop?(this.log("_writePacket :: handle events on `drain` once through callback."),this.stream.once("drain",$)):$&&(this.log("_writePacket :: invoking cb"),$())}_sendPacket(z,$,pe,le){this.log("_sendPacket :: (%s) ::  start",this.options.clientId),pe=pe||this.noop,$=$||this.noop;const Ie=this._applyTopicAlias(z);if(Ie){$(Ie);return}if(!this.connected){if(z.cmd==="auth"){this._writePacket(z,$);return}this.log("_sendPacket :: client not connected. Storing packet offline."),this._storePacket(z,$,pe);return}if(le){this._writePacket(z,$);return}switch(z.cmd){case"publish":break;case"pubrel":this._storeAndSend(z,$,pe);return;default:this._writePacket(z,$);return}switch(z.qos){case 2:case 1:this._storeAndSend(z,$,pe);break;case 0:default:this._writePacket(z,$);break}this.log("_sendPacket :: (%s) ::  end",this.options.clientId)}_storePacket(z,$,pe){this.log("_storePacket :: packet: %o",z),this.log("_storePacket :: cb? %s",!!$),pe=pe||this.noop;let le=z;if(le.cmd==="publish"){le=(0,A.default)(z);const he=this._removeTopicAliasAndRecoverTopicName(le);if(he)return $&&$(he)}const Ie=le.qos||0;Ie===0&&this.queueQoSZero||le.cmd!=="publish"?this.queue.push({packet:le,cb:$}):Ie>0?($=this.outgoing[le.messageId]?this.outgoing[le.messageId].cb:null,this.outgoingStore.put(le,he=>{if(he)return $&&$(he);pe()})):$&&$(new Error("No connection to broker"))}_setupPingTimer(){this.log("_setupPingTimer :: keepalive %d (seconds)",this.options.keepalive),!this.pingTimer&&this.options.keepalive&&(this.pingResp=!0,this.pingTimer=(0,b.default)(()=>{this._checkPing()},this.options.keepalive*1e3))}_shiftPingInterval(){this.pingTimer&&this.options.keepalive&&this.options.reschedulePings&&this.pingTimer.reschedule(this.options.keepalive*1e3)}_checkPing(){this.log("_checkPing :: checking ping..."),this.pingResp?(this.log("_checkPing :: ping response received. Clearing flag and sending `pingreq`"),this.pingResp=!1,this._sendPacket({cmd:"pingreq"})):(this.log("_checkPing :: calling _cleanUp with force true"),this._cleanUp(!0))}_resubscribe(){this.log("_resubscribe");const z=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||this.options.protocolVersion>=4&&!this.connackPacket.sessionPresent)&&z.length>0)if(this.options.resubscribe)if(this.options.protocolVersion===5){this.log("_resubscribe: protocolVersion 5");for(let $=0;$<z.length;$++){const pe={};pe[z[$]]=this._resubscribeTopics[z[$]],pe.resubscribe=!0,this.subscribe(pe,{properties:pe[z[$]].properties})}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1}_onConnect(z){if(this.disconnected){this.emit("connect",z);return}this.connackPacket=z,this.messageIdProvider.clear(),this._setupPingTimer(),this.connected=!0;const $=()=>{let pe=this.outgoingStore.createStream();const le=()=>{pe.destroy(),pe=null,this._flushStoreProcessingQueue(),Ie()},Ie=()=>{this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={}};this.once("close",le),pe.on("error",xe=>{Ie(),this._flushStoreProcessingQueue(),this.removeListener("close",le),this.emit("error",xe)});const he=()=>{if(!pe)return;const xe=pe.read(1);let _e;if(!xe){pe.once("readable",he);return}if(this._storeProcessing=!0,this._packetIdsDuringStoreProcessing[xe.messageId]){he();return}!this.disconnecting&&!this.reconnectTimer?(_e=this.outgoing[xe.messageId]?this.outgoing[xe.messageId].cb:null,this.outgoing[xe.messageId]={volatile:!1,cb(jt,Lt){_e&&_e(jt,Lt),he()}},this._packetIdsDuringStoreProcessing[xe.messageId]=!0,this.messageIdProvider.register(xe.messageId)?this._sendPacket(xe,void 0,void 0,!0):this.log("messageId: %d has already used.",xe.messageId)):pe.destroy&&pe.destroy()};pe.on("end",()=>{let xe=!0;for(const _e in this._packetIdsDuringStoreProcessing)if(!this._packetIdsDuringStoreProcessing[_e]){xe=!1;break}xe?(Ie(),this.removeListener("close",le),this._invokeAllStoreProcessingQueue(),this.emit("connect",z)):$()}),he()};$()}_invokeStoreProcessingQueue(){if(!this._storeProcessing&&this._storeProcessingQueue.length>0){const z=this._storeProcessingQueue[0];if(z&&z.invoke())return this._storeProcessingQueue.shift(),!0}return!1}_invokeAllStoreProcessingQueue(){for(;this._invokeStoreProcessingQueue(););}_flushStoreProcessingQueue(){for(const z of this._storeProcessingQueue)z.cbStorePut&&z.cbStorePut(new Error("Connection closed")),z.callback&&z.callback(new Error("Connection closed"));this._storeProcessingQueue.splice(0)}_removeOutgoingAndStoreMessage(z,$){delete this.outgoing[z],this.outgoingStore.del({messageId:z},(pe,le)=>{$(pe,le),this.messageIdProvider.deallocate(z),this._invokeStoreProcessingQueue()})}}a.default=Y}).call(this)}).call(this,r("_process"),typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{"./TypedEmitter":1,"./default-message-id-provider":9,"./handlers":13,"./store":18,"./topic-alias-recv":19,"./validations":22,_process:102,debug:30,"mqtt-packet":75,"readable-stream":125,reinterval:131,"rfdc/default":132}],3:[function(r,o,a){var u=this&&this.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(a,"__esModule",{value:!0});const c=r("buffer"),f=r("readable-stream"),d=u(r("duplexify"));let h,v,g,p=!1;function y(){const S=new f.Transform;return S._write=(T,x,O)=>{h.sendSocketMessage({data:T.buffer,success(){O()},fail(){O(new Error)}})},S._flush=T=>{h.closeSocket({success(){T()}})},S}function _(S){S.hostname||(S.hostname="localhost"),S.path||(S.path="/"),S.wsOptions||(S.wsOptions={})}function b(S,T){const x=S.protocol==="alis"?"wss":"ws";let O=`${x}://${S.hostname}${S.path}`;return S.port&&S.port!==80&&S.port!==443&&(O=`${x}://${S.hostname}:${S.port}${S.path}`),typeof S.transformWsUrl=="function"&&(O=S.transformWsUrl(O,S,T)),O}function A(){p||(p=!0,h.onSocketOpen(()=>{g.setReadable(v),g.setWritable(v),g.emit("connect")}),h.onSocketMessage(S=>{if(typeof S.data=="string"){const T=c.Buffer.from(S.data,"base64");v.push(T)}else{const T=new FileReader;T.addEventListener("load",()=>{let x=T.result;x instanceof ArrayBuffer?x=c.Buffer.from(x):x=c.Buffer.from(x,"utf8"),v.push(x)}),T.readAsArrayBuffer(S.data)}}),h.onSocketClose(()=>{g.end(),g.destroy()}),h.onSocketError(S=>{g.destroy(S)}))}const w=(S,T)=>{if(T.hostname=T.hostname||T.host,!T.hostname)throw new Error("Could not determine host. Specify host manually.");const x=T.protocolId==="MQIsdp"&&T.protocolVersion===3?"mqttv3.1":"mqtt";_(T);const O=b(T,S);return h=T.my,h.connectSocket({url:O,protocols:x}),v=y(),g=d.default.obj(),A(),g};a.default=w},{buffer:29,duplexify:32,"readable-stream":125}],4:[function(r,o,a){var u=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(a,"__esModule",{value:!0}),a.connectAsync=void 0;const c=u(r("debug")),f=u(r("url")),d=u(r("../client")),h=u(r("../is-browser")),v=(0,c.default)("mqttjs"),g={};h.default?(g.wx=r("./wx").default,g.wxs=r("./wx").default,g.ali=r("./ali").default,g.alis=r("./ali").default):(g.mqtt=r("./tcp").default,g.tcp=r("./tcp").default,g.ssl=r("./tls").default,g.tls=g.ssl,g.mqtts=r("./tls").default),g.ws=r("./ws").default,g.wss=r("./ws").default;function p(b){let A;b.auth&&(A=b.auth.match(/^(.+):(.+)$/),A?(b.username=A[1],b.password=A[2]):b.username=b.auth)}function y(b,A){if(v("connecting to an MQTT broker..."),typeof b=="object"&&!A&&(A=b,b=""),A=A||{},b&&typeof b=="string"){const T=f.default.parse(b,!0);if(T.port!=null&&(T.port=Number(T.port)),A=Object.assign(Object.assign({},T),A),A.protocol===null)throw new Error("Missing protocol");A.protocol=A.protocol.replace(/:$/,"")}if(p(A),A.query&&typeof A.query.clientId=="string"&&(A.clientId=A.query.clientId),A.cert&&A.key)if(A.protocol){if(["mqtts","wss","wxs","alis"].indexOf(A.protocol)===-1)switch(A.protocol){case"mqtt":A.protocol="mqtts";break;case"ws":A.protocol="wss";break;case"wx":A.protocol="wxs";break;case"ali":A.protocol="alis";break;default:throw new Error(`Unknown protocol for secure connection: "${A.protocol}"!`)}}else throw new Error("Missing secure protocol key");if(!g[A.protocol]){const T=["mqtts","wss"].indexOf(A.protocol)!==-1;A.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter((x,O)=>T&&O%2===0?!1:typeof g[x]=="function")[0]}if(A.clean===!1&&!A.clientId)throw new Error("Missing clientId for unclean clients");A.protocol&&(A.defaultProtocol=A.protocol);function w(T){return A.servers&&((!T._reconnectCount||T._reconnectCount===A.servers.length)&&(T._reconnectCount=0),A.host=A.servers[T._reconnectCount].host,A.port=A.servers[T._reconnectCount].port,A.protocol=A.servers[T._reconnectCount].protocol?A.servers[T._reconnectCount].protocol:A.defaultProtocol,A.hostname=A.host,T._reconnectCount++),v("calling streambuilder for",A.protocol),g[A.protocol](T,A)}const S=new d.default(w,A);return S.on("error",()=>{}),S}function _(b,A,w=!0){return new Promise((S,T)=>{const x=y(b,A),O={connect:M=>{L(),S(x)},end:()=>{L(),S(x)},error:M=>{L(),x.end(),T(M)}};w===!1&&(O.close=()=>{O.error(new Error("Couldn't connect to server"))});function L(){Object.keys(O).forEach(M=>{x.off(M,O[M])})}Object.keys(O).forEach(M=>{x.on(M,O[M])})})}a.connectAsync=_,a.default=y},{"../client":2,"../is-browser":16,"./ali":3,"./tcp":5,"./tls":6,"./ws":7,"./wx":8,debug:30,url:137}],5:[function(r,o,a){var u=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(a,"__esModule",{value:!0});const c=u(r("net")),d=(0,u(r("debug")).default)("mqttjs:tcp"),h=(v,g)=>{g.port=g.port||1883,g.hostname=g.hostname||g.host||"localhost";const{port:p}=g,y=g.hostname;return d("port %d and host %s",p,y),c.default.createConnection(p,y)};a.default=h},{debug:30,net:26}],6:[function(r,o,a){var u=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(a,"__esModule",{value:!0});const c=u(r("tls")),f=u(r("net")),h=(0,u(r("debug")).default)("mqttjs:tls"),v=(g,p)=>{p.port=p.port||8883,p.host=p.hostname||p.host||"localhost",f.default.isIP(p.host)===0&&(p.servername=p.host),p.rejectUnauthorized=p.rejectUnauthorized!==!1,delete p.path,h("port %d host %s rejectUnauthorized %b",p.port,p.host,p.rejectUnauthorized);const y=c.default.connect(p);y.on("secureConnect",()=>{p.rejectUnauthorized&&!y.authorized?y.emit("error",new Error("TLS not authorized")):y.removeListener("error",_)});function _(b){p.rejectUnauthorized&&g.emit("error",b),y.end()}return y.on("error",_),y};a.default=v},{debug:30,net:26,tls:26}],7:[function(r,o,a){var u=this&&this.__importDefault||function(O){return O&&O.__esModule?O:{default:O}};Object.defineProperty(a,"__esModule",{value:!0});const c=r("buffer"),f=u(r("ws")),d=u(r("debug")),h=u(r("duplexify")),v=r("readable-stream"),g=u(r("../is-browser")),p=(0,d.default)("mqttjs:ws"),y=["rejectUnauthorized","ca","cert","key","pfx","passphrase"];function _(O,L){let M=`${O.protocol}://${O.hostname}:${O.port}${O.path}`;return typeof O.transformWsUrl=="function"&&(M=O.transformWsUrl(M,O,L)),M}function b(O){const L=O;return O.hostname||(L.hostname="localhost"),O.port||(O.protocol==="wss"?L.port=443:L.port=80),O.path||(L.path="/"),O.wsOptions||(L.wsOptions={}),!g.default&&O.protocol==="wss"&&y.forEach(M=>{Object.prototype.hasOwnProperty.call(O,M)&&!Object.prototype.hasOwnProperty.call(O.wsOptions,M)&&(L.wsOptions[M]=O[M])}),L}function A(O){const L=b(O);if(L.hostname||(L.hostname=L.host),!L.hostname){if(typeof document>"u")throw new Error("Could not determine host. Specify host manually.");const M=new URL(document.URL);L.hostname=M.hostname,L.port||(L.port=Number(M.port))}return L.objectMode===void 0&&(L.objectMode=!(L.binary===!0||L.binary===void 0)),L}function w(O,L,M){p("createWebSocket"),p(`protocol: ${M.protocolId} ${M.protocolVersion}`);const re=M.protocolId==="MQIsdp"&&M.protocolVersion===3?"mqttv3.1":"mqtt";p(`creating new Websocket for url: ${L} and protocol: ${re}`);let F;return M.createWebsocket?F=M.createWebsocket(L,[re],M):F=new f.default(L,[re],M.wsOptions),F}function S(O,L){const M=L.protocolId==="MQIsdp"&&L.protocolVersion===3?"mqttv3.1":"mqtt",re=_(L,O);let F;return L.createWebsocket?F=L.createWebsocket(re,[M],L):F=new WebSocket(re,[M]),F.binaryType="arraybuffer",F}const T=(O,L)=>{p("streamBuilder");const M=b(L),re=_(M,O),F=w(O,re,M),Y=f.default.createWebSocketStream(F,M.wsOptions);return Y.url=re,F.on("close",()=>{Y.destroy()}),Y},x=(O,L)=>{p("browserStreamBuilder");let M;const F=A(L).browserBufferSize||1024*512,Y=L.browserBufferTimeout||1e3,V=!L.objectMode,z=S(O,L),$=le(L,Lt,Cn);L.objectMode||($._writev=jt),$.on("close",()=>{z.close()});const pe=typeof z.addEventListener<"u";z.readyState===z.OPEN?M=$:(M=(0,h.default)(void 0,void 0,L),L.objectMode||(M._writev=jt),pe?z.addEventListener("open",Ie):z.onopen=Ie),M.socket=z,pe?(z.addEventListener("close",he),z.addEventListener("error",xe),z.addEventListener("message",_e)):(z.onclose=he,z.onerror=xe,z.onmessage=_e);function le(vn,kt,de){const qe=new v.Transform({objectMode:vn.objectMode});return qe._write=kt,qe._flush=de,qe}function Ie(){M.setReadable($),M.setWritable($),M.emit("connect")}function he(){M.end(),M.destroy()}function xe(vn){M.destroy(vn)}function _e(vn){let{data:kt}=vn;kt instanceof ArrayBuffer?kt=c.Buffer.from(kt):kt=c.Buffer.from(kt,"utf8"),$.push(kt)}function jt(vn,kt){const de=new Array(vn.length);for(let qe=0;qe<vn.length;qe++)typeof vn[qe].chunk=="string"?de[qe]=c.Buffer.from(vn[qe],"utf8"):de[qe]=vn[qe].chunk;this._write(c.Buffer.concat(de),"binary",kt)}function Lt(vn,kt,de){z.bufferedAmount>F&&setTimeout(Lt,Y,vn,kt,de),V&&typeof vn=="string"&&(vn=c.Buffer.from(vn,"utf8"));try{z.send(vn)}catch(qe){return de(qe)}de()}function Cn(vn){z.close(),vn()}return M};a.default=g.default?x:T},{"../is-browser":16,buffer:29,debug:30,duplexify:32,"readable-stream":125,ws:141}],8:[function(r,o,a){var u=this&&this.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(a,"__esModule",{value:!0});const c=r("buffer"),f=r("readable-stream"),d=u(r("duplexify"));let h,v,g;function p(){const w=new f.Transform;return w._write=(S,T,x)=>{h.send({data:S.buffer,success(){x()},fail(O){x(new Error(O))}})},w._flush=S=>{h.close({success(){S()}})},w}function y(w){w.hostname||(w.hostname="localhost"),w.path||(w.path="/"),w.wsOptions||(w.wsOptions={})}function _(w,S){const T=w.protocol==="wxs"?"wss":"ws";let x=`${T}://${w.hostname}${w.path}`;return w.port&&w.port!==80&&w.port!==443&&(x=`${T}://${w.hostname}:${w.port}${w.path}`),typeof w.transformWsUrl=="function"&&(x=w.transformWsUrl(x,w,S)),x}function b(){h.onOpen(()=>{g.setReadable(v),g.setWritable(v),g.emit("connect")}),h.onMessage(w=>{let{data:S}=w;S instanceof ArrayBuffer?S=c.Buffer.from(S):S=c.Buffer.from(S,"utf8"),v.push(S)}),h.onClose(()=>{g.emit("close"),g.end(),g.destroy()}),h.onError(w=>{g.destroy(new Error(w.errMsg))})}const A=(w,S)=>{if(S.hostname=S.hostname||S.host,!S.hostname)throw new Error("Could not determine host. Specify host manually.");const T=S.protocolId==="MQIsdp"&&S.protocolVersion===3?"mqttv3.1":"mqtt";y(S);const x=_(S,w);h=wx.connectSocket({url:x,protocols:[T]}),v=p(),g=d.default.obj(),g._destroy=(L,M)=>{h.close({success(){M&&M(L)}})};const O=g.destroy;return g.destroy=()=>{g.destroy=O,setTimeout(()=>{h.close({fail(){g._destroy(new Error)}})},0)},b(),g};a.default=A},{buffer:29,duplexify:32,"readable-stream":125}],9:[function(r,o,a){Object.defineProperty(a,"__esModule",{value:!0});class u{constructor(){this.nextId=Math.max(1,Math.floor(Math.random()*65535))}allocate(){const f=this.nextId++;return this.nextId===65536&&(this.nextId=1),f}getLastAllocated(){return this.nextId===1?65535:this.nextId-1}register(f){return!0}deallocate(f){}clear(){}}a.default=u},{}],10:[function(r,o,a){Object.defineProperty(a,"__esModule",{value:!0}),a.ReasonCodes=void 0,a.ReasonCodes={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};const u=(c,f)=>{const{messageId:d}=f,h=f.cmd;let v=null;const g=c.outgoing[d]?c.outgoing[d].cb:null;let p;if(!g){c.log("_handleAck :: Server sent an ack in error. Ignoring.");return}switch(c.log("_handleAck :: packet type",h),h){case"pubcomp":case"puback":{const y=f.reasonCode;y&&y>0&&y!==16?(p=new Error(`Publish error: ${a.ReasonCodes[y]}`),p.code=y,c._removeOutgoingAndStoreMessage(d,()=>{g(p,f)})):c._removeOutgoingAndStoreMessage(d,g);break}case"pubrec":{v={cmd:"pubrel",qos:2,messageId:d};const y=f.reasonCode;y&&y>0&&y!==16?(p=new Error(`Publish error: ${a.ReasonCodes[y]}`),p.code=y,c._removeOutgoingAndStoreMessage(d,()=>{g(p,f)})):c._sendPacket(v);break}case"suback":{delete c.outgoing[d],c.messageIdProvider.deallocate(d);const y=f.granted;for(let _=0;_<y.length;_++)if(y[_]&128){const b=c.messageIdToTopic[d];b&&b.forEach(A=>{delete c._resubscribeTopics[A]})}delete c.messageIdToTopic[d],c._invokeStoreProcessingQueue(),g(null,f);break}case"unsuback":{delete c.outgoing[d],c.messageIdProvider.deallocate(d),c._invokeStoreProcessingQueue(),g(null);break}default:c.emit("error",new Error("unrecognized packet type"))}c.disconnecting&&Object.keys(c.outgoing).length===0&&c.emit("outgoingEmpty")};a.default=u},{}],11:[function(r,o,a){Object.defineProperty(a,"__esModule",{value:!0});const u=r("../shared"),c=r("./ack"),f=(d,h)=>{const{options:v}=d,g=v.protocolVersion,p=g===5?h.reasonCode:h.returnCode;if(g!==5){const y=new u.ErrorWithReasonCode(`Protocol error: Auth packets are only supported in MQTT 5. Your version:${g}`,p);d.emit("error",y);return}d.handleAuth(h,(y,_)=>{if(y){d.emit("error",y);return}if(p===24)d.reconnecting=!1,d._sendPacket(_);else{const b=new u.ErrorWithReasonCode(`Connection refused: ${c.ReasonCodes[p]}`,p);d.emit("error",b)}})};a.default=f},{"../shared":17,"./ack":10}],12:[function(r,o,a){var u=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(a,"__esModule",{value:!0});const c=r("./ack"),f=u(r("../topic-alias-send")),d=r("../shared"),h=(v,g)=>{v.log("_handleConnack");const{options:p}=v,_=p.protocolVersion===5?g.reasonCode:g.returnCode;if(clearTimeout(v.connackTimer),delete v.topicAliasSend,g.properties){if(g.properties.topicAliasMaximum){if(g.properties.topicAliasMaximum>65535){v.emit("error",new Error("topicAliasMaximum from broker is out of range"));return}g.properties.topicAliasMaximum>0&&(v.topicAliasSend=new f.default(g.properties.topicAliasMaximum))}g.properties.serverKeepAlive&&p.keepalive&&(p.keepalive=g.properties.serverKeepAlive,v._shiftPingInterval()),g.properties.maximumPacketSize&&(p.properties||(p.properties={}),p.properties.maximumPacketSize=g.properties.maximumPacketSize)}if(_===0)v.reconnecting=!1,v._onConnect(g);else if(_>0){const b=new d.ErrorWithReasonCode(`Connection refused: ${c.ReasonCodes[_]}`,_);v.emit("error",b)}};a.default=h},{"../shared":17,"../topic-alias-send":20,"./ack":10}],13:[function(r,o,a){var u=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(a,"__esModule",{value:!0});const c=u(r("./publish")),f=u(r("./auth")),d=u(r("./connack")),h=u(r("./ack")),v=u(r("./pubrel")),g=(p,y,_)=>{const{options:b}=p;if(b.protocolVersion===5&&b.properties&&b.properties.maximumPacketSize&&b.properties.maximumPacketSize<y.length)return p.emit("error",new Error(`exceeding packets size ${y.cmd}`)),p.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),p;switch(p.log("_handlePacket :: emitting packetreceive"),p.emit("packetreceive",y),y.cmd){case"publish":(0,c.default)(p,y,_);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":(0,h.default)(p,y),_();break;case"pubrel":(0,v.default)(p,y,_);break;case"connack":(0,d.default)(p,y),_();break;case"auth":(0,f.default)(p,y),_();break;case"pingresp":p.pingResp=!0,_();break;case"disconnect":p.emit("disconnect",y),_();break;default:p.log("_handlePacket :: unknown command"),_();break}};a.default=g},{"./ack":10,"./auth":11,"./connack":12,"./publish":14,"./pubrel":15}],14:[function(r,o,a){Object.defineProperty(a,"__esModule",{value:!0});const u=[0,16,128,131,135,144,145,151,153],c=(f,d,h)=>{f.log("handlePublish: packet %o",d),h=typeof h<"u"?h:f.noop;let v=d.topic.toString();const g=d.payload,{qos:p}=d,{messageId:y}=d,{options:_}=f;if(f.options.protocolVersion===5){let b;if(d.properties&&(b=d.properties.topicAlias),typeof b<"u")if(v.length===0)if(b>0&&b<=65535){const A=f.topicAliasRecv.getTopicByAlias(b);if(A)v=A,f.log("handlePublish :: topic complemented by alias. topic: %s - alias: %d",v,b);else{f.log("handlePublish :: unregistered topic alias. alias: %d",b),f.emit("error",new Error("Received unregistered Topic Alias"));return}}else{f.log("handlePublish :: topic alias out of range. alias: %d",b),f.emit("error",new Error("Received Topic Alias is out of range"));return}else if(f.topicAliasRecv.put(v,b))f.log("handlePublish :: registered topic: %s - alias: %d",v,b);else{f.log("handlePublish :: topic alias out of range. alias: %d",b),f.emit("error",new Error("Received Topic Alias is out of range"));return}}switch(f.log("handlePublish: qos %d",p),p){case 2:{_.customHandleAcks(v,g,d,(b,A)=>{if(typeof b=="number"&&(A=b,b=null),b)return f.emit("error",b);if(u.indexOf(A)===-1)return f.emit("error",new Error("Wrong reason code for pubrec"));A?f._sendPacket({cmd:"pubrec",messageId:y,reasonCode:A},h):f.incomingStore.put(d,()=>{f._sendPacket({cmd:"pubrec",messageId:y},h)})});break}case 1:{_.customHandleAcks(v,g,d,(b,A)=>{if(typeof b=="number"&&(A=b,b=null),b)return f.emit("error",b);if(u.indexOf(A)===-1)return f.emit("error",new Error("Wrong reason code for puback"));A||f.emit("message",v,g,d),f.handleMessage(d,w=>{if(w)return h&&h(w);f._sendPacket({cmd:"puback",messageId:y,reasonCode:A},h)})});break}case 0:f.emit("message",v,g,d),f.handleMessage(d,h);break;default:f.log("handlePublish: unknown QoS. Doing nothing.");break}};a.default=c},{}],15:[function(r,o,a){Object.defineProperty(a,"__esModule",{value:!0});const u=(c,f,d)=>{c.log("handling pubrel packet");const h=typeof d<"u"?d:c.noop,{messageId:v}=f,g={cmd:"pubcomp",messageId:v};c.incomingStore.get(f,(p,y)=>{p?c._sendPacket(g,h):(c.emit("message",y.topic,y.payload,y),c.handleMessage(y,_=>{if(_)return h(_);c.incomingStore.del(y,c.noop),c._sendPacket(g,h)}))})};a.default=u},{}],16:[function(r,o,a){Object.defineProperty(a,"__esModule",{value:!0});const u=typeof window<"u"&&typeof window.document<"u"||typeof self<"u"&&typeof self.postMessage=="function";a.default=u},{}],17:[function(r,o,a){Object.defineProperty(a,"__esModule",{value:!0}),a.applyMixin=a.ErrorWithReasonCode=void 0;class u extends Error{constructor(d,h){super(d),this.code=h,Object.setPrototypeOf(this,u.prototype),Object.getPrototypeOf(this).name="ErrorWithReasonCode"}}a.ErrorWithReasonCode=u;function c(f,d,h=!1){var v;const g=[d];for(;;){const p=g[0],y=Object.getPrototypeOf(p);if(y!=null&&y.prototype)g.unshift(y);else break}for(const p of g)for(const y of Object.getOwnPropertyNames(p.prototype))(h||y!=="constructor")&&Object.defineProperty(f.prototype,y,(v=Object.getOwnPropertyDescriptor(p.prototype,y))!==null&&v!==void 0?v:Object.create(null))}a.applyMixin=c},{}],18:[function(r,o,a){Object.defineProperty(a,"__esModule",{value:!0});const u=r("readable-stream"),c={objectMode:!0},f={clean:!0};class d{constructor(v){this.options=v||{},this.options=Object.assign(Object.assign({},f),v),this._inflights=new Map}put(v,g){return this._inflights.set(v.messageId,v),g&&g(),this}createStream(){const v=new u.Readable(c),g=[];let p=!1,y=0;return this._inflights.forEach((_,b)=>{g.push(_)}),v._read=()=>{!p&&y<g.length?v.push(g[y++]):v.push(null)},v.destroy=_=>{if(!p)return p=!0,setTimeout(()=>{v.emit("close")},0),v},v}del(v,g){const p=this._inflights.get(v.messageId);return p?(this._inflights.delete(v.messageId),g(null,p)):g&&g(new Error("missing packet")),this}get(v,g){const p=this._inflights.get(v.messageId);return p?g(null,p):g&&g(new Error("missing packet")),this}close(v){this.options.clean&&(this._inflights=null),v&&v()}}a.default=d},{"readable-stream":125}],19:[function(r,o,a){Object.defineProperty(a,"__esModule",{value:!0});class u{constructor(f){this.aliasToTopic={},this.max=f}put(f,d){return d===0||d>this.max?!1:(this.aliasToTopic[d]=f,this.length=Object.keys(this.aliasToTopic).length,!0)}getTopicByAlias(f){return this.aliasToTopic[f]}clear(){this.aliasToTopic={}}}a.default=u},{}],20:[function(r,o,a){var u=this&&this.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(a,"__esModule",{value:!0});const c=u(r("lru-cache")),f=r("number-allocator");class d{constructor(v){v>0&&(this.aliasToTopic=new c.default({max:v}),this.topicToAlias={},this.numberAllocator=new f.NumberAllocator(1,v),this.max=v,this.length=0)}put(v,g){if(g===0||g>this.max)return!1;const p=this.aliasToTopic.get(g);return p&&delete this.topicToAlias[p],this.aliasToTopic.set(g,v),this.topicToAlias[v]=g,this.numberAllocator.use(g),this.length=this.aliasToTopic.size,!0}getTopicByAlias(v){return this.aliasToTopic.get(v)}getAliasByTopic(v){const g=this.topicToAlias[v];return typeof g<"u"&&this.aliasToTopic.get(g),g}clear(){this.aliasToTopic.clear(),this.topicToAlias={},this.numberAllocator.clear(),this.length=0}getLruAlias(){const v=this.numberAllocator.firstVacant();return v||[...this.aliasToTopic.keys()][this.aliasToTopic.size-1]}}a.default=d},{"lru-cache":72,"number-allocator":98}],21:[function(r,o,a){Object.defineProperty(a,"__esModule",{value:!0});const u=r("number-allocator");class c{constructor(){this.numberAllocator=new u.NumberAllocator(1,65535)}allocate(){return this.lastId=this.numberAllocator.alloc(),this.lastId}getLastAllocated(){return this.lastId}register(d){return this.numberAllocator.use(d)}deallocate(d){this.numberAllocator.free(d)}clear(){this.numberAllocator.clear()}}a.default=c},{"number-allocator":98}],22:[function(r,o,a){Object.defineProperty(a,"__esModule",{value:!0}),a.validateTopics=a.validateTopic=void 0;function u(f){const d=f.split("/");for(let h=0;h<d.length;h++)if(d[h]!=="+"){if(d[h]==="#")return h===d.length-1;if(d[h].indexOf("+")!==-1||d[h].indexOf("#")!==-1)return!1}return!0}a.validateTopic=u;function c(f){if(f.length===0)return"empty_topic_list";for(let d=0;d<f.length;d++)if(!u(f[d]))return f[d];return null}a.validateTopics=c},{}],23:[function(r,o,a){var u=this&&this.__createBinding||(Object.create?function(A,w,S,T){T===void 0&&(T=S);var x=Object.getOwnPropertyDescriptor(w,S);(!x||("get"in x?!w.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return w[S]}}),Object.defineProperty(A,T,x)}:function(A,w,S,T){T===void 0&&(T=S),A[T]=w[S]}),c=this&&this.__setModuleDefault||(Object.create?function(A,w){Object.defineProperty(A,"default",{enumerable:!0,value:w})}:function(A,w){A.default=w}),f=this&&this.__importStar||function(A){if(A&&A.__esModule)return A;var w={};if(A!=null)for(var S in A)S!=="default"&&Object.prototype.hasOwnProperty.call(A,S)&&u(w,A,S);return c(w,A),w},d=this&&this.__exportStar||function(A,w){for(var S in A)S!=="default"&&!Object.prototype.hasOwnProperty.call(w,S)&&u(w,A,S)},h=this&&this.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(a,"__esModule",{value:!0}),a.ReasonCodes=a.UniqueMessageIdProvider=a.DefaultMessageIdProvider=a.Store=a.MqttClient=a.connectAsync=a.connect=a.Client=void 0;const v=h(r("./lib/client"));a.MqttClient=v.default;const g=h(r("./lib/default-message-id-provider"));a.DefaultMessageIdProvider=g.default;const p=h(r("./lib/unique-message-id-provider"));a.UniqueMessageIdProvider=p.default;const y=h(r("./lib/store"));a.Store=y.default;const _=f(r("./lib/connect"));a.connect=_.default,Object.defineProperty(a,"connectAsync",{enumerable:!0,get:function(){return _.connectAsync}}),a.Client=v.default,d(r("./lib/client"),a),d(r("./lib/shared"),a);var b=r("./lib/handlers/ack");Object.defineProperty(a,"ReasonCodes",{enumerable:!0,get:function(){return b.ReasonCodes}})},{"./lib/client":2,"./lib/connect":4,"./lib/default-message-id-provider":9,"./lib/handlers/ack":10,"./lib/shared":17,"./lib/store":18,"./lib/unique-message-id-provider":21}],24:[function(r,o,a){const{AbortController:u,AbortSignal:c}=typeof self<"u"?self:typeof window<"u"?window:void 0;o.exports=u,o.exports.AbortSignal=c,o.exports.default=u},{}],25:[function(r,o,a){a.byteLength=p,a.toByteArray=_,a.fromByteArray=w;for(var u=[],c=[],f=typeof Uint8Array<"u"?Uint8Array:Array,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h=0,v=d.length;h<v;++h)u[h]=d[h],c[d.charCodeAt(h)]=h;c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63;function g(S){var T=S.length;if(T%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var x=S.indexOf("=");x===-1&&(x=T);var O=x===T?0:4-x%4;return[x,O]}function p(S){var T=g(S),x=T[0],O=T[1];return(x+O)*3/4-O}function y(S,T,x){return(T+x)*3/4-x}function _(S){var T,x=g(S),O=x[0],L=x[1],M=new f(y(S,O,L)),re=0,F=L>0?O-4:O,Y;for(Y=0;Y<F;Y+=4)T=c[S.charCodeAt(Y)]<<18|c[S.charCodeAt(Y+1)]<<12|c[S.charCodeAt(Y+2)]<<6|c[S.charCodeAt(Y+3)],M[re++]=T>>16&255,M[re++]=T>>8&255,M[re++]=T&255;return L===2&&(T=c[S.charCodeAt(Y)]<<2|c[S.charCodeAt(Y+1)]>>4,M[re++]=T&255),L===1&&(T=c[S.charCodeAt(Y)]<<10|c[S.charCodeAt(Y+1)]<<4|c[S.charCodeAt(Y+2)]>>2,M[re++]=T>>8&255,M[re++]=T&255),M}function b(S){return u[S>>18&63]+u[S>>12&63]+u[S>>6&63]+u[S&63]}function A(S,T,x){for(var O,L=[],M=T;M<x;M+=3)O=(S[M]<<16&16711680)+(S[M+1]<<8&65280)+(S[M+2]&255),L.push(b(O));return L.join("")}function w(S){for(var T,x=S.length,O=x%3,L=[],M=16383,re=0,F=x-O;re<F;re+=M)L.push(A(S,re,re+M>F?F:re+M));return O===1?(T=S[x-1],L.push(u[T>>2]+u[T<<4&63]+"==")):O===2&&(T=(S[x-2]<<8)+S[x-1],L.push(u[T>>10]+u[T>>4&63]+u[T<<2&63]+"=")),L.join("")}},{}],26:[function(r,o,a){},{}],27:[function(r,o,a){var u=r("buffer"),c=u.Buffer;function f(h,v){for(var g in h)v[g]=h[g]}c.from&&c.alloc&&c.allocUnsafe&&c.allocUnsafeSlow?o.exports=u:(f(u,a),a.Buffer=d);function d(h,v,g){return c(h,v,g)}f(c,d),d.from=function(h,v,g){if(typeof h=="number")throw new TypeError("Argument must not be a number");return c(h,v,g)},d.alloc=function(h,v,g){if(typeof h!="number")throw new TypeError("Argument must be a number");var p=c(h);return v!==void 0?typeof g=="string"?p.fill(v,g):p.fill(v):p.fill(0),p},d.allocUnsafe=function(h){if(typeof h!="number")throw new TypeError("Argument must be a number");return c(h)},d.allocUnsafeSlow=function(h){if(typeof h!="number")throw new TypeError("Argument must be a number");return u.SlowBuffer(h)}},{buffer:29}],28:[function(r,o,a){var u=r("safe-buffer").Buffer,c=u.isEncoding||function(L){switch(L=""+L,L&&L.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function f(L){if(!L)return"utf8";for(var M;;)switch(L){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return L;default:if(M)return;L=(""+L).toLowerCase(),M=!0}}function d(L){var M=f(L);if(typeof M!="string"&&(u.isEncoding===c||!c(L)))throw new Error("Unknown encoding: "+L);return M||L}a.StringDecoder=h;function h(L){this.encoding=d(L);var M;switch(this.encoding){case"utf16le":this.text=A,this.end=w,M=4;break;case"utf8":this.fillLast=y,M=4;break;case"base64":this.text=S,this.end=T,M=3;break;default:this.write=x,this.end=O;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=u.allocUnsafe(M)}h.prototype.write=function(L){if(L.length===0)return"";var M,re;if(this.lastNeed){if(M=this.fillLast(L),M===void 0)return"";re=this.lastNeed,this.lastNeed=0}else re=0;return re<L.length?M?M+this.text(L,re):this.text(L,re):M||""},h.prototype.end=b,h.prototype.text=_,h.prototype.fillLast=function(L){if(this.lastNeed<=L.length)return L.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);L.copy(this.lastChar,this.lastTotal-this.lastNeed,0,L.length),this.lastNeed-=L.length};function v(L){return L<=127?0:L>>5===6?2:L>>4===14?3:L>>3===30?4:L>>6===2?-1:-2}function g(L,M,re){var F=M.length-1;if(F<re)return 0;var Y=v(M[F]);return Y>=0?(Y>0&&(L.lastNeed=Y-1),Y):--F<re||Y===-2?0:(Y=v(M[F]),Y>=0?(Y>0&&(L.lastNeed=Y-2),Y):--F<re||Y===-2?0:(Y=v(M[F]),Y>=0?(Y>0&&(Y===2?Y=0:L.lastNeed=Y-3),Y):0))}function p(L,M,re){if((M[0]&192)!==128)return L.lastNeed=0,"�";if(L.lastNeed>1&&M.length>1){if((M[1]&192)!==128)return L.lastNeed=1,"�";if(L.lastNeed>2&&M.length>2&&(M[2]&192)!==128)return L.lastNeed=2,"�"}}function y(L){var M=this.lastTotal-this.lastNeed,re=p(this,L);if(re!==void 0)return re;if(this.lastNeed<=L.length)return L.copy(this.lastChar,M,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);L.copy(this.lastChar,M,0,L.length),this.lastNeed-=L.length}function _(L,M){var re=g(this,L,M);if(!this.lastNeed)return L.toString("utf8",M);this.lastTotal=re;var F=L.length-(re-this.lastNeed);return L.copy(this.lastChar,0,F),L.toString("utf8",M,F)}function b(L){var M=L&&L.length?this.write(L):"";return this.lastNeed?M+"�":M}function A(L,M){if((L.length-M)%2===0){var re=L.toString("utf16le",M);if(re){var F=re.charCodeAt(re.length-1);if(F>=55296&&F<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=L[L.length-2],this.lastChar[1]=L[L.length-1],re.slice(0,-1)}return re}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=L[L.length-1],L.toString("utf16le",M,L.length-1)}function w(L){var M=L&&L.length?this.write(L):"";if(this.lastNeed){var re=this.lastTotal-this.lastNeed;return M+this.lastChar.toString("utf16le",0,re)}return M}function S(L,M){var re=(L.length-M)%3;return re===0?L.toString("base64",M):(this.lastNeed=3-re,this.lastTotal=3,re===1?this.lastChar[0]=L[L.length-1]:(this.lastChar[0]=L[L.length-2],this.lastChar[1]=L[L.length-1]),L.toString("base64",M,L.length-re))}function T(L){var M=L&&L.length?this.write(L):"";return this.lastNeed?M+this.lastChar.toString("base64",0,3-this.lastNeed):M}function x(L){return L.toString(this.encoding)}function O(L){return L&&L.length?this.write(L):""}},{"safe-buffer":27}],29:[function(r,o,a){(function(u){(function(){var c=r("base64-js"),f=r("ieee754");a.Buffer=g,a.SlowBuffer=O,a.INSPECT_MAX_BYTES=50;var d=2147483647;a.kMaxLength=d,g.TYPED_ARRAY_SUPPORT=h(),!g.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function h(){try{var j=new Uint8Array(1);return j.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},j.foo()===42}catch{return!1}}Object.defineProperty(g.prototype,"parent",{enumerable:!0,get:function(){if(g.isBuffer(this))return this.buffer}}),Object.defineProperty(g.prototype,"offset",{enumerable:!0,get:function(){if(g.isBuffer(this))return this.byteOffset}});function v(j){if(j>d)throw new RangeError('The value "'+j+'" is invalid for option "size"');var k=new Uint8Array(j);return k.__proto__=g.prototype,k}function g(j,k,D){if(typeof j=="number"){if(typeof k=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return b(j)}return p(j,k,D)}typeof Symbol<"u"&&Symbol.species!=null&&g[Symbol.species]===g&&Object.defineProperty(g,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),g.poolSize=8192;function p(j,k,D){if(typeof j=="string")return A(j,k);if(ArrayBuffer.isView(j))return w(j);if(j==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof j);if(ie(j,ArrayBuffer)||j&&ie(j.buffer,ArrayBuffer))return S(j,k,D);if(typeof j=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var ae=j.valueOf&&j.valueOf();if(ae!=null&&ae!==j)return g.from(ae,k,D);var Ne=T(j);if(Ne)return Ne;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof j[Symbol.toPrimitive]=="function")return g.from(j[Symbol.toPrimitive]("string"),k,D);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof j)}g.from=function(j,k,D){return p(j,k,D)},g.prototype.__proto__=Uint8Array.prototype,g.__proto__=Uint8Array;function y(j){if(typeof j!="number")throw new TypeError('"size" argument must be of type number');if(j<0)throw new RangeError('The value "'+j+'" is invalid for option "size"')}function _(j,k,D){return y(j),j<=0?v(j):k!==void 0?typeof D=="string"?v(j).fill(k,D):v(j).fill(k):v(j)}g.alloc=function(j,k,D){return _(j,k,D)};function b(j){return y(j),v(j<0?0:x(j)|0)}g.allocUnsafe=function(j){return b(j)},g.allocUnsafeSlow=function(j){return b(j)};function A(j,k){if((typeof k!="string"||k==="")&&(k="utf8"),!g.isEncoding(k))throw new TypeError("Unknown encoding: "+k);var D=L(j,k)|0,ae=v(D),Ne=ae.write(j,k);return Ne!==D&&(ae=ae.slice(0,Ne)),ae}function w(j){for(var k=j.length<0?0:x(j.length)|0,D=v(k),ae=0;ae<k;ae+=1)D[ae]=j[ae]&255;return D}function S(j,k,D){if(k<0||j.byteLength<k)throw new RangeError('"offset" is outside of buffer bounds');if(j.byteLength<k+(D||0))throw new RangeError('"length" is outside of buffer bounds');var ae;return k===void 0&&D===void 0?ae=new Uint8Array(j):D===void 0?ae=new Uint8Array(j,k):ae=new Uint8Array(j,k,D),ae.__proto__=g.prototype,ae}function T(j){if(g.isBuffer(j)){var k=x(j.length)|0,D=v(k);return D.length===0||j.copy(D,0,0,k),D}if(j.length!==void 0)return typeof j.length!="number"||oe(j.length)?v(0):w(j);if(j.type==="Buffer"&&Array.isArray(j.data))return w(j.data)}function x(j){if(j>=d)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+d.toString(16)+" bytes");return j|0}function O(j){return+j!=j&&(j=0),g.alloc(+j)}g.isBuffer=function(k){return k!=null&&k._isBuffer===!0&&k!==g.prototype},g.compare=function(k,D){if(ie(k,Uint8Array)&&(k=g.from(k,k.offset,k.byteLength)),ie(D,Uint8Array)&&(D=g.from(D,D.offset,D.byteLength)),!g.isBuffer(k)||!g.isBuffer(D))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(k===D)return 0;for(var ae=k.length,Ne=D.length,ze=0,hn=Math.min(ae,Ne);ze<hn;++ze)if(k[ze]!==D[ze]){ae=k[ze],Ne=D[ze];break}return ae<Ne?-1:Ne<ae?1:0},g.isEncoding=function(k){switch(String(k).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},g.concat=function(k,D){if(!Array.isArray(k))throw new TypeError('"list" argument must be an Array of Buffers');if(k.length===0)return g.alloc(0);var ae;if(D===void 0)for(D=0,ae=0;ae<k.length;++ae)D+=k[ae].length;var Ne=g.allocUnsafe(D),ze=0;for(ae=0;ae<k.length;++ae){var hn=k[ae];if(ie(hn,Uint8Array)&&(hn=g.from(hn)),!g.isBuffer(hn))throw new TypeError('"list" argument must be an Array of Buffers');hn.copy(Ne,ze),ze+=hn.length}return Ne};function L(j,k){if(g.isBuffer(j))return j.length;if(ArrayBuffer.isView(j)||ie(j,ArrayBuffer))return j.byteLength;if(typeof j!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof j);var D=j.length,ae=arguments.length>2&&arguments[2]===!0;if(!ae&&D===0)return 0;for(var Ne=!1;;)switch(k){case"ascii":case"latin1":case"binary":return D;case"utf8":case"utf-8":return Oe(j).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D*2;case"hex":return D>>>1;case"base64":return Dt(j).length;default:if(Ne)return ae?-1:Oe(j).length;k=(""+k).toLowerCase(),Ne=!0}}g.byteLength=L;function M(j,k,D){var ae=!1;if((k===void 0||k<0)&&(k=0),k>this.length||((D===void 0||D>this.length)&&(D=this.length),D<=0)||(D>>>=0,k>>>=0,D<=k))return"";for(j||(j="utf8");;)switch(j){case"hex":return vn(this,k,D);case"utf8":case"utf-8":return xe(this,k,D);case"ascii":return Lt(this,k,D);case"latin1":case"binary":return Cn(this,k,D);case"base64":return he(this,k,D);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return kt(this,k,D);default:if(ae)throw new TypeError("Unknown encoding: "+j);j=(j+"").toLowerCase(),ae=!0}}g.prototype._isBuffer=!0;function re(j,k,D){var ae=j[k];j[k]=j[D],j[D]=ae}g.prototype.swap16=function(){var k=this.length;if(k%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var D=0;D<k;D+=2)re(this,D,D+1);return this},g.prototype.swap32=function(){var k=this.length;if(k%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var D=0;D<k;D+=4)re(this,D,D+3),re(this,D+1,D+2);return this},g.prototype.swap64=function(){var k=this.length;if(k%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var D=0;D<k;D+=8)re(this,D,D+7),re(this,D+1,D+6),re(this,D+2,D+5),re(this,D+3,D+4);return this},g.prototype.toString=function(){var k=this.length;return k===0?"":arguments.length===0?xe(this,0,k):M.apply(this,arguments)},g.prototype.toLocaleString=g.prototype.toString,g.prototype.equals=function(k){if(!g.isBuffer(k))throw new TypeError("Argument must be a Buffer");return this===k?!0:g.compare(this,k)===0},g.prototype.inspect=function(){var k="",D=a.INSPECT_MAX_BYTES;return k=this.toString("hex",0,D).replace(/(.{2})/g,"$1 ").trim(),this.length>D&&(k+=" ... "),"<Buffer "+k+">"},g.prototype.compare=function(k,D,ae,Ne,ze){if(ie(k,Uint8Array)&&(k=g.from(k,k.offset,k.byteLength)),!g.isBuffer(k))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof k);if(D===void 0&&(D=0),ae===void 0&&(ae=k?k.length:0),Ne===void 0&&(Ne=0),ze===void 0&&(ze=this.length),D<0||ae>k.length||Ne<0||ze>this.length)throw new RangeError("out of range index");if(Ne>=ze&&D>=ae)return 0;if(Ne>=ze)return-1;if(D>=ae)return 1;if(D>>>=0,ae>>>=0,Ne>>>=0,ze>>>=0,this===k)return 0;for(var hn=ze-Ne,An=ae-D,Tn=Math.min(hn,An),Rn=this.slice(Ne,ze),Fe=k.slice(D,ae),Ue=0;Ue<Tn;++Ue)if(Rn[Ue]!==Fe[Ue]){hn=Rn[Ue],An=Fe[Ue];break}return hn<An?-1:An<hn?1:0};function F(j,k,D,ae,Ne){if(j.length===0)return-1;if(typeof D=="string"?(ae=D,D=0):D>2147483647?D=2147483647:D<-2147483648&&(D=-2147483648),D=+D,oe(D)&&(D=Ne?0:j.length-1),D<0&&(D=j.length+D),D>=j.length){if(Ne)return-1;D=j.length-1}else if(D<0)if(Ne)D=0;else return-1;if(typeof k=="string"&&(k=g.from(k,ae)),g.isBuffer(k))return k.length===0?-1:Y(j,k,D,ae,Ne);if(typeof k=="number")return k=k&255,typeof Uint8Array.prototype.indexOf=="function"?Ne?Uint8Array.prototype.indexOf.call(j,k,D):Uint8Array.prototype.lastIndexOf.call(j,k,D):Y(j,[k],D,ae,Ne);throw new TypeError("val must be string, number or Buffer")}function Y(j,k,D,ae,Ne){var ze=1,hn=j.length,An=k.length;if(ae!==void 0&&(ae=String(ae).toLowerCase(),ae==="ucs2"||ae==="ucs-2"||ae==="utf16le"||ae==="utf-16le")){if(j.length<2||k.length<2)return-1;ze=2,hn/=2,An/=2,D/=2}function Tn(Sn,xn){return ze===1?Sn[xn]:Sn.readUInt16BE(xn*ze)}var Rn;if(Ne){var Fe=-1;for(Rn=D;Rn<hn;Rn++)if(Tn(j,Rn)===Tn(k,Fe===-1?0:Rn-Fe)){if(Fe===-1&&(Fe=Rn),Rn-Fe+1===An)return Fe*ze}else Fe!==-1&&(Rn-=Rn-Fe),Fe=-1}else for(D+An>hn&&(D=hn-An),Rn=D;Rn>=0;Rn--){for(var Ue=!0,En=0;En<An;En++)if(Tn(j,Rn+En)!==Tn(k,En)){Ue=!1;break}if(Ue)return Rn}return-1}g.prototype.includes=function(k,D,ae){return this.indexOf(k,D,ae)!==-1},g.prototype.indexOf=function(k,D,ae){return F(this,k,D,ae,!0)},g.prototype.lastIndexOf=function(k,D,ae){return F(this,k,D,ae,!1)};function V(j,k,D,ae){D=Number(D)||0;var Ne=j.length-D;ae?(ae=Number(ae),ae>Ne&&(ae=Ne)):ae=Ne;var ze=k.length;ae>ze/2&&(ae=ze/2);for(var hn=0;hn<ae;++hn){var An=parseInt(k.substr(hn*2,2),16);if(oe(An))return hn;j[D+hn]=An}return hn}function z(j,k,D,ae){return _n(Oe(k,j.length-D),j,D,ae)}function $(j,k,D,ae){return _n(Ve(k),j,D,ae)}function pe(j,k,D,ae){return $(j,k,D,ae)}function le(j,k,D,ae){return _n(Dt(k),j,D,ae)}function Ie(j,k,D,ae){return _n(Pt(k,j.length-D),j,D,ae)}g.prototype.write=function(k,D,ae,Ne){if(D===void 0)Ne="utf8",ae=this.length,D=0;else if(ae===void 0&&typeof D=="string")Ne=D,ae=this.length,D=0;else if(isFinite(D))D=D>>>0,isFinite(ae)?(ae=ae>>>0,Ne===void 0&&(Ne="utf8")):(Ne=ae,ae=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var ze=this.length-D;if((ae===void 0||ae>ze)&&(ae=ze),k.length>0&&(ae<0||D<0)||D>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ne||(Ne="utf8");for(var hn=!1;;)switch(Ne){case"hex":return V(this,k,D,ae);case"utf8":case"utf-8":return z(this,k,D,ae);case"ascii":return $(this,k,D,ae);case"latin1":case"binary":return pe(this,k,D,ae);case"base64":return le(this,k,D,ae);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ie(this,k,D,ae);default:if(hn)throw new TypeError("Unknown encoding: "+Ne);Ne=(""+Ne).toLowerCase(),hn=!0}},g.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function he(j,k,D){return k===0&&D===j.length?c.fromByteArray(j):c.fromByteArray(j.slice(k,D))}function xe(j,k,D){D=Math.min(j.length,D);for(var ae=[],Ne=k;Ne<D;){var ze=j[Ne],hn=null,An=ze>239?4:ze>223?3:ze>191?2:1;if(Ne+An<=D){var Tn,Rn,Fe,Ue;switch(An){case 1:ze<128&&(hn=ze);break;case 2:Tn=j[Ne+1],(Tn&192)===128&&(Ue=(ze&31)<<6|Tn&63,Ue>127&&(hn=Ue));break;case 3:Tn=j[Ne+1],Rn=j[Ne+2],(Tn&192)===128&&(Rn&192)===128&&(Ue=(ze&15)<<12|(Tn&63)<<6|Rn&63,Ue>2047&&(Ue<55296||Ue>57343)&&(hn=Ue));break;case 4:Tn=j[Ne+1],Rn=j[Ne+2],Fe=j[Ne+3],(Tn&192)===128&&(Rn&192)===128&&(Fe&192)===128&&(Ue=(ze&15)<<18|(Tn&63)<<12|(Rn&63)<<6|Fe&63,Ue>65535&&Ue<1114112&&(hn=Ue))}}hn===null?(hn=65533,An=1):hn>65535&&(hn-=65536,ae.push(hn>>>10&1023|55296),hn=56320|hn&1023),ae.push(hn),Ne+=An}return jt(ae)}var _e=4096;function jt(j){var k=j.length;if(k<=_e)return String.fromCharCode.apply(String,j);for(var D="",ae=0;ae<k;)D+=String.fromCharCode.apply(String,j.slice(ae,ae+=_e));return D}function Lt(j,k,D){var ae="";D=Math.min(j.length,D);for(var Ne=k;Ne<D;++Ne)ae+=String.fromCharCode(j[Ne]&127);return ae}function Cn(j,k,D){var ae="";D=Math.min(j.length,D);for(var Ne=k;Ne<D;++Ne)ae+=String.fromCharCode(j[Ne]);return ae}function vn(j,k,D){var ae=j.length;(!k||k<0)&&(k=0),(!D||D<0||D>ae)&&(D=ae);for(var Ne="",ze=k;ze<D;++ze)Ne+=At(j[ze]);return Ne}function kt(j,k,D){for(var ae=j.slice(k,D),Ne="",ze=0;ze<ae.length;ze+=2)Ne+=String.fromCharCode(ae[ze]+ae[ze+1]*256);return Ne}g.prototype.slice=function(k,D){var ae=this.length;k=~~k,D=D===void 0?ae:~~D,k<0?(k+=ae,k<0&&(k=0)):k>ae&&(k=ae),D<0?(D+=ae,D<0&&(D=0)):D>ae&&(D=ae),D<k&&(D=k);var Ne=this.subarray(k,D);return Ne.__proto__=g.prototype,Ne};function de(j,k,D){if(j%1!==0||j<0)throw new RangeError("offset is not uint");if(j+k>D)throw new RangeError("Trying to access beyond buffer length")}g.prototype.readUIntLE=function(k,D,ae){k=k>>>0,D=D>>>0,ae||de(k,D,this.length);for(var Ne=this[k],ze=1,hn=0;++hn<D&&(ze*=256);)Ne+=this[k+hn]*ze;return Ne},g.prototype.readUIntBE=function(k,D,ae){k=k>>>0,D=D>>>0,ae||de(k,D,this.length);for(var Ne=this[k+--D],ze=1;D>0&&(ze*=256);)Ne+=this[k+--D]*ze;return Ne},g.prototype.readUInt8=function(k,D){return k=k>>>0,D||de(k,1,this.length),this[k]},g.prototype.readUInt16LE=function(k,D){return k=k>>>0,D||de(k,2,this.length),this[k]|this[k+1]<<8},g.prototype.readUInt16BE=function(k,D){return k=k>>>0,D||de(k,2,this.length),this[k]<<8|this[k+1]},g.prototype.readUInt32LE=function(k,D){return k=k>>>0,D||de(k,4,this.length),(this[k]|this[k+1]<<8|this[k+2]<<16)+this[k+3]*16777216},g.prototype.readUInt32BE=function(k,D){return k=k>>>0,D||de(k,4,this.length),this[k]*16777216+(this[k+1]<<16|this[k+2]<<8|this[k+3])},g.prototype.readIntLE=function(k,D,ae){k=k>>>0,D=D>>>0,ae||de(k,D,this.length);for(var Ne=this[k],ze=1,hn=0;++hn<D&&(ze*=256);)Ne+=this[k+hn]*ze;return ze*=128,Ne>=ze&&(Ne-=Math.pow(2,8*D)),Ne},g.prototype.readIntBE=function(k,D,ae){k=k>>>0,D=D>>>0,ae||de(k,D,this.length);for(var Ne=D,ze=1,hn=this[k+--Ne];Ne>0&&(ze*=256);)hn+=this[k+--Ne]*ze;return ze*=128,hn>=ze&&(hn-=Math.pow(2,8*D)),hn},g.prototype.readInt8=function(k,D){return k=k>>>0,D||de(k,1,this.length),this[k]&128?(255-this[k]+1)*-1:this[k]},g.prototype.readInt16LE=function(k,D){k=k>>>0,D||de(k,2,this.length);var ae=this[k]|this[k+1]<<8;return ae&32768?ae|4294901760:ae},g.prototype.readInt16BE=function(k,D){k=k>>>0,D||de(k,2,this.length);var ae=this[k+1]|this[k]<<8;return ae&32768?ae|4294901760:ae},g.prototype.readInt32LE=function(k,D){return k=k>>>0,D||de(k,4,this.length),this[k]|this[k+1]<<8|this[k+2]<<16|this[k+3]<<24},g.prototype.readInt32BE=function(k,D){return k=k>>>0,D||de(k,4,this.length),this[k]<<24|this[k+1]<<16|this[k+2]<<8|this[k+3]},g.prototype.readFloatLE=function(k,D){return k=k>>>0,D||de(k,4,this.length),f.read(this,k,!0,23,4)},g.prototype.readFloatBE=function(k,D){return k=k>>>0,D||de(k,4,this.length),f.read(this,k,!1,23,4)},g.prototype.readDoubleLE=function(k,D){return k=k>>>0,D||de(k,8,this.length),f.read(this,k,!0,52,8)},g.prototype.readDoubleBE=function(k,D){return k=k>>>0,D||de(k,8,this.length),f.read(this,k,!1,52,8)};function qe(j,k,D,ae,Ne,ze){if(!g.isBuffer(j))throw new TypeError('"buffer" argument must be a Buffer instance');if(k>Ne||k<ze)throw new RangeError('"value" argument is out of bounds');if(D+ae>j.length)throw new RangeError("Index out of range")}g.prototype.writeUIntLE=function(k,D,ae,Ne){if(k=+k,D=D>>>0,ae=ae>>>0,!Ne){var ze=Math.pow(2,8*ae)-1;qe(this,k,D,ae,ze,0)}var hn=1,An=0;for(this[D]=k&255;++An<ae&&(hn*=256);)this[D+An]=k/hn&255;return D+ae},g.prototype.writeUIntBE=function(k,D,ae,Ne){if(k=+k,D=D>>>0,ae=ae>>>0,!Ne){var ze=Math.pow(2,8*ae)-1;qe(this,k,D,ae,ze,0)}var hn=ae-1,An=1;for(this[D+hn]=k&255;--hn>=0&&(An*=256);)this[D+hn]=k/An&255;return D+ae},g.prototype.writeUInt8=function(k,D,ae){return k=+k,D=D>>>0,ae||qe(this,k,D,1,255,0),this[D]=k&255,D+1},g.prototype.writeUInt16LE=function(k,D,ae){return k=+k,D=D>>>0,ae||qe(this,k,D,2,65535,0),this[D]=k&255,this[D+1]=k>>>8,D+2},g.prototype.writeUInt16BE=function(k,D,ae){return k=+k,D=D>>>0,ae||qe(this,k,D,2,65535,0),this[D]=k>>>8,this[D+1]=k&255,D+2},g.prototype.writeUInt32LE=function(k,D,ae){return k=+k,D=D>>>0,ae||qe(this,k,D,4,4294967295,0),this[D+3]=k>>>24,this[D+2]=k>>>16,this[D+1]=k>>>8,this[D]=k&255,D+4},g.prototype.writeUInt32BE=function(k,D,ae){return k=+k,D=D>>>0,ae||qe(this,k,D,4,4294967295,0),this[D]=k>>>24,this[D+1]=k>>>16,this[D+2]=k>>>8,this[D+3]=k&255,D+4},g.prototype.writeIntLE=function(k,D,ae,Ne){if(k=+k,D=D>>>0,!Ne){var ze=Math.pow(2,8*ae-1);qe(this,k,D,ae,ze-1,-ze)}var hn=0,An=1,Tn=0;for(this[D]=k&255;++hn<ae&&(An*=256);)k<0&&Tn===0&&this[D+hn-1]!==0&&(Tn=1),this[D+hn]=(k/An>>0)-Tn&255;return D+ae},g.prototype.writeIntBE=function(k,D,ae,Ne){if(k=+k,D=D>>>0,!Ne){var ze=Math.pow(2,8*ae-1);qe(this,k,D,ae,ze-1,-ze)}var hn=ae-1,An=1,Tn=0;for(this[D+hn]=k&255;--hn>=0&&(An*=256);)k<0&&Tn===0&&this[D+hn+1]!==0&&(Tn=1),this[D+hn]=(k/An>>0)-Tn&255;return D+ae},g.prototype.writeInt8=function(k,D,ae){return k=+k,D=D>>>0,ae||qe(this,k,D,1,127,-128),k<0&&(k=255+k+1),this[D]=k&255,D+1},g.prototype.writeInt16LE=function(k,D,ae){return k=+k,D=D>>>0,ae||qe(this,k,D,2,32767,-32768),this[D]=k&255,this[D+1]=k>>>8,D+2},g.prototype.writeInt16BE=function(k,D,ae){return k=+k,D=D>>>0,ae||qe(this,k,D,2,32767,-32768),this[D]=k>>>8,this[D+1]=k&255,D+2},g.prototype.writeInt32LE=function(k,D,ae){return k=+k,D=D>>>0,ae||qe(this,k,D,4,2147483647,-2147483648),this[D]=k&255,this[D+1]=k>>>8,this[D+2]=k>>>16,this[D+3]=k>>>24,D+4},g.prototype.writeInt32BE=function(k,D,ae){return k=+k,D=D>>>0,ae||qe(this,k,D,4,2147483647,-2147483648),k<0&&(k=4294967295+k+1),this[D]=k>>>24,this[D+1]=k>>>16,this[D+2]=k>>>8,this[D+3]=k&255,D+4};function Et(j,k,D,ae,Ne,ze){if(D+ae>j.length)throw new RangeError("Index out of range");if(D<0)throw new RangeError("Index out of range")}function In(j,k,D,ae,Ne){return k=+k,D=D>>>0,Ne||Et(j,k,D,4),f.write(j,k,D,ae,23,4),D+4}g.prototype.writeFloatLE=function(k,D,ae){return In(this,k,D,!0,ae)},g.prototype.writeFloatBE=function(k,D,ae){return In(this,k,D,!1,ae)};function $e(j,k,D,ae,Ne){return k=+k,D=D>>>0,Ne||Et(j,k,D,8),f.write(j,k,D,ae,52,8),D+8}g.prototype.writeDoubleLE=function(k,D,ae){return $e(this,k,D,!0,ae)},g.prototype.writeDoubleBE=function(k,D,ae){return $e(this,k,D,!1,ae)},g.prototype.copy=function(k,D,ae,Ne){if(!g.isBuffer(k))throw new TypeError("argument should be a Buffer");if(ae||(ae=0),!Ne&&Ne!==0&&(Ne=this.length),D>=k.length&&(D=k.length),D||(D=0),Ne>0&&Ne<ae&&(Ne=ae),Ne===ae||k.length===0||this.length===0)return 0;if(D<0)throw new RangeError("targetStart out of bounds");if(ae<0||ae>=this.length)throw new RangeError("Index out of range");if(Ne<0)throw new RangeError("sourceEnd out of bounds");Ne>this.length&&(Ne=this.length),k.length-D<Ne-ae&&(Ne=k.length-D+ae);var ze=Ne-ae;if(this===k&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(D,ae,Ne);else if(this===k&&ae<D&&D<Ne)for(var hn=ze-1;hn>=0;--hn)k[hn+D]=this[hn+ae];else Uint8Array.prototype.set.call(k,this.subarray(ae,Ne),D);return ze},g.prototype.fill=function(k,D,ae,Ne){if(typeof k=="string"){if(typeof D=="string"?(Ne=D,D=0,ae=this.length):typeof ae=="string"&&(Ne=ae,ae=this.length),Ne!==void 0&&typeof Ne!="string")throw new TypeError("encoding must be a string");if(typeof Ne=="string"&&!g.isEncoding(Ne))throw new TypeError("Unknown encoding: "+Ne);if(k.length===1){var ze=k.charCodeAt(0);(Ne==="utf8"&&ze<128||Ne==="latin1")&&(k=ze)}}else typeof k=="number"&&(k=k&255);if(D<0||this.length<D||this.length<ae)throw new RangeError("Out of range index");if(ae<=D)return this;D=D>>>0,ae=ae===void 0?this.length:ae>>>0,k||(k=0);var hn;if(typeof k=="number")for(hn=D;hn<ae;++hn)this[hn]=k;else{var An=g.isBuffer(k)?k:g.from(k,Ne),Tn=An.length;if(Tn===0)throw new TypeError('The value "'+k+'" is invalid for argument "value"');for(hn=0;hn<ae-D;++hn)this[hn+D]=An[hn%Tn]}return this};var Ce=/[^+/0-9A-Za-z-_]/g;function ue(j){if(j=j.split("=")[0],j=j.trim().replace(Ce,""),j.length<2)return"";for(;j.length%4!==0;)j=j+"=";return j}function At(j){return j<16?"0"+j.toString(16):j.toString(16)}function Oe(j,k){k=k||1/0;for(var D,ae=j.length,Ne=null,ze=[],hn=0;hn<ae;++hn){if(D=j.charCodeAt(hn),D>55295&&D<57344){if(!Ne){if(D>56319){(k-=3)>-1&&ze.push(239,191,189);continue}else if(hn+1===ae){(k-=3)>-1&&ze.push(239,191,189);continue}Ne=D;continue}if(D<56320){(k-=3)>-1&&ze.push(239,191,189),Ne=D;continue}D=(Ne-55296<<10|D-56320)+65536}else Ne&&(k-=3)>-1&&ze.push(239,191,189);if(Ne=null,D<128){if((k-=1)<0)break;ze.push(D)}else if(D<2048){if((k-=2)<0)break;ze.push(D>>6|192,D&63|128)}else if(D<65536){if((k-=3)<0)break;ze.push(D>>12|224,D>>6&63|128,D&63|128)}else if(D<1114112){if((k-=4)<0)break;ze.push(D>>18|240,D>>12&63|128,D>>6&63|128,D&63|128)}else throw new Error("Invalid code point")}return ze}function Ve(j){for(var k=[],D=0;D<j.length;++D)k.push(j.charCodeAt(D)&255);return k}function Pt(j,k){for(var D,ae,Ne,ze=[],hn=0;hn<j.length&&!((k-=2)<0);++hn)D=j.charCodeAt(hn),ae=D>>8,Ne=D%256,ze.push(Ne),ze.push(ae);return ze}function Dt(j){return c.toByteArray(ue(j))}function _n(j,k,D,ae){for(var Ne=0;Ne<ae&&!(Ne+D>=k.length||Ne>=j.length);++Ne)k[Ne+D]=j[Ne];return Ne}function ie(j,k){return j instanceof k||j!=null&&j.constructor!=null&&j.constructor.name!=null&&j.constructor.name===k.name}function oe(j){return j!==j}}).call(this)}).call(this,r("buffer").Buffer)},{"base64-js":25,buffer:29,ieee754:50}],30:[function(r,o,a){(function(u){(function(){a.formatArgs=f,a.save=d,a.load=h,a.useColors=c,a.storage=v(),a.destroy=(()=>{let p=!1;return()=>{p||(p=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),a.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function c(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function f(p){if(p[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+p[0]+(this.useColors?"%c ":" ")+"+"+o.exports.humanize(this.diff),!this.useColors)return;const y="color: "+this.color;p.splice(1,0,y,"color: inherit");let _=0,b=0;p[0].replace(/%[a-zA-Z%]/g,A=>{A!=="%%"&&(_++,A==="%c"&&(b=_))}),p.splice(b,0,y)}a.log=console.debug||console.log||(()=>{});function d(p){try{p?a.storage.setItem("debug",p):a.storage.removeItem("debug")}catch{}}function h(){let p;try{p=a.storage.getItem("debug")}catch{}return!p&&typeof u<"u"&&"env"in u&&(p=u.env.DEBUG),p}function v(){try{return localStorage}catch{}}o.exports=r("./common")(a);const{formatters:g}=o.exports;g.j=function(p){try{return JSON.stringify(p)}catch(y){return"[UnexpectedJSONParseError]: "+y.message}}}).call(this)}).call(this,r("_process"))},{"./common":31,_process:102}],31:[function(r,o,a){function u(c){d.debug=d,d.default=d,d.coerce=_,d.disable=g,d.enable=v,d.enabled=p,d.humanize=r("ms"),d.destroy=b,Object.keys(c).forEach(A=>{d[A]=c[A]}),d.names=[],d.skips=[],d.formatters={};function f(A){let w=0;for(let S=0;S<A.length;S++)w=(w<<5)-w+A.charCodeAt(S),w|=0;return d.colors[Math.abs(w)%d.colors.length]}d.selectColor=f;function d(A){let w,S=null,T,x;function O(...L){if(!O.enabled)return;const M=O,re=Number(new Date),F=re-(w||re);M.diff=F,M.prev=w,M.curr=re,w=re,L[0]=d.coerce(L[0]),typeof L[0]!="string"&&L.unshift("%O");let Y=0;L[0]=L[0].replace(/%([a-zA-Z%])/g,(z,$)=>{if(z==="%%")return"%";Y++;const pe=d.formatters[$];if(typeof pe=="function"){const le=L[Y];z=pe.call(M,le),L.splice(Y,1),Y--}return z}),d.formatArgs.call(M,L),(M.log||d.log).apply(M,L)}return O.namespace=A,O.useColors=d.useColors(),O.color=d.selectColor(A),O.extend=h,O.destroy=d.destroy,Object.defineProperty(O,"enabled",{enumerable:!0,configurable:!1,get:()=>S!==null?S:(T!==d.namespaces&&(T=d.namespaces,x=d.enabled(A)),x),set:L=>{S=L}}),typeof d.init=="function"&&d.init(O),O}function h(A,w){const S=d(this.namespace+(typeof w>"u"?":":w)+A);return S.log=this.log,S}function v(A){d.save(A),d.namespaces=A,d.names=[],d.skips=[];let w;const S=(typeof A=="string"?A:"").split(/[\s,]+/),T=S.length;for(w=0;w<T;w++)S[w]&&(A=S[w].replace(/\*/g,".*?"),A[0]==="-"?d.skips.push(new RegExp("^"+A.slice(1)+"$")):d.names.push(new RegExp("^"+A+"$")))}function g(){const A=[...d.names.map(y),...d.skips.map(y).map(w=>"-"+w)].join(",");return d.enable(""),A}function p(A){if(A[A.length-1]==="*")return!0;let w,S;for(w=0,S=d.skips.length;w<S;w++)if(d.skips[w].test(A))return!1;for(w=0,S=d.names.length;w<S;w++)if(d.names[w].test(A))return!0;return!1}function y(A){return A.toString().substring(2,A.toString().length-2).replace(/\.\*\?$/,"*")}function _(A){return A instanceof Error?A.stack||A.message:A}function b(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return d.enable(d.load()),d}o.exports=u},{ms:97}],32:[function(r,o,a){(function(u,c){(function(){var f=r("readable-stream"),d=r("end-of-stream"),h=r("inherits"),v=r("stream-shift"),g=c.from&&c.from!==Uint8Array.from?c.from([0]):new c([0]),p=function(T,x){T._corked?T.once("uncork",x):x()},y=function(T,x){T._autoDestroy&&T.destroy(x)},_=function(T,x){return function(O){O?y(T,O.message==="premature close"?null:O):x&&!T._ended&&T.end()}},b=function(T,x){if(!T||T._writableState&&T._writableState.finished)return x();if(T._writableState)return T.end(x);T.end(),x()},A=function(){},w=function(T){return new f.Readable({objectMode:!0,highWaterMark:16}).wrap(T)},S=function(T,x,O){if(!(this instanceof S))return new S(T,x,O);f.Duplex.call(this,O),this._writable=null,this._readable=null,this._readable2=null,this._autoDestroy=!O||O.autoDestroy!==!1,this._forwardDestroy=!O||O.destroy!==!1,this._forwardEnd=!O||O.end!==!1,this._corked=1,this._ondrain=null,this._drained=!1,this._forwarding=!1,this._unwrite=null,this._unread=null,this._ended=!1,this.destroyed=!1,T&&this.setWritable(T),x&&this.setReadable(x)};h(S,f.Duplex),S.obj=function(T,x,O){return O||(O={}),O.objectMode=!0,O.highWaterMark=16,new S(T,x,O)},S.prototype.cork=function(){++this._corked===1&&this.emit("cork")},S.prototype.uncork=function(){this._corked&&--this._corked===0&&this.emit("uncork")},S.prototype.setWritable=function(T){if(this._unwrite&&this._unwrite(),this.destroyed){T&&T.destroy&&T.destroy();return}if(T===null||T===!1){this.end();return}var x=this,O=d(T,{writable:!0,readable:!1},_(this,this._forwardEnd)),L=function(){var re=x._ondrain;x._ondrain=null,re&&re()},M=function(){x._writable.removeListener("drain",L),O()};this._unwrite&&u.nextTick(L),this._writable=T,this._writable.on("drain",L),this._unwrite=M,this.uncork()},S.prototype.setReadable=function(T){if(this._unread&&this._unread(),this.destroyed){T&&T.destroy&&T.destroy();return}if(T===null||T===!1){this.push(null),this.resume();return}var x=this,O=d(T,{writable:!1,readable:!0},_(this)),L=function(){x._forward()},M=function(){x.push(null)},re=function(){x._readable2.removeListener("readable",L),x._readable2.removeListener("end",M),O()};this._drained=!0,this._readable=T,this._readable2=T._readableState?T:w(T),this._readable2.on("readable",L),this._readable2.on("end",M),this._unread=re,this._forward()},S.prototype._read=function(){this._drained=!0,this._forward()},S.prototype._forward=function(){if(!(this._forwarding||!this._readable2||!this._drained)){this._forwarding=!0;for(var T;this._drained&&(T=v(this._readable2))!==null;)this.destroyed||(this._drained=this.push(T));this._forwarding=!1}},S.prototype.destroy=function(T,x){if(x||(x=A),this.destroyed)return x(null);this.destroyed=!0;var O=this;u.nextTick(function(){O._destroy(T),x(null)})},S.prototype._destroy=function(T){if(T){var x=this._ondrain;this._ondrain=null,x?x(T):this.emit("error",T)}this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&this._writable.destroy&&this._writable.destroy()),this.emit("close")},S.prototype._write=function(T,x,O){if(!this.destroyed){if(this._corked)return p(this,this._write.bind(this,T,x,O));if(T===g)return this._finish(O);if(!this._writable)return O();this._writable.write(T)===!1?this._ondrain=O:this.destroyed||O()}},S.prototype._finish=function(T){var x=this;this.emit("preend"),p(this,function(){b(x._forwardEnd&&x._writable,function(){x._writableState.prefinished===!1&&(x._writableState.prefinished=!0),x.emit("prefinish"),p(x,T)})})},S.prototype.end=function(T,x,O){return typeof T=="function"?this.end(null,null,T):typeof x=="function"?this.end(T,null,x):(this._ended=!0,T&&this.write(T),!this._writableState.ending&&!this._writableState.destroyed&&this.write(g),f.Writable.prototype.end.call(this,O))},o.exports=S}).call(this)}).call(this,r("_process"),r("buffer").Buffer)},{_process:102,buffer:29,"end-of-stream":48,inherits:51,"readable-stream":47,"stream-shift":135}],33:[function(r,o,a){function u(p,y){p.prototype=Object.create(y.prototype),p.prototype.constructor=p,p.__proto__=y}var c={};function f(p,y,_){_||(_=Error);function b(w,S,T){return typeof y=="string"?y:y(w,S,T)}var A=function(w){u(S,w);function S(T,x,O){return w.call(this,b(T,x,O))||this}return S}(_);A.prototype.name=_.name,A.prototype.code=p,c[p]=A}function d(p,y){if(Array.isArray(p)){var _=p.length;return p=p.map(function(b){return String(b)}),_>2?"one of ".concat(y," ").concat(p.slice(0,_-1).join(", "),", or ")+p[_-1]:_===2?"one of ".concat(y," ").concat(p[0]," or ").concat(p[1]):"of ".concat(y," ").concat(p[0])}else return"of ".concat(y," ").concat(String(p))}function h(p,y,_){return p.substr(!_||_<0?0:+_,y.length)===y}function v(p,y,_){return(_===void 0||_>p.length)&&(_=p.length),p.substring(_-y.length,_)===y}function g(p,y,_){return typeof _!="number"&&(_=0),_+y.length>p.length?!1:p.indexOf(y,_)!==-1}f("ERR_INVALID_OPT_VALUE",function(p,y){return'The value "'+y+'" is invalid for option "'+p+'"'},TypeError),f("ERR_INVALID_ARG_TYPE",function(p,y,_){var b;typeof y=="string"&&h(y,"not ")?(b="must not be",y=y.replace(/^not /,"")):b="must be";var A;if(v(p," argument"))A="The ".concat(p," ").concat(b," ").concat(d(y,"type"));else{var w=g(p,".")?"property":"argument";A='The "'.concat(p,'" ').concat(w," ").concat(b," ").concat(d(y,"type"))}return A+=". Received type ".concat(typeof _),A},TypeError),f("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),f("ERR_METHOD_NOT_IMPLEMENTED",function(p){return"The "+p+" method is not implemented"}),f("ERR_STREAM_PREMATURE_CLOSE","Premature close"),f("ERR_STREAM_DESTROYED",function(p){return"Cannot call "+p+" after a stream was destroyed"}),f("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),f("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),f("ERR_STREAM_WRITE_AFTER_END","write after end"),f("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),f("ERR_UNKNOWN_ENCODING",function(p){return"Unknown encoding: "+p},TypeError),f("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),o.exports.codes=c},{}],34:[function(r,o,a){(function(u){(function(){var c=Object.keys||function(b){var A=[];for(var w in b)A.push(w);return A};o.exports=p;var f=r("./_stream_readable"),d=r("./_stream_writable");r("inherits")(p,f);for(var h=c(d.prototype),v=0;v<h.length;v++){var g=h[v];p.prototype[g]||(p.prototype[g]=d.prototype[g])}function p(b){if(!(this instanceof p))return new p(b);f.call(this,b),d.call(this,b),this.allowHalfOpen=!0,b&&(b.readable===!1&&(this.readable=!1),b.writable===!1&&(this.writable=!1),b.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",y)))}Object.defineProperty(p.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(p.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(p.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function y(){this._writableState.ended||u.nextTick(_,this)}function _(b){b.end()}Object.defineProperty(p.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(A){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=A,this._writableState.destroyed=A)}})}).call(this)}).call(this,r("_process"))},{"./_stream_readable":36,"./_stream_writable":38,_process:102,inherits:51}],35:[function(r,o,a){o.exports=c;var u=r("./_stream_transform");r("inherits")(c,u);function c(f){if(!(this instanceof c))return new c(f);u.call(this,f)}c.prototype._transform=function(f,d,h){h(null,f)}},{"./_stream_transform":37,inherits:51}],36:[function(r,o,a){(function(u,c){(function(){o.exports=Ie;var f;Ie.ReadableState=le,r("events").EventEmitter;var d=function(oe,j){return oe.listeners(j).length},h=r("./internal/streams/stream"),v=r("buffer").Buffer,g=c.Uint8Array||function(){};function p(ie){return v.from(ie)}function y(ie){return v.isBuffer(ie)||ie instanceof g}var _=r("util"),b;_&&_.debuglog?b=_.debuglog("stream"):b=function(){};var A=r("./internal/streams/buffer_list"),w=r("./internal/streams/destroy"),S=r("./internal/streams/state"),T=S.getHighWaterMark,x=r("../errors").codes,O=x.ERR_INVALID_ARG_TYPE,L=x.ERR_STREAM_PUSH_AFTER_EOF,M=x.ERR_METHOD_NOT_IMPLEMENTED,re=x.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,F,Y,V;r("inherits")(Ie,h);var z=w.errorOrDestroy,$=["error","close","destroy","pause","resume"];function pe(ie,oe,j){if(typeof ie.prependListener=="function")return ie.prependListener(oe,j);!ie._events||!ie._events[oe]?ie.on(oe,j):Array.isArray(ie._events[oe])?ie._events[oe].unshift(j):ie._events[oe]=[j,ie._events[oe]]}function le(ie,oe,j){f=f||r("./_stream_duplex"),ie=ie||{},typeof j!="boolean"&&(j=oe instanceof f),this.objectMode=!!ie.objectMode,j&&(this.objectMode=this.objectMode||!!ie.readableObjectMode),this.highWaterMark=T(this,ie,"readableHighWaterMark",j),this.buffer=new A,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=ie.emitClose!==!1,this.autoDestroy=!!ie.autoDestroy,this.destroyed=!1,this.defaultEncoding=ie.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,ie.encoding&&(F||(F=r("string_decoder/").StringDecoder),this.decoder=new F(ie.encoding),this.encoding=ie.encoding)}function Ie(ie){if(f=f||r("./_stream_duplex"),!(this instanceof Ie))return new Ie(ie);var oe=this instanceof f;this._readableState=new le(ie,this,oe),this.readable=!0,ie&&(typeof ie.read=="function"&&(this._read=ie.read),typeof ie.destroy=="function"&&(this._destroy=ie.destroy)),h.call(this)}Object.defineProperty(Ie.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(oe){this._readableState&&(this._readableState.destroyed=oe)}}),Ie.prototype.destroy=w.destroy,Ie.prototype._undestroy=w.undestroy,Ie.prototype._destroy=function(ie,oe){oe(ie)},Ie.prototype.push=function(ie,oe){var j=this._readableState,k;return j.objectMode?k=!0:typeof ie=="string"&&(oe=oe||j.defaultEncoding,oe!==j.encoding&&(ie=v.from(ie,oe),oe=""),k=!0),he(this,ie,oe,!1,k)},Ie.prototype.unshift=function(ie){return he(this,ie,null,!0,!1)};function he(ie,oe,j,k,D){b("readableAddChunk",oe);var ae=ie._readableState;if(oe===null)ae.reading=!1,vn(ie,ae);else{var Ne;if(D||(Ne=_e(ae,oe)),Ne)z(ie,Ne);else if(ae.objectMode||oe&&oe.length>0)if(typeof oe!="string"&&!ae.objectMode&&Object.getPrototypeOf(oe)!==v.prototype&&(oe=p(oe)),k)ae.endEmitted?z(ie,new re):xe(ie,ae,oe,!0);else if(ae.ended)z(ie,new L);else{if(ae.destroyed)return!1;ae.reading=!1,ae.decoder&&!j?(oe=ae.decoder.write(oe),ae.objectMode||oe.length!==0?xe(ie,ae,oe,!1):qe(ie,ae)):xe(ie,ae,oe,!1)}else k||(ae.reading=!1,qe(ie,ae))}return!ae.ended&&(ae.length<ae.highWaterMark||ae.length===0)}function xe(ie,oe,j,k){oe.flowing&&oe.length===0&&!oe.sync?(oe.awaitDrain=0,ie.emit("data",j)):(oe.length+=oe.objectMode?1:j.length,k?oe.buffer.unshift(j):oe.buffer.push(j),oe.needReadable&&kt(ie)),qe(ie,oe)}function _e(ie,oe){var j;return!y(oe)&&typeof oe!="string"&&oe!==void 0&&!ie.objectMode&&(j=new O("chunk",["string","Buffer","Uint8Array"],oe)),j}Ie.prototype.isPaused=function(){return this._readableState.flowing===!1},Ie.prototype.setEncoding=function(ie){F||(F=r("string_decoder/").StringDecoder);var oe=new F(ie);this._readableState.decoder=oe,this._readableState.encoding=this._readableState.decoder.encoding;for(var j=this._readableState.buffer.head,k="";j!==null;)k+=oe.write(j.data),j=j.next;return this._readableState.buffer.clear(),k!==""&&this._readableState.buffer.push(k),this._readableState.length=k.length,this};var jt=1073741824;function Lt(ie){return ie>=jt?ie=jt:(ie--,ie|=ie>>>1,ie|=ie>>>2,ie|=ie>>>4,ie|=ie>>>8,ie|=ie>>>16,ie++),ie}function Cn(ie,oe){return ie<=0||oe.length===0&&oe.ended?0:oe.objectMode?1:ie!==ie?oe.flowing&&oe.length?oe.buffer.head.data.length:oe.length:(ie>oe.highWaterMark&&(oe.highWaterMark=Lt(ie)),ie<=oe.length?ie:oe.ended?oe.length:(oe.needReadable=!0,0))}Ie.prototype.read=function(ie){b("read",ie),ie=parseInt(ie,10);var oe=this._readableState,j=ie;if(ie!==0&&(oe.emittedReadable=!1),ie===0&&oe.needReadable&&((oe.highWaterMark!==0?oe.length>=oe.highWaterMark:oe.length>0)||oe.ended))return b("read: emitReadable",oe.length,oe.ended),oe.length===0&&oe.ended?Pt(this):kt(this),null;if(ie=Cn(ie,oe),ie===0&&oe.ended)return oe.length===0&&Pt(this),null;var k=oe.needReadable;b("need readable",k),(oe.length===0||oe.length-ie<oe.highWaterMark)&&(k=!0,b("length less than watermark",k)),oe.ended||oe.reading?(k=!1,b("reading or ended",k)):k&&(b("do read"),oe.reading=!0,oe.sync=!0,oe.length===0&&(oe.needReadable=!0),this._read(oe.highWaterMark),oe.sync=!1,oe.reading||(ie=Cn(j,oe)));var D;return ie>0?D=Ve(ie,oe):D=null,D===null?(oe.needReadable=oe.length<=oe.highWaterMark,ie=0):(oe.length-=ie,oe.awaitDrain=0),oe.length===0&&(oe.ended||(oe.needReadable=!0),j!==ie&&oe.ended&&Pt(this)),D!==null&&this.emit("data",D),D};function vn(ie,oe){if(b("onEofChunk"),!oe.ended){if(oe.decoder){var j=oe.decoder.end();j&&j.length&&(oe.buffer.push(j),oe.length+=oe.objectMode?1:j.length)}oe.ended=!0,oe.sync?kt(ie):(oe.needReadable=!1,oe.emittedReadable||(oe.emittedReadable=!0,de(ie)))}}function kt(ie){var oe=ie._readableState;b("emitReadable",oe.needReadable,oe.emittedReadable),oe.needReadable=!1,oe.emittedReadable||(b("emitReadable",oe.flowing),oe.emittedReadable=!0,u.nextTick(de,ie))}function de(ie){var oe=ie._readableState;b("emitReadable_",oe.destroyed,oe.length,oe.ended),!oe.destroyed&&(oe.length||oe.ended)&&(ie.emit("readable"),oe.emittedReadable=!1),oe.needReadable=!oe.flowing&&!oe.ended&&oe.length<=oe.highWaterMark,Oe(ie)}function qe(ie,oe){oe.readingMore||(oe.readingMore=!0,u.nextTick(Et,ie,oe))}function Et(ie,oe){for(;!oe.reading&&!oe.ended&&(oe.length<oe.highWaterMark||oe.flowing&&oe.length===0);){var j=oe.length;if(b("maybeReadMore read 0"),ie.read(0),j===oe.length)break}oe.readingMore=!1}Ie.prototype._read=function(ie){z(this,new M("_read()"))},Ie.prototype.pipe=function(ie,oe){var j=this,k=this._readableState;switch(k.pipesCount){case 0:k.pipes=ie;break;case 1:k.pipes=[k.pipes,ie];break;default:k.pipes.push(ie);break}k.pipesCount+=1,b("pipe count=%d opts=%j",k.pipesCount,oe);var D=(!oe||oe.end!==!1)&&ie!==u.stdout&&ie!==u.stderr,ae=D?ze:Sn;k.endEmitted?u.nextTick(ae):j.once("end",ae),ie.on("unpipe",Ne);function Ne(xn,Pn){b("onunpipe"),xn===j&&Pn&&Pn.hasUnpiped===!1&&(Pn.hasUnpiped=!0,Tn())}function ze(){b("onend"),ie.end()}var hn=In(j);ie.on("drain",hn);var An=!1;function Tn(){b("cleanup"),ie.removeListener("close",Ue),ie.removeListener("finish",En),ie.removeListener("drain",hn),ie.removeListener("error",Fe),ie.removeListener("unpipe",Ne),j.removeListener("end",ze),j.removeListener("end",Sn),j.removeListener("data",Rn),An=!0,k.awaitDrain&&(!ie._writableState||ie._writableState.needDrain)&&hn()}j.on("data",Rn);function Rn(xn){b("ondata");var Pn=ie.write(xn);b("dest.write",Pn),Pn===!1&&((k.pipesCount===1&&k.pipes===ie||k.pipesCount>1&&_n(k.pipes,ie)!==-1)&&!An&&(b("false write response, pause",k.awaitDrain),k.awaitDrain++),j.pause())}function Fe(xn){b("onerror",xn),Sn(),ie.removeListener("error",Fe),d(ie,"error")===0&&z(ie,xn)}pe(ie,"error",Fe);function Ue(){ie.removeListener("finish",En),Sn()}ie.once("close",Ue);function En(){b("onfinish"),ie.removeListener("close",Ue),Sn()}ie.once("finish",En);function Sn(){b("unpipe"),j.unpipe(ie)}return ie.emit("pipe",j),k.flowing||(b("pipe resume"),j.resume()),ie};function In(ie){return function(){var j=ie._readableState;b("pipeOnDrain",j.awaitDrain),j.awaitDrain&&j.awaitDrain--,j.awaitDrain===0&&d(ie,"data")&&(j.flowing=!0,Oe(ie))}}Ie.prototype.unpipe=function(ie){var oe=this._readableState,j={hasUnpiped:!1};if(oe.pipesCount===0)return this;if(oe.pipesCount===1)return ie&&ie!==oe.pipes?this:(ie||(ie=oe.pipes),oe.pipes=null,oe.pipesCount=0,oe.flowing=!1,ie&&ie.emit("unpipe",this,j),this);if(!ie){var k=oe.pipes,D=oe.pipesCount;oe.pipes=null,oe.pipesCount=0,oe.flowing=!1;for(var ae=0;ae<D;ae++)k[ae].emit("unpipe",this,{hasUnpiped:!1});return this}var Ne=_n(oe.pipes,ie);return Ne===-1?this:(oe.pipes.splice(Ne,1),oe.pipesCount-=1,oe.pipesCount===1&&(oe.pipes=oe.pipes[0]),ie.emit("unpipe",this,j),this)},Ie.prototype.on=function(ie,oe){var j=h.prototype.on.call(this,ie,oe),k=this._readableState;return ie==="data"?(k.readableListening=this.listenerCount("readable")>0,k.flowing!==!1&&this.resume()):ie==="readable"&&!k.endEmitted&&!k.readableListening&&(k.readableListening=k.needReadable=!0,k.flowing=!1,k.emittedReadable=!1,b("on readable",k.length,k.reading),k.length?kt(this):k.reading||u.nextTick(Ce,this)),j},Ie.prototype.addListener=Ie.prototype.on,Ie.prototype.removeListener=function(ie,oe){var j=h.prototype.removeListener.call(this,ie,oe);return ie==="readable"&&u.nextTick($e,this),j},Ie.prototype.removeAllListeners=function(ie){var oe=h.prototype.removeAllListeners.apply(this,arguments);return(ie==="readable"||ie===void 0)&&u.nextTick($e,this),oe};function $e(ie){var oe=ie._readableState;oe.readableListening=ie.listenerCount("readable")>0,oe.resumeScheduled&&!oe.paused?oe.flowing=!0:ie.listenerCount("data")>0&&ie.resume()}function Ce(ie){b("readable nexttick read 0"),ie.read(0)}Ie.prototype.resume=function(){var ie=this._readableState;return ie.flowing||(b("resume"),ie.flowing=!ie.readableListening,ue(this,ie)),ie.paused=!1,this};function ue(ie,oe){oe.resumeScheduled||(oe.resumeScheduled=!0,u.nextTick(At,ie,oe))}function At(ie,oe){b("resume",oe.reading),oe.reading||ie.read(0),oe.resumeScheduled=!1,ie.emit("resume"),Oe(ie),oe.flowing&&!oe.reading&&ie.read(0)}Ie.prototype.pause=function(){return b("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(b("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Oe(ie){var oe=ie._readableState;for(b("flow",oe.flowing);oe.flowing&&ie.read()!==null;);}Ie.prototype.wrap=function(ie){var oe=this,j=this._readableState,k=!1;ie.on("end",function(){if(b("wrapped end"),j.decoder&&!j.ended){var Ne=j.decoder.end();Ne&&Ne.length&&oe.push(Ne)}oe.push(null)}),ie.on("data",function(Ne){if(b("wrapped data"),j.decoder&&(Ne=j.decoder.write(Ne)),!(j.objectMode&&Ne==null)&&!(!j.objectMode&&(!Ne||!Ne.length))){var ze=oe.push(Ne);ze||(k=!0,ie.pause())}});for(var D in ie)this[D]===void 0&&typeof ie[D]=="function"&&(this[D]=function(ze){return function(){return ie[ze].apply(ie,arguments)}}(D));for(var ae=0;ae<$.length;ae++)ie.on($[ae],this.emit.bind(this,$[ae]));return this._read=function(Ne){b("wrapped _read",Ne),k&&(k=!1,ie.resume())},this},typeof Symbol=="function"&&(Ie.prototype[Symbol.asyncIterator]=function(){return Y===void 0&&(Y=r("./internal/streams/async_iterator")),Y(this)}),Object.defineProperty(Ie.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(Ie.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(Ie.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(oe){this._readableState&&(this._readableState.flowing=oe)}}),Ie._fromList=Ve,Object.defineProperty(Ie.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Ve(ie,oe){if(oe.length===0)return null;var j;return oe.objectMode?j=oe.buffer.shift():!ie||ie>=oe.length?(oe.decoder?j=oe.buffer.join(""):oe.buffer.length===1?j=oe.buffer.first():j=oe.buffer.concat(oe.length),oe.buffer.clear()):j=oe.buffer.consume(ie,oe.decoder),j}function Pt(ie){var oe=ie._readableState;b("endReadable",oe.endEmitted),oe.endEmitted||(oe.ended=!0,u.nextTick(Dt,oe,ie))}function Dt(ie,oe){if(b("endReadableNT",ie.endEmitted,ie.length),!ie.endEmitted&&ie.length===0&&(ie.endEmitted=!0,oe.readable=!1,oe.emit("end"),ie.autoDestroy)){var j=oe._writableState;(!j||j.autoDestroy&&j.finished)&&oe.destroy()}}typeof Symbol=="function"&&(Ie.from=function(ie,oe){return V===void 0&&(V=r("./internal/streams/from")),V(Ie,ie,oe)});function _n(ie,oe){for(var j=0,k=ie.length;j<k;j++)if(ie[j]===oe)return j;return-1}}).call(this)}).call(this,r("_process"),typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":33,"./_stream_duplex":34,"./internal/streams/async_iterator":39,"./internal/streams/buffer_list":40,"./internal/streams/destroy":41,"./internal/streams/from":43,"./internal/streams/state":45,"./internal/streams/stream":46,_process:102,buffer:29,events:49,inherits:51,"string_decoder/":136,util:26}],37:[function(r,o,a){o.exports=p;var u=r("../errors").codes,c=u.ERR_METHOD_NOT_IMPLEMENTED,f=u.ERR_MULTIPLE_CALLBACK,d=u.ERR_TRANSFORM_ALREADY_TRANSFORMING,h=u.ERR_TRANSFORM_WITH_LENGTH_0,v=r("./_stream_duplex");r("inherits")(p,v);function g(b,A){var w=this._transformState;w.transforming=!1;var S=w.writecb;if(S===null)return this.emit("error",new f);w.writechunk=null,w.writecb=null,A!=null&&this.push(A),S(b);var T=this._readableState;T.reading=!1,(T.needReadable||T.length<T.highWaterMark)&&this._read(T.highWaterMark)}function p(b){if(!(this instanceof p))return new p(b);v.call(this,b),this._transformState={afterTransform:g.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,b&&(typeof b.transform=="function"&&(this._transform=b.transform),typeof b.flush=="function"&&(this._flush=b.flush)),this.on("prefinish",y)}function y(){var b=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(A,w){_(b,A,w)}):_(this,null,null)}p.prototype.push=function(b,A){return this._transformState.needTransform=!1,v.prototype.push.call(this,b,A)},p.prototype._transform=function(b,A,w){w(new c("_transform()"))},p.prototype._write=function(b,A,w){var S=this._transformState;if(S.writecb=w,S.writechunk=b,S.writeencoding=A,!S.transforming){var T=this._readableState;(S.needTransform||T.needReadable||T.length<T.highWaterMark)&&this._read(T.highWaterMark)}},p.prototype._read=function(b){var A=this._transformState;A.writechunk!==null&&!A.transforming?(A.transforming=!0,this._transform(A.writechunk,A.writeencoding,A.afterTransform)):A.needTransform=!0},p.prototype._destroy=function(b,A){v.prototype._destroy.call(this,b,function(w){A(w)})};function _(b,A,w){if(A)return b.emit("error",A);if(w!=null&&b.push(w),b._writableState.length)throw new h;if(b._transformState.transforming)throw new d;return b.push(null)}},{"../errors":33,"./_stream_duplex":34,inherits:51}],38:[function(r,o,a){(function(u,c){(function(){o.exports=le;function f(Oe){var Ve=this;this.next=null,this.entry=null,this.finish=function(){At(Ve,Oe)}}var d;le.WritableState=$;var h={deprecate:r("util-deprecate")},v=r("./internal/streams/stream"),g=r("buffer").Buffer,p=c.Uint8Array||function(){};function y(Oe){return g.from(Oe)}function _(Oe){return g.isBuffer(Oe)||Oe instanceof p}var b=r("./internal/streams/destroy"),A=r("./internal/streams/state"),w=A.getHighWaterMark,S=r("../errors").codes,T=S.ERR_INVALID_ARG_TYPE,x=S.ERR_METHOD_NOT_IMPLEMENTED,O=S.ERR_MULTIPLE_CALLBACK,L=S.ERR_STREAM_CANNOT_PIPE,M=S.ERR_STREAM_DESTROYED,re=S.ERR_STREAM_NULL_VALUES,F=S.ERR_STREAM_WRITE_AFTER_END,Y=S.ERR_UNKNOWN_ENCODING,V=b.errorOrDestroy;r("inherits")(le,v);function z(){}function $(Oe,Ve,Pt){d=d||r("./_stream_duplex"),Oe=Oe||{},typeof Pt!="boolean"&&(Pt=Ve instanceof d),this.objectMode=!!Oe.objectMode,Pt&&(this.objectMode=this.objectMode||!!Oe.writableObjectMode),this.highWaterMark=w(this,Oe,"writableHighWaterMark",Pt),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Dt=Oe.decodeStrings===!1;this.decodeStrings=!Dt,this.defaultEncoding=Oe.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(_n){vn(Ve,_n)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Oe.emitClose!==!1,this.autoDestroy=!!Oe.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new f(this)}$.prototype.getBuffer=function(){for(var Ve=this.bufferedRequest,Pt=[];Ve;)Pt.push(Ve),Ve=Ve.next;return Pt},function(){try{Object.defineProperty($.prototype,"buffer",{get:h.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var pe;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(pe=Function.prototype[Symbol.hasInstance],Object.defineProperty(le,Symbol.hasInstance,{value:function(Ve){return pe.call(this,Ve)?!0:this!==le?!1:Ve&&Ve._writableState instanceof $}})):pe=function(Ve){return Ve instanceof this};function le(Oe){d=d||r("./_stream_duplex");var Ve=this instanceof d;if(!Ve&&!pe.call(le,this))return new le(Oe);this._writableState=new $(Oe,this,Ve),this.writable=!0,Oe&&(typeof Oe.write=="function"&&(this._write=Oe.write),typeof Oe.writev=="function"&&(this._writev=Oe.writev),typeof Oe.destroy=="function"&&(this._destroy=Oe.destroy),typeof Oe.final=="function"&&(this._final=Oe.final)),v.call(this)}le.prototype.pipe=function(){V(this,new L)};function Ie(Oe,Ve){var Pt=new F;V(Oe,Pt),u.nextTick(Ve,Pt)}function he(Oe,Ve,Pt,Dt){var _n;return Pt===null?_n=new re:typeof Pt!="string"&&!Ve.objectMode&&(_n=new T("chunk",["string","Buffer"],Pt)),_n?(V(Oe,_n),u.nextTick(Dt,_n),!1):!0}le.prototype.write=function(Oe,Ve,Pt){var Dt=this._writableState,_n=!1,ie=!Dt.objectMode&&_(Oe);return ie&&!g.isBuffer(Oe)&&(Oe=y(Oe)),typeof Ve=="function"&&(Pt=Ve,Ve=null),ie?Ve="buffer":Ve||(Ve=Dt.defaultEncoding),typeof Pt!="function"&&(Pt=z),Dt.ending?Ie(this,Pt):(ie||he(this,Dt,Oe,Pt))&&(Dt.pendingcb++,_n=_e(this,Dt,ie,Oe,Ve,Pt)),_n},le.prototype.cork=function(){this._writableState.corked++},le.prototype.uncork=function(){var Oe=this._writableState;Oe.corked&&(Oe.corked--,!Oe.writing&&!Oe.corked&&!Oe.bufferProcessing&&Oe.bufferedRequest&&qe(this,Oe))},le.prototype.setDefaultEncoding=function(Ve){if(typeof Ve=="string"&&(Ve=Ve.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Ve+"").toLowerCase())>-1))throw new Y(Ve);return this._writableState.defaultEncoding=Ve,this},Object.defineProperty(le.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function xe(Oe,Ve,Pt){return!Oe.objectMode&&Oe.decodeStrings!==!1&&typeof Ve=="string"&&(Ve=g.from(Ve,Pt)),Ve}Object.defineProperty(le.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function _e(Oe,Ve,Pt,Dt,_n,ie){if(!Pt){var oe=xe(Ve,Dt,_n);Dt!==oe&&(Pt=!0,_n="buffer",Dt=oe)}var j=Ve.objectMode?1:Dt.length;Ve.length+=j;var k=Ve.length<Ve.highWaterMark;if(k||(Ve.needDrain=!0),Ve.writing||Ve.corked){var D=Ve.lastBufferedRequest;Ve.lastBufferedRequest={chunk:Dt,encoding:_n,isBuf:Pt,callback:ie,next:null},D?D.next=Ve.lastBufferedRequest:Ve.bufferedRequest=Ve.lastBufferedRequest,Ve.bufferedRequestCount+=1}else jt(Oe,Ve,!1,j,Dt,_n,ie);return k}function jt(Oe,Ve,Pt,Dt,_n,ie,oe){Ve.writelen=Dt,Ve.writecb=oe,Ve.writing=!0,Ve.sync=!0,Ve.destroyed?Ve.onwrite(new M("write")):Pt?Oe._writev(_n,Ve.onwrite):Oe._write(_n,ie,Ve.onwrite),Ve.sync=!1}function Lt(Oe,Ve,Pt,Dt,_n){--Ve.pendingcb,Pt?(u.nextTick(_n,Dt),u.nextTick(Ce,Oe,Ve),Oe._writableState.errorEmitted=!0,V(Oe,Dt)):(_n(Dt),Oe._writableState.errorEmitted=!0,V(Oe,Dt),Ce(Oe,Ve))}function Cn(Oe){Oe.writing=!1,Oe.writecb=null,Oe.length-=Oe.writelen,Oe.writelen=0}function vn(Oe,Ve){var Pt=Oe._writableState,Dt=Pt.sync,_n=Pt.writecb;if(typeof _n!="function")throw new O;if(Cn(Pt),Ve)Lt(Oe,Pt,Dt,Ve,_n);else{var ie=Et(Pt)||Oe.destroyed;!ie&&!Pt.corked&&!Pt.bufferProcessing&&Pt.bufferedRequest&&qe(Oe,Pt),Dt?u.nextTick(kt,Oe,Pt,ie,_n):kt(Oe,Pt,ie,_n)}}function kt(Oe,Ve,Pt,Dt){Pt||de(Oe,Ve),Ve.pendingcb--,Dt(),Ce(Oe,Ve)}function de(Oe,Ve){Ve.length===0&&Ve.needDrain&&(Ve.needDrain=!1,Oe.emit("drain"))}function qe(Oe,Ve){Ve.bufferProcessing=!0;var Pt=Ve.bufferedRequest;if(Oe._writev&&Pt&&Pt.next){var Dt=Ve.bufferedRequestCount,_n=new Array(Dt),ie=Ve.corkedRequestsFree;ie.entry=Pt;for(var oe=0,j=!0;Pt;)_n[oe]=Pt,Pt.isBuf||(j=!1),Pt=Pt.next,oe+=1;_n.allBuffers=j,jt(Oe,Ve,!0,Ve.length,_n,"",ie.finish),Ve.pendingcb++,Ve.lastBufferedRequest=null,ie.next?(Ve.corkedRequestsFree=ie.next,ie.next=null):Ve.corkedRequestsFree=new f(Ve),Ve.bufferedRequestCount=0}else{for(;Pt;){var k=Pt.chunk,D=Pt.encoding,ae=Pt.callback,Ne=Ve.objectMode?1:k.length;if(jt(Oe,Ve,!1,Ne,k,D,ae),Pt=Pt.next,Ve.bufferedRequestCount--,Ve.writing)break}Pt===null&&(Ve.lastBufferedRequest=null)}Ve.bufferedRequest=Pt,Ve.bufferProcessing=!1}le.prototype._write=function(Oe,Ve,Pt){Pt(new x("_write()"))},le.prototype._writev=null,le.prototype.end=function(Oe,Ve,Pt){var Dt=this._writableState;return typeof Oe=="function"?(Pt=Oe,Oe=null,Ve=null):typeof Ve=="function"&&(Pt=Ve,Ve=null),Oe!=null&&this.write(Oe,Ve),Dt.corked&&(Dt.corked=1,this.uncork()),Dt.ending||ue(this,Dt,Pt),this},Object.defineProperty(le.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Et(Oe){return Oe.ending&&Oe.length===0&&Oe.bufferedRequest===null&&!Oe.finished&&!Oe.writing}function In(Oe,Ve){Oe._final(function(Pt){Ve.pendingcb--,Pt&&V(Oe,Pt),Ve.prefinished=!0,Oe.emit("prefinish"),Ce(Oe,Ve)})}function $e(Oe,Ve){!Ve.prefinished&&!Ve.finalCalled&&(typeof Oe._final=="function"&&!Ve.destroyed?(Ve.pendingcb++,Ve.finalCalled=!0,u.nextTick(In,Oe,Ve)):(Ve.prefinished=!0,Oe.emit("prefinish")))}function Ce(Oe,Ve){var Pt=Et(Ve);if(Pt&&($e(Oe,Ve),Ve.pendingcb===0&&(Ve.finished=!0,Oe.emit("finish"),Ve.autoDestroy))){var Dt=Oe._readableState;(!Dt||Dt.autoDestroy&&Dt.endEmitted)&&Oe.destroy()}return Pt}function ue(Oe,Ve,Pt){Ve.ending=!0,Ce(Oe,Ve),Pt&&(Ve.finished?u.nextTick(Pt):Oe.once("finish",Pt)),Ve.ended=!0,Oe.writable=!1}function At(Oe,Ve,Pt){var Dt=Oe.entry;for(Oe.entry=null;Dt;){var _n=Dt.callback;Ve.pendingcb--,_n(Pt),Dt=Dt.next}Ve.corkedRequestsFree.next=Oe}Object.defineProperty(le.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(Ve){this._writableState&&(this._writableState.destroyed=Ve)}}),le.prototype.destroy=b.destroy,le.prototype._undestroy=b.undestroy,le.prototype._destroy=function(Oe,Ve){Ve(Oe)}}).call(this)}).call(this,r("_process"),typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":33,"./_stream_duplex":34,"./internal/streams/destroy":41,"./internal/streams/state":45,"./internal/streams/stream":46,_process:102,buffer:29,inherits:51,"util-deprecate":139}],39:[function(r,o,a){(function(u){(function(){var c;function f(M,re,F){return re in M?Object.defineProperty(M,re,{value:F,enumerable:!0,configurable:!0,writable:!0}):M[re]=F,M}var d=r("./end-of-stream"),h=Symbol("lastResolve"),v=Symbol("lastReject"),g=Symbol("error"),p=Symbol("ended"),y=Symbol("lastPromise"),_=Symbol("handlePromise"),b=Symbol("stream");function A(M,re){return{value:M,done:re}}function w(M){var re=M[h];if(re!==null){var F=M[b].read();F!==null&&(M[y]=null,M[h]=null,M[v]=null,re(A(F,!1)))}}function S(M){u.nextTick(w,M)}function T(M,re){return function(F,Y){M.then(function(){if(re[p]){F(A(void 0,!0));return}re[_](F,Y)},Y)}}var x=Object.getPrototypeOf(function(){}),O=Object.setPrototypeOf((c={get stream(){return this[b]},next:function(){var re=this,F=this[g];if(F!==null)return Promise.reject(F);if(this[p])return Promise.resolve(A(void 0,!0));if(this[b].destroyed)return new Promise(function($,pe){u.nextTick(function(){re[g]?pe(re[g]):$(A(void 0,!0))})});var Y=this[y],V;if(Y)V=new Promise(T(Y,this));else{var z=this[b].read();if(z!==null)return Promise.resolve(A(z,!1));V=new Promise(this[_])}return this[y]=V,V}},f(c,Symbol.asyncIterator,function(){return this}),f(c,"return",function(){var re=this;return new Promise(function(F,Y){re[b].destroy(null,function(V){if(V){Y(V);return}F(A(void 0,!0))})})}),c),x),L=function(re){var F,Y=Object.create(O,(F={},f(F,b,{value:re,writable:!0}),f(F,h,{value:null,writable:!0}),f(F,v,{value:null,writable:!0}),f(F,g,{value:null,writable:!0}),f(F,p,{value:re._readableState.endEmitted,writable:!0}),f(F,_,{value:function(z,$){var pe=Y[b].read();pe?(Y[y]=null,Y[h]=null,Y[v]=null,z(A(pe,!1))):(Y[h]=z,Y[v]=$)},writable:!0}),F));return Y[y]=null,d(re,function(V){if(V&&V.code!=="ERR_STREAM_PREMATURE_CLOSE"){var z=Y[v];z!==null&&(Y[y]=null,Y[h]=null,Y[v]=null,z(V)),Y[g]=V;return}var $=Y[h];$!==null&&(Y[y]=null,Y[h]=null,Y[v]=null,$(A(void 0,!0))),Y[p]=!0}),re.on("readable",S.bind(null,Y)),Y};o.exports=L}).call(this)}).call(this,r("_process"))},{"./end-of-stream":42,_process:102}],40:[function(r,o,a){function u(w,S){var T=Object.keys(w);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(w);S&&(x=x.filter(function(O){return Object.getOwnPropertyDescriptor(w,O).enumerable})),T.push.apply(T,x)}return T}function c(w){for(var S=1;S<arguments.length;S++){var T=arguments[S]!=null?arguments[S]:{};S%2?u(Object(T),!0).forEach(function(x){f(w,x,T[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(T)):u(Object(T)).forEach(function(x){Object.defineProperty(w,x,Object.getOwnPropertyDescriptor(T,x))})}return w}function f(w,S,T){return S in w?Object.defineProperty(w,S,{value:T,enumerable:!0,configurable:!0,writable:!0}):w[S]=T,w}function d(w,S){if(!(w instanceof S))throw new TypeError("Cannot call a class as a function")}function h(w,S){for(var T=0;T<S.length;T++){var x=S[T];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(w,x.key,x)}}function v(w,S,T){return S&&h(w.prototype,S),T&&h(w,T),w}var g=r("buffer"),p=g.Buffer,y=r("util"),_=y.inspect,b=_&&_.custom||"inspect";function A(w,S,T){p.prototype.copy.call(w,S,T)}o.exports=function(){function w(){d(this,w),this.head=null,this.tail=null,this.length=0}return v(w,[{key:"push",value:function(T){var x={data:T,next:null};this.length>0?this.tail.next=x:this.head=x,this.tail=x,++this.length}},{key:"unshift",value:function(T){var x={data:T,next:this.head};this.length===0&&(this.tail=x),this.head=x,++this.length}},{key:"shift",value:function(){if(this.length!==0){var T=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,T}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(T){if(this.length===0)return"";for(var x=this.head,O=""+x.data;x=x.next;)O+=T+x.data;return O}},{key:"concat",value:function(T){if(this.length===0)return p.alloc(0);for(var x=p.allocUnsafe(T>>>0),O=this.head,L=0;O;)A(O.data,x,L),L+=O.data.length,O=O.next;return x}},{key:"consume",value:function(T,x){var O;return T<this.head.data.length?(O=this.head.data.slice(0,T),this.head.data=this.head.data.slice(T)):T===this.head.data.length?O=this.shift():O=x?this._getString(T):this._getBuffer(T),O}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(T){var x=this.head,O=1,L=x.data;for(T-=L.length;x=x.next;){var M=x.data,re=T>M.length?M.length:T;if(re===M.length?L+=M:L+=M.slice(0,T),T-=re,T===0){re===M.length?(++O,x.next?this.head=x.next:this.head=this.tail=null):(this.head=x,x.data=M.slice(re));break}++O}return this.length-=O,L}},{key:"_getBuffer",value:function(T){var x=p.allocUnsafe(T),O=this.head,L=1;for(O.data.copy(x),T-=O.data.length;O=O.next;){var M=O.data,re=T>M.length?M.length:T;if(M.copy(x,x.length-T,0,re),T-=re,T===0){re===M.length?(++L,O.next?this.head=O.next:this.head=this.tail=null):(this.head=O,O.data=M.slice(re));break}++L}return this.length-=L,x}},{key:b,value:function(T,x){return _(this,c({},x,{depth:0,customInspect:!1}))}}]),w}()},{buffer:29,util:26}],41:[function(r,o,a){(function(u){(function(){function c(p,y){var _=this,b=this._readableState&&this._readableState.destroyed,A=this._writableState&&this._writableState.destroyed;return b||A?(y?y(p):p&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,u.nextTick(v,this,p)):u.nextTick(v,this,p)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(p||null,function(w){!y&&w?_._writableState?_._writableState.errorEmitted?u.nextTick(d,_):(_._writableState.errorEmitted=!0,u.nextTick(f,_,w)):u.nextTick(f,_,w):y?(u.nextTick(d,_),y(w)):u.nextTick(d,_)}),this)}function f(p,y){v(p,y),d(p)}function d(p){p._writableState&&!p._writableState.emitClose||p._readableState&&!p._readableState.emitClose||p.emit("close")}function h(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function v(p,y){p.emit("error",y)}function g(p,y){var _=p._readableState,b=p._writableState;_&&_.autoDestroy||b&&b.autoDestroy?p.destroy(y):p.emit("error",y)}o.exports={destroy:c,undestroy:h,errorOrDestroy:g}}).call(this)}).call(this,r("_process"))},{_process:102}],42:[function(r,o,a){var u=r("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function c(v){var g=!1;return function(){if(!g){g=!0;for(var p=arguments.length,y=new Array(p),_=0;_<p;_++)y[_]=arguments[_];v.apply(this,y)}}}function f(){}function d(v){return v.setHeader&&typeof v.abort=="function"}function h(v,g,p){if(typeof g=="function")return h(v,null,g);g||(g={}),p=c(p||f);var y=g.readable||g.readable!==!1&&v.readable,_=g.writable||g.writable!==!1&&v.writable,b=function(){v.writable||w()},A=v._writableState&&v._writableState.finished,w=function(){_=!1,A=!0,y||p.call(v)},S=v._readableState&&v._readableState.endEmitted,T=function(){y=!1,S=!0,_||p.call(v)},x=function(re){p.call(v,re)},O=function(){var re;if(y&&!S)return(!v._readableState||!v._readableState.ended)&&(re=new u),p.call(v,re);if(_&&!A)return(!v._writableState||!v._writableState.ended)&&(re=new u),p.call(v,re)},L=function(){v.req.on("finish",w)};return d(v)?(v.on("complete",w),v.on("abort",O),v.req?L():v.on("request",L)):_&&!v._writableState&&(v.on("end",b),v.on("close",b)),v.on("end",T),v.on("finish",w),g.error!==!1&&v.on("error",x),v.on("close",O),function(){v.removeListener("complete",w),v.removeListener("abort",O),v.removeListener("request",L),v.req&&v.req.removeListener("finish",w),v.removeListener("end",b),v.removeListener("close",b),v.removeListener("finish",w),v.removeListener("end",T),v.removeListener("error",x),v.removeListener("close",O)}}o.exports=h},{"../../../errors":33}],43:[function(r,o,a){o.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],44:[function(r,o,a){var u;function c(w){var S=!1;return function(){S||(S=!0,w.apply(void 0,arguments))}}var f=r("../../../errors").codes,d=f.ERR_MISSING_ARGS,h=f.ERR_STREAM_DESTROYED;function v(w){if(w)throw w}function g(w){return w.setHeader&&typeof w.abort=="function"}function p(w,S,T,x){x=c(x);var O=!1;w.on("close",function(){O=!0}),u===void 0&&(u=r("./end-of-stream")),u(w,{readable:S,writable:T},function(M){if(M)return x(M);O=!0,x()});var L=!1;return function(M){if(!O&&!L){if(L=!0,g(w))return w.abort();if(typeof w.destroy=="function")return w.destroy();x(M||new h("pipe"))}}}function y(w){w()}function _(w,S){return w.pipe(S)}function b(w){return!w.length||typeof w[w.length-1]!="function"?v:w.pop()}function A(){for(var w=arguments.length,S=new Array(w),T=0;T<w;T++)S[T]=arguments[T];var x=b(S);if(Array.isArray(S[0])&&(S=S[0]),S.length<2)throw new d("streams");var O,L=S.map(function(M,re){var F=re<S.length-1,Y=re>0;return p(M,F,Y,function(V){O||(O=V),V&&L.forEach(y),!F&&(L.forEach(y),x(O))})});return S.reduce(_)}o.exports=A},{"../../../errors":33,"./end-of-stream":42}],45:[function(r,o,a){var u=r("../../../errors").codes.ERR_INVALID_OPT_VALUE;function c(d,h,v){return d.highWaterMark!=null?d.highWaterMark:h?d[v]:null}function f(d,h,v,g){var p=c(h,g,v);if(p!=null){if(!(isFinite(p)&&Math.floor(p)===p)||p<0){var y=g?v:"highWaterMark";throw new u(y,p)}return Math.floor(p)}return d.objectMode?16:16*1024}o.exports={getHighWaterMark:f}},{"../../../errors":33}],46:[function(r,o,a){o.exports=r("events").EventEmitter},{events:49}],47:[function(r,o,a){a=o.exports=r("./lib/_stream_readable.js"),a.Stream=a,a.Readable=a,a.Writable=r("./lib/_stream_writable.js"),a.Duplex=r("./lib/_stream_duplex.js"),a.Transform=r("./lib/_stream_transform.js"),a.PassThrough=r("./lib/_stream_passthrough.js"),a.finished=r("./lib/internal/streams/end-of-stream.js"),a.pipeline=r("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":34,"./lib/_stream_passthrough.js":35,"./lib/_stream_readable.js":36,"./lib/_stream_transform.js":37,"./lib/_stream_writable.js":38,"./lib/internal/streams/end-of-stream.js":42,"./lib/internal/streams/pipeline.js":44}],48:[function(r,o,a){(function(u){(function(){var c=r("once"),f=function(){},d=function(g){return g.setHeader&&typeof g.abort=="function"},h=function(g){return g.stdio&&Array.isArray(g.stdio)&&g.stdio.length===3},v=function(g,p,y){if(typeof p=="function")return v(g,null,p);p||(p={}),y=c(y||f);var _=g._writableState,b=g._readableState,A=p.readable||p.readable!==!1&&g.readable,w=p.writable||p.writable!==!1&&g.writable,S=!1,T=function(){g.writable||x()},x=function(){w=!1,A||y.call(g)},O=function(){A=!1,w||y.call(g)},L=function(V){y.call(g,V?new Error("exited with error code: "+V):null)},M=function(V){y.call(g,V)},re=function(){u.nextTick(F)},F=function(){if(!S){if(A&&!(b&&b.ended&&!b.destroyed))return y.call(g,new Error("premature close"));if(w&&!(_&&_.ended&&!_.destroyed))return y.call(g,new Error("premature close"))}},Y=function(){g.req.on("finish",x)};return d(g)?(g.on("complete",x),g.on("abort",re),g.req?Y():g.on("request",Y)):w&&!_&&(g.on("end",T),g.on("close",T)),h(g)&&g.on("exit",L),g.on("end",O),g.on("finish",x),p.error!==!1&&g.on("error",M),g.on("close",re),function(){S=!0,g.removeListener("complete",x),g.removeListener("abort",re),g.removeListener("request",Y),g.req&&g.req.removeListener("finish",x),g.removeListener("end",T),g.removeListener("close",T),g.removeListener("finish",x),g.removeListener("exit",L),g.removeListener("end",O),g.removeListener("error",M),g.removeListener("close",re)}};o.exports=v}).call(this)}).call(this,r("_process"))},{_process:102,once:100}],49:[function(r,o,a){var u=typeof Reflect=="object"?Reflect:null,c=u&&typeof u.apply=="function"?u.apply:function(Y,V,z){return Function.prototype.apply.call(Y,V,z)},f;u&&typeof u.ownKeys=="function"?f=u.ownKeys:Object.getOwnPropertySymbols?f=function(Y){return Object.getOwnPropertyNames(Y).concat(Object.getOwnPropertySymbols(Y))}:f=function(Y){return Object.getOwnPropertyNames(Y)};function d(F){console&&console.warn&&console.warn(F)}var h=Number.isNaN||function(Y){return Y!==Y};function v(){v.init.call(this)}o.exports=v,o.exports.once=L,v.EventEmitter=v,v.prototype._events=void 0,v.prototype._eventsCount=0,v.prototype._maxListeners=void 0;var g=10;function p(F){if(typeof F!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof F)}Object.defineProperty(v,"defaultMaxListeners",{enumerable:!0,get:function(){return g},set:function(F){if(typeof F!="number"||F<0||h(F))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+F+".");g=F}}),v.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},v.prototype.setMaxListeners=function(Y){if(typeof Y!="number"||Y<0||h(Y))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+Y+".");return this._maxListeners=Y,this};function y(F){return F._maxListeners===void 0?v.defaultMaxListeners:F._maxListeners}v.prototype.getMaxListeners=function(){return y(this)},v.prototype.emit=function(Y){for(var V=[],z=1;z<arguments.length;z++)V.push(arguments[z]);var $=Y==="error",pe=this._events;if(pe!==void 0)$=$&&pe.error===void 0;else if(!$)return!1;if($){var le;if(V.length>0&&(le=V[0]),le instanceof Error)throw le;var Ie=new Error("Unhandled error."+(le?" ("+le.message+")":""));throw Ie.context=le,Ie}var he=pe[Y];if(he===void 0)return!1;if(typeof he=="function")c(he,this,V);else for(var xe=he.length,_e=T(he,xe),z=0;z<xe;++z)c(_e[z],this,V);return!0};function _(F,Y,V,z){var $,pe,le;if(p(V),pe=F._events,pe===void 0?(pe=F._events=Object.create(null),F._eventsCount=0):(pe.newListener!==void 0&&(F.emit("newListener",Y,V.listener?V.listener:V),pe=F._events),le=pe[Y]),le===void 0)le=pe[Y]=V,++F._eventsCount;else if(typeof le=="function"?le=pe[Y]=z?[V,le]:[le,V]:z?le.unshift(V):le.push(V),$=y(F),$>0&&le.length>$&&!le.warned){le.warned=!0;var Ie=new Error("Possible EventEmitter memory leak detected. "+le.length+" "+String(Y)+" listeners added. Use emitter.setMaxListeners() to increase limit");Ie.name="MaxListenersExceededWarning",Ie.emitter=F,Ie.type=Y,Ie.count=le.length,d(Ie)}return F}v.prototype.addListener=function(Y,V){return _(this,Y,V,!1)},v.prototype.on=v.prototype.addListener,v.prototype.prependListener=function(Y,V){return _(this,Y,V,!0)};function b(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function A(F,Y,V){var z={fired:!1,wrapFn:void 0,target:F,type:Y,listener:V},$=b.bind(z);return $.listener=V,z.wrapFn=$,$}v.prototype.once=function(Y,V){return p(V),this.on(Y,A(this,Y,V)),this},v.prototype.prependOnceListener=function(Y,V){return p(V),this.prependListener(Y,A(this,Y,V)),this},v.prototype.removeListener=function(Y,V){var z,$,pe,le,Ie;if(p(V),$=this._events,$===void 0)return this;if(z=$[Y],z===void 0)return this;if(z===V||z.listener===V)--this._eventsCount===0?this._events=Object.create(null):(delete $[Y],$.removeListener&&this.emit("removeListener",Y,z.listener||V));else if(typeof z!="function"){for(pe=-1,le=z.length-1;le>=0;le--)if(z[le]===V||z[le].listener===V){Ie=z[le].listener,pe=le;break}if(pe<0)return this;pe===0?z.shift():x(z,pe),z.length===1&&($[Y]=z[0]),$.removeListener!==void 0&&this.emit("removeListener",Y,Ie||V)}return this},v.prototype.off=v.prototype.removeListener,v.prototype.removeAllListeners=function(Y){var V,z,$;if(z=this._events,z===void 0)return this;if(z.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):z[Y]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete z[Y]),this;if(arguments.length===0){var pe=Object.keys(z),le;for($=0;$<pe.length;++$)le=pe[$],le!=="removeListener"&&this.removeAllListeners(le);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(V=z[Y],typeof V=="function")this.removeListener(Y,V);else if(V!==void 0)for($=V.length-1;$>=0;$--)this.removeListener(Y,V[$]);return this};function w(F,Y,V){var z=F._events;if(z===void 0)return[];var $=z[Y];return $===void 0?[]:typeof $=="function"?V?[$.listener||$]:[$]:V?O($):T($,$.length)}v.prototype.listeners=function(Y){return w(this,Y,!0)},v.prototype.rawListeners=function(Y){return w(this,Y,!1)},v.listenerCount=function(F,Y){return typeof F.listenerCount=="function"?F.listenerCount(Y):S.call(F,Y)},v.prototype.listenerCount=S;function S(F){var Y=this._events;if(Y!==void 0){var V=Y[F];if(typeof V=="function")return 1;if(V!==void 0)return V.length}return 0}v.prototype.eventNames=function(){return this._eventsCount>0?f(this._events):[]};function T(F,Y){for(var V=new Array(Y),z=0;z<Y;++z)V[z]=F[z];return V}function x(F,Y){for(;Y+1<F.length;Y++)F[Y]=F[Y+1];F.pop()}function O(F){for(var Y=new Array(F.length),V=0;V<Y.length;++V)Y[V]=F[V].listener||F[V];return Y}function L(F,Y){return new Promise(function(V,z){function $(le){F.removeListener(Y,pe),z(le)}function pe(){typeof F.removeListener=="function"&&F.removeListener("error",$),V([].slice.call(arguments))}re(F,Y,pe,{once:!0}),Y!=="error"&&M(F,$,{once:!0})})}function M(F,Y,V){typeof F.on=="function"&&re(F,"error",Y,V)}function re(F,Y,V,z){if(typeof F.on=="function")z.once?F.once(Y,V):F.on(Y,V);else if(typeof F.addEventListener=="function")F.addEventListener(Y,function $(pe){z.once&&F.removeEventListener(Y,$),V(pe)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof F)}},{}],50:[function(r,o,a){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */a.read=function(u,c,f,d,h){var v,g,p=h*8-d-1,y=(1<<p)-1,_=y>>1,b=-7,A=f?h-1:0,w=f?-1:1,S=u[c+A];for(A+=w,v=S&(1<<-b)-1,S>>=-b,b+=p;b>0;v=v*256+u[c+A],A+=w,b-=8);for(g=v&(1<<-b)-1,v>>=-b,b+=d;b>0;g=g*256+u[c+A],A+=w,b-=8);if(v===0)v=1-_;else{if(v===y)return g?NaN:(S?-1:1)*(1/0);g=g+Math.pow(2,d),v=v-_}return(S?-1:1)*g*Math.pow(2,v-d)},a.write=function(u,c,f,d,h,v){var g,p,y,_=v*8-h-1,b=(1<<_)-1,A=b>>1,w=h===23?Math.pow(2,-24)-Math.pow(2,-77):0,S=d?0:v-1,T=d?1:-1,x=c<0||c===0&&1/c<0?1:0;for(c=Math.abs(c),isNaN(c)||c===1/0?(p=isNaN(c)?1:0,g=b):(g=Math.floor(Math.log(c)/Math.LN2),c*(y=Math.pow(2,-g))<1&&(g--,y*=2),g+A>=1?c+=w/y:c+=w*Math.pow(2,1-A),c*y>=2&&(g++,y/=2),g+A>=b?(p=0,g=b):g+A>=1?(p=(c*y-1)*Math.pow(2,h),g=g+A):(p=c*Math.pow(2,A-1)*Math.pow(2,h),g=0));h>=8;u[f+S]=p&255,S+=T,p/=256,h-=8);for(g=g<<h|p,_+=h;_>0;u[f+S]=g&255,S+=T,g/=256,_-=8);u[f+S-T]|=x*128}},{}],51:[function(r,o,a){typeof Object.create=="function"?o.exports=function(c,f){f&&(c.super_=f,c.prototype=Object.create(f.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}))}:o.exports=function(c,f){if(f){c.super_=f;var d=function(){};d.prototype=f.prototype,c.prototype=new d,c.prototype.constructor=c}}},{}],52:[function(r,o,a){Object.defineProperty(a,"t",{value:!0}),a.ContainerIterator=a.Container=a.Base=void 0;class u{constructor(h=0){this.iteratorType=h}equals(h){return this.o===h.o}}a.ContainerIterator=u;class c{constructor(){this.i=0}get length(){return this.i}size(){return this.i}empty(){return this.i===0}}a.Base=c;class f extends c{}a.Container=f},{}],53:[function(r,o,a){Object.defineProperty(a,"t",{value:!0}),a.HashContainerIterator=a.HashContainer=void 0;var u=r("../../ContainerBase"),c=d(r("../../../utils/checkObject")),f=r("../../../utils/throwError");function d(g){return g&&g.t?g:{default:g}}class h extends u.ContainerIterator{constructor(p,y,_){super(_),this.o=p,this.h=y,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,f.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,f.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,f.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,f.throwIteratorAccessError)(),this.o=this.o.L,this})}}a.HashContainerIterator=h;class v extends u.Container{constructor(){super(),this.H=[],this.g={},this.HASH_TAG=Symbol("@@HASH_TAG"),Object.setPrototypeOf(this.g,null),this.h={},this.h.L=this.h.B=this.p=this._=this.h}V(p){const{L:y,B:_}=p;y.B=_,_.L=y,p===this.p&&(this.p=_),p===this._&&(this._=y),this.i-=1}M(p,y,_){_===void 0&&(_=(0,c.default)(p));let b;if(_){const A=p[this.HASH_TAG];if(A!==void 0)return this.H[A].l=y,this.i;Object.defineProperty(p,this.HASH_TAG,{value:this.H.length,configurable:!0}),b={u:p,l:y,L:this._,B:this.h},this.H.push(b)}else{const A=this.g[p];if(A)return A.l=y,this.i;b={u:p,l:y,L:this._,B:this.h},this.g[p]=b}return this.i===0?(this.p=b,this.h.B=b):this._.B=b,this._=b,this.h.L=b,++this.i}I(p,y){if(y===void 0&&(y=(0,c.default)(p)),y){const _=p[this.HASH_TAG];return _===void 0?this.h:this.H[_]}else return this.g[p]||this.h}clear(){const p=this.HASH_TAG;this.H.forEach(function(y){delete y.u[p]}),this.H=[],this.g={},Object.setPrototypeOf(this.g,null),this.i=0,this.p=this._=this.h.L=this.h.B=this.h}eraseElementByKey(p,y){let _;if(y===void 0&&(y=(0,c.default)(p)),y){const b=p[this.HASH_TAG];if(b===void 0)return!1;delete p[this.HASH_TAG],_=this.H[b],delete this.H[b]}else{if(_=this.g[p],_===void 0)return!1;delete this.g[p]}return this.V(_),!0}eraseElementByIterator(p){const y=p.o;return y===this.h&&(0,f.throwIteratorAccessError)(),this.V(y),p.next()}eraseElementByPos(p){if(p<0||p>this.i-1)throw new RangeError;let y=this.p;for(;p--;)y=y.B;return this.V(y),this.i}}a.HashContainer=v},{"../../../utils/checkObject":70,"../../../utils/throwError":71,"../../ContainerBase":52}],54:[function(r,o,a){Object.defineProperty(a,"t",{value:!0}),a.default=void 0;var u=r("./Base"),c=d(r("../../utils/checkObject")),f=r("../../utils/throwError");function d(p){return p&&p.t?p:{default:p}}class h extends u.HashContainerIterator{constructor(y,_,b,A){super(y,_,A),this.container=b}get pointer(){this.o===this.h&&(0,f.throwIteratorAccessError)();const y=this;return new Proxy([],{get(_,b){if(b==="0")return y.o.u;if(b==="1")return y.o.l},set(_,b,A){if(b!=="1")throw new TypeError("props must be 1");return y.o.l=A,!0}})}copy(){return new h(this.o,this.h,this.container,this.iteratorType)}}class v extends u.HashContainer{constructor(y=[]){super();const _=this;y.forEach(function(b){_.setElement(b[0],b[1])})}begin(){return new h(this.p,this.h,this)}end(){return new h(this.h,this.h,this)}rBegin(){return new h(this._,this.h,this,1)}rEnd(){return new h(this.h,this.h,this,1)}front(){if(this.i!==0)return[this.p.u,this.p.l]}back(){if(this.i!==0)return[this._.u,this._.l]}setElement(y,_,b){return this.M(y,_,b)}getElementByKey(y,_){if(_===void 0&&(_=(0,c.default)(y)),_){const A=y[this.HASH_TAG];return A!==void 0?this.H[A].l:void 0}const b=this.g[y];return b?b.l:void 0}getElementByPos(y){if(y<0||y>this.i-1)throw new RangeError;let _=this.p;for(;y--;)_=_.B;return[_.u,_.l]}find(y,_){const b=this.I(y,_);return new h(b,this.h,this)}forEach(y){let _=0,b=this.p;for(;b!==this.h;)y([b.u,b.l],_++,this),b=b.B}[Symbol.iterator](){return function*(){let y=this.p;for(;y!==this.h;)yield[y.u,y.l],y=y.B}.bind(this)()}}var g=v;a.default=g},{"../../utils/checkObject":70,"../../utils/throwError":71,"./Base":53}],55:[function(r,o,a){Object.defineProperty(a,"t",{value:!0}),a.default=void 0;var u=r("./Base"),c=r("../../utils/throwError");class f extends u.HashContainerIterator{constructor(g,p,y,_){super(g,p,_),this.container=y}get pointer(){return this.o===this.h&&(0,c.throwIteratorAccessError)(),this.o.u}copy(){return new f(this.o,this.h,this.container,this.iteratorType)}}class d extends u.HashContainer{constructor(g=[]){super();const p=this;g.forEach(function(y){p.insert(y)})}begin(){return new f(this.p,this.h,this)}end(){return new f(this.h,this.h,this)}rBegin(){return new f(this._,this.h,this,1)}rEnd(){return new f(this.h,this.h,this,1)}front(){return this.p.u}back(){return this._.u}insert(g,p){return this.M(g,void 0,p)}getElementByPos(g){if(g<0||g>this.i-1)throw new RangeError;let p=this.p;for(;g--;)p=p.B;return p.u}find(g,p){const y=this.I(g,p);return new f(y,this.h,this)}forEach(g){let p=0,y=this.p;for(;y!==this.h;)g(y.u,p++,this),y=y.B}[Symbol.iterator](){return function*(){let g=this.p;for(;g!==this.h;)yield g.u,g=g.B}.bind(this)()}}var h=d;a.default=h},{"../../utils/throwError":71,"./Base":53}],56:[function(r,o,a){Object.defineProperty(a,"t",{value:!0}),a.default=void 0;var u=r("../ContainerBase");class c extends u.Base{constructor(h=[],v=function(p,y){return p>y?-1:p<y?1:0},g=!0){if(super(),this.v=v,Array.isArray(h))this.C=g?[...h]:h;else{this.C=[];const y=this;h.forEach(function(_){y.C.push(_)})}this.i=this.C.length;const p=this.i>>1;for(let y=this.i-1>>1;y>=0;--y)this.k(y,p)}m(h){const v=this.C[h];for(;h>0;){const g=h-1>>1,p=this.C[g];if(this.v(p,v)<=0)break;this.C[h]=p,h=g}this.C[h]=v}k(h,v){const g=this.C[h];for(;h<v;){let p=h<<1|1;const y=p+1;let _=this.C[p];if(y<this.i&&this.v(_,this.C[y])>0&&(p=y,_=this.C[y]),this.v(_,g)>=0)break;this.C[h]=_,h=p}this.C[h]=g}clear(){this.i=0,this.C.length=0}push(h){this.C.push(h),this.m(this.i),this.i+=1}pop(){if(this.i===0)return;const h=this.C[0],v=this.C.pop();return this.i-=1,this.i&&(this.C[0]=v,this.k(0,this.i>>1)),h}top(){return this.C[0]}find(h){return this.C.indexOf(h)>=0}remove(h){const v=this.C.indexOf(h);return v<0?!1:(v===0?this.pop():v===this.i-1?(this.C.pop(),this.i-=1):(this.C.splice(v,1,this.C.pop()),this.i-=1,this.m(v),this.k(v,this.i>>1)),!0)}updateItem(h){const v=this.C.indexOf(h);return v<0?!1:(this.m(v),this.k(v,this.i>>1),!0)}toArray(){return[...this.C]}}var f=c;a.default=f},{"../ContainerBase":52}],57:[function(r,o,a){Object.defineProperty(a,"t",{value:!0}),a.default=void 0;var u=r("../ContainerBase");class c extends u.Base{constructor(h=[]){super(),this.j=0,this.q=[];const v=this;h.forEach(function(g){v.push(g)})}clear(){this.q=[],this.i=this.j=0}push(h){const v=this.q.length;if(this.j/v>.5&&this.j+this.i>=v&&v>4096){const g=this.i;for(let p=0;p<g;++p)this.q[p]=this.q[this.j+p];this.j=0,this.q[this.i]=h}else this.q[this.j+this.i]=h;return++this.i}pop(){if(this.i===0)return;const h=this.q[this.j++];return this.i-=1,h}front(){if(this.i!==0)return this.q[this.j]}}var f=c;a.default=f},{"../ContainerBase":52}],58:[function(r,o,a){Object.defineProperty(a,"t",{value:!0}),a.default=void 0;var u=r("../ContainerBase");class c extends u.Base{constructor(h=[]){super(),this.S=[];const v=this;h.forEach(function(g){v.push(g)})}clear(){this.i=0,this.S=[]}push(h){return this.S.push(h),this.i+=1,this.i}pop(){if(this.i!==0)return this.i-=1,this.S.pop()}top(){return this.S[this.i-1]}}var f=c;a.default=f},{"../ContainerBase":52}],59:[function(r,o,a){Object.defineProperty(a,"t",{value:!0}),a.RandomIterator=void 0;var u=r("../../ContainerBase"),c=r("../../../utils/throwError");class f extends u.ContainerIterator{constructor(h,v){super(v),this.o=h,this.iteratorType===0?(this.pre=function(){return this.o===0&&(0,c.throwIteratorAccessError)(),this.o-=1,this},this.next=function(){return this.o===this.container.size()&&(0,c.throwIteratorAccessError)(),this.o+=1,this}):(this.pre=function(){return this.o===this.container.size()-1&&(0,c.throwIteratorAccessError)(),this.o+=1,this},this.next=function(){return this.o===-1&&(0,c.throwIteratorAccessError)(),this.o-=1,this})}get pointer(){return this.container.getElementByPos(this.o)}set pointer(h){this.container.setElementByPos(this.o,h)}}a.RandomIterator=f},{"../../../utils/throwError":71,"../../ContainerBase":52}],60:[function(r,o,a){Object.defineProperty(a,"t",{value:!0}),a.default=void 0;var u=r("../../ContainerBase");class c extends u.Container{}var f=c;a.default=f},{"../../ContainerBase":52}],61:[function(r,o,a){Object.defineProperty(a,"t",{value:!0}),a.default=void 0;var u=f(r("./Base")),c=r("./Base/RandomIterator");function f(g){return g&&g.t?g:{default:g}}class d extends c.RandomIterator{constructor(p,y,_){super(p,_),this.container=y}copy(){return new d(this.o,this.container,this.iteratorType)}}class h extends u.default{constructor(p=[],y=4096){super(),this.j=0,this.D=0,this.R=0,this.N=0,this.P=0,this.A=[];const _=(()=>{if(typeof p.length=="number")return p.length;if(typeof p.size=="number")return p.size;if(typeof p.size=="function")return p.size();throw new TypeError("Cannot get the length or size of the container")})();this.F=y,this.P=Math.max(Math.ceil(_/this.F),1);for(let w=0;w<this.P;++w)this.A.push(new Array(this.F));const b=Math.ceil(_/this.F);this.j=this.R=(this.P>>1)-(b>>1),this.D=this.N=this.F-_%this.F>>1;const A=this;p.forEach(function(w){A.pushBack(w)})}T(){const p=[],y=Math.max(this.P>>1,1);for(let _=0;_<y;++_)p[_]=new Array(this.F);for(let _=this.j;_<this.P;++_)p[p.length]=this.A[_];for(let _=0;_<this.R;++_)p[p.length]=this.A[_];p[p.length]=[...this.A[this.R]],this.j=y,this.R=p.length-1;for(let _=0;_<y;++_)p[p.length]=new Array(this.F);this.A=p,this.P=p.length}O(p){const y=this.D+p+1,_=y%this.F;let b=_-1,A=this.j+(y-_)/this.F;return _===0&&(A-=1),A%=this.P,b<0&&(b+=this.F),{curNodeBucketIndex:A,curNodePointerIndex:b}}clear(){this.A=[new Array(this.F)],this.P=1,this.j=this.R=this.i=0,this.D=this.N=this.F>>1}begin(){return new d(0,this)}end(){return new d(this.i,this)}rBegin(){return new d(this.i-1,this,1)}rEnd(){return new d(-1,this,1)}front(){if(this.i!==0)return this.A[this.j][this.D]}back(){if(this.i!==0)return this.A[this.R][this.N]}pushBack(p){return this.i&&(this.N<this.F-1?this.N+=1:this.R<this.P-1?(this.R+=1,this.N=0):(this.R=0,this.N=0),this.R===this.j&&this.N===this.D&&this.T()),this.i+=1,this.A[this.R][this.N]=p,this.i}popBack(){if(this.i===0)return;const p=this.A[this.R][this.N];return this.i!==1&&(this.N>0?this.N-=1:this.R>0?(this.R-=1,this.N=this.F-1):(this.R=this.P-1,this.N=this.F-1)),this.i-=1,p}pushFront(p){return this.i&&(this.D>0?this.D-=1:this.j>0?(this.j-=1,this.D=this.F-1):(this.j=this.P-1,this.D=this.F-1),this.j===this.R&&this.D===this.N&&this.T()),this.i+=1,this.A[this.j][this.D]=p,this.i}popFront(){if(this.i===0)return;const p=this.A[this.j][this.D];return this.i!==1&&(this.D<this.F-1?this.D+=1:this.j<this.P-1?(this.j+=1,this.D=0):(this.j=0,this.D=0)),this.i-=1,p}getElementByPos(p){if(p<0||p>this.i-1)throw new RangeError;const{curNodeBucketIndex:y,curNodePointerIndex:_}=this.O(p);return this.A[y][_]}setElementByPos(p,y){if(p<0||p>this.i-1)throw new RangeError;const{curNodeBucketIndex:_,curNodePointerIndex:b}=this.O(p);this.A[_][b]=y}insert(p,y,_=1){if(p<0||p>this.i)throw new RangeError;if(p===0)for(;_--;)this.pushFront(y);else if(p===this.i)for(;_--;)this.pushBack(y);else{const b=[];for(let A=p;A<this.i;++A)b.push(this.getElementByPos(A));this.cut(p-1);for(let A=0;A<_;++A)this.pushBack(y);for(let A=0;A<b.length;++A)this.pushBack(b[A])}return this.i}cut(p){if(p<0)return this.clear(),0;const{curNodeBucketIndex:y,curNodePointerIndex:_}=this.O(p);return this.R=y,this.N=_,this.i=p+1,this.i}eraseElementByPos(p){if(p<0||p>this.i-1)throw new RangeError;if(p===0)this.popFront();else if(p===this.i-1)this.popBack();else{const y=[];for(let b=p+1;b<this.i;++b)y.push(this.getElementByPos(b));this.cut(p),this.popBack();const _=this;y.forEach(function(b){_.pushBack(b)})}return this.i}eraseElementByValue(p){if(this.i===0)return 0;const y=[];for(let b=0;b<this.i;++b){const A=this.getElementByPos(b);A!==p&&y.push(A)}const _=y.length;for(let b=0;b<_;++b)this.setElementByPos(b,y[b]);return this.cut(_-1)}eraseElementByIterator(p){const y=p.o;return this.eraseElementByPos(y),p=p.next(),p}find(p){for(let y=0;y<this.i;++y)if(this.getElementByPos(y)===p)return new d(y,this);return this.end()}reverse(){let p=0,y=this.i-1;for(;p<y;){const _=this.getElementByPos(p);this.setElementByPos(p,this.getElementByPos(y)),this.setElementByPos(y,_),p+=1,y-=1}}unique(){if(this.i<=1)return this.i;let p=1,y=this.getElementByPos(0);for(let _=1;_<this.i;++_){const b=this.getElementByPos(_);b!==y&&(y=b,this.setElementByPos(p++,b))}for(;this.i>p;)this.popBack();return this.i}sort(p){const y=[];for(let _=0;_<this.i;++_)y.push(this.getElementByPos(_));y.sort(p);for(let _=0;_<this.i;++_)this.setElementByPos(_,y[_])}shrinkToFit(){if(this.i===0)return;const p=[];this.forEach(function(y){p.push(y)}),this.P=Math.max(Math.ceil(this.i/this.F),1),this.i=this.j=this.R=this.D=this.N=0,this.A=[];for(let y=0;y<this.P;++y)this.A.push(new Array(this.F));for(let y=0;y<p.length;++y)this.pushBack(p[y])}forEach(p){for(let y=0;y<this.i;++y)p(this.getElementByPos(y),y,this)}[Symbol.iterator](){return function*(){for(let p=0;p<this.i;++p)yield this.getElementByPos(p)}.bind(this)()}}var v=h;a.default=v},{"./Base":60,"./Base/RandomIterator":59}],62:[function(r,o,a){Object.defineProperty(a,"t",{value:!0}),a.default=void 0;var u=d(r("./Base")),c=r("../ContainerBase"),f=r("../../utils/throwError");function d(p){return p&&p.t?p:{default:p}}class h extends c.ContainerIterator{constructor(y,_,b,A){super(A),this.o=y,this.h=_,this.container=b,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,f.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,f.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,f.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,f.throwIteratorAccessError)(),this.o=this.o.L,this})}get pointer(){return this.o===this.h&&(0,f.throwIteratorAccessError)(),this.o.l}set pointer(y){this.o===this.h&&(0,f.throwIteratorAccessError)(),this.o.l=y}copy(){return new h(this.o,this.h,this.container,this.iteratorType)}}class v extends u.default{constructor(y=[]){super(),this.h={},this.p=this._=this.h.L=this.h.B=this.h;const _=this;y.forEach(function(b){_.pushBack(b)})}V(y){const{L:_,B:b}=y;_.B=b,b.L=_,y===this.p&&(this.p=b),y===this._&&(this._=_),this.i-=1}G(y,_){const b=_.B,A={l:y,L:_,B:b};_.B=A,b.L=A,_===this.h&&(this.p=A),b===this.h&&(this._=A),this.i+=1}clear(){this.i=0,this.p=this._=this.h.L=this.h.B=this.h}begin(){return new h(this.p,this.h,this)}end(){return new h(this.h,this.h,this)}rBegin(){return new h(this._,this.h,this,1)}rEnd(){return new h(this.h,this.h,this,1)}front(){return this.p.l}back(){return this._.l}getElementByPos(y){if(y<0||y>this.i-1)throw new RangeError;let _=this.p;for(;y--;)_=_.B;return _.l}eraseElementByPos(y){if(y<0||y>this.i-1)throw new RangeError;let _=this.p;for(;y--;)_=_.B;return this.V(_),this.i}eraseElementByValue(y){let _=this.p;for(;_!==this.h;)_.l===y&&this.V(_),_=_.B;return this.i}eraseElementByIterator(y){const _=y.o;return _===this.h&&(0,f.throwIteratorAccessError)(),y=y.next(),this.V(_),y}pushBack(y){return this.G(y,this._),this.i}popBack(){if(this.i===0)return;const y=this._.l;return this.V(this._),y}pushFront(y){return this.G(y,this.h),this.i}popFront(){if(this.i===0)return;const y=this.p.l;return this.V(this.p),y}setElementByPos(y,_){if(y<0||y>this.i-1)throw new RangeError;let b=this.p;for(;y--;)b=b.B;b.l=_}insert(y,_,b=1){if(y<0||y>this.i)throw new RangeError;if(b<=0)return this.i;if(y===0)for(;b--;)this.pushFront(_);else if(y===this.i)for(;b--;)this.pushBack(_);else{let A=this.p;for(let S=1;S<y;++S)A=A.B;const w=A.B;for(this.i+=b;b--;)A.B={l:_,L:A},A.B.L=A,A=A.B;A.B=w,w.L=A}return this.i}find(y){let _=this.p;for(;_!==this.h;){if(_.l===y)return new h(_,this.h,this);_=_.B}return this.end()}reverse(){if(this.i<=1)return;let y=this.p,_=this._,b=0;for(;b<<1<this.i;){const A=y.l;y.l=_.l,_.l=A,y=y.B,_=_.L,b+=1}}unique(){if(this.i<=1)return this.i;let y=this.p;for(;y!==this.h;){let _=y;for(;_.B!==this.h&&_.l===_.B.l;)_=_.B,this.i-=1;y.B=_.B,y.B.L=y,y=y.B}return this.i}sort(y){if(this.i<=1)return;const _=[];this.forEach(function(A){_.push(A)}),_.sort(y);let b=this.p;_.forEach(function(A){b.l=A,b=b.B})}merge(y){const _=this;if(this.i===0)y.forEach(function(b){_.pushBack(b)});else{let b=this.p;y.forEach(function(A){for(;b!==_.h&&b.l<=A;)b=b.B;_.G(A,b.L)})}return this.i}forEach(y){let _=this.p,b=0;for(;_!==this.h;)y(_.l,b++,this),_=_.B}[Symbol.iterator](){return function*(){if(this.i===0)return;let y=this.p;for(;y!==this.h;)yield y.l,y=y.B}.bind(this)()}}var g=v;a.default=g},{"../../utils/throwError":71,"../ContainerBase":52,"./Base":60}],63:[function(r,o,a){Object.defineProperty(a,"t",{value:!0}),a.default=void 0;var u=f(r("./Base")),c=r("./Base/RandomIterator");function f(g){return g&&g.t?g:{default:g}}class d extends c.RandomIterator{constructor(p,y,_){super(p,_),this.container=y}copy(){return new d(this.o,this.container,this.iteratorType)}}class h extends u.default{constructor(p=[],y=!0){if(super(),Array.isArray(p))this.J=y?[...p]:p,this.i=p.length;else{this.J=[];const _=this;p.forEach(function(b){_.pushBack(b)})}}clear(){this.i=0,this.J.length=0}begin(){return new d(0,this)}end(){return new d(this.i,this)}rBegin(){return new d(this.i-1,this,1)}rEnd(){return new d(-1,this,1)}front(){return this.J[0]}back(){return this.J[this.i-1]}getElementByPos(p){if(p<0||p>this.i-1)throw new RangeError;return this.J[p]}eraseElementByPos(p){if(p<0||p>this.i-1)throw new RangeError;return this.J.splice(p,1),this.i-=1,this.i}eraseElementByValue(p){let y=0;for(let _=0;_<this.i;++_)this.J[_]!==p&&(this.J[y++]=this.J[_]);return this.i=this.J.length=y,this.i}eraseElementByIterator(p){const y=p.o;return p=p.next(),this.eraseElementByPos(y),p}pushBack(p){return this.J.push(p),this.i+=1,this.i}popBack(){if(this.i!==0)return this.i-=1,this.J.pop()}setElementByPos(p,y){if(p<0||p>this.i-1)throw new RangeError;this.J[p]=y}insert(p,y,_=1){if(p<0||p>this.i)throw new RangeError;return this.J.splice(p,0,...new Array(_).fill(y)),this.i+=_,this.i}find(p){for(let y=0;y<this.i;++y)if(this.J[y]===p)return new d(y,this);return this.end()}reverse(){this.J.reverse()}unique(){let p=1;for(let y=1;y<this.i;++y)this.J[y]!==this.J[y-1]&&(this.J[p++]=this.J[y]);return this.i=this.J.length=p,this.i}sort(p){this.J.sort(p)}forEach(p){for(let y=0;y<this.i;++y)p(this.J[y],y,this)}[Symbol.iterator](){return function*(){yield*this.J}.bind(this)()}}var v=h;a.default=v},{"./Base":60,"./Base/RandomIterator":59}],64:[function(r,o,a){Object.defineProperty(a,"t",{value:!0}),a.default=void 0;var u=r("../../ContainerBase"),c=r("../../../utils/throwError");class f extends u.ContainerIterator{constructor(v,g,p){super(p),this.o=v,this.h=g,this.iteratorType===0?(this.pre=function(){return this.o===this.h.U&&(0,c.throwIteratorAccessError)(),this.o=this.o.L(),this},this.next=function(){return this.o===this.h&&(0,c.throwIteratorAccessError)(),this.o=this.o.B(),this}):(this.pre=function(){return this.o===this.h.W&&(0,c.throwIteratorAccessError)(),this.o=this.o.B(),this},this.next=function(){return this.o===this.h&&(0,c.throwIteratorAccessError)(),this.o=this.o.L(),this})}get index(){let v=this.o;const g=this.h.tt;if(v===this.h)return g?g.rt-1:0;let p=0;for(v.U&&(p+=v.U.rt);v!==g;){const y=v.tt;v===y.W&&(p+=1,y.U&&(p+=y.U.rt)),v=y}return p}}var d=f;a.default=d},{"../../../utils/throwError":71,"../../ContainerBase":52}],65:[function(r,o,a){Object.defineProperty(a,"t",{value:!0}),a.TreeNodeEnableIndex=a.TreeNode=void 0;class u{constructor(d,h){this.ee=1,this.u=void 0,this.l=void 0,this.U=void 0,this.W=void 0,this.tt=void 0,this.u=d,this.l=h}L(){let d=this;if(d.ee===1&&d.tt.tt===d)d=d.W;else if(d.U)for(d=d.U;d.W;)d=d.W;else{let h=d.tt;for(;h.U===d;)d=h,h=d.tt;d=h}return d}B(){let d=this;if(d.W){for(d=d.W;d.U;)d=d.U;return d}else{let h=d.tt;for(;h.W===d;)d=h,h=d.tt;return d.W!==h?h:d}}te(){const d=this.tt,h=this.W,v=h.U;return d.tt===this?d.tt=h:d.U===this?d.U=h:d.W=h,h.tt=d,h.U=this,this.tt=h,this.W=v,v&&(v.tt=this),h}se(){const d=this.tt,h=this.U,v=h.W;return d.tt===this?d.tt=h:d.U===this?d.U=h:d.W=h,h.tt=d,h.W=this,this.tt=h,this.U=v,v&&(v.tt=this),h}}a.TreeNode=u;class c extends u{constructor(){super(...arguments),this.rt=1}te(){const d=super.te();return this.ie(),d.ie(),d}se(){const d=super.se();return this.ie(),d.ie(),d}ie(){this.rt=1,this.U&&(this.rt+=this.U.rt),this.W&&(this.rt+=this.W.rt)}}a.TreeNodeEnableIndex=c},{}],66:[function(r,o,a){Object.defineProperty(a,"t",{value:!0}),a.default=void 0;var u=r("./TreeNode"),c=r("../../ContainerBase"),f=r("../../../utils/throwError");class d extends c.Container{constructor(g=function(y,_){return y<_?-1:y>_?1:0},p=!1){super(),this.Y=void 0,this.v=g,p?(this.re=u.TreeNodeEnableIndex,this.M=function(y,_,b){const A=this.ne(y,_,b);if(A){let w=A.tt;for(;w!==this.h;)w.rt+=1,w=w.tt;const S=this.he(A);if(S){const{parentNode:T,grandParent:x,curNode:O}=S;T.ie(),x.ie(),O.ie()}}return this.i},this.V=function(y){let _=this.fe(y);for(;_!==this.h;)_.rt-=1,_=_.tt}):(this.re=u.TreeNode,this.M=function(y,_,b){const A=this.ne(y,_,b);return A&&this.he(A),this.i},this.V=this.fe),this.h=new this.re}X(g,p){let y=this.h;for(;g;){const _=this.v(g.u,p);if(_<0)g=g.W;else if(_>0)y=g,g=g.U;else return g}return y}Z(g,p){let y=this.h;for(;g;)this.v(g.u,p)<=0?g=g.W:(y=g,g=g.U);return y}$(g,p){let y=this.h;for(;g;){const _=this.v(g.u,p);if(_<0)y=g,g=g.W;else if(_>0)g=g.U;else return g}return y}rr(g,p){let y=this.h;for(;g;)this.v(g.u,p)<0?(y=g,g=g.W):g=g.U;return y}ue(g){for(;;){const p=g.tt;if(p===this.h)return;if(g.ee===1){g.ee=0;return}if(g===p.U){const y=p.W;if(y.ee===1)y.ee=0,p.ee=1,p===this.Y?this.Y=p.te():p.te();else if(y.W&&y.W.ee===1){y.ee=p.ee,p.ee=0,y.W.ee=0,p===this.Y?this.Y=p.te():p.te();return}else y.U&&y.U.ee===1?(y.ee=1,y.U.ee=0,y.se()):(y.ee=1,g=p)}else{const y=p.U;if(y.ee===1)y.ee=0,p.ee=1,p===this.Y?this.Y=p.se():p.se();else if(y.U&&y.U.ee===1){y.ee=p.ee,p.ee=0,y.U.ee=0,p===this.Y?this.Y=p.se():p.se();return}else y.W&&y.W.ee===1?(y.ee=1,y.W.ee=0,y.te()):(y.ee=1,g=p)}}}fe(g){if(this.i===1)return this.clear(),this.h;let p=g;for(;p.U||p.W;){if(p.W)for(p=p.W;p.U;)p=p.U;else p=p.U;[g.u,p.u]=[p.u,g.u],[g.l,p.l]=[p.l,g.l],g=p}this.h.U===p?this.h.U=p.tt:this.h.W===p&&(this.h.W=p.tt),this.ue(p);const y=p.tt;return p===y.U?y.U=void 0:y.W=void 0,this.i-=1,this.Y.ee=0,y}oe(g,p){return g===void 0?!1:this.oe(g.U,p)||p(g)?!0:this.oe(g.W,p)}he(g){for(;;){const p=g.tt;if(p.ee===0)return;const y=p.tt;if(p===y.U){const _=y.W;if(_&&_.ee===1){if(_.ee=p.ee=0,y===this.Y)return;y.ee=1,g=y;continue}else if(g===p.W){if(g.ee=0,g.U&&(g.U.tt=p),g.W&&(g.W.tt=y),p.W=g.U,y.U=g.W,g.U=p,g.W=y,y===this.Y)this.Y=g,this.h.tt=g;else{const b=y.tt;b.U===y?b.U=g:b.W=g}return g.tt=y.tt,p.tt=g,y.tt=g,y.ee=1,{parentNode:p,grandParent:y,curNode:g}}else p.ee=0,y===this.Y?this.Y=y.se():y.se(),y.ee=1}else{const _=y.U;if(_&&_.ee===1){if(_.ee=p.ee=0,y===this.Y)return;y.ee=1,g=y;continue}else if(g===p.U){if(g.ee=0,g.U&&(g.U.tt=y),g.W&&(g.W.tt=p),y.W=g.U,p.U=g.W,g.U=y,g.W=p,y===this.Y)this.Y=g,this.h.tt=g;else{const b=y.tt;b.U===y?b.U=g:b.W=g}return g.tt=y.tt,p.tt=g,y.tt=g,y.ee=1,{parentNode:p,grandParent:y,curNode:g}}else p.ee=0,y===this.Y?this.Y=y.te():y.te(),y.ee=1}return}}ne(g,p,y){if(this.Y===void 0){this.i+=1,this.Y=new this.re(g,p),this.Y.ee=0,this.Y.tt=this.h,this.h.tt=this.Y,this.h.U=this.Y,this.h.W=this.Y;return}let _;const b=this.h.U,A=this.v(b.u,g);if(A===0){b.l=p;return}else if(A>0)b.U=new this.re(g,p),b.U.tt=b,_=b.U,this.h.U=_;else{const w=this.h.W,S=this.v(w.u,g);if(S===0){w.l=p;return}else if(S<0)w.W=new this.re(g,p),w.W.tt=w,_=w.W,this.h.W=_;else{if(y!==void 0){const T=y.o;if(T!==this.h){const x=this.v(T.u,g);if(x===0){T.l=p;return}else if(x>0){const O=T.L(),L=this.v(O.u,g);if(L===0){O.l=p;return}else L<0&&(_=new this.re(g,p),O.W===void 0?(O.W=_,_.tt=O):(T.U=_,_.tt=T))}}}if(_===void 0)for(_=this.Y;;){const T=this.v(_.u,g);if(T>0){if(_.U===void 0){_.U=new this.re(g,p),_.U.tt=_,_=_.U;break}_=_.U}else if(T<0){if(_.W===void 0){_.W=new this.re(g,p),_.W.tt=_,_=_.W;break}_=_.W}else{_.l=p;return}}}}return this.i+=1,_}I(g,p){for(;g;){const y=this.v(g.u,p);if(y<0)g=g.W;else if(y>0)g=g.U;else return g}return g||this.h}clear(){this.i=0,this.Y=void 0,this.h.tt=void 0,this.h.U=this.h.W=void 0}updateKeyByIterator(g,p){const y=g.o;if(y===this.h&&(0,f.throwIteratorAccessError)(),this.i===1)return y.u=p,!0;if(y===this.h.U)return this.v(y.B().u,p)>0?(y.u=p,!0):!1;if(y===this.h.W)return this.v(y.L().u,p)<0?(y.u=p,!0):!1;const _=y.L().u;if(this.v(_,p)>=0)return!1;const b=y.B().u;return this.v(b,p)<=0?!1:(y.u=p,!0)}eraseElementByPos(g){if(g<0||g>this.i-1)throw new RangeError;let p=0;const y=this;return this.oe(this.Y,function(_){return g===p?(y.V(_),!0):(p+=1,!1)}),this.i}eraseElementByKey(g){if(this.i===0)return!1;const p=this.I(this.Y,g);return p===this.h?!1:(this.V(p),!0)}eraseElementByIterator(g){const p=g.o;p===this.h&&(0,f.throwIteratorAccessError)();const y=p.W===void 0;return g.iteratorType===0?y&&g.next():(!y||p.U===void 0)&&g.next(),this.V(p),g}forEach(g){let p=0;for(const y of this)g(y,p++,this)}getElementByPos(g){if(g<0||g>this.i-1)throw new RangeError;let p,y=0;for(const _ of this){if(y===g){p=_;break}y+=1}return p}getHeight(){if(this.i===0)return 0;const g=function(p){return p?Math.max(g(p.U),g(p.W))+1:0};return g(this.Y)}}var h=d;a.default=h},{"../../../utils/throwError":71,"../../ContainerBase":52,"./TreeNode":65}],67:[function(r,o,a){Object.defineProperty(a,"t",{value:!0}),a.default=void 0;var u=d(r("./Base")),c=d(r("./Base/TreeIterator")),f=r("../../utils/throwError");function d(p){return p&&p.t?p:{default:p}}class h extends c.default{constructor(y,_,b,A){super(y,_,A),this.container=b}get pointer(){this.o===this.h&&(0,f.throwIteratorAccessError)();const y=this;return new Proxy([],{get(_,b){if(b==="0")return y.o.u;if(b==="1")return y.o.l},set(_,b,A){if(b!=="1")throw new TypeError("props must be 1");return y.o.l=A,!0}})}copy(){return new h(this.o,this.h,this.container,this.iteratorType)}}class v extends u.default{constructor(y=[],_,b){super(_,b);const A=this;y.forEach(function(w){A.setElement(w[0],w[1])})}*K(y){y!==void 0&&(yield*this.K(y.U),yield[y.u,y.l],yield*this.K(y.W))}begin(){return new h(this.h.U||this.h,this.h,this)}end(){return new h(this.h,this.h,this)}rBegin(){return new h(this.h.W||this.h,this.h,this,1)}rEnd(){return new h(this.h,this.h,this,1)}front(){if(this.i===0)return;const y=this.h.U;return[y.u,y.l]}back(){if(this.i===0)return;const y=this.h.W;return[y.u,y.l]}lowerBound(y){const _=this.X(this.Y,y);return new h(_,this.h,this)}upperBound(y){const _=this.Z(this.Y,y);return new h(_,this.h,this)}reverseLowerBound(y){const _=this.$(this.Y,y);return new h(_,this.h,this)}reverseUpperBound(y){const _=this.rr(this.Y,y);return new h(_,this.h,this)}setElement(y,_,b){return this.M(y,_,b)}find(y){const _=this.I(this.Y,y);return new h(_,this.h,this)}getElementByKey(y){return this.I(this.Y,y).l}union(y){const _=this;return y.forEach(function(b){_.setElement(b[0],b[1])}),this.i}[Symbol.iterator](){return this.K(this.Y)}}var g=v;a.default=g},{"../../utils/throwError":71,"./Base":66,"./Base/TreeIterator":64}],68:[function(r,o,a){Object.defineProperty(a,"t",{value:!0}),a.default=void 0;var u=d(r("./Base")),c=d(r("./Base/TreeIterator")),f=r("../../utils/throwError");function d(p){return p&&p.t?p:{default:p}}class h extends c.default{constructor(y,_,b,A){super(y,_,A),this.container=b}get pointer(){return this.o===this.h&&(0,f.throwIteratorAccessError)(),this.o.u}copy(){return new h(this.o,this.h,this.container,this.iteratorType)}}class v extends u.default{constructor(y=[],_,b){super(_,b);const A=this;y.forEach(function(w){A.insert(w)})}*K(y){y!==void 0&&(yield*this.K(y.U),yield y.u,yield*this.K(y.W))}begin(){return new h(this.h.U||this.h,this.h,this)}end(){return new h(this.h,this.h,this)}rBegin(){return new h(this.h.W||this.h,this.h,this,1)}rEnd(){return new h(this.h,this.h,this,1)}front(){return this.h.U?this.h.U.u:void 0}back(){return this.h.W?this.h.W.u:void 0}insert(y,_){return this.M(y,void 0,_)}find(y){const _=this.I(this.Y,y);return new h(_,this.h,this)}lowerBound(y){const _=this.X(this.Y,y);return new h(_,this.h,this)}upperBound(y){const _=this.Z(this.Y,y);return new h(_,this.h,this)}reverseLowerBound(y){const _=this.$(this.Y,y);return new h(_,this.h,this)}reverseUpperBound(y){const _=this.rr(this.Y,y);return new h(_,this.h,this)}union(y){const _=this;return y.forEach(function(b){_.insert(b)}),this.i}[Symbol.iterator](){return this.K(this.Y)}}var g=v;a.default=g},{"../../utils/throwError":71,"./Base":66,"./Base/TreeIterator":64}],69:[function(r,o,a){Object.defineProperty(a,"t",{value:!0}),Object.defineProperty(a,"Deque",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(a,"HashMap",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(a,"HashSet",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(a,"LinkList",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(a,"OrderedMap",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(a,"OrderedSet",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(a,"PriorityQueue",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(a,"Queue",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(a,"Stack",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(a,"Vector",{enumerable:!0,get:function(){return d.default}});var u=b(r("./container/OtherContainer/Stack")),c=b(r("./container/OtherContainer/Queue")),f=b(r("./container/OtherContainer/PriorityQueue")),d=b(r("./container/SequentialContainer/Vector")),h=b(r("./container/SequentialContainer/LinkList")),v=b(r("./container/SequentialContainer/Deque")),g=b(r("./container/TreeContainer/OrderedSet")),p=b(r("./container/TreeContainer/OrderedMap")),y=b(r("./container/HashContainer/HashSet")),_=b(r("./container/HashContainer/HashMap"));function b(A){return A&&A.t?A:{default:A}}},{"./container/HashContainer/HashMap":54,"./container/HashContainer/HashSet":55,"./container/OtherContainer/PriorityQueue":56,"./container/OtherContainer/Queue":57,"./container/OtherContainer/Stack":58,"./container/SequentialContainer/Deque":61,"./container/SequentialContainer/LinkList":62,"./container/SequentialContainer/Vector":63,"./container/TreeContainer/OrderedMap":67,"./container/TreeContainer/OrderedSet":68}],70:[function(r,o,a){Object.defineProperty(a,"t",{value:!0}),a.default=u;function u(c){const f=typeof c;return f==="object"&&c!==null||f==="function"}},{}],71:[function(r,o,a){Object.defineProperty(a,"t",{value:!0}),a.throwIteratorAccessError=u;function u(){throw new RangeError("Iterator access denied!")}},{}],72:[function(r,o,a){(function(u){(function(){const c=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,d=typeof AbortController=="function"?AbortController:class{constructor(){this.signal=new g}abort(F=new Error("This operation was aborted")){this.signal.reason=this.signal.reason||F,this.signal.aborted=!0,this.signal.dispatchEvent({type:"abort",target:this.signal})}},h=typeof AbortSignal=="function",v=typeof d.AbortSignal=="function",g=h?AbortSignal:v?d.AbortController:class{constructor(){this.reason=void 0,this.aborted=!1,this._listeners=[]}dispatchEvent(F){F.type==="abort"&&(this.aborted=!0,this.onabort(F),this._listeners.forEach(Y=>Y(F),this))}onabort(){}addEventListener(F,Y){F==="abort"&&this._listeners.push(Y)}removeEventListener(F,Y){F==="abort"&&(this._listeners=this._listeners.filter(V=>V!==Y))}},p=new Set,y=(re,F)=>{const Y=`LRU_CACHE_OPTION_${re}`;w(Y)&&S(Y,`${re} option`,`options.${F}`,M)},_=(re,F)=>{const Y=`LRU_CACHE_METHOD_${re}`;if(w(Y)){const{prototype:V}=M,{get:z}=Object.getOwnPropertyDescriptor(V,re);S(Y,`${re} method`,`cache.${F}()`,z)}},b=(re,F)=>{const Y=`LRU_CACHE_PROPERTY_${re}`;if(w(Y)){const{prototype:V}=M,{get:z}=Object.getOwnPropertyDescriptor(V,re);S(Y,`${re} property`,`cache.${F}`,z)}},A=(...re)=>{typeof u=="object"&&u&&typeof u.emitWarning=="function"?u.emitWarning(...re):console.error(...re)},w=re=>!p.has(re),S=(re,F,Y,V)=>{p.add(re);const z=`The ${F} is deprecated. Please use ${Y} instead.`;A(z,"DeprecationWarning",re,V)},T=re=>re&&re===Math.floor(re)&&re>0&&isFinite(re),x=re=>T(re)?re<=Math.pow(2,8)?Uint8Array:re<=Math.pow(2,16)?Uint16Array:re<=Math.pow(2,32)?Uint32Array:re<=Number.MAX_SAFE_INTEGER?O:null:null;class O extends Array{constructor(F){super(F),this.fill(0)}}class L{constructor(F){if(F===0)return[];const Y=x(F);this.heap=new Y(F),this.length=0}push(F){this.heap[this.length++]=F}pop(){return this.heap[--this.length]}}class M{constructor(F={}){const{max:Y=0,ttl:V,ttlResolution:z=1,ttlAutopurge:$,updateAgeOnGet:pe,updateAgeOnHas:le,allowStale:Ie,dispose:he,disposeAfter:xe,noDisposeOnSet:_e,noUpdateTTL:jt,maxSize:Lt=0,maxEntrySize:Cn=0,sizeCalculation:vn,fetchMethod:kt,fetchContext:de,noDeleteOnFetchRejection:qe,noDeleteOnStaleGet:Et,allowStaleOnFetchRejection:In,allowStaleOnFetchAbort:$e,ignoreFetchAbort:Ce}=F,{length:ue,maxAge:At,stale:Oe}=F instanceof M?{}:F;if(Y!==0&&!T(Y))throw new TypeError("max option must be a nonnegative integer");const Ve=Y?x(Y):Array;if(!Ve)throw new Error("invalid max value: "+Y);if(this.max=Y,this.maxSize=Lt,this.maxEntrySize=Cn||this.maxSize,this.sizeCalculation=vn||ue,this.sizeCalculation){if(!this.maxSize&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(this.fetchMethod=kt||null,this.fetchMethod&&typeof this.fetchMethod!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.fetchContext=de,!this.fetchMethod&&de!==void 0)throw new TypeError("cannot set fetchContext without fetchMethod");if(this.keyMap=new Map,this.keyList=new Array(Y).fill(null),this.valList=new Array(Y).fill(null),this.next=new Ve(Y),this.prev=new Ve(Y),this.head=0,this.tail=0,this.free=new L(Y),this.initialFill=1,this.size=0,typeof he=="function"&&(this.dispose=he),typeof xe=="function"?(this.disposeAfter=xe,this.disposed=[]):(this.disposeAfter=null,this.disposed=null),this.noDisposeOnSet=!!_e,this.noUpdateTTL=!!jt,this.noDeleteOnFetchRejection=!!qe,this.allowStaleOnFetchRejection=!!In,this.allowStaleOnFetchAbort=!!$e,this.ignoreFetchAbort=!!Ce,this.maxEntrySize!==0){if(this.maxSize!==0&&!T(this.maxSize))throw new TypeError("maxSize must be a positive integer if specified");if(!T(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.initializeSizeTracking()}if(this.allowStale=!!Ie||!!Oe,this.noDeleteOnStaleGet=!!Et,this.updateAgeOnGet=!!pe,this.updateAgeOnHas=!!le,this.ttlResolution=T(z)||z===0?z:1,this.ttlAutopurge=!!$,this.ttl=V||At||0,this.ttl){if(!T(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.initializeTTLTracking()}if(this.max===0&&this.ttl===0&&this.maxSize===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.max&&!this.maxSize){const Pt="LRU_CACHE_UNBOUNDED";w(Pt)&&(p.add(Pt),A("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",Pt,M))}Oe&&y("stale","allowStale"),At&&y("maxAge","ttl"),ue&&y("length","sizeCalculation")}getRemainingTTL(F){return this.has(F,{updateAgeOnHas:!1})?1/0:0}initializeTTLTracking(){this.ttls=new O(this.max),this.starts=new O(this.max),this.setItemTTL=(V,z,$=c.now())=>{if(this.starts[V]=z!==0?$:0,this.ttls[V]=z,z!==0&&this.ttlAutopurge){const pe=setTimeout(()=>{this.isStale(V)&&this.delete(this.keyList[V])},z+1);pe.unref&&pe.unref()}},this.updateItemAge=V=>{this.starts[V]=this.ttls[V]!==0?c.now():0},this.statusTTL=(V,z)=>{V&&(V.ttl=this.ttls[z],V.start=this.starts[z],V.now=F||Y(),V.remainingTTL=V.now+V.ttl-V.start)};let F=0;const Y=()=>{const V=c.now();if(this.ttlResolution>0){F=V;const z=setTimeout(()=>F=0,this.ttlResolution);z.unref&&z.unref()}return V};this.getRemainingTTL=V=>{const z=this.keyMap.get(V);return z===void 0?0:this.ttls[z]===0||this.starts[z]===0?1/0:this.starts[z]+this.ttls[z]-(F||Y())},this.isStale=V=>this.ttls[V]!==0&&this.starts[V]!==0&&(F||Y())-this.starts[V]>this.ttls[V]}updateItemAge(F){}statusTTL(F,Y){}setItemTTL(F,Y,V){}isStale(F){return!1}initializeSizeTracking(){this.calculatedSize=0,this.sizes=new O(this.max),this.removeItemSize=F=>{this.calculatedSize-=this.sizes[F],this.sizes[F]=0},this.requireSize=(F,Y,V,z)=>{if(this.isBackgroundFetch(Y))return 0;if(!T(V))if(z){if(typeof z!="function")throw new TypeError("sizeCalculation must be a function");if(V=z(Y,F),!T(V))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return V},this.addItemSize=(F,Y,V)=>{if(this.sizes[F]=Y,this.maxSize){const z=this.maxSize-this.sizes[F];for(;this.calculatedSize>z;)this.evict(!0)}this.calculatedSize+=this.sizes[F],V&&(V.entrySize=Y,V.totalCalculatedSize=this.calculatedSize)}}removeItemSize(F){}addItemSize(F,Y){}requireSize(F,Y,V,z){if(V||z)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache")}*indexes({allowStale:F=this.allowStale}={}){if(this.size)for(let Y=this.tail;!(!this.isValidIndex(Y)||((F||!this.isStale(Y))&&(yield Y),Y===this.head));)Y=this.prev[Y]}*rindexes({allowStale:F=this.allowStale}={}){if(this.size)for(let Y=this.head;!(!this.isValidIndex(Y)||((F||!this.isStale(Y))&&(yield Y),Y===this.tail));)Y=this.next[Y]}isValidIndex(F){return F!==void 0&&this.keyMap.get(this.keyList[F])===F}*entries(){for(const F of this.indexes())this.valList[F]!==void 0&&this.keyList[F]!==void 0&&!this.isBackgroundFetch(this.valList[F])&&(yield[this.keyList[F],this.valList[F]])}*rentries(){for(const F of this.rindexes())this.valList[F]!==void 0&&this.keyList[F]!==void 0&&!this.isBackgroundFetch(this.valList[F])&&(yield[this.keyList[F],this.valList[F]])}*keys(){for(const F of this.indexes())this.keyList[F]!==void 0&&!this.isBackgroundFetch(this.valList[F])&&(yield this.keyList[F])}*rkeys(){for(const F of this.rindexes())this.keyList[F]!==void 0&&!this.isBackgroundFetch(this.valList[F])&&(yield this.keyList[F])}*values(){for(const F of this.indexes())this.valList[F]!==void 0&&!this.isBackgroundFetch(this.valList[F])&&(yield this.valList[F])}*rvalues(){for(const F of this.rindexes())this.valList[F]!==void 0&&!this.isBackgroundFetch(this.valList[F])&&(yield this.valList[F])}[Symbol.iterator](){return this.entries()}find(F,Y){for(const V of this.indexes()){const z=this.valList[V],$=this.isBackgroundFetch(z)?z.__staleWhileFetching:z;if($!==void 0&&F($,this.keyList[V],this))return this.get(this.keyList[V],Y)}}forEach(F,Y=this){for(const V of this.indexes()){const z=this.valList[V],$=this.isBackgroundFetch(z)?z.__staleWhileFetching:z;$!==void 0&&F.call(Y,$,this.keyList[V],this)}}rforEach(F,Y=this){for(const V of this.rindexes()){const z=this.valList[V],$=this.isBackgroundFetch(z)?z.__staleWhileFetching:z;$!==void 0&&F.call(Y,$,this.keyList[V],this)}}get prune(){return _("prune","purgeStale"),this.purgeStale}purgeStale(){let F=!1;for(const Y of this.rindexes({allowStale:!0}))this.isStale(Y)&&(this.delete(this.keyList[Y]),F=!0);return F}dump(){const F=[];for(const Y of this.indexes({allowStale:!0})){const V=this.keyList[Y],z=this.valList[Y],$=this.isBackgroundFetch(z)?z.__staleWhileFetching:z;if($===void 0)continue;const pe={value:$};if(this.ttls){pe.ttl=this.ttls[Y];const le=c.now()-this.starts[Y];pe.start=Math.floor(Date.now()-le)}this.sizes&&(pe.size=this.sizes[Y]),F.unshift([V,pe])}return F}load(F){this.clear();for(const[Y,V]of F){if(V.start){const z=Date.now()-V.start;V.start=c.now()-z}this.set(Y,V.value,V)}}dispose(F,Y,V){}set(F,Y,{ttl:V=this.ttl,start:z,noDisposeOnSet:$=this.noDisposeOnSet,size:pe=0,sizeCalculation:le=this.sizeCalculation,noUpdateTTL:Ie=this.noUpdateTTL,status:he}={}){if(pe=this.requireSize(F,Y,pe,le),this.maxEntrySize&&pe>this.maxEntrySize)return he&&(he.set="miss",he.maxEntrySizeExceeded=!0),this.delete(F),this;let xe=this.size===0?void 0:this.keyMap.get(F);if(xe===void 0)xe=this.newIndex(),this.keyList[xe]=F,this.valList[xe]=Y,this.keyMap.set(F,xe),this.next[this.tail]=xe,this.prev[xe]=this.tail,this.tail=xe,this.size++,this.addItemSize(xe,pe,he),he&&(he.set="add"),Ie=!1;else{this.moveToTail(xe);const _e=this.valList[xe];if(Y!==_e){if(this.isBackgroundFetch(_e)?_e.__abortController.abort(new Error("replaced")):$||(this.dispose(_e,F,"set"),this.disposeAfter&&this.disposed.push([_e,F,"set"])),this.removeItemSize(xe),this.valList[xe]=Y,this.addItemSize(xe,pe,he),he){he.set="replace";const jt=_e&&this.isBackgroundFetch(_e)?_e.__staleWhileFetching:_e;jt!==void 0&&(he.oldValue=jt)}}else he&&(he.set="update")}if(V!==0&&this.ttl===0&&!this.ttls&&this.initializeTTLTracking(),Ie||this.setItemTTL(xe,V,z),this.statusTTL(he,xe),this.disposeAfter)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return this}newIndex(){return this.size===0?this.tail:this.size===this.max&&this.max!==0?this.evict(!1):this.free.length!==0?this.free.pop():this.initialFill++}pop(){if(this.size){const F=this.valList[this.head];return this.evict(!0),F}}evict(F){const Y=this.head,V=this.keyList[Y],z=this.valList[Y];return this.isBackgroundFetch(z)?z.__abortController.abort(new Error("evicted")):(this.dispose(z,V,"evict"),this.disposeAfter&&this.disposed.push([z,V,"evict"])),this.removeItemSize(Y),F&&(this.keyList[Y]=null,this.valList[Y]=null,this.free.push(Y)),this.head=this.next[Y],this.keyMap.delete(V),this.size--,Y}has(F,{updateAgeOnHas:Y=this.updateAgeOnHas,status:V}={}){const z=this.keyMap.get(F);if(z!==void 0)if(this.isStale(z))V&&(V.has="stale",this.statusTTL(V,z));else return Y&&this.updateItemAge(z),V&&(V.has="hit"),this.statusTTL(V,z),!0;else V&&(V.has="miss");return!1}peek(F,{allowStale:Y=this.allowStale}={}){const V=this.keyMap.get(F);if(V!==void 0&&(Y||!this.isStale(V))){const z=this.valList[V];return this.isBackgroundFetch(z)?z.__staleWhileFetching:z}}backgroundFetch(F,Y,V,z){const $=Y===void 0?void 0:this.valList[Y];if(this.isBackgroundFetch($))return $;const pe=new d;V.signal&&V.signal.addEventListener("abort",()=>pe.abort(V.signal.reason));const le={signal:pe.signal,options:V,context:z},Ie=(Lt,Cn=!1)=>{const{aborted:vn}=pe.signal,kt=V.ignoreFetchAbort&&Lt!==void 0;return V.status&&(vn&&!Cn?(V.status.fetchAborted=!0,V.status.fetchError=pe.signal.reason,kt&&(V.status.fetchAbortIgnored=!0)):V.status.fetchResolved=!0),vn&&!kt&&!Cn?xe(pe.signal.reason):(this.valList[Y]===jt&&(Lt===void 0?jt.__staleWhileFetching?this.valList[Y]=jt.__staleWhileFetching:this.delete(F):(V.status&&(V.status.fetchUpdated=!0),this.set(F,Lt,le.options))),Lt)},he=Lt=>(V.status&&(V.status.fetchRejected=!0,V.status.fetchError=Lt),xe(Lt)),xe=Lt=>{const{aborted:Cn}=pe.signal,vn=Cn&&V.allowStaleOnFetchAbort,kt=vn||V.allowStaleOnFetchRejection,de=kt||V.noDeleteOnFetchRejection;if(this.valList[Y]===jt&&(!de||jt.__staleWhileFetching===void 0?this.delete(F):vn||(this.valList[Y]=jt.__staleWhileFetching)),kt)return V.status&&jt.__staleWhileFetching!==void 0&&(V.status.returnedStale=!0),jt.__staleWhileFetching;if(jt.__returned===jt)throw Lt},_e=(Lt,Cn)=>{this.fetchMethod(F,$,le).then(vn=>Lt(vn),Cn),pe.signal.addEventListener("abort",()=>{(!V.ignoreFetchAbort||V.allowStaleOnFetchAbort)&&(Lt(),V.allowStaleOnFetchAbort&&(Lt=vn=>Ie(vn,!0)))})};V.status&&(V.status.fetchDispatched=!0);const jt=new Promise(_e).then(Ie,he);return jt.__abortController=pe,jt.__staleWhileFetching=$,jt.__returned=null,Y===void 0?(this.set(F,jt,{...le.options,status:void 0}),Y=this.keyMap.get(F)):this.valList[Y]=jt,jt}isBackgroundFetch(F){return F&&typeof F=="object"&&typeof F.then=="function"&&Object.prototype.hasOwnProperty.call(F,"__staleWhileFetching")&&Object.prototype.hasOwnProperty.call(F,"__returned")&&(F.__returned===F||F.__returned===null)}async fetch(F,{allowStale:Y=this.allowStale,updateAgeOnGet:V=this.updateAgeOnGet,noDeleteOnStaleGet:z=this.noDeleteOnStaleGet,ttl:$=this.ttl,noDisposeOnSet:pe=this.noDisposeOnSet,size:le=0,sizeCalculation:Ie=this.sizeCalculation,noUpdateTTL:he=this.noUpdateTTL,noDeleteOnFetchRejection:xe=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:_e=this.allowStaleOnFetchRejection,ignoreFetchAbort:jt=this.ignoreFetchAbort,allowStaleOnFetchAbort:Lt=this.allowStaleOnFetchAbort,fetchContext:Cn=this.fetchContext,forceRefresh:vn=!1,status:kt,signal:de}={}){if(!this.fetchMethod)return kt&&(kt.fetch="get"),this.get(F,{allowStale:Y,updateAgeOnGet:V,noDeleteOnStaleGet:z,status:kt});const qe={allowStale:Y,updateAgeOnGet:V,noDeleteOnStaleGet:z,ttl:$,noDisposeOnSet:pe,size:le,sizeCalculation:Ie,noUpdateTTL:he,noDeleteOnFetchRejection:xe,allowStaleOnFetchRejection:_e,allowStaleOnFetchAbort:Lt,ignoreFetchAbort:jt,status:kt,signal:de};let Et=this.keyMap.get(F);if(Et===void 0){kt&&(kt.fetch="miss");const In=this.backgroundFetch(F,Et,qe,Cn);return In.__returned=In}else{const In=this.valList[Et];if(this.isBackgroundFetch(In)){const Oe=Y&&In.__staleWhileFetching!==void 0;return kt&&(kt.fetch="inflight",Oe&&(kt.returnedStale=!0)),Oe?In.__staleWhileFetching:In.__returned=In}const $e=this.isStale(Et);if(!vn&&!$e)return kt&&(kt.fetch="hit"),this.moveToTail(Et),V&&this.updateItemAge(Et),this.statusTTL(kt,Et),In;const Ce=this.backgroundFetch(F,Et,qe,Cn),ue=Ce.__staleWhileFetching!==void 0,At=ue&&Y;return kt&&(kt.fetch=ue&&$e?"stale":"refresh",At&&$e&&(kt.returnedStale=!0)),At?Ce.__staleWhileFetching:Ce.__returned=Ce}}get(F,{allowStale:Y=this.allowStale,updateAgeOnGet:V=this.updateAgeOnGet,noDeleteOnStaleGet:z=this.noDeleteOnStaleGet,status:$}={}){const pe=this.keyMap.get(F);if(pe!==void 0){const le=this.valList[pe],Ie=this.isBackgroundFetch(le);return this.statusTTL($,pe),this.isStale(pe)?($&&($.get="stale"),Ie?($&&($.returnedStale=Y&&le.__staleWhileFetching!==void 0),Y?le.__staleWhileFetching:void 0):(z||this.delete(F),$&&($.returnedStale=Y),Y?le:void 0)):($&&($.get="hit"),Ie?le.__staleWhileFetching:(this.moveToTail(pe),V&&this.updateItemAge(pe),le))}else $&&($.get="miss")}connect(F,Y){this.prev[Y]=F,this.next[F]=Y}moveToTail(F){F!==this.tail&&(F===this.head?this.head=this.next[F]:this.connect(this.prev[F],this.next[F]),this.connect(this.tail,F),this.tail=F)}get del(){return _("del","delete"),this.delete}delete(F){let Y=!1;if(this.size!==0){const V=this.keyMap.get(F);if(V!==void 0)if(Y=!0,this.size===1)this.clear();else{this.removeItemSize(V);const z=this.valList[V];this.isBackgroundFetch(z)?z.__abortController.abort(new Error("deleted")):(this.dispose(z,F,"delete"),this.disposeAfter&&this.disposed.push([z,F,"delete"])),this.keyMap.delete(F),this.keyList[V]=null,this.valList[V]=null,V===this.tail?this.tail=this.prev[V]:V===this.head?this.head=this.next[V]:(this.next[this.prev[V]]=this.next[V],this.prev[this.next[V]]=this.prev[V]),this.size--,this.free.push(V)}}if(this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return Y}clear(){for(const F of this.rindexes({allowStale:!0})){const Y=this.valList[F];if(this.isBackgroundFetch(Y))Y.__abortController.abort(new Error("deleted"));else{const V=this.keyList[F];this.dispose(Y,V,"delete"),this.disposeAfter&&this.disposed.push([Y,V,"delete"])}}if(this.keyMap.clear(),this.valList.fill(null),this.keyList.fill(null),this.ttls&&(this.ttls.fill(0),this.starts.fill(0)),this.sizes&&this.sizes.fill(0),this.head=0,this.tail=0,this.initialFill=1,this.free.length=0,this.calculatedSize=0,this.size=0,this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift())}get reset(){return _("reset","clear"),this.clear}get length(){return b("length","size"),this.size}static get AbortController(){return d}static get AbortSignal(){return g}}o.exports=M}).call(this)}).call(this,r("_process"))},{_process:102}],73:[function(r,o,a){const u=o.exports,{Buffer:c}=r("buffer");u.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},u.requiredHeaderFlags={1:0,2:0,4:0,5:0,6:2,7:0,8:2,9:0,10:2,11:0,12:0,13:0,14:0,15:0},u.requiredHeaderFlagsErrors={};for(const d in u.requiredHeaderFlags){const h=u.requiredHeaderFlags[d];u.requiredHeaderFlagsErrors[d]="Invalid header flag bits, must be 0x"+h.toString(16)+" for "+u.types[d]+" packet"}u.codes={};for(const d in u.types){const h=u.types[d];u.codes[h]=d}u.CMD_SHIFT=4,u.CMD_MASK=240,u.DUP_MASK=8,u.QOS_MASK=3,u.QOS_SHIFT=1,u.RETAIN_MASK=1,u.VARBYTEINT_MASK=127,u.VARBYTEINT_FIN_MASK=128,u.VARBYTEINT_MAX=268435455,u.SESSIONPRESENT_MASK=1,u.SESSIONPRESENT_HEADER=c.from([u.SESSIONPRESENT_MASK]),u.CONNACK_HEADER=c.from([u.codes.connack<<u.CMD_SHIFT]),u.USERNAME_MASK=128,u.PASSWORD_MASK=64,u.WILL_RETAIN_MASK=32,u.WILL_QOS_MASK=24,u.WILL_QOS_SHIFT=3,u.WILL_FLAG_MASK=4,u.CLEAN_SESSION_MASK=2,u.CONNECT_HEADER=c.from([u.codes.connect<<u.CMD_SHIFT]),u.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},u.propertiesCodes={};for(const d in u.properties){const h=u.properties[d];u.propertiesCodes[h]=d}u.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"};function f(d){return[0,1,2].map(h=>[0,1].map(v=>[0,1].map(g=>{const p=c.alloc(1);return p.writeUInt8(u.codes[d]<<u.CMD_SHIFT|(v?u.DUP_MASK:0)|h<<u.QOS_SHIFT|g,0,!0),p})))}u.PUBLISH_HEADER=f("publish"),u.SUBSCRIBE_HEADER=f("subscribe"),u.SUBSCRIBE_OPTIONS_QOS_MASK=3,u.SUBSCRIBE_OPTIONS_NL_MASK=1,u.SUBSCRIBE_OPTIONS_NL_SHIFT=2,u.SUBSCRIBE_OPTIONS_RAP_MASK=1,u.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,u.SUBSCRIBE_OPTIONS_RH_MASK=3,u.SUBSCRIBE_OPTIONS_RH_SHIFT=4,u.SUBSCRIBE_OPTIONS_RH=[0,16,32],u.SUBSCRIBE_OPTIONS_NL=4,u.SUBSCRIBE_OPTIONS_RAP=8,u.SUBSCRIBE_OPTIONS_QOS=[0,1,2],u.UNSUBSCRIBE_HEADER=f("unsubscribe"),u.ACKS={unsuback:f("unsuback"),puback:f("puback"),pubcomp:f("pubcomp"),pubrel:f("pubrel"),pubrec:f("pubrec")},u.SUBACK_HEADER=c.from([u.codes.suback<<u.CMD_SHIFT]),u.VERSION3=c.from([3]),u.VERSION4=c.from([4]),u.VERSION5=c.from([5]),u.VERSION131=c.from([131]),u.VERSION132=c.from([132]),u.QOS=[0,1,2].map(d=>c.from([d])),u.EMPTY={pingreq:c.from([u.codes.pingreq<<4,0]),pingresp:c.from([u.codes.pingresp<<4,0]),disconnect:c.from([u.codes.disconnect<<4,0])},u.MQTT5_PUBACK_PUBREC_CODES={0:"Success",16:"No matching subscribers",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",144:"Topic Name invalid",145:"Packet identifier in use",151:"Quota exceeded",153:"Payload format invalid"},u.MQTT5_PUBREL_PUBCOMP_CODES={0:"Success",146:"Packet Identifier not found"},u.MQTT5_SUBACK_CODES={0:"Granted QoS 0",1:"Granted QoS 1",2:"Granted QoS 2",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use",151:"Quota exceeded",158:"Shared Subscriptions not supported",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},u.MQTT5_UNSUBACK_CODES={0:"Success",17:"No subscription existed",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use"},u.MQTT5_DISCONNECT_CODES={0:"Normal disconnection",4:"Disconnect with Will Message",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",135:"Not authorized",137:"Server busy",139:"Server shutting down",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},u.MQTT5_AUTH_CODES={0:"Success",24:"Continue authentication",25:"Re-authenticate"}},{buffer:29}],74:[function(r,o,a){const u=r("./writeToStream"),c=r("events"),{Buffer:f}=r("buffer");function d(v,g){const p=new h;return u(v,p,g),p.concat()}class h extends c{constructor(){super(),this._array=new Array(20),this._i=0}write(g){return this._array[this._i++]=g,!0}concat(){let g=0;const p=new Array(this._array.length),y=this._array;let _=0,b;for(b=0;b<y.length&&y[b]!==void 0;b++)typeof y[b]!="string"?p[b]=y[b].length:p[b]=f.byteLength(y[b]),g+=p[b];const A=f.allocUnsafe(g);for(b=0;b<y.length&&y[b]!==void 0;b++)typeof y[b]!="string"?(y[b].copy(A,_),_+=p[b]):(A.write(y[b],_),_+=p[b]);return A}destroy(g){g&&this.emit("error",g)}}o.exports=d},{"./writeToStream":96,buffer:29,events:49}],75:[function(r,o,a){a.parser=r("./parser").parser,a.generate=r("./generate"),a.writeToStream=r("./writeToStream")},{"./generate":74,"./parser":95,"./writeToStream":96}],76:[function(r,o,a){const{Buffer:u}=r("buffer"),c=Symbol.for("BufferList");function f(d){if(!(this instanceof f))return new f(d);f._init.call(this,d)}f._init=function(h){Object.defineProperty(this,c,{value:!0}),this._bufs=[],this.length=0,h&&this.append(h)},f.prototype._new=function(h){return new f(h)},f.prototype._offset=function(h){if(h===0)return[0,0];let v=0;for(let g=0;g<this._bufs.length;g++){const p=v+this._bufs[g].length;if(h<p||g===this._bufs.length-1)return[g,h-v];v=p}},f.prototype._reverseOffset=function(d){const h=d[0];let v=d[1];for(let g=0;g<h;g++)v+=this._bufs[g].length;return v},f.prototype.get=function(h){if(h>this.length||h<0)return;const v=this._offset(h);return this._bufs[v[0]][v[1]]},f.prototype.slice=function(h,v){return typeof h=="number"&&h<0&&(h+=this.length),typeof v=="number"&&v<0&&(v+=this.length),this.copy(null,0,h,v)},f.prototype.copy=function(h,v,g,p){if((typeof g!="number"||g<0)&&(g=0),(typeof p!="number"||p>this.length)&&(p=this.length),g>=this.length||p<=0)return h||u.alloc(0);const y=!!h,_=this._offset(g),b=p-g;let A=b,w=y&&v||0,S=_[1];if(g===0&&p===this.length){if(!y)return this._bufs.length===1?this._bufs[0]:u.concat(this._bufs,this.length);for(let T=0;T<this._bufs.length;T++)this._bufs[T].copy(h,w),w+=this._bufs[T].length;return h}if(A<=this._bufs[_[0]].length-S)return y?this._bufs[_[0]].copy(h,v,S,S+A):this._bufs[_[0]].slice(S,S+A);y||(h=u.allocUnsafe(b));for(let T=_[0];T<this._bufs.length;T++){const x=this._bufs[T].length-S;if(A>x)this._bufs[T].copy(h,w,S),w+=x;else{this._bufs[T].copy(h,w,S,S+A),w+=x;break}A-=x,S&&(S=0)}return h.length>w?h.slice(0,w):h},f.prototype.shallowSlice=function(h,v){if(h=h||0,v=typeof v!="number"?this.length:v,h<0&&(h+=this.length),v<0&&(v+=this.length),h===v)return this._new();const g=this._offset(h),p=this._offset(v),y=this._bufs.slice(g[0],p[0]+1);return p[1]===0?y.pop():y[y.length-1]=y[y.length-1].slice(0,p[1]),g[1]!==0&&(y[0]=y[0].slice(g[1])),this._new(y)},f.prototype.toString=function(h,v,g){return this.slice(v,g).toString(h)},f.prototype.consume=function(h){if(h=Math.trunc(h),Number.isNaN(h)||h<=0)return this;for(;this._bufs.length;)if(h>=this._bufs[0].length)h-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(h),this.length-=h;break}return this},f.prototype.duplicate=function(){const h=this._new();for(let v=0;v<this._bufs.length;v++)h.append(this._bufs[v]);return h},f.prototype.append=function(h){if(h==null)return this;if(h.buffer)this._appendBuffer(u.from(h.buffer,h.byteOffset,h.byteLength));else if(Array.isArray(h))for(let v=0;v<h.length;v++)this.append(h[v]);else if(this._isBufferList(h))for(let v=0;v<h._bufs.length;v++)this.append(h._bufs[v]);else typeof h=="number"&&(h=h.toString()),this._appendBuffer(u.from(h));return this},f.prototype._appendBuffer=function(h){this._bufs.push(h),this.length+=h.length},f.prototype.indexOf=function(d,h,v){if(v===void 0&&typeof h=="string"&&(v=h,h=void 0),typeof d=="function"||Array.isArray(d))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof d=="number"?d=u.from([d]):typeof d=="string"?d=u.from(d,v):this._isBufferList(d)?d=d.slice():Array.isArray(d.buffer)?d=u.from(d.buffer,d.byteOffset,d.byteLength):u.isBuffer(d)||(d=u.from(d)),h=Number(h||0),isNaN(h)&&(h=0),h<0&&(h=this.length+h),h<0&&(h=0),d.length===0)return h>this.length?this.length:h;const g=this._offset(h);let p=g[0],y=g[1];for(;p<this._bufs.length;p++){const _=this._bufs[p];for(;y<_.length;)if(_.length-y>=d.length){const A=_.indexOf(d,y);if(A!==-1)return this._reverseOffset([p,A]);y=_.length-d.length+1}else{const A=this._reverseOffset([p,y]);if(this._match(A,d))return A;y++}y=0}return-1},f.prototype._match=function(d,h){if(this.length-d<h.length)return!1;for(let v=0;v<h.length;v++)if(this.get(d+v)!==h[v])return!1;return!0},function(){const d={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(const h in d)(function(v){d[v]===null?f.prototype[v]=function(g,p){return this.slice(g,g+p)[v](0,p)}:f.prototype[v]=function(g=0){return this.slice(g,g+d[v])[v](0)}})(h)}(),f.prototype._isBufferList=function(h){return h instanceof f||f.isBufferList(h)},f.isBufferList=function(h){return h!=null&&h[c]},o.exports=f},{buffer:29}],77:[function(r,o,a){const u=r("readable-stream").Duplex,c=r("inherits"),f=r("./BufferList");function d(h){if(!(this instanceof d))return new d(h);if(typeof h=="function"){this._callback=h;const v=function(p){this._callback&&(this._callback(p),this._callback=null)}.bind(this);this.on("pipe",function(p){p.on("error",v)}),this.on("unpipe",function(p){p.removeListener("error",v)}),h=null}f._init.call(this,h),u.call(this)}c(d,u),Object.assign(d.prototype,f.prototype),d.prototype._new=function(v){return new d(v)},d.prototype._write=function(v,g,p){this._appendBuffer(v),typeof p=="function"&&p()},d.prototype._read=function(v){if(!this.length)return this.push(null);v=Math.min(v,this.length),this.push(this.slice(0,v)),this.consume(v)},d.prototype.end=function(v){u.prototype.end.call(this,v),this._callback&&(this._callback(null,this.slice()),this._callback=null)},d.prototype._destroy=function(v,g){this._bufs.length=0,this.length=0,g(v)},d.prototype._isBufferList=function(v){return v instanceof d||v instanceof f||d.isBufferList(v)},d.isBufferList=f.isBufferList,o.exports=d,o.exports.BufferListStream=d,o.exports.BufferList=f},{"./BufferList":76,inherits:51,"readable-stream":92}],78:[function(r,o,a){arguments[4][33][0].apply(a,arguments)},{dup:33}],79:[function(r,o,a){arguments[4][34][0].apply(a,arguments)},{"./_stream_readable":81,"./_stream_writable":83,_process:102,dup:34,inherits:51}],80:[function(r,o,a){arguments[4][35][0].apply(a,arguments)},{"./_stream_transform":82,dup:35,inherits:51}],81:[function(r,o,a){arguments[4][36][0].apply(a,arguments)},{"../errors":78,"./_stream_duplex":79,"./internal/streams/async_iterator":84,"./internal/streams/buffer_list":85,"./internal/streams/destroy":86,"./internal/streams/from":88,"./internal/streams/state":90,"./internal/streams/stream":91,_process:102,buffer:29,dup:36,events:49,inherits:51,"string_decoder/":136,util:26}],82:[function(r,o,a){arguments[4][37][0].apply(a,arguments)},{"../errors":78,"./_stream_duplex":79,dup:37,inherits:51}],83:[function(r,o,a){arguments[4][38][0].apply(a,arguments)},{"../errors":78,"./_stream_duplex":79,"./internal/streams/destroy":86,"./internal/streams/state":90,"./internal/streams/stream":91,_process:102,buffer:29,dup:38,inherits:51,"util-deprecate":139}],84:[function(r,o,a){arguments[4][39][0].apply(a,arguments)},{"./end-of-stream":87,_process:102,dup:39}],85:[function(r,o,a){arguments[4][40][0].apply(a,arguments)},{buffer:29,dup:40,util:26}],86:[function(r,o,a){arguments[4][41][0].apply(a,arguments)},{_process:102,dup:41}],87:[function(r,o,a){arguments[4][42][0].apply(a,arguments)},{"../../../errors":78,dup:42}],88:[function(r,o,a){arguments[4][43][0].apply(a,arguments)},{dup:43}],89:[function(r,o,a){arguments[4][44][0].apply(a,arguments)},{"../../../errors":78,"./end-of-stream":87,dup:44}],90:[function(r,o,a){arguments[4][45][0].apply(a,arguments)},{"../../../errors":78,dup:45}],91:[function(r,o,a){arguments[4][46][0].apply(a,arguments)},{dup:46,events:49}],92:[function(r,o,a){arguments[4][47][0].apply(a,arguments)},{"./lib/_stream_duplex.js":79,"./lib/_stream_passthrough.js":80,"./lib/_stream_readable.js":81,"./lib/_stream_transform.js":82,"./lib/_stream_writable.js":83,"./lib/internal/streams/end-of-stream.js":87,"./lib/internal/streams/pipeline.js":89,dup:47}],93:[function(r,o,a){const{Buffer:u}=r("buffer"),c=65536,f={},d=u.isBuffer(u.from([1,2]).subarray(0,1));function h(y){const _=u.allocUnsafe(2);return _.writeUInt8(y>>8,0),_.writeUInt8(y&255,0+1),_}function v(){for(let y=0;y<c;y++)f[y]=h(y)}function g(y){let b=0,A=0;const w=u.allocUnsafe(4);do b=y%128|0,y=y/128|0,y>0&&(b=b|128),w.writeUInt8(b,A++);while(y>0&&A<4);return y>0&&(A=0),d?w.subarray(0,A):w.slice(0,A)}function p(y){const _=u.allocUnsafe(4);return _.writeUInt32BE(y,0),_}o.exports={cache:f,generateCache:v,generateNumber:h,genBufVariableByteInt:g,generate4ByteBuffer:p}},{buffer:29}],94:[function(r,o,a){class u{constructor(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}}o.exports=u},{}],95:[function(r,o,a){const u=r("bl"),c=r("events"),f=r("./packet"),d=r("./constants"),h=r("debug")("mqtt-packet:parser");class v extends c{constructor(){super(),this.parser=this.constructor.parser}static parser(p){return this instanceof v?(this.settings=p||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState(),this):new v().parser(p)}_resetState(){h("_resetState: resetting packet, error, _list, and _stateCounter"),this.packet=new f,this.error=null,this._list=u(),this._stateCounter=0}parse(p){for(this.error&&this._resetState(),this._list.append(p),h("parse: current state: %s",this._states[this._stateCounter]);(this.packet.length!==-1||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,h("parse: state complete. _stateCounter is now: %d",this._stateCounter),h("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return h("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length),this._list.length}_parseHeader(){const p=this._list.readUInt8(0),y=p>>d.CMD_SHIFT;this.packet.cmd=d.types[y];const _=p&15,b=d.requiredHeaderFlags[y];return b!=null&&_!==b?this._emitError(new Error(d.requiredHeaderFlagsErrors[y])):(this.packet.retain=(p&d.RETAIN_MASK)!==0,this.packet.qos=p>>d.QOS_SHIFT&d.QOS_MASK,this.packet.qos>2?this._emitError(new Error("Packet must not have both QoS bits set to 1")):(this.packet.dup=(p&d.DUP_MASK)!==0,h("_parseHeader: packet: %o",this.packet),this._list.consume(1),!0))}_parseLength(){const p=this._parseVarByteNum(!0);return p&&(this.packet.length=p.value,this._list.consume(p.bytes)),h("_parseLength %d",p.value),!!p}_parsePayload(){h("_parsePayload: payload %O",this._list);let p=!1;if(this.packet.length===0||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}p=!0}return h("_parsePayload complete result: %s",p),p}_parseConnect(){h("_parseConnect");let p,y,_,b;const A={},w=this.packet,S=this._parseString();if(S===null)return this._emitError(new Error("Cannot parse protocolId"));if(S!=="MQTT"&&S!=="MQIsdp")return this._emitError(new Error("Invalid protocolId"));if(w.protocolId=S,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(w.protocolVersion=this._list.readUInt8(this._pos),w.protocolVersion>=128&&(w.bridgeMode=!0,w.protocolVersion=w.protocolVersion-128),w.protocolVersion!==3&&w.protocolVersion!==4&&w.protocolVersion!==5)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(this._list.readUInt8(this._pos)&1)return this._emitError(new Error("Connect flag bit 0 must be 0, but got 1"));A.username=this._list.readUInt8(this._pos)&d.USERNAME_MASK,A.password=this._list.readUInt8(this._pos)&d.PASSWORD_MASK,A.will=this._list.readUInt8(this._pos)&d.WILL_FLAG_MASK;const T=!!(this._list.readUInt8(this._pos)&d.WILL_RETAIN_MASK),x=(this._list.readUInt8(this._pos)&d.WILL_QOS_MASK)>>d.WILL_QOS_SHIFT;if(A.will)w.will={},w.will.retain=T,w.will.qos=x;else{if(T)return this._emitError(new Error("Will Retain Flag must be set to zero when Will Flag is set to 0"));if(x)return this._emitError(new Error("Will QoS must be set to zero when Will Flag is set to 0"))}if(w.clean=(this._list.readUInt8(this._pos)&d.CLEAN_SESSION_MASK)!==0,this._pos++,w.keepalive=this._parseNum(),w.keepalive===-1)return this._emitError(new Error("Packet too short"));if(w.protocolVersion===5){const L=this._parseProperties();Object.getOwnPropertyNames(L).length&&(w.properties=L)}const O=this._parseString();if(O===null)return this._emitError(new Error("Packet too short"));if(w.clientId=O,h("_parseConnect: packet.clientId: %s",w.clientId),A.will){if(w.protocolVersion===5){const L=this._parseProperties();Object.getOwnPropertyNames(L).length&&(w.will.properties=L)}if(p=this._parseString(),p===null)return this._emitError(new Error("Cannot parse will topic"));if(w.will.topic=p,h("_parseConnect: packet.will.topic: %s",w.will.topic),y=this._parseBuffer(),y===null)return this._emitError(new Error("Cannot parse will payload"));w.will.payload=y,h("_parseConnect: packet.will.paylaod: %s",w.will.payload)}if(A.username){if(b=this._parseString(),b===null)return this._emitError(new Error("Cannot parse username"));w.username=b,h("_parseConnect: packet.username: %s",w.username)}if(A.password){if(_=this._parseBuffer(),_===null)return this._emitError(new Error("Cannot parse password"));w.password=_}return this.settings=w,h("_parseConnect: complete"),w}_parseConnack(){h("_parseConnack");const p=this.packet;if(this._list.length<1)return null;const y=this._list.readUInt8(this._pos++);if(y>1)return this._emitError(new Error("Invalid connack flags, bits 7-1 must be set to 0"));if(p.sessionPresent=!!(y&d.SESSIONPRESENT_MASK),this.settings.protocolVersion===5)this._list.length>=2?p.reasonCode=this._list.readUInt8(this._pos++):p.reasonCode=0;else{if(this._list.length<2)return null;p.returnCode=this._list.readUInt8(this._pos++)}if(p.returnCode===-1||p.reasonCode===-1)return this._emitError(new Error("Cannot parse return code"));if(this.settings.protocolVersion===5){const _=this._parseProperties();Object.getOwnPropertyNames(_).length&&(p.properties=_)}h("_parseConnack: complete")}_parsePublish(){h("_parsePublish");const p=this.packet;if(p.topic=this._parseString(),p.topic===null)return this._emitError(new Error("Cannot parse topic"));if(!(p.qos>0&&!this._parseMessageId())){if(this.settings.protocolVersion===5){const y=this._parseProperties();Object.getOwnPropertyNames(y).length&&(p.properties=y)}p.payload=this._list.slice(this._pos,p.length),h("_parsePublish: payload from buffer list: %o",p.payload)}}_parseSubscribe(){h("_parseSubscribe");const p=this.packet;let y,_,b,A,w,S,T;if(p.subscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){const x=this._parseProperties();Object.getOwnPropertyNames(x).length&&(p.properties=x)}if(p.length<=0)return this._emitError(new Error("Malformed subscribe, no payload specified"));for(;this._pos<p.length;){if(y=this._parseString(),y===null)return this._emitError(new Error("Cannot parse topic"));if(this._pos>=p.length)return this._emitError(new Error("Malformed Subscribe Payload"));if(_=this._parseByte(),this.settings.protocolVersion===5){if(_&192)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-6 must be 0"))}else if(_&252)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-2 must be 0"));if(b=_&d.SUBSCRIBE_OPTIONS_QOS_MASK,b>2)return this._emitError(new Error("Invalid subscribe QoS, must be <= 2"));if(S=(_>>d.SUBSCRIBE_OPTIONS_NL_SHIFT&d.SUBSCRIBE_OPTIONS_NL_MASK)!==0,w=(_>>d.SUBSCRIBE_OPTIONS_RAP_SHIFT&d.SUBSCRIBE_OPTIONS_RAP_MASK)!==0,A=_>>d.SUBSCRIBE_OPTIONS_RH_SHIFT&d.SUBSCRIBE_OPTIONS_RH_MASK,A>2)return this._emitError(new Error("Invalid retain handling, must be <= 2"));T={topic:y,qos:b},this.settings.protocolVersion===5?(T.nl=S,T.rap=w,T.rh=A):this.settings.bridgeMode&&(T.rh=0,T.rap=!0,T.nl=!0),h("_parseSubscribe: push subscription `%s` to subscription",T),p.subscriptions.push(T)}}}_parseSuback(){h("_parseSuback");const p=this.packet;if(this.packet.granted=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){const y=this._parseProperties();Object.getOwnPropertyNames(y).length&&(p.properties=y)}if(p.length<=0)return this._emitError(new Error("Malformed suback, no payload specified"));for(;this._pos<this.packet.length;){const y=this._list.readUInt8(this._pos++);if(this.settings.protocolVersion===5){if(!d.MQTT5_SUBACK_CODES[y])return this._emitError(new Error("Invalid suback code"))}else if(y>2&&y!==128)return this._emitError(new Error("Invalid suback QoS, must be 0, 1, 2 or 128"));this.packet.granted.push(y)}}}_parseUnsubscribe(){h("_parseUnsubscribe");const p=this.packet;if(p.unsubscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){const y=this._parseProperties();Object.getOwnPropertyNames(y).length&&(p.properties=y)}if(p.length<=0)return this._emitError(new Error("Malformed unsubscribe, no payload specified"));for(;this._pos<p.length;){const y=this._parseString();if(y===null)return this._emitError(new Error("Cannot parse topic"));h("_parseUnsubscribe: push topic `%s` to unsubscriptions",y),p.unsubscriptions.push(y)}}}_parseUnsuback(){h("_parseUnsuback");const p=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if((this.settings.protocolVersion===3||this.settings.protocolVersion===4)&&p.length!==2)return this._emitError(new Error("Malformed unsuback, payload length must be 2"));if(p.length<=0)return this._emitError(new Error("Malformed unsuback, no payload specified"));if(this.settings.protocolVersion===5){const y=this._parseProperties();for(Object.getOwnPropertyNames(y).length&&(p.properties=y),p.granted=[];this._pos<this.packet.length;){const _=this._list.readUInt8(this._pos++);if(!d.MQTT5_UNSUBACK_CODES[_])return this._emitError(new Error("Invalid unsuback code"));this.packet.granted.push(_)}}}_parseConfirmation(){h("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);const p=this.packet;if(this._parseMessageId(),this.settings.protocolVersion===5){if(p.length>2){switch(p.reasonCode=this._parseByte(),this.packet.cmd){case"puback":case"pubrec":if(!d.MQTT5_PUBACK_PUBREC_CODES[p.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break;case"pubrel":case"pubcomp":if(!d.MQTT5_PUBREL_PUBCOMP_CODES[p.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break}h("_parseConfirmation: packet.reasonCode `%d`",p.reasonCode)}else p.reasonCode=0;if(p.length>3){const y=this._parseProperties();Object.getOwnPropertyNames(y).length&&(p.properties=y)}}return!0}_parseDisconnect(){const p=this.packet;if(h("_parseDisconnect"),this.settings.protocolVersion===5){this._list.length>0?(p.reasonCode=this._parseByte(),d.MQTT5_DISCONNECT_CODES[p.reasonCode]||this._emitError(new Error("Invalid disconnect reason code"))):p.reasonCode=0;const y=this._parseProperties();Object.getOwnPropertyNames(y).length&&(p.properties=y)}return h("_parseDisconnect result: true"),!0}_parseAuth(){h("_parseAuth");const p=this.packet;if(this.settings.protocolVersion!==5)return this._emitError(new Error("Not supported auth packet for this version MQTT"));if(p.reasonCode=this._parseByte(),!d.MQTT5_AUTH_CODES[p.reasonCode])return this._emitError(new Error("Invalid auth reason code"));const y=this._parseProperties();return Object.getOwnPropertyNames(y).length&&(p.properties=y),h("_parseAuth: result: true"),!0}_parseMessageId(){const p=this.packet;return p.messageId=this._parseNum(),p.messageId===null?(this._emitError(new Error("Cannot parse messageId")),!1):(h("_parseMessageId: packet.messageId %d",p.messageId),!0)}_parseString(p){const y=this._parseNum(),_=y+this._pos;if(y===-1||_>this._list.length||_>this.packet.length)return null;const b=this._list.toString("utf8",this._pos,_);return this._pos+=y,h("_parseString: result: %s",b),b}_parseStringPair(){return h("_parseStringPair"),{name:this._parseString(),value:this._parseString()}}_parseBuffer(){const p=this._parseNum(),y=p+this._pos;if(p===-1||y>this._list.length||y>this.packet.length)return null;const _=this._list.slice(this._pos,y);return this._pos+=p,h("_parseBuffer: result: %o",_),_}_parseNum(){if(this._list.length-this._pos<2)return-1;const p=this._list.readUInt16BE(this._pos);return this._pos+=2,h("_parseNum: result: %s",p),p}_parse4ByteNum(){if(this._list.length-this._pos<4)return-1;const p=this._list.readUInt32BE(this._pos);return this._pos+=4,h("_parse4ByteNum: result: %s",p),p}_parseVarByteNum(p){h("_parseVarByteNum");const y=4;let _=0,b=1,A=0,w=!1,S;const T=this._pos?this._pos:0;for(;_<y&&T+_<this._list.length;){if(S=this._list.readUInt8(T+_++),A+=b*(S&d.VARBYTEINT_MASK),b*=128,!(S&d.VARBYTEINT_FIN_MASK)){w=!0;break}if(this._list.length<=_)break}return!w&&_===y&&this._list.length>=_&&this._emitError(new Error("Invalid variable byte integer")),T&&(this._pos+=_),w?p?w={bytes:_,value:A}:w=A:w=!1,h("_parseVarByteNum: result: %o",w),w}_parseByte(){let p;return this._pos<this._list.length&&(p=this._list.readUInt8(this._pos),this._pos++),h("_parseByte: result: %o",p),p}_parseByType(p){switch(h("_parseByType: type: %s",p),p){case"byte":return this._parseByte()!==0;case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}}_parseProperties(){h("_parseProperties");const p=this._parseVarByteNum(),_=this._pos+p,b={};for(;this._pos<_;){const A=this._parseByte();if(!A)return this._emitError(new Error("Cannot parse property code type")),!1;const w=d.propertiesCodes[A];if(!w)return this._emitError(new Error("Unknown property")),!1;if(w==="userProperties"){b[w]||(b[w]=Object.create(null));const S=this._parseByType(d.propertiesTypes[w]);if(b[w][S.name])if(Array.isArray(b[w][S.name]))b[w][S.name].push(S.value);else{const T=b[w][S.name];b[w][S.name]=[T],b[w][S.name].push(S.value)}else b[w][S.name]=S.value;continue}b[w]?Array.isArray(b[w])?b[w].push(this._parseByType(d.propertiesTypes[w])):(b[w]=[b[w]],b[w].push(this._parseByType(d.propertiesTypes[w]))):b[w]=this._parseByType(d.propertiesTypes[w])}return b}_newPacket(){return h("_newPacket"),this.packet&&(this._list.consume(this.packet.length),h("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length),this.emit("packet",this.packet)),h("_newPacket: new packet"),this.packet=new f,this._pos=0,!0}_emitError(p){h("_emitError",p),this.error=p,this.emit("error",p)}}o.exports=v},{"./constants":73,"./packet":94,bl:77,debug:30,events:49}],96:[function(r,o,a){const u=r("./constants"),{Buffer:c}=r("buffer"),f=c.allocUnsafe(0),d=c.from([0]),h=r("./numbers"),v=r("process-nextick-args").nextTick,g=r("debug")("mqtt-packet:writeToStream"),p=h.cache,y=h.generateNumber,_=h.generateCache,b=h.genBufVariableByteInt,A=h.generate4ByteBuffer;let w=jt,S=!0;function T(Ce,ue,At){switch(g("generate called"),ue.cork&&(ue.cork(),v(x,ue)),S&&(S=!1,_()),g("generate: packet.cmd: %s",Ce.cmd),Ce.cmd){case"connect":return O(Ce,ue);case"connack":return L(Ce,ue,At);case"publish":return M(Ce,ue,At);case"puback":case"pubrec":case"pubrel":case"pubcomp":return re(Ce,ue,At);case"subscribe":return F(Ce,ue,At);case"suback":return Y(Ce,ue,At);case"unsubscribe":return V(Ce,ue,At);case"unsuback":return z(Ce,ue,At);case"pingreq":case"pingresp":return $(Ce,ue);case"disconnect":return pe(Ce,ue,At);case"auth":return le(Ce,ue,At);default:return ue.destroy(new Error("Unknown command")),!1}}Object.defineProperty(T,"cacheNumbers",{get(){return w===jt},set(Ce){Ce?((!p||Object.keys(p).length===0)&&(S=!0),w=jt):(S=!1,w=Lt)}});function x(Ce){Ce.uncork()}function O(Ce,ue,At){const Oe=Ce||{},Ve=Oe.protocolId||"MQTT";let Pt=Oe.protocolVersion||4;const Dt=Oe.will;let _n=Oe.clean;const ie=Oe.keepalive||0,oe=Oe.clientId||"",j=Oe.username,k=Oe.password,D=Oe.properties;_n===void 0&&(_n=!0);let ae=0;if(!Ve||typeof Ve!="string"&&!c.isBuffer(Ve))return ue.destroy(new Error("Invalid protocolId")),!1;if(ae+=Ve.length+2,Pt!==3&&Pt!==4&&Pt!==5)return ue.destroy(new Error("Invalid protocol version")),!1;if(ae+=1,(typeof oe=="string"||c.isBuffer(oe))&&(oe||Pt>=4)&&(oe||_n))ae+=c.byteLength(oe)+2;else{if(Pt<4)return ue.destroy(new Error("clientId must be supplied before 3.1.1")),!1;if(_n*1===0)return ue.destroy(new Error("clientId must be given if cleanSession set to 0")),!1}if(typeof ie!="number"||ie<0||ie>65535||ie%1!==0)return ue.destroy(new Error("Invalid keepalive")),!1;ae+=2,ae+=1;let Ne,ze;if(Pt===5){if(Ne=kt(ue,D),!Ne)return!1;ae+=Ne.length}if(Dt){if(typeof Dt!="object")return ue.destroy(new Error("Invalid will")),!1;if(!Dt.topic||typeof Dt.topic!="string")return ue.destroy(new Error("Invalid will topic")),!1;if(ae+=c.byteLength(Dt.topic)+2,ae+=2,Dt.payload)if(Dt.payload.length>=0)typeof Dt.payload=="string"?ae+=c.byteLength(Dt.payload):ae+=Dt.payload.length;else return ue.destroy(new Error("Invalid will payload")),!1;if(ze={},Pt===5){if(ze=kt(ue,Dt.properties),!ze)return!1;ae+=ze.length}}let hn=!1;if(j!=null)if($e(j))hn=!0,ae+=c.byteLength(j)+2;else return ue.destroy(new Error("Invalid username")),!1;if(k!=null){if(!hn)return ue.destroy(new Error("Username is required to use password")),!1;if($e(k))ae+=In(k)+2;else return ue.destroy(new Error("Invalid password")),!1}ue.write(u.CONNECT_HEADER),he(ue,ae),vn(ue,Ve),Oe.bridgeMode&&(Pt+=128),ue.write(Pt===131?u.VERSION131:Pt===132?u.VERSION132:Pt===4?u.VERSION4:Pt===5?u.VERSION5:u.VERSION3);let An=0;return An|=j!=null?u.USERNAME_MASK:0,An|=k!=null?u.PASSWORD_MASK:0,An|=Dt&&Dt.retain?u.WILL_RETAIN_MASK:0,An|=Dt&&Dt.qos?Dt.qos<<u.WILL_QOS_SHIFT:0,An|=Dt?u.WILL_FLAG_MASK:0,An|=_n?u.CLEAN_SESSION_MASK:0,ue.write(c.from([An])),w(ue,ie),Pt===5&&Ne.write(),vn(ue,oe),Dt&&(Pt===5&&ze.write(),xe(ue,Dt.topic),vn(ue,Dt.payload)),j!=null&&vn(ue,j),k!=null&&vn(ue,k),!0}function L(Ce,ue,At){const Oe=At?At.protocolVersion:4,Ve=Ce||{},Pt=Oe===5?Ve.reasonCode:Ve.returnCode,Dt=Ve.properties;let _n=2;if(typeof Pt!="number")return ue.destroy(new Error("Invalid return code")),!1;let ie=null;if(Oe===5){if(ie=kt(ue,Dt),!ie)return!1;_n+=ie.length}return ue.write(u.CONNACK_HEADER),he(ue,_n),ue.write(Ve.sessionPresent?u.SESSIONPRESENT_HEADER:d),ue.write(c.from([Pt])),ie!=null&&ie.write(),!0}function M(Ce,ue,At){g("publish: packet: %o",Ce);const Oe=At?At.protocolVersion:4,Ve=Ce||{},Pt=Ve.qos||0,Dt=Ve.retain?u.RETAIN_MASK:0,_n=Ve.topic,ie=Ve.payload||f,oe=Ve.messageId,j=Ve.properties;let k=0;if(typeof _n=="string")k+=c.byteLength(_n)+2;else if(c.isBuffer(_n))k+=_n.length+2;else return ue.destroy(new Error("Invalid topic")),!1;if(c.isBuffer(ie)?k+=ie.length:k+=c.byteLength(ie),Pt&&typeof oe!="number")return ue.destroy(new Error("Invalid messageId")),!1;Pt&&(k+=2);let D=null;if(Oe===5){if(D=kt(ue,j),!D)return!1;k+=D.length}return ue.write(u.PUBLISH_HEADER[Pt][Ve.dup?1:0][Dt?1:0]),he(ue,k),w(ue,In(_n)),ue.write(_n),Pt>0&&w(ue,oe),D!=null&&D.write(),g("publish: payload: %o",ie),ue.write(ie)}function re(Ce,ue,At){const Oe=At?At.protocolVersion:4,Ve=Ce||{},Pt=Ve.cmd||"puback",Dt=Ve.messageId,_n=Ve.dup&&Pt==="pubrel"?u.DUP_MASK:0;let ie=0;const oe=Ve.reasonCode,j=Ve.properties;let k=Oe===5?3:2;if(Pt==="pubrel"&&(ie=1),typeof Dt!="number")return ue.destroy(new Error("Invalid messageId")),!1;let D=null;if(Oe===5&&typeof j=="object"){if(D=de(ue,j,At,k),!D)return!1;k+=D.length}return ue.write(u.ACKS[Pt][ie][_n][0]),k===3&&(k+=oe!==0?1:-1),he(ue,k),w(ue,Dt),Oe===5&&k!==2&&ue.write(c.from([oe])),D!==null?D.write():k===4&&ue.write(c.from([0])),!0}function F(Ce,ue,At){g("subscribe: packet: ");const Oe=At?At.protocolVersion:4,Ve=Ce||{},Pt=Ve.dup?u.DUP_MASK:0,Dt=Ve.messageId,_n=Ve.subscriptions,ie=Ve.properties;let oe=0;if(typeof Dt!="number")return ue.destroy(new Error("Invalid messageId")),!1;oe+=2;let j=null;if(Oe===5){if(j=kt(ue,ie),!j)return!1;oe+=j.length}if(typeof _n=="object"&&_n.length)for(let D=0;D<_n.length;D+=1){const ae=_n[D].topic,Ne=_n[D].qos;if(typeof ae!="string")return ue.destroy(new Error("Invalid subscriptions - invalid topic")),!1;if(typeof Ne!="number")return ue.destroy(new Error("Invalid subscriptions - invalid qos")),!1;if(Oe===5){if(typeof(_n[D].nl||!1)!="boolean")return ue.destroy(new Error("Invalid subscriptions - invalid No Local")),!1;if(typeof(_n[D].rap||!1)!="boolean")return ue.destroy(new Error("Invalid subscriptions - invalid Retain as Published")),!1;const An=_n[D].rh||0;if(typeof An!="number"||An>2)return ue.destroy(new Error("Invalid subscriptions - invalid Retain Handling")),!1}oe+=c.byteLength(ae)+2+1}else return ue.destroy(new Error("Invalid subscriptions")),!1;g("subscribe: writing to stream: %o",u.SUBSCRIBE_HEADER),ue.write(u.SUBSCRIBE_HEADER[1][Pt?1:0][0]),he(ue,oe),w(ue,Dt),j!==null&&j.write();let k=!0;for(const D of _n){const ae=D.topic,Ne=D.qos,ze=+D.nl,hn=+D.rap,An=D.rh;let Tn;xe(ue,ae),Tn=u.SUBSCRIBE_OPTIONS_QOS[Ne],Oe===5&&(Tn|=ze?u.SUBSCRIBE_OPTIONS_NL:0,Tn|=hn?u.SUBSCRIBE_OPTIONS_RAP:0,Tn|=An?u.SUBSCRIBE_OPTIONS_RH[An]:0),k=ue.write(c.from([Tn]))}return k}function Y(Ce,ue,At){const Oe=At?At.protocolVersion:4,Ve=Ce||{},Pt=Ve.messageId,Dt=Ve.granted,_n=Ve.properties;let ie=0;if(typeof Pt!="number")return ue.destroy(new Error("Invalid messageId")),!1;if(ie+=2,typeof Dt=="object"&&Dt.length)for(let j=0;j<Dt.length;j+=1){if(typeof Dt[j]!="number")return ue.destroy(new Error("Invalid qos vector")),!1;ie+=1}else return ue.destroy(new Error("Invalid qos vector")),!1;let oe=null;if(Oe===5){if(oe=de(ue,_n,At,ie),!oe)return!1;ie+=oe.length}return ue.write(u.SUBACK_HEADER),he(ue,ie),w(ue,Pt),oe!==null&&oe.write(),ue.write(c.from(Dt))}function V(Ce,ue,At){const Oe=At?At.protocolVersion:4,Ve=Ce||{},Pt=Ve.messageId,Dt=Ve.dup?u.DUP_MASK:0,_n=Ve.unsubscriptions,ie=Ve.properties;let oe=0;if(typeof Pt!="number")return ue.destroy(new Error("Invalid messageId")),!1;if(oe+=2,typeof _n=="object"&&_n.length)for(let D=0;D<_n.length;D+=1){if(typeof _n[D]!="string")return ue.destroy(new Error("Invalid unsubscriptions")),!1;oe+=c.byteLength(_n[D])+2}else return ue.destroy(new Error("Invalid unsubscriptions")),!1;let j=null;if(Oe===5){if(j=kt(ue,ie),!j)return!1;oe+=j.length}ue.write(u.UNSUBSCRIBE_HEADER[1][Dt?1:0][0]),he(ue,oe),w(ue,Pt),j!==null&&j.write();let k=!0;for(let D=0;D<_n.length;D++)k=xe(ue,_n[D]);return k}function z(Ce,ue,At){const Oe=At?At.protocolVersion:4,Ve=Ce||{},Pt=Ve.messageId,Dt=Ve.dup?u.DUP_MASK:0,_n=Ve.granted,ie=Ve.properties,oe=Ve.cmd,j=0;let k=2;if(typeof Pt!="number")return ue.destroy(new Error("Invalid messageId")),!1;if(Oe===5)if(typeof _n=="object"&&_n.length)for(let ae=0;ae<_n.length;ae+=1){if(typeof _n[ae]!="number")return ue.destroy(new Error("Invalid qos vector")),!1;k+=1}else return ue.destroy(new Error("Invalid qos vector")),!1;let D=null;if(Oe===5){if(D=de(ue,ie,At,k),!D)return!1;k+=D.length}return ue.write(u.ACKS[oe][j][Dt][0]),he(ue,k),w(ue,Pt),D!==null&&D.write(),Oe===5&&ue.write(c.from(_n)),!0}function $(Ce,ue,At){return ue.write(u.EMPTY[Ce.cmd])}function pe(Ce,ue,At){const Oe=At?At.protocolVersion:4,Ve=Ce||{},Pt=Ve.reasonCode,Dt=Ve.properties;let _n=Oe===5?1:0,ie=null;if(Oe===5){if(ie=de(ue,Dt,At,_n),!ie)return!1;_n+=ie.length}return ue.write(c.from([u.codes.disconnect<<4])),he(ue,_n),Oe===5&&ue.write(c.from([Pt])),ie!==null&&ie.write(),!0}function le(Ce,ue,At){const Oe=At?At.protocolVersion:4,Ve=Ce||{},Pt=Ve.reasonCode,Dt=Ve.properties;let _n=Oe===5?1:0;Oe!==5&&ue.destroy(new Error("Invalid mqtt version for auth packet"));const ie=de(ue,Dt,At,_n);return ie?(_n+=ie.length,ue.write(c.from([u.codes.auth<<4])),he(ue,_n),ue.write(c.from([Pt])),ie!==null&&ie.write(),!0):!1}const Ie={};function he(Ce,ue){if(ue>u.VARBYTEINT_MAX)return Ce.destroy(new Error(`Invalid variable byte integer: ${ue}`)),!1;let At=Ie[ue];return At||(At=b(ue),ue<16384&&(Ie[ue]=At)),g("writeVarByteInt: writing to stream: %o",At),Ce.write(At)}function xe(Ce,ue){const At=c.byteLength(ue);return w(Ce,At),g("writeString: %s",ue),Ce.write(ue,"utf8")}function _e(Ce,ue,At){xe(Ce,ue),xe(Ce,At)}function jt(Ce,ue){return g("writeNumberCached: number: %d",ue),g("writeNumberCached: %o",p[ue]),Ce.write(p[ue])}function Lt(Ce,ue){const At=y(ue);return g("writeNumberGenerated: %o",At),Ce.write(At)}function Cn(Ce,ue){const At=A(ue);return g("write4ByteNumber: %o",At),Ce.write(At)}function vn(Ce,ue){typeof ue=="string"?xe(Ce,ue):ue?(w(Ce,ue.length),Ce.write(ue)):w(Ce,0)}function kt(Ce,ue){if(typeof ue!="object"||ue.length!=null)return{length:1,write(){Et(Ce,{},0)}};let At=0;function Oe(Pt,Dt){const _n=u.propertiesTypes[Pt];let ie=0;switch(_n){case"byte":{if(typeof Dt!="boolean")return Ce.destroy(new Error(`Invalid ${Pt}: ${Dt}`)),!1;ie+=1+1;break}case"int8":{if(typeof Dt!="number"||Dt<0||Dt>255)return Ce.destroy(new Error(`Invalid ${Pt}: ${Dt}`)),!1;ie+=1+1;break}case"binary":{if(Dt&&Dt===null)return Ce.destroy(new Error(`Invalid ${Pt}: ${Dt}`)),!1;ie+=1+c.byteLength(Dt)+2;break}case"int16":{if(typeof Dt!="number"||Dt<0||Dt>65535)return Ce.destroy(new Error(`Invalid ${Pt}: ${Dt}`)),!1;ie+=1+2;break}case"int32":{if(typeof Dt!="number"||Dt<0||Dt>4294967295)return Ce.destroy(new Error(`Invalid ${Pt}: ${Dt}`)),!1;ie+=1+4;break}case"var":{if(typeof Dt!="number"||Dt<0||Dt>268435455)return Ce.destroy(new Error(`Invalid ${Pt}: ${Dt}`)),!1;ie+=1+c.byteLength(b(Dt));break}case"string":{if(typeof Dt!="string")return Ce.destroy(new Error(`Invalid ${Pt}: ${Dt}`)),!1;ie+=1+2+c.byteLength(Dt.toString());break}case"pair":{if(typeof Dt!="object")return Ce.destroy(new Error(`Invalid ${Pt}: ${Dt}`)),!1;ie+=Object.getOwnPropertyNames(Dt).reduce((oe,j)=>{const k=Dt[j];return Array.isArray(k)?oe+=k.reduce((D,ae)=>(D+=1+2+c.byteLength(j.toString())+2+c.byteLength(ae.toString()),D),0):oe+=1+2+c.byteLength(j.toString())+2+c.byteLength(Dt[j].toString()),oe},0);break}default:return Ce.destroy(new Error(`Invalid property ${Pt}: ${Dt}`)),!1}return ie}if(ue)for(const Pt in ue){let Dt=0,_n=0;const ie=ue[Pt];if(Array.isArray(ie))for(let oe=0;oe<ie.length;oe++){if(_n=Oe(Pt,ie[oe]),!_n)return!1;Dt+=_n}else{if(_n=Oe(Pt,ie),!_n)return!1;Dt=_n}if(!Dt)return!1;At+=Dt}return{length:c.byteLength(b(At))+At,write(){Et(Ce,ue,At)}}}function de(Ce,ue,At,Oe){const Ve=["reasonString","userProperties"],Pt=At&&At.properties&&At.properties.maximumPacketSize?At.properties.maximumPacketSize:0;let Dt=kt(Ce,ue);if(Pt)for(;Oe+Dt.length>Pt;){const _n=Ve.shift();if(_n&&ue[_n])delete ue[_n],Dt=kt(Ce,ue);else return!1}return Dt}function qe(Ce,ue,At){switch(u.propertiesTypes[ue]){case"byte":{Ce.write(c.from([u.properties[ue]])),Ce.write(c.from([+At]));break}case"int8":{Ce.write(c.from([u.properties[ue]])),Ce.write(c.from([At]));break}case"binary":{Ce.write(c.from([u.properties[ue]])),vn(Ce,At);break}case"int16":{Ce.write(c.from([u.properties[ue]])),w(Ce,At);break}case"int32":{Ce.write(c.from([u.properties[ue]])),Cn(Ce,At);break}case"var":{Ce.write(c.from([u.properties[ue]])),he(Ce,At);break}case"string":{Ce.write(c.from([u.properties[ue]])),xe(Ce,At);break}case"pair":{Object.getOwnPropertyNames(At).forEach(Ve=>{const Pt=At[Ve];Array.isArray(Pt)?Pt.forEach(Dt=>{Ce.write(c.from([u.properties[ue]])),_e(Ce,Ve.toString(),Dt.toString())}):(Ce.write(c.from([u.properties[ue]])),_e(Ce,Ve.toString(),Pt.toString()))});break}default:return Ce.destroy(new Error(`Invalid property ${ue} value: ${At}`)),!1}}function Et(Ce,ue,At){he(Ce,At);for(const Oe in ue)if(Object.prototype.hasOwnProperty.call(ue,Oe)&&ue[Oe]!==null){const Ve=ue[Oe];if(Array.isArray(Ve))for(let Pt=0;Pt<Ve.length;Pt++)qe(Ce,Oe,Ve[Pt]);else qe(Ce,Oe,Ve)}}function In(Ce){return Ce?Ce instanceof c?Ce.length:c.byteLength(Ce):0}function $e(Ce){return typeof Ce=="string"||Ce instanceof c}o.exports=T},{"./constants":73,"./numbers":93,buffer:29,debug:30,"process-nextick-args":101}],97:[function(r,o,a){var u=1e3,c=u*60,f=c*60,d=f*24,h=d*7,v=d*365.25;o.exports=function(b,A){A=A||{};var w=typeof b;if(w==="string"&&b.length>0)return g(b);if(w==="number"&&isFinite(b))return A.long?y(b):p(b);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(b))};function g(b){if(b=String(b),!(b.length>100)){var A=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(b);if(A){var w=parseFloat(A[1]),S=(A[2]||"ms").toLowerCase();switch(S){case"years":case"year":case"yrs":case"yr":case"y":return w*v;case"weeks":case"week":case"w":return w*h;case"days":case"day":case"d":return w*d;case"hours":case"hour":case"hrs":case"hr":case"h":return w*f;case"minutes":case"minute":case"mins":case"min":case"m":return w*c;case"seconds":case"second":case"secs":case"sec":case"s":return w*u;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return w;default:return}}}}function p(b){var A=Math.abs(b);return A>=d?Math.round(b/d)+"d":A>=f?Math.round(b/f)+"h":A>=c?Math.round(b/c)+"m":A>=u?Math.round(b/u)+"s":b+"ms"}function y(b){var A=Math.abs(b);return A>=d?_(b,A,d,"day"):A>=f?_(b,A,f,"hour"):A>=c?_(b,A,c,"minute"):A>=u?_(b,A,u,"second"):b+" ms"}function _(b,A,w,S){var T=A>=w*1.5;return Math.round(b/w)+" "+S+(T?"s":"")}},{}],98:[function(r,o,a){const u=r("./lib/number-allocator.js");o.exports.NumberAllocator=u},{"./lib/number-allocator.js":99}],99:[function(r,o,a){const u=r("js-sdsl").OrderedSet,c=r("debug")("number-allocator:trace"),f=r("debug")("number-allocator:error");function d(v,g){this.low=v,this.high=g}d.prototype.equals=function(v){return this.low===v.low&&this.high===v.high},d.prototype.compare=function(v){return this.low<v.low&&this.high<v.low?-1:v.low<this.low&&v.high<this.low?1:0};function h(v,g){if(!(this instanceof h))return new h(v,g);this.min=v,this.max=g,this.ss=new u([],(p,y)=>p.compare(y)),c("Create"),this.clear()}h.prototype.firstVacant=function(){return this.ss.size()===0?null:this.ss.front().low},h.prototype.alloc=function(){if(this.ss.size()===0)return c("alloc():empty"),null;const v=this.ss.begin(),g=v.pointer.low,p=v.pointer.high,y=g;return y+1<=p?this.ss.updateKeyByIterator(v,new d(g+1,p)):this.ss.eraseElementByPos(0),c("alloc():"+y),y},h.prototype.use=function(v){const g=new d(v,v),p=this.ss.lowerBound(g);if(!p.equals(this.ss.end())){const y=p.pointer.low,_=p.pointer.high;return p.pointer.equals(g)?(this.ss.eraseElementByIterator(p),c("use():"+v),!0):y>v?!1:y===v?(this.ss.updateKeyByIterator(p,new d(y+1,_)),c("use():"+v),!0):_===v?(this.ss.updateKeyByIterator(p,new d(y,_-1)),c("use():"+v),!0):(this.ss.updateKeyByIterator(p,new d(v+1,_)),this.ss.insert(new d(y,v-1)),c("use():"+v),!0)}return c("use():failed"),!1},h.prototype.free=function(v){if(v<this.min||v>this.max){f("free():"+v+" is out of range");return}const g=new d(v,v),p=this.ss.upperBound(g);if(p.equals(this.ss.end())){if(p.equals(this.ss.begin())){this.ss.insert(g);return}p.pre();const y=p.pointer.high;p.pointer.high+1===v?this.ss.updateKeyByIterator(p,new d(y,v)):this.ss.insert(g)}else if(p.equals(this.ss.begin()))if(v+1===p.pointer.low){const y=p.pointer.high;this.ss.updateKeyByIterator(p,new d(v,y))}else this.ss.insert(g);else{const y=p.pointer.low,_=p.pointer.high;p.pre();const b=p.pointer.low;p.pointer.high+1===v?v+1===y?(this.ss.eraseElementByIterator(p),this.ss.updateKeyByIterator(p,new d(b,_))):this.ss.updateKeyByIterator(p,new d(b,v)):v+1===y?(this.ss.eraseElementByIterator(p.next()),this.ss.insert(new d(v,_))):this.ss.insert(g)}c("free():"+v)},h.prototype.clear=function(){c("clear()"),this.ss.clear(),this.ss.insert(new d(this.min,this.max))},h.prototype.intervalCount=function(){return this.ss.size()},h.prototype.dump=function(){console.log("length:"+this.ss.size());for(const v of this.ss)console.log(v)},o.exports=h},{debug:30,"js-sdsl":69}],100:[function(r,o,a){var u=r("wrappy");o.exports=u(c),o.exports.strict=u(f),c.proto=c(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return c(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return f(this)},configurable:!0})});function c(d){var h=function(){return h.called?h.value:(h.called=!0,h.value=d.apply(this,arguments))};return h.called=!1,h}function f(d){var h=function(){if(h.called)throw new Error(h.onceError);return h.called=!0,h.value=d.apply(this,arguments)},v=d.name||"Function wrapped with `once`";return h.onceError=v+" shouldn't be called more than once",h.called=!1,h}},{wrappy:140}],101:[function(r,o,a){(function(u){(function(){typeof u>"u"||!u.version||u.version.indexOf("v0.")===0||u.version.indexOf("v1.")===0&&u.version.indexOf("v1.8.")!==0?o.exports={nextTick:c}:o.exports=u;function c(f,d,h,v){if(typeof f!="function")throw new TypeError('"callback" argument must be a function');var g=arguments.length,p,y;switch(g){case 0:case 1:return u.nextTick(f);case 2:return u.nextTick(function(){f.call(null,d)});case 3:return u.nextTick(function(){f.call(null,d,h)});case 4:return u.nextTick(function(){f.call(null,d,h,v)});default:for(p=new Array(g-1),y=0;y<p.length;)p[y++]=arguments[y];return u.nextTick(function(){f.apply(null,p)})}}}).call(this)}).call(this,r("_process"))},{_process:102}],102:[function(r,o,a){var u=o.exports={},c,f;function d(){throw new Error("setTimeout has not been defined")}function h(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?c=setTimeout:c=d}catch{c=d}try{typeof clearTimeout=="function"?f=clearTimeout:f=h}catch{f=h}})();function v(x){if(c===setTimeout)return setTimeout(x,0);if((c===d||!c)&&setTimeout)return c=setTimeout,setTimeout(x,0);try{return c(x,0)}catch{try{return c.call(null,x,0)}catch{return c.call(this,x,0)}}}function g(x){if(f===clearTimeout)return clearTimeout(x);if((f===h||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(x);try{return f(x)}catch{try{return f.call(null,x)}catch{return f.call(this,x)}}}var p=[],y=!1,_,b=-1;function A(){!y||!_||(y=!1,_.length?p=_.concat(p):b=-1,p.length&&w())}function w(){if(!y){var x=v(A);y=!0;for(var O=p.length;O;){for(_=p,p=[];++b<O;)_&&_[b].run();b=-1,O=p.length}_=null,y=!1,g(x)}}u.nextTick=function(x){var O=new Array(arguments.length-1);if(arguments.length>1)for(var L=1;L<arguments.length;L++)O[L-1]=arguments[L];p.push(new S(x,O)),p.length===1&&!y&&v(w)};function S(x,O){this.fun=x,this.array=O}S.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={};function T(){}u.on=T,u.addListener=T,u.once=T,u.off=T,u.removeListener=T,u.removeAllListeners=T,u.emit=T,u.prependListener=T,u.prependOnceListener=T,u.listeners=function(x){return[]},u.binding=function(x){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(x){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},{}],103:[function(r,o,a){(function(u){(function(){(function(c){var f=typeof a=="object"&&a&&!a.nodeType&&a,d=typeof o=="object"&&o&&!o.nodeType&&o,h=typeof u=="object"&&u;(h.global===h||h.window===h||h.self===h)&&(c=h);var v,g=2147483647,p=36,y=1,_=26,b=38,A=700,w=72,S=128,T="-",x=/^xn--/,O=/[^\x20-\x7E]/,L=/[\x2E\u3002\uFF0E\uFF61]/g,M={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},re=p-y,F=Math.floor,Y=String.fromCharCode,V;function z(kt){throw new RangeError(M[kt])}function $(kt,de){for(var qe=kt.length,Et=[];qe--;)Et[qe]=de(kt[qe]);return Et}function pe(kt,de){var qe=kt.split("@"),Et="";qe.length>1&&(Et=qe[0]+"@",kt=qe[1]),kt=kt.replace(L,".");var In=kt.split("."),$e=$(In,de).join(".");return Et+$e}function le(kt){for(var de=[],qe=0,Et=kt.length,In,$e;qe<Et;)In=kt.charCodeAt(qe++),In>=55296&&In<=56319&&qe<Et?($e=kt.charCodeAt(qe++),($e&64512)==56320?de.push(((In&1023)<<10)+($e&1023)+65536):(de.push(In),qe--)):de.push(In);return de}function Ie(kt){return $(kt,function(de){var qe="";return de>65535&&(de-=65536,qe+=Y(de>>>10&1023|55296),de=56320|de&1023),qe+=Y(de),qe}).join("")}function he(kt){return kt-48<10?kt-22:kt-65<26?kt-65:kt-97<26?kt-97:p}function xe(kt,de){return kt+22+75*(kt<26)-((de!=0)<<5)}function _e(kt,de,qe){var Et=0;for(kt=qe?F(kt/A):kt>>1,kt+=F(kt/de);kt>re*_>>1;Et+=p)kt=F(kt/re);return F(Et+(re+1)*kt/(kt+b))}function jt(kt){var de=[],qe=kt.length,Et,In=0,$e=S,Ce=w,ue,At,Oe,Ve,Pt,Dt,_n,ie,oe;for(ue=kt.lastIndexOf(T),ue<0&&(ue=0),At=0;At<ue;++At)kt.charCodeAt(At)>=128&&z("not-basic"),de.push(kt.charCodeAt(At));for(Oe=ue>0?ue+1:0;Oe<qe;){for(Ve=In,Pt=1,Dt=p;Oe>=qe&&z("invalid-input"),_n=he(kt.charCodeAt(Oe++)),(_n>=p||_n>F((g-In)/Pt))&&z("overflow"),In+=_n*Pt,ie=Dt<=Ce?y:Dt>=Ce+_?_:Dt-Ce,!(_n<ie);Dt+=p)oe=p-ie,Pt>F(g/oe)&&z("overflow"),Pt*=oe;Et=de.length+1,Ce=_e(In-Ve,Et,Ve==0),F(In/Et)>g-$e&&z("overflow"),$e+=F(In/Et),In%=Et,de.splice(In++,0,$e)}return Ie(de)}function Lt(kt){var de,qe,Et,In,$e,Ce,ue,At,Oe,Ve,Pt,Dt=[],_n,ie,oe,j;for(kt=le(kt),_n=kt.length,de=S,qe=0,$e=w,Ce=0;Ce<_n;++Ce)Pt=kt[Ce],Pt<128&&Dt.push(Y(Pt));for(Et=In=Dt.length,In&&Dt.push(T);Et<_n;){for(ue=g,Ce=0;Ce<_n;++Ce)Pt=kt[Ce],Pt>=de&&Pt<ue&&(ue=Pt);for(ie=Et+1,ue-de>F((g-qe)/ie)&&z("overflow"),qe+=(ue-de)*ie,de=ue,Ce=0;Ce<_n;++Ce)if(Pt=kt[Ce],Pt<de&&++qe>g&&z("overflow"),Pt==de){for(At=qe,Oe=p;Ve=Oe<=$e?y:Oe>=$e+_?_:Oe-$e,!(At<Ve);Oe+=p)j=At-Ve,oe=p-Ve,Dt.push(Y(xe(Ve+j%oe,0))),At=F(j/oe);Dt.push(Y(xe(At,0))),$e=_e(qe,ie,Et==In),qe=0,++Et}++qe,++de}return Dt.join("")}function Cn(kt){return pe(kt,function(de){return x.test(de)?jt(de.slice(4).toLowerCase()):de})}function vn(kt){return pe(kt,function(de){return O.test(de)?"xn--"+Lt(de):de})}if(v={version:"1.4.1",ucs2:{decode:le,encode:Ie},decode:jt,encode:Lt,toASCII:vn,toUnicode:Cn},f&&d)if(o.exports==f)d.exports=v;else for(V in v)v.hasOwnProperty(V)&&(f[V]=v[V]);else c.punycode=v})(this)}).call(this)}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}],104:[function(r,o,a){function u(f,d){return Object.prototype.hasOwnProperty.call(f,d)}o.exports=function(f,d,h,v){d=d||"&",h=h||"=";var g={};if(typeof f!="string"||f.length===0)return g;var p=/\+/g;f=f.split(d);var y=1e3;v&&typeof v.maxKeys=="number"&&(y=v.maxKeys);var _=f.length;y>0&&_>y&&(_=y);for(var b=0;b<_;++b){var A=f[b].replace(p,"%20"),w=A.indexOf(h),S,T,x,O;w>=0?(S=A.substr(0,w),T=A.substr(w+1)):(S=A,T=""),x=decodeURIComponent(S),O=decodeURIComponent(T),u(g,x)?c(g[x])?g[x].push(O):g[x]=[g[x],O]:g[x]=O}return g};var c=Array.isArray||function(f){return Object.prototype.toString.call(f)==="[object Array]"}},{}],105:[function(r,o,a){var u=function(h){switch(typeof h){case"string":return h;case"boolean":return h?"true":"false";case"number":return isFinite(h)?h:"";default:return""}};o.exports=function(h,v,g,p){return v=v||"&",g=g||"=",h===null&&(h=void 0),typeof h=="object"?f(d(h),function(y){var _=encodeURIComponent(u(y))+g;return c(h[y])?f(h[y],function(b){return _+encodeURIComponent(u(b))}).join(v):_+encodeURIComponent(u(h[y]))}).join(v):p?encodeURIComponent(u(p))+g+encodeURIComponent(u(h)):""};var c=Array.isArray||function(h){return Object.prototype.toString.call(h)==="[object Array]"};function f(h,v){if(h.map)return h.map(v);for(var g=[],p=0;p<h.length;p++)g.push(v(h[p],p));return g}var d=Object.keys||function(h){var v=[];for(var g in h)Object.prototype.hasOwnProperty.call(h,g)&&v.push(g);return v}},{}],106:[function(r,o,a){a.decode=a.parse=r("./decode"),a.encode=a.stringify=r("./encode")},{"./decode":104,"./encode":105}],107:[function(r,o,a){const{AbortError:u,codes:c}=r("../../ours/errors"),{isNodeStream:f,isWebStream:d,kControllerErrorFunction:h}=r("./utils"),v=r("./end-of-stream"),{ERR_INVALID_ARG_TYPE:g}=c,p=(y,_)=>{if(typeof y!="object"||!("aborted"in y))throw new g(_,"AbortSignal",y)};o.exports.addAbortSignal=function(_,b){if(p(_,"signal"),!f(b)&&!d(b))throw new g("stream",["ReadableStream","WritableStream","Stream"],b);return o.exports.addAbortSignalNoValidate(_,b)},o.exports.addAbortSignalNoValidate=function(y,_){if(typeof y!="object"||!("aborted"in y))return _;const b=f(_)?()=>{_.destroy(new u(void 0,{cause:y.reason}))}:()=>{_[h](new u(void 0,{cause:y.reason}))};return y.aborted?b():(y.addEventListener("abort",b),v(_,()=>y.removeEventListener("abort",b))),_}},{"../../ours/errors":126,"./end-of-stream":113,"./utils":122}],108:[function(r,o,a){const{StringPrototypeSlice:u,SymbolIterator:c,TypedArrayPrototypeSet:f,Uint8Array:d}=r("../../ours/primordials"),{Buffer:h}=r("buffer"),{inspect:v}=r("../../ours/util");o.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(p){const y={data:p,next:null};this.length>0?this.tail.next=y:this.head=y,this.tail=y,++this.length}unshift(p){const y={data:p,next:this.head};this.length===0&&(this.tail=y),this.head=y,++this.length}shift(){if(this.length===0)return;const p=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,p}clear(){this.head=this.tail=null,this.length=0}join(p){if(this.length===0)return"";let y=this.head,_=""+y.data;for(;(y=y.next)!==null;)_+=p+y.data;return _}concat(p){if(this.length===0)return h.alloc(0);const y=h.allocUnsafe(p>>>0);let _=this.head,b=0;for(;_;)f(y,_.data,b),b+=_.data.length,_=_.next;return y}consume(p,y){const _=this.head.data;if(p<_.length){const b=_.slice(0,p);return this.head.data=_.slice(p),b}return p===_.length?this.shift():y?this._getString(p):this._getBuffer(p)}first(){return this.head.data}*[c](){for(let p=this.head;p;p=p.next)yield p.data}_getString(p){let y="",_=this.head,b=0;do{const A=_.data;if(p>A.length)y+=A,p-=A.length;else{p===A.length?(y+=A,++b,_.next?this.head=_.next:this.head=this.tail=null):(y+=u(A,0,p),this.head=_,_.data=u(A,p));break}++b}while((_=_.next)!==null);return this.length-=b,y}_getBuffer(p){const y=h.allocUnsafe(p),_=p;let b=this.head,A=0;do{const w=b.data;if(p>w.length)f(y,w,_-p),p-=w.length;else{p===w.length?(f(y,w,_-p),++A,b.next?this.head=b.next:this.head=this.tail=null):(f(y,new d(w.buffer,w.byteOffset,p),_-p),this.head=b,b.data=w.slice(p));break}++A}while((b=b.next)!==null);return this.length-=A,y}[Symbol.for("nodejs.util.inspect.custom")](p,y){return v(this,{...y,depth:0,customInspect:!1})}}},{"../../ours/primordials":127,"../../ours/util":128,buffer:29}],109:[function(r,o,a){const{pipeline:u}=r("./pipeline"),c=r("./duplex"),{destroyer:f}=r("./destroy"),{isNodeStream:d,isReadable:h,isWritable:v,isWebStream:g,isTransformStream:p,isWritableStream:y,isReadableStream:_}=r("./utils"),{AbortError:b,codes:{ERR_INVALID_ARG_VALUE:A,ERR_MISSING_ARGS:w}}=r("../../ours/errors"),S=r("./end-of-stream");o.exports=function(...x){if(x.length===0)throw new w("streams");if(x.length===1)return c.from(x[0]);const O=[...x];if(typeof x[0]=="function"&&(x[0]=c.from(x[0])),typeof x[x.length-1]=="function"){const Ie=x.length-1;x[Ie]=c.from(x[Ie])}for(let Ie=0;Ie<x.length;++Ie)if(!(!d(x[Ie])&&!g(x[Ie]))){if(Ie<x.length-1&&!(h(x[Ie])||_(x[Ie])||p(x[Ie])))throw new A(`streams[${Ie}]`,O[Ie],"must be readable");if(Ie>0&&!(v(x[Ie])||y(x[Ie])||p(x[Ie])))throw new A(`streams[${Ie}]`,O[Ie],"must be writable")}let L,M,re,F,Y;function V(Ie){const he=F;F=null,he?he(Ie):Ie?Y.destroy(Ie):!le&&!pe&&Y.destroy()}const z=x[0],$=u(x,V),pe=!!(v(z)||y(z)||p(z)),le=!!(h($)||_($)||p($));if(Y=new c({writableObjectMode:!!(z!=null&&z.writableObjectMode),readableObjectMode:!!($!=null&&$.writableObjectMode),writable:pe,readable:le}),pe){if(d(z))Y._write=function(he,xe,_e){z.write(he,xe)?_e():L=_e},Y._final=function(he){z.end(),M=he},z.on("drain",function(){if(L){const he=L;L=null,he()}});else if(g(z)){const xe=(p(z)?z.writable:z).getWriter();Y._write=async function(_e,jt,Lt){try{await xe.ready,xe.write(_e).catch(()=>{}),Lt()}catch(Cn){Lt(Cn)}},Y._final=async function(_e){try{await xe.ready,xe.close().catch(()=>{}),M=_e}catch(jt){_e(jt)}}}const Ie=p($)?$.readable:$;S(Ie,()=>{if(M){const he=M;M=null,he()}})}if(le){if(d($))$.on("readable",function(){if(re){const Ie=re;re=null,Ie()}}),$.on("end",function(){Y.push(null)}),Y._read=function(){for(;;){const Ie=$.read();if(Ie===null){re=Y._read;return}if(!Y.push(Ie))return}};else if(g($)){const he=(p($)?$.readable:$).getReader();Y._read=async function(){for(;;)try{const{value:xe,done:_e}=await he.read();if(!Y.push(xe))return;if(_e){Y.push(null);return}}catch{return}}}}return Y._destroy=function(Ie,he){!Ie&&F!==null&&(Ie=new b),re=null,L=null,M=null,F===null?he(Ie):(F=he,d($)&&f($,Ie))},Y}},{"../../ours/errors":126,"./destroy":110,"./duplex":111,"./end-of-stream":113,"./pipeline":118,"./utils":122}],110:[function(r,o,a){const u=r("process/"),{aggregateTwoErrors:c,codes:{ERR_MULTIPLE_CALLBACK:f},AbortError:d}=r("../../ours/errors"),{Symbol:h}=r("../../ours/primordials"),{kDestroyed:v,isDestroyed:g,isFinished:p,isServerRequest:y}=r("./utils"),_=h("kDestroy"),b=h("kConstruct");function A(le,Ie,he){le&&(le.stack,Ie&&!Ie.errored&&(Ie.errored=le),he&&!he.errored&&(he.errored=le))}function w(le,Ie){const he=this._readableState,xe=this._writableState,_e=xe||he;return xe!=null&&xe.destroyed||he!=null&&he.destroyed?(typeof Ie=="function"&&Ie(),this):(A(le,xe,he),xe&&(xe.destroyed=!0),he&&(he.destroyed=!0),_e.constructed?S(this,le,Ie):this.once(_,function(jt){S(this,c(jt,le),Ie)}),this)}function S(le,Ie,he){let xe=!1;function _e(jt){if(xe)return;xe=!0;const Lt=le._readableState,Cn=le._writableState;A(jt,Cn,Lt),Cn&&(Cn.closed=!0),Lt&&(Lt.closed=!0),typeof he=="function"&&he(jt),jt?u.nextTick(T,le,jt):u.nextTick(x,le)}try{le._destroy(Ie||null,_e)}catch(jt){_e(jt)}}function T(le,Ie){O(le,Ie),x(le)}function x(le){const Ie=le._readableState,he=le._writableState;he&&(he.closeEmitted=!0),Ie&&(Ie.closeEmitted=!0),(he!=null&&he.emitClose||Ie!=null&&Ie.emitClose)&&le.emit("close")}function O(le,Ie){const he=le._readableState,xe=le._writableState;xe!=null&&xe.errorEmitted||he!=null&&he.errorEmitted||(xe&&(xe.errorEmitted=!0),he&&(he.errorEmitted=!0),le.emit("error",Ie))}function L(){const le=this._readableState,Ie=this._writableState;le&&(le.constructed=!0,le.closed=!1,le.closeEmitted=!1,le.destroyed=!1,le.errored=null,le.errorEmitted=!1,le.reading=!1,le.ended=le.readable===!1,le.endEmitted=le.readable===!1),Ie&&(Ie.constructed=!0,Ie.destroyed=!1,Ie.closed=!1,Ie.closeEmitted=!1,Ie.errored=null,Ie.errorEmitted=!1,Ie.finalCalled=!1,Ie.prefinished=!1,Ie.ended=Ie.writable===!1,Ie.ending=Ie.writable===!1,Ie.finished=Ie.writable===!1)}function M(le,Ie,he){const xe=le._readableState,_e=le._writableState;if(_e!=null&&_e.destroyed||xe!=null&&xe.destroyed)return this;xe!=null&&xe.autoDestroy||_e!=null&&_e.autoDestroy?le.destroy(Ie):Ie&&(Ie.stack,_e&&!_e.errored&&(_e.errored=Ie),xe&&!xe.errored&&(xe.errored=Ie),he?u.nextTick(O,le,Ie):O(le,Ie))}function re(le,Ie){if(typeof le._construct!="function")return;const he=le._readableState,xe=le._writableState;he&&(he.constructed=!1),xe&&(xe.constructed=!1),le.once(b,Ie),!(le.listenerCount(b)>1)&&u.nextTick(F,le)}function F(le){let Ie=!1;function he(xe){if(Ie){M(le,xe??new f);return}Ie=!0;const _e=le._readableState,jt=le._writableState,Lt=jt||_e;_e&&(_e.constructed=!0),jt&&(jt.constructed=!0),Lt.destroyed?le.emit(_,xe):xe?M(le,xe,!0):u.nextTick(Y,le)}try{le._construct(xe=>{u.nextTick(he,xe)})}catch(xe){u.nextTick(he,xe)}}function Y(le){le.emit(b)}function V(le){return(le==null?void 0:le.setHeader)&&typeof le.abort=="function"}function z(le){le.emit("close")}function $(le,Ie){le.emit("error",Ie),u.nextTick(z,le)}function pe(le,Ie){!le||g(le)||(!Ie&&!p(le)&&(Ie=new d),y(le)?(le.socket=null,le.destroy(Ie)):V(le)?le.abort():V(le.req)?le.req.abort():typeof le.destroy=="function"?le.destroy(Ie):typeof le.close=="function"?le.close():Ie?u.nextTick($,le,Ie):u.nextTick(z,le),le.destroyed||(le[v]=!0))}o.exports={construct:re,destroyer:pe,destroy:w,undestroy:L,errorOrDestroy:M}},{"../../ours/errors":126,"../../ours/primordials":127,"./utils":122,"process/":102}],111:[function(r,o,a){const{ObjectDefineProperties:u,ObjectGetOwnPropertyDescriptor:c,ObjectKeys:f,ObjectSetPrototypeOf:d}=r("../../ours/primordials");o.exports=g;const h=r("./readable"),v=r("./writable");d(g.prototype,h.prototype),d(g,h);{const b=f(v.prototype);for(let A=0;A<b.length;A++){const w=b[A];g.prototype[w]||(g.prototype[w]=v.prototype[w])}}function g(b){if(!(this instanceof g))return new g(b);h.call(this,b),v.call(this,b),b?(this.allowHalfOpen=b.allowHalfOpen!==!1,b.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),b.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}u(g.prototype,{writable:{__proto__:null,...c(v.prototype,"writable")},writableHighWaterMark:{__proto__:null,...c(v.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...c(v.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...c(v.prototype,"writableBuffer")},writableLength:{__proto__:null,...c(v.prototype,"writableLength")},writableFinished:{__proto__:null,...c(v.prototype,"writableFinished")},writableCorked:{__proto__:null,...c(v.prototype,"writableCorked")},writableEnded:{__proto__:null,...c(v.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...c(v.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(b){this._readableState&&this._writableState&&(this._readableState.destroyed=b,this._writableState.destroyed=b)}}});let p;function y(){return p===void 0&&(p={}),p}g.fromWeb=function(b,A){return y().newStreamDuplexFromReadableWritablePair(b,A)},g.toWeb=function(b){return y().newReadableWritablePairFromDuplex(b)};let _;g.from=function(b){return _||(_=r("./duplexify")),_(b,"body")}},{"../../ours/primordials":127,"./duplexify":112,"./readable":119,"./writable":123}],112:[function(r,o,a){const u=r("process/"),c=r("buffer"),{isReadable:f,isWritable:d,isIterable:h,isNodeStream:v,isReadableNodeStream:g,isWritableNodeStream:p,isDuplexNodeStream:y}=r("./utils"),_=r("./end-of-stream"),{AbortError:b,codes:{ERR_INVALID_ARG_TYPE:A,ERR_INVALID_RETURN_VALUE:w}}=r("../../ours/errors"),{destroyer:S}=r("./destroy"),T=r("./duplex"),x=r("./readable"),{createDeferredPromise:O}=r("../../ours/util"),L=r("./from"),M=globalThis.Blob||c.Blob,re=typeof M<"u"?function(le){return le instanceof M}:function(le){return!1},F=globalThis.AbortController||r("abort-controller").AbortController,{FunctionPrototypeCall:Y}=r("../../ours/primordials");class V extends T{constructor(le){super(le),(le==null?void 0:le.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(le==null?void 0:le.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}o.exports=function pe(le,Ie){if(y(le))return le;if(g(le))return $({readable:le});if(p(le))return $({writable:le});if(v(le))return $({writable:!1,readable:!1});if(typeof le=="function"){const{value:xe,write:_e,final:jt,destroy:Lt}=z(le);if(h(xe))return L(V,xe,{objectMode:!0,write:_e,final:jt,destroy:Lt});const Cn=xe==null?void 0:xe.then;if(typeof Cn=="function"){let vn;const kt=Y(Cn,xe,de=>{if(de!=null)throw new w("nully","body",de)},de=>{S(vn,de)});return vn=new V({objectMode:!0,readable:!1,write:_e,final(de){jt(async()=>{try{await kt,u.nextTick(de,null)}catch(qe){u.nextTick(de,qe)}})},destroy:Lt})}throw new w("Iterable, AsyncIterable or AsyncFunction",Ie,xe)}if(re(le))return pe(le.arrayBuffer());if(h(le))return L(V,le,{objectMode:!0,writable:!1});if(typeof(le==null?void 0:le.writable)=="object"||typeof(le==null?void 0:le.readable)=="object"){const xe=le!=null&&le.readable?g(le==null?void 0:le.readable)?le==null?void 0:le.readable:pe(le.readable):void 0,_e=le!=null&&le.writable?p(le==null?void 0:le.writable)?le==null?void 0:le.writable:pe(le.writable):void 0;return $({readable:xe,writable:_e})}const he=le==null?void 0:le.then;if(typeof he=="function"){let xe;return Y(he,le,_e=>{_e!=null&&xe.push(_e),xe.push(null)},_e=>{S(xe,_e)}),xe=new V({objectMode:!0,writable:!1,read(){}})}throw new A(Ie,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],le)};function z(pe){let{promise:le,resolve:Ie}=O();const he=new F,xe=he.signal;return{value:pe(async function*(){for(;;){const jt=le;le=null;const{chunk:Lt,done:Cn,cb:vn}=await jt;if(u.nextTick(vn),Cn)return;if(xe.aborted)throw new b(void 0,{cause:xe.reason});({promise:le,resolve:Ie}=O()),yield Lt}}(),{signal:xe}),write(jt,Lt,Cn){const vn=Ie;Ie=null,vn({chunk:jt,done:!1,cb:Cn})},final(jt){const Lt=Ie;Ie=null,Lt({done:!0,cb:jt})},destroy(jt,Lt){he.abort(),Lt(jt)}}}function $(pe){const le=pe.readable&&typeof pe.readable.read!="function"?x.wrap(pe.readable):pe.readable,Ie=pe.writable;let he=!!f(le),xe=!!d(Ie),_e,jt,Lt,Cn,vn;function kt(de){const qe=Cn;Cn=null,qe?qe(de):de&&vn.destroy(de)}return vn=new V({readableObjectMode:!!(le!=null&&le.readableObjectMode),writableObjectMode:!!(Ie!=null&&Ie.writableObjectMode),readable:he,writable:xe}),xe&&(_(Ie,de=>{xe=!1,de&&S(le,de),kt(de)}),vn._write=function(de,qe,Et){Ie.write(de,qe)?Et():_e=Et},vn._final=function(de){Ie.end(),jt=de},Ie.on("drain",function(){if(_e){const de=_e;_e=null,de()}}),Ie.on("finish",function(){if(jt){const de=jt;jt=null,de()}})),he&&(_(le,de=>{he=!1,de&&S(le,de),kt(de)}),le.on("readable",function(){if(Lt){const de=Lt;Lt=null,de()}}),le.on("end",function(){vn.push(null)}),vn._read=function(){for(;;){const de=le.read();if(de===null){Lt=vn._read;return}if(!vn.push(de))return}}),vn._destroy=function(de,qe){!de&&Cn!==null&&(de=new b),Lt=null,_e=null,jt=null,Cn===null?qe(de):(Cn=qe,S(Ie,de),S(le,de))},vn}},{"../../ours/errors":126,"../../ours/primordials":127,"../../ours/util":128,"./destroy":110,"./duplex":111,"./end-of-stream":113,"./from":114,"./readable":119,"./utils":122,"abort-controller":24,buffer:29,"process/":102}],113:[function(r,o,a){const u=r("process/"),{AbortError:c,codes:f}=r("../../ours/errors"),{ERR_INVALID_ARG_TYPE:d,ERR_STREAM_PREMATURE_CLOSE:h}=f,{kEmptyObject:v,once:g}=r("../../ours/util"),{validateAbortSignal:p,validateFunction:y,validateObject:_,validateBoolean:b}=r("../validators"),{Promise:A,PromisePrototypeThen:w}=r("../../ours/primordials"),{isClosed:S,isReadable:T,isReadableNodeStream:x,isReadableStream:O,isReadableFinished:L,isReadableErrored:M,isWritable:re,isWritableNodeStream:F,isWritableStream:Y,isWritableFinished:V,isWritableErrored:z,isNodeStream:$,willEmitClose:pe,kIsClosedPromise:le}=r("./utils");function Ie(Lt){return Lt.setHeader&&typeof Lt.abort=="function"}const he=()=>{};function xe(Lt,Cn,vn){var kt,de;if(arguments.length===2?(vn=Cn,Cn=v):Cn==null?Cn=v:_(Cn,"options"),y(vn,"callback"),p(Cn.signal,"options.signal"),vn=g(vn),O(Lt)||Y(Lt))return _e(Lt,Cn,vn);if(!$(Lt))throw new d("stream",["ReadableStream","WritableStream","Stream"],Lt);const qe=(kt=Cn.readable)!==null&&kt!==void 0?kt:x(Lt),Et=(de=Cn.writable)!==null&&de!==void 0?de:F(Lt),In=Lt._writableState,$e=Lt._readableState,Ce=()=>{Lt.writable||Oe()};let ue=pe(Lt)&&x(Lt)===qe&&F(Lt)===Et,At=V(Lt,!1);const Oe=()=>{At=!0,Lt.destroyed&&(ue=!1),!(ue&&(!Lt.readable||qe))&&(!qe||Ve)&&vn.call(Lt)};let Ve=L(Lt,!1);const Pt=()=>{Ve=!0,Lt.destroyed&&(ue=!1),!(ue&&(!Lt.writable||Et))&&(!Et||At)&&vn.call(Lt)},Dt=D=>{vn.call(Lt,D)};let _n=S(Lt);const ie=()=>{_n=!0;const D=z(Lt)||M(Lt);if(D&&typeof D!="boolean")return vn.call(Lt,D);if(qe&&!Ve&&x(Lt,!0)&&!L(Lt,!1))return vn.call(Lt,new h);if(Et&&!At&&!V(Lt,!1))return vn.call(Lt,new h);vn.call(Lt)},oe=()=>{_n=!0;const D=z(Lt)||M(Lt);if(D&&typeof D!="boolean")return vn.call(Lt,D);vn.call(Lt)},j=()=>{Lt.req.on("finish",Oe)};Ie(Lt)?(Lt.on("complete",Oe),ue||Lt.on("abort",ie),Lt.req?j():Lt.on("request",j)):Et&&!In&&(Lt.on("end",Ce),Lt.on("close",Ce)),!ue&&typeof Lt.aborted=="boolean"&&Lt.on("aborted",ie),Lt.on("end",Pt),Lt.on("finish",Oe),Cn.error!==!1&&Lt.on("error",Dt),Lt.on("close",ie),_n?u.nextTick(ie):In!=null&&In.errorEmitted||$e!=null&&$e.errorEmitted?ue||u.nextTick(oe):(!qe&&(!ue||T(Lt))&&(At||re(Lt)===!1)||!Et&&(!ue||re(Lt))&&(Ve||T(Lt)===!1)||$e&&Lt.req&&Lt.aborted)&&u.nextTick(oe);const k=()=>{vn=he,Lt.removeListener("aborted",ie),Lt.removeListener("complete",Oe),Lt.removeListener("abort",ie),Lt.removeListener("request",j),Lt.req&&Lt.req.removeListener("finish",Oe),Lt.removeListener("end",Ce),Lt.removeListener("close",Ce),Lt.removeListener("finish",Oe),Lt.removeListener("end",Pt),Lt.removeListener("error",Dt),Lt.removeListener("close",ie)};if(Cn.signal&&!_n){const D=()=>{const ae=vn;k(),ae.call(Lt,new c(void 0,{cause:Cn.signal.reason}))};if(Cn.signal.aborted)u.nextTick(D);else{const ae=vn;vn=g((...Ne)=>{Cn.signal.removeEventListener("abort",D),ae.apply(Lt,Ne)}),Cn.signal.addEventListener("abort",D)}}return k}function _e(Lt,Cn,vn){let kt=!1,de=he;if(Cn.signal)if(de=()=>{kt=!0,vn.call(Lt,new c(void 0,{cause:Cn.signal.reason}))},Cn.signal.aborted)u.nextTick(de);else{const Et=vn;vn=g((...In)=>{Cn.signal.removeEventListener("abort",de),Et.apply(Lt,In)}),Cn.signal.addEventListener("abort",de)}const qe=(...Et)=>{kt||u.nextTick(()=>vn.apply(Lt,Et))};return w(Lt[le].promise,qe,qe),he}function jt(Lt,Cn){var vn;let kt=!1;return Cn===null&&(Cn=v),(vn=Cn)!==null&&vn!==void 0&&vn.cleanup&&(b(Cn.cleanup,"cleanup"),kt=Cn.cleanup),new A((de,qe)=>{const Et=xe(Lt,Cn,In=>{kt&&Et(),In?qe(In):de()})})}o.exports=xe,o.exports.finished=jt},{"../../ours/errors":126,"../../ours/primordials":127,"../../ours/util":128,"../validators":124,"./utils":122,"process/":102}],114:[function(r,o,a){const u=r("process/"),{PromisePrototypeThen:c,SymbolAsyncIterator:f,SymbolIterator:d}=r("../../ours/primordials"),{Buffer:h}=r("buffer"),{ERR_INVALID_ARG_TYPE:v,ERR_STREAM_NULL_VALUES:g}=r("../../ours/errors").codes;function p(y,_,b){let A;if(typeof _=="string"||_ instanceof h)return new y({objectMode:!0,...b,read(){this.push(_),this.push(null)}});let w;if(_&&_[f])w=!0,A=_[f]();else if(_&&_[d])w=!1,A=_[d]();else throw new v("iterable",["Iterable"],_);const S=new y({objectMode:!0,highWaterMark:1,...b});let T=!1;S._read=function(){T||(T=!0,O())},S._destroy=function(L,M){c(x(L),()=>u.nextTick(M,L),re=>u.nextTick(M,re||L))};async function x(L){const M=L!=null,re=typeof A.throw=="function";if(M&&re){const{value:F,done:Y}=await A.throw(L);if(await F,Y)return}if(typeof A.return=="function"){const{value:F}=await A.return();await F}}async function O(){for(;;){try{const{value:L,done:M}=w?await A.next():A.next();if(M)S.push(null);else{const re=L&&typeof L.then=="function"?await L:L;if(re===null)throw T=!1,new g;if(S.push(re))continue;T=!1}}catch(L){S.destroy(L)}break}}return S}o.exports=p},{"../../ours/errors":126,"../../ours/primordials":127,buffer:29,"process/":102}],115:[function(r,o,a){const{ArrayIsArray:u,ObjectSetPrototypeOf:c}=r("../../ours/primordials"),{EventEmitter:f}=r("events");function d(v){f.call(this,v)}c(d.prototype,f.prototype),c(d,f),d.prototype.pipe=function(v,g){const p=this;function y(x){v.writable&&v.write(x)===!1&&p.pause&&p.pause()}p.on("data",y);function _(){p.readable&&p.resume&&p.resume()}v.on("drain",_),!v._isStdio&&(!g||g.end!==!1)&&(p.on("end",A),p.on("close",w));let b=!1;function A(){b||(b=!0,v.end())}function w(){b||(b=!0,typeof v.destroy=="function"&&v.destroy())}function S(x){T(),f.listenerCount(this,"error")===0&&this.emit("error",x)}h(p,"error",S),h(v,"error",S);function T(){p.removeListener("data",y),v.removeListener("drain",_),p.removeListener("end",A),p.removeListener("close",w),p.removeListener("error",S),v.removeListener("error",S),p.removeListener("end",T),p.removeListener("close",T),v.removeListener("close",T)}return p.on("end",T),p.on("close",T),v.on("close",T),v.emit("pipe",p),v};function h(v,g,p){if(typeof v.prependListener=="function")return v.prependListener(g,p);!v._events||!v._events[g]?v.on(g,p):u(v._events[g])?v._events[g].unshift(p):v._events[g]=[p,v._events[g]]}o.exports={Stream:d,prependListener:h}},{"../../ours/primordials":127,events:49}],116:[function(r,o,a){const u=globalThis.AbortController||r("abort-controller").AbortController,{codes:{ERR_INVALID_ARG_VALUE:c,ERR_INVALID_ARG_TYPE:f,ERR_MISSING_ARGS:d,ERR_OUT_OF_RANGE:h},AbortError:v}=r("../../ours/errors"),{validateAbortSignal:g,validateInteger:p,validateObject:y}=r("../validators"),_=r("../../ours/primordials").Symbol("kWeak"),{finished:b}=r("./end-of-stream"),A=r("./compose"),{addAbortSignalNoValidate:w}=r("./add-abort-signal"),{isWritable:S,isNodeStream:T}=r("./utils"),{ArrayPrototypePush:x,MathFloor:O,Number:L,NumberIsNaN:M,Promise:re,PromiseReject:F,PromisePrototypeThen:Y,Symbol:V}=r("../../ours/primordials"),z=V("kEmpty"),$=V("kEof");function pe($e,Ce){if(Ce!=null&&y(Ce,"options"),(Ce==null?void 0:Ce.signal)!=null&&g(Ce.signal,"options.signal"),T($e)&&!S($e))throw new c("stream",$e,"must be writable");const ue=A(this,$e);return Ce!=null&&Ce.signal&&w(Ce.signal,ue),ue}function le($e,Ce){if(typeof $e!="function")throw new f("fn",["Function","AsyncFunction"],$e);Ce!=null&&y(Ce,"options"),(Ce==null?void 0:Ce.signal)!=null&&g(Ce.signal,"options.signal");let ue=1;return(Ce==null?void 0:Ce.concurrency)!=null&&(ue=O(Ce.concurrency)),p(ue,"concurrency",1),async function*(){var Oe,Ve;const Pt=new u,Dt=this,_n=[],ie=Pt.signal,oe={signal:ie},j=()=>Pt.abort();Ce!=null&&(Oe=Ce.signal)!==null&&Oe!==void 0&&Oe.aborted&&j(),Ce==null||(Ve=Ce.signal)===null||Ve===void 0||Ve.addEventListener("abort",j);let k,D,ae=!1;function Ne(){ae=!0}async function ze(){try{for await(let Tn of Dt){var hn;if(ae)return;if(ie.aborted)throw new v;try{Tn=$e(Tn,oe)}catch(Rn){Tn=F(Rn)}Tn!==z&&(typeof((hn=Tn)===null||hn===void 0?void 0:hn.catch)=="function"&&Tn.catch(Ne),_n.push(Tn),k&&(k(),k=null),!ae&&_n.length&&_n.length>=ue&&await new re(Rn=>{D=Rn}))}_n.push($)}catch(Tn){const Rn=F(Tn);Y(Rn,void 0,Ne),_n.push(Rn)}finally{var An;ae=!0,k&&(k(),k=null),Ce==null||(An=Ce.signal)===null||An===void 0||An.removeEventListener("abort",j)}}ze();try{for(;;){for(;_n.length>0;){const hn=await _n[0];if(hn===$)return;if(ie.aborted)throw new v;hn!==z&&(yield hn),_n.shift(),D&&(D(),D=null)}await new re(hn=>{k=hn})}}finally{Pt.abort(),ae=!0,D&&(D(),D=null)}}.call(this)}function Ie($e=void 0){return $e!=null&&y($e,"options"),($e==null?void 0:$e.signal)!=null&&g($e.signal,"options.signal"),async function*(){let ue=0;for await(const Oe of this){var At;if($e!=null&&(At=$e.signal)!==null&&At!==void 0&&At.aborted)throw new v({cause:$e.signal.reason});yield[ue++,Oe]}}.call(this)}async function he($e,Ce=void 0){for await(const ue of Lt.call(this,$e,Ce))return!0;return!1}async function xe($e,Ce=void 0){if(typeof $e!="function")throw new f("fn",["Function","AsyncFunction"],$e);return!await he.call(this,async(...ue)=>!await $e(...ue),Ce)}async function _e($e,Ce){for await(const ue of Lt.call(this,$e,Ce))return ue}async function jt($e,Ce){if(typeof $e!="function")throw new f("fn",["Function","AsyncFunction"],$e);async function ue(At,Oe){return await $e(At,Oe),z}for await(const At of le.call(this,ue,Ce));}function Lt($e,Ce){if(typeof $e!="function")throw new f("fn",["Function","AsyncFunction"],$e);async function ue(At,Oe){return await $e(At,Oe)?At:z}return le.call(this,ue,Ce)}class Cn extends d{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function vn($e,Ce,ue){var At;if(typeof $e!="function")throw new f("reducer",["Function","AsyncFunction"],$e);ue!=null&&y(ue,"options"),(ue==null?void 0:ue.signal)!=null&&g(ue.signal,"options.signal");let Oe=arguments.length>1;if(ue!=null&&(At=ue.signal)!==null&&At!==void 0&&At.aborted){const ie=new v(void 0,{cause:ue.signal.reason});throw this.once("error",()=>{}),await b(this.destroy(ie)),ie}const Ve=new u,Pt=Ve.signal;if(ue!=null&&ue.signal){const ie={once:!0,[_]:this};ue.signal.addEventListener("abort",()=>Ve.abort(),ie)}let Dt=!1;try{for await(const ie of this){var _n;if(Dt=!0,ue!=null&&(_n=ue.signal)!==null&&_n!==void 0&&_n.aborted)throw new v;Oe?Ce=await $e(Ce,ie,{signal:Pt}):(Ce=ie,Oe=!0)}if(!Dt&&!Oe)throw new Cn}finally{Ve.abort()}return Ce}async function kt($e){$e!=null&&y($e,"options"),($e==null?void 0:$e.signal)!=null&&g($e.signal,"options.signal");const Ce=[];for await(const At of this){var ue;if($e!=null&&(ue=$e.signal)!==null&&ue!==void 0&&ue.aborted)throw new v(void 0,{cause:$e.signal.reason});x(Ce,At)}return Ce}function de($e,Ce){const ue=le.call(this,$e,Ce);return async function*(){for await(const Oe of ue)yield*Oe}.call(this)}function qe($e){if($e=L($e),M($e))return 0;if($e<0)throw new h("number",">= 0",$e);return $e}function Et($e,Ce=void 0){return Ce!=null&&y(Ce,"options"),(Ce==null?void 0:Ce.signal)!=null&&g(Ce.signal,"options.signal"),$e=qe($e),async function*(){var At;if(Ce!=null&&(At=Ce.signal)!==null&&At!==void 0&&At.aborted)throw new v;for await(const Ve of this){var Oe;if(Ce!=null&&(Oe=Ce.signal)!==null&&Oe!==void 0&&Oe.aborted)throw new v;$e--<=0&&(yield Ve)}}.call(this)}function In($e,Ce=void 0){return Ce!=null&&y(Ce,"options"),(Ce==null?void 0:Ce.signal)!=null&&g(Ce.signal,"options.signal"),$e=qe($e),async function*(){var At;if(Ce!=null&&(At=Ce.signal)!==null&&At!==void 0&&At.aborted)throw new v;for await(const Ve of this){var Oe;if(Ce!=null&&(Oe=Ce.signal)!==null&&Oe!==void 0&&Oe.aborted)throw new v;if($e-- >0)yield Ve;else return}}.call(this)}o.exports.streamReturningOperators={asIndexedPairs:Ie,drop:Et,filter:Lt,flatMap:de,map:le,take:In,compose:pe},o.exports.promiseReturningOperators={every:xe,forEach:jt,reduce:vn,toArray:kt,some:he,find:_e}},{"../../ours/errors":126,"../../ours/primordials":127,"../validators":124,"./add-abort-signal":107,"./compose":109,"./end-of-stream":113,"./utils":122,"abort-controller":24}],117:[function(r,o,a){const{ObjectSetPrototypeOf:u}=r("../../ours/primordials");o.exports=f;const c=r("./transform");u(f.prototype,c.prototype),u(f,c);function f(d){if(!(this instanceof f))return new f(d);c.call(this,d)}f.prototype._transform=function(d,h,v){v(null,d)}},{"../../ours/primordials":127,"./transform":121}],118:[function(r,o,a){const u=r("process/"),{ArrayIsArray:c,Promise:f,SymbolAsyncIterator:d}=r("../../ours/primordials"),h=r("./end-of-stream"),{once:v}=r("../../ours/util"),g=r("./destroy"),p=r("./duplex"),{aggregateTwoErrors:y,codes:{ERR_INVALID_ARG_TYPE:_,ERR_INVALID_RETURN_VALUE:b,ERR_MISSING_ARGS:A,ERR_STREAM_DESTROYED:w,ERR_STREAM_PREMATURE_CLOSE:S},AbortError:T}=r("../../ours/errors"),{validateFunction:x,validateAbortSignal:O}=r("../validators"),{isIterable:L,isReadable:M,isReadableNodeStream:re,isNodeStream:F,isTransformStream:Y,isWebStream:V,isReadableStream:z,isReadableEnded:$}=r("./utils"),pe=globalThis.AbortController||r("abort-controller").AbortController;let le,Ie;function he(qe,Et,In){let $e=!1;qe.on("close",()=>{$e=!0});const Ce=h(qe,{readable:Et,writable:In},ue=>{$e=!ue});return{destroy:ue=>{$e||($e=!0,g.destroyer(qe,ue||new w("pipe")))},cleanup:Ce}}function xe(qe){return x(qe[qe.length-1],"streams[stream.length - 1]"),qe.pop()}function _e(qe){if(L(qe))return qe;if(re(qe))return jt(qe);throw new _("val",["Readable","Iterable","AsyncIterable"],qe)}async function*jt(qe){Ie||(Ie=r("./readable")),yield*Ie.prototype[d].call(qe)}async function Lt(qe,Et,In,{end:$e}){let Ce,ue=null;const At=Pt=>{if(Pt&&(Ce=Pt),ue){const Dt=ue;ue=null,Dt()}},Oe=()=>new f((Pt,Dt)=>{Ce?Dt(Ce):ue=()=>{Ce?Dt(Ce):Pt()}});Et.on("drain",At);const Ve=h(Et,{readable:!1},At);try{Et.writableNeedDrain&&await Oe();for await(const Pt of qe)Et.write(Pt)||await Oe();$e&&Et.end(),await Oe(),In()}catch(Pt){In(Ce!==Pt?y(Ce,Pt):Pt)}finally{Ve(),Et.off("drain",At)}}async function Cn(qe,Et,In,{end:$e}){Y(Et)&&(Et=Et.writable);const Ce=Et.getWriter();try{for await(const ue of qe)await Ce.ready,Ce.write(ue).catch(()=>{});await Ce.ready,$e&&await Ce.close(),In()}catch(ue){try{await Ce.abort(ue),In(ue)}catch(At){In(At)}}}function vn(...qe){return kt(qe,v(xe(qe)))}function kt(qe,Et,In){if(qe.length===1&&c(qe[0])&&(qe=qe[0]),qe.length<2)throw new A("streams");const $e=new pe,Ce=$e.signal,ue=In==null?void 0:In.signal,At=[];O(ue,"options.signal");function Oe(){oe(new T)}ue==null||ue.addEventListener("abort",Oe);let Ve,Pt;const Dt=[];let _n=0;function ie(ae){oe(ae,--_n===0)}function oe(ae,Ne){if(ae&&(!Ve||Ve.code==="ERR_STREAM_PREMATURE_CLOSE")&&(Ve=ae),!(!Ve&&!Ne)){for(;Dt.length;)Dt.shift()(Ve);ue==null||ue.removeEventListener("abort",Oe),$e.abort(),Ne&&(Ve||At.forEach(ze=>ze()),u.nextTick(Et,Ve,Pt))}}let j;for(let ae=0;ae<qe.length;ae++){const Ne=qe[ae],ze=ae<qe.length-1,hn=ae>0,An=ze||(In==null?void 0:In.end)!==!1,Tn=ae===qe.length-1;if(F(Ne)){let Rn=function(Fe){Fe&&Fe.name!=="AbortError"&&Fe.code!=="ERR_STREAM_PREMATURE_CLOSE"&&ie(Fe)};if(An){const{destroy:Fe,cleanup:Ue}=he(Ne,ze,hn);Dt.push(Fe),M(Ne)&&Tn&&At.push(Ue)}Ne.on("error",Rn),M(Ne)&&Tn&&At.push(()=>{Ne.removeListener("error",Rn)})}if(ae===0)if(typeof Ne=="function"){if(j=Ne({signal:Ce}),!L(j))throw new b("Iterable, AsyncIterable or Stream","source",j)}else L(Ne)||re(Ne)||Y(Ne)?j=Ne:j=p.from(Ne);else if(typeof Ne=="function"){if(Y(j)){var k;j=_e((k=j)===null||k===void 0?void 0:k.readable)}else j=_e(j);if(j=Ne(j,{signal:Ce}),ze){if(!L(j,!0))throw new b("AsyncIterable",`transform[${ae-1}]`,j)}else{var D;le||(le=r("./passthrough"));const Rn=new le({objectMode:!0}),Fe=(D=j)===null||D===void 0?void 0:D.then;if(typeof Fe=="function")_n++,Fe.call(j,Sn=>{Pt=Sn,Sn!=null&&Rn.write(Sn),An&&Rn.end(),u.nextTick(ie)},Sn=>{Rn.destroy(Sn),u.nextTick(ie,Sn)});else if(L(j,!0))_n++,Lt(j,Rn,ie,{end:An});else if(z(j)||Y(j)){const Sn=j.readable||j;_n++,Lt(Sn,Rn,ie,{end:An})}else throw new b("AsyncIterable or Promise","destination",j);j=Rn;const{destroy:Ue,cleanup:En}=he(j,!1,!0);Dt.push(Ue),Tn&&At.push(En)}}else if(F(Ne)){if(re(j)){_n+=2;const Rn=de(j,Ne,ie,{end:An});M(Ne)&&Tn&&At.push(Rn)}else if(Y(j)||z(j)){const Rn=j.readable||j;_n++,Lt(Rn,Ne,ie,{end:An})}else if(L(j))_n++,Lt(j,Ne,ie,{end:An});else throw new _("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],j);j=Ne}else if(V(Ne)){if(re(j))_n++,Cn(_e(j),Ne,ie,{end:An});else if(z(j)||L(j))_n++,Cn(j,Ne,ie,{end:An});else if(Y(j))_n++,Cn(j.readable,Ne,ie,{end:An});else throw new _("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],j);j=Ne}else j=p.from(Ne)}return(Ce!=null&&Ce.aborted||ue!=null&&ue.aborted)&&u.nextTick(Oe),j}function de(qe,Et,In,{end:$e}){let Ce=!1;if(Et.on("close",()=>{Ce||In(new S)}),qe.pipe(Et,{end:!1}),$e){let ue=function(){Ce=!0,Et.end()};$(qe)?u.nextTick(ue):qe.once("end",ue)}else In();return h(qe,{readable:!0,writable:!1},ue=>{const At=qe._readableState;ue&&ue.code==="ERR_STREAM_PREMATURE_CLOSE"&&At&&At.ended&&!At.errored&&!At.errorEmitted?qe.once("end",In).once("error",In):In(ue)}),h(Et,{readable:!1,writable:!0},In)}o.exports={pipelineImpl:kt,pipeline:vn}},{"../../ours/errors":126,"../../ours/primordials":127,"../../ours/util":128,"../validators":124,"./destroy":110,"./duplex":111,"./end-of-stream":113,"./passthrough":117,"./readable":119,"./utils":122,"abort-controller":24,"process/":102}],119:[function(r,o,a){const u=r("process/"),{ArrayPrototypeIndexOf:c,NumberIsInteger:f,NumberIsNaN:d,NumberParseInt:h,ObjectDefineProperties:v,ObjectKeys:g,ObjectSetPrototypeOf:p,Promise:y,SafeSet:_,SymbolAsyncIterator:b,Symbol:A}=r("../../ours/primordials");o.exports=de,de.ReadableState=kt;const{EventEmitter:w}=r("events"),{Stream:S,prependListener:T}=r("./legacy"),{Buffer:x}=r("buffer"),{addAbortSignal:O}=r("./add-abort-signal"),L=r("./end-of-stream");let M=r("../../ours/util").debuglog("stream",Fe=>{M=Fe});const re=r("./buffer_list"),F=r("./destroy"),{getHighWaterMark:Y,getDefaultHighWaterMark:V}=r("./state"),{aggregateTwoErrors:z,codes:{ERR_INVALID_ARG_TYPE:$,ERR_METHOD_NOT_IMPLEMENTED:pe,ERR_OUT_OF_RANGE:le,ERR_STREAM_PUSH_AFTER_EOF:Ie,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:he}}=r("../../ours/errors"),{validateObject:xe}=r("../validators"),_e=A("kPaused"),{StringDecoder:jt}=r("string_decoder"),Lt=r("./from");p(de.prototype,S.prototype),p(de,S);const Cn=()=>{},{errorOrDestroy:vn}=F;function kt(Fe,Ue,En){typeof En!="boolean"&&(En=Ue instanceof r("./duplex")),this.objectMode=!!(Fe&&Fe.objectMode),En&&(this.objectMode=this.objectMode||!!(Fe&&Fe.readableObjectMode)),this.highWaterMark=Fe?Y(this,Fe,"readableHighWaterMark",En):V(!1),this.buffer=new re,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[_e]=null,this.errorEmitted=!1,this.emitClose=!Fe||Fe.emitClose!==!1,this.autoDestroy=!Fe||Fe.autoDestroy!==!1,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=Fe&&Fe.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,Fe&&Fe.encoding&&(this.decoder=new jt(Fe.encoding),this.encoding=Fe.encoding)}function de(Fe){if(!(this instanceof de))return new de(Fe);const Ue=this instanceof r("./duplex");this._readableState=new kt(Fe,this,Ue),Fe&&(typeof Fe.read=="function"&&(this._read=Fe.read),typeof Fe.destroy=="function"&&(this._destroy=Fe.destroy),typeof Fe.construct=="function"&&(this._construct=Fe.construct),Fe.signal&&!Ue&&O(Fe.signal,this)),S.call(this,Fe),F.construct(this,()=>{this._readableState.needReadable&&Ve(this,this._readableState)})}de.prototype.destroy=F.destroy,de.prototype._undestroy=F.undestroy,de.prototype._destroy=function(Fe,Ue){Ue(Fe)},de.prototype[w.captureRejectionSymbol]=function(Fe){this.destroy(Fe)},de.prototype.push=function(Fe,Ue){return qe(this,Fe,Ue,!1)},de.prototype.unshift=function(Fe,Ue){return qe(this,Fe,Ue,!0)};function qe(Fe,Ue,En,Sn){M("readableAddChunk",Ue);const xn=Fe._readableState;let Pn;if(xn.objectMode||(typeof Ue=="string"?(En=En||xn.defaultEncoding,xn.encoding!==En&&(Sn&&xn.encoding?Ue=x.from(Ue,En).toString(xn.encoding):(Ue=x.from(Ue,En),En=""))):Ue instanceof x?En="":S._isUint8Array(Ue)?(Ue=S._uint8ArrayToBuffer(Ue),En=""):Ue!=null&&(Pn=new $("chunk",["string","Buffer","Uint8Array"],Ue))),Pn)vn(Fe,Pn);else if(Ue===null)xn.reading=!1,ue(Fe,xn);else if(xn.objectMode||Ue&&Ue.length>0)if(Sn)if(xn.endEmitted)vn(Fe,new he);else{if(xn.destroyed||xn.errored)return!1;Et(Fe,xn,Ue,!0)}else if(xn.ended)vn(Fe,new Ie);else{if(xn.destroyed||xn.errored)return!1;xn.reading=!1,xn.decoder&&!En?(Ue=xn.decoder.write(Ue),xn.objectMode||Ue.length!==0?Et(Fe,xn,Ue,!1):Ve(Fe,xn)):Et(Fe,xn,Ue,!1)}else Sn||(xn.reading=!1,Ve(Fe,xn));return!xn.ended&&(xn.length<xn.highWaterMark||xn.length===0)}function Et(Fe,Ue,En,Sn){Ue.flowing&&Ue.length===0&&!Ue.sync&&Fe.listenerCount("data")>0?(Ue.multiAwaitDrain?Ue.awaitDrainWriters.clear():Ue.awaitDrainWriters=null,Ue.dataEmitted=!0,Fe.emit("data",En)):(Ue.length+=Ue.objectMode?1:En.length,Sn?Ue.buffer.unshift(En):Ue.buffer.push(En),Ue.needReadable&&At(Fe)),Ve(Fe,Ue)}de.prototype.isPaused=function(){const Fe=this._readableState;return Fe[_e]===!0||Fe.flowing===!1},de.prototype.setEncoding=function(Fe){const Ue=new jt(Fe);this._readableState.decoder=Ue,this._readableState.encoding=this._readableState.decoder.encoding;const En=this._readableState.buffer;let Sn="";for(const xn of En)Sn+=Ue.write(xn);return En.clear(),Sn!==""&&En.push(Sn),this._readableState.length=Sn.length,this};const In=1073741824;function $e(Fe){if(Fe>In)throw new le("size","<= 1GiB",Fe);return Fe--,Fe|=Fe>>>1,Fe|=Fe>>>2,Fe|=Fe>>>4,Fe|=Fe>>>8,Fe|=Fe>>>16,Fe++,Fe}function Ce(Fe,Ue){return Fe<=0||Ue.length===0&&Ue.ended?0:Ue.objectMode?1:d(Fe)?Ue.flowing&&Ue.length?Ue.buffer.first().length:Ue.length:Fe<=Ue.length?Fe:Ue.ended?Ue.length:0}de.prototype.read=function(Fe){M("read",Fe),Fe===void 0?Fe=NaN:f(Fe)||(Fe=h(Fe,10));const Ue=this._readableState,En=Fe;if(Fe>Ue.highWaterMark&&(Ue.highWaterMark=$e(Fe)),Fe!==0&&(Ue.emittedReadable=!1),Fe===0&&Ue.needReadable&&((Ue.highWaterMark!==0?Ue.length>=Ue.highWaterMark:Ue.length>0)||Ue.ended))return M("read: emitReadable",Ue.length,Ue.ended),Ue.length===0&&Ue.ended?ze(this):At(this),null;if(Fe=Ce(Fe,Ue),Fe===0&&Ue.ended)return Ue.length===0&&ze(this),null;let Sn=Ue.needReadable;if(M("need readable",Sn),(Ue.length===0||Ue.length-Fe<Ue.highWaterMark)&&(Sn=!0,M("length less than watermark",Sn)),Ue.ended||Ue.reading||Ue.destroyed||Ue.errored||!Ue.constructed)Sn=!1,M("reading, ended or constructing",Sn);else if(Sn){M("do read"),Ue.reading=!0,Ue.sync=!0,Ue.length===0&&(Ue.needReadable=!0);try{this._read(Ue.highWaterMark)}catch(Pn){vn(this,Pn)}Ue.sync=!1,Ue.reading||(Fe=Ce(En,Ue))}let xn;return Fe>0?xn=Ne(Fe,Ue):xn=null,xn===null?(Ue.needReadable=Ue.length<=Ue.highWaterMark,Fe=0):(Ue.length-=Fe,Ue.multiAwaitDrain?Ue.awaitDrainWriters.clear():Ue.awaitDrainWriters=null),Ue.length===0&&(Ue.ended||(Ue.needReadable=!0),En!==Fe&&Ue.ended&&ze(this)),xn!==null&&!Ue.errorEmitted&&!Ue.closeEmitted&&(Ue.dataEmitted=!0,this.emit("data",xn)),xn};function ue(Fe,Ue){if(M("onEofChunk"),!Ue.ended){if(Ue.decoder){const En=Ue.decoder.end();En&&En.length&&(Ue.buffer.push(En),Ue.length+=Ue.objectMode?1:En.length)}Ue.ended=!0,Ue.sync?At(Fe):(Ue.needReadable=!1,Ue.emittedReadable=!0,Oe(Fe))}}function At(Fe){const Ue=Fe._readableState;M("emitReadable",Ue.needReadable,Ue.emittedReadable),Ue.needReadable=!1,Ue.emittedReadable||(M("emitReadable",Ue.flowing),Ue.emittedReadable=!0,u.nextTick(Oe,Fe))}function Oe(Fe){const Ue=Fe._readableState;M("emitReadable_",Ue.destroyed,Ue.length,Ue.ended),!Ue.destroyed&&!Ue.errored&&(Ue.length||Ue.ended)&&(Fe.emit("readable"),Ue.emittedReadable=!1),Ue.needReadable=!Ue.flowing&&!Ue.ended&&Ue.length<=Ue.highWaterMark,k(Fe)}function Ve(Fe,Ue){!Ue.readingMore&&Ue.constructed&&(Ue.readingMore=!0,u.nextTick(Pt,Fe,Ue))}function Pt(Fe,Ue){for(;!Ue.reading&&!Ue.ended&&(Ue.length<Ue.highWaterMark||Ue.flowing&&Ue.length===0);){const En=Ue.length;if(M("maybeReadMore read 0"),Fe.read(0),En===Ue.length)break}Ue.readingMore=!1}de.prototype._read=function(Fe){throw new pe("_read()")},de.prototype.pipe=function(Fe,Ue){const En=this,Sn=this._readableState;Sn.pipes.length===1&&(Sn.multiAwaitDrain||(Sn.multiAwaitDrain=!0,Sn.awaitDrainWriters=new _(Sn.awaitDrainWriters?[Sn.awaitDrainWriters]:[]))),Sn.pipes.push(Fe),M("pipe count=%d opts=%j",Sn.pipes.length,Ue);const Pn=(!Ue||Ue.end!==!1)&&Fe!==u.stdout&&Fe!==u.stderr?$n:Vn;Sn.endEmitted?u.nextTick(Pn):En.once("end",Pn),Fe.on("unpipe",kn);function kn(Nn,Dn){M("onunpipe"),Nn===En&&Dn&&Dn.hasUnpiped===!1&&(Dn.hasUnpiped=!0,wn())}function $n(){M("onend"),Fe.end()}let Wn,bn=!1;function wn(){M("cleanup"),Fe.removeListener("close",On),Fe.removeListener("finish",Gn),Wn&&Fe.removeListener("drain",Wn),Fe.removeListener("error",Mn),Fe.removeListener("unpipe",kn),En.removeListener("end",$n),En.removeListener("end",Vn),En.removeListener("data",Bn),bn=!0,Wn&&Sn.awaitDrainWriters&&(!Fe._writableState||Fe._writableState.needDrain)&&Wn()}function Ln(){bn||(Sn.pipes.length===1&&Sn.pipes[0]===Fe?(M("false write response, pause",0),Sn.awaitDrainWriters=Fe,Sn.multiAwaitDrain=!1):Sn.pipes.length>1&&Sn.pipes.includes(Fe)&&(M("false write response, pause",Sn.awaitDrainWriters.size),Sn.awaitDrainWriters.add(Fe)),En.pause()),Wn||(Wn=Dt(En,Fe),Fe.on("drain",Wn))}En.on("data",Bn);function Bn(Nn){M("ondata");const Dn=Fe.write(Nn);M("dest.write",Dn),Dn===!1&&Ln()}function Mn(Nn){if(M("onerror",Nn),Vn(),Fe.removeListener("error",Mn),Fe.listenerCount("error")===0){const Dn=Fe._writableState||Fe._readableState;Dn&&!Dn.errorEmitted?vn(Fe,Nn):Fe.emit("error",Nn)}}T(Fe,"error",Mn);function On(){Fe.removeListener("finish",Gn),Vn()}Fe.once("close",On);function Gn(){M("onfinish"),Fe.removeListener("close",On),Vn()}Fe.once("finish",Gn);function Vn(){M("unpipe"),En.unpipe(Fe)}return Fe.emit("pipe",En),Fe.writableNeedDrain===!0?Sn.flowing&&Ln():Sn.flowing||(M("pipe resume"),En.resume()),Fe};function Dt(Fe,Ue){return function(){const Sn=Fe._readableState;Sn.awaitDrainWriters===Ue?(M("pipeOnDrain",1),Sn.awaitDrainWriters=null):Sn.multiAwaitDrain&&(M("pipeOnDrain",Sn.awaitDrainWriters.size),Sn.awaitDrainWriters.delete(Ue)),(!Sn.awaitDrainWriters||Sn.awaitDrainWriters.size===0)&&Fe.listenerCount("data")&&Fe.resume()}}de.prototype.unpipe=function(Fe){const Ue=this._readableState,En={hasUnpiped:!1};if(Ue.pipes.length===0)return this;if(!Fe){const xn=Ue.pipes;Ue.pipes=[],this.pause();for(let Pn=0;Pn<xn.length;Pn++)xn[Pn].emit("unpipe",this,{hasUnpiped:!1});return this}const Sn=c(Ue.pipes,Fe);return Sn===-1?this:(Ue.pipes.splice(Sn,1),Ue.pipes.length===0&&this.pause(),Fe.emit("unpipe",this,En),this)},de.prototype.on=function(Fe,Ue){const En=S.prototype.on.call(this,Fe,Ue),Sn=this._readableState;return Fe==="data"?(Sn.readableListening=this.listenerCount("readable")>0,Sn.flowing!==!1&&this.resume()):Fe==="readable"&&!Sn.endEmitted&&!Sn.readableListening&&(Sn.readableListening=Sn.needReadable=!0,Sn.flowing=!1,Sn.emittedReadable=!1,M("on readable",Sn.length,Sn.reading),Sn.length?At(this):Sn.reading||u.nextTick(ie,this)),En},de.prototype.addListener=de.prototype.on,de.prototype.removeListener=function(Fe,Ue){const En=S.prototype.removeListener.call(this,Fe,Ue);return Fe==="readable"&&u.nextTick(_n,this),En},de.prototype.off=de.prototype.removeListener,de.prototype.removeAllListeners=function(Fe){const Ue=S.prototype.removeAllListeners.apply(this,arguments);return(Fe==="readable"||Fe===void 0)&&u.nextTick(_n,this),Ue};function _n(Fe){const Ue=Fe._readableState;Ue.readableListening=Fe.listenerCount("readable")>0,Ue.resumeScheduled&&Ue[_e]===!1?Ue.flowing=!0:Fe.listenerCount("data")>0?Fe.resume():Ue.readableListening||(Ue.flowing=null)}function ie(Fe){M("readable nexttick read 0"),Fe.read(0)}de.prototype.resume=function(){const Fe=this._readableState;return Fe.flowing||(M("resume"),Fe.flowing=!Fe.readableListening,oe(this,Fe)),Fe[_e]=!1,this};function oe(Fe,Ue){Ue.resumeScheduled||(Ue.resumeScheduled=!0,u.nextTick(j,Fe,Ue))}function j(Fe,Ue){M("resume",Ue.reading),Ue.reading||Fe.read(0),Ue.resumeScheduled=!1,Fe.emit("resume"),k(Fe),Ue.flowing&&!Ue.reading&&Fe.read(0)}de.prototype.pause=function(){return M("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(M("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[_e]=!0,this};function k(Fe){const Ue=Fe._readableState;for(M("flow",Ue.flowing);Ue.flowing&&Fe.read()!==null;);}de.prototype.wrap=function(Fe){let Ue=!1;Fe.on("data",Sn=>{!this.push(Sn)&&Fe.pause&&(Ue=!0,Fe.pause())}),Fe.on("end",()=>{this.push(null)}),Fe.on("error",Sn=>{vn(this,Sn)}),Fe.on("close",()=>{this.destroy()}),Fe.on("destroy",()=>{this.destroy()}),this._read=()=>{Ue&&Fe.resume&&(Ue=!1,Fe.resume())};const En=g(Fe);for(let Sn=1;Sn<En.length;Sn++){const xn=En[Sn];this[xn]===void 0&&typeof Fe[xn]=="function"&&(this[xn]=Fe[xn].bind(Fe))}return this},de.prototype[b]=function(){return D(this)},de.prototype.iterator=function(Fe){return Fe!==void 0&&xe(Fe,"options"),D(this,Fe)};function D(Fe,Ue){typeof Fe.read!="function"&&(Fe=de.wrap(Fe,{objectMode:!0}));const En=ae(Fe,Ue);return En.stream=Fe,En}async function*ae(Fe,Ue){let En=Cn;function Sn(kn){this===Fe?(En(),En=Cn):En=kn}Fe.on("readable",Sn);let xn;const Pn=L(Fe,{writable:!1},kn=>{xn=kn?z(xn,kn):null,En(),En=Cn});try{for(;;){const kn=Fe.destroyed?null:Fe.read();if(kn!==null)yield kn;else{if(xn)throw xn;if(xn===null)return;await new y(Sn)}}}catch(kn){throw xn=z(xn,kn),xn}finally{(xn||(Ue==null?void 0:Ue.destroyOnReturn)!==!1)&&(xn===void 0||Fe._readableState.autoDestroy)?F.destroyer(Fe,null):(Fe.off("readable",Sn),Pn())}}v(de.prototype,{readable:{__proto__:null,get(){const Fe=this._readableState;return!!Fe&&Fe.readable!==!1&&!Fe.destroyed&&!Fe.errorEmitted&&!Fe.endEmitted},set(Fe){this._readableState&&(this._readableState.readable=!!Fe)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(Fe){this._readableState&&(this._readableState.flowing=Fe)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(Fe){this._readableState&&(this._readableState.destroyed=Fe)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),v(kt.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[_e]!==!1},set(Fe){this[_e]=!!Fe}}}),de._fromList=Ne;function Ne(Fe,Ue){if(Ue.length===0)return null;let En;return Ue.objectMode?En=Ue.buffer.shift():!Fe||Fe>=Ue.length?(Ue.decoder?En=Ue.buffer.join(""):Ue.buffer.length===1?En=Ue.buffer.first():En=Ue.buffer.concat(Ue.length),Ue.buffer.clear()):En=Ue.buffer.consume(Fe,Ue.decoder),En}function ze(Fe){const Ue=Fe._readableState;M("endReadable",Ue.endEmitted),Ue.endEmitted||(Ue.ended=!0,u.nextTick(hn,Ue,Fe))}function hn(Fe,Ue){if(M("endReadableNT",Fe.endEmitted,Fe.length),!Fe.errored&&!Fe.closeEmitted&&!Fe.endEmitted&&Fe.length===0){if(Fe.endEmitted=!0,Ue.emit("end"),Ue.writable&&Ue.allowHalfOpen===!1)u.nextTick(An,Ue);else if(Fe.autoDestroy){const En=Ue._writableState;(!En||En.autoDestroy&&(En.finished||En.writable===!1))&&Ue.destroy()}}}function An(Fe){Fe.writable&&!Fe.writableEnded&&!Fe.destroyed&&Fe.end()}de.from=function(Fe,Ue){return Lt(de,Fe,Ue)};let Tn;function Rn(){return Tn===void 0&&(Tn={}),Tn}de.fromWeb=function(Fe,Ue){return Rn().newStreamReadableFromReadableStream(Fe,Ue)},de.toWeb=function(Fe,Ue){return Rn().newReadableStreamFromStreamReadable(Fe,Ue)},de.wrap=function(Fe,Ue){var En,Sn;return new de({objectMode:(En=(Sn=Fe.readableObjectMode)!==null&&Sn!==void 0?Sn:Fe.objectMode)!==null&&En!==void 0?En:!0,...Ue,destroy(xn,Pn){F.destroyer(Fe,xn),Pn(xn)}}).wrap(Fe)}},{"../../ours/errors":126,"../../ours/primordials":127,"../../ours/util":128,"../validators":124,"./add-abort-signal":107,"./buffer_list":108,"./destroy":110,"./duplex":111,"./end-of-stream":113,"./from":114,"./legacy":115,"./state":120,buffer:29,events:49,"process/":102,string_decoder:28}],120:[function(r,o,a){const{MathFloor:u,NumberIsInteger:c}=r("../../ours/primordials"),{ERR_INVALID_ARG_VALUE:f}=r("../../ours/errors").codes;function d(g,p,y){return g.highWaterMark!=null?g.highWaterMark:p?g[y]:null}function h(g){return g?16:16*1024}function v(g,p,y,_){const b=d(p,_,y);if(b!=null){if(!c(b)||b<0){const A=_?`options.${y}`:"options.highWaterMark";throw new f(A,b)}return u(b)}return h(g.objectMode)}o.exports={getHighWaterMark:v,getDefaultHighWaterMark:h}},{"../../ours/errors":126,"../../ours/primordials":127}],121:[function(r,o,a){const{ObjectSetPrototypeOf:u,Symbol:c}=r("../../ours/primordials");o.exports=g;const{ERR_METHOD_NOT_IMPLEMENTED:f}=r("../../ours/errors").codes,d=r("./duplex"),{getHighWaterMark:h}=r("./state");u(g.prototype,d.prototype),u(g,d);const v=c("kCallback");function g(_){if(!(this instanceof g))return new g(_);const b=_?h(this,_,"readableHighWaterMark",!0):null;b===0&&(_={..._,highWaterMark:null,readableHighWaterMark:b,writableHighWaterMark:_.writableHighWaterMark||0}),d.call(this,_),this._readableState.sync=!1,this[v]=null,_&&(typeof _.transform=="function"&&(this._transform=_.transform),typeof _.flush=="function"&&(this._flush=_.flush)),this.on("prefinish",y)}function p(_){typeof this._flush=="function"&&!this.destroyed?this._flush((b,A)=>{if(b){_?_(b):this.destroy(b);return}A!=null&&this.push(A),this.push(null),_&&_()}):(this.push(null),_&&_())}function y(){this._final!==p&&p.call(this)}g.prototype._final=p,g.prototype._transform=function(_,b,A){throw new f("_transform()")},g.prototype._write=function(_,b,A){const w=this._readableState,S=this._writableState,T=w.length;this._transform(_,b,(x,O)=>{if(x){A(x);return}O!=null&&this.push(O),S.ended||T===w.length||w.length<w.highWaterMark?A():this[v]=A})},g.prototype._read=function(){if(this[v]){const _=this[v];this[v]=null,_()}}},{"../../ours/errors":126,"../../ours/primordials":127,"./duplex":111,"./state":120}],122:[function(r,o,a){const{Symbol:u,SymbolAsyncIterator:c,SymbolIterator:f,SymbolFor:d}=r("../../ours/primordials"),h=u("kDestroyed"),v=u("kIsErrored"),g=u("kIsReadable"),p=u("kIsDisturbed"),y=d("nodejs.webstream.isClosedPromise"),_=d("nodejs.webstream.controllerErrorFunction");function b(de,qe=!1){var Et;return!!(de&&typeof de.pipe=="function"&&typeof de.on=="function"&&(!qe||typeof de.pause=="function"&&typeof de.resume=="function")&&(!de._writableState||((Et=de._readableState)===null||Et===void 0?void 0:Et.readable)!==!1)&&(!de._writableState||de._readableState))}function A(de){var qe;return!!(de&&typeof de.write=="function"&&typeof de.on=="function"&&(!de._readableState||((qe=de._writableState)===null||qe===void 0?void 0:qe.writable)!==!1))}function w(de){return!!(de&&typeof de.pipe=="function"&&de._readableState&&typeof de.on=="function"&&typeof de.write=="function")}function S(de){return de&&(de._readableState||de._writableState||typeof de.write=="function"&&typeof de.on=="function"||typeof de.pipe=="function"&&typeof de.on=="function")}function T(de){return!!(de&&!S(de)&&typeof de.pipeThrough=="function"&&typeof de.getReader=="function"&&typeof de.cancel=="function")}function x(de){return!!(de&&!S(de)&&typeof de.getWriter=="function"&&typeof de.abort=="function")}function O(de){return!!(de&&!S(de)&&typeof de.readable=="object"&&typeof de.writable=="object")}function L(de){return T(de)||x(de)||O(de)}function M(de,qe){return de==null?!1:qe===!0?typeof de[c]=="function":qe===!1?typeof de[f]=="function":typeof de[c]=="function"||typeof de[f]=="function"}function re(de){if(!S(de))return null;const qe=de._writableState,Et=de._readableState,In=qe||Et;return!!(de.destroyed||de[h]||In!=null&&In.destroyed)}function F(de){if(!A(de))return null;if(de.writableEnded===!0)return!0;const qe=de._writableState;return qe!=null&&qe.errored?!1:typeof(qe==null?void 0:qe.ended)!="boolean"?null:qe.ended}function Y(de,qe){if(!A(de))return null;if(de.writableFinished===!0)return!0;const Et=de._writableState;return Et!=null&&Et.errored?!1:typeof(Et==null?void 0:Et.finished)!="boolean"?null:!!(Et.finished||qe===!1&&Et.ended===!0&&Et.length===0)}function V(de){if(!b(de))return null;if(de.readableEnded===!0)return!0;const qe=de._readableState;return!qe||qe.errored?!1:typeof(qe==null?void 0:qe.ended)!="boolean"?null:qe.ended}function z(de,qe){if(!b(de))return null;const Et=de._readableState;return Et!=null&&Et.errored?!1:typeof(Et==null?void 0:Et.endEmitted)!="boolean"?null:!!(Et.endEmitted||qe===!1&&Et.ended===!0&&Et.length===0)}function $(de){return de&&de[g]!=null?de[g]:typeof(de==null?void 0:de.readable)!="boolean"?null:re(de)?!1:b(de)&&de.readable&&!z(de)}function pe(de){return typeof(de==null?void 0:de.writable)!="boolean"?null:re(de)?!1:A(de)&&de.writable&&!F(de)}function le(de,qe){return S(de)?re(de)?!0:!((qe==null?void 0:qe.readable)!==!1&&$(de)||(qe==null?void 0:qe.writable)!==!1&&pe(de)):null}function Ie(de){var qe,Et;return S(de)?de.writableErrored?de.writableErrored:(qe=(Et=de._writableState)===null||Et===void 0?void 0:Et.errored)!==null&&qe!==void 0?qe:null:null}function he(de){var qe,Et;return S(de)?de.readableErrored?de.readableErrored:(qe=(Et=de._readableState)===null||Et===void 0?void 0:Et.errored)!==null&&qe!==void 0?qe:null:null}function xe(de){if(!S(de))return null;if(typeof de.closed=="boolean")return de.closed;const qe=de._writableState,Et=de._readableState;return typeof(qe==null?void 0:qe.closed)=="boolean"||typeof(Et==null?void 0:Et.closed)=="boolean"?(qe==null?void 0:qe.closed)||(Et==null?void 0:Et.closed):typeof de._closed=="boolean"&&_e(de)?de._closed:null}function _e(de){return typeof de._closed=="boolean"&&typeof de._defaultKeepAlive=="boolean"&&typeof de._removedConnection=="boolean"&&typeof de._removedContLen=="boolean"}function jt(de){return typeof de._sent100=="boolean"&&_e(de)}function Lt(de){var qe;return typeof de._consuming=="boolean"&&typeof de._dumped=="boolean"&&((qe=de.req)===null||qe===void 0?void 0:qe.upgradeOrConnect)===void 0}function Cn(de){if(!S(de))return null;const qe=de._writableState,Et=de._readableState,In=qe||Et;return!In&&jt(de)||!!(In&&In.autoDestroy&&In.emitClose&&In.closed===!1)}function vn(de){var qe;return!!(de&&((qe=de[p])!==null&&qe!==void 0?qe:de.readableDidRead||de.readableAborted))}function kt(de){var qe,Et,In,$e,Ce,ue,At,Oe,Ve,Pt;return!!(de&&((qe=(Et=(In=($e=(Ce=(ue=de[v])!==null&&ue!==void 0?ue:de.readableErrored)!==null&&Ce!==void 0?Ce:de.writableErrored)!==null&&$e!==void 0?$e:(At=de._readableState)===null||At===void 0?void 0:At.errorEmitted)!==null&&In!==void 0?In:(Oe=de._writableState)===null||Oe===void 0?void 0:Oe.errorEmitted)!==null&&Et!==void 0?Et:(Ve=de._readableState)===null||Ve===void 0?void 0:Ve.errored)!==null&&qe!==void 0?qe:!((Pt=de._writableState)===null||Pt===void 0)&&Pt.errored))}o.exports={kDestroyed:h,isDisturbed:vn,kIsDisturbed:p,isErrored:kt,kIsErrored:v,isReadable:$,kIsReadable:g,kIsClosedPromise:y,kControllerErrorFunction:_,isClosed:xe,isDestroyed:re,isDuplexNodeStream:w,isFinished:le,isIterable:M,isReadableNodeStream:b,isReadableStream:T,isReadableEnded:V,isReadableFinished:z,isReadableErrored:he,isNodeStream:S,isWebStream:L,isWritable:pe,isWritableNodeStream:A,isWritableStream:x,isWritableEnded:F,isWritableFinished:Y,isWritableErrored:Ie,isServerRequest:Lt,isServerResponse:jt,willEmitClose:Cn,isTransformStream:O}},{"../../ours/primordials":127}],123:[function(r,o,a){const u=r("process/"),{ArrayPrototypeSlice:c,Error:f,FunctionPrototypeSymbolHasInstance:d,ObjectDefineProperty:h,ObjectDefineProperties:v,ObjectSetPrototypeOf:g,StringPrototypeToLowerCase:p,Symbol:y,SymbolHasInstance:_}=r("../../ours/primordials");o.exports=jt,jt.WritableState=xe;const{EventEmitter:b}=r("events"),A=r("./legacy").Stream,{Buffer:w}=r("buffer"),S=r("./destroy"),{addAbortSignal:T}=r("./add-abort-signal"),{getHighWaterMark:x,getDefaultHighWaterMark:O}=r("./state"),{ERR_INVALID_ARG_TYPE:L,ERR_METHOD_NOT_IMPLEMENTED:M,ERR_MULTIPLE_CALLBACK:re,ERR_STREAM_CANNOT_PIPE:F,ERR_STREAM_DESTROYED:Y,ERR_STREAM_ALREADY_FINISHED:V,ERR_STREAM_NULL_VALUES:z,ERR_STREAM_WRITE_AFTER_END:$,ERR_UNKNOWN_ENCODING:pe}=r("../../ours/errors").codes,{errorOrDestroy:le}=S;g(jt.prototype,A.prototype),g(jt,A);function Ie(){}const he=y("kOnFinished");function xe(ie,oe,j){typeof j!="boolean"&&(j=oe instanceof r("./duplex")),this.objectMode=!!(ie&&ie.objectMode),j&&(this.objectMode=this.objectMode||!!(ie&&ie.writableObjectMode)),this.highWaterMark=ie?x(this,ie,"writableHighWaterMark",j):O(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const k=!!(ie&&ie.decodeStrings===!1);this.decodeStrings=!k,this.defaultEncoding=ie&&ie.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=de.bind(void 0,oe),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,_e(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!ie||ie.emitClose!==!1,this.autoDestroy=!ie||ie.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[he]=[]}function _e(ie){ie.buffered=[],ie.bufferedIndex=0,ie.allBuffers=!0,ie.allNoop=!0}xe.prototype.getBuffer=function(){return c(this.buffered,this.bufferedIndex)},h(xe.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function jt(ie){const oe=this instanceof r("./duplex");if(!oe&&!d(jt,this))return new jt(ie);this._writableState=new xe(ie,this,oe),ie&&(typeof ie.write=="function"&&(this._write=ie.write),typeof ie.writev=="function"&&(this._writev=ie.writev),typeof ie.destroy=="function"&&(this._destroy=ie.destroy),typeof ie.final=="function"&&(this._final=ie.final),typeof ie.construct=="function"&&(this._construct=ie.construct),ie.signal&&T(ie.signal,this)),A.call(this,ie),S.construct(this,()=>{const j=this._writableState;j.writing||$e(this,j),Oe(this,j)})}h(jt,_,{__proto__:null,value:function(ie){return d(this,ie)?!0:this!==jt?!1:ie&&ie._writableState instanceof xe}}),jt.prototype.pipe=function(){le(this,new F)};function Lt(ie,oe,j,k){const D=ie._writableState;if(typeof j=="function")k=j,j=D.defaultEncoding;else{if(!j)j=D.defaultEncoding;else if(j!=="buffer"&&!w.isEncoding(j))throw new pe(j);typeof k!="function"&&(k=Ie)}if(oe===null)throw new z;if(!D.objectMode)if(typeof oe=="string")D.decodeStrings!==!1&&(oe=w.from(oe,j),j="buffer");else if(oe instanceof w)j="buffer";else if(A._isUint8Array(oe))oe=A._uint8ArrayToBuffer(oe),j="buffer";else throw new L("chunk",["string","Buffer","Uint8Array"],oe);let ae;return D.ending?ae=new $:D.destroyed&&(ae=new Y("write")),ae?(u.nextTick(k,ae),le(ie,ae,!0),ae):(D.pendingcb++,Cn(ie,D,oe,j,k))}jt.prototype.write=function(ie,oe,j){return Lt(this,ie,oe,j)===!0},jt.prototype.cork=function(){this._writableState.corked++},jt.prototype.uncork=function(){const ie=this._writableState;ie.corked&&(ie.corked--,ie.writing||$e(this,ie))},jt.prototype.setDefaultEncoding=function(oe){if(typeof oe=="string"&&(oe=p(oe)),!w.isEncoding(oe))throw new pe(oe);return this._writableState.defaultEncoding=oe,this};function Cn(ie,oe,j,k,D){const ae=oe.objectMode?1:j.length;oe.length+=ae;const Ne=oe.length<oe.highWaterMark;return Ne||(oe.needDrain=!0),oe.writing||oe.corked||oe.errored||!oe.constructed?(oe.buffered.push({chunk:j,encoding:k,callback:D}),oe.allBuffers&&k!=="buffer"&&(oe.allBuffers=!1),oe.allNoop&&D!==Ie&&(oe.allNoop=!1)):(oe.writelen=ae,oe.writecb=D,oe.writing=!0,oe.sync=!0,ie._write(j,k,oe.onwrite),oe.sync=!1),Ne&&!oe.errored&&!oe.destroyed}function vn(ie,oe,j,k,D,ae,Ne){oe.writelen=k,oe.writecb=Ne,oe.writing=!0,oe.sync=!0,oe.destroyed?oe.onwrite(new Y("write")):j?ie._writev(D,oe.onwrite):ie._write(D,ae,oe.onwrite),oe.sync=!1}function kt(ie,oe,j,k){--oe.pendingcb,k(j),In(oe),le(ie,j)}function de(ie,oe){const j=ie._writableState,k=j.sync,D=j.writecb;if(typeof D!="function"){le(ie,new re);return}j.writing=!1,j.writecb=null,j.length-=j.writelen,j.writelen=0,oe?(oe.stack,j.errored||(j.errored=oe),ie._readableState&&!ie._readableState.errored&&(ie._readableState.errored=oe),k?u.nextTick(kt,ie,j,oe,D):kt(ie,j,oe,D)):(j.buffered.length>j.bufferedIndex&&$e(ie,j),k?j.afterWriteTickInfo!==null&&j.afterWriteTickInfo.cb===D?j.afterWriteTickInfo.count++:(j.afterWriteTickInfo={count:1,cb:D,stream:ie,state:j},u.nextTick(qe,j.afterWriteTickInfo)):Et(ie,j,1,D))}function qe({stream:ie,state:oe,count:j,cb:k}){return oe.afterWriteTickInfo=null,Et(ie,oe,j,k)}function Et(ie,oe,j,k){for(!oe.ending&&!ie.destroyed&&oe.length===0&&oe.needDrain&&(oe.needDrain=!1,ie.emit("drain"));j-- >0;)oe.pendingcb--,k();oe.destroyed&&In(oe),Oe(ie,oe)}function In(ie){if(ie.writing)return;for(let D=ie.bufferedIndex;D<ie.buffered.length;++D){var oe;const{chunk:ae,callback:Ne}=ie.buffered[D],ze=ie.objectMode?1:ae.length;ie.length-=ze,Ne((oe=ie.errored)!==null&&oe!==void 0?oe:new Y("write"))}const j=ie[he].splice(0);for(let D=0;D<j.length;D++){var k;j[D]((k=ie.errored)!==null&&k!==void 0?k:new Y("end"))}_e(ie)}function $e(ie,oe){if(oe.corked||oe.bufferProcessing||oe.destroyed||!oe.constructed)return;const{buffered:j,bufferedIndex:k,objectMode:D}=oe,ae=j.length-k;if(!ae)return;let Ne=k;if(oe.bufferProcessing=!0,ae>1&&ie._writev){oe.pendingcb-=ae-1;const ze=oe.allNoop?Ie:An=>{for(let Tn=Ne;Tn<j.length;++Tn)j[Tn].callback(An)},hn=oe.allNoop&&Ne===0?j:c(j,Ne);hn.allBuffers=oe.allBuffers,vn(ie,oe,!0,oe.length,hn,"",ze),_e(oe)}else{do{const{chunk:ze,encoding:hn,callback:An}=j[Ne];j[Ne++]=null;const Tn=D?1:ze.length;vn(ie,oe,!1,Tn,ze,hn,An)}while(Ne<j.length&&!oe.writing);Ne===j.length?_e(oe):Ne>256?(j.splice(0,Ne),oe.bufferedIndex=0):oe.bufferedIndex=Ne}oe.bufferProcessing=!1}jt.prototype._write=function(ie,oe,j){if(this._writev)this._writev([{chunk:ie,encoding:oe}],j);else throw new M("_write()")},jt.prototype._writev=null,jt.prototype.end=function(ie,oe,j){const k=this._writableState;typeof ie=="function"?(j=ie,ie=null,oe=null):typeof oe=="function"&&(j=oe,oe=null);let D;if(ie!=null){const ae=Lt(this,ie,oe);ae instanceof f&&(D=ae)}return k.corked&&(k.corked=1,this.uncork()),D||(!k.errored&&!k.ending?(k.ending=!0,Oe(this,k,!0),k.ended=!0):k.finished?D=new V("end"):k.destroyed&&(D=new Y("end"))),typeof j=="function"&&(D||k.finished?u.nextTick(j,D):k[he].push(j)),this};function Ce(ie){return ie.ending&&!ie.destroyed&&ie.constructed&&ie.length===0&&!ie.errored&&ie.buffered.length===0&&!ie.finished&&!ie.writing&&!ie.errorEmitted&&!ie.closeEmitted}function ue(ie,oe){let j=!1;function k(D){if(j){le(ie,D??re());return}if(j=!0,oe.pendingcb--,D){const ae=oe[he].splice(0);for(let Ne=0;Ne<ae.length;Ne++)ae[Ne](D);le(ie,D,oe.sync)}else Ce(oe)&&(oe.prefinished=!0,ie.emit("prefinish"),oe.pendingcb++,u.nextTick(Ve,ie,oe))}oe.sync=!0,oe.pendingcb++;try{ie._final(k)}catch(D){k(D)}oe.sync=!1}function At(ie,oe){!oe.prefinished&&!oe.finalCalled&&(typeof ie._final=="function"&&!oe.destroyed?(oe.finalCalled=!0,ue(ie,oe)):(oe.prefinished=!0,ie.emit("prefinish")))}function Oe(ie,oe,j){Ce(oe)&&(At(ie,oe),oe.pendingcb===0&&(j?(oe.pendingcb++,u.nextTick((k,D)=>{Ce(D)?Ve(k,D):D.pendingcb--},ie,oe)):Ce(oe)&&(oe.pendingcb++,Ve(ie,oe))))}function Ve(ie,oe){oe.pendingcb--,oe.finished=!0;const j=oe[he].splice(0);for(let k=0;k<j.length;k++)j[k]();if(ie.emit("finish"),oe.autoDestroy){const k=ie._readableState;(!k||k.autoDestroy&&(k.endEmitted||k.readable===!1))&&ie.destroy()}}v(jt.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(ie){this._writableState&&(this._writableState.destroyed=ie)}},writable:{__proto__:null,get(){const ie=this._writableState;return!!ie&&ie.writable!==!1&&!ie.destroyed&&!ie.errored&&!ie.ending&&!ie.ended},set(ie){this._writableState&&(this._writableState.writable=!!ie)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const ie=this._writableState;return ie?!ie.destroyed&&!ie.ending&&ie.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});const Pt=S.destroy;jt.prototype.destroy=function(ie,oe){const j=this._writableState;return!j.destroyed&&(j.bufferedIndex<j.buffered.length||j[he].length)&&u.nextTick(In,j),Pt.call(this,ie,oe),this},jt.prototype._undestroy=S.undestroy,jt.prototype._destroy=function(ie,oe){oe(ie)},jt.prototype[b.captureRejectionSymbol]=function(ie){this.destroy(ie)};let Dt;function _n(){return Dt===void 0&&(Dt={}),Dt}jt.fromWeb=function(ie,oe){return _n().newStreamWritableFromWritableStream(ie,oe)},jt.toWeb=function(ie){return _n().newWritableStreamFromStreamWritable(ie)}},{"../../ours/errors":126,"../../ours/primordials":127,"./add-abort-signal":107,"./destroy":110,"./duplex":111,"./legacy":115,"./state":120,buffer:29,events:49,"process/":102}],124:[function(r,o,a){const{ArrayIsArray:u,ArrayPrototypeIncludes:c,ArrayPrototypeJoin:f,ArrayPrototypeMap:d,NumberIsInteger:h,NumberIsNaN:v,NumberMAX_SAFE_INTEGER:g,NumberMIN_SAFE_INTEGER:p,NumberParseInt:y,ObjectPrototypeHasOwnProperty:_,RegExpPrototypeExec:b,String:A,StringPrototypeToUpperCase:w,StringPrototypeTrim:S}=r("../ours/primordials"),{hideStackFrames:T,codes:{ERR_SOCKET_BAD_PORT:x,ERR_INVALID_ARG_TYPE:O,ERR_INVALID_ARG_VALUE:L,ERR_OUT_OF_RANGE:M,ERR_UNKNOWN_SIGNAL:re}}=r("../ours/errors"),{normalizeEncoding:F}=r("../ours/util"),{isAsyncFunction:Y,isArrayBufferView:V}=r("../ours/util").types,z={};function $(ae){return ae===(ae|0)}function pe(ae){return ae===ae>>>0}const le=/^[0-7]+$/,Ie="must be a 32-bit unsigned integer or an octal string";function he(ae,Ne,ze){if(typeof ae>"u"&&(ae=ze),typeof ae=="string"){if(b(le,ae)===null)throw new L(Ne,ae,Ie);ae=y(ae,8)}return jt(ae,Ne),ae}const xe=T((ae,Ne,ze=p,hn=g)=>{if(typeof ae!="number")throw new O(Ne,"number",ae);if(!h(ae))throw new M(Ne,"an integer",ae);if(ae<ze||ae>hn)throw new M(Ne,`>= ${ze} && <= ${hn}`,ae)}),_e=T((ae,Ne,ze=-2147483648,hn=2147483647)=>{if(typeof ae!="number")throw new O(Ne,"number",ae);if(!h(ae))throw new M(Ne,"an integer",ae);if(ae<ze||ae>hn)throw new M(Ne,`>= ${ze} && <= ${hn}`,ae)}),jt=T((ae,Ne,ze=!1)=>{if(typeof ae!="number")throw new O(Ne,"number",ae);if(!h(ae))throw new M(Ne,"an integer",ae);const hn=ze?1:0,An=4294967295;if(ae<hn||ae>An)throw new M(Ne,`>= ${hn} && <= ${An}`,ae)});function Lt(ae,Ne){if(typeof ae!="string")throw new O(Ne,"string",ae)}function Cn(ae,Ne,ze=void 0,hn){if(typeof ae!="number")throw new O(Ne,"number",ae);if(ze!=null&&ae<ze||hn!=null&&ae>hn||(ze!=null||hn!=null)&&v(ae))throw new M(Ne,`${ze!=null?`>= ${ze}`:""}${ze!=null&&hn!=null?" && ":""}${hn!=null?`<= ${hn}`:""}`,ae)}const vn=T((ae,Ne,ze)=>{if(!c(ze,ae)){const An="must be one of: "+f(d(ze,Tn=>typeof Tn=="string"?`'${Tn}'`:A(Tn)),", ");throw new L(Ne,ae,An)}});function kt(ae,Ne){if(typeof ae!="boolean")throw new O(Ne,"boolean",ae)}function de(ae,Ne,ze){return ae==null||!_(ae,Ne)?ze:ae[Ne]}const qe=T((ae,Ne,ze=null)=>{const hn=de(ze,"allowArray",!1),An=de(ze,"allowFunction",!1);if(!de(ze,"nullable",!1)&&ae===null||!hn&&u(ae)||typeof ae!="object"&&(!An||typeof ae!="function"))throw new O(Ne,"Object",ae)}),Et=T((ae,Ne)=>{if(ae!=null&&typeof ae!="object"&&typeof ae!="function")throw new O(Ne,"a dictionary",ae)}),In=T((ae,Ne,ze=0)=>{if(!u(ae))throw new O(Ne,"Array",ae);if(ae.length<ze){const hn=`must be longer than ${ze}`;throw new L(Ne,ae,hn)}});function $e(ae,Ne){In(ae,Ne);for(let ze=0;ze<ae.length;ze++)Lt(ae[ze],`${Ne}[${ze}]`)}function Ce(ae,Ne){In(ae,Ne);for(let ze=0;ze<ae.length;ze++)kt(ae[ze],`${Ne}[${ze}]`)}function ue(ae,Ne="signal"){if(Lt(ae,Ne),z[ae]===void 0)throw z[w(ae)]!==void 0?new re(ae+" (signals must use all capital letters)"):new re(ae)}const At=T((ae,Ne="buffer")=>{if(!V(ae))throw new O(Ne,["Buffer","TypedArray","DataView"],ae)});function Oe(ae,Ne){const ze=F(Ne),hn=ae.length;if(ze==="hex"&&hn%2!==0)throw new L("encoding",Ne,`is invalid for data of length ${hn}`)}function Ve(ae,Ne="Port",ze=!0){if(typeof ae!="number"&&typeof ae!="string"||typeof ae=="string"&&S(ae).length===0||+ae!==+ae>>>0||ae>65535||ae===0&&!ze)throw new x(Ne,ae,ze);return ae|0}const Pt=T((ae,Ne)=>{if(ae!==void 0&&(ae===null||typeof ae!="object"||!("aborted"in ae)))throw new O(Ne,"AbortSignal",ae)}),Dt=T((ae,Ne)=>{if(typeof ae!="function")throw new O(Ne,"Function",ae)}),_n=T((ae,Ne)=>{if(typeof ae!="function"||Y(ae))throw new O(Ne,"Function",ae)}),ie=T((ae,Ne)=>{if(ae!==void 0)throw new O(Ne,"undefined",ae)});function oe(ae,Ne,ze){if(!c(ze,ae))throw new O(Ne,`('${f(ze,"|")}')`,ae)}const j=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function k(ae,Ne){if(typeof ae>"u"||!b(j,ae))throw new L(Ne,ae,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function D(ae){if(typeof ae=="string")return k(ae,"hints"),ae;if(u(ae)){const Ne=ae.length;let ze="";if(Ne===0)return ze;for(let hn=0;hn<Ne;hn++){const An=ae[hn];k(An,"hints"),ze+=An,hn!==Ne-1&&(ze+=", ")}return ze}throw new L("hints",ae,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}o.exports={isInt32:$,isUint32:pe,parseFileMode:he,validateArray:In,validateStringArray:$e,validateBooleanArray:Ce,validateBoolean:kt,validateBuffer:At,validateDictionary:Et,validateEncoding:Oe,validateFunction:Dt,validateInt32:_e,validateInteger:xe,validateNumber:Cn,validateObject:qe,validateOneOf:vn,validatePlainFunction:_n,validatePort:Ve,validateSignalName:ue,validateString:Lt,validateUint32:jt,validateUndefined:ie,validateUnion:oe,validateAbortSignal:Pt,validateLinkHeaderValue:D}},{"../ours/errors":126,"../ours/primordials":127,"../ours/util":128}],125:[function(r,o,a){const u=r("../stream"),c=r("../stream/promises"),f=u.Readable.destroy;o.exports=u.Readable,o.exports._uint8ArrayToBuffer=u._uint8ArrayToBuffer,o.exports._isUint8Array=u._isUint8Array,o.exports.isDisturbed=u.isDisturbed,o.exports.isErrored=u.isErrored,o.exports.isReadable=u.isReadable,o.exports.Readable=u.Readable,o.exports.Writable=u.Writable,o.exports.Duplex=u.Duplex,o.exports.Transform=u.Transform,o.exports.PassThrough=u.PassThrough,o.exports.addAbortSignal=u.addAbortSignal,o.exports.finished=u.finished,o.exports.destroy=u.destroy,o.exports.destroy=f,o.exports.pipeline=u.pipeline,o.exports.compose=u.compose,Object.defineProperty(u,"promises",{configurable:!0,enumerable:!0,get(){return c}}),o.exports.Stream=u.Stream,o.exports.default=o.exports},{"../stream":129,"../stream/promises":130}],126:[function(r,o,a){const{format:u,inspect:c,AggregateError:f}=r("./util"),d=globalThis.AggregateError||f,h=Symbol("kIsNodeError"),v=["string","function","number","object","Function","Object","boolean","bigint","symbol"],g=/^([A-Z][a-z0-9]*)+$/,p="__node_internal_",y={};function _(O,L){if(!O)throw new y.ERR_INTERNAL_ASSERTION(L)}function b(O){let L="",M=O.length;const re=O[0]==="-"?1:0;for(;M>=re+4;M-=3)L=`_${O.slice(M-3,M)}${L}`;return`${O.slice(0,M)}${L}`}function A(O,L,M){if(typeof L=="function")return _(L.length<=M.length,`Code: ${O}; The provided arguments length (${M.length}) does not match the required ones (${L.length}).`),L(...M);const re=(L.match(/%[dfijoOs]/g)||[]).length;return _(re===M.length,`Code: ${O}; The provided arguments length (${M.length}) does not match the required ones (${re}).`),M.length===0?L:u(L,...M)}function w(O,L,M){M||(M=Error);class re extends M{constructor(...Y){super(A(O,L,Y))}toString(){return`${this.name} [${O}]: ${this.message}`}}Object.defineProperties(re.prototype,{name:{value:M.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${O}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),re.prototype.code=O,re.prototype[h]=!0,y[O]=re}function S(O){const L=p+O.name;return Object.defineProperty(O,"name",{value:L}),O}function T(O,L){if(O&&L&&O!==L){if(Array.isArray(L.errors))return L.errors.push(O),L;const M=new d([L,O],L.message);return M.code=L.code,M}return O||L}class x extends Error{constructor(L="The operation was aborted",M=void 0){if(M!==void 0&&typeof M!="object")throw new y.ERR_INVALID_ARG_TYPE("options","Object",M);super(L,M),this.code="ABORT_ERR",this.name="AbortError"}}w("ERR_ASSERTION","%s",Error),w("ERR_INVALID_ARG_TYPE",(O,L,M)=>{_(typeof O=="string","'name' must be a string"),Array.isArray(L)||(L=[L]);let re="The ";O.endsWith(" argument")?re+=`${O} `:re+=`"${O}" ${O.includes(".")?"property":"argument"} `,re+="must be ";const F=[],Y=[],V=[];for(const $ of L)_(typeof $=="string","All expected entries have to be of type string"),v.includes($)?F.push($.toLowerCase()):g.test($)?Y.push($):(_($!=="object",'The value "object" should be written as "Object"'),V.push($));if(Y.length>0){const $=F.indexOf("object");$!==-1&&(F.splice(F,$,1),Y.push("Object"))}if(F.length>0){switch(F.length){case 1:re+=`of type ${F[0]}`;break;case 2:re+=`one of type ${F[0]} or ${F[1]}`;break;default:{const $=F.pop();re+=`one of type ${F.join(", ")}, or ${$}`}}(Y.length>0||V.length>0)&&(re+=" or ")}if(Y.length>0){switch(Y.length){case 1:re+=`an instance of ${Y[0]}`;break;case 2:re+=`an instance of ${Y[0]} or ${Y[1]}`;break;default:{const $=Y.pop();re+=`an instance of ${Y.join(", ")}, or ${$}`}}V.length>0&&(re+=" or ")}switch(V.length){case 0:break;case 1:V[0].toLowerCase()!==V[0]&&(re+="an "),re+=`${V[0]}`;break;case 2:re+=`one of ${V[0]} or ${V[1]}`;break;default:{const $=V.pop();re+=`one of ${V.join(", ")}, or ${$}`}}if(M==null)re+=`. Received ${M}`;else if(typeof M=="function"&&M.name)re+=`. Received function ${M.name}`;else if(typeof M=="object"){var z;if((z=M.constructor)!==null&&z!==void 0&&z.name)re+=`. Received an instance of ${M.constructor.name}`;else{const $=c(M,{depth:-1});re+=`. Received ${$}`}}else{let $=c(M,{colors:!1});$.length>25&&($=`${$.slice(0,25)}...`),re+=`. Received type ${typeof M} (${$})`}return re},TypeError),w("ERR_INVALID_ARG_VALUE",(O,L,M="is invalid")=>{let re=c(L);return re.length>128&&(re=re.slice(0,128)+"..."),`The ${O.includes(".")?"property":"argument"} '${O}' ${M}. Received ${re}`},TypeError),w("ERR_INVALID_RETURN_VALUE",(O,L,M)=>{var re;const F=M!=null&&(re=M.constructor)!==null&&re!==void 0&&re.name?`instance of ${M.constructor.name}`:`type ${typeof M}`;return`Expected ${O} to be returned from the "${L}" function but got ${F}.`},TypeError),w("ERR_MISSING_ARGS",(...O)=>{_(O.length>0,"At least one arg needs to be specified");let L;const M=O.length;switch(O=(Array.isArray(O)?O:[O]).map(re=>`"${re}"`).join(" or "),M){case 1:L+=`The ${O[0]} argument`;break;case 2:L+=`The ${O[0]} and ${O[1]} arguments`;break;default:{const re=O.pop();L+=`The ${O.join(", ")}, and ${re} arguments`}break}return`${L} must be specified`},TypeError),w("ERR_OUT_OF_RANGE",(O,L,M)=>{_(L,'Missing "range" argument');let re;return Number.isInteger(M)&&Math.abs(M)>2**32?re=b(String(M)):typeof M=="bigint"?(re=String(M),(M>2n**32n||M<-(2n**32n))&&(re=b(re)),re+="n"):re=c(M),`The value of "${O}" is out of range. It must be ${L}. Received ${re}`},RangeError),w("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),w("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),w("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),w("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),w("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),w("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),w("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),w("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),w("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),w("ERR_STREAM_WRITE_AFTER_END","write after end",Error),w("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),o.exports={AbortError:x,aggregateTwoErrors:S(T),hideStackFrames:S,codes:y}},{"./util":128}],127:[function(r,o,a){o.exports={ArrayIsArray(u){return Array.isArray(u)},ArrayPrototypeIncludes(u,c){return u.includes(c)},ArrayPrototypeIndexOf(u,c){return u.indexOf(c)},ArrayPrototypeJoin(u,c){return u.join(c)},ArrayPrototypeMap(u,c){return u.map(c)},ArrayPrototypePop(u,c){return u.pop(c)},ArrayPrototypePush(u,c){return u.push(c)},ArrayPrototypeSlice(u,c,f){return u.slice(c,f)},Error,FunctionPrototypeCall(u,c,...f){return u.call(c,...f)},FunctionPrototypeSymbolHasInstance(u,c){return Function.prototype[Symbol.hasInstance].call(u,c)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(u,c){return Object.defineProperties(u,c)},ObjectDefineProperty(u,c,f){return Object.defineProperty(u,c,f)},ObjectGetOwnPropertyDescriptor(u,c){return Object.getOwnPropertyDescriptor(u,c)},ObjectKeys(u){return Object.keys(u)},ObjectSetPrototypeOf(u,c){return Object.setPrototypeOf(u,c)},Promise,PromisePrototypeCatch(u,c){return u.catch(c)},PromisePrototypeThen(u,c,f){return u.then(c,f)},PromiseReject(u){return Promise.reject(u)},ReflectApply:Reflect.apply,RegExpPrototypeTest(u,c){return u.test(c)},SafeSet:Set,String,StringPrototypeSlice(u,c,f){return u.slice(c,f)},StringPrototypeToLowerCase(u){return u.toLowerCase()},StringPrototypeToUpperCase(u){return u.toUpperCase()},StringPrototypeTrim(u){return u.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet(u,c,f){return u.set(c,f)},Uint8Array}},{}],128:[function(r,o,a){const u=r("buffer"),c=Object.getPrototypeOf(async function(){}).constructor,f=globalThis.Blob||u.Blob,d=typeof f<"u"?function(g){return g instanceof f}:function(g){return!1};class h extends Error{constructor(g){if(!Array.isArray(g))throw new TypeError(`Expected input to be an Array, got ${typeof g}`);let p="";for(let y=0;y<g.length;y++)p+=`    ${g[y].stack}
`;super(p),this.name="AggregateError",this.errors=g}}o.exports={AggregateError:h,kEmptyObject:Object.freeze({}),once(v){let g=!1;return function(...p){g||(g=!0,v.apply(this,p))}},createDeferredPromise:function(){let v,g;return{promise:new Promise((y,_)=>{v=y,g=_}),resolve:v,reject:g}},promisify(v){return new Promise((g,p)=>{v((y,..._)=>y?p(y):g(..._))})},debuglog(){return function(){}},format(v,...g){return v.replace(/%([sdifj])/g,function(...[p,y]){const _=g.shift();return y==="f"?_.toFixed(6):y==="j"?JSON.stringify(_):y==="s"&&typeof _=="object"?`${_.constructor!==Object?_.constructor.name:""} {}`.trim():_.toString()})},inspect(v){switch(typeof v){case"string":if(v.includes("'"))if(v.includes('"')){if(!v.includes("`")&&!v.includes("${"))return`\`${v}\``}else return`"${v}"`;return`'${v}'`;case"number":return isNaN(v)?"NaN":Object.is(v,-0)?String(v):v;case"bigint":return`${String(v)}n`;case"boolean":case"undefined":return String(v);case"object":return"{}"}},types:{isAsyncFunction(v){return v instanceof c},isArrayBufferView(v){return ArrayBuffer.isView(v)}},isBlob:d},o.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},{buffer:29}],129:[function(r,o,a){const{Buffer:u}=r("buffer"),{ObjectDefineProperty:c,ObjectKeys:f,ReflectApply:d}=r("./ours/primordials"),{promisify:{custom:h}}=r("./ours/util"),{streamReturningOperators:v,promiseReturningOperators:g}=r("./internal/streams/operators"),{codes:{ERR_ILLEGAL_CONSTRUCTOR:p}}=r("./ours/errors"),y=r("./internal/streams/compose"),{pipeline:_}=r("./internal/streams/pipeline"),{destroyer:b}=r("./internal/streams/destroy"),A=r("./internal/streams/end-of-stream"),w=r("./stream/promises"),S=r("./internal/streams/utils"),T=o.exports=r("./internal/streams/legacy").Stream;T.isDisturbed=S.isDisturbed,T.isErrored=S.isErrored,T.isReadable=S.isReadable,T.Readable=r("./internal/streams/readable");for(const O of f(v)){let M=function(...re){if(new.target)throw p();return T.Readable.from(d(L,this,re))};const L=v[O];c(M,"name",{__proto__:null,value:L.name}),c(M,"length",{__proto__:null,value:L.length}),c(T.Readable.prototype,O,{__proto__:null,value:M,enumerable:!1,configurable:!0,writable:!0})}for(const O of f(g)){let M=function(...re){if(new.target)throw p();return d(L,this,re)};const L=g[O];c(M,"name",{__proto__:null,value:L.name}),c(M,"length",{__proto__:null,value:L.length}),c(T.Readable.prototype,O,{__proto__:null,value:M,enumerable:!1,configurable:!0,writable:!0})}T.Writable=r("./internal/streams/writable"),T.Duplex=r("./internal/streams/duplex"),T.Transform=r("./internal/streams/transform"),T.PassThrough=r("./internal/streams/passthrough"),T.pipeline=_;const{addAbortSignal:x}=r("./internal/streams/add-abort-signal");T.addAbortSignal=x,T.finished=A,T.destroy=b,T.compose=y,c(T,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return w}}),c(_,h,{__proto__:null,enumerable:!0,get(){return w.pipeline}}),c(A,h,{__proto__:null,enumerable:!0,get(){return w.finished}}),T.Stream=T,T._isUint8Array=function(L){return L instanceof Uint8Array},T._uint8ArrayToBuffer=function(L){return u.from(L.buffer,L.byteOffset,L.byteLength)}},{"./internal/streams/add-abort-signal":107,"./internal/streams/compose":109,"./internal/streams/destroy":110,"./internal/streams/duplex":111,"./internal/streams/end-of-stream":113,"./internal/streams/legacy":115,"./internal/streams/operators":116,"./internal/streams/passthrough":117,"./internal/streams/pipeline":118,"./internal/streams/readable":119,"./internal/streams/transform":121,"./internal/streams/utils":122,"./internal/streams/writable":123,"./ours/errors":126,"./ours/primordials":127,"./ours/util":128,"./stream/promises":130,buffer:29}],130:[function(r,o,a){const{ArrayPrototypePop:u,Promise:c}=r("../ours/primordials"),{isIterable:f,isNodeStream:d,isWebStream:h}=r("../internal/streams/utils"),{pipelineImpl:v}=r("../internal/streams/pipeline"),{finished:g}=r("../internal/streams/end-of-stream");r("../../lib/stream.js");function p(...y){return new c((_,b)=>{let A,w;const S=y[y.length-1];if(S&&typeof S=="object"&&!d(S)&&!f(S)&&!h(S)){const T=u(y);A=T.signal,w=T.end}v(y,(T,x)=>{T?b(T):_(x)},{signal:A,end:w})})}o.exports={finished:g,pipeline:p}},{"../../lib/stream.js":129,"../internal/streams/end-of-stream":113,"../internal/streams/pipeline":118,"../internal/streams/utils":122,"../ours/primordials":127}],131:[function(r,o,a){function u(f,d,h){var v=this;this._callback=f,this._args=h,this._interval=setInterval(f,d,this._args),this.reschedule=function(g){g||(g=v._interval),v._interval&&clearInterval(v._interval),v._interval=setInterval(v._callback,g,v._args)},this.clear=function(){v._interval&&(clearInterval(v._interval),v._interval=void 0)},this.destroy=function(){v._interval&&clearInterval(v._interval),v._callback=void 0,v._interval=void 0,v._args=void 0}}function c(){if(typeof arguments[0]!="function")throw new Error("callback needed");if(typeof arguments[1]!="number")throw new Error("interval needed");var f;if(arguments.length>0){f=new Array(arguments.length-2);for(var d=0;d<f.length;d++)f[d]=arguments[d+2]}return new u(arguments[0],arguments[1],f)}o.exports=c},{}],132:[function(r,o,a){o.exports=r("./index.js")()},{"./index.js":133}],133:[function(r,o,a){(function(u){(function(){o.exports=f;function c(h){return h instanceof u?u.from(h):new h.constructor(h.buffer.slice(),h.byteOffset,h.length)}function f(h){if(h=h||{},h.circles)return d(h);return h.proto?p:g;function v(y,_){for(var b=Object.keys(y),A=new Array(b.length),w=0;w<b.length;w++){var S=b[w],T=y[S];typeof T!="object"||T===null?A[S]=T:T instanceof Date?A[S]=new Date(T):ArrayBuffer.isView(T)?A[S]=c(T):A[S]=_(T)}return A}function g(y){if(typeof y!="object"||y===null)return y;if(y instanceof Date)return new Date(y);if(Array.isArray(y))return v(y,g);if(y instanceof Map)return new Map(v(Array.from(y),g));if(y instanceof Set)return new Set(v(Array.from(y),g));var _={};for(var b in y)if(Object.hasOwnProperty.call(y,b)!==!1){var A=y[b];typeof A!="object"||A===null?_[b]=A:A instanceof Date?_[b]=new Date(A):A instanceof Map?_[b]=new Map(v(Array.from(A),g)):A instanceof Set?_[b]=new Set(v(Array.from(A),g)):ArrayBuffer.isView(A)?_[b]=c(A):_[b]=g(A)}return _}function p(y){if(typeof y!="object"||y===null)return y;if(y instanceof Date)return new Date(y);if(Array.isArray(y))return v(y,p);if(y instanceof Map)return new Map(v(Array.from(y),p));if(y instanceof Set)return new Set(v(Array.from(y),p));var _={};for(var b in y){var A=y[b];typeof A!="object"||A===null?_[b]=A:A instanceof Date?_[b]=new Date(A):A instanceof Map?_[b]=new Map(v(Array.from(A),p)):A instanceof Set?_[b]=new Set(v(Array.from(A),p)):ArrayBuffer.isView(A)?_[b]=c(A):_[b]=p(A)}return _}}function d(h){var v=[],g=[];return h.proto?_:y;function p(b,A){for(var w=Object.keys(b),S=new Array(w.length),T=0;T<w.length;T++){var x=w[T],O=b[x];if(typeof O!="object"||O===null)S[x]=O;else if(O instanceof Date)S[x]=new Date(O);else if(ArrayBuffer.isView(O))S[x]=c(O);else{var L=v.indexOf(O);L!==-1?S[x]=g[L]:S[x]=A(O)}}return S}function y(b){if(typeof b!="object"||b===null)return b;if(b instanceof Date)return new Date(b);if(Array.isArray(b))return p(b,y);if(b instanceof Map)return new Map(p(Array.from(b),y));if(b instanceof Set)return new Set(p(Array.from(b),y));var A={};v.push(b),g.push(A);for(var w in b)if(Object.hasOwnProperty.call(b,w)!==!1){var S=b[w];if(typeof S!="object"||S===null)A[w]=S;else if(S instanceof Date)A[w]=new Date(S);else if(S instanceof Map)A[w]=new Map(p(Array.from(S),y));else if(S instanceof Set)A[w]=new Set(p(Array.from(S),y));else if(ArrayBuffer.isView(S))A[w]=c(S);else{var T=v.indexOf(S);T!==-1?A[w]=g[T]:A[w]=y(S)}}return v.pop(),g.pop(),A}function _(b){if(typeof b!="object"||b===null)return b;if(b instanceof Date)return new Date(b);if(Array.isArray(b))return p(b,_);if(b instanceof Map)return new Map(p(Array.from(b),_));if(b instanceof Set)return new Set(p(Array.from(b),_));var A={};v.push(b),g.push(A);for(var w in b){var S=b[w];if(typeof S!="object"||S===null)A[w]=S;else if(S instanceof Date)A[w]=new Date(S);else if(S instanceof Map)A[w]=new Map(p(Array.from(S),_));else if(S instanceof Set)A[w]=new Set(p(Array.from(S),_));else if(ArrayBuffer.isView(S))A[w]=c(S);else{var T=v.indexOf(S);T!==-1?A[w]=g[T]:A[w]=_(S)}}return v.pop(),g.pop(),A}}}).call(this)}).call(this,r("buffer").Buffer)},{buffer:29}],134:[function(r,o,a){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var u=r("buffer"),c=u.Buffer;function f(h,v){for(var g in h)v[g]=h[g]}c.from&&c.alloc&&c.allocUnsafe&&c.allocUnsafeSlow?o.exports=u:(f(u,a),a.Buffer=d);function d(h,v,g){return c(h,v,g)}d.prototype=Object.create(c.prototype),f(c,d),d.from=function(h,v,g){if(typeof h=="number")throw new TypeError("Argument must not be a number");return c(h,v,g)},d.alloc=function(h,v,g){if(typeof h!="number")throw new TypeError("Argument must be a number");var p=c(h);return v!==void 0?typeof g=="string"?p.fill(v,g):p.fill(v):p.fill(0),p},d.allocUnsafe=function(h){if(typeof h!="number")throw new TypeError("Argument must be a number");return c(h)},d.allocUnsafeSlow=function(h){if(typeof h!="number")throw new TypeError("Argument must be a number");return u.SlowBuffer(h)}},{buffer:29}],135:[function(r,o,a){o.exports=u;function u(f){var d=f._readableState;return d?d.objectMode||typeof f._duplexState=="number"?f.read():f.read(c(d)):null}function c(f){return f.buffer.length?f.buffer.head?f.buffer.head.data.length:f.buffer[0].length:f.length}},{}],136:[function(r,o,a){arguments[4][28][0].apply(a,arguments)},{dup:28,"safe-buffer":134}],137:[function(r,o,a){var u=r("punycode"),c=r("./util");a.parse=M,a.resolve=F,a.resolveObject=Y,a.format=re,a.Url=f;function f(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var d=/^([a-z0-9.+-]+:)/i,h=/:[0-9]*$/,v=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,g=["<",">",'"',"`"," ","\r",`
`,"	"],p=["{","}","|","\\","^","`"].concat(g),y=["'"].concat(p),_=["%","/","?",";","#"].concat(y),b=["/","?","#"],A=255,w=/^[+a-z0-9A-Z_-]{0,63}$/,S=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,T={javascript:!0,"javascript:":!0},x={javascript:!0,"javascript:":!0},O={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},L=r("querystring");function M(V,z,$){if(V&&c.isObject(V)&&V instanceof f)return V;var pe=new f;return pe.parse(V,z,$),pe}f.prototype.parse=function(V,z,$){if(!c.isString(V))throw new TypeError("Parameter 'url' must be a string, not "+typeof V);var pe=V.indexOf("?"),le=pe!==-1&&pe<V.indexOf("#")?"?":"#",Ie=V.split(le),he=/\\/g;Ie[0]=Ie[0].replace(he,"/"),V=Ie.join(le);var xe=V;if(xe=xe.trim(),!$&&V.split("#").length===1){var _e=v.exec(xe);if(_e)return this.path=xe,this.href=xe,this.pathname=_e[1],_e[2]?(this.search=_e[2],z?this.query=L.parse(this.search.substr(1)):this.query=this.search.substr(1)):z&&(this.search="",this.query={}),this}var jt=d.exec(xe);if(jt){jt=jt[0];var Lt=jt.toLowerCase();this.protocol=Lt,xe=xe.substr(jt.length)}if($||jt||xe.match(/^\/\/[^@\/]+@[^@\/]+/)){var Cn=xe.substr(0,2)==="//";Cn&&!(jt&&x[jt])&&(xe=xe.substr(2),this.slashes=!0)}if(!x[jt]&&(Cn||jt&&!O[jt])){for(var vn=-1,kt=0;kt<b.length;kt++){var de=xe.indexOf(b[kt]);de!==-1&&(vn===-1||de<vn)&&(vn=de)}var qe,Et;vn===-1?Et=xe.lastIndexOf("@"):Et=xe.lastIndexOf("@",vn),Et!==-1&&(qe=xe.slice(0,Et),xe=xe.slice(Et+1),this.auth=decodeURIComponent(qe)),vn=-1;for(var kt=0;kt<_.length;kt++){var de=xe.indexOf(_[kt]);de!==-1&&(vn===-1||de<vn)&&(vn=de)}vn===-1&&(vn=xe.length),this.host=xe.slice(0,vn),xe=xe.slice(vn),this.parseHost(),this.hostname=this.hostname||"";var In=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!In)for(var $e=this.hostname.split(/\./),kt=0,Ce=$e.length;kt<Ce;kt++){var ue=$e[kt];if(ue&&!ue.match(w)){for(var At="",Oe=0,Ve=ue.length;Oe<Ve;Oe++)ue.charCodeAt(Oe)>127?At+="x":At+=ue[Oe];if(!At.match(w)){var Pt=$e.slice(0,kt),Dt=$e.slice(kt+1),_n=ue.match(S);_n&&(Pt.push(_n[1]),Dt.unshift(_n[2])),Dt.length&&(xe="/"+Dt.join(".")+xe),this.hostname=Pt.join(".");break}}}this.hostname.length>A?this.hostname="":this.hostname=this.hostname.toLowerCase(),In||(this.hostname=u.toASCII(this.hostname));var ie=this.port?":"+this.port:"",oe=this.hostname||"";this.host=oe+ie,this.href+=this.host,In&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),xe[0]!=="/"&&(xe="/"+xe))}if(!T[Lt])for(var kt=0,Ce=y.length;kt<Ce;kt++){var j=y[kt];if(xe.indexOf(j)!==-1){var k=encodeURIComponent(j);k===j&&(k=escape(j)),xe=xe.split(j).join(k)}}var D=xe.indexOf("#");D!==-1&&(this.hash=xe.substr(D),xe=xe.slice(0,D));var ae=xe.indexOf("?");if(ae!==-1?(this.search=xe.substr(ae),this.query=xe.substr(ae+1),z&&(this.query=L.parse(this.query)),xe=xe.slice(0,ae)):z&&(this.search="",this.query={}),xe&&(this.pathname=xe),O[Lt]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var ie=this.pathname||"",Ne=this.search||"";this.path=ie+Ne}return this.href=this.format(),this};function re(V){return c.isString(V)&&(V=M(V)),V instanceof f?V.format():f.prototype.format.call(V)}f.prototype.format=function(){var V=this.auth||"";V&&(V=encodeURIComponent(V),V=V.replace(/%3A/i,":"),V+="@");var z=this.protocol||"",$=this.pathname||"",pe=this.hash||"",le=!1,Ie="";this.host?le=V+this.host:this.hostname&&(le=V+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(le+=":"+this.port)),this.query&&c.isObject(this.query)&&Object.keys(this.query).length&&(Ie=L.stringify(this.query));var he=this.search||Ie&&"?"+Ie||"";return z&&z.substr(-1)!==":"&&(z+=":"),this.slashes||(!z||O[z])&&le!==!1?(le="//"+(le||""),$&&$.charAt(0)!=="/"&&($="/"+$)):le||(le=""),pe&&pe.charAt(0)!=="#"&&(pe="#"+pe),he&&he.charAt(0)!=="?"&&(he="?"+he),$=$.replace(/[?#]/g,function(xe){return encodeURIComponent(xe)}),he=he.replace("#","%23"),z+le+$+he+pe};function F(V,z){return M(V,!1,!0).resolve(z)}f.prototype.resolve=function(V){return this.resolveObject(M(V,!1,!0)).format()};function Y(V,z){return V?M(V,!1,!0).resolveObject(z):z}f.prototype.resolveObject=function(V){if(c.isString(V)){var z=new f;z.parse(V,!1,!0),V=z}for(var $=new f,pe=Object.keys(this),le=0;le<pe.length;le++){var Ie=pe[le];$[Ie]=this[Ie]}if($.hash=V.hash,V.href==="")return $.href=$.format(),$;if(V.slashes&&!V.protocol){for(var he=Object.keys(V),xe=0;xe<he.length;xe++){var _e=he[xe];_e!=="protocol"&&($[_e]=V[_e])}return O[$.protocol]&&$.hostname&&!$.pathname&&($.path=$.pathname="/"),$.href=$.format(),$}if(V.protocol&&V.protocol!==$.protocol){if(!O[V.protocol]){for(var jt=Object.keys(V),Lt=0;Lt<jt.length;Lt++){var Cn=jt[Lt];$[Cn]=V[Cn]}return $.href=$.format(),$}if($.protocol=V.protocol,!V.host&&!x[V.protocol]){for(var Ce=(V.pathname||"").split("/");Ce.length&&!(V.host=Ce.shift()););V.host||(V.host=""),V.hostname||(V.hostname=""),Ce[0]!==""&&Ce.unshift(""),Ce.length<2&&Ce.unshift(""),$.pathname=Ce.join("/")}else $.pathname=V.pathname;if($.search=V.search,$.query=V.query,$.host=V.host||"",$.auth=V.auth,$.hostname=V.hostname||V.host,$.port=V.port,$.pathname||$.search){var vn=$.pathname||"",kt=$.search||"";$.path=vn+kt}return $.slashes=$.slashes||V.slashes,$.href=$.format(),$}var de=$.pathname&&$.pathname.charAt(0)==="/",qe=V.host||V.pathname&&V.pathname.charAt(0)==="/",Et=qe||de||$.host&&V.pathname,In=Et,$e=$.pathname&&$.pathname.split("/")||[],Ce=V.pathname&&V.pathname.split("/")||[],ue=$.protocol&&!O[$.protocol];if(ue&&($.hostname="",$.port=null,$.host&&($e[0]===""?$e[0]=$.host:$e.unshift($.host)),$.host="",V.protocol&&(V.hostname=null,V.port=null,V.host&&(Ce[0]===""?Ce[0]=V.host:Ce.unshift(V.host)),V.host=null),Et=Et&&(Ce[0]===""||$e[0]==="")),qe)$.host=V.host||V.host===""?V.host:$.host,$.hostname=V.hostname||V.hostname===""?V.hostname:$.hostname,$.search=V.search,$.query=V.query,$e=Ce;else if(Ce.length)$e||($e=[]),$e.pop(),$e=$e.concat(Ce),$.search=V.search,$.query=V.query;else if(!c.isNullOrUndefined(V.search)){if(ue){$.hostname=$.host=$e.shift();var At=$.host&&$.host.indexOf("@")>0?$.host.split("@"):!1;At&&($.auth=At.shift(),$.host=$.hostname=At.shift())}return $.search=V.search,$.query=V.query,(!c.isNull($.pathname)||!c.isNull($.search))&&($.path=($.pathname?$.pathname:"")+($.search?$.search:"")),$.href=$.format(),$}if(!$e.length)return $.pathname=null,$.search?$.path="/"+$.search:$.path=null,$.href=$.format(),$;for(var Oe=$e.slice(-1)[0],Ve=($.host||V.host||$e.length>1)&&(Oe==="."||Oe==="..")||Oe==="",Pt=0,Dt=$e.length;Dt>=0;Dt--)Oe=$e[Dt],Oe==="."?$e.splice(Dt,1):Oe===".."?($e.splice(Dt,1),Pt++):Pt&&($e.splice(Dt,1),Pt--);if(!Et&&!In)for(;Pt--;Pt)$e.unshift("..");Et&&$e[0]!==""&&(!$e[0]||$e[0].charAt(0)!=="/")&&$e.unshift(""),Ve&&$e.join("/").substr(-1)!=="/"&&$e.push("");var _n=$e[0]===""||$e[0]&&$e[0].charAt(0)==="/";if(ue){$.hostname=$.host=_n?"":$e.length?$e.shift():"";var At=$.host&&$.host.indexOf("@")>0?$.host.split("@"):!1;At&&($.auth=At.shift(),$.host=$.hostname=At.shift())}return Et=Et||$.host&&$e.length,Et&&!_n&&$e.unshift(""),$e.length?$.pathname=$e.join("/"):($.pathname=null,$.path=null),(!c.isNull($.pathname)||!c.isNull($.search))&&($.path=($.pathname?$.pathname:"")+($.search?$.search:"")),$.auth=V.auth||$.auth,$.slashes=$.slashes||V.slashes,$.href=$.format(),$},f.prototype.parseHost=function(){var V=this.host,z=h.exec(V);z&&(z=z[0],z!==":"&&(this.port=z.substr(1)),V=V.substr(0,V.length-z.length)),V&&(this.hostname=V)}},{"./util":138,punycode:103,querystring:106}],138:[function(r,o,a){o.exports={isString:function(u){return typeof u=="string"},isObject:function(u){return typeof u=="object"&&u!==null},isNull:function(u){return u===null},isNullOrUndefined:function(u){return u==null}}},{}],139:[function(r,o,a){(function(u){(function(){o.exports=c;function c(d,h){if(f("noDeprecation"))return d;var v=!1;function g(){if(!v){if(f("throwDeprecation"))throw new Error(h);f("traceDeprecation")?console.trace(h):console.warn(h),v=!0}return d.apply(this,arguments)}return g}function f(d){try{if(!u.localStorage)return!1}catch{return!1}var h=u.localStorage[d];return h==null?!1:String(h).toLowerCase()==="true"}}).call(this)}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}],140:[function(r,o,a){o.exports=u;function u(c,f){if(c&&f)return u(c)(f);if(typeof c!="function")throw new TypeError("need wrapper function");return Object.keys(c).forEach(function(h){d[h]=c[h]}),d;function d(){for(var h=new Array(arguments.length),v=0;v<h.length;v++)h[v]=arguments[v];var g=c.apply(this,h),p=h[h.length-1];return typeof g=="function"&&g!==p&&Object.keys(p).forEach(function(y){g[y]=p[y]}),g}}},{}],141:[function(r,o,a){o.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},{}]},{},[23])(23)})})(mqtt);var mqttExports=mqtt.exports;let client;const sub=(i,n,r,o,a)=>{const u=i.trim();if(!/^wss?:\/\/.*$/.test(u)){console.error('编辑器MQTT通信只支持ws协议 (url必须以"ws://"开头)');return}client=mqttExports.connect(u,{username:n.trim(),password:r.trim(),reconnectPeriod:6e5}),client.on("connect",()=>{console.log("MQTT服务器连接成功"),console.log(client.options.clientId),client.subscribe(o,{qos:1})}),client.on("message",a)},close=()=>{client&&client.end&&client.end(!0,{},()=>{console.log("MQTT服务连接关闭")})},_hoisted_1=["transform"],_hoisted_2=["transform","onClick"],_hoisted_3=["transform"],_hoisted_4=["xlink:href","id","transform"],_hoisted_5=["id"],_sfc_main=vue.defineComponent({__name:"svg-viewer",props:{data:{},canvasDrag:{type:Boolean,default:!0}},emits:["onMessage"],setup(i,{expose:n,emit:r}){const o=i;vue.useCssVars(w=>({"60347c6c":vue.unref(c)})),setEditorLoadTime();const a=useGlobalStore(pinia);componentsRegister();const u=vue.reactive(o.data??{layout_center:{x:0,y:0},config:{svg:{background_color:"#fff",scale:1,grid_color:"#ebebeb"},net:{mqtt:{url:"",user:"",pwd:"",topics:""}}},done_json:[]}),c=vue.computed(()=>a.intention==EGlobalStoreIntention.MoveCanvas?"grab":"default"),f=w=>{if(a.mouse_info.state!=EMouseInfoState.Down&&a.intention!==EGlobalStoreIntention.Connection||!o.canvasDrag)return;const{clientX:S,clientY:T}=w;a.mouse_info.new_position_x=a.mouse_info.now_position_x+S-a.mouse_info.position_x,a.mouse_info.new_position_y=a.mouse_info.now_position_y+T-a.mouse_info.position_y,a.intention==EGlobalStoreIntention.MoveCanvas&&(u.layout_center.x=a.mouse_info.new_position_x,u.layout_center.y=a.mouse_info.new_position_y)},d=()=>{a.mouse_info.state==EMouseInfoState.Down&&(a.intention!=EGlobalStoreIntention.Select&&(a.intention=EGlobalStoreIntention.None),a.mouse_info={state:EMouseInfoState.Up,position_x:0,position_y:0,now_position_x:0,now_position_y:0,new_position_x:0,new_position_y:0})},h=w=>{const{clientX:S,clientY:T}=w;a.intention=EGlobalStoreIntention.MoveCanvas,a.mouse_info={state:EMouseInfoState.Down,position_x:S,position_y:T,now_position_x:u.layout_center.x,now_position_y:u.layout_center.y,new_position_x:u.layout_center.x,new_position_y:u.layout_center.y}};function v(w){w!=null&&w.wheelDelta&&(w.wheelDelta>0?u.config.svg.scale=parseFloat((u.config.svg.scale+.1).toFixed(1)):u.config.svg.scale=parseFloat((u.config.svg.scale-.1).toFixed(1)))}const g=(w,S,T)=>({x:w.x-w.width/2*S+w.width/2,y:w.y-w.height/2*T+w.height/2,width:w.width*S,height:w.height*T}),p=w=>{var T;let S=!1;if(((T=w.events)==null?void 0:T.length)>0){for(let x of w.events)if(x.type===EEventType.Click){S=!0;break}}return{cursor:S?"pointer":"default"}},y=(w,S)=>{var T;if(console.log(w.events,S),((T=w.events)==null?void 0:T.length)>0){for(let x of w.events)if(x.type===S){if(x.condition&&x.condition.type!=="None"&&x.condition.type==="Relation"&&x.condition.Relation&&x.condition.Relation.relation){const O=x.condition.Relation.key,L=x.condition.Relation.relation,M=valFormat(x.condition.Relation.val),re=valFormat(x.condition.Relation.val2);if(w.props.hasOwnProperty(O)){const F=w.props[O].val;if(!_(F,L,M,re))continue}}if(x.action===EEventAction.ChangeAttr){if(x.attrs&&x.attrs.length>0){let O;if(x.target){for(let L of u.done_json)if(L.id===x.target){O=L;break}}else O=w;if(!O)continue;for(let L of x.attrs)L.key==="state"?O.defaultState=valFormat(L.val):O.props.hasOwnProperty(L.key)&&(O.props[L.key].val=valFormat(L.val))}}else x.action===EEventAction.JavaScript&&new Function(x.scripts)()}}},_=(w,S,T,x)=>{switch(S){case">":return w>T;case">=":return w>=T;case"<":return w<T;case"<=":return w<=T;case"==":return w==T;case"!=":return w!=T;case">=,=<":return w>=T&&w<=x;case"<,>":return w<T||w>x}},b=()=>{const w=u.config.net.mqtt;w&&w.url&&w.user&&w.pwd&&w.topics&&sub(w.url,w.user,w.pwd,w.topics,(S,T)=>{console.log(S),console.log(T.toString()),r("onMessage",{topics:S,message:T})})},A=(w,S,T)=>setArrItemByID(w,S,T,u.done_json);return vue.onMounted(()=>{b()}),vue.onBeforeUnmount(close),n({setNodeAttrByID:A}),(w,S)=>(vue.openBlock(),vue.createElementBlock("div",{class:"canvas",onMousedown:h,onMousemove:f,onMouseup:d,onMousewheel:v,onContextmenu:S[4]||(S[4]=(...T)=>vue.unref(preventDefault)&&vue.unref(preventDefault)(...T))},[(vue.openBlock(),vue.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",style:vue.normalizeStyle({backgroundColor:vue.unref(u).config.svg.background_color}),width:"100%",height:"100%"},[vue.createElementVNode("g",{transform:`translate(${vue.unref(u).layout_center.x},${vue.unref(u).layout_center.y})rotate(0)scale(${vue.unref(u).config.svg.scale})`},[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(vue.unref(u).done_json,T=>vue.withDirectives((vue.openBlock(),vue.createElementBlock("g",{key:T.id,transform:`translate(${T.x},${T.y})rotate(0)scale(1)`,style:vue.normalizeStyle(p(T)),onClick:x=>y(T,vue.unref(EEventType).Click),onMousedown:S[0]||(S[0]=(...x)=>vue.unref(stopEvent)&&vue.unref(stopEvent)(...x)),onMousemove:S[1]||(S[1]=(...x)=>vue.unref(stopEvent)&&vue.unref(stopEvent)(...x)),onMouseup:S[2]||(S[2]=(...x)=>vue.unref(stopEvent)&&vue.unref(stopEvent)(...x)),onMousewheel:S[3]||(S[3]=(...x)=>vue.unref(stopEvent)&&vue.unref(stopEvent)(...x))},[vue.createElementVNode("g",{class:vue.normalizeClass(`${vue.unref(getCommonClass)(T)}`)},[vue.createElementVNode("g",{transform:`translate(${T.actual_bound.x+T.actual_bound.width/2},${T.actual_bound.y+T.actual_bound.height/2})rotate(${T.rotate}) scale(1) translate(${-(T.actual_bound.x+T.actual_bound.width/2)},${-(T.actual_bound.y+T.actual_bound.height/2)})`},[T.type===vue.unref(EDoneJsonType).ConnectionLine?(vue.openBlock(),vue.createBlock(_sfc_main$y,{key:0,"item-info":T},null,8,["item-info"])):T.type===vue.unref(EDoneJsonType).File?(vue.openBlock(),vue.createElementBlock("use",vue.mergeProps({key:1,"xlink:href":`#svg-${T.name}`},vue.unref(prosToVBind)(T),{width:"100",height:"100",id:T.id,transform:`translate(${T.actual_bound.x+T.actual_bound.width/2},${T.actual_bound.y+T.actual_bound.height/2}) scale(${T.scale_x},${T.scale_y}) translate(${-(T.actual_bound.x+T.actual_bound.width/2)},${-(T.actual_bound.y+T.actual_bound.height/2)})`}),null,16,_hoisted_4)):T.type===vue.unref(EDoneJsonType).CustomSvg?(vue.openBlock(),vue.createBlock(vue.resolveDynamicComponent(T.tag),vue.mergeProps({key:2},vue.unref(prosToVBind)(T),{width:"100",height:"100",id:T.id,onOnChange:x=>y(T,vue.unref(EEventType).Change),transform:`translate(${T.actual_bound.x+T.actual_bound.width/2},${T.actual_bound.y+T.actual_bound.height/2}) scale(${T.scale_x},${T.scale_y}) translate(${-(T.actual_bound.x+T.actual_bound.width/2)},${-(T.actual_bound.y+T.actual_bound.height/2)})`}),null,16,["id","onOnChange","transform"])):T.type===vue.unref(EDoneJsonType).Vue?(vue.openBlock(),vue.createElementBlock("foreignObject",vue.mergeProps({key:3},g(T.actual_bound,T.scale_x,T.scale_y),{id:`foreign-object${T.id}`,class:"foreignObject"}),[(vue.openBlock(),vue.createBlock(vue.resolveDynamicComponent(T.tag),vue.mergeProps(vue.unref(prosToVBind)(T),{id:T.id,onOnChange:x=>y(T,vue.unref(EEventType).Change),transform:`translate(${T.actual_bound.x+T.actual_bound.width/2},${T.actual_bound.y+T.actual_bound.height/2}) scale(${T.scale_x},${T.scale_y}) translate(${-(T.actual_bound.x+T.actual_bound.width/2)},${-(T.actual_bound.y+T.actual_bound.height/2)})`}),{default:vue.withCtx(()=>[vue.createTextVNode(vue.toDisplayString(T.tag_slot),1)]),_:2},1040,["id","onOnChange","transform"]))],16,_hoisted_5)):vue.createCommentVNode("",!0)],8,_hoisted_3)],2)],44,_hoisted_2)),[[vue.vShow,T.display]])),128))],8,_hoisted_1)],4))],32))}}),svgViewer_vue_vue_type_style_index_0_scoped_af6b7794_lang="",svgViewer=_export_sfc$1(_sfc_main,[["__scopeId","data-v-af6b7794"]]);exports.SvgEditor=index,exports.SvgViewer=svgViewer,Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"})});
