(function(r,n){typeof exports=="object"&&typeof module<"u"?n(exports,require("vue"),require("element-plus"),require("animate.css"),require("vue-echarts"),require("pinia"),require("lodash-es"),require("ace-builds")):typeof define=="function"&&define.amd?define(["exports","vue","element-plus","animate.css","vue-echarts","pinia","lodash-es","ace-builds"],n):(r=typeof globalThis<"u"?globalThis:r||self,n(r.VGCE={},r.Vue,r.elementPlus,null,r.VChart,r.Pinia,r.lodashEs,r.ace))})(this,function(exports,vue,elementPlus,animate_css,VChart,pinia$1,lodashEs,ace){"use strict";const windi="";if(typeof window<"u"){let r=function(){var n=document.body,i=document.getElementById("__svg__icons__dom__");i||(i=document.createElementNS("http://www.w3.org/2000/svg","svg"),i.style.position="absolute",i.style.width="0",i.style.height="0",i.id="__svg__icons__dom__",i.setAttribute("xmlns","http://www.w3.org/2000/svg"),i.setAttribute("xmlns:link","http://www.w3.org/1999/xlink")),i.innerHTML=`<symbol class="icon" viewBox="0 0 1024 1024"   id="svg-alert-light">\r
    <path d="M779.7248 452.1984c0-123.904-103.8848-224.3584-232.0384-224.3584S315.648 328.2944 315.648 452.1984c0 89.3952 54.1184 166.5536 132.4032 202.6496 0.3072 0.1536 0.6144 0.3072 0.9728 0.4096v63.488h197.376v-63.5392c78.7456-35.7888 133.3248-113.2032 133.3248-203.008z" p-id="1733" />\r
    <path d="M535.5008 234.7008s147.3536 98.7648 144.7424 233.984c0 72.9088-84.2752 145.4592-108.4416 157.184 0 52.9408 0.512 90.2144 0.512 90.2144l27.4432 2.7136 5.6832-63.5392 79.616-55.9616 53.7088-113.5616-11.776-104.1408-36.9152-73.3184-79.7696-56.832-74.8032-16.7424z" fill="#888" fill-opacity=".2" p-id="1734" />\r
    <path d="M605.3888 729.0368H408.0128c-5.632 0-10.24-4.608-10.24-10.24v-57.0368c-76.9024-37.5296-127.6416-111.7696-132.864-195.0208-0.3584-5.632 3.9424-10.496 9.5744-10.8544 5.6832-0.3072 10.496 3.9424 10.8544 9.5744 4.9152 77.5168 53.1968 146.5344 126.0032 180.0704l0.9216 0.4096c3.6352 1.6896 5.9392 5.3248 5.9392 9.3184v53.2992h176.896v-53.2992c0-3.9936 2.3552-7.68 5.9904-9.3184 77.3632-35.2256 127.3344-111.2576 127.3344-193.7408 0-118.0672-99.4816-214.1184-221.7984-214.1184-64.6656 0-125.952 27.1872-168.192 74.5472-3.7888 4.1984-10.24 4.608-14.4384 0.8192-4.1984-3.7888-4.608-10.24-0.8192-14.4384 46.08-51.712 112.9984-81.408 183.5008-81.408 133.5808 0 242.2784 105.216 242.2784 234.5984 0 88.32-52.1216 169.8816-133.3248 209.5616v57.0368c0 5.6832-4.5568 10.24-10.24 10.24z" fill="#010101" fill-opacity="1" p-id="1735" />\r
    <path d="M277.4528 427.8784c-0.5632 0-1.0752-0.0512-1.6384-0.1536a10.25024 10.25024 0 0 1-8.4992-11.7248c3.4816-21.8624 10.1888-43.0592 19.8144-63.0784 2.4576-5.12 8.6016-7.2192 13.6704-4.7616 5.0688 2.4576 7.2192 8.6016 4.7616 13.6704-8.8064 18.176-14.848 37.5296-18.0224 57.3952-0.8192 5.0688-5.1712 8.6528-10.0864 8.6528z" fill="#010101" fill-opacity="1" p-id="1736" />\r
    <path d="M606.4128 954.5728H478.3104c-39.5264 0-71.5776-32.0512-71.5776-71.5776v-164.1984h271.2576v164.1984c0 39.5776-32.0512 71.5776-71.5776 71.5776z" fill="#58DDDA" fill-opacity="1" p-id="1737" />\r
    <path d="M573.7472 724.9408v178.432s3.9424 38.7072-31.3856 51.2512c51.968 0 99.328-3.1744 99.328-86.528v-143.1552h-67.9424z" fill="#3BCCC8" fill-opacity="1" p-id="1738" />\r
    <path d="M570.1632 964.8128H442.0608c-45.1072 0-81.8176-36.7104-81.8176-81.8176v-164.1984c0-5.632 4.608-10.24 10.24-10.24h271.2576c5.632 0 10.24 4.608 10.24 10.24v164.1984c0 45.1584-36.7104 81.8176-81.8176 81.8176z m-189.44-235.776v153.9584c0 33.792 27.4944 61.3376 61.3376 61.3376h128.1024c33.792 0 61.3376-27.4944 61.3376-61.3376v-153.9584H380.7232z" fill="#010101" fill-opacity="1" p-id="1739" />\r
    <path d="M525.2608 175.0528c-16.9472 0-30.72-13.7728-30.72-30.72V92.5696c0-16.9472 13.7728-30.72 30.72-30.72s30.72 13.7728 30.72 30.72v51.7632c0 16.9472-13.7216 30.72-30.72 30.72zM361.4208 215.5008c-10.752 0-21.1968-5.632-26.8288-15.6672l-25.344-45.1072c-8.2944-14.7968-3.072-33.536 11.7248-41.8304s33.4848-3.072 41.8304 11.7248l25.344 45.1072c8.2944 14.7968 3.072 33.536-11.7248 41.8304-4.7104 2.6624-9.8816 3.9424-15.0016 3.9424zM246.3744 337.2032c-5.3248 0-10.7008-1.3824-15.5648-4.2496l-44.544-26.3168c-14.592-8.6016-19.456-27.4432-10.8544-42.0864 8.6016-14.592 27.4944-19.456 42.0864-10.8544l44.544 26.3168c14.592 8.6016 19.456 27.4432 10.8544 42.0864a30.91968 30.91968 0 0 1-26.5216 15.104zM199.2704 499.5584h-0.2048l-51.7632-0.3072a30.71488 30.71488 0 0 1-30.5152-30.9248c0.1024-16.896 13.824-30.5152 30.72-30.5152h0.2048l51.7632 0.3072c16.9472 0.1024 30.6176 13.9264 30.5152 30.9248-0.1024 16.896-13.824 30.5152-30.72 30.5152zM198.3488 687.2064a30.69952 30.69952 0 0 1-15.7184-57.088l44.4928-26.4704c14.592-8.704 33.4336-3.8912 42.0864 10.7008 8.6528 14.592 3.8912 33.4336-10.7008 42.0864l-44.4928 26.4704c-4.9152 2.9184-10.3424 4.3008-15.6672 4.3008zM688.0256 215.5008c-5.12 0-10.24-1.28-15.0016-3.9424a30.67904 30.67904 0 0 1-11.7248-41.8304l25.344-45.1072c8.2944-14.7968 27.0336-20.0192 41.8304-11.7248a30.67904 30.67904 0 0 1 11.7248 41.8304l-25.344 45.1072a30.7712 30.7712 0 0 1-26.8288 15.6672zM803.072 337.2032c-10.496 0-20.736-5.376-26.4704-15.104-8.6528-14.592-3.7888-33.4336 10.8032-42.0864l44.544-26.3168a30.76096 30.76096 0 0 1 42.0864 10.8032c8.6528 14.592 3.7888 33.4336-10.8032 42.0864l-44.544 26.3168c-4.9152 2.9184-10.2912 4.3008-15.616 4.3008zM850.176 499.5584c-16.896 0-30.6176-13.6192-30.72-30.5152-0.1024-16.9472 13.568-30.8224 30.5152-30.9248l51.7632-0.3072h0.2048c16.896 0 30.6176 13.6192 30.72 30.5152 0.1024 16.9472-13.568 30.8224-30.5152 30.9248l-51.7632 0.3072h-0.2048zM851.0976 687.2064c-5.3248 0-10.752-1.3824-15.6672-4.3008l-44.4928-26.4704c-14.592-8.6528-19.3536-27.5456-10.7008-42.0864a30.65344 30.65344 0 0 1 42.0864-10.7008l44.4928 26.4704a30.69952 30.69952 0 1 1-15.7184 57.088z" p-id="1740" />\r
    <path d="M504.7808 185.2928c-22.5792 0-40.96-18.3808-40.96-40.96V92.5696c0-22.5792 18.3808-40.96 40.96-40.96s40.96 18.3808 40.96 40.96v51.7632c0 22.5792-18.3808 40.96-40.96 40.96z m0-113.2032c-11.3152 0-20.48 9.1648-20.48 20.48v51.7632c0 11.3152 9.1648 20.48 20.48 20.48s20.48-9.1648 20.48-20.48V92.5696c0-11.264-9.1648-20.48-20.48-20.48zM340.9408 225.7408c-14.7968 0-28.5184-7.9872-35.7376-20.8896l-25.344-45.1072a40.77568 40.77568 0 0 1-3.7376-31.1296 40.4992 40.4992 0 0 1 19.4048-24.6272c19.712-11.0592 44.6976-4.0448 55.7568 15.6672l25.344 45.1072c5.376 9.5232 6.656 20.5824 3.7376 31.1296a40.4992 40.4992 0 0 1-19.4048 24.6272 41.3952 41.3952 0 0 1-20.0192 5.2224z m-25.3952-106.5472c-3.3792 0-6.8096 0.8192-9.984 2.6112-4.7616 2.6624-8.192 7.0656-9.6768 12.3392a20.3776 20.3776 0 0 0 1.8432 15.5648l25.344 45.1072a20.55168 20.55168 0 0 0 17.8688 10.4448c3.4816 0 6.9632-0.9216 9.984-2.6112 4.7616-2.6624 8.192-7.0656 9.6768-12.3392a20.3776 20.3776 0 0 0-1.8432-15.5648l-25.344-45.1072a20.39296 20.39296 0 0 0-17.8688-10.4448zM225.8944 347.4432a40.8064 40.8064 0 0 1-20.7872-5.6832l-44.544-26.3168a40.64256 40.64256 0 0 1-18.8416-25.0368c-2.7136-10.5984-1.1776-21.6064 4.4032-31.0272a40.64256 40.64256 0 0 1 25.0368-18.8416c10.5984-2.7136 21.6064-1.1776 31.0272 4.4032l44.544 26.3168a40.64256 40.64256 0 0 1 18.8416 25.0368c2.7136 10.5984 1.1776 21.6064-4.4032 31.0272a41.15456 41.15456 0 0 1-35.2768 20.1216z m-44.4928-87.7568c-1.6896 0-3.4304 0.2048-5.12 0.6656-5.3248 1.3824-9.728 4.7104-12.544 9.4208-2.7648 4.7104-3.584 10.24-2.2016 15.5136 1.3824 5.2736 4.7104 9.728 9.4208 12.544l44.544 26.3168c3.1744 1.8432 6.7584 2.8672 10.3936 2.8672 7.2192 0 13.9776-3.84 17.664-10.0864 2.7648-4.7104 3.584-10.24 2.2016-15.5136-1.3824-5.2736-4.7104-9.728-9.4208-12.544l-44.544-26.3168c-3.2256-1.9456-6.7584-2.8672-10.3936-2.8672zM178.7904 509.7984h-0.2048l-51.8144-0.3072c-22.5792-0.1536-40.8576-18.6368-40.704-41.216 0.1536-22.4256 18.5344-40.704 40.96-40.704l52.0192 0.3072c22.5792 0.1536 40.8576 18.6368 40.704 41.216-0.1024 22.4768-18.4832 40.704-40.96 40.704zM127.1808 448.0512a20.47488 20.47488 0 1 0-0.2048 40.96l51.7632 0.3072 0.1536 10.24v-10.24a20.47488 20.47488 0 1 0 0.1024-40.96l-51.8144-0.3072zM177.8688 697.4464c-14.3872 0-27.904-7.68-35.2256-20.0192a41.01632 41.01632 0 0 1 14.2336-56.1664l44.4928-26.4704a40.9088 40.9088 0 0 1 31.0272-4.5056c10.5984 2.7136 19.5072 9.3696 25.088 18.7392a41.01632 41.01632 0 0 1-14.2336 56.1664l-44.4928 26.4704a40.77568 40.77568 0 0 1-20.8896 5.7856z m44.3904-87.9104c-3.6352 0-7.2192 0.9728-10.4448 2.8672l-44.4928 26.4704c-4.7104 2.816-8.0384 7.2704-9.3696 12.544a20.3264 20.3264 0 0 0 2.2528 15.5136 20.4288 20.4288 0 0 0 17.6128 10.0352c3.6352 0 7.2704-0.9728 10.4448-2.8672l44.4928-26.4704c4.7104-2.816 8.0384-7.2704 9.3696-12.544 1.3312-5.3248 0.5632-10.8032-2.2528-15.5136s-7.2704-8.0384-12.544-9.3696a19.1488 19.1488 0 0 0-5.0688-0.6656z" fill="#010101" p-id="1741" />\r
    <path d="M667.5456 225.7408c-6.9632 0-13.9264-1.792-20.0192-5.2736a40.96 40.96 0 0 1-19.4048-24.6272 40.5504 40.5504 0 0 1 3.7376-31.1296l25.344-45.1072c11.0592-19.712 36.096-26.7264 55.7568-15.6672a40.96 40.96 0 0 1 19.4048 24.6272 40.5504 40.5504 0 0 1-3.7376 31.1296L703.2832 204.8a41.088 41.088 0 0 1-35.7376 20.9408z m25.3952-106.5472c-7.168 0-14.1312 3.7888-17.92 10.4448l-25.344 45.1072a20.3776 20.3776 0 0 0-1.8432 15.5648c1.4848 5.2736 4.9152 9.6256 9.6768 12.3392 3.072 1.7408 6.5024 2.6112 9.984 2.6112 7.424 0 14.2848-3.9936 17.8688-10.4448l25.344-45.1072c2.6624-4.7616 3.328-10.2912 1.8432-15.5648a20.49024 20.49024 0 0 0-9.6768-12.3392c-3.1232-1.792-6.5536-2.6112-9.9328-2.6112z" fill="#010101" p-id="1742" />\r
    <path d="M782.592 347.4432c-14.4384 0-27.9552-7.7312-35.2768-20.1216a41.0368 41.0368 0 0 1 14.4384-56.1152l44.544-26.3168c19.456-11.4688 44.6464-5.0176 56.1152 14.4384s5.0176 44.5952-14.4384 56.1152l-44.544 26.3168a41.64608 41.64608 0 0 1-20.8384 5.6832z m44.4928-87.7568c-3.5328 0-7.1168 0.9216-10.3936 2.8672l-44.544 26.3168a20.51584 20.51584 0 0 0-7.2192 28.0576 20.67456 20.67456 0 0 0 17.664 10.0864c3.6352 0 7.2192-0.9728 10.3936-2.8672l44.544-26.3168a20.51584 20.51584 0 0 0 7.2192-28.0576 20.44928 20.44928 0 0 0-17.664-10.0864z" fill="#010101" p-id="1743" />\r
    <path d="M829.696 509.7984c-22.4256 0-40.8064-18.2784-40.96-40.704-0.1536-22.5792 18.1248-41.0624 40.704-41.216l51.7632-0.3072c22.6816 0 41.0624 18.2784 41.216 40.704 0.1536 22.5792-18.1248 41.0624-40.704 41.216l-51.7632 0.3072h-0.256z m51.712-61.7472l-51.8656 0.3072a20.5056 20.5056 0 0 0-20.3776 20.5824 20.55168 20.55168 0 0 0 20.48 20.3776h0.2048l51.6608-0.3072a20.5056 20.5056 0 0 0 20.3776-20.5824 20.52096 20.52096 0 0 0-20.48-20.3776z" fill="#010101" p-id="1744" />\r
    <path d="M830.6176 697.4464c-7.3216 0-14.592-1.9968-20.8896-5.7856l-44.4928-26.4704a40.37632 40.37632 0 0 1-18.7392-25.1392c-2.7136-10.5984-1.0752-21.6064 4.5056-31.0272a40.66816 40.66816 0 0 1 25.088-18.7904 40.9088 40.9088 0 0 1 31.0272 4.5056l44.4416 26.4704c19.4048 11.5712 25.8048 36.7104 14.2848 56.1152a41.02144 41.02144 0 0 1-35.2256 20.1216z m-44.3904-87.9104c-1.6896 0-3.3792 0.2048-5.0688 0.6144a20.0704 20.0704 0 0 0-12.544 9.3696c-2.816 4.7104-3.584 10.24-2.2528 15.5136a20.0704 20.0704 0 0 0 9.3696 12.544l44.4928 26.4704c3.1744 1.8944 6.8096 2.8672 10.4448 2.8672 7.3216 0 13.8752-3.7376 17.6128-10.0352 2.816-4.7104 3.584-10.1888 2.2528-15.5136a20.0704 20.0704 0 0 0-9.3696-12.544l-44.4928-26.4704c-3.2256-1.8432-6.8096-2.816-10.4448-2.816z" fill="#010101" p-id="1745" />\r
    <path d="M547.584 729.0368c-5.632 0-10.24-4.608-10.24-10.24V511.8976H470.9376v206.9504c0 5.632-4.608 10.24-10.24 10.24s-10.24-4.608-10.24-10.24V511.8976h-33.024c-15.0016 0-28.0064-9.1136-33.1264-23.2448s-0.9216-29.44 10.5984-39.0656l18.2784-15.2064a35.00032 35.00032 0 0 1 37.4784-4.8128c12.4928 5.888 20.2752 18.0736 20.2752 31.8976v29.952h66.4576v-29.7472c0-13.824 7.7824-26.0608 20.3264-31.8976 12.544-5.8368 26.88-3.9936 37.5296 4.9152l17.9712 15.0016c11.52 9.6256 15.616 24.9344 10.496 39.0656-5.12 14.08-18.1248 23.1936-33.1264 23.1936h-32.7168v206.9504c-0.0512 5.5808-4.608 10.1376-10.2912 10.1376z m10.24-237.6192h32.7168c9.5744 0 13.056-7.424 13.8752-9.728 0.8192-2.304 2.9696-10.1888-4.4032-16.3328l-17.9712-15.0016c-4.5056-3.7888-10.3936-4.5568-15.7184-2.048s-8.4992 7.4752-8.4992 13.3632v29.7472z m-122.2144-44.8a14.336 14.336 0 0 0-9.3184 3.4816l-18.2784 15.2064c-7.3728 6.144-5.2736 14.08-4.4544 16.3328 0.8192 2.304 4.2496 9.728 13.8752 9.728h33.024v-29.952c0-5.888-3.1744-10.8544-8.4992-13.3632a15.872 15.872 0 0 0-6.3488-1.4336z" fill="#010101" fill-opacity="1" p-id="1746" />\r
    <path d="M339.2 449.4336c-0.6144 0-1.2288-0.0512-1.8944-0.1536-5.5808-1.024-9.216-6.3488-8.192-11.9296a256.8704 256.8704 0 0 1 9.9328-37.6832 10.30144 10.30144 0 0 1 13.056-6.2976c5.3248 1.8944 8.1408 7.7312 6.2976 13.056a236.6976 236.6976 0 0 0-9.1136 34.6624c-0.9216 4.9152-5.2224 8.3456-10.0864 8.3456z" fill="#FFFFFF" fill-opacity="1" p-id="1747" />\r
    <path d="M364.4928 378.6752c-1.7408 0-3.4816-0.4608-5.12-1.3824a10.22464 10.22464 0 0 1-3.7376-13.9776C407.552 273.5104 503.1424 266.496 507.1872 266.24c5.6832-0.3584 10.496 3.9424 10.8544 9.5744s-3.9424 10.496-9.5744 10.8544c-0.9728 0.0512-88.8832 6.8608-135.168 86.8864-1.8432 3.2768-5.2736 5.12-8.8064 5.12z" fill="#FFFFFF" fill-opacity="1" p-id="1748" />\r
    <path d="M437.4528 900.1984c-5.632 0-10.24-4.608-10.24-10.24v-108.8c0-5.632 4.608-10.24 10.24-10.24s10.24 4.608 10.24 10.24v108.8c0 5.6832-4.5568 10.24-10.24 10.24z" fill="#FFFFFF" fill-opacity="1" p-id="1749" />\r
</symbol><symbol viewBox="0 0 1029 1261"   id="svg-bot-2"><defs node-id="91"><linearGradient gradientUnits="objectBoundingBox" id="svg-bot-2_linearGradient-1" node-id="5" spreadMethod="pad" x1="0" x2="1" y1="0.5" y2="0.5"><stop offset="0" stop-color="#252424" /><stop offset="1" stop-color="#181818" /></linearGradient><linearGradient gradientUnits="objectBoundingBox" id="svg-bot-2_linearGradient-2" node-id="8" spreadMethod="pad" x1="0.0161995" x2="1" y1="0.5" y2="0.5"><stop offset="0" stop-color="#a5a5a5" /><stop offset="1" stop-color="#7b7a7a" /></linearGradient><linearGradient gradientUnits="objectBoundingBox" id="svg-bot-2_linearGradient-3" node-id="11" spreadMethod="pad" x1="0" x2="1" y1="0.5" y2="0.5"><stop offset="0" stop-color="#252424" /><stop offset="1" stop-color="#181818" /></linearGradient></defs><g node-id="110"><g node-id="111"><g node-id="112"><g node-id="121"><g node-id="129"><path d="M 371.40 1196.35 L 455.97 1198.74 L 455.97 1241.75 L 456.24 1243.70 L 455.97 1245.65 L 455.97 1250.28 L 453.11 1250.19 L 450.84 1252.11 L 447.87 1253.96 L 444.09 1255.75 L 440.17 1257.19 L 435.68 1258.44 L 430.57 1259.51 L 425.42 1260.25 L 419.89 1260.71 L 413.96 1260.89 L 407.32 1260.67 L 401.21 1260.09 L 395.57 1259.18 L 390.00 1257.86 L 385.26 1256.32 L 381.26 1254.59 L 378.32 1252.96 L 376.02 1251.30 L 374.26 1249.62 L 372.96 1247.92 L 371.40 1247.88 L 371.40 1196.35 Z" fill="url(#svg-bot-2_linearGradient-1)" fill-rule="evenodd" group-id="1,2,3,12,20" id="svg-bot-2_形状结合" node-id="20" stroke="currentColor" target-height="64.54004" target-width="84.84" target-x="371.4" target-y="1196.35" /><path d="M 456.24 1201.15 L 456.02 1202.85 L 455.43 1204.51 L 454.42 1206.16 L 452.92 1207.84 L 450.61 1209.72 L 447.63 1211.54 L 443.85 1213.30 L 439.94 1214.71 L 435.48 1215.94 L 430.41 1216.99 L 425.30 1217.71 L 419.83 1218.17 L 413.96 1218.34 L 408.08 1218.17 L 402.61 1217.71 L 397.50 1216.99 L 392.43 1215.94 L 387.97 1214.71 L 384.06 1213.30 L 380.28 1211.54 L 377.30 1209.72 L 375.00 1207.84 L 373.49 1206.16 L 372.48 1204.51 L 371.89 1202.85 L 371.67 1201.15 L 371.89 1199.44 L 372.48 1197.78 L 373.49 1196.13 L 375.00 1194.45 L 377.30 1192.57 L 380.28 1190.75 L 384.06 1188.99 L 387.97 1187.58 L 392.43 1186.35 L 397.50 1185.31 L 402.61 1184.58 L 408.08 1184.12 L 413.96 1183.96 L 419.83 1184.12 L 425.30 1184.58 L 430.41 1185.31 L 435.48 1186.35 L 439.94 1187.58 L 443.85 1188.99 L 447.63 1190.75 L 450.61 1192.57 L 452.92 1194.45 L 454.42 1196.13 L 455.43 1197.78 L 456.02 1199.44 L 456.24 1201.15 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,3,12,20" id="svg-bot-2_形状结合" node-id="21" stroke="none" target-height="34.380005" target-width="84.56998" target-x="371.67" target-y="1183.96" /></g><g node-id="130"><path d="M 401.18 1166.27 L 429.37 1168.00 L 429.37 1205.18 L 428.61 1205.13 L 427.51 1206.04 L 425.87 1206.90 L 423.55 1207.70 L 419.83 1208.43 L 415.27 1208.71 L 411.44 1208.51 L 408.16 1207.99 L 405.18 1207.11 L 403.10 1206.09 L 401.98 1205.18 L 401.38 1204.30 L 401.18 1203.41 L 401.18 1203.45 L 401.18 1166.27 Z" fill="url(#svg-bot-2_linearGradient-2)" fill-rule="evenodd" group-id="1,2,3,12,21" id="svg-bot-2_形状结合备份" node-id="23" stroke="none" target-height="42.43994" target-width="28.190002" target-x="401.18" target-y="1166.27" /><path d="M 429.37 1164.59 L 429.16 1165.50 L 428.56 1166.40 L 427.44 1167.31 L 425.36 1168.36 L 422.39 1169.25 L 419.11 1169.78 L 415.27 1169.98 L 411.44 1169.78 L 408.16 1169.25 L 405.18 1168.36 L 403.10 1167.31 L 401.99 1166.40 L 401.39 1165.50 L 401.18 1164.59 L 401.39 1163.68 L 401.99 1162.78 L 403.10 1161.87 L 405.18 1160.83 L 408.16 1159.94 L 411.44 1159.40 L 415.27 1159.20 L 419.11 1159.40 L 422.39 1159.94 L 425.36 1160.83 L 427.44 1161.87 L 428.56 1162.78 L 429.16 1163.68 L 429.37 1164.59 Z" fill="#585858" fill-rule="evenodd" group-id="1,2,3,12,21" id="svg-bot-2_形状结合备份-2" node-id="24" stroke="none" target-height="10.780029" target-width="28.190002" target-x="401.18" target-y="1159.2" /></g></g><g node-id="122"><g node-id="131"><path d="M 26.26 1034.56 L 110.83 1036.96 L 110.83 1079.96 L 111.10 1081.91 L 110.83 1083.86 L 110.83 1088.49 L 107.97 1088.41 L 105.70 1090.32 L 102.73 1092.18 L 98.95 1093.97 L 95.03 1095.40 L 90.54 1096.66 L 85.43 1097.72 L 80.28 1098.46 L 74.75 1098.93 L 68.81 1099.10 L 62.18 1098.89 L 56.07 1098.31 L 50.43 1097.40 L 44.86 1096.08 L 40.12 1094.54 L 36.11 1092.81 L 33.18 1091.17 L 30.88 1089.51 L 29.12 1087.84 L 27.82 1086.14 L 26.26 1086.09 L 26.26 1034.56 Z" fill="url(#svg-bot-2_linearGradient-1)" fill-rule="evenodd" group-id="1,2,3,13,22" id="svg-bot-2_形状结合" node-id="27" stroke="none" target-height="64.53992" target-width="84.84" target-x="26.26" target-y="1034.56" /><path d="M 111.10 1039.36 L 110.88 1041.06 L 110.29 1042.72 L 109.28 1044.38 L 107.77 1046.05 L 105.47 1047.93 L 102.49 1049.76 L 98.71 1051.52 L 94.80 1052.92 L 90.34 1054.16 L 85.27 1055.20 L 80.16 1055.93 L 74.69 1056.38 L 68.81 1056.55 L 62.94 1056.38 L 57.47 1055.93 L 52.36 1055.20 L 47.29 1054.16 L 42.83 1052.92 L 38.92 1051.52 L 35.14 1049.76 L 32.16 1047.93 L 29.85 1046.05 L 28.35 1044.38 L 27.34 1042.72 L 26.75 1041.06 L 26.53 1039.36 L 26.75 1037.66 L 27.34 1036.00 L 28.35 1034.34 L 29.85 1032.67 L 32.16 1030.79 L 35.14 1028.96 L 38.92 1027.21 L 42.83 1025.80 L 47.29 1024.56 L 52.36 1023.52 L 57.47 1022.79 L 62.94 1022.34 L 68.81 1022.17 L 74.69 1022.34 L 80.16 1022.79 L 85.27 1023.52 L 90.34 1024.56 L 94.80 1025.80 L 98.71 1027.21 L 102.49 1028.96 L 105.47 1030.79 L 107.77 1032.67 L 109.28 1034.34 L 110.29 1036.00 L 110.88 1037.66 L 111.10 1039.36 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,3,13,22" id="svg-bot-2_形状结合" node-id="28" stroke="none" target-height="34.380066" target-width="84.57" target-x="26.53" target-y="1022.17" /></g><g node-id="132"><path d="M 56.04 1004.49 L 84.23 1006.22 L 84.23 1043.39 L 83.47 1043.34 L 82.37 1044.25 L 80.73 1045.12 L 78.41 1045.92 L 74.69 1046.64 L 70.13 1046.93 L 66.30 1046.73 L 63.02 1046.20 L 60.04 1045.33 L 57.96 1044.30 L 56.84 1043.40 L 56.24 1042.52 L 56.04 1041.62 L 56.04 1041.66 L 56.04 1004.49 Z" fill="url(#svg-bot-2_linearGradient-2)" fill-rule="evenodd" group-id="1,2,3,13,23" id="svg-bot-2_形状结合备份" node-id="30" stroke="none" target-height="42.440063" target-width="28.190002" target-x="56.04" target-y="1004.49" /><path d="M 84.23 1002.81 L 84.02 1003.72 L 83.42 1004.61 L 82.30 1005.53 L 80.22 1006.57 L 77.25 1007.46 L 73.97 1008.00 L 70.13 1008.20 L 66.30 1008.00 L 63.02 1007.46 L 60.04 1006.57 L 57.96 1005.53 L 56.84 1004.61 L 56.24 1003.72 L 56.04 1002.81 L 56.24 1001.90 L 56.84 1001.00 L 57.96 1000.09 L 60.04 999.04 L 63.02 998.15 L 66.30 997.62 L 70.13 997.41 L 73.97 997.62 L 77.25 998.15 L 80.22 999.04 L 82.30 1000.09 L 83.42 1001.00 L 84.02 1001.90 L 84.23 1002.81 Z" fill="#585858" fill-rule="evenodd" group-id="1,2,3,13,23" id="svg-bot-2_形状结合备份-2" node-id="31" stroke="none" target-height="10.790039" target-width="28.190002" target-x="56.04" target-y="997.41" /></g></g><g node-id="123"><path d="M 790.71 921.36 L 875.28 926.08 L 875.28 1018.93 L 875.55 1020.88 L 875.28 1022.83 L 875.28 1027.46 L 872.50 1027.31 L 870.23 1029.23 L 867.27 1031.10 L 863.49 1032.90 L 859.56 1034.35 L 855.07 1035.61 L 849.94 1036.69 L 844.77 1037.43 L 839.22 1037.90 L 833.26 1038.07 L 827.79 1037.93 L 822.66 1037.53 L 817.83 1036.89 L 813.05 1035.98 L 808.77 1034.90 L 804.95 1033.65 L 801.24 1032.11 L 798.19 1030.48 L 795.72 1028.80 L 793.54 1026.79 L 792.08 1024.79 L 791.23 1022.78 L 790.71 1022.75 L 790.71 921.36 Z" fill="url(#svg-bot-2_linearGradient-3)" fill-rule="evenodd" group-id="1,2,3,14" id="svg-bot-2_形状结合" node-id="33" stroke="none" target-height="116.70996" target-width="84.839966" target-x="790.71" target-y="921.36" /><path d="M 875.55 924.41 L 875.33 926.11 L 874.74 927.77 L 873.72 929.42 L 872.22 931.10 L 869.92 932.98 L 866.94 934.80 L 863.16 936.56 L 859.25 937.97 L 854.79 939.20 L 849.72 940.25 L 844.61 940.97 L 839.13 941.43 L 833.26 941.60 L 827.39 941.43 L 821.92 940.97 L 816.81 940.25 L 811.74 939.20 L 807.27 937.97 L 803.36 936.56 L 799.59 934.80 L 796.61 932.98 L 794.30 931.10 L 792.80 929.42 L 791.79 927.77 L 791.19 926.11 L 790.98 924.41 L 791.19 922.71 L 791.79 921.04 L 792.80 919.39 L 794.30 917.72 L 796.61 915.83 L 799.59 914.01 L 803.36 912.25 L 807.27 910.84 L 811.74 909.61 L 816.81 908.57 L 821.92 907.84 L 827.39 907.38 L 833.26 907.22 L 839.13 907.38 L 844.61 907.84 L 849.72 908.57 L 854.79 909.61 L 859.25 910.84 L 863.16 912.25 L 866.94 914.01 L 869.92 915.83 L 872.22 917.72 L 873.72 919.39 L 874.74 921.04 L 875.33 922.71 L 875.55 924.41 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,3,14" id="svg-bot-2_形状结合" node-id="34" stroke="none" target-height="34.380005" target-width="84.57001" target-x="790.98" target-y="907.22" /></g><g node-id="124"><g node-id="133"><path d="M 470.06 779.90 L 554.63 784.61 L 554.63 877.47 L 554.90 879.42 L 554.63 881.37 L 554.63 886.00 L 551.85 885.84 L 549.58 887.76 L 546.63 889.63 L 542.84 891.44 L 538.92 892.88 L 534.42 894.15 L 529.29 895.22 L 524.12 895.96 L 518.57 896.43 L 512.62 896.61 L 507.15 896.46 L 502.01 896.06 L 497.19 895.43 L 492.40 894.52 L 488.12 893.43 L 484.30 892.18 L 480.59 890.64 L 477.54 889.02 L 475.07 887.33 L 472.89 885.32 L 471.44 883.32 L 470.59 881.31 L 470.06 881.28 L 470.06 779.90 Z" fill="url(#svg-bot-2_linearGradient-3)" fill-rule="evenodd" group-id="1,2,3,15,24" id="svg-bot-2_形状结合" node-id="37" stroke="none" target-height="116.70996" target-width="84.84003" target-x="470.06" target-y="779.9" /><path d="M 554.90 782.94 L 554.69 784.64 L 554.09 786.30 L 553.08 787.96 L 551.58 789.63 L 549.27 791.51 L 546.29 793.34 L 542.51 795.09 L 538.60 796.50 L 534.14 797.74 L 529.07 798.78 L 523.96 799.51 L 518.49 799.96 L 512.62 800.13 L 506.75 799.96 L 501.27 799.51 L 496.16 798.78 L 491.09 797.74 L 486.63 796.50 L 482.72 795.09 L 478.94 793.34 L 475.96 791.51 L 473.66 789.63 L 472.16 787.96 L 471.14 786.30 L 470.55 784.64 L 470.33 782.94 L 470.55 781.24 L 471.14 779.58 L 472.16 777.92 L 473.66 776.25 L 475.96 774.37 L 478.94 772.54 L 482.72 770.78 L 486.63 769.38 L 491.09 768.14 L 496.16 767.10 L 501.27 766.37 L 506.75 765.92 L 512.62 765.75 L 518.49 765.92 L 523.96 766.37 L 529.07 767.10 L 534.14 768.14 L 538.60 769.38 L 542.51 770.78 L 546.29 772.54 L 549.27 774.37 L 551.58 776.25 L 553.08 777.92 L 554.09 779.58 L 554.69 781.24 L 554.90 782.94 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,3,15,24" id="svg-bot-2_形状结合" node-id="38" stroke="none" target-height="34.380005" target-width="84.57004" target-x="470.33" target-y="765.75" /></g><g node-id="134"><path d="M 499.84 748.07 L 528.03 749.79 L 528.03 786.97 L 527.27 786.92 L 526.17 787.83 L 524.54 788.70 L 522.21 789.50 L 518.49 790.22 L 513.93 790.51 L 510.10 790.31 L 506.82 789.78 L 503.84 788.90 L 501.76 787.88 L 500.64 786.98 L 500.05 786.10 L 499.84 785.20 L 499.84 785.24 L 499.84 748.07 Z" fill="url(#svg-bot-2_linearGradient-2)" fill-rule="evenodd" group-id="1,2,3,15,25" id="svg-bot-2_形状结合备份" node-id="40" stroke="none" target-height="42.440002" target-width="28.190033" target-x="499.84" target-y="748.07" /><path d="M 528.03 746.38 L 527.82 747.30 L 527.22 748.19 L 526.10 749.11 L 524.02 750.15 L 521.05 751.04 L 517.77 751.58 L 513.93 751.78 L 510.10 751.58 L 506.82 751.04 L 503.84 750.15 L 501.76 749.11 L 500.65 748.19 L 500.05 747.30 L 499.84 746.38 L 500.05 745.47 L 500.65 744.58 L 501.76 743.66 L 503.84 742.62 L 506.82 741.73 L 510.10 741.19 L 513.93 740.99 L 517.77 741.19 L 521.05 741.73 L 524.02 742.62 L 526.10 743.66 L 527.22 744.58 L 527.82 745.47 L 528.03 746.38 Z" fill="#585858" fill-rule="evenodd" group-id="1,2,3,15,25" id="svg-bot-2_形状结合备份-2" node-id="41" stroke="none" target-height="10.790039" target-width="28.190033" target-x="499.84" target-y="740.99" /></g></g><g node-id="125"><path d="M 457.95 764.75 L 889.37 966.63 L 438.35 1214.19 L 0.50 1013.50 Z" fill="#c0c0c0" fill-rule="evenodd" group-id="1,2,3,16" id="svg-bot-2_矩形备份-52" node-id="43" stroke="none" target-height="449.43994" target-width="888.87" target-x="0.5" target-y="764.75" /><path d="M 889.37 554.43 L 889.37 966.63 L 438.35 1214.19 L 436.37 807.89 L 889.37 554.43 Z M 843.51 614.67 L 482.24 816.81 L 483.81 1089.24 L 843.51 891.80 L 843.51 614.67 Z" fill="#d8d8d8" fill-rule="evenodd" group-id="1,2,3,16" id="svg-bot-2_形状结合" node-id="44" stroke="none" target-height="659.75995" target-width="453" target-x="436.37" target-y="554.43" /><path d="M 2.65 603.14 L 441.77 807.89 L 440.11 1215.96 L 1.00 1013.00 L 2.65 603.14 Z M 77.41 738.72 L 44.34 760.22 L 43.24 989.00 L 68.96 1027.86 L 375.06 1170.15 L 407.65 1149.79 L 408.72 929.24 L 377.59 879.51 L 77.41 738.72 Z" fill="#e8e6e6" fill-rule="evenodd" group-id="1,2,3,16" id="svg-bot-2_形状结合" node-id="45" stroke="none" target-height="612.81995" target-width="440.77" target-x="1" target-y="603.14" /><path d="M 4.56 607.46 L 445.29 349.30 L 888.50 555.50 L 437.96 814.33 Z" fill="#f7f7f7" fill-rule="evenodd" group-id="1,2,3,16" id="svg-bot-2_路径-16备份-2" node-id="46" stroke="none" target-height="465.03003" target-width="883.94" target-x="4.56" target-y="349.3" /><path d="M 3.56 595.67 L 68.66 553.43 L 510.87 763.75 L 436.96 802.55 Z" fill="#2a7b5a" fill-rule="evenodd" group-id="1,2,3,16" id="svg-bot-2_路径-16备份-2" node-id="47" stroke="none" target-height="249.12" target-width="507.31" target-x="3.56" target-y="553.43" /><path d="M 3.56 595.67 L 3.95 607.35 L 435.37 812.28 L 436.96 802.55 Z" fill="#286f52" fill-rule="evenodd" group-id="1,2,3,16" id="svg-bot-2_路径-16备份-2" node-id="48" stroke="none" target-height="216.61005" target-width="433.4" target-x="3.56" target-y="595.67" /><path d="M 435.37 812.28 L 510.87 774.53 L 510.87 763.75 L 435.37 801.50 Z" fill="#1d5940" fill-rule="evenodd" group-id="1,2,3,16" id="svg-bot-2_路径-16备份-2" node-id="49" stroke="none" target-height="48.53003" target-width="75.5" target-x="435.37" target-y="763.75" /></g></g><g node-id="113"><g node-id="126"><g node-id="135"><path d="M 866.81 262.39 L 854.29 268.65 L 854.29 563.61 L 866.81 557.36 Z" fill="#dbdbdb" fill-rule="evenodd" group-id="1,2,4,17,26" id="svg-bot-2_矩形" node-id="52" stroke="none" target-height="301.21997" target-width="12.52002" target-x="854.29" target-y="262.39" /></g><path d="M 854.29 268.65 L 840.99 261.61 L 840.99 556.57 L 854.29 563.61 Z" fill="#bab9b9" fill-rule="evenodd" group-id="1,2,4,17,27" id="svg-bot-2_矩形备份-17" node-id="53" stroke="none" target-height="302" target-width="13.299988" target-x="840.99" target-y="261.61" /></g><g node-id="127"><g node-id="137"><path d="M 456.96 79.04 L 444.44 85.29 L 444.44 380.25 L 456.96 374.00 Z" fill="#dbdbdb" fill-rule="evenodd" group-id="1,2,4,18,28" id="svg-bot-2_矩形" node-id="55" stroke="none" target-height="301.21" target-width="12.519989" target-x="444.44" target-y="79.04" /></g><path d="M 444.44 85.29 L 431.13 78.25 L 431.13 373.22 L 444.44 380.25 Z" fill="#bab9b9" fill-rule="evenodd" group-id="1,2,4,18,29" id="svg-bot-2_矩形备份-17" node-id="56" stroke="none" target-height="302" target-width="13.309998" target-x="431.13" target-y="78.25" /></g><g node-id="128"><path d="M 242.23 158.40 L 803.09 422.65 L 803.09 435.78 L 242.23 171.53 Z" fill="#ccc6c6" fill-rule="evenodd" group-id="1,2,4,19" id="svg-bot-2_矩形备份-22" node-id="58" stroke="none" target-height="277.38" target-width="560.86005" target-x="242.23" target-y="158.4" /><g node-id="139"><path d="M 441.77 47.50 L 1002.62 311.75 L 802.76 422.54 L 238.90 159.11 Z" fill="#ffffff" fill-rule="evenodd" group-id="1,2,4,19,30" id="svg-bot-2_矩形" node-id="59" stroke="none" target-height="375.04" target-width="763.72" target-x="238.9" target-y="47.5" /></g><path d="M 1002.29 309.30 L 1002.62 322.53 L 803.09 435.78 L 803.09 419.60 Z" fill="#d8d8d8" fill-rule="evenodd" group-id="1,2,4,19,31" id="svg-bot-2_矩形备份-51" node-id="60" stroke="none" target-height="126.48001" target-width="199.52997" target-x="803.09" target-y="309.3" /></g></g><g node-id="114"><path d="M 69.66 683.85 L 69.46 686.78 L 68.93 689.30 L 68.05 691.55 L 66.99 693.17 L 66.11 694.00 L 65.21 694.47 L 64.27 694.64 L 63.33 694.47 L 62.43 694.00 L 61.55 693.17 L 60.49 691.55 L 59.61 689.30 L 59.08 686.78 L 58.88 683.85 L 59.08 680.93 L 59.61 678.41 L 60.49 676.15 L 61.55 674.54 L 62.43 673.71 L 63.33 673.24 L 64.27 673.07 L 65.21 673.24 L 66.11 673.71 L 66.99 674.54 L 68.05 676.15 L 68.93 678.41 L 69.46 680.93 L 69.66 683.85 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,5" id="svg-bot-2_椭圆形" node-id="62" stroke="none" target-height="21.570007" target-width="10.780003" target-x="58.88" target-y="673.07" /><path d="M 75.06 689.25 L 76.00 689.08 L 76.89 688.61 L 77.78 687.77 L 78.83 686.16 L 79.71 683.90 L 80.25 681.39 L 80.45 678.46 L 80.25 675.53 L 79.71 673.02 L 78.83 670.76 L 77.78 669.15 L 76.89 668.31 L 76.00 667.84 L 75.06 667.67 L 74.11 667.84 L 73.22 668.31 L 72.33 669.15 L 71.28 670.76 L 70.40 673.02 L 69.86 675.53 L 69.66 678.46 L 69.86 681.39 L 70.40 683.90 L 71.28 686.16 L 72.33 687.77 L 73.22 688.61 L 74.11 689.08 L 75.06 689.25 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,5" id="svg-bot-2_椭圆形备份-7" node-id="63" stroke="none" target-height="21.580017" target-width="10.789993" target-x="69.66" target-y="667.67" /><path d="M 64.27 673.07 L 75.06 667.67 L 75.06 689.25 L 64.27 694.64 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,5" id="svg-bot-2_矩形" node-id="64" stroke="none" target-height="26.970032" target-width="10.790001" target-x="64.27" target-y="667.67" /></g><g node-id="115"><path d="M 91.23 694.64 L 91.03 697.57 L 90.50 700.08 L 89.62 702.34 L 88.56 703.95 L 87.68 704.78 L 86.78 705.26 L 85.84 705.42 L 84.90 705.26 L 84.00 704.78 L 83.12 703.95 L 82.07 702.34 L 81.18 700.08 L 80.65 697.57 L 80.45 694.64 L 80.65 691.71 L 81.18 689.19 L 82.07 686.94 L 83.12 685.33 L 84.00 684.49 L 84.90 684.02 L 85.84 683.85 L 86.78 684.02 L 87.68 684.49 L 88.56 685.33 L 89.62 686.94 L 90.50 689.19 L 91.03 691.71 L 91.23 694.64 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,6" id="svg-bot-2_椭圆形" node-id="66" stroke="none" target-height="21.570007" target-width="10.780006" target-x="80.45" target-y="683.85" /><path d="M 96.63 700.03 L 97.57 699.86 L 98.47 699.39 L 99.35 698.56 L 100.40 696.95 L 101.28 694.69 L 101.82 692.17 L 102.02 689.25 L 101.82 686.32 L 101.28 683.80 L 100.40 681.54 L 99.35 679.93 L 98.47 679.10 L 97.57 678.63 L 96.63 678.46 L 95.69 678.63 L 94.79 679.10 L 93.90 679.93 L 92.85 681.54 L 91.97 683.80 L 91.43 686.32 L 91.23 689.25 L 91.43 692.17 L 91.97 694.69 L 92.85 696.95 L 93.90 698.56 L 94.79 699.39 L 95.69 699.86 L 96.63 700.03 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,6" id="svg-bot-2_椭圆形备份-7" node-id="67" stroke="none" target-height="21.570007" target-width="10.789993" target-x="91.23" target-y="678.46" /><path d="M 85.84 683.85 L 96.63 678.46 L 96.63 700.03 L 85.84 705.42 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,6" id="svg-bot-2_矩形" node-id="68" stroke="none" target-height="26.95996" target-width="10.790001" target-x="85.84" target-y="678.46" /></g><g node-id="116"><path d="M 134.38 716.21 L 134.18 719.14 L 133.64 721.65 L 132.76 723.91 L 131.71 725.52 L 130.82 726.36 L 129.92 726.83 L 128.98 727.00 L 128.04 726.83 L 127.15 726.36 L 126.26 725.52 L 125.21 723.91 L 124.33 721.65 L 123.79 719.14 L 123.59 716.21 L 123.79 713.28 L 124.33 710.77 L 125.21 708.51 L 126.26 706.90 L 127.15 706.06 L 128.04 705.59 L 128.98 705.42 L 129.92 705.59 L 130.82 706.06 L 131.71 706.90 L 132.76 708.51 L 133.64 710.77 L 134.18 713.28 L 134.38 716.21 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,7" id="svg-bot-2_椭圆形" node-id="70" stroke="none" target-height="21.580017" target-width="10.790009" target-x="123.59" target-y="705.42" /><path d="M 139.77 721.60 L 140.71 721.43 L 141.61 720.96 L 142.49 720.13 L 143.54 718.52 L 144.43 716.26 L 144.96 713.74 L 145.16 710.82 L 144.96 707.89 L 144.43 705.37 L 143.54 703.12 L 142.49 701.50 L 141.61 700.67 L 140.71 700.20 L 139.77 700.03 L 138.83 700.20 L 137.93 700.67 L 137.05 701.50 L 135.99 703.12 L 135.11 705.37 L 134.58 707.89 L 134.38 710.82 L 134.58 713.74 L 135.11 716.26 L 135.99 718.52 L 137.05 720.13 L 137.93 720.96 L 138.83 721.43 L 139.77 721.60 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,7" id="svg-bot-2_椭圆形备份-7" node-id="71" stroke="none" target-height="21.569946" target-width="10.779999" target-x="134.38" target-y="700.03" /><path d="M 128.98 705.42 L 139.77 700.03 L 139.77 721.60 L 128.98 727.00 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,7" id="svg-bot-2_矩形" node-id="72" stroke="none" target-height="26.96997" target-width="10.790009" target-x="128.98" target-y="700.03" /></g><g node-id="117"><path d="M 112.81 705.42 L 112.60 708.35 L 112.07 710.87 L 111.19 713.13 L 110.13 714.74 L 109.25 715.57 L 108.35 716.04 L 107.41 716.21 L 106.47 716.04 L 105.57 715.57 L 104.69 714.74 L 103.64 713.13 L 102.76 710.87 L 102.22 708.35 L 102.02 705.42 L 102.22 702.50 L 102.76 699.98 L 103.64 697.72 L 104.69 696.11 L 105.57 695.28 L 106.47 694.81 L 107.41 694.64 L 108.35 694.81 L 109.25 695.28 L 110.13 696.11 L 111.19 697.72 L 112.07 699.98 L 112.60 702.50 L 112.81 705.42 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,8" id="svg-bot-2_椭圆形" node-id="74" stroke="none" target-height="21.570007" target-width="10.790001" target-x="102.02" target-y="694.64" /><path d="M 118.20 710.82 L 119.14 710.65 L 120.04 710.18 L 120.92 709.34 L 121.97 707.73 L 122.85 705.48 L 123.39 702.96 L 123.59 700.03 L 123.39 697.10 L 122.85 694.59 L 121.97 692.33 L 120.92 690.72 L 120.04 689.89 L 119.14 689.41 L 118.20 689.25 L 117.26 689.41 L 116.36 689.89 L 115.48 690.72 L 114.42 692.33 L 113.54 694.59 L 113.01 697.10 L 112.81 700.03 L 113.01 702.96 L 113.54 705.48 L 114.42 707.73 L 115.48 709.34 L 116.36 710.18 L 117.26 710.65 L 118.20 710.82 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,8" id="svg-bot-2_椭圆形备份-7" node-id="75" stroke="none" target-height="21.570007" target-width="10.779999" target-x="112.81" target-y="689.25" /><path d="M 107.41 694.64 L 118.20 689.25 L 118.20 710.82 L 107.41 716.21 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,8" id="svg-bot-2_矩形" node-id="76" stroke="none" target-height="26.960022" target-width="10.789993" target-x="107.41" target-y="689.25" /></g><g node-id="118"><path d="M 155.95 727.00 L 155.75 729.92 L 155.21 732.44 L 154.33 734.70 L 153.28 736.31 L 152.39 737.14 L 151.50 737.61 L 150.55 737.78 L 149.61 737.61 L 148.72 737.14 L 147.83 736.31 L 146.78 734.70 L 145.90 732.44 L 145.36 729.92 L 145.16 727.00 L 145.36 724.07 L 145.90 721.55 L 146.78 719.29 L 147.83 717.68 L 148.72 716.85 L 149.61 716.38 L 150.55 716.21 L 151.50 716.38 L 152.39 716.85 L 153.28 717.68 L 154.33 719.29 L 155.21 721.55 L 155.75 724.07 L 155.95 727.00 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,9" id="svg-bot-2_椭圆形" node-id="78" stroke="none" target-height="21.570007" target-width="10.789993" target-x="145.16" target-y="716.21" /><path d="M 161.34 732.39 L 162.28 732.22 L 163.18 731.75 L 164.06 730.92 L 165.12 729.30 L 166.00 727.05 L 166.53 724.53 L 166.73 721.60 L 166.53 718.68 L 166.00 716.16 L 165.12 713.90 L 164.06 712.29 L 163.18 711.46 L 162.28 710.99 L 161.34 710.82 L 160.40 710.99 L 159.50 711.46 L 158.62 712.29 L 157.56 713.90 L 156.68 716.16 L 156.15 718.68 L 155.95 721.60 L 156.15 724.53 L 156.68 727.05 L 157.56 729.30 L 158.62 730.92 L 159.50 731.75 L 160.40 732.22 L 161.34 732.39 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,9" id="svg-bot-2_椭圆形备份-7" node-id="79" stroke="none" target-height="21.570007" target-width="10.779999" target-x="155.95" target-y="710.82" /><path d="M 150.55 716.21 L 161.34 710.82 L 161.34 732.39 L 150.55 737.78 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,9" id="svg-bot-2_矩形" node-id="80" stroke="none" target-height="26.960022" target-width="10.789993" target-x="150.55" target-y="710.82" /></g><g node-id="119"><path d="M 355.48 825.41 L 355.18 830.92 L 354.38 835.62 L 353.52 838.62 L 352.54 841.01 L 351.48 842.88 L 350.11 844.47 L 348.77 845.34 L 347.39 845.64 L 346.02 845.34 L 344.67 844.47 L 343.31 842.88 L 342.24 841.01 L 341.27 838.62 L 340.41 835.62 L 339.61 830.92 L 339.30 825.41 L 339.61 819.91 L 340.41 815.21 L 341.27 812.20 L 342.24 809.82 L 343.31 807.95 L 344.67 806.36 L 346.02 805.49 L 347.39 805.19 L 348.77 805.49 L 350.11 806.36 L 351.48 807.95 L 352.54 809.82 L 353.52 812.20 L 354.38 815.21 L 355.18 819.91 L 355.48 825.41 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,10" id="svg-bot-2_椭圆形" node-id="82" stroke="none" target-height="40.450012" target-width="16.180023" target-x="339.3" target-y="805.19" /><path d="M 363.57 837.55 L 364.95 837.25 L 366.29 836.38 L 367.65 834.79 L 368.72 832.92 L 369.70 830.54 L 370.56 827.53 L 371.36 822.83 L 371.66 817.33 L 371.36 811.83 L 370.56 807.12 L 369.70 804.12 L 368.72 801.73 L 367.65 799.86 L 366.29 798.27 L 364.95 797.40 L 363.57 797.10 L 362.20 797.40 L 360.85 798.27 L 359.49 799.86 L 358.42 801.73 L 357.45 804.12 L 356.59 807.12 L 355.78 811.83 L 355.48 817.33 L 355.78 822.83 L 356.59 827.53 L 357.45 830.54 L 358.42 832.92 L 359.49 834.79 L 360.85 836.38 L 362.20 837.25 L 363.57 837.55 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,10" id="svg-bot-2_椭圆形备份-7" node-id="83" stroke="none" target-height="40.450012" target-width="16.179993" target-x="355.48" target-y="797.1" /><path d="M 347.39 806.81 L 363.57 797.10 L 363.57 835.93 L 347.39 845.64 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,10" id="svg-bot-2_矩形" node-id="84" stroke="none" target-height="48.54004" target-width="16.179993" target-x="347.39" target-y="797.1" /></g><g node-id="120"><path d="M 199.09 508.13 L 497.17 657.33 L 497.17 694.63 L 199.09 545.43 Z" fill="#444644" fill-rule="evenodd" group-id="1,2,11" id="svg-bot-2_矩形备份-41" node-id="86" stroke="none" target-height="186.5" target-width="298.08002" target-x="199.09" target-y="508.13" /><path d="M 207.61 498.81 L 505.68 648.01 L 497.17 657.33 L 199.09 508.13 Z" fill="#696969" fill-rule="evenodd" group-id="1,2,11" id="svg-bot-2_矩形备份-42" node-id="87" stroke="none" target-height="158.52002" target-width="306.59" target-x="199.09" target-y="498.81" /><path d="M 497.17 657.33 L 506.48 648.01 L 506.48 685.31 L 497.17 694.63 Z" fill="#2b2a2a" fill-rule="evenodd" group-id="1,2,11" id="svg-bot-2_矩形" node-id="88" stroke="none" target-height="46.619995" target-width="9.309998" target-x="497.17" target-y="648.01" /><path d="M 217.72 247.03 L 497.17 384.33 L 497.17 645.43 L 217.72 508.13 Z" fill="#494a49" fill-rule="evenodd" group-id="1,2,11" id="svg-bot-2_矩形" node-id="89" stroke="none" target-height="398.4" target-width="279.45" target-x="217.72" target-y="247.03" /></g></g></g></symbol><symbol   viewBox="0 0 1051 1644" id="svg-bot-9">\r
    <title>PBA9</title>\r
    <defs>\r
        <linearGradient id="svg-bot-9_linearGradient-1" y2="50%" x2="100%" y1="50%" x1="0%">\r
            <stop offset="0%" stop-color="#252424" />\r
            <stop offset="100%" stop-color="#181818" />\r
        </linearGradient>\r
        <linearGradient id="svg-bot-9_linearGradient-2" y2="50%" x2="100%" y1="50%" x1="1.61994987%">\r
            <stop offset="0%" stop-color="#A5A5A5" />\r
            <stop offset="100%" stop-color="#7B7A7A" />\r
        </linearGradient>\r
        <linearGradient id="svg-bot-9_linearGradient-3" y2="53.5152679%" x2="33.5324159%" y1="52.2959596%" x1="10.5628407%">\r
            <stop offset="0%" stop-color="#EEECE6" />\r
            <stop offset="100%" stop-color="#BDB4A1" />\r
        </linearGradient>\r
    </defs>\r
    <g fill-rule="evenodd" fill="none" stroke-width="1" stroke="currentColor" id="svg-bot-9_页面-1">\r
        <g transform="translate(0.500000, 0.633693)" id="svg-bot-9_PBA9">\r
            <g fill-rule="nonzero" transform="translate(508.453453, 1479.969208)" id="svg-bot-9_编组-24">\r
                <g transform="translate(0.000000, 25.883740)" id="svg-bot-9_编组-23">\r
                    <path fill="url(#svg-bot-9_linearGradient-1)" id="svg-bot-9_形状结合" d="M0,14.7907085 L88.4157635,19.7209447 L88.4158196,116.802354 C88.6017545,117.471663 88.6972644,118.152109 88.6972644,118.841623 C88.6972644,119.531156 88.6017493,120.21162 88.4158045,120.880946 L88.4157635,125.721022 L85.5071674,125.557778 C78.9634845,132.156741 63.0642649,136.814054 44.4893827,136.814054 C21.7199146,136.814054 2.9709922,129.815811 0.546683008,120.821467 L0,120.790786 L0,14.7907085 Z" />\r
                    <ellipse ry="17.9724306" rx="44.2078817" cy="17.9724306" cx="44.4893827" fill="#000000" id="svg-bot-9_形状结合" />\r
                </g>\r
                <g transform="translate(31.130825, 0.000000)" id="svg-bot-9_编组-22">\r
                    <path fill="url(#svg-bot-9_linearGradient-2)" id="svg-bot-9_形状结合备份" d="M0,7.39535424 L29.4719212,9.2031075 L29.4719212,48.0698025 L28.6776991,48.0219458 C26.6911001,50.2011603 21.1995028,51.7674796 14.7359606,51.7674796 C6.59751428,51.7674796 0,49.28422 0,46.220964 L0.00102965085,46.2615849 L0,7.39535424 Z" />\r
                    <ellipse ry="5.63830199" rx="14.7359606" cy="5.63830199" cx="14.7359606" fill="#585858" id="svg-bot-9_形状结合备份-2" />\r
                </g>\r
            </g>\r
            <g fill-rule="nonzero" transform="translate(955.085487, 1259.371360)" id="svg-bot-9_编组-24备份-2">\r
                <g transform="translate(0.000000, 25.883740)" id="svg-bot-9_编组-23">\r
                    <path fill="url(#svg-bot-9_linearGradient-1)" id="svg-bot-9_形状结合" d="M0,14.7907085 L88.4157635,19.7209447 L88.4158196,116.802354 C88.6017545,117.471663 88.6972644,118.152109 88.6972644,118.841623 C88.6972644,119.531156 88.6017493,120.21162 88.4158045,120.880946 L88.4157635,125.721022 L85.5071674,125.557778 C78.9634845,132.156741 63.0642649,136.814054 44.4893827,136.814054 C21.7199146,136.814054 2.9709922,129.815811 0.546683008,120.821467 L0,120.790786 L0,14.7907085 Z" />\r
                    <ellipse ry="17.9724306" rx="44.2078817" cy="17.9724306" cx="44.4893827" fill="#000000" id="svg-bot-9_形状结合" />\r
                </g>\r
                <g transform="translate(31.130825, 0.000000)" id="svg-bot-9_编组-22">\r
                    <path fill="url(#svg-bot-9_linearGradient-2)" id="svg-bot-9_形状结合备份" d="M0,7.39535424 L29.4719212,9.2031075 L29.4719212,48.0698025 L28.6776991,48.0219458 C26.6911001,50.2011603 21.1995028,51.7674796 14.7359606,51.7674796 C6.59751428,51.7674796 0,49.28422 0,46.220964 L0.00102965085,46.2615849 L0,7.39535424 Z" />\r
                    <ellipse ry="5.63830199" rx="14.7359606" cy="5.63830199" cx="14.7359606" fill="#585858" id="svg-bot-9_形状结合备份-2" />\r
                </g>\r
            </g>\r
            <g fill-rule="nonzero" transform="translate(186.251819, 1329.340315)" id="svg-bot-9_编组-24备份">\r
                <g transform="translate(0.000000, 25.883740)" id="svg-bot-9_编组-23">\r
                    <path fill="url(#svg-bot-9_linearGradient-1)" id="svg-bot-9_形状结合" d="M0,14.7907085 L88.4157635,19.7209447 L88.4158196,116.802354 C88.6017545,117.471663 88.6972644,118.152109 88.6972644,118.841623 C88.6972644,119.531156 88.6017493,120.21162 88.4158045,120.880946 L88.4157635,125.721022 L85.5071674,125.557778 C78.9634845,132.156741 63.0642649,136.814054 44.4893827,136.814054 C21.7199146,136.814054 2.9709922,129.815811 0.546683008,120.821467 L0,120.790786 L0,14.7907085 Z" />\r
                    <ellipse ry="17.9724306" rx="44.2078817" cy="17.9724306" cx="44.4893827" fill="#000000" id="svg-bot-9_形状结合" />\r
                </g>\r
                <g transform="translate(31.130825, 0.000000)" id="svg-bot-9_编组-22">\r
                    <path fill="url(#svg-bot-9_linearGradient-2)" id="svg-bot-9_形状结合备份" d="M0,7.39535424 L29.4719212,9.2031075 L29.4719212,48.0698025 L28.6776991,48.0219458 C26.6911001,50.2011603 21.1995028,51.7674796 14.7359606,51.7674796 C6.59751428,51.7674796 0,49.28422 0,46.220964 L0.00102965085,46.2615849 L0,7.39535424 Z" />\r
                    <ellipse ry="5.63830199" rx="14.7359606" cy="5.63830199" cx="14.7359606" fill="#585858" id="svg-bot-9_形状结合备份-2" />\r
                </g>\r
            </g>\r
            <g fill-rule="nonzero" transform="translate(611.605177, 1126.909038)" id="svg-bot-9_编组-24备份-3">\r
                <g transform="translate(0.000000, 25.883740)" id="svg-bot-9_编组-23">\r
                    <path fill="url(#svg-bot-9_linearGradient-1)" id="svg-bot-9_形状结合" d="M0,14.7907085 L88.4157635,19.7209447 L88.4158196,116.802354 C88.6017545,117.471663 88.6972644,118.152109 88.6972644,118.841623 C88.6972644,119.531156 88.6017493,120.21162 88.4158045,120.880946 L88.4157635,125.721022 L85.5071674,125.557778 C78.9634845,132.156741 63.0642649,136.814054 44.4893827,136.814054 C21.7199146,136.814054 2.9709922,129.815811 0.546683008,120.821467 L0,120.790786 L0,14.7907085 Z" />\r
                    <ellipse ry="17.9724306" rx="44.2078817" cy="17.9724306" cx="44.4893827" fill="#000000" id="svg-bot-9_形状结合" />\r
                </g>\r
                <g transform="translate(31.130825, 0.000000)" id="svg-bot-9_编组-22">\r
                    <path fill="url(#svg-bot-9_linearGradient-2)" id="svg-bot-9_形状结合备份" d="M0,7.39535424 L29.4719212,9.2031075 L29.4719212,48.0698025 L28.6776991,48.0219458 C26.6911001,50.2011603 21.1995028,51.7674796 14.7359606,51.7674796 C6.59751428,51.7674796 0,49.28422 0,46.220964 L0.00102965085,46.2615849 L0,7.39535424 Z" />\r
                    <ellipse ry="5.63830199" rx="14.7359606" cy="5.63830199" cx="14.7359606" fill="#585858" id="svg-bot-9_形状结合备份-2" />\r
                </g>\r
            </g>\r
            <polygon points="598.74197 518.806372 1050 196.615434 1050 1291.03474 578.663779 1546.91275 578.449265 561.964291" fill-rule="nonzero" fill="#DED9D1" id="svg-bot-9_矩形" />\r
            <polygon points="0.51482543 454.453194 345.212256 215.78566 683.510375 401.849626 296.02462 611.989774" fill-rule="nonzero" fill="url(#svg-bot-9_linearGradient-3)" id="svg-bot-9_路径-10" />\r
            <polygon points="995.452395 305.834589 993.616985 672.488122 672.233771 886.743597 672.002552 537.332778" fill-rule="nonzero" fill="#0C0C0C" id="svg-bot-9_矩形" />\r
            <polygon points="181.701498 1354.72266 179.97182 366.564345 580.291261 560.137718 582.020939 1546.42493" fill-rule="nonzero" fill="#E9E5DD" id="svg-bot-9_路径-16" />\r
            <polygon points="209.56659 678.829835 208.078753 449.047459 552.426168 615.555711 553.914005 843.728598" fill-rule="nonzero" fill="#E9E5DD" stroke-width="0.5" stroke="#6E6E6E" id="svg-bot-9_路径-16" />\r
            <g transform="translate(242.662278, 488.515572)" id="svg-bot-9_路径-16">\r
                <g fill="#E9E5DD" transform="translate(0.000000, 0.000000)" id="svg-bot-9_path-4-link">\r
                    <polygon points="1.19026918 183.825902 -2.92644373e-14 1.17057749e-13 275.477932 133.206602 276.668201 315.744912" id="svg-bot-9_path-4" />\r
                </g>\r
                <g fill-rule="nonzero" fill="#000000" transform="translate(0.000000, 0.000000)" id="svg-bot-9_path-4-link">\r
                    <polygon points="1.19026918 183.825902 -2.92644373e-14 1.17057749e-13 275.477932 133.206602 276.668201 315.744912" id="svg-bot-9_path-4" />\r
                </g>\r
            </g>\r
            <polygon points="313.905079 672.495173 313.224926 567.4518 470.640887 643.569859 471.321041 747.877464" fill-rule="nonzero" fill="#8EC1E9" stroke-width="1.5" stroke="#000000" id="svg-bot-9_路径-16" />\r
            <polygon points="209.56659 1287.76645 208.078753 753.515766 552.426168 920.024018 553.914005 1452.66522" fill-rule="nonzero" fill="#E9E5DD" stroke-width="0.5" stroke="#6E6E6E" id="svg-bot-9_路径-16备份-3" />\r
            <polygon points="204.254706 317.275096 653.768893 2.92644373e-14 1050 196.615434 598.935845 520.253968" fill-rule="nonzero" fill="#FFFCF3" id="svg-bot-9_路径-16备份-2" />\r
            <polygon points="204.254706 317.275096 600.598133 515.717102 576.382637 565.360384 180.039209 366.918378" fill-rule="nonzero" fill="#F8F6EF" id="svg-bot-9_矩形" />\r
            <path fill-rule="nonzero" fill="#DED9D1" id="svg-bot-9_路径-12" d="M186.225252,937.488316 C157.347841,877.191105 128.752241,828.050658 100.438452,790.066975 C72.1246632,752.083292 38.860394,718.237117 0.645644105,688.528449 L0.645644105,579.368301 L23.8290419,525.89227 L1.27583391,514.615665 L0.645644105,453.227684 L188.940931,554.844152 L186.225252,937.488316 Z" />\r
            <polygon points="238.084518 1002.90492 260.592799 1013.28989 260.637725 1078.44586 238.129444 1068.0609" fill-rule="nonzero" fill="#000000" id="svg-bot-9_矩形备份-4" />\r
            <polygon points="514.361315 971.318127 565.061106 990.736683 565.106033 1033.33945 514.406241 1013.92089" fill-rule="nonzero" fill="#000000" id="svg-bot-9_矩形备份-60" />\r
            <polygon points="525.637919 644.296611 576.337711 663.715167 576.382637 706.317934 525.682846 686.899378" fill-rule="nonzero" fill="#000000" id="svg-bot-9_矩形备份-63" />\r
            <polygon points="525.637919 757.062651 576.337711 776.481207 576.382637 819.083973 525.682846 799.665418" fill-rule="nonzero" fill="#000000" id="svg-bot-9_矩形备份-64" />\r
            <polygon points="514.361315 1140.46719 565.061106 1159.88575 565.106033 1202.48851 514.406241 1183.06995" fill-rule="nonzero" fill="#000000" id="svg-bot-9_矩形备份-61" />\r
            <polygon points="514.361315 1309.61624 565.061106 1329.0348 565.106033 1371.63757 514.406241 1352.21902" fill-rule="nonzero" fill="#000000" id="svg-bot-9_矩形备份-62" />\r
            <line stroke-dasharray="3" stroke-width="0.5" stroke="#979797" id="svg-bot-9_路径-9" y2="616.105101" x2="187.339799" y1="527.043579" x1="23.6819696" />\r
            <line stroke="#979797" id="svg-bot-9_路径-9备份" y2="683.764725" x2="187.339799" y1="579.555773" x1="-1.46322187e-14" />\r
            <g fill-rule="nonzero" transform="translate(305.744142, 103.019621)" id="svg-bot-9_编组-11">\r
                <rect rx="2" height="47.5065763" width="94.9101238" y="198.426867" x="0" opacity="0.410433815" fill="#5B5B5A" id="svg-bot-9_矩形备份-33" />\r
                <rect height="180.425664" width="47.455062" y="41.7544909" x="23.7275309" fill="#C4E4E3" id="svg-bot-9_矩形" />\r
                <path fill="#FC2727" id="svg-bot-9_矩形备份-30" d="M47.455062,0 C60.5594154,0 71.1825929,10.6231775 71.1825929,23.7275309 L71.1825929,71.2598645 L71.1825929,71.2598645 L23.7275309,71.2598645 L23.7275309,23.7275309 C23.7275309,10.6231775 34.3507084,0 47.455062,0 Z" />\r
                <rect height="47.5065763" width="47.455062" y="47.5065763" x="23.7275309" fill="#FFFD54" id="svg-bot-9_矩形备份-31" />\r
                <rect height="47.5065763" width="47.455062" y="95.0131526" x="23.7275309" fill="#73FF54" id="svg-bot-9_矩形备份-32" />\r
            </g>\r
        </g>\r
    </g>\r
</symbol><symbol viewBox="0 0 1024 1024"  id="svg-clock-a">\r
    <path d="M512.3 518.9m-469.2 0a469.2 469.2 0 1 0 938.4 0 469.2 469.2 0 1 0-938.4 0Z" fill="#B3A7FF"></path>\r
    <path d="M512.3 518.9m-392.5 0a392.5 392.5 0 1 0 785 0 392.5 392.5 0 1 0-785 0Z" fill="#FFFFFF"></path>\r
    <path d="M512.3 523.8c-4.5 0-9-1.7-12.4-5.1L318.3 337.1c-6.8-6.8-6.8-17.9 0-24.8 6.8-6.8 17.9-6.8 24.8 0L524.7 494c6.8 6.8 6.8 17.9 0 24.8-3.5 3.3-7.9 5-12.4 5z" fill="#50E68E">\r
        <animateTransform attributeName="transform" attributeType="XML" type="rotate" from="45 512 512" to="405 512 512" dur="3600s" repeatCount="indefinite" />\r
    </path>\r
    <path d="M512.3 523.8c-4.5 0-9-1.7-12.4-5.1-6.8-6.8-6.8-17.9 0-24.8l130.8-130.8c6.8-6.8 17.9-6.8 24.8 0 6.8 6.8 6.8 17.9 0 24.8L524.7 518.7c-3.5 3.4-7.9 5.1-12.4 5.1z" fill="#9A36E7">\r
        <animateTransform attributeName="transform" attributeType="XML" type="rotate" from="-45 512 512" to="315 512 512" dur="43200s" repeatCount="indefinite" />\r
    </path>\r
    <path d="M512.3 506.3m-47.5 0a47.5 47.5 0 1 0 95 0 47.5 47.5 0 1 0-95 0Z" fill="#F45AFC"></path>\r
    <path d="M512.3 218.8c-9 0-16.3-7.3-16.3-16.3v-29.1c0-9 7.3-16.3 16.3-16.3s16.3 7.3 16.3 16.3v29.1c0 9-7.4 16.3-16.3 16.3zM512.3 880.8c-9 0-16.3-7.3-16.3-16.3v-29.1c0-9 7.3-16.3 16.3-16.3s16.3 7.3 16.3 16.3v29.1c0 9-7.4 16.3-16.3 16.3zM812.4 518.9c0-9 7.3-16.3 16.3-16.3h29.1c9 0 16.3 7.3 16.3 16.3s-7.3 16.3-16.3 16.3h-29.1c-8.9 0-16.3-7.3-16.3-16.3zM150.4 518.9c0-9 7.3-16.3 16.3-16.3h29.1c9 0 16.3 7.3 16.3 16.3s-7.3 16.3-16.3 16.3h-29.1c-8.9 0-16.3-7.3-16.3-16.3z" fill="#4942CF"></path>\r
    <path d="M296.9 733.5c-2.2 0-4.5-0.9-6.2-2.6-3.4-3.4-3.4-9 0-12.4L540 469.2c3.4-3.4 9-3.4 12.4 0 3.4 3.4 3.4 9 0 12.4L303.1 731c-1.7 1.7-4 2.5-6.2 2.5z" fill="#E83E24">\r
        <animateTransform attributeName="transform" attributeType="XML" type="rotate" from="135 512 512" to="495 512 512" dur="60s" repeatCount="indefinite" />\r
    </path>\r
    <path d="M512.3 506.3m-22.8 0a22.8 22.8 0 1 0 45.6 0 22.8 22.8 0 1 0-45.6 0Z" fill="#EBF257"></path>\r
</symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-common-table"><path d="M885.3 957.3H140.7c-42.2 0-76.5-34.3-76.5-76.5V136.3c0-42.2 34.3-76.5 76.5-76.5h744.6c42.2 0 76.5 34.3 76.5 76.5v744.6c-0.1 42.1-34.3 76.4-76.5 76.4z m-744.6-851c-16.5 0-29.9 13.4-29.9 29.9v744.6c0 16.5 13.4 29.9 29.9 29.9h744.6c16.5 0 29.9-13.4 29.9-29.9V136.3c0-16.5-13.4-29.9-29.9-29.9H140.7z" fill="#2F2302" p-id="1992" data-spm-anchor-id="a313x.manage_type_myprojects.0.i22.1adc3a81gVIGv0" class="" /><path d="M938.5 315.8h-851V91.1c0-4.4 3.6-8 8-8h835c4.4 0 8 3.6 8 8v224.7z" fill="#F1D563" p-id="1993" data-spm-anchor-id="a313x.manage_type_myprojects.0.i20.1adc3a81gVIGv0" class="" /><path d="M961.7 339H64.3V136.3c0-42.2 34.3-76.5 76.5-76.5h744.6c42.2 0 76.5 34.3 76.5 76.5V339z m-850.9-46.5h804.4V136.3c0-16.5-13.4-29.9-29.9-29.9H140.7c-16.5 0-29.9 13.4-29.9 29.9v156.2zM938.5 644.8h-851c-12.9 0-23.3-10.4-23.3-23.3 0-12.8 10.4-23.3 23.3-23.3h851c12.9 0 23.3 10.4 23.3 23.3-0.1 12.9-10.5 23.3-23.3 23.3z" fill="#2F2302" p-id="1994" data-spm-anchor-id="a313x.manage_type_myprojects.0.i23.1adc3a81gVIGv0" class="" /><path d="M363.4 957.3c-12.9 0-23.3-10.4-23.3-23.3V315.8c0-12.8 10.4-23.3 23.3-23.3s23.3 10.4 23.3 23.3V934c0 12.9-10.4 23.3-23.3 23.3zM662.6 957.3c-12.9 0-23.3-10.4-23.3-23.3V315.8c0-12.8 10.4-23.3 23.3-23.3s23.3 10.4 23.3 23.3V934c0 12.9-10.5 23.3-23.3 23.3z" fill="#2F2302" p-id="1995" data-spm-anchor-id="a313x.manage_type_myprojects.0.i21.1adc3a81gVIGv0" class="" /></symbol><symbol class="icon" viewBox="0 0 1094 1024"   id="svg-el-button"><path d="M984.860838 227.319149H153.357353c-15.616064 0-28.275239 12.657976-28.27524 28.272839v441.069494c0 15.614864 12.659176 28.274039 28.27524 28.27404h831.503485c15.614864 0 28.272839-12.657976 28.272839-28.27404V255.591988c0-15.613664-12.656776-28.272839-28.272839-28.272839z m-12.372367 432.768847c0 13.025187-10.559113 23.5855-23.5843 23.585501H189.31402c-13.026387 0-23.5855-10.559113-23.5855-23.585501V292.166674c0-13.025187 10.559113-23.5855 23.5855-23.5855H948.904171c13.025187 0 23.5843 10.559113 23.5843 23.5855v367.921322z" fill="#409eff" p-id="1625" data-spm-anchor-id="a313x.manage_type_myprojects.0.i3.1adc3a81px4RsK" class="" /><path d="M395.144131 473.024043c19.678184-10.226704 29.925288-27.174807 30.718512-50.803508-3.156094-40.171193-30.718512-61.438224-82.704055-63.801094h-105.154322v244.57086h111.062097c58.28093 0 87.430996-23.224289 87.430996-69.708869-0.794424-28.356842-14.584033-48.441838-41.353228-60.257389z m-118.149508-79.16035h61.438224c29.130865 0.794424 44.491321 11.040328 46.077768 30.719712-0.794424 22.061455-16.541291 33.488194-47.259803 34.263417h-60.256189V393.863693z m68.526835 174.861991h-68.526835v-74.43461h64.983129c33.856605 0.794424 51.579931 12.997586 53.167579 36.627488-0.0012 25.216349-16.541291 37.807122-49.623873 37.807122zM461.309295 393.863693h82.705255v209.126608h40.169993V393.863693h81.52322v-35.444252H461.309295zM863.017621 509.65033c0 13.403198 0.776423 27.96923 2.36407 43.716098v1.182035c-7.08861-16.541291-14.971644-31.106123-23.629901-43.716098-21.267031-33.081382-55.142837-83.88609-101.608217-152.412924h-41.352028v244.57086H737.781903v-147.688384c0-18.109738-1.180835-34.263417-3.546105-48.440638h1.180835c6.295387 13.401998 13.772809 27.580419 22.449066 42.534062 22.042254 33.082582 56.712484 84.292902 103.972287 153.59496h40.171192V358.419441H863.017621v151.230889z" fill="#C54E6A" p-id="1626" data-spm-anchor-id="a313x.manage_type_myprojects.0.i6.1adc3a81px4RsK" class="selected" /></symbol><symbol viewBox="0 0 1024 1024"   id="svg-el-tag">
    <path d="M767.1 292.6c-0.2-19-15.6-34.4-34.6-34.6l-202.2-2.5c-9.5-0.1-18.6 3.6-25.2 10.3l-35.4 35.4c48.4 138.5 72.4 282.3 42.1 433.8-1.7 10.4-3.9 21.1-6.4 31.9 6-1.5 11.7-4.4 16.3-9.1l237.6-237.6c6.7-6.7 10.4-15.8 10.3-25.2l-2.5-202.4zM664.3 429c-17.1 17.1-44.9 17.1-62 0s-17.1-44.9 0-62 44.9-17.1 62 0 17.2 44.8 0 62z" fill="#FFDE55" />
    <path d="M779.6 292.5c-0.2-12.5-5.1-24.2-13.9-33.1-8.8-8.8-20.6-13.8-33.1-13.9L530.4 243c-12.7-0.1-25.2 4.9-34.2 13.9L258.6 494.6c-9 9-13.9 20.9-13.9 33.6 0 12.7 4.9 24.7 13.9 33.6l204.7 204.7c9 9 20.9 13.9 33.6 13.9 12.7 0 24.7-4.9 33.6-13.9l237.6-237.6c9-9 14.1-21.5 13.9-34.2l-2.4-202.2z m-29.1 218.7L512.9 748.8c-4.3 4.3-9.9 6.6-16 6.6-6 0-11.7-2.3-16-6.6L276.3 544.2c-4.3-4.3-6.6-9.9-6.6-16s2.3-11.7 6.6-16l237.6-237.6c4.2-4.2 10-6.6 16-6.6h0.3l202.2 2.5c12.4 0.2 22.2 9.9 22.3 22.3l2.5 202.2c0 6-2.4 11.9-6.7 16.2z" fill="" />
    <path d="M593.5 358.1c-22 22-22 57.7 0 79.7 10.6 10.6 24.8 16.5 39.8 16.5s29.2-5.9 39.8-16.5c22-22 22-57.7 0-79.7-21.9-22-57.6-22-79.6 0z m62 62c-5.9 5.9-13.8 9.2-22.2 9.2s-16.2-3.3-22.2-9.2c-12.2-12.2-12.2-32.1 0-44.3 6.1-6.1 14.1-9.2 22.2-9.2 8 0 16.1 3.1 22.2 9.2 12.2 12.2 12.2 32.1 0 44.3z" fill="" />
</symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-hamburger"><path d="M691.3024 176.5376c47.3088 36.864 77.824 94.4128 77.824 159.0272 0 20.2752-16.384 36.6592-36.6592 36.6592h-584.704c0 1.6384-0.1024 3.3792-0.1024 5.12 0 20.2752 16.384 36.6592 36.6592 36.6592h655.36c20.2752 0 36.6592-16.384 36.6592-36.6592 0-105.8816-81.5104-192.512-185.0368-200.8064z" fill="#FFA43E" p-id="1687" /><path d="M769.1264 335.4624c0-64.6144-30.5152-122.1632-77.824-159.0272-5.4272-0.4096-10.8544-0.6144-16.2816-0.6144H349.0816c-109.568 0-198.656 87.4496-201.3184 196.3008h584.704c20.1728 0 36.5568-16.384 36.6592-36.6592z" fill="#FFD14F" p-id="1688" /><path d="M814.6944 512.4096h-48.9472c2.1504 6.2464 3.2768 12.9024 3.2768 19.8656V606.208c0 33.9968-27.648 61.6448-61.6448 61.6448H150.9376c8.2944 24.2688 31.232 41.6768 58.368 41.6768h605.3888c33.9968 0 61.6448-27.648 61.6448-61.6448v-73.9328c0-33.8944-27.5456-61.5424-61.6448-61.5424z" fill="#E01E22" p-id="1689" /><path d="M769.1264 606.3104v-73.9328c0-6.9632-1.2288-13.6192-3.2768-19.8656H209.3056c-33.9968 0-61.6448 27.648-61.6448 61.6448v73.9328c0 6.9632 1.1264 13.6192 3.2768 19.8656h556.544c33.9968-0.1024 61.5424-27.648 61.6448-61.6448z" fill="#F06661" p-id="1690" /><path d="M835.1744 413.7984H769.024v15.6672c0 22.7328-18.432 41.1648-41.1648 41.1648H147.6608v0.512c0 22.7328 18.432 41.1648 41.1648 41.1648h646.3488c22.7328 0 41.1648-18.432 41.1648-41.1648v-16.2816c0-22.6304-18.432-41.0624-41.1648-41.0624z" fill="#3EBA4A" p-id="1691" /><path d="M769.1264 429.568v-15.6672H188.8256c-22.7328 0-41.1648 18.432-41.1648 41.1648v15.6672h580.3008c22.6304 0 41.0624-18.432 41.1648-41.1648z" fill="#68E077" p-id="1692" /><path d="M848.384 709.632H769.024v14.336c0 45.568-36.864 82.432-82.432 82.432H158.4128c14.2336 24.8832 40.96 41.6768 71.68 41.6768h563.8144c45.568 0 82.432-36.864 82.432-82.432v-28.16c0-15.36-12.4928-27.8528-27.9552-27.8528z" fill="#FFA43E" p-id="1693" /><path d="M769.1264 723.968v-14.336H175.616c-15.4624 0-27.9552 12.4928-27.9552 27.9552v28.16c0 14.848 3.8912 28.672 10.752 40.7552h528.1792c45.568-0.1024 82.5344-36.9664 82.5344-82.5344z" fill="#FFD14F" p-id="1694" /><path d="M420.7616 540.5696l-68.9152 68.9152 26.112 26.112 95.1296-95.1296c18.0224-18.0224 42.496-28.16 67.9936-28.16h-52.3264c-25.6 0.1024-49.9712 10.24-67.9936 28.2624z" fill="#FFA43E" p-id="1695" /><path d="M488.6528 512.4096H214.9376c25.4976 0 49.9712 10.1376 67.9936 28.16l68.9152 68.9152 68.9152-68.9152c18.0224-18.0224 42.496-28.16 67.8912-28.16z" fill="#FFD14F" p-id="1696" /><path d="M499.2 264.0896a26.3168 15.4624 90 1 0 30.9248 0 26.3168 15.4624 90 1 0-30.9248 0Z" fill="#FDF7E5" p-id="1697" /><path d="M377.060391 277.944478a15.4624 26.3168 30 1 0 26.3168-45.582035 15.4624 26.3168 30 1 0-26.3168 45.582035Z" fill="#FDF7E5" p-id="1698" /><path d="M625.699208 262.908333a26.3168 15.4624 60 1 0 26.781662-15.4624 26.3168 15.4624 60 1 0-26.781662 15.4624Z" fill="#FDF7E5" p-id="1699" /><path d="M867.4304 415.0272c11.5712-8.4992 19.1488-22.3232 19.1488-37.7856 0-116.736-94.9248-211.6608-211.6608-211.6608H349.0816c-116.736 0-211.6608 94.9248-211.6608 211.6608 0 15.4624 7.5776 29.184 19.1488 37.7856-11.6736 9.4208-19.1488 23.8592-19.1488 40.0384v16.2816c0 19.968 11.4688 37.2736 28.16 45.7728-17.1008 13.1072-28.16 33.792-28.16 56.9344v73.9328c0 21.504 9.5232 40.7552 24.4736 53.9648-14.336 5.5296-24.4736 19.3536-24.4736 35.6352v28.16c0 51.0976 41.5744 92.672 92.672 92.672h563.8144c51.0976 0 92.672-41.5744 92.672-92.672v-28.16c0-16.1792-10.1376-30.1056-24.4736-35.6352 14.9504-13.2096 24.4736-32.4608 24.4736-53.9648v-73.9328c0-23.1424-11.0592-43.8272-28.16-56.9344 16.6912-8.4992 28.16-25.8048 28.16-45.7728v-16.2816c0-16.1792-7.4752-30.6176-19.1488-40.0384zM184.32 403.5584c-14.5408 0-26.4192-11.776-26.4192-26.4192 0-105.3696 85.8112-191.1808 191.1808-191.1808h325.9392c105.3696 0 191.1808 85.8112 191.1808 191.1808 0 14.5408-11.776 26.4192-26.4192 26.4192H184.32z m293.888 119.0912c-4.4032 3.1744-8.4992 6.7584-12.3904 10.6496l-87.8592 87.8592-87.8592-87.8592c-3.8912-3.8912-8.0896-7.4752-12.3904-10.6496H478.208z m387.8912 243.0976c0 39.8336-32.3584 72.192-72.192 72.192H230.0928c-39.8336 0-72.192-32.3584-72.192-72.192v-28.16c0-9.728 7.9872-17.7152 17.7152-17.7152h672.8704c9.728 0 17.7152 7.9872 17.7152 17.7152v28.16z m0-191.6928v73.9328c0 28.3648-23.04 51.4048-51.4048 51.4048H209.3056c-28.3648 0-51.4048-23.04-51.4048-51.4048v-73.9328c0-28.3648 23.04-51.4048 51.4048-51.4048h5.632c22.9376 0 44.544 8.9088 60.7232 25.1904l95.1296 95.1296c1.9456 1.9456 4.5056 2.9696 7.2704 2.9696 2.6624 0 5.3248-1.024 7.2704-2.9696L480.256 547.84c16.1792-16.1792 37.7856-25.1904 60.7232-25.1904h273.7152c28.3648 0 51.4048 23.1424 51.4048 51.4048z m0-102.8096c0 17.1008-13.824 30.9248-30.9248 30.9248H188.8256c-16.9984 0-30.9248-13.824-30.9248-30.9248v-16.2816c0-17.1008 13.9264-30.9248 30.9248-30.9248h646.3488c17.1008 0 30.9248 13.9264 30.9248 30.9248v16.2816z m-72.192 387.1744zM377.9584 645.9392z m136.704-351.4368c10.9568 0 19.5584-13.4144 19.5584-30.4128 0-17.1008-8.6016-30.4128-19.5584-30.4128s-19.5584 13.4144-19.5584 30.4128c0 17.1008 8.6016 30.4128 19.5584 30.4128z m0-52.6336c5.3248 0 11.3664 9.1136 11.3664 22.2208 0 13.1072-5.9392 22.2208-11.3664 22.2208s-11.3664-9.1136-11.3664-22.2208c0-13.1072 6.0416-22.2208 11.3664-22.2208z m-139.5712 39.6288c2.1504 1.2288 4.5056 1.8432 7.0656 1.8432 3.2768 0 6.7584-1.024 10.3424-3.072 5.632-3.1744 10.8544-8.704 14.7456-15.36 8.4992-14.7456 7.7824-30.6176-1.7408-36.1472-4.9152-2.8672-11.0592-2.3552-17.408 1.2288-5.632 3.1744-10.8544 8.704-14.7456 15.36-8.4992 14.7456-7.7824 30.6176 1.7408 36.1472z m5.3248-32.0512c3.072-5.4272 7.3728-9.9328 11.6736-12.3904 2.2528-1.3312 4.4032-1.9456 6.2464-1.9456 1.1264 0 2.1504 0.2048 2.9696 0.7168 4.608 2.6624 5.2224 13.6192-1.3312 24.9856-3.072 5.4272-7.3728 9.9328-11.6736 12.3904-3.6864 2.048-7.0656 2.56-9.216 1.2288-4.608-2.7648-5.2224-13.6192 1.3312-24.9856zM636.928 280.2688c3.584 2.048 7.0656 3.072 10.3424 3.072 2.56 0 4.9152-0.6144 7.0656-1.8432 9.5232-5.5296 10.24-21.4016 1.7408-36.1472-3.8912-6.7584-9.1136-12.1856-14.7456-15.36-6.3488-3.584-12.4928-3.9936-17.408-1.2288-9.5232 5.5296-10.24 21.4016-1.7408 36.1472 3.8912 6.656 9.1136 12.1856 14.7456 15.36z m-9.0112-44.4416c2.2528-1.3312 5.632-0.8192 9.216 1.2288 4.3008 2.4576 8.6016 6.9632 11.6736 12.3904 6.5536 11.3664 5.9392 22.3232 1.3312 24.9856-2.2528 1.3312-5.632 0.8192-9.216-1.2288-4.3008-2.4576-8.6016-6.9632-11.6736-12.3904-6.5536-11.3664-5.9392-22.2208-1.3312-24.9856z" p-id="1700" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-hotpot"><path d="M962.4576 438.4768h-64.3072c-11.6736-61.6448-37.6832-118.1696-74.5472-165.9904 17.6128 48.0256 27.136 99.84 27.136 153.9072 0 246.9888-200.192 447.1808-447.1808 447.1808-17.92 0-35.5328-1.024-52.8384-3.072 49.152 22.1184 103.7312 34.5088 161.1776 34.5088 192 0 351.744-137.6256 386.1504-319.5904h64.3072c10.752 0 19.456-8.704 19.456-19.456V457.9328c0.1024-10.752-8.6016-19.456-19.3536-19.456z" fill="#FFA43E" p-id="1853" /><path d="M850.8416 426.496c0-54.0672-9.6256-105.8816-27.136-153.9072-71.8848-93.3888-184.7296-153.6-311.7056-153.6-192 0-351.744 137.6256-386.1504 319.5904H61.5424c-10.752 0-19.456 8.704-19.456 19.456v108.1344c0 10.752 8.704 19.456 19.456 19.456h64.3072c24.1664 127.488 109.7728 233.2672 224.9728 285.0816 17.3056 2.048 34.9184 3.072 52.8384 3.072 246.9888-0.1024 447.1808-200.3968 447.1808-447.2832z" fill="#FFD14F" p-id="1854" /><path d="M680.6528 681.6768c0-93.184-75.5712-168.6528-168.6528-168.6528s-168.6528-75.5712-168.6528-168.6528S418.816 175.616 512 175.616v-1.9456c-186.88 0-338.3296 151.4496-338.3296 338.3296S325.12 850.3296 512 850.3296c93.184 0 168.6528-75.4688 168.6528-168.6528z" fill="#FDF7E5" p-id="1855" /><path d="M512 173.6704v1.9456c-93.184 0-168.6528 75.5712-168.6528 168.6528S418.816 512.9216 512 512.9216s168.6528 75.5712 168.6528 168.6528S605.184 850.3296 512 850.3296c186.88 0 338.3296-151.4496 338.3296-338.3296S698.88 173.6704 512 173.6704z" fill="#E01E22" p-id="1856" /><path d="M557.568 394.1376l19.5584-19.5584c27.648-27.648-27.4432-82.6368-54.9888-54.9888L391.5776 450.048s6.2464 29.3888 62.464 52.6336 92.16 11.5712 92.16 11.5712l59.8016-59.8016c27.5456-27.5456-20.8896-87.8592-48.4352-60.3136z" fill="#F06661" p-id="1857" /><path d="M592.4864 444.7232c14.336-14.336-17.5104-46.08-31.744-31.744-14.336 14.336 17.408 46.08 31.744 31.744z" fill="#E01E22" p-id="1858" /><path d="M349.4912 488.7552c0-14.9504-10.9568-27.7504-26.4192-32.768 3.3792 5.12 5.4272 11.0592 5.4272 17.408 0 12.1856-7.2704 22.9376-18.2272 29.184 1.536 3.9936 2.3552 8.192 2.3552 12.5952 0 21.9136-20.6848 39.7312-46.2848 39.7312-6.4512 0-12.5952-1.1264-18.2272-3.1744 8.192 11.1616 22.6304 18.6368 39.2192 18.6368 25.6 0 46.2848-17.8176 46.2848-39.7312 0-4.4032-0.8192-8.6016-2.3552-12.5952 10.9568-6.3488 18.2272-17.1008 18.2272-29.2864z" fill="#3EBA4A" p-id="1859" /><path d="M312.6272 515.1744c0-4.4032-0.8192-8.6016-2.3552-12.5952 10.9568-6.2464 18.2272-16.9984 18.2272-29.184 0-6.3488-1.9456-12.288-5.4272-17.408-4.5056-1.4336-9.4208-2.2528-14.5408-2.2528-14.6432 0-27.5456 6.656-34.7136 16.5888-5.9392-3.9936-13.312-6.3488-21.4016-6.3488-19.2512 0-34.9184 13.4144-34.9184 30.0032 0 13.4144 10.24 24.7808 24.4736 28.5696-0.6144 2.56-0.9216 5.3248-0.9216 8.0896 0 7.7824 2.6624 15.0528 7.0656 21.1968 5.632 2.048 11.776 3.1744 18.2272 3.1744 25.6-0.1024 46.2848-17.92 46.2848-39.8336z" fill="#68E077" p-id="1860" /><path d="M558.6944 620.4416c14.848 17.8176 21.1968 41.1648 15.1552 64.512-10.8544 42.2912-58.0608 68.8128-105.472 59.0848-4.8128-1.024-9.4208-2.2528-13.824-3.8912 12.0832 14.4384 29.696 25.3952 50.9952 29.696 47.4112 9.728 94.6176-16.7936 105.472-59.0848 9.728-38.0928-13.2096-75.9808-52.3264-90.3168zM432.5376 586.8544c13.4144 16.0768 19.1488 37.1712 13.7216 58.2656-9.8304 38.2976-52.5312 62.1568-95.3344 53.4528-4.3008-0.9216-8.4992-2.048-12.4928-3.584 10.8544 13.1072 26.9312 22.9376 46.08 26.8288 42.9056 8.704 85.6064-15.1552 95.3344-53.4528 8.8064-34.304-11.9808-68.608-47.3088-81.5104z" fill="#7C4115" p-id="1861" /><path d="M446.2592 645.12c5.4272-21.0944-0.3072-42.1888-13.7216-58.2656-3.9936-1.4336-8.192-2.6624-12.4928-3.584-42.9056-8.704-85.6064 15.1552-95.3344 53.4528-5.4272 21.0944 0.3072 42.1888 13.7216 58.2656 3.9936 1.4336 8.192 2.6624 12.4928 3.584 42.8032 8.704 85.504-15.1552 95.3344-53.4528zM573.8496 684.9536c5.9392-23.3472-0.3072-46.592-15.1552-64.512-4.4032-1.6384-9.0112-2.9696-13.824-3.8912-47.4112-9.728-94.6176 16.7936-105.472 59.0848-5.9392 23.3472 0.4096 46.592 15.2576 64.512 4.4032 1.6384 9.0112 2.9696 13.824 3.8912 47.3088 9.6256 94.5152-16.7936 105.3696-59.0848z" fill="#8B5526" p-id="1862" /><path d="M542.3104 676.1472l33.28 13.824-37.6832 1.1264c-2.7648 0.1024-5.2224 1.3312-6.5536 3.1744l-17.6128 26.0096-1.4336-29.3888c-0.1024-2.1504-1.6384-4.096-4.096-5.12l-33.28-13.824 37.6832-1.1264c2.7648-0.1024 5.2224-1.3312 6.5536-3.1744l17.6128-26.0096 1.4336 29.3888c0 2.2528 1.6384 4.1984 4.096 5.12zM419.5328 636.928l30.72 12.6976-34.7136 1.024c-2.56 0.1024-4.8128 1.2288-6.0416 2.9696L393.216 677.5808l-1.3312-27.0336c-0.1024-1.9456-1.536-3.7888-3.7888-4.7104l-30.72-12.6976 34.7136-1.024c2.56-0.1024 4.8128-1.2288 6.0416-2.9696l16.2816-23.9616 1.3312 27.0336c0.1024 1.9456 1.536 3.7888 3.7888 4.7104z" fill="#C8A981" p-id="1863" /><path d="M767.8976 503.6032c3.584 7.0656 5.632 15.0528 5.632 23.552 0 28.8768-23.3472 52.224-52.224 52.224-8.4992 0-16.4864-2.048-23.552-5.632 8.6016 16.9984 26.3168 28.7744 46.6944 28.7744 28.8768 0 52.224-23.3472 52.224-52.224 0-20.3776-11.776-38.0928-28.7744-46.6944z" fill="#E01E22" p-id="1864" /><path d="M773.5296 527.1552c0-8.4992-2.048-16.4864-5.632-23.552-7.0656-3.584-15.0528-5.632-23.552-5.632-28.8768 0-52.224 23.4496-52.224 52.224 0 8.4992 2.048 16.4864 5.632 23.552 7.0656 3.584 15.0528 5.632 23.552 5.632 28.7744 0 52.224-23.3472 52.224-52.224z" fill="#F06661" p-id="1865" /><path d="M563.5072 364.9536c14.336-14.336-17.5104-46.08-31.744-31.744-14.336 14.2336 17.5104 45.9776 31.744 31.744z" fill="#E01E22" p-id="1866" /><path d="M752.3328 369.5616c3.1744 5.7344 5.0176 12.288 5.0176 19.3536 0 22.016-17.8176 39.8336-39.8336 39.8336-7.0656 0-13.6192-1.8432-19.3536-5.0176 6.7584 12.1856 19.8656 20.48 34.816 20.48 22.016 0 39.8336-17.8176 39.8336-39.8336 0-15.0528-8.2944-28.0576-20.48-34.816z" fill="#FFA43E" p-id="1867" /><path d="M717.7216 310.6816c4.096 7.4752 6.5536 15.9744 6.5536 25.088 0 28.5696-23.1424 51.712-51.712 51.712-9.1136 0-17.7152-2.3552-25.088-6.5536 8.8064 15.872 25.8048 26.624 45.2608 26.624 28.5696 0 51.712-23.1424 51.712-51.712-0.1024-19.3536-10.8544-36.2496-26.7264-45.1584z" fill="#E2E2E2" p-id="1868" /><path d="M757.3504 388.9152c0-7.0656-1.8432-13.6192-5.0176-19.3536-5.7344-3.1744-12.288-5.0176-19.3536-5.0176-22.016 0-39.8336 17.8176-39.8336 39.8336 0 7.0656 1.8432 13.6192 5.0176 19.3536 5.7344 3.1744 12.288 5.0176 19.3536 5.0176 21.9136 0 39.8336-17.92 39.8336-39.8336z" fill="#FFD14F" p-id="1869" /><path d="M724.2752 335.872c0-9.1136-2.3552-17.7152-6.5536-25.088-7.4752-4.096-15.9744-6.5536-25.088-6.5536-28.5696 0-51.712 23.1424-51.712 51.712 0 9.1136 2.3552 17.7152 6.5536 25.088 7.4752 4.096 15.9744 6.5536 25.088 6.5536 28.5696 0 51.712-23.1424 51.712-51.712z" fill="#FFFFFF" p-id="1870" /><path d="M512 163.4304c-93.0816 0-180.6336 36.2496-246.4768 102.0928S163.4304 418.9184 163.4304 512s36.2496 180.6336 102.0928 246.4768 153.3952 102.0928 246.4768 102.0928 180.6336-36.2496 246.4768-102.0928 102.0928-153.3952 102.0928-246.4768-36.2496-180.6336-102.0928-246.4768-153.3952-102.0928-246.4768-102.0928zM183.9104 512c0-142.6432 91.5456-264.3968 218.9312-309.4528-42.3936 32.768-69.8368 84.0704-69.8368 141.7216 0 98.6112 80.2816 178.8928 178.8928 178.8928 87.3472 0 158.4128 71.0656 158.4128 158.4128S599.3472 840.0896 512 840.0896c-180.9408 0-328.0896-147.1488-328.0896-328.0896z m414.8224-64.8192l-6.9632 6.9632c-5.12-1.7408-11.3664-5.8368-17.2032-11.6736-10.5472-10.5472-15.36-22.2208-10.9568-26.624 2.2528-2.2528 5.3248-2.9696 9.1136-2.048 3.8912 0.9216 8.0896 3.584 11.6736 7.168s6.2464 7.8848 7.168 11.6736c0.9216 3.7888 0.3072 6.8608-2.048 9.1136-1.6384 1.6384-1.6384 4.1984 0 5.8368 1.6384 1.6384 4.1984 1.6384 5.8368 0 4.3008-4.3008 5.8368-10.3424 4.096-16.896-1.3312-5.3248-4.608-10.8544-9.3184-15.4624-9.0112-9.0112-23.04-14.5408-32.3584-5.12-9.4208 9.4208-1.2288 25.9072 10.9568 38.1952 5.12 5.12 10.9568 9.5232 16.6912 12.1856L550.4 495.616c-10.6496-15.36-15.872-38.2976-16.0768-55.5008-0.1024-3.7888 0.1024-7.0656 0.512-9.9328l23.4496-23.4496c10.6496-10.6496 26.7264-0.2048 33.6896 6.7584 6.9632 7.0656 17.408 23.04 6.7584 33.6896z m-123.904 42.9056c0 2.7648 0.1024 5.5296 0.3072 8.2944-2.2528-0.512-4.5056-1.1264-6.7584-1.7408l6.4512-6.5536z m8.6016 10.0352c-0.7168-7.168-0.6144-13.5168 0-18.6368l22.7328-22.7328c0.4096 12.9024 3.584 28.672 10.5472 44.032-1.536 0-3.072-0.1024-4.7104-0.1024-9.728 0-19.2512-0.8192-28.5696-2.56z m42.5984 3.1744c-10.0352-19.8656-12.4928-40.1408-11.5712-52.736l11.6736-11.6736v1.3312c0.3072 19.5584 6.144 44.4416 18.432 61.2352l-3.584 3.584c-5.0176-0.8192-9.9328-1.3312-14.9504-1.7408z m43.8272-135.8848l-6.9632 6.9632c-5.12-1.7408-11.3664-5.8368-17.2032-11.6736-10.5472-10.5472-15.36-22.2208-10.9568-26.624 5.12-5.12 14.336-1.2288 20.7872 5.12 3.584 3.584 6.2464 7.8848 7.168 11.6736 0.9216 3.7888 0.3072 6.8608-2.048 9.1136-1.6384 1.6384-1.6384 4.1984 0 5.8368 1.6384 1.6384 4.1984 1.6384 5.8368 0 9.3184-9.3184 3.8912-23.3472-5.12-32.3584s-23.04-14.5408-32.3584-5.12c-9.4208 9.4208-1.2288 25.9072 10.9568 38.1952 5.12 5.12 10.9568 9.5232 16.7936 12.1856l-6.3488 6.3488-0.2048 0.2048c-2.2528 1.4336-4.4032 3.072-6.3488 5.12l-22.8352 22.8352c-10.3424-15.36-15.36-37.888-15.5648-54.784-0.1024-3.7888 0.1024-7.0656 0.4096-9.8304l23.4496-23.4496c4.3008-4.3008 9.728-5.5296 16.4864-3.7888 12.0832 3.1744 24.576 15.6672 27.7504 27.7504 1.8432 6.5536 0.6144 11.8784-3.6864 16.2816z m-72.704-8.3968v1.3312c0.3072 19.2512 5.9392 43.7248 17.92 60.6208l-12.3904 12.3904c-14.5408-22.2208-18.3296-47.7184-17.2032-62.5664l11.6736-11.776zM477.184 378.9824c0.1024 4.096 0.6144 8.3968 1.2288 12.9024 1.6384 10.4448 6.144 29.2864 18.3296 47.3088l-27.136 27.136c-10.3424-15.36-15.36-37.888-15.5648-54.784-0.1024-3.7888 0.1024-7.0656 0.4096-9.8304l22.7328-22.7328z m-31.3344 31.3344v1.3312c0.3072 19.2512 5.9392 43.7248 17.92 60.6208l-12.3904 12.3904c-14.5408-22.2208-18.3296-47.7184-17.2032-62.5664l11.6736-11.776z m-20.0704 20.0704c0.1024 4.096 0.6144 8.3968 1.2288 12.9024 1.536 9.728 5.5296 26.8288 15.9744 43.7248-16.0768-7.7824-30.6176-18.2272-43.1104-30.72l25.9072-25.9072z m199.7824 389.4272c39.936-32.8704 65.4336-82.6368 65.4336-138.24 0-80.4864-53.3504-148.6848-126.5664-171.1104l48.8448-48.8448c18.3296-18.3296 10.4448-45.4656-6.8608-62.6688-6.8608-6.8608-15.36-12.288-24.1664-15.1552l2.048-2.048c9.5232-9.5232 12.8-22.4256 9.0112-36.2496-5.12-19.3536-22.9376-37.0688-42.2912-42.2912-13.824-3.6864-26.7264-0.512-36.2496 9.0112L386.4576 440.7296c-20.5824-26.7264-32.8704-60.2112-32.8704-96.4608 0-87.3472 71.0656-158.4128 158.4128-158.4128 2.1504 0 4.1984-0.7168 5.8368-1.8432 178.176 3.1744 322.2528 149.0944 322.2528 327.9872 0 141.0048-89.3952 261.5296-214.528 307.8144z m272.5888-262.144c-2.2528 0-4.096-1.8432-4.096-4.096v-83.1488c0-2.2528 1.8432-4.096 4.096-4.096s4.096 1.8432 4.096 4.096v83.1488c0 2.2528-1.7408 4.096-4.096 4.096z m-772.3008-91.3408c2.2528 0 4.096 1.8432 4.096 4.096v83.1488c0 2.2528-1.8432 4.096-4.096 4.096s-4.096-1.8432-4.096-4.096v-83.1488c0-2.2528 1.8432-4.096 4.096-4.096z m218.0096 64.2048c0-2.7648-0.3072-5.632-0.8192-8.2944 10.5472-8.4992 16.5888-20.5824 16.5888-33.4848 0-24.9856-22.9376-45.3632-51.0976-45.3632-14.2336 0-27.4432 5.12-37.0688 14.0288-5.9392-2.4576-12.3904-3.7888-19.1488-3.7888-24.8832 0-45.1584 18.0224-45.1584 40.2432 0 15.0528 9.1136 28.3648 23.4496 35.328v1.3312c0 27.5456 25.3952 49.9712 56.5248 49.9712s56.7296-22.3232 56.7296-49.9712z m-22.1184-8.9088c1.1264 2.8672 1.7408 5.9392 1.7408 8.9088 0 16.2816-16.1792 29.4912-36.0448 29.4912-19.8656 0-36.0448-13.2096-36.0448-29.4912 0-1.9456 0.2048-3.7888 0.7168-5.7344 1.3312-5.4272-1.9456-10.8544-7.2704-12.288-10.0352-2.7648-16.896-10.24-16.896-18.7392 0-10.8544 11.0592-19.7632 24.6784-19.7632 5.8368 0 11.264 1.6384 15.7696 4.608 4.608 3.072 10.752 1.9456 14.0288-2.56 5.5296-7.5776 15.6672-12.3904 26.4192-12.3904 16.896 0 30.6176 11.1616 30.6176 24.8832 0 8.0896-4.9152 15.6672-13.1072 20.3776-4.608 2.6624-6.4512 7.9872-4.608 12.6976z m203.3664 260.4032c44.7488 0 85.2992-27.8528 95.8464-68.8128 5.632-21.7088 1.9456-44.4416-10.24-63.7952-13.6192-21.7088-36.864-37.376-63.8976-42.9056-22.016-4.5056-44.032-1.8432-63.0784 6.144-12.4928-20.5824-34.2016-35.5328-59.904-40.7552-48.8448-10.0352-97.792 17.8176-109.1584 61.952-5.2224 20.2752-1.8432 41.3696 9.5232 59.392 12.6976 20.2752 34.304 34.816 59.392 39.936 6.656 1.3312 13.4144 2.048 20.1728 2.048 10.9568 0 21.8112-1.7408 32.0512-5.2224 1.2288 2.3552 2.4576 4.608 3.8912 6.8608 13.6192 21.7088 36.864 37.376 63.8976 42.9056 7.168 1.536 14.4384 2.2528 21.504 2.2528z m-137.3184-68.9152c-19.6608-3.9936-36.4544-15.1552-46.08-30.72-8.2944-13.312-10.752-28.672-6.9632-43.52 8.6016-33.6896 46.8992-54.784 85.1968-47.0016 19.6608 3.9936 36.352 15.1552 45.9776 30.5152-8.192 5.632-15.5648 12.4928-21.504 20.2752l-23.2448-9.6256c-0.8192-0.3072-1.2288-0.8192-1.2288-1.1264l-1.3312-27.0336c-0.1024-1.7408-1.2288-3.2768-2.9696-3.7888s-3.4816 0.2048-4.5056 1.6384L394.8544 626.688c-0.3072 0.512-1.3312 1.1264-2.7648 1.1264l-34.7136 1.024c-1.9456 0.1024-3.584 1.4336-3.8912 3.3792-0.3072 1.9456 0.7168 3.7888 2.4576 4.5056l30.72 12.6976c0.8192 0.3072 1.2288 0.8192 1.2288 1.1264l1.3312 27.0336c0.1024 1.7408 1.2288 3.2768 2.9696 3.7888 0.4096 0.1024 0.7168 0.2048 1.1264 0.2048 1.3312 0 2.56-0.6144 3.3792-1.8432l16.2816-23.9616c0.4096-0.512 1.3312-1.1264 2.7648-1.1264l21.4016-0.6144c-3.1744 5.9392-5.7344 12.288-7.4752 18.944-3.1744 12.4928-3.3792 25.2928-0.6144 37.6832-13.2096 4.4032-27.5456 5.3248-41.2672 2.4576z m43.2128-66.9696l-15.5648 0.512c-3.8912 0.1024-7.3728 1.8432-9.3184 4.7104l-9.4208 13.824-0.7168-14.848c-0.2048-3.584-2.56-6.7584-6.3488-8.2944l-13.0048-5.4272 15.5648-0.512c3.8912-0.1024 7.3728-1.8432 9.3184-4.7104l9.4208-13.824 0.7168 14.848c0.2048 3.584 2.56 6.7584 6.3488 8.2944l13.0048 5.4272z m26.0096 79.872c-9.1136-14.6432-11.8784-31.6416-7.68-47.9232 4.7104-18.3296 17.3056-33.1776 33.9968-42.5984 0 0 0.1024 0 0.1024-0.1024 0.6144-0.3072 1.2288-0.6144 1.7408-1.024 11.8784-6.2464 25.6-9.728 39.936-9.728 5.8368 0 11.776 0.6144 17.7152 1.8432 21.504 4.4032 39.936 16.6912 50.5856 33.6896 9.1136 14.6432 11.8784 31.6416 7.68 47.9232-8.192 31.8464-40.2432 53.3504-75.776 53.3504-5.8368 0-11.776-0.6144-17.7152-1.8432-21.504-4.3008-39.936-16.5888-50.5856-33.5872z m80.9984-30.8224l37.6832-1.1264c1.9456-0.1024 3.584-1.4336 3.8912-3.3792s-0.7168-3.7888-2.4576-4.5056l-33.28-13.824c-1.024-0.4096-1.536-1.1264-1.536-1.536l-1.4336-29.3888c-0.1024-1.7408-1.2288-3.2768-2.9696-3.7888s-3.4816 0.2048-4.5056 1.6384l-17.6128 26.0096c-0.4096 0.7168-1.6384 1.3312-3.2768 1.4336l-37.6832 1.1264c-1.9456 0.1024-3.584 1.4336-3.8912 3.3792-0.3072 1.9456 0.7168 3.7888 2.4576 4.5056l33.28 13.824c1.024 0.4096 1.536 1.1264 1.536 1.536l1.4336 29.3888c0.1024 1.7408 1.2288 3.2768 2.9696 3.7888 0.4096 0.1024 0.7168 0.2048 1.1264 0.2048 1.3312 0 2.56-0.6144 3.3792-1.8432l17.6128-26.0096c0.512-0.7168 1.6384-1.4336 3.2768-1.4336z m-10.0352-3.1744l-10.752 15.872-0.8192-17.2032c-0.2048-3.6864-2.7648-7.0656-6.656-8.704l-15.6672-6.4512 18.5344-0.512c4.096-0.1024 7.7824-1.9456 9.8304-5.0176l10.752-15.872 0.8192 17.2032c0.2048 3.6864 2.7648 7.0656 6.656 8.704l15.6672 6.4512-18.5344 0.512c-4.096 0.1024-7.7824 1.9456-9.8304 5.0176z m-14.2336 32.3584z m168.1408-174.08c0 34.5088 28.0576 62.464 62.464 62.464 34.5088 0 62.464-28.0576 62.464-62.464s-28.0576-62.464-62.464-62.464-62.464 27.9552-62.464 62.464z m104.5504 0c0 23.1424-18.8416 41.984-41.984 41.984s-41.984-18.8416-41.984-41.984 18.8416-41.984 41.984-41.984c23.04 0 41.984 18.8416 41.984 41.984z m-94.3104-256.3072c-34.4064 0-62.3616 27.9552-62.3616 62.3616 0 31.9488 24.1664 58.368 55.1936 61.952 6.0416 20.7872 25.2928 36.1472 48.128 36.1472 27.648 0 50.0736-22.4256 50.0736-50.0736 0-19.968-11.6736-37.1712-28.5696-45.2608 0-0.9216 0.1024-1.8432 0.1024-2.7648-0.2048-34.4064-28.16-62.3616-62.5664-62.3616zM650.24 356.352c0-23.1424 18.8416-41.8816 41.8816-41.8816 22.4256 0 40.7552 17.7152 41.8816 39.8336h-1.024c-25.1904 0-46.1824 18.7392-49.5616 43.1104-18.944-4.096-33.1776-20.8896-33.1776-41.0624z m82.7392 77.6192c-16.2816 0-29.5936-13.312-29.5936-29.5936s13.312-29.5936 29.5936-29.5936c16.2816 0 29.5936 13.312 29.5936 29.5936s-13.312 29.5936-29.5936 29.5936z m259.1744 23.9616v108.1344c0 16.384-13.312 29.696-29.696 29.696h-55.808c-39.2192 185.6512-203.776 319.5904-394.5472 319.5904S156.672 781.5168 117.5552 595.7632H61.5424c-16.384 0-29.696-13.312-29.696-29.696V457.9328c0-16.384 13.312-29.696 29.696-29.696h55.9104c39.1168-185.6512 203.776-319.5904 394.5472-319.5904 45.9776 0 91.0336 7.68 133.9392 22.7328 41.472 14.6432 80.1792 35.84 114.8928 63.1808 4.4032 3.4816 5.2224 9.9328 1.7408 14.336-3.4816 4.4032-9.9328 5.2224-14.336 1.7408-67.8912-53.3504-149.6064-81.5104-236.2368-81.5104-183.808 0-342.016 130.8672-376.1152 311.1936-0.9216 5.12-5.5296 8.6016-10.6496 8.2944H61.5424c-5.12 0-9.216 4.096-9.216 9.216v108.1344c0 5.12 4.096 9.216 9.216 9.216h63.7952c5.0176-0.2048 9.5232 3.2768 10.4448 8.2944C169.984 763.904 328.192 894.7712 512 894.7712S854.016 763.904 888.1152 583.5776c0.9216-5.12 5.5296-8.6016 10.6496-8.2944h63.6928c5.12 0 9.216-4.096 9.216-9.216V457.9328c0-5.12-4.096-9.216-9.216-9.216h-63.7952c-5.0176 0.2048-9.5232-3.2768-10.4448-8.2944-13.7216-72.704-48.2304-139.4688-99.6352-193.2288-3.8912-4.096-3.7888-10.5472 0.3072-14.4384s10.5472-3.7888 14.4384 0.3072c52.224 54.4768 87.8592 121.856 103.3216 195.2768h55.808c16.384-0.1024 29.696 13.2096 29.696 29.5936z" p-id="1871" /></symbol><symbol viewBox="0 0 1024 1024"  id="svg-light">\r
    <path d="M565.096296 289.185185s-0.948148 0 0 0c-110.933333-20.859259-208.592593 40.77037-237.985185 148.859259-14.222222 53.096296-24.651852 101.451852 44.562963 221.866667 14.222222 25.6 11.377778 70.162963 8.533333 95.762963-1.896296 14.222222 64.474074 36.02963 89.125926 42.666667l95.762963-509.155556z" fill="#FDB813" />\r
    <path d="M732.918519 513.896296c11.377778-111.881481-56.888889-203.851852-166.874075-224.711111h-0.948148L469.333333 798.340741c25.6 2.844444 94.814815 6.637037 98.607408-7.585185 6.637037-25.6 20.859259-67.318519 42.666666-86.281482C719.644444 618.192593 727.22963 568.888889 732.918519 513.896296z" fill="#FD9B13" />\r
    <path d="M467.437037 806.874074c-7.585185-0.948148-12.325926-7.585185-14.222222-14.222222l-38.874074-256c-0.948148-5.688889 0.948148-11.377778 4.74074-15.170371 3.792593-3.792593 9.481481-5.688889 15.170371-4.74074l167.822222 31.288889c5.688889 0.948148 10.42963 4.740741 12.325926 9.481481 1.896296 4.740741 1.896296 11.377778-0.948148 16.118519L486.4 798.340741c-3.792593 6.637037-11.377778 10.42963-18.962963 8.533333z m-14.222222-251.259259l27.496296 182.992592L572.681481 578.37037l-119.466666-22.755555z" fill="#F12A3F" />\r
    <path d="M375.466667 709.214815l-25.6 137.481481c0 2.844444 1.896296 5.688889 7.585185 10.42963l65.422222 54.992593c5.688889 4.740741 15.17037 8.533333 23.703704 10.429629l36.029629-193.422222-107.14074-19.911111z" fill="#2D4375" />\r
    <path d="M482.607407 729.125926l-36.029629 193.422222c9.481481 1.896296 18.014815 1.896296 25.6-0.948148l80.592592-27.496296c6.637037-1.896296 10.42963-4.740741 11.377778-6.637037L589.748148 749.037037l-107.140741-19.911111z" fill="#1E2D4F" />\r
    <path d="M612.503704 217.125926c-3.792593 18.014815-20.859259 29.392593-38.874074 26.548148-18.014815-3.792593-30.340741-20.859259-26.548149-38.874074l18.962963-100.503704c3.792593-18.014815 20.859259-29.392593 38.874075-26.548148 18.014815 3.792593 30.340741 20.859259 26.548148 38.874074l-18.962963 100.503704z" fill="#FDB813" />\r
    <path d="M382.103704 228.503704c10.42963 15.17037 6.637037 36.02963-8.533334 46.459259-15.17037 10.42963-36.02963 6.637037-46.459259-8.533333l-57.837037-84.385186c-10.42963-15.17037-6.637037-36.02963 8.533333-46.459259 15.17037-10.42963 36.02963-6.637037 46.45926 8.533334l57.837037 84.385185zM757.57037 298.666667c-15.17037 10.42963-18.962963 31.288889-8.533333 46.459259 10.42963 15.17037 31.288889 18.962963 46.459259 8.533333l84.385185-57.837037c15.17037-10.42963 18.962963-31.288889 8.533334-46.459259-10.42963-15.17037-31.288889-18.962963-46.459259-8.533333l-84.385186 57.837037z" fill="#FDB813" />\r
    <path d="M252.207407 361.244444c18.014815 3.792593 30.340741 20.859259 26.548149 38.874075-3.792593 18.014815-20.859259 29.392593-38.874075 26.548148l-100.503703-18.962963c-18.014815-3.792593-30.340741-20.859259-26.548148-38.874074 3.792593-18.014815 20.859259-29.392593 38.874074-26.548149l100.503703 18.962963zM931.081481 488.296296c18.014815 3.792593 30.340741 20.859259 26.548149 38.874074-3.792593 18.014815-20.859259 29.392593-38.874074 26.548149l-100.503704-18.962963c-18.014815-3.792593-30.340741-20.859259-26.548148-38.874075 3.792593-18.014815 20.859259-29.392593 38.874074-26.548148l100.503703 18.962963z" fill="#FDB813" />\r
    <path d="M593.540741 807.822222c1.896296-7.585185-3.792593-15.17037-11.377778-16.118518l-107.140741-19.911111-4.740741 27.496296 107.140741 19.911111c6.637037 0.948148 14.222222-3.792593 16.118519-11.377778z" fill="#CEEFF6" />\r
    <path d="M366.933333 750.933333c-7.585185-1.896296-15.17037 3.792593-16.118518 11.377778-1.896296 7.585185 3.792593 15.17037 11.377778 16.118519l107.14074 19.911111 4.740741-27.496297-107.140741-19.911111zM356.503704 808.77037c-7.585185-1.896296-15.17037 3.792593-16.118519 11.377778-1.896296 7.585185 3.792593 15.17037 11.377778 16.118519l107.140741 19.911111 4.74074-27.496297-107.14074-19.911111z" fill="#FFFFFF" />\r
    <path d="M570.785185 848.592593l-107.140741-19.911112-4.74074 27.496297 107.14074 19.911111c7.585185 1.896296 15.17037-3.792593 16.118519-11.377778 1.896296-7.585185-2.844444-15.17037-11.377778-16.118518z" fill="#CEEFF6" />\r
</symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-now-time"><path d="M583.68 157.696v-28.672c0-12.288 8.192-20.48 20.48-20.48s20.48 8.192 20.48 20.48v28.672h163.84c57.344 0 102.4 45.056 102.4 102.4v73.728c0 12.288-8.192 20.48-20.48 20.48s-20.48-8.192-20.48-20.48v-73.728c0-34.816-26.624-61.44-61.44-61.44h-163.84v36.864c0 12.288-8.192 20.48-20.48 20.48s-20.48-8.192-20.48-20.48v-36.864h-266.24v36.864c0 12.288-8.192 20.48-20.48 20.48s-20.48-8.192-20.48-20.48v-36.864h-143.36c-34.816 0-61.44 26.624-61.44 61.44v118.784h399.36c12.288 0 20.48 8.192 20.48 20.48s-8.192 20.48-20.48 20.48H71.68v393.216c0 34.816 26.624 61.44 61.44 61.44h337.92c12.288 0 20.48 8.192 20.48 20.48s-8.192 20.48-20.48 20.48H133.12c-57.344 0-102.4-45.056-102.4-102.4v-552.96c0-57.344 45.056-102.4 102.4-102.4h143.36v-28.672c0-12.288 8.192-20.48 20.48-20.48s20.48 8.192 20.48 20.48v28.672h266.24z m374.784 626.688c-6.144 10.24-18.432 14.336-28.672 8.192-10.24-6.144-14.336-18.432-8.192-28.672 63.488-114.688 22.528-258.048-92.16-319.488-114.688-63.488-258.048-22.528-319.488 92.16s-22.528 258.048 92.16 319.488c81.92 45.056 182.272 36.864 256-18.432 8.192-6.144 22.528-4.096 28.672 4.096 6.144 8.192 4.096 22.528-4.096 28.672-86.016 65.536-204.8 73.728-301.056 20.48-133.12-73.728-182.272-241.664-108.544-376.832s241.664-182.272 376.832-108.544c135.168 77.824 182.272 245.76 108.544 378.88z m-231.424-319.488v184.32l167.936 36.864c10.24 2.048 18.432 14.336 16.384 24.576s-14.336 18.432-24.576 16.384l-200.704-45.056v-217.088c0-12.288 8.192-20.48 20.48-20.48s20.48 8.192 20.48 20.48z m-518.144 94.208c34.816-8.192 61.44-24.576 79.872-49.152h24.576V768h-43.008v-196.608c-14.336 10.24-34.816 18.432-61.44 22.528v-34.816z" fill="#32373B" p-id="1596" data-spm-anchor-id="a313x.manage_type_myprojects.0.i0.1adc3a81DQz5PY" class="selected" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-pie-charts"><path d="M512 819.2a307.2 307.2 0 0 1 0-614.4h20.48v298.5984l211.3536 211.3536-14.7456 14.336a304.3328 304.3328 0 0 1-217.088 90.112zM491.52 245.76a266.24 266.24 0 1 0 193.7408 467.7632L491.52 520.6016z" fill="#1296db" p-id="10301" data-spm-anchor-id="a313x.search_index.0.i4.235d3a811lrcUt" class="" /><path d="M778.24 682.3936l-204.8-202.752V163.84l23.3472 3.2768a307.2 307.2 0 0 1 194.1504 498.0736z m-163.84-219.9552l158.5152 158.5152A265.8304 265.8304 0 0 0 614.4 212.1728z" fill="#5ad562" p-id="10302" data-spm-anchor-id="a313x.search_index.0.i7.235d3a811lrcUt" class="" /><path d="M292.49536 702.2592l204.8-204.8 28.91776 28.99968-204.75904 204.8z" fill="#1296db" p-id="10303" data-spm-anchor-id="a313x.search_index.0.i5.235d3a811lrcUt" class="" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-progress-a"><path d="M324.266667 599.466667c-6.4-4.266667-12.8-8.533333-14.933334-17.066667s-6.4-17.066667-6.4-27.733333h32c0 6.4 2.133333 10.666667 4.266667 14.933333s6.4 4.266667 10.666667 4.266667 8.533333-2.133333 10.666666-4.266667 4.266667-6.4 4.266667-12.8v-27.733333c0-4.266667-2.133333-8.533333-4.266667-10.666667s-4.266667-6.4-8.533333-6.4-6.4 0-8.533333 2.133333-4.266667 4.266667-4.266667 8.533334h-32v-102.4h87.466667v32h-55.466667v34.133333c2.133333-2.133333 6.4-4.266667 8.533333-6.4s8.533333-2.133333 10.666667-2.133333c8.533333 0 14.933333 2.133333 19.2 6.4s10.666667 8.533333 12.8 17.066666c2.133333 6.4 4.266667 14.933333 4.266667 25.6V554.666667c0 10.666667-2.133333 19.2-6.4 25.6-4.266667 6.4-8.533333 12.8-17.066667 17.066666s-14.933333 6.4-25.6 6.4c-6.4 2.133333-14.933333 0-21.333333-4.266666zM437.333333 593.066667c-8.533333-8.533333-12.8-19.2-12.8-34.133334V469.333333c0-14.933333 4.266667-27.733333 12.8-34.133333s19.2-12.8 36.266667-12.8 27.733333 4.266667 36.266667 12.8 12.8 19.2 12.8 34.133333v89.6c0 14.933333-4.266667 27.733333-12.8 36.266667s-19.2 12.8-36.266667 12.8c-17.066667-2.133333-27.733333-6.4-36.266667-14.933333z m46.933334-25.6c2.133333-4.266667 4.266667-8.533333 4.266666-14.933334v-81.066666c0-6.4-2.133333-10.666667-4.266666-14.933334s-6.4-4.266667-10.666667-4.266666-8.533333 2.133333-12.8 4.266666-4.266667 8.533333-4.266667 14.933334v81.066666c0 6.4 2.133333 10.666667 4.266667 14.933334s6.4 4.266667 10.666667 4.266666 10.666667 0 12.8-4.266666zM554.666667 490.666667c-4.266667-6.4-8.533333-12.8-8.533334-23.466667v-14.933333c0-10.666667 2.133333-17.066667 8.533334-23.466667s12.8-8.533333 21.333333-8.533333 17.066667 2.133333 21.333333 8.533333 8.533333 12.8 8.533334 23.466667v14.933333c0 10.666667-2.133333 17.066667-8.533334 23.466667s-12.8 8.533333-21.333333 8.533333-17.066667-2.133333-21.333333-8.533333z m32-10.666667c2.133333-2.133333 4.266667-6.4 4.266666-12.8V448c0-4.266667-2.133333-8.533333-4.266666-10.666667s-6.4-4.266667-10.666667-4.266666-8.533333 2.133333-10.666667 4.266666-4.266667 6.4-4.266666 10.666667v21.333333c0 4.266667 2.133333 8.533333 4.266666 12.8s6.4 4.266667 10.666667 4.266667 8.533333-4.266667 10.666667-6.4z m74.666666-59.733333h17.066667l-98.133333 181.333333h-17.066667l98.133333-181.333333z m-17.066666 177.066666c-4.266667-6.4-8.533333-12.8-8.533334-23.466666v-14.933334c0-10.666667 2.133333-17.066667 8.533334-23.466666s12.8-8.533333 21.333333-8.533334 17.066667 2.133333 21.333333 8.533334 8.533333 12.8 8.533334 23.466666v14.933334c0 10.666667-2.133333 17.066667-8.533334 23.466666s-12.8 8.533333-21.333333 8.533334-14.933333-4.266667-21.333333-8.533334z m34.133333-10.666666c2.133333-2.133333 4.266667-6.4 4.266667-12.8V554.666667c0-4.266667-2.133333-8.533333-4.266667-10.666667s-6.4-4.266667-10.666667-4.266667-8.533333 2.133333-10.666666 4.266667-4.266667 6.4-4.266667 10.666667v19.2c0 4.266667 2.133333 8.533333 4.266667 12.8s6.4 4.266667 10.666666 4.266666 8.533333-2.133333 10.666667-4.266666z" fill="#B0B0B0" p-id="1705" /><path d="M512 85.333333C277.333333 85.333333 85.333333 277.333333 85.333333 512s192 426.666667 426.666667 426.666667 426.666667-192 426.666667-426.666667S746.666667 85.333333 512 85.333333z m0 768c-187.733333 0-341.333333-153.6-341.333333-341.333333S324.266667 170.666667 512 170.666667s341.333333 153.6 341.333333 341.333333-153.6 341.333333-341.333333 341.333333z" fill="#5CB87A" opacity=".6" p-id="1706" /><path d="M853.333333 512c0 187.733333-153.6 341.333333-341.333333 341.333333v85.333334c234.666667 0 426.666667-192 426.666667-426.666667S746.666667 85.333333 512 85.333333v85.333334c187.733333 0 341.333333 153.6 341.333333 341.333333z" fill="#F5F7FA" p-id="1707" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-svg-text"><path d="M662.186667 853.333333H362.666667a21.333333 21.333333 0 0 1 0-42.666666c35.285333 0 64-28.714667 64-64V341.333333H277.333333C242.048 341.333333 213.333333 370.048 213.333333 405.333333a21.333333 21.333333 0 0 1-42.666666 0v-213.333333a21.333333 21.333333 0 0 1 21.333333-21.333333h640a21.333333 21.333333 0 0 1 21.333333 21.333333v213.333333a21.333333 21.333333 0 0 1-42.666666 0c0-35.285333-28.714667-64-64-64H597.333333v405.333334c0 35.285333 28.714667 64 64 64h0.853334a21.333333 21.333333 0 0 1 0 42.666666z m-214.229334-42.666666h128.085334A106.197333 106.197333 0 0 1 554.666667 746.666667v-426.666667a21.333333 21.333333 0 0 1 21.333333-21.333333h170.666667c24.021333 0 46.165333 7.978667 64 21.376V213.333333H213.333333v106.709334A106.282667 106.282667 0 0 1 277.333333 298.666667h170.666667a21.333333 21.333333 0 0 1 21.333333 21.333333v426.666667c0 24.021333-7.978667 46.165333-21.376 64zM320 85.333333h-85.333333a21.333333 21.333333 0 0 1 0-42.666666h85.333333a21.333333 21.333333 0 0 1 0 42.666666zM554.666667 85.333333h-85.333334a21.333333 21.333333 0 0 1 0-42.666666h85.333334a21.333333 21.333333 0 0 1 0 42.666666zM789.333333 85.333333h-85.333333a21.333333 21.333333 0 0 1 0-42.666666h85.333333a21.333333 21.333333 0 0 1 0 42.666666zM320 981.333333h-85.333333a21.333333 21.333333 0 0 1 0-42.666666h85.333333a21.333333 21.333333 0 0 1 0 42.666666zM554.666667 981.333333h-85.333334a21.333333 21.333333 0 0 1 0-42.666666h85.333334a21.333333 21.333333 0 0 1 0 42.666666zM789.333333 981.333333h-85.333333a21.333333 21.333333 0 0 1 0-42.666666h85.333333a21.333333 21.333333 0 0 1 0 42.666666zM64 810.666667a21.333333 21.333333 0 0 1-21.333333-21.333334v-85.333333a21.333333 21.333333 0 0 1 42.666666 0v85.333333a21.333333 21.333333 0 0 1-21.333333 21.333334zM64 576A21.333333 21.333333 0 0 1 42.666667 554.666667v-85.333334a21.333333 21.333333 0 0 1 42.666666 0v85.333334a21.333333 21.333333 0 0 1-21.333333 21.333333zM64 341.333333a21.333333 21.333333 0 0 1-21.333333-21.333333v-85.333333a21.333333 21.333333 0 0 1 42.666666 0v85.333333a21.333333 21.333333 0 0 1-21.333333 21.333333zM960 810.666667a21.333333 21.333333 0 0 1-21.333333-21.333334v-85.333333a21.333333 21.333333 0 0 1 42.666666 0v85.333333a21.333333 21.333333 0 0 1-21.333333 21.333334zM960 576a21.333333 21.333333 0 0 1-21.333333-21.333333v-85.333334a21.333333 21.333333 0 0 1 42.666666 0v85.333334a21.333333 21.333333 0 0 1-21.333333 21.333333zM960 341.333333a21.333333 21.333333 0 0 1-21.333333-21.333333v-85.333333a21.333333 21.333333 0 0 1 42.666666 0v85.333333a21.333333 21.333333 0 0 1-21.333333 21.333333zM1002.666667 128h-85.333334a21.333333 21.333333 0 0 1-21.333333-21.333333v-85.333334a21.333333 21.333333 0 0 1 21.333333-21.333333h85.333334a21.333333 21.333333 0 0 1 21.333333 21.333333v85.333334a21.333333 21.333333 0 0 1-21.333333 21.333333zM938.666667 85.333333h42.666666V42.666667h-42.666666v42.666666zM106.666667 128h-85.333334a21.333333 21.333333 0 0 1-21.333333-21.333333v-85.333334A21.333333 21.333333 0 0 1 21.333333 0h85.333334a21.333333 21.333333 0 0 1 21.333333 21.333333v85.333334a21.333333 21.333333 0 0 1-21.333333 21.333333zM42.666667 85.333333h42.666666V42.666667H42.666667v42.666666zM1002.666667 1024h-85.333334a21.333333 21.333333 0 0 1-21.333333-21.333333v-85.333334a21.333333 21.333333 0 0 1 21.333333-21.333333h85.333334a21.333333 21.333333 0 0 1 21.333333 21.333333v85.333334a21.333333 21.333333 0 0 1-21.333333 21.333333zM938.666667 981.333333h42.666666v-42.666666h-42.666666v42.666666zM106.666667 1024h-85.333334a21.333333 21.333333 0 0 1-21.333333-21.333333v-85.333334a21.333333 21.333333 0 0 1 21.333333-21.333333h85.333334a21.333333 21.333333 0 0 1 21.333333 21.333333v85.333334a21.333333 21.333333 0 0 1-21.333333 21.333333zM42.666667 981.333333h42.666666v-42.666666H42.666667v42.666666z" p-id="2035" data-spm-anchor-id="a313x.manage_type_myprojects.0.i1.1adc3a817YTpYl" class="selected" fill="#aaa" /></symbol><symbol class="icon" viewBox="0 0 1027 1024"   id="svg-switch-on">\r
    <path d="M747.52 238.933333    H276.48    C122.88 238.933333 0 361.813333 0 512    s122.88 273.066667 276.48 273.066667    H750.933333    c150.186667 0 276.48-122.88 276.48-273.066667    s-126.293333-273.066667-279.893333-273.066667z" fill="white" fill-opacity=".01" p-id="1537" data-spm-anchor-id="a313x.manage_type_myprojects.0.i0.1adc3a81uCnBP5" />\r
    <path d="M747.52 238.933333    H276.48    C122.88 238.933333 0 361.813333 0 512    s122.88 273.066667 276.48 273.066667    H750.933333    c150.186667 0 276.48-122.88 276.48-273.066667    s-126.293333-273.066667-279.893333-273.066667z    m0 512    H276.48    C143.36 750.933333 34.133333 645.12 34.133333 512s109.226667-238.933333 242.346667-238.933333    H750.933333c133.12 0 242.346667 105.813333 242.346667 238.933333s-112.64 238.933333-245.76 238.933333z" fill="#2c2c2c" p-id="1531" data-spm-anchor-id="a313x.manage_type_myprojects.0.i0.1adc3a81uCnBP5" />\r
    <path d="M238.933333 409.6c-37.546667 0-68.266667 27.306667-68.266666 61.44v85.333333c0 34.133333 30.72 61.44 68.266666 61.44s68.266667-27.306667 68.266667-61.44v-85.333333c0-34.133333-30.72-61.44-68.266667-61.44z m34.133334 146.773333c0 13.653333-17.066667 23.893333-34.133334 23.893334s-34.133333-10.24-34.133333-27.306667v-85.333333c0-13.653333 17.066667-23.893333 34.133333-23.893334s34.133333 10.24 34.133334 27.306667v85.333333zM460.8 409.6c-10.24 0-17.066667 6.826667-17.066667 17.066667v109.226666l-71.68-119.466666c-3.413333-6.826667-10.24-10.24-20.48-6.826667-6.826667 3.413333-13.653333 10.24-13.653333 17.066667v170.666666c0 10.24 6.826667 17.066667 17.066667 17.066667s17.066667-6.826667 17.066666-17.066667v-109.226666l71.68 119.466666c3.413333 6.826667 10.24 6.826667 13.653334 6.826667h3.413333c6.826667-3.413333 13.653333-10.24 13.653333-17.066667v-170.666666c3.413333-10.24-3.413333-17.066667-13.653333-17.066667zM750.933333 341.333333c-95.573333 0-170.666667 75.093333-170.666666 170.666667s75.093333 170.666667 170.666666 170.666667 170.666667-75.093333 170.666667-170.666667-75.093333-170.666667-170.666667-170.666667z" fill="#5ad562" p-id="1530" data-spm-anchor-id="a313x.manage_type_myprojects.0.i1.1adc3a81uCnBP5" />\r
</symbol><symbol class="icon" viewBox="0 0 1027 1024"   id="svg-switch-r">\r
    <path d="M747.52 238.933333    H276.48    C122.88 238.933333 0 361.813333 0 512    s122.88 273.066667 276.48 273.066667    H750.933333    c150.186667 0 276.48-122.88 276.48-273.066667    s-126.293333-273.066667-279.893333-273.066667z" fill="white" fill-opacity=".01" p-id="1537" data-spm-anchor-id="a313x.manage_type_myprojects.0.i0.1adc3a81uCnBP5" />\r
    <path d="M747.52 238.933333    H276.48    C122.88 238.933333 0 361.813333 0 512    s122.88 273.066667 276.48 273.066667    H750.933333    c150.186667 0 276.48-122.88 276.48-273.066667    s-126.293333-273.066667-279.893333-273.066667z    m0 512    H276.48    C143.36 750.933333 34.133333 645.12 34.133333 512s109.226667-238.933333 242.346667-238.933333    H750.933333c133.12 0 242.346667 105.813333 242.346667 238.933333s-112.64 238.933333-245.76 238.933333z" fill="#2c2c2c" p-id="1531" data-spm-anchor-id="a313x.manage_type_myprojects.0.i0.1adc3a81uCnBP5" />\r
    <path d="M273.066667 341.333333c-95.573333 0-170.666667 75.093333-170.666667 170.666667s75.093333 170.666667 170.666667 170.666667 170.666667-75.093333 170.666666-170.666667-75.093333-170.666667-170.666666-170.666667z" fill="#bfbfbf" p-id="1530" data-spm-anchor-id="a313x.manage_type_myprojects.0.i0.1adc3a81KYNNkt" />\r
    <path d="M580.266667 409.6c-37.546667 0-68.266667 27.306667-68.266667 61.44v85.333333c0 34.133333 30.72 61.44 68.266667 61.44s68.266667-27.306667 68.266666-61.44v-85.333333c0-34.133333-30.72-61.44-68.266666-61.44z m34.133333 146.773333c0 13.653333-17.066667 27.306667-34.133333 27.306667s-34.133333-10.24-34.133334-27.306667v-85.333333c0-13.653333 17.066667-27.306667 34.133334-27.306667s34.133333 10.24 34.133333 27.306667v85.333333zM904.533333 409.6h-68.266666c-10.24 0-17.066667 6.826667-17.066667 17.066667v170.666666c0 10.24 6.826667 17.066667 17.066667 17.066667s17.066667-6.826667 17.066666-17.066667V512h17.066667c10.24 0 17.066667-6.826667 17.066667-17.066667s-6.826667-17.066667-17.066667-17.066666H853.333333v-34.133334h51.2c10.24 0 17.066667-6.826667 17.066667-17.066666s-6.826667-17.066667-17.066667-17.066667zM768 409.6h-68.266667c-10.24 0-17.066667 6.826667-17.066666 17.066667v170.666666c0 10.24 6.826667 17.066667 17.066666 17.066667s17.066667-6.826667 17.066667-17.066667V512h17.066667c10.24 0 17.066667-6.826667 17.066666-17.066667s-6.826667-17.066667-17.066666-17.066666H716.8v-34.133334h51.2c10.24 0 17.066667-6.826667 17.066667-17.066666s-6.826667-17.066667-17.066667-17.066667z" fill="#707070" p-id="1532" data-spm-anchor-id="a313x.manage_type_myprojects.0.i2.1adc3a81KYNNkt" />\r
</symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-thermometer">\r
    <path d="M616.96 672V176.64a85.76 85.76 0 0 0-171.52 0v495.36c-29.44 24.32-48.64 61.44-48.64 103.68 0 74.24 60.16 134.4 134.4 134.4S665.6 849.92 665.6 775.68c0-42.24-19.2-79.36-48.64-103.68z" fill="#F7E6A3" p-id="1566"></path>\r
    <path d="M531.2 922.88c-80.64 0-147.2-66.56-147.2-147.2 0-42.24 17.92-81.92 48.64-110.08V176.64c0-53.76 43.52-98.56 98.56-98.56s98.56 43.52 98.56 98.56V665.6c30.72 28.16 48.64 67.84 48.64 110.08 0 80.64-66.56 147.2-147.2 147.2z m0-819.2c-39.68 0-72.96 33.28-72.96 72.96v495.36c0 3.84-1.28 7.68-5.12 10.24-28.16 23.04-44.8 57.6-44.8 93.44 0 66.56 55.04 121.6 121.6 121.6s121.6-55.04 121.6-121.6c0-35.84-16.64-70.4-44.8-93.44-2.56-2.56-5.12-6.4-5.12-10.24V176.64c2.56-39.68-30.72-72.96-70.4-72.96z" fill="#231C1C" p-id="1567"></path>\r
    <path d="M494 711.68 c-21.76 12.8-37.12 35.84-37.12 64 0 40.96 33.28 72.96 72.96 72.96 40.96 0 72.96-33.28 72.96-72.96 1.28-26.88-12.8-51.2-34.56-64" fill="#E24F32" p-id="1568"></path>\r
    <path d="M568.32 830 V530 c0-20.48-16.64-37.12-37.12-37.12-20.48 0-37.12 16.64-37.12 37.12 v300" fill="#E24F32" p-id="1599">\r
        <animateTransform attributeName="transform" attributeType="XML" type="translate" from="0 0" to="0 -300" dur="5" repeatCount="indefinite" />\r
    </path>\r
    <path d="M568.32 830 V530 c0-20.48-16.64-37.12-37.12-37.12-20.48 0-37.12 16.64-37.12 37.12 v300" fill="#E24F32" p-id="1588"></path>\r
    <path d="M531.2 188.16h85.76v25h-85.76z" fill="#231C1C" p-id="1595"></path>\r
    <path d="M531.2 359.68h85.76v25h-85.76zM555.52 273.92h61.44v25h-61.44z" fill="#231C1C" p-id="1570"></path>\r
    <path d="M555.52 445.44h61.44v25h-61.44z" fill="#231C1C" p-id="1571"></path>\r
    <path d="M531.2 529.92h85.76v25h-85.76z" fill="#231C1C" p-id="1572"></path>\r
</symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-thermometer2">\r
    <path d="M616.96 672V176.64a85.76 85.76 0 0 0-171.52 0v495.36c-29.44 24.32-48.64 61.44-48.64 103.68 0 74.24 60.16 134.4 134.4 134.4S665.6 849.92 665.6 775.68c0-42.24-19.2-79.36-48.64-103.68z" fill="#F7E6A3" p-id="1566" />\r
    <path d="M531.2 922.88c-80.64 0-147.2-66.56-147.2-147.2 0-42.24 17.92-81.92 48.64-110.08V176.64c0-53.76 43.52-98.56 98.56-98.56s98.56 43.52 98.56 98.56V665.6c30.72 28.16 48.64 67.84 48.64 110.08 0 80.64-66.56 147.2-147.2 147.2z m0-819.2c-39.68 0-72.96 33.28-72.96 72.96v495.36c0 3.84-1.28 7.68-5.12 10.24-28.16 23.04-44.8 57.6-44.8 93.44 0 66.56 55.04 121.6 121.6 121.6s121.6-55.04 121.6-121.6c0-35.84-16.64-70.4-44.8-93.44-2.56-2.56-5.12-6.4-5.12-10.24V176.64c2.56-39.68-30.72-72.96-70.4-72.96z" fill="#231C1C" p-id="1567" />\r
    <path d="M568.32 711.68V408.32c0-20.48-16.64-37.12-37.12-37.12-20.48 0-37.12 16.64-37.12 37.12v303.36c-21.76 12.8-37.12 35.84-37.12 64 0 40.96 33.28 72.96 72.96 72.96 40.96 0 72.96-33.28 72.96-72.96 1.28-26.88-12.8-51.2-34.56-64z" fill="#E24F32" p-id="1568" />\r
    <path d="M531.2 861.44c-47.36 0-85.76-38.4-85.76-85.76 0-28.16 14.08-55.04 37.12-70.4V408.32c0-26.88 21.76-49.92 49.92-49.92 26.88 0 49.92 21.76 49.92 49.92v296.96c23.04 16.64 37.12 42.24 37.12 70.4-2.56 47.36-40.96 85.76-88.32 85.76z m0-476.16c-12.8 0-24.32 10.24-24.32 24.32v303.36c0 5.12-2.56 8.96-6.4 11.52-19.2 10.24-30.72 30.72-30.72 52.48 0 33.28 26.88 60.16 60.16 60.16s60.16-26.88 60.16-60.16c0-21.76-11.52-40.96-30.72-52.48-3.84-2.56-6.4-6.4-6.4-11.52V408.32c2.56-12.8-8.96-23.04-21.76-23.04zM531.2 188.16h85.76v25.6h-85.76z" fill="#231C1C" p-id="1569" />\r
    <path d="M531.2 359.68h85.76v25.6h-85.76zM555.52 273.92h61.44v25.6h-61.44z" fill="#231C1C" p-id="1570" />\r
    <path d="M555.52 445.44h61.44v25.6h-61.44z" fill="#231C1C" p-id="1571" />\r
    <path d="M531.2 529.92h85.76v25.6h-85.76z" fill="#231C1C" p-id="1572" />\r
</symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-add"><path class="icon-out" d="M512 128c211.2 0 384 172.8 384 384s-172.8 384-384 384-384-172.8-384-384 172.8-384 384-384m0-64C262.4 64 64 262.4 64 512s198.4 448 448 448 448-198.4 448-448-198.4-448-448-448z" p-id="12133" /><path class="icon-in" d="M320 512m-32 0a32 32 0 1 0 64 0 32 32 0 1 0-64 0Z" p-id="12134" /><path class="icon-in" d="M704 512m-32 0a32 32 0 1 0 64 0 32 32 0 1 0-64 0Z" p-id="12135" /><path class="icon-in" d="M512 320m-32 0a32 32 0 1 0 64 0 32 32 0 1 0-64 0Z" p-id="12136" /><path class="icon-in" d="M512 704m-32 0a32 32 0 1 0 64 0 32 32 0 1 0-64 0Z" p-id="12137" /><path class="icon-in" d="M320 480h384v64H320z" p-id="12138" /><path class="icon-in" d="M480 320h64v384h-64z" p-id="12139" /></symbol><symbol class="icon gray" viewBox="0 0 1024 1024"   id="svg-delete-gray"><path d="M512.8 927.65c-82.97 0-165.93-5.84-248.32-17.53l-0.2-0.03c-23.32-3.49-46.81-15.1-66.15-32.69-19.79-18.01-32.92-40.21-36.97-62.52l-0.04-0.24c-14.73-85.45-21.15-172.11-19.09-257.59 2.06-85.46 12.66-172.1 31.5-257.51l53.71 11.85c-36.14 163.83-40.16 329.97-11.95 493.77 4.1 22.19 31.75 46.69 57.02 50.52a1712.285 1712.285 0 0 0 480.98 0c25.27-3.83 52.92-28.34 57.01-50.53 28.21-163.8 24.19-329.93-11.95-493.77l53.71-11.85c18.84 85.42 29.44 172.06 31.5 257.51 2.06 85.47-4.36 172.14-19.09 257.59l-0.04 0.24c-4.05 22.3-17.18 44.51-36.97 62.52-19.34 17.6-42.83 29.21-66.15 32.69l-0.2 0.03a1765.711 1765.711 0 0 1-248.31 17.54z" class="icon-out" p-id="3027" /><path d="M921.38 332.96H102.66c-14.16 0-25.64-11.48-25.64-25.64v-3.73c0-14.16 11.48-25.64 25.64-25.64h818.73c14.16 0 25.64 11.48 25.64 25.64v3.73c-0.01 14.16-11.49 25.64-25.65 25.64z" class="icon-out" p-id="3028" /><path d="M367.21 805.77h-2.56c-14.48 0-26.22-11.74-26.22-26.22V431.99c0-14.48 11.74-26.22 26.22-26.22h2.56c14.48 0 26.22 11.74 26.22 26.22v347.56c0 14.49-11.74 26.22-26.22 26.22zM661.4 805.77h-2.56c-14.48 0-26.22-11.74-26.22-26.22V431.99c0-14.48 11.74-26.22 26.22-26.22h2.56c14.48 0 26.22 11.74 26.22 26.22v347.56c0 14.49-11.74 26.22-26.22 26.22z" class="icon-in" p-id="3029" /><path d="M786.11 322.05l-48.07-26.73c24.95-44.87 28.29-88.34 10.14-132.77-5.56-3.25-21.61-9.19-42.32-10.42-129.2-7.27-260.31-7.27-389.6 0-20.65 1.22-36.68 7.16-42.24 10.42-18.15 44.43-14.82 87.9 10.14 132.77l-48.07 26.73c-34.04-61.21-37.74-123.49-10.97-185.09l0.21-0.48c15.56-34.01 80.41-38.81 87.75-39.25 131.42-7.39 264.61-7.39 395.94 0 7.42 0.44 72.26 5.24 87.83 39.25l0.22 0.48c26.77 61.6 23.09 123.88-10.96 185.09z m-36.39-158.46z m-477.24 0z" class="icon-out" p-id="3030" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-delete"><path d="M512.8 927.65c-82.97 0-165.93-5.84-248.32-17.53l-0.2-0.03c-23.32-3.49-46.81-15.1-66.15-32.69-19.79-18.01-32.92-40.21-36.97-62.52l-0.04-0.24c-14.73-85.45-21.15-172.11-19.09-257.59 2.06-85.46 12.66-172.1 31.5-257.51l53.71 11.85c-36.14 163.83-40.16 329.97-11.95 493.77 4.1 22.19 31.75 46.69 57.02 50.52a1712.285 1712.285 0 0 0 480.98 0c25.27-3.83 52.92-28.34 57.01-50.53 28.21-163.8 24.19-329.93-11.95-493.77l53.71-11.85c18.84 85.42 29.44 172.06 31.5 257.51 2.06 85.47-4.36 172.14-19.09 257.59l-0.04 0.24c-4.05 22.3-17.18 44.51-36.97 62.52-19.34 17.6-42.83 29.21-66.15 32.69l-0.2 0.03a1765.711 1765.711 0 0 1-248.31 17.54z" class="icon-out" p-id="3027" /><path d="M921.38 332.96H102.66c-14.16 0-25.64-11.48-25.64-25.64v-3.73c0-14.16 11.48-25.64 25.64-25.64h818.73c14.16 0 25.64 11.48 25.64 25.64v3.73c-0.01 14.16-11.49 25.64-25.65 25.64z" class="icon-out" p-id="3028" /><path d="M367.21 805.77h-2.56c-14.48 0-26.22-11.74-26.22-26.22V431.99c0-14.48 11.74-26.22 26.22-26.22h2.56c14.48 0 26.22 11.74 26.22 26.22v347.56c0 14.49-11.74 26.22-26.22 26.22zM661.4 805.77h-2.56c-14.48 0-26.22-11.74-26.22-26.22V431.99c0-14.48 11.74-26.22 26.22-26.22h2.56c14.48 0 26.22 11.74 26.22 26.22v347.56c0 14.49-11.74 26.22-26.22 26.22z" class="icon-in" p-id="3029" /><path d="M786.11 322.05l-48.07-26.73c24.95-44.87 28.29-88.34 10.14-132.77-5.56-3.25-21.61-9.19-42.32-10.42-129.2-7.27-260.31-7.27-389.6 0-20.65 1.22-36.68 7.16-42.24 10.42-18.15 44.43-14.82 87.9 10.14 132.77l-48.07 26.73c-34.04-61.21-37.74-123.49-10.97-185.09l0.21-0.48c15.56-34.01 80.41-38.81 87.75-39.25 131.42-7.39 264.61-7.39 395.94 0 7.42 0.44 72.26 5.24 87.83 39.25l0.22 0.48c26.77 61.6 23.09 123.88-10.96 185.09z m-36.39-158.46z m-477.24 0z" class="icon-out" p-id="3030" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-export"><path d="M94.85 502.74c0-88.25 6.43-176.5 19.28-264.14l0.04-0.26c4.81-30.68 21.45-61.57 46.85-86.98 25.41-25.41 56.3-42.05 86.98-46.85l0.26-0.04a1818.793 1818.793 0 0 1 528.28 0l0.26 0.04c30.68 4.81 61.57 21.44 86.98 46.85 25.41 25.41 42.05 56.3 46.85 86.98l0.04 0.26a1818.793 1818.793 0 0 1 0 528.28l-0.04 0.26c-4.81 30.68-21.44 61.57-46.85 86.98s-56.3 42.05-86.98 46.85l-0.26 0.04a1818.793 1818.793 0 0 1-528.28 0l-0.26-0.04c-30.68-4.81-61.57-21.44-86.98-46.85-25.41-25.41-42.05-56.3-46.85-86.98l-0.04-0.26a1820.45 1820.45 0 0 1-19.28-264.14z m73.69-256.03c-24.91 169.89-24.91 342.15 0 512.05 6.3 39.74 48.12 81.56 87.86 87.86 169.87 24.9 342.16 24.9 512.03 0 39.75-6.3 81.57-48.12 87.86-87.86 24.9-169.87 24.9-342.16 0-512.03-6.3-39.74-48.12-81.57-87.86-87.86a1764.188 1764.188 0 0 0-512.03 0c-39.74 6.28-81.56 48.1-87.86 87.84z" class="icon-out" p-id="3184" /><path d="M677.82 616.65L467.99 406.81c-10.19-10.19-10.19-26.72 0-36.92l12.58-12.58c10.19-10.19 26.72-10.19 36.92 0l209.84 209.84c10.19 10.19 10.19 26.72 0 36.92l-12.58 12.58c-10.2 10.19-26.73 10.19-36.93 0z" class="icon-in" p-id="3185" /><path d="M283.94 617.33l-12.58-12.58c-10.19-10.19-10.19-26.72 0-36.92L481.2 358c10.19-10.19 26.72-10.19 36.92 0l12.58 12.58c10.19 10.19 10.19 26.72 0 36.92L320.86 617.33c-10.2 10.2-26.72 10.2-36.92 0z" class="icon-in" p-id="3186" /></symbol><symbol viewBox="0 0 48 48" fill="none"  id="svg-group">\r
    <path d="M12 4H4V12H12V4Z" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M44 36H36V44H44V36Z" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M12 36H4V44H12V36Z" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M44 4H36V12H44V4Z" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M8 36V12" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
    <path d="M40 36V12" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
    <path d="M12 8H36" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
    <path d="M12 40H36" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
    <path fill-rule="evenodd" clip-rule="evenodd" d="M16 16H25.6V22.4H32V32H22.4V25.6H16V16Z" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
</symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-import"><path d="M93.33 502.74c0 88.25 6.43 176.5 19.28 264.14l0.04 0.26c4.81 30.68 21.45 61.57 46.85 86.98 25.41 25.41 56.3 42.05 86.98 46.85l0.26 0.04a1818.793 1818.793 0 0 0 528.28 0l0.26-0.04c30.68-4.81 61.57-21.44 86.98-46.85 25.41-25.41 42.05-56.3 46.85-86.98l0.04-0.26a1818.793 1818.793 0 0 0 0-528.28l-0.04-0.26c-4.81-30.68-21.44-61.57-46.85-86.98s-56.3-42.05-86.98-46.85l-0.26-0.04a1818.793 1818.793 0 0 0-528.28 0l-0.26 0.04c-30.68 4.81-61.57 21.44-86.98 46.85-25.41 25.41-42.05 56.3-46.85 86.98l-0.04 0.26a1820.244 1820.244 0 0 0-19.28 264.14z m73.68 256.02c-24.91-169.89-24.91-342.15 0-512.05 6.3-39.74 48.12-81.56 87.86-87.86 169.87-24.9 342.16-24.9 512.03 0 39.75 6.3 81.57 48.12 87.86 87.86 24.9 169.87 24.9 342.16 0 512.03-6.3 39.74-48.12 81.57-87.86 87.86a1764.188 1764.188 0 0 1-512.03 0c-39.74-6.28-81.56-48.1-87.86-87.84z" class="icon-out" p-id="3340" /><path d="M676.3 388.83L466.46 598.66c-10.19 10.19-10.19 26.72 0 36.92l12.58 12.58c10.19 10.19 26.72 10.19 36.92 0L725.8 438.32c10.19-10.19 10.19-26.72 0-36.92l-12.58-12.58c-10.2-10.19-26.73-10.19-36.92 0.01z" class="icon-in" p-id="3341" /><path d="M282.42 388.14l-12.58 12.58c-10.19 10.19-10.19 26.72 0 36.92l209.84 209.84c10.19 10.19 26.72 10.19 36.92 0l12.58-12.58c10.19-10.19 10.19-26.72 0-36.92L319.33 388.14c-10.19-10.19-26.72-10.19-36.91 0z" class="icon-in" p-id="3342" /></symbol><symbol class="icon active" viewBox="0 0 1024 1024"   id="svg-line-active"><path d="M795.969 641.938c-44.844 0-85.094 20.015-112.219 51.515L454.39 561.11c4.157-15.53 6.344-31.937 6.344-48.78 0-16.845-2.187-33.25-6.343-48.782l230.234-132.89c27.125 30.952 66.938 50.53 111.453 50.53 81.813 0 148.094-66.28 148.094-148.093C944.172 151.28 877.782 85 795.969 85s-148.094 66.281-148.094 148.094c0 14.11 1.969 27.781 5.688 40.687L427.155 404.484c-34.344-49.875-91.765-82.578-156.844-82.578C165.204 321.906 80 407.11 80 512.328S165.203 702.75 270.313 702.75c65.078 0 122.609-32.703 156.953-82.578l225.968 130.484c-3.5 12.578-5.359 25.703-5.359 39.375 0 81.813 66.281 148.094 148.094 148.094 81.812 0 148.093-66.281 148.093-148.094 0-81.812-66.28-148.093-148.093-148.093z m0-492.079c45.937 0 83.234 37.297 83.234 83.235 0 45.937-37.297 83.234-83.234 83.234-45.938 0-83.235-37.297-83.235-83.234 0-45.938 37.297-83.235 83.235-83.235zM270.312 637.781c-69.234 0-125.453-56.11-125.453-125.453 0-69.344 56.22-125.453 125.453-125.453 69.235 0 125.454 56.11 125.454 125.453 0 69.344-56.11 125.453-125.454 125.453z m525.657 234.39c-45.39 0-82.14-36.75-82.14-82.14s36.75-82.14 82.14-82.14 82.14 36.75 82.14 82.14c0.11 45.39-36.75 82.14-82.14 82.14z" p-id="1837" data-spm-anchor-id="a313x.manage_type_myprojects.0.i0.1adc3a813mH6xq" class="icon-out" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-line"><path d="M795.969 641.938c-44.844 0-85.094 20.015-112.219 51.515L454.39 561.11c4.157-15.53 6.344-31.937 6.344-48.78 0-16.845-2.187-33.25-6.343-48.782l230.234-132.89c27.125 30.952 66.938 50.53 111.453 50.53 81.813 0 148.094-66.28 148.094-148.093C944.172 151.28 877.782 85 795.969 85s-148.094 66.281-148.094 148.094c0 14.11 1.969 27.781 5.688 40.687L427.155 404.484c-34.344-49.875-91.765-82.578-156.844-82.578C165.204 321.906 80 407.11 80 512.328S165.203 702.75 270.313 702.75c65.078 0 122.609-32.703 156.953-82.578l225.968 130.484c-3.5 12.578-5.359 25.703-5.359 39.375 0 81.813 66.281 148.094 148.094 148.094 81.812 0 148.093-66.281 148.093-148.094 0-81.812-66.28-148.093-148.093-148.093z m0-492.079c45.937 0 83.234 37.297 83.234 83.235 0 45.937-37.297 83.234-83.234 83.234-45.938 0-83.235-37.297-83.235-83.234 0-45.938 37.297-83.235 83.235-83.235zM270.312 637.781c-69.234 0-125.453-56.11-125.453-125.453 0-69.344 56.22-125.453 125.453-125.453 69.235 0 125.454 56.11 125.454 125.453 0 69.344-56.11 125.453-125.454 125.453z m525.657 234.39c-45.39 0-82.14-36.75-82.14-82.14s36.75-82.14 82.14-82.14 82.14 36.75 82.14 82.14c0.11 45.39-36.75 82.14-82.14 82.14z" p-id="1837" data-spm-anchor-id="a313x.manage_type_myprojects.0.i0.1adc3a813mH6xq" class="icon-out" /></symbol><symbol viewBox="0 0 48 48" fill="none"  id="svg-lock">\r
    <rect x="6" y="22" width="36" height="22" rx="2" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M14 22V14C14 8.47715 18.4772 4 24 4C29.5228 4 34 8.47715 34 14V22" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
    <path d="M24 30V36" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
</symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-menu-fold"><path d="M510.89 921.7c-88.25 0-176.5-6.43-264.14-19.28l-0.26-0.04c-30.68-4.81-61.57-21.44-86.98-46.85-25.41-25.41-42.05-56.3-46.85-86.98l-0.04-0.26a1818.793 1818.793 0 0 1 0-528.28l0.04-0.26c4.81-30.68 21.44-61.57 46.85-86.98s56.3-42.05 86.98-46.85l0.26-0.04a1818.793 1818.793 0 0 1 528.28 0l0.26 0.04c30.68 4.81 61.57 21.45 86.98 46.85 25.41 25.41 42.05 56.3 46.85 86.98l0.04 0.26a1818.793 1818.793 0 0 1 0 528.28l-0.04 0.26c-4.81 30.68-21.45 61.58-46.85 86.98-25.41 25.41-56.3 42.05-86.98 46.85l-0.26 0.04a1819.042 1819.042 0 0 1-264.14 19.28z m-256.02-73.68a1763.556 1763.556 0 0 0 512.04 0c39.74-6.3 81.56-48.12 87.86-87.86 24.9-169.87 24.9-342.16 0-512.03-6.3-39.74-48.11-81.56-87.86-87.86a1763.556 1763.556 0 0 0-512.04 0c-39.75 6.3-81.57 48.12-87.86 87.86a1763.488 1763.488 0 0 0 0 512.03c6.3 39.75 48.12 81.57 87.86 87.86z" class="icon-out" p-id="2559" /><path d="M399.85 335.23l209.84 209.84c10.19 10.19 26.72 10.19 36.92 0l12.58-12.58c10.19-10.19 10.19-26.72 0-36.92L449.35 285.73c-10.19-10.19-26.72-10.19-36.92 0l-12.58 12.58c-10.2 10.2-10.2 26.73 0 36.92z" class="icon-in" p-id="2560" /><path d="M399.16 729.11l12.58 12.58c10.19 10.19 26.72 10.19 36.92 0L658.5 531.85c10.19-10.19 10.19-26.72 0-36.92l-12.58-12.58c-10.19-10.19-26.72-10.19-36.92 0L399.16 692.2c-10.19 10.19-10.19 26.72 0 36.91z" class="icon-in" p-id="2561" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-menu-unfold"><path d="M512.42 920.16c-88.25 0-176.5-6.43-264.14-19.28l-0.26-0.04c-30.68-4.81-61.57-21.45-86.98-46.85-25.41-25.41-42.05-56.3-46.85-86.98l-0.04-0.26a1818.793 1818.793 0 0 1 0-528.28l0.04-0.26c4.81-30.68 21.44-61.57 46.85-86.98 25.41-25.41 56.3-42.05 86.98-46.85l0.26-0.04a1818.793 1818.793 0 0 1 528.28 0l0.26 0.04c30.68 4.81 61.57 21.44 86.98 46.85s42.05 56.3 46.85 86.98l0.04 0.26a1818.793 1818.793 0 0 1 0 528.28l-0.04 0.26c-4.81 30.68-21.44 61.57-46.85 86.98-25.41 25.41-56.3 42.05-86.98 46.85l-0.26 0.04a1820.45 1820.45 0 0 1-264.14 19.28z m-256.03-73.69c169.89 24.91 342.15 24.91 512.05 0 39.74-6.3 81.56-48.12 87.86-87.86 24.9-169.87 24.9-342.16 0-512.03-6.3-39.75-48.12-81.57-87.86-87.86a1764.188 1764.188 0 0 0-512.03 0c-39.74 6.3-81.57 48.12-87.86 87.86a1764.188 1764.188 0 0 0 0 512.03c6.28 39.74 48.1 81.56 87.84 87.86z" class="icon-out" p-id="2403" /><path d="M626.33 337.19L416.49 547.03c-10.19 10.19-26.72 10.19-36.92 0l-12.58-12.58c-10.19-10.19-10.19-26.72 0-36.92l209.84-209.84c10.19-10.19 26.72-10.19 36.92 0l12.58 12.58c10.19 10.19 10.19 26.72 0 36.92z" class="icon-in" p-id="2404" /><path d="M627.01 731.07l-12.58 12.58c-10.19 10.19-26.72 10.19-36.92 0L367.67 533.81c-10.19-10.19-10.19-26.72 0-36.92l12.58-12.58c10.19-10.19 26.72-10.19 36.92 0l209.84 209.84c10.19 10.2 10.19 26.72 0 36.92z" class="icon-in" p-id="2405" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-preview"><path d="M127.94 530.03c-6.67 0-13.32-2.65-18.24-7.89-9.43-10.06-8.95-25.85 1.1-35.3 3.67-3.45 91.45-84.93 234.32-126.4 84.14-24.42 169.95-29.79 255.04-15.96 105.79 17.19 210.4 64.23 310.94 139.81 11.04 8.3 13.26 23.97 4.96 35.01-8.29 11.03-23.97 13.26-35 4.96-169.55-127.45-344.5-166.61-519.99-116.38-131.94 37.76-215.21 114.63-216.04 115.41a25.01 25.01 0 0 1-17.09 6.74z" class="icon-in" p-id="1779" /><path d="M509 688.98c-54.54 0-109.01-7.83-162.8-23.44-142.87-41.46-230.65-122.95-234.32-126.4-10.06-9.46-10.54-25.28-1.08-35.34 9.45-10.05 25.25-10.54 35.31-1.11 0.83 0.77 84.1 77.65 216.04 115.41 175.5 50.22 350.44 11.07 519.99-116.38 11.04-8.3 26.71-6.07 35 4.96 8.3 11.04 6.08 26.71-4.96 35.01C811.64 617.26 707.03 664.3 601.24 681.5c-30.69 4.98-61.47 7.48-92.24 7.48z" class="icon-in" p-id="1780" /><path d="M506.82 741.13c-141.09 0-275.99-70.27-401.17-209.03l-17.53-19.43 16.87-20c1.64-1.95 41.06-48.3 108.65-95.76 39.76-27.92 81.2-50.54 123.19-67.25 52.97-21.08 106.94-32.74 160.4-34.67 146.39-5.28 287.79 60.95 420.32 196.86l18.69 19.16-16.92 20.74c-1.7 2.09-42.53 51.76-111.93 102.32-40.88 29.79-83.37 53.81-126.29 71.39-54.25 22.23-109.31 34.19-163.66 35.54-3.53 0.08-7.09 0.13-10.62 0.13z m-337.8-229c110.37 114.93 226.81 171.73 346.5 168.89 106.58-2.53 197.54-52.73 255.07-94.39 37.87-27.42 66.74-54.92 84-72.79-114.02-109.7-233.21-163.13-354.69-158.92-105.44 3.67-194.27 50.96-250.22 89.99-36.31 25.32-63.96 50.6-80.66 67.22z" class="icon-out" p-id="1781" /><path d="M505.25 671.33c-87.55 0-158.78-71.23-158.78-158.78s71.23-158.78 158.78-158.78S664.02 425 664.02 512.55 592.8 671.33 505.25 671.33z m0-257.56c-54.47 0-98.78 44.31-98.78 98.78s44.31 98.78 98.78 98.78 98.78-44.31 98.78-98.78-44.32-98.78-98.78-98.78z" class="icon-in" p-id="1782" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-question"><path d="M512 172.8c187.04 0 339.2 152.16 339.2 339.2S699.04 851.2 512 851.2 172.8 699.03 172.8 512 324.97 172.8 512 172.8m0-76.8C282.25 96 96 282.25 96 512s186.25 416 416 416 416-186.25 416-416S741.75 96 512 96z" class="icon-out" p-id="5865" data-spm-anchor-id="a313x.search_index.0.i0.4bca3a81TehghO" /><path d="M531.31 278.99c-92.43-2.84-151.21 46.22-175.93 126.24-0.03 0.1 0.23 0.23 0.22 0.33-1.34 3.71-2.37 7.59-2.37 11.75 0 19.25 15.61 34.86 34.86 34.86 15.13 0 27.69-9.76 32.52-23.23 0.03 0.01 0.33 0.08 0.33 0.08 14.05-63.91 45.58-82.75 100.14-81.23 46.75 3.15 72.47 26.54 77.14 70.14 3.08 29.62-17.94 60.02-63.13 91.16-42.07 29.62-62.35 66.28-60.76 109.88 0 0.09 0.16 0.12 0.16 0.21-0.01 0.31-0.18 0.57-0.18 0.88 0 16.82 13.63 30.46 30.46 30.46 15.53 0 27.85-11.8 29.72-26.82 0.09-0.01 0.59-0.05 0.59-0.05s-0.3 0.03-0.59 0.05c0.26-0.02 0.24-0.02 0.59-0.05-1.55-32.73 16.39-60.76 53.75-84.15 59.2-37.41 87.26-80.26 84.15-128.56-7.77-77.94-56-127.28-141.67-131.95zM504.7 745.14h-2.34c-20.66 0-37.4-16.75-37.4-37.4 0-20.66 16.75-37.4 37.4-37.4h2.34c20.66 0 37.4 16.75 37.4 37.4s-16.75 37.4-37.4 37.4z" class="icon-in" p-id="5866" data-spm-anchor-id="a313x.search_index.0.i3.4bca3a81TehghO" /></symbol><symbol class="icon gray" viewBox="0 0 1024 1024"   id="svg-redo-gray"><path d="M550.912 890.88c-4.096 0-7.9872-0.8192-11.8784-2.4576-11.4688-4.7104-18.8416-15.9744-18.8416-28.2624v-156.672c-96.256-68.1984-309.0432 65.536-385.4336 125.1328-10.4448 7.9872-24.576 8.6016-35.6352 1.6384-11.0592-7.168-16.1792-20.48-13.1072-33.1776 99.1232-401.408 347.3408-475.9552 433.9712-489.6768V163.84c0-12.288 7.3728-23.552 18.8416-28.2624 11.4688-4.9152 24.576-2.2528 33.3824 6.3488l357.1712 348.16c5.9392 5.7344 9.216 13.7216 9.216 21.9136s-3.2768 16.1792-9.216 21.9136l-357.1712 348.16c-5.7344 5.7344-13.5168 8.8064-21.2992 8.8064z m-96.8704-267.0592c44.032 0 84.992 12.0832 117.76 43.008 6.144 5.7344 9.6256 13.9264 9.6256 22.3232v98.304L864.0512 512 581.632 236.7488v98.304c0 16.7936-13.312 30.3104-30.1056 30.72-11.264 0.4096-261.5296 12.0832-381.7472 364.1344 72.2944-45.8752 185.9584-106.0864 284.2624-106.0864z" class="icon-out" p-id="42083" data-spm-anchor-id="a313x.search_index.0.i8.a5e03a81nkrsAk" /><path d="M343.2448 579.7888c-5.9392 0-11.8784-2.048-16.7936-5.9392a26.8288 26.8288 0 0 1-3.6864-37.4784c44.4416-54.272 95.0272-93.3888 150.3232-116.5312 13.7216-5.7344 29.0816 0.8192 34.816 14.336 5.7344 13.5168-0.6144 29.0816-14.336 34.816-47.104 19.6608-90.7264 53.8624-129.6384 101.1712-5.3248 6.3488-12.9024 9.6256-20.6848 9.6256z" class="icon-in" p-id="42084" data-spm-anchor-id="a313x.search_index.0.i11.a5e03a81nkrsAk" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-redo"><path d="M550.912 890.88c-4.096 0-7.9872-0.8192-11.8784-2.4576-11.4688-4.7104-18.8416-15.9744-18.8416-28.2624v-156.672c-96.256-68.1984-309.0432 65.536-385.4336 125.1328-10.4448 7.9872-24.576 8.6016-35.6352 1.6384-11.0592-7.168-16.1792-20.48-13.1072-33.1776 99.1232-401.408 347.3408-475.9552 433.9712-489.6768V163.84c0-12.288 7.3728-23.552 18.8416-28.2624 11.4688-4.9152 24.576-2.2528 33.3824 6.3488l357.1712 348.16c5.9392 5.7344 9.216 13.7216 9.216 21.9136s-3.2768 16.1792-9.216 21.9136l-357.1712 348.16c-5.7344 5.7344-13.5168 8.8064-21.2992 8.8064z m-96.8704-267.0592c44.032 0 84.992 12.0832 117.76 43.008 6.144 5.7344 9.6256 13.9264 9.6256 22.3232v98.304L864.0512 512 581.632 236.7488v98.304c0 16.7936-13.312 30.3104-30.1056 30.72-11.264 0.4096-261.5296 12.0832-381.7472 364.1344 72.2944-45.8752 185.9584-106.0864 284.2624-106.0864z" class="icon-out" p-id="42083" data-spm-anchor-id="a313x.search_index.0.i8.a5e03a81nkrsAk" /><path d="M343.2448 579.7888c-5.9392 0-11.8784-2.048-16.7936-5.9392a26.8288 26.8288 0 0 1-3.6864-37.4784c44.4416-54.272 95.0272-93.3888 150.3232-116.5312 13.7216-5.7344 29.0816 0.8192 34.816 14.336 5.7344 13.5168-0.6144 29.0816-14.336 34.816-47.104 19.6608-90.7264 53.8624-129.6384 101.1712-5.3248 6.3488-12.9024 9.6256-20.6848 9.6256z" class="icon-in" p-id="42084" data-spm-anchor-id="a313x.search_index.0.i11.a5e03a81nkrsAk" /></symbol><symbol class="icon" viewBox="0 0 1165 1024"   id="svg-return"><path d="M364.967083 734.583428c-10.46084 0-20.92168-3.486947-29.057889-11.623156L11.623156 398.674234c-16.272418-16.272418-16.272418-41.84336 0-58.115778L335.909194 16.272418c16.272418-16.272418 41.84336-16.272418 58.115778 0s16.272418 41.84336 0 58.115777L98.796822 369.616345l295.22815 295.22815c16.272418 16.272418 16.272418 41.84336 0 58.115777-8.136209 8.136209-18.597049 11.623156-29.057889 11.623156z" p-id="3653" data-spm-anchor-id="a313x.manage_type_myprojects.0.i25.1adc3a81koFwd9" class="icon-out" /><path d="M645.085131 727.609535c-15.110102 15.110102-38.356413 15.110102-53.466516 0L260.358683 396.349603c-15.110102-15.110102-15.110102-38.356413 0-53.466516L591.618615 11.623156c15.110102-15.110102 38.356413-15.110102 53.466516 0" p-id="3654" data-spm-anchor-id="a313x.manage_type_myprojects.0.i21.1adc3a81koFwd9" class="icon-in" /><path d="M645.085131 532.340522S1104.199773 496.30874 1024 1024c0 0 216.190692-249.897843 113.906924-516.068104-51.141884-96.472191-112.744608-295.22815-492.821793-297.552781v321.961407z" p-id="3655" data-spm-anchor-id="a313x.manage_type_myprojects.0.i22.1adc3a81koFwd9" class="icon-in" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-rotate"><path d="M934.101333 416.426667h-220.373333c-26.752 0-47.232-20.48-47.232-47.232s20.48-47.232 47.232-47.232h173.141333V148.821333c0-26.752 20.48-47.232 47.232-47.232S981.333333 122.069333 981.333333 148.821333v220.373344c0 25.173333-20.48 47.232-47.232 47.232z" fill="#344" p-id="4939" data-spm-anchor-id="a313x.search_index.0.i10.30723a81IiaItd" class="selected" /><path d="M509.098667 978.389333C249.344 978.389333 38.4 767.530667 38.4 507.733333 38.4 247.978667 249.344 37.034667 509.098667 37.034667A472.32 472.32 0 0 1 943.530667 325.12c9.472 23.637333-1.536 51.968-25.173344 61.44-23.594667 9.386667-51.925333-1.621333-61.397333-25.216a377.898667 377.898667 0 0 0-347.861333-229.845333A376.234667 376.234667 0 0 0 132.864 507.733333a376.234667 376.234667 0 0 0 376.234667 376.234667c190.464 0 351.018667-141.653333 373.077333-329.002667 3.114667-25.173333 26.752-44.074667 51.925333-40.96 25.173333 3.157333 44.074667 26.794667 40.96 51.968-28.373333 234.538667-228.266667 412.416-465.962666 412.416z" fill="#344" p-id="4940" data-spm-anchor-id="a313x.search_index.0.i9.30723a81IiaItd" class="selected" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-save"><path d="M828.038 898.796H195.962c-39.409 0-71.471-32.062-71.471-71.471V195.249c0-39.409 32.062-71.471 71.471-71.471h89.621c10.382 0 18.798 8.416 18.798 18.798s-8.416 18.798-18.798 18.798h-89.621c-18.679 0-33.875 15.196-33.875 33.875v632.076c0 18.679 15.196 33.875 33.875 33.875h632.076c18.679 0 33.875-15.196 33.875-33.875V340.256L674.088 161.374h-96.215c-10.382 0-18.798-8.416-18.798-18.798s8.416-18.798 18.798-18.798h111.253l210.383 200.365v503.182c0 39.409-32.062 71.471-71.471 71.471z" class="icon-out" p-id="1919" data-spm-anchor-id="a313x.manage_type_myprojects.0.i6.1adc3a8106MMa8" /><path d="M756.239 863.629h-37.597V643.456c0-7.062-5.744-12.807-12.806-12.807H317.11c-7.061 0-12.806 5.745-12.806 12.807v220.173h-37.596V643.456c0-27.792 22.61-50.402 50.402-50.402h388.727c27.792 0 50.402 22.61 50.402 50.402v220.173z" class="icon-out" p-id="1920" data-spm-anchor-id="a313x.manage_type_myprojects.0.i7.1adc3a8106MMa8" /><path d="M547.818 325.374H317.11c-27.792 0-50.402-22.61-50.402-50.402V151.895c0-27.792 22.61-50.402 50.402-50.402h230.708c27.791 0 50.4 22.61 50.4 50.402v123.077c0.001 27.791-22.609 50.402-50.4 50.402zM317.11 139.089c-7.061 0-12.806 5.745-12.806 12.806v123.077c0 7.061 5.745 12.806 12.806 12.806h230.708c7.061 0 12.805-5.745 12.805-12.806V151.895c0-7.061-5.744-12.806-12.805-12.806H317.11z" class="icon-middle" p-id="1921" /><path d="M621.717 155.654c0-17.454-14.149-31.604-31.604-31.604H359.405c-17.455 0-31.604 14.15-31.604 31.604v9.871h-0.157V316.17c0 17.454 14.149 31.604 31.604 31.604h230.708c17.454 0 31.604-14.15 31.604-31.604V166.069h0.156v-10.415z" class="icon-middle" opacity=".4" p-id="1922" /></symbol><symbol viewBox="0 0 1024 1024"  id="svg-setting">
    <path d="M919.6 405.6l-57.2-8c-12.7-1.8-23-10.4-28-22.1-11.3-26.7-25.7-51.7-42.9-74.5-7.7-10.2-10-23.5-5.2-35.3l21.7-53.5c6.7-16.4 0.2-35.3-15.2-44.1L669.1 96.6c-15.4-8.9-34.9-5.1-45.8 8.9l-35.4 45.3c-7.9 10.2-20.7 14.9-33.5 13.3-14-1.8-28.3-2.8-42.8-2.8-14.5 0-28.8 1-42.8 2.8-12.8 1.6-25.6-3.1-33.5-13.3l-35.4-45.3c-10.9-14-30.4-17.8-45.8-8.9L230.4 168c-15.4 8.9-21.8 27.7-15.2 44.1l21.7 53.5c4.8 11.9 2.5 25.1-5.2 35.3-17.2 22.8-31.7 47.8-42.9 74.5-5 11.8-15.3 20.4-28 22.1l-57.2 8C86 408 72.9 423 72.9 440.8v142.9c0 17.7 13.1 32.7 30.6 35.2l57.2 8c12.7 1.8 23 10.4 28 22.1 11.3 26.7 25.7 51.7 42.9 74.5 7.7 10.2 10 23.5 5.2 35.3l-21.7 53.5c-6.7 16.4-0.2 35.3 15.2 44.1L354 927.8c15.4 8.9 34.9 5.1 45.8-8.9l35.4-45.3c7.9-10.2 20.7-14.9 33.5-13.3 14 1.8 28.3 2.8 42.8 2.8 14.5 0 28.8-1 42.8-2.8 12.8-1.6 25.6 3.1 33.5 13.3l35.4 45.3c10.9 14 30.4 17.8 45.8 8.9l123.7-71.4c15.4-8.9 21.8-27.7 15.2-44.1l-21.7-53.5c-4.8-11.8-2.5-25.1 5.2-35.3 17.2-22.8 31.7-47.8 42.9-74.5 5-11.8 15.3-20.4 28-22.1l57.2-8c17.6-2.5 30.6-17.5 30.6-35.2V440.8c0.2-17.8-12.9-32.8-30.5-35.2z m-408 245.5c-76.7 0-138.9-62.2-138.9-138.9s62.2-138.9 138.9-138.9 138.9 62.2 138.9 138.9-62.2 138.9-138.9 138.9z" />
</symbol><symbol class="icon gray" viewBox="0 0 1024 1024"   id="svg-undo-gray"><g transform="scale(-1, 1) translate(-1024, 0)"><path d="M550.912 890.88c-4.096 0-7.9872-0.8192-11.8784-2.4576-11.4688-4.7104-18.8416-15.9744-18.8416-28.2624v-156.672c-96.256-68.1984-309.0432 65.536-385.4336 125.1328-10.4448 7.9872-24.576 8.6016-35.6352 1.6384-11.0592-7.168-16.1792-20.48-13.1072-33.1776 99.1232-401.408 347.3408-475.9552 433.9712-489.6768V163.84c0-12.288 7.3728-23.552 18.8416-28.2624 11.4688-4.9152 24.576-2.2528 33.3824 6.3488l357.1712 348.16c5.9392 5.7344 9.216 13.7216 9.216 21.9136s-3.2768 16.1792-9.216 21.9136l-357.1712 348.16c-5.7344 5.7344-13.5168 8.8064-21.2992 8.8064z m-96.8704-267.0592c44.032 0 84.992 12.0832 117.76 43.008 6.144 5.7344 9.6256 13.9264 9.6256 22.3232v98.304L864.0512 512 581.632 236.7488v98.304c0 16.7936-13.312 30.3104-30.1056 30.72-11.264 0.4096-261.5296 12.0832-381.7472 364.1344 72.2944-45.8752 185.9584-106.0864 284.2624-106.0864z" class="icon-out" p-id="42083" data-spm-anchor-id="a313x.search_index.0.i8.a5e03a81nkrsAk" /><path d="M343.2448 579.7888c-5.9392 0-11.8784-2.048-16.7936-5.9392a26.8288 26.8288 0 0 1-3.6864-37.4784c44.4416-54.272 95.0272-93.3888 150.3232-116.5312 13.7216-5.7344 29.0816 0.8192 34.816 14.336 5.7344 13.5168-0.6144 29.0816-14.336 34.816-47.104 19.6608-90.7264 53.8624-129.6384 101.1712-5.3248 6.3488-12.9024 9.6256-20.6848 9.6256z" class="icon-in" p-id="42084" data-spm-anchor-id="a313x.search_index.0.i11.a5e03a81nkrsAk" /></g></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-undo"><g transform="scale(-1, 1) translate(-1024, 0)"><path d="M550.912 890.88c-4.096 0-7.9872-0.8192-11.8784-2.4576-11.4688-4.7104-18.8416-15.9744-18.8416-28.2624v-156.672c-96.256-68.1984-309.0432 65.536-385.4336 125.1328-10.4448 7.9872-24.576 8.6016-35.6352 1.6384-11.0592-7.168-16.1792-20.48-13.1072-33.1776 99.1232-401.408 347.3408-475.9552 433.9712-489.6768V163.84c0-12.288 7.3728-23.552 18.8416-28.2624 11.4688-4.9152 24.576-2.2528 33.3824 6.3488l357.1712 348.16c5.9392 5.7344 9.216 13.7216 9.216 21.9136s-3.2768 16.1792-9.216 21.9136l-357.1712 348.16c-5.7344 5.7344-13.5168 8.8064-21.2992 8.8064z m-96.8704-267.0592c44.032 0 84.992 12.0832 117.76 43.008 6.144 5.7344 9.6256 13.9264 9.6256 22.3232v98.304L864.0512 512 581.632 236.7488v98.304c0 16.7936-13.312 30.3104-30.1056 30.72-11.264 0.4096-261.5296 12.0832-381.7472 364.1344 72.2944-45.8752 185.9584-106.0864 284.2624-106.0864z" class="icon-out" p-id="42083" data-spm-anchor-id="a313x.search_index.0.i8.a5e03a81nkrsAk" /><path d="M343.2448 579.7888c-5.9392 0-11.8784-2.048-16.7936-5.9392a26.8288 26.8288 0 0 1-3.6864-37.4784c44.4416-54.272 95.0272-93.3888 150.3232-116.5312 13.7216-5.7344 29.0816 0.8192 34.816 14.336 5.7344 13.5168-0.6144 29.0816-14.336 34.816-47.104 19.6608-90.7264 53.8624-129.6384 101.1712-5.3248 6.3488-12.9024 9.6256-20.6848 9.6256z" class="icon-in" p-id="42084" data-spm-anchor-id="a313x.search_index.0.i11.a5e03a81nkrsAk" /></g></symbol><symbol viewBox="0 0 48 48" fill="none"  id="svg-ungroup">\r
    <path d="M11.2727 4H4V11.2727H11.2727V4Z" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M43.9998 36.7271H36.7271V43.9998H43.9998V36.7271Z" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M11.2727 24H4V31.2727H11.2727V24Z" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M23.9998 36.7271H16.7271V43.9998H23.9998V36.7271Z" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M31.2727 4H24V11.2727H31.2727V4Z" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M43.9998 16.7271H36.7271V23.9998H43.9998V16.7271Z" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M11.2729 7.63623H24.0002" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
    <path d="M24 40.3638H36.7273" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
    <path d="M11.2729 27.6366H27.6366V11.2729" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
    <path d="M28.8275 20.3633H36.7269M20.3633 36.7269V27.6282V36.7269Z" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
    <path d="M7.63672 11.2725V23.9997" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
    <path d="M40.3633 24V36.7273" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
</symbol><symbol viewBox="0 0 48 48" fill="none"  id="svg-unlock">\r
    <rect x="7" y="22.0476" width="34" height="22" rx="2" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M14 22V14.0047C13.9948 8.87022 17.9227 4.56718 23.0859 4.05117C28.249 3.53516 32.9673 6.97408 34 12.0059" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
    <path d="M24 30V36" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
</symbol>`,n.insertBefore(i,n.lastChild)};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",r):r()}const main="",index$2="";var ELineBindAnchors=(r=>(r.TopCenter="TopCenter",r.Left="Left",r.Right="Right",r.BottomCenter="BottomCenter",r))(ELineBindAnchors||{}),EConfigAnimationsType=(r=>(r.None="None",r.Electricity="Electricity",r.WaterDrop="WaterDrop",r.Track="Track",r))(EConfigAnimationsType||{}),EConfigItemPropsType=(r=>(r.Input="Input",r.Textarea="Textarea",r.Color="Color",r.InputNumber="InputNumber",r.Switch="Switch",r.JsonEdit="JsonEdit",r.Select="Select",r))(EConfigItemPropsType||{}),EDoneJsonType=(r=>(r.File="File",r.StraightLine="StraightLine",r.ConnectionLine="ConnectionLine",r.CustomSvg="CustomSvg",r.Vue="Vue",r))(EDoneJsonType||{}),EEventType=(r=>(r.Click="Click",r.Change="Change",r.Null="",r))(EEventType||{}),EEventAction=(r=>(r.ChangeAttr="ChangeAttr",r.JavaScript="JavaScript",r.Null="",r))(EEventAction||{}),EConditionType=(r=>(r.None="None",r.Relation="Relation",r))(EConditionType||{}),EGlobalStoreIntention=(r=>(r.None="None",r.Create="Create",r.Move="Move",r.GroupMove="GroupMove",r.MoveCanvas="MoveCanvas",r.Select="Select",r.Zoom="Zoom",r.Rotate="Rotate",r.Connection="Connection",r.SetConnectionLineNode="SetConnectionLineNode",r.ContextMenu="ContextMenu",r.SelectArea="SelectArea",r))(EGlobalStoreIntention||{}),EMouseInfoState=(r=>(r.Down="Down",r.Up="Up",r))(EMouseInfoState||{}),EScaleInfoType=(r=>(r.None="",r.TopLeft="TopLeft",r.TopCenter="TopCenter",r.TopRight="TopRight",r.Left="Left",r.Right="Right",r.BottomLeft="BottomLeft",r.BottomCenter="BottomCenter",r.BottomRight="BottomRight",r))(EScaleInfoType||{});const svg_alert_light={name:"alert-light",title:"警示灯",type:EDoneJsonType.File,config:{can_zoom:!0,have_anchor:!0,actual_rect:!0},display:!0,props:{},defaultState:"yellow",state:{green:{label:"正常",fill:"#00ff00",fillOpacity:"1"},yellow:{label:"请注意",fill:"#ffff00",fillOpacity:"1"},red:{label:"报警",fill:"#ff0000",fillOpacity:"1"},white:{label:"关闭",fill:"#ffffff",fillOpacity:"0"}},common_animations:{val:"",delay:"delay-0s",speed:"slow",repeat:"infinite"},events:[]},stateful_group={groupType:"stateful",title:"状态SVG",list:[svg_alert_light]},svg_bot_2={name:"bot-2",title:"2号机",type:EDoneJsonType.File,display:!0,config:{can_zoom:!0,have_anchor:!0,actual_rect:!0},props:{},common_animations:{val:"",delay:"delay-0s",speed:"slow",repeat:"infinite"},events:[]},svg_bot_9={name:"bot-9",title:"9号机",type:EDoneJsonType.File,display:!0,config:{can_zoom:!0,have_anchor:!0,actual_rect:!0},props:{},common_animations:{val:"",delay:"delay-0s",speed:"slow",repeat:"infinite"},events:[]},svg_hotpot={name:"hotpot",title:"火锅",type:EDoneJsonType.File,display:!0,config:{can_zoom:!0,have_anchor:!0,actual_rect:!0},props:{},common_animations:{val:"",delay:"delay-0s",speed:"slow",repeat:"infinite"},events:[]},svg_hamburger={name:"hamburger",title:"汉堡",type:EDoneJsonType.File,display:!0,config:{can_zoom:!0,have_anchor:!0,actual_rect:!0},props:{},common_animations:{val:"",delay:"delay-0s",speed:"slow",repeat:"infinite"},events:[]},stateless_group={groupType:"stateless",title:"静态SVG",list:[svg_hamburger,svg_hotpot,svg_bot_2,svg_bot_9]},thermometer={name:"thermometer",title:"温度计",type:EDoneJsonType.File,config:{can_zoom:!0,have_anchor:!0,actual_rect:!0},display:!0,props:{},common_animations:{val:"",delay:"delay-0s",speed:"slow",repeat:"infinite"},events:[]},animation_group={groupType:"have_animation",title:"动画SVG",list:[thermometer]},svg_text={name:"svg-text",title:"文字",tag:"svg-text",type:EDoneJsonType.CustomSvg,display:!0,config:{can_zoom:!0,have_anchor:!0,actual_rect:!0},props:{text:{title:"文字内容",type:EConfigItemPropsType.Textarea,val:"文字内容"},fontFamily:{title:"字体",type:EConfigItemPropsType.Select,val:"Microsoft YaHei",options:[{value:"Microsoft YaHei",label:"微软雅黑"},{value:"NSimSun",label:"新宋体"},{value:"KaiTi",label:"楷体"}]},fontSize:{title:"文字大小",type:EConfigItemPropsType.InputNumber,val:18},fill:{title:"文字颜色",type:EConfigItemPropsType.Color,val:"#000"},bold:{title:"文字加粗",type:EConfigItemPropsType.Switch,val:!1},writingMode:{title:"文字朝向",type:EConfigItemPropsType.Select,val:"horizontal-tb",options:[{value:"horizontal-tb",label:"水平"},{value:"vertical-rl",label:"垂直"}]}},common_animations:{val:"",delay:"delay-0s",speed:"slow",repeat:"infinite"},events:[]},switch_r={name:"switch-r",title:"开关",tag:"switch-r",type:EDoneJsonType.CustomSvg,display:!0,config:{can_zoom:!0,have_anchor:!0,actual_rect:!0},props:{isOpen:{title:"开关",type:EConfigItemPropsType.Switch,val:!1}},common_animations:{val:"",delay:"delay-0s",speed:"slow",repeat:"infinite"},events:[]},light_a={name:"light",tag:"light-a",title:"灯",type:EDoneJsonType.CustomSvg,config:{can_zoom:!0,have_anchor:!0,actual_rect:!0},display:!0,props:{isOpen:{title:"开关",type:EConfigItemPropsType.Switch,val:!1}},common_animations:{val:"",delay:"delay-0s",speed:"slow",repeat:"infinite"},events:[]},clock_a={name:"clock-a",title:"时钟",tag:"clock-a",type:EDoneJsonType.CustomSvg,config:{can_zoom:!0,have_anchor:!0,actual_rect:!0},display:!0,props:{centerColor:{title:"针顶颜色",type:EConfigItemPropsType.Color,val:"#EBF257"},secondsColor:{title:"秒针颜色",type:EConfigItemPropsType.Color,val:"#E83E24"},circleColor:{title:"针圈颜色",type:EConfigItemPropsType.Color,val:"#F45AFC"},minutesColor:{title:"分针颜色",type:EConfigItemPropsType.Color,val:"#50E68E"},hoursColor:{title:"时针颜色",type:EConfigItemPropsType.Color,val:"#9A36E7"},scaleColor:{title:"刻度颜色",type:EConfigItemPropsType.Color,val:"#4942CF"},backgroundColor:{title:"表盘颜色",type:EConfigItemPropsType.Color,val:"#ffffff"},borderColor:{title:"裱框颜色",type:EConfigItemPropsType.Color,val:"#B3A7FF"}},common_animations:{val:"",delay:"delay-0s",speed:"slow",repeat:"infinite"},events:[]},custom_svg_group={groupType:"custom_svg_group",title:"SVG组件",list:[svg_text,switch_r,light_a,clock_a]},svg_config=Object.seal([stateless_group,stateful_group,animation_group,custom_svg_group]),el_button={name:"el-button",tag:"el-button",title:"按钮",type:EDoneJsonType.Vue,config:{can_zoom:!1,have_anchor:!0,actual_rect:!0},display:!0,props:{size:{title:"尺寸",type:EConfigItemPropsType.Select,val:"default",options:[{label:"大",value:"large"},{label:"默认",value:"default"},{label:"小",value:"small"}]},type:{title:"类型",type:EConfigItemPropsType.Select,val:"primary",options:[{label:"主要按钮",value:"primary"},{label:"成功按钮",value:"success"},{label:"警告按钮",value:"warning"},{label:"危险按钮",value:"danger"},{label:"信息按钮",value:"info"}]},plain:{title:"朴素按钮",type:EConfigItemPropsType.Switch,val:!1},text:{title:"文字按钮",type:EConfigItemPropsType.Switch,val:!1}},tag_slot:"按钮",common_animations:{val:"",delay:"delay-0s",speed:"slow",repeat:"infinite"},events:[]},common_table={name:"common-table",title:"通用表格",tag:"common-table",type:EDoneJsonType.Vue,config:{can_zoom:!1,have_anchor:!0,actual_rect:!0},display:!0,props:{"col-config":{title:"列配置",type:EConfigItemPropsType.JsonEdit,val:[{prop:"date",label:"第一列",width:"120px",fixed:!1,sortable:!1,"show-overflow-tooltip":!1},{prop:"name",label:"第二列",width:"120px",fixed:!1,sortable:!1,"show-overflow-tooltip":!1},{prop:"address",label:"第三列测试",width:"280px",fixed:!1,sortable:!1,"show-overflow-tooltip":!1}]},data:{title:"表格数据",type:EConfigItemPropsType.JsonEdit,val:[{date:"2016-05-03",name:"Tom",address:"No. 189, Grove St, Los Angeles"},{date:"2016-05-02",name:"Tom",address:"No. 189, Grove St, Los Angeles"},{date:"2016-05-04",name:"Tom",address:"No. 189, Grove St, Los Angeles"},{date:"2016-05-01",name:"Tom",address:"No. 189, Grove St, Los Angeles"}]},width:{title:"宽度",type:EConfigItemPropsType.InputNumber,val:500},height:{title:"高度",type:EConfigItemPropsType.InputNumber,val:200},maxHeight:{title:"最大高度",type:EConfigItemPropsType.InputNumber,val:200},stripe:{title:"斑马纹",type:EConfigItemPropsType.Switch,val:!1},border:{title:"纵向边框",type:EConfigItemPropsType.Switch,val:!1},size:{title:"尺寸",type:EConfigItemPropsType.Select,val:"default",options:[{label:"大",value:"large"},{label:"默认",value:"default"},{label:"小",value:"small"}]},fit:{title:"列宽自撑开",type:EConfigItemPropsType.Switch,val:!1}},common_animations:{val:"",delay:"delay-0s",speed:"slow",repeat:"infinite"},events:[]},now_time={name:"now-time",title:"当前时间",tag:"now-time",type:EDoneJsonType.Vue,config:{can_zoom:!1,have_anchor:!1,actual_rect:!0},display:!0,props:{width:{title:"宽度",type:EConfigItemPropsType.InputNumber,val:150},fontFamily:{title:"字体",type:EConfigItemPropsType.Select,val:"Microsoft YaHei",options:[{value:"Microsoft YaHei",label:"微软雅黑"},{value:"NSimSun",label:"新宋体"},{value:"KaiTi",label:"楷体"}]},fontSize:{title:"文字大小",type:EConfigItemPropsType.InputNumber,val:18},color:{title:"文字颜色",type:EConfigItemPropsType.Color,val:"#000000"},bold:{title:"文字加粗",type:EConfigItemPropsType.Switch,val:!1}},common_animations:{val:"",delay:"delay-0s",speed:"slow",repeat:"infinite"},events:[]},el_tag={name:"el-tag",tag:"el-tag",title:"标签",type:EDoneJsonType.Vue,config:{can_zoom:!0,have_anchor:!0,actual_rect:!0},display:!0,props:{type:{title:"类型",type:EConfigItemPropsType.Select,val:"success",options:[{label:"成功",value:"success"},{label:"警告",value:"warning"},{label:"危险",value:"danger"},{label:"信息",value:"info"}]},closable:{title:"可关闭",type:EConfigItemPropsType.Switch,val:!0},"disable-transitions":{title:"渐变",type:EConfigItemPropsType.Switch,val:!1}},tag_slot:"标签",common_animations:{val:"",delay:"delay-0s",speed:"slow",repeat:"infinite"},events:[]},progress_a={name:"progress-a",tag:"progress-a",title:"进度条",type:EDoneJsonType.Vue,config:{can_zoom:!1,have_anchor:!0,actual_rect:!0},display:!0,props:{percentage:{title:"进度",type:EConfigItemPropsType.InputNumber,val:50}},common_animations:{val:"",delay:"delay-0s",speed:"slow",repeat:"infinite"},events:[]},components={groupType:"custom-vue",title:"VUE组件",list:[el_button,progress_a,common_table,now_time,el_tag]},pie_charts={name:"pie-charts",tag:"pie-charts",title:"饼图",type:EDoneJsonType.Vue,config:{can_zoom:!0,have_anchor:!0,actual_rect:!0},display:!0,props:{title:{title:"标题",type:EConfigItemPropsType.Input,val:"默认标题"},seriesName:{title:"详情",type:EConfigItemPropsType.Input,val:"详情标题"},seriesData:{title:"legendData",type:EConfigItemPropsType.JsonEdit,val:[{value:1048,name:"办公楼A"},{value:735,name:"办公楼B"},{value:580,name:"保安室"},{value:484,name:"地下车库"},{value:300,name:"食堂"}]}},common_animations:{val:"",delay:"delay-0s",speed:"slow",repeat:"infinite"},events:[]},echarts_group={groupType:"echarts",title:"图表",list:[pie_charts]},vue_config=Object.seal([components,echarts_group]),_sfc_main$L=vue.defineComponent({__name:"progress",props:{percentage:{default:10}},emits:["onChange"],setup(r,{emit:n}){const i=r,o=[{color:"#f56c6c",percentage:20},{color:"#e6a23c",percentage:40},{color:"#5cb87a",percentage:60},{color:"#1989fa",percentage:80},{color:"#6f7ad3",percentage:100}];return vue.watch(()=>i.percentage,()=>{n("onChange")}),(a,u)=>(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElProgress),{type:"dashboard",percentage:Number(i.percentage),color:o},null,8,["percentage"]))}}),_hoisted_1$m=["id"],_hoisted_2$i=["id"],_hoisted_3$f=vue.createElementVNode("path",{d:"M747.52 238.933333    H276.48    C122.88 238.933333 0 361.813333 0 512    s122.88 273.066667 276.48 273.066667    H750.933333    c150.186667 0 276.48-122.88 276.48-273.066667    s-126.293333-273.066667-279.893333-273.066667z",fill:"white","fill-opacity":".01","p-id":"1537","data-spm-anchor-id":"a313x.manage_type_myprojects.0.i0.1adc3a81uCnBP5"},null,-1),_hoisted_4$b=vue.createElementVNode("path",{d:"M747.52 238.933333    H276.48    C122.88 238.933333 0 361.813333 0 512    s122.88 273.066667 276.48 273.066667    H750.933333    c150.186667 0 276.48-122.88 276.48-273.066667    s-126.293333-273.066667-279.893333-273.066667z     m0 512    H276.48    C143.36 750.933333 34.133333 645.12 34.133333 512s109.226667-238.933333 242.346667-238.933333    H750.933333c133.12 0 242.346667 105.813333 242.346667 238.933333s-112.64 238.933333-245.76 238.933333z",fill:"#2c2c2c","p-id":"1531","data-spm-anchor-id":"a313x.manage_type_myprojects.0.i0.1adc3a81uCnBP5"},null,-1),_hoisted_5$9=vue.createElementVNode("path",{d:"M238.933333 409.6c-37.546667 0-68.266667 27.306667-68.266666 61.44v85.333333c0 34.133333 30.72 61.44 68.266666 61.44s68.266667-27.306667 68.266667-61.44v-85.333333c0-34.133333-30.72-61.44-68.266667-61.44z m34.133334 146.773333c0 13.653333-17.066667 23.893333-34.133334 23.893334s-34.133333-10.24-34.133333-27.306667v-85.333333c0-13.653333 17.066667-23.893333 34.133333-23.893334s34.133333 10.24 34.133334 27.306667v85.333333zM460.8 409.6c-10.24 0-17.066667 6.826667-17.066667 17.066667v109.226666l-71.68-119.466666c-3.413333-6.826667-10.24-10.24-20.48-6.826667-6.826667 3.413333-13.653333 10.24-13.653333 17.066667v170.666666c0 10.24 6.826667 17.066667 17.066667 17.066667s17.066667-6.826667 17.066666-17.066667v-109.226666l71.68 119.466666c3.413333 6.826667 10.24 6.826667 13.653334 6.826667h3.413333c6.826667-3.413333 13.653333-10.24 13.653333-17.066667v-170.666666c3.413333-10.24-3.413333-17.066667-13.653333-17.066667zM750.933333 341.333333c-95.573333 0-170.666667 75.093333-170.666666 170.666667s75.093333 170.666667 170.666666 170.666667 170.666667-75.093333 170.666667-170.666667-75.093333-170.666667-170.666667-170.666667z",fill:"#5ad562","p-id":"1530","data-spm-anchor-id":"a313x.manage_type_myprojects.0.i1.1adc3a81uCnBP5"},null,-1),_hoisted_6$7=[_hoisted_3$f,_hoisted_4$b,_hoisted_5$9],_hoisted_7$7=["id"],_hoisted_8$7=vue.createElementVNode("path",{d:"M747.52 238.933333    H276.48    C122.88 238.933333 0 361.813333 0 512    s122.88 273.066667 276.48 273.066667    H750.933333    c150.186667 0 276.48-122.88 276.48-273.066667    s-126.293333-273.066667-279.893333-273.066667z",fill:"white","fill-opacity":".01","p-id":"1536","data-spm-anchor-id":"a313x.manage_type_myprojects.0.i0.1adc3a81uCnBP5"},null,-1),_hoisted_9$7=vue.createElementVNode("path",{d:"M747.52 238.933333    H276.48    C122.88 238.933333 0 361.813333 0 512    s122.88 273.066667 276.48 273.066667    H750.933333    c150.186667 0 276.48-122.88 276.48-273.066667    s-126.293333-273.066667-279.893333-273.066667z    m0 512    H276.48    C143.36 750.933333 34.133333 645.12 34.133333 512s109.226667-238.933333 242.346667-238.933333    H750.933333c133.12 0 242.346667 105.813333 242.346667 238.933333s-112.64 238.933333-245.76 238.933333z",fill:"#2c2c2c","p-id":"1535","data-spm-anchor-id":"a313x.manage_type_myprojects.0.i0.1adc3a81uCnBP5"},null,-1),_hoisted_10$6=vue.createElementVNode("path",{d:"M273.066667 341.333333c-95.573333 0-170.666667 75.093333-170.666667 170.666667s75.093333 170.666667 170.666667 170.666667 170.666667-75.093333 170.666666-170.666667-75.093333-170.666667-170.666666-170.666667z",fill:"#bfbfbf","p-id":"1534","data-spm-anchor-id":"a313x.manage_type_myprojects.0.i0.1adc3a81KYNNkt"},null,-1),_hoisted_11$5=vue.createElementVNode("path",{d:"M580.266667 409.6c-37.546667 0-68.266667 27.306667-68.266667 61.44v85.333333c0 34.133333 30.72 61.44 68.266667 61.44s68.266667-27.306667 68.266666-61.44v-85.333333c0-34.133333-30.72-61.44-68.266666-61.44z m34.133333 146.773333c0 13.653333-17.066667 27.306667-34.133333 27.306667s-34.133333-10.24-34.133334-27.306667v-85.333333c0-13.653333 17.066667-27.306667 34.133334-27.306667s34.133333 10.24 34.133333 27.306667v85.333333zM904.533333 409.6h-68.266666c-10.24 0-17.066667 6.826667-17.066667 17.066667v170.666666c0 10.24 6.826667 17.066667 17.066667 17.066667s17.066667-6.826667 17.066666-17.066667V512h17.066667c10.24 0 17.066667-6.826667 17.066667-17.066667s-6.826667-17.066667-17.066667-17.066666H853.333333v-34.133334h51.2c10.24 0 17.066667-6.826667 17.066667-17.066666s-6.826667-17.066667-17.066667-17.066667zM768 409.6h-68.266667c-10.24 0-17.066667 6.826667-17.066666 17.066667v170.666666c0 10.24 6.826667 17.066667 17.066666 17.066667s17.066667-6.826667 17.066667-17.066667V512h17.066667c10.24 0 17.066667-6.826667 17.066666-17.066667s-6.826667-17.066667-17.066666-17.066666H716.8v-34.133334h51.2c10.24 0 17.066667-6.826667 17.066667-17.066666s-6.826667-17.066667-17.066667-17.066667z",fill:"#707070","p-id":"1533","data-spm-anchor-id":"a313x.manage_type_myprojects.0.i2.1adc3a81KYNNkt"},null,-1),_hoisted_12$5=[_hoisted_8$7,_hoisted_9$7,_hoisted_10$6,_hoisted_11$5],_hoisted_13$4=["xlink:href"],_sfc_main$K=vue.defineComponent({__name:"switch-r",props:{id:{type:String,default:""},isOpen:{type:Boolean,default:!0}},emits:["onChange"],setup(r,{emit:n}){const i=r;return vue.watch(()=>i.isOpen,()=>{n("onChange")}),(o,a)=>(vue.openBlock(),vue.createElementBlock("g",{id:i.id},[vue.createElementVNode("symbol",{viewBox:"0 0 1027 1024",id:`${i.id}switch-demo-open`},_hoisted_6$7,8,_hoisted_2$i),vue.createElementVNode("symbol",{viewBox:"0 0 1027 1024",id:`${i.id}switch-demo-close`},_hoisted_12$5,8,_hoisted_7$7),vue.createElementVNode("use",{"xlink:href":`#${i.id}switch-demo-${i.isOpen?"open":"close"}`,width:"100",height:"100"},null,8,_hoisted_13$4)],8,_hoisted_1$m))}}),_sfc_main$J=vue.defineComponent({__name:"svg-text",props:{text:{},bold:{type:Boolean}},emits:["resize"],setup(r,{emit:n}){const i=r;return vue.watch(()=>i.text,()=>{vue.nextTick(function(){n("resize")})}),(o,a)=>(vue.openBlock(),vue.createElementBlock("text",{x:"50",y:"55",style:vue.normalizeStyle({"font-weight":i.bold?"bold":"normal"})},vue.toDisplayString(i.text),5))}}),_sfc_main$I=vue.defineComponent({__name:"common-table",props:{colConfig:{default:()=>[]},data:{default:()=>[]},height:{default:200},maxHeight:{},stripe:{type:Boolean,default:!1},border:{type:Boolean,default:!1},size:{},fit:{type:Boolean,default:!1},operateDisplay:{type:Boolean,default:!1},selectionData:{default:()=>[]}},setup(r){const n=r,i=vue.ref({});return vue.watchEffect(()=>{const{colConfig:o,...a}=n;i.value=a}),(o,a)=>(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElTable),vue.normalizeProps(vue.guardReactiveProps(vue.unref(i))),{default:vue.withCtx(()=>[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(n.colConfig,u=>(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElTableColumn),vue.mergeProps({key:u.prop},u),null,16))),128))]),_:1},16))}}),_hoisted_1$l={class:"flex mt-5px"},_sfc_main$H=vue.defineComponent({__name:"now-time",props:{width:{},fontFamily:{},color:{},fontSize:{},bold:{type:Boolean}},setup(r){const n=r,i=vue.computed(()=>({fontFamily:n.fontFamily,color:n.color,fontSize:n.fontSize+"px",fontWeight:n.bold?"bold":"normal"})),o=vue.ref(new Date),a=vue.ref(),u=vue.computed(()=>{const d=o.value.getFullYear(),p=o.value.getMonth()+1,h=o.value.getDate();return d.toString()+"年"+p.toString()+"月"+h.toString()+"日"}),c=vue.computed(()=>{const d=o.value.getDay();return["星期日","星期一","星期二","星期三","星期四","星期五","星期六"][d]}),f=vue.computed(()=>{const d=o.value.getHours(),p=o.value.getMinutes(),h=o.value.getSeconds();return(d<10?"0"+d.toString():d.toString())+":"+(p<10?"0"+p.toString():p.toString())+":"+(h<10?"0"+h.toString():h.toString())});return vue.onMounted(()=>{a.value=setInterval(()=>{o.value=new Date},500)}),vue.onUnmounted(()=>{clearInterval(a.value)}),(d,p)=>(vue.openBlock(),vue.createElementBlock("div",{class:"now-time",style:vue.normalizeStyle({width:n.width+"px"})},[vue.createElementVNode("div",{style:vue.normalizeStyle(vue.unref(i))},vue.toDisplayString(vue.unref(u)),5),vue.createElementVNode("div",_hoisted_1$l,[vue.createElementVNode("div",{style:vue.normalizeStyle(vue.unref(i))},vue.toDisplayString(vue.unref(c)),5),vue.createElementVNode("div",{style:vue.normalizeStyle(vue.unref(i))},vue.toDisplayString(vue.unref(f)),5)])],4))}}),nowTime_vue_vue_type_style_index_0_scoped_82ca3b84_lang="",_export_sfc$1=(r,n)=>{const i=r.__vccOpts||r;for(const[o,a]of n)i[o]=a;return i},NowTime=_export_sfc$1(_sfc_main$H,[["__scopeId","data-v-82ca3b84"]]);/*! *****************************************************************************
  Copyright (c) Microsoft Corporation.

  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.

  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** */var extendStatics=function(r,n){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a])},extendStatics(r,n)};function __extends(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");extendStatics(r,n);function i(){this.constructor=r}r.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}var Browser=function(){function r(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return r}(),Env=function(){function r(){this.browser=new Browser,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return r}(),env=new Env;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(env.wxa=!0,env.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?env.worker=!0:typeof navigator>"u"?(env.node=!0,env.svgSupported=!0):detect(navigator.userAgent,env);function detect(r,n){var i=n.browser,o=r.match(/Firefox\/([\d.]+)/),a=r.match(/MSIE\s([\d.]+)/)||r.match(/Trident\/.+?rv:(([\d.]+))/),u=r.match(/Edge?\/([\d.]+)/),c=/micromessenger/i.test(r);o&&(i.firefox=!0,i.version=o[1]),a&&(i.ie=!0,i.version=a[1]),u&&(i.edge=!0,i.version=u[1],i.newEdge=+u[1].split(".")[0]>18),c&&(i.weChat=!0),n.svgSupported=typeof SVGRect<"u",n.touchEventsSupported="ontouchstart"in window&&!i.ie&&!i.edge,n.pointerEventsSupported="onpointerdown"in window&&(i.edge||i.ie&&+i.version>=11),n.domSupported=typeof document<"u";var f=document.documentElement.style;n.transform3dSupported=(i.ie&&"transition"in f||i.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in f)&&!("OTransition"in f),n.transformSupported=n.transform3dSupported||i.ie&&+i.version>=9}const env$1=env;var DEFAULT_FONT_SIZE=12,DEFAULT_FONT_FAMILY="sans-serif",DEFAULT_FONT=DEFAULT_FONT_SIZE+"px "+DEFAULT_FONT_FAMILY,OFFSET=20,SCALE=100,defaultWidthMapStr="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function getTextWidthMap(r){var n={};if(typeof JSON>"u")return n;for(var i=0;i<r.length;i++){var o=String.fromCharCode(i+32),a=(r.charCodeAt(i)-OFFSET)/SCALE;n[o]=a}return n}var DEFAULT_TEXT_WIDTH_MAP=getTextWidthMap(defaultWidthMapStr),platformApi={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:function(){var r,n;return function(i,o){if(!r){var a=platformApi.createCanvas();r=a&&a.getContext("2d")}if(r)return n!==o&&(n=r.font=o||DEFAULT_FONT),r.measureText(i);i=i||"",o=o||DEFAULT_FONT;var u=/(\d+)px/.exec(o),c=u&&+u[1]||DEFAULT_FONT_SIZE,f=0;if(o.indexOf("mono")>=0)f=c*i.length;else for(var d=0;d<i.length;d++){var p=DEFAULT_TEXT_WIDTH_MAP[i[d]];f+=p==null?c:p*c}return{width:f}}}(),loadImage:function(r,n,i){var o=new Image;return o.onload=n,o.onerror=i,o.src=r,o}},BUILTIN_OBJECT=reduce(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(r,n){return r["[object "+n+"]"]=!0,r},{}),TYPED_ARRAY=reduce(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(r,n){return r["[object "+n+"Array]"]=!0,r},{}),objToString=Object.prototype.toString,arrayProto=Array.prototype,nativeForEach=arrayProto.forEach,nativeFilter=arrayProto.filter,nativeSlice=arrayProto.slice,nativeMap=arrayProto.map,ctorFunction=function(){}.constructor,protoFunction=ctorFunction?ctorFunction.prototype:null,protoKey="__proto__",idStart=2311;function guid(){return idStart++}function logError(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];typeof console<"u"&&console.error.apply(console,r)}function clone$2(r){if(r==null||typeof r!="object")return r;var n=r,i=objToString.call(r);if(i==="[object Array]"){if(!isPrimitive(r)){n=[];for(var o=0,a=r.length;o<a;o++)n[o]=clone$2(r[o])}}else if(TYPED_ARRAY[i]){if(!isPrimitive(r)){var u=r.constructor;if(u.from)n=u.from(r);else{n=new u(r.length);for(var o=0,a=r.length;o<a;o++)n[o]=r[o]}}}else if(!BUILTIN_OBJECT[i]&&!isPrimitive(r)&&!isDom(r)){n={};for(var c in r)r.hasOwnProperty(c)&&c!==protoKey&&(n[c]=clone$2(r[c]))}return n}function merge(r,n,i){if(!isObject$3(n)||!isObject$3(r))return i?clone$2(n):r;for(var o in n)if(n.hasOwnProperty(o)&&o!==protoKey){var a=r[o],u=n[o];isObject$3(u)&&isObject$3(a)&&!isArray$1(u)&&!isArray$1(a)&&!isDom(u)&&!isDom(a)&&!isBuiltInObject(u)&&!isBuiltInObject(a)&&!isPrimitive(u)&&!isPrimitive(a)?merge(a,u,i):(i||!(o in r))&&(r[o]=clone$2(n[o]))}return r}function extend(r,n){if(Object.assign)Object.assign(r,n);else for(var i in n)n.hasOwnProperty(i)&&i!==protoKey&&(r[i]=n[i]);return r}function defaults(r,n,i){for(var o=keys(n),a=0;a<o.length;a++){var u=o[a];(i?n[u]!=null:r[u]==null)&&(r[u]=n[u])}return r}function indexOf(r,n){if(r){if(r.indexOf)return r.indexOf(n);for(var i=0,o=r.length;i<o;i++)if(r[i]===n)return i}return-1}function inherits(r,n){var i=r.prototype;function o(){}o.prototype=n.prototype,r.prototype=new o;for(var a in i)i.hasOwnProperty(a)&&(r.prototype[a]=i[a]);r.prototype.constructor=r,r.superClass=n}function mixin(r,n,i){if(r="prototype"in r?r.prototype:r,n="prototype"in n?n.prototype:n,Object.getOwnPropertyNames)for(var o=Object.getOwnPropertyNames(n),a=0;a<o.length;a++){var u=o[a];u!=="constructor"&&(i?n[u]!=null:r[u]==null)&&(r[u]=n[u])}else defaults(r,n,i)}function isArrayLike(r){return!r||typeof r=="string"?!1:typeof r.length=="number"}function each$4(r,n,i){if(r&&n)if(r.forEach&&r.forEach===nativeForEach)r.forEach(n,i);else if(r.length===+r.length)for(var o=0,a=r.length;o<a;o++)n.call(i,r[o],o,r);else for(var u in r)r.hasOwnProperty(u)&&n.call(i,r[u],u,r)}function map$1(r,n,i){if(!r)return[];if(!n)return slice(r);if(r.map&&r.map===nativeMap)return r.map(n,i);for(var o=[],a=0,u=r.length;a<u;a++)o.push(n.call(i,r[a],a,r));return o}function reduce(r,n,i,o){if(r&&n){for(var a=0,u=r.length;a<u;a++)i=n.call(o,i,r[a],a,r);return i}}function filter(r,n,i){if(!r)return[];if(!n)return slice(r);if(r.filter&&r.filter===nativeFilter)return r.filter(n,i);for(var o=[],a=0,u=r.length;a<u;a++)n.call(i,r[a],a,r)&&o.push(r[a]);return o}function keys(r){if(!r)return[];if(Object.keys)return Object.keys(r);var n=[];for(var i in r)r.hasOwnProperty(i)&&n.push(i);return n}function bindPolyfill(r,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];return function(){return r.apply(n,i.concat(nativeSlice.call(arguments)))}}var bind$1=protoFunction&&isFunction$1(protoFunction.bind)?protoFunction.call.bind(protoFunction.bind):bindPolyfill;function curry$1(r){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];return function(){return r.apply(this,n.concat(nativeSlice.call(arguments)))}}function isArray$1(r){return Array.isArray?Array.isArray(r):objToString.call(r)==="[object Array]"}function isFunction$1(r){return typeof r=="function"}function isString$2(r){return typeof r=="string"}function isStringSafe(r){return objToString.call(r)==="[object String]"}function isNumber$1(r){return typeof r=="number"}function isObject$3(r){var n=typeof r;return n==="function"||!!r&&n==="object"}function isBuiltInObject(r){return!!BUILTIN_OBJECT[objToString.call(r)]}function isTypedArray(r){return!!TYPED_ARRAY[objToString.call(r)]}function isDom(r){return typeof r=="object"&&typeof r.nodeType=="number"&&typeof r.ownerDocument=="object"}function isGradientObject(r){return r.colorStops!=null}function isRegExp(r){return objToString.call(r)==="[object RegExp]"}function eqNaN(r){return r!==r}function retrieve(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];for(var i=0,o=r.length;i<o;i++)if(r[i]!=null)return r[i]}function retrieve2(r,n){return r??n}function retrieve3(r,n,i){return r??n??i}function slice(r){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];return nativeSlice.apply(r,n)}function normalizeCssArray$1(r){if(typeof r=="number")return[r,r,r,r];var n=r.length;return n===2?[r[0],r[1],r[0],r[1]]:n===3?[r[0],r[1],r[2],r[1]]:r}function assert(r,n){if(!r)throw new Error(n)}function trim(r){return r==null?null:typeof r.trim=="function"?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var primitiveKey="__ec_primitive__";function setAsPrimitive(r){r[primitiveKey]=!0}function isPrimitive(r){return r[primitiveKey]}var MapPolyfill=function(){function r(){this.data={}}return r.prototype.delete=function(n){var i=this.has(n);return i&&delete this.data[n],i},r.prototype.has=function(n){return this.data.hasOwnProperty(n)},r.prototype.get=function(n){return this.data[n]},r.prototype.set=function(n,i){return this.data[n]=i,this},r.prototype.keys=function(){return keys(this.data)},r.prototype.forEach=function(n){var i=this.data;for(var o in i)i.hasOwnProperty(o)&&n(i[o],o)},r}(),isNativeMapSupported=typeof Map=="function";function maybeNativeMap(){return isNativeMapSupported?new Map:new MapPolyfill}var HashMap=function(){function r(n){var i=isArray$1(n);this.data=maybeNativeMap();var o=this;n instanceof r?n.each(a):n&&each$4(n,a);function a(u,c){i?o.set(u,c):o.set(c,u)}}return r.prototype.hasKey=function(n){return this.data.has(n)},r.prototype.get=function(n){return this.data.get(n)},r.prototype.set=function(n,i){return this.data.set(n,i),i},r.prototype.each=function(n,i){this.data.forEach(function(o,a){n.call(i,o,a)})},r.prototype.keys=function(){var n=this.data.keys();return isNativeMapSupported?Array.from(n):n},r.prototype.removeKey=function(n){this.data.delete(n)},r}();function createHashMap(r){return new HashMap(r)}function concatArray(r,n){for(var i=new r.constructor(r.length+n.length),o=0;o<r.length;o++)i[o]=r[o];for(var a=r.length,o=0;o<n.length;o++)i[o+a]=n[o];return i}function createObject(r,n){var i;if(Object.create)i=Object.create(r);else{var o=function(){};o.prototype=r,i=new o}return n&&extend(i,n),i}function hasOwn$1(r,n){return r.hasOwnProperty(n)}function noop$1(){}var RADIAN_TO_DEGREE=180/Math.PI;function create$1(r,n){return r==null&&(r=0),n==null&&(n=0),[r,n]}function clone$1(r){return[r[0],r[1]]}function add(r,n,i){return r[0]=n[0]+i[0],r[1]=n[1]+i[1],r}function sub$1(r,n,i){return r[0]=n[0]-i[0],r[1]=n[1]-i[1],r}function len(r){return Math.sqrt(lenSquare(r))}function lenSquare(r){return r[0]*r[0]+r[1]*r[1]}function scale$1(r,n,i){return r[0]=n[0]*i,r[1]=n[1]*i,r}function normalize(r,n){var i=len(n);return i===0?(r[0]=0,r[1]=0):(r[0]=n[0]/i,r[1]=n[1]/i),r}function distance(r,n){return Math.sqrt((r[0]-n[0])*(r[0]-n[0])+(r[1]-n[1])*(r[1]-n[1]))}var dist$1=distance;function distanceSquare(r,n){return(r[0]-n[0])*(r[0]-n[0])+(r[1]-n[1])*(r[1]-n[1])}var distSquare=distanceSquare;function lerp(r,n,i,o){return r[0]=n[0]+o*(i[0]-n[0]),r[1]=n[1]+o*(i[1]-n[1]),r}function applyTransform$1(r,n,i){var o=n[0],a=n[1];return r[0]=i[0]*o+i[2]*a+i[4],r[1]=i[1]*o+i[3]*a+i[5],r}function min$1(r,n,i){return r[0]=Math.min(n[0],i[0]),r[1]=Math.min(n[1],i[1]),r}function max$1(r,n,i){return r[0]=Math.max(n[0],i[0]),r[1]=Math.max(n[1],i[1]),r}var Param=function(){function r(n,i){this.target=n,this.topTarget=i&&i.topTarget}return r}(),Draggable=function(){function r(n){this.handler=n,n.on("mousedown",this._dragStart,this),n.on("mousemove",this._drag,this),n.on("mouseup",this._dragEnd,this)}return r.prototype._dragStart=function(n){for(var i=n.target;i&&!i.draggable;)i=i.parent||i.__hostTarget;i&&(this._draggingTarget=i,i.dragging=!0,this._x=n.offsetX,this._y=n.offsetY,this.handler.dispatchToElement(new Param(i,n),"dragstart",n.event))},r.prototype._drag=function(n){var i=this._draggingTarget;if(i){var o=n.offsetX,a=n.offsetY,u=o-this._x,c=a-this._y;this._x=o,this._y=a,i.drift(u,c,n),this.handler.dispatchToElement(new Param(i,n),"drag",n.event);var f=this.handler.findHover(o,a,i).target,d=this._dropTarget;this._dropTarget=f,i!==f&&(d&&f!==d&&this.handler.dispatchToElement(new Param(d,n),"dragleave",n.event),f&&f!==d&&this.handler.dispatchToElement(new Param(f,n),"dragenter",n.event))}},r.prototype._dragEnd=function(n){var i=this._draggingTarget;i&&(i.dragging=!1),this.handler.dispatchToElement(new Param(i,n),"dragend",n.event),this._dropTarget&&this.handler.dispatchToElement(new Param(this._dropTarget,n),"drop",n.event),this._draggingTarget=null,this._dropTarget=null},r}();const Draggable$1=Draggable;var Eventful=function(){function r(n){n&&(this._$eventProcessor=n)}return r.prototype.on=function(n,i,o,a){this._$handlers||(this._$handlers={});var u=this._$handlers;if(typeof i=="function"&&(a=o,o=i,i=null),!o||!n)return this;var c=this._$eventProcessor;i!=null&&c&&c.normalizeQuery&&(i=c.normalizeQuery(i)),u[n]||(u[n]=[]);for(var f=0;f<u[n].length;f++)if(u[n][f].h===o)return this;var d={h:o,query:i,ctx:a||this,callAtLast:o.zrEventfulCallAtLast},p=u[n].length-1,h=u[n][p];return h&&h.callAtLast?u[n].splice(p,0,d):u[n].push(d),this},r.prototype.isSilent=function(n){var i=this._$handlers;return!i||!i[n]||!i[n].length},r.prototype.off=function(n,i){var o=this._$handlers;if(!o)return this;if(!n)return this._$handlers={},this;if(i){if(o[n]){for(var a=[],u=0,c=o[n].length;u<c;u++)o[n][u].h!==i&&a.push(o[n][u]);o[n]=a}o[n]&&o[n].length===0&&delete o[n]}else delete o[n];return this},r.prototype.trigger=function(n){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];if(!this._$handlers)return this;var a=this._$handlers[n],u=this._$eventProcessor;if(a)for(var c=i.length,f=a.length,d=0;d<f;d++){var p=a[d];if(!(u&&u.filter&&p.query!=null&&!u.filter(n,p.query)))switch(c){case 0:p.h.call(p.ctx);break;case 1:p.h.call(p.ctx,i[0]);break;case 2:p.h.call(p.ctx,i[0],i[1]);break;default:p.h.apply(p.ctx,i);break}}return u&&u.afterTrigger&&u.afterTrigger(n),this},r.prototype.triggerWithContext=function(n){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];if(!this._$handlers)return this;var a=this._$handlers[n],u=this._$eventProcessor;if(a)for(var c=i.length,f=i[c-1],d=a.length,p=0;p<d;p++){var h=a[p];if(!(u&&u.filter&&h.query!=null&&!u.filter(n,h.query)))switch(c){case 0:h.h.call(f);break;case 1:h.h.call(f,i[0]);break;case 2:h.h.call(f,i[0],i[1]);break;default:h.h.apply(f,i.slice(1,c-1));break}}return u&&u.afterTrigger&&u.afterTrigger(n),this},r}();const Eventful$1=Eventful;var LN2=Math.log(2);function determinant(r,n,i,o,a,u){var c=o+"-"+a,f=r.length;if(u.hasOwnProperty(c))return u[c];if(n===1){var d=Math.round(Math.log((1<<f)-1&~a)/LN2);return r[i][d]}for(var p=o|1<<i,h=i+1;o&1<<h;)h++;for(var g=0,v=0,y=0;v<f;v++){var A=1<<v;A&a||(g+=(y%2?-1:1)*r[i][v]*determinant(r,n-1,h,p,a|A,u),y++)}return u[c]=g,g}function buildTransformer(r,n){var i=[[r[0],r[1],1,0,0,0,-n[0]*r[0],-n[0]*r[1]],[0,0,0,r[0],r[1],1,-n[1]*r[0],-n[1]*r[1]],[r[2],r[3],1,0,0,0,-n[2]*r[2],-n[2]*r[3]],[0,0,0,r[2],r[3],1,-n[3]*r[2],-n[3]*r[3]],[r[4],r[5],1,0,0,0,-n[4]*r[4],-n[4]*r[5]],[0,0,0,r[4],r[5],1,-n[5]*r[4],-n[5]*r[5]],[r[6],r[7],1,0,0,0,-n[6]*r[6],-n[6]*r[7]],[0,0,0,r[6],r[7],1,-n[7]*r[6],-n[7]*r[7]]],o={},a=determinant(i,8,0,0,0,o);if(a!==0){for(var u=[],c=0;c<8;c++)for(var f=0;f<8;f++)u[f]==null&&(u[f]=0),u[f]+=((c+f)%2?-1:1)*determinant(i,7,c===0?1:0,1<<c,1<<f,o)/a*n[c];return function(d,p,h){var g=p*u[6]+h*u[7]+1;d[0]=(p*u[0]+h*u[1]+u[2])/g,d[1]=(p*u[3]+h*u[4]+u[5])/g}}}var EVENT_SAVED_PROP="___zrEVENTSAVED",_calcOut$1=[];function transformLocalCoord(r,n,i,o,a){return transformCoordWithViewport(_calcOut$1,n,o,a,!0)&&transformCoordWithViewport(r,i,_calcOut$1[0],_calcOut$1[1])}function transformCoordWithViewport(r,n,i,o,a){if(n.getBoundingClientRect&&env$1.domSupported&&!isCanvasEl(n)){var u=n[EVENT_SAVED_PROP]||(n[EVENT_SAVED_PROP]={}),c=prepareCoordMarkers(n,u),f=preparePointerTransformer(c,u,a);if(f)return f(r,i,o),!0}return!1}function prepareCoordMarkers(r,n){var i=n.markers;if(i)return i;i=n.markers=[];for(var o=["left","right"],a=["top","bottom"],u=0;u<4;u++){var c=document.createElement("div"),f=c.style,d=u%2,p=(u>>1)%2;f.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",o[d]+":0",a[p]+":0",o[1-d]+":auto",a[1-p]+":auto",""].join("!important;"),r.appendChild(c),i.push(c)}return i}function preparePointerTransformer(r,n,i){for(var o=i?"invTrans":"trans",a=n[o],u=n.srcCoords,c=[],f=[],d=!0,p=0;p<4;p++){var h=r[p].getBoundingClientRect(),g=2*p,v=h.left,y=h.top;c.push(v,y),d=d&&u&&v===u[g]&&y===u[g+1],f.push(r[p].offsetLeft,r[p].offsetTop)}return d&&a?a:(n.srcCoords=c,n[o]=i?buildTransformer(f,c):buildTransformer(c,f))}function isCanvasEl(r){return r.nodeName.toUpperCase()==="CANVAS"}var replaceReg=/([&<>"'])/g,replaceMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function encodeHTML(r){return r==null?"":(r+"").replace(replaceReg,function(n,i){return replaceMap[i]})}var MOUSE_EVENT_REG=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,_calcOut=[],firefoxNotSupportOffsetXY=env$1.browser.firefox&&+env$1.browser.version.split(".")[0]<39;function clientToLocal(r,n,i,o){return i=i||{},o?calculateZrXY(r,n,i):firefoxNotSupportOffsetXY&&n.layerX!=null&&n.layerX!==n.offsetX?(i.zrX=n.layerX,i.zrY=n.layerY):n.offsetX!=null?(i.zrX=n.offsetX,i.zrY=n.offsetY):calculateZrXY(r,n,i),i}function calculateZrXY(r,n,i){if(env$1.domSupported&&r.getBoundingClientRect){var o=n.clientX,a=n.clientY;if(isCanvasEl(r)){var u=r.getBoundingClientRect();i.zrX=o-u.left,i.zrY=a-u.top;return}else if(transformCoordWithViewport(_calcOut,r,o,a)){i.zrX=_calcOut[0],i.zrY=_calcOut[1];return}}i.zrX=i.zrY=0}function getNativeEvent(r){return r||window.event}function normalizeEvent(r,n,i){if(n=getNativeEvent(n),n.zrX!=null)return n;var o=n.type,a=o&&o.indexOf("touch")>=0;if(a){var c=o!=="touchend"?n.targetTouches[0]:n.changedTouches[0];c&&clientToLocal(r,c,n,i)}else{clientToLocal(r,n,n,i);var u=getWheelDeltaMayPolyfill(n);n.zrDelta=u?u/120:-(n.detail||0)/3}var f=n.button;return n.which==null&&f!==void 0&&MOUSE_EVENT_REG.test(n.type)&&(n.which=f&1?1:f&2?3:f&4?2:0),n}function getWheelDeltaMayPolyfill(r){var n=r.wheelDelta;if(n)return n;var i=r.deltaX,o=r.deltaY;if(i==null||o==null)return n;var a=Math.abs(o!==0?o:i),u=o>0?-1:o<0?1:i>0?-1:1;return 3*a*u}function addEventListener(r,n,i,o){r.addEventListener(n,i,o)}function removeEventListener(r,n,i,o){r.removeEventListener(n,i,o)}var stop=function(r){r.preventDefault(),r.stopPropagation(),r.cancelBubble=!0},GestureMgr=function(){function r(){this._track=[]}return r.prototype.recognize=function(n,i,o){return this._doTrack(n,i,o),this._recognize(n)},r.prototype.clear=function(){return this._track.length=0,this},r.prototype._doTrack=function(n,i,o){var a=n.touches;if(a){for(var u={points:[],touches:[],target:i,event:n},c=0,f=a.length;c<f;c++){var d=a[c],p=clientToLocal(o,d,{});u.points.push([p.zrX,p.zrY]),u.touches.push(d)}this._track.push(u)}},r.prototype._recognize=function(n){for(var i in recognizers)if(recognizers.hasOwnProperty(i)){var o=recognizers[i](this._track,n);if(o)return o}},r}();function dist(r){var n=r[1][0]-r[0][0],i=r[1][1]-r[0][1];return Math.sqrt(n*n+i*i)}function center(r){return[(r[0][0]+r[1][0])/2,(r[0][1]+r[1][1])/2]}var recognizers={pinch:function(r,n){var i=r.length;if(i){var o=(r[i-1]||{}).points,a=(r[i-2]||{}).points||o;if(a&&a.length>1&&o&&o.length>1){var u=dist(o)/dist(a);!isFinite(u)&&(u=1),n.pinchScale=u;var c=center(o);return n.pinchX=c[0],n.pinchY=c[1],{type:"pinch",target:r[0].target,event:n}}}}};function create(){return[1,0,0,1,0,0]}function identity$1(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=1,r[4]=0,r[5]=0,r}function copy(r,n){return r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r[4]=n[4],r[5]=n[5],r}function mul(r,n,i){var o=n[0]*i[0]+n[2]*i[1],a=n[1]*i[0]+n[3]*i[1],u=n[0]*i[2]+n[2]*i[3],c=n[1]*i[2]+n[3]*i[3],f=n[0]*i[4]+n[2]*i[5]+n[4],d=n[1]*i[4]+n[3]*i[5]+n[5];return r[0]=o,r[1]=a,r[2]=u,r[3]=c,r[4]=f,r[5]=d,r}function translate$1(r,n,i){return r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r[4]=n[4]+i[0],r[5]=n[5]+i[1],r}function rotate(r,n,i){var o=n[0],a=n[2],u=n[4],c=n[1],f=n[3],d=n[5],p=Math.sin(i),h=Math.cos(i);return r[0]=o*h+c*p,r[1]=-o*p+c*h,r[2]=a*h+f*p,r[3]=-a*p+h*f,r[4]=h*u+p*d,r[5]=h*d-p*u,r}function scale(r,n,i){var o=i[0],a=i[1];return r[0]=n[0]*o,r[1]=n[1]*a,r[2]=n[2]*o,r[3]=n[3]*a,r[4]=n[4]*o,r[5]=n[5]*a,r}function invert(r,n){var i=n[0],o=n[2],a=n[4],u=n[1],c=n[3],f=n[5],d=i*c-u*o;return d?(d=1/d,r[0]=c*d,r[1]=-u*d,r[2]=-o*d,r[3]=i*d,r[4]=(o*f-c*a)*d,r[5]=(u*a-i*f)*d,r):null}var Point=function(){function r(n,i){this.x=n||0,this.y=i||0}return r.prototype.copy=function(n){return this.x=n.x,this.y=n.y,this},r.prototype.clone=function(){return new r(this.x,this.y)},r.prototype.set=function(n,i){return this.x=n,this.y=i,this},r.prototype.equal=function(n){return n.x===this.x&&n.y===this.y},r.prototype.add=function(n){return this.x+=n.x,this.y+=n.y,this},r.prototype.scale=function(n){this.x*=n,this.y*=n},r.prototype.scaleAndAdd=function(n,i){this.x+=n.x*i,this.y+=n.y*i},r.prototype.sub=function(n){return this.x-=n.x,this.y-=n.y,this},r.prototype.dot=function(n){return this.x*n.x+this.y*n.y},r.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},r.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},r.prototype.normalize=function(){var n=this.len();return this.x/=n,this.y/=n,this},r.prototype.distance=function(n){var i=this.x-n.x,o=this.y-n.y;return Math.sqrt(i*i+o*o)},r.prototype.distanceSquare=function(n){var i=this.x-n.x,o=this.y-n.y;return i*i+o*o},r.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},r.prototype.transform=function(n){if(n){var i=this.x,o=this.y;return this.x=n[0]*i+n[2]*o+n[4],this.y=n[1]*i+n[3]*o+n[5],this}},r.prototype.toArray=function(n){return n[0]=this.x,n[1]=this.y,n},r.prototype.fromArray=function(n){this.x=n[0],this.y=n[1]},r.set=function(n,i,o){n.x=i,n.y=o},r.copy=function(n,i){n.x=i.x,n.y=i.y},r.len=function(n){return Math.sqrt(n.x*n.x+n.y*n.y)},r.lenSquare=function(n){return n.x*n.x+n.y*n.y},r.dot=function(n,i){return n.x*i.x+n.y*i.y},r.add=function(n,i,o){n.x=i.x+o.x,n.y=i.y+o.y},r.sub=function(n,i,o){n.x=i.x-o.x,n.y=i.y-o.y},r.scale=function(n,i,o){n.x=i.x*o,n.y=i.y*o},r.scaleAndAdd=function(n,i,o,a){n.x=i.x+o.x*a,n.y=i.y+o.y*a},r.lerp=function(n,i,o,a){var u=1-a;n.x=u*i.x+a*o.x,n.y=u*i.y+a*o.y},r}();const Point$1=Point;var mathMin$4=Math.min,mathMax$4=Math.max,lt$1=new Point$1,rb=new Point$1,lb=new Point$1,rt$1=new Point$1,minTv$1=new Point$1,maxTv$1=new Point$1,BoundingRect=function(){function r(n,i,o,a){o<0&&(n=n+o,o=-o),a<0&&(i=i+a,a=-a),this.x=n,this.y=i,this.width=o,this.height=a}return r.prototype.union=function(n){var i=mathMin$4(n.x,this.x),o=mathMin$4(n.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=mathMax$4(n.x+n.width,this.x+this.width)-i:this.width=n.width,isFinite(this.y)&&isFinite(this.height)?this.height=mathMax$4(n.y+n.height,this.y+this.height)-o:this.height=n.height,this.x=i,this.y=o},r.prototype.applyTransform=function(n){r.applyTransform(this,this,n)},r.prototype.calculateTransform=function(n){var i=this,o=n.width/i.width,a=n.height/i.height,u=create();return translate$1(u,u,[-i.x,-i.y]),scale(u,u,[o,a]),translate$1(u,u,[n.x,n.y]),u},r.prototype.intersect=function(n,i){if(!n)return!1;n instanceof r||(n=r.create(n));var o=this,a=o.x,u=o.x+o.width,c=o.y,f=o.y+o.height,d=n.x,p=n.x+n.width,h=n.y,g=n.y+n.height,v=!(u<d||p<a||f<h||g<c);if(i){var y=1/0,A=0,_=Math.abs(u-d),S=Math.abs(p-a),b=Math.abs(f-h),T=Math.abs(g-c),w=Math.min(_,S),x=Math.min(b,T);u<d||p<a?w>A&&(A=w,_<S?Point$1.set(maxTv$1,-_,0):Point$1.set(maxTv$1,S,0)):w<y&&(y=w,_<S?Point$1.set(minTv$1,_,0):Point$1.set(minTv$1,-S,0)),f<h||g<c?x>A&&(A=x,b<T?Point$1.set(maxTv$1,0,-b):Point$1.set(maxTv$1,0,T)):w<y&&(y=w,b<T?Point$1.set(minTv$1,0,b):Point$1.set(minTv$1,0,-T))}return i&&Point$1.copy(i,v?minTv$1:maxTv$1),v},r.prototype.contain=function(n,i){var o=this;return n>=o.x&&n<=o.x+o.width&&i>=o.y&&i<=o.y+o.height},r.prototype.clone=function(){return new r(this.x,this.y,this.width,this.height)},r.prototype.copy=function(n){r.copy(this,n)},r.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},r.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},r.prototype.isZero=function(){return this.width===0||this.height===0},r.create=function(n){return new r(n.x,n.y,n.width,n.height)},r.copy=function(n,i){n.x=i.x,n.y=i.y,n.width=i.width,n.height=i.height},r.applyTransform=function(n,i,o){if(!o){n!==i&&r.copy(n,i);return}if(o[1]<1e-5&&o[1]>-1e-5&&o[2]<1e-5&&o[2]>-1e-5){var a=o[0],u=o[3],c=o[4],f=o[5];n.x=i.x*a+c,n.y=i.y*u+f,n.width=i.width*a,n.height=i.height*u,n.width<0&&(n.x+=n.width,n.width=-n.width),n.height<0&&(n.y+=n.height,n.height=-n.height);return}lt$1.x=lb.x=i.x,lt$1.y=rt$1.y=i.y,rb.x=rt$1.x=i.x+i.width,rb.y=lb.y=i.y+i.height,lt$1.transform(o),rt$1.transform(o),rb.transform(o),lb.transform(o),n.x=mathMin$4(lt$1.x,rb.x,lb.x,rt$1.x),n.y=mathMin$4(lt$1.y,rb.y,lb.y,rt$1.y);var d=mathMax$4(lt$1.x,rb.x,lb.x,rt$1.x),p=mathMax$4(lt$1.y,rb.y,lb.y,rt$1.y);n.width=d-n.x,n.height=p-n.y},r}();const BoundingRect$1=BoundingRect;var SILENT="silent";function makeEventPacket(r,n,i){return{type:r,event:i,target:n.target,topTarget:n.topTarget,cancelBubble:!1,offsetX:i.zrX,offsetY:i.zrY,gestureEvent:i.gestureEvent,pinchX:i.pinchX,pinchY:i.pinchY,pinchScale:i.pinchScale,wheelDelta:i.zrDelta,zrByTouch:i.zrByTouch,which:i.which,stop:stopEvent$1}}function stopEvent$1(){stop(this.event)}var EmptyProxy=function(r){__extends(n,r);function n(){var i=r!==null&&r.apply(this,arguments)||this;return i.handler=null,i}return n.prototype.dispose=function(){},n.prototype.setCursor=function(){},n}(Eventful$1),HoveredResult=function(){function r(n,i){this.x=n,this.y=i}return r}(),handlerNames=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],tmpRect$1=new BoundingRect$1(0,0,0,0),Handler=function(r){__extends(n,r);function n(i,o,a,u,c){var f=r.call(this)||this;return f._hovered=new HoveredResult(0,0),f.storage=i,f.painter=o,f.painterRoot=u,f._pointerSize=c,a=a||new EmptyProxy,f.proxy=null,f.setHandlerProxy(a),f._draggingMgr=new Draggable$1(f),f}return n.prototype.setHandlerProxy=function(i){this.proxy&&this.proxy.dispose(),i&&(each$4(handlerNames,function(o){i.on&&i.on(o,this[o],this)},this),i.handler=this),this.proxy=i},n.prototype.mousemove=function(i){var o=i.zrX,a=i.zrY,u=isOutsideBoundary(this,o,a),c=this._hovered,f=c.target;f&&!f.__zr&&(c=this.findHover(c.x,c.y),f=c.target);var d=this._hovered=u?new HoveredResult(o,a):this.findHover(o,a),p=d.target,h=this.proxy;h.setCursor&&h.setCursor(p?p.cursor:"default"),f&&p!==f&&this.dispatchToElement(c,"mouseout",i),this.dispatchToElement(d,"mousemove",i),p&&p!==f&&this.dispatchToElement(d,"mouseover",i)},n.prototype.mouseout=function(i){var o=i.zrEventControl;o!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",i),o!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:i})},n.prototype.resize=function(){this._hovered=new HoveredResult(0,0)},n.prototype.dispatch=function(i,o){var a=this[i];a&&a.call(this,o)},n.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},n.prototype.setCursorStyle=function(i){var o=this.proxy;o.setCursor&&o.setCursor(i)},n.prototype.dispatchToElement=function(i,o,a){i=i||{};var u=i.target;if(!(u&&u.silent)){for(var c="on"+o,f=makeEventPacket(o,i,a);u&&(u[c]&&(f.cancelBubble=!!u[c].call(u,f)),u.trigger(o,f),u=u.__hostTarget?u.__hostTarget:u.parent,!f.cancelBubble););f.cancelBubble||(this.trigger(o,f),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(d){typeof d[c]=="function"&&d[c].call(d,f),d.trigger&&d.trigger(o,f)}))}},n.prototype.findHover=function(i,o,a){var u=this.storage.getDisplayList(),c=new HoveredResult(i,o);if(setHoverTarget(u,c,i,o,a),this._pointerSize&&!c.target){for(var f=[],d=this._pointerSize,p=d/2,h=new BoundingRect$1(i-p,o-p,d,d),g=u.length-1;g>=0;g--){var v=u[g];v!==a&&!v.ignore&&!v.ignoreCoarsePointer&&(!v.parent||!v.parent.ignoreCoarsePointer)&&(tmpRect$1.copy(v.getBoundingRect()),v.transform&&tmpRect$1.applyTransform(v.transform),tmpRect$1.intersect(h)&&f.push(v))}if(f.length)for(var y=4,A=Math.PI/12,_=Math.PI*2,S=0;S<p;S+=y)for(var b=0;b<_;b+=A){var T=i+S*Math.cos(b),w=o+S*Math.sin(b);if(setHoverTarget(f,c,T,w,a),c.target)return c}}return c},n.prototype.processGesture=function(i,o){this._gestureMgr||(this._gestureMgr=new GestureMgr);var a=this._gestureMgr;o==="start"&&a.clear();var u=a.recognize(i,this.findHover(i.zrX,i.zrY,null).target,this.proxy.dom);if(o==="end"&&a.clear(),u){var c=u.type;i.gestureEvent=c;var f=new HoveredResult;f.target=u.target,this.dispatchToElement(f,c,u.event)}},n}(Eventful$1);each$4(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(r){Handler.prototype[r]=function(n){var i=n.zrX,o=n.zrY,a=isOutsideBoundary(this,i,o),u,c;if((r!=="mouseup"||!a)&&(u=this.findHover(i,o),c=u.target),r==="mousedown")this._downEl=c,this._downPoint=[n.zrX,n.zrY],this._upEl=c;else if(r==="mouseup")this._upEl=c;else if(r==="click"){if(this._downEl!==this._upEl||!this._downPoint||dist$1(this._downPoint,[n.zrX,n.zrY])>4)return;this._downPoint=null}this.dispatchToElement(u,r,n)}});function isHover(r,n,i){if(r[r.rectHover?"rectContain":"contain"](n,i)){for(var o=r,a=void 0,u=!1;o;){if(o.ignoreClip&&(u=!0),!u){var c=o.getClipPath();if(c&&!c.contain(n,i))return!1;o.silent&&(a=!0)}var f=o.__hostTarget;o=f||o.parent}return a?SILENT:!0}return!1}function setHoverTarget(r,n,i,o,a){for(var u=r.length-1;u>=0;u--){var c=r[u],f=void 0;if(c!==a&&!c.ignore&&(f=isHover(c,i,o))&&(!n.topTarget&&(n.topTarget=c),f!==SILENT)){n.target=c;break}}}function isOutsideBoundary(r,n,i){var o=r.painter;return n<0||n>o.getWidth()||i<0||i>o.getHeight()}const Handler$1=Handler;var DEFAULT_MIN_MERGE=32,DEFAULT_MIN_GALLOPING=7;function minRunLength(r){for(var n=0;r>=DEFAULT_MIN_MERGE;)n|=r&1,r>>=1;return r+n}function makeAscendingRun(r,n,i,o){var a=n+1;if(a===i)return 1;if(o(r[a++],r[n])<0){for(;a<i&&o(r[a],r[a-1])<0;)a++;reverseRun(r,n,a)}else for(;a<i&&o(r[a],r[a-1])>=0;)a++;return a-n}function reverseRun(r,n,i){for(i--;n<i;){var o=r[n];r[n++]=r[i],r[i--]=o}}function binaryInsertionSort(r,n,i,o,a){for(o===n&&o++;o<i;o++){for(var u=r[o],c=n,f=o,d;c<f;)d=c+f>>>1,a(u,r[d])<0?f=d:c=d+1;var p=o-c;switch(p){case 3:r[c+3]=r[c+2];case 2:r[c+2]=r[c+1];case 1:r[c+1]=r[c];break;default:for(;p>0;)r[c+p]=r[c+p-1],p--}r[c]=u}}function gallopLeft(r,n,i,o,a,u){var c=0,f=0,d=1;if(u(r,n[i+a])>0){for(f=o-a;d<f&&u(r,n[i+a+d])>0;)c=d,d=(d<<1)+1,d<=0&&(d=f);d>f&&(d=f),c+=a,d+=a}else{for(f=a+1;d<f&&u(r,n[i+a-d])<=0;)c=d,d=(d<<1)+1,d<=0&&(d=f);d>f&&(d=f);var p=c;c=a-d,d=a-p}for(c++;c<d;){var h=c+(d-c>>>1);u(r,n[i+h])>0?c=h+1:d=h}return d}function gallopRight(r,n,i,o,a,u){var c=0,f=0,d=1;if(u(r,n[i+a])<0){for(f=a+1;d<f&&u(r,n[i+a-d])<0;)c=d,d=(d<<1)+1,d<=0&&(d=f);d>f&&(d=f);var p=c;c=a-d,d=a-p}else{for(f=o-a;d<f&&u(r,n[i+a+d])>=0;)c=d,d=(d<<1)+1,d<=0&&(d=f);d>f&&(d=f),c+=a,d+=a}for(c++;c<d;){var h=c+(d-c>>>1);u(r,n[i+h])<0?d=h:c=h+1}return d}function TimSort(r,n){var i=DEFAULT_MIN_GALLOPING,o,a,u=0;r.length;var c=[];o=[],a=[];function f(y,A){o[u]=y,a[u]=A,u+=1}function d(){for(;u>1;){var y=u-2;if(y>=1&&a[y-1]<=a[y]+a[y+1]||y>=2&&a[y-2]<=a[y]+a[y-1])a[y-1]<a[y+1]&&y--;else if(a[y]>a[y+1])break;h(y)}}function p(){for(;u>1;){var y=u-2;y>0&&a[y-1]<a[y+1]&&y--,h(y)}}function h(y){var A=o[y],_=a[y],S=o[y+1],b=a[y+1];a[y]=_+b,y===u-3&&(o[y+1]=o[y+2],a[y+1]=a[y+2]),u--;var T=gallopRight(r[S],r,A,_,0,n);A+=T,_-=T,_!==0&&(b=gallopLeft(r[A+_-1],r,S,b,b-1,n),b!==0&&(_<=b?g(A,_,S,b):v(A,_,S,b)))}function g(y,A,_,S){var b=0;for(b=0;b<A;b++)c[b]=r[y+b];var T=0,w=_,x=y;if(r[x++]=r[w++],--S===0){for(b=0;b<A;b++)r[x+b]=c[T+b];return}if(A===1){for(b=0;b<S;b++)r[x+b]=r[w+b];r[x+S]=c[T];return}for(var k=i,M,D,z;;){M=0,D=0,z=!1;do if(n(r[w],c[T])<0){if(r[x++]=r[w++],D++,M=0,--S===0){z=!0;break}}else if(r[x++]=c[T++],M++,D=0,--A===1){z=!0;break}while((M|D)<k);if(z)break;do{if(M=gallopRight(r[w],c,T,A,0,n),M!==0){for(b=0;b<M;b++)r[x+b]=c[T+b];if(x+=M,T+=M,A-=M,A<=1){z=!0;break}}if(r[x++]=r[w++],--S===0){z=!0;break}if(D=gallopLeft(c[T],r,w,S,0,n),D!==0){for(b=0;b<D;b++)r[x+b]=r[w+b];if(x+=D,w+=D,S-=D,S===0){z=!0;break}}if(r[x++]=c[T++],--A===1){z=!0;break}k--}while(M>=DEFAULT_MIN_GALLOPING||D>=DEFAULT_MIN_GALLOPING);if(z)break;k<0&&(k=0),k+=2}if(i=k,i<1&&(i=1),A===1){for(b=0;b<S;b++)r[x+b]=r[w+b];r[x+S]=c[T]}else{if(A===0)throw new Error;for(b=0;b<A;b++)r[x+b]=c[T+b]}}function v(y,A,_,S){var b=0;for(b=0;b<S;b++)c[b]=r[_+b];var T=y+A-1,w=S-1,x=_+S-1,k=0,M=0;if(r[x--]=r[T--],--A===0){for(k=x-(S-1),b=0;b<S;b++)r[k+b]=c[b];return}if(S===1){for(x-=A,T-=A,M=x+1,k=T+1,b=A-1;b>=0;b--)r[M+b]=r[k+b];r[x]=c[w];return}for(var D=i;;){var z=0,j=0,oe=!1;do if(n(c[w],r[T])<0){if(r[x--]=r[T--],z++,j=0,--A===0){oe=!0;break}}else if(r[x--]=c[w--],j++,z=0,--S===1){oe=!0;break}while((z|j)<D);if(oe)break;do{if(z=A-gallopRight(c[w],r,y,A,A-1,n),z!==0){for(x-=z,T-=z,A-=z,M=x+1,k=T+1,b=z-1;b>=0;b--)r[M+b]=r[k+b];if(A===0){oe=!0;break}}if(r[x--]=c[w--],--S===1){oe=!0;break}if(j=S-gallopLeft(r[T],c,0,S,S-1,n),j!==0){for(x-=j,w-=j,S-=j,M=x+1,k=w+1,b=0;b<j;b++)r[M+b]=c[k+b];if(S<=1){oe=!0;break}}if(r[x--]=r[T--],--A===0){oe=!0;break}D--}while(z>=DEFAULT_MIN_GALLOPING||j>=DEFAULT_MIN_GALLOPING);if(oe)break;D<0&&(D=0),D+=2}if(i=D,i<1&&(i=1),S===1){for(x-=A,T-=A,M=x+1,k=T+1,b=A-1;b>=0;b--)r[M+b]=r[k+b];r[x]=c[w]}else{if(S===0)throw new Error;for(k=x-(S-1),b=0;b<S;b++)r[k+b]=c[b]}}return{mergeRuns:d,forceMergeRuns:p,pushRun:f}}function sort(r,n,i,o){i||(i=0),o||(o=r.length);var a=o-i;if(!(a<2)){var u=0;if(a<DEFAULT_MIN_MERGE){u=makeAscendingRun(r,i,o,n),binaryInsertionSort(r,i,o,i+u,n);return}var c=TimSort(r,n),f=minRunLength(a);do{if(u=makeAscendingRun(r,i,o,n),u<f){var d=a;d>f&&(d=f),binaryInsertionSort(r,i,i+d,i+u,n),u=d}c.pushRun(i,u),c.mergeRuns(),a-=u,i+=u}while(a!==0);c.forceMergeRuns()}}var REDRAW_BIT=1,STYLE_CHANGED_BIT=2,SHAPE_CHANGED_BIT=4,invalidZErrorLogged=!1;function logInvalidZError(){invalidZErrorLogged||(invalidZErrorLogged=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function shapeCompareFunc(r,n){return r.zlevel===n.zlevel?r.z===n.z?r.z2-n.z2:r.z-n.z:r.zlevel-n.zlevel}var Storage=function(){function r(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=shapeCompareFunc}return r.prototype.traverse=function(n,i){for(var o=0;o<this._roots.length;o++)this._roots[o].traverse(n,i)},r.prototype.getDisplayList=function(n,i){i=i||!1;var o=this._displayList;return(n||!o.length)&&this.updateDisplayList(i),o},r.prototype.updateDisplayList=function(n){this._displayListLen=0;for(var i=this._roots,o=this._displayList,a=0,u=i.length;a<u;a++)this._updateAndAddDisplayable(i[a],null,n);o.length=this._displayListLen,sort(o,shapeCompareFunc)},r.prototype._updateAndAddDisplayable=function(n,i,o){if(!(n.ignore&&!o)){n.beforeUpdate(),n.update(),n.afterUpdate();var a=n.getClipPath();if(n.ignoreClip)i=null;else if(a){i?i=i.slice():i=[];for(var u=a,c=n;u;)u.parent=c,u.updateTransform(),i.push(u),c=u,u=u.getClipPath()}if(n.childrenRef){for(var f=n.childrenRef(),d=0;d<f.length;d++){var p=f[d];n.__dirty&&(p.__dirty|=REDRAW_BIT),this._updateAndAddDisplayable(p,i,o)}n.__dirty=0}else{var h=n;i&&i.length?h.__clipPaths=i:h.__clipPaths&&h.__clipPaths.length>0&&(h.__clipPaths=[]),isNaN(h.z)&&(logInvalidZError(),h.z=0),isNaN(h.z2)&&(logInvalidZError(),h.z2=0),isNaN(h.zlevel)&&(logInvalidZError(),h.zlevel=0),this._displayList[this._displayListLen++]=h}var g=n.getDecalElement&&n.getDecalElement();g&&this._updateAndAddDisplayable(g,i,o);var v=n.getTextGuideLine();v&&this._updateAndAddDisplayable(v,i,o);var y=n.getTextContent();y&&this._updateAndAddDisplayable(y,i,o)}},r.prototype.addRoot=function(n){n.__zr&&n.__zr.storage===this||this._roots.push(n)},r.prototype.delRoot=function(n){if(n instanceof Array){for(var i=0,o=n.length;i<o;i++)this.delRoot(n[i]);return}var a=indexOf(this._roots,n);a>=0&&this._roots.splice(a,1)},r.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},r.prototype.getRoots=function(){return this._roots},r.prototype.dispose=function(){this._displayList=null,this._roots=null},r}();const Storage$1=Storage;var requestAnimationFrame$2;requestAnimationFrame$2=env$1.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(r){return setTimeout(r,16)};const requestAnimationFrame$3=requestAnimationFrame$2;var easingFuncs={linear:function(r){return r},quadraticIn:function(r){return r*r},quadraticOut:function(r){return r*(2-r)},quadraticInOut:function(r){return(r*=2)<1?.5*r*r:-.5*(--r*(r-2)-1)},cubicIn:function(r){return r*r*r},cubicOut:function(r){return--r*r*r+1},cubicInOut:function(r){return(r*=2)<1?.5*r*r*r:.5*((r-=2)*r*r+2)},quarticIn:function(r){return r*r*r*r},quarticOut:function(r){return 1- --r*r*r*r},quarticInOut:function(r){return(r*=2)<1?.5*r*r*r*r:-.5*((r-=2)*r*r*r-2)},quinticIn:function(r){return r*r*r*r*r},quinticOut:function(r){return--r*r*r*r*r+1},quinticInOut:function(r){return(r*=2)<1?.5*r*r*r*r*r:.5*((r-=2)*r*r*r*r+2)},sinusoidalIn:function(r){return 1-Math.cos(r*Math.PI/2)},sinusoidalOut:function(r){return Math.sin(r*Math.PI/2)},sinusoidalInOut:function(r){return .5*(1-Math.cos(Math.PI*r))},exponentialIn:function(r){return r===0?0:Math.pow(1024,r-1)},exponentialOut:function(r){return r===1?1:1-Math.pow(2,-10*r)},exponentialInOut:function(r){return r===0?0:r===1?1:(r*=2)<1?.5*Math.pow(1024,r-1):.5*(-Math.pow(2,-10*(r-1))+2)},circularIn:function(r){return 1-Math.sqrt(1-r*r)},circularOut:function(r){return Math.sqrt(1- --r*r)},circularInOut:function(r){return(r*=2)<1?-.5*(Math.sqrt(1-r*r)-1):.5*(Math.sqrt(1-(r-=2)*r)+1)},elasticIn:function(r){var n,i=.1,o=.4;return r===0?0:r===1?1:(!i||i<1?(i=1,n=o/4):n=o*Math.asin(1/i)/(2*Math.PI),-(i*Math.pow(2,10*(r-=1))*Math.sin((r-n)*(2*Math.PI)/o)))},elasticOut:function(r){var n,i=.1,o=.4;return r===0?0:r===1?1:(!i||i<1?(i=1,n=o/4):n=o*Math.asin(1/i)/(2*Math.PI),i*Math.pow(2,-10*r)*Math.sin((r-n)*(2*Math.PI)/o)+1)},elasticInOut:function(r){var n,i=.1,o=.4;return r===0?0:r===1?1:(!i||i<1?(i=1,n=o/4):n=o*Math.asin(1/i)/(2*Math.PI),(r*=2)<1?-.5*(i*Math.pow(2,10*(r-=1))*Math.sin((r-n)*(2*Math.PI)/o)):i*Math.pow(2,-10*(r-=1))*Math.sin((r-n)*(2*Math.PI)/o)*.5+1)},backIn:function(r){var n=1.70158;return r*r*((n+1)*r-n)},backOut:function(r){var n=1.70158;return--r*r*((n+1)*r+n)+1},backInOut:function(r){var n=2.5949095;return(r*=2)<1?.5*(r*r*((n+1)*r-n)):.5*((r-=2)*r*((n+1)*r+n)+2)},bounceIn:function(r){return 1-easingFuncs.bounceOut(1-r)},bounceOut:function(r){return r<1/2.75?7.5625*r*r:r<2/2.75?7.5625*(r-=1.5/2.75)*r+.75:r<2.5/2.75?7.5625*(r-=2.25/2.75)*r+.9375:7.5625*(r-=2.625/2.75)*r+.984375},bounceInOut:function(r){return r<.5?easingFuncs.bounceIn(r*2)*.5:easingFuncs.bounceOut(r*2-1)*.5+.5}};const easingFuncs$1=easingFuncs;var mathPow=Math.pow,mathSqrt$3=Math.sqrt,EPSILON$3=1e-8,EPSILON_NUMERIC=1e-4,THREE_SQRT=mathSqrt$3(3),ONE_THIRD=1/3,_v0=create$1(),_v1=create$1(),_v2=create$1();function isAroundZero$1(r){return r>-EPSILON$3&&r<EPSILON$3}function isNotAroundZero$1(r){return r>EPSILON$3||r<-EPSILON$3}function cubicAt(r,n,i,o,a){var u=1-a;return u*u*(u*r+3*a*n)+a*a*(a*o+3*u*i)}function cubicDerivativeAt(r,n,i,o,a){var u=1-a;return 3*(((n-r)*u+2*(i-n)*a)*u+(o-i)*a*a)}function cubicRootAt(r,n,i,o,a,u){var c=o+3*(n-i)-r,f=3*(i-n*2+r),d=3*(n-r),p=r-a,h=f*f-3*c*d,g=f*d-9*c*p,v=d*d-3*f*p,y=0;if(isAroundZero$1(h)&&isAroundZero$1(g))if(isAroundZero$1(f))u[0]=0;else{var A=-d/f;A>=0&&A<=1&&(u[y++]=A)}else{var _=g*g-4*h*v;if(isAroundZero$1(_)){var S=g/h,A=-f/c+S,b=-S/2;A>=0&&A<=1&&(u[y++]=A),b>=0&&b<=1&&(u[y++]=b)}else if(_>0){var T=mathSqrt$3(_),w=h*f+1.5*c*(-g+T),x=h*f+1.5*c*(-g-T);w<0?w=-mathPow(-w,ONE_THIRD):w=mathPow(w,ONE_THIRD),x<0?x=-mathPow(-x,ONE_THIRD):x=mathPow(x,ONE_THIRD);var A=(-f-(w+x))/(3*c);A>=0&&A<=1&&(u[y++]=A)}else{var k=(2*h*f-3*c*g)/(2*mathSqrt$3(h*h*h)),M=Math.acos(k)/3,D=mathSqrt$3(h),z=Math.cos(M),A=(-f-2*D*z)/(3*c),b=(-f+D*(z+THREE_SQRT*Math.sin(M)))/(3*c),j=(-f+D*(z-THREE_SQRT*Math.sin(M)))/(3*c);A>=0&&A<=1&&(u[y++]=A),b>=0&&b<=1&&(u[y++]=b),j>=0&&j<=1&&(u[y++]=j)}}return y}function cubicExtrema(r,n,i,o,a){var u=6*i-12*n+6*r,c=9*n+3*o-3*r-9*i,f=3*n-3*r,d=0;if(isAroundZero$1(c)){if(isNotAroundZero$1(u)){var p=-f/u;p>=0&&p<=1&&(a[d++]=p)}}else{var h=u*u-4*c*f;if(isAroundZero$1(h))a[0]=-u/(2*c);else if(h>0){var g=mathSqrt$3(h),p=(-u+g)/(2*c),v=(-u-g)/(2*c);p>=0&&p<=1&&(a[d++]=p),v>=0&&v<=1&&(a[d++]=v)}}return d}function cubicSubdivide(r,n,i,o,a,u){var c=(n-r)*a+r,f=(i-n)*a+n,d=(o-i)*a+i,p=(f-c)*a+c,h=(d-f)*a+f,g=(h-p)*a+p;u[0]=r,u[1]=c,u[2]=p,u[3]=g,u[4]=g,u[5]=h,u[6]=d,u[7]=o}function cubicProjectPoint(r,n,i,o,a,u,c,f,d,p,h){var g,v=.005,y=1/0,A,_,S,b;_v0[0]=d,_v0[1]=p;for(var T=0;T<1;T+=.05)_v1[0]=cubicAt(r,i,a,c,T),_v1[1]=cubicAt(n,o,u,f,T),S=distSquare(_v0,_v1),S<y&&(g=T,y=S);y=1/0;for(var w=0;w<32&&!(v<EPSILON_NUMERIC);w++)A=g-v,_=g+v,_v1[0]=cubicAt(r,i,a,c,A),_v1[1]=cubicAt(n,o,u,f,A),S=distSquare(_v1,_v0),A>=0&&S<y?(g=A,y=S):(_v2[0]=cubicAt(r,i,a,c,_),_v2[1]=cubicAt(n,o,u,f,_),b=distSquare(_v2,_v0),_<=1&&b<y?(g=_,y=b):v*=.5);return h&&(h[0]=cubicAt(r,i,a,c,g),h[1]=cubicAt(n,o,u,f,g)),mathSqrt$3(y)}function cubicLength(r,n,i,o,a,u,c,f,d){for(var p=r,h=n,g=0,v=1/d,y=1;y<=d;y++){var A=y*v,_=cubicAt(r,i,a,c,A),S=cubicAt(n,o,u,f,A),b=_-p,T=S-h;g+=Math.sqrt(b*b+T*T),p=_,h=S}return g}function quadraticAt(r,n,i,o){var a=1-o;return a*(a*r+2*o*n)+o*o*i}function quadraticDerivativeAt(r,n,i,o){return 2*((1-o)*(n-r)+o*(i-n))}function quadraticRootAt(r,n,i,o,a){var u=r-2*n+i,c=2*(n-r),f=r-o,d=0;if(isAroundZero$1(u)){if(isNotAroundZero$1(c)){var p=-f/c;p>=0&&p<=1&&(a[d++]=p)}}else{var h=c*c-4*u*f;if(isAroundZero$1(h)){var p=-c/(2*u);p>=0&&p<=1&&(a[d++]=p)}else if(h>0){var g=mathSqrt$3(h),p=(-c+g)/(2*u),v=(-c-g)/(2*u);p>=0&&p<=1&&(a[d++]=p),v>=0&&v<=1&&(a[d++]=v)}}return d}function quadraticExtremum(r,n,i){var o=r+i-2*n;return o===0?.5:(r-n)/o}function quadraticSubdivide(r,n,i,o,a){var u=(n-r)*o+r,c=(i-n)*o+n,f=(c-u)*o+u;a[0]=r,a[1]=u,a[2]=f,a[3]=f,a[4]=c,a[5]=i}function quadraticProjectPoint(r,n,i,o,a,u,c,f,d){var p,h=.005,g=1/0;_v0[0]=c,_v0[1]=f;for(var v=0;v<1;v+=.05){_v1[0]=quadraticAt(r,i,a,v),_v1[1]=quadraticAt(n,o,u,v);var y=distSquare(_v0,_v1);y<g&&(p=v,g=y)}g=1/0;for(var A=0;A<32&&!(h<EPSILON_NUMERIC);A++){var _=p-h,S=p+h;_v1[0]=quadraticAt(r,i,a,_),_v1[1]=quadraticAt(n,o,u,_);var y=distSquare(_v1,_v0);if(_>=0&&y<g)p=_,g=y;else{_v2[0]=quadraticAt(r,i,a,S),_v2[1]=quadraticAt(n,o,u,S);var b=distSquare(_v2,_v0);S<=1&&b<g?(p=S,g=b):h*=.5}}return d&&(d[0]=quadraticAt(r,i,a,p),d[1]=quadraticAt(n,o,u,p)),mathSqrt$3(g)}function quadraticLength(r,n,i,o,a,u,c){for(var f=r,d=n,p=0,h=1/c,g=1;g<=c;g++){var v=g*h,y=quadraticAt(r,i,a,v),A=quadraticAt(n,o,u,v),_=y-f,S=A-d;p+=Math.sqrt(_*_+S*S),f=y,d=A}return p}var regexp$1=/cubic-bezier\(([0-9,\.e ]+)\)/;function createCubicEasingFunc(r){var n=r&&regexp$1.exec(r);if(n){var i=n[1].split(","),o=+trim(i[0]),a=+trim(i[1]),u=+trim(i[2]),c=+trim(i[3]);if(isNaN(o+a+u+c))return;var f=[];return function(d){return d<=0?0:d>=1?1:cubicRootAt(0,o,u,1,d,f)&&cubicAt(0,a,c,1,f[0])}}}var Clip=function(){function r(n){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=n.life||1e3,this._delay=n.delay||0,this.loop=n.loop||!1,this.onframe=n.onframe||noop$1,this.ondestroy=n.ondestroy||noop$1,this.onrestart=n.onrestart||noop$1,n.easing&&this.setEasing(n.easing)}return r.prototype.step=function(n,i){if(this._inited||(this._startTime=n+this._delay,this._inited=!0),this._paused){this._pausedTime+=i;return}var o=this._life,a=n-this._startTime-this._pausedTime,u=a/o;u<0&&(u=0),u=Math.min(u,1);var c=this.easingFunc,f=c?c(u):u;if(this.onframe(f),u===1)if(this.loop){var d=a%o;this._startTime=n-d,this._pausedTime=0,this.onrestart()}else return!0;return!1},r.prototype.pause=function(){this._paused=!0},r.prototype.resume=function(){this._paused=!1},r.prototype.setEasing=function(n){this.easing=n,this.easingFunc=isFunction$1(n)?n:easingFuncs$1[n]||createCubicEasingFunc(n)},r}();const Clip$1=Clip;var Entry=function(){function r(n){this.value=n}return r}(),LinkedList=function(){function r(){this._len=0}return r.prototype.insert=function(n){var i=new Entry(n);return this.insertEntry(i),i},r.prototype.insertEntry=function(n){this.head?(this.tail.next=n,n.prev=this.tail,n.next=null,this.tail=n):this.head=this.tail=n,this._len++},r.prototype.remove=function(n){var i=n.prev,o=n.next;i?i.next=o:this.head=o,o?o.prev=i:this.tail=i,n.next=n.prev=null,this._len--},r.prototype.len=function(){return this._len},r.prototype.clear=function(){this.head=this.tail=null,this._len=0},r}(),LRU=function(){function r(n){this._list=new LinkedList,this._maxSize=10,this._map={},this._maxSize=n}return r.prototype.put=function(n,i){var o=this._list,a=this._map,u=null;if(a[n]==null){var c=o.len(),f=this._lastRemovedEntry;if(c>=this._maxSize&&c>0){var d=o.head;o.remove(d),delete a[d.key],u=d.value,this._lastRemovedEntry=d}f?f.value=i:f=new Entry(i),f.key=n,o.insertEntry(f),a[n]=f}return u},r.prototype.get=function(n){var i=this._map[n],o=this._list;if(i!=null)return i!==o.tail&&(o.remove(i),o.insertEntry(i)),i.value},r.prototype.clear=function(){this._list.clear(),this._map={}},r.prototype.len=function(){return this._list.len()},r}();const LRU$1=LRU;var kCSSColorTable={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function clampCssByte(r){return r=Math.round(r),r<0?0:r>255?255:r}function clampCssFloat(r){return r<0?0:r>1?1:r}function parseCssInt(r){var n=r;return n.length&&n.charAt(n.length-1)==="%"?clampCssByte(parseFloat(n)/100*255):clampCssByte(parseInt(n,10))}function parseCssFloat(r){var n=r;return n.length&&n.charAt(n.length-1)==="%"?clampCssFloat(parseFloat(n)/100):clampCssFloat(parseFloat(n))}function cssHueToRgb(r,n,i){return i<0?i+=1:i>1&&(i-=1),i*6<1?r+(n-r)*i*6:i*2<1?n:i*3<2?r+(n-r)*(2/3-i)*6:r}function setRgba(r,n,i,o,a){return r[0]=n,r[1]=i,r[2]=o,r[3]=a,r}function copyRgba(r,n){return r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r}var colorCache=new LRU$1(20),lastRemovedArr=null;function putToCache(r,n){lastRemovedArr&&copyRgba(lastRemovedArr,n),lastRemovedArr=colorCache.put(r,lastRemovedArr||n.slice())}function parse(r,n){if(r){n=n||[];var i=colorCache.get(r);if(i)return copyRgba(n,i);r=r+"";var o=r.replace(/ /g,"").toLowerCase();if(o in kCSSColorTable)return copyRgba(n,kCSSColorTable[o]),putToCache(r,n),n;var a=o.length;if(o.charAt(0)==="#"){if(a===4||a===5){var u=parseInt(o.slice(1,4),16);if(!(u>=0&&u<=4095)){setRgba(n,0,0,0,1);return}return setRgba(n,(u&3840)>>4|(u&3840)>>8,u&240|(u&240)>>4,u&15|(u&15)<<4,a===5?parseInt(o.slice(4),16)/15:1),putToCache(r,n),n}else if(a===7||a===9){var u=parseInt(o.slice(1,7),16);if(!(u>=0&&u<=16777215)){setRgba(n,0,0,0,1);return}return setRgba(n,(u&16711680)>>16,(u&65280)>>8,u&255,a===9?parseInt(o.slice(7),16)/255:1),putToCache(r,n),n}return}var c=o.indexOf("("),f=o.indexOf(")");if(c!==-1&&f+1===a){var d=o.substr(0,c),p=o.substr(c+1,f-(c+1)).split(","),h=1;switch(d){case"rgba":if(p.length!==4)return p.length===3?setRgba(n,+p[0],+p[1],+p[2],1):setRgba(n,0,0,0,1);h=parseCssFloat(p.pop());case"rgb":if(p.length>=3)return setRgba(n,parseCssInt(p[0]),parseCssInt(p[1]),parseCssInt(p[2]),p.length===3?h:parseCssFloat(p[3])),putToCache(r,n),n;setRgba(n,0,0,0,1);return;case"hsla":if(p.length!==4){setRgba(n,0,0,0,1);return}return p[3]=parseCssFloat(p[3]),hsla2rgba(p,n),putToCache(r,n),n;case"hsl":if(p.length!==3){setRgba(n,0,0,0,1);return}return hsla2rgba(p,n),putToCache(r,n),n;default:return}}setRgba(n,0,0,0,1)}}function hsla2rgba(r,n){var i=(parseFloat(r[0])%360+360)%360/360,o=parseCssFloat(r[1]),a=parseCssFloat(r[2]),u=a<=.5?a*(o+1):a+o-a*o,c=a*2-u;return n=n||[],setRgba(n,clampCssByte(cssHueToRgb(c,u,i+1/3)*255),clampCssByte(cssHueToRgb(c,u,i)*255),clampCssByte(cssHueToRgb(c,u,i-1/3)*255),1),r.length===4&&(n[3]=r[3]),n}function lift(r,n){var i=parse(r);if(i){for(var o=0;o<3;o++)n<0?i[o]=i[o]*(1-n)|0:i[o]=(255-i[o])*n+i[o]|0,i[o]>255?i[o]=255:i[o]<0&&(i[o]=0);return stringify(i,i.length===4?"rgba":"rgb")}}function stringify(r,n){if(!(!r||!r.length)){var i=r[0]+","+r[1]+","+r[2];return(n==="rgba"||n==="hsva"||n==="hsla")&&(i+=","+r[3]),n+"("+i+")"}}function lum(r,n){var i=parse(r);return i?(.299*i[0]+.587*i[1]+.114*i[2])*i[3]/255+(1-i[3])*n:0}var mathRound$1=Math.round;function normalizeColor(r){var n;if(!r||r==="transparent")r="none";else if(typeof r=="string"&&r.indexOf("rgba")>-1){var i=parse(r);i&&(r="rgb("+i[0]+","+i[1]+","+i[2]+")",n=i[3])}return{color:r,opacity:n??1}}var EPSILON$2=1e-4;function isAroundZero(r){return r<EPSILON$2&&r>-EPSILON$2}function round3(r){return mathRound$1(r*1e3)/1e3}function round4(r){return mathRound$1(r*1e4)/1e4}function getMatrixStr(r){return"matrix("+round3(r[0])+","+round3(r[1])+","+round3(r[2])+","+round3(r[3])+","+round4(r[4])+","+round4(r[5])+")"}var TEXT_ALIGN_TO_ANCHOR={left:"start",right:"end",center:"middle",middle:"middle"};function adjustTextY$1(r,n,i){return i==="top"?r+=n/2:i==="bottom"&&(r-=n/2),r}function hasShadow(r){return r&&(r.shadowBlur||r.shadowOffsetX||r.shadowOffsetY)}function getShadowKey(r){var n=r.style,i=r.getGlobalScale();return[n.shadowColor,(n.shadowBlur||0).toFixed(2),(n.shadowOffsetX||0).toFixed(2),(n.shadowOffsetY||0).toFixed(2),i[0],i[1]].join(",")}function isImagePattern(r){return r&&!!r.image}function isSVGPattern(r){return r&&!!r.svgElement}function isPattern(r){return isImagePattern(r)||isSVGPattern(r)}function isLinearGradient(r){return r.type==="linear"}function isRadialGradient(r){return r.type==="radial"}function isGradient(r){return r&&(r.type==="linear"||r.type==="radial")}function getIdURL(r){return"url(#"+r+")"}function getPathPrecision(r){var n=r.getGlobalScale(),i=Math.max(n[0],n[1]);return Math.max(Math.ceil(Math.log(i)/Math.log(10)),1)}function getSRTTransformString(r){var n=r.x||0,i=r.y||0,o=(r.rotation||0)*RADIAN_TO_DEGREE,a=retrieve2(r.scaleX,1),u=retrieve2(r.scaleY,1),c=r.skewX||0,f=r.skewY||0,d=[];return(n||i)&&d.push("translate("+n+"px,"+i+"px)"),o&&d.push("rotate("+o+")"),(a!==1||u!==1)&&d.push("scale("+a+","+u+")"),(c||f)&&d.push("skew("+mathRound$1(c*RADIAN_TO_DEGREE)+"deg, "+mathRound$1(f*RADIAN_TO_DEGREE)+"deg)"),d.join(" ")}var encodeBase64=function(){return env$1.hasGlobalWindow&&isFunction$1(window.btoa)?function(r){return window.btoa(unescape(encodeURIComponent(r)))}:typeof Buffer<"u"?function(r){return Buffer.from(r).toString("base64")}:function(r){return process.env.NODE_ENV!=="production"&&logError("Base64 isn't natively supported in the current environment."),null}}(),arraySlice=Array.prototype.slice;function interpolateNumber(r,n,i){return(n-r)*i+r}function interpolate1DArray(r,n,i,o){for(var a=n.length,u=0;u<a;u++)r[u]=interpolateNumber(n[u],i[u],o);return r}function interpolate2DArray(r,n,i,o){for(var a=n.length,u=a&&n[0].length,c=0;c<a;c++){r[c]||(r[c]=[]);for(var f=0;f<u;f++)r[c][f]=interpolateNumber(n[c][f],i[c][f],o)}return r}function add1DArray(r,n,i,o){for(var a=n.length,u=0;u<a;u++)r[u]=n[u]+i[u]*o;return r}function add2DArray(r,n,i,o){for(var a=n.length,u=a&&n[0].length,c=0;c<a;c++){r[c]||(r[c]=[]);for(var f=0;f<u;f++)r[c][f]=n[c][f]+i[c][f]*o}return r}function fillColorStops(r,n){for(var i=r.length,o=n.length,a=i>o?n:r,u=Math.min(i,o),c=a[u-1]||{color:[0,0,0,0],offset:0},f=u;f<Math.max(i,o);f++)a.push({offset:c.offset,color:c.color.slice()})}function fillArray(r,n,i){var o=r,a=n;if(!(!o.push||!a.push)){var u=o.length,c=a.length;if(u!==c){var f=u>c;if(f)o.length=c;else for(var d=u;d<c;d++)o.push(i===1?a[d]:arraySlice.call(a[d]))}for(var p=o[0]&&o[0].length,d=0;d<o.length;d++)if(i===1)isNaN(o[d])&&(o[d]=a[d]);else for(var h=0;h<p;h++)isNaN(o[d][h])&&(o[d][h]=a[d][h])}}function cloneValue(r){if(isArrayLike(r)){var n=r.length;if(isArrayLike(r[0])){for(var i=[],o=0;o<n;o++)i.push(arraySlice.call(r[o]));return i}return arraySlice.call(r)}return r}function rgba2String(r){return r[0]=Math.floor(r[0])||0,r[1]=Math.floor(r[1])||0,r[2]=Math.floor(r[2])||0,r[3]=r[3]==null?1:r[3],"rgba("+r.join(",")+")"}function guessArrayDim(r){return isArrayLike(r&&r[0])?2:1}var VALUE_TYPE_NUMBER=0,VALUE_TYPE_1D_ARRAY=1,VALUE_TYPE_2D_ARRAY=2,VALUE_TYPE_COLOR=3,VALUE_TYPE_LINEAR_GRADIENT=4,VALUE_TYPE_RADIAL_GRADIENT=5,VALUE_TYPE_UNKOWN=6;function isGradientValueType(r){return r===VALUE_TYPE_LINEAR_GRADIENT||r===VALUE_TYPE_RADIAL_GRADIENT}function isArrayValueType(r){return r===VALUE_TYPE_1D_ARRAY||r===VALUE_TYPE_2D_ARRAY}var tmpRgba=[0,0,0,0],Track=function(){function r(n){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=n}return r.prototype.isFinished=function(){return this._finished},r.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},r.prototype.needsAnimate=function(){return this.keyframes.length>=1},r.prototype.getAdditiveTrack=function(){return this._additiveTrack},r.prototype.addKeyframe=function(n,i,o){this._needsSort=!0;var a=this.keyframes,u=a.length,c=!1,f=VALUE_TYPE_UNKOWN,d=i;if(isArrayLike(i)){var p=guessArrayDim(i);f=p,(p===1&&!isNumber$1(i[0])||p===2&&!isNumber$1(i[0][0]))&&(c=!0)}else if(isNumber$1(i)&&!eqNaN(i))f=VALUE_TYPE_NUMBER;else if(isString$2(i))if(!isNaN(+i))f=VALUE_TYPE_NUMBER;else{var h=parse(i);h&&(d=h,f=VALUE_TYPE_COLOR)}else if(isGradientObject(i)){var g=extend({},d);g.colorStops=map$1(i.colorStops,function(y){return{offset:y.offset,color:parse(y.color)}}),isLinearGradient(i)?f=VALUE_TYPE_LINEAR_GRADIENT:isRadialGradient(i)&&(f=VALUE_TYPE_RADIAL_GRADIENT),d=g}u===0?this.valType=f:(f!==this.valType||f===VALUE_TYPE_UNKOWN)&&(c=!0),this.discrete=this.discrete||c;var v={time:n,value:d,rawValue:i,percent:0};return o&&(v.easing=o,v.easingFunc=isFunction$1(o)?o:easingFuncs$1[o]||createCubicEasingFunc(o)),a.push(v),v},r.prototype.prepare=function(n,i){var o=this.keyframes;this._needsSort&&o.sort(function(_,S){return _.time-S.time});for(var a=this.valType,u=o.length,c=o[u-1],f=this.discrete,d=isArrayValueType(a),p=isGradientValueType(a),h=0;h<u;h++){var g=o[h],v=g.value,y=c.value;g.percent=g.time/n,f||(d&&h!==u-1?fillArray(v,y,a):p&&fillColorStops(v.colorStops,y.colorStops))}if(!f&&a!==VALUE_TYPE_RADIAL_GRADIENT&&i&&this.needsAnimate()&&i.needsAnimate()&&a===i.valType&&!i._finished){this._additiveTrack=i;for(var A=o[0].value,h=0;h<u;h++)a===VALUE_TYPE_NUMBER?o[h].additiveValue=o[h].value-A:a===VALUE_TYPE_COLOR?o[h].additiveValue=add1DArray([],o[h].value,A,-1):isArrayValueType(a)&&(o[h].additiveValue=a===VALUE_TYPE_1D_ARRAY?add1DArray([],o[h].value,A,-1):add2DArray([],o[h].value,A,-1))}},r.prototype.step=function(n,i){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var o=this._additiveTrack!=null,a=o?"additiveValue":"value",u=this.valType,c=this.keyframes,f=c.length,d=this.propName,p=u===VALUE_TYPE_COLOR,h,g=this._lastFr,v=Math.min,y,A;if(f===1)y=A=c[0];else{if(i<0)h=0;else if(i<this._lastFrP){var _=v(g+1,f-1);for(h=_;h>=0&&!(c[h].percent<=i);h--);h=v(h,f-2)}else{for(h=g;h<f&&!(c[h].percent>i);h++);h=v(h-1,f-2)}A=c[h+1],y=c[h]}if(y&&A){this._lastFr=h,this._lastFrP=i;var S=A.percent-y.percent,b=S===0?1:v((i-y.percent)/S,1);A.easingFunc&&(b=A.easingFunc(b));var T=o?this._additiveValue:p?tmpRgba:n[d];if((isArrayValueType(u)||p)&&!T&&(T=this._additiveValue=[]),this.discrete)n[d]=b<1?y.rawValue:A.rawValue;else if(isArrayValueType(u))u===VALUE_TYPE_1D_ARRAY?interpolate1DArray(T,y[a],A[a],b):interpolate2DArray(T,y[a],A[a],b);else if(isGradientValueType(u)){var w=y[a],x=A[a],k=u===VALUE_TYPE_LINEAR_GRADIENT;n[d]={type:k?"linear":"radial",x:interpolateNumber(w.x,x.x,b),y:interpolateNumber(w.y,x.y,b),colorStops:map$1(w.colorStops,function(D,z){var j=x.colorStops[z];return{offset:interpolateNumber(D.offset,j.offset,b),color:rgba2String(interpolate1DArray([],D.color,j.color,b))}}),global:x.global},k?(n[d].x2=interpolateNumber(w.x2,x.x2,b),n[d].y2=interpolateNumber(w.y2,x.y2,b)):n[d].r=interpolateNumber(w.r,x.r,b)}else if(p)interpolate1DArray(T,y[a],A[a],b),o||(n[d]=rgba2String(T));else{var M=interpolateNumber(y[a],A[a],b);o?this._additiveValue=M:n[d]=M}o&&this._addToTarget(n)}}},r.prototype._addToTarget=function(n){var i=this.valType,o=this.propName,a=this._additiveValue;i===VALUE_TYPE_NUMBER?n[o]=n[o]+a:i===VALUE_TYPE_COLOR?(parse(n[o],tmpRgba),add1DArray(tmpRgba,tmpRgba,a,1),n[o]=rgba2String(tmpRgba)):i===VALUE_TYPE_1D_ARRAY?add1DArray(n[o],n[o],a,1):i===VALUE_TYPE_2D_ARRAY&&add2DArray(n[o],n[o],a,1)},r}(),Animator=function(){function r(n,i,o,a){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=n,this._loop=i,i&&a){logError("Can' use additive animation on looped animation.");return}this._additiveAnimators=a,this._allowDiscrete=o}return r.prototype.getMaxTime=function(){return this._maxTime},r.prototype.getDelay=function(){return this._delay},r.prototype.getLoop=function(){return this._loop},r.prototype.getTarget=function(){return this._target},r.prototype.changeTarget=function(n){this._target=n},r.prototype.when=function(n,i,o){return this.whenWithKeys(n,i,keys(i),o)},r.prototype.whenWithKeys=function(n,i,o,a){for(var u=this._tracks,c=0;c<o.length;c++){var f=o[c],d=u[f];if(!d){d=u[f]=new Track(f);var p=void 0,h=this._getAdditiveTrack(f);if(h){var g=h.keyframes,v=g[g.length-1];p=v&&v.value,h.valType===VALUE_TYPE_COLOR&&p&&(p=rgba2String(p))}else p=this._target[f];if(p==null)continue;n>0&&d.addKeyframe(0,cloneValue(p),a),this._trackKeys.push(f)}d.addKeyframe(n,cloneValue(i[f]),a)}return this._maxTime=Math.max(this._maxTime,n),this},r.prototype.pause=function(){this._clip.pause(),this._paused=!0},r.prototype.resume=function(){this._clip.resume(),this._paused=!1},r.prototype.isPaused=function(){return!!this._paused},r.prototype.duration=function(n){return this._maxTime=n,this._force=!0,this},r.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var n=this._doneCbs;if(n)for(var i=n.length,o=0;o<i;o++)n[o].call(this)},r.prototype._abortedCallback=function(){this._setTracksFinished();var n=this.animation,i=this._abortedCbs;if(n&&n.removeClip(this._clip),this._clip=null,i)for(var o=0;o<i.length;o++)i[o].call(this)},r.prototype._setTracksFinished=function(){for(var n=this._tracks,i=this._trackKeys,o=0;o<i.length;o++)n[i[o]].setFinished()},r.prototype._getAdditiveTrack=function(n){var i,o=this._additiveAnimators;if(o)for(var a=0;a<o.length;a++){var u=o[a].getTrack(n);u&&(i=u)}return i},r.prototype.start=function(n){if(!(this._started>0)){this._started=1;for(var i=this,o=[],a=this._maxTime||0,u=0;u<this._trackKeys.length;u++){var c=this._trackKeys[u],f=this._tracks[c],d=this._getAdditiveTrack(c),p=f.keyframes,h=p.length;if(f.prepare(a,d),f.needsAnimate())if(!this._allowDiscrete&&f.discrete){var g=p[h-1];g&&(i._target[f.propName]=g.rawValue),f.setFinished()}else o.push(f)}if(o.length||this._force){var v=new Clip$1({life:a,loop:this._loop,delay:this._delay||0,onframe:function(y){i._started=2;var A=i._additiveAnimators;if(A){for(var _=!1,S=0;S<A.length;S++)if(A[S]._clip){_=!0;break}_||(i._additiveAnimators=null)}for(var S=0;S<o.length;S++)o[S].step(i._target,y);var b=i._onframeCbs;if(b)for(var S=0;S<b.length;S++)b[S](i._target,y)},ondestroy:function(){i._doneCallback()}});this._clip=v,this.animation&&this.animation.addClip(v),n&&v.setEasing(n)}else this._doneCallback();return this}},r.prototype.stop=function(n){if(this._clip){var i=this._clip;n&&i.onframe(1),this._abortedCallback()}},r.prototype.delay=function(n){return this._delay=n,this},r.prototype.during=function(n){return n&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(n)),this},r.prototype.done=function(n){return n&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(n)),this},r.prototype.aborted=function(n){return n&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(n)),this},r.prototype.getClip=function(){return this._clip},r.prototype.getTrack=function(n){return this._tracks[n]},r.prototype.getTracks=function(){var n=this;return map$1(this._trackKeys,function(i){return n._tracks[i]})},r.prototype.stopTracks=function(n,i){if(!n.length||!this._clip)return!0;for(var o=this._tracks,a=this._trackKeys,u=0;u<n.length;u++){var c=o[n[u]];c&&!c.isFinished()&&(i?c.step(this._target,1):this._started===1&&c.step(this._target,0),c.setFinished())}for(var f=!0,u=0;u<a.length;u++)if(!o[a[u]].isFinished()){f=!1;break}return f&&this._abortedCallback(),f},r.prototype.saveTo=function(n,i,o){if(n){i=i||this._trackKeys;for(var a=0;a<i.length;a++){var u=i[a],c=this._tracks[u];if(!(!c||c.isFinished())){var f=c.keyframes,d=f[o?0:f.length-1];d&&(n[u]=cloneValue(d.rawValue))}}}},r.prototype.__changeFinalValue=function(n,i){i=i||keys(n);for(var o=0;o<i.length;o++){var a=i[o],u=this._tracks[a];if(u){var c=u.keyframes;if(c.length>1){var f=c.pop();u.addKeyframe(f.time,n[a]),u.prepare(this._maxTime,u.getAdditiveTrack())}}}},r}();const Animator$1=Animator;function getTime(){return new Date().getTime()}var Animation=function(r){__extends(n,r);function n(i){var o=r.call(this)||this;return o._running=!1,o._time=0,o._pausedTime=0,o._pauseStart=0,o._paused=!1,i=i||{},o.stage=i.stage||{},o}return n.prototype.addClip=function(i){i.animation&&this.removeClip(i),this._head?(this._tail.next=i,i.prev=this._tail,i.next=null,this._tail=i):this._head=this._tail=i,i.animation=this},n.prototype.addAnimator=function(i){i.animation=this;var o=i.getClip();o&&this.addClip(o)},n.prototype.removeClip=function(i){if(i.animation){var o=i.prev,a=i.next;o?o.next=a:this._head=a,a?a.prev=o:this._tail=o,i.next=i.prev=i.animation=null}},n.prototype.removeAnimator=function(i){var o=i.getClip();o&&this.removeClip(o),i.animation=null},n.prototype.update=function(i){for(var o=getTime()-this._pausedTime,a=o-this._time,u=this._head;u;){var c=u.next,f=u.step(o,a);f&&(u.ondestroy(),this.removeClip(u)),u=c}this._time=o,i||(this.trigger("frame",a),this.stage.update&&this.stage.update())},n.prototype._startLoop=function(){var i=this;this._running=!0;function o(){i._running&&(requestAnimationFrame$3(o),!i._paused&&i.update())}requestAnimationFrame$3(o)},n.prototype.start=function(){this._running||(this._time=getTime(),this._pausedTime=0,this._startLoop())},n.prototype.stop=function(){this._running=!1},n.prototype.pause=function(){this._paused||(this._pauseStart=getTime(),this._paused=!0)},n.prototype.resume=function(){this._paused&&(this._pausedTime+=getTime()-this._pauseStart,this._paused=!1)},n.prototype.clear=function(){for(var i=this._head;i;){var o=i.next;i.prev=i.next=i.animation=null,i=o}this._head=this._tail=null},n.prototype.isFinished=function(){return this._head==null},n.prototype.animate=function(i,o){o=o||{},this.start();var a=new Animator$1(i,o.loop);return this.addAnimator(a),a},n}(Eventful$1);const Animation$1=Animation;var TOUCH_CLICK_DELAY=300,globalEventSupported=env$1.domSupported,localNativeListenerNames=function(){var r=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],n=["touchstart","touchend","touchmove"],i={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},o=map$1(r,function(a){var u=a.replace("mouse","pointer");return i.hasOwnProperty(u)?u:a});return{mouse:r,touch:n,pointer:o}}(),globalNativeListenerNames={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},wheelEventSupported=!1;function isPointerFromTouch(r){var n=r.pointerType;return n==="pen"||n==="touch"}function setTouchTimer(r){r.touching=!0,r.touchTimer!=null&&(clearTimeout(r.touchTimer),r.touchTimer=null),r.touchTimer=setTimeout(function(){r.touching=!1,r.touchTimer=null},700)}function markTouch(r){r&&(r.zrByTouch=!0)}function normalizeGlobalEvent(r,n){return normalizeEvent(r.dom,new FakeGlobalEvent(r,n),!0)}function isLocalEl(r,n){for(var i=n,o=!1;i&&i.nodeType!==9&&!(o=i.domBelongToZr||i!==n&&i===r.painterRoot);)i=i.parentNode;return o}var FakeGlobalEvent=function(){function r(n,i){this.stopPropagation=noop$1,this.stopImmediatePropagation=noop$1,this.preventDefault=noop$1,this.type=i.type,this.target=this.currentTarget=n.dom,this.pointerType=i.pointerType,this.clientX=i.clientX,this.clientY=i.clientY}return r}(),localDOMHandlers={mousedown:function(r){r=normalizeEvent(this.dom,r),this.__mayPointerCapture=[r.zrX,r.zrY],this.trigger("mousedown",r)},mousemove:function(r){r=normalizeEvent(this.dom,r);var n=this.__mayPointerCapture;n&&(r.zrX!==n[0]||r.zrY!==n[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",r)},mouseup:function(r){r=normalizeEvent(this.dom,r),this.__togglePointerCapture(!1),this.trigger("mouseup",r)},mouseout:function(r){r=normalizeEvent(this.dom,r);var n=r.toElement||r.relatedTarget;isLocalEl(this,n)||(this.__pointerCapturing&&(r.zrEventControl="no_globalout"),this.trigger("mouseout",r))},wheel:function(r){wheelEventSupported=!0,r=normalizeEvent(this.dom,r),this.trigger("mousewheel",r)},mousewheel:function(r){wheelEventSupported||(r=normalizeEvent(this.dom,r),this.trigger("mousewheel",r))},touchstart:function(r){r=normalizeEvent(this.dom,r),markTouch(r),this.__lastTouchMoment=new Date,this.handler.processGesture(r,"start"),localDOMHandlers.mousemove.call(this,r),localDOMHandlers.mousedown.call(this,r)},touchmove:function(r){r=normalizeEvent(this.dom,r),markTouch(r),this.handler.processGesture(r,"change"),localDOMHandlers.mousemove.call(this,r)},touchend:function(r){r=normalizeEvent(this.dom,r),markTouch(r),this.handler.processGesture(r,"end"),localDOMHandlers.mouseup.call(this,r),+new Date-+this.__lastTouchMoment<TOUCH_CLICK_DELAY&&localDOMHandlers.click.call(this,r)},pointerdown:function(r){localDOMHandlers.mousedown.call(this,r)},pointermove:function(r){isPointerFromTouch(r)||localDOMHandlers.mousemove.call(this,r)},pointerup:function(r){localDOMHandlers.mouseup.call(this,r)},pointerout:function(r){isPointerFromTouch(r)||localDOMHandlers.mouseout.call(this,r)}};each$4(["click","dblclick","contextmenu"],function(r){localDOMHandlers[r]=function(n){n=normalizeEvent(this.dom,n),this.trigger(r,n)}});var globalDOMHandlers={pointermove:function(r){isPointerFromTouch(r)||globalDOMHandlers.mousemove.call(this,r)},pointerup:function(r){globalDOMHandlers.mouseup.call(this,r)},mousemove:function(r){this.trigger("mousemove",r)},mouseup:function(r){var n=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",r),n&&(r.zrEventControl="only_globalout",this.trigger("mouseout",r))}};function mountLocalDOMEventListeners(r,n){var i=n.domHandlers;env$1.pointerEventsSupported?each$4(localNativeListenerNames.pointer,function(o){mountSingleDOMEventListener(n,o,function(a){i[o].call(r,a)})}):(env$1.touchEventsSupported&&each$4(localNativeListenerNames.touch,function(o){mountSingleDOMEventListener(n,o,function(a){i[o].call(r,a),setTouchTimer(n)})}),each$4(localNativeListenerNames.mouse,function(o){mountSingleDOMEventListener(n,o,function(a){a=getNativeEvent(a),n.touching||i[o].call(r,a)})}))}function mountGlobalDOMEventListeners(r,n){env$1.pointerEventsSupported?each$4(globalNativeListenerNames.pointer,i):env$1.touchEventsSupported||each$4(globalNativeListenerNames.mouse,i);function i(o){function a(u){u=getNativeEvent(u),isLocalEl(r,u.target)||(u=normalizeGlobalEvent(r,u),n.domHandlers[o].call(r,u))}mountSingleDOMEventListener(n,o,a,{capture:!0})}}function mountSingleDOMEventListener(r,n,i,o){r.mounted[n]=i,r.listenerOpts[n]=o,addEventListener(r.domTarget,n,i,o)}function unmountDOMEventListeners(r){var n=r.mounted;for(var i in n)n.hasOwnProperty(i)&&removeEventListener(r.domTarget,i,n[i],r.listenerOpts[i]);r.mounted={}}var DOMHandlerScope=function(){function r(n,i){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=n,this.domHandlers=i}return r}(),HandlerDomProxy=function(r){__extends(n,r);function n(i,o){var a=r.call(this)||this;return a.__pointerCapturing=!1,a.dom=i,a.painterRoot=o,a._localHandlerScope=new DOMHandlerScope(i,localDOMHandlers),globalEventSupported&&(a._globalHandlerScope=new DOMHandlerScope(document,globalDOMHandlers)),mountLocalDOMEventListeners(a,a._localHandlerScope),a}return n.prototype.dispose=function(){unmountDOMEventListeners(this._localHandlerScope),globalEventSupported&&unmountDOMEventListeners(this._globalHandlerScope)},n.prototype.setCursor=function(i){this.dom.style&&(this.dom.style.cursor=i||"default")},n.prototype.__togglePointerCapture=function(i){if(this.__mayPointerCapture=null,globalEventSupported&&+this.__pointerCapturing^+i){this.__pointerCapturing=i;var o=this._globalHandlerScope;i?mountGlobalDOMEventListeners(this,o):unmountDOMEventListeners(o)}},n}(Eventful$1);const HandlerProxy=HandlerDomProxy;var dpr=1;env$1.hasGlobalWindow&&(dpr=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var devicePixelRatio=dpr,DARK_MODE_THRESHOLD=.4,DARK_LABEL_COLOR="#333",LIGHT_LABEL_COLOR="#ccc",LIGHTER_LABEL_COLOR="#eee",mIdentity=identity$1,EPSILON$1=5e-5;function isNotAroundZero(r){return r>EPSILON$1||r<-EPSILON$1}var scaleTmp=[],tmpTransform=[],originTransform=create(),abs=Math.abs,Transformable=function(){function r(){}return r.prototype.getLocalTransform=function(n){return r.getLocalTransform(this,n)},r.prototype.setPosition=function(n){this.x=n[0],this.y=n[1]},r.prototype.setScale=function(n){this.scaleX=n[0],this.scaleY=n[1]},r.prototype.setSkew=function(n){this.skewX=n[0],this.skewY=n[1]},r.prototype.setOrigin=function(n){this.originX=n[0],this.originY=n[1]},r.prototype.needLocalTransform=function(){return isNotAroundZero(this.rotation)||isNotAroundZero(this.x)||isNotAroundZero(this.y)||isNotAroundZero(this.scaleX-1)||isNotAroundZero(this.scaleY-1)||isNotAroundZero(this.skewX)||isNotAroundZero(this.skewY)},r.prototype.updateTransform=function(){var n=this.parent&&this.parent.transform,i=this.needLocalTransform(),o=this.transform;if(!(i||n)){o&&mIdentity(o);return}o=o||create(),i?this.getLocalTransform(o):mIdentity(o),n&&(i?mul(o,n,o):copy(o,n)),this.transform=o,this._resolveGlobalScaleRatio(o)},r.prototype._resolveGlobalScaleRatio=function(n){var i=this.globalScaleRatio;if(i!=null&&i!==1){this.getGlobalScale(scaleTmp);var o=scaleTmp[0]<0?-1:1,a=scaleTmp[1]<0?-1:1,u=((scaleTmp[0]-o)*i+o)/scaleTmp[0]||0,c=((scaleTmp[1]-a)*i+a)/scaleTmp[1]||0;n[0]*=u,n[1]*=u,n[2]*=c,n[3]*=c}this.invTransform=this.invTransform||create(),invert(this.invTransform,n)},r.prototype.getComputedTransform=function(){for(var n=this,i=[];n;)i.push(n),n=n.parent;for(;n=i.pop();)n.updateTransform();return this.transform},r.prototype.setLocalTransform=function(n){if(n){var i=n[0]*n[0]+n[1]*n[1],o=n[2]*n[2]+n[3]*n[3],a=Math.atan2(n[1],n[0]),u=Math.PI/2+a-Math.atan2(n[3],n[2]);o=Math.sqrt(o)*Math.cos(u),i=Math.sqrt(i),this.skewX=u,this.skewY=0,this.rotation=-a,this.x=+n[4],this.y=+n[5],this.scaleX=i,this.scaleY=o,this.originX=0,this.originY=0}},r.prototype.decomposeTransform=function(){if(this.transform){var n=this.parent,i=this.transform;n&&n.transform&&(mul(tmpTransform,n.invTransform,i),i=tmpTransform);var o=this.originX,a=this.originY;(o||a)&&(originTransform[4]=o,originTransform[5]=a,mul(tmpTransform,i,originTransform),tmpTransform[4]-=o,tmpTransform[5]-=a,i=tmpTransform),this.setLocalTransform(i)}},r.prototype.getGlobalScale=function(n){var i=this.transform;return n=n||[],i?(n[0]=Math.sqrt(i[0]*i[0]+i[1]*i[1]),n[1]=Math.sqrt(i[2]*i[2]+i[3]*i[3]),i[0]<0&&(n[0]=-n[0]),i[3]<0&&(n[1]=-n[1]),n):(n[0]=1,n[1]=1,n)},r.prototype.transformCoordToLocal=function(n,i){var o=[n,i],a=this.invTransform;return a&&applyTransform$1(o,o,a),o},r.prototype.transformCoordToGlobal=function(n,i){var o=[n,i],a=this.transform;return a&&applyTransform$1(o,o,a),o},r.prototype.getLineScale=function(){var n=this.transform;return n&&abs(n[0]-1)>1e-10&&abs(n[3]-1)>1e-10?Math.sqrt(abs(n[0]*n[3]-n[2]*n[1])):1},r.prototype.copyTransform=function(n){copyTransform(this,n)},r.getLocalTransform=function(n,i){i=i||[];var o=n.originX||0,a=n.originY||0,u=n.scaleX,c=n.scaleY,f=n.anchorX,d=n.anchorY,p=n.rotation||0,h=n.x,g=n.y,v=n.skewX?Math.tan(n.skewX):0,y=n.skewY?Math.tan(-n.skewY):0;if(o||a||f||d){var A=o+f,_=a+d;i[4]=-A*u-v*_*c,i[5]=-_*c-y*A*u}else i[4]=i[5]=0;return i[0]=u,i[3]=c,i[1]=y*u,i[2]=v*c,p&&rotate(i,i,p),i[4]+=o+h,i[5]+=a+g,i},r.initDefaultProps=function(){var n=r.prototype;n.scaleX=n.scaleY=n.globalScaleRatio=1,n.x=n.y=n.originX=n.originY=n.skewX=n.skewY=n.rotation=n.anchorX=n.anchorY=0}(),r}(),TRANSFORMABLE_PROPS=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function copyTransform(r,n){for(var i=0;i<TRANSFORMABLE_PROPS.length;i++){var o=TRANSFORMABLE_PROPS[i];r[o]=n[o]}}const Transformable$1=Transformable;var textWidthCache={};function getWidth(r,n){n=n||DEFAULT_FONT;var i=textWidthCache[n];i||(i=textWidthCache[n]=new LRU$1(500));var o=i.get(r);return o==null&&(o=platformApi.measureText(r,n).width,i.put(r,o)),o}function innerGetBoundingRect(r,n,i,o){var a=getWidth(r,n),u=getLineHeight(n),c=adjustTextX(0,a,i),f=adjustTextY(0,u,o),d=new BoundingRect$1(c,f,a,u);return d}function getBoundingRect(r,n,i,o){var a=((r||"")+"").split(`
`),u=a.length;if(u===1)return innerGetBoundingRect(a[0],n,i,o);for(var c=new BoundingRect$1(0,0,0,0),f=0;f<a.length;f++){var d=innerGetBoundingRect(a[f],n,i,o);f===0?c.copy(d):c.union(d)}return c}function adjustTextX(r,n,i){return i==="right"?r-=n:i==="center"&&(r-=n/2),r}function adjustTextY(r,n,i){return i==="middle"?r-=n/2:i==="bottom"&&(r-=n),r}function getLineHeight(r){return getWidth("国",r)}function parsePercent$1(r,n){return typeof r=="string"?r.lastIndexOf("%")>=0?parseFloat(r)/100*n:parseFloat(r):r}function calculateTextPosition(r,n,i){var o=n.position||"inside",a=n.distance!=null?n.distance:5,u=i.height,c=i.width,f=u/2,d=i.x,p=i.y,h="left",g="top";if(o instanceof Array)d+=parsePercent$1(o[0],i.width),p+=parsePercent$1(o[1],i.height),h=null,g=null;else switch(o){case"left":d-=a,p+=f,h="right",g="middle";break;case"right":d+=a+c,p+=f,g="middle";break;case"top":d+=c/2,p-=a,h="center",g="bottom";break;case"bottom":d+=c/2,p+=u+a,h="center";break;case"inside":d+=c/2,p+=f,h="center",g="middle";break;case"insideLeft":d+=a,p+=f,g="middle";break;case"insideRight":d+=c-a,p+=f,h="right",g="middle";break;case"insideTop":d+=c/2,p+=a,h="center";break;case"insideBottom":d+=c/2,p+=u-a,h="center",g="bottom";break;case"insideTopLeft":d+=a,p+=a;break;case"insideTopRight":d+=c-a,p+=a,h="right";break;case"insideBottomLeft":d+=a,p+=u-a,g="bottom";break;case"insideBottomRight":d+=c-a,p+=u-a,h="right",g="bottom";break}return r=r||{},r.x=d,r.y=p,r.align=h,r.verticalAlign=g,r}var PRESERVED_NORMAL_STATE="__zr_normal__",PRIMARY_STATES_KEYS$1=TRANSFORMABLE_PROPS.concat(["ignore"]),DEFAULT_ANIMATABLE_MAP=reduce(TRANSFORMABLE_PROPS,function(r,n){return r[n]=!0,r},{ignore:!1}),tmpTextPosCalcRes={},tmpBoundingRect=new BoundingRect$1(0,0,0,0),Element$1=function(){function r(n){this.id=guid(),this.animators=[],this.currentStates=[],this.states={},this._init(n)}return r.prototype._init=function(n){this.attr(n)},r.prototype.drift=function(n,i,o){switch(this.draggable){case"horizontal":i=0;break;case"vertical":n=0;break}var a=this.transform;a||(a=this.transform=[1,0,0,1,0,0]),a[4]+=n,a[5]+=i,this.decomposeTransform(),this.markRedraw()},r.prototype.beforeUpdate=function(){},r.prototype.afterUpdate=function(){},r.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},r.prototype.updateInnerText=function(n){var i=this._textContent;if(i&&(!i.ignore||n)){this.textConfig||(this.textConfig={});var o=this.textConfig,a=o.local,u=i.innerTransformable,c=void 0,f=void 0,d=!1;u.parent=a?this:null;var p=!1;if(u.copyTransform(i),o.position!=null){var h=tmpBoundingRect;o.layoutRect?h.copy(o.layoutRect):h.copy(this.getBoundingRect()),a||h.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(tmpTextPosCalcRes,o,h):calculateTextPosition(tmpTextPosCalcRes,o,h),u.x=tmpTextPosCalcRes.x,u.y=tmpTextPosCalcRes.y,c=tmpTextPosCalcRes.align,f=tmpTextPosCalcRes.verticalAlign;var g=o.origin;if(g&&o.rotation!=null){var v=void 0,y=void 0;g==="center"?(v=h.width*.5,y=h.height*.5):(v=parsePercent$1(g[0],h.width),y=parsePercent$1(g[1],h.height)),p=!0,u.originX=-u.x+v+(a?0:h.x),u.originY=-u.y+y+(a?0:h.y)}}o.rotation!=null&&(u.rotation=o.rotation);var A=o.offset;A&&(u.x+=A[0],u.y+=A[1],p||(u.originX=-A[0],u.originY=-A[1]));var _=o.inside==null?typeof o.position=="string"&&o.position.indexOf("inside")>=0:o.inside,S=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),b=void 0,T=void 0,w=void 0;_&&this.canBeInsideText()?(b=o.insideFill,T=o.insideStroke,(b==null||b==="auto")&&(b=this.getInsideTextFill()),(T==null||T==="auto")&&(T=this.getInsideTextStroke(b),w=!0)):(b=o.outsideFill,T=o.outsideStroke,(b==null||b==="auto")&&(b=this.getOutsideFill()),(T==null||T==="auto")&&(T=this.getOutsideStroke(b),w=!0)),b=b||"#000",(b!==S.fill||T!==S.stroke||w!==S.autoStroke||c!==S.align||f!==S.verticalAlign)&&(d=!0,S.fill=b,S.stroke=T,S.autoStroke=w,S.align=c,S.verticalAlign=f,i.setDefaultTextStyle(S)),i.__dirty|=REDRAW_BIT,d&&i.dirtyStyle(!0)}},r.prototype.canBeInsideText=function(){return!0},r.prototype.getInsideTextFill=function(){return"#fff"},r.prototype.getInsideTextStroke=function(n){return"#000"},r.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?LIGHT_LABEL_COLOR:DARK_LABEL_COLOR},r.prototype.getOutsideStroke=function(n){var i=this.__zr&&this.__zr.getBackgroundColor(),o=typeof i=="string"&&parse(i);o||(o=[255,255,255,1]);for(var a=o[3],u=this.__zr.isDarkMode(),c=0;c<3;c++)o[c]=o[c]*a+(u?0:255)*(1-a);return o[3]=1,stringify(o,"rgba")},r.prototype.traverse=function(n,i){},r.prototype.attrKV=function(n,i){n==="textConfig"?this.setTextConfig(i):n==="textContent"?this.setTextContent(i):n==="clipPath"?this.setClipPath(i):n==="extra"?(this.extra=this.extra||{},extend(this.extra,i)):this[n]=i},r.prototype.hide=function(){this.ignore=!0,this.markRedraw()},r.prototype.show=function(){this.ignore=!1,this.markRedraw()},r.prototype.attr=function(n,i){if(typeof n=="string")this.attrKV(n,i);else if(isObject$3(n))for(var o=n,a=keys(o),u=0;u<a.length;u++){var c=a[u];this.attrKV(c,n[c])}return this.markRedraw(),this},r.prototype.saveCurrentToNormalState=function(n){this._innerSaveToNormal(n);for(var i=this._normalState,o=0;o<this.animators.length;o++){var a=this.animators[o],u=a.__fromStateTransition;if(!(a.getLoop()||u&&u!==PRESERVED_NORMAL_STATE)){var c=a.targetName,f=c?i[c]:i;a.saveTo(f)}}},r.prototype._innerSaveToNormal=function(n){var i=this._normalState;i||(i=this._normalState={}),n.textConfig&&!i.textConfig&&(i.textConfig=this.textConfig),this._savePrimaryToNormal(n,i,PRIMARY_STATES_KEYS$1)},r.prototype._savePrimaryToNormal=function(n,i,o){for(var a=0;a<o.length;a++){var u=o[a];n[u]!=null&&!(u in i)&&(i[u]=this[u])}},r.prototype.hasState=function(){return this.currentStates.length>0},r.prototype.getState=function(n){return this.states[n]},r.prototype.ensureState=function(n){var i=this.states;return i[n]||(i[n]={}),i[n]},r.prototype.clearStates=function(n){this.useState(PRESERVED_NORMAL_STATE,!1,n)},r.prototype.useState=function(n,i,o,a){var u=n===PRESERVED_NORMAL_STATE,c=this.hasState();if(!(!c&&u)){var f=this.currentStates,d=this.stateTransition;if(!(indexOf(f,n)>=0&&(i||f.length===1))){var p;if(this.stateProxy&&!u&&(p=this.stateProxy(n)),p||(p=this.states&&this.states[n]),!p&&!u){logError("State "+n+" not exists.");return}u||this.saveCurrentToNormalState(p);var h=!!(p&&p.hoverLayer||a);h&&this._toggleHoverLayerFlag(!0),this._applyStateObj(n,p,this._normalState,i,!o&&!this.__inHover&&d&&d.duration>0,d);var g=this._textContent,v=this._textGuide;return g&&g.useState(n,i,o,h),v&&v.useState(n,i,o,h),u?(this.currentStates=[],this._normalState={}):i?this.currentStates.push(n):this.currentStates=[n],this._updateAnimationTargets(),this.markRedraw(),!h&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~REDRAW_BIT),p}}},r.prototype.useStates=function(n,i,o){if(!n.length)this.clearStates();else{var a=[],u=this.currentStates,c=n.length,f=c===u.length;if(f){for(var d=0;d<c;d++)if(n[d]!==u[d]){f=!1;break}}if(f)return;for(var d=0;d<c;d++){var p=n[d],h=void 0;this.stateProxy&&(h=this.stateProxy(p,n)),h||(h=this.states[p]),h&&a.push(h)}var g=a[c-1],v=!!(g&&g.hoverLayer||o);v&&this._toggleHoverLayerFlag(!0);var y=this._mergeStates(a),A=this.stateTransition;this.saveCurrentToNormalState(y),this._applyStateObj(n.join(","),y,this._normalState,!1,!i&&!this.__inHover&&A&&A.duration>0,A);var _=this._textContent,S=this._textGuide;_&&_.useStates(n,i,v),S&&S.useStates(n,i,v),this._updateAnimationTargets(),this.currentStates=n.slice(),this.markRedraw(),!v&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~REDRAW_BIT)}},r.prototype._updateAnimationTargets=function(){for(var n=0;n<this.animators.length;n++){var i=this.animators[n];i.targetName&&i.changeTarget(this[i.targetName])}},r.prototype.removeState=function(n){var i=indexOf(this.currentStates,n);if(i>=0){var o=this.currentStates.slice();o.splice(i,1),this.useStates(o)}},r.prototype.replaceState=function(n,i,o){var a=this.currentStates.slice(),u=indexOf(a,n),c=indexOf(a,i)>=0;u>=0?c?a.splice(u,1):a[u]=i:o&&!c&&a.push(i),this.useStates(a)},r.prototype.toggleState=function(n,i){i?this.useState(n,!0):this.removeState(n)},r.prototype._mergeStates=function(n){for(var i={},o,a=0;a<n.length;a++){var u=n[a];extend(i,u),u.textConfig&&(o=o||{},extend(o,u.textConfig))}return o&&(i.textConfig=o),i},r.prototype._applyStateObj=function(n,i,o,a,u,c){var f=!(i&&a);i&&i.textConfig?(this.textConfig=extend({},a?this.textConfig:o.textConfig),extend(this.textConfig,i.textConfig)):f&&o.textConfig&&(this.textConfig=o.textConfig);for(var d={},p=!1,h=0;h<PRIMARY_STATES_KEYS$1.length;h++){var g=PRIMARY_STATES_KEYS$1[h],v=u&&DEFAULT_ANIMATABLE_MAP[g];i&&i[g]!=null?v?(p=!0,d[g]=i[g]):this[g]=i[g]:f&&o[g]!=null&&(v?(p=!0,d[g]=o[g]):this[g]=o[g])}if(!u)for(var h=0;h<this.animators.length;h++){var y=this.animators[h],A=y.targetName;y.getLoop()||y.__changeFinalValue(A?(i||o)[A]:i||o)}p&&this._transitionState(n,d,c)},r.prototype._attachComponent=function(n){if(n.__zr&&!n.__hostTarget){if(process.env.NODE_ENV!=="production")throw new Error("Text element has been added to zrender.");return}if(n===this){if(process.env.NODE_ENV!=="production")throw new Error("Recursive component attachment.");return}var i=this.__zr;i&&n.addSelfToZr(i),n.__zr=i,n.__hostTarget=this},r.prototype._detachComponent=function(n){n.__zr&&n.removeSelfFromZr(n.__zr),n.__zr=null,n.__hostTarget=null},r.prototype.getClipPath=function(){return this._clipPath},r.prototype.setClipPath=function(n){this._clipPath&&this._clipPath!==n&&this.removeClipPath(),this._attachComponent(n),this._clipPath=n,this.markRedraw()},r.prototype.removeClipPath=function(){var n=this._clipPath;n&&(this._detachComponent(n),this._clipPath=null,this.markRedraw())},r.prototype.getTextContent=function(){return this._textContent},r.prototype.setTextContent=function(n){var i=this._textContent;if(i!==n){if(i&&i!==n&&this.removeTextContent(),process.env.NODE_ENV!=="production"&&n.__zr&&!n.__hostTarget)throw new Error("Text element has been added to zrender.");n.innerTransformable=new Transformable$1,this._attachComponent(n),this._textContent=n,this.markRedraw()}},r.prototype.setTextConfig=function(n){this.textConfig||(this.textConfig={}),extend(this.textConfig,n),this.markRedraw()},r.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},r.prototype.removeTextContent=function(){var n=this._textContent;n&&(n.innerTransformable=null,this._detachComponent(n),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},r.prototype.getTextGuideLine=function(){return this._textGuide},r.prototype.setTextGuideLine=function(n){this._textGuide&&this._textGuide!==n&&this.removeTextGuideLine(),this._attachComponent(n),this._textGuide=n,this.markRedraw()},r.prototype.removeTextGuideLine=function(){var n=this._textGuide;n&&(this._detachComponent(n),this._textGuide=null,this.markRedraw())},r.prototype.markRedraw=function(){this.__dirty|=REDRAW_BIT;var n=this.__zr;n&&(this.__inHover?n.refreshHover():n.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},r.prototype.dirty=function(){this.markRedraw()},r.prototype._toggleHoverLayerFlag=function(n){this.__inHover=n;var i=this._textContent,o=this._textGuide;i&&(i.__inHover=n),o&&(o.__inHover=n)},r.prototype.addSelfToZr=function(n){if(this.__zr!==n){this.__zr=n;var i=this.animators;if(i)for(var o=0;o<i.length;o++)n.animation.addAnimator(i[o]);this._clipPath&&this._clipPath.addSelfToZr(n),this._textContent&&this._textContent.addSelfToZr(n),this._textGuide&&this._textGuide.addSelfToZr(n)}},r.prototype.removeSelfFromZr=function(n){if(this.__zr){this.__zr=null;var i=this.animators;if(i)for(var o=0;o<i.length;o++)n.animation.removeAnimator(i[o]);this._clipPath&&this._clipPath.removeSelfFromZr(n),this._textContent&&this._textContent.removeSelfFromZr(n),this._textGuide&&this._textGuide.removeSelfFromZr(n)}},r.prototype.animate=function(n,i,o){var a=n?this[n]:this;if(process.env.NODE_ENV!=="production"&&!a){logError('Property "'+n+'" is not existed in element '+this.id);return}var u=new Animator$1(a,i,o);return n&&(u.targetName=n),this.addAnimator(u,n),u},r.prototype.addAnimator=function(n,i){var o=this.__zr,a=this;n.during(function(){a.updateDuringAnimation(i)}).done(function(){var u=a.animators,c=indexOf(u,n);c>=0&&u.splice(c,1)}),this.animators.push(n),o&&o.animation.addAnimator(n),o&&o.wakeUp()},r.prototype.updateDuringAnimation=function(n){this.markRedraw()},r.prototype.stopAnimation=function(n,i){for(var o=this.animators,a=o.length,u=[],c=0;c<a;c++){var f=o[c];!n||n===f.scope?f.stop(i):u.push(f)}return this.animators=u,this},r.prototype.animateTo=function(n,i,o){animateTo(this,n,i,o)},r.prototype.animateFrom=function(n,i,o){animateTo(this,n,i,o,!0)},r.prototype._transitionState=function(n,i,o,a){for(var u=animateTo(this,i,o,a),c=0;c<u.length;c++)u[c].__fromStateTransition=n},r.prototype.getBoundingRect=function(){return null},r.prototype.getPaintRect=function(){return null},r.initDefaultProps=function(){var n=r.prototype;n.type="element",n.name="",n.ignore=n.silent=n.isGroup=n.draggable=n.dragging=n.ignoreClip=n.__inHover=!1,n.__dirty=REDRAW_BIT;var i={};function o(u,c,f){i[u+c+f]||(console.warn("DEPRECATED: '"+u+"' has been deprecated. use '"+c+"', '"+f+"' instead"),i[u+c+f]=!0)}function a(u,c,f,d){Object.defineProperty(n,u,{get:function(){if(process.env.NODE_ENV!=="production"&&o(u,f,d),!this[c]){var h=this[c]=[];p(this,h)}return this[c]},set:function(h){process.env.NODE_ENV!=="production"&&o(u,f,d),this[f]=h[0],this[d]=h[1],this[c]=h,p(this,h)}});function p(h,g){Object.defineProperty(g,0,{get:function(){return h[f]},set:function(v){h[f]=v}}),Object.defineProperty(g,1,{get:function(){return h[d]},set:function(v){h[d]=v}})}}Object.defineProperty&&(a("position","_legacyPos","x","y"),a("scale","_legacyScale","scaleX","scaleY"),a("origin","_legacyOrigin","originX","originY"))}(),r}();mixin(Element$1,Eventful$1),mixin(Element$1,Transformable$1);function animateTo(r,n,i,o,a){i=i||{};var u=[];animateToShallow(r,"",r,n,i,o,u,a);var c=u.length,f=!1,d=i.done,p=i.aborted,h=function(){f=!0,c--,c<=0&&(f?d&&d():p&&p())},g=function(){c--,c<=0&&(f?d&&d():p&&p())};c||d&&d(),u.length>0&&i.during&&u[0].during(function(A,_){i.during(_)});for(var v=0;v<u.length;v++){var y=u[v];h&&y.done(h),g&&y.aborted(g),i.force&&y.duration(i.duration),y.start(i.easing)}return u}function copyArrShallow(r,n,i){for(var o=0;o<i;o++)r[o]=n[o]}function is2DArray(r){return isArrayLike(r[0])}function copyValue(r,n,i){if(isArrayLike(n[i]))if(isArrayLike(r[i])||(r[i]=[]),isTypedArray(n[i])){var o=n[i].length;r[i].length!==o&&(r[i]=new n[i].constructor(o),copyArrShallow(r[i],n[i],o))}else{var a=n[i],u=r[i],c=a.length;if(is2DArray(a))for(var f=a[0].length,d=0;d<c;d++)u[d]?copyArrShallow(u[d],a[d],f):u[d]=Array.prototype.slice.call(a[d]);else copyArrShallow(u,a,c);u.length=a.length}else r[i]=n[i]}function isValueSame(r,n){return r===n||isArrayLike(r)&&isArrayLike(n)&&is1DArraySame(r,n)}function is1DArraySame(r,n){var i=r.length;if(i!==n.length)return!1;for(var o=0;o<i;o++)if(r[o]!==n[o])return!1;return!0}function animateToShallow(r,n,i,o,a,u,c,f){for(var d=keys(o),p=a.duration,h=a.delay,g=a.additive,v=a.setToFinal,y=!isObject$3(u),A=r.animators,_=[],S=0;S<d.length;S++){var b=d[S],T=o[b];if(T!=null&&i[b]!=null&&(y||u[b]))if(isObject$3(T)&&!isArrayLike(T)&&!isGradientObject(T)){if(n){f||(i[b]=T,r.updateDuringAnimation(n));continue}animateToShallow(r,b,i[b],T,a,u&&u[b],c,f)}else _.push(b);else f||(i[b]=T,r.updateDuringAnimation(n),_.push(b))}var w=_.length;if(!g&&w)for(var x=0;x<A.length;x++){var k=A[x];if(k.targetName===n){var M=k.stopTracks(_);if(M){var D=indexOf(A,k);A.splice(D,1)}}}if(a.force||(_=filter(_,function(L){return!isValueSame(o[L],i[L])}),w=_.length),w>0||a.force&&!c.length){var z=void 0,j=void 0,oe=void 0;if(f){j={},v&&(z={});for(var x=0;x<w;x++){var b=_[x];j[b]=i[b],v?z[b]=o[b]:i[b]=o[b]}}else if(v){oe={};for(var x=0;x<w;x++){var b=_[x];oe[b]=cloneValue(i[b]),copyValue(i,o,b)}}var k=new Animator$1(i,!1,!1,g?filter(A,function(F){return F.targetName===n}):null);k.targetName=n,a.scope&&(k.scope=a.scope),v&&z&&k.whenWithKeys(0,z,_),oe&&k.whenWithKeys(0,oe,_),k.whenWithKeys(p??500,f?j:o,_).delay(h||0),r.addAnimator(k,n),c.push(k)}}const Element$2=Element$1;var Group$2=function(r){__extends(n,r);function n(i){var o=r.call(this)||this;return o.isGroup=!0,o._children=[],o.attr(i),o}return n.prototype.childrenRef=function(){return this._children},n.prototype.children=function(){return this._children.slice()},n.prototype.childAt=function(i){return this._children[i]},n.prototype.childOfName=function(i){for(var o=this._children,a=0;a<o.length;a++)if(o[a].name===i)return o[a]},n.prototype.childCount=function(){return this._children.length},n.prototype.add=function(i){if(i&&(i!==this&&i.parent!==this&&(this._children.push(i),this._doAdd(i)),process.env.NODE_ENV!=="production"&&i.__hostTarget))throw"This elemenet has been used as an attachment";return this},n.prototype.addBefore=function(i,o){if(i&&i!==this&&i.parent!==this&&o&&o.parent===this){var a=this._children,u=a.indexOf(o);u>=0&&(a.splice(u,0,i),this._doAdd(i))}return this},n.prototype.replace=function(i,o){var a=indexOf(this._children,i);return a>=0&&this.replaceAt(o,a),this},n.prototype.replaceAt=function(i,o){var a=this._children,u=a[o];if(i&&i!==this&&i.parent!==this&&i!==u){a[o]=i,u.parent=null;var c=this.__zr;c&&u.removeSelfFromZr(c),this._doAdd(i)}return this},n.prototype._doAdd=function(i){i.parent&&i.parent.remove(i),i.parent=this;var o=this.__zr;o&&o!==i.__zr&&i.addSelfToZr(o),o&&o.refresh()},n.prototype.remove=function(i){var o=this.__zr,a=this._children,u=indexOf(a,i);return u<0?this:(a.splice(u,1),i.parent=null,o&&i.removeSelfFromZr(o),o&&o.refresh(),this)},n.prototype.removeAll=function(){for(var i=this._children,o=this.__zr,a=0;a<i.length;a++){var u=i[a];o&&u.removeSelfFromZr(o),u.parent=null}return i.length=0,this},n.prototype.eachChild=function(i,o){for(var a=this._children,u=0;u<a.length;u++){var c=a[u];i.call(o,c,u)}return this},n.prototype.traverse=function(i,o){for(var a=0;a<this._children.length;a++){var u=this._children[a],c=i.call(o,u);u.isGroup&&!c&&u.traverse(i,o)}return this},n.prototype.addSelfToZr=function(i){r.prototype.addSelfToZr.call(this,i);for(var o=0;o<this._children.length;o++){var a=this._children[o];a.addSelfToZr(i)}},n.prototype.removeSelfFromZr=function(i){r.prototype.removeSelfFromZr.call(this,i);for(var o=0;o<this._children.length;o++){var a=this._children[o];a.removeSelfFromZr(i)}},n.prototype.getBoundingRect=function(i){for(var o=new BoundingRect$1(0,0,0,0),a=i||this._children,u=[],c=null,f=0;f<a.length;f++){var d=a[f];if(!(d.ignore||d.invisible)){var p=d.getBoundingRect(),h=d.getLocalTransform(u);h?(BoundingRect$1.applyTransform(o,p,h),c=c||o.clone(),c.union(o)):(c=c||p.clone(),c.union(p))}}return c||o},n}(Element$2);Group$2.prototype.type="group";const Group$3=Group$2;/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var painterCtors={},instances$1={};function delInstance(r){delete instances$1[r]}function isDarkMode(r){if(!r)return!1;if(typeof r=="string")return lum(r,1)<DARK_MODE_THRESHOLD;if(r.colorStops){for(var n=r.colorStops,i=0,o=n.length,a=0;a<o;a++)i+=lum(n[a].color,1);return i/=o,i<DARK_MODE_THRESHOLD}return!1}var ZRender=function(){function r(n,i,o){var a=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,o=o||{},this.dom=i,this.id=n;var u=new Storage$1,c=o.renderer||"canvas";if(painterCtors[c]||(c=keys(painterCtors)[0]),process.env.NODE_ENV!=="production"&&!painterCtors[c])throw new Error("Renderer '"+c+"' is not imported. Please import it first.");o.useDirtyRect=o.useDirtyRect==null?!1:o.useDirtyRect;var f=new painterCtors[c](i,u,o,n),d=o.ssr||f.ssrOnly;this.storage=u,this.painter=f;var p=!env$1.node&&!env$1.worker&&!d?new HandlerProxy(f.getViewportRoot(),f.root):null,h=o.useCoarsePointer,g=h==null||h==="auto"?env$1.touchEventsSupported:!!h,v=44,y;g&&(y=retrieve2(o.pointerSize,v)),this.handler=new Handler$1(u,f,p,f.root,y),this.animation=new Animation$1({stage:{update:d?null:function(){return a._flush(!0)}}}),d||this.animation.start()}return r.prototype.add=function(n){n&&(this.storage.addRoot(n),n.addSelfToZr(this),this.refresh())},r.prototype.remove=function(n){n&&(this.storage.delRoot(n),n.removeSelfFromZr(this),this.refresh())},r.prototype.configLayer=function(n,i){this.painter.configLayer&&this.painter.configLayer(n,i),this.refresh()},r.prototype.setBackgroundColor=function(n){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(n),this.refresh(),this._backgroundColor=n,this._darkMode=isDarkMode(n)},r.prototype.getBackgroundColor=function(){return this._backgroundColor},r.prototype.setDarkMode=function(n){this._darkMode=n},r.prototype.isDarkMode=function(){return this._darkMode},r.prototype.refreshImmediately=function(n){n||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},r.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},r.prototype.flush=function(){this._flush(!1)},r.prototype._flush=function(n){var i,o=getTime();this._needsRefresh&&(i=!0,this.refreshImmediately(n)),this._needsRefreshHover&&(i=!0,this.refreshHoverImmediately());var a=getTime();i?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:a-o})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},r.prototype.setSleepAfterStill=function(n){this._sleepAfterStill=n},r.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},r.prototype.refreshHover=function(){this._needsRefreshHover=!0},r.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover()},r.prototype.resize=function(n){n=n||{},this.painter.resize(n.width,n.height),this.handler.resize()},r.prototype.clearAnimation=function(){this.animation.clear()},r.prototype.getWidth=function(){return this.painter.getWidth()},r.prototype.getHeight=function(){return this.painter.getHeight()},r.prototype.setCursorStyle=function(n){this.handler.setCursorStyle(n)},r.prototype.findHover=function(n,i){return this.handler.findHover(n,i)},r.prototype.on=function(n,i,o){return this.handler.on(n,i,o),this},r.prototype.off=function(n,i){this.handler.off(n,i)},r.prototype.trigger=function(n,i){this.handler.trigger(n,i)},r.prototype.clear=function(){for(var n=this.storage.getRoots(),i=0;i<n.length;i++)n[i]instanceof Group$3&&n[i].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},r.prototype.dispose=function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,delInstance(this.id)},r}();function init(r,n){var i=new ZRender(guid(),r,n);return instances$1[i.id]=i,i}function registerPainter(r,n){painterCtors[r]=n}var RADIAN_EPSILON=1e-4,ROUND_SUPPORTED_PRECISION_MAX=20;function _trim(r){return r.replace(/^\s+|\s+$/g,"")}function linearMap(r,n,i,o){var a=n[0],u=n[1],c=i[0],f=i[1],d=u-a,p=f-c;if(d===0)return p===0?c:(c+f)/2;if(o)if(d>0){if(r<=a)return c;if(r>=u)return f}else{if(r>=a)return c;if(r<=u)return f}else{if(r===a)return c;if(r===u)return f}return(r-a)/d*p+c}function parsePercent(r,n){switch(r){case"center":case"middle":r="50%";break;case"left":case"top":r="0%";break;case"right":case"bottom":r="100%";break}return isString$2(r)?_trim(r).match(/%$/)?parseFloat(r)/100*n:parseFloat(r):r==null?NaN:+r}function round$2(r,n,i){return n==null&&(n=10),n=Math.min(Math.max(0,n),ROUND_SUPPORTED_PRECISION_MAX),r=(+r).toFixed(n),i?r:+r}function getPrecision(r){if(r=+r,isNaN(r))return 0;if(r>1e-14){for(var n=1,i=0;i<15;i++,n*=10)if(Math.round(r*n)/n===r)return i}return getPrecisionSafe(r)}function getPrecisionSafe(r){var n=r.toString().toLowerCase(),i=n.indexOf("e"),o=i>0?+n.slice(i+1):0,a=i>0?i:n.length,u=n.indexOf("."),c=u<0?0:a-1-u;return Math.max(0,c-o)}function getPercentSeats(r,n){var i=reduce(r,function(y,A){return y+(isNaN(A)?0:A)},0);if(i===0)return[];for(var o=Math.pow(10,n),a=map$1(r,function(y){return(isNaN(y)?0:y)/i*o*100}),u=o*100,c=map$1(a,function(y){return Math.floor(y)}),f=reduce(c,function(y,A){return y+A},0),d=map$1(a,function(y,A){return y-c[A]});f<u;){for(var p=Number.NEGATIVE_INFINITY,h=null,g=0,v=d.length;g<v;++g)d[g]>p&&(p=d[g],h=g);++c[h],d[h]=0,++f}return map$1(c,function(y){return y/o})}function addSafe(r,n){var i=Math.max(getPrecision(r),getPrecision(n)),o=r+n;return i>ROUND_SUPPORTED_PRECISION_MAX?o:round$2(o,i)}function remRadian(r){var n=Math.PI*2;return(r%n+n)%n}function isRadianAroundZero(r){return r>-RADIAN_EPSILON&&r<RADIAN_EPSILON}var TIME_REG=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function parseDate(r){if(r instanceof Date)return r;if(isString$2(r)){var n=TIME_REG.exec(r);if(!n)return new Date(NaN);if(n[8]){var i=+n[4]||0;return n[8].toUpperCase()!=="Z"&&(i-=+n[8].slice(0,3)),new Date(Date.UTC(+n[1],+(n[2]||1)-1,+n[3]||1,i,+(n[5]||0),+n[6]||0,n[7]?+n[7].substring(0,3):0))}else return new Date(+n[1],+(n[2]||1)-1,+n[3]||1,+n[4]||0,+(n[5]||0),+n[6]||0,n[7]?+n[7].substring(0,3):0)}else if(r==null)return new Date(NaN);return new Date(Math.round(r))}function numericToNumber(r){var n=parseFloat(r);return n==r&&(n!==0||!isString$2(r)||r.indexOf("x")<=0)?n:NaN}function isNumeric(r){return!isNaN(numericToNumber(r))}function getRandomIdBase(){return Math.round(Math.random()*9)}function getGreatestCommonDividor(r,n){return n===0?r:getGreatestCommonDividor(n,r%n)}function getLeastCommonMultiple(r,n){return r==null?n:n==null?r:r*n/getGreatestCommonDividor(r,n)}var ECHARTS_PREFIX="[ECharts] ",storedLogs={},hasConsole=typeof console<"u"&&console.warn&&console.log;function outputLog(r,n,i){if(hasConsole){if(i){if(storedLogs[n])return;storedLogs[n]=!0}console[r](ECHARTS_PREFIX+n)}}function log(r,n){outputLog("log",r,n)}function warn(r,n){outputLog("warn",r,n)}function error(r,n){outputLog("error",r,n)}function deprecateLog(r){process.env.NODE_ENV!=="production"&&outputLog("warn","DEPRECATED: "+r,!0)}function deprecateReplaceLog(r,n,i){process.env.NODE_ENV!=="production"&&deprecateLog((i?"["+i+"]":"")+(r+" is deprecated, use "+n+" instead."))}function makePrintable(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i="";if(process.env.NODE_ENV!=="production"){var o=function(a){return a===void 0?"undefined":a===1/0?"Infinity":a===-1/0?"-Infinity":eqNaN(a)?"NaN":a instanceof Date?"Date("+a.toISOString()+")":isFunction$1(a)?"function () { ... }":isRegExp(a)?a+"":null};i=map$1(r,function(a){if(isString$2(a))return a;var u=o(a);if(u!=null)return u;if(typeof JSON<"u"&&JSON.stringify)try{return JSON.stringify(a,function(c,f){var d=o(f);return d??f})}catch{return"?"}else return"?"}).join(" ")}return i}function throwError$1(r){throw new Error(r)}var DUMMY_COMPONENT_NAME_PREFIX="series\0",INTERNAL_COMPONENT_ID_PREFIX="\0_ec_\0";function normalizeToArray(r){return r instanceof Array?r:r==null?[]:[r]}function defaultEmphasis(r,n,i){if(r){r[n]=r[n]||{},r.emphasis=r.emphasis||{},r.emphasis[n]=r.emphasis[n]||{};for(var o=0,a=i.length;o<a;o++){var u=i[o];!r.emphasis[n].hasOwnProperty(u)&&r[n].hasOwnProperty(u)&&(r.emphasis[n][u]=r[n][u])}}}var TEXT_STYLE_OPTIONS=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function getDataItemValue(r){return isObject$3(r)&&!isArray$1(r)&&!(r instanceof Date)?r.value:r}function isDataItemOption(r){return isObject$3(r)&&!(r instanceof Array)}function mappingToExists(r,n,i){var o=i==="normalMerge",a=i==="replaceMerge",u=i==="replaceAll";r=r||[],n=(n||[]).slice();var c=createHashMap();each$4(n,function(d,p){if(!isObject$3(d)){n[p]=null;return}process.env.NODE_ENV!=="production"&&(d.id!=null&&!isValidIdOrName(d.id)&&warnInvalidateIdOrName(d.id),d.name!=null&&!isValidIdOrName(d.name)&&warnInvalidateIdOrName(d.name))});var f=prepareResult(r,c,i);return(o||a)&&mappingById(f,r,c,n),o&&mappingByName(f,n),o||a?mappingByIndex(f,n,a):u&&mappingInReplaceAllMode(f,n),makeIdAndName(f),f}function prepareResult(r,n,i){var o=[];if(i==="replaceAll")return o;for(var a=0;a<r.length;a++){var u=r[a];u&&u.id!=null&&n.set(u.id,a),o.push({existing:i==="replaceMerge"||isComponentIdInternal(u)?null:u,newOption:null,keyInfo:null,brandNew:null})}return o}function mappingById(r,n,i,o){each$4(o,function(a,u){if(!(!a||a.id==null)){var c=makeComparableKey(a.id),f=i.get(c);if(f!=null){var d=r[f];assert(!d.newOption,'Duplicated option on id "'+c+'".'),d.newOption=a,d.existing=n[f],o[u]=null}}})}function mappingByName(r,n){each$4(n,function(i,o){if(!(!i||i.name==null))for(var a=0;a<r.length;a++){var u=r[a].existing;if(!r[a].newOption&&u&&(u.id==null||i.id==null)&&!isComponentIdInternal(i)&&!isComponentIdInternal(u)&&keyExistAndEqual("name",u,i)){r[a].newOption=i,n[o]=null;return}}})}function mappingByIndex(r,n,i){each$4(n,function(o){if(o){for(var a,u=0;(a=r[u])&&(a.newOption||isComponentIdInternal(a.existing)||a.existing&&o.id!=null&&!keyExistAndEqual("id",o,a.existing));)u++;a?(a.newOption=o,a.brandNew=i):r.push({newOption:o,brandNew:i,existing:null,keyInfo:null}),u++}})}function mappingInReplaceAllMode(r,n){each$4(n,function(i){r.push({newOption:i,brandNew:!0,existing:null,keyInfo:null})})}function makeIdAndName(r){var n=createHashMap();each$4(r,function(i){var o=i.existing;o&&n.set(o.id,i)}),each$4(r,function(i){var o=i.newOption;assert(!o||o.id==null||!n.get(o.id)||n.get(o.id)===i,"id duplicates: "+(o&&o.id)),o&&o.id!=null&&n.set(o.id,i),!i.keyInfo&&(i.keyInfo={})}),each$4(r,function(i,o){var a=i.existing,u=i.newOption,c=i.keyInfo;if(isObject$3(u)){if(c.name=u.name!=null?makeComparableKey(u.name):a?a.name:DUMMY_COMPONENT_NAME_PREFIX+o,a)c.id=makeComparableKey(a.id);else if(u.id!=null)c.id=makeComparableKey(u.id);else{var f=0;do c.id="\0"+c.name+"\0"+f++;while(n.get(c.id))}n.set(c.id,i)}})}function keyExistAndEqual(r,n,i){var o=convertOptionIdName(n[r],null),a=convertOptionIdName(i[r],null);return o!=null&&a!=null&&o===a}function makeComparableKey(r){if(process.env.NODE_ENV!=="production"&&r==null)throw new Error;return convertOptionIdName(r,"")}function convertOptionIdName(r,n){return r==null?n:isString$2(r)?r:isNumber$1(r)||isStringSafe(r)?r+"":n}function warnInvalidateIdOrName(r){process.env.NODE_ENV!=="production"&&warn("`"+r+"` is invalid id or name. Must be a string or number.")}function isValidIdOrName(r){return isStringSafe(r)||isNumeric(r)}function isNameSpecified(r){var n=r.name;return!!(n&&n.indexOf(DUMMY_COMPONENT_NAME_PREFIX))}function isComponentIdInternal(r){return r&&r.id!=null&&makeComparableKey(r.id).indexOf(INTERNAL_COMPONENT_ID_PREFIX)===0}function setComponentTypeToKeyInfo(r,n,i){each$4(r,function(o){var a=o.newOption;isObject$3(a)&&(o.keyInfo.mainType=n,o.keyInfo.subType=determineSubType(n,a,o.existing,i))})}function determineSubType(r,n,i,o){var a=n.type?n.type:i?i.subType:o.determineSubType(r,n);return a}function queryDataIndex(r,n){if(n.dataIndexInside!=null)return n.dataIndexInside;if(n.dataIndex!=null)return isArray$1(n.dataIndex)?map$1(n.dataIndex,function(i){return r.indexOfRawIndex(i)}):r.indexOfRawIndex(n.dataIndex);if(n.name!=null)return isArray$1(n.name)?map$1(n.name,function(i){return r.indexOfName(i)}):r.indexOfName(n.name)}function makeInner(){var r="__ec_inner_"+innerUniqueIndex++;return function(n){return n[r]||(n[r]={})}}var innerUniqueIndex=getRandomIdBase();function parseFinder(r,n,i){var o=preParseFinder(n,i),a=o.mainTypeSpecified,u=o.queryOptionMap,c=o.others,f=c,d=i?i.defaultMainType:null;return!a&&d&&u.set(d,{}),u.each(function(p,h){var g=queryReferringComponents(r,h,p,{useDefault:d===h,enableAll:i&&i.enableAll!=null?i.enableAll:!0,enableNone:i&&i.enableNone!=null?i.enableNone:!0});f[h+"Models"]=g.models,f[h+"Model"]=g.models[0]}),f}function preParseFinder(r,n){var i;if(isString$2(r)){var o={};o[r+"Index"]=0,i=o}else i=r;var a=createHashMap(),u={},c=!1;return each$4(i,function(f,d){if(d==="dataIndex"||d==="dataIndexInside"){u[d]=f;return}var p=d.match(/^(\w+)(Index|Id|Name)$/)||[],h=p[1],g=(p[2]||"").toLowerCase();if(!(!h||!g||n&&n.includeMainTypes&&indexOf(n.includeMainTypes,h)<0)){c=c||!!h;var v=a.get(h)||a.set(h,{});v[g]=f}}),{mainTypeSpecified:c,queryOptionMap:a,others:u}}var SINGLE_REFERRING={useDefault:!0,enableAll:!1,enableNone:!1};function queryReferringComponents(r,n,i,o){o=o||SINGLE_REFERRING;var a=i.index,u=i.id,c=i.name,f={models:null,specified:a!=null||u!=null||c!=null};if(!f.specified){var d=void 0;return f.models=o.useDefault&&(d=r.getComponent(n))?[d]:[],f}return a==="none"||a===!1?(assert(o.enableNone,'`"none"` or `false` is not a valid value on index option.'),f.models=[],f):(a==="all"&&(assert(o.enableAll,'`"all"` is not a valid value on index option.'),a=u=c=null),f.models=r.queryComponents({mainType:n,index:a,id:u,name:c}),f)}function setAttribute(r,n,i){r.setAttribute?r.setAttribute(n,i):r[n]=i}function getTooltipRenderMode(r){return r==="auto"?env$1.domSupported?"html":"richText":r||"html"}var TYPE_DELIMITER=".",IS_CONTAINER="___EC__COMPONENT__CONTAINER___",IS_EXTENDED_CLASS="___EC__EXTENDED_CLASS___";function parseClassType(r){var n={main:"",sub:""};if(r){var i=r.split(TYPE_DELIMITER);n.main=i[0]||"",n.sub=i[1]||""}return n}function checkClassType(r){assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(r),'componentType "'+r+'" illegal')}function isExtendedClass(r){return!!(r&&r[IS_EXTENDED_CLASS])}function enableClassExtend(r,n){r.$constructor=r,r.extend=function(i){process.env.NODE_ENV!=="production"&&each$4(n,function(u){i[u]||console.warn("Method `"+u+"` should be implemented"+(i.type?" in "+i.type:"")+".")});var o=this,a;return isESClass(o)?a=function(u){__extends(c,u);function c(){return u.apply(this,arguments)||this}return c}(o):(a=function(){(i.$constructor||o).apply(this,arguments)},inherits(a,this)),extend(a.prototype,i),a[IS_EXTENDED_CLASS]=!0,a.extend=this.extend,a.superCall=superCall,a.superApply=superApply,a.superClass=o,a}}function isESClass(r){return isFunction$1(r)&&/^class\s/.test(Function.prototype.toString.call(r))}function mountExtend(r,n){r.extend=n.extend}var classBase=Math.round(Math.random()*10);function enableClassCheck(r){var n=["__\0is_clz",classBase++].join("_");r.prototype[n]=!0,process.env.NODE_ENV!=="production"&&assert(!r.isInstance,'The method "is" can not be defined.'),r.isInstance=function(i){return!!(i&&i[n])}}function superCall(r,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];return this.superClass.prototype[n].apply(r,i)}function superApply(r,n,i){return this.superClass.prototype[n].apply(r,i)}function enableClassManagement(r){var n={};r.registerClass=function(o){var a=o.type||o.prototype.type;if(a){checkClassType(a),o.prototype.type=a;var u=parseClassType(a);if(!u.sub)process.env.NODE_ENV!=="production"&&n[u.main]&&console.warn(u.main+" exists."),n[u.main]=o;else if(u.sub!==IS_CONTAINER){var c=i(u);c[u.sub]=o}}return o},r.getClass=function(o,a,u){var c=n[o];if(c&&c[IS_CONTAINER]&&(c=a?c[a]:null),u&&!c)throw new Error(a?"Component "+o+"."+(a||"")+" is used but not imported.":o+".type should be specified.");return c},r.getClassesByMainType=function(o){var a=parseClassType(o),u=[],c=n[a.main];return c&&c[IS_CONTAINER]?each$4(c,function(f,d){d!==IS_CONTAINER&&u.push(f)}):u.push(c),u},r.hasClass=function(o){var a=parseClassType(o);return!!n[a.main]},r.getAllClassMainTypes=function(){var o=[];return each$4(n,function(a,u){o.push(u)}),o},r.hasSubTypes=function(o){var a=parseClassType(o),u=n[a.main];return u&&u[IS_CONTAINER]};function i(o){var a=n[o.main];return(!a||!a[IS_CONTAINER])&&(a=n[o.main]={},a[IS_CONTAINER]=!0),a}}function makeStyleMapper(r,n){for(var i=0;i<r.length;i++)r[i][1]||(r[i][1]=r[i][0]);return n=n||!1,function(o,a,u){for(var c={},f=0;f<r.length;f++){var d=r[f][1];if(!(a&&indexOf(a,d)>=0||u&&indexOf(u,d)<0)){var p=o.getShallow(d,n);p!=null&&(c[r[f][0]]=p)}}return c}}var AREA_STYLE_KEY_MAP=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],getAreaStyle=makeStyleMapper(AREA_STYLE_KEY_MAP),AreaStyleMixin=function(){function r(){}return r.prototype.getAreaStyle=function(n,i){return getAreaStyle(this,n,i)},r}(),globalImageCache=new LRU$1(50);function findExistImage(r){if(typeof r=="string"){var n=globalImageCache.get(r);return n&&n.image}else return r}function createOrUpdateImage(r,n,i,o,a){if(r)if(typeof r=="string"){if(n&&n.__zrImageSrc===r||!i)return n;var u=globalImageCache.get(r),c={hostEl:i,cb:o,cbPayload:a};return u?(n=u.image,!isImageReady(n)&&u.pending.push(c)):(n=platformApi.loadImage(r,imageOnLoad,imageOnLoad),n.__zrImageSrc=r,globalImageCache.put(r,n.__cachedImgObj={image:n,pending:[c]})),n}else return r;else return n}function imageOnLoad(){var r=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var n=0;n<r.pending.length;n++){var i=r.pending[n],o=i.cb;o&&o(this,i.cbPayload),i.hostEl.dirty()}r.pending.length=0}function isImageReady(r){return r&&r.width&&r.height}var STYLE_REG=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function truncateText(r,n,i,o,a){if(!n)return"";var u=(r+"").split(`
`);a=prepareTruncateOptions(n,i,o,a);for(var c=0,f=u.length;c<f;c++)u[c]=truncateSingleLine(u[c],a);return u.join(`
`)}function prepareTruncateOptions(r,n,i,o){o=o||{};var a=extend({},o);a.font=n,i=retrieve2(i,"..."),a.maxIterations=retrieve2(o.maxIterations,2);var u=a.minChar=retrieve2(o.minChar,0);a.cnCharWidth=getWidth("国",n);var c=a.ascCharWidth=getWidth("a",n);a.placeholder=retrieve2(o.placeholder,"");for(var f=r=Math.max(0,r-1),d=0;d<u&&f>=c;d++)f-=c;var p=getWidth(i,n);return p>f&&(i="",p=0),f=r-p,a.ellipsis=i,a.ellipsisWidth=p,a.contentWidth=f,a.containerWidth=r,a}function truncateSingleLine(r,n){var i=n.containerWidth,o=n.font,a=n.contentWidth;if(!i)return"";var u=getWidth(r,o);if(u<=i)return r;for(var c=0;;c++){if(u<=a||c>=n.maxIterations){r+=n.ellipsis;break}var f=c===0?estimateLength(r,a,n.ascCharWidth,n.cnCharWidth):u>0?Math.floor(r.length*a/u):0;r=r.substr(0,f),u=getWidth(r,o)}return r===""&&(r=n.placeholder),r}function estimateLength(r,n,i,o){for(var a=0,u=0,c=r.length;u<c&&a<n;u++){var f=r.charCodeAt(u);a+=0<=f&&f<=127?i:o}return u}function parsePlainText(r,n){r!=null&&(r+="");var i=n.overflow,o=n.padding,a=n.font,u=i==="truncate",c=getLineHeight(a),f=retrieve2(n.lineHeight,c),d=!!n.backgroundColor,p=n.lineOverflow==="truncate",h=n.width,g;h!=null&&(i==="break"||i==="breakAll")?g=r?wrapText(r,n.font,h,i==="breakAll",0).lines:[]:g=r?r.split(`
`):[];var v=g.length*f,y=retrieve2(n.height,v);if(v>y&&p){var A=Math.floor(y/f);g=g.slice(0,A)}if(r&&u&&h!=null)for(var _=prepareTruncateOptions(h,a,n.ellipsis,{minChar:n.truncateMinChar,placeholder:n.placeholder}),S=0;S<g.length;S++)g[S]=truncateSingleLine(g[S],_);for(var b=y,T=0,S=0;S<g.length;S++)T=Math.max(getWidth(g[S],a),T);h==null&&(h=T);var w=T;return o&&(b+=o[0]+o[2],w+=o[1]+o[3],h+=o[1]+o[3]),d&&(w=h),{lines:g,height:y,outerWidth:w,outerHeight:b,lineHeight:f,calculatedLineHeight:c,contentWidth:T,contentHeight:v,width:h}}var RichTextToken=function(){function r(){}return r}(),RichTextLine=function(){function r(n){this.tokens=[],n&&(this.tokens=n)}return r}(),RichTextContentBlock=function(){function r(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]}return r}();function parseRichText(r,n){var i=new RichTextContentBlock;if(r!=null&&(r+=""),!r)return i;for(var o=n.width,a=n.height,u=n.overflow,c=(u==="break"||u==="breakAll")&&o!=null?{width:o,accumWidth:0,breakAll:u==="breakAll"}:null,f=STYLE_REG.lastIndex=0,d;(d=STYLE_REG.exec(r))!=null;){var p=d.index;p>f&&pushTokens(i,r.substring(f,p),n,c),pushTokens(i,d[2],n,c,d[1]),f=STYLE_REG.lastIndex}f<r.length&&pushTokens(i,r.substring(f,r.length),n,c);var h=[],g=0,v=0,y=n.padding,A=u==="truncate",_=n.lineOverflow==="truncate";function S(ie,Y,Ie){ie.width=Y,ie.lineHeight=Ie,g+=Ie,v=Math.max(v,Y)}e:for(var b=0;b<i.lines.length;b++){for(var T=i.lines[b],w=0,x=0,k=0;k<T.tokens.length;k++){var M=T.tokens[k],D=M.styleName&&n.rich[M.styleName]||{},z=M.textPadding=D.padding,j=z?z[1]+z[3]:0,oe=M.font=D.font||n.font;M.contentHeight=getLineHeight(oe);var L=retrieve2(D.height,M.contentHeight);if(M.innerHeight=L,z&&(L+=z[0]+z[2]),M.height=L,M.lineHeight=retrieve3(D.lineHeight,n.lineHeight,L),M.align=D&&D.align||n.align,M.verticalAlign=D&&D.verticalAlign||"middle",_&&a!=null&&g+M.lineHeight>a){k>0?(T.tokens=T.tokens.slice(0,k),S(T,x,w),i.lines=i.lines.slice(0,b+1)):i.lines=i.lines.slice(0,b);break e}var F=D.width,O=F==null||F==="auto";if(typeof F=="string"&&F.charAt(F.length-1)==="%")M.percentWidth=F,h.push(M),M.contentWidth=getWidth(M.text,oe);else{if(O){var ue=D.backgroundColor,_e=ue&&ue.image;_e&&(_e=findExistImage(_e),isImageReady(_e)&&(M.width=Math.max(M.width,_e.width*L/_e.height)))}var Ce=A&&o!=null?o-x:null;Ce!=null&&Ce<M.width?!O||Ce<j?(M.text="",M.width=M.contentWidth=0):(M.text=truncateText(M.text,Ce-j,oe,n.ellipsis,{minChar:n.truncateMinChar}),M.width=M.contentWidth=getWidth(M.text,oe)):M.contentWidth=getWidth(M.text,oe)}M.width+=j,x+=M.width,D&&(w=Math.max(w,M.lineHeight))}S(T,x,w)}i.outerWidth=i.width=retrieve2(o,v),i.outerHeight=i.height=retrieve2(a,g),i.contentHeight=g,i.contentWidth=v,y&&(i.outerWidth+=y[1]+y[3],i.outerHeight+=y[0]+y[2]);for(var b=0;b<h.length;b++){var M=h[b],de=M.percentWidth;M.width=parseInt(de,10)/100*i.width}return i}function pushTokens(r,n,i,o,a){var u=n==="",c=a&&i.rich[a]||{},f=r.lines,d=c.font||i.font,p=!1,h,g;if(o){var v=c.padding,y=v?v[1]+v[3]:0;if(c.width!=null&&c.width!=="auto"){var A=parsePercent$1(c.width,o.width)+y;f.length>0&&A+o.accumWidth>o.width&&(h=n.split(`
`),p=!0),o.accumWidth=A}else{var _=wrapText(n,d,o.width,o.breakAll,o.accumWidth);o.accumWidth=_.accumWidth+y,g=_.linesWidths,h=_.lines}}else h=n.split(`
`);for(var S=0;S<h.length;S++){var b=h[S],T=new RichTextToken;if(T.styleName=a,T.text=b,T.isLineHolder=!b&&!u,typeof c.width=="number"?T.width=c.width:T.width=g?g[S]:getWidth(b,d),!S&&!p){var w=(f[f.length-1]||(f[0]=new RichTextLine)).tokens,x=w.length;x===1&&w[0].isLineHolder?w[0]=T:(b||!x||u)&&w.push(T)}else f.push(new RichTextLine([T]))}}function isLatin(r){var n=r.charCodeAt(0);return n>=33&&n<=383}var breakCharMap=reduce(",&?/;] ".split(""),function(r,n){return r[n]=!0,r},{});function isWordBreakChar(r){return isLatin(r)?!!breakCharMap[r]:!0}function wrapText(r,n,i,o,a){for(var u=[],c=[],f="",d="",p=0,h=0,g=0;g<r.length;g++){var v=r.charAt(g);if(v===`
`){d&&(f+=d,h+=p),u.push(f),c.push(h),f="",d="",p=0,h=0;continue}var y=getWidth(v,n),A=o?!1:!isWordBreakChar(v);if(u.length?h+y>i:a+h+y>i){h?(f||d)&&(A?(f||(f=d,d="",p=0,h=p),u.push(f),c.push(h-p),d+=v,p+=y,f="",h=p):(d&&(f+=d,d="",p=0),u.push(f),c.push(h),f=v,h=y)):A?(u.push(d),c.push(p),d=v,p=y):(u.push(v),c.push(y));continue}h+=y,A?(d+=v,p+=y):(d&&(f+=d,d="",p=0),f+=v)}return!u.length&&!f&&(f=r,d="",p=0),d&&(f+=d),f&&(u.push(f),c.push(h)),u.length===1&&(h+=a),{accumWidth:h,lines:u,linesWidths:c}}var STYLE_MAGIC_KEY="__zr_style_"+Math.round(Math.random()*10),DEFAULT_COMMON_STYLE={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},DEFAULT_COMMON_ANIMATION_PROPS={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};DEFAULT_COMMON_STYLE[STYLE_MAGIC_KEY]=!0;var PRIMARY_STATES_KEYS=["z","z2","invisible"],PRIMARY_STATES_KEYS_IN_HOVER_LAYER=["invisible"],Displayable=function(r){__extends(n,r);function n(i){return r.call(this,i)||this}return n.prototype._init=function(i){for(var o=keys(i),a=0;a<o.length;a++){var u=o[a];u==="style"?this.useStyle(i[u]):r.prototype.attrKV.call(this,u,i[u])}this.style||this.useStyle({})},n.prototype.beforeBrush=function(){},n.prototype.afterBrush=function(){},n.prototype.innerBeforeBrush=function(){},n.prototype.innerAfterBrush=function(){},n.prototype.shouldBePainted=function(i,o,a,u){var c=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&isDisplayableCulled(this,i,o)||c&&!c[0]&&!c[3])return!1;if(a&&this.__clipPaths){for(var f=0;f<this.__clipPaths.length;++f)if(this.__clipPaths[f].isZeroArea())return!1}if(u&&this.parent)for(var d=this.parent;d;){if(d.ignore)return!1;d=d.parent}return!0},n.prototype.contain=function(i,o){return this.rectContain(i,o)},n.prototype.traverse=function(i,o){i.call(o,this)},n.prototype.rectContain=function(i,o){var a=this.transformCoordToLocal(i,o),u=this.getBoundingRect();return u.contain(a[0],a[1])},n.prototype.getPaintRect=function(){var i=this._paintRect;if(!this._paintRect||this.__dirty){var o=this.transform,a=this.getBoundingRect(),u=this.style,c=u.shadowBlur||0,f=u.shadowOffsetX||0,d=u.shadowOffsetY||0;i=this._paintRect||(this._paintRect=new BoundingRect$1(0,0,0,0)),o?BoundingRect$1.applyTransform(i,a,o):i.copy(a),(c||f||d)&&(i.width+=c*2+Math.abs(f),i.height+=c*2+Math.abs(d),i.x=Math.min(i.x,i.x+f-c),i.y=Math.min(i.y,i.y+d-c));var p=this.dirtyRectTolerance;i.isZero()||(i.x=Math.floor(i.x-p),i.y=Math.floor(i.y-p),i.width=Math.ceil(i.width+1+p*2),i.height=Math.ceil(i.height+1+p*2))}return i},n.prototype.setPrevPaintRect=function(i){i?(this._prevPaintRect=this._prevPaintRect||new BoundingRect$1(0,0,0,0),this._prevPaintRect.copy(i)):this._prevPaintRect=null},n.prototype.getPrevPaintRect=function(){return this._prevPaintRect},n.prototype.animateStyle=function(i){return this.animate("style",i)},n.prototype.updateDuringAnimation=function(i){i==="style"?this.dirtyStyle():this.markRedraw()},n.prototype.attrKV=function(i,o){i!=="style"?r.prototype.attrKV.call(this,i,o):this.style?this.setStyle(o):this.useStyle(o)},n.prototype.setStyle=function(i,o){return typeof i=="string"?this.style[i]=o:extend(this.style,i),this.dirtyStyle(),this},n.prototype.dirtyStyle=function(i){i||this.markRedraw(),this.__dirty|=STYLE_CHANGED_BIT,this._rect&&(this._rect=null)},n.prototype.dirty=function(){this.dirtyStyle()},n.prototype.styleChanged=function(){return!!(this.__dirty&STYLE_CHANGED_BIT)},n.prototype.styleUpdated=function(){this.__dirty&=~STYLE_CHANGED_BIT},n.prototype.createStyle=function(i){return createObject(DEFAULT_COMMON_STYLE,i)},n.prototype.useStyle=function(i){i[STYLE_MAGIC_KEY]||(i=this.createStyle(i)),this.__inHover?this.__hoverStyle=i:this.style=i,this.dirtyStyle()},n.prototype.isStyleObject=function(i){return i[STYLE_MAGIC_KEY]},n.prototype._innerSaveToNormal=function(i){r.prototype._innerSaveToNormal.call(this,i);var o=this._normalState;i.style&&!o.style&&(o.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(i,o,PRIMARY_STATES_KEYS)},n.prototype._applyStateObj=function(i,o,a,u,c,f){r.prototype._applyStateObj.call(this,i,o,a,u,c,f);var d=!(o&&u),p;if(o&&o.style?c?u?p=o.style:(p=this._mergeStyle(this.createStyle(),a.style),this._mergeStyle(p,o.style)):(p=this._mergeStyle(this.createStyle(),u?this.style:a.style),this._mergeStyle(p,o.style)):d&&(p=a.style),p)if(c){var h=this.style;if(this.style=this.createStyle(d?{}:h),d)for(var g=keys(h),v=0;v<g.length;v++){var y=g[v];y in p&&(p[y]=p[y],this.style[y]=h[y])}for(var A=keys(p),v=0;v<A.length;v++){var y=A[v];this.style[y]=this.style[y]}this._transitionState(i,{style:p},f,this.getAnimationStyleProps())}else this.useStyle(p);for(var _=this.__inHover?PRIMARY_STATES_KEYS_IN_HOVER_LAYER:PRIMARY_STATES_KEYS,v=0;v<_.length;v++){var y=_[v];o&&o[y]!=null?this[y]=o[y]:d&&a[y]!=null&&(this[y]=a[y])}},n.prototype._mergeStates=function(i){for(var o=r.prototype._mergeStates.call(this,i),a,u=0;u<i.length;u++){var c=i[u];c.style&&(a=a||{},this._mergeStyle(a,c.style))}return a&&(o.style=a),o},n.prototype._mergeStyle=function(i,o){return extend(i,o),i},n.prototype.getAnimationStyleProps=function(){return DEFAULT_COMMON_ANIMATION_PROPS},n.initDefaultProps=function(){var i=n.prototype;i.type="displayable",i.invisible=!1,i.z=0,i.z2=0,i.zlevel=0,i.culling=!1,i.cursor="pointer",i.rectHover=!1,i.incremental=!1,i._rect=null,i.dirtyRectTolerance=0,i.__dirty=REDRAW_BIT|STYLE_CHANGED_BIT}(),n}(Element$2),tmpRect=new BoundingRect$1(0,0,0,0),viewRect=new BoundingRect$1(0,0,0,0);function isDisplayableCulled(r,n,i){return tmpRect.copy(r.getBoundingRect()),r.transform&&tmpRect.applyTransform(r.transform),viewRect.width=n,viewRect.height=i,!tmpRect.intersect(viewRect)}const Displayable$1=Displayable;var mathMin$3=Math.min,mathMax$3=Math.max,mathSin$4=Math.sin,mathCos$4=Math.cos,PI2$7=Math.PI*2,start=create$1(),end=create$1(),extremity=create$1();function fromLine(r,n,i,o,a,u){a[0]=mathMin$3(r,i),a[1]=mathMin$3(n,o),u[0]=mathMax$3(r,i),u[1]=mathMax$3(n,o)}var xDim=[],yDim=[];function fromCubic(r,n,i,o,a,u,c,f,d,p){var h=cubicExtrema,g=cubicAt,v=h(r,i,a,c,xDim);d[0]=1/0,d[1]=1/0,p[0]=-1/0,p[1]=-1/0;for(var y=0;y<v;y++){var A=g(r,i,a,c,xDim[y]);d[0]=mathMin$3(A,d[0]),p[0]=mathMax$3(A,p[0])}v=h(n,o,u,f,yDim);for(var y=0;y<v;y++){var _=g(n,o,u,f,yDim[y]);d[1]=mathMin$3(_,d[1]),p[1]=mathMax$3(_,p[1])}d[0]=mathMin$3(r,d[0]),p[0]=mathMax$3(r,p[0]),d[0]=mathMin$3(c,d[0]),p[0]=mathMax$3(c,p[0]),d[1]=mathMin$3(n,d[1]),p[1]=mathMax$3(n,p[1]),d[1]=mathMin$3(f,d[1]),p[1]=mathMax$3(f,p[1])}function fromQuadratic(r,n,i,o,a,u,c,f){var d=quadraticExtremum,p=quadraticAt,h=mathMax$3(mathMin$3(d(r,i,a),1),0),g=mathMax$3(mathMin$3(d(n,o,u),1),0),v=p(r,i,a,h),y=p(n,o,u,g);c[0]=mathMin$3(r,a,v),c[1]=mathMin$3(n,u,y),f[0]=mathMax$3(r,a,v),f[1]=mathMax$3(n,u,y)}function fromArc(r,n,i,o,a,u,c,f,d){var p=min$1,h=max$1,g=Math.abs(a-u);if(g%PI2$7<1e-4&&g>1e-4){f[0]=r-i,f[1]=n-o,d[0]=r+i,d[1]=n+o;return}if(start[0]=mathCos$4(a)*i+r,start[1]=mathSin$4(a)*o+n,end[0]=mathCos$4(u)*i+r,end[1]=mathSin$4(u)*o+n,p(f,start,end),h(d,start,end),a=a%PI2$7,a<0&&(a=a+PI2$7),u=u%PI2$7,u<0&&(u=u+PI2$7),a>u&&!c?u+=PI2$7:a<u&&c&&(a+=PI2$7),c){var v=u;u=a,a=v}for(var y=0;y<u;y+=Math.PI/2)y>a&&(extremity[0]=mathCos$4(y)*i+r,extremity[1]=mathSin$4(y)*o+n,p(f,extremity,f),h(d,extremity,d))}var CMD$2={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},tmpOutX=[],tmpOutY=[],min=[],max=[],min2=[],max2=[],mathMin$2=Math.min,mathMax$2=Math.max,mathCos$3=Math.cos,mathSin$3=Math.sin,mathAbs$1=Math.abs,PI$5=Math.PI,PI2$6=PI$5*2,hasTypedArray=typeof Float32Array<"u",tmpAngles=[];function modPI2(r){var n=Math.round(r/PI$5*1e8)/1e8;return n%2*PI$5}function normalizeArcAngles(r,n){var i=modPI2(r[0]);i<0&&(i+=PI2$6);var o=i-r[0],a=r[1];a+=o,!n&&a-i>=PI2$6?a=i+PI2$6:n&&i-a>=PI2$6?a=i-PI2$6:!n&&i>a?a=i+(PI2$6-modPI2(i-a)):n&&i<a&&(a=i-(PI2$6-modPI2(a-i))),r[0]=i,r[1]=a}var PathProxy=function(){function r(n){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,n&&(this._saveData=!1),this._saveData&&(this.data=[])}return r.prototype.increaseVersion=function(){this._version++},r.prototype.getVersion=function(){return this._version},r.prototype.setScale=function(n,i,o){o=o||0,o>0&&(this._ux=mathAbs$1(o/devicePixelRatio/n)||0,this._uy=mathAbs$1(o/devicePixelRatio/i)||0)},r.prototype.setDPR=function(n){this.dpr=n},r.prototype.setContext=function(n){this._ctx=n},r.prototype.getContext=function(){return this._ctx},r.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},r.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},r.prototype.moveTo=function(n,i){return this._drawPendingPt(),this.addData(CMD$2.M,n,i),this._ctx&&this._ctx.moveTo(n,i),this._x0=n,this._y0=i,this._xi=n,this._yi=i,this},r.prototype.lineTo=function(n,i){var o=mathAbs$1(n-this._xi),a=mathAbs$1(i-this._yi),u=o>this._ux||a>this._uy;if(this.addData(CMD$2.L,n,i),this._ctx&&u&&this._ctx.lineTo(n,i),u)this._xi=n,this._yi=i,this._pendingPtDist=0;else{var c=o*o+a*a;c>this._pendingPtDist&&(this._pendingPtX=n,this._pendingPtY=i,this._pendingPtDist=c)}return this},r.prototype.bezierCurveTo=function(n,i,o,a,u,c){return this._drawPendingPt(),this.addData(CMD$2.C,n,i,o,a,u,c),this._ctx&&this._ctx.bezierCurveTo(n,i,o,a,u,c),this._xi=u,this._yi=c,this},r.prototype.quadraticCurveTo=function(n,i,o,a){return this._drawPendingPt(),this.addData(CMD$2.Q,n,i,o,a),this._ctx&&this._ctx.quadraticCurveTo(n,i,o,a),this._xi=o,this._yi=a,this},r.prototype.arc=function(n,i,o,a,u,c){this._drawPendingPt(),tmpAngles[0]=a,tmpAngles[1]=u,normalizeArcAngles(tmpAngles,c),a=tmpAngles[0],u=tmpAngles[1];var f=u-a;return this.addData(CMD$2.A,n,i,o,o,a,f,0,c?0:1),this._ctx&&this._ctx.arc(n,i,o,a,u,c),this._xi=mathCos$3(u)*o+n,this._yi=mathSin$3(u)*o+i,this},r.prototype.arcTo=function(n,i,o,a,u){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(n,i,o,a,u),this},r.prototype.rect=function(n,i,o,a){return this._drawPendingPt(),this._ctx&&this._ctx.rect(n,i,o,a),this.addData(CMD$2.R,n,i,o,a),this},r.prototype.closePath=function(){this._drawPendingPt(),this.addData(CMD$2.Z);var n=this._ctx,i=this._x0,o=this._y0;return n&&n.closePath(),this._xi=i,this._yi=o,this},r.prototype.fill=function(n){n&&n.fill(),this.toStatic()},r.prototype.stroke=function(n){n&&n.stroke(),this.toStatic()},r.prototype.len=function(){return this._len},r.prototype.setData=function(n){var i=n.length;!(this.data&&this.data.length===i)&&hasTypedArray&&(this.data=new Float32Array(i));for(var o=0;o<i;o++)this.data[o]=n[o];this._len=i},r.prototype.appendPath=function(n){n instanceof Array||(n=[n]);for(var i=n.length,o=0,a=this._len,u=0;u<i;u++)o+=n[u].len();hasTypedArray&&this.data instanceof Float32Array&&(this.data=new Float32Array(a+o));for(var u=0;u<i;u++)for(var c=n[u].data,f=0;f<c.length;f++)this.data[a++]=c[f];this._len=a},r.prototype.addData=function(n,i,o,a,u,c,f,d,p){if(this._saveData){var h=this.data;this._len+arguments.length>h.length&&(this._expandData(),h=this.data);for(var g=0;g<arguments.length;g++)h[this._len++]=arguments[g]}},r.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},r.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var n=[],i=0;i<this._len;i++)n[i]=this.data[i];this.data=n}},r.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var n=this.data;n instanceof Array&&(n.length=this._len,hasTypedArray&&this._len>11&&(this.data=new Float32Array(n)))}},r.prototype.getBoundingRect=function(){min[0]=min[1]=min2[0]=min2[1]=Number.MAX_VALUE,max[0]=max[1]=max2[0]=max2[1]=-Number.MAX_VALUE;var n=this.data,i=0,o=0,a=0,u=0,c;for(c=0;c<this._len;){var f=n[c++],d=c===1;switch(d&&(i=n[c],o=n[c+1],a=i,u=o),f){case CMD$2.M:i=a=n[c++],o=u=n[c++],min2[0]=a,min2[1]=u,max2[0]=a,max2[1]=u;break;case CMD$2.L:fromLine(i,o,n[c],n[c+1],min2,max2),i=n[c++],o=n[c++];break;case CMD$2.C:fromCubic(i,o,n[c++],n[c++],n[c++],n[c++],n[c],n[c+1],min2,max2),i=n[c++],o=n[c++];break;case CMD$2.Q:fromQuadratic(i,o,n[c++],n[c++],n[c],n[c+1],min2,max2),i=n[c++],o=n[c++];break;case CMD$2.A:var p=n[c++],h=n[c++],g=n[c++],v=n[c++],y=n[c++],A=n[c++]+y;c+=1;var _=!n[c++];d&&(a=mathCos$3(y)*g+p,u=mathSin$3(y)*v+h),fromArc(p,h,g,v,y,A,_,min2,max2),i=mathCos$3(A)*g+p,o=mathSin$3(A)*v+h;break;case CMD$2.R:a=i=n[c++],u=o=n[c++];var S=n[c++],b=n[c++];fromLine(a,u,a+S,u+b,min2,max2);break;case CMD$2.Z:i=a,o=u;break}min$1(min,min,min2),max$1(max,max,max2)}return c===0&&(min[0]=min[1]=max[0]=max[1]=0),new BoundingRect$1(min[0],min[1],max[0]-min[0],max[1]-min[1])},r.prototype._calculateLength=function(){var n=this.data,i=this._len,o=this._ux,a=this._uy,u=0,c=0,f=0,d=0;this._pathSegLen||(this._pathSegLen=[]);for(var p=this._pathSegLen,h=0,g=0,v=0;v<i;){var y=n[v++],A=v===1;A&&(u=n[v],c=n[v+1],f=u,d=c);var _=-1;switch(y){case CMD$2.M:u=f=n[v++],c=d=n[v++];break;case CMD$2.L:{var S=n[v++],b=n[v++],T=S-u,w=b-c;(mathAbs$1(T)>o||mathAbs$1(w)>a||v===i-1)&&(_=Math.sqrt(T*T+w*w),u=S,c=b);break}case CMD$2.C:{var x=n[v++],k=n[v++],S=n[v++],b=n[v++],M=n[v++],D=n[v++];_=cubicLength(u,c,x,k,S,b,M,D,10),u=M,c=D;break}case CMD$2.Q:{var x=n[v++],k=n[v++],S=n[v++],b=n[v++];_=quadraticLength(u,c,x,k,S,b,10),u=S,c=b;break}case CMD$2.A:var z=n[v++],j=n[v++],oe=n[v++],L=n[v++],F=n[v++],O=n[v++],ue=O+F;v+=1,n[v++],A&&(f=mathCos$3(F)*oe+z,d=mathSin$3(F)*L+j),_=mathMax$2(oe,L)*mathMin$2(PI2$6,Math.abs(O)),u=mathCos$3(ue)*oe+z,c=mathSin$3(ue)*L+j;break;case CMD$2.R:{f=u=n[v++],d=c=n[v++];var _e=n[v++],Ce=n[v++];_=_e*2+Ce*2;break}case CMD$2.Z:{var T=f-u,w=d-c;_=Math.sqrt(T*T+w*w),u=f,c=d;break}}_>=0&&(p[g++]=_,h+=_)}return this._pathLen=h,h},r.prototype.rebuildPath=function(n,i){var o=this.data,a=this._ux,u=this._uy,c=this._len,f,d,p,h,g,v,y=i<1,A,_,S=0,b=0,T,w=0,x,k;if(!(y&&(this._pathSegLen||this._calculateLength(),A=this._pathSegLen,_=this._pathLen,T=i*_,!T)))e:for(var M=0;M<c;){var D=o[M++],z=M===1;switch(z&&(p=o[M],h=o[M+1],f=p,d=h),D!==CMD$2.L&&w>0&&(n.lineTo(x,k),w=0),D){case CMD$2.M:f=p=o[M++],d=h=o[M++],n.moveTo(p,h);break;case CMD$2.L:{g=o[M++],v=o[M++];var j=mathAbs$1(g-p),oe=mathAbs$1(v-h);if(j>a||oe>u){if(y){var L=A[b++];if(S+L>T){var F=(T-S)/L;n.lineTo(p*(1-F)+g*F,h*(1-F)+v*F);break e}S+=L}n.lineTo(g,v),p=g,h=v,w=0}else{var O=j*j+oe*oe;O>w&&(x=g,k=v,w=O)}break}case CMD$2.C:{var ue=o[M++],_e=o[M++],Ce=o[M++],de=o[M++],ie=o[M++],Y=o[M++];if(y){var L=A[b++];if(S+L>T){var F=(T-S)/L;cubicSubdivide(p,ue,Ce,ie,F,tmpOutX),cubicSubdivide(h,_e,de,Y,F,tmpOutY),n.bezierCurveTo(tmpOutX[1],tmpOutY[1],tmpOutX[2],tmpOutY[2],tmpOutX[3],tmpOutY[3]);break e}S+=L}n.bezierCurveTo(ue,_e,Ce,de,ie,Y),p=ie,h=Y;break}case CMD$2.Q:{var ue=o[M++],_e=o[M++],Ce=o[M++],de=o[M++];if(y){var L=A[b++];if(S+L>T){var F=(T-S)/L;quadraticSubdivide(p,ue,Ce,F,tmpOutX),quadraticSubdivide(h,_e,de,F,tmpOutY),n.quadraticCurveTo(tmpOutX[1],tmpOutY[1],tmpOutX[2],tmpOutY[2]);break e}S+=L}n.quadraticCurveTo(ue,_e,Ce,de),p=Ce,h=de;break}case CMD$2.A:var Ie=o[M++],Oe=o[M++],kt=o[M++],Dt=o[M++],Fe=o[M++],$e=o[M++],Cn=o[M++],Lt=!o[M++],In=kt>Dt?kt:Dt,Et=mathAbs$1(kt-Dt)>.001,Ne=Fe+$e,pe=!1;if(y){var L=A[b++];S+L>T&&(Ne=Fe+$e*(T-S)/L,pe=!0),S+=L}if(Et&&n.ellipse?n.ellipse(Ie,Oe,kt,Dt,Cn,Fe,Ne,Lt):n.arc(Ie,Oe,In,Fe,Ne,Lt),pe)break e;z&&(f=mathCos$3(Fe)*kt+Ie,d=mathSin$3(Fe)*Dt+Oe),p=mathCos$3(Ne)*kt+Ie,h=mathSin$3(Ne)*Dt+Oe;break;case CMD$2.R:f=p=o[M],d=h=o[M+1],g=o[M++],v=o[M++];var At=o[M++],Ve=o[M++];if(y){var L=A[b++];if(S+L>T){var xe=T-S;n.moveTo(g,v),n.lineTo(g+mathMin$2(xe,At),v),xe-=At,xe>0&&n.lineTo(g+At,v+mathMin$2(xe,Ve)),xe-=Ve,xe>0&&n.lineTo(g+mathMax$2(At-xe,0),v+Ve),xe-=At,xe>0&&n.lineTo(g,v+mathMax$2(Ve-xe,0));break e}S+=L}n.rect(g,v,At,Ve);break;case CMD$2.Z:if(y){var L=A[b++];if(S+L>T){var F=(T-S)/L;n.lineTo(p*(1-F)+f*F,h*(1-F)+d*F);break e}S+=L}n.closePath(),p=f,h=d}}},r.prototype.clone=function(){var n=new r,i=this.data;return n.data=i.slice?i.slice():Array.prototype.slice.call(i),n._len=this._len,n},r.CMD=CMD$2,r.initDefaultProps=function(){var n=r.prototype;n._saveData=!0,n._ux=0,n._uy=0,n._pendingPtDist=0,n._version=0}(),r}();const PathProxy$1=PathProxy;function containStroke$4(r,n,i,o,a,u,c){if(a===0)return!1;var f=a,d=0,p=r;if(c>n+f&&c>o+f||c<n-f&&c<o-f||u>r+f&&u>i+f||u<r-f&&u<i-f)return!1;if(r!==i)d=(n-o)/(r-i),p=(r*o-i*n)/(r-i);else return Math.abs(u-r)<=f/2;var h=d*u-c+p,g=h*h/(d*d+1);return g<=f/2*f/2}function containStroke$3(r,n,i,o,a,u,c,f,d,p,h){if(d===0)return!1;var g=d;if(h>n+g&&h>o+g&&h>u+g&&h>f+g||h<n-g&&h<o-g&&h<u-g&&h<f-g||p>r+g&&p>i+g&&p>a+g&&p>c+g||p<r-g&&p<i-g&&p<a-g&&p<c-g)return!1;var v=cubicProjectPoint(r,n,i,o,a,u,c,f,p,h,null);return v<=g/2}function containStroke$2(r,n,i,o,a,u,c,f,d){if(c===0)return!1;var p=c;if(d>n+p&&d>o+p&&d>u+p||d<n-p&&d<o-p&&d<u-p||f>r+p&&f>i+p&&f>a+p||f<r-p&&f<i-p&&f<a-p)return!1;var h=quadraticProjectPoint(r,n,i,o,a,u,f,d,null);return h<=p/2}var PI2$5=Math.PI*2;function normalizeRadian(r){return r%=PI2$5,r<0&&(r+=PI2$5),r}var PI2$4=Math.PI*2;function containStroke$1(r,n,i,o,a,u,c,f,d){if(c===0)return!1;var p=c;f-=r,d-=n;var h=Math.sqrt(f*f+d*d);if(h-p>i||h+p<i)return!1;if(Math.abs(o-a)%PI2$4<1e-4)return!0;if(u){var g=o;o=normalizeRadian(a),a=normalizeRadian(g)}else o=normalizeRadian(o),a=normalizeRadian(a);o>a&&(a+=PI2$4);var v=Math.atan2(d,f);return v<0&&(v+=PI2$4),v>=o&&v<=a||v+PI2$4>=o&&v+PI2$4<=a}function windingLine(r,n,i,o,a,u){if(u>n&&u>o||u<n&&u<o||o===n)return 0;var c=(u-n)/(o-n),f=o<n?1:-1;(c===1||c===0)&&(f=o<n?.5:-.5);var d=c*(i-r)+r;return d===a?1/0:d>a?f:0}var CMD$1=PathProxy$1.CMD,PI2$3=Math.PI*2,EPSILON=1e-4;function isAroundEqual(r,n){return Math.abs(r-n)<EPSILON}var roots=[-1,-1,-1],extrema=[-1,-1];function swapExtrema(){var r=extrema[0];extrema[0]=extrema[1],extrema[1]=r}function windingCubic(r,n,i,o,a,u,c,f,d,p){if(p>n&&p>o&&p>u&&p>f||p<n&&p<o&&p<u&&p<f)return 0;var h=cubicRootAt(n,o,u,f,p,roots);if(h===0)return 0;for(var g=0,v=-1,y=void 0,A=void 0,_=0;_<h;_++){var S=roots[_],b=S===0||S===1?.5:1,T=cubicAt(r,i,a,c,S);T<d||(v<0&&(v=cubicExtrema(n,o,u,f,extrema),extrema[1]<extrema[0]&&v>1&&swapExtrema(),y=cubicAt(n,o,u,f,extrema[0]),v>1&&(A=cubicAt(n,o,u,f,extrema[1]))),v===2?S<extrema[0]?g+=y<n?b:-b:S<extrema[1]?g+=A<y?b:-b:g+=f<A?b:-b:S<extrema[0]?g+=y<n?b:-b:g+=f<y?b:-b)}return g}function windingQuadratic(r,n,i,o,a,u,c,f){if(f>n&&f>o&&f>u||f<n&&f<o&&f<u)return 0;var d=quadraticRootAt(n,o,u,f,roots);if(d===0)return 0;var p=quadraticExtremum(n,o,u);if(p>=0&&p<=1){for(var h=0,g=quadraticAt(n,o,u,p),v=0;v<d;v++){var y=roots[v]===0||roots[v]===1?.5:1,A=quadraticAt(r,i,a,roots[v]);A<c||(roots[v]<p?h+=g<n?y:-y:h+=u<g?y:-y)}return h}else{var y=roots[0]===0||roots[0]===1?.5:1,A=quadraticAt(r,i,a,roots[0]);return A<c?0:u<n?y:-y}}function windingArc(r,n,i,o,a,u,c,f){if(f-=n,f>i||f<-i)return 0;var d=Math.sqrt(i*i-f*f);roots[0]=-d,roots[1]=d;var p=Math.abs(o-a);if(p<1e-4)return 0;if(p>=PI2$3-1e-4){o=0,a=PI2$3;var h=u?1:-1;return c>=roots[0]+r&&c<=roots[1]+r?h:0}if(o>a){var g=o;o=a,a=g}o<0&&(o+=PI2$3,a+=PI2$3);for(var v=0,y=0;y<2;y++){var A=roots[y];if(A+r>c){var _=Math.atan2(f,A),h=u?1:-1;_<0&&(_=PI2$3+_),(_>=o&&_<=a||_+PI2$3>=o&&_+PI2$3<=a)&&(_>Math.PI/2&&_<Math.PI*1.5&&(h=-h),v+=h)}}return v}function containPath(r,n,i,o,a){for(var u=r.data,c=r.len(),f=0,d=0,p=0,h=0,g=0,v,y,A=0;A<c;){var _=u[A++],S=A===1;switch(_===CMD$1.M&&A>1&&(i||(f+=windingLine(d,p,h,g,o,a))),S&&(d=u[A],p=u[A+1],h=d,g=p),_){case CMD$1.M:h=u[A++],g=u[A++],d=h,p=g;break;case CMD$1.L:if(i){if(containStroke$4(d,p,u[A],u[A+1],n,o,a))return!0}else f+=windingLine(d,p,u[A],u[A+1],o,a)||0;d=u[A++],p=u[A++];break;case CMD$1.C:if(i){if(containStroke$3(d,p,u[A++],u[A++],u[A++],u[A++],u[A],u[A+1],n,o,a))return!0}else f+=windingCubic(d,p,u[A++],u[A++],u[A++],u[A++],u[A],u[A+1],o,a)||0;d=u[A++],p=u[A++];break;case CMD$1.Q:if(i){if(containStroke$2(d,p,u[A++],u[A++],u[A],u[A+1],n,o,a))return!0}else f+=windingQuadratic(d,p,u[A++],u[A++],u[A],u[A+1],o,a)||0;d=u[A++],p=u[A++];break;case CMD$1.A:var b=u[A++],T=u[A++],w=u[A++],x=u[A++],k=u[A++],M=u[A++];A+=1;var D=!!(1-u[A++]);v=Math.cos(k)*w+b,y=Math.sin(k)*x+T,S?(h=v,g=y):f+=windingLine(d,p,v,y,o,a);var z=(o-b)*x/w+b;if(i){if(containStroke$1(b,T,x,k,k+M,D,n,z,a))return!0}else f+=windingArc(b,T,x,k,k+M,D,z,a);d=Math.cos(k+M)*w+b,p=Math.sin(k+M)*x+T;break;case CMD$1.R:h=d=u[A++],g=p=u[A++];var j=u[A++],oe=u[A++];if(v=h+j,y=g+oe,i){if(containStroke$4(h,g,v,g,n,o,a)||containStroke$4(v,g,v,y,n,o,a)||containStroke$4(v,y,h,y,n,o,a)||containStroke$4(h,y,h,g,n,o,a))return!0}else f+=windingLine(v,g,v,y,o,a),f+=windingLine(h,y,h,g,o,a);break;case CMD$1.Z:if(i){if(containStroke$4(d,p,h,g,n,o,a))return!0}else f+=windingLine(d,p,h,g,o,a);d=h,p=g;break}}return!i&&!isAroundEqual(p,g)&&(f+=windingLine(d,p,h,g,o,a)||0),f!==0}function contain(r,n,i){return containPath(r,0,!1,n,i)}function containStroke(r,n,i,o){return containPath(r,n,!0,i,o)}var DEFAULT_PATH_STYLE=defaults({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},DEFAULT_COMMON_STYLE),DEFAULT_PATH_ANIMATION_PROPS={style:defaults({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},DEFAULT_COMMON_ANIMATION_PROPS.style)},pathCopyParams=TRANSFORMABLE_PROPS.concat(["invisible","culling","z","z2","zlevel","parent"]),Path=function(r){__extends(n,r);function n(i){return r.call(this,i)||this}return n.prototype.update=function(){var i=this;r.prototype.update.call(this);var o=this.style;if(o.decal){var a=this._decalEl=this._decalEl||new n;a.buildPath===n.prototype.buildPath&&(a.buildPath=function(d){i.buildPath(d,i.shape)}),a.silent=!0;var u=a.style;for(var c in o)u[c]!==o[c]&&(u[c]=o[c]);u.fill=o.fill?o.decal:null,u.decal=null,u.shadowColor=null,o.strokeFirst&&(u.stroke=null);for(var f=0;f<pathCopyParams.length;++f)a[pathCopyParams[f]]=this[pathCopyParams[f]];a.__dirty|=REDRAW_BIT}else this._decalEl&&(this._decalEl=null)},n.prototype.getDecalElement=function(){return this._decalEl},n.prototype._init=function(i){var o=keys(i);this.shape=this.getDefaultShape();var a=this.getDefaultStyle();a&&this.useStyle(a);for(var u=0;u<o.length;u++){var c=o[u],f=i[c];c==="style"?this.style?extend(this.style,f):this.useStyle(f):c==="shape"?extend(this.shape,f):r.prototype.attrKV.call(this,c,f)}this.style||this.useStyle({})},n.prototype.getDefaultStyle=function(){return null},n.prototype.getDefaultShape=function(){return{}},n.prototype.canBeInsideText=function(){return this.hasFill()},n.prototype.getInsideTextFill=function(){var i=this.style.fill;if(i!=="none"){if(isString$2(i)){var o=lum(i,0);return o>.5?DARK_LABEL_COLOR:o>.2?LIGHTER_LABEL_COLOR:LIGHT_LABEL_COLOR}else if(i)return LIGHT_LABEL_COLOR}return DARK_LABEL_COLOR},n.prototype.getInsideTextStroke=function(i){var o=this.style.fill;if(isString$2(o)){var a=this.__zr,u=!!(a&&a.isDarkMode()),c=lum(i,0)<DARK_MODE_THRESHOLD;if(u===c)return o}},n.prototype.buildPath=function(i,o,a){},n.prototype.pathUpdated=function(){this.__dirty&=~SHAPE_CHANGED_BIT},n.prototype.getUpdatedPathProxy=function(i){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,i),this.path},n.prototype.createPathProxy=function(){this.path=new PathProxy$1(!1)},n.prototype.hasStroke=function(){var i=this.style,o=i.stroke;return!(o==null||o==="none"||!(i.lineWidth>0))},n.prototype.hasFill=function(){var i=this.style,o=i.fill;return o!=null&&o!=="none"},n.prototype.getBoundingRect=function(){var i=this._rect,o=this.style,a=!i;if(a){var u=!1;this.path||(u=!0,this.createPathProxy());var c=this.path;(u||this.__dirty&SHAPE_CHANGED_BIT)&&(c.beginPath(),this.buildPath(c,this.shape,!1),this.pathUpdated()),i=c.getBoundingRect()}if(this._rect=i,this.hasStroke()&&this.path&&this.path.len()>0){var f=this._rectStroke||(this._rectStroke=i.clone());if(this.__dirty||a){f.copy(i);var d=o.strokeNoScale?this.getLineScale():1,p=o.lineWidth;if(!this.hasFill()){var h=this.strokeContainThreshold;p=Math.max(p,h??4)}d>1e-10&&(f.width+=p/d,f.height+=p/d,f.x-=p/d/2,f.y-=p/d/2)}return f}return i},n.prototype.contain=function(i,o){var a=this.transformCoordToLocal(i,o),u=this.getBoundingRect(),c=this.style;if(i=a[0],o=a[1],u.contain(i,o)){var f=this.path;if(this.hasStroke()){var d=c.lineWidth,p=c.strokeNoScale?this.getLineScale():1;if(p>1e-10&&(this.hasFill()||(d=Math.max(d,this.strokeContainThreshold)),containStroke(f,d/p,i,o)))return!0}if(this.hasFill())return contain(f,i,o)}return!1},n.prototype.dirtyShape=function(){this.__dirty|=SHAPE_CHANGED_BIT,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},n.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},n.prototype.animateShape=function(i){return this.animate("shape",i)},n.prototype.updateDuringAnimation=function(i){i==="style"?this.dirtyStyle():i==="shape"?this.dirtyShape():this.markRedraw()},n.prototype.attrKV=function(i,o){i==="shape"?this.setShape(o):r.prototype.attrKV.call(this,i,o)},n.prototype.setShape=function(i,o){var a=this.shape;return a||(a=this.shape={}),typeof i=="string"?a[i]=o:extend(a,i),this.dirtyShape(),this},n.prototype.shapeChanged=function(){return!!(this.__dirty&SHAPE_CHANGED_BIT)},n.prototype.createStyle=function(i){return createObject(DEFAULT_PATH_STYLE,i)},n.prototype._innerSaveToNormal=function(i){r.prototype._innerSaveToNormal.call(this,i);var o=this._normalState;i.shape&&!o.shape&&(o.shape=extend({},this.shape))},n.prototype._applyStateObj=function(i,o,a,u,c,f){r.prototype._applyStateObj.call(this,i,o,a,u,c,f);var d=!(o&&u),p;if(o&&o.shape?c?u?p=o.shape:(p=extend({},a.shape),extend(p,o.shape)):(p=extend({},u?this.shape:a.shape),extend(p,o.shape)):d&&(p=a.shape),p)if(c){this.shape=extend({},this.shape);for(var h={},g=keys(p),v=0;v<g.length;v++){var y=g[v];typeof p[y]=="object"?this.shape[y]=p[y]:h[y]=p[y]}this._transitionState(i,{shape:h},f)}else this.shape=p,this.dirtyShape()},n.prototype._mergeStates=function(i){for(var o=r.prototype._mergeStates.call(this,i),a,u=0;u<i.length;u++){var c=i[u];c.shape&&(a=a||{},this._mergeStyle(a,c.shape))}return a&&(o.shape=a),o},n.prototype.getAnimationStyleProps=function(){return DEFAULT_PATH_ANIMATION_PROPS},n.prototype.isZeroArea=function(){return!1},n.extend=function(i){var o=function(u){__extends(c,u);function c(f){var d=u.call(this,f)||this;return i.init&&i.init.call(d,f),d}return c.prototype.getDefaultStyle=function(){return clone$2(i.style)},c.prototype.getDefaultShape=function(){return clone$2(i.shape)},c}(n);for(var a in i)typeof i[a]=="function"&&(o.prototype[a]=i[a]);return o},n.initDefaultProps=function(){var i=n.prototype;i.type="path",i.strokeContainThreshold=5,i.segmentIgnoreThreshold=0,i.subPixelOptimize=!1,i.autoBatch=!1,i.__dirty=REDRAW_BIT|STYLE_CHANGED_BIT|SHAPE_CHANGED_BIT}(),n}(Displayable$1);const Path$1=Path;var DEFAULT_TSPAN_STYLE=defaults({strokeFirst:!0,font:DEFAULT_FONT,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},DEFAULT_PATH_STYLE),TSpan=function(r){__extends(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return n.prototype.hasStroke=function(){var i=this.style,o=i.stroke;return o!=null&&o!=="none"&&i.lineWidth>0},n.prototype.hasFill=function(){var i=this.style,o=i.fill;return o!=null&&o!=="none"},n.prototype.createStyle=function(i){return createObject(DEFAULT_TSPAN_STYLE,i)},n.prototype.setBoundingRect=function(i){this._rect=i},n.prototype.getBoundingRect=function(){var i=this.style;if(!this._rect){var o=i.text;o!=null?o+="":o="";var a=getBoundingRect(o,i.font,i.textAlign,i.textBaseline);if(a.x+=i.x||0,a.y+=i.y||0,this.hasStroke()){var u=i.lineWidth;a.x-=u/2,a.y-=u/2,a.width+=u,a.height+=u}this._rect=a}return this._rect},n.initDefaultProps=function(){var i=n.prototype;i.dirtyRectTolerance=10}(),n}(Displayable$1);TSpan.prototype.type="tspan";const TSpan$1=TSpan;var DEFAULT_IMAGE_STYLE=defaults({x:0,y:0},DEFAULT_COMMON_STYLE),DEFAULT_IMAGE_ANIMATION_PROPS={style:defaults({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},DEFAULT_COMMON_ANIMATION_PROPS.style)};function isImageLike$1(r){return!!(r&&typeof r!="string"&&r.width&&r.height)}var ZRImage=function(r){__extends(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return n.prototype.createStyle=function(i){return createObject(DEFAULT_IMAGE_STYLE,i)},n.prototype._getSize=function(i){var o=this.style,a=o[i];if(a!=null)return a;var u=isImageLike$1(o.image)?o.image:this.__image;if(!u)return 0;var c=i==="width"?"height":"width",f=o[c];return f==null?u[i]:u[i]/u[c]*f},n.prototype.getWidth=function(){return this._getSize("width")},n.prototype.getHeight=function(){return this._getSize("height")},n.prototype.getAnimationStyleProps=function(){return DEFAULT_IMAGE_ANIMATION_PROPS},n.prototype.getBoundingRect=function(){var i=this.style;return this._rect||(this._rect=new BoundingRect$1(i.x||0,i.y||0,this.getWidth(),this.getHeight())),this._rect},n}(Displayable$1);ZRImage.prototype.type="image";const ZRImage$1=ZRImage;function buildPath$2(r,n){var i=n.x,o=n.y,a=n.width,u=n.height,c=n.r,f,d,p,h;a<0&&(i=i+a,a=-a),u<0&&(o=o+u,u=-u),typeof c=="number"?f=d=p=h=c:c instanceof Array?c.length===1?f=d=p=h=c[0]:c.length===2?(f=p=c[0],d=h=c[1]):c.length===3?(f=c[0],d=h=c[1],p=c[2]):(f=c[0],d=c[1],p=c[2],h=c[3]):f=d=p=h=0;var g;f+d>a&&(g=f+d,f*=a/g,d*=a/g),p+h>a&&(g=p+h,p*=a/g,h*=a/g),d+p>u&&(g=d+p,d*=u/g,p*=u/g),f+h>u&&(g=f+h,f*=u/g,h*=u/g),r.moveTo(i+f,o),r.lineTo(i+a-d,o),d!==0&&r.arc(i+a-d,o+d,d,-Math.PI/2,0),r.lineTo(i+a,o+u-p),p!==0&&r.arc(i+a-p,o+u-p,p,0,Math.PI/2),r.lineTo(i+h,o+u),h!==0&&r.arc(i+h,o+u-h,h,Math.PI/2,Math.PI),r.lineTo(i,o+f),f!==0&&r.arc(i+f,o+f,f,Math.PI,Math.PI*1.5)}var round$1=Math.round;function subPixelOptimizeLine$1(r,n,i){if(n){var o=n.x1,a=n.x2,u=n.y1,c=n.y2;r.x1=o,r.x2=a,r.y1=u,r.y2=c;var f=i&&i.lineWidth;return f&&(round$1(o*2)===round$1(a*2)&&(r.x1=r.x2=subPixelOptimize$1(o,f,!0)),round$1(u*2)===round$1(c*2)&&(r.y1=r.y2=subPixelOptimize$1(u,f,!0))),r}}function subPixelOptimizeRect$1(r,n,i){if(n){var o=n.x,a=n.y,u=n.width,c=n.height;r.x=o,r.y=a,r.width=u,r.height=c;var f=i&&i.lineWidth;return f&&(r.x=subPixelOptimize$1(o,f,!0),r.y=subPixelOptimize$1(a,f,!0),r.width=Math.max(subPixelOptimize$1(o+u,f,!1)-r.x,u===0?0:1),r.height=Math.max(subPixelOptimize$1(a+c,f,!1)-r.y,c===0?0:1)),r}}function subPixelOptimize$1(r,n,i){if(!n)return r;var o=round$1(r*2);return(o+round$1(n))%2===0?o/2:(o+(i?1:-1))/2}var RectShape=function(){function r(){this.x=0,this.y=0,this.width=0,this.height=0}return r}(),subPixelOptimizeOutputShape$1={},Rect=function(r){__extends(n,r);function n(i){return r.call(this,i)||this}return n.prototype.getDefaultShape=function(){return new RectShape},n.prototype.buildPath=function(i,o){var a,u,c,f;if(this.subPixelOptimize){var d=subPixelOptimizeRect$1(subPixelOptimizeOutputShape$1,o,this.style);a=d.x,u=d.y,c=d.width,f=d.height,d.r=o.r,o=d}else a=o.x,u=o.y,c=o.width,f=o.height;o.r?buildPath$2(i,o):i.rect(a,u,c,f)},n.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},n}(Path$1);Rect.prototype.type="rect";const Rect$1=Rect;var DEFAULT_RICH_TEXT_COLOR={fill:"#000"},DEFAULT_STROKE_LINE_WIDTH=2,DEFAULT_TEXT_ANIMATION_PROPS={style:defaults({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},DEFAULT_COMMON_ANIMATION_PROPS.style)},ZRText=function(r){__extends(n,r);function n(i){var o=r.call(this)||this;return o.type="text",o._children=[],o._defaultStyle=DEFAULT_RICH_TEXT_COLOR,o.attr(i),o}return n.prototype.childrenRef=function(){return this._children},n.prototype.update=function(){r.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var i=0;i<this._children.length;i++){var o=this._children[i];o.zlevel=this.zlevel,o.z=this.z,o.z2=this.z2,o.culling=this.culling,o.cursor=this.cursor,o.invisible=this.invisible}},n.prototype.updateTransform=function(){var i=this.innerTransformable;i?(i.updateTransform(),i.transform&&(this.transform=i.transform)):r.prototype.updateTransform.call(this)},n.prototype.getLocalTransform=function(i){var o=this.innerTransformable;return o?o.getLocalTransform(i):r.prototype.getLocalTransform.call(this,i)},n.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),r.prototype.getComputedTransform.call(this)},n.prototype._updateSubTexts=function(){this._childCursor=0,normalizeTextStyle(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},n.prototype.addSelfToZr=function(i){r.prototype.addSelfToZr.call(this,i);for(var o=0;o<this._children.length;o++)this._children[o].__zr=i},n.prototype.removeSelfFromZr=function(i){r.prototype.removeSelfFromZr.call(this,i);for(var o=0;o<this._children.length;o++)this._children[o].__zr=null},n.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var i=new BoundingRect$1(0,0,0,0),o=this._children,a=[],u=null,c=0;c<o.length;c++){var f=o[c],d=f.getBoundingRect(),p=f.getLocalTransform(a);p?(i.copy(d),i.applyTransform(p),u=u||i.clone(),u.union(i)):(u=u||d.clone(),u.union(d))}this._rect=u||i}return this._rect},n.prototype.setDefaultTextStyle=function(i){this._defaultStyle=i||DEFAULT_RICH_TEXT_COLOR},n.prototype.setTextContent=function(i){if(process.env.NODE_ENV!=="production")throw new Error("Can't attach text on another text")},n.prototype._mergeStyle=function(i,o){if(!o)return i;var a=o.rich,u=i.rich||a&&{};return extend(i,o),a&&u?(this._mergeRich(u,a),i.rich=u):u&&(i.rich=u),i},n.prototype._mergeRich=function(i,o){for(var a=keys(o),u=0;u<a.length;u++){var c=a[u];i[c]=i[c]||{},extend(i[c],o[c])}},n.prototype.getAnimationStyleProps=function(){return DEFAULT_TEXT_ANIMATION_PROPS},n.prototype._getOrCreateChild=function(i){var o=this._children[this._childCursor];return(!o||!(o instanceof i))&&(o=new i),this._children[this._childCursor++]=o,o.__zr=this.__zr,o.parent=this,o},n.prototype._updatePlainTexts=function(){var i=this.style,o=i.font||DEFAULT_FONT,a=i.padding,u=getStyleText(i),c=parsePlainText(u,i),f=needDrawBackground(i),d=!!i.backgroundColor,p=c.outerHeight,h=c.outerWidth,g=c.contentWidth,v=c.lines,y=c.lineHeight,A=this._defaultStyle,_=i.x||0,S=i.y||0,b=i.align||A.align||"left",T=i.verticalAlign||A.verticalAlign||"top",w=_,x=adjustTextY(S,c.contentHeight,T);if(f||a){var k=adjustTextX(_,h,b),M=adjustTextY(S,p,T);f&&this._renderBackground(i,i,k,M,h,p)}x+=y/2,a&&(w=getTextXForPadding(_,b,a),T==="top"?x+=a[0]:T==="bottom"&&(x-=a[2]));for(var D=0,z=!1,j=getFill("fill"in i?i.fill:(z=!0,A.fill)),oe=getStroke("stroke"in i?i.stroke:!d&&(!A.autoStroke||z)?(D=DEFAULT_STROKE_LINE_WIDTH,A.stroke):null),L=i.textShadowBlur>0,F=i.width!=null&&(i.overflow==="truncate"||i.overflow==="break"||i.overflow==="breakAll"),O=c.calculatedLineHeight,ue=0;ue<v.length;ue++){var _e=this._getOrCreateChild(TSpan$1),Ce=_e.createStyle();_e.useStyle(Ce),Ce.text=v[ue],Ce.x=w,Ce.y=x,b&&(Ce.textAlign=b),Ce.textBaseline="middle",Ce.opacity=i.opacity,Ce.strokeFirst=!0,L&&(Ce.shadowBlur=i.textShadowBlur||0,Ce.shadowColor=i.textShadowColor||"transparent",Ce.shadowOffsetX=i.textShadowOffsetX||0,Ce.shadowOffsetY=i.textShadowOffsetY||0),Ce.stroke=oe,Ce.fill=j,oe&&(Ce.lineWidth=i.lineWidth||D,Ce.lineDash=i.lineDash,Ce.lineDashOffset=i.lineDashOffset||0),Ce.font=o,setSeparateFont(Ce,i),x+=y,F&&_e.setBoundingRect(new BoundingRect$1(adjustTextX(Ce.x,i.width,Ce.textAlign),adjustTextY(Ce.y,O,Ce.textBaseline),g,O))}},n.prototype._updateRichTexts=function(){var i=this.style,o=getStyleText(i),a=parseRichText(o,i),u=a.width,c=a.outerWidth,f=a.outerHeight,d=i.padding,p=i.x||0,h=i.y||0,g=this._defaultStyle,v=i.align||g.align,y=i.verticalAlign||g.verticalAlign,A=adjustTextX(p,c,v),_=adjustTextY(h,f,y),S=A,b=_;d&&(S+=d[3],b+=d[0]);var T=S+u;needDrawBackground(i)&&this._renderBackground(i,i,A,_,c,f);for(var w=!!i.backgroundColor,x=0;x<a.lines.length;x++){for(var k=a.lines[x],M=k.tokens,D=M.length,z=k.lineHeight,j=k.width,oe=0,L=S,F=T,O=D-1,ue=void 0;oe<D&&(ue=M[oe],!ue.align||ue.align==="left");)this._placeToken(ue,i,z,b,L,"left",w),j-=ue.width,L+=ue.width,oe++;for(;O>=0&&(ue=M[O],ue.align==="right");)this._placeToken(ue,i,z,b,F,"right",w),j-=ue.width,F-=ue.width,O--;for(L+=(u-(L-S)-(T-F)-j)/2;oe<=O;)ue=M[oe],this._placeToken(ue,i,z,b,L+ue.width/2,"center",w),L+=ue.width,oe++;b+=z}},n.prototype._placeToken=function(i,o,a,u,c,f,d){var p=o.rich[i.styleName]||{};p.text=i.text;var h=i.verticalAlign,g=u+a/2;h==="top"?g=u+i.height/2:h==="bottom"&&(g=u+a-i.height/2);var v=!i.isLineHolder&&needDrawBackground(p);v&&this._renderBackground(p,o,f==="right"?c-i.width:f==="center"?c-i.width/2:c,g-i.height/2,i.width,i.height);var y=!!p.backgroundColor,A=i.textPadding;A&&(c=getTextXForPadding(c,f,A),g-=i.height/2-A[0]-i.innerHeight/2);var _=this._getOrCreateChild(TSpan$1),S=_.createStyle();_.useStyle(S);var b=this._defaultStyle,T=!1,w=0,x=getFill("fill"in p?p.fill:"fill"in o?o.fill:(T=!0,b.fill)),k=getStroke("stroke"in p?p.stroke:"stroke"in o?o.stroke:!y&&!d&&(!b.autoStroke||T)?(w=DEFAULT_STROKE_LINE_WIDTH,b.stroke):null),M=p.textShadowBlur>0||o.textShadowBlur>0;S.text=i.text,S.x=c,S.y=g,M&&(S.shadowBlur=p.textShadowBlur||o.textShadowBlur||0,S.shadowColor=p.textShadowColor||o.textShadowColor||"transparent",S.shadowOffsetX=p.textShadowOffsetX||o.textShadowOffsetX||0,S.shadowOffsetY=p.textShadowOffsetY||o.textShadowOffsetY||0),S.textAlign=f,S.textBaseline="middle",S.font=i.font||DEFAULT_FONT,S.opacity=retrieve3(p.opacity,o.opacity,1),setSeparateFont(S,p),k&&(S.lineWidth=retrieve3(p.lineWidth,o.lineWidth,w),S.lineDash=retrieve2(p.lineDash,o.lineDash),S.lineDashOffset=o.lineDashOffset||0,S.stroke=k),x&&(S.fill=x);var D=i.contentWidth,z=i.contentHeight;_.setBoundingRect(new BoundingRect$1(adjustTextX(S.x,D,S.textAlign),adjustTextY(S.y,z,S.textBaseline),D,z))},n.prototype._renderBackground=function(i,o,a,u,c,f){var d=i.backgroundColor,p=i.borderWidth,h=i.borderColor,g=d&&d.image,v=d&&!g,y=i.borderRadius,A=this,_,S;if(v||i.lineHeight||p&&h){_=this._getOrCreateChild(Rect$1),_.useStyle(_.createStyle()),_.style.fill=null;var b=_.shape;b.x=a,b.y=u,b.width=c,b.height=f,b.r=y,_.dirtyShape()}if(v){var T=_.style;T.fill=d||null,T.fillOpacity=retrieve2(i.fillOpacity,1)}else if(g){S=this._getOrCreateChild(ZRImage$1),S.onload=function(){A.dirtyStyle()};var w=S.style;w.image=d.image,w.x=a,w.y=u,w.width=c,w.height=f}if(p&&h){var T=_.style;T.lineWidth=p,T.stroke=h,T.strokeOpacity=retrieve2(i.strokeOpacity,1),T.lineDash=i.borderDash,T.lineDashOffset=i.borderDashOffset||0,_.strokeContainThreshold=0,_.hasFill()&&_.hasStroke()&&(T.strokeFirst=!0,T.lineWidth*=2)}var x=(_||S).style;x.shadowBlur=i.shadowBlur||0,x.shadowColor=i.shadowColor||"transparent",x.shadowOffsetX=i.shadowOffsetX||0,x.shadowOffsetY=i.shadowOffsetY||0,x.opacity=retrieve3(i.opacity,o.opacity,1)},n.makeFont=function(i){var o="";return hasSeparateFont(i)&&(o=[i.fontStyle,i.fontWeight,parseFontSize(i.fontSize),i.fontFamily||"sans-serif"].join(" ")),o&&trim(o)||i.textFont||i.font},n}(Displayable$1),VALID_TEXT_ALIGN={left:!0,right:1,center:1},VALID_TEXT_VERTICAL_ALIGN={top:1,bottom:1,middle:1},FONT_PARTS=["fontStyle","fontWeight","fontSize","fontFamily"];function parseFontSize(r){return typeof r=="string"&&(r.indexOf("px")!==-1||r.indexOf("rem")!==-1||r.indexOf("em")!==-1)?r:isNaN(+r)?DEFAULT_FONT_SIZE+"px":r+"px"}function setSeparateFont(r,n){for(var i=0;i<FONT_PARTS.length;i++){var o=FONT_PARTS[i],a=n[o];a!=null&&(r[o]=a)}}function hasSeparateFont(r){return r.fontSize!=null||r.fontFamily||r.fontWeight}function normalizeTextStyle(r){return normalizeStyle(r),each$4(r.rich,normalizeStyle),r}function normalizeStyle(r){if(r){r.font=ZRText.makeFont(r);var n=r.align;n==="middle"&&(n="center"),r.align=n==null||VALID_TEXT_ALIGN[n]?n:"left";var i=r.verticalAlign;i==="center"&&(i="middle"),r.verticalAlign=i==null||VALID_TEXT_VERTICAL_ALIGN[i]?i:"top";var o=r.padding;o&&(r.padding=normalizeCssArray$1(r.padding))}}function getStroke(r,n){return r==null||n<=0||r==="transparent"||r==="none"?null:r.image||r.colorStops?"#000":r}function getFill(r){return r==null||r==="none"?null:r.image||r.colorStops?"#000":r}function getTextXForPadding(r,n,i){return n==="right"?r-i[1]:n==="center"?r+i[3]/2-i[1]/2:r+i[3]}function getStyleText(r){var n=r.text;return n!=null&&(n+=""),n}function needDrawBackground(r){return!!(r.backgroundColor||r.lineHeight||r.borderWidth&&r.borderColor)}const ZRText$1=ZRText;var getECData=makeInner(),setCommonECData=function(r,n,i,o){if(o){var a=getECData(o);a.dataIndex=i,a.dataType=n,a.seriesIndex=r,o.type==="group"&&o.traverse(function(u){var c=getECData(u);c.seriesIndex=r,c.dataIndex=i,c.dataType=n})}},_highlightNextDigit=1,_highlightKeyMap={},getSavedStates=makeInner(),getComponentStates=makeInner(),HOVER_STATE_NORMAL=0,HOVER_STATE_BLUR=1,HOVER_STATE_EMPHASIS=2,SPECIAL_STATES=["emphasis","blur","select"],DISPLAY_STATES=["normal","emphasis","blur","select"],Z2_EMPHASIS_LIFT=10,Z2_SELECT_LIFT=9,HIGHLIGHT_ACTION_TYPE="highlight",DOWNPLAY_ACTION_TYPE="downplay",SELECT_ACTION_TYPE="select",UNSELECT_ACTION_TYPE="unselect",TOGGLE_SELECT_ACTION_TYPE="toggleSelect";function hasFillOrStroke(r){return r!=null&&r!=="none"}var liftedColorCache=new LRU$1(100);function liftColor(r){if(isString$2(r)){var n=liftedColorCache.get(r);return n||(n=lift(r,-.1),liftedColorCache.put(r,n)),n}else if(isGradientObject(r)){var i=extend({},r);return i.colorStops=map$1(r.colorStops,function(o){return{offset:o.offset,color:lift(o.color,-.1)}}),i}return r}function doChangeHoverState(r,n,i){r.onHoverStateChange&&(r.hoverState||0)!==i&&r.onHoverStateChange(n),r.hoverState=i}function singleEnterEmphasis(r){doChangeHoverState(r,"emphasis",HOVER_STATE_EMPHASIS)}function singleLeaveEmphasis(r){r.hoverState===HOVER_STATE_EMPHASIS&&doChangeHoverState(r,"normal",HOVER_STATE_NORMAL)}function singleEnterBlur(r){doChangeHoverState(r,"blur",HOVER_STATE_BLUR)}function singleLeaveBlur(r){r.hoverState===HOVER_STATE_BLUR&&doChangeHoverState(r,"normal",HOVER_STATE_NORMAL)}function singleEnterSelect(r){r.selected=!0}function singleLeaveSelect(r){r.selected=!1}function updateElementState(r,n,i){n(r,i)}function traverseUpdateState(r,n,i){updateElementState(r,n,i),r.isGroup&&r.traverse(function(o){updateElementState(o,n,i)})}function getFromStateStyle(r,n,i,o){for(var a=r.style,u={},c=0;c<n.length;c++){var f=n[c],d=a[f];u[f]=d??(o&&o[f])}for(var c=0;c<r.animators.length;c++){var p=r.animators[c];p.__fromStateTransition&&p.__fromStateTransition.indexOf(i)<0&&p.targetName==="style"&&p.saveTo(u,n)}return u}function createEmphasisDefaultState(r,n,i,o){var a=i&&indexOf(i,"select")>=0,u=!1;if(r instanceof Path$1){var c=getSavedStates(r),f=a&&c.selectFill||c.normalFill,d=a&&c.selectStroke||c.normalStroke;if(hasFillOrStroke(f)||hasFillOrStroke(d)){o=o||{};var p=o.style||{};p.fill==="inherit"?(u=!0,o=extend({},o),p=extend({},p),p.fill=f):!hasFillOrStroke(p.fill)&&hasFillOrStroke(f)?(u=!0,o=extend({},o),p=extend({},p),p.fill=liftColor(f)):!hasFillOrStroke(p.stroke)&&hasFillOrStroke(d)&&(u||(o=extend({},o),p=extend({},p)),p.stroke=liftColor(d)),o.style=p}}if(o&&o.z2==null){u||(o=extend({},o));var h=r.z2EmphasisLift;o.z2=r.z2+(h??Z2_EMPHASIS_LIFT)}return o}function createSelectDefaultState(r,n,i){if(i&&i.z2==null){i=extend({},i);var o=r.z2SelectLift;i.z2=r.z2+(o??Z2_SELECT_LIFT)}return i}function createBlurDefaultState(r,n,i){var o=indexOf(r.currentStates,n)>=0,a=r.style.opacity,u=o?null:getFromStateStyle(r,["opacity"],n,{opacity:1});i=i||{};var c=i.style||{};return c.opacity==null&&(i=extend({},i),c=extend({opacity:o?a:u.opacity*.1},c),i.style=c),i}function elementStateProxy(r,n){var i=this.states[r];if(this.style){if(r==="emphasis")return createEmphasisDefaultState(this,r,n,i);if(r==="blur")return createBlurDefaultState(this,r,i);if(r==="select")return createSelectDefaultState(this,r,i)}return i}function setDefaultStateProxy(r){r.stateProxy=elementStateProxy;var n=r.getTextContent(),i=r.getTextGuideLine();n&&(n.stateProxy=elementStateProxy),i&&(i.stateProxy=elementStateProxy)}function enterEmphasisWhenMouseOver(r,n){!shouldSilent(r,n)&&!r.__highByOuter&&traverseUpdateState(r,singleEnterEmphasis)}function leaveEmphasisWhenMouseOut(r,n){!shouldSilent(r,n)&&!r.__highByOuter&&traverseUpdateState(r,singleLeaveEmphasis)}function enterEmphasis(r,n){r.__highByOuter|=1<<(n||0),traverseUpdateState(r,singleEnterEmphasis)}function leaveEmphasis(r,n){!(r.__highByOuter&=~(1<<(n||0)))&&traverseUpdateState(r,singleLeaveEmphasis)}function enterBlur(r){traverseUpdateState(r,singleEnterBlur)}function leaveBlur(r){traverseUpdateState(r,singleLeaveBlur)}function enterSelect(r){traverseUpdateState(r,singleEnterSelect)}function leaveSelect(r){traverseUpdateState(r,singleLeaveSelect)}function shouldSilent(r,n){return r.__highDownSilentOnTouch&&n.zrByTouch}function allLeaveBlur(r){var n=r.getModel(),i=[],o=[];n.eachComponent(function(a,u){var c=getComponentStates(u),f=a==="series",d=f?r.getViewOfSeriesModel(u):r.getViewOfComponentModel(u);!f&&o.push(d),c.isBlured&&(d.group.traverse(function(p){singleLeaveBlur(p)}),f&&i.push(u)),c.isBlured=!1}),each$4(o,function(a){a&&a.toggleBlurSeries&&a.toggleBlurSeries(i,!1,n)})}function blurSeries(r,n,i,o){var a=o.getModel();i=i||"coordinateSystem";function u(p,h){for(var g=0;g<h.length;g++){var v=p.getItemGraphicEl(h[g]);v&&leaveBlur(v)}}if(r!=null&&!(!n||n==="none")){var c=a.getSeriesByIndex(r),f=c.coordinateSystem;f&&f.master&&(f=f.master);var d=[];a.eachSeries(function(p){var h=c===p,g=p.coordinateSystem;g&&g.master&&(g=g.master);var v=g&&f?g===f:h;if(!(i==="series"&&!h||i==="coordinateSystem"&&!v||n==="series"&&h)){var y=o.getViewOfSeriesModel(p);if(y.group.traverse(function(S){singleEnterBlur(S)}),isArrayLike(n))u(p.getData(),n);else if(isObject$3(n))for(var A=keys(n),_=0;_<A.length;_++)u(p.getData(A[_]),n[A[_]]);d.push(p),getComponentStates(p).isBlured=!0}}),a.eachComponent(function(p,h){if(p!=="series"){var g=o.getViewOfComponentModel(h);g&&g.toggleBlurSeries&&g.toggleBlurSeries(d,!0,a)}})}}function blurComponent(r,n,i){if(!(r==null||n==null)){var o=i.getModel().getComponent(r,n);if(o){getComponentStates(o).isBlured=!0;var a=i.getViewOfComponentModel(o);!a||!a.focusBlurEnabled||a.group.traverse(function(u){singleEnterBlur(u)})}}}function blurSeriesFromHighlightPayload(r,n,i){var o=r.seriesIndex,a=r.getData(n.dataType);if(!a){process.env.NODE_ENV!=="production"&&error("Unknown dataType "+n.dataType);return}var u=queryDataIndex(a,n);u=(isArray$1(u)?u[0]:u)||0;var c=a.getItemGraphicEl(u);if(!c)for(var f=a.count(),d=0;!c&&d<f;)c=a.getItemGraphicEl(d++);if(c){var p=getECData(c);blurSeries(o,p.focus,p.blurScope,i)}else{var h=r.get(["emphasis","focus"]),g=r.get(["emphasis","blurScope"]);h!=null&&blurSeries(o,h,g,i)}}function findComponentHighDownDispatchers(r,n,i,o){var a={focusSelf:!1,dispatchers:null};if(r==null||r==="series"||n==null||i==null)return a;var u=o.getModel().getComponent(r,n);if(!u)return a;var c=o.getViewOfComponentModel(u);if(!c||!c.findHighDownDispatchers)return a;for(var f=c.findHighDownDispatchers(i),d,p=0;p<f.length;p++)if(process.env.NODE_ENV!=="production"&&!isHighDownDispatcher(f[p])&&error("param should be highDownDispatcher"),getECData(f[p]).focus==="self"){d=!0;break}return{focusSelf:d,dispatchers:f}}function handleGlobalMouseOverForHighDown(r,n,i){process.env.NODE_ENV!=="production"&&!isHighDownDispatcher(r)&&error("param should be highDownDispatcher");var o=getECData(r),a=findComponentHighDownDispatchers(o.componentMainType,o.componentIndex,o.componentHighDownName,i),u=a.dispatchers,c=a.focusSelf;u?(c&&blurComponent(o.componentMainType,o.componentIndex,i),each$4(u,function(f){return enterEmphasisWhenMouseOver(f,n)})):(blurSeries(o.seriesIndex,o.focus,o.blurScope,i),o.focus==="self"&&blurComponent(o.componentMainType,o.componentIndex,i),enterEmphasisWhenMouseOver(r,n))}function handleGlobalMouseOutForHighDown(r,n,i){process.env.NODE_ENV!=="production"&&!isHighDownDispatcher(r)&&error("param should be highDownDispatcher"),allLeaveBlur(i);var o=getECData(r),a=findComponentHighDownDispatchers(o.componentMainType,o.componentIndex,o.componentHighDownName,i).dispatchers;a?each$4(a,function(u){return leaveEmphasisWhenMouseOut(u,n)}):leaveEmphasisWhenMouseOut(r,n)}function toggleSelectionFromPayload(r,n,i){if(isSelectChangePayload(n)){var o=n.dataType,a=r.getData(o),u=queryDataIndex(a,n);isArray$1(u)||(u=[u]),r[n.type===TOGGLE_SELECT_ACTION_TYPE?"toggleSelect":n.type===SELECT_ACTION_TYPE?"select":"unselect"](u,o)}}function updateSeriesElementSelection(r){var n=r.getAllData();each$4(n,function(i){var o=i.data,a=i.type;o.eachItemGraphicEl(function(u,c){r.isSelected(c,a)?enterSelect(u):leaveSelect(u)})})}function getAllSelectedIndices(r){var n=[];return r.eachSeries(function(i){var o=i.getAllData();each$4(o,function(a){a.data;var u=a.type,c=i.getSelectedDataIndices();if(c.length>0){var f={dataIndex:c,seriesIndex:i.seriesIndex};u!=null&&(f.dataType=u),n.push(f)}})}),n}function enableHoverEmphasis(r,n,i){setAsHighDownDispatcher(r,!0),traverseUpdateState(r,setDefaultStateProxy),enableHoverFocus(r,n,i)}function disableHoverEmphasis(r){setAsHighDownDispatcher(r,!1)}function toggleHoverEmphasis(r,n,i,o){o?disableHoverEmphasis(r):enableHoverEmphasis(r,n,i)}function enableHoverFocus(r,n,i){var o=getECData(r);n!=null?(o.focus=n,o.blurScope=i):o.focus&&(o.focus=null)}var OTHER_STATES=["emphasis","blur","select"],defaultStyleGetterMap={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function setStatesStylesFromModel(r,n,i,o){i=i||"itemStyle";for(var a=0;a<OTHER_STATES.length;a++){var u=OTHER_STATES[a],c=n.getModel([u,i]),f=r.ensureState(u);f.style=o?o(c):c[defaultStyleGetterMap[i]]()}}function setAsHighDownDispatcher(r,n){var i=n===!1,o=r;r.highDownSilentOnTouch&&(o.__highDownSilentOnTouch=r.highDownSilentOnTouch),(!i||o.__highDownDispatcher)&&(o.__highByOuter=o.__highByOuter||0,o.__highDownDispatcher=!i)}function isHighDownDispatcher(r){return!!(r&&r.__highDownDispatcher)}function getHighlightDigit(r){var n=_highlightKeyMap[r];return n==null&&_highlightNextDigit<=32&&(n=_highlightKeyMap[r]=_highlightNextDigit++),n}function isSelectChangePayload(r){var n=r.type;return n===SELECT_ACTION_TYPE||n===UNSELECT_ACTION_TYPE||n===TOGGLE_SELECT_ACTION_TYPE}function isHighDownPayload(r){var n=r.type;return n===HIGHLIGHT_ACTION_TYPE||n===DOWNPLAY_ACTION_TYPE}function savePathStates(r){var n=getSavedStates(r);n.normalFill=r.style.fill,n.normalStroke=r.style.stroke;var i=r.states.select||{};n.selectFill=i.style&&i.style.fill||null,n.selectStroke=i.style&&i.style.stroke||null}var CMD=PathProxy$1.CMD,points=[[],[],[]],mathSqrt$2=Math.sqrt,mathAtan2=Math.atan2;function transformPath(r,n){if(n){var i=r.data,o=r.len(),a,u,c,f,d,p,h=CMD.M,g=CMD.C,v=CMD.L,y=CMD.R,A=CMD.A,_=CMD.Q;for(c=0,f=0;c<o;){switch(a=i[c++],f=c,u=0,a){case h:u=1;break;case v:u=1;break;case g:u=3;break;case _:u=2;break;case A:var S=n[4],b=n[5],T=mathSqrt$2(n[0]*n[0]+n[1]*n[1]),w=mathSqrt$2(n[2]*n[2]+n[3]*n[3]),x=mathAtan2(-n[1]/w,n[0]/T);i[c]*=T,i[c++]+=S,i[c]*=w,i[c++]+=b,i[c++]*=T,i[c++]*=w,i[c++]+=x,i[c++]+=x,c+=2,f=c;break;case y:p[0]=i[c++],p[1]=i[c++],applyTransform$1(p,p,n),i[f++]=p[0],i[f++]=p[1],p[0]+=i[c++],p[1]+=i[c++],applyTransform$1(p,p,n),i[f++]=p[0],i[f++]=p[1]}for(d=0;d<u;d++){var k=points[d];k[0]=i[c++],k[1]=i[c++],applyTransform$1(k,k,n),i[f++]=k[0],i[f++]=k[1]}}r.increaseVersion()}}var mathSqrt$1=Math.sqrt,mathSin$2=Math.sin,mathCos$2=Math.cos,PI$4=Math.PI;function vMag(r){return Math.sqrt(r[0]*r[0]+r[1]*r[1])}function vRatio(r,n){return(r[0]*n[0]+r[1]*n[1])/(vMag(r)*vMag(n))}function vAngle(r,n){return(r[0]*n[1]<r[1]*n[0]?-1:1)*Math.acos(vRatio(r,n))}function processArc(r,n,i,o,a,u,c,f,d,p,h){var g=d*(PI$4/180),v=mathCos$2(g)*(r-i)/2+mathSin$2(g)*(n-o)/2,y=-1*mathSin$2(g)*(r-i)/2+mathCos$2(g)*(n-o)/2,A=v*v/(c*c)+y*y/(f*f);A>1&&(c*=mathSqrt$1(A),f*=mathSqrt$1(A));var _=(a===u?-1:1)*mathSqrt$1((c*c*(f*f)-c*c*(y*y)-f*f*(v*v))/(c*c*(y*y)+f*f*(v*v)))||0,S=_*c*y/f,b=_*-f*v/c,T=(r+i)/2+mathCos$2(g)*S-mathSin$2(g)*b,w=(n+o)/2+mathSin$2(g)*S+mathCos$2(g)*b,x=vAngle([1,0],[(v-S)/c,(y-b)/f]),k=[(v-S)/c,(y-b)/f],M=[(-1*v-S)/c,(-1*y-b)/f],D=vAngle(k,M);if(vRatio(k,M)<=-1&&(D=PI$4),vRatio(k,M)>=1&&(D=0),D<0){var z=Math.round(D/PI$4*1e6)/1e6;D=PI$4*2+z%2*PI$4}h.addData(p,T,w,c,f,x,D,g,u)}var commandReg=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,numberReg=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function createPathProxyFromString(r){var n=new PathProxy$1;if(!r)return n;var i=0,o=0,a=i,u=o,c,f=PathProxy$1.CMD,d=r.match(commandReg);if(!d)return n;for(var p=0;p<d.length;p++){for(var h=d[p],g=h.charAt(0),v=void 0,y=h.match(numberReg)||[],A=y.length,_=0;_<A;_++)y[_]=parseFloat(y[_]);for(var S=0;S<A;){var b=void 0,T=void 0,w=void 0,x=void 0,k=void 0,M=void 0,D=void 0,z=i,j=o,oe=void 0,L=void 0;switch(g){case"l":i+=y[S++],o+=y[S++],v=f.L,n.addData(v,i,o);break;case"L":i=y[S++],o=y[S++],v=f.L,n.addData(v,i,o);break;case"m":i+=y[S++],o+=y[S++],v=f.M,n.addData(v,i,o),a=i,u=o,g="l";break;case"M":i=y[S++],o=y[S++],v=f.M,n.addData(v,i,o),a=i,u=o,g="L";break;case"h":i+=y[S++],v=f.L,n.addData(v,i,o);break;case"H":i=y[S++],v=f.L,n.addData(v,i,o);break;case"v":o+=y[S++],v=f.L,n.addData(v,i,o);break;case"V":o=y[S++],v=f.L,n.addData(v,i,o);break;case"C":v=f.C,n.addData(v,y[S++],y[S++],y[S++],y[S++],y[S++],y[S++]),i=y[S-2],o=y[S-1];break;case"c":v=f.C,n.addData(v,y[S++]+i,y[S++]+o,y[S++]+i,y[S++]+o,y[S++]+i,y[S++]+o),i+=y[S-2],o+=y[S-1];break;case"S":b=i,T=o,oe=n.len(),L=n.data,c===f.C&&(b+=i-L[oe-4],T+=o-L[oe-3]),v=f.C,z=y[S++],j=y[S++],i=y[S++],o=y[S++],n.addData(v,b,T,z,j,i,o);break;case"s":b=i,T=o,oe=n.len(),L=n.data,c===f.C&&(b+=i-L[oe-4],T+=o-L[oe-3]),v=f.C,z=i+y[S++],j=o+y[S++],i+=y[S++],o+=y[S++],n.addData(v,b,T,z,j,i,o);break;case"Q":z=y[S++],j=y[S++],i=y[S++],o=y[S++],v=f.Q,n.addData(v,z,j,i,o);break;case"q":z=y[S++]+i,j=y[S++]+o,i+=y[S++],o+=y[S++],v=f.Q,n.addData(v,z,j,i,o);break;case"T":b=i,T=o,oe=n.len(),L=n.data,c===f.Q&&(b+=i-L[oe-4],T+=o-L[oe-3]),i=y[S++],o=y[S++],v=f.Q,n.addData(v,b,T,i,o);break;case"t":b=i,T=o,oe=n.len(),L=n.data,c===f.Q&&(b+=i-L[oe-4],T+=o-L[oe-3]),i+=y[S++],o+=y[S++],v=f.Q,n.addData(v,b,T,i,o);break;case"A":w=y[S++],x=y[S++],k=y[S++],M=y[S++],D=y[S++],z=i,j=o,i=y[S++],o=y[S++],v=f.A,processArc(z,j,i,o,M,D,w,x,k,v,n);break;case"a":w=y[S++],x=y[S++],k=y[S++],M=y[S++],D=y[S++],z=i,j=o,i+=y[S++],o+=y[S++],v=f.A,processArc(z,j,i,o,M,D,w,x,k,v,n);break}}(g==="z"||g==="Z")&&(v=f.Z,n.addData(v),i=a,o=u),c=v}return n.toStatic(),n}var SVGPath=function(r){__extends(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return n.prototype.applyTransform=function(i){},n}(Path$1);function isPathProxy(r){return r.setData!=null}function createPathOptions(r,n){var i=createPathProxyFromString(r),o=extend({},n);return o.buildPath=function(a){if(isPathProxy(a)){a.setData(i.data);var u=a.getContext();u&&a.rebuildPath(u,1)}else{var u=a;i.rebuildPath(u,1)}},o.applyTransform=function(a){transformPath(i,a),this.dirtyShape()},o}function createFromString(r,n){return new SVGPath(createPathOptions(r,n))}function extendFromString(r,n){var i=createPathOptions(r,n),o=function(a){__extends(u,a);function u(c){var f=a.call(this,c)||this;return f.applyTransform=i.applyTransform,f.buildPath=i.buildPath,f}return u}(SVGPath);return o}function mergePath$1(r,n){for(var i=[],o=r.length,a=0;a<o;a++){var u=r[a];i.push(u.getUpdatedPathProxy(!0))}var c=new Path$1(n);return c.createPathProxy(),c.buildPath=function(f){if(isPathProxy(f)){f.appendPath(i);var d=f.getContext();d&&f.rebuildPath(d,1)}},c}var CircleShape=function(){function r(){this.cx=0,this.cy=0,this.r=0}return r}(),Circle=function(r){__extends(n,r);function n(i){return r.call(this,i)||this}return n.prototype.getDefaultShape=function(){return new CircleShape},n.prototype.buildPath=function(i,o){i.moveTo(o.cx+o.r,o.cy),i.arc(o.cx,o.cy,o.r,0,Math.PI*2)},n}(Path$1);Circle.prototype.type="circle";const Circle$1=Circle;var EllipseShape=function(){function r(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return r}(),Ellipse=function(r){__extends(n,r);function n(i){return r.call(this,i)||this}return n.prototype.getDefaultShape=function(){return new EllipseShape},n.prototype.buildPath=function(i,o){var a=.5522848,u=o.cx,c=o.cy,f=o.rx,d=o.ry,p=f*a,h=d*a;i.moveTo(u-f,c),i.bezierCurveTo(u-f,c-h,u-p,c-d,u,c-d),i.bezierCurveTo(u+p,c-d,u+f,c-h,u+f,c),i.bezierCurveTo(u+f,c+h,u+p,c+d,u,c+d),i.bezierCurveTo(u-p,c+d,u-f,c+h,u-f,c),i.closePath()},n}(Path$1);Ellipse.prototype.type="ellipse";const Ellipse$1=Ellipse;var PI$3=Math.PI,PI2$2=PI$3*2,mathSin$1=Math.sin,mathCos$1=Math.cos,mathACos=Math.acos,mathATan2=Math.atan2,mathAbs=Math.abs,mathSqrt=Math.sqrt,mathMax$1=Math.max,mathMin$1=Math.min,e=1e-4;function intersect(r,n,i,o,a,u,c,f){var d=i-r,p=o-n,h=c-a,g=f-u,v=g*d-h*p;if(!(v*v<e))return v=(h*(n-u)-g*(r-a))/v,[r+v*d,n+v*p]}function computeCornerTangents(r,n,i,o,a,u,c){var f=r-i,d=n-o,p=(c?u:-u)/mathSqrt(f*f+d*d),h=p*d,g=-p*f,v=r+h,y=n+g,A=i+h,_=o+g,S=(v+A)/2,b=(y+_)/2,T=A-v,w=_-y,x=T*T+w*w,k=a-u,M=v*_-A*y,D=(w<0?-1:1)*mathSqrt(mathMax$1(0,k*k*x-M*M)),z=(M*w-T*D)/x,j=(-M*T-w*D)/x,oe=(M*w+T*D)/x,L=(-M*T+w*D)/x,F=z-S,O=j-b,ue=oe-S,_e=L-b;return F*F+O*O>ue*ue+_e*_e&&(z=oe,j=L),{cx:z,cy:j,x0:-h,y0:-g,x1:z*(a/k-1),y1:j*(a/k-1)}}function normalizeCornerRadius(r){var n;if(isArray$1(r)){var i=r.length;if(!i)return r;i===1?n=[r[0],r[0],0,0]:i===2?n=[r[0],r[0],r[1],r[1]]:i===3?n=r.concat(r[2]):n=r}else n=[r,r,r,r];return n}function buildPath$1(r,n){var i,o=mathMax$1(n.r,0),a=mathMax$1(n.r0||0,0),u=o>0,c=a>0;if(!(!u&&!c)){if(u||(o=a,a=0),a>o){var f=o;o=a,a=f}var d=n.startAngle,p=n.endAngle;if(!(isNaN(d)||isNaN(p))){var h=n.cx,g=n.cy,v=!!n.clockwise,y=mathAbs(p-d),A=y>PI2$2&&y%PI2$2;if(A>e&&(y=A),!(o>e))r.moveTo(h,g);else if(y>PI2$2-e)r.moveTo(h+o*mathCos$1(d),g+o*mathSin$1(d)),r.arc(h,g,o,d,p,!v),a>e&&(r.moveTo(h+a*mathCos$1(p),g+a*mathSin$1(p)),r.arc(h,g,a,p,d,v));else{var _=void 0,S=void 0,b=void 0,T=void 0,w=void 0,x=void 0,k=void 0,M=void 0,D=void 0,z=void 0,j=void 0,oe=void 0,L=void 0,F=void 0,O=void 0,ue=void 0,_e=o*mathCos$1(d),Ce=o*mathSin$1(d),de=a*mathCos$1(p),ie=a*mathSin$1(p),Y=y>e;if(Y){var Ie=n.cornerRadius;Ie&&(i=normalizeCornerRadius(Ie),_=i[0],S=i[1],b=i[2],T=i[3]);var Oe=mathAbs(o-a)/2;if(w=mathMin$1(Oe,b),x=mathMin$1(Oe,T),k=mathMin$1(Oe,_),M=mathMin$1(Oe,S),j=D=mathMax$1(w,x),oe=z=mathMax$1(k,M),(D>e||z>e)&&(L=o*mathCos$1(p),F=o*mathSin$1(p),O=a*mathCos$1(d),ue=a*mathSin$1(d),y<PI$3)){var kt=intersect(_e,Ce,O,ue,L,F,de,ie);if(kt){var Dt=_e-kt[0],Fe=Ce-kt[1],$e=L-kt[0],Cn=F-kt[1],Lt=1/mathSin$1(mathACos((Dt*$e+Fe*Cn)/(mathSqrt(Dt*Dt+Fe*Fe)*mathSqrt($e*$e+Cn*Cn)))/2),In=mathSqrt(kt[0]*kt[0]+kt[1]*kt[1]);j=mathMin$1(D,(o-In)/(Lt+1)),oe=mathMin$1(z,(a-In)/(Lt-1))}}}if(!Y)r.moveTo(h+_e,g+Ce);else if(j>e){var Et=mathMin$1(b,j),Ne=mathMin$1(T,j),pe=computeCornerTangents(O,ue,_e,Ce,o,Et,v),At=computeCornerTangents(L,F,de,ie,o,Ne,v);r.moveTo(h+pe.cx+pe.x0,g+pe.cy+pe.y0),j<D&&Et===Ne?r.arc(h+pe.cx,g+pe.cy,j,mathATan2(pe.y0,pe.x0),mathATan2(At.y0,At.x0),!v):(Et>0&&r.arc(h+pe.cx,g+pe.cy,Et,mathATan2(pe.y0,pe.x0),mathATan2(pe.y1,pe.x1),!v),r.arc(h,g,o,mathATan2(pe.cy+pe.y1,pe.cx+pe.x1),mathATan2(At.cy+At.y1,At.cx+At.x1),!v),Ne>0&&r.arc(h+At.cx,g+At.cy,Ne,mathATan2(At.y1,At.x1),mathATan2(At.y0,At.x0),!v))}else r.moveTo(h+_e,g+Ce),r.arc(h,g,o,d,p,!v);if(!(a>e)||!Y)r.lineTo(h+de,g+ie);else if(oe>e){var Et=mathMin$1(_,oe),Ne=mathMin$1(S,oe),pe=computeCornerTangents(de,ie,L,F,a,-Ne,v),At=computeCornerTangents(_e,Ce,O,ue,a,-Et,v);r.lineTo(h+pe.cx+pe.x0,g+pe.cy+pe.y0),oe<z&&Et===Ne?r.arc(h+pe.cx,g+pe.cy,oe,mathATan2(pe.y0,pe.x0),mathATan2(At.y0,At.x0),!v):(Ne>0&&r.arc(h+pe.cx,g+pe.cy,Ne,mathATan2(pe.y0,pe.x0),mathATan2(pe.y1,pe.x1),!v),r.arc(h,g,a,mathATan2(pe.cy+pe.y1,pe.cx+pe.x1),mathATan2(At.cy+At.y1,At.cx+At.x1),v),Et>0&&r.arc(h+At.cx,g+At.cy,Et,mathATan2(At.y1,At.x1),mathATan2(At.y0,At.x0),!v))}else r.lineTo(h+de,g+ie),r.arc(h,g,a,p,d,v)}r.closePath()}}}var SectorShape=function(){function r(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return r}(),Sector=function(r){__extends(n,r);function n(i){return r.call(this,i)||this}return n.prototype.getDefaultShape=function(){return new SectorShape},n.prototype.buildPath=function(i,o){buildPath$1(i,o)},n.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},n}(Path$1);Sector.prototype.type="sector";const Sector$1=Sector;var RingShape=function(){function r(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return r}(),Ring=function(r){__extends(n,r);function n(i){return r.call(this,i)||this}return n.prototype.getDefaultShape=function(){return new RingShape},n.prototype.buildPath=function(i,o){var a=o.cx,u=o.cy,c=Math.PI*2;i.moveTo(a+o.r,u),i.arc(a,u,o.r,0,c,!1),i.moveTo(a+o.r0,u),i.arc(a,u,o.r0,0,c,!0)},n}(Path$1);Ring.prototype.type="ring";const Ring$1=Ring;function smoothBezier(r,n,i,o){var a=[],u=[],c=[],f=[],d,p,h,g;if(o){h=[1/0,1/0],g=[-1/0,-1/0];for(var v=0,y=r.length;v<y;v++)min$1(h,h,r[v]),max$1(g,g,r[v]);min$1(h,h,o[0]),max$1(g,g,o[1])}for(var v=0,y=r.length;v<y;v++){var A=r[v];if(i)d=r[v?v-1:y-1],p=r[(v+1)%y];else if(v===0||v===y-1){a.push(clone$1(r[v]));continue}else d=r[v-1],p=r[v+1];sub$1(u,p,d),scale$1(u,u,n);var _=distance(A,d),S=distance(A,p),b=_+S;b!==0&&(_/=b,S/=b),scale$1(c,u,-_),scale$1(f,u,S);var T=add([],A,c),w=add([],A,f);o&&(max$1(T,T,h),min$1(T,T,g),max$1(w,w,h),min$1(w,w,g)),a.push(T),a.push(w)}return i&&a.push(a.shift()),a}function buildPath(r,n,i){var o=n.smooth,a=n.points;if(a&&a.length>=2){if(o){var u=smoothBezier(a,o,i,n.smoothConstraint);r.moveTo(a[0][0],a[0][1]);for(var c=a.length,f=0;f<(i?c:c-1);f++){var d=u[f*2],p=u[f*2+1],h=a[(f+1)%c];r.bezierCurveTo(d[0],d[1],p[0],p[1],h[0],h[1])}}else{r.moveTo(a[0][0],a[0][1]);for(var f=1,g=a.length;f<g;f++)r.lineTo(a[f][0],a[f][1])}i&&r.closePath()}}var PolygonShape=function(){function r(){this.points=null,this.smooth=0,this.smoothConstraint=null}return r}(),Polygon=function(r){__extends(n,r);function n(i){return r.call(this,i)||this}return n.prototype.getDefaultShape=function(){return new PolygonShape},n.prototype.buildPath=function(i,o){buildPath(i,o,!0)},n}(Path$1);Polygon.prototype.type="polygon";const Polygon$1=Polygon;var PolylineShape=function(){function r(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return r}(),Polyline=function(r){__extends(n,r);function n(i){return r.call(this,i)||this}return n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new PolylineShape},n.prototype.buildPath=function(i,o){buildPath(i,o,!1)},n}(Path$1);Polyline.prototype.type="polyline";const Polyline$1=Polyline;var subPixelOptimizeOutputShape={},LineShape=function(){function r(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return r}(),Line=function(r){__extends(n,r);function n(i){return r.call(this,i)||this}return n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new LineShape},n.prototype.buildPath=function(i,o){var a,u,c,f;if(this.subPixelOptimize){var d=subPixelOptimizeLine$1(subPixelOptimizeOutputShape,o,this.style);a=d.x1,u=d.y1,c=d.x2,f=d.y2}else a=o.x1,u=o.y1,c=o.x2,f=o.y2;var p=o.percent;p!==0&&(i.moveTo(a,u),p<1&&(c=a*(1-p)+c*p,f=u*(1-p)+f*p),i.lineTo(c,f))},n.prototype.pointAt=function(i){var o=this.shape;return[o.x1*(1-i)+o.x2*i,o.y1*(1-i)+o.y2*i]},n}(Path$1);Line.prototype.type="line";const Line$1=Line;var out=[],BezierCurveShape=function(){function r(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return r}();function someVectorAt(r,n,i){var o=r.cpx2,a=r.cpy2;return o!=null||a!=null?[(i?cubicDerivativeAt:cubicAt)(r.x1,r.cpx1,r.cpx2,r.x2,n),(i?cubicDerivativeAt:cubicAt)(r.y1,r.cpy1,r.cpy2,r.y2,n)]:[(i?quadraticDerivativeAt:quadraticAt)(r.x1,r.cpx1,r.x2,n),(i?quadraticDerivativeAt:quadraticAt)(r.y1,r.cpy1,r.y2,n)]}var BezierCurve=function(r){__extends(n,r);function n(i){return r.call(this,i)||this}return n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new BezierCurveShape},n.prototype.buildPath=function(i,o){var a=o.x1,u=o.y1,c=o.x2,f=o.y2,d=o.cpx1,p=o.cpy1,h=o.cpx2,g=o.cpy2,v=o.percent;v!==0&&(i.moveTo(a,u),h==null||g==null?(v<1&&(quadraticSubdivide(a,d,c,v,out),d=out[1],c=out[2],quadraticSubdivide(u,p,f,v,out),p=out[1],f=out[2]),i.quadraticCurveTo(d,p,c,f)):(v<1&&(cubicSubdivide(a,d,h,c,v,out),d=out[1],h=out[2],c=out[3],cubicSubdivide(u,p,g,f,v,out),p=out[1],g=out[2],f=out[3]),i.bezierCurveTo(d,p,h,g,c,f)))},n.prototype.pointAt=function(i){return someVectorAt(this.shape,i,!1)},n.prototype.tangentAt=function(i){var o=someVectorAt(this.shape,i,!0);return normalize(o,o)},n}(Path$1);BezierCurve.prototype.type="bezier-curve";const BezierCurve$1=BezierCurve;var ArcShape=function(){function r(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return r}(),Arc=function(r){__extends(n,r);function n(i){return r.call(this,i)||this}return n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new ArcShape},n.prototype.buildPath=function(i,o){var a=o.cx,u=o.cy,c=Math.max(o.r,0),f=o.startAngle,d=o.endAngle,p=o.clockwise,h=Math.cos(f),g=Math.sin(f);i.moveTo(h*c+a,g*c+u),i.arc(a,u,c,f,d,!p)},n}(Path$1);Arc.prototype.type="arc";const Arc$1=Arc;var CompoundPath=function(r){__extends(n,r);function n(){var i=r!==null&&r.apply(this,arguments)||this;return i.type="compound",i}return n.prototype._updatePathDirty=function(){for(var i=this.shape.paths,o=this.shapeChanged(),a=0;a<i.length;a++)o=o||i[a].shapeChanged();o&&this.dirtyShape()},n.prototype.beforeBrush=function(){this._updatePathDirty();for(var i=this.shape.paths||[],o=this.getGlobalScale(),a=0;a<i.length;a++)i[a].path||i[a].createPathProxy(),i[a].path.setScale(o[0],o[1],i[a].segmentIgnoreThreshold)},n.prototype.buildPath=function(i,o){for(var a=o.paths||[],u=0;u<a.length;u++)a[u].buildPath(i,a[u].shape,!0)},n.prototype.afterBrush=function(){for(var i=this.shape.paths||[],o=0;o<i.length;o++)i[o].pathUpdated()},n.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),Path$1.prototype.getBoundingRect.call(this)},n}(Path$1);const CompoundPath$1=CompoundPath;var Gradient=function(){function r(n){this.colorStops=n||[]}return r.prototype.addColorStop=function(n,i){this.colorStops.push({offset:n,color:i})},r}();const Gradient$1=Gradient;var LinearGradient=function(r){__extends(n,r);function n(i,o,a,u,c,f){var d=r.call(this,c)||this;return d.x=i??0,d.y=o??0,d.x2=a??1,d.y2=u??0,d.type="linear",d.global=f||!1,d}return n}(Gradient$1);const LinearGradient$1=LinearGradient;var RadialGradient=function(r){__extends(n,r);function n(i,o,a,u,c){var f=r.call(this,u)||this;return f.x=i??.5,f.y=o??.5,f.r=a??.5,f.type="radial",f.global=c||!1,f}return n}(Gradient$1);const RadialGradient$1=RadialGradient;var extent=[0,0],extent2=[0,0],minTv=new Point$1,maxTv=new Point$1,OrientedBoundingRect=function(){function r(n,i){this._corners=[],this._axes=[],this._origin=[0,0];for(var o=0;o<4;o++)this._corners[o]=new Point$1;for(var o=0;o<2;o++)this._axes[o]=new Point$1;n&&this.fromBoundingRect(n,i)}return r.prototype.fromBoundingRect=function(n,i){var o=this._corners,a=this._axes,u=n.x,c=n.y,f=u+n.width,d=c+n.height;if(o[0].set(u,c),o[1].set(f,c),o[2].set(f,d),o[3].set(u,d),i)for(var p=0;p<4;p++)o[p].transform(i);Point$1.sub(a[0],o[1],o[0]),Point$1.sub(a[1],o[3],o[0]),a[0].normalize(),a[1].normalize();for(var p=0;p<2;p++)this._origin[p]=a[p].dot(o[0])},r.prototype.intersect=function(n,i){var o=!0,a=!i;return minTv.set(1/0,1/0),maxTv.set(0,0),!this._intersectCheckOneSide(this,n,minTv,maxTv,a,1)&&(o=!1,a)||!this._intersectCheckOneSide(n,this,minTv,maxTv,a,-1)&&(o=!1,a)||a||Point$1.copy(i,o?minTv:maxTv),o},r.prototype._intersectCheckOneSide=function(n,i,o,a,u,c){for(var f=!0,d=0;d<2;d++){var p=this._axes[d];if(this._getProjMinMaxOnAxis(d,n._corners,extent),this._getProjMinMaxOnAxis(d,i._corners,extent2),extent[1]<extent2[0]||extent[0]>extent2[1]){if(f=!1,u)return f;var h=Math.abs(extent2[0]-extent[1]),g=Math.abs(extent[0]-extent2[1]);Math.min(h,g)>a.len()&&(h<g?Point$1.scale(a,p,-h*c):Point$1.scale(a,p,g*c))}else if(o){var h=Math.abs(extent2[0]-extent[1]),g=Math.abs(extent[0]-extent2[1]);Math.min(h,g)<o.len()&&(h<g?Point$1.scale(o,p,h*c):Point$1.scale(o,p,-g*c))}}return f},r.prototype._getProjMinMaxOnAxis=function(n,i,o){for(var a=this._axes[n],u=this._origin,c=i[0].dot(a)+u[n],f=c,d=c,p=1;p<i.length;p++){var h=i[p].dot(a)+u[n];f=Math.min(h,f),d=Math.max(h,d)}o[0]=f,o[1]=d},r}();const OrientedBoundingRect$1=OrientedBoundingRect;var m=[],IncrementalDisplayable=function(r){__extends(n,r);function n(){var i=r!==null&&r.apply(this,arguments)||this;return i.notClear=!0,i.incremental=!0,i._displayables=[],i._temporaryDisplayables=[],i._cursor=0,i}return n.prototype.traverse=function(i,o){i.call(o,this)},n.prototype.useStyle=function(){this.style={}},n.prototype.getCursor=function(){return this._cursor},n.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},n.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},n.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},n.prototype.addDisplayable=function(i,o){o?this._temporaryDisplayables.push(i):this._displayables.push(i),this.markRedraw()},n.prototype.addDisplayables=function(i,o){o=o||!1;for(var a=0;a<i.length;a++)this.addDisplayable(i[a],o)},n.prototype.getDisplayables=function(){return this._displayables},n.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},n.prototype.eachPendingDisplayable=function(i){for(var o=this._cursor;o<this._displayables.length;o++)i&&i(this._displayables[o]);for(var o=0;o<this._temporaryDisplayables.length;o++)i&&i(this._temporaryDisplayables[o])},n.prototype.update=function(){this.updateTransform();for(var i=this._cursor;i<this._displayables.length;i++){var o=this._displayables[i];o.parent=this,o.update(),o.parent=null}for(var i=0;i<this._temporaryDisplayables.length;i++){var o=this._temporaryDisplayables[i];o.parent=this,o.update(),o.parent=null}},n.prototype.getBoundingRect=function(){if(!this._rect){for(var i=new BoundingRect$1(1/0,1/0,-1/0,-1/0),o=0;o<this._displayables.length;o++){var a=this._displayables[o],u=a.getBoundingRect().clone();a.needLocalTransform()&&u.applyTransform(a.getLocalTransform(m)),i.union(u)}this._rect=i}return this._rect},n.prototype.contain=function(i,o){var a=this.transformCoordToLocal(i,o),u=this.getBoundingRect();if(u.contain(a[0],a[1]))for(var c=0;c<this._displayables.length;c++){var f=this._displayables[c];if(f.contain(i,o))return!0}return!1},n}(Displayable$1);const IncrementalDisplayable$1=IncrementalDisplayable;var transitionStore=makeInner();function getAnimationConfig(r,n,i,o,a){var u;if(n&&n.ecModel){var c=n.ecModel.getUpdatePayload();u=c&&c.animation}var f=n&&n.isAnimationEnabled(),d=r==="update";if(f){var p=void 0,h=void 0,g=void 0;o?(p=retrieve2(o.duration,200),h=retrieve2(o.easing,"cubicOut"),g=0):(p=n.getShallow(d?"animationDurationUpdate":"animationDuration"),h=n.getShallow(d?"animationEasingUpdate":"animationEasing"),g=n.getShallow(d?"animationDelayUpdate":"animationDelay")),u&&(u.duration!=null&&(p=u.duration),u.easing!=null&&(h=u.easing),u.delay!=null&&(g=u.delay)),isFunction$1(g)&&(g=g(i,a)),isFunction$1(p)&&(p=p(i));var v={duration:p||0,delay:g,easing:h};return v}else return null}function animateOrSetProps(r,n,i,o,a,u,c){var f=!1,d;isFunction$1(a)?(c=u,u=a,a=null):isObject$3(a)&&(u=a.cb,c=a.during,f=a.isFrom,d=a.removeOpt,a=a.dataIndex);var p=r==="leave";p||n.stopAnimation("leave");var h=getAnimationConfig(r,o,a,p?d||{}:null,o&&o.getAnimationDelayParams?o.getAnimationDelayParams(n,a):null);if(h&&h.duration>0){var g=h.duration,v=h.delay,y=h.easing,A={duration:g,delay:v||0,easing:y,done:u,force:!!u||!!c,setToFinal:!p,scope:r,during:c};f?n.animateFrom(i,A):n.animateTo(i,A)}else n.stopAnimation(),!f&&n.attr(i),c&&c(1),u&&u()}function updateProps$1(r,n,i,o,a,u){animateOrSetProps("update",r,n,i,o,a,u)}function initProps(r,n,i,o,a,u){animateOrSetProps("enter",r,n,i,o,a,u)}function isElementRemoved(r){if(!r.__zr)return!0;for(var n=0;n<r.animators.length;n++){var i=r.animators[n];if(i.scope==="leave")return!0}return!1}function removeElement(r,n,i,o,a,u){isElementRemoved(r)||animateOrSetProps("leave",r,n,i,o,a,u)}function fadeOutDisplayable(r,n,i,o){r.removeTextContent(),r.removeTextGuideLine(),removeElement(r,{style:{opacity:0}},n,i,o)}function removeElementWithFadeOut(r,n,i){function o(){r.parent&&r.parent.remove(r)}r.isGroup?r.traverse(function(a){a.isGroup||fadeOutDisplayable(a,n,i,o)}):fadeOutDisplayable(r,n,i,o)}function saveOldStyle(r){transitionStore(r).oldStyle=r.style}var mathMax=Math.max,mathMin=Math.min,_customShapeMap={};function extendShape(r){return Path$1.extend(r)}var extendPathFromString=extendFromString;function extendPath(r,n){return extendPathFromString(r,n)}function registerShape(r,n){_customShapeMap[r]=n}function getShapeClass(r){if(_customShapeMap.hasOwnProperty(r))return _customShapeMap[r]}function makePath(r,n,i,o){var a=createFromString(r,n);return i&&(o==="center"&&(i=centerGraphic(i,a.getBoundingRect())),resizePath(a,i)),a}function makeImage(r,n,i){var o=new ZRImage$1({style:{image:r,x:n.x,y:n.y,width:n.width,height:n.height},onload:function(a){if(i==="center"){var u={width:a.width,height:a.height};o.setStyle(centerGraphic(n,u))}}});return o}function centerGraphic(r,n){var i=n.width/n.height,o=r.height*i,a;o<=r.width?a=r.height:(o=r.width,a=o/i);var u=r.x+r.width/2,c=r.y+r.height/2;return{x:u-o/2,y:c-a/2,width:o,height:a}}var mergePath=mergePath$1;function resizePath(r,n){if(r.applyTransform){var i=r.getBoundingRect(),o=i.calculateTransform(n);r.applyTransform(o)}}function subPixelOptimizeLine(r,n){return subPixelOptimizeLine$1(r,r,{lineWidth:n}),r}function subPixelOptimizeRect(r){return subPixelOptimizeRect$1(r.shape,r.shape,r.style),r}var subPixelOptimize=subPixelOptimize$1;function getTransform(r,n){for(var i=identity$1([]);r&&r!==n;)mul(i,r.getLocalTransform(),i),r=r.parent;return i}function applyTransform(r,n,i){return n&&!isArrayLike(n)&&(n=Transformable$1.getLocalTransform(n)),i&&(n=invert([],n)),applyTransform$1([],r,n)}function transformDirection(r,n,i){var o=n[4]===0||n[5]===0||n[0]===0?1:Math.abs(2*n[4]/n[0]),a=n[4]===0||n[5]===0||n[2]===0?1:Math.abs(2*n[4]/n[2]),u=[r==="left"?-o:r==="right"?o:0,r==="top"?-a:r==="bottom"?a:0];return u=applyTransform(u,n,i),Math.abs(u[0])>Math.abs(u[1])?u[0]>0?"right":"left":u[1]>0?"bottom":"top"}function isNotGroup(r){return!r.isGroup}function isPath(r){return r.shape!=null}function groupTransition(r,n,i){if(!r||!n)return;function o(c){var f={};return c.traverse(function(d){isNotGroup(d)&&d.anid&&(f[d.anid]=d)}),f}function a(c){var f={x:c.x,y:c.y,rotation:c.rotation};return isPath(c)&&(f.shape=extend({},c.shape)),f}var u=o(r);n.traverse(function(c){if(isNotGroup(c)&&c.anid){var f=u[c.anid];if(f){var d=a(c);c.attr(a(f)),updateProps$1(c,d,i,getECData(c).dataIndex)}}})}function clipPointsByRect(r,n){return map$1(r,function(i){var o=i[0];o=mathMax(o,n.x),o=mathMin(o,n.x+n.width);var a=i[1];return a=mathMax(a,n.y),a=mathMin(a,n.y+n.height),[o,a]})}function clipRectByRect(r,n){var i=mathMax(r.x,n.x),o=mathMin(r.x+r.width,n.x+n.width),a=mathMax(r.y,n.y),u=mathMin(r.y+r.height,n.y+n.height);if(o>=i&&u>=a)return{x:i,y:a,width:o-i,height:u-a}}function createIcon(r,n,i){var o=extend({rectHover:!0},n),a=o.style={strokeNoScale:!0};if(i=i||{x:-1,y:-1,width:2,height:2},r)return r.indexOf("image://")===0?(a.image=r.slice(8),defaults(a,i),new ZRImage$1(o)):makePath(r.replace("path://",""),o,i,"center")}function linePolygonIntersect(r,n,i,o,a){for(var u=0,c=a[a.length-1];u<a.length;u++){var f=a[u];if(lineLineIntersect(r,n,i,o,f[0],f[1],c[0],c[1]))return!0;c=f}}function lineLineIntersect(r,n,i,o,a,u,c,f){var d=i-r,p=o-n,h=c-a,g=f-u,v=crossProduct2d(h,g,d,p);if(nearZero(v))return!1;var y=r-a,A=n-u,_=crossProduct2d(y,A,d,p)/v;if(_<0||_>1)return!1;var S=crossProduct2d(y,A,h,g)/v;return!(S<0||S>1)}function crossProduct2d(r,n,i,o){return r*o-i*n}function nearZero(r){return r<=1e-6&&r>=-1e-6}function setTooltipConfig(r){var n=r.itemTooltipOption,i=r.componentModel,o=r.itemName,a=isString$2(n)?{formatter:n}:n,u=i.mainType,c=i.componentIndex,f={componentType:u,name:o,$vars:["name"]};f[u+"Index"]=c;var d=r.formatterParamsExtra;d&&each$4(keys(d),function(h){hasOwn$1(f,h)||(f[h]=d[h],f.$vars.push(h))});var p=getECData(r.el);p.componentMainType=u,p.componentIndex=c,p.tooltipConfig={name:o,option:defaults({content:o,formatterParams:f},a)}}function traverseElement(r,n){var i;r.isGroup&&(i=n(r)),i||r.traverse(n)}function traverseElements(r,n){if(r)if(isArray$1(r))for(var i=0;i<r.length;i++)traverseElement(r[i],n);else traverseElement(r,n)}registerShape("circle",Circle$1),registerShape("ellipse",Ellipse$1),registerShape("sector",Sector$1),registerShape("ring",Ring$1),registerShape("polygon",Polygon$1),registerShape("polyline",Polyline$1),registerShape("rect",Rect$1),registerShape("line",Line$1),registerShape("bezierCurve",BezierCurve$1),registerShape("arc",Arc$1);const graphic=Object.freeze(Object.defineProperty({__proto__:null,Arc:Arc$1,BezierCurve:BezierCurve$1,BoundingRect:BoundingRect$1,Circle:Circle$1,CompoundPath:CompoundPath$1,Ellipse:Ellipse$1,Group:Group$3,Image:ZRImage$1,IncrementalDisplayable:IncrementalDisplayable$1,Line:Line$1,LinearGradient:LinearGradient$1,OrientedBoundingRect:OrientedBoundingRect$1,Path:Path$1,Point:Point$1,Polygon:Polygon$1,Polyline:Polyline$1,RadialGradient:RadialGradient$1,Rect:Rect$1,Ring:Ring$1,Sector:Sector$1,Text:ZRText$1,applyTransform,clipPointsByRect,clipRectByRect,createIcon,extendPath,extendShape,getShapeClass,getTransform,groupTransition,initProps,isElementRemoved,lineLineIntersect,linePolygonIntersect,makeImage,makePath,mergePath,registerShape,removeElement,removeElementWithFadeOut,resizePath,setTooltipConfig,subPixelOptimize,subPixelOptimizeLine,subPixelOptimizeRect,transformDirection,traverseElements,updateProps:updateProps$1},Symbol.toStringTag,{value:"Module"}));var EMPTY_OBJ={};function setLabelText(r,n){for(var i=0;i<SPECIAL_STATES.length;i++){var o=SPECIAL_STATES[i],a=n[o],u=r.ensureState(o);u.style=u.style||{},u.style.text=a}var c=r.currentStates.slice();r.clearStates(!0),r.setStyle({text:n.normal}),r.useStates(c,!0)}function getLabelText(r,n,i){var o=r.labelFetcher,a=r.labelDataIndex,u=r.labelDimIndex,c=n.normal,f;o&&(f=o.getFormattedLabel(a,"normal",null,u,c&&c.get("formatter"),i!=null?{interpolatedValue:i}:null)),f==null&&(f=isFunction$1(r.defaultText)?r.defaultText(a,r,i):r.defaultText);for(var d={normal:f},p=0;p<SPECIAL_STATES.length;p++){var h=SPECIAL_STATES[p],g=n[h];d[h]=retrieve2(o?o.getFormattedLabel(a,h,null,u,g&&g.get("formatter")):null,f)}return d}function setLabelStyle(r,n,i,o){i=i||EMPTY_OBJ;for(var a=r instanceof ZRText$1,u=!1,c=0;c<DISPLAY_STATES.length;c++){var f=n[DISPLAY_STATES[c]];if(f&&f.getShallow("show")){u=!0;break}}var d=a?r:r.getTextContent();if(u){a||(d||(d=new ZRText$1,r.setTextContent(d)),r.stateProxy&&(d.stateProxy=r.stateProxy));var p=getLabelText(i,n),h=n.normal,g=!!h.getShallow("show"),v=createTextStyle(h,o&&o.normal,i,!1,!a);v.text=p.normal,a||r.setTextConfig(createTextConfig(h,i,!1));for(var c=0;c<SPECIAL_STATES.length;c++){var y=SPECIAL_STATES[c],f=n[y];if(f){var A=d.ensureState(y),_=!!retrieve2(f.getShallow("show"),g);if(_!==g&&(A.ignore=!_),A.style=createTextStyle(f,o&&o[y],i,!0,!a),A.style.text=p[y],!a){var S=r.ensureState(y);S.textConfig=createTextConfig(f,i,!0)}}}d.silent=!!h.getShallow("silent"),d.style.x!=null&&(v.x=d.style.x),d.style.y!=null&&(v.y=d.style.y),d.ignore=!g,d.useStyle(v),d.dirty(),i.enableTextSetter&&(labelInner(d).setLabelText=function(b){var T=getLabelText(i,n,b);setLabelText(d,T)})}else d&&(d.ignore=!0);r.dirty()}function getLabelStatesModels(r,n){n=n||"label";for(var i={normal:r.getModel(n)},o=0;o<SPECIAL_STATES.length;o++){var a=SPECIAL_STATES[o];i[a]=r.getModel([a,n])}return i}function createTextStyle(r,n,i,o,a){var u={};return setTextStyleCommon(u,r,i,o,a),n&&extend(u,n),u}function createTextConfig(r,n,i){n=n||{};var o={},a,u=r.getShallow("rotate"),c=retrieve2(r.getShallow("distance"),i?null:5),f=r.getShallow("offset");return a=r.getShallow("position")||(i?null:"inside"),a==="outside"&&(a=n.defaultOutsidePosition||"top"),a!=null&&(o.position=a),f!=null&&(o.offset=f),u!=null&&(u*=Math.PI/180,o.rotation=u),c!=null&&(o.distance=c),o.outsideFill=r.get("color")==="inherit"?n.inheritColor||null:"auto",o}function setTextStyleCommon(r,n,i,o,a){i=i||EMPTY_OBJ;var u=n.ecModel,c=u&&u.option.textStyle,f=getRichItemNames(n),d;if(f){d={};for(var p in f)if(f.hasOwnProperty(p)){var h=n.getModel(["rich",p]);setTokenTextStyle(d[p]={},h,c,i,o,a,!1,!0)}}d&&(r.rich=d);var g=n.get("overflow");g&&(r.overflow=g);var v=n.get("minMargin");v!=null&&(r.margin=v),setTokenTextStyle(r,n,c,i,o,a,!0,!1)}function getRichItemNames(r){for(var n;r&&r!==r.ecModel;){var i=(r.option||EMPTY_OBJ).rich;if(i){n=n||{};for(var o=keys(i),a=0;a<o.length;a++){var u=o[a];n[u]=1}}r=r.parentModel}return n}var TEXT_PROPS_WITH_GLOBAL=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],TEXT_PROPS_SELF=["align","lineHeight","width","height","tag","verticalAlign"],TEXT_PROPS_BOX=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function setTokenTextStyle(r,n,i,o,a,u,c,f){i=!a&&i||EMPTY_OBJ;var d=o&&o.inheritColor,p=n.getShallow("color"),h=n.getShallow("textBorderColor"),g=retrieve2(n.getShallow("opacity"),i.opacity);(p==="inherit"||p==="auto")&&(process.env.NODE_ENV!=="production"&&p==="auto"&&deprecateReplaceLog("color: 'auto'","color: 'inherit'"),d?p=d:p=null),(h==="inherit"||h==="auto")&&(process.env.NODE_ENV!=="production"&&h==="auto"&&deprecateReplaceLog("color: 'auto'","color: 'inherit'"),d?h=d:h=null),u||(p=p||i.color,h=h||i.textBorderColor),p!=null&&(r.fill=p),h!=null&&(r.stroke=h);var v=retrieve2(n.getShallow("textBorderWidth"),i.textBorderWidth);v!=null&&(r.lineWidth=v);var y=retrieve2(n.getShallow("textBorderType"),i.textBorderType);y!=null&&(r.lineDash=y);var A=retrieve2(n.getShallow("textBorderDashOffset"),i.textBorderDashOffset);A!=null&&(r.lineDashOffset=A),!a&&g==null&&!f&&(g=o&&o.defaultOpacity),g!=null&&(r.opacity=g),!a&&!u&&r.fill==null&&o.inheritColor&&(r.fill=o.inheritColor);for(var _=0;_<TEXT_PROPS_WITH_GLOBAL.length;_++){var S=TEXT_PROPS_WITH_GLOBAL[_],b=retrieve2(n.getShallow(S),i[S]);b!=null&&(r[S]=b)}for(var _=0;_<TEXT_PROPS_SELF.length;_++){var S=TEXT_PROPS_SELF[_],b=n.getShallow(S);b!=null&&(r[S]=b)}if(r.verticalAlign==null){var T=n.getShallow("baseline");T!=null&&(r.verticalAlign=T)}if(!c||!o.disableBox){for(var _=0;_<TEXT_PROPS_BOX.length;_++){var S=TEXT_PROPS_BOX[_],b=n.getShallow(S);b!=null&&(r[S]=b)}var w=n.getShallow("borderType");w!=null&&(r.borderDash=w),(r.backgroundColor==="auto"||r.backgroundColor==="inherit")&&d&&(process.env.NODE_ENV!=="production"&&r.backgroundColor==="auto"&&deprecateReplaceLog("backgroundColor: 'auto'","backgroundColor: 'inherit'"),r.backgroundColor=d),(r.borderColor==="auto"||r.borderColor==="inherit")&&d&&(process.env.NODE_ENV!=="production"&&r.borderColor==="auto"&&deprecateReplaceLog("borderColor: 'auto'","borderColor: 'inherit'"),r.borderColor=d)}}function getFont(r,n){var i=n&&n.getModel("textStyle");return trim([r.fontStyle||i&&i.getShallow("fontStyle")||"",r.fontWeight||i&&i.getShallow("fontWeight")||"",(r.fontSize||i&&i.getShallow("fontSize")||12)+"px",r.fontFamily||i&&i.getShallow("fontFamily")||"sans-serif"].join(" "))}var labelInner=makeInner(),PATH_COLOR=["textStyle","color"],textStyleParams=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],tmpText=new ZRText$1,TextStyleMixin=function(){function r(){}return r.prototype.getTextColor=function(n){var i=this.ecModel;return this.getShallow("color")||(!n&&i?i.get(PATH_COLOR):null)},r.prototype.getFont=function(){return getFont({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},r.prototype.getTextRect=function(n){for(var i={text:n,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},o=0;o<textStyleParams.length;o++)i[textStyleParams[o]]=this.getShallow(textStyleParams[o]);return tmpText.useStyle(i),tmpText.update(),tmpText.getBoundingRect()},r}();const TextStyleMixin$1=TextStyleMixin;var LINE_STYLE_KEY_MAP=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],getLineStyle=makeStyleMapper(LINE_STYLE_KEY_MAP),LineStyleMixin=function(){function r(){}return r.prototype.getLineStyle=function(n){return getLineStyle(this,n)},r}(),ITEM_STYLE_KEY_MAP=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],getItemStyle=makeStyleMapper(ITEM_STYLE_KEY_MAP),ItemStyleMixin=function(){function r(){}return r.prototype.getItemStyle=function(n,i){return getItemStyle(this,n,i)},r}(),Model=function(){function r(n,i,o){this.parentModel=i,this.ecModel=o,this.option=n}return r.prototype.init=function(n,i,o){},r.prototype.mergeOption=function(n,i){merge(this.option,n,!0)},r.prototype.get=function(n,i){return n==null?this.option:this._doGet(this.parsePath(n),!i&&this.parentModel)},r.prototype.getShallow=function(n,i){var o=this.option,a=o==null?o:o[n];if(a==null&&!i){var u=this.parentModel;u&&(a=u.getShallow(n))}return a},r.prototype.getModel=function(n,i){var o=n!=null,a=o?this.parsePath(n):null,u=o?this._doGet(a):this.option;return i=i||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(a)),new r(u,i,this.ecModel)},r.prototype.isEmpty=function(){return this.option==null},r.prototype.restoreData=function(){},r.prototype.clone=function(){var n=this.constructor;return new n(clone$2(this.option))},r.prototype.parsePath=function(n){return typeof n=="string"?n.split("."):n},r.prototype.resolveParentPath=function(n){return n},r.prototype.isAnimationEnabled=function(){if(!env$1.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},r.prototype._doGet=function(n,i){var o=this.option;if(!n)return o;for(var a=0;a<n.length&&!(n[a]&&(o=o&&typeof o=="object"?o[n[a]]:null,o==null));a++);return o==null&&i&&(o=i._doGet(this.resolveParentPath(n),i.parentModel)),o},r}();enableClassExtend(Model),enableClassCheck(Model),mixin(Model,LineStyleMixin),mixin(Model,ItemStyleMixin),mixin(Model,AreaStyleMixin),mixin(Model,TextStyleMixin$1);const Model$1=Model;var base=Math.round(Math.random()*10);function getUID(r){return[r||"",base++].join("_")}function enableSubTypeDefaulter(r){var n={};r.registerSubTypeDefaulter=function(i,o){var a=parseClassType(i);n[a.main]=o},r.determineSubType=function(i,o){var a=o.type;if(!a){var u=parseClassType(i).main;r.hasSubTypes(i)&&n[u]&&(a=n[u](o))}return a}}function enableTopologicalTravel(r,n){r.topologicalTravel=function(u,c,f,d){if(!u.length)return;var p=i(c),h=p.graph,g=p.noEntryList,v={};for(each$4(u,function(T){v[T]=!0});g.length;){var y=g.pop(),A=h[y],_=!!v[y];_&&(f.call(d,y,A.originalDeps.slice()),delete v[y]),each$4(A.successor,_?b:S)}each$4(v,function(){var T="";throw process.env.NODE_ENV!=="production"&&(T=makePrintable("Circular dependency may exists: ",v,u,c)),new Error(T)});function S(T){h[T].entryCount--,h[T].entryCount===0&&g.push(T)}function b(T){v[T]=!0,S(T)}};function i(u){var c={},f=[];return each$4(u,function(d){var p=o(c,d),h=p.originalDeps=n(d),g=a(h,u);p.entryCount=g.length,p.entryCount===0&&f.push(d),each$4(g,function(v){indexOf(p.predecessor,v)<0&&p.predecessor.push(v);var y=o(c,v);indexOf(y.successor,v)<0&&y.successor.push(d)})}),{graph:c,noEntryList:f}}function o(u,c){return u[c]||(u[c]={predecessor:[],successor:[]}),u[c]}function a(u,c){var f=[];return each$4(u,function(d){indexOf(c,d)>=0&&f.push(d)}),f}}function inheritDefaultOption(r,n){return merge(merge({},r,!0),n,!0)}const langEN={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},langZH={time:{month:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthAbbr:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayOfWeek:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayOfWeekAbbr:["日","一","二","三","四","五","六"]},legend:{selector:{all:"全选",inverse:"反选"}},toolbox:{brush:{title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}},dataView:{title:"数据视图",lang:["数据视图","关闭","刷新"]},dataZoom:{title:{zoom:"区域缩放",back:"区域缩放还原"}},magicType:{title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"}},restore:{title:"还原"},saveAsImage:{title:"保存为图片",lang:["右键另存为图片"]}},series:{typeNames:{pie:"饼图",bar:"柱状图",line:"折线图",scatter:"散点图",effectScatter:"涟漪散点图",radar:"雷达图",tree:"树图",treemap:"矩形树图",boxplot:"箱型图",candlestick:"K线图",k:"K线图",heatmap:"热力图",map:"地图",parallel:"平行坐标图",lines:"线图",graph:"关系图",sankey:"桑基图",funnel:"漏斗图",gauge:"仪表盘图",pictorialBar:"象形柱图",themeRiver:"主题河流图",sunburst:"旭日图"}},aria:{general:{withTitle:"这是一个关于“{title}”的图表。",withoutTitle:"这是一个图表，"},series:{single:{prefix:"",withName:"图表类型是{seriesType}，表示{seriesName}。",withoutName:"图表类型是{seriesType}。"},multiple:{prefix:"它由{seriesCount}个图表系列组成。",withName:"第{seriesId}个系列是一个表示{seriesName}的{seriesType}，",withoutName:"第{seriesId}个系列是一个{seriesType}，",separator:{middle:"；",end:"。"}}},data:{allData:"其数据是——",partialData:"其中，前{displayCnt}项是——",withName:"{name}的数据是{value}",withoutName:"{value}",separator:{middle:"，",end:""}}}};var LOCALE_ZH="ZH",LOCALE_EN="EN",DEFAULT_LOCALE=LOCALE_EN,localeStorage={},localeModels={},SYSTEM_LANG=env$1.domSupported?function(){var r=(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase();return r.indexOf(LOCALE_ZH)>-1?LOCALE_ZH:DEFAULT_LOCALE}():DEFAULT_LOCALE;function registerLocale(r,n){r=r.toUpperCase(),localeModels[r]=new Model$1(n),localeStorage[r]=n}function createLocaleObject(r){if(isString$2(r)){var n=localeStorage[r.toUpperCase()]||{};return r===LOCALE_ZH||r===LOCALE_EN?clone$2(n):merge(clone$2(n),clone$2(localeStorage[DEFAULT_LOCALE]),!1)}else return merge(clone$2(r),clone$2(localeStorage[DEFAULT_LOCALE]),!1)}function getLocaleModel(r){return localeModels[r]}function getDefaultLocaleModel(){return localeModels[DEFAULT_LOCALE]}registerLocale(LOCALE_EN,langEN),registerLocale(LOCALE_ZH,langZH);function pad(r,n){return r+="","0000".substr(0,n-r.length)+r}function format$1(r,n,i,o){var a=parseDate(r),u=a[fullYearGetterName(i)](),c=a[monthGetterName(i)]()+1,f=Math.floor((c-1)/3)+1,d=a[dateGetterName(i)](),p=a["get"+(i?"UTC":"")+"Day"](),h=a[hoursGetterName(i)](),g=(h-1)%12+1,v=a[minutesGetterName(i)](),y=a[secondsGetterName(i)](),A=a[millisecondsGetterName(i)](),_=o instanceof Model$1?o:getLocaleModel(o||SYSTEM_LANG)||getDefaultLocaleModel(),S=_.getModel("time"),b=S.get("month"),T=S.get("monthAbbr"),w=S.get("dayOfWeek"),x=S.get("dayOfWeekAbbr");return(n||"").replace(/{yyyy}/g,u+"").replace(/{yy}/g,u%100+"").replace(/{Q}/g,f+"").replace(/{MMMM}/g,b[c-1]).replace(/{MMM}/g,T[c-1]).replace(/{MM}/g,pad(c,2)).replace(/{M}/g,c+"").replace(/{dd}/g,pad(d,2)).replace(/{d}/g,d+"").replace(/{eeee}/g,w[p]).replace(/{ee}/g,x[p]).replace(/{e}/g,p+"").replace(/{HH}/g,pad(h,2)).replace(/{H}/g,h+"").replace(/{hh}/g,pad(g+"",2)).replace(/{h}/g,g+"").replace(/{mm}/g,pad(v,2)).replace(/{m}/g,v+"").replace(/{ss}/g,pad(y,2)).replace(/{s}/g,y+"").replace(/{SSS}/g,pad(A,3)).replace(/{S}/g,A+"")}function fullYearGetterName(r){return r?"getUTCFullYear":"getFullYear"}function monthGetterName(r){return r?"getUTCMonth":"getMonth"}function dateGetterName(r){return r?"getUTCDate":"getDate"}function hoursGetterName(r){return r?"getUTCHours":"getHours"}function minutesGetterName(r){return r?"getUTCMinutes":"getMinutes"}function secondsGetterName(r){return r?"getUTCSeconds":"getSeconds"}function millisecondsGetterName(r){return r?"getUTCMilliseconds":"getMilliseconds"}function addCommas(r){if(!isNumeric(r))return isString$2(r)?r:"-";var n=(r+"").split(".");return n[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(n.length>1?"."+n[1]:"")}function toCamelCase(r,n){return r=(r||"").toLowerCase().replace(/-(.)/g,function(i,o){return o.toUpperCase()}),n&&r&&(r=r.charAt(0).toUpperCase()+r.slice(1)),r}var normalizeCssArray=normalizeCssArray$1;function makeValueReadable(r,n,i){var o="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function a(h){return h&&trim(h)?h:"-"}function u(h){return!!(h!=null&&!isNaN(h)&&isFinite(h))}var c=n==="time",f=r instanceof Date;if(c||f){var d=c?parseDate(r):r;if(isNaN(+d)){if(f)return"-"}else return format$1(d,o,i)}if(n==="ordinal")return isStringSafe(r)?a(r):isNumber$1(r)&&u(r)?r+"":"-";var p=numericToNumber(r);return u(p)?addCommas(p):isStringSafe(r)?a(r):typeof r=="boolean"?r+"":"-"}var TPL_VAR_ALIAS=["a","b","c","d","e","f","g"],wrapVar=function(r,n){return"{"+r+(n??"")+"}"};function formatTpl(r,n,i){isArray$1(n)||(n=[n]);var o=n.length;if(!o)return"";for(var a=n[0].$vars||[],u=0;u<a.length;u++){var c=TPL_VAR_ALIAS[u];r=r.replace(wrapVar(c),wrapVar(c,0))}for(var f=0;f<o;f++)for(var d=0;d<a.length;d++){var p=n[f][a[d]];r=r.replace(wrapVar(TPL_VAR_ALIAS[d],f),i?encodeHTML(p):p)}return r}function getTooltipMarker(r,n){var i=isString$2(r)?{color:r,extraCssText:n}:r||{},o=i.color,a=i.type;n=i.extraCssText;var u=i.renderMode||"html";if(!o)return"";if(u==="html")return a==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+encodeHTML(o)+";"+(n||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+encodeHTML(o)+";"+(n||"")+'"></span>';var c=i.markerId||"markerX";return{renderMode:u,content:"{"+c+"|}  ",style:a==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:o}:{width:10,height:10,borderRadius:5,backgroundColor:o}}}function convertToColorString(r,n){return n=n||"transparent",isString$2(r)?r:isObject$3(r)&&r.colorStops&&(r.colorStops[0]||{}).color||n}function windowOpen(r,n){if(n==="_blank"||n==="blank"){var i=window.open();i.opener=null,i.location.href=r}else window.open(r,n)}var each$3=each$4,LOCATION_PARAMS=["left","right","top","bottom","width","height"],HV_NAMES=[["width","left","right"],["height","top","bottom"]];function boxLayout(r,n,i,o,a){var u=0,c=0;o==null&&(o=1/0),a==null&&(a=1/0);var f=0;n.eachChild(function(d,p){var h=d.getBoundingRect(),g=n.childAt(p+1),v=g&&g.getBoundingRect(),y,A;if(r==="horizontal"){var _=h.width+(v?-v.x+h.x:0);y=u+_,y>o||d.newline?(u=0,y=_,c+=f+i,f=h.height):f=Math.max(f,h.height)}else{var S=h.height+(v?-v.y+h.y:0);A=c+S,A>a||d.newline?(u+=f+i,c=0,A=S,f=h.width):f=Math.max(f,h.width)}d.newline||(d.x=u,d.y=c,d.markRedraw(),r==="horizontal"?u=y+i:c=A+i)})}var box=boxLayout;curry$1(boxLayout,"vertical"),curry$1(boxLayout,"horizontal");function getLayoutRect(r,n,i){i=normalizeCssArray(i||0);var o=n.width,a=n.height,u=parsePercent(r.left,o),c=parsePercent(r.top,a),f=parsePercent(r.right,o),d=parsePercent(r.bottom,a),p=parsePercent(r.width,o),h=parsePercent(r.height,a),g=i[2]+i[0],v=i[1]+i[3],y=r.aspect;switch(isNaN(p)&&(p=o-f-v-u),isNaN(h)&&(h=a-d-g-c),y!=null&&(isNaN(p)&&isNaN(h)&&(y>o/a?p=o*.8:h=a*.8),isNaN(p)&&(p=y*h),isNaN(h)&&(h=p/y)),isNaN(u)&&(u=o-f-p-v),isNaN(c)&&(c=a-d-h-g),r.left||r.right){case"center":u=o/2-p/2-i[3];break;case"right":u=o-p-v;break}switch(r.top||r.bottom){case"middle":case"center":c=a/2-h/2-i[0];break;case"bottom":c=a-h-g;break}u=u||0,c=c||0,isNaN(p)&&(p=o-v-u-(f||0)),isNaN(h)&&(h=a-g-c-(d||0));var A=new BoundingRect$1(u+i[3],c+i[0],p,h);return A.margin=i,A}function fetchLayoutMode(r){var n=r.layoutMode||r.constructor.layoutMode;return isObject$3(n)?n:n?{type:n}:null}function mergeLayoutParam(r,n,i){var o=i&&i.ignoreSize;!isArray$1(o)&&(o=[o,o]);var a=c(HV_NAMES[0],0),u=c(HV_NAMES[1],1);p(HV_NAMES[0],r,a),p(HV_NAMES[1],r,u);function c(h,g){var v={},y=0,A={},_=0,S=2;if(each$3(h,function(w){A[w]=r[w]}),each$3(h,function(w){f(n,w)&&(v[w]=A[w]=n[w]),d(v,w)&&y++,d(A,w)&&_++}),o[g])return d(n,h[1])?A[h[2]]=null:d(n,h[2])&&(A[h[1]]=null),A;if(_===S||!y)return A;if(y>=S)return v;for(var b=0;b<h.length;b++){var T=h[b];if(!f(v,T)&&f(r,T)){v[T]=r[T];break}}return v}function f(h,g){return h.hasOwnProperty(g)}function d(h,g){return h[g]!=null&&h[g]!=="auto"}function p(h,g,v){each$3(h,function(y){g[y]=v[y]})}}function getLayoutParams(r){return copyLayoutParams({},r)}function copyLayoutParams(r,n){return n&&r&&each$3(LOCATION_PARAMS,function(i){n.hasOwnProperty(i)&&(r[i]=n[i])}),r}var inner$7=makeInner(),ComponentModel=function(r){__extends(n,r);function n(i,o,a){var u=r.call(this,i,o,a)||this;return u.uid=getUID("ec_cpt_model"),u}return n.prototype.init=function(i,o,a){this.mergeDefaultAndTheme(i,a)},n.prototype.mergeDefaultAndTheme=function(i,o){var a=fetchLayoutMode(this),u=a?getLayoutParams(i):{},c=o.getTheme();merge(i,c.get(this.mainType)),merge(i,this.getDefaultOption()),a&&mergeLayoutParam(i,u,a)},n.prototype.mergeOption=function(i,o){merge(this.option,i,!0);var a=fetchLayoutMode(this);a&&mergeLayoutParam(this.option,i,a)},n.prototype.optionUpdated=function(i,o){},n.prototype.getDefaultOption=function(){var i=this.constructor;if(!isExtendedClass(i))return i.defaultOption;var o=inner$7(this);if(!o.defaultOption){for(var a=[],u=i;u;){var c=u.prototype.defaultOption;c&&a.push(c),u=u.superClass}for(var f={},d=a.length-1;d>=0;d--)f=merge(f,a[d],!0);o.defaultOption=f}return o.defaultOption},n.prototype.getReferringComponents=function(i,o){var a=i+"Index",u=i+"Id";return queryReferringComponents(this.ecModel,i,{index:this.get(a,!0),id:this.get(u,!0)},o)},n.prototype.getBoxLayoutParams=function(){var i=this;return{left:i.get("left"),top:i.get("top"),right:i.get("right"),bottom:i.get("bottom"),width:i.get("width"),height:i.get("height")}},n.prototype.getZLevelKey=function(){return""},n.prototype.setZLevel=function(i){this.option.zlevel=i},n.protoInitialize=function(){var i=n.prototype;i.type="component",i.id="",i.name="",i.mainType="",i.subType="",i.componentIndex=0}(),n}(Model$1);mountExtend(ComponentModel,Model$1),enableClassManagement(ComponentModel),enableSubTypeDefaulter(ComponentModel),enableTopologicalTravel(ComponentModel,getDependencies);function getDependencies(r){var n=[];return each$4(ComponentModel.getClassesByMainType(r),function(i){n=n.concat(i.dependencies||i.prototype.dependencies||[])}),n=map$1(n,function(i){return parseClassType(i).main}),r!=="dataset"&&indexOf(n,"dataset")<=0&&n.unshift("dataset"),n}const ComponentModel$1=ComponentModel;var platform="";typeof navigator<"u"&&(platform=navigator.platform||"");var decalColor="rgba(0, 0, 0, 0.2)";const globalDefault={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:decalColor,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:decalColor,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:decalColor,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:decalColor,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:decalColor,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:decalColor,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:platform.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var VISUAL_DIMENSIONS=createHashMap(["tooltip","label","itemName","itemId","itemGroupId","seriesName"]),SOURCE_FORMAT_ORIGINAL="original",SOURCE_FORMAT_ARRAY_ROWS="arrayRows",SOURCE_FORMAT_OBJECT_ROWS="objectRows",SOURCE_FORMAT_KEYED_COLUMNS="keyedColumns",SOURCE_FORMAT_TYPED_ARRAY="typedArray",SOURCE_FORMAT_UNKNOWN="unknown",SERIES_LAYOUT_BY_COLUMN="column",SERIES_LAYOUT_BY_ROW="row",BE_ORDINAL={Must:1,Might:2,Not:3},innerGlobalModel=makeInner();function resetSourceDefaulter(r){innerGlobalModel(r).datasetMap=createHashMap()}function makeSeriesEncodeForNameBased(r,n,i){var o={},a=querySeriesUpstreamDatasetModel(r);if(!a)return o;var u=n.sourceFormat,c=n.dimensionsDefine,f;(u===SOURCE_FORMAT_OBJECT_ROWS||u===SOURCE_FORMAT_KEYED_COLUMNS)&&each$4(c,function(h,g){(isObject$3(h)?h.name:h)==="name"&&(f=g)});var d=function(){for(var h={},g={},v=[],y=0,A=Math.min(5,i);y<A;y++){var _=doGuessOrdinal(n.data,u,n.seriesLayoutBy,c,n.startIndex,y);v.push(_);var S=_===BE_ORDINAL.Not;if(S&&h.v==null&&y!==f&&(h.v=y),(h.n==null||h.n===h.v||!S&&v[h.n]===BE_ORDINAL.Not)&&(h.n=y),b(h)&&v[h.n]!==BE_ORDINAL.Not)return h;S||(_===BE_ORDINAL.Might&&g.v==null&&y!==f&&(g.v=y),(g.n==null||g.n===g.v)&&(g.n=y))}function b(T){return T.v!=null&&T.n!=null}return b(h)?h:b(g)?g:null}();if(d){o.value=[d.v];var p=f??d.n;o.itemName=[p],o.seriesName=[p]}return o}function querySeriesUpstreamDatasetModel(r){var n=r.get("data",!0);if(!n)return queryReferringComponents(r.ecModel,"dataset",{index:r.get("datasetIndex",!0),id:r.get("datasetId",!0)},SINGLE_REFERRING).models[0]}function queryDatasetUpstreamDatasetModels(r){return!r.get("transform",!0)&&!r.get("fromTransformResult",!0)?[]:queryReferringComponents(r.ecModel,"dataset",{index:r.get("fromDatasetIndex",!0),id:r.get("fromDatasetId",!0)},SINGLE_REFERRING).models}function guessOrdinal(r,n){return doGuessOrdinal(r.data,r.sourceFormat,r.seriesLayoutBy,r.dimensionsDefine,r.startIndex,n)}function doGuessOrdinal(r,n,i,o,a,u){var c,f=5;if(isTypedArray(r))return BE_ORDINAL.Not;var d,p;if(o){var h=o[u];isObject$3(h)?(d=h.name,p=h.type):isString$2(h)&&(d=h)}if(p!=null)return p==="ordinal"?BE_ORDINAL.Must:BE_ORDINAL.Not;if(n===SOURCE_FORMAT_ARRAY_ROWS){var g=r;if(i===SERIES_LAYOUT_BY_ROW){for(var v=g[u],y=0;y<(v||[]).length&&y<f;y++)if((c=x(v[a+y]))!=null)return c}else for(var y=0;y<g.length&&y<f;y++){var A=g[a+y];if(A&&(c=x(A[u]))!=null)return c}}else if(n===SOURCE_FORMAT_OBJECT_ROWS){var _=r;if(!d)return BE_ORDINAL.Not;for(var y=0;y<_.length&&y<f;y++){var S=_[y];if(S&&(c=x(S[d]))!=null)return c}}else if(n===SOURCE_FORMAT_KEYED_COLUMNS){var b=r;if(!d)return BE_ORDINAL.Not;var v=b[d];if(!v||isTypedArray(v))return BE_ORDINAL.Not;for(var y=0;y<v.length&&y<f;y++)if((c=x(v[y]))!=null)return c}else if(n===SOURCE_FORMAT_ORIGINAL)for(var T=r,y=0;y<T.length&&y<f;y++){var S=T[y],w=getDataItemValue(S);if(!isArray$1(w))return BE_ORDINAL.Not;if((c=x(w[u]))!=null)return c}function x(k){var M=isString$2(k);if(k!=null&&isFinite(k)&&k!=="")return M?BE_ORDINAL.Might:BE_ORDINAL.Not;if(M&&k!=="-")return BE_ORDINAL.Must}return BE_ORDINAL.Not}var internalOptionCreatorMap=createHashMap();function concatInternalOptions(r,n,i){var o=internalOptionCreatorMap.get(n);if(!o)return i;var a=o(r);if(!a)return i;if(process.env.NODE_ENV!=="production")for(var u=0;u<a.length;u++)assert(isComponentIdInternal(a[u]));return i.concat(a)}var innerColor=makeInner();makeInner();var PaletteMixin=function(){function r(){}return r.prototype.getColorFromPalette=function(n,i,o){var a=normalizeToArray(this.get("color",!0)),u=this.get("colorLayer",!0);return getFromPalette(this,innerColor,a,u,n,i,o)},r.prototype.clearColorPalette=function(){clearPalette(this,innerColor)},r}();function getNearestPalette(r,n){for(var i=r.length,o=0;o<i;o++)if(r[o].length>n)return r[o];return r[i-1]}function getFromPalette(r,n,i,o,a,u,c){u=u||r;var f=n(u),d=f.paletteIdx||0,p=f.paletteNameMap=f.paletteNameMap||{};if(p.hasOwnProperty(a))return p[a];var h=c==null||!o?i:getNearestPalette(o,c);if(h=h||i,!(!h||!h.length)){var g=h[d];return a&&(p[a]=g),f.paletteIdx=(d+1)%h.length,g}}function clearPalette(r,n){n(r).paletteIdx=0,n(r).paletteNameMap={}}var reCreateSeriesIndices,assertSeriesInitialized,initBase,OPTION_INNER_KEY="\0_ec_inner",OPTION_INNER_VALUE=1,BUITIN_COMPONENTS_MAP={grid:"GridComponent",polar:"PolarComponent",geo:"GeoComponent",singleAxis:"SingleAxisComponent",parallel:"ParallelComponent",calendar:"CalendarComponent",graphic:"GraphicComponent",toolbox:"ToolboxComponent",tooltip:"TooltipComponent",axisPointer:"AxisPointerComponent",brush:"BrushComponent",title:"TitleComponent",timeline:"TimelineComponent",markPoint:"MarkPointComponent",markLine:"MarkLineComponent",markArea:"MarkAreaComponent",legend:"LegendComponent",dataZoom:"DataZoomComponent",visualMap:"VisualMapComponent",xAxis:"GridComponent",yAxis:"GridComponent",angleAxis:"PolarComponent",radiusAxis:"PolarComponent"},BUILTIN_CHARTS_MAP={line:"LineChart",bar:"BarChart",pie:"PieChart",scatter:"ScatterChart",radar:"RadarChart",map:"MapChart",tree:"TreeChart",treemap:"TreemapChart",graph:"GraphChart",gauge:"GaugeChart",funnel:"FunnelChart",parallel:"ParallelChart",sankey:"SankeyChart",boxplot:"BoxplotChart",candlestick:"CandlestickChart",effectScatter:"EffectScatterChart",lines:"LinesChart",heatmap:"HeatmapChart",pictorialBar:"PictorialBarChart",themeRiver:"ThemeRiverChart",sunburst:"SunburstChart",custom:"CustomChart"},componetsMissingLogPrinted={};function checkMissingComponents(r){each$4(r,function(n,i){if(!ComponentModel$1.hasClass(i)){var o=BUITIN_COMPONENTS_MAP[i];o&&!componetsMissingLogPrinted[o]&&(error("Component "+i+` is used but not imported.
import { `+o+` } from 'echarts/components';
echarts.use([`+o+"]);"),componetsMissingLogPrinted[o]=!0)}})}var GlobalModel=function(r){__extends(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return n.prototype.init=function(i,o,a,u,c,f){u=u||{},this.option=null,this._theme=new Model$1(u),this._locale=new Model$1(c),this._optionManager=f},n.prototype.setOption=function(i,o,a){process.env.NODE_ENV!=="production"&&(assert(i!=null,"option is null/undefined"),assert(i[OPTION_INNER_KEY]!==OPTION_INNER_VALUE,"please use chart.getOption()"));var u=normalizeSetOptionInput(o);this._optionManager.setOption(i,a,u),this._resetOption(null,u)},n.prototype.resetOption=function(i,o){return this._resetOption(i,normalizeSetOptionInput(o))},n.prototype._resetOption=function(i,o){var a=!1,u=this._optionManager;if(!i||i==="recreate"){var c=u.mountOption(i==="recreate");process.env.NODE_ENV!=="production"&&checkMissingComponents(c),!this.option||i==="recreate"?initBase(this,c):(this.restoreData(),this._mergeOption(c,o)),a=!0}if((i==="timeline"||i==="media")&&this.restoreData(),!i||i==="recreate"||i==="timeline"){var f=u.getTimelineOption(this);f&&(a=!0,this._mergeOption(f,o))}if(!i||i==="recreate"||i==="media"){var d=u.getMediaOption(this);d.length&&each$4(d,function(p){a=!0,this._mergeOption(p,o)},this)}return a},n.prototype.mergeOption=function(i){this._mergeOption(i,null)},n.prototype._mergeOption=function(i,o){var a=this.option,u=this._componentsMap,c=this._componentsCount,f=[],d=createHashMap(),p=o&&o.replaceMergeMainTypeMap;resetSourceDefaulter(this),each$4(i,function(g,v){g!=null&&(ComponentModel$1.hasClass(v)?v&&(f.push(v),d.set(v,!0)):a[v]=a[v]==null?clone$2(g):merge(a[v],g,!0))}),p&&p.each(function(g,v){ComponentModel$1.hasClass(v)&&!d.get(v)&&(f.push(v),d.set(v,!0))}),ComponentModel$1.topologicalTravel(f,ComponentModel$1.getAllClassMainTypes(),h,this);function h(g){var v=concatInternalOptions(this,g,normalizeToArray(i[g])),y=u.get(g),A=y?p&&p.get(g)?"replaceMerge":"normalMerge":"replaceAll",_=mappingToExists(y,v,A);setComponentTypeToKeyInfo(_,g,ComponentModel$1),a[g]=null,u.set(g,null),c.set(g,0);var S=[],b=[],T=0,w,x;each$4(_,function(k,M){var D=k.existing,z=k.newOption;if(!z)D&&(D.mergeOption({},this),D.optionUpdated({},!1));else{var j=g==="series",oe=ComponentModel$1.getClass(g,k.keyInfo.subType,!j);if(!oe){if(process.env.NODE_ENV!=="production"){var L=k.keyInfo.subType,F=BUILTIN_CHARTS_MAP[L];componetsMissingLogPrinted[L]||(componetsMissingLogPrinted[L]=!0,error(F?"Series "+L+` is used but not imported.
import { `+F+` } from 'echarts/charts';
echarts.use([`+F+"]);":"Unknown series "+L))}return}if(g==="tooltip"){if(w){process.env.NODE_ENV!=="production"&&(x||(warn("Currently only one tooltip component is allowed."),x=!0));return}w=!0}if(D&&D.constructor===oe)D.name=k.keyInfo.name,D.mergeOption(z,this),D.optionUpdated(z,!1);else{var O=extend({componentIndex:M},k.keyInfo);D=new oe(z,this,this,O),extend(D,O),k.brandNew&&(D.__requireNewView=!0),D.init(z,this,this),D.optionUpdated(null,!0)}}D?(S.push(D.option),b.push(D),T++):(S.push(void 0),b.push(void 0))},this),a[g]=S,u.set(g,b),c.set(g,T),g==="series"&&reCreateSeriesIndices(this)}this._seriesIndices||reCreateSeriesIndices(this)},n.prototype.getOption=function(){var i=clone$2(this.option);return each$4(i,function(o,a){if(ComponentModel$1.hasClass(a)){for(var u=normalizeToArray(o),c=u.length,f=!1,d=c-1;d>=0;d--)u[d]&&!isComponentIdInternal(u[d])?f=!0:(u[d]=null,!f&&c--);u.length=c,i[a]=u}}),delete i[OPTION_INNER_KEY],i},n.prototype.getTheme=function(){return this._theme},n.prototype.getLocaleModel=function(){return this._locale},n.prototype.setUpdatePayload=function(i){this._payload=i},n.prototype.getUpdatePayload=function(){return this._payload},n.prototype.getComponent=function(i,o){var a=this._componentsMap.get(i);if(a){var u=a[o||0];if(u)return u;if(o==null){for(var c=0;c<a.length;c++)if(a[c])return a[c]}}},n.prototype.queryComponents=function(i){var o=i.mainType;if(!o)return[];var a=i.index,u=i.id,c=i.name,f=this._componentsMap.get(o);if(!f||!f.length)return[];var d;return a!=null?(d=[],each$4(normalizeToArray(a),function(p){f[p]&&d.push(f[p])})):u!=null?d=queryByIdOrName("id",u,f):c!=null?d=queryByIdOrName("name",c,f):d=filter(f,function(p){return!!p}),filterBySubType(d,i)},n.prototype.findComponents=function(i){var o=i.query,a=i.mainType,u=f(o),c=u?this.queryComponents(u):filter(this._componentsMap.get(a),function(p){return!!p});return d(filterBySubType(c,i));function f(p){var h=a+"Index",g=a+"Id",v=a+"Name";return p&&(p[h]!=null||p[g]!=null||p[v]!=null)?{mainType:a,index:p[h],id:p[g],name:p[v]}:null}function d(p){return i.filter?filter(p,i.filter):p}},n.prototype.eachComponent=function(i,o,a){var u=this._componentsMap;if(isFunction$1(i)){var c=o,f=i;u.each(function(g,v){for(var y=0;g&&y<g.length;y++){var A=g[y];A&&f.call(c,v,A,A.componentIndex)}})}else for(var d=isString$2(i)?u.get(i):isObject$3(i)?this.findComponents(i):null,p=0;d&&p<d.length;p++){var h=d[p];h&&o.call(a,h,h.componentIndex)}},n.prototype.getSeriesByName=function(i){var o=convertOptionIdName(i,null);return filter(this._componentsMap.get("series"),function(a){return!!a&&o!=null&&a.name===o})},n.prototype.getSeriesByIndex=function(i){return this._componentsMap.get("series")[i]},n.prototype.getSeriesByType=function(i){return filter(this._componentsMap.get("series"),function(o){return!!o&&o.subType===i})},n.prototype.getSeries=function(){return filter(this._componentsMap.get("series"),function(i){return!!i})},n.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},n.prototype.eachSeries=function(i,o){assertSeriesInitialized(this),each$4(this._seriesIndices,function(a){var u=this._componentsMap.get("series")[a];i.call(o,u,a)},this)},n.prototype.eachRawSeries=function(i,o){each$4(this._componentsMap.get("series"),function(a){a&&i.call(o,a,a.componentIndex)})},n.prototype.eachSeriesByType=function(i,o,a){assertSeriesInitialized(this),each$4(this._seriesIndices,function(u){var c=this._componentsMap.get("series")[u];c.subType===i&&o.call(a,c,u)},this)},n.prototype.eachRawSeriesByType=function(i,o,a){return each$4(this.getSeriesByType(i),o,a)},n.prototype.isSeriesFiltered=function(i){return assertSeriesInitialized(this),this._seriesIndicesMap.get(i.componentIndex)==null},n.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},n.prototype.filterSeries=function(i,o){assertSeriesInitialized(this);var a=[];each$4(this._seriesIndices,function(u){var c=this._componentsMap.get("series")[u];i.call(o,c,u)&&a.push(u)},this),this._seriesIndices=a,this._seriesIndicesMap=createHashMap(a)},n.prototype.restoreData=function(i){reCreateSeriesIndices(this);var o=this._componentsMap,a=[];o.each(function(u,c){ComponentModel$1.hasClass(c)&&a.push(c)}),ComponentModel$1.topologicalTravel(a,ComponentModel$1.getAllClassMainTypes(),function(u){each$4(o.get(u),function(c){c&&(u!=="series"||!isNotTargetSeries(c,i))&&c.restoreData()})})},n.internalField=function(){reCreateSeriesIndices=function(i){var o=i._seriesIndices=[];each$4(i._componentsMap.get("series"),function(a){a&&o.push(a.componentIndex)}),i._seriesIndicesMap=createHashMap(o)},assertSeriesInitialized=function(i){if(process.env.NODE_ENV!=="production"&&!i._seriesIndices)throw new Error("Option should contains series.")},initBase=function(i,o){i.option={},i.option[OPTION_INNER_KEY]=OPTION_INNER_VALUE,i._componentsMap=createHashMap({series:[]}),i._componentsCount=createHashMap();var a=o.aria;isObject$3(a)&&a.enabled==null&&(a.enabled=!0),mergeTheme(o,i._theme.option),merge(o,globalDefault,!1),i._mergeOption(o,null)}}(),n}(Model$1);function isNotTargetSeries(r,n){if(n){var i=n.seriesIndex,o=n.seriesId,a=n.seriesName;return i!=null&&r.componentIndex!==i||o!=null&&r.id!==o||a!=null&&r.name!==a}}function mergeTheme(r,n){var i=r.color&&!r.colorLayer;each$4(n,function(o,a){a==="colorLayer"&&i||ComponentModel$1.hasClass(a)||(typeof o=="object"?r[a]=r[a]?merge(r[a],o,!1):clone$2(o):r[a]==null&&(r[a]=o))})}function queryByIdOrName(r,n,i){if(isArray$1(n)){var o=createHashMap();return each$4(n,function(u){if(u!=null){var c=convertOptionIdName(u,null);c!=null&&o.set(u,!0)}}),filter(i,function(u){return u&&o.get(u[r])})}else{var a=convertOptionIdName(n,null);return filter(i,function(u){return u&&a!=null&&u[r]===a})}}function filterBySubType(r,n){return n.hasOwnProperty("subType")?filter(r,function(i){return i&&i.subType===n.subType}):r}function normalizeSetOptionInput(r){var n=createHashMap();return r&&each$4(normalizeToArray(r.replaceMerge),function(i){process.env.NODE_ENV!=="production"&&assert(ComponentModel$1.hasClass(i),'"'+i+'" is not valid component main type in "replaceMerge"'),n.set(i,!0)}),{replaceMergeMainTypeMap:n}}mixin(GlobalModel,PaletteMixin);const GlobalModel$1=GlobalModel;var availableMethods=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],ExtensionAPI=function(){function r(n){each$4(availableMethods,function(i){this[i]=bind$1(n[i],n)},this)}return r}();const ExtensionAPI$1=ExtensionAPI;var coordinateSystemCreators={},CoordinateSystemManager=function(){function r(){this._coordinateSystems=[]}return r.prototype.create=function(n,i){var o=[];each$4(coordinateSystemCreators,function(a,u){var c=a.create(n,i);o=o.concat(c||[])}),this._coordinateSystems=o},r.prototype.update=function(n,i){each$4(this._coordinateSystems,function(o){o.update&&o.update(n,i)})},r.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},r.register=function(n,i){coordinateSystemCreators[n]=i},r.get=function(n){return coordinateSystemCreators[n]},r}();const CoordinateSystem=CoordinateSystemManager;var QUERY_REG=/^(min|max)?(.+)$/,OptionManager=function(){function r(n){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=n}return r.prototype.setOption=function(n,i,o){n&&(each$4(normalizeToArray(n.series),function(c){c&&c.data&&isTypedArray(c.data)&&setAsPrimitive(c.data)}),each$4(normalizeToArray(n.dataset),function(c){c&&c.source&&isTypedArray(c.source)&&setAsPrimitive(c.source)})),n=clone$2(n);var a=this._optionBackup,u=parseRawOption(n,i,!a);this._newBaseOption=u.baseOption,a?(u.timelineOptions.length&&(a.timelineOptions=u.timelineOptions),u.mediaList.length&&(a.mediaList=u.mediaList),u.mediaDefault&&(a.mediaDefault=u.mediaDefault)):this._optionBackup=u},r.prototype.mountOption=function(n){var i=this._optionBackup;return this._timelineOptions=i.timelineOptions,this._mediaList=i.mediaList,this._mediaDefault=i.mediaDefault,this._currentMediaIndices=[],clone$2(n?i.baseOption:this._newBaseOption)},r.prototype.getTimelineOption=function(n){var i,o=this._timelineOptions;if(o.length){var a=n.getComponent("timeline");a&&(i=clone$2(o[a.getCurrentIndex()]))}return i},r.prototype.getMediaOption=function(n){var i=this._api.getWidth(),o=this._api.getHeight(),a=this._mediaList,u=this._mediaDefault,c=[],f=[];if(!a.length&&!u)return f;for(var d=0,p=a.length;d<p;d++)applyMediaQuery(a[d].query,i,o)&&c.push(d);return!c.length&&u&&(c=[-1]),c.length&&!indicesEquals(c,this._currentMediaIndices)&&(f=map$1(c,function(h){return clone$2(h===-1?u.option:a[h].option)})),this._currentMediaIndices=c,f},r}();function parseRawOption(r,n,i){var o=[],a,u,c=r.baseOption,f=r.timeline,d=r.options,p=r.media,h=!!r.media,g=!!(d||f||c&&c.timeline);c?(u=c,u.timeline||(u.timeline=f)):((g||h)&&(r.options=r.media=null),u=r),h&&(isArray$1(p)?each$4(p,function(y){process.env.NODE_ENV!=="production"&&y&&!y.option&&isObject$3(y.query)&&isObject$3(y.query.option)&&error("Illegal media option. Must be like { media: [ { query: {}, option: {} } ] }"),y&&y.option&&(y.query?o.push(y):a||(a=y))}):process.env.NODE_ENV!=="production"&&error("Illegal media option. Must be an array. Like { media: [ {...}, {...} ] }")),v(u),each$4(d,function(y){return v(y)}),each$4(o,function(y){return v(y.option)});function v(y){each$4(n,function(A){A(y,i)})}return{baseOption:u,timelineOptions:d||[],mediaDefault:a,mediaList:o}}function applyMediaQuery(r,n,i){var o={width:n,height:i,aspectratio:n/i},a=!0;return each$4(r,function(u,c){var f=c.match(QUERY_REG);if(!(!f||!f[1]||!f[2])){var d=f[1],p=f[2].toLowerCase();compare(o[p],u,d)||(a=!1)}}),a}function compare(r,n,i){return i==="min"?r>=n:i==="max"?r<=n:r===n}function indicesEquals(r,n){return r.join(",")===n.join(",")}const OptionManager$1=OptionManager;var each$2=each$4,isObject$2=isObject$3,POSSIBLE_STYLES=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function compatEC2ItemStyle(r){var n=r&&r.itemStyle;if(n)for(var i=0,o=POSSIBLE_STYLES.length;i<o;i++){var a=POSSIBLE_STYLES[i],u=n.normal,c=n.emphasis;u&&u[a]&&(process.env.NODE_ENV!=="production"&&deprecateReplaceLog("itemStyle.normal."+a,a),r[a]=r[a]||{},r[a].normal?merge(r[a].normal,u[a]):r[a].normal=u[a],u[a]=null),c&&c[a]&&(process.env.NODE_ENV!=="production"&&deprecateReplaceLog("itemStyle.emphasis."+a,"emphasis."+a),r[a]=r[a]||{},r[a].emphasis?merge(r[a].emphasis,c[a]):r[a].emphasis=c[a],c[a]=null)}}function convertNormalEmphasis(r,n,i){if(r&&r[n]&&(r[n].normal||r[n].emphasis)){var o=r[n].normal,a=r[n].emphasis;o&&(process.env.NODE_ENV!=="production"&&deprecateLog("'normal' hierarchy in "+n+" has been removed since 4.0. All style properties are configured in "+n+" directly now."),i?(r[n].normal=r[n].emphasis=null,defaults(r[n],o)):r[n]=o),a&&(process.env.NODE_ENV!=="production"&&deprecateLog(n+".emphasis has been changed to emphasis."+n+" since 4.0"),r.emphasis=r.emphasis||{},r.emphasis[n]=a,a.focus&&(r.emphasis.focus=a.focus),a.blurScope&&(r.emphasis.blurScope=a.blurScope))}}function removeEC3NormalStatus(r){convertNormalEmphasis(r,"itemStyle"),convertNormalEmphasis(r,"lineStyle"),convertNormalEmphasis(r,"areaStyle"),convertNormalEmphasis(r,"label"),convertNormalEmphasis(r,"labelLine"),convertNormalEmphasis(r,"upperLabel"),convertNormalEmphasis(r,"edgeLabel")}function compatTextStyle(r,n){var i=isObject$2(r)&&r[n],o=isObject$2(i)&&i.textStyle;if(o){process.env.NODE_ENV!=="production"&&deprecateLog("textStyle hierarchy in "+n+" has been removed since 4.0. All textStyle properties are configured in "+n+" directly now.");for(var a=0,u=TEXT_STYLE_OPTIONS.length;a<u;a++){var c=TEXT_STYLE_OPTIONS[a];o.hasOwnProperty(c)&&(i[c]=o[c])}}}function compatEC3CommonStyles(r){r&&(removeEC3NormalStatus(r),compatTextStyle(r,"label"),r.emphasis&&compatTextStyle(r.emphasis,"label"))}function processSeries(r){if(isObject$2(r)){compatEC2ItemStyle(r),removeEC3NormalStatus(r),compatTextStyle(r,"label"),compatTextStyle(r,"upperLabel"),compatTextStyle(r,"edgeLabel"),r.emphasis&&(compatTextStyle(r.emphasis,"label"),compatTextStyle(r.emphasis,"upperLabel"),compatTextStyle(r.emphasis,"edgeLabel"));var n=r.markPoint;n&&(compatEC2ItemStyle(n),compatEC3CommonStyles(n));var i=r.markLine;i&&(compatEC2ItemStyle(i),compatEC3CommonStyles(i));var o=r.markArea;o&&compatEC3CommonStyles(o);var a=r.data;if(r.type==="graph"){a=a||r.nodes;var u=r.links||r.edges;if(u&&!isTypedArray(u))for(var c=0;c<u.length;c++)compatEC3CommonStyles(u[c]);each$4(r.categories,function(p){removeEC3NormalStatus(p)})}if(a&&!isTypedArray(a))for(var c=0;c<a.length;c++)compatEC3CommonStyles(a[c]);if(n=r.markPoint,n&&n.data)for(var f=n.data,c=0;c<f.length;c++)compatEC3CommonStyles(f[c]);if(i=r.markLine,i&&i.data)for(var d=i.data,c=0;c<d.length;c++)isArray$1(d[c])?(compatEC3CommonStyles(d[c][0]),compatEC3CommonStyles(d[c][1])):compatEC3CommonStyles(d[c]);r.type==="gauge"?(compatTextStyle(r,"axisLabel"),compatTextStyle(r,"title"),compatTextStyle(r,"detail")):r.type==="treemap"?(convertNormalEmphasis(r.breadcrumb,"itemStyle"),each$4(r.levels,function(p){removeEC3NormalStatus(p)})):r.type==="tree"&&removeEC3NormalStatus(r.leaves)}}function toArr(r){return isArray$1(r)?r:r?[r]:[]}function toObj(r){return(isArray$1(r)?r[0]:r)||{}}function globalCompatStyle(r,n){each$2(toArr(r.series),function(o){isObject$2(o)&&processSeries(o)});var i=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];n&&i.push("valueAxis","categoryAxis","logAxis","timeAxis"),each$2(i,function(o){each$2(toArr(r[o]),function(a){a&&(compatTextStyle(a,"axisLabel"),compatTextStyle(a.axisPointer,"label"))})}),each$2(toArr(r.parallel),function(o){var a=o&&o.parallelAxisDefault;compatTextStyle(a,"axisLabel"),compatTextStyle(a&&a.axisPointer,"label")}),each$2(toArr(r.calendar),function(o){convertNormalEmphasis(o,"itemStyle"),compatTextStyle(o,"dayLabel"),compatTextStyle(o,"monthLabel"),compatTextStyle(o,"yearLabel")}),each$2(toArr(r.radar),function(o){compatTextStyle(o,"name"),o.name&&o.axisName==null&&(o.axisName=o.name,delete o.name,process.env.NODE_ENV!=="production"&&deprecateLog("name property in radar component has been changed to axisName")),o.nameGap!=null&&o.axisNameGap==null&&(o.axisNameGap=o.nameGap,delete o.nameGap,process.env.NODE_ENV!=="production"&&deprecateLog("nameGap property in radar component has been changed to axisNameGap")),process.env.NODE_ENV!=="production"&&each$2(o.indicator,function(a){a.text&&deprecateReplaceLog("text","name","radar.indicator")})}),each$2(toArr(r.geo),function(o){isObject$2(o)&&(compatEC3CommonStyles(o),each$2(toArr(o.regions),function(a){compatEC3CommonStyles(a)}))}),each$2(toArr(r.timeline),function(o){compatEC3CommonStyles(o),convertNormalEmphasis(o,"label"),convertNormalEmphasis(o,"itemStyle"),convertNormalEmphasis(o,"controlStyle",!0);var a=o.data;isArray$1(a)&&each$4(a,function(u){isObject$3(u)&&(convertNormalEmphasis(u,"label"),convertNormalEmphasis(u,"itemStyle"))})}),each$2(toArr(r.toolbox),function(o){convertNormalEmphasis(o,"iconStyle"),each$2(o.feature,function(a){convertNormalEmphasis(a,"iconStyle")})}),compatTextStyle(toObj(r.axisPointer),"label"),compatTextStyle(toObj(r.tooltip).axisPointer,"label")}function get(r,n){for(var i=n.split(","),o=r,a=0;a<i.length&&(o=o&&o[i[a]],o!=null);a++);return o}function set(r,n,i,o){for(var a=n.split(","),u=r,c,f=0;f<a.length-1;f++)c=a[f],u[c]==null&&(u[c]={}),u=u[c];(o||u[a[f]]==null)&&(u[a[f]]=i)}function compatLayoutProperties(r){r&&each$4(LAYOUT_PROPERTIES,function(n){n[0]in r&&!(n[1]in r)&&(r[n[1]]=r[n[0]])})}var LAYOUT_PROPERTIES=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],COMPATITABLE_COMPONENTS=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],BAR_ITEM_STYLE_MAP=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function compatBarItemStyle(r){var n=r&&r.itemStyle;if(n)for(var i=0;i<BAR_ITEM_STYLE_MAP.length;i++){var o=BAR_ITEM_STYLE_MAP[i][1],a=BAR_ITEM_STYLE_MAP[i][0];n[o]!=null&&(n[a]=n[o],process.env.NODE_ENV!=="production"&&deprecateReplaceLog(o,a))}}function compatPieLabel(r){r&&r.alignTo==="edge"&&r.margin!=null&&r.edgeDistance==null&&(process.env.NODE_ENV!=="production"&&deprecateReplaceLog("label.margin","label.edgeDistance","pie"),r.edgeDistance=r.margin)}function compatSunburstState(r){r&&r.downplay&&!r.blur&&(r.blur=r.downplay,process.env.NODE_ENV!=="production"&&deprecateReplaceLog("downplay","blur","sunburst"))}function compatGraphFocus(r){r&&r.focusNodeAdjacency!=null&&(r.emphasis=r.emphasis||{},r.emphasis.focus==null&&(process.env.NODE_ENV!=="production"&&deprecateReplaceLog("focusNodeAdjacency","emphasis: { focus: 'adjacency'}","graph/sankey"),r.emphasis.focus="adjacency"))}function traverseTree(r,n){if(r)for(var i=0;i<r.length;i++)n(r[i]),r[i]&&traverseTree(r[i].children,n)}function globalBackwardCompat(r,n){globalCompatStyle(r,n),r.series=normalizeToArray(r.series),each$4(r.series,function(i){if(isObject$3(i)){var o=i.type;if(o==="line")i.clipOverflow!=null&&(i.clip=i.clipOverflow,process.env.NODE_ENV!=="production"&&deprecateReplaceLog("clipOverflow","clip","line"));else if(o==="pie"||o==="gauge"){i.clockWise!=null&&(i.clockwise=i.clockWise,process.env.NODE_ENV!=="production"&&deprecateReplaceLog("clockWise","clockwise")),compatPieLabel(i.label);var a=i.data;if(a&&!isTypedArray(a))for(var u=0;u<a.length;u++)compatPieLabel(a[u]);i.hoverOffset!=null&&(i.emphasis=i.emphasis||{},(i.emphasis.scaleSize=null)&&(process.env.NODE_ENV!=="production"&&deprecateReplaceLog("hoverOffset","emphasis.scaleSize"),i.emphasis.scaleSize=i.hoverOffset))}else if(o==="gauge"){var c=get(i,"pointer.color");c!=null&&set(i,"itemStyle.color",c)}else if(o==="bar"){compatBarItemStyle(i),compatBarItemStyle(i.backgroundStyle),compatBarItemStyle(i.emphasis);var a=i.data;if(a&&!isTypedArray(a))for(var u=0;u<a.length;u++)typeof a[u]=="object"&&(compatBarItemStyle(a[u]),compatBarItemStyle(a[u]&&a[u].emphasis))}else if(o==="sunburst"){var f=i.highlightPolicy;f&&(i.emphasis=i.emphasis||{},i.emphasis.focus||(i.emphasis.focus=f,process.env.NODE_ENV!=="production"&&deprecateReplaceLog("highlightPolicy","emphasis.focus","sunburst"))),compatSunburstState(i),traverseTree(i.data,compatSunburstState)}else o==="graph"||o==="sankey"?compatGraphFocus(i):o==="map"&&(i.mapType&&!i.map&&(process.env.NODE_ENV!=="production"&&deprecateReplaceLog("mapType","map","map"),i.map=i.mapType),i.mapLocation&&(process.env.NODE_ENV!=="production"&&deprecateLog("`mapLocation` is not used anymore."),defaults(i,i.mapLocation)));i.hoverAnimation!=null&&(i.emphasis=i.emphasis||{},i.emphasis&&i.emphasis.scale==null&&(process.env.NODE_ENV!=="production"&&deprecateReplaceLog("hoverAnimation","emphasis.scale"),i.emphasis.scale=i.hoverAnimation)),compatLayoutProperties(i)}}),r.dataRange&&(r.visualMap=r.dataRange),each$4(COMPATITABLE_COMPONENTS,function(i){var o=r[i];o&&(isArray$1(o)||(o=[o]),each$4(o,function(a){compatLayoutProperties(a)}))})}function dataStack(r){var n=createHashMap();r.eachSeries(function(i){var o=i.get("stack");if(o){var a=n.get(o)||n.set(o,[]),u=i.getData(),c={stackResultDimension:u.getCalculationInfo("stackResultDimension"),stackedOverDimension:u.getCalculationInfo("stackedOverDimension"),stackedDimension:u.getCalculationInfo("stackedDimension"),stackedByDimension:u.getCalculationInfo("stackedByDimension"),isStackedByIndex:u.getCalculationInfo("isStackedByIndex"),data:u,seriesModel:i};if(!c.stackedDimension||!(c.isStackedByIndex||c.stackedByDimension))return;a.length&&u.setCalculationInfo("stackedOnSeries",a[a.length-1].seriesModel),a.push(c)}}),n.each(calculateStack)}function calculateStack(r){each$4(r,function(n,i){var o=[],a=[NaN,NaN],u=[n.stackResultDimension,n.stackedOverDimension],c=n.data,f=n.isStackedByIndex,d=n.seriesModel.get("stackStrategy")||"samesign";c.modify(u,function(p,h,g){var v=c.get(n.stackedDimension,g);if(isNaN(v))return a;var y,A;f?A=c.getRawIndex(g):y=c.get(n.stackedByDimension,g);for(var _=NaN,S=i-1;S>=0;S--){var b=r[S];if(f||(A=b.data.rawIndexOf(b.stackedByDimension,y)),A>=0){var T=b.data.getByRawIndex(b.stackResultDimension,A);if(d==="all"||d==="positive"&&T>0||d==="negative"&&T<0||d==="samesign"&&v>=0&&T>0||d==="samesign"&&v<=0&&T<0){v=addSafe(v,T),_=T;break}}}return o[0]=v,o[1]=_,o})})}var SourceImpl=function(){function r(n){this.data=n.data||(n.sourceFormat===SOURCE_FORMAT_KEYED_COLUMNS?{}:[]),this.sourceFormat=n.sourceFormat||SOURCE_FORMAT_UNKNOWN,this.seriesLayoutBy=n.seriesLayoutBy||SERIES_LAYOUT_BY_COLUMN,this.startIndex=n.startIndex||0,this.dimensionsDetectedCount=n.dimensionsDetectedCount,this.metaRawOption=n.metaRawOption;var i=this.dimensionsDefine=n.dimensionsDefine;if(i)for(var o=0;o<i.length;o++){var a=i[o];a.type==null&&guessOrdinal(this,o)===BE_ORDINAL.Must&&(a.type="ordinal")}}return r}();function isSourceInstance(r){return r instanceof SourceImpl}function createSource(r,n,i){i=i||detectSourceFormat(r);var o=n.seriesLayoutBy,a=determineSourceDimensions(r,i,o,n.sourceHeader,n.dimensions),u=new SourceImpl({data:r,sourceFormat:i,seriesLayoutBy:o,dimensionsDefine:a.dimensionsDefine,startIndex:a.startIndex,dimensionsDetectedCount:a.dimensionsDetectedCount,metaRawOption:clone$2(n)});return u}function createSourceFromSeriesDataOption(r){return new SourceImpl({data:r,sourceFormat:isTypedArray(r)?SOURCE_FORMAT_TYPED_ARRAY:SOURCE_FORMAT_ORIGINAL})}function cloneSourceShallow(r){return new SourceImpl({data:r.data,sourceFormat:r.sourceFormat,seriesLayoutBy:r.seriesLayoutBy,dimensionsDefine:clone$2(r.dimensionsDefine),startIndex:r.startIndex,dimensionsDetectedCount:r.dimensionsDetectedCount})}function detectSourceFormat(r){var n=SOURCE_FORMAT_UNKNOWN;if(isTypedArray(r))n=SOURCE_FORMAT_TYPED_ARRAY;else if(isArray$1(r)){r.length===0&&(n=SOURCE_FORMAT_ARRAY_ROWS);for(var i=0,o=r.length;i<o;i++){var a=r[i];if(a!=null){if(isArray$1(a)){n=SOURCE_FORMAT_ARRAY_ROWS;break}else if(isObject$3(a)){n=SOURCE_FORMAT_OBJECT_ROWS;break}}}}else if(isObject$3(r)){for(var u in r)if(hasOwn$1(r,u)&&isArrayLike(r[u])){n=SOURCE_FORMAT_KEYED_COLUMNS;break}}return n}function determineSourceDimensions(r,n,i,o,a){var u,c;if(!r)return{dimensionsDefine:normalizeDimensionsOption(a),startIndex:c,dimensionsDetectedCount:u};if(n===SOURCE_FORMAT_ARRAY_ROWS){var f=r;o==="auto"||o==null?arrayRowsTravelFirst(function(p){p!=null&&p!=="-"&&(isString$2(p)?c==null&&(c=1):c=0)},i,f,10):c=isNumber$1(o)?o:o?1:0,!a&&c===1&&(a=[],arrayRowsTravelFirst(function(p,h){a[h]=p!=null?p+"":""},i,f,1/0)),u=a?a.length:i===SERIES_LAYOUT_BY_ROW?f.length:f[0]?f[0].length:null}else if(n===SOURCE_FORMAT_OBJECT_ROWS)a||(a=objectRowsCollectDimensions(r));else if(n===SOURCE_FORMAT_KEYED_COLUMNS)a||(a=[],each$4(r,function(p,h){a.push(h)}));else if(n===SOURCE_FORMAT_ORIGINAL){var d=getDataItemValue(r[0]);u=isArray$1(d)&&d.length||1}else n===SOURCE_FORMAT_TYPED_ARRAY&&process.env.NODE_ENV!=="production"&&assert(!!a,"dimensions must be given if data is TypedArray.");return{startIndex:c,dimensionsDefine:normalizeDimensionsOption(a),dimensionsDetectedCount:u}}function objectRowsCollectDimensions(r){for(var n=0,i;n<r.length&&!(i=r[n++]););if(i){var o=[];return each$4(i,function(a,u){o.push(u)}),o}}function normalizeDimensionsOption(r){if(r){var n=createHashMap();return map$1(r,function(i,o){i=isObject$3(i)?i:{name:i};var a={name:i.name,displayName:i.displayName,type:i.type};if(a.name==null)return a;a.name+="",a.displayName==null&&(a.displayName=a.name);var u=n.get(a.name);return u?a.name+="-"+u.count++:n.set(a.name,{count:1}),a})}}function arrayRowsTravelFirst(r,n,i,o){if(n===SERIES_LAYOUT_BY_ROW)for(var a=0;a<i.length&&a<o;a++)r(i[a]?i[a][0]:null,a);else for(var u=i[0]||[],a=0;a<u.length&&a<o;a++)r(u[a],a)}function shouldRetrieveDataByName(r){var n=r.sourceFormat;return n===SOURCE_FORMAT_OBJECT_ROWS||n===SOURCE_FORMAT_KEYED_COLUMNS}var _a$1,_b,_c,providerMethods,mountMethods,DefaultDataProvider=function(){function r(n,i){var o=isSourceInstance(n)?n:createSourceFromSeriesDataOption(n);this._source=o;var a=this._data=o.data;if(o.sourceFormat===SOURCE_FORMAT_TYPED_ARRAY){if(process.env.NODE_ENV!=="production"&&i==null)throw new Error("Typed array data must specify dimension size");this._offset=0,this._dimSize=i,this._data=a}mountMethods(this,a,o)}return r.prototype.getSource=function(){return this._source},r.prototype.count=function(){return 0},r.prototype.getItem=function(n,i){},r.prototype.appendData=function(n){},r.prototype.clean=function(){},r.protoInitialize=function(){var n=r.prototype;n.pure=!1,n.persistent=!0}(),r.internalField=function(){var n;mountMethods=function(c,f,d){var p=d.sourceFormat,h=d.seriesLayoutBy,g=d.startIndex,v=d.dimensionsDefine,y=providerMethods[getMethodMapKey(p,h)];if(process.env.NODE_ENV!=="production"&&assert(y,"Invalide sourceFormat: "+p),extend(c,y),p===SOURCE_FORMAT_TYPED_ARRAY)c.getItem=i,c.count=a,c.fillStorage=o;else{var A=getRawSourceItemGetter(p,h);c.getItem=bind$1(A,null,f,g,v);var _=getRawSourceDataCounter(p,h);c.count=bind$1(_,null,f,g,v)}};var i=function(c,f){c=c-this._offset,f=f||[];for(var d=this._data,p=this._dimSize,h=p*c,g=0;g<p;g++)f[g]=d[h+g];return f},o=function(c,f,d,p){for(var h=this._data,g=this._dimSize,v=0;v<g;v++){for(var y=p[v],A=y[0]==null?1/0:y[0],_=y[1]==null?-1/0:y[1],S=f-c,b=d[v],T=0;T<S;T++){var w=h[T*g+v];b[c+T]=w,w<A&&(A=w),w>_&&(_=w)}y[0]=A,y[1]=_}},a=function(){return this._data?this._data.length/this._dimSize:0};providerMethods=(n={},n[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_COLUMN]={pure:!0,appendData:u},n[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_ROW]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},n[SOURCE_FORMAT_OBJECT_ROWS]={pure:!0,appendData:u},n[SOURCE_FORMAT_KEYED_COLUMNS]={pure:!0,appendData:function(c){var f=this._data;each$4(c,function(d,p){for(var h=f[p]||(f[p]=[]),g=0;g<(d||[]).length;g++)h.push(d[g])})}},n[SOURCE_FORMAT_ORIGINAL]={appendData:u},n[SOURCE_FORMAT_TYPED_ARRAY]={persistent:!1,pure:!0,appendData:function(c){process.env.NODE_ENV!=="production"&&assert(isTypedArray(c),"Added data must be TypedArray if data in initialization is TypedArray"),this._data=c},clean:function(){this._offset+=this.count(),this._data=null}},n);function u(c){for(var f=0;f<c.length;f++)this._data.push(c[f])}}(),r}(),getItemSimply=function(r,n,i,o){return r[o]},rawSourceItemGetterMap=(_a$1={},_a$1[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_COLUMN]=function(r,n,i,o){return r[o+n]},_a$1[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_ROW]=function(r,n,i,o,a){o+=n;for(var u=a||[],c=r,f=0;f<c.length;f++){var d=c[f];u[f]=d?d[o]:null}return u},_a$1[SOURCE_FORMAT_OBJECT_ROWS]=getItemSimply,_a$1[SOURCE_FORMAT_KEYED_COLUMNS]=function(r,n,i,o,a){for(var u=a||[],c=0;c<i.length;c++){var f=i[c].name;if(process.env.NODE_ENV!=="production"&&f==null)throw new Error;var d=r[f];u[c]=d?d[o]:null}return u},_a$1[SOURCE_FORMAT_ORIGINAL]=getItemSimply,_a$1);function getRawSourceItemGetter(r,n){var i=rawSourceItemGetterMap[getMethodMapKey(r,n)];return process.env.NODE_ENV!=="production"&&assert(i,'Do not support get item on "'+r+'", "'+n+'".'),i}var countSimply=function(r,n,i){return r.length},rawSourceDataCounterMap=(_b={},_b[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_COLUMN]=function(r,n,i){return Math.max(0,r.length-n)},_b[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_ROW]=function(r,n,i){var o=r[0];return o?Math.max(0,o.length-n):0},_b[SOURCE_FORMAT_OBJECT_ROWS]=countSimply,_b[SOURCE_FORMAT_KEYED_COLUMNS]=function(r,n,i){var o=i[0].name;if(process.env.NODE_ENV!=="production"&&o==null)throw new Error;var a=r[o];return a?a.length:0},_b[SOURCE_FORMAT_ORIGINAL]=countSimply,_b);function getRawSourceDataCounter(r,n){var i=rawSourceDataCounterMap[getMethodMapKey(r,n)];return process.env.NODE_ENV!=="production"&&assert(i,'Do not support count on "'+r+'", "'+n+'".'),i}var getRawValueSimply=function(r,n,i){return r[n]},rawSourceValueGetterMap=(_c={},_c[SOURCE_FORMAT_ARRAY_ROWS]=getRawValueSimply,_c[SOURCE_FORMAT_OBJECT_ROWS]=function(r,n,i){return r[i]},_c[SOURCE_FORMAT_KEYED_COLUMNS]=getRawValueSimply,_c[SOURCE_FORMAT_ORIGINAL]=function(r,n,i){var o=getDataItemValue(r);return o instanceof Array?o[n]:o},_c[SOURCE_FORMAT_TYPED_ARRAY]=getRawValueSimply,_c);function getRawSourceValueGetter(r){var n=rawSourceValueGetterMap[r];return process.env.NODE_ENV!=="production"&&assert(n,'Do not support get value on "'+r+'".'),n}function getMethodMapKey(r,n){return r===SOURCE_FORMAT_ARRAY_ROWS?r+"_"+n:r}function retrieveRawValue(r,n,i){if(r){var o=r.getRawDataItem(n);if(o!=null){var a=r.getStore(),u=a.getSource().sourceFormat;if(i!=null){var c=r.getDimensionIndex(i),f=a.getDimensionProperty(c);return getRawSourceValueGetter(u)(o,c,f)}else{var d=o;return u===SOURCE_FORMAT_ORIGINAL&&(d=getDataItemValue(o)),d}}}}var DIMENSION_LABEL_REG=/\{@(.+?)\}/g,DataFormatMixin=function(){function r(){}return r.prototype.getDataParams=function(n,i){var o=this.getData(i),a=this.getRawValue(n,i),u=o.getRawIndex(n),c=o.getName(n),f=o.getRawDataItem(n),d=o.getItemVisual(n,"style"),p=d&&d[o.getItemVisual(n,"drawType")||"fill"],h=d&&d.stroke,g=this.mainType,v=g==="series",y=o.userOutput&&o.userOutput.get();return{componentType:g,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:v?this.subType:null,seriesIndex:this.seriesIndex,seriesId:v?this.id:null,seriesName:v?this.name:null,name:c,dataIndex:u,data:f,dataType:i,value:a,color:p,borderColor:h,dimensionNames:y?y.fullDimensions:null,encode:y?y.encode:null,$vars:["seriesName","name","value"]}},r.prototype.getFormattedLabel=function(n,i,o,a,u,c){i=i||"normal";var f=this.getData(o),d=this.getDataParams(n,o);if(c&&(d.value=c.interpolatedValue),a!=null&&isArray$1(d.value)&&(d.value=d.value[a]),!u){var p=f.getItemModel(n);u=p.get(i==="normal"?["label","formatter"]:[i,"label","formatter"])}if(isFunction$1(u))return d.status=i,d.dimensionIndex=a,u(d);if(isString$2(u)){var h=formatTpl(u,d);return h.replace(DIMENSION_LABEL_REG,function(g,v){var y=v.length,A=v;A.charAt(0)==="["&&A.charAt(y-1)==="]"&&(A=+A.slice(1,y-1),process.env.NODE_ENV!=="production"&&isNaN(A)&&error("Invalide label formatter: @"+v+", only support @[0], @[1], @[2], ..."));var _=retrieveRawValue(f,n,A);if(c&&isArray$1(c.interpolatedValue)){var S=f.getDimensionIndex(A);S>=0&&(_=c.interpolatedValue[S])}return _!=null?_+"":""})}},r.prototype.getRawValue=function(n,i){return retrieveRawValue(this.getData(i),n)},r.prototype.formatTooltip=function(n,i,o){},r}();function normalizeTooltipFormatResult(r){var n,i;return isObject$3(r)?r.type?i=r:process.env.NODE_ENV!=="production"&&console.warn("The return type of `formatTooltip` is not supported: "+makePrintable(r)):n=r,{text:n,frag:i}}function createTask(r){return new Task(r)}var Task=function(){function r(n){n=n||{},this._reset=n.reset,this._plan=n.plan,this._count=n.count,this._onDirty=n.onDirty,this._dirty=!0}return r.prototype.perform=function(n){var i=this._upstream,o=n&&n.skip;if(this._dirty&&i){var a=this.context;a.data=a.outputData=i.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var u;this._plan&&!o&&(u=this._plan(this.context));var c=h(this._modBy),f=this._modDataCount||0,d=h(n&&n.modBy),p=n&&n.modDataCount||0;(c!==d||f!==p)&&(u="reset");function h(T){return!(T>=1)&&(T=1),T}var g;(this._dirty||u==="reset")&&(this._dirty=!1,g=this._doReset(o)),this._modBy=d,this._modDataCount=p;var v=n&&n.step;if(i?(process.env.NODE_ENV!=="production"&&assert(i._outputDueEnd!=null),this._dueEnd=i._outputDueEnd):(process.env.NODE_ENV!=="production"&&assert(!this._progress||this._count),this._dueEnd=this._count?this._count(this.context):1/0),this._progress){var y=this._dueIndex,A=Math.min(v!=null?this._dueIndex+v:1/0,this._dueEnd);if(!o&&(g||y<A)){var _=this._progress;if(isArray$1(_))for(var S=0;S<_.length;S++)this._doProgress(_[S],y,A,d,p);else this._doProgress(_,y,A,d,p)}this._dueIndex=A;var b=this._settedOutputEnd!=null?this._settedOutputEnd:A;process.env.NODE_ENV!=="production"&&assert(b>=this._outputDueEnd),this._outputDueEnd=b}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},r.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},r.prototype._doProgress=function(n,i,o,a,u){iterator.reset(i,o,a,u),this._callingProgress=n,this._callingProgress({start:i,end:o,count:o-i,next:iterator.next},this.context)},r.prototype._doReset=function(n){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var i,o;!n&&this._reset&&(i=this._reset(this.context),i&&i.progress&&(o=i.forceFirstProgress,i=i.progress),isArray$1(i)&&!i.length&&(i=null)),this._progress=i,this._modBy=this._modDataCount=null;var a=this._downstream;return a&&a.dirty(),o},r.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},r.prototype.pipe=function(n){process.env.NODE_ENV!=="production"&&assert(n&&!n._disposed&&n!==this),(this._downstream!==n||this._dirty)&&(this._downstream=n,n._upstream=this,n.dirty())},r.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},r.prototype.getUpstream=function(){return this._upstream},r.prototype.getDownstream=function(){return this._downstream},r.prototype.setOutputEnd=function(n){this._outputDueEnd=this._settedOutputEnd=n},r}(),iterator=function(){var r,n,i,o,a,u={reset:function(d,p,h,g){n=d,r=p,i=h,o=g,a=Math.ceil(o/i),u.next=i>1&&o>0?f:c}};return u;function c(){return n<r?n++:null}function f(){var d=n%a*i+Math.ceil(n/a),p=n>=r?null:d<o?d:n;return n++,p}}();function parseDataValue(r,n){var i=n&&n.type;return i==="ordinal"?r:(i==="time"&&!isNumber$1(r)&&r!=null&&r!=="-"&&(r=+parseDate(r)),r==null||r===""?NaN:+r)}createHashMap({number:function(r){return parseFloat(r)},time:function(r){return+parseDate(r)},trim:function(r){return isString$2(r)?trim(r):r}});var SortOrderComparator=function(){function r(n,i){var o=n==="desc";this._resultLT=o?1:-1,i==null&&(i=o?"min":"max"),this._incomparable=i==="min"?-1/0:1/0}return r.prototype.evaluate=function(n,i){var o=isNumber$1(n)?n:numericToNumber(n),a=isNumber$1(i)?i:numericToNumber(i),u=isNaN(o),c=isNaN(a);if(u&&(o=this._incomparable),c&&(a=this._incomparable),u&&c){var f=isString$2(n),d=isString$2(i);f&&(o=d?n:0),d&&(a=f?i:0)}return o<a?this._resultLT:o>a?-this._resultLT:0},r}(),ExternalSource=function(){function r(){}return r.prototype.getRawData=function(){throw new Error("not supported")},r.prototype.getRawDataItem=function(n){throw new Error("not supported")},r.prototype.cloneRawData=function(){},r.prototype.getDimensionInfo=function(n){},r.prototype.cloneAllDimensionInfo=function(){},r.prototype.count=function(){},r.prototype.retrieveValue=function(n,i){},r.prototype.retrieveValueFromItem=function(n,i){},r.prototype.convertValue=function(n,i){return parseDataValue(n,i)},r}();function createExternalSource(r,n){var i=new ExternalSource,o=r.data,a=i.sourceFormat=r.sourceFormat,u=r.startIndex,c="";r.seriesLayoutBy!==SERIES_LAYOUT_BY_COLUMN&&(process.env.NODE_ENV!=="production"&&(c='`seriesLayoutBy` of upstream dataset can only be "column" in data transform.'),throwError$1(c));var f=[],d={},p=r.dimensionsDefine;if(p)each$4(p,function(_,S){var b=_.name,T={index:S,name:b,displayName:_.displayName};if(f.push(T),b!=null){var w="";hasOwn$1(d,b)&&(process.env.NODE_ENV!=="production"&&(w='dimension name "'+b+'" duplicated.'),throwError$1(w)),d[b]=T}});else for(var h=0;h<r.dimensionsDetectedCount;h++)f.push({index:h});var g=getRawSourceItemGetter(a,SERIES_LAYOUT_BY_COLUMN);n.__isBuiltIn&&(i.getRawDataItem=function(_){return g(o,u,f,_)},i.getRawData=bind$1(getRawData,null,r)),i.cloneRawData=bind$1(cloneRawData,null,r);var v=getRawSourceDataCounter(a,SERIES_LAYOUT_BY_COLUMN);i.count=bind$1(v,null,o,u,f);var y=getRawSourceValueGetter(a);i.retrieveValue=function(_,S){var b=g(o,u,f,_);return A(b,S)};var A=i.retrieveValueFromItem=function(_,S){if(_!=null){var b=f[S];if(b)return y(_,S,b.name)}};return i.getDimensionInfo=bind$1(getDimensionInfo,null,f,d),i.cloneAllDimensionInfo=bind$1(cloneAllDimensionInfo,null,f),i}function getRawData(r){var n=r.sourceFormat;if(!isSupportedSourceFormat(n)){var i="";process.env.NODE_ENV!=="production"&&(i="`getRawData` is not supported in source format "+n),throwError$1(i)}return r.data}function cloneRawData(r){var n=r.sourceFormat,i=r.data;if(!isSupportedSourceFormat(n)){var o="";process.env.NODE_ENV!=="production"&&(o="`cloneRawData` is not supported in source format "+n),throwError$1(o)}if(n===SOURCE_FORMAT_ARRAY_ROWS){for(var a=[],u=0,c=i.length;u<c;u++)a.push(i[u].slice());return a}else if(n===SOURCE_FORMAT_OBJECT_ROWS){for(var a=[],u=0,c=i.length;u<c;u++)a.push(extend({},i[u]));return a}}function getDimensionInfo(r,n,i){if(i!=null){if(isNumber$1(i)||!isNaN(i)&&!hasOwn$1(n,i))return r[i];if(hasOwn$1(n,i))return n[i]}}function cloneAllDimensionInfo(r){return clone$2(r)}var externalTransformMap=createHashMap();function registerExternalTransform(r){r=clone$2(r);var n=r.type,i="";n||(process.env.NODE_ENV!=="production"&&(i="Must have a `type` when `registerTransform`."),throwError$1(i));var o=n.split(":");o.length!==2&&(process.env.NODE_ENV!=="production"&&(i='Name must include namespace like "ns:regression".'),throwError$1(i));var a=!1;o[0]==="echarts"&&(n=o[1],a=!0),r.__isBuiltIn=a,externalTransformMap.set(n,r)}function applyDataTransform(r,n,i){var o=normalizeToArray(r),a=o.length,u="";a||(process.env.NODE_ENV!=="production"&&(u="If `transform` declared, it should at least contain one transform."),throwError$1(u));for(var c=0,f=a;c<f;c++){var d=o[c];n=applySingleDataTransform(d,n,i,a===1?null:c),c!==f-1&&(n.length=Math.max(n.length,1))}return n}function applySingleDataTransform(r,n,i,o){var a="";n.length||(process.env.NODE_ENV!=="production"&&(a="Must have at least one upstream dataset."),throwError$1(a)),isObject$3(r)||(process.env.NODE_ENV!=="production"&&(a="transform declaration must be an object rather than "+typeof r+"."),throwError$1(a));var u=r.type,c=externalTransformMap.get(u);c||(process.env.NODE_ENV!=="production"&&(a='Can not find transform on type "'+u+'".'),throwError$1(a));var f=map$1(n,function(h){return createExternalSource(h,c)}),d=normalizeToArray(c.transform({upstream:f[0],upstreamList:f,config:clone$2(r.config)}));if(process.env.NODE_ENV!=="production"&&r.print){var p=map$1(d,function(h){var g=o!=null?" === pipe index: "+o:"";return["=== dataset index: "+i.datasetIndex+g+" ===","- transform result data:",makePrintable(h.data),"- transform result dimensions:",makePrintable(h.dimensions)].join(`
`)}).join(`
`);log(p)}return map$1(d,function(h,g){var v="";isObject$3(h)||(process.env.NODE_ENV!=="production"&&(v="A transform should not return some empty results."),throwError$1(v)),h.data||(process.env.NODE_ENV!=="production"&&(v="Transform result data should be not be null or undefined"),throwError$1(v));var y=detectSourceFormat(h.data);isSupportedSourceFormat(y)||(process.env.NODE_ENV!=="production"&&(v="Transform result data should be array rows or object rows."),throwError$1(v));var A,_=n[0];if(_&&g===0&&!h.dimensions){var S=_.startIndex;S&&(h.data=_.data.slice(0,S).concat(h.data)),A={seriesLayoutBy:SERIES_LAYOUT_BY_COLUMN,sourceHeader:S,dimensions:_.metaRawOption.dimensions}}else A={seriesLayoutBy:SERIES_LAYOUT_BY_COLUMN,sourceHeader:0,dimensions:h.dimensions};return createSource(h.data,A,null)})}function isSupportedSourceFormat(r){return r===SOURCE_FORMAT_ARRAY_ROWS||r===SOURCE_FORMAT_OBJECT_ROWS}var UNDEFINED="undefined",CtorUint32Array=typeof Uint32Array===UNDEFINED?Array:Uint32Array,CtorUint16Array=typeof Uint16Array===UNDEFINED?Array:Uint16Array,CtorInt32Array$1=typeof Int32Array===UNDEFINED?Array:Int32Array,CtorFloat64Array=typeof Float64Array===UNDEFINED?Array:Float64Array,dataCtors={float:CtorFloat64Array,int:CtorInt32Array$1,ordinal:Array,number:Array,time:CtorFloat64Array},defaultDimValueGetters;function getIndicesCtor(r){return r>65535?CtorUint32Array:CtorUint16Array}function getInitialExtent(){return[1/0,-1/0]}function cloneChunk(r){var n=r.constructor;return n===Array?r.slice():new n(r)}function prepareStore(r,n,i,o,a){var u=dataCtors[i||"float"];if(a){var c=r[n],f=c&&c.length;if(f!==o){for(var d=new u(o),p=0;p<f;p++)d[p]=c[p];r[n]=d}}else r[n]=new u(o)}var DataStore=function(){function r(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=createHashMap()}return r.prototype.initData=function(n,i,o){process.env.NODE_ENV!=="production"&&assert(isFunction$1(n.getItem)&&isFunction$1(n.count),"Invalid data provider."),this._provider=n,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var a=n.getSource(),u=this.defaultDimValueGetter=defaultDimValueGetters[a.sourceFormat];this._dimValueGetter=o||u,this._rawExtent=[];var c=shouldRetrieveDataByName(a);this._dimensions=map$1(i,function(f){return process.env.NODE_ENV!=="production"&&c&&assert(f.property!=null),{type:f.type,property:f.property}}),this._initDataFromProvider(0,n.count())},r.prototype.getProvider=function(){return this._provider},r.prototype.getSource=function(){return this._provider.getSource()},r.prototype.ensureCalculationDimension=function(n,i){var o=this._calcDimNameToIdx,a=this._dimensions,u=o.get(n);if(u!=null){if(a[u].type===i)return u}else u=a.length;return a[u]={type:i},o.set(n,u),this._chunks[u]=new dataCtors[i||"float"](this._rawCount),this._rawExtent[u]=getInitialExtent(),u},r.prototype.collectOrdinalMeta=function(n,i){var o=this._chunks[n],a=this._dimensions[n],u=this._rawExtent,c=a.ordinalOffset||0,f=o.length;c===0&&(u[n]=getInitialExtent());for(var d=u[n],p=c;p<f;p++){var h=o[p]=i.parseAndCollect(o[p]);isNaN(h)||(d[0]=Math.min(h,d[0]),d[1]=Math.max(h,d[1]))}a.ordinalMeta=i,a.ordinalOffset=f,a.type="ordinal"},r.prototype.getOrdinalMeta=function(n){var i=this._dimensions[n],o=i.ordinalMeta;return o},r.prototype.getDimensionProperty=function(n){var i=this._dimensions[n];return i&&i.property},r.prototype.appendData=function(n){process.env.NODE_ENV!=="production"&&assert(!this._indices,"appendData can only be called on raw data.");var i=this._provider,o=this.count();i.appendData(n);var a=i.count();return i.persistent||(a+=o),o<a&&this._initDataFromProvider(o,a,!0),[o,a]},r.prototype.appendValues=function(n,i){for(var o=this._chunks,a=this._dimensions,u=a.length,c=this._rawExtent,f=this.count(),d=f+Math.max(n.length,i||0),p=0;p<u;p++){var h=a[p];prepareStore(o,p,h.type,d,!0)}for(var g=[],v=f;v<d;v++)for(var y=v-f,A=0;A<u;A++){var h=a[A],_=defaultDimValueGetters.arrayRows.call(this,n[y]||g,h.property,y,A);o[A][v]=_;var S=c[A];_<S[0]&&(S[0]=_),_>S[1]&&(S[1]=_)}return this._rawCount=this._count=d,{start:f,end:d}},r.prototype._initDataFromProvider=function(n,i,o){for(var a=this._provider,u=this._chunks,c=this._dimensions,f=c.length,d=this._rawExtent,p=map$1(c,function(T){return T.property}),h=0;h<f;h++){var g=c[h];d[h]||(d[h]=getInitialExtent()),prepareStore(u,h,g.type,i,o)}if(a.fillStorage)a.fillStorage(n,i,u,d);else for(var v=[],y=n;y<i;y++){v=a.getItem(y,v);for(var A=0;A<f;A++){var _=u[A],S=this._dimValueGetter(v,p[A],y,A);_[y]=S;var b=d[A];S<b[0]&&(b[0]=S),S>b[1]&&(b[1]=S)}}!a.persistent&&a.clean&&a.clean(),this._rawCount=this._count=i,this._extent=[]},r.prototype.count=function(){return this._count},r.prototype.get=function(n,i){if(!(i>=0&&i<this._count))return NaN;var o=this._chunks[n];return o?o[this.getRawIndex(i)]:NaN},r.prototype.getValues=function(n,i){var o=[],a=[];if(i==null){i=n,n=[];for(var u=0;u<this._dimensions.length;u++)a.push(u)}else a=n;for(var u=0,c=a.length;u<c;u++)o.push(this.get(a[u],i));return o},r.prototype.getByRawIndex=function(n,i){if(!(i>=0&&i<this._rawCount))return NaN;var o=this._chunks[n];return o?o[i]:NaN},r.prototype.getSum=function(n){var i=this._chunks[n],o=0;if(i)for(var a=0,u=this.count();a<u;a++){var c=this.get(n,a);isNaN(c)||(o+=c)}return o},r.prototype.getMedian=function(n){var i=[];this.each([n],function(u){isNaN(u)||i.push(u)});var o=i.sort(function(u,c){return u-c}),a=this.count();return a===0?0:a%2===1?o[(a-1)/2]:(o[a/2]+o[a/2-1])/2},r.prototype.indexOfRawIndex=function(n){if(n>=this._rawCount||n<0)return-1;if(!this._indices)return n;var i=this._indices,o=i[n];if(o!=null&&o<this._count&&o===n)return n;for(var a=0,u=this._count-1;a<=u;){var c=(a+u)/2|0;if(i[c]<n)a=c+1;else if(i[c]>n)u=c-1;else return c}return-1},r.prototype.indicesOfNearest=function(n,i,o){var a=this._chunks,u=a[n],c=[];if(!u)return c;o==null&&(o=1/0);for(var f=1/0,d=-1,p=0,h=0,g=this.count();h<g;h++){var v=this.getRawIndex(h),y=i-u[v],A=Math.abs(y);A<=o&&((A<f||A===f&&y>=0&&d<0)&&(f=A,d=y,p=0),y===d&&(c[p++]=h))}return c.length=p,c},r.prototype.getIndices=function(){var n,i=this._indices;if(i){var o=i.constructor,a=this._count;if(o===Array){n=new o(a);for(var u=0;u<a;u++)n[u]=i[u]}else n=new o(i.buffer,0,a)}else{var o=getIndicesCtor(this._rawCount);n=new o(this.count());for(var u=0;u<n.length;u++)n[u]=u}return n},r.prototype.filter=function(n,i){if(!this._count)return this;for(var o=this.clone(),a=o.count(),u=getIndicesCtor(o._rawCount),c=new u(a),f=[],d=n.length,p=0,h=n[0],g=o._chunks,v=0;v<a;v++){var y=void 0,A=o.getRawIndex(v);if(d===0)y=i(v);else if(d===1){var _=g[h][A];y=i(_,v)}else{for(var S=0;S<d;S++)f[S]=g[n[S]][A];f[S]=v,y=i.apply(null,f)}y&&(c[p++]=A)}return p<a&&(o._indices=c),o._count=p,o._extent=[],o._updateGetRawIdx(),o},r.prototype.selectRange=function(n){var i=this.clone(),o=i._count;if(!o)return this;var a=keys(n),u=a.length;if(!u)return this;var c=i.count(),f=getIndicesCtor(i._rawCount),d=new f(c),p=0,h=a[0],g=n[h][0],v=n[h][1],y=i._chunks,A=!1;if(!i._indices){var _=0;if(u===1){for(var S=y[a[0]],b=0;b<o;b++){var T=S[b];(T>=g&&T<=v||isNaN(T))&&(d[p++]=_),_++}A=!0}else if(u===2){for(var S=y[a[0]],w=y[a[1]],x=n[a[1]][0],k=n[a[1]][1],b=0;b<o;b++){var T=S[b],M=w[b];(T>=g&&T<=v||isNaN(T))&&(M>=x&&M<=k||isNaN(M))&&(d[p++]=_),_++}A=!0}}if(!A)if(u===1)for(var b=0;b<c;b++){var D=i.getRawIndex(b),T=y[a[0]][D];(T>=g&&T<=v||isNaN(T))&&(d[p++]=D)}else for(var b=0;b<c;b++){for(var z=!0,D=i.getRawIndex(b),j=0;j<u;j++){var oe=a[j],T=y[oe][D];(T<n[oe][0]||T>n[oe][1])&&(z=!1)}z&&(d[p++]=i.getRawIndex(b))}return p<c&&(i._indices=d),i._count=p,i._extent=[],i._updateGetRawIdx(),i},r.prototype.map=function(n,i){var o=this.clone(n);return this._updateDims(o,n,i),o},r.prototype.modify=function(n,i){this._updateDims(this,n,i)},r.prototype._updateDims=function(n,i,o){for(var a=n._chunks,u=[],c=i.length,f=n.count(),d=[],p=n._rawExtent,h=0;h<i.length;h++)p[i[h]]=getInitialExtent();for(var g=0;g<f;g++){for(var v=n.getRawIndex(g),y=0;y<c;y++)d[y]=a[i[y]][v];d[c]=g;var A=o&&o.apply(null,d);if(A!=null){typeof A!="object"&&(u[0]=A,A=u);for(var h=0;h<A.length;h++){var _=i[h],S=A[h],b=p[_],T=a[_];T&&(T[v]=S),S<b[0]&&(b[0]=S),S>b[1]&&(b[1]=S)}}}},r.prototype.lttbDownSample=function(n,i){var o=this.clone([n],!0),a=o._chunks,u=a[n],c=this.count(),f=0,d=Math.floor(1/i),p=this.getRawIndex(0),h,g,v,y=new(getIndicesCtor(this._rawCount))(Math.min((Math.ceil(c/d)+2)*2,c));y[f++]=p;for(var A=1;A<c-1;A+=d){for(var _=Math.min(A+d,c-1),S=Math.min(A+d*2,c),b=(S+_)/2,T=0,w=_;w<S;w++){var x=this.getRawIndex(w),k=u[x];isNaN(k)||(T+=k)}T/=S-_;var M=A,D=Math.min(A+d,c),z=A-1,j=u[p];h=-1,v=M;for(var oe=-1,L=0,w=M;w<D;w++){var x=this.getRawIndex(w),k=u[x];if(isNaN(k)){L++,oe<0&&(oe=x);continue}g=Math.abs((z-b)*(k-j)-(z-w)*(T-j)),g>h&&(h=g,v=x)}L>0&&L<D-M&&(y[f++]=Math.min(oe,v),v=Math.max(oe,v)),y[f++]=v,p=v}return y[f++]=this.getRawIndex(c-1),o._count=f,o._indices=y,o.getRawIndex=this._getRawIdx,o},r.prototype.downSample=function(n,i,o,a){for(var u=this.clone([n],!0),c=u._chunks,f=[],d=Math.floor(1/i),p=c[n],h=this.count(),g=u._rawExtent[n]=getInitialExtent(),v=new(getIndicesCtor(this._rawCount))(Math.ceil(h/d)),y=0,A=0;A<h;A+=d){d>h-A&&(d=h-A,f.length=d);for(var _=0;_<d;_++){var S=this.getRawIndex(A+_);f[_]=p[S]}var b=o(f),T=this.getRawIndex(Math.min(A+a(f,b)||0,h-1));p[T]=b,b<g[0]&&(g[0]=b),b>g[1]&&(g[1]=b),v[y++]=T}return u._count=y,u._indices=v,u._updateGetRawIdx(),u},r.prototype.each=function(n,i){if(this._count)for(var o=n.length,a=this._chunks,u=0,c=this.count();u<c;u++){var f=this.getRawIndex(u);switch(o){case 0:i(u);break;case 1:i(a[n[0]][f],u);break;case 2:i(a[n[0]][f],a[n[1]][f],u);break;default:for(var d=0,p=[];d<o;d++)p[d]=a[n[d]][f];p[d]=u,i.apply(null,p)}}},r.prototype.getDataExtent=function(n){var i=this._chunks[n],o=getInitialExtent();if(!i)return o;var a=this.count(),u=!this._indices,c;if(u)return this._rawExtent[n].slice();if(c=this._extent[n],c)return c.slice();c=o;for(var f=c[0],d=c[1],p=0;p<a;p++){var h=this.getRawIndex(p),g=i[h];g<f&&(f=g),g>d&&(d=g)}return c=[f,d],this._extent[n]=c,c},r.prototype.getRawDataItem=function(n){var i=this.getRawIndex(n);if(this._provider.persistent)return this._provider.getItem(i);for(var o=[],a=this._chunks,u=0;u<a.length;u++)o.push(a[u][i]);return o},r.prototype.clone=function(n,i){var o=new r,a=this._chunks,u=n&&reduce(n,function(f,d){return f[d]=!0,f},{});if(u)for(var c=0;c<a.length;c++)o._chunks[c]=u[c]?cloneChunk(a[c]):a[c];else o._chunks=a;return this._copyCommonProps(o),i||(o._indices=this._cloneIndices()),o._updateGetRawIdx(),o},r.prototype._copyCommonProps=function(n){n._count=this._count,n._rawCount=this._rawCount,n._provider=this._provider,n._dimensions=this._dimensions,n._extent=clone$2(this._extent),n._rawExtent=clone$2(this._rawExtent)},r.prototype._cloneIndices=function(){if(this._indices){var n=this._indices.constructor,i=void 0;if(n===Array){var o=this._indices.length;i=new n(o);for(var a=0;a<o;a++)i[a]=this._indices[a]}else i=new n(this._indices);return i}return null},r.prototype._getRawIdxIdentity=function(n){return n},r.prototype._getRawIdx=function(n){return n<this._count&&n>=0?this._indices[n]:-1},r.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},r.internalField=function(){function n(i,o,a,u){return parseDataValue(i[u],this._dimensions[u])}defaultDimValueGetters={arrayRows:n,objectRows:function(i,o,a,u){return parseDataValue(i[o],this._dimensions[u])},keyedColumns:n,original:function(i,o,a,u){var c=i&&(i.value==null?i:i.value);return parseDataValue(c instanceof Array?c[u]:c,this._dimensions[u])},typedArray:function(i,o,a,u){return i[u]}}}(),r}(),SourceManager=function(){function r(n){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=n}return r.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},r.prototype._setLocalSource=function(n,i){this._sourceList=n,this._upstreamSignList=i,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},r.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},r.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},r.prototype._createSource=function(){this._setLocalSource([],[]);var n=this._sourceHost,i=this._getUpstreamSourceManagers(),o=!!i.length,a,u;if(isSeries(n)){var c=n,f=void 0,d=void 0,p=void 0;if(o){var h=i[0];h.prepareSource(),p=h.getSource(),f=p.data,d=p.sourceFormat,u=[h._getVersionSign()]}else f=c.get("data",!0),d=isTypedArray(f)?SOURCE_FORMAT_TYPED_ARRAY:SOURCE_FORMAT_ORIGINAL,u=[];var g=this._getSourceMetaRawOption()||{},v=p&&p.metaRawOption||{},y=retrieve2(g.seriesLayoutBy,v.seriesLayoutBy)||null,A=retrieve2(g.sourceHeader,v.sourceHeader),_=retrieve2(g.dimensions,v.dimensions),S=y!==v.seriesLayoutBy||!!A!=!!v.sourceHeader||_;a=S?[createSource(f,{seriesLayoutBy:y,sourceHeader:A,dimensions:_},d)]:[]}else{var b=n;if(o){var T=this._applyTransform(i);a=T.sourceList,u=T.upstreamSignList}else{var w=b.get("source",!0);a=[createSource(w,this._getSourceMetaRawOption(),null)],u=[]}}process.env.NODE_ENV!=="production"&&assert(a&&u),this._setLocalSource(a,u)},r.prototype._applyTransform=function(n){var i=this._sourceHost,o=i.get("transform",!0),a=i.get("fromTransformResult",!0);if(process.env.NODE_ENV!=="production"&&assert(a!=null||o!=null),a!=null){var u="";n.length!==1&&(process.env.NODE_ENV!=="production"&&(u="When using `fromTransformResult`, there should be only one upstream dataset"),doThrow(u))}var c,f=[],d=[];return each$4(n,function(p){p.prepareSource();var h=p.getSource(a||0),g="";a!=null&&!h&&(process.env.NODE_ENV!=="production"&&(g="Can not retrieve result by `fromTransformResult`: "+a),doThrow(g)),f.push(h),d.push(p._getVersionSign())}),o?c=applyDataTransform(o,f,{datasetIndex:i.componentIndex}):a!=null&&(c=[cloneSourceShallow(f[0])]),{sourceList:c,upstreamSignList:d}},r.prototype._isDirty=function(){if(this._dirty)return!0;for(var n=this._getUpstreamSourceManagers(),i=0;i<n.length;i++){var o=n[i];if(o._isDirty()||this._upstreamSignList[i]!==o._getVersionSign())return!0}},r.prototype.getSource=function(n){n=n||0;var i=this._sourceList[n];if(!i){var o=this._getUpstreamSourceManagers();return o[0]&&o[0].getSource(n)}return i},r.prototype.getSharedDataStore=function(n){process.env.NODE_ENV!=="production"&&assert(isSeries(this._sourceHost),"Can only call getDataStore on series source manager.");var i=n.makeStoreSchema();return this._innerGetDataStore(i.dimensions,n.source,i.hash)},r.prototype._innerGetDataStore=function(n,i,o){var a=0,u=this._storeList,c=u[a];c||(c=u[a]={});var f=c[o];if(!f){var d=this._getUpstreamSourceManagers()[0];isSeries(this._sourceHost)&&d?f=d._innerGetDataStore(n,i,o):(f=new DataStore,f.initData(new DefaultDataProvider(i,n.length),n)),c[o]=f}return f},r.prototype._getUpstreamSourceManagers=function(){var n=this._sourceHost;if(isSeries(n)){var i=querySeriesUpstreamDatasetModel(n);return i?[i.getSourceManager()]:[]}else return map$1(queryDatasetUpstreamDatasetModels(n),function(o){return o.getSourceManager()})},r.prototype._getSourceMetaRawOption=function(){var n=this._sourceHost,i,o,a;if(isSeries(n))i=n.get("seriesLayoutBy",!0),o=n.get("sourceHeader",!0),a=n.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var u=n;i=u.get("seriesLayoutBy",!0),o=u.get("sourceHeader",!0),a=u.get("dimensions",!0)}return{seriesLayoutBy:i,sourceHeader:o,dimensions:a}},r}();function isSeries(r){return r.mainType==="series"}function doThrow(r){throw new Error(r)}var TOOLTIP_LINE_HEIGHT_CSS="line-height:1";function getTooltipTextStyle(r,n){var i=r.color||"#6e7079",o=r.fontSize||12,a=r.fontWeight||"400",u=r.color||"#464646",c=r.fontSize||14,f=r.fontWeight||"900";return n==="html"?{nameStyle:"font-size:"+encodeHTML(o+"")+"px;color:"+encodeHTML(i)+";font-weight:"+encodeHTML(a+""),valueStyle:"font-size:"+encodeHTML(c+"")+"px;color:"+encodeHTML(u)+";font-weight:"+encodeHTML(f+"")}:{nameStyle:{fontSize:o,fill:i,fontWeight:a},valueStyle:{fontSize:c,fill:u,fontWeight:f}}}var HTML_GAPS=[0,10,20,30],RICH_TEXT_GAPS=["",`
`,`

`,`


`];function createTooltipMarkup(r,n){return n.type=r,n}function isSectionFragment(r){return r.type==="section"}function getBuilder(r){return isSectionFragment(r)?buildSection:buildNameValue}function getBlockGapLevel(r){if(isSectionFragment(r)){var n=0,i=r.blocks.length,o=i>1||i>0&&!r.noHeader;return each$4(r.blocks,function(a){var u=getBlockGapLevel(a);u>=n&&(n=u+ +(o&&(!u||isSectionFragment(a)&&!a.noHeader)))}),n}return 0}function buildSection(r,n,i,o){var a=n.noHeader,u=getGap(getBlockGapLevel(n)),c=[],f=n.blocks||[];assert(!f||isArray$1(f)),f=f||[];var d=r.orderMode;if(n.sortBlocks&&d){f=f.slice();var p={valueAsc:"asc",valueDesc:"desc"};if(hasOwn$1(p,d)){var h=new SortOrderComparator(p[d],null);f.sort(function(A,_){return h.evaluate(A.sortParam,_.sortParam)})}else d==="seriesDesc"&&f.reverse()}each$4(f,function(A,_){var S=n.valueFormatter,b=getBuilder(A)(S?extend(extend({},r),{valueFormatter:S}):r,A,_>0?u.html:0,o);b!=null&&c.push(b)});var g=r.renderMode==="richText"?c.join(u.richText):wrapBlockHTML(c.join(""),a?i:u.html);if(a)return g;var v=makeValueReadable(n.header,"ordinal",r.useUTC),y=getTooltipTextStyle(o,r.renderMode).nameStyle;return r.renderMode==="richText"?wrapInlineNameRichText(r,v,y)+u.richText+g:wrapBlockHTML('<div style="'+y+";"+TOOLTIP_LINE_HEIGHT_CSS+';">'+encodeHTML(v)+"</div>"+g,i)}function buildNameValue(r,n,i,o){var a=r.renderMode,u=n.noName,c=n.noValue,f=!n.markerType,d=n.name,p=r.useUTC,h=n.valueFormatter||r.valueFormatter||function(x){return x=isArray$1(x)?x:[x],map$1(x,function(k,M){return makeValueReadable(k,isArray$1(y)?y[M]:y,p)})};if(!(u&&c)){var g=f?"":r.markupStyleCreator.makeTooltipMarker(n.markerType,n.markerColor||"#333",a),v=u?"":makeValueReadable(d,"ordinal",p),y=n.valueType,A=c?[]:h(n.value),_=!f||!u,S=!f&&u,b=getTooltipTextStyle(o,a),T=b.nameStyle,w=b.valueStyle;return a==="richText"?(f?"":g)+(u?"":wrapInlineNameRichText(r,v,T))+(c?"":wrapInlineValueRichText(r,A,_,S,w)):wrapBlockHTML((f?"":g)+(u?"":wrapInlineNameHTML(v,!f,T))+(c?"":wrapInlineValueHTML(A,_,S,w)),i)}}function buildTooltipMarkup(r,n,i,o,a,u){if(r){var c=getBuilder(r),f={useUTC:a,renderMode:i,orderMode:o,markupStyleCreator:n,valueFormatter:r.valueFormatter};return c(f,r,0,u)}}function getGap(r){return{html:HTML_GAPS[r],richText:RICH_TEXT_GAPS[r]}}function wrapBlockHTML(r,n){var i='<div style="clear:both"></div>',o="margin: "+n+"px 0 0";return'<div style="'+o+";"+TOOLTIP_LINE_HEIGHT_CSS+';">'+r+i+"</div>"}function wrapInlineNameHTML(r,n,i){var o=n?"margin-left:2px":"";return'<span style="'+i+";"+o+'">'+encodeHTML(r)+"</span>"}function wrapInlineValueHTML(r,n,i,o){var a=i?"10px":"20px",u=n?"float:right;margin-left:"+a:"";return r=isArray$1(r)?r:[r],'<span style="'+u+";"+o+'">'+map$1(r,function(c){return encodeHTML(c)}).join("&nbsp;&nbsp;")+"</span>"}function wrapInlineNameRichText(r,n,i){return r.markupStyleCreator.wrapRichTextStyle(n,i)}function wrapInlineValueRichText(r,n,i,o,a){var u=[a],c=o?10:20;return i&&u.push({padding:[0,0,0,c],align:"right"}),r.markupStyleCreator.wrapRichTextStyle(isArray$1(n)?n.join("  "):n,u)}function retrieveVisualColorForTooltipMarker(r,n){var i=r.getData().getItemVisual(n,"style"),o=i[r.visualDrawType];return convertToColorString(o)}function getPaddingFromTooltipModel(r,n){var i=r.get("padding");return i??(n==="richText"?[8,10]:10)}var TooltipMarkupStyleCreator=function(){function r(){this.richTextStyles={},this._nextStyleNameId=getRandomIdBase()}return r.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},r.prototype.makeTooltipMarker=function(n,i,o){var a=o==="richText"?this._generateStyleName():null,u=getTooltipMarker({color:i,type:n,renderMode:o,markerId:a});return isString$2(u)?u:(process.env.NODE_ENV!=="production"&&assert(a),this.richTextStyles[a]=u.style,u.content)},r.prototype.wrapRichTextStyle=function(n,i){var o={};isArray$1(i)?each$4(i,function(u){return extend(o,u)}):extend(o,i);var a=this._generateStyleName();return this.richTextStyles[a]=o,"{"+a+"|"+n+"}"},r}();function defaultSeriesFormatTooltip(r){var n=r.series,i=r.dataIndex,o=r.multipleSeries,a=n.getData(),u=a.mapDimensionsAll("defaultedTooltip"),c=u.length,f=n.getRawValue(i),d=isArray$1(f),p=retrieveVisualColorForTooltipMarker(n,i),h,g,v,y;if(c>1||d&&!c){var A=formatTooltipArrayValue(f,n,i,u,p);h=A.inlineValues,g=A.inlineValueTypes,v=A.blocks,y=A.inlineValues[0]}else if(c){var _=a.getDimensionInfo(u[0]);y=h=retrieveRawValue(a,i,u[0]),g=_.type}else y=h=d?f[0]:f;var S=isNameSpecified(n),b=S&&n.name||"",T=a.getName(i),w=o?b:T;return createTooltipMarkup("section",{header:b,noHeader:o||!S,sortParam:y,blocks:[createTooltipMarkup("nameValue",{markerType:"item",markerColor:p,name:w,noName:!trim(w),value:h,valueType:g})].concat(v||[])})}function formatTooltipArrayValue(r,n,i,o,a){var u=n.getData(),c=reduce(r,function(g,v,y){var A=u.getDimensionInfo(y);return g=g||A&&A.tooltip!==!1&&A.displayName!=null},!1),f=[],d=[],p=[];o.length?each$4(o,function(g){h(retrieveRawValue(u,i,g),g)}):each$4(r,h);function h(g,v){var y=u.getDimensionInfo(v);!y||y.otherDims.tooltip===!1||(c?p.push(createTooltipMarkup("nameValue",{markerType:"subItem",markerColor:a,name:y.displayName,value:g,valueType:y.type})):(f.push(g),d.push(y.type)))}return{inlineValues:f,inlineValueTypes:d,blocks:p}}var inner$6=makeInner();function getSelectionKey(r,n){return r.getName(n)||r.getId(n)}var SERIES_UNIVERSAL_TRANSITION_PROP="__universalTransitionEnabled",SeriesModel=function(r){__extends(n,r);function n(){var i=r!==null&&r.apply(this,arguments)||this;return i._selectedDataIndicesMap={},i}return n.prototype.init=function(i,o,a){this.seriesIndex=this.componentIndex,this.dataTask=createTask({count:dataTaskCount,reset:dataTaskReset}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(i,a);var u=inner$6(this).sourceManager=new SourceManager(this);u.prepareSource();var c=this.getInitialData(i,a);wrapData(c,this),this.dataTask.context.data=c,process.env.NODE_ENV!=="production"&&assert(c,"getInitialData returned invalid data."),inner$6(this).dataBeforeProcessed=c,autoSeriesName(this),this._initSelectedMapFromData(c)},n.prototype.mergeDefaultAndTheme=function(i,o){var a=fetchLayoutMode(this),u=a?getLayoutParams(i):{},c=this.subType;ComponentModel$1.hasClass(c)&&(c+="Series"),merge(i,o.getTheme().get(this.subType)),merge(i,this.getDefaultOption()),defaultEmphasis(i,"label",["show"]),this.fillDataTextStyle(i.data),a&&mergeLayoutParam(i,u,a)},n.prototype.mergeOption=function(i,o){i=merge(this.option,i,!0),this.fillDataTextStyle(i.data);var a=fetchLayoutMode(this);a&&mergeLayoutParam(this.option,i,a);var u=inner$6(this).sourceManager;u.dirty(),u.prepareSource();var c=this.getInitialData(i,o);wrapData(c,this),this.dataTask.dirty(),this.dataTask.context.data=c,inner$6(this).dataBeforeProcessed=c,autoSeriesName(this),this._initSelectedMapFromData(c)},n.prototype.fillDataTextStyle=function(i){if(i&&!isTypedArray(i))for(var o=["show"],a=0;a<i.length;a++)i[a]&&i[a].label&&defaultEmphasis(i[a],"label",o)},n.prototype.getInitialData=function(i,o){},n.prototype.appendData=function(i){var o=this.getRawData();o.appendData(i.data)},n.prototype.getData=function(i){var o=getCurrentTask(this);if(o){var a=o.context.data;return i==null?a:a.getLinkedData(i)}else return inner$6(this).data},n.prototype.getAllData=function(){var i=this.getData();return i&&i.getLinkedDataAll?i.getLinkedDataAll():[{data:i}]},n.prototype.setData=function(i){var o=getCurrentTask(this);if(o){var a=o.context;a.outputData=i,o!==this.dataTask&&(a.data=i)}inner$6(this).data=i},n.prototype.getEncode=function(){var i=this.get("encode",!0);if(i)return createHashMap(i)},n.prototype.getSourceManager=function(){return inner$6(this).sourceManager},n.prototype.getSource=function(){return this.getSourceManager().getSource()},n.prototype.getRawData=function(){return inner$6(this).dataBeforeProcessed},n.prototype.getColorBy=function(){var i=this.get("colorBy");return i||"series"},n.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},n.prototype.getBaseAxis=function(){var i=this.coordinateSystem;return i&&i.getBaseAxis&&i.getBaseAxis()},n.prototype.formatTooltip=function(i,o,a){return defaultSeriesFormatTooltip({series:this,dataIndex:i,multipleSeries:o})},n.prototype.isAnimationEnabled=function(){var i=this.ecModel;if(env$1.node&&!(i&&i.ssr))return!1;var o=this.getShallow("animation");return o&&this.getData().count()>this.getShallow("animationThreshold")&&(o=!1),!!o},n.prototype.restoreData=function(){this.dataTask.dirty()},n.prototype.getColorFromPalette=function(i,o,a){var u=this.ecModel,c=PaletteMixin.prototype.getColorFromPalette.call(this,i,o,a);return c||(c=u.getColorFromPalette(i,o,a)),c},n.prototype.coordDimToDataDim=function(i){return this.getRawData().mapDimensionsAll(i)},n.prototype.getProgressive=function(){return this.get("progressive")},n.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},n.prototype.select=function(i,o){this._innerSelect(this.getData(o),i)},n.prototype.unselect=function(i,o){var a=this.option.selectedMap;if(a){var u=this.option.selectedMode,c=this.getData(o);if(u==="series"||a==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var f=0;f<i.length;f++){var d=i[f],p=getSelectionKey(c,d);a[p]=!1,this._selectedDataIndicesMap[p]=-1}}},n.prototype.toggleSelect=function(i,o){for(var a=[],u=0;u<i.length;u++)a[0]=i[u],this.isSelected(i[u],o)?this.unselect(a,o):this.select(a,o)},n.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var i=this._selectedDataIndicesMap,o=keys(i),a=[],u=0;u<o.length;u++){var c=i[o[u]];c>=0&&a.push(c)}return a},n.prototype.isSelected=function(i,o){var a=this.option.selectedMap;if(!a)return!1;var u=this.getData(o);return(a==="all"||a[getSelectionKey(u,i)])&&!u.getItemModel(i).get(["select","disabled"])},n.prototype.isUniversalTransitionEnabled=function(){if(this[SERIES_UNIVERSAL_TRANSITION_PROP])return!0;var i=this.option.universalTransition;return i?i===!0?!0:i&&i.enabled:!1},n.prototype._innerSelect=function(i,o){var a,u,c=this.option,f=c.selectedMode,d=o.length;if(!(!f||!d)){if(f==="series")c.selectedMap="all";else if(f==="multiple"){isObject$3(c.selectedMap)||(c.selectedMap={});for(var p=c.selectedMap,h=0;h<d;h++){var g=o[h],v=getSelectionKey(i,g);p[v]=!0,this._selectedDataIndicesMap[v]=i.getRawIndex(g)}}else if(f==="single"||f===!0){var y=o[d-1],v=getSelectionKey(i,y);c.selectedMap=(a={},a[v]=!0,a),this._selectedDataIndicesMap=(u={},u[v]=i.getRawIndex(y),u)}}},n.prototype._initSelectedMapFromData=function(i){if(!this.option.selectedMap){var o=[];i.hasItemOption&&i.each(function(a){var u=i.getRawDataItem(a);u&&u.selected&&o.push(a)}),o.length>0&&this._innerSelect(i,o)}},n.registerClass=function(i){return ComponentModel$1.registerClass(i)},n.protoInitialize=function(){var i=n.prototype;i.type="series.__base__",i.seriesIndex=0,i.ignoreStyleOnData=!1,i.hasSymbolVisual=!1,i.defaultSymbol="circle",i.visualStyleAccessPath="itemStyle",i.visualDrawType="fill"}(),n}(ComponentModel$1);mixin(SeriesModel,DataFormatMixin),mixin(SeriesModel,PaletteMixin),mountExtend(SeriesModel,ComponentModel$1);function autoSeriesName(r){var n=r.name;isNameSpecified(r)||(r.name=getSeriesAutoName(r)||n)}function getSeriesAutoName(r){var n=r.getRawData(),i=n.mapDimensionsAll("seriesName"),o=[];return each$4(i,function(a){var u=n.getDimensionInfo(a);u.displayName&&o.push(u.displayName)}),o.join(" ")}function dataTaskCount(r){return r.model.getRawData().count()}function dataTaskReset(r){var n=r.model;return n.setData(n.getRawData().cloneShallow()),dataTaskProgress}function dataTaskProgress(r,n){n.outputData&&r.end>n.outputData.count()&&n.model.getRawData().cloneShallow(n.outputData)}function wrapData(r,n){each$4(concatArray(r.CHANGABLE_METHODS,r.DOWNSAMPLE_METHODS),function(i){r.wrapMethod(i,curry$1(onDataChange,n))})}function onDataChange(r,n){var i=getCurrentTask(r);return i&&i.setOutputEnd((n||this).count()),n}function getCurrentTask(r){var n=(r.ecModel||{}).scheduler,i=n&&n.getPipeline(r.uid);if(i){var o=i.currentTask;if(o){var a=o.agentStubMap;a&&(o=a.get(r.uid))}return o}}const SeriesModel$1=SeriesModel;var ComponentView=function(){function r(){this.group=new Group$3,this.uid=getUID("viewComponent")}return r.prototype.init=function(n,i){},r.prototype.render=function(n,i,o,a){},r.prototype.dispose=function(n,i){},r.prototype.updateView=function(n,i,o,a){},r.prototype.updateLayout=function(n,i,o,a){},r.prototype.updateVisual=function(n,i,o,a){},r.prototype.toggleBlurSeries=function(n,i,o){},r.prototype.eachRendered=function(n){var i=this.group;i&&i.traverse(n)},r}();enableClassExtend(ComponentView),enableClassManagement(ComponentView);const ComponentView$1=ComponentView;function createRenderPlanner(){var r=makeInner();return function(n){var i=r(n),o=n.pipelineContext,a=!!i.large,u=!!i.progressiveRender,c=i.large=!!(o&&o.large),f=i.progressiveRender=!!(o&&o.progressiveRender);return(a!==c||u!==f)&&"reset"}}var inner$5=makeInner(),renderPlanner=createRenderPlanner(),ChartView=function(){function r(){this.group=new Group$3,this.uid=getUID("viewChart"),this.renderTask=createTask({plan:renderTaskPlan,reset:renderTaskReset}),this.renderTask.context={view:this}}return r.prototype.init=function(n,i){},r.prototype.render=function(n,i,o,a){if(process.env.NODE_ENV!=="production")throw new Error("render method must been implemented")},r.prototype.highlight=function(n,i,o,a){var u=n.getData(a&&a.dataType);if(!u){process.env.NODE_ENV!=="production"&&error("Unknown dataType "+a.dataType);return}toggleHighlight(u,a,"emphasis")},r.prototype.downplay=function(n,i,o,a){var u=n.getData(a&&a.dataType);if(!u){process.env.NODE_ENV!=="production"&&error("Unknown dataType "+a.dataType);return}toggleHighlight(u,a,"normal")},r.prototype.remove=function(n,i){this.group.removeAll()},r.prototype.dispose=function(n,i){},r.prototype.updateView=function(n,i,o,a){this.render(n,i,o,a)},r.prototype.updateLayout=function(n,i,o,a){this.render(n,i,o,a)},r.prototype.updateVisual=function(n,i,o,a){this.render(n,i,o,a)},r.prototype.eachRendered=function(n){traverseElements(this.group,n)},r.markUpdateMethod=function(n,i){inner$5(n).updateMethod=i},r.protoInitialize=function(){var n=r.prototype;n.type="chart"}(),r}();function elSetState(r,n,i){r&&isHighDownDispatcher(r)&&(n==="emphasis"?enterEmphasis:leaveEmphasis)(r,i)}function toggleHighlight(r,n,i){var o=queryDataIndex(r,n),a=n&&n.highlightKey!=null?getHighlightDigit(n.highlightKey):null;o!=null?each$4(normalizeToArray(o),function(u){elSetState(r.getItemGraphicEl(u),i,a)}):r.eachItemGraphicEl(function(u){elSetState(u,i,a)})}enableClassExtend(ChartView,["dispose"]),enableClassManagement(ChartView);function renderTaskPlan(r){return renderPlanner(r.model)}function renderTaskReset(r){var n=r.model,i=r.ecModel,o=r.api,a=r.payload,u=n.pipelineContext.progressiveRender,c=r.view,f=a&&inner$5(a).updateMethod,d=u?"incrementalPrepareRender":f&&c[f]?f:"render";return d!=="render"&&c[d](n,i,o,a),progressMethodMap[d]}var progressMethodMap={incrementalPrepareRender:{progress:function(r,n){n.view.incrementalRender(r,n.model,n.ecModel,n.api,n.payload)}},render:{forceFirstProgress:!0,progress:function(r,n){n.view.render(n.model,n.ecModel,n.api,n.payload)}}};const ChartView$1=ChartView;var ORIGIN_METHOD="\0__throttleOriginMethod",RATE="\0__throttleRate",THROTTLE_TYPE="\0__throttleType";function throttle$1(r,n,i){var o,a=0,u=0,c=null,f,d,p,h;n=n||0;function g(){u=new Date().getTime(),c=null,r.apply(d,p||[])}var v=function(){for(var y=[],A=0;A<arguments.length;A++)y[A]=arguments[A];o=new Date().getTime(),d=this,p=y;var _=h||n,S=h||i;h=null,f=o-(S?a:u)-_,clearTimeout(c),S?c=setTimeout(g,_):f>=0?g():c=setTimeout(g,-f),a=o};return v.clear=function(){c&&(clearTimeout(c),c=null)},v.debounceNextCall=function(y){h=y},v}function createOrUpdate(r,n,i,o){var a=r[n];if(a){var u=a[ORIGIN_METHOD]||a,c=a[THROTTLE_TYPE],f=a[RATE];if(f!==i||c!==o){if(i==null||!o)return r[n]=u;a=r[n]=throttle$1(u,i,o==="debounce"),a[ORIGIN_METHOD]=u,a[THROTTLE_TYPE]=o,a[RATE]=i}return a}}function clear(r,n){var i=r[n];i&&i[ORIGIN_METHOD]&&(i.clear&&i.clear(),r[n]=i[ORIGIN_METHOD])}var inner$4=makeInner(),defaultStyleMappers={itemStyle:makeStyleMapper(ITEM_STYLE_KEY_MAP,!0),lineStyle:makeStyleMapper(LINE_STYLE_KEY_MAP,!0)},defaultColorKey={lineStyle:"stroke",itemStyle:"fill"};function getStyleMapper(r,n){var i=r.visualStyleMapper||defaultStyleMappers[n];return i||(console.warn("Unknown style type '"+n+"'."),defaultStyleMappers.itemStyle)}function getDefaultColorKey(r,n){var i=r.visualDrawType||defaultColorKey[n];return i||(console.warn("Unknown style type '"+n+"'."),"fill")}var seriesStyleTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(r,n){var i=r.getData(),o=r.visualStyleAccessPath||"itemStyle",a=r.getModel(o),u=getStyleMapper(r,o),c=u(a),f=a.getShallow("decal");f&&(i.setVisual("decal",f),f.dirty=!0);var d=getDefaultColorKey(r,o),p=c[d],h=isFunction$1(p)?p:null,g=c.fill==="auto"||c.stroke==="auto";if(!c[d]||h||g){var v=r.getColorFromPalette(r.name,null,n.getSeriesCount());c[d]||(c[d]=v,i.setVisual("colorFromPalette",!0)),c.fill=c.fill==="auto"||isFunction$1(c.fill)?v:c.fill,c.stroke=c.stroke==="auto"||isFunction$1(c.stroke)?v:c.stroke}if(i.setVisual("style",c),i.setVisual("drawType",d),!n.isSeriesFiltered(r)&&h)return i.setVisual("colorFromPalette",!1),{dataEach:function(y,A){var _=r.getDataParams(A),S=extend({},c);S[d]=h(_),y.setItemVisual(A,"style",S)}}}},sharedModel=new Model$1,dataStyleTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(r,n){if(!(r.ignoreStyleOnData||n.isSeriesFiltered(r))){var i=r.getData(),o=r.visualStyleAccessPath||"itemStyle",a=getStyleMapper(r,o),u=i.getVisual("drawType");return{dataEach:i.hasItemOption?function(c,f){var d=c.getRawDataItem(f);if(d&&d[o]){sharedModel.option=d[o];var p=a(sharedModel),h=c.ensureUniqueItemVisual(f,"style");extend(h,p),sharedModel.option.decal&&(c.setItemVisual(f,"decal",sharedModel.option.decal),sharedModel.option.decal.dirty=!0),u in p&&c.setItemVisual(f,"colorFromPalette",!1)}}:null}}}},dataColorPaletteTask={performRawSeries:!0,overallReset:function(r){var n=createHashMap();r.eachSeries(function(i){var o=i.getColorBy();if(!i.isColorBySeries()){var a=i.type+"-"+o,u=n.get(a);u||(u={},n.set(a,u)),inner$4(i).scope=u}}),r.eachSeries(function(i){if(!(i.isColorBySeries()||r.isSeriesFiltered(i))){var o=i.getRawData(),a={},u=i.getData(),c=inner$4(i).scope,f=i.visualStyleAccessPath||"itemStyle",d=getDefaultColorKey(i,f);u.each(function(p){var h=u.getRawIndex(p);a[h]=p}),o.each(function(p){var h=a[p],g=u.getItemVisual(h,"colorFromPalette");if(g){var v=u.ensureUniqueItemVisual(h,"style"),y=o.getName(p)||p+"",A=o.count();v[d]=i.getColorFromPalette(y,c,A)}})}})}},PI$2=Math.PI;function defaultLoading(r,n){n=n||{},defaults(n,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var i=new Group$3,o=new Rect$1({style:{fill:n.maskColor},zlevel:n.zlevel,z:1e4});i.add(o);var a=new ZRText$1({style:{text:n.text,fill:n.textColor,fontSize:n.fontSize,fontWeight:n.fontWeight,fontStyle:n.fontStyle,fontFamily:n.fontFamily},zlevel:n.zlevel,z:10001}),u=new Rect$1({style:{fill:"none"},textContent:a,textConfig:{position:"right",distance:10},zlevel:n.zlevel,z:10001});i.add(u);var c;return n.showSpinner&&(c=new Arc$1({shape:{startAngle:-PI$2/2,endAngle:-PI$2/2+.1,r:n.spinnerRadius},style:{stroke:n.color,lineCap:"round",lineWidth:n.lineWidth},zlevel:n.zlevel,z:10001}),c.animateShape(!0).when(1e3,{endAngle:PI$2*3/2}).start("circularInOut"),c.animateShape(!0).when(1e3,{startAngle:PI$2*3/2}).delay(300).start("circularInOut"),i.add(c)),i.resize=function(){var f=a.getBoundingRect().width,d=n.showSpinner?n.spinnerRadius:0,p=(r.getWidth()-d*2-(n.showSpinner&&f?10:0)-f)/2-(n.showSpinner&&f?0:5+f/2)+(n.showSpinner?0:f/2)+(f?0:d),h=r.getHeight()/2;n.showSpinner&&c.setShape({cx:p,cy:h}),u.setShape({x:p-d,y:h-d,width:d*2,height:d*2}),o.setShape({x:0,y:0,width:r.getWidth(),height:r.getHeight()})},i.resize(),i}var Scheduler=function(){function r(n,i,o,a){this._stageTaskMap=createHashMap(),this.ecInstance=n,this.api=i,o=this._dataProcessorHandlers=o.slice(),a=this._visualHandlers=a.slice(),this._allHandlers=o.concat(a)}return r.prototype.restoreData=function(n,i){n.restoreData(i),this._stageTaskMap.each(function(o){var a=o.overallTask;a&&a.dirty()})},r.prototype.getPerformArgs=function(n,i){if(n.__pipeline){var o=this._pipelineMap.get(n.__pipeline.id),a=o.context,u=!i&&o.progressiveEnabled&&(!a||a.progressiveRender)&&n.__idxInPipeline>o.blockIndex,c=u?o.step:null,f=a&&a.modDataCount,d=f!=null?Math.ceil(f/c):null;return{step:c,modBy:d,modDataCount:f}}},r.prototype.getPipeline=function(n){return this._pipelineMap.get(n)},r.prototype.updateStreamModes=function(n,i){var o=this._pipelineMap.get(n.uid),a=n.getData(),u=a.count(),c=o.progressiveEnabled&&i.incrementalPrepareRender&&u>=o.threshold,f=n.get("large")&&u>=n.get("largeThreshold"),d=n.get("progressiveChunkMode")==="mod"?u:null;n.pipelineContext=o.context={progressiveRender:c,modDataCount:d,large:f}},r.prototype.restorePipelines=function(n){var i=this,o=i._pipelineMap=createHashMap();n.eachSeries(function(a){var u=a.getProgressive(),c=a.uid;o.set(c,{id:c,head:null,tail:null,threshold:a.getProgressiveThreshold(),progressiveEnabled:u&&!(a.preventIncremental&&a.preventIncremental()),blockIndex:-1,step:Math.round(u||700),count:0}),i._pipe(a,a.dataTask)})},r.prototype.prepareStageTasks=function(){var n=this._stageTaskMap,i=this.api.getModel(),o=this.api;each$4(this._allHandlers,function(a){var u=n.get(a.uid)||n.set(a.uid,{}),c="";process.env.NODE_ENV!=="production"&&(c='"reset" and "overallReset" must not be both specified.'),assert(!(a.reset&&a.overallReset),c),a.reset&&this._createSeriesStageTask(a,u,i,o),a.overallReset&&this._createOverallStageTask(a,u,i,o)},this)},r.prototype.prepareView=function(n,i,o,a){var u=n.renderTask,c=u.context;c.model=i,c.ecModel=o,c.api=a,u.__block=!n.incrementalPrepareRender,this._pipe(i,u)},r.prototype.performDataProcessorTasks=function(n,i){this._performStageTasks(this._dataProcessorHandlers,n,i,{block:!0})},r.prototype.performVisualTasks=function(n,i,o){this._performStageTasks(this._visualHandlers,n,i,o)},r.prototype._performStageTasks=function(n,i,o,a){a=a||{};var u=!1,c=this;each$4(n,function(d,p){if(!(a.visualType&&a.visualType!==d.visualType)){var h=c._stageTaskMap.get(d.uid),g=h.seriesTaskMap,v=h.overallTask;if(v){var y,A=v.agentStubMap;A.each(function(S){f(a,S)&&(S.dirty(),y=!0)}),y&&v.dirty(),c.updatePayload(v,o);var _=c.getPerformArgs(v,a.block);A.each(function(S){S.perform(_)}),v.perform(_)&&(u=!0)}else g&&g.each(function(S,b){f(a,S)&&S.dirty();var T=c.getPerformArgs(S,a.block);T.skip=!d.performRawSeries&&i.isSeriesFiltered(S.context.model),c.updatePayload(S,o),S.perform(T)&&(u=!0)})}});function f(d,p){return d.setDirty&&(!d.dirtyMap||d.dirtyMap.get(p.__pipeline.id))}this.unfinished=u||this.unfinished},r.prototype.performSeriesTasks=function(n){var i;n.eachSeries(function(o){i=o.dataTask.perform()||i}),this.unfinished=i||this.unfinished},r.prototype.plan=function(){this._pipelineMap.each(function(n){var i=n.tail;do{if(i.__block){n.blockIndex=i.__idxInPipeline;break}i=i.getUpstream()}while(i)})},r.prototype.updatePayload=function(n,i){i!=="remain"&&(n.context.payload=i)},r.prototype._createSeriesStageTask=function(n,i,o,a){var u=this,c=i.seriesTaskMap,f=i.seriesTaskMap=createHashMap(),d=n.seriesType,p=n.getTargetSeries;n.createOnAllSeries?o.eachRawSeries(h):d?o.eachRawSeriesByType(d,h):p&&p(o,a).each(h);function h(g){var v=g.uid,y=f.set(v,c&&c.get(v)||createTask({plan:seriesTaskPlan,reset:seriesTaskReset,count:seriesTaskCount}));y.context={model:g,ecModel:o,api:a,useClearVisual:n.isVisual&&!n.isLayout,plan:n.plan,reset:n.reset,scheduler:u},u._pipe(g,y)}},r.prototype._createOverallStageTask=function(n,i,o,a){var u=this,c=i.overallTask=i.overallTask||createTask({reset:overallTaskReset});c.context={ecModel:o,api:a,overallReset:n.overallReset,scheduler:u};var f=c.agentStubMap,d=c.agentStubMap=createHashMap(),p=n.seriesType,h=n.getTargetSeries,g=!0,v=!1,y="";process.env.NODE_ENV!=="production"&&(y='"createOnAllSeries" is not supported for "overallReset", because it will block all streams.'),assert(!n.createOnAllSeries,y),p?o.eachRawSeriesByType(p,A):h?h(o,a).each(A):(g=!1,each$4(o.getSeries(),A));function A(_){var S=_.uid,b=d.set(S,f&&f.get(S)||(v=!0,createTask({reset:stubReset,onDirty:stubOnDirty})));b.context={model:_,overallProgress:g},b.agent=c,b.__block=g,u._pipe(_,b)}v&&c.dirty()},r.prototype._pipe=function(n,i){var o=n.uid,a=this._pipelineMap.get(o);!a.head&&(a.head=i),a.tail&&a.tail.pipe(i),a.tail=i,i.__idxInPipeline=a.count++,i.__pipeline=a},r.wrapStageHandler=function(n,i){return isFunction$1(n)&&(n={overallReset:n,seriesType:detectSeriseType(n)}),n.uid=getUID("stageHandler"),i&&(n.visualType=i),n},r}();function overallTaskReset(r){r.overallReset(r.ecModel,r.api,r.payload)}function stubReset(r){return r.overallProgress&&stubProgress}function stubProgress(){this.agent.dirty(),this.getDownstream().dirty()}function stubOnDirty(){this.agent&&this.agent.dirty()}function seriesTaskPlan(r){return r.plan?r.plan(r.model,r.ecModel,r.api,r.payload):null}function seriesTaskReset(r){r.useClearVisual&&r.data.clearAllVisual();var n=r.resetDefines=normalizeToArray(r.reset(r.model,r.ecModel,r.api,r.payload));return n.length>1?map$1(n,function(i,o){return makeSeriesTaskProgress(o)}):singleSeriesTaskProgress}var singleSeriesTaskProgress=makeSeriesTaskProgress(0);function makeSeriesTaskProgress(r){return function(n,i){var o=i.data,a=i.resetDefines[r];if(a&&a.dataEach)for(var u=n.start;u<n.end;u++)a.dataEach(o,u);else a&&a.progress&&a.progress(n,o)}}function seriesTaskCount(r){return r.data.count()}function detectSeriseType(r){seriesType=null;try{r(ecModelMock,apiMock)}catch{}return seriesType}var ecModelMock={},apiMock={},seriesType;mockMethods(ecModelMock,GlobalModel$1),mockMethods(apiMock,ExtensionAPI$1),ecModelMock.eachSeriesByType=ecModelMock.eachRawSeriesByType=function(r){seriesType=r},ecModelMock.eachComponent=function(r){r.mainType==="series"&&r.subType&&(seriesType=r.subType)};function mockMethods(r,n){for(var i in n.prototype)r[i]=noop$1}const Scheduler$1=Scheduler;var colorAll=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const lightTheme={color:colorAll,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],colorAll]};var contrastColor="#B9B8CE",backgroundColor="#100C2A",axisCommon=function(){return{axisLine:{lineStyle:{color:contrastColor}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},colorPalette=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],theme={darkMode:!0,color:colorPalette,backgroundColor,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:contrastColor}},textStyle:{color:contrastColor},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:contrastColor}},dataZoom:{borderColor:"#71708A",textStyle:{color:contrastColor},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:contrastColor}},timeline:{lineStyle:{color:contrastColor},label:{color:contrastColor},controlStyle:{color:contrastColor,borderColor:contrastColor}},calendar:{itemStyle:{color:backgroundColor},dayLabel:{color:contrastColor},monthLabel:{color:contrastColor},yearLabel:{color:contrastColor}},timeAxis:axisCommon(),logAxis:axisCommon(),valueAxis:axisCommon(),categoryAxis:axisCommon(),line:{symbol:"circle"},graph:{color:colorPalette},gauge:{title:{color:contrastColor},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:contrastColor},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};theme.categoryAxis.splitLine.show=!1;const darkTheme=theme;var ECEventProcessor=function(){function r(){}return r.prototype.normalizeQuery=function(n){var i={},o={},a={};if(isString$2(n)){var u=parseClassType(n);i.mainType=u.main||null,i.subType=u.sub||null}else{var c=["Index","Name","Id"],f={name:1,dataIndex:1,dataType:1};each$4(n,function(d,p){for(var h=!1,g=0;g<c.length;g++){var v=c[g],y=p.lastIndexOf(v);if(y>0&&y===p.length-v.length){var A=p.slice(0,y);A!=="data"&&(i.mainType=A,i[v.toLowerCase()]=d,h=!0)}}f.hasOwnProperty(p)&&(o[p]=d,h=!0),h||(a[p]=d)})}return{cptQuery:i,dataQuery:o,otherQuery:a}},r.prototype.filter=function(n,i){var o=this.eventInfo;if(!o)return!0;var a=o.targetEl,u=o.packedEvent,c=o.model,f=o.view;if(!c||!f)return!0;var d=i.cptQuery,p=i.dataQuery;return h(d,c,"mainType")&&h(d,c,"subType")&&h(d,c,"index","componentIndex")&&h(d,c,"name")&&h(d,c,"id")&&h(p,u,"name")&&h(p,u,"dataIndex")&&h(p,u,"dataType")&&(!f.filterForExposedEvent||f.filterForExposedEvent(n,i.otherQuery,a,u));function h(g,v,y,A){return g[y]==null||v[A||y]===g[y]}},r.prototype.afterTrigger=function(){this.eventInfo=null},r}(),SYMBOL_PROPS_WITH_CB=["symbol","symbolSize","symbolRotate","symbolOffset"],SYMBOL_PROPS=SYMBOL_PROPS_WITH_CB.concat(["symbolKeepAspect"]),seriesSymbolTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(r,n){var i=r.getData();if(r.legendIcon&&i.setVisual("legendIcon",r.legendIcon),!r.hasSymbolVisual)return;for(var o={},a={},u=!1,c=0;c<SYMBOL_PROPS_WITH_CB.length;c++){var f=SYMBOL_PROPS_WITH_CB[c],d=r.get(f);isFunction$1(d)?(u=!0,a[f]=d):o[f]=d}if(o.symbol=o.symbol||r.defaultSymbol,i.setVisual(extend({legendIcon:r.legendIcon||o.symbol,symbolKeepAspect:r.get("symbolKeepAspect")},o)),n.isSeriesFiltered(r))return;var p=keys(a);function h(g,v){for(var y=r.getRawValue(v),A=r.getDataParams(v),_=0;_<p.length;_++){var S=p[_];g.setItemVisual(v,S,a[S](y,A))}}return{dataEach:u?h:null}}},dataSymbolTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(r,n){if(!r.hasSymbolVisual||n.isSeriesFiltered(r))return;var i=r.getData();function o(a,u){for(var c=a.getItemModel(u),f=0;f<SYMBOL_PROPS.length;f++){var d=SYMBOL_PROPS[f],p=c.getShallow(d,!0);p!=null&&a.setItemVisual(u,d,p)}}return{dataEach:i.hasItemOption?o:null}}};function getItemVisualFromData(r,n,i){switch(i){case"color":var o=r.getItemVisual(n,"style");return o[r.getVisual("drawType")];case"opacity":return r.getItemVisual(n,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return r.getItemVisual(n,i);default:process.env.NODE_ENV!=="production"&&console.warn("Unknown visual type "+i)}}function getVisualFromData(r,n){switch(n){case"color":var i=r.getVisual("style");return i[r.getVisual("drawType")];case"opacity":return r.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return r.getVisual(n);default:process.env.NODE_ENV!=="production"&&console.warn("Unknown visual type "+n)}}function createLegacyDataSelectAction(r,n){function i(o,a){var u=[];return o.eachComponent({mainType:"series",subType:r,query:a},function(c){u.push(c.seriesIndex)}),u}each$4([[r+"ToggleSelect","toggleSelect"],[r+"Select","select"],[r+"UnSelect","unselect"]],function(o){n(o[0],function(a,u,c){a=extend({},a),process.env.NODE_ENV!=="production"&&deprecateReplaceLog(a.type,o[1]),c.dispatchAction(extend(a,{type:o[1],seriesIndex:i(u,a)}))})})}function handleSeriesLegacySelectEvents(r,n,i,o,a){var u=r+n;i.isSilent(u)||(process.env.NODE_ENV!=="production"&&deprecateLog("event "+u+" is deprecated."),o.eachComponent({mainType:"series",subType:"pie"},function(c){for(var f=c.seriesIndex,d=c.option.selectedMap,p=a.selected,h=0;h<p.length;h++)if(p[h].seriesIndex===f){var g=c.getData(),v=queryDataIndex(g,a.fromActionPayload);i.trigger(u,{type:u,seriesId:c.id,name:isArray$1(v)?g.getName(v[0]):g.getName(v),selected:isString$2(d)?d:extend({},d)})}}))}function handleLegacySelectEvents(r,n,i){r.on("selectchanged",function(o){var a=i.getModel();o.isFromClick?(handleSeriesLegacySelectEvents("map","selectchanged",n,a,o),handleSeriesLegacySelectEvents("pie","selectchanged",n,a,o)):o.fromAction==="select"?(handleSeriesLegacySelectEvents("map","selected",n,a,o),handleSeriesLegacySelectEvents("pie","selected",n,a,o)):o.fromAction==="unselect"&&(handleSeriesLegacySelectEvents("map","unselected",n,a,o),handleSeriesLegacySelectEvents("pie","unselected",n,a,o))})}function findEventDispatcher(r,n,i){for(var o;r&&!(n(r)&&(o=r,i));)r=r.__hostTarget||r.parent;return o}var wmUniqueIndex=Math.round(Math.random()*9),supportDefineProperty=typeof Object.defineProperty=="function",WeakMap$1=function(){function r(){this._id="__ec_inner_"+wmUniqueIndex++}return r.prototype.get=function(n){return this._guard(n)[this._id]},r.prototype.set=function(n,i){var o=this._guard(n);return supportDefineProperty?Object.defineProperty(o,this._id,{value:i,enumerable:!1,configurable:!0}):o[this._id]=i,this},r.prototype.delete=function(n){return this.has(n)?(delete this._guard(n)[this._id],!0):!1},r.prototype.has=function(n){return!!this._guard(n)[this._id]},r.prototype._guard=function(n){if(n!==Object(n))throw TypeError("Value of WeakMap is not a non-null object.");return n},r}();const WeakMap$2=WeakMap$1;var Triangle=Path$1.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(r,n){var i=n.cx,o=n.cy,a=n.width/2,u=n.height/2;r.moveTo(i,o-u),r.lineTo(i+a,o+u),r.lineTo(i-a,o+u),r.closePath()}}),Diamond=Path$1.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(r,n){var i=n.cx,o=n.cy,a=n.width/2,u=n.height/2;r.moveTo(i,o-u),r.lineTo(i+a,o),r.lineTo(i,o+u),r.lineTo(i-a,o),r.closePath()}}),Pin=Path$1.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(r,n){var i=n.x,o=n.y,a=n.width/5*3,u=Math.max(a,n.height),c=a/2,f=c*c/(u-c),d=o-u+c+f,p=Math.asin(f/c),h=Math.cos(p)*c,g=Math.sin(p),v=Math.cos(p),y=c*.6,A=c*.7;r.moveTo(i-h,d+f),r.arc(i,d,c,Math.PI-p,Math.PI*2+p),r.bezierCurveTo(i+h-g*y,d+f+v*y,i,o-A,i,o),r.bezierCurveTo(i,o-A,i-h+g*y,d+f+v*y,i-h,d+f),r.closePath()}}),Arrow=Path$1.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(r,n){var i=n.height,o=n.width,a=n.x,u=n.y,c=o/3*2;r.moveTo(a,u),r.lineTo(a+c,u+i),r.lineTo(a,u+i/4*3),r.lineTo(a-c,u+i),r.lineTo(a,u),r.closePath()}}),symbolCtors={line:Line$1,rect:Rect$1,roundRect:Rect$1,square:Rect$1,circle:Circle$1,diamond:Diamond,pin:Pin,arrow:Arrow,triangle:Triangle},symbolShapeMakers={line:function(r,n,i,o,a){a.x1=r,a.y1=n+o/2,a.x2=r+i,a.y2=n+o/2},rect:function(r,n,i,o,a){a.x=r,a.y=n,a.width=i,a.height=o},roundRect:function(r,n,i,o,a){a.x=r,a.y=n,a.width=i,a.height=o,a.r=Math.min(i,o)/4},square:function(r,n,i,o,a){var u=Math.min(i,o);a.x=r,a.y=n,a.width=u,a.height=u},circle:function(r,n,i,o,a){a.cx=r+i/2,a.cy=n+o/2,a.r=Math.min(i,o)/2},diamond:function(r,n,i,o,a){a.cx=r+i/2,a.cy=n+o/2,a.width=i,a.height=o},pin:function(r,n,i,o,a){a.x=r+i/2,a.y=n+o/2,a.width=i,a.height=o},arrow:function(r,n,i,o,a){a.x=r+i/2,a.y=n+o/2,a.width=i,a.height=o},triangle:function(r,n,i,o,a){a.cx=r+i/2,a.cy=n+o/2,a.width=i,a.height=o}},symbolBuildProxies={};each$4(symbolCtors,function(r,n){symbolBuildProxies[n]=new r});var SymbolClz=Path$1.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(r,n,i){var o=calculateTextPosition(r,n,i),a=this.shape;return a&&a.symbolType==="pin"&&n.position==="inside"&&(o.y=i.y+i.height*.4),o},buildPath:function(r,n,i){var o=n.symbolType;if(o!=="none"){var a=symbolBuildProxies[o];a||(o="rect",a=symbolBuildProxies[o]),symbolShapeMakers[o](n.x,n.y,n.width,n.height,a.shape),a.buildPath(r,a.shape,i)}}});function symbolPathSetColor(r,n){if(this.type!=="image"){var i=this.style;this.__isEmptyBrush?(i.stroke=r,i.fill=n||"#fff",i.lineWidth=2):this.shape.symbolType==="line"?i.stroke=r:i.fill=r,this.markRedraw()}}function createSymbol(r,n,i,o,a,u,c){var f=r.indexOf("empty")===0;f&&(r=r.substr(5,1).toLowerCase()+r.substr(6));var d;return r.indexOf("image://")===0?d=makeImage(r.slice(8),new BoundingRect$1(n,i,o,a),c?"center":"cover"):r.indexOf("path://")===0?d=makePath(r.slice(7),{},new BoundingRect$1(n,i,o,a),c?"center":"cover"):d=new SymbolClz({shape:{symbolType:r,x:n,y:i,width:o,height:a}}),d.__isEmptyBrush=f,d.setColor=symbolPathSetColor,u&&d.setColor(u),d}function normalizeSymbolOffset(r,n){if(r!=null)return isArray$1(r)||(r=[r,r]),[parsePercent(r[0],n[0])||0,parsePercent(retrieve2(r[1],r[0]),n[1])||0]}function isSafeNum(r){return isFinite(r)}function createLinearGradient(r,n,i){var o=n.x==null?0:n.x,a=n.x2==null?1:n.x2,u=n.y==null?0:n.y,c=n.y2==null?0:n.y2;n.global||(o=o*i.width+i.x,a=a*i.width+i.x,u=u*i.height+i.y,c=c*i.height+i.y),o=isSafeNum(o)?o:0,a=isSafeNum(a)?a:1,u=isSafeNum(u)?u:0,c=isSafeNum(c)?c:0;var f=r.createLinearGradient(o,u,a,c);return f}function createRadialGradient(r,n,i){var o=i.width,a=i.height,u=Math.min(o,a),c=n.x==null?.5:n.x,f=n.y==null?.5:n.y,d=n.r==null?.5:n.r;n.global||(c=c*o+i.x,f=f*a+i.y,d=d*u),c=isSafeNum(c)?c:.5,f=isSafeNum(f)?f:.5,d=d>=0&&isSafeNum(d)?d:.5;var p=r.createRadialGradient(c,f,0,c,f,d);return p}function getCanvasGradient(r,n,i){for(var o=n.type==="radial"?createRadialGradient(r,n,i):createLinearGradient(r,n,i),a=n.colorStops,u=0;u<a.length;u++)o.addColorStop(a[u].offset,a[u].color);return o}function isClipPathChanged(r,n){if(r===n||!r&&!n)return!1;if(!r||!n||r.length!==n.length)return!0;for(var i=0;i<r.length;i++)if(r[i]!==n[i])return!0;return!1}function parseInt10(r){return parseInt(r,10)}function getSize(r,n,i){var o=["width","height"][n],a=["clientWidth","clientHeight"][n],u=["paddingLeft","paddingTop"][n],c=["paddingRight","paddingBottom"][n];if(i[o]!=null&&i[o]!=="auto")return parseFloat(i[o]);var f=document.defaultView.getComputedStyle(r);return(r[a]||parseInt10(f[o])||parseInt10(r.style[o]))-(parseInt10(f[u])||0)-(parseInt10(f[c])||0)|0}function normalizeLineDash(r,n){return!r||r==="solid"||!(n>0)?null:r==="dashed"?[4*n,2*n]:r==="dotted"?[n]:isNumber$1(r)?[r]:isArray$1(r)?r:null}function getLineDash(r){var n=r.style,i=n.lineDash&&n.lineWidth>0&&normalizeLineDash(n.lineDash,n.lineWidth),o=n.lineDashOffset;if(i){var a=n.strokeNoScale&&r.getLineScale?r.getLineScale():1;a&&a!==1&&(i=map$1(i,function(u){return u/a}),o/=a)}return[i,o]}var pathProxyForDraw=new PathProxy$1(!0);function styleHasStroke(r){var n=r.stroke;return!(n==null||n==="none"||!(r.lineWidth>0))}function isValidStrokeFillStyle(r){return typeof r=="string"&&r!=="none"}function styleHasFill(r){var n=r.fill;return n!=null&&n!=="none"}function doFillPath(r,n){if(n.fillOpacity!=null&&n.fillOpacity!==1){var i=r.globalAlpha;r.globalAlpha=n.fillOpacity*n.opacity,r.fill(),r.globalAlpha=i}else r.fill()}function doStrokePath(r,n){if(n.strokeOpacity!=null&&n.strokeOpacity!==1){var i=r.globalAlpha;r.globalAlpha=n.strokeOpacity*n.opacity,r.stroke(),r.globalAlpha=i}else r.stroke()}function createCanvasPattern(r,n,i){var o=createOrUpdateImage(n.image,n.__image,i);if(isImageReady(o)){var a=r.createPattern(o,n.repeat||"repeat");if(typeof DOMMatrix=="function"&&a&&a.setTransform){var u=new DOMMatrix;u.translateSelf(n.x||0,n.y||0),u.rotateSelf(0,0,(n.rotation||0)*RADIAN_TO_DEGREE),u.scaleSelf(n.scaleX||1,n.scaleY||1),a.setTransform(u)}return a}}function brushPath(r,n,i,o){var a,u=styleHasStroke(i),c=styleHasFill(i),f=i.strokePercent,d=f<1,p=!n.path;(!n.silent||d)&&p&&n.createPathProxy();var h=n.path||pathProxyForDraw,g=n.__dirty;if(!o){var v=i.fill,y=i.stroke,A=c&&!!v.colorStops,_=u&&!!y.colorStops,S=c&&!!v.image,b=u&&!!y.image,T=void 0,w=void 0,x=void 0,k=void 0,M=void 0;(A||_)&&(M=n.getBoundingRect()),A&&(T=g?getCanvasGradient(r,v,M):n.__canvasFillGradient,n.__canvasFillGradient=T),_&&(w=g?getCanvasGradient(r,y,M):n.__canvasStrokeGradient,n.__canvasStrokeGradient=w),S&&(x=g||!n.__canvasFillPattern?createCanvasPattern(r,v,n):n.__canvasFillPattern,n.__canvasFillPattern=x),b&&(k=g||!n.__canvasStrokePattern?createCanvasPattern(r,y,n):n.__canvasStrokePattern,n.__canvasStrokePattern=x),A?r.fillStyle=T:S&&(x?r.fillStyle=x:c=!1),_?r.strokeStyle=w:b&&(k?r.strokeStyle=k:u=!1)}var D=n.getGlobalScale();h.setScale(D[0],D[1],n.segmentIgnoreThreshold);var z,j;r.setLineDash&&i.lineDash&&(a=getLineDash(n),z=a[0],j=a[1]);var oe=!0;(p||g&SHAPE_CHANGED_BIT)&&(h.setDPR(r.dpr),d?h.setContext(null):(h.setContext(r),oe=!1),h.reset(),n.buildPath(h,n.shape,o),h.toStatic(),n.pathUpdated()),oe&&h.rebuildPath(r,d?f:1),z&&(r.setLineDash(z),r.lineDashOffset=j),o||(i.strokeFirst?(u&&doStrokePath(r,i),c&&doFillPath(r,i)):(c&&doFillPath(r,i),u&&doStrokePath(r,i))),z&&r.setLineDash([])}function brushImage(r,n,i){var o=n.__image=createOrUpdateImage(i.image,n.__image,n,n.onload);if(!(!o||!isImageReady(o))){var a=i.x||0,u=i.y||0,c=n.getWidth(),f=n.getHeight(),d=o.width/o.height;if(c==null&&f!=null?c=f*d:f==null&&c!=null?f=c/d:c==null&&f==null&&(c=o.width,f=o.height),i.sWidth&&i.sHeight){var p=i.sx||0,h=i.sy||0;r.drawImage(o,p,h,i.sWidth,i.sHeight,a,u,c,f)}else if(i.sx&&i.sy){var p=i.sx,h=i.sy,g=c-p,v=f-h;r.drawImage(o,p,h,g,v,a,u,c,f)}else r.drawImage(o,a,u,c,f)}}function brushText(r,n,i){var o,a=i.text;if(a!=null&&(a+=""),a){r.font=i.font||DEFAULT_FONT,r.textAlign=i.textAlign,r.textBaseline=i.textBaseline;var u=void 0,c=void 0;r.setLineDash&&i.lineDash&&(o=getLineDash(n),u=o[0],c=o[1]),u&&(r.setLineDash(u),r.lineDashOffset=c),i.strokeFirst?(styleHasStroke(i)&&r.strokeText(a,i.x,i.y),styleHasFill(i)&&r.fillText(a,i.x,i.y)):(styleHasFill(i)&&r.fillText(a,i.x,i.y),styleHasStroke(i)&&r.strokeText(a,i.x,i.y)),u&&r.setLineDash([])}}var SHADOW_NUMBER_PROPS=["shadowBlur","shadowOffsetX","shadowOffsetY"],STROKE_PROPS=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function bindCommonProps(r,n,i,o,a){var u=!1;if(!o&&(i=i||{},n===i))return!1;if(o||n.opacity!==i.opacity){flushPathDrawn(r,a),u=!0;var c=Math.max(Math.min(n.opacity,1),0);r.globalAlpha=isNaN(c)?DEFAULT_COMMON_STYLE.opacity:c}(o||n.blend!==i.blend)&&(u||(flushPathDrawn(r,a),u=!0),r.globalCompositeOperation=n.blend||DEFAULT_COMMON_STYLE.blend);for(var f=0;f<SHADOW_NUMBER_PROPS.length;f++){var d=SHADOW_NUMBER_PROPS[f];(o||n[d]!==i[d])&&(u||(flushPathDrawn(r,a),u=!0),r[d]=r.dpr*(n[d]||0))}return(o||n.shadowColor!==i.shadowColor)&&(u||(flushPathDrawn(r,a),u=!0),r.shadowColor=n.shadowColor||DEFAULT_COMMON_STYLE.shadowColor),u}function bindPathAndTextCommonStyle(r,n,i,o,a){var u=getStyle(n,a.inHover),c=o?null:i&&getStyle(i,a.inHover)||{};if(u===c)return!1;var f=bindCommonProps(r,u,c,o,a);if((o||u.fill!==c.fill)&&(f||(flushPathDrawn(r,a),f=!0),isValidStrokeFillStyle(u.fill)&&(r.fillStyle=u.fill)),(o||u.stroke!==c.stroke)&&(f||(flushPathDrawn(r,a),f=!0),isValidStrokeFillStyle(u.stroke)&&(r.strokeStyle=u.stroke)),(o||u.opacity!==c.opacity)&&(f||(flushPathDrawn(r,a),f=!0),r.globalAlpha=u.opacity==null?1:u.opacity),n.hasStroke()){var d=u.lineWidth,p=d/(u.strokeNoScale&&n.getLineScale?n.getLineScale():1);r.lineWidth!==p&&(f||(flushPathDrawn(r,a),f=!0),r.lineWidth=p)}for(var h=0;h<STROKE_PROPS.length;h++){var g=STROKE_PROPS[h],v=g[0];(o||u[v]!==c[v])&&(f||(flushPathDrawn(r,a),f=!0),r[v]=u[v]||g[1])}return f}function bindImageStyle(r,n,i,o,a){return bindCommonProps(r,getStyle(n,a.inHover),i&&getStyle(i,a.inHover),o,a)}function setContextTransform(r,n){var i=n.transform,o=r.dpr||1;i?r.setTransform(o*i[0],o*i[1],o*i[2],o*i[3],o*i[4],o*i[5]):r.setTransform(o,0,0,o,0,0)}function updateClipStatus(r,n,i){for(var o=!1,a=0;a<r.length;a++){var u=r[a];o=o||u.isZeroArea(),setContextTransform(n,u),n.beginPath(),u.buildPath(n,u.shape),n.clip()}i.allClipped=o}function isTransformChanged(r,n){return r&&n?r[0]!==n[0]||r[1]!==n[1]||r[2]!==n[2]||r[3]!==n[3]||r[4]!==n[4]||r[5]!==n[5]:!(!r&&!n)}var DRAW_TYPE_PATH=1,DRAW_TYPE_IMAGE=2,DRAW_TYPE_TEXT=3,DRAW_TYPE_INCREMENTAL=4;function canPathBatch(r){var n=styleHasFill(r),i=styleHasStroke(r);return!(r.lineDash||!(+n^+i)||n&&typeof r.fill!="string"||i&&typeof r.stroke!="string"||r.strokePercent<1||r.strokeOpacity<1||r.fillOpacity<1)}function flushPathDrawn(r,n){n.batchFill&&r.fill(),n.batchStroke&&r.stroke(),n.batchFill="",n.batchStroke=""}function getStyle(r,n){return n&&r.__hoverStyle||r.style}function brushSingle(r,n){brush$1(r,n,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function brush$1(r,n,i,o){var a=n.transform;if(!n.shouldBePainted(i.viewWidth,i.viewHeight,!1,!1)){n.__dirty&=~REDRAW_BIT,n.__isRendered=!1;return}var u=n.__clipPaths,c=i.prevElClipPaths,f=!1,d=!1;if((!c||isClipPathChanged(u,c))&&(c&&c.length&&(flushPathDrawn(r,i),r.restore(),d=f=!0,i.prevElClipPaths=null,i.allClipped=!1,i.prevEl=null),u&&u.length&&(flushPathDrawn(r,i),r.save(),updateClipStatus(u,r,i),f=!0),i.prevElClipPaths=u),i.allClipped){n.__isRendered=!1;return}n.beforeBrush&&n.beforeBrush(),n.innerBeforeBrush();var p=i.prevEl;p||(d=f=!0);var h=n instanceof Path$1&&n.autoBatch&&canPathBatch(n.style);f||isTransformChanged(a,p.transform)?(flushPathDrawn(r,i),setContextTransform(r,n)):h||flushPathDrawn(r,i);var g=getStyle(n,i.inHover);n instanceof Path$1?(i.lastDrawType!==DRAW_TYPE_PATH&&(d=!0,i.lastDrawType=DRAW_TYPE_PATH),bindPathAndTextCommonStyle(r,n,p,d,i),(!h||!i.batchFill&&!i.batchStroke)&&r.beginPath(),brushPath(r,n,g,h),h&&(i.batchFill=g.fill||"",i.batchStroke=g.stroke||"")):n instanceof TSpan$1?(i.lastDrawType!==DRAW_TYPE_TEXT&&(d=!0,i.lastDrawType=DRAW_TYPE_TEXT),bindPathAndTextCommonStyle(r,n,p,d,i),brushText(r,n,g)):n instanceof ZRImage$1?(i.lastDrawType!==DRAW_TYPE_IMAGE&&(d=!0,i.lastDrawType=DRAW_TYPE_IMAGE),bindImageStyle(r,n,p,d,i),brushImage(r,n,g)):n.getTemporalDisplayables&&(i.lastDrawType!==DRAW_TYPE_INCREMENTAL&&(d=!0,i.lastDrawType=DRAW_TYPE_INCREMENTAL),brushIncremental(r,n,i)),h&&o&&flushPathDrawn(r,i),n.innerAfterBrush(),n.afterBrush&&n.afterBrush(),i.prevEl=n,n.__dirty=0,n.__isRendered=!0}function brushIncremental(r,n,i){var o=n.getDisplayables(),a=n.getTemporalDisplayables();r.save();var u={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:i.viewWidth,viewHeight:i.viewHeight,inHover:i.inHover},c,f;for(c=n.getCursor(),f=o.length;c<f;c++){var d=o[c];d.beforeBrush&&d.beforeBrush(),d.innerBeforeBrush(),brush$1(r,d,u,c===f-1),d.innerAfterBrush(),d.afterBrush&&d.afterBrush(),u.prevEl=d}for(var p=0,h=a.length;p<h;p++){var d=a[p];d.beforeBrush&&d.beforeBrush(),d.innerBeforeBrush(),brush$1(r,d,u,p===h-1),d.innerAfterBrush(),d.afterBrush&&d.afterBrush(),u.prevEl=d}n.clearTemporalDisplayables(),n.notClear=!0,r.restore()}var decalMap=new WeakMap$2,decalCache=new LRU$1(100),decalKeys=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function createOrUpdatePatternFromDecal(r,n){if(r==="none")return null;var i=n.getDevicePixelRatio(),o=n.getZr(),a=o.painter.type==="svg";r.dirty&&decalMap.delete(r);var u=decalMap.get(r);if(u)return u;var c=defaults(r,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});c.backgroundColor==="none"&&(c.backgroundColor=null);var f={repeat:"repeat"};return d(f),f.rotation=c.rotation,f.scaleX=f.scaleY=a?1:1/i,decalMap.set(r,f),r.dirty=!1,f;function d(p){for(var h=[i],g=!0,v=0;v<decalKeys.length;++v){var y=c[decalKeys[v]];if(y!=null&&!isArray$1(y)&&!isString$2(y)&&!isNumber$1(y)&&typeof y!="boolean"){g=!1;break}h.push(y)}var A;if(g){A=h.join(",")+(a?"-svg":"");var _=decalCache.get(A);_&&(a?p.svgElement=_:p.image=_)}var S=normalizeDashArrayX(c.dashArrayX),b=normalizeDashArrayY(c.dashArrayY),T=normalizeSymbolArray(c.symbol),w=getLineBlockLengthX(S),x=getLineBlockLengthY(b),k=!a&&platformApi.createCanvas(),M=a&&{tag:"g",attrs:{},key:"dcl",children:[]},D=j(),z;k&&(k.width=D.width*i,k.height=D.height*i,z=k.getContext("2d")),oe(),g&&decalCache.put(A,k||M),p.image=k,p.svgElement=M,p.svgWidth=D.width,p.svgHeight=D.height;function j(){for(var L=1,F=0,O=w.length;F<O;++F)L=getLeastCommonMultiple(L,w[F]);for(var ue=1,F=0,O=T.length;F<O;++F)ue=getLeastCommonMultiple(ue,T[F].length);L*=ue;var _e=x*w.length*T.length;if(process.env.NODE_ENV!=="production"){var Ce=function(de){console.warn("Calculated decal size is greater than "+de+" due to decal option settings so "+de+" is used for the decal size. Please consider changing the decal option to make a smaller decal or set "+de+" to be larger to avoid incontinuity.")};L>c.maxTileWidth&&Ce("maxTileWidth"),_e>c.maxTileHeight&&Ce("maxTileHeight")}return{width:Math.max(1,Math.min(L,c.maxTileWidth)),height:Math.max(1,Math.min(_e,c.maxTileHeight))}}function oe(){z&&(z.clearRect(0,0,k.width,k.height),c.backgroundColor&&(z.fillStyle=c.backgroundColor,z.fillRect(0,0,k.width,k.height)));for(var L=0,F=0;F<b.length;++F)L+=b[F];if(L<=0)return;for(var O=-x,ue=0,_e=0,Ce=0;O<D.height;){if(ue%2===0){for(var de=_e/2%T.length,ie=0,Y=0,Ie=0;ie<D.width*2;){for(var Oe=0,F=0;F<S[Ce].length;++F)Oe+=S[Ce][F];if(Oe<=0)break;if(Y%2===0){var kt=(1-c.symbolSize)*.5,Dt=ie+S[Ce][Y]*kt,Fe=O+b[ue]*kt,$e=S[Ce][Y]*c.symbolSize,Cn=b[ue]*c.symbolSize,Lt=Ie/2%T[de].length;In(Dt,Fe,$e,Cn,T[de][Lt])}ie+=S[Ce][Y],++Ie,++Y,Y===S[Ce].length&&(Y=0)}++Ce,Ce===S.length&&(Ce=0)}O+=b[ue],++_e,++ue,ue===b.length&&(ue=0)}function In(Et,Ne,pe,At,Ve){var xe=a?1:i,ze=createSymbol(Ve,Et*xe,Ne*xe,pe*xe,At*xe,c.color,c.symbolKeepAspect);if(a){var Pt=o.painter.renderOneToVNode(ze);Pt&&M.children.push(Pt)}else brushSingle(z,ze)}}}}function normalizeSymbolArray(r){if(!r||r.length===0)return[["rect"]];if(isString$2(r))return[[r]];for(var n=!0,i=0;i<r.length;++i)if(!isString$2(r[i])){n=!1;break}if(n)return normalizeSymbolArray([r]);for(var o=[],i=0;i<r.length;++i)isString$2(r[i])?o.push([r[i]]):o.push(r[i]);return o}function normalizeDashArrayX(r){if(!r||r.length===0)return[[0,0]];if(isNumber$1(r)){var n=Math.ceil(r);return[[n,n]]}for(var i=!0,o=0;o<r.length;++o)if(!isNumber$1(r[o])){i=!1;break}if(i)return normalizeDashArrayX([r]);for(var a=[],o=0;o<r.length;++o)if(isNumber$1(r[o])){var n=Math.ceil(r[o]);a.push([n,n])}else{var n=map$1(r[o],function(f){return Math.ceil(f)});n.length%2===1?a.push(n.concat(n)):a.push(n)}return a}function normalizeDashArrayY(r){if(!r||typeof r=="object"&&r.length===0)return[0,0];if(isNumber$1(r)){var n=Math.ceil(r);return[n,n]}var i=map$1(r,function(o){return Math.ceil(o)});return r.length%2?i.concat(i):i}function getLineBlockLengthX(r){return map$1(r,function(n){return getLineBlockLengthY(n)})}function getLineBlockLengthY(r){for(var n=0,i=0;i<r.length;++i)n+=r[i];return r.length%2===1?n*2:n}function decalVisual(r,n){r.eachRawSeries(function(i){if(!r.isSeriesFiltered(i)){var o=i.getData();o.hasItemVisual()&&o.each(function(c){var f=o.getItemVisual(c,"decal");if(f){var d=o.ensureUniqueItemVisual(c,"style");d.decal=createOrUpdatePatternFromDecal(f,n)}});var a=o.getVisual("decal");if(a){var u=o.getVisual("style");u.decal=createOrUpdatePatternFromDecal(a,n)}}})}var lifecycle=new Eventful$1;const lifecycle$1=lifecycle;var implsStore={};function registerImpl(r,n){process.env.NODE_ENV!=="production"&&implsStore[r]&&error("Already has an implementation of "+r+"."),implsStore[r]=n}function getImpl(r){return process.env.NODE_ENV!=="production"&&(implsStore[r]||error("Implementation of "+r+" doesn't exists.")),implsStore[r]}var TEST_FRAME_REMAIN_TIME=1,PRIORITY_PROCESSOR_SERIES_FILTER=800,PRIORITY_PROCESSOR_DATASTACK=900,PRIORITY_PROCESSOR_FILTER=1e3,PRIORITY_PROCESSOR_DEFAULT=2e3,PRIORITY_PROCESSOR_STATISTIC=5e3,PRIORITY_VISUAL_LAYOUT=1e3,PRIORITY_VISUAL_PROGRESSIVE_LAYOUT=1100,PRIORITY_VISUAL_GLOBAL=2e3,PRIORITY_VISUAL_CHART=3e3,PRIORITY_VISUAL_COMPONENT=4e3,PRIORITY_VISUAL_CHART_DATA_CUSTOM=4500,PRIORITY_VISUAL_POST_CHART_LAYOUT=4600,PRIORITY_VISUAL_BRUSH=5e3,PRIORITY_VISUAL_ARIA=6e3,PRIORITY_VISUAL_DECAL=7e3,PRIORITY={PROCESSOR:{FILTER:PRIORITY_PROCESSOR_FILTER,SERIES_FILTER:PRIORITY_PROCESSOR_SERIES_FILTER,STATISTIC:PRIORITY_PROCESSOR_STATISTIC},VISUAL:{LAYOUT:PRIORITY_VISUAL_LAYOUT,PROGRESSIVE_LAYOUT:PRIORITY_VISUAL_PROGRESSIVE_LAYOUT,GLOBAL:PRIORITY_VISUAL_GLOBAL,CHART:PRIORITY_VISUAL_CHART,POST_CHART_LAYOUT:PRIORITY_VISUAL_POST_CHART_LAYOUT,COMPONENT:PRIORITY_VISUAL_COMPONENT,BRUSH:PRIORITY_VISUAL_BRUSH,CHART_ITEM:PRIORITY_VISUAL_CHART_DATA_CUSTOM,ARIA:PRIORITY_VISUAL_ARIA,DECAL:PRIORITY_VISUAL_DECAL}},IN_MAIN_PROCESS_KEY="__flagInMainProcess",PENDING_UPDATE="__pendingUpdate",STATUS_NEEDS_UPDATE_KEY="__needsUpdateStatus",ACTION_REG=/^[a-zA-Z0-9_]+$/;function createRegisterEventWithLowercaseECharts(r){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];if(this.isDisposed()){disposedWarning(this.id);return}return toLowercaseNameAndCallEventful(this,r,n)}}function createRegisterEventWithLowercaseMessageCenter(r){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return toLowercaseNameAndCallEventful(this,r,n)}}function toLowercaseNameAndCallEventful(r,n,i){return i[0]=i[0]&&i[0].toLowerCase(),Eventful$1.prototype[n].apply(r,i)}var MessageCenter=function(r){__extends(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return n}(Eventful$1),messageCenterProto=MessageCenter.prototype;messageCenterProto.on=createRegisterEventWithLowercaseMessageCenter("on"),messageCenterProto.off=createRegisterEventWithLowercaseMessageCenter("off");var prepare,prepareView,updateDirectly,updateMethods,doConvertPixel,updateStreamModes,doDispatchAction,flushPendingActions,triggerUpdatedEvent,bindRenderedEvent,bindMouseEvent,render,renderComponents,renderSeries,createExtensionAPI,markStatusToUpdate,applyChangedStates,ECharts=function(r){__extends(n,r);function n(i,o,a){var u=r.call(this,new ECEventProcessor)||this;u._chartsViews=[],u._chartsMap={},u._componentsViews=[],u._componentsMap={},u._pendingActions=[],a=a||{},isString$2(o)&&(o=themeStorage[o]),u._dom=i;var c="canvas",f="auto",d=!1;if(process.env.NODE_ENV!=="production"){var p=env$1.hasGlobalWindow?window:global;c=p.__ECHARTS__DEFAULT__RENDERER__||c,f=retrieve2(p.__ECHARTS__DEFAULT__COARSE_POINTER,f);var h=p.__ECHARTS__DEFAULT__USE_DIRTY_RECT__;d=h??d}var g=u._zr=init(i,{renderer:a.renderer||c,devicePixelRatio:a.devicePixelRatio,width:a.width,height:a.height,ssr:a.ssr,useDirtyRect:retrieve2(a.useDirtyRect,d),useCoarsePointer:retrieve2(a.useCoarsePointer,f),pointerSize:a.pointerSize});u._ssr=a.ssr,u._throttledZrFlush=throttle$1(bind$1(g.flush,g),17),o=clone$2(o),o&&globalBackwardCompat(o,!0),u._theme=o,u._locale=createLocaleObject(a.locale||SYSTEM_LANG),u._coordSysMgr=new CoordinateSystem;var v=u._api=createExtensionAPI(u);function y(A,_){return A.__prio-_.__prio}return sort(visualFuncs,y),sort(dataProcessorFuncs,y),u._scheduler=new Scheduler$1(u,v,dataProcessorFuncs,visualFuncs),u._messageCenter=new MessageCenter,u._initEvents(),u.resize=bind$1(u.resize,u),g.animation.on("frame",u._onframe,u),bindRenderedEvent(g,u),bindMouseEvent(g,u),setAsPrimitive(u),u}return n.prototype._onframe=function(){if(!this._disposed){applyChangedStates(this);var i=this._scheduler;if(this[PENDING_UPDATE]){var o=this[PENDING_UPDATE].silent;this[IN_MAIN_PROCESS_KEY]=!0;try{prepare(this),updateMethods.update.call(this,null,this[PENDING_UPDATE].updateParams)}catch(d){throw this[IN_MAIN_PROCESS_KEY]=!1,this[PENDING_UPDATE]=null,d}this._zr.flush(),this[IN_MAIN_PROCESS_KEY]=!1,this[PENDING_UPDATE]=null,flushPendingActions.call(this,o),triggerUpdatedEvent.call(this,o)}else if(i.unfinished){var a=TEST_FRAME_REMAIN_TIME,u=this._model,c=this._api;i.unfinished=!1;do{var f=+new Date;i.performSeriesTasks(u),i.performDataProcessorTasks(u),updateStreamModes(this,u),i.performVisualTasks(u),renderSeries(this,this._model,c,"remain",{}),a-=+new Date-f}while(a>0&&i.unfinished);i.unfinished||this._zr.flush()}}},n.prototype.getDom=function(){return this._dom},n.prototype.getId=function(){return this.id},n.prototype.getZr=function(){return this._zr},n.prototype.isSSR=function(){return this._ssr},n.prototype.setOption=function(i,o,a){if(this[IN_MAIN_PROCESS_KEY]){process.env.NODE_ENV!=="production"&&error("`setOption` should not be called during main process.");return}if(this._disposed){disposedWarning(this.id);return}var u,c,f;if(isObject$3(o)&&(a=o.lazyUpdate,u=o.silent,c=o.replaceMerge,f=o.transition,o=o.notMerge),this[IN_MAIN_PROCESS_KEY]=!0,!this._model||o){var d=new OptionManager$1(this._api),p=this._theme,h=this._model=new GlobalModel$1;h.scheduler=this._scheduler,h.ssr=this._ssr,h.init(null,null,null,p,this._locale,d)}this._model.setOption(i,{replaceMerge:c},optionPreprocessorFuncs);var g={seriesTransition:f,optionChanged:!0};if(a)this[PENDING_UPDATE]={silent:u,updateParams:g},this[IN_MAIN_PROCESS_KEY]=!1,this.getZr().wakeUp();else{try{prepare(this),updateMethods.update.call(this,null,g)}catch(v){throw this[PENDING_UPDATE]=null,this[IN_MAIN_PROCESS_KEY]=!1,v}this._ssr||this._zr.flush(),this[PENDING_UPDATE]=null,this[IN_MAIN_PROCESS_KEY]=!1,flushPendingActions.call(this,u),triggerUpdatedEvent.call(this,u)}},n.prototype.setTheme=function(){deprecateLog("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},n.prototype.getModel=function(){return this._model},n.prototype.getOption=function(){return this._model&&this._model.getOption()},n.prototype.getWidth=function(){return this._zr.getWidth()},n.prototype.getHeight=function(){return this._zr.getHeight()},n.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||env$1.hasGlobalWindow&&window.devicePixelRatio||1},n.prototype.getRenderedCanvas=function(i){return process.env.NODE_ENV!=="production"&&deprecateReplaceLog("getRenderedCanvas","renderToCanvas"),this.renderToCanvas(i)},n.prototype.renderToCanvas=function(i){i=i||{};var o=this._zr.painter;if(process.env.NODE_ENV!=="production"&&o.type!=="canvas")throw new Error("renderToCanvas can only be used in the canvas renderer.");return o.getRenderedCanvas({backgroundColor:i.backgroundColor||this._model.get("backgroundColor"),pixelRatio:i.pixelRatio||this.getDevicePixelRatio()})},n.prototype.renderToSVGString=function(i){i=i||{};var o=this._zr.painter;if(process.env.NODE_ENV!=="production"&&o.type!=="svg")throw new Error("renderToSVGString can only be used in the svg renderer.");return o.renderToString({useViewBox:i.useViewBox})},n.prototype.getSvgDataURL=function(){if(env$1.svgSupported){var i=this._zr,o=i.storage.getDisplayList();return each$4(o,function(a){a.stopAnimation(null,!0)}),i.painter.toDataURL()}},n.prototype.getDataURL=function(i){if(this._disposed){disposedWarning(this.id);return}i=i||{};var o=i.excludeComponents,a=this._model,u=[],c=this;each$4(o,function(d){a.eachComponent({mainType:d},function(p){var h=c._componentsMap[p.__viewId];h.group.ignore||(u.push(h),h.group.ignore=!0)})});var f=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(i).toDataURL("image/"+(i&&i.type||"png"));return each$4(u,function(d){d.group.ignore=!1}),f},n.prototype.getConnectedDataURL=function(i){if(this._disposed){disposedWarning(this.id);return}var o=i.type==="svg",a=this.group,u=Math.min,c=Math.max,f=1/0;if(connectedGroups[a]){var d=f,p=f,h=-f,g=-f,v=[],y=i&&i.pixelRatio||this.getDevicePixelRatio();each$4(instances,function(w,x){if(w.group===a){var k=o?w.getZr().painter.getSvgDom().innerHTML:w.renderToCanvas(clone$2(i)),M=w.getDom().getBoundingClientRect();d=u(M.left,d),p=u(M.top,p),h=c(M.right,h),g=c(M.bottom,g),v.push({dom:k,left:M.left,top:M.top})}}),d*=y,p*=y,h*=y,g*=y;var A=h-d,_=g-p,S=platformApi.createCanvas(),b=init(S,{renderer:o?"svg":"canvas"});if(b.resize({width:A,height:_}),o){var T="";return each$4(v,function(w){var x=w.left-d,k=w.top-p;T+='<g transform="translate('+x+","+k+')">'+w.dom+"</g>"}),b.painter.getSvgRoot().innerHTML=T,i.connectedBackgroundColor&&b.painter.setBackgroundColor(i.connectedBackgroundColor),b.refreshImmediately(),b.painter.toDataURL()}else return i.connectedBackgroundColor&&b.add(new Rect$1({shape:{x:0,y:0,width:A,height:_},style:{fill:i.connectedBackgroundColor}})),each$4(v,function(w){var x=new ZRImage$1({style:{x:w.left*y-d,y:w.top*y-p,image:w.dom}});b.add(x)}),b.refreshImmediately(),S.toDataURL("image/"+(i&&i.type||"png"))}else return this.getDataURL(i)},n.prototype.convertToPixel=function(i,o){return doConvertPixel(this,"convertToPixel",i,o)},n.prototype.convertFromPixel=function(i,o){return doConvertPixel(this,"convertFromPixel",i,o)},n.prototype.containPixel=function(i,o){if(this._disposed){disposedWarning(this.id);return}var a=this._model,u,c=parseFinder(a,i);return each$4(c,function(f,d){d.indexOf("Models")>=0&&each$4(f,function(p){var h=p.coordinateSystem;if(h&&h.containPoint)u=u||!!h.containPoint(o);else if(d==="seriesModels"){var g=this._chartsMap[p.__viewId];g&&g.containPoint?u=u||g.containPoint(o,p):process.env.NODE_ENV!=="production"&&warn(d+": "+(g?"The found component do not support containPoint.":"No view mapping to the found component."))}else process.env.NODE_ENV!=="production"&&warn(d+": containPoint is not supported")},this)},this),!!u},n.prototype.getVisual=function(i,o){var a=this._model,u=parseFinder(a,i,{defaultMainType:"series"}),c=u.seriesModel;process.env.NODE_ENV!=="production"&&(c||warn("There is no specified series model"));var f=c.getData(),d=u.hasOwnProperty("dataIndexInside")?u.dataIndexInside:u.hasOwnProperty("dataIndex")?f.indexOfRawIndex(u.dataIndex):null;return d!=null?getItemVisualFromData(f,d,o):getVisualFromData(f,o)},n.prototype.getViewOfComponentModel=function(i){return this._componentsMap[i.__viewId]},n.prototype.getViewOfSeriesModel=function(i){return this._chartsMap[i.__viewId]},n.prototype._initEvents=function(){var i=this;each$4(MOUSE_EVENT_NAMES,function(o){var a=function(u){var c=i.getModel(),f=u.target,d,p=o==="globalout";if(p?d={}:f&&findEventDispatcher(f,function(A){var _=getECData(A);if(_&&_.dataIndex!=null){var S=_.dataModel||c.getSeriesByIndex(_.seriesIndex);return d=S&&S.getDataParams(_.dataIndex,_.dataType)||{},!0}else if(_.eventData)return d=extend({},_.eventData),!0},!0),d){var h=d.componentType,g=d.componentIndex;(h==="markLine"||h==="markPoint"||h==="markArea")&&(h="series",g=d.seriesIndex);var v=h&&g!=null&&c.getComponent(h,g),y=v&&i[v.mainType==="series"?"_chartsMap":"_componentsMap"][v.__viewId];process.env.NODE_ENV!=="production"&&!p&&!(v&&y)&&warn("model or view can not be found by params"),d.event=u,d.type=o,i._$eventProcessor.eventInfo={targetEl:f,packedEvent:d,model:v,view:y},i.trigger(o,d)}};a.zrEventfulCallAtLast=!0,i._zr.on(o,a,i)}),each$4(eventActionMap,function(o,a){i._messageCenter.on(a,function(u){this.trigger(a,u)},i)}),each$4(["selectchanged"],function(o){i._messageCenter.on(o,function(a){this.trigger(o,a)},i)}),handleLegacySelectEvents(this._messageCenter,this,this._api)},n.prototype.isDisposed=function(){return this._disposed},n.prototype.clear=function(){if(this._disposed){disposedWarning(this.id);return}this.setOption({series:[]},!0)},n.prototype.dispose=function(){if(this._disposed){disposedWarning(this.id);return}this._disposed=!0;var i=this.getDom();i&&setAttribute(this.getDom(),DOM_ATTRIBUTE_KEY,"");var o=this,a=o._api,u=o._model;each$4(o._componentsViews,function(c){c.dispose(u,a)}),each$4(o._chartsViews,function(c){c.dispose(u,a)}),o._zr.dispose(),o._dom=o._model=o._chartsMap=o._componentsMap=o._chartsViews=o._componentsViews=o._scheduler=o._api=o._zr=o._throttledZrFlush=o._theme=o._coordSysMgr=o._messageCenter=null,delete instances[o.id]},n.prototype.resize=function(i){if(this[IN_MAIN_PROCESS_KEY]){process.env.NODE_ENV!=="production"&&error("`resize` should not be called during main process.");return}if(this._disposed){disposedWarning(this.id);return}this._zr.resize(i);var o=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!o){var a=o.resetOption("media"),u=i&&i.silent;this[PENDING_UPDATE]&&(u==null&&(u=this[PENDING_UPDATE].silent),a=!0,this[PENDING_UPDATE]=null),this[IN_MAIN_PROCESS_KEY]=!0;try{a&&prepare(this),updateMethods.update.call(this,{type:"resize",animation:extend({duration:0},i&&i.animation)})}catch(c){throw this[IN_MAIN_PROCESS_KEY]=!1,c}this[IN_MAIN_PROCESS_KEY]=!1,flushPendingActions.call(this,u),triggerUpdatedEvent.call(this,u)}},n.prototype.showLoading=function(i,o){if(this._disposed){disposedWarning(this.id);return}if(isObject$3(i)&&(o=i,i=""),i=i||"default",this.hideLoading(),!loadingEffects[i]){process.env.NODE_ENV!=="production"&&warn("Loading effects "+i+" not exists.");return}var a=loadingEffects[i](this._api,o),u=this._zr;this._loadingFX=a,u.add(a)},n.prototype.hideLoading=function(){if(this._disposed){disposedWarning(this.id);return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},n.prototype.makeActionFromEvent=function(i){var o=extend({},i);return o.type=eventActionMap[i.type],o},n.prototype.dispatchAction=function(i,o){if(this._disposed){disposedWarning(this.id);return}if(isObject$3(o)||(o={silent:!!o}),!!actions[i.type]&&this._model){if(this[IN_MAIN_PROCESS_KEY]){this._pendingActions.push(i);return}var a=o.silent;doDispatchAction.call(this,i,a);var u=o.flush;u?this._zr.flush():u!==!1&&env$1.browser.weChat&&this._throttledZrFlush(),flushPendingActions.call(this,a),triggerUpdatedEvent.call(this,a)}},n.prototype.updateLabelLayout=function(){lifecycle$1.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},n.prototype.appendData=function(i){if(this._disposed){disposedWarning(this.id);return}var o=i.seriesIndex,a=this.getModel(),u=a.getSeriesByIndex(o);process.env.NODE_ENV!=="production"&&assert(i.data&&u),u.appendData(i),this._scheduler.unfinished=!0,this.getZr().wakeUp()},n.internalField=function(){prepare=function(g){var v=g._scheduler;v.restorePipelines(g._model),v.prepareStageTasks(),prepareView(g,!0),prepareView(g,!1),v.plan()},prepareView=function(g,v){for(var y=g._model,A=g._scheduler,_=v?g._componentsViews:g._chartsViews,S=v?g._componentsMap:g._chartsMap,b=g._zr,T=g._api,w=0;w<_.length;w++)_[w].__alive=!1;v?y.eachComponent(function(M,D){M!=="series"&&x(D)}):y.eachSeries(x);function x(M){var D=M.__requireNewView;M.__requireNewView=!1;var z="_ec_"+M.id+"_"+M.type,j=!D&&S[z];if(!j){var oe=parseClassType(M.type),L=v?ComponentView$1.getClass(oe.main,oe.sub):ChartView$1.getClass(oe.sub);process.env.NODE_ENV!=="production"&&assert(L,oe.sub+" does not exist."),j=new L,j.init(y,T),S[z]=j,_.push(j),b.add(j.group)}M.__viewId=j.__id=z,j.__alive=!0,j.__model=M,j.group.__ecComponentInfo={mainType:M.mainType,index:M.componentIndex},!v&&A.prepareView(j,M,y,T)}for(var w=0;w<_.length;){var k=_[w];k.__alive?w++:(!v&&k.renderTask.dispose(),b.remove(k.group),k.dispose(y,T),_.splice(w,1),S[k.__id]===k&&delete S[k.__id],k.__id=k.group.__ecComponentInfo=null)}},updateDirectly=function(g,v,y,A,_){var S=g._model;if(S.setUpdatePayload(y),!A){each$4([].concat(g._componentsViews).concat(g._chartsViews),k);return}var b={};b[A+"Id"]=y[A+"Id"],b[A+"Index"]=y[A+"Index"],b[A+"Name"]=y[A+"Name"];var T={mainType:A,query:b};_&&(T.subType=_);var w=y.excludeSeriesId,x;w!=null&&(x=createHashMap(),each$4(normalizeToArray(w),function(M){var D=convertOptionIdName(M,null);D!=null&&x.set(D,!0)})),S&&S.eachComponent(T,function(M){var D=x&&x.get(M.id)!=null;if(!D)if(isHighDownPayload(y))if(M instanceof SeriesModel$1)y.type===HIGHLIGHT_ACTION_TYPE&&!y.notBlur&&!M.get(["emphasis","disabled"])&&blurSeriesFromHighlightPayload(M,y,g._api);else{var z=findComponentHighDownDispatchers(M.mainType,M.componentIndex,y.name,g._api),j=z.focusSelf,oe=z.dispatchers;y.type===HIGHLIGHT_ACTION_TYPE&&j&&!y.notBlur&&blurComponent(M.mainType,M.componentIndex,g._api),oe&&each$4(oe,function(L){y.type===HIGHLIGHT_ACTION_TYPE?enterEmphasis(L):leaveEmphasis(L)})}else isSelectChangePayload(y)&&M instanceof SeriesModel$1&&(toggleSelectionFromPayload(M,y,g._api),updateSeriesElementSelection(M),markStatusToUpdate(g))},g),S&&S.eachComponent(T,function(M){var D=x&&x.get(M.id)!=null;D||k(g[A==="series"?"_chartsMap":"_componentsMap"][M.__viewId])},g);function k(M){M&&M.__alive&&M[v]&&M[v](M.__model,S,g._api,y)}},updateMethods={prepareAndUpdate:function(g){prepare(this),updateMethods.update.call(this,g,{optionChanged:g.newOption!=null})},update:function(g,v){var y=this._model,A=this._api,_=this._zr,S=this._coordSysMgr,b=this._scheduler;if(y){y.setUpdatePayload(g),b.restoreData(y,g),b.performSeriesTasks(y),S.create(y,A),b.performDataProcessorTasks(y,g),updateStreamModes(this,y),S.update(y,A),i(y),b.performVisualTasks(y,g),render(this,y,A,g,v);var T=y.get("backgroundColor")||"transparent",w=y.get("darkMode");_.setBackgroundColor(T),w!=null&&w!=="auto"&&_.setDarkMode(w),lifecycle$1.trigger("afterupdate",y,A)}},updateTransform:function(g){var v=this,y=this._model,A=this._api;if(y){y.setUpdatePayload(g);var _=[];y.eachComponent(function(b,T){if(b!=="series"){var w=v.getViewOfComponentModel(T);if(w&&w.__alive)if(w.updateTransform){var x=w.updateTransform(T,y,A,g);x&&x.update&&_.push(w)}else _.push(w)}});var S=createHashMap();y.eachSeries(function(b){var T=v._chartsMap[b.__viewId];if(T.updateTransform){var w=T.updateTransform(b,y,A,g);w&&w.update&&S.set(b.uid,1)}else S.set(b.uid,1)}),i(y),this._scheduler.performVisualTasks(y,g,{setDirty:!0,dirtyMap:S}),renderSeries(this,y,A,g,{},S),lifecycle$1.trigger("afterupdate",y,A)}},updateView:function(g){var v=this._model;v&&(v.setUpdatePayload(g),ChartView$1.markUpdateMethod(g,"updateView"),i(v),this._scheduler.performVisualTasks(v,g,{setDirty:!0}),render(this,v,this._api,g,{}),lifecycle$1.trigger("afterupdate",v,this._api))},updateVisual:function(g){var v=this,y=this._model;y&&(y.setUpdatePayload(g),y.eachSeries(function(A){A.getData().clearAllVisual()}),ChartView$1.markUpdateMethod(g,"updateVisual"),i(y),this._scheduler.performVisualTasks(y,g,{visualType:"visual",setDirty:!0}),y.eachComponent(function(A,_){if(A!=="series"){var S=v.getViewOfComponentModel(_);S&&S.__alive&&S.updateVisual(_,y,v._api,g)}}),y.eachSeries(function(A){var _=v._chartsMap[A.__viewId];_.updateVisual(A,y,v._api,g)}),lifecycle$1.trigger("afterupdate",y,this._api))},updateLayout:function(g){updateMethods.update.call(this,g)}},doConvertPixel=function(g,v,y,A){if(g._disposed){disposedWarning(g.id);return}for(var _=g._model,S=g._coordSysMgr.getCoordinateSystems(),b,T=parseFinder(_,y),w=0;w<S.length;w++){var x=S[w];if(x[v]&&(b=x[v](_,T,A))!=null)return b}process.env.NODE_ENV!=="production"&&warn("No coordinate system that supports "+v+" found by the given finder.")},updateStreamModes=function(g,v){var y=g._chartsMap,A=g._scheduler;v.eachSeries(function(_){A.updateStreamModes(_,y[_.__viewId])})},doDispatchAction=function(g,v){var y=this,A=this.getModel(),_=g.type,S=g.escapeConnect,b=actions[_],T=b.actionInfo,w=(T.update||"update").split(":"),x=w.pop(),k=w[0]!=null&&parseClassType(w[0]);this[IN_MAIN_PROCESS_KEY]=!0;var M=[g],D=!1;g.batch&&(D=!0,M=map$1(g.batch,function(ue){return ue=defaults(extend({},ue),g),ue.batch=null,ue}));var z=[],j,oe=isSelectChangePayload(g),L=isHighDownPayload(g);if(L&&allLeaveBlur(this._api),each$4(M,function(ue){if(j=b.action(ue,y._model,y._api),j=j||extend({},ue),j.type=T.event||j.type,z.push(j),L){var _e=preParseFinder(g),Ce=_e.queryOptionMap,de=_e.mainTypeSpecified,ie=de?Ce.keys()[0]:"series";updateDirectly(y,x,ue,ie),markStatusToUpdate(y)}else oe?(updateDirectly(y,x,ue,"series"),markStatusToUpdate(y)):k&&updateDirectly(y,x,ue,k.main,k.sub)}),x!=="none"&&!L&&!oe&&!k)try{this[PENDING_UPDATE]?(prepare(this),updateMethods.update.call(this,g),this[PENDING_UPDATE]=null):updateMethods[x].call(this,g)}catch(ue){throw this[IN_MAIN_PROCESS_KEY]=!1,ue}if(D?j={type:T.event||_,escapeConnect:S,batch:z}:j=z[0],this[IN_MAIN_PROCESS_KEY]=!1,!v){var F=this._messageCenter;if(F.trigger(j.type,j),oe){var O={type:"selectchanged",escapeConnect:S,selected:getAllSelectedIndices(A),isFromClick:g.isFromClick||!1,fromAction:g.type,fromActionPayload:g};F.trigger(O.type,O)}}},flushPendingActions=function(g){for(var v=this._pendingActions;v.length;){var y=v.shift();doDispatchAction.call(this,y,g)}},triggerUpdatedEvent=function(g){!g&&this.trigger("updated")},bindRenderedEvent=function(g,v){g.on("rendered",function(y){v.trigger("rendered",y),g.animation.isFinished()&&!v[PENDING_UPDATE]&&!v._scheduler.unfinished&&!v._pendingActions.length&&v.trigger("finished")})},bindMouseEvent=function(g,v){g.on("mouseover",function(y){var A=y.target,_=findEventDispatcher(A,isHighDownDispatcher);_&&(handleGlobalMouseOverForHighDown(_,y,v._api),markStatusToUpdate(v))}).on("mouseout",function(y){var A=y.target,_=findEventDispatcher(A,isHighDownDispatcher);_&&(handleGlobalMouseOutForHighDown(_,y,v._api),markStatusToUpdate(v))}).on("click",function(y){var A=y.target,_=findEventDispatcher(A,function(T){return getECData(T).dataIndex!=null},!0);if(_){var S=_.selected?"unselect":"select",b=getECData(_);v._api.dispatchAction({type:S,dataType:b.dataType,dataIndexInside:b.dataIndex,seriesIndex:b.seriesIndex,isFromClick:!0})}})};function i(g){g.clearColorPalette(),g.eachSeries(function(v){v.clearColorPalette()})}function o(g){var v=[],y=[],A=!1;if(g.eachComponent(function(T,w){var x=w.get("zlevel")||0,k=w.get("z")||0,M=w.getZLevelKey();A=A||!!M,(T==="series"?y:v).push({zlevel:x,z:k,idx:w.componentIndex,type:T,key:M})}),A){var _=v.concat(y),S,b;sort(_,function(T,w){return T.zlevel===w.zlevel?T.z-w.z:T.zlevel-w.zlevel}),each$4(_,function(T){var w=g.getComponent(T.type,T.idx),x=T.zlevel,k=T.key;S!=null&&(x=Math.max(S,x)),k?(x===S&&k!==b&&x++,b=k):b&&(x===S&&x++,b=""),S=x,w.setZLevel(x)})}}render=function(g,v,y,A,_){o(v),renderComponents(g,v,y,A,_),each$4(g._chartsViews,function(S){S.__alive=!1}),renderSeries(g,v,y,A,_),each$4(g._chartsViews,function(S){S.__alive||S.remove(v,y)})},renderComponents=function(g,v,y,A,_,S){each$4(S||g._componentsViews,function(b){var T=b.__model;p(T,b),b.render(T,v,y,A),f(T,b),h(T,b)})},renderSeries=function(g,v,y,A,_,S){var b=g._scheduler;_=extend(_||{},{updatedSeries:v.getSeries()}),lifecycle$1.trigger("series:beforeupdate",v,y,_);var T=!1;v.eachSeries(function(w){var x=g._chartsMap[w.__viewId];x.__alive=!0;var k=x.renderTask;b.updatePayload(k,A),p(w,x),S&&S.get(w.uid)&&k.dirty(),k.perform(b.getPerformArgs(k))&&(T=!0),x.group.silent=!!w.get("silent"),c(w,x),updateSeriesElementSelection(w)}),b.unfinished=T||b.unfinished,lifecycle$1.trigger("series:layoutlabels",v,y,_),lifecycle$1.trigger("series:transition",v,y,_),v.eachSeries(function(w){var x=g._chartsMap[w.__viewId];f(w,x),h(w,x)}),u(g,v),lifecycle$1.trigger("series:afterupdate",v,y,_)},markStatusToUpdate=function(g){g[STATUS_NEEDS_UPDATE_KEY]=!0,g.getZr().wakeUp()},applyChangedStates=function(g){g[STATUS_NEEDS_UPDATE_KEY]&&(g.getZr().storage.traverse(function(v){isElementRemoved(v)||a(v)}),g[STATUS_NEEDS_UPDATE_KEY]=!1)};function a(g){for(var v=[],y=g.currentStates,A=0;A<y.length;A++){var _=y[A];_==="emphasis"||_==="blur"||_==="select"||v.push(_)}g.selected&&g.states.select&&v.push("select"),g.hoverState===HOVER_STATE_EMPHASIS&&g.states.emphasis?v.push("emphasis"):g.hoverState===HOVER_STATE_BLUR&&g.states.blur&&v.push("blur"),g.useStates(v)}function u(g,v){var y=g._zr,A=y.storage,_=0;A.traverse(function(S){S.isGroup||_++}),_>v.get("hoverLayerThreshold")&&!env$1.node&&!env$1.worker&&v.eachSeries(function(S){if(!S.preventUsingHoverLayer){var b=g._chartsMap[S.__viewId];b.__alive&&b.eachRendered(function(T){T.states.emphasis&&(T.states.emphasis.hoverLayer=!0)})}})}function c(g,v){var y=g.get("blendMode")||null;v.eachRendered(function(A){A.isGroup||(A.style.blend=y)})}function f(g,v){if(!g.preventAutoZ){var y=g.get("z")||0,A=g.get("zlevel")||0;v.eachRendered(function(_){return d(_,y,A,-1/0),!0})}}function d(g,v,y,A){var _=g.getTextContent(),S=g.getTextGuideLine(),b=g.isGroup;if(b)for(var T=g.childrenRef(),w=0;w<T.length;w++)A=Math.max(d(T[w],v,y,A),A);else g.z=v,g.zlevel=y,A=Math.max(g.z2,A);if(_&&(_.z=v,_.zlevel=y,isFinite(A)&&(_.z2=A+2)),S){var x=g.textGuideLineConfig;S.z=v,S.zlevel=y,isFinite(A)&&(S.z2=A+(x&&x.showAbove?1:-1))}return A}function p(g,v){v.eachRendered(function(y){if(!isElementRemoved(y)){var A=y.getTextContent(),_=y.getTextGuideLine();y.stateTransition&&(y.stateTransition=null),A&&A.stateTransition&&(A.stateTransition=null),_&&_.stateTransition&&(_.stateTransition=null),y.hasState()?(y.prevStates=y.currentStates,y.clearStates()):y.prevStates&&(y.prevStates=null)}})}function h(g,v){var y=g.getModel("stateAnimation"),A=g.isAnimationEnabled(),_=y.get("duration"),S=_>0?{duration:_,delay:y.get("delay"),easing:y.get("easing")}:null;v.eachRendered(function(b){if(b.states&&b.states.emphasis){if(isElementRemoved(b))return;if(b instanceof Path$1&&savePathStates(b),b.__dirty){var T=b.prevStates;T&&b.useStates(T)}if(A){b.stateTransition=S;var w=b.getTextContent(),x=b.getTextGuideLine();w&&(w.stateTransition=S),x&&(x.stateTransition=S)}b.__dirty&&a(b)}})}createExtensionAPI=function(g){return new(function(v){__extends(y,v);function y(){return v!==null&&v.apply(this,arguments)||this}return y.prototype.getCoordinateSystems=function(){return g._coordSysMgr.getCoordinateSystems()},y.prototype.getComponentByElement=function(A){for(;A;){var _=A.__ecComponentInfo;if(_!=null)return g._model.getComponent(_.mainType,_.index);A=A.parent}},y.prototype.enterEmphasis=function(A,_){enterEmphasis(A,_),markStatusToUpdate(g)},y.prototype.leaveEmphasis=function(A,_){leaveEmphasis(A,_),markStatusToUpdate(g)},y.prototype.enterBlur=function(A){enterBlur(A),markStatusToUpdate(g)},y.prototype.leaveBlur=function(A){leaveBlur(A),markStatusToUpdate(g)},y.prototype.enterSelect=function(A){enterSelect(A),markStatusToUpdate(g)},y.prototype.leaveSelect=function(A){leaveSelect(A),markStatusToUpdate(g)},y.prototype.getModel=function(){return g.getModel()},y.prototype.getViewOfComponentModel=function(A){return g.getViewOfComponentModel(A)},y.prototype.getViewOfSeriesModel=function(A){return g.getViewOfSeriesModel(A)},y}(ExtensionAPI$1))(g)}}(),n}(Eventful$1),echartsProto=ECharts.prototype;echartsProto.on=createRegisterEventWithLowercaseECharts("on"),echartsProto.off=createRegisterEventWithLowercaseECharts("off"),echartsProto.one=function(r,n,i){var o=this;deprecateLog("ECharts#one is deprecated.");function a(){for(var u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];n&&n.apply&&n.apply(this,u),o.off(r,a)}this.on.call(this,r,a,i)};var MOUSE_EVENT_NAMES=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function disposedWarning(r){process.env.NODE_ENV!=="production"&&warn("Instance "+r+" has been disposed")}var actions={},eventActionMap={},dataProcessorFuncs=[],optionPreprocessorFuncs=[],visualFuncs=[],themeStorage={},loadingEffects={},instances={},connectedGroups={},DOM_ATTRIBUTE_KEY="_echarts_instance_";function registerTheme(r,n){themeStorage[r]=n}function registerPreprocessor(r){indexOf(optionPreprocessorFuncs,r)<0&&optionPreprocessorFuncs.push(r)}function registerProcessor(r,n){normalizeRegister(dataProcessorFuncs,r,n,PRIORITY_PROCESSOR_DEFAULT)}function registerPostInit(r){registerUpdateLifecycle("afterinit",r)}function registerPostUpdate(r){registerUpdateLifecycle("afterupdate",r)}function registerUpdateLifecycle(r,n){lifecycle$1.on(r,n)}function registerAction(r,n,i){isFunction$1(n)&&(i=n,n="");var o=isObject$3(r)?r.type:[r,r={event:n}][0];r.event=(r.event||o).toLowerCase(),n=r.event,!eventActionMap[n]&&(assert(ACTION_REG.test(o)&&ACTION_REG.test(n)),actions[o]||(actions[o]={action:i,actionInfo:r}),eventActionMap[n]=o)}function registerCoordinateSystem(r,n){CoordinateSystem.register(r,n)}function registerLayout(r,n){normalizeRegister(visualFuncs,r,n,PRIORITY_VISUAL_LAYOUT,"layout")}function registerVisual(r,n){normalizeRegister(visualFuncs,r,n,PRIORITY_VISUAL_CHART,"visual")}var registeredTasks=[];function normalizeRegister(r,n,i,o,a){if((isFunction$1(n)||isObject$3(n))&&(i=n,n=o),process.env.NODE_ENV!=="production"){if(isNaN(n)||n==null)throw new Error("Illegal priority");each$4(r,function(c){assert(c.__raw!==i)})}if(!(indexOf(registeredTasks,i)>=0)){registeredTasks.push(i);var u=Scheduler$1.wrapStageHandler(i,a);u.__prio=n,u.__raw=i,r.push(u)}}function registerLoading(r,n){loadingEffects[r]=n}function registerMap(r,n,i){var o=getImpl("registerMap");o&&o(r,n,i)}var registerTransform=registerExternalTransform;registerVisual(PRIORITY_VISUAL_GLOBAL,seriesStyleTask),registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM,dataStyleTask),registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM,dataColorPaletteTask),registerVisual(PRIORITY_VISUAL_GLOBAL,seriesSymbolTask),registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM,dataSymbolTask),registerVisual(PRIORITY_VISUAL_DECAL,decalVisual),registerPreprocessor(globalBackwardCompat),registerProcessor(PRIORITY_PROCESSOR_DATASTACK,dataStack),registerLoading("default",defaultLoading),registerAction({type:HIGHLIGHT_ACTION_TYPE,event:HIGHLIGHT_ACTION_TYPE,update:HIGHLIGHT_ACTION_TYPE},noop$1),registerAction({type:DOWNPLAY_ACTION_TYPE,event:DOWNPLAY_ACTION_TYPE,update:DOWNPLAY_ACTION_TYPE},noop$1),registerAction({type:SELECT_ACTION_TYPE,event:SELECT_ACTION_TYPE,update:SELECT_ACTION_TYPE},noop$1),registerAction({type:UNSELECT_ACTION_TYPE,event:UNSELECT_ACTION_TYPE,update:UNSELECT_ACTION_TYPE},noop$1),registerAction({type:TOGGLE_SELECT_ACTION_TYPE,event:TOGGLE_SELECT_ACTION_TYPE,update:TOGGLE_SELECT_ACTION_TYPE},noop$1),registerTheme("light",lightTheme),registerTheme("dark",darkTheme);function dataIndexMapValueLength(r){return r==null?0:r.length||1}function defaultKeyGetter(r){return r}var DataDiffer=function(){function r(n,i,o,a,u,c){this._old=n,this._new=i,this._oldKeyGetter=o||defaultKeyGetter,this._newKeyGetter=a||defaultKeyGetter,this.context=u,this._diffModeMultiple=c==="multiple"}return r.prototype.add=function(n){return this._add=n,this},r.prototype.update=function(n){return this._update=n,this},r.prototype.updateManyToOne=function(n){return this._updateManyToOne=n,this},r.prototype.updateOneToMany=function(n){return this._updateOneToMany=n,this},r.prototype.updateManyToMany=function(n){return this._updateManyToMany=n,this},r.prototype.remove=function(n){return this._remove=n,this},r.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},r.prototype._executeOneToOne=function(){var n=this._old,i=this._new,o={},a=new Array(n.length),u=new Array(i.length);this._initIndexMap(n,null,a,"_oldKeyGetter"),this._initIndexMap(i,o,u,"_newKeyGetter");for(var c=0;c<n.length;c++){var f=a[c],d=o[f],p=dataIndexMapValueLength(d);if(p>1){var h=d.shift();d.length===1&&(o[f]=d[0]),this._update&&this._update(h,c)}else p===1?(o[f]=null,this._update&&this._update(d,c)):this._remove&&this._remove(c)}this._performRestAdd(u,o)},r.prototype._executeMultiple=function(){var n=this._old,i=this._new,o={},a={},u=[],c=[];this._initIndexMap(n,o,u,"_oldKeyGetter"),this._initIndexMap(i,a,c,"_newKeyGetter");for(var f=0;f<u.length;f++){var d=u[f],p=o[d],h=a[d],g=dataIndexMapValueLength(p),v=dataIndexMapValueLength(h);if(g>1&&v===1)this._updateManyToOne&&this._updateManyToOne(h,p),a[d]=null;else if(g===1&&v>1)this._updateOneToMany&&this._updateOneToMany(h,p),a[d]=null;else if(g===1&&v===1)this._update&&this._update(h,p),a[d]=null;else if(g>1&&v>1)this._updateManyToMany&&this._updateManyToMany(h,p),a[d]=null;else if(g>1)for(var y=0;y<g;y++)this._remove&&this._remove(p[y]);else this._remove&&this._remove(p)}this._performRestAdd(c,a)},r.prototype._performRestAdd=function(n,i){for(var o=0;o<n.length;o++){var a=n[o],u=i[a],c=dataIndexMapValueLength(u);if(c>1)for(var f=0;f<c;f++)this._add&&this._add(u[f]);else c===1&&this._add&&this._add(u);i[a]=null}},r.prototype._initIndexMap=function(n,i,o,a){for(var u=this._diffModeMultiple,c=0;c<n.length;c++){var f="_ec_"+this[a](n[c],c);if(u||(o[c]=f),!!i){var d=i[f],p=dataIndexMapValueLength(d);p===0?(i[f]=c,u&&o.push(f)):p===1?i[f]=[d,c]:d.push(c)}}},r}();const DataDiffer$1=DataDiffer;var DimensionUserOuput=function(){function r(n,i){this._encode=n,this._schema=i}return r.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},r.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},r}();function summarizeDimensions(r,n){var i={},o=i.encode={},a=createHashMap(),u=[],c=[],f={};each$4(r.dimensions,function(v){var y=r.getDimensionInfo(v),A=y.coordDim;if(A){process.env.NODE_ENV!=="production"&&assert(VISUAL_DIMENSIONS.get(A)==null);var _=y.coordDimIndex;getOrCreateEncodeArr(o,A)[_]=v,y.isExtraCoord||(a.set(A,1),mayLabelDimType(y.type)&&(u[0]=v),getOrCreateEncodeArr(f,A)[_]=r.getDimensionIndex(y.name)),y.defaultTooltip&&c.push(v)}VISUAL_DIMENSIONS.each(function(S,b){var T=getOrCreateEncodeArr(o,b),w=y.otherDims[b];w!=null&&w!==!1&&(T[w]=y.name)})});var d=[],p={};a.each(function(v,y){var A=o[y];p[y]=A[0],d=d.concat(A)}),i.dataDimsOnCoord=d,i.dataDimIndicesOnCoord=map$1(d,function(v){return r.getDimensionInfo(v).storeDimIndex}),i.encodeFirstDimNotExtra=p;var h=o.label;h&&h.length&&(u=h.slice());var g=o.tooltip;return g&&g.length?c=g.slice():c.length||(c=u.slice()),o.defaultedLabel=u,o.defaultedTooltip=c,i.userOutput=new DimensionUserOuput(f,n),i}function getOrCreateEncodeArr(r,n){return r.hasOwnProperty(n)||(r[n]=[]),r[n]}function mayLabelDimType(r){return!(r==="ordinal"||r==="time")}var SeriesDimensionDefine=function(){function r(n){this.otherDims={},n!=null&&extend(this,n)}return r}();const SeriesDimensionDefine$1=SeriesDimensionDefine;var inner$3=makeInner(),dimTypeShort={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},SeriesDataSchema=function(){function r(n){this.dimensions=n.dimensions,this._dimOmitted=n.dimensionOmitted,this.source=n.source,this._fullDimCount=n.fullDimensionCount,this._updateDimOmitted(n.dimensionOmitted)}return r.prototype.isDimensionOmitted=function(){return this._dimOmitted},r.prototype._updateDimOmitted=function(n){this._dimOmitted=n,n&&(this._dimNameMap||(this._dimNameMap=ensureSourceDimNameMap(this.source)))},r.prototype.getSourceDimensionIndex=function(n){return retrieve2(this._dimNameMap.get(n),-1)},r.prototype.getSourceDimension=function(n){var i=this.source.dimensionsDefine;if(i)return i[n]},r.prototype.makeStoreSchema=function(){for(var n=this._fullDimCount,i=shouldRetrieveDataByName(this.source),o=!shouldOmitUnusedDimensions(n),a="",u=[],c=0,f=0;c<n;c++){var d=void 0,p=void 0,h=void 0,g=this.dimensions[f];if(g&&g.storeDimIndex===c)d=i?g.name:null,p=g.type,h=g.ordinalMeta,f++;else{var v=this.getSourceDimension(c);v&&(d=i?v.name:null,p=v.type)}u.push({property:d,type:p,ordinalMeta:h}),i&&d!=null&&(!g||!g.isCalculationCoord)&&(a+=o?d.replace(/\`/g,"`1").replace(/\$/g,"`2"):d),a+="$",a+=dimTypeShort[p]||"f",h&&(a+=h.uid),a+="$"}var y=this.source,A=[y.seriesLayoutBy,y.startIndex,a].join("$$");return{dimensions:u,hash:A}},r.prototype.makeOutputDimensionNames=function(){for(var n=[],i=0,o=0;i<this._fullDimCount;i++){var a=void 0,u=this.dimensions[o];if(u&&u.storeDimIndex===i)u.isCalculationCoord||(a=u.name),o++;else{var c=this.getSourceDimension(i);c&&(a=c.name)}n.push(a)}return n},r.prototype.appendCalculationDimension=function(n){this.dimensions.push(n),n.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},r}();function isSeriesDataSchema(r){return r instanceof SeriesDataSchema}function createDimNameMap(r){for(var n=createHashMap(),i=0;i<(r||[]).length;i++){var o=r[i],a=isObject$3(o)?o.name:o;a!=null&&n.get(a)==null&&n.set(a,i)}return n}function ensureSourceDimNameMap(r){var n=inner$3(r);return n.dimNameMap||(n.dimNameMap=createDimNameMap(r.dimensionsDefine))}function shouldOmitUnusedDimensions(r){return r>30}var isObject$1=isObject$3,map=map$1,CtorInt32Array=typeof Int32Array>"u"?Array:Int32Array,ID_PREFIX="e\0\0",INDEX_NOT_FOUND=-1,TRANSFERABLE_PROPERTIES=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],CLONE_PROPERTIES=["_approximateExtent"],prepareInvertedIndex,getId,getIdNameFromStore,normalizeDimensions,transferProperties,cloneListForMapAndSample,makeIdFromName,SeriesData=function(){function r(n,i){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var o,a=!1;isSeriesDataSchema(n)?(o=n.dimensions,this._dimOmitted=n.isDimensionOmitted(),this._schema=n):(a=!0,o=n),o=o||["x","y"];for(var u={},c=[],f={},d=!1,p={},h=0;h<o.length;h++){var g=o[h],v=isString$2(g)?new SeriesDimensionDefine$1({name:g}):g instanceof SeriesDimensionDefine$1?g:new SeriesDimensionDefine$1(g),y=v.name;v.type=v.type||"float",v.coordDim||(v.coordDim=y,v.coordDimIndex=0);var A=v.otherDims=v.otherDims||{};c.push(y),u[y]=v,p[y]!=null&&(d=!0),v.createInvertedIndices&&(f[y]=[]),A.itemName===0&&(this._nameDimIdx=h),A.itemId===0&&(this._idDimIdx=h),process.env.NODE_ENV!=="production"&&assert(a||v.storeDimIndex>=0),a&&(v.storeDimIndex=h)}if(this.dimensions=c,this._dimInfos=u,this._initGetDimensionInfo(d),this.hostModel=i,this._invertedIndicesMap=f,this._dimOmitted){var _=this._dimIdxToName=createHashMap();each$4(c,function(S){_.set(u[S].storeDimIndex,S)})}}return r.prototype.getDimension=function(n){var i=this._recognizeDimIndex(n);if(i==null)return n;if(i=n,!this._dimOmitted)return this.dimensions[i];var o=this._dimIdxToName.get(i);if(o!=null)return o;var a=this._schema.getSourceDimension(i);if(a)return a.name},r.prototype.getDimensionIndex=function(n){var i=this._recognizeDimIndex(n);if(i!=null)return i;if(n==null)return-1;var o=this._getDimInfo(n);return o?o.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(n):-1},r.prototype._recognizeDimIndex=function(n){if(isNumber$1(n)||n!=null&&!isNaN(n)&&!this._getDimInfo(n)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(n)<0))return+n},r.prototype._getStoreDimIndex=function(n){var i=this.getDimensionIndex(n);if(process.env.NODE_ENV!=="production"&&i==null)throw new Error("Unknown dimension "+n);return i},r.prototype.getDimensionInfo=function(n){return this._getDimInfo(this.getDimension(n))},r.prototype._initGetDimensionInfo=function(n){var i=this._dimInfos;this._getDimInfo=n?function(o){return i.hasOwnProperty(o)?i[o]:void 0}:function(o){return i[o]}},r.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},r.prototype.mapDimension=function(n,i){var o=this._dimSummary;if(i==null)return o.encodeFirstDimNotExtra[n];var a=o.encode[n];return a?a[i]:null},r.prototype.mapDimensionsAll=function(n){var i=this._dimSummary,o=i.encode[n];return(o||[]).slice()},r.prototype.getStore=function(){return this._store},r.prototype.initData=function(n,i,o){var a=this,u;if(n instanceof DataStore&&(u=n),!u){var c=this.dimensions,f=isSourceInstance(n)||isArrayLike(n)?new DefaultDataProvider(n,c.length):n;u=new DataStore;var d=map(c,function(p){return{type:a._dimInfos[p].type,property:p}});u.initData(f,d,o)}this._store=u,this._nameList=(i||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,u.count()),this._dimSummary=summarizeDimensions(this,this._schema),this.userOutput=this._dimSummary.userOutput},r.prototype.appendData=function(n){var i=this._store.appendData(n);this._doInit(i[0],i[1])},r.prototype.appendValues=function(n,i){var o=this._store.appendValues(n,i.length),a=o.start,u=o.end,c=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),i)for(var f=a;f<u;f++){var d=f-a;this._nameList[f]=i[d],c&&makeIdFromName(this,f)}},r.prototype._updateOrdinalMeta=function(){for(var n=this._store,i=this.dimensions,o=0;o<i.length;o++){var a=this._dimInfos[i[o]];a.ordinalMeta&&n.collectOrdinalMeta(a.storeDimIndex,a.ordinalMeta)}},r.prototype._shouldMakeIdFromName=function(){var n=this._store.getProvider();return this._idDimIdx==null&&n.getSource().sourceFormat!==SOURCE_FORMAT_TYPED_ARRAY&&!n.fillStorage},r.prototype._doInit=function(n,i){if(!(n>=i)){var o=this._store,a=o.getProvider();this._updateOrdinalMeta();var u=this._nameList,c=this._idList,f=a.getSource().sourceFormat,d=f===SOURCE_FORMAT_ORIGINAL;if(d&&!a.pure)for(var p=[],h=n;h<i;h++){var g=a.getItem(h,p);if(!this.hasItemOption&&isDataItemOption(g)&&(this.hasItemOption=!0),g){var v=g.name;u[h]==null&&v!=null&&(u[h]=convertOptionIdName(v,null));var y=g.id;c[h]==null&&y!=null&&(c[h]=convertOptionIdName(y,null))}}if(this._shouldMakeIdFromName())for(var h=n;h<i;h++)makeIdFromName(this,h);prepareInvertedIndex(this)}},r.prototype.getApproximateExtent=function(n){return this._approximateExtent[n]||this._store.getDataExtent(this._getStoreDimIndex(n))},r.prototype.setApproximateExtent=function(n,i){i=this.getDimension(i),this._approximateExtent[i]=n.slice()},r.prototype.getCalculationInfo=function(n){return this._calculationInfo[n]},r.prototype.setCalculationInfo=function(n,i){isObject$1(n)?extend(this._calculationInfo,n):this._calculationInfo[n]=i},r.prototype.getName=function(n){var i=this.getRawIndex(n),o=this._nameList[i];return o==null&&this._nameDimIdx!=null&&(o=getIdNameFromStore(this,this._nameDimIdx,i)),o==null&&(o=""),o},r.prototype._getCategory=function(n,i){var o=this._store.get(n,i),a=this._store.getOrdinalMeta(n);return a?a.categories[o]:o},r.prototype.getId=function(n){return getId(this,this.getRawIndex(n))},r.prototype.count=function(){return this._store.count()},r.prototype.get=function(n,i){var o=this._store,a=this._dimInfos[n];if(a)return o.get(a.storeDimIndex,i)},r.prototype.getByRawIndex=function(n,i){var o=this._store,a=this._dimInfos[n];if(a)return o.getByRawIndex(a.storeDimIndex,i)},r.prototype.getIndices=function(){return this._store.getIndices()},r.prototype.getDataExtent=function(n){return this._store.getDataExtent(this._getStoreDimIndex(n))},r.prototype.getSum=function(n){return this._store.getSum(this._getStoreDimIndex(n))},r.prototype.getMedian=function(n){return this._store.getMedian(this._getStoreDimIndex(n))},r.prototype.getValues=function(n,i){var o=this,a=this._store;return isArray$1(n)?a.getValues(map(n,function(u){return o._getStoreDimIndex(u)}),i):a.getValues(n)},r.prototype.hasValue=function(n){for(var i=this._dimSummary.dataDimIndicesOnCoord,o=0,a=i.length;o<a;o++)if(isNaN(this._store.get(i[o],n)))return!1;return!0},r.prototype.indexOfName=function(n){for(var i=0,o=this._store.count();i<o;i++)if(this.getName(i)===n)return i;return-1},r.prototype.getRawIndex=function(n){return this._store.getRawIndex(n)},r.prototype.indexOfRawIndex=function(n){return this._store.indexOfRawIndex(n)},r.prototype.rawIndexOf=function(n,i){var o=n&&this._invertedIndicesMap[n];if(process.env.NODE_ENV!=="production"&&!o)throw new Error("Do not supported yet");var a=o[i];return a==null||isNaN(a)?INDEX_NOT_FOUND:a},r.prototype.indicesOfNearest=function(n,i,o){return this._store.indicesOfNearest(this._getStoreDimIndex(n),i,o)},r.prototype.each=function(n,i,o){isFunction$1(n)&&(o=i,i=n,n=[]);var a=o||this,u=map(normalizeDimensions(n),this._getStoreDimIndex,this);this._store.each(u,a?bind$1(i,a):i)},r.prototype.filterSelf=function(n,i,o){isFunction$1(n)&&(o=i,i=n,n=[]);var a=o||this,u=map(normalizeDimensions(n),this._getStoreDimIndex,this);return this._store=this._store.filter(u,a?bind$1(i,a):i),this},r.prototype.selectRange=function(n){var i=this,o={},a=keys(n);return each$4(a,function(u){var c=i._getStoreDimIndex(u);o[c]=n[u]}),this._store=this._store.selectRange(o),this},r.prototype.mapArray=function(n,i,o){isFunction$1(n)&&(o=i,i=n,n=[]),o=o||this;var a=[];return this.each(n,function(){a.push(i&&i.apply(this,arguments))},o),a},r.prototype.map=function(n,i,o,a){var u=o||a||this,c=map(normalizeDimensions(n),this._getStoreDimIndex,this),f=cloneListForMapAndSample(this);return f._store=this._store.map(c,u?bind$1(i,u):i),f},r.prototype.modify=function(n,i,o,a){var u=this,c=o||a||this;process.env.NODE_ENV!=="production"&&each$4(normalizeDimensions(n),function(d){var p=u.getDimensionInfo(d);p.isCalculationCoord||console.error("Danger: only stack dimension can be modified")});var f=map(normalizeDimensions(n),this._getStoreDimIndex,this);this._store.modify(f,c?bind$1(i,c):i)},r.prototype.downSample=function(n,i,o,a){var u=cloneListForMapAndSample(this);return u._store=this._store.downSample(this._getStoreDimIndex(n),i,o,a),u},r.prototype.lttbDownSample=function(n,i){var o=cloneListForMapAndSample(this);return o._store=this._store.lttbDownSample(this._getStoreDimIndex(n),i),o},r.prototype.getRawDataItem=function(n){return this._store.getRawDataItem(n)},r.prototype.getItemModel=function(n){var i=this.hostModel,o=this.getRawDataItem(n);return new Model$1(o,i,i&&i.ecModel)},r.prototype.diff=function(n){var i=this;return new DataDiffer$1(n?n.getStore().getIndices():[],this.getStore().getIndices(),function(o){return getId(n,o)},function(o){return getId(i,o)})},r.prototype.getVisual=function(n){var i=this._visual;return i&&i[n]},r.prototype.setVisual=function(n,i){this._visual=this._visual||{},isObject$1(n)?extend(this._visual,n):this._visual[n]=i},r.prototype.getItemVisual=function(n,i){var o=this._itemVisuals[n],a=o&&o[i];return a??this.getVisual(i)},r.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},r.prototype.ensureUniqueItemVisual=function(n,i){var o=this._itemVisuals,a=o[n];a||(a=o[n]={});var u=a[i];return u==null&&(u=this.getVisual(i),isArray$1(u)?u=u.slice():isObject$1(u)&&(u=extend({},u)),a[i]=u),u},r.prototype.setItemVisual=function(n,i,o){var a=this._itemVisuals[n]||{};this._itemVisuals[n]=a,isObject$1(i)?extend(a,i):a[i]=o},r.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},r.prototype.setLayout=function(n,i){isObject$1(n)?extend(this._layout,n):this._layout[n]=i},r.prototype.getLayout=function(n){return this._layout[n]},r.prototype.getItemLayout=function(n){return this._itemLayouts[n]},r.prototype.setItemLayout=function(n,i,o){this._itemLayouts[n]=o?extend(this._itemLayouts[n]||{},i):i},r.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},r.prototype.setItemGraphicEl=function(n,i){var o=this.hostModel&&this.hostModel.seriesIndex;setCommonECData(o,this.dataType,n,i),this._graphicEls[n]=i},r.prototype.getItemGraphicEl=function(n){return this._graphicEls[n]},r.prototype.eachItemGraphicEl=function(n,i){each$4(this._graphicEls,function(o,a){o&&n&&n.call(i,o,a)})},r.prototype.cloneShallow=function(n){return n||(n=new r(this._schema?this._schema:map(this.dimensions,this._getDimInfo,this),this.hostModel)),transferProperties(n,this),n._store=this._store,n},r.prototype.wrapMethod=function(n,i){var o=this[n];isFunction$1(o)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(n),this[n]=function(){var a=o.apply(this,arguments);return i.apply(this,[a].concat(slice(arguments)))})},r.internalField=function(){prepareInvertedIndex=function(n){var i=n._invertedIndicesMap;each$4(i,function(o,a){var u=n._dimInfos[a],c=u.ordinalMeta,f=n._store;if(c){o=i[a]=new CtorInt32Array(c.categories.length);for(var d=0;d<o.length;d++)o[d]=INDEX_NOT_FOUND;for(var d=0;d<f.count();d++)o[f.get(u.storeDimIndex,d)]=d}})},getIdNameFromStore=function(n,i,o){return convertOptionIdName(n._getCategory(i,o),null)},getId=function(n,i){var o=n._idList[i];return o==null&&n._idDimIdx!=null&&(o=getIdNameFromStore(n,n._idDimIdx,i)),o==null&&(o=ID_PREFIX+i),o},normalizeDimensions=function(n){return isArray$1(n)||(n=n!=null?[n]:[]),n},cloneListForMapAndSample=function(n){var i=new r(n._schema?n._schema:map(n.dimensions,n._getDimInfo,n),n.hostModel);return transferProperties(i,n),i},transferProperties=function(n,i){each$4(TRANSFERABLE_PROPERTIES.concat(i.__wrappedMethods||[]),function(o){i.hasOwnProperty(o)&&(n[o]=i[o])}),n.__wrappedMethods=i.__wrappedMethods,each$4(CLONE_PROPERTIES,function(o){n[o]=clone$2(i[o])}),n._calculationInfo=extend({},i._calculationInfo)},makeIdFromName=function(n,i){var o=n._nameList,a=n._idList,u=n._nameDimIdx,c=n._idDimIdx,f=o[i],d=a[i];if(f==null&&u!=null&&(o[i]=f=getIdNameFromStore(n,u,i)),d==null&&c!=null&&(a[i]=d=getIdNameFromStore(n,c,i)),d==null&&f!=null){var p=n._nameRepeatCount,h=p[f]=(p[f]||0)+1;d=f,h>1&&(d+="__ec__"+h),a[i]=d}}}(),r}();const SeriesData$1=SeriesData;function prepareSeriesDataSchema(r,n){isSourceInstance(r)||(r=createSourceFromSeriesDataOption(r)),n=n||{};var i=n.coordDimensions||[],o=n.dimensionsDefine||r.dimensionsDefine||[],a=createHashMap(),u=[],c=getDimCount(r,i,o,n.dimensionsCount),f=n.canOmitUnusedDimensions&&shouldOmitUnusedDimensions(c),d=o===r.dimensionsDefine,p=d?ensureSourceDimNameMap(r):createDimNameMap(o),h=n.encodeDefine;!h&&n.encodeDefaulter&&(h=n.encodeDefaulter(r,c));for(var g=createHashMap(h),v=new CtorInt32Array$1(c),y=0;y<v.length;y++)v[y]=-1;function A(j){var oe=v[j];if(oe<0){var L=o[j],F=isObject$3(L)?L:{name:L},O=new SeriesDimensionDefine$1,ue=F.name;ue!=null&&p.get(ue)!=null&&(O.name=O.displayName=ue),F.type!=null&&(O.type=F.type),F.displayName!=null&&(O.displayName=F.displayName);var _e=u.length;return v[j]=_e,O.storeDimIndex=j,u.push(O),O}return u[oe]}if(!f)for(var y=0;y<c;y++)A(y);g.each(function(j,oe){var L=normalizeToArray(j).slice();if(L.length===1&&!isString$2(L[0])&&L[0]<0){g.set(oe,!1);return}var F=g.set(oe,[]);each$4(L,function(O,ue){var _e=isString$2(O)?p.get(O):O;_e!=null&&_e<c&&(F[ue]=_e,S(A(_e),oe,ue))})});var _=0;each$4(i,function(j){var oe,L,F,O;if(isString$2(j))oe=j,O={};else{O=j,oe=O.name;var ue=O.ordinalMeta;O.ordinalMeta=null,O=extend({},O),O.ordinalMeta=ue,L=O.dimsDef,F=O.otherDims,O.name=O.coordDim=O.coordDimIndex=O.dimsDef=O.otherDims=null}var _e=g.get(oe);if(_e!==!1){if(_e=normalizeToArray(_e),!_e.length)for(var Ce=0;Ce<(L&&L.length||1);Ce++){for(;_<c&&A(_).coordDim!=null;)_++;_<c&&_e.push(_++)}each$4(_e,function(de,ie){var Y=A(de);if(d&&O.type!=null&&(Y.type=O.type),S(defaults(Y,O),oe,ie),Y.name==null&&L){var Ie=L[ie];!isObject$3(Ie)&&(Ie={name:Ie}),Y.name=Y.displayName=Ie.name,Y.defaultTooltip=Ie.defaultTooltip}F&&defaults(Y.otherDims,F)})}});function S(j,oe,L){VISUAL_DIMENSIONS.get(oe)!=null?j.otherDims[oe]=L:(j.coordDim=oe,j.coordDimIndex=L,a.set(oe,!0))}var b=n.generateCoord,T=n.generateCoordCount,w=T!=null;T=b?T||1:0;var x=b||"value";function k(j){j.name==null&&(j.name=j.coordDim)}if(f)each$4(u,function(j){k(j)}),u.sort(function(j,oe){return j.storeDimIndex-oe.storeDimIndex});else for(var M=0;M<c;M++){var D=A(M),z=D.coordDim;z==null&&(D.coordDim=genCoordDimName(x,a,w),D.coordDimIndex=0,(!b||T<=0)&&(D.isExtraCoord=!0),T--),k(D),D.type==null&&(guessOrdinal(r,M)===BE_ORDINAL.Must||D.isExtraCoord&&(D.otherDims.itemName!=null||D.otherDims.seriesName!=null))&&(D.type="ordinal")}return removeDuplication(u),new SeriesDataSchema({source:r,dimensions:u,fullDimensionCount:c,dimensionOmitted:f})}function removeDuplication(r){for(var n=createHashMap(),i=0;i<r.length;i++){var o=r[i],a=o.name,u=n.get(a)||0;u>0&&(o.name=a+(u-1)),u++,n.set(a,u)}}function getDimCount(r,n,i,o){var a=Math.max(r.dimensionsDetectedCount||1,n.length,i.length,o||0);return each$4(n,function(u){var c;isObject$3(u)&&(c=u.dimsDef)&&(a=Math.max(a,c.length))}),a}function genCoordDimName(r,n,i){if(i||n.hasKey(r)){for(var o=0;n.hasKey(r+o);)o++;r+=o}return n.set(r,!0),r}function getAxisRawValue(r,n){return r.type==="category"?r.scale.getLabel(n):n.value}function getOptionCategoryInterval(r){var n=r.get("interval");return n??"auto"}function shouldShowAllLabels(r){return r.type==="category"&&getOptionCategoryInterval(r.getLabelModel())===0}var extensions=[],extensionRegisters={registerPreprocessor,registerProcessor,registerPostInit,registerPostUpdate,registerUpdateLifecycle,registerAction,registerCoordinateSystem,registerLayout,registerVisual,registerTransform,registerLoading,registerMap,registerImpl,PRIORITY,ComponentModel:ComponentModel$1,ComponentView:ComponentView$1,SeriesModel:SeriesModel$1,ChartView:ChartView$1,registerComponentModel:function(r){ComponentModel$1.registerClass(r)},registerComponentView:function(r){ComponentView$1.registerClass(r)},registerSeriesModel:function(r){SeriesModel$1.registerClass(r)},registerChartView:function(r){ChartView$1.registerClass(r)},registerSubTypeDefaulter:function(r,n){ComponentModel$1.registerSubTypeDefaulter(r,n)},registerPainter:function(r,n){registerPainter(r,n)}};function use(r){if(isArray$1(r)){each$4(r,function(n){use(n)});return}indexOf(extensions,r)>=0||(extensions.push(r),isFunction$1(r)&&(r={install:r}),r.install(extensionRegisters))}PathProxy$1.CMD;function projectPointToLine(r,n,i,o,a,u,c,f){var d=a-r,p=u-n,h=i-r,g=o-n,v=Math.sqrt(h*h+g*g);h/=v,g/=v;var y=d*h+p*g,A=y/v;f&&(A=Math.min(Math.max(A,0),1)),A*=v;var _=c[0]=r+A*h,S=c[1]=n+A*g;return Math.sqrt((_-a)*(_-a)+(S-u)*(S-u))}var pt0=new Point$1,pt1=new Point$1,pt2=new Point$1,dir=new Point$1,dir2=new Point$1,tmpArr=[],tmpProjPoint=new Point$1;function limitTurnAngle(r,n){if(n<=180&&n>0){n=n/180*Math.PI,pt0.fromArray(r[0]),pt1.fromArray(r[1]),pt2.fromArray(r[2]),Point$1.sub(dir,pt0,pt1),Point$1.sub(dir2,pt2,pt1);var i=dir.len(),o=dir2.len();if(!(i<.001||o<.001)){dir.scale(1/i),dir2.scale(1/o);var a=dir.dot(dir2),u=Math.cos(n);if(u<a){var c=projectPointToLine(pt1.x,pt1.y,pt2.x,pt2.y,pt0.x,pt0.y,tmpArr,!1);tmpProjPoint.fromArray(tmpArr),tmpProjPoint.scaleAndAdd(dir2,c/Math.tan(Math.PI-n));var f=pt2.x!==pt1.x?(tmpProjPoint.x-pt1.x)/(pt2.x-pt1.x):(tmpProjPoint.y-pt1.y)/(pt2.y-pt1.y);if(isNaN(f))return;f<0?Point$1.copy(tmpProjPoint,pt1):f>1&&Point$1.copy(tmpProjPoint,pt2),tmpProjPoint.toArray(r[1])}}}}function limitSurfaceAngle(r,n,i){if(i<=180&&i>0){i=i/180*Math.PI,pt0.fromArray(r[0]),pt1.fromArray(r[1]),pt2.fromArray(r[2]),Point$1.sub(dir,pt1,pt0),Point$1.sub(dir2,pt2,pt1);var o=dir.len(),a=dir2.len();if(!(o<.001||a<.001)){dir.scale(1/o),dir2.scale(1/a);var u=dir.dot(n),c=Math.cos(i);if(u<c){var f=projectPointToLine(pt1.x,pt1.y,pt2.x,pt2.y,pt0.x,pt0.y,tmpArr,!1);tmpProjPoint.fromArray(tmpArr);var d=Math.PI/2,p=Math.acos(dir2.dot(n)),h=d+p-i;if(h>=d)Point$1.copy(tmpProjPoint,pt2);else{tmpProjPoint.scaleAndAdd(dir2,f/Math.tan(Math.PI/2-h));var g=pt2.x!==pt1.x?(tmpProjPoint.x-pt1.x)/(pt2.x-pt1.x):(tmpProjPoint.y-pt1.y)/(pt2.y-pt1.y);if(isNaN(g))return;g<0?Point$1.copy(tmpProjPoint,pt1):g>1&&Point$1.copy(tmpProjPoint,pt2)}tmpProjPoint.toArray(r[1])}}}}function setLabelLineState(r,n,i,o){var a=i==="normal",u=a?r:r.ensureState(i);u.ignore=n;var c=o.get("smooth");c&&c===!0&&(c=.3),u.shape=u.shape||{},c>0&&(u.shape.smooth=c);var f=o.getModel("lineStyle").getLineStyle();a?r.useStyle(f):u.style=f}function buildLabelLinePath(r,n){var i=n.smooth,o=n.points;if(o)if(r.moveTo(o[0][0],o[0][1]),i>0&&o.length>=3){var a=dist$1(o[0],o[1]),u=dist$1(o[1],o[2]);if(!a||!u){r.lineTo(o[1][0],o[1][1]),r.lineTo(o[2][0],o[2][1]);return}var c=Math.min(a,u)*i,f=lerp([],o[1],o[0],c/a),d=lerp([],o[1],o[2],c/u),p=lerp([],f,d,.5);r.bezierCurveTo(f[0],f[1],f[0],f[1],p[0],p[1]),r.bezierCurveTo(d[0],d[1],d[0],d[1],o[2][0],o[2][1])}else for(var h=1;h<o.length;h++)r.lineTo(o[h][0],o[h][1])}function setLabelLineStyle(r,n,i){var o=r.getTextGuideLine(),a=r.getTextContent();if(!a){o&&r.removeTextGuideLine();return}for(var u=n.normal,c=u.get("show"),f=a.ignore,d=0;d<DISPLAY_STATES.length;d++){var p=DISPLAY_STATES[d],h=n[p],g=p==="normal";if(h){var v=h.get("show"),y=g?f:retrieve2(a.states[p]&&a.states[p].ignore,f);if(y||!retrieve2(v,c)){var A=g?o:o&&o.states[p];A&&(A.ignore=!0);continue}o||(o=new Polyline$1,r.setTextGuideLine(o),!g&&(f||!c)&&setLabelLineState(o,!0,"normal",n.normal),r.stateProxy&&(o.stateProxy=r.stateProxy)),setLabelLineState(o,!1,p,h)}}if(o){defaults(o.style,i),o.style.fill=null;var _=u.get("showAbove"),S=r.textGuideLineConfig=r.textGuideLineConfig||{};S.showAbove=_||!1,o.buildPath=buildLabelLinePath}}function getLabelLineStatesModels(r,n){n=n||"labelLine";for(var i={normal:r.getModel(n)},o=0;o<SPECIAL_STATES.length;o++){var a=SPECIAL_STATES[o];i[a]=r.getModel([a,n])}return i}function prepareLayoutList(r){for(var n=[],i=0;i<r.length;i++){var o=r[i];if(!o.defaultAttr.ignore){var a=o.label,u=a.getComputedTransform(),c=a.getBoundingRect(),f=!u||u[1]<1e-5&&u[2]<1e-5,d=a.style.margin||0,p=c.clone();p.applyTransform(u),p.x-=d/2,p.y-=d/2,p.width+=d,p.height+=d;var h=f?new OrientedBoundingRect$1(c,u):null;n.push({label:a,labelLine:o.labelLine,rect:p,localRect:c,obb:h,priority:o.priority,defaultAttr:o.defaultAttr,layoutOption:o.computedLayoutOption,axisAligned:f,transform:u})}}return n}function shiftLayout(r,n,i,o,a,u){var c=r.length;if(c<2)return;r.sort(function(z,j){return z.rect[n]-j.rect[n]});for(var f=0,d,p=!1,h=0,g=0;g<c;g++){var v=r[g],y=v.rect;d=y[n]-f,d<0&&(y[n]-=d,v.label[n]-=d,p=!0);var A=Math.max(-d,0);h+=A,f=y[n]+y[i]}h>0&&u&&k(-h/c,0,c);var _=r[0],S=r[c-1],b,T;w(),b<0&&M(-b,.8),T<0&&M(T,.8),w(),x(b,T,1),x(T,b,-1),w(),b<0&&D(-b),T<0&&D(T);function w(){b=_.rect[n]-o,T=a-S.rect[n]-S.rect[i]}function x(z,j,oe){if(z<0){var L=Math.min(j,-z);if(L>0){k(L*oe,0,c);var F=L+z;F<0&&M(-F*oe,1)}else M(-z*oe,1)}}function k(z,j,oe){z!==0&&(p=!0);for(var L=j;L<oe;L++){var F=r[L],O=F.rect;O[n]+=z,F.label[n]+=z}}function M(z,j){for(var oe=[],L=0,F=1;F<c;F++){var O=r[F-1].rect,ue=Math.max(r[F].rect[n]-O[n]-O[i],0);oe.push(ue),L+=ue}if(L){var _e=Math.min(Math.abs(z)/L,j);if(z>0)for(var F=0;F<c-1;F++){var Ce=oe[F]*_e;k(Ce,0,F+1)}else for(var F=c-1;F>0;F--){var Ce=oe[F-1]*_e;k(-Ce,F,c)}}}function D(z){var j=z<0?-1:1;z=Math.abs(z);for(var oe=Math.ceil(z/(c-1)),L=0;L<c-1;L++)if(j>0?k(oe,0,L+1):k(-oe,c-L-1,c),z-=oe,z<=0)return}return p}function shiftLayoutOnY(r,n,i,o){return shiftLayout(r,"y","height",n,i,o)}function hideOverlap(r){var n=[];r.sort(function(_,S){return S.priority-_.priority});var i=new BoundingRect$1(0,0,0,0);function o(_){if(!_.ignore){var S=_.ensureState("emphasis");S.ignore==null&&(S.ignore=!1)}_.ignore=!0}for(var a=0;a<r.length;a++){var u=r[a],c=u.axisAligned,f=u.localRect,d=u.transform,p=u.label,h=u.labelLine;i.copy(u.rect),i.width-=.1,i.height-=.1,i.x+=.05,i.y+=.05;for(var g=u.obb,v=!1,y=0;y<n.length;y++){var A=n[y];if(i.intersect(A.rect)){if(c&&A.axisAligned){v=!0;break}if(A.obb||(A.obb=new OrientedBoundingRect$1(A.localRect,A.transform)),g||(g=new OrientedBoundingRect$1(f,d)),g.intersect(A.obb)){v=!0;break}}}v?(o(p),h&&o(h)):(p.attr("ignore",u.defaultAttr.ignore),h&&h.attr("ignore",u.defaultAttr.labelGuideIgnore),n.push(u))}}var mathSin=Math.sin,mathCos=Math.cos,PI$1=Math.PI,PI2$1=Math.PI*2,degree=180/PI$1,SVGPathRebuilder=function(){function r(){}return r.prototype.reset=function(n){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,n||4)},r.prototype.moveTo=function(n,i){this._add("M",n,i)},r.prototype.lineTo=function(n,i){this._add("L",n,i)},r.prototype.bezierCurveTo=function(n,i,o,a,u,c){this._add("C",n,i,o,a,u,c)},r.prototype.quadraticCurveTo=function(n,i,o,a){this._add("Q",n,i,o,a)},r.prototype.arc=function(n,i,o,a,u,c){this.ellipse(n,i,o,o,0,a,u,c)},r.prototype.ellipse=function(n,i,o,a,u,c,f,d){var p=f-c,h=!d,g=Math.abs(p),v=isAroundZero(g-PI2$1)||(h?p>=PI2$1:-p>=PI2$1),y=p>0?p%PI2$1:p%PI2$1+PI2$1,A=!1;v?A=!0:isAroundZero(g)?A=!1:A=y>=PI$1==!!h;var _=n+o*mathCos(c),S=i+a*mathSin(c);this._start&&this._add("M",_,S);var b=Math.round(u*degree);if(v){var T=1/this._p,w=(h?1:-1)*(PI2$1-T);this._add("A",o,a,b,1,+h,n+o*mathCos(c+w),i+a*mathSin(c+w)),T>.01&&this._add("A",o,a,b,0,+h,_,S)}else{var x=n+o*mathCos(f),k=i+a*mathSin(f);this._add("A",o,a,b,+A,+h,x,k)}},r.prototype.rect=function(n,i,o,a){this._add("M",n,i),this._add("l",o,0),this._add("l",0,a),this._add("l",-o,0),this._add("Z")},r.prototype.closePath=function(){this._d.length>0&&this._add("Z")},r.prototype._add=function(n,i,o,a,u,c,f,d,p){for(var h=[],g=this._p,v=1;v<arguments.length;v++){var y=arguments[v];if(isNaN(y)){this._invalid=!0;return}h.push(Math.round(y*g)/g)}this._d.push(n+h.join(" ")),this._start=n==="Z"},r.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},r.prototype.getStr=function(){return this._str},r}();const SVGPathRebuilder$1=SVGPathRebuilder;var NONE="none",mathRound=Math.round;function pathHasFill(r){var n=r.fill;return n!=null&&n!==NONE}function pathHasStroke(r){var n=r.stroke;return n!=null&&n!==NONE}var strokeProps=["lineCap","miterLimit","lineJoin"],svgStrokeProps=map$1(strokeProps,function(r){return"stroke-"+r.toLowerCase()});function mapStyleToAttrs(r,n,i,o){var a=n.opacity==null?1:n.opacity;if(i instanceof ZRImage$1){r("opacity",a);return}if(pathHasFill(n)){var u=normalizeColor(n.fill);r("fill",u.color);var c=n.fillOpacity!=null?n.fillOpacity*u.opacity*a:u.opacity*a;(o||c<1)&&r("fill-opacity",c)}else r("fill",NONE);if(pathHasStroke(n)){var f=normalizeColor(n.stroke);r("stroke",f.color);var d=n.strokeNoScale?i.getLineScale():1,p=d?(n.lineWidth||0)/d:0,h=n.strokeOpacity!=null?n.strokeOpacity*f.opacity*a:f.opacity*a,g=n.strokeFirst;if((o||p!==1)&&r("stroke-width",p),(o||g)&&r("paint-order",g?"stroke":"fill"),(o||h<1)&&r("stroke-opacity",h),n.lineDash){var v=getLineDash(i),y=v[0],A=v[1];y&&(A=mathRound(A||0),r("stroke-dasharray",y.join(",")),(A||o)&&r("stroke-dashoffset",A))}else o&&r("stroke-dasharray",NONE);for(var _=0;_<strokeProps.length;_++){var S=strokeProps[_];if(o||n[S]!==DEFAULT_PATH_STYLE[S]){var b=n[S]||DEFAULT_PATH_STYLE[S];b&&r(svgStrokeProps[_],b)}}}else o&&r("stroke",NONE)}var SVGNS="http://www.w3.org/2000/svg",XLINKNS="http://www.w3.org/1999/xlink",XMLNS="http://www.w3.org/2000/xmlns/",XML_NAMESPACE="http://www.w3.org/XML/1998/namespace";function createElement(r){return document.createElementNS(SVGNS,r)}function createVNode(r,n,i,o,a){return{tag:r,attrs:i||{},children:o,text:a,key:n}}function createElementOpen(r,n){var i=[];if(n)for(var o in n){var a=n[o],u=o;a!==!1&&(a!==!0&&a!=null&&(u+='="'+a+'"'),i.push(u))}return"<"+r+" "+i.join(" ")+">"}function createElementClose(r){return"</"+r+">"}function vNodeToString(r,n){n=n||{};var i=n.newline?`
`:"";function o(a){var u=a.children,c=a.tag,f=a.attrs;return createElementOpen(c,f)+encodeHTML(a.text)+(u?""+i+map$1(u,function(d){return o(d)}).join(i)+i:"")+createElementClose(c)}return o(r)}function getCssString(r,n,i){i=i||{};var o=i.newline?`
`:"",a=" {"+o,u=o+"}",c=map$1(keys(r),function(d){return d+a+map$1(keys(r[d]),function(p){return p+":"+r[d][p]+";"}).join(o)+u}).join(o),f=map$1(keys(n),function(d){return"@keyframes "+d+a+map$1(keys(n[d]),function(p){return p+a+map$1(keys(n[d][p]),function(h){var g=n[d][p][h];return h==="d"&&(g='path("'+g+'")'),h+":"+g+";"}).join(o)+u}).join(o)+u}).join(o);return!c&&!f?"":["<![CDATA[",c,f,"]]>"].join(o)}function createBrushScope(r){return{zrId:r,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssClassIdx:0,cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function createSVGVNode(r,n,i,o){return createVNode("svg","root",{width:r,height:n,xmlns:SVGNS,"xmlns:xlink":XLINKNS,version:"1.1",baseProfile:"full",viewBox:o?"0 0 "+r+" "+n:!1},i)}var EASING_MAP={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},transformOriginKey="transform-origin";function buildPathString(r,n,i){var o=extend({},r.shape);extend(o,n),r.buildPath(i,o);var a=new SVGPathRebuilder$1;return a.reset(getPathPrecision(r)),i.rebuildPath(a,1),a.generateStr(),a.getStr()}function setTransformOrigin(r,n){var i=n.originX,o=n.originY;(i||o)&&(r[transformOriginKey]=i+"px "+o+"px")}var ANIMATE_STYLE_MAP={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function addAnimation(r,n){var i=n.zrId+"-ani-"+n.cssAnimIdx++;return n.cssAnims[i]=r,i}function createCompoundPathCSSAnimation(r,n,i){var o=r.shape.paths,a={},u,c;if(each$4(o,function(d){var p=createBrushScope(i.zrId);p.animation=!0,createCSSAnimation(d,{},p,!0);var h=p.cssAnims,g=p.cssNodes,v=keys(h),y=v.length;if(y){c=v[y-1];var A=h[c];for(var _ in A){var S=A[_];a[_]=a[_]||{d:""},a[_].d+=S.d||""}for(var b in g){var T=g[b].animation;T.indexOf(c)>=0&&(u=T)}}}),!!u){n.d=!1;var f=addAnimation(a,i);return u.replace(c,f)}}function getEasingFunc(r){return isString$2(r)?EASING_MAP[r]?"cubic-bezier("+EASING_MAP[r]+")":createCubicEasingFunc(r)?r:"":""}function createCSSAnimation(r,n,i,o){var a=r.animators,u=a.length,c=[];if(r instanceof CompoundPath$1){var f=createCompoundPathCSSAnimation(r,n,i);if(f)c.push(f);else if(!u)return}else if(!u)return;for(var d={},p=0;p<u;p++){var h=a[p],g=[h.getMaxTime()/1e3+"s"],v=getEasingFunc(h.getClip().easing),y=h.getDelay();v?g.push(v):g.push("linear"),y&&g.push(y/1e3+"s"),h.getLoop()&&g.push("infinite");var A=g.join(" ");d[A]=d[A]||[A,[]],d[A][1].push(h)}function _(T){var w=T[1],x=w.length,k={},M={},D={},z="animation-timing-function";function j(In,Et,Ne){for(var pe=In.getTracks(),At=In.getMaxTime(),Ve=0;Ve<pe.length;Ve++){var xe=pe[Ve];if(xe.needsAnimate()){var ze=xe.keyframes,Pt=xe.propName;if(Ne&&(Pt=Ne(Pt)),Pt)for(var hn=0;hn<ze.length;hn++){var ae=ze[hn],le=Math.round(ae.time/At*100)+"%",re=getEasingFunc(ae.easing),V=ae.rawValue;(isString$2(V)||isNumber$1(V))&&(Et[le]=Et[le]||{},Et[le][Pt]=ae.rawValue,re&&(Et[le][z]=re))}}}}for(var oe=0;oe<x;oe++){var L=w[oe],F=L.targetName;F?F==="shape"&&j(L,M):!o&&j(L,k)}for(var O in k){var ue={};copyTransform(ue,r),extend(ue,k[O]);var _e=getSRTTransformString(ue),Ce=k[O][z];D[O]=_e?{transform:_e}:{},setTransformOrigin(D[O],ue),Ce&&(D[O][z]=Ce)}var de,ie=!0;for(var O in M){D[O]=D[O]||{};var Y=!de,Ce=M[O][z];Y&&(de=new PathProxy$1);var Ie=de.len();de.reset(),D[O].d=buildPathString(r,M[O],de);var Oe=de.len();if(!Y&&Ie!==Oe){ie=!1;break}Ce&&(D[O][z]=Ce)}if(!ie)for(var O in D)delete D[O].d;if(!o)for(var oe=0;oe<x;oe++){var L=w[oe],F=L.targetName;F==="style"&&j(L,D,function(pe){return ANIMATE_STYLE_MAP[pe]})}for(var kt=keys(D),Dt=!0,Fe,oe=1;oe<kt.length;oe++){var $e=kt[oe-1],Cn=kt[oe];if(D[$e][transformOriginKey]!==D[Cn][transformOriginKey]){Dt=!1;break}Fe=D[$e][transformOriginKey]}if(Dt&&Fe){for(var O in D)D[O][transformOriginKey]&&delete D[O][transformOriginKey];n[transformOriginKey]=Fe}if(filter(kt,function(In){return keys(D[In]).length>0}).length){var Lt=addAnimation(D,i);return Lt+" "+T[0]+" both"}}for(var S in d){var f=_(d[S]);f&&c.push(f)}if(c.length){var b=i.zrId+"-cls-"+i.cssClassIdx++;i.cssNodes["."+b]={animation:c.join(",")},n.class=b}}var round=Math.round;function isImageLike(r){return r&&isString$2(r.src)}function isCanvasLike(r){return r&&isFunction$1(r.toDataURL)}function setStyleAttrs(r,n,i,o){mapStyleToAttrs(function(a,u){var c=a==="fill"||a==="stroke";c&&isGradient(u)?setGradient(n,r,a,o):c&&isPattern(u)?setPattern(i,r,a,o):r[a]=u},n,i,!1),setShadow(i,r,o)}function noRotateScale(r){return isAroundZero(r[0]-1)&&isAroundZero(r[1])&&isAroundZero(r[2])&&isAroundZero(r[3]-1)}function noTranslate(r){return isAroundZero(r[4])&&isAroundZero(r[5])}function setTransform(r,n,i){if(n&&!(noTranslate(n)&&noRotateScale(n))){var o=i?10:1e4;r.transform=noRotateScale(n)?"translate("+round(n[4]*o)/o+" "+round(n[5]*o)/o+")":getMatrixStr(n)}}function convertPolyShape(r,n,i){for(var o=r.points,a=[],u=0;u<o.length;u++)a.push(round(o[u][0]*i)/i),a.push(round(o[u][1]*i)/i);n.points=a.join(" ")}function validatePolyShape(r){return!r.smooth}function createAttrsConvert(r){var n=map$1(r,function(i){return typeof i=="string"?[i,i]:i});return function(i,o,a){for(var u=0;u<n.length;u++){var c=n[u],f=i[c[0]];f!=null&&(o[c[1]]=round(f*a)/a)}}}var builtinShapesDef={circle:[createAttrsConvert(["cx","cy","r"])],polyline:[convertPolyShape,validatePolyShape],polygon:[convertPolyShape,validatePolyShape]};function hasShapeAnimation(r){for(var n=r.animators,i=0;i<n.length;i++)if(n[i].targetName==="shape")return!0;return!1}function brushSVGPath(r,n){var i=r.style,o=r.shape,a=builtinShapesDef[r.type],u={},c=n.animation,f="path",d=r.style.strokePercent,p=n.compress&&getPathPrecision(r)||4;if(a&&!n.willUpdate&&!(a[1]&&!a[1](o))&&!(c&&hasShapeAnimation(r))&&!(d<1)){f=r.type;var h=Math.pow(10,p);a[0](o,u,h)}else{var g=!r.path||r.shapeChanged();r.path||r.createPathProxy();var v=r.path;g&&(v.beginPath(),r.buildPath(v,r.shape),r.pathUpdated());var y=v.getVersion(),A=r,_=A.__svgPathBuilder;(A.__svgPathVersion!==y||!_||d!==A.__svgPathStrokePercent)&&(_||(_=A.__svgPathBuilder=new SVGPathRebuilder$1),_.reset(p),v.rebuildPath(_,d),_.generateStr(),A.__svgPathVersion=y,A.__svgPathStrokePercent=d),u.d=_.getStr()}return setTransform(u,r.transform),setStyleAttrs(u,i,r,n),n.animation&&createCSSAnimation(r,u,n),createVNode(f,r.id+"",u)}function brushSVGImage(r,n){var i=r.style,o=i.image;if(o&&!isString$2(o)&&(isImageLike(o)?o=o.src:isCanvasLike(o)&&(o=o.toDataURL())),!!o){var a=i.x||0,u=i.y||0,c=i.width,f=i.height,d={href:o,width:c,height:f};return a&&(d.x=a),u&&(d.y=u),setTransform(d,r.transform),setStyleAttrs(d,i,r,n),n.animation&&createCSSAnimation(r,d,n),createVNode("image",r.id+"",d)}}function brushSVGTSpan(r,n){var i=r.style,o=i.text;if(o!=null&&(o+=""),!(!o||isNaN(i.x)||isNaN(i.y))){var a=i.font||DEFAULT_FONT,u=i.x||0,c=adjustTextY$1(i.y||0,getLineHeight(a),i.textBaseline),f=TEXT_ALIGN_TO_ANCHOR[i.textAlign]||i.textAlign,d={"dominant-baseline":"central","text-anchor":f};if(hasSeparateFont(i)){var p="",h=i.fontStyle,g=parseFontSize(i.fontSize);if(!parseFloat(g))return;var v=i.fontFamily||DEFAULT_FONT_FAMILY,y=i.fontWeight;p+="font-size:"+g+";font-family:"+v+";",h&&h!=="normal"&&(p+="font-style:"+h+";"),y&&y!=="normal"&&(p+="font-weight:"+y+";"),d.style=p}else d.style="font: "+a;return o.match(/\s/)&&(d["xml:space"]="preserve"),u&&(d.x=u),c&&(d.y=c),setTransform(d,r.transform),setStyleAttrs(d,i,r,n),n.animation&&createCSSAnimation(r,d,n),createVNode("text",r.id+"",d,void 0,o)}}function brush(r,n){if(r instanceof Path$1)return brushSVGPath(r,n);if(r instanceof ZRImage$1)return brushSVGImage(r,n);if(r instanceof TSpan$1)return brushSVGTSpan(r,n)}function setShadow(r,n,i){var o=r.style;if(hasShadow(o)){var a=getShadowKey(r),u=i.shadowCache,c=u[a];if(!c){var f=r.getGlobalScale(),d=f[0],p=f[1];if(!d||!p)return;var h=o.shadowOffsetX||0,g=o.shadowOffsetY||0,v=o.shadowBlur,y=normalizeColor(o.shadowColor),A=y.opacity,_=y.color,S=v/2/d,b=v/2/p,T=S+" "+b;c=i.zrId+"-s"+i.shadowIdx++,i.defs[c]=createVNode("filter",c,{id:c,x:"-100%",y:"-100%",width:"300%",height:"300%"},[createVNode("feDropShadow","",{dx:h/d,dy:g/p,stdDeviation:T,"flood-color":_,"flood-opacity":A})]),u[a]=c}n.filter=getIdURL(c)}}function setGradient(r,n,i,o){var a=r[i],u,c={gradientUnits:a.global?"userSpaceOnUse":"objectBoundingBox"};if(isLinearGradient(a))u="linearGradient",c.x1=a.x,c.y1=a.y,c.x2=a.x2,c.y2=a.y2;else if(isRadialGradient(a))u="radialGradient",c.cx=retrieve2(a.x,.5),c.cy=retrieve2(a.y,.5),c.r=retrieve2(a.r,.5);else{process.env.NODE_ENV!=="production"&&logError("Illegal gradient type.");return}for(var f=a.colorStops,d=[],p=0,h=f.length;p<h;++p){var g=round4(f[p].offset)*100+"%",v=f[p].color,y=normalizeColor(v),A=y.color,_=y.opacity,S={offset:g};S["stop-color"]=A,_<1&&(S["stop-opacity"]=_),d.push(createVNode("stop",p+"",S))}var b=createVNode(u,"",c,d),T=vNodeToString(b),w=o.gradientCache,x=w[T];x||(x=o.zrId+"-g"+o.gradientIdx++,w[T]=x,c.id=x,o.defs[x]=createVNode(u,x,c,d)),n[i]=getIdURL(x)}function setPattern(r,n,i,o){var a=r.style[i],u=r.getBoundingRect(),c={},f=a.repeat,d=f==="no-repeat",p=f==="repeat-x",h=f==="repeat-y",g;if(isImagePattern(a)){var v=a.imageWidth,y=a.imageHeight,A=void 0,_=a.image;if(isString$2(_)?A=_:isImageLike(_)?A=_.src:isCanvasLike(_)&&(A=_.toDataURL()),typeof Image>"u"){var S="Image width/height must been given explictly in svg-ssr renderer.";assert(v,S),assert(y,S)}else if(v==null||y==null){var b=function(oe,L){if(oe){var F=oe.elm,O=v||L.width,ue=y||L.height;oe.tag==="pattern"&&(p?(ue=1,O/=u.width):h&&(O=1,ue/=u.height)),oe.attrs.width=O,oe.attrs.height=ue,F&&(F.setAttribute("width",O),F.setAttribute("height",ue))}},T=createOrUpdateImage(A,null,r,function(oe){d||b(M,oe),b(g,oe)});T&&T.width&&T.height&&(v=v||T.width,y=y||T.height)}g=createVNode("image","img",{href:A,width:v,height:y}),c.width=v,c.height=y}else a.svgElement&&(g=clone$2(a.svgElement),c.width=a.svgWidth,c.height=a.svgHeight);if(g){var w,x;d?w=x=1:p?(x=1,w=c.width/u.width):h?(w=1,x=c.height/u.height):c.patternUnits="userSpaceOnUse",w!=null&&!isNaN(w)&&(c.width=w),x!=null&&!isNaN(x)&&(c.height=x);var k=getSRTTransformString(a);k&&(c.patternTransform=k);var M=createVNode("pattern","",c,[g]),D=vNodeToString(M),z=o.patternCache,j=z[D];j||(j=o.zrId+"-p"+o.patternIdx++,z[D]=j,c.id=j,M=o.defs[j]=createVNode("pattern",j,c,[g])),n[i]=getIdURL(j)}}function setClipPath(r,n,i){var o=i.clipPathCache,a=i.defs,u=o[r.id];if(!u){u=i.zrId+"-c"+i.clipPathIdx++;var c={id:u};o[r.id]=u,a[u]=createVNode("clipPath",u,c,[brushSVGPath(r,i)])}n["clip-path"]=getIdURL(u)}function createTextNode(r){return document.createTextNode(r)}function insertBefore(r,n,i){r.insertBefore(n,i)}function removeChild(r,n){r.removeChild(n)}function appendChild(r,n){r.appendChild(n)}function parentNode(r){return r.parentNode}function nextSibling(r){return r.nextSibling}function setTextContent(r,n){r.textContent=n}var colonChar=58,xChar=120,emptyNode=createVNode("","");function isUndef(r){return r===void 0}function isDef(r){return r!==void 0}function createKeyToOldIdx(r,n,i){for(var o={},a=n;a<=i;++a){var u=r[a].key;u!==void 0&&(process.env.NODE_ENV!=="production"&&o[u]!=null&&console.error("Duplicate key "+u),o[u]=a)}return o}function sameVnode(r,n){var i=r.key===n.key,o=r.tag===n.tag;return o&&i}function createElm(r){var n,i=r.children,o=r.tag;if(isDef(o)){var a=r.elm=createElement(o);if(updateAttrs(emptyNode,r),isArray$1(i))for(n=0;n<i.length;++n){var u=i[n];u!=null&&appendChild(a,createElm(u))}else isDef(r.text)&&!isObject$3(r.text)&&appendChild(a,createTextNode(r.text))}else r.elm=createTextNode(r.text);return r.elm}function addVnodes(r,n,i,o,a){for(;o<=a;++o){var u=i[o];u!=null&&insertBefore(r,createElm(u),n)}}function removeVnodes(r,n,i,o){for(;i<=o;++i){var a=n[i];if(a!=null)if(isDef(a.tag)){var u=parentNode(a.elm);removeChild(u,a.elm)}else removeChild(r,a.elm)}}function updateAttrs(r,n){var i,o=n.elm,a=r&&r.attrs||{},u=n.attrs||{};if(a!==u){for(i in u){var c=u[i],f=a[i];f!==c&&(c===!0?o.setAttribute(i,""):c===!1?o.removeAttribute(i):i.charCodeAt(0)!==xChar?o.setAttribute(i,c):i==="xmlns:xlink"||i==="xmlns"?o.setAttributeNS(XMLNS,i,c):i.charCodeAt(3)===colonChar?o.setAttributeNS(XML_NAMESPACE,i,c):i.charCodeAt(5)===colonChar?o.setAttributeNS(XLINKNS,i,c):o.setAttribute(i,c))}for(i in a)i in u||o.removeAttribute(i)}}function updateChildren(r,n,i){for(var o=0,a=0,u=n.length-1,c=n[0],f=n[u],d=i.length-1,p=i[0],h=i[d],g,v,y,A;o<=u&&a<=d;)c==null?c=n[++o]:f==null?f=n[--u]:p==null?p=i[++a]:h==null?h=i[--d]:sameVnode(c,p)?(patchVnode(c,p),c=n[++o],p=i[++a]):sameVnode(f,h)?(patchVnode(f,h),f=n[--u],h=i[--d]):sameVnode(c,h)?(patchVnode(c,h),insertBefore(r,c.elm,nextSibling(f.elm)),c=n[++o],h=i[--d]):sameVnode(f,p)?(patchVnode(f,p),insertBefore(r,f.elm,c.elm),f=n[--u],p=i[++a]):(isUndef(g)&&(g=createKeyToOldIdx(n,o,u)),v=g[p.key],isUndef(v)?insertBefore(r,createElm(p),c.elm):(y=n[v],y.tag!==p.tag?insertBefore(r,createElm(p),c.elm):(patchVnode(y,p),n[v]=void 0,insertBefore(r,y.elm,c.elm))),p=i[++a]);(o<=u||a<=d)&&(o>u?(A=i[d+1]==null?null:i[d+1].elm,addVnodes(r,A,i,a,d)):removeVnodes(r,n,o,u))}function patchVnode(r,n){var i=n.elm=r.elm,o=r.children,a=n.children;r!==n&&(updateAttrs(r,n),isUndef(n.text)?isDef(o)&&isDef(a)?o!==a&&updateChildren(i,o,a):isDef(a)?(isDef(r.text)&&setTextContent(i,""),addVnodes(i,null,a,0,a.length-1)):isDef(o)?removeVnodes(i,o,0,o.length-1):isDef(r.text)&&setTextContent(i,""):r.text!==n.text&&(isDef(o)&&removeVnodes(i,o,0,o.length-1),setTextContent(i,n.text)))}function patch(r,n){if(sameVnode(r,n))patchVnode(r,n);else{var i=r.elm,o=parentNode(i);createElm(n),o!==null&&(insertBefore(o,n.elm,nextSibling(i)),removeVnodes(o,[r],0,0))}return n}var svgId=0,SVGPainter=function(){function r(n,i,o){if(this.type="svg",this.refreshHover=createMethodNotSupport("refreshHover"),this.configLayer=createMethodNotSupport("configLayer"),this.storage=i,this._opts=o=extend({},o),this.root=n,this._id="zr"+svgId++,this._oldVNode=createSVGVNode(o.width,o.height),n&&!o.ssr){var a=this._viewport=document.createElement("div");a.style.cssText="position:relative;overflow:hidden";var u=this._svgDom=this._oldVNode.elm=createElement("svg");updateAttrs(null,this._oldVNode),a.appendChild(u),n.appendChild(a)}this.resize(o.width,o.height)}return r.prototype.getType=function(){return this.type},r.prototype.getViewportRoot=function(){return this._viewport},r.prototype.getViewportRootOffset=function(){var n=this.getViewportRoot();if(n)return{offsetLeft:n.offsetLeft||0,offsetTop:n.offsetTop||0}},r.prototype.getSvgDom=function(){return this._svgDom},r.prototype.refresh=function(){if(this.root){var n=this.renderToVNode({willUpdate:!0});n.attrs.style="position:absolute;left:0;top:0;user-select:none",patch(this._oldVNode,n),this._oldVNode=n}},r.prototype.renderOneToVNode=function(n){return brush(n,createBrushScope(this._id))},r.prototype.renderToVNode=function(n){n=n||{};var i=this.storage.getDisplayList(!0),o=this._width,a=this._height,u=createBrushScope(this._id);u.animation=n.animation,u.willUpdate=n.willUpdate,u.compress=n.compress;var c=[],f=this._bgVNode=createBackgroundVNode(o,a,this._backgroundColor,u);f&&c.push(f);var d=n.compress?null:this._mainVNode=createVNode("g","main",{},[]);this._paintList(i,u,d?d.children:c),d&&c.push(d);var p=map$1(keys(u.defs),function(v){return u.defs[v]});if(p.length&&c.push(createVNode("defs","defs",{},p)),n.animation){var h=getCssString(u.cssNodes,u.cssAnims,{newline:!0});if(h){var g=createVNode("style","stl",{},[],h);c.push(g)}}return createSVGVNode(o,a,c,n.useViewBox)},r.prototype.renderToString=function(n){return n=n||{},vNodeToString(this.renderToVNode({animation:retrieve2(n.cssAnimation,!0),willUpdate:!1,compress:!0,useViewBox:retrieve2(n.useViewBox,!0)}),{newline:!0})},r.prototype.setBackgroundColor=function(n){this._backgroundColor=n},r.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},r.prototype._paintList=function(n,i,o){for(var a=n.length,u=[],c=0,f,d,p=0,h=0;h<a;h++){var g=n[h];if(!g.invisible){var v=g.__clipPaths,y=v&&v.length||0,A=d&&d.length||0,_=void 0;for(_=Math.max(y-1,A-1);_>=0&&!(v&&d&&v[_]===d[_]);_--);for(var S=A-1;S>_;S--)c--,f=u[c-1];for(var b=_+1;b<y;b++){var T={};setClipPath(v[b],T,i);var w=createVNode("g","clip-g-"+p++,T,[]);(f?f.children:o).push(w),u[c++]=w,f=w}d=v;var x=brush(g,i);x&&(f?f.children:o).push(x)}}},r.prototype.resize=function(n,i){var o=this._opts,a=this.root,u=this._viewport;if(n!=null&&(o.width=n),i!=null&&(o.height=i),a&&u&&(u.style.display="none",n=getSize(a,0,o),i=getSize(a,1,o),u.style.display=""),this._width!==n||this._height!==i){if(this._width=n,this._height=i,u){var c=u.style;c.width=n+"px",c.height=i+"px"}if(isPattern(this._backgroundColor))this.refresh();else{var f=this._svgDom;f&&(f.setAttribute("width",n),f.setAttribute("height",i));var d=this._bgVNode&&this._bgVNode.elm;d&&(d.setAttribute("width",n),d.setAttribute("height",i))}}},r.prototype.getWidth=function(){return this._width},r.prototype.getHeight=function(){return this._height},r.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},r.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},r.prototype.toDataURL=function(n){var i=this.renderToString(),o="data:image/svg+xml;";return n?(i=encodeBase64(i),i&&o+"base64,"+i):o+"charset=UTF-8,"+encodeURIComponent(i)},r}();function createMethodNotSupport(r){return function(){process.env.NODE_ENV!=="production"&&logError('In SVG mode painter not support method "'+r+'"')}}function createBackgroundVNode(r,n,i,o){var a;if(i&&i!=="none")if(a=createVNode("rect","bg",{width:r,height:n,x:"0",y:"0",id:"0"}),isGradient(i))setGradient({fill:i},a.attrs,"fill",o);else if(isPattern(i))setPattern({style:{fill:i},dirty:noop$1,getBoundingRect:function(){return{width:r,height:n}}},a.attrs,"fill",o);else{var u=normalizeColor(i),c=u.color,f=u.opacity;a.attrs.fill=c,f<1&&(a.attrs["fill-opacity"]=f)}return a}const SVGPainter$1=SVGPainter;function install$7(r){r.registerPainter("svg",SVGPainter$1)}var PI2=Math.PI*2,RADIAN$1=Math.PI/180;function getViewRect(r,n){return getLayoutRect(r.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})}function getBasicPieLayout(r,n){var i=getViewRect(r,n),o=r.get("center"),a=r.get("radius");isArray$1(a)||(a=[0,a]);var u=parsePercent(i.width,n.getWidth()),c=parsePercent(i.height,n.getHeight()),f=Math.min(u,c),d=parsePercent(a[0],f/2),p=parsePercent(a[1],f/2),h,g,v=r.coordinateSystem;if(v){var y=v.dataToPoint(o);h=y[0]||0,g=y[1]||0}else isArray$1(o)||(o=[o,o]),h=parsePercent(o[0],u)+i.x,g=parsePercent(o[1],c)+i.y;return{cx:h,cy:g,r0:d,r:p}}function pieLayout(r,n,i){n.eachSeriesByType(r,function(o){var a=o.getData(),u=a.mapDimension("value"),c=getViewRect(o,i),f=getBasicPieLayout(o,i),d=f.cx,p=f.cy,h=f.r,g=f.r0,v=-o.get("startAngle")*RADIAN$1,y=o.get("minAngle")*RADIAN$1,A=0;a.each(u,function(oe){!isNaN(oe)&&A++});var _=a.getSum(u),S=Math.PI/(_||A)*2,b=o.get("clockwise"),T=o.get("roseType"),w=o.get("stillShowZeroSum"),x=a.getDataExtent(u);x[0]=0;var k=PI2,M=0,D=v,z=b?1:-1;if(a.setLayout({viewRect:c,r:h}),a.each(u,function(oe,L){var F;if(isNaN(oe)){a.setItemLayout(L,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:b,cx:d,cy:p,r0:g,r:T?NaN:h});return}T!=="area"?F=_===0&&w?S:oe*S:F=PI2/A,F<y?(F=y,k-=y):M+=oe;var O=D+z*F;a.setItemLayout(L,{angle:F,startAngle:D,endAngle:O,clockwise:b,cx:d,cy:p,r0:g,r:T?linearMap(oe,x,[g,h]):h}),D=O}),k<PI2&&A)if(k<=.001){var j=PI2/A;a.each(u,function(oe,L){if(!isNaN(oe)){var F=a.getItemLayout(L);F.angle=j,F.startAngle=v+z*L*j,F.endAngle=v+z*(L+1)*j}})}else S=k/M,D=v,a.each(u,function(oe,L){if(!isNaN(oe)){var F=a.getItemLayout(L),O=F.angle===y?y:oe*S;F.startAngle=D,F.endAngle=D+z*O,D+=z*O}})})}function dataFilter(r){return{seriesType:r,reset:function(n,i){var o=i.findComponents({mainType:"legend"});if(!(!o||!o.length)){var a=n.getData();a.filterSelf(function(u){for(var c=a.getName(u),f=0;f<o.length;f++)if(!o[f].isSelected(c))return!1;return!0})}}}}var RADIAN=Math.PI/180;function adjustSingleSide(r,n,i,o,a,u,c,f,d,p){if(r.length<2)return;function h(_){for(var S=_.rB,b=S*S,T=0;T<_.list.length;T++){var w=_.list[T],x=Math.abs(w.label.y-i),k=o+w.len,M=k*k,D=Math.sqrt((1-Math.abs(x*x/b))*M),z=n+(D+w.len2)*a,j=z-w.label.x,oe=w.targetTextWidth-j*a;constrainTextWidth(w,oe,!0),w.label.x=z}}function g(_){for(var S={list:[],maxY:0},b={list:[],maxY:0},T=0;T<_.length;T++)if(_[T].labelAlignTo==="none"){var w=_[T],x=w.label.y>i?b:S,k=Math.abs(w.label.y-i);if(k>=x.maxY){var M=w.label.x-n-w.len2*a,D=o+w.len,z=Math.abs(M)<D?Math.sqrt(k*k/(1-M*M/D/D)):D;x.rB=z,x.maxY=k}x.list.push(w)}h(S),h(b)}for(var v=r.length,y=0;y<v;y++)if(r[y].position==="outer"&&r[y].labelAlignTo==="labelLine"){var A=r[y].label.x-p;r[y].linePoints[1][0]+=A,r[y].label.x=p}shiftLayoutOnY(r,d,d+c)&&g(r)}function avoidOverlap(r,n,i,o,a,u,c,f){for(var d=[],p=[],h=Number.MAX_VALUE,g=-Number.MAX_VALUE,v=0;v<r.length;v++){var y=r[v].label;isPositionCenter(r[v])||(y.x<n?(h=Math.min(h,y.x),d.push(r[v])):(g=Math.max(g,y.x),p.push(r[v])))}for(var v=0;v<r.length;v++){var A=r[v];if(!isPositionCenter(A)&&A.linePoints){if(A.labelStyleWidth!=null)continue;var y=A.label,_=A.linePoints,S=void 0;A.labelAlignTo==="edge"?y.x<n?S=_[2][0]-A.labelDistance-c-A.edgeDistance:S=c+a-A.edgeDistance-_[2][0]-A.labelDistance:A.labelAlignTo==="labelLine"?y.x<n?S=h-c-A.bleedMargin:S=c+a-g-A.bleedMargin:y.x<n?S=y.x-c-A.bleedMargin:S=c+a-y.x-A.bleedMargin,A.targetTextWidth=S,constrainTextWidth(A,S)}}adjustSingleSide(p,n,i,o,1,a,u,c,f,g),adjustSingleSide(d,n,i,o,-1,a,u,c,f,h);for(var v=0;v<r.length;v++){var A=r[v];if(!isPositionCenter(A)&&A.linePoints){var y=A.label,_=A.linePoints,b=A.labelAlignTo==="edge",T=y.style.padding,w=T?T[1]+T[3]:0,x=y.style.backgroundColor?0:w,k=A.rect.width+x,M=_[1][0]-_[2][0];b?y.x<n?_[2][0]=c+A.edgeDistance+k+A.labelDistance:_[2][0]=c+a-A.edgeDistance-k-A.labelDistance:(y.x<n?_[2][0]=y.x+A.labelDistance:_[2][0]=y.x-A.labelDistance,_[1][0]=_[2][0]+M),_[1][1]=_[2][1]=y.y}}}function constrainTextWidth(r,n,i){if(i===void 0&&(i=!1),r.labelStyleWidth==null){var o=r.label,a=o.style,u=r.rect,c=a.backgroundColor,f=a.padding,d=f?f[1]+f[3]:0,p=a.overflow,h=u.width+(c?0:d);if(n<h||i){var g=u.height;if(p&&p.match("break")){o.setStyle("backgroundColor",null),o.setStyle("width",n-d);var v=o.getBoundingRect();o.setStyle("width",Math.ceil(v.width)),o.setStyle("backgroundColor",c)}else{var y=n-d,A=n<h?y:i?y>r.unconstrainedWidth?null:y:null;o.setStyle("width",A)}var _=o.getBoundingRect();u.width=_.width;var S=(o.style.margin||0)+2.1;u.height=_.height+S,u.y-=(u.height-g)/2}}}function isPositionCenter(r){return r.position==="center"}function pieLabelLayout(r){var n=r.getData(),i=[],o,a,u=!1,c=(r.get("minShowLabelAngle")||0)*RADIAN,f=n.getLayout("viewRect"),d=n.getLayout("r"),p=f.width,h=f.x,g=f.y,v=f.height;function y(M){M.ignore=!0}function A(M){if(!M.ignore)return!0;for(var D in M.states)if(M.states[D].ignore===!1)return!0;return!1}n.each(function(M){var D=n.getItemGraphicEl(M),z=D.shape,j=D.getTextContent(),oe=D.getTextGuideLine(),L=n.getItemModel(M),F=L.getModel("label"),O=F.get("position")||L.get(["emphasis","label","position"]),ue=F.get("distanceToLabelLine"),_e=F.get("alignTo"),Ce=parsePercent(F.get("edgeDistance"),p),de=F.get("bleedMargin"),ie=L.getModel("labelLine"),Y=ie.get("length");Y=parsePercent(Y,p);var Ie=ie.get("length2");if(Ie=parsePercent(Ie,p),Math.abs(z.endAngle-z.startAngle)<c){each$4(j.states,y),j.ignore=!0,oe&&(each$4(oe.states,y),oe.ignore=!0);return}if(A(j)){var Oe=(z.startAngle+z.endAngle)/2,kt=Math.cos(Oe),Dt=Math.sin(Oe),Fe,$e,Cn,Lt;o=z.cx,a=z.cy;var In=O==="inside"||O==="inner";if(O==="center")Fe=z.cx,$e=z.cy,Lt="center";else{var Et=(In?(z.r+z.r0)/2*kt:z.r*kt)+o,Ne=(In?(z.r+z.r0)/2*Dt:z.r*Dt)+a;if(Fe=Et+kt*3,$e=Ne+Dt*3,!In){var pe=Et+kt*(Y+d-z.r),At=Ne+Dt*(Y+d-z.r),Ve=pe+(kt<0?-1:1)*Ie,xe=At;_e==="edge"?Fe=kt<0?h+Ce:h+p-Ce:Fe=Ve+(kt<0?-ue:ue),$e=xe,Cn=[[Et,Ne],[pe,At],[Ve,xe]]}Lt=In?"center":_e==="edge"?kt>0?"right":"left":kt>0?"left":"right"}var ze=Math.PI,Pt=0,hn=F.get("rotate");if(isNumber$1(hn))Pt=hn*(ze/180);else if(O==="center")Pt=0;else if(hn==="radial"||hn===!0){var ae=kt<0?-Oe+ze:-Oe;Pt=ae}else if(hn==="tangential"&&O!=="outside"&&O!=="outer"){var le=Math.atan2(kt,Dt);le<0&&(le=ze*2+le);var re=Dt>0;re&&(le=ze+le),Pt=le-ze}if(u=!!Pt,j.x=Fe,j.y=$e,j.rotation=Pt,j.setStyle({verticalAlign:"middle"}),In){j.setStyle({align:Lt});var he=j.states.select;he&&(he.x+=j.x,he.y+=j.y)}else{var V=j.getBoundingRect().clone();V.applyTransform(j.getComputedTransform());var $=(j.style.margin||0)+2.1;V.y-=$/2,V.height+=$,i.push({label:j,labelLine:oe,position:O,len:Y,len2:Ie,minTurnAngle:ie.get("minTurnAngle"),maxSurfaceAngle:ie.get("maxSurfaceAngle"),surfaceNormal:new Point$1(kt,Dt),linePoints:Cn,textAlign:Lt,labelDistance:ue,labelAlignTo:_e,edgeDistance:Ce,bleedMargin:de,rect:V,unconstrainedWidth:V.width,labelStyleWidth:j.style.width})}D.setTextConfig({inside:In})}}),!u&&r.get("avoidLabelOverlap")&&avoidOverlap(i,o,a,d,p,v,h,g);for(var _=0;_<i.length;_++){var S=i[_],b=S.label,T=S.labelLine,w=isNaN(b.x)||isNaN(b.y);if(b){b.setStyle({align:S.textAlign}),w&&(each$4(b.states,y),b.ignore=!0);var x=b.states.select;x&&(x.x+=b.x,x.y+=b.y)}if(T){var k=S.linePoints;w||!k?(each$4(T.states,y),T.ignore=!0):(limitTurnAngle(k,S.minTurnAngle),limitSurfaceAngle(k,S.surfaceNormal,S.maxSurfaceAngle),T.setShape({points:k}),b.__hostTarget.textGuideLineConfig={anchor:new Point$1(k[0][0],k[0][1])})}}}function getSectorCornerRadius(r,n,i){var o=r.get("borderRadius");if(o==null)return i?{cornerRadius:0}:null;isArray$1(o)||(o=[o,o,o,o]);var a=Math.abs(n.r||0-n.r0||0);return{cornerRadius:map$1(o,function(u){return parsePercent$1(u,a)})}}var PiePiece=function(r){__extends(n,r);function n(i,o,a){var u=r.call(this)||this;u.z2=2;var c=new ZRText$1;return u.setTextContent(c),u.updateData(i,o,a,!0),u}return n.prototype.updateData=function(i,o,a,u){var c=this,f=i.hostModel,d=i.getItemModel(o),p=d.getModel("emphasis"),h=i.getItemLayout(o),g=extend(getSectorCornerRadius(d.getModel("itemStyle"),h,!0),h);if(isNaN(g.startAngle)){c.setShape(g);return}if(u){c.setShape(g);var v=f.getShallow("animationType");f.ecModel.ssr?(initProps(c,{scaleX:0,scaleY:0},f,{dataIndex:o,isFrom:!0}),c.originX=g.cx,c.originY=g.cy):v==="scale"?(c.shape.r=h.r0,initProps(c,{shape:{r:h.r}},f,o)):a!=null?(c.setShape({startAngle:a,endAngle:a}),initProps(c,{shape:{startAngle:h.startAngle,endAngle:h.endAngle}},f,o)):(c.shape.endAngle=h.startAngle,updateProps$1(c,{shape:{endAngle:h.endAngle}},f,o))}else saveOldStyle(c),updateProps$1(c,{shape:g},f,o);c.useStyle(i.getItemVisual(o,"style")),setStatesStylesFromModel(c,d);var y=(h.startAngle+h.endAngle)/2,A=f.get("selectedOffset"),_=Math.cos(y)*A,S=Math.sin(y)*A,b=d.getShallow("cursor");b&&c.attr("cursor",b),this._updateLabel(f,i,o),c.ensureState("emphasis").shape=extend({r:h.r+(p.get("scale")&&p.get("scaleSize")||0)},getSectorCornerRadius(p.getModel("itemStyle"),h)),extend(c.ensureState("select"),{x:_,y:S,shape:getSectorCornerRadius(d.getModel(["select","itemStyle"]),h)}),extend(c.ensureState("blur"),{shape:getSectorCornerRadius(d.getModel(["blur","itemStyle"]),h)});var T=c.getTextGuideLine(),w=c.getTextContent();T&&extend(T.ensureState("select"),{x:_,y:S}),extend(w.ensureState("select"),{x:_,y:S}),toggleHoverEmphasis(this,p.get("focus"),p.get("blurScope"),p.get("disabled"))},n.prototype._updateLabel=function(i,o,a){var u=this,c=o.getItemModel(a),f=c.getModel("labelLine"),d=o.getItemVisual(a,"style"),p=d&&d.fill,h=d&&d.opacity;setLabelStyle(u,getLabelStatesModels(c),{labelFetcher:o.hostModel,labelDataIndex:a,inheritColor:p,defaultOpacity:h,defaultText:i.getFormattedLabel(a,"normal")||o.getName(a)});var g=u.getTextContent();u.setTextConfig({position:null,rotation:null}),g.attr({z2:10});var v=i.get(["label","position"]);if(v!=="outside"&&v!=="outer")u.removeTextGuideLine();else{var y=this.getTextGuideLine();y||(y=new Polyline$1,this.setTextGuideLine(y)),setLabelLineStyle(this,getLabelLineStatesModels(c),{stroke:p,opacity:retrieve3(f.get(["lineStyle","opacity"]),h,1)})}},n}(Sector$1),PieView=function(r){__extends(n,r);function n(){var i=r!==null&&r.apply(this,arguments)||this;return i.ignoreLabelLineUpdate=!0,i}return n.prototype.render=function(i,o,a,u){var c=i.getData(),f=this._data,d=this.group,p;if(!f&&c.count()>0){for(var h=c.getItemLayout(0),g=1;isNaN(h&&h.startAngle)&&g<c.count();++g)h=c.getItemLayout(g);h&&(p=h.startAngle)}if(this._emptyCircleSector&&d.remove(this._emptyCircleSector),c.count()===0&&i.get("showEmptyCircle")){var v=new Sector$1({shape:getBasicPieLayout(i,a)});v.useStyle(i.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=v,d.add(v)}c.diff(f).add(function(y){var A=new PiePiece(c,y,p);c.setItemGraphicEl(y,A),d.add(A)}).update(function(y,A){var _=f.getItemGraphicEl(A);_.updateData(c,y,p),_.off("click"),d.add(_),c.setItemGraphicEl(y,_)}).remove(function(y){var A=f.getItemGraphicEl(y);removeElementWithFadeOut(A,i,y)}).execute(),pieLabelLayout(i),i.get("animationTypeUpdate")!=="expansion"&&(this._data=c)},n.prototype.dispose=function(){},n.prototype.containPoint=function(i,o){var a=o.getData(),u=a.getItemLayout(0);if(u){var c=i[0]-u.cx,f=i[1]-u.cy,d=Math.sqrt(c*c+f*f);return d<=u.r&&d>=u.r0}},n.type="pie",n}(ChartView$1);const PieView$1=PieView;function createSeriesDataSimply(r,n,i){n=isArray$1(n)&&{coordDimensions:n}||extend({encodeDefine:r.getEncode()},n);var o=r.getSource(),a=prepareSeriesDataSchema(o,n).dimensions,u=new SeriesData$1(a,r);return u.initData(o,i),u}var LegendVisualProvider=function(){function r(n,i){this._getDataWithEncodedVisual=n,this._getRawData=i}return r.prototype.getAllNames=function(){var n=this._getRawData();return n.mapArray(n.getName)},r.prototype.containName=function(n){var i=this._getRawData();return i.indexOfName(n)>=0},r.prototype.indexOfName=function(n){var i=this._getDataWithEncodedVisual();return i.indexOfName(n)},r.prototype.getItemVisual=function(n,i){var o=this._getDataWithEncodedVisual();return o.getItemVisual(n,i)},r}();const LegendVisualProvider$1=LegendVisualProvider;var innerData=makeInner(),PieSeriesModel=function(r){__extends(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return n.prototype.init=function(i){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider$1(bind$1(this.getData,this),bind$1(this.getRawData,this)),this._defaultLabelLine(i)},n.prototype.mergeOption=function(){r.prototype.mergeOption.apply(this,arguments)},n.prototype.getInitialData=function(){return createSeriesDataSimply(this,{coordDimensions:["value"],encodeDefaulter:curry$1(makeSeriesEncodeForNameBased,this)})},n.prototype.getDataParams=function(i){var o=this.getData(),a=innerData(o),u=a.seats;if(!u){var c=[];o.each(o.mapDimension("value"),function(d){c.push(d)}),u=a.seats=getPercentSeats(c,o.hostModel.get("percentPrecision"))}var f=r.prototype.getDataParams.call(this,i);return f.percent=u[i]||0,f.$vars.push("percent"),f},n.prototype._defaultLabelLine=function(i){defaultEmphasis(i,"labelLine",["show"]);var o=i.labelLine,a=i.emphasis.labelLine;o.show=o.show&&i.label.show,a.show=a.show&&i.emphasis.label.show},n.type="series.pie",n.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},n}(SeriesModel$1);const PieSeriesModel$1=PieSeriesModel;function negativeDataFilter(r){return{seriesType:r,reset:function(n,i){var o=n.getData();o.filterSelf(function(a){var u=o.mapDimension("value"),c=o.get(u,a);return!(isNumber$1(c)&&!isNaN(c)&&c<0)})}}}function install$6(r){r.registerChartView(PieView$1),r.registerSeriesModel(PieSeriesModel$1),createLegacyDataSelectAction("pie",r.registerAction),r.registerLayout(curry$1(pieLayout,"pie")),r.registerProcessor(dataFilter("pie")),r.registerProcessor(negativeDataFilter("pie"))}function layout(r,n,i){i=i||{};var o=r.coordinateSystem,a=n.axis,u={},c=a.getAxesOnZeroOf()[0],f=a.position,d=c?"onZero":f,p=a.dim,h=o.getRect(),g=[h.x,h.x+h.width,h.y,h.y+h.height],v={left:0,right:1,top:0,bottom:1,onZero:2},y=n.get("offset")||0,A=p==="x"?[g[2]-y,g[3]+y]:[g[0]-y,g[1]+y];if(c){var _=c.toGlobalCoord(c.dataToCoord(0));A[v.onZero]=Math.max(Math.min(_,A[1]),A[0])}u.position=[p==="y"?A[v[d]]:g[0],p==="x"?A[v[d]]:g[3]],u.rotation=Math.PI/2*(p==="x"?0:1);var S={top:-1,bottom:1,left:-1,right:1};u.labelDirection=u.tickDirection=u.nameDirection=S[f],u.labelOffset=c?A[v[f]]-A[v.onZero]:0,n.get(["axisTick","inside"])&&(u.tickDirection=-u.tickDirection),retrieve(i.labelInside,n.get(["axisLabel","inside"]))&&(u.labelDirection=-u.labelDirection);var b=n.get(["axisLabel","rotate"]);return u.labelRotate=d==="top"?-b:b,u.z2=1,u}var PI=Math.PI,AxisBuilder=function(){function r(n,i){this.group=new Group$3,this.opt=i,this.axisModel=n,defaults(i,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var o=new Group$3({x:i.position[0],y:i.position[1],rotation:i.rotation});o.updateTransform(),this._transformGroup=o}return r.prototype.hasBuilder=function(n){return!!builders[n]},r.prototype.add=function(n){builders[n](this.opt,this.axisModel,this.group,this._transformGroup)},r.prototype.getGroup=function(){return this.group},r.innerTextLayout=function(n,i,o){var a=remRadian(i-n),u,c;return isRadianAroundZero(a)?(c=o>0?"top":"bottom",u="center"):isRadianAroundZero(a-PI)?(c=o>0?"bottom":"top",u="center"):(c="middle",a>0&&a<PI?u=o>0?"right":"left":u=o>0?"left":"right"),{rotation:a,textAlign:u,textVerticalAlign:c}},r.makeAxisEventDataBase=function(n){var i={componentType:n.mainType,componentIndex:n.componentIndex};return i[n.mainType+"Index"]=n.componentIndex,i},r.isLabelSilent=function(n){var i=n.get("tooltip");return n.get("silent")||!(n.get("triggerEvent")||i&&i.show)},r}(),builders={axisLine:function(r,n,i,o){var a=n.get(["axisLine","show"]);if(a==="auto"&&r.handleAutoShown&&(a=r.handleAutoShown("axisLine")),!!a){var u=n.axis.getExtent(),c=o.transform,f=[u[0],0],d=[u[1],0],p=f[0]>d[0];c&&(applyTransform$1(f,f,c),applyTransform$1(d,d,c));var h=extend({lineCap:"round"},n.getModel(["axisLine","lineStyle"]).getLineStyle()),g=new Line$1({shape:{x1:f[0],y1:f[1],x2:d[0],y2:d[1]},style:h,strokeContainThreshold:r.strokeContainThreshold||5,silent:!0,z2:1});subPixelOptimizeLine(g.shape,g.style.lineWidth),g.anid="line",i.add(g);var v=n.get(["axisLine","symbol"]);if(v!=null){var y=n.get(["axisLine","symbolSize"]);isString$2(v)&&(v=[v,v]),(isString$2(y)||isNumber$1(y))&&(y=[y,y]);var A=normalizeSymbolOffset(n.get(["axisLine","symbolOffset"])||0,y),_=y[0],S=y[1];each$4([{rotate:r.rotation+Math.PI/2,offset:A[0],r:0},{rotate:r.rotation-Math.PI/2,offset:A[1],r:Math.sqrt((f[0]-d[0])*(f[0]-d[0])+(f[1]-d[1])*(f[1]-d[1]))}],function(b,T){if(v[T]!=="none"&&v[T]!=null){var w=createSymbol(v[T],-_/2,-S/2,_,S,h.stroke,!0),x=b.r+b.offset,k=p?d:f;w.attr({rotation:b.rotate,x:k[0]+x*Math.cos(r.rotation),y:k[1]-x*Math.sin(r.rotation),silent:!0,z2:11}),i.add(w)}})}}},axisTickLabel:function(r,n,i,o){var a=buildAxisMajorTicks(i,o,n,r),u=buildAxisLabel(i,o,n,r);if(fixMinMaxLabelShow(n,u,a),buildAxisMinorTicks(i,o,n,r.tickDirection),n.get(["axisLabel","hideOverlap"])){var c=prepareLayoutList(map$1(u,function(f){return{label:f,priority:f.z2,defaultAttr:{ignore:f.ignore}}}));hideOverlap(c)}},axisName:function(r,n,i,o){var a=retrieve(r.axisName,n.get("name"));if(a){var u=n.get("nameLocation"),c=r.nameDirection,f=n.getModel("nameTextStyle"),d=n.get("nameGap")||0,p=n.axis.getExtent(),h=p[0]>p[1]?-1:1,g=[u==="start"?p[0]-h*d:u==="end"?p[1]+h*d:(p[0]+p[1])/2,isNameLocationCenter(u)?r.labelOffset+c*d:0],v,y=n.get("nameRotate");y!=null&&(y=y*PI/180);var A;isNameLocationCenter(u)?v=AxisBuilder.innerTextLayout(r.rotation,y??r.rotation,c):(v=endTextLayout(r.rotation,u,y||0,p),A=r.axisNameAvailableWidth,A!=null&&(A=Math.abs(A/Math.sin(v.rotation)),!isFinite(A)&&(A=null)));var _=f.getFont(),S=n.get("nameTruncate",!0)||{},b=S.ellipsis,T=retrieve(r.nameTruncateMaxWidth,S.maxWidth,A),w=new ZRText$1({x:g[0],y:g[1],rotation:v.rotation,silent:AxisBuilder.isLabelSilent(n),style:createTextStyle(f,{text:a,font:_,overflow:"truncate",width:T,ellipsis:b,fill:f.getTextColor()||n.get(["axisLine","lineStyle","color"]),align:f.get("align")||v.textAlign,verticalAlign:f.get("verticalAlign")||v.textVerticalAlign}),z2:1});if(setTooltipConfig({el:w,componentModel:n,itemName:a}),w.__fullText=a,w.anid="name",n.get("triggerEvent")){var x=AxisBuilder.makeAxisEventDataBase(n);x.targetType="axisName",x.name=a,getECData(w).eventData=x}o.add(w),w.updateTransform(),i.add(w),w.decomposeTransform()}}};function endTextLayout(r,n,i,o){var a=remRadian(i-r),u,c,f=o[0]>o[1],d=n==="start"&&!f||n!=="start"&&f;return isRadianAroundZero(a-PI/2)?(c=d?"bottom":"top",u="center"):isRadianAroundZero(a-PI*1.5)?(c=d?"top":"bottom",u="center"):(c="middle",a<PI*1.5&&a>PI/2?u=d?"left":"right":u=d?"right":"left"),{rotation:a,textAlign:u,textVerticalAlign:c}}function fixMinMaxLabelShow(r,n,i){if(!shouldShowAllLabels(r.axis)){var o=r.get(["axisLabel","showMinLabel"]),a=r.get(["axisLabel","showMaxLabel"]);n=n||[],i=i||[];var u=n[0],c=n[1],f=n[n.length-1],d=n[n.length-2],p=i[0],h=i[1],g=i[i.length-1],v=i[i.length-2];o===!1?(ignoreEl(u),ignoreEl(p)):isTwoLabelOverlapped(u,c)&&(o?(ignoreEl(c),ignoreEl(h)):(ignoreEl(u),ignoreEl(p))),a===!1?(ignoreEl(f),ignoreEl(g)):isTwoLabelOverlapped(d,f)&&(a?(ignoreEl(d),ignoreEl(v)):(ignoreEl(f),ignoreEl(g)))}}function ignoreEl(r){r&&(r.ignore=!0)}function isTwoLabelOverlapped(r,n){var i=r&&r.getBoundingRect().clone(),o=n&&n.getBoundingRect().clone();if(!(!i||!o)){var a=identity$1([]);return rotate(a,a,-r.rotation),i.applyTransform(mul([],a,r.getLocalTransform())),o.applyTransform(mul([],a,n.getLocalTransform())),i.intersect(o)}}function isNameLocationCenter(r){return r==="middle"||r==="center"}function createTicks(r,n,i,o,a){for(var u=[],c=[],f=[],d=0;d<r.length;d++){var p=r[d].coord;c[0]=p,c[1]=0,f[0]=p,f[1]=i,n&&(applyTransform$1(c,c,n),applyTransform$1(f,f,n));var h=new Line$1({shape:{x1:c[0],y1:c[1],x2:f[0],y2:f[1]},style:o,z2:2,autoBatch:!0,silent:!0});subPixelOptimizeLine(h.shape,h.style.lineWidth),h.anid=a+"_"+r[d].tickValue,u.push(h)}return u}function buildAxisMajorTicks(r,n,i,o){var a=i.axis,u=i.getModel("axisTick"),c=u.get("show");if(c==="auto"&&o.handleAutoShown&&(c=o.handleAutoShown("axisTick")),!(!c||a.scale.isBlank())){for(var f=u.getModel("lineStyle"),d=o.tickDirection*u.get("length"),p=a.getTicksCoords(),h=createTicks(p,n.transform,d,defaults(f.getLineStyle(),{stroke:i.get(["axisLine","lineStyle","color"])}),"ticks"),g=0;g<h.length;g++)r.add(h[g]);return h}}function buildAxisMinorTicks(r,n,i,o){var a=i.axis,u=i.getModel("minorTick");if(!(!u.get("show")||a.scale.isBlank())){var c=a.getMinorTicksCoords();if(c.length)for(var f=u.getModel("lineStyle"),d=o*u.get("length"),p=defaults(f.getLineStyle(),defaults(i.getModel("axisTick").getLineStyle(),{stroke:i.get(["axisLine","lineStyle","color"])})),h=0;h<c.length;h++)for(var g=createTicks(c[h],n.transform,d,p,"minorticks_"+h),v=0;v<g.length;v++)r.add(g[v])}}function buildAxisLabel(r,n,i,o){var a=i.axis,u=retrieve(o.axisLabelShow,i.get(["axisLabel","show"]));if(!(!u||a.scale.isBlank())){var c=i.getModel("axisLabel"),f=c.get("margin"),d=a.getViewLabels(),p=(retrieve(o.labelRotate,c.get("rotate"))||0)*PI/180,h=AxisBuilder.innerTextLayout(o.rotation,p,o.labelDirection),g=i.getCategories&&i.getCategories(!0),v=[],y=AxisBuilder.isLabelSilent(i),A=i.get("triggerEvent");return each$4(d,function(_,S){var b=a.scale.type==="ordinal"?a.scale.getRawOrdinalNumber(_.tickValue):_.tickValue,T=_.formattedLabel,w=_.rawLabel,x=c;if(g&&g[b]){var k=g[b];isObject$3(k)&&k.textStyle&&(x=new Model$1(k.textStyle,c,i.ecModel))}var M=x.getTextColor()||i.get(["axisLine","lineStyle","color"]),D=a.dataToCoord(b),z=new ZRText$1({x:D,y:o.labelOffset+o.labelDirection*f,rotation:h.rotation,silent:y,z2:10+(_.level||0),style:createTextStyle(x,{text:T,align:x.getShallow("align",!0)||h.textAlign,verticalAlign:x.getShallow("verticalAlign",!0)||x.getShallow("baseline",!0)||h.textVerticalAlign,fill:isFunction$1(M)?M(a.type==="category"?w:a.type==="value"?b+"":b,S):M})});if(z.anid="label_"+b,A){var j=AxisBuilder.makeAxisEventDataBase(i);j.targetType="axisLabel",j.value=w,j.tickIndex=S,a.type==="category"&&(j.dataIndex=b),getECData(z).eventData=j}n.add(z),z.updateTransform(),v.push(z),r.add(z),z.decomposeTransform()}),v}}const AxisBuilder$1=AxisBuilder;function collect(r,n){var i={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return collectAxesInfo(i,r,n),i.seriesInvolved&&collectSeriesInfo(i,r),i}function collectAxesInfo(r,n,i){var o=n.getComponent("tooltip"),a=n.getComponent("axisPointer"),u=a.get("link",!0)||[],c=[];each$4(i.getCoordinateSystems(),function(f){if(!f.axisPointerEnabled)return;var d=makeKey(f.model),p=r.coordSysAxesInfo[d]={};r.coordSysMap[d]=f;var h=f.model,g=h.getModel("tooltip",o);if(each$4(f.getAxes(),curry$1(_,!1,null)),f.getTooltipAxes&&o&&g.get("show")){var v=g.get("trigger")==="axis",y=g.get(["axisPointer","type"])==="cross",A=f.getTooltipAxes(g.get(["axisPointer","axis"]));(v||y)&&each$4(A.baseAxes,curry$1(_,y?"cross":!0,v)),y&&each$4(A.otherAxes,curry$1(_,"cross",!1))}function _(S,b,T){var w=T.model.getModel("axisPointer",a),x=w.get("show");if(!(!x||x==="auto"&&!S&&!isHandleTrigger(w))){b==null&&(b=w.get("triggerTooltip")),w=S?makeAxisPointerModel(T,g,a,n,S,b):w;var k=w.get("snap"),M=makeKey(T.model),D=b||k||T.type==="category",z=r.axesInfo[M]={key:M,axis:T,coordSys:f,axisPointerModel:w,triggerTooltip:b,involveSeries:D,snap:k,useHandle:isHandleTrigger(w),seriesModels:[],linkGroup:null};p[M]=z,r.seriesInvolved=r.seriesInvolved||D;var j=getLinkGroupIndex(u,T);if(j!=null){var oe=c[j]||(c[j]={axesInfo:{}});oe.axesInfo[M]=z,oe.mapper=u[j].mapper,z.linkGroup=oe}}}})}function makeAxisPointerModel(r,n,i,o,a,u){var c=n.getModel("axisPointer"),f=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],d={};each$4(f,function(v){d[v]=clone$2(c.get(v))}),d.snap=r.type!=="category"&&!!u,c.get("type")==="cross"&&(d.type="line");var p=d.label||(d.label={});if(p.show==null&&(p.show=!1),a==="cross"){var h=c.get(["label","show"]);if(p.show=h??!0,!u){var g=d.lineStyle=c.get("crossStyle");g&&defaults(p,g.textStyle)}}return r.model.getModel("axisPointer",new Model$1(d,i,o))}function collectSeriesInfo(r,n){n.eachSeries(function(i){var o=i.coordinateSystem,a=i.get(["tooltip","trigger"],!0),u=i.get(["tooltip","show"],!0);!o||a==="none"||a===!1||a==="item"||u===!1||i.get(["axisPointer","show"],!0)===!1||each$4(r.coordSysAxesInfo[makeKey(o.model)],function(c){var f=c.axis;o.getAxis(f.dim)===f&&(c.seriesModels.push(i),c.seriesDataCount==null&&(c.seriesDataCount=0),c.seriesDataCount+=i.getData().count())})})}function getLinkGroupIndex(r,n){for(var i=n.model,o=n.dim,a=0;a<r.length;a++){var u=r[a]||{};if(checkPropInLink(u[o+"AxisId"],i.id)||checkPropInLink(u[o+"AxisIndex"],i.componentIndex)||checkPropInLink(u[o+"AxisName"],i.name))return a}}function checkPropInLink(r,n){return r==="all"||isArray$1(r)&&indexOf(r,n)>=0||r===n}function fixValue(r){var n=getAxisInfo(r);if(n){var i=n.axisPointerModel,o=n.axis.scale,a=i.option,u=i.get("status"),c=i.get("value");c!=null&&(c=o.parse(c));var f=isHandleTrigger(i);u==null&&(a.status=f?"show":"hide");var d=o.getExtent().slice();d[0]>d[1]&&d.reverse(),(c==null||c>d[1])&&(c=d[1]),c<d[0]&&(c=d[0]),a.value=c,f&&(a.status=n.axis.scale.isBlank()?"hide":"show")}}function getAxisInfo(r){var n=(r.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return n&&n.axesInfo[makeKey(r)]}function getAxisPointerModel(r){var n=getAxisInfo(r);return n&&n.axisPointerModel}function isHandleTrigger(r){return!!r.get(["handle","show"])}function makeKey(r){return r.type+"||"+r.id}var axisPointerClazz={},AxisView=function(r){__extends(n,r);function n(){var i=r!==null&&r.apply(this,arguments)||this;return i.type=n.type,i}return n.prototype.render=function(i,o,a,u){this.axisPointerClass&&fixValue(i),r.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(i,a,!0)},n.prototype.updateAxisPointer=function(i,o,a,u){this._doUpdateAxisPointerClass(i,a,!1)},n.prototype.remove=function(i,o){var a=this._axisPointer;a&&a.remove(o)},n.prototype.dispose=function(i,o){this._disposeAxisPointer(o),r.prototype.dispose.apply(this,arguments)},n.prototype._doUpdateAxisPointerClass=function(i,o,a){var u=n.getAxisPointerClass(this.axisPointerClass);if(u){var c=getAxisPointerModel(i);c?(this._axisPointer||(this._axisPointer=new u)).render(i,c,o,a):this._disposeAxisPointer(o)}},n.prototype._disposeAxisPointer=function(i){this._axisPointer&&this._axisPointer.dispose(i),this._axisPointer=null},n.registerAxisPointerClass=function(i,o){if(process.env.NODE_ENV!=="production"&&axisPointerClazz[i])throw new Error("axisPointer "+i+" exists");axisPointerClazz[i]=o},n.getAxisPointerClass=function(i){return i&&axisPointerClazz[i]},n.type="axis",n}(ComponentView$1);const AxisView$1=AxisView;var inner$2=makeInner(),clone=clone$2,bind=bind$1,BaseAxisPointer=function(){function r(){this._dragging=!1,this.animationThreshold=15}return r.prototype.render=function(n,i,o,a){var u=i.get("value"),c=i.get("status");if(this._axisModel=n,this._axisPointerModel=i,this._api=o,!(!a&&this._lastValue===u&&this._lastStatus===c)){this._lastValue=u,this._lastStatus=c;var f=this._group,d=this._handle;if(!c||c==="hide"){f&&f.hide(),d&&d.hide();return}f&&f.show(),d&&d.show();var p={};this.makeElOption(p,u,n,i,o);var h=p.graphicKey;h!==this._lastGraphicKey&&this.clear(o),this._lastGraphicKey=h;var g=this._moveAnimation=this.determineAnimation(n,i);if(!f)f=this._group=new Group$3,this.createPointerEl(f,p,n,i),this.createLabelEl(f,p,n,i),o.getZr().add(f);else{var v=curry$1(updateProps,i,g);this.updatePointerEl(f,p,v),this.updateLabelEl(f,p,v,i)}updateMandatoryProps(f,i,!0),this._renderHandle(u)}},r.prototype.remove=function(n){this.clear(n)},r.prototype.dispose=function(n){this.clear(n)},r.prototype.determineAnimation=function(n,i){var o=i.get("animation"),a=n.axis,u=a.type==="category",c=i.get("snap");if(!c&&!u)return!1;if(o==="auto"||o==null){var f=this.animationThreshold;if(u&&a.getBandWidth()>f)return!0;if(c){var d=getAxisInfo(n).seriesDataCount,p=a.getExtent();return Math.abs(p[0]-p[1])/d>f}return!1}return o===!0},r.prototype.makeElOption=function(n,i,o,a,u){},r.prototype.createPointerEl=function(n,i,o,a){var u=i.pointer;if(u){var c=inner$2(n).pointerEl=new graphic[u.type](clone(i.pointer));n.add(c)}},r.prototype.createLabelEl=function(n,i,o,a){if(i.label){var u=inner$2(n).labelEl=new ZRText$1(clone(i.label));n.add(u),updateLabelShowHide(u,a)}},r.prototype.updatePointerEl=function(n,i,o){var a=inner$2(n).pointerEl;a&&i.pointer&&(a.setStyle(i.pointer.style),o(a,{shape:i.pointer.shape}))},r.prototype.updateLabelEl=function(n,i,o,a){var u=inner$2(n).labelEl;u&&(u.setStyle(i.label.style),o(u,{x:i.label.x,y:i.label.y}),updateLabelShowHide(u,a))},r.prototype._renderHandle=function(n){if(!(this._dragging||!this.updateHandleTransform)){var i=this._axisPointerModel,o=this._api.getZr(),a=this._handle,u=i.getModel("handle"),c=i.get("status");if(!u.get("show")||!c||c==="hide"){a&&o.remove(a),this._handle=null;return}var f;this._handle||(f=!0,a=this._handle=createIcon(u.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(p){stop(p.event)},onmousedown:bind(this._onHandleDragMove,this,0,0),drift:bind(this._onHandleDragMove,this),ondragend:bind(this._onHandleDragEnd,this)}),o.add(a)),updateMandatoryProps(a,i,!1),a.setStyle(u.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var d=u.get("size");isArray$1(d)||(d=[d,d]),a.scaleX=d[0]/2,a.scaleY=d[1]/2,createOrUpdate(this,"_doDispatchAxisPointer",u.get("throttle")||0,"fixRate"),this._moveHandleToValue(n,f)}},r.prototype._moveHandleToValue=function(n,i){updateProps(this._axisPointerModel,!i&&this._moveAnimation,this._handle,getHandleTransProps(this.getHandleTransform(n,this._axisModel,this._axisPointerModel)))},r.prototype._onHandleDragMove=function(n,i){var o=this._handle;if(o){this._dragging=!0;var a=this.updateHandleTransform(getHandleTransProps(o),[n,i],this._axisModel,this._axisPointerModel);this._payloadInfo=a,o.stopAnimation(),o.attr(getHandleTransProps(a)),inner$2(o).lastProp=null,this._doDispatchAxisPointer()}},r.prototype._doDispatchAxisPointer=function(){var n=this._handle;if(n){var i=this._payloadInfo,o=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:i.cursorPoint[0],y:i.cursorPoint[1],tooltipOption:i.tooltipOption,axesInfo:[{axisDim:o.axis.dim,axisIndex:o.componentIndex}]})}},r.prototype._onHandleDragEnd=function(){this._dragging=!1;var n=this._handle;if(n){var i=this._axisPointerModel.get("value");this._moveHandleToValue(i),this._api.dispatchAction({type:"hideTip"})}},r.prototype.clear=function(n){this._lastValue=null,this._lastStatus=null;var i=n.getZr(),o=this._group,a=this._handle;i&&o&&(this._lastGraphicKey=null,o&&i.remove(o),a&&i.remove(a),this._group=null,this._handle=null,this._payloadInfo=null),clear(this,"_doDispatchAxisPointer")},r.prototype.doClear=function(){},r.prototype.buildLabel=function(n,i,o){return o=o||0,{x:n[o],y:n[1-o],width:i[o],height:i[1-o]}},r}();function updateProps(r,n,i,o){propsEqual(inner$2(i).lastProp,o)||(inner$2(i).lastProp=o,n?updateProps$1(i,o,r):(i.stopAnimation(),i.attr(o)))}function propsEqual(r,n){if(isObject$3(r)&&isObject$3(n)){var i=!0;return each$4(n,function(o,a){i=i&&propsEqual(r[a],o)}),!!i}else return r===n}function updateLabelShowHide(r,n){r[n.get(["label","show"])?"show":"hide"]()}function getHandleTransProps(r){return{x:r.x||0,y:r.y||0,rotation:r.rotation||0}}function updateMandatoryProps(r,n,i){var o=n.get("z"),a=n.get("zlevel");r&&r.traverse(function(u){u.type!=="group"&&(o!=null&&(u.z=o),a!=null&&(u.zlevel=a),u.silent=i)})}const BaseAxisPointer$1=BaseAxisPointer;function buildElStyle(r){var n=r.get("type"),i=r.getModel(n+"Style"),o;return n==="line"?(o=i.getLineStyle(),o.fill=null):n==="shadow"&&(o=i.getAreaStyle(),o.stroke=null),o}function buildLabelElOption(r,n,i,o,a){var u=i.get("value"),c=getValueLabel(u,n.axis,n.ecModel,i.get("seriesDataIndices"),{precision:i.get(["label","precision"]),formatter:i.get(["label","formatter"])}),f=i.getModel("label"),d=normalizeCssArray(f.get("padding")||0),p=f.getFont(),h=getBoundingRect(c,p),g=a.position,v=h.width+d[1]+d[3],y=h.height+d[0]+d[2],A=a.align;A==="right"&&(g[0]-=v),A==="center"&&(g[0]-=v/2);var _=a.verticalAlign;_==="bottom"&&(g[1]-=y),_==="middle"&&(g[1]-=y/2),confineInContainer(g,v,y,o);var S=f.get("backgroundColor");(!S||S==="auto")&&(S=n.get(["axisLine","lineStyle","color"])),r.label={x:g[0],y:g[1],style:createTextStyle(f,{text:c,font:p,fill:f.getTextColor(),padding:d,backgroundColor:S}),z2:10}}function confineInContainer(r,n,i,o){var a=o.getWidth(),u=o.getHeight();r[0]=Math.min(r[0]+n,a)-n,r[1]=Math.min(r[1]+i,u)-i,r[0]=Math.max(r[0],0),r[1]=Math.max(r[1],0)}function getValueLabel(r,n,i,o,a){r=n.scale.parse(r);var u=n.scale.getLabel({value:r},{precision:a.precision}),c=a.formatter;if(c){var f={value:getAxisRawValue(n,{value:r}),axisDimension:n.dim,axisIndex:n.index,seriesData:[]};each$4(o,function(d){var p=i.getSeriesByIndex(d.seriesIndex),h=d.dataIndexInside,g=p&&p.getDataParams(h);g&&f.seriesData.push(g)}),isString$2(c)?u=c.replace("{value}",u):isFunction$1(c)&&(u=c(f))}return u}function getTransformedPosition(r,n,i){var o=create();return rotate(o,o,i.rotation),translate$1(o,o,i.position),applyTransform([r.dataToCoord(n),(i.labelOffset||0)+(i.labelDirection||1)*(i.labelMargin||0)],o)}function buildCartesianSingleLabelElOption(r,n,i,o,a,u){var c=AxisBuilder$1.innerTextLayout(i.rotation,0,i.labelDirection);i.labelMargin=a.get(["label","margin"]),buildLabelElOption(n,o,a,u,{position:getTransformedPosition(o.axis,r,i),align:c.textAlign,verticalAlign:c.textVerticalAlign})}function makeLineShape(r,n,i){return i=i||0,{x1:r[i],y1:r[1-i],x2:n[i],y2:n[1-i]}}function makeRectShape(r,n,i){return i=i||0,{x:r[i],y:r[1-i],width:n[i],height:n[1-i]}}var CartesianAxisPointer=function(r){__extends(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return n.prototype.makeElOption=function(i,o,a,u,c){var f=a.axis,d=f.grid,p=u.get("type"),h=getCartesian(d,f).getOtherAxis(f).getGlobalExtent(),g=f.toGlobalCoord(f.dataToCoord(o,!0));if(p&&p!=="none"){var v=buildElStyle(u),y=pointerShapeBuilder[p](f,g,h);y.style=v,i.graphicKey=y.type,i.pointer=y}var A=layout(d.model,a);buildCartesianSingleLabelElOption(o,i,A,a,u,c)},n.prototype.getHandleTransform=function(i,o,a){var u=layout(o.axis.grid.model,o,{labelInside:!1});u.labelMargin=a.get(["handle","margin"]);var c=getTransformedPosition(o.axis,i,u);return{x:c[0],y:c[1],rotation:u.rotation+(u.labelDirection<0?Math.PI:0)}},n.prototype.updateHandleTransform=function(i,o,a,u){var c=a.axis,f=c.grid,d=c.getGlobalExtent(!0),p=getCartesian(f,c).getOtherAxis(c).getGlobalExtent(),h=c.dim==="x"?0:1,g=[i.x,i.y];g[h]+=o[h],g[h]=Math.min(d[1],g[h]),g[h]=Math.max(d[0],g[h]);var v=(p[1]+p[0])/2,y=[v,v];y[h]=g[h];var A=[{verticalAlign:"middle"},{align:"center"}];return{x:g[0],y:g[1],rotation:i.rotation,cursorPoint:y,tooltipOption:A[h]}},n}(BaseAxisPointer$1);function getCartesian(r,n){var i={};return i[n.dim+"AxisIndex"]=n.index,r.getCartesian(i)}var pointerShapeBuilder={line:function(r,n,i){var o=makeLineShape([n,i[0]],[n,i[1]],getAxisDimIndex(r));return{type:"Line",subPixelOptimize:!0,shape:o}},shadow:function(r,n,i){var o=Math.max(1,r.getBandWidth()),a=i[1]-i[0];return{type:"Rect",shape:makeRectShape([n-o/2,i[0]],[o,a],getAxisDimIndex(r))}}};function getAxisDimIndex(r){return r.dim==="x"?0:1}const CartesianAxisPointer$1=CartesianAxisPointer;var AxisPointerModel=function(r){__extends(n,r);function n(){var i=r!==null&&r.apply(this,arguments)||this;return i.type=n.type,i}return n.type="axisPointer",n.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},n}(ComponentModel$1);const AxisPointerModel$1=AxisPointerModel;var inner$1=makeInner(),each$1=each$4;function register(r,n,i){if(!env$1.node){var o=n.getZr();inner$1(o).records||(inner$1(o).records={}),initGlobalListeners(o,n);var a=inner$1(o).records[r]||(inner$1(o).records[r]={});a.handler=i}}function initGlobalListeners(r,n){if(inner$1(r).initialized)return;inner$1(r).initialized=!0,i("click",curry$1(doEnter,"click")),i("mousemove",curry$1(doEnter,"mousemove")),i("globalout",onLeave);function i(o,a){r.on(o,function(u){var c=makeDispatchAction$1(n);each$1(inner$1(r).records,function(f){f&&a(f,u,c.dispatchAction)}),dispatchTooltipFinally(c.pendings,n)})}}function dispatchTooltipFinally(r,n){var i=r.showTip.length,o=r.hideTip.length,a;i?a=r.showTip[i-1]:o&&(a=r.hideTip[o-1]),a&&(a.dispatchAction=null,n.dispatchAction(a))}function onLeave(r,n,i){r.handler("leave",null,i)}function doEnter(r,n,i,o){n.handler(r,i,o)}function makeDispatchAction$1(r){var n={showTip:[],hideTip:[]},i=function(o){var a=n[o.type];a?a.push(o):(o.dispatchAction=i,r.dispatchAction(o))};return{dispatchAction:i,pendings:n}}function unregister(r,n){if(!env$1.node){var i=n.getZr(),o=(inner$1(i).records||{})[r];o&&(inner$1(i).records[r]=null)}}var AxisPointerView=function(r){__extends(n,r);function n(){var i=r!==null&&r.apply(this,arguments)||this;return i.type=n.type,i}return n.prototype.render=function(i,o,a){var u=o.getComponent("tooltip"),c=i.get("triggerOn")||u&&u.get("triggerOn")||"mousemove|click";register("axisPointer",a,function(f,d,p){c!=="none"&&(f==="leave"||c.indexOf(f)>=0)&&p({type:"updateAxisPointer",currTrigger:f,x:d&&d.offsetX,y:d&&d.offsetY})})},n.prototype.remove=function(i,o){unregister("axisPointer",o)},n.prototype.dispose=function(i,o){unregister("axisPointer",o)},n.type="axisPointer",n}(ComponentView$1);const AxisPointerView$1=AxisPointerView;function findPointFromSeries(r,n){var i=[],o=r.seriesIndex,a;if(o==null||!(a=n.getSeriesByIndex(o)))return{point:[]};var u=a.getData(),c=queryDataIndex(u,r);if(c==null||c<0||isArray$1(c))return{point:[]};var f=u.getItemGraphicEl(c),d=a.coordinateSystem;if(a.getTooltipPosition)i=a.getTooltipPosition(c)||[];else if(d&&d.dataToPoint)if(r.isStacked){var p=d.getBaseAxis(),h=d.getOtherAxis(p),g=h.dim,v=p.dim,y=g==="x"||g==="radius"?1:0,A=u.mapDimension(v),_=[];_[y]=u.get(A,c),_[1-y]=u.get(u.getCalculationInfo("stackResultDimension"),c),i=d.dataToPoint(_)||[]}else i=d.dataToPoint(u.getValues(map$1(d.dimensions,function(b){return u.mapDimension(b)}),c))||[];else if(f){var S=f.getBoundingRect().clone();S.applyTransform(f.transform),i=[S.x+S.width/2,S.y+S.height/2]}return{point:i,el:f}}var inner=makeInner();function axisTrigger(r,n,i){var o=r.currTrigger,a=[r.x,r.y],u=r,c=r.dispatchAction||bind$1(i.dispatchAction,i),f=n.getComponent("axisPointer").coordSysAxesInfo;if(f){illegalPoint(a)&&(a=findPointFromSeries({seriesIndex:u.seriesIndex,dataIndex:u.dataIndex},n).point);var d=illegalPoint(a),p=u.axesInfo,h=f.axesInfo,g=o==="leave"||illegalPoint(a),v={},y={},A={list:[],map:{}},_={showPointer:curry$1(showPointer,y),showTooltip:curry$1(showTooltip,A)};each$4(f.coordSysMap,function(b,T){var w=d||b.containPoint(a);each$4(f.coordSysAxesInfo[T],function(x,k){var M=x.axis,D=findInputAxisInfo(p,x);if(!g&&w&&(!p||D)){var z=D&&D.value;z==null&&!d&&(z=M.pointToData(a)),z!=null&&processOnAxis(x,z,_,!1,v)}})});var S={};return each$4(h,function(b,T){var w=b.linkGroup;w&&!y[T]&&each$4(w.axesInfo,function(x,k){var M=y[k];if(x!==b&&M){var D=M.value;w.mapper&&(D=b.axis.scale.parse(w.mapper(D,makeMapperParam(x),makeMapperParam(b)))),S[b.key]=D}})}),each$4(S,function(b,T){processOnAxis(h[T],b,_,!0,v)}),updateModelActually(y,h,v),dispatchTooltipActually(A,a,r,c),dispatchHighDownActually(h,c,i),v}}function processOnAxis(r,n,i,o,a){var u=r.axis;if(!(u.scale.isBlank()||!u.containData(n))){if(!r.involveSeries){i.showPointer(r,n);return}var c=buildPayloadsBySeries(n,r),f=c.payloadBatch,d=c.snapToValue;f[0]&&a.seriesIndex==null&&extend(a,f[0]),!o&&r.snap&&u.containData(d)&&d!=null&&(n=d),i.showPointer(r,n,f),i.showTooltip(r,c,d)}}function buildPayloadsBySeries(r,n){var i=n.axis,o=i.dim,a=r,u=[],c=Number.MAX_VALUE,f=-1;return each$4(n.seriesModels,function(d,p){var h=d.getData().mapDimensionsAll(o),g,v;if(d.getAxisTooltipData){var y=d.getAxisTooltipData(h,r,i);v=y.dataIndices,g=y.nestestValue}else{if(v=d.getData().indicesOfNearest(h[0],r,i.type==="category"?.5:null),!v.length)return;g=d.getData().get(h[0],v[0])}if(!(g==null||!isFinite(g))){var A=r-g,_=Math.abs(A);_<=c&&((_<c||A>=0&&f<0)&&(c=_,f=A,a=g,u.length=0),each$4(v,function(S){u.push({seriesIndex:d.seriesIndex,dataIndexInside:S,dataIndex:d.getData().getRawIndex(S)})}))}}),{payloadBatch:u,snapToValue:a}}function showPointer(r,n,i,o){r[n.key]={value:i,payloadBatch:o}}function showTooltip(r,n,i,o){var a=i.payloadBatch,u=n.axis,c=u.model,f=n.axisPointerModel;if(!(!n.triggerTooltip||!a.length)){var d=n.coordSys.model,p=makeKey(d),h=r.map[p];h||(h=r.map[p]={coordSysId:d.id,coordSysIndex:d.componentIndex,coordSysType:d.type,coordSysMainType:d.mainType,dataByAxis:[]},r.list.push(h)),h.dataByAxis.push({axisDim:u.dim,axisIndex:c.componentIndex,axisType:c.type,axisId:c.id,value:o,valueLabelOpt:{precision:f.get(["label","precision"]),formatter:f.get(["label","formatter"])},seriesDataIndices:a.slice()})}}function updateModelActually(r,n,i){var o=i.axesInfo=[];each$4(n,function(a,u){var c=a.axisPointerModel.option,f=r[u];f?(!a.useHandle&&(c.status="show"),c.value=f.value,c.seriesDataIndices=(f.payloadBatch||[]).slice()):!a.useHandle&&(c.status="hide"),c.status==="show"&&o.push({axisDim:a.axis.dim,axisIndex:a.axis.model.componentIndex,value:c.value})})}function dispatchTooltipActually(r,n,i,o){if(illegalPoint(n)||!r.list.length){o({type:"hideTip"});return}var a=((r.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};o({type:"showTip",escapeConnect:!0,x:n[0],y:n[1],tooltipOption:i.tooltipOption,position:i.position,dataIndexInside:a.dataIndexInside,dataIndex:a.dataIndex,seriesIndex:a.seriesIndex,dataByCoordSys:r.list})}function dispatchHighDownActually(r,n,i){var o=i.getZr(),a="axisPointerLastHighlights",u=inner(o)[a]||{},c=inner(o)[a]={};each$4(r,function(p,h){var g=p.axisPointerModel.option;g.status==="show"&&each$4(g.seriesDataIndices,function(v){var y=v.seriesIndex+" | "+v.dataIndex;c[y]=v})});var f=[],d=[];each$4(u,function(p,h){!c[h]&&d.push(p)}),each$4(c,function(p,h){!u[h]&&f.push(p)}),d.length&&i.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:d}),f.length&&i.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:f})}function findInputAxisInfo(r,n){for(var i=0;i<(r||[]).length;i++){var o=r[i];if(n.axis.dim===o.axisDim&&n.axis.model.componentIndex===o.axisIndex)return o}}function makeMapperParam(r){var n=r.axis.model,i={},o=i.axisDim=r.axis.dim;return i.axisIndex=i[o+"AxisIndex"]=n.componentIndex,i.axisName=i[o+"AxisName"]=n.name,i.axisId=i[o+"AxisId"]=n.id,i}function illegalPoint(r){return!r||r[0]==null||isNaN(r[0])||r[1]==null||isNaN(r[1])}function install$5(r){AxisView$1.registerAxisPointerClass("CartesianAxisPointer",CartesianAxisPointer$1),r.registerComponentModel(AxisPointerModel$1),r.registerComponentView(AxisPointerView$1),r.registerPreprocessor(function(n){if(n){(!n.axisPointer||n.axisPointer.length===0)&&(n.axisPointer={});var i=n.axisPointer.link;i&&!isArray$1(i)&&(n.axisPointer.link=[i])}}),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,function(n,i){n.getComponent("axisPointer").coordSysAxesInfo=collect(n,i)}),r.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},axisTrigger)}function makeBackground(r,n){var i=normalizeCssArray(n.get("padding")),o=n.getItemStyle(["color","opacity"]);return o.fill=n.get("backgroundColor"),r=new Rect$1({shape:{x:r.x-i[3],y:r.y-i[0],width:r.width+i[1]+i[3],height:r.height+i[0]+i[2],r:n.get("borderRadius")},style:o,silent:!0,z2:-1}),r}var TooltipModel=function(r){__extends(n,r);function n(){var i=r!==null&&r.apply(this,arguments)||this;return i.type=n.type,i}return n.type="tooltip",n.dependencies=["axisPointer"],n.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},n}(ComponentModel$1);const TooltipModel$1=TooltipModel;function shouldTooltipConfine(r){var n=r.get("confine");return n!=null?!!n:r.get("renderMode")==="richText"}function testStyle(r){if(env$1.domSupported){for(var n=document.documentElement.style,i=0,o=r.length;i<o;i++)if(r[i]in n)return r[i]}}var TRANSFORM_VENDOR=testStyle(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),TRANSITION_VENDOR=testStyle(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function toCSSVendorPrefix(r,n){if(!r)return n;n=toCamelCase(n,!0);var i=r.indexOf(n);return r=i===-1?n:"-"+r.slice(0,i)+"-"+n,r.toLowerCase()}function getComputedStyle$1(r,n){var i=r.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(r);return i?n?i[n]:i:null}var CSS_TRANSITION_VENDOR=toCSSVendorPrefix(TRANSITION_VENDOR,"transition"),CSS_TRANSFORM_VENDOR=toCSSVendorPrefix(TRANSFORM_VENDOR,"transform"),gCssText="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(env$1.transform3dSupported?"will-change:transform;":"");function mirrorPos(r){return r=r==="left"?"right":r==="right"?"left":r==="top"?"bottom":"top",r}function assembleArrow(r,n,i){if(!isString$2(i)||i==="inside")return"";var o=r.get("backgroundColor"),a=r.get("borderWidth");n=convertToColorString(n);var u=mirrorPos(i),c=Math.max(Math.round(a)*1.5,6),f="",d=CSS_TRANSFORM_VENDOR+":",p;indexOf(["left","right"],u)>-1?(f+="top:50%",d+="translateY(-50%) rotate("+(p=u==="left"?-225:-45)+"deg)"):(f+="left:50%",d+="translateX(-50%) rotate("+(p=u==="top"?225:45)+"deg)");var h=p*Math.PI/180,g=c+a,v=g*Math.abs(Math.cos(h))+g*Math.abs(Math.sin(h)),y=Math.round(((v-Math.SQRT2*a)/2+Math.SQRT2*a-(v-g)/2)*100)/100;f+=";"+u+":-"+y+"px";var A=n+" solid "+a+"px;",_=["position:absolute;width:"+c+"px;height:"+c+"px;z-index:-1;",f+";"+d+";","border-bottom:"+A,"border-right:"+A,"background-color:"+o+";"];return'<div style="'+_.join("")+'"></div>'}function assembleTransition(r,n){var i="cubic-bezier(0.23,1,0.32,1)",o=" "+r/2+"s "+i,a="opacity"+o+",visibility"+o;return n||(o=" "+r+"s "+i,a+=env$1.transformSupported?","+CSS_TRANSFORM_VENDOR+o:",left"+o+",top"+o),CSS_TRANSITION_VENDOR+":"+a}function assembleTransform(r,n,i){var o=r.toFixed(0)+"px",a=n.toFixed(0)+"px";if(!env$1.transformSupported)return i?"top:"+a+";left:"+o+";":[["top",a],["left",o]];var u=env$1.transform3dSupported,c="translate"+(u?"3d":"")+"("+o+","+a+(u?",0":"")+")";return i?"top:0;left:0;"+CSS_TRANSFORM_VENDOR+":"+c+";":[["top",0],["left",0],[TRANSFORM_VENDOR,c]]}function assembleFont(r){var n=[],i=r.get("fontSize"),o=r.getTextColor();o&&n.push("color:"+o),n.push("font:"+r.getFont()),i&&n.push("line-height:"+Math.round(i*3/2)+"px");var a=r.get("textShadowColor"),u=r.get("textShadowBlur")||0,c=r.get("textShadowOffsetX")||0,f=r.get("textShadowOffsetY")||0;return a&&u&&n.push("text-shadow:"+c+"px "+f+"px "+u+"px "+a),each$4(["decoration","align"],function(d){var p=r.get(d);p&&n.push("text-"+d+":"+p)}),n.join(";")}function assembleCssText(r,n,i){var o=[],a=r.get("transitionDuration"),u=r.get("backgroundColor"),c=r.get("shadowBlur"),f=r.get("shadowColor"),d=r.get("shadowOffsetX"),p=r.get("shadowOffsetY"),h=r.getModel("textStyle"),g=getPaddingFromTooltipModel(r,"html"),v=d+"px "+p+"px "+c+"px "+f;return o.push("box-shadow:"+v),n&&a&&o.push(assembleTransition(a,i)),u&&o.push("background-color:"+u),each$4(["width","color","radius"],function(y){var A="border-"+y,_=toCamelCase(A),S=r.get(_);S!=null&&o.push(A+":"+S+(y==="color"?"":"px"))}),o.push(assembleFont(h)),g!=null&&o.push("padding:"+normalizeCssArray(g).join("px ")+"px"),o.join(";")+";"}function makeStyleCoord$1(r,n,i,o,a){var u=n&&n.painter;if(i){var c=u&&u.getViewportRoot();c&&transformLocalCoord(r,c,document.body,o,a)}else{r[0]=o,r[1]=a;var f=u&&u.getViewportRootOffset();f&&(r[0]+=f.offsetLeft,r[1]+=f.offsetTop)}r[2]=r[0]/n.getWidth(),r[3]=r[1]/n.getHeight()}var TooltipHTMLContent=function(){function r(n,i,o){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._firstShow=!0,this._longHide=!0,env$1.wxa)return null;var a=document.createElement("div");a.domBelongToZr=!0,this.el=a;var u=this._zr=i.getZr(),c=this._appendToBody=o&&o.appendToBody;makeStyleCoord$1(this._styleCoord,u,c,i.getWidth()/2,i.getHeight()/2),c?document.body.appendChild(a):n.appendChild(a),this._container=n;var f=this;a.onmouseenter=function(){f._enterable&&(clearTimeout(f._hideTimeout),f._show=!0),f._inContent=!0},a.onmousemove=function(d){if(d=d||window.event,!f._enterable){var p=u.handler,h=u.painter.getViewportRoot();normalizeEvent(h,d,!0),p.dispatch("mousemove",d)}},a.onmouseleave=function(){f._inContent=!1,f._enterable&&f._show&&f.hideLater(f._hideDelay)}}return r.prototype.update=function(n){var i=this._container,o=getComputedStyle$1(i,"position"),a=i.style;a.position!=="absolute"&&o!=="absolute"&&(a.position="relative");var u=n.get("alwaysShowContent");u&&this._moveIfResized(),this.el.className=n.get("className")||""},r.prototype.show=function(n,i){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var o=this.el,a=o.style,u=this._styleCoord;o.innerHTML?a.cssText=gCssText+assembleCssText(n,!this._firstShow,this._longHide)+assembleTransform(u[0],u[1],!0)+("border-color:"+convertToColorString(i)+";")+(n.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):a.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},r.prototype.setContent=function(n,i,o,a,u){var c=this.el;if(n==null){c.innerHTML="";return}var f="";if(isString$2(u)&&o.get("trigger")==="item"&&!shouldTooltipConfine(o)&&(f=assembleArrow(o,a,u)),isString$2(n))c.innerHTML=n+f;else if(n){c.innerHTML="",isArray$1(n)||(n=[n]);for(var d=0;d<n.length;d++)isDom(n[d])&&n[d].parentNode!==c&&c.appendChild(n[d]);if(f&&c.childNodes.length){var p=document.createElement("div");p.innerHTML=f,c.appendChild(p)}}},r.prototype.setEnterable=function(n){this._enterable=n},r.prototype.getSize=function(){var n=this.el;return[n.offsetWidth,n.offsetHeight]},r.prototype.moveTo=function(n,i){var o=this._styleCoord;if(makeStyleCoord$1(o,this._zr,this._appendToBody,n,i),o[0]!=null&&o[1]!=null){var a=this.el.style,u=assembleTransform(o[0],o[1]);each$4(u,function(c){a[c[0]]=c[1]})}},r.prototype._moveIfResized=function(){var n=this._styleCoord[2],i=this._styleCoord[3];this.moveTo(n*this._zr.getWidth(),i*this._zr.getHeight())},r.prototype.hide=function(){var n=this,i=this.el.style;i.visibility="hidden",i.opacity="0",env$1.transform3dSupported&&(i.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return n._longHide=!0},500)},r.prototype.hideLater=function(n){this._show&&!(this._inContent&&this._enterable)&&(n?(this._hideDelay=n,this._show=!1,this._hideTimeout=setTimeout(bind$1(this.hide,this),n)):this.hide())},r.prototype.isShow=function(){return this._show},r.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},r}();const TooltipHTMLContent$1=TooltipHTMLContent;var TooltipRichContent=function(){function r(n){this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._zr=n.getZr(),makeStyleCoord(this._styleCoord,this._zr,n.getWidth()/2,n.getHeight()/2)}return r.prototype.update=function(n){var i=n.get("alwaysShowContent");i&&this._moveIfResized()},r.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},r.prototype.setContent=function(n,i,o,a,u){var c=this;isObject$3(n)&&throwError$1(process.env.NODE_ENV!=="production"?"Passing DOM nodes as content is not supported in richText tooltip!":""),this.el&&this._zr.remove(this.el);var f=o.getModel("textStyle");this.el=new ZRText$1({style:{rich:i.richTextStyles,text:n,lineHeight:22,borderWidth:1,borderColor:a,textShadowColor:f.get("textShadowColor"),fill:o.get(["textStyle","color"]),padding:getPaddingFromTooltipModel(o,"richText"),verticalAlign:"top",align:"left"},z:o.get("z")}),each$4(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(p){c.el.style[p]=o.get(p)}),each$4(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(p){c.el.style[p]=f.get(p)||0}),this._zr.add(this.el);var d=this;this.el.on("mouseover",function(){d._enterable&&(clearTimeout(d._hideTimeout),d._show=!0),d._inContent=!0}),this.el.on("mouseout",function(){d._enterable&&d._show&&d.hideLater(d._hideDelay),d._inContent=!1})},r.prototype.setEnterable=function(n){this._enterable=n},r.prototype.getSize=function(){var n=this.el,i=this.el.getBoundingRect(),o=calcShadowOuterSize(n.style);return[i.width+o.left+o.right,i.height+o.top+o.bottom]},r.prototype.moveTo=function(n,i){var o=this.el;if(o){var a=this._styleCoord;makeStyleCoord(a,this._zr,n,i),n=a[0],i=a[1];var u=o.style,c=mathMaxWith0(u.borderWidth||0),f=calcShadowOuterSize(u);o.x=n+c+f.left,o.y=i+c+f.top,o.markRedraw()}},r.prototype._moveIfResized=function(){var n=this._styleCoord[2],i=this._styleCoord[3];this.moveTo(n*this._zr.getWidth(),i*this._zr.getHeight())},r.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},r.prototype.hideLater=function(n){this._show&&!(this._inContent&&this._enterable)&&(n?(this._hideDelay=n,this._show=!1,this._hideTimeout=setTimeout(bind$1(this.hide,this),n)):this.hide())},r.prototype.isShow=function(){return this._show},r.prototype.dispose=function(){this._zr.remove(this.el)},r}();function mathMaxWith0(r){return Math.max(0,r)}function calcShadowOuterSize(r){var n=mathMaxWith0(r.shadowBlur||0),i=mathMaxWith0(r.shadowOffsetX||0),o=mathMaxWith0(r.shadowOffsetY||0);return{left:mathMaxWith0(n-i),right:mathMaxWith0(n+i),top:mathMaxWith0(n-o),bottom:mathMaxWith0(n+o)}}function makeStyleCoord(r,n,i,o){r[0]=i,r[1]=o,r[2]=r[0]/n.getWidth(),r[3]=r[1]/n.getHeight()}const TooltipRichContent$1=TooltipRichContent;var proxyRect=new Rect$1({shape:{x:-1,y:-1,width:2,height:2}}),TooltipView=function(r){__extends(n,r);function n(){var i=r!==null&&r.apply(this,arguments)||this;return i.type=n.type,i}return n.prototype.init=function(i,o){if(!(env$1.node||!o.getDom())){var a=i.getComponent("tooltip"),u=this._renderMode=getTooltipRenderMode(a.get("renderMode"));this._tooltipContent=u==="richText"?new TooltipRichContent$1(o):new TooltipHTMLContent$1(o.getDom(),o,{appendToBody:a.get("appendToBody",!0)})}},n.prototype.render=function(i,o,a){if(!(env$1.node||!a.getDom())){this.group.removeAll(),this._tooltipModel=i,this._ecModel=o,this._api=a,this._alwaysShowContent=i.get("alwaysShowContent");var u=this._tooltipContent;u.update(i),u.setEnterable(i.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&i.get("transitionDuration")?createOrUpdate(this,"_updatePosition",50,"fixRate"):clear(this,"_updatePosition")}},n.prototype._initGlobalListener=function(){var i=this._tooltipModel,o=i.get("triggerOn");register("itemTooltip",this._api,bind$1(function(a,u,c){o!=="none"&&(o.indexOf(a)>=0?this._tryShow(u,c):a==="leave"&&this._hide(c))},this))},n.prototype._keepShow=function(){var i=this._tooltipModel,o=this._ecModel,a=this._api,u=i.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&u!=="none"&&u!=="click"){var c=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!a.isDisposed()&&c.manuallyShowTip(i,o,a,{x:c._lastX,y:c._lastY,dataByCoordSys:c._lastDataByCoordSys})})}},n.prototype.manuallyShowTip=function(i,o,a,u){if(!(u.from===this.uid||env$1.node||!a.getDom())){var c=makeDispatchAction(u,a);this._ticket="";var f=u.dataByCoordSys,d=findComponentReference(u,o,a);if(d){var p=d.el.getBoundingRect().clone();p.applyTransform(d.el.transform),this._tryShow({offsetX:p.x+p.width/2,offsetY:p.y+p.height/2,target:d.el,position:u.position,positionDefault:"bottom"},c)}else if(u.tooltip&&u.x!=null&&u.y!=null){var h=proxyRect;h.x=u.x,h.y=u.y,h.update(),getECData(h).tooltipConfig={name:null,option:u.tooltip},this._tryShow({offsetX:u.x,offsetY:u.y,target:h},c)}else if(f)this._tryShow({offsetX:u.x,offsetY:u.y,position:u.position,dataByCoordSys:f,tooltipOption:u.tooltipOption},c);else if(u.seriesIndex!=null){if(this._manuallyAxisShowTip(i,o,a,u))return;var g=findPointFromSeries(u,o),v=g.point[0],y=g.point[1];v!=null&&y!=null&&this._tryShow({offsetX:v,offsetY:y,target:g.el,position:u.position,positionDefault:"bottom"},c)}else u.x!=null&&u.y!=null&&(a.dispatchAction({type:"updateAxisPointer",x:u.x,y:u.y}),this._tryShow({offsetX:u.x,offsetY:u.y,position:u.position,target:a.getZr().findHover(u.x,u.y).target},c))}},n.prototype.manuallyHideTip=function(i,o,a,u){var c=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&c.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,u.from!==this.uid&&this._hide(makeDispatchAction(u,a))},n.prototype._manuallyAxisShowTip=function(i,o,a,u){var c=u.seriesIndex,f=u.dataIndex,d=o.getComponent("axisPointer").coordSysAxesInfo;if(!(c==null||f==null||d==null)){var p=o.getSeriesByIndex(c);if(p){var h=p.getData(),g=buildTooltipModel([h.getItemModel(f),p,(p.coordinateSystem||{}).model],this._tooltipModel);if(g.get("trigger")==="axis")return a.dispatchAction({type:"updateAxisPointer",seriesIndex:c,dataIndex:f,position:u.position}),!0}}},n.prototype._tryShow=function(i,o){var a=i.target,u=this._tooltipModel;if(u){this._lastX=i.offsetX,this._lastY=i.offsetY;var c=i.dataByCoordSys;if(c&&c.length)this._showAxisTooltip(c,i);else if(a){this._lastDataByCoordSys=null;var f,d;findEventDispatcher(a,function(p){if(getECData(p).dataIndex!=null)return f=p,!0;if(getECData(p).tooltipConfig!=null)return d=p,!0},!0),f?this._showSeriesItemTooltip(i,f,o):d?this._showComponentItemTooltip(i,d,o):this._hide(o)}else this._lastDataByCoordSys=null,this._hide(o)}},n.prototype._showOrMove=function(i,o){var a=i.get("showDelay");o=bind$1(o,this),clearTimeout(this._showTimout),a>0?this._showTimout=setTimeout(o,a):o()},n.prototype._showAxisTooltip=function(i,o){var a=this._ecModel,u=this._tooltipModel,c=[o.offsetX,o.offsetY],f=buildTooltipModel([o.tooltipOption],u),d=this._renderMode,p=[],h=createTooltipMarkup("section",{blocks:[],noHeader:!0}),g=[],v=new TooltipMarkupStyleCreator;each$4(i,function(T){each$4(T.dataByAxis,function(w){var x=a.getComponent(w.axisDim+"Axis",w.axisIndex),k=w.value;if(!(!x||k==null)){var M=getValueLabel(k,x.axis,a,w.seriesDataIndices,w.valueLabelOpt),D=createTooltipMarkup("section",{header:M,noHeader:!trim(M),sortBlocks:!0,blocks:[]});h.blocks.push(D),each$4(w.seriesDataIndices,function(z){var j=a.getSeriesByIndex(z.seriesIndex),oe=z.dataIndexInside,L=j.getDataParams(oe);if(!(L.dataIndex<0)){L.axisDim=w.axisDim,L.axisIndex=w.axisIndex,L.axisType=w.axisType,L.axisId=w.axisId,L.axisValue=getAxisRawValue(x.axis,{value:k}),L.axisValueLabel=M,L.marker=v.makeTooltipMarker("item",convertToColorString(L.color),d);var F=normalizeTooltipFormatResult(j.formatTooltip(oe,!0,null)),O=F.frag;if(O){var ue=buildTooltipModel([j],u).get("valueFormatter");D.blocks.push(ue?extend({valueFormatter:ue},O):O)}F.text&&g.push(F.text),p.push(L)}})}})}),h.blocks.reverse(),g.reverse();var y=o.position,A=f.get("order"),_=buildTooltipMarkup(h,v,d,A,a.get("useUTC"),f.get("textStyle"));_&&g.unshift(_);var S=d==="richText"?`

`:"<br/>",b=g.join(S);this._showOrMove(f,function(){this._updateContentNotChangedOnAxis(i,p)?this._updatePosition(f,y,c[0],c[1],this._tooltipContent,p):this._showTooltipContent(f,b,p,Math.random()+"",c[0],c[1],y,null,v)})},n.prototype._showSeriesItemTooltip=function(i,o,a){var u=this._ecModel,c=getECData(o),f=c.seriesIndex,d=u.getSeriesByIndex(f),p=c.dataModel||d,h=c.dataIndex,g=c.dataType,v=p.getData(g),y=this._renderMode,A=i.positionDefault,_=buildTooltipModel([v.getItemModel(h),p,d&&(d.coordinateSystem||{}).model],this._tooltipModel,A?{position:A}:null),S=_.get("trigger");if(!(S!=null&&S!=="item")){var b=p.getDataParams(h,g),T=new TooltipMarkupStyleCreator;b.marker=T.makeTooltipMarker("item",convertToColorString(b.color),y);var w=normalizeTooltipFormatResult(p.formatTooltip(h,!1,g)),x=_.get("order"),k=_.get("valueFormatter"),M=w.frag,D=M?buildTooltipMarkup(k?extend({valueFormatter:k},M):M,T,y,x,u.get("useUTC"),_.get("textStyle")):w.text,z="item_"+p.name+"_"+h;this._showOrMove(_,function(){this._showTooltipContent(_,D,b,z,i.offsetX,i.offsetY,i.position,i.target,T)}),a({type:"showTip",dataIndexInside:h,dataIndex:v.getRawIndex(h),seriesIndex:f,from:this.uid})}},n.prototype._showComponentItemTooltip=function(i,o,a){var u=getECData(o),c=u.tooltipConfig,f=c.option||{};if(isString$2(f)){var d=f;f={content:d,formatter:d}}var p=[f],h=this._ecModel.getComponent(u.componentMainType,u.componentIndex);h&&p.push(h),p.push({formatter:f.content});var g=i.positionDefault,v=buildTooltipModel(p,this._tooltipModel,g?{position:g}:null),y=v.get("content"),A=Math.random()+"",_=new TooltipMarkupStyleCreator;this._showOrMove(v,function(){var S=clone$2(v.get("formatterParams")||{});this._showTooltipContent(v,y,S,A,i.offsetX,i.offsetY,i.position,o,_)}),a({type:"showTip",from:this.uid})},n.prototype._showTooltipContent=function(i,o,a,u,c,f,d,p,h){if(this._ticket="",!(!i.get("showContent")||!i.get("show"))){var g=this._tooltipContent;g.setEnterable(i.get("enterable"));var v=i.get("formatter");d=d||i.get("position");var y=o,A=this._getNearestPoint([c,f],a,i.get("trigger"),i.get("borderColor")),_=A.color;if(v)if(isString$2(v)){var S=i.ecModel.get("useUTC"),b=isArray$1(a)?a[0]:a,T=b&&b.axisType&&b.axisType.indexOf("time")>=0;y=v,T&&(y=format$1(b.axisValue,y,S)),y=formatTpl(y,a,!0)}else if(isFunction$1(v)){var w=bind$1(function(x,k){x===this._ticket&&(g.setContent(k,h,i,_,d),this._updatePosition(i,d,c,f,g,a,p))},this);this._ticket=u,y=v(a,u,w)}else y=v;g.setContent(y,h,i,_,d),g.show(i,_),this._updatePosition(i,d,c,f,g,a,p)}},n.prototype._getNearestPoint=function(i,o,a,u){if(a==="axis"||isArray$1(o))return{color:u||(this._renderMode==="html"?"#fff":"none")};if(!isArray$1(o))return{color:u||o.color||o.borderColor}},n.prototype._updatePosition=function(i,o,a,u,c,f,d){var p=this._api.getWidth(),h=this._api.getHeight();o=o||i.get("position");var g=c.getSize(),v=i.get("align"),y=i.get("verticalAlign"),A=d&&d.getBoundingRect().clone();if(d&&A.applyTransform(d.transform),isFunction$1(o)&&(o=o([a,u],f,c.el,A,{viewSize:[p,h],contentSize:g.slice()})),isArray$1(o))a=parsePercent(o[0],p),u=parsePercent(o[1],h);else if(isObject$3(o)){var _=o;_.width=g[0],_.height=g[1];var S=getLayoutRect(_,{width:p,height:h});a=S.x,u=S.y,v=null,y=null}else if(isString$2(o)&&d){var b=calcTooltipPosition(o,A,g,i.get("borderWidth"));a=b[0],u=b[1]}else{var b=refixTooltipPosition(a,u,c,p,h,v?null:20,y?null:20);a=b[0],u=b[1]}if(v&&(a-=isCenterAlign(v)?g[0]/2:v==="right"?g[0]:0),y&&(u-=isCenterAlign(y)?g[1]/2:y==="bottom"?g[1]:0),shouldTooltipConfine(i)){var b=confineTooltipPosition(a,u,c,p,h);a=b[0],u=b[1]}c.moveTo(a,u)},n.prototype._updateContentNotChangedOnAxis=function(i,o){var a=this._lastDataByCoordSys,u=this._cbParamsList,c=!!a&&a.length===i.length;return c&&each$4(a,function(f,d){var p=f.dataByAxis||[],h=i[d]||{},g=h.dataByAxis||[];c=c&&p.length===g.length,c&&each$4(p,function(v,y){var A=g[y]||{},_=v.seriesDataIndices||[],S=A.seriesDataIndices||[];c=c&&v.value===A.value&&v.axisType===A.axisType&&v.axisId===A.axisId&&_.length===S.length,c&&each$4(_,function(b,T){var w=S[T];c=c&&b.seriesIndex===w.seriesIndex&&b.dataIndex===w.dataIndex}),u&&each$4(v.seriesDataIndices,function(b){var T=b.seriesIndex,w=o[T],x=u[T];w&&x&&x.data!==w.data&&(c=!1)})})}),this._lastDataByCoordSys=i,this._cbParamsList=o,!!c},n.prototype._hide=function(i){this._lastDataByCoordSys=null,i({type:"hideTip",from:this.uid})},n.prototype.dispose=function(i,o){env$1.node||!o.getDom()||(clear(this,"_updatePosition"),this._tooltipContent.dispose(),unregister("itemTooltip",o))},n.type="tooltip",n}(ComponentView$1);function buildTooltipModel(r,n,i){var o=n.ecModel,a;i?(a=new Model$1(i,o,o),a=new Model$1(n.option,a,o)):a=n;for(var u=r.length-1;u>=0;u--){var c=r[u];c&&(c instanceof Model$1&&(c=c.get("tooltip",!0)),isString$2(c)&&(c={formatter:c}),c&&(a=new Model$1(c,a,o)))}return a}function makeDispatchAction(r,n){return r.dispatchAction||bind$1(n.dispatchAction,n)}function refixTooltipPosition(r,n,i,o,a,u,c){var f=i.getSize(),d=f[0],p=f[1];return u!=null&&(r+d+u+2>o?r-=d+u:r+=u),c!=null&&(n+p+c>a?n-=p+c:n+=c),[r,n]}function confineTooltipPosition(r,n,i,o,a){var u=i.getSize(),c=u[0],f=u[1];return r=Math.min(r+c,o)-c,n=Math.min(n+f,a)-f,r=Math.max(r,0),n=Math.max(n,0),[r,n]}function calcTooltipPosition(r,n,i,o){var a=i[0],u=i[1],c=Math.ceil(Math.SQRT2*o)+8,f=0,d=0,p=n.width,h=n.height;switch(r){case"inside":f=n.x+p/2-a/2,d=n.y+h/2-u/2;break;case"top":f=n.x+p/2-a/2,d=n.y-u-c;break;case"bottom":f=n.x+p/2-a/2,d=n.y+h+c;break;case"left":f=n.x-a-c,d=n.y+h/2-u/2;break;case"right":f=n.x+p+c,d=n.y+h/2-u/2}return[f,d]}function isCenterAlign(r){return r==="center"||r==="middle"}function findComponentReference(r,n,i){var o=preParseFinder(r).queryOptionMap,a=o.keys()[0];if(!(!a||a==="series")){var u=queryReferringComponents(n,a,o.get(a),{useDefault:!1,enableAll:!1,enableNone:!1}),c=u.models[0];if(c){var f=i.getViewOfComponentModel(c),d;if(f.group.traverse(function(p){var h=getECData(p).tooltipConfig;if(h&&h.name===r.name)return d=p,!0}),d)return{componentMainType:a,componentIndex:c.componentIndex,el:d}}}}const TooltipView$1=TooltipView;function install$4(r){use(install$5),r.registerComponentModel(TooltipModel$1),r.registerComponentView(TooltipView$1),r.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},noop$1),r.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},noop$1)}var TitleModel=function(r){__extends(n,r);function n(){var i=r!==null&&r.apply(this,arguments)||this;return i.type=n.type,i.layoutMode={type:"box",ignoreSize:!0},i}return n.type="title",n.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},n}(ComponentModel$1),TitleView=function(r){__extends(n,r);function n(){var i=r!==null&&r.apply(this,arguments)||this;return i.type=n.type,i}return n.prototype.render=function(i,o,a){if(this.group.removeAll(),!!i.get("show")){var u=this.group,c=i.getModel("textStyle"),f=i.getModel("subtextStyle"),d=i.get("textAlign"),p=retrieve2(i.get("textBaseline"),i.get("textVerticalAlign")),h=new ZRText$1({style:createTextStyle(c,{text:i.get("text"),fill:c.getTextColor()},{disableBox:!0}),z2:10}),g=h.getBoundingRect(),v=i.get("subtext"),y=new ZRText$1({style:createTextStyle(f,{text:v,fill:f.getTextColor(),y:g.height+i.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),A=i.get("link"),_=i.get("sublink"),S=i.get("triggerEvent",!0);h.silent=!A&&!S,y.silent=!_&&!S,A&&h.on("click",function(){windowOpen(A,"_"+i.get("target"))}),_&&y.on("click",function(){windowOpen(_,"_"+i.get("subtarget"))}),getECData(h).eventData=getECData(y).eventData=S?{componentType:"title",componentIndex:i.componentIndex}:null,u.add(h),v&&u.add(y);var b=u.getBoundingRect(),T=i.getBoxLayoutParams();T.width=b.width,T.height=b.height;var w=getLayoutRect(T,{width:a.getWidth(),height:a.getHeight()},i.get("padding"));d||(d=i.get("left")||i.get("right"),d==="middle"&&(d="center"),d==="right"?w.x+=w.width:d==="center"&&(w.x+=w.width/2)),p||(p=i.get("top")||i.get("bottom"),p==="center"&&(p="middle"),p==="bottom"?w.y+=w.height:p==="middle"&&(w.y+=w.height/2),p=p||"top"),u.x=w.x,u.y=w.y,u.markRedraw();var x={align:d,verticalAlign:p};h.setStyle(x),y.setStyle(x),b=u.getBoundingRect();var k=w.margin,M=i.getItemStyle(["color","opacity"]);M.fill=i.get("backgroundColor");var D=new Rect$1({shape:{x:b.x-k[3],y:b.y-k[0],width:b.width+k[1]+k[3],height:b.height+k[0]+k[2],r:i.get("borderRadius")},style:M,subPixelOptimize:!0,silent:!0});u.add(D)}},n.type="title",n}(ComponentView$1);function install$3(r){r.registerComponentModel(TitleModel),r.registerComponentView(TitleView)}var getDefaultSelectorOptions=function(r,n){if(n==="all")return{type:"all",title:r.getLocaleModel().get(["legend","selector","all"])};if(n==="inverse")return{type:"inverse",title:r.getLocaleModel().get(["legend","selector","inverse"])}},LegendModel=function(r){__extends(n,r);function n(){var i=r!==null&&r.apply(this,arguments)||this;return i.type=n.type,i.layoutMode={type:"box",ignoreSize:!0},i}return n.prototype.init=function(i,o,a){this.mergeDefaultAndTheme(i,a),i.selected=i.selected||{},this._updateSelector(i)},n.prototype.mergeOption=function(i,o){r.prototype.mergeOption.call(this,i,o),this._updateSelector(i)},n.prototype._updateSelector=function(i){var o=i.selector,a=this.ecModel;o===!0&&(o=i.selector=["all","inverse"]),isArray$1(o)&&each$4(o,function(u,c){isString$2(u)&&(u={type:u}),o[c]=merge(u,getDefaultSelectorOptions(a,u.type))})},n.prototype.optionUpdated=function(){this._updateData(this.ecModel);var i=this._data;if(i[0]&&this.get("selectedMode")==="single"){for(var o=!1,a=0;a<i.length;a++){var u=i[a].get("name");if(this.isSelected(u)){this.select(u),o=!0;break}}!o&&this.select(i[0].get("name"))}},n.prototype._updateData=function(i){var o=[],a=[];i.eachRawSeries(function(d){var p=d.name;a.push(p);var h;if(d.legendVisualProvider){var g=d.legendVisualProvider,v=g.getAllNames();i.isSeriesFiltered(d)||(a=a.concat(v)),v.length?o=o.concat(v):h=!0}else h=!0;h&&isNameSpecified(d)&&o.push(d.name)}),this._availableNames=a;var u=this.get("data")||o,c=createHashMap(),f=map$1(u,function(d){return(isString$2(d)||isNumber$1(d))&&(d={name:d}),c.get(d.name)?null:(c.set(d.name,!0),new Model$1(d,this,this.ecModel))},this);this._data=filter(f,function(d){return!!d})},n.prototype.getData=function(){return this._data},n.prototype.select=function(i){var o=this.option.selected,a=this.get("selectedMode");if(a==="single"){var u=this._data;each$4(u,function(c){o[c.get("name")]=!1})}o[i]=!0},n.prototype.unSelect=function(i){this.get("selectedMode")!=="single"&&(this.option.selected[i]=!1)},n.prototype.toggleSelected=function(i){var o=this.option.selected;o.hasOwnProperty(i)||(o[i]=!0),this[o[i]?"unSelect":"select"](i)},n.prototype.allSelect=function(){var i=this._data,o=this.option.selected;each$4(i,function(a){o[a.get("name",!0)]=!0})},n.prototype.inverseSelect=function(){var i=this._data,o=this.option.selected;each$4(i,function(a){var u=a.get("name",!0);o.hasOwnProperty(u)||(o[u]=!0),o[u]=!o[u]})},n.prototype.isSelected=function(i){var o=this.option.selected;return!(o.hasOwnProperty(i)&&!o[i])&&indexOf(this._availableNames,i)>=0},n.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},n.type="legend.plain",n.dependencies=["series"],n.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},n}(ComponentModel$1);const LegendModel$1=LegendModel;var curry=curry$1,each=each$4,Group$1=Group$3,LegendView=function(r){__extends(n,r);function n(){var i=r!==null&&r.apply(this,arguments)||this;return i.type=n.type,i.newlineDisabled=!1,i}return n.prototype.init=function(){this.group.add(this._contentGroup=new Group$1),this.group.add(this._selectorGroup=new Group$1),this._isFirstRender=!0},n.prototype.getContentGroup=function(){return this._contentGroup},n.prototype.getSelectorGroup=function(){return this._selectorGroup},n.prototype.render=function(i,o,a){var u=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!i.get("show",!0)){var c=i.get("align"),f=i.get("orient");(!c||c==="auto")&&(c=i.get("left")==="right"&&f==="vertical"?"right":"left");var d=i.get("selector",!0),p=i.get("selectorPosition",!0);d&&(!p||p==="auto")&&(p=f==="horizontal"?"end":"start"),this.renderInner(c,i,o,a,d,f,p);var h=i.getBoxLayoutParams(),g={width:a.getWidth(),height:a.getHeight()},v=i.get("padding"),y=getLayoutRect(h,g,v),A=this.layoutInner(i,c,y,u,d,p),_=getLayoutRect(defaults({width:A.width,height:A.height},h),g,v);this.group.x=_.x-A.x,this.group.y=_.y-A.y,this.group.markRedraw(),this.group.add(this._backgroundEl=makeBackground(A,i))}},n.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},n.prototype.renderInner=function(i,o,a,u,c,f,d){var p=this.getContentGroup(),h=createHashMap(),g=o.get("selectedMode"),v=[];a.eachRawSeries(function(y){!y.get("legendHoverLink")&&v.push(y.id)}),each(o.getData(),function(y,A){var _=y.get("name");if(!this.newlineDisabled&&(_===""||_===`
`)){var S=new Group$1;S.newline=!0,p.add(S);return}var b=a.getSeriesByName(_)[0];if(!h.get(_)){if(b){var T=b.getData(),w=T.getVisual("legendLineStyle")||{},x=T.getVisual("legendIcon"),k=T.getVisual("style"),M=this._createItem(b,_,A,y,o,i,w,k,x,g,u);M.on("click",curry(dispatchSelectAction,_,null,u,v)).on("mouseover",curry(dispatchHighlightAction,b.name,null,u,v)).on("mouseout",curry(dispatchDownplayAction,b.name,null,u,v)),h.set(_,!0)}else a.eachRawSeries(function(D){if(!h.get(_)&&D.legendVisualProvider){var z=D.legendVisualProvider;if(!z.containName(_))return;var j=z.indexOfName(_),oe=z.getItemVisual(j,"style"),L=z.getItemVisual(j,"legendIcon"),F=parse(oe.fill);F&&F[3]===0&&(F[3]=.2,oe=extend(extend({},oe),{fill:stringify(F,"rgba")}));var O=this._createItem(D,_,A,y,o,i,{},oe,L,g,u);O.on("click",curry(dispatchSelectAction,null,_,u,v)).on("mouseover",curry(dispatchHighlightAction,null,_,u,v)).on("mouseout",curry(dispatchDownplayAction,null,_,u,v)),h.set(_,!0)}},this);process.env.NODE_ENV!=="production"&&(h.get(_)||console.warn(_+" series not exists. Legend data should be same with series name or data name."))}},this),c&&this._createSelector(c,o,u,f,d)},n.prototype._createSelector=function(i,o,a,u,c){var f=this.getSelectorGroup();each(i,function(p){var h=p.type,g=new ZRText$1({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){a.dispatchAction({type:h==="all"?"legendAllSelect":"legendInverseSelect"})}});f.add(g);var v=o.getModel("selectorLabel"),y=o.getModel(["emphasis","selectorLabel"]);setLabelStyle(g,{normal:v,emphasis:y},{defaultText:p.title}),enableHoverEmphasis(g)})},n.prototype._createItem=function(i,o,a,u,c,f,d,p,h,g,v){var y=i.visualDrawType,A=c.get("itemWidth"),_=c.get("itemHeight"),S=c.isSelected(o),b=u.get("symbolRotate"),T=u.get("symbolKeepAspect"),w=u.get("icon");h=w||h||"roundRect";var x=getLegendStyle(h,u,d,p,y,S,v),k=new Group$1,M=u.getModel("textStyle");if(isFunction$1(i.getLegendIcon)&&(!w||w==="inherit"))k.add(i.getLegendIcon({itemWidth:A,itemHeight:_,icon:h,iconRotate:b,itemStyle:x.itemStyle,lineStyle:x.lineStyle,symbolKeepAspect:T}));else{var D=w==="inherit"&&i.getData().getVisual("symbol")?b==="inherit"?i.getData().getVisual("symbolRotate"):b:0;k.add(getDefaultLegendIcon({itemWidth:A,itemHeight:_,icon:h,iconRotate:D,itemStyle:x.itemStyle,lineStyle:x.lineStyle,symbolKeepAspect:T}))}var z=f==="left"?A+5:-5,j=f,oe=c.get("formatter"),L=o;isString$2(oe)&&oe?L=oe.replace("{name}",o??""):isFunction$1(oe)&&(L=oe(o));var F=u.get("inactiveColor");k.add(new ZRText$1({style:createTextStyle(M,{text:L,x:z,y:_/2,fill:S?M.getTextColor():F,align:j,verticalAlign:"middle"})}));var O=new Rect$1({shape:k.getBoundingRect(),invisible:!0}),ue=u.getModel("tooltip");return ue.get("show")&&setTooltipConfig({el:O,componentModel:c,itemName:o,itemTooltipOption:ue.option}),k.add(O),k.eachChild(function(_e){_e.silent=!0}),O.silent=!g,this.getContentGroup().add(k),enableHoverEmphasis(k),k.__legendDataIndex=a,k},n.prototype.layoutInner=function(i,o,a,u,c,f){var d=this.getContentGroup(),p=this.getSelectorGroup();box(i.get("orient"),d,i.get("itemGap"),a.width,a.height);var h=d.getBoundingRect(),g=[-h.x,-h.y];if(p.markRedraw(),d.markRedraw(),c){box("horizontal",p,i.get("selectorItemGap",!0));var v=p.getBoundingRect(),y=[-v.x,-v.y],A=i.get("selectorButtonGap",!0),_=i.getOrient().index,S=_===0?"width":"height",b=_===0?"height":"width",T=_===0?"y":"x";f==="end"?y[_]+=h[S]+A:g[_]+=v[S]+A,y[1-_]+=h[b]/2-v[b]/2,p.x=y[0],p.y=y[1],d.x=g[0],d.y=g[1];var w={x:0,y:0};return w[S]=h[S]+A+v[S],w[b]=Math.max(h[b],v[b]),w[T]=Math.min(0,v[T]+y[1-_]),w}else return d.x=g[0],d.y=g[1],this.group.getBoundingRect()},n.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},n.type="legend.plain",n}(ComponentView$1);function getLegendStyle(r,n,i,o,a,u,c){function f(S,b){S.lineWidth==="auto"&&(S.lineWidth=b.lineWidth>0?2:0),each(S,function(T,w){S[w]==="inherit"&&(S[w]=b[w])})}var d=n.getModel("itemStyle"),p=d.getItemStyle(),h=r.lastIndexOf("empty",0)===0?"fill":"stroke",g=d.getShallow("decal");p.decal=!g||g==="inherit"?o.decal:createOrUpdatePatternFromDecal(g,c),p.fill==="inherit"&&(p.fill=o[a]),p.stroke==="inherit"&&(p.stroke=o[h]),p.opacity==="inherit"&&(p.opacity=(a==="fill"?o:i).opacity),f(p,o);var v=n.getModel("lineStyle"),y=v.getLineStyle();if(f(y,i),p.fill==="auto"&&(p.fill=o.fill),p.stroke==="auto"&&(p.stroke=o.fill),y.stroke==="auto"&&(y.stroke=o.fill),!u){var A=n.get("inactiveBorderWidth"),_=p[h];p.lineWidth=A==="auto"?o.lineWidth>0&&_?2:0:p.lineWidth,p.fill=n.get("inactiveColor"),p.stroke=n.get("inactiveBorderColor"),y.stroke=v.get("inactiveColor"),y.lineWidth=v.get("inactiveWidth")}return{itemStyle:p,lineStyle:y}}function getDefaultLegendIcon(r){var n=r.icon||"roundRect",i=createSymbol(n,0,0,r.itemWidth,r.itemHeight,r.itemStyle.fill,r.symbolKeepAspect);return i.setStyle(r.itemStyle),i.rotation=(r.iconRotate||0)*Math.PI/180,i.setOrigin([r.itemWidth/2,r.itemHeight/2]),n.indexOf("empty")>-1&&(i.style.stroke=i.style.fill,i.style.fill="#fff",i.style.lineWidth=2),i}function dispatchSelectAction(r,n,i,o){dispatchDownplayAction(r,n,i,o),i.dispatchAction({type:"legendToggleSelect",name:r??n}),dispatchHighlightAction(r,n,i,o)}function isUseHoverLayer(r){for(var n=r.getZr().storage.getDisplayList(),i,o=0,a=n.length;o<a&&!(i=n[o].states.emphasis);)o++;return i&&i.hoverLayer}function dispatchHighlightAction(r,n,i,o){isUseHoverLayer(i)||i.dispatchAction({type:"highlight",seriesName:r,name:n,excludeSeriesId:o})}function dispatchDownplayAction(r,n,i,o){isUseHoverLayer(i)||i.dispatchAction({type:"downplay",seriesName:r,name:n,excludeSeriesId:o})}const LegendView$1=LegendView;function legendFilter(r){var n=r.findComponents({mainType:"legend"});n&&n.length&&r.filterSeries(function(i){for(var o=0;o<n.length;o++)if(!n[o].isSelected(i.name))return!1;return!0})}function legendSelectActionHandler(r,n,i){var o={},a=r==="toggleSelected",u;return i.eachComponent("legend",function(c){a&&u!=null?c[u?"select":"unSelect"](n.name):r==="allSelect"||r==="inverseSelect"?c[r]():(c[r](n.name),u=c.isSelected(n.name));var f=c.getData();each$4(f,function(d){var p=d.get("name");if(!(p===`
`||p==="")){var h=c.isSelected(p);o.hasOwnProperty(p)?o[p]=o[p]&&h:o[p]=h}})}),r==="allSelect"||r==="inverseSelect"?{selected:o}:{name:n.name,selected:o}}function installLegendAction(r){r.registerAction("legendToggleSelect","legendselectchanged",curry$1(legendSelectActionHandler,"toggleSelected")),r.registerAction("legendAllSelect","legendselectall",curry$1(legendSelectActionHandler,"allSelect")),r.registerAction("legendInverseSelect","legendinverseselect",curry$1(legendSelectActionHandler,"inverseSelect")),r.registerAction("legendSelect","legendselected",curry$1(legendSelectActionHandler,"select")),r.registerAction("legendUnSelect","legendunselected",curry$1(legendSelectActionHandler,"unSelect"))}function install$2(r){r.registerComponentModel(LegendModel$1),r.registerComponentView(LegendView$1),r.registerProcessor(r.PRIORITY.PROCESSOR.SERIES_FILTER,legendFilter),r.registerSubTypeDefaulter("legend",function(){return"plain"}),installLegendAction(r)}var ScrollableLegendModel=function(r){__extends(n,r);function n(){var i=r!==null&&r.apply(this,arguments)||this;return i.type=n.type,i}return n.prototype.setScrollDataIndex=function(i){this.option.scrollDataIndex=i},n.prototype.init=function(i,o,a){var u=getLayoutParams(i);r.prototype.init.call(this,i,o,a),mergeAndNormalizeLayoutParams(this,i,u)},n.prototype.mergeOption=function(i,o){r.prototype.mergeOption.call(this,i,o),mergeAndNormalizeLayoutParams(this,this.option,i)},n.type="legend.scroll",n.defaultOption=inheritDefaultOption(LegendModel$1.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),n}(LegendModel$1);function mergeAndNormalizeLayoutParams(r,n,i){var o=r.getOrient(),a=[1,1];a[o.index]=0,mergeLayoutParam(n,i,{type:"box",ignoreSize:!!a})}const ScrollableLegendModel$1=ScrollableLegendModel;var Group=Group$3,WH=["width","height"],XY=["x","y"],ScrollableLegendView=function(r){__extends(n,r);function n(){var i=r!==null&&r.apply(this,arguments)||this;return i.type=n.type,i.newlineDisabled=!0,i._currentIndex=0,i}return n.prototype.init=function(){r.prototype.init.call(this),this.group.add(this._containerGroup=new Group),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new Group)},n.prototype.resetInner=function(){r.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},n.prototype.renderInner=function(i,o,a,u,c,f,d){var p=this;r.prototype.renderInner.call(this,i,o,a,u,c,f,d);var h=this._controllerGroup,g=o.get("pageIconSize",!0),v=isArray$1(g)?g:[g,g];A("pagePrev",0);var y=o.getModel("pageTextStyle");h.add(new ZRText$1({name:"pageText",style:{text:"xx/xx",fill:y.getTextColor(),font:y.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),A("pageNext",1);function A(_,S){var b=_+"DataIndex",T=createIcon(o.get("pageIcons",!0)[o.getOrient().name][S],{onclick:bind$1(p._pageGo,p,b,o,u)},{x:-v[0]/2,y:-v[1]/2,width:v[0],height:v[1]});T.name=_,h.add(T)}},n.prototype.layoutInner=function(i,o,a,u,c,f){var d=this.getSelectorGroup(),p=i.getOrient().index,h=WH[p],g=XY[p],v=WH[1-p],y=XY[1-p];c&&box("horizontal",d,i.get("selectorItemGap",!0));var A=i.get("selectorButtonGap",!0),_=d.getBoundingRect(),S=[-_.x,-_.y],b=clone$2(a);c&&(b[h]=a[h]-_[h]-A);var T=this._layoutContentAndController(i,u,b,p,h,v,y,g);if(c){if(f==="end")S[p]+=T[h]+A;else{var w=_[h]+A;S[p]-=w,T[g]-=w}T[h]+=_[h]+A,S[1-p]+=T[y]+T[v]/2-_[v]/2,T[v]=Math.max(T[v],_[v]),T[y]=Math.min(T[y],_[y]+S[1-p]),d.x=S[0],d.y=S[1],d.markRedraw()}return T},n.prototype._layoutContentAndController=function(i,o,a,u,c,f,d,p){var h=this.getContentGroup(),g=this._containerGroup,v=this._controllerGroup;box(i.get("orient"),h,i.get("itemGap"),u?a.width:null,u?null:a.height),box("horizontal",v,i.get("pageButtonItemGap",!0));var y=h.getBoundingRect(),A=v.getBoundingRect(),_=this._showController=y[c]>a[c],S=[-y.x,-y.y];o||(S[u]=h[p]);var b=[0,0],T=[-A.x,-A.y],w=retrieve2(i.get("pageButtonGap",!0),i.get("itemGap",!0));if(_){var x=i.get("pageButtonPosition",!0);x==="end"?T[u]+=a[c]-A[c]:b[u]+=A[c]+w}T[1-u]+=y[f]/2-A[f]/2,h.setPosition(S),g.setPosition(b),v.setPosition(T);var k={x:0,y:0};if(k[c]=_?a[c]:y[c],k[f]=Math.max(y[f],A[f]),k[d]=Math.min(0,A[d]+T[1-u]),g.__rectSize=a[c],_){var M={x:0,y:0};M[c]=Math.max(a[c]-A[c]-w,0),M[f]=k[f],g.setClipPath(new Rect$1({shape:M})),g.__rectSize=M[c]}else v.eachChild(function(z){z.attr({invisible:!0,silent:!0})});var D=this._getPageInfo(i);return D.pageIndex!=null&&updateProps$1(h,{x:D.contentPosition[0],y:D.contentPosition[1]},_?i:null),this._updatePageInfoView(i,D),k},n.prototype._pageGo=function(i,o,a){var u=this._getPageInfo(o)[i];u!=null&&a.dispatchAction({type:"legendScroll",scrollDataIndex:u,legendId:o.id})},n.prototype._updatePageInfoView=function(i,o){var a=this._controllerGroup;each$4(["pagePrev","pageNext"],function(h){var g=h+"DataIndex",v=o[g]!=null,y=a.childOfName(h);y&&(y.setStyle("fill",v?i.get("pageIconColor",!0):i.get("pageIconInactiveColor",!0)),y.cursor=v?"pointer":"default")});var u=a.childOfName("pageText"),c=i.get("pageFormatter"),f=o.pageIndex,d=f!=null?f+1:0,p=o.pageCount;u&&c&&u.setStyle("text",isString$2(c)?c.replace("{current}",d==null?"":d+"").replace("{total}",p==null?"":p+""):c({current:d,total:p}))},n.prototype._getPageInfo=function(i){var o=i.get("scrollDataIndex",!0),a=this.getContentGroup(),u=this._containerGroup.__rectSize,c=i.getOrient().index,f=WH[c],d=XY[c],p=this._findTargetItemIndex(o),h=a.children(),g=h[p],v=h.length,y=v?1:0,A={contentPosition:[a.x,a.y],pageCount:y,pageIndex:y-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!g)return A;var _=x(g);A.contentPosition[c]=-_.s;for(var S=p+1,b=_,T=_,w=null;S<=v;++S)w=x(h[S]),(!w&&T.e>b.s+u||w&&!k(w,b.s))&&(T.i>b.i?b=T:b=w,b&&(A.pageNextDataIndex==null&&(A.pageNextDataIndex=b.i),++A.pageCount)),T=w;for(var S=p-1,b=_,T=_,w=null;S>=-1;--S)w=x(h[S]),(!w||!k(T,w.s))&&b.i<T.i&&(T=b,A.pagePrevDataIndex==null&&(A.pagePrevDataIndex=b.i),++A.pageCount,++A.pageIndex),b=w;return A;function x(M){if(M){var D=M.getBoundingRect(),z=D[d]+M[d];return{s:z,e:z+D[f],i:M.__legendDataIndex}}}function k(M,D){return M.e>=D&&M.s<=D+u}},n.prototype._findTargetItemIndex=function(i){if(!this._showController)return 0;var o,a=this.getContentGroup(),u;return a.eachChild(function(c,f){var d=c.__legendDataIndex;u==null&&d!=null&&(u=f),d===i&&(o=f)}),o??u},n.type="legend.scroll",n}(LegendView$1);const ScrollableLegendView$1=ScrollableLegendView;function installScrollableLegendAction(r){r.registerAction("legendScroll","legendscroll",function(n,i){var o=n.scrollDataIndex;o!=null&&i.eachComponent({mainType:"legend",subType:"scroll",query:n},function(a){a.setScrollDataIndex(o)})})}function install$1(r){use(install$2),r.registerComponentModel(ScrollableLegendModel$1),r.registerComponentView(ScrollableLegendView$1),installScrollableLegendAction(r)}function install(r){use(install$2),use(install$1)}const _sfc_main$G=vue.defineComponent({__name:"pie-charts",props:{title:{type:String,default:"标题"},seriesName:{type:String,default:"详情"},seriesData:{type:Array,default:()=>[]}},setup(r){const n=r;use([install$7,install$6,install$3,install$4,install]),vue.provide(VChart.THEME_KEY,"dark");const i=vue.reactive({title:{text:n.title,left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",left:"left"},series:[{name:n.seriesName,type:"pie",radius:"55%",center:["50%","60%"],data:n.seriesData,emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]});return vue.watch(n,o=>{i.title.text=o.title,i.series[0].name=o.seriesName,i.series[0].data=o.seriesData}),(o,a)=>(vue.openBlock(),vue.createBlock(vue.unref(VChart),{class:"chart",option:vue.unref(i),autoresize:""},null,8,["option"]))}}),pieCharts_vue_vue_type_style_index_0_scoped_fec2cbf2_lang="",PieCharts=_export_sfc$1(_sfc_main$G,[["__scopeId","data-v-fec2cbf2"]]),_hoisted_1$k=["id"],_hoisted_2$h=["id"],_hoisted_3$e=["fill"],_hoisted_4$a=["fill"],_hoisted_5$8=["fill"],_hoisted_6$6=vue.createElementVNode("path",{d:"M375.466667 709.214815l-25.6 137.481481c0 2.844444 1.896296 5.688889 7.585185 10.42963l65.422222 54.992593c5.688889 4.740741 15.17037 8.533333 23.703704 10.429629l36.029629-193.422222-107.14074-19.911111z",fill:"#2D4375"},null,-1),_hoisted_7$6=vue.createElementVNode("path",{d:"M482.607407 729.125926l-36.029629 193.422222c9.481481 1.896296 18.014815 1.896296 25.6-0.948148l80.592592-27.496296c6.637037-1.896296 10.42963-4.740741 11.377778-6.637037L589.748148 749.037037l-107.140741-19.911111z",fill:"#1E2D4F"},null,-1),_hoisted_8$6=["fill-opacity"],_hoisted_9$6=["fill-opacity"],_hoisted_10$5=["fill-opacity"],_hoisted_11$4=vue.createElementVNode("path",{d:"M593.540741 807.822222c1.896296-7.585185-3.792593-15.17037-11.377778-16.118518l-107.140741-19.911111-4.740741 27.496296 107.140741 19.911111c6.637037 0.948148 14.222222-3.792593 16.118519-11.377778z",fill:"#CEEFF6"},null,-1),_hoisted_12$4=vue.createElementVNode("path",{d:"M366.933333 750.933333c-7.585185-1.896296-15.17037 3.792593-16.118518 11.377778-1.896296 7.585185 3.792593 15.17037 11.377778 16.118519l107.14074 19.911111 4.740741-27.496297-107.140741-19.911111zM356.503704 808.77037c-7.585185-1.896296-15.17037 3.792593-16.118519 11.377778-1.896296 7.585185 3.792593 15.17037 11.377778 16.118519l107.140741 19.911111 4.74074-27.496297-107.14074-19.911111z",fill:"#FFFFFF"},null,-1),_hoisted_13$3=vue.createElementVNode("path",{d:"M570.785185 848.592593l-107.140741-19.911112-4.74074 27.496297 107.14074 19.911111c7.585185 1.896296 15.17037-3.792593 16.118519-11.377778 1.896296-7.585185-2.844444-15.17037-11.377778-16.118518z",fill:"#CEEFF6"},null,-1),_hoisted_14$3=["xlink:href"],_sfc_main$F=vue.defineComponent({__name:"light-a",props:{id:{default:""},isOpen:{type:Boolean,default:!1}},emits:["onChange"],setup(r,{emit:n}){const i=r;return vue.watch(()=>i.isOpen,()=>{n("onChange")}),(o,a)=>(vue.openBlock(),vue.createElementBlock("g",{id:i.id,style:{cursor:"pointer"}},[vue.createElementVNode("symbol",{id:`${i.id}light-121`,viewBox:"0 0 1024 1024"},[vue.createElementVNode("path",{d:"M565.096296 289.185185s-0.948148 0 0 0c-110.933333-20.859259-208.592593 40.77037-237.985185 148.859259-14.222222 53.096296-24.651852 101.451852 44.562963 221.866667 14.222222 25.6 11.377778 70.162963 8.533333 95.762963-1.896296 14.222222 64.474074 36.02963 89.125926 42.666667l95.762963-509.155556z",fill:i.isOpen?"#FDB813":"#cccccc"},null,8,_hoisted_3$e),vue.createElementVNode("path",{d:"M732.918519 513.896296c11.377778-111.881481-56.888889-203.851852-166.874075-224.711111h-0.948148L469.333333 798.340741c25.6 2.844444 94.814815 6.637037 98.607408-7.585185 6.637037-25.6 20.859259-67.318519 42.666666-86.281482C719.644444 618.192593 727.22963 568.888889 732.918519 513.896296z",fill:i.isOpen?"#FD9B13":"#bbbbbb"},null,8,_hoisted_4$a),vue.createElementVNode("path",{d:"M467.437037 806.874074c-7.585185-0.948148-12.325926-7.585185-14.222222-14.222222l-38.874074-256c-0.948148-5.688889 0.948148-11.377778 4.74074-15.170371 3.792593-3.792593 9.481481-5.688889 15.170371-4.74074l167.822222 31.288889c5.688889 0.948148 10.42963 4.740741 12.325926 9.481481 1.896296 4.740741 1.896296 11.377778-0.948148 16.118519L486.4 798.340741c-3.792593 6.637037-11.377778 10.42963-18.962963 8.533333z m-14.222222-251.259259l27.496296 182.992592L572.681481 578.37037l-119.466666-22.755555z",fill:i.isOpen?"#F12A3F":"#666666"},null,8,_hoisted_5$8),_hoisted_6$6,_hoisted_7$6,vue.createElementVNode("path",{d:"M612.503704 217.125926c-3.792593 18.014815-20.859259 29.392593-38.874074 26.548148-18.014815-3.792593-30.340741-20.859259-26.548149-38.874074l18.962963-100.503704c3.792593-18.014815 20.859259-29.392593 38.874075-26.548148 18.014815 3.792593 30.340741 20.859259 26.548148 38.874074l-18.962963 100.503704z",fill:"#FDB813","fill-opacity":i.isOpen?1:0},null,8,_hoisted_8$6),vue.createElementVNode("path",{d:"M382.103704 228.503704c10.42963 15.17037 6.637037 36.02963-8.533334 46.459259-15.17037 10.42963-36.02963 6.637037-46.459259-8.533333l-57.837037-84.385186c-10.42963-15.17037-6.637037-36.02963 8.533333-46.459259 15.17037-10.42963 36.02963-6.637037 46.45926 8.533334l57.837037 84.385185zM757.57037 298.666667c-15.17037 10.42963-18.962963 31.288889-8.533333 46.459259 10.42963 15.17037 31.288889 18.962963 46.459259 8.533333l84.385185-57.837037c15.17037-10.42963 18.962963-31.288889 8.533334-46.459259-10.42963-15.17037-31.288889-18.962963-46.459259-8.533333l-84.385186 57.837037z",fill:"#FDB813","fill-opacity":i.isOpen?1:0},null,8,_hoisted_9$6),vue.createElementVNode("path",{d:"M252.207407 361.244444c18.014815 3.792593 30.340741 20.859259 26.548149 38.874075-3.792593 18.014815-20.859259 29.392593-38.874075 26.548148l-100.503703-18.962963c-18.014815-3.792593-30.340741-20.859259-26.548148-38.874074 3.792593-18.014815 20.859259-29.392593 38.874074-26.548149l100.503703 18.962963zM931.081481 488.296296c18.014815 3.792593 30.340741 20.859259 26.548149 38.874074-3.792593 18.014815-20.859259 29.392593-38.874074 26.548149l-100.503704-18.962963c-18.014815-3.792593-30.340741-20.859259-26.548148-38.874075 3.792593-18.014815 20.859259-29.392593 38.874074-26.548148l100.503703 18.962963z",fill:"#FDB813","fill-opacity":i.isOpen?1:0},null,8,_hoisted_10$5),_hoisted_11$4,_hoisted_12$4,_hoisted_13$3],8,_hoisted_2$h),vue.createElementVNode("use",{"xlink:href":`#${i.id}light-121`,width:"100",height:"100"},null,8,_hoisted_14$3)],8,_hoisted_1$k))}}),_hoisted_1$j=["id"],_hoisted_2$g=["id"],_hoisted_3$d=["fill"],_hoisted_4$9=["fill"],_hoisted_5$7=["fill"],_hoisted_6$5=["from","to"],_hoisted_7$5=["fill"],_hoisted_8$5=["from","to"],_hoisted_9$5=["fill"],_hoisted_10$4=["fill"],_hoisted_11$3=["fill"],_hoisted_12$3=["from","to"],_hoisted_13$2=["fill"],_hoisted_14$2=["xlink:href"],_sfc_main$E=vue.defineComponent({__name:"clock-a",props:{id:{default:""},centerColor:{default:"#EBF257"},secondsColor:{default:"#E83E24"},circleColor:{default:"#F45AFC"},minutesColor:{default:"#50E68E"},hoursColor:{default:"#9A36E7"},scaleColor:{default:"#4942CF"},backgroundColor:{default:"#ffffff"},borderColor:{default:"#B3A7FF"}},setup(r){const n=r,i=new Date(Number(window.sessionStorage.getItem("editorLoadTime")||"0")),o=i.getSeconds()+1,a=i.getMinutes(),u=Math.floor((i.getHours()+(a+o/60)/60)*30);return(c,f)=>(vue.openBlock(),vue.createElementBlock("g",{id:n.id},[vue.createElementVNode("symbol",{id:`${n.id}clock-a-n`,viewBox:"0 0 1024 1024"},[vue.createElementVNode("path",{d:"M512.3 518.9m-469.2 0a469.2 469.2 0 1 0 938.4 0 469.2 469.2 0 1 0-938.4 0Z",fill:n.borderColor},null,8,_hoisted_3$d),vue.createElementVNode("path",{d:"M512.3 518.9m-392.5 0a392.5 392.5 0 1 0 785 0 392.5 392.5 0 1 0-785 0Z",fill:n.backgroundColor},null,8,_hoisted_4$9),vue.createElementVNode("path",{d:"M512.3 523.8c-4.5 0-9-1.7-12.4-5.1L318.3 337.1c-6.8-6.8-6.8-17.9 0-24.8 6.8-6.8 17.9-6.8 24.8 0L524.7 494c6.8 6.8 6.8 17.9 0 24.8-3.5 3.3-7.9 5-12.4 5z",fill:n.minutesColor},[vue.createElementVNode("animateTransform",{attributeName:"transform",attributeType:"XML",type:"rotate",from:`${45+vue.unref(a)*6} 512.3 506.3`,to:`${405+vue.unref(a)*6} 512.3 506.3`,dur:"3600s",repeatCount:"indefinite"},null,8,_hoisted_6$5)],8,_hoisted_5$7),vue.createElementVNode("path",{d:"M512.3 523.8c-4.5 0-9-1.7-12.4-5.1-6.8-6.8-6.8-17.9 0-24.8l130.8-130.8c6.8-6.8 17.9-6.8 24.8 0 6.8 6.8 6.8 17.9 0 24.8L524.7 518.7c-3.5 3.4-7.9 5.1-12.4 5.1z",fill:n.hoursColor},[vue.createElementVNode("animateTransform",{attributeName:"transform",attributeType:"XML",type:"rotate",from:`${-45+vue.unref(u)} 512.3 506.3`,to:`${315+vue.unref(u)} 512.3 506.3`,dur:"43200s",repeatCount:"indefinite"},null,8,_hoisted_8$5)],8,_hoisted_7$5),vue.createElementVNode("path",{d:"M512.3 506.3m-47.5 0a47.5 47.5 0 1 0 95 0 47.5 47.5 0 1 0-95 0Z",fill:n.circleColor},null,8,_hoisted_9$5),vue.createElementVNode("path",{d:"M512.3 218.8c-9 0-16.3-7.3-16.3-16.3v-29.1c0-9 7.3-16.3 16.3-16.3s16.3 7.3 16.3 16.3v29.1c0 9-7.4 16.3-16.3 16.3zM512.3 880.8c-9 0-16.3-7.3-16.3-16.3v-29.1c0-9 7.3-16.3 16.3-16.3s16.3 7.3 16.3 16.3v29.1c0 9-7.4 16.3-16.3 16.3zM812.4 518.9c0-9 7.3-16.3 16.3-16.3h29.1c9 0 16.3 7.3 16.3 16.3s-7.3 16.3-16.3 16.3h-29.1c-8.9 0-16.3-7.3-16.3-16.3zM150.4 518.9c0-9 7.3-16.3 16.3-16.3h29.1c9 0 16.3 7.3 16.3 16.3s-7.3 16.3-16.3 16.3h-29.1c-8.9 0-16.3-7.3-16.3-16.3z",fill:n.scaleColor},null,8,_hoisted_10$4),vue.createElementVNode("path",{d:"M296.9 733.5c-2.2 0-4.5-0.9-6.2-2.6-3.4-3.4-3.4-9 0-12.4L540 469.2c3.4-3.4 9-3.4 12.4 0 3.4 3.4 3.4 9 0 12.4L303.1 731c-1.7 1.7-4 2.5-6.2 2.5z",fill:n.secondsColor},[vue.createElementVNode("animateTransform",{attributeName:"transform",attributeType:"XML",type:"rotate",from:`${135.5+o*6} 512.3 506.3`,to:`${495.5+o*6} 512.3 506.3`,dur:"60s",repeatCount:"indefinite"},null,8,_hoisted_12$3)],8,_hoisted_11$3),vue.createElementVNode("path",{d:"M512.3 506.3m-22.8 0a22.8 22.8 0 1 0 45.6 0 22.8 22.8 0 1 0-45.6 0Z",fill:n.centerColor},null,8,_hoisted_13$2)],8,_hoisted_2$g),vue.createElementVNode("use",{"xlink:href":`#${n.id}clock-a-n`,width:"100",height:"100"},null,8,_hoisted_14$2)],8,_hoisted_1$j))}}),vueComp={"svg-text":_sfc_main$J,"el-button":elementPlus.ElButton,"progress-a":_sfc_main$L,"el-tag":elementPlus.ElTag,"common-table":_sfc_main$I,"pie-charts":PieCharts,"switch-r":_sfc_main$K,"now-time":NowTime,"light-a":_sfc_main$F,"clock-a":_sfc_main$E},config=[...svg_config,...vue_config],useGlobalStore=pinia$1.defineStore("global-store",{state:()=>({config_center:config,intention:EGlobalStoreIntention.None,create_svg_info:null,done_json:[],mouse_info:{state:EMouseInfoState.Up,position_x:0,position_y:0,now_position_x:0,now_position_y:0,new_position_x:0,new_position_y:0},handle_svg_info:null,scale_info:{type:EScaleInfoType.None,scale_times:{x:1,y:1},scale_item_info:{x:0,y:0},symmetric_point:{x:0,y:0}},rotate_info:{angle:0},connection_line_node_info:{init_pos:{x:0,y:0},point_index:0}}),actions:{setCreateInfo(r){this.intention=EGlobalStoreIntention.Create,this.create_svg_info=r},setDoneJson(r){isOfType(r,"id")?(this.done_json.push(r),vue.nextTick(()=>{setSvgActualInfo(r)})):this.done_json=objectDeepClone(r),vue.nextTick(()=>{useHistoryRecord(objectDeepClone(this.done_json))})},setHandleSvgInfo(r,n){let i=n;r?(!i&&i!=0&&(i=this.done_json.findIndex(o=>o.id===r.id)??-1),this.handle_svg_info={info:r,index:i}):this.handle_svg_info=r},spliceDoneJson(r){const n=useGlobalStore(),o=n.done_json.splice(r,1)[0];unbindAnchors(o.id),useHistoryRecord(n.done_json)}}}),useSvgEditLayoutStore=pinia$1.defineStore("svg-edit-layout-store",{state:()=>({left_nav:!0,right_nav:!0,center_offset:{x:0,y:0},canvasInfo:{with:0,height:0,top:0,left:0}})}),stopEvent=r=>{r.stopPropagation()},preventDefault=r=>{r.preventDefault()};function componentsRegister(){var n,i;const r=vue.getCurrentInstance();for(let o in vueComp)!((n=r==null?void 0:r.appContext)!=null&&n.components.hasOwnProperty(o))&&vueComp.hasOwnProperty(o)&&((i=r==null?void 0:r.appContext)==null||i.app.component(o,vueComp[o]))}function setEditorLoadTime(){window.sessionStorage.setItem("editorLoadTime",new Date().getTime().toString())}const randomString=r=>{r=r||10;const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=n.length;let o="";for(let a=0;a<r;a++){let u=i;a===0&&(u=i-10),o+=n.charAt(Math.floor(Math.random()*u))}return o},isOfType=(r,n)=>r[n]!==void 0,getCoordinateOffset=(r,n)=>r/2*(n-1),angleToRadian=r=>r*Math.PI/180,calculateRotatedPointCoordinate=(r,n,i)=>({x:parseFloat(((r.x-n.x)*Math.cos(angleToRadian(i))-(r.y-n.y)*Math.sin(angleToRadian(i))+n.x).toFixed(1)),y:parseFloat(((r.x-n.x)*Math.sin(angleToRadian(i))+(r.y-n.y)*Math.cos(angleToRadian(i))+n.y).toFixed(1))}),getCenterPoint=(r,n)=>({x:r.x+(n.x-r.x)/2,y:r.y+(n.y-r.y)/2}),positionArrToPath=r=>{let n="";for(let i=0;i<r.length;i++)i===0?n+=`M ${r[i].x} ${r[i].y}`:n+=` L ${r[i].x} ${r[i].y}`;return n},getSvgNowPosition=(r,n,i)=>i+(n-r),objectDeepClone=(r,n={})=>r?JSON.parse(JSON.stringify(r)):n,setSvgActualInfo=(r,n)=>{var a,u;const i=document.querySelector(`#${r.id}`),o=document.querySelector(`#rect${r.id}`);if(i){let c=0,f=0,d=0,p=0;if(r.type===EDoneJsonType.Vue){d=((a=r.props.width)==null?void 0:a.val)||i.offsetWidth||100,p=((u=r.props.height)==null?void 0:u.val)||i.offsetHeight||100,c=50-d/2,f=50-p/2;const h=document.querySelector(`#foreign-object${r.id}`);h&&(h.getAttribute("x")==="0"&&h.getAttribute("y")==="0"&&h.getAttribute("width")==="0"&&h.getAttribute("height")==="0"||n)&&(h.setAttribute("x",c.toString()),h.setAttribute("y",f.toString()),h.setAttribute("width",d.toString()),h.setAttribute("height",p.toString()))}else{const h=i.getBBox();c=parseFloat(h.x.toFixed(0)),f=parseFloat(h.y.toFixed(0)),d=parseFloat(h.width.toFixed(0)),p=parseFloat(h.height.toFixed(0))}o&&(o.getAttribute("x")==="0"&&o.getAttribute("y")==="0"&&o.getAttribute("width")==="0"&&o.getAttribute("height")==="0"||n)&&(o.setAttribute("x",c.toString()),o.setAttribute("y",f.toString()),o.setAttribute("width",d.toString()),o.setAttribute("height",p.toString())),(r.actual_bound.x===0&&r.actual_bound.y===0&&r.actual_bound.width===0&&r.actual_bound.height===0||n)&&(r.actual_bound={x:c,y:f,width:d,height:p}),r.center_position={x:r.x+r.actual_bound.x+d/2,y:r.y+r.actual_bound.y+p/2},r.point_coordinate.tl={x:r.center_position.x-d*r.scale_x/2,y:r.center_position.y-p*r.scale_y/2},r.point_coordinate.tc={x:r.center_position.x,y:r.center_position.y-p*r.scale_y/2},r.point_coordinate.tr={x:r.center_position.x+d*r.scale_x/2,y:r.center_position.y-p*r.scale_y/2},r.point_coordinate.l={x:r.center_position.x-d*r.scale_x/2,y:r.center_position.y},r.point_coordinate.r={x:r.center_position.x+d*r.scale_x/2,y:r.center_position.y},r.point_coordinate.bl={x:r.center_position.x-d*r.scale_x/2,y:r.center_position.y+p*r.scale_y/2},r.point_coordinate.bc={x:r.center_position.x,y:r.center_position.y+p*r.scale_y/2},r.point_coordinate.br={x:r.center_position.x+d*r.scale_x/2,y:r.center_position.y+p*r.scale_y/2},r.rotate!==0&&setAfterRotationPointCoordinate(r),moveAnchors(r)}},resetHandlePointOld=r=>{for(const n of Object.keys(r.point_coordinate))r.point_coordinate_old&&(r.point_coordinate_old[n].x=0,r.point_coordinate_old[n].y=0)},moveHandlePoint=(r,n,i)=>{const o=useGlobalStore(pinia),a=n??o.mouse_info.new_position_x-o.mouse_info.position_x,u=i??o.mouse_info.new_position_y-o.mouse_info.position_y;for(const c of Object.keys(r.point_coordinate))n!==void 0&&i!==void 0?(r.point_coordinate[c].x+=a,r.point_coordinate[c].y+=u):r.point_coordinate_old&&(r.point_coordinate[c].x=r.point_coordinate_old[c].x+a,r.point_coordinate[c].y=r.point_coordinate_old[c].y+u)},moveAnchors=r=>{var i,o,a,u;const n=useGlobalStore(pinia);for(let c of n.done_json)if(c.type===EDoneJsonType.ConnectionLine){if(((o=(i=c.bind_anchors)==null?void 0:i.start)==null?void 0:o.target_id)===r.id){const f=getAnchorPosByAnchorType(c.bind_anchors.start.type,r);c.props.point_position.val[0]={x:f.x-c.x,y:f.y-c.y}}if(((u=(a=c.bind_anchors)==null?void 0:a.end)==null?void 0:u.target_id)===r.id){const f=getAnchorPosByAnchorType(c.bind_anchors.end.type,r);c.props.point_position.val[c.props.point_position.val.length-1]={x:f.x-c.x,y:f.y-c.y}}}},unbindAnchors=r=>{var i,o,a,u;const n=useGlobalStore(pinia);for(let c of n.done_json)c.type===EDoneJsonType.ConnectionLine&&(((o=(i=c.bind_anchors)==null?void 0:i.start)==null?void 0:o.target_id)===r&&(c.bind_anchors.start=null),((u=(a=c.bind_anchors)==null?void 0:a.end)==null?void 0:u.target_id)===r&&(c.bind_anchors.end=null))},getAnchorPosByAnchorType=(r,n)=>r===ELineBindAnchors.BottomCenter?n.point_coordinate.bc:r===ELineBindAnchors.Left?n.point_coordinate.l:r===ELineBindAnchors.Right?n.point_coordinate.r:n.point_coordinate.tc,setAfterRotationPointCoordinate=r=>{r.point_coordinate={tl:calculateRotatedPointCoordinate(r.point_coordinate.tl,r.center_position,r.rotate),tc:calculateRotatedPointCoordinate(r.point_coordinate.tc,r.center_position,r.rotate),tr:calculateRotatedPointCoordinate(r.point_coordinate.tr,r.center_position,r.rotate),l:calculateRotatedPointCoordinate(r.point_coordinate.l,r.center_position,r.rotate),r:calculateRotatedPointCoordinate(r.point_coordinate.r,r.center_position,r.rotate),bl:calculateRotatedPointCoordinate(r.point_coordinate.bl,r.center_position,r.rotate),bc:calculateRotatedPointCoordinate(r.point_coordinate.bc,r.center_position,r.rotate),br:calculateRotatedPointCoordinate(r.point_coordinate.br,r.center_position,r.rotate)}},prosToVBind=(r,n=[])=>{let i={};if(r.state){for(const o in r.state)if(r.state.hasOwnProperty(o)&&o===r.defaultState){for(let a in r.state[o])a!=="label"&&(i[lodashEs.kebabCase(a)]=r.state[o][a]);break}}for(const o in r.props)n.indexOf(o)<0&&(i[lodashEs.kebabCase(o)]=r.props[o].val);return i},setArrItemByID=(id,key,val,json_arr)=>new Promise(res=>{const find_item=json_arr.find(r=>r.id===id);find_item||res({status:!1,msg:"要设置的id不存在"}),eval(`find_item.${key} = val;`),res({status:!0,msg:"操作成功"})}),getCommonClass=r=>!r.common_animations||!r.common_animations.val?"":`common-ani animate__animated animate__${r.common_animations.val} animate__${r.common_animations.speed} animate__${r.common_animations.repeat} animate__${r.common_animations.delay}`,numberArray=r=>{let n=[];for(let i=0;i<r;i++)n.push(i);return n},getStringWidth=(r,n=12)=>{if(r.length>0){let i=document.createElement("span");i.style.fontSize=n+"px",i.style.fontFamily="inherit",i.innerHTML=r,i.style.opacity="0",i.style.position="fixed",i.style.top="3000px",document.body.append(i);const o=i.clientWidth;return document.body.removeChild(i),o}return 0},valFormat=r=>/false|true/.test(r)?r!=="false":/^\d+(\.\d+)?$/.test(r)?Number(r):r,createLine=(r,n,i)=>{r.preventDefault();const o=useGlobalStore(pinia),a=useConfigStore(pinia),u=useSvgEditLayoutStore(pinia),{clientX:c,clientY:f}=r;let d=objectDeepClone(a.connection_line),p=0,h=0;if(n&&i){d.bind_anchors.start={type:n,target_id:i.id};let v=getAnchorPosByAnchorType(n,i);p=v.x,h=v.y}else p=Math.round((c-u.canvasInfo.left)/a.svg.scale-u.center_offset.x),h=Math.round((f-u.canvasInfo.top)/a.svg.scale-u.center_offset.y);const g={id:randomString(),x:p,y:h,client:{x:p,y:h},scale_x:1,scale_y:1,rotate:0,actual_bound:{x:0,y:0,width:0,height:0},center_position:{x:0,y:0},point_coordinate:{tl:{x:0,y:0},tc:{x:0,y:0},tr:{x:0,y:0},l:{x:0,y:0},r:{x:0,y:0},bl:{x:0,y:0},bc:{x:0,y:0},br:{x:0,y:0}},...d};g.props.point_position.val.push({x:0,y:0}),o.setDoneJson(g),o.setHandleSvgInfo(g,o.done_json.length-1),o.intention=EGlobalStoreIntention.Connection,o.mouse_info={state:EMouseInfoState.Down,position_x:p,position_y:h,now_position_x:p,now_position_y:h,new_position_x:0,new_position_y:0}};Object.seal({name:"straight-line",title:"直线",type:EDoneJsonType.StraightLine,config:{can_zoom:!1,have_anchor:!1,actual_rect:!1},display:!0,props:{fill:{title:"填充色",type:EConfigItemPropsType.Color,val:"#ff0000"},start_x:{title:"起点x坐标",type:EConfigItemPropsType.InputNumber,val:0},start_y:{title:"起点y坐标",type:EConfigItemPropsType.InputNumber,val:0},end_x:{title:"终点x坐标",type:EConfigItemPropsType.InputNumber,val:0},end_y:{title:"终点y坐标",type:EConfigItemPropsType.InputNumber,val:0}},bind_anchors:{start:null,end:null},events:[]});const connection_line_system={name:"connection_line",title:"连接线",type:EDoneJsonType.ConnectionLine,config:{can_zoom:!1,have_anchor:!1,actual_rect:!1},display:!0,props:{stroke:{title:"线条颜色",type:EConfigItemPropsType.Color,val:"#ff0000"},"stroke-width":{title:"线条宽度",type:EConfigItemPropsType.InputNumber,val:2},point_r:{title:"节点半径",type:EConfigItemPropsType.InputNumber,val:4},point_position:{title:"点坐标",type:EConfigItemPropsType.JsonEdit,val:[]}},animations:{type:{title:"动画类型",type:EConfigItemPropsType.Select,val:EConfigAnimationsType.None,options:[{label:"无",value:EConfigAnimationsType.None},{label:"电流",value:EConfigAnimationsType.Electricity},{label:"轨迹",value:EConfigAnimationsType.Track},{label:"水珠",value:EConfigAnimationsType.WaterDrop}]},dur:{title:"持续时间",type:EConfigItemPropsType.InputNumber,val:20},repeatCount:{title:"循环次数",type:EConfigItemPropsType.Input,val:"indefinite",disabled:!0},color:{title:"颜色",type:EConfigItemPropsType.Color,val:"#0a7ae2"},reverse:{title:"反转动画",type:EConfigItemPropsType.Switch,val:!1}},bind_anchors:{start:null,end:null},events:[]},common_animate_list=[{label:"进入",children:[{label:"渐显",value:"fadeIn"},{label:"向右进入",value:"fadeInLeft"},{label:"向左进入",value:"fadeInRight"},{label:"向上进入",value:"fadeInUp"},{label:"向下进入",value:"fadeInDown"},{label:"向右长距进入",value:"fadeInLeftBig"},{label:"向左长距进入",value:"fadeInRightBig"},{label:"向上长距进入",value:"fadeInUpBig"},{label:"向下长距进入",value:"fadeInDownBig"},{label:"旋转进入",value:"rotateIn"},{label:"左顺时针旋转",value:"rotateInDownLeft"},{label:"右逆时针旋转",value:"rotateInDownRight"},{label:"左逆时针旋转",value:"rotateInUpLeft"},{label:"右逆时针旋转",value:"rotateInUpRight"},{label:"弹入",value:"bounceIn"},{label:"向右弹入",value:"bounceInLeft"},{label:"向左弹入",value:"bounceInRight"},{label:"向上弹入",value:"bounceInUp"},{label:"向下弹入",value:"bounceInDown"},{label:"光速从右进入",value:"lightSpeedInRight"},{label:"光速从左进入",value:"lightSpeedInLeft"},{label:"光速从右退出",value:"lightSpeedOutRight"},{label:"光速从左退出",value:"lightSpeedOutLeft"},{label:"Y轴旋转",value:"flip"},{label:"中心X轴旋转",value:"flipInX"},{label:"中心Y轴旋转",value:"flipInY"},{label:"左长半径旋转",value:"rollIn"},{label:"由小变大进入",value:"zoomIn"},{label:"左变大进入",value:"zoomInLeft"},{label:"右变大进入",value:"zoomInRight"},{label:"向上变大进入",value:"zoomInUp"},{label:"向下变大进入",value:"zoomInDown"},{label:"向右滑动展开",value:"slideInLeft"},{label:"向左滑动展开",value:"slideInRight"},{label:"向上滑动展开",value:"slideInUp"},{label:"向下滑动展开",value:"slideInDown"}]},{label:"强调",children:[{label:"弹跳",value:"bounce"},{label:"闪烁",value:"flash"},{label:"放大缩小",value:"pulse"},{label:"放大缩小弹簧",value:"rubberBand"},{label:"左右晃动",value:"headShake"},{label:"左右扇形摇摆",value:"swing"},{label:"放大晃动缩小",value:"tada"},{label:"扇形摇摆",value:"wobble"},{label:"左右上下晃动",value:"jello"},{label:"Y轴旋转",value:"flip"}]},{label:"退出",children:[{label:"渐隐",value:"fadeOut"},{label:"向左退出",value:"fadeOutLeft"},{label:"向右退出",value:"fadeOutRight"},{label:"向上退出",value:"fadeOutUp"},{label:"向下退出",value:"fadeOutDown"},{label:"向左长距退出",value:"fadeOutLeftBig"},{label:"向右长距退出",value:"fadeOutRightBig"},{label:"向上长距退出",value:"fadeOutUpBig"},{label:"向下长距退出",value:"fadeOutDownBig"},{label:"旋转退出",value:"rotateOut"},{label:"左顺时针旋转",value:"rotateOutDownLeft"},{label:"右逆时针旋转",value:"rotateOutDownRight"},{label:"左逆时针旋转",value:"rotateOutUpLeft"},{label:"右逆时针旋转",value:"rotateOutUpRight"},{label:"弹出",value:"bounceOut"},{label:"向左弹出",value:"bounceOutLeft"},{label:"向右弹出",value:"bounceOutRight"},{label:"向上弹出",value:"bounceOutUp"},{label:"向下弹出",value:"bounceOutDown"},{label:"中心X轴旋转",value:"flipOutX"},{label:"中心Y轴旋转",value:"flipOutY"},{label:"左长半径旋转",value:"rollOut"},{label:"由小变大退出",value:"zoomOut"},{label:"左变大退出",value:"zoomOutLeft"},{label:"右变大退出",value:"zoomOutRight"},{label:"向上变大退出",value:"zoomOutUp"},{label:"向下变大退出",value:"zoomOutDown"},{label:"向左滑动收起",value:"slideOutLeft"},{label:"向右滑动收起",value:"slideOutRight"},{label:"向上滑动收起",value:"slideOutUp"},{label:"向下滑动收起",value:"slideOutDown"}]}];let l=localStorage.getItem("svg-editor-config"),s,t;if(l){let r=JSON.parse(l);t=r.connection_line,s=r.svg}else t=objectDeepClone(connection_line_system),s={background_color:"#fff",scale:1,grid:!0,grid_color:"#ebebeb",ruler:!0};const useConfigStore=pinia$1.defineStore("config-store",{state:()=>({svg:s,connection_line:t,net:{mqtt:{url:"",user:"",pwd:"",topics:""}}}),getters:{},actions:{}});var EContextMenuInfoType=(r=>(r.Copy="Copy",r.Delete="Delete",r.MoveUpOneLevel="MoveUpOneLevel",r.MoveDownOneLevel="MoveDownOneLevel",r.MoveUpTopLevel="MoveUpTopLevel",r.MoveDownTopLevel="MoveDownTopLevel",r))(EContextMenuInfoType||{});const useEditPrivateStore=pinia$1.defineStore("edit-private-store",{state:()=>({old_done_components:[],history_doneComponent:[],history_now_index:0,is_record_history:!0,max_record_times:10}),getters:{getTopBtnUndoStatus(r){return r.history_now_index>=1},getTopBtnRedoStatus(r){return r.history_now_index+1!=r.history_doneComponent.length}},actions:{topUndoBtnClick(){if(console.log("撤销"),this.history_now_index<1)return;const r=useGlobalStore();this.is_record_history=!1,this.history_now_index-=1,r.setDoneJson(this.history_doneComponent[this.history_now_index])},topRedoBtnClick(){if(console.log("重做"),this.history_now_index+1==this.history_doneComponent.length)return;const r=useGlobalStore();this.is_record_history=!1,this.history_now_index+=1,r.setDoneJson(this.history_doneComponent[this.history_now_index])}}}),useContextMenuStore=pinia$1.defineStore("context-menu-store",{state:()=>({display:!1,info:{[EContextMenuInfoType.Copy]:{title:"复制",hot_key:"Ctrl+C",enable:!0},[EContextMenuInfoType.Delete]:{title:"删除",hot_key:"Delete",enable:!0},[EContextMenuInfoType.MoveUpTopLevel]:{title:"置于顶层",hot_key:"Ctrl+→",enable:!0},[EContextMenuInfoType.MoveDownTopLevel]:{title:"置于底层",hot_key:"Ctrl+←",enable:!0},[EContextMenuInfoType.MoveUpOneLevel]:{title:"置于上一层",hot_key:"Ctrl+↑",enable:!0},[EContextMenuInfoType.MoveDownOneLevel]:{title:"置于下一层",hot_key:"Ctrl+↓",enable:!0}}}),actions:{onContextMenuClick(r){const n=useGlobalStore();if(n.handle_svg_info)switch(n.intention=EGlobalStoreIntention.Select,r){case EContextMenuInfoType.Copy:const i=objectDeepClone(n.handle_svg_info.info);i.id=randomString(),i.title+="-copy",i.x+=10,i.y+=10,n.setDoneJson(i),this.display=!1,n.setHandleSvgInfo(i,n.done_json.length);break;case EContextMenuInfoType.Delete:n.spliceDoneJson(n.handle_svg_info.index),this.display=!1,n.setHandleSvgInfo(null),n.intention=EGlobalStoreIntention.None;break;case EContextMenuInfoType.MoveUpOneLevel:if(n.done_json.length===1||n.handle_svg_info.index===n.done_json.length-1)return;const o=n.handle_svg_info.info;n.done_json[n.handle_svg_info.index]=n.done_json[n.handle_svg_info.index+1],n.done_json[n.handle_svg_info.index+1]=o,useHistoryRecord(n.done_json),this.display=!1,n.setHandleSvgInfo(o,n.handle_svg_info.index+1);break;case EContextMenuInfoType.MoveDownOneLevel:if(n.done_json.length===1||n.handle_svg_info.index===0)return;const a=n.handle_svg_info.info;n.done_json[n.handle_svg_info.index]=n.done_json[n.handle_svg_info.index-1],n.done_json[n.handle_svg_info.index-1]=a,useHistoryRecord(n.done_json),this.display=!1,n.setHandleSvgInfo(a,n.handle_svg_info.index-1);break;case EContextMenuInfoType.MoveDownTopLevel:if(n.done_json.length===1||n.handle_svg_info.index===0)return;const u=n.handle_svg_info.info;n.done_json.splice(n.handle_svg_info.index,1),n.done_json.unshift(u),useHistoryRecord(n.done_json),this.display=!1,n.setHandleSvgInfo(u,0);break;case EContextMenuInfoType.MoveUpTopLevel:if(n.done_json.length===1||n.handle_svg_info.index===n.done_json.length)return;const c=n.handle_svg_info.info;n.done_json.splice(n.handle_svg_info.index,1),n.done_json.push(c),useHistoryRecord(n.done_json),this.display=!1,n.setHandleSvgInfo(c,n.done_json.length-1);break}}}}),pinia=pinia$1.createPinia(),useHistoryRecord=r=>{const n=useEditPrivateStore();n.is_record_history&&(n.history_now_index+1<n.history_doneComponent.length&&n.history_doneComponent.splice(n.history_now_index+1),n.history_doneComponent.push(r),n.history_now_index=n.history_doneComponent.length-1,n.history_doneComponent.length>n.max_record_times&&(n.history_doneComponent.shift(),n.history_now_index=n.history_doneComponent.length-1)),n.is_record_history=!0},useImportDataModel=r=>{try{const n=JSON.parse(r);if(!n.config||!n.layout_center||!n.done_json)return elementPlus.ElMessage.error("请导入正确的数据模型！"),!1;const i=useGlobalStore(pinia),o=useSvgEditLayoutStore(pinia),a=useConfigStore(pinia);return a.$state=n.config,o.center_offset=n.layout_center,i.setDoneJson(n.done_json),!0}catch(n){return elementPlus.ElMessage.error("请导入正确的数据模型！"),console.error(n),!1}},_hoisted_1$i={"aria-hidden":"true"},_hoisted_2$f=["xlink:href"],_sfc_main$D=vue.defineComponent({__name:"svg-analysis",props:{name:{},props:{default:()=>({})}},setup(r){const n=r,i=vue.computed(()=>`#svg-${n.name}`);return(o,a)=>(vue.openBlock(),vue.createElementBlock("svg",_hoisted_1$i,[vue.createElementVNode("use",vue.mergeProps({"xlink:href":vue.unref(i)},n.props),null,16,_hoisted_2$f)]))}});var EVisibleConfKey=(r=>(r.ImportJson="ImportJson",r.ExportJson="ExportJson",r.ImportFile="ImportFile",r))(EVisibleConfKey||{});const _withScopeId$2=r=>(vue.pushScopeId("data-v-62907637"),r=r(),vue.popScopeId(),r),_hoisted_1$h={class:"flex justify-between",style:{width:"100%"}},_hoisted_2$e={class:"flex items-center justify-between",style:{width:"250px"}},_hoisted_3$c=_withScopeId$2(()=>vue.createElementVNode("div",{class:"flex items-center"},[vue.createElementVNode("span",{class:"logo-title"},"Svg Editor")],-1)),_hoisted_4$8={class:"flex justify-between",style:{width:"calc(100% - 440px)"}},_hoisted_5$6={class:"flex items-center"},_hoisted_6$4={class:"flex items-center mr-20px"},_hoisted_7$4={class:"flex items-center",style:{width:"250px"}},_hoisted_8$4=_withScopeId$2(()=>vue.createElementVNode("div",{class:"font-bold mb-10px text-15px guide-title",style:{"padding-top":"16px"}},"多选",-1)),_hoisted_9$4=_withScopeId$2(()=>vue.createElementVNode("div",null,"在画布空白区域按住鼠标左键可以框选（图形坐标在框选区域即判定被选中），也可以按住ctrl+鼠标左键点图形进行多选",-1)),_hoisted_10$3=_withScopeId$2(()=>vue.createElementVNode("div",{class:"el-divider el-divider--horizontal",role:"separator",style:{"--el-border-style":"solid"}},null,-1)),_hoisted_11$2=_withScopeId$2(()=>vue.createElementVNode("div",{class:"font-bold mb-10px text-15px guide-title"},"拖动画布",-1)),_hoisted_12$2=_withScopeId$2(()=>vue.createElementVNode("div",null,"在画布空白区域按住右键可拖动画布，右侧面板‘图纸’栏可微调或重置位置",-1)),_hoisted_13$1=_withScopeId$2(()=>vue.createElementVNode("div",{class:"el-divider el-divider--horizontal",role:"separator",style:{"--el-border-style":"solid"}},null,-1)),_hoisted_14$1=_withScopeId$2(()=>vue.createElementVNode("div",{class:"font-bold mb-10px text-15px guide-title"},"画布缩放",-1)),_hoisted_15$1=_withScopeId$2(()=>vue.createElementVNode("div",null,"在画布空白区使用鼠标滚轮或者右侧面板‘图纸’栏可控制画布缩放",-1)),_hoisted_16$2=_withScopeId$2(()=>vue.createElementVNode("div",{class:"el-divider el-divider--horizontal",role:"separator",style:{"--el-border-style":"solid"}},null,-1)),_hoisted_17=_withScopeId$2(()=>vue.createElementVNode("div",{class:"font-bold mb-10px text-15px guide-title"},"标尺辅助线",-1)),_hoisted_18=_withScopeId$2(()=>vue.createElementVNode("div",null,"在标尺区域按住鼠标左键并拖动即可创建标尺辅助线，将标尺辅助线拖动到标尺区域即可删除标尺辅助线",-1)),_hoisted_19=_withScopeId$2(()=>vue.createElementVNode("div",{class:"el-divider el-divider--horizontal",role:"separator",style:{"--el-border-style":"solid"}},null,-1)),_hoisted_20=_withScopeId$2(()=>vue.createElementVNode("div",{class:"font-bold mb-10px text-15px guide-title"},"组件尺寸",-1)),_hoisted_21=_withScopeId$2(()=>vue.createElementVNode("div",null,[vue.createElementVNode("p",null," 大多数组件可以通过选中组件然后拖动交互点或在右侧‘外观’栏改变外形尺寸，或通过右侧‘数据’栏直接或间接改变外形尺寸；"),vue.createElementVNode("p",null,"少数特殊组件仅可通过右侧'数据'栏直接或间接改变外形尺寸")],-1)),_hoisted_22$1=_withScopeId$2(()=>vue.createElementVNode("div",{class:"el-divider el-divider--horizontal",role:"separator",style:{"--el-border-style":"solid"}},null,-1)),_hoisted_23=_withScopeId$2(()=>vue.createElementVNode("div",{class:"font-bold mb-10px text-15px guide-title"},"连线样式",-1)),_hoisted_24=_withScopeId$2(()=>vue.createElementVNode("div",null,"在右侧‘连线’栏可以统一配置连线样式，配置后先增加的线会应用新样式，之前的线样式不变，如需改变，可选中线手动更改或删除重画 ",-1)),_hoisted_25=_withScopeId$2(()=>vue.createElementVNode("div",{class:"el-divider el-divider--horizontal",role:"separator",style:{"--el-border-style":"solid"}},null,-1)),_hoisted_26$1=_withScopeId$2(()=>vue.createElementVNode("div",{class:"font-bold mb-10px text-15px guide-title"},"横线和竖线",-1)),_hoisted_27=_withScopeId$2(()=>vue.createElementVNode("div",{class:"guide-text"},[vue.createElementVNode("p",null," 点击编辑器顶部连线按钮会进入连线状态，该状态下在画板点击鼠标左键即可开始画线，移动并再次点击左键创建新的节点，右键结束画线并退出连线状态；"),vue.createElementVNode("p",null,"画线的时候按住ctrl即可画竖线，按住shift即可画横线")],-1)),_hoisted_28=_withScopeId$2(()=>vue.createElementVNode("div",{class:"el-divider el-divider--horizontal",role:"separator",style:{"--el-border-style":"solid"}},null,-1)),_hoisted_29=_withScopeId$2(()=>vue.createElementVNode("div",{class:"font-bold mb-10px text-15px guide-title"},"绑定锚点",-1)),_hoisted_30=_withScopeId$2(()=>vue.createElementVNode("div",{class:"guide-text"},[vue.createElementVNode("p",null,"组件在未选中时，鼠标经过组件时会出现锚点，鼠标悬浮在锚点上时，会有交互样式，点击左键即可以锚点为起点创建连线；"),vue.createElementVNode("p",null,"同样，在连线时鼠标经过锚点时，会出现锚点交互样式，点击左键即可以锚点为连线终点结束连线；"),vue.createElementVNode("p",null,"这两种情况下的连线会绑定组件上的锚点，如需解绑，参考下面的‘锚点解绑’；"),vue.createElementVNode("p",null,"同样，也可先画线，再选中连线绑定想要绑定的组件锚点（连线只有首尾节点可以绑定锚点）")],-1)),_hoisted_31=_withScopeId$2(()=>vue.createElementVNode("div",{class:"el-divider el-divider--horizontal",role:"separator",style:{"--el-border-style":"solid"}},null,-1)),_hoisted_32$1=_withScopeId$2(()=>vue.createElementVNode("div",{class:"font-bold mb-10px text-15px guide-title"},"线段选中",-1)),_hoisted_33=_withScopeId$2(()=>vue.createElementVNode("div",null," 若线段绑定了锚点，移动线段，绑定的锚点不会移动。若是想将线段整体移动，需要先解绑，参考下面的‘锚点解绑’ ",-1)),_hoisted_34=_withScopeId$2(()=>vue.createElementVNode("div",{class:"el-divider el-divider--horizontal",role:"separator",style:{"--el-border-style":"solid"}},null,-1)),_hoisted_35=_withScopeId$2(()=>vue.createElementVNode("div",{class:"font-bold mb-10px text-15px guide-title"},"锚点解绑",-1)),_hoisted_36$1=_withScopeId$2(()=>vue.createElementVNode("div",{style:{"padding-bottom":"14px"}}," 选中线段，在右侧‘数据’栏里解除绑定；或者鼠标左键拖拽连线上需要解绑的节点",-1)),_sfc_main$C=vue.defineComponent({__name:"top-panel",emits:["changeVisible","onReturn","onPreview","onSave"],setup(r,{emit:n}){const i=useSvgEditLayoutStore(pinia),o=useGlobalStore(pinia),a=useEditPrivateStore(pinia),u=useConfigStore(pinia),c=()=>{o.done_json.length<=0||o.setDoneJson([]),o.intention=EGlobalStoreIntention.None},f=h=>{const g={layout_center:i.center_offset,config:u.$state,done_json:o.done_json};n(h,g)},d=vue.ref(!1),p=vue.computed({get:()=>o.intention===EGlobalStoreIntention.Connection,set(h){o.intention=h?EGlobalStoreIntention.Connection:EGlobalStoreIntention.None,h&&o.setHandleSvgInfo(null)}});return(h,g)=>(vue.openBlock(),vue.createElementBlock(vue.Fragment,null,[vue.createElementVNode("div",_hoisted_1$h,[vue.createElementVNode("div",_hoisted_2$e,[_hoisted_3$c,vue.createVNode(vue.unref(elementPlus.ElIcon),{size:24,class:"bt-Icon",onClick:g[0]||(g[0]=v=>vue.unref(i).left_nav=!vue.unref(i).left_nav),title:vue.unref(i).left_nav?"隐藏左侧菜单":"显示左侧菜单"},{default:vue.withCtx(()=>[vue.unref(i).left_nav?(vue.openBlock(),vue.createBlock(_sfc_main$D,{key:0,name:"menu-unfold"})):(vue.openBlock(),vue.createBlock(_sfc_main$D,{key:1,name:"menu-fold"}))]),_:1},8,["title"])]),vue.createElementVNode("div",_hoisted_4$8,[vue.createElementVNode("div",_hoisted_5$6,[vue.createVNode(vue.unref(elementPlus.ElIcon),{title:"撤销 ctrl+z",size:24,class:vue.normalizeClass(`${vue.unref(a).getTopBtnUndoStatus?"bt-Icon":"icon-disable"} ml-20px`),onClick:g[1]||(g[1]=()=>vue.unref(a).topUndoBtnClick())},{default:vue.withCtx(()=>[vue.createVNode(_sfc_main$D,{name:vue.unref(a).getTopBtnUndoStatus?"undo":"undo-gray"},null,8,["name"])]),_:1},8,["class"]),vue.createVNode(vue.unref(elementPlus.ElIcon),{title:"重做 ctrl+shift+z",class:vue.normalizeClass(`${vue.unref(a).getTopBtnRedoStatus?"bt-Icon":"icon-disable"} ml-5px`),size:24,onClick:g[2]||(g[2]=()=>vue.unref(a).topRedoBtnClick())},{default:vue.withCtx(()=>[vue.createVNode(_sfc_main$D,{name:vue.unref(a).getTopBtnRedoStatus?"redo":"redo-gray"},null,8,["name"])]),_:1},8,["class"]),vue.createVNode(vue.unref(elementPlus.ElDivider),{direction:"vertical"}),vue.createVNode(vue.unref(elementPlus.ElIcon),{title:"清空 ctrl+delete",class:vue.normalizeClass(vue.unref(o).done_json.length>0?"bt-Icon":"icon-disable"),size:24,onClick:c},{default:vue.withCtx(()=>[vue.createVNode(_sfc_main$D,{name:vue.unref(o).done_json.length>0?"delete":"delete-gray"},null,8,["name"])]),_:1},8,["class"]),vue.createVNode(vue.unref(elementPlus.ElDivider),{direction:"vertical"}),vue.createVNode(vue.unref(elementPlus.ElIcon),{title:"导入数据模型",class:"bt-Icon",size:24,onClick:g[3]||(g[3]=v=>n("changeVisible",vue.unref(EVisibleConfKey).ImportJson,!0))},{default:vue.withCtx(()=>[vue.createVNode(_sfc_main$D,{name:"import"})]),_:1}),vue.createVNode(vue.unref(elementPlus.ElIcon),{title:"导出数据模型",size:24,class:"bt-Icon ml-5px",onClick:g[4]||(g[4]=v=>n("changeVisible",vue.unref(EVisibleConfKey).ExportJson,!0))},{default:vue.withCtx(()=>[vue.createVNode(_sfc_main$D,{name:"export"})]),_:1}),vue.createVNode(vue.unref(elementPlus.ElDivider),{direction:"vertical"}),vue.createVNode(vue.unref(elementPlus.ElIcon),{title:"创建连线",class:vue.normalizeClass(["bt-Icon",{active:vue.unref(p)}]),size:24,onClick:g[5]||(g[5]=v=>p.value=!vue.unref(p))},{default:vue.withCtx(()=>[vue.createVNode(_sfc_main$D,{name:vue.unref(p)?"line-active":"line"},null,8,["name"])]),_:1},8,["class"]),vue.createVNode(vue.unref(elementPlus.ElDivider),{direction:"vertical"}),vue.createVNode(vue.unref(elementPlus.ElIcon),{title:"说明",class:"bt-Icon",size:24,onClick:g[6]||(g[6]=v=>d.value=!vue.unref(d))},{default:vue.withCtx(()=>[vue.createVNode(_sfc_main$D,{name:"question"})]),_:1})]),vue.createElementVNode("div",_hoisted_6$4,[vue.createVNode(vue.unref(elementPlus.ElIcon),{title:"返回",class:"bt-Icon",size:24,onClick:g[7]||(g[7]=v=>f("onReturn"))},{default:vue.withCtx(()=>[vue.createVNode(_sfc_main$D,{name:"return"})]),_:1}),vue.createVNode(vue.unref(elementPlus.ElDivider),{direction:"vertical"}),vue.createVNode(vue.unref(elementPlus.ElIcon),{title:"保存",class:"bt-Icon",size:24,onClick:g[8]||(g[8]=v=>f("onSave"))},{default:vue.withCtx(()=>[vue.createVNode(_sfc_main$D,{name:"save"})]),_:1}),vue.createVNode(vue.unref(elementPlus.ElDivider),{direction:"vertical"}),vue.createVNode(vue.unref(elementPlus.ElIcon),{title:"预览",class:"bt-Icon",size:22,onClick:g[9]||(g[9]=v=>f("onPreview"))},{default:vue.withCtx(()=>[vue.createVNode(_sfc_main$D,{name:"preview"})]),_:1})])]),vue.createElementVNode("div",_hoisted_7$4,[vue.createVNode(vue.unref(elementPlus.ElIcon),{size:24,class:"bt-Icon",onClick:g[10]||(g[10]=v=>vue.unref(i).right_nav=!vue.unref(i).right_nav),title:vue.unref(i).right_nav?"隐藏右侧菜单":"显示右侧菜单"},{default:vue.withCtx(()=>[vue.unref(i).right_nav?(vue.openBlock(),vue.createBlock(_sfc_main$D,{key:0,name:"menu-fold"})):(vue.openBlock(),vue.createBlock(_sfc_main$D,{key:1,name:"menu-unfold"}))]),_:1},8,["title"])])]),vue.createVNode(vue.unref(elementPlus.ElDialog),{modelValue:vue.unref(d),"onUpdate:modelValue":g[11]||(g[11]=v=>vue.isRef(d)?d.value=v:null),title:"使用说明",width:"60%",class:"guide-dialog"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElScrollbar),{"max-height":"60vh"},{default:vue.withCtx(()=>[_hoisted_8$4,_hoisted_9$4,_hoisted_10$3,_hoisted_11$2,_hoisted_12$2,_hoisted_13$1,_hoisted_14$1,_hoisted_15$1,_hoisted_16$2,_hoisted_17,_hoisted_18,_hoisted_19,_hoisted_20,_hoisted_21,_hoisted_22$1,_hoisted_23,_hoisted_24,_hoisted_25,_hoisted_26$1,_hoisted_27,_hoisted_28,_hoisted_29,_hoisted_30,_hoisted_31,_hoisted_32$1,_hoisted_33,_hoisted_34,_hoisted_35,_hoisted_36$1]),_:1})]),_:1},8,["modelValue"])],64))}}),topPanel_vue_vue_type_style_index_0_scoped_62907637_lang="",topPanel_vue_vue_type_style_index_1_lang="",TopPanel=_export_sfc$1(_sfc_main$C,[["__scopeId","data-v-62907637"]]),_hoisted_1$g={class:"component-group flex flex-wrap"},_hoisted_2$d=["onDragstart","title"],_sfc_main$B=vue.defineComponent({__name:"left-panel",props:{customToolbar:{}},setup(r){const n=r,i=useGlobalStore(pinia),o=vue.ref(n.customToolbar&&Object.keys(n.customToolbar).length>0?n.customToolbar:i.config_center),a=vue.ref(["stateful","stateless","have_animation","custom_svg_group","element-ui","custom-vue","echarts"]),u=f=>{i.setCreateInfo(f)},c=f=>{var d;if(((d=f.dataTransfer)==null?void 0:d.dropEffect)!=="copy"){elementPlus.ElMessage.warning("请将组件拖到画布中!"),i.intention=EGlobalStoreIntention.None;return}};return(f,d)=>(vue.openBlock(),vue.createElementBlock("div",null,[vue.createVNode(vue.unref(elementPlus.ElCollapse),{modelValue:vue.unref(a),"onUpdate:modelValue":d[0]||(d[0]=p=>vue.isRef(a)?a.value=p:null),style:{"border-top":"none"}},{default:vue.withCtx(()=>[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(vue.unref(o),p=>(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElCollapseItem),{name:p.groupType,key:p.title},{title:vue.withCtx(()=>[vue.createElementVNode("div",null,vue.toDisplayString(p.title),1)]),default:vue.withCtx(()=>[vue.createElementVNode("div",_hoisted_1$g,[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(p.list,h=>(vue.openBlock(),vue.createElementBlock("div",{class:"ideal",key:h.name,draggable:"true",onDragstart:g=>u(h),onDragend:c,title:h.title},[vue.createVNode(vue.unref(elementPlus.ElIcon),{size:35,class:"flex items-center"},{default:vue.withCtx(()=>[vue.createVNode(_sfc_main$D,{name:h.name,props:vue.unref(prosToVBind)(h,["width","height","maxHeight"])},null,8,["name","props"])]),_:2},1024)],40,_hoisted_2$d))),128))])]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"])]))}}),leftPanel_vue_vue_type_style_index_0_scoped_d7403cfd_lang="",LeftPanel=_export_sfc$1(_sfc_main$B,[["__scopeId","data-v-d7403cfd"]]),calculateLeftTop=(r,n,i)=>{const o=getCenterPoint(r,n),a=calculateRotatedPointCoordinate(r,o,-i),u=calculateRotatedPointCoordinate(n,o,-i);return{width:u.x-a.x,height:u.y-a.y,is_old_width:!1,is_old_height:!1}},calculateRightTop=(r,n,i)=>{const o=getCenterPoint(r,n),a=calculateRotatedPointCoordinate(r,o,-i),u=calculateRotatedPointCoordinate(n,o,-i);return{width:a.x-u.x,height:u.y-a.y,is_old_width:!1,is_old_height:!1}},calculateRightBottom=(r,n,i)=>{const o=getCenterPoint(r,n),a=calculateRotatedPointCoordinate(n,o,-i),u=calculateRotatedPointCoordinate(r,o,-i);return{width:u.x-a.x,height:u.y-a.y,is_old_width:!1,is_old_height:!1}},calculateLeftBottom=(r,n,i)=>{const o=getCenterPoint(r,n),a=calculateRotatedPointCoordinate(n,o,-i),u=calculateRotatedPointCoordinate(r,o,-i);return{width:a.x-u.x,height:u.y-a.y,is_old_width:!1,is_old_height:!1}},calculateTop=(r,n,i,o)=>{const a=calculateRotatedPointCoordinate(r,o,-i),u=calculateRotatedPointCoordinate({x:o.x,y:a.y},o,i),c=Math.sqrt((u.x-n.x)**2+(u.y-n.y)**2);return{width:1,height:Math.round(c),is_old_width:!0,is_old_height:!1}},calculateRight=(r,n,i,o)=>{const a=calculateRotatedPointCoordinate(r,o,-i),u=calculateRotatedPointCoordinate({x:a.x,y:o.y},o,i),c=Math.sqrt((u.x-n.x)**2+(u.y-n.y)**2);return{width:Math.round(c),height:1,is_old_width:!1,is_old_height:!0}},calculateBottom=(r,n,i,o)=>{const a=calculateRotatedPointCoordinate(r,o,-i),u=calculateRotatedPointCoordinate({x:o.x,y:a.y},o,i),c=Math.sqrt((u.x-n.x)**2+(u.y-n.y)**2);return{width:1,height:Math.round(c),is_old_width:!0,is_old_height:!1}},calculateLeft=(r,n,i,o)=>{const a=calculateRotatedPointCoordinate(r,o,-i),u=calculateRotatedPointCoordinate({x:a.x,y:o.y},o,i),c=Math.sqrt((u.x-n.x)**2+(u.y-n.y)**2);return{width:Math.round(c),height:1,is_old_width:!1,is_old_height:!0}},_hoisted_1$f={style:{"vector-effect":"non-scaling-stroke"}},_hoisted_2$c=["fill","x","y"],_hoisted_3$b=["cx","cy"],_hoisted_4$7=["x1","y1","x2","y2"],_hoisted_5$5=["fill","x","y"],_hoisted_6$3=["fill","x","y"],_hoisted_7$3=["fill","x","y"],_hoisted_8$3=["fill","x","y"],_hoisted_9$3=["fill","x","y"],_hoisted_10$2=["fill","x","y"],_hoisted_11$1=["fill","x","y"],_sfc_main$A=vue.defineComponent({__name:"handle-panel",props:{itemInfo:{}},setup(r){const n=r;vue.useCssVars(v=>({"5c831aea":vue.unref(c)}));const i=useGlobalStore(pinia),o=useConfigStore(pinia),a=useSvgEditLayoutStore(pinia),u=vue.ref(4),c=vue.ref("#ab712e"),f=[{start:338,end:23,cursor:"nw",type:EScaleInfoType.TopLeft},{start:23,end:68,cursor:"n",type:EScaleInfoType.TopCenter},{start:68,end:113,cursor:"ne",type:EScaleInfoType.TopRight},{start:293,end:338,cursor:"w",type:EScaleInfoType.Left},{start:113,end:158,cursor:"e",type:EScaleInfoType.Right},{start:248,end:293,cursor:"sw",type:EScaleInfoType.BottomLeft},{start:203,end:248,cursor:"s",type:EScaleInfoType.BottomCenter},{start:158,end:203,cursor:"se",type:EScaleInfoType.BottomRight}],d=vue.computed(()=>n.itemInfo.config.can_zoom),p=(v,y)=>{console.log("handMousedown",y);const{clientX:A,clientY:_}=y;y.stopPropagation(),i.intention=EGlobalStoreIntention.Zoom;const S=Math.round((A-a.canvasInfo.left)/o.svg.scale-a.center_offset.x),b=Math.round((_-a.canvasInfo.top)/o.svg.scale-a.center_offset.y);i.mouse_info={state:EMouseInfoState.Down,position_x:S,position_y:b,now_position_x:S,now_position_y:b,new_position_x:0,new_position_y:0},i.scale_info={type:v,scale_times:{x:n.itemInfo.scale_x,y:n.itemInfo.scale_y},scale_item_info:{x:n.itemInfo.x,y:n.itemInfo.y},symmetric_point:{x:S+Math.abs(S-n.itemInfo.center_position.x)*2*(S>n.itemInfo.center_position.x?-1:1),y:b+Math.abs(b-n.itemInfo.center_position.y)*2*(b>n.itemInfo.center_position.y?-1:1)}}},h=v=>{const{clientX:y,clientY:A}=v,_=Math.round((y-a.canvasInfo.left)/o.svg.scale-a.center_offset.x),S=Math.round((A-a.canvasInfo.top)/o.svg.scale-a.center_offset.y);v.stopPropagation(),i.intention=EGlobalStoreIntention.Rotate,i.rotate_info={angle:n.itemInfo.rotate},i.mouse_info={state:EMouseInfoState.Down,position_x:_,position_y:S,now_position_x:_,now_position_y:S,new_position_x:0,new_position_y:0}},g=v=>{const y=(v+n.itemInfo.rotate)%360,A=f.find(_=>_.start<=y&&_.end>y);return A?{cursor:A.cursor+"-resize",type:A.type}:{cursor:"nw-resize",type:EScaleInfoType.TopLeft}};return(v,y)=>(vue.openBlock(),vue.createElementBlock("g",_hoisted_1$f,[vue.withDirectives(vue.createElementVNode("rect",{id:"resize_tl",width:"8",height:"8",fill:vue.unref(c),style:vue.normalizeStyle({cursor:g(0).cursor,"vector-effect":"non-scaling-stroke"}),"pointer-events":"all",x:n.itemInfo.actual_bound.x-vue.unref(u)-vue.unref(getCoordinateOffset)(n.itemInfo.actual_bound.width,n.itemInfo.scale_x),y:n.itemInfo.actual_bound.y-vue.unref(u)-vue.unref(getCoordinateOffset)(n.itemInfo.actual_bound.height,n.itemInfo.scale_y),stroke:"rgba(0,0,0,0)",onMousedown:y[0]||(y[0]=A=>p(vue.unref(EScaleInfoType).TopLeft,A))},null,44,_hoisted_2$c),[[vue.vShow,vue.unref(d)]]),vue.createElementVNode("circle",{cx:n.itemInfo.actual_bound.x+n.itemInfo.actual_bound.width/2,cy:n.itemInfo.actual_bound.y-vue.unref(u)-vue.unref(getCoordinateOffset)(n.itemInfo.actual_bound.height,n.itemInfo.scale_y)-24,r:4,class:"rotate-circle",onMousedown:h},null,40,_hoisted_3$b),vue.createElementVNode("line",{x1:n.itemInfo.actual_bound.x+n.itemInfo.actual_bound.width/2,y1:n.itemInfo.actual_bound.y-vue.unref(u)-vue.unref(getCoordinateOffset)(n.itemInfo.actual_bound.height,n.itemInfo.scale_y),x2:n.itemInfo.actual_bound.x+n.itemInfo.actual_bound.width/2,y2:n.itemInfo.actual_bound.y-vue.unref(u)-vue.unref(getCoordinateOffset)(n.itemInfo.actual_bound.height,n.itemInfo.scale_y)-20,style:vue.normalizeStyle({stroke:vue.unref(c),"stroke-width":2})},null,12,_hoisted_4$7),vue.withDirectives(vue.createElementVNode("rect",{id:"resize_tc",width:"8",height:"8",fill:vue.unref(c),style:vue.normalizeStyle({cursor:g(45).cursor,"vector-effect":"non-scaling-stroke"}),"pointer-events":"all",x:n.itemInfo.actual_bound.x+n.itemInfo.actual_bound.width/2-vue.unref(u),y:n.itemInfo.actual_bound.y-vue.unref(u)-vue.unref(getCoordinateOffset)(n.itemInfo.actual_bound.height,n.itemInfo.scale_y),stroke:"rgba(0,0,0,0)",onMousedown:y[1]||(y[1]=A=>p(vue.unref(EScaleInfoType).TopCenter,A))},null,44,_hoisted_5$5),[[vue.vShow,vue.unref(d)]]),vue.withDirectives(vue.createElementVNode("rect",{id:"resize_tr",width:"8",height:"8",fill:vue.unref(c),style:vue.normalizeStyle({cursor:g(90).cursor,"vector-effect":"non-scaling-stroke"}),"pointer-events":"all",x:n.itemInfo.actual_bound.x+n.itemInfo.actual_bound.width-vue.unref(u)+vue.unref(getCoordinateOffset)(n.itemInfo.actual_bound.width,n.itemInfo.scale_x),y:n.itemInfo.actual_bound.y-vue.unref(u)-vue.unref(getCoordinateOffset)(n.itemInfo.actual_bound.height,n.itemInfo.scale_y),stroke:"rgba(0,0,0,0)",onMousedown:y[2]||(y[2]=A=>p(vue.unref(EScaleInfoType).TopRight,A))},null,44,_hoisted_6$3),[[vue.vShow,vue.unref(d)]]),vue.withDirectives(vue.createElementVNode("rect",{id:"resize_l",width:"8",height:"8",fill:vue.unref(c),style:vue.normalizeStyle({cursor:g(315).cursor,"vector-effect":"non-scaling-stroke"}),"pointer-events":"all",x:n.itemInfo.actual_bound.x-vue.unref(u)-vue.unref(getCoordinateOffset)(n.itemInfo.actual_bound.width,n.itemInfo.scale_x),y:n.itemInfo.actual_bound.y-vue.unref(u)+n.itemInfo.actual_bound.height*n.itemInfo.scale_y/2-vue.unref(getCoordinateOffset)(n.itemInfo.actual_bound.height,n.itemInfo.scale_y),stroke:"rgba(0,0,0,0)",onMousedown:y[3]||(y[3]=A=>p(vue.unref(EScaleInfoType).Left,A))},null,44,_hoisted_7$3),[[vue.vShow,vue.unref(d)]]),vue.withDirectives(vue.createElementVNode("rect",{id:"resize_r",width:"8",height:"8",fill:vue.unref(c),style:vue.normalizeStyle({cursor:g(135).cursor,"vector-effect":"non-scaling-stroke"}),"pointer-events":"all",x:n.itemInfo.actual_bound.x-vue.unref(u)+n.itemInfo.actual_bound.width+vue.unref(getCoordinateOffset)(n.itemInfo.actual_bound.width,n.itemInfo.scale_x),y:n.itemInfo.actual_bound.y-vue.unref(u)+n.itemInfo.actual_bound.height*n.itemInfo.scale_y/2-vue.unref(getCoordinateOffset)(n.itemInfo.actual_bound.height,n.itemInfo.scale_y),stroke:"rgba(0,0,0,0)",onMousedown:y[4]||(y[4]=A=>p(vue.unref(EScaleInfoType).Right,A))},null,44,_hoisted_8$3),[[vue.vShow,vue.unref(d)]]),vue.withDirectives(vue.createElementVNode("rect",{id:"resize_bl",width:"8",height:"8",fill:vue.unref(c),style:vue.normalizeStyle({cursor:g(270).cursor,"vector-effect":"non-scaling-stroke"}),"pointer-events":"all",x:n.itemInfo.actual_bound.x-vue.unref(u)-vue.unref(getCoordinateOffset)(n.itemInfo.actual_bound.width,n.itemInfo.scale_x),y:n.itemInfo.actual_bound.y-vue.unref(u)+n.itemInfo.actual_bound.height*n.itemInfo.scale_y-vue.unref(getCoordinateOffset)(n.itemInfo.actual_bound.height,n.itemInfo.scale_y),stroke:"rgba(0,0,0,0)",onMousedown:y[5]||(y[5]=A=>p(vue.unref(EScaleInfoType).BottomLeft,A))},null,44,_hoisted_9$3),[[vue.vShow,vue.unref(d)]]),vue.withDirectives(vue.createElementVNode("rect",{id:"resize_bc",width:"8",height:"8",fill:vue.unref(c),style:vue.normalizeStyle({cursor:g(225).cursor,"vector-effect":"non-scaling-stroke"}),"pointer-events":"all",x:n.itemInfo.actual_bound.x-vue.unref(u)+n.itemInfo.actual_bound.width/2,y:n.itemInfo.actual_bound.y-vue.unref(u)+n.itemInfo.actual_bound.height+vue.unref(getCoordinateOffset)(n.itemInfo.actual_bound.height,n.itemInfo.scale_y),stroke:"rgba(0,0,0,0)",onMousedown:y[6]||(y[6]=A=>p(vue.unref(EScaleInfoType).BottomCenter,A))},null,44,_hoisted_10$2),[[vue.vShow,vue.unref(d)]]),vue.withDirectives(vue.createElementVNode("rect",{id:"resize_br",width:"8",height:"8",fill:vue.unref(c),style:vue.normalizeStyle({cursor:g(180).cursor,"vector-effect":"non-scaling-stroke"}),"pointer-events":"all",x:n.itemInfo.actual_bound.x-vue.unref(u)+n.itemInfo.actual_bound.width+vue.unref(getCoordinateOffset)(n.itemInfo.actual_bound.width,n.itemInfo.scale_x),y:n.itemInfo.actual_bound.y-vue.unref(u)+n.itemInfo.actual_bound.height+vue.unref(getCoordinateOffset)(n.itemInfo.actual_bound.height,n.itemInfo.scale_y),stroke:"rgba(0,0,0,0)",onMousedown:y[7]||(y[7]=A=>p(vue.unref(EScaleInfoType).BottomRight,A))},null,44,_hoisted_11$1),[[vue.vShow,vue.unref(d)]])]))}}),handlePanel_vue_vue_type_style_index_0_scoped_e6622df8_lang="",HandlePanel=_export_sfc$1(_sfc_main$A,[["__scopeId","data-v-e6622df8"]]),_hoisted_1$e=["fill"],_hoisted_2$b=["cx","cy","r"],_hoisted_3$a=["cx","cy","r"],_hoisted_4$6=["cx","cy","r"],_hoisted_5$4=["cx","cy","r"],_hoisted_6$2=["cx","cy","r"],_hoisted_7$2=["cx","cy","r"],_hoisted_8$2=["cx","cy","r"],_hoisted_9$2=["cx","cy","r"],_sfc_main$z=vue.defineComponent({__name:"connection-panel",props:{itemInfo:{}},setup(r){const n=r,i=vue.ref(4),o=vue.ref("#ab712e"),a=vue.ref(4),u=vue.ref(12),c=useGlobalStore(pinia),f=useSvgEditLayoutStore(pinia),d=vue.computed(()=>n.itemInfo.actual_bound.x+n.itemInfo.actual_bound.width/2-i.value+a.value),p=vue.computed(()=>n.itemInfo.actual_bound.y-i.value-getCoordinateOffset(n.itemInfo.actual_bound.height,n.itemInfo.scale_y)+a.value),h=vue.computed(()=>n.itemInfo.actual_bound.x-i.value+n.itemInfo.actual_bound.width+getCoordinateOffset(n.itemInfo.actual_bound.width,n.itemInfo.scale_x)+a.value),g=vue.computed(()=>n.itemInfo.actual_bound.y-i.value+n.itemInfo.actual_bound.height*n.itemInfo.scale_y/2-getCoordinateOffset(n.itemInfo.actual_bound.height,n.itemInfo.scale_y)+a.value),v=vue.computed(()=>n.itemInfo.actual_bound.x-i.value+n.itemInfo.actual_bound.width/2+a.value),y=vue.computed(()=>n.itemInfo.actual_bound.y-i.value+n.itemInfo.actual_bound.height+getCoordinateOffset(n.itemInfo.actual_bound.height,n.itemInfo.scale_y)+a.value),A=vue.computed(()=>n.itemInfo.actual_bound.x-i.value-getCoordinateOffset(n.itemInfo.actual_bound.width,n.itemInfo.scale_x)+a.value),_=vue.computed(()=>n.itemInfo.actual_bound.y-i.value+n.itemInfo.actual_bound.height*n.itemInfo.scale_y/2-getCoordinateOffset(n.itemInfo.actual_bound.height,n.itemInfo.scale_y)+a.value),S=(T,w)=>{var x;c.intention===EGlobalStoreIntention.SetConnectionLineNode&&(T.stopPropagation(),(x=c.handle_svg_info)!=null&&x.info.bind_anchors&&c.connection_line_node_info&&(c.connection_line_node_info.point_index===0?c.handle_svg_info.info.bind_anchors.start={type:w,target_id:n.itemInfo.id}:c.connection_line_node_info.point_index===c.handle_svg_info.info.props.point_position.val.length-1&&(c.handle_svg_info.info.bind_anchors.end={type:w,target_id:n.itemInfo.id}),c.intention=EGlobalStoreIntention.None,c.setHandleSvgInfo(null),vue.nextTick(function(){moveAnchors(n.itemInfo)})))},b=(T,w)=>{var x;c.intention===EGlobalStoreIntention.None?(createLine(T,w,n.itemInfo),c.handle_svg_info&&(c.handle_svg_info.info.props.point_position.val.length!==1?c.handle_svg_info.info.props.point_position.val.push({x:c.mouse_info.new_position_x-c.mouse_info.position_x-f.center_offset.x,y:c.mouse_info.new_position_y-c.mouse_info.position_y-f.center_offset.y}):c.handle_svg_info.info.props.point_position.val.push({x:0,y:0}))):c.intention===EGlobalStoreIntention.Connection&&(T.stopPropagation(),(x=c.handle_svg_info)!=null&&x.info.bind_anchors&&(c.handle_svg_info.info.bind_anchors.end={type:w,target_id:n.itemInfo.id},c.intention=EGlobalStoreIntention.None,c.setHandleSvgInfo(null),vue.nextTick(function(){moveAnchors(n.itemInfo)})))};return(T,w)=>(vue.openBlock(),vue.createElementBlock("g",{style:{"vector-effect":"non-scaling-stroke"},class:"connect-points",fill:vue.unref(o),"stroke-width":"2",stroke:"rgba(0,0,0,0)"},[vue.createElementVNode("g",{onMousedown:w[0]||(w[0]=x=>b(x,vue.unref(ELineBindAnchors).TopCenter)),onMouseup:w[1]||(w[1]=x=>S(x,vue.unref(ELineBindAnchors).TopCenter))},[vue.createElementVNode("circle",{class:"out-circle",cx:vue.unref(d),cy:vue.unref(p),r:vue.unref(u),"fill-opacity":".3"},null,8,_hoisted_2$b),vue.createElementVNode("circle",{id:"connection_tc",cx:vue.unref(d),cy:vue.unref(p),r:vue.unref(a),"pointer-events":"all"},null,8,_hoisted_3$a)],32),vue.createElementVNode("g",{onMousedown:w[2]||(w[2]=x=>b(x,vue.unref(ELineBindAnchors).Right)),onMouseup:w[3]||(w[3]=x=>S(x,vue.unref(ELineBindAnchors).Right))},[vue.createElementVNode("circle",{class:"out-circle",cx:vue.unref(h),cy:vue.unref(g),r:vue.unref(u),"fill-opacity":".3"},null,8,_hoisted_4$6),vue.createElementVNode("circle",{id:"connection_r",cx:vue.unref(h),cy:vue.unref(g),r:vue.unref(a),"pointer-events":"all"},null,8,_hoisted_5$4)],32),vue.createElementVNode("g",{onMousedown:w[4]||(w[4]=x=>b(x,vue.unref(ELineBindAnchors).BottomCenter)),onMouseup:w[5]||(w[5]=x=>S(x,vue.unref(ELineBindAnchors).BottomCenter))},[vue.createElementVNode("circle",{class:"out-circle",cx:vue.unref(v),cy:vue.unref(y),r:vue.unref(u),"fill-opacity":".3"},null,8,_hoisted_6$2),vue.createElementVNode("circle",{id:"connection_bc",cx:vue.unref(v),cy:vue.unref(y),r:vue.unref(a),"pointer-events":"all"},null,8,_hoisted_7$2)],32),vue.createElementVNode("g",{onMousedown:w[6]||(w[6]=x=>b(x,vue.unref(ELineBindAnchors).Left)),onMouseup:w[7]||(w[7]=x=>S(x,vue.unref(ELineBindAnchors).Left))},[vue.createElementVNode("circle",{class:"out-circle",cx:vue.unref(A),cy:vue.unref(_),r:vue.unref(u),"fill-opacity":".3"},null,8,_hoisted_8$2),vue.createElementVNode("circle",{id:"connection_l",cx:vue.unref(A),cy:vue.unref(_),r:vue.unref(a),style:{cursor:"crosshair"},"pointer-events":"all"},null,8,_hoisted_9$2)],32)],8,_hoisted_1$e))}}),connectionPanel_vue_vue_type_style_index_0_scoped_fb729c7a_lang="",ConnectionPanel=_export_sfc$1(_sfc_main$z,[["__scopeId","data-v-fb729c7a"]]),_hoisted_1$d=["d","stroke-width"],_hoisted_2$a=["d","stroke-width"],_hoisted_3$9=["id","d","stroke","stroke-width","stroke-dasharray"],_hoisted_4$5=["from","to","dur","repeatCount"],_hoisted_5$3=["d","stroke","stroke-width","stroke-dasharray"],_hoisted_6$1=["from","to","dur","repeatCount"],_hoisted_7$1=["r","fill"],_hoisted_8$1=["path","dur","repeatCount"],_hoisted_9$1=["cx","cy","r"],_hoisted_10$1=["cx","cy","r","stroke","onMousedown"],_sfc_main$y=vue.defineComponent({__name:"connection-line",props:{itemInfo:{},pointVisible:{type:Boolean,default:!1}},setup(r){const n=r,i=useGlobalStore(pinia),o=useConfigStore(pinia),a=useSvgEditLayoutStore(pinia),u=(c,f,d,p)=>{if(i.intention===EGlobalStoreIntention.Connection)return;i.setHandleSvgInfo(n.itemInfo);const{clientX:h,clientY:g}=f;f.stopPropagation(),i.connection_line_node_info={init_pos:{x:d,y:p},point_index:c},i.intention=EGlobalStoreIntention.SetConnectionLineNode,i.mouse_info={state:EMouseInfoState.Down,position_x:Math.round((h-a.canvasInfo.left)/o.svg.scale),position_y:Math.round((g-a.canvasInfo.top)/o.svg.scale),now_position_x:0,now_position_y:0,new_position_x:0,new_position_y:0}};return(c,f)=>{var d,p,h,g,v,y;return vue.openBlock(),vue.createElementBlock("g",{style:vue.normalizeStyle({cursor:vue.unref(i).intention===vue.unref(EGlobalStoreIntention).Connection?"crosshair":"move"})},[vue.withDirectives(vue.createElementVNode("path",{d:vue.unref(positionArrToPath)(n.itemInfo.props.point_position.val),fill:"none","fill-opacity":"0",stroke:"#DE4517","stroke-width":n.itemInfo.props["stroke-width"].val+1,"stroke-linecap":"round","stroke-linejoin":"round"},null,8,_hoisted_1$d),[[vue.vShow,n.itemInfo.selected||n.itemInfo.id===((d=vue.unref(i).handle_svg_info)==null?void 0:d.info.id)]]),vue.createElementVNode("path",{d:vue.unref(positionArrToPath)(n.itemInfo.props.point_position.val),fill:"none","fill-opacity":"0",stroke:"#fff","stroke-opacity":".01","stroke-width":n.itemInfo.props["stroke-width"].val,"stroke-linecap":"round","stroke-linejoin":"round"},null,8,_hoisted_2$a),vue.createElementVNode("path",{id:n.itemInfo.id,d:vue.unref(positionArrToPath)(n.itemInfo.props.point_position.val),fill:"none",stroke:((p=n.itemInfo.animations)==null?void 0:p.type.val)===vue.unref(EConfigAnimationsType).Electricity?n.itemInfo.animations.color.val:n.itemInfo.props.stroke.val,"stroke-width":n.itemInfo.props["stroke-width"].val,"stroke-dashoffset":"0","stroke-dasharray":((h=n.itemInfo.animations)==null?void 0:h.type.val)===vue.unref(EConfigAnimationsType).Electricity?n.itemInfo.props["stroke-width"].val*3:0,"stroke-linejoin":"round"},[((g=n.itemInfo.animations)==null?void 0:g.type.val)===vue.unref(EConfigAnimationsType).Electricity?(vue.openBlock(),vue.createElementBlock("animate",{key:0,attributeName:"stroke-dashoffset",from:n.itemInfo.animations.reverse.val?0:1e3,to:n.itemInfo.animations.reverse.val?1e3:0,dur:`${n.itemInfo.animations.dur.val}s`,repeatCount:n.itemInfo.animations.repeatCount.val},null,8,_hoisted_4$5)):vue.createCommentVNode("",!0)],8,_hoisted_3$9),((v=n.itemInfo.animations)==null?void 0:v.type.val)===vue.unref(EConfigAnimationsType).WaterDrop?(vue.openBlock(),vue.createElementBlock("path",{key:0,d:vue.unref(positionArrToPath)(n.itemInfo.props.point_position.val),fill:"none","fill-opacity":"0",stroke:n.itemInfo.animations.color.val,"stroke-width":n.itemInfo.props["stroke-width"].val,"stroke-dasharray":n.itemInfo.props["stroke-width"].val*3,"stroke-dashoffset":"0","stroke-linecap":"round","stroke-linejoin":"round"},[vue.createElementVNode("animate",{attributeName:"stroke-dashoffset",from:n.itemInfo.animations.reverse.val?0:1e3,to:n.itemInfo.animations.reverse.val?1e3:0,dur:`${n.itemInfo.animations.dur.val}s`,repeatCount:n.itemInfo.animations.repeatCount.val,fill:"freeze"},null,8,_hoisted_6$1)],8,_hoisted_5$3)):((y=n.itemInfo.animations)==null?void 0:y.type.val)===vue.unref(EConfigAnimationsType).Track?(vue.openBlock(),vue.createElementBlock("circle",{key:1,cx:"0",cy:"0",r:Math.ceil(n.itemInfo.props["stroke-width"].val*.6)+2,fill:n.itemInfo.animations.color.val},[vue.createElementVNode("animateMotion",{path:vue.unref(positionArrToPath)(n.itemInfo.animations.reverse.val?[...n.itemInfo.props.point_position.val].reverse():n.itemInfo.props.point_position.val),dur:`${n.itemInfo.animations.dur.val}s`,repeatCount:n.itemInfo.animations.repeatCount.val},null,8,_hoisted_8$1)],8,_hoisted_7$1)):vue.createCommentVNode("",!0),vue.createElementVNode("g",null,[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(n.itemInfo.props.point_position.val,(A,_)=>{var S;return vue.withDirectives((vue.openBlock(),vue.createElementBlock("circle",{key:_,cx:A.x,cy:A.y,r:n.itemInfo.props.point_r.val+1,fill:"none","fill-opacity":"0","stroke-width":"1",stroke:"#DE4517"},null,8,_hoisted_9$1)),[[vue.vShow,n.itemInfo.selected||n.itemInfo.id===((S=vue.unref(i).handle_svg_info)==null?void 0:S.info.id)]])}),128)),(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(n.itemInfo.props.point_position.val,(A,_)=>(vue.openBlock(),vue.createElementBlock("circle",{key:_,cx:A.x,cy:A.y,r:n.itemInfo.props.point_r.val,"stroke-width":"1",stroke:n.itemInfo.props.stroke.val,fill:"#fff",style:{cursor:"pointer"},onMousedown:S=>u(_,S,A.x,A.y)},null,40,_hoisted_10$1))),128))])],4)}}}),_hoisted_1$c={id:"pattern_grid",patternUnits:"userSpaceOnUse",x:"0",y:"0",width:"20",height:"20"},_hoisted_2$9=["stroke"],_hoisted_3$8=["stroke"],_hoisted_4$4=["stroke"],_hoisted_5$2=["stroke"],_hoisted_6={key:0,width:"100%",height:"100%",fill:"url(#pattern_grid)"},_hoisted_7=["transform"],_hoisted_8=["transform"],_hoisted_9=["transform","onMousedown","onMouseup","onMouseenter","onMouseleave","onContextmenu"],_hoisted_10=["xlink:href","id","transform"],_hoisted_11=["id"],_hoisted_12$1=["id","x1","y1","x2","y2"],_hoisted_13=["id"],_hoisted_14=["x","y","height","width"],_hoisted_15=["onClick"],_hoisted_16$1={class:"shortcut"},_sfc_main$x=vue.defineComponent({__name:"center-panel",setup(r,{expose:n}){vue.useCssVars(de=>({"2e4aaeb1":vue.unref(h)}));const i=useGlobalStore(pinia),o=useConfigStore(pinia),a=useSvgEditLayoutStore(pinia),u=useEditPrivateStore(pinia),c=useContextMenuStore(pinia);componentsRegister();const f=vue.ref(),d=vue.ref(),p={MoveCanvas:"grab",Rotate:"url('/src/assets/icons/rotate.svg'), auto",Connection:"crosshair",SetConnectionLineNode:"crosshair"},h=vue.computed(()=>Object.keys(p).indexOf(i.intention)>-1?p[i.intention]:"default"),g=vue.reactive({handle_panel:vue.computed(()=>i.intention===EGlobalStoreIntention.Select||i.intention===EGlobalStoreIntention.Zoom||i.intention===EGlobalStoreIntention.Rotate),connection_panel:!1,connection_line:!1,select_item:{info:null,index:-1}}),v=vue.ref({a:{x:0,y:0},b:{x:0,y:0}}),y=vue.computed(()=>i.intention===EGlobalStoreIntention.SelectArea&&v.value.b.x&&v.value.b.y?{with:Math.abs(v.value.b.x-v.value.a.x),height:Math.abs(v.value.b.y-v.value.a.y),x:v.value.a.x<v.value.b.x?v.value.a.x:v.value.b.x,y:v.value.a.y<v.value.b.y?v.value.a.y:v.value.b.y}:{with:0,height:0,x:0,y:0}),A=vue.computed(()=>{let de=0;for(let ie of i.done_json)ie.selected&&de++;return de>0});let _=!1,S=!1;const b=de=>{var ie;if(i.intention!=EGlobalStoreIntention.None){if(i.intention==EGlobalStoreIntention.Create){if(!i.create_svg_info){console.error("要创建的数据获取失败");return}const Y=Math.floor(de.offsetX/o.svg.scale-a.center_offset.x),Ie=Math.floor(de.offsetY/o.svg.scale-a.center_offset.y),Oe={id:randomString(),x:Y,y:Ie,client:{x:Y,y:Ie},scale_x:1,scale_y:1,rotate:0,actual_bound:{x:0,y:0,width:0,height:0},center_position:{x:0,y:0},point_coordinate:{tl:{x:0,y:0},tc:{x:0,y:0},tr:{x:0,y:0},l:{x:0,y:0},r:{x:0,y:0},bl:{x:0,y:0},bc:{x:0,y:0},br:{x:0,y:0}},selected:!1,...objectDeepClone(i.create_svg_info)};i.setDoneJson(Oe),i.setHandleSvgInfo(Oe,i.done_json.length),i.intention=EGlobalStoreIntention.None}(ie=d.value)==null||ie.focus()}},T=de=>{de.preventDefault()},w=de=>{de.preventDefault()},x=(de,ie,Y)=>{var Ie,Oe,kt;if((Ie=d.value)==null||Ie.focus(),i.intention===EGlobalStoreIntention.Connection){Y.stopPropagation();return}if(Y.preventDefault(),Y.stopPropagation(),Y.ctrlKey&&Y.button===0)((Oe=i.handle_svg_info)!=null&&Oe.index||((kt=i.handle_svg_info)==null?void 0:kt.index)===0)&&(i.done_json[i.handle_svg_info.index].selected=!0,i.setHandleSvgInfo(null),i.intention=EGlobalStoreIntention.None),de.selected=!de.selected;else if(A.value){i.intention=EGlobalStoreIntention.GroupMove,i.mouse_info={state:EMouseInfoState.Down,position_x:Math.round((Y.clientX-a.canvasInfo.left)/o.svg.scale),position_y:Math.round((Y.clientY-a.canvasInfo.top)/o.svg.scale),now_position_x:0,now_position_y:0,new_position_x:0,new_position_y:0};for(let Dt of i.done_json)Dt.selected&&(Dt.old_position={x:Dt.x,y:Dt.y},Dt.point_coordinate_old=objectDeepClone(Dt.point_coordinate))}else i.intention=EGlobalStoreIntention.Select,i.setHandleSvgInfo(de,ie),i.mouse_info={state:EMouseInfoState.Down,position_x:Math.round((Y.clientX-a.canvasInfo.left)/o.svg.scale),position_y:Math.round((Y.clientY-a.canvasInfo.top)/o.svg.scale),now_position_x:de.x,now_position_y:de.y,new_position_x:0,new_position_y:0},de.point_coordinate_old=objectDeepClone(de.point_coordinate)},k=(de,ie,Y)=>{if(!(i.intention===EGlobalStoreIntention.Connection||i.mouse_info.state!=EMouseInfoState.Down)&&A.value&&!_&&["SelectArea","Move","Select"].indexOf(i.intention)<0){for(let Ie of i.done_json)Ie.selected=!1,Ie.old_position={x:0,y:0},resetHandlePointOld(Ie);i.intention=EGlobalStoreIntention.Select,i.setHandleSvgInfo(de,ie),i.mouse_info={state:EMouseInfoState.Down,position_x:Math.round((Y.clientX-a.canvasInfo.left)/o.svg.scale),position_y:Math.round((Y.clientY-a.canvasInfo.top)/o.svg.scale),now_position_x:de.x,now_position_y:de.y,new_position_x:0,new_position_y:0}}},M=(de,ie,Y)=>{Y.preventDefault(),Y.stopPropagation(),g.connection_panel=!0,g.connection_line=!0,!((i.intention===EGlobalStoreIntention.Connection||i.intention===EGlobalStoreIntention.SetConnectionLineNode)&&de.type===EDoneJsonType.ConnectionLine)&&(g.select_item.info=de,g.select_item.index=ie)},D=(de,ie,Y)=>{Y.preventDefault(),Y.stopPropagation(),!((i.intention===EGlobalStoreIntention.Connection||i.intention===EGlobalStoreIntention.SetConnectionLineNode)&&de.type===EDoneJsonType.ConnectionLine)&&(g.connection_panel=!1,g.connection_line=!1,g.select_item.info=null,g.select_item.index=-1)},z=de=>{var kt,Dt,Fe,$e,Cn,Lt,In,Et,Ne,pe,At,Ve,xe,ze,Pt,hn;if(i.mouse_info.state!=EMouseInfoState.Down&&i.intention!==EGlobalStoreIntention.Connection)return;const{clientX:ie,clientY:Y}=de;i.mouse_info.new_position_x=Math.round((ie-a.canvasInfo.left)/o.svg.scale),i.mouse_info.new_position_y=Math.round((Y-a.canvasInfo.top)/o.svg.scale);const Ie=Math.round(i.mouse_info.new_position_x-i.mouse_info.position_x+i.mouse_info.now_position_x),Oe=Math.round(i.mouse_info.new_position_y-i.mouse_info.position_y+i.mouse_info.now_position_y);if((kt=i.handle_svg_info)!=null&&kt.info&&(i.intention===EGlobalStoreIntention.Select||i.intention===EGlobalStoreIntention.Move)){if(i.handle_svg_info.info.x=Ie,i.handle_svg_info.info.y=Oe,i.handle_svg_info.info.client={x:Ie,y:Oe},i.intention=EGlobalStoreIntention.Move,moveHandlePoint(i.handle_svg_info.info),moveAnchors(i.handle_svg_info.info),i.handle_svg_info.info.type===EDoneJsonType.ConnectionLine){if((Dt=i.handle_svg_info.info.bind_anchors)!=null&&Dt.start){let ae=null;for(let le of i.done_json)le.id===(($e=(Fe=i.handle_svg_info.info.bind_anchors)==null?void 0:Fe.start)==null?void 0:$e.target_id)&&(ae=le);ae&&moveAnchors(ae)}if((Cn=i.handle_svg_info.info.bind_anchors)!=null&&Cn.end){let ae=null;for(let le of i.done_json)le.id===((In=(Lt=i.handle_svg_info.info.bind_anchors)==null?void 0:Lt.end)==null?void 0:In.target_id)&&(ae=le);ae&&moveAnchors(ae)}}}else if(i.intention===EGlobalStoreIntention.MoveCanvas)a.center_offset.x=Ie,a.center_offset.y=Oe;else if(i.intention===EGlobalStoreIntention.SelectArea)v.value.b.x=i.mouse_info.new_position_x-a.center_offset.x,v.value.b.y=i.mouse_info.new_position_y-a.center_offset.y;else if(i.intention===EGlobalStoreIntention.GroupMove){_=!0;for(let ae of i.done_json)if(ae.selected&&ae.old_position){const le=Math.round(i.mouse_info.new_position_x-i.mouse_info.position_x+ae.old_position.x),re=Math.round(i.mouse_info.new_position_y-i.mouse_info.position_y+ae.old_position.y);if(ae.x=le,ae.y=re,ae.client={x:le,y:re},moveHandlePoint(ae),moveAnchors(ae),ae.type===EDoneJsonType.ConnectionLine&&((Et=ae.bind_anchors)!=null&&Et.end)){let V=null;for(let $ of i.done_json)$.id===((pe=(Ne=ae.bind_anchors)==null?void 0:Ne.end)==null?void 0:pe.target_id)&&(V=$);V&&moveAnchors(V)}}}else if(i.intention===EGlobalStoreIntention.Zoom){if(!i.handle_svg_info)return;const ae={x:i.mouse_info.new_position_x-a.center_offset.x,y:i.mouse_info.new_position_y-a.center_offset.y};let le={width:0,height:0,is_old_width:!1,is_old_height:!1};if(i.scale_info.type===EScaleInfoType.TopLeft?le=calculateLeftTop(ae,i.scale_info.symmetric_point,i.handle_svg_info.info.rotate):i.scale_info.type===EScaleInfoType.TopRight?le=calculateRightTop(ae,i.scale_info.symmetric_point,i.handle_svg_info.info.rotate):i.scale_info.type===EScaleInfoType.BottomRight?le=calculateRightBottom(ae,i.scale_info.symmetric_point,i.handle_svg_info.info.rotate):i.scale_info.type===EScaleInfoType.BottomLeft?le=calculateLeftBottom(ae,i.scale_info.symmetric_point,i.handle_svg_info.info.rotate):i.scale_info.type===EScaleInfoType.TopCenter?le=calculateTop(ae,i.scale_info.symmetric_point,i.handle_svg_info.info.rotate,i.handle_svg_info.info.client):i.scale_info.type===EScaleInfoType.Right?le=calculateRight(ae,i.scale_info.symmetric_point,i.handle_svg_info.info.rotate,i.handle_svg_info.info.client):i.scale_info.type===EScaleInfoType.BottomCenter?le=calculateBottom(ae,i.scale_info.symmetric_point,i.handle_svg_info.info.rotate,i.handle_svg_info.info.client):i.scale_info.type===EScaleInfoType.Left&&(le=calculateLeft(ae,i.scale_info.symmetric_point,i.handle_svg_info.info.rotate,i.handle_svg_info.info.client)),i.handle_svg_info&&le.width>0&&le.height>0){const re=le.is_old_width?1:parseFloat((le.width/i.handle_svg_info.info.actual_bound.width).toFixed(3)),V=le.is_old_height?1:parseFloat((le.height/i.handle_svg_info.info.actual_bound.height).toFixed(3)),$=getCenterPoint(ae,i.scale_info.symmetric_point);re>0&&i.scale_info.type!==EScaleInfoType.TopCenter&&i.scale_info.type!==EScaleInfoType.BottomCenter&&(i.handle_svg_info.info.scale_x=re,i.handle_svg_info.info.x=Math.round(getSvgNowPosition(i.handle_svg_info.info.center_position.x,$.x,i.handle_svg_info.info.client.x))),V>0&&i.scale_info.type!==EScaleInfoType.Left&&i.scale_info.type!==EScaleInfoType.Right&&(i.handle_svg_info.info.scale_y=V,i.handle_svg_info.info.y=Math.round(getSvgNowPosition(i.handle_svg_info.info.center_position.y,$.y,i.handle_svg_info.info.client.y)))}}else if(i.intention===EGlobalStoreIntention.Rotate){if(!i.handle_svg_info)return;const ae=Math.atan2(i.mouse_info.position_y-i.handle_svg_info.info.y,i.mouse_info.position_x-i.handle_svg_info.info.x)/(Math.PI/180),le=Math.atan2(i.mouse_info.new_position_y-a.center_offset.y-i.handle_svg_info.info.y,i.mouse_info.new_position_x-a.center_offset.x-i.handle_svg_info.info.x)/(Math.PI/180);i.handle_svg_info.info.rotate=parseFloat((i.rotate_info.angle+le-ae).toFixed(2))}else if(i.intention===EGlobalStoreIntention.Connection&&i.handle_svg_info){const ae=(At=i.handle_svg_info)==null?void 0:At.info.props.point_position.val.length,le=i.mouse_info.new_position_x-i.mouse_info.position_x-a.center_offset.x,re=i.mouse_info.new_position_y-i.mouse_info.position_y-a.center_offset.y,V=i.handle_svg_info.info.props.point_position.val[ae-2],$=((xe=(Ve=i.handle_svg_info)==null?void 0:Ve.info.props.point_r)==null?void 0:xe.val)+2||4;let he=V.x<le?-$:V.x>le?$:0,Ue=V.y<re?-$:V.y>re?$:0;de.ctrlKey?i.handle_svg_info.info.props.point_position.val[ae-1]={x:V.x,y:re+Ue}:de.shiftKey?i.handle_svg_info.info.props.point_position.val[ae-1]={x:le+he,y:V.y}:i.handle_svg_info.info.props.point_position.val[ae-1]={x:le+he,y:re+Ue}}else if(i.intention===EGlobalStoreIntention.SetConnectionLineNode&&i.handle_svg_info){!S&&(i.connection_line_node_info.point_index===i.handle_svg_info.info.props.point_position.val.length-1||i.connection_line_node_info.point_index===0)&&(S=!0);const ae=(ze=i.handle_svg_info)==null?void 0:ze.info.props.point_position.val.length,le=getSvgNowPosition(i.mouse_info.position_x,i.mouse_info.new_position_x,i.connection_line_node_info.init_pos.x),re=getSvgNowPosition(i.mouse_info.position_y,i.mouse_info.new_position_y,i.connection_line_node_info.init_pos.y),V=i.handle_svg_info.info.props.point_position.val[ae-2],$=((hn=(Pt=i.handle_svg_info)==null?void 0:Pt.info.props.point_r)==null?void 0:hn.val)+2||4;let he=V.x<le?-$:V.x>le?$:0,Ue=V.y<re?-$:V.y>re?$:0;i.handle_svg_info.info.props.point_position.val[i.connection_line_node_info.point_index]={x:le+he,y:re+Ue}}},j=()=>{var de,ie,Y,Ie;if(i.mouse_info.state==EMouseInfoState.Down){if((de=i.handle_svg_info)!=null&&de.info&&i.intention==EGlobalStoreIntention.Move)setSvgActualInfo(i.done_json[i.handle_svg_info.index]),i.intention=EGlobalStoreIntention.None,i.setDoneJson(i.done_json);else if(i.intention==EGlobalStoreIntention.GroupMove)_&&(_=!1,i.intention=EGlobalStoreIntention.None);else if((ie=i.handle_svg_info)!=null&&ie.info&&i.intention==EGlobalStoreIntention.Zoom)i.handle_svg_info.info.client={x:i.handle_svg_info.info.x,y:i.handle_svg_info.info.y},i.intention=EGlobalStoreIntention.None,setSvgActualInfo(i.done_json[i.handle_svg_info.index]),i.setDoneJson(i.done_json);else if(i.intention===EGlobalStoreIntention.Rotate&&((Y=i.handle_svg_info)!=null&&Y.info))setSvgActualInfo(i.done_json[i.handle_svg_info.index]),i.setDoneJson(i.done_json),i.intention=EGlobalStoreIntention.None;else{if(i.intention===EGlobalStoreIntention.Connection)return;if(i.intention===EGlobalStoreIntention.SetConnectionLineNode)S&&((Ie=i.handle_svg_info)!=null&&Ie.info.bind_anchors)&&(i.connection_line_node_info.point_index===0?i.handle_svg_info.info.bind_anchors.start=null:i.handle_svg_info.info.bind_anchors.end=null),i.intention=EGlobalStoreIntention.None,S=!1;else if(i.intention===EGlobalStoreIntention.SelectArea){i.setHandleSvgInfo(null);for(let Oe of i.done_json){const kt=y.value;Oe.selected=Oe.x>kt.x&&Oe.x<kt.x+kt.with&&Oe.y>kt.y&&Oe.y<kt.y+kt.height}i.intention=EGlobalStoreIntention.None}else i.intention!=EGlobalStoreIntention.Select&&(i.intention=EGlobalStoreIntention.None)}i.mouse_info={state:EMouseInfoState.Up,position_x:0,position_y:0,now_position_x:0,now_position_y:0,new_position_x:0,new_position_y:0},c.display=!1}},oe=de=>{const{clientX:ie,clientY:Y}=de;if(i.intention===EGlobalStoreIntention.Connection){i.handle_svg_info||createLine(de),i.handle_svg_info&&(de.button===0?i.handle_svg_info.info.props.point_position.val.length!==1?i.handle_svg_info.info.props.point_position.val.push({x:i.mouse_info.new_position_x-i.mouse_info.position_x-a.center_offset.x,y:i.mouse_info.new_position_y-i.mouse_info.position_y-a.center_offset.y}):i.handle_svg_info.info.props.point_position.val.push({x:0,y:0}):de.button===2&&(i.intention=EGlobalStoreIntention.None,setSvgActualInfo(i.done_json[i.handle_svg_info.index]),i.setHandleSvgInfo(null)));return}de.button===0?(i.intention=EGlobalStoreIntention.SelectArea,i.mouse_info={state:EMouseInfoState.Down,position_x:Math.round((ie-a.canvasInfo.left)/o.svg.scale-a.center_offset.x),position_y:Math.round((Y-a.canvasInfo.top)/o.svg.scale-a.center_offset.y),now_position_x:0,now_position_y:0,new_position_x:0,new_position_y:0},v.value={a:{x:i.mouse_info.position_x,y:i.mouse_info.position_y},b:{x:0,y:0}}):de.button===2&&(i.intention=EGlobalStoreIntention.MoveCanvas,i.mouse_info={state:EMouseInfoState.Down,position_x:Math.round((ie-a.canvasInfo.left)/o.svg.scale),position_y:Math.round((Y-a.canvasInfo.top)/o.svg.scale),now_position_x:a.center_offset.x,now_position_y:a.center_offset.y,new_position_x:0,new_position_y:0})};function L(de){de!=null&&de.wheelDelta&&(de.wheelDelta>0?o.svg.scale=parseFloat((o.svg.scale+.1).toFixed(1)):o.svg.scale=parseFloat((o.svg.scale-.1).toFixed(1)))}const F=de=>{de.stopPropagation(),de.preventDefault()},O=(de,ie,Y)=>{i.intention!==EGlobalStoreIntention.Connection&&f.value&&(i.intention=EGlobalStoreIntention.ContextMenu,i.setHandleSvgInfo(de,ie),f.value.style.left=Y.pageX+"px",f.value.style.top=Y.pageY+"px",c.info.MoveUpOneLevel.enable=c.info.MoveUpTopLevel.enable=c.info.MoveDownOneLevel.enable=c.info.MoveDownTopLevel.enable=!0,ie===i.done_json.length-1&&(c.info.MoveUpOneLevel.enable=c.info.MoveUpTopLevel.enable=!1),ie===0&&(c.info.MoveDownOneLevel.enable=c.info.MoveDownTopLevel.enable=!1),c.display=!0)},ue=(de,ie,Y)=>({x:parseFloat((de.x-de.width/2*ie+de.width/2).toFixed(1)),y:parseFloat((de.y-de.height/2*Y+de.height/2).toFixed(1)),width:parseFloat((de.width*ie).toFixed(1)),height:parseFloat((de.height*Y).toFixed(1))}),_e=de=>{de.preventDefault();let ie=[];if(!de.ctrlKey&&["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].indexOf(de.key)>-1&&(A.value?ie=i.done_json.map((Y,Ie)=>({selected:Y.selected,i:Ie})).filter(Y=>Y.selected).map(Y=>Y.i):i.handle_svg_info&&ie.push(i.handle_svg_info.index)),!de.ctrlKey&&de.key=="ArrowUp"){for(let Y of ie)i.done_json[Y].y-=1,i.done_json[Y].client.y-=1,moveHandlePoint(i.done_json[Y],0,-1),moveAnchors(i.done_json[Y]);useHistoryRecord(i.done_json)}else if(!de.ctrlKey&&de.key=="ArrowDown"){for(let Y of ie)i.done_json[Y].y+=1,i.done_json[Y].client.y+=1,moveHandlePoint(i.done_json[Y],0,1),moveAnchors(i.done_json[Y]);useHistoryRecord(i.done_json)}else if(!de.ctrlKey&&de.key=="ArrowLeft"){for(let Y of ie)i.done_json[Y].x-=1,i.done_json[Y].client.x-=1,moveHandlePoint(i.done_json[Y],-1,0),moveAnchors(i.done_json[Y]);useHistoryRecord(i.done_json)}else if(!de.ctrlKey&&de.key=="ArrowRight"){for(let Y of ie)i.done_json[Y].x+=1,i.done_json[Y].client.x+=1,moveHandlePoint(i.done_json[Y],1,0),moveAnchors(i.done_json[Y]);useHistoryRecord(i.done_json)}else de.ctrlKey&&de.key.toLowerCase()=="c"?c.onContextMenuClick(EContextMenuInfoType.Copy):!de.ctrlKey&&de.key=="Delete"?A.value?(i.setDoneJson(i.done_json.filter(Y=>!Y.selected)),i.setHandleSvgInfo(i.done_json[i.done_json.length-1],i.done_json.length-1)):c.onContextMenuClick(EContextMenuInfoType.Delete):de.ctrlKey&&de.key=="ArrowUp"?c.onContextMenuClick(EContextMenuInfoType.MoveUpOneLevel):de.ctrlKey&&de.key=="ArrowDown"?c.onContextMenuClick(EContextMenuInfoType.MoveDownOneLevel):de.ctrlKey&&de.key=="ArrowLeft"?c.onContextMenuClick(EContextMenuInfoType.MoveDownTopLevel):de.ctrlKey&&de.key=="ArrowRight"?c.onContextMenuClick(EContextMenuInfoType.MoveUpTopLevel):de.ctrlKey&&de.shiftKey&&de.key.toLowerCase()=="z"?u.topRedoBtnClick():de.ctrlKey&&de.key.toLowerCase()=="z"?u.topUndoBtnClick():de.ctrlKey&&de.key.toLowerCase()=="delete"&&(i.done_json.length<=0||i.setDoneJson([]))},Ce=()=>{setSvgActualInfo(i.done_json[i.handle_svg_info.index],!0)};return vue.onMounted(()=>{var de;(de=d.value)==null||de.focus(),vue.nextTick(function(){var Y;const ie=(Y=d.value)==null?void 0:Y.getBoundingClientRect();a.canvasInfo={height:(ie==null?void 0:ie.height)||0,with:(ie==null?void 0:ie.width)||0,top:(ie==null?void 0:ie.top)||0,left:(ie==null?void 0:ie.left)||0}})}),n({onCanvasMouseUp:j}),(de,ie)=>(vue.openBlock(),vue.createElementBlock(vue.Fragment,null,[vue.createElementVNode("div",{class:"canvas",tabindex:"0",ref_key:"canvasRef",ref:d,onDrop:b,onDragenter:T,onDragover:w,onMousedown:oe,onMousemove:z,onMouseup:j,onContextmenu:F,onKeydown:_e,onMousewheel:L},[(vue.openBlock(),vue.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",style:vue.normalizeStyle({backgroundColor:vue.unref(o).svg.background_color}),width:"100%",height:"100%"},[vue.createElementVNode("defs",null,[vue.createElementVNode("pattern",_hoisted_1$c,[vue.createElementVNode("line",{x1:"0",y1:"0",x2:"0",y2:"20",stroke:vue.unref(o).svg.grid_color},null,8,_hoisted_2$9),vue.createElementVNode("line",{x1:"10",y1:"0",x2:"10",y2:"20",stroke:vue.unref(o).svg.grid_color},null,8,_hoisted_3$8),vue.createElementVNode("line",{x1:"0",y1:"0",x2:"20",y2:"0",stroke:vue.unref(o).svg.grid_color},null,8,_hoisted_4$4),vue.createElementVNode("line",{x1:"0",y1:"10",x2:"20",y2:"10",stroke:vue.unref(o).svg.grid_color},null,8,_hoisted_5$2)])]),vue.unref(o).svg.grid?(vue.openBlock(),vue.createElementBlock("rect",_hoisted_6)):vue.createCommentVNode("",!0),vue.createElementVNode("g",{transform:`translate(${vue.unref(a).center_offset.x*vue.unref(o).svg.scale},${vue.unref(a).center_offset.y*vue.unref(o).svg.scale})rotate(0)scale(${vue.unref(o).svg.scale})`},[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(vue.unref(i).done_json,(Y,Ie)=>{var Oe,kt,Dt,Fe,$e,Cn;return vue.withDirectives((vue.openBlock(),vue.createElementBlock("g",{key:Y.id,transform:`translate(${Y.x},${Y.y})rotate(0)scale(1)`,onMousewheel:ie[0]||(ie[0]=(...Lt)=>vue.unref(stopEvent)&&vue.unref(stopEvent)(...Lt))},[vue.createElementVNode("g",{class:vue.normalizeClass(`${vue.unref(getCommonClass)(Y)}`)},[vue.createElementVNode("g",{transform:`translate(${Y.actual_bound.x+Y.actual_bound.width/2},${Y.actual_bound.y+Y.actual_bound.height/2})rotate(${Y.rotate}) scale(1) translate(${-(Y.actual_bound.x+Y.actual_bound.width/2)},${-(Y.actual_bound.y+Y.actual_bound.height/2)})`,onMousedown:Lt=>x(Y,Ie,Lt),onMouseup:Lt=>k(Y,Ie,Lt),onMouseenter:Lt=>M(Y,Ie,Lt),onMouseleave:Lt=>D(Y,Ie,Lt),onContextmenu:Lt=>O(Y,Ie,Lt)},[Y.type===vue.unref(EDoneJsonType).ConnectionLine?(vue.openBlock(),vue.createBlock(_sfc_main$y,{key:0,"item-info":Y,"point-visible":vue.unref(g).connection_line&&((Oe=vue.unref(g).select_item.info)==null?void 0:Oe.id)==Y.id},null,8,["item-info","point-visible"])):Y.type===vue.unref(EDoneJsonType).File?(vue.openBlock(),vue.createElementBlock("use",vue.mergeProps({key:1,"xlink:href":`#svg-${Y.name}`},vue.unref(prosToVBind)(Y),{width:"100",height:"100",id:Y.id,transform:`translate(${Y.actual_bound.x+Y.actual_bound.width/2},${Y.actual_bound.y+Y.actual_bound.height/2}) scale(${Y.scale_x},${Y.scale_y}) translate(${-(Y.actual_bound.x+Y.actual_bound.width/2)},${-(Y.actual_bound.y+Y.actual_bound.height/2)})`}),null,16,_hoisted_10)):Y.type===vue.unref(EDoneJsonType).CustomSvg?(vue.openBlock(),vue.createBlock(vue.resolveDynamicComponent(Y.tag),vue.mergeProps({key:2},vue.unref(prosToVBind)(Y),{width:"100",height:"100",id:Y.id,onResize:Ce,transform:`translate(${Y.actual_bound.x+Y.actual_bound.width/2},${Y.actual_bound.y+Y.actual_bound.height/2}) scale(${Y.scale_x},${Y.scale_y}) translate(${-(Y.actual_bound.x+Y.actual_bound.width/2)},${-(Y.actual_bound.y+Y.actual_bound.height/2)})`}),null,16,["id","transform"])):Y.type===vue.unref(EDoneJsonType).Vue?(vue.openBlock(),vue.createElementBlock("foreignObject",vue.mergeProps({key:3},ue(Y.actual_bound,Y.scale_x,Y.scale_y),{id:`foreign-object${Y.id}`,class:"foreignObject"}),[(vue.openBlock(),vue.createBlock(vue.resolveDynamicComponent(Y.tag),vue.mergeProps(vue.unref(prosToVBind)(Y),{id:Y.id,transform:`translate(${Y.actual_bound.x+Y.actual_bound.width/2},${Y.actual_bound.y+Y.actual_bound.height/2}) scale(${Y.scale_x},${Y.scale_y}) translate(${-(Y.actual_bound.x+Y.actual_bound.width/2)},${-(Y.actual_bound.y+Y.actual_bound.height/2)})`}),{default:vue.withCtx(()=>[vue.createTextVNode(vue.toDisplayString(Y.tag_slot),1)]),_:2},1040,["id","transform"]))],16,_hoisted_11)):Y.type===vue.unref(EDoneJsonType).StraightLine?(vue.openBlock(),vue.createElementBlock("line",{key:4,id:Y.id,x1:Y.props.start_x.val,y1:Y.props.start_y.val,x2:Y.props.end_x.val,y2:Y.props.end_y.val,fill:"#FF0000",stroke:"#FF0000","stroke-width":"2"},null,8,_hoisted_12$1)):vue.createCommentVNode("",!0),Y.config.actual_rect?(vue.openBlock(),vue.createElementBlock("rect",vue.mergeProps({key:5,id:`rect${Y.id}`,fill:"black","fill-opacity":"0"},ue(Y.actual_bound,Y.scale_x,Y.scale_y),{style:{stroke:"none","stroke-width":"2","stroke-miterlimit":"10"},class:{"svg-item-none":!Y.selected&&(vue.unref(i).intention==vue.unref(EGlobalStoreIntention).None||vue.unref(i).intention==vue.unref(EGlobalStoreIntention).Select),"svg-item-move":vue.unref(i).intention==vue.unref(EGlobalStoreIntention).Move&&((kt=vue.unref(i).handle_svg_info)==null?void 0:kt.info.id)==Y.id,"svg-item-select":vue.unref(i).intention==vue.unref(EGlobalStoreIntention).Select&&((Dt=vue.unref(i).handle_svg_info)==null?void 0:Dt.info.id)==Y.id,"svg-item-in-group":Y.selected}}),null,16,_hoisted_13)):vue.createCommentVNode("",!0),((Fe=vue.unref(i).handle_svg_info)==null?void 0:Fe.info.id)===Y.id&&vue.unref(g).handle_panel&&Y.type!==vue.unref(EDoneJsonType).ConnectionLine?(vue.openBlock(),vue.createBlock(HandlePanel,{key:6,"item-info":Y},null,8,["item-info"])):vue.createCommentVNode("",!0),!Y.selected&&(($e=vue.unref(g).select_item.info)==null?void 0:$e.id)==Y.id&&vue.unref(g).connection_panel&&Y.config.have_anchor&&vue.unref(i).intention!==vue.unref(EGlobalStoreIntention).SelectArea&&(vue.unref(i).intention!==vue.unref(EGlobalStoreIntention).Select||Y.id!==((Cn=vue.unref(i).handle_svg_info)==null?void 0:Cn.info.id))?(vue.openBlock(),vue.createBlock(ConnectionPanel,{key:7,onContextmenu:F,"item-info":Y},null,8,["item-info"])):vue.createCommentVNode("",!0)],40,_hoisted_9)],2)],40,_hoisted_8)),[[vue.vShow,Y.display]])}),128)),vue.createElementVNode("rect",{x:vue.unref(y).x,y:vue.unref(y).y,height:vue.unref(y).height,width:vue.unref(y).with,stroke:"#107cec",fill:"#107cec","fill-opacity":".2"},null,8,_hoisted_14)],8,_hoisted_7)],4))],544),vue.withDirectives(vue.createElementVNode("ul",{ref_key:"contextMenuRef",ref:f,class:"contextMenu"},[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(vue.unref(c).info,(Y,Ie)=>(vue.openBlock(),vue.createElementBlock("li",{key:Y.title,onClick:Oe=>vue.unref(c).onContextMenuClick(Ie)},[vue.createElementVNode("p",{class:vue.normalizeClass(Y.enable?"":"disabled")},[vue.createTextVNode(vue.toDisplayString(Y.title)+" ",1),vue.createElementVNode("span",_hoisted_16$1,vue.toDisplayString(Y.hot_key),1)],2)],8,_hoisted_15))),128))],512),[[vue.vShow,vue.unref(c).display]])],64))}}),centerPanel_vue_vue_type_style_index_0_scoped_d3ea847c_lang="",CenterPanel=_export_sfc$1(_sfc_main$x,[["__scopeId","data-v-d3ea847c"]]);/*! Element Plus Icons Vue v2.1.0 */var export_helper_default=(r,n)=>{let i=r.__vccOpts||r;for(let[o,a]of n)i[o]=a;return i},aim_vue_vue_type_script_lang_default={name:"Aim"},_hoisted_12={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_22=vue.createElementVNode("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),_hoisted_32=vue.createElementVNode("path",{fill:"currentColor",d:"M512 96a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V128a32 32 0 0 1 32-32zm0 576a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V704a32 32 0 0 1 32-32zM96 512a32 32 0 0 1 32-32h192a32 32 0 0 1 0 64H128a32 32 0 0 1-32-32zm576 0a32 32 0 0 1 32-32h192a32 32 0 1 1 0 64H704a32 32 0 0 1-32-32z"},null,-1),_hoisted_42=[_hoisted_22,_hoisted_32];function _sfc_render2(r,n,i,o,a,u){return vue.openBlock(),vue.createElementBlock("svg",_hoisted_12,_hoisted_42)}var aim_default=export_helper_default(aim_vue_vue_type_script_lang_default,[["render",_sfc_render2],["__file","aim.vue"]]),arrow_down_vue_vue_type_script_lang_default={name:"ArrowDown"},_hoisted_16={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_26=vue.createElementVNode("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"},null,-1),_hoisted_36=[_hoisted_26];function _sfc_render6(r,n,i,o,a,u){return vue.openBlock(),vue.createElementBlock("svg",_hoisted_16,_hoisted_36)}var arrow_down_default=export_helper_default(arrow_down_vue_vue_type_script_lang_default,[["render",_sfc_render6],["__file","arrow-down.vue"]]),circle_check_vue_vue_type_script_lang_default={name:"CircleCheck"},_hoisted_149={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_249=vue.createElementVNode("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),_hoisted_348=vue.createElementVNode("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"},null,-1),_hoisted_415=[_hoisted_249,_hoisted_348];function _sfc_render49(r,n,i,o,a,u){return vue.openBlock(),vue.createElementBlock("svg",_hoisted_149,_hoisted_415)}var circle_check_default=export_helper_default(circle_check_vue_vue_type_script_lang_default,[["render",_sfc_render49],["__file","circle-check.vue"]]),circle_close_vue_vue_type_script_lang_default={name:"CircleClose"},_hoisted_151={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_251=vue.createElementVNode("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248L466.752 512z"},null,-1),_hoisted_350=vue.createElementVNode("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),_hoisted_416=[_hoisted_251,_hoisted_350];function _sfc_render51(r,n,i,o,a,u){return vue.openBlock(),vue.createElementBlock("svg",_hoisted_151,_hoisted_416)}var circle_close_default=export_helper_default(circle_close_vue_vue_type_script_lang_default,[["render",_sfc_render51],["__file","circle-close.vue"]]),close_vue_vue_type_script_lang_default={name:"Close"},_hoisted_156={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_256=vue.createElementVNode("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"},null,-1),_hoisted_355=[_hoisted_256];function _sfc_render56(r,n,i,o,a,u){return vue.openBlock(),vue.createElementBlock("svg",_hoisted_156,_hoisted_355)}var close_default=export_helper_default(close_vue_vue_type_script_lang_default,[["render",_sfc_render56],["__file","close.vue"]]),hide_vue_vue_type_script_lang_default={name:"Hide"},_hoisted_1133={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2133=vue.createElementVNode("path",{fill:"currentColor",d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2L371.2 588.8ZM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z"},null,-1),_hoisted_3132=vue.createElementVNode("path",{fill:"currentColor",d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z"},null,-1),_hoisted_438=[_hoisted_2133,_hoisted_3132];function _sfc_render133(r,n,i,o,a,u){return vue.openBlock(),vue.createElementBlock("svg",_hoisted_1133,_hoisted_438)}var hide_default=export_helper_default(hide_vue_vue_type_script_lang_default,[["render",_sfc_render133],["__file","hide.vue"]]),loading_vue_vue_type_script_lang_default={name:"Loading"},_hoisted_1150={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2150=vue.createElementVNode("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32zm0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32zm448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32zm-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32zM195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0zm-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"},null,-1),_hoisted_3149=[_hoisted_2150];function _sfc_render150(r,n,i,o,a,u){return vue.openBlock(),vue.createElementBlock("svg",_hoisted_1150,_hoisted_3149)}var loading_default=export_helper_default(loading_vue_vue_type_script_lang_default,[["render",_sfc_render150],["__file","loading.vue"]]),view_vue_vue_type_script_lang_default={name:"View"},_hoisted_1283={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2283=vue.createElementVNode("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352zm0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448zm0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160z"},null,-1),_hoisted_3282=[_hoisted_2283];function _sfc_render283(r,n,i,o,a,u){return vue.openBlock(),vue.createElementBlock("svg",_hoisted_1283,_hoisted_3282)}var view_default=export_helper_default(view_vue_vue_type_script_lang_default,[["render",_sfc_render283],["__file","view.vue"]]),MapShim=function(){if(typeof Map<"u")return Map;function r(n,i){var o=-1;return n.some(function(a,u){return a[0]===i?(o=u,!0):!1}),o}return function(){function n(){this.__entries__=[]}return Object.defineProperty(n.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),n.prototype.get=function(i){var o=r(this.__entries__,i),a=this.__entries__[o];return a&&a[1]},n.prototype.set=function(i,o){var a=r(this.__entries__,i);~a?this.__entries__[a][1]=o:this.__entries__.push([i,o])},n.prototype.delete=function(i){var o=this.__entries__,a=r(o,i);~a&&o.splice(a,1)},n.prototype.has=function(i){return!!~r(this.__entries__,i)},n.prototype.clear=function(){this.__entries__.splice(0)},n.prototype.forEach=function(i,o){o===void 0&&(o=null);for(var a=0,u=this.__entries__;a<u.length;a++){var c=u[a];i.call(o,c[1],c[0])}},n}()}(),isBrowser=typeof window<"u"&&typeof document<"u"&&window.document===document,global$1=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),requestAnimationFrame$1=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(global$1):function(r){return setTimeout(function(){return r(Date.now())},1e3/60)}}(),trailingTimeout=2;function throttle(r,n){var i=!1,o=!1,a=0;function u(){i&&(i=!1,r()),o&&f()}function c(){requestAnimationFrame$1(u)}function f(){var d=Date.now();if(i){if(d-a<trailingTimeout)return;o=!0}else i=!0,o=!1,setTimeout(c,n);a=d}return f}var REFRESH_DELAY=20,transitionKeys=["top","right","bottom","left","width","height","size","weight"],mutationObserverSupported=typeof MutationObserver<"u",ResizeObserverController=function(){function r(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=throttle(this.refresh.bind(this),REFRESH_DELAY)}return r.prototype.addObserver=function(n){~this.observers_.indexOf(n)||this.observers_.push(n),this.connected_||this.connect_()},r.prototype.removeObserver=function(n){var i=this.observers_,o=i.indexOf(n);~o&&i.splice(o,1),!i.length&&this.connected_&&this.disconnect_()},r.prototype.refresh=function(){var n=this.updateObservers_();n&&this.refresh()},r.prototype.updateObservers_=function(){var n=this.observers_.filter(function(i){return i.gatherActive(),i.hasActive()});return n.forEach(function(i){return i.broadcastActive()}),n.length>0},r.prototype.connect_=function(){!isBrowser||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),mutationObserverSupported?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},r.prototype.disconnect_=function(){!isBrowser||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},r.prototype.onTransitionEnd_=function(n){var i=n.propertyName,o=i===void 0?"":i,a=transitionKeys.some(function(u){return!!~o.indexOf(u)});a&&this.refresh()},r.getInstance=function(){return this.instance_||(this.instance_=new r),this.instance_},r.instance_=null,r}(),defineConfigurable=function(r,n){for(var i=0,o=Object.keys(n);i<o.length;i++){var a=o[i];Object.defineProperty(r,a,{value:n[a],enumerable:!1,writable:!1,configurable:!0})}return r},getWindowOf=function(r){var n=r&&r.ownerDocument&&r.ownerDocument.defaultView;return n||global$1},emptyRect=createRectInit(0,0,0,0);function toFloat(r){return parseFloat(r)||0}function getBordersSize(r){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];return n.reduce(function(o,a){var u=r["border-"+a+"-width"];return o+toFloat(u)},0)}function getPaddings(r){for(var n=["top","right","bottom","left"],i={},o=0,a=n;o<a.length;o++){var u=a[o],c=r["padding-"+u];i[u]=toFloat(c)}return i}function getSVGContentRect(r){var n=r.getBBox();return createRectInit(0,0,n.width,n.height)}function getHTMLElementContentRect(r){var n=r.clientWidth,i=r.clientHeight;if(!n&&!i)return emptyRect;var o=getWindowOf(r).getComputedStyle(r),a=getPaddings(o),u=a.left+a.right,c=a.top+a.bottom,f=toFloat(o.width),d=toFloat(o.height);if(o.boxSizing==="border-box"&&(Math.round(f+u)!==n&&(f-=getBordersSize(o,"left","right")+u),Math.round(d+c)!==i&&(d-=getBordersSize(o,"top","bottom")+c)),!isDocumentElement(r)){var p=Math.round(f+u)-n,h=Math.round(d+c)-i;Math.abs(p)!==1&&(f-=p),Math.abs(h)!==1&&(d-=h)}return createRectInit(a.left,a.top,f,d)}var isSVGGraphicsElement=function(){return typeof SVGGraphicsElement<"u"?function(r){return r instanceof getWindowOf(r).SVGGraphicsElement}:function(r){return r instanceof getWindowOf(r).SVGElement&&typeof r.getBBox=="function"}}();function isDocumentElement(r){return r===getWindowOf(r).document.documentElement}function getContentRect(r){return isBrowser?isSVGGraphicsElement(r)?getSVGContentRect(r):getHTMLElementContentRect(r):emptyRect}function createReadOnlyRect(r){var n=r.x,i=r.y,o=r.width,a=r.height,u=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,c=Object.create(u.prototype);return defineConfigurable(c,{x:n,y:i,width:o,height:a,top:i,right:n+o,bottom:a+i,left:n}),c}function createRectInit(r,n,i,o){return{x:r,y:n,width:i,height:o}}var ResizeObservation=function(){function r(n){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=createRectInit(0,0,0,0),this.target=n}return r.prototype.isActive=function(){var n=getContentRect(this.target);return this.contentRect_=n,n.width!==this.broadcastWidth||n.height!==this.broadcastHeight},r.prototype.broadcastRect=function(){var n=this.contentRect_;return this.broadcastWidth=n.width,this.broadcastHeight=n.height,n},r}(),ResizeObserverEntry=function(){function r(n,i){var o=createReadOnlyRect(i);defineConfigurable(this,{target:n,contentRect:o})}return r}(),ResizeObserverSPI=function(){function r(n,i,o){if(this.activeObservations_=[],this.observations_=new MapShim,typeof n!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=n,this.controller_=i,this.callbackCtx_=o}return r.prototype.observe=function(n){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(n instanceof getWindowOf(n).Element))throw new TypeError('parameter 1 is not of type "Element".');var i=this.observations_;i.has(n)||(i.set(n,new ResizeObservation(n)),this.controller_.addObserver(this),this.controller_.refresh())}},r.prototype.unobserve=function(n){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(n instanceof getWindowOf(n).Element))throw new TypeError('parameter 1 is not of type "Element".');var i=this.observations_;i.has(n)&&(i.delete(n),i.size||this.controller_.removeObserver(this))}},r.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},r.prototype.gatherActive=function(){var n=this;this.clearActive(),this.observations_.forEach(function(i){i.isActive()&&n.activeObservations_.push(i)})},r.prototype.broadcastActive=function(){if(this.hasActive()){var n=this.callbackCtx_,i=this.activeObservations_.map(function(o){return new ResizeObserverEntry(o.target,o.broadcastRect())});this.callback_.call(n,i,n),this.clearActive()}},r.prototype.clearActive=function(){this.activeObservations_.splice(0)},r.prototype.hasActive=function(){return this.activeObservations_.length>0},r}(),observers=typeof WeakMap<"u"?new WeakMap:new MapShim,ResizeObserver$1=function(){function r(n){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var i=ResizeObserverController.getInstance(),o=new ResizeObserverSPI(n,i,this);observers.set(this,o)}return r}();["observe","unobserve","disconnect"].forEach(function(r){ResizeObserver$1.prototype[r]=function(){var n;return(n=observers.get(this))[r].apply(n,arguments)}});var index$1=function(){return typeof global$1.ResizeObserver<"u"?global$1.ResizeObserver:ResizeObserver$1}();const Events=["blur","input","change","changeSelectionStyle","changeSession","copy","focus","paste"],VAceEditor=vue.defineComponent({props:{value:{type:String,required:!0},lang:{type:String,default:"text"},theme:{type:String,default:"chrome"},options:Object,placeholder:String,readonly:Boolean,wrap:Boolean,printMargin:{type:[Boolean,Number],default:!0},minLines:Number,maxLines:Number},emits:["update:value","init",...Events],render(){return vue.h("div")},mounted(){const r=this._editor=vue.markRaw(ace.edit(this.$el,{placeholder:this.placeholder,readOnly:this.readonly,value:this.value,mode:"ace/mode/"+this.lang,theme:"ace/theme/"+this.theme,wrap:this.wrap,printMargin:this.printMargin,useWorker:!1,minLines:this.minLines,maxLines:this.maxLines,...this.options}));this._contentBackup=this.value,this._isSettingContent=!1,r.on("change",()=>{if(this._isSettingContent)return;const n=r.getValue();this._contentBackup=n,this.$emit("update:value",n)}),Events.forEach(n=>{const i="on"+vue.capitalize(n);typeof this.$.vnode.props[i]=="function"&&r.on(n,this.$emit.bind(this,n))}),this._ro=new index$1(()=>r.resize()),this._ro.observe(this.$el),this.$emit("init",r)},beforeUnmount(){var r,n;(r=this._ro)===null||r===void 0||r.disconnect(),(n=this._editor)===null||n===void 0||n.destroy()},methods:{focus(){this._editor.focus()},blur(){this._editor.blur()},selectAll(){this._editor.selectAll()}},watch:{value(r){if(this._contentBackup!==r){try{this._isSettingContent=!0,this._editor.setValue(r,1)}finally{this._isSettingContent=!1}this._contentBackup=r}},theme(r){this._editor.setTheme("ace/theme/"+r)},options(r){this._editor.setOptions(r)},readonly(r){this._editor.setReadOnly(r)},placeholder(r){this._editor.setOption("placeholder",r)},wrap(r){this._editor.setWrapBehavioursEnabled(r)},printMargin(r){this._editor.setOption("printMargin",r)},lang(r){this._editor.setOption("mode","ace/mode/"+r)},minLines(r){this._editor.setOption("minLines",r)},maxLines(r){this._editor.setOption("maxLines",r)}}}),themeUrl2="data:application/javascript;base64,YWNlLmRlZmluZSgiYWNlL3RoZW1lL2tyX3RoZW1lLmNzcyIsWyJyZXF1aXJlIiwiZXhwb3J0cyIsIm1vZHVsZSJdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpe21vZHVsZS5leHBvcnRzID0gIi5hY2Uta3ItdGhlbWUgLmFjZV9ndXR0ZXIge1xuICBiYWNrZ3JvdW5kOiAjMWMxOTE3O1xuICBjb2xvcjogI0ZDRkZFMFxufVxuXG4uYWNlLWtyLXRoZW1lIC5hY2VfcHJpbnQtbWFyZ2luIHtcbiAgd2lkdGg6IDFweDtcbiAgYmFja2dyb3VuZDogIzFjMTkxN1xufVxuXG4uYWNlLWtyLXRoZW1lIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzBCMEEwOTtcbiAgY29sb3I6ICNGQ0ZGRTBcbn1cblxuLmFjZS1rci10aGVtZSAuYWNlX2N1cnNvciB7XG4gIGNvbG9yOiAjRkY5OTAwXG59XG5cbi5hY2Uta3ItdGhlbWUgLmFjZV9tYXJrZXItbGF5ZXIgLmFjZV9zZWxlY3Rpb24ge1xuICBiYWNrZ3JvdW5kOiByZ2JhKDE3MCwgMCwgMjU1LCAwLjQ1KVxufVxuXG4uYWNlLWtyLXRoZW1lLmFjZV9tdWx0aXNlbGVjdCAuYWNlX3NlbGVjdGlvbi5hY2Vfc3RhcnQge1xuICBib3gtc2hhZG93OiAwIDAgM3B4IDBweCAjMEIwQTA5O1xufVxuXG4uYWNlLWtyLXRoZW1lIC5hY2VfbWFya2VyLWxheWVyIC5hY2Vfc3RlcCB7XG4gIGJhY2tncm91bmQ6IHJnYigxMDIsIDgyLCAwKVxufVxuXG4uYWNlLWtyLXRoZW1lIC5hY2VfbWFya2VyLWxheWVyIC5hY2VfYnJhY2tldCB7XG4gIG1hcmdpbjogLTFweCAwIDAgLTFweDtcbiAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgyNTUsIDE3NywgMTExLCAwLjMyKVxufVxuXG4uYWNlLWtyLXRoZW1lIC5hY2VfbWFya2VyLWxheWVyIC5hY2VfYWN0aXZlLWxpbmUge1xuICBiYWNrZ3JvdW5kOiAjMzg0MDNEXG59XG5cbi5hY2Uta3ItdGhlbWUgLmFjZV9ndXR0ZXItYWN0aXZlLWxpbmUge1xuICBiYWNrZ3JvdW5kLWNvbG9yIDogIzM4NDAzRFxufVxuXG4uYWNlLWtyLXRoZW1lIC5hY2VfbWFya2VyLWxheWVyIC5hY2Vfc2VsZWN0ZWQtd29yZCB7XG4gIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMTcwLCAwLCAyNTUsIDAuNDUpXG59XG5cbi5hY2Uta3ItdGhlbWUgLmFjZV9pbnZpc2libGUge1xuICBjb2xvcjogcmdiYSgyNTUsIDE3NywgMTExLCAwLjMyKVxufVxuXG4uYWNlLWtyLXRoZW1lIC5hY2Vfa2V5d29yZCxcbi5hY2Uta3ItdGhlbWUgLmFjZV9tZXRhIHtcbiAgY29sb3I6ICM5NDlDOEJcbn1cblxuLmFjZS1rci10aGVtZSAuYWNlX2NvbnN0YW50LFxuLmFjZS1rci10aGVtZSAuYWNlX2NvbnN0YW50LmFjZV9jaGFyYWN0ZXIsXG4uYWNlLWtyLXRoZW1lIC5hY2VfY29uc3RhbnQuYWNlX2NoYXJhY3Rlci5hY2VfZXNjYXBlLFxuLmFjZS1rci10aGVtZSAuYWNlX2NvbnN0YW50LmFjZV9vdGhlciB7XG4gIGNvbG9yOiByZ2JhKDIxMCwgMTE3LCAyNCwgMC43Nilcbn1cblxuLmFjZS1rci10aGVtZSAuYWNlX2ludmFsaWQge1xuICBjb2xvcjogI0Y4RjhGODtcbiAgYmFja2dyb3VuZC1jb2xvcjogI0E0MTMwMFxufVxuXG4uYWNlLWtyLXRoZW1lIC5hY2Vfc3VwcG9ydCB7XG4gIGNvbG9yOiAjOUZDMjhBXG59XG5cbi5hY2Uta3ItdGhlbWUgLmFjZV9zdXBwb3J0LmFjZV9jb25zdGFudCB7XG4gIGNvbG9yOiAjQzI3RTY2XG59XG5cbi5hY2Uta3ItdGhlbWUgLmFjZV9mb2xkIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzk0OUM4QjtcbiAgYm9yZGVyLWNvbG9yOiAjRkNGRkUwXG59XG5cbi5hY2Uta3ItdGhlbWUgLmFjZV9zdXBwb3J0LmFjZV9mdW5jdGlvbiB7XG4gIGNvbG9yOiAjODU4NzNBXG59XG5cbi5hY2Uta3ItdGhlbWUgLmFjZV9zdG9yYWdlIHtcbiAgY29sb3I6ICNGRkVFODBcbn1cblxuLmFjZS1rci10aGVtZSAuYWNlX3N0cmluZyB7XG4gIGNvbG9yOiByZ2JhKDE2NCwgMTYxLCAxODEsIDAuOClcbn1cblxuLmFjZS1rci10aGVtZSAuYWNlX3N0cmluZy5hY2VfcmVnZXhwIHtcbiAgY29sb3I6IHJnYmEoMTI1LCAyNTUsIDE5MiwgMC42NSlcbn1cblxuLmFjZS1rci10aGVtZSAuYWNlX2NvbW1lbnQge1xuICBmb250LXN0eWxlOiBpdGFsaWM7XG4gIGNvbG9yOiAjNzA2RDVCXG59XG5cbi5hY2Uta3ItdGhlbWUgLmFjZV92YXJpYWJsZSB7XG4gIGNvbG9yOiAjRDFBNzk2XG59XG5cbi5hY2Uta3ItdGhlbWUgLmFjZV9saXN0LFxuLmFjZS1rci10aGVtZSAuYWNlX21hcmt1cC5hY2VfbGlzdCB7XG4gIGJhY2tncm91bmQtY29sb3I6ICMwRjAwNDBcbn1cblxuLmFjZS1rci10aGVtZSAuYWNlX3ZhcmlhYmxlLmFjZV9sYW5ndWFnZSB7XG4gIGNvbG9yOiAjRkY4MEUxXG59XG5cbi5hY2Uta3ItdGhlbWUgLmFjZV9tZXRhLmFjZV90YWcge1xuICBjb2xvcjogI0JBQkQ5Q1xufVxuXG4uYWNlLWtyLXRoZW1lIC5hY2VfaW5kZW50LWd1aWRlIHtcbiAgYmFja2dyb3VuZDogdXJsKGRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQUVBQUFBQ0NBWUFBQUNaZ2JZbkFBQUFFa2xFUVZRSW1XTmdZR0JnWUZCWFYvOFBBQUpvQVhYNGtUMkVBQUFBQUVsRlRrU3VRbUNDKSByaWdodCByZXBlYXQteVxufVxuXG4uYWNlLWtyLXRoZW1lIC5hY2VfaW5kZW50LWd1aWRlLWFjdGl2ZSB7XG4gIGJhY2tncm91bmQ6IHVybChcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQUVBQUFBQ0NBWUFBQUNaZ2JZbkFBQUFDWEJJV1hNQUFBc1RBQUFMRXdFQW1wd1lBQUFBSUdOSVVrMEFBSG9sQUFDQWd3QUErZjhBQUlEcEFBQjFNQUFBNm1BQUFEcVlBQUFYYjVKZnhVWUFBQUFaU1VSQlZIamFZdmovLy85L2hpdkt5djhCQUFBQS8vOERBQ0xxQmhidmsrL2VBQUFBQUVsRlRrU3VRbUNDXCIpIHJpZ2h0IHJlcGVhdC15O1xufVxuIjsKCn0pOwoKYWNlLmRlZmluZSgiYWNlL3RoZW1lL2tyX3RoZW1lIixbInJlcXVpcmUiLCJleHBvcnRzIiwibW9kdWxlIiwiYWNlL3RoZW1lL2tyX3RoZW1lLmNzcyIsImFjZS9saWIvZG9tIl0sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSl7ZXhwb3J0cy5pc0RhcmsgPSB0cnVlOwpleHBvcnRzLmNzc0NsYXNzID0gImFjZS1rci10aGVtZSI7CmV4cG9ydHMuY3NzVGV4dCA9IHJlcXVpcmUoIi4va3JfdGhlbWUuY3NzIik7CnZhciBkb20gPSByZXF1aXJlKCIuLi9saWIvZG9tIik7CmRvbS5pbXBvcnRDc3NTdHJpbmcoZXhwb3J0cy5jc3NUZXh0LCBleHBvcnRzLmNzc0NsYXNzLCBmYWxzZSk7Cgp9KTsgICAgICAgICAgICAgICAgKGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgIGFjZS5yZXF1aXJlKFsiYWNlL3RoZW1lL2tyX3RoZW1lIl0sIGZ1bmN0aW9uKG0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtb2R1bGUgPT0gIm9iamVjdCIgJiYgdHlwZW9mIGV4cG9ydHMgPT0gIm9iamVjdCIgJiYgbW9kdWxlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IG07CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pKCk7CiAgICAgICAgICAgIA==",modeJsonUrl="data:application/javascript;base64,YWNlLmRlZmluZSgiYWNlL21vZGUvanNvbl9oaWdobGlnaHRfcnVsZXMiLFsicmVxdWlyZSIsImV4cG9ydHMiLCJtb2R1bGUiLCJhY2UvbGliL29vcCIsImFjZS9tb2RlL3RleHRfaGlnaGxpZ2h0X3J1bGVzIl0sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSl7InVzZSBzdHJpY3QiOwp2YXIgb29wID0gcmVxdWlyZSgiLi4vbGliL29vcCIpOwp2YXIgVGV4dEhpZ2hsaWdodFJ1bGVzID0gcmVxdWlyZSgiLi90ZXh0X2hpZ2hsaWdodF9ydWxlcyIpLlRleHRIaWdobGlnaHRSdWxlczsKdmFyIEpzb25IaWdobGlnaHRSdWxlcyA9IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuJHJ1bGVzID0gewogICAgICAgICJzdGFydCI6IFsKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdG9rZW46ICJ2YXJpYWJsZSIsCiAgICAgICAgICAgICAgICByZWdleDogJ1siXSg/Oig/OlxcXFwuKXwoPzpbXiJcXFxcXSkpKj9bIl1cXHMqKD89OiknCiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgIHRva2VuOiAic3RyaW5nIiwKICAgICAgICAgICAgICAgIHJlZ2V4OiAnIicsCiAgICAgICAgICAgICAgICBuZXh0OiAic3RyaW5nIgogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICB0b2tlbjogImNvbnN0YW50Lm51bWVyaWMiLAogICAgICAgICAgICAgICAgcmVnZXg6ICIwW3hYXVswLTlhLWZBLUZdK1xcYiIKICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgdG9rZW46ICJjb25zdGFudC5udW1lcmljIiwKICAgICAgICAgICAgICAgIHJlZ2V4OiAiWystXT9cXGQrKD86KD86XFwuXFxkKik/KD86W2VFXVsrLV0/XFxkKyk/KT9cXGIiCiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgIHRva2VuOiAiY29uc3RhbnQubGFuZ3VhZ2UuYm9vbGVhbiIsCiAgICAgICAgICAgICAgICByZWdleDogIig/OnRydWV8ZmFsc2UpXFxiIgogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICB0b2tlbjogInRleHQiLAogICAgICAgICAgICAgICAgcmVnZXg6ICJbJ10oPzooPzpcXFxcLil8KD86W14nXFxcXF0pKSo/WyddIgogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICB0b2tlbjogImNvbW1lbnQiLAogICAgICAgICAgICAgICAgcmVnZXg6ICJcXC9cXC8uKiQiCiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgIHRva2VuOiAiY29tbWVudC5zdGFydCIsCiAgICAgICAgICAgICAgICByZWdleDogIlxcL1xcKiIsCiAgICAgICAgICAgICAgICBuZXh0OiAiY29tbWVudCIKICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgdG9rZW46ICJwYXJlbi5scGFyZW4iLAogICAgICAgICAgICAgICAgcmVnZXg6ICJbWyh7XSIKICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgdG9rZW46ICJwYXJlbi5ycGFyZW4iLAogICAgICAgICAgICAgICAgcmVnZXg6ICJbXFxdKX1dIgogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICB0b2tlbjogInB1bmN0dWF0aW9uLm9wZXJhdG9yIiwKICAgICAgICAgICAgICAgIHJlZ2V4OiAvWyxdLwogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICB0b2tlbjogInRleHQiLAogICAgICAgICAgICAgICAgcmVnZXg6ICJcXHMrIgogICAgICAgICAgICB9CiAgICAgICAgXSwKICAgICAgICAic3RyaW5nIjogWwogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB0b2tlbjogImNvbnN0YW50Lmxhbmd1YWdlLmVzY2FwZSIsCiAgICAgICAgICAgICAgICByZWdleDogL1xcKD86eFswLTlhLWZBLUZdezJ9fHVbMC05YS1mQS1GXXs0fXxbIlxcXC9iZm5ydF0pLwogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICB0b2tlbjogInN0cmluZyIsCiAgICAgICAgICAgICAgICByZWdleDogJyJ8JCcsCiAgICAgICAgICAgICAgICBuZXh0OiAic3RhcnQiCiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgIGRlZmF1bHRUb2tlbjogInN0cmluZyIKICAgICAgICAgICAgfQogICAgICAgIF0sCiAgICAgICAgImNvbW1lbnQiOiBbCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHRva2VuOiAiY29tbWVudC5lbmQiLAogICAgICAgICAgICAgICAgcmVnZXg6ICJcXCpcXC8iLAogICAgICAgICAgICAgICAgbmV4dDogInN0YXJ0IgogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICBkZWZhdWx0VG9rZW46ICJjb21tZW50IgogICAgICAgICAgICB9CiAgICAgICAgXQogICAgfTsKfTsKb29wLmluaGVyaXRzKEpzb25IaWdobGlnaHRSdWxlcywgVGV4dEhpZ2hsaWdodFJ1bGVzKTsKZXhwb3J0cy5Kc29uSGlnaGxpZ2h0UnVsZXMgPSBKc29uSGlnaGxpZ2h0UnVsZXM7Cgp9KTsKCmFjZS5kZWZpbmUoImFjZS9tb2RlL21hdGNoaW5nX2JyYWNlX291dGRlbnQiLFsicmVxdWlyZSIsImV4cG9ydHMiLCJtb2R1bGUiLCJhY2UvcmFuZ2UiXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKXsidXNlIHN0cmljdCI7CnZhciBSYW5nZSA9IHJlcXVpcmUoIi4uL3JhbmdlIikuUmFuZ2U7CnZhciBNYXRjaGluZ0JyYWNlT3V0ZGVudCA9IGZ1bmN0aW9uICgpIHsgfTsKKGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuY2hlY2tPdXRkZW50ID0gZnVuY3Rpb24gKGxpbmUsIGlucHV0KSB7CiAgICAgICAgaWYgKCEvXlxzKyQvLnRlc3QobGluZSkpCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICByZXR1cm4gL15ccypcfS8udGVzdChpbnB1dCk7CiAgICB9OwogICAgdGhpcy5hdXRvT3V0ZGVudCA9IGZ1bmN0aW9uIChkb2MsIHJvdykgewogICAgICAgIHZhciBsaW5lID0gZG9jLmdldExpbmUocm93KTsKICAgICAgICB2YXIgbWF0Y2ggPSBsaW5lLm1hdGNoKC9eKFxzKlx9KS8pOwogICAgICAgIGlmICghbWF0Y2gpCiAgICAgICAgICAgIHJldHVybiAwOwogICAgICAgIHZhciBjb2x1bW4gPSBtYXRjaFsxXS5sZW5ndGg7CiAgICAgICAgdmFyIG9wZW5CcmFjZVBvcyA9IGRvYy5maW5kTWF0Y2hpbmdCcmFja2V0KHsgcm93OiByb3csIGNvbHVtbjogY29sdW1uIH0pOwogICAgICAgIGlmICghb3BlbkJyYWNlUG9zIHx8IG9wZW5CcmFjZVBvcy5yb3cgPT0gcm93KQogICAgICAgICAgICByZXR1cm4gMDsKICAgICAgICB2YXIgaW5kZW50ID0gdGhpcy4kZ2V0SW5kZW50KGRvYy5nZXRMaW5lKG9wZW5CcmFjZVBvcy5yb3cpKTsKICAgICAgICBkb2MucmVwbGFjZShuZXcgUmFuZ2Uocm93LCAwLCByb3csIGNvbHVtbiAtIDEpLCBpbmRlbnQpOwogICAgfTsKICAgIHRoaXMuJGdldEluZGVudCA9IGZ1bmN0aW9uIChsaW5lKSB7CiAgICAgICAgcmV0dXJuIGxpbmUubWF0Y2goL15ccyovKVswXTsKICAgIH07Cn0pLmNhbGwoTWF0Y2hpbmdCcmFjZU91dGRlbnQucHJvdG90eXBlKTsKZXhwb3J0cy5NYXRjaGluZ0JyYWNlT3V0ZGVudCA9IE1hdGNoaW5nQnJhY2VPdXRkZW50OwoKfSk7CgphY2UuZGVmaW5lKCJhY2UvbW9kZS9mb2xkaW5nL2NzdHlsZSIsWyJyZXF1aXJlIiwiZXhwb3J0cyIsIm1vZHVsZSIsImFjZS9saWIvb29wIiwiYWNlL3JhbmdlIiwiYWNlL21vZGUvZm9sZGluZy9mb2xkX21vZGUiXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKXsidXNlIHN0cmljdCI7CnZhciBvb3AgPSByZXF1aXJlKCIuLi8uLi9saWIvb29wIik7CnZhciBSYW5nZSA9IHJlcXVpcmUoIi4uLy4uL3JhbmdlIikuUmFuZ2U7CnZhciBCYXNlRm9sZE1vZGUgPSByZXF1aXJlKCIuL2ZvbGRfbW9kZSIpLkZvbGRNb2RlOwp2YXIgRm9sZE1vZGUgPSBleHBvcnRzLkZvbGRNb2RlID0gZnVuY3Rpb24gKGNvbW1lbnRSZWdleCkgewogICAgaWYgKGNvbW1lbnRSZWdleCkgewogICAgICAgIHRoaXMuZm9sZGluZ1N0YXJ0TWFya2VyID0gbmV3IFJlZ0V4cCh0aGlzLmZvbGRpbmdTdGFydE1hcmtlci5zb3VyY2UucmVwbGFjZSgvXHxbXnxdKj8kLywgInwiICsgY29tbWVudFJlZ2V4LnN0YXJ0KSk7CiAgICAgICAgdGhpcy5mb2xkaW5nU3RvcE1hcmtlciA9IG5ldyBSZWdFeHAodGhpcy5mb2xkaW5nU3RvcE1hcmtlci5zb3VyY2UucmVwbGFjZSgvXHxbXnxdKj8kLywgInwiICsgY29tbWVudFJlZ2V4LmVuZCkpOwogICAgfQp9Owpvb3AuaW5oZXJpdHMoRm9sZE1vZGUsIEJhc2VGb2xkTW9kZSk7CihmdW5jdGlvbiAoKSB7CiAgICB0aGlzLmZvbGRpbmdTdGFydE1hcmtlciA9IC8oW1x7XFtcKF0pW15cfVxdXCldKiR8XlxzKihcL1wqKS87CiAgICB0aGlzLmZvbGRpbmdTdG9wTWFya2VyID0gL15bXlxbXHtcKF0qKFtcfVxdXCldKXxeW1xzXCpdKihcKlwvKS87CiAgICB0aGlzLnNpbmdsZUxpbmVCbG9ja0NvbW1lbnRSZSA9IC9eXHMqKFwvXCopLipcKlwvXHMqJC87CiAgICB0aGlzLnRyaXBsZVN0YXJCbG9ja0NvbW1lbnRSZSA9IC9eXHMqKFwvXCpcKlwqKS4qXCpcL1xzKiQvOwogICAgdGhpcy5zdGFydFJlZ2lvblJlID0gL15ccyooXC9cKnxcL1wvKSM/cmVnaW9uXGIvOwogICAgdGhpcy5fZ2V0Rm9sZFdpZGdldEJhc2UgPSB0aGlzLmdldEZvbGRXaWRnZXQ7CiAgICB0aGlzLmdldEZvbGRXaWRnZXQgPSBmdW5jdGlvbiAoc2Vzc2lvbiwgZm9sZFN0eWxlLCByb3cpIHsKICAgICAgICB2YXIgbGluZSA9IHNlc3Npb24uZ2V0TGluZShyb3cpOwogICAgICAgIGlmICh0aGlzLnNpbmdsZUxpbmVCbG9ja0NvbW1lbnRSZS50ZXN0KGxpbmUpKSB7CiAgICAgICAgICAgIGlmICghdGhpcy5zdGFydFJlZ2lvblJlLnRlc3QobGluZSkgJiYgIXRoaXMudHJpcGxlU3RhckJsb2NrQ29tbWVudFJlLnRlc3QobGluZSkpCiAgICAgICAgICAgICAgICByZXR1cm4gIiI7CiAgICAgICAgfQogICAgICAgIHZhciBmdyA9IHRoaXMuX2dldEZvbGRXaWRnZXRCYXNlKHNlc3Npb24sIGZvbGRTdHlsZSwgcm93KTsKICAgICAgICBpZiAoIWZ3ICYmIHRoaXMuc3RhcnRSZWdpb25SZS50ZXN0KGxpbmUpKQogICAgICAgICAgICByZXR1cm4gInN0YXJ0IjsgLy8gbGluZUNvbW1lbnRSZWdpb25TdGFydAogICAgICAgIHJldHVybiBmdzsKICAgIH07CiAgICB0aGlzLmdldEZvbGRXaWRnZXRSYW5nZSA9IGZ1bmN0aW9uIChzZXNzaW9uLCBmb2xkU3R5bGUsIHJvdywgZm9yY2VNdWx0aWxpbmUpIHsKICAgICAgICB2YXIgbGluZSA9IHNlc3Npb24uZ2V0TGluZShyb3cpOwogICAgICAgIGlmICh0aGlzLnN0YXJ0UmVnaW9uUmUudGVzdChsaW5lKSkKICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q29tbWVudFJlZ2lvbkJsb2NrKHNlc3Npb24sIGxpbmUsIHJvdyk7CiAgICAgICAgdmFyIG1hdGNoID0gbGluZS5tYXRjaCh0aGlzLmZvbGRpbmdTdGFydE1hcmtlcik7CiAgICAgICAgaWYgKG1hdGNoKSB7CiAgICAgICAgICAgIHZhciBpID0gbWF0Y2guaW5kZXg7CiAgICAgICAgICAgIGlmIChtYXRjaFsxXSkKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm9wZW5pbmdCcmFja2V0QmxvY2soc2Vzc2lvbiwgbWF0Y2hbMV0sIHJvdywgaSk7CiAgICAgICAgICAgIHZhciByYW5nZSA9IHNlc3Npb24uZ2V0Q29tbWVudEZvbGRSYW5nZShyb3csIGkgKyBtYXRjaFswXS5sZW5ndGgsIDEpOwogICAgICAgICAgICBpZiAocmFuZ2UgJiYgIXJhbmdlLmlzTXVsdGlMaW5lKCkpIHsKICAgICAgICAgICAgICAgIGlmIChmb3JjZU11bHRpbGluZSkgewogICAgICAgICAgICAgICAgICAgIHJhbmdlID0gdGhpcy5nZXRTZWN0aW9uUmFuZ2Uoc2Vzc2lvbiwgcm93KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgaWYgKGZvbGRTdHlsZSAhPSAiYWxsIikKICAgICAgICAgICAgICAgICAgICByYW5nZSA9IG51bGw7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHJhbmdlOwogICAgICAgIH0KICAgICAgICBpZiAoZm9sZFN0eWxlID09PSAibWFya2JlZ2luIikKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIHZhciBtYXRjaCA9IGxpbmUubWF0Y2godGhpcy5mb2xkaW5nU3RvcE1hcmtlcik7CiAgICAgICAgaWYgKG1hdGNoKSB7CiAgICAgICAgICAgIHZhciBpID0gbWF0Y2guaW5kZXggKyBtYXRjaFswXS5sZW5ndGg7CiAgICAgICAgICAgIGlmIChtYXRjaFsxXSkKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNsb3NpbmdCcmFja2V0QmxvY2soc2Vzc2lvbiwgbWF0Y2hbMV0sIHJvdywgaSk7CiAgICAgICAgICAgIHJldHVybiBzZXNzaW9uLmdldENvbW1lbnRGb2xkUmFuZ2Uocm93LCBpLCAtMSk7CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMuZ2V0U2VjdGlvblJhbmdlID0gZnVuY3Rpb24gKHNlc3Npb24sIHJvdykgewogICAgICAgIHZhciBsaW5lID0gc2Vzc2lvbi5nZXRMaW5lKHJvdyk7CiAgICAgICAgdmFyIHN0YXJ0SW5kZW50ID0gbGluZS5zZWFyY2goL1xTLyk7CiAgICAgICAgdmFyIHN0YXJ0Um93ID0gcm93OwogICAgICAgIHZhciBzdGFydENvbHVtbiA9IGxpbmUubGVuZ3RoOwogICAgICAgIHJvdyA9IHJvdyArIDE7CiAgICAgICAgdmFyIGVuZFJvdyA9IHJvdzsKICAgICAgICB2YXIgbWF4Um93ID0gc2Vzc2lvbi5nZXRMZW5ndGgoKTsKICAgICAgICB3aGlsZSAoKytyb3cgPCBtYXhSb3cpIHsKICAgICAgICAgICAgbGluZSA9IHNlc3Npb24uZ2V0TGluZShyb3cpOwogICAgICAgICAgICB2YXIgaW5kZW50ID0gbGluZS5zZWFyY2goL1xTLyk7CiAgICAgICAgICAgIGlmIChpbmRlbnQgPT09IC0xKQogICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgIGlmIChzdGFydEluZGVudCA+IGluZGVudCkKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB2YXIgc3ViUmFuZ2UgPSB0aGlzLmdldEZvbGRXaWRnZXRSYW5nZShzZXNzaW9uLCAiYWxsIiwgcm93KTsKICAgICAgICAgICAgaWYgKHN1YlJhbmdlKSB7CiAgICAgICAgICAgICAgICBpZiAoc3ViUmFuZ2Uuc3RhcnQucm93IDw9IHN0YXJ0Um93KSB7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIGlmIChzdWJSYW5nZS5pc011bHRpTGluZSgpKSB7CiAgICAgICAgICAgICAgICAgICAgcm93ID0gc3ViUmFuZ2UuZW5kLnJvdzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgaWYgKHN0YXJ0SW5kZW50ID09IGluZGVudCkgewogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVuZFJvdyA9IHJvdzsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIG5ldyBSYW5nZShzdGFydFJvdywgc3RhcnRDb2x1bW4sIGVuZFJvdywgc2Vzc2lvbi5nZXRMaW5lKGVuZFJvdykubGVuZ3RoKTsKICAgIH07CiAgICB0aGlzLmdldENvbW1lbnRSZWdpb25CbG9jayA9IGZ1bmN0aW9uIChzZXNzaW9uLCBsaW5lLCByb3cpIHsKICAgICAgICB2YXIgc3RhcnRDb2x1bW4gPSBsaW5lLnNlYXJjaCgvXHMqJC8pOwogICAgICAgIHZhciBtYXhSb3cgPSBzZXNzaW9uLmdldExlbmd0aCgpOwogICAgICAgIHZhciBzdGFydFJvdyA9IHJvdzsKICAgICAgICB2YXIgcmUgPSAvXlxzKig/OlwvXCp8XC9cL3wtLSkjPyhlbmQpP3JlZ2lvblxiLzsKICAgICAgICB2YXIgZGVwdGggPSAxOwogICAgICAgIHdoaWxlICgrK3JvdyA8IG1heFJvdykgewogICAgICAgICAgICBsaW5lID0gc2Vzc2lvbi5nZXRMaW5lKHJvdyk7CiAgICAgICAgICAgIHZhciBtID0gcmUuZXhlYyhsaW5lKTsKICAgICAgICAgICAgaWYgKCFtKQogICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgIGlmIChtWzFdKQogICAgICAgICAgICAgICAgZGVwdGgtLTsKICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgZGVwdGgrKzsKICAgICAgICAgICAgaWYgKCFkZXB0aCkKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgICB2YXIgZW5kUm93ID0gcm93OwogICAgICAgIGlmIChlbmRSb3cgPiBzdGFydFJvdykgewogICAgICAgICAgICByZXR1cm4gbmV3IFJhbmdlKHN0YXJ0Um93LCBzdGFydENvbHVtbiwgZW5kUm93LCBsaW5lLmxlbmd0aCk7CiAgICAgICAgfQogICAgfTsKfSkuY2FsbChGb2xkTW9kZS5wcm90b3R5cGUpOwoKfSk7CgphY2UuZGVmaW5lKCJhY2UvbW9kZS9qc29uIixbInJlcXVpcmUiLCJleHBvcnRzIiwibW9kdWxlIiwiYWNlL2xpYi9vb3AiLCJhY2UvbW9kZS90ZXh0IiwiYWNlL21vZGUvanNvbl9oaWdobGlnaHRfcnVsZXMiLCJhY2UvbW9kZS9tYXRjaGluZ19icmFjZV9vdXRkZW50IiwiYWNlL21vZGUvYmVoYXZpb3VyL2NzdHlsZSIsImFjZS9tb2RlL2ZvbGRpbmcvY3N0eWxlIiwiYWNlL3dvcmtlci93b3JrZXJfY2xpZW50Il0sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSl7InVzZSBzdHJpY3QiOwp2YXIgb29wID0gcmVxdWlyZSgiLi4vbGliL29vcCIpOwp2YXIgVGV4dE1vZGUgPSByZXF1aXJlKCIuL3RleHQiKS5Nb2RlOwp2YXIgSGlnaGxpZ2h0UnVsZXMgPSByZXF1aXJlKCIuL2pzb25faGlnaGxpZ2h0X3J1bGVzIikuSnNvbkhpZ2hsaWdodFJ1bGVzOwp2YXIgTWF0Y2hpbmdCcmFjZU91dGRlbnQgPSByZXF1aXJlKCIuL21hdGNoaW5nX2JyYWNlX291dGRlbnQiKS5NYXRjaGluZ0JyYWNlT3V0ZGVudDsKdmFyIENzdHlsZUJlaGF2aW91ciA9IHJlcXVpcmUoIi4vYmVoYXZpb3VyL2NzdHlsZSIpLkNzdHlsZUJlaGF2aW91cjsKdmFyIENTdHlsZUZvbGRNb2RlID0gcmVxdWlyZSgiLi9mb2xkaW5nL2NzdHlsZSIpLkZvbGRNb2RlOwp2YXIgV29ya2VyQ2xpZW50ID0gcmVxdWlyZSgiLi4vd29ya2VyL3dvcmtlcl9jbGllbnQiKS5Xb3JrZXJDbGllbnQ7CnZhciBNb2RlID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy5IaWdobGlnaHRSdWxlcyA9IEhpZ2hsaWdodFJ1bGVzOwogICAgdGhpcy4kb3V0ZGVudCA9IG5ldyBNYXRjaGluZ0JyYWNlT3V0ZGVudCgpOwogICAgdGhpcy4kYmVoYXZpb3VyID0gbmV3IENzdHlsZUJlaGF2aW91cigpOwogICAgdGhpcy5mb2xkaW5nUnVsZXMgPSBuZXcgQ1N0eWxlRm9sZE1vZGUoKTsKfTsKb29wLmluaGVyaXRzKE1vZGUsIFRleHRNb2RlKTsKKGZ1bmN0aW9uICgpIHsKICAgIHRoaXMubGluZUNvbW1lbnRTdGFydCA9ICIvLyI7CiAgICB0aGlzLmJsb2NrQ29tbWVudCA9IHsgc3RhcnQ6ICIvKiIsIGVuZDogIiovIiB9OwogICAgdGhpcy5nZXROZXh0TGluZUluZGVudCA9IGZ1bmN0aW9uIChzdGF0ZSwgbGluZSwgdGFiKSB7CiAgICAgICAgdmFyIGluZGVudCA9IHRoaXMuJGdldEluZGVudChsaW5lKTsKICAgICAgICBpZiAoc3RhdGUgPT0gInN0YXJ0IikgewogICAgICAgICAgICB2YXIgbWF0Y2ggPSBsaW5lLm1hdGNoKC9eLipbXHtcKFxbXVxzKiQvKTsKICAgICAgICAgICAgaWYgKG1hdGNoKSB7CiAgICAgICAgICAgICAgICBpbmRlbnQgKz0gdGFiOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBpbmRlbnQ7CiAgICB9OwogICAgdGhpcy5jaGVja091dGRlbnQgPSBmdW5jdGlvbiAoc3RhdGUsIGxpbmUsIGlucHV0KSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJG91dGRlbnQuY2hlY2tPdXRkZW50KGxpbmUsIGlucHV0KTsKICAgIH07CiAgICB0aGlzLmF1dG9PdXRkZW50ID0gZnVuY3Rpb24gKHN0YXRlLCBkb2MsIHJvdykgewogICAgICAgIHRoaXMuJG91dGRlbnQuYXV0b091dGRlbnQoZG9jLCByb3cpOwogICAgfTsKICAgIHRoaXMuY3JlYXRlV29ya2VyID0gZnVuY3Rpb24gKHNlc3Npb24pIHsKICAgICAgICB2YXIgd29ya2VyID0gbmV3IFdvcmtlckNsaWVudChbImFjZSJdLCAiYWNlL21vZGUvanNvbl93b3JrZXIiLCAiSnNvbldvcmtlciIpOwogICAgICAgIHdvcmtlci5hdHRhY2hUb0RvY3VtZW50KHNlc3Npb24uZ2V0RG9jdW1lbnQoKSk7CiAgICAgICAgd29ya2VyLm9uKCJhbm5vdGF0ZSIsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIHNlc3Npb24uc2V0QW5ub3RhdGlvbnMoZS5kYXRhKTsKICAgICAgICB9KTsKICAgICAgICB3b3JrZXIub24oInRlcm1pbmF0ZSIsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgc2Vzc2lvbi5jbGVhckFubm90YXRpb25zKCk7CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIHdvcmtlcjsKICAgIH07CiAgICB0aGlzLiRpZCA9ICJhY2UvbW9kZS9qc29uIjsKfSkuY2FsbChNb2RlLnByb3RvdHlwZSk7CmV4cG9ydHMuTW9kZSA9IE1vZGU7Cgp9KTsgICAgICAgICAgICAgICAgKGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgIGFjZS5yZXF1aXJlKFsiYWNlL21vZGUvanNvbiJdLCBmdW5jdGlvbihtKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbW9kdWxlID09ICJvYmplY3QiICYmIHR5cGVvZiBleHBvcnRzID09ICJvYmplY3QiICYmIG1vZHVsZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBtOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KSgpOwogICAgICAgICAgICA=",workerJsonUrl="data:application/javascript;base64,Im5vIHVzZSBzdHJpY3QiOwohKGZ1bmN0aW9uKHdpbmRvdykgewppZiAodHlwZW9mIHdpbmRvdy53aW5kb3cgIT0gInVuZGVmaW5lZCIgJiYgd2luZG93LmRvY3VtZW50KQogICAgcmV0dXJuOwppZiAod2luZG93LnJlcXVpcmUgJiYgd2luZG93LmRlZmluZSkKICAgIHJldHVybjsKCmlmICghd2luZG93LmNvbnNvbGUpIHsKICAgIHdpbmRvdy5jb25zb2xlID0gZnVuY3Rpb24oKSB7CiAgICAgICAgdmFyIG1zZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDApOwogICAgICAgIHBvc3RNZXNzYWdlKHt0eXBlOiAibG9nIiwgZGF0YTogbXNnc30pOwogICAgfTsKICAgIHdpbmRvdy5jb25zb2xlLmVycm9yID0KICAgIHdpbmRvdy5jb25zb2xlLndhcm4gPSAKICAgIHdpbmRvdy5jb25zb2xlLmxvZyA9CiAgICB3aW5kb3cuY29uc29sZS50cmFjZSA9IHdpbmRvdy5jb25zb2xlOwp9CndpbmRvdy53aW5kb3cgPSB3aW5kb3c7CndpbmRvdy5hY2UgPSB3aW5kb3c7Cgp3aW5kb3cub25lcnJvciA9IGZ1bmN0aW9uKG1lc3NhZ2UsIGZpbGUsIGxpbmUsIGNvbCwgZXJyKSB7CiAgICBwb3N0TWVzc2FnZSh7dHlwZTogImVycm9yIiwgZGF0YTogewogICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsCiAgICAgICAgZGF0YTogZXJyICYmIGVyci5kYXRhLAogICAgICAgIGZpbGU6IGZpbGUsCiAgICAgICAgbGluZTogbGluZSwgCiAgICAgICAgY29sOiBjb2wsCiAgICAgICAgc3RhY2s6IGVyciAmJiBlcnIuc3RhY2sKICAgIH19KTsKfTsKCndpbmRvdy5ub3JtYWxpemVNb2R1bGUgPSBmdW5jdGlvbihwYXJlbnRJZCwgbW9kdWxlTmFtZSkgewogICAgLy8gbm9ybWFsaXplIHBsdWdpbiByZXF1aXJlcwogICAgaWYgKG1vZHVsZU5hbWUuaW5kZXhPZigiISIpICE9PSAtMSkgewogICAgICAgIHZhciBjaHVua3MgPSBtb2R1bGVOYW1lLnNwbGl0KCIhIik7CiAgICAgICAgcmV0dXJuIHdpbmRvdy5ub3JtYWxpemVNb2R1bGUocGFyZW50SWQsIGNodW5rc1swXSkgKyAiISIgKyB3aW5kb3cubm9ybWFsaXplTW9kdWxlKHBhcmVudElkLCBjaHVua3NbMV0pOwogICAgfQogICAgLy8gbm9ybWFsaXplIHJlbGF0aXZlIHJlcXVpcmVzCiAgICBpZiAobW9kdWxlTmFtZS5jaGFyQXQoMCkgPT0gIi4iKSB7CiAgICAgICAgdmFyIGJhc2UgPSBwYXJlbnRJZC5zcGxpdCgiLyIpLnNsaWNlKDAsIC0xKS5qb2luKCIvIik7CiAgICAgICAgbW9kdWxlTmFtZSA9IChiYXNlID8gYmFzZSArICIvIiA6ICIiKSArIG1vZHVsZU5hbWU7CiAgICAgICAgCiAgICAgICAgd2hpbGUgKG1vZHVsZU5hbWUuaW5kZXhPZigiLiIpICE9PSAtMSAmJiBwcmV2aW91cyAhPSBtb2R1bGVOYW1lKSB7CiAgICAgICAgICAgIHZhciBwcmV2aW91cyA9IG1vZHVsZU5hbWU7CiAgICAgICAgICAgIG1vZHVsZU5hbWUgPSBtb2R1bGVOYW1lLnJlcGxhY2UoL15cLlwvLywgIiIpLnJlcGxhY2UoL1wvXC5cLy8sICIvIikucmVwbGFjZSgvW15cL10rXC9cLlwuXC8vLCAiIik7CiAgICAgICAgfQogICAgfQogICAgCiAgICByZXR1cm4gbW9kdWxlTmFtZTsKfTsKCndpbmRvdy5yZXF1aXJlID0gZnVuY3Rpb24gcmVxdWlyZShwYXJlbnRJZCwgaWQpIHsKICAgIGlmICghaWQpIHsKICAgICAgICBpZCA9IHBhcmVudElkOwogICAgICAgIHBhcmVudElkID0gbnVsbDsKICAgIH0KICAgIGlmICghaWQuY2hhckF0KQogICAgICAgIHRocm93IG5ldyBFcnJvcigid29ya2VyLmpzIHJlcXVpcmUoKSBhY2NlcHRzIG9ubHkgKHBhcmVudElkLCBpZCkgYXMgYXJndW1lbnRzIik7CgogICAgaWQgPSB3aW5kb3cubm9ybWFsaXplTW9kdWxlKHBhcmVudElkLCBpZCk7CgogICAgdmFyIG1vZHVsZSA9IHdpbmRvdy5yZXF1aXJlLm1vZHVsZXNbaWRdOwogICAgaWYgKG1vZHVsZSkgewogICAgICAgIGlmICghbW9kdWxlLmluaXRpYWxpemVkKSB7CiAgICAgICAgICAgIG1vZHVsZS5pbml0aWFsaXplZCA9IHRydWU7CiAgICAgICAgICAgIG1vZHVsZS5leHBvcnRzID0gbW9kdWxlLmZhY3RvcnkoKS5leHBvcnRzOwogICAgICAgIH0KICAgICAgICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7CiAgICB9CiAgIAogICAgaWYgKCF3aW5kb3cucmVxdWlyZS50bG5zKQogICAgICAgIHJldHVybiBjb25zb2xlLmxvZygidW5hYmxlIHRvIGxvYWQgIiArIGlkKTsKICAgIAogICAgdmFyIHBhdGggPSByZXNvbHZlTW9kdWxlSWQoaWQsIHdpbmRvdy5yZXF1aXJlLnRsbnMpOwogICAgaWYgKHBhdGguc2xpY2UoLTMpICE9ICIuanMiKSBwYXRoICs9ICIuanMiOwogICAgCiAgICB3aW5kb3cucmVxdWlyZS5pZCA9IGlkOwogICAgd2luZG93LnJlcXVpcmUubW9kdWxlc1tpZF0gPSB7fTsgLy8gcHJldmVudCBpbmZpbml0ZSBsb29wIG9uIGJyb2tlbiBtb2R1bGVzCiAgICBpbXBvcnRTY3JpcHRzKHBhdGgpOwogICAgcmV0dXJuIHdpbmRvdy5yZXF1aXJlKHBhcmVudElkLCBpZCk7Cn07CmZ1bmN0aW9uIHJlc29sdmVNb2R1bGVJZChpZCwgcGF0aHMpIHsKICAgIHZhciB0ZXN0UGF0aCA9IGlkLCB0YWlsID0gIiI7CiAgICB3aGlsZSAodGVzdFBhdGgpIHsKICAgICAgICB2YXIgYWxpYXMgPSBwYXRoc1t0ZXN0UGF0aF07CiAgICAgICAgaWYgKHR5cGVvZiBhbGlhcyA9PSAic3RyaW5nIikgewogICAgICAgICAgICByZXR1cm4gYWxpYXMgKyB0YWlsOwogICAgICAgIH0gZWxzZSBpZiAoYWxpYXMpIHsKICAgICAgICAgICAgcmV0dXJuICBhbGlhcy5sb2NhdGlvbi5yZXBsYWNlKC9cLyokLywgIi8iKSArICh0YWlsIHx8IGFsaWFzLm1haW4gfHwgYWxpYXMubmFtZSk7CiAgICAgICAgfSBlbHNlIGlmIChhbGlhcyA9PT0gZmFsc2UpIHsKICAgICAgICAgICAgcmV0dXJuICIiOwogICAgICAgIH0KICAgICAgICB2YXIgaSA9IHRlc3RQYXRoLmxhc3RJbmRleE9mKCIvIik7CiAgICAgICAgaWYgKGkgPT09IC0xKSBicmVhazsKICAgICAgICB0YWlsID0gdGVzdFBhdGguc3Vic3RyKGkpICsgdGFpbDsKICAgICAgICB0ZXN0UGF0aCA9IHRlc3RQYXRoLnNsaWNlKDAsIGkpOwogICAgfQogICAgcmV0dXJuIGlkOwp9CndpbmRvdy5yZXF1aXJlLm1vZHVsZXMgPSB7fTsKd2luZG93LnJlcXVpcmUudGxucyA9IHt9OwoKd2luZG93LmRlZmluZSA9IGZ1bmN0aW9uKGlkLCBkZXBzLCBmYWN0b3J5KSB7CiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PSAyKSB7CiAgICAgICAgZmFjdG9yeSA9IGRlcHM7CiAgICAgICAgaWYgKHR5cGVvZiBpZCAhPSAic3RyaW5nIikgewogICAgICAgICAgICBkZXBzID0gaWQ7CiAgICAgICAgICAgIGlkID0gd2luZG93LnJlcXVpcmUuaWQ7CiAgICAgICAgfQogICAgfSBlbHNlIGlmIChhcmd1bWVudHMubGVuZ3RoID09IDEpIHsKICAgICAgICBmYWN0b3J5ID0gaWQ7CiAgICAgICAgZGVwcyA9IFtdOwogICAgICAgIGlkID0gd2luZG93LnJlcXVpcmUuaWQ7CiAgICB9CiAgICAKICAgIGlmICh0eXBlb2YgZmFjdG9yeSAhPSAiZnVuY3Rpb24iKSB7CiAgICAgICAgd2luZG93LnJlcXVpcmUubW9kdWxlc1tpZF0gPSB7CiAgICAgICAgICAgIGV4cG9ydHM6IGZhY3RvcnksCiAgICAgICAgICAgIGluaXRpYWxpemVkOiB0cnVlCiAgICAgICAgfTsKICAgICAgICByZXR1cm47CiAgICB9CgogICAgaWYgKCFkZXBzLmxlbmd0aCkKICAgICAgICAvLyBJZiB0aGVyZSBpcyBubyBkZXBlbmRlbmNpZXMsIHdlIGluamVjdCAicmVxdWlyZSIsICJleHBvcnRzIiBhbmQKICAgICAgICAvLyAibW9kdWxlIiBhcyBkZXBlbmRlbmNpZXMsIHRvIHByb3ZpZGUgQ29tbW9uSlMgY29tcGF0aWJpbGl0eS4KICAgICAgICBkZXBzID0gWyJyZXF1aXJlIiwgImV4cG9ydHMiLCAibW9kdWxlIl07CgogICAgdmFyIHJlcSA9IGZ1bmN0aW9uKGNoaWxkSWQpIHsKICAgICAgICByZXR1cm4gd2luZG93LnJlcXVpcmUoaWQsIGNoaWxkSWQpOwogICAgfTsKCiAgICB3aW5kb3cucmVxdWlyZS5tb2R1bGVzW2lkXSA9IHsKICAgICAgICBleHBvcnRzOiB7fSwKICAgICAgICBmYWN0b3J5OiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgdmFyIG1vZHVsZSA9IHRoaXM7CiAgICAgICAgICAgIHZhciByZXR1cm5FeHBvcnRzID0gZmFjdG9yeS5hcHBseSh0aGlzLCBkZXBzLnNsaWNlKDAsIGZhY3RvcnkubGVuZ3RoKS5tYXAoZnVuY3Rpb24oZGVwKSB7CiAgICAgICAgICAgICAgICBzd2l0Y2ggKGRlcCkgewogICAgICAgICAgICAgICAgICAgIC8vIEJlY2F1c2UgInJlcXVpcmUiLCAiZXhwb3J0cyIgYW5kICJtb2R1bGUiIGFyZW4ndCBhY3R1YWwKICAgICAgICAgICAgICAgICAgICAvLyBkZXBlbmRlbmNpZXMsIHdlIG11c3QgaGFuZGxlIHRoZW0gc2VwZXJhdGVseS4KICAgICAgICAgICAgICAgICAgICBjYXNlICJyZXF1aXJlIjogcmV0dXJuIHJlcTsKICAgICAgICAgICAgICAgICAgICBjYXNlICJleHBvcnRzIjogcmV0dXJuIG1vZHVsZS5leHBvcnRzOwogICAgICAgICAgICAgICAgICAgIGNhc2UgIm1vZHVsZSI6ICByZXR1cm4gbW9kdWxlOwogICAgICAgICAgICAgICAgICAgIC8vIEJ1dCBmb3IgYWxsIG90aGVyIGRlcGVuZGVuY2llcywgd2UgY2FuIGp1c3QgZ28gYWhlYWQgYW5kCiAgICAgICAgICAgICAgICAgICAgLy8gcmVxdWlyZSB0aGVtLgogICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6ICAgICAgICByZXR1cm4gcmVxKGRlcCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pKTsKICAgICAgICAgICAgaWYgKHJldHVybkV4cG9ydHMpCiAgICAgICAgICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IHJldHVybkV4cG9ydHM7CiAgICAgICAgICAgIHJldHVybiBtb2R1bGU7CiAgICAgICAgfQogICAgfTsKfTsKd2luZG93LmRlZmluZS5hbWQgPSB7fTsKd2luZG93LnJlcXVpcmUudGxucyA9IHt9Owp3aW5kb3cuaW5pdEJhc2VVcmxzICA9IGZ1bmN0aW9uIGluaXRCYXNlVXJscyh0b3BMZXZlbE5hbWVzcGFjZXMpIHsKICAgIGZvciAodmFyIGkgaW4gdG9wTGV2ZWxOYW1lc3BhY2VzKQogICAgICAgIHRoaXMucmVxdWlyZS50bG5zW2ldID0gdG9wTGV2ZWxOYW1lc3BhY2VzW2ldOwp9OwoKd2luZG93LmluaXRTZW5kZXIgPSBmdW5jdGlvbiBpbml0U2VuZGVyKCkgewoKICAgIHZhciBFdmVudEVtaXR0ZXIgPSB3aW5kb3cucmVxdWlyZSgiYWNlL2xpYi9ldmVudF9lbWl0dGVyIikuRXZlbnRFbWl0dGVyOwogICAgdmFyIG9vcCA9IHdpbmRvdy5yZXF1aXJlKCJhY2UvbGliL29vcCIpOwogICAgCiAgICB2YXIgU2VuZGVyID0gZnVuY3Rpb24oKSB7fTsKICAgIAogICAgKGZ1bmN0aW9uKCkgewogICAgICAgIAogICAgICAgIG9vcC5pbXBsZW1lbnQodGhpcywgRXZlbnRFbWl0dGVyKTsKICAgICAgICAgICAgICAgIAogICAgICAgIHRoaXMuY2FsbGJhY2sgPSBmdW5jdGlvbihkYXRhLCBjYWxsYmFja0lkKSB7CiAgICAgICAgICAgIHBvc3RNZXNzYWdlKHsKICAgICAgICAgICAgICAgIHR5cGU6ICJjYWxsIiwKICAgICAgICAgICAgICAgIGlkOiBjYWxsYmFja0lkLAogICAgICAgICAgICAgICAgZGF0YTogZGF0YQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgCiAgICAgICAgdGhpcy5lbWl0ID0gZnVuY3Rpb24obmFtZSwgZGF0YSkgewogICAgICAgICAgICBwb3N0TWVzc2FnZSh7CiAgICAgICAgICAgICAgICB0eXBlOiAiZXZlbnQiLAogICAgICAgICAgICAgICAgbmFtZTogbmFtZSwKICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEKICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICAKICAgIH0pLmNhbGwoU2VuZGVyLnByb3RvdHlwZSk7CiAgICAKICAgIHJldHVybiBuZXcgU2VuZGVyKCk7Cn07Cgp2YXIgbWFpbiA9IHdpbmRvdy5tYWluID0gbnVsbDsKdmFyIHNlbmRlciA9IHdpbmRvdy5zZW5kZXIgPSBudWxsOwoKd2luZG93Lm9ubWVzc2FnZSA9IGZ1bmN0aW9uKGUpIHsKICAgIHZhciBtc2cgPSBlLmRhdGE7CiAgICBpZiAobXNnLmV2ZW50ICYmIHNlbmRlcikgewogICAgICAgIHNlbmRlci5fc2lnbmFsKG1zZy5ldmVudCwgbXNnLmRhdGEpOwogICAgfQogICAgZWxzZSBpZiAobXNnLmNvbW1hbmQpIHsKICAgICAgICBpZiAobWFpblttc2cuY29tbWFuZF0pCiAgICAgICAgICAgIG1haW5bbXNnLmNvbW1hbmRdLmFwcGx5KG1haW4sIG1zZy5hcmdzKTsKICAgICAgICBlbHNlIGlmICh3aW5kb3dbbXNnLmNvbW1hbmRdKQogICAgICAgICAgICB3aW5kb3dbbXNnLmNvbW1hbmRdLmFwcGx5KHdpbmRvdywgbXNnLmFyZ3MpOwogICAgICAgIGVsc2UKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJVbmtub3duIGNvbW1hbmQ6IiArIG1zZy5jb21tYW5kKTsKICAgIH0KICAgIGVsc2UgaWYgKG1zZy5pbml0KSB7CiAgICAgICAgd2luZG93LmluaXRCYXNlVXJscyhtc2cudGxucyk7CiAgICAgICAgc2VuZGVyID0gd2luZG93LnNlbmRlciA9IHdpbmRvdy5pbml0U2VuZGVyKCk7CiAgICAgICAgdmFyIGNsYXp6ID0gdGhpcy5yZXF1aXJlKG1zZy5tb2R1bGUpW21zZy5jbGFzc25hbWVdOwogICAgICAgIG1haW4gPSB3aW5kb3cubWFpbiA9IG5ldyBjbGF6eihzZW5kZXIpOwogICAgfQp9Owp9KSh0aGlzKTsKCmFjZS5kZWZpbmUoImFjZS9saWIvb29wIixbXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKXsidXNlIHN0cmljdCI7CmV4cG9ydHMuaW5oZXJpdHMgPSBmdW5jdGlvbiAoY3Rvciwgc3VwZXJDdG9yKSB7CiAgICBjdG9yLnN1cGVyXyA9IHN1cGVyQ3RvcjsKICAgIGN0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckN0b3IucHJvdG90eXBlLCB7CiAgICAgICAgY29uc3RydWN0b3I6IHsKICAgICAgICAgICAgdmFsdWU6IGN0b3IsCiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLAogICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSwKICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlCiAgICAgICAgfQogICAgfSk7Cn07CmV4cG9ydHMubWl4aW4gPSBmdW5jdGlvbiAob2JqLCBtaXhpbikgewogICAgZm9yICh2YXIga2V5IGluIG1peGluKSB7CiAgICAgICAgb2JqW2tleV0gPSBtaXhpbltrZXldOwogICAgfQogICAgcmV0dXJuIG9iajsKfTsKZXhwb3J0cy5pbXBsZW1lbnQgPSBmdW5jdGlvbiAocHJvdG8sIG1peGluKSB7CiAgICBleHBvcnRzLm1peGluKHByb3RvLCBtaXhpbik7Cn07Cgp9KTsKCmFjZS5kZWZpbmUoImFjZS9hcHBseV9kZWx0YSIsW10sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSl7InVzZSBzdHJpY3QiOwpmdW5jdGlvbiB0aHJvd0RlbHRhRXJyb3IoZGVsdGEsIGVycm9yVGV4dCkgewogICAgY29uc29sZS5sb2coIkludmFsaWQgRGVsdGE6IiwgZGVsdGEpOwogICAgdGhyb3cgIkludmFsaWQgRGVsdGE6ICIgKyBlcnJvclRleHQ7Cn0KZnVuY3Rpb24gcG9zaXRpb25JbkRvY3VtZW50KGRvY0xpbmVzLCBwb3NpdGlvbikgewogICAgcmV0dXJuIHBvc2l0aW9uLnJvdyA+PSAwICYmIHBvc2l0aW9uLnJvdyA8IGRvY0xpbmVzLmxlbmd0aCAmJgogICAgICAgIHBvc2l0aW9uLmNvbHVtbiA+PSAwICYmIHBvc2l0aW9uLmNvbHVtbiA8PSBkb2NMaW5lc1twb3NpdGlvbi5yb3ddLmxlbmd0aDsKfQpmdW5jdGlvbiB2YWxpZGF0ZURlbHRhKGRvY0xpbmVzLCBkZWx0YSkgewogICAgaWYgKGRlbHRhLmFjdGlvbiAhPSAiaW5zZXJ0IiAmJiBkZWx0YS5hY3Rpb24gIT0gInJlbW92ZSIpCiAgICAgICAgdGhyb3dEZWx0YUVycm9yKGRlbHRhLCAiZGVsdGEuYWN0aW9uIG11c3QgYmUgJ2luc2VydCcgb3IgJ3JlbW92ZSciKTsKICAgIGlmICghKGRlbHRhLmxpbmVzIGluc3RhbmNlb2YgQXJyYXkpKQogICAgICAgIHRocm93RGVsdGFFcnJvcihkZWx0YSwgImRlbHRhLmxpbmVzIG11c3QgYmUgYW4gQXJyYXkiKTsKICAgIGlmICghZGVsdGEuc3RhcnQgfHwgIWRlbHRhLmVuZCkKICAgICAgICB0aHJvd0RlbHRhRXJyb3IoZGVsdGEsICJkZWx0YS5zdGFydC9lbmQgbXVzdCBiZSBhbiBwcmVzZW50Iik7CiAgICB2YXIgc3RhcnQgPSBkZWx0YS5zdGFydDsKICAgIGlmICghcG9zaXRpb25JbkRvY3VtZW50KGRvY0xpbmVzLCBkZWx0YS5zdGFydCkpCiAgICAgICAgdGhyb3dEZWx0YUVycm9yKGRlbHRhLCAiZGVsdGEuc3RhcnQgbXVzdCBiZSBjb250YWluZWQgaW4gZG9jdW1lbnQiKTsKICAgIHZhciBlbmQgPSBkZWx0YS5lbmQ7CiAgICBpZiAoZGVsdGEuYWN0aW9uID09ICJyZW1vdmUiICYmICFwb3NpdGlvbkluRG9jdW1lbnQoZG9jTGluZXMsIGVuZCkpCiAgICAgICAgdGhyb3dEZWx0YUVycm9yKGRlbHRhLCAiZGVsdGEuZW5kIG11c3QgY29udGFpbmVkIGluIGRvY3VtZW50IGZvciAncmVtb3ZlJyBhY3Rpb25zIik7CiAgICB2YXIgbnVtUmFuZ2VSb3dzID0gZW5kLnJvdyAtIHN0YXJ0LnJvdzsKICAgIHZhciBudW1SYW5nZUxhc3RMaW5lQ2hhcnMgPSAoZW5kLmNvbHVtbiAtIChudW1SYW5nZVJvd3MgPT0gMCA/IHN0YXJ0LmNvbHVtbiA6IDApKTsKICAgIGlmIChudW1SYW5nZVJvd3MgIT0gZGVsdGEubGluZXMubGVuZ3RoIC0gMSB8fCBkZWx0YS5saW5lc1tudW1SYW5nZVJvd3NdLmxlbmd0aCAhPSBudW1SYW5nZUxhc3RMaW5lQ2hhcnMpCiAgICAgICAgdGhyb3dEZWx0YUVycm9yKGRlbHRhLCAiZGVsdGEucmFuZ2UgbXVzdCBtYXRjaCBkZWx0YSBsaW5lcyIpOwp9CmV4cG9ydHMuYXBwbHlEZWx0YSA9IGZ1bmN0aW9uIChkb2NMaW5lcywgZGVsdGEsIGRvTm90VmFsaWRhdGUpIHsKICAgIHZhciByb3cgPSBkZWx0YS5zdGFydC5yb3c7CiAgICB2YXIgc3RhcnRDb2x1bW4gPSBkZWx0YS5zdGFydC5jb2x1bW47CiAgICB2YXIgbGluZSA9IGRvY0xpbmVzW3Jvd10gfHwgIiI7CiAgICBzd2l0Y2ggKGRlbHRhLmFjdGlvbikgewogICAgICAgIGNhc2UgImluc2VydCI6CiAgICAgICAgICAgIHZhciBsaW5lcyA9IGRlbHRhLmxpbmVzOwogICAgICAgICAgICBpZiAobGluZXMubGVuZ3RoID09PSAxKSB7CiAgICAgICAgICAgICAgICBkb2NMaW5lc1tyb3ddID0gbGluZS5zdWJzdHJpbmcoMCwgc3RhcnRDb2x1bW4pICsgZGVsdGEubGluZXNbMF0gKyBsaW5lLnN1YnN0cmluZyhzdGFydENvbHVtbik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICB2YXIgYXJncyA9IFtyb3csIDFdLmNvbmNhdChkZWx0YS5saW5lcyk7CiAgICAgICAgICAgICAgICBkb2NMaW5lcy5zcGxpY2UuYXBwbHkoZG9jTGluZXMsIGFyZ3MpOwogICAgICAgICAgICAgICAgZG9jTGluZXNbcm93XSA9IGxpbmUuc3Vic3RyaW5nKDAsIHN0YXJ0Q29sdW1uKSArIGRvY0xpbmVzW3Jvd107CiAgICAgICAgICAgICAgICBkb2NMaW5lc1tyb3cgKyBkZWx0YS5saW5lcy5sZW5ndGggLSAxXSArPSBsaW5lLnN1YnN0cmluZyhzdGFydENvbHVtbik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAicmVtb3ZlIjoKICAgICAgICAgICAgdmFyIGVuZENvbHVtbiA9IGRlbHRhLmVuZC5jb2x1bW47CiAgICAgICAgICAgIHZhciBlbmRSb3cgPSBkZWx0YS5lbmQucm93OwogICAgICAgICAgICBpZiAocm93ID09PSBlbmRSb3cpIHsKICAgICAgICAgICAgICAgIGRvY0xpbmVzW3Jvd10gPSBsaW5lLnN1YnN0cmluZygwLCBzdGFydENvbHVtbikgKyBsaW5lLnN1YnN0cmluZyhlbmRDb2x1bW4pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgZG9jTGluZXMuc3BsaWNlKHJvdywgZW5kUm93IC0gcm93ICsgMSwgbGluZS5zdWJzdHJpbmcoMCwgc3RhcnRDb2x1bW4pICsgZG9jTGluZXNbZW5kUm93XS5zdWJzdHJpbmcoZW5kQ29sdW1uKSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgYnJlYWs7CiAgICB9Cn07Cgp9KTsKCmFjZS5kZWZpbmUoImFjZS9saWIvZXZlbnRfZW1pdHRlciIsW10sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSl7InVzZSBzdHJpY3QiOwp2YXIgRXZlbnRFbWl0dGVyID0ge307CnZhciBzdG9wUHJvcGFnYXRpb24gPSBmdW5jdGlvbiAoKSB7IHRoaXMucHJvcGFnYXRpb25TdG9wcGVkID0gdHJ1ZTsgfTsKdmFyIHByZXZlbnREZWZhdWx0ID0gZnVuY3Rpb24gKCkgeyB0aGlzLmRlZmF1bHRQcmV2ZW50ZWQgPSB0cnVlOyB9OwpFdmVudEVtaXR0ZXIuX2VtaXQgPQogICAgRXZlbnRFbWl0dGVyLl9kaXNwYXRjaEV2ZW50ID0gZnVuY3Rpb24gKGV2ZW50TmFtZSwgZSkgewogICAgICAgIHRoaXMuX2V2ZW50UmVnaXN0cnkgfHwgKHRoaXMuX2V2ZW50UmVnaXN0cnkgPSB7fSk7CiAgICAgICAgdGhpcy5fZGVmYXVsdEhhbmRsZXJzIHx8ICh0aGlzLl9kZWZhdWx0SGFuZGxlcnMgPSB7fSk7CiAgICAgICAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50UmVnaXN0cnlbZXZlbnROYW1lXSB8fCBbXTsKICAgICAgICB2YXIgZGVmYXVsdEhhbmRsZXIgPSB0aGlzLl9kZWZhdWx0SGFuZGxlcnNbZXZlbnROYW1lXTsKICAgICAgICBpZiAoIWxpc3RlbmVycy5sZW5ndGggJiYgIWRlZmF1bHRIYW5kbGVyKQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgaWYgKHR5cGVvZiBlICE9ICJvYmplY3QiIHx8ICFlKQogICAgICAgICAgICBlID0ge307CiAgICAgICAgaWYgKCFlLnR5cGUpCiAgICAgICAgICAgIGUudHlwZSA9IGV2ZW50TmFtZTsKICAgICAgICBpZiAoIWUuc3RvcFByb3BhZ2F0aW9uKQogICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbiA9IHN0b3BQcm9wYWdhdGlvbjsKICAgICAgICBpZiAoIWUucHJldmVudERlZmF1bHQpCiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQgPSBwcmV2ZW50RGVmYXVsdDsKICAgICAgICBsaXN0ZW5lcnMgPSBsaXN0ZW5lcnMuc2xpY2UoKTsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBsaXN0ZW5lcnNbaV0oZSwgdGhpcyk7CiAgICAgICAgICAgIGlmIChlLnByb3BhZ2F0aW9uU3RvcHBlZCkKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgICBpZiAoZGVmYXVsdEhhbmRsZXIgJiYgIWUuZGVmYXVsdFByZXZlbnRlZCkKICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRIYW5kbGVyKGUsIHRoaXMpOwogICAgfTsKRXZlbnRFbWl0dGVyLl9zaWduYWwgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBlKSB7CiAgICB2YXIgbGlzdGVuZXJzID0gKHRoaXMuX2V2ZW50UmVnaXN0cnkgfHwge30pW2V2ZW50TmFtZV07CiAgICBpZiAoIWxpc3RlbmVycykKICAgICAgICByZXR1cm47CiAgICBsaXN0ZW5lcnMgPSBsaXN0ZW5lcnMuc2xpY2UoKTsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdGVuZXJzLmxlbmd0aDsgaSsrKQogICAgICAgIGxpc3RlbmVyc1tpXShlLCB0aGlzKTsKfTsKRXZlbnRFbWl0dGVyLm9uY2UgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBjYWxsYmFjaykgewogICAgdmFyIF9zZWxmID0gdGhpczsKICAgIHRoaXMub24oZXZlbnROYW1lLCBmdW5jdGlvbiBuZXdDYWxsYmFjaygpIHsKICAgICAgICBfc2VsZi5vZmYoZXZlbnROYW1lLCBuZXdDYWxsYmFjayk7CiAgICAgICAgY2FsbGJhY2suYXBwbHkobnVsbCwgYXJndW1lbnRzKTsKICAgIH0pOwogICAgaWYgKCFjYWxsYmFjaykgewogICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICBjYWxsYmFjayA9IHJlc29sdmU7CiAgICAgICAgfSk7CiAgICB9Cn07CkV2ZW50RW1pdHRlci5zZXREZWZhdWx0SGFuZGxlciA9IGZ1bmN0aW9uIChldmVudE5hbWUsIGNhbGxiYWNrKSB7CiAgICB2YXIgaGFuZGxlcnMgPSB0aGlzLl9kZWZhdWx0SGFuZGxlcnM7CiAgICBpZiAoIWhhbmRsZXJzKQogICAgICAgIGhhbmRsZXJzID0gdGhpcy5fZGVmYXVsdEhhbmRsZXJzID0geyBfZGlzYWJsZWRfOiB7fSB9OwogICAgaWYgKGhhbmRsZXJzW2V2ZW50TmFtZV0pIHsKICAgICAgICB2YXIgb2xkID0gaGFuZGxlcnNbZXZlbnROYW1lXTsKICAgICAgICB2YXIgZGlzYWJsZWQgPSBoYW5kbGVycy5fZGlzYWJsZWRfW2V2ZW50TmFtZV07CiAgICAgICAgaWYgKCFkaXNhYmxlZCkKICAgICAgICAgICAgaGFuZGxlcnMuX2Rpc2FibGVkX1tldmVudE5hbWVdID0gZGlzYWJsZWQgPSBbXTsKICAgICAgICBkaXNhYmxlZC5wdXNoKG9sZCk7CiAgICAgICAgdmFyIGkgPSBkaXNhYmxlZC5pbmRleE9mKGNhbGxiYWNrKTsKICAgICAgICBpZiAoaSAhPSAtMSkKICAgICAgICAgICAgZGlzYWJsZWQuc3BsaWNlKGksIDEpOwogICAgfQogICAgaGFuZGxlcnNbZXZlbnROYW1lXSA9IGNhbGxiYWNrOwp9OwpFdmVudEVtaXR0ZXIucmVtb3ZlRGVmYXVsdEhhbmRsZXIgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBjYWxsYmFjaykgewogICAgdmFyIGhhbmRsZXJzID0gdGhpcy5fZGVmYXVsdEhhbmRsZXJzOwogICAgaWYgKCFoYW5kbGVycykKICAgICAgICByZXR1cm47CiAgICB2YXIgZGlzYWJsZWQgPSBoYW5kbGVycy5fZGlzYWJsZWRfW2V2ZW50TmFtZV07CiAgICBpZiAoaGFuZGxlcnNbZXZlbnROYW1lXSA9PSBjYWxsYmFjaykgewogICAgICAgIGlmIChkaXNhYmxlZCkKICAgICAgICAgICAgdGhpcy5zZXREZWZhdWx0SGFuZGxlcihldmVudE5hbWUsIGRpc2FibGVkLnBvcCgpKTsKICAgIH0KICAgIGVsc2UgaWYgKGRpc2FibGVkKSB7CiAgICAgICAgdmFyIGkgPSBkaXNhYmxlZC5pbmRleE9mKGNhbGxiYWNrKTsKICAgICAgICBpZiAoaSAhPSAtMSkKICAgICAgICAgICAgZGlzYWJsZWQuc3BsaWNlKGksIDEpOwogICAgfQp9OwpFdmVudEVtaXR0ZXIub24gPQogICAgRXZlbnRFbWl0dGVyLmFkZEV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBjYWxsYmFjaywgY2FwdHVyaW5nKSB7CiAgICAgICAgdGhpcy5fZXZlbnRSZWdpc3RyeSA9IHRoaXMuX2V2ZW50UmVnaXN0cnkgfHwge307CiAgICAgICAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50UmVnaXN0cnlbZXZlbnROYW1lXTsKICAgICAgICBpZiAoIWxpc3RlbmVycykKICAgICAgICAgICAgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRSZWdpc3RyeVtldmVudE5hbWVdID0gW107CiAgICAgICAgaWYgKGxpc3RlbmVycy5pbmRleE9mKGNhbGxiYWNrKSA9PSAtMSkKICAgICAgICAgICAgbGlzdGVuZXJzW2NhcHR1cmluZyA/ICJ1bnNoaWZ0IiA6ICJwdXNoIl0oY2FsbGJhY2spOwogICAgICAgIHJldHVybiBjYWxsYmFjazsKICAgIH07CkV2ZW50RW1pdHRlci5vZmYgPQogICAgRXZlbnRFbWl0dGVyLnJlbW92ZUxpc3RlbmVyID0KICAgICAgICBFdmVudEVtaXR0ZXIucmVtb3ZlRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uIChldmVudE5hbWUsIGNhbGxiYWNrKSB7CiAgICAgICAgICAgIHRoaXMuX2V2ZW50UmVnaXN0cnkgPSB0aGlzLl9ldmVudFJlZ2lzdHJ5IHx8IHt9OwogICAgICAgICAgICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRSZWdpc3RyeVtldmVudE5hbWVdOwogICAgICAgICAgICBpZiAoIWxpc3RlbmVycykKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgdmFyIGluZGV4ID0gbGlzdGVuZXJzLmluZGV4T2YoY2FsbGJhY2spOwogICAgICAgICAgICBpZiAoaW5kZXggIT09IC0xKQogICAgICAgICAgICAgICAgbGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7CiAgICAgICAgfTsKRXZlbnRFbWl0dGVyLnJlbW92ZUFsbExpc3RlbmVycyA9IGZ1bmN0aW9uIChldmVudE5hbWUpIHsKICAgIGlmICghZXZlbnROYW1lKQogICAgICAgIHRoaXMuX2V2ZW50UmVnaXN0cnkgPSB0aGlzLl9kZWZhdWx0SGFuZGxlcnMgPSB1bmRlZmluZWQ7CiAgICBpZiAodGhpcy5fZXZlbnRSZWdpc3RyeSkKICAgICAgICB0aGlzLl9ldmVudFJlZ2lzdHJ5W2V2ZW50TmFtZV0gPSB1bmRlZmluZWQ7CiAgICBpZiAodGhpcy5fZGVmYXVsdEhhbmRsZXJzKQogICAgICAgIHRoaXMuX2RlZmF1bHRIYW5kbGVyc1tldmVudE5hbWVdID0gdW5kZWZpbmVkOwp9OwpleHBvcnRzLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjsKCn0pOwoKYWNlLmRlZmluZSgiYWNlL3JhbmdlIixbXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKXsidXNlIHN0cmljdCI7CnZhciBjb21wYXJlUG9pbnRzID0gZnVuY3Rpb24gKHAxLCBwMikgewogICAgcmV0dXJuIHAxLnJvdyAtIHAyLnJvdyB8fCBwMS5jb2x1bW4gLSBwMi5jb2x1bW47Cn07CnZhciBSYW5nZSA9IGZ1bmN0aW9uIChzdGFydFJvdywgc3RhcnRDb2x1bW4sIGVuZFJvdywgZW5kQ29sdW1uKSB7CiAgICB0aGlzLnN0YXJ0ID0gewogICAgICAgIHJvdzogc3RhcnRSb3csCiAgICAgICAgY29sdW1uOiBzdGFydENvbHVtbgogICAgfTsKICAgIHRoaXMuZW5kID0gewogICAgICAgIHJvdzogZW5kUm93LAogICAgICAgIGNvbHVtbjogZW5kQ29sdW1uCiAgICB9Owp9OwooZnVuY3Rpb24gKCkgewogICAgdGhpcy5pc0VxdWFsID0gZnVuY3Rpb24gKHJhbmdlKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuc3RhcnQucm93ID09PSByYW5nZS5zdGFydC5yb3cgJiYKICAgICAgICAgICAgdGhpcy5lbmQucm93ID09PSByYW5nZS5lbmQucm93ICYmCiAgICAgICAgICAgIHRoaXMuc3RhcnQuY29sdW1uID09PSByYW5nZS5zdGFydC5jb2x1bW4gJiYKICAgICAgICAgICAgdGhpcy5lbmQuY29sdW1uID09PSByYW5nZS5lbmQuY29sdW1uOwogICAgfTsKICAgIHRoaXMudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuICgiUmFuZ2U6IFsiICsgdGhpcy5zdGFydC5yb3cgKyAiLyIgKyB0aGlzLnN0YXJ0LmNvbHVtbiArCiAgICAgICAgICAgICJdIC0+IFsiICsgdGhpcy5lbmQucm93ICsgIi8iICsgdGhpcy5lbmQuY29sdW1uICsgIl0iKTsKICAgIH07CiAgICB0aGlzLmNvbnRhaW5zID0gZnVuY3Rpb24gKHJvdywgY29sdW1uKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuY29tcGFyZShyb3csIGNvbHVtbikgPT0gMDsKICAgIH07CiAgICB0aGlzLmNvbXBhcmVSYW5nZSA9IGZ1bmN0aW9uIChyYW5nZSkgewogICAgICAgIHZhciBjbXAsIGVuZCA9IHJhbmdlLmVuZCwgc3RhcnQgPSByYW5nZS5zdGFydDsKICAgICAgICBjbXAgPSB0aGlzLmNvbXBhcmUoZW5kLnJvdywgZW5kLmNvbHVtbik7CiAgICAgICAgaWYgKGNtcCA9PSAxKSB7CiAgICAgICAgICAgIGNtcCA9IHRoaXMuY29tcGFyZShzdGFydC5yb3csIHN0YXJ0LmNvbHVtbik7CiAgICAgICAgICAgIGlmIChjbXAgPT0gMSkgewogICAgICAgICAgICAgICAgcmV0dXJuIDI7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSBpZiAoY21wID09IDApIHsKICAgICAgICAgICAgICAgIHJldHVybiAxOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZWxzZSBpZiAoY21wID09IC0xKSB7CiAgICAgICAgICAgIHJldHVybiAtMjsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIGNtcCA9IHRoaXMuY29tcGFyZShzdGFydC5yb3csIHN0YXJ0LmNvbHVtbik7CiAgICAgICAgICAgIGlmIChjbXAgPT0gLTEpIHsKICAgICAgICAgICAgICAgIHJldHVybiAtMTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIGlmIChjbXAgPT0gMSkgewogICAgICAgICAgICAgICAgcmV0dXJuIDQyOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9OwogICAgdGhpcy5jb21wYXJlUG9pbnQgPSBmdW5jdGlvbiAocCkgewogICAgICAgIHJldHVybiB0aGlzLmNvbXBhcmUocC5yb3csIHAuY29sdW1uKTsKICAgIH07CiAgICB0aGlzLmNvbnRhaW5zUmFuZ2UgPSBmdW5jdGlvbiAocmFuZ2UpIHsKICAgICAgICByZXR1cm4gdGhpcy5jb21wYXJlUG9pbnQocmFuZ2Uuc3RhcnQpID09IDAgJiYgdGhpcy5jb21wYXJlUG9pbnQocmFuZ2UuZW5kKSA9PSAwOwogICAgfTsKICAgIHRoaXMuaW50ZXJzZWN0cyA9IGZ1bmN0aW9uIChyYW5nZSkgewogICAgICAgIHZhciBjbXAgPSB0aGlzLmNvbXBhcmVSYW5nZShyYW5nZSk7CiAgICAgICAgcmV0dXJuIChjbXAgPT0gLTEgfHwgY21wID09IDAgfHwgY21wID09IDEpOwogICAgfTsKICAgIHRoaXMuaXNFbmQgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICByZXR1cm4gdGhpcy5lbmQucm93ID09IHJvdyAmJiB0aGlzLmVuZC5jb2x1bW4gPT0gY29sdW1uOwogICAgfTsKICAgIHRoaXMuaXNTdGFydCA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICAgIHJldHVybiB0aGlzLnN0YXJ0LnJvdyA9PSByb3cgJiYgdGhpcy5zdGFydC5jb2x1bW4gPT0gY29sdW1uOwogICAgfTsKICAgIHRoaXMuc2V0U3RhcnQgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICBpZiAodHlwZW9mIHJvdyA9PSAib2JqZWN0IikgewogICAgICAgICAgICB0aGlzLnN0YXJ0LmNvbHVtbiA9IHJvdy5jb2x1bW47CiAgICAgICAgICAgIHRoaXMuc3RhcnQucm93ID0gcm93LnJvdzsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIHRoaXMuc3RhcnQucm93ID0gcm93OwogICAgICAgICAgICB0aGlzLnN0YXJ0LmNvbHVtbiA9IGNvbHVtbjsKICAgICAgICB9CiAgICB9OwogICAgdGhpcy5zZXRFbmQgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICBpZiAodHlwZW9mIHJvdyA9PSAib2JqZWN0IikgewogICAgICAgICAgICB0aGlzLmVuZC5jb2x1bW4gPSByb3cuY29sdW1uOwogICAgICAgICAgICB0aGlzLmVuZC5yb3cgPSByb3cucm93OwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgdGhpcy5lbmQucm93ID0gcm93OwogICAgICAgICAgICB0aGlzLmVuZC5jb2x1bW4gPSBjb2x1bW47CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMuaW5zaWRlID0gZnVuY3Rpb24gKHJvdywgY29sdW1uKSB7CiAgICAgICAgaWYgKHRoaXMuY29tcGFyZShyb3csIGNvbHVtbikgPT0gMCkgewogICAgICAgICAgICBpZiAodGhpcy5pc0VuZChyb3csIGNvbHVtbikgfHwgdGhpcy5pc1N0YXJ0KHJvdywgY29sdW1uKSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfTsKICAgIHRoaXMuaW5zaWRlU3RhcnQgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICBpZiAodGhpcy5jb21wYXJlKHJvdywgY29sdW1uKSA9PSAwKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmlzRW5kKHJvdywgY29sdW1uKSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfTsKICAgIHRoaXMuaW5zaWRlRW5kID0gZnVuY3Rpb24gKHJvdywgY29sdW1uKSB7CiAgICAgICAgaWYgKHRoaXMuY29tcGFyZShyb3csIGNvbHVtbikgPT0gMCkgewogICAgICAgICAgICBpZiAodGhpcy5pc1N0YXJ0KHJvdywgY29sdW1uKSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfTsKICAgIHRoaXMuY29tcGFyZSA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICAgIGlmICghdGhpcy5pc011bHRpTGluZSgpKSB7CiAgICAgICAgICAgIGlmIChyb3cgPT09IHRoaXMuc3RhcnQucm93KSB7CiAgICAgICAgICAgICAgICByZXR1cm4gY29sdW1uIDwgdGhpcy5zdGFydC5jb2x1bW4gPyAtMSA6IChjb2x1bW4gPiB0aGlzLmVuZC5jb2x1bW4gPyAxIDogMCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKHJvdyA8IHRoaXMuc3RhcnQucm93KQogICAgICAgICAgICByZXR1cm4gLTE7CiAgICAgICAgaWYgKHJvdyA+IHRoaXMuZW5kLnJvdykKICAgICAgICAgICAgcmV0dXJuIDE7CiAgICAgICAgaWYgKHRoaXMuc3RhcnQucm93ID09PSByb3cpCiAgICAgICAgICAgIHJldHVybiBjb2x1bW4gPj0gdGhpcy5zdGFydC5jb2x1bW4gPyAwIDogLTE7CiAgICAgICAgaWYgKHRoaXMuZW5kLnJvdyA9PT0gcm93KQogICAgICAgICAgICByZXR1cm4gY29sdW1uIDw9IHRoaXMuZW5kLmNvbHVtbiA/IDAgOiAxOwogICAgICAgIHJldHVybiAwOwogICAgfTsKICAgIHRoaXMuY29tcGFyZVN0YXJ0ID0gZnVuY3Rpb24gKHJvdywgY29sdW1uKSB7CiAgICAgICAgaWYgKHRoaXMuc3RhcnQucm93ID09IHJvdyAmJiB0aGlzLnN0YXJ0LmNvbHVtbiA9PSBjb2x1bW4pIHsKICAgICAgICAgICAgcmV0dXJuIC0xOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29tcGFyZShyb3csIGNvbHVtbik7CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMuY29tcGFyZUVuZCA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICAgIGlmICh0aGlzLmVuZC5yb3cgPT0gcm93ICYmIHRoaXMuZW5kLmNvbHVtbiA9PSBjb2x1bW4pIHsKICAgICAgICAgICAgcmV0dXJuIDE7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICByZXR1cm4gdGhpcy5jb21wYXJlKHJvdywgY29sdW1uKTsKICAgICAgICB9CiAgICB9OwogICAgdGhpcy5jb21wYXJlSW5zaWRlID0gZnVuY3Rpb24gKHJvdywgY29sdW1uKSB7CiAgICAgICAgaWYgKHRoaXMuZW5kLnJvdyA9PSByb3cgJiYgdGhpcy5lbmQuY29sdW1uID09IGNvbHVtbikgewogICAgICAgICAgICByZXR1cm4gMTsKICAgICAgICB9CiAgICAgICAgZWxzZSBpZiAodGhpcy5zdGFydC5yb3cgPT0gcm93ICYmIHRoaXMuc3RhcnQuY29sdW1uID09IGNvbHVtbikgewogICAgICAgICAgICByZXR1cm4gLTE7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICByZXR1cm4gdGhpcy5jb21wYXJlKHJvdywgY29sdW1uKTsKICAgICAgICB9CiAgICB9OwogICAgdGhpcy5jbGlwUm93cyA9IGZ1bmN0aW9uIChmaXJzdFJvdywgbGFzdFJvdykgewogICAgICAgIGlmICh0aGlzLmVuZC5yb3cgPiBsYXN0Um93KQogICAgICAgICAgICB2YXIgZW5kID0geyByb3c6IGxhc3RSb3cgKyAxLCBjb2x1bW46IDAgfTsKICAgICAgICBlbHNlIGlmICh0aGlzLmVuZC5yb3cgPCBmaXJzdFJvdykKICAgICAgICAgICAgdmFyIGVuZCA9IHsgcm93OiBmaXJzdFJvdywgY29sdW1uOiAwIH07CiAgICAgICAgaWYgKHRoaXMuc3RhcnQucm93ID4gbGFzdFJvdykKICAgICAgICAgICAgdmFyIHN0YXJ0ID0geyByb3c6IGxhc3RSb3cgKyAxLCBjb2x1bW46IDAgfTsKICAgICAgICBlbHNlIGlmICh0aGlzLnN0YXJ0LnJvdyA8IGZpcnN0Um93KQogICAgICAgICAgICB2YXIgc3RhcnQgPSB7IHJvdzogZmlyc3RSb3csIGNvbHVtbjogMCB9OwogICAgICAgIHJldHVybiBSYW5nZS5mcm9tUG9pbnRzKHN0YXJ0IHx8IHRoaXMuc3RhcnQsIGVuZCB8fCB0aGlzLmVuZCk7CiAgICB9OwogICAgdGhpcy5leHRlbmQgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICB2YXIgY21wID0gdGhpcy5jb21wYXJlKHJvdywgY29sdW1uKTsKICAgICAgICBpZiAoY21wID09IDApCiAgICAgICAgICAgIHJldHVybiB0aGlzOwogICAgICAgIGVsc2UgaWYgKGNtcCA9PSAtMSkKICAgICAgICAgICAgdmFyIHN0YXJ0ID0geyByb3c6IHJvdywgY29sdW1uOiBjb2x1bW4gfTsKICAgICAgICBlbHNlCiAgICAgICAgICAgIHZhciBlbmQgPSB7IHJvdzogcm93LCBjb2x1bW46IGNvbHVtbiB9OwogICAgICAgIHJldHVybiBSYW5nZS5mcm9tUG9pbnRzKHN0YXJ0IHx8IHRoaXMuc3RhcnQsIGVuZCB8fCB0aGlzLmVuZCk7CiAgICB9OwogICAgdGhpcy5pc0VtcHR5ID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiAodGhpcy5zdGFydC5yb3cgPT09IHRoaXMuZW5kLnJvdyAmJiB0aGlzLnN0YXJ0LmNvbHVtbiA9PT0gdGhpcy5lbmQuY29sdW1uKTsKICAgIH07CiAgICB0aGlzLmlzTXVsdGlMaW5lID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiAodGhpcy5zdGFydC5yb3cgIT09IHRoaXMuZW5kLnJvdyk7CiAgICB9OwogICAgdGhpcy5jbG9uZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gUmFuZ2UuZnJvbVBvaW50cyh0aGlzLnN0YXJ0LCB0aGlzLmVuZCk7CiAgICB9OwogICAgdGhpcy5jb2xsYXBzZVJvd3MgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKHRoaXMuZW5kLmNvbHVtbiA9PSAwKQogICAgICAgICAgICByZXR1cm4gbmV3IFJhbmdlKHRoaXMuc3RhcnQucm93LCAwLCBNYXRoLm1heCh0aGlzLnN0YXJ0LnJvdywgdGhpcy5lbmQucm93IC0gMSksIDApOwogICAgICAgIGVsc2UKICAgICAgICAgICAgcmV0dXJuIG5ldyBSYW5nZSh0aGlzLnN0YXJ0LnJvdywgMCwgdGhpcy5lbmQucm93LCAwKTsKICAgIH07CiAgICB0aGlzLnRvU2NyZWVuUmFuZ2UgPSBmdW5jdGlvbiAoc2Vzc2lvbikgewogICAgICAgIHZhciBzY3JlZW5Qb3NTdGFydCA9IHNlc3Npb24uZG9jdW1lbnRUb1NjcmVlblBvc2l0aW9uKHRoaXMuc3RhcnQpOwogICAgICAgIHZhciBzY3JlZW5Qb3NFbmQgPSBzZXNzaW9uLmRvY3VtZW50VG9TY3JlZW5Qb3NpdGlvbih0aGlzLmVuZCk7CiAgICAgICAgcmV0dXJuIG5ldyBSYW5nZShzY3JlZW5Qb3NTdGFydC5yb3csIHNjcmVlblBvc1N0YXJ0LmNvbHVtbiwgc2NyZWVuUG9zRW5kLnJvdywgc2NyZWVuUG9zRW5kLmNvbHVtbik7CiAgICB9OwogICAgdGhpcy5tb3ZlQnkgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICB0aGlzLnN0YXJ0LnJvdyArPSByb3c7CiAgICAgICAgdGhpcy5zdGFydC5jb2x1bW4gKz0gY29sdW1uOwogICAgICAgIHRoaXMuZW5kLnJvdyArPSByb3c7CiAgICAgICAgdGhpcy5lbmQuY29sdW1uICs9IGNvbHVtbjsKICAgIH07Cn0pLmNhbGwoUmFuZ2UucHJvdG90eXBlKTsKUmFuZ2UuZnJvbVBvaW50cyA9IGZ1bmN0aW9uIChzdGFydCwgZW5kKSB7CiAgICByZXR1cm4gbmV3IFJhbmdlKHN0YXJ0LnJvdywgc3RhcnQuY29sdW1uLCBlbmQucm93LCBlbmQuY29sdW1uKTsKfTsKUmFuZ2UuY29tcGFyZVBvaW50cyA9IGNvbXBhcmVQb2ludHM7ClJhbmdlLmNvbXBhcmVQb2ludHMgPSBmdW5jdGlvbiAocDEsIHAyKSB7CiAgICByZXR1cm4gcDEucm93IC0gcDIucm93IHx8IHAxLmNvbHVtbiAtIHAyLmNvbHVtbjsKfTsKZXhwb3J0cy5SYW5nZSA9IFJhbmdlOwoKfSk7CgphY2UuZGVmaW5lKCJhY2UvYW5jaG9yIixbXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKXsidXNlIHN0cmljdCI7CnZhciBvb3AgPSByZXF1aXJlKCIuL2xpYi9vb3AiKTsKdmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoIi4vbGliL2V2ZW50X2VtaXR0ZXIiKS5FdmVudEVtaXR0ZXI7CnZhciBBbmNob3IgPSBleHBvcnRzLkFuY2hvciA9IGZ1bmN0aW9uIChkb2MsIHJvdywgY29sdW1uKSB7CiAgICB0aGlzLiRvbkNoYW5nZSA9IHRoaXMub25DaGFuZ2UuYmluZCh0aGlzKTsKICAgIHRoaXMuYXR0YWNoKGRvYyk7CiAgICBpZiAodHlwZW9mIGNvbHVtbiA9PSAidW5kZWZpbmVkIikKICAgICAgICB0aGlzLnNldFBvc2l0aW9uKHJvdy5yb3csIHJvdy5jb2x1bW4pOwogICAgZWxzZQogICAgICAgIHRoaXMuc2V0UG9zaXRpb24ocm93LCBjb2x1bW4pOwp9OwooZnVuY3Rpb24gKCkgewogICAgb29wLmltcGxlbWVudCh0aGlzLCBFdmVudEVtaXR0ZXIpOwogICAgdGhpcy5nZXRQb3NpdGlvbiA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gdGhpcy4kY2xpcFBvc2l0aW9uVG9Eb2N1bWVudCh0aGlzLnJvdywgdGhpcy5jb2x1bW4pOwogICAgfTsKICAgIHRoaXMuZ2V0RG9jdW1lbnQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZG9jdW1lbnQ7CiAgICB9OwogICAgdGhpcy4kaW5zZXJ0UmlnaHQgPSBmYWxzZTsKICAgIHRoaXMub25DaGFuZ2UgPSBmdW5jdGlvbiAoZGVsdGEpIHsKICAgICAgICBpZiAoZGVsdGEuc3RhcnQucm93ID09IGRlbHRhLmVuZC5yb3cgJiYgZGVsdGEuc3RhcnQucm93ICE9IHRoaXMucm93KQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgaWYgKGRlbHRhLnN0YXJ0LnJvdyA+IHRoaXMucm93KQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgdmFyIHBvaW50ID0gJGdldFRyYW5zZm9ybWVkUG9pbnQoZGVsdGEsIHsgcm93OiB0aGlzLnJvdywgY29sdW1uOiB0aGlzLmNvbHVtbiB9LCB0aGlzLiRpbnNlcnRSaWdodCk7CiAgICAgICAgdGhpcy5zZXRQb3NpdGlvbihwb2ludC5yb3csIHBvaW50LmNvbHVtbiwgdHJ1ZSk7CiAgICB9OwogICAgZnVuY3Rpb24gJHBvaW50c0luT3JkZXIocG9pbnQxLCBwb2ludDIsIGVxdWFsUG9pbnRzSW5PcmRlcikgewogICAgICAgIHZhciBiQ29sSXNBZnRlciA9IGVxdWFsUG9pbnRzSW5PcmRlciA/IHBvaW50MS5jb2x1bW4gPD0gcG9pbnQyLmNvbHVtbiA6IHBvaW50MS5jb2x1bW4gPCBwb2ludDIuY29sdW1uOwogICAgICAgIHJldHVybiAocG9pbnQxLnJvdyA8IHBvaW50Mi5yb3cpIHx8IChwb2ludDEucm93ID09IHBvaW50Mi5yb3cgJiYgYkNvbElzQWZ0ZXIpOwogICAgfQogICAgZnVuY3Rpb24gJGdldFRyYW5zZm9ybWVkUG9pbnQoZGVsdGEsIHBvaW50LCBtb3ZlSWZFcXVhbCkgewogICAgICAgIHZhciBkZWx0YUlzSW5zZXJ0ID0gZGVsdGEuYWN0aW9uID09ICJpbnNlcnQiOwogICAgICAgIHZhciBkZWx0YVJvd1NoaWZ0ID0gKGRlbHRhSXNJbnNlcnQgPyAxIDogLTEpICogKGRlbHRhLmVuZC5yb3cgLSBkZWx0YS5zdGFydC5yb3cpOwogICAgICAgIHZhciBkZWx0YUNvbFNoaWZ0ID0gKGRlbHRhSXNJbnNlcnQgPyAxIDogLTEpICogKGRlbHRhLmVuZC5jb2x1bW4gLSBkZWx0YS5zdGFydC5jb2x1bW4pOwogICAgICAgIHZhciBkZWx0YVN0YXJ0ID0gZGVsdGEuc3RhcnQ7CiAgICAgICAgdmFyIGRlbHRhRW5kID0gZGVsdGFJc0luc2VydCA/IGRlbHRhU3RhcnQgOiBkZWx0YS5lbmQ7IC8vIENvbGxhcHNlIGluc2VydCByYW5nZS4KICAgICAgICBpZiAoJHBvaW50c0luT3JkZXIocG9pbnQsIGRlbHRhU3RhcnQsIG1vdmVJZkVxdWFsKSkgewogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgcm93OiBwb2ludC5yb3csCiAgICAgICAgICAgICAgICBjb2x1bW46IHBvaW50LmNvbHVtbgogICAgICAgICAgICB9OwogICAgICAgIH0KICAgICAgICBpZiAoJHBvaW50c0luT3JkZXIoZGVsdGFFbmQsIHBvaW50LCAhbW92ZUlmRXF1YWwpKSB7CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICByb3c6IHBvaW50LnJvdyArIGRlbHRhUm93U2hpZnQsCiAgICAgICAgICAgICAgICBjb2x1bW46IHBvaW50LmNvbHVtbiArIChwb2ludC5yb3cgPT0gZGVsdGFFbmQucm93ID8gZGVsdGFDb2xTaGlmdCA6IDApCiAgICAgICAgICAgIH07CiAgICAgICAgfQogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHJvdzogZGVsdGFTdGFydC5yb3csCiAgICAgICAgICAgIGNvbHVtbjogZGVsdGFTdGFydC5jb2x1bW4KICAgICAgICB9OwogICAgfQogICAgdGhpcy5zZXRQb3NpdGlvbiA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbiwgbm9DbGlwKSB7CiAgICAgICAgdmFyIHBvczsKICAgICAgICBpZiAobm9DbGlwKSB7CiAgICAgICAgICAgIHBvcyA9IHsKICAgICAgICAgICAgICAgIHJvdzogcm93LAogICAgICAgICAgICAgICAgY29sdW1uOiBjb2x1bW4KICAgICAgICAgICAgfTsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIHBvcyA9IHRoaXMuJGNsaXBQb3NpdGlvblRvRG9jdW1lbnQocm93LCBjb2x1bW4pOwogICAgICAgIH0KICAgICAgICBpZiAodGhpcy5yb3cgPT0gcG9zLnJvdyAmJiB0aGlzLmNvbHVtbiA9PSBwb3MuY29sdW1uKQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgdmFyIG9sZCA9IHsKICAgICAgICAgICAgcm93OiB0aGlzLnJvdywKICAgICAgICAgICAgY29sdW1uOiB0aGlzLmNvbHVtbgogICAgICAgIH07CiAgICAgICAgdGhpcy5yb3cgPSBwb3Mucm93OwogICAgICAgIHRoaXMuY29sdW1uID0gcG9zLmNvbHVtbjsKICAgICAgICB0aGlzLl9zaWduYWwoImNoYW5nZSIsIHsKICAgICAgICAgICAgb2xkOiBvbGQsCiAgICAgICAgICAgIHZhbHVlOiBwb3MKICAgICAgICB9KTsKICAgIH07CiAgICB0aGlzLmRldGFjaCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB0aGlzLmRvY3VtZW50Lm9mZigiY2hhbmdlIiwgdGhpcy4kb25DaGFuZ2UpOwogICAgfTsKICAgIHRoaXMuYXR0YWNoID0gZnVuY3Rpb24gKGRvYykgewogICAgICAgIHRoaXMuZG9jdW1lbnQgPSBkb2MgfHwgdGhpcy5kb2N1bWVudDsKICAgICAgICB0aGlzLmRvY3VtZW50Lm9uKCJjaGFuZ2UiLCB0aGlzLiRvbkNoYW5nZSk7CiAgICB9OwogICAgdGhpcy4kY2xpcFBvc2l0aW9uVG9Eb2N1bWVudCA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICAgIHZhciBwb3MgPSB7fTsKICAgICAgICBpZiAocm93ID49IHRoaXMuZG9jdW1lbnQuZ2V0TGVuZ3RoKCkpIHsKICAgICAgICAgICAgcG9zLnJvdyA9IE1hdGgubWF4KDAsIHRoaXMuZG9jdW1lbnQuZ2V0TGVuZ3RoKCkgLSAxKTsKICAgICAgICAgICAgcG9zLmNvbHVtbiA9IHRoaXMuZG9jdW1lbnQuZ2V0TGluZShwb3Mucm93KS5sZW5ndGg7CiAgICAgICAgfQogICAgICAgIGVsc2UgaWYgKHJvdyA8IDApIHsKICAgICAgICAgICAgcG9zLnJvdyA9IDA7CiAgICAgICAgICAgIHBvcy5jb2x1bW4gPSAwOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgcG9zLnJvdyA9IHJvdzsKICAgICAgICAgICAgcG9zLmNvbHVtbiA9IE1hdGgubWluKHRoaXMuZG9jdW1lbnQuZ2V0TGluZShwb3Mucm93KS5sZW5ndGgsIE1hdGgubWF4KDAsIGNvbHVtbikpOwogICAgICAgIH0KICAgICAgICBpZiAoY29sdW1uIDwgMCkKICAgICAgICAgICAgcG9zLmNvbHVtbiA9IDA7CiAgICAgICAgcmV0dXJuIHBvczsKICAgIH07Cn0pLmNhbGwoQW5jaG9yLnByb3RvdHlwZSk7Cgp9KTsKCmFjZS5kZWZpbmUoImFjZS9kb2N1bWVudCIsW10sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSl7InVzZSBzdHJpY3QiOwp2YXIgb29wID0gcmVxdWlyZSgiLi9saWIvb29wIik7CnZhciBhcHBseURlbHRhID0gcmVxdWlyZSgiLi9hcHBseV9kZWx0YSIpLmFwcGx5RGVsdGE7CnZhciBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCIuL2xpYi9ldmVudF9lbWl0dGVyIikuRXZlbnRFbWl0dGVyOwp2YXIgUmFuZ2UgPSByZXF1aXJlKCIuL3JhbmdlIikuUmFuZ2U7CnZhciBBbmNob3IgPSByZXF1aXJlKCIuL2FuY2hvciIpLkFuY2hvcjsKdmFyIERvY3VtZW50ID0gZnVuY3Rpb24gKHRleHRPckxpbmVzKSB7CiAgICB0aGlzLiRsaW5lcyA9IFsiIl07CiAgICBpZiAodGV4dE9yTGluZXMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgdGhpcy4kbGluZXMgPSBbIiJdOwogICAgfQogICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh0ZXh0T3JMaW5lcykpIHsKICAgICAgICB0aGlzLmluc2VydE1lcmdlZExpbmVzKHsgcm93OiAwLCBjb2x1bW46IDAgfSwgdGV4dE9yTGluZXMpOwogICAgfQogICAgZWxzZSB7CiAgICAgICAgdGhpcy5pbnNlcnQoeyByb3c6IDAsIGNvbHVtbjogMCB9LCB0ZXh0T3JMaW5lcyk7CiAgICB9Cn07CihmdW5jdGlvbiAoKSB7CiAgICBvb3AuaW1wbGVtZW50KHRoaXMsIEV2ZW50RW1pdHRlcik7CiAgICB0aGlzLnNldFZhbHVlID0gZnVuY3Rpb24gKHRleHQpIHsKICAgICAgICB2YXIgbGVuID0gdGhpcy5nZXRMZW5ndGgoKSAtIDE7CiAgICAgICAgdGhpcy5yZW1vdmUobmV3IFJhbmdlKDAsIDAsIGxlbiwgdGhpcy5nZXRMaW5lKGxlbikubGVuZ3RoKSk7CiAgICAgICAgdGhpcy5pbnNlcnQoeyByb3c6IDAsIGNvbHVtbjogMCB9LCB0ZXh0IHx8ICIiKTsKICAgIH07CiAgICB0aGlzLmdldFZhbHVlID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiB0aGlzLmdldEFsbExpbmVzKCkuam9pbih0aGlzLmdldE5ld0xpbmVDaGFyYWN0ZXIoKSk7CiAgICB9OwogICAgdGhpcy5jcmVhdGVBbmNob3IgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICByZXR1cm4gbmV3IEFuY2hvcih0aGlzLCByb3csIGNvbHVtbik7CiAgICB9OwogICAgaWYgKCJhYWEiLnNwbGl0KC9hLykubGVuZ3RoID09PSAwKSB7CiAgICAgICAgdGhpcy4kc3BsaXQgPSBmdW5jdGlvbiAodGV4dCkgewogICAgICAgICAgICByZXR1cm4gdGV4dC5yZXBsYWNlKC9cclxufFxyL2csICJcbiIpLnNwbGl0KCJcbiIpOwogICAgICAgIH07CiAgICB9CiAgICBlbHNlIHsKICAgICAgICB0aGlzLiRzcGxpdCA9IGZ1bmN0aW9uICh0ZXh0KSB7CiAgICAgICAgICAgIHJldHVybiB0ZXh0LnNwbGl0KC9cclxufFxyfFxuLyk7CiAgICAgICAgfTsKICAgIH0KICAgIHRoaXMuJGRldGVjdE5ld0xpbmUgPSBmdW5jdGlvbiAodGV4dCkgewogICAgICAgIHZhciBtYXRjaCA9IHRleHQubWF0Y2goL14uKj8oXHJcbnxccnxcbikvbSk7CiAgICAgICAgdGhpcy4kYXV0b05ld0xpbmUgPSBtYXRjaCA/IG1hdGNoWzFdIDogIlxuIjsKICAgICAgICB0aGlzLl9zaWduYWwoImNoYW5nZU5ld0xpbmVNb2RlIik7CiAgICB9OwogICAgdGhpcy5nZXROZXdMaW5lQ2hhcmFjdGVyID0gZnVuY3Rpb24gKCkgewogICAgICAgIHN3aXRjaCAodGhpcy4kbmV3TGluZU1vZGUpIHsKICAgICAgICAgICAgY2FzZSAid2luZG93cyI6CiAgICAgICAgICAgICAgICByZXR1cm4gIlxyXG4iOwogICAgICAgICAgICBjYXNlICJ1bml4IjoKICAgICAgICAgICAgICAgIHJldHVybiAiXG4iOwogICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJGF1dG9OZXdMaW5lIHx8ICJcbiI7CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMuJGF1dG9OZXdMaW5lID0gIiI7CiAgICB0aGlzLiRuZXdMaW5lTW9kZSA9ICJhdXRvIjsKICAgIHRoaXMuc2V0TmV3TGluZU1vZGUgPSBmdW5jdGlvbiAobmV3TGluZU1vZGUpIHsKICAgICAgICBpZiAodGhpcy4kbmV3TGluZU1vZGUgPT09IG5ld0xpbmVNb2RlKQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgdGhpcy4kbmV3TGluZU1vZGUgPSBuZXdMaW5lTW9kZTsKICAgICAgICB0aGlzLl9zaWduYWwoImNoYW5nZU5ld0xpbmVNb2RlIik7CiAgICB9OwogICAgdGhpcy5nZXROZXdMaW5lTW9kZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gdGhpcy4kbmV3TGluZU1vZGU7CiAgICB9OwogICAgdGhpcy5pc05ld0xpbmUgPSBmdW5jdGlvbiAodGV4dCkgewogICAgICAgIHJldHVybiAodGV4dCA9PSAiXHJcbiIgfHwgdGV4dCA9PSAiXHIiIHx8IHRleHQgPT0gIlxuIik7CiAgICB9OwogICAgdGhpcy5nZXRMaW5lID0gZnVuY3Rpb24gKHJvdykgewogICAgICAgIHJldHVybiB0aGlzLiRsaW5lc1tyb3ddIHx8ICIiOwogICAgfTsKICAgIHRoaXMuZ2V0TGluZXMgPSBmdW5jdGlvbiAoZmlyc3RSb3csIGxhc3RSb3cpIHsKICAgICAgICByZXR1cm4gdGhpcy4kbGluZXMuc2xpY2UoZmlyc3RSb3csIGxhc3RSb3cgKyAxKTsKICAgIH07CiAgICB0aGlzLmdldEFsbExpbmVzID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiB0aGlzLmdldExpbmVzKDAsIHRoaXMuZ2V0TGVuZ3RoKCkpOwogICAgfTsKICAgIHRoaXMuZ2V0TGVuZ3RoID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiB0aGlzLiRsaW5lcy5sZW5ndGg7CiAgICB9OwogICAgdGhpcy5nZXRUZXh0UmFuZ2UgPSBmdW5jdGlvbiAocmFuZ2UpIHsKICAgICAgICByZXR1cm4gdGhpcy5nZXRMaW5lc0ZvclJhbmdlKHJhbmdlKS5qb2luKHRoaXMuZ2V0TmV3TGluZUNoYXJhY3RlcigpKTsKICAgIH07CiAgICB0aGlzLmdldExpbmVzRm9yUmFuZ2UgPSBmdW5jdGlvbiAocmFuZ2UpIHsKICAgICAgICB2YXIgbGluZXM7CiAgICAgICAgaWYgKHJhbmdlLnN0YXJ0LnJvdyA9PT0gcmFuZ2UuZW5kLnJvdykgewogICAgICAgICAgICBsaW5lcyA9IFt0aGlzLmdldExpbmUocmFuZ2Uuc3RhcnQucm93KS5zdWJzdHJpbmcocmFuZ2Uuc3RhcnQuY29sdW1uLCByYW5nZS5lbmQuY29sdW1uKV07CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICBsaW5lcyA9IHRoaXMuZ2V0TGluZXMocmFuZ2Uuc3RhcnQucm93LCByYW5nZS5lbmQucm93KTsKICAgICAgICAgICAgbGluZXNbMF0gPSAobGluZXNbMF0gfHwgIiIpLnN1YnN0cmluZyhyYW5nZS5zdGFydC5jb2x1bW4pOwogICAgICAgICAgICB2YXIgbCA9IGxpbmVzLmxlbmd0aCAtIDE7CiAgICAgICAgICAgIGlmIChyYW5nZS5lbmQucm93IC0gcmFuZ2Uuc3RhcnQucm93ID09IGwpCiAgICAgICAgICAgICAgICBsaW5lc1tsXSA9IGxpbmVzW2xdLnN1YnN0cmluZygwLCByYW5nZS5lbmQuY29sdW1uKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGxpbmVzOwogICAgfTsKICAgIHRoaXMuaW5zZXJ0TGluZXMgPSBmdW5jdGlvbiAocm93LCBsaW5lcykgewogICAgICAgIGNvbnNvbGUud2FybigiVXNlIG9mIGRvY3VtZW50Lmluc2VydExpbmVzIGlzIGRlcHJlY2F0ZWQuIFVzZSB0aGUgaW5zZXJ0RnVsbExpbmVzIG1ldGhvZCBpbnN0ZWFkLiIpOwogICAgICAgIHJldHVybiB0aGlzLmluc2VydEZ1bGxMaW5lcyhyb3csIGxpbmVzKTsKICAgIH07CiAgICB0aGlzLnJlbW92ZUxpbmVzID0gZnVuY3Rpb24gKGZpcnN0Um93LCBsYXN0Um93KSB7CiAgICAgICAgY29uc29sZS53YXJuKCJVc2Ugb2YgZG9jdW1lbnQucmVtb3ZlTGluZXMgaXMgZGVwcmVjYXRlZC4gVXNlIHRoZSByZW1vdmVGdWxsTGluZXMgbWV0aG9kIGluc3RlYWQuIik7CiAgICAgICAgcmV0dXJuIHRoaXMucmVtb3ZlRnVsbExpbmVzKGZpcnN0Um93LCBsYXN0Um93KTsKICAgIH07CiAgICB0aGlzLmluc2VydE5ld0xpbmUgPSBmdW5jdGlvbiAocG9zaXRpb24pIHsKICAgICAgICBjb25zb2xlLndhcm4oIlVzZSBvZiBkb2N1bWVudC5pbnNlcnROZXdMaW5lIGlzIGRlcHJlY2F0ZWQuIFVzZSBpbnNlcnRNZXJnZWRMaW5lcyhwb3NpdGlvbiwgWycnLCAnJ10pIGluc3RlYWQuIik7CiAgICAgICAgcmV0dXJuIHRoaXMuaW5zZXJ0TWVyZ2VkTGluZXMocG9zaXRpb24sIFsiIiwgIiJdKTsKICAgIH07CiAgICB0aGlzLmluc2VydCA9IGZ1bmN0aW9uIChwb3NpdGlvbiwgdGV4dCkgewogICAgICAgIGlmICh0aGlzLmdldExlbmd0aCgpIDw9IDEpCiAgICAgICAgICAgIHRoaXMuJGRldGVjdE5ld0xpbmUodGV4dCk7CiAgICAgICAgcmV0dXJuIHRoaXMuaW5zZXJ0TWVyZ2VkTGluZXMocG9zaXRpb24sIHRoaXMuJHNwbGl0KHRleHQpKTsKICAgIH07CiAgICB0aGlzLmluc2VydEluTGluZSA9IGZ1bmN0aW9uIChwb3NpdGlvbiwgdGV4dCkgewogICAgICAgIHZhciBzdGFydCA9IHRoaXMuY2xpcHBlZFBvcyhwb3NpdGlvbi5yb3csIHBvc2l0aW9uLmNvbHVtbik7CiAgICAgICAgdmFyIGVuZCA9IHRoaXMucG9zKHBvc2l0aW9uLnJvdywgcG9zaXRpb24uY29sdW1uICsgdGV4dC5sZW5ndGgpOwogICAgICAgIHRoaXMuYXBwbHlEZWx0YSh7CiAgICAgICAgICAgIHN0YXJ0OiBzdGFydCwKICAgICAgICAgICAgZW5kOiBlbmQsCiAgICAgICAgICAgIGFjdGlvbjogImluc2VydCIsCiAgICAgICAgICAgIGxpbmVzOiBbdGV4dF0KICAgICAgICB9LCB0cnVlKTsKICAgICAgICByZXR1cm4gdGhpcy5jbG9uZVBvcyhlbmQpOwogICAgfTsKICAgIHRoaXMuY2xpcHBlZFBvcyA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICAgIHZhciBsZW5ndGggPSB0aGlzLmdldExlbmd0aCgpOwogICAgICAgIGlmIChyb3cgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICByb3cgPSBsZW5ndGg7CiAgICAgICAgfQogICAgICAgIGVsc2UgaWYgKHJvdyA8IDApIHsKICAgICAgICAgICAgcm93ID0gMDsKICAgICAgICB9CiAgICAgICAgZWxzZSBpZiAocm93ID49IGxlbmd0aCkgewogICAgICAgICAgICByb3cgPSBsZW5ndGggLSAxOwogICAgICAgICAgICBjb2x1bW4gPSB1bmRlZmluZWQ7CiAgICAgICAgfQogICAgICAgIHZhciBsaW5lID0gdGhpcy5nZXRMaW5lKHJvdyk7CiAgICAgICAgaWYgKGNvbHVtbiA9PSB1bmRlZmluZWQpCiAgICAgICAgICAgIGNvbHVtbiA9IGxpbmUubGVuZ3RoOwogICAgICAgIGNvbHVtbiA9IE1hdGgubWluKE1hdGgubWF4KGNvbHVtbiwgMCksIGxpbmUubGVuZ3RoKTsKICAgICAgICByZXR1cm4geyByb3c6IHJvdywgY29sdW1uOiBjb2x1bW4gfTsKICAgIH07CiAgICB0aGlzLmNsb25lUG9zID0gZnVuY3Rpb24gKHBvcykgewogICAgICAgIHJldHVybiB7IHJvdzogcG9zLnJvdywgY29sdW1uOiBwb3MuY29sdW1uIH07CiAgICB9OwogICAgdGhpcy5wb3MgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICByZXR1cm4geyByb3c6IHJvdywgY29sdW1uOiBjb2x1bW4gfTsKICAgIH07CiAgICB0aGlzLiRjbGlwUG9zaXRpb24gPSBmdW5jdGlvbiAocG9zaXRpb24pIHsKICAgICAgICB2YXIgbGVuZ3RoID0gdGhpcy5nZXRMZW5ndGgoKTsKICAgICAgICBpZiAocG9zaXRpb24ucm93ID49IGxlbmd0aCkgewogICAgICAgICAgICBwb3NpdGlvbi5yb3cgPSBNYXRoLm1heCgwLCBsZW5ndGggLSAxKTsKICAgICAgICAgICAgcG9zaXRpb24uY29sdW1uID0gdGhpcy5nZXRMaW5lKGxlbmd0aCAtIDEpLmxlbmd0aDsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIHBvc2l0aW9uLnJvdyA9IE1hdGgubWF4KDAsIHBvc2l0aW9uLnJvdyk7CiAgICAgICAgICAgIHBvc2l0aW9uLmNvbHVtbiA9IE1hdGgubWluKE1hdGgubWF4KHBvc2l0aW9uLmNvbHVtbiwgMCksIHRoaXMuZ2V0TGluZShwb3NpdGlvbi5yb3cpLmxlbmd0aCk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBwb3NpdGlvbjsKICAgIH07CiAgICB0aGlzLmluc2VydEZ1bGxMaW5lcyA9IGZ1bmN0aW9uIChyb3csIGxpbmVzKSB7CiAgICAgICAgcm93ID0gTWF0aC5taW4oTWF0aC5tYXgocm93LCAwKSwgdGhpcy5nZXRMZW5ndGgoKSk7CiAgICAgICAgdmFyIGNvbHVtbiA9IDA7CiAgICAgICAgaWYgKHJvdyA8IHRoaXMuZ2V0TGVuZ3RoKCkpIHsKICAgICAgICAgICAgbGluZXMgPSBsaW5lcy5jb25jYXQoWyIiXSk7CiAgICAgICAgICAgIGNvbHVtbiA9IDA7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICBsaW5lcyA9IFsiIl0uY29uY2F0KGxpbmVzKTsKICAgICAgICAgICAgcm93LS07CiAgICAgICAgICAgIGNvbHVtbiA9IHRoaXMuJGxpbmVzW3Jvd10ubGVuZ3RoOwogICAgICAgIH0KICAgICAgICB0aGlzLmluc2VydE1lcmdlZExpbmVzKHsgcm93OiByb3csIGNvbHVtbjogY29sdW1uIH0sIGxpbmVzKTsKICAgIH07CiAgICB0aGlzLmluc2VydE1lcmdlZExpbmVzID0gZnVuY3Rpb24gKHBvc2l0aW9uLCBsaW5lcykgewogICAgICAgIHZhciBzdGFydCA9IHRoaXMuY2xpcHBlZFBvcyhwb3NpdGlvbi5yb3csIHBvc2l0aW9uLmNvbHVtbik7CiAgICAgICAgdmFyIGVuZCA9IHsKICAgICAgICAgICAgcm93OiBzdGFydC5yb3cgKyBsaW5lcy5sZW5ndGggLSAxLAogICAgICAgICAgICBjb2x1bW46IChsaW5lcy5sZW5ndGggPT0gMSA/IHN0YXJ0LmNvbHVtbiA6IDApICsgbGluZXNbbGluZXMubGVuZ3RoIC0gMV0ubGVuZ3RoCiAgICAgICAgfTsKICAgICAgICB0aGlzLmFwcGx5RGVsdGEoewogICAgICAgICAgICBzdGFydDogc3RhcnQsCiAgICAgICAgICAgIGVuZDogZW5kLAogICAgICAgICAgICBhY3Rpb246ICJpbnNlcnQiLAogICAgICAgICAgICBsaW5lczogbGluZXMKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gdGhpcy5jbG9uZVBvcyhlbmQpOwogICAgfTsKICAgIHRoaXMucmVtb3ZlID0gZnVuY3Rpb24gKHJhbmdlKSB7CiAgICAgICAgdmFyIHN0YXJ0ID0gdGhpcy5jbGlwcGVkUG9zKHJhbmdlLnN0YXJ0LnJvdywgcmFuZ2Uuc3RhcnQuY29sdW1uKTsKICAgICAgICB2YXIgZW5kID0gdGhpcy5jbGlwcGVkUG9zKHJhbmdlLmVuZC5yb3csIHJhbmdlLmVuZC5jb2x1bW4pOwogICAgICAgIHRoaXMuYXBwbHlEZWx0YSh7CiAgICAgICAgICAgIHN0YXJ0OiBzdGFydCwKICAgICAgICAgICAgZW5kOiBlbmQsCiAgICAgICAgICAgIGFjdGlvbjogInJlbW92ZSIsCiAgICAgICAgICAgIGxpbmVzOiB0aGlzLmdldExpbmVzRm9yUmFuZ2UoeyBzdGFydDogc3RhcnQsIGVuZDogZW5kIH0pCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIHRoaXMuY2xvbmVQb3Moc3RhcnQpOwogICAgfTsKICAgIHRoaXMucmVtb3ZlSW5MaW5lID0gZnVuY3Rpb24gKHJvdywgc3RhcnRDb2x1bW4sIGVuZENvbHVtbikgewogICAgICAgIHZhciBzdGFydCA9IHRoaXMuY2xpcHBlZFBvcyhyb3csIHN0YXJ0Q29sdW1uKTsKICAgICAgICB2YXIgZW5kID0gdGhpcy5jbGlwcGVkUG9zKHJvdywgZW5kQ29sdW1uKTsKICAgICAgICB0aGlzLmFwcGx5RGVsdGEoewogICAgICAgICAgICBzdGFydDogc3RhcnQsCiAgICAgICAgICAgIGVuZDogZW5kLAogICAgICAgICAgICBhY3Rpb246ICJyZW1vdmUiLAogICAgICAgICAgICBsaW5lczogdGhpcy5nZXRMaW5lc0ZvclJhbmdlKHsgc3RhcnQ6IHN0YXJ0LCBlbmQ6IGVuZCB9KQogICAgICAgIH0sIHRydWUpOwogICAgICAgIHJldHVybiB0aGlzLmNsb25lUG9zKHN0YXJ0KTsKICAgIH07CiAgICB0aGlzLnJlbW92ZUZ1bGxMaW5lcyA9IGZ1bmN0aW9uIChmaXJzdFJvdywgbGFzdFJvdykgewogICAgICAgIGZpcnN0Um93ID0gTWF0aC5taW4oTWF0aC5tYXgoMCwgZmlyc3RSb3cpLCB0aGlzLmdldExlbmd0aCgpIC0gMSk7CiAgICAgICAgbGFzdFJvdyA9IE1hdGgubWluKE1hdGgubWF4KDAsIGxhc3RSb3cpLCB0aGlzLmdldExlbmd0aCgpIC0gMSk7CiAgICAgICAgdmFyIGRlbGV0ZUZpcnN0TmV3TGluZSA9IGxhc3RSb3cgPT0gdGhpcy5nZXRMZW5ndGgoKSAtIDEgJiYgZmlyc3RSb3cgPiAwOwogICAgICAgIHZhciBkZWxldGVMYXN0TmV3TGluZSA9IGxhc3RSb3cgPCB0aGlzLmdldExlbmd0aCgpIC0gMTsKICAgICAgICB2YXIgc3RhcnRSb3cgPSAoZGVsZXRlRmlyc3ROZXdMaW5lID8gZmlyc3RSb3cgLSAxIDogZmlyc3RSb3cpOwogICAgICAgIHZhciBzdGFydENvbCA9IChkZWxldGVGaXJzdE5ld0xpbmUgPyB0aGlzLmdldExpbmUoc3RhcnRSb3cpLmxlbmd0aCA6IDApOwogICAgICAgIHZhciBlbmRSb3cgPSAoZGVsZXRlTGFzdE5ld0xpbmUgPyBsYXN0Um93ICsgMSA6IGxhc3RSb3cpOwogICAgICAgIHZhciBlbmRDb2wgPSAoZGVsZXRlTGFzdE5ld0xpbmUgPyAwIDogdGhpcy5nZXRMaW5lKGVuZFJvdykubGVuZ3RoKTsKICAgICAgICB2YXIgcmFuZ2UgPSBuZXcgUmFuZ2Uoc3RhcnRSb3csIHN0YXJ0Q29sLCBlbmRSb3csIGVuZENvbCk7CiAgICAgICAgdmFyIGRlbGV0ZWRMaW5lcyA9IHRoaXMuJGxpbmVzLnNsaWNlKGZpcnN0Um93LCBsYXN0Um93ICsgMSk7CiAgICAgICAgdGhpcy5hcHBseURlbHRhKHsKICAgICAgICAgICAgc3RhcnQ6IHJhbmdlLnN0YXJ0LAogICAgICAgICAgICBlbmQ6IHJhbmdlLmVuZCwKICAgICAgICAgICAgYWN0aW9uOiAicmVtb3ZlIiwKICAgICAgICAgICAgbGluZXM6IHRoaXMuZ2V0TGluZXNGb3JSYW5nZShyYW5nZSkKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gZGVsZXRlZExpbmVzOwogICAgfTsKICAgIHRoaXMucmVtb3ZlTmV3TGluZSA9IGZ1bmN0aW9uIChyb3cpIHsKICAgICAgICBpZiAocm93IDwgdGhpcy5nZXRMZW5ndGgoKSAtIDEgJiYgcm93ID49IDApIHsKICAgICAgICAgICAgdGhpcy5hcHBseURlbHRhKHsKICAgICAgICAgICAgICAgIHN0YXJ0OiB0aGlzLnBvcyhyb3csIHRoaXMuZ2V0TGluZShyb3cpLmxlbmd0aCksCiAgICAgICAgICAgICAgICBlbmQ6IHRoaXMucG9zKHJvdyArIDEsIDApLAogICAgICAgICAgICAgICAgYWN0aW9uOiAicmVtb3ZlIiwKICAgICAgICAgICAgICAgIGxpbmVzOiBbIiIsICIiXQogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICB9OwogICAgdGhpcy5yZXBsYWNlID0gZnVuY3Rpb24gKHJhbmdlLCB0ZXh0KSB7CiAgICAgICAgaWYgKCEocmFuZ2UgaW5zdGFuY2VvZiBSYW5nZSkpCiAgICAgICAgICAgIHJhbmdlID0gUmFuZ2UuZnJvbVBvaW50cyhyYW5nZS5zdGFydCwgcmFuZ2UuZW5kKTsKICAgICAgICBpZiAodGV4dC5sZW5ndGggPT09IDAgJiYgcmFuZ2UuaXNFbXB0eSgpKQogICAgICAgICAgICByZXR1cm4gcmFuZ2Uuc3RhcnQ7CiAgICAgICAgaWYgKHRleHQgPT0gdGhpcy5nZXRUZXh0UmFuZ2UocmFuZ2UpKQogICAgICAgICAgICByZXR1cm4gcmFuZ2UuZW5kOwogICAgICAgIHRoaXMucmVtb3ZlKHJhbmdlKTsKICAgICAgICB2YXIgZW5kOwogICAgICAgIGlmICh0ZXh0KSB7CiAgICAgICAgICAgIGVuZCA9IHRoaXMuaW5zZXJ0KHJhbmdlLnN0YXJ0LCB0ZXh0KTsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIGVuZCA9IHJhbmdlLnN0YXJ0OwogICAgICAgIH0KICAgICAgICByZXR1cm4gZW5kOwogICAgfTsKICAgIHRoaXMuYXBwbHlEZWx0YXMgPSBmdW5jdGlvbiAoZGVsdGFzKSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkZWx0YXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgdGhpcy5hcHBseURlbHRhKGRlbHRhc1tpXSk7CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMucmV2ZXJ0RGVsdGFzID0gZnVuY3Rpb24gKGRlbHRhcykgewogICAgICAgIGZvciAodmFyIGkgPSBkZWx0YXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHsKICAgICAgICAgICAgdGhpcy5yZXZlcnREZWx0YShkZWx0YXNbaV0pOwogICAgICAgIH0KICAgIH07CiAgICB0aGlzLmFwcGx5RGVsdGEgPSBmdW5jdGlvbiAoZGVsdGEsIGRvTm90VmFsaWRhdGUpIHsKICAgICAgICB2YXIgaXNJbnNlcnQgPSBkZWx0YS5hY3Rpb24gPT0gImluc2VydCI7CiAgICAgICAgaWYgKGlzSW5zZXJ0ID8gZGVsdGEubGluZXMubGVuZ3RoIDw9IDEgJiYgIWRlbHRhLmxpbmVzWzBdCiAgICAgICAgICAgIDogIVJhbmdlLmNvbXBhcmVQb2ludHMoZGVsdGEuc3RhcnQsIGRlbHRhLmVuZCkpIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBpZiAoaXNJbnNlcnQgJiYgZGVsdGEubGluZXMubGVuZ3RoID4gMjAwMDApIHsKICAgICAgICAgICAgdGhpcy4kc3BsaXRBbmRhcHBseUxhcmdlRGVsdGEoZGVsdGEsIDIwMDAwKTsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIGFwcGx5RGVsdGEodGhpcy4kbGluZXMsIGRlbHRhLCBkb05vdFZhbGlkYXRlKTsKICAgICAgICAgICAgdGhpcy5fc2lnbmFsKCJjaGFuZ2UiLCBkZWx0YSk7CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMuJHNhZmVBcHBseURlbHRhID0gZnVuY3Rpb24gKGRlbHRhKSB7CiAgICAgICAgdmFyIGRvY0xlbmd0aCA9IHRoaXMuJGxpbmVzLmxlbmd0aDsKICAgICAgICBpZiAoZGVsdGEuYWN0aW9uID09ICJyZW1vdmUiICYmIGRlbHRhLnN0YXJ0LnJvdyA8IGRvY0xlbmd0aCAmJiBkZWx0YS5lbmQucm93IDwgZG9jTGVuZ3RoCiAgICAgICAgICAgIHx8IGRlbHRhLmFjdGlvbiA9PSAiaW5zZXJ0IiAmJiBkZWx0YS5zdGFydC5yb3cgPD0gZG9jTGVuZ3RoKSB7CiAgICAgICAgICAgIHRoaXMuYXBwbHlEZWx0YShkZWx0YSk7CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMuJHNwbGl0QW5kYXBwbHlMYXJnZURlbHRhID0gZnVuY3Rpb24gKGRlbHRhLCBNQVgpIHsKICAgICAgICB2YXIgbGluZXMgPSBkZWx0YS5saW5lczsKICAgICAgICB2YXIgbCA9IGxpbmVzLmxlbmd0aCAtIE1BWCArIDE7CiAgICAgICAgdmFyIHJvdyA9IGRlbHRhLnN0YXJ0LnJvdzsKICAgICAgICB2YXIgY29sdW1uID0gZGVsdGEuc3RhcnQuY29sdW1uOwogICAgICAgIGZvciAodmFyIGZyb20gPSAwLCB0byA9IDA7IGZyb20gPCBsOyBmcm9tID0gdG8pIHsKICAgICAgICAgICAgdG8gKz0gTUFYIC0gMTsKICAgICAgICAgICAgdmFyIGNodW5rID0gbGluZXMuc2xpY2UoZnJvbSwgdG8pOwogICAgICAgICAgICBjaHVuay5wdXNoKCIiKTsKICAgICAgICAgICAgdGhpcy5hcHBseURlbHRhKHsKICAgICAgICAgICAgICAgIHN0YXJ0OiB0aGlzLnBvcyhyb3cgKyBmcm9tLCBjb2x1bW4pLAogICAgICAgICAgICAgICAgZW5kOiB0aGlzLnBvcyhyb3cgKyB0bywgY29sdW1uID0gMCksCiAgICAgICAgICAgICAgICBhY3Rpb246IGRlbHRhLmFjdGlvbiwKICAgICAgICAgICAgICAgIGxpbmVzOiBjaHVuawogICAgICAgICAgICB9LCB0cnVlKTsKICAgICAgICB9CiAgICAgICAgZGVsdGEubGluZXMgPSBsaW5lcy5zbGljZShmcm9tKTsKICAgICAgICBkZWx0YS5zdGFydC5yb3cgPSByb3cgKyBmcm9tOwogICAgICAgIGRlbHRhLnN0YXJ0LmNvbHVtbiA9IGNvbHVtbjsKICAgICAgICB0aGlzLmFwcGx5RGVsdGEoZGVsdGEsIHRydWUpOwogICAgfTsKICAgIHRoaXMucmV2ZXJ0RGVsdGEgPSBmdW5jdGlvbiAoZGVsdGEpIHsKICAgICAgICB0aGlzLiRzYWZlQXBwbHlEZWx0YSh7CiAgICAgICAgICAgIHN0YXJ0OiB0aGlzLmNsb25lUG9zKGRlbHRhLnN0YXJ0KSwKICAgICAgICAgICAgZW5kOiB0aGlzLmNsb25lUG9zKGRlbHRhLmVuZCksCiAgICAgICAgICAgIGFjdGlvbjogKGRlbHRhLmFjdGlvbiA9PSAiaW5zZXJ0IiA/ICJyZW1vdmUiIDogImluc2VydCIpLAogICAgICAgICAgICBsaW5lczogZGVsdGEubGluZXMuc2xpY2UoKQogICAgICAgIH0pOwogICAgfTsKICAgIHRoaXMuaW5kZXhUb1Bvc2l0aW9uID0gZnVuY3Rpb24gKGluZGV4LCBzdGFydFJvdykgewogICAgICAgIHZhciBsaW5lcyA9IHRoaXMuJGxpbmVzIHx8IHRoaXMuZ2V0QWxsTGluZXMoKTsKICAgICAgICB2YXIgbmV3bGluZUxlbmd0aCA9IHRoaXMuZ2V0TmV3TGluZUNoYXJhY3RlcigpLmxlbmd0aDsKICAgICAgICBmb3IgKHZhciBpID0gc3RhcnRSb3cgfHwgMCwgbCA9IGxpbmVzLmxlbmd0aDsgaSA8IGw7IGkrKykgewogICAgICAgICAgICBpbmRleCAtPSBsaW5lc1tpXS5sZW5ndGggKyBuZXdsaW5lTGVuZ3RoOwogICAgICAgICAgICBpZiAoaW5kZXggPCAwKQogICAgICAgICAgICAgICAgcmV0dXJuIHsgcm93OiBpLCBjb2x1bW46IGluZGV4ICsgbGluZXNbaV0ubGVuZ3RoICsgbmV3bGluZUxlbmd0aCB9OwogICAgICAgIH0KICAgICAgICByZXR1cm4geyByb3c6IGwgLSAxLCBjb2x1bW46IGluZGV4ICsgbGluZXNbbCAtIDFdLmxlbmd0aCArIG5ld2xpbmVMZW5ndGggfTsKICAgIH07CiAgICB0aGlzLnBvc2l0aW9uVG9JbmRleCA9IGZ1bmN0aW9uIChwb3MsIHN0YXJ0Um93KSB7CiAgICAgICAgdmFyIGxpbmVzID0gdGhpcy4kbGluZXMgfHwgdGhpcy5nZXRBbGxMaW5lcygpOwogICAgICAgIHZhciBuZXdsaW5lTGVuZ3RoID0gdGhpcy5nZXROZXdMaW5lQ2hhcmFjdGVyKCkubGVuZ3RoOwogICAgICAgIHZhciBpbmRleCA9IDA7CiAgICAgICAgdmFyIHJvdyA9IE1hdGgubWluKHBvcy5yb3csIGxpbmVzLmxlbmd0aCk7CiAgICAgICAgZm9yICh2YXIgaSA9IHN0YXJ0Um93IHx8IDA7IGkgPCByb3c7ICsraSkKICAgICAgICAgICAgaW5kZXggKz0gbGluZXNbaV0ubGVuZ3RoICsgbmV3bGluZUxlbmd0aDsKICAgICAgICByZXR1cm4gaW5kZXggKyBwb3MuY29sdW1uOwogICAgfTsKfSkuY2FsbChEb2N1bWVudC5wcm90b3R5cGUpOwpleHBvcnRzLkRvY3VtZW50ID0gRG9jdW1lbnQ7Cgp9KTsKCmFjZS5kZWZpbmUoImFjZS9saWIvbGFuZyIsW10sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSl7InVzZSBzdHJpY3QiOwpleHBvcnRzLmxhc3QgPSBmdW5jdGlvbiAoYSkgewogICAgcmV0dXJuIGFbYS5sZW5ndGggLSAxXTsKfTsKZXhwb3J0cy5zdHJpbmdSZXZlcnNlID0gZnVuY3Rpb24gKHN0cmluZykgewogICAgcmV0dXJuIHN0cmluZy5zcGxpdCgiIikucmV2ZXJzZSgpLmpvaW4oIiIpOwp9OwpleHBvcnRzLnN0cmluZ1JlcGVhdCA9IGZ1bmN0aW9uIChzdHJpbmcsIGNvdW50KSB7CiAgICB2YXIgcmVzdWx0ID0gJyc7CiAgICB3aGlsZSAoY291bnQgPiAwKSB7CiAgICAgICAgaWYgKGNvdW50ICYgMSkKICAgICAgICAgICAgcmVzdWx0ICs9IHN0cmluZzsKICAgICAgICBpZiAoY291bnQgPj49IDEpCiAgICAgICAgICAgIHN0cmluZyArPSBzdHJpbmc7CiAgICB9CiAgICByZXR1cm4gcmVzdWx0Owp9Owp2YXIgdHJpbUJlZ2luUmVnZXhwID0gL15cc1xzKi87CnZhciB0cmltRW5kUmVnZXhwID0gL1xzXHMqJC87CmV4cG9ydHMuc3RyaW5nVHJpbUxlZnQgPSBmdW5jdGlvbiAoc3RyaW5nKSB7CiAgICByZXR1cm4gc3RyaW5nLnJlcGxhY2UodHJpbUJlZ2luUmVnZXhwLCAnJyk7Cn07CmV4cG9ydHMuc3RyaW5nVHJpbVJpZ2h0ID0gZnVuY3Rpb24gKHN0cmluZykgewogICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKHRyaW1FbmRSZWdleHAsICcnKTsKfTsKZXhwb3J0cy5jb3B5T2JqZWN0ID0gZnVuY3Rpb24gKG9iaikgewogICAgdmFyIGNvcHkgPSB7fTsKICAgIGZvciAodmFyIGtleSBpbiBvYmopIHsKICAgICAgICBjb3B5W2tleV0gPSBvYmpba2V5XTsKICAgIH0KICAgIHJldHVybiBjb3B5Owp9OwpleHBvcnRzLmNvcHlBcnJheSA9IGZ1bmN0aW9uIChhcnJheSkgewogICAgdmFyIGNvcHkgPSBbXTsKICAgIGZvciAodmFyIGkgPSAwLCBsID0gYXJyYXkubGVuZ3RoOyBpIDwgbDsgaSsrKSB7CiAgICAgICAgaWYgKGFycmF5W2ldICYmIHR5cGVvZiBhcnJheVtpXSA9PSAib2JqZWN0IikKICAgICAgICAgICAgY29weVtpXSA9IHRoaXMuY29weU9iamVjdChhcnJheVtpXSk7CiAgICAgICAgZWxzZQogICAgICAgICAgICBjb3B5W2ldID0gYXJyYXlbaV07CiAgICB9CiAgICByZXR1cm4gY29weTsKfTsKZXhwb3J0cy5kZWVwQ29weSA9IGZ1bmN0aW9uIGRlZXBDb3B5KG9iaikgewogICAgaWYgKHR5cGVvZiBvYmogIT09ICJvYmplY3QiIHx8ICFvYmopCiAgICAgICAgcmV0dXJuIG9iajsKICAgIHZhciBjb3B5OwogICAgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkgewogICAgICAgIGNvcHkgPSBbXTsKICAgICAgICBmb3IgKHZhciBrZXkgPSAwOyBrZXkgPCBvYmoubGVuZ3RoOyBrZXkrKykgewogICAgICAgICAgICBjb3B5W2tleV0gPSBkZWVwQ29weShvYmpba2V5XSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBjb3B5OwogICAgfQogICAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopICE9PSAiW29iamVjdCBPYmplY3RdIikKICAgICAgICByZXR1cm4gb2JqOwogICAgY29weSA9IHt9OwogICAgZm9yICh2YXIga2V5IGluIG9iaikKICAgICAgICBjb3B5W2tleV0gPSBkZWVwQ29weShvYmpba2V5XSk7CiAgICByZXR1cm4gY29weTsKfTsKZXhwb3J0cy5hcnJheVRvTWFwID0gZnVuY3Rpb24gKGFycikgewogICAgdmFyIG1hcCA9IHt9OwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsKICAgICAgICBtYXBbYXJyW2ldXSA9IDE7CiAgICB9CiAgICByZXR1cm4gbWFwOwp9OwpleHBvcnRzLmNyZWF0ZU1hcCA9IGZ1bmN0aW9uIChwcm9wcykgewogICAgdmFyIG1hcCA9IE9iamVjdC5jcmVhdGUobnVsbCk7CiAgICBmb3IgKHZhciBpIGluIHByb3BzKSB7CiAgICAgICAgbWFwW2ldID0gcHJvcHNbaV07CiAgICB9CiAgICByZXR1cm4gbWFwOwp9OwpleHBvcnRzLmFycmF5UmVtb3ZlID0gZnVuY3Rpb24gKGFycmF5LCB2YWx1ZSkgewogICAgZm9yICh2YXIgaSA9IDA7IGkgPD0gYXJyYXkubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAodmFsdWUgPT09IGFycmF5W2ldKSB7CiAgICAgICAgICAgIGFycmF5LnNwbGljZShpLCAxKTsKICAgICAgICB9CiAgICB9Cn07CmV4cG9ydHMuZXNjYXBlUmVnRXhwID0gZnVuY3Rpb24gKHN0cikgewogICAgcmV0dXJuIHN0ci5yZXBsYWNlKC8oWy4qKz9eJHt9KCl8W1xdXC9cXF0pL2csICdcXCQxJyk7Cn07CmV4cG9ydHMuZXNjYXBlSFRNTCA9IGZ1bmN0aW9uIChzdHIpIHsKICAgIHJldHVybiAoIiIgKyBzdHIpLnJlcGxhY2UoLyYvZywgIiYjMzg7IikucmVwbGFjZSgvIi9nLCAiJiMzNDsiKS5yZXBsYWNlKC8nL2csICImIzM5OyIpLnJlcGxhY2UoLzwvZywgIiYjNjA7Iik7Cn07CmV4cG9ydHMuZ2V0TWF0Y2hPZmZzZXRzID0gZnVuY3Rpb24gKHN0cmluZywgcmVnRXhwKSB7CiAgICB2YXIgbWF0Y2hlcyA9IFtdOwogICAgc3RyaW5nLnJlcGxhY2UocmVnRXhwLCBmdW5jdGlvbiAoc3RyKSB7CiAgICAgICAgbWF0Y2hlcy5wdXNoKHsKICAgICAgICAgICAgb2Zmc2V0OiBhcmd1bWVudHNbYXJndW1lbnRzLmxlbmd0aCAtIDJdLAogICAgICAgICAgICBsZW5ndGg6IHN0ci5sZW5ndGgKICAgICAgICB9KTsKICAgIH0pOwogICAgcmV0dXJuIG1hdGNoZXM7Cn07CmV4cG9ydHMuZGVmZXJyZWRDYWxsID0gZnVuY3Rpb24gKGZjbikgewogICAgdmFyIHRpbWVyID0gbnVsbDsKICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB0aW1lciA9IG51bGw7CiAgICAgICAgZmNuKCk7CiAgICB9OwogICAgdmFyIGRlZmVycmVkID0gZnVuY3Rpb24gKHRpbWVvdXQpIHsKICAgICAgICBkZWZlcnJlZC5jYW5jZWwoKTsKICAgICAgICB0aW1lciA9IHNldFRpbWVvdXQoY2FsbGJhY2ssIHRpbWVvdXQgfHwgMCk7CiAgICAgICAgcmV0dXJuIGRlZmVycmVkOwogICAgfTsKICAgIGRlZmVycmVkLnNjaGVkdWxlID0gZGVmZXJyZWQ7CiAgICBkZWZlcnJlZC5jYWxsID0gZnVuY3Rpb24gKCkgewogICAgICAgIHRoaXMuY2FuY2VsKCk7CiAgICAgICAgZmNuKCk7CiAgICAgICAgcmV0dXJuIGRlZmVycmVkOwogICAgfTsKICAgIGRlZmVycmVkLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBjbGVhclRpbWVvdXQodGltZXIpOwogICAgICAgIHRpbWVyID0gbnVsbDsKICAgICAgICByZXR1cm4gZGVmZXJyZWQ7CiAgICB9OwogICAgZGVmZXJyZWQuaXNQZW5kaW5nID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiB0aW1lcjsKICAgIH07CiAgICByZXR1cm4gZGVmZXJyZWQ7Cn07CmV4cG9ydHMuZGVsYXllZENhbGwgPSBmdW5jdGlvbiAoZmNuLCBkZWZhdWx0VGltZW91dCkgewogICAgdmFyIHRpbWVyID0gbnVsbDsKICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB0aW1lciA9IG51bGw7CiAgICAgICAgZmNuKCk7CiAgICB9OwogICAgdmFyIF9zZWxmID0gZnVuY3Rpb24gKHRpbWVvdXQpIHsKICAgICAgICBpZiAodGltZXIgPT0gbnVsbCkKICAgICAgICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KGNhbGxiYWNrLCB0aW1lb3V0IHx8IGRlZmF1bHRUaW1lb3V0KTsKICAgIH07CiAgICBfc2VsZi5kZWxheSA9IGZ1bmN0aW9uICh0aW1lb3V0KSB7CiAgICAgICAgdGltZXIgJiYgY2xlYXJUaW1lb3V0KHRpbWVyKTsKICAgICAgICB0aW1lciA9IHNldFRpbWVvdXQoY2FsbGJhY2ssIHRpbWVvdXQgfHwgZGVmYXVsdFRpbWVvdXQpOwogICAgfTsKICAgIF9zZWxmLnNjaGVkdWxlID0gX3NlbGY7CiAgICBfc2VsZi5jYWxsID0gZnVuY3Rpb24gKCkgewogICAgICAgIHRoaXMuY2FuY2VsKCk7CiAgICAgICAgZmNuKCk7CiAgICB9OwogICAgX3NlbGYuY2FuY2VsID0gZnVuY3Rpb24gKCkgewogICAgICAgIHRpbWVyICYmIGNsZWFyVGltZW91dCh0aW1lcik7CiAgICAgICAgdGltZXIgPSBudWxsOwogICAgfTsKICAgIF9zZWxmLmlzUGVuZGluZyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gdGltZXI7CiAgICB9OwogICAgcmV0dXJuIF9zZWxmOwp9OwoKfSk7CgphY2UuZGVmaW5lKCJhY2Uvd29ya2VyL21pcnJvciIsW10sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkgewoidXNlIHN0cmljdCI7Cgp2YXIgRG9jdW1lbnQgPSByZXF1aXJlKCIuLi9kb2N1bWVudCIpLkRvY3VtZW50Owp2YXIgbGFuZyA9IHJlcXVpcmUoIi4uL2xpYi9sYW5nIik7CiAgICAKdmFyIE1pcnJvciA9IGV4cG9ydHMuTWlycm9yID0gZnVuY3Rpb24oc2VuZGVyKSB7CiAgICB0aGlzLnNlbmRlciA9IHNlbmRlcjsKICAgIHZhciBkb2MgPSB0aGlzLmRvYyA9IG5ldyBEb2N1bWVudCgiIik7CiAgICAKICAgIHZhciBkZWZlcnJlZFVwZGF0ZSA9IHRoaXMuZGVmZXJyZWRVcGRhdGUgPSBsYW5nLmRlbGF5ZWRDYWxsKHRoaXMub25VcGRhdGUuYmluZCh0aGlzKSk7CiAgICAKICAgIHZhciBfc2VsZiA9IHRoaXM7CiAgICBzZW5kZXIub24oImNoYW5nZSIsIGZ1bmN0aW9uKGUpIHsKICAgICAgICB2YXIgZGF0YSA9IGUuZGF0YTsKICAgICAgICBpZiAoZGF0YVswXS5zdGFydCkgewogICAgICAgICAgICBkb2MuYXBwbHlEZWx0YXMoZGF0YSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSArPSAyKSB7CiAgICAgICAgICAgICAgICB2YXIgZCwgZXJyOyAKICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGFbaSsxXSkpIHsKICAgICAgICAgICAgICAgICAgICBkID0ge2FjdGlvbjogImluc2VydCIsIHN0YXJ0OiBkYXRhW2ldLCBsaW5lczogZGF0YVtpKzFdfTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgZCA9IHthY3Rpb246ICJyZW1vdmUiLCBzdGFydDogZGF0YVtpXSwgZW5kOiBkYXRhW2krMV19OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBpZiAoKGQuYWN0aW9uID09ICJpbnNlcnQiID8gZC5zdGFydCA6IGQuZW5kKS5yb3cgPj0gZG9jLiRsaW5lcy5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgICBlcnIgPSBuZXcgRXJyb3IoIkludmFsaWQgZGVsdGEiKTsKICAgICAgICAgICAgICAgICAgICBlcnIuZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogX3NlbGYuJHBhdGgsCiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVzTGVuZ3RoOiBkb2MuJGxpbmVzLmxlbmd0aCwKICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IGQuc3RhcnQsCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZDogZC5lbmQKICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgIHRocm93IGVycjsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBkb2MuYXBwbHlEZWx0YShkLCB0cnVlKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZiAoX3NlbGYuJHRpbWVvdXQpCiAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZFVwZGF0ZS5zY2hlZHVsZShfc2VsZi4kdGltZW91dCk7CiAgICAgICAgX3NlbGYub25VcGRhdGUoKTsKICAgIH0pOwp9OwoKKGZ1bmN0aW9uKCkgewogICAgCiAgICB0aGlzLiR0aW1lb3V0ID0gNTAwOwogICAgCiAgICB0aGlzLnNldFRpbWVvdXQgPSBmdW5jdGlvbih0aW1lb3V0KSB7CiAgICAgICAgdGhpcy4kdGltZW91dCA9IHRpbWVvdXQ7CiAgICB9OwogICAgCiAgICB0aGlzLnNldFZhbHVlID0gZnVuY3Rpb24odmFsdWUpIHsKICAgICAgICB0aGlzLmRvYy5zZXRWYWx1ZSh2YWx1ZSk7CiAgICAgICAgdGhpcy5kZWZlcnJlZFVwZGF0ZS5zY2hlZHVsZSh0aGlzLiR0aW1lb3V0KTsKICAgIH07CiAgICAKICAgIHRoaXMuZ2V0VmFsdWUgPSBmdW5jdGlvbihjYWxsYmFja0lkKSB7CiAgICAgICAgdGhpcy5zZW5kZXIuY2FsbGJhY2sodGhpcy5kb2MuZ2V0VmFsdWUoKSwgY2FsbGJhY2tJZCk7CiAgICB9OwogICAgCiAgICB0aGlzLm9uVXBkYXRlID0gZnVuY3Rpb24oKSB7CiAgICB9OwogICAgCiAgICB0aGlzLmlzUGVuZGluZyA9IGZ1bmN0aW9uKCkgewogICAgICAgIHJldHVybiB0aGlzLmRlZmVycmVkVXBkYXRlLmlzUGVuZGluZygpOwogICAgfTsKICAgIAp9KS5jYWxsKE1pcnJvci5wcm90b3R5cGUpOwoKfSk7CgphY2UuZGVmaW5lKCJhY2UvbW9kZS9qc29uL2pzb25fcGFyc2UiLFtdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHsKInVzZSBzdHJpY3QiOwoKICAgIHZhciBhdCwgICAgIC8vIFRoZSBpbmRleCBvZiB0aGUgY3VycmVudCBjaGFyYWN0ZXIKICAgICAgICBjaCwgICAgIC8vIFRoZSBjdXJyZW50IGNoYXJhY3RlcgogICAgICAgIGVzY2FwZWUgPSB7CiAgICAgICAgICAgICciJzogICciJywKICAgICAgICAgICAgJ1xcJzogJ1xcJywKICAgICAgICAgICAgJy8nOiAgJy8nLAogICAgICAgICAgICBiOiAgICAnXGInLAogICAgICAgICAgICBmOiAgICAnXGYnLAogICAgICAgICAgICBuOiAgICAnXG4nLAogICAgICAgICAgICByOiAgICAnXHInLAogICAgICAgICAgICB0OiAgICAnXHQnCiAgICAgICAgfSwKICAgICAgICB0ZXh0LAoKICAgICAgICBlcnJvciA9IGZ1bmN0aW9uIChtKSB7CgogICAgICAgICAgICB0aHJvdyB7CiAgICAgICAgICAgICAgICBuYW1lOiAgICAnU3ludGF4RXJyb3InLAogICAgICAgICAgICAgICAgbWVzc2FnZTogbSwKICAgICAgICAgICAgICAgIGF0OiAgICAgIGF0LAogICAgICAgICAgICAgICAgdGV4dDogICAgdGV4dAogICAgICAgICAgICB9OwogICAgICAgIH0sCgogICAgICAgIG5leHQgPSBmdW5jdGlvbiAoYykgewoKICAgICAgICAgICAgaWYgKGMgJiYgYyAhPT0gY2gpIHsKICAgICAgICAgICAgICAgIGVycm9yKCJFeHBlY3RlZCAnIiArIGMgKyAiJyBpbnN0ZWFkIG9mICciICsgY2ggKyAiJyIpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBjaCA9IHRleHQuY2hhckF0KGF0KTsKICAgICAgICAgICAgYXQgKz0gMTsKICAgICAgICAgICAgcmV0dXJuIGNoOwogICAgICAgIH0sCgogICAgICAgIG51bWJlciA9IGZ1bmN0aW9uICgpIHsKCiAgICAgICAgICAgIHZhciBudW1iZXIsCiAgICAgICAgICAgICAgICBzdHJpbmcgPSAnJzsKCiAgICAgICAgICAgIGlmIChjaCA9PT0gJy0nKSB7CiAgICAgICAgICAgICAgICBzdHJpbmcgPSAnLSc7CiAgICAgICAgICAgICAgICBuZXh0KCctJyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgd2hpbGUgKGNoID49ICcwJyAmJiBjaCA8PSAnOScpIHsKICAgICAgICAgICAgICAgIHN0cmluZyArPSBjaDsKICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoY2ggPT09ICcuJykgewogICAgICAgICAgICAgICAgc3RyaW5nICs9ICcuJzsKICAgICAgICAgICAgICAgIHdoaWxlIChuZXh0KCkgJiYgY2ggPj0gJzAnICYmIGNoIDw9ICc5JykgewogICAgICAgICAgICAgICAgICAgIHN0cmluZyArPSBjaDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoY2ggPT09ICdlJyB8fCBjaCA9PT0gJ0UnKSB7CiAgICAgICAgICAgICAgICBzdHJpbmcgKz0gY2g7CiAgICAgICAgICAgICAgICBuZXh0KCk7CiAgICAgICAgICAgICAgICBpZiAoY2ggPT09ICctJyB8fCBjaCA9PT0gJysnKSB7CiAgICAgICAgICAgICAgICAgICAgc3RyaW5nICs9IGNoOwogICAgICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHdoaWxlIChjaCA+PSAnMCcgJiYgY2ggPD0gJzknKSB7CiAgICAgICAgICAgICAgICAgICAgc3RyaW5nICs9IGNoOwogICAgICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBudW1iZXIgPSArc3RyaW5nOwogICAgICAgICAgICBpZiAoaXNOYU4obnVtYmVyKSkgewogICAgICAgICAgICAgICAgZXJyb3IoIkJhZCBudW1iZXIiKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiBudW1iZXI7CiAgICAgICAgICAgIH0KICAgICAgICB9LAoKICAgICAgICBzdHJpbmcgPSBmdW5jdGlvbiAoKSB7CgogICAgICAgICAgICB2YXIgaGV4LAogICAgICAgICAgICAgICAgaSwKICAgICAgICAgICAgICAgIHN0cmluZyA9ICcnLAogICAgICAgICAgICAgICAgdWZmZmY7CgogICAgICAgICAgICBpZiAoY2ggPT09ICciJykgewogICAgICAgICAgICAgICAgd2hpbGUgKG5leHQoKSkgewogICAgICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gJyInKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0cmluZzsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNoID09PSAnXFwnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoID09PSAndScpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVmZmZmID0gMDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCA0OyBpICs9IDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZXggPSBwYXJzZUludChuZXh0KCksIDE2KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzRmluaXRlKGhleCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVmZmZmID0gdWZmZmYgKiAxNiArIGhleDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cmluZyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHVmZmZmKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZXNjYXBlZVtjaF0gPT09ICdzdHJpbmcnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJpbmcgKz0gZXNjYXBlZVtjaF07CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2ggPT0gIlxuIiB8fCBjaCA9PSAiXHIiKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN0cmluZyArPSBjaDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZXJyb3IoIkJhZCBzdHJpbmciKTsKICAgICAgICB9LAoKICAgICAgICB3aGl0ZSA9IGZ1bmN0aW9uICgpIHsKCiAgICAgICAgICAgIHdoaWxlIChjaCAmJiBjaCA8PSAnICcpIHsKICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgfQogICAgICAgIH0sCgogICAgICAgIHdvcmQgPSBmdW5jdGlvbiAoKSB7CgogICAgICAgICAgICBzd2l0Y2ggKGNoKSB7CiAgICAgICAgICAgIGNhc2UgJ3QnOgogICAgICAgICAgICAgICAgbmV4dCgndCcpOwogICAgICAgICAgICAgICAgbmV4dCgncicpOwogICAgICAgICAgICAgICAgbmV4dCgndScpOwogICAgICAgICAgICAgICAgbmV4dCgnZScpOwogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIGNhc2UgJ2YnOgogICAgICAgICAgICAgICAgbmV4dCgnZicpOwogICAgICAgICAgICAgICAgbmV4dCgnYScpOwogICAgICAgICAgICAgICAgbmV4dCgnbCcpOwogICAgICAgICAgICAgICAgbmV4dCgncycpOwogICAgICAgICAgICAgICAgbmV4dCgnZScpOwogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICBjYXNlICduJzoKICAgICAgICAgICAgICAgIG5leHQoJ24nKTsKICAgICAgICAgICAgICAgIG5leHQoJ3UnKTsKICAgICAgICAgICAgICAgIG5leHQoJ2wnKTsKICAgICAgICAgICAgICAgIG5leHQoJ2wnKTsKICAgICAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVycm9yKCJVbmV4cGVjdGVkICciICsgY2ggKyAiJyIpOwogICAgICAgIH0sCgogICAgICAgIHZhbHVlLCAgLy8gUGxhY2UgaG9sZGVyIGZvciB0aGUgdmFsdWUgZnVuY3Rpb24uCgogICAgICAgIGFycmF5ID0gZnVuY3Rpb24gKCkgewoKICAgICAgICAgICAgdmFyIGFycmF5ID0gW107CgogICAgICAgICAgICBpZiAoY2ggPT09ICdbJykgewogICAgICAgICAgICAgICAgbmV4dCgnWycpOwogICAgICAgICAgICAgICAgd2hpdGUoKTsKICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gJ10nKSB7CiAgICAgICAgICAgICAgICAgICAgbmV4dCgnXScpOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBhcnJheTsgICAvLyBlbXB0eSBhcnJheQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgd2hpbGUgKGNoKSB7CiAgICAgICAgICAgICAgICAgICAgYXJyYXkucHVzaCh2YWx1ZSgpKTsKICAgICAgICAgICAgICAgICAgICB3aGl0ZSgpOwogICAgICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gJ10nKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoJ10nKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFycmF5OwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBuZXh0KCcsJyk7CiAgICAgICAgICAgICAgICAgICAgd2hpdGUoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBlcnJvcigiQmFkIGFycmF5Iik7CiAgICAgICAgfSwKCiAgICAgICAgb2JqZWN0ID0gZnVuY3Rpb24gKCkgewoKICAgICAgICAgICAgdmFyIGtleSwKICAgICAgICAgICAgICAgIG9iamVjdCA9IHt9OwoKICAgICAgICAgICAgaWYgKGNoID09PSAneycpIHsKICAgICAgICAgICAgICAgIG5leHQoJ3snKTsKICAgICAgICAgICAgICAgIHdoaXRlKCk7CiAgICAgICAgICAgICAgICBpZiAoY2ggPT09ICd9JykgewogICAgICAgICAgICAgICAgICAgIG5leHQoJ30nKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0OyAgIC8vIGVtcHR5IG9iamVjdAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgd2hpbGUgKGNoKSB7CiAgICAgICAgICAgICAgICAgICAga2V5ID0gc3RyaW5nKCk7CiAgICAgICAgICAgICAgICAgICAgd2hpdGUoKTsKICAgICAgICAgICAgICAgICAgICBuZXh0KCc6Jyk7CiAgICAgICAgICAgICAgICAgICAgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSkgewogICAgICAgICAgICAgICAgICAgICAgICBlcnJvcignRHVwbGljYXRlIGtleSAiJyArIGtleSArICciJyk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIG9iamVjdFtrZXldID0gdmFsdWUoKTsKICAgICAgICAgICAgICAgICAgICB3aGl0ZSgpOwogICAgICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gJ30nKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoJ30nKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgbmV4dCgnLCcpOwogICAgICAgICAgICAgICAgICAgIHdoaXRlKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZXJyb3IoIkJhZCBvYmplY3QiKTsKICAgICAgICB9OwoKICAgIHZhbHVlID0gZnVuY3Rpb24gKCkgewoKICAgICAgICB3aGl0ZSgpOwogICAgICAgIHN3aXRjaCAoY2gpIHsKICAgICAgICBjYXNlICd7JzoKICAgICAgICAgICAgcmV0dXJuIG9iamVjdCgpOwogICAgICAgIGNhc2UgJ1snOgogICAgICAgICAgICByZXR1cm4gYXJyYXkoKTsKICAgICAgICBjYXNlICciJzoKICAgICAgICAgICAgcmV0dXJuIHN0cmluZygpOwogICAgICAgIGNhc2UgJy0nOgogICAgICAgICAgICByZXR1cm4gbnVtYmVyKCk7CiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgcmV0dXJuIGNoID49ICcwJyAmJiBjaCA8PSAnOScgPyBudW1iZXIoKSA6IHdvcmQoKTsKICAgICAgICB9CiAgICB9OwoKICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlLCByZXZpdmVyKSB7CiAgICAgICAgdmFyIHJlc3VsdDsKCiAgICAgICAgdGV4dCA9IHNvdXJjZTsKICAgICAgICBhdCA9IDA7CiAgICAgICAgY2ggPSAnICc7CiAgICAgICAgcmVzdWx0ID0gdmFsdWUoKTsKICAgICAgICB3aGl0ZSgpOwogICAgICAgIGlmIChjaCkgewogICAgICAgICAgICBlcnJvcigiU3ludGF4IGVycm9yIik7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gdHlwZW9mIHJldml2ZXIgPT09ICdmdW5jdGlvbicgPyBmdW5jdGlvbiB3YWxrKGhvbGRlciwga2V5KSB7CiAgICAgICAgICAgIHZhciBrLCB2LCB2YWx1ZSA9IGhvbGRlcltrZXldOwogICAgICAgICAgICBpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JykgewogICAgICAgICAgICAgICAgZm9yIChrIGluIHZhbHVlKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBrKSkgewogICAgICAgICAgICAgICAgICAgICAgICB2ID0gd2Fsayh2YWx1ZSwgayk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2ICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlW2tdID0gdjsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB2YWx1ZVtrXTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gcmV2aXZlci5jYWxsKGhvbGRlciwga2V5LCB2YWx1ZSk7CiAgICAgICAgfSh7Jyc6IHJlc3VsdH0sICcnKSA6IHJlc3VsdDsKICAgIH07Cn0pOwoKYWNlLmRlZmluZSgiYWNlL21vZGUvanNvbl93b3JrZXIiLFtdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHsKInVzZSBzdHJpY3QiOwoKdmFyIG9vcCA9IHJlcXVpcmUoIi4uL2xpYi9vb3AiKTsKdmFyIE1pcnJvciA9IHJlcXVpcmUoIi4uL3dvcmtlci9taXJyb3IiKS5NaXJyb3I7CnZhciBwYXJzZSA9IHJlcXVpcmUoIi4vanNvbi9qc29uX3BhcnNlIik7Cgp2YXIgSnNvbldvcmtlciA9IGV4cG9ydHMuSnNvbldvcmtlciA9IGZ1bmN0aW9uKHNlbmRlcikgewogICAgTWlycm9yLmNhbGwodGhpcywgc2VuZGVyKTsKICAgIHRoaXMuc2V0VGltZW91dCgyMDApOwp9OwoKb29wLmluaGVyaXRzKEpzb25Xb3JrZXIsIE1pcnJvcik7CgooZnVuY3Rpb24oKSB7CgogICAgdGhpcy5vblVwZGF0ZSA9IGZ1bmN0aW9uKCkgewogICAgICAgIHZhciB2YWx1ZSA9IHRoaXMuZG9jLmdldFZhbHVlKCk7CiAgICAgICAgdmFyIGVycm9ycyA9IFtdOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGlmICh2YWx1ZSkKICAgICAgICAgICAgICAgIHBhcnNlKHZhbHVlKTsKICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgIHZhciBwb3MgPSB0aGlzLmRvYy5pbmRleFRvUG9zaXRpb24oZS5hdC0xKTsKICAgICAgICAgICAgZXJyb3JzLnB1c2goewogICAgICAgICAgICAgICAgcm93OiBwb3Mucm93LAogICAgICAgICAgICAgICAgY29sdW1uOiBwb3MuY29sdW1uLAogICAgICAgICAgICAgICAgdGV4dDogZS5tZXNzYWdlLAogICAgICAgICAgICAgICAgdHlwZTogImVycm9yIgogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgdGhpcy5zZW5kZXIuZW1pdCgiYW5ub3RhdGUiLCBlcnJvcnMpOwogICAgfTsKCn0pLmNhbGwoSnNvbldvcmtlci5wcm90b3R5cGUpOwoKfSk7Cg==";ace.config.setModuleUrl("ace/theme/kr_theme",themeUrl2),ace.config.setModuleUrl("ace/mode/json",modeJsonUrl),ace.config.setModuleUrl("ace/mode/json_worker",workerJsonUrl);const _sfc_main$w=vue.defineComponent({__name:"code-edit-modal",props:{modelValue:{default:()=>({})},lang:{default:"json"},title:{default:"编辑"}},emits:["update:modelValue","close"],setup(r,{emit:n}){const i=r,o=vue.ref(!1),a=vue.computed({get(){return i.lang==="json"?JSON.stringify(i.modelValue,null,2):i.modelValue},set(u){i.lang==="json"?n("update:modelValue",JSON.parse(u)):n("update:modelValue",u)}});return(u,c)=>(vue.openBlock(),vue.createElementBlock("div",null,[vue.createVNode(vue.unref(elementPlus.ElButton),{onClick:c[0]||(c[0]=f=>o.value=!0)},{default:vue.withCtx(()=>[vue.createTextVNode("···")]),_:1}),vue.createVNode(vue.unref(elementPlus.ElDialog),{class:"modal-full",modelValue:vue.unref(o),"onUpdate:modelValue":c[2]||(c[2]=f=>vue.isRef(o)?o.value=f:null),title:i.title,width:"60%",onClose:c[3]||(c[3]=f=>n("close"))},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(VAceEditor),{value:vue.unref(a),"onUpdate:value":c[1]||(c[1]=f=>vue.isRef(a)?a.value=f:null),lang:i.lang,theme:"kr_theme",style:{height:"400px"},options:{useWorker:!0,enableBasicAutocompletion:!0,enableSnippets:!0,enableLiveAutocompletion:!0}},null,8,["value","lang"])]),_:1},8,["modelValue","title"])]))}}),_hoisted_1$b={class:"one-row-txt",style:{width:"78px"}},_hoisted_2$8={key:1},_hoisted_3$7={class:"one-row-txt",style:{width:"145px"}},_hoisted_4$3={key:1},_sfc_main$v=vue.defineComponent({__name:"dynamic-el-form-item",props:{objInfo:{default:()=>({})},hide:{default:()=>[]},code:{type:Boolean,default:!1}},emits:["change"],setup(r,{emit:n}){const i=r;function o(a){let u=window.setTimeout(function(){n("change",a),clearTimeout(u),u=null},200)}return(a,u)=>(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(i.objInfo,(c,f)=>(vue.openBlock(),vue.createElementBlock("div",{key:f},[i.code?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElFormItem),{key:0,class:"props-row",size:"small"},{label:vue.withCtx(()=>[vue.unref(getStringWidth)(String(f))>78?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElTooltip),{key:0,content:String(f),placement:"left","popper-class":"props-popper"},{default:vue.withCtx(()=>[vue.createElementVNode("div",_hoisted_1$b,vue.toDisplayString(f),1)]),_:2},1032,["content"])):(vue.openBlock(),vue.createElementBlock("span",_hoisted_2$8,vue.toDisplayString(f),1))]),default:vue.withCtx(()=>[vue.unref(getStringWidth)(String(c.val))>145?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElTooltip),{key:0,content:JSON.stringify(c.val),placement:"left","popper-class":"props-popper"},{default:vue.withCtx(()=>[vue.createElementVNode("div",_hoisted_3$7,vue.toDisplayString(c.val),1)]),_:2},1032,["content"])):(vue.openBlock(),vue.createElementBlock("span",_hoisted_4$3,vue.toDisplayString(c.val),1))]),_:2},1024)):vue.createCommentVNode("",!0),i.hide.indexOf(String(f))<0?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElFormItem),{key:1,label:c.title,size:"small"},{default:vue.withCtx(()=>[c.type===vue.unref(EConfigItemPropsType).Select?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElSelect),{key:0,modelValue:c.val,"onUpdate:modelValue":d=>c.val=d,placeholder:"Select",size:"small",disabled:!!(c!=null&&c.disabled),onChange:o},{default:vue.withCtx(()=>[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(c.options,d=>(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElOption),{key:d.value,label:d.label,value:d.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","disabled"])):c.type===vue.unref(EConfigItemPropsType).InputNumber?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElInputNumber),{key:1,modelValue:c.val,"onUpdate:modelValue":d=>c.val=d,disabled:!!(c!=null&&c.disabled),onChange:o},null,8,["modelValue","onUpdate:modelValue","disabled"])):c.type===vue.unref(EConfigItemPropsType).Input?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElInput),{key:2,modelValue:c.val,"onUpdate:modelValue":d=>c.val=d,disabled:!!(c!=null&&c.disabled),onChange:o},null,8,["modelValue","onUpdate:modelValue","disabled"])):c.type===vue.unref(EConfigItemPropsType).Textarea?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElInput),{key:3,modelValue:c.val,"onUpdate:modelValue":d=>c.val=d,autosize:"",type:"textarea",disabled:!!(c!=null&&c.disabled),onChange:o},null,8,["modelValue","onUpdate:modelValue","disabled"])):c.type===vue.unref(EConfigItemPropsType).Color?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElColorPicker),{key:4,modelValue:c.val,"onUpdate:modelValue":d=>c.val=d,disabled:!!(c!=null&&c.disabled),onChange:o},null,8,["modelValue","onUpdate:modelValue","disabled"])):c.type===vue.unref(EConfigItemPropsType).Switch?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElSwitch),{key:5,modelValue:c.val,"onUpdate:modelValue":d=>c.val=d,disabled:!!(c!=null&&c.disabled),onChange:o},null,8,["modelValue","onUpdate:modelValue","disabled"])):c.type===vue.unref(EConfigItemPropsType).JsonEdit?(vue.openBlock(),vue.createBlock(_sfc_main$w,{key:6,modelValue:c.val,"onUpdate:modelValue":d=>c.val=d,disabled:!!(c!=null&&c.disabled),onClose:o},null,8,["modelValue","onUpdate:modelValue","disabled"])):vue.createCommentVNode("",!0)]),_:2},1032,["label"])):vue.createCommentVNode("",!0)]))),128))}}),dynamicElFormItem_vue_vue_type_style_index_0_scoped_df8be28f_lang="",dynamicElFormItem_vue_vue_type_style_index_1_lang="",DynamicElFormItem=_export_sfc$1(_sfc_main$v,[["__scopeId","data-v-df8be28f"]]),_hoisted_1$a={style:{height:"100%"}},_hoisted_2$7={class:"flex flex-wrap"},_hoisted_3$6=["onMouseenter","onClick"],_sfc_main$u=vue.defineComponent({__name:"common-animate",props:{val:{}},emits:["updateCommonAniVal"],setup(r,{emit:n}){const i=r,o=vue.ref(i.val),a=vue.ref(!1),u=vue.ref("进入"),c=vue.ref(null),f=d=>{n("updateCommonAniVal",d),a.value=!1};return vue.watch(()=>i.val,d=>{o.value=d}),(d,p)=>(vue.openBlock(),vue.createElementBlock("div",_hoisted_1$a,[vue.unref(o)?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElTag),{key:0,closable:"",onClose:p[0]||(p[0]=h=>f("")),onClick:p[1]||(p[1]=h=>a.value=!0),style:{cursor:"pointer"}},{default:vue.withCtx(()=>{var h;return[vue.createTextVNode(vue.toDisplayString((h=vue.unref(common_animate_list).map(g=>g.children).reduce((g,v)=>g.concat(v)).find(g=>g.value==vue.unref(o)))==null?void 0:h.label)+" ",1),vue.createVNode(vue.unref(elementPlus.ElIcon),{size:10},{default:vue.withCtx(()=>[vue.createVNode(_sfc_main$D,{name:"setting"})]),_:1})]}),_:1})):(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElTag),{key:1,type:"success",style:{cursor:"pointer"},onClick:p[2]||(p[2]=h=>a.value=!0)},{default:vue.withCtx(()=>[vue.createTextVNode("新增")]),_:1})),vue.createVNode(vue.unref(elementPlus.ElDrawer),{modelValue:vue.unref(a),"onUpdate:modelValue":p[5]||(p[5]=h=>vue.isRef(a)?a.value=h:null),title:"选择动画",direction:"ltr"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElTabs),{modelValue:vue.unref(u),"onUpdate:modelValue":p[4]||(p[4]=h=>vue.isRef(u)?u.value=h:null)},{default:vue.withCtx(()=>[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(vue.unref(common_animate_list),h=>(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElTabPane),{label:h.label,name:h.label,key:h.label},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElScrollbar),{height:"500px"},{default:vue.withCtx(()=>[vue.createElementVNode("div",_hoisted_2$7,[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(h.children,(g,v)=>(vue.openBlock(),vue.createElementBlock("div",{class:"animate",key:v,onMouseenter:y=>c.value=v,onMouseleave:p[3]||(p[3]=y=>c.value=null),onClick:y=>f(g.value)},[vue.createElementVNode("div",{class:vue.normalizeClass(`${vue.unref(c)==v?`animate__animated animate__${g.value} animate__slow animate__infinite`:""}`)},vue.toDisplayString(g.label),3)],40,_hoisted_3$6))),128))])]),_:2},1024)]),_:2},1032,["label","name"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])]))}}),commonAnimate_vue_vue_type_style_index_0_scoped_2668f60c_lang="",CommonAnimate=_export_sfc$1(_sfc_main$u,[["__scopeId","data-v-2668f60c"]]),_sfc_main$t=vue.defineComponent({__name:"component-tree",setup(r){const n=useGlobalStore(pinia),i=vue.computed(()=>{var u;return((u=n.handle_svg_info)==null?void 0:u.info.id)??""}),o=u=>{for(let c of n.done_json)c.selected=!1,c.old_position={x:0,y:0};n.intention=EGlobalStoreIntention.Select,n.setHandleSvgInfo(u)},a={children:"children",label:"title"};return(u,c)=>(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElTree),{class:"tree-v",data:vue.unref(n).done_json,props:a,onNodeClick:o,"default-expand-all":!0,"expand-on-click-node":!1,"highlight-current":!!vue.unref(i),"node-key":"id","current-node-key":vue.unref(i)},null,8,["data","highlight-current","current-node-key"]))}}),_withScopeId$1=r=>(vue.pushScopeId("data-v-98320511"),r=r(),vue.popScopeId(),r),_hoisted_1$9={class:"wall-l"},_hoisted_2$6={class:"head-l"},_hoisted_3$5=_withScopeId$1(()=>vue.createElementVNode("span",null,"key",-1)),_hoisted_4$2=_withScopeId$1(()=>vue.createElementVNode("span",null,"value",-1)),_hoisted_5$1={class:"row-l"},_sfc_main$s=vue.defineComponent({__name:"list",props:{modelValue:{default:()=>[{key:"",val:""}]}},emits:["update:modelValue"],setup(r,{emit:n}){const i=r,o=vue.computed({get(){return i.modelValue},set(c){n("update:modelValue",c)}}),a=()=>{o.value.push({key:"",val:""})},u=c=>{o.value.splice(c,1)};return(c,f)=>(vue.openBlock(),vue.createElementBlock("div",_hoisted_1$9,[vue.createElementVNode("div",_hoisted_2$6,[_hoisted_3$5,_hoisted_4$2,vue.createVNode(vue.unref(elementPlus.ElIcon),{size:16,class:"bt-Icon",onClick:a},{default:vue.withCtx(()=>[vue.createVNode(_sfc_main$D,{name:"add"})]),_:1})]),(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(vue.unref(o),(d,p)=>(vue.openBlock(),vue.createElementBlock("div",_hoisted_5$1,[vue.createVNode(vue.unref(elementPlus.ElInput),{class:"content-l",modelValue:d.key,"onUpdate:modelValue":h=>d.key=h,size:"small",placeholder:"key"},null,8,["modelValue","onUpdate:modelValue"]),vue.createVNode(vue.unref(elementPlus.ElInput),{class:"content-l",modelValue:d.val,"onUpdate:modelValue":h=>d.val=h,size:"small",placeholder:"value"},null,8,["modelValue","onUpdate:modelValue"]),vue.createVNode(vue.unref(elementPlus.ElIcon),{size:16,class:"bt-Icon",onClick:h=>u(p)},{default:vue.withCtx(()=>[vue.createVNode(_sfc_main$D,{name:"delete"})]),_:2},1032,["onClick"])]))),256))]))}}),list_vue_vue_type_style_index_0_scoped_98320511_lang="",List=_export_sfc$1(_sfc_main$s,[["__scopeId","data-v-98320511"]]),composeEventHandlers=(r,n,{checkForDefaultPrevented:i=!0}={})=>a=>{const u=r==null?void 0:r(a);if(i===!1||!u)return n==null?void 0:n(a)};var _a;const isClient=typeof window<"u",isString$1=r=>typeof r=="string",noop=()=>{},isIOS=isClient&&((_a=window==null?void 0:window.navigator)==null?void 0:_a.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function resolveUnref(r){return typeof r=="function"?r():vue.unref(r)}function createFilterWrapper(r,n){function i(...o){return new Promise((a,u)=>{Promise.resolve(r(()=>n.apply(this,o),{fn:n,thisArg:this,args:o})).then(a).catch(u)})}return i}function debounceFilter(r,n={}){let i,o,a=noop;const u=f=>{clearTimeout(f),a(),a=noop};return f=>{const d=resolveUnref(r),p=resolveUnref(n.maxWait);return i&&u(i),d<=0||p!==void 0&&p<=0?(o&&(u(o),o=null),Promise.resolve(f())):new Promise((h,g)=>{a=n.rejectOnCancel?g:h,p&&!o&&(o=setTimeout(()=>{i&&u(i),o=null,h(f())},p)),i=setTimeout(()=>{o&&u(o),o=null,h(f())},d)})}}function identity(r){return r}function tryOnScopeDispose(r){return vue.getCurrentScope()?(vue.onScopeDispose(r),!0):!1}function useDebounceFn(r,n=200,i={}){return createFilterWrapper(debounceFilter(n,i),r)}function refDebounced(r,n=200,i={}){const o=vue.ref(r.value),a=useDebounceFn(()=>{o.value=r.value},n,i);return vue.watch(r,()=>a()),o}function tryOnMounted(r,n=!0){vue.getCurrentInstance()?vue.onMounted(r):n?r():vue.nextTick(r)}function unrefElement(r){var n;const i=resolveUnref(r);return(n=i==null?void 0:i.$el)!=null?n:i}const defaultWindow=isClient?window:void 0;function useEventListener(...r){let n,i,o,a;if(isString$1(r[0])||Array.isArray(r[0])?([i,o,a]=r,n=defaultWindow):[n,i,o,a]=r,!n)return noop;Array.isArray(i)||(i=[i]),Array.isArray(o)||(o=[o]);const u=[],c=()=>{u.forEach(h=>h()),u.length=0},f=(h,g,v,y)=>(h.addEventListener(g,v,y),()=>h.removeEventListener(g,v,y)),d=vue.watch(()=>[unrefElement(n),resolveUnref(a)],([h,g])=>{c(),h&&u.push(...i.flatMap(v=>o.map(y=>f(h,v,y,g))))},{immediate:!0,flush:"post"}),p=()=>{d(),c()};return tryOnScopeDispose(p),p}let _iOSWorkaround=!1;function onClickOutside(r,n,i={}){const{window:o=defaultWindow,ignore:a=[],capture:u=!0,detectIframe:c=!1}=i;if(!o)return;isIOS&&!_iOSWorkaround&&(_iOSWorkaround=!0,Array.from(o.document.body.children).forEach(v=>v.addEventListener("click",noop)));let f=!0;const d=v=>a.some(y=>{if(typeof y=="string")return Array.from(o.document.querySelectorAll(y)).some(A=>A===v.target||v.composedPath().includes(A));{const A=unrefElement(y);return A&&(v.target===A||v.composedPath().includes(A))}}),h=[useEventListener(o,"click",v=>{const y=unrefElement(r);if(!(!y||y===v.target||v.composedPath().includes(y))){if(v.detail===0&&(f=!d(v)),!f){f=!0;return}n(v)}},{passive:!0,capture:u}),useEventListener(o,"pointerdown",v=>{const y=unrefElement(r);y&&(f=!v.composedPath().includes(y)&&!d(v))},{passive:!0}),c&&useEventListener(o,"blur",v=>{var y;const A=unrefElement(r);((y=o.document.activeElement)==null?void 0:y.tagName)==="IFRAME"&&!(A!=null&&A.contains(o.document.activeElement))&&n(v)})].filter(Boolean);return()=>h.forEach(v=>v())}function useSupported(r,n=!1){const i=vue.ref(),o=()=>i.value=!!r();return o(),tryOnMounted(o,n),i}const _global=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},globalKey="__vueuse_ssr_handlers__";_global[globalKey]=_global[globalKey]||{};var __getOwnPropSymbols$g=Object.getOwnPropertySymbols,__hasOwnProp$g=Object.prototype.hasOwnProperty,__propIsEnum$g=Object.prototype.propertyIsEnumerable,__objRest$2=(r,n)=>{var i={};for(var o in r)__hasOwnProp$g.call(r,o)&&n.indexOf(o)<0&&(i[o]=r[o]);if(r!=null&&__getOwnPropSymbols$g)for(var o of __getOwnPropSymbols$g(r))n.indexOf(o)<0&&__propIsEnum$g.call(r,o)&&(i[o]=r[o]);return i};function useResizeObserver(r,n,i={}){const o=i,{window:a=defaultWindow}=o,u=__objRest$2(o,["window"]);let c;const f=useSupported(()=>a&&"ResizeObserver"in a),d=()=>{c&&(c.disconnect(),c=void 0)},p=vue.watch(()=>unrefElement(r),g=>{d(),f.value&&a&&g&&(c=new ResizeObserver(n),c.observe(g,u))},{immediate:!0,flush:"post"}),h=()=>{d(),p()};return tryOnScopeDispose(h),{isSupported:f,stop:h}}var SwipeDirection;(function(r){r.UP="UP",r.RIGHT="RIGHT",r.DOWN="DOWN",r.LEFT="LEFT",r.NONE="NONE"})(SwipeDirection||(SwipeDirection={}));var __defProp=Object.defineProperty,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(r,n,i)=>n in r?__defProp(r,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):r[n]=i,__spreadValues=(r,n)=>{for(var i in n||(n={}))__hasOwnProp.call(n,i)&&__defNormalProp(r,i,n[i]);if(__getOwnPropSymbols)for(var i of __getOwnPropSymbols(n))__propIsEnum.call(n,i)&&__defNormalProp(r,i,n[i]);return r};const _TransitionPresets={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};__spreadValues({linear:identity},_TransitionPresets);const isFirefox=()=>isClient&&/firefox/i.test(window.navigator.userAgent);process.env.NODE_ENV!=="production"&&Object.freeze({}),process.env.NODE_ENV!=="production"&&Object.freeze([]);const NOOP=()=>{},hasOwnProperty=Object.prototype.hasOwnProperty,hasOwn=(r,n)=>hasOwnProperty.call(r,n),isArray=Array.isArray,isFunction=r=>typeof r=="function",isString=r=>typeof r=="string",isObject=r=>r!==null&&typeof r=="object",objectToString=Object.prototype.toString,toTypeString=r=>objectToString.call(r),toRawType=r=>toTypeString(r).slice(8,-1),isUndefined=r=>r===void 0,isBoolean=r=>typeof r=="boolean",isNumber=r=>typeof r=="number",isElement=r=>typeof Element>"u"?!1:r instanceof Element,isStringNumber=r=>isString(r)?!Number.isNaN(Number(r)):!1,escapeStringRegexp=(r="")=>r.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),getProp=(r,n,i)=>({get value(){return lodashEs.get(r,n,i)},set value(o){lodashEs.set(r,n,o)}});class ElementPlusError extends Error{constructor(n){super(n),this.name="ElementPlusError"}}function throwError(r,n){throw new ElementPlusError(`[${r}] ${n}`)}function debugWarn(r,n){if(process.env.NODE_ENV!=="production"){const i=isString(r)?new ElementPlusError(`[${r}] ${n}`):r;console.warn(i)}}const SCOPE$1="utils/dom/style";function addUnit(r,n="px"){if(!r)return"";if(isNumber(r)||isStringNumber(r))return`${r}${n}`;if(isString(r))return r;debugWarn(SCOPE$1,"binding value must be a string or number")}function scrollIntoView(r,n){if(!isClient)return;if(!n){r.scrollTop=0;return}const i=[];let o=n.offsetParent;for(;o!==null&&r!==o&&r.contains(o);)i.push(o),o=o.offsetParent;const a=n.offsetTop+i.reduce((d,p)=>d+p.offsetTop,0),u=a+n.offsetHeight,c=r.scrollTop,f=c+r.clientHeight;a<c?r.scrollTop=a:u>f&&(r.scrollTop=u-r.clientHeight)}const epPropKey="__epPropKey",definePropType=r=>r,isEpProp=r=>isObject(r)&&!!r[epPropKey],buildProp=(r,n)=>{if(!isObject(r)||isEpProp(r))return r;const{values:i,required:o,default:a,type:u,validator:c}=r,d={type:u,required:!!o,validator:i||c?p=>{let h=!1,g=[];if(i&&(g=Array.from(i),hasOwn(r,"default")&&g.push(a),h||(h=g.includes(p))),c&&(h||(h=c(p))),!h&&g.length>0){const v=[...new Set(g)].map(y=>JSON.stringify(y)).join(", ");vue.warn(`Invalid prop: validation failed${n?` for prop "${n}"`:""}. Expected one of [${v}], got value ${JSON.stringify(p)}.`)}return h}:void 0,[epPropKey]:!0};return hasOwn(r,"default")&&(d.default=a),d},buildProps=r=>lodashEs.fromPairs(Object.entries(r).map(([n,i])=>[n,buildProp(i,n)])),iconPropType=definePropType([String,Object,Function]),ValidateComponentsMap={validating:loading_default,success:circle_check_default,error:circle_close_default},withInstall=(r,n)=>{if(r.install=i=>{for(const o of[r,...Object.values(n??{})])i.component(o.name,o)},n)for(const[i,o]of Object.entries(n))r[i]=o;return r},withNoopInstall=r=>(r.install=NOOP,r),EVENT_CODE={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},UPDATE_MODEL_EVENT="update:modelValue",CHANGE_EVENT="change",componentSizes=["","default","small","large"],componentSizeMap={large:40,default:32,small:24},getComponentSize=r=>componentSizeMap[r||"default"],isValidComponentSize=r=>["",...componentSizes].includes(r),isKorean=r=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(r),mutable=r=>r,DEFAULT_EXCLUDE_KEYS=["class","style"],LISTENER_PREFIX=/^on[A-Z]/,useAttrs=(r={})=>{const{excludeListeners:n=!1,excludeKeys:i}=r,o=vue.computed(()=>((i==null?void 0:i.value)||[]).concat(DEFAULT_EXCLUDE_KEYS)),a=vue.getCurrentInstance();return a?vue.computed(()=>{var u;return lodashEs.fromPairs(Object.entries((u=a.proxy)==null?void 0:u.$attrs).filter(([c])=>!o.value.includes(c)&&!(n&&LISTENER_PREFIX.test(c))))}):(debugWarn("use-attrs","getCurrentInstance() returned null. useAttrs() must be called at the top of a setup function"),vue.computed(()=>({})))},useDeprecated=({from:r,replacement:n,scope:i,version:o,ref:a,type:u="API"},c)=>{vue.watch(()=>vue.unref(c),f=>{f&&debugWarn(i,`[${u}] ${r} is about to be deprecated in version ${o}, please use ${n} instead.
For more detail, please visit: ${a}
`)},{immediate:!0})},useFocus=r=>({focus:()=>{var n,i;(i=(n=r.value)==null?void 0:n.focus)==null||i.call(n)}});var English={name:"en",el:{colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color."},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"}}};const buildTranslator=r=>(n,i)=>translate(n,i,vue.unref(r)),translate=(r,n,i)=>lodashEs.get(i,r,r).replace(/\{(\w+)\}/g,(o,a)=>{var u;return`${(u=n==null?void 0:n[a])!=null?u:`{${a}}`}`}),buildLocaleContext=r=>{const n=vue.computed(()=>vue.unref(r).name),i=vue.isRef(r)?r:vue.ref(r);return{lang:n,locale:i,t:buildTranslator(r)}},localeContextKey=Symbol("localeContextKey"),useLocale=r=>{const n=r||vue.inject(localeContextKey,vue.ref());return buildLocaleContext(vue.computed(()=>n.value||English))},defaultNamespace="el",statePrefix="is-",_bem=(r,n,i,o,a)=>{let u=`${r}-${n}`;return i&&(u+=`-${i}`),o&&(u+=`__${o}`),a&&(u+=`--${a}`),u},namespaceContextKey=Symbol("namespaceContextKey"),useGetDerivedNamespace=r=>{const n=r||vue.inject(namespaceContextKey,vue.ref(defaultNamespace));return vue.computed(()=>vue.unref(n)||defaultNamespace)},useNamespace=(r,n)=>{const i=useGetDerivedNamespace(n);return{namespace:i,b:(_="")=>_bem(i.value,r,_,"",""),e:_=>_?_bem(i.value,r,"",_,""):"",m:_=>_?_bem(i.value,r,"","",_):"",be:(_,S)=>_&&S?_bem(i.value,r,_,S,""):"",em:(_,S)=>_&&S?_bem(i.value,r,"",_,S):"",bm:(_,S)=>_&&S?_bem(i.value,r,_,"",S):"",bem:(_,S,b)=>_&&S&&b?_bem(i.value,r,_,S,b):"",is:(_,...S)=>{const b=S.length>=1?S[0]:!0;return _&&b?`${statePrefix}${_}`:""},cssVar:_=>{const S={};for(const b in _)_[b]&&(S[`--${i.value}-${b}`]=_[b]);return S},cssVarName:_=>`--${i.value}-${_}`,cssVarBlock:_=>{const S={};for(const b in _)_[b]&&(S[`--${i.value}-${r}-${b}`]=_[b]);return S},cssVarBlockName:_=>`--${i.value}-${r}-${_}`}},_prop=buildProp({type:definePropType(Boolean),default:null}),_event=buildProp({type:definePropType(Function)}),createModelToggleComposable=r=>{const n=`update:${r}`,i=`onUpdate:${r}`,o=[n],a={[r]:_prop,[i]:_event};return{useModelToggle:({indicator:c,toggleReason:f,shouldHideWhenRouteChanges:d,shouldProceed:p,onShow:h,onHide:g})=>{const v=vue.getCurrentInstance(),{emit:y}=v,A=v.props,_=vue.computed(()=>isFunction(A[i])),S=vue.computed(()=>A[r]===null),b=D=>{c.value!==!0&&(c.value=!0,f&&(f.value=D),isFunction(h)&&h(D))},T=D=>{c.value!==!1&&(c.value=!1,f&&(f.value=D),isFunction(g)&&g(D))},w=D=>{if(A.disabled===!0||isFunction(p)&&!p())return;const z=_.value&&isClient;z&&y(n,!0),(S.value||!z)&&b(D)},x=D=>{if(A.disabled===!0||!isClient)return;const z=_.value&&isClient;z&&y(n,!1),(S.value||!z)&&T(D)},k=D=>{isBoolean(D)&&(A.disabled&&D?_.value&&y(n,!1):c.value!==D&&(D?b():T()))},M=()=>{c.value?x():w()};return vue.watch(()=>A[r],k),d&&v.appContext.config.globalProperties.$route!==void 0&&vue.watch(()=>({...v.proxy.$route}),()=>{d.value&&c.value&&x()}),vue.onMounted(()=>{k(A[r])}),{hide:x,show:w,toggle:M,hasUpdateHandler:_}},useModelToggleProps:a,useModelToggleEmits:o}};createModelToggleComposable("modelValue");const useProp=r=>{const n=vue.getCurrentInstance();return vue.computed(()=>{var i,o;return(o=(i=n==null?void 0:n.proxy)==null?void 0:i.$props)==null?void 0:o[r]})};var E="top",R="bottom",W="right",P="left",me="auto",G=[E,R,W,P],U="start",J="end",Xe="clippingParents",je="viewport",K="popper",Ye="reference",De=G.reduce(function(r,n){return r.concat([n+"-"+U,n+"-"+J])},[]),Ee=[].concat(G,[me]).reduce(function(r,n){return r.concat([n,n+"-"+U,n+"-"+J])},[]),Ge="beforeRead",Je="read",Ke="afterRead",Qe="beforeMain",Ze="main",et="afterMain",tt="beforeWrite",nt="write",rt="afterWrite",ot=[Ge,Je,Ke,Qe,Ze,et,tt,nt,rt];function C(r){return r?(r.nodeName||"").toLowerCase():null}function H(r){if(r==null)return window;if(r.toString()!=="[object Window]"){var n=r.ownerDocument;return n&&n.defaultView||window}return r}function Q(r){var n=H(r).Element;return r instanceof n||r instanceof Element}function B(r){var n=H(r).HTMLElement;return r instanceof n||r instanceof HTMLElement}function Pe(r){if(typeof ShadowRoot>"u")return!1;var n=H(r).ShadowRoot;return r instanceof n||r instanceof ShadowRoot}function Mt(r){var n=r.state;Object.keys(n.elements).forEach(function(i){var o=n.styles[i]||{},a=n.attributes[i]||{},u=n.elements[i];!B(u)||!C(u)||(Object.assign(u.style,o),Object.keys(a).forEach(function(c){var f=a[c];f===!1?u.removeAttribute(c):u.setAttribute(c,f===!0?"":f)}))})}function Rt(r){var n=r.state,i={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(n.elements.popper.style,i.popper),n.styles=i,n.elements.arrow&&Object.assign(n.elements.arrow.style,i.arrow),function(){Object.keys(n.elements).forEach(function(o){var a=n.elements[o],u=n.attributes[o]||{},c=Object.keys(n.styles.hasOwnProperty(o)?n.styles[o]:i[o]),f=c.reduce(function(d,p){return d[p]="",d},{});!B(a)||!C(a)||(Object.assign(a.style,f),Object.keys(u).forEach(function(d){a.removeAttribute(d)}))})}}var Ae={name:"applyStyles",enabled:!0,phase:"write",fn:Mt,effect:Rt,requires:["computeStyles"]};function q(r){return r.split("-")[0]}var X=Math.max,ve=Math.min,Z=Math.round;function ee(r,n){n===void 0&&(n=!1);var i=r.getBoundingClientRect(),o=1,a=1;if(B(r)&&n){var u=r.offsetHeight,c=r.offsetWidth;c>0&&(o=Z(i.width)/c||1),u>0&&(a=Z(i.height)/u||1)}return{width:i.width/o,height:i.height/a,top:i.top/a,right:i.right/o,bottom:i.bottom/a,left:i.left/o,x:i.left/o,y:i.top/a}}function ke(r){var n=ee(r),i=r.offsetWidth,o=r.offsetHeight;return Math.abs(n.width-i)<=1&&(i=n.width),Math.abs(n.height-o)<=1&&(o=n.height),{x:r.offsetLeft,y:r.offsetTop,width:i,height:o}}function it(r,n){var i=n.getRootNode&&n.getRootNode();if(r.contains(n))return!0;if(i&&Pe(i)){var o=n;do{if(o&&r.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function N(r){return H(r).getComputedStyle(r)}function Wt(r){return["table","td","th"].indexOf(C(r))>=0}function I(r){return((Q(r)?r.ownerDocument:r.document)||window.document).documentElement}function ge(r){return C(r)==="html"?r:r.assignedSlot||r.parentNode||(Pe(r)?r.host:null)||I(r)}function at(r){return!B(r)||N(r).position==="fixed"?null:r.offsetParent}function Bt(r){var n=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,i=navigator.userAgent.indexOf("Trident")!==-1;if(i&&B(r)){var o=N(r);if(o.position==="fixed")return null}var a=ge(r);for(Pe(a)&&(a=a.host);B(a)&&["html","body"].indexOf(C(a))<0;){var u=N(a);if(u.transform!=="none"||u.perspective!=="none"||u.contain==="paint"||["transform","perspective"].indexOf(u.willChange)!==-1||n&&u.willChange==="filter"||n&&u.filter&&u.filter!=="none")return a;a=a.parentNode}return null}function se(r){for(var n=H(r),i=at(r);i&&Wt(i)&&N(i).position==="static";)i=at(i);return i&&(C(i)==="html"||C(i)==="body"&&N(i).position==="static")?n:i||Bt(r)||n}function Le(r){return["top","bottom"].indexOf(r)>=0?"x":"y"}function fe(r,n,i){return X(r,ve(n,i))}function St(r,n,i){var o=fe(r,n,i);return o>i?i:o}function st(){return{top:0,right:0,bottom:0,left:0}}function ft(r){return Object.assign({},st(),r)}function ct(r,n){return n.reduce(function(i,o){return i[o]=r,i},{})}var Tt=function(r,n){return r=typeof r=="function"?r(Object.assign({},n.rects,{placement:n.placement})):r,ft(typeof r!="number"?r:ct(r,G))};function Ht(r){var n,i=r.state,o=r.name,a=r.options,u=i.elements.arrow,c=i.modifiersData.popperOffsets,f=q(i.placement),d=Le(f),p=[P,W].indexOf(f)>=0,h=p?"height":"width";if(!(!u||!c)){var g=Tt(a.padding,i),v=ke(u),y=d==="y"?E:P,A=d==="y"?R:W,_=i.rects.reference[h]+i.rects.reference[d]-c[d]-i.rects.popper[h],S=c[d]-i.rects.reference[d],b=se(u),T=b?d==="y"?b.clientHeight||0:b.clientWidth||0:0,w=_/2-S/2,x=g[y],k=T-v[h]-g[A],M=T/2-v[h]/2+w,D=fe(x,M,k),z=d;i.modifiersData[o]=(n={},n[z]=D,n.centerOffset=D-M,n)}}function Ct(r){var n=r.state,i=r.options,o=i.element,a=o===void 0?"[data-popper-arrow]":o;a!=null&&(typeof a=="string"&&(a=n.elements.popper.querySelector(a),!a)||!it(n.elements.popper,a)||(n.elements.arrow=a))}var pt={name:"arrow",enabled:!0,phase:"main",fn:Ht,effect:Ct,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function te(r){return r.split("-")[1]}var qt={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Vt(r){var n=r.x,i=r.y,o=window,a=o.devicePixelRatio||1;return{x:Z(n*a)/a||0,y:Z(i*a)/a||0}}function ut(r){var n,i=r.popper,o=r.popperRect,a=r.placement,u=r.variation,c=r.offsets,f=r.position,d=r.gpuAcceleration,p=r.adaptive,h=r.roundOffsets,g=r.isFixed,v=c.x,y=v===void 0?0:v,A=c.y,_=A===void 0?0:A,S=typeof h=="function"?h({x:y,y:_}):{x:y,y:_};y=S.x,_=S.y;var b=c.hasOwnProperty("x"),T=c.hasOwnProperty("y"),w=P,x=E,k=window;if(p){var M=se(i),D="clientHeight",z="clientWidth";if(M===H(i)&&(M=I(i),N(M).position!=="static"&&f==="absolute"&&(D="scrollHeight",z="scrollWidth")),M=M,a===E||(a===P||a===W)&&u===J){x=R;var j=g&&M===k&&k.visualViewport?k.visualViewport.height:M[D];_-=j-o.height,_*=d?1:-1}if(a===P||(a===E||a===R)&&u===J){w=W;var oe=g&&M===k&&k.visualViewport?k.visualViewport.width:M[z];y-=oe-o.width,y*=d?1:-1}}var L=Object.assign({position:f},p&&qt),F=h===!0?Vt({x:y,y:_}):{x:y,y:_};if(y=F.x,_=F.y,d){var O;return Object.assign({},L,(O={},O[x]=T?"0":"",O[w]=b?"0":"",O.transform=(k.devicePixelRatio||1)<=1?"translate("+y+"px, "+_+"px)":"translate3d("+y+"px, "+_+"px, 0)",O))}return Object.assign({},L,(n={},n[x]=T?_+"px":"",n[w]=b?y+"px":"",n.transform="",n))}function Nt(r){var n=r.state,i=r.options,o=i.gpuAcceleration,a=o===void 0?!0:o,u=i.adaptive,c=u===void 0?!0:u,f=i.roundOffsets,d=f===void 0?!0:f,p={placement:q(n.placement),variation:te(n.placement),popper:n.elements.popper,popperRect:n.rects.popper,gpuAcceleration:a,isFixed:n.options.strategy==="fixed"};n.modifiersData.popperOffsets!=null&&(n.styles.popper=Object.assign({},n.styles.popper,ut(Object.assign({},p,{offsets:n.modifiersData.popperOffsets,position:n.options.strategy,adaptive:c,roundOffsets:d})))),n.modifiersData.arrow!=null&&(n.styles.arrow=Object.assign({},n.styles.arrow,ut(Object.assign({},p,{offsets:n.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:d})))),n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-placement":n.placement})}var Me={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Nt,data:{}},ye={passive:!0};function It(r){var n=r.state,i=r.instance,o=r.options,a=o.scroll,u=a===void 0?!0:a,c=o.resize,f=c===void 0?!0:c,d=H(n.elements.popper),p=[].concat(n.scrollParents.reference,n.scrollParents.popper);return u&&p.forEach(function(h){h.addEventListener("scroll",i.update,ye)}),f&&d.addEventListener("resize",i.update,ye),function(){u&&p.forEach(function(h){h.removeEventListener("scroll",i.update,ye)}),f&&d.removeEventListener("resize",i.update,ye)}}var Re={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:It,data:{}},_t={left:"right",right:"left",bottom:"top",top:"bottom"};function be(r){return r.replace(/left|right|bottom|top/g,function(n){return _t[n]})}var zt={start:"end",end:"start"};function lt(r){return r.replace(/start|end/g,function(n){return zt[n]})}function We(r){var n=H(r),i=n.pageXOffset,o=n.pageYOffset;return{scrollLeft:i,scrollTop:o}}function Be(r){return ee(I(r)).left+We(r).scrollLeft}function Ft(r){var n=H(r),i=I(r),o=n.visualViewport,a=i.clientWidth,u=i.clientHeight,c=0,f=0;return o&&(a=o.width,u=o.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(c=o.offsetLeft,f=o.offsetTop)),{width:a,height:u,x:c+Be(r),y:f}}function Ut(r){var n,i=I(r),o=We(r),a=(n=r.ownerDocument)==null?void 0:n.body,u=X(i.scrollWidth,i.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),c=X(i.scrollHeight,i.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),f=-o.scrollLeft+Be(r),d=-o.scrollTop;return N(a||i).direction==="rtl"&&(f+=X(i.clientWidth,a?a.clientWidth:0)-u),{width:u,height:c,x:f,y:d}}function Se(r){var n=N(r),i=n.overflow,o=n.overflowX,a=n.overflowY;return/auto|scroll|overlay|hidden/.test(i+a+o)}function dt(r){return["html","body","#document"].indexOf(C(r))>=0?r.ownerDocument.body:B(r)&&Se(r)?r:dt(ge(r))}function ce(r,n){var i;n===void 0&&(n=[]);var o=dt(r),a=o===((i=r.ownerDocument)==null?void 0:i.body),u=H(o),c=a?[u].concat(u.visualViewport||[],Se(o)?o:[]):o,f=n.concat(c);return a?f:f.concat(ce(ge(c)))}function Te(r){return Object.assign({},r,{left:r.x,top:r.y,right:r.x+r.width,bottom:r.y+r.height})}function Xt(r){var n=ee(r);return n.top=n.top+r.clientTop,n.left=n.left+r.clientLeft,n.bottom=n.top+r.clientHeight,n.right=n.left+r.clientWidth,n.width=r.clientWidth,n.height=r.clientHeight,n.x=n.left,n.y=n.top,n}function ht(r,n){return n===je?Te(Ft(r)):Q(n)?Xt(n):Te(Ut(I(r)))}function Yt(r){var n=ce(ge(r)),i=["absolute","fixed"].indexOf(N(r).position)>=0,o=i&&B(r)?se(r):r;return Q(o)?n.filter(function(a){return Q(a)&&it(a,o)&&C(a)!=="body"}):[]}function Gt(r,n,i){var o=n==="clippingParents"?Yt(r):[].concat(n),a=[].concat(o,[i]),u=a[0],c=a.reduce(function(f,d){var p=ht(r,d);return f.top=X(p.top,f.top),f.right=ve(p.right,f.right),f.bottom=ve(p.bottom,f.bottom),f.left=X(p.left,f.left),f},ht(r,u));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function mt(r){var n=r.reference,i=r.element,o=r.placement,a=o?q(o):null,u=o?te(o):null,c=n.x+n.width/2-i.width/2,f=n.y+n.height/2-i.height/2,d;switch(a){case E:d={x:c,y:n.y-i.height};break;case R:d={x:c,y:n.y+n.height};break;case W:d={x:n.x+n.width,y:f};break;case P:d={x:n.x-i.width,y:f};break;default:d={x:n.x,y:n.y}}var p=a?Le(a):null;if(p!=null){var h=p==="y"?"height":"width";switch(u){case U:d[p]=d[p]-(n[h]/2-i[h]/2);break;case J:d[p]=d[p]+(n[h]/2-i[h]/2);break}}return d}function ne(r,n){n===void 0&&(n={});var i=n,o=i.placement,a=o===void 0?r.placement:o,u=i.boundary,c=u===void 0?Xe:u,f=i.rootBoundary,d=f===void 0?je:f,p=i.elementContext,h=p===void 0?K:p,g=i.altBoundary,v=g===void 0?!1:g,y=i.padding,A=y===void 0?0:y,_=ft(typeof A!="number"?A:ct(A,G)),S=h===K?Ye:K,b=r.rects.popper,T=r.elements[v?S:h],w=Gt(Q(T)?T:T.contextElement||I(r.elements.popper),c,d),x=ee(r.elements.reference),k=mt({reference:x,element:b,strategy:"absolute",placement:a}),M=Te(Object.assign({},b,k)),D=h===K?M:x,z={top:w.top-D.top+_.top,bottom:D.bottom-w.bottom+_.bottom,left:w.left-D.left+_.left,right:D.right-w.right+_.right},j=r.modifiersData.offset;if(h===K&&j){var oe=j[a];Object.keys(z).forEach(function(L){var F=[W,R].indexOf(L)>=0?1:-1,O=[E,R].indexOf(L)>=0?"y":"x";z[L]+=oe[O]*F})}return z}function Jt(r,n){n===void 0&&(n={});var i=n,o=i.placement,a=i.boundary,u=i.rootBoundary,c=i.padding,f=i.flipVariations,d=i.allowedAutoPlacements,p=d===void 0?Ee:d,h=te(o),g=h?f?De:De.filter(function(A){return te(A)===h}):G,v=g.filter(function(A){return p.indexOf(A)>=0});v.length===0&&(v=g);var y=v.reduce(function(A,_){return A[_]=ne(r,{placement:_,boundary:a,rootBoundary:u,padding:c})[q(_)],A},{});return Object.keys(y).sort(function(A,_){return y[A]-y[_]})}function Kt(r){if(q(r)===me)return[];var n=be(r);return[lt(r),n,lt(n)]}function Qt(r){var n=r.state,i=r.options,o=r.name;if(!n.modifiersData[o]._skip){for(var a=i.mainAxis,u=a===void 0?!0:a,c=i.altAxis,f=c===void 0?!0:c,d=i.fallbackPlacements,p=i.padding,h=i.boundary,g=i.rootBoundary,v=i.altBoundary,y=i.flipVariations,A=y===void 0?!0:y,_=i.allowedAutoPlacements,S=n.options.placement,b=q(S),T=b===S,w=d||(T||!A?[be(S)]:Kt(S)),x=[S].concat(w).reduce(function(Fe,$e){return Fe.concat(q($e)===me?Jt(n,{placement:$e,boundary:h,rootBoundary:g,padding:p,flipVariations:A,allowedAutoPlacements:_}):$e)},[]),k=n.rects.reference,M=n.rects.popper,D=new Map,z=!0,j=x[0],oe=0;oe<x.length;oe++){var L=x[oe],F=q(L),O=te(L)===U,ue=[E,R].indexOf(F)>=0,_e=ue?"width":"height",Ce=ne(n,{placement:L,boundary:h,rootBoundary:g,altBoundary:v,padding:p}),de=ue?O?W:P:O?R:E;k[_e]>M[_e]&&(de=be(de));var ie=be(de),Y=[];if(u&&Y.push(Ce[F]<=0),f&&Y.push(Ce[de]<=0,Ce[ie]<=0),Y.every(function(Fe){return Fe})){j=L,z=!1;break}D.set(L,Y)}if(z)for(var Ie=A?3:1,Oe=function(Fe){var $e=x.find(function(Cn){var Lt=D.get(Cn);if(Lt)return Lt.slice(0,Fe).every(function(In){return In})});if($e)return j=$e,"break"},kt=Ie;kt>0;kt--){var Dt=Oe(kt);if(Dt==="break")break}n.placement!==j&&(n.modifiersData[o]._skip=!0,n.placement=j,n.reset=!0)}}var vt={name:"flip",enabled:!0,phase:"main",fn:Qt,requiresIfExists:["offset"],data:{_skip:!1}};function gt(r,n,i){return i===void 0&&(i={x:0,y:0}),{top:r.top-n.height-i.y,right:r.right-n.width+i.x,bottom:r.bottom-n.height+i.y,left:r.left-n.width-i.x}}function yt(r){return[E,W,R,P].some(function(n){return r[n]>=0})}function Zt(r){var n=r.state,i=r.name,o=n.rects.reference,a=n.rects.popper,u=n.modifiersData.preventOverflow,c=ne(n,{elementContext:"reference"}),f=ne(n,{altBoundary:!0}),d=gt(c,o),p=gt(f,a,u),h=yt(d),g=yt(p);n.modifiersData[i]={referenceClippingOffsets:d,popperEscapeOffsets:p,isReferenceHidden:h,hasPopperEscaped:g},n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":g})}var bt={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Zt};function en(r,n,i){var o=q(r),a=[P,E].indexOf(o)>=0?-1:1,u=typeof i=="function"?i(Object.assign({},n,{placement:r})):i,c=u[0],f=u[1];return c=c||0,f=(f||0)*a,[P,W].indexOf(o)>=0?{x:f,y:c}:{x:c,y:f}}function tn(r){var n=r.state,i=r.options,o=r.name,a=i.offset,u=a===void 0?[0,0]:a,c=Ee.reduce(function(h,g){return h[g]=en(g,n.rects,u),h},{}),f=c[n.placement],d=f.x,p=f.y;n.modifiersData.popperOffsets!=null&&(n.modifiersData.popperOffsets.x+=d,n.modifiersData.popperOffsets.y+=p),n.modifiersData[o]=c}var wt={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:tn};function nn(r){var n=r.state,i=r.name;n.modifiersData[i]=mt({reference:n.rects.reference,element:n.rects.popper,strategy:"absolute",placement:n.placement})}var He={name:"popperOffsets",enabled:!0,phase:"read",fn:nn,data:{}};function rn(r){return r==="x"?"y":"x"}function on(r){var n=r.state,i=r.options,o=r.name,a=i.mainAxis,u=a===void 0?!0:a,c=i.altAxis,f=c===void 0?!1:c,d=i.boundary,p=i.rootBoundary,h=i.altBoundary,g=i.padding,v=i.tether,y=v===void 0?!0:v,A=i.tetherOffset,_=A===void 0?0:A,S=ne(n,{boundary:d,rootBoundary:p,padding:g,altBoundary:h}),b=q(n.placement),T=te(n.placement),w=!T,x=Le(b),k=rn(x),M=n.modifiersData.popperOffsets,D=n.rects.reference,z=n.rects.popper,j=typeof _=="function"?_(Object.assign({},n.rects,{placement:n.placement})):_,oe=typeof j=="number"?{mainAxis:j,altAxis:j}:Object.assign({mainAxis:0,altAxis:0},j),L=n.modifiersData.offset?n.modifiersData.offset[n.placement]:null,F={x:0,y:0};if(M){if(u){var O,ue=x==="y"?E:P,_e=x==="y"?R:W,Ce=x==="y"?"height":"width",de=M[x],ie=de+S[ue],Y=de-S[_e],Ie=y?-z[Ce]/2:0,Oe=T===U?D[Ce]:z[Ce],kt=T===U?-z[Ce]:-D[Ce],Dt=n.elements.arrow,Fe=y&&Dt?ke(Dt):{width:0,height:0},$e=n.modifiersData["arrow#persistent"]?n.modifiersData["arrow#persistent"].padding:st(),Cn=$e[ue],Lt=$e[_e],In=fe(0,D[Ce],Fe[Ce]),Et=w?D[Ce]/2-Ie-In-Cn-oe.mainAxis:Oe-In-Cn-oe.mainAxis,Ne=w?-D[Ce]/2+Ie+In+Lt+oe.mainAxis:kt+In+Lt+oe.mainAxis,pe=n.elements.arrow&&se(n.elements.arrow),At=pe?x==="y"?pe.clientTop||0:pe.clientLeft||0:0,Ve=(O=L==null?void 0:L[x])!=null?O:0,xe=de+Et-Ve-At,ze=de+Ne-Ve,Pt=fe(y?ve(ie,xe):ie,de,y?X(Y,ze):Y);M[x]=Pt,F[x]=Pt-de}if(f){var hn,ae=x==="x"?E:P,le=x==="x"?R:W,re=M[k],V=k==="y"?"height":"width",$=re+S[ae],he=re-S[le],Ue=[E,P].indexOf(b)!==-1,qe=(hn=L==null?void 0:L[k])!=null?hn:0,jt=Ue?$:re-D[V]-z[V]-qe+oe.altAxis,An=Ue?re+D[V]+z[V]-qe-oe.altAxis:he,wn=y&&Ue?St(jt,re,An):fe(y?jt:$,re,y?An:he);M[k]=wn,F[k]=wn-re}n.modifiersData[o]=F}}var xt={name:"preventOverflow",enabled:!0,phase:"main",fn:on,requiresIfExists:["offset"]};function an(r){return{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}}function sn(r){return r===H(r)||!B(r)?We(r):an(r)}function fn(r){var n=r.getBoundingClientRect(),i=Z(n.width)/r.offsetWidth||1,o=Z(n.height)/r.offsetHeight||1;return i!==1||o!==1}function cn(r,n,i){i===void 0&&(i=!1);var o=B(n),a=B(n)&&fn(n),u=I(n),c=ee(r,a),f={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(o||!o&&!i)&&((C(n)!=="body"||Se(u))&&(f=sn(n)),B(n)?(d=ee(n,!0),d.x+=n.clientLeft,d.y+=n.clientTop):u&&(d.x=Be(u))),{x:c.left+f.scrollLeft-d.x,y:c.top+f.scrollTop-d.y,width:c.width,height:c.height}}function pn(r){var n=new Map,i=new Set,o=[];r.forEach(function(u){n.set(u.name,u)});function a(u){i.add(u.name);var c=[].concat(u.requires||[],u.requiresIfExists||[]);c.forEach(function(f){if(!i.has(f)){var d=n.get(f);d&&a(d)}}),o.push(u)}return r.forEach(function(u){i.has(u.name)||a(u)}),o}function un(r){var n=pn(r);return ot.reduce(function(i,o){return i.concat(n.filter(function(a){return a.phase===o}))},[])}function ln(r){var n;return function(){return n||(n=new Promise(function(i){Promise.resolve().then(function(){n=void 0,i(r())})})),n}}function dn(r){var n=r.reduce(function(i,o){var a=i[o.name];return i[o.name]=a?Object.assign({},a,o,{options:Object.assign({},a.options,o.options),data:Object.assign({},a.data,o.data)}):o,i},{});return Object.keys(n).map(function(i){return n[i]})}var Ot={placement:"bottom",modifiers:[],strategy:"absolute"};function $t(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return!n.some(function(o){return!(o&&typeof o.getBoundingClientRect=="function")})}function we(r){r===void 0&&(r={});var n=r,i=n.defaultModifiers,o=i===void 0?[]:i,a=n.defaultOptions,u=a===void 0?Ot:a;return function(c,f,d){d===void 0&&(d=u);var p={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ot,u),modifiersData:{},elements:{reference:c,popper:f},attributes:{},styles:{}},h=[],g=!1,v={state:p,setOptions:function(_){var S=typeof _=="function"?_(p.options):_;A(),p.options=Object.assign({},u,p.options,S),p.scrollParents={reference:Q(c)?ce(c):c.contextElement?ce(c.contextElement):[],popper:ce(f)};var b=un(dn([].concat(o,p.options.modifiers)));return p.orderedModifiers=b.filter(function(T){return T.enabled}),y(),v.update()},forceUpdate:function(){if(!g){var _=p.elements,S=_.reference,b=_.popper;if($t(S,b)){p.rects={reference:cn(S,se(b),p.options.strategy==="fixed"),popper:ke(b)},p.reset=!1,p.placement=p.options.placement,p.orderedModifiers.forEach(function(z){return p.modifiersData[z.name]=Object.assign({},z.data)});for(var T=0;T<p.orderedModifiers.length;T++){if(p.reset===!0){p.reset=!1,T=-1;continue}var w=p.orderedModifiers[T],x=w.fn,k=w.options,M=k===void 0?{}:k,D=w.name;typeof x=="function"&&(p=x({state:p,options:M,name:D,instance:v})||p)}}}},update:ln(function(){return new Promise(function(_){v.forceUpdate(),_(p)})}),destroy:function(){A(),g=!0}};if(!$t(c,f))return v;v.setOptions(d).then(function(_){!g&&d.onFirstUpdate&&d.onFirstUpdate(_)});function y(){p.orderedModifiers.forEach(function(_){var S=_.name,b=_.options,T=b===void 0?{}:b,w=_.effect;if(typeof w=="function"){var x=w({state:p,name:S,instance:v,options:T}),k=function(){};h.push(x||k)}})}function A(){h.forEach(function(_){return _()}),h=[]}return v}}we();var mn=[Re,He,Me,Ae];we({defaultModifiers:mn});var gn=[Re,He,Me,Ae,wt,vt,xt,pt,bt],yn=we({defaultModifiers:gn});const usePopper=(r,n,i={})=>{const o={name:"updateState",enabled:!0,phase:"write",fn:({state:d})=>{const p=deriveState(d);Object.assign(c.value,p)},requires:["computeStyles"]},a=vue.computed(()=>{const{onFirstUpdate:d,placement:p,strategy:h,modifiers:g}=vue.unref(i);return{onFirstUpdate:d,placement:p||"bottom",strategy:h||"absolute",modifiers:[...g||[],o,{name:"applyStyles",enabled:!1}]}}),u=vue.shallowRef(),c=vue.ref({styles:{popper:{position:vue.unref(a).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),f=()=>{u.value&&(u.value.destroy(),u.value=void 0)};return vue.watch(a,d=>{const p=vue.unref(u);p&&p.setOptions(d)},{deep:!0}),vue.watch([r,n],([d,p])=>{f(),!(!d||!p)&&(u.value=yn(d,p,vue.unref(a)))}),vue.onBeforeUnmount(()=>{f()}),{state:vue.computed(()=>{var d;return{...((d=vue.unref(u))==null?void 0:d.state)||{}}}),styles:vue.computed(()=>vue.unref(c).styles),attributes:vue.computed(()=>vue.unref(c).attributes),update:()=>{var d;return(d=vue.unref(u))==null?void 0:d.update()},forceUpdate:()=>{var d;return(d=vue.unref(u))==null?void 0:d.forceUpdate()},instanceRef:vue.computed(()=>vue.unref(u))}};function deriveState(r){const n=Object.keys(r.elements),i=lodashEs.fromPairs(n.map(a=>[a,r.styles[a]||{}])),o=lodashEs.fromPairs(n.map(a=>[a,r.attributes[a]]));return{styles:i,attributes:o}}function useTimeout(){let r;const n=(o,a)=>{i(),r=window.setTimeout(o,a)},i=()=>window.clearTimeout(r);return tryOnScopeDispose(()=>i()),{registerTimeout:n,cancelTimeout:i}}const defaultIdInjection={prefix:Math.floor(Math.random()*1e4),current:0},ID_INJECTION_KEY=Symbol("elIdInjection"),useIdInjection=()=>vue.getCurrentInstance()?vue.inject(ID_INJECTION_KEY,defaultIdInjection):defaultIdInjection,useId=r=>{const n=useIdInjection();!isClient&&n===defaultIdInjection&&debugWarn("IdInjection",`Looks like you are using server rendering, you must provide a id provider to ensure the hydration process to be succeed
usage: app.provide(ID_INJECTION_KEY, {
  prefix: number,
  current: number,
})`);const i=useGetDerivedNamespace();return vue.computed(()=>vue.unref(r)||`${i.value}-id-${n.prefix}-${n.current++}`)};let registeredEscapeHandlers=[];const cachedHandler=r=>{const n=r;n.key===EVENT_CODE.esc&&registeredEscapeHandlers.forEach(i=>i(n))},useEscapeKeydown=r=>{vue.onMounted(()=>{registeredEscapeHandlers.length===0&&document.addEventListener("keydown",cachedHandler),isClient&&registeredEscapeHandlers.push(r)}),vue.onBeforeUnmount(()=>{registeredEscapeHandlers=registeredEscapeHandlers.filter(n=>n!==r),registeredEscapeHandlers.length===0&&isClient&&document.removeEventListener("keydown",cachedHandler)})};let cachedContainer;const usePopperContainerId=()=>{const r=useGetDerivedNamespace(),n=useIdInjection(),i=vue.computed(()=>`${r.value}-popper-container-${n.prefix}`),o=vue.computed(()=>`#${i.value}`);return{id:i,selector:o}},createContainer=r=>{const n=document.createElement("div");return n.id=r,document.body.appendChild(n),n},usePopperContainer=()=>{const{id:r,selector:n}=usePopperContainerId();return vue.onBeforeMount(()=>{isClient&&(process.env.NODE_ENV==="test"||!cachedContainer&&!document.body.querySelector(n.value))&&(cachedContainer=createContainer(r.value))}),{id:r,selector:n}},useDelayedToggleProps=buildProps({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),useDelayedToggle=({showAfter:r,hideAfter:n,autoClose:i,open:o,close:a})=>{const{registerTimeout:u}=useTimeout(),{registerTimeout:c,cancelTimeout:f}=useTimeout();return{onOpen:h=>{u(()=>{o(h);const g=vue.unref(i);isNumber(g)&&g>0&&c(()=>{a(h)},g)},vue.unref(r))},onClose:h=>{f(),u(()=>{a(h)},vue.unref(n))}}},FORWARD_REF_INJECTION_KEY=Symbol("elForwardRef"),useForwardRef=r=>{const n=i=>{r.value=i};vue.provide(FORWARD_REF_INJECTION_KEY,{setForwardRef:n})},useForwardRefDirective=r=>({mounted(n){r(n)},updated(n){r(n)},unmounted(){r(null)}}),zIndex=vue.ref(0),defaultInitialZIndex=2e3,zIndexContextKey=Symbol("zIndexContextKey"),useZIndex=r=>{const n=r||vue.inject(zIndexContextKey,void 0),i=vue.computed(()=>{const u=vue.unref(n);return isNumber(u)?u:defaultInitialZIndex}),o=vue.computed(()=>i.value+zIndex.value);return{initialZIndex:i,currentZIndex:o,nextZIndex:()=>(zIndex.value++,o.value)}};function useCursor(r){const n=vue.ref();function i(){if(r.value==null)return;const{selectionStart:a,selectionEnd:u,value:c}=r.value;if(a==null||u==null)return;const f=c.slice(0,Math.max(0,a)),d=c.slice(Math.max(0,u));n.value={selectionStart:a,selectionEnd:u,value:c,beforeTxt:f,afterTxt:d}}function o(){if(r.value==null||n.value==null)return;const{value:a}=r.value,{beforeTxt:u,afterTxt:c,selectionStart:f}=n.value;if(u==null||c==null||f==null)return;let d=a.length;if(a.endsWith(c))d=a.length-c.length;else if(a.startsWith(u))d=u.length;else{const p=u[f-1],h=a.indexOf(p,f-1);h!==-1&&(d=h+1)}r.value.setSelectionRange(d,d)}return[i,o]}const useSizeProp=buildProp({type:String,values:componentSizes,required:!1}),SIZE_INJECTION_KEY=Symbol("size"),useGlobalSize=()=>{const r=vue.inject(SIZE_INJECTION_KEY,{});return vue.computed(()=>vue.unref(r.size)||"")};function useFocusController(r,{afterFocus:n,afterBlur:i}={}){const o=vue.getCurrentInstance(),{emit:a}=o,u=vue.shallowRef(),c=vue.ref(!1),f=h=>{c.value||(c.value=!0,a("focus",h),n==null||n())},d=h=>{var g;h.relatedTarget&&((g=u.value)!=null&&g.contains(h.relatedTarget))||(c.value=!1,a("blur",h),i==null||i())},p=()=>{var h;(h=r.value)==null||h.focus()};return vue.watch(u,h=>{h&&(h.setAttribute("role","button"),h.setAttribute("tabindex","-1"))}),useEventListener(u,"click",p),{wrapperRef:u,isFocused:c,handleFocus:f,handleBlur:d}}var _export_sfc=(r,n)=>{const i=r.__vccOpts||r;for(const[o,a]of n)i[o]=a;return i};const iconProps=buildProps({size:{type:definePropType([Number,String])},color:{type:String}}),__default__$c=vue.defineComponent({name:"ElIcon",inheritAttrs:!1}),_sfc_main$r=vue.defineComponent({...__default__$c,props:iconProps,setup(r){const n=r,i=useNamespace("icon"),o=vue.computed(()=>{const{size:a,color:u}=n;return!a&&!u?{}:{fontSize:isUndefined(a)?void 0:addUnit(a),"--color":u}});return(a,u)=>(vue.openBlock(),vue.createElementBlock("i",vue.mergeProps({class:vue.unref(i).b(),style:vue.unref(o)},a.$attrs),[vue.renderSlot(a.$slots,"default")],16))}});var Icon=_export_sfc(_sfc_main$r,[["__file","/home/runner/work/element-plus/element-plus/packages/components/icon/src/icon.vue"]]);const ElIcon=withInstall(Icon),formContextKey=Symbol("formContextKey"),formItemContextKey=Symbol("formItemContextKey"),useFormSize=(r,n={})=>{const i=vue.ref(void 0),o=n.prop?i:useProp("size"),a=n.global?i:useGlobalSize(),u=n.form?{size:void 0}:vue.inject(formContextKey,void 0),c=n.formItem?{size:void 0}:vue.inject(formItemContextKey,void 0);return vue.computed(()=>o.value||vue.unref(r)||(c==null?void 0:c.size)||(u==null?void 0:u.size)||a.value||"")},useFormDisabled=r=>{const n=useProp("disabled"),i=vue.inject(formContextKey,void 0);return vue.computed(()=>n.value||vue.unref(r)||(i==null?void 0:i.disabled)||!1)},useFormItem=()=>{const r=vue.inject(formContextKey,void 0),n=vue.inject(formItemContextKey,void 0);return{form:r,formItem:n}},useFormItemInputId=(r,{formItemContext:n,disableIdGeneration:i,disableIdManagement:o})=>{i||(i=vue.ref(!1)),o||(o=vue.ref(!1));const a=vue.ref();let u;const c=vue.computed(()=>{var f;return!!(!r.label&&n&&n.inputIds&&((f=n.inputIds)==null?void 0:f.length)<=1)});return vue.onMounted(()=>{u=vue.watch([vue.toRef(r,"id"),i],([f,d])=>{const p=f??(d?void 0:useId().value);p!==a.value&&(n!=null&&n.removeInputId&&(a.value&&n.removeInputId(a.value),!(o!=null&&o.value)&&!d&&p&&n.addInputId(p)),a.value=p)},{immediate:!0})}),vue.onUnmounted(()=>{u&&u(),n!=null&&n.removeInputId&&a.value&&n.removeInputId(a.value)}),{isLabeledByFormItem:c,inputId:a}},formMetaProps=buildProps({size:{type:String,values:componentSizes},disabled:Boolean}),formProps=buildProps({...formMetaProps,model:Object,rules:{type:definePropType(Object)},labelPosition:{type:String,values:["left","right","top"],default:"right"},requireAsteriskPosition:{type:String,values:["left","right"],default:"left"},labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:Boolean,scrollToError:Boolean,scrollIntoViewOptions:{type:[Object,Boolean]}}),formEmits={validate:(r,n,i)=>(isArray(r)||isString(r))&&isBoolean(n)&&isString(i)},SCOPE="ElForm";function useFormLabelWidth(){const r=vue.ref([]),n=vue.computed(()=>{if(!r.value.length)return"0";const u=Math.max(...r.value);return u?`${u}px`:""});function i(u){const c=r.value.indexOf(u);return c===-1&&n.value==="0"&&debugWarn(SCOPE,`unexpected width ${u}`),c}function o(u,c){if(u&&c){const f=i(c);r.value.splice(f,1,u)}else u&&r.value.push(u)}function a(u){const c=i(u);c>-1&&r.value.splice(c,1)}return{autoLabelWidth:n,registerLabelWidth:o,deregisterLabelWidth:a}}const filterFields=(r,n)=>{const i=lodashEs.castArray(n);return i.length>0?r.filter(o=>o.prop&&i.includes(o.prop)):r},COMPONENT_NAME$4="ElForm",__default__$b=vue.defineComponent({name:COMPONENT_NAME$4}),_sfc_main$q=vue.defineComponent({...__default__$b,props:formProps,emits:formEmits,setup(r,{expose:n,emit:i}){const o=r,a=[],u=useFormSize(),c=useNamespace("form"),f=vue.computed(()=>{const{labelPosition:T,inline:w}=o;return[c.b(),c.m(u.value||"default"),{[c.m(`label-${T}`)]:T,[c.m("inline")]:w}]}),d=T=>{a.push(T)},p=T=>{T.prop&&a.splice(a.indexOf(T),1)},h=(T=[])=>{if(!o.model){debugWarn(COMPONENT_NAME$4,"model is required for resetFields to work.");return}filterFields(a,T).forEach(w=>w.resetField())},g=(T=[])=>{filterFields(a,T).forEach(w=>w.clearValidate())},v=vue.computed(()=>{const T=!!o.model;return T||debugWarn(COMPONENT_NAME$4,"model is required for validate to work."),T}),y=T=>{if(a.length===0)return[];const w=filterFields(a,T);return w.length?w:(debugWarn(COMPONENT_NAME$4,"please pass correct props!"),[])},A=async T=>S(void 0,T),_=async(T=[])=>{if(!v.value)return!1;const w=y(T);if(w.length===0)return!0;let x={};for(const k of w)try{await k.validate("")}catch(M){x={...x,...M}}return Object.keys(x).length===0?!0:Promise.reject(x)},S=async(T=[],w)=>{const x=!isFunction(w);try{const k=await _(T);return k===!0&&(w==null||w(k)),k}catch(k){if(k instanceof Error)throw k;const M=k;return o.scrollToError&&b(Object.keys(M)[0]),w==null||w(!1,M),x&&Promise.reject(M)}},b=T=>{var w;const x=filterFields(a,T)[0];x&&((w=x.$el)==null||w.scrollIntoView(o.scrollIntoViewOptions))};return vue.watch(()=>o.rules,()=>{o.validateOnRuleChange&&A().catch(T=>debugWarn(T))},{deep:!0}),vue.provide(formContextKey,vue.reactive({...vue.toRefs(o),emit:i,resetFields:h,clearValidate:g,validateField:S,addField:d,removeField:p,...useFormLabelWidth()})),n({validate:A,validateField:S,resetFields:h,clearValidate:g,scrollToField:b}),(T,w)=>(vue.openBlock(),vue.createElementBlock("form",{class:vue.normalizeClass(vue.unref(f))},[vue.renderSlot(T.$slots,"default")],2))}});var Form=_export_sfc(_sfc_main$q,[["__file","/home/runner/work/element-plus/element-plus/packages/components/form/src/form.vue"]]);function _extends(){return _extends=Object.assign?Object.assign.bind():function(r){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])}return r},_extends.apply(this,arguments)}function _inheritsLoose(r,n){r.prototype=Object.create(n.prototype),r.prototype.constructor=r,_setPrototypeOf(r,n)}function _getPrototypeOf(r){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},_getPrototypeOf(r)}function _setPrototypeOf(r,n){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,a){return o.__proto__=a,o},_setPrototypeOf(r,n)}function _isNativeReflectConstruct(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _construct(r,n,i){return _isNativeReflectConstruct()?_construct=Reflect.construct.bind():_construct=function(a,u,c){var f=[null];f.push.apply(f,u);var d=Function.bind.apply(a,f),p=new d;return c&&_setPrototypeOf(p,c.prototype),p},_construct.apply(null,arguments)}function _isNativeFunction(r){return Function.toString.call(r).indexOf("[native code]")!==-1}function _wrapNativeSuper(r){var n=typeof Map=="function"?new Map:void 0;return _wrapNativeSuper=function(o){if(o===null||!_isNativeFunction(o))return o;if(typeof o!="function")throw new TypeError("Super expression must either be null or a function");if(typeof n<"u"){if(n.has(o))return n.get(o);n.set(o,a)}function a(){return _construct(o,arguments,_getPrototypeOf(this).constructor)}return a.prototype=Object.create(o.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(a,o)},_wrapNativeSuper(r)}var formatRegExp=/%[sdj%]/g,warning=function r(){};typeof process<"u"&&process.env&&process.env.NODE_ENV!=="production"&&typeof window<"u"&&typeof document<"u"&&(warning=function(n,i){typeof console<"u"&&console.warn&&typeof ASYNC_VALIDATOR_NO_WARNING>"u"&&i.every(function(o){return typeof o=="string"})&&console.warn(n,i)});function convertFieldsError(r){if(!r||!r.length)return null;var n={};return r.forEach(function(i){var o=i.field;n[o]=n[o]||[],n[o].push(i)}),n}function format(r){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];var a=0,u=i.length;if(typeof r=="function")return r.apply(null,i);if(typeof r=="string"){var c=r.replace(formatRegExp,function(f){if(f==="%%")return"%";if(a>=u)return f;switch(f){case"%s":return String(i[a++]);case"%d":return Number(i[a++]);case"%j":try{return JSON.stringify(i[a++])}catch{return"[Circular]"}break;default:return f}});return c}return r}function isNativeStringType(r){return r==="string"||r==="url"||r==="hex"||r==="email"||r==="date"||r==="pattern"}function isEmptyValue(r,n){return!!(r==null||n==="array"&&Array.isArray(r)&&!r.length||isNativeStringType(n)&&typeof r=="string"&&!r)}function asyncParallelArray(r,n,i){var o=[],a=0,u=r.length;function c(f){o.push.apply(o,f||[]),a++,a===u&&i(o)}r.forEach(function(f){n(f,c)})}function asyncSerialArray(r,n,i){var o=0,a=r.length;function u(c){if(c&&c.length){i(c);return}var f=o;o=o+1,f<a?n(r[f],u):i([])}u([])}function flattenObjArr(r){var n=[];return Object.keys(r).forEach(function(i){n.push.apply(n,r[i]||[])}),n}var AsyncValidationError=function(r){_inheritsLoose(n,r);function n(i,o){var a;return a=r.call(this,"Async Validation Error")||this,a.errors=i,a.fields=o,a}return n}(_wrapNativeSuper(Error));function asyncMap(r,n,i,o,a){if(n.first){var u=new Promise(function(v,y){var A=function(b){return o(b),b.length?y(new AsyncValidationError(b,convertFieldsError(b))):v(a)},_=flattenObjArr(r);asyncSerialArray(_,i,A)});return u.catch(function(v){return v}),u}var c=n.firstFields===!0?Object.keys(r):n.firstFields||[],f=Object.keys(r),d=f.length,p=0,h=[],g=new Promise(function(v,y){var A=function(S){if(h.push.apply(h,S),p++,p===d)return o(h),h.length?y(new AsyncValidationError(h,convertFieldsError(h))):v(a)};f.length||(o(h),v(a)),f.forEach(function(_){var S=r[_];c.indexOf(_)!==-1?asyncSerialArray(S,i,A):asyncParallelArray(S,i,A)})});return g.catch(function(v){return v}),g}function isErrorObj(r){return!!(r&&r.message!==void 0)}function getValue(r,n){for(var i=r,o=0;o<n.length;o++){if(i==null)return i;i=i[n[o]]}return i}function complementError(r,n){return function(i){var o;return r.fullFields?o=getValue(n,r.fullFields):o=n[i.field||r.fullField],isErrorObj(i)?(i.field=i.field||r.fullField,i.fieldValue=o,i):{message:typeof i=="function"?i():i,fieldValue:o,field:i.field||r.fullField}}}function deepMerge(r,n){if(n){for(var i in n)if(n.hasOwnProperty(i)){var o=n[i];typeof o=="object"&&typeof r[i]=="object"?r[i]=_extends({},r[i],o):r[i]=o}}return r}var required$1=function r(n,i,o,a,u,c){n.required&&(!o.hasOwnProperty(n.field)||isEmptyValue(i,c||n.type))&&a.push(format(u.messages.required,n.fullField))},whitespace=function r(n,i,o,a,u){(/^\s+$/.test(i)||i==="")&&a.push(format(u.messages.whitespace,n.fullField))},urlReg,getUrlRegex=function(){if(urlReg)return urlReg;var r="[a-fA-F\\d:]",n=function(x){return x&&x.includeBoundaries?"(?:(?<=\\s|^)(?="+r+")|(?<="+r+")(?=\\s|$))":""},i="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",o="[a-fA-F\\d]{1,4}",a=(`
(?:
(?:`+o+":){7}(?:"+o+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+o+":){6}(?:"+i+"|:"+o+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+o+":){5}(?::"+i+"|(?::"+o+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+o+":){4}(?:(?::"+o+"){0,1}:"+i+"|(?::"+o+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+o+":){3}(?:(?::"+o+"){0,2}:"+i+"|(?::"+o+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+o+":){2}(?:(?::"+o+"){0,3}:"+i+"|(?::"+o+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+o+":){1}(?:(?::"+o+"){0,4}:"+i+"|(?::"+o+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+o+"){0,5}:"+i+"|(?::"+o+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),u=new RegExp("(?:^"+i+"$)|(?:^"+a+"$)"),c=new RegExp("^"+i+"$"),f=new RegExp("^"+a+"$"),d=function(x){return x&&x.exact?u:new RegExp("(?:"+n(x)+i+n(x)+")|(?:"+n(x)+a+n(x)+")","g")};d.v4=function(w){return w&&w.exact?c:new RegExp(""+n(w)+i+n(w),"g")},d.v6=function(w){return w&&w.exact?f:new RegExp(""+n(w)+a+n(w),"g")};var p="(?:(?:[a-z]+:)?//)",h="(?:\\S+(?::\\S*)?@)?",g=d.v4().source,v=d.v6().source,y="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",A="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",_="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",S="(?::\\d{2,5})?",b='(?:[/?#][^\\s"]*)?',T="(?:"+p+"|www\\.)"+h+"(?:localhost|"+g+"|"+v+"|"+y+A+_+")"+S+b;return urlReg=new RegExp("(?:^"+T+"$)","i"),urlReg},pattern$2={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},types={integer:function r(n){return types.number(n)&&parseInt(n,10)===n},float:function r(n){return types.number(n)&&!types.integer(n)},array:function r(n){return Array.isArray(n)},regexp:function r(n){if(n instanceof RegExp)return!0;try{return!!new RegExp(n)}catch{return!1}},date:function r(n){return typeof n.getTime=="function"&&typeof n.getMonth=="function"&&typeof n.getYear=="function"&&!isNaN(n.getTime())},number:function r(n){return isNaN(n)?!1:typeof n=="number"},object:function r(n){return typeof n=="object"&&!types.array(n)},method:function r(n){return typeof n=="function"},email:function r(n){return typeof n=="string"&&n.length<=320&&!!n.match(pattern$2.email)},url:function r(n){return typeof n=="string"&&n.length<=2048&&!!n.match(getUrlRegex())},hex:function r(n){return typeof n=="string"&&!!n.match(pattern$2.hex)}},type$1=function r(n,i,o,a,u){if(n.required&&i===void 0){required$1(n,i,o,a,u);return}var c=["integer","float","array","regexp","object","method","email","number","date","url","hex"],f=n.type;c.indexOf(f)>-1?types[f](i)||a.push(format(u.messages.types[f],n.fullField,n.type)):f&&typeof i!==n.type&&a.push(format(u.messages.types[f],n.fullField,n.type))},range=function r(n,i,o,a,u){var c=typeof n.len=="number",f=typeof n.min=="number",d=typeof n.max=="number",p=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,h=i,g=null,v=typeof i=="number",y=typeof i=="string",A=Array.isArray(i);if(v?g="number":y?g="string":A&&(g="array"),!g)return!1;A&&(h=i.length),y&&(h=i.replace(p,"_").length),c?h!==n.len&&a.push(format(u.messages[g].len,n.fullField,n.len)):f&&!d&&h<n.min?a.push(format(u.messages[g].min,n.fullField,n.min)):d&&!f&&h>n.max?a.push(format(u.messages[g].max,n.fullField,n.max)):f&&d&&(h<n.min||h>n.max)&&a.push(format(u.messages[g].range,n.fullField,n.min,n.max))},ENUM$1="enum",enumerable$1=function r(n,i,o,a,u){n[ENUM$1]=Array.isArray(n[ENUM$1])?n[ENUM$1]:[],n[ENUM$1].indexOf(i)===-1&&a.push(format(u.messages[ENUM$1],n.fullField,n[ENUM$1].join(", ")))},pattern$1=function r(n,i,o,a,u){if(n.pattern){if(n.pattern instanceof RegExp)n.pattern.lastIndex=0,n.pattern.test(i)||a.push(format(u.messages.pattern.mismatch,n.fullField,i,n.pattern));else if(typeof n.pattern=="string"){var c=new RegExp(n.pattern);c.test(i)||a.push(format(u.messages.pattern.mismatch,n.fullField,i,n.pattern))}}},rules={required:required$1,whitespace,type:type$1,range,enum:enumerable$1,pattern:pattern$1},string=function r(n,i,o,a,u){var c=[],f=n.required||!n.required&&a.hasOwnProperty(n.field);if(f){if(isEmptyValue(i,"string")&&!n.required)return o();rules.required(n,i,a,c,u,"string"),isEmptyValue(i,"string")||(rules.type(n,i,a,c,u),rules.range(n,i,a,c,u),rules.pattern(n,i,a,c,u),n.whitespace===!0&&rules.whitespace(n,i,a,c,u))}o(c)},method=function r(n,i,o,a,u){var c=[],f=n.required||!n.required&&a.hasOwnProperty(n.field);if(f){if(isEmptyValue(i)&&!n.required)return o();rules.required(n,i,a,c,u),i!==void 0&&rules.type(n,i,a,c,u)}o(c)},number=function r(n,i,o,a,u){var c=[],f=n.required||!n.required&&a.hasOwnProperty(n.field);if(f){if(i===""&&(i=void 0),isEmptyValue(i)&&!n.required)return o();rules.required(n,i,a,c,u),i!==void 0&&(rules.type(n,i,a,c,u),rules.range(n,i,a,c,u))}o(c)},_boolean=function r(n,i,o,a,u){var c=[],f=n.required||!n.required&&a.hasOwnProperty(n.field);if(f){if(isEmptyValue(i)&&!n.required)return o();rules.required(n,i,a,c,u),i!==void 0&&rules.type(n,i,a,c,u)}o(c)},regexp=function r(n,i,o,a,u){var c=[],f=n.required||!n.required&&a.hasOwnProperty(n.field);if(f){if(isEmptyValue(i)&&!n.required)return o();rules.required(n,i,a,c,u),isEmptyValue(i)||rules.type(n,i,a,c,u)}o(c)},integer=function r(n,i,o,a,u){var c=[],f=n.required||!n.required&&a.hasOwnProperty(n.field);if(f){if(isEmptyValue(i)&&!n.required)return o();rules.required(n,i,a,c,u),i!==void 0&&(rules.type(n,i,a,c,u),rules.range(n,i,a,c,u))}o(c)},floatFn=function r(n,i,o,a,u){var c=[],f=n.required||!n.required&&a.hasOwnProperty(n.field);if(f){if(isEmptyValue(i)&&!n.required)return o();rules.required(n,i,a,c,u),i!==void 0&&(rules.type(n,i,a,c,u),rules.range(n,i,a,c,u))}o(c)},array=function r(n,i,o,a,u){var c=[],f=n.required||!n.required&&a.hasOwnProperty(n.field);if(f){if(i==null&&!n.required)return o();rules.required(n,i,a,c,u,"array"),i!=null&&(rules.type(n,i,a,c,u),rules.range(n,i,a,c,u))}o(c)},object=function r(n,i,o,a,u){var c=[],f=n.required||!n.required&&a.hasOwnProperty(n.field);if(f){if(isEmptyValue(i)&&!n.required)return o();rules.required(n,i,a,c,u),i!==void 0&&rules.type(n,i,a,c,u)}o(c)},ENUM="enum",enumerable=function r(n,i,o,a,u){var c=[],f=n.required||!n.required&&a.hasOwnProperty(n.field);if(f){if(isEmptyValue(i)&&!n.required)return o();rules.required(n,i,a,c,u),i!==void 0&&rules[ENUM](n,i,a,c,u)}o(c)},pattern=function r(n,i,o,a,u){var c=[],f=n.required||!n.required&&a.hasOwnProperty(n.field);if(f){if(isEmptyValue(i,"string")&&!n.required)return o();rules.required(n,i,a,c,u),isEmptyValue(i,"string")||rules.pattern(n,i,a,c,u)}o(c)},date=function r(n,i,o,a,u){var c=[],f=n.required||!n.required&&a.hasOwnProperty(n.field);if(f){if(isEmptyValue(i,"date")&&!n.required)return o();if(rules.required(n,i,a,c,u),!isEmptyValue(i,"date")){var d;i instanceof Date?d=i:d=new Date(i),rules.type(n,d,a,c,u),d&&rules.range(n,d.getTime(),a,c,u)}}o(c)},required=function r(n,i,o,a,u){var c=[],f=Array.isArray(i)?"array":typeof i;rules.required(n,i,a,c,u,f),o(c)},type=function r(n,i,o,a,u){var c=n.type,f=[],d=n.required||!n.required&&a.hasOwnProperty(n.field);if(d){if(isEmptyValue(i,c)&&!n.required)return o();rules.required(n,i,a,f,u,c),isEmptyValue(i,c)||rules.type(n,i,a,f,u)}o(f)},any=function r(n,i,o,a,u){var c=[],f=n.required||!n.required&&a.hasOwnProperty(n.field);if(f){if(isEmptyValue(i)&&!n.required)return o();rules.required(n,i,a,c,u)}o(c)},validators={string,method,number,boolean:_boolean,regexp,integer,float:floatFn,array,object,enum:enumerable,pattern,date,url:type,hex:type,email:type,required,any};function newMessages(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var n=JSON.parse(JSON.stringify(this));return n.clone=this.clone,n}}}var messages=newMessages(),Schema=function(){function r(i){this.rules=null,this._messages=messages,this.define(i)}var n=r.prototype;return n.define=function(o){var a=this;if(!o)throw new Error("Cannot configure a schema with no rules");if(typeof o!="object"||Array.isArray(o))throw new Error("Rules must be an object");this.rules={},Object.keys(o).forEach(function(u){var c=o[u];a.rules[u]=Array.isArray(c)?c:[c]})},n.messages=function(o){return o&&(this._messages=deepMerge(newMessages(),o)),this._messages},n.validate=function(o,a,u){var c=this;a===void 0&&(a={}),u===void 0&&(u=function(){});var f=o,d=a,p=u;if(typeof d=="function"&&(p=d,d={}),!this.rules||Object.keys(this.rules).length===0)return p&&p(null,f),Promise.resolve(f);function h(_){var S=[],b={};function T(x){if(Array.isArray(x)){var k;S=(k=S).concat.apply(k,x)}else S.push(x)}for(var w=0;w<_.length;w++)T(_[w]);S.length?(b=convertFieldsError(S),p(S,b)):p(null,f)}if(d.messages){var g=this.messages();g===messages&&(g=newMessages()),deepMerge(g,d.messages),d.messages=g}else d.messages=this.messages();var v={},y=d.keys||Object.keys(this.rules);y.forEach(function(_){var S=c.rules[_],b=f[_];S.forEach(function(T){var w=T;typeof w.transform=="function"&&(f===o&&(f=_extends({},f)),b=f[_]=w.transform(b)),typeof w=="function"?w={validator:w}:w=_extends({},w),w.validator=c.getValidationMethod(w),w.validator&&(w.field=_,w.fullField=w.fullField||_,w.type=c.getType(w),v[_]=v[_]||[],v[_].push({rule:w,value:b,source:f,field:_}))})});var A={};return asyncMap(v,d,function(_,S){var b=_.rule,T=(b.type==="object"||b.type==="array")&&(typeof b.fields=="object"||typeof b.defaultField=="object");T=T&&(b.required||!b.required&&_.value),b.field=_.field;function w(M,D){return _extends({},D,{fullField:b.fullField+"."+M,fullFields:b.fullFields?[].concat(b.fullFields,[M]):[M]})}function x(M){M===void 0&&(M=[]);var D=Array.isArray(M)?M:[M];!d.suppressWarning&&D.length&&r.warning("async-validator:",D),D.length&&b.message!==void 0&&(D=[].concat(b.message));var z=D.map(complementError(b,f));if(d.first&&z.length)return A[b.field]=1,S(z);if(!T)S(z);else{if(b.required&&!_.value)return b.message!==void 0?z=[].concat(b.message).map(complementError(b,f)):d.error&&(z=[d.error(b,format(d.messages.required,b.field))]),S(z);var j={};b.defaultField&&Object.keys(_.value).map(function(F){j[F]=b.defaultField}),j=_extends({},j,_.rule.fields);var oe={};Object.keys(j).forEach(function(F){var O=j[F],ue=Array.isArray(O)?O:[O];oe[F]=ue.map(w.bind(null,F))});var L=new r(oe);L.messages(d.messages),_.rule.options&&(_.rule.options.messages=d.messages,_.rule.options.error=d.error),L.validate(_.value,_.rule.options||d,function(F){var O=[];z&&z.length&&O.push.apply(O,z),F&&F.length&&O.push.apply(O,F),S(O.length?O:null)})}}var k;if(b.asyncValidator)k=b.asyncValidator(b,_.value,x,_.source,d);else if(b.validator){try{k=b.validator(b,_.value,x,_.source,d)}catch(M){console.error==null||console.error(M),d.suppressValidatorError||setTimeout(function(){throw M},0),x(M.message)}k===!0?x():k===!1?x(typeof b.message=="function"?b.message(b.fullField||b.field):b.message||(b.fullField||b.field)+" fails"):k instanceof Array?x(k):k instanceof Error&&x(k.message)}k&&k.then&&k.then(function(){return x()},function(M){return x(M)})},function(_){h(_)},f)},n.getType=function(o){if(o.type===void 0&&o.pattern instanceof RegExp&&(o.type="pattern"),typeof o.validator!="function"&&o.type&&!validators.hasOwnProperty(o.type))throw new Error(format("Unknown rule type %s",o.type));return o.type||"string"},n.getValidationMethod=function(o){if(typeof o.validator=="function")return o.validator;var a=Object.keys(o),u=a.indexOf("message");return u!==-1&&a.splice(u,1),a.length===1&&a[0]==="required"?validators.required:validators[this.getType(o)]||void 0},r}();Schema.register=function r(n,i){if(typeof i!="function")throw new Error("Cannot register a validator by type, validator is not a function");validators[n]=i},Schema.warning=warning,Schema.messages=messages,Schema.validators=validators;const formItemValidateStates=["","error","validating","success"],formItemProps=buildProps({label:String,labelWidth:{type:[String,Number],default:""},prop:{type:definePropType([String,Array])},required:{type:Boolean,default:void 0},rules:{type:definePropType([Object,Array])},error:String,validateStatus:{type:String,values:formItemValidateStates},for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{type:String,values:componentSizes}}),COMPONENT_NAME$3="ElLabelWrap";var FormLabelWrap=vue.defineComponent({name:COMPONENT_NAME$3,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(r,{slots:n}){const i=vue.inject(formContextKey,void 0),o=vue.inject(formItemContextKey);o||throwError(COMPONENT_NAME$3,"usage: <el-form-item><label-wrap /></el-form-item>");const a=useNamespace("form"),u=vue.ref(),c=vue.ref(0),f=()=>{var h;if((h=u.value)!=null&&h.firstElementChild){const g=window.getComputedStyle(u.value.firstElementChild).width;return Math.ceil(Number.parseFloat(g))}else return 0},d=(h="update")=>{vue.nextTick(()=>{n.default&&r.isAutoWidth&&(h==="update"?c.value=f():h==="remove"&&(i==null||i.deregisterLabelWidth(c.value)))})},p=()=>d("update");return vue.onMounted(()=>{p()}),vue.onBeforeUnmount(()=>{d("remove")}),vue.onUpdated(()=>p()),vue.watch(c,(h,g)=>{r.updateAll&&(i==null||i.registerLabelWidth(h,g))}),useResizeObserver(vue.computed(()=>{var h,g;return(g=(h=u.value)==null?void 0:h.firstElementChild)!=null?g:null}),p),()=>{var h,g;if(!n)return null;const{isAutoWidth:v}=r;if(v){const y=i==null?void 0:i.autoLabelWidth,A=o==null?void 0:o.hasLabel,_={};if(A&&y&&y!=="auto"){const S=Math.max(0,Number.parseInt(y,10)-c.value),b=i.labelPosition==="left"?"marginRight":"marginLeft";S&&(_[b]=`${S}px`)}return vue.createVNode("div",{ref:u,class:[a.be("item","label-wrap")],style:_},[(h=n.default)==null?void 0:h.call(n)])}else return vue.createVNode(vue.Fragment,{ref:u},[(g=n.default)==null?void 0:g.call(n)])}}});const _hoisted_1$8=["role","aria-labelledby"],__default__$a=vue.defineComponent({name:"ElFormItem"}),_sfc_main$p=vue.defineComponent({...__default__$a,props:formItemProps,setup(r,{expose:n}){const i=r,o=vue.useSlots(),a=vue.inject(formContextKey,void 0),u=vue.inject(formItemContextKey,void 0),c=useFormSize(void 0,{formItem:!1}),f=useNamespace("form-item"),d=useId().value,p=vue.ref([]),h=vue.ref(""),g=refDebounced(h,100),v=vue.ref(""),y=vue.ref();let A,_=!1;const S=vue.computed(()=>{if((a==null?void 0:a.labelPosition)==="top")return{};const Lt=addUnit(i.labelWidth||(a==null?void 0:a.labelWidth)||"");return Lt?{width:Lt}:{}}),b=vue.computed(()=>{if((a==null?void 0:a.labelPosition)==="top"||a!=null&&a.inline)return{};if(!i.label&&!i.labelWidth&&j)return{};const Lt=addUnit(i.labelWidth||(a==null?void 0:a.labelWidth)||"");return!i.label&&!o.label?{marginLeft:Lt}:{}}),T=vue.computed(()=>[f.b(),f.m(c.value),f.is("error",h.value==="error"),f.is("validating",h.value==="validating"),f.is("success",h.value==="success"),f.is("required",ue.value||i.required),f.is("no-asterisk",a==null?void 0:a.hideRequiredAsterisk),(a==null?void 0:a.requireAsteriskPosition)==="right"?"asterisk-right":"asterisk-left",{[f.m("feedback")]:a==null?void 0:a.statusIcon}]),w=vue.computed(()=>isBoolean(i.inlineMessage)?i.inlineMessage:(a==null?void 0:a.inlineMessage)||!1),x=vue.computed(()=>[f.e("error"),{[f.em("error","inline")]:w.value}]),k=vue.computed(()=>i.prop?isString(i.prop)?i.prop:i.prop.join("."):""),M=vue.computed(()=>!!(i.label||o.label)),D=vue.computed(()=>i.for||p.value.length===1?p.value[0]:void 0),z=vue.computed(()=>!D.value&&M.value),j=!!u,oe=vue.computed(()=>{const Lt=a==null?void 0:a.model;if(!(!Lt||!i.prop))return getProp(Lt,i.prop).value}),L=vue.computed(()=>{const{required:Lt}=i,In=[];i.rules&&In.push(...lodashEs.castArray(i.rules));const Et=a==null?void 0:a.rules;if(Et&&i.prop){const Ne=getProp(Et,i.prop).value;Ne&&In.push(...lodashEs.castArray(Ne))}if(Lt!==void 0){const Ne=In.map((pe,At)=>[pe,At]).filter(([pe])=>Object.keys(pe).includes("required"));if(Ne.length>0)for(const[pe,At]of Ne)pe.required!==Lt&&(In[At]={...pe,required:Lt});else In.push({required:Lt})}return In}),F=vue.computed(()=>L.value.length>0),O=Lt=>L.value.filter(Et=>!Et.trigger||!Lt?!0:Array.isArray(Et.trigger)?Et.trigger.includes(Lt):Et.trigger===Lt).map(({trigger:Et,...Ne})=>Ne),ue=vue.computed(()=>L.value.some(Lt=>Lt.required)),_e=vue.computed(()=>{var Lt;return g.value==="error"&&i.showMessage&&((Lt=a==null?void 0:a.showMessage)!=null?Lt:!0)}),Ce=vue.computed(()=>`${i.label||""}${(a==null?void 0:a.labelSuffix)||""}`),de=Lt=>{h.value=Lt},ie=Lt=>{var In,Et;const{errors:Ne,fields:pe}=Lt;(!Ne||!pe)&&console.error(Lt),de("error"),v.value=Ne?(Et=(In=Ne==null?void 0:Ne[0])==null?void 0:In.message)!=null?Et:`${i.prop} is required`:"",a==null||a.emit("validate",i.prop,!1,v.value)},Y=()=>{de("success"),a==null||a.emit("validate",i.prop,!0,"")},Ie=async Lt=>{const In=k.value;return new Schema({[In]:Lt}).validate({[In]:oe.value},{firstFields:!0}).then(()=>(Y(),!0)).catch(Ne=>(ie(Ne),Promise.reject(Ne)))},Oe=async(Lt,In)=>{if(_||!i.prop)return!1;const Et=isFunction(In);if(!F.value)return In==null||In(!1),!1;const Ne=O(Lt);return Ne.length===0?(In==null||In(!0),!0):(de("validating"),Ie(Ne).then(()=>(In==null||In(!0),!0)).catch(pe=>{const{fields:At}=pe;return In==null||In(!1,At),Et?!1:Promise.reject(At)}))},kt=()=>{de(""),v.value="",_=!1},Dt=async()=>{const Lt=a==null?void 0:a.model;if(!Lt||!i.prop)return;const In=getProp(Lt,i.prop);_=!0,In.value=lodashEs.clone(A),await vue.nextTick(),kt(),_=!1},Fe=Lt=>{p.value.includes(Lt)||p.value.push(Lt)},$e=Lt=>{p.value=p.value.filter(In=>In!==Lt)};vue.watch(()=>i.error,Lt=>{v.value=Lt||"",de(Lt?"error":"")},{immediate:!0}),vue.watch(()=>i.validateStatus,Lt=>de(Lt||""));const Cn=vue.reactive({...vue.toRefs(i),$el:y,size:c,validateState:h,labelId:d,inputIds:p,isGroup:z,hasLabel:M,addInputId:Fe,removeInputId:$e,resetField:Dt,clearValidate:kt,validate:Oe});return vue.provide(formItemContextKey,Cn),vue.onMounted(()=>{i.prop&&(a==null||a.addField(Cn),A=lodashEs.clone(oe.value))}),vue.onBeforeUnmount(()=>{a==null||a.removeField(Cn)}),n({size:c,validateMessage:v,validateState:h,validate:Oe,clearValidate:kt,resetField:Dt}),(Lt,In)=>{var Et;return vue.openBlock(),vue.createElementBlock("div",{ref_key:"formItemRef",ref:y,class:vue.normalizeClass(vue.unref(T)),role:vue.unref(z)?"group":void 0,"aria-labelledby":vue.unref(z)?vue.unref(d):void 0},[vue.createVNode(vue.unref(FormLabelWrap),{"is-auto-width":vue.unref(S).width==="auto","update-all":((Et=vue.unref(a))==null?void 0:Et.labelWidth)==="auto"},{default:vue.withCtx(()=>[vue.unref(M)?(vue.openBlock(),vue.createBlock(vue.resolveDynamicComponent(vue.unref(D)?"label":"div"),{key:0,id:vue.unref(d),for:vue.unref(D),class:vue.normalizeClass(vue.unref(f).e("label")),style:vue.normalizeStyle(vue.unref(S))},{default:vue.withCtx(()=>[vue.renderSlot(Lt.$slots,"label",{label:vue.unref(Ce)},()=>[vue.createTextVNode(vue.toDisplayString(vue.unref(Ce)),1)])]),_:3},8,["id","for","class","style"])):vue.createCommentVNode("v-if",!0)]),_:3},8,["is-auto-width","update-all"]),vue.createElementVNode("div",{class:vue.normalizeClass(vue.unref(f).e("content")),style:vue.normalizeStyle(vue.unref(b))},[vue.renderSlot(Lt.$slots,"default"),vue.createVNode(vue.TransitionGroup,{name:`${vue.unref(f).namespace.value}-zoom-in-top`},{default:vue.withCtx(()=>[vue.unref(_e)?vue.renderSlot(Lt.$slots,"error",{key:0,error:v.value},()=>[vue.createElementVNode("div",{class:vue.normalizeClass(vue.unref(x))},vue.toDisplayString(v.value),3)]):vue.createCommentVNode("v-if",!0)]),_:3},8,["name"])],6)],10,_hoisted_1$8)}}});var FormItem=_export_sfc(_sfc_main$p,[["__file","/home/runner/work/element-plus/element-plus/packages/components/form/src/form-item.vue"]]);withInstall(Form,{FormItem});const ElFormItem=withNoopInstall(FormItem);let hiddenTextarea;const HIDDEN_STYLE=`
  height:0 !important;
  visibility:hidden !important;
  ${isFirefox()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,CONTEXT_STYLE=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function calculateNodeStyling(r){const n=window.getComputedStyle(r),i=n.getPropertyValue("box-sizing"),o=Number.parseFloat(n.getPropertyValue("padding-bottom"))+Number.parseFloat(n.getPropertyValue("padding-top")),a=Number.parseFloat(n.getPropertyValue("border-bottom-width"))+Number.parseFloat(n.getPropertyValue("border-top-width"));return{contextStyle:CONTEXT_STYLE.map(c=>`${c}:${n.getPropertyValue(c)}`).join(";"),paddingSize:o,borderSize:a,boxSizing:i}}function calcTextareaHeight(r,n=1,i){var o;hiddenTextarea||(hiddenTextarea=document.createElement("textarea"),document.body.appendChild(hiddenTextarea));const{paddingSize:a,borderSize:u,boxSizing:c,contextStyle:f}=calculateNodeStyling(r);hiddenTextarea.setAttribute("style",`${f};${HIDDEN_STYLE}`),hiddenTextarea.value=r.value||r.placeholder||"";let d=hiddenTextarea.scrollHeight;const p={};c==="border-box"?d=d+u:c==="content-box"&&(d=d-a),hiddenTextarea.value="";const h=hiddenTextarea.scrollHeight-a;if(isNumber(n)){let g=h*n;c==="border-box"&&(g=g+a+u),d=Math.max(g,d),p.minHeight=`${g}px`}if(isNumber(i)){let g=h*i;c==="border-box"&&(g=g+a+u),d=Math.min(g,d)}return p.height=`${d}px`,(o=hiddenTextarea.parentNode)==null||o.removeChild(hiddenTextarea),hiddenTextarea=void 0,p}const inputProps=buildProps({id:{type:String,default:void 0},size:useSizeProp,disabled:Boolean,modelValue:{type:definePropType([String,Number,Object]),default:""},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:definePropType([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:iconPropType},prefixIcon:{type:iconPropType},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:definePropType([Object,Array,String]),default:()=>mutable({})}}),inputEmits={[UPDATE_MODEL_EVENT]:r=>isString(r),input:r=>isString(r),change:r=>isString(r),focus:r=>r instanceof FocusEvent,blur:r=>r instanceof FocusEvent,clear:()=>!0,mouseleave:r=>r instanceof MouseEvent,mouseenter:r=>r instanceof MouseEvent,keydown:r=>r instanceof Event,compositionstart:r=>r instanceof CompositionEvent,compositionupdate:r=>r instanceof CompositionEvent,compositionend:r=>r instanceof CompositionEvent},_hoisted_1$7=["role"],_hoisted_2$5=["id","type","disabled","formatter","parser","readonly","autocomplete","tabindex","aria-label","placeholder","form"],_hoisted_3$4=["id","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form"],__default__$9=vue.defineComponent({name:"ElInput",inheritAttrs:!1}),_sfc_main$o=vue.defineComponent({...__default__$9,props:inputProps,emits:inputEmits,setup(r,{expose:n,emit:i}){const o=r,a=vue.useAttrs(),u=vue.useSlots(),c=vue.computed(()=>{const qe={};return o.containerRole==="combobox"&&(qe["aria-haspopup"]=a["aria-haspopup"],qe["aria-owns"]=a["aria-owns"],qe["aria-expanded"]=a["aria-expanded"]),qe}),f=vue.computed(()=>[o.type==="textarea"?S.b():_.b(),_.m(y.value),_.is("disabled",A.value),_.is("exceed",Fe.value),{[_.b("group")]:u.prepend||u.append,[_.bm("group","append")]:u.append,[_.bm("group","prepend")]:u.prepend,[_.m("prefix")]:u.prefix||o.prefixIcon,[_.m("suffix")]:u.suffix||o.suffixIcon||o.clearable||o.showPassword,[_.bm("suffix","password-clear")]:Ie.value&&Oe.value},a.class]),d=vue.computed(()=>[_.e("wrapper"),_.is("focus",oe.value)]),p=useAttrs({excludeKeys:vue.computed(()=>Object.keys(c.value))}),{form:h,formItem:g}=useFormItem(),{inputId:v}=useFormItemInputId(o,{formItemContext:g}),y=useFormSize(),A=useFormDisabled(),_=useNamespace("input"),S=useNamespace("textarea"),b=vue.shallowRef(),T=vue.shallowRef(),w=vue.ref(!1),x=vue.ref(!1),k=vue.ref(!1),M=vue.ref(),D=vue.shallowRef(o.inputStyle),z=vue.computed(()=>b.value||T.value),{wrapperRef:j,isFocused:oe,handleFocus:L,handleBlur:F}=useFocusController(z,{afterBlur(){var qe;o.validateEvent&&((qe=g==null?void 0:g.validate)==null||qe.call(g,"blur").catch(jt=>debugWarn(jt)))}}),O=vue.computed(()=>{var qe;return(qe=h==null?void 0:h.statusIcon)!=null?qe:!1}),ue=vue.computed(()=>(g==null?void 0:g.validateState)||""),_e=vue.computed(()=>ue.value&&ValidateComponentsMap[ue.value]),Ce=vue.computed(()=>k.value?view_default:hide_default),de=vue.computed(()=>[a.style,o.inputStyle]),ie=vue.computed(()=>[o.inputStyle,D.value,{resize:o.resize}]),Y=vue.computed(()=>lodashEs.isNil(o.modelValue)?"":String(o.modelValue)),Ie=vue.computed(()=>o.clearable&&!A.value&&!o.readonly&&!!Y.value&&(oe.value||w.value)),Oe=vue.computed(()=>o.showPassword&&!A.value&&!o.readonly&&!!Y.value&&(!!Y.value||oe.value)),kt=vue.computed(()=>o.showWordLimit&&!!p.value.maxlength&&(o.type==="text"||o.type==="textarea")&&!A.value&&!o.readonly&&!o.showPassword),Dt=vue.computed(()=>Y.value.length),Fe=vue.computed(()=>!!kt.value&&Dt.value>Number(p.value.maxlength)),$e=vue.computed(()=>!!u.suffix||!!o.suffixIcon||Ie.value||o.showPassword||kt.value||!!ue.value&&O.value),[Cn,Lt]=useCursor(b);useResizeObserver(T,qe=>{if(Ne(),!kt.value||o.resize!=="both")return;const jt=qe[0],{width:An}=jt.contentRect;M.value={right:`calc(100% - ${An+15+6}px)`}});const In=()=>{const{type:qe,autosize:jt}=o;if(!(!isClient||qe!=="textarea"||!T.value))if(jt){const An=isObject(jt)?jt.minRows:void 0,wn=isObject(jt)?jt.maxRows:void 0,En=calcTextareaHeight(T.value,An,wn);D.value={overflowY:"hidden",...En},vue.nextTick(()=>{T.value.offsetHeight,D.value=En})}else D.value={minHeight:calcTextareaHeight(T.value).minHeight}},Ne=(qe=>{let jt=!1;return()=>{var An;if(jt||!o.autosize)return;((An=T.value)==null?void 0:An.offsetParent)===null||(qe(),jt=!0)}})(In),pe=()=>{const qe=z.value,jt=o.formatter?o.formatter(Y.value):Y.value;!qe||qe.value===jt||(qe.value=jt)},At=async qe=>{Cn();let{value:jt}=qe.target;if(o.formatter&&(jt=o.parser?o.parser(jt):jt),!x.value){if(jt===Y.value){pe();return}i(UPDATE_MODEL_EVENT,jt),i("input",jt),await vue.nextTick(),pe(),Lt()}},Ve=qe=>{i("change",qe.target.value)},xe=qe=>{i("compositionstart",qe),x.value=!0},ze=qe=>{var jt;i("compositionupdate",qe);const An=(jt=qe.target)==null?void 0:jt.value,wn=An[An.length-1]||"";x.value=!isKorean(wn)},Pt=qe=>{i("compositionend",qe),x.value&&(x.value=!1,At(qe))},hn=()=>{k.value=!k.value,ae()},ae=async()=>{var qe;await vue.nextTick(),(qe=z.value)==null||qe.focus()},le=()=>{var qe;return(qe=z.value)==null?void 0:qe.blur()},re=qe=>{w.value=!1,i("mouseleave",qe)},V=qe=>{w.value=!0,i("mouseenter",qe)},$=qe=>{i("keydown",qe)},he=()=>{var qe;(qe=z.value)==null||qe.select()},Ue=()=>{i(UPDATE_MODEL_EVENT,""),i("change",""),i("clear"),i("input","")};return vue.watch(()=>o.modelValue,()=>{var qe;vue.nextTick(()=>In()),o.validateEvent&&((qe=g==null?void 0:g.validate)==null||qe.call(g,"change").catch(jt=>debugWarn(jt)))}),vue.watch(Y,()=>pe()),vue.watch(()=>o.type,async()=>{await vue.nextTick(),pe(),In()}),vue.onMounted(()=>{!o.formatter&&o.parser&&debugWarn("ElInput","If you set the parser, you also need to set the formatter."),pe(),vue.nextTick(In)}),n({input:b,textarea:T,ref:z,textareaStyle:ie,autosize:vue.toRef(o,"autosize"),focus:ae,blur:le,select:he,clear:Ue,resizeTextarea:In}),(qe,jt)=>vue.withDirectives((vue.openBlock(),vue.createElementBlock("div",vue.mergeProps(vue.unref(c),{class:vue.unref(f),style:vue.unref(de),role:qe.containerRole,onMouseenter:V,onMouseleave:re}),[vue.createCommentVNode(" input "),qe.type!=="textarea"?(vue.openBlock(),vue.createElementBlock(vue.Fragment,{key:0},[vue.createCommentVNode(" prepend slot "),qe.$slots.prepend?(vue.openBlock(),vue.createElementBlock("div",{key:0,class:vue.normalizeClass(vue.unref(_).be("group","prepend"))},[vue.renderSlot(qe.$slots,"prepend")],2)):vue.createCommentVNode("v-if",!0),vue.createElementVNode("div",{ref_key:"wrapperRef",ref:j,class:vue.normalizeClass(vue.unref(d))},[vue.createCommentVNode(" prefix slot "),qe.$slots.prefix||qe.prefixIcon?(vue.openBlock(),vue.createElementBlock("span",{key:0,class:vue.normalizeClass(vue.unref(_).e("prefix"))},[vue.createElementVNode("span",{class:vue.normalizeClass(vue.unref(_).e("prefix-inner"))},[vue.renderSlot(qe.$slots,"prefix"),qe.prefixIcon?(vue.openBlock(),vue.createBlock(vue.unref(ElIcon),{key:0,class:vue.normalizeClass(vue.unref(_).e("icon"))},{default:vue.withCtx(()=>[(vue.openBlock(),vue.createBlock(vue.resolveDynamicComponent(qe.prefixIcon)))]),_:1},8,["class"])):vue.createCommentVNode("v-if",!0)],2)],2)):vue.createCommentVNode("v-if",!0),vue.createElementVNode("input",vue.mergeProps({id:vue.unref(v),ref_key:"input",ref:b,class:vue.unref(_).e("inner")},vue.unref(p),{type:qe.showPassword?k.value?"text":"password":qe.type,disabled:vue.unref(A),formatter:qe.formatter,parser:qe.parser,readonly:qe.readonly,autocomplete:qe.autocomplete,tabindex:qe.tabindex,"aria-label":qe.label,placeholder:qe.placeholder,style:qe.inputStyle,form:o.form,onCompositionstart:xe,onCompositionupdate:ze,onCompositionend:Pt,onInput:At,onFocus:jt[0]||(jt[0]=(...An)=>vue.unref(L)&&vue.unref(L)(...An)),onBlur:jt[1]||(jt[1]=(...An)=>vue.unref(F)&&vue.unref(F)(...An)),onChange:Ve,onKeydown:$}),null,16,_hoisted_2$5),vue.createCommentVNode(" suffix slot "),vue.unref($e)?(vue.openBlock(),vue.createElementBlock("span",{key:1,class:vue.normalizeClass(vue.unref(_).e("suffix"))},[vue.createElementVNode("span",{class:vue.normalizeClass(vue.unref(_).e("suffix-inner"))},[!vue.unref(Ie)||!vue.unref(Oe)||!vue.unref(kt)?(vue.openBlock(),vue.createElementBlock(vue.Fragment,{key:0},[vue.renderSlot(qe.$slots,"suffix"),qe.suffixIcon?(vue.openBlock(),vue.createBlock(vue.unref(ElIcon),{key:0,class:vue.normalizeClass(vue.unref(_).e("icon"))},{default:vue.withCtx(()=>[(vue.openBlock(),vue.createBlock(vue.resolveDynamicComponent(qe.suffixIcon)))]),_:1},8,["class"])):vue.createCommentVNode("v-if",!0)],64)):vue.createCommentVNode("v-if",!0),vue.unref(Ie)?(vue.openBlock(),vue.createBlock(vue.unref(ElIcon),{key:1,class:vue.normalizeClass([vue.unref(_).e("icon"),vue.unref(_).e("clear")]),onMousedown:vue.withModifiers(vue.unref(NOOP),["prevent"]),onClick:Ue},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(circle_close_default))]),_:1},8,["class","onMousedown"])):vue.createCommentVNode("v-if",!0),vue.unref(Oe)?(vue.openBlock(),vue.createBlock(vue.unref(ElIcon),{key:2,class:vue.normalizeClass([vue.unref(_).e("icon"),vue.unref(_).e("password")]),onClick:hn},{default:vue.withCtx(()=>[(vue.openBlock(),vue.createBlock(vue.resolveDynamicComponent(vue.unref(Ce))))]),_:1},8,["class"])):vue.createCommentVNode("v-if",!0),vue.unref(kt)?(vue.openBlock(),vue.createElementBlock("span",{key:3,class:vue.normalizeClass(vue.unref(_).e("count"))},[vue.createElementVNode("span",{class:vue.normalizeClass(vue.unref(_).e("count-inner"))},vue.toDisplayString(vue.unref(Dt))+" / "+vue.toDisplayString(vue.unref(p).maxlength),3)],2)):vue.createCommentVNode("v-if",!0),vue.unref(ue)&&vue.unref(_e)&&vue.unref(O)?(vue.openBlock(),vue.createBlock(vue.unref(ElIcon),{key:4,class:vue.normalizeClass([vue.unref(_).e("icon"),vue.unref(_).e("validateIcon"),vue.unref(_).is("loading",vue.unref(ue)==="validating")])},{default:vue.withCtx(()=>[(vue.openBlock(),vue.createBlock(vue.resolveDynamicComponent(vue.unref(_e))))]),_:1},8,["class"])):vue.createCommentVNode("v-if",!0)],2)],2)):vue.createCommentVNode("v-if",!0)],2),vue.createCommentVNode(" append slot "),qe.$slots.append?(vue.openBlock(),vue.createElementBlock("div",{key:1,class:vue.normalizeClass(vue.unref(_).be("group","append"))},[vue.renderSlot(qe.$slots,"append")],2)):vue.createCommentVNode("v-if",!0)],64)):(vue.openBlock(),vue.createElementBlock(vue.Fragment,{key:1},[vue.createCommentVNode(" textarea "),vue.createElementVNode("textarea",vue.mergeProps({id:vue.unref(v),ref_key:"textarea",ref:T,class:vue.unref(S).e("inner")},vue.unref(p),{tabindex:qe.tabindex,disabled:vue.unref(A),readonly:qe.readonly,autocomplete:qe.autocomplete,style:vue.unref(ie),"aria-label":qe.label,placeholder:qe.placeholder,form:o.form,onCompositionstart:xe,onCompositionupdate:ze,onCompositionend:Pt,onInput:At,onFocus:jt[2]||(jt[2]=(...An)=>vue.unref(L)&&vue.unref(L)(...An)),onBlur:jt[3]||(jt[3]=(...An)=>vue.unref(F)&&vue.unref(F)(...An)),onChange:Ve,onKeydown:$}),null,16,_hoisted_3$4),vue.unref(kt)?(vue.openBlock(),vue.createElementBlock("span",{key:0,style:vue.normalizeStyle(M.value),class:vue.normalizeClass(vue.unref(_).e("count"))},vue.toDisplayString(vue.unref(Dt))+" / "+vue.toDisplayString(vue.unref(p).maxlength),7)):vue.createCommentVNode("v-if",!0)],64))],16,_hoisted_1$7)),[[vue.vShow,qe.type!=="hidden"]])}});var Input=_export_sfc(_sfc_main$o,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue"]]);const ElInput=withInstall(Input),GAP=4,BAR_MAP={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},renderThumbStyle=({move:r,size:n,bar:i})=>({[i.size]:n,transform:`translate${i.axis}(${r}%)`}),scrollbarContextKey=Symbol("scrollbarContextKey"),thumbProps=buildProps({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),COMPONENT_NAME$2="Thumb",_sfc_main$n=vue.defineComponent({__name:"thumb",props:thumbProps,setup(r){const n=r,i=vue.inject(scrollbarContextKey),o=useNamespace("scrollbar");i||throwError(COMPONENT_NAME$2,"can not inject scrollbar context");const a=vue.ref(),u=vue.ref(),c=vue.ref({}),f=vue.ref(!1);let d=!1,p=!1,h=isClient?document.onselectstart:null;const g=vue.computed(()=>BAR_MAP[n.vertical?"vertical":"horizontal"]),v=vue.computed(()=>renderThumbStyle({size:n.size,move:n.move,bar:g.value})),y=vue.computed(()=>a.value[g.value.offset]**2/i.wrapElement[g.value.scrollSize]/n.ratio/u.value[g.value.offset]),A=M=>{var D;if(M.stopPropagation(),M.ctrlKey||[1,2].includes(M.button))return;(D=window.getSelection())==null||D.removeAllRanges(),S(M);const z=M.currentTarget;z&&(c.value[g.value.axis]=z[g.value.offset]-(M[g.value.client]-z.getBoundingClientRect()[g.value.direction]))},_=M=>{if(!u.value||!a.value||!i.wrapElement)return;const D=Math.abs(M.target.getBoundingClientRect()[g.value.direction]-M[g.value.client]),z=u.value[g.value.offset]/2,j=(D-z)*100*y.value/a.value[g.value.offset];i.wrapElement[g.value.scroll]=j*i.wrapElement[g.value.scrollSize]/100},S=M=>{M.stopImmediatePropagation(),d=!0,document.addEventListener("mousemove",b),document.addEventListener("mouseup",T),h=document.onselectstart,document.onselectstart=()=>!1},b=M=>{if(!a.value||!u.value||d===!1)return;const D=c.value[g.value.axis];if(!D)return;const z=(a.value.getBoundingClientRect()[g.value.direction]-M[g.value.client])*-1,j=u.value[g.value.offset]-D,oe=(z-j)*100*y.value/a.value[g.value.offset];i.wrapElement[g.value.scroll]=oe*i.wrapElement[g.value.scrollSize]/100},T=()=>{d=!1,c.value[g.value.axis]=0,document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",T),k(),p&&(f.value=!1)},w=()=>{p=!1,f.value=!!n.size},x=()=>{p=!0,f.value=d};vue.onBeforeUnmount(()=>{k(),document.removeEventListener("mouseup",T)});const k=()=>{document.onselectstart!==h&&(document.onselectstart=h)};return useEventListener(vue.toRef(i,"scrollbarElement"),"mousemove",w),useEventListener(vue.toRef(i,"scrollbarElement"),"mouseleave",x),(M,D)=>(vue.openBlock(),vue.createBlock(vue.Transition,{name:vue.unref(o).b("fade"),persisted:""},{default:vue.withCtx(()=>[vue.withDirectives(vue.createElementVNode("div",{ref_key:"instance",ref:a,class:vue.normalizeClass([vue.unref(o).e("bar"),vue.unref(o).is(vue.unref(g).key)]),onMousedown:_},[vue.createElementVNode("div",{ref_key:"thumb",ref:u,class:vue.normalizeClass(vue.unref(o).e("thumb")),style:vue.normalizeStyle(vue.unref(v)),onMousedown:A},null,38)],34),[[vue.vShow,M.always||f.value]])]),_:1},8,["name"]))}});var Thumb=_export_sfc(_sfc_main$n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/thumb.vue"]]);const barProps=buildProps({always:{type:Boolean,default:!0},width:String,height:String,ratioX:{type:Number,default:1},ratioY:{type:Number,default:1}}),_sfc_main$m=vue.defineComponent({__name:"bar",props:barProps,setup(r,{expose:n}){const i=r,o=vue.ref(0),a=vue.ref(0);return n({handleScroll:c=>{if(c){const f=c.offsetHeight-GAP,d=c.offsetWidth-GAP;a.value=c.scrollTop*100/f*i.ratioY,o.value=c.scrollLeft*100/d*i.ratioX}}}),(c,f)=>(vue.openBlock(),vue.createElementBlock(vue.Fragment,null,[vue.createVNode(Thumb,{move:o.value,ratio:c.ratioX,size:c.width,always:c.always},null,8,["move","ratio","size","always"]),vue.createVNode(Thumb,{move:a.value,ratio:c.ratioY,size:c.height,vertical:"",always:c.always},null,8,["move","ratio","size","always"])],64))}});var Bar=_export_sfc(_sfc_main$m,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/bar.vue"]]);const scrollbarProps=buildProps({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:definePropType([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20}}),scrollbarEmits={scroll:({scrollTop:r,scrollLeft:n})=>[r,n].every(isNumber)},COMPONENT_NAME$1="ElScrollbar",__default__$8=vue.defineComponent({name:COMPONENT_NAME$1}),_sfc_main$l=vue.defineComponent({...__default__$8,props:scrollbarProps,emits:scrollbarEmits,setup(r,{expose:n,emit:i}){const o=r,a=useNamespace("scrollbar");let u,c;const f=vue.ref(),d=vue.ref(),p=vue.ref(),h=vue.ref("0"),g=vue.ref("0"),v=vue.ref(),y=vue.ref(1),A=vue.ref(1),_=vue.computed(()=>{const D={};return o.height&&(D.height=addUnit(o.height)),o.maxHeight&&(D.maxHeight=addUnit(o.maxHeight)),[o.wrapStyle,D]}),S=vue.computed(()=>[o.wrapClass,a.e("wrap"),{[a.em("wrap","hidden-default")]:!o.native}]),b=vue.computed(()=>[a.e("view"),o.viewClass]),T=()=>{var D;d.value&&((D=v.value)==null||D.handleScroll(d.value),i("scroll",{scrollTop:d.value.scrollTop,scrollLeft:d.value.scrollLeft}))};function w(D,z){isObject(D)?d.value.scrollTo(D):isNumber(D)&&isNumber(z)&&d.value.scrollTo(D,z)}const x=D=>{if(!isNumber(D)){debugWarn(COMPONENT_NAME$1,"value must be a number");return}d.value.scrollTop=D},k=D=>{if(!isNumber(D)){debugWarn(COMPONENT_NAME$1,"value must be a number");return}d.value.scrollLeft=D},M=()=>{if(!d.value)return;const D=d.value.offsetHeight-GAP,z=d.value.offsetWidth-GAP,j=D**2/d.value.scrollHeight,oe=z**2/d.value.scrollWidth,L=Math.max(j,o.minSize),F=Math.max(oe,o.minSize);y.value=j/(D-j)/(L/(D-L)),A.value=oe/(z-oe)/(F/(z-F)),g.value=L+GAP<D?`${L}px`:"",h.value=F+GAP<z?`${F}px`:""};return vue.watch(()=>o.noresize,D=>{D?(u==null||u(),c==null||c()):({stop:u}=useResizeObserver(p,M),c=useEventListener("resize",M))},{immediate:!0}),vue.watch(()=>[o.maxHeight,o.height],()=>{o.native||vue.nextTick(()=>{var D;M(),d.value&&((D=v.value)==null||D.handleScroll(d.value))})}),vue.provide(scrollbarContextKey,vue.reactive({scrollbarElement:f,wrapElement:d})),vue.onMounted(()=>{o.native||vue.nextTick(()=>{M()})}),vue.onUpdated(()=>M()),n({wrapRef:d,update:M,scrollTo:w,setScrollTop:x,setScrollLeft:k,handleScroll:T}),(D,z)=>(vue.openBlock(),vue.createElementBlock("div",{ref_key:"scrollbarRef",ref:f,class:vue.normalizeClass(vue.unref(a).b())},[vue.createElementVNode("div",{ref_key:"wrapRef",ref:d,class:vue.normalizeClass(vue.unref(S)),style:vue.normalizeStyle(vue.unref(_)),onScroll:T},[(vue.openBlock(),vue.createBlock(vue.resolveDynamicComponent(D.tag),{ref_key:"resizeRef",ref:p,class:vue.normalizeClass(vue.unref(b)),style:vue.normalizeStyle(D.viewStyle)},{default:vue.withCtx(()=>[vue.renderSlot(D.$slots,"default")]),_:3},8,["class","style"]))],38),D.native?vue.createCommentVNode("v-if",!0):(vue.openBlock(),vue.createBlock(Bar,{key:0,ref_key:"barRef",ref:v,height:g.value,width:h.value,always:D.always,"ratio-x":A.value,"ratio-y":y.value},null,8,["height","width","always","ratio-x","ratio-y"]))],2))}});var Scrollbar=_export_sfc(_sfc_main$l,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/scrollbar.vue"]]);const ElScrollbar=withInstall(Scrollbar),POPPER_INJECTION_KEY=Symbol("popper"),POPPER_CONTENT_INJECTION_KEY=Symbol("popperContent"),roleTypes=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],popperProps=buildProps({role:{type:String,values:roleTypes,default:"tooltip"}}),__default__$7=vue.defineComponent({name:"ElPopper",inheritAttrs:!1}),_sfc_main$k=vue.defineComponent({...__default__$7,props:popperProps,setup(r,{expose:n}){const i=r,o=vue.ref(),a=vue.ref(),u=vue.ref(),c=vue.ref(),f=vue.computed(()=>i.role),d={triggerRef:o,popperInstanceRef:a,contentRef:u,referenceRef:c,role:f};return n(d),vue.provide(POPPER_INJECTION_KEY,d),(p,h)=>vue.renderSlot(p.$slots,"default")}});var Popper=_export_sfc(_sfc_main$k,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/popper.vue"]]);const popperArrowProps=buildProps({arrowOffset:{type:Number,default:5}}),__default__$6=vue.defineComponent({name:"ElPopperArrow",inheritAttrs:!1}),_sfc_main$j=vue.defineComponent({...__default__$6,props:popperArrowProps,setup(r,{expose:n}){const i=r,o=useNamespace("popper"),{arrowOffset:a,arrowRef:u,arrowStyle:c}=vue.inject(POPPER_CONTENT_INJECTION_KEY,void 0);return vue.watch(()=>i.arrowOffset,f=>{a.value=f}),vue.onBeforeUnmount(()=>{u.value=void 0}),n({arrowRef:u}),(f,d)=>(vue.openBlock(),vue.createElementBlock("span",{ref_key:"arrowRef",ref:u,class:vue.normalizeClass(vue.unref(o).e("arrow")),style:vue.normalizeStyle(vue.unref(c)),"data-popper-arrow":""},null,6))}});var ElPopperArrow=_export_sfc(_sfc_main$j,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/arrow.vue"]]);const NAME="ElOnlyChild",OnlyChild=vue.defineComponent({name:NAME,setup(r,{slots:n,attrs:i}){var o;const a=vue.inject(FORWARD_REF_INJECTION_KEY),u=useForwardRefDirective((o=a==null?void 0:a.setForwardRef)!=null?o:NOOP);return()=>{var c;const f=(c=n.default)==null?void 0:c.call(n,i);if(!f)return null;if(f.length>1)return debugWarn(NAME,"requires exact only one valid child."),null;const d=findFirstLegitChild(f);return d?vue.withDirectives(vue.cloneVNode(d,i),[[u]]):(debugWarn(NAME,"no valid child node found"),null)}}});function findFirstLegitChild(r){if(!r)return null;const n=r;for(const i of n){if(isObject(i))switch(i.type){case vue.Comment:continue;case vue.Text:case"svg":return wrapTextContent(i);case vue.Fragment:return findFirstLegitChild(i.children);default:return i}return wrapTextContent(i)}return null}function wrapTextContent(r){const n=useNamespace("only-child");return vue.createVNode("span",{class:n.e("content")},[r])}const popperTriggerProps=buildProps({virtualRef:{type:definePropType(Object)},virtualTriggering:Boolean,onMouseenter:{type:definePropType(Function)},onMouseleave:{type:definePropType(Function)},onClick:{type:definePropType(Function)},onKeydown:{type:definePropType(Function)},onFocus:{type:definePropType(Function)},onBlur:{type:definePropType(Function)},onContextmenu:{type:definePropType(Function)},id:String,open:Boolean}),__default__$5=vue.defineComponent({name:"ElPopperTrigger",inheritAttrs:!1}),_sfc_main$i=vue.defineComponent({...__default__$5,props:popperTriggerProps,setup(r,{expose:n}){const i=r,{role:o,triggerRef:a}=vue.inject(POPPER_INJECTION_KEY,void 0);useForwardRef(a);const u=vue.computed(()=>f.value?i.id:void 0),c=vue.computed(()=>{if(o&&o.value==="tooltip")return i.open&&i.id?i.id:void 0}),f=vue.computed(()=>{if(o&&o.value!=="tooltip")return o.value}),d=vue.computed(()=>f.value?`${i.open}`:void 0);let p;return vue.onMounted(()=>{vue.watch(()=>i.virtualRef,h=>{h&&(a.value=unrefElement(h))},{immediate:!0}),vue.watch(a,(h,g)=>{p==null||p(),p=void 0,isElement(h)&&(["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"].forEach(v=>{var y;const A=i[v];A&&(h.addEventListener(v.slice(2).toLowerCase(),A),(y=g==null?void 0:g.removeEventListener)==null||y.call(g,v.slice(2).toLowerCase(),A))}),p=vue.watch([u,c,f,d],v=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((y,A)=>{lodashEs.isNil(v[A])?h.removeAttribute(y):h.setAttribute(y,v[A])})},{immediate:!0})),isElement(g)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(v=>g.removeAttribute(v))},{immediate:!0})}),vue.onBeforeUnmount(()=>{p==null||p(),p=void 0}),n({triggerRef:a}),(h,g)=>h.virtualTriggering?vue.createCommentVNode("v-if",!0):(vue.openBlock(),vue.createBlock(vue.unref(OnlyChild),vue.mergeProps({key:0},h.$attrs,{"aria-controls":vue.unref(u),"aria-describedby":vue.unref(c),"aria-expanded":vue.unref(d),"aria-haspopup":vue.unref(f)}),{default:vue.withCtx(()=>[vue.renderSlot(h.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var ElPopperTrigger=_export_sfc(_sfc_main$i,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/trigger.vue"]]);const FOCUS_AFTER_TRAPPED="focus-trap.focus-after-trapped",FOCUS_AFTER_RELEASED="focus-trap.focus-after-released",FOCUSOUT_PREVENTED="focus-trap.focusout-prevented",FOCUS_AFTER_TRAPPED_OPTS={cancelable:!0,bubbles:!1},FOCUSOUT_PREVENTED_OPTS={cancelable:!0,bubbles:!1},ON_TRAP_FOCUS_EVT="focusAfterTrapped",ON_RELEASE_FOCUS_EVT="focusAfterReleased",FOCUS_TRAP_INJECTION_KEY=Symbol("elFocusTrap"),focusReason=vue.ref(),lastUserFocusTimestamp=vue.ref(0),lastAutomatedFocusTimestamp=vue.ref(0);let focusReasonUserCount=0;const obtainAllFocusableElements=r=>{const n=[],i=document.createTreeWalker(r,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const a=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||a?NodeFilter.FILTER_SKIP:o.tabIndex>=0||o===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;i.nextNode();)n.push(i.currentNode);return n},getVisibleElement=(r,n)=>{for(const i of r)if(!isHidden(i,n))return i},isHidden=(r,n)=>{if(process.env.NODE_ENV==="test")return!1;if(getComputedStyle(r).visibility==="hidden")return!0;for(;r;){if(n&&r===n)return!1;if(getComputedStyle(r).display==="none")return!0;r=r.parentElement}return!1},getEdges=r=>{const n=obtainAllFocusableElements(r),i=getVisibleElement(n,r),o=getVisibleElement(n.reverse(),r);return[i,o]},isSelectable=r=>r instanceof HTMLInputElement&&"select"in r,tryFocus=(r,n)=>{if(r&&r.focus){const i=document.activeElement;r.focus({preventScroll:!0}),lastAutomatedFocusTimestamp.value=window.performance.now(),r!==i&&isSelectable(r)&&n&&r.select()}};function removeFromStack(r,n){const i=[...r],o=r.indexOf(n);return o!==-1&&i.splice(o,1),i}const createFocusableStack=()=>{let r=[];return{push:o=>{const a=r[0];a&&o!==a&&a.pause(),r=removeFromStack(r,o),r.unshift(o)},remove:o=>{var a,u;r=removeFromStack(r,o),(u=(a=r[0])==null?void 0:a.resume)==null||u.call(a)}}},focusFirstDescendant=(r,n=!1)=>{const i=document.activeElement;for(const o of r)if(tryFocus(o,n),document.activeElement!==i)return},focusableStack=createFocusableStack(),isFocusCausedByUserEvent=()=>lastUserFocusTimestamp.value>lastAutomatedFocusTimestamp.value,notifyFocusReasonPointer=()=>{focusReason.value="pointer",lastUserFocusTimestamp.value=window.performance.now()},notifyFocusReasonKeydown=()=>{focusReason.value="keyboard",lastUserFocusTimestamp.value=window.performance.now()},useFocusReason=()=>(vue.onMounted(()=>{focusReasonUserCount===0&&(document.addEventListener("mousedown",notifyFocusReasonPointer),document.addEventListener("touchstart",notifyFocusReasonPointer),document.addEventListener("keydown",notifyFocusReasonKeydown)),focusReasonUserCount++}),vue.onBeforeUnmount(()=>{focusReasonUserCount--,focusReasonUserCount<=0&&(document.removeEventListener("mousedown",notifyFocusReasonPointer),document.removeEventListener("touchstart",notifyFocusReasonPointer),document.removeEventListener("keydown",notifyFocusReasonKeydown))}),{focusReason,lastUserFocusTimestamp,lastAutomatedFocusTimestamp}),createFocusOutPreventedEvent=r=>new CustomEvent(FOCUSOUT_PREVENTED,{...FOCUSOUT_PREVENTED_OPTS,detail:r}),_sfc_main$h=vue.defineComponent({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[ON_TRAP_FOCUS_EVT,ON_RELEASE_FOCUS_EVT,"focusin","focusout","focusout-prevented","release-requested"],setup(r,{emit:n}){const i=vue.ref();let o,a;const{focusReason:u}=useFocusReason();useEscapeKeydown(A=>{r.trapped&&!c.paused&&n("release-requested",A)});const c={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},f=A=>{if(!r.loop&&!r.trapped||c.paused)return;const{key:_,altKey:S,ctrlKey:b,metaKey:T,currentTarget:w,shiftKey:x}=A,{loop:k}=r,M=_===EVENT_CODE.tab&&!S&&!b&&!T,D=document.activeElement;if(M&&D){const z=w,[j,oe]=getEdges(z);if(j&&oe){if(!x&&D===oe){const F=createFocusOutPreventedEvent({focusReason:u.value});n("focusout-prevented",F),F.defaultPrevented||(A.preventDefault(),k&&tryFocus(j,!0))}else if(x&&[j,z].includes(D)){const F=createFocusOutPreventedEvent({focusReason:u.value});n("focusout-prevented",F),F.defaultPrevented||(A.preventDefault(),k&&tryFocus(oe,!0))}}else if(D===z){const F=createFocusOutPreventedEvent({focusReason:u.value});n("focusout-prevented",F),F.defaultPrevented||A.preventDefault()}}};vue.provide(FOCUS_TRAP_INJECTION_KEY,{focusTrapRef:i,onKeydown:f}),vue.watch(()=>r.focusTrapEl,A=>{A&&(i.value=A)},{immediate:!0}),vue.watch([i],([A],[_])=>{A&&(A.addEventListener("keydown",f),A.addEventListener("focusin",h),A.addEventListener("focusout",g)),_&&(_.removeEventListener("keydown",f),_.removeEventListener("focusin",h),_.removeEventListener("focusout",g))});const d=A=>{n(ON_TRAP_FOCUS_EVT,A)},p=A=>n(ON_RELEASE_FOCUS_EVT,A),h=A=>{const _=vue.unref(i);if(!_)return;const S=A.target,b=A.relatedTarget,T=S&&_.contains(S);r.trapped||b&&_.contains(b)||(o=b),T&&n("focusin",A),!c.paused&&r.trapped&&(T?a=S:tryFocus(a,!0))},g=A=>{const _=vue.unref(i);if(!(c.paused||!_))if(r.trapped){const S=A.relatedTarget;!lodashEs.isNil(S)&&!_.contains(S)&&setTimeout(()=>{if(!c.paused&&r.trapped){const b=createFocusOutPreventedEvent({focusReason:u.value});n("focusout-prevented",b),b.defaultPrevented||tryFocus(a,!0)}},0)}else{const S=A.target;S&&_.contains(S)||n("focusout",A)}};async function v(){await vue.nextTick();const A=vue.unref(i);if(A){focusableStack.push(c);const _=A.contains(document.activeElement)?o:document.activeElement;if(o=_,!A.contains(_)){const b=new Event(FOCUS_AFTER_TRAPPED,FOCUS_AFTER_TRAPPED_OPTS);A.addEventListener(FOCUS_AFTER_TRAPPED,d),A.dispatchEvent(b),b.defaultPrevented||vue.nextTick(()=>{let T=r.focusStartEl;isString(T)||(tryFocus(T),document.activeElement!==T&&(T="first")),T==="first"&&focusFirstDescendant(obtainAllFocusableElements(A),!0),(document.activeElement===_||T==="container")&&tryFocus(A)})}}}function y(){const A=vue.unref(i);if(A){A.removeEventListener(FOCUS_AFTER_TRAPPED,d);const _=new CustomEvent(FOCUS_AFTER_RELEASED,{...FOCUS_AFTER_TRAPPED_OPTS,detail:{focusReason:u.value}});A.addEventListener(FOCUS_AFTER_RELEASED,p),A.dispatchEvent(_),!_.defaultPrevented&&(u.value=="keyboard"||!isFocusCausedByUserEvent()||A.contains(document.activeElement))&&tryFocus(o??document.body),A.removeEventListener(FOCUS_AFTER_RELEASED,d),focusableStack.remove(c)}}return vue.onMounted(()=>{r.trapped&&v(),vue.watch(()=>r.trapped,A=>{A?v():y()})}),vue.onBeforeUnmount(()=>{r.trapped&&y()}),{onKeydown:f}}});function _sfc_render$4(r,n,i,o,a,u){return vue.renderSlot(r.$slots,"default",{handleKeydown:r.onKeydown})}var ElFocusTrap=_export_sfc(_sfc_main$h,[["render",_sfc_render$4],["__file","/home/runner/work/element-plus/element-plus/packages/components/focus-trap/src/focus-trap.vue"]]);const POSITIONING_STRATEGIES=["fixed","absolute"],popperCoreConfigProps=buildProps({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:definePropType(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:Ee,default:"bottom"},popperOptions:{type:definePropType(Object),default:()=>({})},strategy:{type:String,values:POSITIONING_STRATEGIES,default:"absolute"}}),popperContentProps=buildProps({...popperCoreConfigProps,id:String,style:{type:definePropType([String,Array,Object])},className:{type:definePropType([String,Array,Object])},effect:{type:String,default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:definePropType([String,Array,Object])},popperStyle:{type:definePropType([String,Array,Object])},referenceEl:{type:definePropType(Object)},triggerTargetEl:{type:definePropType(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},ariaLabel:{type:String,default:void 0},virtualTriggering:Boolean,zIndex:Number}),popperContentEmits={mouseenter:r=>r instanceof MouseEvent,mouseleave:r=>r instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},buildPopperOptions=(r,n=[])=>{const{placement:i,strategy:o,popperOptions:a}=r,u={placement:i,strategy:o,...a,modifiers:[...genModifiers(r),...n]};return deriveExtraModifiers(u,a==null?void 0:a.modifiers),u},unwrapMeasurableEl=r=>{if(isClient)return unrefElement(r)};function genModifiers(r){const{offset:n,gpuAcceleration:i,fallbackPlacements:o}=r;return[{name:"offset",options:{offset:[0,n??12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:o}},{name:"computeStyles",options:{gpuAcceleration:i}}]}function deriveExtraModifiers(r,n){n&&(r.modifiers=[...r.modifiers,...n??[]])}const DEFAULT_ARROW_OFFSET=0,usePopperContent=r=>{const{popperInstanceRef:n,contentRef:i,triggerRef:o,role:a}=vue.inject(POPPER_INJECTION_KEY,void 0),u=vue.ref(),c=vue.ref(),f=vue.computed(()=>({name:"eventListeners",enabled:!!r.visible})),d=vue.computed(()=>{var b;const T=vue.unref(u),w=(b=vue.unref(c))!=null?b:DEFAULT_ARROW_OFFSET;return{name:"arrow",enabled:!lodashEs.isUndefined(T),options:{element:T,padding:w}}}),p=vue.computed(()=>({onFirstUpdate:()=>{A()},...buildPopperOptions(r,[vue.unref(d),vue.unref(f)])})),h=vue.computed(()=>unwrapMeasurableEl(r.referenceEl)||vue.unref(o)),{attributes:g,state:v,styles:y,update:A,forceUpdate:_,instanceRef:S}=usePopper(h,i,p);return vue.watch(S,b=>n.value=b),vue.onMounted(()=>{vue.watch(()=>{var b;return(b=vue.unref(h))==null?void 0:b.getBoundingClientRect()},()=>{A()})}),{attributes:g,arrowRef:u,contentRef:i,instanceRef:S,state:v,styles:y,role:a,forceUpdate:_,update:A}},usePopperContentDOM=(r,{attributes:n,styles:i,role:o})=>{const{nextZIndex:a}=useZIndex(),u=useNamespace("popper"),c=vue.computed(()=>vue.unref(n).popper),f=vue.ref(r.zIndex||a()),d=vue.computed(()=>[u.b(),u.is("pure",r.pure),u.is(r.effect),r.popperClass]),p=vue.computed(()=>[{zIndex:vue.unref(f)},vue.unref(i).popper,r.popperStyle||{}]),h=vue.computed(()=>o.value==="dialog"?"false":void 0),g=vue.computed(()=>vue.unref(i).arrow||{});return{ariaModal:h,arrowStyle:g,contentAttrs:c,contentClass:d,contentStyle:p,contentZIndex:f,updateZIndex:()=>{f.value=r.zIndex||a()}}},usePopperContentFocusTrap=(r,n)=>{const i=vue.ref(!1),o=vue.ref();return{focusStartRef:o,trapped:i,onFocusAfterReleased:p=>{var h;((h=p.detail)==null?void 0:h.focusReason)!=="pointer"&&(o.value="first",n("blur"))},onFocusAfterTrapped:()=>{n("focus")},onFocusInTrap:p=>{r.visible&&!i.value&&(p.target&&(o.value=p.target),i.value=!0)},onFocusoutPrevented:p=>{r.trapping||(p.detail.focusReason==="pointer"&&p.preventDefault(),i.value=!1)},onReleaseRequested:()=>{i.value=!1,n("close")}}},__default__$4=vue.defineComponent({name:"ElPopperContent"}),_sfc_main$g=vue.defineComponent({...__default__$4,props:popperContentProps,emits:popperContentEmits,setup(r,{expose:n,emit:i}){const o=r,{focusStartRef:a,trapped:u,onFocusAfterReleased:c,onFocusAfterTrapped:f,onFocusInTrap:d,onFocusoutPrevented:p,onReleaseRequested:h}=usePopperContentFocusTrap(o,i),{attributes:g,arrowRef:v,contentRef:y,styles:A,instanceRef:_,role:S,update:b}=usePopperContent(o),{ariaModal:T,arrowStyle:w,contentAttrs:x,contentClass:k,contentStyle:M,updateZIndex:D}=usePopperContentDOM(o,{styles:A,attributes:g,role:S}),z=vue.inject(formItemContextKey,void 0),j=vue.ref();vue.provide(POPPER_CONTENT_INJECTION_KEY,{arrowStyle:w,arrowRef:v,arrowOffset:j}),z&&(z.addInputId||z.removeInputId)&&vue.provide(formItemContextKey,{...z,addInputId:NOOP,removeInputId:NOOP});let oe;const L=(O=!0)=>{b(),O&&D()},F=()=>{L(!1),o.visible&&o.focusOnShow?u.value=!0:o.visible===!1&&(u.value=!1)};return vue.onMounted(()=>{vue.watch(()=>o.triggerTargetEl,(O,ue)=>{oe==null||oe(),oe=void 0;const _e=vue.unref(O||y.value),Ce=vue.unref(ue||y.value);isElement(_e)&&(oe=vue.watch([S,()=>o.ariaLabel,T,()=>o.id],de=>{["role","aria-label","aria-modal","id"].forEach((ie,Y)=>{lodashEs.isNil(de[Y])?_e.removeAttribute(ie):_e.setAttribute(ie,de[Y])})},{immediate:!0})),Ce!==_e&&isElement(Ce)&&["role","aria-label","aria-modal","id"].forEach(de=>{Ce.removeAttribute(de)})},{immediate:!0}),vue.watch(()=>o.visible,F,{immediate:!0})}),vue.onBeforeUnmount(()=>{oe==null||oe(),oe=void 0}),n({popperContentRef:y,popperInstanceRef:_,updatePopper:L,contentStyle:M}),(O,ue)=>(vue.openBlock(),vue.createElementBlock("div",vue.mergeProps({ref_key:"contentRef",ref:y},vue.unref(x),{style:vue.unref(M),class:vue.unref(k),tabindex:"-1",onMouseenter:ue[0]||(ue[0]=_e=>O.$emit("mouseenter",_e)),onMouseleave:ue[1]||(ue[1]=_e=>O.$emit("mouseleave",_e))}),[vue.createVNode(vue.unref(ElFocusTrap),{trapped:vue.unref(u),"trap-on-focus-in":!0,"focus-trap-el":vue.unref(y),"focus-start-el":vue.unref(a),onFocusAfterTrapped:vue.unref(f),onFocusAfterReleased:vue.unref(c),onFocusin:vue.unref(d),onFocusoutPrevented:vue.unref(p),onReleaseRequested:vue.unref(h)},{default:vue.withCtx(()=>[vue.renderSlot(O.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16))}});var ElPopperContent=_export_sfc(_sfc_main$g,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/content.vue"]]);const ElPopper=withInstall(Popper),TOOLTIP_INJECTION_KEY=Symbol("elTooltip"),useTooltipContentProps=buildProps({...useDelayedToggleProps,...popperContentProps,appendTo:{type:definePropType([String,Object])},content:{type:String,default:""},rawContent:{type:Boolean,default:!1},persistent:Boolean,ariaLabel:String,visible:{type:definePropType(Boolean),default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean}),useTooltipTriggerProps=buildProps({...popperTriggerProps,disabled:Boolean,trigger:{type:definePropType([String,Array]),default:"hover"},triggerKeys:{type:definePropType(Array),default:()=>[EVENT_CODE.enter,EVENT_CODE.space]}}),{useModelToggleProps:useTooltipModelToggleProps,useModelToggleEmits:useTooltipModelToggleEmits,useModelToggle:useTooltipModelToggle}=createModelToggleComposable("visible"),useTooltipProps=buildProps({...popperProps,...useTooltipModelToggleProps,...useTooltipContentProps,...useTooltipTriggerProps,...popperArrowProps,showArrow:{type:Boolean,default:!0}}),tooltipEmits=[...useTooltipModelToggleEmits,"before-show","before-hide","show","hide","open","close"],isTriggerType=(r,n)=>isArray(r)?r.includes(n):r===n,whenTrigger=(r,n,i)=>o=>{isTriggerType(vue.unref(r),n)&&i(o)},__default__$3=vue.defineComponent({name:"ElTooltipTrigger"}),_sfc_main$f=vue.defineComponent({...__default__$3,props:useTooltipTriggerProps,setup(r,{expose:n}){const i=r,o=useNamespace("tooltip"),{controlled:a,id:u,open:c,onOpen:f,onClose:d,onToggle:p}=vue.inject(TOOLTIP_INJECTION_KEY,void 0),h=vue.ref(null),g=()=>{if(vue.unref(a)||i.disabled)return!0},v=vue.toRef(i,"trigger"),y=composeEventHandlers(g,whenTrigger(v,"hover",f)),A=composeEventHandlers(g,whenTrigger(v,"hover",d)),_=composeEventHandlers(g,whenTrigger(v,"click",x=>{x.button===0&&p(x)})),S=composeEventHandlers(g,whenTrigger(v,"focus",f)),b=composeEventHandlers(g,whenTrigger(v,"focus",d)),T=composeEventHandlers(g,whenTrigger(v,"contextmenu",x=>{x.preventDefault(),p(x)})),w=composeEventHandlers(g,x=>{const{code:k}=x;i.triggerKeys.includes(k)&&(x.preventDefault(),p(x))});return n({triggerRef:h}),(x,k)=>(vue.openBlock(),vue.createBlock(vue.unref(ElPopperTrigger),{id:vue.unref(u),"virtual-ref":x.virtualRef,open:vue.unref(c),"virtual-triggering":x.virtualTriggering,class:vue.normalizeClass(vue.unref(o).e("trigger")),onBlur:vue.unref(b),onClick:vue.unref(_),onContextmenu:vue.unref(T),onFocus:vue.unref(S),onMouseenter:vue.unref(y),onMouseleave:vue.unref(A),onKeydown:vue.unref(w)},{default:vue.withCtx(()=>[vue.renderSlot(x.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var ElTooltipTrigger=_export_sfc(_sfc_main$f,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/trigger.vue"]]);const __default__$2=vue.defineComponent({name:"ElTooltipContent",inheritAttrs:!1}),_sfc_main$e=vue.defineComponent({...__default__$2,props:useTooltipContentProps,setup(r,{expose:n}){const i=r,{selector:o}=usePopperContainerId(),a=useNamespace("tooltip"),u=vue.ref(null),c=vue.ref(!1),{controlled:f,id:d,open:p,trigger:h,onClose:g,onOpen:v,onShow:y,onHide:A,onBeforeShow:_,onBeforeHide:S}=vue.inject(TOOLTIP_INJECTION_KEY,void 0),b=vue.computed(()=>i.transition||`${a.namespace.value}-fade-in-linear`),T=vue.computed(()=>process.env.NODE_ENV==="test"?!0:i.persistent);vue.onBeforeUnmount(()=>{c.value=!0});const w=vue.computed(()=>vue.unref(T)?!0:vue.unref(p)),x=vue.computed(()=>i.disabled?!1:vue.unref(p)),k=vue.computed(()=>i.appendTo||o.value),M=vue.computed(()=>{var de;return(de=i.style)!=null?de:{}}),D=vue.computed(()=>!vue.unref(p)),z=()=>{A()},j=()=>{if(vue.unref(f))return!0},oe=composeEventHandlers(j,()=>{i.enterable&&vue.unref(h)==="hover"&&v()}),L=composeEventHandlers(j,()=>{vue.unref(h)==="hover"&&g()}),F=()=>{var de,ie;(ie=(de=u.value)==null?void 0:de.updatePopper)==null||ie.call(de),_==null||_()},O=()=>{S==null||S()},ue=()=>{y(),Ce=onClickOutside(vue.computed(()=>{var de;return(de=u.value)==null?void 0:de.popperContentRef}),()=>{if(vue.unref(f))return;vue.unref(h)!=="hover"&&g()})},_e=()=>{i.virtualTriggering||g()};let Ce;return vue.watch(()=>vue.unref(p),de=>{de||Ce==null||Ce()},{flush:"post"}),vue.watch(()=>i.content,()=>{var de,ie;(ie=(de=u.value)==null?void 0:de.updatePopper)==null||ie.call(de)}),n({contentRef:u}),(de,ie)=>(vue.openBlock(),vue.createBlock(vue.Teleport,{disabled:!de.teleported,to:vue.unref(k)},[vue.createVNode(vue.Transition,{name:vue.unref(b),onAfterLeave:z,onBeforeEnter:F,onAfterEnter:ue,onBeforeLeave:O},{default:vue.withCtx(()=>[vue.unref(w)?vue.withDirectives((vue.openBlock(),vue.createBlock(vue.unref(ElPopperContent),vue.mergeProps({key:0,id:vue.unref(d),ref_key:"contentRef",ref:u},de.$attrs,{"aria-label":de.ariaLabel,"aria-hidden":vue.unref(D),"boundaries-padding":de.boundariesPadding,"fallback-placements":de.fallbackPlacements,"gpu-acceleration":de.gpuAcceleration,offset:de.offset,placement:de.placement,"popper-options":de.popperOptions,strategy:de.strategy,effect:de.effect,enterable:de.enterable,pure:de.pure,"popper-class":de.popperClass,"popper-style":[de.popperStyle,vue.unref(M)],"reference-el":de.referenceEl,"trigger-target-el":de.triggerTargetEl,visible:vue.unref(x),"z-index":de.zIndex,onMouseenter:vue.unref(oe),onMouseleave:vue.unref(L),onBlur:_e,onClose:vue.unref(g)}),{default:vue.withCtx(()=>[c.value?vue.createCommentVNode("v-if",!0):vue.renderSlot(de.$slots,"default",{key:0})]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[vue.vShow,vue.unref(x)]]):vue.createCommentVNode("v-if",!0)]),_:3},8,["name"])],8,["disabled","to"]))}});var ElTooltipContent=_export_sfc(_sfc_main$e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/content.vue"]]);const _hoisted_1$6=["innerHTML"],_hoisted_2$4={key:1},__default__$1=vue.defineComponent({name:"ElTooltip"}),_sfc_main$d=vue.defineComponent({...__default__$1,props:useTooltipProps,emits:tooltipEmits,setup(r,{expose:n,emit:i}){const o=r;usePopperContainer();const a=useId(),u=vue.ref(),c=vue.ref(),f=()=>{var b;const T=vue.unref(u);T&&((b=T.popperInstanceRef)==null||b.update())},d=vue.ref(!1),p=vue.ref(),{show:h,hide:g,hasUpdateHandler:v}=useTooltipModelToggle({indicator:d,toggleReason:p}),{onOpen:y,onClose:A}=useDelayedToggle({showAfter:vue.toRef(o,"showAfter"),hideAfter:vue.toRef(o,"hideAfter"),autoClose:vue.toRef(o,"autoClose"),open:h,close:g}),_=vue.computed(()=>isBoolean(o.visible)&&!v.value);vue.provide(TOOLTIP_INJECTION_KEY,{controlled:_,id:a,open:vue.readonly(d),trigger:vue.toRef(o,"trigger"),onOpen:b=>{y(b)},onClose:b=>{A(b)},onToggle:b=>{vue.unref(d)?A(b):y(b)},onShow:()=>{i("show",p.value)},onHide:()=>{i("hide",p.value)},onBeforeShow:()=>{i("before-show",p.value)},onBeforeHide:()=>{i("before-hide",p.value)},updatePopper:f}),vue.watch(()=>o.disabled,b=>{b&&d.value&&(d.value=!1)});const S=()=>{var b,T;const w=(T=(b=c.value)==null?void 0:b.contentRef)==null?void 0:T.popperContentRef;return w&&w.contains(document.activeElement)};return vue.onDeactivated(()=>d.value&&g()),n({popperRef:u,contentRef:c,isFocusInsideContent:S,updatePopper:f,onOpen:y,onClose:A,hide:g}),(b,T)=>(vue.openBlock(),vue.createBlock(vue.unref(ElPopper),{ref_key:"popperRef",ref:u,role:b.role},{default:vue.withCtx(()=>[vue.createVNode(ElTooltipTrigger,{disabled:b.disabled,trigger:b.trigger,"trigger-keys":b.triggerKeys,"virtual-ref":b.virtualRef,"virtual-triggering":b.virtualTriggering},{default:vue.withCtx(()=>[b.$slots.default?vue.renderSlot(b.$slots,"default",{key:0}):vue.createCommentVNode("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),vue.createVNode(ElTooltipContent,{ref_key:"contentRef",ref:c,"aria-label":b.ariaLabel,"boundaries-padding":b.boundariesPadding,content:b.content,disabled:b.disabled,effect:b.effect,enterable:b.enterable,"fallback-placements":b.fallbackPlacements,"hide-after":b.hideAfter,"gpu-acceleration":b.gpuAcceleration,offset:b.offset,persistent:b.persistent,"popper-class":b.popperClass,"popper-style":b.popperStyle,placement:b.placement,"popper-options":b.popperOptions,pure:b.pure,"raw-content":b.rawContent,"reference-el":b.referenceEl,"trigger-target-el":b.triggerTargetEl,"show-after":b.showAfter,strategy:b.strategy,teleported:b.teleported,transition:b.transition,"virtual-triggering":b.virtualTriggering,"z-index":b.zIndex,"append-to":b.appendTo},{default:vue.withCtx(()=>[vue.renderSlot(b.$slots,"content",{},()=>[b.rawContent?(vue.openBlock(),vue.createElementBlock("span",{key:0,innerHTML:b.content},null,8,_hoisted_1$6)):(vue.openBlock(),vue.createElementBlock("span",_hoisted_2$4,vue.toDisplayString(b.content),1))]),b.showArrow?(vue.openBlock(),vue.createBlock(vue.unref(ElPopperArrow),{key:0,"arrow-offset":b.arrowOffset},null,8,["arrow-offset"])):vue.createCommentVNode("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"]))}});var Tooltip=_export_sfc(_sfc_main$d,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/tooltip.vue"]]);const ElTooltip=withInstall(Tooltip);var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};const nodeList=new Map;let startClick;isClient&&(document.addEventListener("mousedown",r=>startClick=r),document.addEventListener("mouseup",r=>{for(const n of nodeList.values())for(const{documentHandler:i}of n)i(r,startClick)}));function createDocumentHandler(r,n){let i=[];return Array.isArray(n.arg)?i=n.arg:isElement(n.arg)&&i.push(n.arg),function(o,a){const u=n.instance.popperRef,c=o.target,f=a==null?void 0:a.target,d=!n||!n.instance,p=!c||!f,h=r.contains(c)||r.contains(f),g=r===c,v=i.length&&i.some(A=>A==null?void 0:A.contains(c))||i.length&&i.includes(f),y=u&&(u.contains(c)||u.contains(f));d||p||h||g||v||y||n.value(o,a)}}const ClickOutside={beforeMount(r,n){nodeList.has(r)||nodeList.set(r,[]),nodeList.get(r).push({documentHandler:createDocumentHandler(r,n),bindingFn:n.value})},updated(r,n){nodeList.has(r)||nodeList.set(r,[]);const i=nodeList.get(r),o=i.findIndex(u=>u.bindingFn===n.oldValue),a={documentHandler:createDocumentHandler(r,n),bindingFn:n.value};o>=0?i.splice(o,1,a):i.push(a)},unmounted(r){nodeList.delete(r)}},tagProps=buildProps({type:{type:String,values:["success","info","warning","danger",""],default:""},closable:Boolean,disableTransitions:Boolean,hit:Boolean,color:{type:String,default:""},size:{type:String,values:componentSizes,default:""},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),tagEmits={close:r=>r instanceof MouseEvent,click:r=>r instanceof MouseEvent},__default__=vue.defineComponent({name:"ElTag"}),_sfc_main$c=vue.defineComponent({...__default__,props:tagProps,emits:tagEmits,setup(r,{emit:n}){const i=r,o=useFormSize(),a=useNamespace("tag"),u=vue.computed(()=>{const{type:d,hit:p,effect:h,closable:g,round:v}=i;return[a.b(),a.is("closable",g),a.m(d),a.m(o.value),a.m(h),a.is("hit",p),a.is("round",v)]}),c=d=>{n("close",d)},f=d=>{n("click",d)};return(d,p)=>d.disableTransitions?(vue.openBlock(),vue.createElementBlock("span",{key:0,class:vue.normalizeClass(vue.unref(u)),style:vue.normalizeStyle({backgroundColor:d.color}),onClick:f},[vue.createElementVNode("span",{class:vue.normalizeClass(vue.unref(a).e("content"))},[vue.renderSlot(d.$slots,"default")],2),d.closable?(vue.openBlock(),vue.createBlock(vue.unref(ElIcon),{key:0,class:vue.normalizeClass(vue.unref(a).e("close")),onClick:vue.withModifiers(c,["stop"])},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(close_default))]),_:1},8,["class","onClick"])):vue.createCommentVNode("v-if",!0)],6)):(vue.openBlock(),vue.createBlock(vue.Transition,{key:1,name:`${vue.unref(a).namespace.value}-zoom-in-center`,appear:""},{default:vue.withCtx(()=>[vue.createElementVNode("span",{class:vue.normalizeClass(vue.unref(u)),style:vue.normalizeStyle({backgroundColor:d.color}),onClick:f},[vue.createElementVNode("span",{class:vue.normalizeClass(vue.unref(a).e("content"))},[vue.renderSlot(d.$slots,"default")],2),d.closable?(vue.openBlock(),vue.createBlock(vue.unref(ElIcon),{key:0,class:vue.normalizeClass(vue.unref(a).e("close")),onClick:vue.withModifiers(c,["stop"])},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(close_default))]),_:1},8,["class","onClick"])):vue.createCommentVNode("v-if",!0)],6)]),_:3},8,["name"]))}});var Tag=_export_sfc(_sfc_main$c,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tag/src/tag.vue"]]);const ElTag=withInstall(Tag),selectGroupKey=Symbol("ElSelectGroup"),selectKey=Symbol("ElSelect");function useOption(r,n){const i=vue.inject(selectKey),o=vue.inject(selectGroupKey,{disabled:!1}),a=vue.computed(()=>Object.prototype.toString.call(r.value).toLowerCase()==="[object object]"),u=vue.computed(()=>i.props.multiple?g(i.props.modelValue,r.value):v(r.value,i.props.modelValue)),c=vue.computed(()=>{if(i.props.multiple){const _=i.props.modelValue||[];return!u.value&&_.length>=i.props.multipleLimit&&i.props.multipleLimit>0}else return!1}),f=vue.computed(()=>r.label||(a.value?"":r.value)),d=vue.computed(()=>r.value||r.label||""),p=vue.computed(()=>r.disabled||n.groupDisabled||c.value),h=vue.getCurrentInstance(),g=(_=[],S)=>{if(a.value){const b=i.props.valueKey;return _&&_.some(T=>vue.toRaw(lodashEs.get(T,b))===lodashEs.get(S,b))}else return _&&_.includes(S)},v=(_,S)=>{if(a.value){const{valueKey:b}=i.props;return lodashEs.get(_,b)===lodashEs.get(S,b)}else return _===S},y=()=>{!r.disabled&&!o.disabled&&(i.hoverIndex=i.optionsArray.indexOf(h.proxy))};vue.watch(()=>f.value,()=>{!r.created&&!i.props.remote&&i.setSelected()}),vue.watch(()=>r.value,(_,S)=>{const{remote:b,valueKey:T}=i.props;if(Object.is(_,S)||(i.onOptionDestroy(S,h.proxy),i.onOptionCreate(h.proxy)),!r.created&&!b){if(T&&typeof _=="object"&&typeof S=="object"&&_[T]===S[T])return;i.setSelected()}}),vue.watch(()=>o.disabled,()=>{n.groupDisabled=o.disabled},{immediate:!0});const{queryChange:A}=vue.toRaw(i);return vue.watch(A,_=>{const{query:S}=vue.unref(_),b=new RegExp(escapeStringRegexp(S),"i");n.visible=b.test(f.value)||r.created,n.visible||i.filteredOptionsCount--},{immediate:!0}),{select:i,currentLabel:f,currentValue:d,itemSelected:u,isDisabled:p,hoverItem:y}}const _sfc_main$b=vue.defineComponent({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:{type:Boolean,default:!1}},setup(r){const n=useNamespace("select"),i=vue.computed(()=>[n.be("dropdown","item"),n.is("disabled",vue.unref(c)),{selected:vue.unref(u),hover:vue.unref(h)}]),o=vue.reactive({index:-1,groupDisabled:!1,visible:!0,hitState:!1,hover:!1}),{currentLabel:a,itemSelected:u,isDisabled:c,select:f,hoverItem:d}=useOption(r,o),{visible:p,hover:h}=vue.toRefs(o),g=vue.getCurrentInstance().proxy;f.onOptionCreate(g),vue.onBeforeUnmount(()=>{const y=g.value,{selected:A}=f,S=(f.props.multiple?A:[A]).some(b=>b.value===g.value);vue.nextTick(()=>{f.cachedOptions.get(y)===g&&!S&&f.cachedOptions.delete(y)}),f.onOptionDestroy(y,g)});function v(){r.disabled!==!0&&o.groupDisabled!==!0&&f.handleOptionSelect(g)}return{ns:n,containerKls:i,currentLabel:a,itemSelected:u,isDisabled:c,select:f,hoverItem:d,visible:p,hover:h,selectOptionClick:v,states:o}}});function _sfc_render$3(r,n,i,o,a,u){return vue.withDirectives((vue.openBlock(),vue.createElementBlock("li",{class:vue.normalizeClass(r.containerKls),onMouseenter:n[0]||(n[0]=(...c)=>r.hoverItem&&r.hoverItem(...c)),onClick:n[1]||(n[1]=vue.withModifiers((...c)=>r.selectOptionClick&&r.selectOptionClick(...c),["stop"]))},[vue.renderSlot(r.$slots,"default",{},()=>[vue.createElementVNode("span",null,vue.toDisplayString(r.currentLabel),1)])],34)),[[vue.vShow,r.visible]])}var Option=_export_sfc(_sfc_main$b,[["render",_sfc_render$3],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option.vue"]]);const _sfc_main$a=vue.defineComponent({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const r=vue.inject(selectKey),n=useNamespace("select"),i=vue.computed(()=>r.props.popperClass),o=vue.computed(()=>r.props.multiple),a=vue.computed(()=>r.props.fitInputWidth),u=vue.ref("");function c(){var f;u.value=`${(f=r.selectWrapper)==null?void 0:f.offsetWidth}px`}return vue.onMounted(()=>{c(),useResizeObserver(r.selectWrapper,c)}),{ns:n,minWidth:u,popperClass:i,isMultiple:o,isFitInputWidth:a}}});function _sfc_render$2(r,n,i,o,a,u){return vue.openBlock(),vue.createElementBlock("div",{class:vue.normalizeClass([r.ns.b("dropdown"),r.ns.is("multiple",r.isMultiple),r.popperClass]),style:vue.normalizeStyle({[r.isFitInputWidth?"width":"minWidth"]:r.minWidth})},[vue.renderSlot(r.$slots,"default")],6)}var ElSelectMenu=_export_sfc(_sfc_main$a,[["render",_sfc_render$2],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select-dropdown.vue"]]);function useSelectStates(r){const{t:n}=useLocale();return vue.reactive({options:new Map,cachedOptions:new Map,createdLabel:null,createdSelected:!1,selected:r.multiple?[]:{},inputLength:20,inputWidth:0,optionsCount:0,filteredOptionsCount:0,visible:!1,selectedLabel:"",hoverIndex:-1,query:"",previousQuery:null,inputHovering:!1,cachedPlaceHolder:"",currentPlaceholder:n("el.select.placeholder"),menuVisibleOnFocus:!1,isOnComposition:!1,prefixWidth:11,mouseEnter:!1})}let ignoreFocusEvent=!1;const useSelect=(r,n,i)=>{const{t:o}=useLocale(),a=useNamespace("select");useDeprecated({from:"suffixTransition",replacement:"override style scheme",version:"2.3.0",scope:"props",ref:"https://element-plus.org/en-US/component/select.html#select-attributes"},vue.computed(()=>r.suffixTransition===!1));const u=vue.ref(null),c=vue.ref(null),f=vue.ref(null),d=vue.ref(null),p=vue.ref(null),h=vue.ref(null),g=vue.ref(null),v=vue.ref(null),y=vue.ref(-1),A=vue.shallowRef({query:""}),_=vue.shallowRef(""),S=vue.ref([]);let b=0;const{form:T,formItem:w}=useFormItem(),x=vue.computed(()=>!r.filterable||r.multiple||!n.visible),k=vue.computed(()=>r.disabled||(T==null?void 0:T.disabled)),M=vue.computed(()=>{const vn=r.multiple?Array.isArray(r.modelValue)&&r.modelValue.length>0:r.modelValue!==void 0&&r.modelValue!==null&&r.modelValue!=="";return r.clearable&&!k.value&&n.inputHovering&&vn}),D=vue.computed(()=>r.remote&&r.filterable&&!r.remoteShowSuffix?"":r.suffixIcon),z=vue.computed(()=>a.is("reverse",D.value&&n.visible&&r.suffixTransition)),j=vue.computed(()=>r.remote?300:0),oe=vue.computed(()=>r.loading?r.loadingText||o("el.select.loading"):r.remote&&n.query===""&&n.options.size===0?!1:r.filterable&&n.query&&n.options.size>0&&n.filteredOptionsCount===0?r.noMatchText||o("el.select.noMatch"):n.options.size===0?r.noDataText||o("el.select.noData"):null),L=vue.computed(()=>{const vn=Array.from(n.options.values()),_n=[];return S.value.forEach(bn=>{const Sn=vn.findIndex(Ln=>Ln.currentLabel===bn);Sn>-1&&_n.push(vn[Sn])}),_n.length?_n:vn}),F=vue.computed(()=>Array.from(n.cachedOptions.values())),O=vue.computed(()=>{const vn=L.value.filter(_n=>!_n.created).some(_n=>_n.currentLabel===n.query);return r.filterable&&r.allowCreate&&n.query!==""&&!vn}),ue=useFormSize(),_e=vue.computed(()=>["small"].includes(ue.value)?"small":"default"),Ce=vue.computed({get(){return n.visible&&oe.value!==!1},set(vn){n.visible=vn}});vue.watch([()=>k.value,()=>ue.value,()=>T==null?void 0:T.size],()=>{vue.nextTick(()=>{de()})}),vue.watch(()=>r.placeholder,vn=>{n.cachedPlaceHolder=n.currentPlaceholder=vn,r.multiple&&Array.isArray(r.modelValue)&&r.modelValue.length>0&&(n.currentPlaceholder="")}),vue.watch(()=>r.modelValue,(vn,_n)=>{r.multiple&&(de(),vn&&vn.length>0||c.value&&n.query!==""?n.currentPlaceholder="":n.currentPlaceholder=n.cachedPlaceHolder,r.filterable&&!r.reserveKeyword&&(n.query="",ie(n.query))),Oe(),r.filterable&&!r.multiple&&(n.inputLength=20),!lodashEs.isEqual(vn,_n)&&r.validateEvent&&(w==null||w.validate("change").catch(bn=>debugWarn(bn)))},{flush:"post",deep:!0}),vue.watch(()=>n.visible,vn=>{var _n,bn,Sn,Ln,Bn;vn?((bn=(_n=d.value)==null?void 0:_n.updatePopper)==null||bn.call(_n),r.filterable&&(n.filteredOptionsCount=n.optionsCount,n.query=r.remote?"":n.selectedLabel,(Ln=(Sn=f.value)==null?void 0:Sn.focus)==null||Ln.call(Sn),r.multiple?(Bn=c.value)==null||Bn.focus():n.selectedLabel&&(n.currentPlaceholder=`${n.selectedLabel}`,n.selectedLabel=""),ie(n.query),!r.multiple&&!r.remote&&(A.value.query="",vue.triggerRef(A),vue.triggerRef(_)))):(r.filterable&&(isFunction(r.filterMethod)&&r.filterMethod(""),isFunction(r.remoteMethod)&&r.remoteMethod("")),c.value&&c.value.blur(),n.query="",n.previousQuery=null,n.selectedLabel="",n.inputLength=20,n.menuVisibleOnFocus=!1,Dt(),vue.nextTick(()=>{c.value&&c.value.value===""&&n.selected.length===0&&(n.currentPlaceholder=n.cachedPlaceHolder)}),r.multiple||(n.selected&&(r.filterable&&r.allowCreate&&n.createdSelected&&n.createdLabel?n.selectedLabel=n.createdLabel:n.selectedLabel=n.selected.currentLabel,r.filterable&&(n.query=n.selectedLabel)),r.filterable&&(n.currentPlaceholder=n.cachedPlaceHolder))),i.emit("visible-change",vn)}),vue.watch(()=>n.options.entries(),()=>{var vn,_n,bn;if(!isClient)return;(_n=(vn=d.value)==null?void 0:vn.updatePopper)==null||_n.call(vn),r.multiple&&de();const Sn=((bn=g.value)==null?void 0:bn.querySelectorAll("input"))||[];Array.from(Sn).includes(document.activeElement)||Oe(),r.defaultFirstOption&&(r.filterable||r.remote)&&n.filteredOptionsCount&&Ie()},{flush:"post"}),vue.watch(()=>n.hoverIndex,vn=>{isNumber(vn)&&vn>-1?y.value=L.value[vn]||{}:y.value={},L.value.forEach(_n=>{_n.hover=y.value===_n})});const de=()=>{vue.nextTick(()=>{var vn,_n;if(!u.value)return;const bn=u.value.$el.querySelector("input");b=b||(bn.clientHeight>0?bn.clientHeight+2:0);const Sn=h.value,Ln=getComponentSize(ue.value||(T==null?void 0:T.size)),Bn=ue.value||Ln===b||b<=0?Ln:b;!(bn.offsetParent===null)&&(bn.style.height=`${(n.selected.length===0?Bn:Math.max(Sn?Sn.clientHeight+(Sn.clientHeight>Bn?6:0):0,Bn))-2}px`),n.visible&&oe.value!==!1&&((_n=(vn=d.value)==null?void 0:vn.updatePopper)==null||_n.call(vn))})},ie=async vn=>{if(!(n.previousQuery===vn||n.isOnComposition)){if(n.previousQuery===null&&(isFunction(r.filterMethod)||isFunction(r.remoteMethod))){n.previousQuery=vn;return}n.previousQuery=vn,vue.nextTick(()=>{var _n,bn;n.visible&&((bn=(_n=d.value)==null?void 0:_n.updatePopper)==null||bn.call(_n))}),n.hoverIndex=-1,r.multiple&&r.filterable&&vue.nextTick(()=>{const _n=c.value.value.length*15+20;n.inputLength=r.collapseTags?Math.min(50,_n):_n,Y(),de()}),r.remote&&isFunction(r.remoteMethod)?(n.hoverIndex=-1,r.remoteMethod(vn)):isFunction(r.filterMethod)?(r.filterMethod(vn),vue.triggerRef(_)):(n.filteredOptionsCount=n.optionsCount,A.value.query=vn,vue.triggerRef(A),vue.triggerRef(_)),r.defaultFirstOption&&(r.filterable||r.remote)&&n.filteredOptionsCount&&(await vue.nextTick(),Ie())}},Y=()=>{n.currentPlaceholder!==""&&(n.currentPlaceholder=c.value.value?"":n.cachedPlaceHolder)},Ie=()=>{const vn=L.value.filter(Sn=>Sn.visible&&!Sn.disabled&&!Sn.states.groupDisabled),_n=vn.find(Sn=>Sn.created),bn=vn[0];n.hoverIndex=xe(L.value,_n||bn)},Oe=()=>{var vn;if(r.multiple)n.selectedLabel="";else{const bn=kt(r.modelValue);(vn=bn.props)!=null&&vn.created?(n.createdLabel=bn.props.value,n.createdSelected=!0):n.createdSelected=!1,n.selectedLabel=bn.currentLabel,n.selected=bn,r.filterable&&(n.query=n.selectedLabel);return}const _n=[];Array.isArray(r.modelValue)&&r.modelValue.forEach(bn=>{_n.push(kt(bn))}),n.selected=_n,vue.nextTick(()=>{de()})},kt=vn=>{let _n;const bn=toRawType(vn).toLowerCase()==="object",Sn=toRawType(vn).toLowerCase()==="null",Ln=toRawType(vn).toLowerCase()==="undefined";for(let Dn=n.cachedOptions.size-1;Dn>=0;Dn--){const Vn=F.value[Dn];if(bn?lodashEs.get(Vn.value,r.valueKey)===lodashEs.get(vn,r.valueKey):Vn.value===vn){_n={value:vn,currentLabel:Vn.currentLabel,isDisabled:Vn.isDisabled};break}}if(_n)return _n;const Bn=bn?vn.label:!Sn&&!Ln?vn:"",On={value:vn,currentLabel:Bn};return r.multiple&&(On.hitState=!1),On},Dt=()=>{setTimeout(()=>{const vn=r.valueKey;r.multiple?n.selected.length>0?n.hoverIndex=Math.min.apply(null,n.selected.map(_n=>L.value.findIndex(bn=>lodashEs.get(bn,vn)===lodashEs.get(_n,vn)))):n.hoverIndex=-1:n.hoverIndex=L.value.findIndex(_n=>Tn(_n)===Tn(n.selected))},300)},Fe=()=>{var vn,_n;$e(),(_n=(vn=d.value)==null?void 0:vn.updatePopper)==null||_n.call(vn),r.multiple&&de()},$e=()=>{var vn;n.inputWidth=(vn=u.value)==null?void 0:vn.$el.offsetWidth},Cn=()=>{r.filterable&&n.query!==n.selectedLabel&&(n.query=n.selectedLabel,ie(n.query))},Lt=lodashEs.debounce(()=>{Cn()},j.value),In=lodashEs.debounce(vn=>{ie(vn.target.value)},j.value),Et=vn=>{lodashEs.isEqual(r.modelValue,vn)||i.emit(CHANGE_EVENT,vn)},Ne=vn=>{if(vn.code!==EVENT_CODE.delete){if(vn.target.value.length<=0&&!re()){const _n=r.modelValue.slice();_n.pop(),i.emit(UPDATE_MODEL_EVENT,_n),Et(_n)}vn.target.value.length===1&&r.modelValue.length===0&&(n.currentPlaceholder=n.cachedPlaceHolder)}},pe=(vn,_n)=>{const bn=n.selected.indexOf(_n);if(bn>-1&&!k.value){const Sn=r.modelValue.slice();Sn.splice(bn,1),i.emit(UPDATE_MODEL_EVENT,Sn),Et(Sn),i.emit("remove-tag",_n.value)}vn.stopPropagation()},At=vn=>{vn.stopPropagation();const _n=r.multiple?[]:"";if(!isString(_n))for(const bn of n.selected)bn.isDisabled&&_n.push(bn.value);i.emit(UPDATE_MODEL_EVENT,_n),Et(_n),n.hoverIndex=-1,n.visible=!1,i.emit("clear")},Ve=vn=>{var _n;if(r.multiple){const bn=(r.modelValue||[]).slice(),Sn=xe(bn,vn.value);Sn>-1?bn.splice(Sn,1):(r.multipleLimit<=0||bn.length<r.multipleLimit)&&bn.push(vn.value),i.emit(UPDATE_MODEL_EVENT,bn),Et(bn),vn.created&&(n.query="",ie(""),n.inputLength=20),r.filterable&&((_n=c.value)==null||_n.focus())}else i.emit(UPDATE_MODEL_EVENT,vn.value),Et(vn.value),n.visible=!1;ze(),!n.visible&&vue.nextTick(()=>{Pt(vn)})},xe=(vn=[],_n)=>{if(!isObject(_n))return vn.indexOf(_n);const bn=r.valueKey;let Sn=-1;return vn.some((Ln,Bn)=>vue.toRaw(lodashEs.get(Ln,bn))===lodashEs.get(_n,bn)?(Sn=Bn,!0):!1),Sn},ze=()=>{const vn=c.value||u.value;vn&&(vn==null||vn.focus())},Pt=vn=>{var _n,bn,Sn,Ln,Bn;const On=Array.isArray(vn)?vn[0]:vn;let Dn=null;if(On!=null&&On.value){const Vn=L.value.filter(Zn=>Zn.value===On.value);Vn.length>0&&(Dn=Vn[0].$el)}if(d.value&&Dn){const Vn=(Ln=(Sn=(bn=(_n=d.value)==null?void 0:_n.popperRef)==null?void 0:bn.contentRef)==null?void 0:Sn.querySelector)==null?void 0:Ln.call(Sn,`.${a.be("dropdown","wrap")}`);Vn&&scrollIntoView(Vn,Dn)}(Bn=v.value)==null||Bn.handleScroll()},hn=vn=>{n.optionsCount++,n.filteredOptionsCount++,n.options.set(vn.value,vn),n.cachedOptions.set(vn.value,vn)},ae=(vn,_n)=>{n.options.get(vn)===_n&&(n.optionsCount--,n.filteredOptionsCount--,n.options.delete(vn))},le=vn=>{vn.code!==EVENT_CODE.backspace&&re(!1),n.inputLength=c.value.value.length*15+20,de()},re=vn=>{if(!Array.isArray(n.selected))return;const _n=n.selected[n.selected.length-1];if(_n)return vn===!0||vn===!1?(_n.hitState=vn,vn):(_n.hitState=!_n.hitState,_n.hitState)},V=vn=>{const _n=vn.target.value;if(vn.type==="compositionend")n.isOnComposition=!1,vue.nextTick(()=>ie(_n));else{const bn=_n[_n.length-1]||"";n.isOnComposition=!isKorean(bn)}},$=()=>{vue.nextTick(()=>Pt(n.selected))},he=vn=>{ignoreFocusEvent?ignoreFocusEvent=!1:((r.automaticDropdown||r.filterable)&&(r.filterable&&!n.visible&&(n.menuVisibleOnFocus=!0),n.visible=!0),i.emit("focus",vn))},Ue=()=>{var vn,_n,bn;n.visible=!1,(vn=u.value)==null||vn.blur(),(bn=(_n=f.value)==null?void 0:_n.blur)==null||bn.call(_n)},qe=vn=>{setTimeout(()=>{var _n;if((_n=d.value)!=null&&_n.isFocusInsideContent()){ignoreFocusEvent=!0;return}n.visible&&An(),i.emit("blur",vn)})},jt=vn=>{At(vn)},An=()=>{n.visible=!1},wn=vn=>{n.visible&&(vn.preventDefault(),vn.stopPropagation(),n.visible=!1)},En=vn=>{var _n;vn&&!n.mouseEnter||k.value||(n.menuVisibleOnFocus?n.menuVisibleOnFocus=!1:(!d.value||!d.value.isFocusInsideContent())&&(n.visible=!n.visible),n.visible&&((_n=c.value||u.value)==null||_n.focus()))},xn=()=>{n.visible?L.value[n.hoverIndex]&&Ve(L.value[n.hoverIndex]):En()},Tn=vn=>isObject(vn.value)?lodashEs.get(vn.value,r.valueKey):vn.value,Pn=vue.computed(()=>L.value.filter(vn=>vn.visible).every(vn=>vn.disabled)),kn=vue.computed(()=>n.selected.slice(0,r.maxCollapseTags)),Rn=vue.computed(()=>n.selected.slice(r.maxCollapseTags)),Nn=vn=>{if(!n.visible){n.visible=!0;return}if(!(n.options.size===0||n.filteredOptionsCount===0)&&!n.isOnComposition&&!Pn.value){vn==="next"?(n.hoverIndex++,n.hoverIndex===n.options.size&&(n.hoverIndex=0)):vn==="prev"&&(n.hoverIndex--,n.hoverIndex<0&&(n.hoverIndex=n.options.size-1));const _n=L.value[n.hoverIndex];(_n.disabled===!0||_n.states.groupDisabled===!0||!_n.visible)&&Nn(vn),vue.nextTick(()=>Pt(y.value))}};return{optionList:S,optionsArray:L,selectSize:ue,handleResize:Fe,debouncedOnInputChange:Lt,debouncedQueryChange:In,deletePrevTag:Ne,deleteTag:pe,deleteSelected:At,handleOptionSelect:Ve,scrollToOption:Pt,readonly:x,resetInputHeight:de,showClose:M,iconComponent:D,iconReverse:z,showNewOption:O,collapseTagSize:_e,setSelected:Oe,managePlaceholder:Y,selectDisabled:k,emptyText:oe,toggleLastOptionHitState:re,resetInputState:le,handleComposition:V,onOptionCreate:hn,onOptionDestroy:ae,handleMenuEnter:$,handleFocus:he,blur:Ue,handleBlur:qe,handleClearClick:jt,handleClose:An,handleKeydownEscape:wn,toggleMenu:En,selectOption:xn,getValueKey:Tn,navigateOptions:Nn,handleDeleteTooltipTag:(vn,_n)=>{var bn,Sn;pe(vn,_n),(Sn=(bn=p.value)==null?void 0:bn.updatePopper)==null||Sn.call(bn)},dropMenuVisible:Ce,queryChange:A,groupQueryChange:_,showTagList:kn,collapseTagList:Rn,reference:u,input:c,iOSInput:f,tooltipRef:d,tagTooltipRef:p,tags:h,selectWrapper:g,scrollbar:v,handleMouseEnter:()=>{n.mouseEnter=!0},handleMouseLeave:()=>{n.mouseEnter=!1}}};var ElOptions=vue.defineComponent({name:"ElOptions",emits:["update-options"],setup(r,{slots:n,emit:i}){let o=[];function a(u,c){if(u.length!==c.length)return!1;for(const[f]of u.entries())if(u[f]!=c[f])return!1;return!0}return()=>{var u,c;const f=(u=n.default)==null?void 0:u.call(n),d=[];function p(h){Array.isArray(h)&&h.forEach(g=>{var v,y,A,_;const S=(v=(g==null?void 0:g.type)||{})==null?void 0:v.name;S==="ElOptionGroup"?p(!isString(g.children)&&!Array.isArray(g.children)&&isFunction((y=g.children)==null?void 0:y.default)?(A=g.children)==null?void 0:A.default():g.children):S==="ElOption"?d.push((_=g.props)==null?void 0:_.label):Array.isArray(g.children)&&p(g.children)})}return f.length&&p((c=f[0])==null?void 0:c.children),a(d,o)||(o=d,i("update-options",d)),f}}});const COMPONENT_NAME="ElSelect",_sfc_main$9=vue.defineComponent({name:COMPONENT_NAME,componentName:COMPONENT_NAME,components:{ElInput,ElSelectMenu,ElOption:Option,ElOptions,ElTag,ElScrollbar,ElTooltip,ElIcon},directives:{ClickOutside},props:{name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:{type:String,validator:isValidComponentSize},effect:{type:String,default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:Object,default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:{type:Boolean,default:!1},maxCollapseTags:{type:Number,default:1},teleported:useTooltipContentProps.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:iconPropType,default:circle_close_default},fitInputWidth:{type:Boolean,default:!1},suffixIcon:{type:iconPropType,default:arrow_down_default},tagType:{...tagProps.type,default:"info"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:{type:Boolean,default:!1},suffixTransition:{type:Boolean,default:!0},placement:{type:String,values:Ee,default:"bottom-start"}},emits:[UPDATE_MODEL_EVENT,CHANGE_EVENT,"remove-tag","clear","visible-change","focus","blur"],setup(r,n){const i=useNamespace("select"),o=useNamespace("input"),{t:a}=useLocale(),u=useSelectStates(r),{optionList:c,optionsArray:f,selectSize:d,readonly:p,handleResize:h,collapseTagSize:g,debouncedOnInputChange:v,debouncedQueryChange:y,deletePrevTag:A,deleteTag:_,deleteSelected:S,handleOptionSelect:b,scrollToOption:T,setSelected:w,resetInputHeight:x,managePlaceholder:k,showClose:M,selectDisabled:D,iconComponent:z,iconReverse:j,showNewOption:oe,emptyText:L,toggleLastOptionHitState:F,resetInputState:O,handleComposition:ue,onOptionCreate:_e,onOptionDestroy:Ce,handleMenuEnter:de,handleFocus:ie,blur:Y,handleBlur:Ie,handleClearClick:Oe,handleClose:kt,handleKeydownEscape:Dt,toggleMenu:Fe,selectOption:$e,getValueKey:Cn,navigateOptions:Lt,handleDeleteTooltipTag:In,dropMenuVisible:Et,reference:Ne,input:pe,iOSInput:At,tooltipRef:Ve,tagTooltipRef:xe,tags:ze,selectWrapper:Pt,scrollbar:hn,queryChange:ae,groupQueryChange:le,handleMouseEnter:re,handleMouseLeave:V,showTagList:$,collapseTagList:he}=useSelect(r,u,n),{focus:Ue}=useFocus(Ne),{inputWidth:qe,selected:jt,inputLength:An,filteredOptionsCount:wn,visible:En,selectedLabel:xn,hoverIndex:Tn,query:Pn,inputHovering:kn,currentPlaceholder:Rn,menuVisibleOnFocus:Nn,isOnComposition:$n,options:Fn,cachedOptions:Wn,optionsCount:vn,prefixWidth:_n}=vue.toRefs(u),bn=vue.computed(()=>{const Mn=[i.b()],Gn=vue.unref(d);return Gn&&Mn.push(i.m(Gn)),r.disabled&&Mn.push(i.m("disabled")),Mn}),Sn=vue.computed(()=>[i.e("tags"),i.is("disabled",vue.unref(D))]),Ln=vue.computed(()=>[i.b("tags-wrapper"),{"has-prefix":vue.unref(_n)&&vue.unref(jt).length}]),Bn=vue.computed(()=>[i.e("input"),i.is(vue.unref(d)),i.is("disabled",vue.unref(D))]),On=vue.computed(()=>[i.e("input"),i.is(vue.unref(d)),i.em("input","iOS")]),Dn=vue.computed(()=>[i.is("empty",!r.allowCreate&&!!vue.unref(Pn)&&vue.unref(wn)===0)]),Vn=vue.computed(()=>({maxWidth:`${vue.unref(qe)-32}px`,width:"100%"})),Zn=vue.computed(()=>({maxWidth:`${vue.unref(qe)>123?vue.unref(qe)-123:vue.unref(qe)-75}px`})),Hn=vue.computed(()=>({marginLeft:`${vue.unref(_n)}px`,flexGrow:1,width:`${vue.unref(An)/(vue.unref(qe)-32)}%`,maxWidth:`${vue.unref(qe)-42}px`}));vue.provide(selectKey,vue.reactive({props:r,options:Fn,optionsArray:f,cachedOptions:Wn,optionsCount:vn,filteredOptionsCount:wn,hoverIndex:Tn,handleOptionSelect:b,onOptionCreate:_e,onOptionDestroy:Ce,selectWrapper:Pt,selected:jt,setSelected:w,queryChange:ae,groupQueryChange:le})),vue.onMounted(()=>{u.cachedPlaceHolder=Rn.value=r.placeholder||(()=>a("el.select.placeholder")),r.multiple&&Array.isArray(r.modelValue)&&r.modelValue.length>0&&(Rn.value=""),useResizeObserver(Pt,h),r.remote&&r.multiple&&x(),vue.nextTick(()=>{const Mn=Ne.value&&Ne.value.$el;if(Mn&&(qe.value=Mn.getBoundingClientRect().width,n.slots.prefix)){const Gn=Mn.querySelector(`.${o.e("prefix")}`);_n.value=Math.max(Gn.getBoundingClientRect().width+11,30)}}),w()}),r.multiple&&!Array.isArray(r.modelValue)&&n.emit(UPDATE_MODEL_EVENT,[]),!r.multiple&&Array.isArray(r.modelValue)&&n.emit(UPDATE_MODEL_EVENT,"");const zn=vue.computed(()=>{var Mn,Gn;return(Gn=(Mn=Ve.value)==null?void 0:Mn.popperRef)==null?void 0:Gn.contentRef});return{isIOS,onOptionsRendered:Mn=>{c.value=Mn},prefixWidth:_n,selectSize:d,readonly:p,handleResize:h,collapseTagSize:g,debouncedOnInputChange:v,debouncedQueryChange:y,deletePrevTag:A,deleteTag:_,handleDeleteTooltipTag:In,deleteSelected:S,handleOptionSelect:b,scrollToOption:T,inputWidth:qe,selected:jt,inputLength:An,filteredOptionsCount:wn,visible:En,selectedLabel:xn,hoverIndex:Tn,query:Pn,inputHovering:kn,currentPlaceholder:Rn,menuVisibleOnFocus:Nn,isOnComposition:$n,options:Fn,resetInputHeight:x,managePlaceholder:k,showClose:M,selectDisabled:D,iconComponent:z,iconReverse:j,showNewOption:oe,emptyText:L,toggleLastOptionHitState:F,resetInputState:O,handleComposition:ue,handleMenuEnter:de,handleFocus:ie,blur:Y,handleBlur:Ie,handleClearClick:Oe,handleClose:kt,handleKeydownEscape:Dt,toggleMenu:Fe,selectOption:$e,getValueKey:Cn,navigateOptions:Lt,dropMenuVisible:Et,focus:Ue,reference:Ne,input:pe,iOSInput:At,tooltipRef:Ve,popperPaneRef:zn,tags:ze,selectWrapper:Pt,scrollbar:hn,wrapperKls:bn,tagsKls:Sn,tagWrapperKls:Ln,inputKls:Bn,iOSInputKls:On,scrollbarKls:Dn,selectTagsStyle:Vn,nsSelect:i,tagTextStyle:Zn,inputStyle:Hn,handleMouseEnter:re,handleMouseLeave:V,showTagList:$,collapseTagList:he,tagTooltipRef:xe}}}),_hoisted_1$5=["disabled","autocomplete"],_hoisted_2$3=["disabled"],_hoisted_3$3={style:{height:"100%",display:"flex","justify-content":"center","align-items":"center"}};function _sfc_render$1(r,n,i,o,a,u){const c=vue.resolveComponent("el-tag"),f=vue.resolveComponent("el-tooltip"),d=vue.resolveComponent("el-icon"),p=vue.resolveComponent("el-input"),h=vue.resolveComponent("el-option"),g=vue.resolveComponent("el-options"),v=vue.resolveComponent("el-scrollbar"),y=vue.resolveComponent("el-select-menu"),A=vue.resolveDirective("click-outside");return vue.withDirectives((vue.openBlock(),vue.createElementBlock("div",{ref:"selectWrapper",class:vue.normalizeClass(r.wrapperKls),onMouseenter:n[21]||(n[21]=(..._)=>r.handleMouseEnter&&r.handleMouseEnter(..._)),onMouseleave:n[22]||(n[22]=(..._)=>r.handleMouseLeave&&r.handleMouseLeave(..._)),onClick:n[23]||(n[23]=vue.withModifiers((..._)=>r.toggleMenu&&r.toggleMenu(..._),["stop"]))},[vue.createVNode(f,{ref:"tooltipRef",visible:r.dropMenuVisible,placement:r.placement,teleported:r.teleported,"popper-class":[r.nsSelect.e("popper"),r.popperClass],"popper-options":r.popperOptions,"fallback-placements":["bottom-start","top-start","right","left"],effect:r.effect,pure:"",trigger:"click",transition:`${r.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:r.persistent,onShow:r.handleMenuEnter},{default:vue.withCtx(()=>[vue.createElementVNode("div",{class:"select-trigger",onMouseenter:n[19]||(n[19]=_=>r.inputHovering=!0),onMouseleave:n[20]||(n[20]=_=>r.inputHovering=!1)},[r.multiple?(vue.openBlock(),vue.createElementBlock("div",{key:0,ref:"tags",class:vue.normalizeClass(r.tagsKls),style:vue.normalizeStyle(r.selectTagsStyle)},[r.collapseTags&&r.selected.length?(vue.openBlock(),vue.createBlock(vue.Transition,{key:0,onAfterLeave:r.resetInputHeight},{default:vue.withCtx(()=>[vue.createElementVNode("span",{class:vue.normalizeClass(r.tagWrapperKls)},[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(r.showTagList,_=>(vue.openBlock(),vue.createBlock(c,{key:r.getValueKey(_),closable:!r.selectDisabled&&!_.isDisabled,size:r.collapseTagSize,hit:_.hitState,type:r.tagType,"disable-transitions":"",onClose:S=>r.deleteTag(S,_)},{default:vue.withCtx(()=>[vue.createElementVNode("span",{class:vue.normalizeClass(r.nsSelect.e("tags-text")),style:vue.normalizeStyle(r.tagTextStyle)},vue.toDisplayString(_.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"]))),128)),r.selected.length>r.maxCollapseTags?(vue.openBlock(),vue.createBlock(c,{key:0,closable:!1,size:r.collapseTagSize,type:r.tagType,"disable-transitions":""},{default:vue.withCtx(()=>[r.collapseTagsTooltip?(vue.openBlock(),vue.createBlock(f,{key:0,ref:"tagTooltipRef",disabled:r.dropMenuVisible,"fallback-placements":["bottom","top","right","left"],effect:r.effect,placement:"bottom",teleported:r.teleported},{default:vue.withCtx(()=>[vue.createElementVNode("span",{class:vue.normalizeClass(r.nsSelect.e("tags-text"))},"+ "+vue.toDisplayString(r.selected.length-r.maxCollapseTags),3)]),content:vue.withCtx(()=>[vue.createElementVNode("div",{class:vue.normalizeClass(r.nsSelect.e("collapse-tags"))},[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(r.collapseTagList,_=>(vue.openBlock(),vue.createElementBlock("div",{key:r.getValueKey(_),class:vue.normalizeClass(r.nsSelect.e("collapse-tag"))},[vue.createVNode(c,{class:"in-tooltip",closable:!r.selectDisabled&&!_.isDisabled,size:r.collapseTagSize,hit:_.hitState,type:r.tagType,"disable-transitions":"",style:{margin:"2px"},onClose:S=>r.handleDeleteTooltipTag(S,_)},{default:vue.withCtx(()=>[vue.createElementVNode("span",{class:vue.normalizeClass(r.nsSelect.e("tags-text")),style:vue.normalizeStyle({maxWidth:r.inputWidth-75+"px"})},vue.toDisplayString(_.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"])],2))),128))],2)]),_:1},8,["disabled","effect","teleported"])):(vue.openBlock(),vue.createElementBlock("span",{key:1,class:vue.normalizeClass(r.nsSelect.e("tags-text"))},"+ "+vue.toDisplayString(r.selected.length-r.maxCollapseTags),3))]),_:1},8,["size","type"])):vue.createCommentVNode("v-if",!0)],2)]),_:1},8,["onAfterLeave"])):vue.createCommentVNode("v-if",!0),r.collapseTags?vue.createCommentVNode("v-if",!0):(vue.openBlock(),vue.createBlock(vue.Transition,{key:1,onAfterLeave:r.resetInputHeight},{default:vue.withCtx(()=>[vue.createElementVNode("span",{class:vue.normalizeClass(r.tagWrapperKls),style:vue.normalizeStyle(r.prefixWidth&&r.selected.length?{marginLeft:`${r.prefixWidth}px`}:"")},[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(r.selected,_=>(vue.openBlock(),vue.createBlock(c,{key:r.getValueKey(_),closable:!r.selectDisabled&&!_.isDisabled,size:r.collapseTagSize,hit:_.hitState,type:r.tagType,"disable-transitions":"",onClose:S=>r.deleteTag(S,_)},{default:vue.withCtx(()=>[vue.createElementVNode("span",{class:vue.normalizeClass(r.nsSelect.e("tags-text")),style:vue.normalizeStyle({maxWidth:r.inputWidth-75+"px"})},vue.toDisplayString(_.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"]))),128))],6)]),_:1},8,["onAfterLeave"])),r.filterable&&!r.selectDisabled?vue.withDirectives((vue.openBlock(),vue.createElementBlock("input",{key:2,ref:"input","onUpdate:modelValue":n[0]||(n[0]=_=>r.query=_),type:"text",class:vue.normalizeClass(r.inputKls),disabled:r.selectDisabled,autocomplete:r.autocomplete,style:vue.normalizeStyle(r.inputStyle),onFocus:n[1]||(n[1]=(..._)=>r.handleFocus&&r.handleFocus(..._)),onBlur:n[2]||(n[2]=(..._)=>r.handleBlur&&r.handleBlur(..._)),onKeyup:n[3]||(n[3]=(..._)=>r.managePlaceholder&&r.managePlaceholder(..._)),onKeydown:[n[4]||(n[4]=(..._)=>r.resetInputState&&r.resetInputState(..._)),n[5]||(n[5]=vue.withKeys(vue.withModifiers(_=>r.navigateOptions("next"),["prevent"]),["down"])),n[6]||(n[6]=vue.withKeys(vue.withModifiers(_=>r.navigateOptions("prev"),["prevent"]),["up"])),n[7]||(n[7]=vue.withKeys((..._)=>r.handleKeydownEscape&&r.handleKeydownEscape(..._),["esc"])),n[8]||(n[8]=vue.withKeys(vue.withModifiers((..._)=>r.selectOption&&r.selectOption(..._),["stop","prevent"]),["enter"])),n[9]||(n[9]=vue.withKeys((..._)=>r.deletePrevTag&&r.deletePrevTag(..._),["delete"])),n[10]||(n[10]=vue.withKeys(_=>r.visible=!1,["tab"]))],onCompositionstart:n[11]||(n[11]=(..._)=>r.handleComposition&&r.handleComposition(..._)),onCompositionupdate:n[12]||(n[12]=(..._)=>r.handleComposition&&r.handleComposition(..._)),onCompositionend:n[13]||(n[13]=(..._)=>r.handleComposition&&r.handleComposition(..._)),onInput:n[14]||(n[14]=(..._)=>r.debouncedQueryChange&&r.debouncedQueryChange(..._))},null,46,_hoisted_1$5)),[[vue.vModelText,r.query]]):vue.createCommentVNode("v-if",!0)],6)):vue.createCommentVNode("v-if",!0),vue.createCommentVNode(" fix: https://github.com/element-plus/element-plus/issues/11415 "),r.isIOS&&!r.multiple&&r.filterable&&r.readonly?(vue.openBlock(),vue.createElementBlock("input",{key:1,ref:"iOSInput",class:vue.normalizeClass(r.iOSInputKls),disabled:r.selectDisabled,type:"text"},null,10,_hoisted_2$3)):vue.createCommentVNode("v-if",!0),vue.createVNode(p,{id:r.id,ref:"reference",modelValue:r.selectedLabel,"onUpdate:modelValue":n[15]||(n[15]=_=>r.selectedLabel=_),type:"text",placeholder:typeof r.currentPlaceholder=="function"?r.currentPlaceholder():r.currentPlaceholder,name:r.name,autocomplete:r.autocomplete,size:r.selectSize,disabled:r.selectDisabled,readonly:r.readonly,"validate-event":!1,class:vue.normalizeClass([r.nsSelect.is("focus",r.visible)]),tabindex:r.multiple&&r.filterable?-1:void 0,onFocus:r.handleFocus,onBlur:r.handleBlur,onInput:r.debouncedOnInputChange,onPaste:r.debouncedOnInputChange,onCompositionstart:r.handleComposition,onCompositionupdate:r.handleComposition,onCompositionend:r.handleComposition,onKeydown:[n[16]||(n[16]=vue.withKeys(vue.withModifiers(_=>r.navigateOptions("next"),["stop","prevent"]),["down"])),n[17]||(n[17]=vue.withKeys(vue.withModifiers(_=>r.navigateOptions("prev"),["stop","prevent"]),["up"])),vue.withKeys(vue.withModifiers(r.selectOption,["stop","prevent"]),["enter"]),vue.withKeys(r.handleKeydownEscape,["esc"]),n[18]||(n[18]=vue.withKeys(_=>r.visible=!1,["tab"]))]},vue.createSlots({suffix:vue.withCtx(()=>[r.iconComponent&&!r.showClose?(vue.openBlock(),vue.createBlock(d,{key:0,class:vue.normalizeClass([r.nsSelect.e("caret"),r.nsSelect.e("icon"),r.iconReverse])},{default:vue.withCtx(()=>[(vue.openBlock(),vue.createBlock(vue.resolveDynamicComponent(r.iconComponent)))]),_:1},8,["class"])):vue.createCommentVNode("v-if",!0),r.showClose&&r.clearIcon?(vue.openBlock(),vue.createBlock(d,{key:1,class:vue.normalizeClass([r.nsSelect.e("caret"),r.nsSelect.e("icon")]),onClick:r.handleClearClick},{default:vue.withCtx(()=>[(vue.openBlock(),vue.createBlock(vue.resolveDynamicComponent(r.clearIcon)))]),_:1},8,["class","onClick"])):vue.createCommentVNode("v-if",!0)]),_:2},[r.$slots.prefix?{name:"prefix",fn:vue.withCtx(()=>[vue.createElementVNode("div",_hoisted_3$3,[vue.renderSlot(r.$slots,"prefix")])])}:void 0]),1032,["id","modelValue","placeholder","name","autocomplete","size","disabled","readonly","class","tabindex","onFocus","onBlur","onInput","onPaste","onCompositionstart","onCompositionupdate","onCompositionend","onKeydown"])],32)]),content:vue.withCtx(()=>[vue.createVNode(y,null,{default:vue.withCtx(()=>[vue.withDirectives(vue.createVNode(v,{ref:"scrollbar",tag:"ul","wrap-class":r.nsSelect.be("dropdown","wrap"),"view-class":r.nsSelect.be("dropdown","list"),class:vue.normalizeClass(r.scrollbarKls)},{default:vue.withCtx(()=>[r.showNewOption?(vue.openBlock(),vue.createBlock(h,{key:0,value:r.query,created:!0},null,8,["value"])):vue.createCommentVNode("v-if",!0),vue.createVNode(g,{onUpdateOptions:r.onOptionsRendered},{default:vue.withCtx(()=>[vue.renderSlot(r.$slots,"default")]),_:3},8,["onUpdateOptions"])]),_:3},8,["wrap-class","view-class","class"]),[[vue.vShow,r.options.size>0&&!r.loading]]),r.emptyText&&(!r.allowCreate||r.loading||r.allowCreate&&r.options.size===0)?(vue.openBlock(),vue.createElementBlock(vue.Fragment,{key:0},[r.$slots.empty?vue.renderSlot(r.$slots,"empty",{key:0}):(vue.openBlock(),vue.createElementBlock("p",{key:1,class:vue.normalizeClass(r.nsSelect.be("dropdown","empty"))},vue.toDisplayString(r.emptyText),3))],64)):vue.createCommentVNode("v-if",!0)]),_:3})]),_:3},8,["visible","placement","teleported","popper-class","popper-options","effect","transition","persistent","onShow"])],34)),[[A,r.handleClose,r.popperPaneRef]])}var Select=_export_sfc(_sfc_main$9,[["render",_sfc_render$1],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select.vue"]]);const _sfc_main$8=vue.defineComponent({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:{type:Boolean,default:!1}},setup(r){const n=useNamespace("select"),i=vue.ref(!0),o=vue.getCurrentInstance(),a=vue.ref([]);vue.provide(selectGroupKey,vue.reactive({...vue.toRefs(r)}));const u=vue.inject(selectKey);vue.onMounted(()=>{a.value=c(o.subTree)});const c=d=>{const p=[];return Array.isArray(d.children)&&d.children.forEach(h=>{var g;h.type&&h.type.name==="ElOption"&&h.component&&h.component.proxy?p.push(h.component.proxy):(g=h.children)!=null&&g.length&&p.push(...c(h))}),p},{groupQueryChange:f}=vue.toRaw(u);return vue.watch(f,()=>{i.value=a.value.some(d=>d.visible===!0)},{flush:"post"}),{visible:i,ns:n}}});function _sfc_render(r,n,i,o,a,u){return vue.withDirectives((vue.openBlock(),vue.createElementBlock("ul",{class:vue.normalizeClass(r.ns.be("group","wrap"))},[vue.createElementVNode("li",{class:vue.normalizeClass(r.ns.be("group","title"))},vue.toDisplayString(r.label),3),vue.createElementVNode("li",null,[vue.createElementVNode("ul",{class:vue.normalizeClass(r.ns.b("group"))},[vue.renderSlot(r.$slots,"default")],2)])],2)),[[vue.vShow,r.visible]])}var OptionGroup=_export_sfc(_sfc_main$8,[["render",_sfc_render],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option-group.vue"]]);const ElSelect=withInstall(Select,{Option,OptionGroup}),ElOption=withNoopInstall(Option);withNoopInstall(OptionGroup);const _hoisted_1$4={class:"c-wall-d"},_sfc_main$7=vue.defineComponent({__name:"condition",props:{modelValue:{default:()=>({type:EConditionType.None})}},emits:["update:modelValue"],setup(r,{emit:n}){const i=r,o=vue.computed({get(){return i.modelValue},set(c){n("update:modelValue",c)}}),a=[{label:"大于",val:"greater"},{label:"大于等于",val:">="},{label:"小于",val:"<"},{label:"小于等于",val:"<="},{label:"等于",val:"=="},{label:"不等于",val:"!="},{label:"介于",val:">=,=<"},{label:"不介于",val:"<,>"}],u=c=>{c!=="None"&&(o.value.Relation={key:"",relation:"",val:"",val2:""}),n("update:modelValue",o)};return(c,f)=>{var d,p;return vue.openBlock(),vue.createElementBlock("div",_hoisted_1$4,[vue.createVNode(vue.unref(ElFormItem),{label:"条件",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(ElSelect),{modelValue:vue.unref(o).type,"onUpdate:modelValue":f[0]||(f[0]=h=>vue.unref(o).type=h),onChange:u},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(ElOption),{value:"None",label:"无"}),vue.createVNode(vue.unref(ElOption),{value:"Relation",label:"关系运算"})]),_:1},8,["modelValue"])]),_:1}),vue.unref(o).type==="Relation"?(vue.openBlock(),vue.createBlock(vue.unref(ElFormItem),{key:0,label:"属性",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(ElInput),{modelValue:vue.unref(o).Relation.key,"onUpdate:modelValue":f[1]||(f[1]=h=>vue.unref(o).Relation.key=h)},null,8,["modelValue"])]),_:1})):vue.createCommentVNode("",!0),vue.unref(o).type==="Relation"?(vue.openBlock(),vue.createBlock(vue.unref(ElFormItem),{key:1,label:"关系",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(ElSelect),{modelValue:vue.unref(o).Relation.relation,"onUpdate:modelValue":f[2]||(f[2]=h=>vue.unref(o).Relation.relation=h)},{default:vue.withCtx(()=>[(vue.openBlock(),vue.createElementBlock(vue.Fragment,null,vue.renderList(a,(h,g)=>vue.createVNode(vue.unref(ElOption),{value:h.val,label:h.label,key:"rop"+g},null,8,["value","label"])),64))]),_:1},8,["modelValue"])]),_:1})):vue.createCommentVNode("",!0),vue.unref(o).type==="Relation"?(vue.openBlock(),vue.createBlock(vue.unref(ElFormItem),{key:2,label:"值",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(ElInput),{modelValue:vue.unref(o).Relation.val,"onUpdate:modelValue":f[3]||(f[3]=h=>vue.unref(o).Relation.val=h)},null,8,["modelValue"])]),_:1})):vue.createCommentVNode("",!0),vue.unref(o).type==="Relation"&&(((d=vue.unref(o).Relation)==null?void 0:d.relation)===">=,=<"||((p=vue.unref(o).Relation)==null?void 0:p.relation)==="<,>")?(vue.openBlock(),vue.createBlock(vue.unref(ElFormItem),{key:3,label:"值2",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(ElInput),{modelValue:vue.unref(o).Relation.val2,"onUpdate:modelValue":f[4]||(f[4]=h=>vue.unref(o).Relation.val2=h)},null,8,["modelValue"])]),_:1})):vue.createCommentVNode("",!0)])}}}),condition_vue_vue_type_style_index_0_scoped_f43f10e6_lang="",Condition=_export_sfc$1(_sfc_main$7,[["__scopeId","data-v-f43f10e6"]]),_sfc_main$6=vue.defineComponent({__name:"bind-anchor",props:{modelValue:{},title:{}},emits:["update:modelValue"],setup(r,{emit:n}){const i=r,o=useGlobalStore(pinia),a=vue.computed({get(){return i.modelValue!==null},set(h){let g=null;h&&(g={target_id:"",type:""}),n("update:modelValue",g)}}),u=vue.computed({get(){var h;return((h=i.modelValue)==null?void 0:h.target_id)??void 0},set(h){let g=null;a.value&&(g={target_id:h,type:c.value}),n("update:modelValue",g)}}),c=vue.computed({get(){var h;return((h=i.modelValue)==null?void 0:h.type)??void 0},set(h){let g=null;a.value&&(g={target_id:u.value,type:h}),n("update:modelValue",g)}}),f=vue.computed(()=>o.done_json.filter(h=>h.type!==EDoneJsonType.ConnectionLine).map(h=>({label:h.title,value:h.id}))),d=[{label:"上锚点",value:ELineBindAnchors.TopCenter},{label:"右锚点",value:ELineBindAnchors.Right},{label:"下锚点",value:ELineBindAnchors.BottomCenter},{label:"左锚点",value:ELineBindAnchors.Left}];function p(){vue.nextTick(function(){var h,g;if(a.value&&((h=i.modelValue)!=null&&h.target_id)&&((g=i.modelValue)!=null&&g.type)&&o.handle_svg_info){let v=null;for(let y of o.done_json)y.id===i.modelValue.target_id&&(v=y);v&&(setSvgActualInfo(v),moveAnchors(v))}})}return(h,g)=>(vue.openBlock(),vue.createElementBlock(vue.Fragment,null,[vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:i.title,size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElSwitch),{modelValue:vue.unref(a),"onUpdate:modelValue":g[0]||(g[0]=v=>vue.isRef(a)?a.value=v:null),onChange:p},null,8,["modelValue"])]),_:1},8,["label"]),vue.unref(a)?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElFormItem),{key:0,label:"绑定对象",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElSelect),{modelValue:vue.unref(u),"onUpdate:modelValue":g[1]||(g[1]=v=>vue.isRef(u)?u.value=v:null),onChange:p},{default:vue.withCtx(()=>[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(vue.unref(f),v=>(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElOption),{key:v.value,label:v.label,value:v.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})):vue.createCommentVNode("",!0),vue.unref(a)?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElFormItem),{key:1,label:"绑定位置",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElSelect),{modelValue:vue.unref(c),"onUpdate:modelValue":g[2]||(g[2]=v=>vue.isRef(c)?c.value=v:null),onChange:p},{default:vue.withCtx(()=>[(vue.openBlock(),vue.createElementBlock(vue.Fragment,null,vue.renderList(d,v=>vue.createVNode(vue.unref(elementPlus.ElOption),{key:v.value,label:v.label,value:v.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})):vue.createCommentVNode("",!0)],64))}}),_withScopeId=r=>(vue.pushScopeId("data-v-9b4c5da1"),r=r(),vue.popScopeId(),r),_hoisted_1$3=_withScopeId(()=>vue.createElementVNode("span",{style:{"font-weight":"bold"}},"MQTT",-1)),_hoisted_2$2={key:2},_hoisted_3$2={class:"events-title"},_sfc_main$5=vue.defineComponent({__name:"right-panel",setup(r){const n=useConfigStore(pinia),i=useGlobalStore(pinia),o=useSvgEditLayoutStore(pinia),a=vue.ref("page"),u=vue.ref("style"),c=(A,_)=>{A!=null&&A.common_animations&&(A.common_animations.val=_)};n.$subscribe((A,_)=>{A.storeId==="config-store"&&localStorage.setItem("svg-editor-config",JSON.stringify(_))});const f=vue.ref(numberArray(20)),d=vue.ref(["MQTT"]),p=vue.ref();p.value=()=>{var _,S;let A={type:EEventType.Null,action:EEventAction.Null,target:"",scripts:"",condition:{type:EConditionType.None}};(S=(_=i.handle_svg_info)==null?void 0:_.info)==null||S.events.push(A)};const h=(A,_)=>{A==="ChangeAttr"?_.attrs=[{key:"",val:""}]:delete _.attrs},g=A=>{var _,S;(S=(_=i.handle_svg_info)==null?void 0:_.info)==null||S.events.splice(A,1)},v=()=>{o.center_offset={x:0,y:0}},y=(A,_,S)=>{vue.nextTick(function(){if(i.handle_svg_info){const b=i.done_json[i.handle_svg_info.index];S?setSvgActualInfo(b,S):setSvgActualInfo(b),moveAnchors(b)}})};return(A,_)=>vue.unref(i).intention!=vue.unref(EGlobalStoreIntention).Select?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElTabs),{key:0,class:"mx-2 rightTabs",modelValue:vue.unref(a),"onUpdate:modelValue":_[13]||(_[13]=S=>vue.isRef(a)?a.value=S:null)},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElTabPane),{label:"图纸",name:"page"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElForm),{"label-width":"60px","label-position":"left"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"背景色",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElColorPicker),{modelValue:vue.unref(n).svg.background_color,"onUpdate:modelValue":_[0]||(_[0]=S=>vue.unref(n).svg.background_color=S)},null,8,["modelValue"])]),_:1}),vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"画布",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElButton),{size:"small",onClick:v,icon:vue.unref(aim_default)},{default:vue.withCtx(()=>[vue.createTextVNode("重置位置")]),_:1},8,["icon"])]),_:1}),vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"X轴偏移",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElInputNumber),{modelValue:vue.unref(o).center_offset.x,"onUpdate:modelValue":_[1]||(_[1]=S=>vue.unref(o).center_offset.x=S)},null,8,["modelValue"])]),_:1}),vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"Y轴偏移",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElInputNumber),{modelValue:vue.unref(o).center_offset.y,"onUpdate:modelValue":_[2]||(_[2]=S=>vue.unref(o).center_offset.y=S)},null,8,["modelValue"])]),_:1}),vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"缩放",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElInputNumber),{modelValue:vue.unref(n).svg.scale,"onUpdate:modelValue":_[3]||(_[3]=S=>vue.unref(n).svg.scale=S),step:.1,"step-strictly":""},null,8,["modelValue"])]),_:1}),vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"标尺",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElSwitch),{modelValue:vue.unref(n).svg.ruler,"onUpdate:modelValue":_[4]||(_[4]=S=>vue.unref(n).svg.ruler=S)},null,8,["modelValue"])]),_:1}),vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"网格",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElSwitch),{modelValue:vue.unref(n).svg.grid,"onUpdate:modelValue":_[5]||(_[5]=S=>vue.unref(n).svg.grid=S)},null,8,["modelValue"])]),_:1}),vue.unref(n).svg.grid?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElFormItem),{key:0,label:"网格颜色",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElColorPicker),{modelValue:vue.unref(n).svg.grid_color,"onUpdate:modelValue":_[6]||(_[6]=S=>vue.unref(n).svg.grid_color=S)},null,8,["modelValue"])]),_:1})):vue.createCommentVNode("",!0)]),_:1})]),_:1}),vue.createVNode(vue.unref(elementPlus.ElTabPane),{label:"连线",name:"line"},{default:vue.withCtx(()=>[vue.unref(n).connection_line.props?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElForm),{key:0,"label-width":"60px","label-position":"left"},{default:vue.withCtx(()=>[vue.createVNode(DynamicElFormItem,{"obj-info":vue.unref(n).connection_line.props,hide:["point_position"]},null,8,["obj-info"])]),_:1})):vue.createCommentVNode("",!0),vue.unref(n).connection_line.animations?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElForm),{key:1,"label-width":"60px","label-position":"left"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:vue.unref(n).connection_line.animations.type.title,size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElSelect),{modelValue:vue.unref(n).connection_line.animations.type.val,"onUpdate:modelValue":_[7]||(_[7]=S=>vue.unref(n).connection_line.animations.type.val=S),placeholder:"Select",size:"small"},{default:vue.withCtx(()=>[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(vue.unref(n).connection_line.animations.type.options,S=>(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElOption),{key:S.value,label:S.label,value:S.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"]),vue.unref(n).connection_line.animations.type.val!=="None"?(vue.openBlock(),vue.createBlock(DynamicElFormItem,{key:0,"obj-info":vue.unref(n).connection_line.animations,hide:["type","repeatCount"]},null,8,["obj-info"])):vue.createCommentVNode("",!0)]),_:1})):vue.createCommentVNode("",!0)]),_:1}),vue.createVNode(vue.unref(elementPlus.ElTabPane),{label:"通信",name:"net"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElCollapse),{modelValue:vue.unref(d),"onUpdate:modelValue":_[12]||(_[12]=S=>vue.isRef(d)?d.value=S:null)},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElCollapseItem),{name:"MQTT"},{title:vue.withCtx(()=>[_hoisted_1$3]),default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElForm),{"label-width":"60px","label-position":"left"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"URL",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElInput),{modelValue:vue.unref(n).net.mqtt.url,"onUpdate:modelValue":_[8]||(_[8]=S=>vue.unref(n).net.mqtt.url=S),placeholder:"如 ws://127.0.0.1:4500"},null,8,["modelValue"])]),_:1}),vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"用户名",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElInput),{modelValue:vue.unref(n).net.mqtt.user,"onUpdate:modelValue":_[9]||(_[9]=S=>vue.unref(n).net.mqtt.user=S),placeholder:"username"},null,8,["modelValue"])]),_:1}),vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"密码",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElInput),{modelValue:vue.unref(n).net.mqtt.pwd,"onUpdate:modelValue":_[10]||(_[10]=S=>vue.unref(n).net.mqtt.pwd=S),placeholder:"password"},null,8,["modelValue"])]),_:1}),vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"Topics",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElInput),{modelValue:vue.unref(n).net.mqtt.topics,"onUpdate:modelValue":_[11]||(_[11]=S=>vue.unref(n).net.mqtt.topics=S),placeholder:"topics"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),vue.createVNode(vue.unref(elementPlus.ElTabPane),{label:"结构",name:"tree"},{default:vue.withCtx(()=>[vue.createVNode(_sfc_main$t)]),_:1})]),_:1},8,["modelValue"])):vue.unref(i).intention==vue.unref(EGlobalStoreIntention).Select&&vue.unref(i).handle_svg_info?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElTabs),{key:1,class:"mx-2 rightTabs",modelValue:vue.unref(u),"onUpdate:modelValue":_[34]||(_[34]=S=>vue.isRef(u)?u.value=S:null)},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElTabPane),{label:"外观",name:"style"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElForm),{"label-width":"60px","label-position":"left"},{default:vue.withCtx(()=>{var S,b,T,w;return[vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"标题",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElInput),{modelValue:vue.unref(i).handle_svg_info.info.title,"onUpdate:modelValue":_[14]||(_[14]=x=>vue.unref(i).handle_svg_info.info.title=x)},null,8,["modelValue"])]),_:1}),vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"X坐标",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElInputNumber),{modelValue:vue.unref(i).handle_svg_info.info.x,"onUpdate:modelValue":_[15]||(_[15]=x=>vue.unref(i).handle_svg_info.info.x=x),onChange:y},null,8,["modelValue"])]),_:1}),vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"Y坐标",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElInputNumber),{modelValue:vue.unref(i).handle_svg_info.info.y,"onUpdate:modelValue":_[16]||(_[16]=x=>vue.unref(i).handle_svg_info.info.y=x),onChange:y},null,8,["modelValue"])]),_:1}),vue.withDirectives(vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"X缩放",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElInputNumber),{modelValue:vue.unref(i).handle_svg_info.info.scale_x,"onUpdate:modelValue":_[17]||(_[17]=x=>vue.unref(i).handle_svg_info.info.scale_x=x),onChange:y},null,8,["modelValue"])]),_:1},512),[[vue.vShow,(b=(S=vue.unref(i).handle_svg_info)==null?void 0:S.info)==null?void 0:b.config.can_zoom]]),vue.withDirectives(vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"Y缩放",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElInputNumber),{modelValue:vue.unref(i).handle_svg_info.info.scale_y,"onUpdate:modelValue":_[18]||(_[18]=x=>vue.unref(i).handle_svg_info.info.scale_y=x),onChange:y},null,8,["modelValue"])]),_:1},512),[[vue.vShow,(w=(T=vue.unref(i).handle_svg_info)==null?void 0:T.info)==null?void 0:w.config.can_zoom]]),vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"旋转",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElInputNumber),{modelValue:vue.unref(i).handle_svg_info.info.rotate,"onUpdate:modelValue":_[19]||(_[19]=x=>vue.unref(i).handle_svg_info.info.rotate=x),onChange:y},null,8,["modelValue"])]),_:1}),vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"显示",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElSwitch),{modelValue:vue.unref(i).handle_svg_info.info.display,"onUpdate:modelValue":_[20]||(_[20]=x=>vue.unref(i).handle_svg_info.info.display=x)},null,8,["modelValue"])]),_:1})]}),_:1})]),_:1}),vue.createVNode(vue.unref(elementPlus.ElTabPane),{label:"数据",name:"data"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElForm),{"label-width":"90px","label-position":"left"},{default:vue.withCtx(()=>{var S,b,T,w,x,k,M,D;return[vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"ID",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElInput),{modelValue:vue.unref(i).handle_svg_info.info.id,"onUpdate:modelValue":_[21]||(_[21]=z=>vue.unref(i).handle_svg_info.info.id=z)},null,8,["modelValue"])]),_:1}),(b=(S=vue.unref(i).handle_svg_info)==null?void 0:S.info)!=null&&b.state?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElFormItem),{key:0,class:"props-row",label:"state",size:"small"},{default:vue.withCtx(()=>[vue.createTextVNode(vue.toDisplayString(vue.unref(i).handle_svg_info.info.defaultState),1)]),_:1})):vue.createCommentVNode("",!0),(w=(T=vue.unref(i).handle_svg_info)==null?void 0:T.info)!=null&&w.state?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElFormItem),{key:1,label:"状态",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElSelect),{modelValue:vue.unref(i).handle_svg_info.info.defaultState,"onUpdate:modelValue":_[22]||(_[22]=z=>vue.unref(i).handle_svg_info.info.defaultState=z),placeholder:"Select",size:"small"},{default:vue.withCtx(()=>[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(vue.unref(i).handle_svg_info.info.state,(z,j)=>(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElOption),{key:"state"+String(j),label:z.label,value:j},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})):vue.createCommentVNode("",!0),(x=vue.unref(i).handle_svg_info.info)!=null&&x.hasOwnProperty("tag_slot")?(vue.openBlock(),vue.createElementBlock("div",_hoisted_2$2,[vue.createVNode(vue.unref(elementPlus.ElFormItem),{class:"props-row",label:"tag_slot",size:"small"},{default:vue.withCtx(()=>[vue.createTextVNode(vue.toDisplayString(vue.unref(i).handle_svg_info.info.tag_slot),1)]),_:1}),vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"文字插槽",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElInput),{modelValue:vue.unref(i).handle_svg_info.info.tag_slot,"onUpdate:modelValue":_[23]||(_[23]=z=>vue.unref(i).handle_svg_info.info.tag_slot=z),onInput:_[24]||(_[24]=z=>y(z,null,!0))},null,8,["modelValue"])]),_:1})])):vue.createCommentVNode("",!0),vue.createVNode(DynamicElFormItem,{"obj-info":vue.unref(i).handle_svg_info.info.props,code:"",onChange:_[25]||(_[25]=z=>y(z,null,!0))},null,8,["obj-info"]),vue.unref(i).handle_svg_info.info.animations?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElFormItem),{key:3,label:vue.unref(i).handle_svg_info.info.animations.type.title,size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElSelect),{modelValue:vue.unref(i).handle_svg_info.info.animations.type.val,"onUpdate:modelValue":_[26]||(_[26]=z=>vue.unref(i).handle_svg_info.info.animations.type.val=z),placeholder:"Select",size:"small"},{default:vue.withCtx(()=>[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(vue.unref(i).handle_svg_info.info.animations.type.options,z=>(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElOption),{key:z.value,label:z.label,value:z.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"])):vue.createCommentVNode("",!0),((k=vue.unref(i).handle_svg_info.info.animations)==null?void 0:k.type.val)!=="None"?(vue.openBlock(),vue.createBlock(DynamicElFormItem,{key:4,"obj-info":vue.unref(i).handle_svg_info.info.animations,hide:["type","repeatCount"]},null,8,["obj-info"])):vue.createCommentVNode("",!0),((M=vue.unref(i).handle_svg_info)==null?void 0:M.info.type)===vue.unref(EDoneJsonType).ConnectionLine?(vue.openBlock(),vue.createBlock(_sfc_main$6,{key:5,modelValue:vue.unref(i).handle_svg_info.info.bind_anchors.start,"onUpdate:modelValue":_[27]||(_[27]=z=>vue.unref(i).handle_svg_info.info.bind_anchors.start=z),title:"绑定起点"},null,8,["modelValue"])):vue.createCommentVNode("",!0),((D=vue.unref(i).handle_svg_info)==null?void 0:D.info.type)===vue.unref(EDoneJsonType).ConnectionLine?(vue.openBlock(),vue.createBlock(_sfc_main$6,{key:6,modelValue:vue.unref(i).handle_svg_info.info.bind_anchors.end,"onUpdate:modelValue":_[28]||(_[28]=z=>vue.unref(i).handle_svg_info.info.bind_anchors.end=z),title:"绑定终点"},null,8,["modelValue"])):vue.createCommentVNode("",!0)]}),_:1})]),_:1}),vue.createVNode(vue.unref(elementPlus.ElTabPane),{label:"事件",name:"event"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElButton),{type:"primary",style:{width:"100%"},onClick:vue.unref(p)},{default:vue.withCtx(()=>[vue.createTextVNode("添加事件")]),_:1},8,["onClick"]),vue.createVNode(vue.unref(elementPlus.ElCollapse),{modelValue:vue.unref(f),"onUpdate:modelValue":_[29]||(_[29]=S=>vue.isRef(f)?f.value=S:null)},{default:vue.withCtx(()=>[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(vue.unref(i).handle_svg_info.info.events,(S,b)=>(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElCollapseItem),{name:b,key:"event"+b},{title:vue.withCtx(()=>[vue.createElementVNode("div",_hoisted_3$2,[vue.createElementVNode("span",null,"事件"+vue.toDisplayString(b+1),1),vue.createVNode(vue.unref(elementPlus.ElIcon),{size:16,class:"bt-Icon",onClick:vue.withModifiers(T=>g(b),["stop"])},{default:vue.withCtx(()=>[vue.createVNode(_sfc_main$D,{name:"delete"})]),_:2},1032,["onClick"])])]),default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElForm),{"label-width":"90px","label-position":"left"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"类型",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElSelect),{modelValue:S.type,"onUpdate:modelValue":T=>S.type=T},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElOption),{value:"Click",label:"点击"}),vue.createVNode(vue.unref(elementPlus.ElOption),{value:"Change",label:"值改变"})]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024),vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"行为",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElSelect),{modelValue:S.action,"onUpdate:modelValue":T=>S.action=T,onChange:T=>h(T,S)},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElOption),{value:"ChangeAttr",label:"改变属性"}),vue.createVNode(vue.unref(elementPlus.ElOption),{value:"JavaScript",label:"执行JavaScript"})]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024),S.action==="ChangeAttr"?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElFormItem),{key:0,label:"目标",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElInput),{modelValue:S.target,"onUpdate:modelValue":T=>S.target=T,placeholder:"默认自身"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)):vue.createCommentVNode("",!0),S.action==="ChangeAttr"?(vue.openBlock(),vue.createBlock(List,{key:1,modelValue:S.attrs,"onUpdate:modelValue":T=>S.attrs=T},null,8,["modelValue","onUpdate:modelValue"])):vue.createCommentVNode("",!0),S.action==="JavaScript"?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElFormItem),{key:2,label:"JavaScript",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(_sfc_main$w,{modelValue:S.scripts,"onUpdate:modelValue":T=>S.scripts=T,lang:"javascript"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)):vue.createCommentVNode("",!0),vue.createVNode(Condition,{modelValue:S.condition,"onUpdate:modelValue":T=>S.condition=T},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"])]),_:1}),vue.createVNode(vue.unref(elementPlus.ElTabPane),{label:"动效",name:"animation"},{default:vue.withCtx(()=>{var S;return[(S=vue.unref(i).handle_svg_info)!=null&&S.info.animations?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElForm),{key:0,"label-width":"60px","label-position":"left"},{default:vue.withCtx(()=>[vue.createVNode(DynamicElFormItem,{"obj-info":vue.unref(i).handle_svg_info.info.animations},null,8,["obj-info"])]),_:1})):vue.unref(i).handle_svg_info.info.common_animations?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElForm),{key:1,"label-width":"60px","label-position":"left"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"动画效果",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(CommonAnimate,{onUpdateCommonAniVal:_[30]||(_[30]=b=>{var T;return c((T=vue.unref(i).handle_svg_info)==null?void 0:T.info,b)}),val:vue.unref(i).handle_svg_info.info.common_animations.val},null,8,["val"])]),_:1}),vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"延迟",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElSelect),{modelValue:vue.unref(i).handle_svg_info.info.common_animations.delay,"onUpdate:modelValue":_[31]||(_[31]=b=>vue.unref(i).handle_svg_info.info.common_animations.delay=b)},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElOption),{value:"delay-0s",label:"无"}),vue.createVNode(vue.unref(elementPlus.ElOption),{value:"delay-1s",label:"1秒"}),vue.createVNode(vue.unref(elementPlus.ElOption),{value:"delay-2s",label:"2秒"}),vue.createVNode(vue.unref(elementPlus.ElOption),{value:"delay-3s",label:"3秒"}),vue.createVNode(vue.unref(elementPlus.ElOption),{value:"delay-4s",label:"4秒"}),vue.createVNode(vue.unref(elementPlus.ElOption),{value:"delay-5s",label:"5秒"})]),_:1},8,["modelValue"])]),_:1}),vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"动画速度",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElSelect),{modelValue:vue.unref(i).handle_svg_info.info.common_animations.speed,"onUpdate:modelValue":_[32]||(_[32]=b=>vue.unref(i).handle_svg_info.info.common_animations.speed=b)},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElOption),{value:"slow",label:"慢"}),vue.createVNode(vue.unref(elementPlus.ElOption),{value:"slower",label:"最慢"}),vue.createVNode(vue.unref(elementPlus.ElOption),{value:"fast",label:"快"}),vue.createVNode(vue.unref(elementPlus.ElOption),{value:"faster",label:"最快"})]),_:1},8,["modelValue"])]),_:1}),vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"循环次数",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElSelect),{modelValue:vue.unref(i).handle_svg_info.info.common_animations.repeat,"onUpdate:modelValue":_[33]||(_[33]=b=>vue.unref(i).handle_svg_info.info.common_animations.repeat=b)},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElOption),{value:"repeat-1",label:"一次"}),vue.createVNode(vue.unref(elementPlus.ElOption),{value:"repeat-2",label:"两次"}),vue.createVNode(vue.unref(elementPlus.ElOption),{value:"repeat-3",label:"三次"}),vue.createVNode(vue.unref(elementPlus.ElOption),{value:"infinite",label:"无限次"})]),_:1},8,["modelValue"])]),_:1})]),_:1})):vue.createCommentVNode("",!0)]}),_:1}),vue.createVNode(vue.unref(elementPlus.ElTabPane),{label:"结构",name:"tree"},{default:vue.withCtx(()=>[vue.createVNode(_sfc_main$t)]),_:1})]),_:1},8,["modelValue"])):vue.createCommentVNode("",!0)}}),rightPanel_vue_vue_type_style_index_0_scoped_9b4c5da1_lang="",rightPanel_vue_vue_type_style_index_1_lang="",RightPanel=_export_sfc$1(_sfc_main$5,[["__scopeId","data-v-9b4c5da1"]]),_sfc_main$4=vue.defineComponent({__name:"export-json",setup(r){const n=vue.ref(""),i=useGlobalStore(pinia),o=useSvgEditLayoutStore(pinia),a=useConfigStore(pinia);return vue.onMounted(()=>{const u={layout_center:o.center_offset,config:a.$state,done_json:i.done_json};n.value=JSON.stringify(u,null,2)}),(u,c)=>(vue.openBlock(),vue.createBlock(vue.unref(VAceEditor),{value:vue.unref(n),"onUpdate:value":c[0]||(c[0]=f=>vue.isRef(n)?n.value=f:null),lang:"json",theme:"kr_theme",style:{height:"400px"},options:{useWorker:!0,enableBasicAutocompletion:!0,enableSnippets:!0,enableLiveAutocompletion:!0}},null,8,["value"]))}}),_sfc_main$3=vue.defineComponent({__name:"import-json",setup(r,{expose:n}){const i=vue.ref("");return n({setVal:u=>{i.value=u},onImportJson:()=>{useImportDataModel(i.value)&&elementPlus.ElMessage.success("导入成功")}}),(u,c)=>(vue.openBlock(),vue.createBlock(vue.unref(VAceEditor),{value:vue.unref(i),"onUpdate:value":c[0]||(c[0]=f=>vue.isRef(i)?i.value=f:null),lang:"json",theme:"kr_theme",style:{height:"400px"},options:{useWorker:!0,enableBasicAutocompletion:!0,enableSnippets:!0,enableLiveAutocompletion:!0}},null,8,["value"]))}}),_hoisted_1$2=["onMousedown"],_hoisted_2$1=["onMousedown"],_hoisted_3$1=["title","onMousedown"],_hoisted_4$1={class:"vue-ruler-content-mask"},_sfc_main$2=vue.defineComponent({__name:"vue3-ruler-tool",props:{visible:{type:Boolean,default:!0},stepLength:{default:100}},emits:["onLineMouseUp"],setup(r,{emit:n}){const i=r,o=useSvgEditLayoutStore(pinia),a=useConfigStore(pinia),u=function(){return function(Et,Ne,pe){Et&&Ne&&pe&&Et.addEventListener(Ne,pe,!1)}}(),c=function(){return function(Et,Ne,pe){Et&&Ne&&Et.removeEventListener(Ne,pe,!1)}}();let f=18,d=vue.ref(0),p=vue.ref(0),h=vue.ref([]),g=vue.ref([]);const v=vue.ref([]);let y=vue.ref(!1),A="",_=vue.ref(-999),S=vue.ref(-999),b=18,T=18,w="";const x=vue.ref(null),k=vue.ref(null),M=vue.ref(null),D=vue.ref(null),z=vue.computed(()=>({width:d.value+"px",height:p.value+"px"})),j=vue.computed(()=>({padding:f+"px 0px 0px "+f+"px"})),oe=vue.computed(()=>{let Et=0,Ne=0;return v.value.map(pe=>{const At=pe.type==="h";return{id:`${pe.type}_${At?Et++:Ne++}`,type:pe.type,title:pe.site.toFixed(0)+"px",[At?"top":"left"]:pe.site*a.svg.scale+f+o.center_offset[At?"y":"x"]*a.svg.scale}})});o.$subscribe(Et=>{var Ne,pe,At,Ve;((pe=(Ne=Et.events)==null?void 0:Ne.target)!=null&&pe.hasOwnProperty("left_nav")||(Ve=(At=Et.events)==null?void 0:At.target)!=null&&Ve.hasOwnProperty("right_nav"))&&window.setTimeout(L,420)}),a.$subscribe(Et=>{var Ne,pe;(pe=(Ne=Et.events)==null?void 0:Ne.target)!=null&&pe.hasOwnProperty("scale")&&Ce()}),vue.onMounted(()=>{u(document,"mousemove",ie),u(document,"mouseup",Oe),L(),u(window,"resize",F)}),vue.onBeforeUnmount(()=>{c(document,"mousemove",ie),c(document,"mouseup",Oe),c(window,"resize",F)});const L=()=>{_e(),Ce()},F=()=>{h.value=[],g.value=[],L()},O=({type:Et,top:Ne,left:pe})=>Et==="h"?{top:Ne+"px"}:{left:pe+"px"},ue=({type:Et,id:Ne})=>Et==="h"?Cn(Ne):Lt(Ne),_e=()=>{const Et=window.getComputedStyle(k.value.parentNode,null);d.value=parseInt(Et.getPropertyValue("width")),p.value=parseInt(Et.getPropertyValue("height")),b=M.value.clientWidth,T=D.value.clientHeight},Ce=()=>{de(h.value,d.value,o.center_offset.x),de(g.value,p.value,o.center_offset.y)},de=(Et,Ne,pe)=>{if(Et.length===0)for(let At=0;At<Ne;At+=i.stepLength)At%i.stepLength===0&&Et.push({id:Number((At/a.svg.scale-pe).toFixed(0))});else Et.forEach((At,Ve)=>{At.id=Number((Ve*i.stepLength/a.svg.scale-pe).toFixed(0))})},ie=Et=>{Ce(),Y(Et)},Y=Et=>{if(!(Et.layerX===Et.x||Et.layerY===Et.y))switch(A){case"x":y.value&&(S.value=Et.layerY);break;case"y":y.value&&(_.value=Et.layerX);break;case"h":y.value&&(S.value=Et.layerY);break;case"v":y.value&&(_.value=Et.layerX);break}},Ie=Et=>{y.value=!0,A=Et},Oe=Et=>{kt(Et)},kt=Et=>{if(y.value){switch(y.value=!1,A){case"x":const Ne=Math.round((Et.layerY-f)/a.svg.scale-o.center_offset.y);if(Ne<=0){S.value=-999;return}v.value.push({type:"h",site:Ne});break;case"y":const pe=Math.round((Et.layerX-f)/a.svg.scale-o.center_offset.x);if(pe<=0){_.value=-999;return}v.value.push({type:"v",site:pe});break;case"h":Dt(v.value,Math.round((Et.layerY-f)/a.svg.scale-o.center_offset.y),Math.round(T/a.svg.scale-o.center_offset.y),"h");break;case"v":Dt(v.value,Math.round((Et.layerX-f)/a.svg.scale-o.center_offset.x),Math.round(b/a.svg.scale-o.center_offset.x),"v");break}S.value=_.value=-999}},Dt=(Et,Ne,pe,At)=>{if(Ne<pe){let Ve;oe.value.forEach((xe,ze)=>{xe.id===w&&(Ve=ze)}),Et.splice(Ve,1)}else{let Ve;oe.value.forEach((xe,ze)=>{xe.id===w&&(Ve=ze)}),Et.splice(Ve,1,{type:At,site:Ne})}},Fe=()=>{Ie("x")},$e=()=>{Ie("y")},Cn=Et=>{y.value=!0,A="h",w=Et},Lt=Et=>{y.value=!0,A="v",w=Et},In=()=>{n("onLineMouseUp")};return(Et,Ne)=>(vue.openBlock(),vue.createElementBlock("div",{style:vue.normalizeStyle(vue.unref(z)),class:"vue-ruler-wrapper",onselectStart:"return false;",ref_key:"el",ref:k},[vue.withDirectives(vue.createElementVNode("section",null,[vue.createElementVNode("div",{ref_key:"horizontalRuler",ref:D,class:"vue-ruler-h",onMousedown:vue.withModifiers(Fe,["stop"])},[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(vue.unref(h),(pe,At)=>(vue.openBlock(),vue.createElementBlock("span",{style:vue.normalizeStyle({left:At*Et.stepLength+"px"}),class:"n"},vue.toDisplayString(pe.id),5))),256))],40,_hoisted_1$2),vue.createElementVNode("div",{ref_key:"verticalRuler",ref:M,class:"vue-ruler-v",onMousedown:vue.withModifiers($e,["stop"])},[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(vue.unref(g),(pe,At)=>(vue.openBlock(),vue.createElementBlock("span",{style:vue.normalizeStyle({top:At*Et.stepLength+"px"}),class:"n"},vue.toDisplayString(pe.id),5))),256))],40,_hoisted_2$1),vue.createElementVNode("div",{style:vue.normalizeStyle({top:vue.unref(S)+"px"}),class:"vue-ruler-ref-dot-h"},[vue.createElementVNode("span",null,vue.toDisplayString(Math.round((vue.unref(S)-vue.unref(T))/vue.unref(a).svg.scale)),1)],4),vue.createElementVNode("div",{style:vue.normalizeStyle({left:vue.unref(_)+"px"}),class:"vue-ruler-ref-dot-v"},[vue.createElementVNode("span",null,vue.toDisplayString(Math.round((vue.unref(_)-vue.unref(b))/vue.unref(a).svg.scale)),1)],4),(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(vue.unref(oe),pe=>(vue.openBlock(),vue.createElementBlock("div",{title:pe.title,style:vue.normalizeStyle(O(pe)),key:pe.id,class:vue.normalizeClass(`vue-ruler-ref-line-${pe.type}`),onMousedown:At=>ue(pe),onMouseup:In,onContextmenu:Ne[0]||(Ne[0]=(...At)=>vue.unref(preventDefault)&&vue.unref(preventDefault)(...At))},null,46,_hoisted_3$1))),128))],512),[[vue.vShow,i.visible]]),vue.createElementVNode("div",{ref_key:"content",ref:x,class:"vue-ruler-content",style:vue.normalizeStyle(vue.unref(j))},[vue.renderSlot(Et.$slots,"default")],4),vue.withDirectives(vue.createElementVNode("div",_hoisted_4$1,null,512),[[vue.vShow,vue.unref(y)]])],4))}}),vue3RulerTool_vue_vue_type_style_index_0_lang="";function fileWrite(r,n=new Date(Date.now()).toLocaleString()){const i=JSON.stringify(r),o=new Blob([i]);let a=document.createElement("a");a.download=n+".json",a.style.display="none",a.href=URL.createObjectURL(o),document.body.appendChild(a),a.click(),document.body.removeChild(a)}function fileRead(r){return new Promise((n,i)=>{let o=new FileReader;o.readAsText(r,"UTF-8"),o.onload=function(a){a&&a.target?n(a.target.result):i("文件读取错误")}})}const _hoisted_1$1={class:"canvas-main-pc"},_sfc_main$1=vue.defineComponent({__name:"index",props:{customToolbar:{},data:{},saveFile:{type:Boolean,default:!1}},emits:["onReturn","onPreview","onSave"],setup(r,{expose:n,emit:i}){const o=r;setEditorLoadTime();const a=useGlobalStore(pinia),u=useSvgEditLayoutStore(pinia),c=useConfigStore(pinia),f=useEditPrivateStore(pinia),d=vue.ref(),p=vue.ref(),h=vue.reactive({[EVisibleConfKey.ExportJson]:!1,[EVisibleConfKey.ImportJson]:!1,[EVisibleConfKey.ImportFile]:!1}),g=(w,x)=>{h[w]=x},v=vue.ref();v.value=()=>{p.value.onImportJson(),g(EVisibleConfKey.ImportJson,!1)};const y=w=>["text/plain","application/json"].indexOf(w.type)<0?(elementPlus.ElMessage.error("仅支持的格式：txt、json"),!1):(fileRead(w).then(x=>{p.value.setVal(x),elementPlus.ElMessage.success("文件读取成功！")}),!1),A=w=>{a.setDoneJson(w)};vue.onMounted(()=>{f.history_doneComponent=[],f.history_now_index=0,o.data?useImportDataModel(o.data):a.setDoneJson([]),a.intention=EGlobalStoreIntention.None});const{appContext:_}=vue.getCurrentInstance();function S(w){i("onReturn",{data:w,isChange:f.getTopBtnUndoStatus})}function b(w){o.saveFile?elementPlus.ElMessageBox.prompt("请输入文件名","保存",{cancelButtonText:"取消",confirmButtonText:"保存"},_).then(x=>{fileWrite(w,x.value.trim()),i("onSave",w)}).catch(x=>{console.log(x)}):i("onSave",w)}function T(){d.value.onCanvasMouseUp()}return n({setGraphNodeJson:A}),(w,x)=>(vue.openBlock(),vue.createElementBlock("div",null,[vue.createVNode(vue.unref(elementPlus.ElContainer),null,{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElHeader),{class:"top-el-header"},{default:vue.withCtx(()=>[vue.createVNode(TopPanel,{onChangeVisible:g,onOnReturn:S,onOnPreview:x[0]||(x[0]=k=>i("onPreview",k)),onOnSave:b})]),_:1}),vue.createVNode(vue.unref(elementPlus.ElContainer),{class:"middle"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElAside),{class:vue.normalizeClass(["side-nav",vue.unref(u).left_nav?"show-nav":"hide-nav"]),style:{"border-right":"1px solid #efefef"}},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElScrollbar),{class:"el-scroll-pc"},{default:vue.withCtx(()=>[vue.createVNode(LeftPanel,{class:"content-left","custom-toolbar":o.customToolbar},null,8,["custom-toolbar"])]),_:1})]),_:1},8,["class"]),vue.createVNode(vue.unref(elementPlus.ElMain),{class:"middle main"},{default:vue.withCtx(()=>[vue.createElementVNode("div",_hoisted_1$1,[vue.createVNode(_sfc_main$2,{class:"canvas-main-pc",visible:vue.unref(c).svg.ruler,onOnLineMouseUp:T},{default:vue.withCtx(()=>[vue.createVNode(CenterPanel,{ref_key:"centerRef",ref:d},null,512)]),_:1},8,["visible"])])]),_:1}),vue.createVNode(vue.unref(elementPlus.ElAside),{class:vue.normalizeClass(["side-nav",vue.unref(u).right_nav?"show-nav":"hide-nav"]),style:{"border-left":"1px solid #efefef"}},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElScrollbar),{class:"el-scroll-pc"},{default:vue.withCtx(()=>[vue.createVNode(RightPanel)]),_:1})]),_:1},8,["class"])]),_:1})]),_:1}),vue.createVNode(vue.unref(elementPlus.ElDialog),{class:"modal-full",modelValue:vue.unref(h).ImportJson,"onUpdate:modelValue":x[2]||(x[2]=k=>vue.unref(h).ImportJson=k),title:"导入数据",width:"60%","destroy-on-close":""},{footer:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElUpload),{beforeUpload:y,style:{display:"inline-flex","margin-right":"12px"},multiple:!1,"show-file-list":!1,limit:1},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElButton),{onClick:x[1]||(x[1]=k=>g(vue.unref(EVisibleConfKey).ImportFile,!0))},{default:vue.withCtx(()=>[vue.createTextVNode("读取文件")]),_:1})]),_:1}),vue.createVNode(vue.unref(elementPlus.ElButton),{type:"primary",onClick:vue.unref(v)},{default:vue.withCtx(()=>[vue.createTextVNode("导入数据")]),_:1},8,["onClick"])]),default:vue.withCtx(()=>[vue.createVNode(_sfc_main$3,{ref_key:"importJsonRef",ref:p},null,512)]),_:1},8,["modelValue"]),vue.createVNode(vue.unref(elementPlus.ElDialog),{class:"modal-full",modelValue:vue.unref(h).ExportJson,"onUpdate:modelValue":x[3]||(x[3]=k=>vue.unref(h).ExportJson=k),title:"导出",width:"60%","destroy-on-close":""},{default:vue.withCtx(()=>[vue.createVNode(_sfc_main$4)]),_:1},8,["modelValue"])]))}}),index_vue_vue_type_style_index_0_scoped_01ceb0c4_lang="",index=_export_sfc$1(_sfc_main$1,[["__scopeId","data-v-01ceb0c4"]]);function commonjsRequire(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var mqtt={exports:{}};(function(r,n){(function(i){r.exports=i()})(function(){return function(){function i(o,a,u){function c(p,h){if(!a[p]){if(!o[p]){var g=typeof commonjsRequire=="function"&&commonjsRequire;if(!h&&g)return g(p,!0);if(f)return f(p,!0);var v=new Error("Cannot find module '"+p+"'");throw v.code="MODULE_NOT_FOUND",v}var y=a[p]={exports:{}};o[p][0].call(y.exports,function(A){var _=o[p][1][A];return c(_||A)},y,y.exports,i,o,a,u)}return a[p].exports}for(var f=typeof commonjsRequire=="function"&&commonjsRequire,d=0;d<u.length;d++)c(u[d]);return c}return i}()({1:[function(i,o,a){(function(u,c){(function(){const f=i("events").EventEmitter,d=i("./store"),p=i("./topic-alias-recv"),h=i("./topic-alias-send"),g=i("mqtt-packet"),v=i("./default-message-id-provider"),y=i("readable-stream").Writable,A=i("inherits"),_=i("reinterval"),S=i("rfdc/default"),b=i("./validations"),T=i("xtend"),w=i("debug")("mqttjs:client"),x=u?u.nextTick:function(ie){setTimeout(ie,0)},k=c.setImmediate||function(ie){x(ie)},M={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:30*1e3,clean:!0,resubscribe:!0},D=["ECONNREFUSED","EADDRINUSE","ECONNRESET","ENOTFOUND"],z={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};function j(){return"mqttjs_"+Math.random().toString(16).substr(2,8)}function oe(ie,Y){if(ie.options.protocolVersion===5&&Y.cmd==="publish"){let Ie;Y.properties&&(Ie=Y.properties.topicAlias);const Oe=Y.topic.toString();if(ie.topicAliasSend)if(Ie){if(Oe.length!==0&&(w("applyTopicAlias :: register topic: %s - alias: %d",Oe,Ie),!ie.topicAliasSend.put(Oe,Ie)))return w("applyTopicAlias :: error out of range. topic: %s - alias: %d",Oe,Ie),new Error("Sending Topic Alias out of range")}else Oe.length!==0&&(ie.options.autoAssignTopicAlias?(Ie=ie.topicAliasSend.getAliasByTopic(Oe),Ie?(Y.topic="",Y.properties={...Y.properties,topicAlias:Ie},w("applyTopicAlias :: auto assign(use) topic: %s - alias: %d",Oe,Ie)):(Ie=ie.topicAliasSend.getLruAlias(),ie.topicAliasSend.put(Oe,Ie),Y.properties={...Y.properties,topicAlias:Ie},w("applyTopicAlias :: auto assign topic: %s - alias: %d",Oe,Ie))):ie.options.autoUseTopicAlias&&(Ie=ie.topicAliasSend.getAliasByTopic(Oe),Ie&&(Y.topic="",Y.properties={...Y.properties,topicAlias:Ie},w("applyTopicAlias :: auto use topic: %s - alias: %d",Oe,Ie))));else if(Ie)return w("applyTopicAlias :: error out of range. topic: %s - alias: %d",Oe,Ie),new Error("Sending Topic Alias out of range")}}function L(ie,Y){let Ie;Y.properties&&(Ie=Y.properties.topicAlias);let Oe=Y.topic.toString();if(Oe.length===0){if(typeof Ie>"u")return new Error("Unregistered Topic Alias");if(Oe=ie.topicAliasSend.getTopicByAlias(Ie),typeof Oe>"u")return new Error("Unregistered Topic Alias");Y.topic=Oe}Ie&&delete Y.properties.topicAlias}function F(ie,Y,Ie){w("sendPacket :: packet: %O",Y),w("sendPacket :: emitting `packetsend`"),ie.emit("packetsend",Y),w("sendPacket :: writing to stream");const Oe=g.writeToStream(Y,ie.stream,ie.options);w("sendPacket :: writeToStream result %s",Oe),!Oe&&Ie&&Ie!==Ce?(w("sendPacket :: handle events on `drain` once through callback."),ie.stream.once("drain",Ie)):Ie&&(w("sendPacket :: invoking cb"),Ie())}function O(ie){ie&&(w("flush: queue exists? %b",!!ie),Object.keys(ie).forEach(function(Y){typeof ie[Y].cb=="function"&&(ie[Y].cb(new Error("Connection closed")),delete ie[Y])}))}function ue(ie){ie&&(w("flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"),Object.keys(ie).forEach(function(Y){ie[Y].volatile&&typeof ie[Y].cb=="function"&&(ie[Y].cb(new Error("Connection closed")),delete ie[Y])}))}function _e(ie,Y,Ie,Oe){w("storeAndSend :: store packet with cmd %s to outgoingStore",Y.cmd);let kt=Y,Dt;if(kt.cmd==="publish"&&(kt=S(Y),Dt=L(ie,kt),Dt))return Ie&&Ie(Dt);ie.outgoingStore.put(kt,function($e){if($e)return Ie&&Ie($e);Oe(),F(ie,Y,Ie)})}function Ce(ie){w("nop ::",ie)}function de(ie,Y){let Ie;const Oe=this;if(!(this instanceof de))return new de(ie,Y);this.options=Y||{};for(Ie in M)typeof this.options[Ie]>"u"?this.options[Ie]=M[Ie]:this.options[Ie]=Y[Ie];w("MqttClient :: options.protocol",Y.protocol),w("MqttClient :: options.protocolVersion",Y.protocolVersion),w("MqttClient :: options.username",Y.username),w("MqttClient :: options.keepalive",Y.keepalive),w("MqttClient :: options.reconnectPeriod",Y.reconnectPeriod),w("MqttClient :: options.rejectUnauthorized",Y.rejectUnauthorized),w("MqttClient :: options.topicAliasMaximum",Y.topicAliasMaximum),this.options.clientId=typeof Y.clientId=="string"?Y.clientId:j(),w("MqttClient :: clientId",this.options.clientId),this.options.customHandleAcks=Y.protocolVersion===5&&Y.customHandleAcks?Y.customHandleAcks:function(){arguments[3](0)},this.streamBuilder=ie,this.messageIdProvider=typeof this.options.messageIdProvider>"u"?new v:this.options.messageIdProvider,this.outgoingStore=Y.outgoingStore||new d,this.incomingStore=Y.incomingStore||new d,this.queueQoSZero=Y.queueQoSZero===void 0?!0:Y.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.pingTimer=null,this.connected=!1,this.disconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this._storeProcessingQueue=[],this.outgoing={},this._firstConnection=!0,Y.topicAliasMaximum>0&&(Y.topicAliasMaximum>65535?w("MqttClient :: options.topicAliasMaximum is out of range"):this.topicAliasRecv=new p(Y.topicAliasMaximum)),this.on("connect",function(){const kt=this.queue;function Dt(){const Fe=kt.shift();w("deliver :: entry %o",Fe);let $e=null;if(!Fe){Oe._resubscribe();return}$e=Fe.packet,w("deliver :: call _sendPacket for %o",$e);let Cn=!0;$e.messageId&&$e.messageId!==0&&(Oe.messageIdProvider.register($e.messageId)||(Cn=!1)),Cn?Oe._sendPacket($e,function(Lt){Fe.cb&&Fe.cb(Lt),Dt()}):(w("messageId: %d has already used. The message is skipped and removed.",$e.messageId),Dt())}w("connect :: sending queued packets"),Dt()}),this.on("close",function(){w("close :: connected set to `false`"),this.connected=!1,w("close :: clearing connackTimer"),clearTimeout(this.connackTimer),w("close :: clearing ping timer"),Oe.pingTimer!==null&&(Oe.pingTimer.clear(),Oe.pingTimer=null),this.topicAliasRecv&&this.topicAliasRecv.clear(),w("close :: calling _setupReconnect"),this._setupReconnect()}),f.call(this),w("MqttClient :: setting up stream"),this._setupStream()}A(de,f),de.prototype._setupStream=function(){const ie=this,Y=new y,Ie=g.parser(this.options);let Oe=null;const kt=[];w("_setupStream :: calling method to clear reconnect"),this._clearReconnect(),w("_setupStream :: using streamBuilder provided to client to create stream"),this.stream=this.streamBuilder(this),Ie.on("packet",function(Lt){w("parser :: on packet push to packets array."),kt.push(Lt)});function Dt(){if(kt.length)x(Fe);else{const Lt=Oe;Oe=null,Lt()}}function Fe(){w("work :: getting next packet in queue");const Lt=kt.shift();if(Lt)w("work :: packet pulled from queue"),ie._handlePacket(Lt,Dt);else{w("work :: no packets in queue");const In=Oe;Oe=null,w("work :: done flag is %s",!!In),In&&In()}}Y._write=function(Lt,In,Et){Oe=Et,w("writable stream :: parsing buffer"),Ie.parse(Lt),Fe()};function $e(Lt){w("streamErrorHandler :: error",Lt.message),D.includes(Lt.code)?(w("streamErrorHandler :: emitting error"),ie.emit("error",Lt)):Ce(Lt)}w("_setupStream :: pipe stream to writable stream"),this.stream.pipe(Y),this.stream.on("error",$e),this.stream.on("close",function(){w("(%s)stream :: on close",ie.options.clientId),ue(ie.outgoing),w("stream: emit close to MqttClient"),ie.emit("close")}),w("_setupStream: sending packet `connect`");const Cn=Object.create(this.options);if(Cn.cmd="connect",this.topicAliasRecv&&(Cn.properties||(Cn.properties={}),this.topicAliasRecv&&(Cn.properties.topicAliasMaximum=this.topicAliasRecv.max)),F(this,Cn),Ie.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return ie.end(()=>this.emit("error",new Error("Packet has no Authentication Method"))),this;if(this.options.properties.authenticationMethod&&this.options.authPacket&&typeof this.options.authPacket=="object"){const Lt=T({cmd:"auth",reasonCode:0},this.options.authPacket);F(this,Lt)}}this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout(function(){w("!!connectTimeout hit!! Calling _cleanUp with force `true`"),ie._cleanUp(!0)},this.options.connectTimeout)},de.prototype._handlePacket=function(ie,Y){const Ie=this.options;if(Ie.protocolVersion===5&&Ie.properties&&Ie.properties.maximumPacketSize&&Ie.properties.maximumPacketSize<ie.length)return this.emit("error",new Error("exceeding packets size "+ie.cmd)),this.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),this;switch(w("_handlePacket :: emitting packetreceive"),this.emit("packetreceive",ie),ie.cmd){case"publish":this._handlePublish(ie,Y);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":this._handleAck(ie),Y();break;case"pubrel":this._handlePubrel(ie,Y);break;case"connack":this._handleConnack(ie),Y();break;case"auth":this._handleAuth(ie),Y();break;case"pingresp":this._handlePingresp(ie),Y();break;case"disconnect":this._handleDisconnect(ie),Y();break}},de.prototype._checkDisconnecting=function(ie){return this.disconnecting&&(ie&&ie!==Ce?ie(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting},de.prototype.publish=function(ie,Y,Ie,Oe){w("publish :: message `%s` to topic `%s`",Y,ie);const kt=this.options;if(typeof Ie=="function"&&(Oe=Ie,Ie=null),Ie=T({qos:0,retain:!1,dup:!1},Ie),this._checkDisconnecting(Oe))return this;const Fe=this,$e=function(){let Cn=0;if((Ie.qos===1||Ie.qos===2)&&(Cn=Fe._nextId(),Cn===null))return w("No messageId left"),!1;const Lt={cmd:"publish",topic:ie,payload:Y,qos:Ie.qos,retain:Ie.retain,messageId:Cn,dup:Ie.dup};switch(kt.protocolVersion===5&&(Lt.properties=Ie.properties),w("publish :: qos",Ie.qos),Ie.qos){case 1:case 2:Fe.outgoing[Lt.messageId]={volatile:!1,cb:Oe||Ce},w("MqttClient:publish: packet cmd: %s",Lt.cmd),Fe._sendPacket(Lt,void 0,Ie.cbStorePut);break;default:w("MqttClient:publish: packet cmd: %s",Lt.cmd),Fe._sendPacket(Lt,Oe,Ie.cbStorePut);break}return!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!$e())&&this._storeProcessingQueue.push({invoke:$e,cbStorePut:Ie.cbStorePut,callback:Oe}),this},de.prototype.subscribe=function(){const ie=this,Y=new Array(arguments.length);for(let Et=0;Et<arguments.length;Et++)Y[Et]=arguments[Et];const Ie=[];let Oe=Y.shift();const kt=Oe.resubscribe;let Dt=Y.pop()||Ce,Fe=Y.pop();const $e=this.options.protocolVersion;delete Oe.resubscribe,typeof Oe=="string"&&(Oe=[Oe]),typeof Dt!="function"&&(Fe=Dt,Dt=Ce);const Cn=b.validateTopics(Oe);if(Cn!==null)return k(Dt,new Error("Invalid topic "+Cn)),this;if(this._checkDisconnecting(Dt))return w("subscribe: discconecting true"),this;const Lt={qos:0};if($e===5&&(Lt.nl=!1,Lt.rap=!1,Lt.rh=0),Fe=T(Lt,Fe),Array.isArray(Oe)?Oe.forEach(function(Et){if(w("subscribe: array topic %s",Et),!Object.prototype.hasOwnProperty.call(ie._resubscribeTopics,Et)||ie._resubscribeTopics[Et].qos<Fe.qos||kt){const Ne={topic:Et,qos:Fe.qos};$e===5&&(Ne.nl=Fe.nl,Ne.rap=Fe.rap,Ne.rh=Fe.rh,Ne.properties=Fe.properties),w("subscribe: pushing topic `%s` and qos `%s` to subs list",Ne.topic,Ne.qos),Ie.push(Ne)}}):Object.keys(Oe).forEach(function(Et){if(w("subscribe: object topic %s",Et),!Object.prototype.hasOwnProperty.call(ie._resubscribeTopics,Et)||ie._resubscribeTopics[Et].qos<Oe[Et].qos||kt){const Ne={topic:Et,qos:Oe[Et].qos};$e===5&&(Ne.nl=Oe[Et].nl,Ne.rap=Oe[Et].rap,Ne.rh=Oe[Et].rh,Ne.properties=Fe.properties),w("subscribe: pushing `%s` to subs list",Ne),Ie.push(Ne)}}),!Ie.length)return Dt(null,[]),this;const In=function(){const Et=ie._nextId();if(Et===null)return w("No messageId left"),!1;const Ne={cmd:"subscribe",subscriptions:Ie,qos:1,retain:!1,dup:!1,messageId:Et};if(Fe.properties&&(Ne.properties=Fe.properties),ie.options.resubscribe){w("subscribe :: resubscribe true");const pe=[];Ie.forEach(function(At){if(ie.options.reconnectPeriod>0){const Ve={qos:At.qos};$e===5&&(Ve.nl=At.nl||!1,Ve.rap=At.rap||!1,Ve.rh=At.rh||0,Ve.properties=At.properties),ie._resubscribeTopics[At.topic]=Ve,pe.push(At.topic)}}),ie.messageIdToTopic[Ne.messageId]=pe}return ie.outgoing[Ne.messageId]={volatile:!0,cb:function(pe,At){if(!pe){const Ve=At.granted;for(let xe=0;xe<Ve.length;xe+=1)Ie[xe].qos=Ve[xe]}Dt(pe,Ie)}},w("subscribe :: call _sendPacket"),ie._sendPacket(Ne),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!In())&&this._storeProcessingQueue.push({invoke:In,callback:Dt}),this},de.prototype.unsubscribe=function(){const ie=this,Y=new Array(arguments.length);for(let $e=0;$e<arguments.length;$e++)Y[$e]=arguments[$e];let Ie=Y.shift(),Oe=Y.pop()||Ce,kt=Y.pop();typeof Ie=="string"&&(Ie=[Ie]),typeof Oe!="function"&&(kt=Oe,Oe=Ce);const Dt=b.validateTopics(Ie);if(Dt!==null)return k(Oe,new Error("Invalid topic "+Dt)),this;if(ie._checkDisconnecting(Oe))return this;const Fe=function(){const $e=ie._nextId();if($e===null)return w("No messageId left"),!1;const Cn={cmd:"unsubscribe",qos:1,messageId:$e};return typeof Ie=="string"?Cn.unsubscriptions=[Ie]:Array.isArray(Ie)&&(Cn.unsubscriptions=Ie),ie.options.resubscribe&&Cn.unsubscriptions.forEach(function(Lt){delete ie._resubscribeTopics[Lt]}),typeof kt=="object"&&kt.properties&&(Cn.properties=kt.properties),ie.outgoing[Cn.messageId]={volatile:!0,cb:Oe},w("unsubscribe: call _sendPacket"),ie._sendPacket(Cn),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!Fe())&&this._storeProcessingQueue.push({invoke:Fe,callback:Oe}),this},de.prototype.end=function(ie,Y,Ie){const Oe=this;w("end :: (%s)",this.options.clientId),(ie==null||typeof ie!="boolean")&&(Ie=Y||Ce,Y=ie,ie=!1,typeof Y!="object"&&(Ie=Y,Y=null,typeof Ie!="function"&&(Ie=Ce))),typeof Y!="object"&&(Ie=Y,Y=null),w("end :: cb? %s",!!Ie),Ie=Ie||Ce;function kt(){w("end :: closeStores: closing incoming and outgoing stores"),Oe.disconnected=!0,Oe.incomingStore.close(function(Fe){Oe.outgoingStore.close(function($e){if(w("end :: closeStores: emitting end"),Oe.emit("end"),Ie){const Cn=Fe||$e;w("end :: closeStores: invoking callback with args"),Ie(Cn)}})}),Oe._deferredReconnect&&Oe._deferredReconnect()}function Dt(){w("end :: (%s) :: finish :: calling _cleanUp with force %s",Oe.options.clientId,ie),Oe._cleanUp(ie,()=>{w("end :: finish :: calling process.nextTick on closeStores"),x(kt.bind(Oe))},Y)}return this.disconnecting?(Ie(),this):(this._clearReconnect(),this.disconnecting=!0,!ie&&Object.keys(this.outgoing).length>0?(w("end :: (%s) :: calling finish in 10ms once outgoing is empty",Oe.options.clientId),this.once("outgoingEmpty",setTimeout.bind(null,Dt,10))):(w("end :: (%s) :: immediately calling finish",Oe.options.clientId),Dt()),this)},de.prototype.removeOutgoingMessage=function(ie){const Y=this.outgoing[ie]?this.outgoing[ie].cb:null;return delete this.outgoing[ie],this.outgoingStore.del({messageId:ie},function(){Y(new Error("Message removed"))}),this},de.prototype.reconnect=function(ie){w("client reconnect");const Y=this,Ie=function(){ie?(Y.options.incomingStore=ie.incomingStore,Y.options.outgoingStore=ie.outgoingStore):(Y.options.incomingStore=null,Y.options.outgoingStore=null),Y.incomingStore=Y.options.incomingStore||new d,Y.outgoingStore=Y.options.outgoingStore||new d,Y.disconnecting=!1,Y.disconnected=!1,Y._deferredReconnect=null,Y._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=Ie:Ie(),this},de.prototype._reconnect=function(){w("_reconnect: emitting reconnect to client"),this.emit("reconnect"),this.connected?(this.end(()=>{this._setupStream()}),w("client already connected. disconnecting first.")):(w("_reconnect: calling _setupStream"),this._setupStream())},de.prototype._setupReconnect=function(){const ie=this;!ie.disconnecting&&!ie.reconnectTimer&&ie.options.reconnectPeriod>0?(this.reconnecting||(w("_setupReconnect :: emit `offline` state"),this.emit("offline"),w("_setupReconnect :: set `reconnecting` to `true`"),this.reconnecting=!0),w("_setupReconnect :: setting reconnectTimer for %d ms",ie.options.reconnectPeriod),ie.reconnectTimer=setInterval(function(){w("reconnectTimer :: reconnect triggered!"),ie._reconnect()},ie.options.reconnectPeriod)):w("_setupReconnect :: doing nothing...")},de.prototype._clearReconnect=function(){w("_clearReconnect : clearing reconnect timer"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)},de.prototype._cleanUp=function(ie,Y){const Ie=arguments[2];if(Y&&(w("_cleanUp :: done callback provided for on stream close"),this.stream.on("close",Y)),w("_cleanUp :: forced? %s",ie),ie)this.options.reconnectPeriod===0&&this.options.clean&&O(this.outgoing),w("_cleanUp :: (%s) :: destroying stream",this.options.clientId),this.stream.destroy();else{const Oe=T({cmd:"disconnect"},Ie);w("_cleanUp :: (%s) :: call _sendPacket with disconnect packet",this.options.clientId),this._sendPacket(Oe,k.bind(null,this.stream.end.bind(this.stream)))}this.disconnecting||(w("_cleanUp :: client not disconnecting. Clearing and resetting reconnect."),this._clearReconnect(),this._setupReconnect()),this.pingTimer!==null&&(w("_cleanUp :: clearing pingTimer"),this.pingTimer.clear(),this.pingTimer=null),Y&&!this.connected&&(w("_cleanUp :: (%s) :: removing stream `done` callback `close` listener",this.options.clientId),this.stream.removeListener("close",Y),Y())},de.prototype._sendPacket=function(ie,Y,Ie){w("_sendPacket :: (%s) ::  start",this.options.clientId),Ie=Ie||Ce,Y=Y||Ce;const Oe=oe(this,ie);if(Oe){Y(Oe);return}if(!this.connected){if(ie.cmd==="auth"){this._shiftPingInterval(),F(this,ie,Y);return}w("_sendPacket :: client not connected. Storing packet offline."),this._storePacket(ie,Y,Ie);return}switch(this._shiftPingInterval(),ie.cmd){case"publish":break;case"pubrel":_e(this,ie,Y,Ie);return;default:F(this,ie,Y);return}switch(ie.qos){case 2:case 1:_e(this,ie,Y,Ie);break;case 0:default:F(this,ie,Y);break}w("_sendPacket :: (%s) ::  end",this.options.clientId)},de.prototype._storePacket=function(ie,Y,Ie){w("_storePacket :: packet: %o",ie),w("_storePacket :: cb? %s",!!Y),Ie=Ie||Ce;let Oe=ie;if(Oe.cmd==="publish"){Oe=S(ie);const kt=L(this,Oe);if(kt)return Y&&Y(kt)}(Oe.qos||0)===0&&this.queueQoSZero||Oe.cmd!=="publish"?this.queue.push({packet:Oe,cb:Y}):Oe.qos>0?(Y=this.outgoing[Oe.messageId]?this.outgoing[Oe.messageId].cb:null,this.outgoingStore.put(Oe,function(kt){if(kt)return Y&&Y(kt);Ie()})):Y&&Y(new Error("No connection to broker"))},de.prototype._setupPingTimer=function(){w("_setupPingTimer :: keepalive %d (seconds)",this.options.keepalive);const ie=this;!this.pingTimer&&this.options.keepalive&&(this.pingResp=!0,this.pingTimer=_(function(){ie._checkPing()},this.options.keepalive*1e3))},de.prototype._shiftPingInterval=function(){this.pingTimer&&this.options.keepalive&&this.options.reschedulePings&&this.pingTimer.reschedule(this.options.keepalive*1e3)},de.prototype._checkPing=function(){w("_checkPing :: checking ping..."),this.pingResp?(w("_checkPing :: ping response received. Clearing flag and sending `pingreq`"),this.pingResp=!1,this._sendPacket({cmd:"pingreq"})):(w("_checkPing :: calling _cleanUp with force true"),this._cleanUp(!0))},de.prototype._handlePingresp=function(){this.pingResp=!0},de.prototype._handleConnack=function(ie){w("_handleConnack");const Y=this.options,Oe=Y.protocolVersion===5?ie.reasonCode:ie.returnCode;if(clearTimeout(this.connackTimer),delete this.topicAliasSend,ie.properties){if(ie.properties.topicAliasMaximum){if(ie.properties.topicAliasMaximum>65535){this.emit("error",new Error("topicAliasMaximum from broker is out of range"));return}ie.properties.topicAliasMaximum>0&&(this.topicAliasSend=new h(ie.properties.topicAliasMaximum))}ie.properties.serverKeepAlive&&Y.keepalive&&(Y.keepalive=ie.properties.serverKeepAlive,this._shiftPingInterval()),ie.properties.maximumPacketSize&&(Y.properties||(Y.properties={}),Y.properties.maximumPacketSize=ie.properties.maximumPacketSize)}if(Oe===0)this.reconnecting=!1,this._onConnect(ie);else if(Oe>0){const kt=new Error("Connection refused: "+z[Oe]);kt.code=Oe,this.emit("error",kt)}},de.prototype._handleAuth=function(ie){const Ie=this.options.protocolVersion,Oe=Ie===5?ie.reasonCode:ie.returnCode;if(Ie!==5){const Dt=new Error("Protocol error: Auth packets are only supported in MQTT 5. Your version:"+Ie);Dt.code=Oe,this.emit("error",Dt);return}const kt=this;this.handleAuth(ie,function(Dt,Fe){if(Dt){kt.emit("error",Dt);return}if(Oe===24)kt.reconnecting=!1,kt._sendPacket(Fe);else{const $e=new Error("Connection refused: "+z[Oe]);Dt.code=Oe,kt.emit("error",$e)}})},de.prototype.handleAuth=function(ie,Y){Y()},de.prototype._handlePublish=function(ie,Y){w("_handlePublish: packet %o",ie),Y=typeof Y<"u"?Y:Ce;let Ie=ie.topic.toString();const Oe=ie.payload,kt=ie.qos,Dt=ie.messageId,Fe=this,$e=this.options,Cn=[0,16,128,131,135,144,145,151,153];if(this.options.protocolVersion===5){let Lt;if(ie.properties&&(Lt=ie.properties.topicAlias),typeof Lt<"u")if(Ie.length===0)if(Lt>0&&Lt<=65535){const In=this.topicAliasRecv.getTopicByAlias(Lt);if(In)Ie=In,w("_handlePublish :: topic complemented by alias. topic: %s - alias: %d",Ie,Lt);else{w("_handlePublish :: unregistered topic alias. alias: %d",Lt),this.emit("error",new Error("Received unregistered Topic Alias"));return}}else{w("_handlePublish :: topic alias out of range. alias: %d",Lt),this.emit("error",new Error("Received Topic Alias is out of range"));return}else if(this.topicAliasRecv.put(Ie,Lt))w("_handlePublish :: registered topic: %s - alias: %d",Ie,Lt);else{w("_handlePublish :: topic alias out of range. alias: %d",Lt),this.emit("error",new Error("Received Topic Alias is out of range"));return}}switch(w("_handlePublish: qos %d",kt),kt){case 2:{$e.customHandleAcks(Ie,Oe,ie,function(Lt,In){if(Lt instanceof Error||(In=Lt,Lt=null),Lt)return Fe.emit("error",Lt);if(Cn.indexOf(In)===-1)return Fe.emit("error",new Error("Wrong reason code for pubrec"));In?Fe._sendPacket({cmd:"pubrec",messageId:Dt,reasonCode:In},Y):Fe.incomingStore.put(ie,function(){Fe._sendPacket({cmd:"pubrec",messageId:Dt},Y)})});break}case 1:{$e.customHandleAcks(Ie,Oe,ie,function(Lt,In){if(Lt instanceof Error||(In=Lt,Lt=null),Lt)return Fe.emit("error",Lt);if(Cn.indexOf(In)===-1)return Fe.emit("error",new Error("Wrong reason code for puback"));In||Fe.emit("message",Ie,Oe,ie),Fe.handleMessage(ie,function(Et){if(Et)return Y&&Y(Et);Fe._sendPacket({cmd:"puback",messageId:Dt,reasonCode:In},Y)})});break}case 0:this.emit("message",Ie,Oe,ie),this.handleMessage(ie,Y);break;default:w("_handlePublish: unknown QoS. Doing nothing.");break}},de.prototype.handleMessage=function(ie,Y){Y()},de.prototype._handleAck=function(ie){const Y=ie.messageId,Ie=ie.cmd;let Oe=null;const kt=this.outgoing[Y]?this.outgoing[Y].cb:null,Dt=this;let Fe;if(!kt){w("_handleAck :: Server sent an ack in error. Ignoring.");return}switch(w("_handleAck :: packet type",Ie),Ie){case"pubcomp":case"puback":{const $e=ie.reasonCode;$e&&$e>0&&$e!==16&&(Fe=new Error("Publish error: "+z[$e]),Fe.code=$e,kt(Fe,ie)),delete this.outgoing[Y],this.outgoingStore.del(ie,kt),this.messageIdProvider.deallocate(Y),this._invokeStoreProcessingQueue();break}case"pubrec":{Oe={cmd:"pubrel",qos:2,messageId:Y};const $e=ie.reasonCode;$e&&$e>0&&$e!==16?(Fe=new Error("Publish error: "+z[$e]),Fe.code=$e,kt(Fe,ie)):this._sendPacket(Oe);break}case"suback":{delete this.outgoing[Y],this.messageIdProvider.deallocate(Y);for(let $e=0;$e<ie.granted.length;$e++)if(ie.granted[$e]&128){const Cn=this.messageIdToTopic[Y];Cn&&Cn.forEach(function(Lt){delete Dt._resubscribeTopics[Lt]})}this._invokeStoreProcessingQueue(),kt(null,ie);break}case"unsuback":{delete this.outgoing[Y],this.messageIdProvider.deallocate(Y),this._invokeStoreProcessingQueue(),kt(null);break}default:Dt.emit("error",new Error("unrecognized packet type"))}this.disconnecting&&Object.keys(this.outgoing).length===0&&this.emit("outgoingEmpty")},de.prototype._handlePubrel=function(ie,Y){w("handling pubrel packet"),Y=typeof Y<"u"?Y:Ce;const Ie=ie.messageId,Oe=this,kt={cmd:"pubcomp",messageId:Ie};Oe.incomingStore.get(ie,function(Dt,Fe){Dt?Oe._sendPacket(kt,Y):(Oe.emit("message",Fe.topic,Fe.payload,Fe),Oe.handleMessage(Fe,function($e){if($e)return Y($e);Oe.incomingStore.del(Fe,Ce),Oe._sendPacket(kt,Y)}))})},de.prototype._handleDisconnect=function(ie){this.emit("disconnect",ie)},de.prototype._nextId=function(){return this.messageIdProvider.allocate()},de.prototype.getLastMessageId=function(){return this.messageIdProvider.getLastAllocated()},de.prototype._resubscribe=function(){w("_resubscribe");const ie=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||this.options.protocolVersion===5&&!this.connackPacket.sessionPresent)&&ie.length>0)if(this.options.resubscribe)if(this.options.protocolVersion===5){w("_resubscribe: protocolVersion 5");for(let Y=0;Y<ie.length;Y++){const Ie={};Ie[ie[Y]]=this._resubscribeTopics[ie[Y]],Ie.resubscribe=!0,this.subscribe(Ie,{properties:Ie[ie[Y]].properties})}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1},de.prototype._onConnect=function(ie){if(this.disconnected){this.emit("connect",ie);return}const Y=this;this.connackPacket=ie,this.messageIdProvider.clear(),this._setupPingTimer(),this.connected=!0;function Ie(){let Oe=Y.outgoingStore.createStream();function kt(){Y._storeProcessing=!1,Y._packetIdsDuringStoreProcessing={}}Y.once("close",Dt),Oe.on("error",function($e){kt(),Y._flushStoreProcessingQueue(),Y.removeListener("close",Dt),Y.emit("error",$e)});function Dt(){Oe.destroy(),Oe=null,Y._flushStoreProcessingQueue(),kt()}function Fe(){if(!Oe)return;Y._storeProcessing=!0;const $e=Oe.read(1);let Cn;if(!$e){Oe.once("readable",Fe);return}if(Y._packetIdsDuringStoreProcessing[$e.messageId]){Fe();return}!Y.disconnecting&&!Y.reconnectTimer?(Cn=Y.outgoing[$e.messageId]?Y.outgoing[$e.messageId].cb:null,Y.outgoing[$e.messageId]={volatile:!1,cb:function(Lt,In){Cn&&Cn(Lt,In),Fe()}},Y._packetIdsDuringStoreProcessing[$e.messageId]=!0,Y.messageIdProvider.register($e.messageId)?Y._sendPacket($e):w("messageId: %d has already used.",$e.messageId)):Oe.destroy&&Oe.destroy()}Oe.on("end",function(){let $e=!0;for(const Cn in Y._packetIdsDuringStoreProcessing)if(!Y._packetIdsDuringStoreProcessing[Cn]){$e=!1;break}$e?(kt(),Y.removeListener("close",Dt),Y._invokeAllStoreProcessingQueue(),Y.emit("connect",ie)):Ie()}),Fe()}Ie()},de.prototype._invokeStoreProcessingQueue=function(){if(this._storeProcessingQueue.length>0){const ie=this._storeProcessingQueue[0];if(ie&&ie.invoke())return this._storeProcessingQueue.shift(),!0}return!1},de.prototype._invokeAllStoreProcessingQueue=function(){for(;this._invokeStoreProcessingQueue(););},de.prototype._flushStoreProcessingQueue=function(){for(const ie of this._storeProcessingQueue)ie.cbStorePut&&ie.cbStorePut(new Error("Connection closed")),ie.callback&&ie.callback(new Error("Connection closed"));this._storeProcessingQueue.splice(0)},o.exports=de}).call(this)}).call(this,i("_process"),typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{"./default-message-id-provider":7,"./store":8,"./topic-alias-recv":9,"./topic-alias-send":10,"./validations":11,_process:50,debug:18,events:22,inherits:24,"mqtt-packet":40,"readable-stream":69,reinterval:70,"rfdc/default":71,xtend:81}],2:[function(i,o,a){const{Buffer:u}=i("buffer"),c=i("readable-stream").Transform,f=i("duplexify");let d,p,h,g=!1;function v(){const b=new c;return b._write=function(T,w,x){d.sendSocketMessage({data:T.buffer,success:function(){x()},fail:function(){x(new Error)}})},b._flush=function(w){d.closeSocket({success:function(){w()}})},b}function y(b){b.hostname||(b.hostname="localhost"),b.path||(b.path="/"),b.wsOptions||(b.wsOptions={})}function A(b,T){const w=b.protocol==="alis"?"wss":"ws";let x=w+"://"+b.hostname+b.path;return b.port&&b.port!==80&&b.port!==443&&(x=w+"://"+b.hostname+":"+b.port+b.path),typeof b.transformWsUrl=="function"&&(x=b.transformWsUrl(x,b,T)),x}function _(){g||(g=!0,d.onSocketOpen(function(){h.setReadable(p),h.setWritable(p),h.emit("connect")}),d.onSocketMessage(function(b){if(typeof b.data=="string"){const T=u.from(b.data,"base64");p.push(T)}else{const T=new FileReader;T.addEventListener("load",function(){let w=T.result;w instanceof ArrayBuffer?w=u.from(w):w=u.from(w,"utf8"),p.push(w)}),T.readAsArrayBuffer(b.data)}}),d.onSocketClose(function(){h.end(),h.destroy()}),d.onSocketError(function(b){h.destroy(b)}))}function S(b,T){if(T.hostname=T.hostname||T.host,!T.hostname)throw new Error("Could not determine host. Specify host manually.");const w=T.protocolId==="MQIsdp"&&T.protocolVersion===3?"mqttv3.1":"mqtt";y(T);const x=A(T,b);return d=T.my,d.connectSocket({url:x,protocols:w}),p=v(),h=f.obj(),_(),h}o.exports=S},{buffer:17,duplexify:20,"readable-stream":69}],3:[function(i,o,a){const u=i("net"),c=i("debug")("mqttjs:tcp");function f(d,p){p.port=p.port||1883,p.hostname=p.hostname||p.host||"localhost";const h=p.port,g=p.hostname;return c("port %d and host %s",h,g),u.createConnection(h,g)}o.exports=f},{debug:18,net:16}],4:[function(i,o,a){const u=i("tls"),c=i("net"),f=i("debug")("mqttjs:tls");function d(p,h){h.port=h.port||8883,h.host=h.hostname||h.host||"localhost",c.isIP(h.host)===0&&(h.servername=h.host),h.rejectUnauthorized=h.rejectUnauthorized!==!1,delete h.path,f("port %d host %s rejectUnauthorized %b",h.port,h.host,h.rejectUnauthorized);const g=u.connect(h);g.on("secureConnect",function(){h.rejectUnauthorized&&!g.authorized?g.emit("error",new Error("TLS not authorized")):g.removeListener("error",v)});function v(y){h.rejectUnauthorized&&p.emit("error",y),g.end()}return g.on("error",v),g}o.exports=d},{debug:18,net:16,tls:16}],5:[function(i,o,a){(function(u){(function(){const{Buffer:c}=i("buffer"),f=i("ws"),d=i("debug")("mqttjs:ws"),p=i("duplexify"),h=i("readable-stream").Transform,g=["rejectUnauthorized","ca","cert","key","pfx","passphrase"],v=typeof u<"u"&&u.title==="browser"||typeof __webpack_require__=="function";function y(x,k){let M=x.protocol+"://"+x.hostname+":"+x.port+x.path;return typeof x.transformWsUrl=="function"&&(M=x.transformWsUrl(M,x,k)),M}function A(x){const k=x;return x.hostname||(k.hostname="localhost"),x.port||(x.protocol==="wss"?k.port=443:k.port=80),x.path||(k.path="/"),x.wsOptions||(k.wsOptions={}),!v&&x.protocol==="wss"&&g.forEach(function(M){Object.prototype.hasOwnProperty.call(x,M)&&!Object.prototype.hasOwnProperty.call(x.wsOptions,M)&&(k.wsOptions[M]=x[M])}),k}function _(x){const k=A(x);if(k.hostname||(k.hostname=k.host),!k.hostname){if(typeof document>"u")throw new Error("Could not determine host. Specify host manually.");const M=new URL(document.URL);k.hostname=M.hostname,k.port||(k.port=M.port)}return k.objectMode===void 0&&(k.objectMode=!(k.binary===!0||k.binary===void 0)),k}function S(x,k,M){d("createWebSocket"),d("protocol: "+M.protocolId+" "+M.protocolVersion);const D=M.protocolId==="MQIsdp"&&M.protocolVersion===3?"mqttv3.1":"mqtt";return d("creating new Websocket for url: "+k+" and protocol: "+D),new f(k,[D],M.wsOptions)}function b(x,k){const M=k.protocolId==="MQIsdp"&&k.protocolVersion===3?"mqttv3.1":"mqtt",D=y(k,x),z=new WebSocket(D,[M]);return z.binaryType="arraybuffer",z}function T(x,k){d("streamBuilder");const M=A(k),D=y(M,x),z=S(x,D,M),j=f.createWebSocketStream(z,M.wsOptions);return j.url=D,z.on("close",()=>{j.destroy()}),j}function w(x,k){d("browserStreamBuilder");let M;const z=_(k).browserBufferSize||1024*512,j=k.browserBufferTimeout||1e3,oe=!k.objectMode,L=b(x,k),F=ue(k,Ie,Oe);k.objectMode||(F._writev=Y),F.on("close",()=>{L.close()});const O=typeof L.addEventListener<"u";L.readyState===L.OPEN?M=F:(M=M=p(void 0,void 0,k),k.objectMode||(M._writev=Y),O?L.addEventListener("open",_e):L.onopen=_e),M.socket=L,O?(L.addEventListener("close",Ce),L.addEventListener("error",de),L.addEventListener("message",ie)):(L.onclose=Ce,L.onerror=de,L.onmessage=ie);function ue(kt,Dt,Fe){const $e=new h({objectModeMode:kt.objectMode});return $e._write=Dt,$e._flush=Fe,$e}function _e(){M.setReadable(F),M.setWritable(F),M.emit("connect")}function Ce(){M.end(),M.destroy()}function de(kt){M.destroy(kt)}function ie(kt){let Dt=kt.data;Dt instanceof ArrayBuffer?Dt=c.from(Dt):Dt=c.from(Dt,"utf8"),F.push(Dt)}function Y(kt,Dt){const Fe=new Array(kt.length);for(let $e=0;$e<kt.length;$e++)typeof kt[$e].chunk=="string"?Fe[$e]=c.from(kt[$e],"utf8"):Fe[$e]=kt[$e].chunk;this._write(c.concat(Fe),"binary",Dt)}function Ie(kt,Dt,Fe){L.bufferedAmount>z&&setTimeout(Ie,j,kt,Dt,Fe),oe&&typeof kt=="string"&&(kt=c.from(kt,"utf8"));try{L.send(kt)}catch($e){return Fe($e)}Fe()}function Oe(kt){L.close(),kt()}return M}v?o.exports=w:o.exports=T}).call(this)}).call(this,i("_process"))},{_process:50,buffer:17,debug:18,duplexify:20,"readable-stream":69,ws:80}],6:[function(i,o,a){const{Buffer:u}=i("buffer"),c=i("readable-stream").Transform,f=i("duplexify");let d,p,h;function g(){const S=new c;return S._write=function(b,T,w){d.send({data:b.buffer,success:function(){w()},fail:function(x){w(new Error(x))}})},S._flush=function(T){d.close({success:function(){T()}})},S}function v(S){S.hostname||(S.hostname="localhost"),S.path||(S.path="/"),S.wsOptions||(S.wsOptions={})}function y(S,b){const T=S.protocol==="wxs"?"wss":"ws";let w=T+"://"+S.hostname+S.path;return S.port&&S.port!==80&&S.port!==443&&(w=T+"://"+S.hostname+":"+S.port+S.path),typeof S.transformWsUrl=="function"&&(w=S.transformWsUrl(w,S,b)),w}function A(){d.onOpen(function(){h.setReadable(p),h.setWritable(p),h.emit("connect")}),d.onMessage(function(S){let b=S.data;b instanceof ArrayBuffer?b=u.from(b):b=u.from(b,"utf8"),p.push(b)}),d.onClose(function(){h.end(),h.destroy()}),d.onError(function(S){h.destroy(new Error(S.errMsg))})}function _(S,b){if(b.hostname=b.hostname||b.host,!b.hostname)throw new Error("Could not determine host. Specify host manually.");const T=b.protocolId==="MQIsdp"&&b.protocolVersion===3?"mqttv3.1":"mqtt";v(b);const w=y(b,S);d=wx.connectSocket({url:w,protocols:[T]}),p=g(),h=f.obj(),h._destroy=function(k,M){d.close({success:function(){M&&M(k)}})};const x=h.destroy;return h.destroy=function(){h.destroy=x;const k=this;setTimeout(function(){d.close({fail:function(){k._destroy(new Error)}})},0)}.bind(h),A(),h}o.exports=_},{buffer:17,duplexify:20,"readable-stream":69}],7:[function(i,o,a){function u(){if(!(this instanceof u))return new u;this.nextId=Math.max(1,Math.floor(Math.random()*65535))}u.prototype.allocate=function(){const c=this.nextId++;return this.nextId===65536&&(this.nextId=1),c},u.prototype.getLastAllocated=function(){return this.nextId===1?65535:this.nextId-1},u.prototype.register=function(c){return!0},u.prototype.deallocate=function(c){},u.prototype.clear=function(){},o.exports=u},{}],8:[function(i,o,a){const u=i("xtend"),c=i("readable-stream").Readable,f={objectMode:!0},d={clean:!0};function p(h){if(!(this instanceof p))return new p(h);this.options=h||{},this.options=u(d,h),this._inflights=new Map}p.prototype.put=function(h,g){return this._inflights.set(h.messageId,h),g&&g(),this},p.prototype.createStream=function(){const h=new c(f),g=[];let v=!1,y=0;return this._inflights.forEach(function(A,_){g.push(A)}),h._read=function(){!v&&y<g.length?this.push(g[y++]):this.push(null)},h.destroy=function(){if(v)return;const A=this;v=!0,setTimeout(function(){A.emit("close")},0)},h},p.prototype.del=function(h,g){return h=this._inflights.get(h.messageId),h?(this._inflights.delete(h.messageId),g(null,h)):g&&g(new Error("missing packet")),this},p.prototype.get=function(h,g){return h=this._inflights.get(h.messageId),h?g(null,h):g&&g(new Error("missing packet")),this},p.prototype.close=function(h){this.options.clean&&(this._inflights=null),h&&h()},o.exports=p},{"readable-stream":69,xtend:81}],9:[function(i,o,a){function u(c){if(!(this instanceof u))return new u(c);this.aliasToTopic={},this.max=c}u.prototype.put=function(c,f){return f===0||f>this.max?!1:(this.aliasToTopic[f]=c,this.length=Object.keys(this.aliasToTopic).length,!0)},u.prototype.getTopicByAlias=function(c){return this.aliasToTopic[c]},u.prototype.clear=function(){this.aliasToTopic={}},o.exports=u},{}],10:[function(i,o,a){const u=i("lru-cache"),c=i("number-allocator").NumberAllocator;function f(d){if(!(this instanceof f))return new f(d);d>0&&(this.aliasToTopic=new u({max:d}),this.topicToAlias={},this.numberAllocator=new c(1,d),this.max=d,this.length=0)}f.prototype.put=function(d,p){if(p===0||p>this.max)return!1;const h=this.aliasToTopic.get(p);return h&&delete this.topicToAlias[h],this.aliasToTopic.set(p,d),this.topicToAlias[d]=p,this.numberAllocator.use(p),this.length=this.aliasToTopic.length,!0},f.prototype.getTopicByAlias=function(d){return this.aliasToTopic.get(d)},f.prototype.getAliasByTopic=function(d){const p=this.topicToAlias[d];return typeof p<"u"&&this.aliasToTopic.get(p),p},f.prototype.clear=function(){this.aliasToTopic.reset(),this.topicToAlias={},this.numberAllocator.clear(),this.length=0},f.prototype.getLruAlias=function(){const d=this.numberAllocator.firstVacant();return d||this.aliasToTopic.keys()[this.aliasToTopic.length-1]},o.exports=f},{"lru-cache":37,"number-allocator":46}],11:[function(i,o,a){function u(f){const d=f.split("/");for(let p=0;p<d.length;p++)if(d[p]!=="+"){if(d[p]==="#")return p===d.length-1;if(d[p].indexOf("+")!==-1||d[p].indexOf("#")!==-1)return!1}return!0}function c(f){if(f.length===0)return"empty_topic_list";for(let d=0;d<f.length;d++)if(!u(f[d]))return f[d];return null}o.exports={validateTopics:c}},{}],12:[function(i,o,a){(function(u){(function(){const c=i("../client"),f=i("../store"),d=i("url"),p=i("xtend"),h=i("debug")("mqttjs"),g={};typeof u<"u"&&u.title!=="browser"||typeof __webpack_require__!="function"?(g.mqtt=i("./tcp"),g.tcp=i("./tcp"),g.ssl=i("./tls"),g.tls=i("./tls"),g.mqtts=i("./tls")):(g.wx=i("./wx"),g.wxs=i("./wx"),g.ali=i("./ali"),g.alis=i("./ali")),g.ws=i("./ws"),g.wss=i("./ws");function v(A){let _;A.auth&&(_=A.auth.match(/^(.+):(.+)$/),_?(A.username=_[1],A.password=_[2]):A.username=A.auth)}function y(A,_){if(h("connecting to an MQTT broker..."),typeof A=="object"&&!_&&(_=A,A=null),_=_||{},A){const T=d.parse(A,!0);if(T.port!=null&&(T.port=Number(T.port)),_=p(T,_),_.protocol===null)throw new Error("Missing protocol");_.protocol=_.protocol.replace(/:$/,"")}if(v(_),_.query&&typeof _.query.clientId=="string"&&(_.clientId=_.query.clientId),_.cert&&_.key)if(_.protocol){if(["mqtts","wss","wxs","alis"].indexOf(_.protocol)===-1)switch(_.protocol){case"mqtt":_.protocol="mqtts";break;case"ws":_.protocol="wss";break;case"wx":_.protocol="wxs";break;case"ali":_.protocol="alis";break;default:throw new Error('Unknown protocol for secure connection: "'+_.protocol+'"!')}}else throw new Error("Missing secure protocol key");if(!g[_.protocol]){const T=["mqtts","wss"].indexOf(_.protocol)!==-1;_.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter(function(w,x){return T&&x%2===0?!1:typeof g[w]=="function"})[0]}if(_.clean===!1&&!_.clientId)throw new Error("Missing clientId for unclean clients");_.protocol&&(_.defaultProtocol=_.protocol);function S(T){return _.servers&&((!T._reconnectCount||T._reconnectCount===_.servers.length)&&(T._reconnectCount=0),_.host=_.servers[T._reconnectCount].host,_.port=_.servers[T._reconnectCount].port,_.protocol=_.servers[T._reconnectCount].protocol?_.servers[T._reconnectCount].protocol:_.defaultProtocol,_.hostname=_.host,T._reconnectCount++),h("calling streambuilder for",_.protocol),g[_.protocol](T,_)}const b=new c(S,_);return b.on("error",function(){}),b}o.exports=y,o.exports.connect=y,o.exports.MqttClient=c,o.exports.Store=f}).call(this)}).call(this,i("_process"))},{"../client":1,"../store":8,"./ali":2,"./tcp":3,"./tls":4,"./ws":5,"./wx":6,_process:50,debug:18,url:76,xtend:81}],13:[function(i,o,a){a.byteLength=v,a.toByteArray=A,a.fromByteArray=b;for(var u=[],c=[],f=typeof Uint8Array<"u"?Uint8Array:Array,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=0,h=d.length;p<h;++p)u[p]=d[p],c[d.charCodeAt(p)]=p;c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63;function g(T){var w=T.length;if(w%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var x=T.indexOf("=");x===-1&&(x=w);var k=x===w?0:4-x%4;return[x,k]}function v(T){var w=g(T),x=w[0],k=w[1];return(x+k)*3/4-k}function y(T,w,x){return(w+x)*3/4-x}function A(T){var w,x=g(T),k=x[0],M=x[1],D=new f(y(T,k,M)),z=0,j=M>0?k-4:k,oe;for(oe=0;oe<j;oe+=4)w=c[T.charCodeAt(oe)]<<18|c[T.charCodeAt(oe+1)]<<12|c[T.charCodeAt(oe+2)]<<6|c[T.charCodeAt(oe+3)],D[z++]=w>>16&255,D[z++]=w>>8&255,D[z++]=w&255;return M===2&&(w=c[T.charCodeAt(oe)]<<2|c[T.charCodeAt(oe+1)]>>4,D[z++]=w&255),M===1&&(w=c[T.charCodeAt(oe)]<<10|c[T.charCodeAt(oe+1)]<<4|c[T.charCodeAt(oe+2)]>>2,D[z++]=w>>8&255,D[z++]=w&255),D}function _(T){return u[T>>18&63]+u[T>>12&63]+u[T>>6&63]+u[T&63]}function S(T,w,x){for(var k,M=[],D=w;D<x;D+=3)k=(T[D]<<16&16711680)+(T[D+1]<<8&65280)+(T[D+2]&255),M.push(_(k));return M.join("")}function b(T){for(var w,x=T.length,k=x%3,M=[],D=16383,z=0,j=x-k;z<j;z+=D)M.push(S(T,z,z+D>j?j:z+D));return k===1?(w=T[x-1],M.push(u[w>>2]+u[w<<4&63]+"==")):k===2&&(w=(T[x-2]<<8)+T[x-1],M.push(u[w>>10]+u[w>>4&63]+u[w<<2&63]+"=")),M.join("")}},{}],14:[function(i,o,a){const{Buffer:u}=i("buffer"),c=Symbol.for("BufferList");function f(d){if(!(this instanceof f))return new f(d);f._init.call(this,d)}f._init=function(p){Object.defineProperty(this,c,{value:!0}),this._bufs=[],this.length=0,p&&this.append(p)},f.prototype._new=function(p){return new f(p)},f.prototype._offset=function(p){if(p===0)return[0,0];let h=0;for(let g=0;g<this._bufs.length;g++){const v=h+this._bufs[g].length;if(p<v||g===this._bufs.length-1)return[g,p-h];h=v}},f.prototype._reverseOffset=function(d){const p=d[0];let h=d[1];for(let g=0;g<p;g++)h+=this._bufs[g].length;return h},f.prototype.get=function(p){if(p>this.length||p<0)return;const h=this._offset(p);return this._bufs[h[0]][h[1]]},f.prototype.slice=function(p,h){return typeof p=="number"&&p<0&&(p+=this.length),typeof h=="number"&&h<0&&(h+=this.length),this.copy(null,0,p,h)},f.prototype.copy=function(p,h,g,v){if((typeof g!="number"||g<0)&&(g=0),(typeof v!="number"||v>this.length)&&(v=this.length),g>=this.length||v<=0)return p||u.alloc(0);const y=!!p,A=this._offset(g),_=v-g;let S=_,b=y&&h||0,T=A[1];if(g===0&&v===this.length){if(!y)return this._bufs.length===1?this._bufs[0]:u.concat(this._bufs,this.length);for(let w=0;w<this._bufs.length;w++)this._bufs[w].copy(p,b),b+=this._bufs[w].length;return p}if(S<=this._bufs[A[0]].length-T)return y?this._bufs[A[0]].copy(p,h,T,T+S):this._bufs[A[0]].slice(T,T+S);y||(p=u.allocUnsafe(_));for(let w=A[0];w<this._bufs.length;w++){const x=this._bufs[w].length-T;if(S>x)this._bufs[w].copy(p,b,T),b+=x;else{this._bufs[w].copy(p,b,T,T+S),b+=x;break}S-=x,T&&(T=0)}return p.length>b?p.slice(0,b):p},f.prototype.shallowSlice=function(p,h){if(p=p||0,h=typeof h!="number"?this.length:h,p<0&&(p+=this.length),h<0&&(h+=this.length),p===h)return this._new();const g=this._offset(p),v=this._offset(h),y=this._bufs.slice(g[0],v[0]+1);return v[1]===0?y.pop():y[y.length-1]=y[y.length-1].slice(0,v[1]),g[1]!==0&&(y[0]=y[0].slice(g[1])),this._new(y)},f.prototype.toString=function(p,h,g){return this.slice(h,g).toString(p)},f.prototype.consume=function(p){if(p=Math.trunc(p),Number.isNaN(p)||p<=0)return this;for(;this._bufs.length;)if(p>=this._bufs[0].length)p-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(p),this.length-=p;break}return this},f.prototype.duplicate=function(){const p=this._new();for(let h=0;h<this._bufs.length;h++)p.append(this._bufs[h]);return p},f.prototype.append=function(p){if(p==null)return this;if(p.buffer)this._appendBuffer(u.from(p.buffer,p.byteOffset,p.byteLength));else if(Array.isArray(p))for(let h=0;h<p.length;h++)this.append(p[h]);else if(this._isBufferList(p))for(let h=0;h<p._bufs.length;h++)this.append(p._bufs[h]);else typeof p=="number"&&(p=p.toString()),this._appendBuffer(u.from(p));return this},f.prototype._appendBuffer=function(p){this._bufs.push(p),this.length+=p.length},f.prototype.indexOf=function(d,p,h){if(h===void 0&&typeof p=="string"&&(h=p,p=void 0),typeof d=="function"||Array.isArray(d))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof d=="number"?d=u.from([d]):typeof d=="string"?d=u.from(d,h):this._isBufferList(d)?d=d.slice():Array.isArray(d.buffer)?d=u.from(d.buffer,d.byteOffset,d.byteLength):u.isBuffer(d)||(d=u.from(d)),p=Number(p||0),isNaN(p)&&(p=0),p<0&&(p=this.length+p),p<0&&(p=0),d.length===0)return p>this.length?this.length:p;const g=this._offset(p);let v=g[0],y=g[1];for(;v<this._bufs.length;v++){const A=this._bufs[v];for(;y<A.length;)if(A.length-y>=d.length){const S=A.indexOf(d,y);if(S!==-1)return this._reverseOffset([v,S]);y=A.length-d.length+1}else{const S=this._reverseOffset([v,y]);if(this._match(S,d))return S;y++}y=0}return-1},f.prototype._match=function(d,p){if(this.length-d<p.length)return!1;for(let h=0;h<p.length;h++)if(this.get(d+h)!==p[h])return!1;return!0},function(){const d={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(const p in d)(function(h){d[h]===null?f.prototype[h]=function(g,v){return this.slice(g,g+v)[h](0,v)}:f.prototype[h]=function(g=0){return this.slice(g,g+d[h])[h](0)}})(p)}(),f.prototype._isBufferList=function(p){return p instanceof f||f.isBufferList(p)},f.isBufferList=function(p){return p!=null&&p[c]},o.exports=f},{buffer:17}],15:[function(i,o,a){const u=i("readable-stream").Duplex,c=i("inherits"),f=i("./BufferList");function d(p){if(!(this instanceof d))return new d(p);if(typeof p=="function"){this._callback=p;const h=function(v){this._callback&&(this._callback(v),this._callback=null)}.bind(this);this.on("pipe",function(v){v.on("error",h)}),this.on("unpipe",function(v){v.removeListener("error",h)}),p=null}f._init.call(this,p),u.call(this)}c(d,u),Object.assign(d.prototype,f.prototype),d.prototype._new=function(h){return new d(h)},d.prototype._write=function(h,g,v){this._appendBuffer(h),typeof v=="function"&&v()},d.prototype._read=function(h){if(!this.length)return this.push(null);h=Math.min(h,this.length),this.push(this.slice(0,h)),this.consume(h)},d.prototype.end=function(h){u.prototype.end.call(this,h),this._callback&&(this._callback(null,this.slice()),this._callback=null)},d.prototype._destroy=function(h,g){this._bufs.length=0,this.length=0,g(h)},d.prototype._isBufferList=function(h){return h instanceof d||h instanceof f||d.isBufferList(h)},d.isBufferList=f.isBufferList,o.exports=d,o.exports.BufferListStream=d,o.exports.BufferList=f},{"./BufferList":14,inherits:24,"readable-stream":69}],16:[function(i,o,a){},{}],17:[function(i,o,a){(function(u){(function(){var c=i("base64-js"),f=i("ieee754");a.Buffer=g,a.SlowBuffer=k,a.INSPECT_MAX_BYTES=50;var d=2147483647;a.kMaxLength=d,g.TYPED_ARRAY_SUPPORT=p(),!g.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function p(){try{var re=new Uint8Array(1);return re.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},re.foo()===42}catch{return!1}}Object.defineProperty(g.prototype,"parent",{enumerable:!0,get:function(){if(g.isBuffer(this))return this.buffer}}),Object.defineProperty(g.prototype,"offset",{enumerable:!0,get:function(){if(g.isBuffer(this))return this.byteOffset}});function h(re){if(re>d)throw new RangeError('The value "'+re+'" is invalid for option "size"');var V=new Uint8Array(re);return V.__proto__=g.prototype,V}function g(re,V,$){if(typeof re=="number"){if(typeof V=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return _(re)}return v(re,V,$)}typeof Symbol<"u"&&Symbol.species!=null&&g[Symbol.species]===g&&Object.defineProperty(g,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),g.poolSize=8192;function v(re,V,$){if(typeof re=="string")return S(re,V);if(ArrayBuffer.isView(re))return b(re);if(re==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof re);if(ae(re,ArrayBuffer)||re&&ae(re.buffer,ArrayBuffer))return T(re,V,$);if(typeof re=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var he=re.valueOf&&re.valueOf();if(he!=null&&he!==re)return g.from(he,V,$);var Ue=w(re);if(Ue)return Ue;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof re[Symbol.toPrimitive]=="function")return g.from(re[Symbol.toPrimitive]("string"),V,$);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof re)}g.from=function(re,V,$){return v(re,V,$)},g.prototype.__proto__=Uint8Array.prototype,g.__proto__=Uint8Array;function y(re){if(typeof re!="number")throw new TypeError('"size" argument must be of type number');if(re<0)throw new RangeError('The value "'+re+'" is invalid for option "size"')}function A(re,V,$){return y(re),re<=0?h(re):V!==void 0?typeof $=="string"?h(re).fill(V,$):h(re).fill(V):h(re)}g.alloc=function(re,V,$){return A(re,V,$)};function _(re){return y(re),h(re<0?0:x(re)|0)}g.allocUnsafe=function(re){return _(re)},g.allocUnsafeSlow=function(re){return _(re)};function S(re,V){if((typeof V!="string"||V==="")&&(V="utf8"),!g.isEncoding(V))throw new TypeError("Unknown encoding: "+V);var $=M(re,V)|0,he=h($),Ue=he.write(re,V);return Ue!==$&&(he=he.slice(0,Ue)),he}function b(re){for(var V=re.length<0?0:x(re.length)|0,$=h(V),he=0;he<V;he+=1)$[he]=re[he]&255;return $}function T(re,V,$){if(V<0||re.byteLength<V)throw new RangeError('"offset" is outside of buffer bounds');if(re.byteLength<V+($||0))throw new RangeError('"length" is outside of buffer bounds');var he;return V===void 0&&$===void 0?he=new Uint8Array(re):$===void 0?he=new Uint8Array(re,V):he=new Uint8Array(re,V,$),he.__proto__=g.prototype,he}function w(re){if(g.isBuffer(re)){var V=x(re.length)|0,$=h(V);return $.length===0||re.copy($,0,0,V),$}if(re.length!==void 0)return typeof re.length!="number"||le(re.length)?h(0):b(re);if(re.type==="Buffer"&&Array.isArray(re.data))return b(re.data)}function x(re){if(re>=d)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+d.toString(16)+" bytes");return re|0}function k(re){return+re!=re&&(re=0),g.alloc(+re)}g.isBuffer=function(V){return V!=null&&V._isBuffer===!0&&V!==g.prototype},g.compare=function(V,$){if(ae(V,Uint8Array)&&(V=g.from(V,V.offset,V.byteLength)),ae($,Uint8Array)&&($=g.from($,$.offset,$.byteLength)),!g.isBuffer(V)||!g.isBuffer($))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(V===$)return 0;for(var he=V.length,Ue=$.length,qe=0,jt=Math.min(he,Ue);qe<jt;++qe)if(V[qe]!==$[qe]){he=V[qe],Ue=$[qe];break}return he<Ue?-1:Ue<he?1:0},g.isEncoding=function(V){switch(String(V).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},g.concat=function(V,$){if(!Array.isArray(V))throw new TypeError('"list" argument must be an Array of Buffers');if(V.length===0)return g.alloc(0);var he;if($===void 0)for($=0,he=0;he<V.length;++he)$+=V[he].length;var Ue=g.allocUnsafe($),qe=0;for(he=0;he<V.length;++he){var jt=V[he];if(ae(jt,Uint8Array)&&(jt=g.from(jt)),!g.isBuffer(jt))throw new TypeError('"list" argument must be an Array of Buffers');jt.copy(Ue,qe),qe+=jt.length}return Ue};function M(re,V){if(g.isBuffer(re))return re.length;if(ArrayBuffer.isView(re)||ae(re,ArrayBuffer))return re.byteLength;if(typeof re!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof re);var $=re.length,he=arguments.length>2&&arguments[2]===!0;if(!he&&$===0)return 0;for(var Ue=!1;;)switch(V){case"ascii":case"latin1":case"binary":return $;case"utf8":case"utf-8":return Ve(re).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $*2;case"hex":return $>>>1;case"base64":return Pt(re).length;default:if(Ue)return he?-1:Ve(re).length;V=(""+V).toLowerCase(),Ue=!0}}g.byteLength=M;function D(re,V,$){var he=!1;if((V===void 0||V<0)&&(V=0),V>this.length||(($===void 0||$>this.length)&&($=this.length),$<=0)||($>>>=0,V>>>=0,$<=V))return"";for(re||(re="utf8");;)switch(re){case"hex":return Dt(this,V,$);case"utf8":case"utf-8":return ie(this,V,$);case"ascii":return Oe(this,V,$);case"latin1":case"binary":return kt(this,V,$);case"base64":return de(this,V,$);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Fe(this,V,$);default:if(he)throw new TypeError("Unknown encoding: "+re);re=(re+"").toLowerCase(),he=!0}}g.prototype._isBuffer=!0;function z(re,V,$){var he=re[V];re[V]=re[$],re[$]=he}g.prototype.swap16=function(){var V=this.length;if(V%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var $=0;$<V;$+=2)z(this,$,$+1);return this},g.prototype.swap32=function(){var V=this.length;if(V%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var $=0;$<V;$+=4)z(this,$,$+3),z(this,$+1,$+2);return this},g.prototype.swap64=function(){var V=this.length;if(V%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var $=0;$<V;$+=8)z(this,$,$+7),z(this,$+1,$+6),z(this,$+2,$+5),z(this,$+3,$+4);return this},g.prototype.toString=function(){var V=this.length;return V===0?"":arguments.length===0?ie(this,0,V):D.apply(this,arguments)},g.prototype.toLocaleString=g.prototype.toString,g.prototype.equals=function(V){if(!g.isBuffer(V))throw new TypeError("Argument must be a Buffer");return this===V?!0:g.compare(this,V)===0},g.prototype.inspect=function(){var V="",$=a.INSPECT_MAX_BYTES;return V=this.toString("hex",0,$).replace(/(.{2})/g,"$1 ").trim(),this.length>$&&(V+=" ... "),"<Buffer "+V+">"},g.prototype.compare=function(V,$,he,Ue,qe){if(ae(V,Uint8Array)&&(V=g.from(V,V.offset,V.byteLength)),!g.isBuffer(V))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof V);if($===void 0&&($=0),he===void 0&&(he=V?V.length:0),Ue===void 0&&(Ue=0),qe===void 0&&(qe=this.length),$<0||he>V.length||Ue<0||qe>this.length)throw new RangeError("out of range index");if(Ue>=qe&&$>=he)return 0;if(Ue>=qe)return-1;if($>=he)return 1;if($>>>=0,he>>>=0,Ue>>>=0,qe>>>=0,this===V)return 0;for(var jt=qe-Ue,An=he-$,wn=Math.min(jt,An),En=this.slice(Ue,qe),xn=V.slice($,he),Tn=0;Tn<wn;++Tn)if(En[Tn]!==xn[Tn]){jt=En[Tn],An=xn[Tn];break}return jt<An?-1:An<jt?1:0};function j(re,V,$,he,Ue){if(re.length===0)return-1;if(typeof $=="string"?(he=$,$=0):$>2147483647?$=2147483647:$<-2147483648&&($=-2147483648),$=+$,le($)&&($=Ue?0:re.length-1),$<0&&($=re.length+$),$>=re.length){if(Ue)return-1;$=re.length-1}else if($<0)if(Ue)$=0;else return-1;if(typeof V=="string"&&(V=g.from(V,he)),g.isBuffer(V))return V.length===0?-1:oe(re,V,$,he,Ue);if(typeof V=="number")return V=V&255,typeof Uint8Array.prototype.indexOf=="function"?Ue?Uint8Array.prototype.indexOf.call(re,V,$):Uint8Array.prototype.lastIndexOf.call(re,V,$):oe(re,[V],$,he,Ue);throw new TypeError("val must be string, number or Buffer")}function oe(re,V,$,he,Ue){var qe=1,jt=re.length,An=V.length;if(he!==void 0&&(he=String(he).toLowerCase(),he==="ucs2"||he==="ucs-2"||he==="utf16le"||he==="utf-16le")){if(re.length<2||V.length<2)return-1;qe=2,jt/=2,An/=2,$/=2}function wn(kn,Rn){return qe===1?kn[Rn]:kn.readUInt16BE(Rn*qe)}var En;if(Ue){var xn=-1;for(En=$;En<jt;En++)if(wn(re,En)===wn(V,xn===-1?0:En-xn)){if(xn===-1&&(xn=En),En-xn+1===An)return xn*qe}else xn!==-1&&(En-=En-xn),xn=-1}else for($+An>jt&&($=jt-An),En=$;En>=0;En--){for(var Tn=!0,Pn=0;Pn<An;Pn++)if(wn(re,En+Pn)!==wn(V,Pn)){Tn=!1;break}if(Tn)return En}return-1}g.prototype.includes=function(V,$,he){return this.indexOf(V,$,he)!==-1},g.prototype.indexOf=function(V,$,he){return j(this,V,$,he,!0)},g.prototype.lastIndexOf=function(V,$,he){return j(this,V,$,he,!1)};function L(re,V,$,he){$=Number($)||0;var Ue=re.length-$;he?(he=Number(he),he>Ue&&(he=Ue)):he=Ue;var qe=V.length;he>qe/2&&(he=qe/2);for(var jt=0;jt<he;++jt){var An=parseInt(V.substr(jt*2,2),16);if(le(An))return jt;re[$+jt]=An}return jt}function F(re,V,$,he){return hn(Ve(V,re.length-$),re,$,he)}function O(re,V,$,he){return hn(xe(V),re,$,he)}function ue(re,V,$,he){return O(re,V,$,he)}function _e(re,V,$,he){return hn(Pt(V),re,$,he)}function Ce(re,V,$,he){return hn(ze(V,re.length-$),re,$,he)}g.prototype.write=function(V,$,he,Ue){if($===void 0)Ue="utf8",he=this.length,$=0;else if(he===void 0&&typeof $=="string")Ue=$,he=this.length,$=0;else if(isFinite($))$=$>>>0,isFinite(he)?(he=he>>>0,Ue===void 0&&(Ue="utf8")):(Ue=he,he=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var qe=this.length-$;if((he===void 0||he>qe)&&(he=qe),V.length>0&&(he<0||$<0)||$>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ue||(Ue="utf8");for(var jt=!1;;)switch(Ue){case"hex":return L(this,V,$,he);case"utf8":case"utf-8":return F(this,V,$,he);case"ascii":return O(this,V,$,he);case"latin1":case"binary":return ue(this,V,$,he);case"base64":return _e(this,V,$,he);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ce(this,V,$,he);default:if(jt)throw new TypeError("Unknown encoding: "+Ue);Ue=(""+Ue).toLowerCase(),jt=!0}},g.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function de(re,V,$){return V===0&&$===re.length?c.fromByteArray(re):c.fromByteArray(re.slice(V,$))}function ie(re,V,$){$=Math.min(re.length,$);for(var he=[],Ue=V;Ue<$;){var qe=re[Ue],jt=null,An=qe>239?4:qe>223?3:qe>191?2:1;if(Ue+An<=$){var wn,En,xn,Tn;switch(An){case 1:qe<128&&(jt=qe);break;case 2:wn=re[Ue+1],(wn&192)===128&&(Tn=(qe&31)<<6|wn&63,Tn>127&&(jt=Tn));break;case 3:wn=re[Ue+1],En=re[Ue+2],(wn&192)===128&&(En&192)===128&&(Tn=(qe&15)<<12|(wn&63)<<6|En&63,Tn>2047&&(Tn<55296||Tn>57343)&&(jt=Tn));break;case 4:wn=re[Ue+1],En=re[Ue+2],xn=re[Ue+3],(wn&192)===128&&(En&192)===128&&(xn&192)===128&&(Tn=(qe&15)<<18|(wn&63)<<12|(En&63)<<6|xn&63,Tn>65535&&Tn<1114112&&(jt=Tn))}}jt===null?(jt=65533,An=1):jt>65535&&(jt-=65536,he.push(jt>>>10&1023|55296),jt=56320|jt&1023),he.push(jt),Ue+=An}return Ie(he)}var Y=4096;function Ie(re){var V=re.length;if(V<=Y)return String.fromCharCode.apply(String,re);for(var $="",he=0;he<V;)$+=String.fromCharCode.apply(String,re.slice(he,he+=Y));return $}function Oe(re,V,$){var he="";$=Math.min(re.length,$);for(var Ue=V;Ue<$;++Ue)he+=String.fromCharCode(re[Ue]&127);return he}function kt(re,V,$){var he="";$=Math.min(re.length,$);for(var Ue=V;Ue<$;++Ue)he+=String.fromCharCode(re[Ue]);return he}function Dt(re,V,$){var he=re.length;(!V||V<0)&&(V=0),(!$||$<0||$>he)&&($=he);for(var Ue="",qe=V;qe<$;++qe)Ue+=At(re[qe]);return Ue}function Fe(re,V,$){for(var he=re.slice(V,$),Ue="",qe=0;qe<he.length;qe+=2)Ue+=String.fromCharCode(he[qe]+he[qe+1]*256);return Ue}g.prototype.slice=function(V,$){var he=this.length;V=~~V,$=$===void 0?he:~~$,V<0?(V+=he,V<0&&(V=0)):V>he&&(V=he),$<0?($+=he,$<0&&($=0)):$>he&&($=he),$<V&&($=V);var Ue=this.subarray(V,$);return Ue.__proto__=g.prototype,Ue};function $e(re,V,$){if(re%1!==0||re<0)throw new RangeError("offset is not uint");if(re+V>$)throw new RangeError("Trying to access beyond buffer length")}g.prototype.readUIntLE=function(V,$,he){V=V>>>0,$=$>>>0,he||$e(V,$,this.length);for(var Ue=this[V],qe=1,jt=0;++jt<$&&(qe*=256);)Ue+=this[V+jt]*qe;return Ue},g.prototype.readUIntBE=function(V,$,he){V=V>>>0,$=$>>>0,he||$e(V,$,this.length);for(var Ue=this[V+--$],qe=1;$>0&&(qe*=256);)Ue+=this[V+--$]*qe;return Ue},g.prototype.readUInt8=function(V,$){return V=V>>>0,$||$e(V,1,this.length),this[V]},g.prototype.readUInt16LE=function(V,$){return V=V>>>0,$||$e(V,2,this.length),this[V]|this[V+1]<<8},g.prototype.readUInt16BE=function(V,$){return V=V>>>0,$||$e(V,2,this.length),this[V]<<8|this[V+1]},g.prototype.readUInt32LE=function(V,$){return V=V>>>0,$||$e(V,4,this.length),(this[V]|this[V+1]<<8|this[V+2]<<16)+this[V+3]*16777216},g.prototype.readUInt32BE=function(V,$){return V=V>>>0,$||$e(V,4,this.length),this[V]*16777216+(this[V+1]<<16|this[V+2]<<8|this[V+3])},g.prototype.readIntLE=function(V,$,he){V=V>>>0,$=$>>>0,he||$e(V,$,this.length);for(var Ue=this[V],qe=1,jt=0;++jt<$&&(qe*=256);)Ue+=this[V+jt]*qe;return qe*=128,Ue>=qe&&(Ue-=Math.pow(2,8*$)),Ue},g.prototype.readIntBE=function(V,$,he){V=V>>>0,$=$>>>0,he||$e(V,$,this.length);for(var Ue=$,qe=1,jt=this[V+--Ue];Ue>0&&(qe*=256);)jt+=this[V+--Ue]*qe;return qe*=128,jt>=qe&&(jt-=Math.pow(2,8*$)),jt},g.prototype.readInt8=function(V,$){return V=V>>>0,$||$e(V,1,this.length),this[V]&128?(255-this[V]+1)*-1:this[V]},g.prototype.readInt16LE=function(V,$){V=V>>>0,$||$e(V,2,this.length);var he=this[V]|this[V+1]<<8;return he&32768?he|4294901760:he},g.prototype.readInt16BE=function(V,$){V=V>>>0,$||$e(V,2,this.length);var he=this[V+1]|this[V]<<8;return he&32768?he|4294901760:he},g.prototype.readInt32LE=function(V,$){return V=V>>>0,$||$e(V,4,this.length),this[V]|this[V+1]<<8|this[V+2]<<16|this[V+3]<<24},g.prototype.readInt32BE=function(V,$){return V=V>>>0,$||$e(V,4,this.length),this[V]<<24|this[V+1]<<16|this[V+2]<<8|this[V+3]},g.prototype.readFloatLE=function(V,$){return V=V>>>0,$||$e(V,4,this.length),f.read(this,V,!0,23,4)},g.prototype.readFloatBE=function(V,$){return V=V>>>0,$||$e(V,4,this.length),f.read(this,V,!1,23,4)},g.prototype.readDoubleLE=function(V,$){return V=V>>>0,$||$e(V,8,this.length),f.read(this,V,!0,52,8)},g.prototype.readDoubleBE=function(V,$){return V=V>>>0,$||$e(V,8,this.length),f.read(this,V,!1,52,8)};function Cn(re,V,$,he,Ue,qe){if(!g.isBuffer(re))throw new TypeError('"buffer" argument must be a Buffer instance');if(V>Ue||V<qe)throw new RangeError('"value" argument is out of bounds');if($+he>re.length)throw new RangeError("Index out of range")}g.prototype.writeUIntLE=function(V,$,he,Ue){if(V=+V,$=$>>>0,he=he>>>0,!Ue){var qe=Math.pow(2,8*he)-1;Cn(this,V,$,he,qe,0)}var jt=1,An=0;for(this[$]=V&255;++An<he&&(jt*=256);)this[$+An]=V/jt&255;return $+he},g.prototype.writeUIntBE=function(V,$,he,Ue){if(V=+V,$=$>>>0,he=he>>>0,!Ue){var qe=Math.pow(2,8*he)-1;Cn(this,V,$,he,qe,0)}var jt=he-1,An=1;for(this[$+jt]=V&255;--jt>=0&&(An*=256);)this[$+jt]=V/An&255;return $+he},g.prototype.writeUInt8=function(V,$,he){return V=+V,$=$>>>0,he||Cn(this,V,$,1,255,0),this[$]=V&255,$+1},g.prototype.writeUInt16LE=function(V,$,he){return V=+V,$=$>>>0,he||Cn(this,V,$,2,65535,0),this[$]=V&255,this[$+1]=V>>>8,$+2},g.prototype.writeUInt16BE=function(V,$,he){return V=+V,$=$>>>0,he||Cn(this,V,$,2,65535,0),this[$]=V>>>8,this[$+1]=V&255,$+2},g.prototype.writeUInt32LE=function(V,$,he){return V=+V,$=$>>>0,he||Cn(this,V,$,4,4294967295,0),this[$+3]=V>>>24,this[$+2]=V>>>16,this[$+1]=V>>>8,this[$]=V&255,$+4},g.prototype.writeUInt32BE=function(V,$,he){return V=+V,$=$>>>0,he||Cn(this,V,$,4,4294967295,0),this[$]=V>>>24,this[$+1]=V>>>16,this[$+2]=V>>>8,this[$+3]=V&255,$+4},g.prototype.writeIntLE=function(V,$,he,Ue){if(V=+V,$=$>>>0,!Ue){var qe=Math.pow(2,8*he-1);Cn(this,V,$,he,qe-1,-qe)}var jt=0,An=1,wn=0;for(this[$]=V&255;++jt<he&&(An*=256);)V<0&&wn===0&&this[$+jt-1]!==0&&(wn=1),this[$+jt]=(V/An>>0)-wn&255;return $+he},g.prototype.writeIntBE=function(V,$,he,Ue){if(V=+V,$=$>>>0,!Ue){var qe=Math.pow(2,8*he-1);Cn(this,V,$,he,qe-1,-qe)}var jt=he-1,An=1,wn=0;for(this[$+jt]=V&255;--jt>=0&&(An*=256);)V<0&&wn===0&&this[$+jt+1]!==0&&(wn=1),this[$+jt]=(V/An>>0)-wn&255;return $+he},g.prototype.writeInt8=function(V,$,he){return V=+V,$=$>>>0,he||Cn(this,V,$,1,127,-128),V<0&&(V=255+V+1),this[$]=V&255,$+1},g.prototype.writeInt16LE=function(V,$,he){return V=+V,$=$>>>0,he||Cn(this,V,$,2,32767,-32768),this[$]=V&255,this[$+1]=V>>>8,$+2},g.prototype.writeInt16BE=function(V,$,he){return V=+V,$=$>>>0,he||Cn(this,V,$,2,32767,-32768),this[$]=V>>>8,this[$+1]=V&255,$+2},g.prototype.writeInt32LE=function(V,$,he){return V=+V,$=$>>>0,he||Cn(this,V,$,4,2147483647,-2147483648),this[$]=V&255,this[$+1]=V>>>8,this[$+2]=V>>>16,this[$+3]=V>>>24,$+4},g.prototype.writeInt32BE=function(V,$,he){return V=+V,$=$>>>0,he||Cn(this,V,$,4,2147483647,-2147483648),V<0&&(V=4294967295+V+1),this[$]=V>>>24,this[$+1]=V>>>16,this[$+2]=V>>>8,this[$+3]=V&255,$+4};function Lt(re,V,$,he,Ue,qe){if($+he>re.length)throw new RangeError("Index out of range");if($<0)throw new RangeError("Index out of range")}function In(re,V,$,he,Ue){return V=+V,$=$>>>0,Ue||Lt(re,V,$,4),f.write(re,V,$,he,23,4),$+4}g.prototype.writeFloatLE=function(V,$,he){return In(this,V,$,!0,he)},g.prototype.writeFloatBE=function(V,$,he){return In(this,V,$,!1,he)};function Et(re,V,$,he,Ue){return V=+V,$=$>>>0,Ue||Lt(re,V,$,8),f.write(re,V,$,he,52,8),$+8}g.prototype.writeDoubleLE=function(V,$,he){return Et(this,V,$,!0,he)},g.prototype.writeDoubleBE=function(V,$,he){return Et(this,V,$,!1,he)},g.prototype.copy=function(V,$,he,Ue){if(!g.isBuffer(V))throw new TypeError("argument should be a Buffer");if(he||(he=0),!Ue&&Ue!==0&&(Ue=this.length),$>=V.length&&($=V.length),$||($=0),Ue>0&&Ue<he&&(Ue=he),Ue===he||V.length===0||this.length===0)return 0;if($<0)throw new RangeError("targetStart out of bounds");if(he<0||he>=this.length)throw new RangeError("Index out of range");if(Ue<0)throw new RangeError("sourceEnd out of bounds");Ue>this.length&&(Ue=this.length),V.length-$<Ue-he&&(Ue=V.length-$+he);var qe=Ue-he;if(this===V&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin($,he,Ue);else if(this===V&&he<$&&$<Ue)for(var jt=qe-1;jt>=0;--jt)V[jt+$]=this[jt+he];else Uint8Array.prototype.set.call(V,this.subarray(he,Ue),$);return qe},g.prototype.fill=function(V,$,he,Ue){if(typeof V=="string"){if(typeof $=="string"?(Ue=$,$=0,he=this.length):typeof he=="string"&&(Ue=he,he=this.length),Ue!==void 0&&typeof Ue!="string")throw new TypeError("encoding must be a string");if(typeof Ue=="string"&&!g.isEncoding(Ue))throw new TypeError("Unknown encoding: "+Ue);if(V.length===1){var qe=V.charCodeAt(0);(Ue==="utf8"&&qe<128||Ue==="latin1")&&(V=qe)}}else typeof V=="number"&&(V=V&255);if($<0||this.length<$||this.length<he)throw new RangeError("Out of range index");if(he<=$)return this;$=$>>>0,he=he===void 0?this.length:he>>>0,V||(V=0);var jt;if(typeof V=="number")for(jt=$;jt<he;++jt)this[jt]=V;else{var An=g.isBuffer(V)?V:g.from(V,Ue),wn=An.length;if(wn===0)throw new TypeError('The value "'+V+'" is invalid for argument "value"');for(jt=0;jt<he-$;++jt)this[jt+$]=An[jt%wn]}return this};var Ne=/[^+/0-9A-Za-z-_]/g;function pe(re){if(re=re.split("=")[0],re=re.trim().replace(Ne,""),re.length<2)return"";for(;re.length%4!==0;)re=re+"=";return re}function At(re){return re<16?"0"+re.toString(16):re.toString(16)}function Ve(re,V){V=V||1/0;for(var $,he=re.length,Ue=null,qe=[],jt=0;jt<he;++jt){if($=re.charCodeAt(jt),$>55295&&$<57344){if(!Ue){if($>56319){(V-=3)>-1&&qe.push(239,191,189);continue}else if(jt+1===he){(V-=3)>-1&&qe.push(239,191,189);continue}Ue=$;continue}if($<56320){(V-=3)>-1&&qe.push(239,191,189),Ue=$;continue}$=(Ue-55296<<10|$-56320)+65536}else Ue&&(V-=3)>-1&&qe.push(239,191,189);if(Ue=null,$<128){if((V-=1)<0)break;qe.push($)}else if($<2048){if((V-=2)<0)break;qe.push($>>6|192,$&63|128)}else if($<65536){if((V-=3)<0)break;qe.push($>>12|224,$>>6&63|128,$&63|128)}else if($<1114112){if((V-=4)<0)break;qe.push($>>18|240,$>>12&63|128,$>>6&63|128,$&63|128)}else throw new Error("Invalid code point")}return qe}function xe(re){for(var V=[],$=0;$<re.length;++$)V.push(re.charCodeAt($)&255);return V}function ze(re,V){for(var $,he,Ue,qe=[],jt=0;jt<re.length&&!((V-=2)<0);++jt)$=re.charCodeAt(jt),he=$>>8,Ue=$%256,qe.push(Ue),qe.push(he);return qe}function Pt(re){return c.toByteArray(pe(re))}function hn(re,V,$,he){for(var Ue=0;Ue<he&&!(Ue+$>=V.length||Ue>=re.length);++Ue)V[Ue+$]=re[Ue];return Ue}function ae(re,V){return re instanceof V||re!=null&&re.constructor!=null&&re.constructor.name!=null&&re.constructor.name===V.name}function le(re){return re!==re}}).call(this)}).call(this,i("buffer").Buffer)},{"base64-js":13,buffer:17,ieee754:23}],18:[function(i,o,a){(function(u){(function(){a.formatArgs=f,a.save=d,a.load=p,a.useColors=c,a.storage=h(),a.destroy=(()=>{let v=!1;return()=>{v||(v=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),a.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function c(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function f(v){if(v[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+v[0]+(this.useColors?"%c ":" ")+"+"+o.exports.humanize(this.diff),!this.useColors)return;const y="color: "+this.color;v.splice(1,0,y,"color: inherit");let A=0,_=0;v[0].replace(/%[a-zA-Z%]/g,S=>{S!=="%%"&&(A++,S==="%c"&&(_=A))}),v.splice(_,0,y)}a.log=console.debug||console.log||(()=>{});function d(v){try{v?a.storage.setItem("debug",v):a.storage.removeItem("debug")}catch{}}function p(){let v;try{v=a.storage.getItem("debug")}catch{}return!v&&typeof u<"u"&&"env"in u&&(v=u.env.DEBUG),v}function h(){try{return localStorage}catch{}}o.exports=i("./common")(a);const{formatters:g}=o.exports;g.j=function(v){try{return JSON.stringify(v)}catch(y){return"[UnexpectedJSONParseError]: "+y.message}}}).call(this)}).call(this,i("_process"))},{"./common":19,_process:50}],19:[function(i,o,a){function u(c){d.debug=d,d.default=d,d.coerce=A,d.disable=g,d.enable=h,d.enabled=v,d.humanize=i("ms"),d.destroy=_,Object.keys(c).forEach(S=>{d[S]=c[S]}),d.names=[],d.skips=[],d.formatters={};function f(S){let b=0;for(let T=0;T<S.length;T++)b=(b<<5)-b+S.charCodeAt(T),b|=0;return d.colors[Math.abs(b)%d.colors.length]}d.selectColor=f;function d(S){let b,T=null,w,x;function k(...M){if(!k.enabled)return;const D=k,z=Number(new Date),j=z-(b||z);D.diff=j,D.prev=b,D.curr=z,b=z,M[0]=d.coerce(M[0]),typeof M[0]!="string"&&M.unshift("%O");let oe=0;M[0]=M[0].replace(/%([a-zA-Z%])/g,(F,O)=>{if(F==="%%")return"%";oe++;const ue=d.formatters[O];if(typeof ue=="function"){const _e=M[oe];F=ue.call(D,_e),M.splice(oe,1),oe--}return F}),d.formatArgs.call(D,M),(D.log||d.log).apply(D,M)}return k.namespace=S,k.useColors=d.useColors(),k.color=d.selectColor(S),k.extend=p,k.destroy=d.destroy,Object.defineProperty(k,"enabled",{enumerable:!0,configurable:!1,get:()=>T!==null?T:(w!==d.namespaces&&(w=d.namespaces,x=d.enabled(S)),x),set:M=>{T=M}}),typeof d.init=="function"&&d.init(k),k}function p(S,b){const T=d(this.namespace+(typeof b>"u"?":":b)+S);return T.log=this.log,T}function h(S){d.save(S),d.namespaces=S,d.names=[],d.skips=[];let b;const T=(typeof S=="string"?S:"").split(/[\s,]+/),w=T.length;for(b=0;b<w;b++)T[b]&&(S=T[b].replace(/\*/g,".*?"),S[0]==="-"?d.skips.push(new RegExp("^"+S.substr(1)+"$")):d.names.push(new RegExp("^"+S+"$")))}function g(){const S=[...d.names.map(y),...d.skips.map(y).map(b=>"-"+b)].join(",");return d.enable(""),S}function v(S){if(S[S.length-1]==="*")return!0;let b,T;for(b=0,T=d.skips.length;b<T;b++)if(d.skips[b].test(S))return!1;for(b=0,T=d.names.length;b<T;b++)if(d.names[b].test(S))return!0;return!1}function y(S){return S.toString().substring(2,S.toString().length-2).replace(/\.\*\?$/,"*")}function A(S){return S instanceof Error?S.stack||S.message:S}function _(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return d.enable(d.load()),d}o.exports=u},{ms:45}],20:[function(i,o,a){(function(u,c){(function(){var f=i("readable-stream"),d=i("end-of-stream"),p=i("inherits"),h=i("stream-shift"),g=c.from&&c.from!==Uint8Array.from?c.from([0]):new c([0]),v=function(w,x){w._corked?w.once("uncork",x):x()},y=function(w,x){w._autoDestroy&&w.destroy(x)},A=function(w,x){return function(k){k?y(w,k.message==="premature close"?null:k):x&&!w._ended&&w.end()}},_=function(w,x){if(!w||w._writableState&&w._writableState.finished)return x();if(w._writableState)return w.end(x);w.end(),x()},S=function(){},b=function(w){return new f.Readable({objectMode:!0,highWaterMark:16}).wrap(w)},T=function(w,x,k){if(!(this instanceof T))return new T(w,x,k);f.Duplex.call(this,k),this._writable=null,this._readable=null,this._readable2=null,this._autoDestroy=!k||k.autoDestroy!==!1,this._forwardDestroy=!k||k.destroy!==!1,this._forwardEnd=!k||k.end!==!1,this._corked=1,this._ondrain=null,this._drained=!1,this._forwarding=!1,this._unwrite=null,this._unread=null,this._ended=!1,this.destroyed=!1,w&&this.setWritable(w),x&&this.setReadable(x)};p(T,f.Duplex),T.obj=function(w,x,k){return k||(k={}),k.objectMode=!0,k.highWaterMark=16,new T(w,x,k)},T.prototype.cork=function(){++this._corked===1&&this.emit("cork")},T.prototype.uncork=function(){this._corked&&--this._corked===0&&this.emit("uncork")},T.prototype.setWritable=function(w){if(this._unwrite&&this._unwrite(),this.destroyed){w&&w.destroy&&w.destroy();return}if(w===null||w===!1){this.end();return}var x=this,k=d(w,{writable:!0,readable:!1},A(this,this._forwardEnd)),M=function(){var z=x._ondrain;x._ondrain=null,z&&z()},D=function(){x._writable.removeListener("drain",M),k()};this._unwrite&&u.nextTick(M),this._writable=w,this._writable.on("drain",M),this._unwrite=D,this.uncork()},T.prototype.setReadable=function(w){if(this._unread&&this._unread(),this.destroyed){w&&w.destroy&&w.destroy();return}if(w===null||w===!1){this.push(null),this.resume();return}var x=this,k=d(w,{writable:!1,readable:!0},A(this)),M=function(){x._forward()},D=function(){x.push(null)},z=function(){x._readable2.removeListener("readable",M),x._readable2.removeListener("end",D),k()};this._drained=!0,this._readable=w,this._readable2=w._readableState?w:b(w),this._readable2.on("readable",M),this._readable2.on("end",D),this._unread=z,this._forward()},T.prototype._read=function(){this._drained=!0,this._forward()},T.prototype._forward=function(){if(!(this._forwarding||!this._readable2||!this._drained)){this._forwarding=!0;for(var w;this._drained&&(w=h(this._readable2))!==null;)this.destroyed||(this._drained=this.push(w));this._forwarding=!1}},T.prototype.destroy=function(w,x){if(x||(x=S),this.destroyed)return x(null);this.destroyed=!0;var k=this;u.nextTick(function(){k._destroy(w),x(null)})},T.prototype._destroy=function(w){if(w){var x=this._ondrain;this._ondrain=null,x?x(w):this.emit("error",w)}this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&this._writable.destroy&&this._writable.destroy()),this.emit("close")},T.prototype._write=function(w,x,k){if(!this.destroyed){if(this._corked)return v(this,this._write.bind(this,w,x,k));if(w===g)return this._finish(k);if(!this._writable)return k();this._writable.write(w)===!1?this._ondrain=k:this.destroyed||k()}},T.prototype._finish=function(w){var x=this;this.emit("preend"),v(this,function(){_(x._forwardEnd&&x._writable,function(){x._writableState.prefinished===!1&&(x._writableState.prefinished=!0),x.emit("prefinish"),v(x,w)})})},T.prototype.end=function(w,x,k){return typeof w=="function"?this.end(null,null,w):typeof x=="function"?this.end(w,null,x):(this._ended=!0,w&&this.write(w),!this._writableState.ending&&!this._writableState.destroyed&&this.write(g),f.Writable.prototype.end.call(this,k))},o.exports=T}).call(this)}).call(this,i("_process"),i("buffer").Buffer)},{_process:50,buffer:17,"end-of-stream":21,inherits:24,"readable-stream":69,"stream-shift":74}],21:[function(i,o,a){(function(u){(function(){var c=i("once"),f=function(){},d=function(g){return g.setHeader&&typeof g.abort=="function"},p=function(g){return g.stdio&&Array.isArray(g.stdio)&&g.stdio.length===3},h=function(g,v,y){if(typeof v=="function")return h(g,null,v);v||(v={}),y=c(y||f);var A=g._writableState,_=g._readableState,S=v.readable||v.readable!==!1&&g.readable,b=v.writable||v.writable!==!1&&g.writable,T=!1,w=function(){g.writable||x()},x=function(){b=!1,S||y.call(g)},k=function(){S=!1,b||y.call(g)},M=function(L){y.call(g,L?new Error("exited with error code: "+L):null)},D=function(L){y.call(g,L)},z=function(){u.nextTick(j)},j=function(){if(!T){if(S&&!(_&&_.ended&&!_.destroyed))return y.call(g,new Error("premature close"));if(b&&!(A&&A.ended&&!A.destroyed))return y.call(g,new Error("premature close"))}},oe=function(){g.req.on("finish",x)};return d(g)?(g.on("complete",x),g.on("abort",z),g.req?oe():g.on("request",oe)):b&&!A&&(g.on("end",w),g.on("close",w)),p(g)&&g.on("exit",M),g.on("end",k),g.on("finish",x),v.error!==!1&&g.on("error",D),g.on("close",z),function(){T=!0,g.removeListener("complete",x),g.removeListener("abort",z),g.removeListener("request",oe),g.req&&g.req.removeListener("finish",x),g.removeListener("end",w),g.removeListener("close",w),g.removeListener("finish",x),g.removeListener("exit",M),g.removeListener("end",k),g.removeListener("error",D),g.removeListener("close",z)}};o.exports=h}).call(this)}).call(this,i("_process"))},{_process:50,once:48}],22:[function(i,o,a){var u=Object.create||oe,c=Object.keys||L,f=Function.prototype.bind||F;function d(){(!this._events||!Object.prototype.hasOwnProperty.call(this,"_events"))&&(this._events=u(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}o.exports=d,d.EventEmitter=d,d.prototype._events=void 0,d.prototype._maxListeners=void 0;var p=10,h;try{var g={};Object.defineProperty&&Object.defineProperty(g,"x",{value:0}),h=g.x===0}catch{h=!1}h?Object.defineProperty(d,"defaultMaxListeners",{enumerable:!0,get:function(){return p},set:function(O){if(typeof O!="number"||O<0||O!==O)throw new TypeError('"defaultMaxListeners" must be a positive number');p=O}}):d.defaultMaxListeners=p,d.prototype.setMaxListeners=function(ue){if(typeof ue!="number"||ue<0||isNaN(ue))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=ue,this};function v(O){return O._maxListeners===void 0?d.defaultMaxListeners:O._maxListeners}d.prototype.getMaxListeners=function(){return v(this)};function y(O,ue,_e){if(ue)O.call(_e);else for(var Ce=O.length,de=z(O,Ce),ie=0;ie<Ce;++ie)de[ie].call(_e)}function A(O,ue,_e,Ce){if(ue)O.call(_e,Ce);else for(var de=O.length,ie=z(O,de),Y=0;Y<de;++Y)ie[Y].call(_e,Ce)}function _(O,ue,_e,Ce,de){if(ue)O.call(_e,Ce,de);else for(var ie=O.length,Y=z(O,ie),Ie=0;Ie<ie;++Ie)Y[Ie].call(_e,Ce,de)}function S(O,ue,_e,Ce,de,ie){if(ue)O.call(_e,Ce,de,ie);else for(var Y=O.length,Ie=z(O,Y),Oe=0;Oe<Y;++Oe)Ie[Oe].call(_e,Ce,de,ie)}function b(O,ue,_e,Ce){if(ue)O.apply(_e,Ce);else for(var de=O.length,ie=z(O,de),Y=0;Y<de;++Y)ie[Y].apply(_e,Ce)}d.prototype.emit=function(ue){var _e,Ce,de,ie,Y,Ie,Oe=ue==="error";if(Ie=this._events,Ie)Oe=Oe&&Ie.error==null;else if(!Oe)return!1;if(Oe){if(arguments.length>1&&(_e=arguments[1]),_e instanceof Error)throw _e;var kt=new Error('Unhandled "error" event. ('+_e+")");throw kt.context=_e,kt}if(Ce=Ie[ue],!Ce)return!1;var Dt=typeof Ce=="function";switch(de=arguments.length,de){case 1:y(Ce,Dt,this);break;case 2:A(Ce,Dt,this,arguments[1]);break;case 3:_(Ce,Dt,this,arguments[1],arguments[2]);break;case 4:S(Ce,Dt,this,arguments[1],arguments[2],arguments[3]);break;default:for(ie=new Array(de-1),Y=1;Y<de;Y++)ie[Y-1]=arguments[Y];b(Ce,Dt,this,ie)}return!0};function T(O,ue,_e,Ce){var de,ie,Y;if(typeof _e!="function")throw new TypeError('"listener" argument must be a function');if(ie=O._events,ie?(ie.newListener&&(O.emit("newListener",ue,_e.listener?_e.listener:_e),ie=O._events),Y=ie[ue]):(ie=O._events=u(null),O._eventsCount=0),!Y)Y=ie[ue]=_e,++O._eventsCount;else if(typeof Y=="function"?Y=ie[ue]=Ce?[_e,Y]:[Y,_e]:Ce?Y.unshift(_e):Y.push(_e),!Y.warned&&(de=v(O),de&&de>0&&Y.length>de)){Y.warned=!0;var Ie=new Error("Possible EventEmitter memory leak detected. "+Y.length+' "'+String(ue)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');Ie.name="MaxListenersExceededWarning",Ie.emitter=O,Ie.type=ue,Ie.count=Y.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",Ie.name,Ie.message)}return O}d.prototype.addListener=function(ue,_e){return T(this,ue,_e,!1)},d.prototype.on=d.prototype.addListener,d.prototype.prependListener=function(ue,_e){return T(this,ue,_e,!0)};function w(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var O=new Array(arguments.length),ue=0;ue<O.length;++ue)O[ue]=arguments[ue];this.listener.apply(this.target,O)}}function x(O,ue,_e){var Ce={fired:!1,wrapFn:void 0,target:O,type:ue,listener:_e},de=f.call(w,Ce);return de.listener=_e,Ce.wrapFn=de,de}d.prototype.once=function(ue,_e){if(typeof _e!="function")throw new TypeError('"listener" argument must be a function');return this.on(ue,x(this,ue,_e)),this},d.prototype.prependOnceListener=function(ue,_e){if(typeof _e!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(ue,x(this,ue,_e)),this},d.prototype.removeListener=function(ue,_e){var Ce,de,ie,Y,Ie;if(typeof _e!="function")throw new TypeError('"listener" argument must be a function');if(de=this._events,!de)return this;if(Ce=de[ue],!Ce)return this;if(Ce===_e||Ce.listener===_e)--this._eventsCount===0?this._events=u(null):(delete de[ue],de.removeListener&&this.emit("removeListener",ue,Ce.listener||_e));else if(typeof Ce!="function"){for(ie=-1,Y=Ce.length-1;Y>=0;Y--)if(Ce[Y]===_e||Ce[Y].listener===_e){Ie=Ce[Y].listener,ie=Y;break}if(ie<0)return this;ie===0?Ce.shift():D(Ce,ie),Ce.length===1&&(de[ue]=Ce[0]),de.removeListener&&this.emit("removeListener",ue,Ie||_e)}return this},d.prototype.removeAllListeners=function(ue){var _e,Ce,de;if(Ce=this._events,!Ce)return this;if(!Ce.removeListener)return arguments.length===0?(this._events=u(null),this._eventsCount=0):Ce[ue]&&(--this._eventsCount===0?this._events=u(null):delete Ce[ue]),this;if(arguments.length===0){var ie=c(Ce),Y;for(de=0;de<ie.length;++de)Y=ie[de],Y!=="removeListener"&&this.removeAllListeners(Y);return this.removeAllListeners("removeListener"),this._events=u(null),this._eventsCount=0,this}if(_e=Ce[ue],typeof _e=="function")this.removeListener(ue,_e);else if(_e)for(de=_e.length-1;de>=0;de--)this.removeListener(ue,_e[de]);return this};function k(O,ue,_e){var Ce=O._events;if(!Ce)return[];var de=Ce[ue];return de?typeof de=="function"?_e?[de.listener||de]:[de]:_e?j(de):z(de,de.length):[]}d.prototype.listeners=function(ue){return k(this,ue,!0)},d.prototype.rawListeners=function(ue){return k(this,ue,!1)},d.listenerCount=function(O,ue){return typeof O.listenerCount=="function"?O.listenerCount(ue):M.call(O,ue)},d.prototype.listenerCount=M;function M(O){var ue=this._events;if(ue){var _e=ue[O];if(typeof _e=="function")return 1;if(_e)return _e.length}return 0}d.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};function D(O,ue){for(var _e=ue,Ce=_e+1,de=O.length;Ce<de;_e+=1,Ce+=1)O[_e]=O[Ce];O.pop()}function z(O,ue){for(var _e=new Array(ue),Ce=0;Ce<ue;++Ce)_e[Ce]=O[Ce];return _e}function j(O){for(var ue=new Array(O.length),_e=0;_e<ue.length;++_e)ue[_e]=O[_e].listener||O[_e];return ue}function oe(O){var ue=function(){};return ue.prototype=O,new ue}function L(O){for(var ue in O)Object.prototype.hasOwnProperty.call(O,ue);return ue}function F(O){var ue=this;return function(){return ue.apply(O,arguments)}}},{}],23:[function(i,o,a){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */a.read=function(u,c,f,d,p){var h,g,v=p*8-d-1,y=(1<<v)-1,A=y>>1,_=-7,S=f?p-1:0,b=f?-1:1,T=u[c+S];for(S+=b,h=T&(1<<-_)-1,T>>=-_,_+=v;_>0;h=h*256+u[c+S],S+=b,_-=8);for(g=h&(1<<-_)-1,h>>=-_,_+=d;_>0;g=g*256+u[c+S],S+=b,_-=8);if(h===0)h=1-A;else{if(h===y)return g?NaN:(T?-1:1)*(1/0);g=g+Math.pow(2,d),h=h-A}return(T?-1:1)*g*Math.pow(2,h-d)},a.write=function(u,c,f,d,p,h){var g,v,y,A=h*8-p-1,_=(1<<A)-1,S=_>>1,b=p===23?Math.pow(2,-24)-Math.pow(2,-77):0,T=d?0:h-1,w=d?1:-1,x=c<0||c===0&&1/c<0?1:0;for(c=Math.abs(c),isNaN(c)||c===1/0?(v=isNaN(c)?1:0,g=_):(g=Math.floor(Math.log(c)/Math.LN2),c*(y=Math.pow(2,-g))<1&&(g--,y*=2),g+S>=1?c+=b/y:c+=b*Math.pow(2,1-S),c*y>=2&&(g++,y/=2),g+S>=_?(v=0,g=_):g+S>=1?(v=(c*y-1)*Math.pow(2,p),g=g+S):(v=c*Math.pow(2,S-1)*Math.pow(2,p),g=0));p>=8;u[f+T]=v&255,T+=w,v/=256,p-=8);for(g=g<<p|v,A+=p;A>0;u[f+T]=g&255,T+=w,g/=256,A-=8);u[f+T-w]|=x*128}},{}],24:[function(i,o,a){typeof Object.create=="function"?o.exports=function(c,f){f&&(c.super_=f,c.prototype=Object.create(f.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}))}:o.exports=function(c,f){if(f){c.super_=f;var d=function(){};d.prototype=f.prototype,c.prototype=new d,c.prototype.constructor=c}}},{}],25:[function(i,o,a){Object.defineProperty(a,"__esModule",{value:!0});var u=function(){function c(f,d){this.color=!0,this.key=void 0,this.value=void 0,this.parent=void 0,this.brother=void 0,this.leftChild=void 0,this.rightChild=void 0,this.key=f,this.value=d}return c.prototype.rotateLeft=function(){var f=this.parent,d=this.brother,p=this.leftChild,h=this.rightChild;if(!h)throw new Error("unknown error");var g=h.leftChild,v=h.rightChild;return f&&(f.leftChild===this?f.leftChild=h:f.rightChild===this&&(f.rightChild=h)),h.parent=f,h.brother=d,h.leftChild=this,h.rightChild=v,d&&(d.brother=h),this.parent=h,this.brother=v,this.leftChild=p,this.rightChild=g,v&&(v.parent=h,v.brother=this),p&&(p.parent=this,p.brother=g),g&&(g.parent=this,g.brother=p),h},c.prototype.rotateRight=function(){var f=this.parent,d=this.brother,p=this.leftChild;if(!p)throw new Error("unknown error");var h=this.rightChild,g=p.leftChild,v=p.rightChild;return f&&(f.leftChild===this?f.leftChild=p:f.rightChild===this&&(f.rightChild=p)),p.parent=f,p.brother=d,p.leftChild=g,p.rightChild=this,d&&(d.brother=p),g&&(g.parent=p,g.brother=this),this.parent=p,this.brother=g,this.leftChild=v,this.rightChild=h,v&&(v.parent=this,v.brother=h),h&&(h.parent=this,h.brother=v),p},c.prototype.remove=function(){if(this.leftChild||this.rightChild)throw new Error("can only remove leaf node");this.parent&&(this===this.parent.leftChild?this.parent.leftChild=void 0:this===this.parent.rightChild&&(this.parent.rightChild=void 0)),this.brother&&(this.brother.brother=void 0),this.key=void 0,this.value=void 0,this.parent=void 0,this.brother=void 0},c.TreeNodeColorType={red:!0,black:!1},c}();Object.freeze(u),a.default=u},{}],26:[function(i,o,a){var u=this&&this.__generator||function(f,d){var p={label:0,sent:function(){if(v[0]&1)throw v[1];return v[1]},trys:[],ops:[]},h,g,v,y;return y={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function A(S){return function(b){return _([S,b])}}function _(S){if(h)throw new TypeError("Generator is already executing.");for(;p;)try{if(h=1,g&&(v=S[0]&2?g.return:S[0]?g.throw||((v=g.return)&&v.call(g),0):g.next)&&!(v=v.call(g,S[1])).done)return v;switch(g=0,v&&(S=[S[0]&2,v.value]),S[0]){case 0:case 1:v=S;break;case 4:return p.label++,{value:S[1],done:!1};case 5:p.label++,g=S[1],S=[0];continue;case 7:S=p.ops.pop(),p.trys.pop();continue;default:if(v=p.trys,!(v=v.length>0&&v[v.length-1])&&(S[0]===6||S[0]===2)){p=0;continue}if(S[0]===3&&(!v||S[1]>v[0]&&S[1]<v[3])){p.label=S[1];break}if(S[0]===6&&p.label<v[1]){p.label=v[1],v=S;break}if(v&&p.label<v[2]){p.label=v[2],p.ops.push(S);break}v[2]&&p.ops.pop(),p.trys.pop();continue}S=d.call(f,p)}catch(b){S=[6,b],g=0}finally{h=v=0}if(S[0]&5)throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}};Object.defineProperty(a,"__esModule",{value:!0}),c.sigma=3,c.bucketSize=5e3;function c(f){var d=this;f===void 0&&(f=[]);var p=[],h=0,g=0,v=0,y=0,A=0,_=0;this.size=function(){return _},this.empty=function(){return _===0},this.clear=function(){h=v=g=y=A=_=0,b.call(this,c.bucketSize),_=0},this.front=function(){return p[h][g]},this.back=function(){return p[v][y]},this.forEach=function(T){if(!this.empty()){var w=0;if(h===v){for(var x=g;x<=y;++x)T(p[h][x],w++);return}for(var x=g;x<c.bucketSize;++x)T(p[h][x],w++);for(var x=h+1;x<v;++x)for(var k=0;k<c.bucketSize;++k)T(p[x][k],w++);for(var x=0;x<=y;++x)T(p[v][x],w++)}};var S=function(T){var w=h*c.bucketSize+g,x=w+T,k=v*c.bucketSize+y;if(x<w||x>k)throw new Error("pos should more than 0 and less than queue's size");var M=Math.floor(x/c.bucketSize),D=x%c.bucketSize;return{curNodeBucketIndex:M,curNodePointerIndex:D}};this.getElementByPos=function(T){var w=S(T),x=w.curNodeBucketIndex,k=w.curNodePointerIndex;return p[x][k]},this.eraseElementByPos=function(T){var w=this;if(T<0||T>_)throw new Error("pos should more than 0 and less than queue's size");if(T===0)this.popFront();else if(T===this.size())this.popBack();else{for(var x=[],k=T+1;k<_;++k)x.push(this.getElementByPos(k));this.cut(T),this.popBack(),x.forEach(function(M){return w.pushBack(M)})}},this.eraseElementByValue=function(T){if(!this.empty()){var w=[];this.forEach(function(M){M!==T&&w.push(M)});for(var x=w.length,k=0;k<x;++k)this.setElementByPos(k,w[k]);this.cut(x-1)}};var b=function(T){for(var w=[],x=T*c.sigma,k=Math.max(Math.ceil(x/c.bucketSize),2),M=0;M<k;++M)w.push(new Array(c.bucketSize));var D=Math.ceil(T/c.bucketSize),z=Math.floor(k/2)-Math.floor(D/2),j=z,oe=0;if(this.size())for(var M=0;M<D;++M){for(var L=0;L<c.bucketSize;++L)if(w[z+M][L]=this.front(),this.popFront(),this.empty()){j=z+M,oe=L;break}if(this.empty())break}p=w,h=z,g=0,v=j,y=oe,A=k,_=T};this.pushBack=function(T){this.empty()||(v===A-1&&y===c.bucketSize-1&&b.call(this,this.size()),y<c.bucketSize-1?++y:v<A-1&&(++v,y=0)),++_,p[v][y]=T},this.popBack=function(){this.empty()||(this.size()!==1&&(y>0?--y:h<v&&(--v,y=c.bucketSize-1)),_>0&&--_)},this.setElementByPos=function(T,w){var x=S(T),k=x.curNodeBucketIndex,M=x.curNodePointerIndex;p[k][M]=w},this.insert=function(T,w,x){var k=this;if(x===void 0&&(x=1),T===0)for(;x--;)this.pushFront(w);else if(T===this.size())for(;x--;)this.pushBack(w);else{for(var M=[],D=T;D<_;++D)M.push(this.getElementByPos(D));this.cut(T-1);for(var D=0;D<x;++D)this.pushBack(w);M.forEach(function(z){return k.pushBack(z)})}},this.find=function(T){if(h===v){for(var w=g;w<=y;++w)if(p[h][w]===T)return!0;return!1}for(var w=g;w<c.bucketSize;++w)if(p[h][w]===T)return!0;for(var w=h+1;w<v;++w)for(var x=0;x<c.bucketSize;++x)if(p[w][x]===T)return!0;for(var w=0;w<=y;++w)if(p[v][w]===T)return!0;return!1},this.reverse=function(){for(var T=0,w=_-1;T<w;){var x=this.getElementByPos(T);this.setElementByPos(T,this.getElementByPos(w)),this.setElementByPos(w,x),++T,--w}},this.unique=function(){if(!this.empty()){var T=[],w=this.front();this.forEach(function(k,M){(M===0||k!==w)&&(T.push(k),w=k)});for(var x=0;x<_;++x)this.setElementByPos(x,T[x]);this.cut(T.length-1)}},this.sort=function(T){var w=[];this.forEach(function(k){w.push(k)}),w.sort(T);for(var x=0;x<_;++x)this.setElementByPos(x,w[x])},this.pushFront=function(T){this.empty()||(h===0&&g===0&&b.call(this,this.size()),g>0?--g:h>0&&(--h,g=c.bucketSize-1)),++_,p[h][g]=T},this.popFront=function(){this.empty()||(this.size()!==1&&(g<c.bucketSize-1?++g:h<v&&(++h,g=0)),_>0&&--_)},this.shrinkToFit=function(){var T=this,w=[];this.forEach(function(D){w.push(D)});var x=w.length;p=[];for(var k=Math.ceil(x/c.bucketSize),M=0;M<k;++M)p.push(new Array(c.bucketSize));this.clear(),w.forEach(function(D){return T.pushBack(D)})},this.cut=function(T){if(T<0){this.clear();return}var w=S(T),x=w.curNodeBucketIndex,k=w.curNodePointerIndex;v=x,y=k,_=T+1},this[Symbol.iterator]=function(){return function(){var w,w,w,T,w;return u(this,function(x){switch(x.label){case 0:if(_===0)return[2];if(h!==v)return[3,5];w=g,x.label=1;case 1:return w<=y?[4,p[h][w]]:[3,4];case 2:x.sent(),x.label=3;case 3:return++w,[3,1];case 4:return[2];case 5:w=g,x.label=6;case 6:return w<c.bucketSize?[4,p[h][w]]:[3,9];case 7:x.sent(),x.label=8;case 8:return++w,[3,6];case 9:w=h+1,x.label=10;case 10:if(!(w<v))return[3,15];T=0,x.label=11;case 11:return T<c.bucketSize?[4,p[w][T]]:[3,14];case 12:x.sent(),x.label=13;case 13:return++T,[3,11];case 14:return++w,[3,10];case 15:w=0,x.label=16;case 16:return w<=y?[4,p[v][w]]:[3,19];case 17:x.sent(),x.label=18;case 18:return++w,[3,16];case 19:return[2]}})}()},function(){var T=c.bucketSize;f.size?T=f.size():f.length&&(T=f.length);var w=T*c.sigma;A=Math.ceil(w/c.bucketSize),A=Math.max(A,3);for(var x=0;x<A;++x)p.push(new Array(c.bucketSize));var k=Math.ceil(T/c.bucketSize);h=Math.floor(A/2)-Math.floor(k/2),v=h,f.forEach(function(M){return d.pushBack(M)})}(),Object.freeze(this)}Object.freeze(c),a.default=c},{}],27:[function(i,o,a){var u=this&&this.__generator||function(h,g){var v={label:0,sent:function(){if(_[0]&1)throw _[1];return _[1]},trys:[],ops:[]},y,A,_,S;return S={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(S[Symbol.iterator]=function(){return this}),S;function b(w){return function(x){return T([w,x])}}function T(w){if(y)throw new TypeError("Generator is already executing.");for(;v;)try{if(y=1,A&&(_=w[0]&2?A.return:w[0]?A.throw||((_=A.return)&&_.call(A),0):A.next)&&!(_=_.call(A,w[1])).done)return _;switch(A=0,_&&(w=[w[0]&2,_.value]),w[0]){case 0:case 1:_=w;break;case 4:return v.label++,{value:w[1],done:!1};case 5:v.label++,A=w[1],w=[0];continue;case 7:w=v.ops.pop(),v.trys.pop();continue;default:if(_=v.trys,!(_=_.length>0&&_[_.length-1])&&(w[0]===6||w[0]===2)){v=0;continue}if(w[0]===3&&(!_||w[1]>_[0]&&w[1]<_[3])){v.label=w[1];break}if(w[0]===6&&v.label<_[1]){v.label=_[1],_=w;break}if(_&&v.label<_[2]){v.label=_[2],v.ops.push(w);break}_[2]&&v.ops.pop(),v.trys.pop();continue}w=g.call(h,v)}catch(x){w=[6,x],A=0}finally{y=_=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},c=this&&this.__values||function(h){var g=typeof Symbol=="function"&&Symbol.iterator,v=g&&h[g],y=0;if(v)return v.call(h);if(h&&typeof h.length=="number")return{next:function(){return h&&y>=h.length&&(h=void 0),{value:h&&h[y++],done:!h}}};throw new TypeError(g?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(a,"__esModule",{value:!0});var f=i("../LinkList/LinkList"),d=i("../Map/Map");p.initSize=16,p.maxSize=1<<30,p.sigma=.75,p.treeifyThreshold=8,p.untreeifyThreshold=6,p.minTreeifySize=64;function p(h,g,v){var y=this;if(h===void 0&&(h=[]),g===void 0&&(g=p.initSize),v=v||function(T){var w,x,k=0,M="";if(typeof T=="number")k=Math.floor(T),k=(k<<5)-k,k=k&k;else{typeof T!="string"?M=JSON.stringify(T):M=T;try{for(var D=c(M),z=D.next();!z.done;z=D.next()){var j=z.value,oe=j.charCodeAt(0);k=(k<<5)-k+oe,k=k&k}}catch(L){w={error:L}}finally{try{z&&!z.done&&(x=D.return)&&x.call(D)}finally{if(w)throw w.error}}}return k^=k>>>16,k},g&g-1)throw new Error("initBucketNum must be 2 to the power of n");var A=0,_=[],S=Math.max(p.initSize,Math.min(p.maxSize,g));this.size=function(){return A},this.empty=function(){return A===0},this.clear=function(){A=0,S=g,_=[]},this.forEach=function(T){var w=0;_.forEach(function(x){x.forEach(function(k){T(k,w++)})})};var b=function(T){if(!(T>=p.maxSize)){S=T*2;var w=[];_.forEach(function(x,k){if(!x.empty()){if(x instanceof f.default&&x.size()===1){var M=x.front(),D=M.key,z=M.value;w[v(D)&S-1]=new f.default([{key:D,value:z}])}else if(x instanceof d.default){var j=new f.default,oe=new f.default;x.forEach(function(O){var ue=v(O.key);ue&T?oe.pushBack(O):j.pushBack(O)}),j.size()>p.untreeifyThreshold?w[k]=new d.default(j):j.size()&&(w[k]=j),oe.size()>p.untreeifyThreshold?w[k+T]=new d.default(oe):oe.size()&&(w[k+T]=oe)}else{var L=new f.default,F=new f.default;x.forEach(function(O){var ue=v(O.key);ue&T?F.pushBack(O):L.pushBack(O)}),L.size()&&(w[k]=L),F.size()&&(w[k+T]=F)}_[k].clear()}}),_=w}};this.setElement=function(T,w){var x,k;if(T==null)throw new Error("to avoid some unnecessary errors, we don't suggest you insert null or undefined here");if(w==null){this.eraseElementByKey(T);return}var M=v(T)&S-1;if(!_[M])++A,_[M]=new f.default([{key:T,value:w}]);else{var D=_[M].size();if(_[M]instanceof f.default){try{for(var z=c(_[M]),j=z.next();!j.done;j=z.next()){var oe=j.value;if(oe.key===T){oe.value=w;return}}}catch(F){x={error:F}}finally{try{j&&!j.done&&(k=z.return)&&k.call(z)}finally{if(x)throw x.error}}_[M].pushBack({key:T,value:w}),_[M].size()>=p.treeifyThreshold&&(_[M]=new d.default(_[M]))}else _[M].setElement(T,w);var L=_[M].size();A+=L-D}A>S*p.sigma&&b.call(this,S)},this.getElementByKey=function(T){var w,x,k=v(T)&S-1;if(_[k]){if(_[k]instanceof d.default)return _[k].getElementByKey(T);try{for(var M=c(_[k]),D=M.next();!D.done;D=M.next()){var z=D.value;if(z.key===T)return z.value}}catch(j){w={error:j}}finally{try{D&&!D.done&&(x=M.return)&&x.call(M)}finally{if(w)throw w.error}}}},this.eraseElementByKey=function(T){var w,x,k=v(T)&S-1;if(_[k]){var M=_[k].size();if(_[k]instanceof d.default)_[k].eraseElementByKey(T),_[k].size()<=p.untreeifyThreshold&&(_[k]=new f.default(_[k]));else{var D=-1;try{for(var z=c(_[k]),j=z.next();!j.done;j=z.next()){var oe=j.value;if(++D,oe.key===T){_[k].eraseElementByPos(D);break}}}catch(F){w={error:F}}finally{try{j&&!j.done&&(x=z.return)&&x.call(z)}finally{if(w)throw w.error}}}var L=_[k].size();A+=L-M}},this.find=function(T){var w,x,k=v(T)&S-1;if(!_[k])return!1;if(_[k]instanceof d.default)return _[k].find(T);try{for(var M=c(_[k]),D=M.next();!D.done;D=M.next()){var z=D.value;if(z.key===T)return!0}}catch(j){w={error:j}}finally{try{D&&!D.done&&(x=M.return)&&x.call(M)}finally{if(w)throw w.error}}return!1},this[Symbol.iterator]=function(){return function(){var T,w,x,k,M,D,z;return u(this,function(j){switch(j.label){case 0:T=0,j.label=1;case 1:if(!(T<S))return[3,10];for(;T<S&&!_[T];)++T;if(T>=S)return[3,10];j.label=2;case 2:j.trys.push([2,7,8,9]),w=(D=void 0,c(_[T])),x=w.next(),j.label=3;case 3:return x.done?[3,6]:(k=x.value,[4,k]);case 4:j.sent(),j.label=5;case 5:return x=w.next(),[3,3];case 6:return[3,9];case 7:return M=j.sent(),D={error:M},[3,9];case 8:try{x&&!x.done&&(z=w.return)&&z.call(w)}finally{if(D)throw D.error}return[7];case 9:return++T,[3,1];case 10:return[2]}})}()},h.forEach(function(T){var w=T.key,x=T.value;return y.setElement(w,x)}),Object.freeze(this)}Object.freeze(p),a.default=p},{"../LinkList/LinkList":29,"../Map/Map":30}],28:[function(i,o,a){var u=this&&this.__generator||function(h,g){var v={label:0,sent:function(){if(_[0]&1)throw _[1];return _[1]},trys:[],ops:[]},y,A,_,S;return S={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(S[Symbol.iterator]=function(){return this}),S;function b(w){return function(x){return T([w,x])}}function T(w){if(y)throw new TypeError("Generator is already executing.");for(;v;)try{if(y=1,A&&(_=w[0]&2?A.return:w[0]?A.throw||((_=A.return)&&_.call(A),0):A.next)&&!(_=_.call(A,w[1])).done)return _;switch(A=0,_&&(w=[w[0]&2,_.value]),w[0]){case 0:case 1:_=w;break;case 4:return v.label++,{value:w[1],done:!1};case 5:v.label++,A=w[1],w=[0];continue;case 7:w=v.ops.pop(),v.trys.pop();continue;default:if(_=v.trys,!(_=_.length>0&&_[_.length-1])&&(w[0]===6||w[0]===2)){v=0;continue}if(w[0]===3&&(!_||w[1]>_[0]&&w[1]<_[3])){v.label=w[1];break}if(w[0]===6&&v.label<_[1]){v.label=_[1],_=w;break}if(_&&v.label<_[2]){v.label=_[2],v.ops.push(w);break}_[2]&&v.ops.pop(),v.trys.pop();continue}w=g.call(h,v)}catch(x){w=[6,x],A=0}finally{y=_=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},c=this&&this.__values||function(h){var g=typeof Symbol=="function"&&Symbol.iterator,v=g&&h[g],y=0;if(v)return v.call(h);if(h&&typeof h.length=="number")return{next:function(){return h&&y>=h.length&&(h=void 0),{value:h&&h[y++],done:!h}}};throw new TypeError(g?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(a,"__esModule",{value:!0});var f=i("../Set/Set"),d=i("../LinkList/LinkList");p.initSize=16,p.maxSize=1<<30,p.sigma=.75,p.treeifyThreshold=8,p.untreeifyThreshold=6,p.minTreeifySize=64;function p(h,g,v){var y=this;if(h===void 0&&(h=[]),g===void 0&&(g=p.initSize),v=v||function(T){var w=0,x="";if(typeof T=="number")w=Math.floor(T),w=(w<<5)-w,w=w&w;else{typeof T!="string"?x=JSON.stringify(T):x=T;for(var k=0;k<x.length;k++){var M=x.charCodeAt(k);w=(w<<5)-w+M,w=w&w}}return w^=w>>>16,w},g&g-1)throw new Error("initBucketNum must be 2 to the power of n");var A=0,_=[],S=Math.max(p.initSize,Math.min(p.maxSize,g));this.size=function(){return A},this.empty=function(){return A===0},this.clear=function(){A=0,S=g,_=[]},this.forEach=function(T){var w=0;_.forEach(function(x){x.forEach(function(k){T(k,w++)})})};var b=function(T){if(!(T>=p.maxSize)){S=T*2;var w=[];_.forEach(function(x,k){if(!x.empty()){if(x instanceof d.default&&x.size()===1){var M=x.front();if(M===void 0)throw new Error("unknown error");w[v(M)&S-1]=new d.default([M])}else if(x instanceof f.default){var D=new d.default,z=new d.default;x.forEach(function(L){var F=v(L);F&T?z.pushBack(L):D.pushBack(L)}),D.size()>p.untreeifyThreshold?w[k]=new f.default(D):D.size()&&(w[k]=D),z.size()>p.untreeifyThreshold?w[k+T]=new f.default(z):z.size()&&(w[k+T]=z)}else{var j=new d.default,oe=new d.default;x.forEach(function(L){var F=v(L);F&T?oe.pushBack(L):j.pushBack(L)}),j.size()&&(w[k]=j),oe.size()&&(w[k+T]=oe)}_[k].clear()}}),_=w}};this.insert=function(T){if(T==null)throw new Error("to avoid some unnecessary errors, we don't suggest you insert null or undefined here");var w=v(T)&S-1;if(!_[w])_[w]=new d.default([T]),++A;else{var x=_[w].size();if(_[w]instanceof d.default){if(_[w].find(T))return;_[w].pushBack(T),_[w].size()>=p.treeifyThreshold&&(_[w]=new f.default(_[w]))}else _[w].insert(T);var k=_[w].size();A+=k-x}A>S*p.sigma&&b.call(this,S)},this.eraseElementByValue=function(T){var w=v(T)&S-1;if(_[w]){var x=_[w].size();_[w].eraseElementByValue(T),_[w]instanceof f.default&&_[w].size()<=p.untreeifyThreshold&&(_[w]=new d.default(_[w]));var k=_[w].size();A+=k-x}},this.find=function(T){var w=v(T)&S-1;return _[w]?_[w].find(T):!1},this[Symbol.iterator]=function(){return function(){var T,w,x,k,M,D,z;return u(this,function(j){switch(j.label){case 0:T=0,j.label=1;case 1:if(!(T<S))return[3,10];for(;T<S&&!_[T];)++T;if(T>=S)return[3,10];j.label=2;case 2:j.trys.push([2,7,8,9]),w=(D=void 0,c(_[T])),x=w.next(),j.label=3;case 3:return x.done?[3,6]:(k=x.value,[4,k]);case 4:j.sent(),j.label=5;case 5:return x=w.next(),[3,3];case 6:return[3,9];case 7:return M=j.sent(),D={error:M},[3,9];case 8:try{x&&!x.done&&(z=w.return)&&z.call(w)}finally{if(D)throw D.error}return[7];case 9:return++T,[3,1];case 10:return[2]}})}()},h.forEach(function(T){return y.insert(T)}),Object.freeze(this)}Object.freeze(p),a.default=p},{"../LinkList/LinkList":29,"../Set/Set":33}],29:[function(i,o,a){var u=this&&this.__generator||function(d,p){var h={label:0,sent:function(){if(y[0]&1)throw y[1];return y[1]},trys:[],ops:[]},g,v,y,A;return A={next:_(0),throw:_(1),return:_(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function _(b){return function(T){return S([b,T])}}function S(b){if(g)throw new TypeError("Generator is already executing.");for(;h;)try{if(g=1,v&&(y=b[0]&2?v.return:b[0]?v.throw||((y=v.return)&&y.call(v),0):v.next)&&!(y=y.call(v,b[1])).done)return y;switch(v=0,y&&(b=[b[0]&2,y.value]),b[0]){case 0:case 1:y=b;break;case 4:return h.label++,{value:b[1],done:!1};case 5:h.label++,v=b[1],b=[0];continue;case 7:b=h.ops.pop(),h.trys.pop();continue;default:if(y=h.trys,!(y=y.length>0&&y[y.length-1])&&(b[0]===6||b[0]===2)){h=0;continue}if(b[0]===3&&(!y||b[1]>y[0]&&b[1]<y[3])){h.label=b[1];break}if(b[0]===6&&h.label<y[1]){h.label=y[1],y=b;break}if(y&&h.label<y[2]){h.label=y[2],h.ops.push(b);break}y[2]&&h.ops.pop(),h.trys.pop();continue}b=p.call(d,h)}catch(T){b=[6,T],v=0}finally{g=y=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}};Object.defineProperty(a,"__esModule",{value:!0});var c=function(){function d(p){this.value=void 0,this.pre=void 0,this.next=void 0,this.value=p}return d}();function f(d){var p=this;d===void 0&&(d=[]);var h=0,g=void 0,v=void 0;this.size=function(){return h},this.empty=function(){return h===0},this.clear=function(){g=v=void 0,h=0},this.front=function(){return g==null?void 0:g.value},this.back=function(){return v==null?void 0:v.value},this.forEach=function(y){for(var A=g,_=0;A;){if(A.value===void 0)throw new Error("unknown error");y(A.value,_++),A=A.next}},this.getElementByPos=function(y){if(y<0||y>=h)throw new Error("pos must more then 0 and less then the list length");for(var A=g;y--&&A;)A=A.next;if(!A||A.value===void 0)throw new Error("unknown error");return A.value},this.eraseElementByPos=function(y){if(y<0||y>=h)throw new Error("erase pos must more then 0 and less then the list length");if(y===0)this.popFront();else if(y===h-1)this.popBack();else{for(var A=g;y--;){if(!(A!=null&&A.next))throw new Error("unknown error");A=A.next}if(!A||!A.pre||!A.next)throw new Error("unknown error");var _=A.pre,S=A.next;S.pre=_,_.next=S,h>0&&--h}},this.eraseElementByValue=function(y){for(;g&&g.value===y;)this.popFront();for(;v&&v.value===y;)this.popBack();if(g)for(var A=g;A;){if(A.value===y){var _=A.pre,S=A.next;S&&(S.pre=_),_&&(_.next=S),h>0&&--h}A=A.next}},this.pushBack=function(y){if(y==null)throw new Error("you can't push null or undefined here");++h;var A=new c(y);v?(v.next=A,A.pre=v,v=A):g=v=A},this.popBack=function(){v&&(h>0&&--h,v&&(g===v?g=v=void 0:(v=v.pre,v&&(v.next=void 0))))},this.setElementByPos=function(y,A){if(A==null)throw new Error("you can't set null or undefined here");if(y<0||y>=h)throw new Error("pos must more then 0 and less then the list length");for(var _=g;y--;){if(!_)throw new Error("unknown error");_=_.next}_&&(_.value=A)},this.insert=function(y,A,_){if(_===void 0&&(_=1),A==null)throw new Error("you can't insert null or undefined here");if(y<0||y>h)throw new Error("insert pos must more then 0 and less then or equal to the list length");if(_<0)throw new Error("insert size must more than 0");if(y===0)for(;_--;)this.pushFront(A);else if(y===h)for(;_--;)this.pushBack(A);else{for(var S=g,b=1;b<y;++b){if(!(S!=null&&S.next))throw new Error("unknown error");S=S==null?void 0:S.next}if(!S)throw new Error("unknown error");var T=S.next;for(h+=_;_--;)S.next=new c(A),S.next.pre=S,S=S.next;S.next=T,T&&(T.pre=S)}},this.find=function(y){for(var A=g;A;){if(A.value===y)return!0;A=A.next}return!1},this.reverse=function(){for(var y=g,A=v,_=0;y&&A&&_*2<h;){var S=y.value;y.value=A.value,A.value=S,y=y.next,A=A.pre,++_}},this.unique=function(){for(var y=g;y;){for(var A=y;A&&A.next&&A.value===A.next.value;)A=A.next,h>0&&--h;y.next=A.next,y.next&&(y.next.pre=y),y=y.next}},this.sort=function(y){var A=[];this.forEach(function(S){A.push(S)}),A.sort(y);var _=g;A.forEach(function(S){_&&(_.value=S,_=_.next)})},this.pushFront=function(y){if(y==null)throw new Error("you can't push null or undefined here");++h;var A=new c(y);g?(A.next=g,g.pre=A,g=A):g=v=A},this.popFront=function(){g&&(h>0&&--h,g&&(g===v?g=v=void 0:(g=g.next,g&&(g.pre=void 0))))},this.merge=function(y){var A=this,_=g;y.forEach(function(S){for(;_&&_.value!==void 0&&_.value<=S;)_=_.next;if(_===void 0)A.pushBack(S),_=v;else if(_===g)A.pushFront(S),_=g;else{++h;var b=_.pre;b&&(b.next=new c(S),b.next.pre=b,b.next.next=_,_&&(_.pre=b.next))}})},this[Symbol.iterator]=function(){return function(){var y;return u(this,function(A){switch(A.label){case 0:y=g,A.label=1;case 1:if(y===void 0)return[3,3];if(!y.value)throw new Error("unknown error");return[4,y.value];case 2:return A.sent(),y=y.next,[3,1];case 3:return[2]}})}()},d.forEach(function(y){return p.pushBack(y)}),Object.freeze(this)}Object.freeze(f),a.default=f},{}],30:[function(i,o,a){var u=this&&this.__generator||function(p,h){var g={label:0,sent:function(){if(A[0]&1)throw A[1];return A[1]},trys:[],ops:[]},v,y,A,_;return _={next:S(0),throw:S(1),return:S(2)},typeof Symbol=="function"&&(_[Symbol.iterator]=function(){return this}),_;function S(T){return function(w){return b([T,w])}}function b(T){if(v)throw new TypeError("Generator is already executing.");for(;g;)try{if(v=1,y&&(A=T[0]&2?y.return:T[0]?y.throw||((A=y.return)&&A.call(y),0):y.next)&&!(A=A.call(y,T[1])).done)return A;switch(y=0,A&&(T=[T[0]&2,A.value]),T[0]){case 0:case 1:A=T;break;case 4:return g.label++,{value:T[1],done:!1};case 5:g.label++,y=T[1],T=[0];continue;case 7:T=g.ops.pop(),g.trys.pop();continue;default:if(A=g.trys,!(A=A.length>0&&A[A.length-1])&&(T[0]===6||T[0]===2)){g=0;continue}if(T[0]===3&&(!A||T[1]>A[0]&&T[1]<A[3])){g.label=T[1];break}if(T[0]===6&&g.label<A[1]){g.label=A[1],A=T;break}if(A&&g.label<A[2]){g.label=A[2],g.ops.push(T);break}A[2]&&g.ops.pop(),g.trys.pop();continue}T=h.call(p,g)}catch(w){T=[6,w],y=0}finally{v=A=0}if(T[0]&5)throw T[1];return{value:T[0]?T[1]:void 0,done:!0}}},c=this&&this.__values||function(p){var h=typeof Symbol=="function"&&Symbol.iterator,g=h&&p[h],v=0;if(g)return g.call(p);if(p&&typeof p.length=="number")return{next:function(){return p&&v>=p.length&&(p=void 0),{value:p&&p[v++],done:!p}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(a,"__esModule",{value:!0});var f=i("../Base/TreeNode");function d(p,h){var g=this;p===void 0&&(p=[]),h=h||function(L,F){return L<F?-1:L>F?1:0};var v=0,y=new f.default;y.color=f.default.TreeNodeColorType.black,this.size=function(){return v},this.empty=function(){return v===0},this.clear=function(){v=0,y.key=y.value=void 0,y.leftChild=y.rightChild=y.brother=void 0};var A=function(L){if(!L||L.key===void 0)throw new Error("unknown error");return L.leftChild?A(L.leftChild):L},_=function(L){if(!L||L.key===void 0)throw new Error("unknown error");return L.rightChild?_(L.rightChild):L};this.front=function(){if(!this.empty()){var L=A(y);if(L.key===void 0||L.value===void 0)throw new Error("unknown error");return{key:L.key,value:L.value}}},this.back=function(){if(!this.empty()){var L=_(y);if(L.key===void 0||L.value===void 0)throw new Error("unknown error");return{key:L.key,value:L.value}}},this.forEach=function(L){var F,O,ue=0;try{for(var _e=c(this),Ce=_e.next();!Ce.done;Ce=_e.next()){var de=Ce.value;L(de,ue++)}}catch(ie){F={error:ie}}finally{try{Ce&&!Ce.done&&(O=_e.return)&&O.call(_e)}finally{if(F)throw F.error}}},this.getElementByPos=function(L){var F,O;if(L<0||L>=this.size())throw new Error("pos must more than 0 and less than set's size");var ue=0;try{for(var _e=c(this),Ce=_e.next();!Ce.done;Ce=_e.next()){var de=Ce.value;if(ue===L)return de;++ue}}catch(ie){F={error:ie}}finally{try{Ce&&!Ce.done&&(O=_e.return)&&O.call(_e)}finally{if(F)throw F.error}}throw new Error("unknown Error")};var S=function(L,F){if(!(!L||L.key===void 0||L.value===void 0)){var O=h(L.key,F);return O===0?{key:L.key,value:L.value}:O<0?S(L.rightChild,F):S(L.leftChild,F)||{key:L.key,value:L.value}}};this.lowerBound=function(L){return S(y,L)};var b=function(L,F){if(!(!L||L.key===void 0||L.value===void 0)){var O=h(L.key,F);return O<=0?b(L.rightChild,F):b(L.leftChild,F)||{key:L.key,value:L.value}}};this.upperBound=function(L){return b(y,L)};var T=function(L,F){if(!(!L||L.key===void 0||L.value===void 0)){var O=h(L.key,F);return O===0?{key:L.key,value:L.value}:O>0?T(L.leftChild,F):T(L.rightChild,F)||{key:L.key,value:L.value}}};this.reverseLowerBound=function(L){return T(y,L)};var w=function(L,F){if(!(!L||L.key===void 0||L.value===void 0)){var O=h(L.key,F);return O>=0?w(L.leftChild,F):w(L.rightChild,F)||{key:L.key,value:L.value}}};this.reverseUpperBound=function(L){return w(y,L)};var x=function(L){var F=L.parent;if(!F){if(L===y)return;throw new Error("unknown error")}if(L.color===f.default.TreeNodeColorType.red){L.color=f.default.TreeNodeColorType.black;return}var O=L.brother;if(!O)throw new Error("unknown error");if(L===F.leftChild){if(O.color===f.default.TreeNodeColorType.red){O.color=f.default.TreeNodeColorType.black,F.color=f.default.TreeNodeColorType.red;var ue=F.rotateLeft();y===F&&(y=ue),x(L)}else if(O.color===f.default.TreeNodeColorType.black)if(O.rightChild&&O.rightChild.color===f.default.TreeNodeColorType.red){O.color=F.color,F.color=f.default.TreeNodeColorType.black,O.rightChild&&(O.rightChild.color=f.default.TreeNodeColorType.black);var ue=F.rotateLeft();y===F&&(y=ue),L.color=f.default.TreeNodeColorType.black}else if((!O.rightChild||O.rightChild.color===f.default.TreeNodeColorType.black)&&O.leftChild&&O.leftChild.color===f.default.TreeNodeColorType.red){O.color=f.default.TreeNodeColorType.red,O.leftChild&&(O.leftChild.color=f.default.TreeNodeColorType.black);var ue=O.rotateRight();y===O&&(y=ue),x(L)}else(!O.leftChild||O.leftChild.color===f.default.TreeNodeColorType.black)&&(!O.rightChild||O.rightChild.color===f.default.TreeNodeColorType.black)&&(O.color=f.default.TreeNodeColorType.red,x(F))}else if(L===F.rightChild){if(O.color===f.default.TreeNodeColorType.red){O.color=f.default.TreeNodeColorType.black,F.color=f.default.TreeNodeColorType.red;var ue=F.rotateRight();y===F&&(y=ue),x(L)}else if(O.color===f.default.TreeNodeColorType.black)if(O.leftChild&&O.leftChild.color===f.default.TreeNodeColorType.red){O.color=F.color,F.color=f.default.TreeNodeColorType.black,O.leftChild&&(O.leftChild.color=f.default.TreeNodeColorType.black);var ue=F.rotateRight();y===F&&(y=ue),L.color=f.default.TreeNodeColorType.black}else if((!O.leftChild||O.leftChild.color===f.default.TreeNodeColorType.black)&&O.rightChild&&O.rightChild.color===f.default.TreeNodeColorType.red){O.color=f.default.TreeNodeColorType.red,O.rightChild&&(O.rightChild.color=f.default.TreeNodeColorType.black);var ue=O.rotateLeft();y===O&&(y=ue),x(L)}else(!O.leftChild||O.leftChild.color===f.default.TreeNodeColorType.black)&&(!O.rightChild||O.rightChild.color===f.default.TreeNodeColorType.black)&&(O.color=f.default.TreeNodeColorType.red,x(F))}},k=function(L){for(var F=L;F.leftChild||F.rightChild;){if(F.rightChild){F=A(F.rightChild);var O=L.key;L.key=F.key,F.key=O;var ue=L.value;L.value=F.value,F.value=ue,L=F}if(F.leftChild){F=_(F.leftChild);var O=L.key;L.key=F.key,F.key=O;var ue=L.value;L.value=F.value,F.value=ue,L=F}}x(F),F&&F.remove(),--v,y.color=f.default.TreeNodeColorType.black},M=function(L,F){if(!L||L.key===void 0)return!1;var O=M(L.leftChild,F);return O||F(L)?!0:M(L.rightChild,F)};this.eraseElementByPos=function(L){if(L<0||L>=v)throw new Error("pos must more than 0 and less than set's size");var F=0;M(y,function(O){return L===F?(k(O),!0):(++F,!1)})},this.eraseElementByKey=function(L){if(!this.empty()){var F=j(y,L);F===void 0||F.key===void 0||h(F.key,L)!==0||k(F)}};var D=function(L,F){if(!L||L.key===void 0)throw new Error("unknown error");var O=h(F,L.key);return O<0?L.leftChild?D(L.leftChild,F):(L.leftChild=new f.default,L.leftChild.parent=L,L.leftChild.brother=L.rightChild,L.rightChild&&(L.rightChild.brother=L.leftChild),L.leftChild):O>0?L.rightChild?D(L.rightChild,F):(L.rightChild=new f.default,L.rightChild.parent=L,L.rightChild.brother=L.leftChild,L.leftChild&&(L.leftChild.brother=L.rightChild),L.rightChild):L},z=function(L){var F=L.parent;if(!F){if(L===y)return;throw new Error("unknown error")}if(F.color!==f.default.TreeNodeColorType.black&&F.color===f.default.TreeNodeColorType.red){var O=F.brother,ue=F.parent;if(!ue)throw new Error("unknown error");if(O&&O.color===f.default.TreeNodeColorType.red)O.color=F.color=f.default.TreeNodeColorType.black,ue.color=f.default.TreeNodeColorType.red,z(ue);else if(!O||O.color===f.default.TreeNodeColorType.black){if(F===ue.leftChild){if(L===F.leftChild){F.color=f.default.TreeNodeColorType.black,ue.color=f.default.TreeNodeColorType.red;var _e=ue.rotateRight();ue===y&&(y=_e)}else if(L===F.rightChild){var _e=F.rotateLeft();ue===y&&(y=_e),z(F)}}else if(F===ue.rightChild){if(L===F.leftChild){var _e=F.rotateRight();ue===y&&(y=_e),z(F)}else if(L===F.rightChild){F.color=f.default.TreeNodeColorType.black,ue.color=f.default.TreeNodeColorType.red;var _e=ue.rotateLeft();ue===y&&(y=_e)}}}}};this.setElement=function(L,F){if(L==null)throw new Error("to avoid some unnecessary errors, we don't suggest you insert null or undefined here");if(F==null){this.eraseElementByKey(L);return}if(this.empty()){++v,y.key=L,y.value=F,y.color=f.default.TreeNodeColorType.black;return}var O=D(y,L);if(O.key!==void 0&&h(O.key,L)===0){O.value=F;return}++v,O.key=L,O.value=F,z(O),y.color=f.default.TreeNodeColorType.black};var j=function(L,F){if(!(!L||L.key===void 0)){var O=h(F,L.key);return O<0?j(L.leftChild,F):O>0?j(L.rightChild,F):L}};this.find=function(L){return!!j(y,L)},this.getElementByKey=function(L){var F=j(y,L);if((F==null?void 0:F.key)===void 0||(F==null?void 0:F.value)===void 0)throw new Error("unknown error");return F.value},this.union=function(L){var F=this;L.forEach(function(O){var ue=O.key,_e=O.value;return F.setElement(ue,_e)})},this.getHeight=function(){if(this.empty())return 0;var L=function(F){return F?Math.max(L(F.leftChild),L(F.rightChild))+1:1};return L(y)};var oe=function(L){return u(this,function(F){switch(F.label){case 0:return!L||L.key===void 0||L.value===void 0?[2]:[5,c(oe(L.leftChild))];case 1:return F.sent(),[4,{key:L.key,value:L.value}];case 2:return F.sent(),[5,c(oe(L.rightChild))];case 3:return F.sent(),[2]}})};this[Symbol.iterator]=function(){return oe(y)},p.forEach(function(L){var F=L.key,O=L.value;return g.setElement(F,O)}),Object.freeze(this)}Object.freeze(d),a.default=d},{"../Base/TreeNode":25}],31:[function(i,o,a){Object.defineProperty(a,"__esModule",{value:!0});function u(c,f){c===void 0&&(c=[]),f=f||function(v,y){return v>y?-1:v<y?1:0};var d=[];c.forEach(function(v){return d.push(v)});var p=d.length,h=function(v,y){if(v<0||v>=p)throw new Error("unknown error");if(y<0||y>=p)throw new Error("unknown error");var A=d[v];d[v]=d[y],d[y]=A},g=function(v){if(v<0||v>=p)throw new Error("unknown error");var y=v*2+1,A=v*2+2;y<p&&f(d[v],d[y])>0&&h(v,y),A<p&&f(d[v],d[A])>0&&h(v,A)};(function(){for(var v=Math.floor((p-1)/2);v>=0;--v)for(var y=v,A=y*2+1;A<p;){var _=A,S=_+1,b=_;if(S<p&&f(d[_],d[S])>0&&(b=S),f(d[y],d[b])<=0)break;h(y,b),y=b,A=y*2+1}})(),this.size=function(){return p},this.empty=function(){return p===0},this.clear=function(){p=0,d.length=0},this.push=function(v){if(d.push(v),++p,p!==1)for(var y=p-1;y>0;){var A=Math.floor((y-1)/2);if(f(d[A],v)<=0)break;g(A),y=A}},this.pop=function(){if(!this.empty()){if(this.size()===1){--p;return}var v=d[p-1];--p;for(var y=0;y<this.size();){var A=y*2+1,_=y*2+2;if(A>=this.size())break;var S=A;if(_<this.size()&&f(d[A],d[_])>0&&(S=_),f(d[S],v)>=0)break;d[y]=d[S],y=S}d[y]=v}},this.top=function(){return d[0]},Object.freeze(this)}Object.freeze(u),a.default=u},{}],32:[function(i,o,a){Object.defineProperty(a,"__esModule",{value:!0});var u=i("../LinkList/LinkList");function c(f){f===void 0&&(f=[]);var d=new u.default(f);this.size=function(){return d.size()},this.empty=function(){return d.empty()},this.clear=function(){d.clear()},this.push=function(p){d.pushBack(p)},this.pop=function(){d.popFront()},this.front=function(){return d.front()},Object.freeze(this)}Object.freeze(c),a.default=c},{"../LinkList/LinkList":29}],33:[function(i,o,a){var u=this&&this.__generator||function(p,h){var g={label:0,sent:function(){if(A[0]&1)throw A[1];return A[1]},trys:[],ops:[]},v,y,A,_;return _={next:S(0),throw:S(1),return:S(2)},typeof Symbol=="function"&&(_[Symbol.iterator]=function(){return this}),_;function S(T){return function(w){return b([T,w])}}function b(T){if(v)throw new TypeError("Generator is already executing.");for(;g;)try{if(v=1,y&&(A=T[0]&2?y.return:T[0]?y.throw||((A=y.return)&&A.call(y),0):y.next)&&!(A=A.call(y,T[1])).done)return A;switch(y=0,A&&(T=[T[0]&2,A.value]),T[0]){case 0:case 1:A=T;break;case 4:return g.label++,{value:T[1],done:!1};case 5:g.label++,y=T[1],T=[0];continue;case 7:T=g.ops.pop(),g.trys.pop();continue;default:if(A=g.trys,!(A=A.length>0&&A[A.length-1])&&(T[0]===6||T[0]===2)){g=0;continue}if(T[0]===3&&(!A||T[1]>A[0]&&T[1]<A[3])){g.label=T[1];break}if(T[0]===6&&g.label<A[1]){g.label=A[1],A=T;break}if(A&&g.label<A[2]){g.label=A[2],g.ops.push(T);break}A[2]&&g.ops.pop(),g.trys.pop();continue}T=h.call(p,g)}catch(w){T=[6,w],y=0}finally{v=A=0}if(T[0]&5)throw T[1];return{value:T[0]?T[1]:void 0,done:!0}}},c=this&&this.__values||function(p){var h=typeof Symbol=="function"&&Symbol.iterator,g=h&&p[h],v=0;if(g)return g.call(p);if(p&&typeof p.length=="number")return{next:function(){return p&&v>=p.length&&(p=void 0),{value:p&&p[v++],done:!p}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(a,"__esModule",{value:!0});var f=i("../Base/TreeNode");function d(p,h){var g=this;p===void 0&&(p=[]),h=h||function(L,F){return L<F?-1:L>F?1:0};var v=0,y=new f.default;y.color=f.default.TreeNodeColorType.black,this.size=function(){return v},this.empty=function(){return v===0},this.clear=function(){v=0,y.key=void 0,y.leftChild=y.rightChild=y.brother=y.parent=void 0,y.color=f.default.TreeNodeColorType.black};var A=function(L){if(!L||L.key===void 0)throw new Error("unknown error");return L.leftChild?A(L.leftChild):L},_=function(L){if(!L||L.key===void 0)throw new Error("unknown error");return L.rightChild?_(L.rightChild):L};this.front=function(){if(!this.empty()){var L=A(y);return L.key}},this.back=function(){if(!this.empty()){var L=_(y);return L.key}},this.forEach=function(L){var F,O,ue=0;try{for(var _e=c(this),Ce=_e.next();!Ce.done;Ce=_e.next()){var de=Ce.value;L(de,ue++)}}catch(ie){F={error:ie}}finally{try{Ce&&!Ce.done&&(O=_e.return)&&O.call(_e)}finally{if(F)throw F.error}}},this.getElementByPos=function(L){var F,O;if(L<0||L>=this.size())throw new Error("pos must more than 0 and less than set's size");var ue=0;try{for(var _e=c(this),Ce=_e.next();!Ce.done;Ce=_e.next()){var de=Ce.value;if(ue===L)return de;++ue}}catch(ie){F={error:ie}}finally{try{Ce&&!Ce.done&&(O=_e.return)&&O.call(_e)}finally{if(F)throw F.error}}throw new Error("unknown error")};var S=function(L){var F=L.parent;if(!F){if(L===y)return;throw new Error("unknown error")}if(L.color===f.default.TreeNodeColorType.red){L.color=f.default.TreeNodeColorType.black;return}var O=L.brother;if(!O)throw new Error("unknown error");if(L===F.leftChild){if(O.color===f.default.TreeNodeColorType.red){O.color=f.default.TreeNodeColorType.black,F.color=f.default.TreeNodeColorType.red;var ue=F.rotateLeft();y===F&&(y=ue),S(L)}else if(O.color===f.default.TreeNodeColorType.black)if(O.rightChild&&O.rightChild.color===f.default.TreeNodeColorType.red){O.color=F.color,F.color=f.default.TreeNodeColorType.black,O.rightChild&&(O.rightChild.color=f.default.TreeNodeColorType.black);var ue=F.rotateLeft();y===F&&(y=ue),L.color=f.default.TreeNodeColorType.black}else if((!O.rightChild||O.rightChild.color===f.default.TreeNodeColorType.black)&&O.leftChild&&O.leftChild.color===f.default.TreeNodeColorType.red){O.color=f.default.TreeNodeColorType.red,O.leftChild&&(O.leftChild.color=f.default.TreeNodeColorType.black);var ue=O.rotateRight();y===O&&(y=ue),S(L)}else(!O.leftChild||O.leftChild.color===f.default.TreeNodeColorType.black)&&(!O.rightChild||O.rightChild.color===f.default.TreeNodeColorType.black)&&(O.color=f.default.TreeNodeColorType.red,S(F))}else if(L===F.rightChild){if(O.color===f.default.TreeNodeColorType.red){O.color=f.default.TreeNodeColorType.black,F.color=f.default.TreeNodeColorType.red;var ue=F.rotateRight();y===F&&(y=ue),S(L)}else if(O.color===f.default.TreeNodeColorType.black)if(O.leftChild&&O.leftChild.color===f.default.TreeNodeColorType.red){O.color=F.color,F.color=f.default.TreeNodeColorType.black,O.leftChild&&(O.leftChild.color=f.default.TreeNodeColorType.black);var ue=F.rotateRight();y===F&&(y=ue),L.color=f.default.TreeNodeColorType.black}else if((!O.leftChild||O.leftChild.color===f.default.TreeNodeColorType.black)&&O.rightChild&&O.rightChild.color===f.default.TreeNodeColorType.red){O.color=f.default.TreeNodeColorType.red,O.rightChild&&(O.rightChild.color=f.default.TreeNodeColorType.black);var ue=O.rotateLeft();y===O&&(y=ue),S(L)}else(!O.leftChild||O.leftChild.color===f.default.TreeNodeColorType.black)&&(!O.rightChild||O.rightChild.color===f.default.TreeNodeColorType.black)&&(O.color=f.default.TreeNodeColorType.red,S(F))}},b=function(L){for(var F=L;F.leftChild||F.rightChild;){if(F.rightChild){F=A(F.rightChild);var O=L.key;L.key=F.key,F.key=O,L=F}if(F.leftChild){F=_(F.leftChild);var O=L.key;L.key=F.key,F.key=O,L=F}}S(F),F&&F.remove(),--v,y.color=f.default.TreeNodeColorType.black},T=function(L,F){if(!L||L.key===void 0)return!1;var O=T(L.leftChild,F);return O||F(L)?!0:T(L.rightChild,F)};this.eraseElementByPos=function(L){if(L<0||L>=v)throw new Error("pos must more than 0 and less than set's size");var F=0;T(y,function(O){return L===F?(b(O),!0):(++F,!1)})},this.eraseElementByValue=function(L){if(!this.empty()){var F=k(y,L);F===void 0||F.key===void 0||h(F.key,L)!==0||b(F)}};var w=function(L,F){if(!L||L.key===void 0)throw new Error("unknown error");var O=h(F,L.key);return O<0?L.leftChild?w(L.leftChild,F):(L.leftChild=new f.default,L.leftChild.parent=L,L.leftChild.brother=L.rightChild,L.rightChild&&(L.rightChild.brother=L.leftChild),L.leftChild):O>0?L.rightChild?w(L.rightChild,F):(L.rightChild=new f.default,L.rightChild.parent=L,L.rightChild.brother=L.leftChild,L.leftChild&&(L.leftChild.brother=L.rightChild),L.rightChild):L},x=function(L){var F=L.parent;if(!F){if(L===y)return;throw new Error("unknown error")}if(F.color!==f.default.TreeNodeColorType.black&&F.color===f.default.TreeNodeColorType.red){var O=F.brother,ue=F.parent;if(!ue)throw new Error("unknown error");if(O&&O.color===f.default.TreeNodeColorType.red)O.color=F.color=f.default.TreeNodeColorType.black,ue.color=f.default.TreeNodeColorType.red,x(ue);else if(!O||O.color===f.default.TreeNodeColorType.black){if(F===ue.leftChild){if(L===F.leftChild){F.color=f.default.TreeNodeColorType.black,ue.color=f.default.TreeNodeColorType.red;var _e=ue.rotateRight();ue===y&&(y=_e)}else if(L===F.rightChild){var _e=F.rotateLeft();ue===y&&(y=_e),x(F)}}else if(F===ue.rightChild){if(L===F.leftChild){var _e=F.rotateRight();ue===y&&(y=_e),x(F)}else if(L===F.rightChild){F.color=f.default.TreeNodeColorType.black,ue.color=f.default.TreeNodeColorType.red;var _e=ue.rotateLeft();ue===y&&(y=_e)}}}}};this.insert=function(L){if(L==null)throw new Error("to avoid some unnecessary errors, we don't suggest you insert null or undefined here");if(this.empty()){++v,y.key=L,y.color=f.default.TreeNodeColorType.black;return}var F=w(y,L);F.key!==void 0&&h(F.key,L)===0||(++v,F.key=L,x(F),y.color=f.default.TreeNodeColorType.black)};var k=function(L,F){if(!(!L||L.key===void 0)){var O=h(F,L.key);return O<0?k(L.leftChild,F):O>0?k(L.rightChild,F):L}};this.find=function(L){var F=k(y,L);return F!==void 0&&F.key!==void 0&&h(F.key,L)===0};var M=function(L,F){if(!(!L||L.key===void 0)){var O=h(L.key,F);if(O===0)return L.key;if(O<0)return M(L.rightChild,F);var ue=M(L.leftChild,F);return ue!==void 0?ue:L.key}};this.lowerBound=function(L){return M(y,L)};var D=function(L,F){if(!(!L||L.key===void 0)){var O=h(L.key,F);if(O<=0)return D(L.rightChild,F);var ue=D(L.leftChild,F);return ue!==void 0?ue:L.key}};this.upperBound=function(L){return D(y,L)};var z=function(L,F){if(!(!L||L.key===void 0)){var O=h(L.key,F);if(O===0)return L.key;if(O>0)return z(L.leftChild,F);var ue=z(L.rightChild,F);return ue!==void 0?ue:L.key}};this.reverseLowerBound=function(L){return z(y,L)};var j=function(L,F){if(!(!L||L.key===void 0)){var O=h(L.key,F);if(O>=0)return j(L.leftChild,F);var ue=j(L.rightChild,F);return ue!==void 0?ue:L.key}};this.reverseUpperBound=function(L){return j(y,L)},this.union=function(L){var F=this;L.forEach(function(O){return F.insert(O)})},this.getHeight=function(){if(this.empty())return 0;var L=function(F){return F?Math.max(L(F.leftChild),L(F.rightChild))+1:1};return L(y)};var oe=function(L){return u(this,function(F){switch(F.label){case 0:return!L||L.key===void 0?[2]:[5,c(oe(L.leftChild))];case 1:return F.sent(),[4,L.key];case 2:return F.sent(),[5,c(oe(L.rightChild))];case 3:return F.sent(),[2]}})};this[Symbol.iterator]=function(){return oe(y)},p.forEach(function(L){return g.insert(L)}),Object.freeze(this)}Object.freeze(d),a.default=d},{"../Base/TreeNode":25}],34:[function(i,o,a){Object.defineProperty(a,"__esModule",{value:!0});function u(c){var f=this;c===void 0&&(c=[]);var d=0,p=[];this.size=function(){return d},this.empty=function(){return d===0},this.clear=function(){d=0,p.length=0},this.push=function(h){p.push(h),++d},this.pop=function(){p.pop(),d>0&&--d},this.top=function(){return p[d-1]},c.forEach(function(h){return f.push(h)}),Object.freeze(this)}Object.freeze(u),a.default=u},{}],35:[function(i,o,a){var u=this&&this.__generator||function(h,g){var v={label:0,sent:function(){if(_[0]&1)throw _[1];return _[1]},trys:[],ops:[]},y,A,_,S;return S={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(S[Symbol.iterator]=function(){return this}),S;function b(w){return function(x){return T([w,x])}}function T(w){if(y)throw new TypeError("Generator is already executing.");for(;v;)try{if(y=1,A&&(_=w[0]&2?A.return:w[0]?A.throw||((_=A.return)&&_.call(A),0):A.next)&&!(_=_.call(A,w[1])).done)return _;switch(A=0,_&&(w=[w[0]&2,_.value]),w[0]){case 0:case 1:_=w;break;case 4:return v.label++,{value:w[1],done:!1};case 5:v.label++,A=w[1],w=[0];continue;case 7:w=v.ops.pop(),v.trys.pop();continue;default:if(_=v.trys,!(_=_.length>0&&_[_.length-1])&&(w[0]===6||w[0]===2)){v=0;continue}if(w[0]===3&&(!_||w[1]>_[0]&&w[1]<_[3])){v.label=w[1];break}if(w[0]===6&&v.label<_[1]){v.label=_[1],_=w;break}if(_&&v.label<_[2]){v.label=_[2],v.ops.push(w);break}_[2]&&v.ops.pop(),v.trys.pop();continue}w=g.call(h,v)}catch(x){w=[6,x],A=0}finally{y=_=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},c=this&&this.__read||function(h,g){var v=typeof Symbol=="function"&&h[Symbol.iterator];if(!v)return h;var y=v.call(h),A,_=[],S;try{for(;(g===void 0||g-- >0)&&!(A=y.next()).done;)_.push(A.value)}catch(b){S={error:b}}finally{try{A&&!A.done&&(v=y.return)&&v.call(y)}finally{if(S)throw S.error}}return _},f=this&&this.__spreadArray||function(h,g,v){if(v||arguments.length===2)for(var y=0,A=g.length,_;y<A;y++)(_||!(y in g))&&(_||(_=Array.prototype.slice.call(g,0,y)),_[y]=g[y]);return h.concat(_||Array.prototype.slice.call(g))},d=this&&this.__values||function(h){var g=typeof Symbol=="function"&&Symbol.iterator,v=g&&h[g],y=0;if(v)return v.call(h);if(h&&typeof h.length=="number")return{next:function(){return h&&y>=h.length&&(h=void 0),{value:h&&h[y++],done:!h}}};throw new TypeError(g?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(a,"__esModule",{value:!0});function p(h){var g=this;h===void 0&&(h=[]);var v=0,y=[];this.size=function(){return v},this.empty=function(){return v===0},this.clear=function(){v=0,y.length=0},this.front=function(){if(!this.empty())return y[0]},this.back=function(){if(!this.empty())return y[v-1]},this.forEach=function(A){y.forEach(A)},this.getElementByPos=function(A){if(A<0||A>=v)throw new Error("pos must more than 0 and less than vector's size");return y[A]},this.eraseElementByPos=function(A){if(A<0||A>=v)throw new Error("pos must more than 0 and less than vector's size");for(var _=A;_<v-1;++_)y[_]=y[_+1];this.popBack()},this.eraseElementByValue=function(A){var _=[];this.forEach(function(b){b!==A&&_.push(b)}),_.forEach(function(b,T){y[T]=b});for(var S=_.length;v>S;)this.popBack()},this.pushBack=function(A){y.push(A),++v},this.popBack=function(){y.pop(),v>0&&--v},this.setElementByPos=function(A,_){if(A<0||A>=v)throw new Error("pos must more than 0 and less than vector's size");y[A]=_},this.insert=function(A,_,S){if(S===void 0&&(S=1),A<0||A>v)throw new Error("pos must more than 0 and less than or equal to vector's size");y.splice.apply(y,f([A,0],c(new Array(S).fill(_)),!1)),v+=S},this.find=function(A){return y.includes(A)},this.reverse=function(){y.reverse()},this.unique=function(){var A,_=[];this.forEach(function(b,T){(T===0||b!==A)&&(_.push(b),A=b)}),_.forEach(function(b,T){y[T]=b});for(var S=_.length;v>S;)this.popBack()},this.sort=function(A){y.sort(A)},this[Symbol.iterator]=function(){return function(){return u(this,function(A){switch(A.label){case 0:return[5,d(y)];case 1:return[2,A.sent()]}})}()},h.forEach(function(A){return g.pushBack(A)}),Object.freeze(this)}Object.freeze(p),a.default=p},{}],36:[function(i,o,a){Object.defineProperty(a,"__esModule",{value:!0}),a.HashMap=a.HashSet=a.Map=a.Set=a.PriorityQueue=a.Deque=a.LinkList=a.Queue=a.Stack=a.Vector=void 0;var u=i("./Vector/Vector");a.Vector=u.default;var c=i("./Stack/Stack");a.Stack=c.default;var f=i("./Queue/Queue");a.Queue=f.default;var d=i("./LinkList/LinkList");a.LinkList=d.default;var p=i("./Deque/Deque");a.Deque=p.default;var h=i("./PriorityQueue/PriorityQueue");a.PriorityQueue=h.default;var g=i("./Set/Set");a.Set=g.default;var v=i("./Map/Map");a.Map=v.default;var y=i("./HashSet/HashSet");a.HashSet=y.default;var A=i("./HashMap/HashMap");a.HashMap=A.default},{"./Deque/Deque":26,"./HashMap/HashMap":27,"./HashSet/HashSet":28,"./LinkList/LinkList":29,"./Map/Map":30,"./PriorityQueue/PriorityQueue":31,"./Queue/Queue":32,"./Set/Set":33,"./Stack/Stack":34,"./Vector/Vector":35}],37:[function(i,o,a){const u=i("yallist"),c=Symbol("max"),f=Symbol("length"),d=Symbol("lengthCalculator"),p=Symbol("allowStale"),h=Symbol("maxAge"),g=Symbol("dispose"),v=Symbol("noDisposeOnSet"),y=Symbol("lruList"),A=Symbol("cache"),_=Symbol("updateAgeOnGet"),S=()=>1;class b{constructor(j){if(typeof j=="number"&&(j={max:j}),j||(j={}),j.max&&(typeof j.max!="number"||j.max<0))throw new TypeError("max must be a non-negative number");this[c]=j.max||1/0;const oe=j.length||S;if(this[d]=typeof oe!="function"?S:oe,this[p]=j.stale||!1,j.maxAge&&typeof j.maxAge!="number")throw new TypeError("maxAge must be a number");this[h]=j.maxAge||0,this[g]=j.dispose,this[v]=j.noDisposeOnSet||!1,this[_]=j.updateAgeOnGet||!1,this.reset()}set max(j){if(typeof j!="number"||j<0)throw new TypeError("max must be a non-negative number");this[c]=j||1/0,x(this)}get max(){return this[c]}set allowStale(j){this[p]=!!j}get allowStale(){return this[p]}set maxAge(j){if(typeof j!="number")throw new TypeError("maxAge must be a non-negative number");this[h]=j,x(this)}get maxAge(){return this[h]}set lengthCalculator(j){typeof j!="function"&&(j=S),j!==this[d]&&(this[d]=j,this[f]=0,this[y].forEach(oe=>{oe.length=this[d](oe.value,oe.key),this[f]+=oe.length})),x(this)}get lengthCalculator(){return this[d]}get length(){return this[f]}get itemCount(){return this[y].length}rforEach(j,oe){oe=oe||this;for(let L=this[y].tail;L!==null;){const F=L.prev;D(this,j,L,oe),L=F}}forEach(j,oe){oe=oe||this;for(let L=this[y].head;L!==null;){const F=L.next;D(this,j,L,oe),L=F}}keys(){return this[y].toArray().map(j=>j.key)}values(){return this[y].toArray().map(j=>j.value)}reset(){this[g]&&this[y]&&this[y].length&&this[y].forEach(j=>this[g](j.key,j.value)),this[A]=new Map,this[y]=new u,this[f]=0}dump(){return this[y].map(j=>w(this,j)?!1:{k:j.key,v:j.value,e:j.now+(j.maxAge||0)}).toArray().filter(j=>j)}dumpLru(){return this[y]}set(j,oe,L){if(L=L||this[h],L&&typeof L!="number")throw new TypeError("maxAge must be a number");const F=L?Date.now():0,O=this[d](oe,j);if(this[A].has(j)){if(O>this[c])return k(this,this[A].get(j)),!1;const Ce=this[A].get(j).value;return this[g]&&(this[v]||this[g](j,Ce.value)),Ce.now=F,Ce.maxAge=L,Ce.value=oe,this[f]+=O-Ce.length,Ce.length=O,this.get(j),x(this),!0}const ue=new M(j,oe,O,F,L);return ue.length>this[c]?(this[g]&&this[g](j,oe),!1):(this[f]+=ue.length,this[y].unshift(ue),this[A].set(j,this[y].head),x(this),!0)}has(j){if(!this[A].has(j))return!1;const oe=this[A].get(j).value;return!w(this,oe)}get(j){return T(this,j,!0)}peek(j){return T(this,j,!1)}pop(){const j=this[y].tail;return j?(k(this,j),j.value):null}del(j){k(this,this[A].get(j))}load(j){this.reset();const oe=Date.now();for(let L=j.length-1;L>=0;L--){const F=j[L],O=F.e||0;if(O===0)this.set(F.k,F.v);else{const ue=O-oe;ue>0&&this.set(F.k,F.v,ue)}}}prune(){this[A].forEach((j,oe)=>T(this,oe,!1))}}const T=(z,j,oe)=>{const L=z[A].get(j);if(L){const F=L.value;if(w(z,F)){if(k(z,L),!z[p])return}else oe&&(z[_]&&(L.value.now=Date.now()),z[y].unshiftNode(L));return F.value}},w=(z,j)=>{if(!j||!j.maxAge&&!z[h])return!1;const oe=Date.now()-j.now;return j.maxAge?oe>j.maxAge:z[h]&&oe>z[h]},x=z=>{if(z[f]>z[c])for(let j=z[y].tail;z[f]>z[c]&&j!==null;){const oe=j.prev;k(z,j),j=oe}},k=(z,j)=>{if(j){const oe=j.value;z[g]&&z[g](oe.key,oe.value),z[f]-=oe.length,z[A].delete(oe.key),z[y].removeNode(j)}};class M{constructor(j,oe,L,F,O){this.key=j,this.value=oe,this.length=L,this.now=F,this.maxAge=O||0}}const D=(z,j,oe,L)=>{let F=oe.value;w(z,F)&&(k(z,oe),z[p]||(F=void 0)),F&&j.call(L,F.value,F.key,z)};o.exports=b},{yallist:83}],38:[function(i,o,a){(function(u){(function(){const c=o.exports;c.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},c.codes={};for(const d in c.types){const p=c.types[d];c.codes[p]=d}c.CMD_SHIFT=4,c.CMD_MASK=240,c.DUP_MASK=8,c.QOS_MASK=3,c.QOS_SHIFT=1,c.RETAIN_MASK=1,c.VARBYTEINT_MASK=127,c.VARBYTEINT_FIN_MASK=128,c.VARBYTEINT_MAX=268435455,c.SESSIONPRESENT_MASK=1,c.SESSIONPRESENT_HEADER=u.from([c.SESSIONPRESENT_MASK]),c.CONNACK_HEADER=u.from([c.codes.connack<<c.CMD_SHIFT]),c.USERNAME_MASK=128,c.PASSWORD_MASK=64,c.WILL_RETAIN_MASK=32,c.WILL_QOS_MASK=24,c.WILL_QOS_SHIFT=3,c.WILL_FLAG_MASK=4,c.CLEAN_SESSION_MASK=2,c.CONNECT_HEADER=u.from([c.codes.connect<<c.CMD_SHIFT]),c.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},c.propertiesCodes={};for(const d in c.properties){const p=c.properties[d];c.propertiesCodes[p]=d}c.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"};function f(d){return[0,1,2].map(p=>[0,1].map(h=>[0,1].map(g=>{const v=u.alloc(1);return v.writeUInt8(c.codes[d]<<c.CMD_SHIFT|(h?c.DUP_MASK:0)|p<<c.QOS_SHIFT|g,0,!0),v})))}c.PUBLISH_HEADER=f("publish"),c.SUBSCRIBE_HEADER=f("subscribe"),c.SUBSCRIBE_OPTIONS_QOS_MASK=3,c.SUBSCRIBE_OPTIONS_NL_MASK=1,c.SUBSCRIBE_OPTIONS_NL_SHIFT=2,c.SUBSCRIBE_OPTIONS_RAP_MASK=1,c.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,c.SUBSCRIBE_OPTIONS_RH_MASK=3,c.SUBSCRIBE_OPTIONS_RH_SHIFT=4,c.SUBSCRIBE_OPTIONS_RH=[0,16,32],c.SUBSCRIBE_OPTIONS_NL=4,c.SUBSCRIBE_OPTIONS_RAP=8,c.SUBSCRIBE_OPTIONS_QOS=[0,1,2],c.UNSUBSCRIBE_HEADER=f("unsubscribe"),c.ACKS={unsuback:f("unsuback"),puback:f("puback"),pubcomp:f("pubcomp"),pubrel:f("pubrel"),pubrec:f("pubrec")},c.SUBACK_HEADER=u.from([c.codes.suback<<c.CMD_SHIFT]),c.VERSION3=u.from([3]),c.VERSION4=u.from([4]),c.VERSION5=u.from([5]),c.VERSION131=u.from([131]),c.VERSION132=u.from([132]),c.QOS=[0,1,2].map(d=>u.from([d])),c.EMPTY={pingreq:u.from([c.codes.pingreq<<4,0]),pingresp:u.from([c.codes.pingresp<<4,0]),disconnect:u.from([c.codes.disconnect<<4,0])}}).call(this)}).call(this,i("buffer").Buffer)},{buffer:17}],39:[function(i,o,a){(function(u){(function(){const c=i("./writeToStream"),f=i("events");function d(h,g){const v=new p;return c(h,v,g),v.concat()}class p extends f{constructor(){super(),this._array=new Array(20),this._i=0}write(g){return this._array[this._i++]=g,!0}concat(){let g=0;const v=new Array(this._array.length),y=this._array;let A=0,_;for(_=0;_<y.length&&y[_]!==void 0;_++)typeof y[_]!="string"?v[_]=y[_].length:v[_]=u.byteLength(y[_]),g+=v[_];const S=u.allocUnsafe(g);for(_=0;_<y.length&&y[_]!==void 0;_++)typeof y[_]!="string"?(y[_].copy(S,A),A+=v[_]):(S.write(y[_],A),A+=v[_]);return S}}o.exports=d}).call(this)}).call(this,i("buffer").Buffer)},{"./writeToStream":44,buffer:17,events:22}],40:[function(i,o,a){a.parser=i("./parser").parser,a.generate=i("./generate"),a.writeToStream=i("./writeToStream")},{"./generate":39,"./parser":43,"./writeToStream":44}],41:[function(i,o,a){(function(u){(function(){const f={},d=u.isBuffer(u.from([1,2]).subarray(0,1));function p(y){const A=u.allocUnsafe(2);return A.writeUInt8(y>>8,0),A.writeUInt8(y&255,0+1),A}function h(){for(let y=0;y<65536;y++)f[y]=p(y)}function g(y){let _=0,S=0;const b=u.allocUnsafe(4);do _=y%128|0,y=y/128|0,y>0&&(_=_|128),b.writeUInt8(_,S++);while(y>0&&S<4);return y>0&&(S=0),d?b.subarray(0,S):b.slice(0,S)}function v(y){const A=u.allocUnsafe(4);return A.writeUInt32BE(y,0),A}o.exports={cache:f,generateCache:h,generateNumber:p,genBufVariableByteInt:g,generate4ByteBuffer:v}}).call(this)}).call(this,i("buffer").Buffer)},{buffer:17}],42:[function(i,o,a){class u{constructor(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}}o.exports=u},{}],43:[function(i,o,a){const u=i("bl"),c=i("events"),f=i("./packet"),d=i("./constants"),p=i("debug")("mqtt-packet:parser");class h extends c{constructor(){super(),this.parser=this.constructor.parser}static parser(v){return this instanceof h?(this.settings=v||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState(),this):new h().parser(v)}_resetState(){p("_resetState: resetting packet, error, _list, and _stateCounter"),this.packet=new f,this.error=null,this._list=u(),this._stateCounter=0}parse(v){for(this.error&&this._resetState(),this._list.append(v),p("parse: current state: %s",this._states[this._stateCounter]);(this.packet.length!==-1||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,p("parse: state complete. _stateCounter is now: %d",this._stateCounter),p("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return p("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length),this._list.length}_parseHeader(){const v=this._list.readUInt8(0);return this.packet.cmd=d.types[v>>d.CMD_SHIFT],this.packet.retain=(v&d.RETAIN_MASK)!==0,this.packet.qos=v>>d.QOS_SHIFT&d.QOS_MASK,this.packet.dup=(v&d.DUP_MASK)!==0,p("_parseHeader: packet: %o",this.packet),this._list.consume(1),!0}_parseLength(){const v=this._parseVarByteNum(!0);return v&&(this.packet.length=v.value,this._list.consume(v.bytes)),p("_parseLength %d",v.value),!!v}_parsePayload(){p("_parsePayload: payload %O",this._list);let v=!1;if(this.packet.length===0||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}v=!0}return p("_parsePayload complete result: %s",v),v}_parseConnect(){p("_parseConnect");let v,y,A,_;const S={},b=this.packet,T=this._parseString();if(T===null)return this._emitError(new Error("Cannot parse protocolId"));if(T!=="MQTT"&&T!=="MQIsdp")return this._emitError(new Error("Invalid protocolId"));if(b.protocolId=T,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(b.protocolVersion=this._list.readUInt8(this._pos),b.protocolVersion>=128&&(b.bridgeMode=!0,b.protocolVersion=b.protocolVersion-128),b.protocolVersion!==3&&b.protocolVersion!==4&&b.protocolVersion!==5)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(S.username=this._list.readUInt8(this._pos)&d.USERNAME_MASK,S.password=this._list.readUInt8(this._pos)&d.PASSWORD_MASK,S.will=this._list.readUInt8(this._pos)&d.WILL_FLAG_MASK,S.will&&(b.will={},b.will.retain=(this._list.readUInt8(this._pos)&d.WILL_RETAIN_MASK)!==0,b.will.qos=(this._list.readUInt8(this._pos)&d.WILL_QOS_MASK)>>d.WILL_QOS_SHIFT),b.clean=(this._list.readUInt8(this._pos)&d.CLEAN_SESSION_MASK)!==0,this._pos++,b.keepalive=this._parseNum(),b.keepalive===-1)return this._emitError(new Error("Packet too short"));if(b.protocolVersion===5){const x=this._parseProperties();Object.getOwnPropertyNames(x).length&&(b.properties=x)}const w=this._parseString();if(w===null)return this._emitError(new Error("Packet too short"));if(b.clientId=w,p("_parseConnect: packet.clientId: %s",b.clientId),S.will){if(b.protocolVersion===5){const x=this._parseProperties();Object.getOwnPropertyNames(x).length&&(b.will.properties=x)}if(v=this._parseString(),v===null)return this._emitError(new Error("Cannot parse will topic"));if(b.will.topic=v,p("_parseConnect: packet.will.topic: %s",b.will.topic),y=this._parseBuffer(),y===null)return this._emitError(new Error("Cannot parse will payload"));b.will.payload=y,p("_parseConnect: packet.will.paylaod: %s",b.will.payload)}if(S.username){if(_=this._parseString(),_===null)return this._emitError(new Error("Cannot parse username"));b.username=_,p("_parseConnect: packet.username: %s",b.username)}if(S.password){if(A=this._parseBuffer(),A===null)return this._emitError(new Error("Cannot parse password"));b.password=A}return this.settings=b,p("_parseConnect: complete"),b}_parseConnack(){p("_parseConnack");const v=this.packet;if(this._list.length<1)return null;if(v.sessionPresent=!!(this._list.readUInt8(this._pos++)&d.SESSIONPRESENT_MASK),this.settings.protocolVersion===5)this._list.length>=2?v.reasonCode=this._list.readUInt8(this._pos++):v.reasonCode=0;else{if(this._list.length<2)return null;v.returnCode=this._list.readUInt8(this._pos++)}if(v.returnCode===-1||v.reasonCode===-1)return this._emitError(new Error("Cannot parse return code"));if(this.settings.protocolVersion===5){const y=this._parseProperties();Object.getOwnPropertyNames(y).length&&(v.properties=y)}p("_parseConnack: complete")}_parsePublish(){p("_parsePublish");const v=this.packet;if(v.topic=this._parseString(),v.topic===null)return this._emitError(new Error("Cannot parse topic"));if(!(v.qos>0&&!this._parseMessageId())){if(this.settings.protocolVersion===5){const y=this._parseProperties();Object.getOwnPropertyNames(y).length&&(v.properties=y)}v.payload=this._list.slice(this._pos,v.length),p("_parsePublish: payload from buffer list: %o",v.payload)}}_parseSubscribe(){p("_parseSubscribe");const v=this.packet;let y,A,_,S,b,T,w;if(v.qos!==1)return this._emitError(new Error("Wrong subscribe header"));if(v.subscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){const x=this._parseProperties();Object.getOwnPropertyNames(x).length&&(v.properties=x)}for(;this._pos<v.length;){if(y=this._parseString(),y===null)return this._emitError(new Error("Cannot parse topic"));if(this._pos>=v.length)return this._emitError(new Error("Malformed Subscribe Payload"));A=this._parseByte(),_=A&d.SUBSCRIBE_OPTIONS_QOS_MASK,T=(A>>d.SUBSCRIBE_OPTIONS_NL_SHIFT&d.SUBSCRIBE_OPTIONS_NL_MASK)!==0,b=(A>>d.SUBSCRIBE_OPTIONS_RAP_SHIFT&d.SUBSCRIBE_OPTIONS_RAP_MASK)!==0,S=A>>d.SUBSCRIBE_OPTIONS_RH_SHIFT&d.SUBSCRIBE_OPTIONS_RH_MASK,w={topic:y,qos:_},this.settings.protocolVersion===5?(w.nl=T,w.rap=b,w.rh=S):this.settings.bridgeMode&&(w.rh=0,w.rap=!0,w.nl=!0),p("_parseSubscribe: push subscription `%s` to subscription",w),v.subscriptions.push(w)}}}_parseSuback(){p("_parseSuback");const v=this.packet;if(this.packet.granted=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){const y=this._parseProperties();Object.getOwnPropertyNames(y).length&&(v.properties=y)}for(;this._pos<this.packet.length;)this.packet.granted.push(this._list.readUInt8(this._pos++))}}_parseUnsubscribe(){p("_parseUnsubscribe");const v=this.packet;if(v.unsubscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){const y=this._parseProperties();Object.getOwnPropertyNames(y).length&&(v.properties=y)}for(;this._pos<v.length;){const y=this._parseString();if(y===null)return this._emitError(new Error("Cannot parse topic"));p("_parseUnsubscribe: push topic `%s` to unsubscriptions",y),v.unsubscriptions.push(y)}}}_parseUnsuback(){p("_parseUnsuback");const v=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if(this.settings.protocolVersion===5){const y=this._parseProperties();for(Object.getOwnPropertyNames(y).length&&(v.properties=y),v.granted=[];this._pos<this.packet.length;)this.packet.granted.push(this._list.readUInt8(this._pos++))}}_parseConfirmation(){p("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);const v=this.packet;if(this._parseMessageId(),this.settings.protocolVersion===5&&(v.length>2?(v.reasonCode=this._parseByte(),p("_parseConfirmation: packet.reasonCode `%d`",v.reasonCode)):v.reasonCode=0,v.length>3)){const y=this._parseProperties();Object.getOwnPropertyNames(y).length&&(v.properties=y)}return!0}_parseDisconnect(){const v=this.packet;if(p("_parseDisconnect"),this.settings.protocolVersion===5){this._list.length>0?v.reasonCode=this._parseByte():v.reasonCode=0;const y=this._parseProperties();Object.getOwnPropertyNames(y).length&&(v.properties=y)}return p("_parseDisconnect result: true"),!0}_parseAuth(){p("_parseAuth");const v=this.packet;if(this.settings.protocolVersion!==5)return this._emitError(new Error("Not supported auth packet for this version MQTT"));v.reasonCode=this._parseByte();const y=this._parseProperties();return Object.getOwnPropertyNames(y).length&&(v.properties=y),p("_parseAuth: result: true"),!0}_parseMessageId(){const v=this.packet;return v.messageId=this._parseNum(),v.messageId===null?(this._emitError(new Error("Cannot parse messageId")),!1):(p("_parseMessageId: packet.messageId %d",v.messageId),!0)}_parseString(v){const y=this._parseNum(),A=y+this._pos;if(y===-1||A>this._list.length||A>this.packet.length)return null;const _=this._list.toString("utf8",this._pos,A);return this._pos+=y,p("_parseString: result: %s",_),_}_parseStringPair(){return p("_parseStringPair"),{name:this._parseString(),value:this._parseString()}}_parseBuffer(){const v=this._parseNum(),y=v+this._pos;if(v===-1||y>this._list.length||y>this.packet.length)return null;const A=this._list.slice(this._pos,y);return this._pos+=v,p("_parseBuffer: result: %o",A),A}_parseNum(){if(this._list.length-this._pos<2)return-1;const v=this._list.readUInt16BE(this._pos);return this._pos+=2,p("_parseNum: result: %s",v),v}_parse4ByteNum(){if(this._list.length-this._pos<4)return-1;const v=this._list.readUInt32BE(this._pos);return this._pos+=4,p("_parse4ByteNum: result: %s",v),v}_parseVarByteNum(v){p("_parseVarByteNum");const y=4;let A=0,_=1,S=0,b=!1,T;const w=this._pos?this._pos:0;for(;A<y&&w+A<this._list.length;){if(T=this._list.readUInt8(w+A++),S+=_*(T&d.VARBYTEINT_MASK),_*=128,!(T&d.VARBYTEINT_FIN_MASK)){b=!0;break}if(this._list.length<=A)break}return!b&&A===y&&this._list.length>=A&&this._emitError(new Error("Invalid variable byte integer")),w&&(this._pos+=A),b=b?v?{bytes:A,value:S}:S:!1,p("_parseVarByteNum: result: %o",b),b}_parseByte(){let v;return this._pos<this._list.length&&(v=this._list.readUInt8(this._pos),this._pos++),p("_parseByte: result: %o",v),v}_parseByType(v){switch(p("_parseByType: type: %s",v),v){case"byte":return this._parseByte()!==0;case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}}_parseProperties(){p("_parseProperties");const v=this._parseVarByteNum(),A=this._pos+v,_={};for(;this._pos<A;){const S=this._parseByte();if(!S)return this._emitError(new Error("Cannot parse property code type")),!1;const b=d.propertiesCodes[S];if(!b)return this._emitError(new Error("Unknown property")),!1;if(b==="userProperties"){_[b]||(_[b]=Object.create(null));const T=this._parseByType(d.propertiesTypes[b]);if(_[b][T.name])if(Array.isArray(_[b][T.name]))_[b][T.name].push(T.value);else{const w=_[b][T.name];_[b][T.name]=[w],_[b][T.name].push(T.value)}else _[b][T.name]=T.value;continue}_[b]?Array.isArray(_[b])?_[b].push(this._parseByType(d.propertiesTypes[b])):(_[b]=[_[b]],_[b].push(this._parseByType(d.propertiesTypes[b]))):_[b]=this._parseByType(d.propertiesTypes[b])}return _}_newPacket(){return p("_newPacket"),this.packet&&(this._list.consume(this.packet.length),p("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length),this.emit("packet",this.packet)),p("_newPacket: new packet"),this.packet=new f,this._pos=0,!0}_emitError(v){p("_emitError"),this.error=v,this.emit("error",v)}}o.exports=h},{"./constants":38,"./packet":42,bl:15,debug:18,events:22}],44:[function(i,o,a){(function(u){(function(){const c=i("./constants"),f=u.allocUnsafe(0),d=u.from([0]),p=i("./numbers"),h=i("process-nextick-args").nextTick,g=i("debug")("mqtt-packet:writeToStream"),v=p.cache,y=p.generateNumber,A=p.generateCache,_=p.genBufVariableByteInt,S=p.generate4ByteBuffer;let b=Ie,T=!0;function w(Ne,pe,At){switch(g("generate called"),pe.cork&&(pe.cork(),h(x,pe)),T&&(T=!1,A()),g("generate: packet.cmd: %s",Ne.cmd),Ne.cmd){case"connect":return k(Ne,pe);case"connack":return M(Ne,pe,At);case"publish":return D(Ne,pe,At);case"puback":case"pubrec":case"pubrel":case"pubcomp":return z(Ne,pe,At);case"subscribe":return j(Ne,pe,At);case"suback":return oe(Ne,pe,At);case"unsubscribe":return L(Ne,pe,At);case"unsuback":return F(Ne,pe,At);case"pingreq":case"pingresp":return O(Ne,pe);case"disconnect":return ue(Ne,pe,At);case"auth":return _e(Ne,pe,At);default:return pe.emit("error",new Error("Unknown command")),!1}}Object.defineProperty(w,"cacheNumbers",{get(){return b===Ie},set(Ne){Ne?((!v||Object.keys(v).length===0)&&(T=!0),b=Ie):(T=!1,b=Oe)}});function x(Ne){Ne.uncork()}function k(Ne,pe,At){const Ve=Ne||{},xe=Ve.protocolId||"MQTT";let ze=Ve.protocolVersion||4;const Pt=Ve.will;let hn=Ve.clean;const ae=Ve.keepalive||0,le=Ve.clientId||"",re=Ve.username,V=Ve.password,$=Ve.properties;hn===void 0&&(hn=!0);let he=0;if(!xe||typeof xe!="string"&&!u.isBuffer(xe))return pe.emit("error",new Error("Invalid protocolId")),!1;if(he+=xe.length+2,ze!==3&&ze!==4&&ze!==5)return pe.emit("error",new Error("Invalid protocol version")),!1;if(he+=1,(typeof le=="string"||u.isBuffer(le))&&(le||ze>=4)&&(le||hn))he+=u.byteLength(le)+2;else{if(ze<4)return pe.emit("error",new Error("clientId must be supplied before 3.1.1")),!1;if(hn*1===0)return pe.emit("error",new Error("clientId must be given if cleanSession set to 0")),!1}if(typeof ae!="number"||ae<0||ae>65535||ae%1!==0)return pe.emit("error",new Error("Invalid keepalive")),!1;if(he+=2,he+=1,ze===5){var Ue=Fe(pe,$);if(!Ue)return!1;he+=Ue.length}if(Pt){if(typeof Pt!="object")return pe.emit("error",new Error("Invalid will")),!1;if(!Pt.topic||typeof Pt.topic!="string")return pe.emit("error",new Error("Invalid will topic")),!1;if(he+=u.byteLength(Pt.topic)+2,he+=2,Pt.payload)if(Pt.payload.length>=0)typeof Pt.payload=="string"?he+=u.byteLength(Pt.payload):he+=Pt.payload.length;else return pe.emit("error",new Error("Invalid will payload")),!1;var qe={};if(ze===5){if(qe=Fe(pe,Pt.properties),!qe)return!1;he+=qe.length}}let jt=!1;if(re!=null)if(Et(re))jt=!0,he+=u.byteLength(re)+2;else return pe.emit("error",new Error("Invalid username")),!1;if(V!=null){if(!jt)return pe.emit("error",new Error("Username is required to use password")),!1;if(Et(V))he+=In(V)+2;else return pe.emit("error",new Error("Invalid password")),!1}pe.write(c.CONNECT_HEADER),de(pe,he),Dt(pe,xe),Ve.bridgeMode&&(ze+=128),pe.write(ze===131?c.VERSION131:ze===132?c.VERSION132:ze===4?c.VERSION4:ze===5?c.VERSION5:c.VERSION3);let An=0;return An|=re!=null?c.USERNAME_MASK:0,An|=V!=null?c.PASSWORD_MASK:0,An|=Pt&&Pt.retain?c.WILL_RETAIN_MASK:0,An|=Pt&&Pt.qos?Pt.qos<<c.WILL_QOS_SHIFT:0,An|=Pt?c.WILL_FLAG_MASK:0,An|=hn?c.CLEAN_SESSION_MASK:0,pe.write(u.from([An])),b(pe,ae),ze===5&&Ue.write(),Dt(pe,le),Pt&&(ze===5&&qe.write(),ie(pe,Pt.topic),Dt(pe,Pt.payload)),re!=null&&Dt(pe,re),V!=null&&Dt(pe,V),!0}function M(Ne,pe,At){const Ve=At?At.protocolVersion:4,xe=Ne||{},ze=Ve===5?xe.reasonCode:xe.returnCode,Pt=xe.properties;let hn=2;if(typeof ze!="number")return pe.emit("error",new Error("Invalid return code")),!1;let ae=null;if(Ve===5){if(ae=Fe(pe,Pt),!ae)return!1;hn+=ae.length}return pe.write(c.CONNACK_HEADER),de(pe,hn),pe.write(xe.sessionPresent?c.SESSIONPRESENT_HEADER:d),pe.write(u.from([ze])),ae!=null&&ae.write(),!0}function D(Ne,pe,At){g("publish: packet: %o",Ne);const Ve=At?At.protocolVersion:4,xe=Ne||{},ze=xe.qos||0,Pt=xe.retain?c.RETAIN_MASK:0,hn=xe.topic,ae=xe.payload||f,le=xe.messageId,re=xe.properties;let V=0;if(typeof hn=="string")V+=u.byteLength(hn)+2;else if(u.isBuffer(hn))V+=hn.length+2;else return pe.emit("error",new Error("Invalid topic")),!1;if(u.isBuffer(ae)?V+=ae.length:V+=u.byteLength(ae),ze&&typeof le!="number")return pe.emit("error",new Error("Invalid messageId")),!1;ze&&(V+=2);let $=null;if(Ve===5){if($=Fe(pe,re),!$)return!1;V+=$.length}return pe.write(c.PUBLISH_HEADER[ze][xe.dup?1:0][Pt?1:0]),de(pe,V),b(pe,In(hn)),pe.write(hn),ze>0&&b(pe,le),$!=null&&$.write(),g("publish: payload: %o",ae),pe.write(ae)}function z(Ne,pe,At){const Ve=At?At.protocolVersion:4,xe=Ne||{},ze=xe.cmd||"puback",Pt=xe.messageId,hn=xe.dup&&ze==="pubrel"?c.DUP_MASK:0;let ae=0;const le=xe.reasonCode,re=xe.properties;let V=Ve===5?3:2;if(ze==="pubrel"&&(ae=1),typeof Pt!="number")return pe.emit("error",new Error("Invalid messageId")),!1;let $=null;if(Ve===5&&typeof re=="object"){if($=$e(pe,re,At,V),!$)return!1;V+=$.length}return pe.write(c.ACKS[ze][ae][hn][0]),de(pe,V),b(pe,Pt),Ve===5&&pe.write(u.from([le])),$!==null&&$.write(),!0}function j(Ne,pe,At){g("subscribe: packet: ");const Ve=At?At.protocolVersion:4,xe=Ne||{},ze=xe.dup?c.DUP_MASK:0,Pt=xe.messageId,hn=xe.subscriptions,ae=xe.properties;let le=0;if(typeof Pt!="number")return pe.emit("error",new Error("Invalid messageId")),!1;le+=2;let re=null;if(Ve===5){if(re=Fe(pe,ae),!re)return!1;le+=re.length}if(typeof hn=="object"&&hn.length)for(let $=0;$<hn.length;$+=1){const he=hn[$].topic,Ue=hn[$].qos;if(typeof he!="string")return pe.emit("error",new Error("Invalid subscriptions - invalid topic")),!1;if(typeof Ue!="number")return pe.emit("error",new Error("Invalid subscriptions - invalid qos")),!1;if(Ve===5){if(typeof(hn[$].nl||!1)!="boolean")return pe.emit("error",new Error("Invalid subscriptions - invalid No Local")),!1;if(typeof(hn[$].rap||!1)!="boolean")return pe.emit("error",new Error("Invalid subscriptions - invalid Retain as Published")),!1;const An=hn[$].rh||0;if(typeof An!="number"||An>2)return pe.emit("error",new Error("Invalid subscriptions - invalid Retain Handling")),!1}le+=u.byteLength(he)+2+1}else return pe.emit("error",new Error("Invalid subscriptions")),!1;g("subscribe: writing to stream: %o",c.SUBSCRIBE_HEADER),pe.write(c.SUBSCRIBE_HEADER[1][ze?1:0][0]),de(pe,le),b(pe,Pt),re!==null&&re.write();let V=!0;for(const $ of hn){const he=$.topic,Ue=$.qos,qe=+$.nl,jt=+$.rap,An=$.rh;let wn;ie(pe,he),wn=c.SUBSCRIBE_OPTIONS_QOS[Ue],Ve===5&&(wn|=qe?c.SUBSCRIBE_OPTIONS_NL:0,wn|=jt?c.SUBSCRIBE_OPTIONS_RAP:0,wn|=An?c.SUBSCRIBE_OPTIONS_RH[An]:0),V=pe.write(u.from([wn]))}return V}function oe(Ne,pe,At){const Ve=At?At.protocolVersion:4,xe=Ne||{},ze=xe.messageId,Pt=xe.granted,hn=xe.properties;let ae=0;if(typeof ze!="number")return pe.emit("error",new Error("Invalid messageId")),!1;if(ae+=2,typeof Pt=="object"&&Pt.length)for(let re=0;re<Pt.length;re+=1){if(typeof Pt[re]!="number")return pe.emit("error",new Error("Invalid qos vector")),!1;ae+=1}else return pe.emit("error",new Error("Invalid qos vector")),!1;let le=null;if(Ve===5){if(le=$e(pe,hn,At,ae),!le)return!1;ae+=le.length}return pe.write(c.SUBACK_HEADER),de(pe,ae),b(pe,ze),le!==null&&le.write(),pe.write(u.from(Pt))}function L(Ne,pe,At){const Ve=At?At.protocolVersion:4,xe=Ne||{},ze=xe.messageId,Pt=xe.dup?c.DUP_MASK:0,hn=xe.unsubscriptions,ae=xe.properties;let le=0;if(typeof ze!="number")return pe.emit("error",new Error("Invalid messageId")),!1;if(le+=2,typeof hn=="object"&&hn.length)for(let $=0;$<hn.length;$+=1){if(typeof hn[$]!="string")return pe.emit("error",new Error("Invalid unsubscriptions")),!1;le+=u.byteLength(hn[$])+2}else return pe.emit("error",new Error("Invalid unsubscriptions")),!1;let re=null;if(Ve===5){if(re=Fe(pe,ae),!re)return!1;le+=re.length}pe.write(c.UNSUBSCRIBE_HEADER[1][Pt?1:0][0]),de(pe,le),b(pe,ze),re!==null&&re.write();let V=!0;for(let $=0;$<hn.length;$++)V=ie(pe,hn[$]);return V}function F(Ne,pe,At){const Ve=At?At.protocolVersion:4,xe=Ne||{},ze=xe.messageId,Pt=xe.dup?c.DUP_MASK:0,hn=xe.granted,ae=xe.properties,le=xe.cmd,re=0;let V=2;if(typeof ze!="number")return pe.emit("error",new Error("Invalid messageId")),!1;if(Ve===5)if(typeof hn=="object"&&hn.length)for(let he=0;he<hn.length;he+=1){if(typeof hn[he]!="number")return pe.emit("error",new Error("Invalid qos vector")),!1;V+=1}else return pe.emit("error",new Error("Invalid qos vector")),!1;let $=null;if(Ve===5){if($=$e(pe,ae,At,V),!$)return!1;V+=$.length}return pe.write(c.ACKS[le][re][Pt][0]),de(pe,V),b(pe,ze),$!==null&&$.write(),Ve===5&&pe.write(u.from(hn)),!0}function O(Ne,pe,At){return pe.write(c.EMPTY[Ne.cmd])}function ue(Ne,pe,At){const Ve=At?At.protocolVersion:4,xe=Ne||{},ze=xe.reasonCode,Pt=xe.properties;let hn=Ve===5?1:0,ae=null;if(Ve===5){if(ae=$e(pe,Pt,At,hn),!ae)return!1;hn+=ae.length}return pe.write(u.from([c.codes.disconnect<<4])),de(pe,hn),Ve===5&&pe.write(u.from([ze])),ae!==null&&ae.write(),!0}function _e(Ne,pe,At){const Ve=At?At.protocolVersion:4,xe=Ne||{},ze=xe.reasonCode,Pt=xe.properties;let hn=Ve===5?1:0;Ve!==5&&pe.emit("error",new Error("Invalid mqtt version for auth packet"));const ae=$e(pe,Pt,At,hn);return ae?(hn+=ae.length,pe.write(u.from([c.codes.auth<<4])),de(pe,hn),pe.write(u.from([ze])),ae!==null&&ae.write(),!0):!1}const Ce={};function de(Ne,pe){if(pe>c.VARBYTEINT_MAX)return Ne.emit("error",new Error(`Invalid variable byte integer: ${pe}`)),!1;let At=Ce[pe];return At||(At=_(pe),pe<16384&&(Ce[pe]=At)),g("writeVarByteInt: writing to stream: %o",At),Ne.write(At)}function ie(Ne,pe){const At=u.byteLength(pe);return b(Ne,At),g("writeString: %s",pe),Ne.write(pe,"utf8")}function Y(Ne,pe,At){ie(Ne,pe),ie(Ne,At)}function Ie(Ne,pe){return g("writeNumberCached: number: %d",pe),g("writeNumberCached: %o",v[pe]),Ne.write(v[pe])}function Oe(Ne,pe){const At=y(pe);return g("writeNumberGenerated: %o",At),Ne.write(At)}function kt(Ne,pe){const At=S(pe);return g("write4ByteNumber: %o",At),Ne.write(At)}function Dt(Ne,pe){typeof pe=="string"?ie(Ne,pe):pe?(b(Ne,pe.length),Ne.write(pe)):b(Ne,0)}function Fe(Ne,pe){if(typeof pe!="object"||pe.length!=null)return{length:1,write(){Lt(Ne,{},0)}};let At=0;function Ve(ze,Pt){const hn=c.propertiesTypes[ze];let ae=0;switch(hn){case"byte":{if(typeof Pt!="boolean")return Ne.emit("error",new Error(`Invalid ${ze}: ${Pt}`)),!1;ae+=1+1;break}case"int8":{if(typeof Pt!="number"||Pt<0||Pt>255)return Ne.emit("error",new Error(`Invalid ${ze}: ${Pt}`)),!1;ae+=1+1;break}case"binary":{if(Pt&&Pt===null)return Ne.emit("error",new Error(`Invalid ${ze}: ${Pt}`)),!1;ae+=1+u.byteLength(Pt)+2;break}case"int16":{if(typeof Pt!="number"||Pt<0||Pt>65535)return Ne.emit("error",new Error(`Invalid ${ze}: ${Pt}`)),!1;ae+=1+2;break}case"int32":{if(typeof Pt!="number"||Pt<0||Pt>4294967295)return Ne.emit("error",new Error(`Invalid ${ze}: ${Pt}`)),!1;ae+=1+4;break}case"var":{if(typeof Pt!="number"||Pt<0||Pt>268435455)return Ne.emit("error",new Error(`Invalid ${ze}: ${Pt}`)),!1;ae+=1+u.byteLength(_(Pt));break}case"string":{if(typeof Pt!="string")return Ne.emit("error",new Error(`Invalid ${ze}: ${Pt}`)),!1;ae+=1+2+u.byteLength(Pt.toString());break}case"pair":{if(typeof Pt!="object")return Ne.emit("error",new Error(`Invalid ${ze}: ${Pt}`)),!1;ae+=Object.getOwnPropertyNames(Pt).reduce((le,re)=>{const V=Pt[re];return Array.isArray(V)?le+=V.reduce(($,he)=>($+=1+2+u.byteLength(re.toString())+2+u.byteLength(he.toString()),$),0):le+=1+2+u.byteLength(re.toString())+2+u.byteLength(Pt[re].toString()),le},0);break}default:return Ne.emit("error",new Error(`Invalid property ${ze}: ${Pt}`)),!1}return ae}if(pe)for(const ze in pe){let Pt=0,hn=0;const ae=pe[ze];if(Array.isArray(ae))for(let le=0;le<ae.length;le++){if(hn=Ve(ze,ae[le]),!hn)return!1;Pt+=hn}else{if(hn=Ve(ze,ae),!hn)return!1;Pt=hn}if(!Pt)return!1;At+=Pt}return{length:u.byteLength(_(At))+At,write(){Lt(Ne,pe,At)}}}function $e(Ne,pe,At,Ve){const xe=["reasonString","userProperties"],ze=At&&At.properties&&At.properties.maximumPacketSize?At.properties.maximumPacketSize:0;let Pt=Fe(Ne,pe);if(ze)for(;Ve+Pt.length>ze;){const hn=xe.shift();if(hn&&pe[hn])delete pe[hn],Pt=Fe(Ne,pe);else return!1}return Pt}function Cn(Ne,pe,At){switch(c.propertiesTypes[pe]){case"byte":{Ne.write(u.from([c.properties[pe]])),Ne.write(u.from([+At]));break}case"int8":{Ne.write(u.from([c.properties[pe]])),Ne.write(u.from([At]));break}case"binary":{Ne.write(u.from([c.properties[pe]])),Dt(Ne,At);break}case"int16":{Ne.write(u.from([c.properties[pe]])),b(Ne,At);break}case"int32":{Ne.write(u.from([c.properties[pe]])),kt(Ne,At);break}case"var":{Ne.write(u.from([c.properties[pe]])),de(Ne,At);break}case"string":{Ne.write(u.from([c.properties[pe]])),ie(Ne,At);break}case"pair":{Object.getOwnPropertyNames(At).forEach(xe=>{const ze=At[xe];Array.isArray(ze)?ze.forEach(Pt=>{Ne.write(u.from([c.properties[pe]])),Y(Ne,xe.toString(),Pt.toString())}):(Ne.write(u.from([c.properties[pe]])),Y(Ne,xe.toString(),ze.toString()))});break}default:return Ne.emit("error",new Error(`Invalid property ${pe} value: ${At}`)),!1}}function Lt(Ne,pe,At){de(Ne,At);for(const Ve in pe)if(Object.prototype.hasOwnProperty.call(pe,Ve)&&pe[Ve]!==null){const xe=pe[Ve];if(Array.isArray(xe))for(let ze=0;ze<xe.length;ze++)Cn(Ne,Ve,xe[ze]);else Cn(Ne,Ve,xe)}}function In(Ne){return Ne?Ne instanceof u?Ne.length:u.byteLength(Ne):0}function Et(Ne){return typeof Ne=="string"||Ne instanceof u}o.exports=w}).call(this)}).call(this,i("buffer").Buffer)},{"./constants":38,"./numbers":41,buffer:17,debug:18,"process-nextick-args":49}],45:[function(i,o,a){var u=1e3,c=u*60,f=c*60,d=f*24,p=d*7,h=d*365.25;o.exports=function(_,S){S=S||{};var b=typeof _;if(b==="string"&&_.length>0)return g(_);if(b==="number"&&isFinite(_))return S.long?y(_):v(_);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(_))};function g(_){if(_=String(_),!(_.length>100)){var S=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(_);if(S){var b=parseFloat(S[1]),T=(S[2]||"ms").toLowerCase();switch(T){case"years":case"year":case"yrs":case"yr":case"y":return b*h;case"weeks":case"week":case"w":return b*p;case"days":case"day":case"d":return b*d;case"hours":case"hour":case"hrs":case"hr":case"h":return b*f;case"minutes":case"minute":case"mins":case"min":case"m":return b*c;case"seconds":case"second":case"secs":case"sec":case"s":return b*u;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return b;default:return}}}}function v(_){var S=Math.abs(_);return S>=d?Math.round(_/d)+"d":S>=f?Math.round(_/f)+"h":S>=c?Math.round(_/c)+"m":S>=u?Math.round(_/u)+"s":_+"ms"}function y(_){var S=Math.abs(_);return S>=d?A(_,S,d,"day"):S>=f?A(_,S,f,"hour"):S>=c?A(_,S,c,"minute"):S>=u?A(_,S,u,"second"):_+" ms"}function A(_,S,b,T){var w=S>=b*1.5;return Math.round(_/b)+" "+T+(w?"s":"")}},{}],46:[function(i,o,a){const u=i("./lib/number-allocator.js");o.exports.NumberAllocator=u},{"./lib/number-allocator.js":47}],47:[function(i,o,a){const u=i("js-sdsl").Set,c=i("debug")("number-allocator:trace"),f=i("debug")("number-allocator:error");function d(h,g){this.low=h,this.high=g}d.prototype.equals=function(h){return this.low===h.low&&this.high===h.high},d.prototype.compare=function(h){return this.low<h.low&&this.high<h.low?-1:h.low<this.low&&h.high<this.low?1:0};function p(h,g){if(!(this instanceof p))return new p(h,g);this.min=h,this.max=g,this.ss=new u([],(v,y)=>v.compare(y)),c("Create"),this.clear()}p.prototype.firstVacant=function(){return this.ss.size()===0?null:this.ss.front().low},p.prototype.alloc=function(){if(this.ss.size()===0)return c("alloc():empty"),null;const h=this.ss.front(),g=h.low;return g+1<=h.high?++h.low:this.ss.eraseElementByPos(0),c("alloc():"+g),g},p.prototype.use=function(h){const g=new d(h,h),v=this.ss.lowerBound(g);if(v){if(v.equals(g))return this.ss.eraseElementByValue(v),c("use():"+h),!0;if(v.low>h)return!1;if(v.low===h)return++v.low,c("use():"+h),!0;if(v.high===h)return--v.high,c("use():"+h),!0;const y=v.low;return v.low=h+1,this.ss.insert(new d(y,h-1)),c("use():"+h),!0}return c("use():failed"),!1},p.prototype.free=function(h){if(h<this.min||h>this.max){f("free():"+h+" is out of range");return}const g=new d(h,h),v=this.ss.lowerBound(g);if(v){if(v.low<=h&&h<=v.high){f("free():"+h+" has already been vacant");return}if(v===this.ss.front())h+1===v.low?--v.low:this.ss.insert(g);else{const y=this.ss.reverseLowerBound(g);y.high+1===h?h+1===v.low?(this.ss.eraseElementByValue(y),v.low=y.low):y.high=h:h+1===v.low?v.low=h:this.ss.insert(g)}}else{if(v===this.ss.front()){this.ss.insert(g);return}const y=this.ss.reverseLowerBound(g);y.high+1===h?y.high=h:this.ss.insert(g)}c("free():"+h)},p.prototype.clear=function(){c("clear()"),this.ss.clear(),this.ss.insert(new d(this.min,this.max))},p.prototype.intervalCount=function(){return this.ss.size()},p.prototype.dump=function(){console.log("length:"+this.ss.size());for(const h of this.ss)console.log(h)},o.exports=p},{debug:18,"js-sdsl":36}],48:[function(i,o,a){var u=i("wrappy");o.exports=u(c),o.exports.strict=u(f),c.proto=c(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return c(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return f(this)},configurable:!0})});function c(d){var p=function(){return p.called?p.value:(p.called=!0,p.value=d.apply(this,arguments))};return p.called=!1,p}function f(d){var p=function(){if(p.called)throw new Error(p.onceError);return p.called=!0,p.value=d.apply(this,arguments)},h=d.name||"Function wrapped with `once`";return p.onceError=h+" shouldn't be called more than once",p.called=!1,p}},{wrappy:79}],49:[function(i,o,a){(function(u){(function(){typeof u>"u"||!u.version||u.version.indexOf("v0.")===0||u.version.indexOf("v1.")===0&&u.version.indexOf("v1.8.")!==0?o.exports={nextTick:c}:o.exports=u;function c(f,d,p,h){if(typeof f!="function")throw new TypeError('"callback" argument must be a function');var g=arguments.length,v,y;switch(g){case 0:case 1:return u.nextTick(f);case 2:return u.nextTick(function(){f.call(null,d)});case 3:return u.nextTick(function(){f.call(null,d,p)});case 4:return u.nextTick(function(){f.call(null,d,p,h)});default:for(v=new Array(g-1),y=0;y<v.length;)v[y++]=arguments[y];return u.nextTick(function(){f.apply(null,v)})}}}).call(this)}).call(this,i("_process"))},{_process:50}],50:[function(i,o,a){var u=o.exports={},c,f;function d(){throw new Error("setTimeout has not been defined")}function p(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?c=setTimeout:c=d}catch{c=d}try{typeof clearTimeout=="function"?f=clearTimeout:f=p}catch{f=p}})();function h(x){if(c===setTimeout)return setTimeout(x,0);if((c===d||!c)&&setTimeout)return c=setTimeout,setTimeout(x,0);try{return c(x,0)}catch{try{return c.call(null,x,0)}catch{return c.call(this,x,0)}}}function g(x){if(f===clearTimeout)return clearTimeout(x);if((f===p||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(x);try{return f(x)}catch{try{return f.call(null,x)}catch{return f.call(this,x)}}}var v=[],y=!1,A,_=-1;function S(){!y||!A||(y=!1,A.length?v=A.concat(v):_=-1,v.length&&b())}function b(){if(!y){var x=h(S);y=!0;for(var k=v.length;k;){for(A=v,v=[];++_<k;)A&&A[_].run();_=-1,k=v.length}A=null,y=!1,g(x)}}u.nextTick=function(x){var k=new Array(arguments.length-1);if(arguments.length>1)for(var M=1;M<arguments.length;M++)k[M-1]=arguments[M];v.push(new T(x,k)),v.length===1&&!y&&h(b)};function T(x,k){this.fun=x,this.array=k}T.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={};function w(){}u.on=w,u.addListener=w,u.once=w,u.off=w,u.removeListener=w,u.removeAllListeners=w,u.emit=w,u.prependListener=w,u.prependOnceListener=w,u.listeners=function(x){return[]},u.binding=function(x){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(x){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},{}],51:[function(i,o,a){(function(u){(function(){(function(c){var f=typeof a=="object"&&a&&!a.nodeType&&a,d=typeof o=="object"&&o&&!o.nodeType&&o,p=typeof u=="object"&&u;(p.global===p||p.window===p||p.self===p)&&(c=p);var h,g=2147483647,v=36,y=1,A=26,_=38,S=700,b=72,T=128,w="-",x=/^xn--/,k=/[^\x20-\x7E]/,M=/[\x2E\u3002\uFF0E\uFF61]/g,D={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},z=v-y,j=Math.floor,oe=String.fromCharCode,L;function F(Fe){throw new RangeError(D[Fe])}function O(Fe,$e){for(var Cn=Fe.length,Lt=[];Cn--;)Lt[Cn]=$e(Fe[Cn]);return Lt}function ue(Fe,$e){var Cn=Fe.split("@"),Lt="";Cn.length>1&&(Lt=Cn[0]+"@",Fe=Cn[1]),Fe=Fe.replace(M,".");var In=Fe.split("."),Et=O(In,$e).join(".");return Lt+Et}function _e(Fe){for(var $e=[],Cn=0,Lt=Fe.length,In,Et;Cn<Lt;)In=Fe.charCodeAt(Cn++),In>=55296&&In<=56319&&Cn<Lt?(Et=Fe.charCodeAt(Cn++),(Et&64512)==56320?$e.push(((In&1023)<<10)+(Et&1023)+65536):($e.push(In),Cn--)):$e.push(In);return $e}function Ce(Fe){return O(Fe,function($e){var Cn="";return $e>65535&&($e-=65536,Cn+=oe($e>>>10&1023|55296),$e=56320|$e&1023),Cn+=oe($e),Cn}).join("")}function de(Fe){return Fe-48<10?Fe-22:Fe-65<26?Fe-65:Fe-97<26?Fe-97:v}function ie(Fe,$e){return Fe+22+75*(Fe<26)-(($e!=0)<<5)}function Y(Fe,$e,Cn){var Lt=0;for(Fe=Cn?j(Fe/S):Fe>>1,Fe+=j(Fe/$e);Fe>z*A>>1;Lt+=v)Fe=j(Fe/z);return j(Lt+(z+1)*Fe/(Fe+_))}function Ie(Fe){var $e=[],Cn=Fe.length,Lt,In=0,Et=T,Ne=b,pe,At,Ve,xe,ze,Pt,hn,ae,le;for(pe=Fe.lastIndexOf(w),pe<0&&(pe=0),At=0;At<pe;++At)Fe.charCodeAt(At)>=128&&F("not-basic"),$e.push(Fe.charCodeAt(At));for(Ve=pe>0?pe+1:0;Ve<Cn;){for(xe=In,ze=1,Pt=v;Ve>=Cn&&F("invalid-input"),hn=de(Fe.charCodeAt(Ve++)),(hn>=v||hn>j((g-In)/ze))&&F("overflow"),In+=hn*ze,ae=Pt<=Ne?y:Pt>=Ne+A?A:Pt-Ne,!(hn<ae);Pt+=v)le=v-ae,ze>j(g/le)&&F("overflow"),ze*=le;Lt=$e.length+1,Ne=Y(In-xe,Lt,xe==0),j(In/Lt)>g-Et&&F("overflow"),Et+=j(In/Lt),In%=Lt,$e.splice(In++,0,Et)}return Ce($e)}function Oe(Fe){var $e,Cn,Lt,In,Et,Ne,pe,At,Ve,xe,ze,Pt=[],hn,ae,le,re;for(Fe=_e(Fe),hn=Fe.length,$e=T,Cn=0,Et=b,Ne=0;Ne<hn;++Ne)ze=Fe[Ne],ze<128&&Pt.push(oe(ze));for(Lt=In=Pt.length,In&&Pt.push(w);Lt<hn;){for(pe=g,Ne=0;Ne<hn;++Ne)ze=Fe[Ne],ze>=$e&&ze<pe&&(pe=ze);for(ae=Lt+1,pe-$e>j((g-Cn)/ae)&&F("overflow"),Cn+=(pe-$e)*ae,$e=pe,Ne=0;Ne<hn;++Ne)if(ze=Fe[Ne],ze<$e&&++Cn>g&&F("overflow"),ze==$e){for(At=Cn,Ve=v;xe=Ve<=Et?y:Ve>=Et+A?A:Ve-Et,!(At<xe);Ve+=v)re=At-xe,le=v-xe,Pt.push(oe(ie(xe+re%le,0))),At=j(re/le);Pt.push(oe(ie(At,0))),Et=Y(Cn,ae,Lt==In),Cn=0,++Lt}++Cn,++$e}return Pt.join("")}function kt(Fe){return ue(Fe,function($e){return x.test($e)?Ie($e.slice(4).toLowerCase()):$e})}function Dt(Fe){return ue(Fe,function($e){return k.test($e)?"xn--"+Oe($e):$e})}if(h={version:"1.4.1",ucs2:{decode:_e,encode:Ce},decode:Ie,encode:Oe,toASCII:Dt,toUnicode:kt},f&&d)if(o.exports==f)d.exports=h;else for(L in h)h.hasOwnProperty(L)&&(f[L]=h[L]);else c.punycode=h})(this)}).call(this)}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}],52:[function(i,o,a){function u(f,d){return Object.prototype.hasOwnProperty.call(f,d)}o.exports=function(f,d,p,h){d=d||"&",p=p||"=";var g={};if(typeof f!="string"||f.length===0)return g;var v=/\+/g;f=f.split(d);var y=1e3;h&&typeof h.maxKeys=="number"&&(y=h.maxKeys);var A=f.length;y>0&&A>y&&(A=y);for(var _=0;_<A;++_){var S=f[_].replace(v,"%20"),b=S.indexOf(p),T,w,x,k;b>=0?(T=S.substr(0,b),w=S.substr(b+1)):(T=S,w=""),x=decodeURIComponent(T),k=decodeURIComponent(w),u(g,x)?c(g[x])?g[x].push(k):g[x]=[g[x],k]:g[x]=k}return g};var c=Array.isArray||function(f){return Object.prototype.toString.call(f)==="[object Array]"}},{}],53:[function(i,o,a){var u=function(p){switch(typeof p){case"string":return p;case"boolean":return p?"true":"false";case"number":return isFinite(p)?p:"";default:return""}};o.exports=function(p,h,g,v){return h=h||"&",g=g||"=",p===null&&(p=void 0),typeof p=="object"?f(d(p),function(y){var A=encodeURIComponent(u(y))+g;return c(p[y])?f(p[y],function(_){return A+encodeURIComponent(u(_))}).join(h):A+encodeURIComponent(u(p[y]))}).join(h):v?encodeURIComponent(u(v))+g+encodeURIComponent(u(p)):""};var c=Array.isArray||function(p){return Object.prototype.toString.call(p)==="[object Array]"};function f(p,h){if(p.map)return p.map(h);for(var g=[],v=0;v<p.length;v++)g.push(h(p[v],v));return g}var d=Object.keys||function(p){var h=[];for(var g in p)Object.prototype.hasOwnProperty.call(p,g)&&h.push(g);return h}},{}],54:[function(i,o,a){a.decode=a.parse=i("./decode"),a.encode=a.stringify=i("./encode")},{"./decode":52,"./encode":53}],55:[function(i,o,a){function u(v,y){v.prototype=Object.create(y.prototype),v.prototype.constructor=v,v.__proto__=y}var c={};function f(v,y,A){A||(A=Error);function _(b,T,w){return typeof y=="string"?y:y(b,T,w)}var S=function(b){u(T,b);function T(w,x,k){return b.call(this,_(w,x,k))||this}return T}(A);S.prototype.name=A.name,S.prototype.code=v,c[v]=S}function d(v,y){if(Array.isArray(v)){var A=v.length;return v=v.map(function(_){return String(_)}),A>2?"one of ".concat(y," ").concat(v.slice(0,A-1).join(", "),", or ")+v[A-1]:A===2?"one of ".concat(y," ").concat(v[0]," or ").concat(v[1]):"of ".concat(y," ").concat(v[0])}else return"of ".concat(y," ").concat(String(v))}function p(v,y,A){return v.substr(!A||A<0?0:+A,y.length)===y}function h(v,y,A){return(A===void 0||A>v.length)&&(A=v.length),v.substring(A-y.length,A)===y}function g(v,y,A){return typeof A!="number"&&(A=0),A+y.length>v.length?!1:v.indexOf(y,A)!==-1}f("ERR_INVALID_OPT_VALUE",function(v,y){return'The value "'+y+'" is invalid for option "'+v+'"'},TypeError),f("ERR_INVALID_ARG_TYPE",function(v,y,A){var _;typeof y=="string"&&p(y,"not ")?(_="must not be",y=y.replace(/^not /,"")):_="must be";var S;if(h(v," argument"))S="The ".concat(v," ").concat(_," ").concat(d(y,"type"));else{var b=g(v,".")?"property":"argument";S='The "'.concat(v,'" ').concat(b," ").concat(_," ").concat(d(y,"type"))}return S+=". Received type ".concat(typeof A),S},TypeError),f("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),f("ERR_METHOD_NOT_IMPLEMENTED",function(v){return"The "+v+" method is not implemented"}),f("ERR_STREAM_PREMATURE_CLOSE","Premature close"),f("ERR_STREAM_DESTROYED",function(v){return"Cannot call "+v+" after a stream was destroyed"}),f("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),f("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),f("ERR_STREAM_WRITE_AFTER_END","write after end"),f("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),f("ERR_UNKNOWN_ENCODING",function(v){return"Unknown encoding: "+v},TypeError),f("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),o.exports.codes=c},{}],56:[function(i,o,a){(function(u){(function(){var c=Object.keys||function(_){var S=[];for(var b in _)S.push(b);return S};o.exports=v;var f=i("./_stream_readable"),d=i("./_stream_writable");i("inherits")(v,f);for(var p=c(d.prototype),h=0;h<p.length;h++){var g=p[h];v.prototype[g]||(v.prototype[g]=d.prototype[g])}function v(_){if(!(this instanceof v))return new v(_);f.call(this,_),d.call(this,_),this.allowHalfOpen=!0,_&&(_.readable===!1&&(this.readable=!1),_.writable===!1&&(this.writable=!1),_.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",y)))}Object.defineProperty(v.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(v.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(v.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function y(){this._writableState.ended||u.nextTick(A,this)}function A(_){_.end()}Object.defineProperty(v.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(S){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=S,this._writableState.destroyed=S)}})}).call(this)}).call(this,i("_process"))},{"./_stream_readable":58,"./_stream_writable":60,_process:50,inherits:24}],57:[function(i,o,a){o.exports=c;var u=i("./_stream_transform");i("inherits")(c,u);function c(f){if(!(this instanceof c))return new c(f);u.call(this,f)}c.prototype._transform=function(f,d,p){p(null,f)}},{"./_stream_transform":59,inherits:24}],58:[function(i,o,a){(function(u,c){(function(){o.exports=Ce;var f;Ce.ReadableState=_e,i("events").EventEmitter;var d=function(le,re){return le.listeners(re).length},p=i("./internal/streams/stream"),h=i("buffer").Buffer,g=c.Uint8Array||function(){};function v(ae){return h.from(ae)}function y(ae){return h.isBuffer(ae)||ae instanceof g}var A=i("util"),_;A&&A.debuglog?_=A.debuglog("stream"):_=function(){};var S=i("./internal/streams/buffer_list"),b=i("./internal/streams/destroy"),T=i("./internal/streams/state"),w=T.getHighWaterMark,x=i("../errors").codes,k=x.ERR_INVALID_ARG_TYPE,M=x.ERR_STREAM_PUSH_AFTER_EOF,D=x.ERR_METHOD_NOT_IMPLEMENTED,z=x.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,j,oe,L;i("inherits")(Ce,p);var F=b.errorOrDestroy,O=["error","close","destroy","pause","resume"];function ue(ae,le,re){if(typeof ae.prependListener=="function")return ae.prependListener(le,re);!ae._events||!ae._events[le]?ae.on(le,re):Array.isArray(ae._events[le])?ae._events[le].unshift(re):ae._events[le]=[re,ae._events[le]]}function _e(ae,le,re){f=f||i("./_stream_duplex"),ae=ae||{},typeof re!="boolean"&&(re=le instanceof f),this.objectMode=!!ae.objectMode,re&&(this.objectMode=this.objectMode||!!ae.readableObjectMode),this.highWaterMark=w(this,ae,"readableHighWaterMark",re),this.buffer=new S,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=ae.emitClose!==!1,this.autoDestroy=!!ae.autoDestroy,this.destroyed=!1,this.defaultEncoding=ae.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,ae.encoding&&(j||(j=i("string_decoder/").StringDecoder),this.decoder=new j(ae.encoding),this.encoding=ae.encoding)}function Ce(ae){if(f=f||i("./_stream_duplex"),!(this instanceof Ce))return new Ce(ae);var le=this instanceof f;this._readableState=new _e(ae,this,le),this.readable=!0,ae&&(typeof ae.read=="function"&&(this._read=ae.read),typeof ae.destroy=="function"&&(this._destroy=ae.destroy)),p.call(this)}Object.defineProperty(Ce.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(le){this._readableState&&(this._readableState.destroyed=le)}}),Ce.prototype.destroy=b.destroy,Ce.prototype._undestroy=b.undestroy,Ce.prototype._destroy=function(ae,le){le(ae)},Ce.prototype.push=function(ae,le){var re=this._readableState,V;return re.objectMode?V=!0:typeof ae=="string"&&(le=le||re.defaultEncoding,le!==re.encoding&&(ae=h.from(ae,le),le=""),V=!0),de(this,ae,le,!1,V)},Ce.prototype.unshift=function(ae){return de(this,ae,null,!0,!1)};function de(ae,le,re,V,$){_("readableAddChunk",le);var he=ae._readableState;if(le===null)he.reading=!1,Dt(ae,he);else{var Ue;if($||(Ue=Y(he,le)),Ue)F(ae,Ue);else if(he.objectMode||le&&le.length>0)if(typeof le!="string"&&!he.objectMode&&Object.getPrototypeOf(le)!==h.prototype&&(le=v(le)),V)he.endEmitted?F(ae,new z):ie(ae,he,le,!0);else if(he.ended)F(ae,new M);else{if(he.destroyed)return!1;he.reading=!1,he.decoder&&!re?(le=he.decoder.write(le),he.objectMode||le.length!==0?ie(ae,he,le,!1):Cn(ae,he)):ie(ae,he,le,!1)}else V||(he.reading=!1,Cn(ae,he))}return!he.ended&&(he.length<he.highWaterMark||he.length===0)}function ie(ae,le,re,V){le.flowing&&le.length===0&&!le.sync?(le.awaitDrain=0,ae.emit("data",re)):(le.length+=le.objectMode?1:re.length,V?le.buffer.unshift(re):le.buffer.push(re),le.needReadable&&Fe(ae)),Cn(ae,le)}function Y(ae,le){var re;return!y(le)&&typeof le!="string"&&le!==void 0&&!ae.objectMode&&(re=new k("chunk",["string","Buffer","Uint8Array"],le)),re}Ce.prototype.isPaused=function(){return this._readableState.flowing===!1},Ce.prototype.setEncoding=function(ae){j||(j=i("string_decoder/").StringDecoder);var le=new j(ae);this._readableState.decoder=le,this._readableState.encoding=this._readableState.decoder.encoding;for(var re=this._readableState.buffer.head,V="";re!==null;)V+=le.write(re.data),re=re.next;return this._readableState.buffer.clear(),V!==""&&this._readableState.buffer.push(V),this._readableState.length=V.length,this};var Ie=1073741824;function Oe(ae){return ae>=Ie?ae=Ie:(ae--,ae|=ae>>>1,ae|=ae>>>2,ae|=ae>>>4,ae|=ae>>>8,ae|=ae>>>16,ae++),ae}function kt(ae,le){return ae<=0||le.length===0&&le.ended?0:le.objectMode?1:ae!==ae?le.flowing&&le.length?le.buffer.head.data.length:le.length:(ae>le.highWaterMark&&(le.highWaterMark=Oe(ae)),ae<=le.length?ae:le.ended?le.length:(le.needReadable=!0,0))}Ce.prototype.read=function(ae){_("read",ae),ae=parseInt(ae,10);var le=this._readableState,re=ae;if(ae!==0&&(le.emittedReadable=!1),ae===0&&le.needReadable&&((le.highWaterMark!==0?le.length>=le.highWaterMark:le.length>0)||le.ended))return _("read: emitReadable",le.length,le.ended),le.length===0&&le.ended?ze(this):Fe(this),null;if(ae=kt(ae,le),ae===0&&le.ended)return le.length===0&&ze(this),null;var V=le.needReadable;_("need readable",V),(le.length===0||le.length-ae<le.highWaterMark)&&(V=!0,_("length less than watermark",V)),le.ended||le.reading?(V=!1,_("reading or ended",V)):V&&(_("do read"),le.reading=!0,le.sync=!0,le.length===0&&(le.needReadable=!0),this._read(le.highWaterMark),le.sync=!1,le.reading||(ae=kt(re,le)));var $;return ae>0?$=xe(ae,le):$=null,$===null?(le.needReadable=le.length<=le.highWaterMark,ae=0):(le.length-=ae,le.awaitDrain=0),le.length===0&&(le.ended||(le.needReadable=!0),re!==ae&&le.ended&&ze(this)),$!==null&&this.emit("data",$),$};function Dt(ae,le){if(_("onEofChunk"),!le.ended){if(le.decoder){var re=le.decoder.end();re&&re.length&&(le.buffer.push(re),le.length+=le.objectMode?1:re.length)}le.ended=!0,le.sync?Fe(ae):(le.needReadable=!1,le.emittedReadable||(le.emittedReadable=!0,$e(ae)))}}function Fe(ae){var le=ae._readableState;_("emitReadable",le.needReadable,le.emittedReadable),le.needReadable=!1,le.emittedReadable||(_("emitReadable",le.flowing),le.emittedReadable=!0,u.nextTick($e,ae))}function $e(ae){var le=ae._readableState;_("emitReadable_",le.destroyed,le.length,le.ended),!le.destroyed&&(le.length||le.ended)&&(ae.emit("readable"),le.emittedReadable=!1),le.needReadable=!le.flowing&&!le.ended&&le.length<=le.highWaterMark,Ve(ae)}function Cn(ae,le){le.readingMore||(le.readingMore=!0,u.nextTick(Lt,ae,le))}function Lt(ae,le){for(;!le.reading&&!le.ended&&(le.length<le.highWaterMark||le.flowing&&le.length===0);){var re=le.length;if(_("maybeReadMore read 0"),ae.read(0),re===le.length)break}le.readingMore=!1}Ce.prototype._read=function(ae){F(this,new D("_read()"))},Ce.prototype.pipe=function(ae,le){var re=this,V=this._readableState;switch(V.pipesCount){case 0:V.pipes=ae;break;case 1:V.pipes=[V.pipes,ae];break;default:V.pipes.push(ae);break}V.pipesCount+=1,_("pipe count=%d opts=%j",V.pipesCount,le);var $=(!le||le.end!==!1)&&ae!==u.stdout&&ae!==u.stderr,he=$?qe:kn;V.endEmitted?u.nextTick(he):re.once("end",he),ae.on("unpipe",Ue);function Ue(Rn,Nn){_("onunpipe"),Rn===re&&Nn&&Nn.hasUnpiped===!1&&(Nn.hasUnpiped=!0,wn())}function qe(){_("onend"),ae.end()}var jt=In(re);ae.on("drain",jt);var An=!1;function wn(){_("cleanup"),ae.removeListener("close",Tn),ae.removeListener("finish",Pn),ae.removeListener("drain",jt),ae.removeListener("error",xn),ae.removeListener("unpipe",Ue),re.removeListener("end",qe),re.removeListener("end",kn),re.removeListener("data",En),An=!0,V.awaitDrain&&(!ae._writableState||ae._writableState.needDrain)&&jt()}re.on("data",En);function En(Rn){_("ondata");var Nn=ae.write(Rn);_("dest.write",Nn),Nn===!1&&((V.pipesCount===1&&V.pipes===ae||V.pipesCount>1&&hn(V.pipes,ae)!==-1)&&!An&&(_("false write response, pause",V.awaitDrain),V.awaitDrain++),re.pause())}function xn(Rn){_("onerror",Rn),kn(),ae.removeListener("error",xn),d(ae,"error")===0&&F(ae,Rn)}ue(ae,"error",xn);function Tn(){ae.removeListener("finish",Pn),kn()}ae.once("close",Tn);function Pn(){_("onfinish"),ae.removeListener("close",Tn),kn()}ae.once("finish",Pn);function kn(){_("unpipe"),re.unpipe(ae)}return ae.emit("pipe",re),V.flowing||(_("pipe resume"),re.resume()),ae};function In(ae){return function(){var re=ae._readableState;_("pipeOnDrain",re.awaitDrain),re.awaitDrain&&re.awaitDrain--,re.awaitDrain===0&&d(ae,"data")&&(re.flowing=!0,Ve(ae))}}Ce.prototype.unpipe=function(ae){var le=this._readableState,re={hasUnpiped:!1};if(le.pipesCount===0)return this;if(le.pipesCount===1)return ae&&ae!==le.pipes?this:(ae||(ae=le.pipes),le.pipes=null,le.pipesCount=0,le.flowing=!1,ae&&ae.emit("unpipe",this,re),this);if(!ae){var V=le.pipes,$=le.pipesCount;le.pipes=null,le.pipesCount=0,le.flowing=!1;for(var he=0;he<$;he++)V[he].emit("unpipe",this,{hasUnpiped:!1});return this}var Ue=hn(le.pipes,ae);return Ue===-1?this:(le.pipes.splice(Ue,1),le.pipesCount-=1,le.pipesCount===1&&(le.pipes=le.pipes[0]),ae.emit("unpipe",this,re),this)},Ce.prototype.on=function(ae,le){var re=p.prototype.on.call(this,ae,le),V=this._readableState;return ae==="data"?(V.readableListening=this.listenerCount("readable")>0,V.flowing!==!1&&this.resume()):ae==="readable"&&!V.endEmitted&&!V.readableListening&&(V.readableListening=V.needReadable=!0,V.flowing=!1,V.emittedReadable=!1,_("on readable",V.length,V.reading),V.length?Fe(this):V.reading||u.nextTick(Ne,this)),re},Ce.prototype.addListener=Ce.prototype.on,Ce.prototype.removeListener=function(ae,le){var re=p.prototype.removeListener.call(this,ae,le);return ae==="readable"&&u.nextTick(Et,this),re},Ce.prototype.removeAllListeners=function(ae){var le=p.prototype.removeAllListeners.apply(this,arguments);return(ae==="readable"||ae===void 0)&&u.nextTick(Et,this),le};function Et(ae){var le=ae._readableState;le.readableListening=ae.listenerCount("readable")>0,le.resumeScheduled&&!le.paused?le.flowing=!0:ae.listenerCount("data")>0&&ae.resume()}function Ne(ae){_("readable nexttick read 0"),ae.read(0)}Ce.prototype.resume=function(){var ae=this._readableState;return ae.flowing||(_("resume"),ae.flowing=!ae.readableListening,pe(this,ae)),ae.paused=!1,this};function pe(ae,le){le.resumeScheduled||(le.resumeScheduled=!0,u.nextTick(At,ae,le))}function At(ae,le){_("resume",le.reading),le.reading||ae.read(0),le.resumeScheduled=!1,ae.emit("resume"),Ve(ae),le.flowing&&!le.reading&&ae.read(0)}Ce.prototype.pause=function(){return _("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(_("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Ve(ae){var le=ae._readableState;for(_("flow",le.flowing);le.flowing&&ae.read()!==null;);}Ce.prototype.wrap=function(ae){var le=this,re=this._readableState,V=!1;ae.on("end",function(){if(_("wrapped end"),re.decoder&&!re.ended){var Ue=re.decoder.end();Ue&&Ue.length&&le.push(Ue)}le.push(null)}),ae.on("data",function(Ue){if(_("wrapped data"),re.decoder&&(Ue=re.decoder.write(Ue)),!(re.objectMode&&Ue==null)&&!(!re.objectMode&&(!Ue||!Ue.length))){var qe=le.push(Ue);qe||(V=!0,ae.pause())}});for(var $ in ae)this[$]===void 0&&typeof ae[$]=="function"&&(this[$]=function(qe){return function(){return ae[qe].apply(ae,arguments)}}($));for(var he=0;he<O.length;he++)ae.on(O[he],this.emit.bind(this,O[he]));return this._read=function(Ue){_("wrapped _read",Ue),V&&(V=!1,ae.resume())},this},typeof Symbol=="function"&&(Ce.prototype[Symbol.asyncIterator]=function(){return oe===void 0&&(oe=i("./internal/streams/async_iterator")),oe(this)}),Object.defineProperty(Ce.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(Ce.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(Ce.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(le){this._readableState&&(this._readableState.flowing=le)}}),Ce._fromList=xe,Object.defineProperty(Ce.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function xe(ae,le){if(le.length===0)return null;var re;return le.objectMode?re=le.buffer.shift():!ae||ae>=le.length?(le.decoder?re=le.buffer.join(""):le.buffer.length===1?re=le.buffer.first():re=le.buffer.concat(le.length),le.buffer.clear()):re=le.buffer.consume(ae,le.decoder),re}function ze(ae){var le=ae._readableState;_("endReadable",le.endEmitted),le.endEmitted||(le.ended=!0,u.nextTick(Pt,le,ae))}function Pt(ae,le){if(_("endReadableNT",ae.endEmitted,ae.length),!ae.endEmitted&&ae.length===0&&(ae.endEmitted=!0,le.readable=!1,le.emit("end"),ae.autoDestroy)){var re=le._writableState;(!re||re.autoDestroy&&re.finished)&&le.destroy()}}typeof Symbol=="function"&&(Ce.from=function(ae,le){return L===void 0&&(L=i("./internal/streams/from")),L(Ce,ae,le)});function hn(ae,le){for(var re=0,V=ae.length;re<V;re++)if(ae[re]===le)return re;return-1}}).call(this)}).call(this,i("_process"),typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":55,"./_stream_duplex":56,"./internal/streams/async_iterator":61,"./internal/streams/buffer_list":62,"./internal/streams/destroy":63,"./internal/streams/from":65,"./internal/streams/state":67,"./internal/streams/stream":68,_process:50,buffer:17,events:22,inherits:24,"string_decoder/":75,util:16}],59:[function(i,o,a){o.exports=v;var u=i("../errors").codes,c=u.ERR_METHOD_NOT_IMPLEMENTED,f=u.ERR_MULTIPLE_CALLBACK,d=u.ERR_TRANSFORM_ALREADY_TRANSFORMING,p=u.ERR_TRANSFORM_WITH_LENGTH_0,h=i("./_stream_duplex");i("inherits")(v,h);function g(_,S){var b=this._transformState;b.transforming=!1;var T=b.writecb;if(T===null)return this.emit("error",new f);b.writechunk=null,b.writecb=null,S!=null&&this.push(S),T(_);var w=this._readableState;w.reading=!1,(w.needReadable||w.length<w.highWaterMark)&&this._read(w.highWaterMark)}function v(_){if(!(this instanceof v))return new v(_);h.call(this,_),this._transformState={afterTransform:g.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,_&&(typeof _.transform=="function"&&(this._transform=_.transform),typeof _.flush=="function"&&(this._flush=_.flush)),this.on("prefinish",y)}function y(){var _=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(S,b){A(_,S,b)}):A(this,null,null)}v.prototype.push=function(_,S){return this._transformState.needTransform=!1,h.prototype.push.call(this,_,S)},v.prototype._transform=function(_,S,b){b(new c("_transform()"))},v.prototype._write=function(_,S,b){var T=this._transformState;if(T.writecb=b,T.writechunk=_,T.writeencoding=S,!T.transforming){var w=this._readableState;(T.needTransform||w.needReadable||w.length<w.highWaterMark)&&this._read(w.highWaterMark)}},v.prototype._read=function(_){var S=this._transformState;S.writechunk!==null&&!S.transforming?(S.transforming=!0,this._transform(S.writechunk,S.writeencoding,S.afterTransform)):S.needTransform=!0},v.prototype._destroy=function(_,S){h.prototype._destroy.call(this,_,function(b){S(b)})};function A(_,S,b){if(S)return _.emit("error",S);if(b!=null&&_.push(b),_._writableState.length)throw new p;if(_._transformState.transforming)throw new d;return _.push(null)}},{"../errors":55,"./_stream_duplex":56,inherits:24}],60:[function(i,o,a){(function(u,c){(function(){o.exports=_e;function f(Ve){var xe=this;this.next=null,this.entry=null,this.finish=function(){At(xe,Ve)}}var d;_e.WritableState=O;var p={deprecate:i("util-deprecate")},h=i("./internal/streams/stream"),g=i("buffer").Buffer,v=c.Uint8Array||function(){};function y(Ve){return g.from(Ve)}function A(Ve){return g.isBuffer(Ve)||Ve instanceof v}var _=i("./internal/streams/destroy"),S=i("./internal/streams/state"),b=S.getHighWaterMark,T=i("../errors").codes,w=T.ERR_INVALID_ARG_TYPE,x=T.ERR_METHOD_NOT_IMPLEMENTED,k=T.ERR_MULTIPLE_CALLBACK,M=T.ERR_STREAM_CANNOT_PIPE,D=T.ERR_STREAM_DESTROYED,z=T.ERR_STREAM_NULL_VALUES,j=T.ERR_STREAM_WRITE_AFTER_END,oe=T.ERR_UNKNOWN_ENCODING,L=_.errorOrDestroy;i("inherits")(_e,h);function F(){}function O(Ve,xe,ze){d=d||i("./_stream_duplex"),Ve=Ve||{},typeof ze!="boolean"&&(ze=xe instanceof d),this.objectMode=!!Ve.objectMode,ze&&(this.objectMode=this.objectMode||!!Ve.writableObjectMode),this.highWaterMark=b(this,Ve,"writableHighWaterMark",ze),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Pt=Ve.decodeStrings===!1;this.decodeStrings=!Pt,this.defaultEncoding=Ve.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(hn){Dt(xe,hn)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Ve.emitClose!==!1,this.autoDestroy=!!Ve.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new f(this)}O.prototype.getBuffer=function(){for(var xe=this.bufferedRequest,ze=[];xe;)ze.push(xe),xe=xe.next;return ze},function(){try{Object.defineProperty(O.prototype,"buffer",{get:p.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var ue;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ue=Function.prototype[Symbol.hasInstance],Object.defineProperty(_e,Symbol.hasInstance,{value:function(xe){return ue.call(this,xe)?!0:this!==_e?!1:xe&&xe._writableState instanceof O}})):ue=function(xe){return xe instanceof this};function _e(Ve){d=d||i("./_stream_duplex");var xe=this instanceof d;if(!xe&&!ue.call(_e,this))return new _e(Ve);this._writableState=new O(Ve,this,xe),this.writable=!0,Ve&&(typeof Ve.write=="function"&&(this._write=Ve.write),typeof Ve.writev=="function"&&(this._writev=Ve.writev),typeof Ve.destroy=="function"&&(this._destroy=Ve.destroy),typeof Ve.final=="function"&&(this._final=Ve.final)),h.call(this)}_e.prototype.pipe=function(){L(this,new M)};function Ce(Ve,xe){var ze=new j;L(Ve,ze),u.nextTick(xe,ze)}function de(Ve,xe,ze,Pt){var hn;return ze===null?hn=new z:typeof ze!="string"&&!xe.objectMode&&(hn=new w("chunk",["string","Buffer"],ze)),hn?(L(Ve,hn),u.nextTick(Pt,hn),!1):!0}_e.prototype.write=function(Ve,xe,ze){var Pt=this._writableState,hn=!1,ae=!Pt.objectMode&&A(Ve);return ae&&!g.isBuffer(Ve)&&(Ve=y(Ve)),typeof xe=="function"&&(ze=xe,xe=null),ae?xe="buffer":xe||(xe=Pt.defaultEncoding),typeof ze!="function"&&(ze=F),Pt.ending?Ce(this,ze):(ae||de(this,Pt,Ve,ze))&&(Pt.pendingcb++,hn=Y(this,Pt,ae,Ve,xe,ze)),hn},_e.prototype.cork=function(){this._writableState.corked++},_e.prototype.uncork=function(){var Ve=this._writableState;Ve.corked&&(Ve.corked--,!Ve.writing&&!Ve.corked&&!Ve.bufferProcessing&&Ve.bufferedRequest&&Cn(this,Ve))},_e.prototype.setDefaultEncoding=function(xe){if(typeof xe=="string"&&(xe=xe.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((xe+"").toLowerCase())>-1))throw new oe(xe);return this._writableState.defaultEncoding=xe,this},Object.defineProperty(_e.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function ie(Ve,xe,ze){return!Ve.objectMode&&Ve.decodeStrings!==!1&&typeof xe=="string"&&(xe=g.from(xe,ze)),xe}Object.defineProperty(_e.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Y(Ve,xe,ze,Pt,hn,ae){if(!ze){var le=ie(xe,Pt,hn);Pt!==le&&(ze=!0,hn="buffer",Pt=le)}var re=xe.objectMode?1:Pt.length;xe.length+=re;var V=xe.length<xe.highWaterMark;if(V||(xe.needDrain=!0),xe.writing||xe.corked){var $=xe.lastBufferedRequest;xe.lastBufferedRequest={chunk:Pt,encoding:hn,isBuf:ze,callback:ae,next:null},$?$.next=xe.lastBufferedRequest:xe.bufferedRequest=xe.lastBufferedRequest,xe.bufferedRequestCount+=1}else Ie(Ve,xe,!1,re,Pt,hn,ae);return V}function Ie(Ve,xe,ze,Pt,hn,ae,le){xe.writelen=Pt,xe.writecb=le,xe.writing=!0,xe.sync=!0,xe.destroyed?xe.onwrite(new D("write")):ze?Ve._writev(hn,xe.onwrite):Ve._write(hn,ae,xe.onwrite),xe.sync=!1}function Oe(Ve,xe,ze,Pt,hn){--xe.pendingcb,ze?(u.nextTick(hn,Pt),u.nextTick(Ne,Ve,xe),Ve._writableState.errorEmitted=!0,L(Ve,Pt)):(hn(Pt),Ve._writableState.errorEmitted=!0,L(Ve,Pt),Ne(Ve,xe))}function kt(Ve){Ve.writing=!1,Ve.writecb=null,Ve.length-=Ve.writelen,Ve.writelen=0}function Dt(Ve,xe){var ze=Ve._writableState,Pt=ze.sync,hn=ze.writecb;if(typeof hn!="function")throw new k;if(kt(ze),xe)Oe(Ve,ze,Pt,xe,hn);else{var ae=Lt(ze)||Ve.destroyed;!ae&&!ze.corked&&!ze.bufferProcessing&&ze.bufferedRequest&&Cn(Ve,ze),Pt?u.nextTick(Fe,Ve,ze,ae,hn):Fe(Ve,ze,ae,hn)}}function Fe(Ve,xe,ze,Pt){ze||$e(Ve,xe),xe.pendingcb--,Pt(),Ne(Ve,xe)}function $e(Ve,xe){xe.length===0&&xe.needDrain&&(xe.needDrain=!1,Ve.emit("drain"))}function Cn(Ve,xe){xe.bufferProcessing=!0;var ze=xe.bufferedRequest;if(Ve._writev&&ze&&ze.next){var Pt=xe.bufferedRequestCount,hn=new Array(Pt),ae=xe.corkedRequestsFree;ae.entry=ze;for(var le=0,re=!0;ze;)hn[le]=ze,ze.isBuf||(re=!1),ze=ze.next,le+=1;hn.allBuffers=re,Ie(Ve,xe,!0,xe.length,hn,"",ae.finish),xe.pendingcb++,xe.lastBufferedRequest=null,ae.next?(xe.corkedRequestsFree=ae.next,ae.next=null):xe.corkedRequestsFree=new f(xe),xe.bufferedRequestCount=0}else{for(;ze;){var V=ze.chunk,$=ze.encoding,he=ze.callback,Ue=xe.objectMode?1:V.length;if(Ie(Ve,xe,!1,Ue,V,$,he),ze=ze.next,xe.bufferedRequestCount--,xe.writing)break}ze===null&&(xe.lastBufferedRequest=null)}xe.bufferedRequest=ze,xe.bufferProcessing=!1}_e.prototype._write=function(Ve,xe,ze){ze(new x("_write()"))},_e.prototype._writev=null,_e.prototype.end=function(Ve,xe,ze){var Pt=this._writableState;return typeof Ve=="function"?(ze=Ve,Ve=null,xe=null):typeof xe=="function"&&(ze=xe,xe=null),Ve!=null&&this.write(Ve,xe),Pt.corked&&(Pt.corked=1,this.uncork()),Pt.ending||pe(this,Pt,ze),this},Object.defineProperty(_e.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Lt(Ve){return Ve.ending&&Ve.length===0&&Ve.bufferedRequest===null&&!Ve.finished&&!Ve.writing}function In(Ve,xe){Ve._final(function(ze){xe.pendingcb--,ze&&L(Ve,ze),xe.prefinished=!0,Ve.emit("prefinish"),Ne(Ve,xe)})}function Et(Ve,xe){!xe.prefinished&&!xe.finalCalled&&(typeof Ve._final=="function"&&!xe.destroyed?(xe.pendingcb++,xe.finalCalled=!0,u.nextTick(In,Ve,xe)):(xe.prefinished=!0,Ve.emit("prefinish")))}function Ne(Ve,xe){var ze=Lt(xe);if(ze&&(Et(Ve,xe),xe.pendingcb===0&&(xe.finished=!0,Ve.emit("finish"),xe.autoDestroy))){var Pt=Ve._readableState;(!Pt||Pt.autoDestroy&&Pt.endEmitted)&&Ve.destroy()}return ze}function pe(Ve,xe,ze){xe.ending=!0,Ne(Ve,xe),ze&&(xe.finished?u.nextTick(ze):Ve.once("finish",ze)),xe.ended=!0,Ve.writable=!1}function At(Ve,xe,ze){var Pt=Ve.entry;for(Ve.entry=null;Pt;){var hn=Pt.callback;xe.pendingcb--,hn(ze),Pt=Pt.next}xe.corkedRequestsFree.next=Ve}Object.defineProperty(_e.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(xe){this._writableState&&(this._writableState.destroyed=xe)}}),_e.prototype.destroy=_.destroy,_e.prototype._undestroy=_.undestroy,_e.prototype._destroy=function(Ve,xe){xe(Ve)}}).call(this)}).call(this,i("_process"),typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":55,"./_stream_duplex":56,"./internal/streams/destroy":63,"./internal/streams/state":67,"./internal/streams/stream":68,_process:50,buffer:17,inherits:24,"util-deprecate":78}],61:[function(i,o,a){(function(u){(function(){var c;function f(D,z,j){return z in D?Object.defineProperty(D,z,{value:j,enumerable:!0,configurable:!0,writable:!0}):D[z]=j,D}var d=i("./end-of-stream"),p=Symbol("lastResolve"),h=Symbol("lastReject"),g=Symbol("error"),v=Symbol("ended"),y=Symbol("lastPromise"),A=Symbol("handlePromise"),_=Symbol("stream");function S(D,z){return{value:D,done:z}}function b(D){var z=D[p];if(z!==null){var j=D[_].read();j!==null&&(D[y]=null,D[p]=null,D[h]=null,z(S(j,!1)))}}function T(D){u.nextTick(b,D)}function w(D,z){return function(j,oe){D.then(function(){if(z[v]){j(S(void 0,!0));return}z[A](j,oe)},oe)}}var x=Object.getPrototypeOf(function(){}),k=Object.setPrototypeOf((c={get stream(){return this[_]},next:function(){var z=this,j=this[g];if(j!==null)return Promise.reject(j);if(this[v])return Promise.resolve(S(void 0,!0));if(this[_].destroyed)return new Promise(function(O,ue){u.nextTick(function(){z[g]?ue(z[g]):O(S(void 0,!0))})});var oe=this[y],L;if(oe)L=new Promise(w(oe,this));else{var F=this[_].read();if(F!==null)return Promise.resolve(S(F,!1));L=new Promise(this[A])}return this[y]=L,L}},f(c,Symbol.asyncIterator,function(){return this}),f(c,"return",function(){var z=this;return new Promise(function(j,oe){z[_].destroy(null,function(L){if(L){oe(L);return}j(S(void 0,!0))})})}),c),x),M=function(z){var j,oe=Object.create(k,(j={},f(j,_,{value:z,writable:!0}),f(j,p,{value:null,writable:!0}),f(j,h,{value:null,writable:!0}),f(j,g,{value:null,writable:!0}),f(j,v,{value:z._readableState.endEmitted,writable:!0}),f(j,A,{value:function(F,O){var ue=oe[_].read();ue?(oe[y]=null,oe[p]=null,oe[h]=null,F(S(ue,!1))):(oe[p]=F,oe[h]=O)},writable:!0}),j));return oe[y]=null,d(z,function(L){if(L&&L.code!=="ERR_STREAM_PREMATURE_CLOSE"){var F=oe[h];F!==null&&(oe[y]=null,oe[p]=null,oe[h]=null,F(L)),oe[g]=L;return}var O=oe[p];O!==null&&(oe[y]=null,oe[p]=null,oe[h]=null,O(S(void 0,!0))),oe[v]=!0}),z.on("readable",T.bind(null,oe)),oe};o.exports=M}).call(this)}).call(this,i("_process"))},{"./end-of-stream":64,_process:50}],62:[function(i,o,a){function u(b,T){var w=Object.keys(b);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(b);T&&(x=x.filter(function(k){return Object.getOwnPropertyDescriptor(b,k).enumerable})),w.push.apply(w,x)}return w}function c(b){for(var T=1;T<arguments.length;T++){var w=arguments[T]!=null?arguments[T]:{};T%2?u(Object(w),!0).forEach(function(x){f(b,x,w[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(w)):u(Object(w)).forEach(function(x){Object.defineProperty(b,x,Object.getOwnPropertyDescriptor(w,x))})}return b}function f(b,T,w){return T in b?Object.defineProperty(b,T,{value:w,enumerable:!0,configurable:!0,writable:!0}):b[T]=w,b}function d(b,T){if(!(b instanceof T))throw new TypeError("Cannot call a class as a function")}function p(b,T){for(var w=0;w<T.length;w++){var x=T[w];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(b,x.key,x)}}function h(b,T,w){return T&&p(b.prototype,T),w&&p(b,w),b}var g=i("buffer"),v=g.Buffer,y=i("util"),A=y.inspect,_=A&&A.custom||"inspect";function S(b,T,w){v.prototype.copy.call(b,T,w)}o.exports=function(){function b(){d(this,b),this.head=null,this.tail=null,this.length=0}return h(b,[{key:"push",value:function(w){var x={data:w,next:null};this.length>0?this.tail.next=x:this.head=x,this.tail=x,++this.length}},{key:"unshift",value:function(w){var x={data:w,next:this.head};this.length===0&&(this.tail=x),this.head=x,++this.length}},{key:"shift",value:function(){if(this.length!==0){var w=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,w}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(w){if(this.length===0)return"";for(var x=this.head,k=""+x.data;x=x.next;)k+=w+x.data;return k}},{key:"concat",value:function(w){if(this.length===0)return v.alloc(0);for(var x=v.allocUnsafe(w>>>0),k=this.head,M=0;k;)S(k.data,x,M),M+=k.data.length,k=k.next;return x}},{key:"consume",value:function(w,x){var k;return w<this.head.data.length?(k=this.head.data.slice(0,w),this.head.data=this.head.data.slice(w)):w===this.head.data.length?k=this.shift():k=x?this._getString(w):this._getBuffer(w),k}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(w){var x=this.head,k=1,M=x.data;for(w-=M.length;x=x.next;){var D=x.data,z=w>D.length?D.length:w;if(z===D.length?M+=D:M+=D.slice(0,w),w-=z,w===0){z===D.length?(++k,x.next?this.head=x.next:this.head=this.tail=null):(this.head=x,x.data=D.slice(z));break}++k}return this.length-=k,M}},{key:"_getBuffer",value:function(w){var x=v.allocUnsafe(w),k=this.head,M=1;for(k.data.copy(x),w-=k.data.length;k=k.next;){var D=k.data,z=w>D.length?D.length:w;if(D.copy(x,x.length-w,0,z),w-=z,w===0){z===D.length?(++M,k.next?this.head=k.next:this.head=this.tail=null):(this.head=k,k.data=D.slice(z));break}++M}return this.length-=M,x}},{key:_,value:function(w,x){return A(this,c({},x,{depth:0,customInspect:!1}))}}]),b}()},{buffer:17,util:16}],63:[function(i,o,a){(function(u){(function(){function c(v,y){var A=this,_=this._readableState&&this._readableState.destroyed,S=this._writableState&&this._writableState.destroyed;return _||S?(y?y(v):v&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,u.nextTick(h,this,v)):u.nextTick(h,this,v)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(v||null,function(b){!y&&b?A._writableState?A._writableState.errorEmitted?u.nextTick(d,A):(A._writableState.errorEmitted=!0,u.nextTick(f,A,b)):u.nextTick(f,A,b):y?(u.nextTick(d,A),y(b)):u.nextTick(d,A)}),this)}function f(v,y){h(v,y),d(v)}function d(v){v._writableState&&!v._writableState.emitClose||v._readableState&&!v._readableState.emitClose||v.emit("close")}function p(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function h(v,y){v.emit("error",y)}function g(v,y){var A=v._readableState,_=v._writableState;A&&A.autoDestroy||_&&_.autoDestroy?v.destroy(y):v.emit("error",y)}o.exports={destroy:c,undestroy:p,errorOrDestroy:g}}).call(this)}).call(this,i("_process"))},{_process:50}],64:[function(i,o,a){var u=i("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function c(h){var g=!1;return function(){if(!g){g=!0;for(var v=arguments.length,y=new Array(v),A=0;A<v;A++)y[A]=arguments[A];h.apply(this,y)}}}function f(){}function d(h){return h.setHeader&&typeof h.abort=="function"}function p(h,g,v){if(typeof g=="function")return p(h,null,g);g||(g={}),v=c(v||f);var y=g.readable||g.readable!==!1&&h.readable,A=g.writable||g.writable!==!1&&h.writable,_=function(){h.writable||b()},S=h._writableState&&h._writableState.finished,b=function(){A=!1,S=!0,y||v.call(h)},T=h._readableState&&h._readableState.endEmitted,w=function(){y=!1,T=!0,A||v.call(h)},x=function(z){v.call(h,z)},k=function(){var z;if(y&&!T)return(!h._readableState||!h._readableState.ended)&&(z=new u),v.call(h,z);if(A&&!S)return(!h._writableState||!h._writableState.ended)&&(z=new u),v.call(h,z)},M=function(){h.req.on("finish",b)};return d(h)?(h.on("complete",b),h.on("abort",k),h.req?M():h.on("request",M)):A&&!h._writableState&&(h.on("end",_),h.on("close",_)),h.on("end",w),h.on("finish",b),g.error!==!1&&h.on("error",x),h.on("close",k),function(){h.removeListener("complete",b),h.removeListener("abort",k),h.removeListener("request",M),h.req&&h.req.removeListener("finish",b),h.removeListener("end",_),h.removeListener("close",_),h.removeListener("finish",b),h.removeListener("end",w),h.removeListener("error",x),h.removeListener("close",k)}}o.exports=p},{"../../../errors":55}],65:[function(i,o,a){o.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],66:[function(i,o,a){var u;function c(b){var T=!1;return function(){T||(T=!0,b.apply(void 0,arguments))}}var f=i("../../../errors").codes,d=f.ERR_MISSING_ARGS,p=f.ERR_STREAM_DESTROYED;function h(b){if(b)throw b}function g(b){return b.setHeader&&typeof b.abort=="function"}function v(b,T,w,x){x=c(x);var k=!1;b.on("close",function(){k=!0}),u===void 0&&(u=i("./end-of-stream")),u(b,{readable:T,writable:w},function(D){if(D)return x(D);k=!0,x()});var M=!1;return function(D){if(!k&&!M){if(M=!0,g(b))return b.abort();if(typeof b.destroy=="function")return b.destroy();x(D||new p("pipe"))}}}function y(b){b()}function A(b,T){return b.pipe(T)}function _(b){return!b.length||typeof b[b.length-1]!="function"?h:b.pop()}function S(){for(var b=arguments.length,T=new Array(b),w=0;w<b;w++)T[w]=arguments[w];var x=_(T);if(Array.isArray(T[0])&&(T=T[0]),T.length<2)throw new d("streams");var k,M=T.map(function(D,z){var j=z<T.length-1,oe=z>0;return v(D,j,oe,function(L){k||(k=L),L&&M.forEach(y),!j&&(M.forEach(y),x(k))})});return T.reduce(A)}o.exports=S},{"../../../errors":55,"./end-of-stream":64}],67:[function(i,o,a){var u=i("../../../errors").codes.ERR_INVALID_OPT_VALUE;function c(d,p,h){return d.highWaterMark!=null?d.highWaterMark:p?d[h]:null}function f(d,p,h,g){var v=c(p,g,h);if(v!=null){if(!(isFinite(v)&&Math.floor(v)===v)||v<0){var y=g?h:"highWaterMark";throw new u(y,v)}return Math.floor(v)}return d.objectMode?16:16*1024}o.exports={getHighWaterMark:f}},{"../../../errors":55}],68:[function(i,o,a){o.exports=i("events").EventEmitter},{events:22}],69:[function(i,o,a){a=o.exports=i("./lib/_stream_readable.js"),a.Stream=a,a.Readable=a,a.Writable=i("./lib/_stream_writable.js"),a.Duplex=i("./lib/_stream_duplex.js"),a.Transform=i("./lib/_stream_transform.js"),a.PassThrough=i("./lib/_stream_passthrough.js"),a.finished=i("./lib/internal/streams/end-of-stream.js"),a.pipeline=i("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":56,"./lib/_stream_passthrough.js":57,"./lib/_stream_readable.js":58,"./lib/_stream_transform.js":59,"./lib/_stream_writable.js":60,"./lib/internal/streams/end-of-stream.js":64,"./lib/internal/streams/pipeline.js":66}],70:[function(i,o,a){function u(f,d,p){var h=this;this._callback=f,this._args=p,this._interval=setInterval(f,d,this._args),this.reschedule=function(g){g||(g=h._interval),h._interval&&clearInterval(h._interval),h._interval=setInterval(h._callback,g,h._args)},this.clear=function(){h._interval&&(clearInterval(h._interval),h._interval=void 0)},this.destroy=function(){h._interval&&clearInterval(h._interval),h._callback=void 0,h._interval=void 0,h._args=void 0}}function c(){if(typeof arguments[0]!="function")throw new Error("callback needed");if(typeof arguments[1]!="number")throw new Error("interval needed");var f;if(arguments.length>0){f=new Array(arguments.length-2);for(var d=0;d<f.length;d++)f[d]=arguments[d+2]}return new u(arguments[0],arguments[1],f)}o.exports=c},{}],71:[function(i,o,a){o.exports=i("./index.js")()},{"./index.js":72}],72:[function(i,o,a){(function(u){(function(){o.exports=f;function c(p){return p instanceof u?u.from(p):new p.constructor(p.buffer.slice(),p.byteOffset,p.length)}function f(p){if(p=p||{},p.circles)return d(p);return p.proto?v:g;function h(y,A){for(var _=Object.keys(y),S=new Array(_.length),b=0;b<_.length;b++){var T=_[b],w=y[T];typeof w!="object"||w===null?S[T]=w:w instanceof Date?S[T]=new Date(w):ArrayBuffer.isView(w)?S[T]=c(w):S[T]=A(w)}return S}function g(y){if(typeof y!="object"||y===null)return y;if(y instanceof Date)return new Date(y);if(Array.isArray(y))return h(y,g);if(y instanceof Map)return new Map(h(Array.from(y),g));if(y instanceof Set)return new Set(h(Array.from(y),g));var A={};for(var _ in y)if(Object.hasOwnProperty.call(y,_)!==!1){var S=y[_];typeof S!="object"||S===null?A[_]=S:S instanceof Date?A[_]=new Date(S):S instanceof Map?A[_]=new Map(h(Array.from(S),g)):S instanceof Set?A[_]=new Set(h(Array.from(S),g)):ArrayBuffer.isView(S)?A[_]=c(S):A[_]=g(S)}return A}function v(y){if(typeof y!="object"||y===null)return y;if(y instanceof Date)return new Date(y);if(Array.isArray(y))return h(y,v);if(y instanceof Map)return new Map(h(Array.from(y),v));if(y instanceof Set)return new Set(h(Array.from(y),v));var A={};for(var _ in y){var S=y[_];typeof S!="object"||S===null?A[_]=S:S instanceof Date?A[_]=new Date(S):S instanceof Map?A[_]=new Map(h(Array.from(S),v)):S instanceof Set?A[_]=new Set(h(Array.from(S),v)):ArrayBuffer.isView(S)?A[_]=c(S):A[_]=v(S)}return A}}function d(p){var h=[],g=[];return p.proto?A:y;function v(_,S){for(var b=Object.keys(_),T=new Array(b.length),w=0;w<b.length;w++){var x=b[w],k=_[x];if(typeof k!="object"||k===null)T[x]=k;else if(k instanceof Date)T[x]=new Date(k);else if(ArrayBuffer.isView(k))T[x]=c(k);else{var M=h.indexOf(k);M!==-1?T[x]=g[M]:T[x]=S(k)}}return T}function y(_){if(typeof _!="object"||_===null)return _;if(_ instanceof Date)return new Date(_);if(Array.isArray(_))return v(_,y);if(_ instanceof Map)return new Map(v(Array.from(_),y));if(_ instanceof Set)return new Set(v(Array.from(_),y));var S={};h.push(_),g.push(S);for(var b in _)if(Object.hasOwnProperty.call(_,b)!==!1){var T=_[b];if(typeof T!="object"||T===null)S[b]=T;else if(T instanceof Date)S[b]=new Date(T);else if(T instanceof Map)S[b]=new Map(v(Array.from(T),y));else if(T instanceof Set)S[b]=new Set(v(Array.from(T),y));else if(ArrayBuffer.isView(T))S[b]=c(T);else{var w=h.indexOf(T);w!==-1?S[b]=g[w]:S[b]=y(T)}}return h.pop(),g.pop(),S}function A(_){if(typeof _!="object"||_===null)return _;if(_ instanceof Date)return new Date(_);if(Array.isArray(_))return v(_,A);if(_ instanceof Map)return new Map(v(Array.from(_),A));if(_ instanceof Set)return new Set(v(Array.from(_),A));var S={};h.push(_),g.push(S);for(var b in _){var T=_[b];if(typeof T!="object"||T===null)S[b]=T;else if(T instanceof Date)S[b]=new Date(T);else if(T instanceof Map)S[b]=new Map(v(Array.from(T),A));else if(T instanceof Set)S[b]=new Set(v(Array.from(T),A));else if(ArrayBuffer.isView(T))S[b]=c(T);else{var w=h.indexOf(T);w!==-1?S[b]=g[w]:S[b]=A(T)}}return h.pop(),g.pop(),S}}}).call(this)}).call(this,i("buffer").Buffer)},{buffer:17}],73:[function(i,o,a){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var u=i("buffer"),c=u.Buffer;function f(p,h){for(var g in p)h[g]=p[g]}c.from&&c.alloc&&c.allocUnsafe&&c.allocUnsafeSlow?o.exports=u:(f(u,a),a.Buffer=d);function d(p,h,g){return c(p,h,g)}d.prototype=Object.create(c.prototype),f(c,d),d.from=function(p,h,g){if(typeof p=="number")throw new TypeError("Argument must not be a number");return c(p,h,g)},d.alloc=function(p,h,g){if(typeof p!="number")throw new TypeError("Argument must be a number");var v=c(p);return h!==void 0?typeof g=="string"?v.fill(h,g):v.fill(h):v.fill(0),v},d.allocUnsafe=function(p){if(typeof p!="number")throw new TypeError("Argument must be a number");return c(p)},d.allocUnsafeSlow=function(p){if(typeof p!="number")throw new TypeError("Argument must be a number");return u.SlowBuffer(p)}},{buffer:17}],74:[function(i,o,a){o.exports=u;function u(f){var d=f._readableState;return d?d.objectMode||typeof f._duplexState=="number"?f.read():f.read(c(d)):null}function c(f){return f.buffer.length?f.buffer.head?f.buffer.head.data.length:f.buffer[0].length:f.length}},{}],75:[function(i,o,a){var u=i("safe-buffer").Buffer,c=u.isEncoding||function(M){switch(M=""+M,M&&M.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function f(M){if(!M)return"utf8";for(var D;;)switch(M){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return M;default:if(D)return;M=(""+M).toLowerCase(),D=!0}}function d(M){var D=f(M);if(typeof D!="string"&&(u.isEncoding===c||!c(M)))throw new Error("Unknown encoding: "+M);return D||M}a.StringDecoder=p;function p(M){this.encoding=d(M);var D;switch(this.encoding){case"utf16le":this.text=S,this.end=b,D=4;break;case"utf8":this.fillLast=y,D=4;break;case"base64":this.text=T,this.end=w,D=3;break;default:this.write=x,this.end=k;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=u.allocUnsafe(D)}p.prototype.write=function(M){if(M.length===0)return"";var D,z;if(this.lastNeed){if(D=this.fillLast(M),D===void 0)return"";z=this.lastNeed,this.lastNeed=0}else z=0;return z<M.length?D?D+this.text(M,z):this.text(M,z):D||""},p.prototype.end=_,p.prototype.text=A,p.prototype.fillLast=function(M){if(this.lastNeed<=M.length)return M.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);M.copy(this.lastChar,this.lastTotal-this.lastNeed,0,M.length),this.lastNeed-=M.length};function h(M){return M<=127?0:M>>5===6?2:M>>4===14?3:M>>3===30?4:M>>6===2?-1:-2}function g(M,D,z){var j=D.length-1;if(j<z)return 0;var oe=h(D[j]);return oe>=0?(oe>0&&(M.lastNeed=oe-1),oe):--j<z||oe===-2?0:(oe=h(D[j]),oe>=0?(oe>0&&(M.lastNeed=oe-2),oe):--j<z||oe===-2?0:(oe=h(D[j]),oe>=0?(oe>0&&(oe===2?oe=0:M.lastNeed=oe-3),oe):0))}function v(M,D,z){if((D[0]&192)!==128)return M.lastNeed=0,"�";if(M.lastNeed>1&&D.length>1){if((D[1]&192)!==128)return M.lastNeed=1,"�";if(M.lastNeed>2&&D.length>2&&(D[2]&192)!==128)return M.lastNeed=2,"�"}}function y(M){var D=this.lastTotal-this.lastNeed,z=v(this,M);if(z!==void 0)return z;if(this.lastNeed<=M.length)return M.copy(this.lastChar,D,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);M.copy(this.lastChar,D,0,M.length),this.lastNeed-=M.length}function A(M,D){var z=g(this,M,D);if(!this.lastNeed)return M.toString("utf8",D);this.lastTotal=z;var j=M.length-(z-this.lastNeed);return M.copy(this.lastChar,0,j),M.toString("utf8",D,j)}function _(M){var D=M&&M.length?this.write(M):"";return this.lastNeed?D+"�":D}function S(M,D){if((M.length-D)%2===0){var z=M.toString("utf16le",D);if(z){var j=z.charCodeAt(z.length-1);if(j>=55296&&j<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=M[M.length-2],this.lastChar[1]=M[M.length-1],z.slice(0,-1)}return z}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=M[M.length-1],M.toString("utf16le",D,M.length-1)}function b(M){var D=M&&M.length?this.write(M):"";if(this.lastNeed){var z=this.lastTotal-this.lastNeed;return D+this.lastChar.toString("utf16le",0,z)}return D}function T(M,D){var z=(M.length-D)%3;return z===0?M.toString("base64",D):(this.lastNeed=3-z,this.lastTotal=3,z===1?this.lastChar[0]=M[M.length-1]:(this.lastChar[0]=M[M.length-2],this.lastChar[1]=M[M.length-1]),M.toString("base64",D,M.length-z))}function w(M){var D=M&&M.length?this.write(M):"";return this.lastNeed?D+this.lastChar.toString("base64",0,3-this.lastNeed):D}function x(M){return M.toString(this.encoding)}function k(M){return M&&M.length?this.write(M):""}},{"safe-buffer":73}],76:[function(i,o,a){var u=i("punycode"),c=i("./util");a.parse=D,a.resolve=j,a.resolveObject=oe,a.format=z,a.Url=f;function f(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var d=/^([a-z0-9.+-]+:)/i,p=/:[0-9]*$/,h=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,g=["<",">",'"',"`"," ","\r",`
`,"	"],v=["{","}","|","\\","^","`"].concat(g),y=["'"].concat(v),A=["%","/","?",";","#"].concat(y),_=["/","?","#"],S=255,b=/^[+a-z0-9A-Z_-]{0,63}$/,T=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,w={javascript:!0,"javascript:":!0},x={javascript:!0,"javascript:":!0},k={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},M=i("querystring");function D(L,F,O){if(L&&c.isObject(L)&&L instanceof f)return L;var ue=new f;return ue.parse(L,F,O),ue}f.prototype.parse=function(L,F,O){if(!c.isString(L))throw new TypeError("Parameter 'url' must be a string, not "+typeof L);var ue=L.indexOf("?"),_e=ue!==-1&&ue<L.indexOf("#")?"?":"#",Ce=L.split(_e),de=/\\/g;Ce[0]=Ce[0].replace(de,"/"),L=Ce.join(_e);var ie=L;if(ie=ie.trim(),!O&&L.split("#").length===1){var Y=h.exec(ie);if(Y)return this.path=ie,this.href=ie,this.pathname=Y[1],Y[2]?(this.search=Y[2],F?this.query=M.parse(this.search.substr(1)):this.query=this.search.substr(1)):F&&(this.search="",this.query={}),this}var Ie=d.exec(ie);if(Ie){Ie=Ie[0];var Oe=Ie.toLowerCase();this.protocol=Oe,ie=ie.substr(Ie.length)}if(O||Ie||ie.match(/^\/\/[^@\/]+@[^@\/]+/)){var kt=ie.substr(0,2)==="//";kt&&!(Ie&&x[Ie])&&(ie=ie.substr(2),this.slashes=!0)}if(!x[Ie]&&(kt||Ie&&!k[Ie])){for(var Dt=-1,Fe=0;Fe<_.length;Fe++){var $e=ie.indexOf(_[Fe]);$e!==-1&&(Dt===-1||$e<Dt)&&(Dt=$e)}var Cn,Lt;Dt===-1?Lt=ie.lastIndexOf("@"):Lt=ie.lastIndexOf("@",Dt),Lt!==-1&&(Cn=ie.slice(0,Lt),ie=ie.slice(Lt+1),this.auth=decodeURIComponent(Cn)),Dt=-1;for(var Fe=0;Fe<A.length;Fe++){var $e=ie.indexOf(A[Fe]);$e!==-1&&(Dt===-1||$e<Dt)&&(Dt=$e)}Dt===-1&&(Dt=ie.length),this.host=ie.slice(0,Dt),ie=ie.slice(Dt),this.parseHost(),this.hostname=this.hostname||"";var In=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!In)for(var Et=this.hostname.split(/\./),Fe=0,Ne=Et.length;Fe<Ne;Fe++){var pe=Et[Fe];if(pe&&!pe.match(b)){for(var At="",Ve=0,xe=pe.length;Ve<xe;Ve++)pe.charCodeAt(Ve)>127?At+="x":At+=pe[Ve];if(!At.match(b)){var ze=Et.slice(0,Fe),Pt=Et.slice(Fe+1),hn=pe.match(T);hn&&(ze.push(hn[1]),Pt.unshift(hn[2])),Pt.length&&(ie="/"+Pt.join(".")+ie),this.hostname=ze.join(".");break}}}this.hostname.length>S?this.hostname="":this.hostname=this.hostname.toLowerCase(),In||(this.hostname=u.toASCII(this.hostname));var ae=this.port?":"+this.port:"",le=this.hostname||"";this.host=le+ae,this.href+=this.host,In&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),ie[0]!=="/"&&(ie="/"+ie))}if(!w[Oe])for(var Fe=0,Ne=y.length;Fe<Ne;Fe++){var re=y[Fe];if(ie.indexOf(re)!==-1){var V=encodeURIComponent(re);V===re&&(V=escape(re)),ie=ie.split(re).join(V)}}var $=ie.indexOf("#");$!==-1&&(this.hash=ie.substr($),ie=ie.slice(0,$));var he=ie.indexOf("?");if(he!==-1?(this.search=ie.substr(he),this.query=ie.substr(he+1),F&&(this.query=M.parse(this.query)),ie=ie.slice(0,he)):F&&(this.search="",this.query={}),ie&&(this.pathname=ie),k[Oe]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var ae=this.pathname||"",Ue=this.search||"";this.path=ae+Ue}return this.href=this.format(),this};function z(L){return c.isString(L)&&(L=D(L)),L instanceof f?L.format():f.prototype.format.call(L)}f.prototype.format=function(){var L=this.auth||"";L&&(L=encodeURIComponent(L),L=L.replace(/%3A/i,":"),L+="@");var F=this.protocol||"",O=this.pathname||"",ue=this.hash||"",_e=!1,Ce="";this.host?_e=L+this.host:this.hostname&&(_e=L+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(_e+=":"+this.port)),this.query&&c.isObject(this.query)&&Object.keys(this.query).length&&(Ce=M.stringify(this.query));var de=this.search||Ce&&"?"+Ce||"";return F&&F.substr(-1)!==":"&&(F+=":"),this.slashes||(!F||k[F])&&_e!==!1?(_e="//"+(_e||""),O&&O.charAt(0)!=="/"&&(O="/"+O)):_e||(_e=""),ue&&ue.charAt(0)!=="#"&&(ue="#"+ue),de&&de.charAt(0)!=="?"&&(de="?"+de),O=O.replace(/[?#]/g,function(ie){return encodeURIComponent(ie)}),de=de.replace("#","%23"),F+_e+O+de+ue};function j(L,F){return D(L,!1,!0).resolve(F)}f.prototype.resolve=function(L){return this.resolveObject(D(L,!1,!0)).format()};function oe(L,F){return L?D(L,!1,!0).resolveObject(F):F}f.prototype.resolveObject=function(L){if(c.isString(L)){var F=new f;F.parse(L,!1,!0),L=F}for(var O=new f,ue=Object.keys(this),_e=0;_e<ue.length;_e++){var Ce=ue[_e];O[Ce]=this[Ce]}if(O.hash=L.hash,L.href==="")return O.href=O.format(),O;if(L.slashes&&!L.protocol){for(var de=Object.keys(L),ie=0;ie<de.length;ie++){var Y=de[ie];Y!=="protocol"&&(O[Y]=L[Y])}return k[O.protocol]&&O.hostname&&!O.pathname&&(O.path=O.pathname="/"),O.href=O.format(),O}if(L.protocol&&L.protocol!==O.protocol){if(!k[L.protocol]){for(var Ie=Object.keys(L),Oe=0;Oe<Ie.length;Oe++){var kt=Ie[Oe];O[kt]=L[kt]}return O.href=O.format(),O}if(O.protocol=L.protocol,!L.host&&!x[L.protocol]){for(var Ne=(L.pathname||"").split("/");Ne.length&&!(L.host=Ne.shift()););L.host||(L.host=""),L.hostname||(L.hostname=""),Ne[0]!==""&&Ne.unshift(""),Ne.length<2&&Ne.unshift(""),O.pathname=Ne.join("/")}else O.pathname=L.pathname;if(O.search=L.search,O.query=L.query,O.host=L.host||"",O.auth=L.auth,O.hostname=L.hostname||L.host,O.port=L.port,O.pathname||O.search){var Dt=O.pathname||"",Fe=O.search||"";O.path=Dt+Fe}return O.slashes=O.slashes||L.slashes,O.href=O.format(),O}var $e=O.pathname&&O.pathname.charAt(0)==="/",Cn=L.host||L.pathname&&L.pathname.charAt(0)==="/",Lt=Cn||$e||O.host&&L.pathname,In=Lt,Et=O.pathname&&O.pathname.split("/")||[],Ne=L.pathname&&L.pathname.split("/")||[],pe=O.protocol&&!k[O.protocol];if(pe&&(O.hostname="",O.port=null,O.host&&(Et[0]===""?Et[0]=O.host:Et.unshift(O.host)),O.host="",L.protocol&&(L.hostname=null,L.port=null,L.host&&(Ne[0]===""?Ne[0]=L.host:Ne.unshift(L.host)),L.host=null),Lt=Lt&&(Ne[0]===""||Et[0]==="")),Cn)O.host=L.host||L.host===""?L.host:O.host,O.hostname=L.hostname||L.hostname===""?L.hostname:O.hostname,O.search=L.search,O.query=L.query,Et=Ne;else if(Ne.length)Et||(Et=[]),Et.pop(),Et=Et.concat(Ne),O.search=L.search,O.query=L.query;else if(!c.isNullOrUndefined(L.search)){if(pe){O.hostname=O.host=Et.shift();var At=O.host&&O.host.indexOf("@")>0?O.host.split("@"):!1;At&&(O.auth=At.shift(),O.host=O.hostname=At.shift())}return O.search=L.search,O.query=L.query,(!c.isNull(O.pathname)||!c.isNull(O.search))&&(O.path=(O.pathname?O.pathname:"")+(O.search?O.search:"")),O.href=O.format(),O}if(!Et.length)return O.pathname=null,O.search?O.path="/"+O.search:O.path=null,O.href=O.format(),O;for(var Ve=Et.slice(-1)[0],xe=(O.host||L.host||Et.length>1)&&(Ve==="."||Ve==="..")||Ve==="",ze=0,Pt=Et.length;Pt>=0;Pt--)Ve=Et[Pt],Ve==="."?Et.splice(Pt,1):Ve===".."?(Et.splice(Pt,1),ze++):ze&&(Et.splice(Pt,1),ze--);if(!Lt&&!In)for(;ze--;ze)Et.unshift("..");Lt&&Et[0]!==""&&(!Et[0]||Et[0].charAt(0)!=="/")&&Et.unshift(""),xe&&Et.join("/").substr(-1)!=="/"&&Et.push("");var hn=Et[0]===""||Et[0]&&Et[0].charAt(0)==="/";if(pe){O.hostname=O.host=hn?"":Et.length?Et.shift():"";var At=O.host&&O.host.indexOf("@")>0?O.host.split("@"):!1;At&&(O.auth=At.shift(),O.host=O.hostname=At.shift())}return Lt=Lt||O.host&&Et.length,Lt&&!hn&&Et.unshift(""),Et.length?O.pathname=Et.join("/"):(O.pathname=null,O.path=null),(!c.isNull(O.pathname)||!c.isNull(O.search))&&(O.path=(O.pathname?O.pathname:"")+(O.search?O.search:"")),O.auth=L.auth||O.auth,O.slashes=O.slashes||L.slashes,O.href=O.format(),O},f.prototype.parseHost=function(){var L=this.host,F=p.exec(L);F&&(F=F[0],F!==":"&&(this.port=F.substr(1)),L=L.substr(0,L.length-F.length)),L&&(this.hostname=L)}},{"./util":77,punycode:51,querystring:54}],77:[function(i,o,a){o.exports={isString:function(u){return typeof u=="string"},isObject:function(u){return typeof u=="object"&&u!==null},isNull:function(u){return u===null},isNullOrUndefined:function(u){return u==null}}},{}],78:[function(i,o,a){(function(u){(function(){o.exports=c;function c(d,p){if(f("noDeprecation"))return d;var h=!1;function g(){if(!h){if(f("throwDeprecation"))throw new Error(p);f("traceDeprecation")?console.trace(p):console.warn(p),h=!0}return d.apply(this,arguments)}return g}function f(d){try{if(!u.localStorage)return!1}catch{return!1}var p=u.localStorage[d];return p==null?!1:String(p).toLowerCase()==="true"}}).call(this)}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}],79:[function(i,o,a){o.exports=u;function u(c,f){if(c&&f)return u(c)(f);if(typeof c!="function")throw new TypeError("need wrapper function");return Object.keys(c).forEach(function(p){d[p]=c[p]}),d;function d(){for(var p=new Array(arguments.length),h=0;h<p.length;h++)p[h]=arguments[h];var g=c.apply(this,p),v=p[p.length-1];return typeof g=="function"&&g!==v&&Object.keys(v).forEach(function(y){g[y]=v[y]}),g}}},{}],80:[function(i,o,a){o.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},{}],81:[function(i,o,a){o.exports=c;var u=Object.prototype.hasOwnProperty;function c(){for(var f={},d=0;d<arguments.length;d++){var p=arguments[d];for(var h in p)u.call(p,h)&&(f[h]=p[h])}return f}},{}],82:[function(i,o,a){o.exports=function(u){u.prototype[Symbol.iterator]=function*(){for(let c=this.head;c;c=c.next)yield c.value}}},{}],83:[function(i,o,a){o.exports=u,u.Node=p,u.create=u;function u(h){var g=this;if(g instanceof u||(g=new u),g.tail=null,g.head=null,g.length=0,h&&typeof h.forEach=="function")h.forEach(function(A){g.push(A)});else if(arguments.length>0)for(var v=0,y=arguments.length;v<y;v++)g.push(arguments[v]);return g}u.prototype.removeNode=function(h){if(h.list!==this)throw new Error("removing node which does not belong to this list");var g=h.next,v=h.prev;return g&&(g.prev=v),v&&(v.next=g),h===this.head&&(this.head=g),h===this.tail&&(this.tail=v),h.list.length--,h.next=null,h.prev=null,h.list=null,g},u.prototype.unshiftNode=function(h){if(h!==this.head){h.list&&h.list.removeNode(h);var g=this.head;h.list=this,h.next=g,g&&(g.prev=h),this.head=h,this.tail||(this.tail=h),this.length++}},u.prototype.pushNode=function(h){if(h!==this.tail){h.list&&h.list.removeNode(h);var g=this.tail;h.list=this,h.prev=g,g&&(g.next=h),this.tail=h,this.head||(this.head=h),this.length++}},u.prototype.push=function(){for(var h=0,g=arguments.length;h<g;h++)f(this,arguments[h]);return this.length},u.prototype.unshift=function(){for(var h=0,g=arguments.length;h<g;h++)d(this,arguments[h]);return this.length},u.prototype.pop=function(){if(this.tail){var h=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,h}},u.prototype.shift=function(){if(this.head){var h=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,h}},u.prototype.forEach=function(h,g){g=g||this;for(var v=this.head,y=0;v!==null;y++)h.call(g,v.value,y,this),v=v.next},u.prototype.forEachReverse=function(h,g){g=g||this;for(var v=this.tail,y=this.length-1;v!==null;y--)h.call(g,v.value,y,this),v=v.prev},u.prototype.get=function(h){for(var g=0,v=this.head;v!==null&&g<h;g++)v=v.next;if(g===h&&v!==null)return v.value},u.prototype.getReverse=function(h){for(var g=0,v=this.tail;v!==null&&g<h;g++)v=v.prev;if(g===h&&v!==null)return v.value},u.prototype.map=function(h,g){g=g||this;for(var v=new u,y=this.head;y!==null;)v.push(h.call(g,y.value,this)),y=y.next;return v},u.prototype.mapReverse=function(h,g){g=g||this;for(var v=new u,y=this.tail;y!==null;)v.push(h.call(g,y.value,this)),y=y.prev;return v},u.prototype.reduce=function(h,g){var v,y=this.head;if(arguments.length>1)v=g;else if(this.head)y=this.head.next,v=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var A=0;y!==null;A++)v=h(v,y.value,A),y=y.next;return v},u.prototype.reduceReverse=function(h,g){var v,y=this.tail;if(arguments.length>1)v=g;else if(this.tail)y=this.tail.prev,v=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var A=this.length-1;y!==null;A--)v=h(v,y.value,A),y=y.prev;return v},u.prototype.toArray=function(){for(var h=new Array(this.length),g=0,v=this.head;v!==null;g++)h[g]=v.value,v=v.next;return h},u.prototype.toArrayReverse=function(){for(var h=new Array(this.length),g=0,v=this.tail;v!==null;g++)h[g]=v.value,v=v.prev;return h},u.prototype.slice=function(h,g){g=g||this.length,g<0&&(g+=this.length),h=h||0,h<0&&(h+=this.length);var v=new u;if(g<h||g<0)return v;h<0&&(h=0),g>this.length&&(g=this.length);for(var y=0,A=this.head;A!==null&&y<h;y++)A=A.next;for(;A!==null&&y<g;y++,A=A.next)v.push(A.value);return v},u.prototype.sliceReverse=function(h,g){g=g||this.length,g<0&&(g+=this.length),h=h||0,h<0&&(h+=this.length);var v=new u;if(g<h||g<0)return v;h<0&&(h=0),g>this.length&&(g=this.length);for(var y=this.length,A=this.tail;A!==null&&y>g;y--)A=A.prev;for(;A!==null&&y>h;y--,A=A.prev)v.push(A.value);return v},u.prototype.splice=function(h,g,...v){h>this.length&&(h=this.length-1),h<0&&(h=this.length+h);for(var y=0,A=this.head;A!==null&&y<h;y++)A=A.next;for(var _=[],y=0;A&&y<g;y++)_.push(A.value),A=this.removeNode(A);A===null&&(A=this.tail),A!==this.head&&A!==this.tail&&(A=A.prev);for(var y=0;y<v.length;y++)A=c(this,A,v[y]);return _},u.prototype.reverse=function(){for(var h=this.head,g=this.tail,v=h;v!==null;v=v.prev){var y=v.prev;v.prev=v.next,v.next=y}return this.head=g,this.tail=h,this};function c(h,g,v){var y=g===h.head?new p(v,null,g,h):new p(v,g,g.next,h);return y.next===null&&(h.tail=y),y.prev===null&&(h.head=y),h.length++,y}function f(h,g){h.tail=new p(g,h.tail,null,h),h.head||(h.head=h.tail),h.length++}function d(h,g){h.head=new p(g,null,h.head,h),h.tail||(h.tail=h.head),h.length++}function p(h,g,v,y){if(!(this instanceof p))return new p(h,g,v,y);this.list=y,this.value=h,g?(g.next=this,this.prev=g):this.prev=null,v?(v.prev=this,this.next=v):this.next=null}try{i("./iterator.js")(u)}catch{}},{"./iterator.js":82}]},{},[12])(12)})})(mqtt);var mqttExports=mqtt.exports;let client;const sub=(r,n,i,o,a)=>{client=mqttExports.connect(r,{username:n,password:i}),client.on("connect",()=>{console.log("MQTT服务器连接成功"),console.log(client.options.clientId),client.subscribe(o,{qos:1})}),client.on("message",a)},close=()=>{client&&client.end&&client.end(!0,{},()=>{console.log("MQTT服务连接关闭")})},_hoisted_1=["transform"],_hoisted_2=["transform","onClick"],_hoisted_3=["transform"],_hoisted_4=["xlink:href","id","transform"],_hoisted_5=["id"],_sfc_main=vue.defineComponent({__name:"svg-viewer",props:{data:{},canvasDrag:{type:Boolean,default:!0}},emits:["onMessage"],setup(r,{expose:n,emit:i}){const o=r;vue.useCssVars(b=>({eb9e007c:vue.unref(c)})),setEditorLoadTime();const a=useGlobalStore(pinia);componentsRegister();const u=vue.reactive(o.data??{layout_center:{x:0,y:0},config:{svg:{background_color:"#fff",scale:1,grid_color:"#ebebeb"},net:{mqtt:{url:"",user:"",pwd:"",topics:""}}},done_json:[]}),c=vue.computed(()=>a.intention==EGlobalStoreIntention.MoveCanvas?"grab":"default"),f=b=>{if(a.mouse_info.state!=EMouseInfoState.Down&&a.intention!==EGlobalStoreIntention.Connection||!o.canvasDrag)return;const{clientX:T,clientY:w}=b;a.mouse_info.new_position_x=a.mouse_info.now_position_x+T-a.mouse_info.position_x,a.mouse_info.new_position_y=a.mouse_info.now_position_y+w-a.mouse_info.position_y,a.intention==EGlobalStoreIntention.MoveCanvas&&(u.layout_center.x=a.mouse_info.new_position_x,u.layout_center.y=a.mouse_info.new_position_y)},d=()=>{a.mouse_info.state==EMouseInfoState.Down&&(a.intention!=EGlobalStoreIntention.Select&&(a.intention=EGlobalStoreIntention.None),a.mouse_info={state:EMouseInfoState.Up,position_x:0,position_y:0,now_position_x:0,now_position_y:0,new_position_x:0,new_position_y:0})},p=b=>{const{clientX:T,clientY:w}=b;a.intention=EGlobalStoreIntention.MoveCanvas,a.mouse_info={state:EMouseInfoState.Down,position_x:T,position_y:w,now_position_x:u.layout_center.x,now_position_y:u.layout_center.y,new_position_x:u.layout_center.x,new_position_y:u.layout_center.y}};function h(b){b!=null&&b.wheelDelta&&(b.wheelDelta>0?u.config.svg.scale=parseFloat((u.config.svg.scale+.1).toFixed(1)):u.config.svg.scale=parseFloat((u.config.svg.scale-.1).toFixed(1)))}const g=(b,T,w)=>({x:b.x-b.width/2*T+b.width/2,y:b.y-b.height/2*w+b.height/2,width:b.width*T,height:b.height*w}),v=b=>{var w;let T=!1;if(((w=b.events)==null?void 0:w.length)>0){for(let x of b.events)if(x.type===EEventType.Click){T=!0;break}}return{cursor:T?"pointer":"default"}},y=(b,T)=>{var w;if(console.log(b.events,T),((w=b.events)==null?void 0:w.length)>0){for(let x of b.events)if(x.type===T){if(x.condition&&x.condition.type!=="None"&&x.condition.type==="Relation"&&x.condition.Relation&&x.condition.Relation.relation){const k=x.condition.Relation.key,M=x.condition.Relation.relation,D=valFormat(x.condition.Relation.val),z=valFormat(x.condition.Relation.val2);if(b.props.hasOwnProperty(k)){const j=b.props[k].val;if(!A(j,M,D,z))continue}}if(x.action===EEventAction.ChangeAttr){if(x.attrs&&x.attrs.length>0){let k;if(x.target){for(let M of u.done_json)if(M.id===x.target){k=M;break}}else k=b;if(!k)continue;for(let M of x.attrs)M.key==="state"?k.defaultState=valFormat(M.val):k.props.hasOwnProperty(M.key)&&(k.props[M.key].val=valFormat(M.val))}}else x.action===EEventAction.JavaScript&&new Function(x.scripts)()}}},A=(b,T,w,x)=>{switch(T){case">":return b>w;case">=":return b>=w;case"<":return b<w;case"<=":return b<=w;case"==":return b==w;case"!=":return b!=w;case">=,=<":return b>=w&&b<=x;case"<,>":return b<w||b>x}},_=()=>{const b=u.config.net.mqtt;b&&b.url&&b.user&&b.pwd&&b.topics&&sub(b.url,b.user,b.pwd,b.topics,(T,w)=>{console.log(T),console.log(w.toString()),i("onMessage",{topics:T,message:w})})},S=(b,T,w)=>setArrItemByID(b,T,w,u.done_json);return vue.onMounted(()=>{_()}),vue.onBeforeUnmount(close),n({setNodeAttrByID:S}),(b,T)=>(vue.openBlock(),vue.createElementBlock("div",{class:"canvas",onMousedown:p,onMousemove:f,onMouseup:d,onMousewheel:h,onContextmenu:T[4]||(T[4]=(...w)=>vue.unref(preventDefault)&&vue.unref(preventDefault)(...w))},[(vue.openBlock(),vue.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",style:vue.normalizeStyle({backgroundColor:vue.unref(u).config.svg.background_color}),width:"100%",height:"100%"},[vue.createElementVNode("g",{transform:`translate(${vue.unref(u).layout_center.x},${vue.unref(u).layout_center.y})rotate(0)scale(${vue.unref(u).config.svg.scale})`},[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(vue.unref(u).done_json,w=>vue.withDirectives((vue.openBlock(),vue.createElementBlock("g",{key:w.id,transform:`translate(${w.x},${w.y})rotate(0)scale(1)`,style:vue.normalizeStyle(v(w)),onClick:x=>y(w,vue.unref(EEventType).Click),onMousedown:T[0]||(T[0]=(...x)=>vue.unref(stopEvent)&&vue.unref(stopEvent)(...x)),onMousemove:T[1]||(T[1]=(...x)=>vue.unref(stopEvent)&&vue.unref(stopEvent)(...x)),onMouseup:T[2]||(T[2]=(...x)=>vue.unref(stopEvent)&&vue.unref(stopEvent)(...x)),onMousewheel:T[3]||(T[3]=(...x)=>vue.unref(stopEvent)&&vue.unref(stopEvent)(...x))},[vue.createElementVNode("g",{class:vue.normalizeClass(`${vue.unref(getCommonClass)(w)}`)},[vue.createElementVNode("g",{transform:`translate(${w.actual_bound.x+w.actual_bound.width/2},${w.actual_bound.y+w.actual_bound.height/2})rotate(${w.rotate}) scale(1) translate(${-(w.actual_bound.x+w.actual_bound.width/2)},${-(w.actual_bound.y+w.actual_bound.height/2)})`},[w.type===vue.unref(EDoneJsonType).ConnectionLine?(vue.openBlock(),vue.createBlock(_sfc_main$y,{key:0,"item-info":w},null,8,["item-info"])):w.type===vue.unref(EDoneJsonType).File?(vue.openBlock(),vue.createElementBlock("use",vue.mergeProps({key:1,"xlink:href":`#svg-${w.name}`},vue.unref(prosToVBind)(w),{width:"100",height:"100",id:w.id,transform:`translate(${w.actual_bound.x+w.actual_bound.width/2},${w.actual_bound.y+w.actual_bound.height/2}) scale(${w.scale_x},${w.scale_y}) translate(${-(w.actual_bound.x+w.actual_bound.width/2)},${-(w.actual_bound.y+w.actual_bound.height/2)})`}),null,16,_hoisted_4)):w.type===vue.unref(EDoneJsonType).CustomSvg?(vue.openBlock(),vue.createBlock(vue.resolveDynamicComponent(w.tag),vue.mergeProps({key:2},vue.unref(prosToVBind)(w),{width:"100",height:"100",id:w.id,onOnChange:x=>y(w,vue.unref(EEventType).Change),transform:`translate(${w.actual_bound.x+w.actual_bound.width/2},${w.actual_bound.y+w.actual_bound.height/2}) scale(${w.scale_x},${w.scale_y}) translate(${-(w.actual_bound.x+w.actual_bound.width/2)},${-(w.actual_bound.y+w.actual_bound.height/2)})`}),null,16,["id","onOnChange","transform"])):w.type===vue.unref(EDoneJsonType).Vue?(vue.openBlock(),vue.createElementBlock("foreignObject",vue.mergeProps({key:3},g(w.actual_bound,w.scale_x,w.scale_y),{id:`foreign-object${w.id}`,class:"foreignObject"}),[(vue.openBlock(),vue.createBlock(vue.resolveDynamicComponent(w.tag),vue.mergeProps(vue.unref(prosToVBind)(w),{id:w.id,onOnChange:x=>y(w,vue.unref(EEventType).Change),transform:`translate(${w.actual_bound.x+w.actual_bound.width/2},${w.actual_bound.y+w.actual_bound.height/2}) scale(${w.scale_x},${w.scale_y}) translate(${-(w.actual_bound.x+w.actual_bound.width/2)},${-(w.actual_bound.y+w.actual_bound.height/2)})`}),{default:vue.withCtx(()=>[vue.createTextVNode(vue.toDisplayString(w.tag_slot),1)]),_:2},1040,["id","onOnChange","transform"]))],16,_hoisted_5)):vue.createCommentVNode("",!0)],8,_hoisted_3)],2)],44,_hoisted_2)),[[vue.vShow,w.display]])),128))],8,_hoisted_1)],4))],32))}}),svgViewer_vue_vue_type_style_index_0_scoped_7cd79a96_lang="",svgViewer=_export_sfc$1(_sfc_main,[["__scopeId","data-v-7cd79a96"]]);exports.SvgEditor=index,exports.SvgViewer=svgViewer,Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"})});
